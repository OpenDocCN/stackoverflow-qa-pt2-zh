# StackOverflow 问答 14850000-14850999

# data-binding - LongListSelector 没有可用项目时的空视图

> ID：14850002
> 
> 赞同：0
> 
> 时间：2013-02-13T09:13:38.647
> 
> 标签：data-binding, windows-phone-8, windows-phone, longlistselector

当我在 WP8 中使用 LongListSelector 时，有什么可以与[Android 列表](http://www.vogella.com/articles/AndroidListView/article.html#listactivity_layout)的空视图相媲美的吗？我的应用程序从互联网加载数据，当最初没有可用数据时，我想向用户显示列表当前为空的消息。

我想避免包含仅在列表为空时可见的其他视图的解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T23:40:24.030

它需要在列表中吗？我主要在列表上方放置一个文本块，并在数据可用/可用时将其隐藏...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:33:13.490

您可以使用数据模板选择器并向 LongListSelector 添加一个显示“无可用数据”或其他内容的文本块。 [http://windowsphonegeek.com/articles/implementing-windows-phone-7-datatemplateselector-and-customdatatemplateselector](http://windowsphonegeek.com/articles/implementing-windows-phone-7-datatemplateselector-and-customdatatemplateselector)

# automata - 将 NFA 转换为 DFA

> ID：14850012
> 
> 赞同：1
> 
> 时间：2013-02-13T09:14:06.177
> 
> 标签：automata, nfa

[![NFA](../Images/d4bcd4d26f75b8a3972fec67bc2450ca.png)](https://i.stack.imgur.com/oXmFf.png)

我无法理解如何转换。

如果 2 得到一个 'a' 的输入，它会因为空字符串而变成 (1,4) 还是 (1,2,4)？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T16:04:05.407

如果 state`Q2`得到 'a' 的输入，则下一个 states 可能是`Q1`, `Q2`, 0r `Q4`。

在您的 NFA 中，您获得最终状态`Q4`

其等效 DFA 如下：

```
 a-  
                 ||
                 ▼|
--►(Q0)---a---►((Q1))---b----►((Qf))  
                 ▲-----a--------| 
```

Where`Q1`和`Q2`是最终状态。

它的正则表达式是： `a` `(a + ba)*` `(b + ε )`

`ε`空符号在哪里（epsilon）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:10:08.287

我们开始通过识别空输入闭包集将 NFA 转换为 DFA（从这里开始，我将用 L-闭包表示空输入闭包）。
L(1)=(1,2) 我们可以在空输入上从 1 访问 2。
L(2)=(2) 没有从 2 出来的空输入边
L(3)=(3) 没有从 3 出来的空输入边
L(4)=(1,2,4) 我们可以从 4 访问 1 和从 1 访问 2。

> 如果 2 得到一个 'a' 的输入，它会因为空字符串而变成 (1,4) 还是 (1,2,4)？

如果 2 获得输入“a”，它将变为 L(1)UL(4)=(1,2,4)。

由于我们的起始节点在 NFA 中是 1，因此在 DFA 中它将是 L(1)，即 (1,2)。

```
T((1,2),a)=L(1)UL(3)UL(4)=(1,2,3,4)  
T((1,2),b)=F  
T((1,2,3,4),a)=L(1)UL(3)UL(4)=(1,2,3,4)  
T((1,2,3,4),b)=L(4)=(1,2,4)  
T((1,2,4),a)=L(1)UL(3)UL(4)=(1,2,3,4)  
T((1,2,4),b)=F 
```

由于 NFA 中 4 是接受节点，因此在 DFA 中包括 4 的节点将是接受节点，即 (1,2,3,4) 和 (1,2,4)。

# jquery - Scale up inner divs height , width according to outer div and decrease the no. of inner divs

> ID：14850013
> 
> 赞同：4
> 
> 时间：2013-02-13T09:14:09.377
> 
> 标签：jquery, html, css

I have three equally divided vertical divs having many divs inside each of the vertical divs as follows.

![When browser is not resized](../Images/5a92571df63277d0e0235479cb8e3574.png)

I want the inner divs to wrap to a 2 column or 1 column grid (depending on browser height width) with each divs height width increasing on browser resize. Presently the divs wrap around but still some extra space is left and I want the inner divs to increase in size with browser size decreasing filling that extra space.

Here is the image when i resize the browser

![after i resize the browser](../Images/93e0cf791ca7df1a2981a72fa0b4e0a9.png)

My HTML is as follows

```
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
body {
    height: 100%;
    font-size: 100%;
}

.main {
    border: 2px solid black;
    position: absolute !important;
    width: 100% !important;
    height: 100% !important;
    left: 0px !important;
    top: 0px !important;
    z-index: 1 !important;
    box-sizing: border-box;
    -moz-box-sizing: border-box;
    overflow: hidden;
}

.verticalReports {
    width: 32%;
    border: 1px solid black;
    height: 100%;
    float: left;
    overflow:hidden;
}

.verticalTiles {
    width: 30%;
    height: 20%;
    background-color: #e0d8ed;
    margin-left: 10px;
    margin-top: 13px;
    float: left;
}
</style>

</head>
<body>
    <div class="main">
        <div class="verticalReports">
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>

        </div>

        <div class="verticalReports">

            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
        </div>

        <div class="verticalReports">
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
            <div class="verticalTiles"></div>
        </div>
    </div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T09:31:53.967

尝试在断点处添加一些媒体查询。

```
@media (max-width: 940px) {
    .verticalTiles {
        width: 45%;
    }
} 
```

[http://jsfiddle.net/ferne97/wh7kD/](http://jsfiddle.net/ferne97/wh7kD/)

可能想研究一些响应式网格，例如[http://responsive.gs/](http://responsive.gs/)或[http://www.gumbyframework.com/docs/grid](http://www.gumbyframework.com/docs/grid)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T09:25:12.097

你不需要javascript。在您的示例中发生的情况是，您有三个 30% 宽的元素，剩余 10 px 边距，当您调整浏览器大小时，三个图块加起来的 30px 小于图块宽度剩余的 10%，它们没有'不适合了，尝试使用边距的相对值，例如 margin-left: 3%

好的，所以根据您的评论，您应该使用以下内容：

```
 function wiwi() {
    var tenpercent = $('.verticalReports').width() / 10;
    if ( tenpercent < 30 ) {
        $('.verticalTiles').css('width','45%');
    }
}
$(document).ready(function() {
    wiwi();
    $(window).resize(function() {
        wiwi();
    });
}); 
```

# ruby-on-rails - Sidekiq can't connect to redis in rails

> ID：14850024
> 
> 赞同：6
> 
> 时间：2013-02-13T09:14:33.737
> 
> 标签：ruby-on-rails, redis, sidekiq

I have my redis server installed and running, but when I connect sidekiq using `bundle exec sidekiq` it throws an error message

> Timed out connecting to Redis on localhost:6379

Redis Server is running on port: 6379.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T15:38:30.513

为什么要使用 bundle exec sidekiq？

尝试使用“redis-cli -h localhost”连接

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-30T14:24:50.657

因为问题是我的 redis 生产 url 不正确。

我的解决方法是：

1.  打开`$ sudo nano gitlab/htdocs/config/resque.yml`
2.  更改`production: redis://some-wrong-url:6379`为`production: redis://localhost:6379`
3.  重新启动了我的 Bitnami 堆栈`$ sudo /opt/bitnami/ctlscript.sh restart`

我首先从@henley left 的答案中验证了我的redis url。

*注意我使用的是 Bitnami 堆栈

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-05T01:05:37.270

我认为这意味着你的 redis 服务器没有运行。尝试`sudo /etc/init.d/redis-server start`在您的终端上运行，同时确保 redis 有权写入 /var/log/redis.log，否则它将无法启动。

# python - 从python中的列表创建一个元组列表

> ID：14850025
> 
> 赞同：0
> 
> 时间：2013-02-13T09:14:34.400
> 
> 标签：python, list, beautifulsoup, tuples, urllib2

我`urllib2`在python中使用模块从一些url中的锚标签中获取某种信息`http://www.google.co.in/`，下面是代码

```
import urllib2
import urlparse
from BeautifulSoup import BeautifulSoup

url = "http://www.google.co.in/"
page = urllib2.urlopen(url)
html = page.read()
page.close()
soup = BeautifulSoup(html)
for tag in soup.findAll('a', href=True):
   text = tag.text 
   tag['href'] = urlparse.urljoin(url, tag['href'])
   print '       '.join([text,tag['href']]) 
```

**结果：**

```
Web History       http://www.google.co.in/history/optout?hl=en
Settings       http://www.google.co.in/preferences?hl=en
Sign in       https://accounts.google.com/ServiceLogin?hl=en&continue=http://www.google.co.in/
Advanced search       http://www.google.co.in/advanced_search?hl=en-IN&authuser=0
Language tools       http://www.google.co.in/language_tools?hl=en-IN&authuser=0
....................... 
```

现在很好，但我想将信息存储为元组列表，如下所示

```
[('Web History','http://www.google.co.in/history/optout?hl=en'),('Settings','http://www.google.co.in/preferences?hl=en'),('Sign in','https://accounts.google.com/ServiceLogin?hl=en&continue=http://www.google.co.in/')................] 
```

那么任何人都可以让我知道我们如何格式化来自for循环的数据，如上面的元组列表

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T09:17:47.533

尝试这样的事情：

```
[(tag.text, urlparse.urljoin(url, tag['href'])) 
        for tag in soup.findAll('a', href=True)] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:26:52.877

您可以尝试创建一个哈希并`items()`从中提取元组，这只是一个 hack：

```
def __init__(self, *args, **kwargs):
    super(IndicatorForm, self).__init__(*args, **kwargs)
    d = dir(indicators)
    b = {}
    for a in d:
        b[a] = a
    b = b.items()
    b.sort()
    self.fields["choice"].choices = b 
```

这里 dir(indicators) 是一个数组。

# php - Add Facebook login to existing login syste

> ID：14850026
> 
> 赞同：0
> 
> 时间：2013-02-13T09:14:39.653
> 
> 标签：php, facebook, login, sdk

I have problem! Im trying add Facebook login on my website but some stuff in my script is encoded. Problem is that in facebook login for detect user is logged in or not use this code:

```
if ($user)
 {
   /* Some code for logged in user
 } 
```

And on myy website I using this code:

```
if(User::isLoggedIn())
 {
   /* some code
 } 
```

My question is how can I change this to dont need change every file where is User::isLoggedIn()

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:19:13.850

进入您的 User 类，isLoggedIn 方法，添加

```
public function isLoggedIn() {
    global $user
    return $user;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:19:52.987

我所做的是将用户 Facebook 帐户与用户登录帐户链接，在我的数据库用户表中添加一个字段，然后，当用户通过 Facebook 登录时，我检查他的 ID 是否与我的数据库中的用户帐户相关联。

如果是这样，我会在激活登录的情况下初始化用户类。

# iphone - How to show video ads on iphone?

> ID：14850034
> 
> 赞同：3
> 
> 时间：2013-02-13T09:15:03.027
> 
> 标签：iphone, ios

I have tried Flurry ads but i am not able to see any video ads (its a static image). I have followed this **[http://support.flurry.com/index.php?title=Publisher/Code](http://support.flurry.com/index.php?title=Publisher/Code)** Are there any other frameworks that help me to achieve this ?

# c# - 在 C# 代码中组织数据库更改跟踪的方法

> ID：14850039
> 
> 赞同：2
> 
> 时间：2013-02-13T09:15:22.787
> 
> 标签：c#, database, architecture

我正在开发电子商务系统，目前我在做产品类，它作为许多实体的容器，例如照片、产品参数（名称值集合）等。我知道这里的所有内容都应该存储在数据库中（毫秒 sql）。

所以这样的用例会很受欢迎：1）客户打开一些产品进行编辑 2）客户添加几张新照片 3）客户更改产品的一些参数 4）客户点击保存按钮。

所以问题是跟踪所做更改的最佳方法是什么？我可以通过比较要保存的类中的数据和刚从数据库加载的同一个类来在存储库类中计算它们，但这似乎有点难看。

我也认为用这个跟踪代码污染 Product 类不是一个好主意。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T09:21:56.453

使用 Entity Framework 进行更改跟踪。[http://blogs.msdn.com/b/adonet/archive/2009/06/10/poco-in-the-entity-framework-part-3-change-tracking-with-poco.aspx](http://blogs.msdn.com/b/adonet/archive/2009/06/10/poco-in-the-entity-framework-part-3-change-tracking-with-poco.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T09:24:10.000

您描述[UnitOfWork 模式EntitiFramework (](http://martinfowler.com/eaaCatalog/unitOfWork.html) [example](http://blogs.msdn.com/b/adonet/archive/2009/06/16/using-repository-and-unit-of-work-patterns-with-entity-framework-4-0.aspx) ) 和 NHibernate ( [example](http://nhforge.org/wikis/patternsandpractices/nhibernate-and-the-unit-of-work-pattern.aspx)
) 已经存在此模式的实现。

# postgresql - 我不能用普通的 psql 去 Postgres

> ID：14850043
> 
> 赞同：0
> 
> 时间：2013-02-13T09:15:39.797
> 
> 标签：postgresql, ubuntu-12.04, postgresql-9.2, postgresql-8.4

`sudo -u postgres psql`为了登录 Postgres 控制台，我总是必须给出类似的命令。我需要做什么才能登录到 postgres 之类的`sudo psql`或`psql`

我正在使用的环境是 Ubuntu Linux 12.04

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T13:29:38.333

安装后，只有`postgres`用户可以对数据库服务器进行任何操作，这是正常的。安装程序不能假设我们想要向其他任何人开放访问权限。

为了让自己作为临时用户访问，假设您的登录名是`joe`（您的普通非特权用户），您只需要创建一个相应的用户和数据库：

在 psql 中作为 postgres 管理员（带有`sudo -u postgres psql`），发出：

```
 CREATE USER joe;
 CREATE DATABASE joe OWNER joe; 
```

之后，`psql`在 shell 提示符下发出时，默认情况下它将使用您的用户名连接到您自己的数据库。`postgres`在您需要发出其他管理员命令之前，您不再需要 sudo to 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:17:26.153

将

> psql -U psql

为你工作？

编辑：

我虽然你会介意`sudo`。

如果您的问题是打字`-U <user>`，您也可以设置环境变量`PGUSER`。这也可以在您的 shell 的登录脚本中完成，以便始终设置它。

其他感兴趣的环境变量可能是`PGDATABASE`, `PGHOST`, `PGPORT`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T12:39:36.120

您的 psql 在 /usr/bin/psql 中。除非您的权限错误，或者您的链接错误，否则您不需要使用 sudo。（在更高版本的 PostgreSQL 中，/usr/bin/psql 是可执行文件的符号链接。我不知道在 8.4 中是否如此。在我的家用计算机上，它链接到 /usr/share/postgresql-common/pg_wrapper .)

psql 的完整框架语法是

```
psql -U username -h hostname -p portnumber database_name 
```

因此，例如，当我连接到我的临时数据库（名为“沙盒”）时，我会这样做。

```
$ psql -U postgres -h localhost -p 5432 sandbox 
```

你会代替

*   您的*数据库*用户名（必须已经存在，并且不一定与您的网络/计算机用户名相同），
*   您的主机名（但“localhost”可能适合本地安装的 PostgreSQL），
*   PostgreSQL 正在侦听的端口（但 5432 可能是正确的；它是默认值），并且
*   您的数据库名称。

# c# - 将 Tap 分配给网格

> ID：14850047
> 
> 赞同：3
> 
> 时间：2013-02-13T09:15:50.670
> 
> 标签：c#, silverlight, windows-phone-7

我尝试为我的网格添加一个水龙头处理程序：

```
<Grid x:Name="LayoutRoot" Background="#FF1F1F1F" Tap="OnTap">........</Grid> 
```

`InitializeComponent();`我得到了这个：

```
A first chance exception of type 'System.Windows.Markup.XamlParseException' occurred in System.Windows.ni.dll

Failed to assign to property 'System.Windows.UIElement.Tap'. [Line: 14 Position: 58]

    {System.Windows.Markup.XamlParseException: Failed to assign to property 'System.Windows.UIElement.Tap'. [Line: 14 Position: 58]
   at System.Windows.Application.LoadComponent(Object component, Uri resourceLocator)
   at *.NowPlayingPageControl.InitializeComponent()
   at *.NowPlayingPageControl..ctor()} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-07-27T08:00:00.177

我有同样的问题，我在引发 XamlParseException 的 XAMl 页面中做了什么我检查了所有的点击事件，在一个 Tap 事件处理程序中我发现它没有导航到后面的代码。

休息还可以。所以我检查了后面的代码，发现引用.dll有歧义。

`GestureEventsArgs`在以下参考文献中存在歧义。

`System.Windows.Input.GestureEventArgs`和 `Microsoft.Phone.Controls.GestureEventArgs`

所以我替换`Microsoft.Phone.Controls.GestureEventArgs`为`System.Windows.Input.GestureEventArgs`

现在它工作正常。我想在这里指出的一件事是在我安装 Toolkit dll 之后发生了这种情况，否则我的代码在那之前工作正常。正如@haxor 已经指出的那样。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-01T21:57:04.870

您的 Tap 方法在代码隐藏文件中的签名是什么？当我遇到这个问题时，我会执行以下操作：

*   进入 XAML 的设计器
*   找到定义了 Tap 动作的对象
*   删除包含 Tap 方法名称的文本
*   保存文件
*   双击该字段，以便设计器创建一个新的 Tap 方法
*   将新存根方法的签名与我的旧方法进行比较
*   如果有差异，在原来的方法中修复它，并删除新的方法

在几乎所有情况下，我都在方法签名的事件参数部分搞砸了一些东西（最近是因为安装了 Toolkit）。

# c# - IIS not recognizing filechanges

> ID：14850049
> 
> 赞同：1
> 
> 时间：2013-02-13T09:16:17.917
> 
> 标签：c#, asp.net-mvc, iis, asp.net-web-api

I have a IIS running on my webserver. I developed a rest api based on a mvc 4 web api. the problem i have at the moment is that when I put new / changed files onto the IIS that the IIS is not "recognizing" them.

lets say for example i changed one service - put the new file on the server - server thinks he still has the old file. I observer this behaviour because when i call the service i still get the old result - not the new result as implemented in visual studio locally. I have no clue why the IIS is acting like that...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T11:30:22.983

正如 leppie 在评论中已经提到的，我对 ASP.NET 网站和 ASP.NET Web 应用程序有错误的理解。

作为一种解决方案，我必须重新构建以再次编译 DLL，然后将其部署到 IIS。

# ios - Unit testing on device issue

> ID：14850056
> 
> 赞同：0
> 
> 时间：2013-02-13T09:16:40.607
> 
> 标签：ios, objective-c, unit-testing

From below link I found steps to perform unit testing,

[About Unit testing doc](http://developer.apple.com/library/mac/#documentation/developertools/Conceptual/UnitTesting/00-About_Unit_Testing/about.html),
I can check testcases on simulator but can't run it on iOS device, there is one note like "Logic tests run only in simulators." but I have set Application tests.

Please help me with this.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:56:20.987

*   它有效，目标中有问题，所以我解决了它。在我的设备上，操作系统是 5，单元测试目标是 6。所以将它设置为 5。它现在可以工作了。

# css - CSS3PIE 在 IE 中不起作用

> ID：14850058
> 
> 赞同：0
> 
> 时间：2013-02-12T02:58:42.110
> 
> 标签：css, drupal

我的库目录中有一个 PIE 文件夹，我的模块目录中有一个 css3pie 模块文件夹。

我的 layout.css 中有以下 css：

```
#block-block-1, #block-block-7, #triptych, #block-block-8 {     
    border: 1px solid #EEEEEE;
    padding: 10px 20px;    
    -webkit-border-radius: 8px;
    -moz-border-radius: 8px;
    border-radius: 8px;
    -webkit-box-shadow: #666 0px 2px 3px;
    -moz-box-shadow: #666 0px 2px 3px;
    box-shadow: #666 0px 2px 3px;
    background: #EEEEEE;
    background: -webkit-gradient(linear, 0 0, 0 bottom, from(#EEEEEE), to(#FFFFFF));
    background: -webkit-linear-gradient(#EEEEEE, #FFFFFF);
    background: -moz-linear-gradient(#EEEEEE, #FFFFFF);
    background: -ms-linear-gradient(#EEEEEE, #FFFFFF);
    background: -o-linear-gradient(#EEEEEE, #FFFFFF);
    background: linear-gradient(#EEEEEE, #FFFFFF);
    -pie-background: linear-gradient(#EEEEEE, #FFFFFF);
    behavior: url(/../libraries/pie/PIE.htc);
} 
```

我已启用该模块并选择了以下选项：使用主题设置使用主题信息文件中的选择器设置。

圆角在 IE 中不起作用，但在 Firefox 中起作用。我错过了什么？

[这个站点](http://docs.composite.net/)使用 css3pie，它应该可以工作，但对我来说，在 IE8 上，角落不是圆角的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T09:57:36.293

尝试`position: relative`在您的 CSS 语句中添加一条。我遇到过几次这个问题，通常可以通过这样做来解决。更多信息请访问：[http](http://css3pie.com/documentation/known-issues/) ://css3pie.com/documentation/known-issues/ 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:27:00.020

也许尝试删除行为行中的第一个正斜杠，看看是否有帮助。

# android - 适用于 Android 2.3.6 的 Android 小部件垂直滚动

> ID：14850060
> 
> 赞同：1
> 
> 时间：2013-02-13T09:16:59.570
> 
> 标签：android, android-widget, vertical-scrolling

我试图弄清楚如何为 Android 小部件启用垂直滚动。
根据我在[文档](http://developer.android.com/guide/topics/appwidgets/index.html#collections)和[这篇文章](https://stackoverflow.com/questions/4243161/problem-with-using-scrollview-in-a-homepage-widget)中阅读的内容 ，只能从 Android 3.0 及更高版本中执行此操作。
但是，我看到一部 Android 版本为 2.3.6 的手机 (Motorola Razr) 有一个带有垂直滚动的 Gmail 小部件。
所以我不明白这是否可能？如果可能，如何实施？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T21:28:36.487

如果你在谈论小部件？扩展widget.View，您可以随时构建自己的垂直滚动视图。

这涉及解析 onTouchEvent（可能还有 onDispatchTouchEvent）和大量数学运算。

我自己在工作中做的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T21:25:04.060

制造商通常从自定义版本的 AOSP 构建 Android。由于 Android 2.3.x 的整个源代码都可用，摩托罗拉很可能只是通过修改自己设备的源代码来添加对滚动小部件的支持（可能使用与 AOSP 3.0 相同的技术）。如果确实如此，则需要更改底层操作系统，因此如果您使用 SDK 构建小部件，您可能无法使用。

# java - bindView() 中的 ListView.setItemChecked() 带走了我刚刚单击的 EditText 的焦点

> ID：14850062
> 
> 赞同：1
> 
> 时间：2013-02-13T09:17:09.823
> 
> 标签：java, android, listview, android-edittext, android-cursoradapter

我在列表视图项中有一个 Edittext 和一个 CheckedTextView（布局实现了 Checkable）。当我单击 EditText 时，CursorAdapter 的 bindView() 方法调用 ListView.setItemChecked()（我这样做是为了恢复在清除过滤器后可能必须恢复的 CheckMark）。但是， ListView.setItemChecked() 似乎立即从我刚刚单击的 EditText 中带走了焦点（或这里发生的其他事情？），所以现在我不能再使用 EditText 了。

我有没有办法在 bindView() 中调用 ListView.setItemChecked() 而没有这种副作用？我已经尝试在 adapter.getFilter().filter() （在 bindView() 之外）之后调用 ListView.setItemChecked() 但在这种情况下似乎新项目列表尚不可用，因为过滤是在后台完成的线。

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:05:48.740

找到答案：像这样使用 FilterListener 类

adapter.getFilter().filter("", new FilterListener() {

```
 @Override
  public void onFilterComplete(int count) {
    for (int i = 0; i < adapter.getCount(); i++) {
      if (selected.contains((int) adapter.getItemId(i)))
        listView.setItemChecked(i, true);
    }
  }
}); 
```

编辑：严格来说这不是一个答案，因为我仍然不知道为什么 setItemChecked 不能在 bindView() 中使用而不与 edittext 交互

# java - 将类型化数组从 Android 移植到 iPhone 应用程序

> ID：14850065
> 
> 赞同：1
> 
> 时间：2013-02-13T09:17:18.607
> 
> 标签：java, android, iphone, objective-c

我必须将我的 Android 应用程序移植到 iPhone，我想知道有什么替代方案（如果有的话）来移植类型化数组。

主要问题是可读性，没有太多的类型强制 - 因为已经有答案了。`NSMutableArray *`然而，与简单或`NSMutableDictionary`声明相比，它们相当“麻烦” 。

所以基本上如果我在Java中有这样的东西：

```
initAllCustomers(List<Countries> allCountries, List<Nationalities> allNationalities, Hashtable<Integer, Job> allJobPossibilities) 
```

看起来像这样：

```
- (id)initAllCustomers: (NSMutableArray *) allCountries allNationalities: (NSMutableArray *) allNationalities allJobPossibilities: (NSMutableDictionary *)allJobPossibilities; 
```

现在查看 iPhone 代码，您不知道数组或字典中的元素 - 这使得代码的可读性大大降低。（不幸的是，更多的文字信息更少）

有什么方法可以在不引入大量（打字和执行速度）开销的情况下解决这个问题？因为我有很多像这样的不同的大型结构。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:39:09.177

iOS 代码对您来说可能不太可读，因为您来自 Android 背景。如果你多年来一直在看这样的代码行，那是完全正常的。在另一个座位上，我查看 Java 代码发现在这种情况下它非常冗长。

如果要移植到 iOS，在这种情况下有两种选择：

1.  移植到 iOS
2.  不要移植到 iOS

选项 1 的意思是，使用本机 Cocoa 框架，例如您尝试过 NSMutableArray （顺便说一下，在您的示例中应该可能是 NSArray ）。

选项 2 的意思是，使用 C++ 和 C。STL 允许您使用类型变量，因为您认为这很重要。

此外，这段代码让我对你在这里初始化的内容感到紧张。它是某种数据库吗？您可能想查看 CoreData。

# android - 长按android webview中的链接时如何打开上下文菜单？

> ID：14850068
> 
> 赞同：1
> 
> 时间：2013-02-13T09:17:27.417
> 
> 标签：android, webview, android-contextmenu

我想使用 webview 在 android 中实现一个浏览器。每当用户长按 webview 中的链接时，如何在 android webview 中打开上下文菜单？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:19:52.787

来电。`Activity.openContextMenu(View v)`_ `onLongPress`这将意味着`MyWebView`保留对 Activity 的引用。

# c - 不允许指向不完整类类型的指针？

> ID：14850069
> 
> 赞同：0
> 
> 时间：2013-02-13T09:17:27.807
> 
> 标签：c, linked-list

我是 C 新手，正在使用 Visual Studio。在编写此函数时，我收到此错误（不允许使用指向不完整类类型的指针）。我不知道为什么。

```
int Length(struct node* head) 
{
  struct node* current = head;
  int count = 0;
  while (current != NULL) 
   {
     count++;
     current = current->next;  <-- error here when pointing current to next
   }
  return count;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T09:26:30.990

`->`运算符取消引用其左侧的表达式。所以此时必须知道这个对象的具体布局。当编译器看不到该结构的定义时，该`struct node* current=head`行声明了一个指向该结构的指针（该结构可以是不透明的）。要使此代码正常工作，您需要将 struct node 的定义包含到使用该结构的编译单元（=C mumble for file）中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:27:08.290

您的编译器的错误听起来不正确。不允许访问不完整类型的内部属性，因为它需要了解其内部结构。`current->next`试图从指向不完整类型的指针中获取内部数据。如果你想这样做，你需要`struct node`在同一个`.c`文件或包含的`.h`文件（头文件）中包含你的完整类型定义。

# c++ - 混合原生 C++ 和 C++/CLI

> ID：14850073
> 
> 赞同：0
> 
> 时间：2013-02-13T09:17:59.060
> 
> 标签：c++, .net, visual-studio, mfc, c++-cli

我有一个由本机 C++ DLL 和 C++/CLI 包装器组成的解决方案。我的目标是在原生 C++ DLL 的 C++/CLI 中创建一个包装器。

每当我尝试在包装器中创建本机 C++ 类的实例时，都会遇到许多链接器错误（见下文）。

```
2>  .NETFramework,Version=v4.0.AssemblyAttributes.cpp
2>NFileOperation.obj : error LNK2028: unresolved token (0A000208) "public: static bool __cdecl CFileOperation::FileExists(class ATL::CStringT<wchar_t,class ATL::StrTraitATL<wchar_t,class ATL::ChTraitsCRT<wchar_t> > > const &)" (?FileExists@CFileOperation@@$$FSA_NABV?$CStringT@_WV?$StrTraitATL@_WV?$ChTraitsCRT@_W@ATL@@@ATL@@@ATL@@@Z) referenced in function "[T2M] void __clrcall `dynamic initializer for 'public: static float * tagVARIANT::* ATL::CVarTypeInfo<float *>::pmField''(void)" (__t2m@???__E?pmField@?$CVarTypeInfo@PAM@ATL@@2QQtagVARIANT@@PAMQ3@@@YMXXZ@?A0x22b777aa@@YMXXZ)
2>DeskUpdateManaged.obj : error LNK2028: unresolved token (0A00021C) "public: static bool __cdecl CFileOperation::FileExists(class ATL::CStringT<wchar_t,class ATL::StrTraitATL<wchar_t,class ATL::ChTraitsCRT<wchar_t> > > const &)" (?FileExists@CFileOperation@@$$FSA_NABV?$CStringT@_WV?$StrTraitATL@_WV?$ChTraitsCRT@_W@ATL@@@ATL@@@ATL@@@Z) referenced in function "public: bool __clrcall DeskUpdateManaged::Conversion::FileExist(class System::String ^)" (?FileExist@Conversion@DeskUpdateManaged@@$$FQ$AAM_NP$AAVString@System@@@Z)
2>DeskUpdateManaged.obj : error LNK2019: unresolved external symbol "public: static bool __cdecl CFileOperation::FileExists(class ATL::CStringT<wchar_t,class ATL::StrTraitATL<wchar_t,class ATL::ChTraitsCRT<wchar_t> > > const &)" (?FileExists@CFileOperation@@$$FSA_NABV?$CStringT@_WV?$StrTraitATL@_WV?$ChTraitsCRT@_W@ATL@@@ATL@@@ATL@@@Z) referenced in function "public: bool __clrcall DeskUpdateManaged::Conversion::FileExist(class System::String ^)" (?FileExist@Conversion@DeskUpdateManaged@@$$FQ$AAM_NP$AAVString@System@@@Z)
2>NFileOperation.obj : error LNK2001: unresolved external symbol "public: static bool __cdecl CFileOperation::FileExists(class ATL::CStringT<wchar_t,class ATL::StrTraitATL<wchar_t,class ATL::ChTraitsCRT<wchar_t> > > const &)" (?FileExists@CFileOperation@@$$FSA_NABV?$CStringT@_WV?$StrTraitATL@_WV?$ChTraitsCRT@_W@ATL@@@ATL@@@ATL@@@Z)
2>C:\Users\ABGZAMANK\Music\DeskUpdate\Dev\Source\Solution\Debug\DeskUpdateManaged.dll : fatal error LNK1120: 3 unresolved externals 
```

C++/CLI 中对本机 C++ DLL 的函数调用：

```
bool NFileOperation::FileExists(CAtlString sPathName)
{
    return CFileOperation::FileExists(sPathName);
} 
```

有没有更合适的方法来实现我想要实现的目标？非常感谢与该问题相关的任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:05:21.623

您的本机 C++ 代码似乎正在使用 ATL/MFC。假设你在VS下编译，进入C++/CLI项目的项目属性->配置属性->常规，选择“使用MFC”和“使用ATL”为静态库或共享dll（取决于你的项目类型）。此标志会将必要的包含路径、链接路径和库添加到您的项目中，以在您的项目中使用 ATL/MFC 类型。此外，请确保将 C++/CLI 项目与本机 C++ 项目链接，以避免项目中的链接错误（很容易在 General 和 Input 的项目属性的 Linker 部分中找到）。

# c++ - 尝试使用 win32 INPUT 结构作为成员变量时出错

> ID：14850074
> 
> 赞同：1
> 
> 时间：2013-02-13T09:18:02.063
> 
> 标签：c++, winapi

我正在编写一个生成模拟用户输入的程序，并创建了一个类来执行此操作。当我尝试使用 gcc 在 code::blocks 中构建它时，它会抛出一个错误，提示“错误：'INPUT'没有命名类型”。有人可以解释为什么我会收到此错误。下面是发生错误的头文件

```
#ifndef INPUTSIMULATOR_H
#define INPUTSIMULATOR_H
#ifndef _WIN32_WINNT
#define _WIN32_WINNT 0x0501
#endif
#include <Winuser.h>

enum type{KEYBOARD,MOUSE};
enum button{LEFT,RIGHT,MIDDLE};
class inputSimulator
{
public:
    inputSimulator(type _inputType);
    virtual ~inputSimulator();
    int generateKeyEvent (int vk);
    int generateMouseButtonDown(button eventType);
    int generateMouseButtonUp(button eventType);
    int generateMouseMovement(int dy, int dx);
protected:
private:
    INPUT input; //error occurs here
    type inputType;
};

#endif 
```

编辑：我发现了相同问题的另一个实例，但没有解决方案。[https://stackoverflow.com/questions/7222529/input-structure-in-simulating-actions-in-winapi](https://stackoverflow.com/questions/7222529/input-structure-in-simulating-actions-in-winapi)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T06:52:07.000

我无法重现此问题。当我包含时`windows.h`（顺便说一句，您应该始终直接包含，而不是`winuser.h`or `wingdi.h`），`INPUT`结构被正确声明和定义，就像它应该的那样。

您的 Windows 标头有问题。同样的事情显然也发生在另一个人身上。您可能都在使用 Code::Blocks 或提供自己重新实现 Windows 标头的东西。他们要么忽略`INPUT`结构的定义，要么无意中隐藏它。

我建议直接从 Microsoft 下载并安装[最新版本的 Windows SDK](http://msdn.microsoft.com/en-us/windows/desktop/hh852363.aspx)或[Windows 7 SDK](http://www.microsoft.com/en-us/download/details.aspx?id=8279)。这应该可以解决您的问题，除非`INPUT`您自己的项目中发生结构的隐藏。确保您没有在命令行上定义具有相同名称的预处理器宏（或通过 IDE 的选项来执行相同操作）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T06:40:18.267

为什么要重新发明轮子？使用[Autoit](http://www.autoitscript.com/site/autoit/)自动化用户输入。

您还可以使用他们的 C++ COM 库来帮助您轻松模拟用户交互。

# java - Sax 解析器未完全读取一行

> ID：14850076
> 
> 赞同：1
> 
> 时间：2013-02-13T09:18:06.423
> 
> 标签：java, xml, sax, string-parsing

我正在尝试解析一个 simil [-InkML](http://www.w3.org/TR/InkML)文档。每个内容的节点都有更多的元组（用逗号分隔），有 6 个或 7 个数字（负数和小数）。

在测试中，我看到 SAX 的方法*特征*并没有记住所有数据。

编码：

```
 public class PenParser extends DefaultHandler {

   //code useless

public void characters(char ch[], int start, int length) throws SAXException {
//begin my debug print
        StringBuilder  buffer=new StringBuilder ();
        for(int i=start;i<length;i++){
            buffer.append(ch[i]);
        }
        System.out.println(">"+buffer);
//end my debug print 
```

在调试中，我看到*缓冲区*不包含所有感兴趣的标签，但它只包含标签内容的前 107 个（或多或少）*字符*（我的行不再是 4610 字符）：这很奇怪在我看来，这个由*StringBuffer*和*SAX*解析截取的*字符。*

 **我也使用过 StringBuilder 但问题仍然存在。

有什么建议吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-13T09:23:55.547

是的 - 这很明显。解析一个节点时，可能会多次调用字符。

您必须使用`StringBuilder`as 成员，将内容附加到字符中并处理`endElement`.

**已编辑**

顺便提一句。您不需要逐个字符地构建缓冲区 - 这是我的字符实现（我总是使用）

```
 @Override
    public void characters(char[] ch, int start, int length) throws SAXException
    {
        characters.append(new String(ch,start,length));
    } 
```

......不要忘记......

```
 @Override
    public void endElement(String uri, String localName, String qName)
            throws SAXException 
    {
                    final String content = characters.toString().trim();
                    // .... deal with content
                    // reset characters
        characters.setLength(0);
    }

 private final StringBuilder characters = new StringBuilder(64); 
```**

# magento - 如何仅从一个 cms 页面中删除“添加到购物车”按钮？

> ID：14850080
> 
> 赞同：3
> 
> 时间：2013-02-13T09:18:19.327
> 
> 标签：magento, magento-1.7

我创建了一个带有自定义 CMS 页面的网络商店，该页面也具有自定义布局。此页面将显示商店的所有产品。

在该 CMS 页面**上显示所有产品，**但

**我想从产品中删除“添加到购物车”按钮、“添加到愿望清单”链接和“添加到比较”链接**

我只想从该特定 CMS 页面中删除这些链接。

我试过

```
<remove name="" /> 
```

在该 CMS 页面的布局更新 XML 中，但我无法获取要删除的特定名称，并且在搜索时我尝试了所有可能的名称，但没有成功。

有什么建议么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T13:01:15.700

如果您使用了自定义布局并且在该页面上显示所有产品，那么您必须使用块类型来显示该页面内容中的所有产品。

就像是

```
{{block type="catalog/product_list_random" name="product" template="catalog/product/list.phtml"}} 
```

只需创建一个新文件并将其保存在保存 list.phtml 的同一位置（显然用不同的名称说 new.phtml

把那个 new.phtml 而不是 list.phtml

并从 new.phtml 中删除您不想在该页面上显示的任何内容

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:46:30.087

您只能使用这样的布局更新删除整个**块**，但这些链接和按钮不是单独的块，而是在`Mage_Catalog_Block_Product_List`块内呈现。你必须用你自己的替换这个块的模板：

1.  复制`/app/design/frontend/base/default/template/catalog/product/list.phtml`到`/app/design/frontend/YOUR/THEME/template/WHATEVER/catalog/product/list.phtml`（使用您的主题目录和模板下引用您的 CMS 页面的目录名称）
2.  编辑此副本并删除链接和按钮
3.  在 CMS 页面的布局更新句柄中，添加：

**XML:**

```
<reference name="product_list">
    <action method="setTemplate" template="WHATEVER/catalog/product/list.phtml" />
</reference> 
```

（假设调用了产品列表块`product_list`）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-07T07:27:42.543

然后，根据您要删除的内容，您可以在“默认”标签之间放置以下几行：

```
<remove name="cart_sidebar" />  "  

<remove name="catalog.compare.sidebar" />  " 
```

[http://www.hostknox.com/tutorials/magento/remove-default-blocks/manual-removal](http://www.hostknox.com/tutorials/magento/remove-default-blocks/manual-removal)

# php - 如何在 Yii 中将日期设置为 NULL？

> ID：14850081
> 
> 赞同：16
> 
> 时间：2013-02-13T09:18:29.157
> 
> 标签：php, mysql, validation, datetime, yii

我有一个日期列，通常将值作为`dd.MM.yyyy`. 它在模型中的验证规则`rules()`是这样的：

```
array('start, end', 'date', 'format' => 'dd.MM.yyyy'), 
```

我正在从 CSV 文件填充数据库，如果 CSV 记录为空，我希望能够将日期设置为`NULL`（即什么都没有）。所以，我在做：

```
if (empty($csv_data)) {
  $user->start = new CDbExpression('NULL');
} else {
  $user->start = $csv_data;
} 
```

但我收到日期格式无效的错误。这是为什么？

[`CDateValidator`文档](http://www.yiiframework.com/doc/api/1.1/CDateValidator)说该属性`allowEmpty`默认为 true，因此它应该能够将其设置为`NULL`，对吗？请注意，如果我只是将`""`字符串赋值给日期，它会将其转换为`0000-00-00 00:00:00`时间戳，而不是`NULL`.

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-02-13T11:08:11.023

在模型中`rules()`：

```
array('start, end', 'date', 'format' => 'dd.MM.yyyy'),
array('start, end', 'default', 'setOnEmpty' => true, 'value' => null), 
```

还，

```
if (empty($csv_data)) {
  $user->start = null;
} ... 
```

也应该这样做。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-13T09:28:20.257

对此的微不足道的解决方法是在创建过程中*根本不设置值：*

```
if (!empty($csv_data)) {
  $user->start = $csv_data;
} 
```

这样，日期将不会被设置，因此显示为空，这也通过了验证。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-13T09:52:53.547

将 a 分配`CDbExpression`给该字段将（并且应该）永远不会通过验证；验证器允许`null`，但绝对不能允许任意`CDbExpression`作为字段的值；这应该不足为奇。

如果您想写入`null`数据库，那么只需使用`$user->start = null`-- 完全没有理由`CDbExpression`在这里涉及。

*如果您确实*需要使用，您可以使用的另一种方法`CDbExpression`是告诉[`save`](http://www.yiiframework.com/doc/api/1.1/CActiveRecord#save-detail)不要验证记录并手动进行，如下所示：

```
$attributes = $user->attributeNames();
if (empty($csv_data)) {
    $user->start = new CDbExpression('NULL');
    $attributes = array_diff($attributes, array('start')); // don't validate this
} else {
    $user->start = $csv_data;
}

if ($user->validate($attributes)) { // validate only attributes we want here
    $user->save(false); // no validation at all here
} 
```

# c# - 气球工具提示正在使应用程序崩溃

> ID：14850088
> 
> 赞同：1
> 
> 时间：2013-02-13T09:18:59.090
> 
> 标签：c#

一旦弹出气球工具提示，应用程序就会崩溃。仅当应用程序在 Windows 8 PC 中运行时才会观察到这种情况。

这是我们正在调用的代码

```
public void BalloonInfo(Control aControl, string aText, BalloonAlignment aAlignment, int aDuration)
        {
            lock (this)
            {
                if (m_mb.IsVisible) return;
                //HideHint();
                m_mb = new MessageBalloon();
                m_mb.Parent = aControl;
                m_mb.Title = "Information";
                m_mb.TitleIcon = TooltipIcon.Info;
                m_mb.Text = aText;
                m_mb.Align = aAlignment;
                m_mb.CenterStem = false;
                m_mb.UseAbsolutePositioning = false;
                m_mb.Show();
                EnableTimer(true, aDuration);
            }
        } 
```

是否存在 WIN 32 处理程序不适用于 Windows8 的任何关系。

# multithreading - Qt MainWindow 没有更新

> ID：14850094
> 
> 赞同：1
> 
> 时间：2013-02-13T09:19:20.700
> 
> 标签：multithreading, qt, signals-slots, redraw

我正在使用 Qt 生成一个窗口。此外，我使用 libnfc 来访问 nfc 阅读器，到目前为止一切顺利。在我自己编写的 nfc 类中，我生成了一个新线程，该线程正在轮询阅读器上的新标签。如果有新标签，线程将为 MainWindow 启动一个信号事件。在主窗口中，我只有一个 QWebView，它将以不同的状态显示不同的网站（启动后，新标签，标签删除），只是一些基本的东西。

我现在的问题是：主窗口（或 QWebView）没有更新。如果我切换到另一个程序并返回我的应用程序，窗口将被更新。我已经在用谷歌搜索并尝试不同的东西，但没有任何帮助。

这里是线程代码：

```
class NFC_Thread : public QThread
{
    Q_OBJECT
public:
    NFC_Thread(NFC_Reader * Reader);
    void run();

signals:
    void NewTarget(nfc_target Target);
    void TargetRemoved(nfc_target Target);

private:
    int mError;
    bool mStopPolling;
};

void NFC_Thread::run()
{
    mError = 0;
    mStopPolling = false;
    while(!mStopPolling)
    {
        nfc_target Target;
        mError = nfc_initiator_poll_target(mReader->GetDevice(), nmModulations, szModulations, mPollNr, mPollPeriod, &Target);
        if(mError > 0)
        {
            cout << "NFC: found target" << endl;
        }
#warning Bug in driver: Timeout generate a NFC_EIO Error, 'https://code.google.com/p/libnfc/issues/detail?id=224'
        else if(mError > 0)
        {
            cout << "NFC: Error" << endl;
            mStopPolling = true;
        }
        else
        {
            cout << "NFC: no target found" << endl;
        }
    }
} 
```

主窗口代码：

```
class MainWindow : public QMainWindow
{
    Q_OBJECT

public:
    explicit MainWindow(QWidget *parent = 0);
    ~MainWindow();

public slots:
     void SetNewTarget(nfc_target Target);
     void doTargetRemoved(nfc_target Target);

private:
    bool event(QEvent *event);
    void resizeEvent(QResizeEvent *);
    void adjust();

    Ui::MainWindow *ui;
    QWebView * mWebView;
};

MainWindow::MainWindow(QWidget *parent) :
    QMainWindow(parent),
    ui(new Ui::MainWindow)
{
    ui->setupUi(this);
    mWebView = new QWebView(this);
    mWebView->load(QUrl("http://www.pbuchegger.at/"));
    mWebView->show();
}

void MainWindow::SetNewTarget(nfc_target Target)
{
    QString str = "NEW TARGET: \n";
    {
        char * s;
        str_nfc_target(&s, Target, false);
        str += s;
        delete s;
    }
    //cout << "NFC: Target: " << str << endl;
    mWebView->load(QUrl("http://www.google.at"));
    update();
    repaint();
    mWebView->update();
    qApp->processEvents();
    /*QMessageBox msgBox;
    msgBox.setText(str);
    msgBox.exec();*/
}

void MainWindow::doTargetRemoved(nfc_target Target)
{
    QString str = "TARGET REMOVED: \n";
    {
        char * s;
        str_nfc_target(&s, Target, false);
        str += s;
        delete s;
    }
    //cout << "NFC: Target: " << str << endl;
    mWebView->load(QUrl("http://www.cde.at"));
    update();
    repaint();
    mWebView->update();
    qApp->processEvents();
    /*QMessageBox msgBox;
    msgBox.setText(str);
    msgBox.exec();*/
}

bool MainWindow::event(QEvent *event)
{
    if(event->type() == QEvent::Resize)
    {
        adjust();
        return true;
    }
    return false;
}

void MainWindow::resizeEvent(QResizeEvent *)
{
    adjust();
}

void MainWindow::adjust()
{
    mWebView->setGeometry(0, 0, ui->centralWidget->geometry().width(), ui->centralWidget->geometry().height());
} 
```

主要代码：

```
int main(int argc, char *argv[])
{
    QApplication a(argc, argv);
    qRegisterMetaType<nfc_target>("nfc_target");

    MainWindow w;
    w.setWindowState(Qt::WindowMaximized);

    NFC_Reader Reader;
    nfc_device_string devs;
    size_t nr;
    QString str = "";

    Reader.GetDevices(devs, nr);
    if(nr > 0)
    {
        if(!Reader.InitReader(NULL))
        {
            str += "Error on init!";
        }
        else
        {
            Reader.Start_Polling();
            str += "Started Polling!";
        }
    }
    else
    {
        str += "No Device found!";
    }
    w.SetText(str);

    SignalHelper Helper;

    QObject::connect(Reader.GetThread(), SIGNAL(NewTarget(nfc_target)), &Helper, SLOT(doNewTarget(nfc_target)));
    QObject::connect(Reader.GetThread(), SIGNAL(TargetRemoved(nfc_target)), &Helper, SLOT(doTargetRemoved(nfc_target)));
    QObject::connect(&Helper, SIGNAL(NewTarget(nfc_target)), &w, SLOT(SetNewTarget(nfc_target)));
    QObject::connect(&Helper, SIGNAL(TargetRemoved(nfc_target)), &w, SLOT(doTargetRemoved(nfc_target)));

    w.show();
    int ret = a.exec();
    Reader.Abort_Polling();
    return ret;
} 
```

正如你所看到的，我有一个“Helper”类，这个类只是在一个插槽中获取信号并再次启动一个将转发到主窗口的信号。如果我想将信号直接转发到主窗口，什么都没有发生（就像信号没有被触发），但我正在使用 Qt-About 框检查它，并且该框正在显示。

助手类：

```
class SignalHelper : public QObject
{
    Q_OBJECT
public slots:
    void doNewTarget(nfc_target Target);
    void doTargetRemoved(nfc_target Target);
signals:
    void NewTarget(nfc_target Target);
    void TargetRemoved(nfc_target Target);
};

void SignalHelper::doNewTarget(nfc_target Target)
{
    emit NewTarget(Target);
}

void SignalHelper::doTargetRemoved(nfc_target Target)
{
    emit TargetRemoved(Target);
} 
```

没有编译器错误或链接器错误。这段代码只显示了重要的东西，所有不重要的东西都被删除了。仅供参考，项目文件：

```
QT += core gui testlib
QT += webkit

greaterThan(QT_MAJOR_VERSION, 4) {
 QT +=  widgets
}

TARGET = NFC_GUI
TEMPLATE = app

SOURCES += main.cpp \
 mainwindow.cpp \
 nfc_thread.cpp \
 nfc_reader.cpp \
 signal_helper.cpp

HEADERS += mainwindow.h nfc_thread.h nfc_reader.h signal_helper.h

FORMS += mainwindow.ui

LIBS += -lnfc 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T08:04:26.960

让我的评论成为答案：

你的功能

```
bool MainWindow::event(QEvent *event)
{
    if(event->type() == QEvent::Resize)
    {
        adjust();
        return true;
    }
    return false;
} 
```

吃`QMainWindow`除`QEvent::Resize`. 您需要为您不感兴趣的事件调用默认行为：

```
bool MainWindow::event(QEvent *event)
{
    if(event->type() == QEvent::Resize)
    {
        adjust();
        return true;
    }
    // call the parent implementation
    return QMainWindow::event(event);
} 
```

请注意，您也可以简单地实现[QWidget::resizeEvent](http://doc-snapshot.qt-project.org/4.8/qwidget.html#resizeEvent)：

```
void MainWindow::resizeEvent(QResizeEvent *event)
{
    adjust();

    QMainWindow::resizeEvent(event);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T14:41:19.497

如果您从不同线程之间的信号调用槽，则需要使用 Qt::QueuedConnection 作为连接类型进行连接调用。

# asp.net - 当 sitemapnode 的 url 属性为空时，菜单项不可见

> ID：14850095
> 
> 赞同：1
> 
> 时间：2013-02-13T09:19:27.923
> 
> 标签：asp.net

[此处](https://stackoverflow.com/questions/1941269/empty-url-in-sitemapnode)提出了类似的问题， 但它没有提供任何解决方案。此问题的公认答案仅适用于一个菜单项。如果我们使用“#”作为多个项目的 url，那么它会给出类似`same url # was used multiple times`. 这就是为什么我再次发布此消息以听取专家的解决方案。我的问题是，

我有如下的站点地图。

```
<?xml version="1.0" encoding="utf-8" ?>
<siteMap xmlns="http://schemas.microsoft.com/AspNet/SiteMap-File-1.0" >
  <siteMapNode title="Invisible" description="Main Page" url="Menu.aspx" >
    <siteMapNode title="Home" url="Default.aspx" />
    <siteMapNode  title="Time Sheets" url="#">
      <siteMapNode title="Time Sheet Entry" description="Menu one" url="Menu1.aspx" />
      <siteMapNode title="Time Sheet Approval" description="Menu Two" url="Menu2.aspx" />
    </siteMapNode>
    <siteMapNode title="Leaves">
      <siteMapNode title="Leave Request" url="leaverequest.aspx" />
      <siteMapNode title="Leave Approval" url="leaveapproval.aspx"/>
    </siteMapNode>
    <siteMapNode roles="Administrator" description="Only for administrators" title="Reports" url="SubMenu1.aspx" />
    <siteMapNode  title="Administration" url="~/UserRegistration.aspx"  >
      <siteMapNode  title="Register New User" url="~/Account/AdminRegister.aspx"></siteMapNode>
    </siteMapNode>
    <siteMapNode title="Help" url="~/Account/UserSettings.aspx" description=""></siteMapNode>
  </siteMapNode>
</siteMap> 
```

对于叶子节点，没有任何 url。在叶子下面有两个子菜单。这些仅包含特定页面的 url。但是当我在我的母版页中呈现它时，`Leaves`节点根本没有出现。我尝试使用空 url 属性，例如 `<siteMapNode title="Leaves" url="#">`. 这也没有为我提供解决方案。我的站点地图页面中的错误是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T16:01:24.360

我为这个确切的场景所做的最简单的解决方案是在第一个 URL 上放置“#”，然后在第二个 URL 上放置“##”，在第三个 URL 上放置“###”，依此类推。这使得链接不可点击，也满足唯一 url 规则。黑客？也许，但适用于我使用它的目的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-18T17:00:14.050

我意识到这是一个老问题，但是如果您将角色属性定义为非空，例如。

```
<siteMapNode url="" title="Leaves" roles="*"> 
```

然后渲染节点**。**不幸的是，我不知道为什么。希望这对某人有帮助！

# c# - 让 NMock 期望根据接收到的参数返回一个新对象

> ID：14850097
> 
> 赞同：1
> 
> 时间：2013-02-13T09:19:36.113
> 
> 标签：c#, .net, nmock

NMock3 是我选择的模拟框架，但我正在努力让它做我想做的事。

我需要的是基于在满足期望时接收到的一些参数来构造一个新对象并将其作为期望的一部分返回。

例如：

```
var mockFactory = new MockFactory();
var mockA = mockFactory.CreateMock<ObjectA>();
mockA.Expects.One.Method(c => c.BuildObjectB(null))
  .With(Is.TypeOf(typeof(string)))
  .WillReturn(new ObjectB(<?>)); 
```

在 WillReturn 中更新 ObjectB 时，如何访问期望收到的参数？NMock3甚至可以做到这一点吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:44:03.593

我不认为 N​​Mock3 库允许您这样做。文档很少，但我查看了 NMock3 的[验收测试](http://nmock3.codeplex.com/SourceControl/changeset/view/82064#1021708)，找不到做这样的事情。

我不认为这是一件非常糟糕的事情。单元测试通常是确定性的，因此会提前知道的价值是什么`String`。单元测试是重复自己是一件好事的地方。它使测试更简单，更具可读性。所以在你的例子中，我会说去简单但完全可读

```
var mockFactory = new MockFactory();
var mockA = mockFactory.CreateMock<ObjectA>();
mockA.Expects.One.Method(c => c.BuildObjectB("Frank")).WillReturn(new ObjectB("Frank")); 
```

我可以想到一些（罕见的）不确定的情况，例如`DateTime`返回 a 并且您提前不知道它将是哪一个。或者，该函数可能会使用不同的参数被调用很多次。在这些情况下，您可以使用一个简单的存根来跟踪它被调用的次数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-14T08:00:58.637

您可以使用 Collect.MethodArgument：

```
var mockFactory = new MockFactory();
var mockA = mockFactory.CreateMock<ObjectA>();
mockA.Expects.One.Method(c => c.BuildObjectB(null))
  .With(Is.TypeOf(typeof(string)))
  .WillReturn(Collect.MethodArgument<string>(0, delegate(string myString) { new ObjectB(myString); })); 
```

# ios - 更改图像色调 iOS

> ID：14850098
> 
> 赞同：3
> 
> 时间：2013-02-13T09:19:36.540
> 
> 标签：ios, objective-c

我想使用滑块更改图像的色调。我所做的是：

```
float slideValue =  sldHueChange.value;
beginImage= [CIImage imageWithCGImage:imgBorder.image.CGImage];
context = [CIContext contextWithOptions:[NSDictionary dictionaryWithObject:[NSNumber numberWithBool:YES] forKey:kCIContextUseSoftwareRenderer]];
filter= [CIFilter filterWithName:@"CIHueAdjust"];
[filter setValue:beginImage forKey:kCIInputImageKey];
[filter setValue:[NSNumber numberWithFloat:slideValue] forKey:@"inputAngle" ];
CIImage *outputImage = [filter outputImage];
CGImageRef cgimg =[context createCGImage:outputImage fromRect:[outputImage extent]];
UIImage *newImg = [UIImage imageWithCGImage:cgimg];
[imgBorder setImage:newImg];
CGImageRelease(cgimg); 
```

它的工作。但这并不顺利。我想要一个非常顺利地改变图像的色调。如果您有制作平滑色调转换器的想法，请分享。我真的需要它。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:43:29.740

我建议您使用来自 Brad 的令人惊叹的[GPUImage](https://github.com/BradLarson/GPUImage)，它有很多过滤器，或者您可以尝试使用 GPU 渲染 CIContext，将选项字典中的布尔值更改为 NO 以创建 CIContext。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T03:28:04.880

现在我正在做的是：

```
CGRect rect = CGRectMake(0, 0, selectedBorderForChangingHue.size.width, selectedBorderForChangingHue.size.height);
UIGraphicsBeginImageContext(rect.size);
CGContextRef context1 = UIGraphicsGetCurrentContext();
CGContextClipToMask(context1, rect, selectedBorderForChangingHue.CGImage);
CGContextSetFillColorWithColor(context1, [[UIColor colorWithHue:sldHueChange.value/255.0f saturation:1.0f brightness:1.0f alpha:1.0f] CGColor]);
CGContextFillRect(context1, rect);
UIImage *img = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();
UIImage *flippedImage = [UIImage imageWithCGImage:img.CGImage scale:1.0 orientation: UIImageOrientationDownMirrored];
imgBorder.image = flippedImage; 
```

它对我来说很好。它非常光滑。

# emacs - 如何让 Dired 忽略具有特定扩展名的文件

> ID：14850103
> 
> 赞同：10
> 
> 时间：2013-02-13T09:19:52.360
> 
> 标签：emacs, dired

我将以下内容放在我的 .emacs 文件中：

```
(require 'dired-x)
(add-hook 'dired-load-hook '(lambda () (require 'dired-x)))
(setq dired-omit-files-p t)
(setq dired-omit-files
(concat dired-omit-files "\\|^\\..+$\\|-t\\.tex$\\|-t\\.pdf$")) 
```

但`C-x d`仍然显示 .pdf 和 .tex 文件。我在最后一行中的语法错误吗？

奖励问题：有没有办法让 Dired 隐藏隐藏目录，如 .git 文件夹？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2014-08-26T13:32:32.450

一个不依赖任何额外内容的简单且非常通用的解决方案是`C-u s`更改`ls`标志并立即刷新（也就是说，`C-u s`也负责刷新，因此涉及的输入很少）。通常你会想要删除`-a`以隐藏点文件。但是您可以在 shell 控制台中执行您已经能够执行的所有操作，这远远超出了简单切换模式所能提供的功能（以一些额外的按键为代价）。并且有可用的先前标志的历史记录，因此“切换”也非常快。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-02-13T10:02:07.423

您的正则表达式将匹配`*-t.tex`文件，而不是文件`*.tex`。

对于最新版本的 Emacs，添加以下部分就`~/.emacs`足以过滤您想要的内容：

```
(require 'dired-x)
(setq-default dired-omit-files-p t) ; this is buffer-local variable
(setq dired-omit-files
    (concat dired-omit-files "\\|^\\..+$\\|\\.pdf$\\|\\.tex$")) 
```

**更新：**默认情况下，*dired-omit-files* regexp 过滤掉特殊目录`.`和`..`. 如果你不想要这种行为，你可以覆盖默认值（而不是用*concat*继承它们）：

```
(setq dired-omit-files "^\\.[^.]\\|\\.pdf$\\|\\.tex$") 
```

正则表达式`^\\.[^.]`将匹配以点开头的任何长度为 2+ 的字符串，其中第二个字符是除点本身之外的任何字符。它并不完美（不会匹配像*"..foo"*这样的文件名），但大多数时候应该没问题。

# c# - 向 onselectionchanged 属性添加方法

> ID：14850107
> 
> 赞同：0
> 
> 时间：2013-02-13T09:19:55.390
> 
> 标签：c#, asp.net-mvc-3

我正在向视图添加日历控件。我正在使用 MVC 项目。

```
<asp:Calendar ID="Cal" runat="server"
            onselectionchanged="C_SelectionChanged"></asp:Calendar>
        <br /> 
```

现在，我应该在哪里声明该`C_SelectionChanged`方法，当用户从`Calendar`该方法中选择一个日期时，应该执行该方法。有人能告诉我在哪里以及如何添加这个方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T09:43:04.340

您可以在 aspx 页面上声明您的 C_SelectionChanged 事件，为此您必须编写如下代码：

```
<script runat="server">
void C_SelectionChanged(Object sender, EventArgs e)
{
    //code here
}
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:22:06.543

在普通的 ASP.NET 网站中，您应该设置 AutoPostBack="true"

webform.apsx

```
<asp:Calendar ID="Cal" runat="server"  AutoPostBack="true" 
         onselectionchanged="CalSelectionChanged" /> 
```

然后添加事件将调用的方法

webform.aspx.cs

```
protected void CalSelectionChanged(object sender, EventArgs e)
{
     //do some stuff
} 
```

但在 MVC 中，这完全是另一回事，因为您没有回发、视图状态。正常的服务器控制是非常无用的，因为它们依赖于它们。

要在 MVC 中实现日历，请尝试使用[jQuery UI datepicker](http://jqueryui.com/datepicker/)。

[在那里你可以找到一个完整的代码示例](https://stackoverflow.com/questions/5329849/asp-net-calendar-onselectionchanged-handler-not-getting-called)

# java - 存储临时数据（JAVA + GAE）

> ID：14850111
> 
> 赞同：0
> 
> 时间：2013-02-13T09:20:05.707
> 
> 标签：java, google-app-engine

我正在编写一个多人游戏，允许玩家互相攻击。只有攻击者必须登录。我需要知道玩家在过去 6 小时内进行了多少次攻击，我需要知道防御者在过去 1 小时内是否受到攻击。我不关心超过 6 小时前的攻击。有没有比将这些数据存储在数据库中并删除“过期”数据（超过 6 小时）更好的方法来实现它？服务器是用java编写的，客户端是Android。任何想法/教程链接甚至关键字都表示赞赏。另外，如果您认为没有更好的解决方案，请说出来:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T09:44:14.083

对于 GAE，没有真正的替代方案，没有。除了使用数据存储，GAE 还提供了一个`memcache`系统，实际上，该系统被指定用于存储临时数据。但是，如文档中所述，“值可以随时从内存缓存中过期，并且可能在为该值设置的过期期限之前过期。” 因此，最好使用数据存储。

# php - 启动时运行的 PHP 脚本（APC 变量初始化）

> ID：14850112
> 
> 赞同：0
> 
> 时间：2013-02-13T09:20:15.407
> 
> 标签：php, initialization, startup, apc

是否可以让 PHP 服务器（通过 php5-fpm）在 PHP 脚本启动后，客户端访问它之前运行一个 PHP 脚本，以执行[APC](http://www.php.net/manual/en/intro.apc.php)变量的初始化。

基本上，一些事件在服务器生命周期内通过 计算`apc_inc`，例如

```
apc_inc('event-xyz-happened'); 
```

*event-xyz-happened* APC var 是永久的（寿命是服务器寿命，而不是请求寿命）。

问题是，*event-xyz-happened* APC var 必须在第一次递增（与 Perl 不同）之前存在。`apc_inc`速度很快，我想避免像这样的解决方案

```
if ( ! apc_exists('event-xyz-happened')) {
  apc_store('event-xyz-happened', 1);
}
else {
  apc_inc('event-xyz-happened');
} 
```

这不仅需要调用`apc_exists('event-xyz-happened')`，而且当它还不存在时也可能会受到竞争条件的影响。

--

在客户端访问服务器之前，是否有创建一些 APC 变量的解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T09:54:28.523

您可以使用 apc_add 后跟 apc_inc （请参阅[http://www.php.net/manual/en/function.apc-add.php](http://www.php.net/manual/en/function.apc-add.php)）

```
// if it doesn't exist, it gets created
// if it does exist, nothing happens, no race condition
apc_add('event-xyz-happened', 0); 
apc_inc('event-xyz-happened', 1); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:49:19.087

您不应为此目的使用 apc 变量。

APC 是一个缓存引擎，它不是一个快速的数据库引擎。作为缓存引擎，它可以而且迟早会删除您的变量以清除其他变量或操作码缓存的一些内存。您分配给 APC 的内存越多，您的变量被删除的可能性就越小，但您不能相信该变量会在那里。

您所有的 php 脚本都必须检查变量是否在 apc 缓存中，如果不在，则对其进行初始化。

如果您需要存储一些快速访问的变量，您可以设置一个本地 mysql 服务器并使用“内存”引擎创建一个表。它几乎和 apc 一样快，但只要服务器正在运行，我就会保持不变。

祝你好运

# ios - vBulletin 移动 API login_login?

> ID：14850113
> 
> 赞同：3
> 
> 时间：2013-02-13T09:20:16.793
> 
> 标签：ios, api, mobile, login, vbulletin

我是 vBulletin 的新手，我找不到解决问题的方法，我解释说，

我想创建一个使用 Mobile API vBulletin 5.0 运行的 iOS 应用程序，但是现在，将 iOS 放在一边。

我想创建一个对用户进行身份验证的 PHP 代码，我已经设法获得了 api_init () 的结果，所以我可以使用以下变量 apiclientid、secret 和 apiaccesstoken，但是我没有找到登录用户的解决方案，我我在 api 上调用 login_login 方法，但它返回 null ！

请有人帮助我们如何登录？这将非常有帮助，

谢谢你。

# android - 从 Playstore 为特定电子邮件地址安装的应用程序列表

> ID：14850114
> 
> 赞同：0
> 
> 时间：2013-02-13T09:20:17.957
> 
> 标签：android, google-play

我想创建一个可以列出使用特定电子邮件地址下载的所有已安装应用程序的应用程序。

例如

testplaylist@gmail.com 已在我的手机中注册并且我已经安装了 3 个应用程序

1.  愤怒的小鸟
2.  强大的文字
3.  短信专业版

我想在打开我的应用程序时获取此应用程序列表？我不知道从哪里开始？类似于[https://play.google.com/apps](https://play.google.com/apps) - 登录后的内容。

这可能吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T12:46:53.983

> 这可能吗？

希望不会，除非您希望因窃取用户的 Google 帐户密码而被捕。出于明显的隐私和安全原因，任何地方都没有公共 API 可供您查看其他人安装的内容。

# c# - .NET MySQL 数据读取器选择功能？

> ID：14850118
> 
> 赞同：0
> 
> 时间：2013-02-13T09:20:29.203
> 
> 标签：c#, .net, mysql, select, sqldatareader

自从我使用 .NET 以来已经有很长时间了，但幸运的是，我几乎完成了编写一个比较 sqlite 和 mysql 数据库的工具。我在尝试为我的包装器编写一个处理 SELECT 调用的函数时遇到了一个问题，因为我无法完全弄清楚数据读取器。

我的理解是，阅读器上循环的每次迭代都是下一行，GetString(x) 返回“x”的列值作为索引。我发现的所有示例都知道他们需要的行/列名称。如何通过“SELECT * FROM”调用执行此操作并保存列名/值以供以后访问？微软似乎有一个“FieldCount”功能，但我在 MySQL 连接器上是空的。

谢谢！

```
public void Query(string query, string tableName)
{
    //Open connection
    if (this.OpenConnection() == true)
    {
        //Create Command
        MySqlCommand cmd = new MySqlCommand(query, connection);
        MySqlDataReader dataReader = cmd.ExecuteReader();

        //Read the data and store them in the list
        while (dataReader.Read())
        {
            int count = Count(tableName);

            for (int x = 0; x < count; x++)
            {
                Console.WriteLine(dataReader.GetString(count));
            }
        }

        //close Data Reader
        dataReader.Close();

        //close Connection
        this.CloseConnection();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:24:57.790

您可以使用它[`DbDataReader.GetName`](http://msdn.microsoft.com/en-us/library/system.data.common.dbdatareader.getname.aspx)来获取给定其 ordinal 的列的名称`x`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:35:50.563

使用“mysql 连接器”访问 MySql 中的数据，然后自己编写查询更简单：http: [//dev.mysql.com/downloads/connector/net/](http://dev.mysql.com/downloads/connector/net/)

然后使用 EntityFramework 通过此连接器访问数据。您还可以从 mysql 中的现有数据库自动生成 *.edmx 模型，这将让您快速访问和使用数据库中的数据。以下是有关从现有数据库添加 *.edmx 模型的信息：http: [//msdn.microsoft.com/en-us/library/vstudio/cc716703 (v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/vstudio/cc716703(v=vs.100).aspx)

将从表中选择所有数据的查询，例如“产品”将如下所示：

列出产品 = dbContext.Products.Where(e=>e.ProductId!=-1).ToList();

这将在表 Products 中返回数据库中的整个产品列表。

然后您可以根据需要使用产品。例如，为“产品”中的第一个产品取“名称”列将如下所示：

字符串 firstProductName = products[0].name;

我希望它有所帮助。

# java - 无法通过 restfb 为 Facebook 生成通知

> ID：14850123
> 
> 赞同：0
> 
> 时间：2013-02-13T09:20:49.297
> 
> 标签：java, facebook, facebook-graph-api, restfb

我想通过我的应用程序向我的朋友发送 Facebook 通知。我通过restfb库使用了以下通知api

facebookClient = new DefaultFacebookClient(vAccessTokenDetails.getVAccessToken());

String app_access_token = facebookClient.obtainAppAccessToken("485626xxxxxx614","d9428570ef5ae82609b6xxxxxxxb").getAccessToken();

publishMessageResponse = facebookClient.publish(post.getVFriendId()+"/notifications?access_token="+app_access_token, FacebookType.class, Parameter.with("template", post.getVMessage()), Parameter.with("href", " [http://www.wiinkURL.com](http://www.wiinkURL.com) ")); vPostId = publishMessageResponse.getId();

但我得到 **com.restfb.exception.FacebookOAuthException: Received Facebook error response of type OAuthException: (#15) This method must be called with an app access_token**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T10:43:50.197

FacebookClient 对象应使用 app_access_token 而不是 access_token 创建。

```
FacbookClient facebookClientAppAccessToken = 
    new DefaultFacebookClient( app_access_token );
publishMessageResponse = facebookClientAppAccessToken.publish(..); 
```

# c# - 精确解析时，字符串未被识别为有效的 DateTime

> ID：14850127
> 
> 赞同：2
> 
> 时间：2013-02-13T09:20:59.700
> 
> 标签：c#, asp.net, string, datetime, cultureinfo

转换为 DateTime 时出现以下异常：

```
String was not recognized as a valid DateTime. 
```

* * *

```
lbl_RequestDate.Text = "13/2/2013";

CultureInfo provider = CultureInfo.CurrentCulture;
string[] format = provider.DateTimeFormat.GetAllDateTimePatterns();
Follow.RequestDate = DateTime.ParseExact(lbl_RequestDate.Text, format, provider, DateTimeStyles.None); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T09:26:34.450

您可以使用 thje 格式，请注意月份使用`d/M/yyyy`的单曲。`M`

```
Follow.RequestDate = DateTime.ParseExact(lbl_RequestDate.Text, "d/M/yyyy", provider, DateTimeStyles.None); 
```

该方法：`provider.DateTimeFormat.GetAllDateTimePatterns()`返回几乎 155 种格式，但它们*（从您当前的文化似乎）*都不支持格式`d/M/yyyy`，这就是您遇到异常的原因。如果您的日期为 Month，`13/02/2013`则该方法返回的格式将起作用，因为最接近`dd/MM/yyyy`的格式位于格式数组中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-13T09:24:45.450

也许这会有所帮助：

```
DateTime.ParseExact("13/2/2013","d/M/yyyy",CultureInfo.GetCultureInfo("en-US"), DateTimeStyles.None ); 
```

注意 ：

```
d is for Day  (01 is also acceptable)
M is for Month (11 is also acceptable) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-13T09:26:46.867

试试这样：

```
Follow.RequestDate = DateTime.ParseExact(lbl_RequestDate.Text, "d/M/yyyy", CultureInfo.InvariantCulture); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-13T09:30:53.077

[`DateTimeFormatInfo.GetAllDateTimePatterns()`](http://msdn.microsoft.com/en-us/library/aszyst2c.aspx)方法在我的机器上返回（`tr-TR`文化）29 格式，但这些都不支持`d/M/yyyy`日期格式，这就是你得到`FormatException`.

但是在我的文化`DateSeparator`中`.`，我不能*完全*解决这个问题，`CultureInfo.CurrentCulture`但是当我使用**埃及**文化信息（它写在你的个人资料上）时，`CultureInfo.GetCultureInfo("ar-EG")`这段代码可以正常工作；

```
CultureInfo provider = CultureInfo.GetCultureInfo("ar-EG");
string[] format = provider.DateTimeFormat.GetAllDateTimePatterns();
DateTime d = DateTime.ParseExact("13/02/2013", format, provider, DateTimeStyles.None); 
```

*不幸*的是，您的所有日期时间模式不支持`d/M/yyyy`格式。

![在此处输入图像描述](../Images/ab35d07c5d55d9ddc558d9d6c8230685.png)

~~*不幸*的是，将此字符串更改为`13/02/2013`并不能解决此问题，因为正如我之前所说，我的所有格式（在`tr-TR`文化中）也不支持`dd/MM/yyyy`格式。~~

我的谦虚建议在这里，列出您所有的日期时间模式，并手动检查您的字符串是否被这种日期时间模式识别格式，例如；

```
string[] format = provider.DateTimeFormat.GetAllDateTimePatterns();
foreach (var f in format)
{
    ///
} 
```

![在此处输入图像描述](../Images/1e70469d45a7fe619cc0aac77f800cef.png)

# vb.net - 如何在一列中插入单引号和逗号

> ID：14850131
> 
> 赞同：0
> 
> 时间：2013-02-13T09:21:18.260
> 
> 标签：vb.net, visual-studio-2005, ms-access-2007

我的代码如下'''a'，'b'，'c'''。

```
Dim abc As String = "''a','b','c''"
sqlselect.Connection = con
sqlselect.CommandText = "insert into table1(Name1) values ('" & abc  & "')" 
```

它给出了错误：

> 语法错误（缺少运算符）

在查询表达式中

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T09:24:49.840

您使用参数化查询而不是字符串连接

```
Dim a As String = "'a', 'b', 'c'"

sqlselect.Connection = con
sqlselect.CommandText = "insert into table1(Name1) values (@a)"
sqlselect.Parameters.AddWithValue("@a", a)
sqlselect.ExecuteNonQuery() 
```

这假设您只有一列名为`Name1`.

参数化查询是唯一可行的方法，因为它们提供针对[SQL 注入](https://stackoverflow.com/questions/332365/xkcd-sql-injection-please-explain)的保护并帮助您处理字符串、日期、十进制数的解析

# c# - 当 TextBox 变空时，UpdateSourceTrigger 不起作用

> ID：14850132
> 
> 赞同：3
> 
> 时间：2013-02-13T09:21:21.293
> 
> 标签：c#, wpf

我有以下 XAML -

```
<TextBox Text="{Binding Path=NumberOfItems, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}" />
<Button Command="{Binding Path=StartCommand}">Start</Button> 
```

在 ViewModel -

```
public string this[string columnName]
    {
        get
        {
            string result = null;
            switch (columnName)
            {
                 case "NumberOfItems":
                    if (this.NumberOfItems <= 0)
                    {
                        result = "Items required";
                    }
                    break;
            }

            return result;
        }
    } 
```

每当 TextBox 更改值时，触发器就会相应地工作。但在以下情况下，它不起作用 -

1.  当用户在选择文本框的整个文本后按下键盘上的删除按钮时。

2.  当用户删除 TextBox 中存在的最后一个字符时。

但是 ValidatesOnDataError 正在工作。

TextBox 清空时如何使其工作？

当用户输入任何无效数据时，文本框样式会发生变化。我希望在单击开始按钮时知道这一点。

我怎样才能知道 TextBox 有无效数据的开始按钮？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T09:27:24.250

我猜您正在尝试将整数类型的属性绑定到文本框的文本属性。由于整数不能为空，因此空字符串在这种情况下不起作用。您可以使用可为空的整数，也可以创建自己的转换器来处理空字符串。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T10:11:13.820

> 当用户输入任何无效数据时，文本框样式会发生变化。我希望在单击开始按钮时知道这一点。
> 
> 我怎样才能知道 TextBox 有无效数据的开始按钮？

将您的验证码更改为：

```
 case "NumberOfItems":
                if (this.NumberOfItems==null || this.NumberOfItems <= 0)
                {
                    result = "Items required";
                }
                break; 
```

您可以`string.IsNullOrEmpty(this["NumberOfItems"])`在`CanExceuteStartCommand`您的`StartCommand`

# android - SharedPreferences 正在恢复为 onResume 中的默认值，而不是保存的 SharedPreferences 值

> ID：14850135
> 
> 赞同：1
> 
> 时间：2013-02-13T09:21:29.983
> 
> 标签：android, sharedpreferences, preferenceactivity, onresume

我有一个 PreferenceActivity P 将值存储到 SharedPreferences。这是可行的——我能够从列表中进行选择，并且正确显示汇总值。

问题是当我尝试访问活动 A 中的 SharedPreference 值时。加载*默认*值而不是存储的值。只有*在*我从 Activity A 访问 PreferenceActivity 之后，最新的 SharedPreference 值才可用于 Activity A。有关如何解决此问题的任何建议？有没有使用 PreferenceManager.getDefaultSharedPreferences 的选项？

这是 PreferenceActivity 代码的大部分（为简洁起见，我省略了 onSharedPreferenceChanged 侦听器）：

```
public class P extends PreferenceActivity { 
public static String KEY_PREF_show_watch_areas, KEY_PREF_time_format, KEY_PREF_date_format;
String PREF_show_watch_areas, PREF_time_format, PREF_date_format;
static SharedPreferences sharedPrefs;
Preference pref_show_watch_areas=null;
ListPreference pref_time_format=null, pref_date_format=null;

@SuppressWarnings("deprecation")
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    sharedPrefs = PreferenceManager.getDefaultSharedPreferences( getApplicationContext() );
    KEY_PREF_show_watch_areas = getString(R.string.key_pref_show_watch_areas);
    KEY_PREF_time_format = getString(R.string.key_pref_time_format);
    KEY_PREF_date_format = getString(R.string.key_pref_date_format);
    PREF_show_watch_areas = getString(R.string.pref_show_watch_areas);
    PREF_time_format = getString(R.string.pref_time_format);
    PREF_date_format = getString(R.string.pref_date_format);

//Load up the preference items (from XML)  
    addPreferencesFromResource(R.xml.preferences);

    //DATE pref
    pref_date_format = (ListPreference) findPreference(KEY_PREF_date_format); //Set summary to user selected value
    pref_date_format.setSummary(pref_date_format.getEntry() ); 

    //TIME pref
    pref_time_format = (ListPreference) findPreference(KEY_PREF_time_format); //Set summary to show user selected value
    pref_time_format.setSummary(pref_time_format.getEntry()); 

    }

 }  // [END P] 
```

这是活动 A 中的 onResume：

```
 @Override
  protected void onResume() {
  super.onResume();

   SharedPreferences sharedPrefsResume = PreferenceManager.getDefaultSharedPreferences(getApplicationContext() );
   dateFormatPref = sharedPrefsResume.getString(P.KEY_PREF_date_format, "d-MMM-yy");
   timeFormatPref = sharedPrefsResume.getString(P.KEY_PREF_time_format, "h");

 } // [END onResume] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T00:20:43.787

我已经发现并解决了这个问题。我试图使用未初始化的变量（例如，P.KEY_PREF_date_format）访问 SharedPrefs 值。这就是返回默认值的原因。我现在已将静态变量移至我的 MainActivity 以确保它们已初始化。瞧。SharePreferences 现在按预期工作。

# javascript - 顺序 jquery 'pages'，第三帧给出参考错误

> ID：14850138
> 
> 赞同：1
> 
> 时间：2013-02-13T09:21:47.827
> 
> 标签：javascript, jquery, function

我对 javascript/jquery 很陌生，并且一直在玩 w3schools 教程和 jquery 文档，并制作了一个页面，该页面将接受一些用户输入，然后通过 javascript 打印一些输出。我以为我可以修改它以按顺序工作，但是当第二页应该调用第三页时，我得到了

```
ReferenceError: $gp is not defined
[Break On This Error]   

$('#txtField2').load('getglycosites.php?q='+$gp+'r='+$('.glycotype').val()); 
```

如果有人有技巧可以在 jquery 脚本中使用 $_get 变量，我将不胜感激。

页面代码：

第一页（test.php）：

```
<html>
  <head>
    <title>LeidenGlycoPeptide DataBase</title>
    <script src="jquery-1.9.1.min.js"></script>
  </head>
  <script>
    $(document).ready(function() {
      $('.glycoprotein').change(function() {
        $('#txtField').load('getglycopeptides.php?gp='+$('.glycoprotein').val());
      });
    });
  </script>
  <body>
    <h1>Welcome to the LeidenGlycoPeptide DataBase</h1>
    <?php
      $link = mysql_connect("localhost","reader","") or die (mysql_error());
      mysql_select_db('leidenGlycoPeptide') or die ();
      $query = 'select protein from glycoPeptide';
      $result = mysql_query($query);
      mysql_close($link);
    ?>
    <form>
      <p>Select glycopeptide to search for (interactive dialog)</p>
      <?php
         echo"<select class=\"glycoprotein\">";
         echo"<option value=\"\">select glycoprotein</option>";
         while ($line = mysql_fetch_array($result, MYSQL_ASSOC)) {
           foreach ($line as $col_value) {
             echo"<option value=\"$col_value\">$col_value</option>";
           }
         } 
         echo"</select>";
       ?>
    </form>
    <br>
    <div id="txtField"></div>
  </body>
</html> 
```

第二页（getglycopeptides.php）：

```
<html>
  <head>
    <title>glyco</title>
    <script src="jquery-1.9.1.min.js"></script>
  </head>
  <script>
    $(document).ready(function() {
      $('.glycotype').change(function() {
        //NOTE $q/q are undefined
        $('#txtField2').load('getglycosites.php?q='+$gp+'r='+$('.glycotype').val());
      });
    });
  </script>
  <body>
    <?php
      // The next variable is the one I would like to use inside the jquery
      $gp=$_GET["gp"];
      $link = mysql_connect("localhost","reader","") or die (mysql_error());
      mysql_select_db("leidenGlycoPeptide",$link) or die();
      $query = "select glycoType from run,glycoPeptide where run.id = glycoPeptide.id and glycoPeptide.protein like '".$gp."'";
      $result = mysql_query($query);
    ?>
    <form>
      <?php
        echo "<select class=\"glycotype\">";
        echo "<option value=\"\">select glycosylation</option>";
        while ($row = mysql_fetch_array($result, MYSQL_ASSOC))
        {
          foreach ($row as $col_value)
          {
            echo"<option value=\"$col_value\">$col_value</option>";
          }
        }
        echo "</select>";
        mysql_close($link);
      ?>
    </form>
    <br>
    <div id="txtField2"></div>
  </body>
</html> 
```

第三页（getglycosites.php）：

```
<html>
   <head>
    <title>sites</title>
  </head>
  <body>
    <?php
      $gp=$_GET["gp"];
      $r=$_GET["r"];
      $link = mysql_connect("localhost","reader","") or die (mysql_error());
      mysql_select_db("leidenGlycoPeptide",$link) or die();
      $query = "select glycoSite from run,glycoPeptide where run.id = glycoPeptide.id and run.glycoType like '".$r."' and glycoPeptide.protein like '".$q."'";
      //echo $query;
      $result = mysql_query($query);
      echo "<select name=\"site\" onchange=\"foo\">";
      echo "<option value=\"\">select glycosite</option>";
      while ($row = mysql_fetch_array($result, MYSQL_ASSOC))
      {
        foreach ($row as $col_value)
        {
          echo"<option value=\"$col_value\">$col_value</option>";
        }
      }
      echo "</select>";
      mysql_close($link);
    ?>
  </body>
</html> 
```

PS：第三页目前只应该显示一个新的选择字段，但一旦我得到这个工作，它将成为一个大顺序序列的一部分。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T12:30:50.157

我能够通过添加以下行（到 jquery 脚本）来“修复”这个问题：

```
var gp = '<?php echo htmlspecialchars($_GET['gp']); ?>'; 
```

制作第三页的总脚本部分：

```
<script>
  var gp = '<?php echo htmlspecialchars($_GET['gp']); ?>';
  $(document).ready(function() {
    $('.glycotype').change(function() {
      $('#txtField2').load('getglycosites.php?q='+gp+'&r='+$('.glycotype').val());
    });
  });
</script> 
```

# numpy - Numpy xor-reduce 数组

> ID：14850140
> 
> 赞同：6
> 
> 时间：2013-02-13T09:21:54.837
> 
> 标签：numpy, vectorization, xor

如何使用矢量化方法对布尔 numpy 数组的所有元素进行异或：即`a_1 xor a_2 xor ... xor a_n`？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-13T11:55:11.980

我更喜欢使用我认为的 xor ufunc，即`bitwise_xor`（或`logical_xor`）：

```
np.bitwise_xor.reduce(a) 
```

或者：

```
np.logical_xor.reduce(a) 
```

一个优点是，你不会得到花车的假东西。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-13T09:49:32.597

使用它可能是最有效的`sum`：

```
np.sum(arr) % 2 
```

# android - 定期更新标签

> ID：14850144
> 
> 赞同：1
> 
> 时间：2013-02-13T09:22:07.433
> 
> 标签：android

在我的应用程序中的大多数活动中，都有一个标签 - 在气流标题上。本质上，我需要在广播结束并且另一个广播开始时对其进行更新，并且我对此有时间表。我可以以固定的速率更新数据，比如每分钟一次，但我觉得这太过分了。

我想安排特定时间的更新；每次更新后，我需要安排下一个。广播的时间范围不同。

什么是最适合这个问题的？Handler.postDelayed、ScheduledExecutorService.schedule 还是别的什么？AlarmManager 可能有点矫枉过正，因为如果应用程序没有运行，我不需要更新任何数据。

ps 时间范围不固定，所以我必须在每次更新时更改计划时间。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T09:28:46.653

我会说使用 a`Handler.postDelayed`是一个更好的选择，因为您可以改变延迟。使用任何类型的 Timer 都与“可变长度”要求相冲突。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:46:06.853

您可以在这里使用线程定期更新数据，该线程将运行 2 秒，通过在循环中调用此函数，您可以定期更新内容

```
Strinh hello="HI";
    final int _splashTime = 2000; // time to display the splash screen in ms

    Thread splashTread = new Thread() {
        @Override
        public void run() {
            try {
                int waited = 0;
                while(_active && (waited < _splashTime)) {
                    sleep(100);
                    if(_active) {
                        waited += 100;
                    }                      
                }

            } 
            catch(InterruptedException e) {
            } 
            finally {
                finish();
               hello="HI2";
                stop();
            }
        }
    };
    splashTread.start(); 
```

这里字符串 hello 将在 2 秒内从 HI 变为 HI2

希望这可以帮助你

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T09:25:41.407

好吧，我想[Timer](http://developer.android.com/reference/java/util/Timer.html)在这种情况下是最好的选择。与[TimerTask](http://developer.android.com/reference/java/util/TimerTask.html)一起使用。

# css - jQuery UI 对话框 - 仅使用背景不透明度而不使字体变灰？

> ID：14850153
> 
> 赞同：3
> 
> 时间：2013-02-13T09:22:44.447
> 
> 标签：css, jquery-ui, background, jquery-ui-dialog, opacity

> **概括**

我希望显示一个不透明度约为 0.75 的 jQuery UI 对话框，我可以执行此操作。

但是，不透明度也会传递给整个`.ui-dialog-content`类和对话框。

我想独立于对话框核心及其内容来处理对话框的不透明度，所以无论是标题栏还是内容本身。

该对话框应显示在包含照片的背景上，我希望允许用户通过 0.75 的不透明度部分查看照片，比方说。但是随后，对话框内容中的文本变得更难阅读，因为它的不透明度也为 0.75，这使得文本就像默认颜色为灰色而不是黑色一样。

> **已执行的搜索**

我在多个关键字下进行了研究，试图找出我如何能够达到预期的结果，并且每次我发现有关模态对话框覆盖的信息，这并不代表我的对话框。

以下是目前发现的结果：

1.  [jQuery：设置模式对话框覆盖颜色](https://stackoverflow.com/questions/9268593/jquery-set-modal-dialog-overlay-color)
2.  [Jquery UI 对话框中较暗的背景](https://stackoverflow.com/questions/5583995/darker-background-in-jquery-ui-dialog)
3.  [jquery-ui-dialog.css (源)](http://phpxref.ftwr.co.uk/wordpress/nav.html?wp-includes/css/jquery-ui-dialog.css.source.html)
4.  [jquery 空白/灰色显示对话框的页面](https://stackoverflow.com/questions/11354260/jquery-blankout-grayout-the-page-where-dialog-box-is-showing)
5.  [如何更改 jQuery UI 对话框的背景颜色？](https://stackoverflow.com/questions/9389952/how-to-change-background-color-of-jquery-ui-dialog)

至于更改对话框的背景颜色，我可以这样做。除此之外，当使用透明背景时，我几乎完成了我想要的。但是，由于我网站背景上的图像，某些短语恰好出现在难以阅读的地方。然后，我不希望有一个透明的背景，而是一个具有一定透明度的白色背景，不透明度确实给了我什么。但是当设置为 0.75 时，`.dialog`甚至`.ui-dialog`类的不透明度，一切都是灰色的，这正是我不想实现的。

> **CSS**

```
.dialog {
    box-shadow: 0 4px 4px 0 #888;
}

.dialog .ui-dialog-titlebar {
    background: rgb(74, 159, 63);
    color: white;
}

.ui-dialog {
    border: 1px solid rgb(74, 159, 63);
    border-bottom: 0px;
    color: #333;
    font: 18px/120% Arial, Helvetica, sans-serif;
    opacity: .75;
}

.ui-dialog-content {
    opacity: 100;
} 
```

> **Javascript**

```
$(document).ready(function() {
var corporationKey = 0;
var servicesKey = 1;
var fadeEffectDuration = 500;
var dialogWidth = 1000;

var dialogs = new Array("#CorporationDialog", "#ServicesDialog");

$(dialogs[corporationKey]).dialog({
    autoOpen: false,
    closeOnEscape: true,
    dialogClass: 'dialog',
    hide: {
        effect: "fade",
        duration: fadeEffectDuration
    },
    resizable: true,
    show: {
        effect: "fade",
        duration: fadeEffectDuration
    },
    width: dialogWidth
});

$(dialogs[servicesKey]).dialog({
    autoOpen: false,
    closeOnEscape: true,
    dialogClass: 'dialog',
    hide: {
        effect: "fade",
        duration: fadeEffectDuration
    },
    resizable: true,
    show: {
        effect: "fade",
        duration: fadeEffectDuration
    },
    width: dialogWidth
});

// Opens the Enterprise dialog
$("#CorporationMenu").click(function() { 
    closePreviouslyOpenedDialogs(dialogs);
    openDialog(dialogs[corporationKey]);
    return false; 
});
// Opens the Services dialog
$("#ServicesMenu").click(function() {
    closePreviouslyOpenedDialogs(dialogs);
    openDialog(dialogs[servicesKey]);
    return false;
});

$("#accordion").accordion({ active: false, collapsible: true, heightStyle: "content" });
});

function closePreviouslyOpenedDialogs(dialogs) {
for (var i=0;i<dialogs.length;i++) {
    closeDialog(dialogs[i]);
}
}

function closeDialog(key) {
    $(key).dialog( "close" );
}

function openDialog(key) {
    $(key).dialog( "open" );
} 
```

> **HTML**示例

```
<div id="CorporationDialog" title="Entreprise">
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
</div> 
```

> **问题**

*一旦对话框的不透明度设置为 0.75，有没有办法防止对话框的文本显示为灰色？*

谢谢大家！

> **解决方案编辑**

根据[Richard A.](https://stackoverflow.com/users/1700634/richard-a)的回答，找到的解决方案如下：

**Photoshop**

1.  使用 Photoshop 或任何等效工具创建具有透明背景的新图像
2.  在 Photoshop 中，添加一个新图层并用 Pain Bucket 将其填充为白色
3.  向下滑动位于图层上方的不透明度设置，您也可以使用填充
4.  将图像另存为 Web 和设备
5.  在此对话框中，选择 PNG-24 而不是默认的 GIF
6.  确保选中透明度复选框并保存。

**CSS**

```
.ui-dialog {
    background-image: url('path/to/my/dialog-background-translucent.png') !important;
    background-repeat: repeat;
    background: transparent;
    /* Other settings here*/
} 
```

注意`!important`用于 background-image 属性的关键字。这就是让一切变得不同的原因！

等等瞧！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T09:30:37.337

不幸的是，这是一个***特性***而不是一个***错误***。CSS 继承意味着放置在父项上的任何不透明度属性也适用于其中的任何元素。`position: absolute`您可以通过使用和实验将对话内容放置在单独的 DIV 中来做一些聪明的事情`z-index`，但是对于您想要实现的目标来说，感觉需要付出很多努力。

更简单的是，您可以将对话框/标题定义`background-image`为半透明的 PNG 图像，`opacity`并将对话框留在原处。不过，这不是仅 CSS 的解决方案，这似乎是您正在寻找的。

希望这有助于澄清您的问题！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-22T14:42:05.647

实际上我发现这行得通：先声明透明度，然后声明半透明图像

```
.ui-dialog {
    background: transparent !important;
    background-image: url('path/to/my/dialog-background-translucent.png') !important;
    background-repeat: repeat;
    /* Other settings here */
} 
```

这将给出一个半透明的背景。

不过感谢您的指点。

# java - 流式传输 MimeBodyPart 文本

> ID：14850157
> 
> 赞同：1
> 
> 时间：2013-02-13T09:22:58.923
> 
> 标签：java, jakarta-mail

我必须在邮件正文中发送带有大字符串的电子邮件（不是作为附件），我可以从文件中读取字符串。

我的问题是：如何在流媒体中设置我的大字符串？

```
MimeBodyPart.setText(text); 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T09:26:45.713

您是否尝试使用：

```
public MimeBodyPart(java.io.InputStream is) throws MessagingException 
```

似乎有一个带有流的构造函数，请参见[此处](http://docs.oracle.com/javaee/6/api/javax/mail/internet/MimeBodyPart.html#MimeBodyPart%28java.io.InputStream%29)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T20:12:22.587

您需要使用 setDatahandler 方法，而不是使用 setText 方法，并且您需要基于 FileDataSource 创建一个 DataHandler。

```
msg.setDataHandler(new DataHandler(new FileDataSource(file))); 
```

# java - 使用来自 JavaBean 的数据填充 JSP 页面中的复选框

> ID：14850163
> 
> 赞同：7
> 
> 时间：2013-02-13T09:23:16.047
> 
> 标签：java, jsp, servlets, jstl, javabeans

我在 HTML 表单中有一个带有复选框的 JSP 页面，如下所示

![在此处输入图像描述](../Images/7a1aa3cade08e72ea81ce0e4af998e54.png)

现在在编辑用户*技能*时，我想从表中获取逗号分隔的值并填充 JSP 中的复选框。以下代码从数据库表中获取 CSV 技能。

```
 List<UserDetails> Skills = new ArrayList<UserDetails>();

      pstmt = (PreparedStatement) conn.prepareStatement(strSQL);
      rs    = pstmt.executeQuery();       
      String strSkills = rs.getString("Skills");

      List<String> items = Arrays.asList(strSkills.split("\\s*,\\s*"));

      objUserDetails.setSkills(items.toArray(new String[0]));

      Skills.add(objUserDetails);

      return Skills; 
```

现在我需要在 JSP 中填充复选框，并检查相应的技能。我使用了 Request`getAttribute()`方法，并传递给 JSP，如下所示

```
protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException 
{
   dbUtil objdbUtil     = new dbUtil();
   List<UserDetails> Skills = objdbUtil.getSkills();

   request.setAttribute("arrSkills", Skills);
   RequestDispatcher rqst = request.getRequestDispatcher("Skills.jsp");
   rqst.forward(request, response);
} 
```

如何使用我在 arrSkills 数组中获得的技能并填充复选框。我尝试使用

```
<c:forEach var="account" items="${arrUsersList}">
    <input type="checkbox" name="chkSkills" id="chkPHP" value="PHP"/>PHP
    <input type="checkbox" name="chkSkills" id="chkJava" value="Java"/>Java
    <input type="checkbox" name="chkSkills" id="chkMySQL" value="MySQL"/>MySQL
    <input type="checkbox" name="chkSkills" id="chkJavascript" value="Javascript"/>Javascript
    <input type="checkbox" name="chkSkills" id="chkJQuery" value="JQuery"/>JQuery
    <input type="checkbox" name="chkSkills" id="chkNode" value="Node"/>Node Js
</c:forEach> 
```

但我确信这不是使用它的正确方法。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-16T01:24:51.257

检查您的示例，这里有一些注释。

1）与您的*技能*变量相关。
在 Java 中，局部变量、实例变量和类变量按照惯例用 CamelCase 书写，**首字母小写**。

阅读 Wikipedia 文章以了解[**Java 命名约定**](http://en.wikipedia.org/wiki/Naming_convention_%28programming%29#Java)。[**另请参阅Java™ 编程语言**](http://www.oracle.com/technetwork/java/javase/documentation/codeconvtoc-136057.html)
的代码约定中关于命名约定的第 9 章。[](http://www.oracle.com/technetwork/java/javase/documentation/codeconvtoc-136057.html)

 **所以这会更好：

`List<UserDetails> **skills** = new ArrayList<UserDetails>();`

2）再次与您的技能变量有关。
您将其命名为*技能*，尽管从您的代码中可以清楚地看出技能只是*UserDetails*对象的属性之一**。**我在做一个假设，但*UserDetails*类是否仅与用户技能有关？如果*是*，那么最好在类名中反映这一点，例如*UserSkills*。否则，如果技能只是**用户详细信息之一**，那么这样的事情会更好：

 *****`List<UserDetails> **userDetailsList** = new ArrayList<UserDetails>();`

同样，强烈建议使用有意义的变量名。阅读上面的*命名约定*。

3)调用[**Connection.prepareStatement()**](http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#prepareStatement(java.lang.String))方法时不需要强制转换为*PreparedStatement* ，因为它已经返回*PreparedStatement*对象。所以就这样做：[](http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#prepareStatement(java.lang.String))

 ***```
pstmt = conn.prepareStatement(strSQL); 
```

* * *

作为**对您的问题的回答**，*是*的，当然您可以使用`<c:forLoop>`JSTL [**，**](https://stackoverflow.com/tags/jstl/info)例如**遍历所有用户的列表并输出每个用户的相关详细信息**。这是一种常见的做法。

你的问题不是很清楚，但让我猜猜。**在您的示例中，您只有有限的技能列表，我的意思是只有 PHP、Java、MySQL、JavaScript、jQuery、Node.js，并且对于每个用户，如果**用户具有适当的技能
，您希望检查相关复选框.

 ****如果**上述假设是正确的，那么**这里是可能的解决方案之一**。

* * *

设置包含您需要的所有技能的数组或列表的属性。

考虑到列表仅限于预定义值这一事实，您可以将该列表存储在 中`ServletContext`，以便整个应用程序都可以使用它。最好在实现[**ServletContextListener**](http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContextListener.html)的类中设置这样的全局对象。

示例：*AppContextListener.java*：

```
package com.example.listener;

import javax.servlet.ServletContextEvent;
import javax.servlet.ServletContextListener;
import javax.servlet.annotation.WebListener;

@WebListener
public class AppContextListener implements ServletContextListener {

    @Override
    public void contextInitialized(ServletContextEvent event) {
        String[] skills = {"PHP", "Java", "MySQL", "JavaScript", "jQuery", "Node.js"};
        event.getServletContext().setAttribute("skills", skills);
    }

    @Override
    public void contextDestroyed(ServletContextEvent event) {

    }
} 
```

**注意！**为了接收这些通知事件（contextInitialized、contextDestroyed），实现类必须在 Web 应用程序的部署描述符中声明、使用 WebListener 进行注释，或者通过 ServletContext 上定义的 addListener 方法之一进行注册。这里我使用`@WebListener`了注解。

我没有时间深入了解架构细节，但对于这个示例，我假设有一个类*User*，其中包含与用户相关的信息。其中，它*包含*作为`Map<String, Boolean>`. 它有 getter 和 setter（如`public Map<String, Boolean> getSkills()`和`public void setSkills(Map<String, Boolean> skills)`）。

示例：*User.java*

```
package com.example.model;

import java.util.Date;
import java.util.Map;

public class User {

    private String fisrtName;
    private String lastName;
    private Date birthday;
    ...
    private Map<Sting, Boolean> skills;

    // getters and setters here
} 
```

在某处，**在处理通过 doPost() 方法中的某些 HTML 表单提交的数据的 servlet 中**，您填充了用户技能和其他详细信息。像这样的东西（简化示例）：

```
User user = new User();
// set the user related data like first name or something like that
...
// get the list of available skills from ServletContext
String[] skills = (String[]) getServletContext().getAttribute("skills");
Map<String, Boolean> userSkills = new HashMap<String, Boolean>();

// Set the appropriate skills
for (String skill: skills) {
    if (request.getParameter(skill) != null) {
        userSkills.put(skill, true);
    } else {
        userSkills.put(skill, false);
    }
}

...
// Set user skills
user.setSkills(userSkills);
... 
```

这样您就不会对技能名称进行硬编码，否则您可以这样做：

```
...
Map<String, Boolean> userSkills = new HashMap<String, Boolean>();
if (request.getParameter("PHP") != null) {
    userSkills.put("PHP", true);
} else {
    userSkills.put("PHP", false);
}
// the same way for Java, MySQL and others
... 
```

现在在某个 servlet 中，获取所有用户，例如 a `List<User> users`，在请求范围内设置一个属性，例如`request.setAttribute("users", users)`存储用户列表并转发到某个视图（JSP 页面），该视图将输出与所有用户相关的数据。

输出用户相关数据的 JSP 页面的简单示例：*users.jsp*

```
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<!DOCTYPE html>
<html>
<head>
    <title>Test Page</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
    <%-- We iterate thru all the users --%>
    <c:forEach items="${users}" var="user">
        <!-- Outputting different user related data -->
        ...
        <!-- Now outputting the user skills -->
        <h3>User skills</h3>
        <%-- In the inside loop, we iterate thru all the available skills, stored in the ServletContext --%>
        <c:forEach items="${skills}" var="skill">
            <c:choose>
                <%-- If the user has the appropriate skill, the related checkbox will be checked. Otherwise unchecked. --%>
                <%-- Note: using skill as a key in the map of user skills --%>
                <c:when test="${user.skills[skill] == true}">
                    <input type="checkbox" name="chkSkills" value="${skill}" checked="checked">${skill}&nbsp;
                </c:when>
                <c:otherwise>
                    <input type="checkbox" name="chkSkills" value="${skill}">${skill}&nbsp;
                </c:otherwise>
            </c:choose>
        </c:forEach>
    </c:forEach>
</body>
</html> 
```

或**更紧凑的变体**使用`<c:if>`标签：*users.jsp*

```
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<!DOCTYPE html>
<html>
<head>
    <title>Test Page</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
    <c:forEach items="${users}" var="user">
        ...
        <h3>User skills</h3>
        <c:forEach items="${skills}" var="skill">
            <%-- Note: here <c:if> tag is used right inside <input> tag --%>
            <input type="checkbox" name="chkSkills" value="${skill}" <c:if test="${user.skills[skill]}">checked="checked"</c:if>>${skill}&nbsp;
        </c:forEach>
    </c:forEach>
</body>
</html> 
```

**注意**：要在 JSP中**注释**
JSP 特定代码部分，最好使用. 与 HTML 注释（形式为）不同，JSP 注释在发送给客户端的结果页面中不可见。 **`<%-- Some comment --%>``<!-- Some comment -->`**

 *** * *

希望这会对您有所帮助并提供一些有用的想法。**************

# cmd - Telnet 输出溢出，看不到完整输出

> ID：14850164
> 
> 赞同：0
> 
> 时间：2013-02-13T09:23:28.460
> 
> 标签：cmd, telnet

我正在使用模拟器，模拟器连接到 telnet 并将 printf 输出到 telnet 窗口。我尝试增加缓冲区和属性中的所有内容，但输出溢出。我也无法在 telnet 提示符下输入任何内容。有什么方法可以在 telnet 提示符下查看我的完整输出？ ![在此处输入图像描述](../Images/3cefdfe29b6718df3cfd36655005a071.png)

![在此处输入图像描述](../Images/ac348f6a787ff1c043f4b55fcccafcd2.png)

如您所见，我在 telnet 屏幕中看不到上面的条目 (21....)。我什至无法在 telnet 提示符中键入任何内容。任何事情都会有帮助！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T13:03:18.023

在我看到你的屏幕截图之前，我猜想输入行要么被你的任务栏覆盖，要么不在显示器的底部。我不确定最大化的窗口高度是否与问题有关，但我的回答是基于它的可能性。尝试使屏幕缓冲区大小保持较高，但窗口大小更接近正常值。

![控制台窗口布局设置](../Images/d79a457a80be87319c42cca8eff87ebe.png)

如果您已安装 Powershell，请在 telnet 之前尝试使用此批处理脚本设置控制台窗口大小和缓冲区。

```
@echo off
setlocal
set width=80
set height=35
set buffer=9999

mode con: cols=%width% lines=%height%
powershell -command "&{$H=get-host;$W=$H.ui.rawui;$B=$W.buffersize;$B.width=%width%;$B.height=%buffer%;$W.buffersize=$B;}" 
```

（[来源](https://stackoverflow.com/questions/13311924/)）

# java - 使用索引初始化静态最终数组

> ID：14850168
> 
> 赞同：1
> 
> 时间：2013-02-13T09:23:44.363
> 
> 标签：java, arrays, multidimensional-array

我想初始化一个多维私有静态最终整数数组，索引值。

```
private static final int[][] a = { {0,0,0}, {1,2,3} }; 
```

这对我不好。我在某个地方发现了我尝试过的这种奇怪的语法，但无论如何都不想编译。我添加它以澄清我需要什么：

```
private static final int[][] a;
private static {
    a = new int[NUM_TYPES][3];
    a [TYPE_EMPTY]  =   { 0, 0, 0 };
    a [TYPE_NORMAL] =   { 1, 2, 3 };
    }; 
```

不同的是现在我应该有一个[TYPE_EMPTY] 和a[TYPE_NORMAL] 而不是a[0] 和a[1]。在实际方面它是相同的，但第二个使源代码更加清晰、无错误和可维护。

例如，如果我将来添加一个新的 TYPE，我不需要关心数组中的数字索引。

正如我所说，我没有找到任何正确的语法来做到这一点，上面的语法是完全错误的。一些Java专家会给我一个简短的教训吗？：） 非常感谢你。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-13T09:27:54.630

试试这个 -

```
private static final int[][] a;
private static final int NUM_TYPES  = 2;
private static final int TYPE_EMPTY = 0;
private static final int TYPE_NORMAL = 1;

static { // static initializer  block.
    a = new int[NUM_TYPES][3];
    a [TYPE_EMPTY] =  new int[]{ 0, 0, 0 };
    a [TYPE_NORMAL] = new int[]{ 1, 2, 3 };
} 
```

[静态初始化块](http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html)参考

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-13T09:40:42.553

我建议使用枚举来保存您的数据：

```
public enum TYPE {
  TYPE_EMPTY(0,0,0),
  TYPE_NORMAL(1,2,3);

  private int[] data; 

  TYPE(int... data) {
     this.data = data;
  }

  public int[] getData() {
     return data;
  }
} 
```

您可以使用`TYPE.values()`.

**推理：**我认为如果你已经为你的数据行*命名*，它们实际上对*你*有意义，所以它们应该是真实的对象。如果您有一小组“常量”实例，那么枚举是一个不错的选择。这种设计为您提供了更大的灵活性（您可以制作数据数组的防御性副本，添加新属性，您可以添加、重新排列或删除枚举实例等而不会破坏任何内容）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-13T09:51:41.250

每当我看到`private static final int ...`定义硬偏移等时，我都会尝试想一种方法`enums`来解决问题，因为——毕竟——它们就是这样。

我想出了这个：

```
enum MyType {
  Empty(null),
  Normal(new int[] {1,2,3});
  // My values.
  final int [] values;
  // Constructor.
  MyType(int [] values) {
    this.values = values;
  }

  // Getter - equivalent to the array access.
  public int get(int i) {
    return values == null ? 0 : values[i];
  }
} 
```

# components - 列出容器中所有已注册的组件，Windsor？

> ID：14850169
> 
> 赞同：0
> 
> 时间：2013-02-13T09:23:47.993
> 
> 标签：components, castle-windsor, containers, resolve

尝试使用工厂实例化组件时出现此异常。

```
Requested component named '<component_Name>' was not found in the container. Did you forget to register it?

There is one other component supporting requested service '<service_Name>'. Is it what you were looking for? 
```

组件在容器中注册（因为它使用 resolve 方法返回实例）。它喜欢某些依赖组件未注册导致此异常。所以我尝试查看容器中安装的所有组件和服务，但不知道该怎么做。是否有任何程序可以列出容器中注册的所有服务/组件

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:38:06.083

您可以通过[调试器视图来完成](http://docs.castleproject.org/Windsor.Debugger-views.ashx)

# c# - 为什么 Json.Encode 不能正确编码从 Json.Decode 返回的数据？

> ID：14850170
> 
> 赞同：12
> 
> 时间：2013-02-13T09:23:51.613
> 
> 标签：c#, .net, json

当使用 System.Web.Helpers 中的 Json 类并运行以下代码时，我希望它生成一个包含与原始字符串相同信息的 json 字符串，但奇怪的是它只返回字符串`{ "employees" : {} }`并完全省略数组并替换它有一个空的对象？

```
string jsonData = "{ \"employees\": [ { \"firstName\":\"John\" , \"lastName\":\"Doe\" }, { \"firstName\":\"Anna\" , \"lastName\":\"Smith\" }, { \"firstName\":\"Peter\" , \"lastName\":\"Jones\" } ] }";
var json = Json.Decode(jsonData);
string result = Json.Encode(json); 
// result is: { "employees" : {} } 
```

当我查看从 Json.Decode 返回的对象时，数组被解码为 DynamicJsonArray。如果我使用数组/列表/字典创建一个 .NET 对象，它似乎可以完美地对它们进行编码，因此问题似乎与 DynamicJsonArray 有关。

如果我对没有数组的复杂 json 字符串进行编码/解码，它似乎工作正常：

```
string jsonData = "{ \"firstName\": \"John\", \"lastName\": \"Doe\", \"family\": { \"mother\": { \"firstName\": \"Anna\", \"lastName\": \"Smith\" }, \"father\": { \"firstName\": \"Peter\", \"lastName\": \"Jones\" }  }  }";
var json = Json.Decode(jsonData);
string result = Json.Encode(json); 
/* result is (formatted for readability):
{
    "firstName" : "John",
    "lastName" : "Doe",
    "family" : {
        "mother" : {
            "firstName" : "Anna",
            "lastName":"Smith"
         },
         "father" : {
             "firstName" : "Peter",
             "lastName" : "Jones"
          }
     }
}
*/ 
```

我查看了 msdn 上的文档，但找不到任何不应该工作的原因。这可能是一个错误还是设计使然？

## 更新

如果我在根节点有一个 json 字符串，它是一个数组，它会正确编码/解码，所以我真的开始怀疑这是一个错误（或者至少它非常不一致）：

```
string jsonData = "[ { \"firstName\":\"John\" , \"lastName\":\"Doe\" }, { \"firstName\":\"Anna\" , \"lastName\":\"Smith\" }, { \"firstName\":\"Peter\" , \"lastName\":\"Jones\" } ]";
var json = Json.Decode(jsonData);
string result = Json.Encode(json);
/* result is (formatted for readability):
[
    { 
        "firstName" : "John",
        "lastName" : "Doe"
    },
    {
        "firstName" : "Anna",
        "lastName" : "Smith" 
    },
    {
        "firstName" : "Peter",
        "lastName" : "Jones"
    }
]
*/ 
```

## 更新 2

毕竟我决定向微软提出一个问题。让我们看看他们要说什么： [http ://connect.microsoft.com/VisualStudio/feedback/details/779119/data-from-json-decode-is-not-encoded-correctly-when-encoding-with-json-编码](http://connect.microsoft.com/VisualStudio/feedback/details/779119/data-from-json-decode-is-not-encoded-correctly-when-encoding-with-json-encode)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-06-08T05:59:27.960

我也遇到了这个错误，幸运的是这个库现在是开源的，所以我们可以自己修复这个错误： [https ://aspnetwebstack.codeplex.com/SourceControl/latest](https://aspnetwebstack.codeplex.com/SourceControl/latest)

修复在 System.Web.Helpers/DynamicJavaScriptConverter.cs

```
// Get the value for each member in the dynamic object
foreach (string memberName in memberNames)
{
    //replace this line
    //values[memberName] = DynamicHelper.GetMemberValue(obj, memberName);

    //with this code
    var value = DynamicHelper.GetMemberValue(obj, memberName);
    if (value is DynamicJsonArray)
        value = (object[])(DynamicJsonArray)value;
    values[memberName] = value;
} 
```

我已经在 codeplex 网站上提交了一个带有建议修复的错误： [https ://aspnetwebstack.codeplex.com/workitem/1085](https://aspnetwebstack.codeplex.com/workitem/1085)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T16:22:26.827

我认为您应该改用 Json.NET。请参阅：[Codeplex 上的 Json.NET](http://json.codeplex.com/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T17:14:32.743

您是否考虑过创建和使用类，然后您可以对它们进行序列化/反序列化？

```
JavaScriptSerializer serializer = new JavaScriptSerializer();
// to JSON
string json = serializer.Serialize(EmployeeList);
// from JSON
EmployeeList employeeList = serializer.Deserialize<EmployeeList>(json); 
```

我几乎总是序列化/反序列化，因为我需要将数据作为对象在执行期间使用。但我想这取决于你的情况。

# java - Java中矩阵的Co Factor（用于确定矩阵的逆）

> ID：14850173
> 
> 赞同：1
> 
> 时间：2013-02-13T09:24:02.603
> 
> 标签：java, matrix, matrix-inverse

我正在尝试使用伴随方法确定矩阵的逆，即（首先计算矩阵的辅因子，然后转置该矩阵，最后，将其乘以（1/行列式）以获得行列式值的倒数）我有确定转置和行列式的方法，但是我正在努力解决辅因子矩阵 -

显示如何使用伴随方法手动确定逆的链接[http://www.mathwords.com/i/inverse_of_a_matrix.htm](http://www.mathwords.com/i/inverse_of_a_matrix.htm) 显示如何手动计算辅因子的链接[http://www.mathwords.com/c/cofactor_matrix .htm](http://www.mathwords.com/c/cofactor_matrix.htm) >

我有一种方法可以很好地计算行列式和转置，但是我无法获得辅因子方法来给我所需的输出

示例输出为 => 24 5 -4
24 5 -4
24 5 -4 但第二行和第三行应该不同，有什么建议吗？谢谢！这是我正在使用的方法=> checkIfSquare 和 assignmentingSign 方法也可以正常工作

```
 public static int[][] cofactor(int[][] matrix) {
    int[][] cofactorMatrix = new int[matrix.length][matrix.length];

    for (int j = 0; j < matrix.length; j++) {
        if (checkIfSquare(matrix)) {
            for (int location = 0; location < matrix.length; location++) {
                int reducedMatrix[][] = new int[matrix.length - 1][matrix.length - 1];

                for (int rows = 1; rows < matrix.length; rows++) {
                    for (int cols = 0; cols < matrix.length; cols++) {
                        if (cols > location) {
                            reducedMatrix[rows - 1][cols - 1] = matrix[rows][cols];
                        } else if (cols < location) {
                            reducedMatrix[rows - 1][cols] = matrix[rows][cols];
                        }
                    }
                }

                int sign = assigningSign(location);
                cofactorMatrix[j][location] = determinantCalc(reducedMatrix) * sign;
            }
        }
    }
    return cofactorMatrix;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:45:02.490

当你计算时，`reducedMatrix`你总是跳过第一行。这适用于辅因子矩阵的第一行，但对于下面的行，您需要跳过第 j 行。这就是为什么您的输出包含重复的第一行的原因。

顺便说一句，这是一种计算矩阵逆的可怕方法。我认为这是一项学术练习，并不打算用于严肃的项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:41:26.840

没有必要重新发明轮子。Jama 是一个写得很好的包。Maven 仓库

```
 <dependency>
        <groupId>Jama</groupId>
        <artifactId>Jama</artifactId>
        <version>1.0.2</version>
    </dependency>

    <repository>    
        <id>ebi-repo</id>    
        <name>The EBI internal repository</name>    
        <url>http://www.ebi.ac.uk/~maven/m2repo</url>    
        <releases>      
            <enabled>true</enabled>    
        </releases>    
        <snapshots>      
            <enabled>false</enabled>    
        </snapshots>  
    </repository> 
```

或者，该 jar 文件可在[http://math.nist.gov/javanumerics/jama/#Package获得](http://math.nist.gov/javanumerics/jama/#Package)

# visual-studio-2010 - 如何解决 Visual Studio 2010 和 Visual Studio 2012 之间的冲突

> ID：14850182
> 
> 赞同：3
> 
> 时间：2013-02-13T09:24:16.270
> 
> 标签：visual-studio-2010, visual-studio, visual-studio-2012, visual-studio-debugging

我有一个用`Visual Studio 2010`. 它连接到 Web 服务并执行其他数据库调用。

当我安装`Visual Studio 2012`上面提到的应用程序不再工作了。我认为有些东西坏了，或者 2010 年和 2012 年之间可能存在冲突。所以为了确保我卸载了所有的 Visual Studio 并重新安装了 Visual Studio 2010。我尝试再次运行该应用程序，它可以 100% 运行。然后我重新安装了 Visual Studio 2012，应用程序没有运行。它出现以下错误：

```
A fatal error has occurred and debugging needs to be terminated. For more details, please the Microsoft Help and Support web site. HRESULT=0x8007000e. ErrorCode=0x0. 
```

为什么我会收到此错误？我该如何解决这个问题？

我的应用程序不会出现内存不足的情况，因为我有大约 4GB，并且在没有安装 Visual Studio 2012 的情况下运行就足够了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-06T05:19:20.730

.NET Framework 4.5 是对 .NET Framework 4.0 的“就地升级”。某些文件可能已升级，这可能是原因。有关详细信息，请参阅链接[vs2010 v/s vs2012](http://kupsidoo.wordpress.com/2012/12/19/dont-install-visual-studio-2012-with-visual-studio-2010/)

# jquery - 类和类型都作为 jquery 选择器

> ID：14850185
> 
> 赞同：0
> 
> 时间：2013-02-13T09:24:37.693
> 
> 标签：jquery, css

```
<button class="actionButton default" type="submit"> Save</button> 
```

有没有办法为这个按钮选择类和类型作为 jquery 选择器？

我尝试了以下一个。但没有工作。

```
var saveBttn=$('.actionButton.default :submit') 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T09:25:03.607

您不需要选择器中的空间：

```
var saveBttn = $('.actionButton.default:submit') 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-13T09:25:23.733

尝试：

```
var saveBttn=$('.actionButton.default[type=submit]') 
```

jQuery API 文档`:submit`：

> 因为 :submit 是一个 jQuery 扩展而不是 CSS 规范的一部分，所以使用 :submit 的查询不能利用原生 DOM querySelectorAll() 方法提供的性能提升。为了在现代浏览器中获得更好的性能，请改用 [type="submit"]。

# html - 使用 alt 标签作为锚链接是否正确？

> ID：14850187
> 
> 赞同：146
> 
> 时间：2013-02-13T09:24:38.307
> 
> 标签：html, anchor, alt

使用 alt 标签作为锚链接是否正确，例如

```
<a href="#" class="test" alt="Something" src="sfasfs" ></a> 
```

* * *

## 回答 #1

> 赞同：147
> 
> 时间：2013-02-13T10:14:43.383

最好通过查看官方规范来回答此类问题：

1.  转到规范：[https ://www.w3.org/TR/html5/](https://www.w3.org/TR/html5/)

2.  搜索“`a`元素”：[https ://www.w3.org/TR/html5/text-level-semantics.html#the-a-element](https://www.w3.org/TR/html5/text-level-semantics.html#the-a-element)

3.  `a`检查“内容属性”，其中列出了元素的所有允许属性：

    > *   全局属性
    > *   `href`
    > *   `target`
    > *   `download`
    > *   `rel`
    > *   `hreflang`
    > *   `type`

4.  检查链接的“全局属性”：[https ://www.w3.org/TR/html5/dom.html#global-attributes](https://www.w3.org/TR/html5/dom.html#global-attributes)

如您所见，元素`alt`上不允许使用该属性。 您还会注意到该属性也是不允许的。`a`
`src`

通过[验证您的 HTML](https://validator.w3.org/nu/)，会向您报告此类错误。

* * *

请注意，以上内容适用于***HTML5***，这是[W3C 从 2014 年开始制定的 HTML 标准](https://www.w3.org/TR/2014/REC-html5-20141028/ "HTML5 · W3C 推荐 · 2014 年 10 月 28 日")。2016 年，***HTML 5.1***成为[下一个 HTML 标准](https://www.w3.org/TR/2016/REC-html51-20161101/ "HTML 5.1 · W3C 推荐 · 2016 年 11 月 1 日")。以相同的方式查找允许的属性。您将看到该`a`元素在 HTML 5.1 中可以具有另一个属性：`rev`。

[您可以在W3C 的*HTML Current Status*](https://www.w3.org/standards/techs/html)上找到所有 HTML 规范（包括最新标准）。

* * *

## 回答 #2

> 赞同：64
> 
> 时间：2013-02-13T09:27:41.123

对于锚点，您应该改用标题。alt 不是 a 的有效属性。请参阅[http://w3schools.com/tags/tag_a.asp](http://w3schools.com/tags/tag_a.asp)

* * *

## 回答 #3

> 赞同：38
> 
> 时间：2015-11-10T01:30:11.593

“title”在浏览器中被广泛实现。尝试：

```
<a href="#" title="hello">asf</a> 
```

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2014-09-27T06:30:10.597

如果您希望像应用 alt 属性一样应用描述性信息，则应该将 title 属性用于锚标记。title 属性在锚标记上有效，除了提供有关链接页面的信息外，没有其他用途。

W3C 建议 title 属性的值应与链接文档的标题值匹配，但这不是强制性的。

[http://www.w3.org/MarkUp/1995-archive/Elements/A.html](http://www.w3.org/MarkUp/1995-archive/Elements/A.html)

* * *

或者，可能更有益的是，您可以使用 ARIA 可访问性属性`aria-label`（不要与 混淆`aria-labeledby`）。 `aria-label`与 alt 属性对图像的作用相同，但用于非图像元素，并且包括一些优化措施，因为您针对屏幕阅读器进行了优化。

[http://www.w3.org/WAI/GL/wiki/Using_aria-label_to_provide_labels_for_objects](http://www.w3.org/WAI/GL/wiki/Using_aria-label_to_provide_labels_for_objects)

* * *

如果你想描述一个锚标签，通常使用 rel 或 rev 标签是合适的，但你仅限于特定的值，它们不应该用于人类可读的描述。

Rel 用于描述链接页面与当前页面的关系。（例如，如果链接页面是逻辑系列中的下一个，则为 rel=next）

rev 属性本质上是 rel 属性的反向关系。Rev 描述了当前页面与链接页面的关系。

您可以在此处找到有效值列表：http: [//microformats.org/wiki/existing-rel-values](http://microformats.org/wiki/existing-rel-values)

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2013-02-13T12:01:03.987

不，任何 HTML 规范或草案中`alt`的元素都不允许使用属性（它将是属性，而不是标签） 。`a`而且它似乎也不被任何浏览器认为具有任何意义。

那么，为什么人们尝试使用它有点神秘，但可能的解释是他们这样做与元素的`alt`属性类似`img`，期望在鼠标悬停时看到“工具提示”。这有两个问题。首先，每个元素都有自己的属性，在每个元素的规范中定义。其次，一些古代浏览器中属性的“工具提示”渲染`alt`是/曾经是一个怪癖甚至是一个错误，而不是可以预料的事情；当且仅当无论出于何种原因没有呈现图像本身时，该`alt`属性才应该呈现给用户。

要创建“工具提示”，请改用`title`属性，或者更好的是，使用 Google 搜索“CSS 工具提示”并使用您喜欢的基于 CSS 的工具提示（它们可以被描述为隐藏的“层”，在鼠标悬停时变得可见）。

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2017-02-05T08:37:05.143

我用了标题，它起作用了！

title 属性给出了链接的标题。除了一个例外，它纯粹是建议性的。值为文本。样式表链接例外，其中 title 属性定义了替代样式表集。

```
<a class="navbar-brand" href="http://www.alberghierocastelnuovocilento.gov.it/sito/index.php" title="sito dell'Istituto Ancel Keys">A.K.</a> 
```

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2020-04-17T18:09:44.043

我很惊讶地看到所有答案都说明在标签中使用`alt`属性是**无效**的。这是绝对错误的。`a`

 **Html 不会阻止您使用任何属性：

```
<a your-custom-attribute="value">Any attribute can be used</a> 
```

如果你问在语义上使用`alt`属性是否正确，`a`那么我会说：

不。它用于设置图像描述`<img alt="image description" />`。

这是您如何处理属性的问题。这是一个例子：

```
a::after {
  content: attr(color); /* attr can be used as content */
  display: block;
  color: white;
  background-color: blue;
  background-color: attr(color); /* This won't work */
  display: none;
}
a:hover::after {
  display: block;
}
[hidden] {
  display: none;
}
```

```
<a href="#" color="red">Hover me!</a>
<a href="#" color="red" hidden>In some cases, it can be used to hide it!</a>
```

同样，如果您问使用自定义属性在语义上是否正确，那么我会说：

不，使用`data-*`属性来进行语义用途。

* * *

*糟糕，问题是在 2013 年提出的。***

# salesforce - 获取销售人员中的开放活动列表

> ID：14850190
> 
> 赞同：1
> 
> 时间：2013-02-13T09:24:41.393
> 
> 标签：salesforce, apex-code, visualforce, soql

我必须检索与自定义对象相关的 OpenActivities 列表 为自定义对象启用了活动。为了获取列表，我正在使用这样的查询

```
public List<OpenActivity> getActivity1(){

return [SELECT Subject from OpenActivities Where WhatId= :ApexPages.currentPage().getParameters().get('id') ];

} 
```

当我保存它时，它给了我错误

```
Error: Compile Error: sObject type 'OpenActivities' is not supported. If you are attempting to use a custom object, be sure to append the '__c' after the entity name. Please reference your WSDL or the describe call for the appropriate names. at line 44 column 8 
```

谁能告诉我如何在销售人员中检索与特定记录对象相关的开放活动列表？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T09:36:15.783

您应该使用此处描述的查询：http: [//www.salesforce.com/us/developer/docs/api/Content/sforce_api_objects_openactivity.htm](http://www.salesforce.com/us/developer/docs/api/Content/sforce_api_objects_openactivity.htm)

例如

```
List<Account> a = [SELECT (SELECT ActivityDate,
                                  Description,
                                  Subject
                           FROM OpenActivities)
                   FROM Account];

 for (Account a: l) {
     System.debug(a.OpenActivities);
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-25T08:17:41.420

正确答案是：

```
List<Account> a = [SELECT (SELECT ActivityDate,
                                  Description,
                                  Subject
                           FROM OpenActivities)
                   FROM Account];

 for (Account l: a) {
     System.debug(l.OpenActivities);
 } 
```

# eclipse-plugin - pmd eclipse jdk 兼容性

> ID：14850206
> 
> 赞同：1
> 
> 时间：2013-02-13T09:25:35.310
> 
> 标签：eclipse-plugin, pmd

我已经安装了 Eclipse 的 PMD 插件版本 3.2.6.v200903300643（版本 3.7.*）。

当我尝试运行生成抽象语法树时，出现以下错误

PMD 异常：net.sourceforge.pmd.ast.ParseException：在 JDK 1.4 模式下运行时无法使用静态导入

我的问题是：当通过 Eclipse 使用时，如何配置 PMD 运行的 JDK 兼容模式？

我在属性概述中找不到任何配置选项。

问候埃斯本

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-14T09:19:51.980

很可能您需要配置`maven-pmd-plugin`以使用正确的[targetJdk](http://maven.apache.org/plugins/maven-pmd-plugin/pmd-mojo.html#targetJdk)选项值。它没有明确说明此选项是否默认为`1.4`，但似乎如此。

# prolog - 通过元编程通过谓词从集合中推断事实

> ID：14850207
> 
> 赞同：2
> 
> 时间：2013-02-13T09:25:36.773
> 
> 标签：prolog, metaprogramming

假设我有一组文字（例如表示为一个列表）和一个动态指定的谓词，我想要的是生成一组文字，其中包含所有以前的文字以及可以通过应用谓词扣除的文字到集合。

一个例子，已经定义了谓词

```
pred(A, B) :- base(A, B).
pred(A, C) :- base(A, B), pred(B, C). 
```

并假设谓词有这样的签名

```
deduce_set(+Set, +Pred, ?DeducedSet) 
```

以下陈述成立（为真）：

```
deduce_set([base(a,b), base(a,c), base(b,d), base(d, e)],
           pred/2,
           [base(a,b), base(a,c), base(b,d), base(d,e), pred(a,d), pred(a,e), pred(b,e)]
          ). 
```

最有效和最通用的方法是什么？我一直在考虑类似的事情：

*   断言 Set 中的所有文字
*   调用 Pred
*   如果它成功断言它的头
*   收集结果集中所有断言的事实并放入列表中

没有更好的方法吗？

**更新**这个解决方案，由 CapelliC 更好地定义，通过使用元编程不能处理对象标识下集合中的变量。有什么解决方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T10:15:36.063

您可以使用 findall/3（或更好的[findall](http://www.swi-prolog.org/pldoc/doc_for?object=findall/4) /4），避免在重试演绎步骤之前区分（例如）您需要删除哪些 pred/2 实例的问题。

```
deduce_set(Base, Pred/Arity, Res) :-
    functor(P, Pred, Arity),

    % how to 'undo' this without a description?
    % retractall(base(_,_)),

    setof(F-A, M^(member(M, Base), functor(M, F, A)), Desc),
    maplist(retractdesc, Desc),

    maplist(assertz, Base),

    findall(P, P, All),
    append(Base, All, Res).

retractdesc(F-A) :-
    functor(P, F, A),
    retractall(P). 
```

我还会添加对 Base 元素的描述，以了解在运行之前要清除的内容（当然可以使用 获得`setof(F-A,M^(member(M,Base),functor(M,F,A)),Desc)`）

```
pred(A, B) :- base(A, B).
pred(A, C) :- base(A, B), pred(B, C).

test :-
    deduce_set([base(a,b), base(a,c), base(b,d), base(d, e)], pred/2, R),
    R = [base(a,b), base(a,c), base(b,d), base(d,e), pred(a,d), pred(a,e), pred(b,e)]. 
```

请注意 test/0 将失败，因为返回集与预期列表不匹配。

```
?- test.
base(a,b)
base(a,c)
base(b,d)
base(d,e)
pred(a,b)
pred(a,c)
pred(b,d)
pred(d,e)
pred(a,d)
pred(a,e)
pred(b,e)
false. 
```

一般来说，我建议您使用 Datalog 来完成您的任务，因为非正式的描述似乎非常相似。有关“免费使用”且功能丰富的系统，请参见[DES 。](http://www.fdi.ucm.es/profesor/fernan/DES/)

# logging - 在服务器关闭之前不会写入日志文件/不使用 Logger 写入

> ID：14850208
> 
> 赞同：2
> 
> 时间：2013-02-13T09:25:40.070
> 
> 标签：logging, sinatra, rack, thin

我正在 Windows 上使用 Sinatra/Thin 开发一个简单的 Web 服务

在我的应用程序中，我有以下内容可以启用对文件的日志记录：

```
Dir.mkdir('log') unless File.exists?('log')
use Rack::CommonLogger, File.new('log/access.log', 'w') 
```

当服务器启动时，文件被创建。但是，在我关闭服务器之前，没有任何内容写入文件。

另一方面，当我使用 Logger 时，如下所示：

```
logger = Logger.new('log/access.log', 10, 1024000)
use Rack::CommonLogger, logger 
```

它甚至不将条目写入日志文件，除了一行写着：

```
# Logfile created on 2013-02-13 11:23:45 +0200 by logger.rb/31641 
```

我需要的是：

*   要立即写入的日志条目
*   能够记录日志轮换功能

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T14:42:08.270

我一直在我的 sinatra 应用程序中使用这个解决方案（继承 Sinatra::Base）`before do
env['rack.logger'] = Logger.new("log/#{App.environment}.log")
logger.datetime_format = "%Y/%m/%d @ %H:%M:%S "
logger.level = Logger::INFO if App.production?
end`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-25T11:26:15.407

使用 Sinatra 经典样式应用程序，将文件的属性同步设置为 true 以进行日志记录，对我有用。在生产和开发中：

```
Logger.class_eval { alias :write :'<<' }
flogger = File.open("log/app.log","a")
flogger.sync = true # This is what makes to write always
logger = Logger.new(flogger)
use Rack::CommonLogger, logger 
```

资料来源：

*   Sinatra 中的生产日志记录 - [http://spin.atomicobject.com/2013/11/12/production-logging-sinatra/](http://spin.atomicobject.com/2013/11/12/production-logging-sinatra/)
*   在 Ruby 中刷新文件 -[了解 Ruby 和 OS I/O 缓冲](https://stackoverflow.com/questions/6701103/understanding-ruby-and-os-i-o-buffering)

# c++ - 较大年份的不正确纪元 unix 时间值 (2048)

> ID：14850209
> 
> 赞同：1
> 
> 时间：2013-02-13T09:25:40.590
> 
> 标签：c++, unix

我需要输入日期和时间的纪元时间，但是当我输入 2048（年）时，我得到的值非常大，“18446744073709551615”，这应该是不正确的..

当我输入像 2012（年）、2015（年）这样的日期时，它的纪元值是正确的，我需要为 2048 年（年）做任何更改

```
time_t get_unix_time(int,int,int,int,int,int,int);
int main()
{
unsigned long long m_process_date;
m_process_date = get_unix_time (12,31,2048,23,59,58,-1);
std::cout<<"\n m_process_date:"<< m_process_date<<std::endl;
return 1;
}

time_t get_unix_time(   int         month,
                        int         day,
                        int         year,
                        int         hour,
                        int         minute,
                        int         second,
                        int         dst )
{
    tm          ts;

    ts.tm_mon = month - 1;
    ts.tm_mday = day;

    if( year < 100 )
        ts.tm_year = year + 100;
    else
        ts.tm_year = year - 1900;

    ts.tm_hour = hour;
    ts.tm_min = minute;
    ts.tm_sec = second;
    ts.tm_isdst = dst;

    return mktime( &ts );
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T09:30:12.423

标准 Unix 时间存储在有符号整数中。这是正常的 32 位，但可能因实现而异（一些新的实现存储`time_t`为带符号的 64 位 int）。

因此，对于 32 位有符号整数，这意味着最大可表示日期为`Jan 19, 2038`.

# android - 从字符串意图和开始活动

> ID：14850212
> 
> 赞同：6
> 
> 时间：2013-02-13T09:26:04.153
> 
> 标签：android, android-activity

我有一个小问题。我想以其他方式开始活动。我知道

```
Intent i = new Intent(this, ActivityTwo.class); 
```

初始化意图，然后我可以`startActivity`。但我想做这样的事情：

```
Intent i = new Intent(this, MyString.class); 
```

我没有`nameActivity.class`，但我想更改 string.class。当我有类的字符串名称时如何开始活动？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-13T09:28:57.083

试试这个： `startActivity(this, Class.forName(yourStringClass));`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-13T09:29:42.153

这是一个代码，您可以通过该代码使用活动的名称开始活动

```
Class<?> c = null;
if(StringClassname != null) {
    try {
        c = Class.forName(StringClassname );
    } catch (ClassNotFoundException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
}
Intent intent = new Intent(mail.this, c);
startActivity(intent); 
```

这里的类名将是带有包名的类的全名。例如，如果您的包名称为 xyz，并且您的活动名称为 A，则活动 A 的全名将是 xyzA

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-13T09:28:53.323

`Class`您可以使用按名称查找`Class.forName("MyString")`

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-09-24T11:54:38.227

就用....

```
 Intent intent = new Intent().setClassName(activity,"packageName"+"className");
  startActivity(intent); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-13T09:31:11.970

```
Class<?> c =Class.forName("YOUR STRING" );
Intent intent = new Intent(FirstActivity.this, c);
startActivity(intent); 
```

# html - 要没有 HTML 的 ASP 经典页面不显示

> ID：14850221
> 
> 赞同：0
> 
> 时间：2013-02-13T09:26:42.533
> 
> 标签：html, asp-classic, vbscript, window, show

在我的场景中，我有一个被调用的 ASP 经典页面。我希望它不向用户显示 ASP 经典页面。ASP 经典页面只有 VBScript 代码，我认为这可以轻松解决这个问题。任何想法都会有所帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T11:53:12.247

最终用户应该看到什么？如果页面被用户交互调用，最终用户期望浏览器返回*一些东西*。如果您不想显示一个空页面，您至少应该重定向到主页，但是一个包含更多关于用户交互的有用信息的页面可能会更好。

无论如何，您可以使用***response.transfer***或***response.redirect***来进行重定向。Response.transfer 是服务器端的重定向，response.redirect 是客户端的重定向。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-17T03:54:54.530

听起来确实应该使用 ajax 调用来完成。您可以做的一件事是将附加值发布到您的 asp 页面，然后在第二个 asp 页面测试该值或 response.redirect 到其他页面。

假设您正在向 page2.asp 发送值，例如 page2.asp?data1=abc&data2=xyz。您可以将其更改为 page2.asp?data1=abc&data2=xyz&specialkey=hawks

然后在页面顶部的 page2.asp 上插入代码

```
if request("specialkey")<>"hawks" then
    response.redirect("home.asp")
end if 
```

# php - 如何使用 php PDO 从 mysql 数据库中检索和显示数据？

> ID：14850225
> 
> 赞同：-5
> 
> 时间：2013-02-13T09:26:47.273
> 
> 标签：php, mysql

如何使用 php PDO 从 mysql 数据库中检索和显示数据？这是我的代码。我知道如何使用 mysql_ 函数来做到这一点。这是我尝试过的，但到目前为止它什么也没显示。

```
 #query to display the users 
$select_all=("select * from tish_user
inner join tish_clientinfor on  tish_user.user_id = tish_clientinfor.user_id
inner join tish_images on  tish_user.user_id = tish_images.user_id
inner join tish_security on  tish_user.user_id = tish_security.user_id");
$result = $con->query($select_all);
#if the statement is success full
if($result !== false ){
$cols = $result->columnCount();
#echo number of rows 
echo 'num rows'.$cols.'</br>';
#pass the result set 
foreach($result as $row){
echo  $row['username'].'</br>';
}
}
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T10:01:11.393

试试这个答案

```
$sql = ("select * from user");
$result = $con->$query($sql);
#if the statement is success full
if ($result) !== false ){
$cols = $result->columnCount();
#echo number of rows 
echo 'num rows'.$cols.'</br>';
#pass the result set 
foreach($result as $row){
echo     $row['username'].'</br>';
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-13T09:28:19.770

准备好之后，就需要执行了。

像这样：

```
$all->execute(); 
```

之后，循环遍历结果：

```
while( $row = $all->fetch() )
    print_r( $row ); 
```

您还可以为`PDO::FETCH_ASSOC`关联结果提供 fetch 语句。

```
while( $row = $all->fetch(PDO::FETCH_ASSOC) )
    print_r( $row ); 
```

# sql-server - 日期部分（年，...）与年（...）

> ID：14850239
> 
> 赞同：23
> 
> 时间：2013-02-13T09:27:44.460
> 
> 标签：sql-server, tsql

在以下情况下使用其中一种的优点是什么：

```
DATEPART(YEAR, GETDATE()) 
```

相对于：

```
YEAR(GETDATE()) 
```

有性能差异吗？如果是这样，哪一个是最快的？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-02-13T09:46:49.910

没有区别。在执行计划中，两者都被翻译为`datepart(year,getdate())`.

这适用于 SQL Server 2005、2008 和 2012。

```
select datepart(year, getdate())
from (select 1 x) x

select year(getdate())
from (select 1 x) x 
```

执行计划。

```
<?xml version="1.0" encoding="utf-16"?>
<ShowPlanXML xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Version="1.0" Build="9.00.5057.00" xmlns="http://schemas.microsoft.com/sqlserver/2004/07/showplan">
  <BatchSequence>
    <Batch>
      <Statements>
        <StmtSimple StatementCompId="1" StatementEstRows="1" StatementId="1" StatementOptmLevel="TRIVIAL" StatementSubTreeCost="1.157E-06" StatementText="select datepart(year, getdate())&#xD;&#xA;from (select 1 x) x&#xD;&#xA;&#xD;" StatementType="SELECT">
          <StatementSetOptions ANSI_NULLS="false" ANSI_PADDING="false" ANSI_WARNINGS="false" ARITHABORT="true" CONCAT_NULL_YIELDS_NULL="false" NUMERIC_ROUNDABORT="false" QUOTED_IDENTIFIER="false" />
          <QueryPlan DegreeOfParallelism="0" CachedPlanSize="8" CompileTime="23" CompileCPU="23" CompileMemory="64">
            <RelOp AvgRowSize="11" EstimateCPU="1.157E-06" EstimateIO="0" EstimateRebinds="0" EstimateRewinds="0" EstimateRows="1" LogicalOp="Constant Scan" NodeId="0" Parallel="false" PhysicalOp="Constant Scan" EstimatedTotalSubtreeCost="1.157E-06">
              <OutputList>
                <ColumnReference Column="Expr1001" />
              </OutputList>
              <RunTimeInformation>
                <RunTimeCountersPerThread Thread="0" ActualRows="1" ActualEndOfScans="1" ActualExecutions="1" />
              </RunTimeInformation>
              <ConstantScan>
                <Values>
                  <Row>
                    <ScalarOperator ScalarString="datepart(year,getdate())">
                      <Identifier>
                        <ColumnReference Column="ConstExpr1002">
                          <ScalarOperator>
                            <Intrinsic FunctionName="datepart">
                              <ScalarOperator>
                                <Const ConstValue="(0)" />
                              </ScalarOperator>
                              <ScalarOperator>
                                <Intrinsic FunctionName="getdate" />
                              </ScalarOperator>
                            </Intrinsic>
                          </ScalarOperator>
                        </ColumnReference>
                      </Identifier>
                    </ScalarOperator>
                  </Row>
                </Values>
              </ConstantScan>
            </RelOp>
          </QueryPlan>
        </StmtSimple>
      </Statements>
    </Batch>
    <Batch>
      <Statements>
        <StmtSimple StatementCompId="2" StatementEstRows="1" StatementId="2" StatementOptmLevel="TRIVIAL" StatementSubTreeCost="1.157E-06" StatementText="select year(getdate())&#xD;&#xA;from (select 1 x) x" StatementType="SELECT">
          <StatementSetOptions ANSI_NULLS="false" ANSI_PADDING="false" ANSI_WARNINGS="false" ARITHABORT="true" CONCAT_NULL_YIELDS_NULL="false" NUMERIC_ROUNDABORT="false" QUOTED_IDENTIFIER="false" />
          <QueryPlan DegreeOfParallelism="0" CachedPlanSize="8" CompileTime="0" CompileCPU="0" CompileMemory="64">
            <RelOp AvgRowSize="11" EstimateCPU="1.157E-06" EstimateIO="0" EstimateRebinds="0" EstimateRewinds="0" EstimateRows="1" LogicalOp="Constant Scan" NodeId="0" Parallel="false" PhysicalOp="Constant Scan" EstimatedTotalSubtreeCost="1.157E-06">
              <OutputList>
                <ColumnReference Column="Expr1001" />
              </OutputList>
              <RunTimeInformation>
                <RunTimeCountersPerThread Thread="0" ActualRows="1" ActualEndOfScans="1" ActualExecutions="1" />
              </RunTimeInformation>
              <ConstantScan>
                <Values>
                  <Row>
                    <ScalarOperator ScalarString="datepart(year,getdate())">
                      <Identifier>
                        <ColumnReference Column="ConstExpr1002">
                          <ScalarOperator>
                            <Intrinsic FunctionName="datepart">
                              <ScalarOperator>
                                <Const ConstValue="(0)" />
                              </ScalarOperator>
                              <ScalarOperator>
                                <Intrinsic FunctionName="getdate" />
                              </ScalarOperator>
                            </Intrinsic>
                          </ScalarOperator>
                        </ColumnReference>
                      </Identifier>
                    </ScalarOperator>
                  </Row>
                </Values>
              </ConstantScan>
            </RelOp>
          </QueryPlan>
        </StmtSimple>
      </Statements>
    </Batch>
  </BatchSequence>
</ShowPlanXML> 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2013-02-13T10:36:46.763

实际上 - using`YEAR(..)`对我来说最好，因为它被认为是一个**确定性**函数，所以如果我在计算列定义中使用它

```
ALTER TABLE dbo.MyTable
ADD YearOfDate AS YEAR(SomeDateColumn) 
```

我可以使该列**持久化**（并将其存储到表中）：

```
ALTER TABLE dbo.MyTable
ADD YearOfDate AS YEAR(SomeDateColumn) PERSISTED 
```

这不起作用*（*不要`DATEPART(YEAR, SomeDateColumn)`问我为什么 - 只是启发式地注意到这一点）。

这同样适用于`MONTH(SomeDate)`vs. `DATEPART(MONTH, SomeDate)`。

如果您有需要根据日期的月份和年份（例如`SalesDate`或其他内容）从中选择的表，那么将月份和年份作为**持久计算**列（并对它们进行索引）可以极大地提高性能。

# css - 需要在 Sass 函数中使用 2 @return

> ID：14850240
> 
> 赞同：1
> 
> 时间：2013-02-13T09:27:45.073
> 
> 标签：css, sass

我有这个非常简单的 Sass 函数：

```
@function to-rem($pxval) {
    @return #{$pxval / $base-font-size}rem;
} 
```

转换`$pxval`为一个`rem`值，例如

```
margin-top: to-rem(24); 
```

输出：

```
margin-top: 1.5rem; 
```

IE 8（旧 IE）及更低版本不支持`rem`这样处理这种情况：

```
@function to-rem($pxval) {
    @if $old-ie {
        @return #{$pxval}px;
    } @else {
        @return #{$pxval / $base-font-size}rem;
    }
} 
```

**但是**因为我做响应式站点，所以我需要支持也不支持的 Opera Mini，`rem`而且我没有像旧 IE 那样对 Opera Mini 进行过滤的方法。

有什么想法可以在不使用 mixin 的情况下做到这一点吗？我有一个 mixin 做同样的事情，但我用它来声明多个值并且可以处理多个属性，例如

```
@include to-rem(box-shadow, (inset 0 0 0 1 #2a9022) (inset 0 0 3 #459966));
@include to-rem(width height, 125); 
```

我喜欢单个值的函数，因为它更容易编写，例如

```
padding: to-rem($spacing-base) 0; 
```

与此相比：

```
@include to-rem(padding, $spacing-base 0); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T13:14:43.733

你已经有了答案：使用 mixin。以任何语言返回 2 个值的唯一方法是返回一个列表（或数组）。

```
@function to-rem($pxval) {
    @return $pxval * 1px,  $pxval / $base-font-size * 1rem;
}

.test {
    $sizes: to-rem(24);
    margin: nth($sizes, 1);
    margin: nth($sizes, 2);
} 
```

mixin 显然在这里获胜。

# android - 如何识别gps已关闭phonegap android

> ID：14850241
> 
> 赞同：1
> 
> 时间：2013-02-13T09:27:45.430
> 
> 标签：android, cordova, gps

我想弄清楚使用phonegap的android设备中的gps是否打开。

我试过了

```
navigator.geolocation.getCurrentPosition(function onSuccess(position){
            console.log("The gps is availabile");
        },
        function geolocationError(error){
            console.log("The geo error : " + error.code +"code : " + PositionError.PERMISSION_DENIED);
           if( error.code == PositionError.PERMISSION_DENIED ){
               alert("Please turn on your gps to start the trip");
           }else{
              console.log("Gps is turned on. but not availabile");
           }
        },{enableHighAccuracy: true , timeout:10000 }); 
```

但是当 gps 关闭时，我永远不会收到`PositionError.PERMISSION_DENIED`错误消息。它总是显示`PositionError.POSITION_UNAVAILABLE`. 我如何识别 gps 是否打开/关闭？（不是 gps 可用与否）

# javascript - 在 div 标签中加载 aspx 页面

> ID：14850246
> 
> 赞同：0
> 
> 时间：2013-02-13T09:28:15.510
> 
> 标签：javascript, jquery, asp.net

我正在使用下面的代码在 div 标签中加载 aspx 页面。但它不起作用。请帮我解决这个问题。

```
<script type="text/javascript">
    $(document).ready(function () {
        $('#div_more_pack').load('dss_more_pack.aspx');
    });  
</script>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head><title>
  </title>
    <link href="CSS/Styles.css" rel="stylesheet" type="text/css" />
    <link href="/WebResource.axd?d=jXYvAvdTPQseQ0chjS0NJiUVoAt1FHDKI8RqT3Bub606dQEw4MJ7tgPzZQtv2Vbv0&amp;t=634959154400107513" type="text/css" rel="stylesheet" />
    <style type="text/css">
.uc_more_pack_Cust_tab_tab_service_tree_package_0 { color:Black;font-weight:bold;text-decoration:none; }

   </style>
 </head>

 <body>
<form method="post" action="dss_more_pack.aspx" id="form1">
    <div class="aspNetHidden">
     <input type="hidden" name="uc_more_pack_Cust_tab_ClientState" id="uc_more_pack_Cust_tab_ClientState" value="{&quot;ActiveTabIndex&quot;:0,&quot;TabState&quot;:[true,true,true,true,true,true,true]}" />

     <input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="" />

     <input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="" />

     <input type="hidden" name="uc_more_pack_Cust_tab_tab_service_tree_package_ExpandState" id="uc_more_pack_Cust_tab_tab_service_tree_package_ExpandState" value="cccnccncccnnnccncncccn" />

      <input type="hidden" name="uc_more_pack_Cust_tab_tab_service_tree_package_SelectedNode" id="uc_more_pack_Cust_tab_tab_service_tree_package_SelectedNode" value="" />

      <input type="hidden" name="uc_more_pack_Cust_tab_tab_service_tree_package_PopulateLog" id="uc_more_pack_Cust_tab_tab_service_tree_package_PopulateLog" value="" />

      <input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUKLTM0MjkwNzI5MQ9kFgICAw9kFgICAw9kFgJmD2QWAgIBDw8WBB4HY3VzdF9pZAUCNjgeE3NlbGVjdGVkX2JpbGxfaXRlbXMF6Qc8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCI/PjxEb2N1bWVudEVsZW1lbnQ+PEJJTExfSVRFTVM+PEZMRF9JRD42MzwvRkxEX0lEPjxGTERfQ1VTVF9JRD42ODwvRkxEX0NVU1RfSUQ+PEZMRF9JVEVNX1RZUEU+MzwvRkxEX0lURU1fVFlQRT48SVRFTV9UWVBFX05BTUU+UGxhbjwvSVRFTV9UWVBFX05BTUU+PEZMRF9QUklDRV9JRD4xMDI8L0ZMRF9QUklDRV9JRD48RkxEX1BSSU9SSVRZPjEwMjwvRkxEX1BSSU9SSVRZPjxGTERfU1RBVFVTPjA8L0ZMRF9TVEFUVVM+PC9CSUxMX0lURU1TPjxCSUxMX0lURU1TPjxGTERfSUQ+Njg8L0ZMRF9JRD48RkxEX0NVU1RfSUQ+Njg8L0ZMRF9DVVNUX0lEPjxGTERfSVRFTV9UWVBFPjM8L0ZMRF9JVEVNX1RZUEU+PElURU1fVFlQRV9OQU1FPlBsYW48L0lURU1fVFlQRV9OQU1FPjxGTERfUFJJQ0VfSUQ+MTAyPC9GTERfUFJJQ0VfSUQ+PEZMRF9QUklPUklUWT4xMDI8L0ZMRF9QUklPUklUWT48RkxEX1NUQVRVUz4wPC9GTERfU1RBVFVTPjwvQklMTF9JVEVNUz48QklMTF9JVEVNUz48RkxEX0lEPjgyPC9GTERfSUQ+PEZMRF9DVVNUX0lEPjY4PC9GTERfQ1VTVF9JRD48RkxEX0lURU1fVFlQRT4zPC9GTERfSVRFTV9UWVBFPjxJVEVNX1RZUEVfTkFNRT5QbGFuPC9JVEVNX1RZUEVfTkFNRT48RkxEX1BSSUNFX0lEPjEwMjwvRkxEX1BSSUNFX0lEPjxGTERfUFJJT1JJVFk+MTAyPC9GTERfUFJJT1JJVFk+PEZMRF9TVEFUVVM+MDwvRkxEX1NUQVRVUz48L0JJTExfSVRFTVM+PEJJTExfSVRFTVM+PEZMRF9JRD44MTwvRkxEX0lEPjxGTERfQ1VTVF9JRD42ODwvRkxEX0NVU1RfSUQ+PEZMRF9JVEVNX1RZUEU+MzwvRkxEX0lURU1fVFlQRT48SVRFTV9UWVBFX05BTUU+UGxhbjwvSVRFTV9UWVBFX05BTUU+PEZMRF9QUklDRV9JRD4xMDI8L0ZMRF9QUklDRV9JRD48RkxEX1BSSU9SSVRZPjEwMjwvRkxEX1BSSU9SSVRZPjxGTERfU1RBVFVTPjA8L0ZMRF9TVEFUVVM+PC9CSUxMX0lURU1TPjwvRG9jdW1lbnRFbGVtZW50PmQWAmYPZBYGZg8PFgIeB1Zpc2libGVoZBYCZg9kFgICAQ9kFgJmD2QWAgIBD2QWAgIBD2QWAmYPZBYSAhkPEGRkFgBkAi0PEGRkFgBkAi8PFgIfAmdkAjEPFgIfAmdkAjsPEGRkFgFmZAJDDxBkZBYAZAJlD2QWAgIBDxBkZBYAZAJtDxYCHwJnZAKBAQ9kFgQCAw8QZGQWAGQCBQ8QZGQWAGQCAQ9kFgJmD2QWBAIDD2QWAgIBD2QWAmYPZBYCZg9kFgICAQ88KwAJAgAPFggeCVNob3dMaW5lc2ceDU5ldmVyRXhwYW5kZWRkHgxTZWxlY3RlZE5vZGVkHglMYXN0SW5kZXgCFmQIFCsAAgUDMDowFCsAAhYEHgRUZXh0BQ9QYWNrYWdlX0xpc3RpbmceCEV4cGFuZGVkaBQrAAYFEzA6MCwwOjEsMDoyLDA6MywwOjQUKwACFgofBwVQQ2hlY2tfcGFjayZyYXJyOyAmIzkxOyBQcmljZSBOYW1lIDogRGVmYXVsdCAmIzkzOyAmcmFycjsgJiM5MTsgQW1vdW50IDogMCAmIzkzOyAeBVZhbHVlBQMzNjceDFNlbGVjdEFjdGlvbgsqLlN5c3RlbS5XZWIuVUkuV2ViQ29udHJvbHMuVHJlZU5vZGVTZWxlY3RBY3Rpb24AHghJbWFnZVVybAUcfi9pbWFnZXMvZm9sZGVyLWNvbGxhcHNlLnBuZx8IaBQrAAIFAzA6MBQrAAIWCh8HBVZDYWJsZSBUViBEaWdpdGFsJnJhcnI7ICYjOTE7IFByaWNlIE5hbWUgOiBEZWZhdWx0ICYjOTM7ICZyYXJyOyAmIzkxOyBBbW91bnQgOiAwICYjOTM7IB8JBQMzNjgfCgsrBAMfCwUUfi9pbWFnZXMvc2VydmljZS5wbmcfCGgUKwACBQMwOjAUKwACFgofBwVPU21hcnRDYXJkJnJhcnI7ICYjOTE7IFByaWNlIE5hbWUgOiBEZWZhdWx0ICYjOTM7ICZyYXJyOyAmIzkxOyBBbW91bnQgOiAwICYjOTM7IB8JBQMzNjkfCgsrBAMfCwUWfi9pbWFnZXMvbGVhZl9ub2RlLmdpZh8IaGQUKwACFgofBwVPVGVzdCBQYWNrJnJhcnI7ICYjOTE7IFByaWNlIE5hbWUgOiBEZWZhdWx0ICYjOTM7ICZyYXJyOyAmIzkxOyBBbW91bnQgOiAwICYjOTM7IB8JBQMzNjIfCgsrBAAfCwUcfi9pbWFnZXMvZm9sZGVyLWNvbGxhcHNlLnBuZx8IaBQrAAIFAzA6MBQrAAIWCh8HBVZDYWJsZSBUViBEaWdpdGFsJnJhcnI7ICYjOTE7IFByaWNlIE5hbWUgOiBEZWZhdWx0ICYjOTM7ICZyYXJyOyAmIzkxOyBBbW91bnQgOiAwICYjOTM7IB8JBQMzNjMfCgsrBAMfCwUUfi9pbWFnZXMvc2VydmljZS5wbmcfCGgUKwACBQMwOjAUKwACFgofBwVPU21hcnRDYXJkJnJhcnI7ICYjOTE7IFByaWNlIE5hbWUgOiBEZWZhdWx0ICYjOTM7ICZyYXJyOyAmIzkxOyBBbW91bnQgOiAwICYjOTM7IB8JBQMzODcfCgsrBAMfCwUWfi9pbWFnZXMvbGVhZl9ub2RlLmdpZh8IaGQUKwACFgofBwVVU0NWIFNJTFZFUiBQQUNLJnJhcnI7ICYjOTE7IFByaWNlIE5hbWUgOiBEZWZhdWx0ICYjOTM7ICZyYXJyOyAmIzkxOyBBbW91bnQgOiAwICYjOTM7IB8JBQMzNTIfCgsrBAAfCwUcfi9pbWFnZXMvZm9sZGVyLWNvbGxhcHNlLnBuZx8IaBQrAAIFAzA6MBQrAAIWCh8HBVZDYWJsZSBUViBEaWdpdGFsJnJhcnI7ICYjOTE7IFByaWNlIE5hbWUgOiBEZWZhdWx0ICYjOTM7ICZyYXJyOyAmIzkxOyBBbW91bnQgOiAwICYjOTM7IB8JBQMzNTMfCgsrBAMfCwUUfi9pbWFnZXMvc2VydmljZS5wbmcfCGgUKwADBQcwOjAsMDoxFCsAAhYKHwcFT1NtYXJ0Q2FyZCZyYXJyOyAmIzkxOyBQcmljZSBOYW1lIDogRGVmYXVsdCAmIzkzOyAmcmFycjsgJiM5MTsgQW1vdW50IDogMCAmIzkzOyAfCQUDMzU0HwoLKwQDHwsFEX4vaW1hZ2VzL3BsYW4ucG5nHwhoFCsAAwUHMDowLDA6MRQrAAIWCh8HBV5TQ1YgR29sZCBQbGFuJnJhcnI7ICYjOTE7IFByaWNlIE5hbWUgOiBNb250aGx5UmVjdXJyaW5nICYjOTM7ICZyYXJyOyAmIzkxOyBBbW91bnQgOiAxNDcgJiM5MzsgHwkFAzM1NR8KCysEAx8LBRZ+L2ltYWdlcy9sZWFmX25vZGUuZ2lmHwhoZBQrAAIWCh8HBWBTQ1YgU2lsdmVyIFBsYW4mcmFycjsgJiM5MTsgUHJpY2UgTmFtZSA6IE1vbnRobHlSZWN1cnJpbmcgJiM5MzsgJnJhcnI7ICYjOTE7IEFtb3VudCA6IDE0NyAmIzkzOyAfCQUDMzU2HwoLKwQDHwsFFn4vaW1hZ2VzL2xlYWZfbm9kZS5naWYfCGhkFCsAAhYKHwcFSVNUQiZyYXJyOyAmIzkxOyBQcmljZSBOYW1lIDogRGVmYXVsdCAmIzkzOyAmcmFycjsgJiM5MTsgQW1vdW50IDogMCAmIzkzOyAfCQUDMzU3HwoLKwQDHwsFFn4vaW1hZ2VzL2xlYWZfbm9kZS5naWYfCGhkFCsAAhYKHwcFVFNDViBUQU1JTCBQQUNLJnJhcnI7ICYjOTE7IFByaWNlIE5hbWUgOiBEZWZhdWx0ICYjOTM7ICZyYXJyOyAmIzkxOyBBbW91bnQgOiAwICYjOTM7IB8JBQMzNDcfCgsrBAAfCwUcfi9pbWFnZXMvZm9sZGVyLWNvbGxhcHNlLnBuZx8IaBQrAAIFAzA6MBQrAAIWCh8HBVZDYWJsZSBUViBEaWdpdGFsJnJhcnI7ICYjOTE7IFByaWNlIE5hbWUgOiBEZWZhdWx0ICYjOTM7ICZyYXJyOyAmIzkxOyBBbW91bnQgOiAwICYjOTM7IB8JBQMzNDgfCgsrBAMfCwUUfi9pbWFnZXMvc2VydmljZS5wbmcfCGgUKwADBQcwOjAsMDoxFCsAAhYKHwcFSVNUQiZyYXJyOyAmIzkxOyBQcmljZSBOYW1lIDogRGVmYXVsdCAmIzkzOyAmcmFycjsgJiM5MTsgQW1vdW50IDogMCAmIzkzOyAfCQUDMzQ5HwoLKwQDHwsFFn4vaW1hZ2VzL2xlYWZfbm9kZS5naWYfCGhkFCsAAhYKHwcFT1NtYXJ0Q2FyZCZyYXJyOyAmIzkxOyBQcmljZSBOYW1lIDogRGVmYXVsdCAmIzkzOyAmcmFycjsgJiM5MTsgQW1vdW50IDogMCAmIzkzOyAfCQUDMzUwHwoLKwQDHwsFEX4vaW1hZ2VzL3BsYW4ucG5nHwhoFCsAAgUDMDowFCsAAhYKHwcFYFNDViBTaWx2ZXIgUGxhbiZyYXJyOyAmIzkxOyBQcmljZSBOYW1lIDogTW9udGhseVJlY3VycmluZyAmIzkzOyAmcmFycjsgJiM5MTsgQW1vdW50IDogMTQ3ICYjOTM7IB8JBQMzNTEfCgsrBAMfCwUWfi9pbWFnZXMvbGVhZl9ub2RlLmdpZh8IaGQUKwACFgofBwVSU0NWIE5ldyBQYWNrJnJhcnI7ICYjOTE7IFByaWNlIE5hbWUgOiBEZWZhdWx0ICYjOTM7ICZyYXJyOyAmIzkxOyBBbW91bnQgOiAwICYjOTM7IB8JBQMzNTgfCgsrBAAfCwUcfi9pbWFnZXMvZm9sZGVyLWNvbGxhcHNlLnBuZx8IaBQrAAIFAzA6MBQrAAIWCh8HBVZDYWJsZSBUViBEaWdpdGFsJnJhcnI7ICYjOTE7IFByaWNlIE5hbWUgOiBEZWZhdWx0ICYjOTM7ICZyYXJyOyAmIzkxOyBBbW91bnQgOiAwICYjOTM7IB8JBQMzNTkfCgsrBAMfCwUUfi9pbWFnZXMvc2VydmljZS5wbmcfCGgUKwACBQMwOjAUKwACFgofBwVPU21hcnRDYXJkJnJhcnI7ICYjOTE7IFByaWNlIE5hbWUgOiBEZWZhdWx0ICYjOTM7ICZyYXJyOyAmIzkxOyBBbW91bnQgOiAwICYjOTM7IB8JBQMzNjAfCgsrBAMfCwURfi9pbWFnZXMvcGxhbi5wbmcfCGgUKwACBQMwOjAUKwACFgofBwVeU0NWIEdvbGQgUGxhbiZyYXJyOyAmIzkxOyBQcmljZSBOYW1lIDogTW9udGhseVJlY3VycmluZyAmIzkzOyAmcmFycjsgJiM5MTsgQW1vdW50IDogMTQ3ICYjOTM7IB8JBQMzNjEfCgsrBAMfCwUWfi9pbWFnZXMvbGVhZl9ub2RlLmdpZh8IaGRkAgcPZBYCZg9kFgJmD2QWAgIDD2QWBAIHDw8WAh8HBQI2OGRkAgsPPCsAEQEBEBYAFgAWAGQCBA9kFgJmD2QWAgIBD2QWAmYPZBYEAgMPEGRkFgFmZAIJDxBkZBYBZmQYAwUeX19Db250cm9sc1JlcXVpcmVQb3N0QmFja0tleV9fFgsFFXVjX21vcmVfcGFjayRDdXN0X3RhYgUxdWNfbW9yZV9wYWNrJEN1c3RfdGFiJHRhYl9zZXJ2aWNlJGJ0bl9jcmVhdGVfYmlsbAUudWNfbW9yZV9wYWNrJEN1c3RfdGFiJHRhYl9zZXJ2aWNlJHRyZWVfcGFja2FnZQUxdWNfbW9yZV9wYWNrJEN1c3RfdGFiJHRhYl9iaWxsJGJ0bl9jcmVhdGVfSW52b2ljZQUtdWNfbW9yZV9wYWNrJEN1c3RfdGFiJHRhYl9pbnZvaWNlJGJ0bl9wYXltZW50BTB1Y19tb3JlX3BhY2skQ3VzdF90YWIkdGFiX3BheW1lbnQkYnRuX2FjdGl2YXRpb24FM3VjX21vcmVfcGFjayRDdXN0X3RhYiR0YWJfcHJvdmlzaW9uJGNoa19kZXZpY2VfaW5pdAUzdWNfbW9yZV9wYWNrJEN1c3RfdGFiJHRhYl9wcm92aXNpb24kY2hrX2RldmljZV9wYWlyBSx1Y19tb3JlX3BhY2skQ3VzdF90YWIkdGFiX3Byb3Zpc2lvbiRjaGtfc3dhcAUxdWNfbW9yZV9wYWNrJEN1c3RfdGFiJHRhYl9wcm92aXNpb24kY2hrX3Byb3Zpc2lvbgUzdWNfbW9yZV9wYWNrJEN1c3RfdGFiJHRhYl9wcm92aXNpb24kYnRuX3Byb3Zfc3VibWl0BRV1Y19tb3JlX3BhY2skQ3VzdF90YWIPD2RmZAUydWNfbW9yZV9wYWNrJEN1c3RfdGFiJHRhYl9zZXJ2aWNlJGdyZF9wYWNrYWdlX2xpc3QPZ2Rc4h12Whl6san/46joY6ZATbK3UL0hHH/TsWqVnPo6EQ==" />

</div>

<script type="text/javascript">

//<![CDATA[

 var theForm = document.forms['form1'];

 if (!theForm) {

    theForm = document.form1;

 } 
```

函数 __doPostBack(eventTarget, eventArgument) {

```
if (!theForm.onsubmit || (theForm.onsubmit() != false)) {

    theForm.__EVENTTARGET.value = eventTarget;

    theForm.__EVENTARGUMENT.value = eventArgument;

    theForm.submit();

    }

 }

 //]]>

 </script>

 <script src="/WebResource.axd?d=NGWHhrhQxVdi6Y5BQUr6nQ2&amp;t=634929307791941336" type="text/javascript"></script>

<script src="/ScriptResource.axd?d=s72EBzlqyW6dq8nmj_nsuG0cSaf4Z0nmMamkiAEH_xLorZXIBJ71Hr3YwVOJXj15DhZSDRzQxMITNszVnYKjJQ2&amp;t=1e961a8d" type="text/javascript"></script>

<script type="text/javascript">

//<![CDATA[

    function TreeView_PopulateNodeDoCallBack(context,param) {

    WebForm_DoCallback(context.data.treeViewID,param,TreeView_ProcessNodeData,context,TreeView_ProcessNodeData,false);

   }

 var uc_more_pack_Cust_tab_tab_service_tree_package_Data = null;//]]>

 </script>

 <script src="/ScriptResource.axd?d=3qhHLSWv5cU_c2_8JyEg-cfozgETQm0npL12m8PkbOAhQRNtVs8YWfe_0n0f7Vjn0&amp;t=ffffffffc13acc3f" type="text/javascript">          </script> 
```

//

```
if (typeof(Sys) === 'undefined') throw new Error('ASP.NET Ajax client-side framework failed to load.');

//]]> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T09:31:28.743

问题可能是`page`.
它应该处于同一水平。
如果他们不在同一级别，那么

```
<script type="text/javascript">
     $(document).ready(function () {
          $('#div_more_pack').load('dss_more_pack.aspx');
    });  
</script> 
```

改成

```
 <script type="text/javascript">
    $(document).ready(function () {
        $('#div_more_pack').load('../dss_more_pack.aspx');//exact path
    });  
 </script> 
```

## 编辑 1

你可以编辑你的方法，看看是什么`error`

```
$(document).ready(function () {
    $('#div_more_pack').load('dss_more_pack.aspx', function(response, status, xhr)
    {
       if (status == "error") {
          var msg = "Sorry but there was an error: ";
         alert(msg + xhr.status + " " + xhr.statusText);
     }
  );
}); 
```

## 编辑2： -

```
 $(document).ready(function () {
    $('#div_more_pack').load('dss_more_pack.aspx', function(response, status, xhr)
    {
       alert(response);
     }
  );
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:30:34.747

尝试使用 AJAX

```
$.get('dss_more_pack.aspx', {}, function(data) {
   $('#div_more_pack').html(data);
}); 
```

你也可以使用

```
$.post('url', parameters, callback) 
```

参考[这里](http://viralpatel.net/blogs/jquery-ajax-tutorial-example-ajax-jquery-development/)

# jquery - jquery悬停菜单淡入/隐藏下拉菜单

> ID：14850248
> 
> 赞同：0
> 
> 时间：2013-02-13T09:28:17.090
> 
> 标签：jquery, drop-down-menu, menu, hover, html-lists

我有一个小 jquery

```
 $(".dropdown").hide();

$('#mainnav ul li').hover(function(e){
        $(this).children('.dropdown').fadeIn(250);
}, function(e) {
        $(this).children('.dropdown').hide();
}); 
```

当它的父 LI 悬停在它上面时，它会淡入并隐藏每个下拉菜单。

我不相信这是 jquery 足够强大。有时，如果鼠标快速移动越过父 li，下拉菜单不会隐藏。

我能做些什么来提高这段代码的可靠性吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T11:15:26.400

正如 xFortyFourx 提到的，您可以使用`.stop()`方法来清除队列。正如 jQuery[文档](http://api.jquery.com/clearQueue/)所说，stop 方法只适用于动画，所以你最好使用`.animate()`而不是`.fadeIn()`and`.fadeOut()`

```
$("#mainnav ul li").hover(
    function() {
         $(this).children('.dropdown').stop().animate({opacity: 1});
    },
    function() {
        $(this).children('.dropdown').stop().animate({opacity: 0});
    }
); 
```

使用`.stop()`with`.fadeIn()`将导致在半透明模式下冻结元素。在此处查看这两种情况的实时预览：http: [//jsfiddle.net/stichoza/faqNt/](http://jsfiddle.net/stichoza/faqNt/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:51:02.913

也许这段代码可以帮助你：

```
 $(".dropdown").hide();
    $('#mainnav ul li').hover(function(){
        $(this).children('.dropdown').stop().fadeIn(250);
     }, function() {
        $(this).children('.dropdown').stop().hide();
    }); 
```

或者

```
$('#mainnav ul li').hover(function(){
  if($(this).children('.dropdown').css('display') == 'none'){
     $(this).children('.dropdown').fadeIn(250);
  } else {
     $(this).children('.dropdown').stop().hide();
  }
}); 
```

祝你好运

# hadoop - 运行 hadoop 示例代码时出错

> ID：14850251
> 
> 赞同：1
> 
> 时间：2013-02-13T09:28:23.703
> 
> 标签：hadoop, runtime-error

我正在尝试运行示例 pi map-red 示例代码。在伪分布式模式下运行时发生以下错误。我已经按照 hadoop 站点中的说明完成了所有设置。我已经安装了 ssh，并且配置文件也正确设置了。

```
 hadoop_admin@ubuntu:~/hadoop-1.0.4$ sudo bin/hadoop jar hadoop-examples-1.0.4.jar pi 10 10
Number of Maps  = 10
Samples per Map = 10
13/02/13 14:47:34 INFO ipc.Client: Retrying connect to server: localhost/127.0.0.1:9000\. Already tried 0 time(s).
13/02/13 14:47:35 INFO ipc.Client: Retrying connect to server: localhost/127.0.0.1:9000\. Already tried 1 time(s).
13/02/13 14:47:36 INFO ipc.Client: Retrying connect to server: localhost/127.0.0.1:9000\. Already tried 2 time(s).
13/02/13 14:47:37 INFO ipc.Client: Retrying connect to server: localhost/127.0.0.1:9000\. Already tried 3 time(s).
13/02/13 14:47:38 INFO ipc.Client: Retrying connect to server: localhost/127.0.0.1:9000\. Already tried 4 time(s).
13/02/13 14:47:39 INFO ipc.Client: Retrying connect to server: localhost/127.0.0.1:9000\. Already tried 5 time(s).
13/02/13 14:47:40 INFO ipc.Client: Retrying connect to server: localhost/127.0.0.1:9000\. Already tried 6 time(s).
13/02/13 14:47:41 INFO ipc.Client: Retrying connect to server: localhost/127.0.0.1:9000\. Already tried 7 time(s).
13/02/13 14:47:42 INFO ipc.Client: Retrying connect to server: localhost/127.0.0.1:9000\. Already tried 8 time(s).
13/02/13 14:47:43 INFO ipc.Client: Retrying connect to server: localhost/127.0.0.1:9000\. Already tried 9 time(s).
java.lang.RuntimeException: java.net.ConnectException: Call to localhost/127.0.0.1:9000 failed on connection exception: java.net.ConnectException: Connection refused
    at org.apache.hadoop.mapred.JobConf.getWorkingDirectory(JobConf.java:546)
    at org.apache.hadoop.mapred.FileInputFormat.setInputPaths(FileInputFormat.java:318)
    at org.apache.hadoop.examples.PiEstimator.estimate(PiEstimator.java:265)
    at org.apache.hadoop.examples.PiEstimator.run(PiEstimator.java:342)
    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)
    at org.apache.hadoop.examples.PiEstimator.main(PiEstimator.java:351)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.apache.hadoop.util.ProgramDriver$ProgramDescription.invoke(ProgramDriver.java:68)
    at org.apache.hadoop.util.ProgramDriver.driver(ProgramDriver.java:139)
    at org.apache.hadoop.examples.ExampleDriver.main(ExampleDriver.java:64)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.apache.hadoop.util.RunJar.main(RunJar.java:156)
Caused by: java.net.ConnectException: Call to localhost/127.0.0.1:9000 failed on connection exception: java.net.ConnectException: Connection refused
    at org.apache.hadoop.ipc.Client.wrapException(Client.java:1099)
    at org.apache.hadoop.ipc.Client.call(Client.java:1075)
    at org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:225)
    at $Proxy1.getProtocolVersion(Unknown Source)
    at org.apache.hadoop.ipc.RPC.getProxy(RPC.java:396)
    at org.apache.hadoop.ipc.RPC.getProxy(RPC.java:379)
    at org.apache.hadoop.hdfs.DFSClient.createRPCNamenode(DFSClient.java:119)
    at org.apache.hadoop.hdfs.DFSClient.(DFSClient.java:238)
    at org.apache.hadoop.hdfs.DFSClient.(DFSClient.java:203)
    at org.apache.hadoop.hdfs.DistributedFileSystem.initialize(DistributedFileSystem.java:89)
    at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:1386)
    at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:66)
    at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:1404)
    at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:254)
    at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:123)
    at org.apache.hadoop.mapred.JobConf.getWorkingDirectory(JobConf.java:542)
    ... 17 more
Caused by: java.net.ConnectException: Connection refused
    at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
    at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:692)
    at org.apache.hadoop.net.SocketIOWithTimeout.connect(SocketIOWithTimeout.java:206)
    at org.apache.hadoop.net.NetUtils.connect(NetUtils.java:489)
    at org.apache.hadoop.ipc.Client$Connection.setupConnection(Client.java:434)
    at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:560)
    at org.apache.hadoop.ipc.Client$Connection.access$2000(Client.java:184)
    at org.apache.hadoop.ipc.Client.getConnection(Client.java:1206)
    at org.apac 
```

有人可以帮我确定为什么会出现上述错误以及如何纠正它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:49:54.407

当系统上的Datanode守护进程没有启动时会出现这个问题。使用“jps”命令检查启动的守护进程。如果它没有启动，请使用以下命令手动启动Datanode守护进程：
bin/hadoop-daemon.sh start datanode。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-22T10:14:15.553

就我而言，我提到了关于[Namenode 的帖子没有开始](https://stackoverflow.com/questions/8076439/namenode-not-getting-started)，我能够解决这个问题。

1.  删除您在 core-site.xml 中设置的 tmp 目录。
2.  hadoop 名称节点格式
3.  start-dfs.sh 或 start-all.sh
4.  JP

# css - IE7浮动div内图像周围的浮动文本

> ID：14850257
> 
> 赞同：1
> 
> 时间：2013-02-13T09:28:52.817
> 
> 标签：css, css-float, internet-explorer-7

在图像周围简单地浮动文本，但在 IE7 中并不顺利。文本被推到图像下方，好像没有浮动。

根据我的阅读，其原因可能是图像和文本位于浮动（和固定宽度/高度）的 div 内，这可能会触发包含 div 的“hasLayout”。我一直在寻找一个干净的解决方法，但还没有找到。

在最坏的情况下，我想我可以使用 jQuery，因为我已经在页面上使用它，但我更愿意用 CSS 解决这个问题。

[这是一个小提琴](http://jsfiddle.net/2VbGq/)，在好的浏览器中运行良好，但在 IE7 中应该会失败。

好（Firefox、Safari、Chrome、Opera、IE8+）：

![好形象](../Images/23d75ad48c92c3d47e6e67e8e56252c5.png)

坏（IE7）：

![形象不佳](../Images/a38233bd5afae58dada12264afeeab58.png)

HTML：

```
<html>
<body>
    <div id="box_section">
        <div id="container1">
            <div id="container2">
                <div class="box">
                    <img src="http://c69282.r82.cf3.rackcdn.com/robot.jpg"/>
                    <p>Lorem ipsum etc etc whatever.</p>
                </div>

                <div class="box">
                    <img src="http://c69282.r82.cf3.rackcdn.com/pushing278.jpg"/>
                    <p>Lorem ipsum etc etc whatever.</p>
                </div>                    
            </div>
        </div>
    </div>
</body>
</html> 
```

CSS：

```
/* Container for floating boxes */
#box_section
{
    height: 300px;  /* Fixed height and width */
    width: 984px;
    margin-top: 35px;  
    padding: 0;
    overflow: hidden;  
    margin-left: auto;
    margin-right: auto;    
}

/* Containers used to centre floated items independent of number */
/* In real webpage there can be any number of boxes. */
#container1
{
  padding: 0;
  float:left;
  width:100%;
  overflow:hidden;
  position:relative;
}

#container2
{
  clear:left;
  float:left;
  padding:0;
  position:relative;
  left:50%; 
}

/* The box. OMG. */
.box
{  
  float: left;  
  position:relative;
  right:50%;
  height: 190px;            /* Note fixed height and width */
  width: 350px;
  border-style: solid;  
  border-color: #ebead4; 
  border-width: 1px;
  padding-top: 10px;
  padding-left: 10px;
  padding-right: 10px;
  margin: 20px;  
  overflow: hidden;  
}

/* Goal is to float text around image. Note that images have fixed width/height.
Images snatched from random website for demonstration purposes. */
.box img
{
  float: left;
  margin-right: 15px;
  height: 180px;
  width: 200px;
  border-style: solid;
  border-radius: 5px;
  border-color: #eeeeff; 
  border-width: 1px;
} 
```

请注意，包含 div 的解决方案必须非常灵活，因为可以有任意数量的这些框，并且它们必须浮动在中心（使用 jQuery 一次只显示一行）。盒子也可以是 4 种不同的固定宽度中的任何一种。

此外，由于图像可以是 2 种宽度之一（2 个不同的 CSS 类），或者根本不存在，这也使情况更加复杂。我想过让图像位置绝对并用边距来做，但因此失败了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:34:34.243

将此代码添加到您的 CSS

```
.box p{
    float:left;
     width: 130px;    
} 
```

[http://jsfiddle.net/2VbGq/1/](http://jsfiddle.net/2VbGq/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T13:26:45.167

哦，废了。我的错。

事实证明小提琴在 IE7 中工作正常，问题是我有一个用于设置最小宽度的“标题”元素的全局 css 规则。我在我的盒子里使用了标题元素......现在感觉很聪明。

感谢所有试图提供帮助的人。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T09:53:21.947

像这样尝试......删除任何图像向左浮动的内容的“P”标签希望这会起作用......

# c++ - 静态成员函数

> ID：14850259
> 
> 赞同：-2
> 
> 时间：2013-02-13T09:28:54.483
> 
> 标签：c++, function, static-methods

我明白为什么静态函数不能访问非静态字段。但是如果我给他们发送一个类的对象，他们能访问他的私有字段吗？（不是静态的）

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T09:31:10.550

是的，每个成员函数都可以访问其类的私有成员（字段或方法），无论它们是否是静态的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:31:53.790

是的。例如：

```
class objType
{
    static void f(objType &obj);
    ...
    void f(objType &obj)
    {
        obj.somePrivateMember...
    }
}; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T09:32:07.663

是他们会。这是一个简短的示例：

```
#include <iostream>

using namespace std;

class A{
    public:
    A(): a(0) {}
    static void test(A& x) {
        x.a += 1;
    }
    private:
    int a;
};
int main() {
        A u;
    A::test(u);
        return 0;
} 
```

在[ideone](http://ideone.com/41jRHE)上编译。你**真的**应该学会自己尝试这些事情。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-13T12:28:42.283

访问权限以及函数是否为静态是正交概念。成员函数可以访问所有成员，私有的、受保护的或公共的。不管它是否是静态的。然而，静态成员函数没有`this`指针，非静态成员需要一个对象才能被访问（甚至存在）。所以如果静态函数要访问非静态成员，就必须获取一个指针或者对另一个对象的引用（或者创建一个作为局部变量，但这真的很少见）。所以：

```
class Test
{
    int i;              //  Non-static member...
    static int si;      //  Static member...
public:
    static void func( Test* obj );
};

void
Test::func( Test* obj )
{
    si = 1;             //  No problem.
    i = 1;              //  Illegal, no instance.
    obj->i = 1;         //  No problem.
} 
```

（显然，在像这样的微不足道的情况下，您只需将 static 放在`func`，并使用`this`而不是`obj`。但是可以想象其他获取指向静态函数中实例的指针的方法。）

# c++ - 如何通过编程检查特定代码是否可分页（使用静态分析方法）

> ID：14850262
> 
> 赞同：0
> 
> 时间：2013-02-13T09:29:26.367
> 
> 标签：c++, windows, kernel, driver

使用任何静态代码分析工具或通过编码方法，我想检查特定代码/函数及其所有调用函数是否可分页或不可分页。

我试图通过对任何开源工具进行修改来实现它并实现上述目标。

通过msdn，PAGED_Macro有一定的操作级别，但无法获得太多信息如何实现这一点。

我完全是新手，任何帮助或建议将不胜感激。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T19:11:07.023

似乎您混淆了两个独立的概念。该`PAGED_CODE()`宏验证代码是否在允许分页 ( `IRQL <= APC_LEVEL`) 的级别上执行。这并不意味着包含代码驻留在分页内存中。静态工具无法验证执行级别，因为它是动态运行时设置。

默认情况下，所有代码都驻留在非分页内存中。有一些预处理器指令可用于将代码段放入指定的段中，而这些段又可以定义为可分页或不可分页。[您可以在使驱动程序代码或数据可分页](http://msdn.microsoft.com/en-us/library/windows/hardware/ff554349%28v=vs.85%29.aspx)中找到有关此主题的文档。

# c - 关注 ((type*)0)->container_of 宏中的成员

> ID：14850265
> 
> 赞同：0
> 
> 时间：2013-02-13T09:29:37.273
> 
> 标签：c, linux, linux-kernel, kernel

我对 Linux 内核讨论最多的宏“container_of”的扩展中的语句 ((type*)0)->member 有点困惑

为什么在 container_of 宏中取消引用 0 不会产生问题？我认为（可能是我错了）因为我们将 0 类型转换为（type*），所以我们没有问题。但是等一下，考虑一下：-

```
void irq_handler(void *ptr)
{
    struct my_struct *p = (struct my_struct *) ptr;
    ptr->my_member = 7;
    global_variable = ptr->my_another_member;
    ...
    ...
} 
```

假设由于某些内存损坏，我的 ptr 变为 NULL，那么在这种情况下内核肯定会由于取消引用 NULL 指针而崩溃？

为什么会有这种偏袒或分化？还是我的任何理解都是错误的？请纠正我。

# django - 我如何使用 django-tables2 从字典创建表

> ID：14850268
> 
> 赞同：3
> 
> 时间：2013-02-13T09:29:42.483
> 
> 标签：django, django-views, django-tables2

我有一个看起来像这样的 dict 列表：

```
 [set([u'meal', '0:08:35.882945']),
  set([0, u'personal']),
  set([0, u'sleep']),
  set([0, u'transport']),
  set([0, u'work'])] 
```

我制作的：

```
[u'meal',u'personal', u'sleep', u'transport', u'work']
['0:08:35.882945', 0, 0, 0, 0] 
```

使用此命令：

```
nob =  [{m,n} for m,n in zip(cats,tot3)] 
```

我怎样才能把它变成一个[django-tables2](http://django-tables2.readthedocs.org/en/latest/)表？

我试过这个：

```
# tables.py
class Small_table (tables.Table):
    category = tables.Column(verbose_name="category")
    class Meta:
        attrs = {"class": "paleblue"}

# views.py
nt = Small_table(nob)
RequestConfig(request).configure(nt) 
```

但是表格有一列破折号而不是我的数据，我应该改变什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T14:53:41.357

这就是我最终要做的：

在我的tables.py中：

```
class Small_table (tables.Table):
    name = tables.Column(verbose_name="category",order_by="name")
    tot  = tables.Column(orderable=False)
    class Meta:
        attrs = {"class": "paleblue"} 
```

在我看来

```
from .tables import Small_table
from django_tables2   import RequestConfig
nob =  [{"name":m,"tot":n} for m,n in zip(cats,tot3)]
nt = Small_table(nob)
RequestConfig(request).configure(nt)
return render(request, "job/job_home.html", { "small":nt }) 
```

并在模板中：

```
{% load render_table from django_tables2 %}
 <link rel="stylesheet" href="{{ STATIC_URL }}django_tables2/themes/paleblue
{% render_table small %} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T11:14:18.283

我不熟悉这个 django-tables 应用程序，但如果您的目标是简单地在表格中显示您的数据，我会这样做：

1.  你的数据结构太复杂了。只需创建一个元组列表并将其作为模板上下文返回。

    ```
    >>> a = [u'meal', u'personal', u'sleep', u'transport', u'work']
    >>> b =  ['0:08:35.882945', 0, 0, 0, 0]
    >>> nob = zip(a, b)
    >>> nob 
    [(u'meal', '0:08:35.882945'),
     (u'personal', 0),
     (u'sleep', 0),
     (u'transport', 0),
     (u'work', 0)] 
    ```

2.  在您的模板中，您可以执行以下操作：

    ```
    <table> 
    {% for i, j in nob %}
        <tr>
            <td>{{ i }}</td>
            <td>{{ j }}</td>
        </tr>
    {% endfor %}
    </table> 
    ```

这会为 中的每个条目在表中创建一个包含两个单元格的行`nob`。现在您可能会明白为什么在这里使用集合列表不是一个好主意。集合不保留元素的顺序，即`{{ i }}`有时会从列表中获取`a`，有时从列表中获取，`b`而您希望`{{ i }}`始终从列表中获取`a`并且`{{ j }}`始终从列表中获取`b`。

# android - 安卓中的重绘（）

> ID：14850270
> 
> 赞同：0
> 
> 时间：2013-02-13T09:29:43.797
> 
> 标签：android, repaint

java中有一个方法叫做canvas.repaint()，但是Android中没有这个方法。你能告诉我我应该如何在 Android 中实现该方法吗？我希望重新绘制/刷新我当前的屏幕。

我尝试了 invalidate/postInvalidate 但无法完成与我使用 JSON 动态创建视图而不使用 .xml 文件相同的操作。

如果我创建自己的 repaint() 方法，那么我应该在该方法中写什么？先感谢您。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T09:31:42.213

尝试`calling View.invalidate()`代替`View.refreshDrawableState()`

Invalidate 将告诉视图需要重绘视图中的所有像素，如果您只更新视图的较小区域，请查看 invalidate(Rect) 重载以提高性能。

# html - 如何在html中为特定表格设置宽度、高度等

> ID：14850272
> 
> 赞同：0
> 
> 时间：2013-02-13T09:29:58.863
> 
> 标签：html, css, html-table

我有一张必须设置高度和宽度以及边框的表格。我试过这个CSS

```
table,td,tr#cer_actuals {
    padding-left: 5px;
    font-family: Verdana;
    font-size: 9pt;
    font-weight: normal;
    height: 0px;
    border: 1px solid grey;
} 
```

这会影响项目中的所有表，所以我尝试了这个，

```
#cer_actuals {
    padding-left: 5px;
    font-family: Verdana;
    font-size: 9pt;
    font-weight: normal;
    height: 0px;
    border: 1px solid grey;
} 
```

和 HTML

```
<table  width="100%" id="cer_actuals" > 
<tr>
                                                <td align="left" width="10%"  style="background-color:#f1e0ff;"></td>
                                                <td align="center" width="20%" style="background-color:#f1e0ff;">
                                                    Mth
                                                </td>
                                                <td align="center" width="30%" style="background-color:#f1e0ff;">
                                                    Actuals
                                                </td>
                                                <td align="center" width="40%" style="background-color:#f1e0ff;">
                                                    EOY Accruals
                                                </td>
                                            </tr>
                                            <tr>
                                                <td align="left" width="10%"  style="background-color:#f1e0ff;"></td>
                                                <td align="center" width="20%" style="background-color:#f1e0ff;">C/F</td>
                                                <td  align="center" width="30%" style="background-color:white;">
                                                            <input type="text" id="CIMtrek_CI_Act_CF" name="CIMtrek_CI_Act_CF">
                                                                <xsl:attribute name="value"><xsl:value-of
                                                                    select="//Record/CIMtrek_CI_Act_CF/text()" /></xsl:attribute>
                                                            </input>
                                                </td>
                                                <td  align="center" width="40%" style="border-width:1px 0px 0px 1px;">

                                                </td>
                                            </tr> 
```

但这对桌子没有影响。

我必须为表格中的 td 设置高度。

这该怎么做。

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:33:15.977

这样做

```
#cer_actuals td {
    padding-left: 5px;
    font-family: Verdana;
    font-size: 9pt;
    font-weight: normal;
    height: 0px;
    border: 1px solid grey;
} 
```

**[演示](http://jsfiddle.net/WsLcT/1/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T09:33:51.830

添加这个：

```
#cer_actuals td {
  height: 0px;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-13T09:35:34.747

做这个 -

```
<table cellpadding="0" cellspacing="0" border="0" align="center" width="100%">
    <tr>
        <td>Some Content</td>
    </tr>
    <tr>
        <td>Some Content</td>
    </tr>
</table> 
```

CSS

```
table td{
  padding: 5px;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-13T09:38:26.637

请试试：

# cer_actuals tr td {...}

“#cer_actuals - 表示所有 id = cer_actuals 的元素；tr - 表示我们在 td 之前获得的所有表格行 - 表示我们之前获得的所有 td”

# visual-studio-2010 - 将日期添加到上下文参数 - Web 性能测试 - Visual Studio 2010

> ID：14850275
> 
> 赞同：2
> 
> 时间：2013-02-13T09:30:06.320
> 
> 标签：visual-studio-2010, load-testing, performance-testing

我需要在运行负载测试时动态插入日期和时间。

上下文模式的值在哪里，我希望它动态地看起来像 - “Case - 13:02:2013 - 10:25:12”。

是否有可以在此处插入以获取日期的 som 函数？

在 C# 中，我只需键入： System.DateTime.Now;

![在此处输入图像描述](../Images/a39156a7f778b2ccf3715df1e5abdd2d.png)

# php - ZF2 Rest Skeleton 中的 REST 路由失败

> ID：14850278
> 
> 赞同：0
> 
> 时间：2013-02-13T09:30:12.357
> 
> 标签：php, rest, zend-framework2, restful-architecture

我使用以下 module.config.php 配置了 Resftul 模块（[https://github.com/scaraveos/ZF2-Restful-Module-Skeleton](https://github.com/scaraveos/ZF2-Restful-Module-Skeleton)）。但是当我想访问“public/rest/article.json”时，路由失败了。

有人对我有线索吗？控制器已给出。

```
return array(
    'errors' => array(
        'post_processor' => 'json-pp',
        'show_exceptions' => array(
            'message' => true,
            'trace'   => true
        )
    ),
    'di' => array(
        'instance' => array(
            'alias' => array(
                'json-pp'  => 'Rest\PostProcessor\Json',
                'image-pp' => 'Rest\PostProcessor\Image',
            )
        )
    ),
    'controllers' => array(
        'invokables' => array(
            'article' => 'Rest\Controller\ArticleController',
        )
    ),
    'router' => array(
        'routes' => array(
            'restful' => array(
                'type'    => 'Zend\Mvc\Router\Http\Segment',
                'options' => array(
                    'route'       => '/[:controller][.:formatter][/:id]',
                    'constraints' => array(
                        'controller' => '[a-zA-Z][a-zA-Z0-9_-]*',
                        'formatter'  => '[a-zA-Z][a-zA-Z0-9_-]*',
                        'id'         => '[a-zA-Z0-9_-]*'
                    ),
                ),
            ),
        ),
    ),
); 
```

autoload_classmap 是

```
'Rest\Controller\ArticleController' => __DIR__ . '/src/Rest/Controller/ArticleController.php', 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T17:31:37.793

你可以做你想做的事，但有更好的方法来处理 REST 请求，使用 Content Type 标头来决定要显示的格式。ZF2 擅长使用 View Strategies 执行此操作：

[http://framework.zend.com/manual/2.0/en/modules/zend.view.quick-start.html#creating-and-registering-alternate-rendering-and-response-strategies](http://framework.zend.com/manual/2.0/en/modules/zend.view.quick-start.html#creating-and-registering-alternate-rendering-and-response-strategies)

您可以根据请求的内容类型使用不同的策略，这就是您应该使用 REST API 执行的操作。

你可以重写你的路线来使用这样的东西：

```
'route' => '/[:controller[.:format][/:id]]',
'constraints' => array(
    'controller' => '[a-zA-Z][a-zA-Z0-9_-]*',
    'format' => '(xml|json|sphp)',
    'id' => '[1-9][0-9]*',
),
'defaults' => array(
    'controller' => 'Rest\Controller\ArticleController',
    'format' => 'xml',
), 
```

然后，您可以使用诸如“/articles.json/9”或/articles/xml 之类的路由

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T00:43:50.340

我不确定您的虚拟主机配置是什么，但如果您尝试访问此网址：

`http://somehost/public/rest/article.json`

然后你需要改变这个：

`'route' => '/[:controller][.:formatter][/:id]',`

对此：

`'route' => '/public/rest/[:controller][.:formatter][/:id]',`

让我知道这是否适合您。

# javascript - 使用 Java ArrayList 将系列数据分配给 highchart

> ID：14850280
> 
> 赞同：1
> 
> 时间：2013-02-13T09:30:15.030
> 
> 标签：javascript, highcharts

我想使用 Highcharts 创建一个饼图。该系列的类别和数据来自两个 java 数组。但是图表没有绘制。将两个静态数组传递给 jsfiddle 中的类别和数据绘制图表。

我尝试将 java 数组转换为字符串并使用[Highcharts 中给出的解决方案如何使用 JavaScript 变量作为系列数据源？](https://stackoverflow.com/questions/5751552/highcharts-how-to-use-javascript-variable-as-series-data-source). 但它没有用。

有人可以弄清楚错误是什么。

```
 $(function () {
        var chart;

        $(document).ready(function () {

            var names = document.getElementById("listofnames").value;
            var datas = document.getElementById("listofdata").value;

            var c = names.split(",");
            var d = datas.split(",");

            chart = new Highcharts.Chart({
                chart: {
                    renderTo: 'container',
                    plotBackgroundColor: null,
                    plotBorderWidth: null,
                    plotShadow: false
                },
                title: {
                    text: 'Browser market shares at a specific website, 2010'
                },
                tooltip: {
                    pointFormat: '{series.name}: <b>{point.percentage}%</b>',
                    percentageDecimals: 1
                },
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        dataLabels: {
                            enabled: false
                        },
                        showInLegend: true
                    }
                },
                series: [{
                    type: 'pie',
                    name: 'Browser share',
                    categories : c,
                    data: d
                }]
            });
        });

    });
    </script>
</head> 
```

```
<div id="container" style="min-width: 400px; height: 400px; margin: 0 auto"></div>
<s:hidden  name="listofnames" id="listofnames" value="%{NameList}"/>
<s:hidden  name="listofdata" id="listofdata" value="%{DataList}"/> 
```

[我还尝试按照Highchart 插件不接受系列数据数组中的](https://stackoverflow.com/questions/14247673/highchart-plugin-not-accepting-array-for-series-data)建议将数据作为字符串传递给系列？. 即使这样也行不通。

```
 var names = document.getElementById("listofnames").value;
            names = names.replace("[","");
            names = names.replace("]","");
            var datas = document.getElementById("listofdata").value;
            datas = datas.replace("[","");
            datas = datas.replace("]","");

            var c = names.split(",");

            var d = datas.split(",");

            var datastring = "";

            for(var i=0; i<c.length; i++){

                datastring += "['"+c[i]+"',"+d[i]+"]";
            }

                        series: [{
                    type: 'pie',
                    name: 'Browser share',
                    data: datastring
                }] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T11:51:28.773

您的值很可能是字符串，而应该是数字。您必须解析该字符串，例如：

```
$.map(c, function(n){
    return parseFloat(n);
});    
$.map(d, function(n){
    return parseFloat(n);
}); 
```

# sql-server-2008 - 单个数据库连接与多个数据库连接。根据性能哪个更好

> ID：14850281
> 
> 赞同：0
> 
> 时间：2013-02-13T09:30:28.243
> 
> 标签：sql-server-2008, join, multiple-databases

我对 SQL Server 数据库有一些疑问。

我有一个处于工作状态的旧数据库，其中存在 Employee 的实际数据。我正在为我的应用程序创建一个新数据库。对于这个新应用程序，我需要依赖旧数据库中的数据。我只是将员工 ID 存储在我的新数据库中，并在需要时获取名称和其他详细信息以供显示。我正在使用两个数据库之间的连接来获取员工详细信息示例

```
JOIN [ASES].[dbo].[USERS] AS USERS
    ON CRMDR.Requester COLLATE SQL_Latin1_General_CP1_CI_AS = USERS.RID COLLATE SQL_Latin1_General_CP1_CI_AS 
```

我试图找出性能差异。这种来自两个不同数据库的连接更好，或者如果我在新数据库中复制员工详细信息，然后我的查询将只有单个数据库连接？根据性能，哪一个更好？

# c# - 如何递归循环遍历反射类型并设置它的子对象值？

> ID：14850283
> 
> 赞同：0
> 
> 时间：2013-02-13T09:30:32.120
> 
> 标签：c#, reflection, recursion

对于我的数据层，我有一个包含我所有实体的 L2Sql 程序集。这些实体大多相互关联。问题在于，由于我们的内部开发标准，我们希望在创建对象实例后将某些属性设置为特定值。

我的想法是递归扫描我的相关对象（Person.ContactDetails.Address），设置属性值，然后返回父对象（Person）以进行进一步处理。

我已经进行了递归，但不幸的是，它似乎只返回 heirachy（地址）中的最后一个孩子而不是 Person。

这是我的代码：

```
private Type SetDefaultTypeValues(Type t, object o, Type parentType)
{
    Type theType = t;
    PropertyInfo[] fields = theType.GetProperties();

    foreach (PropertyInfo fi in fields)
    {
        switch (fi.Name)
        {
            case "CreateDate":
                fi.SetValue(o, DateTime.Now, null);
                break;
            case "ModifyDate":
                fi.SetValue(o, DateTime.Now, null);
                break;
            case "Active":
                fi.SetValue(o, true, null);
                break;
            default:
                if (fi.PropertyType == typeof(DateTime))
                {
                    fi.SetValue(o, new DateTime(1900, 01, 01, 12, 0, 0), null);
                }
                break;
        }

        if (fi.PropertyType.FullName.StartsWith("whatever.arme.Domain.Entities") && fi.PropertyType != parentType) // This is to ignore properties of the child which contain Parent references
        {
            var obj = fi.GetValue(o, null);
            if (obj == null)
                obj = Assembly.GetAssembly(theType).CreateInstance(fi.PropertyType.FullName);
            theType = SetDefaultTypeValues(fi.PropertyType, obj, theType); // I imagine the problem lies between here...
        }
    }
    return theType; // ... and here?
} 
```

为什么我的父对象没有返回给原始调用者，而是返回不同类型的对象？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T09:33:29.657

您应该 return`t`而不是，因为当您为属性调用它时，您会用返回值`theType`覆盖。`theType``SetDefaultTypeValues`

# android - 通过外部事件创建片段 == 可能的 IllegalStateException？

> ID：14850294
> 
> 赞同：0
> 
> 时间：2013-02-13T09:31:06.680
> 
> 标签：android, fragment, illegalstateexception

假设我有一个活动，它注册 BroadcastReceiver 来监听一些独立于活动生命周期的事件。Receiver 可以在 Activity 的 onStart/onStop 或 onResume/onPause 上注册。收到事件后，我想创建并显示一个片段，例如显示事件详细信息。这可行，但有时应用程序会因“IllegalStateException：onSaveInstanceState 后无法执行此操作”而崩溃。

我认为，这可能发生在活动要暂停和停止状态时，已经保存了其内部状态，但 BroadcastReceiver 尚未取消注册，此时出现新的外部事件。

片段管理器将其状态保存在 onSaveInstanceState() 上。根据官方文档，“如果调用，onSaveInstanceState() 将在 onStop() 之前发生。不能保证它是否会在 onPause() 之前或之后发生”。因此，即使我将在 onResume() 上注册接收器并在 onPause() 上取消注册，也不能保证避免 IllegalStateException，因为活动可以在 onPause() 之前保存它的内部状态。

也许，可能的解决方案是覆盖 onSaveInstanceState() 并在此处设置自己的布尔标志，如 mStateSaved。并且，当接收到新事件时，分析此标志：如果已设置，则假定活动将进入暂停-停止状态，并且不启动片段事务。

我很有趣，也许有更好的解决方案。

感谢您的关注！

**更新**（代码示例，片段）：

```
@Override
protected void onStart() {
    super.onStart();
    mActionInformer.addObserver( onActionInformerUpdated );
}

@Override
protected void onStop() {
    super.onStop();        
    mActionInformer.deleteObserver( onActionInformerUpdated );
}    

Observer onActionInformerUpdated = new Observer() {
    @Override
    public void update( Observable observable, Object data ) {            
        TaskEvent event = (TaskEvent) data;
        if( event == TaskEvent.START ) {
            setSupportProgressBarIndeterminateVisibility( true );
        } else {
            setSupportProgressBarIndeterminateVisibility( false );
            // update ActionBar
            invalidateOptionsMenu();
            // handle authorisation event
            if( event == TaskEvent.AUTH ) {
                String msg = mActionInformer.getExtraMessage();
                DialogFragment dlg = AuthorisationDialog.newInstance( msg );
                dlg.show( getFragmentManager(), "Authorisation" );
            }
        }
    }
}; 
```

# javascript - 自动完成不返回输出

> ID：14850298
> 
> 赞同：1
> 
> 时间：2013-02-13T09:31:18.193
> 
> 标签：javascript, jquery, ajax, coldfusion

如何通过使用ajax动态附加表单字段值来检索查询结果？

```
 <script> 
  $(document).ready(function() {
    $("textbox").autocomplete({
        source: function(query, response) {
            $.ajax({
                url: "/xxx/sample.cfc?method=queries&returnformat=json",
                dataType: "json",
                data: {
                    searchKeyword: query.term
                },
                success: function(result) {
                    response(result);
                }
            });
        }
    });
  });
 </script> 
```

我已经尝试了下面的代码，但无法获得输出。这种方式正确吗？

如何通过传递`searchKeyword`给 sample.cfc 来获取记录？sample.cfc 中要写的逻辑是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T03:19:42.097

也许您唯一的问题是您没有正确定位文本框。将您的代码更改为

```
<input type="text" id="textbox">
 <script> 
  $(document).ready(function() {
    $("#textbox").autocomplete({
        source: function(query, response) {
            $.ajax({
                url: "/xxx/sample.cfc?method=queries&returnformat=json",
                dataType: "json",
                data: {
                    searchKeyword: query.term
                },
                success: function(result) {
                    response(result);
                }
            });
        }
    });
  });
 </script> 
```

为我正确提交，萤火虫显示 URL 参数（在我在输入字段中输入我的名字后）为：

方法查询

返回格式 json

搜索关键字安德鲁

（注意：如果您在标签内，则必须将选择器更改为##textbox）

一个非常简单的**sample.cfc**，它只是将您的搜索关键字返回给您，看起来像

```
component{

    remote function queries() {
        return url.searchKeyword;
    }

} 
```

Unless this is just a learning exercise for you, i suggest using a jquery widget to save you writing a whole autocompleter yourself..

# java - 下载失败时，DownloadManager 游标属性 COLUMN_LOCAL_FILENAME 为空

> ID：14850305
> 
> 赞同：2
> 
> 时间：2013-02-13T09:31:39.937
> 
> 标签：java, android, download, android-download-manager

我正在为我构建一个后备，`DownloadManager`它将重新启动失败的下载。

我坚持使用[vogella 的](http://www.vogella.com/blog/2011/06/14/android-downloadmanager-example/)示例构建我的下载管理器功能。

```
if (c.moveToFirst()) {
int columnIndex = c.getColumnIndex(DownloadManager.COLUMN_STATUS);

...

} else if (DownloadManager.STATUS_FAILED == c.getInt(columnIndex)) { 

         colIndex = c.getColumnIndex(DownloadManager.COLUMN_LOCAL_FILENAME);
         String localFilename = c.getString(colIndex);

} 
```

“失败”案例正在工作，但我的`localFilename`变量是`null`.

顺便说一句：`COLUMN_URI`正在工作。

有什么想法可以访问目标/本地路径或文件名吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-10-10T12:59:30.773

DownloadManager.COLUMN_LOCAL_FILENAME 字段从 API 11 开始工作，因此如果您使用较旧的 API，colIndex 将为 -1，这将导致 localFilename 字符串为空。

如果您只想从 URI 中获取路径

```
String path = Uri.parse(cursor.getString(cursor.getColumnIndex(DownloadManager.COLUMN_LOCAL_URI))).getPath() 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-02-18T20:24:08.000

由于**下载失败**，本地文件名为空。没有本地文件可供参考。

参照。文档[`DownloadManager.html#getUriForDownloadedFile`](http://developer.android.com/reference/android/app/DownloadManager.html#getUriForDownloadedFile%28long%29)（强调添加）：

> **如果文件下载成功**，则返回给定下载文件 id 的 Uri 。**否则，返回 null**。

# c++ - 将向量分配给多重集

> ID：14850306
> 
> 赞同：0
> 
> 时间：2013-02-13T09:31:41.063
> 
> 标签：c++, vector, stl, c++11, multiset

将 std::vector 分配给 std::multiset 有什么好的方法吗？当然除了迭代。我看到在 C++11 中有类似初始化列表的东西，也许它可以以某种方式使用？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-13T09:35:03.260

```
vector<int> v;
//fill your vector
multiset<int> m (v.begin(), v.end()); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-13T09:34:55.540

用这个：

```
std::vector<SOME_TYPE> a;
....
std::multiset<SOME_TYPE> ms(a.begin(), a.end()); 
```

# facebook - 关于 Facebook 登录程序

> ID：14850320
> 
> 赞同：1
> 
> 时间：2013-02-13T09:32:48.407
> 
> 标签：facebook, facebook-graph-api, facebook-login

我是 facebook 应用程序的新手。

我将制作一个服务器（谷歌应用程序引擎）和客户端（android 应用程序）。

从 facebook 的角度来看，我的服务器和客户端都是客户端。

无论如何，服务器和android应用程序都需要登录。

有什么东西可以在一个动作中同时登录（服务器和客户端）吗？

总之，我想要一种登录两个客户端的方法，只使用一个登录操作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T09:38:21.867

登录用户后，您将获得一个访问令牌。您可以在两个应用程序之间共享此令牌，只要它们使用相同的 facebook 应用程序（app-secret 和 app-id）。

# asp.net - 尝试访问 .less 文件时无法从程序集“dotless.Core”加载类型“dotless.Core.LessCssHttpHandler”

> ID：14850321
> 
> 赞同：1
> 
> 时间：2013-02-13T09:32:50.767
> 
> 标签：asp.net, iis, iis-6, dotless

当我尝试访问 .less 文件时，在 IIS6 站点中出现以下错误：

```
Detailed error information (authorized by permissions to functions)
Error occured   13.02.2013 10:30:19
User IP 93.89.112.52
User Agent  Mozilla/5.0 (Windows NT 6.1; WOW64; rv:18.0) Gecko/20100101 Firefox/18.0
Url http://www.oppdal.kommune.no/Templates/SSP.MasterPages/Static/css/style.less
Referer (none)
Exception details:
ConfigurationErrorsException: Could not load type 'dotless.Core.LessCssHttpHandler ' from assembly 'dotless.Core'. (C:\prokom\Oppdal Kommune CMS6R2Newest2\web.config line 377)
Stack trace:

[ConfigurationErrorsException: Could not load type 'dotless.Core.LessCssHttpHandler
    ' from assembly 'dotless.Core'. (C:\prokom\Oppdal Kommune CMS6R2Newest2\web.config line 377)]
   at System.Web.Configuration.ConfigUtil.GetType(String typeName, String propertyName, ConfigurationElement configElement, XmlNode node, Boolean checkAptcaBit, Boolean ignoreCase)
   at System.Web.Configuration.HttpHandlerAction.Create()
   at System.Web.Configuration.HandlerFactoryCache..ctor(HttpHandlerAction mapping)
   at System.Web.HttpApplication.GetFactory(HttpHandlerAction mapping)
   at System.Web.HttpApplication.MapHttpHandler(HttpContext context, String requestType, VirtualPath path, String pathTranslated, Boolean useAppConfig)
   at System.Web.HttpApplication.MapHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)

[Inner exception TypeLoadException: Could not load type 'dotless.Core.LessCssHttpHandler
    ' from assembly 'dotless.Core'.]
   at System.RuntimeTypeHandle.GetTypeByName(String name, Boolean throwOnError, Boolean ignoreCase, Boolean reflectionOnly, StackCrawlMarkHandle stackMark, Boolean loadTypeFromPartialName, ObjectHandleOnStack type)
   at System.RuntimeTypeHandle.GetTypeByName(String name, Boolean throwOnError, Boolean ignoreCase, Boolean reflectionOnly, StackCrawlMark& stackMark, Boolean loadTypeFromPartialName)
   at System.RuntimeType.GetType(String typeName, Boolean throwOnError, Boolean ignoreCase, Boolean reflectionOnly, StackCrawlMark& stackMark)
   at System.Type.GetType(String typeName, Boolean throwOnError, Boolean ignoreCase)
   at System.Web.Compilation.BuildManager.GetType(String typeName, Boolean throwOnError, Boolean ignoreCase)
   at System.Web.Configuration.ConfigUtil.GetType(String typeName, String propertyName, ConfigurationElement configElement, XmlNode node, Boolean checkAptcaBit, Boolean ignoreCase) 
```

httpHandlers 部分中的 Web.config：

```
<add type="
    dotless.Core.LessCssHttpHandler
    ,dotless.Core" validate="false"
    path="*.LESS" verb="*" /> 
```

dotless.Core 版本 1.3.1.0 位于 bin 文件夹中。

这是什么原因，我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-31T17:22:51.273

我把我的放在了错误的 httpHandlers 部分。它位于 system.web 部分而不是 system.webServer。

我还发现了这个： [无法让 dotLess 工作](https://stackoverflow.com/questions/7282222/unable-to-get-dotless-to-work)

它对我不起作用，但它给了我一个暗示，我把它放在了错误的地方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-10-28T08:15:23.387

最后一个版本不同：

```
<add name="dotless" path="*.less" verb="GET" type="dotless.Core.LessCssHttpHandler,dotless.AspNet" resourceType="File" preCondition="" /> 
```

# html - 通过 SVG 路径获取 div 动画的旋转量

> ID：14850324
> 
> 赞同：1
> 
> 时间：2013-02-13T09:33:01.570
> 
> 标签：html, svg, jquery-svg, html5-animation, svg-animate

从我[的上](https://stackoverflow.com/questions/14826305/animate-a-div-through-svg-path/14826391#comment20810137_14826391)一篇文章中有助于通过 SVG 路径为 div 设置动画。成功和 div "#car" 通过我的路径动画。

现在的问题是如何根据曲线旋转/变换 div ？即如果它通过倾斜路径移动需要根据线的曲线旋转div。

HTML 部分

```
<div class="movepath">

        <div class="car" id="car"></div>

<svg id="canvas" width="1000px" class="content" xmlns="http://www.w3.org/2000/svg" height="370px">
<style type="text/css"><![CDATA[
    .lineC {
        fill:#fff;stroke:#000;
    }
]]></style>

</svg>

    </div> 
```

CSS 部分

```
.movepath {
width:"1000px";
height:350px;
position:relative;
float:left;
}

.car {
width:100px;
height:50px;
background-color:red;
position:absolute;
left:0;top:0;
} 
```

JS部分

```
$(document).ready(function(){

    timer=setInterval('rotateIt()',20);

    var width=getDocWidth();
    $('#canvas').width(width+'px');
    $('.carpath').width(width+'px');

    var shape = document.createElementNS(svgNS, "path");

    var points = 'M0 10 Q -27 10, 95 80 T'+width+' 40';
    shape.setAttributeNS(null, "d", points);
    shape.setAttributeNS(null, "class", "lineC");
    shape.setAttributeNS(null, "id", 'road');
    document.getElementById("canvas").appendChild(shape);

});

function rotateIt(){

    rot += 10;
    left+=1;
    $('.right_t').css(prefix, 'rotate(' + rot + 'deg)');
    $('.left_t').css(prefix, 'rotate(' + rot + 'deg)');

    var length=$('#road')[0].getTotalLength() * i;
    var point = $('#road')[0].getPointAtLength( length );

    $('#car').css('left',point.x+'px');
    $('#car').css('top',(point.y-62)+'px');
    i+=.0005;
} 
```

任何人都可以给我一个根据路径旋转“#car”的想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T16:25:34.870

您需要计算曲线上两点之间的角度（例如，“汽车”的下边缘），公式如下：

```
function getAngle(p1, p2) {
  var deltaY = p2.y - p1.y;
  var deltaX = p2.x - p1.x;
  return Math.atan2(deltaY, deltaX) * 180 / Math.PI
} 
```

这是您的代码的粗略工作示例：

[http://jsfiddle.net/5CB4u/](http://jsfiddle.net/5CB4u/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-28T23:27:58.383

找到了一个很好的工具来轻松解决这个问题。

那可能是你的朋友。

[https://github.com/yairEO/pathAnimator](https://github.com/yairEO/pathAnimator)

# java - 使 UI 更改在后台工作（使用 ProgressDialog）？

> ID：14850325
> 
> 赞同：0
> 
> 时间：2013-02-13T09:33:02.560
> 
> 标签：java, android

我正在开发一个应用程序，其中在一个活动中将不同的视图添加到 ViewGroup 中，这个过程需要一段时间才能启动，所以我想在前台运行一个进度对话框，而 UI 可以在后台设置。

**我试过的**

我尝试使用

1\. **AsyncTask**但它给出了 Exceptions 。2\. 在使用线程和**runnable()**时，我得到**InvocationTargetException**。

我想知道什么是最好的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:36:05.523

您无法通过后台任务进行 UI 更改。

如果使用`AsyncTask`，则只能从`onPostExecute()`或`onProgressUpdate()`方法更新 UI。

另一种选择是使用 a `Handler`，它（除其他外）可以`Runnable`在主线程上执行 s 。

编辑：处理程序必须在主线程上实例化。在任何线程中，您都可以使用`post(Runnable)`or`sendMessage(Message)`以及它们的各种变体。因为`sendMessage()`你需要覆盖`handleMessage(Message)`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:38:23.373

你能插入一些你的代码吗？这将有助于确定问题的原因。

但是您需要知道您不能从后台线程更改 UI。它会给你一个例外。您可以做的是编写一个`AsyncTask`，它在其方法中初始化对象并为它们分配值，然后在其`doInBackground`方法中修改 UI 线程`onPostExecute`。

它看起来像这样：

```
private class myAsyncTask extends AsyncTask<Void,Void,Void>
{
  @Override
  protected void onPreExecute()
  {
   //show progress dialog
  }

  @Override
  protected Void doInBackground(Void... arg0)
  {
    //init objects, and do stuff with them
    return null;
  }

  @Override
  protected void onPostExecute(Void result)
  {
    //make changes to UI thread 
    //close progress dialog
  }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T10:04:29.663

Juste 保留您的 AsyncTask 并在 onPostExecute 中更新 UI，而不是在 doInBackground 中执行此操作。

# php - 单击按钮时在输入字段中显示文本（php/html）

> ID：14850331
> 
> 赞同：1
> 
> 时间：2013-02-13T09:33:36.650
> 
> 标签：php, javascript, html, input

我需要以下帮助；当在另一个输入字段中单击“gww”按钮时，我想显示一个新生成的密码（php 中的函数）。有人可以解释一下吗？

```
<td><input type="button" value="Generate" name="gww"></td>
<td><input type="text" id="ww"></td>

<script type="text/javascript">
function password()
{
var elem = document.getElementById("ww");
elem.value = "<? echo random_Password(); ?>";
}
</script>

function random_Password($length = 8)
{
//empty password string
$password = "";

//Possible characters
$karakters = "123456789abcdefghijklmnpqrstuvwxyz";

$maxlength = strlen($karakters);
if($length > $maxlength)
{
    $length = $maxlength;
}
$i = 0;
while($i < $length)
{
    $char = substr($karakters, mt_rand(0, $maxlength-1), 1);
    if(!strstr($password, $char))
    {
        $password .= $char;
        $i++;
    }
}
return $password;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T09:39:26.420

我怀疑您希望在单击按钮时显示新密码。为此，您必须使用 AJAX。

所以你有你的javascript函数：

```
function generatePassword()
{
    var xmlhttp;
    if (window.XMLHttpRequest)
    {
       // code for IE7+, Firefox, Chrome, Opera, Safari
       xmlhttp=new XMLHttpRequest();
    }
    else
   {
       // code for IE6, IE5
       xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
   }
   xmlhttp.onreadystatechange=function()
   {
    if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
        document.document.getElementById("ww").value = xmlhttp.responseText;
    }
  }
   xmlhttp.open("GET","http://www.example.com/generatepassword.php",true);
   xmlhttp.send();
} 
```

你的 HTML 应该是

```
<input type="button" value="Generate password" onClick="generatePassword()"> 
```

生成密码.php：

```
<?php
echo random_Password();

function random_Password($length = 8)
{
  //your function here ;
}
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T10:15:13.320

这应该按原样工作。

```
<td><input type="button" value="Generate" name="gww" onClick="generatePassword()"></td>
<td><input type="text" id="ww"></td>

<script type="text/javascript">
function generatePassword()
{
  var xmlhttp;
  if (window.XMLHttpRequest)
  {
    // code for IE7+, Firefox, Chrome, Opera, Safari
    xmlhttp=new XMLHttpRequest();
  }
  else
  {
    // code for IE6, IE5
    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
  xmlhttp.onreadystatechange=function()
  {
    if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
      document.document.getElementById("ww").value = xmlhttp.responseText;
    }
  }
xmlhttp.open("GET","gpass.php",true);
xmlhttp.send();
}
</script> 
```

我认为您已经将 gpass.php 设置为：

```
<?php
echo random_Password();

function random_Password($length = 8)
{
  //your function here ;
}
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T09:43:03.103

PHP 是服务器端，所以你打电话给

```
echo random_Password(); 
```

仅在页面加载时发生，并且发生一次。在 javascript 中创建函数并为按钮设置一个 onClick 属性。或者使用其他人在这些评论中提到的 Ajax。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-13T09:44:01.593

您遇到的问题是以下代码仅运行一次：

```
var elem = document.getElementById("ww");
elem.value = "<? echo random_Password(); ?>"; 
```

因此，假设您的`random_Password()`函数（完全难以置信）返回值***12345678***，该值将保留到手动刷新页面为止。无需刷新，单击**GWW**按钮每次都会将**WW**字段设置为***12345678***。

您在这里有几个不同的选择（从最简单到最难）：

1.  让**GWW**按钮在单击时执行整页刷新。**不可取**。

2.  将您的 random_Password() 函数转换为 JavaScript 代码并在客户端中执行它。非常简单，但它向黑客揭示了密码是如何生成的，因此并不**安全**。

3.  使用**AJAX**。将您的`random_Password()`函数移动到它自己的文件中，`random_password.php`并将“页面”（即 8 个字符的字符串）加载到文本字段的`val`.

在 99% 的情况下，我会选择**选项 3 。**教程在这里：[http ://www.w3schools.com/php/php_ajax_php.asp](http://www.w3schools.com/php/php_ajax_php.asp)

希望有帮助:)

# c# - 在客户端和服务器c#之间共享变量

> ID：14850332
> 
> 赞同：1
> 
> 时间：2013-02-13T09:33:45.757
> 
> 标签：c#, client-server, ipc

我有客户端和服务器应用程序。服务器计算从客户端接收到的命令数。我希望与客户分享这个号码。

客户端没有服务器的实例...

我有一个包含服务功能的 dll，服务器和客户端都在使用它。所以，我尝试使用该`set`属性在服务器端保存该数字，然后`get`在客户端使用该属性来获取该数字。

我总是得到0...

这是我的代码：

**服务器端：**

```
 private void clientReceived(Client sender, byte[] data)
 {
      try
      {
          Invoke((MethodInvoker)delegate
          {
              SharedDll.NumOfSentTests = 5;
          }
      }
 } 
```

**客户端：**

```
private void clientReceived(Client sender, byte[] dataReceived)
{
     try
     {
         Invoke((MethodInvoker)delegate
         {
             m_numOfSentTests = SharedDll.NumOfSentTests;
         }
     }
} 
```

**共享DLL**

```
public static int NumOfSentTests
{
    get { return SharedDll.m_numOfSentTests; }
    set { SharedDll.m_numOfSentTests = value; }
} 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T09:37:52.833

使用相同 DLL 的两个*不同进程**不*共享任何状态。每个进程在 DLL 中都有自己的对象副本。

您需要向您的服务器添加另一个命令 - 一个返回命令数量的命令。客户端可以像使用其他命令一样使用它。

# image - 当我在 WP8 上有多个带有图像的 LonglistSelector 时，后退按钮的性能问题

> ID：14850333
> 
> 赞同：1
> 
> 时间：2013-02-13T09:33:47.970
> 
> 标签：image, windows-phone, transition, longlistselector

在我的 windows phone 应用程序中，我有一个包含 7 个枢轴项目的页面，每个枢轴包含一个列表框，在每个列表框中我每个项目都有一个图像（从网络加载）。当我单击其中一个时，我会转到另一个页面。

当我按下后退按钮时，页面之间的转换非常缓慢。问题来自列表框，可能是因为图像。我不知道如何解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T20:17:08.297

您可以将当前数据透视项目的 itemssource 设置为 null（在这种情况下为列表框）。Pivot 按需读取其元素，因此无需在其上添加这些元素。

请记住，移动平台是有限的。因此，请考虑其他选项，而不是 Windows Phone 中的 ListBox。

希望能帮助到你。

# mysql - 使用 Flask-SQLAlchemy 连接到 AWS RDS MySQL 数据库实例

> ID：14850341
> 
> 赞同：25
> 
> 时间：2013-02-13T09:34:03.070
> 
> 标签：mysql, amazon-rds, flask-sqlalchemy

对于我的 Flask 应用程序，我想使用 Flask-SQLAlchemy 扩展连接到我在 AWS RDS 上创建的数据库实例。

当我尝试连接时，应用程序超时并且我收到以下错误：

> sqlalchemy.exc.OperationalError: (OperationalError) (2003, "Can't connect to MySQL server on 'xxxxxxxxxxxxxxx.xxxxxxxxxxxx.us-east-1.rds.amazonaws.com'(60")

我的代码如下所示：

```
from flask import Flask
from flask.ext.sqlalchemy import SQLAlchemy
application = Flask(__name__)

application.config['SQLALCHEMY_DATABASE_URI'] = 'mysql://{master username}:{db password}@{endpoint}/{db instance name}'
db = SQLAlchemy(application)

@application.route('/')
def hello_world():
    return 'Hello World'

if __name__ == '__main__':
    application.run() 
```

[Flask-SQLAlchemy 文档](http://pythonhosted.org/Flask-SQLAlchemy/config.html#configuration-keys)说 mysql 数据库连接的 SQLALCHEMY_DATABASE_URI 的格式应该如下所示：

```
mysql://username:password@server/db 
```

此外，我可以查看 AWS RDS 控制台以获取有关我的数据库实例的信息。控制台看起来像[这样](https://i.stack.imgur.com/CvIZv.gif)。

现在我假设 SQLAlchemy 中的“用户名”是指 AWS RDS 控制台中的“主用户名”，SQLAlchemy 中的“服务器”是指 AWS RDS 控制台中的“端点”，而“db”是指“数据库”实例名称”

我究竟做错了什么？？

如果有人可以用 AWS RDS 控制台术语为我描述 SQLALCHEMY_DATABASE_URI，那将完全解决问题。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-02-13T09:38:38.870

转到您的 AWS RDS 控制台并选择您的实例 -> 数据库安全组 -> 单击默认

并根据推荐的 IP 范围添加新的 CIDR。

这基本上是一个防火墙配置，它决定谁可以连接到数据库实例。

您可以将其设置为 0.0.0.0/0，这样防火墙就不会阻止您从任何主机/网络访问它。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2017-10-02T02:43:07.507

这是一个有效路径：EC2 仪表板 -> 从左侧面板查找网络和安全 -> 安全组。

[![安全组](../Images/b5f39bb6ab5e003dfc56c64743d01342.png)](https://i.stack.imgur.com/PcPwS.png)

如果您创建了安全组，则可以转到第 2 项。

1.  创建一个新的安全组：

在那里您可以命名您的安全组和描述。

VPC 可能会自动为您创建。

[![创建安全组窗口](../Images/6c6652453ed5645d4711181af0eb98e3.png)](https://i.stack.imgur.com/8t56V.png)

创建后，从列表中选择它。

2.  设置入站和/或出站连接：

您可以在此处配置入站连接规则。

[![入境窗口](../Images/6d2e19051d1ce4dddce1115c41750b9a.png)](https://i.stack.imgur.com/W3cFH.png)

在编辑 -> 添加规则时，您有默认预设以便于配置，例如端口 80 上的 HTTP。

[![编辑入站连接规则窗口](../Images/70ed342bf43571052490832992d96a45.png)](https://i.stack.imgur.com/0JteV.png)

我希望这从现在开始对每个人都有帮助。

*   出于安全原因，请尝试仅允许需要的受信任 IP 和/或安全组。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2019-11-03T22:50:48.947

确保您在添加配置下的数据库初始设置中创建数据库名称，除非 AWS RDS 不会创建数据库。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-10-12T15:07:34.643

由于`AWS`界面发生了很大变化，因此使用更新的界面重新发布答案。

1.  转到您的`database instances`，单击您`DB identifier`的数据库。
2.  在那里你会看到`Connectivity & security`，在那个点击`VPC security groups`下`Security`。在那里，您将看到安全组列表。
3.  现在点击`Inbound Rules`，然后在右边你会看到`Edit Inbound Rules`，点击那个。
4.  您`Inbound Rules`应该如下图所示。

[![图片](../Images/a436b5e25da4be25c84e0c6ad423b4d0.png)](https://i.stack.imgur.com/2rPPc.png)

添加这些规则后，只需保存它们并尝试连接，它应该可以工作。

# hadoop - 在 reduce 任务中调用 htable.get(rowID) 会为随机行返回 NULL

> ID：14850348
> 
> 赞同：0
> 
> 时间：2013-02-13T09:34:29.033
> 
> 标签：hadoop, mapreduce, hbase

在我的 hadoop 映射器任务中，我通过扫描 hbase 表创建了一个 [key,value] = [sortKey,rowID] 在 reduce 任务中，当我执行 Result=Htable.get(rowID) 时，一些随机返回 null 以表示不同行 ID。但是在 hbase shell 中查询时，能够获取相同的 rowId。对于 1000 的输入 hbase 表行数（mapper 能够获取所有这些记录），大约 100 条记录将 htable.get(rowID) 返回为 null（在 reducer 中），但所有这 100 条记录实际上都在表中可用。

知道为什么 htable 上的“get”会随机返回 null 吗？任何缓存或内存调整都可以解决这个问题？

我正在使用 hadoop-1.0.3、hbase-0.92.1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T18:30:28.830

我使用 hashmap 来存储那些 Text rowids，因为它指的是循环内的相同位置。由于我在循环中进行了一些更新/删除，因此找不到一些行 ID。将 hashmap 更改为 string，或者创建一个新的 Text 对象，然后将其添加到 hashmap 解决了这个问题。

# image - Canny 边缘检测中的空间投票矩阵

> ID：14850356
> 
> 赞同：1
> 
> 时间：2013-02-13T09:35:18.610
> 
> 标签：image, opencv, image-processing, edge-detection

我们正在开发一种从卫星图像中提取道路网络的系统。我们阅读的其中一项技术是使用 canny 边缘检测器来提取边缘和梯度信息（每个像素的大小和方向），然后使用该梯度信息从中推导出空间投票矩阵。然后，该矩阵将用于检测道路网络。但是我们并没有完全了解这个投票矩阵到底是什么。任何有关这方面的帮助将不胜感激。它是什么以及如何导出这个矩阵然后使用它？或者对替代方法的建议会有所帮助。

该项目完全基于C语言。如果需要，我们可能会使用 OpenCV。谢谢你。

# java - 如何获取嵌套标签之间的字符串

> ID：14850357
> 
> 赞同：0
> 
> 时间：2013-02-13T09:35:19.237
> 
> 标签：java, beanshell

在一个项目中，我们尝试替换标签内的文本。我们尝试从 html 文件中获取带有 beanshell 的字符串。

```
<code>
var testString = "<a href='test/keyword/common'>Here is our keyword which should be replaced</a><img src='test/keyword/again'/>
</code> 
```

`<code>a</code>`现在只应替换标签之间的关键字。这对正则表达式或子字符串或其他东西可行吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:39:23.197

在*有限的*情况下，您可以使用正则表达式来做到这一点。不过，我建议使用 HTML 解析/操作库，例如[JSoup](http://jsoup.org/)或[JTidy](http://jtidy.sourceforge.net/)。它将为您提供更强大且（可能）更具可读性/可理解性的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T13:00:32.840

```
public static void main(String[] args) {
        String string = "<code>var testString = <a href='test/keyword/common'>Here is our keyword which should be replaced</a><img src='test/keyword/again'/></code>";
        string = string.replaceAll("(<code>.*?)Here is our keyword which should be replaced(.*?</code>)","$1Replaced with:$2");
        System.out.println(string);
    } 
```

试试这个：这正是你想要的，但我也建议使用 HTML 解析器来解析 HTML 标签。

# apache-flex - Flex Force Uppercase in ComboBox

> ID：14850360
> 
> 赞同：1
> 
> 时间：2013-02-13T09:35:25.490
> 
> 标签：apache-flex, combobox, uppercase

I am trying to force uppercase in some ComboBox

```
<s:ComboBox id="cbStocks" width="200" height="30" fontSize="16" dataProvider="{this.knownSymbols}" /> 
```

I tried the setStyle approach suggested by [flexexamples](http://blog.flexexamples.com/2010/01/26/setting-the-typographic-case-on-a-spark-label-control-in-flex-4/) without success

```
cbStocks.setStyle( "typographicCase", TypographicCase.CAPS);
```

and

```
cbStocks.textInput.setStyle( "typographicCase", TypographicCase.CAPS);
```

both throw an exception

```
RangeError: Property typographicCase value caps is out of range
```

**How do you force Uppercase in a ComboBox?**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T09:46:12.033

You can create a custom formatter to achieve this:

```
public class CapsFormatter extends Formatter {

    override public function format(value:Object):String {
        return value ? value.toString().toUpperCase() : "";
    }

} 
```

and then use it as follows:

```
<fx:Declarations>
    <f:CapsFormatter id="capsFormatter"/>
</fx:Declarations>

<s:ComboBox labelFunction="capsFormatter.format">
    <s:ArrayList>
        <fx:String>Hello</fx:String>
        <fx:String>world</fx:String>
    </s:ArrayList>
</s:ComboBox> 
```

# ios - iOS：将图像发布到网络服务

> ID：14850366
> 
> 赞同：-1
> 
> 时间：2013-02-13T09:35:42.760
> 
> 标签：ios, image, web-services, post, nsstring

我想使用以下格式将图像发布到网络服务：

图片=%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%01%00%00%00%01%01%03%00%00%00%25%DBV %CA%00%00%00%04gAMA%00%00%B1%8F%0B%FCa%05%00%00%00%01sRGB%00%AE%CE%1C%E9%00%00%00+cHRM %00%00z%26%00%00%80%84%00%00%FA%00%00%00%80%E8%00%00u0%00%00%EA%60%00%00%3A%98 %00%00%17p%9C%BAQ%3C%00%00%00%06PLTE%11%0B%0C%FF%FF%FFPU%C0J%00%00%00%01tRNS%94%B7%84%8F %3B%00%00%00%01bKGD%01%FF%02-%DE%00%00%00%09pHYs%00%00%00H%00%00%00H%00F%C9k%3E%00%00% 00%0AIDAT%08%D7c%60%00%00%00%02%00%01%E2%21%BC3%00%00%00%25tEXtdate%3Acreate%002013-01-06T12%3A31%3A53%2B02% 3A00%92R%3A%D3%00%00%00%25tEXtdate%3Amodify%002013-01-06T12%3A31%3A53%2B02%3A00%E3%0F%82o%00%00%00%19tEXtSoftware%00Adobe+ImageReadyq% C9e%3C%00%00%00%00IEND%AEB%60%82

我的问题是如何将图像转换为这种格式。

感谢任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T13:40:21.020

我找到了解决方案。如果有人需要它：

```
NSData *imageData = UIImagePNGRepresentation(self.photoImageView.image);
NSString *imageStringASCII = [[NSString alloc] initWithData:imageData encoding:NSASCIIStringEncoding]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:42:39.557

将您的图像转换为 Base64，即在以下[Base64库的帮助下进行编码](https://github.com/nicklockwood/Base64/)

并将图像上传到服务器。在服务器中解码并转换为图像并存储

# facebook - Facebook FQL share_count 始终为 0

> ID：14850367
> 
> 赞同：0
> 
> 时间：2013-02-13T09:35:42.913
> 
> 标签：facebook, facebook-graph-api, facebook-fql

FQL：`SELECT share_count FROM stream WHERE post_id = "19292868552_10150189643478553"`返回 0
我尝试过其他帖子，但每次都是 0

还有其他方法可以让分享帖子的人吗？
喜欢获得喜欢：`https://graph.facebook.com/19292868552_10150189643478553/likes`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T12:55:49.193

如果您在 Facebook 资源管理器中运行您的图表 URL，那么您将看到这篇文章没有 share_count。所以反应没什么不好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-06T09:09:02.890

看来，为了访问图 api 和 FQL 流表中帖子的 share_count 属性，使用的访问令牌必须具有**read_stream**权限。我注意到这仅适用于某些页面，因为在某些情况下您可以在没有扩展权限的情况下访问 share_count。

# jquery - 将变量传递给 window.location href

> ID：14850369
> 
> 赞同：4
> 
> 时间：2013-02-13T09:35:49.050
> 
> 标签：jquery, redirect, settimeout, window.location

我试图在点击时延迟传出链接，以便谷歌事件跟踪有时间发生。

我编写了以下代码，但不确定如何将变量传递给 window.location。它只是将其添加为字符串“url”而不是链接地址。我究竟做错了什么？

```
$("a.private-product-order-button").click(function(e) {
   e.preventDefault();
   _gaq.push(['_trackEvent', 'Order buttons', 'Click', 'Service']);
   var url = $(this).attr("href");
   setTimeout(function() {
      $(window.location).attr('href', 'url');
      }, 200);
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T09:38:36.113

无需使用 jQuery 设置`location`对象的属性（也无需使用 jQuery 获取`href`锚对象的属性）：

```
$("a.private-product-order-button").click(function(e) {
    e.preventDefault();
    _gaq.push(['_trackEvent', 'Order buttons', 'Click', 'Service']);

    var url = this.href;
    setTimeout(function() {
        window.location.href = url;
    }, 200);
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T09:37:09.737

因为你毕竟是在添加字符串。

它应该是：

```
$(window.location).attr('href', url); 
```

不是

```
$(window.location).attr('href', 'url'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-13T09:38:40.337

使用`$(window.location).attr('href', url);`不带引号的 url。

# html - 另一个 Firefox 相对路径难题

> ID：14850372
> 
> 赞同：0
> 
> 时间：2013-02-13T09:35:54.820
> 
> 标签：html, firefox, path

好的。所以我知道这可能是一个愚蠢的问题，但在过去的几个小时里我一直在遍历 SO 和谷歌寻找答案，但一无所获。

我目前正在使用 JQM 1.2.0 和 Google Maps js V3 创建一个 HTML5 移动应用程序 - 只是为了设置上下文。当我尝试在 FF 18 桌面版中测试页面时出现我的问题。在其他所有浏览器中，无论是移动版还是桌面版，我都没有遇到任何问题。另外，我在本地主机和我要部署到的服务器上都试过，结果是一样的。

在我的 HTML 文件中，我有一个指向 css 和 js 文件的相对链接：

```
<script src="js/general.js" type="text/javascript"></script>
<link rel="stylesheet" href="css/mobile.css"/> 
```

当我使用 CDN 时，我与 JQM 等的链接是绝对的：

```
<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script> 
```

当我使用 Firebug 时，我可以看到具有绝对路径的文件可以正常加载，而相对路径链接被忽略 - 或者至少我认为是这样，因为控制台或网络窗格中都没有显示任何内容。

当我在 Firebug 中检查 Html 窗格时，它看起来好像包含一个标记 pr 默认值（具有正确的 URL），但如果我尝试使用常规 FF 方法查看页面源，则不会。尽管如此，我试图在我的标题中包含一个显式的基本标记，但它没有任何改变。

所以，总结一下：相对路径在除 FF 之外的所有浏览器中都可以正常工作，它发生在我的服务器和本地主机上。

**更新：** 尝试将文件移动到根目录，但没有帮助。此外，当尝试在 Firebug 中查看 js 或 css 文件的内容时（按 index.html 中标签左侧的箭头），它只是说：

> 重新加载页面以获取以下资源：`http://localhost/~u040800/app/general.js`

当然，重新加载后不会改变。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T10:56:24.090

没关系 - 我这边的愚蠢错误！

自我注意：开发时，请确保在询问之前禁用您的附加组件！否则，您将成为一个完整的自己！

是的，这是正确的 - 我忘了禁用广告拦截器......

@robertc：很抱歉浪费了您的时间。

# ruby - 如何动态创建带有参数的 Ruby 方法？

> ID：14850374
> 
> 赞同：0
> 
> 时间：2013-02-13T09:36:14.197
> 
> 标签：ruby, class, methods, module, metaprogramming

当动态创建一个类方法时，有没有办法在创建时加入一些已知的参数？

我为自己制作了一个模块，它在创建模型时根据给定的属性生成`:slug`属性。[https://gist.github.com/firedev/4943289](https://gist.github.com/firedev/4943289)`:title`

但是我想重构这部分：

```
def create_slug(title_attr, slug_attr, &block) # generated method
  self.send(slug_attr) # I have to pass slug_attr from outside
  ...
end 
```

所以我可以在这里摆脱所有的参数：

```
self.send :after_initialize do
  create_slug(title_attr, slug_attr, &block) # I pass attributes from here
end 
```

并在创建的方法中嵌入参数：

```
def create_slug # this method is generated automatically
  self.send(:slug) # I want :slug to be baked in 
  ...
end

self.send :after_initialize, :create_slug # no attributes 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:25:28.270

看看这段代码：[https ://github.com/oleander/to_param-rb/blob/master/lib/to_param/base.rb](https://github.com/oleander/to_param-rb/blob/master/lib/to_param/base.rb)

我认为它可以满足您的需求。

**用法：**

```
class User < ActiveRecord::Base
  to_param :name
end

User.create(name: "Linus").to_param # => "1-linus" 
```

# internet-explorer - IE7 中的 CSS 倾斜变换

> ID：14850376
> 
> 赞同：0
> 
> 时间：2013-02-13T09:36:27.860
> 
> 标签：internet-explorer, css, internet-explorer-7, css-transforms

我正在尝试使用 CSS 设置表格的标题。它在 IE9 中工作正常，但在 IE7 中，标题是倾斜的，但被剪裁了。

这是小提琴 [http://jsfiddle.net/sWVrM/3/](http://jsfiddle.net/sWVrM/3/)

这是代码：

HTML：

```
<table>
    <thead>
        <tr>
            <th><p>ABD</p></th>
            <th><p>QWE</p></th>
        </tr>
    </thead>
</table> 
```

CSS：

```
table thead tr th {
    background: #ebf6fe;
    overflow: hidden;
    padding: 0.5em;
    white-space: nowrap;
    display: block;
    outline: 2px solid;
    filter: progid:DXImageTransform.Microsoft.Matrix(M11=1, M12=-0.9999999999999977, M21=0, M22=1, SizingMethod='auto expand');
}

table thead tr th p {
    writing-mode: tb-rl;
    filter: progid:DXImageTransform.Microsoft.Matrix(M11=-1, M12=1.2246467991473532e-16, M21=-1.2246467991473532e-16, M22=-1, SizingMethod='auto expand');
    background-color: #ebf6fe;
} 
```

我试过设置宽度，最小宽度，添加填充......但没有任何效果！

此外，轮廓不会歪斜。如果有人也知道如何做到这一点，那就太好了！

# url-rewriting - 如何在 Struts 应用程序中重写 url

> ID：14850384
> 
> 赞同：0
> 
> 时间：2013-02-13T09:37:06.500
> 
> 标签：url-rewriting, struts

我正在使用 Struts 1.3 和 Tiles 框架，我有一个这样的主页 url

```
http://localhost:8080/TDS_PRO/ 
```

稍后我可以点击我的任何链接按钮..如果我点击`insert`链接

`http://localhost:8080/TDS_PRO/MainMenu.html?method=Insert`它将插入数据并将所有数据显示为结果页面

问题是当我刷新页面时，上一个链接进入服务器并尝试插入相同的记录，但在我的表`primary constraint`中，它会生成`Exception`并显示`Exception in JSp page`..

如果我设置`Action` `scope`的是`Request`，那么该链接将转到`Action class`并生成`Null Pointer Exception`

如何解决这个问题呢...？？？

给点想法。。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T16:37:36.573

**插入**操作不应针对页面的 GET 请求（简单的 href 链接）。它们应该通过**HTTP POST**使用表单提交来实现。然后浏览器会在用户刷新时警告用户。

`<forward redirect=true>`但是，您可以从 Page1 -> page2尝试。我认为这应该防止在页面刷新时重新提交。另外，看看**同步器令牌模式**讨论[http://www.coderanch.com/t/51602/Struts/Duplicate-form-submission-Synchronizer-Token](http://www.coderanch.com/t/51602/Struts/Duplicate-form-submission-Synchronizer-Token)

# extjs - 如何从控制器获取视图中的元素？

> ID：14850385
> 
> 赞同：0
> 
> 时间：2013-02-13T09:37:06.673
> 
> 标签：extjs, sencha-touch, sencha-touch-2

我正在使用 Sencha Touch 2,0,1。

我需要从控制器中的视图中获取元素。

目前我使用这种方法可以正确获取视图，但我无法获取视图中的项目。我没有收到任何错误，只是测试未定义。

有任何想法吗？

在控制器中：

```
var test = this.getDetailView().items['editButton']; 
```

视图中的代码：

```
Ext.define('XXX.view.DetailView',{
   ...

   items: [

        {
            xtype: 'button',
            text: 'Edit XXX',
            ui: 'custom-btn-dwn-timetable',
            itemId: 'editButton'
        }
  ],
    ...
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-20T20:23:25.647

还有其他几种方法可以获取对编辑按钮的引用。您可以将编辑按钮连接为**ref**，如下所示：

```
Ext.define('MyApp.Controller', {
    extend: 'Ext.app.Controller',

    config: {
        refs: {
            editButton: '#editButton'
        }
    }, 
```

然后在您的控制器中，您可以调用自动生成的 getter`this.getEditButton()`来获取实际的编辑按钮组件。

您可以做的另一件事是将编辑按钮保存为视图上的实例变量，如下所示：

```
Ext.define('XXX.view.DetailView',{
   ...

   items: [

        this.editButton = Ext.widget{(
            xtype: 'button',
            text: 'Edit XXX',
            ui: 'custom-btn-dwn-timetable',
            itemId: 'editButton'
        )}
  ],
    ...
} 
```

因此，现在要访问控制器中的按钮，您必须执行以下操作：`this.getDetailView().editButton`

一般来说，如果一个元素是你经常访问的东西，你应该保存对它的引用，而不是查询 DOM（以避免不必要的性能损失）。由于执行堆栈，使用 Ext.getCmp() 也较慢（它必须每次都通过 ComponentManager 才能获得引用）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-13T09:44:37.663

在这种情况下，您可以使用[Ext.ComponentQuery](http://docs.sencha.com/touch/2-0/#!/api/Ext.ComponentQuery)来获取您的按钮：

```
Ext.ComponentQuery.query('#editButton')[1]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-13T10:22:09.220

您可以尝试将您的按钮 ID 设置为`edit`然后

```
Ext.getCmp('edit').hide(); 
```

# javascript - 当 scrollTop 在一个数字之间并且只触发一次时启动事件

> ID：14850388
> 
> 赞同：0
> 
> 时间：2013-02-13T09:37:19.863
> 
> 标签：javascript, jquery, html

我有很多 div 层的长滚动页面。如果我在两个数字之间滚动，我想触发一个事件。变量 only_once 用于在第一个事件之后停止，它不会在这些数字之间一次又一次地触发，例如

```
var only_once = 0
if(scrollTop("between 500 and 1000") && only_once == 0) 
{ fire me something one time; 
  only_once = 1}; 
```

任何帮助深表感谢。谢谢泰德

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:44:13.980

使用 $.scroll() [http://api.jquery.com/scroll/](http://api.jquery.com/scroll/)，然后使用 window.pageYOffset 获取当前滚动位置进行比较。

# php - PHP：从字符串末尾的 URL 中删除 'print/'

> ID：14850397
> 
> 赞同：0
> 
> 时间：2013-02-13T09:37:48.403
> 
> 标签：php, string, url, preg-replace

此代码提供了 QR 码的 URL，但我将在页面的打印版本上使用它，因此我必须（preg_replace）从 url 字符串的末尾删除 'print/'，所以给出的 URL , 用于非印刷版。请。

```
public function getPageUrl() {      
    $url = (!empty($_SERVER['HTTPS'])) ? "https://".$_SERVER['SERVER_NAME'].$_SERVER['REQUEST_URI'] : "http://".$_SERVER['SERVER_NAME'].$_SERVER['REQUEST_URI'];
    return $url;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:38:38.160

```
public function getPageUrl() {
    $url = 'https://' . $_SERVER['SERVER_NAME'] . $_SERVER['REQUEST_URI'];

    if (empty($_SERVER['HTTPS'])) {
        $url = str_replace('https://', 'http://', $url);
    }

    return preg_replace('~/print/?$~i', '', $url);
} 
```

# model-view-controller - 放置此操作的正确位置/捆绑包是什么

> ID：14850415
> 
> 赞同：2
> 
> 时间：2013-02-13T09:38:43.710
> 
> 标签：model-view-controller, symfony

假设我有一个`CoreBundle`，它有一个名为 的实体`Event`。在 中`CoreBundle`，例如可以显示事件 ( `showAction`)。我也有一个`BackendBundle`。该事件`deleteAction`只能从后端触发。但是，`deleteAction`属于在 中定义的实体`CoreBundle`。the`CoreBundle`和 the`BackendBundle`都有一个`EventController`.

问题是：应该`deleteAction`放在`BackendBundle`'s`EventController`还是`CoreBundle`'s中`EventController`？

Ps 我知道两者都会起作用，但这更像是一个哲学问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:00:31.853

我建议你有一个`BackendBundle`与一个`EventController`和一个`deleteAction`。此 deleteAction 可能会调用 .NET 中的特定处理程序（或管理器或其他）`CoreBundle`，但我会将控制器代码保留在 BackendBundle 中。

首先，它可以很容易地遵循代码而无需切换包。我可以看到请求进来了，要么删除了实体，要么调用了某个管理器，并且发送了重定向或呈现了模板。

其次，更重要的是，如果您引入另一个具有 deleteAction 后端的捆绑包，您可以使用不同的方式来处理它们（一个在它自己的捆绑包中，一个在 内部`CoreBundle`）或者您必须将它们命名为不同的并且制造大混乱。

在一般情况下，我坚持将控制器放在路由和视图所在的同一个包中，并且只共享模型。在 CoreBundle 的情况下，我使用控制器和模型之间的管理器处理删除。在您的情况下，`deleteAction`将获得`EventManager`服务并使用对象或 id 调用删除（取决于我的需要）。这样，为删除事件而执行的代码就在一个地方，并且可以轻松更改。

# capistrano - rake 资产上的 Capistrano 错误：预编译：所有但仍在工作（使用 RVM）

> ID：14850418
> 
> 赞同：0
> 
> 时间：2013-02-13T09:38:47.167
> 
> 标签：capistrano, rvm-capistrano

我制作了一个新的 Rails 3.2 应用程序。当我使用 Capistrano 部署它时，编译资产时出现错误。但是资产已编译，应用程序已按应有的方式部署。

在服务器上，我在系统范围内安装了 RVM，然后创建了：

```
User: skolemapicture  (added to group rvm)
Deploy folder: /home/skolemapicture/site
.rvmrc in /home/skolemapicture/site/.rvmrc 
```

我的 deploy.rb 配置看起来像这样（省略了与问题无关的行）

```
set :application, "skolemapicture"

set :deploy_to                  , "/home/skolemapicture/site"
set :user                       , "skolemapicture"
set :use_sudo                   , false
ssh_options[:forward_agent] = true

require "bundler/capistrano"
require "rvm/capistrano"

set(:ruby_version)      { '1.9.3' }
set(:rvm_ruby_string)   { "#{ruby_version}@#{application}" }
set(:rvm_path)          { "/usr/local/rvm" }
set(:rvm_type)          { :system }

namespace :deploy do
  task :precompile, :role => :app do
    run "cd #{release_path}/ && bundle exec rake assets:precompile"
  end
end
after "deploy:finalize_update", "deploy:precompile" 
```

我在“cap deploy”得到的错误是：

```
 * 2013-02-13 10:36:21 executing `deploy:precompile'
  * executing "cd /home/skolemapicture/site/releases/20130213093619/ && bundle exec rake assets:precompile"
    servers: ["web01.mapicture.com"]
    [web01.mapicture.com] executing command
*** [err :: web01.mapicture.com] /usr/local/rvm/rubies/ruby-1.9.3-p374/bin/ruby /home/skolemapicture/site/shared/bundle/ruby/1.9.1/bin/rake assets:precompile:all RAILS_ENV=production RAILS_GROUPS=assets
*** [err :: web01.mapicture.com] 
```

但资产已编译。那么为什么会出现这个错误呢？

/ 卡斯滕

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T05:13:09.353

它可能实际上是使用您的自定义部署成功预编译资产：预编译任务。

它在 capistrano 默认 assets:precompile 任务上失败。

您会注意到失败的命令是

```
/usr/local/rvm/rubies/ruby-1.9.3-p374/bin/ruby /home/skolemapicture/site/shared/bundle/ruby/1.9.1/bin/rake assets:precompile:all RAILS_ENV=production RAILS_GROUPS=assets 
```

不是您的自定义预编译任务：

```
cd #{release_path}/ && bundle exec rake assets:precompile 
```

尝试删除您的 deploy:precompile 任务并添加

```
load 'deploy/assets' 
```

到您的 Capfile（如果它不存在）。

如果这不能解决它，您可以发布您的整个 Capfile 和 deploy.rb 吗？

# svn - 用于 IOS 测试的 svn Jenkins 配置

> ID：14850423
> 
> 赞同：1
> 
> 时间：2013-02-13T09:39:08.903
> 
> 标签：svn, testing, jenkins, osx-lion

当我使用 SVN 配置 Jenkins 时，出现此错误：

无法访问 svn+tssh://name@localhost/opt/svnroot/repo/iphone-app/proiject_repertory/ ：svn：找不到“tssh”的隧道规范（显示详细信息）（也许您需要输入凭据？）

我点击了这个链接： [http ://comments.gmane.org/gmane.comp.version-control.subversion.javasvn.user/3645](http://comments.gmane.org/gmane.comp.version-control.subversion.javasvn.user/3645)

所以我确实编辑了~/.subversion/config。我试图 tssh = ssh -p 2227 -L 1407:10.0.0.190:22 firstname@computer.company.fr 和 ssh = tssh 和 tssh = ssh

但它不起作用，这个问题让我现在疯了一段时间。我错过了什么？

谢谢你的帮助！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T12:34:12.027

我用 2 个命令行修复了它：

停止 Jenkins：launchctl unload /Library/LaunchDaemons/org.jenkins-ci.plist

在/Applications/Jenkins/中执行Jenkins重启服务：java -jar jenkins.war

您的 ssh 隧道必须打开。

# php - 使用 PHP 常量重构 jQuery

> ID：14850424
> 
> 赞同：2
> 
> 时间：2013-02-13T09:39:12.693
> 
> 标签：php, javascript, jquery

这是一个澄清和建议问题。从构建应用程序开始，我将大部分 jQuery 从`<head>`标签重构为自己的 .js 文件。我的论点是我使用常量来定义路径。

因此，如果我重构需要那些 PHP 常量的代码，那么 jQuery 代码将不起作用，因为据我所知，我无法包含包含常量的 init.php 文件。我弄错了吗？有没有办法在我的 jQuery 文件中包含所需的常量，以获取代码，例如以下类型：

```
$.ajax({
    type: "POST",
    url: "<?php echo SITE_PATH; ?>file.php"
}); 
```

上面的代码是来自 jQuery AJAX POST 的片段，在我的脑海中运行良好。但是，如果我要将代码重构为它自己的 JS 文件，我将如何访问所需的常量并在 JS 中使用它们？

任何想法将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T09:43:08.533

只需通过您的对象参数传递路线。我建议以下内容，它变得更有条理，并且以后使用 Closure Compiler 或其他影响 JS 的工具也更容易。

在 .js 文件上：

```
function myObj(obj){
   var routes = (obj && obj.routes) || {};

   $.ajax({
    type: "POST",
    url: routes.file
   });
} 
```

在您的 html 上：

```
myObj({ routes: { file: "<?php echo SITE_PATH; ?>file.php" } }); 
```

# html - CSS/HTML Intellisense VS2012 - 未显示所有可能性

> ID：14850426
> 
> 赞同：1
> 
> 时间：2013-02-13T09:39:16.420
> 
> 标签：html, css, visual-studio-2012

我只是想知道，有什么办法可以改进当前的 VS2012 智能感知？我正在处理一些 HTML/CSS，但是当我想要背景颜色时它并没有显示所有内容，它工作正常，但是当我开始输入 rgb 时，它没有显示那个机会.. 那么有没有任何插件或其他东西我能做些什么来改进它？- 当您探索 HTML/CSS 而不是查看 W3schools 等时，这真是太好了..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T09:45:37.600

首先，人们可能会因为你使用 W3schools 而大喊大叫。它最近有所改进，但仍然列出了许多错误和不安全的示例。如果您想要 HTML 或 CSS 参考，最好依赖 W3.org（[HTML](http://www.w3.org/TR/HTML)、[HTML5](http://www.w3.org/TR/HTML5)、[CSS(+3)](http://www.w3.org/TR/CSS/)）。

我不确定您使用 Visual Studio 2012 做什么，但是当我处理 ASP.NET 项目时，我通常使用[Sublime Text](http://www.sublimetext.com/)来修改 HTML 和 CSS。我发现 VS 在预测事物时非常笨拙。

无论哪种方式，最好不要*依赖*“Intellisense”来获得代码帮助——您应该将其仅用作参考，这样您将学会独立使用该语言。

# solr - Lucene 搜索文件名，使用 WordDelimiterFilterFactory

> ID：14850427
> 
> 赞同：0
> 
> 时间：2013-02-13T09:39:19.973
> 
> 标签：solr, lucene

如果我搜索 toto.pdf，则会为搜索创建一个标记“pdf”，我正在索引一些数据，包括文件名。

我想要的是，根据索引文件名：

```
MySupercool123girlfriend.jpg 
```

并且能够通过以下方式搜索它：

```
supercool
supercool123
123
girlfriend
jpg 
```

因此，在索引处很容易能够使用 WordDelimiterFilterFactory 以便创建一些标记，例如：

```
my
supercool
mysupercool
mysupercool123
supercool123
123
girlfriend
jpg
girlfriend.jgp
etc... 
```

问题是在搜索时，我真的不知道我应该做什么。

如果我在搜索时使用 WordDelimiterFilterFactory，`MySupercool123girlfriend.jpg`甚至会匹配，`toto.jpg`因为在这两种情况下都会创建一个令牌`jpg`。 `toto.jpg`根本不应该在结果列表中，所以这不是我的解决方案，让两个结果都具有更好的得分

* * *

您对索引和搜索文件名有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T02:52:40.597

对于您的这个特定示例，即如果搜索是 for`MySupercool123girlfriend.jpg`并且您希望它只返回包含整个字符串的文档，您可以保留一个[copyField](https://wiki.apache.org/solr/SchemaXml#Copy_Fields)，比如说 named `filename_str`，其 fieldType 是`string`。字符串匹配将确保您获得完全匹配。这可能是您进行的一级“完全匹配”搜索。

但是，我猜您可能希望搜索`123girlfriend.jpg`返回包含`MySupercool123girlfriend.jpg`. 您可以对此进行二级搜索。从 Solr 4.0 开始，您可以进行正则表达式搜索，例如

```
q=filename_str:/.*123girlfriend.jpg/ 
```

（如果您在索引时在 WordDelimiterFilterFactory 中使用，则此正则表达式查询也应该适用于`filename`字段本身`preserveOriginal=1`。）否则，您可以进行[领先的通配符搜索](http://lucidworks.lucidimagination.com/display/lweug/Wildcard+Queries)，这也适用于早期的 Solr 版本。

如果您还想`MySupercool.jpg`匹配`MySupercool123girlfriend.jpg`，那么我想您将不得不手动完成 DelimiterFilterFactory 的工作并构造一个正则表达式查询，例如

```
q=filename_str:/.*My.*Supercool.*.jpg/ 
```

另一个问题是`jpg`要匹配很多文档，因此您可能希望拆分文件名和扩展名并将它们保留为单独的字段。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T20:21:42.977

你能想出一些对你的用例有意义的 DisMax mm 参数吗？

见[http://wiki.apache.org/solr/DisMaxQParserPlugin#mm_.28Minimum_.27Should.27_Match.29](http://wiki.apache.org/solr/DisMaxQParserPlugin#mm_.28Minimum_.27Should.27_Match.29)

例如 mm=100% 和 "MySupercool123girlfriend.jpg" 将仅匹配包含所有 ["my", "supercool", "123", "girlfriend", "jpg"] 术语的文件名

你可以找到一些不太严格但仍然给出相关结果的表达。见[http://lucene.apache.org/solr/4_1_0/solr-core/org/apache/solr/util/doc-files/min-should-match.html](http://lucene.apache.org/solr/4_1_0/solr-core/org/apache/solr/util/doc-files/min-should-match.html)

# c# - 与整个列表相比，一次保留一条记录

> ID：14850433
> 
> 赞同：1
> 
> 时间：2013-02-13T09:39:37.063
> 
> 标签：c#, linq, list, generics

我必须在两种方法之间进行选择。

使用将我的列表保存在数据库中`MyList.Foreach(p => DoIt(p));`

-或者-

使用类似的东西`DoIt(MyList);`

`DoIt`是我单独层中的 DAL 方法。

它们的用例是什么？

我对这两个场景之间的资源使用和性能感兴趣。`using`每次调用该方法时，我的 Dal 都会用来创建连接对象。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T10:18:09.850

即使您的连接保留在连接池中，您最好一次性（和在一个`using`块中）创建和使用连接，因为循环和重新调用集合中每个元素的连接无疑会花费更多.

尽管此时我不知道内部工作原理，但是如果您将其`List`作为一个整体进行处理，则将跳过对池进行内部检查以查看连接是否仍然被调用。

# ios - 使用 QLPreviewController 来自网络秀的 Pdf

> ID：14850435
> 
> 赞同：4
> 
> 时间：2013-02-13T09:39:44.830
> 
> 标签：ios, pdf, qlpreviewcontroller

我尝试使用 QlPreviewController 显示来自 Internet url 的 pdf 而不下载它。这是我的代码：

```
 NSURL* url2 = [NSURL URLWithString:@"http://wwww.myweb.com/files/terms_en.pdf"];

// Check if can be shown
if(![QLPreviewController canPreviewItem:url2]) {
    // cant show document
    NSLog(@"can't show document");
}else {
    NSLog(@"can show document");
   // Show the document in preview
  //  _previewItemURL = url;
    QLPreviewController* preview = [[QLPreviewController alloc] init];
    [preview setDataSource:url2];
} 
```

但它没有显示任何东西。此外，我在最后一句 [preview setDataSource:url2] 中有一个警告，说“发送 'NSURL *_strong' 到不兼容类型的参数 'id

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-10-27T15:13:54.450

根据文档，QLPreviewController 需要 NSFileURL，即本地文件。使用其他方式（例如 NSData dataWithContentsOfURL）下载您的 Web 资源，写入磁盘，然后将本地 URL 提供给它。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-21T05:37:04.087

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    QLPreviewController *previewController = [[QLPreviewController alloc] init];
    [previewController setDataSource:self];
    [previewController setDelegate:self];
    previewController.currentPreviewItemIndex = indexPath.row;
    [self presentModalViewController:previewController animated:YES];
}
- (NSInteger)numberOfPreviewItemsInPreviewController:(QLPreviewController *)controller
{
    return [self.arrayForPDFList count];
}
- (id <QLPreviewItem>)previewController:(QLPreviewController *)controller previewItemAtIndex:(NSInteger)index
{
    NSString *pathForPdf =[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) lastObject];
    pathForPdf = [pathForPdf stringByAppendingFormat:@"/%@.pdf",[self.arrayForPDFList objectAtIndex:index]];    
    return [NSURL URLWithString:pathForPdf];
} 
```

# scorm - 在 LMS 中使用 SCORM 内容包

> ID：14850436
> 
> 赞同：-1
> 
> 时间：2013-02-13T09:39:48.857
> 
> 标签：scorm

我对 SCORM 和 LMS 完全陌生。基本上现在，我只需要在我的项目中播放内容包（从 SCORM 网站下载）并且应该能够与之通信。我已经下载了开源 LMS DotNetSCORM，因为我在 .Net 项目中需要它，但这似乎不能正常工作。我基本上只需要一个非常非常简单的示例，其中 LMS 能够启动内容并能够通过 javascript 与之通信。我浏览过 adlnet 和 SCORM 网站，但所有示例似乎都提供了内容包，而我在任何地方都找不到与之通信的 LMS。任何帮助对我开始都是有价值的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T17:22:49.193

StackOverflow 上还有很多其他帖子都在问同样的问题：

*   [希望我的 LMS 与 SCORM 兼容](https://stackoverflow.com/questions/3264543/want-my-lms-to-be-scorm-compatable)
*   [在 LMS 中集成 SCORM](https://stackoverflow.com/questions/14159693/integrate-scorm-in-lms)
*   [开发 LMS 和 Scorm 测序引擎](https://stackoverflow.com/questions/3211970/to-develop-lms-and-scorm-sequesncing-engine)
*   [https://stackoverflow.com/questions/14237251/import-mechanism-for-scorm-packages](https://stackoverflow.com/questions/14237251/import-mechanism-for-scorm-packages)
*   [导入符合 SCORM 的课程 (imsmanifest.xml)](https://stackoverflow.com/questions/10551315/importing-scorm-compliant-lesson-imsmanifest-xml)

你写了：

> 我基本上只需要一个非常非常简单的示例，其中 LMS 能够启动内容并能够通过 javascript 与之通信。

不幸的是，将 SCORM 集成到 LMS 中并非易事。如果课程只使用运行时（SCORM 的 JavaScript 部分），您可以使用[Claude Ostyn 的迷你运行时](http://www.ostyn.com/standards/scorm/samples/singleSCOminiRTEwrap.htm)作为起点构建包装器（您需要构建自己的数据库并让包装器指向它） .

但是，如果您需要支持多个 SCO、imsmanifest.xml 文件和/或任何排序或全局变量，那么您将踏上一段漫长而艰难的旅程，特别是如果您是 LMS 和 SCORM 的新手。

我的建议是使用别人的产品。查找已经提供 SCORM 支持的 LMS，或使用[SCORM Cloud 之](http://scorm.com/scorm-solved/scorm-cloud-features/)类的产品。

# uploading - 无法通过拖放到 DashBoard 上传 Ipython Notebook

> ID：14850438
> 
> 赞同：1
> 
> 时间：2013-02-13T09:39:51.570
> 
> 标签：uploading, ipython-notebook

[我从这个站点](http://jakevdp.github.com/mpl_tutorial/_downloads/notebooks.tgz)下载了压缩包。我选择了一个目录中的所有笔记本并将它们拖到 IPython Notebook Dash。所有这些都带有一个上传按钮和重命名选项。到现在为止还挺好。
然后这种奇怪的行为开始了。只有文件名中带有 .v2 的文件（全名：filename.v2.ipynb）被成功上传。
[Chromium 浏览器截图](http://i.stack.imgur.com/PFObf.png)

系统：Ubuntu 12.04 (23.0.1271.97-0ubuntu0.12.04.1) Chromium 版本 23.0.1271.97

我已经尝试了以下方法：
1\. 将 .v1 添加到文件名
2\. 将文件完全重命名为随机字符串
3\. 无法用其他笔记本重现错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T13:42:21.610

我猜你有 IPython 0.12？

没有的笔记本`v2`可能是格式版本*3*，它是在 IPython 0.13 中引入的。0.12 无法读取格式 v3。tarball 两者兼有的原因是允许 IPython 0.12 用户使用，因此您可以使用它们。

如果要升级，[IPython PPA](https://launchpad.net/~jtaylor/+archive/ipython)有最新的稳定版本。请注意，这将在您下次保存笔记本时将其更新为 v3 格式。

# javascript - 我可以在 knockout.js 中创建一个使用其他绑定的自定义绑定吗

> ID：14850439
> 
> 赞同：13
> 
> 时间：2013-02-13T09:39:52.460
> 
> 标签：javascript, knockout.js

我有一个用于翻译的自定义绑定：

```
ko.bindingHandlers.lang = {
    init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {
        this.lang = [
            'text1':'text1 translated'
            ,'text2':'text2 translated'
        ];
    },
    update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {
        var keyword = valueAccessor();
        var translatedString = this.lang[keyword];
        $(element).text(translatedString );
    }
}; 
```

我这样使用：

```
<span data-bind="lang:'text1'"></span> 
```

但是，我还有一个用于创建表格行格式的绑定：

```
ko.bindingHandlers.tableRow = {
    update : function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {
        $(element).html("<td>" + valueAccessor()[0] + "</td><td>" + valueAccessor()[1] + "</td>");
    }
} 
```

我这样使用：

```
<tr data-bind="tableRow:['text1','text2']"></tr> 
```

## 对于这个问题：

现在我想组合这些绑定，这样我就可以像这样调用我的 tableRow 绑定：

```
<tr data-bind="tableRow:[lang:'text1','text2']"></tr> 
```

上面的代码当然只是举例，实际上这些绑定中还有更多内容。

我已多次阅读文档并花了很长时间寻找解决方案，但找不到任何东西。也许是因为这做不到？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-13T11:55:19.063

您需要做的就是将值从一个 bindingHandler 中继或修改到您要激活的其他值。

因此，在您的 tablerow 处理程序中，调用 init 和 update （在它们各自的函数中）：

```
ko.bindingHandlers.lang.init(element, valueAccessor, allBindingsAccessor, viewModel) 
```

当然根据需要修改参数。您可能会从数组中获取其中一个值并将其作为第二个参数传递给 init 和 update。

这也是激活其他标准内置绑定的好方法。

更新：添加来自[@Joc​​he](https://stackoverflow.com/users/1734139/joche)的评论只是为了使其更具可读性：

```
var value = valueAccessor(); 
var newValueAccessor = function() {
    return translatedString; }; 
ko.bindingHandlers.lang.init(element, newValueAccessor,
       allBindingsAccessor, viewModel); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:46:57.060

你能不能让你的翻译成为一个正常的功能，然后从你的表格行绑定中调用它？

```
var translate = function(text)
{
        this.lang = [
            'text1':'text1 translated'
            ,'text2':'text2 translated'
        ];
    },
        var translatedString = this.lang[text];
        return translatedString;
    }
}; 
```

然后，您可以将一个额外的参数传递给 tableRow 方法以指示您是否需要翻译：

然后，您可以在表格行绑定函数中调用它：

```
ko.bindingHandlers.tableRow = {
    update : function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {
        var text1 = valueAccessor()[2] ? translate(valueAccessor()[0]) : valueAccessor()[0];
        var text2 = valueAccessor()[2] ? translate(valueAccessor()[1]) : valueAccessor()[1];
        $(element).html("<td>" + text1 + "</td><td>" + text2 + "</td>");
    }
} 
```

然后你可以直接从绑定元素中调用它：

```
<span data-bind="text: translate(text1())"></span> 
```

# ios - 调用 Reachability startNotifier 后，Network 状态变为 0

> ID：14850440
> 
> 赞同：1
> 
> 时间：2013-02-13T09:39:53.410
> 
> 标签：ios, reachability

在我的 iOS 应用程序中，我需要使用 Reachability 来完成以下任务：

1.  渲染视图控制器时，应用程序需要检查连接状态，并相应地显示连接图标图像（在线或离线）。
2.  当用户停留在视图控制器上时，如果互联网连接状态发生变化，应用程序将收到更改通知，然后相应地执行一些任务。

我在我的应用程序中使用了由 Tony Million 生成的 Reachability 类，但是发生了一件奇怪的事情： **调用 startNotified 方法后，可达性状态变为 0(NotReachable)**。

以下是我的代码：

**BTLandingViewController.h**

```
#import <UIKit/UIKit.h>
#import "MBProgressHUD.h"
#import "Reachability.h"

@interface BTLandingViewController : UIViewController <UIAlertViewDelegate>
{
    __weak IBOutlet UIImageView *internetIndicator;

    MBProgressHUD *hud;
    Reachability *reach;

    UIAlertView *emptyRecordsAlert;
    UIAlertView *syncReminderAlert;
}

@end 
```

**BTLandingViewController.m 中的部分代码**

```
#import "BTLandingViewController.h"

@interface BTLandingViewController ()
@end
@implementation BTLandingViewController
- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Initialize reachability
        reach = [Reachability reachabilityWithHostname:BTReachTestURL];
    }
    return self;
}

- (void)viewDidAppear:(BOOL)animated
{
    [super viewDidAppear:animated];

    // Register with reachability changed notification
    [[NSNotificationCenter defaultCenter] addObserver:self
                                         selector:@selector(reachabilityChanged:)
                                             name:kReachabilityChangedNotification
                                           object:nil];

    NetworkStatus internetStatus = [reach currentReachabilityStatus]; // value = 1 or 2

    ***// PS: If there is connection, before [reach startNotifier], the internetStatus's   value reflects the connection status (1 or 2)***

    // Start notify reachability change
    [reach startNotifier];

    internetStatus = [reach currentReachabilityStatus]; // Value = 0;

    ***// PS: Even if there is connection, after [reach startNotifier], the internetStatus's value becomes 0***
} 
```

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T02:33:19.853

我终于通过解决我上面提到的 startNotifier 陷阱解决了这个问题。调用 startNotifier 确实会将网络状态更改为 0，但我声明了一个变量来存储视图控制器呈现时的初始网络状态。然后在处理由reachabilityChanged 通知触发的操作的方法中的if 语句中使用变量的值。以下是我的代码：

**BTLandingViewController.h**

```
#import <UIKit/UIKit.h>
#import "MBProgressHUD.h"
#import "Reachability.h"

@interface BTLandingViewController : UIViewController <UIAlertViewDelegate>
{
    __weak IBOutlet UIImageView *internetIndicator;

    MBProgressHUD *hud;
    NSInteger initialNetworkStatus;

    UIAlertView *emptyRecordsAlert;
    UIAlertView *syncReminderAlert;  
}

@end 
```

**BTLandingViewController.m**

```
#import "BTLandingViewController.h"
#import "BTSyncEngine.h"
#import "BTInstructorLoginViewController.h"
#import "BTGlobalParams.h"

@interface BTLandingViewController ()

@end

@implementation BTLandingViewController

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {

    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view from its nib.
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (void)viewDidUnload {
    internetIndicator = nil;
    [super viewDidUnload];
}

- (void)viewDidAppear:(BOOL)animated
{
    [super viewDidAppear:animated];

    // Register with sync complete notification
    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(syncCompleted:) name:@"BTSyncEngineSyncCompleted" object:nil];

    // Register with reachability changed notification
    [[NSNotificationCenter defaultCenter] addObserver:self
                                         selector:@selector(reachabilityChanged:)
                                             name:kReachabilityChangedNotification
                                           object:nil];

    Reachability *reach = [Reachability reachabilityWithHostname:BTReachTestURL];

    reach.reachableBlock = ^(Reachability * reachability){
        dispatch_async(dispatch_get_main_queue(), ^{
            initialNetworkStatus = 1;

            [internetIndicator setImage:[UIImage imageNamed:@"online_indicator.png"]];

            // Start syncing local records with the remote server
            [[BTSyncEngine sharedEngine] startSync];
            hud = [MBProgressHUD showHUDAddedTo:self.view animated:YES];
            hud.labelText = @"Sync in progress";
        });
    };

    reach.unreachableBlock = ^(Reachability * reachability)
    {
        dispatch_async(dispatch_get_main_queue(), ^{
            initialNetworkStatus = 0;

            [internetIndicator setImage:[UIImage imageNamed:@"offline_indicator.png"]];

            // If the initial sync has been executed
            // then use the cached records on the device
            if ([[BTSyncEngine sharedEngine] initialSyncComplete]) {
                // Go to instructor login screen
                BTInstructorLoginViewController *instructorLoginViewController = [[BTInstructorLoginViewController alloc] init];
                [instructorLoginViewController setModalTransitionStyle:UIModalTransitionStyleCrossDissolve];
                [self presentViewController:instructorLoginViewController animated:YES completion:nil];
            }
            // If the initial sync has not been executed
            // show an alert view
            else {
                emptyRecordsAlert = [[UIAlertView alloc] initWithTitle:@"Alert" message:@"Please connect to the internet to load data for the first time use." delegate:self cancelButtonTitle:nil otherButtonTitles:@"OK", nil];
                [emptyRecordsAlert show];
            }

        });
    };

    [reach startNotifier];

}

- (void)viewDidDisappear:(BOOL)animated
{
    [super viewDidDisappear:animated];

    // Unregister with reachability changed notification
    [[NSNotificationCenter defaultCenter] removeObserver:self name:kReachabilityChangedNotification object:nil];

    // Unregister with sync complete notification
    [[NSNotificationCenter defaultCenter] removeObserver:self name:@"BTSyncEngineSyncCompleted" object:nil];
}

- (void)syncCompleted:(NSNotification *)note
{
    // Update the global sync completed flag
    [[BTGlobalParams sharedParams] setSyncCompleted:YES];

    // Hide syncing indicator
    [MBProgressHUD hideHUDForView:self.view animated:YES];

    // Go to instructor login screen
    BTInstructorLoginViewController *instructorLoginViewController = [[BTInstructorLoginViewController alloc] init];
    [instructorLoginViewController setModalTransitionStyle:UIModalTransitionStyleCrossDissolve];
    [self presentViewController:instructorLoginViewController animated:YES completion:nil];
}

- (void)reachabilityChanged:(NSNotification *)note
{
    Reachability *reach = [note object];

    if ([reach isReachable] && !initialNetworkStatus) {

        [internetIndicator setImage:[UIImage imageNamed:@"online_indicator.png"]];

        // Start syncing local records with the remote server
        [[BTSyncEngine sharedEngine] startSync];
        hud = [MBProgressHUD showHUDAddedTo:self.view animated:YES];
        hud.labelText = @"Sync in progress";

    }
}

@end 
```

# android - 给定一个 HTTP 请求，是否可以看到它是由哪个应用程序发起的？

> ID：14850445
> 
> 赞同：0
> 
> 时间：2013-02-13T09:40:16.707
> 
> 标签：android, networking

让我们假设所有网络流量都通过在 Android 设备上运行的本地代理重定向。

在代理中，是否可以查看哪个应用程序（根据包名称、应用程序名称等）发起了该特定网络调用？

编辑：抱歉，我在这里缺少细节。我指的是 HTTP 协议，因此网络调用只是对某个 URL 的 HTTP 请求（GET 或 POST）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:44:37.617

取决于应用程序在数据包上发送的信息。如果您询问网络数据包（顺便说一句，您没有指定您所指的协议）是否默认包含有关发送它的应用程序的信息，那么答案是否定的。

但是您可以研究一组给定应用程序的数据包，将此信息存储在代理中，然后您可以在给定足够数据包的情况下检测源应用程序。当然，这不会产生有关您不知道的应用程序的信息。

编辑：如果它是一个 HTTP 请求，那么通常 HTTP 标头包含有关发起此请求的应用程序的信息（例如浏览器版本）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T11:08:44.960

我找到了一种方法。实际上，有点解决方法，但**似乎**完美无缺。

我为此编写了一个[简单的 Android 库](https://github.com/dextorer/AndroidTCPSourceApp "简单的安卓库")，如果有人想查看的话。它基于这样一个事实，即每个套接字都映射为文件上的一个条目，称为*/proc/net/tcp*（或*/proc/net/tcp6*用于基于 IPv6 的连接）。

这意味着，对于每个条目，我们可以读取其端口及其关联的 PID。

基本上，该库的主要方法执行以下步骤：

1.  接收`Socket`对象或相关端口 ( `Socket.getPort()`)
2.  解析*/proc/net/tcp*（或*/proc/net/tcp6*）文件，它查找具有给定端口的条目
3.  如果找到条目，则该方法从中提取 PID
4.  通过使用新找到的PID调用Android`PackageManager.getPackagesFromPid()`方法，我们可以获得源应用程序的唯一信息，例如包名和应用程序版本

性能相当不错，因为*/tcp**文件通常不超过 50 个条目。

# highcharts - 如何在 Highcharts 中结合普通条显示堆叠条？

> ID：14850446
> 
> 赞同：1
> 
> 时间：2013-02-13T09:40:24.560
> 
> 标签：highcharts, bar-chart, stacked

我有三个值，其中两个应该组合成一个堆叠条，第三个就像一个普通的一样。这将如何在 Highcharts 中工作？我从 CSV 文件中读取数据。

[这是](http://geodev.grid.unep.ch/megatrends/data/bafu/waldflaeche_ch.php?lang=de)现有图表的链接。“Nutzung”和“Absterberate”应该结合起来，“Zuwachs”应该是一个单独的小节。

感谢您的任何提示！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T11:46:47.280

在 plotOptions 中设置`stacked: 'normal'`，然后对于您可以定义的每个系列，`stack`请参见：[http ://api.highcharts.com/highcharts#series.stack](http://api.highcharts.com/highcharts#series.stack)

# ember.js - 在不使用 ember-data 重新加载页面的情况下导航时出现重复数据

> ID：14850449
> 
> 赞同：3
> 
> 时间：2013-02-13T09:40:36.113
> 
> 标签：ember.js, ember-data

我正在使用 ember.js 1.0.0-pre4，ember-data 修订版 11。

我有以下模型：

```
App.DbProcess = DS.Model.extend({
    pid: DS.attr('number'),
    backendStart: DS.attr('string'),
    transactionStart: DS.attr('string'),
    queryStart: DS.attr('string'),
    stateChange: DS.attr('string'),
    waiting: DS.attr('boolean'),
    state: DS.attr('string'),
    query: DS.attr('string')
}) 
```

使用以下路线：

```
App.HomeDbProcessesRoute = Ember.Route.extend({
    model: function() {
        return App.DbProcess.find();
    }
}) 
```

然后我有一个模板，用于`{{#each controller}}{{/each}}`呈现所有检索到的进程。但是，如果我导航到其他页面（不重新加载页面）并返回到进程页面，则将再次检索进程并在页面上呈现重复项。

**编辑**：我也试过这个，但没有奏效：

```
DS.RESTAdapter.map('App.DbProcess', {
    primaryKey: 'pid'
}) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T16:13:21.050

我现在遇到了同样的问题，这是我的小修补程序：

```
{{#if id}}
<div>
    {{title}}
</div>
{{/if}} 
```

在模板中，我仅在设置了 id 时才从商店渲染项目（只有那些来自数据库）。但是您可能已经解决了！

（使用修订版 12）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T21:14:36.997

原来你可以做这样的事情来全局自定义主键

```
App.Adapter = DS.RESTAdapter.extend({
url: document.location.protocol+'//url-api.com',
serializer: DS.RESTSerializer.extend({
    primaryKey: function(type) {
        // If the type is `BlogPost`, this will return
        // `blog_post_id`.
        var typeString = (''+type).split(".")[1].underscore();
        return typeString + "_id";
    }
})
}) 
```

# powershell - 如何使用 Cywin 或 Powershell 从文件中删除用户

> ID：14850455
> 
> 赞同：2
> 
> 时间：2013-02-13T09:40:49.603
> 
> 标签：powershell, cygwin

非常感谢您的帮助。

所以我有数百个文件和文件夹，我想从中删除用户：C850-108。我可以使用 Windows 界面执行此操作，但在每个文件中执行此操作需要几天时间。

我想这样做的原因是因为 Cobian Backup 工具无法访问这些文件（权限被拒绝），我认为用户是问题所在。

所以我有 Cygwin (bash) 一个 PowerShell 来帮助我完成这项繁琐的任务。

我附上3张截图：

1.  Windows 安全选项卡

    ![在此处输入图像描述](../Images/a9e77ea2739b966ce38363015e17f59f.png)

2.  命令的 PowerShell 输出`get-acl | format-list`

    ![在此处输入图像描述](../Images/505f4f21313835271596d04c108835dd.png)

3.  Cygwin的输出`getfacl`

    ![在此处输入图像描述](../Images/b23cf2e5437448739c1b73526c59b038.png)

我对 bash 更有经验，所以我尝试添加这样的用户：

```
 setfacl.exe -m u:rafaelgp:rwx myfile 
```

这显然什么也没做，但是当我检查 PowerShell 时，我发现它确实有效并添加了一个具有指定权限的新用户 (rafaelgp)。您可以在屏幕截图中看到这一点。所以在这之后，我对 Cygwin 失去了一些信任。

我也尝试过像这样删除用户：

```
setfacl.exe -d u:C850-108 myfile 
```

但我收到以下消息：

```
setfacl: illegal acl entries 
```

那么我能做什么呢？正如我所说，我很高兴使用 bash 或 PowerShell 尝试任何事情。

干杯!

更新：

Musaab Al-Okaidi 解决方案的屏幕截图。'$file' 参数似乎有问题

![在此处输入图像描述](../Images/29cb4f3729b92ee994be4a5a3825a5de.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:09:05.053

将以下函数添加到您的 shell，只需复制和粘贴，然后您将拥有`Remove-UserAccess`一个可用的 Cmdlet

```
Function Remove-UserAccess()
{
   Param
   (   
      [Parameter(Mandatory=$true)][String]$Path,
      [Parameter(Mandatory=$true)][String]$User      
   )

   $Files = New-Object System.Collections.ArrayList
   $Files.Add($Path) | Out-Null

   #Add all files and folders to an array
   $PathSubtree = Get-ChildItem -Path $Path -Recurse
   Foreach ( $File in $PathSubtree )
   {
      $Files.Add($File.FullName) | Out-Null
   }

   # Remove access of the $User from each file in the array
   Foreach ( $File in $Files )
   {
      $AccessRule = Get-Acl $File | % { $_.Access } | ? {  $_.IdentityReference -eq $User}
      IF ( $AccessRule -eq $null )
      {
         Write-Host "$User does not have access to $File" -ForegroundColor Yellow
      }
      ELSE
      {
         $ACL = Get-Acl $File
         $ACL.RemoveAccessRule($AccessRule) | out-Null
         Set-Acl -Path $File -AclObject $ACL -ErrorAction Stop
         Write-Host "Permissions for $user have been removed from the following path: $File" -ForegroundColor Green
      }
   }
} 
```

执行命令如下：

```
Remove-UserAccess -Path C:\temp -User RAFALAPTOP\C850-108 
```

这将从 C:\temp 以及所有子文件和文件夹中删除用户的访问权限。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:12:32.807

最简单的方法可以说是[`icacls`](http://technet.microsoft.com/en-us/library/cc753525%28v=ws.10%29.aspx)：

```
icacls file /remove C850-180 
```

但是，您不能删除从父文件夹继承的权限。我怀疑这就是`setfacl`失败的原因。`Get-Acl`不幸的是，当您通过管道输出into时，继承信息被抑制`Format-List`。试试这个：

```
Get-Acl file | % { $_.Access } | ? { $_.IdentityReference -match 'C850-180' } 
```

该`IsInherited`属性将显示 ACL 是否被继承。如果 ACL 是继承的，则必须先禁用继承，然后才能删除 ACL：

```
icacls file /inheritance:d 
```

`icacls`自 Windows Server 2003 SP2 起可用[。](http://support.microsoft.com/kb/919240)

**更新：**

您可以通过添加选项将其递归地应用于文件夹树`/t`：

```
icacls C:\some\folder\* /t /inheritance:d
icacls C:\some\folder\* /t /remove C850-180 
```

但是请注意，递归禁用继承*并不是*一个好主意，因为它会使管理权限成为一场噩梦。根据您的文件夹结构，最好从父文件夹中简单地删除继承和特定的 ACE：

```
icacls C:\some\folder /inheritance:d
icacls C:\some\folder /remove C850-180 
```

子文件夹和文件将自动继承其父文件夹更改后的权限。如有必要，您可以通过重置子文件夹和文件的权限来强制执行此操作：

```
icacls C:\some\folder\* /reset /t /c 
```

# xslt - 带有查找文件的 XSL 默认命名空间

> ID：14850456
> 
> 赞同：0
> 
> 时间：2013-02-13T09:40:49.713
> 
> 标签：xslt, namespaces

我有一个带有默认命名空间的输入 xml。例如如下。

```
<?xml version="1.0" encoding="UTF-8"?>
<root xmlns="aaa">
<subroot>
    <country>aaa</country>
    <country>bbb</country>
    <country>ccc</country>
</subroot>
</root> 
```

转换时我使用 xpath-default-namespace="aaa" 因为否则 xpaths 将不匹配。同样，我必须使用 xsl 键功能读取查找 xml。例如如下

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="2.0" xpath-default-namespace="aaa" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

<xsl:variable name="LookupDoc" select="document('lookup.xml')" />
<xsl:key name="ObjectType-lookup" match="lookup" use="@att1" />

<xsl:template match="//country">
    <countrynew>
        <xsl:apply-templates select="$LookupDoc/*">
            <xsl:with-param name="curr-code" select="string(.)" />
        </xsl:apply-templates>
    </countrynew>
</xsl:template>

<xsl:template match='lookups'>
    <xsl:param name="curr-code" />
    <xsl:value-of select="key( 'ObjectType-lookup' , normalize-space($curr-code))/@att2" />
</xsl:template> 
```

在样式表元素 xpath "//country" 中使用默认命名空间可以正常工作。当我阅读没有任何命名空间的查找 xml 时出现问题。例如：

```
<?xml version="1.0" encoding="UTF-8"?>
<x:lookups>
     <lookup att1="aaa" att2="zzz"/>
     <lookup att1="bbb" att2="yyy"/>
     <lookup att1="ccc" att2="xxx"/>
</x:lookups> 
```

有什么方法可以在模板加工“查找”中指定以忽略 xpath-default-namespace 或匹配任何命名空间，包括没有命名空间？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T11:54:59.140

> 有什么方法可以在模板加工“查找”中指定以忽略 xpath-default-namespace 或匹配任何命名空间，包括没有命名空间？

您可以`xpath-default-namespace`在样式表中的任何位置指定：XPath 表达式将查找树并使用“最近的祖先”值。

> 对于样式表中的任何元素，此属性都有一个有效值，即`[xsl:]xpath-default-namespace`该元素或指定此类属性的最内层包含元素的值

（[来自 XSLT 2.0 规范](http://www.w3.org/TR/xslt20/#unprefixed-qnames)）

所以你可以说

```
<xsl:template match='lookups' xpath-default-namespace=''> 
```

覆盖`xsl:stylesheet`元素上指定的默认命名空间。您甚至可以在样式表中的文字结果元素上指定它，如下所示`xsl:xpath-default-namespace`：

```
<something xsl:xpath-default-namespace="bbb" attr="{foo}" /> 
```

这将创建一个`<something attr="xxx" />`where`xxx`是`{bbb}foo`当前上下文节点的子元素的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T11:14:14.087

我确实解决了问题，但肯定会有其他方法。我所做的是将查找和关键 xsl 函数的模板匹配移动到不同的文档，并在 xsl stylesheed 元素中放置 xpath-default-namespace=""。因此，对于那些与 xsl 匹配的 xpath，使用默认命名空间作为无。

我仍然很好奇天气有一种方法可以在模板本身中指定在匹配时不使用命名空间。

# windows - -ms-touch-action:none 不适用于 webbrowser 控件 wp8

> ID：14850457
> 
> 赞同：0
> 
> 时间：2013-02-13T09:40:51.097
> 
> 标签：windows, html, windows-phone-7, windows-phone-8

我正在尝试在 Web 浏览器控件（Windows Phone 应用程序）内的 body 类上定义 -ms-touch-action:none 加载一个 html。但我仍然可以滚动和缩放页面。是否有任何设置 web brwser 控件来加载 html 5 css

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T16:55:12.457

@-ms-viewport { 最小缩放：1；最大缩放：1；用户缩放：固定；}

# c# - Paypal 定期付款 - 快速结帐 APPID 被拒绝

> ID：14850458
> 
> 赞同：0
> 
> 时间：2013-02-13T09:40:55.190
> 
> 标签：c#, paypal

我正在使用 Paypal Express Checkout 进行定期付款并扣除初始金额。

这是我的步骤：

我同意将用户重定向到贝宝并获取令牌

使用此令牌扣除初始金额，然后使用相同的令牌创建循环配置文件。

这在沙盒中运行良好。

现在我需要获取一个 app_id 才能使其生效。

问题是贝宝拒绝这句话：

“但我仍然将付款视为‘标准’结账，而不是预先批准的付款。预先批准将用于与您的用户创建账单协议，以后可以借记”

你能给点建议吗？

发现：

在获得令牌时，无法表明我们正在创建重复的配置文件，这可能是他们拒绝它的原因。但我使用的是他们提供的相同代码

[https://www.x.com/developers/paypal/documentation-tools/paypal-sdk-index](https://www.x.com/developers/paypal/documentation-tools/paypal-sdk-index)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T08:28:28.967

Express Checkout 和 Recurring Payments 不需要 App ID。仅当您使用 Adaptive Payments API 时才需要这些。Express Checkout 不是 Adaptive Payments API 的一部分。这就是他们告诉你的……你根本不需要 App ID。如果您在沙箱中传递一个，它必须被忽略。

如果您在沙盒中按您希望的方式工作，只需将您的端点和 API 凭证更改为实时值，它就会为您工作。

# jquery - 如何在具有特定属性值的 iframe 的单击元素上应用 css 类？

> ID：14850460
> 
> 赞同：0
> 
> 时间：2013-02-13T09:40:59.103
> 
> 标签：jquery

获取点击的 iframe 的内容后，对其进行过滤以获取具有自定义属性的第一个元素`data-type = filled`。但我无法在该特定元素上应用类。

这是我的代码：

```
var clicked_content = event.target.outerHTML, // gives the content being clicked

content = $(clicked_content).find("*[data-type='filled']:first").andSelf().html(); // this gives me the required content

// this was supposed to add a class to particular element
content.parent.addClass("highlight"); 
```

我也确实尝试过这样做：

```
$(event.target).children().find("*[data-type='filled']:first").andSelf().addClass('highlight'); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-13T09:42:10.850

`outerHTML`并`html()`返回字符串。字符串没有父级。

也许你想要

```
$(event.target).find("*[data-type='filled']:first").andSelf()
    .parent().addClass("highlight"); 
```

请注意，[andSelf](http://api.jquery.com/andSelf/)已被弃用并替换为`addBack`.

如果您尝试在*“具有自定义属性 data-type = 填充的第一个元素”*上应用一个类，那么您应该这样做

```
$(event.target).find('[data-type=filled]').eq(0).addClass("highlight"); 
```

编辑：如果单击的元素具有正确的数据类型，您还想匹配它，那么我建议

```
$(event.target).find('*').addBack().filter('[data-type=filled]').eq(0)
   .addClass("highlight"); 
```

# c# - 尝试使用 json.Net 反序列化 json 字符串时出错

> ID：14850465
> 
> 赞同：5
> 
> 时间：2013-02-13T09:41:20.723
> 
> 标签：c#, json.net

当我尝试反序列化以下简单的 json 字符串时遇到一个奇怪的错误：

```
{ "items": [ "IZ01", "MTSQ", "VM16", "CR05" ]} 
```

我从 json.net dll 得到的错误如下：

```
Invalid property identifier character: &. Path '', line 1, position 2. 
```

完整的堆栈跟踪如下：

```
at Newtonsoft.Json.JsonTextReader.ParseProperty() at Newtonsoft.Json.JsonTextReader.ParseObject() at Newtonsoft.Json.JsonTextReader.ReadInternal() at Newtonsoft.Json.JsonTextReader.Read() at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CheckedRead(JsonReader reader) at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateObject(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue) at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue) at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent) at Newtonsoft.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType) at Metastorm.Runtime.Models.SIMSCommonLib.UtilitiesLib.JSONDeserialize(String jsonText, Type valueType) at Metastorm.Runtime.Models.JobProject.ExternalExtendedHelper.GetMaintenanceCodesForVehicle(String LPEntityCode, String UMC, String VIN, String EquipmentList) 
```

这是我用来反序列化 json 字符串的方法：

```
 public static object JSONDeserialize(string jsonText, Type valueType)
{
    Newtonsoft.Json.JsonSerializer json = new Newtonsoft.Json.JsonSerializer();

    json.NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore;
    json.ObjectCreationHandling = Newtonsoft.Json.ObjectCreationHandling.Replace;
    json.MissingMemberHandling = Newtonsoft.Json.MissingMemberHandling.Ignore;
    json.ReferenceLoopHandling = Newtonsoft.Json.ReferenceLoopHandling.Ignore;

    StringReader sr = new StringReader(jsonText);
    Newtonsoft.Json.JsonTextReader reader = new JsonTextReader(sr);            
    object result = json.Deserialize(reader, valueType);
    reader.Close();

    return result;
} 
```

我只在我们应用程序的 UAT 环境中遇到这个问题。奇怪的是，相同的代码和相同的数据在我们的开发和测试环境中都能正常工作。

知道为什么 json.net 报告字符“&”的问题吗？好像没有多大意义……

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T09:17:54.627

我设法自己解决了这个问题。

事实证明，我发送到方法“JSONDeserialize”的字符串是 HTML 编码的。

JSON 字符串，而不是以下内容：

```
{ "items": [ "IZ01", "MTSQ", "VM16", "CR05" ]} 
```

实际上是以下内容：

```
{ &quot;items&quot;: [ &quot;IZ01&quot;, &quot;MTSQ&quot;, &quot;VM16&quot;, &quot;CR05&quot; ]} 
```

为了解决这个问题，我更新了“JSONDeserialize”方法，如下所示：

```
 public static object JSONDeserialize(string jsonText, Type valueType)
{
    // HTML-decode the string, in case it has been HTML encoded
    jsonText = System.Web.HttpUtility.HtmlDecode(jsonText);

    Newtonsoft.Json.JsonSerializer json = new Newtonsoft.Json.JsonSerializer();

    json.NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore;
    json.ObjectCreationHandling = Newtonsoft.Json.ObjectCreationHandling.Replace;
    json.MissingMemberHandling = Newtonsoft.Json.MissingMemberHandling.Ignore;
    json.ReferenceLoopHandling = Newtonsoft.Json.ReferenceLoopHandling.Ignore;

    StringReader sr = new StringReader(jsonText);
    Newtonsoft.Json.JsonTextReader reader = new JsonTextReader(sr);            
    object result = json.Deserialize(reader, valueType);
    reader.Close();

    return result;
} 
```

# java - 在 Java 中将 JSON 转换为 XML

> ID：14850466
> 
> 赞同：1
> 
> 时间：2013-02-13T09:41:23.553
> 
> 标签：java, xml, xml-parsing, json

是否有任何 .jar 可用于将 JSON 转换为 XML？SO上的很多答案都包含死链接或涉及复杂的配置。

理想情况下，最好在我现有的项目中包含一个 jar，该项目当前将 XML 转换为 JSON。我只需要反过来完成。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:44:56.807

看看这篇文章：

*   [http://answers.oreilly.com/topic/279-how-to-convert-json-to-xml-in-java/](http://answers.oreilly.com/topic/279-how-to-convert-json-to-xml-in-java/)

来自文章：

> 使用 json-lib，一个为任何 Java 程序添加 JSON 支持的库。json-lib 提供了一个 XMLSerializer，可用于从 JSON 对象输出 XML。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:44:50.973

我建议将 JSON 转换为 java 类（例如使用 GSON），然后将 java 类转换为 XML（可能使用 JAXB）。然后，您将有一个全面的方法来管理您希望如何执行转换。

# c# - 打开 AutoCAD 绘图后 C# 将窗体更改为顶部

> ID：14850469
> 
> 赞同：0
> 
> 时间：2013-02-13T09:41:31.353
> 
> 标签：c#, forms, autocad

我为 AutoCAD 编写了一个 C# 插件，用户可以在其中输入一些信息，然后应该打开相应的绘图。

实际的工作流程应该是：

1.  我在 AutoCAD 中启动我的插件
2.  用户可以在当前活动图形顶部的窗口形式中输入一些信息
3.  当用户点击回车按钮时，应该打开一个新的绘图
4.  应该关闭用户输入一些信息的表单（效果很好）
5.  应打开一个新窗口表单以输入其他信息（与第一个窗口不同）但在新图纸中

问题是我可以正确关闭第一个窗口并正确打开新图纸。像这样：

```
 DocumentCollection documentCollection = Autodesk.AutoCAD.ApplicationServices.Application.DocumentManager;

    if (File.Exists(absoultePathOfDrawing))
    {
    Document newDrawing = documentCollection.Open(absoultePathOfDrawing, false);
    Autodesk.AutoCAD.ApplicationServices.Application.DocumentManager.MdiActiveDocument = newDrawing; // this sets the new drawing as the active one ==> is on top
    }

Dispose(); // closes the first form
DialogResult = DialogResult.OK; // tells my applciation that the first window was successfully closed 
```

表单正确关闭，然后我尝试使用以下命令打开新表单：

```
if (result == DialogResult.OK)
{
      MessageBox.Show("Test");          

} 
```

但是现在新图在上面，后面是旧图。当我切换回旧图纸时，会显示新的 MessageBox，但实际上这应该显示在新图纸中，因为我将活动文档设置为新图纸。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:25:38.807

我找到了解决方案。

我必须使用以下选项加载我的插件：

```
[CommandMethod("PluginName", Autodesk.AutoCAD.Runtime.CommandFlags.Session)] 
```

没有这个，我的插件只在一个文档中有效（我开始插件的那个）

# c# - 无法从媒体库获取图片

> ID：14850470
> 
> 赞同：3
> 
> 时间：2013-02-13T09:41:40.660
> 
> 标签：c#, xna, windows-phone-8

我在我的 Windows Phone 8 应用程序上使用 Microsoft.Xna.Framework.Media。
我的 CameraRoll 中有很多照片，“保存的图像”中有几张。
但我无法从 MediaLibrary 获取图片。
它总是在 MediaLibrary.Pictures 中返回一个空集。

这是“立即窗口”中的输出：

```
{Microsoft.Xna.Framework.Media.PictureCollection}
    Count: 0
    IsDisposed: false 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-13T11:20:28.703

`ID_CAP_MEDIALIB_PHOTO`您是否在应用清单中添加了所需的功能？

此外，如果您使用的是模拟器，最好先进入图片应用程序，然后再测试您自己的应用程序！

# java - JDBC DB2 无法连接（SQLSTATE=08S01）

> ID：14850471
> 
> 赞同：0
> 
> 时间：2013-02-13T09:41:46.717
> 
> 标签：java, oracle, jdbc, db2

出于某种原因，我想使用 JDBC 连接 Oracle 和 DB2 数据库。在主类中，当我尝试连接 Oracle 时，连接成功，但 DB2 连接未成功给出此错误：“Yuva acilirken hata olustu”表示“无法打开套接字”。可能是什么问题？？？Oracle 工作，但 DB2 不工作。我一次又一次地检查 DB2 的所有密码、用户名、主机名和端口。

```
COM.ibm.db2.jdbc.DB2Exception: [IBM][JDBC Driver] CLI0616E  Yuva açılırken hata oluştu. SQLSTATE=08S01
at COM.ibm.db2.jdbc.net.SQLExceptionGenerator.socketException(Unknown Source)
at COM.ibm.db2.jdbc.net.DB2Connection.create(Unknown Source)
at COM.ibm.db2.jdbc.net.DB2Connection.<init>(Unknown Source)
at COM.ibm.db2.jdbc.net.DB2Driver.connect(Unknown Source)
at java.sql.DriverManager.getConnection(DriverManager.java:590)
at java.sql.DriverManager.getConnection(DriverManager.java:232) 
```

为了获得连接，我在 main 中写了这些，

```
connORA = DirectConnection.getOracleConnection();
connDB2 = DirectConnection.getDB2Connection(); 
```

我的 Connection Class 我定义了 Oracle COnnection 和 DB2 连接如下：（可能是 DB2 Connection Method 有问题？Oracle 连接成功）

```
 public static Connection getOracleConnection() throws SQLException, ClassNotFoundException{
  return getConnection("oracle.jdbc.driver.OracleDriver", "jdbc:oracle:thin:@host:port:name", "username", "password");}

  public static Connection getDB2Connection() throws SQLException{
  return getConnection("COM.ibm.db2.jdbc.net.DB2Driver", "jdbc:db2://host:port:name","username", "password");} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-22T14:35:59.233

首先，正如@ThePhantom05 提到的，您应该使用 JCC 驱动程序，而不是较旧的网络驱动程序。DB2 JDBC 连接的正确 URL 模式将是 `jdbc:db2://host:port/database_name`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T16:52:36.947

尝试使用它作为您的驱动程序：

字符串驱动 = "com.ibm.db2.jcc.DB2Driver";

# c - 带指针的多维数组中的数组大小

> ID：14850475
> 
> 赞同：2
> 
> 时间：2013-02-13T09:42:11.007
> 
> 标签：c, arrays, pointers

我正在使用一个以这种方式创建多维数组的库：

```
const unsigned short arrayA[5] = {1, 2, 3, 4, 5};
const unsigned short arrayB[3] = {7, 8, 9};

const unsigned short *multiArray[] ={arrayA, arrayB}; 
```

我得到了它的值并且它有效：

```
printf("03: %d\n", multiArray[0][3]); //4
printf("12: %d\n", multiArray[1][2]); //9 
```

当我需要获取任何数组的大小时，问题就来了，我试过这个：

```
printf("Size of first array: %ld \n", sizeof(multiArray[0])/sizeof(multiArray[0][0])); 
```

它返回 2，可能是因为它使用了地址。

那我怎样才能得到数组的大小呢？

我必须这样做，尽量不改变数组的声明方式，所以数组已经存在，我只需要获取大小。

有什么办法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T09:51:04.510

无法推断 multiArray 中的指针指向的数组的大小，因为无法执行任何计算，因为两个数组（arrayA 和 arrayB）将存储在任意位置。一个好的做法是存储数组的大小。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-13T09:43:57.890

你不能。您必须提前知道数组的大小并将其作为附加参数传递。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-13T09:47:53.563

如果你`sizeof`在一个指针上做，你会得到实际指针的大小，而不是它指向的大小。您必须以其他方式跟踪包含数组的大小。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-08-16T04:09:52.057

可以获得矩阵的行数和列数：

```
int main(void) {
     int row;
     int column;
     int matrix[4][5]={{1,2,3,4,5},{1,2,3,4,5},{1,2,3,4,5},{1,2,3,4,5}};

     row=sizeof(matrix)/sizeof(matrix[0]); 
     column=sizeof(matrix[0])/row;

     printf("row %i \n",row);
     printf("column %i \n",column);
     return 0;
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-13T09:56:52.673

你不能！您应该保存这些数据并将其传递到您需要的任何地方。

顺便说一句，当你这样做时：`sizeof(multiArray[0])/sizeof(multiArray[0][0])`
你基本上`sizeof(<pointer>)/sizeof(<unsigned short>)`在你的特定机器上做 => 2 。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-13T10:09:36.690

正如其他人所说，您不能，而是可以构建自己的类型：

```
#include <stdio.h>

struct cont {
    const unsigned short *value;
    size_t len;
};

int main(void)
{
    const unsigned short arrayA[5] = {1, 2, 3, 4, 5};
    const unsigned short arrayB[3] = {7, 8, 9};

    struct cont arrays[] = {
        {arrayA, sizeof(arrayA) / sizeof(arrayA[0])},
        {arrayB, sizeof(arrayB) / sizeof(arrayB[0])},
    };

    printf("03: %d\n", arrays[0].value[3]);
    printf("12: %d\n", arrays[1].value[2]);

    printf("Size of first array: %ld \n", arrays[0].len);

    return 0;
} 
```

# html - phonegap.js 或 cordova.js 在 appmobi XDK 和 app.lab 中不起作用

> ID：14850479
> 
> 赞同：1
> 
> 时间：2013-02-13T09:42:27.120
> 
> 标签：html, cordova, mobile, appmobi

我是phnegap的初学者。在为 phonegap 搜索简单的测试工具时，我发现了适用于桌面的 appmobi xdk 和适用于移动设备的 app.lab。看起来很容易使用它。但是当我尝试运行一些phonegap功能时：

```
 function captureVideo() {
    // Launch device video recording application, 
    // allowing user to capture up to 2 video clips
    navigator.device.capture.captureVideo(captureSuccess, captureError, {limit: 2});
 } 
```

等等它抛出和错误“无法读取未定义的属性'捕获'”。我设置了

```
<script src="phonegap.js"></script> 
```

里面的头标签，但没有运气。[当我在https://build.phonegap.com/apps](https://build.phonegap.com/apps)中使用 phonegap build 进行尝试时。它工作正常。

我在这里有点困惑。是 XDK 和 app.lab 仅用于测试 html5 应用程序，还是它也支持 phonegap 功能，如通知、摄像头、捕获等。

谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-12T22:28:35.023

我以前跑过同样的问题。根据您的配置设备或捕获是未定义的对象。您必须添加 Device、Capture 和 Camera 插件。

如果您使用的是 intel xdk，则可以通过转到项目视图 -> 插件和权限来设置它们

见：[https ://github.com/apache/cordova-plugin-media-capture/blob/master/doc/index.md](https://github.com/apache/cordova-plugin-media-capture/blob/master/doc/index.md)

# android - 带有运行时数据的 Ajax 加载进度

> ID：14850482
> 
> 赞同：1
> 
> 时间：2013-02-13T09:42:30.020
> 
> 标签：android, ajax, cordova, jquery-mobile

我正在做phonegap项目。我正在使用 ajax 请求调用，它工作正常。但我想显示加载 ajax 请求时的动态数据。示例图像如下所示。谢谢。

![在此处输入图像描述](../Images/db4180533e9f31ccd0061dfc8a3bf6d0.png)

# android - IntelliJ 12 Android 设置？没有任何效果

> ID：14850484
> 
> 赞同：0
> 
> 时间：2013-02-13T09:42:34.133
> 
> 标签：android, intellij-idea, android-manifest

IntelliJ 12 不会生成启动 Android 开发所需的文件。我已经设置了 JDK 和 SDK，并且 intelliJ 似乎看到了正确的路径。

我来自 Eclipse，它会生成开箱即用所需的一切。

我试过了...

*   双重三重检查文件路径。
*   搜索...很多搜索。从头开始制作新文件。
*   制作 hello world 程序，仍然没有生成所需的 res 文件夹和 AndroidManifest.xml 文件。
*   将文件路径直接更改为 AndroidManifest.xml 的包含文件夹。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T18:15:26.153

Eclipse 提供的 IntelliJ 缺少的一件事是 Android SDK 安装向导。换句话说，在开始使用 IntelliJ 之前，您必须从 Google 预安装 hte Android SDK。除此之外，IntelliJ 实际上提供了比 Eclipse 更多的开箱即用功能。（特别是考虑到您必须在获得 Android SDK 安装向导之前手动安装 Android 插件。）转到 Google Android 开发者网站以找到 Android SDK，一旦完成，您应该能够启动并运行良好快速使用 IntelliJ。启动一个新项目并选择 Android。这将引导您完成一个新项目向导，该向导将为您设置必要的 res 和 gen 文件夹。

我在这里使用 Eclipse 存根项目整理了一个关于 Android 开发的截屏视频：http: [//bit.ly/Zu6q8i](http://bit.ly/Zu6q8i)

# git - 如何将 A 和 K 之间的提交压缩为一个提交 Z

> ID：14850486
> 
> 赞同：5
> 
> 时间：2013-02-13T09:42:40.863
> 
> 标签：git, squash

如果我有这样的提交历史：

```
A-B-C-------G-H-J-K   (master)
     \     /
      D-E-F 
```

如何将 A 和 K 之间的提交压缩为一个提交 Z：

```
A-Z-K   (master) 
```

?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T09:47:50.220

首先，执行：

```
git rebase -i A 
```

这将在文本编辑器中显示提交列表，以 B 开头并以 K 结尾。
您必须将`pick`提交 C、D、E、F、H 和 J 前面的文本更改为`s`or `squash`。不要*在*`pick`B 或 K 前面更改。请注意，提交 G 应该是缺失的，因为它是一个合并提交。

最后，保存并退出编辑器。这将开始实际的变基。

结果将是这样的：

```
A-Z-K'                   (master)
 \
  B-C-------G-H-J-K      (no branch)
     \     /
      D-E-F 
```

没有分支的部分最终将被垃圾收集器删除。

# c# - Umbraco 节点和 inode

> ID：14850491
> 
> 赞同：1
> 
> 时间：2013-02-13T09:42:52.210
> 
> 标签：c#, inheritance, umbraco

我对我正在使用的一些代码有疑问：

```
List<INode> nodes = Node.GetCurrent().Parent.ChildrenAsList.FindAll(n => n.NodeTypeAlias == "Job")
foreach (Node job in nodes)
{
    MakeJobSummary(job, ref counter);
} 
```

这是否会产生任何问题，因为我正在遍历`INode`列表但将它们用作`Node`（继承自`INode`）

我需要使用该`Node`类型，因为它有一些属性是从通过传入的值设置的，`INode`而且我看不到从父对象获取节点列表的简单方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T22:05:56.017

您可以这样做以确保 INode 实际上是一个节点。

```
List<INode> nodes = Node.GetCurrent().Parent.ChildrenAsList.FindAll(n => n.NodeTypeAlias == "Job")
foreach (var job in nodes)
{
    if (job is Node)
      MakeJobSummary((Node) job, ref counter);
} 
```

# java - CustomPropertyEditor 的正确方法

> ID：14850497
> 
> 赞同：0
> 
> 时间：2013-02-13T09:43:08.637
> 
> 标签：java, model-view-controller, spring-mvc

有一个 spring mvc web 应用程序和一个带有嵌套对象的表单，它是一个列表。对于那个嵌套对象，我需要做这样的事情

binder.registerCustomEditor(List.class, "originalCopies[0].subtitleLanguages", languageCollectionEditor);

我不确定我是否应该在正确的轨道上绑定嵌套列表或对象？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T18:57:34.803

我会将编辑器关联到最终类（而不是集合类）。

假设您管理一个`List<Language>`. 我会做

```
binder.registerCustomEditor(Language.class, new MyLanguageEditor()) 
```

# r - 如何在ubuntu 12.04中安装R的fftw3包？

> ID：14850498
> 
> 赞同：7
> 
> 时间：2013-02-13T09:43:18.240
> 
> 标签：r, ubuntu-12.04, fftw

我正在尝试通过 R 控制台安装 fftw3 包

```
>install.packages("fftw") 
```

在此命令之后，它要求选择 cran 镜像。我选择了 cran 镜像，然后出现以下错误：

```
Loading Tcl/Tk interface ... done
Warning: unable to access index for repository http://ftp.iitm.ac.in/cran/src/contrib
Warning messages:
1: In open.connection(con, "r") :
unable to connect to 'cran.r-project.org' on port 80.
2: In getDependencies(pkgs, dependencies, available, lib) :
package ‘fftw’ is not available (for R version 2.14.1) 
```

当我尝试使用 fftw3 时，会出现以下错误：

```
> install.packages("fftw3")
Installing package(s) into ‘/root/R/x86_64-pc-linux-gnu-library/2.14’
(as ‘lib’ is unspecified)
Warning: unable to access index for repository http://ftp.iitm.ac.in/cran/src/contrib
Warning message:
In getDependencies(pkgs, dependencies, available, lib) :
package ‘fftw3’ is not available (for R version 2.14.1) 
```

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-02-13T10:21:06.127

正如保罗所说，这可能不是一个 R 包。有一个 R 包是 FFTW 库的包装器，也称为 fftw，您应该安装它：

[链接到 fftw 的 CRAN 页面](http://cran.r-project.org/web/packages/fftw/index.html)

在 Ubuntu 中，您仍然需要正确安装 fftw 库的系统要求，您可能可以通过以下方式解决

```
sudo apt-get install fftw3 fftw3-dev pkg-config 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:01:49.720

您链接的网站谈论的是 C 库，没有关于 R 代码包的内容。您错误地认为 R 可以将任何 .tar.gz 文件安装为 R 库。R 库具有非常特定的文件和目录结构，您得到的错误是因为 .tar.gz 不遵守这种结构。

# java - 创建树的 XSL 问题

> ID：14850499
> 
> 赞同：0
> 
> 时间：2013-02-13T09:43:20.270
> 
> 标签：java, xml, xslt

我有 XML 文件

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<childrens>
  <child entity_id="1" value="Root Catalog" parent_id="0">
    <child entity_id="2" value="Apparel" parent_id="1">
      <child entity_id="4" value="Shirts" parent_id="2"/>
      <child entity_id="5" value="Pants" parent_id="2"/>
    </child>
    <child entity_id="3" value="Accessories" parent_id="1">
      <child entity_id="6" value="Handbags" parent_id="3"/>
      <child entity_id="7" value="Jewelry" parent_id="3"/>
    </child>
     .
     .
     .
    <child entity_id='1110' value="test" parent_is="1109">
       <child entity_id='1111' value="test0" parent_is="1110">
           <child entity_id="1005" value="test1" parent_is="1111"/>
           <child entity_id="1006" value="test12" parent_is="1111"/>
           <child entity_id="1007" value="test123" parent_is="1111"/>
        <child>
    </child>
  <child >
</childrens> 
```

现在我已经编写了这个 XSL 代码

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="html" indent="yes" omit-xml-declaration="yes"/>
  <xsl:param name="selected" />

  <xsl:template match="/*">
    <xsl:apply-templates select="*[not($selected)] | //*[@entity_id = $selected]/*" />
  </xsl:template>

  <xsl:template match="*">
    <span onclick="displayResult('{@entity_id}');">
      <xsl:value-of select="concat(@value, '&#xA0;')"/><br/>
    </span>
  </xsl:template>
</xsl:stylesheet> 
```

HTML是

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Region</title>
    <link href='style.css' rel='stylesheet' type='text/css'/>
    <script>
        var xml = loadXMLDoc("tree.xml");
        var xsl = loadXMLDoc("try.xsl");

        function loadXMLDocActiveX(location) {
            var doc = new ActiveXObject("MSXML2.FreeThreadedDOMDocument");
            doc.async = false;
            doc.load(location);
            return doc;
        }

        function loadXMLDocOther(location) {
            xhttp = new XMLHttpRequest();
            xhttp.open("GET", location, false);
            xhttp.send("");
            return xhttp.responseXML;
        }

        function loadXMLDoc(dname) {
            if (window.ActiveXObject) {
                return loadXMLDocActiveX(dname);
            }
            else if (window.XMLHttpRequest) {
                return loadXMLDocOther(dname);
            }
        }

        function transformActiveX(xml, xsl, target, selected) {
            var transform = new ActiveXObject("MSXML2.XSLTemplate");
            transform.stylesheet = xsl;
            var processor = transform.createProcessor();
            processor.input = xml;

            if (selected) {
                processor.addParameter("selected", selected);
            }

            processor.transform();
            target.innerHTML = processor.output;
        }

        function transformOther(xml, xsl, target, selected) {
            var xsltProcessor = new XSLTProcessor();
            xsltProcessor.importStylesheet(xsl);

            if (selected) {
                xsltProcessor.setParameter(null, "selected", selected);
            }

            var resultDocument = xsltProcessor.transformToFragment(xml, document);
            target.innerHTML = "";
            target.appendChild(resultDocument);
        }

        function displayResult(selected) {
            var targetElement = document.getElementById("load");

            // code for IE
            if (window.ActiveXObject) {
                transformActiveX(xml, xsl, targetElement, selected);
            }
            // code for Mozilla, Firefox, Opera, etc.
            else if (document.implementation && 
                     document.implementation.createDocument) {
                transformOther(xml, xsl, targetElement, selected);
            }
        }
    </script>
</head>
<body onload="displayResult()">
    <div id="load">
    </div>
</body>
</html> 
```

我正在使用此代码制作树现在我想要其中的 xsl

1）我想从特定节点开始这个，例如`test`这里`entity_id=1110`

2) 叶元素有一个类`child`，例如这里叶元素是`test1, test12, test123`在元素的情况下，其中 value = test 并且 value = test0

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:46:07.690

这个怎么样：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="html" indent="yes" omit-xml-declaration="yes"/>
  <xsl:param name="defaultValue" select="'test'" />
  <xsl:param name="selected" select="//*[@value = $defaultValue]/@entity_id" />

  <xsl:template match="/*">
    <xsl:apply-templates select="*[not($selected)] | //*[@entity_id = $selected]/*" />
  </xsl:template>

  <xsl:template match="*">
    <span onclick="displayResult('{@entity_id}');">
      <xsl:if test="not(*)">
         <xsl:attribute name="class">leaf</xsl:attribute>
      </xsl:if>
      <xsl:value-of select="concat(@value, '&#xA0;')"/><br/>
    </span>
  </xsl:template>
</xsl:stylesheet> 
```

如果向 中添加`select`属性，则`xsl:param`可以指示`entity_id`要用作默认起始项的项。

第二`xsl:if`个模板中的 将`class="leaf"`属性添加到叶节点。

# java - 盈透证券 API 和 Web 应用程序

> ID：14850500
> 
> 赞同：4
> 
> 时间：2013-02-13T09:43:22.193
> 
> 标签：java, api, web-applications, interactive, broker

我们希望在网站上添加一项功能，使会员能够直接从我们的平台访问他们的盈透证券账户（API [http://www.interactivebrokers.com/en/?f=%2Fen%2Fsoftware%2Fibapi.php](http://www.interactivebrokers.com/en/?f=%2Fen%2Fsoftware%2Fibapi.php)）。

我相信使用 API 应用程序时需要启动并运行交易工作站 (TWS)。

我看到 TWS 有一个使用单个用户名和密码的 GUI（正确吗？）。如果确实如此，我不确定如何连接多个用户。

我的问题是，我可以使用 IB API 通过第三方应用程序连接帐户持有人吗？

请指教。

谢谢你

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-25T12:10:01.250

您现在可以让 IB 账户持有人从您的网站登录到 IB，以将您的平台连接到 IB API。您可以使用*用于 IB 的 Brokertron 网关*( [http://www.brokertron.com/gateway/](http://www.brokertron.com/gateway/) ) 执行此操作，这使您的用户不必手动启动或使用 TWS（或 IB 网关）的 GUI。

然而，您的用户仍然需要使用他们的 IB 凭证（即使用 IB 安全设备）对 IB 进行身份验证/登录。但是现在您的网站（通过 Web API）可以让用户登录到 IB，因此您的平台可以使用 IB API。

[我在https://github.com/castedo/brokertron-public](https://github.com/castedo/brokertron-public)开源了前端用户界面，因此您可以将 HTML 前端用户界面集成到您的网站中（自定义前端调用用于 IB Web API 的 Brokertron 网关）。

*   Castedo Ellerman（IB Brokertron Gateway 的开发者）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T14:57:17.890

目前（截至 2013 年 2 月）这是不可能的：您的应用程序必须通过 API 连接到 TWS，您必须使用客户端的凭据（用户 ID、密码、第二个令牌身份验证，如果适用）手动启动 TWS。

我们已经考虑提供编程接口，第三方可以向我们的客户提供类似于您所描述的附加服务，但当时证明它不值得我们投资。

您前进的最佳方式是通过我们的功能投票（[http://www.interactivebrokers.com/en/?f=%2Fen%2Fgeneral%2Fpoll%2Findex.php](http://www.interactivebrokers.com/en/?f=%2Fen%2Fgeneral%2Fpoll%2Findex.php)）提交功能请求，描述您的业务设置/客观和你代表谁，我们会评估。

*   丹尼斯 | 盈透证券

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-15T05:27:11.300

交互式代理有一个无头网关：[https ://github.com/ib-controller/ib-controller](https://github.com/ib-controller/ib-controller)

# android - Android 多部分 http 请求

> ID：14850501
> 
> 赞同：0
> 
> 时间：2013-02-13T09:43:23.893
> 
> 标签：android, httpurlconnection, multipart

我正在尝试将drawable发送到服务器，但它告诉我我的请求是错误的。我已经添加了一个文件名来请求（它不存在）但没有任何变化。请指出我的错误。谢谢。

```
import java.io.BufferedReader;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.net.HttpURLConnection;
import java.net.URL;

import android.os.Environment;

/**
 * This utility class provides an abstraction layer for sending multipart HTTP
 * POST requests to a web server.
 * 
 * @author www.codejava.net
 * 
 */
public class MultipartUtility {
    private final String boundary;
    private HttpURLConnection httpConn;
    private OutputStream outputStream;

    /**
     * This constructor initializes a new HTTP POST request with content type is
     * set to multipart/form-data
     * 
     * @param requestURL
     * @param charset
     * @throws IOException
     */
    public MultipartUtility(String requestURL) throws IOException {

        // creates a unique boundary based on time stamp
        boundary = "===" + System.currentTimeMillis() + "===";

        URL url = new URL(requestURL);
        httpConn = (HttpURLConnection) url.openConnection();
        httpConn.setDoOutput(true); // indicates POST method
        httpConn.setDoInput(true);
        httpConn.setRequestProperty("Connection", "Keep-Alive");
        httpConn.setRequestProperty("Content-Type",
                "multipart/form-data; boundary=" + boundary);
        outputStream = httpConn.getOutputStream();
    }

    /**
     * Adds a upload file section to the request
     * 
     * @param fieldName
     *            name attribute in <input type="file" name="..." />
     * @param uploadFile
     *            a File to be uploaded
     * @throws IOException
     */
    public void addFilePart(InputStream inputStream) throws IOException {
        File temp = new File(Environment.getExternalStorageDirectory()
                .getPath(), Urls.ICON_NAME);
        // write the inputStream to a FileOutputStream
        OutputStream out = new FileOutputStream(temp);
        int read = 0;
        byte[] bytes = new byte[1024];
        while ((read = inputStream.read(bytes)) != -1) {
            out.write(bytes, 0, read);
        }
        inputStream.close();
        out.flush();
        out.close();

        outputStream.write("--*****\r\n".getBytes());
        outputStream.write(("Content-Disposition: form-data; name=\""
                + "photo" + "\";filename=\""
                + Urls.ICON_NAME + "\"\r\n").getBytes());
        outputStream.write("\r\n".getBytes());

        //outputStream.write("Content-Type", "image/png");

        FileInputStream fileInputStream = new FileInputStream(temp);
        byte[] buffer = new byte[4096];
        int bytesRead = -1;
        while ((bytesRead = fileInputStream.read(buffer)) != -1) {
            outputStream.write(buffer, 0, bytesRead);
        }

        outputStream.write("\r\n".getBytes());
        outputStream.write("--*****--\r\n".getBytes());

        outputStream.flush();
        fileInputStream.close();

        temp.delete();
    }

    /**
     * Completes the request and receives response from the server.
     * 
     * @return a list of Strings as response in case the server returned status
     *         OK, otherwise an exception is thrown.
     * @throws IOException
     */
    public String finish() throws IOException {
        StringBuilder strBuilder = new StringBuilder();
        // checks server's status code first
        int status = httpConn.getResponseCode();
        if (status == HttpURLConnection.HTTP_OK) {
            BufferedReader reader = new BufferedReader(new InputStreamReader(
                    httpConn.getInputStream()));
            String line = "";
            while ((line = reader.readLine()) != null) {
                strBuilder.append(line).append("\n");
            }
            reader.close();
            httpConn.disconnect();
        } else {
            throw new IOException("Server returned non-OK status: " + status);
        }

        return strBuilder.toString();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-18T06:44:59.453

尝试这个，

```
String url="<Your URL>";
String fileName="<Your file>";
HttpClient httpclient = new DefaultHttpClient();
HttpPost httppost = new HttpPost(url);
FileBody fileContent= new FileBody(new File(fileName));
StringBody comment = new StringBody("Filename: " + fileName);
MultipartEntity reqEntity = new MultipartEntity();
reqEntity.addPart("file", fileContent);
httppost.setEntity(reqEntity);
System.out.println("post length"+reqEntity.getContentLength());
HttpResponse response = httpclient.execute(httppost);
HttpEntity resEntity = response.getEntity(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T21:45:09.037

为什么`*****`在标题中定义时使用“”作为边界：

`"Content-Type", "multipart/form-data; boundary=" + boundary`

您应该使用标头中定义的边界作为请求正文中的边界。

# visual-studio-2010 - 更改默认字体 SSRS Visual Studio

> ID：14850503
> 
> 赞同：18
> 
> 时间：2013-02-13T09:43:27.340
> 
> 标签：visual-studio-2010, layout, reporting-services, fonts, sql-server-2008-r2

我一直在互联网内外搜索你好，但似乎找不到明确的答案：我可以更改 SSRS 报告中的默认布局项目吗？如果是这样，怎么做？

*   所以文本框没有 Arial 10 作为默认字体大小但有字体大小 8？
*   所以 tablix 是否启用了默认属性，例如“在每页上显示列标题”？
*   等等？

我熟悉自定义模板 (.rdl)，但它们不提供更改布局项目的可能性，例如默认字体和颜色以及报告部件的属性等。

在 VS 2005 中有 StyleTemplate 可以使用，但这仅在使用向导时有效。似乎与 VS 2010 相同。

我更喜欢听到它可以完成以及如何完成的说明，我会对如何规避每次手动更改这些属性的问题的提示感到满意，我将不胜感激一个明确的答案。现在它让我发疯:)

我正在使用 VS2010（最新更新等）icm SQL 2008、2008R2 和（本地）2012BI

谢谢你和我一起思考！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-13T10:58:36.413

不幸的是，按照设计，您不允许设置默认字体等。Microsoft [https://connect.microsoft.com/SQLServer/feedback/details/574003/modify-the-default-font-family-for-存在活动缺陷sql-server-business-intelligence-development-studio-while-creating-a-report#](https://connect.microsoft.com/SQLServer/feedback/details/574003/modify-the-default-font-family-for-sql-server-business-intelligence-development-studio-while-creating-a-report#)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2015-07-20T18:32:26.290

我知道这是一个非常古老的帖子，但对于其他寻找答案的人，我想我会添加以下内容。如果我希望我的所有文本框都使用 Arial 10pt 以外的字体，我将制作第一个文本框并设置我的字体样式，然后将其用作主文本框，复制它并更改内部文本，而不是每次都创建新的文本框。这是一个 hack，但由于 2015 年 VS 仍然无法做到这一点，它是我们拥有的最好的。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-05-10T05:37:18.810

您始终可以在那里打开代码（XML）视图并编辑字体属性。例如。搜索
<FontFamily> -tag 并添加 <FontSize>10pt</FontSize> 作为 <Style>-tag 的同级。

在编辑 XML 之前，关闭报表设计视图。否则对象的属性不能正常工作。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-02-19T08:01:58.407

在 RDL 文件的 XML 开头（如果您在文件上选择查看代码，您会看到什么）有一个`<df:DefaultFontFamily>`定义默认字体的标签。如果您将其更改为您想要的字体系列并重新保存 XML 文件，您以后创建的任何文本框都将采用此默认字体系列。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-05-27T06:52:44.923

FontSize 属性必须是*n* pt 格式。如果此属性从返回整数的 SQL 查询中获取值，请通过添加“pt”来添加表达式：（例如，= Fields! DimFont.Value & “pt”）。

# sql - 从 SQL 数据库获取地理位置以用于 Bing 地图

> ID：14850506
> 
> 赞同：2
> 
> 时间：2013-02-13T09:43:33.190
> 
> 标签：sql, geolocation, bing-maps

基本上，我有一组地理位置和其他信息，对应于 SQL 数据库中表中的每个点。我有一个带有复选框的 Bing 地图网站，可以设置不同的过滤器来显示地理位置图钉。我基本上想知道如何根据给定的复选框最有效地查询数据库并更新地图上的图钉。

或者，随着表大小的增加，重新查询可能会很昂贵，我如何加载整个数据库并仅根据选定的复选框过滤器显示某些引脚？

在研究这个时，我找到了有关 GeoRSS 文件的答案，但这些解决方案特定于所有同时加载的点，并且将继续保持在视图中。似乎无法在此过程中应用过滤器（无需进一步重新查询）。

编辑：当我说“过滤器”时，我基本上是在谈论通过记录地理位置的日期以及将使用复选框的各种其他内容来缩小当前显示的图钉。假设我有一个餐馆列表，每个餐馆都有他们的 ID、地理位置、添加的日期（到数据库中），以及他们食物类型的外键。我希望能够通过可用的食物类型进行选择，以将结果限制在意大利和墨西哥餐厅，但仍然提供通过单击按钮显示中国餐厅的功能。

为了方便起见，我首先将所有数据库条目都放入。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-22T11:17:25.177

您可以使用带有地图控件的 SSRS 报告在 Bing 地图上显示信息。这样，您可以使用标记的“隐藏”属性中的表达式来确定是否显示图钉并将复选框映射到参数。

有关使用地图控件的信息，请参阅 [http://technet.microsoft.com/en-us/library/ee240845.aspx 。](http://technet.microsoft.com/en-us/library/ee240845.aspx)

如果 SharePoint 是一个选项，您可以使用 PowerView 获得完全交互式的体验。这是一个介绍[http://office.microsoft.com/en-gb/sharepoint-help/maps-in-power-view-HA103005792.aspx](http://office.microsoft.com/en-gb/sharepoint-help/maps-in-power-view-HA103005792.aspx)

# asp.net - GridView 中的 LinkBut ton 没有选择正确的值

> ID：14850507
> 
> 赞同：1
> 
> 时间：2013-02-13T09:43:35.453
> 
> 标签：asp.net

我正在使用链接按钮从网格视图中显示所选报告 ID 的 pdf 报告。在页面加载时，我将数据源与 Gridview 绑定。通过单击链接按钮，它会从第 0 列获取正确的报告 ID 并显示报告。对网格进行排序后，网格视图会显示排序后的数据。现在，如果我单击链接按钮，它不会从第 0 列中选择更改的值。而是在排序之前选择值。

说：第 0 列在排序前具有值 1、2、3、4、5。如果我在排序之前单击第 3 行的链接按钮，则从第 0 列中选取值 3。排序后为 3、4、5、2、1。现在，如果我单击第 3 行的链接按钮，它仍然选择值 3 而不是 5。你能帮帮我吗？

下面是我的代码：aspx：

CS：

```
protected void Page_Load(object sender, EventArgs e)
{
     bindGrid();
}
protected void GvStockTakingReport_Sort(object sender, GridViewSortEventArgs e)
    {

            GvStockTakingReport.DataSource = null;
            GvStockTakingReport.DataBind();
            GvStockTakingReport.Dispose();
            DataSet ds = StockTakingList.BindStocktakingReportGrid();
            DataTable dtSortTable = ds.Tables[0];
            if (dtSortTable != null)
            {
                DataView dv = new DataView(ds.Tables[0]);
                dv.Sort = e.SortExpression + " " + getSortDirectionString();
                //ViewState["sortExpression"] = e.SortExpression;
                //Session["sortExpression"] = e.SortExpression;
                GvStockTakingReport.DataSource = dv;
                GvStockTakingReport.DataBind();
            }                      
       }

   protected void PrintReport(object sender, CommandEventArgs e)
    {

            LinkButton lkButton = (LinkButton)sender;
            GridViewRow item = (GridViewRow)lkButton.NamingContainer;

            string Id = (item.FindControl("lblstk_id") as Label).Text;

            //Getting value for Id    
            string Id1 = e.CommandArgument.ToString();

            int rowIndex = Convert.ToInt32((string)e.CommandArgument);

            //string Id1 = Convert.ToString(GvStockTakingReport.Rows[rowIndex].Cells[0].Text);

            string Id2 = ((Label)(GvStockTakingReport.Rows[rowIndex].FindControl("lblstk_id"))).Text;

            //Getting value for Id

            string virtualPath = string.Format("~/{0}/{1}{2}", Portal.Business, Portal.Core.Profile.ReportsDirectory, "General/RPT_03002_StockTakinReport.rpt");
            string physicalPath = Server.MapPath(virtualPath);

            using (ReportDocument report = new ReportDocument())
            {
                report.Load(physicalPath);
                Core.Security.CrystalReportLogOn(report, (SqlConnectionStringBuilder)Portal.Core.Profile.ConnectionStrings["MTServer"]);
                report.SetParameterValue("@STK_Id", Id);
                report.ExportToHttpResponse(ExportFormatType.PortableDocFormat, Page.Response, true, "Stock Taking report");
            }          
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:27:06.297

问题是每当我单击链接按钮时，页面加载都会调用 bindgrid 方法，该方法在 printreport 方法调用之前将 gridview 重置为原始排序。我已经在 bindgrid 方法中包含了排序逻辑，并在下面解决了这个问题。

```
 public void bindGrid()
    {
        try
        {
            DataSet ds = StockTakingList.BindStocktakingReportGrid();
            GvStockTakingReport.DataSource = ds;
            GvStockTakingReport.DataBind();

            //To make sure the grid remains with sorting order while pageload method invokes otherwise it will reset to original order
            DataView dv = new DataView(ds.Tables[0]);
            if (dv != null)
            {
                if (ViewState["sortExpression"] == null)
                {
                    ViewState["sortExpression"] = "STK_Id"; //First time it will sort by STK_ID i.e on first time page loading
                }

                if (ViewState["sortDirection"] == null)
                {
                    ViewState["sortDirection"] = "ASC";//First time it will sort ascending i.e on first time page loading
                }

                dv.Sort = ViewState["sortExpression"].ToString() + " " + ViewState["sortDirection"].ToString();
                GvStockTakingReport.DataSource = dv;
                GvStockTakingReport.DataBind();
            }
        }
        catch (Exception ex)
        {
            error.Visible = true;
            error.Text = ex.Message.ToString();
        }
    } 
```

# php - php & 输入复选框存储每个循环的值

> ID：14850509
> 
> 赞同：0
> 
> 时间：2013-02-13T09:43:48.703
> 
> 标签：php, mysql, input, checkbox

我有一个页面将显示来自一个数据库的人名，该数据库与另一个数据库连接，当两个名字被链接时会跟踪。每件事都很好。然而; 当用户选择一个时，我无法从输入框中传输数据或特别是正确的用户名 ($id2u) 和字符串 ($permissions)。然后，onclick 事件应根据权限字符串显示数据字段。问题是显示的信息始终是数据库中通过循环运行的最后一个用户。我试图让信息在单击复选框时继续 onclick 事件，以便显示他们的信息。

这是他调用数据显示的函数。

```
function display1(type) {document.getElementById("pi").style.display = "none"
 document.getElementById(type).style.display = ""} 
```

这是对为每个人生成输入框的数据库的调用。

```
$result1  = mysql_query('SELECT * FROM level1 LEFT JOIN linkreq ON level1.idnumber = linkreq.idme ORDER BY LEAST(lname, fname) DESC');
for ($i = mysql_num_rows($result1) - 1; $i >= 0; $i--){
    if (!mysql_data_seek($result1, $i)){echo "Cannot seek to row $i: " . mysql_error() . "\n";continue;}
    if (!($row = mysql_fetch_assoc($result1))) {continue;}
    if($_SESSION["idnumber"] == $row['id2u']){
    if($row['returnack'] == 0){$id2u = $row['idme']; echo'<font color="#FF6600">*</font>&nbsp;&nbsp;&nbsp;'.$row['title'].' '.$row['fname'].' '.$row['mname'].' '.$row['lname'].' '.$row['suffex'].'<br />';}
    else{
    $permissions  = $row['permissions'];
    parse_str($permissions);
    $permissions; 
    $id2u = $row['idme'].'&nbsp; ';
    echo '<input type="checkbox"  value = " .$id2u. " onClick="display1(\'pi\');">&nbsp;&nbsp;&nbsp;'
    .$row['title'].' '.$row['fname'].' '.$row['mname'].' '.$row['lname'].' '.$row['suffex'].'
    <br />';}}} 
```

这是显示的数据，`onclick(pi)`但显示的是最后一个用户而不是选定的用户。基本上，如果 $id2u 变量数据将从复选框中继承，这将起作用。`$id2u = xxxxxx;`可以通过在查询之前设置来手动强制它。

```
$result2  = mysql_query('SELECT * FROM pi WHERE idnumber = "'.$id2u.'"');

for ($i = mysql_num_rows($result2) - 1; $i >= 0; $i--){
    if (!mysql_data_seek($result2, $i)){echo "Cannot seek to row $i: " . mysql_error() . "\n";continue;}
    if (!($row = mysql_fetch_assoc($result2))) {continue;}
    echo '<br>row #'.$row['idnumber'];
    if($id2u == $row['idnumber']){echo'...// PRINTS OUT DATA //...}}

</span> 
```

我知道这应该在 mySQLi 中，但现在只需要让它工作，稍后再转换。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:11:28.283

为什么不使用**while()**循环？

```
$query = mysql_query("...");
while($row = mysql_fetch_array($query))
{
   ...
} 
```

这对我来说总是很好:)

# javascript - JS矩阵乘法问题

> ID：14850511
> 
> 赞同：3
> 
> 时间：2013-02-13T09:43:56.200
> 
> 标签：javascript, math, matrix

我在使用 JavaScript 中的矩阵乘法代码时遇到问题。如果我使用以下两个矩阵运行以下函数：

```
var m1 = [ [ 1, 0, 0 ],
  [ 0, 1, 0 ],
  [ 1, 1, 0 ],
  [ 0, 0, 1 ],
  [ 1, 0, 1 ],
  [ 0, 1, 1 ],
  [ 1, 1, 1 ] ];

var m2 = [ [ '0', '1', '1', '0', '0', '1', '1' ] ];

var matrixMult = function (m1, m2) {
    console.log(m1);
    console.log(m2);
    console.log("m1 length: %d, m2[0].length: %d", m1.length, m2[0].length);
    if (m1.length != m2[0].length) {
            console.error("Incompatible matrix dimensions for multiplication.");
            return false;
    }

    var result = [];

    for (var i = 0; i < m1[0].length; i++) {
            result[i] = [];
            for (var j = 0; j < m2.length; j++) {
                    var sum = 0;
                    for (var k = 0; k < m1.length; k++) {
                            sum += m1[i][k] * m2[k][j];
                    }
                    result[i][j] = sum;
            }
    }
    return result;
} 
```

我收到此错误：

```
/path/to/file.js:58
                sum += m1[i][k] * m2[k][j];
                                       ^
TypeError: Cannot read property '0' of undefined
    at matrixMult (...) 
```

怎么了？问题可能`m2.length`只是1吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-13T09:48:11.257

只有一个`m2[0]`，但你的内`for`循环从`0`to运行`m1.length`，它大于`0`. 因此，当它尝试访问`m2[1]`它时会引发错误。

也通过以下矩阵乘法的定义

> 仅当左矩阵的列数与右矩阵的行数相同时，才定义两个矩阵的乘法。

（来源：[维基百科](http://en.wikipedia.org/wiki/Matrix_%28mathematics%29#Matrix_multiplication.2C_linear_equations_and_linear_transformations)）

您不能将样本矩阵相乘，因为`m1`它有 3 列，但`m2`只有一行。

**编辑**

现在我正确理解了你的问题，我写了一个小函数可以帮助你：

```
function multiplyMatrix(m1, m2) {
    var result = [];
    for(var j = 0; j < m2.length; j++) {
        result[j] = [];
        for(var k = 0; k < m1[0].length; k++) {
            var sum = 0;
            for(var i = 0; i < m1.length; i++) {
                sum += m1[i][k] * m2[j][i];
            }
            result[j].push(sum);
        }
    }
    return result;
}

multiplyMatrix(m1, m2);

// => [ [2, 4, 2] ] 
```

# android - android PopupWindow showAtLocation 随初始位置移动

> ID：14850521
> 
> 赞同：1
> 
> 时间：2013-02-13T09:44:26.983
> 
> 标签：android, popupwindow

我有一个弹出窗口，我想最初把它放在屏幕的右侧，但仍然允许它拖动。

如果我将重力设置为中心，我可以很好地移动它

```
LinearLayout l = initNoteLayout(context);
            mNotePopup = new PopupWindow(l, 650, 370, true);
            l.setOnTouchListener(new OnTouchListener() {
                private int dx = 0;
                private int dy = 0;

                @Override
                public boolean onTouch(View view, MotionEvent motionEvent) {
                    switch (motionEvent.getAction()) {
                        case MotionEvent.ACTION_DOWN:
                            dx = (int) motionEvent.getRawX();
                            dy = (int) motionEvent.getRawY();
                            break;
                        case MotionEvent.ACTION_MOVE:
                            int x = (int) motionEvent.getRawX();
                            int y = (int) motionEvent.getRawY();
                            int left =  (x - dx);
                            int top =   (y - dy);
                            //Log.d("test", "x: " + left + " y: " + top);
                            mNotePopup.update(left, top, -1, -1);
                            break;
                    }
                    return true;
                }

            });
            mNotePopup.showAtLocation(l, Gravity.CENTER, 0, 0); 
```

这有效，但它在屏幕的中心。如果我设置

```
mNotePopup.showAtLocation(l, Gravity.RIGHT, 0, 0); 
```

它显示在我想要的位置，我可以上下拖动它，但它粘在右侧。

有任何想法吗？我已经尝试了我能想到的所有重力标志组合

谢谢

# c++ - GetDlgItemText 返回错误 1421

> ID：14850524
> 
> 赞同：0
> 
> 时间：2013-02-13T09:44:34.563
> 
> 标签：c++, api, winapi, user-interface

我使用了这个函数，它返回这个错误，所以它与窗口标识符有关。但在我看来一切都很好，我已将`HMENU`子窗口中的字段设置为`101` 然后在我调用的子过程中：

```
ID = GetDlgCtrlID(hwnd);
length = GetWindowTextLength(hwnd); 
```

（hwnd 是子窗口的本地句柄）比我调用：

```
GetDlgItemText(hwnd,ID,buf,length); 
```

buf 是一个 char 类型的数组：

```
 char buf[256] = {0}; 
```

我也尝试过使用`sizeof(buf)`而不是运行它`length`。但似乎仍然存在问题，我似乎不知道是什么问题。缓冲区保持为空，错误仍在出现。我很想得到一些帮助。所以提前感谢您的帮助！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T11:06:10.827

你的代码是错误的。

问题在这里：

```
GetDlgItemText(hwnd,ID,buf,length); 
```

但你可能想要这个：

```
GetWindowText(hwnd, buf, length); 
```

# knockout.js - 绑定值不起作用，总是取空

> ID：14850525
> 
> 赞同：0
> 
> 时间：2013-02-13T09:44:37.213
> 
> 标签：knockout.js

我有一个包含两个字段的表：日和小时，但只有日字段具有价值，也许这是一个淘汰赛错误或我无法理解的奇怪事情正在发生。

这是视图（翡翠而不是html）：

```
 p
                    label(for='dates') Datas
                        span.required *
                        &nbsp
                        span(data-bind='visible: dates().length > 1')
                    ul#list-dates(data-bind='foreach: dates()')
                        li
                            div.form-inline
                                input.input-small(type='text', name='dateDay', data-bind='value: day, hasfocus: true')
                                span -
                                input.input-mini(type='text', name='dateHour', date-bind='value: hour')
                                a.btn(href='#', data-bind='click: $root.addDate')
                                    i.icon-plus 
```

这是javascript：

```
var DateModel = function(day, hour) {
    var self = this;
    self.day = ko.observable(day);
    self.hour = ko.observable(hour);
};

function DateViewModel() {
    var self = this;
    self.dates = ko.observableArray([
        new DateModel("", "")
    ]);

    self.addDate = function() {
        var pos = self.dates().length;
        pos = pos-1;

        console.log("Day: " + self.dates()[pos].day());
        console.log("Hour: " + self.dates()[pos].hour());

        if (self.dates()[pos].day() != '' && self.dates()[pos].hour() != '')
            self.dates.push(new DateModel("", ""));
    }
}

ko.applyBindings(new DateViewModel()); 
```

当按下 addDate 时，它​​假设检查之前添加的日期和小时条目以创建新字段。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T10:06:50.560

您的“小时”绑定不起作用，因为**您输入了错误的** `data-bind`属性。

你有：

```
input.input-mini(type='text', name='dateHour', date-bind='value: hour') 
```

应该是哪个

```
input.input-mini(type='text', name='dateHour', data-bind='value: hour') 
```

# java - 会话处理问题（更新数据库行） - 会话与浏览器一起关闭

> ID：14850530
> 
> 赞同：0
> 
> 时间：2013-02-13T09:44:44.093
> 
> 标签：java, jsp, session, servlets, session-timeout

我正在使用数据库来存储用户详细信息，包括用户名和密码。它还有一个`Security_check`默认为“logged_out”的列。

每当用户登录时，我都会`Security_check`从验证用户（servlet）的页面将值修改为“logged_in”。每当用户点击注销按钮时，我都会明确更改`Security_check`为其默认值。

但是当用户在没有注销的情况下关闭浏览器时，就会出现一个大问题，因为该`Security_check`用户的列值仍然是“logged_in”，之后当该用户厌倦登录时，他们会收到一条错误消息，指出您正在已经登录（因为我`Security_check`在允许任何用户登录之前检查了，在这种情况下他们已经登录）。所以他无法登录，也无法注销，因为当他关闭浏览器时会话已过期。所以我该怎么做？

下面是 HttpSessionListener 类的代码，它不起作用：

```
package com.svc.session;

import javax.servlet.http.HttpSessionEvent;
import javax.servlet.http.HttpSessionListener;
import java.sql.*;
import javax.servlet.http.HttpSession;

public class Session_Invalidator implements HttpSessionListener
{
    public Session_Invalidator()
    {
        try    
        {
            Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
        }
        catch(Exception e) 
        {
        }
    }

    public void sessionCreated(HttpSessionEvent se)
    {
    }

    public void sessionDestroyed(HttpSessionEvent se)    
    {
        HttpSession session = se.getSession();
        String uName = session.getAttribute("userName").toString().trim();

        Connection con = null;
        PreparedStatement stmt = null;

        try 
        {
            // i am using a space between the colon and odbc because if 
            // I don't it will be converted to smile, so ignore the space
            con = DriverManager.getConnection("jdbc: odbc:CMS","","");
            stmt = con.prepareStatement("update Users set security_check=default where     login_name=?");
            stmt.setString(1, uName);
            int no = stmt.executeUpdate();
        } catch(Exception e) 
        {
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T12:50:10.373

它认为你有两种选择。

1.  选择一个非常短的会话超时时间（比如一两分钟）并使用 AJAX 调用实现从网页到服务器的 ping 之类的操作。因此，当用户浏览器打开并显示您的网页时，您的服务器将始终收到 ping 通知并保持会话打开。如果用户关闭浏览器，您的服务器会话将很快超时。但仍有短暂的延迟。这种方法的缺点是你会产生更多的流量，你必须找到一个合适的会话超时值。如果存在一些网络延迟，太短的值可能会导致会话超时。过长的值会增加用户无法重新登录的时间段。

2.  这是我最喜欢的解决方案：不要被限制到根本不允许重新登录。不要将登录状态存储在数据库中。如果用户想在关闭浏览器后重新登录，则会创建一个新的服务器端会话，并且用户提供登录凭据，这很好。旧会话将在超时后被销毁。如果您使用基于容器的安全性，这是默认行为。我建议使用基于容器的安全性 (JAAS)。为什么要禁止重新登录？

以下是有关 JAAS 的一些链接：

*   [http://docs.oracle.com/javase/6/docs/technotes/guides/security/jaas/JAASRefGuide.html](http://docs.oracle.com/javase/6/docs/technotes/guides/security/jaas/JAASRefGuide.html)
*   [http://www.javaranch.com/journal/2008/04/Journal200804.jsp#a6](http://www.javaranch.com/journal/2008/04/Journal200804.jsp#a6)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-11-22T10:39:57.933

我有一个解决方法来解决这个问题，它是使用一个全局对象将 sessionId 和用户 ID 一起存储，当会话超时时，我们可以从会话销毁事件中获取 sessionId，然后我们可以通过 sessionId 获取用户 ID。请查看我的博客：[会话超时时更新数据库的用户状态](http://blog.csdn.net/allen_jinjie/article/details/53289490)

# php - 从数据库中提取的数据并显示不需要的字符

> ID：14850531
> 
> 赞同：0
> 
> 时间：2013-02-13T09:44:44.567
> 
> 标签：php

如果将全名提交到数据库的名称列并将其拉到网页上，则会在空间上添加一个 + 号。

此外，如果在消息列中的消息文本中有一个“并将其拉到网页上，它会在每个”之前显示一个 \

有没有办法解决这些问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:31:12.677

从您在评论中添加的代码中，将我的评论扩展到答案。'+' 是因为你正在`urlencode`ing 你的一些行。 [urlencode](http://www.php.net/manual/en/function.urlencode.php)用于将成为 URL 的一部分的数据，我认为您想要做的是在 HTML 中显示它，您希望在其中使用[htmlentities](http://www.php.net/manual/en/function.htmlentities.php)。但是在从数据库中提取之后，您需要[在](http://www.php.net/manual/en/function.stripslashes.php)使用`htmlentities`.

看来，当您获取 POST 数据时，您的服务器已经添加了斜杠。根据您的服务器版本，您需要检查[Magic Quotes](http://php.net/manual/en/security.magicquotes.php)，如果启用，则`stripslashes`在将其推送到`mysql_real_escape_string`. 但是，由于您的数据库已经设置好，完全跳过这一段并处理您已经拥有的内容可能会更容易。

旁注，使用“准备好的语句”是一种更好的做法，并且无需使用`mysql_real_escape_string`. ^^

# jquery - 使用 WP Pro 测验的 jQuery 错误

> ID：14850534
> 
> 赞同：0
> 
> 时间：2013-02-13T09:44:52.550
> 
> 标签：jquery, wordpress

刚刚添加了[WP Pro 测验](http://wordpress.org/extend/plugins/wp-pro-quiz/)并在本地添加了一个测验来测试它。当我单击按钮加载测验时，它根本没有加载，我收到以下错误：

```
Uncaught TypeError: Object [object Object] has no method 'wpProQuizFront' 
```

错误所在的jQuery之后加载的脚本是：

```
<script type="text/javascript">
jQuery(document).ready(function($) {
    $('#wpProQuiz_1').wpProQuizFront({
Uncaught TypeError: Object [object Object] has no method 'wpProQuizFront'
        quizId: 1,
        mode: 0,
        globalPoints: 1,
        timelimit: 0,
        resultsGrade: [0],
        bo: 0,
        json: {"1":{"type":"cloze_answer","id":1,"points":1,"correct":[]}}  });
});
</script> 
```

它是从第 371 行的文件 WpProQuiz_View_FrontQuiz.php 加载的：

```
<script type="text/javascript">
jQuery(document).ready(function($) {
    $('#wpProQuiz_<?php echo $this->quiz->getId(); ?>').wpProQuizFront({
        quizId: <?php echo (int)$this->quiz->getId(); ?>,
        mode: <?php echo (int)$mode; ?>,
        globalPoints: <?php echo (int)$globalPoints; ?>,
        timelimit: <?php echo (int)$this->quiz->getTimeLimit(); ?>,
        resultsGrade: <?php echo $resultsProzent; ?>,
        bo: <?php echo $bo ?>,
        json: <?php echo json_encode($json); ?>
    });
});
</script> 
```

. 可以在此处看到加载测验的页面的源 HTML：http: [//pastebin.com/xZVCTxyE](http://pastebin.com/xZVCTxyE)对我来说，代码似乎还可以，并且 $ 已正确编码以运行，但显然有些问题。

我在[WordPress 论坛](http://wordpress.org/support/topic/jquery-typeerror?replies=1)上提出了一个问题，但还没有答案，因为这似乎是一个脚本错误而不是一个特定的 WP 问题，所以我决定在这里寻求帮助。知道如何解决这个问题吗？

**更新**

尝试了一些 jQuery 无冲突选项，例如[这里](http://api.jquery.com/jQuery.noConflict/)，但仍然没有运气。即使没有冲突和/或使用另一个变量，错误也不会消失。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-08T02:32:46.650

问题是我的 footer.php 中没有[页脚调用](http://codex.wordpress.org/Function_Reference/wp_footer)，插件正在使用它来加载页脚中的 JavaScript。我现在添加了这个片段：

```
 <?php
   /* Always have wp_footer() just before the closing </body>
    * tag of your theme, or you will break many plugins, which
    * generally use this hook to reference JavaScript files.
    */
    wp_footer();
?> 
```

以为我使用的基本主题是完整的，但我错了。傻我。现在好了！

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-12T20:25:16.490

我遇到过同样的问题。将 $ 更改为 jQuery。

```
<script type="text/javascript">
    jQuery(document).ready(function($) {
        jQuery('#wpProQuiz_<?php echo $this->quiz->getId(); ?>').wpProQuizFront({
            quizId: <?php echo (int)$this->quiz->getId(); ?>,
            mode: <?php echo (int)$mode; ?>,
            globalPoints: <?php echo (int)$globalPoints; ?>,
            timelimit: <?php echo (int)$this->quiz->getTimeLimit(); ?>,
            resultsGrade: <?php echo $resultsProzent; ?>,
            bo: <?php echo $bo ?>,
            json: <?php echo json_encode($json); ?>
        });
    });
</script> 
```

# jqgrid - 每次打开搜索对话框时如何在 jqgrid 中设置搜索过滤器

> ID：14850537
> 
> 赞同：0
> 
> 时间：2013-02-13T09:44:58.280
> 
> 标签：jqgrid

我在我的项目中使用 jqgrid 高级搜索。一切正常。现在我必须在单击搜索按钮时显示默认搜索条件。请告诉我如何实现这一目标。我在 beforeShowSearch 中尝试过以下代码

```
var postdata = 
                {
                    filters: '{"groupOp":"AND","rules":[' +
                            '{"field":"invdate","op":"gt","data":"2007-09-06"}]}'
                };
                grid.jqGrid('setGridParam', { search: true, postData: postdata }); 
```

它很有用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T11:16:43.977

如果您需要在每次打开高级搜索对话框时重置搜索过滤器，则不能`beforeShowSearch`在这种情况下使用回调，因为*在*调用. 您可以做的是添加关于[navButtonAdd](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3acustom_buttons)的自定义搜索按钮，该按钮看起来与原始搜索按钮完全一样，并使用[navGrid](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3anavigator#parameters)的选项来没有标准按钮。在您内部可以重置[searchGrid](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3asinge_searching#calling_conventions)调用之前的属性。`postData.filters`*`beforeShowSearch``search: false``onClickButton``filters``postData`*

 *或者，您可以重置回调`postData.filters`内部的值并使用高级搜索选项强制在每次打开搜索对话框时创建新过滤器。`loadComplete``recreateFilter: true`

[该演示](http://www.ok-soft-gmbh.com/jqGrid/DefaultSearchingFilter.htm)演示了最后一种方法。它首先定义变量

```
var defFilter = '{"groupOp":"AND","rules":[{"field":"invdate","op":"gt","data":"2007-09-06"}]}'; 
```

并`loadComplete`用于重置过滤器

```
loadComplete: function () {
    $(this).jqGrid("getGridParam", "postData").filters = defFilter;
} 
```*

# php - 确保 php 脚本仅在本地运行

> ID：14850538
> 
> 赞同：3
> 
> 时间：2013-02-13T09:44:59.730
> 
> 标签：php, linux

我正在通过 linux cronjob 运行 PHP 脚本，并且我想确保它只能从我指定的 ip 地址的计算机以及通过 cronjob 远程运行。现在，我可以从 中检查远程 ip 地址`$_SERVER['REMOTE_ADDR']`，但这样做也会通过 cronjob 停止执行。那么，如何使这两个工作正常进行？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T09:47:50.407

将 cronjob 从您的 Web 根目录中删除。

然后你可以检查 cron 是否在 cli 上运行：

```
if (php_sapi_name() != 'cli') {
    die();
} 
```

通过网络服务器调整 cron 并不是一个好主意。然后每个人都可以开始它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-13T09:48:38.620

您还需要检查它是否也从命令行运行以处理 cron 情况

```
if (php_sapi_name() == 'cli' || $_SERVER['REMOTE_ADDR'] == 'your.ip.add.ress') {
    // allow
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-13T09:51:46.223

`php_sapi_name`除了检查 IP 地址之外，您还可以使用函数检查本地 (cron) 执行情况，如下所示：

```
if (php_sapi_name() == 'cli' || $_SERVER['REMOTE_ADDR'] == 'xxx.yyy.zzz.vvv') {
    //do your stuff
}
else {
    /show some error
} 
```

也就是说，您需要记住远程地址很容易被欺骗，因此依赖它并不好，至少在服务器对互联网开放的情况下。如果您在本地网络上运行，它会更安全一些。

# coffeescript - Coffeescript - 在 onclick 中引用类方法

> ID：14850541
> 
> 赞同：0
> 
> 时间：2013-02-13T09:45:17.993
> 
> 标签：coffeescript

我只是想知道我怎样才能让它工作？

尝试在单击时引用方法

```
class C

  @f: () ->
    alert 'works'
    null

  constructor: () ->
    console.log @f # why is this undefined?
    document.onclick = @f

new C() 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T09:57:33.803

这是因为`@f`编译`this.f`为`this`构造函数本身。

要访问类方法`f`，您必须编写`C.f`：

```
class C

    @f: () ->
        alert 'works'
        null

    constructor: () ->
        console.log C.f
        document.onclick = C.f 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-13T10:00:16.903

我假设您想绑定实例方法而不是类方法

```
class C
    #this defines a class method
    @f: () ->
        alert 'works'
        null

    #this is an instance method
    f: () ->
        alert 'works'
        null

    constructor: () ->
        console.log @f # why is this undefined?
        document.onclick = @f

 new C() 
```

# web-services - Biztalk Server 是否支持不使用 Web 服务的数据交换

> ID：14850542
> 
> 赞同：0
> 
> 时间：2013-02-13T09:45:19.123
> 
> 标签：web-services, odbc, biztalk, esb

由于我对 ESB 如何与数据库协同工作知之甚少，因此我在问一个关于两者之间如何进行通信的问题，希望我至少能指出正确的搜索方向！

**情况：**我们在不同的网络上有两个系统（其中一个是客户端的），它们有自己的数据库。我们需要对我们数据库中存在的所有点与其他点进行定期实时数据交换。我们还需要有一项规定才能将数据导入我们的系统。这种交换必须遵循**SOA 功能**而不是客户提供的***Biztalk ESB***。我们应该通过使用***ODBC***来提供交换。

**问题**：我的疑问是是否可以将数据库作为一些端点集成到 ESB 中而不使用任何**WEBSERVICES**或额外的接口，并通过 ESB 作为拉推传输机制发送数据？

我曾尝试在网上搜索这种情况，但没有想出很多直截了当的答案。有人可以指出我正确的方向。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T00:10:22.847

BizTalk 中的 ESB 工具包不是 ESB！它只是一些特殊情况下的小附加工具。让我们停止讨论 ESB，我们需要解决技术问题，对吗？据我了解，您有两个 SQL 数据库并希望将它们集成。要使用 BizTalk 执行此操作，最简单的方法是使用 WCF-SQL 端口/适配器。您为此适配器启动向导，选择应该提供数据/使用数据的表/sp-s，向导将为您生成所有需要的 Xml 模式。然后，您将使用 BizTalk Mapper 创建 Xslt 映射，它将一种 SQL 数据格式传输到另一种。他们将创建一对端口。一个将使用来自一个 SQL 数据库的数据，第二个将数据插入另一个 SQL 数据库。此端口之一将使用上面提到的 Xslt 映射。如果您需要更多处理，

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T18:34:24.170

我建议使用 MSMQ。[这里](http://rajsinghblog.wordpress.com/2009/12/15/sending-messages-from-esb-toolkit-to-msmq/)有相当详细的描述

# magento - 显示类别画廊

> ID：14850543
> 
> 赞同：0
> 
> 时间：2013-02-13T09:45:30.370
> 
> 标签：magento, magento-1.7

我正在做一个网站。我的客户希望我在主页上显示类别的画廊。我尝试了特色类别 beta 扩展，但没有成功。请建议我可以使用的任何其他免费扩展或任何显示它的方法。请，我是一个崭露头角的开发人员。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T13:48:38.547

您的意思是为块中的每个类别显示一个滑块？

您应该考虑复制用于主菜单的功能（请参阅 /app/code/core/Mage/Catalog/Block/Navigation.php 以了解其工作原理）并将其与您的自定义布局相结合。

或者你可以自己做

```
Mage::helper('catalog/category')->getStoreCategories(); 
```

将返回当前商店中所有 1 级类别的数组。

然后，您可以运行 foreach 代码来根据需要创建幻灯片。

此致，

# jquery - 启用和禁用 div 以在单击 div 时获取单击事件

> ID：14850547
> 
> 赞同：0
> 
> 时间：2013-02-13T09:45:48.753
> 
> 标签：jquery, jquery-click-event

我的代码中几乎没有 div，如下所示

```
 <div id="Toggle_ACicon">
       <img id = "imgACicon" src = "../images/Zone4/Z4_Ac-Button-released.png">
       <img id = "imgACiconPressed" src = "../images/Zone4/Z4_Ac-Button-pressed-hi.png">
    </div>

    <div id="Toggle_FanLeft">
       <img id = "imgFanLeft" src = "../images/Zone4/Z4-Fan-Dial-left-released.png">
       <img id = "imgFanLeftPressed" src = "../images/Zone4/Z4-Fan-Dial-left-pressed-hi.png">
    </div>

    <div id="Toggle_FanRight">
       <img id = "imgFanRight" src = "../images/Zone4/Z4-Fan-Dial-right-released.png">
       <img id = "imgFanRightPressed" src = "../images/Zone4/Z4-Fan-Dial-right-pressed-hi.png">
    </div> 
```

每个 div 中的两个图像将在每次单击该 div 时显示默认状态和单击状态。下面的代码为每个 div 执行此操作（在点击时切换）

```
$("#Toggle_FanRight").click(function()
{
    $(this).find('img').toggle();
}); 
```

我的要求是，Toggle_FanLeft 和 Toggle_FanRight 应该只在选择 Toggle_ACicon 时才发生点击事件，否则应该禁用对它们的点击。单击 Toggle_ACicon 应使它们处于活动状态并使其能够接受单击事件。

请帮我 ！！提前致谢 。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T09:49:49.390

在切换之前检查图像是否可见。

```
$("#Toggle_FanRight").click(function()
{
    if($("#Toggle_ACicon").find("img").is(":visible")){
       $(this).find('img').toggle();
    }
}); 
```

# c - 如何通过 gcc 在功能的序言和结尾中植入汇编指令

> ID：14850548
> 
> 赞同：5
> 
> 时间：2013-02-13T09:45:51.033
> 
> 标签：c, gcc, embedded

我尝试为一些 c 项目构建探查器。我希望 gcc 在编译时在所有函数入口和函数出口点中植入一些汇编指令。我尝试在网上搜索一些指南，但没有成功。我在哪里可以学习如何做到这一点？

预先感谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-13T11:05:05.040

显然您可以使用该`-finstrument-functions`标志来获取 gcc 以生成检测调用

```
void __cyg_profile_func_enter(void *func, void *callsite); 
void __cyg_profile_func_exit(void *func, void *callsite); 
```

在函数入口和出口处。我从未使用过它，但快速搜索会[在此处](http://gcc.gnu.org/onlinedocs/gcc-4.5.1/gcc/Code-Gen-Options.html#index-finstrument_002dfunctions-2114)、[此处](http://linuxgazette.net/151/melinte.html)、[此处](http://balau82.wordpress.com/2010/10/06/trace-and-profile-function-calls-with-gcc/)和[此处](http://codingrelic.geekhold.com/2010/09/gcc-function-instrumentation.html)找到信息和示例。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-13T11:03:55.690

除非您想修改`gcc`（这很重要！），否则我认为有两种相当明显的方法。

1.  预处理 C 代码本身 - 这并不容易，但也不是非常难。找到函数的开头和结尾，然后将代码添加到其中，然后让编译器适当地完成编写代码的工作......市场上有很多工具以一种或另一种方式做到这一点，例如多种用途[代码流分析、分析等]。
2.  获取 gcc 的汇编器输出并对其进行处理以将代码添加到那里的函数中。这在某些方面更容易，在某些方面更难。识别函数可能不再困难，但“不破坏”汇编代码可能更难，除非您插入的汇编代码完全“安全”。

显然，修改的选项`gcc`也是一种可能，但编译器代码相当复杂，除非你基本上把所有现有的钩子都用于`gprof`，否则我不认为这是一个学校项目——除非你正在攻读博士学位或一些这样的。

# android - Android：NFC APDU 命令响应“6700”长度错误“

> ID：14850550
> 
> 赞同：0
> 
> 时间：2013-02-13T09:46:02.357
> 
> 标签：android, command, nfc

我正在向 ISODep 标签发送以下 APDU 命令，但我收到“6700 长度错误”

```
byte[] command = new byte[]{ (byte)0x80,  (byte)0xD0, (byte)0x01, (byte)0x00, (byte)0x07,(byte)0x22 , (byte)0x22,(byte)0x12 , (byte)0x34 , (byte)0x56 , (byte)0x78 , (byte)0x90  }; 
```

请提出上述命令是否有问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-06-25T15:50:31.657

您正在那里发送一个案例 4 APDU，对吗？你的 Lc 表示 0x07 字节的数据，并且有一个 0x90 的 Le 尾随。请检查您的规范是否该命令实际上需要一个案例 4 结构，或者您是否只是在 Lc 字段中获取了错误的数据长度（0x08 而不是 0x07）。

# javascript - javascript 正则表达式用于包含至少 8 个字符、1 个数字、1 个大写和 1 个小写的密码

> ID：14850553
> 
> 赞同：83
> 
> 时间：2013-02-13T09:46:14.620
> 
> 标签：javascript, jquery, regex, validation

我正在尝试编写一个正则表达式来验证必须满足以下条件的密码：

*   至少包含 8 个字符
*   至少包含 1 个数字
*   至少包含 1 个小写字符 (az)
*   至少包含 1 个大写字符 (AZ)
*   仅包含 0-9a-zA-Z

我尝试了以下方法，但似乎不起作用。

[http://jsfiddle.net/many_tentacles/Hzuc9/](http://jsfiddle.net/many_tentacles/Hzuc9/)

```
<input type='button' value='click' class='buttonClick' />
<input type='text' />
<div></div> 
```

和...

```
$(".buttonClick").click(function () {

    if ($("input[type=text]").filter(function () {
        return this.value.match(/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])([a-zA-Z0-9]{8})$/);
    })) {
        $("div").text("pass");
    } else {
        $("div").text("fail");
    }

}); 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：235
> 
> 时间：2013-02-13T09:56:58.083

您的正则表达式应如下所示：

```
/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/ 
```

这是一个解释：

```
/^
  (?=.*\d)          // should contain at least one digit
  (?=.*[a-z])       // should contain at least one lower case
  (?=.*[A-Z])       // should contain at least one upper case
  [a-zA-Z0-9]{8,}   // should contain at least 8 from the mentioned characters
$/ 
```

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2013-02-13T09:56:50.990

使用单独的正则表达式来测试不同的部分比试图让一个正则表达式覆盖所有部分要容易得多。它还可以更轻松地添加或删除验证标准。

另请注意，您的用法`.filter()`不正确；它总是会返回一个 jQuery 对象（在 JavaScript 中被认为是真实的）。就个人而言，我会使用`.each()`循环来遍历所有输入，并报告单个通过/失败状态。如下所示：

```
$(".buttonClick").click(function () {

    $("input[type=text]").each(function () {
        var validated =  true;
        if(this.value.length < 8)
            validated = false;
        if(!/\d/.test(this.value))
            validated = false;
        if(!/[a-z]/.test(this.value))
            validated = false;
        if(!/[A-Z]/.test(this.value))
            validated = false;
        if(/[^0-9a-zA-Z]/.test(this.value))
            validated = false;
        $('div').text(validated ? "pass" : "fail");
        // use DOM traversal to select the correct div for this input above
    });
}); 
```

[工作演示](http://jsbin.com/ozovod/1)

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-02-13T09:51:11.137

至少 8 = `{8,}`:

```
str.match(/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])([a-zA-Z0-9]{8,})$/) 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-13T09:50:06.930

您的正则表达式仅允许 8 个字符。用于`{8,}`指定八个或更多而不是`{8}`。

但是为什么要限制密码的允许字符范围呢？*我的手机* 可以在几分钟内暴力破解 8 个字符的字母数字密码。

# python - 将python脚本的返回值捕获到shell脚本中

> ID：14850555
> 
> 赞同：1
> 
> 时间：2013-02-13T09:46:23.537
> 
> 标签：python, shell

我有一个 shell 脚本，我在其中调用 python 脚本说`new.py`：

```
#!/usr/bin/ksh

python new.py 
```

现在这`new.py`就像 -

```
if not os.path.exists('/tmp/filename'):
    print "file does not exist"
    sys.exit(0) 
```

如果文件没有退出，则 python 脚本返回，但 shell 脚本继续执行。如果文件不退出并且我的 python 脚本退出，我希望 shell 脚本也停止。

请建议我如何捕获 shell 脚本中的返回以进一步停止其执行。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-13T09:49:16.960

您需要从退出函数返回零以外的值。

```
if os.path.exists("/tmp/filename"):
    sys.exit(0)
else:
    sys.exit(1) 
```

错误值只有8位，所以只有整数的低8位返回给shell。如果您提供负数，则将返回二进制补码表示的低 8 位，这可能不是您想要的。您通常不会返回负数。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-13T09:53:00.960

```
if ! python new.py
then
  echo "Script failed"
  exit
fi 
```

这假定 Python 脚本`sys.exit(0)`在您的 shell 脚本*应该继续*运行和`sys.exit(1)`（或其他一些非零值）它应该停止时使用（通常在发生错误时返回非零退出代码）。

# c++ - 如何避免泛型函数模板中的额外副本？

> ID：14850556
> 
> 赞同：2
> 
> 时间：2013-02-13T09:46:23.933
> 
> 标签：c++, templates, c++11

**背景**

我有一些用于`boost::variant`存储多种类型的持久性通用代码。在输出值时，我必须编写一个转换器函数`protected_backslash_n`，它在默认情况下什么都不做，但返回相同的值。

在模板参数是 a 的特殊情况下，`std::string`我使用它`boost::regex_replace()`来搜索`\n`和替换它`\\n`。

**问题**

*代码工作正常，但如果我可以在通用情况下摆脱额外的副本，那就太好了，因为 return-by-value*。

有没有办法在允许专用`std::string`版本正常工作的同时做到这一点？

我尝试将返回值更改为`T const&`，但是专用版本将不匹配。

**错误**

```
GetPipedValues.hpp:15:21: error: template-id ‘protect_backslash_n<std::string>’ for ‘std::string pitbull::protect_backslash_n(const string&)’ does not match any template declaration 
```

**代码**

```
template<typename T>
inline T protect_backslash_n( T const& orig )
{
    return orig;  // BAD: extra copy - how do I get rid of this?
}

template<>
inline std::string protect_backslash_n<std::string>( std::string const& orig )
{
    boost::regex expr("(\\n)");
    std::string  fmt("(\\\\n)");
    return boost::regex_replace(
        orig, expr, fmt, boost::match_default | boost::format_all
    );
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T10:01:19.900

不要让它成为一个模板，而只是一个重载。如果参数匹配，编译器将选择该函数而不是模板实例化。

```
std::string protect_backslash_n( std::string const& orig); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:59:36.933

这应该很简单：

```
 template <typename T>
  T const& protect_backslash_n(T const& orig)
  { 
    return orig; 
  } 
```

和`std::string`你拥有的版本。也许您将需要额外的重载，例如采用非常量引用。在 C++11 中，该函数应该`std::forward<T>`在默认情况下模仿。

# ios - SQLite Order By 将变音符号和特殊字符放在末尾

> ID：14850559
> 
> 赞同：4
> 
> 时间：2013-02-13T09:46:30.157
> 
> 标签：ios, sqlite, cordova, sql-order-by

我正在使用 Phonegap 为 iOS 做一个字典应用程序。

在查询数据库以获取按字母顺序排列的列表时，我使用`COLLATE NOCASE`：

```
ORDER BY term COLLATE NOCASE ASC 
```

这解决了以小写字母开头的术语附加到末尾的问题（从[那个问题中](https://stackoverflow.com/questions/2413427/how-to-use-sql-order-by-statement-to-sort-results-case-insensitive)提取）。

然而，像öäüéêè这样的非标准字符最终仍然会被排序~这里有2个例子：

```
 Expected: Öffnungszeiten     Oberved: Zuzahlung
              Zuzahlung                   Öffnungszeiten

(or)          clé                         cliquer sur
              cliquer sur                 clé 
```

我环顾四周，发现[此处](https://stackoverflow.com/questions/7813069/sqlite-3-character-issue-while-ordering-by-records)或[此处](https://stackoverflow.com/questions/3317672/how-to-order-sqlite-results-containing-umlauts-and-other-special-characters)讨论的类似问题，但似乎一般建议是安装某种类型的扩展

> 此扩展程序可能可以帮助您...
> 
> ...使用 ICU 作为扩展
> 
> SQLite 支持与 ICU 集成...

但是我不确定这是否适用于我的数据库不是由我自己托管而是在客户设备上运行的情况。所以我想我会用我的应用程序包来发布这个扩展。
我对 iOS 不是很熟悉，但我感觉这会很复杂——至少。

同样在[官方论坛](https://discussions.apple.com/thread/1700571?start=0&tstart=0)中，我发现了这个提示：

```
SQLite does not properly handle accented characters. 
```

并且在文字的后面一点，海报提到了 SQLite 中的一个错误。

我发现的所有链接都没有活跃 >= 1 年，而且似乎都没有处理我目前正在开发的移动环境。
所以我想知道是否还有其他人在他们的 iOS 项目上找到了解决方案。

文档指出它们只有 3 个默认的 COLLATION 选项：

> 6.0 整理序列
> 
> 当 SQLite 比较两个字符串时，它使用排序序列或排序函数（两个词表示同一事物）来确定哪个字符串更大或两个字符串是否相等。SQLite 具有三个内置的整理函数：BINARY、NOCASE 和 RTRIM。
> 
> ```
> BINARY - Compares string data using memcmp(), regardless of text encoding.
> NOCASE - The same as binary, except the 26 upper case characters of ASCII are folded to their lower case equivalents before the 
> ```
> 
> 进行比较。请注意，只有 ASCII 字符是大小写折叠的。由于所需表的大小，SQLite 不会尝试进行完整的 UTF 大小写折叠。RTRIM - 与二进制相同，只是忽略尾随空格字符。

目前我最好的猜测是在 JavaScript 中进行排序，但我怀疑这对整体性能没有任何好处。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-25T00:00:26.540

原因是 iOS 上的 SQLite 没有启用 ICU（Unicode 国际组件）。所以你需要[构建你自己的启用 ICU 的 SQLite 版本](https://www.sqlite.org/compile.html#enable_icu)+ 你自己的 ICU 版本作为静态库 + 添加 ICU .dat 并使 SQLite 加载这个 .dat 文件。然后您可以通过一个简单的 SQL 命令加载任何排序规则（即 'icu_load_collat​​ion("de_DE", "DEUTSCH")'，在数据库打开后一次）

这不仅听起来像是肮脏的工作，而且确实如此。尝试找到所有已经完成的 SQLite + ICU 版本。

# ruby-on-rails - Rails 在本地运行良好，但在 heroku 中却不行

> ID：14850560
> 
> 赞同：1
> 
> 时间：2013-02-13T09:46:32.363
> 
> 标签：ruby-on-rails, heroku

我已经为 root 创建了一个自定义页面，并在 routes.rb 中进行了相应更改。我在使用 git 之前删除了 public/index.html 文件，但应用程序仍然在 heroku 中查找 public/index.html 文件。该应用程序在本地运行良好但问题是在heroku中部署时。请提出一些解决方案？我的Gemfile包含

```
source 'https://rubygems.org'
gem 'rails', '3.2.11'
group :development do
  gem 'sqlite3', '1.3.5'
end
group :assets do
  gem 'sass-rails','3.2.4'
  gem 'coffee-rails', '3.2.2'
  gem 'uglifier', '1.2.3'
end
gem 'jquery-rails'
gem 'thin' 
```

而且我没有在我的应用程序中使用数据库。控制器只是对 json 字符串进行一些计算。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T10:09:21.190

我相信你已经使用过：

```
git add .
git commit -m "blabla" 
```

但是，`git add .`不要寻找已删除的文件，所以`public/index.html`仍然存在。

您必须使用`git add -u`来包含已删除的文件。

或者，您可以使用`git add -A`，这相当于`git add .`plus `git add -u`。

**编辑**- 一步一步的评论：

```
git add -A                #add everything (including deleted files)
git commit -m "blabla"    #commit it
git push                  #push from your pc to your git repository
git push heroku           #push from your git repository to heroku 
```

如果您已删除该`public/index.html`文件，它必须工作。

**编辑**将以下内容添加到您的 gemfile 中：

```
group :production do
  gem 'pg'
end 
```

比：

```
RAILS_ENV=production bundle exec rake assets:precompile
git add -A
git commit -m "blabla"
git push
git push heroku 
```

# python - 这是如何做到的：在Python中使用backet实现if语句？

> ID：14850561
> 
> 赞同：0
> 
> 时间：2013-02-13T09:46:32.857
> 
> 标签：python, if-statement

我看到了Python的这种用法，很干净，但是我不是很了解这种用法​​，也无法搜索任何有用的解释。

1.  这是正常的方法：

    ```
    if a < 0:
        b = 2 * a
    else:
        b = 3 * a 
    ```

2.  这实现了相同的目的：

    ```
    b = a * (3,2) [a<0] 
    ```

有人可以告诉我 **官方文档在哪里对上述内容进行了说明吗？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T09:48:44.027

`b = a * (3,2) [a<0]`

`a<0`是一个返回的条件，`true or false`即`1/0`

`(3,2)`是一个带有`3`和`2`作为元素的元组

如果条件是`true`语句将在索引处索引元素，`1` 否则它将索引到元素`0`

喜欢

```
In [33]: (3,2)[0]
Out[33]: 3

In [34]: (3,2)[1]
Out[34]: 2 
```

条件导致`0`or`1`因为在 python`True means 1`和`False means 0`

```
In [35]: True == 1
Out[35]: True

In [36]: False == 0
Out[36]: True 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-13T09:48:31.803

仅将第二个选项用于打高尔夫球的目的。文档对这种语法确实没有多说，但[*Python 之禅*](http://www.python.org/dev/peps/pep-0020/)确实声明“简单胜于复杂”，并且“可读性很重要”。您应该使用第一个选项。

您还可以使用 Python 的*三元运算符*：

```
b = a*(2 if a < 0 else 3) 
```

# ssis - SSIS可以从数据库表参数值中读取文件路径吗？

> ID：14850563
> 
> 赞同：0
> 
> 时间：2013-02-13T09:46:41.787
> 
> 标签：ssis

是否可以从数据库表参数值中读取文件路径？

我有使用平面文件连接管理器的传出文件，如何定义从数据库表参数值读取的文件路径？

我还有一个使用 foreach 枚举器的传入文件，如何定义从数据库表参数值读取的文件路径？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T16:47:21.007

在“执行 SQL 任务”中，查询数据库表中的路径并将结果分配给变量。然后在连接管理器连接字符串表达式中使用这些变量。

# java - 从 twitter 获取公开状态

> ID：14850569
> 
> 赞同：0
> 
> 时间：2013-02-13T09:46:52.653
> 
> 标签：java, twitter, twitter4j

如何从 twitter4j访问此 URL [https://stream.twitter.com/1.1/statuses/firehose.json ？](https://stream.twitter.com/1.1/statuses/firehose.json)我希望这将返回所有公共状态。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T09:54:58.137

这应该有效。

```
Twitter twitter = TwitterFactory.getSingleton();
List<Status> statuses = twitter.getHomeTimeline();
System.out.println("Showing home timeline.");
for (Status status : statuses) {
    System.out.println(status.getUser().getName() + ":" +
                       status.getText());
} 
```

# android - android保持内存饥饿的bakground服务

> ID：14850570
> 
> 赞同：0
> 
> 时间：2013-02-13T09:46:52.820
> 
> 标签：android, memory, service, android-service

在我的应用程序中，我需要下载、处理和存储（在 SQLite 中）大约 400MiB 的 HTML 文档。问题在于将这么多数据插入 sqlite（约 60k 插入）需要很长时间。我使用事务和预编译语句，但仍然需要很多时间。在低端手机上，最多可能需要两个小时。高端的至少需要 10-12 分钟。

所有这一切都是在一个 中完成的`IntentService`，所以它可以在应用程序在后台运行时继续。为了加快速度，我`largeHeap`在清单中要求最多，并根据 VM 可用的内存设置事务大小。多亏了这一点，该服务可以轻松占用 100MiB 的 RAM。因此，该服务在应用程序进入后台后不久就被终止/暂停。我`startForeground`在中使用`Service`并显示下载进度，但没有帮助。

即使在 HTC One X 等高端手机上，即使系统在此过程中拥有超过 200MiB 的可用 RAM，也会发生这种情况。

有没有办法保护这个需要内存的服务不被系统杀死？目前，该进程看起来像是重新启动并且正在循环处理一个段，因为系统在完成该段之前就终止了。设置较小的事务大小将减少内存消耗，但会增加时间，在高端手机上超过 25 分钟是不可接受的。

**编辑：** 这主要是在 Android 4 和更新版本上的问题。Android 2.3.3 看起来更加稳定。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T12:45:11.287

> 在我的应用程序中，我需要下载、处理和存储（在 SQLite 中）大约 400MiB 的 HTML 文档。

考虑下载和存储一个 400MiB 的 SQLite 数据库和文档，其中数据库是在服务器上准备的。

此外，请仅下载该数据库并将其存储在外部存储中，至少对于 Android 2.x 设备。

> 有没有办法保护这个需要内存的服务不被系统杀死？

不。

> 几个月前，我尝试了存储选项并将这些文档存储为文件被丢弃，因为它大约有 6 万个（是的，60 个）文档，即文件。

这并不能解释为什么您认为 400MiB 的数据库优于包含 60,000 个文件的目录结构。

# jquery - 使用每个从表单中获取输入字段值

> ID：14850572
> 
> 赞同：1
> 
> 时间：2013-02-13T09:46:59.637
> 
> 标签：jquery, backbone.js

我有多种形式的布局。我想要的是使用 .each 方法一个一个地获取这些表单，使用类选择器循环通过其输入值并获取在 JSON 对象中构造的这些值。在获取值方面需要帮助

```
this.$('form').each(function(index){
console.log($(this).children('.itemName').val()); 
```

这是在主干视图中完成的。这行不通。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T09:50:52.900

将表单序列化为 JSON 的最简单方法是使用[`jQuery's serializeArray()`](http://api.jquery.com/serializeArray/)

```
JSON.stringify($('form').serializeArray()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:51:21.187

您必须在给定元素中搜索您的输入元素。

由于您的主干视图可能使用`this.el`您的代码，因此您的代码可能如下所示：

```
$('form :input',this.el).each(function(index){
  if($(this).hasClass('itemName')) {
    console.log($(this).val());
  }
} 
```

您还可以像这样过滤结果：

```
var $inputs = $('form :input',this.el);
$inputs.filter(".item_name").each(function(){
  console.log("item name value:", $(this).val());
});
$inputs.filter(".itemQty").each(function(){
  console.log("itemQty element value:", $(this).val());
}); 
```

如果你只有一个元素，你也可以跳过`$.each`：

```
var $form= $('form',this.el);
console.log($(".itemName", $form).val());
console.log($(".itemQty ", $form).val()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T09:52:27.617

你可以通过这个 jQuery 获得：

```
 $('form input').each(function(){ 
        alert($(this).val()); 
    }); 
```

# android - 无法保留嵌套片段

> ID：14850573
> 
> 赞同：13
> 
> 时间：2013-02-13T09:47:01.563
> 
> 标签：android, android-fragments, android-fragmentactivity

还有另一种保存嵌套片段状态的方法吗？或者如果我们不应该这样做，为什么？谢谢 ！

```
02-13 11:42:43.258: E/AndroidRuntime(7167): java.lang.IllegalStateException: Can't retain fragements that are nested in other fragments
02-13 11:42:43.258: E/AndroidRuntime(7167):     at android.support.v4.app.Fragment.setRetainInstance(Fragment.java:742) 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-13T10:11:22.543

您可以使用[`FragmentManager.saveFragmentInstanceState(Fragment)`](http://developer.android.com/reference/android/support/v4/app/FragmentManager.html#saveFragmentInstanceState%28android.support.v4.app.Fragment%29)来检索片段状态。返回值实现了 Parcelable，所以你可以把它放在一个 Bundle 中。

对于恢复，您可以使用创建片段后的状态[`Fragment.setInitialSavedState(Fragment.SavedState)`](http://developer.android.com/reference/android/support/v4/app/Fragment.html#setInitialSavedState%28android.support.v4.app.Fragment.SavedState%29)。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2015-01-28T08:29:59.217

由于支持库 20+ ( [https://code.google.com/p/android/issues/detail?id=74222](https://code.google.com/p/android/issues/detail?id=74222) )，子片段的实例娱乐存在一个错误，有一个修复 - [http:// /ideaventure.blogspot.com.au/2014/10/nested-retained-fragment-lost-state.html](http://ideaventure.blogspot.com.au/2014/10/nested-retained-fragment-lost-state.html)

网页中的代码（将此添加到您的父片段） -

```
private FragmentManager childFragmentManager() {//!!!Use this instead of getFragmentManager, support library from 20+, has a bug that doesn't retain instance of nested fragments!!!!
        if(mRetainedChildFragmentManager == null) {
            mRetainedChildFragmentManager = getChildFragmentManager();
        }
        return mRetainedChildFragmentManager;
    }

    @Override
    public void onAttach(Activity activity) {
        super.onAttach(activity);

        if (mRetainedChildFragmentManager != null) {
            //restore the last retained child fragment manager to the new
            //created fragment
            try {
                Field childFMField = Fragment.class.getDeclaredField("mChildFragmentManager");
                childFMField.setAccessible(true);
                childFMField.set(this, mRetainedChildFragmentManager);
            } catch (NoSuchFieldException e) {
                e.printStackTrace();
            } catch (IllegalAccessException e) {
                e.printStackTrace();
            }
        }
    }
 @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setRetainInstance(true);

    } 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-10-19T12:36:48.813

[在此AOSP 提交](https://android.googlesource.com/platform/frameworks/support/+/c077b4cd990a9f220a27ad5eca04828e17136064)之后，这不再是最新支持库的限制。

以下是提交消息：

> 允许嵌套片段上的 setRetainInstance(true)
> 
> 将配置更改中的任意嵌套片段保存为非配置对象。这允许将保留实例子片段用作其他片段中的任意不透明依赖项。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-08-05T13:08:55.383

**问题：** `mChildFrgamentManager`正在重新创建（[https://code.google.com/p/android/issues/detail?id=74222](https://code.google.com/p/android/issues/detail?id=74222)）
**解决方法：**`mChildFrgamentManager`如果片段有，则保留`setRetainInstance(true)`：

```
@Override
public void onAttach(Activity activity) {
    super.onAttach(activity);

    if (getRetainInstance()) {
        if (mRetainedChildFragmentManager != null) {
            try {
                Field childFMField = Fragment.class.getDeclaredField("mChildFragmentManager");
                childFMField.setAccessible(true);
                childFMField.set(this, mRetainedChildFragmentManager);
            } catch (NoSuchFieldException e) {
                e.printStackTrace();
            } catch (IllegalAccessException e) {
                e.printStackTrace();
            }
        } else {
            mRetainedChildFragmentManager = getChildFragmentManager();
        }
    }
} 
```

**警告：**使用此代码，`setRetainInstace`应在之前调用`onAttach`。

PS：这是@attels 答案的一些改进版本。

# mysql - Mysql子查询很慢

> ID：14850580
> 
> 赞同：2
> 
> 时间：2013-02-13T09:47:47.750
> 
> 标签：mysql, sql, subquery

我有这个 MySQL 问题。它工作正常，但速度极慢。运行最多需要 30 秒。

```
SELECT t.Id, Subject, k.info
FROM tip t
LEFT JOIN comments k ON t.Id = k.Tipid
WHERE event = 1
AND k.Id
IN (
SELECT Max(Id) FROM comments GROUP BY Tipid
) 
```

如果我只运行子查询 ( `SELECT Max(Id) FROM comments GROUP BY Tipid`)，运行大约需要 0.02 秒。

子查询有问题。你有什么想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T09:58:57.573

如果您选择 max(id)，则不需要 group by 试试这个

```
 SELECT t.Id, Subject, k.info
    FROM tip t
    LEFT JOIN comments k ON t.Id = k.Tipid
    WHERE event = 1
    AND k.Id in (select Max(Id) from comments) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T09:52:08.497

试试这个：

```
SELECT t.Id, t.Subject, c.info
FROM tip t
LEFT JOIN
(
   SELECT Tipid, MAX(Id) AS MaxId
   FROM comments 
   GROUP BY Tipid
) AS c  ON t.Id = c.Tipid
       AND t.Id = c.MaxId
WHERE t.event = 1; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T13:25:30.717

这有很多原因......我想你试试这个......

```
SELECT t.Id, Subject, k.info
FROM tip t
INNER JOIN comments k ON t.Id = k.Tipid
WHERE event = 1
  AND k.Id IN ( SELECT Max(Id) FROM comments GROUP BY Tipid ) 
```

因为 LEFT JOIN 在 50 条记录后变得太慢。

# c# - 如何使用 XML 加密语法和处理规范解密存储在 XML 中的数据？

> ID：14850584
> 
> 赞同：0
> 
> 时间：2013-02-13T09:47:53.257
> 
> 标签：c#, xml, encryption, encryption-symmetric

在我知道密码的情况下，如何使用 C# 解密这个 XML 文件？

```
<EncryptedData xmlns="w3.org/2001/04/xmlenc#"; Type="w3.org/2001/04/xmlenc#Element"; Salt="Gnk/DB61AQ==" IV="iYcfV0NOGy0="> 
<EncryptionMethod Algorithm="w3.org/2001/04/xmlenc#tripledes-cbc"; /> 
<CipherData>
 <CipherValue>/TtgJ46P9L23ZeGt67n+2OZGXoHiGWcUAWE8CdN1Z2aiF40fAg6DfBWGx62RB7Botxr‌​w+f1Jf1CtR10iMLw0iz+VIcbaPFZj5ZfCm3aDeDLbnwXdb7mIdzNtF/5EOjNph/kPz7PxcUlAOUvsLLmj‌​Gtx92EhWL6KpXufKahnRiwLuZLNc</CipherValue>
</CipherData>
</EncryptedData> 
```

我试过了

```
public static string Decryption(string CypherText, string key) 
{
    byte[] b = Convert.FromBase64String(CypherText); 
    TripleDES des = CreateDES(key);
    ICryptoTransform ct = des.CreateDecryptor();
    byte[] output = ct.TransformFinalBlock(b, 0, b.Length); 
    return Encoding.Unicode.GetString(output); 
} 
```

但是发生了异常

> byte[] 输出 = ct.TransformFinalBlock(b, 0, b.Length); 不良数据

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T09:50:35.770

[http://www.deltasblog.co.uk/code-snippets/basic-encryptiondecryption-c/](http://www.deltasblog.co.uk/code-snippets/basic-encryptiondecryption-c/)

```
 byte[] inputArray = Convert.FromBase64String(input);
          TripleDESCryptoServiceProvider tripleDES = new TripleDESCryptoServiceProvider();
          tripleDES.Key = UTF8Encoding.UTF8.GetBytes(key);
          tripleDES.Mode = CipherMode.ECB;
          tripleDES.Padding = PaddingMode.PKCS7;
          ICryptoTransform cTransform = tripleDES.CreateDecryptor();
          byte[] resultArray = cTransform.TransformFinalBlock(inputArray, 0, inputArray.Length);
          tripleDES.Clear();
          return UTF8Encoding.UTF8.GetString(resultArray); 
```

# ios - 向 UIActivityViewController 添加一个明显的（自定义）按钮

> ID：14850587
> 
> 赞同：10
> 
> 时间：2013-02-13T09:48:00.170
> 
> 标签：ios, objective-c, ipad, uiactivityviewcontroller

我只想添加明显的按钮“在 Safari 中打开”我怎样才能以简单的方式做到这一点。

```
#pragma mark - Share the link
- (IBAction)activityButtonPressed:(id)sender {

    NSString *textToShare = @"I just shared this from my App";
   // UIImage *imageToShare = [UIImage imageNamed:@"Image.png"];
    NSURL *urlToShare = [NSURL URLWithString:@"http://www.google.com"];
    NSArray *activityItems = [NSArray arrayWithObjects:textToShare, urlToShare,nil];
    UIActivityViewController *activityVC = [[UIActivityViewController alloc]initWithActivityItems:activityItems applicationActivities:Nil];
    //This is an array of excluded activities to appear on the UIActivityViewController
    //activityVC.excludedActivityTypes = @[UIActivityTypeMessage, UIActivityTypeCopyToPasteboard,UIActivityTypeSaveToCameraRoll];
    [self presentViewController:activityVC animated:TRUE completion:nil];

} 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2014-02-17T16:47:35.457

正如 nevo shalev 所说，您需要继承[UIActivity 类](https://developer.apple.com/library/ios/documentation/uikit/reference/UIActivity_Class/Reference/Reference.html)

这是一个例子：

网址活动.h

```
#import <UIKit/UIKit.h>

@interface UrlActivity : UIActivity

@end 
```

网址活动.m:

```
#import "UrlActivity.h"

@implementation UrlActivity

- (NSString *)activityType
{
    return @"your Custom Type";
}

- (NSString *)activityTitle
{
    return @"Title to display under your icon";
}

- (UIImage *)activityImage
{
    return [UIImage imageNamed:@"your icon.png"];
}

- (BOOL)canPerformWithActivityItems:(NSArray *)activityItems
{
    // basically in your case: return YES if activity items are urls  
}

- (void)prepareWithActivityItems:(NSArray *)activityItems
{
    //open safari with urls (activityItems)
}

+(UIActivityCategory)activityCategory
{
    return UIActivityCategoryShare; // says that your icon will belong in application group, not in the lower part;
}

@end 
```

在你的主文件中（在导入 UrlActivity.h 之后）：

```
#pragma mark - Share the link
- (IBAction)activityButtonPressed:(id)sender {

    NSString *textToShare = @"I just shared this from my App";
   // UIImage *imageToShare = [UIImage imageNamed:@"Image.png"];
    NSURL *urlToShare = [NSURL URLWithString:@"http://www.google.com"];
    NSArray *activityItems = [NSArray arrayWithObjects:textToShare, urlToShare,nil];

    // create an array with your custom activity and add it to the activityVC
    NSArray *appActivities = [NSArray arrayWithObjects:[[UrlActivity alloc] init]]];
    UIActivityViewController *activityVC = [[UIActivityViewController alloc]initWithActivityItems:activityItems applicationActivities:appActivities];
    //This is an array of excluded activities to appear on the UIActivityViewController
    //activityVC.excludedActivityTypes = @[UIActivityTypeMessage, UIActivityTypeCopyToPasteboard,UIActivityTypeSaveToCameraRoll];
    [self presentViewController:activityVC animated:TRUE completion:nil];

} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-07-22T02:29:16.457

这个项目为你做：[https](https://github.com/davbeck/TUSafariActivity) ://github.com/davbeck/TUSafariActivity它支持 CocoaPods

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-01T11:54:40.573

您需要继承 UIActivity 并实现方法，然后将类添加到 applicationActivities

* * *

## 回答 #4

> 赞同：-6
> 
> 时间：2013-02-13T10:18:13.870

```
#pragma mark - Share the link
- (IBAction)activityButtonPressed:(id)sender {
    NSURL *urlToShare = [NSURL URLWithString:@"http://www.google.com"];
    [[UIApplication sharedApplication] openURL: urlToShare];
} 
```

# c# - 如果用户已经使用 AsyncFileUpload 选择要上传的文件，如何启用/禁用文本框？

> ID：14850589
> 
> 赞同：0
> 
> 时间：2013-02-13T09:48:16.437
> 
> 标签：c#, asp.net

我有一个 ASP 代码：

`<ajax:AsyncFileUpload ID="fuFile" runat="server" Width="250px" />`

带有用于描述的文本框：

`<asp:TextBox ID="txtFileDesc" runat="server" TextMode="MultiLine" Wrap="true" style=" resize: none" Height="50px" MaxLength="200"></asp:TextBox>`

`txtFileDesc`现在，如果用户“PICKED A FILE”（当文件路径的背景变为绿色时）像[http://www.asp.net 中的这个示例](http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/AsyncFileUpload/AsyncFileUpload.aspx)一样，我想启用文本框。

我已经尝试过其他帖子的解决方案，但它们都不适合我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:51:34.543

您可以处理**OnClientUploadStarted** 客户端事件以禁用文本框和**OnClientUploadComplete**事件以在文件完全上传后启用文本框。

你的文件上传应该像

```
<ajax:AsyncFileUpload ID="fuFile" runat="server" Width="250px" OnClientUploadStarted="OnClientUploadStartedFn" OnClientUploadComplete="OnClientUploadCompleteFn"  /> 
```

在 OnClientUploadStarted 上调用此函数

```
 function OnClientUploadStartedFn () {
    $('#textboxId').attr('readonly','readonly');
   } 
```

在 OnClientUploadComplete 上调用此函数

```
function OnClientUploadCompleteFn() {
    $('#textboxId').removeAttr('readonly');
   } 
```

# azure - 用于不同环境的一个或多个关联组？

> ID：14850590
> 
> 赞同：1
> 
> 时间：2013-02-13T09:48:20.480
> 
> 标签：azure, cloud, azure-storage, cloud-hosting, azure-virtual-network

我有一个测试、暂存和生产环境（每个环境中有几个存储帐户和虚拟机）。

**将它们全部基于一个关联组或跨 3 个单独的关联组是否有意义？**

这些环境之间发生的唯一通信是将生产数据库下载并恢复到其他环境（这不是时间关键，但它是几个演出）。

亲和组中的“实体”越多，它们之间的数据传输就越慢吗？我不希望我的生产环境变慢，因为它的 Affinity Group 与 Test 和 Staging 共享。

据我了解，在同一个数据中心传输数据不会产生传输成本。但在 Affinity Group 内传输数据会更快。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T11:18:06.567

关联组是在结构控制器和 Azure 数据中心内物理实现的**可用性和可扩展性概念**，但他们（Microsoft）认为合适。例如，关联组通过在同一个机架（或交换机或其他东西）中共同定位服务来帮助可扩展性。

由于不同环境之间不应该**存在**可用性和可扩展性**依赖关系**（逻辑或物理），因此应该不需要共享关联组。如果您的其中一个环境（例如登台）也是用于生产的备份/恢复环境，那么关联组就会发挥作用。但如果是这种情况，暂存环境无论如何都将位于单独的数据中心（区域）中。

至少在架构上，虚拟网络和其他 IaaS 应该遵循类似的模式。如果您有三个环境（生产、暂存和测试），您应该有三个不同的虚拟网络和三个不同的 VPN 网关。这可能很难通过本地网络人员（他们更熟悉物理网络设备），但您必须将它们分开 - 您不希望测试数据阻塞或破坏生产（虚拟）网络，对吗？ ?

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T10:20:53.610

据我所知，关联组功能的作用是将关联组中的所有项目放在一个数据中心（可能在同一个机架中），从而减少这些项目之间的网络延迟，从而大大提高数据操作速度。

假设您的所有环境（测试、登台和生产）都在同一个数据中心，并且在正常操作下这些环境是隔离的，IMO 将它们保持在相同或不同的关联组中并不重要。

# microsoft-metro - 从自定义外壳运行 Metro 应用程序

> ID：14850591
> 
> 赞同：5
> 
> 时间：2013-02-13T09:48:21.883
> 
> 标签：microsoft-metro, windows-shell, windows-embedded-8

我想为 Windows 8 Embedded Standard（发布预览版）创建一个自定义 shell（WinForms），允许用户运行、安装或更新应用程序（可以是桌面和/或 Metro 应用程序）。

因此，我`explorer.exe`在注册表中替换为我的自定义 shell 的路径，效果很好。当我尝试使用[IApplicationActivationManager运行 Metro 风格应用程序时（请参阅](http://msdn.microsoft.com/en-us/library/windows/desktop/hh706902%28v=vs.85%29.aspx)[此处](http://blogs.msdn.com/b/windowsappdev/archive/2012/09/04/automating-the-testing-of-windows-8-apps.aspx)的实现细节），我收到以下错误消息：

> 应用程序管理器需要激活应用程序，但未运行。（来自 HRESULT 的异常：0x80270257）

事件日志不包含任何附加信息（既不在`Application`也不在`TWinUI`）。

Metro 风格的应用程序在`explorer.exe`用作外壳时运行良好。我还没有找到可以简单地开始允许执行 Metro 应用程序的进程或服务（我尝试运行`WWAHost.exe`，但失败并显示错误消息`The system cannot execute the specified program.`）。手动启动`explorer.exe`不会改变任何东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T10:46:22.847

恐怕我没有适合你的解决方案，但看到这个异常是闻所未闻的（谷歌，我敢）我想我会指出我在 Visual Studio 2012 Designer 中遇到了完全相同的问题尝试将其作为 RemoteApp 运行（安装在 VDI 环境中的 Win8 VM 上）。

!VS2012 抛出的完整异常为[1](http://i.stack.imgur.com/W9dqv.png)

# c++ - 我什么时候可以自信地使用 -O3 编译程序？

> ID：14850593
> 
> 赞同：4
> 
> 时间：2013-02-13T09:48:27.473
> 
> 标签：c++, gcc, compiler-construction, compilation

我看到很多人抱怨`-O3`选项：

*   [GCC：程序不适用于编译选项`-O3`](https://stackoverflow.com/questions/280069)
*   [David Hammen 提供的浮点问题](https://stackoverflow.com/a/14853616/1365960)

我查看了 GCC 的手册：

> ```
>  -O3    Optimize yet more.  -O3 turns on all optimizations
>           specified   by   -O2   and   also   turns  on  the
>           -finline-functions and -frename-registers options. 
> ```

而且我还确认了代码以确保两个选项是`-O3`on 中仅有的两个优化：

```
if (optimize >= 3){
    flag_inline_functions = 1;
    flag_rename_registers = 1;
} 
```

对于这两个优化：

*   `-finline-functions`在某些情况下（主要用于 C++）很有用，因为它允许我们使用 -finline-limit 定义内联函数的大小（默认为 600）。当设置高内联限制时，编译器可能会报告一个错误，抱怨内存不足。
*   `-frename-registers`尝试通过使用寄存器分配后剩余的寄存器来避免调度代码中的错误依赖性。这种优化将最有利于具有大量寄存器的处理器。

对于内联函数，虽然可以减少函数调用的次数，但可能会导致二进制文件很大，因此`-finline-functions`可能会引入严重的缓存惩罚，甚至比 -O2 还要慢。我认为缓存惩罚不仅取决于程序本身。

对于重命名寄存器，我认为它不会对像 x86 这样的 cisc 架构产生任何积极影响。

我的问题有 2.5 个部分：

1.  我是否可以声称使用 -O3 选项是否可以更快地运行程序取决于底层平台/架构？[已回答]

    编辑：

    第一部分已被证实为真实。David Hammen 还声称，我们应该非常小心优化和浮点操作如何在具有扩展精度浮点寄存器（如 Intel 和 AMD）的机器上进行交互。

2.  **我什么时候可以自信地使用`-O3`选项？**我想这两个优化，尤其是重命名寄存器可能会导致与 -O0/O2 不同的行为。我看到一些编译的程序`-O3`在执行过程中崩溃了，它是确定性的吗？如果我运行一个可执行文件一次而没有任何崩溃，这是否意味着它可以安全使用`-O3`？

    编辑：确定性与优化无关，它是一个多线程问题。`-O3`但是，对于多线程程序，当我们运行一次可执行文件而没有错误时，使用它是不安全的。David Hammen 表明`-O3`浮点运算的优化可能违反严格的弱排序标准进行比较。**当我们想使用选项****时，还有其他需要注意的问题吗？`-O3`**

3.  如果第一个问题的答案是“是”，那么当我更改目标平台或在具有不同机器的分布式系统中时，我可能需要在 和 之间进行`-O3`更改`-O2`。有没有什么通用的方法来决定我是否可以通过 获得性能改进`-O3`？比如更多的寄存器，短的内联函数等【已回答】

    编辑：Louen 回答了第 3 部分，因为“平台的多样性使得对这个问题的一般推理变得不可能” 当通过 评估性能增益时`-O3`，我们必须对两者进行尝试并对我们的代码进行基准测试以查看哪个更快。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-13T12:29:53.260

> 2.  我看到一些程序在使用 -O3 编译时崩溃了，这是确定性的吗？

如果程序是单线程的，程序使用的所有算法都是确定性的，如果从运行到运行的输入是相同的，是的。如果其中任何一个条件不成立，答案是“不一定”。

如果您在不使用 -O3 的情况下进行编译，这同样适用。

> 如果我运行一次可执行文件而没有任何崩溃，是否意味着使用 -O3 是安全的？

当然不是。同样，如果您在不使用 -O3 的情况下进行编译，这同样适用。仅仅因为您的应用程序运行一次并不意味着它将在所有情况下都成功运行。这就是使测试成为难题的部分原因。

在浮点寄存器的精度高于双精度的机器上，浮点运算可能会导致奇怪的行为。例如，

```
void add (double a, double b, double & result) {
   double temp = a + b;
   result = temp;
   if (result != temp) {
      throw FunkyAdditionError (temp);
   }
} 
```

编译一个未优化使用此函数的程序，`add`您可能永远不会看到任何`FunkyAdditionError`异常。编译优化并且某些输入会突然开始导致这些异常。问题在于，通过优化，编译器将`temp`生成一个寄存器`result`，而作为引用，不会被编译到寄存器中。添加一个`inline`限定符，当你的编译器编译时这些异常可能会消失，`-O3`因为 now`result`也可以是一个寄存器。关于浮点运算的优化可能是一个棘手的问题。

最后，让我们看一下使用 -O3, [GCC 编译程序时确实出现问题的一种情况：程序不适用于编译选项 -O3](https://stackoverflow.com/questions/280069)。该问题仅发生在 -O3 中，因为编译器可能内联了该`distance`函数，但将其中一个（但不是两个）结果保存在扩展精度浮点寄存器中。通过这种优化，某些点`p1`和`p2`可以导致两者`p1<p2`和`p2<p1`评估为`true`。这违反了比较函数的严格弱排序标准。

您需要非常小心优化和浮点操作如何在具有扩展精度浮点寄存器的机器（例如，Intel 和 AMD）上交互。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-13T10:49:09.117

1）和3）你是对的。有些程序可以从 -O3 启用的优化中受益，有些则不会。例如，内联更多的函数通常会更好（因为它绕过了函数调用机制的开销），但有时它会使事情变得更慢（例如通过削弱缓存局部性）。这和平台的多样性使得对这个问题的一般推理是不可能的。

因此，为了简短起见，唯一有效的答案是：两者都试一试，并对代码进行基准测试，看看哪个更快。

2）假设您没有遇到任何编译器/优化器错误（它们很少见，但它们存在），那么可以合理地假设您的程序中的错误仅在 -O3 处显示，那么它可能一直在那里，只有 -O3 选项发现了它。

# jakarta-ee - org.glassfish.hk2.classmodel.reflect.impl.TypesImpl.getType 的 java.lang.NullPointerException

> ID：14850594
> 
> 赞同：2
> 
> 时间：2013-02-13T09:48:28.373
> 
> 标签：jakarta-ee, nullpointerexception, glassfish

每次部署应用程序时都会收到此错误/警告。我使用 netbeans 7.2.1 IDE、Glassfish 服务器 3.1.2 和 primefaces 3.3.1。部署成功，但我很好奇出现这种情况的原因。

```
SEVERE: Exception while visiting java/lang/Object.class of size 1475
java.lang.NullPointerException
    at org.glassfish.hk2.classmodel.reflect.impl.TypesImpl.getType(TypesImpl.java:78)
    at org.glassfish.hk2.classmodel.reflect.impl.ModelClassVisitor.visit(ModelClassVisitor.java:119)
    at org.objectweb.asm.ClassReader.accept(Unknown Source)
    at org.objectweb.asm.ClassReader.accept(Unknown Source)
    at org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:363)
    at com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:171)
    at com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:133)
    at org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:348)
    at org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:70)
    at org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:307)
    at org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:296)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
    at java.util.concurrent.FutureTask.run(FutureTask.java:166)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:722) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T00:04:44.063

我认为您的问题与这个已知的[错误 Glassfish 18513 相同](http://java.net/jira/browse/GLASSFISH-18513)。前几天我真的在看这个。

据我所知，它不会引起任何问题，但令人不安。它确实有 26 票，所以希望它很快得到修复。

# sql-server - 存储过程中 varchar 输出参数的用途 - 不能“返回 @myvarchar”但可以“选择 @myvarchar”

> ID：14850596
> 
> 赞同：3
> 
> 时间：2013-02-13T09:48:32.650
> 
> 标签：sql-server, sql-server-2005, output-parameter

示例：

```
CREATE PROCEDURE dbo.sp_Delete (@p1 INT, @p2 VARCHAR(10) OUTPUT)
AS
    --@p1 will have calculations done and get a value for @p2
    SET @p2 = 'test'
    RETURN @p2 
```

测试：

```
DECLARE @p2 VARCHAR(100)
EXEC sp_Delete
     @p1 = N'1',
     @p2 = N'' 
```

错误：

```
Conversion failed when converting the varchar value 'test' to data type int. 
```

但是你可以这样做：

```
ALTER PROCEDURE dbo.sp_Delete (@p1 INT)
AS
    --@p1 will have calculations done and get a value for @p2
    SELECT 'test'

    EXEC sp_Delete
         @p1 = N'1' 
```

所以我的问题是，当你不能使用“return @myvar”如果它是一个 varchar 时，拥有一个 varchar 类型的 OUTPUT 参数有什么用（注意我不是在质疑一个 int 类型的输出参数）。您可以只“选择@myvar”。我试图弄清楚我做错了什么，因为我认为我不了解特定 varchar 输出变量的使用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T09:52:32.480

输出变量不同于返回值。返回值始终是整数。您可以像这样检索它：

```
exec @retval = dbo.MyStoredProcedure 
```

检索输出参数时，如下所示：

```
exec dbo.MyStoredProcedure @par_out output 
```

在您的情况下，请省略该`return`语句。 `set @par_out = 'value'`足以将输出参数返回给调用代码。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-13T09:52:56.513

[`RETURN`](http://msdn.microsoft.com/en-us/library/ms174998.aspx)只能返回`int`值。实际上，您不需要使用`RETURN`，只需省略它：

```
 create PROCEDURE dbo.sp_Delete (
@p1 int,
@p2 varchar(10) OUTPUT
)
AS
--@p1 will have calculations done and get a value for @p2
set @p2 = 'test' 
```

...

```
declare @p1 int, @p2 varchar(100)
SELECT @p2 = '', @p1 = 1
exec sp_Delete
@p1,
@p2 OUTPUT

select @p2 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-13T10:08:19.337

您混淆了 RETURN 值和 OUTPUT 参数这两件事。

RETURN 是 sp 执行的“整体”状态，而 OUTPUT 参数允许您发回在您的过程中计算的多个值。

此外，要让 OUTPUT 参数发回它们的值，您应该指定 OUTPUT 关键字

```
declare @p2 varchar(100)
exec sp_Delete
@p1=N'1',
@p2=@p2 OUTPUT -- first @p2 is then sp_parameter name, second is the @p2 variable from you outer batch

select @p2 
```

您可以将 RETURN 值与 OUTPUT 参数混合

```
CREATE PROCEDURE TestProc
@P1 INT, 
@P2 VARCHAR(10) OUTPUT
AS
BEGIN
   SET @P2='SOME VALUE'
   RETURN @P1
END
GO
DECLARE @R INT, @P VARCHAR(10)
EXEC @R=TestProc @P1=1, @P2=@P OUT --OUT is short for OUTPUT, you can use either one
SELECT @R, @P

-----------------
1, 'SOME VALUE' 
```

不使用 OUTPUT 关键字，您将拥有

```
DECLARE @R INT, @P VARCHAR(10)
EXEC @R=TestProc @P1=1, @P2=@P -- notice the missing OUTPUT
SELECT @R, @P --was not assigned in this batch so is NULL

-----------------
1, NULL 
```

# java - 无法理解 Comparable 和 Comparator

> ID：14850598
> 
> 赞同：0
> 
> 时间：2013-02-13T09:48:35.847
> 
> 标签：java, comparator, comparable

我的代码如下：

**人.java**

```
package com.example;

import java.util.Comparator;

public class Person implements Comparator<Person> {

    String name;
    int emp_id;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getEmp_id() {
        return emp_id;
    }

    public void setEmp_id(int emp_id) {
        this.emp_id = emp_id;
    }

    public Person(String name,int emp_id) {
        this.name = name;
        this.emp_id = emp_id;
    }
} 
```

**个人排序.java**

```
package com.example;

import com.example.Person;
import java.util.*;

public class PersonSort implements Comparator<Person> {

    public int compare(Person arg0, Person arg1) {
        return arg0.getName().compareTo(arg1.getName());
    }
} 
```

**PersonDetails.java**

```
package com.example;

import java.util.*;

public class PersonDetails {

    public List<Person> enter() {
        List<Person> list = new ArrayList<Person>();
        list.add(new Person("D", 1));
        list.add(new Person("A", 56));
        list.add(new Person("G", 43));
        list.add(new Person("C", 32));
        return list;    
    }

    public static void main(String[] args) {
        PersonDetails details = new PersonDetails();
        List<Person> list = details.enter();
        Collections.sort(list, new PersonSort());
        Iterator<Person> it = list.iterator();
        while (it.hasNext()) {
            Person p = it.next();
            System.out.println(p.getName() + " " + p.getEmp_id());
        }
    }
} 
```

在 PersonSort.java 中，我们使用 compareTo 来比较两个字符串。当我们比较两个整数时，有什么替代方法吗？例如下面比较两个员工ID：

```
public int compare(Person arg0, Person arg1) {
    if (arg0.emp_id == arg1.emp_id)
        return 0;
    else if (arg0.emp_id > arg1.emp_id)
        return 1;
    else
        return -1;
} 
```

有没有这样的逻辑可以在不调用 compareTo 的情况下比较两个字符串？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T12:47:25.513

> 有没有这样的逻辑可以在不调用的情况下比较两个字符串`compareTo`？

那么你可以写一些代码做同样的事情`String.compareTo`。（它的作用并不神秘：例如查看 OpenJDK 源代码。）

但是这样做是没有意义的。现有的 String 方法比您的自定义代码更快，因为 String 方法可以直接访问字符串对象的私有状态。

# c# - C# Facebook SDK - 在别人的 FB 墙上发帖

> ID：14850601
> 
> 赞同：1
> 
> 时间：2013-02-13T09:48:43.853
> 
> 标签：c#, facebook

我已经按照以下教程了解如何在您自己的 FB 墙上发布消息：

[http://www.youtube.com/watch?v=IsO0G-8idyo](http://www.youtube.com/watch?v=IsO0G-8idyo)

...我已经设法让它 100% 发挥作用。但现在我想发到别人的 FB 墙上，但我不断收到

```
"Feed story publishing to other users is disabled for this application" error. 
```

-Scope =“发布流，管理页面”。
- 我的应用程序未处于沙盒模式。
- 2013 年 3 月的重大更改已被禁用。

知道这里有什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:29:23.583

Facebook SDK 无法做到这一点。故意不允许它以防止它被滥用于垃圾邮件。

# jquery - jQuery自动完成同一页面上的两个实例

> ID：14850603
> 
> 赞同：1
> 
> 时间：2013-02-13T09:48:54.860
> 
> 标签：jquery

我的页面上有两个输入字段，其中一个用于数据 A {数据库中的城市列表}，第二个输入字段用于数据 B {数据库中的名称列表}

问题是，当两者都被启动时，第二个自动完成源出现在第二个上。

这是一些代码：

```
jQuery("#cities_input").autocomplete({
        source: citiesResFromDb
    });

jQuery("#names_input").autocomplete({
        source: namesResFromDb
    }); 
```

如何在两个不同的输入字段上使用或初始化 .autocomplete() 而不会相互影响？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T09:55:12.117

您可以将函数分配给`source`并使用它的参数，您可以返回任何您想要的对象；尝试使用`request`参数及其属性来确定您正在处理的控件。

```
 source: function( request, response ) {
          // delegate back to autocomplete, but extract the last term
          response( $.ui.autocomplete.filter(
            availableTags, extractLast( request.term ) ) );
        }, 
```

# android - appfog 上的 Node.js express 服务器：在 android 上使用 chrome 时页面刷新时会话丢失

> ID：14850606
> 
> 赞同：2
> 
> 时间：2013-02-13T09:49:16.300
> 
> 标签：android, node.js, express, appfog, chrome-for-android

我感到很困惑。我做了一个这样的快递应用程序：

```
$ express -s -e sessionTest 
```

然后我稍微编辑了路线以设置会话变量，检查并删除它。我在本地机器上运行服务器，我使用的任何浏览器（Chrome、Firefox、Android Chrome、Android Dolphin）都按预期工作。但是，一旦我将其上传到 appfog，Android 上的 Chrome 就无法在页面加载时保持相同的会话。你可以自己测试一下，这是我在 appfog 上托管的应用程序：

[凯尔.aws.af.cm](http://kyle.aws.af.cm)

您来到的第一页将设置一个会话变量。该页面上有一个链接可以检查会话变量是否已设置，另一个链接可以销毁您的会话。Android 版 Chrome 永远不会报告您已设置会话变量。同样，当我的应用程序在 appfog 上时，这仅不适用于 Android 版 Chrome。无论此应用程序是否在 appfog 上，任何其他浏览器似乎都可以正常工作。

这是一个appfog错误吗？这是 Android 版 Chrome 的错误吗？这是快递还是连接错误？还是我做错了什么？

我的代码：

**应用程序.js**

```
var express = require('express')
, routes = require('./routes')
, http = require('http')
, path = require('path');

var app = express();

app.configure(function(){
  app.set('port', process.env.VMC_APP_PORT || process.env.PORT || 1337);
  app.set('views', __dirname + '/views');
  app.set('view engine', 'ejs');
  app.use(express.favicon());
  app.use(express.logger('dev'));
  app.use(express.bodyParser());
  app.use(express.methodOverride());
  app.use(express.cookieParser('secret'));
  app.use(express.session());
  app.use(app.router);
  app.use(express.static(path.join(__dirname, 'public')));
});

app.configure('development', function(){
  app.use(express.errorHandler());
});

app.get('/', routes.index);
app.get('/session', routes.session);
app.get('/destroy', routes.kill);

http.createServer(app).listen(app.get('port'), function(){
  console.log("Express server listening on port " + app.get('port'));
}); 
```

**./routes/index.js**

```
exports.index = function(req, res){
  req.session.test = 1;
  res.render('index', { title: 'I set the session var test to 1' });
};

exports.session = function(req, res){
  if(req.session.test === 1) {
    res.render('index', {title: 'the session var test is 1! :)'});
  } else {
    res.render('index', {title: 'the session var test is not 1!!!!!! >:('});
  }
};

exports.kill = function(req, res){
  req.session.destroy();
  res.render('index', {title: 'I called session.destroy()'});
}; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T22:20:54.777

好吧，我不知道 AppFog 有什么问题，但我创建了一个应用程序并在 Nodejitsu 上运行了这段代码，我可以确认它在 Chrome @ Android 4.1.2 中有效：http: [//testforso.jit.su/](http://testforso.jit.su/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-13T23:16:51.120

我有同样的问题！不知道还能尝试什么。我的应用程序在本地主机上完美运行。但是当我在 AppFog 上部署它时，注意到它的工作原理。我创建了[一张票](https://support.appfog.com/requests/10244)。在 AppFog 上。

就像打哈欠一样，我在 Nodejutsu 上部署了我的应用程序，它运行良好！

# ios - 与直接包含它的源代码相比，使用预编译的静态库有什么优势？

> ID：14850611
> 
> 赞同：6
> 
> 时间：2013-02-13T09:49:24.127
> 
> 标签：ios, llvm, static-linking

我能想到的唯一优势是编译速度。两种情况下的最终结果（二进制大小和速度）应该是相同的（当然，除非静态库是在没有优化的情况下编译的）。

也将不胜感激一些参考。

**更新：**当我们不得不在我们的项目中包含小型 3rd 方开源库时出现了这个问题。一位开发人员声明包含预编译的静态库（而不仅仅是复制源文件）将提高应用程序的性能。我看不出为什么会这样。

所以问题是：包含预编译库真的会提高最终应用程序的性能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T15:55:30.227

如果您谈论的是第三方库，它们的一些优点是：无需发布源代码，（可能）为最终开发人员更简单的安装......虽然有时结果*更*麻烦，特别是如果它没有正确完成（在没有修复符号的情况下链接其他开源项目，支持错误的架构）。

如果您的意思只是您自己的代码 - 似乎您只是在为自己制造头痛。如果文件没有更改，它们将已经在磁盘上编译（.o），并且编译器不需要重新构建它们，除非您执行全部清理/重新构建。所以你可能不会获得编译速度。

无论哪种方式 - 是的，输出应该是相同的。静态链接库只是您将直接链接到的相同 .o 文件的集合。

编辑：

具体解决 .o 与 .a 的速度 - .a 只是 .o 文件的集合，以便在开发过程中轻松打包。一旦链接，结果是相同的。我刚刚做了一个快速的健全性测试来验证：

```
$ cat a.c
#include <stdio.h>

extern char *something();

int main()
{
    printf("%s", something());
    return 0;
}
$ cat b.c
char *something()
{
    return "something fancy here\n";    
}

$ gcc -c -o a.o a.c
$ gcc -c -o b.o b.c
$ gcc -o foo1 a.o b.o
$ ar -r b.a b.o
ar: creating archive b.a
$ gcc -o foo2 a.o b.a
$ cmp foo1 foo2 
```

通过链接 .o 与 .a 即可获得相同的二进制文件。

如果您使用动态库而不是静态库（我相信只有在查找符号时），性能会*受到*轻微影响。也许这就是其他开发人员所指的，静态库会比动态库稍微快一些。

# minify - Chirpy 控制台抛出异常

> ID：14850615
> 
> 赞同：1
> 
> 时间：2013-02-13T09:49:52.090
> 
> 标签：minify, chirpy

我想运行 Chirpy 控制台缩小器，但它会引发异常。给出的路径是存在的，并且之前它运行得无可挑剔。我不确定可能导致问题的原因。有人可以向我解释吗？谢谢。

![在此处输入图像描述](../Images/d071481b52c20c325b47d89f06302ed9.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T19:35:11.840

短时间内编译的次数太多了。在这种情况下，服务将暂时不可用。

# ios - 使用 XMPP 在 ios 中构建聊天应用程序

> ID：14850619
> 
> 赞同：16
> 
> 时间：2013-02-13T09:50:05.127
> 
> 标签：ios, xmpp, xmppframework

我正在尝试在 ios 中构建一个聊天应用程序。我遇到了适用于 ios 的[XMPP](https://github.com/robbiehanson/XMPPFramework/wiki/GettingStarted_iOS)。我对如何前进感到有些困惑。以下是我的疑问：

1.  我需要创建一个 XMPP 服务器来实现这个应用程序吗？
2.  或者是否有任何现有的服务器/服务可以用于相同的目的？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-13T11:09:36.000

是的，您在上面找到的 XMPP 库非常适合在任何 iOS 设备中集成聊天。来回答你的问题。

1.  理想情况下是的，您应该创建自己的 XMPP 服务器，以便您可以控制它，另外还有安全问题。一个非常流行的 XMPP 服务器是[ejabberd](http://www.ejabberd.im/)。ejabber 很棒 :)
2.  您不必设置自己的 XMPP 服务器。您可以使用一些开源[XMPP 服务器](http://xmpp.org/xmpp-software/servers/)。根据您的用例，您可以决定。

希望这可以帮助...

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-13T14:26:55.003

您的问题令人困惑，因为当您可能指的是“主机”时，您会说“创建”。

你当然不需要自己开发。您可以设置许多可用的 XMPP 服务器之一，[这里](http://xmpp.org/xmpp-software/servers/)有一个相当广泛的列表。既有商业产品，也有开源产品。

您还可以使用许多[公开可用](http://xmpp.net/)的。今天比较流行的两个是谷歌的 gtalk 和 Facebook 聊天。

你自己的用例才是真正决定你应该走哪条路的东西。对于公开可用的服务器，所有用户都必须在这些域中注册才能使用它们。

# java - 如何在 Eclipse 中移动条件断点？

> ID：14850620
> 
> 赞同：8
> 
> 时间：2013-02-13T09:50:05.663
> 
> 标签：java, eclipse, conditional-breakpoint

我在*错误*的行上设置了条件断点。我想把它上移一行。这甚至可能吗？我知道我总是可以将条件复制粘贴到正确行的新断点中，但只需拖放会更方便。

例子：

```
private void loopOverInternalList(Object findThis) {
    int numberFound = 0; //I want conditional breakpoint here.
    for(Object listItem : internalList) { // Breakpoint [findThis.getSomeProperty() == true]
        // do something...
    }
} 
```

在示例中，Eclipse 将为 internalList 中的每个项目中断，而如果它在 numberFound 定义上中断，它应该只中断一次。在我目前的情况下，这更方便。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-13T09:54:18.743

现在是不可能的。自 2002 年以来，许多人（包括我）都想要它，因为它是从那时起的[功能请求](https://bugs.eclipse.org/bugs/show_bug.cgi?id=23295)。尝试再次要求它。

# eclipse - Eclipse 中的 ERR_UNKNOWN 与 jrebel

> ID：14850625
> 
> 赞同：1
> 
> 时间：2013-02-13T09:50:18.783
> 
> 标签：eclipse, weblogic-10.x, jrebel

嗨我正在使用下面的脚本来启动服务器

```
@echo off
set JAVA_OPTIONS=-javaagent:D:\eclipse-jee-juno-SR1-win32\eclipse\plugins\org.zeroturnaround.eclipse.embedder_5.1.3.SR1-201302011351\jrebel\jrebel.jar  %JAVA_OPTIONS%
call “%~dp0\startWebLogic.cmd” %* 
```

如果我做了一些更改并单击同步所有我正在收到一条消息

Jrebel 远程处理没有响应。服务器已启动，但是否启用了 jrebel？

但这些变化正在影响并且工作正常。

删除我使用的味精

```
@echo off
set JAVA_OPTIONS=-javaagent:D:\eclipse-jee-juno-SR1-win32\eclipse\plugins\org.zeroturnaround.eclipse.embedder_5.1.3.SR1-201302011351\jrebel\jrebel.jar  -Drebel.remoting_plugin=true %JAVA_OPTIONS%
call “%~dp0\startWebLogic.cmd” %* 
```

现在越来越

ERR_UNKNOWN

带有某些错误签名的某些远程处理异常无效。

并且更改没有生效。

什么意思

-Drebel.remoting_plugin=true

它在寻找什么..？

以及如何删除那个味精..？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-12T07:26:39.343

应该是配置的原因吧。看起来您正在使用 JRebel 远程处理。当您在本地机器上开发并且应用程序服务器在不同的机器上运行时使用此选项。在这种情况下，远程服务器需要 -Drebel.remoting_plugin=true 才能开始监听通过 HTTP 发布的传入文件更改。如果签名无效，则远程服务器和 IDE 加密密钥可能不同步。

# c# - 页面加载确认消息框

> ID：14850629
> 
> 赞同：0
> 
> 时间：2013-02-13T09:50:31.820
> 
> 标签：c#, javascript, asp.net, confirmation

我需要出示确认交易确认书。

我有一个系统来维护用户的日常交易。如果借方输入交易，那么当贷方登录系统时应显示确认消息。如果他确认该交易，那么只有交易会成功。单个用户有多个事务。因此，对于每个交易创建者都必须显示带有该交易详细信息的确认消息。

我将如何在 asp.net 中执行此操作

我应该从 javascript 调用 web 方法来获取所有待处理的交易还是有其他合适的方法来做到这一点？

# 已编辑

```
 $(function () {

            PageMethods.getPandingTransaction(onSucess, onError);
            function onSucess(result) {
                for (var i = 0; i <= result.length; i++) {
                    var message = "Please confirm Rs." + result[i].Amount
                   if (confirm(message)) {
                    PageMethods.UpdateTransaction(result[i].TransactionID, true);
                }
                else { PageMethods.UpdateTransaction(result[i].TransactionID, false); }

                }
            }
            function onError(result) { }
        }); 
```

我能够显示确认消息框。但我想要是/否按钮而不是确定/取消按钮。所以我正在使用自定义对话框，但它不适合我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T09:58:09.993

通过javascript，您可以在页面加载时加载确认消息，如下所示：

```
window.onload=function(){
   var r=confirm("Message");
   if (r==true) {
      alert("OK!");
   }
   else {
      alert("Cancel!");
   }
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-15T03:37:04.500

但是在哪里调用这个函数呢？在 aspx 代码中加载正文？我有同样的情况，我想用确认消息（是或否）对 C# 的页面加载事件执行操作，我在 body onload 上使用了这个代码，但它总是在 C# 页面加载事件的代码之后运行。操作完成后会弹出确认信息。

# c# - jQuery自动完成

> ID：14850632
> 
> 赞同：0
> 
> 时间：2013-02-13T09:50:36.490
> 
> 标签：c#, jquery, oracle, jquery-autocomplete

这是我的功能：

```
<script type="text/javascript">
    $(document).ready(function () {
        SearchText();
    });
    function SearchText() {
        $(".autosuggest").autocomplete({
            source: function (request, response) {
                $.ajax({
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    url: "Default.aspx/GetAutoCompleteData",
                    data: "{'name':'" + document.getElementById('txtSearch').value + "'}",
                    dataType: "json",
                    success: function (data) {
                        response(data.d);
                    },
                    error: function (result) {
                        alert("Error");
                    }
                });
            }
        });
    }
</script> 
```

这是我的代码：

```
[WebMethod]

public static List<string> GetAutoCompleteData(string name)
{
    OracleConnection con = new OracleConnection("Data Source=Client;User ID=cli; Password=cli123");
    List<string> result = new List<string>();
    con.Open();
    OracleCommand cmd = new OracleCommand("SELECT CLIENT_NO FROM SC_CLIENT WHERE CLIENT_NO LIKE :SearchText+'%'", con);

    cmd.Parameters.AddWithValue(":SearchText", name);
    OracleDataReader dr = cmd.ExecuteReader();
    while (dr.Read())
    {
        result.Add(dr["CLIENT_NO"].ToString());

    }
    return result;
} 
```

但这是给出这样的错误消息“ORA-01722：无效号码”。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T15:15:44.417

`+`Oracle 中的运算符仅适用于数字。因此，当 Oracle 解析`:SearchText+'%'`时，它将这两个术语都视为数字并执行隐式转换：

```
to_number(:SearchText) + to_number('%') 
```

这将提高`ORA-01722`. Oracle 中字符串连接的正确运算符是`||`（或[`CONCAT`](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions033.htm#SQLRF00619)函数）。

此外，正如[@axrwkr](https://stackoverflow.com/users/2022859/axrwkr)在评论中指出的那样，如果您的列`client_no`是`NUMBER`数据类型并且Oracle 决定将运算符的右侧转换为`LIKE`数字（我认为规则是`LIKE`将两边转换为`VARCHAR2`，但我不确定）。

If `client_no`is a `NUMBER`, 为了让数据库和任何未来的读者都清楚，你可以写：

```
SELECT CLIENT_NO FROM SC_CLIENT WHERE to_char(CLIENT_NO) LIKE :SearchText || '%' 
```

# javascript - BusterJS 和 Sinon，间谍不会重置

> ID：14850634
> 
> 赞同：0
> 
> 时间：2013-02-13T09:50:44.573
> 
> 标签：javascript, unit-testing, jasmine, buster.js

有没有办法为破坏测试用例中的每个规范重置间谍。我知道，`spy.restore`但我正在寻找像 Jasmine 这样的行为，其中间谍在每个规范后自动重置。

# git - git 可以帮我在应用程序升级期间合并更改吗

> ID：14850635
> 
> 赞同：1
> 
> 时间：2013-02-13T09:50:46.063
> 
> 标签：git, configuration, merge

我不时为我们的客户进行软件升级（Atlassian 软件、jira、confluence 等）。我每次遇到的一个问题是客户可能已经对安装的版本进行了一些自定义（配置更改、更改的 Web 模板等），应该处理（保留或忽略）。我不确切知道哪些文件发生了变化，我需要确保不会错过任何内容。到目前为止，我的解决方案是提取已安装版本的 install tar.gz 并使用 rsync（使用 --verbose --dry-run --itemize-changes）来识别发生了什么变化。然后我做了一些 grep 和 sed 魔术来过滤掉有趣的部分，并“手动”应用检测到的更改。

所以基本上我有三个目录；A（旧版本有变化）、B（旧版本干净）和 C（新版本）。我喜欢识别 i A 与 B 相比的变化，并有选择地将它们应用于 C。

现在，我可以在这个过程中使用 git 来帮助我吗？我特别不喜欢手动应用更改部分。我对 git 很陌生，有人能指出我正确的方向或告诉我为什么这是一个糟糕的主意吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T11:55:08.707

执行此操作的传统方法是使用`diff`and `patch`。每个人都知道`diff`——它比较文件并打印它们的差异。您也可以将它与整个目录一起使用。但并不是每个人都知道您可以获取`diff`（在正确的模式下）的输出并将其提供给`patch -p1`或类似的，并让它在 diff 文件（通常命名为`*.patch`）中进行指定的更改。

如果您知道从哪个版本开始安装该工具，只需将它的新副本解压缩到临时目录中，然后将其与工作副本进行比较。这将为您提供一个补丁文件（您肯定可以将其存储在源代码管理中！）。然后可以将该文件应用（“移植”）到其他已安装的实例，包括其他版本，只要没有合并冲突。如果有冲突，您会收到通知，然后可以手动修复它。

顺便说一句，这就是 Linux 打包有时的工作方式——发行商获取上游源代码和他们自己的补丁文件，并在构建/打包时将它们编织在一起。

# .htaccess - htacess mod_rewrite 不工作（但它在其他目录中的同一台服务器上工作）

> ID：14850637
> 
> 赞同：0
> 
> 时间：2013-02-13T09:50:56.207
> 
> 标签：.htaccess, mod-rewrite, url-rewriting

所以我有这个hatcess mod重写：

```
Options +FollowSymlinks
Options -MultiViews
RewriteEngine On
RewriteCond %{HTTP_HOST} ^www.mysite.com
RewriteRule (.*) http://mysite.com/$1 [R=301,L]
RewriteRule ^/(.*)$ find.php?q=$1 [NC]
RewriteRule ^/(.*)/([0-9])$ find.php?q=$1&psl=$2 [NC]
RewriteRule ^/(.*)/(.*)-links$ find.php?q=$1&hostas=$2 [NC]
RewriteRule ^/(.*)/(.*)-([0-9]+)$ details.php?id=$3 [NC] 
```

问题是它在我的一个域上完美运行，并且它在同一服务器（hostgator）上托管但在其他目录中的其他域上给出 404 错误。所需的文件 find.php 和 detals.php 确实存在于两个目录中。任何建议为什么它不起作用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T11:12:24.877

> 它在同一服务器上托管但在其他目录中的其他域上给出 404 错误

您必须将此文件夹定义为`mod-rewrite`其他文件夹的基础：

```
(...)
RewriteEngine On
RewriteBase /yourfolder/
RewriteCond %{HTTP_HOST} ^www.mysite.com
(...) 
```

# asp.net-mvc-3 - 编译错误：“版本高于引用的程序集”

> ID：14850643
> 
> 赞同：2
> 
> 时间：2013-02-13T09:51:14.927
> 
> 标签：asp.net-mvc-3, visual-studio-2010, asp.net-mvc-4

我的视图页面出现错误，所以我将我的 Visual Studio 更新为 mvc4，尽管我正在使用 mvc3。我第一次使用 NuGet 进行了更新，但它不起作用，我通过独立的 MVC4 进行了更新。所以它起作用了。但是当我尝试运行 MVC3 项目时，它给了我以下错误：

> CS1705：程序集 'MVC3Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null' 使用 'System.Web.Mvc, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35'，其版本高于引用的程序集'System.Web.Mvc，版本 = 3.0.0.0，文化 = 中性，PublicKeyToken = 31bf3856ad364e35'

谁能帮我这个？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T10:00:59.240

在 Views 文件夹的 web.config 文件中，有 system.web.webPages.razor 下的主机元素

对于 MVC3 项目，这应该如下所示：

```
<host factoryType="System.Web.Mvc.MvcWebRazorHostFactory, System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" /> 
```

而对于 MVC4 它是：

```
<host factoryType="System.Web.Mvc.MvcWebRazorHostFactory, System.Web.Mvc, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" /> 
```

您还需要检查 MVC3 的 pages 元素如下

```
<pages
        validateRequest="false"
        pageParserFilterType="System.Web.Mvc.ViewTypeParserFilter, System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"
        pageBaseType="System.Web.Mvc.ViewPage, System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"
        userControlBaseType="System.Web.Mvc.ViewUserControl, System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
      <controls>
        <add assembly="System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" namespace="System.Web.Mvc" tagPrefix="mvc" />
      </controls>
    </pages> 
```

和 sectionGroup 元素：

```
<sectionGroup name="system.web.webPages.razor" type="System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
  <section name="host" type="System.Web.WebPages.Razor.Configuration.HostSection, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" />
  <section name="pages" type="System.Web.WebPages.Razor.Configuration.RazorPagesSection, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" />
</sectionGroup> 
```

在项目根目录的主 web.config 中，您需要确保程序集元素如下所示：

```
<assemblies>
        <add assembly="System.Web.Abstractions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="System.Web.Helpers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="System.Web.Routing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="System.Web.WebPages, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
      </assemblies> 
```

有更多的改变 - 最好的办法是查看一个 MVC3 项目和一个 MVC4 项目的 web.config 文件，并删除不应该在你的东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-08-03T16:09:16.907

我在更高版本的 MVC 中遇到了完全相同的问题。在我通过 Nugget 更新了我所有的包之后，问题就解决了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-21T07:10:35.813

以下对我有用

安装包 Microsoft.AspNet.Web.Optimization

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-12-28T07:59:16.853

对我来说有效的解决方案我删除了项目中给出错误的引用。

使用右键单击项目再次重新安装 -> 添加引用 -> 搜索程序集的名称，然后再次添加。

对于这个问题，您必须在第一个项目引用下删除 System.Web.Mvc 并单击项目 -> 添加引用 -> 搜索 System.Web.Mvc （您将看到现在是 4.0.0.0）安装它。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2018-05-29T13:36:20.947

您可以使用您正在寻找的版本下载 System.Web.Mvc.dll ：

参考 -> 添加 -> 浏览并选择你的文件。

这个解决方案对我有用！

祝你好运

# java - 在 Eclipse 中为 eSWT 配置项目的正确方法？

> ID：14850648
> 
> 赞同：0
> 
> 时间：2013-02-13T09:51:20.697
> 
> 标签：java, eclipse, java-me, eclipse-rcp

有人可以指导我如何在 Eclipse 中配置项目，以便我可以使用 eSWT。只需手动添加`eswt-converged.jar`就会给我构建/预验证错误。

我下载[了这个](http://www.findthatzipfile.com/search-42043261-hZIP/winrar-winzip-download-ercp-1.3-wm6std-20090806.zip.htm)并使用了文件夹中的 jar 并将其复制到我的项目文件夹中并将其添加到构建路径中。但它向我展示了类似

![在此处输入图像描述](../Images/d61bd56d769f6e1e70b874ab9b8403a4.png)

请帮忙。

**编辑** 我做了尼尔所说的，我现在得到了这个：

![在此处输入图像描述](../Images/e0084be794ebcfc7676a6ed91cfd72bf.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:57:41.910

我看到在[您提供的链接](http://www.findthatzipfile.com/search-42043261-hZIP/winrar-winzip-download-ercp-1.3-wm6std-20090806.zip.htm)中，我没有看到您的项目中包含许多其他 jar。如果我不得不猜测，您的 jar 严重依赖于这些不存在的 jar，因此它使用的所有在这些 jar 中定义的类根本不存在。

不过，如果没有关于问题性质的进一步信息，恐怕很难确定其他任何事情。

# matomo - Piwik 目标（结帐步骤）

> ID：14850654
> 
> 赞同：0
> 
> 时间：2013-02-13T09:51:40.540
> 
> 标签：matomo, goal-tracking

我正在寻找一种在 Piwik 中创建结帐步骤目标的方法，其功能与 Google 分析（目标漏斗）中的功能相同。据我所知 - Piwik 可以做到这一点，但它不提供分离这些步骤（仅包含 URL 的/正则表达式）。也许有人知道这个解决方案？

PS 使用 Piwik 1.10.1

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T14:15:39.200

最后，我设法通过为每个独特的结帐步骤创建目标并为每个步骤调用`trackPageView()`前端来解决这个问题

# embedded - 无法编译 StellaWare

> ID：14850657
> 
> 赞同：3
> 
> 时间：2013-02-13T09:51:44.553
> 
> 标签：embedded, arm

我正在尝试使用 Eclipse / Linux 为 Stellaris Launchpad ( `LM4F120`) 开发应用程序。我正在关注本指南： http: [//kernelhacks.blogspot.de/2012/11/the-complete-tutorial-for-stellaris.html](http://kernelhacks.blogspot.de/2012/11/the-complete-tutorial-for-stellaris.html)

但是，我无法编译 StellarisWare `make`：

```
adc.c:1: error: bad value (cortex-m4) for -mcpu= switch
adc.c:1: error: invalid floating point option: -mfpu=fpv4-sp-d16 
```

显然，编译时`arm-*-gcc`使用了“cc”而不是。我该如何规避这个问题？

我正在使用`gcc-arm-none-eabi-4_7-2012q4`. 我为 a) 完整的 StellarisWare 软件包 ( `SW-LM3S-9453.exe`) 和 Stellaris Launchpad ( `SW-EK-LM4F120XL-9453.exe`) 做了以下事情：

```
1\. Unzip: ../SW-*.zip
2\. Try to compile: make 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-21T02:18:07.630

请按照以下文章中的说明进行操作

[http://www.embeddedcircle.com/stellaris-lm4f120-launchpad-compiling-in-ubuntu-12-04/](http://www.embeddedcircle.com/stellaris-lm4f120-launchpad-compiling-in-ubuntu-12-04/)

不要忘记按照指令 4 设置编译器路径

# jquery - 如何使用 on() 为多事件声明添加命名空间，以便稍后使用 off() 解除绑定？

> ID：14850659
> 
> 赞同：1
> 
> 时间：2013-02-13T09:51:47.917
> 
> 标签：jquery, events

根据[JQuery 文档](http://api.jquery.com/off/)，可以像这样声明命名空间以与`on`and一起使用`off`：

```
var validate = function () {
  // code to validate form entries
};

// delegate events under the ".validator" namespace
$("form").on("click.validator", "button", validate);

$("form").on("keypress.validator", "input[type='text']", validate);

// remove event handlers in the ".validator" namespace

$("form").off(".validator"); 
```

但是如何为多事件声明声明一个命名空间，以便稍后使用`off()`？

```
$('#frame-right').on('mousewheel DOMMouseScroll MozMousePixelScroll',function(event){
    event.preventDefault();
    return false;
});

$('#frame-right').off(???) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T09:56:30.753

您必须将命名空间添加到每个单独的事件名称：

```
$("#frame-right").on(
    "mousewheel.ns DOMMouseScroll.ns MozMousePixelScroll.ns",
    function(event) {
        event.preventDefault();
        return false;
    }
); 
```

然后你可以发出：

```
$("#frame-right").off(".ns"); 
```

# php - Javascript + php 表单

> ID：14850660
> 
> 赞同：-1
> 
> 时间：2013-02-13T09:51:47.857
> 
> 标签：php, html, forms

我正在尝试在我的网站上制作联系表格。这是代码：

```
 <form id="form" method="post" action="send.php">
                <fieldset>
                  <label><input type="text" value="Email" onBlur="if(this.value=='') this.value='Email'" onFocus="if(this.value =='Email' ) this.value=''"></label>
                  <label><input type="text" value="App URL" onBlur="if(this.value=='') this.value='App URL'" onFocus="if(this.value =='App URL' ) this.value=''"></label>                                             
                  <div class="btns"><a href="javascript:" class="button" onClick="document.getElementById('form').submit()">Send</a></div>
                </fieldset>  
        </form> 
```

问题是页面 send.php 在 $_POST 中没有任何内容！

有没有人知道如何解决它？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:53:27.213

输入没有名称。只有带有名称的输入才能成为成功的控件（并因此被提交）。

这些名称用于确定 PHP 生成的关联数组中的键。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:53:50.740

您的输入标签需要一个`name`属性才能出现在`$_POST`数组中。

w3schools.com 页面解释确切用法： [http ://www.w3schools.com/tags/att_input_name.asp](http://www.w3schools.com/tags/att_input_name.asp)

# java - java gwt richtextarea设置行高

> ID：14850661
> 
> 赞同：1
> 
> 时间：2013-02-13T09:51:54.457
> 
> 标签：java, gwt, richtextarea

我在我的 java gwt 项目中使用 RichTextArea。我能够设置样式的一些参数，如下所示：

```
IFrameElement fe = (IFrameElement) richTextArea.getElement().cast(); 
Style s = fe.getContentDocument().getBody().getStyle(); 
s.setProperty("fontFamily", "Arial Unicode MS,Arial,sans- serif"); 
s.setProperty("fontSize", "small"); 
```

在 FF 和 Chrome 中一切正常（和往常一样），但 IE 又遇到了麻烦，因为那里的 line-height 以某种方式设置为 200% 或其他东西，或者在设置返回时甚至在制作 html 段落。我试着用

```
 s.setProperty("lineHeight", "..."); 
```

但这没有用...

# jquery - 无法在 jsfiddle.net 中运行 jquery

> ID：14850664
> 
> 赞同：-1
> 
> 时间：2013-02-13T09:52:04.533
> 
> 标签：jquery, html, css

在此先感谢并为我的英语感到抱歉。我对 Javascript 和 jQuery 很陌生。我的问题是，在 jsfiddle.net 中，jquery 无法正常工作，我不知道我在哪里做错了。

```
 <div class="holidayHoneymoonContent">
        <div class="holidayHoneymoonContent1"> <span id="lblSource">Delhi<span>
        <span>&nbsp;To&nbsp;</span>  <span id="lblDest">Shimla</span>

        </div>
        <div class="holidayHoneymoonContent2">
            <div style="float:left; width:142px;"> <span id="PicDesc">nwind yourself as we take you on a holiday to thr...</span>

            </div>
            <div style="float:left; width:63px;">
                <img ID="Rupee2" alt="" src="rupees.png" Width="8px" Height="8px" style="margin-left:8px;"
                /> <span id="PicPrice">10000</span>

                <br /> <span>(per person)</span>

            </div>
        </div>
        <div class="holidayHoneymoonBtn">
            <!--<img ID="Bookhere" onmouseover="bookHover(this)" onmouseout="bookOut(this)"
            src="bookHereBtn.png" class="bookHereBtn1" />-->
            <input id="inpBookHere" type="submit" value="Book Here" style="font-size:12px;width:80px;height:20px;"
            />
        </div>
    </div> 
```

这是我[在 jsFiddle 中的代码](http://jsfiddle.net/santosh_patnala/ZT6nu/8/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:09:19.220

**1.**您需要像这样将元素与事件和功能绑定

```
$(element).on('mouseover',function(){
//code here
}); 
```

**2.**您需要使用 document.ready 以便像这样调用函数

```
$(document).ready(function(){

$(element).on('mouseover',function(){
//code here
});

}); 
```

**3.**您需要像这样在悬停功能中传递它

```
bookHover(this); 
```

在这里演示[http://jsbin.com/efopex/3/edit](http://jsbin.com/efopex/3/edit)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:20:37.070

试试这个

**你的 HTML**

```
<html>

    <head>
        <title></title>
    </head>

    <body>
        <div class="holidayHoneymoonContent">
            <div class="holidayHoneymoonContent1"> <span id="lblSource">Delhi<span>
            <span>&nbsp;To&nbsp;</span>  <span id="lblDest">Shimla</span>

            </div>
            <div class="holidayHoneymoonContent2">
                <div style="float:left; width:142px;"> <span id="PicDesc">nwind yourself as we take you on a holiday to thr...</span>

                </div>
                <div style="float:left; width:63px;">
                    <img ID="Rupee2" alt="" src="rupees.png" Width="8px" Height="8px" style="margin-left:8px;"
                    /> <span id="PicPrice">10000</span>

                    <br /> <span>(per person)</span>

                </div>
            </div>
            <div class="holidayHoneymoonBtn">
                <img ID="Bookhere" onmouseover="" onmouseout=""
                src="bookHereBtn.png" alt="Image" class="bookHereBtn1" />
                <input type="submit" value="Book Here" style="font-size:12px;width:80px;height:20px;"
                />
            </div>
        </div>
    </body>

</html> 
```

**Javascript**

```
$(document).ready(function(){

    $('#Bookhere').mouseover(function() {
        alert("entering");
        bookId=this;
        $(bookId).parent().parent().animate({
            height: "109px",
            top: "68px"
        }, 200);
        $(bookId).parent().stop(true, true);
        $(bookId).parent().prev().prev(".holidayHoneymoonContent1").css("background", "#3FBA9E");
    });

    $('#Bookhere').mouseout(function() {
        bookId=this;
        $(bookId).parent().parent().animate({
            height: "80px",
            top: "96px"
        }, 200);
        $(bookId).parent().prev().prev(".holidayHoneymoonContent1").css("background", "#FFA455");
    });

}); 
```

检查小提琴[http://jsfiddle.net/ZT6nu/13/](http://jsfiddle.net/ZT6nu/13/)

# wcf - 用于监视 WCF 服务的工具

> ID：14850668
> 
> 赞同：2
> 
> 时间：2013-02-13T09:52:23.863
> 
> 标签：wcf

是否有任何第三方工具可用于监控`WCF`服务？

我`WCF`用 5 种方法创建了服务`OperationContract`并托管在`IIS`. 是否有任何工具可用于指定每个方法被调用的次数以及每个调用的请求和响应是什么？（类似于`SQL`服务器分析器）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T10:09:05.693

使用 WCF 的标准跟踪和诊断工具，并使用 SvcTraceViewer.exe 应用程序处理 .svclogs。如果您在 IIS 下托管，请使用 AppFabric。当您可以轻松管理服务设置（包括跟踪和诊断）时，它是一个很棒的工具。有一篇关于使用它的好文章[http://www.dotnetcurry.com/ShowArticle.aspx?ID=771](http://www.dotnetcurry.com/ShowArticle.aspx?ID=771)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-28T16:34:10.073

AppFabric 仪表板提供了一个集中式网关来查看和管理部署在本地或服务器场的 WF 和 WCF 服务的运行状况。它公开了 Persistence 数据库中的实时数据和 Monitoring 数据库中的历史数据，它允许您“深入研究”以更详细地检查实例和 WCF 调用指标。

[http://msdn.microsoft.com/en-us/library/ee677236(v=azure.10).aspx](http://msdn.microsoft.com/en-us/library/ee677236%28v=azure.10%29.aspx)

AppFabric 有助于监控 WCF 服务，例如调用操作的次数、错误/故障，还支持历史数据。

# ios - 使用部分的 UICollectionView 在单元格之间留下间隙

> ID：14850670
> 
> 赞同：4
> 
> 时间：2013-02-13T09:52:27.313
> 
> 标签：ios, uicollectionview, uicollectionviewlayout

我正在使用 UICollectionView 来显示多个数据部分。这些部分具有固定数量的项目。我希望所有项目都显示在一个连续的网格中。

现在我在水平方向上完成了这个： ![在此处输入图像描述](../Images/569ad189b7b27e74b786e87fe57f0de6.png)

但在垂直方面，这留下了很大的差距： ![在此处输入图像描述](../Images/edf063971d319c74b1832a7e644b353f.png)

我想解决部分之间的这种差距，因为它很丑而且不属于那里。我很乐意使用自定义 FlowLayout，但我找不到一个指导我正确方向的教程（我找到了几个，但没有一个真正涉及到这个问题。）

任何人都可以帮我解决这个问题，或者至少指出我正确的方向吗？

PS：我已经实现了部分，因为我正在动态加载数据。目前，我不能选择使用 1 部分。

*更新* 根据要求，我正在添加用于我当前 FlowLayout 的值。我在全屏（减去 UINavigationBar）UICollectionView 上使用标准水平流布局，每个部分有 21 个项目。

*   滚动方向：水平
*   单元格大小：248、196
*   页眉/页脚大小：无
*   单元格的最小间距：10
*   行的最小间距：10
*   部分插图：20、20、10、10

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-12-21T13:08:11.903

**像这样使用**

它将解决Gap问题

```
UICollectionViewFlowLayout *layout=[[UICollectionViewFlowLayout alloc] init];

layout.minimumInteritemSpacing = 0;
layout.minimumLineSpacing = 2; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T11:45:50.837

要消除这些差距，您需要创建自定义布局，该布局将作为您的集合视图的布局。这个类将是 UICollectionViewFlowLayout 的子类。

然后您可以覆盖以下两种方法，并可以根据需要创建自己的自定义布局。

```
 - (NSArray*)layoutAttributesForElementsInRect:(CGRect)rect
  - (UICollectionViewLayoutAttributes *)layoutAttributesForItemAtIndexPath:(NSIndexPath *)path 
```

UICollectionViewLayoutAttributes 是处理单元格位置、框架、Zindex 等的类

您还可以使用以下属性。

```
 collectionView:layout:minimumInteritemSpacingForSectionAtIndex:
 collectionView:layout:minimumLineSpacingForSectionAtIndex: 
```

# c# - 如何在c#中插入一行并格式化一行Excel

> ID：14850671
> 
> 赞同：0
> 
> 时间：2013-02-13T09:52:27.543
> 
> 标签：c#, excel, .net-3.5, com-interop

我使用创建了一个 excel 文件`Microsoft.Office.interop`。现在我想为该 excel 文件中的所有列添加标题。还想加粗，为标题行着色。

我有这样的事情：

```
using Excel = Microsoft.Office.Interop.Excel; //initialize&create,open app,wb,... 
for (rCnt = 1; rCnt <= range.Rows.Count; rCnt++) {
    WorkSheet2.Cells[rCnt2, 1] = xlWorkSheet.Cells[rCnt, 1]; 
    xlWorkSheet2.Cells[rCnt2, 2] = xlWorkSheet.Cells[rCnt, 2]; rCnt2++; 
} 
```

对于格式化，我经常使用

```
range1=xlworksheet.get_Range("A1","A4"); 
range1.Font.Bold; 
```

您可以使用互操作为此提供 c# 代码吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T14:23:07.483

为了**设置范围的颜色**，您必须更改`Interior.Color`属性。

```
Application.Range[Application.Cells[startRow, startCol], Application.Cells[endRow, endCol]].Interior.Color = YourColorValue 
```

我相信这个数字`15395562`是浅灰色的，所以你可以通过替换`YourColorValue`那个数字来试一试，以确保它正常工作。

要在工作簿的最顶部**插入一行**，您必须首先`Select`插入整个第一行，然后`Insert`使用明确声明将所有其他行向下移动的参数执行操作，如下所示：

```
((Range)((Worksheet)Application.ActiveSheet).Rows[1]).Select();
((Range)App.Selection).Insert(Shift: XlDirection.xlDown); 
```

请注意，此代码未经测试，旨在让您了解需要做什么以及如何去做。请尝试一下，如果您遇到问题*，*我们可以进一步帮助您。重点是让你一路学习。

# .net - Windows 上本机加密哈希的本机实现比 .Net 托管版本快多少？

> ID：14850674
> 
> 赞同：11
> 
> 时间：2013-02-13T09:52:37.123
> 
> 标签：.net, performance, md5, native, sha

我正在为数据集提供哈希，以便对数据进行指纹识别并通过哈希识别它——这是快速哈希（如 SHA1 和 MD5）的核心用例。

在 .Net 中，可以选择使用其中一些哈希的本机或托管实现（无论如何是 SHA 变体）。我正在寻找一个 MD5 托管实现，在 .Net 框架中似乎没有，但想知道包装的本机 CSP 是否更快，如果我应该只使用它的内容，将没有性能使用它的问题。[为什么 .NET 框架中没有托管 MD5 实现](https://stackoverflow.com/questions/1200602/why-is-there-no-managed-md5-implementation-in-the-net-framework/1200742)的最佳答案？表示更快的性能可能是托管变体不存在的原因。

这是真的吗？如果是的话，原生 CSP 的速度有多快？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-02-13T09:52:37.123

不幸的是，MD5 的封装原生 CSP`MD5CryptoServiceProvider`比纯托管实现慢得多。这是一个顽固的观点，认为本机代码明显比托管代码快：在许多情况下，情况恰恰相反。至少在头对头测量中就是这种情况。

使用[David Anson 翻译的参考 MD5 实现](http://dlaa.me/blog/post/9380245)，我构建了一个[快速的性能测试](https://bitbucket.org/rplaire/md5-shootout)（[来源](https://bitbucket.org/rplaire/md5-shootout/src/1c85f432c375780b4ab909caf721b7edf266cb01/src/MD5Shootout/Program.cs?at=tip)) 旨在衡量两种实现之间的性能差异。虽然对于小型数据阵列，差异可以忽略不计，正如预期的那样，在大约 16kB 时，本机实现开始显示潜在的显着延迟 - 大约为毫秒。这可能看起来不多，但它比纯托管实现慢几个数量级。随着被散列的数据大小的增加，这种差异保持不变，并且在最大的测试数据数组 - ~250MB - CPU 时间的差异约为 8.5 秒。考虑到像这样的哈希通常用于对非常大的文件进行指纹识别，这种额外的延迟会变得很明显，即使 I/O 的延迟通常要大得多。

目前还不清楚延迟来自何处，因为没有执行纯本机测试（这将免除 CSP 的包装和托管代码中的消耗），但考虑到对数刻度上的图形几乎相同的形状，看起来托管和本机实现具有相同的内在性能，但本机代码性能可能由于运行时本机和托管代码之间的互操作成本而在性能上“下移”。封装的本地 CSP 和纯托管实现之间的这种[性能差异也已被其他调查人员复制和记录](http://byterot.blogspot.de/2013/01/net-framework-cryptography-symmetric-algorithm-performance-benchmark.html)。

除了在这个特殊的案例中回答“原生实现速度快多少”这个问题之外，我希望这个证据能够在原生与托管的问题出现时引发[更多的反思和调查](https://stackoverflow.com/a/1200742/58391)，打破长期以来对类似的问题是原生代码总是更快，因此，不知何故，更好。托管代码显然非常快，即使在这个对性能敏感的批量数据散列领域也是如此。

![MD5 哈希计算时间](../Images/1ab2d917619efd9301cfcb2c12745cea.png) ![MD5 哈希计算时间（对数）](../Images/89e32283c458fee6a84e0617f270bfc6.png)

# java - 如何从 java 中获取 Neo4j 图形数据库的节点数，我们可以从磁盘存储和重用 graphdb 吗？

> ID：14850681
> 
> 赞同：0
> 
> 时间：2013-02-13T09:52:59.390
> 
> 标签：java, social-networking, neo4j, graph-databases

我刚开始研究 neo4j 以将其用于我的社交网络相关项目。在此期间，我遇到了以下代码：

```
https://github.com/neo4j/neo4j/blob/1.9.M04/community/embedded-examples/src/main/java/org/neo4j/examples/EmbeddedNeo4jWithIndexing.java 
```

在浏览它时（请参阅上面的代码链接），我很难知道如何获得添加到给定`graphDb`. `graphDb`有什么方法可以使用or`nodeIndex`或其他方法找到它（节点总数）`referenceIndex`？如果是，如何？

我还需要帮助知道，如何将 graphdb 存储到磁盘上的任何给定路径？如何加载这个存储的graphdb并对其执行操作，比如搜索节点/关系等？

（有几个文件，如 *.db、*.id、*.keys 等。在`DB_PATH`执行上述代码时创建。所有这些文件有什么用？这些文件中是否包含创建的节点？如果是，如何我们可以使用它们吗？）

我们如何`graphDb`从 Web 界面（例如 Dashboard at`http://localhost:7474/webadmin/`或 data at ）访问它`http://localhost:7474/db/data/`？

如果您需要任何具体信息来帮助我，请告诉我。

谢谢，尼丁。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-13T10:52:02.663

要开始使用 Neo4j Embedded 和 Java API，请参阅：

[http://docs.neo4j.org/chunked/milestone/tutorials-java-embedded.html](http://docs.neo4j.org/chunked/milestone/tutorials-java-embedded.html)

获取正确的节点和关系计数：

```
IteratorUtil.count(GlobalGraphOperations.at(gdb).getAllNodes())
IteratorUtil.count(GlobalGraphOperations.at(gdb).getAllRelationships()) 
```

要使用集成的 neo4j 服务器访问嵌入式图形数据库，请参阅 [http://docs.neo4j.org/chunked/milestone/server-embedded.html](http://docs.neo4j.org/chunked/milestone/server-embedded.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-13T10:38:02.087

呸！这些都是一个条目的很多问题......

要获取数据库中的节点和关系总数，请使用：

```
NodeManager nodeManager = ((GraphDatabaseAPI) graphDb).getDependencyResolver().resolveDependency(
            NodeManager.class);

long currentRelationships = nodeManager.getNumberOfIdsInUse(Relationship.class);
long currentNodes = nodeManager.getNumberOfIdsInUse(Node.class); 
```

要更改图形数据库的路径，只需将路径传递给 GraphDatabaseFactory().newEmbeddedDatabase 方法。在您提到的示例中，您可以简单地将 DB_PATH 例如设置为`/home/youruser/neo4j`.

要使用 webadmin 访问您的数据库，请下载 neo4j，更改文件中的 org.neo4j.server.database.location 属性`conf/neo4j-server.properties`并将其指向您的数据库路径并启动服务器。

# objective-c - CreateDirectoryAtPath：不起作用

> ID：14850682
> 
> 赞同：1
> 
> 时间：2013-02-13T09:53:00.243
> 
> 标签：objective-c, cocoa, nsfilemanager

我有简单的代码：

```
NSFileManager *fileManager = [NSFileManager defaultManager];

if (!fileManager) NSLog(@"Manager doesn't exist!");

if(![fileManager fileExistsAtPath:destString]) {
    if (![fileManager createDirectoryAtPath:destString withIntermediateDirectories:YES attributes:nil error:&error]){
        NSLog(@"%@", [error localizedFailureReason]);
    }
}
else NSLog(@"Exists!"); 
```

变量：

```
destString = file://localhost/Users/SOMEUSER/Desktop/NEWFOLDER/ 
```

当我试图创建一个文件夹时，程序会写“存在”但在桌面上不存在。当我删除 fileExistsAtPath: 时，没有错误，但也没有目录。谢谢 4 回复！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T09:58:25.760

`-createDirectoryAtPath:withIntermediateDirectories:attributes:error:`将要创建的路径作为 UNIX 样式的路径字符串，而不是文件 URL 样式的字符串。也就是说，你想给它传递一个像`/Users/SOMEUSER/Desktop/NEWFOLDER/`.

或者，如果您正在处理 URL 样式的字符串，那么您可以改用使用并从您的字符串`-createDirectoryAtURL:withIntermediateDirectories:attributes:error:`构造一个。`NSURL`

# ruby-on-rails - 从rails中的url中删除语言环境参数

> ID：14850692
> 
> 赞同：2
> 
> 时间：2013-02-13T09:53:35.673
> 
> 标签：ruby-on-rails, ruby-on-rails-3.2, subdomain, locale, refinerycms

我必须使用 rails url 帮助程序，而不是路径帮助程序（在某些情况下），因为我正在使用使用子域的应用程序，因此必须将 domain 选项作为参数传递。

然而，这导致链接呈现为：

`http://sub.domain.dev/the-page?locale=en`

我尝试在应用程序控制器中使用以下变体，但无济于事：

```
def default_url_options(options={})
  { :locale => :en }
end 
```

如何删除该语言环境参数？

我正在使用炼油厂CMS。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-13T11:58:09.860

奇怪，但对于我这种情况的任何人：

当使用带有引擎的 RefineryCMS 时，即使没有使用区域设置，并且其他引擎产生预期的 url，修复是设置：

```
# config/initializers/refinery/i18n.rb
Refinery::I18n.configure do |config|
  config.enabled = false
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-01-22T09:40:20.047

对于炼油厂cms-i18n ~> 4.0：

```
# config/initializers/refinery/i18n.rb

Refinery::I18n.configure do |config|
  config.url_filter_enabled = false
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T10:03:16.783

如果您使用的是语言环境，我建议您执行以下操作：

在您的 routes.rb 中：

```
scope "(:locale)", locale: /en|br/ do
  resources :the-pages
end 
```

在您的应用程序控制器中：

```
before_filter :set_locale
def set_locale
  I18n.locale = params[:locale]
end

def default_url_options(options={})
  { locale: I18n.locale }
end 
```

这样，您的网址将变为：

```
http://sub.domain.dev/en/the-page
http://sub.domain.dev/pt/the-page 
```

**编辑**- 如果您不想要任何语言环境，则需要将其从应用程序控制器中删除：

```
#remove the below
def default_url_options(options={})
 { :locale => :en }
end 
```

另外，请确保您的 routes.rb 中没有任何语言环境

# spring - 2个不同项目之间的Spring自动装配类

> ID：14850693
> 
> 赞同：1
> 
> 时间：2013-02-13T09:53:37.027
> 
> 标签：spring, annotations, autowired

我正在尝试使用 spring（使用 eclipse IDE）在 2 个项目之间自动装配类。所以我在第一个项目中添加了第二个项目到构建路径。导入已正确解析，但是当我启动应用程序时，日志告诉我他找不到我要连接的类。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:38:32.073

类路径已经解决了这个问题。

# c# - 在 Outlook 加载项中获取跨线程操作异常

> ID：14850694
> 
> 赞同：0
> 
> 时间：2013-02-13T09:53:38.213
> 
> 标签：c#, asynchronous, outlook-addin

我正在开发 Outlook-2010 插件。

Main 插件类正在启动一个这样的异步任务并声明一个静态事件以从其他形式订阅：

```
 int ProcesadosArchivado = 0;
        public delegate void OnFileArchivedDelegate (int NumFilesArchived, string NameArchived);
        public static event OnFileArchivedDelegate OnFileArchivedEvent = delegate { };

        private void ThisAddIn_Startup(object sender, System.EventArgs e)
        {   
            Thread hiloArchivado = new Thread(DoArchiveBackground);
            hiloArchivado.Start();

        }       

       private void DoArchiveBackground()
       {

            try
            {           
                Outlook.Application app = null;
                Outlook._NameSpace ns = null;
                Outlook.MailItem item = null;
                //Outlook.MAPIFolder inboxFolder = null;
                DateTime MyDateTime = DateTime.Now.AddMonths(-3);
                app = new Outlook.Application();
                ns = app.GetNamespace("MAPI");
                ns.Logon(null, null, false, false);    

                Outlook.Stores store;
                Outlook.MAPIFolder rootFolder = null;
                store = Application.Session.Stores;
                foreach (Outlook.Store storeClass in store.Session.Stores)
                {
                    rootFolder = storeClass.GetRootFolder();    
                }    

                Outlook.MAPIFolder folder = rootFolder.Folders["ARCHIVAR"];    
                Outlook.MAPIFolder ArchivarFolder = ns.GetDefaultFolder(Microsoft.Office.Interop.Outlook.OlDefaultFolders.olFolderInbox);  

                // inboxFolder = ns.GetDefaultFolder(Microsoft.Office.Interop.Outlook.OlDefaultFolders.olFolderInbox);

                for (int i = 1; i <= ArchivarFolder.Items.Count; i++)
                {
                    try
                    {

                      item = (Microsoft.Office.Interop.Outlook.MailItem)ArchivarFolder.Items[i];
                      ProcesadosArchivado += 1;
                      OnFileArchivedDelegate myEvent = OnFileArchivedEvent;
                      myEvent.Invoke(ProcesadosArchivado, item.Subject);                          

                    //Messate iteration
                    }
                    catch (Exception ex)
                    {

                        throw;
                    }

                }

            }

            //Catch folder iteration
            catch (Exception ex)
            {

                throw;
            }

        } 
```

**然后我从其他表单订阅静态事件并尝试使用 InvokeRequired 和委托更新一些控件：**

```
 public partial class ArchiveForm : Form
    {
        private  delegate void UpdateControlDelegate (Control control,string Property,string value);

        public ArchiveForm()
        {
            InitializeComponent();
            this.Load += new EventHandler(ArchiveForm_Load);
        }

        void ArchiveForm_Load(object sender, EventArgs e)
        {
            ThisAddIn.OnFileArchivedEvent += new ThisAddIn.OnFileArchivedDelegate(ThisAddIn_OnFileArchivedEvent);
        }

        void ThisAddIn_OnFileArchivedEvent(int NumFilesArchived, string NameArchived)
        {
            updateControls(NumFilesArchived,NameArchived);         

        }

        void UpdateControl(Control control,string Property,string value)
        {
            PropertyInfo prop = control.GetType().GetProperty("Text");

            prop.SetValue(control, 
                        Convert.ChangeType(value, prop.PropertyType), null);         

        }

  private void updateControls(int NumFilesArchived, string NameArchived)
  {            

            if (lblArchivado.InvokeRequired)
            {
                UpdateControlDelegate del = new UpdateControlDelegate(UpdateControl);
                //del.BeginInvoke(lblArchivado, "Text", "Archivados: " + NumFilesArchived.ToString(), null, null);
                del.Invoke(lblArchivado, "Text", "Archivados: " + NumFilesArchived.ToString());
            }
            else
                this.lblArchivado.Text = "Archivados: " + NumFilesArchived.ToString();

            if (lblAsunto.InvokeRequired)
            {
                UpdateControlDelegate del = new UpdateControlDelegate(UpdateControl);
                //del.BeginInvoke(lblAsunto, "Text", "Asunto: " + NameArchived, null, null);
                del.Invoke(lblAsunto, "Text", "Asunto: " + NameArchived);
            }

            else
                this.lblAsunto.Text = "Asunto: " + NameArchived;

        }

    } 
```

到达线路时，我得到了 Cross-Head Invalid operation 异常：

*** *prop.SetValue(control,Convert.ChangeType(value, prop.PropertyType), null);* ***

它正在通过 invoreRequired 并调用委托，所以我真的不明白为什么我会收到这个异常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:39:49.640

好的，在做了一些研究后，我改变了这个：

```
del.Invoke(lblAsunto, "Text", "Asunto: " + NameArchived); 
```

进入这个：

```
this.Invoke(del, new object[] { lblAsunto, "Text", "Asunto: " + NameArchived }); 
```

它现在正在工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T15:42:54.957

您不应使用辅助线程中的 Outlook 对象模型。它必然会产生问题。如果从与返回它的线程不同的线程访问 OOM 对象，Outlook 2013 将立即引发异常。旧版本的 Outlook 在大多数情况下可以正常工作，但在最不幸的时刻会失败。
上面的代码在辅助线程上创建 Outlook.Application 对象的新实例。您可以这样做，但所有调用都将编组到 Outlook 主线程，因此使用辅助线程对您没有多大好处。
唯一的解决方法是使用 Extended MAPi（C++ 或 Delphi）或在底层使用 MAPI 的包装器（例如[Redemption](http://www.dimastr.com/redemption)）。

# jquery - JQuery - 如何将文本与 .each 连接起来？

> ID：14850695
> 
> 赞同：9
> 
> 时间：2013-02-13T09:53:43.470
> 
> 标签：jquery, concatenation

首先，请原谅我的英语不好。

我尝试了各种方法，但到目前为止还没有运气。

我正在使用 .each() 方法返回一系列对象。

我想用对象中的每个值填充输入字段的“值”属性。我没有找到一种方法来做与 PHP 相同的事情。=

任何想法都会很棒！

这是我的代码：

```
$.each($("input[type='checkbox']:checked"), function(){
        var data = $(this).parent().parent().find("td:eq(1)"); 
         $("#login").val(data.text());
    }) 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-13T09:55:55.503

您可以使用[map()](http://api.jquery.com/jQuery.map/)。您可以将`delimiter`字符传递给[join()](http://api.jquery.com/map/)以分隔值。

```
text = $("input[type='checkbox']:checked").map( function(){
    return $(this).parent().parent().find("td:eq(1)");        
}).get().join();

$("#login").val(text); 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-02-13T09:54:51.290

```
var c = '';
$.each($("input[type='checkbox']:checked"), function(){
    var data = $(this).parent().parent().find("td:eq(1)"); 
    c += data.text();
})
$("#login").val(c); 
```

您也可以在循环中使用它：

```
$("#login").val($("#login").val(c)+data.text()); 
```

但我个人更喜欢尽量减少 DOM 的变化。

另请注意，使用遍历之类的`parent().parent()`会导致维护问题。在您的情况下，您可能可以使用

```
var data = $(this).closest('tr').find("td:eq(1)"); 
```

`span`以便将来如果 a或任何其他元素包装您的输入，则代码不会中断。

# python - 通过正则表达式拆分字符串

> ID：14850696
> 
> 赞同：0
> 
> 时间：2013-02-13T09:53:48.790
> 
> 标签：python, regex

我有`[110308] Asia and India`字符串，我只想`Asia and India`通过正则表达式作为我的结果。

谁能帮帮我吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-13T09:57:44.873

如果你想不用正则表达式，你可以试试

```
>>> '[110308] Asia and India'.split(']', 1)[-1].strip()
'Asia and India' 
```

或者只是使用`lstrip`

```
>>> '[110308] Asia and India'.lstrip(" []" + string.digits)
'Asia and India' 
```

或者，如果出于某种原因您想坚持使用正则表达式

```
>>> re.findall("^[\[\]\d ]*(.*)"," [110308] Asia and India")[0]
'Asia and India' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T10:03:22.603

```
import re
re.split('[0-9\[\]]+ +', '[110308] Asia and India')[1] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-13T09:58:29.210

```
import re
re.findall('[^0-9\[\]]+', '[110308] Asia and India')[0].strip() 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-13T09:58:48.637

使用正则表达式尝试用`[^a-zA-Z ]`空字符串替换。

# iphone - Pago 支付网关集成

> ID：14850697
> 
> 赞同：3
> 
> 时间：2013-02-13T09:53:49.867
> 
> 标签：iphone, ios, objective-c

我想在我要构建的 Iphone 应用程序上添加一个支付模块，

我希望用户使用 Pago 付款。当网页加载时会显示一个按钮，单击该按钮会在新窗口中打开一个新页面。

在该页面上，用户输入付款详细信息并处理付款。由于我们无法控制此窗口，因此我们无法调用我们的自定义 url 以在付款成功时返回我们的应用程序。

那么如何在支付成功后返回 App 呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T11:04:31.330

没有简单的方法可以做到这一点。尝试在 web 视图中打开页面，并添加当成功页面的 url 与 web 视图中的 url 匹配时显示成功消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T16:38:35.650

> 我希望用户使用 Pago 付款。当网页加载时会显示一个按钮，点击？按钮在新窗口中打开新页面。

新页面是否在您应用的 web 视图中打开？

如果是这样，您只需要获取支付成功时获得的 URL（如果可以的话）并使用以下 Web 视图委托方法来捕获 URL：

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType
{
  NSString *urlString = [NSString stringWithFormat:@"%@", request.URL];

  // If not found, load url
  if ([urlString rangeOfString:@"http://you-url"].location == NSNotFound)
  {
    return YES;
  }
  // If found, intercept
  else
  {
    // Do what you want here
    return NO;
  }
} 
```

# pdf - Coldfusion：使用 cfdocument 时如何在新页面上包含 HTML 表格标题？

> ID：14850699
> 
> 赞同：5
> 
> 时间：2013-02-13T09:53:52.300
> 
> 标签：pdf, coldfusion, page-break

我在页面上有一个表格，其中包含从查询生成的数据。这使得无法预测将生成多少行。

当使用 cfdocument 将页面输出为 PDF 时，表格通常在分页符处被一分为二。

为了清楚起见，是否有任何简单的方法可以在新页面上包含表格标签？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T13:30:54.083

我不得不使用 cfdocument 相当多的工作，让它在某些情况下可用可能是一个真正的熊。

我相信您的问题的答案可以在此页面上找到，因为您知道每页上有多少条记录（静态行高）： [COLDFUSION: cfdocument and force a pagebreak](https://stackoverflow.com/questions/2112866/coldfusion-cfdocument-and-forcing-a-pagebreak)

以下是我发布并解决的有关 cfdocument 的其他一些问题，希望对您有所帮助。

*   [将 PDF 缩放为单页](https://stackoverflow.com/questions/3689219/scale-pdf-to-single-page)

*   [cfdocument 防止中间行分页符](https://stackoverflow.com/questions/12061281/cfdocument-prevent-page-breaks-mid-row)

*   [CFDocument 仍然截断某些页面上的文本顶部](https://stackoverflow.com/questions/2288960/cfdocument-still-cutting-off-the-tops-of-text-on-some-pages)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-20T05:34:34.617

只需添加一些不起作用的东西（在 CF10 中，我认为它使用与 CF8 和 CF9 相同的 CFdoc 渲染器）：

*   *使用css:after*在 header 元素后添加内容（CFdocument 不支持 css3）
*   *头{显示：表头组；}*（不支持）
*   在表输出中使用*javascript*动态添加标题行（pdf 渲染器不执行 js）
*   在 cfdocument 正文中测试*#cfdocument.currentpagenumber#*（该变量似乎只存在于页眉和页脚中）
*   添加一个*在（soundsOfTheDot 回答了他的另一个问题，说这行得通，但在我的测试中，渲染器似乎关闭了每页末尾的表格，然后重新打开它）*
**   *在测试中添加一个表*，就像在第一个之后的所有页面上插入它（这几乎可以完成工作，如果你可以硬编码你的列宽，那么两个表对齐并确保这个假之间没有间隙标题和实际表格）*

 *我希望这可以节省一些时间。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T13:53:50.043

试试这个方法，我用过

```
<cfset amount="6" />
<cfdocument
format="pdf"
unit="cm"
pageType="A4"
filename="#path##name#.pdf">
 <cfoutput>
    <cfloop from="1" to="#amount#" index="i">
        <cfset filename = "#name#_#i#" />
        <cfimage
            action="convert"
            destination="#path#codes/#filename#.jpg"
            source="#path#codes/#filename#.png" />
        <img src="file://#path#codes/#filename#.jpg" style="width: 3.58cm; margin: 0 0.2cm 0.5cm;">
    </cfloop>
</cfoutput> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-01-31T22:27:36.660

我的 PDF 恰好适合每页 21 行，所以我确保当前行 MODULO 21 等于 0。请注意，我从每页一个新表开始，所以我把新表和只`<table>`放在`<thead>`里面用于上一页的表格和分页符。然后我跟着它，瞧，它就像一个魅力。我还为 PDF 添加了一个漂亮的页脚，只是为了好玩。`<cfif>``</tbody>``</table>``<tbody>`

```
<cfquery name="getDeletedBarcodes" datasource="#application.dsn#">
    SELECT * FROM deletedRecords
</cfquery>
<cfdocument filename="reports/DeletedBarcodes.pdf" format="PDF" overwrite="true">
    <cfif getDeletedBarcodes.RecordCount NEQ 0>
        <h2 align="center" style="text-decoration: underline; font-weight: bold">Deleted Barcode Records</h2>
        <table class="deletedBarcodesTable" border="1" style="margin-top: 10px" rules="rows">
            <thead>
                <tr>
                    <th>Barcode</th>
                    <th>Building</th>
                    <th>Room</th>
                    <th>Location</th>
                    <th>Shelf</th>
                    <th>Inventoried</th>
                    <th>Deleter Name</th>
                    <th>Time Deleted</th>
                    <th>Reason Deleted</th>
                </tr>
            </thead>
    <cfelse>
        <p>There are no records to show that have deleted barcodes.</p>
    </cfif>
    <cfloop query="getDeletedBarcodes">
        <cfoutput>
            <cfif getDeletedBarcodes.currentRow MOD 21 EQ 0>
                </tbody></table>
                <cfdocumentitem type="pagebreak" />
                <table class="deletedBarcodesTable" border="1" style="margin-top: 10px" rules="rows">
                    <thead>
                        <tr>
                            <th>Barcode</th>
                            <th>Building</th>
                            <th>Room</th>
                            <th>Location</th>
                            <th>Shelf</th>
                            <th>Inventoried</th>
                            <th>Deleter Name</th>
                            <th>Time Deleted</th>
                            <th>Reason Deleted</th>
                        </tr>
                    </thead>
                    <tbody>
            </cfif>
            <tr>
                <td align="center"><cfif NOT StructKeyExists(getDeletedBarcodes, "Barcode") OR NOT len(Barcode)><strong style="color: red">N/A</strong><cfelse>#Barcode#</cfif></td>
                <td align="center"><cfif NOT StructKeyExists(getDeletedBarcodes, "Building") OR NOT len(Building)><strong style="color: red">N/A</strong><cfelse>#Building#</cfif></td>
                <td align="center"><cfif NOT StructKeyExists(getDeletedBarcodes, "Room") OR NOT len(Room)><strong style="color: red">N/A</strong><cfelse>#Room#</cfif></td>
                <td align="center"><cfif NOT StructKeyExists(getDeletedBarcodes, "Location") OR NOT len(Location)><strong style="color: red">N/A</strong><cfelse>#Location#</cfif></td>
                <td align="center"><cfif NOT StructKeyExists(getDeletedBarcodes, "Shelf") OR NOT len(Shelf)><strong style="color: red">N/A</strong><cfelse>#Shelf#</cfif></td>
                <td align="center"><cfif NOT StructKeyExists(getDeletedBarcodes, "Inventoried") OR NOT len(Inventoried)><strong style="color: red">N/A</strong><cfelse>#LEFT(Inventoried, 10)#</cfif></td>
                <td align="center"><cfif NOT StructKeyExists(getDeletedBarcodes, "DeleterName") OR NOT len(DeleterName)><strong style="color: red">N/A</strong><cfelse>#DeleterName#</cfif></td>
                <td align="center"><cfif NOT StructKeyExists(getDeletedBarcodes, "TimeDeleted") OR NOT len(TimeDeleted)><strong style="color: red">N/A</strong><cfelse>#TimeDeleted#</cfif></td>
                <td align="center"><cfif NOT StructKeyExists(getDeletedBarcodes, "ReasonDeleted") OR NOT len(ReasonDeleted)><strong style="color: red">N/A</strong><cfelse>#ReasonDeleted#</cfif></td>
            </tr>
        </cfoutput>
    </cfloop>
    <cfdocumentitem type="footer"> 
        <cfoutput>
            <div style="border-top: 5px solid black; border-top-width: 100vw">
                <span style="left: 0; float: left">#DateFormat(Now(), "full")#</span>
                <span style="right: 0; float: right">Page #cfdocument.currentpagenumber# of #cfdocument.totalpagecount#</span>
            </div>
        </cfoutput>
    </cfdocumentitem>
</cfdocument> 
```*

# selenium - HtmlUnitDriver 和 css 悬停

> ID：14850700
> 
> 赞同：1
> 
> 时间：2013-02-13T09:53:53.257
> 
> 标签：selenium, htmlunit

我仍在返回此处显示的弹出菜单[Actions and htmlunitdriver - speed issue](https://stackoverflow.com/questions/14750790/actions-and-htmlunitdriver-speed-issue)

（虽然我不再使用 Thread.sleep 了）

造成所有麻烦的是 .perform() 行。我有javascript。现在，经过一番谷歌搜索，看起来 htmlunitdriver 不支持 css hover 而我的弹出菜单使用它！真的是这样吗？有什么方法可以测试这些功能吗？

# c - C矩阵函数分段错误

> ID：14850701
> 
> 赞同：-2
> 
> 时间：2013-02-13T09:53:55.357
> 
> 标签：c, arrays, dynamic, matrix, segmentation-fault

**当函数loadRow(tmpPop,bestOf4Route,k,n);**时，我有这段代码给我 SEGMENTATION FAULT ；称为第五次。特别是，该函数在 fro 的第一个循环中被正确调用（当 p=3 时）。对于每个 k 值，一切正常。我不明白为什么，我第二次执行循环（p = 7），第一次被调用（k = 0），当尝试访问矩阵tmpPop时它返回SEGMENTATION F。

```
 randperm(popSize,randomOrder);
      for(p = 3;p<popSize;p+=4)
      {
        load_rtes(rtes,pop,randomOrder,n,p);
        load_dists(dists,totalDist,randomOrder,p);
        find_min(dists, 4,&m,&idx);
        for(j=0;j<n;j++)  bestOf4Route[j]=rtes[j][idx];
        X = rand_range(1,5);
        Y = rand_range(1,5);
        for(k =0;k<4;k++) //Mutate the Best to get Three New Routes
        {
            loadRow(tmpPop,bestOf4Route,k,n);

            switch(k)
            {
                case 1: //Flip
                    flipMutation(tmpPop,k,X,Y);
                    break;
                case 2: //Swap
                    swapMutation(tmpPop,k,X,Y);
                    break;
                case 3: //Slide
                    slideMutation(tmpPop,k,X,Y);
                    break;
            }
        }
        loadnewPop(newPop,tmpPop,p,n);
    } 
```

功能是：

```
void loadRow(int **mat,int *array,int k,int size)
{
   int j;

   for(j=0;j<size;j++)
   {
       mat[j][k] = array[j];
   }
} 
```

参数是：

> 弹出大小 = 16

```
n= 8

// create 4 x N matrix

tmpPop = (int**)malloc(n * sizeof(int*));

if(tmpPop==NULL) return 1;

for (i = 0; i < n; i++) {

  tmpPop[i] = (int*)malloc(4 * sizeof(int));

  if(tmpPop[i]==NULL) return 1;
}

// Creates an array of n

bestOf4Route = (int*)malloc(n * sizeof(int));

if(bestOf4Route==NULL) return 1;

clear_array(bestOf4Route,n); 
```

而她是调试结果：

> 00401865 loadRow(mat=0x3e1438, array=0x3e1698, k=0, size=8)

```
void load_rtes(int **rtes,int **pop,int *randomOrder, int n,int p)
{
  int i,j,r;

  for(i=p-3;i<=p;i++)
  {
    //thakes the i element of randomOrder and use it as index for the pop row
    r=randomOrder[i];
    // copy the pop row in rtes
    for(j=0;j<n;j++)
    {
        rtes[j][i]=pop[j][r];
    }
  }
}

void randperm(int n,int *perm)
{
   int i, j, t;

for(i=0; i<n; i++)
    perm[i] = i;
for(i=0; i<n; i++) {
    j = rand()%(n-i)+i;
    t = perm[j];
    perm[j] = perm[i];
    perm[i] = t;
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:04:23.047

Segfault 意味着您访问了不允许访问的内存区域。当指针算术错误时，这很容易发生。所以，虽然我不能告诉你问题究竟出在哪里，但我建议你使用一个好的调试器或者一些语句来`printf()`查看`k`，看看你是否超出了矩阵/数组的界限。此外，您需要确保分配了正确的内存量。`n``j`

# java - 云就绪软件

> ID：14850702
> 
> 赞同：-1
> 
> 时间：2013-02-13T09:53:57.340
> 
> 标签：java, cloud, amazon-cloudfront, cloud-hosting

我有自己的应用程序服务器（如 oracle weblogic）来处理 HTTP 请求。

现在我的软件需要进行哪些更改才能使其成为云就绪。我在网上搜索并获得了一份多租户文档。

我需要研究的其他方面是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:23:49.317

没有，EC2 应该像任何其他 Web 服务器一样工作。您仍然需要通过 Amazon 的界面以及服务器本身来维护开放端口等的额外开销，但就实际运行 Web 服务器而言，它应该完全相同。

就多租户而言，这再次取决于 RDS 应该处理的数据库架构（如果您有租户密钥）。

# python - 在 windows 上设置 mod_wsgi 和 pyramid

> ID：14850703
> 
> 赞同：0
> 
> 时间：2013-02-13T09:54:00.663
> 
> 标签：python, apache, mod-wsgi, pyramid

我一直在尝试在 windows 中的 mod_wsgi 下设置金字塔。我的应用程序是使用命令创建的简单脚手架

```
..\Scripts\pcreate -s starter it 
```

我的 httpd.conf 文件有以下指令

```
LoadModule wsgi_module modules/mod_wsgi-win32-ap22py27-3.3.so
WSGIScriptAlias /x "C:/Documents and Settings/Administrator.TRANSGLOBAL/Desktop/env/pyramid.wsgi"
<Directory "C:/Documents and Settings/Administrator.TRANSGLOBAL/Desktop/env">
Order allow,deny
Allow from all
</Directory> 
```

所以我所有的应用程序代码都在它的文件夹中。mod_wsgi.so 文件被加载到 apache 中，下面的示例代码在 pyramid.wsgi 中工作

```
def application(environ, start_response):
    status = '200 OK'
    output = 'Hello World!'

    response_headers = [('Content-type', 'text/plain'),
                        ('Content-Length', str(len(output)))]
    start_response(status, response_headers)

    return [output] 
```

但是，当我更改 pyramid.wsgi 代码以指向名为“it”的金字塔应用程序时

```
from pyramid.paster import get_app
import os
import sys
application = get_app('C:\Documents and Settings\Administrator.TRANSGLOBAL\Desktop\env\it\development.ini', 'main') 
```

Apache 日志产生以下错误

```
File "C:/Documents and Settings/Administrator.TRANSGLOBAL/Desktop/env/pyramid.wsgi", line 11, in <module>
application = get_app('C:\\Documents and Settings\\Administrator.TRANSGLOBAL\\Desktop\\env\\it\\development.ini', 'main')
File "C:\\Python27\\lib\\site-packages\\pyramid-1.4-py2.7.egg\\pyramid\\paster.py", line 31, in get_app
app = loadapp(config_name, name=section, relative_to=here_dir, **kw)

raise DistributionNotFound(req)  # XXX put more info here
DistributionNotFound: it 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T13:00:53.227

经过大量实验后，我注意到我使用的所有 windows 框（windows 7、windows 8 和 windows server 2003）都拒绝使用虚拟环境中的文件并在 c:/python27/ 中查找 it 项目文件库/站点包

解决方案是设置我的包的 dist 包

`..\Scripts\python setup.py sdist`

然后像任何其他应用程序一样将应用程序安装在 dist 文件夹中。我的 apache 配置保持不变。

# android - 从 Google Play 中删除未发布的应用

> ID：14850708
> 
> 赞同：32
> 
> 时间：2013-02-13T09:54:08.750
> 
> 标签：android, google-play

我在我的 Google Play 帐户中创建了一个新应用。我还*没有发布*它。它刚刚准备好发布。

由于它尚未发布，有什么方法可以从我的帐户中永久删除它？

我找不到任何删除或删除按钮。我[在这里](https://stackoverflow.com/questions/11074972/how-remove-application-from-app-listings-on-android-developer-console)和[这里](https://stackoverflow.com/questions/11180996/can-we-still-remove-never-published-apps-from-google-play)阅读，但找不到任何删除按钮。

* * *

如果该应用程序仅发布**到 alpha 或 beta 版本**会怎样——在这些情况下，您可以**重用包名称**吗？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2018-11-04T13:28:55.483

无法从谷歌控制台删除应用程序，但您可以请求删除应用程序。 [https://support.google.com/googleplay/android-developer/contact/publishing](https://support.google.com/googleplay/android-developer/contact/publishing)

[![在此处输入图像描述](../Images/5bb65cba978e605873d1156acbbe9111.png)](https://i.stack.imgur.com/DWeNy.png)

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-02-13T09:58:16.807

有一个非官方的删除可能是旧的 android 开发者控制台中的错误/故障。说明如下。

1.  切换回旧的开发者面板
2.  选择要删除的应用程序并确保它的描述和所有必要的发布组件都已填写。（您可能会使用虚假信息）
3.  将应用程序另存为草稿。不要发布
4.  选择 APK 标签
5.  在当前激活的 APK 上按删除，您的草稿应用程序应该会被删除。您可能需要按“切换到高级”才能显示此屏幕。

至关重要 - 应用程序之前不得发布。

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2017-06-05T02:29:54.123

您可以在应用发布之前随时删除它。请注意，此答案是*在*OP 指定他的应用程序尚未发布之前给出的。

发布后，它在 Google PlayStore 应用程序命名层次结构中永远“拥有”其唯一的包名，例如`com.yourdomain.yourapp`.

发布后没有“删除”这个包名。那会造成混乱。

例如，Google Analytics 需要这个永久的唯一 ID。敌对的开发者可以通过使用差评攻击来强制你删除它来接管你的包名。

包名本身并不是真正面向公众的资产。如果您只想“重新启动”您的应用程序（即以零下载和评论重新开始），那么只需取消发布（停用）旧包名并以新包名重新发布 apk。

发布应用的正确方法是在开发控制台中使用不保留评论的 alpha 和 beta 流。

唯一的问题是，一旦应用程序（包）定价为免费，它将永远免费，这意味着您必须以新的包名称重新发布才能为免费测试版定价。

只有当您已经拥有成功的应用程序时，才能进行付费测试。

PlayStore 发布政策不断变化（现在有人工审核政策）。您可能希望直接向他们提出您的担忧——他们确实会回应。

我相信每个开发者都想在发现应用程序无法在设备上运行后删除并重新发布它`X`，因为设备`X`制造商对 Android 进行了调整，导致设备`X`所有者对应用程序给予不公平的评价。

这也是一种避免让人们永远免费升级您的应用程序的方法，这是不现实的，尤其是。给定盗版统计数据。业主经常在重大升级后重新启动以重新开始。

您可能希望采用包含主要版本代号的包名，就像大男孩一样（mountainlion、xenial、marshmallow 等），例如`com.yourdomain.yourapp.codename`.

`X`通常是三星

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2013-02-13T09:56:02.613

不是。没有办法，您只能取消发布并使其对用户不可见，但在开发人员控制台中您将永远看到

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2015-02-28T01:52:29.630

上面的回答已经过时了。开发者控制台现在提供了一个“删除应用程序”链接，位于应用程序名称的正下方（适用于从未发布过的应用程序）。

更多信息：[如何从开发者控制台 android 中删除已发布的应用程序](https://stackoverflow.com/questions/18669911/how-to-delete-the-published-app-from-developer-console-android/27289602#27289602)

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2018-07-25T16:38:02.517

尝试通过以下链接联系 google play 支持：

[https://support.google.com/googleplay/android-developer/contactflow?hl=en](https://support.google.com/googleplay/android-developer/contactflow?hl=en)

*   在 google play 上发布应用
*   发布应用时出错
*   电子邮件支持

填写必填字段，然后勾选选项

```
Request for app deletion 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2017-05-04T18:42:56.333

如前所述，只能删除从未发布过的应用程序。如果您希望以相同的名称发布新版本，请转到所有应用程序 -> 选择（旧）应用程序 -> 转到 Store Presence -> 转到商店列表。向顶部字段重命名您的旧版本。提交更改，您就可以使用现有名称创建应用程序。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-06-28T06:42:10.560

如果您的应用尚未发布，则可以单击“所有应用”页面上的“**删除**”按钮。它看起来像一个垃圾桶。

[![在此处输入图像描述](../Images/8186062dd9428260f9584e76454e3d06.png)](https://i.stack.imgur.com/2HavX.png)

为了再次测试它，我创建了一个名为“删除我”的新应用程序，并且显示的图标允许我删除它。不过，我发布的所有应用程序都不可删除​​。

[![在此处输入图像描述](../Images/37d3b497f54ed2105edfc0f3ddc85151.png)](https://i.stack.imgur.com/nmF9C.png)

# codeigniter-2 - codeigniter 类名约定

> ID：14850709
> 
> 赞同：2
> 
> 时间：2013-02-13T09:54:11.473
> 
> 标签：codeigniter-2

当我在 NetBeans 中进行开发时，由于打开的选项卡数量众多，我感到很困惑。在大多数情况下，控制器与视图或模型具有相同的名称。在[约定样式指南](http://ellislab.com/codeigniter/user-guide/general/styleguide.html)中，他们说您可以在控制器文件名前加上自定义后缀，但不起作用。我的问题是，有没有机会用“_controller”结束所有控制器文件？在我的示例中，类是`class Verify_login extends CI_Controller {`，文件名为`verify_login.php`. 像他们在指南中所说的那样尝试过，`controller.verify_login.php`但正如我所说的那样，它不起作用。codeigniter 的文档中有很多混乱。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T18:18:21.677

因为控制器是唯一暴露在 URL 中的东西，所以我通常用“user_view”或“user_model”这样的指示符来命名我的视图和模型。控制器只是“用户”，这样我总是知道我正在处理哪个文件。

# mongodb - node-mongodb-native 什么时候命中数据库？

> ID：14850715
> 
> 赞同：0
> 
> 时间：2013-02-13T09:54:32.830
> 
> 标签：mongodb, node-mongodb-native

我无法理解使用`node-mongodb-native`. 找不到任何参考。由于一切都是基于回调的，它让我感觉每次调用都会命中数据库......例如，这两个片段在命中数据库的次数方面是否有任何不同：

```
// ---- 1
db.collection('bla', function(err, coll) {
    coll.findOne({'blo': 'bli'}, function(err, doc) {
        coll.count(function(err, count) {
            console.log(doc, count)
        })
    })
})

// ---- 2
db.collection('bla', function(err, coll) {
    coll.findOne({'blo': 'bli'}, function(err, doc) {
        db.collection('bla', function(err, coll) {
            coll.count(function(err, count) {
                console.log(doc, count)
            })
        })
    })
}) 
```

我基本上想知道我是否可以缓存集合和游标的实例。例如，为什么不在服务器启动时获取我只需要一次的集合，并无限期地重用相同的实例？

我真的很想了解整个事情是如何工作的，所以我真的很感谢一个很好的链接来详细解释东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T12:07:48.750

经过一番谷歌搜索，我找到[了这个](http://grokbase.com/t/gg/node-mongodb-native/131vnymxyr/mongodb-best-practices-for-beginner)关于`node-mongodb-native`. 它由似乎是图书馆维护者的 Christian Kvalheim 回答。他说 ：

> “如果您愿意，您可以安全地存储收集对象并重复使用它们”

因此，即使`collection`在模式下调用可能会命中数据库，`strict`也可以重用实际的客户端集合实例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T10:50:07.970

查看 node.js 驱动程序的源代码，`collection`它似乎不会在创建集合时 ping MongoDB，除非您有严格模式：[https ://github.com/mongodb/node-mongodb-native/blob/master /Readme.md#strict-mode](https://github.com/mongodb/node-mongodb-native/blob/master/Readme.md#strict-mode)

我查看的源代码（[https://github.com/mongodb/node-mongodb-native/blob/master/lib/mongodb/db.js#L446](https://github.com/mongodb/node-mongodb-native/blob/master/lib/mongodb/db.js#L446)）强化了这样一种想法，即如果没有严格，那么它只会尝试创建一个新的 node.js 集合对象并运行回调。

但是`findOne`，`count`会破坏 node.js 的“惰性”查询，并强制它查询数据库以获得结果。

注意：集合中的`count`存在不会强制对集合中的所有项目进行“真实”计数。相反，它将从集合元中装饰此信息。

因此，对于第一个片段，您应该看到两个查询运行。一个用于 the `findOne`，一个用于 the `count`，两个用于第二个片段，因为在 之后创建集合`findOne`不应强制对 MongoDB 进行查询。

# android - 在 Development/apps 文件夹中添加文件，而不显示在应用程序菜单中

> ID：14850716
> 
> 赞同：0
> 
> 时间：2013-02-13T09:54:33.297
> 
> 标签：android, android-source, android-framework

我正在尝试将我的应用程序添加到 Android_source/Development/apps/ 文件夹中。我确认我的代码已编译，就好像我添加语法错误编译器停在那里一样。

*但问题是我的应用程序没有显示在应用程序菜单中*。我也应该将我的应用程序包添加到其他地方吗？

Android.Mk 文件内容（我从包/应用程序/蓝牙中的蓝牙应用程序复制了这些内容）

```
LOCAL_PATH:= $(call my-dir)
include $(CLEAR_VARS)

LOCAL_MODULE_TAGS := optional

LOCAL_SRC_FILES := \
        $(call all-java-files-under, src)

LOCAL_PACKAGE_NAME := Bluetooth_LE
LOCAL_CERTIFICATE := platform

#LOCAL_JNI_SHARED_LIBRARIES := libbluetooth_jni
LOCAL_JAVA_LIBRARIES := javax.obex
LOCAL_STATIC_JAVA_LIBRARIES := com.android.vcard

LOCAL_REQUIRED_MODULES := libbluetooth_jni bluetooth.default

LOCAL_PROGUARD_ENABLED := disabled

include $(BUILD_PACKAGE)

include $(call all-makefiles-under,$(LOCAL_PATH)) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T16:16:07.817

您似乎忘记将您的包包含在构建中。将您的模块名称 ( `Bluetooth_LE`) 放入适当的构建文件（例如，放入`build/target/product/core.mk`）到 section`PRODUCT_PACKAGES`中。

# iphone - 在 iTunes 连接中更改二进制文件

> ID：14850720
> 
> 赞同：8
> 
> 时间：2013-02-13T09:54:44.177
> 
> 标签：iphone, ios, ipad, app-store-connect, ipa

我为 iPhone 制作了一个应用程序，几天前我在应用程序商店上传了我的二进制文件。目前我的应用状态显示 **在 review 中**，现在我想更改我的`.ipa`文件。

`.ipa`当我的应用**处于审核状态**时，我可以立即更改我的文件吗？

**或者**

我是否必须等待审核完成然后重新上传我的二进制文件并等待更多天？

任何帮助将不胜感激 ！！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-13T09:57:22.410

是的，当您的应用程序状态为“处于审核状态”且更改为“准备出售”之前，您可以更改二进制文件。在此之前，您必须前往 iTunes Connect 并丢弃您的旧二进制文件。

为此，**在 iTunes 连接中，进入“管理您的应用程序”，然后单击您的应用程序。然后“查看详细信息”并按“链接”下的“二进制详细信息”。您会在右上角看到“拒绝此二进制文件”**。丢弃二进制文件后，您可以继续上传新的。

完成此操作后，您将再次从一开始就被置于等待队列中。就像您今天要上传二进制文件并等待审核。

为了确认，你可以检查[这个](http://developer.apple.com/library/mac/#documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/10_ManagingYourApplications/ManagingYourApplications.html)

> 拒绝你的二进制文件
> 
> 如果您提交的二进制文件的状态为以下任何一种，您可以拒绝该二进制文件：缺少屏幕截图（仅限 iOS）、等待出口合规、等待审查、审查中、等待开发者发布或等待 Apple 发布。单击“二进制详细信息”页面上的“拒绝二进制”按钮。此操作会将您的二进制文件从审查队列中删除。在 iTunes Connect 中将应用移回等待上传状态后，您可以通过 Application Loader 提交另一个更新。如果您拒绝二进制文件，您的应用程序的状态将更改为 Developer Rejected。当您重新提交二进制文件时，审核过程将从头开始。

# android - 异步任务运行时活动重启

> ID：14850723
> 
> 赞同：4
> 
> 时间：2013-02-13T09:54:47.247
> 
> 标签：android, asynchronous, android-activity, restart

我对异步任务感到困惑。当我的活动重新开始时，我需要做什么？在我的活动中， onCreate() 启动了一个异步任务。我知道活动会在 android 需要时重新启动（即方向更改或其他）。我对此没有任何问题......而且我认为重新启动新的异步任务是可以接受的。

不过，我不知道我之前的异步任务发生了什么。我有摧毁它吗？

我的第二个问题：如果我在上一个任务中有一个 progressDialog 怎么办。我是否必须关闭此对话框（以及如何关闭）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T10:05:09.173

不，您的`Asynctask`遗嘱以您的活动以及您的`progressDialog`. 当您的活动调用`onRestart()`时，它必须首先通过`onPause`，`onStop`这将破坏您的活动，但不会破坏您的应用程序。

有关活动的更多信息 - [http://developer.android.com/reference/android/app/Activity.html](http://developer.android.com/reference/android/app/Activity.html)

`Asynctask`此外，取消您的以及设置`progressDialog`为空会更安全。

从`Asynctask`文档

`A task can be cancelled at any time by invoking cancel(boolean). Invoking this method will cause subsequent calls to isCancelled() to return true. After invoking this method, onCancelled(Object), instead of onPostExecute(Object) will be invoked after doInBackground(Object[]) returns. To ensure that a task is cancelled as quickly as possible, you should always check the return value of isCancelled() periodically from doInBackground(Object[]), if possible (inside a loop for instance.)`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:11:22.183

您必须保存活动实例，当您的活动重新启动时，您必须使用该实例恢复您的活动，请使用此链接： [在 Android 中保存一些关于方向更改的数据，](https://stackoverflow.com/questions/7167729/saving-some-data-on-orientation-change-in-android) 您必须关闭该对话框。

# xslt - XSLT - XPath，某种类型的最深元素

> ID：14850727
> 
> 赞同：-1
> 
> 时间：2013-02-13T09:55:02.953
> 
> 标签：xslt, xpath

我试图找到一种方法来确保感兴趣的元素不（递归地）包含“相同”元素。例如：

```
<Ev>
   <Ev attr="0">
      <Ev someOtherAttr="str1">
         <Ev attr="1">
            <Ev>
            </Ev>
         </Ev>
      </Ev>
   </Ev>
</Ev> 
```

在这里，我想确保我拥有的元素是属性名为 attr 的最深的元素（属性值可以是任意的，不应匹配也不应考虑在内）。

因此，在这种情况下，我想`<Ev attr="1">`从两个“相同”元素中进行选择：

`<Ev attr="0">`和`<Ev atttr="1">`

**我的目标是：**

```
<xsl:for-each select="//Ev/@attr">
    <xsl:if select="//*[not(child::Ev/@attr)]">
        <xsl:value-of select="count(ancestor::node())"/>
    </xsl:if>
</xsl:for-each> 
```

但是**if**部分当然不好，也许 for-each`select="<condition_a> and not(<condition_b>)"`是要走的路？

**（用我尝试过的方法编辑了问题）**

最好的问候，手枪先生

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T10:37:14.637

下面的 XPath 表达式应该可以工作，尽管它不是很有效：

```
//Ev[@attr and not(.//Ev[@attr])] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T10:15:28.443

像这样的东西会满足您的需求吗？

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="xml" indent="yes" omit-xml-declaration="yes"/>

  <xsl:template match="/">
    <xsl:apply-templates select="//Ev[@attr]" mode="deepest">
      <xsl:sort select="count(ancestor::*)" data-type="number" order="descending" />
    </xsl:apply-templates>
  </xsl:template>

  <xsl:template match="Ev" mode="deepest">
    <xsl:if test="position() = 1">
      <!-- If we get to the inside of this xsl:if, the context node is 
           the deepest Ev in the selection -->
       <xsl:value-of select="count(ancestor::node())"/>          
    </xsl:if>
  </xsl:template>
</xsl:stylesheet> 
```

在您的示例 XML 上运行时，这会产生：

```
4 
```

# asp.net-mvc-4 - Page Inspector 可以更改用户代理吗？

> ID：14850730
> 
> 赞同：1
> 
> 时间：2013-02-13T09:55:06.777
> 
> 标签：asp.net-mvc-4, visual-studio-2012

我没有太多使用页面检查器。在看到他们进行了[一些改进](http://weblogs.asp.net/scottgu/archive/2012/12/14/announcing-the-asp-net-and-web-tools-2012-2-release-candidate.aspx)后，例如运行时 CSS 更改与 CSS 文件同步，尽管尝试一下可能是个好主意。

但我应该将用户代理更改为移动用户代理。我可以用任何浏览器做到这一点。

页面检查器是否有任何关于更改用户代理的选项？

PS：我目前正在使用 asp.net-mvc4。

# javascript - extjs4如何重置我修改后的商店

> ID：14850734
> 
> 赞同：1
> 
> 时间：2013-02-13T09:55:19.323
> 
> 标签：javascript, extjs4

我想将修改后的记录保存在 extjs4 中，当我更改某些复选框并转到下一页时，我没有上次修改记录，为什么？在 extjs 3 中我找到了这个方法 pruneMOdifiedRecords （如果为真 - 保存修改），但在 extjs4 中我还没有找到这个方法我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:31:03.407

如果要保存更改，可以使用 .sync() 要求商店与服务器同步，或者丢弃它们然后使用 .reload() 重新加载

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T20:23:29.517

您可以调用[commitChanges](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.Store-method-commitChanges)来保存您的修改并调用[rejectChanges](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.Store-method-rejectChanges)来重置它们。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-15T12:15:36.390

要“拒绝”您可以使用的所有记录更改（ExtJS 3.x）：

```
record.reject(); 
```

在这里，您在创建记录或上次提交记录时所做的所有更改都将被拒绝。

# c++ - CMake 导入的库行为

> ID：14850736
> 
> 赞同：17
> 
> 时间：2013-02-13T09:55:21.037
> 
> 标签：c++, c, cmake

我对 CMake 有一个奇怪的问题。

我正在将 Curl 导入到我的项目中，因此我为您编写了我的 CMakeLists.txt 文件的简化摘要。

> ADD_LIBRARY（libcurl**共享**导入）
> 
> SET_PROPERTY（目标 libcurl 属性 IMPORTED_LOCATION ../lib/libcurl.lib）

当我运行 CMake 时，它​​会为 MS VC++（也适用于 Linux）生成项目文件。然后进入项目文件，我发现对 curl 库（**libcurl-NOTFOUND**）的错误引用！

如果我将代码更改为静态导入：

> ADD_LIBRARY（libcurl**静态**导入）
> 
> SET_PROPERTY（目标 libcurl 属性 IMPORTED_LOCATION ../lib/libcurl.lib）

我找到了对 ../lib/libcurl.lib 的正确引用。

你知道为什么会这样吗？

非常感谢你！

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-13T10:12:52.853

对于共享库，`IMPORTED_LOCATION`必须指向 DLL，而不是导入库。请参阅[文档](http://www.cmake.org/cmake/help/v2.8.10/cmake.html#prop_tgt%3aIMPORTED_LOCATION)。您可能还想设置[IMPORTED_IMPLIB](http://www.cmake.org/cmake/help/v2.8.10/cmake.html#prop_tgt%3aIMPORTED_IMPLIB)属性。

顺便说一句，CMake 也有一个用于 Curl 的[查找包](http://www.cmake.org/cmake/help/v2.8.10/cmake.html#module%3aFindCURL)；也许你可以用那个？

# silverlight-4.0 - 在重新选择时取消选择 silverlight TreeViewItem

> ID：14850737
> 
> 赞同：0
> 
> 时间：2013-02-13T09:55:21.377
> 
> 标签：silverlight-4.0, silverlight-toolkit

一旦我们选择了 TreeViewItem，我们怎么能再次取消它呢？

如果已选择 TreeViewItem，则不会再次调用 TreeViewItem.IsSelected 事件。

我在 TreeView 中重新选择节点时需要这种行为。

有任何想法吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-20T10:19:04.013

这是 Treeview 控件的问题，您需要解决此问题。

检查此网址 [http://social.msdn.microsoft.com/forums/en-US/wpf/thread/36aca7f7-0b47-488b-8e16-840b86addfa3/](http://social.msdn.microsoft.com/forums/en-US/wpf/thread/36aca7f7-0b47-488b-8e16-840b86addfa3/)

# postgresql - 不同行中日期之间的差异

> ID：14850739
> 
> 赞同：0
> 
> 时间：2013-02-13T09:55:25.443
> 
> 标签：postgresql, timestamp, rows, multiple-columns, datediff

海

我的问题是，我需要按站名和连接器编号和日期分组的充电开始和充电结束行（时间戳服务器）之间的平均时间。

主要问题是，我不能使用 Max oder Min 函数，因为我在表中多次使用相同的 stationname/connecternumber 组合。

所以实际上我必须选择第一个chargebegin并找到下一个chargeend（具有相同站/连接器编号组合和min（id）>chargebegin.id的那个）来获得差异。

我尝试了很多，但实际上我不知道该怎么做。

数据库是postgresql 9.2

测试数据：

```
create table datatable (
    id int,
    connectornumber int,
    message varchar,
    metercount int,
    stationname varchar,
    stationuser varchar,
    timestampmessage varchar,
    timestampserver timestamp,
    authsource varchar
);

insert into datatable values (181,1,'chargebegin',4000,'100','FCSC','2012-10-10 16:39:10','2012-10-10 16:39:15.26');
insert into datatable values (182,1,'chargeend',4000,'100','FCSC','2012-10-10 16:39:17','2012-10-10 16:39:28.379');
insert into datatable values (184,1,'chargebegin',4000,'100','FCSC','2012-10-11 11:06:31','2012-10-11 11:06:44.981');
insert into datatable values (185,1,'chargeend',4000,'100','FCSC','2012-10-11 11:16:09','2012-10-11 11:16:10.669');
insert into datatable values (191,1,'chargebegin',4000,'100','MSISDN_100','2012-10-11 13:38:19','2012-10-11 13:38:26.583');
insert into datatable values (192,1,'chargeend',4000,'100','MSISDN_100','2012-10-11 13:38:53','2012-10-11 13:38:55.631');
insert into datatable values (219,1,'chargebegin',4000,'100','MSISDN_','2012-10-12 11:38:03','2012-10-12 11:38:29.029');
insert into datatable values (220,1,'chargeend',4000,'100','MSISDN_','2012-10-12 11:40:14','2012-10-12 11:40:18.635'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:33:01.863

这可能有一些语法错误，因为我现在无法对其进行测试，但是您应该知道如何解决它。

```
with 
chargebegin as (
select
 stationname,
 connectornumber,
 timestampserver,
 row_number() over(partition by stationname, connectornumber order by timestampserver) as rn
from
 datatable
where
 message = 'chargebegin'
),
chargeend as (
select
 stationname,
 connectornumber,
 timestampserver,
 row_number() over(partition by stationname, connectornumber order by timestampserver) as rn
from
 datatable
where
 message = 'chargeend'
)

select
 stationname,
 connectornumber,
 avg(b.timestampserver - a.timestampserver) as avg_diff
from
 chargebegin a 
 join chargeend b using (stationname, connectornumber, rn)
group by
 stationname,
 connectornumber 
```

这假设 begin 事件总是有 end 事件，并且这些事件不能重叠（意味着对于 stationname 和 connectornumber，任何时候都只能有一个连接）。因此，您可以让用户`row_number()`获取匹配的开始/结束事件，然后进行所需的任何计算。

# java - 在亚马逊重命名/设置计算机（ec2）名称

> ID：14850741
> 
> 赞同：0
> 
> 时间：2013-02-13T09:55:28.043
> 
> 标签：java, amazon-ec2, amazon, computer-name

我尝试在一台计算机上打开带有 windows 域的亚马逊 VPC，很少有计算机会连接到它。

所以我制作了两种类型的图像（AMI），一种在预安装的域控制器中（具有恒定的私有 ip），另一种用于将连接到 DC 的计算机的图像

但是当我启动每个图像时，我会得到相同的计算机名称，因此它会给域控制器带来问题（每台计算机都需要一个名称）。

如果有一种方法可以使用 amazon API for JAVA 以编程方式启动具有集合名称的实例，我认为是解决此问题的最佳方法。

我搜索了整个 API，但我并没有真正找到任何可以帮助的东西。

我错过了什么？有没有办法用请求的计算机名启动实例？还有另一种方法吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-03T19:23:33.750

[http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AESDG-chapter-instancedata.html#instancedata-data-categories](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AESDG-chapter-instancedata.html#instancedata-data-categories)

搜索：AMI 启动指数值

# c# - 拆分字典中的值项

> ID：14850743
> 
> 赞同：0
> 
> 时间：2013-02-13T09:55:36.907
> 
> 标签：c#, split, idictionary

我之前问过类似的问题，但只是从稍微不同的角度问。

我有一个代码列表，在每个代码下面我有一堆取自字段 Subject 和 GenSubject 的值。

问题是这些值（尤其是一般主题）包含各种元素，用';'分隔。如何在运行查询时将拆分函数合并到字典中以拆分各种值？

```
while (dbReader.Read())
            {
                string code = (string)dbReader["CODE"];
                string subject = (string)dbReader["SUBJECT"];
                string generalSublject = (string)dbReader["GenSubject"];

                dict.Add(code, new List<string> { subject,generalSublject });

            } 
```

这是我想在需要拆分的地方拆分值的结果。

![在此处输入图像描述](../Images/07d723bbb737a5960054941f272ce616.png)

（我想在将它们添加到字典之前拆分这些值）

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T10:04:28.030

只需拆分`generalSublject`字符串并基于它创建列表，然后将其`subject`作为第一项插入。

```
var list = new List<string>(generalSublject.Split(new string[] { ";" },
    StringSplitOptions.None));
list.Insert(0, subject);
dict.Add(code, list); 
```

# c++ - PJSIP项目：从pjsua创建的窗口句柄总是NULL

> ID：14850746
> 
> 赞同：0
> 
> 时间：2013-02-13T09:55:50.660
> 
> 标签：c++, sdl, pjsip

在 PJSIP 项目（Windows 32 位 MFC/C++）中，我们正在使用 SIP 服务器来显示传入的视频呼叫。由于使用 SDL / DirectShow (DirectX) 层，SDL 创建自己的窗口来显示传入的视频（它有效）。我的 config_site.h 看起来像：

```
#define PJMEDIA_HAS_VIDEO           1
#define PJMEDIA_HAS_FFMPEG          1
#define PJMEDIA_VIDEO_DEV_HAS_SDL       1
#define PJMEDIA_VIDEO_DEV_HAS_DSHOW     1 
```

我会在自己的窗口中而不是在 SDL 的窗口中显示视频。因此，我尝试获取 SDL 窗口的 HWND 并将其用作自己的子窗口：

```
pjsua_call_get_info(call_id, &ci);
for (unsigned i = 0; i < ci.media_cnt; ++i) 
{
  if ((ci.media[i].type == PJMEDIA_TYPE_VIDEO) && 
     (ci.media[i].dir & PJMEDIA_DIR_DECODING))
  {
    pjsua_vid_win_info wi;
    pjsua_vid_win_get_info(ci.media[i].stream.vid.win_in, &wi);
    // Using handle like this or whatever:
    //HWND hwndOld = ::SetParent((HWND)&wi.hwnd.info.win.hwnd, pWnd->m_hWnd);
    break;
  }
} 
```

问题：**wi.hwnd.info.win.hwnd**总是 NULL ！

也许有人对 SDL 的 windows 有类似的问题？问题也是，我是否明显需要一个 SDL 层——也许我应该只使用 PJSIP 放弃它？我是说：

```
#define PJMEDIA_HAS_VIDEO           1
#define PJMEDIA_HAS_FFMPEG          1
//#define PJMEDIA_VIDEO_DEV_HAS_SDL       1
//#define PJMEDIA_VIDEO_DEV_HAS_DSHOW     1 
```

我试过这个配置，但没有视频显示...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T15:57:41.520

找到解决方法（快速而肮脏） - FindWindow 帮助（：

```
CWnd* pWnd = mainView->GetDlgItem(IDC_STATIC_CTRL);
RECT rectWin;
::GetWindowRect(pWnd->m_hWnd, &rectWin);

HWND hWnd = FindWindow( _T("SDL_app"), NULL);

::SetWindowPos(hWnd, 
        NULL, 
        rectWin.left, 
        rectWin.top, 
        rectWin.right - rectWin.left,
        rectWin.bottom - rectWin.top,
        SWP_SHOWWINDOW ); 
```

# neo4j - 使用 Neo4jClient 将 Neo4j 唯一性设置为 NODE_PATH

> ID：14850747
> 
> 赞同：0
> 
> 时间：2013-02-13T09:55:51.817
> 
> 标签：neo4j, cypher, neo4jclient

为了防止我的路径多次包含同一个节点，我希望能够使用 .Net Neo4jClient 或在数据库配置文件之一（最后一个我听说，不可能）。

如果可以做到这一点，我几乎可以肯定它也会解决这个问题：

[Neo4j 中的密码查询返回“未定义”](https://stackoverflow.com/questions/14330864/cypher-query-in-neo4j-returns-undefined)

谢谢你的帮助！

布伦特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:29:59.240

布伦特，

您可以使用 Cypher 的`CREATE UNIQUE`子句来创建关系：

[http://docs.neo4j.org/chunked/1.9.M05/query-create-unique.html#create-unique-create-relationship-if-it-is-missing](http://docs.neo4j.org/chunked/1.9.M05/query-create-unique.html#create-unique-create-relationship-if-it-is-missing)

如果它已经存在，它不会做任何事情。

——泰坦

# c# - 加密函数中的解密方法

> ID：14850748
> 
> 赞同：0
> 
> 时间：2013-02-13T09:55:54.737
> 
> 标签：c#, asp.net, password-hash

我有一种方法用于加密密码并将其存储到数据库中，如下所示：

```
public static string Md5Encrypted(string password)
        {
            byte[] pass = Encoding.UTF8.GetBytes(password);
            MD5 md5 = new MD5CryptoServiceProvider();
            string strPassword = Encoding.UTF8.GetString(md5.ComputeHash(pass));
            return strPassword;
        } 
```

现在我想要`decrypt`从数据库中获取的密码在存储时通过上述方法加密的方法。我不知道怎么做。任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T09:59:09.277

MD5 是一个散列函数（不是加密）并且是不可逆的。也就是说，您无法根据给定的哈希计算原始值。

更新：我推荐这篇描述如何安全存储密码哈希的文章。还有一个 C# 实现。

[http://crackstation.net/hashing-security.htm](http://crackstation.net/hashing-security.htm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:27:23.933

您无法对此进行解密，因为散列是一种单向函数 - 您无法获取散列值并将其转回原始值。

由于看起来您正在处理密码，因此我认为这是某种登录机制，这（可能）没问题。您需要做的是散列密码（就像您所做的那样），并在您的用户在您的网站上注册时存储散列值。当用户返回您的站点时，您获取他们输入的密码，对其进行散列（使用相同的方法），并将散列值与您存储的值进行比较。如果两个哈希匹配，则输入了正确的密码。

**盐**
散列存在一个问题，即相同的输入值总是产生相同的散列值（否则上述登录机制将不起作用）。不幸的是，这意味着[为通用密码字典](http://www.splashdata.com/press/PR121023.htm)生成哈希值是一项微不足道的练习。如果您的数据库遭到破坏，攻击者可以将您存储的所有哈希密码与他之前计算的值进行比较，如果他得到匹配，那么 Bazinga！他进入了你的数据。
为了防止这种情况，您在进行初始散列时可以做的是同时生成额外的随机数据位，这些数据在散列时与密码混合。这叫做*盐*（或者不太常见的随机数）。与其复制一些代码来执行此操作，在这一点上，我将指导您[阅读 blowdart](https://stackoverflow.com/users/2525/blowdart)的《Beginning ASP.NET Security ( [Amazon UK](https://rads.stackoverflow.com/amzn/click/0470743654) | [Amazon US](https://rads.stackoverflow.com/amzn/click/0470743654) ) 一书》，其中讨论了所有这些内容——散列、加盐和“适当的'加密。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T10:11:18.033

MD5 哈希函数是不可逆的，无法解密，如果您想在登录时检查用户名和密码，请执行此操作..

```
1.While registering a new user, Hash the password and store it in database.

2.During login,Hash the password entered by the user 

3.Now,Compare the password entered(Hashed ) with password stored in database(Hashed)

4.If both of them are same then allow user to login else display an error 
```

# c# - 播放自己的音频后恢复 Spotify

> ID：14850749
> 
> 赞同：0
> 
> 时间：2013-02-13T09:55:55.670
> 
> 标签：c#, windows-phone-7, windows-phone-8, windows-phone, spotify

我正在编写一个 WP7 和 WP8 运动跟踪应用程序，它通过语音指导为用户提供反馈。如果用户正在播放音乐，则需要暂停，语音教练需要说话，最后必须再次恢复音乐。对于标准音乐播放器，我根据[本网站](http://www.governor.co.uk/news-plus-views/2011/2/16/resuming-background-music-in-wp7-applications)提供的信息进行编码，它适用于标准音乐播放器，但不适用于 Spotify。

我一直在研究它，当我暂停他们的音乐时，媒体播放器似乎失去了对 Spotify 的跟踪，并且 Spotify 似乎崩溃了。播放 Spotify 时 MediaPlayer.Queue 中没有音乐，因此我无法保存和恢复。也不能简单地尝试 MediaPlayer.Resume(); 暂停 Spotify 后，因为播放列表为空，音乐播放器不知道该播放什么。

是否可以创建与 Spotify 兼容的 Windows Phone 应用程序？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T11:01:57.377

这是不可能的，因为诸如 Spotify 之类的 3rd 方媒体应用程序不使用`MediaPlayer`，因此`MediaPlayer.Resume()`对它们不起作用。

[您可以通过uservoice 站点](http://windowsphone.uservoice.com/forums/101801-feature-suggestions)请求 Microsoft 在未来版本的操作系统中实现这一点。

# javascript - 使用 JavaScript 隐藏最后一个 DIV？

> ID：14850751
> 
> 赞同：0
> 
> 时间：2013-02-13T09:56:01.307
> 
> 标签：javascript

我在 Google 上浏览了一下，但找不到任何有用的东西。如何使用以下代码隐藏最后一个 DIV...

```
document.getElementsByTagName('div').style.display = 'none'; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T09:59:44.513

`getElementsByTagName`为您提供与条件匹配的元素数组。所以你需要指定元素索引。所以你必须找到数组的大小并将样式应用于`size-1`元素。

```
var el = document.getElementsByTagName('div');
var size = el.length;
el[size-1].style.display = 'none'; 
```

**更新：**

这是一个[演示小提琴](http://jsfiddle.net/kCu4w/2/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-13T09:56:49.603

只需检索长度并取数组的最后一个（长度减一，因为它是从零开始的）：

```
var divs = document.getElementsByTagName('div');
divs[divs.length - 1].style.display = 'none'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T09:57:55.627

使用 JQuery 的`last()`方法（[http://api.jquery.com/last/](http://api.jquery.com/last/)）

```
$('div').last().hide(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-13T09:58:29.757

```
$("div:last").hide() 
```

它可以帮助你..

# php - 如何记录对 PHP 中函数的所有调用？（邮件（）函数）

> ID：14850756
> 
> 赞同：9
> 
> 时间：2013-02-13T09:56:24.750
> 
> 标签：php, debugging, backtrace

我有一个带有数十个虚拟主机的专用服务器。我想确定哪个文件正在调用 mail() 函数并在全局范围内记录它。我需要这样的东西：

```
[Wed Feb 13 10:42:39 2013] mail() called from /var/www/example1.php on line 70
[Wed Feb 13 10:42:40 2013] mail() called from /var/www/example2.php on line 70 
```

我不能使用 debug_backtrace() 或类似的，因为我不能将它添加到服务器中的任何 PHP 文件中。我可以将所有函数调用全局记录在一个文件中，比如将错误记录到 error.log 之类的文件中吗？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T10:18:17.857

一般来说，你会遇到麻烦；PHP 不提供内置的日志记录机制，因此您需要在 PHP 系统中添加一些内容才能做到这一点。

我看到的选项：

1.  修改 PHP 代码。鉴于您在问题中所说的话，我想这不是一个选择，但需要说明，因为这是显而易见的答案。（PHP 的`mail()`功能是如此基础，以至于任何编写 PHP 代码的人都应该为它使用包装类，以保持他们的理智）

2.  如果我们专门讨论该`mail()`函数，那么我们可以通过记录`mail()`调用的 sendmail 客户端来记录它。服务器`sendmail`上的系统可能由 PHP`mail()`函数调用的 unix shell 脚本控制。您应该能够修改此 shell 脚本以记录邮件事件。这可能无法为您提供行号等详细信息，但它会告诉您正在执行此操作的用户等。

3.  使用[Suhosin PHP 加固补丁](http://www.hardened-php.net/suhosin/)。这是一个针对 PHP 的补丁，提供了数十种与安全相关的功能；无论如何，我强烈推荐它用于共享托管环境。但对您而言，它还包括[日志记录功能](http://www.hardened-php.net/suhosin/a_feature_list.html#logging_features)，这可能允许您记录特定函数的使用情况，包括文件名和行号——即正是您正在寻找的场景。这是我推荐的解决方案....您在这里遇到的唯一大问题是您是否将 PHP 版本保持在最新状态，因为 Suhosin 目前仅适用于 PHP 5.3，而不是 5.4。作为一名 PHP 开发人员，我会努力在我的服务器上安装 PHP 5.4，但作为提供者，5.3 仍然受支持，所以它没有任何问题。（另一方面，如果您仍在使用 5.2，则应该尽快升级，因为它多年来一直不受支持并且存在已知的安全漏洞）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-12-08T21:57:54.527

从 >= PHP 5.3.0 开始，您可以简单地在以下位置指定您的 logilfe 所需位置的路径`php.ini`：

```
mail.log = /path/to/some/logfile 
```

有关详细信息，请参阅[PHP 文档](http://php.net/manual/en/mail.configuration.php#ini.mail.log)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T10:22:12.933

你可以做的是，下载 php 源代码，编辑这个文件：

```
ext/standard/mail.c 
```

并在那里添加记录器。

然后重新编译。

这可能是您可以隐式调试谁从哪里调用您的 php 函数的唯一方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-11-06T23:49:07.223

要阻止 mail()，只需从 php 的 chroot 中删除 /usr/sbin/sendmail 并强制验证 smtp。

# python - 带有 seek() 和 read() 的 UnicodeDecodeError

> ID：14850764
> 
> 赞同：0
> 
> 时间：2013-02-13T09:56:53.687
> 
> 标签：python, file-io, unicode, utf-8, python-3.x

我正在关注 Programming Python 中的示例代码，但有些令人困惑。这是将简单字符串写入文件然后将其读回的代码

```
>>> data = 'sp\xe4m'                                 # data to your script
>>> data, len(data)                                  # 4 unicode chars, 1 nonascii
('späm', 4)
>>> data.encode('utf8'), len(data.encode('utf8'))    # bytes written to file
(b'sp\xc3\xa4m', 5)
>>> f = open('test', mode='w+', encoding='utf8')     # use text mode, encoded
>>> f.write(data)
>>> f.flush()
>>> f.seek(0); f.read(1)                             # ascii bytes work
's'
>>> f.seek(2); f.read(1)                             # as does 2-byte nonascii
'ä'
>>> data[3]                                          # but offset 3 is not 'm' !
'm'
>>> f.seek(3); f.read(1)
UnicodeDecodeError: 'utf8' codec can't decode byte 0xa4 in position 0:
unexpected code byte 
```

现在，让我感到困惑的是，如果数据字符串是 utf8 编码的，为什么会发生这个 UnicodeDecodeError？使用手动 f.read() 读取可以正常工作，但是当使用 seek 跳转和 read(1) 时，会出现此错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T10:11:45.180

在文件中查找将按*字节*移动读取指针，而不是按字符。该`.read()`调用希望能够读取整个字符。因为 UTF-8 对 ASCII 字符集之外的任何 unicode 代码点使用多个字节，所以您不能只寻找多字节 UTF-8 代码点的中间并期望`.read()`工作。

U+00a4 代码点（字形`ä`）被编码为*两个*字节，C3 和 A4。在文件中，这意味着现在有 5 个字节，分别代表`s`, `p`，十六进制字节 C3 和 A4，然后`m`.

通过寻找位置 3，您将文件头移动到 A4 字节，然后调用`.read()`失败，因为没有前面的 C3 字节，没有足够的上下文来解码字符。这提高了`UnicodeDecodeError`; A4 字节是意外的，因为它不是有效的 UTF-8 序列。

改为寻找位置 4：

```
>>> f.seek(3); f.read(1)
'm' 
```

更好的是，不要在 UTF-8 数据中四处寻找，或者以二进制模式打开文件并手动解码。

# jquery - jQuery 全局颜色替换

> ID：14850770
> 
> 赞同：0
> 
> 时间：2013-02-13T09:57:22.940
> 
> 标签：jquery, colors, replace

我有一个包含多个表格的大文件，我可以编辑源代码。我有几行这样的：

```
<tr bgcolor=#cccccc ><td>some data </td></tr>
<tr bgcolor=#ffffff ><td>some data </td></tr>
<tr bgcolor=#080808 ><td>some data </td></tr>
<tr bgcolor=#cccccc ><td>some data </td></tr>
<tr bgcolor=#ffffff ><td>some data </td></tr>
<tr bgcolor=#cccccc ><td>some data </td></tr>
<tr bgcolor=#cccccc ><td>some data </td></tr> 
```

我需要一个 jquery 语句来替换颜色。所以我可能想说任何颜色为#cccccc 的内容更改为#09c（蓝色），而任何bg 颜色为#ffffff 的内容更改为#080808）（黑色）。

我想它会是这样的，但不能让它工作

```
$('*').filter(function() {
var match = 'rgb(182, 211, 252)';
return ( $(this).css('background-color') == match );
}).css('background-color', '#e7e4d3'); 
```

如果我使用 RGB 颜色，这可以工作，但我需要它来处理十六进制颜色。

任何帮助将不胜感激

谢谢巴兹

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:02:11.300

你需要转换`rgbtohex`

**样本**

```
function rgb2hex(rgb)
{
    rgb = rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
    return "#" +
    ("0" + parseInt(rgb[1],10).toString(16)).slice(-2) +
    ("0" + parseInt(rgb[2],10).toString(16)).slice(-2) +
    ("0" + parseInt(rgb[3],10).toString(16)).slice(-2);
}

$(function()
{
    $('tr').each(function()
    {
        var mainTr = $(this);
        var trColor = rgb2hex($(this).css('background-color'));

        //check for hex code and replace it accordingly...
    }); 
});
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:06:44.790

如果我对你的理解正确，你会想要类似的东西 - [http://codepen.io/anon/pen/sGLAc](http://codepen.io/anon/pen/sGLAc)

```
$('tr').each(function(){

    var row = $(this),
        bg = row.attr('bgcolor');

    switch(bg.toLowerCase())
    {
      case '#ffffff':
        row.attr('bgcolor', 'red');
      break;

      default:
        console.log(bg);
      break;
    }

  }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T10:18:09.750

可能对你有帮助。

```
$("*").css("color", "red");
$("table tr").each(function(){
    //alert($(this).attr("bgcolor"));
    if($(this).attr("bgcolor") == '#cccccc')
    {
        $(this).attr("bgcolor","#09c");
    }
    if($(this).attr("bgcolor") == '#ffffff')
    {
        $(this).attr("bgcolor","#080808");
    }
}); 
```

# opensuse - 如何修复 fixme:thread:NtQueryInformationThread 信息类 16 尚不支持？

> ID：14850772
> 
> 赞同：3
> 
> 时间：2013-02-13T09:57:28.380
> 
> 标签：opensuse, wine

我正在使用 OpenSUSE，我在上面安装了 wine，并使用 wine 技巧安装了 .net 4.0。我将 windows 窗体应用程序移植到 linux。我的应用程序用于连接设备。我们为此使用设备驱动程序。我得到了异常“fixme:thread:NtQueryInformationThread info class 16 not supported yet?” 任何人请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-01-11T10:12:35.830

解决这个问题的唯一方法是实现 ThreadIsIoPending 类。另请注意，“fixme”不是一个例外，而是一条诊断消息，并不意味着发生了严重的不良事件。在您的情况下，它可能直接来自 .NET 运行时或某些支持库。

# c++ - 如何在 Monodevelop c++ 控制台应用程序中设置链接器选项

> ID：14850773
> 
> 赞同：0
> 
> 时间：2013-02-13T09:57:28.473
> 
> 标签：c++, monodevelop

我也是stackoverflow和monodevelop的新手。我正在使用 monodevelop 版本`2.8.6.3` // 如何在 monodevelop 中设置链接器选项。由于我执行以下操作：

```
Project Option->Code Generation->Libraries 
```

并添加库`libssl.a`

Project Option->Code Generation->Path add library path /usr/local/ssl/lib and include path /usr/local/ssl/include 当我编译/构建应用程序时出现以下错误

> -L"/usr/local/ssl/lib" -L"/usr/local/ssl/fips-2.0/lib" -l"ssl.a" /usr/bin/ld: 找不到 -lssl.a collect2: ld 返回 1 个退出状态

请帮我！谢谢大家

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-21T17:55:00.373

您可以在“Monodevelop”中轻松更改编译器设置：

> > 项目->选项->配置

在名为“代码生成”的选项卡中，您应该能够添加额外的链接器选项（如 -lm ，以指示链接器使用 c 和 c++ 数学库）在标有“额外编译器 - 选项”的部分中，您可以提供附加选项和您希望提供的程序名称。（如 -o my_programm）

仔细查看它所说的文档>>“更改编译器选项”

[http://monodevelop.com/documentation/creating_c_and_cpp_projects](http://monodevelop.com/documentation/creating_c_and_cpp_projects)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T09:59:41.303

如果你有`libssl.so`你指定`ssl`

如果有`libssl.a`，只需`libssl.a`输入链接命令

# javascript - 单击内部链接时如何更改div背景颜色

> ID：14850774
> 
> 赞同：0
> 
> 时间：2013-02-13T09:57:31.893
> 
> 标签：javascript, asp.net-mvc-3

单击链接时如何将背景颜色更改为绿色并保持绿色，直到我再次单击链接然后颜色必须为白色

到目前为止我有这个代码：

```
 <% foreach (var group in Model.Results)
       { %>       

         <div id="group-select<%: group.GroupId %>" style="width:95%; height:50px; border:solid 1px black; margin:5px;" >
            <h3><a href="javascript:OnGroupClicked(<%: group.GroupId %>)" id="changer<%: group.GroupId %>"  ><%: group.Name %></a></h3> 
         </div>

    <% } %> 
```

和JS：

```
<script type="text/javascript">   
function OnGroupClicked(groupId) {
  $("#changer" + groupId).on("click", function (e) {
    e.preventDefault();
    var body = $('#group-select' + groupId),
        green = "rgb(0, 128, 0)",
        white = "rgb(255, 255, 255)";

    if (body.css("backgroundColor") !== green) {
      body.css("backgroundColor", green);
    } else {
      body.css("backgroundColor", white);
    }
  });
}
</script> 
```

有人能帮助我吗？绿色将显示选择了特定组，而当它为白色时，则未选择。因此，当页面首次加载时，它将是白色的。我点击它，它是绿色的并保持绿色，直到我再次点击它。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:19:30.463

你可以这样做：

[http://jsbin.com/evupih/1/edit](http://jsbin.com/evupih/1/edit)

您的代码的问题是，您检查十六进制值。但是如果您阅读背景颜色，您将获得 rgb 值 ;-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T11:26:02.297

您需要做的是找到包含每个链接的 div：

```
$(function(){
  $("#changer").on("click",function(e){
    e.preventDefault();
    var target = $(this).parent(),
        green = "rgb(0, 128, 0)",
        white = "rgb(255, 255, 255)";

    if(target.css("backgroundColor") !== green){
      target.css("backgroundColor", green);
    }else{
      target.css("backgroundColor", white);
    }

  });
}); 
```

一旦这个工作正常，您可以按照@jimmy 的建议使用 classes 和 hasClass/addClass/removeClass 来改进它 - 如果您想从粉红色变为黑色，那么这种方式会更加灵活。

这假定父元素是 group-select div。如果您更改链接周围的布局，这可能会中断，您需要使用 id 专门针对 div - 我在这里没有采用这种方法来提高速度。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T10:05:35.207

为什么不创建一个名为“clicked”的 CSS 类，例如：

```
.clicked{background-color:#00CC00} 
```

然后做：

```
<script type="text/javascript">
function OnGroupClicked(groupId)
{
  if ($("#ColorHidden" + groupId).hasClass("clicked")) {
    $("#ColorHidden" + groupId).removeClass("clicked")
  } else {
    $("#ColorHidden" + groupId).addClass("clicked")
  }
} 
```

# android - Android中的PCM / WAVE到AAC转换

> ID：14850777
> 
> 赞同：0
> 
> 时间：2013-02-13T09:57:39.220
> 
> 标签：android, wav, aac

我的应用程序（**android 2.2 及更高版本**）需要**将以 22kHz 录制的原始****PCM**音频转换为**AAC** - (22kHz) 格式。但是[MediaCodec](http://developer.android.com/reference/android/media/MediaCodec.html) API 仅在 android **4.1+**中可用。

 ******有什么办法可以在**android 2.2**及更高版本中将 pcm 转换为 aac 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T15:39:58.433

FFmpeg for Android 是一个不错的选择。Makefile 仅在提到的目标上进行测试，这并不意味着它们不能在 Froyo 上工作（我相信它们会）。只是我没有资源来测试每个可能的构建方案。我目前支持的对于我的设备来说已经太多了。******

# jquery - CSS中的插入边框半径形状？

> ID：14850778
> 
> 赞同：5
> 
> 时间：2013-02-13T09:57:39.177
> 
> 标签：jquery, html, css, css-shapes

有没有办法可以在 CSS 中制作这个形状图像？CSS3很好，不需要IE兼容。渐变部分不重要，就是右下角的那条曲线，我看不出来怎么做。我见过各种 jQuery 角插件，但到目前为止没有什么对我有用。我不能使用背景图片，因为其中的内容是可变长度的。

![在此处输入图像描述](../Images/fc956231d1fa3b88ab74c591631eaed0.png)

编辑：感谢您的回复，非常令人印象深刻！但有一件事 - 在图像本身中，有一个蓝色背景和一个无缝的灰色边框，包括右侧的曲线。如果解决方案涉及对额外元素的边界半径“hacks”，则可能无法保留此边界，但如果也可以保留此边界，那就更好了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T10:20:26.607

我创造了一些东西。可能有更好的解决方案，但这可能会有所帮助。

[**jsFiddle**](http://jsfiddle.net/gnLAT/)

CSS：

```
.bubble {
    width: 200px;
    height: 30px;
}

.bubble .content {
    background: #00f;
    height: 100%;
    border-top-left-radius: 10px;
    border-bottom-left-radius: 10px;
    margin-right: 20px;
}

.bubble .blue,
.bubble .white,
.bubble .white .innerwhite {
    width: 10px;
    height: 100%;
    float: right;
}

.bubble .blue {
    background: #00f;
    border-top-right-radius: 10px;
}

.bubble .white {
    background: #00f;
}

.bubble .white .innerwhite {
    background: #fff;
    border-bottom-left-radius: 10px;
} 
```

HTML：

```
<div class="bubble">
    <div class="white">
        <div class="innerwhite"></div>
    </div>
    <div class="blue"></div>
    <div class="content"></div>
</div> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-13T10:30:28.787

这是形状的CSS。你需要多种形状来完成你想要的。

```
body{background:white;}

.Shape{margin:20px 30px;}

.Shape1{
  position:relative;
  width:200px;
  height:65px;
  background:blue;
  border-radius:20px;
  border:2px solid white;
  z-index:2;
  top:0px;
  left:0px;}

.Shape2{

  position:relative;
  width:70px;
  height:40px;
  background:blue;
  border-radius:12px;
  border-bottom:2px solid white;
  z-index:3;
  top:-42px;
  left:170px;}

.Shape3{
  position:relative;
  width:20px;
  height:20px;
  background:blue;
  z-index:4;
  top:-64px;
  left:170px;}

.Shape4{
   position:relative;
   width:40px;
   height:46px;
   background:white;
   top:-110px;
   left:202px;
   z-index:3;
   box-shadow:inset 2px 0px 4px lightgray;
   border-bottom-left-radius:40px;}

.Shape5{
  position:relative;
  height:1px;
  width:218px;
  background:transparent;
  box-shadow:0px 0px 8px black;
  left:18px;
  top:-110px;}

.Shape6{
  position:relative;
  height:50px;
  width:20px;
  background:white;
  top:-160px;
  left:236px;
  z-index:4;}

.Shape7{
  position:relative;
  height:10px;
  width:50px;
  background:white;
  top:-210px;
  left:203px;
  z-index:4;} 
```

和 HTML：

```
 <div class="Shape">

  <div class="Shape1"></div>
  <div class="Shape2"></div>
  <div class="Shape3"></div>
  <div class="Shape4"></div>
  <div class="Shape5"></div>
  <div class="Shape6"></div>
  <div class="Shape7"></div>

  </div> 
```

[这是用于输出](http://jsbin.com/ajobos/7/edit)的 JsBin 。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T10:33:09.840

圆形边框无法使用标准 CSS 在单个 DOM 对象上完成，但您可以使用 CSS 通过添加额外元素来完成。

这样做的诀窍是使用 CSS`:before`和`:after`选择器在主元素的任一侧有效地创建一个额外的元素，然后使用适当`border-radius`的`background`形状来适应它。

这并不容易，但将它用于标签已成为一种很常见的技巧。例如，[请参阅此处](http://css-tricks.com/better-tabs-with-round-out-borders/)以获取良好的教程。

希望有帮助。

# php - 正则表达式替换损坏的电子邮件链接

> ID：14850780
> 
> 赞同：0
> 
> 时间：2013-02-13T09:57:40.590
> 
> 标签：php, regex

问题：作者在 CMS 中错误地添加了电子邮件地址 - 遗漏了“mailto：”文本。

**如果可能的话，我需要一个正则表达式来对存储的 MySQL 内容表进行搜索和替换。**

我需要处理的情况是：

1.  没有'mailto:'
2.  'mailto:' 已包含（正确）
3.  网址不是电子邮件 - 不可替换
4.  多个mailto：必需（字符串中的多个）

示例字符串为：（添加换行符以提高可读性）

```
<a href="add1@test.com">add1@test.com</a> and
<a href="mailto:add2@test.com">add2@test.com</a> and
<a href="http://www.test.com/">real web link</a>
second one to replace <a href="add3@test.com">add3@test.com</a> 
```

所需的输出将是：

```
<a href="mailto:add1@test.com">add1@test.com</a> and
<a href="mailto:add2@test.com">add2@test.com</a> and
<a href="http://www.test.com/">real web link</a>
second one to replace <a href="mailto:add3@test.com">add3@test.com</a> 
```

我尝试过的（在 PHP 中）和问题：

```
pattern:   /href="(.+?)(@)(.+?)(<\/a> )/iU
replacement:    href="mailto:$1$2$3$4 
```

这是将 mailto: 添加到正确格式的 mailto: 并在最后两个链接上贪婪地行事。

谢谢你的帮助。我已经看了看，但是因为这是一个意外的内容问题，所以没有时间了。

如果您能节省我的时间并给出 SQL 表达式，那就更好了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:46:06.303

您需要首先应用适当的邮件模式（例如：[使用正则表达式来验证电子邮件地址](https://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address)），然后在邮件之前搜索 `mailto:`或什么都不做（例如：） `(mailto:|)`，最后`preg_replace_callback`适合这个。

这看起来像您希望的那样工作（仅搜索双引号中的电子邮件地址）；

```
$s = '<a href="add1@test.com">add1@test.com</a> and 
<a href="mailto:add2@test.com">add2@test.com</a> and 
<a href="http://www.test.com/">real web link</a> 
second one to replace <a href="add3@test.com">add3@test.com</a>';
echo preg_replace_callback(
    '~"(mailto:|)([_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4}))"~i', 
    function($m) {
        // print_r($m); @debug
        return '"mailto:'. $m[2] .'"';
    },
    $s
); 
```

根据需要输出；

```
<a href="mailto:add1@test.com">add1@test.com</a> 和
<a href="mailto:add2@test.com">add2@test.com</a> 和
<a href="http://www.test.com/">真实网页链接</a>
第二个替换 <a href="mailto:add3@test.com">add3@test.com</a>

```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T10:29:08.750

尝试更换

```
/href="(?!(mailto:|http:\/\/|www\.))/iU 
```

和

```
href="mailto: 
```

`?!`松散的意思是“下一个字符不是这些”。

**选择：**

代替

```
/(href=")(?!mailto:)([^"]+@)/iU 
```

和

```
$1mailto:$2 
```

`[^"]+`表示 1 个或多个不是`"`.

您可能需要更复杂的匹配模式来保证正确性。

**MySQL 正则表达式匹配：**

见[这个](https://stackoverflow.com/a/1755627/1711796)或[这个](https://stackoverflow.com/questions/986826/how-to-do-a-regular-expression-replace-in-mysql)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T10:28:39.480

使用以下作为模式：

```
/(href=")(?!mailto:)(.+?@.+?")/iU 
```

并将其替换为

```
$1mailto:$2 
```

`(?!mailto:)``mailto:`是检查 a 是否跟随的负前瞻。如果没有这样的，则检查剩余部分是否匹配。`(.+?@.+?")`匹配一个或多个字符后跟 a`@`后跟一个或多个字符后跟 a `"`。两者`+`都不贪心。

匹配的模式被第一个捕获组 ( `href="`)替换，`mailto:`然后是第二个捕获组（直到关闭`"`）。

# google-chrome - Chrome 中打包应用程序和旧版打包应用程序之间的区别

> ID：14850788
> 
> 赞同：2
> 
> 时间：2013-02-13T09:57:54.483
> 
> 标签：google-chrome, google-chrome-extension, google-chrome-app

基本上打包的应用程序不会出现在 Chrome App Store 上，但旧的打包应用程序会出现。该[文件](http://developer.chrome.com/extensions/apps.html)指出

> 警告：本文档中的所有内容均指打包应用程序的旧版本。您的旧版打包应用程序仍可运行，但您将无法访问任何新 API。查看打包应用程序的新版本；否则，你就**错过了**！

*问题是，当使用旧版打包应用程序*而不是*打包应用*程序时，您会错过什么？（除了没有出现在 Chrome App Store 中）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-21T02:37:38.970

更好的窗口几何控制（在浏览器之外打开）、安全性、访问更强大的 API 等。

请参阅[http://developer.chrome.com/apps/about_apps.html](http://developer.chrome.com/apps/about_apps.html)

# sql - 错误错误：当 IDENTITY_INSERT 设置为 OFF 时，无法在表“Table1”中插入标识列的显式值

> ID：14850790
> 
> 赞同：2
> 
> 时间：2013-02-13T09:57:55.123
> 
> 标签：sql, sql-server, sql-server-2008, tsql

我有这个奇怪的问题，我创建了一个有四列的表，并将一列设置为 int 类型的主键。我没有将主键列设置为标识，但是当我尝试在表中插入数据时出现此错误：

```
Cannot insert explicit value for identity column in table 'Table1' when IDENTITY_INSERT is set to OFF. 
```

我尝试在不指定主键列的情况下插入（假设它设置为 IDENTITY(x,y)！），在这种情况下，它不会给出任何错误，但它也不会插入任何数据！

创建'table1'：

```
 USE [NEWVEDJA]
    GO
    SET ANSI_NULLS ON
    GO
    SET QUOTED_IDENTIFIER ON
    GO
    CREATE TABLE [dbo].[Table1](
        [id] [int]  NOT NULL,
        [name] [nvarchar](50) NULL,
        [code] [int] NULL,
        [exp_1] [nvarchar](max) NULL,
     CONSTRAINT [PK_Table1] PRIMARY KEY CLUSTERED 
    (
        [id] ASC
    )WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF,         ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
    ) ON [PRIMARY]
    GO 
```

并插入“table1”

```
 INSERT INTO [PARTIAL_NEWVEDJA].[dbo].[Table1]
           ([id]
           ,[name]
           ,[code]
           ,[exp_1])
        VALUES
            (1,N'سازمان',null,null), (2,N'معاونت',null,null);
    GO 
```

提前非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:23:07.770

```
USE [NEWVEDJA]
GO
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE.... 
```

使用此代码，将使用 ID 作为 PK 创建表，而没有 IDENTITY 属性。一切都很好。

```
INSERT INTO [PARTIAL_NEWVEDJA].[dbo].[Table1]
       ([id] 
```

使用此代码，您将数据插入到 [PARTIAL_NEWVEDJA].[dbo].[Table1]，它是另一个 DB 中的表。看起来在该表中为 ID 列启用了 IDENTITY 属性。

您可以尝试将数据插入到您使用 CREATE 语句创建的同一个表中吗？

拉吉

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:01:21.400

如果`identity_insert`禁用，则不允许您显式设置 id 列的值。我假设某种自动编号已经建立。

尝试：

```
INSERT INTO [PARTIAL_NEWVEDJA].[dbo].[Table1]
       ([id]
       ,[name]
       ,[code]
       ,[exp_1])
    VALUES
        (null,N'سازمان',null,null), (2,N'معاونت',null,null); 
```

# three.js - 立方体正面与光线投射器的交集不起作用

> ID：14850791
> 
> 赞同：0
> 
> 时间：2013-02-13T09:57:58.900
> 
> 标签：three.js, cubes

为了知道旋转立方体的当前正面，我创建了一个光线投射器，告诉我立方体的哪个部分与它相交。到目前为止，尽管我认为我做的一切都是正确的，但我没有得到任何交叉点。

如何解决？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T16:41:54.050

你需要让你的光线投射器的光线指向物体。

```
//var projector = new THREE.Projector(); 
var vector = cube.position.clone(); // new THREE.Vector3(100, 100, 0.5);
//projector.unprojectVector(vector, camera); 
```

小提琴：http: [//jsfiddle.net/an86j/19/](http://jsfiddle.net/an86j/19/)

注意：这个问题不太可能对除您以外的任何人有用，这不是本网站的目的。尝试提出对他人有益的问题。请参阅[常见问题解答](https://stackoverflow.com/faq#close)。

# ios - NSData 加载 UIImage

> ID：14850796
> 
> 赞同：1
> 
> 时间：2013-02-13T09:58:12.840
> 
> 标签：ios, objective-c, uiimage, nsdata

如果没有互联网连接或图像不再可用，如何判断 NSData 是否返回 nil ？

这是代码：

```
NSString *str = @"http://p.twimg.com/A76-I-PCYAA75YH.jpg";//URL is broken
NSData *imgData = [NSData dataWithContentsOfURL:[NSURL URLWithString:url]];
image = [UIImage imageWithData:imgData]; 
```

nsdata 在两种情况下为 nil：

1.  如果没有互联网连接。
2.  或者，如果 url 中的图像不再可用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T10:24:26.880

试试这个代码。

```
NSURL* url = [NSURL URLWithString:@"http://imageAddress.com"];
NSURLRequest* request = [NSURLRequest requestWithURL:url];

[NSURLConnection sendAsynchronousRequest:request
    queue:[NSOperationQueue mainQueue]
    completionHandler:^(NSURLResponse * response,
        NSData * data,
        NSError * error) {
if (!error){
        NSImage* image = [[NSImage alloc] initWithData:data];
    // do whatever you want with image
}

}]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-13T10:03:53.293

您应该首先单独测试可用的网络数据连接，请参阅 Apple 的[可达性](http://developer.apple.com/library/ios/#samplecode/Reachability/Introduction/Intro.html)示例代码。

然后，如果您有网络连接，则可以继续尝试加载文件。如果它失败了，你知道这不是因为没有网络数据连接。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T10:02:51.660

在下载之前检查互联网连接，然后下载。您可以检查可用性 bu 放置条件

```
if(imgdata == nil)
     // image is not available in server
  else 
        // convert data into image and use
         image = [UIImage imageWithData:imgData]; 
```

# asmx - 如何在 c# 中使用 SoapExtension 将自定义 HTTP 标头添加到 asmx 调用

> ID：14850798
> 
> 赞同：0
> 
> 时间：2013-02-13T09:58:17.247
> 
> 标签：asmx

我正在尝试通过在 c# 中`ProcessMessage`扩展 Class 使用（SoapMessage 消息）拦截它来向 asmx 调用添加自定义 HTTP 标头。`SoapExtension`

这里的问题是我所拥有的`ProcessMessage()`只是`SoapMessage`, 而我需要添加一个自定义 http 标头。

我试过这样做：

```
HttpContext.Current.Request.Headers.Add("X-MyHeader", "xyz"); 
```

但它不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T09:40:21.307

我使用以下步骤解决了这个问题：

1.  使用该类构建程序集

    ```
    namespace HttpWebRequestTest {
        public class CustomHttpRequestCreator : IWebRequestCreate         
        public CustomHttpRequestCreator() { }
        public WebRequest Create(Uri uri) {
            HttpWebRequest webRequest = Activator.CreateInstance(typeof(HttpWebRequest),
                                        BindingFlags.CreateInstance | BindingFlags.Public |
                                        BindingFlags.NonPublic | BindingFlags.Instance,
                                        null, new object[] { uri, null }, null) as HttpWebRequest;

            webRequest.Headers.Add("MyHeader:MyValue");
            return webRequest;
        }
       }
     } 
    ```

2.  将文件添加到 GAC 并在 web.config 中注册

    ```
    <system.net>
     <webRequestModules>
      <remove prefix="http:"/>
      <remove prefix="https:"/>
      <add prefix="http:" type="HttpWebRequestTest.CustomHttpRequestCreator, HttpWebRequestTest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=2bc4ccb2cdedce53" />
      <add prefix="https:" type="HttpWebRequestTest.CustomHttpRequestCreator, HttpWebRequestTest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=2bc4ccb2cdedce53" />
     </webRequestModules>
    </system.net> 
    ```

# php - 将类别参数添加到 WordPress 查询的数组中

> ID：14850800
> 
> 赞同：0
> 
> 时间：2013-02-13T09:58:24.387
> 
> 标签：php, arrays, wordpress

我是自定义 WordPress 的新手，我希望查询某个类别中的一系列帖子。我有一个显示该站点所有帖子的数组：

```
$arguments = array(
            'post_type' => 'post',
            'post_status' => 'publish',
            'paged' => $paged,
            'showposts' => $postcount
        ); 
```

基本上，我希望能够显示仅属于“营养”类别的所有帖子的数组。我认为这是一个将添加到此数组中的“类别”参数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T10:03:25.057

论据`category_name`不是`category`

你可以这样做 ：

```
 $arguments = array(
        'post_type' => 'post',
        'post_status' => 'publish',
        'paged' => $paged,
        'showposts' => $postcount,
        'category_name' => 'Nutrition'
    ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T10:03:47.953

添加`category_name`你的论点。

```
$arguments = array(
        'post_type' => 'post',
        'post_status' => 'publish',
        'paged' => $paged,
        'showposts' => $postcount
        'category_name' = 'Nutrition'
    );

query_post($arguments); 
```

有关更多详细信息，请阅读[此](http://codex.wordpress.org/Function_Reference/query_posts)。

# wpf - FrameworkElement 对象上的 WPF MouseDown 事件

> ID：14850807
> 
> 赞同：0
> 
> 时间：2013-02-13T09:58:50.677
> 
> 标签：wpf, events, mouseevent, frameworkelement

我有一个`FrameworkElement`从 3rd 方 API 接收对象的 WPF 应用程序。

我想在这些对象上注册事件。
这可能吗？这不起作用：

```
 public void DisplayControl(FrameworkElement control)
    {
        control.MouseEnter += new MouseEventHandler(Control_MouseEnter);
        control.MouseDown += new MouseButtonEventHandler(Control_MouseDownFromElement);
        VideoGrid.Children.Add(control);
    }

    void Control_MouseDownFromElement(object sender, EventArgs e)
    {
        lblOutput.Content = string.Format("Sender is: " + sender.ToString());
    }
    void Control_MouseEnter(object sender, EventArgs e)
    {
        (sender as FrameworkElement).Focus(); 
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:11:53.040

一个可能的原因是控件提供者故意阻止该事件...您可以尝试在原始控件的顶部添加一个控件（例如网格），不透明度为 0.01，这意味着我们添加的控件实际上对用户不可见，我们可以在隐形控件上写所有事件...

**更新**

像这样...创建一个不透明度为 0.01 的网格，将事件添加到该网格，并在添加控件后将网格添加到视频网格...所以在视频网格中会有控件，在控件的顶部会有是由于其不透明性而不可见的网格，并且您的事件将在网格上运行...确保为与您的控件高度和宽度匹配的网格提供相同的高度和宽度...。

```
Grid grd = new Grid(); 
grd.Opacity = 0.01; 
grd.MouseDown += new MouseButtonEventHandler(Grid_MouseDown_1);
VideoGrid.Children.Add(control);
VideoGrid.Children.Add(grd) 
```

# ios - Cocos2d 2.x：有没有办法实现跨多个精灵表的 z 分层？

> ID：14850808
> 
> 赞同：1
> 
> 时间：2013-02-13T09:58:54.683
> 
> 标签：ios, optimization, cocos2d-iphone, layer

我有 2 张精灵表，**一张用于角色和 HUD 图层**，**一张用于背景**。“背景精灵表”**有一个实际的背景部分和一个“前景部分”**，**应该在字符上方的 z 层中分层**。

问题来了。使用 CCSpriteBatchNode 来优化绘图性能我被迫有两个不同的 CCSpriteBatchNode，每个大小为 2048*2048，以便使用 2 个精灵表。

这是我想要实现的结构的简要“示意图”：

```
z=0  background    sheetBackground 
z=1  characters    sheetCharacters
z=2  foreground    sheetBackground
sheetBackground -> spriteBatchNodeA
sheetCharacters -> spriteBatchNodeB

!!! Conflict ->  sprites in a spriteBatchNode cannot be z-ordered in respect to sprites in another batch node !! 
```

**不幸的是，精灵的 z 顺序只影响同一 CCSpriteBatchNode 中的精灵，而不影响“全局 z 顺序”。**

为了克服这个问题，对我来说唯一的方法是拥有一个双倍尺寸（4096 * 4096）的精灵表。我发现这个支持更大文件的github 项目[CCBigImage 。](https://github.com/cocos2d/cocos2d-iphone-extensions/tree/master/Extensions/CCBigImage)**在我开始改变我的代码结构之前，我想问你这是否是一个可接受的解决方案，或者是否有其他方法可以实现这一点。**

# c# - 用红色波浪下划线格式化选择文本的最佳方法？

> ID：14850811
> 
> 赞同：1
> 
> 时间：2013-02-13T09:59:04.337
> 
> 标签：c#, richtextbox, syntax-highlighting

我在 a 工作`RichTextBox`，我需要将某些文本突出显示为不正确（通过我自己的检查）。我已经爬遍了整个网络，试图找到一些东西——最好是我可以用来实现这一目标的包或库......

我很惊讶这种格式不是`RTB`字体样式设置中的默认样式...

# python - 将字符串与python中的类列表进行比较

> ID：14850817
> 
> 赞同：0
> 
> 时间：2013-02-13T09:59:27.057
> 
> 标签：python, string, list, compare

我试图弄清楚如何将字符串与列表中的第 0 个元素（技术上是底部）进行比较。该列表也是一个类实例，如下所示：

```
#define class called GEL
class GEL:
    def __init__(self,eventtime,type):
            self.eventtime=eventtime
            self.type=type

myList=[] 
```

当我在列表中添加一些内容时：

```
myList.append(GEL(time,type))  ##Type can be either 'Arrival' or 'Departure' 
```

列表将是 (1.343432,'Arrival') 所以我想将 'Arrival' 与列表中的类型项目进行比较。

```
for i in range(5):    ##loop for insertions and deletions
     Type=[a.type for a in myList] ##Actually goes to the last type, but want first
     if 'Arrival' in Type:
            ##DO STUFF
     else:
          ##HELLO WORLD
     #sortlist
     myList.pop(0) 
```

获取列表中的第一个类型的正确方法是什么？

抱歉，行话不好，我还在学习 Python。

编辑：我想我可能已经解决了。它得到了我想要的。如果有人能告诉我这是否可以：

```
if 'Arrival' in Type[0]: 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T10:04:15.963

我想你只需要这个

```
if mylist[0].type == 'Arrival': 
```

# android - androids listView 的 setOnItemClickListener 仅在不更新数据集时才有效。更新后停止

> ID：14850819
> 
> 赞同：0
> 
> 时间：2013-02-13T09:59:31.410
> 
> 标签：android, android-listview

我已经创建了 wifi 频道的 ListView 并且它工作正常，onResume() 调用更新列表的 AsyncTask，但更新后点击监听器停止工作，即使我尝试再次设置它。这是我的代码：

```
package co.uk.company.application.ui.wifi;
import android.app.AlertDialog;
import android.content.DialogInterface;
import android.os.AsyncTask;
import android.os.Bundle;
import android.util.Log;
import android.view.ContextMenu;
import android.view.LayoutInflater;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.widget.AdapterView;
import android.widget.EditText;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;
import co.uk.company.application.R;
import co.uk.company.application.injected.ApplicationGlobalState;
import co.uk.company.application.ui.companyActivity;
import co.uk.company.application.ui.dialog.YesNoAlertDialogCreator;
import co.uk.company.sources.telnet.WifiTelnetClass;
import com.google.inject.Inject;
import java.util.ArrayList;
import java.util.Vector;
import roboguice.inject.InjectView;

public class WifiAPsActivity extends companyActivity{
    @Inject private ApplicationGlobalState applicationGlobalState;
    @InjectView(R.id.wifi_networks_list) private ListView listView1;
    private WifiChannels wifiChannels;
    private WifiChannel channelSelected;
    private ArrayList<WifiChannel> data;
    private ArrayList<WifiChannel> dataold;
    private Vector <WifiChannel> vect;
    private WifiAPsAdapter adapter;
    private RealtimeUpdateScreen realtimeUpdateScreen;
    private AdapterView.OnItemClickListener listener;
    @Override
    public void onCreate(Bundle savedInstanceState){
        Log.w("","onCreate(...) start");
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_wifi_networks);
        listener= new AdapterView.OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> arg0, View arg1, final int arg2, long arg3) {
                arg0.showContextMenuForChild(arg1);
                //if(adapter.getItem(arg2).toString().endsWith(".txt"))
                Toast.makeText(getApplicationContext(),getString(R.string.loading), Toast.LENGTH_LONG).show();                
            }
        };
        dataold= new ArrayList<WifiChannel>();
        data =new ArrayList<WifiChannel>();
        wifiChannels=applicationGlobalState.wifiCurrentChannels;
        if (wifiChannels != null)
                for(WifiChannel chn : wifiChannels.getChannels()){
                        dataold.add(chn);
                        data.add(chn);
                }
        wifiChannels=applicationGlobalState.wifiCurrentChannels5GHz;
        if (wifiChannels != null)
                for(WifiChannel chn : wifiChannels.getChannels()){
                        dataold.add(chn);
                        data.add(chn);
                }
        adapter = new WifiAPsAdapter(this,R.layout.wifi_networks_item_row, data);
        listView1.setAdapter(adapter);
        listView1.setItemsCanFocus(false);
        registerForContextMenu(listView1);
        listView1.setOnItemClickListener(listener);
        Log.w("","onCreate(...) finish");
    }

    @Override
    public void onResume(){
        Log.w("","onResume() start");
        super.onResume();
        //realtimeUpdateScreen = new RealtimeUpdateScreen();
        //realtimeUpdateScreen.execute(new Object());
        Log.w("","onResume() finish");
    }

    @Override
    public void onPause(){
        super.onPause();
        realtimeUpdateScreen.cancel(true);
        realtimeUpdateScreen = null;
        Log.w("","onPause() finish");
    }

    @Override
    public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMenuInfo menuInfo){
        Log.w("","onCreateContextMenu");
        AdapterView.AdapterContextMenuInfo info = (AdapterView.AdapterContextMenuInfo) menuInfo;
        // menu.setHeaderTitle(fileNames.get(info.position));
        channelSelected = data.get(info.position);
        menu.add(Menu.NONE, 0, 0, "Connect");
        menu.add(Menu.NONE, 1, 1, "Disconnect");
        menu.add(Menu.NONE, 2, 2, "Do nothing");
    }

    @Override
    public boolean onContextItemSelected(MenuItem item) {
        Log.w("","onContextItemSelected");
        int menuItemIndex = item.getItemId();
        //final AdapterView.AdapterContextMenuInfo info = (AdapterView.AdapterContextMenuInfo) item.getMenuInfo();
        switch (menuItemIndex){
        case 0:
            final AlertDialog.Builder alert = new AlertDialog.Builder(this);

                LayoutInflater li = LayoutInflater.from(this);
                View promptsView = li.inflate(R.layout.dialog_with_text_fields, null);
                alert.setView(promptsView);
                final TextView SSIDfield = (TextView) promptsView.findViewById(R.id.ssid_field);
                final EditText input2 = (EditText) promptsView.findViewById(R.id.password_field);
                SSIDfield.setText(channelSelected.getName());
//                final Button okButton = (Button)   promptsView.findViewById(R.id.wifi_button_yes);
//                final Button cancelButton =(Button)promptsView.findViewById(R.id.wifi_button_no);
//                okButton.setOnClickListener(new View.OnClickListener() {
//                    @Override
//                    public void onClick(View arg0) {
//
//                    }
//                });
//
//                cancelButton.setOnClickListener(new View.OnClickListener() {
//                    @Override
//                    public void onClick(View arg0) {
//                       // alert.
//                    }
//                });

                alert.setPositiveButton("OKK",
                      new DialogInterface.OnClickListener(){
                        public void onClick(DialogInterface dialog,int id) {
                            String SSID = channelSelected.getName();
                            String PASSWORD = input2.getText().toString().trim();
                            if(WifiTelnetClass.getInstance().connect(SSID, PASSWORD))
                                Toast.makeText(getApplicationContext(), SSID+" Connected", Toast.LENGTH_SHORT).show();
                            else Toast.makeText(getApplicationContext(), "Not Connected!", Toast.LENGTH_SHORT).show();
                        }
                      });

                alert.setNegativeButton("CCancel",
                    new DialogInterface.OnClickListener() {
                        public void onClick(DialogInterface dialog,int id) {
                            dialog.cancel();
                        }
                    });
                alert.show();
            break;
        case 1:
            YesNoAlertDialogCreator.create(this, "Are You Sure?",
            getString(R.string.sure_delete_result), new DialogInterface.OnClickListener(){
                public void onClick(DialogInterface dialog, int whichButton) {
                    Toast.makeText(getApplicationContext(),"Disconnecting!!", Toast.LENGTH_LONG).show();
                    if(WifiTelnetClass.getInstance().disconnect())
                        Toast.makeText(getApplicationContext(), " Disconnected", Toast.LENGTH_SHORT).show();
                    else Toast.makeText(getApplicationContext(), "Not Disconnected!", Toast.LENGTH_SHORT).show();
                }
            }).show();           
            Toast.makeText(getApplicationContext(),"Nothing!!!", Toast.LENGTH_LONG).show();
            break;
        case 2:
            YesNoAlertDialogCreator.create(this, "Password please!!!",
            getString(R.string.sure_delete_result), new DialogInterface.OnClickListener(){
                public void onClick(DialogInterface dialog, int whichButton) {
                }
            }).show();
            Toast.makeText(getApplicationContext(),"It!", Toast.LENGTH_LONG).show(); 
            break;   
        }
        return true;
    }

    class RealtimeUpdateScreen extends AsyncTask{
        @Override
            protected void onPreExecute(){
                try{

                    Thread.sleep(50L);
                }catch(Exception e){}
        }
        @Override
        protected Object doInBackground(Object... arg0){
            while(!isCancelled()){
                try{
                    if(wifiChannels!=applicationGlobalState.wifiCurrentChannels)
                        publishProgress(arg0);
                    try{Thread.sleep(50);}catch(Exception e){}
                }catch(Exception e){Log.e("","",e);}
            }
            return null;
        }
        protected void onProgressUpdate(Object...objects ){
            try{
                for(WifiChannel chn_ : dataold){
                    adapter.remove(chn_);
                }
            }catch(Exception e){Log.e("","",e);}
            try{
                dataold = new ArrayList<WifiChannel>();
                //adapter.notifyDataSetChanged();
                vect=applicationGlobalState.wifiCurrentChannels5GHz.getChannels();
                for(WifiChannel chn : vect){
                    dataold.add(chn);
                    adapter.add(chn);
                }                
                vect=applicationGlobalState.wifiCurrentChannels.getChannels();
                for(WifiChannel chn : vect){
                    dataold.add(chn);
                    adapter.add(chn);
                }
                adapter.notifyDataSetChanged();
            }catch(Exception e){Log.e("","",e);}
        }
    }
} 
```

会是什么？谢谢你！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T13:58:42.590

Found it: I have to setOnItemClickListener after each notifyDataSetChanged again.

# ruby-on-rails - 添加指向 simple_form 提示的链接？

> ID：14850820
> 
> 赞同：5
> 
> 时间：2013-02-13T09:59:33.650
> 
> 标签：ruby-on-rails, simple-form, hint

有没有办法在表单中的特定输入的提示中添加链接`simple_form`？

例如 - “忘记密码？” 在密码的输入提示中。

这样可以避免一些样式将链接附加到输入框。

可能是一个愚蠢的问题，但我不知道该怎么做：/

提前致谢。

编辑（这种语法是错误的，但希望它能给出我想说的意思，特别是在第 3 行）：

```
=simple_form_for(resource, :as => resource_name, :url => session_path(resource_name)) do |f|
    =f.input :email, placeholder: "me@example.com"                             
    =f.input :password, hint: { link_to "Forgot your password?", new_password_path(resource_name) } 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-02-13T10:20:16.237

您所需要的只是插值。

```
<%= f.input :password, hint: "#{link_to 'Forgot your password?', new_password_path(resource_name)}" %> 
```

这将在提示中插入您的代码。在这种情况下，忘记密码链接。

# security - 构建 Grails WAR 时从不相关的环境中删除配置

> ID：14850827
> 
> 赞同：0
> 
> 时间：2013-02-13T09:59:55.137
> 
> 标签：security, grails, configuration

在构建特定环境的 Grails WAR 文件时，来自其他环境的配置也包含在 WAR 文件中。例如，生产环境中的所有数据库连接属性也包含在为测试而构建的 WAR 文件中。即使配置被编译为类文件，从那里提取敏感数据也很简单。

为了提高安全性，我想从 WAR 文件中排除不相关的环境配置。有没有办法在 WAR 构建期间自动剥离此配置，或者我必须将这些配置外部化并单独部署它们？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:19:08.980

我想如果你能以某种方式分析字节码并精确计算出`Config$_closure3$_closure12`与你不需要的位相对应的位，那么你也许可以在战争中用一个空的闭包来替换它，但这可能比它的价值更麻烦。我知道肯定没有简单的方法。

我会将每个环境的配置放在一个单独的文件中。如果您将 prod 配置放在 web-app/WEB-INF/classes/myapp-prod.groovy （仍在环境块中），并将 dev 配置放在顶层目录的文件中，然后说

```
grails.config.locations = ["classpath:myapp-prod.groovy", "file:myapp-dev.groovy"] 
```

那么只有 prod 配置才会在战争中结束。虽然它完全是人类可读的，但将 prod 配置直接留在 Config.groovy 中（因此它被编译）并使用外部覆盖开发模式可能更安全。

# google-api - Google Spreashsheet 中查询中的动态工作表名称

> ID：14850828
> 
> 赞同：5
> 
> 时间：2013-02-13T10:00:08.303
> 
> 标签：google-api, google-sheets, google-spreadsheet-api

在 Google 电子表格中，我想查询另一张工作表中的数据，但问题是工作表的名称存在于单元格中。那么 QUERY 函数中有没有办法动态提及工作表名称。基本上我正在尝试做这样的事情，但使用动态工作表名称：

`=QUERY('2012'!A2:F;"select C, sum(F) where A='December' group by C order by sum(F) desc")`

我试图这样做，但我得到解析错误：

```
=QUERY(INDIRECT("Overview!L5")!A2:F;"select C, sum(F) where A='December' group by C order by sum(F) desc") 
```

其中 Overview!L5 是要查询的工作表名称的单元格。我还尝试在 INDIRECT 周围连接引号，但这也不起作用。

我认为我正在尝试从查询中执行的操作非常明显，即获取按其他单元格中的值分组的单元格中的值总和。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-15T03:24:52.797

INDIRECT 似乎是问题所在。试试这样：

```
=query(INDIRECT(A1&"!A5:A10"),"select Col1") 
```

即如果单元格 A1 包含“食物”，则上述内容与以下内容相同：

```
=query(food!A5:A10,"select A") 
```

和一样：

```
=query(INDIRECT("food!A5:A10"),"select *") 
```

**注意：间接使用“Col1”等而不是“A”，因为它不传递 col 字母。

另外......谷歌群组论坛可能是寻找电子表格公式答案的好地方。productforums.google.com/forum/#!categories/docs/spreadsheets

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-02-08T08:54:51.177

在查询中使用动态结构的最简单方法是不在查询中包含函数，而是在单独的单元格中准备字符串，例如 A1 用于地址 B1 用于参数，然后只是 QUERY(A1;B1)

# c++ - 错误 - c 取临时地址

> ID：14850831
> 
> 赞同：0
> 
> 时间：2013-02-13T10:00:34.497
> 
> 标签：c++

我在以下代码中遇到错误

```
void setStyle(const ctlStyleBase* style)
{
  //do something
}

void create(const ctlStyleBase* style = 0)
{
      if(style == 0) setStyle(&ctlStyleGradient());  // error : taking address of temporary
      else setStyle(style);
} 
```

我不认为这是错误的，因为我只在 setStyle 中使用它，并且在 setStyle 返回之前它不会被破坏。有人可以告诉我代码是否有问题吗？

[编译器 g++ 4.7.2]

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T10:06:26.027

好吧，很难——这是语言的一条规则，你不能获取临时对象的地址。制定规则的原因是，基本上没有充分的*理由*这样做。

在您的示例中，`ctlStyleGradient()`返回一些类型的对象`ctlStyleBase`。如果您想在`setStyle`函数中修改该对象（尽管在这种情况下您不这样做），那么一旦您完成，该对象将不复存在，从而使整个修改变得毫无意义。

是的，您可以设计操作具有可观察到的副作用的代码，但这本身就是非常糟糕的风格。因此，您不应该获取临时地址并没有什么深刻的技术原因，但是该语言决定不让您这样做，因为它被认为是不合适的。

但这似乎不是你想要做的。也许你的意思是`ctlStyleGradient()`返回一个指针本身？或者，如果您只需要*观察*一个状态并且从不更改它，则通过值或通过 const-reference 传递状态。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:05:37.003

问题是您根本无法获取右值表达式的地址。您`ctlStyleGradient`返回一个`ctlStyleBase`按值，将其复制出函数。这给了你一个临时的并且`ctlStyleGradient()`是一个右值表达式。你不能`&`在这个表达式上做。

如果您不需要修改传递给的对象`setStyle`，则可以将其更改为`const`引用：

```
void setStyle(const ctlStyleBase& style)
{
  //do something
}

if(style == 0) setStyle(ctlStyleGradient()); 
```

如果您确实需要修改它，那么您必须获取`ctlStyleBase`对象的本地副本并通过值或引用传递它：

```
void setStyle(ctlStyleBase style)
{
  //do something
}

if(style == 0) {
  ctlStyleBase styleCopy = ctlStyleGradient();
  setStyle(styleCopy);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T10:05:53.787

你可以这样做：

```
void create(const ctlStyleBase* style = 0)
{
      if(style == 0)
      {
          ctlStyleGradient temp;
          setStyle(&temp);
      }
      else setStyle(style);
} 
```

但是，老实说，我会重新编写你的代码，所以你不要这样做，像这样传递指向局部变量的指针是有风险的事情。也许改变`setStyle`调用以检查空指针？

# ajax - 包含带有 ajax 的 inputText 的复合组件

> ID：14850835
> 
> 赞同：1
> 
> 时间：2013-02-13T10:00:52.053
> 
> 标签：ajax, jsf-2, composite-component

**它的工作方式**

努力寻找解决方案，我发现我只是忘记了使用组件中的前导 h:head 标记。添加它们使所有错误消失。因此，对于一个完整的解决方案，这是我的最后一个代码：

*   复合组件

```
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:composite="http://java.sun.com/jsf/composite">
<composite:interface>
    <composite:attribute name="value" required="true"  />
    <composite:attribute name="size" required="false" default="20" />
    <composite:clientBehavior name="change" event="change" targets="input" />
</composite:interface>
<composite:implementation>
    <h:inputText id="input" value="#{cc.attrs.value}" size="#{cc.attrs.size}" />
</composite:implementation> 
```

*   豆子

```
@ManagedBean
@SessionScoped
public class MyBean
{
private String value1;
private String value2;
private String value3;

public String exec()
{
    this.value2 = value3;
    return "";
}

public void listenAjax(AjaxBehaviorEvent e)
{
    UIInput i = (UIInput) e.getComponent();     
    value2 = (String) i.getValue();
    System.out.println("ajax value = " + i.getValue());
    System.out.println("value1 = " + value1);
    System.out.println("value2 = " + value2);
    System.out.println("value3 = " + value3);
}

public String getValue3()
{
    return value3;
}

public String getValue2()
{
    return value2;
}

public String getValue1()
{
    return value1;
}

public void setValue1(String value1)
{
    this.value1 = value1;
}

public void setValue3(String value3)
{
    this.value3 = value3;
}
} 
```

*   调用 xhtml 文件

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:test="http://java.sun.com/jsf/composite/test">
<h:head>
</h:head>
<h:body>
<h:form id="form">
    <h:panelGrid columns="2">
        <h:outputText value="value3" />
        <h:inputText value="#{myBean.value3}">
            <f:ajax event="change" render="see" listener="#{myBean.listenAjax}" />
        </h:inputText>
        <h:outputText value="value1" />
        <test:test value="#{myBean.value1}">
            <f:ajax event="change" render=":form:see" listener="#{myBean.listenAjax}" />
        </test:test>
        <h:outputText value="value2" />
        <h:outputText id="see" value="#{myBean.value2}" />
        <h:outputText value="" />
        <h:commandButton action="#{myBean.exec}" value="set" />
    </h:panelGrid>
</h:form>
</h:body>
</html> 
```

最后，感谢所有给我一些提示并帮助我找出错误的人。

**改进步骤 2**

现在重新设计组件我有这个：

*   复合组件：

```
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:composite="http://java.sun.com/jsf/composite">
<composite:interface>
    <composite:attribute name="value" required="true"  />
    <composite:attribute name="size" required="false" default="20" />
    <composite:clientBehavior name="change" event="change" targets="input" />
</composite:interface>
<composite:implementation>
    <h:inputText id="input" value="#{cc.attrs.value}" size="#{cc.attrs.size}" />
</composite:implementation> 
```

*   托管豆：

```
@ManagedBean
@SessionScoped
public class MyBean {
private String value1;
private String value2;
private String value3;

public String exec()
{
    this.value2 = value3;
    return "";
}

public void listen(AjaxBehaviorEvent e)
{
    UIInput i = (UIInput) e.getComponent();     
    value2 = (String) i.getValue();
    System.out.println("ajax value = " + i.getValue());
    System.out.println("value1 = " + value1);
    System.out.println("value2 = " + value2);
    System.out.println("value3 = " + value3);
}

public String getValue3()
{
    return value3;
}

public String getValue2()
{
    return value2;
}

public String getValue1()
{
    return value1;
}

public void setValue1(String value1)
{
    this.value1 = value1;
}

public void setValue3(String value3)
{
    this.value3 = value3;
} 
```

}

*   用法：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:test="http://java.sun.com/jsf/composite/test">
<h:body>
<h:form>
    <test:test value="#{myBean.value1}">
        <f:ajax event="change" render=":out" listener="#{myBean.listen}" />
    </test:test>
    <h:inputText value="#{myBean.value3}">
        <f:ajax event="change" render=":out" listener="#{myBean.listen}" />
    </h:inputText>
    <h:commandButton action="#{myBean.exec}" value="set" />
</h:form>
<h:outputText id="out" value="#{myBean.value2}" />
</h:body>
</html> 
```

然而，没有对表单之外的组件进行 ajax 响应（在日志窗口中没有结果）。这让我很困惑，我怎样才能让它工作？

**改进步骤 1（旧）**

所以我尝试改进我的代码，将复合组件更改为

```
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:composite="http://java.sun.com/jsf/composite">
<composite:interface>
    <composite:attribute name="value" required="true" />
    <composite:attribute name="size" required="false" default="20" />
    <composite:clientBehavior name="change" event="change" targets="#{cc.clientId}:input" />
</composite:interface>
<composite:implementation>
    <h:inputText id="input" value="#{cc.attrs.value}" size="#{cc.attrs.size}" />
</composite:implementation> 
```

我的电话是

```
<my:test value="#{test.value1}">
  <f:ajax event="change" render=":out" listener="#{test.listen}" />
</my:test>
<h:outputText id="out" value="#{test.value2}" /> 
```

结果完全没有任何反应。我可以做些什么来完成这项工作？

**原帖***

我想让我的复合组件使用 AJAX。我用谷歌搜索了很多，甚至在 stackoverflow 上也找到了一些解决方案，但它们似乎都只适用于按钮。这里我有一个`inputText`组件，如何给我的组件一个 AJAX 事件监听器？执行我的示例（见下文）会出现此错误：

```
com.sun.faces.lifecycle.InvokeApplicationPhase execute
WARNING: 0
java.lang.ArrayIndexOutOfBoundsException: 0
at org.apache.el.parser.AstValue.convertArgs(AstValue.java:320)
at org.apache.el.parser.AstValue.invoke(AstValue.java:274)
at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:274)
at com.sun.faces.facelets.el.ContextualCompositeMethodExpression.invoke(ContextualCompositeMethodExpression.java:187)
at com.sun.faces.facelets.tag.TagAttributeImpl$AttributeLookupMethodExpression.invoke(TagAttributeImpl.java:473)
at com.sun.faces.facelets.tag.jsf.core.AjaxBehaviorListenerImpl.processAjaxBehavior(AjaxHandler.java:459)
at javax.faces.event.AjaxBehaviorEvent.processListener(AjaxBehaviorEvent.java:113)
at javax.faces.component.behavior.BehaviorBase.broadcast(BehaviorBase.java:106)
at javax.faces.component.UIComponentBase.broadcast(UIComponentBase.java:809)
at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:800)
at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1292)
at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)
at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:181)
at javax.faces.webapp.FacesServlet.service(FacesServlet.java:645)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
at java.lang.Thread.run(Thread.java:722) 
```

我的复合组件：

```
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:composite="http://java.sun.com/jsf/composite">
<composite:interface>
    <composite:attribute name="value" required="true" />
    <composite:attribute name="size" required="false" default="20" />
    <composite:attribute name="enableAjax" required="false" default="false" />
    <composite:attribute name="ajaxRender" required="false" />
    <composite:attribute name="ajaxListener" required="false" method-signature="void listen(javax.faces.event.AjaxBehaviorEvent)" />
</composite:interface>
<composite:implementation>
    <h:inputText id="input" value="#{cc.attrs.value}" size="#{cc.attrs.size}">
        <f:ajax event="change" render="#{cc.attrs.ajaxRender}" listener="#{cc.attrs.ajaxListener}" disabled="#{!cc.attrs.enableAjax}" />
    </h:inputText>
</composite:implementation> 
```

我的电话：

```
<my:test value="#{test.value1}" ajaxRender=":out" ajaxListener="#{test.listen}" enableAjax="true" />
<h:outputText id="out" value="#{test.value2}" /> 
```

我的豆子：

```
@ManagedBean
@SessionScoped
public class Test {
  private String value1;
  private String value2;
  ...
  public void listen(AjaxBehaviorEvent e)
  {
    value2 = (String) ((UIInput) e.getComponent()).getValue();
  }
  ... (getter & setter)
} 
```

顺便提一句。通过复合组件要复杂得多，我将此示例简化为相关部分。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T12:25:46.103

`<cc:clientBehavior>`应该工作。你`targets`只是错的。

```
<composite:clientBehavior name="change" event="change" targets="#{cc.clientId}:input" /> 
```

它必须与组合本身相关，而不是与父/viewroot 或其他任何东西相关（因为理论上这将需要在每次将组合组件放入不同的命名容器父级时编辑它！）。

因此，所以

```
<composite:clientBehavior name="change" event="change" targets="input" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T10:26:08.630

如果我们查看您的复合组件定义（尤其是`ajaxListener`属性），您定义了一个方法`AjaxBehaviorEvent`（这是这种事件侦听器的正确签名），但在使用您的组件时，您将属性定义为：

```
ajaxListener="#{test.listen}" 
```

所以，没有参数 - 这就是抛出这个异常的地方（试图找到方法的参数）。

有了这个你的用例，你应该稍微改变你的组件定义。所以改变：

```
<composite:attribute name="ajaxListener" required="false" method-signature="void listen(javax.faces.event.AjaxBehaviorEvent)" /> 
```

像这样：

```
<composite:attribute name="bean" required="false" type="java.lang.Object" />
<composite:attribute name="ajaxListener" required="false" type="java.lang.String" /> 
```

还将标签中的`listener`属性更改为：`f:ajax`

```
listener="#{cc.attrs.bean[cc.attrs.ajaxListener]}" 
```

最后改变你的复合组件的使用方式：

```
<my:test value="#{test.value1}" ajaxRender=":out" ajaxListener="listen" bean="#{test}" enableAjax="true" /> 
```

# java - 覆盖抽象方法或在枚举中使用一种方法？

> ID：14850842
> 
> 赞同：14
> 
> 时间：2013-02-13T10:01:12.843
> 
> 标签：java, enums

考虑以下`enums`，哪个更好？它们都可以完全相同的方式使用，但*它们的优势是什么*？

**1.重写抽象方法：**

```
public enum Direction {
    UP {
        @Override
        public Direction getOppposite() {
            return DOWN;
        }
        @Override
        public Direction getRotateClockwise() {
            return RIGHT;
        }
        @Override
        public Direction getRotateAnticlockwise() {
            return LEFT;
        }
    },
    /* DOWN, LEFT and RIGHT skipped */
    ;
    public abstract Direction getOppposite();
    public abstract Direction getRotateClockwise();
    public abstract Direction getRotateAnticlockwise();
} 
```

**2.使用单一方法：**

```
public enum Orientation {
    UP, DOWN, LEFT, RIGHT;
    public Orientation getOppposite() {
        switch (this) {
        case UP:
            return DOWN;
        case DOWN:
            return UP;
        case LEFT:
            return RIGHT;
        case RIGHT:
            return LEFT;
        default:
            return null;
        }
    }
    /* getRotateClockwise and getRotateAnticlockwise skipped */
} 
```

* * *

**编辑：**我真的希望看到一些合理/详尽的答案，以及特定主张的证据/来源。由于缺乏证据，大多数现有的关于性能的答案并不真正令人信服。

您*可以*提出替代方案，但必须清楚它比所述的更好和/或所述的更差，并在需要时提供证据。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-04-16T06:42:45.037

在此比较中忘记性能；要在两种方法之间产生有意义的性能差异，需要一个真正庞大的枚举。

让我们关注可维护性。假设您完成了对`Direction`枚举的编码，并最终转向了一个更有声望的项目。同时，另一位开发人员获得了您旧代码的所有权，包括`Direction`- 我们称他为 Jimmy。

在某些时候，需求要求 Jimmy 添加两个新方向：`FORWARD`和`BACKWARD`. Jimmy 累了，工作过度了，懒得去研究这会如何影响现有的功能——他就是这么做的。让我们看看现在会发生什么：

**1.重写抽象方法：**

Jimmy 立即得到一个编译器错误（实际上他可能会在枚举常量声明的正下方发现该方法覆盖）。*在任何情况下，问题都会在编译时*被发现并修复。

**2.使用单一方法：**

Jimmy 没有收到编译器错误，甚至没有收到来自他的 IDE 的不完整切换警告，因为您`switch`已经有了`default`案例。稍后，在运行时，某段代码调用`FORWARD.getOpposite()`，它返回`null`。这会导致意外行为，并且*充其量*很快会导致 a`NullPointerException`被抛出。

让我们备份并假设您添加了一些面向未来的验证：

```
default:
    throw new UnsupportedOperationException("Unexpected Direction!"); 
```

即使那样，直到*运行*时才发现问题。希望该项目经过适当的测试！

现在，您的`Direction`示例非常简单，因此这种情况可能看起来有些夸张。但在实践中，枚举可以像其他类一样容易地成为维护问题。在具有多个开发人员的更大、更旧的代码库中，重构的弹性是一个合理的担忧。许多人谈论优化代码，但他们可能忘记了开发时间也需要优化——这包括防止错误的编码。

**编辑：**[JLS 示例 §8.9.2-4](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.9.2)下的注释似乎同意：

> *特定于常量的类主体将行为附加到常量。[这个] 模式比`switch`在基类型中使用语句更安全......因为该模式排除了忘记为新常量添加行为的可能性（因为枚举声明会导致编译时错误）。*

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-16T07:03:20.220

我实际上做了一些不同的事情。您的解决方案有缺陷：抽象的重写方法引入了相当多的开销，并且 switch 语句很难维护。

我建议以下模式（适用于您的问题）：

```
public enum Direction {
    UP, RIGHT, DOWN, LEFT;

    static {
      Direction.UP.setValues(DOWN, RIGHT, LEFT);
      Direction.RIGHT.setValues(LEFT, DOWN, UP);
      Direction.DOWN.setValues(UP, LEFT, RIGHT);
      Direction.LEFT.setValues(RIGHT, UP, DOWN);
    }

    private void setValues(Direction opposite, Direction clockwise, Direction anticlockwise){
        this.opposite = opposite;
        this. clockwise= clockwise;
        this. anticlockwise= anticlockwise;
    }

    Direction opposite;
    Direction clockwise;
    Direction anticlockwise;

    public final Direction getOppposite() { return opposite; }
    public final Direction getRotateClockwise() { return clockwise; }
    public final Direction getRotateAnticlockwise() { return anticlockwise; }
} 
```

通过这样的设计，您：

*   永远不要忘记设置方向，因为它是由构造函数强制执行的（`case`以防万一）

*   有很少的方法调用开销，因为方法是最终的，而不是虚拟的

*   干净简洁的代码

*   但是，您可能会忘记设置一个方向的值

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-13T10:04:51.337

第一个变体更快并且可能更易于维护，因为方向的所有属性都在定义方向本身的位置进行了描述。尽管如此，将非平凡的逻辑放入枚举中对我来说看起来很奇怪。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-13T10:10:31.540

第二种变体可能会快一点，因为 >2 元多态性将强制对接口进行完整的虚函数调用，而后者则直接调用和索引。

第一种形式是面向对象的方法。

第二种形式是模式匹配方法。

因此，第一种形式是面向对象的，可以很容易地添加新的枚举，但很难添加新的操作。第二种形式相反

我认识的大多数有经验的程序员都会推荐使用模式匹配而不是面向对象。由于枚举已关闭，因此无法添加新枚举；因此，我自己肯定会采用后一种方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-13T10:07:02.187

枚举值可以被视为独立的类。因此，考虑到面向对象的概念，每个枚举都应该定义自己的行为。所以我会推荐第一种方法。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-13T10:08:00.590

第一个版本可能要快得多。Java JIT 编译器可以对其进行积极的优化，因为`enum`s 是最终的（所以它们中的所有方法`final`也是 ）。编码：

```
Orientation o = Orientation.UP.getOppposite(); 
```

实际上应该变成（在运行时）：

```
Orientation o = Orientation.DOWN; 
```

即编译器可以消除方法调用的开销。

从设计的角度来看，这是用 OO 做这些事情的正确方法：将知识移到需要它的对象附近。所以UP应该知道它是相反的，而不是其他地方的一些代码。

第二种方法的优点是它更具可读性，因为所有相关的东西都被更好地分组（即所有与“相反”相关的代码都在一个地方，而不是这里一点点那里一点）。

**编辑**我的第一个论点取决于 JIT 编译器的智能程度。我的问题解决方案如下所示：

```
public enum Orientation {
    UP, DOWN, LEFT, RIGHT;

    private static Orientation[] opposites = {
        DOWN, UP, RIGHT, LEFT
    };

    public Orientation getOpposite() {
        return opposites[ ordinal() ];
    }
} 
```

无论 JIT 能做什么或能做什么，这段代码都紧凑而快速。它清楚地传达了意图，并且考虑到序数规则，它将始终有效。

我还建议添加一个测试，以确保在调用`getOpposite()`枚举的每个值时，您总是得到不同的结果，并且没有一个结果是`null`. 这样，您就可以确定您收到了所有案例。

剩下的唯一问题是当您更改值的顺序时。为了防止在这种情况下出现问题，请为每个值分配一个索引，并使用它来查找数组甚至`Orientation.values()`.

这是另一种方法：

```
public enum Orientation {
    UP(1), DOWN(0), LEFT(3), RIGHT(2);

    private int opposite;

    private Orientation( int opposite ) {
        this.opposite = opposite;
    }

    public Orientation getOpposite() {
        return values()[ opposite ];
    }
} 
```

不过，我不喜欢这种方法。它太难读了（你必须在脑海中计算每个值的索引）并且太容易出错。它需要对枚举中的每个值和您可以调用的每个方法进行单元测试（因此在您的情况下为 4*3 = 12）。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-13T10:09:29.187

您也可以像这样简单地实现一次（您需要以适当的顺序保持枚举常量）：

```
public enum Orientation {

    UP, RIGHT, DOWN, LEFT; //Order is important: must be clock-wise

    public Orientation getOppposite() {
        int position = ordinal() + 2;
        return values()[position % 4];
    }
    public Orientation getRotateClockwise() {
        int position = ordinal() + 1;
        return values()[position % 4];
    }
    public Orientation getRotateAnticlockwise() {
        int position = ordinal() + 3; //Not -1 to avoid negative position
        return values()[position % 4];
    }
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-04-18T03:06:02.203

**答案：视情况而定**

1.  **如果您的方法定义很简单**

    您的非常简单的示例方法就是这种情况，它只是为每个枚举输入硬编码一个枚举输出

    *   在枚举值旁边实现特定于枚举值的定义
    *   在“公共区域”的类底部实现所有枚举值通用的定义；如果相同的方法签名可用于所有枚举值但没有/部分逻辑是通用的，请在公共区域使用抽象方法定义

    即选项1

    为什么？

    *   可读性、一致性、可维护性：与定义直接相关的代码就在定义旁边
    *   编译时检查是否在公共区域中声明了抽象方法，但未在枚举值区域中指定

    请注意，可以认为 North/South/East/West 示例表示一个非常简单的状态（当前方向），并且可以考虑使用 reverse/rotateClockwise/rotateAntilateral 方法来表示用户更改状态的命令。这就提出了一个问题，你为现实生活中的通常复杂的状态机做了什么？

2.  **如果您的方法定义很复杂：**

    状态机通常很复杂，依赖于当前（枚举值）状态、命令输入、计时器以及相当多的规则和业务异常来确定新的（枚举值）状态。在其他罕见的情况下，方法甚至可以通过计算确定枚举值输出（例如科学/工程/保险评级分类）。或者它可以使用数据结构，例如地图，或适合算法的复杂数据结构。当逻辑很复杂时，需要格外小心，并且“通用”逻辑和“特定于枚举值”的逻辑之间的平衡会发生变化。

    *   避免在枚举值旁边放置过多的代码量、复杂性和重复的“剪切和粘贴”部分
    *   尝试将尽可能多的逻辑重构到公共区域 - 可能将 100% 的逻辑放在这里，但如果不可能，采用四人组“模板方法”模式来最大化公共逻辑的数量，但灵活地允许少量针对每个枚举值的特定逻辑。即尽可能多地使用选项1，允许少量选项2

    为什么？

    *   可读性、一致性、可维护性：避免代码膨胀、重复、错误的文本格式以及散布在枚举值之间的大量代码，允许快速查看和理解整组枚举值
    *   编译时检查是否使用在公共区域中声明但未在枚举值区域中指定的模板方法模式和抽象方法

    *   注意：您可以将所有逻辑放入一个单独的辅助类中，但我个人认为这没有任何优势（不是性能/可维护性/可读性）。它稍微打破了封装，一旦你将所有逻辑都放在一个地方，将一个简单的枚举定义添加回类的顶部有什么区别？跨多个类拆分代码是另一回事，在适当的情况下应予以鼓励。

# c# - DateTime.ParseExact 上的 CultureInfo？

> ID：14850848
> 
> 赞同：10
> 
> 时间：2013-02-13T10:01:35.010
> 
> 标签：c#, .net, datetime

我不明白为什么 IFormatProvider 中有过载`DateTime.ParseExact`？

如果我要**准确**定义它应该如何解析（*空格、分隔符等*），那么应该没有问题：

所有这 3 个示例都显示了相同的结果：

**示例 1**

```
CultureInfo provider =CultureInfo.CreateSpecificCulture("en-US");
var t=  DateTime.ParseExact("13-2-2013", "d-M-yyyy", provider, DateTimeStyles.None);  
Console.WriteLine (t); //13/02/2013 00:00:00 
```

**示例 2**

```
 CultureInfo provider =CultureInfo.CreateSpecificCulture("en-US");
  var t=    DateTime.ParseExact("13/2/2013", "d/M/yyyy", provider, DateTimeStyles.None);  
  Console.WriteLine (t); //13/02/2013 00:00:00 
```

**示例 3**

```
 CultureInfo provider =CultureInfo.CreateSpecificCulture("en-US");
var t=  DateTime.ParseExact("13@@@2@@@2013", "d@@@M@@@yyyy", provider, DateTimeStyles.None);  
 Console.WriteLine (t); //13/02/2013 00:00:00 
```

那么，如果我**明确**定义了结构，为什么我需要提供提供者？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-13T10:04:11.327

仍然有一些依赖于文化的格式说明符，例如时间分隔符 (:) 和日期分隔符 (/)。那些不匹配特定字符，而是文化中指定的分隔符。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T10:03:35.727

因为：

1.  指定的格式可以包括工作日和月份的本地化名称。
2.  格式字符串中的字符`:`和`/`不代表*文字*字符，而是由格式提供程序指定的分隔符（请参见[此处](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)表格的底部）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-17T07:56:20.823

我主要可以想象一个 Web 应用程序，也可能是一个表单，客户端向服务器提交信息。此表单还包含一个日期选择器，并根据特定的文化发送选定的日期。因此，如果在美国使用的网站，他们会发送 13/2/2013，而从德国您会收到 13.2.2013。那么如何处理服务器端代码中的日期呢？

您可以在 ASP.NET MVC 中使用这样的东西（感谢 Sergey，[从当前访问者那里获取 CultureInfo 并基于此设置资源？](https://stackoverflow.com/questions/9414123/get-cultureinfo-from-current-visitor-and-setting-resources-based-on-that)）：

```
var userLanguages = Request.UserLanguages;
CultureInfo ci;
if (userLanguages.Count > 0)
{
    try
    {
        ci = new CultureInfo(userlanguages[0]);
    }
    catch(CultureNotFoundException)
    {
         ci = CultureInfo.InvariantCulture;
    }
}
else
{
    ci = CultureInfo.InvariantCulture;
} 
```

然后解析为日期时间：

```
var t = DateTime.ParseExact(formDateString, "d/M/yyyy", ci, DateTimeStyles.None); 
```

# eclipse - 当代码的某些部分发生变化时，是否有任何工具可以自动重建项目？

> ID：14850849
> 
> 赞同：3
> 
> 时间：2013-02-13T10:01:39.810
> 
> 标签：eclipse, jakarta-ee, ant, build, antbuilder

我将 Eclipse IDE 用于我的 java 项目，有时我需要更改一些常量并测试它的效果。

但是在更改代码时，我必须重新构建它，这通常需要 40 分钟和 5 分钟才能以调试模式启动服务器。

所以我正在寻找一些工具来简化我的任务，比如将重建时间至少缩短 50%。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T10:09:56.710

您可以将常量放在代码之外。例如，将它们放在属性文件中。然后更改您的代码以直接从属性文件中读取常量。

您将能够构建一次代码并随时更改常量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T15:34:27.890

如果您还没有使用它，您可能应该考虑设置一个像[Jenkins](http://jenkins-ci.org)这样的持续集成解决方案。您可以自动构建以轮询您的代码存储库并监控更改，然后使用不同风格的常量运行一套构建和测试，以查看对系统的影响。

# java - 基本 Servlet 不起作用

> ID：14850850
> 
> 赞同：0
> 
> 时间：2013-02-13T10:01:42.583
> 
> 标签：java, servlets, glassfish

我试图从书中创建一个简单的 servlet，但无济于事。

我使用 GlassFish Server 开源版 3.1.2.2、jdk1.7.0_10、记事本。

**root\WEB-INF\classes\net\ensode\glassfishbook\formhandling\FormHandlerServlet.class ：**

```
package net.ensode.glassfishbook.formhandling;
import java.io.IOException;
import java.io.PrintWriter;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
public class FormHandlerServlet extends HttpServlet
{
    protected void doPost(HttpServletRequest request,HttpServletResponse response)
    {
        String enteredValue;
        enteredValue = request.getParameter("enteredValue");
        response.setContentType("text/html");

        PrintWriter printWriter;
        try
        {
            printWriter = response.getWriter();
            printWriter.println("<p>");
            printWriter.print("You entered: ");
            printWriter.print(enteredValue);
            printWriter.print("</p>");
        }
        catch (IOException e)
        {
            e.printStackTrace();
        }
    }

protected void doGet(HttpServletRequest request, HttpServletResponse response)
    {
        try
        {
            response.setContentType("text/html");
            PrintWriter printWriter = response.getWriter();
            printWriter.println("<h2>");
            printWriter.println("If you are reading this, your application server is good to go!");
            printWriter.println("</h2>");
        }
        catch (IOException ioException)
        {
            ioException.printStackTrace();
        }
    }
} 
```

**根/web.xml：**

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="2.4" xmlns="http://java.sun.com/xml/ns/j2ee"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd">

<welcome-file-list>
<welcome-file>dataentry.html</welcome-file>
</welcome-file-list>
<servlet>
<servlet-name>FormHandlerServlet</servlet-name>
<servlet-class>
net.ensode.glassfishbook.formhandling.FormHandlerServlet
</servlet-class>
</servlet>
<servlet-mapping>
<servlet-name>FormHandlerServlet</servlet-name>
<url-pattern>/formhandlerservlet</url-pattern>
</servlet-mapping>
</web-app> 
```

**根/dataentry.html：**

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;
charset=UTF-8">
<title>Data Entry Page</title>
</head>
<body>
<form method="post" action="formhandlerservlet">
<table cellpadding="0" cellspacing="0" border="0">
<tr>
<td>Please enter some text:</td>
<td><input type="text" name="enteredValue" /></td>
</tr>
<tr>
<td></td>
<td><input type="submit" value="Submit"></td>
</tr>
</table>
</form>
</body>
</html> 
```

我在控制台中通过以下命令创建 WAR 文件：

```
cd e:\root\
jar cvf formhandling.war * 
```

接下来，我将我的 WAR 文件复制到“自动部署”目录中。

```
The link: http://localhost:8080/formhandling/
gives me the error: HTTP Status 404, description - The requested resource () is not available.

The link: http://localhost:8080/formhandling/dataentry.html
gives me the error: HTTP Status 404, description - The requested resource () is not available.

The link: http://localhost:8080/formhandling/formhandlerservlet
gives me the right response: “If you are reading this, your application server is good to go!” 
```

Glassfish似乎找不到**dataentry.html**文件，但我从书中复制了所有代码，不知道该怎么办。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:55:43.550

书中的代码不起作用，因为 dataentry.html 是在 WEB-INF 文件夹中创建的，我更正了这个错误：

```
<welcome-file-list>
<welcome-file>/dataentry.html</welcome-file>
</welcome-file-list> 
```

现在，我在根目录中有我的 html 文件。有用。

# java - 如何使用 JDBC 连接连接到 Oracle DB 而无需在我的机器上打开 Oracle

> ID：14850851
> 
> 赞同：1
> 
> 时间：2013-02-13T10:01:43.640
> 
> 标签：java, oracle, jdbc

您好 下面是我为使用 JDBC 连接连接到 Oracle DB 并返回一些值而编写的代码。但是如果我在我的机器上打开 oracle toad，这段代码会建立连接并返回结果。

但是当 oracle toad 关闭并尝试运行这段代码时，它不会连接。

请让我知道如何在不手动打开 oracle toad 的情况下连接到 oracle DB。

```
package library;
import java.io.IOException;
import java.sql.*;

public class DBAutomationConnection {
public static void main(String args[]) throws ClassNotFoundException, IOException, SQLException {
  DBAutomationConnection dbconn = new DBAutomationConnection();
  //Connection conn = dbconn.DBConnection1();
  dbconn.DBConnection1("select * from employee where empid='test123'","ROLE_NAME");

}

public void DBConnection1(String query, String colName)throws IOException, ClassNotFoundException{
 Connection connection = null;
 Statement stmt = null;
  try {
      // Load the JDBC driver

      String driverName = "oracle.jdbc.driver.OracleDriver";

      Class.forName(driverName);

      connection = DriverManager.getConnection("jdbc:oracle:thin:@//testhostname:1528/ServiceName", "XXAAA_U", "Jw9S");
      System.out.println("Connection successful: " +connection);

      try {
              stmt = connection.createStatement();
              ResultSet rs = stmt.executeQuery(query);
              while (rs.next()) {
                    //String UserID = rs.getString("USER_ID");
                  String UserID = rs.getString(colName);
                    System.out.println(UserID);     
              }
        } catch (SQLException e ) {
              System.out.println("Could not execute query.");
              //JDBCTutorialUtilities.printSQLException(e);
        } finally {
              if (stmt != null) { stmt.close(); }
        }

  } catch (SQLException e) {
                  System.out.println("Could not connect to the database");
  }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:04:34.323

您应该从您的操作系统设置>服务初始化 Oracle TNS-Listener 服务。您可能需要检查您的 tns 配置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:30:30.070

您的系统中是否安装了 Oracle Thin 驱动程序？这个[链接](http://docs.oracle.com/cd/B28359_01/java.111/b31224/getsta.htm)可以指导你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T10:28:31.933

您需要在系统中安装 ORACLE 客户端才能远程连接 oracle。

[http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html](http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html)

# python - 如何在 Google App Engine 中包含第三方 Python 库？

> ID：14850853
> 
> 赞同：33
> 
> 时间：2013-02-13T10:01:49.873
> 
> 标签：python, google-app-engine

如何在 Google App Engine 中添加非 Google 提供的第三方 Python 库？我正在尝试在 Google App Engine 中使用 BeautifulSoup，但无法这样做。但我的问题是关于我想在 Google App Engine 中使用的任何库。

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2015-04-16T16:41:48.847

Google 为您的 GAE 项目中包含的第三方库提供了一种记录方式。

请参阅[Python 2.7 文档中库的“将第三方包添加到应用程序”部分](https://cloud.google.com/appengine/docs/python/tools/libraries27#vendoring)。

> 如果你想包含额外的纯 python 第三方包，你可以通过设置 vendoring 来实现。供应商允许您将包安装到项目的子目录中并将它们包含在您的代码中。要使用供应商，请在项目的根目录中 创建（或修改）**appengine_config.py 。**

```
from google.appengine.ext import vendor
# Add any libraries installed in the "lib" folder.
vendor.add('lib') 
```

然后只需将所有库的源代码放在您的`lib`目录中

```
> pip install beautifulsoup4 -t lib 
```

所以你的项目目录结构如下所示：

```
project
- lib
  - bs4
- your_code.py 
```

这将允许您项目的源文件导入库的包/模块，就好像它们已添加到您的`PYTHON_PATH`. 例如：

```
# file: your_code.py
import bs4  # no need for 'from lib import bs4'
# do stuff with bs4... 
```

您还可以通过执行以下命令轻松安装 requirements.txt 文件中的所有内容

```
> pip install -t lib -r requirements.txt 
```

* * *

## 回答 #2

> 赞同：47
> 
> 时间：2013-02-13T10:44:17.250

其实我认为[这个答案](https://stackoverflow.com/a/14648038/8418)更适合这里。

如果您想使用未包含在[此列表](https://stackoverflow.com/a/14648038/8418)中的 3rd 方库，则必须手动添加它们。

为了手动包含任何其他库，您必须将它们放在所在的目录中`app.yaml`。因此，例如，如果您具有以下结构：

```
hello
├── libs
│   └── bs4 
├── hello.py 
└── app.yaml 
```

然后在你的`hello.py`你必须把这两行放在文件的开头：

```
import sys
sys.path.insert(0, 'libs') 
```

完成此操作后，您将能够使用要放入该`libs`目录的任何 3rd 方库。

例如：

```
from bs4 import BeautifulSoup 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-13T10:02:42.037

您只需将包含要使用的库的文件夹复制到您的应用引擎项目中。

然后，当您部署它时，它会与您的应用程序一起上传并可供使用。

编辑：[杰西的回答](https://stackoverflow.com/a/29681061/346561)是我现在如何做到这一点。那就这样做吧！

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-02-24T18:43:20.923

它在这里的工作方式是：

```
import sys
# sys.path.insert(0, 'libs') #"Old" way, not working for me.
sys.path.append(os.path.join(os.path.dirname(__file__), "libs")) # This works! 
```

然后正常导入：

```
from bs4 import BeautifulSoup 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-13T10:02:35.733

只需将 Beautifulsoup 放在项目的根目录中并全部上传即可

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-02-04T06:18:38.723

pip install -t lib package_name

**lib**：*第三方库的位置*

然后，您可以像从 ipython 或终端使用的普通库一样使用这个包。

# php - RewriteRule htaccess $1 引用 php 文件本身

> ID：14850855
> 
> 赞同：0
> 
> 时间：2013-02-13T10:01:51.103
> 
> 标签：php, .htaccess

**代码 ：**

**.ht 访问：**

```
RewriteEngine On  
RewriteRule    ^(.*)/*$    base.php?request=$1    [NC,L] 
```

**基础.php**

```
<?php
    echo "this is base.php <br/> and Get Vaiables <br> ";
    print_r($_GET);
?> 
```

*对于请求：*

```
localhost/blahblahproject/hello 
```

**预期结果：**

> 这是 base.php
> 和 Get Vaiables
> Array ( [request] => hello )

**当前结果：**

> 这是 base.php
> 和 Get Vaiables
> Array ( [request] => base.php )

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:21:32.513

将您的 .htaccess 规则更改为：

```
RewriteEngine On
RewriteBase /

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)/?$ /base.php?request=$1 [QSA,L] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:06:37.913

`.htaccess`仅将 url 重定向到您的 get 参数。要检索 url 值，请使用`parse_url`或类似的命令。

我有这样的功能来完成这项工作：

```
/**
 * Sets current request url
 */
private function setUrl() {
    $path = parse_url( $_SERVER[ 'REQUEST_URI' ], PHP_URL_PATH );
    $pathTrimmed = trim( $path, '/' );
    $pathTokens = explode( '/', $pathTrimmed );

    if ( substr( $path, -1 ) !== '/' ) {
        array_pop( $pathTokens );
    }

    $url = end( $pathTokens );

    $this -> url = $url;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T10:16:05.370

如果您对最后一个“/”之后的字符串感兴趣，请将 .htaccess 文件更改为：

```
RewriteEngine On
RewriteRule ^.*/(.*)$ base.php?request=$1    [NC,L] 
```

# javascript - 图片会被自动点击一次

> ID：14850856
> 
> 赞同：0
> 
> 时间：2013-02-13T10:01:52.467
> 
> 标签：javascript

我的网站上有一张图片：

```
<img src = "bird.jpg" class="main_mark"> 
```

我希望当用户进入网站时，这张图片会被自动点击一次。

我怎样才能做到这一点？也许我应该在我的 JavaScript 代码中定义一些东西？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T10:03:24.137

如果你使用 jQuery，你可以：

`$('.main_mark').trigger('click');`

或者

`$('.main_mark').click();`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T10:05:57.287

你可以`jquery`像这样使用

```
$(document).ready(function(){
     $('.main_mark').click(function(){
          // Your code
     });
     $('.main_mark').trigger('click');
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-13T10:21:25.497

您应该能够使用 1 单击触发您的弹出窗口：

```
$(document).ready(function(){
     $('.main_mark').click(function(){
          YouTubePopup({ idAttribute: 'id', 'modal': true });
     });
 }); 
```

# java - 使用 xml 自定义文件作为 string.xml

> ID：14850858
> 
> 赞同：0
> 
> 时间：2013-02-13T10:01:57.703
> 
> 标签：java, android, sqlite

我在我的应用程序中使用 Android SQLite，我想将我所有的静态查询（创建、删除、更新）放入一个特定的文件中（我讨厌 sql 与 java 代码合并）。所以，我想创建一个名为 query.xml 的文件并将其用作 string.xml

```
context.getString(R.query.MY_STATIC_QUERY) 
```

但我认为这是不可能的。

有办法做到这一点吗？（或类似的东西？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:04:38.520

您可以做的一件事..您可以将所有查询放在属性文件中，并在需要时从属性文件中读取。

# google-apps-script - 在提交表单时发送自动回复电子邮件脚本

> ID：14850859
> 
> 赞同：0
> 
> 时间：2013-02-13T10:02:00.383
> 
> 标签：google-apps-script, google-sheets, email-notifications

我在另一个电子表格中使用了一个脚本，每当有人提交表单时，它都会向我发送电子邮件。它通过电子邮件向我发送一些重要问题的答案，以及用于查看电子表格上的完整回复的链接。

这是我的原始代码有效：

```
function Outreach_FormMailer(e) {
    var recipient = "email@gmail.com";
    var timestamp = e.values[0];
    var name = e.values[1];
    var subject = e.values[1]+" completed a Report for "+e.values[3]
    var dates = e.values[7];
    var goalMet = e.values[9]
    var goalFocus = e.values[10]
    var hyperlink = "myawesomelink.com"
htmlBody = name+' just completed the O/R Report for these dates: '+dates+'<br><br>Form completed on: '+timestamp+'<br>Was the goal met? '+goalMet+'<br>What was the goal focus? '+goalFocus+                                                                            
    '<br><br>View the Form:<a href="'+hyperlink+'">Click Here</a>'; 
```

MailApp.sendEmail（收件人，主题，htmlBody，{htmlBody:htmlBody}）；}

我想将此代码用于具有不同问题的新表单，因此我编辑了代码以仅对应于正确的问题。

这是不起作用的代码：

```
function Team_ApplicationMailer(e) {
    var recipient = "email@gmail.com";
    var timestamp = e.values[0];
    var name = e.values[3];
    var subject = e.values[1]+' filled out the Teams Application Form!' ;
    var startdate = e.values[12];
    var enddate = e.values[13]
    var Focus = e.values[19]
    var hyperlink="myawesomelink.com"
htmlBody = name+' from: '+e.values[1]+'just completed the Teams Application Form for these dates: '+startdate+' to '+enddate+'<br><br>Form completed on: '+timestamp+'<br><br>View the Form:<a href="'+hyperlink+'">Click Here</a>';
MailApp.sendEmail(recipient, subject, htmlBody, {htmlBody:htmlBody}); 
```

}

我已经完成了几封测试电子邮件，由于某种原因，这个版本的脚本将无法工作。我将此脚本添加到电子表格上已有响应的表单中。那会有什么不同吗？真的不确定我在将代码传输到不同的电子表格时做错了什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T02:37:06.607

感谢您的评论。我实际上意识到上面的代码确实可以正常工作。我忘记了我在 Gmail 中设置了一个过滤器，该过滤器将自动回复电子邮件发送到我没有看到的文件夹而不是收件箱。代码没有问题，我只是忘记检查电子邮件发送到的正确位置。

# c++ - 如何用未知类型包装可变参数函数？

> ID：14850860
> 
> 赞同：3
> 
> 时间：2013-02-13T10:02:03.327
> 
> 标签：c++, c, variadic-functions

我在一个库中有一个函数，它接受消息和可变参数并像 printf 一样打印它们。例如：

```
printMe(const char *fmt,...); 
```

我正在尝试包装此功能。我不知道参数类型和计数是什么。我试图这样做：

```
printMeWrapper(const char *message,...)
{
    va_list argptr;
    va_start(argptr, message);
    printMe( message,argptr);
    va_end(argptr);
} 
```

但这只会打印第一个参数。关于如何正确执行此操作的任何想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T10:04:39.047

您必须创建第二个`printMe`带有`va_list`参数的函数，就像有`printf`and `vprintf`：

```
void printMeVa(const char *fmt, va_list va)
{
    ...
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T13:14:43.310

您可以改用宏：

```
#define printMeWrapper(message, ...) \
  DoSmthBefore(); \
  printMe(message, __VA_ARGS__); \
  DoSmthAfter(); 
```

# c# - Wp插入数据库异常

> ID：14850861
> 
> 赞同：2
> 
> 时间：2013-02-13T10:02:04.690
> 
> 标签：c#, database, exception, windows-phone

我的代码工作了一个多月，我的应用程序解析 rss 提要（[http://www.whitehouse.gov/feed/blog/white-house](http://www.whitehouse.gov/feed/blog/white-house)）并将新闻插入数据库：

今天，当应用程序尝试将这条新闻“2013 年国情咨文的第一夫人的盒子”添加到 db 时，我遇到了一个例外。这是我的代码：

```
News item = Query.instance().AddNews(channel.Guid, channel.Description, channel.Link, channel.PublishDate, channel.Title);

   public News AddNews(string guid, string description, string link, DateTime publishDate, string title)
    {
        // create a new and add it to the context
        News item = new News { Guid = guid, Description = description, Link = link, PublishDate = publishDate, Title = title };
        // add the new to the context
        db.NewsItems.InsertOnSubmit(item);
        // save changes to the database
        db.SubmitChanges();

        return item;
    } 
```

我进行了调试，问题在于新闻的描述（似乎很长），这是例外：

> “在 Microsoft.Phone.Data.Internal.ni.dll 中发生‘System.InvalidOperationException’类型的异常，并且在托管/本机边界之前未处理 System.Data 中发生‘System.InvalidOperationException’类型的第一次机会异常.Linq.ni.dll"

这是 db 中的列描述

```
private string _description;
    [Column]
    public string Description
    {
        get
        {
            return _description;
        }
        set
        {
            if (_description != value)
            {
                NotifyPropertyChanging("Description");
                _description = value;
                // Remove HTML tags. 
                _description = Regex.Replace(_description, "<[^>]+>", string.Empty);
                // Remove newline characters
                _description = _description.Replace("\r", "").Replace("\n", "");
                // Remove encoded HTML characters
                _description = HttpUtility.HtmlDecode(_description);
                //replace spaces
                _description = _description.Replace("  ", "");

                //if (!string.IsNullOrEmpty(_description) && _description.Length > 3900)
                //    _description = _description.Substring(0, 3900);

                NotifyPropertyChanged("Description");
            }
        }
    } 
```

当我取消注释时，它可以工作：

```
//if (!string.IsNullOrEmpty(_description) && _description.Length > 3900)
//    _description = _description.Substring(0, 3900); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:21:33.830

我们需要例外的正文来帮助您解决问题。但我认为（正如 Emiliano Magliocca 所说），问题在于 DB 中的 Description 单元格可以容纳的字符少于您尝试插入的字符。您可以修复它，将行描述的类型更改为 varchar(max) 或文本。无论如何提供excpetion的身体，然后我们会帮助你。

回答：

您应该将列 Description 的数据类型更改为 Varchar(max)，然后您可以随意将任意数量的文本保存到该列，因为 varchar(max) 最多可以容纳 2gb 的文本。当您使用 codeFirst 方式生成表时，请使用如下属性： [Column(TypeName = "varchar(MAX)")] public string Description...

而不是 [Column] 公共字符串描述...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:59:17.570

感谢 Maris 的建议，我找到了正确的解决方案：

```
[Column(DbType = "ntext")] 
public string Description 
```

并不是

```
[Column(TypeName = "varchar(MAX)")] 
public string Description 
```

第二个不适用于 windows phone ;)

# objective-c - 记忆不释放

> ID：14850862
> 
> 赞同：0
> 
> 时间：2013-02-13T10:02:04.580
> 
> 标签：objective-c, memory-leaks, instruments

这是我的代码：

```
-(void) encodeStationsBack
{
    if (context == nil)
    {
        context = [(radioAppDelegate *)[[UIApplication sharedApplication] delegate] managedObjectContext];
        NSLog(@"After managedObjectContext: %@",  context);
    }

    // here is JSON parsing
    int i=0;
    int count = stations.count;

    NSEntityDescription *entity = [NSEntityDescription entityForName:@"Station" inManagedObjectContext:context];

    NSMutableArray* parsedData = [[NSMutableArray alloc] init];

    while(stations.count > 0) {
        NSString*string = [[NSString alloc] initWithString:[stations objectAtIndex:0]];

        if (![string isEqual:@""]) {
            NSMutableDictionary*dic = [[NSMutableDictionary alloc]init];

            //        NSLog(@"%@", string);

            NSData*data = [[NSData alloc] initWithData:[string dataUsingEncoding:NSUTF8StringEncoding]];
            NSMutableDictionary* pars;
            @try {
                pars = [NSJSONSerialization JSONObjectWithData:data options:kNilOptions error:nil];
            }
            @catch (NSException *exception) {
                NSLog(@"%@ , %@", exception.description, exception.reason);
            }
            @finally {
            }
            //        NSMutableDictionary* pars =[[NSMutableDictionary alloc]initWithDictionary:[NSJSONSerialization JSONObjectWithData:data
            //                                                  options:kNilOptions/*NSJSONReadingMutableContainers*/ error:nil]];

            [pars retain];

            [dic setObject:[[pars objectForKey:@"nm"]mutableCopy] forKey:@"nm"];
            [dic setObject:[[pars objectForKey:@"btr"]mutableCopy] forKey:@"btr"];
            [dic setObject:[[pars objectForKey:@"id"]mutableCopy] forKey:@"id"];
            [dic setObject:[[pars objectForKey:@"cntr"]mutableCopy] forKey:@"cntr"];
            [dic setObject:[[pars objectForKey:@"gnr"]mutableCopy] forKey:@"gnr"];

            [pars release];

            @try {
                [parsedData addObject:[NSDictionary dictionaryWithDictionary:dic]];
            }
            @catch (NSException* exc) {
                NSLog(@"%@, %@", exc.description, exc.reason);
            }
            [dic release];
            [data release];
            [string release];
            [stations removeObjectAtIndex:0];

//            if (i%1000==0) {
//                NSLog(@"nnnn %i %i", parsedData.count, stations.count);
//            }

            i++;
            float k = count;
            k = (i + 1)/k;

            [self performSelectorOnMainThread:@selector(increaseProgress:) withObject:[NSNumber numberWithFloat:k] waitUntilDone:YES];
        }
        else {
            [stations removeObjectAtIndex:0];
        }
    }

    [stations release];
    i = 0;

    while (parsedData.count > 0) {
        Station*station = [[Station alloc] initWithEntity:entity insertIntoManagedObjectContext:nil];

        [station setName:[[[parsedData objectAtIndex:0] objectForKey:@"nm"]mutableCopy]];

        [station setBit:[[[parsedData objectAtIndex:0] objectForKey:@"btr"]mutableCopy]];
        [station setEnabled:[NSNumber numberWithInt:1]];

        //encoding id of the station
        unsigned int tempInt;
        NSScanner *scanner= [[NSScanner alloc] init];
        scanner = [NSScanner scannerWithString:[[parsedData objectAtIndex:0] objectForKey:@"id"]];

        [scanner scanHexInt:&tempInt];

        NSNumber *numb = [[NSNumber alloc] init];
        numb = [NSNumber numberWithInt:tempInt];
        numb = [NSNumber numberWithInt: ([numb integerValue] ^ sec )];

        [station setNumber: [NSNumber numberWithInt:[numb intValue]]];

        //encoding country ID
        tempInt = 0;
        scanner = [NSScanner scannerWithString:[[parsedData objectAtIndex:0] objectForKey:@"cntr"]];

        [scanner scanHexInt:&tempInt];
        numb = [NSNumber numberWithInt:tempInt];
        numb = [NSNumber numberWithInt:(([numb integerValue] ^ sec ))];

        if (![numb isEqualToNumber:[NSNumber numberWithInt:n]])
        {
            [station setCountryID:[NSNumber numberWithInt:[numb intValue]]];
        }
        else
        {
            [station setCountryID:[NSNumber numberWithInt:-1]];
        }

        //encoding genre ID
        tempInt = 0;
        scanner = [NSScanner scannerWithString:[[parsedData objectAtIndex:0] objectForKey:@"gnr"]];

        [scanner scanHexInt:&tempInt];
        numb = [NSNumber numberWithInt:tempInt];
        numb = [NSNumber numberWithInt:(([numb integerValue] ^ sec ))];

        if (![numb isEqualToNumber:[NSNumber numberWithInt:N]])
        {
            [station setGenerID:[NSNumber numberWithInt:[numb intValue]]];
        }
        else
        {
            [station setGenerID: [NSNumber numberWithInt:-1]];
        }

        [station setOrder:[NSNumber numberWithInt:i]];

        [context insertObject:station];

        float k = count;
        k = (i + 1)/k;

        [self performSelectorOnMainThread:@selector(increaseProgress:) withObject:[NSNumber numberWithFloat:k] waitUntilDone:YES];

        //        NSLog(@"%i", i);
        [parsedData removeObjectAtIndex:0];
        [station release];
//        [station release];

        i++;
    }

    [parsedData release];

    [self performSelectorOnMainThread:@selector(deleteAllFromDB) withObject:nil waitUntilDone:YES];
    [context save:nil];
} 
```

我不明白为什么我的应用程序使用如此多的内存（~150 mb）。我试图用分析来查看我的代码。没有什么有趣的 xCode 认为一切正常。这是我在 Instruments 中看到的

[仪器](http://oi49.tinypic.com/2zdozrq.jpg)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:10:14.057

您已在循环中分配并在扫描仪的循环外取消分配，还有其他类似的错误。看看并进行代码审查。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:11:34.413

```
 id obj1 =[[pars objectForKey:@"nm"]mutableCopy];
        [dic setObject:obj1 forKey:@"nm"];
        [obj1 release]; // No memory leak
        [dic setObject:[[pars objectForKey:@"btr"]mutableCopy] forKey:@"btr"];//memory leak
        [dic setObject:[[pars objectForKey:@"id"]mutableCopy] forKey:@"id"];//memory leak
        [dic setObject:[[pars objectForKey:@"cntr"]mutableCopy] forKey:@"cntr"];//memory leak
        [dic setObject:[[pars objectForKey:@"gnr"]mutableCopy] forKey:@"gnr"];//memory leak 
```

全部更改`setObject:forKey:`

# php - 如何在 Zend Framework 2 中使用 ajax？

> ID：14850868
> 
> 赞同：0
> 
> 时间：2013-02-13T10:02:21.317
> 
> 标签：php, zend-framework2

我正在尝试一个小型 ajax 应用程序，我只想从我的控制器操作中返回一个 hello world 字符串。它正在返回 Hello 世界，但与此同时，它也返回了我的模板文件。我尝试在我的控制器操作中使用以下代码禁用它的模板

```
$this->_helper->layout()->disableLayout();
$this->_helper->viewRenderer->setNoRender( true ); 
```

但这会给我这个错误

```
SCREAM: Error suppression ignored for
( ! ) Notice: Undefined property: Survey\Controller\SurveyController::$_helper in C:\wamp\www\zend\module\Survey\src\Survey\Controller\SurveyController.php on line 55

SCREAM: Error suppression ignored for
( ! ) Fatal error: Call to a member function layout() on a non-object in C:\wamp\www\zend\module\Survey\src\Survey\Controller\SurveyController.php on line 55
Call Stack 
```

我该如何解决 ？

**编辑**

我修改了控制器，使它看起来像这样

```
public function registerAction()
{
    $result = new JsonModel(array(
        'some_parameter' => 'some value',
        'success'=>true,
    ));

    return( $result );
} 
```

在模块 appl 目录中的 module..module.config 中添加了策略

```
'strategies' => array(
    'ViewJsonStrategy',
), 
```

不过，在 ajax 响应中，我得到了返回的模板

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T10:07:48.377

这是一个可靠的例子：

[http://akrabat.com/zend-framework-2/returning-json-from-a-zf2-controller-action/](http://akrabat.com/zend-framework-2/returning-json-from-a-zf2-controller-action/)

您应该使用 JsonMoodles 发送回 Json 响应。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-18T10:56:16.523

我在我的控制器中使用它：

```
 $view = new ViewModel(array('form'=>$my_form));
    //disable layout if request by ajax
    $view->setTerminal($request->isXmlHttpRequest());
    $view->setTemplate('path/to/phtml');
    return $view; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-20T15:18:18.120

用户想知道如何只取回 html，而不是 Andrews 回复提供的 json。

我还希望返回 html，这样我就可以将它与 jquery qtip 插件一起使用，这就是我的做法。我还必须让页面优雅地降级以防 javascript 失败，例如页面输出应该在布局模板中正确呈现。

```
 /**
 * Tourist Summary action
 *
 * @return ViewModel
 */
public function touristSummaryAction()
{
    // Get the Id 
    $id = $this->params()->fromRoute('id', '');

    // Get the data from somewhere
    $data = array() ;

    // Get the html from the phtml
    $view = new ViewModel(
        array(
            'id' => $id ,
            'data' => $data ,
        )
    );

    //disable layout if request by ajax
    $view->setTerminal($this->getRequest()->isXmlHttpRequest());
    return $view;

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-06-16T08:34:13.803

看看这个模块。www.wasabilib.org 看来你对ajax 管理得很好。

如果您没有应用程序，您可以使用 Wasabilib Skeleton [https://github.com/WasabiLib/wasabilib_zf2_skeleton_application](https://github.com/WasabiLib/wasabilib_zf2_skeleton_application)。它在正确的位置配备了所有必要的资产。

如果您已经有一个应用程序，您应该克隆该模块：[https ://github.com/WasabiLib/wasabilib](https://github.com/WasabiLib/wasabilib)

最低要求：jQuery、ZF2

1.  将模块添加到 application.config.php。
2.  在你的 layout.phtml 头部包含 jquery 之后的 wasabilib.min.js

**它是如何** 在你的 .phtml 文件中工作的，你有一个这样的表格：

```
<form id="simpleForm" class="ajax_element" action="simpleFormExample" method="POST">
<input type="text" name="written_text">
<input type="submit" value="try it">
</form> 
```

您可以在 phtml 中的任何其他位置放置一个元素来显示响应。

在您的控制器中使用以下方法：

```
public function simpleFormExampleAction(){
    $postArray = $this->getRequest()->getPost();
    $input = $postArray['written_text'];
    $response = new Response(new InnerHtml("#element_simple_form","Server     Response: ".$input));
    return $this->getResponse()->setContent($response);
} 
```

该表单有一个类“ajax_element”，这将说明请求将使用 xmlhttp-request 完成的库。**如果您不为请求元素提供 id ，它将无法工作**。所以表单的 ID 为“simpleForm”。该操作是“路径/到/控制器”，就像普通请求一样。

在控制器操作中，实例化了一个新的 WasabiLib\Ajax\Response 对象。InnerHtml 类用于将 html 或普通文本替换、前置和附加到选择器。在这种情况下，选择器是一个 ID“element_simple_form”。InnerHtml 类的第一个参数是选择器。**确保编写 #yourElementId 或 .yourClassSelector**。对于 ID 使用“#”，对于类选择器使用“.”

第二个参数是你要在这个元素中填写的Text。

响应对象可以处理更多您可以添加的响应

```
$response->add($anotherResponseType); 
```

可能的响应类型列表在这里：[http ://www.wasabilib.org/application/pages/components](http://www.wasabilib.org/application/pages/components)

该模块旨在以非常简单的方式处理 ajax 请求和响应。一旦你理解了这种行为，你就可以处理几乎所有实际的 ajax 需求。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-12-14T11:52:37.723

发送 ajax 请求和处理响应的最简单方法是 zf2 模块 WasabiLib [https://github.com/WasabiLib/wasabilib_zf2_skeleton_application](https://github.com/WasabiLib/wasabilib_zf2_skeleton_application)

您只需要将“ajax_element”添加到要引起ajax请求的元素的类属性中。它是表单提交还是链接或按钮都没有关系。访问示例页面[http://www.wasabilib.org/application/pages/examples](http://www.wasabilib.org/application/pages/examples) 如果您的应用程序执行大量 ajax，我推荐这个模块。

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2013-02-14T04:34:43.230

这对我有用：

```
public function ajaxAction(){
    $data = array(
        'var1' => 'var1Value',
        'var2' => 'var2Value',
    );

    $response = $this->getResponse();
    $response->setStatusCode(200);
    $response->setContent(json_encode($data));

    $headers = $response->getHeaders();
    $headers->addHeaderLine('Content-Type', 'application/json');

    return $response;
} 
```

输出：

```
{"var1":"var1Value","var2":"var2Value"} 
```

# mysql - 使用 sed 从 mysql 中删除字符

> ID：14850869
> 
> 赞同：0
> 
> 时间：2013-02-13T10:02:21.673
> 
> 标签：mysql, sed

我使用以下脚本转储 mysql 数据库名称，然后删除所有不需要的字符（前导尾随 | 和空格）。尽管 sed 仅用于删除前导空格，但它可以删除所有这些空格....为什么？

```
mysql -uuser -pmypass--skip-column-names -e "从 information_schema.schemata 中选择 schema_name，其中 schema_name 不在 ('Linking', 'information_schema');" | sed 's/^ *//'

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:19:40.117

试试这个 ：

```
sed 's/^ *//;s/ *$//' 
```

# sql - 如何连接来自不同数据库的多个表？

> ID：14850871
> 
> 赞同：1
> 
> 时间：2013-02-13T10:02:22.670
> 
> 标签：sql, database

如何编写`SELECT`从不同表和不同数据库中选择值的查询？

例如

```
dbSALES
       tbSalesOrder

dbSHIPMENT
       tbShipmentDetails and tbShipmentMaster. 
```

我的主要目标是加入所有表格

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:04:46.837

我相信这通常会起作用：

```
SELECT ...
FROM dbSALES.tbSalesOrder
JOIN dbSHIPMENT.tbShipmentDetails ON ...
JOIN dbSHIPMENT.tbShipmentMaster ON ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:04:59.620

假设您使用的是 SQL Server。

它将使用普通`SELECT`的 with编写`JOIN`，但使用完全限定的表名，如`database.schema.object_name`. 像这样：

```
SELECT
  ...
FROM dbSALES.tbSalesOrder
INNER JOIN dbSHIPMENT.tbShipmentDetails ... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T10:05:17.100

在 SQL Server 中，您可以使用以下内容：

```
SELECT [列列表]
从
    dbSales.[schema].tbSalesOrder SO
    加入 dbSHIPMENT.[schema].tblShipmentDetails SD ON SD.[join_column] = SO.[join_column]
    加入 dbSHIPMENT.[schema].tbShipmentMaster SM ON SM.[join_column] = SD.[join column]

```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-13T10:09:02.790

尝试这个。

```
select * from dbSales.tbSalesOrder a
         join dbShipment.tbShipmentDetails b on (a.field1=b.field1 and ......)
         join dbShipment.tbShipmentMaster c on (b.field1=c.field1 and ......)
where a.field1=xxxx and b.field2=yyyy 
```

# java - 为什么 Java 8 中有像 DoubleFunction 这样的原始函数

> ID：14850879
> 
> 赞同：3
> 
> 时间：2013-02-13T10:02:56.280
> 
> 标签：java, functional-programming

我刚刚看了新的 Java 8[功能包](http://download.java.net/jdk8/docs/api/java/util/function/package-summary.html)，想知道为什么会有类似的接口

*   `DoubleFunction`
*   `IntFunction`
*   `LongFunction`
*   ...

不扩展。**_** `Function`这是否意味着我将无法通过需要 a 的`Function<T,Int>`地方`IntFunction<T>`，反之亦然？这同样适用`*Block`于`*Supplier`和`*UnaryOperator`。

我可以看到返回原语时不必检查的优点`null`，但缺点列表似乎要长得多

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-13T10:07:27.273

这个问题与 Java 中的原始类型没有统一到可替代的事实有关`Object`，并且具有泛型类型擦除。

在最后一个足够时使用`Function<T, Integer>`而不是有两个缺点：`IntFunction<T>`

*   每个返回`int`的都是装箱的——这意味着更大的内存占用；
*   每个返回`Integer`的都会自动运行时检查（可以优化掉，但是是的......）；

请注意，Java 中集合框架的这些问题导致人们编写了一个名为 Trove 的完整库，该库避开了泛型接口，而支持针对每种原始类型的专用集合类型。

# asp.net - TextBox 控件不适用于导出到 PDF(iTextSharp)

> ID：14850880
> 
> 赞同：2
> 
> 时间：2013-02-13T10:02:59.310
> 
> 标签：asp.net, c#-4.0, itextsharp

我有一个 HTML 表单，其中包含标签和文本框。

填写此表格后，将其导出为 PDF。

导出所有标签文本。但文本框文本不会导出为 PDF。

**代码**

```
protected void btnExportPDF_Click(object sender, EventArgs e)
{
    Response.ContentType = "application/pdf";
    Response.AddHeader("content-disposition", "attachment;filename=DecForm.pdf");
    Response.Cache.SetCacheability(HttpCacheability.NoCache);
    StringWriter sw = new StringWriter();
    HtmlTextWriter hw = new HtmlTextWriter(sw);
    this.divToPdf.RenderControl(hw);
    StringReader sr = new StringReader(sw.ToString());
    Document pdfDoc = new Document(PageSize.A4, 10, 10, 2, 10);
    HTMLWorker htmlparser = new HTMLWorker(pdfDoc);
    PdfWriter.GetInstance(pdfDoc, Response.OutputStream);
    pdfDoc.Open();
    htmlparser.Parse(sr);
    pdfDoc.Close();
    Response.Write(pdfDoc);
    Response.End();
} 
```

为什么文本框文本没有导出为 PDF？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T19:56:32.803

我认为，当您进行渲染时，`divToPDF`您会得到一个新的 html 并且它没有页面上填充的值。您可能想要查看使用`divToPDF`is 您想要查看访问`InnerHtml`or`OuterHtml`属性并使用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-17T06:33:28.833

尝试这个。

```
List<IElement> elements = iTextSharp.text.html.simpleparser.HTMLWorker.ParseToList(new StringReader(htmlString), null);
//htmlString is your form html
foreach (IElement el in elements)
{
    pdfDoc.add(el);
} 
```

# android - 无法从 Eclipse 运行 android 应用程序

> ID：14850884
> 
> 赞同：0
> 
> 时间：2013-02-13T10:03:09.670
> 
> 标签：android, eclipse

嗨 eclipse 突然给我以下问题，我无法执行我的应用程序。

这是错误的屏幕截图。

![在此处输入图像描述](../Images/9231dcb0f464b1f5437dfa0e7964feed.png)

我做了以下事情。

清洁>构建。

重启日食

但是问题并没有发生，我没有在 Eclipse 中更改任何内容，仅在我的应用程序访问 mysql db 时对 php 文件起作用。

请帮忙，因为我今天要提交一个项目。

这是我的错误日志。

[错误日志](http://pastebin.com/HzyRPuvf)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:18:36.240

尝试创建新的模拟器并将其从应用程序的运行配置中设置为目标设备。尝试从那里运行您的应用程序。

# php - 与socket ajax php 和nodejs 聊天？

> ID：14850885
> 
> 赞同：0
> 
> 时间：2013-02-13T10:03:12.010
> 
> 标签：php, node.js

我正在使用*PHP 和 nodejs-socket.io*为移动和网络编写一个聊天应用程序。

我正在使用 Android 发布 Messenger 以`PHP - PHP`创建一个新的套接字（网络库 on `nodejs`），并将该响应信使通过`nodejs`.

> A（通过 HTTP 请求）-> PHP（通过套接字）-> NODEJS（通过 socket.io）-> B（web - websocket / android）

我尝试`A->NODEJS->B`全部使用`socket.i`o，但是当用户数量增加时，消息很慢。

我发现从 nodejs 发送 messenger 到 B 设备（chatter）的时间非常快，但是 socket PHP 发送 messenger`NODEJS`的速度很慢。

我看到里面的插座在`PHP/nodejs`短时间内打开和关闭了很多次。

请帮助我使我的应用程序运行得更快，或提出解决方案？

我希望尝试使用`java`，但谁能告诉我有关*websocket*性能的任何信息，即**socket.io 与 java socket 速度**？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T15:06:06.123

Websocket 性能真的很好，真的很快。我在 Chrome (PC) 上测试过，但还没有在手机上测试过。

而且Java socket简单易用。为什么不使用 java 套接字直接从 Android -> NODEJS 连接而不发出任何 HTTP 请求和 PHP 桥接？

**PHP socket反复打开和关闭的原因：**
有很多原因让你的代码反复打开和关闭，可能是你的PHP代码中没有循环来保持连接。你能显示你的问题的详细代码吗？

# ios - 如何将超类属性设为“只读”

> ID：14850887
> 
> 赞同：1
> 
> 时间：2013-02-13T10:03:19.817
> 
> 标签：ios, objective-c

我创建了一个继承自 UItableViewCell 的类“MyView”。现在 MyView 具有 UItableViewCell 框架的 setter 和 getter。但我想让它成为只读的。这样从其他类中，我应该无法设置 MyView 的框架。我尝试通过覆盖框架属性并将其设为只读。但是还是可以设置的。我错过了什么吗？

```
 @property(nonatomic, readonly) CGRect frame; 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:14:42.760

我认为这种行为是不允许的。但是，您*可以*做的是将属性的 setter 方法重写为无操作。

```
- (void)setFrame:(CGRect)frame
{
    NSLog(@"Do Nothing");
} 
```

# c - 有人可以解释这段代码的输出吗？

> ID：14850889
> 
> 赞同：-3
> 
> 时间：2013-02-13T10:03:24.087
> 
> 标签：c

答案是 90。但这样做的逻辑是什么？如果我写这个 j=(4,5); 那么答案是 5。

```
 #include<stdio.h>
    void main()
    {
        int j;
        j=(4,5,90);
        printf("%d\n",j);
    } 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-13T10:04:48.723

您正在使用[逗号运算符](http://en.wikipedia.org/wiki/Comma_operator)：

> 在 C 和 C++ 编程语言中，逗号运算符（由记号 , 表示）是一个二元运算符，它计算其第一个操作数并丢弃结果，然后计算第二个操作数并返回此值（和类型）。

请注意，这与分隔函数参数的逗号不同。

```
a = 1, 2, 3;
     ^  ^
     |  |
  comma operators

a = foo(1, 2, 3);
         ^  ^
         |  |
      separators 
```

对于您的代码，这意味着所发生的只是表达式`4`,`5`和`90`被逐一评估，其结果是最后一个表达式的结果，即`90`.

括号只是括号，它们不会以任何方式影响结果。

```
const int j = (4, 5, 90); 
```

是相同的：

```
const int j = 4, 5, 90; 
```

或者，就此而言：

```
const int j = (4), (5), (90); 
```

正如我链接到的维基百科页面上所指出的，并且从上面应该很明显，逗号运算符很少有用。它可以被欺骗以用于各种不为人知的目的（请参阅[此页面以获取示例](http://mindtribe.com/2011/07/forgotten-c-the-comma-operator/)），但做不知名的事情很少是胜利。

# java - 如何将自动完成选择值提交到 Tapestry5 中的文本字段？

> ID：14850890
> 
> 赞同：3
> 
> 时间：2013-02-13T10:03:24.537
> 
> 标签：java, autocomplete, selection, textfield, tapestry

我有一个带有自动完成和 zoneUpdater 混合的文本字段。根据输入的值，我调用服务，它为自动完成选择返回新值。到现在为止还挺好。对我来说最大的问题是自动完成选择不提交选择的值。我想根据这个值更新不同的区域。它现在的工作方式是我必须提交整个表单并重新打开。但这不是客户想要的，它应该在不提交表单的情况下即时完成。有什么解决办法吗？谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-15T12:49:25.617

> 我想根据这个值更新不同的区域。

我已经尝试使用您的设置执行此操作并且实际工作，但缺点是我作为输入的 CHANGE 事件获得的值是用户键入的值（而不是用户从自动完成列表中选择的值）。

要从自动完成列表中获取值（虽然我没有尝试过），您应该使用[原型的 Autocompleter 的回调参数](http://madrobby.github.com/scriptaculous/ajax-autocompleter/)。考虑到，为了做到这一点，你应该重写一个新的 Autocompleter mixin，因为 Tapestry 的内置自动完成 mixin 不支持该回调参数。

我还检查了 Tapestry-jquery 的 Autocomplete mixin，尽管 jquery 的自动完成支持[自动完成选择事件](http://api.jqueryui.com/autocomplete/#event-select)Tapestry-jquery 并没有在它的实例化中处理它。

我还没有检查过也许可以帮助你的雪尼尔套件自动完成混合，我真的不知道。

据我所知，您应该基于其中任何一个开发自己的 Autocomplete mixin，并向其中添加所选项目事件功能。

# excel - 将excel中的一长串数字转换为日期格式

> ID：14850894
> 
> 赞同：0
> 
> 时间：2013-02-13T10:03:32.733
> 
> 标签：excel, date

我在 Excel 中得到了一长串数字：例如 '20130116074506.000265-300'

我需要这些数字以日期格式出现。现在从我所见，格式是一种 YYYYMMDD 后跟时间细节。

我可以手动执行此操作，但显然有很多记录，这需要很长时间。我尝试将列格式化为最新和自定义，我尝试了各种公式来更改它 - 例如：

=--TEXT(A1,"0000-00-00") =DATE(左(A1,4),中(A1,5,2),右(A1,2))

但是我遇到了错误-我花了很多时间在线研究，但没有运气。任何帮助将不胜感激！

提前谢谢了。猕猴桃。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:09:38.270

我认为你的问题是，如果你直接在函数中使用`Left`and函数，那么你得到的字符串结果是函数不喜欢的。如果您使用它将其转换为整数，那么它应该可以工作。假设输入文本在单元格 A1 中，然后试试这个：`Mid``Date``Left``Mid``Date``Int`

```
=DATE(INT(LEFT(A1,4)), INT(MID(A1,5,2)), INT(MID(A1, 7,2))) 
```

或者，您可以使用个人`LEFT`和`MID`功能将其分解为单元格并阅读那些将为您将其转换为数字的单元格。

# facebook - 如何获取分享特定 FB 帖子的人？

> ID：14850898
> 
> 赞同：1
> 
> 时间：2013-02-13T10:03:46.573
> 
> 标签：facebook, facebook-graph-api, facebook-fql

很容易获得点赞帖子的人：`https://graph.facebook.com/19292868552_10150189643478553/likes`
如何获得分享此帖子的人？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:35:16.343

将 Graph Explorer 与具有共享的帖子一起使用：

[https://graph.facebook.com/20531316728_10151733211311729?fields=shares](https://graph.facebook.com/20531316728_10151733211311729?fields=shares)

输出是：

```
{
  "shares": {
    "count": 1806
  },
  "id": "20531316728_10151733211311729",
  "created_time": "2013-02-10T12:59:25+0000"
} 
```

当然，如果您删除`fields`参数，您会看到与该对象关联的所有字段。

**编辑：** Facebook 上的帖子 - [https://www.facebook.com/photo.php?fbid=10151733211231729&set=a.376995711728.190761.20531316728&type=1](https://www.facebook.com/photo.php?fbid=10151733211231729&set=a.376995711728.190761.20531316728&type=1)

# jquery - 点击提交按钮后

> ID：14850902
> 
> 赞同：0
> 
> 时间：2013-02-13T10:03:54.053
> 
> 标签：jquery, css, asp.net-mvc-2

```
 <%  using (Html.BeginAbsoluteRouteForm("PetDetail", new { controller = "Customers", action = "SavePetSitterRestrictionsAndPermissions", ownerKey = Model.Owner.Key, petKey = Model.Key }))
        { %>

              <button type="submit" class="actionButton default">
                Save</button>

    <% }
 } %> 
```

我有上面类似的代码。`submit a form`我需要`disable a save button`点击保存按钮后。

通过使用**jquery**如何做到这一点？

我尝试了如下所示的内容：

```
var clickedBttn=$('.actionButton.default[type=submit][clicked=true]').val()

if (clickedBttn)
{
//btton disable code here
} 
```

但是`never fires`上面的代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:08:14.833

您应该简单地为该按钮注册点击事件：

```
$('.actionButton.default[type=submit]').click(function(){
   $(this).prop("disabled", true);
}) 
```

另外，我对 [clicked] 属性一无所知，所以如果不在某处设置它，jquery 将在这里找不到任何东西`$('.actionButton.default[type=submit][clicked=true]')`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:06:25.897

试试这个...

```
$('.actionButton').click(function(){
    $('p').text("Form submiting.....");
    $('input:submit').attr("disabled", true);   
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T10:08:43.133

不幸的是，简单地获取对单击按钮的文本属性的引用不会做你想做的事。一些额外的研究将在这里有所帮助。我建议阅读 click() jQuery 方法 - [http://api.jquery.com/click/](http://api.jquery.com/click/)

```
$('.actionButton.default[type=submit][clicked=true]').click(function() {
    // button disable code here
    $(this).attr("disabled", true);
}); 
```

# jquery - 将部分视图加载到同一页面上的 div 标签中

> ID：14850903
> 
> 赞同：2
> 
> 时间：2013-02-13T10:03:55.253
> 
> 标签：jquery, asp.net-mvc, partial-views

我知道这个问题可能会重复。但我的问题是，我希望在将同一页面上的按钮单击到 div 标签后显示部分视图。当我单击按钮时，部分视图正在显示，但不在 div 标签中的同一页面上，但它在不同页面上打开。这是我的代码：

```
<%@ Page Title="" Language="C#" MasterPageFile="~/Views/Shared/Site.Master" Inherits="System.Web.Mvc.ViewPage<ApricaCRMEvent.Models.CRM.DatabaseEntities.CRM_Doctor_Request>" %>

<asp:Content ID="Content1" ContentPlaceHolderID="TitleContent" runat="server">
    MDLNoDDLIndex
</asp:Content>

<asp:Content ID="Content2" ContentPlaceHolderID="MainContent" runat="server">
    <script src="../../Scripts/jquery.js" type="text/javascript"></script>
    <script src="../../Scripts/jquery-migrate-1.0.0.js" type="text/javascript"></script>

    <script type="text/javascript">
        //script for binding drop down list value from view to model
        function TestFun() 
        {
            var mdlno = $("#ddlMDLNo").val();
            var txtmdlno = document.getElementById("Request_For_Id");
            txtmdlno.value = mdlno;
            //alert(txtmdlno.value);
        }

        //script for loading partial view into div tag "viewlist"
        $(function () {
            $('form').submit(function () {
                if ($(this).valid()) {
                    $.ajax({
                        url: this.action,
                        type: this.method,
                        data: $(this).serialize(),
                        beforeSend: function () {
                            $("#viewlist").hide();
                        },
                        complete: function () {
                            $("#viewlist").show();
                        },
                        success: function (result) {
                            $("#viewlist").html(result);
                        }
                    });
                }
                return false;
            });
        });

</script>
<div>
<h2>Search by MDLNo</h2>

    <% using (Html.BeginForm("MDLNoDataList", "Search", FormMethod.Post, new { id = "form1" }))
    { %>

         <%: Html.ValidationSummary(true, "Profile Updation was unsuccessful. Please correct the errors and try again.") %>

          Select MDLno 

            <%= Html.DropDownList("ddlMDLNo", ViewData["MDLno"] as SelectList, "--Select One--", new { onchange = "TestFun()" })%> 
            <%: Html.HiddenFor(model => model.Request_For_Id) %>

            <input type="submit" value="search" name="SearchMDLNo" id="btnclick" />    
            <div id="viewlist"></div> // partial view should be loaded here.
    <% } %> 

</div>

</asp:Content>
<asp:Content ID="Content3" ContentPlaceHolderID="HeadContent" runat="server">
</asp:Content> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-14T07:03:53.307

试试这样：

```
$("#btnclick").click(function(){
    $("#viewlist").load("your url here");
}); 
```

希望能帮助到你

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T06:49:14.780

Html.BeginForm 做一个完整的页面回发。

请考虑使用**Ajax.BeginForm**。Ajax.BeginForm 接受 AjaxOptions 类型的参数，该参数**具有**称为**OnSuccess**的属性。

**您可以向OnSuccess**提供一个 javascript 函数以获取结果并将其显示在 div 中

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-13T10:39:25.460

目前，表单仍在提交并回发到服务器，这就是您在新页面中部分加载的原因。

您需要在提交事件处理程序的顶部使用 preventDefault() 来阻止帖子的发生。

所以...

```
$('form').submit(function (e) {

            //prevent form post
            e.preventDefault();

            // ajax stuff here 
```

# ios - ios开发应该选择什么带有自定义控件的图形库？

> ID：14850904
> 
> 赞同：-1
> 
> 时间：2013-02-13T10:03:58.583
> 
> 标签：ios, ipad, charts, grid, drilldown

我想找一个适用于 iOS（特别是 iPad）的图形库，它将具有以下功能：

> 1.  地图
> 2.  树状图
> 3.  图表（及其异步渲染）
> 4.  时间导航器
> 5.  网格
> 6.  向下钻取
> 7.  多轴
> 8.  十字准线
> 9.  手动绘图
> 10.  飞涨
> 11.  能够绘制形状或多边形
> 12.  不同类型的图表（饼图、面积图、条形图……）

此刻我遇到了一个**Shinobicontrols**。可有经验的开发者提示我以下哪些在库中，哪些不在。并可能提示其他库。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:08:19.577

您可能想查看[可可控件](http://www.cocoacontrols.com/)。

# c# - 发布到朋友墙

> ID：14850906
> 
> 赞同：0
> 
> 时间：2013-02-13T10:04:07.953
> 
> 标签：c#, facebook, asp.net-mvc-3, asp.net-mvc-4

我有一个用于通过 facebook 登录的`MVC4`应用程序。`OAuth`登录后，用户可以从他们的 Facebook 好友中选择一个来宾列表。这很好，因为我正在设法检索 Facebook 朋友和他们的 ID。

现在我希望能够将来自应用程序的消息发布到朋友墙。这是否可能，因为 Facebook 允许您做的事情似乎已经发生了很多变化，如果无法发布墙贴，可以发送私人消息吗？

我没有这个的代码片段，只是方向将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T11:44:14.860

我已使用此代码在朋友墙上发布

```
var fbApplication = new DefaultFacebookApplication { AppId = fbapp, AppSecret = fbsec };
            var current = new FacebookWebContext(fbApplication);

            Facebook.Web.FacebookWebClient client = new Facebook.Web.FacebookWebClient(token);
            //client.AccessToken = current.AccessToken;   
            dynamic parameters = new ExpandoObject();
            parameters.message = "";
            parameters.link = link;
            parameters.name = name;
            parameters.caption = caption;
            parameters.description = desc;
            parameters.from = fromId;//your fb ID
//friendId will be the ID of the person,you wants to post on wall
            object resTest = client.Post("/" + friendId + "/feed", parameters); 
```

或者，您可以使用 Graph API 的提要对话框

[检查这个](http://developers.facebook.com/docs/reference/dialogs/feed/)

# android - 我们可以在录制时暂停相机吗

> ID：14850909
> 
> 赞同：2
> 
> 时间：2013-02-13T10:04:20.537
> 
> 标签：android, camera, android-camera, video-recording

在我的应用程序中，我有计时器驱动的视频录制功能。当相机处于录制模式时，如果我单击屏幕上任意位置的按钮，录制应该会暂停。我应该能够在再次单击时继续录制。

但是在许多安卓设备中录制视频没有暂停动作。

还有其他方法吗？我找到了这个[***链接***](https://stackoverflow.com/a/8008062/1237656)，但它没有给我任何希望。

有谁能够帮助我？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-13T10:57:25.200

你不能这样做，因为没有内置功能你可以做的是，每当你想暂停你的应用程序时，停止它并开始另一个部分，然后组合它的所有部分......

**编辑：**如果您使用的是 MediaRecorder，则可以使用 Android 7.0（Nougat，API 24）或更高版本的 MediaRecorder.Pause() + .Resume()

# javascript - 从 html 页面使用 jQuery.load 的参数

> ID：14850915
> 
> 赞同：0
> 
> 时间：2013-02-13T10:04:34.053
> 
> 标签：javascript, jquery, html

我使用以下内容`jQuery.Load`加载包含 js 函数的外部 html：

```
$("#feeds").load("feeds.html", {limit: 25}) 
```

如何使用 html 页面中的参数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:16:28.373

如果您想访问它，您将需要服务器支持和某种模板系统（服务器将参数传递给模板或其渲染器）。否则，您需要自己对负载的响应进行后处理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:32:50.117

如果您想从您的 HTML 文件中访问它，那么我建议您使用 GET 而不是您正在执行的 POST 来发送“限制”变量。

换句话说，您可以通过执行以下操作 GET：

```
$("#feeds").load("feeds.html?limit=25") 
```

然后你可以解析'location.search'来获取你的查询字符串值。

如果您使用的是 ASP.NET，那么实际上只需使用一些服务器端代码来执行以下操作：

```
<script>
    var limit = '<%=Request.Params["limit"]%>';
</script> 
```

HTH, SR

# java - Why does non-lenient SimpleDateFormat parse dates with letters in?

> ID：14850916
> 
> 赞同：14
> 
> 时间：2013-02-13T10:04:33.953
> 
> 标签：java, simpledateformat

When I run the following code I would expect a stacktrace, but instead it looks like it ignores the faulty part of my *value*, why does this happen?

```
package test;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

public class Test {
  public static void main(final String[] args) {
    final String format = "dd-MM-yyyy";
    final String value = "07-02-201f";
    Date date = null;
    final SimpleDateFormat df = new SimpleDateFormat(format);
    try {
      df.setLenient(false);
      date = df.parse(value.toString());
    } catch (final ParseException e) {
      e.printStackTrace();
    }
    System.out.println(df.format(date));
  }

} 
```

The output is:

> 07-02-0201

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-13T10:22:08.637

The documentation of [DateFormat.parse](http://docs.oracle.com/javase/1.4.2/docs/api/java/text/DateFormat.html#parse%28java.lang.String%29) (which is inherited by SimpleDateFormat) says:

> ```
> The method may not use the entire text of the given string. 
> ```

```
final String value = "07-02-201f"; 
```

In your case (201f) it was able to parse the valid string till 201, that's why its not giving you any errors.

The "Throws" section of the same method has defined as below:

> ```
> ParseException - if the beginning of the specified string cannot be parsed 
> ```

So if you try changing your string to

```
final String value = "07-02-f201"; 
```

you will get the parse exception, since the beginning of the specified string cannot be parsed.

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-13T10:36:48.553

You can look whether the entire string was parsed as follows.

```
 ParsePosition position = new ParsePosition(0);
  date = df.parse(value, position);
  if (position.getIndex() != value.length()) {
      throw new ParseException("Remainder not parsed: "
              + value.substring(position.getIndex()));
  } 
```

Furthermore when an exception was thrown by `parse` the `position` will also yield `getErrorIndex()`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-13T10:28:02.450

Confirmed... I also found that "07-02-201", "07-02-2012 is the date" compiles. However, "bar07-02-2011" does not.

From the code in SimpleDateFormat, it seems like the parsing terminates the moment an illegal character is found that breaks the matching. However, if the String that has already been parsed up to that point is valid, it is accepted.

# regex - perl 匹配类似于 egrep 的变量中的多个数字

> ID：14850919
> 
> 赞同：1
> 
> 时间：2013-02-13T10:04:38.567
> 
> 标签：regex, perl

想要从具有多个数字的变量中精确匹配数字，这些数字由类似于 egrep 的管道符号分隔。下面是我尝试过的代码。

```
#!/usr/bin/perl

my $searchnum = $ARGV[0];

my $num = "148|1|0|256";
print $num;

if ($searchnum =~ /$num/)
{
    print "found";
}
else
{
    print "not-found";
} 
```

预期 o/p

```
perl number_match.pl 1
found
perl number_match.pl 1432
not-found 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T10:48:51.837

`/148|1|0|256/`如果此正则表达式绑定到的字符串包含子字符串 ,或,`148`则该正则表达式匹配。这意味着该选项是多余的，因为它匹配匹配的字符串子集。`1``0``256``148``1`

您可能想要测试给定的字符串是否等于这些选项之一。如果要使用正则表达式，则必须将正则表达式锚定在字符串的开头和结尾：

```
/^ (?:148|1|0|256) $/x 
```

您还可以使用`grep`内置：

```
my $number = ...;
if (grep {$number eq $_} qw/148 1 0 256/) { say "found"     }
else                                      { say "not-found" } 
```

该`grep`函数采用一个必须返回布尔值的块。它返回条件返回 true 的右侧列表中的所有元素。如果至少有一个元素匹配，则整个表达式的计算结果为真。

您还可以使用包含所有可能选项的哈希：

```
my $number = ...;
my %options = map { $_ => undef } qw/148 1 0 256/;
if ( exists $options{$number} ) { say "found"     }
else                            { say "not-found" } 
```

这比 更有效`grep`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T11:10:41.580

采用：

```
my $num = '^(148|1|0|256)$'; 
```

这是一个单行：

```
perl -e "$_=$ARGV[0]; exit if !/^\d+$/; print \"not-\" unless /^(14|156|0|89)$/;print \"found\n\";" 
```

# c# - 从外部线程使用 BeginInvoke 调用 Action

> ID：14850922
> 
> 赞同：0
> 
> 时间：2013-02-13T10:04:48.783
> 
> 标签：c#, .net, wpf, action

```
// This method never gets called
public void DoSomethingWithByte(byte b) 
{
    Writeline(b);
}

class Test<T>
{
    public Test(Action<T> act, T data)
    {

        Dispatcher.Current.BeginInvoke(act, data);
    }
}

void TestAll()
{
   new Test<Byte>(DoSomethingWithByte, 6);
} 
```

这不起作用，为什么？

它编译，到达该行，但不调用该方法

为什么会这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:12:20.297

Act 没有可调用的方法，它为 null。

```
Action<byte> act = ((byte b) DoSomethingwithByte(b)); 
```

然后有你的方法。

```
public void DoSomethingWithByte(byte b) {} 
```

# regex - Powershell：REGEXP 修改不同 *nix 样式的路径

> ID：14850929
> 
> 赞同：0
> 
> 时间：2013-02-13T10:05:13.520
> 
> 标签：regex, powershell, cygwin

我正在使用 Rsync 和 ICACLS 来同步两个（windows）目录，为此，我必须将相同的路径转换为多个“样式”：cygwin *nix、remote *nix、UNC。（见下面的例子）

我正在使用以下代码来执行此操作，虽然它可以工作，但我使用的正则表达式肯定会变得更健壮和更好地工作（如您所见，我正在替换替换，我发现充其量是丑陋的...）

```
$remote="remotesrv"
$path="g:\tools\example\"
$local_dos=$path
$remote_dos="\\$remote\"+(($local_dos -replace "^\w","$&$") -replace "(:\\)|(\\)","\")
$local_nix="/cygdrive/"+($local_dos -replace "(:\\)|(\\)","/")
$remote_nix="//$remote/"+(($local_dos -replace "^\w","$&$") -replace "(:\\)|(\\)","/")
"Local DOS  : $local_dos"
"Remote DOS : $remote_dos"
"Local *nix : $local_nix"
"Remote *nix: $remote_nix" 
```

输出是：

```
Local DOS  : g:\tools\example\
Remote DOS : \\remotesrv\g$\tools\example\
Local *nix : /cygdrive/g/tools/example/
Remote *nix: //remotesrv/g$/tools/example/ 
```

有人可以帮我解决上面的正则表达式吗？非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T12:34:41.917

通常的方法是将路径拆分为其组成部分，翻译这些部分，然后为目标操作系统重新组合这些部分。对于 Windows/Cygwin/DOS，组成部分是：

*   驾驶
*   小路
*   文件名（大多数文件系统中第一个 '.' 之前的部分）
*   文件扩展名（其中`zim.tar.gz`有 filename =`zim`和 extension = `.tar.gz`）

从长远来看，这比尝试一次完成所有操作更容易、更快捷。（我知道——我以前试过一次。）

如果您可以阅读 Perl 代码， Perl 的[File::Spec](http://search.cpan.org/dist/File-Spec/)模块可能值得一看。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T18:10:31.667

这个怎么样：

```
$local_dos  =  $path
$remote_dos = "\\$remote\$path" -replace ':', '$'
$local_nix  = "/cygdrive/$path" -replace ':?\\', '/'
$remote_nix = "//$remote/$path" -replace ':?\\', '/' 
```

dos 非常简单，并没有真正使用正则表达式。

对于 nix 的，`:?\\`表示“\ 可选地以:”开头。我们用正斜杠替换它。

对于绝大多数非病理性病例，这应该可以正常工作。但是，它不是防弹的。带有斜杠或冒号的疯狂文件名很容易破坏这一点。

# foreach - DevExpress XtraTabControl 的问题

> ID：14850935
> 
> 赞同：0
> 
> 时间：2013-02-13T10:05:28.100
> 
> 标签：foreach, devexpress, tabcontrol

我有一个带有 3 个 XtraTabPages 的 DevExpress XtraTabControl。我正在尝试根据条件删除标签页，在最后一次迭代中删除后，出现错误。

我的代码是

```
foreach (DevExpress.XtraTab.XtraTabPage ptp in tabContactsDetails.TabPages)
            {
                if (tabContactsDetails.TabPages.Contains(ptp))
                {
                    if (ptp.Name == "tabPTP")
                    {
                        if (maxid == String.Empty || maxid == null || maxid == "lblHiddenDebtorID")
                        {
                            tabContactsDetails.TabPages.Remove(ptp);                                
                        }
                        else
                        {

                        }
                    }
                }
            } 
```

我收到一个错误，比如

```
Collection was modified; enumeration operation may not execute. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T09:26:24.597

迭代时不能更改集合！

我要做的是：

```
List<XtraTabPage> tabPagesToBeRemoved = new List<XtraTabPage>();

foreach (XtraTabPage ptp in tabContactsDetails.TabPages)
{
    if (shouldBeRemoved())
    {
        tabPagesToBeRemoved.Add(ptp);
    }
}

foreach (XtraTabPage pageToBeRemoved in tabPagesToBeRemoved)
{
    tabContactsDetails.TabPages.Remove(pageToBeRemoved);
} 
```

# jsf-2 - 未捕获的类型错误：对象 [对象对象] 没有方法“水印”

> ID：14850939
> 
> 赞同：0
> 
> 时间：2013-02-13T10:05:37.427
> 
> 标签：jsf-2, primefaces

为什么是 Uncaught TypeError: Object [object Object] has no method 'watermark' ？Primefaces 3.2 JSF 2.1

```
<h:outputScript library="js" name="jquery-1.7.2.min.js"/>
<h:outputScript library="js" name="jquery-ui-1.8.20.custom.min.js"/>

<p:inputTextarea id="lessonRemarks" value="#{userController.selected.lessonRemarks}"/>
<p:watermark for="lessonRemarks" value="Search with a keyword" /> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T11:28:35.560

为什么要导入 jQuery？Primefaces 这样做是因为它在底层使用了 jQuery。有了这个你的手动导入，你可能会发生一些冲突。所以删除这两个`h:outputScript`标签。

# c# - 绘制垂直金字塔

> ID：14850940
> 
> 赞同：2
> 
> 时间：2013-02-13T10:05:39.190
> 
> 标签：c#, console

我这里有个小问题，我想画一个像这样的垂直金字塔：

```
O
OO
OOO
OOOO
OOOOO
OOOO
OOO
OO
O 
```

但我似乎无法弄清楚该怎么做。我得到的是：

```
O
OO
OOO
OOOO
OOOOO
OOOOOO
OOOOOOO
OOOOOOOO
OOOOOOOOO 
```

这是我的代码：

```
int width = 5;

  for (int y = 1; y < width * 2; y++)
  {
    for (int x = 0; x < y; x++)
    {
      Console.Write("O");
    }
    Console.WriteLine();

  } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T10:14:22.977

有两种方法可以用两个循环来做到这一点，但这里有一种方法可以用一个循环来做到这一点，而且没有`if`条件：

```
for (int y = 1; y < width * 2; y++)
{
    int numOs = width - Math.Abs(width - y);
    for (int x = 0; x < numOs; x++)
    {
        Console.Write("O");
    }
    Console.WriteLine();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T10:09:13.557

使用此代码可能有用

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace ConsoleApplication59
{
    class Program
    {
        static void Main(string[] args)
        {
            int numberoflayer = 6, Space, Number;
            Console.WriteLine("Print paramid");
            for (int i = 1; i <= numberoflayer; i++) // Total number of layer for pramid
            {
                for (Space = 1; Space <= (numberoflayer - i); Space++)  // Loop For Space
                    Console.Write(" ");
                for (Number = 1; Number <= i; Number++) //increase the value
                    Console.Write(Number);
                for (Number = (i - 1); Number >= 1; Number--)  //decrease the value
                    Console.Write(Number);
                Console.WriteLine();
                }
            }
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-13T11:10:27.800

这是一种极简方法，只有一个循环和一个三元表达式 ( `?`) 而不是`if`：

```
 int width = 5;
        for (int y = 1; y < width * 2; y++)
            Console.WriteLine(String.Empty.PadLeft(y < width ? y : width * 2 - y, 'O')); 
```

或者没有检查的版本：

```
 for (int y = 1; y < width * 2; y++)
            Console.WriteLine(String.Empty.PadLeft(Math.Abs(width * (y / width) - (y % width)), 'O')); 
```

# javascript - 取消选中大型（1000）数据集上的复选框时，剔除速度很慢

> ID：14850945
> 
> 赞同：1
> 
> 时间：2013-02-13T10:05:49.533
> 
> 标签：javascript, performance, knockout.js, knockout-2.0

我正在使用此代码来检查我视图上的所有复选框。

```
var checked = self.includeAllInSoundscript();
var contents = self.filterContents(self.getFilters());
for (var i = 0; i < contents.length; i++) {
   contents[i].includeInSoundscript(checked);
}
return true; 
```

复选框

```
<input type="checkbox" data-bind="checked: includeInSoundscript" title="sometitle" /> 
```

内容是这样的：

```
(function (ko) {
ContentViewModel = function (data) {
    this.orderId = data.orderId;
    this.contentReferenceId = ko.observable(data.contentReferenceId);
    this.includeInSoundscript = ko.observable();
}); 
```

这是过滤方法：

```
self.getFilters = function() {
  var filterOrders = $.grep(self.orders(), function (order) {
    return (order.usedInfilter());
  });
  var filterLocations = $.grep(self.locations(), function (location)      {
    return (location.usedInfilter());
  });
  return { orders: filterOrders, locations: filterLocations };
};
self.filterContents = function (filter) {
  var filteredArray = self.contents();
  if (filter.orders.length > 0) {
      filteredArray = $.grep(filteredArray, function (content) {
        return $.grep(filter.orders, function (order) {
          return (order.orderId == content.orderId);
        }).length > 0;
      });
  }
  if (filter.locations.length > 0) {
      filteredArray = $.grep(filteredArray, function (content) {
                         return $.grep(filter.locations, function (location) {
                           return $.inArray(location.location, content.orderedFrom().split('/')) != -1;
  }).length > 0;
});
}
 return filteredArray;
}; 
```

检查所有复选框很快，但当我取消选中时，最多可能需要 20 秒。奇怪的是，当过滤的结果很小时，它仍然需要更长的时间，即使过滤的结果大约是 40，从总共 1000 个。

复选框在一个表中，使用 data-bind="foreach: contents" 绑定

我现在已经删除了一些“不必要的”可观察对象，对于很可能不会改变的属性，它的行为会稍微好一些，但仍然很慢，尤其是在 Firefox 中。最大的问题是，为什么这种行为只在取消选中复选框时出现，而不是在过滤、排序、检查等时出现。

注意：它只是取消选中复选框，基本上当“选中”为假时，否则它很快。

编辑：我一次只显示 50 个项目，但我正在检查/取消选中所有过滤的项目。这样，我就可以控制发布到服务器的内容。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T21:56:18.977

这就是我在这种情况下使用的。也许它会帮助你。

`checked`绑定可以与选定项的数组一起使用，但仅支持将字符串存储在数组中。我使用支持在数组中存储对象的自定义绑定（就像这样`selectedOptions`做）：

```
ko.bindingHandlers.checkedInArray = {
    init: function (element, valueAccessor) {
        ko.utils.registerEventHandler(element, "click", function() {
            var options = ko.utils.unwrapObservable(valueAccessor()),
                array = options.array, // don't unwrap array because we want to update the observable array itself
                value = ko.utils.unwrapObservable(options.value),
                checked = element.checked;
            ko.utils.addOrRemoveItem(array, value, checked);
        });
    },
    update: function (element, valueAccessor) {
        var options = ko.utils.unwrapObservable(valueAccessor()),
            array = ko.utils.unwrapObservable(options.array),
            value = ko.utils.unwrapObservable(options.value);

        element.checked = ko.utils.arrayIndexOf(array, value) >= 0;
    }
}; 
```

每个复选框的绑定如下所示：

```
<input type="checkbox" data-bind="checkedInArray: { array: $parent.selectedItems, value: $data }" /> 
```

选择所有项目的复选框使用普通`checked`绑定并附加到可写的计算 observable：

```
this.allItemsSelected = ko.computed({
    read: function() {
        return this.selectedItems().length === this.items().length;
    },
    write: function(value) {
        this.selectedItems(value ? this.items.slice(0) : [] );
    },
    owner: this
}); 
```

示例：http: [//jsfiddle.net/mbest/L3LeD/](http://jsfiddle.net/mbest/L3LeD/)

**更新：** Knockout 3.0.0 引入了`checkedValue`绑定选项，使上述自定义绑定变得不必要。您现在可以像这样绑定复选框：

```
<input type="checkbox" data-bind="checked: $parent.selectedItems, checkedValue: $data" /> 
```

示例：http: [//jsfiddle.net/mbest/RLLX6/](http://jsfiddle.net/mbest/RLLX6/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T11:46:25.880

如果您使用 jQuery 选中/取消选中所有框，性能会怎样？

```
$('#tableId').find('input[type=checkbox]').prop('checked', checked); 
```

或者，您是否可以在显示它们时检查所有框，而不是一次性完成所有框？

此外，您可以尝试使用[knockout.utils](http://www.knockmeout.net/2011/04/utility-functions-in-knockoutjs.html)方法过滤可观察数组，我很想看看那里是否有任何性能差异。

```
var filteredArray = ko.utils.arrayFilter(this.items(), function(item) {
        return ko.utils.stringStartsWith(item.name().toLowerCase(), filter);
    }); 
```

还有一种方法可以遍历数组并处理每个元素：

```
ko.utils.arrayForEach(this.items(), function(item) {
    var value = parseFloat(item.priceWithTax());
    if (!isNaN(value)) {
        total += value;
    }
}); 
```

同样，我不知道这是否有助于提高性能，尽管我认为它在美观方面更好一些！

# c++ - 堆栈 cookie 检测代码检测到基于堆栈的缓冲区溢出 - 已修复

> ID：14850947
> 
> 赞同：4
> 
> 时间：2013-02-13T10:05:56.027
> 
> 标签：c++, image-processing, buffer-overrun, pixelate, stack-based

所以我对这个用于像素化图像的程序有一些问题。一个问题是我得到一个“围绕变量'pixArray'的堆栈已损坏”，然后，当我在中断后单击继续时，它会在标题中出现错误。

我不确定使用 pastebin 是否可以接受，但我会使用它来写一个“短”的帖子。

[编码](http://pastebin.com/kjkW6VuS)

[正在使用的图像](https://docs.google.com/file/d/0B_3GBksqjJFbWVlYNkR3bTNJOEU/edit?usp=sharing)

此外，当它通过时，所有像素化正方形在正方形的左侧和顶部都太短了一个像素。它只是在写入 outFile 时使用原始数据。如果您可以尝试找出发生这种情况的原因，您将获得奖励积分。

最后，平均值似乎没有正确平均，运行程序后您可以通过图像最右侧周围的方块看到。

任何这些问题的帮助将不胜感激。提前致谢！

**编辑：**我对代码进行了排序，注释掉了使用`pixArray`的部分，而在注释掉时修复问题的部分位于函数的底部，`getAveragesForRGB`

```
start = 0;//reset start number
for(int row = 0; row < squareSize; row++) {
    if(row != 0)
        start = ((square * MAXROWS) / (MAXCOLS / squareSize)) + 1;
    stop = (((square + 1) * MAXROWS) / (MAXCOLS / squareSize));
    for (int col = start; col < stop; col++) {
        //write each average into each piece of the array
        pixArray[row][col].red = redAvg;
        pixArray[row][col].green = greenAvg;
        pixArray[row][col].blue = blueAvg;
    }
} 
```

**编辑2：**我现在一切顺利。以防万一有人出于某种原因遇到这个确切的问题*，*这是`getAveragesForRGB`我所有问题所在的新问题。

```
void getAveragesForRGB(Pixel pixArray[][MAXCOLS], int squareSize, int square, int numSquaresPerStripe) {

    //initialize variables needed for function
    int start, stop;
    int redAvg, greenAvg, blueAvg;

    //reset averages for current square's usage
    redAvg = 0;
    greenAvg = 0;
    blueAvg = 0;

    start = 0; //reset start number
    for (int row=0; row < squareSize; row++) {
        if (row != 0)
            start = ((square * MAXROWS) / (MAXCOLS / squareSize)) - 1;  //starting point for loop over the columns
        stop = start + squareSize;//stopping point for   ^^^
        for (int col = start; col < stop - 1; col++) {
            //add each rgb value to the sum to be divided later
            redAvg += pixArray[row][col].red;
            greenAvg += pixArray[row][col].green;
            blueAvg += pixArray[row][col].blue;
        }
    }

    //divide by number of pixels in square for average
    redAvg /= (squareSize * squareSize);
    greenAvg /= (squareSize * squareSize);
    blueAvg /= (squareSize * squareSize);

    start = 0;//reset start number
    for (int row = 0; row < squareSize; row++) {
        if (row != 0)
            start = ((square * MAXROWS) / (MAXCOLS / squareSize)) - 1;  //starting point for loop over the columns
        stop = (((square + 1) * MAXROWS) / (MAXCOLS / squareSize));  //stopping point for   ^^^
        for (int col = start; col < stop - 1; col++) {
            //write each average into each piece of the array
            pixArray[row][col].red = redAvg;
            pixArray[row][col].green = greenAvg;
            pixArray[row][col].blue = blueAvg;
        }
    }
} 
```

# android - 点击覆盖然后在谷歌地图上显示路线。怎么做？

> ID：14850950
> 
> 赞同：1
> 
> 时间：2013-02-13T10:06:18.277
> 
> 标签：android, google-maps, routes

我试图让谷歌地图显示从用户当前位置到用户点击的覆盖的路线。这是我的覆盖代码

```
public class AddItemizedOverlay extends ItemizedOverlay<OverlayItem> {

   private ArrayList<OverlayItem> mapOverlays = new ArrayList<OverlayItem>();

   private Context context;

   public AddItemizedOverlay(Drawable defaultMarker) {
        super(boundCenterBottom(defaultMarker));
   }

public AddItemizedOverlay(Drawable defaultMarker, Context context) {
        this(defaultMarker);
        this.context = context;
   }

   @Override
   public boolean onTouchEvent(MotionEvent event, MapView mapView)
   {   

       if (event.getAction() == 1) {
           GeoPoint geopoint = mapView.getProjection().fromPixels(
               (int) event.getX(),
               (int) event.getY());
           // latitude
           double lat = geopoint.getLatitudeE6() / 1E6;
           // longitude
           double lon = geopoint.getLongitudeE6() / 1E6;
          // Toast.makeText(context, "Lat: " + lat + ", Lon: "+lon, Toast.LENGTH_SHORT).show();
       }
       return false;
   } 

   @Override
   protected OverlayItem createItem(int i) {
      return mapOverlays.get(i);
   }

   @Override
   public int size() {
      return mapOverlays.size();
   }

  @Override
   protected boolean onTap(int index) {
      final OverlayItem item = mapOverlays.get(0);
        AlertDialog.Builder dialog = new AlertDialog.Builder(context);
        dialog.setTitle(item.getTitle());
        dialog.setMessage(item.getSnippet());
        dialog.setPositiveButton("Arahkan", new OnClickListener() {
            //arahkan atau direction 
            public void onClick(DialogInterface arg0, int arg1) {   
                // Getting intent data
                Intent i = getIntent();

                // Users current geo location
                String user_latitude = i.getStringExtra("user_latitude");
                String user_longitude = i.getStringExtra("user_longitude");

                // Geopoint to place on map
                //geoPoint = new GeoPoint((int) (Double.parseDouble(user_latitude) * 1E6),
                    //  (int) (Double.parseDouble(user_longitude) * 1E6));

                StringBuilder urlString = new StringBuilder();                      
                String saddr = newLocation.getLatitude(user_latitude)+","+newLocation.getLongitude(user_longitude);
                String daddr = (item.getPoint().getLatitudeE6()/1E6)+","+(item.getPoint().getLongitudeE6()/1E6); 
                urlString.append("http://maps.google.com/maps?f=d&hl=en"); 
                urlString.append("&saddr="+saddr); 
                urlString.append("&daddr="+daddr);
                Intent ii = new Intent(Intent.ACTION_VIEW, Uri.parse(urlString.toString()));
                context.startActivity(i);
            }

            private Intent getIntent() {
                // TODO Auto-generated method stub
                return null;
            }
        });

     dialog.show();
     return true;
   }

   private MapView findViewById(int mapview2) {
    // TODO Auto-generated method stub
    return null;
}

public void addOverlay(OverlayItem overlay) {
      mapOverlays.add(overlay);

   }

   public void populateNow(){
       this.populate();
   }

} 
```

请给我您的意见，如果有人想解决我的代码问题，我将不胜感激。谢谢。:)

# c# - 检查哪些程序正在播放音频？

> ID：14850951
> 
> 赞同：4
> 
> 时间：2013-02-13T10:06:20.797
> 
> 标签：c#, audio, process

我正在制作一个程序，我想找到正在播放音频的程序并将其静音，这样你听到的都是我的。

（这是程序的一个选项，没有恶意）

我查了一下，似乎找不到检查哪些程序正在播放音频的方法（就像 Windows 一样）

我没有任何尝试这样做的代码示例，因为 id 不知道。

如果有人错过阅读或我没有正确说出上述句子，我想找到带有音频播放的**每个进程，然后****KILL**或**MUTE**进程

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T10:48:24.020

如果您可以获得[Windows 7 上各个程序的峰值计量器](https://stackoverflow.com/questions/14313692/peak-meters-for-individual-programs-on-windows-7)，则可以识别会话和应用程序。`IAudioSessionControl`界面为您提供静音选项，类似于用户可以通过标准音量混合器应用程序执行的操作（特别是会话静音）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:26:56.283

有一个非常相似的[问题](https://stackoverflow.com/questions/14828440/get-current-process-name-with-file-extension-in-c-sharp/14828598#14828598)，也许我在回答中发布的相同方法适合您的情况：[https](https://stackoverflow.com/a/14828598/674700) ://stackoverflow.com/a/14828598/674700 。您需要更改的是文件的类型（进入`.mp3`等`.wav`）并杀死找到的进程，但您的应用程序除外。

缺点：您需要以管理员身份运行应用程序，并且还需要第三方控制台应用程序。

# android - 在自己的应用程序中来自手机的联系人

> ID：14850954
> 
> 赞同：-5
> 
> 时间：2013-02-13T10:06:30.560
> 
> 标签：android

如何在自己的应用中实现联系人？我想，当我点击按钮时，显示我手机中的所有联系人。你能告诉我一些关于它的事情吗？就像你想发送短信一样。单击按钮，选择联系人并发送。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-13T10:09:27.347

首先查询完整的联系人并添加到列表视图并选择联系人，然后搜索查询联系人。

```
 Cursor phones = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null,null, null, null);

             phones.moveToFirst();
               for(int i =0;i<phones.getCount();i++)
               {
                  String lookupKey =  phones.getString(phones.getColumnIndex(ContactsContract.Contacts.LOOKUP_KEY));
                 Uri uri = Uri.withAppendedPath(ContactsContract.Contacts.CONTENT_VCARD_URI, lookupKey);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T10:09:34.367

你需要`starActivityforResult`有以下意图

`Intent intent = new Intent(Intent.ACTION_PICK, ContactsContract.Contacts.CONTENT_URI)`;

定义一个像 int 这样的常量`PICK_CONTACT = 1;`

```
 startActivityForResult(intent, PICK_CONTACT); 
```

并且应该有如下的 onActivityResult 方法。

```
@Override
public void onActivityResult(int reqCode, int resultCode, Intent data) {
  super.onActivityResult(reqCode, resultCode, data);

  switch (reqCode) {
    case (PICK_CONTACT) :
      if (resultCode == Activity.RESULT_OK) {
        Uri contactData = data.getData();
        Cursor c =  managedQuery(contactData, null, null, null, null);
        if (c.moveToFirst()) {
          String name = c.getString(c.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));
          // TODO Whatever you want to do with the selected contact name.
        }
      }
      break;
  }
} 
```

这是这个[how-to-call-android-contacts-list的完整教程](http://tutorials-android.blogspot.in/2011/11/how-to-call-android-contacts-list.html)

# java - 硬编码 SQL 语句 VS。用于执行查询的 Web 服务

> ID：14850956
> 
> 赞同：1
> 
> 时间：2013-02-13T10:06:39.753
> 
> 标签：java, sql, database, web-services

我正在开发一个与服务器中的 MySQL 数据库通信的 Java 应用程序。该应用程序应该能够从 XML 文件中读取一些数据，然后`insert`将信息读入`database`.

我以前`SQL Statements`直接写 Java 代码，但后来一个朋友建议我创建一个 Web 服务来完成`SQL`该工具的所有工作，并让该工具的唯一工作是读取 XML 并将数据发送到 Web 服务中。

我的问题是，它值得付出这样的努力吗？为什么或者为什么不？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:12:44.650

您打算如何创建 Web 服务部分？如果您有时间，值得尝试使用 Core Java 或任何 Webservice 框架，但我建议使用 Core java，这将有助于保持对工具的最小依赖性。然而，要使 XML 和 Web 服务请求同步，还需要付出大量的努力。我的看法 - 如果它没有损坏，请不要修复它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T10:33:31.087

不建议使用代码中的 SQL，因为它变得难以维护。该应用程序还与数据库结构紧密耦合。每次数据库更改（或您正在移动到新数据库）时，您都需要更改代码并再次发布。

我不认为网络服务是正确的答案。我建议您尝试以下方法之一：

1.  如果您的应用程序使用大量表并且非常高的吞吐量并不重要，请使用 Hibernate 作为 ORM 工具。它具有许多功能，可以真正减少花费在数据访问上的时间。

2.  如果你没有那么多表，也没有时间学习 Hibernate，那就使用 iBatis。你需要30分钟才能掌握。它实质上允许您将 SQL 放在一个单独的 XML 文件中，它将为您读取。对于较小的应用程序，它非常有用，并且比 Hibernate 更快。

3.  作为最后的手段，不如将您的 SQL 放在您打开并执行的文本文件中。

# python - 查找两个不同大小数组的所有匹配项

> ID：14850960
> 
> 赞同：0
> 
> 时间：2013-02-13T10:06:55.243
> 
> 标签：python, algorithm, dynamic-programming

所以，我有两个不同的列表，比如说：

```
list1 = [a,b,c,d] 
list2 = [e,f,g] 
```

我的目标是找出这两个列表之间的最小差异。我有一个定义的函数`d(x,y)`，它给出了两个元素之间的区别，`x`并且`y`. 它们是这样匹配的：list1 中的每个元素都匹配 list2 中的一个或零个元素。不匹配的元素也具有由 给出的“差异” `d(a)`。

我不确定这样做的最佳算法是什么，或者我将如何去做。如果它是相关的，我正在使用 python。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T10:16:06.710

我认为您想要在二分图中进行匹配： [http](http://en.wikipedia.org/wiki/Matching_(graph_theory)#Maximum_matchings_in_bipartite_graphs) ://en.wikipedia.org/wiki/Matching_(graph_theory)#Maximum_matchings_in_bipartite_graphs 您应该使用匹配算法。如果你不能，那么作为最后的手段使用整数编程。Pulp 是一个适合整数编程的 Python 包。Integer 编程包会慢得多，但可能更容易编码。

如果您选择使用整数规划，则约束是变量 Aij 表示 list1[i] 和 list2[j] 之间的连接。Aij = 1 或 0。（连接打开或关闭）。Sum(Aij over i) = 1。（list1 中每个元素一个连接）。Sum(Aij over j) = 1（list2 中每个元素一个连接）。现在你想最大化/最小化目标函数 sum(d(list1[i], list2[j])*Aij)。不要忘记如果长度列表 1 ！= 长度列表 2，您必须添加额外的变量以允许某些变量以成本 d(x) 连接到自身并将其添加到目标函数中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T11:30:03.497

我认为这个问题有点含糊，但我的想法如下：

尽管我想知道 OP 是否正在寻找列表或类似产品的产品。

也许如果 OP 浏览了[itertools-functions](http://docs.python.org/2/library/itertools.html?highlight=itertools#itertool-functions)，他们可能会看到合适的东西。

```
import random

list1 = random.sample(range(50), 3)
list2 = random.sample(range(50), 2)

print "List1", list1
print "List2", list2

def router(a, b):
    print "ROUTER", a, b
    if a == None:
        return b * 10
    elif b == None:
        return a * 10
    else:
        return (a + b ) * 10

print map(router, list1, list2)

##########################
# Using itertools.product
##########################
import itertools

def pair(p):
    a, b = p
    print "PAIR", a, b
    if a == None:
        return b * 10
    elif b == None:
        return a * 10
    else:
        return (a + b ) * 10

product = itertools.product(*zip(*map(None, list1, list2)))

print map(pair, product) 
```

输出

```
List1 [17, 48, 9]
List2 [45, 42]
ROUTER 17 45
ROUTER 48 42
ROUTER 9 None
[620, 900, 90]
PAIR 17 45
PAIR 17 42
PAIR 17 None
PAIR 48 45
PAIR 48 42
PAIR 48 None
PAIR 9 45
PAIR 9 42
PAIR 9 None
[620, 590, 170, 930, 900, 480, 540, 510, 90] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T10:20:45.220

我不太确定您要问的基本上是找到两个列表之间共有的所有元素。

在这种情况下，这可能有效：

```
list1 = [1,2,3,4]
list2 = [3,4,5]
diff = set(list1).intersection(set(list2)) 
```

# javascript - 禁用与我的网站冲突的 chrome 扩展

> ID：14850961
> 
> 赞同：2
> 
> 时间：2013-02-13T10:06:58.193
> 
> 标签：javascript, jquery, google-chrome, google-chrome-extension

我在一个网站上工作，使用 jQuery-1.8，发现某个扩展（在 CEO-s 笔记本电脑上）使用 jQuery-1.7 作为内容脚本。此内容脚本会覆盖我的脚本。有没有一种方法可以阻止至少某些扩展加载到我的网络应用程序正在使用的 chrome 选项卡上？可能是元标记？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:09:12.650

不。除非上述扩展是合作的（即它查找元标记或特定 URL 以断开自身连接），否则您无法禁用它。

您*可能会*找到一种依赖于扩展的方法，但您需要扩展的代码来查找它。

在您的具体情况下，问题似乎是 jQuery 被覆盖了。您不能简单地包装您的代码以使用您需要的特定 jQuery 吗？

```
 (function($) {
   // here $ is protected : 
   //   it has the value it had when the page was loaded
  })($); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T17:17:55.093

扩展程序的这种行为是不可接受的，您应该联系扩展程序开发人员以修复它。如果无法联系到他们，那么您应该请求从 Chrome 网上应用店中删除。

# r - R语言中的循环，地址中有变量

> ID：14850963
> 
> 赞同：1
> 
> 时间：2013-02-13T10:07:07.210
> 
> 标签：r, for-loop

我有几个txt文件，它们的名字分别是1.txt、2.txt、3.txt和……100.txt

我想用 R 语言循环读取这些文件。我的代码是：

```
For(I in 1:100){

    Datai<-read.table(“H://”+’i’+”.txt”)

} 
```

但是当我运行我得到这个错误：

> 二元运算符的非数字参数

我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T10:11:14.163

```
For(I in 1:100){

Datai<-read.table(paste(paste("H://",i,".txt",sep="")))

} 
```

据我所知，R 中没有字符串连接运算符。

[这](https://stackoverflow.com/questions/4730551/making-a-string-concatenation-operator-in-r)是一个如何构建的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T10:27:16.247

在您的循环中`Datai`，该对象在每次运行中都被新对象替换。您应该将返回的数据帧存储`read.table`在列表中。

```
Data <- vector("list", length = 100) # initialize the list
For(I in 1:100){    
    Data[[I]] <- read.table(paste("H://", I, ".txt", sep = ""))    
} 
```

同样可以通过以下方式实现`lapply`：

```
Data <- lapply(1:100, function(I) read.table(paste("H://", I, ".txt", sep = ""))) 
```

# xml - 连接各种 XMLType 的好方法是什么

> ID：14850964
> 
> 赞同：2
> 
> 时间：2013-02-13T10:07:11.187
> 
> 标签：xml, oracle, plsql

使用 Oracle PLSQL，我已经生成了许多 XMLType 类型的 XML 片段。我将这些存储在 XMLTYPE 类型的 VARRAY 中。我可以成功地将这些单独打印到文件中。

我接下来要做的是将所有这些片段融合在一起并将它们包装在另一个根元素中以生成单个文档。从我读过的内容来看，如果我能得到一个 XMLSEQUENCETYPE，那么我可以将它传递给 XMLCONCAT(..)，它应该返回所有片段的 XMLType 连接。在此之后，它只是使用 XMLELEMENT(..) 添加根元素的情况。但是，我很难找到从我的 VARRAY 的 XMLTYPE 生成 XMLSEQUENCETYPE 的方法。

有谁知道如何做到这一点，事实上我采取的方法是否是最好的？（如果有人好奇，我正在尝试创建一个基本的 dbunit 类型框架。这个脚本的目的是创建一个工具，该工具可用于将 XML 数据集输出到文件，然后将其加载到单元测试中）。

这是plsql脚本：

```
 set serveroutput on;
CREATE OR REPLACE TYPE rowset_query_type AS OBJECT ( 
   table_name          VARCHAR2(100),
   query_string        VARCHAR2(1024)
);
/

DECLARE

  TYPE XML_Fragments_Type IS VARRAY(1000) OF XMLTYPE;
  TYPE Rowset_Query_List_Type is VARRAY(1000) OF rowset_query_type;

  outputDir                 VARCHAR(200)  :=  'ORACLE_FILE_DIR';
  outputFile                VARCHAR(200)  :=  'TestDataSet.xml';

  qryCtx                    DBMS_XMLGEN.ctxHandle;
  rowsetResultFragments     XML_Fragments_Type;
  rowsetQueries             Rowset_Query_List_Type;  
  xmlResult                 xmltype;  
  rowsetQueryElement        rowset_query_type; 

  output                     CLOB;
BEGIN

 dbms_output.put_line('Exporting dataset...');

 -- export files to data fixture 

 -- define fixtures
 rowsetQueries := Rowset_Query_List_Type();
 rowsetQueries.EXTEND(2);

 rowsetQueries := Rowset_Query_List_Type(
 rowset_query_type('person', 'select * from person'),
 rowset_query_type('address','select * from address'));

 rowsetResultFragments := XML_Fragments_Type();
 rowsetResultFragments.EXTEND(rowsetQueries.count);

 FOR i IN rowsetQueries.FIRST..rowsetQueries.LAST 
 LOOP

  rowsetQueryElement := rowsetQueries(i);  
  dbms_output.put_line('Extracting dataset for table: ' || rowsetQueryElement.table_name || ' using query: ''' || rowsetQueryElement.query_string || '''');

  qryCtx := dbms_xmlgen.newContext(rowsetQueryElement.query_string);

  -- wrap the result up with a metadata tag containing the fixture tablename
  select xmlelement(
          "ROWSET_QUERY",
          xmlattributes(rowsetQueryElement.table_name as "tableName"),
              DBMS_XMLGEN.getXMLType(qryCtx)  
      )
  into rowsetResultFragments(i)
  from dual;

  --close context
  DBMS_XMLGEN.closeContext(qryCtx);

  -- print the results to console
  -- serialize the result for printing to output
  SELECT XMLSERIALIZE(
    CONTENT 
      rowsetResultFragments(i) 
    AS CLOB)
  INTO output
  FROM DUAL;

  DBMS_OUTPUT.PUT_LINE(output);

 END LOOP;

 -- concatenate the set of rowsetQueries result fragments to a single result clob
 --  ???

END;
/ 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T10:28:15.090

您快到了。

首先，将您的类型更改为 SQL 类型：

```
create or replace TYPE XML_Fragments_Type IS VARRAY(1000) OF XMLTYPE;
/ 
```

然后这样做

```
-- concatenate the set of rowsetQueries result fragments to a single result clob
 --  ???

 select xmlelement("root" ,xmlagg(column_value))
   into xmlresult
   from table(rowsetResultFragments); 
```

例如：

```
 SQL> create or replace TYPE XML_Fragments_Type IS VARRAY(1000) OF XMLTYPE;
      2  /

    Type created.

    SQL> DECLARE
      2
      3    --TYPE XML_Fragments_Type IS VARRAY(1000) OF XMLTYPE;
      4    TYPE Rowset_Query_List_Type is VARRAY(1000) OF rowset_query_type;
      5
      6    outputDir                 VARCHAR(200)  :=  'ORACLE_FILE_DIR';
      7    outputFile                VARCHAR(200)  :=  'TestDataSet.xml';
      8
...
     26   rowsetQueries := Rowset_Query_List_Type(
     27   rowset_query_type('person', 'select table_name, owner from dba_tables where rownum = 1'),
     28   rowset_query_type('address','select owner, type_name, attributes from dba_types where rownum = 1'));
     29
...
     56
     57   select xmlelement("root" ,xmlagg(column_value))
     58     into xmlresult
     59     from table(rowsetResultFragments);
     60    SELECT XMLSERIALIZE(
     61      CONTENT
     62        xmlresult
     63      AS CLOB )
     64    INTO output
     65    FROM DUAL;
     66    DBMS_OUTPUT.PUT_LINE(output);
     67
     68
     69  END;
     70  /
    Exporting dataset...
    Extracting dataset for table: person using query: 'select table_name, owner from dba_tables where rownum = 1'
    Extracting dataset for table: address using query: 'select owner, type_name, attributes from dba_types where rownum = 1'
    <root>
      <ROWSET_QUERY tableName="person">
        <ROWSET>
          <ROW>
            <TABLE_NAME>ICOL$</TABLE_NAME>
            <OWNER>SYS</OWNER>
          </ROW>
        </ROWSET>
      </ROWSET_QUERY>
      <ROWSET_QUERY tableName="address">
        <ROWSET>
          <ROW>
            <OWNER>CTXSYS</OWNER>
            <TYPE_NAME>CATINDEXMETHODS</TYPE_NAME>
            <ATTRIBUTES>3</ATTRIBUTES>
          </ROW>
        </ROWSET>
      </ROWSET_QUERY>
    </root> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-13T10:40:49.987

如果您不使用这些片段，则可以在循环中使用[XMLCONCAT](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions240.htm#SQLRF06167)，然后在最后使用[XMLELEMENT](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions242.htm#SQLRF06168)：

```
SQL> DECLARE
  2     TYPE Rowset_Query_List_Type IS VARRAY(1000) OF rowset_query_type;
  3  
  4     outputDir  VARCHAR(200) := 'ORACLE_FILE_DIR';
  5     outputFile VARCHAR(200) := 'TestDataSet.xml';
  6  
  7     qryCtx             DBMS_XMLGEN.ctxHandle;
  8     rowsetQueries      Rowset_Query_List_Type;
  9     xmlResult          XMLTYPE;
 10     rowsetQueryElement rowset_query_type;
 11  BEGIN
 12     -- define fixtures
 13     rowsetQueries := Rowset_Query_List_Type(
 14                         rowset_query_type('person', 'select * from dual'),
 15                         rowset_query_type('address', 'select * from dual'));
 16  
 17     FOR i IN rowsetQueries.FIRST .. rowsetQueries.LAST LOOP
 18  
 19        rowsetQueryElement := rowsetQueries(i);
 20        dbms_output.put_line('Extracting dataset for table: '
 21                             || rowsetQueryElement.table_name
 22                             || ' using query: '''
 23                             || rowsetQueryElement.query_string || '''');
 24  
 25        qryCtx := dbms_xmlgen.newContext(rowsetQueryElement.query_string);
 26  
 27        -- concatenate
 28        SELECT xmlconcat(xmlResult,
 29                         xmlelement(
 30                            "ROWSET_QUERY",
 31                            xmlattributes(
 32                               rowsetQueryElement.table_name AS "tableName"),
 33                            DBMS_XMLGEN.getXMLType(qryCtx)))
 34          INTO xmlResult
 35          FROM dual;
 36  
 37        --close context
 38        DBMS_XMLGEN.closeContext(qryCtx);
 39  
 40     END LOOP;
 41  
 42     -- root element
 43     SELECT xmlelement(ROOT, xmlresult) INTO xmlresult FROM dual;
 44  
 45     dbms_output.put_line('result:');
 46     DBMS_OUTPUT.PUT_LINE(xmlResult.getClobVal());
 47  
 48  END;
 49  /

Extracting dataset for table: person using query: 'select * from dual'
Extracting dataset for table: address using query: 'select * from dual'
result:
<ROOT><ROWSET_QUERY tableName="person"><ROWSET>
  <ROW>
    <DUMMY>X</DUMMY>
  </ROW>
</ROWSET>
</ROWSET_QUERY><ROWSET_QUERY tableName="address"><ROWSET>
  <ROW>
    <DUMMY>X</DUMMY>
  </ROW>
</ROWSET>
</ROWSET_QUERY></ROOT>

PL/SQL procedure successfully completed 
```

# php - 基于动态键=>值的PhP关联错误数组

> ID：14850969
> 
> 赞同：0
> 
> 时间：2013-02-13T10:07:35.357
> 
> 标签：php, arrays, dynamic, associative

这是我开始编写的一个类，用于通过注册表将新用户添加到我的数据库中。在我尝试进行后端检查以查看是否未提供所需值之前，一切都运行良好。这是代码...

```
class User
{
//Basic Login variables
private $uName;
private $pWord;
private $cpWord;
private $shaPass;

//Account info vars
private $fName;
private $lName;
private $email;
private $confEmail;
private $mPhone;
private $hPhone;

//Trading info vars
private $trName;
private $phone; //Defaults to home phone, or cell, if no home number specified.
private $fax;
private $web;

//Home Address vars
private $h_addr1;
private $h_addr2;
private $h_city;
private $h_state;
private $h_zip;

//Postal Address vars
private $p_addr1;
private $p_addr2;
private $p_city;
private $p_state;
private $p_zip;

private $not_required_vars;
//Post name collection
private $post_coll;
//Error collection
private $errors;

public function User()
{       
    $this->not_required_vars = array('fax', 'web');
    $this->post_coll = array('uName', 'pWord', 'cpWord', 'fName', 'lName', 'email', 'confEmail', 'dob', 'mPhone', 'hPhone', 'trName', 'phone', 'fax', 'web', 'h_addr1', 'h_addr2', 'h_city', 'h_state', 'h_zip', 'p_addr1', 'p_addr2', 'p_city', 'p_state', 'p_zip');
    //print_r($_POST);

    foreach($this->post_coll as $index)
    {
        if(isset($_POST[$index]) && (!empty($_POST[$index])))
        {
            //echo $index . '<br />';
            $this->{$index} = $_POST[$index];
        }else
        {
            foreach($this->not_required_vars as $not_req)
            {
                if($index != $not_req)
                {
                    //echo $index . '<br />';
                    $this->errors = array();

                    $this->errors[] = array($index=>'This field is required');
                    break;
                    //header('location: '.$_SERVER['PHP_SELF'].'?page='. $_GET['page'] . '&error=1');
                }
            }
        }

    }
    print_r($this->errors);
} 
```

让我通过解释上述内容来节省您的时间……我有一个名为“post_coll”的 $_POST 索引字符串数组。然后我让我的 foreach 循环遍历每个字符串，检查 $_POST 数组中是否设置了该字符串，如果不是，我检查它是否是必需的值。如果它确实是必需的值，我想创建一个关联数组，其中字符串（例如'uName'）作为数组中的键，当我将它重定向回时，值类似于“此字段是必需的”我的表格我可以从我的班级获取错误并在表格上适当的地方显示它们。

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T10:13:19.997

```
$this->errors[] = array($index=>'This field is required'); 
```

这条线看起来像它的创建和数组数组

这不是你要找的东西吗？

```
$this->errors[$index] = 'This field is required'; 
```

# ios - 从 iOS 上的 .net Web 服务获取对象列表

> ID：14850970
> 
> 赞同：0
> 
> 时间：2013-02-13T10:07:43.997
> 
> 标签：ios, objective-c, soap, xml-parsing, asmx

我正在为 ios 开发约会应用程序。我使用 .net Web 服务从数据库中获取数据。我在 Android 和 Windows Phone 应用程序上使用过它，但我还不能在 ios 上使用它。它返回具有子对象列表的对象列表。

例如，FirmaGetir 方法有一个参数：**firID**（字符串）。如何将参数传递给 Web 服务？如何解析这些项​​目？**我需要一个示例代码**。感谢关注。

**网络服务请求**：

```
POST /webservice1.asmx HTTP/1.1
Host: example.com
Content-Type: application/soap+xml; charset=utf-8
Content-Length: length

<?xml version="1.0" encoding="utf-8"?>
<soap12:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap12="http://www.w3.org/2003/05/soap-envelope">
  <soap12:Body>
    <FirmaGetir xmlns="http://tempuri.org/">
      <firID>string</firID>
    </FirmaGetir>
  </soap12:Body>
</soap12:Envelope> 
```

**网络服务结果**：

```
HTTP/1.1 200 OK
Content-Type: application/soap+xml; charset=utf-8
Content-Length: length

<?xml version="1.0" encoding="utf-8"?>
<soap12:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap12="http://www.w3.org/2003/05/soap-envelope">
  <soap12:Body>
    <FirmaGetirResponse xmlns="http://tempuri.org/">
      <FirmaGetirResult>
        <Firma>
          <firma_adi>string</firma_adi>
          <adres>string</adres>
          <telefon>string</telefon>
          <id>string</id>
          <sektor>string</sektor>
          <alt_sektor>string</alt_sektor>
          <alt_sektor_adi>string</alt_sektor_adi>
          <servis>string</servis>
          <map>string</map>
          <slogan>string</slogan>
          <sayfaGosterimi>int</sayfaGosterimi>
          <gpsilce>string</gpsilce>
          <gpssemt>string</gpssemt>
          <gpspk>string</gpspk>
          <duyuru>
            <baslik>string</baslik>
            <icerik>string</icerik>
            <link>string</link>
            <image>string</image>
          </duyuru>
          <firma_link>
            <tam_adi>string</tam_adi>
            <kisa_adi>string</kisa_adi>
            <firma_link>string</firma_link>
          </firma_link>
        </Firma>
      </FirmaGetirResult>
    </FirmaGetirResponse>
  </soap12:Body>
</soap12:Envelope> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T14:39:30.180

使用[touchXml](https://github.com/TouchCode/TouchXML)文件导出到您的项目

并根据您的要求修改以下方法

```
 - (NSArray *) parseAllShopInfoResponse:(NSString *)AllShopInfoResponse
{

    NSMutableArray *allShopInfoDTOArray = [[NSMutableArray alloc]init];

    CXMLDocument *inventoryResponseObject = [[CXMLDocument alloc] initWithXMLString:AllShopInfoResponse options:0 error:nil];

    NSArray *resultNodes = [inventoryResponseObject nodesForXPath:@"//shopsListDTO" error:nil];

//    NSLog(@"ShopsList nodes: %@", resultNodes);

    for (CXMLElement *resultElement in resultNodes)
    {
        NSMutableDictionary *allShopInfo = [[NSMutableDictionary alloc] init];

        for(int counter = 0; counter < [resultElement childCount]; counter++)
        {

            if ([[resultElement childAtIndex:counter] stringValue] == nil) 
            {
                [allShopInfo setObject:@" " forKey:[[resultElement childAtIndex: counter] name]];
            }
            else
            {
                [allShopInfo setObject:[[resultElement childAtIndex:counter] stringValue] forKey:[[resultElement childAtIndex:counter] name]];
            }

//            NSLog(@"ShopsList DIC %@",allShopInfo);

        }
        [allShopInfoDTOArray addObject:[allShopInfo copy]];

    }

    return [self returnAllShopInfoObjects:allShopInfoDTOArray];

}

- (NSArray*) returnAllShopInfoObjects: (NSArray *)allShopInfoArray
{

    NSMutableArray *allShopInfoObjects=[[NSMutableArray alloc]init];

    for (NSDictionary *allShopInfoDictionary in allShopInfoArray) 
    {

//        NSLog(@"ALL Shop Info Dictionary .....%@",allShopInfoDictionary);

        allShopInfoObject = [[ShopBasicDetails alloc]init];

        allShopInfoObject.shopId = [[allShopInfoDictionary objectForKey:@"shopId"] intValue];
        allShopInfoObject.shopName = [allShopInfoDictionary objectForKey:@"shopName"];
        allShopInfoObject.onlineStatus = [[allShopInfoDictionary objectForKey:@"onlineStatus"]intValue];
        allShopInfoObject.shopDetailsDownloadTime = (NSDate *)[allShopInfoDictionary objectForKey:@"dateTime"];
        allShopInfoObject.shopLatitudeValue = [[allShopInfoDictionary objectForKey:@"latitude"]doubleValue];
        allShopInfoObject.shopLongitudeValue = [[allShopInfoDictionary objectForKey:@"longitude"]doubleValue];
        NSURL *thunmbnailImageUrl = [NSURL URLWithString: [allShopInfoDictionary objectForKey:@"logoThumbnailUrl"]];
        UIImage *thunmbnailImage = [UIImage imageWithData: [NSData dataWithContentsOfURL:thunmbnailImageUrl]];

        allShopInfoObject.thumbnailImage =  thunmbnailImage;
        CLLocation *shopLocation = [[CLLocation alloc] initWithLatitude:allShopInfoObject.shopLatitudeValue longitude:allShopInfoObject.shopLongitudeValue];

//        NSLog(@"Distance i meters: %f", [userCurrentPosition getDistanceFrom:shopLocation]);
        allShopInfoObject.distance = [userCurrentPosition getDistanceFrom:shopLocation]/1000;

        [allShopInfoObjects addObject:allShopInfoObject];

    }
//    NSLog(@"OBJECTS : %@",allShopInfoObjects);
    [outputDelegate ParserOutputDelegate:allShopInfoObjects];

    return allShopInfoObjects;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T15:58:20.783

我试图解决这个问题大约一个星期。我不再搜索它了。使用 Web 服务的最佳方式是使用带有 JSON 的 WCF 服务。我找到了一个很好的例子。请按照本教程[http://www.codeproject.com/Articles/405189/How-to-access-SQL-database-from-an-iPhone-app-Via](http://www.codeproject.com/Articles/405189/How-to-access-SQL-database-from-an-iPhone-app-Via)

# rest - 在多个类（Glassfish、EclipseLink）中拆分功能时出现 JPA EntityManager Nullpointer 异常

> ID：14850972
> 
> 赞同：1
> 
> 时间：2013-02-13T10:07:48.017
> 
> 标签：rest, jpa, glassfish, nullpointerexception, eclipselink

我知道有很多关于类似问题的问题，但我没有设法为我的问题提取解决方案。

我正在尝试构建一个提供数据的 RESTful Web 应用程序，该应用程序使用 JPA (EclipseLink 2.4) 提供并在 Glassfish 3.1.2.2 上运行。

为了测试，我在 mysql 中建立了一个留言簿数据库并创建了这个多合一的解决方案：

```
// imports etc...
// Guestbook class has @Entity

@Stateless
@Path("guestbook")
public class GuestService {

    @PersistenceContext
    private EntityManager em;

    @GET
    public Response entry() {
        Guestbook entry = em.find(Guestbook.class, someid);
        return Response.ok(entry.getMsg()).build();
    }
} 
```

这工作得很好，但我想把它分成几个层，像这样：REST -> DAO -> Entity 这将转换为：

```
@Stateless
@Path("guestbook")
public class GuestService {

    private DAO dao;

    @GET
    public Response entry() {
        Guestbook entry = dao.getEntry(someid);
        return Response.ok(entry.getMsg()).build();
    }
}

// ...

public class DAO {
    @PersistenceContext
    private EntityManager em;

    public Guestbook getEntry(int someid) {
        return em.find(Guestbook.class, someid);
    }
} 
```

所以这会在 getEntry() 中访问*em*时产生一个空指针异常，因为它是*null*。我的 persistence.xml 看起来像这样：

```
<?xml version="1.0" encoding="UTF-8"?>
<persistence version="2.0" xmlns="..." xmlns:xsi="..." xsi:schemaLocation="...">
    <persistence-unit name="guestbook" transaction-type="JTA">
        <jta-data-source>jdbc/mysqldatasource</jta-data-source>
        <class>model.Guestbook</class>
    </persistence-unit>
</persistence> 
```

在此先感谢您，我期待您的建议！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T10:16:37.593

您已经很好地抽象了`DAO`from `GuestService`，但似乎您忘记了创建`DAO`EJB`@Stateless`并将其注入到您的`GuestService`using`@EJB`注释中。

```
@Stateless 
public class DAO {

   @PersistenceContext
   private EntityManager em;
   ...   
}

@Stateless
@Path("guestbook")
public class GuestService {

    @EJB
    private DAO dao;
    ...
} 
```

我希望它有帮助！

# php - 会话变量不存储选定的下拉值

> ID：14850975
> 
> 赞同：0
> 
> 时间：2013-02-13T10:07:53.690
> 
> 标签：php

我正在尝试将选定的下拉值存储在会话变量中，并且每次打印我在其他页面上使用的变量时，它都会显示我基​​本上从中填充下拉列表的数组的最后一个值。这是代码；

```
<?php $options = array('2CHECKOUT','PAYPAL'); ?>

<select name="payment" style="width:225px;" id ="mySelect">
    <?php foreach($options as $opt) { ?>
        <?php $selected = (isset($_SESSION['payment']) && $opt == $_SESSION['payment']) ? ' SELECTED' : '';
        echo '<option value="'.$opt.'"' .$selected.'>'.$opt.'</option>'; ?>
    <?php } ?>
    <?php error_log("the session var".print_r($_SESSION['payment'])); ?>
</select> </div> 
```

有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-13T10:29:33.397

将您的代码更改为

```
<?php $options = array('2CHECKOUT','PAYPAL'); ?>

<div>
<select name="payment" style="width:225px;" id ="mySelect">
    <?php foreach($options as $opt) { ?>
        <?php $selected = (isset($_SESSION['payment']) && $opt == $_SESSION['payment']) ? ' SELECTED' : '';
        echo '<option value="'.$opt.'"' .$selected.'>'.$opt.'</option>'; ?>
    <?php } ?>

</select> 
<?php error_log("the session var".print_r($_SESSION['payment'])); ?>
</div> 
```

# php - Jquery val不为文本框设置新值

> ID：14850977
> 
> 赞同：0
> 
> 时间：2013-02-13T10:07:55.193
> 
> 标签：php, jquery, jquery-ui, jquery-autocomplete

我使用 jqueryUI 自动完成来搜索地理名称，但我无法为我的文本框设置值，这是我的代码：

```
<script>
    $(function () {
        function log(message) {
            $("#appendedInputButton").val(message);
        }
        $("#appendedInputButton").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: "http://ws.geonames.org/searchJSON",
                    dataType: "jsonp",
                    data: {
                        featureClass: "P",
                        style: "full",
                        maxRows: 12,
                        name_startsWith: request.term
                    },
                    success: function (data) {
                        response($.map(data.geonames, function (item) {
                            return {
                                label: item.name + (item.adminName1 ? ", " + item.adminName1 : "") + ", " + item.countryName,
                                value: item.name
                            }
                        }));
                    }
                });
            },
            minLength: 1,
            select: function (event, ui) {
                log(ui.item ?
                    "Selected: " + ui.item.label :
                    "Nothing selected, input was " + this.value);
            },
            open: function () {
                $(this).removeClass("ui-corner-all").addClass("ui-corner-top");
            },
            close: function () {
                $(this).removeClass("ui-corner-top").addClass("ui-corner-all");
            }
        });
    });
</script> 
```

我的 HTML 是：

```
<div class="input-append">
    <form role="search" method="get" id="searchform" action="http://sushiant.com/">
        <button class="btn" type="submit" id="searchsubmit">جستجو</button>
        <input class="span2" name="appendedInputButton" id="appendedInputButton" size="16" type="text" style="width: 300px;">
    </form>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-08T14:07:02.750

## 解决方案

将成功函数替换为以下内容：

```
success: function (data) {
    response($.map(data.geonames, function (item) {
        var text = item.name + (item.adminName1 ? ", " + item.adminName1 : "") + ", " + item.countryName;
        return {
            label: text,
            value: text
        }
    }));
} 
```

我猜这`"Selected: "`部分只是为了调试目的，所以基本上你要做的就是将两者都设置`label`为`value`相同的字符串。

## 解释

调用`val()`工作非常好。但是，您看不到预期的结果，因为该值已被 回调函数中`value`设置的字段覆盖，这是.`response``autocomplete`

此外，`select`永远不应该使用`ui.item`undefined 调用该事件，因为它会精确地对项目的选择做出反应......所以`"Nothing selected, input was " + this.value);`无论如何都不应该达到替代方案。

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2013-02-13T10:12:23.790

尝试

```
$("#appendedInputButton").attr('value',message); 
```

# php - laravel 中的 RESTful 斜杠路径

> ID：14850985
> 
> 赞同：0
> 
> 时间：2013-02-13T10:08:22.463
> 
> 标签：php, rest, laravel

我的 Laravel 3 RESTful api 项目中有以下路线

```
Route::delete('/(:any)', 'resources@destroy');

Route::delete('users/(:any)', 'users@destroy'); 
```

我遇到的问题是当用户向 /users/ 发送删除请求时

我想要发生的是`users@destroy`使用参数调用路由`null`。在我的控制器中，尝试删除`null`资源的用户有一个例外。

似乎正在发生的是`resource@destroy`使用参数调用路由`users`。这显然具有删除用户资源的不良影响。

我知道我可以修改我的 .htaccess 但技术上 /users/ 确实属于用户控制器而不是资源控制器。我想维持这种关系。

我想知道是否有一种简单的方法可以在 Laravel 中解决这个问题？

编辑：将上述内容与以下答案一起使用。现在我的获取路线有错误

```
Route::get('users/(:any?)', 'users@show');
Route::get('users', 'users@index'); 
```

/users 和 /users/ 都调用 users@index 我不想要的。

我需要 GET /users 去 users@index 和 GET /users/ 去 users@show with null 参数

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T14:39:22.593

我通过向我的路线添加过滤器来解决斜杠

```
Route::group(array('before' => 'trailingslash'), function()
{
   //routes in here
});

Route::filter('trailingslash', function() {
    $current = URI::full();
    if(substr($current, -1) == '/'){
        return return Response::error('404');
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:51:58.513

你需要考虑的一点。

> 路由的定义没有前斜线。唯一的例外是仅用正斜杠表示的默认路由。

所以`Route::delete('/(:any)', 'resources@destroy')`会导致不希望的结果。

此外，您的订单是错误的。

`(:any)`也将匹配`user`并将请求发送到`resources`控制器。

所以你需要做的是

*   更改顺序（使其相反）。
*   `resources`根据规则改变考虑的路线。诸如此类`resources/delete`……

> *我想要发生的是使用参数 null 调用 users@destroy 路由。在我的控制器中，对于尝试删除空资源的用户，我有一个例外。*

为此，（在进行上述更改后....）

更改路线将使第二段成为可选`user/(:any)`。`user/(:any?)`

之后，直奔前行。

```
$foo = URI::segment(2, null);
//Rest will follow. 
```

## 编辑

现在，下面的代码，

```
Route::get('users/(:any?)', 'users@show');
Route::get('users', 'users@index'); 
```

没有任何意义。

如果我输入`user`，路由器应该采取什么？

`user@show`没有可选段或`user@index`？

路线的设计是为了消除歧义。你正朝着相反的方向前进，这一切都变得模棱两可。

做一个简单的路线。

喜欢表演

```
 user/show 
```

*删除*

```
 user/delete 
```

*编辑*

```
 user/edit 
```

ETC....

您应用的路由类型对于用户和开发人员来说都是令人困惑的，因为它带有歧义。

# php - 如何对 web.config 文件中的某些文件强制使用 http

> ID：14850989
> 
> 赞同：5
> 
> 时间：2013-02-13T10:08:38.230
> 
> 标签：php, asp.net, url-rewriting, web-config

我有一些文件需要在 http 中。我尝试了以下代码但不起作用。如何在 web.config 中为页面 page1、page2 设置强制 HTTP

```
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.webServer>
    <rewrite>
        <rules>
            <rule name="Force HTTP" stopProcessing="true">
                <match url="(.*)/page1.php" ignoreCase="false"/>
                                <match url="(.*)/page2.php" ignoreCase="false"/>
                <conditions> 
                    <add input="{HTTPS}" pattern="ON" ignoreCase="true"/>
                </conditions>
                <action type="Redirect" url="http://{HTTP_HOST}{REQUEST_URI}" redirectType="Permanent" />
            </rule>
        </rules>
    </rewrite>
    </system.webServer>
</configuration> 
```

我正在 IIS 7 Web 服务器中为 Windows 中的 PHP 应用程序工作

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T16:50:45.853

您需要将规则更改为：

```
<rule name="Force HTTP" stopProcessing="true">  
  <match url="^page[12].php(.*)" />  
  <conditions>  
    <add input="{HTTPS}" pattern="^ON$" />  
  </conditions>  
  <action type="Redirect" url="http://{HTTP_HOST}/{R:0}" redirectType="Permanent" />  
</rule> 
```

将匹配任何以or`url="^page[12].php(.*)"`开头的 url 。 该操作将请求重定向到包含请求路径的位置。`page1.php``page2.php`
`https://{HTTP_HOST}/{R:0}``{R:0}`

# java - 收集 Java 类信息

> ID：14850990
> 
> 赞同：1
> 
> 时间：2013-02-13T10:08:37.800
> 
> 标签：java, eclipse, eclipse-plugin, eclipse-jdt

有没有办法通过插件收集Java类的信息？

我想收集信息，例如它所属的包、它拥有的导入、它是否有实现或扩展。

收集必要的信息后，打算将其复制到文本字段。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T13:19:06.940

您可以使用 Eclipse JDT 插件收集属于 Java 项目的所有文件的信息。您也可以组合使用 Eclipse 的 AST 解析器。

JDT Core 组件是定义核心 Java 元素和 API 的插件。这个核心组件可以包含在我们自己的插件中，并且可以用于在 IDE 之外搜索、编译和操作 Java 代码。

[您可以从这里](http://www.scriptsplash.com/2012/07/create-jdt-project-in-eclipse.html)找到启动教程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T10:10:41.853

您可以使用[ASM](http://asm.ow2.org/)库来解析类文件并从中提取任何信息。

# android - 带边框的线性布局

> ID：14850991
> 
> 赞同：1
> 
> 时间：2013-02-13T10:08:39.833
> 
> 标签：android

任何人都可以帮助我实现线性布局的以下边框。![在此处输入图像描述](../Images/001eeb0304f6ad70034c65de97eee14c.png)

我可以按形状绘制边框，但不知道如何绘制一个尖的工具提示，比如指向 Textview“研讨会”。

```
<?xml version="1.0" encoding="UTF-8"?> 
<shape xmlns:android="http://schemas.android.com/apk/res/android" 
 android:shape="rectangle"> 
 <stroke android:width="2dp" android:color="#FFFFFFFF" />
 <gradient android:startColor="#FFFFFFFF" android:endColor="#FFFFFFFF" 
        android:angle="225"/> 

<corners android:bottomRightRadius="7dp" android:bottomLeftRadius="7dp" 
 android:topLeftRadius="7dp" android:topRightRadius="7dp"/> 
</shape> 
```

请提供任何帮助。

问候， 阿斯米塔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T11:07:35.710

您可以使用九个补丁文件，有关如何执行九个补丁文件的详细信息：[https](https://tekeye.uk/android/examples/ui/android-9-patch-image-files) ://tekeye.uk/android/examples/ui/android-9-patch-image-files 。生成一个九个补丁文件并将其设置为布局的背景可绘制对象。

![绘制 9 补丁实用程序](../Images/dde4251e0273c085e81932f4bfabcf98.png)

正在使用：

![使用示例](../Images/e679f28e7d718e23bf69823bf381c0f0.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T10:14:22.160

我认为Android没有任何形式可以做到这一点。您需要定义具有该外观且其余背景透明的图像。然后你只需要用你的drawable定义你的布局的背景。

不要忘记不同的 Android 屏幕尺寸和分辨率。

# dotnetnuke - 如何允许管理员以外的用户在 DotnetNuke 中添加新用户？

> ID：14850992
> 
> 赞同：0
> 
> 时间：2013-02-13T10:08:41.317
> 
> 标签：dotnetnuke

在**DotNetNuke**中，**管理员**只能**添加新用户**。我想允许其他具有自定义角色的用户添加新用户。DotNetNuke 可以吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T17:05:54.490

这曾经是可能的，虽然我已经有一段时间没有尝试过了。

基本上你可以尝试几个选项。

1) 您可以将 DNN 中“用户帐户”页面上的 PAGE 权限分配给特定角色的用户。然后，您需要为这些用户提供该页面的链接，因为他们不会看到管理菜单，也无法通过管理菜单访问该链接。

2）您实际上可以（曾经能够）将用户帐户模块放在其他角色可以访问的页面上，问题是用户帐户和安全角色模块是“高级”的，这意味着您必须专门（如超级用户）允许它们在被放置在页面上之前在门户中使用。您可以从主机/扩展页面执行此操作，然后单击模块旁边的编辑铅笔，找到高级部分，然后将其分配给特定的门户。然后您将模块添加到页面，您会发现添加的不仅仅是用户帐户模块，因此您需要通过从页面中删除它们来删除额外的模块。

希望这两个选项之一对您有用。

# android - 启动手机后 Android 上的 USB 调试问题：“CreateJavaVM failed: dvmGcStartup failed”

> ID：14850994
> 
> 赞同：1
> 
> 时间：2013-02-12T21:09:21.020
> 
> 标签：android, debugging, usb

我在 Android 平台上工作，我使用我的 HTC Sensation 来检查我通过 USB 调试直接在手机上开发的任何内容，而不是使用那个笨重的模拟器，一切都很完美。但上周我将手机植根并安装了一些自定义 ROM。出现此问题后，现在当我连接手机时，Eclipse 确实可以识别它，但是当我在 eclipse 上运行开发的应用程序时，它不会加载到手机上。

手机开启USB调试。

你能告诉我有什么问题吗？

这是我在 LogCat 中遇到的错误，但我不知道它是什么：

![在此处输入图像描述](../Images/8837f55009293b2971c5dd64d2ad77eb.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T21:23:57.297

我认为这都是你的ROM的错误。ROM中的一个小错误。建议你换个新的ROM。很可能它会摆脱这个错误。

# maven - 使用 Maven 程序集提取存储库的子集

> ID：14850996
> 
> 赞同：1
> 
> 时间：2013-02-13T10:08:42.807
> 
> 标签：maven, maven-assembly-plugin

使用 maven-assembly-plugin 版本 2.4，我想构建我的存储库的 zip，其中仅包含以**mypackage**开头的 groupid 下的 jar 。

使用带有模式**mypackage.*:***的存储库不起作用。构建成功，但我的存储库包含我所有的依赖项！

```
<formats>
    <format>zip</format>
</formats>
<includeBaseDirectory>false</includeBaseDirectory>
<repositories>
    <repository>
        <includes>
            <include>mypackage.*:*</include>
        </includes>
        <scope>test</scope>
        <includeMetadata>false</includeMetadata>
    </repository>
</repositories> 
```

使用具有相同模式的依赖项集是有效的（除了所有 jars 都在根文件夹中......）：

```
<formats>
  <format>zip</format>
</formats>
<includeBaseDirectory>false</includeBaseDirectory>
<dependencySets>
  <dependencySet>
    <includes>
      <include>mypackage.*:*</include>
    </includes>
    <unpack>false</unpack>
    <scope>test</scope>
    <useProjectArtifact>false</useProjectArtifact>
  </dependencySet>
</dependencySets> 
```

配置有问题吗？是否可以使用 maven-assembly 做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-05-06T13:07:35.463

当您使用`repositories`标记指定程序集时，项目依赖项的所有依赖项也会被导入，除非您在程序集定义中使用标记明确排除它们`excludes`。

例如 ：

```
<formats>
    <format>zip</format>
</formats>
<includeBaseDirectory>false</includeBaseDirectory>
<repositories>
    <repository>
        <includes>
            <include>mypackage.*:*</include>
        </includes>
        <excludes>
            <exclude>commons-cli:*</exclude>
        </excludes>
    </repository>
</repositories> 
```

这将允许您排除依赖*项（如果您的项目或其依赖项之一当然使用它）* `commons-cli:*`及其依赖项，问题是您必须列出要排除的依赖项，但您可以轻松地运行一个`mvn dependency:tree`列表你的项目。

# matlab - MATLAB - ??? 索引超出矩阵维度

> ID：14850999
> 
> 赞同：-2
> 
> 时间：2013-02-13T10:08:56.427
> 
> 标签：matlab, matrix, dimension

我有以下代码（较大程序的一部分）`matlab`：

```
while(k<n)
C.(sprintf('Cnew')) = C.(sprintf('C%d',k));
d1 = equalize_dimension(a.F, C.(sprintf('Cnew')));
distance_new = distance(d1.x, d1.y);
k = k + 1;
end 
```

如果您想替换值，因为我已经包含了程序的一部分，这将如下所示：

```
C.(sprintf('Cnew')): 
```

78

而且，因为`a.F`它如下：

78 82 84 80

80 84 86 82

82 87 88 85

82 87 89 86

对于`equalize_dimension(x,y)`函数，如下：

```
function n = equalize_dimension (x,y)
        [r1 c1] = size(x);
        [r2 c2] = size(y);

        if r1<r2
        e= r2-r1;
        for i=1:e
        x(r1+1,1)=0;
        r1 = r1 + 1;
        end
        [r1 c1] = size(x);
        n.x =x;
        n.y = y;
        end

        if r1>r2
        e = r1-r2;
        for i=1:e
        y(r2+1,1)=0;
        r2 = r2 + 1;
        end
        [r2 c2] = size(y);
        n.x = x;
        n.y = y;
        end

        if c1<c2
        e= c2-c1;
        for i=1:e
        x(1,c1+1)=0;
        c1 = c1 + 1;
        end
        [r1 c1] = size(x);
        n.x = x;
        n.y = y;
        end

        if c1>c2
        e = c1-c2;
        for i=1:e
        y(1,c2+1)=0;
        c2 = c2 + 1;
        end
        [r2 c2] = size(y);
        n.x = x;
        n.y = y;
        end

        if r1==r2 && c1==c2
        n.x =  x;
        n.y = y;
        end 
```

并且，对于`distance(x,y)`函数，它如下：

```
function m = distance(x,y)
[r c] = size(x);
for i=1:r
     for j=1:c
     summation = (sum(sum(pdist2(x,y))));
     end
end
     m=summation;
end 
```

当我运行程序时，我收到以下错误：

```
??? Index exceeds matrix dimensions.

Error in ==> fs at 36
distance_new = distance(d1.x, d1.y); 
```

这是为什么？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T10:18:41.353

首先，在调试器中停止行`distance_new = distance(d1.x, d1.y);` 并输入

```
>> which distance 
```

我怀疑你会得到输出

> 距离是一个变量。

这意味着您`distance`通过使用具有相同名称的变量来覆盖该函数。

其次，在函数中嵌套循环的`distance`原因是什么？您没有使用这些变量，并且不管嵌套循环如何计算。 也请尽量[不要使用](https://stackoverflow.com/questions/14790740/using-i-and-j-as-variables-in-matlab)[and](https://stackoverflow.com/questions/14790740/using-i-and-j-as-variables-in-matlab)[作为变量](https://stackoverflow.com/questions/14790740/using-i-and-j-as-variables-in-matlab)。`i``j``summation`
[`i``j`](https://stackoverflow.com/questions/14790740/using-i-and-j-as-variables-in-matlab)