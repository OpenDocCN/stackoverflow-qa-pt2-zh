# StackOverflow 问答 15267000-15267999

# tsql - T-SQL HASHBYTES 函数和排序规则

> ID：15267000
> 
> 赞同：0
> 
> 时间：2013-03-07T09:07:43.333
> 
> 标签：tsql, function, hash, sql-server-2012, collation

我正在使用 SQL Server 2012，并且表的字段定义为：

> NVARCHAR(32)

但需要存放在里面

> NVARCHAR(1024)

值，我无法更改列长度。

我有一个将填充此字段的程序。同时，如果存在具有该值的字段，它将“做某事”，如果存在具有该值的字段，则“什么也不做”。

为了解决长度问题，我决定使用[HashBytes](http://msdn.microsoft.com/en-us/library/ms174415%28v=sql.90%29.aspx)函数，如下所示：

```
DECLARE @HashThis nvarchar(1024);
SELECT @HashThis = CONVERT(nvarchar(1024),'dslfdkjLK85kldhnv$n000#knf');
SELECT HASHBYTES('SHA1', @HashThis);
GO 
```

我已经读过，根据您的数据库排序规则，您可能对相同的值有不同的哈希返回。那么，有没有办法为函数指定一个排序规则，以便不依赖于数据库排序规则。

另外，我的想法有问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-10-08T09:47:38.437

```
SELECT HashBytes('SHA1', CONVERT(nvarchar,'вася пупкин' collate Cyrillic_General_CS_AS)) ; 
```

# c - 如何将变量存储在特定的内存位置？

> ID：15267001
> 
> 赞同：11
> 
> 时间：2013-03-07T09:07:43.460
> 
> 标签：c

由于我对 C 比较陌生，因此我必须为我的项目之一使用以下内容：我必须声明一些全局变量，每次程序在相同的内存地址运行时都必须存储这些变量。我做了一些阅读，我发现我将它声明为“静态”，它将存储在同一个内存位置。

但我的问题是：我能否指出程序在哪里存储该变量。例如：int a 要存储在 0xff520000。这件事能不能做？我在这里搜索过，但没有找到任何相关的例子。如果他们是关于此的一些旧帖子，请分享链接。

谢谢大家。劳伦蒂乌

更新：我使用的是 32uC

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-07T10:32:36.940

在您的 IDE 中，将通过一些链接器文件提供内存映射。它将包含程序中的所有地址。阅读 MCU 手册以查看哪些地址有有效的内存供您使用，然后为您的变量保留一些内存。您必须阅读特定开发平台的文档。

接下来，请注意，将变量映射到特定地址没有多大意义，除非它们是硬件寄存器或驻留在闪存或 EEPROM 中的非易失性变量。

如果这样一个内存位置的内容在执行期间会发生变化，因为它是一个寄存器，或者因为您的程序包含更改 NVM 存储单元的引导加载程序/NVM 编程算法，则*必须*将变量声明为易失性。否则编译器会在优化时完全破坏你的代码。

特定的编译器很可能有一种非标准的方式来在特定地址分配变量，例如 #pragma 或有时是奇怪的非标准`@`运算符。您可以在标准 C 中的固定位置分配变量的唯一明智方法是：

```
#define MY_REGISTER (*(volatile uint8_t*)0x12345678u) 
```

其中 0x12345678 是其中 1 个字节所在的地址。一旦你有了这样的宏声明，你就可以像使用变量一样使用它：

```
void func (void)
{
  MY_REGISTER = 1;  // write
  int var = MY_REGISTER;  // read
} 
```

大多数情况下，您希望这些变量驻留在全局命名空间中，因此是宏。但是，如果您出于某种原因希望缩小变量的范围，请跳过宏并在代码中手动访问地址：

```
void func (void)
{
  *(volatile uint8_t*)0x12345678u = 1; // write
  int var = *(volatile uint8_t*)0x12345678u; // read
} 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-07T09:11:38.553

您可以使用链接器脚本来做这种事情，这在嵌入式编程中很常见。

在 Linux 系统上，由于地址空间随机化，您可能永远不会获得相同的虚拟地址（一种安全功能，可避免依赖于了解您所描述的变量的确切位置的漏洞利用）。

如果它只是您想要的可重复指针，您可以使用 映射特定地址`mmap`，但这不能保证。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-07T09:16:44.843

就像其他答案中提到的那样 - 你不能。但是，您可以有一个解决方法。如果可以在 中初始化全局变量，则`main()`可以执行以下操作：

```
int addr = 0xff520000;

int main()
{
    *((int*)addr) = 42;
    ...
    return 0;
} 
```

但是请注意，这非常依赖于您的系统，如果在受保护的环境中运行，您很可能会遇到运行时崩溃。如果您在嵌入式/不受保护的环境中，这可以工作。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-07T09:10:19.313

不，您不能明确告诉它在内存中存储变量的位置。主要是因为在现代系统上，系统在内存方面做了很多事情，这是你无法控制的。地址布局随机化是一件让这变得非常困难的事情。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-10-07T14:17:11.027

如果您使用 XC8 编译器，请根据您的编译器。你可以简单地写 int x @ 0x12 ;

在这一行中，您在内存位置 0x12 中设置 x

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-07T09:16:07.187

您可以声明一个指向特定内存地址的指针，并将该指针的内容用作我想的变量：

```
int* myIntPointer = 0xff520000; 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-07T09:10:46.927

不在C级。如果使用汇编语言，则可以直接控制内存布局。但是 C 编译器会为您执行此操作。你真的不能乱来。

即使使用汇编，这也只能控制相对布局。虚拟内存可以将其放置在任何（不）方便的物理位置。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-03-07T09:14:26.587

您可以使用一些编译器扩展来做到这一点，但这可能不是您想要做的。操作系统会处理你的记忆，并将东西放在它想要的地方。你怎么知道你想要的内存地址会映射到你的程序中呢？如果您在嵌入式平台上，请忽略本段中的所有内容，那么您应该阅读该平台/编译器的手册，或者至少在此处提及它，以便人们可以给出更具体的答案。

此外，静态变量在程序运行时不一定具有相同的地址。许多操作系统使用与位置无关的可执行文件，并在每次执行时随机化地址空间。

# hibernate - 在带有 Hibernate 3.6.10 JPA 的 Scala Play 2.0.4 应用程序中使用 @MappedSuperclass 时发现 bitmap$init$0 的重复属性映射

> ID：15267012
> 
> 赞同：1
> 
> 时间：2013-03-07T09:08:04.393
> 
> 标签：hibernate, scala, jpa, playframework-2.0

有没有人见过这个异常并且知道如何解决这个问题？

我们有一个 Scala Play 2.0.4 项目和 Hibernate 3.6.10 作为 JPA 后端。

有问题的实体正在扩展一个用@MappedSuperclass 注释的类，即

```
@Entity
class EntityWithError(id: UUID,_name:String) extends Parent(id){

    @Column(name="name") var name = _name
}

@MappedSuperclass
abstract class Parent(_id: UUID) {

    @Id
    @Column(nullable = false, name = "id") val id: String = _id.toString()
} 
```

这会引发 org.hibernate.MappingException，并带有“找到 bitmap$init$0 的重复属性映射”。

有任何想法吗？

我创建了一个最小的 Play 2.0.4 项目来重现该问题：[https ://github.com/tinoadams/play_jpa_mappedsuperclass](https://github.com/tinoadams/play_jpa_mappedsuperclass)

干杯蒂诺

# ruby-on-rails - 用于 nil:NilClass 的 Rails 未定义方法“医院”

> ID：15267014
> 
> 赞同：0
> 
> 时间：2013-03-07T09:08:09.780
> 
> 标签：ruby-on-rails, validation, model-view-controller, exception

尊敬的人...

在我的应用程序中，我想显示给定员工的最后一个医院名称......

我为此尝试了这个：

```
<%= @employee.postings.last.hospital.hospital_name %> 
```

所有必需的关联都是正确的......因为这对所有有帖子的员工都非常有效......但是对于甚至没有一个帖子的员工，我得到了错误......

我试着做

```
<%= @employee.postings.last.hospital.hospital_name.to_s %> 
```

乃至

```
<% if !@employee.postings.last.hospital.nil? %> 
```

甚至是“尝试”功能....

我只是希望它在不存在数据时不显示任何数据......而不是令人生畏的错误......

如果我可以学习如何跳过打印 nil 值，那就太棒了..因为我在其他地方也面临着类似的问题......

例如：在我的员工主页中，我想显示我正在做的每个员工的所有资格：

```
<tbody>
<% @employees.each do |employee| %>
  <tr>
    <td><%= employee.emp_id %></td>
    <td><%= employee.emp_treasury_id %></td>
    <td><%= link_to employee.emp_full_name,employee_path(employee) %></td>
    <% @employee.qualifications.each do |qualification| %>
            <td><%= qualification.qualification_name.Qualification_name %></td>
    <% end %>
  </tr>
<% end %> 
```

但我最终再次收到“nil:NilClass 的未定义方法‘资格’”错误......我尝试了很多......但仍然......

感谢和诚挚的问候

-天空

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:11:20.813

使用`try`

```
<%= @employee.postings.last.try(:hospital).try(:hospital_name) %> 
```

使用`if`

```
<%= @employee.postings.last.hospital.hospital_name if @employee.postings.exists? && @employee.positings.last.hospital %> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:12:13.313

试试这个

```
<%= @employee.postings.last.try(:hospital).try(:hospital_name) || "N/A" %> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T09:15:49.827

它应该是

> 员工不是@employee

休息一下，使用 try 或 respond_to 会更安全。因为您可能没有运行迁移。

```
.respond_to?(:field) && model.try(:field) 
```

谢谢

```
<% @employees.each do |employee| %>
  <tr>
    <td><%= employee.emp_id %></td>
    <td><%= employee.emp_treasury_id %></td>
    <td><%= link_to employee.emp_full_name,employee_path(employee) %></td>
    <% employee.qualifications.each do |qualification| %>
            <td><%= qualification.try(:qualification_name).try(:Qualification_name) %></td>
    <% end %>
  </tr>
<% end %> 
```

# java - 扫描仪内部方法不等待答案

> ID：15267017
> 
> 赞同：3
> 
> 时间：2013-03-07T09:08:21.877
> 
> 标签：java, java.util.scanner

已经为此苦苦挣扎了一天，来回阅读论坛，没有结果。任何人都可以告诉我为什么函数 aMenu() 的第二次调用返回零而不等待新的用户输入？我尝试了各种方法，例如 hasNextInt()、nextLine()，但没有任何效果。hasNextInt() 在用户写东西之前不应该阻塞吗？我该如何解决这个问题？谢谢。

```
package FirstJavaPackage;
import java.util.Scanner;

public class testScanner
{
    public static void main(String[] args)
    {
        int choice = aMenu();
        System.out.println("You typed: "+choice);
        choice = aMenu();
        System.out.println("You typed: "+choice);
    }

    public static int aMenu()
    {
        int result = 0;
        System.out.println("In aMenu... enter an int: ");
        Scanner keyboard = new Scanner(System.in);
        if (keyboard.hasNextInt())
            result = keyboard.nextInt();
        keyboard.close();
        return result;
    }
} 
```

输出是：

在 aMenu... 中输入一个整数：2 您输入：2 在 aMenu... 输入一个整数：您输入：0

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:10:40.543

您需要`Scanner`在对以下的调用中重复使用相同的对象`aMenu()`：

```
public static void main(String[] args)
{
    Scanner keyboard = new Scanner(System.in);
    int choice = aMenu(keyboard);
    System.out.println("You typed: "+choice);
    choice = aMenu(keyboard);
    System.out.println("You typed: "+choice);
}

public static int aMenu(Scanner keyboard)
{
    int result = 0;
    System.out.println("In aMenu... enter an int: ");
    result = keyboard.nextInt();
    return result;
} 
```

如需进一步讨论，请参阅[如何在 System.in 上使用多个 Scanner 对象？](https://stackoverflow.com/questions/4232588/how-to-use-multiple-scanner-objects)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:22:57.380

由于`scanner.close`将关闭整个输入源，您应该将扫描仪传递给您的 aMenu 方法并执行以下操作：

```
import java.util.Scanner;

public class TestScanner
{
   public static void main(String[] args)
   {
      Scanner keyboard = new Scanner(System.in);
      int choice = 0;

      do
      {
         choice = aMenu(keyboard);
         System.out.println("You typed: " + choice);
      } while (choice > 0);

      keyboard.close();
    }

    public static int aMenu(Scanner keyboard)
    {
        int result = 0;
        System.out.println("In aMenu... enter an int: ");

        if (keyboard.hasNextInt())
           result = keyboard.nextInt();

        return result;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:14:06.897

在第一次调用之后，您实际上关闭了`System.in`输入流。

从[Scanner.close()](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html#close%28%29)文档：

> ```
> When a Scanner is closed, it will close its input source if the source 
> implements the Closeable interface. 
> ```

尽量不要在`close`你的扫描仪末尾`aMenu`：在方法之外初始化扫描仪`aMenu`并让方法使用它。

# r - knitr 被 data.table `:=` 赋值欺骗

> ID：15267018
> 
> 赞同：39
> 
> 时间：2013-03-07T09:08:23.240
> 
> 标签：r, data.table, knitr

似乎`knitr`不明白这不`DT[, a:=1]`应该导致`DT`文档的输出。有没有办法阻止这种行为？

## 示例`knitr`文档：

```
Data.Table Markdown
========================================================
Suppose we make a `data.table` in **R Markdown**
```{r}
DT = data.table(a = rnorm(10))
```
Notice that it doesn't display the contents until we do a
```{r}
DT
```
style command.  However, if we want to use `:=` to create another column
```{r}
DT[, c:=5]
```
It would appear that the absence of a equals sign tricks `knitr` into thinking this 
is to be printed. 
```

## 针织输出：

![在此处输入图像描述](../Images/03059a6392ace57972d2d65c1f199984.png)

这是一个`knitr`错误还是一个`data.table`错误？

**编辑**

我刚刚注意到，在编写代码`knitr`时这很奇怪。`echo`看看上面的输出。在我的源代码中，我有`DT[, c:=5]`，但`knitr`呈现的是

```
DT[, `:=`(c, 5)] 
```

奇怪的...

**编辑 2：缓存**

缓存似乎也有问题，`:=`但这一定是另一个原因，所以这里有一个单独的问题：[为什么 knitr 缓存对 data.table `:=` 失败？](https://stackoverflow.com/q/15298359/1900520)

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-03-07T10:13:22.490

**2014 年 10 月更新**。现在在 data.table v1.9.5 中：

> `:=`不再打印以与提示[#505](https://github.com/Rdatatable/data.table/issues/505)`knitr`处的行为保持一致。测试的输出现在在 data.table 的单元测试中。`knit("knitr.Rmd")`

和相关：

> `if (TRUE) DT[,LHS:=RHS]`现在不打印（感谢 Jureiss，[#869](https://github.com/Rdatatable/data.table/issues/869)）。添加了测试。为了让它工作，我们不得不忍受一个缺点：如果`:=`在函数内部使用 a 并且在函数`DT[]`结束之前没有 no ，那么下次`DT`在提示符下键入，不会打印任何内容。重复`DT`将打印。为避免这种情况：在函数`DT[]`的最后一个之后包含一个。`:=`如果这是不可能的（例如，它不是您可以更改的功能）`print(DT)`，那么`DT[]`保证在提示时打印。`[]`和以前一样，在查询末尾添加额外的内容`:=`是更新然后打印的推荐习惯用法；例如`> DT[,foo:=3L][]`

* * *

* * *

以前的答案留给后代（`global$depthtrigger`业务不再从 data.table v1.9.5 开始，所以这不再是真的）......

为了清楚起见，我明白了：`knitr`在你不想要的时候打印。

尝试`data.table:::.global$depthtrigger`在脚本开始时增加一点。

目前这将是 3 个：

```
data.table:::.global$depthtrigger
[1] 3 
```

我不知道 eval 深度`knitr`增加了多少堆栈。但是先尝试将触发器更改为 4；IE

```
assign("depthtrigger", 4, data.table:::.global) 
```

并在`knitr`脚本结束时确保将其设置回 3。如果 4 不起作用，请尝试 5，然后尝试 6。如果达到 10，请放弃，我会再考虑。;-P

为什么这行得通？

请参阅 v1.8.4 的新闻：

> `DT[,LHS:=RHS,...]`不再打印`DT`。这实现了#2128“再次尝试`DT[i,j:=value]`以隐形返回”。感谢此处的讨论：
> [在 v1.8.3 之前，如何在 R {data.table} 中使用 `:=` 时抑制输出？](https://stackoverflow.com/questions/11359553/how-to-suppress-output-when-using-in-r-data-table)
> [http://r.789695.n4.nabble.com/Avoiding-print-when-using-tp4643076.html](http://r.789695.n4.nabble.com/Avoiding-print-when-using-tp4643076.html)
> 常见问题解答 2.21 和 2.22 已更新。
> 
> *FAQ 2.21 为什么 DT[i,col:=value] 返回整个 DT？我期望要么没有可见值（与 <- 一致），要么是包含更新了多少行的消息或返回值。数据确实已通过引用进行更新并不明显。*
> 这在 v1.8.3 中已更改以满足您的期望。请升级。整个 DT 被返回（现在是不可见的）以便复合语法可以工作；例如，DT[i,done:=TRUE][,sum(done)]。当详细程度打开时，将返回更新的行数，无论是基于每个查询还是全局使用选项（datatable.verbose=TRUE）。
> 
> *FAQ 2.22 好的，谢谢。不可见地返回 DT[i,col:=value] 的结果有什么困难？*
> R 在内部强制为 [. FunTab 的 eval 列（参见 src/main/names.c）的值为 [ 是 0 表示强制 R_Visible on（参见 R-Internals 部分 1.6）。因此，当我们自己尝试 invisible() 或直接将 R_Visible 设置为 0 时， src/main/eval.c 中的 eval 会再次强制它打开。要解决这个问题，关键是在 := 之后停止尝试停止 print 方法的运行。相反，我们现在（从 v1.8.3 开始）在 := 内部设置了一个全局标志，打印方法使用它来知道是否实际打印。

那个全局标志是`data.table:::.global$print`. 在顶部`data.table:::print.data.table`你会看到它在看它。那是因为没有已知的方法来抑制打印`[`（如常见问题解答 2.22 所述）。

所以，在`:=`里面`[.data.table`它看起来看看这个调用有多“深”：

```
if (Cstack_info()[["eval_depth"]] <= .global$depthtrigger) {
    suppPrint = function(x) { .global$print=FALSE; x }
    # Suppress print when returns ok not on error, bug #2376.
    # Thanks to: https://stackoverflow.com/a/13606880/403310
    # All appropriate returns following this point are
    # wrapped i.e. return(suppPrint(x)).
} 
```

基本就是说：如果`DT[,x:=y]`在提示符下运行，那么我知道 REPL 将在我的结果上调用该`print`方法，这是我无法控制的。好的，所以给定`print`的方法将要运行，我将`print`通过设置一个标志在该方法中抑制它（因为`print`运行的方法（即`print.data.table`）是我可以控制的）。

在`knitr`这种情况下，它以一种巧妙的方式模拟 REPL。这不是一个真正的脚本，iiuc，否则`DT[,x:=y]`无论如何都不会因为这个原因打印出来。但是因为它是通过模拟 REPL 的，`eval`所以`eval`从`knitr`. 或类似的东西（我不知道`knitr`）。

这就是为什么我认为增加`depthtrigger`可能会起作用的原因。

哈克/粗鲁，我同意。但是，如果它有效，并且您让我知道哪个值有效，我可以更改`data.table`为`knitr`意识到并`depthtrigger`自动更改。或者任何更好的解决方案都是最受欢迎的。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-08-19T19:49:34.410

为什么不直接使用：

```
```{r, results='hide'}
DT[, c:=5]
``` 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2017-04-05T10:28:14.863

对于在 2017 年使用 RMarkdown 1.3 和 data.table 1.10 或类似版本返回此问题的任何人[，此错误再次出现，如在此处确定和记录的那样](https://github.com/Rdatatable/data.table/issues/1930)

这随后在 RMarkdown 1.4 中得到修复

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-05-09T08:17:16.307

只需用 invisible() 将表达式括起来。这对我有用。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-06-20T10:55:02.400

我遇到了同样的问题，我通过重新分配变量相当容易地解决了这个问题。在你的情况下：

```
DT <- DT[, ':=' (c, 5)] 
```

虽然它有点冗长，特别是如果变量名很大。

# yii - CActiveDateProvider 中未定义的属性

> ID：15267020
> 
> 赞同：2
> 
> 时间：2013-03-07T09:08:31.080
> 
> 标签：yii

控制器：

```
<?php
$dataProvider=new CActiveDataProvider('ClubMember', array(
                'criteria'=>array(                     
                    'select'=>'Count(`fb_user_id`) as total,  YEAR(`registerdate`) as year,registerdate',
                    'group' =>'WEEK(`registerdate`), YEAR(`registerdate`)',
                    'order' =>'registerdate DESC',                    
                    'condition'=>"t.club_id = '$club'",                                  
                ),
                'pagination'=>array(
                    'pageSize'=>10,
                ),                
            ));
?> 
```

查看页面：

```
<?php $this->widget('zii.widgets.CListView', array(
            'dataProvider'=>$dataProvider,
            'itemView'=>'_dispaly',
        )); ?> 
```

查看部分页面：

```
<?php echo $data->year; ?> 
```

当我尝试获取`$data->year`时，出现以下错误：

```
Property "ClubMember.year" is not defined. 
```

如何从上方访问属性“年份”？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:22:04.803

在您的班级中，您必须将它们添加为公共属性

```
class ClubMember extends CActiveRecord
{
    public $year;
    public $total;
    ....
    ...
} 
```

# c# - 从 datetimepicker 计算年龄并立即在文本框中显示该年龄

> ID：15267022
> 
> 赞同：1
> 
> 时间：2013-03-07T09:08:45.017
> 
> 标签：c#

我想从 datetimepicker 计算年龄。一旦用户从 datetimepicker 中选择日期，就会计算年龄，然后立即自动显示在年龄文本框中。这就是我在控制台应用程序中所做的

```
 int age = 0;
 DateTime currentDate = DateTime.Parse( DateTime.Now.Date.ToShortDateString());           
 Console.WriteLine(currentDate);
 Console.WriteLine("Please enter your birthdate");
 DateTime birthdate = DateTime.Parse( Console.ReadLine());
 age = currentDate.Year - birthdate.Year;
 if (currentDate.Month <birthdate.Month)
  {
       age--;
  }
 else if ((currentDate.Month >= birthdate.Month) 
            && (currentDate.Day < birthdate.Day))
 {
       age--;
 }

 Console.WriteLine(age); 
```

我可以在 winform 应用程序中执行相同的计算年龄逻辑。但在那之后我不知道如何在用户从 datetimepicker 中选择年龄后立即自动显示年龄文本框中的年龄。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-09-22T10:58:53.687

我知道回答为时已晚，但仍然，只需在 dateTimePicker 的 ValueChanged 事件中使用它，希望对某人有所帮助

```
private void dateTimePicker1_ValueChanged(object sender, EventArgs e)
        {
            int Age = DateTime.Today.Year - dateTimePicker1.Value.Year; // CurrentYear - BirthDate

             txtAge.Text = Age.ToString();
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:16:47.020

好的，这很简单。只需添加监听 datepicker 事件的`OnValueChanged`事件处理程序。请参阅[msdn](http://msdn.microsoft.com/en-gb/library/system.windows.forms.datetimepicker.aspx)页面以获取帮助。只需像这样设置文本框的值`myTextBox.Text = new calculated value`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:22:22.777

只需将 ValueChanged 事件添加到您的 DateTimePicker。

[MSDN ValueChanged 事件](http://msdn.microsoft.com/en-us/library/system.windows.forms.datetimepicker.valuechanged.aspx)

在表单更改其值后调用此事件。您的代码将如下所示：

```
dateTimePicker.ValueChanged += new EventHandler(dateTimePicker_ValueChanged);

void dateTimePicker_ValueChanged(object sender, EventArgs e)
{
    DateTime birthdate = dateTimePicker.Value;
    //Recalculate the birthdate and set Textbox
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T09:30:44.990

我认为你在这里有一个错误：

```
else if ((currentDate.Month >= birthdate.Month) 
            && (currentDate.Day < birthdate.Day))
 {
       age--;
 } 
```

它应该是`(currentDate.Month == birthdate.Month)`

# c# - 如何在 ListView 的 SelectionChanged 上调用 ViewModel 上的命令？

> ID：15267031
> 
> 赞同：3
> 
> 时间：2013-03-07T09:09:19.890
> 
> 标签：c#, wpf, listview, mvvm, command

在 MVVM/WPF 环境中，我想在引发 ListView 事件`ComputeCommand`时在 ViewModel 上调用命令 () 。`SelectionChanged`在 XAML 或 C# 中如何做到这一点？

这是我的命令类。我已经`MainViewModel.Instance.MyCommand.Execute();`在代码隐藏中尝试过，但它不接受这一点。

```
public class ComputeCommand : ICommand
{
    public ComputeCommand(Action updateReport)
    {
        _executeMethod = updateReport;
    }

    Action _executeMethod;

    public bool CanExecute(object parameter)
    {
        return true;
    }

    public event EventHandler CanExecuteChanged;

    public void Execute(object parameter)
    {
        _executeMethod.Invoke();
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T10:03:26.543

我真的推荐使用像[MVVM Light](http://mvvmlight.codeplex.com/)这样的 Mvvm 框架，所以你可以这样做：

XAML：

```
xmlns:MvvmLight_Command="clr-namespace:GalaSoft.MvvmLight.Command;assembly=GalaSoft.MvvmLight.Extras"
xmlns:Custom="clr-namespace:System.Windows.Interactivity;  assembly=System.Windows.Interactivity"

 <ListBox>
 ...
     <Custom:Interaction.Triggers>
          <Custom:EventTrigger EventName="SelectionChanged ">
             <MvvmLight_Command:EventToCommand PassEventArgsToCommand="False" Command="{Binding Path=ComputeCommand}"/>
          </Custom:EventTrigger>
     </Custom:Interaction.Triggers>

</Listbox> 
```

视图模型：

```
public RelayCommand ComputeCommand{ get; private set; } 
```

这是 IMO 一种优雅的方式，可以让您的活动线路保持整洁。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T09:24:58.150

要回答您的问题 - 您缺少一个参数。这个电话应该有效：

```
MainViewModel.Instance.MyCommand.Execute(null); 
```

但是，您不需要 ICommand，这个接口有不同的用途。

您需要的是在视图侧处理 SelectionChanged

```
var vm = DataContext as YourViewModelType;
if (vm != null)
{
    vm.Compute(); //some public method, declared in your viewmodel
} 
```

或通过绑定到项目容器的 IsSelected 属性在视图模型端处理它

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T10:25:40.843

通常：要在引发控件事件时调用命令，可以使用 EventTriggers。

```
<ListView>
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="SelectionChanged" >
            <i:InvokeCommandAction Command="{Binding CommandToBindTo}" CommandParameter="{Binding CommandParameterToBindTo}" />
        </i:EventTrigger>
    </i:Interaction.Triggers>
</ListView> 
```

为此，您需要在 XAML中引用*System.Windows.Interactivity.dll ：*

`xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"`

话虽如此，您应该使用 MVMM 框架，例如 MVVM 来简化一般命令的实现。从长远来看，为您需要的每个命令设置一个类是不可维护的。像 MVVMLight 或 PRISM 这样的框架提供了`DelegateCommands`允许您直接从委托（ViewModel 上的方法）创建新命令。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T09:19:32.747

首先，您必须为 定义一个绑定`Command`，因此必须在调用命令时执行该函数。

这*可以*在 XAML 中完成，例如：

```
<CommandBinding Command="name_of_the_namespace:ComputeCommand" Executed="ComputeCommandHandler" /> 
```

之后，您可以例如在某些类中初始化命令，例如：

```
 public class AppCommands {
    public static readonly ICommand ComputeCommand = 
             new   RoutedCommand("ComputeCommand", typeof(AppCommands));
 } 
```

之后可以像这样使用它：

```
 AppCommands.ComputeCommand.Execute(sender); 
```

当您处理 .so模式时`WPF`，`MVVM`您需要像往常一样编写更多的代码，但要受益于它的灵活性。

# c# - C# 中的 HashSet 是否有等效的 AddRange

> ID：15267034
> 
> 赞同：398
> 
> 时间：2013-03-07T09:09:33.760
> 
> 标签：c#, collections, hashset, addrange

使用列表，您可以：

```
list.AddRange(otherCollection); 
```

a 中没有添加范围方法`HashSet`。`ICollection`将另一个添加到 a的最佳方法是`HashSet`什么？

* * *

## 回答 #1

> 赞同：706
> 
> 时间：2013-03-07T09:12:08.677

因为`HashSet<T>`，名字是[`UnionWith`](http://msdn.microsoft.com/en-us/library/bb342097.aspx)。

这是为了表明不同的`HashSet`工作方式。你不能`Add`像 in 那样安全地给它一组随机元素`Collections`，有些元素可能会自然蒸发。

我认为`UnionWith`它在“与另一个合并`HashSet`”之后得名，但是，也有一个重载`IEnumerable<T>`。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-07T09:17:50.767

这是一种方式：

```
public static class Extensions
{
    public static bool AddRange<T>(this HashSet<T> source, IEnumerable<T> items)
    {
        bool allAdded = true;
        foreach (T item in items)
        {
            allAdded &= source.Add(item);
        }
        return allAdded;
    }
} 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2021-06-22T23:50:58.977

您还可以将[CONCAT](https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.concat?view=net-5.0)与 LINQ 一起使用。这会将一个集合或特别是一个附加`HashSet<T>`到另一个集合上。

```
 var A = new HashSet<int>() { 1, 2, 3 };  // contents of HashSet 'A'
    var B = new HashSet<int>() { 4, 5 };     // contents of HashSet 'B'

    // Concat 'B' to 'A'
    A = A.Concat(B).ToHashSet();    // Or one could use: ToList(), ToArray(), ...

    // 'A' now also includes contents of 'B'
    Console.WriteLine(A);
    >>>> {1, 2, 3, 4, 5} 
```

**注意：** `Concat()`创建一个全新的集合。此外，`UnionWith()`它比 Concat() 更快。

“ *... this ( `Concat()`) 还假设您实际上可以访问引用哈希集的变量并允许修改它，但情况并非总是如此。* ” – @PeterDuniho

# mysql - mysql排序结果不排除其他结果

> ID：15267038
> 
> 赞同：0
> 
> 时间：2013-03-07T09:09:51.460
> 
> 标签：mysql, sql-order-by

我有一个按国家/地区列出的本地化结果列表。我想首先得到有效国家 X 的结果，然后是其他国家的结果。那可能吗？

如果我设置 where "anno_country" = 1 ... 它会排除其他国家的结果。我想要“按国家/地区订购= 3”之类的东西...

目前，这是我的 MySQL 查询：

```
SELECT DISTINCT * 
FROM (`annonce`) 
JOIN possede USING (`anno_id`) 
JOIN annonceur USING (`ann_id`) 
JOIN lang_pays USING (`pays_id`) 
JOIN cat_lang USING (`cat_id`) 
WHERE 
    `cat_id` IN ('4', '9', '5', '426', '6', '435', '7', '3', '8', '2') 
    AND 
    `anno_active` = 1 
    AND 
    `anno_mode` = 1 
    AND 
    `cat_lang`.`lang_id` = '3' 
    AND 
    `lang_pays`.`lang_id` = '3' 
ORDER BY `anno_id` desc 
```

你有想法吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:11:38.633

你可以使用这个：

```
ORDER BY (country != 3), anno_id DESC 
```

这将在顶部显示 country = 3 的行，按 anno_id desc 排序，然后在底部显示 country!=3 的所有行，按 anno_id desc 排序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:15:49.753

> `SELECT * FROM`你的`ORDER BY (`国家`= 'X') DESC,`

这将首先按国家 x 排序，然后是其他国家。

# ios - 单元格顶部的图像

> ID：15267046
> 
> 赞同：2
> 
> 时间：2013-03-07T09:10:29.633
> 
> 标签：ios, uitableview

我可以将图像放在顶部`TableViewCell`而不是放在左侧吗？我用它把它放在单元格中：

**代码：**

```
cell.imageView.image = [UIImage imagenNamed:@"river.png"]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:12:27.390

您可以创建自定义单元格。您只需为单元格类型选择样式自定义。如果您使用的是静态单元格，您只需在单元格中插入一个 ImageView，将一个插座拖到控制器头文件并在代码中设置图像。

如果您使用动态单元格，最好为您的单元格创建一个新类。在界面构建器中为单元格设置自定义类。在自定义单元格类标题中为 imageview 创建和输出。然后在实例化单元格时`tableView:cellForRowAtIndexPath`，将单元格类设置为自定义单元格类并设置其属性。

有非常好的故事板教程，涵盖了动态和静态单元格表​​：
[iOS 中的故事板开始第 1 部分](http://www.raywenderlich.com/5138/beginning-storyboards-in-ios-5-part-1)
[开始 iOS 中的故事板第 2 部分](http://www.raywenderlich.com/5191/beginning-storyboards-in-ios-5-part-2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:40:10.703

您已将imageview**的框架设置为**`cellforRowAtIndexPath`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T10:03:03.767

是的你可以。为此，您必须使用自定义 tableview 单元格。您可以为 tableview 单元格使用单独的 XIB 来设计它。可能这个[链接](https://stackoverflow.com/questions/4195726/how-to-create-custom-tableviewcell-from-xib)会帮助你。

或在谷歌上搜索更多示例，它易于实现。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T10:24:47.693

对于异步图像下载和显示在桌子上，请使用：转到[https://github.com/enormego/EGOImageLoading](https://github.com/enormego/EGOImageLoading) 并下载类。然后在你的 .h 文件中：

```
@class EGOImageView;

 EGOImageView *imageIconView;    // object for caching the images 
```

并在 .m 文件中

```
#import "EGOImageView.h"
#import "EGOCache.h"

-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
 {
 UITableViewCell * cell=[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"Cell"];

imageIconView=[[EGOImageView alloc] initWithPlaceholderImage:[UIImage imageNamed:@"icon72x72.png"]];
[self setFlickrPhoto:[NSString stringWithFormat:@"yourimageurl"];
imageIconView.frame=CGRectMake(0, 0, 120, 100);
[cell addSubview:imageIconView];
return cell;
}

- (void)setFlickrPhoto:(NSString*)flickrPhoto
{

imageIconView.imageURL = [NSURL URLWithString:flickrPhoto];

} 
```

# joomla - 从 HTML 文件到 Joomla 到 Wordpress 的迁移

> ID：15267049
> 
> 赞同：1
> 
> 时间：2013-03-07T09:10:35.403
> 
> 标签：joomla, wordpress, data-migration

我知道存在将 Joomla 迁移到数据库级别的 Wordpress 的工具。但我的问题是我无法再访问 Joomla 数据库了。我只有整个 Joomla！2 年前拍摄的 1.0.x 站点的本地副本。是否可以将这些帖子迁移到我的 Wordpress 网站？

还是应该将所有内容复制粘贴到 CSV 文件并使用 Excel 导入器？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T21:02:59.487

如果您没有数据库，那么您就没有内容。Joomla 网站上的所有内容都存储在数据库中。如果您只有 Joomla 文件，则无需复制和粘贴到 CSV。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T00:44:01.863

不是专门针对 Joomla 的，但我在过去几次从一些自定义 Cms 迁移时做过这样的事情

这取决于您的网站有多大以及需要迁移多少信息（以及它的复杂性），但您始终可以选择 HTML `SCRAPPING`/ `PARSING`. 从这一点来说，GIYBF。还有你的编码技巧。

恕我直言，最好的一个是[Simple HTML DOM](http://simplehtmldom.sourceforge.net/manual.htm)，另一个很多人推荐但我个人从未使用过的是[htmlSQL](https://github.com/hxseven/htmlSQL) 和[phpquery](http://code.google.com/p/phpquery/)。

但也有很多关于[谷歌](https://www.google.co.jp/search?q=HTML%20scrapping%20PHP&ie=utf-8&oe=utf-8&aq=t&rls=org.mozilla:en-US:official&client=firefox-a)的教程（[这里还有](https://www.google.co.jp/search?q=HTML%20scrapping%20PHP&ie=utf-8&oe=utf-8&aq=t&rls=org.mozilla:en-US:official&client=firefox-a#client=firefox-a&hs=sfm&rls=org.mozilla:en-US:official&sclient=psy-ab&q=HTML%20scrapping%20PHP%20tutorials&oq=HTML%20scrapping%20PHP%20tutorials&gs_l=serp.3...69582.72699.0.72855.10.10.0.0.0.0.226.1246.0j5j2.7.0...0.0...1c.1.5.psy-ab.lw-D9aQl-04&pbx=1&bav=on.2,or.r_qf.&bvm=bv.43287494,d.dGI&fp=51e9216bba78bad&biw=1680&bih=857)示例[TUT](http://net.tutsplus.com/tutorials/php/html-parsing-and-screen-scraping-with-the-simple-html-dom-library/)）解释如何做到这一点，还有很多[关于 SE 的问题](https://stackoverflow.com/search?q=simple%20HTML%20DOm%20)和一个[选项列表](https://stackoverflow.com/questions/2861/options-for-html-scraping)（不是 PHP 独有的）。另一个选项（基本相同，但没有库）是 go 或 REGEX ，就像在这个非常[简单的示例](http://www.thefutureoftheweb.com/blog/web-scrape-with-php-tutorial)中一样..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T17:01:46.493

尝试使用此脚本。[http://azeemkhan.info/2008/joomla2wordpress-import-wizard-v3/](http://azeemkhan.info/2008/joomla2wordpress-import-wizard-v3/)请注意，您需要先安装旧版本的 wordpress，然后升级您的 wordpress 版本。

这里有一个有用的指南，[这里](http://www.iamboredsoiblog.eu/2009/04/joomla-migration-to-wordpress.html#more)有关于 utf-8 支持的[信息](http://www.iamboredsoiblog.eu/2009/04/joomla2wordpress-import-wizard-with-utf.html#more)。

希望这可以帮助

# postgresql - PostgreSQL - 正确更改表行的 ID

> ID：15267050
> 
> 赞同：11
> 
> 时间：2013-03-07T09:10:39.187
> 
> 标签：postgresql, postgresql-9.2

如何更改某些表行的ID？

喜欢：

```
UPDATE table SET id=10 WHERE id=5; 
```

但是，它会将更改级联到使用该 ID 引用该表的所有其他表吗？

我想这样做，因为我需要从另一个数据库中导入数据，该数据库具有大部分相同的表，但 id 不同。因此，如果 id 与旧数据库匹配，则正确导入数据会更容易。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-07T11:45:58.070

假设您有这两个表：

```
create table referenced (id integer primary key);
create table referencer (a integer references referenced (id)); 
```

表引用者引用表引用：

```
=> \d referencer
  Table "public.referencer"
 Column |  Type   | Modifiers 
--------+---------+-----------
 a      | integer | 
Foreign-key constraints:
    "referencer_a_fkey" FOREIGN KEY (a) REFERENCES referenced(id) 
```

然后在两者中插入一个值：

```
insert into referenced values (1);
insert into referencer values (1);

select *
from
    referenced rd
    inner join
    referencer rr on rd.id = rr.a
;
 id | a 
----+---
  1 | 1 
```

现在您要将引用更改为`on update cascade`：

```
alter table referencer
    drop constraint referencer_a_fkey,
    add foreign key (a) references referenced (id) on update cascade; 
```

并更新它：

```
update referenced set id = 2;

select *
from
    referenced rd
    inner join
    referencer rr on rd.id = rr.a
;
 id | a 
----+---
  2 | 2 
```

现在，如果更新的 id 已经存在，那么在引用的表主键中将出现另一个问题。但这会提出另一个问题。

## 更新

这很危险，因此请先备份数据库。必须以超级用户身份完成：

```
update pg_constraint
set confupdtype = 'c'
where conname in (
    select
        c.conname
    from
        pg_constraint c
        inner join
        pg_class referenced on referenced.oid = c.confrelid
    where
        referenced.relname = 'referenced'
        and
        c.contype = 'f'
); 
```

它将引用表上的所有外键约束更改为`on update cascade`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-07T09:24:29.083

您将需要更改外键并将`ON UPDATE`操作设置为`CASCADE`. 当您更改一个值时，所有关联的值也将更改。

这是一个如何定义它的示例：

```
CREATE TABLE order_items (
    product_no integer REFERENCES products ON UPDATE CASCADE,
    order_id integer REFERENCES orders ON UPDATE CASCADE,
    quantity integer,
    PRIMARY KEY (product_no, order_id)
); 
```

有关更多信息，请参阅[http://www.postgresql.org/docs/current/static/ddl-constraints.html](http://www.postgresql.org/docs/current/static/ddl-constraints.html)

# javascript - 如何使用 XML 和 Javascript/Jquery 从 Twitter 检索用户推文？

> ID：15267067
> 
> 赞同：0
> 
> 时间：2013-03-07T09:11:01.923
> 
> 标签：javascript, jquery, ajax, twitter

我正在尝试从 Twitter XML URL 检索数据。在这里，我为它编写了代码。但它不工作。你能告诉我如何使用 XML 和 AJAX 从 URL 中检索推文和用户名吗

```
<script type="text/javascript">
$.ajax(
{  
    type: "POST",  
    url: "https://api.twitter.com/1/statuses/user_timeline.xml?screen_name=rushijogle",  
    data: "whatever",
    dataType: "xml",
    async: false,
    success: function(xml){

                var xmlDoc;

                if (window.DOMParser) {
                    parser = new DOMParser();
                    xmlDoc = parser.parseFromString(xml, "text/xml");
                }
                else // Internet Explorer
                {
                    xmlDoc = new ActiveXObject("Microsoft.XMLDOM");
                    xmlDoc.async = "false";
                    xmlDoc.loadXML(xml);
                }

                var $response = $(xmlDoc);

             var data = $response.find("favorited").text()

        alert(data);
    }
});
</script> 
```

演示链接：- [http://jsfiddle.net/be9y6/](http://jsfiddle.net/be9y6/)

提前感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:16:18.747

Twitter[不再支持 XML](https://dev.twitter.com/docs/api/1.1/overview)。此外，我不知道您使用的原因`POST`，如果那是`GET`- 但可能是我不熟悉您尝试用作源的演示。无论如何，如果您尝试发布最喜欢的内容（这是我从您的代码中看到的），您应该切换到 json 及其 API 1.1 协议。他们不支持 XML 我希望这会有所帮助。

# android - opengl 在不同的安卓手机上处理深度的方式不同吗？

> ID：15267069
> 
> 赞同：0
> 
> 时间：2013-03-07T09:11:05.753
> 
> 标签：android, opengl-es, depth

我在发布之前测试了我的新游戏，我发现在某些设备上，Z 位置在某些情况下似乎混淆了，并且应该出现在顶部的对象出现在下面。

我正在运行 opengl es 1，它在我的三星 Galaxy S2（以及我测试过的所有三星设备）上完美运行，但在 HTC Desire 上出错了。

有没有人有任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T16:19:09.857

能给我们提供一些图片和源代码吗？常见的深度缓冲区问题会导致一些条带问题，但您的问题似乎与某些默认驱动程序状态更相关，根据您运行的硬件设置不同的值。

我建议您生成一个非常简单的示例并从头开始，直到找到问题所在，我认为我们无法用这么少的信息帮助您。

希望有帮助。

# ruby-on-rails - rails：如何覆盖基于子域的语言环境？

> ID：15267071
> 
> 赞同：4
> 
> 时间：2013-03-07T09:11:18.433
> 
> 标签：ruby-on-rails, ruby-on-rails-3, internationalization, rails-i18n

我使用标准的 Rails 机制对我的应用程序进行了国际化和本地化。一切都存储在 en、fr、de.yml 文件中。

我的应用程序是基于子域的多租户。

我想让我的用户覆盖应用程序中的某些翻译（例如，将“员工”更改为“关联”，因为它与他们自己的术语相匹配）。

我试图根据每个请求更改我的 yml 文件的加载路径，但无济于事。

任何想法，对于每个请求，我如何首先在我的用户特定的 yaml 文件中查找，如果翻译没有被覆盖，则回退到默认的 yaml 文件？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-05-14T18:24:10.657

假设您将子域存储在控制器过滤器的实例变量中，您可以覆盖翻译助手以首先使用特定于子域​​的范围进行查找，然后回退到指定或默认范围。像这样的东西：

```
module ApplicationHelper

  def t(key, original_options = {})
    options = original_options.dup
    site_translation_scope = ['subdomain_overrides', @subdomain.name]
    scope =
      case options[:scope]
      when nil
        site_translation_scope
      when Array
        options[:scope] = site_translation_scope + options[:scope]
      when String
        [site_translation_scope, options[:scope]].join(".")
      end
    translate(key, options.merge(:scope => scope, :raise => true))
  rescue I18n::MissingTranslationData
    translate(key, original_options)
  end

end 
```

然后您添加您的子域特定覆盖，如下所示：

```
en:
  customer: Customer
  subdomain_overrides:
    subdomain_1:
      customer: Buyer 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-01-26T14:49:57.570

如果您想允许租户使用特定语言但回退到默认语言，我编写了一个微型[**库**](https://github.com/ElMassimo/i18n_multitenant)来完成工作：

[https://github.com/ElMassimo/i18n_multitenant](https://github.com/ElMassimo/i18n_multitenant)

它负责配置`I18n`回退到基本语言环境，允许您使用租户特定的翻译（如果可用）。它旨在与静态`.yml`文件的默认后端一起使用，但它也应与其他`I18n`后端一起使用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-21T06:49:31.640

我最近创建`I18n_global_scope`了完全符合您描述的 gem，请查看源代码[https://github.com/mobilityhouse/i18n_global_scope](https://github.com/mobilityhouse/i18n_global_scope)并让我知道您的反馈。

# c# - 选择文件夹中的html文件

> ID：15267075
> 
> 赞同：0
> 
> 时间：2013-03-07T09:11:29.263
> 
> 标签：c#

使用“folderBrowserDialog1”我可以只选择文件夹中的 HTML 文件。

我的代码是这样的：

```
private void btnBrowse_Click(object sender, EventArgs e)
{
   DialogResult result = folderBrowserDialog1.ShowDialog();
   if (result == DialogResult.OK)
    {
       string[] files = Directory.GetFiles(folderBrowserDialog1.SelectedPath);
       MessageBox.Show("Files found: " + files.Length.ToString(), "Message");
    }
 } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T09:12:54.110

使用：[DirectoryInfo.GetFiles 方法（字符串）](http://msdn.microsoft.com/en-us/library/8he88b63.aspx)

> 从当前目录返回与给定搜索模式匹配的文件列表。

```
string[] files = Directory.GetFiles("*.html"); 
```

或者，如果您只想`html`文件可供选择，您可以使用：

[打开文件对话框](http://msdn.microsoft.com/en-us/library/system.windows.forms.openfiledialog.aspx)

```
folderBrowserDialog1.Filter = "*.html | *.htm"; 
```

# c++ - 如何区分从pop3服务器发送和接收的电子邮件（使用POCO c++）

> ID：15267084
> 
> 赞同：1
> 
> 时间：2013-03-07T09:11:52.900
> 
> 标签：c++, ssl, gmail, poco, pop3

我发现在从 gmail 的 pop3 服务器检索消息列表时，所有内容都会被拉取、已读/未读、已发送/已接收邮件：

```
int idx, count;
Poco::Net::Context::Ptr pContext = new
    Poco::Net::Context (Poco::Net::Context::CLIENT_USE,
                        "", Poco::Net::Context::VERIFY_NONE, 9, true);
pContext->enableExtendedCertificateVerification(false);
Poco::Net::SocketAddress addr("pop.gmail.com", p995);
Poco::Net::SecureStreamSocket sss(addr, pContext);
POP3ClientSession session(sss);

try
{
    vector<POP3ClientSession::MessageInfo>::const_iterator i;
    session.login(the_user.data(), the_pass.data());
    POP3ClientSession::MessageInfoVec messages;

    count = session.messageCount();
    session.listMessages(messages);

    for(idx = 0, i = messages.begin(); i != messages.end(); ++i, idx++)
    {
        MailMessage message;
        session.retrieveMessage((*i).id, message);
        // ..
    }
} 
```

在相关帖子（[如何使用 pop3 检索未读电子邮件？](https://stackoverflow.com/questions/3576354/how-to-retrieve-just-unread-emails-using-pop3)）中有人提到“POP3 无法跟踪邮件是已读还是未读”——这是否也适用于入站和出站消息？如果是这样，您如何区分消息类型？通过解析消息体？

我真的可以使用一种方法来跳过发送的邮件，有数千封邮件，程序需要运行一整夜才能到达入站电子邮件。

# jquery - htaccess：服务器响应状态为 500

> ID：15267091
> 
> 赞同：1
> 
> 时间：2013-03-07T09:12:15.090
> 
> 标签：jquery, ajax, apache, .htaccess, codeigniter

**在 localhost 中工作的原始代码：**

```
var form_data = {
                    'email':$('#inviteEmail').val(),
              };

    $.ajax({
            url: "<?php echo site_url('invites/save_email') ?>",
            type: 'POST',
            data: form_data,
            success: function(msg) {
                window.location.href = "<?php echo site_url('invites/moreinvites')?>"
                return true;
            }
    }); 
```

它在 localhost 上运行良好，并且 CSRF 已关闭。但是当我把它移到媒体殿堂托管时，我开始得到`500 Internal server error`.

**服务器错误日志**

> 由于可能的配置错误，请求超出了 10 个内部重定向的限制。如有必要，使用“LimitInternalRecursion”增加限制。使用“LogLevel debug”获取回溯。

我的 htaccess 文件有这个

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /thesavv/
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ index.php?/$1 [L]
</IfModule>

<IfModule !mod_rewrite.c>
    # If we don't have mod_rewrite installed, all 404's
    # can be sent to index.php, and everything works as normal.
    # Submitted by: ElliotHaughin

    ErrorDocument 404 /index.php
</IfModule> 
```

我不知道这个错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T22:14:14.450

我在使用主机时遇到了同样的错误：在本地运行良好的东西在生产服务器上确实显示了 500 错误。

这是一个典型的错误，Joomla 安装时从 url 中删除 index.php 时有相同的问题，问题是由于您的 htaccess 文件，如果您更改您编写的 Rewrite 规则以避免 URL 中的 index.php，它应该可以工作. 只需删除问号：

`RewriteRule ^(.*)$ index.php?/$1 [L] **TO** RewriteRule ^(.*)$ index.php/$1 [L]`

也许它会工作。我想我记得那是由于 URI PROTOCOL 使用 CI 的那种（你可以在 application/config/config.php，第 33 行看到这一点），但不完全确定，也许有人可以更好地解释它，:P

# java - Android 活动中的静态视图字段

> ID：15267094
> 
> 赞同：0
> 
> 时间：2013-03-07T09:12:19.233
> 
> 标签：java, android

如果我在 Activity 中将所有字段标记为静态，可以吗？它会提高性能吗？我的意思是，`Activity`只创建一次，不需要很多实例。这是一个例子：

```
private static Spinner mNtries;
private static Spinner mTies;
private static Spinner mTions;
private static Button mTButton;
private static Button mDButton; 
```

或者这不是好的做法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:18:54.127

问题是，你为什么想要静态字段？我认为你应该尽可能避免静态的东西。如果你使用静态，那么你可能有内存泄漏。

看起来您想将视图用作静态视图，而良好的实践表明您应该只将它们用作非静态视图，因为确实没有需要它们静态的场景。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:20:58.557

大**不**你`static`活动中的字段不会提高性能，一旦你的活动被类加载器加载，你的所有静态字段也被加载，静态变量或常量将不会被垃圾收集。

# codeigniter - 将样板js与codeigniter一起使用

> ID：15267095
> 
> 赞同：1
> 
> 时间：2013-03-07T09:12:21.027
> 
> 标签：codeigniter, boilerplatejs

将 codeIgniter 与 BoilerplateJS 一起使用的最佳方法是什么？我应该将 codeIgniter 文件夹放在 BoilerplateJS 文件夹中还是相反？或者是其他东西？需要在 codeigniter 中创建一个身份验证页面并在boilerplateJS 中重定向应用程序。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T14:35:41.630

![文件结构](../Images/a0938f03374b6ecfe891ee8e7456da84.png)

我通过以下方式尝试了带有 CI 的 BoilerplateJS：

基本上这包括 CodeIgniter 文件夹中的 BoilerplateJS。

我将除索引文件之外的所有 BoilerplateJS 代码都包含在一个名为 public 的文件夹中，该文件夹位于 CodeIgniter 的根文件夹中。索引文件放置在视图文件夹中，并将由控制器加载。（见图）

为此，必须调整一些文件路径。

1.  Boilerplatejs 索引文件（在我的例子中为 boilerplate.html）中的文件路径必须更改如下：

    `./libs/jquery/jquery-min.js >>to>> public/libs/jquery/jquery-min.js`

    `./libs/underscore/underscore-1.3.3.js >>to>> public/libs/underscore/underscore-1.3.3.js` 等等。

2.  在`main.js`requirejs 路径配置应更改为：

    ```
    require.config({
        //Let's define short alias for commonly used AMD libraries and name-spaces. 
        paths : {
            // requirejs plugins in use
            text : 'libs/require/text',
            i18n : 'libs/require/i18n',
            path : 'libs/require/path',
            // namespace that aggregate core classes that are in frequent use
            Boiler : './app/core/_boiler_'
        }
    }); 
    ```

在您的控制器中，您可以通过以下方式加载boilerplatejs：`$this->load->view('boilerplate.html');`

~~我正在考虑集成 BoilerplateJS 和 CodeIgniter 并且可能使用[codeignighter-rest 服务器](https://github.com/philsturgeon/codeigniter-restserver)一段时间。~~

~~如果一切顺利，我将在一周内分享代码。~~

示例项目位于：[https ://github.com/slayerjay/codeigniter-boilerplatejs](https://github.com/slayerjay/codeigniter-boilerplatejs)

**编辑**添加我对 CodeIgniter 和 BoilerplateJS 的看法

首先，我（还）没有用 BoilerplateJS 和 Codeigniter 完成任何重大项目。但是我已经使用 CI 和 CI REST Server 完成了项目，并且了解 BoilerplateJS 的进出。

我对其他 PHP 框架没有太多经验（我曾使用过 cakePHP 和其他一些框架），但对我来说，CI 帮助我按照 MVC 模式以一种干净的方式组织我的代码，并提供了出色的帮助库和文档。

正如 OP 正确所说，身份验证在 BoilerplateJS 之外处理得最好，这可以通过CI[的 ion-auth 之类的东西很好地完成。](http://benedmunds.com/ion_auth/)在用户通过身份验证并加载 SPA 后，其余调用将由 CodeIgniter REST 服务器处理。在这种情况下，您将不会使用`View`MVC 架构的大部分方面，但 CI 的模型和助手会很有帮助。

如果您只需要一个简单的 REST 服务器，您可以使用一些仅提供 REST 类型路由的轻量级解决方案，但在许多情况下，您需要与数据库交互并进行一些数据处理。

因此，如果您决定为您的应用程序使用 PHP 后端，带有 REST 服务器的 Codeigniter 是一个不错的选择。

# mysql - 在服务器执行 SQL 脚本 ERROR: Error 1005: Can't create table (errno: 150)

> ID：15267099
> 
> 赞同：1
> 
> 时间：2013-03-07T09:12:34.890
> 
> 标签：mysql, sql

我在创建表时遇到问题。

问题在于创建与另一个表的外键/关系。

互联网告诉我检查列类型并检查它是否与我引用的列相同。和它一样。

互联网给我的其他解决方案没有用所以有人可以帮助我吗？

这是查询：

```
CREATE  TABLE IF NOT EXISTS `finprodb`.`tblproject` (
  `prj_id` INT(11) NOT NULL AUTO_INCREMENT ,
  `prj_nummer` VARCHAR(45) NOT NULL ,
  `prj_omschrijving` TEXT NULL DEFAULT NULL ,
  `prj_verkoop_waarde` DECIMAL(20,4) NULL DEFAULT NULL ,
  `prj_gereed` TINYINT(4) NULL DEFAULT NULL ,
  `prj_bedr_id` INT(11) NOT NULL ,
  PRIMARY KEY (`prj_id`) ,
  UNIQUE INDEX `prj_id_UNIQUE` (`prj_id` ASC) ,
  INDEX `fk_tblproject_tblbedrijf1_idx` (`prj_bedr_id` ASC) ,
  CONSTRAINT `fk_tblproject_tblbedrijf1`
    FOREIGN KEY (`prj_bedr_id` )
    REFERENCES `finprodb`.`tblbedrijf` (`bedr_id` )
    ON DELETE SET NULL
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_general_ci 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:15:31.753

`ON DELETE SET NULL`不顺利`prj_bedr_id INT(11) NOT NULL`

使列可以为空（删除`NOT`）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:18:25.983

我不太了解 MYSQL，但在 DB2 中，除非在父表中引用的列上存在唯一索引，否则无法创建关系。上是否有唯一索引`finprodb`。`tblbedrijf`( `bedr_id`) ?

# emacs - 如何让 Emacs 缓冲区堆栈忽略某些类型的文件？

> ID：15267103
> 
> 赞同：1
> 
> 时间：2013-03-07T09:12:47.463
> 
> 标签：emacs

在 Emacs 中，我使用一个叫做`buffer-stack`查看和浏览我的打开缓冲区的东西，如果我不知道我想去哪个缓冲区，但我只想直观地查看打开的缓冲区（实际内容，而不是文件名） . 我有一个键绑定 for`buffer-stack-up`和另一个 for `buffer-stack-down`，它允许我在它们之间左右滚动。

我想从这种行为中排除某些类型的缓冲区。我已经可以通过在名为 的变量中指定完整的缓冲区名称来排除特定的缓冲区`buffer-stack-untracked`，例如我可以标记`*Messages*`为未跟踪。

如何使用 REGEXP 将某些缓冲区指定为未跟踪？例如，我想排除包含 REGEXP`Help`或的缓冲区`.html`，即使我无法预测整个文件名。

我该怎么做呢？如果使用 无法做到这一点`buffer-stack`，那么什么包会给我我想要的行为？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:53:59.137

我相信这将是一个很好的起点。

```
(defun buffer-stack-filter-regexp (buffer)
  "Non-nil if buffer is in buffer-stack-tracked."
  (not (or (string-match "Help\\|html" (buffer-name buffer))
           (member buffer buffer-stack-untracked))))
(setq buffer-stack-filter 'buffer-stack-filter-regexp) 
```

# javascript - JavaScript 逗号和变量求值

> ID：15267106
> 
> 赞同：6
> 
> 时间：2013-03-07T09:12:54.077
> 
> 标签：javascript

“JavaScript：权威指南，第 6 版”一书在第 4.13.5 节中指出 -

```
"i=0, j=1, k=2; evaluates to 2" 
```

但是当我显示这样的值时 -

```
var x = i=0, j=1, k=2; alert(x); 
```

或者

```
alert(i=0, j=1, k=2); 
```

显示值`0`。我进行了实验，无论`i`设置的值如何，都会显示出来。

书好像错了。谁能解释这本书所说的陈述是什么意思`evaluates to 2`？这是错的吗？

谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-07T09:14:40.433

`alert( i = 0, j = 1, k = 2 );`逗号分隔函数参数。

概括地说，它的工作原理就像书中所说：

```
alert( ( i = 0, j = 1, k = 2 ) ); 
```

请注意，这本书的全部内容是表达式`"i = 0, j = 1, k = 2"` `"evaluates to 2"`在许多情况下，您需要将该表达式放在括号内，使其成为一个独立的表达式，就像本书想要的那样。

在变量声明中，逗号再次具有特殊行为。它允许您编写更短的声明，因为您不必重复`var`：

`var a; var b; var c;`并且`var a, b, c;`是平等的。`var a = 5; var b = 6; var c = 7;`和_`var a = 5, b = 6, c = 7;`

逗号在数组和对象字面量中也有特殊行为：

```
 var a = [1,2,3] //Creates an array with elements 1, 2 and 3
   var a = [(1,2,3)] //Creates array with one element: 3

   var b = {
       key: value, //Comma is separating the key-value pairs.
       key2: value2
   } 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-07T09:15:32.187

这是关于 javascript 语句的优先级，它`=`在评估**另一个语句**之前完成所有操作，该语句用您放置的逗号表示。

尝试`var x = (i=0, j=1, k=2);`，你会得到你想要的。

**编辑**

使用您的代码行`var x = i=0, j=1, k=2;`，它实际上解释为三个语句：

1.  `var x=i=0`
2.  `var j=1`
3.  `var k=2`

预期会`alert(x);`产生 a `0`。

请注意，逗号运算符在语句中的执行优先级相对较低，因此在大多数情况下它确实共享前面的关键字，只有少数例外（例如`var`（最低优先级关键字之一））将变量保持在当前范围内。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T09:17:12.633

这里的逗号仅仅意味着你传递了 3 个参数而不是一个，所以 alert 优雅地忽略了其他两个，它不会评估任何东西。采用

```
alert((i=0, j=1, k=2)); 
```

和

```
var x = (i=0, j=1, k=2); alert(x); 
```

# java - Web Flow 中的简单变量

> ID：15267107
> 
> 赞同：9
> 
> 时间：2013-03-07T09:12:54.713
> 
> 标签：java, spring, jsf, spring-webflow

我`view-state`在**flow.xml**中有所不同。所有这些州都有相同的看法。现在我想设置一个只包含一个字符串的变量，并在视图文件中调用它来自定义内容。
这是我的文件：
**flow.xml**：*对于视图状态的示例两个*

```
<view-state id="rcpm" view="rc/rcmembers.xhtml">
    <on-entry>
        <evaluate expression="RCHtmlCache.getCommunityList('rcpm')"
            result="flowScope.members" />
    </on-entry>
</view-state>

<view-state id="rcarch" view="rc/rcmembers.xhtml">
   <on-entry>
        <evaluate expression="RCHtmlCache.getCommunityList('rcarch')"
            result="flowScope.members" />
    </on-entry>
</view-state> 
```

在这个文件中，我需要一个带有视图状态 ID 值的变量，例如“rcarch”。

**rcmembers.xhtml** *只是我要调用变量的代码部分*

```
<p:panel id="panel" header="Memberslist of **Here comes the value of the variable"> 
```

希望你能理解我的问题...

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-07T15:49:06.633

你有两个选择：

首先，您可以在流定义级别定义它并直接将其公开给视图：

```
<on-entry>
   <set name="flowScope.myView" value="flowRequestContext.currentState.id"/>
</on-entry> 
```

或者您可以将流上下文传递给控制器​​，然后在那里公开它：

```
<evaluate expression="RCHtmlCache.getCommunityList(flowRequestContext)" result="flowScope.members"/> 
```

在控制器上：

```
public String getCommunityList(RequestContext context) {
   context.getFlowScope().put("myView", context.getCurrentState().getId());
   ...
} 
```

希望有帮助

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-08T09:28:15.553

在这个问题之后，一些用户问我，如何使用字符串值设置一个简单的变量。所以**xpadro**的回答对我帮助很大，但是有些用户点击这个问题就知道如何用字符串值设置一个简单的变量。所以我想在这里发布答案：
使用**xpadro**的代码，只需将值替换为您想要包围的字符串`'`：

```
<set name="viewScope.variable" value="'String you want'" /> 
```

就像**xpadro**说的那样，`set`标签应该留在`on-entry`......
并且知道`Scope`你应该使用哪个，看看[http://static.springsource.org/spring-webflow/docs/2.0.x/reference/html/ch03s05 .html](http://static.springsource.org/spring-webflow/docs/2.0.x/reference/html/ch03s05.html)。

希望我能帮助某人:)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-07T15:18:43.477

为什么不为此视图状态创建一个子流？

这样你就可以为你的变量输入一个输入，并从任何地方调用它。不需要有多个相同的视图状态。

# c# - 亚马逊产品广告 API WCF4 示例

> ID：15267109
> 
> 赞同：0
> 
> 时间：2013-03-07T09:13:01.900
> 
> 标签：c#, wcf, api, soap, amazon

我尝试让 Amazon PAAPI C#[示例](http://aws.amazon.com/code/Product-Advertising-API/3941)运行，但我`ItemSearchResponse`的始终为空。

我做了什么：

1.  设置我的`accessKeyId`和`secretKey`。`app.config`（VS2012 通过行为具有无效子元素签名行为的方式发出警告？！）
2.  `<xs:element minOccurs="0" maxOccurs="1" name="ImageSets">`在 AWSECommerceService.wsdl 中设置
3.  运行自定义工具`Reverence.svcmap`
4.  更正了 Reference.cs 中的命名空间
5.  在 program.cs 中：`itemSearch.AssociateTag = "myassociateTag-20";`

我究竟做错了什么？在 Fiddler 中，我似乎对我的请求得到了正确的回应。至少我在 xml 中获得搜索结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:43:29.290

示例中的 wsdl 似乎不正确。

我把它换成了

[http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl](http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl)

通过复制和粘贴并再次执行步骤 2,3 和 4。现在它可以工作了

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-25T15:19:07.737

“运行自定义工具”在 Visual Studio 2012 下不可用。因此我只能在 VS2010 下使用它。

# arrays - 我可以玩一次我的水平，我不能做另一个。大批

> ID：15267112
> 
> 赞同：0
> 
> 时间：2013-03-07T09:13:05.357
> 
> 标签：arrays, actionscript-3

当我玩 lvl1 时，我的 Array 构建正常，但如果我想在之后做另一个级别，则什么都没有构建。如果我想做另一个级别，即使我不做 lvl1，也只会构建我的 Array 的前 5 列。而且，要完成，当我完成计时器时，我有这个错误：

```
TypeError: Error #2007: Parameter hitTestObject must be non-null.
    at flash.display::DisplayObject/_hitTest()
    at flash.display::DisplayObject/hitTestObject()
    at projsolo_fla::MainTimeline/collisions()[projsolo_fla.MainTimeline::frame3:133] 
```

这是我的第一帧代码：

```
import flash.events.MouseEvent;

//--- Variables: ---

var toucheA: Boolean = false;
var toucheZ: Boolean = false;
var toucheE: Boolean = false;
var toucheR: Boolean = false;
var toucheT: Boolean = false;

var map:Sprite=new Sprite();

//--- Ecouteurs: ---

stage.addEventListener (KeyboardEvent.KEY_DOWN, pressee);
stage.addEventListener (KeyboardEvent.KEY_UP, relachee);
btnLevel.addEventListener (MouseEvent.CLICK, menuLevel);

//--- autre: ---
stop();

stage.displayState=StageDisplayState.FULL_SCREEN; 
stage.scaleMode=StageScaleMode.EXACT_FIT;  
stage.addEventListener (Event.ENTER_FRAME, moove);

//--- Fonction: ---

function pressee (e:KeyboardEvent):void{
    switch (e.keyCode){
        case 65 :
            toucheA=true;
            Pac.y=55;
            break;

        case 90 :
            toucheZ=true;
            Pac.y=105;
            break;

        case 69 :
            toucheE=true;
            Pac.y=155;
            break;

        case 82 :
            toucheR=true;
            Pac.y=205;
            break;

        case 84 :
            toucheT=true;
            Pac.y=255;
            break;

        default :
            break;
    }
}

function relachee (e:KeyboardEvent):void{
    switch (e.keyCode){
        case 65 :
            toucheA=false;
            break;

        case 90 :
            toucheZ=false;
            break;

        case 69 :
            toucheE=false;
            break;

        case 82 :
            toucheR=false;
            break;

        case 84 :
            toucheT=false;
            break;

        default :
            break;
    }
}

function moove (e:Event):void{
    map.x-=5;
}

function menuLevel (e:MouseEvent):void{
    gotoAndStop (2);
} 
```

这是我的第 2 帧代码：

```
import flash.events.MouseEvent;

btnMusique1.addEventListener (MouseEvent.CLICK, playLVL1);
btnMusique2.addEventListener (MouseEvent.CLICK, playLVL2);
btnMusique3.addEventListener (MouseEvent.CLICK, playLVL3);
btnMusique4.addEventListener (MouseEvent.CLICK, playLVL4);

function playLVL1 (e:MouseEvent):void{
    gotoAndStop (3);
    lvl1 ();
}

function playLVL2 (e:MouseEvent):void{
    gotoAndStop (3);
    lvl2();
}

function playLVL3 (e:MouseEvent):void{
    gotoAndStop (3);
    lvl3();
}

function playLVL4 (e:MouseEvent):void{
    gotoAndStop(3);
    lvl4();
} 
```

这是我的第 3 帧代码：

```
import flash.ui.Keyboard;
import flash.events.Event;
import flash.sampler.NewObjectSample;
import flash.utils.Timer;
import flash.events.TimerEvent;
import flash.media.SoundChannel;
import flashx.textLayout.formats.BlockProgression;

//--- Variables: ---
stop();

var timer1: Timer=new Timer (70000,1);

var points: Number = 0;

stage.addChild(map);

var tableau1: Array=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,1,1,0,1,1,1,0,1,1,1,0,0,0,0,1,1],
                     [0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],                         
                     [0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,1,0,0,0,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1],
                     [1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],
                     [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,0,0,0,1,1,1,0,1,1,1,0,1,1,1,0,0,1,1]];

var tableau2: Array=[[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,1,1,1,0,0,0,0,1,1,1,0,1,0,1,0,1,0,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,1,1,1,1,0,0,0,1,1,1,1,0,0,1,0,1,0,1,0,1,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,1,0,1,0,1,0,1,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,1,0,0],
                     [1,0,1,0,1,1,1,0,0,0,1,1,1,1,1,0,0,0,0,1,1,0,1,0,1,0,1,0,1,0,0,0,0,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,1,1,0,0,0,1,1,1,0,0,0,1,0,1,0,1,0,1,1,1,1,0,0,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],
                     [1,0,1,0,1,0,0,0,1,0,1,0,1,0,1,0,1,1,1,0,0,0,1,0,1,0,1,0,0,0,1,1,1,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,1,1,1,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,0,1,1,0,0,0,1,0,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,1,1,0,0,0,0,1],
                     [1,0,1,0,1,1,1,0,0,0,1,1,1,1,1,0,0,0,0,1,1,0,1,0,1,0,1,0,1,0,0,0,0,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,1,1,0,0,0,1,1,1,0,0,0,1,0,1,0,1,0,1,1,1,1,0,0,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],
                     [0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,1,1,1,0,0,0,0,1,1,1,0,1,0,1,0,1,0,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,1,1,1,1,0,0,0,1,1,1,1,0,0,1,0,1,0,1,0,1,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,1,0,1,0,1,0,1,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,1,0,0]];

var tableau3: Array=[[1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,0,1,0,1,0,1,0,0,0,0,1,0,1,0,1,0,1,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,1,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,1,1,1,1,0,0,0,1,0,1,0,0,0,0,0,0,1,1,0,0,1,1,0,1,0,0,0,0,0,0,1,1,0,0,0,0],
                     [0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,0,0,0,1,0,1,0,1,0,0,0,0,1,0,1,0,1,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,1,0,0,0,1,0,1,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,0,1,1,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,1,1,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,1,0,1,1],
                     [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],
                     [1,1,1,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,1,1,1,1,0,0,0,0,1,0,1,0,1,0,1,0,0,0,0,1,1,1,0,0,0,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,1,1,1,1,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,0,1,0,1,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,1,0],
                     [0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,0,0,1,1,0,0,0,1,1,1,0,0,1,1,1,1,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,1,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,1,0,0,0,0,1,0,1,1,1,1,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1,0,1,0,1,0,0,0,1,0,1,0,1]];

var tableau4: Array=[[0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,1,0,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
                     [1,1,1,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,1,0,1,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,1,0,0,1,0,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,1,0,1,0,0,0,0,0,1,0,1,1,1,0,0,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,1,1,1,1,0,0,0,0,0,1,0,1,0,1,1,1,0,0,0,0,1,0,1,1,1],
                     [0,1,0,0,0,1,0,1,0,1,1,1,0,0,0,1,0,1,0,1,0,1,0,0,0,0,1,1,1,0,0,0,0,1,1,0,1,1,0,0,0,1,0,1,1,0,0,0,0,0,0,1,0,1,1,1,0,1,1,1,0,0,0,0,1,1,0,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,1,1,1,1,1,0,0,0,1,0,1,0,1,0,1,0,0,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,0,1],
                     [0,0,0,1,1,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,1,1,1,0,0,0,0,1,1,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1],
                     [0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,1,1,1,0,0,0,0,0,1,0,1,0,0,0,0,1,1,0,0,0,0,0,1,1,0,1,0,1,0,1,0,0,0,0,0,1,0,1,0,1,0,1,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1]];

var L:int=0;
var C:int=0;

// création du tableau.

function lvl1 () {
    for (L=0; L<tableau1.length ;L++){                          
        for(C=0; C<tableau1[1].length ;C++){                    
            if (tableau1[L][C]==1){
                var Block: block=new block();   
                    map.addChild(Block);
                    Block.name="Block_"+L+"_"+C;
                    Block.x=1620+C*60;
                    Block.y=55+L*50;    
                    Block.addEventListener (Event.ENTER_FRAME, collisions);
                    stage.removeEventListener (Event.ENTER_FRAME, lvl1);
            }
        }
    }
}

function lvl2 () {
    for (L=0; L<tableau2.length;L++){
        for(C=0; C<tableau2.length;C++){
            if (tableau2[L][C]==1){
                var Block: block=new block();
                map.addChild(Block);
                Block.name="Block_"+L+"_"+C;
                Block.x=1620+C*60;
                Block.y=55+L*50;
                Block.addEventListener (Event.ENTER_FRAME, collisions);
                stage.removeEventListener (Event.ENTER_FRAME, lvl2);
            }
        }
    }
}

function lvl3 () {
    for (L=0; L<tableau3.length;L++){
        for(C=0; C<tableau3.length;C++){
            if (tableau3[L][C]==1){
                var Block: block=new block();
                map.addChild(Block);
                Block.name="Block_"+L+"_"+C;
                Block.x=1620+C*60;
                Block.y=55+L*50;
                Block.addEventListener (Event.ENTER_FRAME, collisions);
                stage.removeEventListener (Event.ENTER_FRAME, lvl3);
            }
        }
    }
}

function lvl4 () {
    for (L=0; L<tableau4.length;L++){
        for(C=0; C<tableau4.length;C++){
            if (tableau4[L][C]==1){
                var Block: block=new block();
                map.addChild(Block);
                Block.name="Block_"+L+"_"+C;
                Block.x=1620+C*60;
                Block.y=55+L*50;
                Block.addEventListener (Event.ENTER_FRAME, collisions);
                stage.removeEventListener (Event.ENTER_FRAME, lvl4);
            }
        }
    }
}

//--- Ecouteurs: ---

timer1.addEventListener (TimerEvent.TIMER, stoplvl1);
timer1.start();

//--- Fonctions: ---

function stoplvl1 (e:TimerEvent) :void{
    stage.removeEventListener(Event.ENTER_FRAME, moove);
    for (L=0; L<tableau1.length ;L++){                          
        for(C=0; C<tableau1[1].length ;C++){                    
            if (tableau1[L][C]==1){
                tableau1[L][C]=0;
            }
        }
    }
    stage.removeChild(map);
    gotoAndStop(4);
}

function collisions (e:Event):void {
    if(e.target.hitTestObject(Pac)){
        for (L=0; L<tableau1.length ;L++){                          
            for(C=0; C<tableau1[1].length ;C++){                    
                if (tableau1[L][C]==1){
                    tableau1[L][C]=0;
                }
            }
        }   
        e.target.nextFrame();
        e.target.removeEventListener(Event.ENTER_FRAME, collisions);
        points+=1000;
        Scorelvl.text = points.toString();
    }
} 
```

这是我的第 4 帧代码：

```
import flash.events.MouseEvent;

ScoreFin.text = points.toString();

btnMenu.addEventListener (MouseEvent.CLICK, retourMenu);

function retourMenu (e:MouseEvent):void{
    gotoAndStop(2);
} 
```

**编辑** 根据 OP 的评论：

当我在循环中执行我的函数,时，我的不同级别 ( `LVL2`, `LVL3`, `LVL4`) 未正确初始化，范围从.`lvl2``lvl3``lvl4``frame 3``line 64 to 110`

这不是创建数组，而是只创建前五列，而不是其余列。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:02:55.673

One: You have hardcoded `tableau1` in all your functions below level creation, including `collisions`.

Two: You erase `tableau1` on hittest event.

Three: Your `Pac` object is undefined if your current frame is not 3, as the layout is written as keyframes, but you don't remove ALL the listeners that target `Pac`, only the one that's attached to the colliding block.

And four: When you build the array, its length is 5, but you iterate both row and column from 0 to length-1, causing your level to have only 5 columns. Instead, you need to run the inner cycle until `tableau1[0].length`, like you do in `collisions`.

You really need to learn to debug your code, and to trace what is called and from where.

# security - Https - 断网后令牌失效？

> ID：15267127
> 
> 赞同：0
> 
> 时间：2013-03-07T09:13:41.210
> 
> 标签：security, http, authentication, ssl, https

这个问题可能听起来很傻，但我已经很久没有处理网络上的安全问题了。

如果用户登录并获得有效期为 30 分钟的令牌。几分钟后，他断开了互联网。在 30 分钟窗口关闭之前，他再次重新连接。之前的令牌仍然有效吗？

为清楚起见，身份验证是否取决于令牌和用户凭据或令牌和 IP 的组合？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:06:26.717

如果您真的没有关于所使用技术的信息并且无法获得它，我建议您尝试一下。

自己成为用户，尝试断开连接，尝试更改您的 IP 等。

但最好的选择仍然是尝试掌握所使用的技术。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T10:11:02.710

首先要说明一点：除了（可能）更改 IP 地址外，服务器无法知道客户端断开/重新连接，或者一直保持连接。

通常令牌不绑定到严格的 IP 地址。这是因为有时后续连接来自不同的 IP 地址（它可能通过负载平衡的代理服务器进行路由，即使在当今时代，有些人仍在使用它们/一些 ISP 仍在实施它们），或者 IP 地址可能以其他方式改变. 话虽这么说，我的经验是，在这些情况下，“子网”保持不变（所以在 XXX.XXX.XXX.YYY 中，YYY 可能会在请求之间发生变化，X 保持不变。不确定 IPv6 的这个 ID 是怎样的）。因此，我知道有些系统将令牌绑定到 24 个最高有效位，以避免令牌劫持（如果有人出于某种原因获取了您的令牌，他们将需要从同一子网连接以使令牌有效）。

最后，这一切都取决于系统。它应该很容易检查。在您的笔记本电脑上登录该站点。然后，让浏览器保持打开状态，通过一些 VPN（匿名器）连接，通过电话共享连接你的笔记本电脑，或者要求使用邻居/当地咖啡店的 wifi，看看你是否仍然登录。

# html5-canvas - 是否可以将 Openstreets 地图（传单）保存为图像

> ID：15267128
> 
> 赞同：2
> 
> 时间：2013-03-07T09:13:46.533
> 
> 标签：html5-canvas, extjs4.1, openstreetmap, leaflet

我正在使用带有 openstreetmaps 的传单在 Ext js 面板上生成地图。
由于地图在 openstreet 地图中以图块的形式出现，因此我需要将这些图块组合起来以创建单个图像以另存为图像。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:20:58.487

[您可以使用此资源](https://github.com/tegansnyder/Leaflet-Save-Map-to-PNG)将 Leaflet Map 保存为 PNG 文件

> 使用 Javascript 和 PHP 将传单地图保存到 PNG 示例

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-28T17:22:31.563

我使用所谓的**Tile Stitching**方法（服务器端）来执行此操作。步骤是：

*   在客户端收集文档中的所有平铺图像，例如使用 jQuery，您可以执行以下操作：

    ```
    $('[class^="leaflet-tile leaflet-tile-loaded"]') 
    ```

这将为您提供一个数组，其中包含地图瓦片的所有 img 元素。

*   获取图像的宽度和高度、x 和 y 以及 url 并放入您喜欢的数据结构

*   将数据结构发送到服务器上的函数，该函数将检索 url 并使用 x、y、width、height 属性将图像拼接在一起。

我从这篇与 openlayers 一起使用的文章中得到了这个想法：http: [//trac.osgeo.org/openlayers/wiki/TileStitchingPrinting](http://trac.osgeo.org/openlayers/wiki/TileStitchingPrinting)。在本文中，您将找到一个有效的 php 示例。使用 Leaflet 的 javascript 部分上方的信息应该不难。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-02-04T06:43:13.557

这似乎对我有用：

[http://www.yncoder.com/save-leaflet-map-as-image/](http://www.yncoder.com/save-leaflet-map-as-image/)

```
var images = container.getElementsByTagName('img');
for (var i = 0; i < images.length; i++) {
    images[i].setAttribute('crossOrigin', 'anonymous');
    images[i].src = images[i].src;
}

var canvas  = document.getElementById('dumb');
var context = canvas.getContext('2d');

canvas.width  = document.documentElement.clientWidth;
canvas.height = document.documentElement.clientHeight;

for (i = 0; i < images.length; i++) {
    if (typeof images[i] != 'undefined') {
        context.drawImage(images[i],
            images[i].style.left.slice(0, -2), // slice off 'px' from end of str
            images[i].style.top.slice(0, -2),
            images[i].clientWidth,
            images[i].clientHeight
        );
    }
}

window.open(canvas.toDataURL()); 
```

# iphone - 自动引用计数问题 - PhoneGap

> ID：15267130
> 
> 赞同：1
> 
> 时间：2013-03-07T09:13:48.017
> 
> 标签：iphone, ios, xcode, cordova

![在此处输入图像描述](../Images/f8ef4391fead2e29c0b40820b4c914f5.png)我尝试按照以下链接中说明的一些步骤使用 PhoneGap + Xcode 4.2 创建我的 HelloWorld 应用程序：

[http://docs.phonegap.com/en/2.5.0/guide_getting-started_ios_index.md.html#Getting%20Started%20with%20iOS](http://docs.phonegap.com/en/2.5.0/guide_getting-started_ios_index.md.html#Getting%20Started%20with%20iOS)

但是当我在模拟器上运行我的 HelloWorld 应用程序时，它会给出我的**自动引用计数问题**错误。

![在此处输入图像描述](../Images/7b53b19751606e25920a10c4c7514cf8.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:16:24.240

出现此错误是因为您的项目 CordvaLib 已启用 ARC。但是，您的 CDVAccelerometer 类未启用 ARC。要从 ARC 中排除文件，请使用`-fno-objc-arc`标志

在构建阶段 > 编译源

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-07T09:35:12.537

在创建新项目时，它会询问“使用自动引用计数”并带有复选标记。如果您不使用 ARC，请取消选中复选标记。

如果您不想为唯一的特定类使用 ARC，那么 ProjectSettings -> Build Phases -> Complile Sources -> Compilerflag。单击您的班级旁边并设置

-fno-objc-弧

现在只有选定的类被禁用 ARC。

# c++ - 如何避免引发的异常 在 C++11 中？

> ID：15267131
> 
> 赞同：1
> 
> 时间：2013-03-07T09:13:49.450
> 
> 标签：c++, multithreading, c++11

我正在尝试使用 C++11 中的线程库编写多线程软件。网上找的一些基础教程可以按预期编译运行。但是我自己的应用程序分成类总是抛出异常。

谁能告诉我代码的哪一部分应该修复，好吗？

```
$ clang++ -std=c++11 -stdlib=libc++ BaseInterface.cxx -c -o BaseInterface.o
$ clang++ -std=c++11 -stdlib=libc++ SocketReceiver.cxx -c -o SocketReceiver.o
$ clang++ -std=c++11 -stdlib=libc++ main.cxx -c -o main.o
$ clang++ -std=c++11 -stdlib=libc++ main.o BaseInterface.o SocketReceiver.o -o main
$ gdb main  
(gdb) run
Starting program: /Users/oxon/test/main 
Reading symbols for shared libraries ++............................ done
libc++abi.dylib: terminate called throwing an exception

Program received signal SIGABRT, Aborted.
[Switching to process 859 thread 0x40b]
0x00007fff88df8212 in __pthread_kill ()
(gdb) bt
#0  0x00007fff88df8212 in __pthread_kill ()
#1  0x00007fff8bc85af4 in pthread_kill ()
#2  0x00007fff8bcc9dce in abort ()
#3  0x00007fff894d3a17 in abort_message ()
#4  0x00007fff894d13c6 in default_terminate ()
#5  0x00007fff89874887 in _objc_terminate ()
#6  0x00007fff894d13f5 in safe_handler_caller ()
#7  0x00007fff894d1450 in std::terminate ()
#8  0x00007fff894d25b7 in __cxa_throw ()
#9  0x00007fff8a9ba3b9 in std::__1::thread::join ()
#10 0x0000000100000cf0 in SocketReceiver::Receive ()
#11 0x0000000100000c6d in SocketReceiver::DoReceive ()
#12 0x0000000100001593 in _ZNSt3__114__thread_proxyINS_5tupleIJPFPvS2_ES2_EEEEES2_S2_ ()
#13 0x00007fff8bc84742 in _pthread_start ()
#14 0x00007fff8bc71181 in thread_start () 
```

这是 OS X 10.8 上的结果。带有 GCC 4.4 的 Scientific Linux 6 也给出了类似的结果。

= BaseInterface.h =

```
#ifndef BASE_INTERFACE_H
#define BASE_INTERFACE_H

#include "SocketReceiver.h"

class BaseInterface
{
private:
  SocketReceiver*    fReceiver;

public:
  BaseInterface();
  virtual ~BaseInterface();

  virtual void Close();
  virtual void Open();
;

#endif 
```

= BaseInterface.cxx =

```
#include <iostream>

#include <string.h>
#include <unistd.h>

#include "BaseInterface.h"

BaseInterface::BaseInterface()
{
  fReceiver = new SocketReceiver(this);
}

//______________________________________________________________________________
BaseInterface::~BaseInterface()
{
  Close();
  delete fReceiver;
  fReceiver = 0;
}

//______________________________________________________________________________
void BaseInterface::Close()
{
  fReceiver->Stop();
  usleep(10000);

  while(fReceiver->IsRunning()){
    usleep(10000);
  } // while
}

//______________________________________________________________________________
void BaseInterface::Open()
{
  fReceiver->Start();

} 
```

= SocketReceiver.h =

```
#ifndef SOCKET_RECEIVER_H
#define SOCKET_RECEIVER_H

#include <thread>
#include <mutex>

class BaseInterface;

class SocketReceiver
{
private:
  BaseInterface*             fInterface;
  bool                       fIsRunning;
  std::mutex                 fMutex;
  bool                       fStop;
  std::thread*               fThread;

public:
  SocketReceiver(BaseInterface* interface = 0);
  virtual ~SocketReceiver();

  bool             IsRunning() const {return fThread ? true : false;}
  static void*     DoReceive(void* arg);
  void             Receive();
  void             Start();
  void             Stop();
};

#endif 
```

= SocketReceiver.cxx =

```
#include <iostream>
#include <thread>
#include <unistd.h>

#include "BaseInterface.h"
#include "SocketReceiver.h"

SocketReceiver::SocketReceiver(BaseInterface* interface)
{
  fInterface = interface;
  fStop = true;
  fThread = 0;
}

//______________________________________________________________________________
SocketReceiver::~SocketReceiver()
{
}

//______________________________________________________________________________
void* SocketReceiver::DoReceive(void* arg)
{
  SocketReceiver* receiver = (SocketReceiver*)arg;
  receiver->Receive();

  return 0;
}

//______________________________________________________________________________
void SocketReceiver::Receive()
{
  while(not fStop){
    fMutex.lock();
    usleep(10000);
    fMutex.unlock();
  } // while

  fThread->join();

  delete fThread;
  fThread = 0;
}

//______________________________________________________________________________
void SocketReceiver::Start()
{
  fStop = false;
  fThread  = new std::thread(DoReceive, (void*)this);
}

//______________________________________________________________________________
void SocketReceiver::Stop()
{
  fStop = true;
} 
```

= main.cxx =

```
#include "BaseInterface.h"

int main()
{
  BaseInterface interface;
  interface.Open();
  interface.Close();

  return 0;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T09:17:58.453

您正在加入线程本身。`join`在*父*线程中调用，例如在`SocketReceiver::Stop`.

当`join`被调用时，它会清理底层数据。如果你在你正在运行的线程中调用它，那么当线程仍然需要它时，这些数据将被删除。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-07T09:24:49.347

如果由 a 运行的函数`std::thread`通过和异常退出，`std::terminate`则将被调用。

`std::thread::join()`如果在同一个线程中调用，则指定抛出`std::system_error`错误代码，即线程无法加入自身。因此，您尝试使线程加入本身会导致异常终止进程。线程不能加入自己，加入被定义为“等待线程完成”所以显然不能由线程本身完成，它会阻塞等待自己完成，这在调用完成之前不会发生，这可以直到线程完成才发生，直到调用完成才发生……你能看到这是怎么回事吗？`resource_deadlock_would_occur``join()``join()``join()`

还有你为什么要这样做？

```
fThread  = new std::thread(DoReceive, (void*)this); 
```

`std::thread`不是`pthread_create`，你不需要通过它`void*`，只需摆脱`DoReceive`并调用：

```
fThread  = new std::thread(&SocketReceiver::Receive, this); 
```

为什么你`std::thread`被分配了`new`？这也不是必需的，您可以使用`std::thread`成员并使用`joinable()`来检查它是否处于活动状态，而不是检查指针是否为非空。

# c++ - 在 QLineEdit 中显示浮点值

> ID：15267132
> 
> 赞同：0
> 
> 时间：2013-03-07T09:13:57.547
> 
> 标签：c++, visual-studio-2010, qt, opencv

这是重点：

我想在 QLineEdit 上显示数学算法（除法）的结果：

我取图像的一个像素（坐标：i 和 j），然后将其除以 255

```
CvScalar scal = cvGet2D(img,j,i);    
float s= scal.val[2]*(1/255);
Qs = QString::number( s, 'g', 6 );
lineEdit->setText(Qs); 
```

问题是，结果不是显示这个除法的精度（0.xxxx），而是一个没有我需要显示的浮点数的 0。

你知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T09:15:28.020

1/255 是**0**整数。替换为**1.0** /255

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T14:53:56.910

您也可以替换`1/255`为`1/255.0f`. 它更优雅，让您清楚地看到您想要浮动值。另一种方法是：`1.0f/255`, `((float)1)/255`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:15:23.280

`1/255`- 是**整数**除法。改写`1.0/255.0`_

# jquery - jQuery UI 可拖动返回意外位置

> ID：15267134
> 
> 赞同：2
> 
> 时间：2013-03-07T09:14:04.433
> 
> 标签：jquery, jquery-ui

我正在尝试拖动背景位置而不是元素本身。

`**[Demo](http://jsfiddle.net/ZtYem/1/)**`

这是我的代码

```
var left = 0,
    top = 0;
$('#box').draggable({ 
    start: 
    drag: function (e, ui) {
        // += as I am setting left and top = 0, so just taking the 'change'
        left += ui.position.left;
        top  += ui.position.top;  

        ui.position.left = 0;
        ui.position.top = 0;

        $(this).css({
            'background-position': left + 'px ' + top + 'px'
        });

    }, 
}); 
```

它拖得非常快，很快就`background-position-x`达到`background-position-y`了一个很大的值。

我发现该 `drag`事件被调用了两次。

拖动函数第一次给出了正确的拖动位置，但我猜第二次，它`background-position`为自己添加了值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:59:18.507

只要您在拖动，jQuery UI 似乎就会跟踪`ui.position`您是否设置它`0`。所以，如果你把它向右移动一个像素，`left`就是`1`。然后将其设置为`0`，但是当您（不停止）将其向右拖动另一个像素时，`ui.position.left`实际上是`2`，而不是`1`。

所以这是解决方案。

1.  跟踪`ui.position`值并在拖动时减去它们（因此，我们计算上一次移动和新移动之间的差异）。
2.  拖动停止时，将这些值重置为`0`（否则背景会一直跳回`0px 0px`）。

我已经更新了您的 Fiddle，请在此处查看：http: [//jsfiddle.net/ZtYem/2/](http://jsfiddle.net/ZtYem/2/)（我添加了这些`<span>`标签用于分析坐标，因此您可以再次删除它们）。

# java - android startActivity Nullpointer 异常

> ID：15267142
> 
> 赞同：-6
> 
> 时间：2013-03-07T09:14:34.707
> 
> 标签：java, android, eclipse, nullpointerexception

嗨，函数 startActivity 引发了一个空指针异常，这是我的类：

```
public class DetailActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_detail);

    }

    public void showHtml(String prod){

        Intent myIntent = new Intent(getBaseContext(), DetailActivity.class);
        startActivity(myIntent);

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        //getMenuInflater().inflate(R.menu.activity_main, menu);
        return false;
    }
} 
```

这是我的清单

```
<?xml version="1.0" encoding="utf-8"?>

<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.xxxx"
    android:versionCode="1"
    android:versionName="1.0" >
    <uses-permission android:name="android.permission.CAMERA"/>
    <uses-permission android:name="android.permission.INTERNET" />

    <uses-sdk
        android:minSdkVersion="11"
        android:targetSdkVersion="16" />

    <application   android:theme="@android:style/Theme.NoTitleBar" android:allowBackup="false">
        <activity
            android:name="com.example.xxxx.MainActivity"
            android:label="@string/app_name"         >

            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity android:name="com.example.xxxx.fragments.frag1.BarcodeInsertActivity" />
        <activity android:name="com.example.xxxx.fragments.frag2.ShopBasketActivity" />
        <activity android:name="com.example.xxxx.fragments.frag3.CheckoutActivity" />
        <activity android:name="com.example.xxxx.fragments.frag4.DetailActivity" />  
        <activity
            android:name="com.google.zxing.client.android.CaptureActivity"
            android:configChanges="orientation|keyboardHidden"
            android:screenOrientation="landscape"
            android:theme="@android:style/Theme.NoTitleBar.Fullscreen"
            android:label="ZXing"
            android:windowSoftInputMode="stateAlwaysHidden" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
            <intent-filter>
                <action android:name="com.google.zxing.client.android.SCAN" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

    </application>

</manifest> 
```

这就是我尝试执行该功能的方式

```
 DetailActivity gg= new DetailActivity();

gg.showHtml( "some html code <div class='someclass'>asdas</div> and other html tags"); 
```

如果有人可以帮助我尝试很多没有用的东西会很好:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T09:22:26.513

DetailActivity 就是这样，一个 Activity。您不能像访问对象一样访问其中的方法。这样做的唯一方法是将该方法设为静态并执行 D `etailActivity.showHtml()`，但*不*建议这样做。

另一个问题是您没有正确创建该活动。您需要像这样启动它：

```
Intent newIntent = new Intent(this, DetailActivity.class);
startActivity(newIntent); 
```

然后，您应该在该活动中访问该方法，或者像这样在包中传递变量：

```
Bundle bundle = new Bundle();
bundle.putString("webAdd", string);
newIntent.putExtras(bundle); 
```

然后，您可以通过执行以下操作在 DetailActivity 中访问它：

```
Bundle bundle = this.getIntent().getExtras();
String newString = bundle.getString("webAdd"); 
```

我建议阅读一些关于 Activies 如何工作的教程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:27:18.003

In android you don't need to write

```
DetailActivity gg= new DetailActivity(); 
```

You are already in they write activity and you don't need this any more.
You also need to put this activity into your manifest xml file

```
DetailActivity 
```

# image - 两幅图像位置之间的自动校正

> ID：15267143
> 
> 赞同：0
> 
> 时间：2013-03-07T09:14:38.833
> 
> 标签：image, matlab

我有两个图像，必须划分该图像。由于手动错误，图像中的区域不一样。如何使用 matlab 自动更正它以便准确地逐个像素地执行除法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T11:12:24.740

将两个图像文件读入变量后，假设`A`和包含您实际想要的大小的图像并包含您要更改的大小的图像，您可以使用：`B``A``B`

```
[numrows numcols] = size(A);
A = imresize(A, [numrows numcols]); 
```

# iphone - 应用程序进入后台时是否可以调用 webRequest？

> ID：15267148
> 
> 赞同：1
> 
> 时间：2013-03-07T09:14:54.237
> 
> 标签：iphone, ios, ios5, ios6

我想在按下主页按钮并且应用程序进入后台时上传图像。是否可以？如果是，那怎么办？如果没有，那么我还有其他选择吗？提前致谢...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:20:55.407

您可以在特定时间使用此代码在后台执行任务 -

```
 UIBackgroundTaskIdentifier bgTask = 0;
    UIApplication  *app = [UIApplication sharedApplication];
    bgTask = [app beginBackgroundTaskWithExpirationHandler:^{
        [app endBackgroundTask:bgTask]; 
    }];
    self.silenceTimer = [NSTimer scheduledTimerWithTimeInterval:10 target:self
                                                       selector:@selector(startLocationServices) userInfo:nil repeats:YES]; 
```

请参阅：http: [//developer.apple.com/library/ios/#documentation/iphone/conceptual/iphoneosprogrammingguide/ManagingYourApplicationsFlow/ManagingYourApplicationsFlow.html](http://developer.apple.com/library/ios/#documentation/iphone/conceptual/iphoneosprogrammingguide/ManagingYourApplicationsFlow/ManagingYourApplicationsFlow.html)

我认为这会对你有所帮助。:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:46:49.800

应用程序可以在关闭后请求在后台运行长达 10 分钟，以便完成长时间运行的任务。仅允许某些进程在后台运行。请参阅本参考中**的实现长时间运行的后台任务**部分[。](http://developer.apple.com/library/ios/#documentation/iphone/conceptual/iphoneosprogrammingguide/ManagingYourApplicationsFlow/ManagingYourApplicationsFlow.html#//apple_ref/doc/uid/TP40007072-CH4-SW28)

如果您的应用程序被允许，您可以尝试以下代码：

```
- (void)applicationDidEnterBackground:(UIApplication *)application

{

    UIBackgroundTaskIdentifier bgTask;
    bgTask = [application beginBackgroundTaskWithExpirationHandler:^{

        // Clean up any unfinished task business by marking where you

        // stopped or ending the task outright.

        [application endBackgroundTask:bgTask];

        bgTask = UIBackgroundTaskInvalid;

    }];

    // Start the long-running task and return immediately.

    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{

        // Do the work associated with the task, preferably in chunks.

        [application endBackgroundTask:bgTask];

        bgTask = UIBackgroundTaskInvalid;

    });

} 
```

如果您想知道您的应用还剩多少时间可以运行

```
NSTimeInterval ti = [[UIApplication sharedApplication]backgroundTimeRemaining];
NSLog(@"Remaining Time: %f", ti); // just for debug 
```

有关更多参考，请参阅此[参考 PDF（第 60 页）](http://developer.apple.com/library/ios/documentation/iphone/conceptual/iphoneosprogrammingguide/iphoneappprogrammingguide.pdf)

# iframe - 在 https 站点中显示 iframe 会显示警告

> ID：15267152
> 
> 赞同：1
> 
> 时间：2013-03-07T09:15:21.797
> 
> 标签：iframe, https, ssl-certificate, vimeo

我的网站上有一个页面[https://www.mydomain.com/about](https://www.mydomain.com/about)。它由一个 vimeo 视频组成。我们将 vimeo 视频嵌入到页面上的 iframe 中。

但它会显示一条安全警告，指出“您只想查看安全传送的网页内容吗？”。

有没有办法避免这种情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T05:04:58.703

该警告意味着您页面上的某些内容是通过 HTTP 而不是 HTTPS 提供的。它告诉用户，即使页面本身是通过 HTTPS 提供的，它也包含未经身份验证的内容（图像、样式表、脚本、iframe），并且此类内容可能会受到 MITM 攻击。

如果要避免警告，应将 iframe 的源设置为`https:`URL。

# android - Android如何隐藏默认主页，时间显示栏在android中

> ID：15267164
> 
> 赞同：0
> 
> 时间：2013-03-07T09:15:40.090
> 
> 标签：android

嗨，任何人都知道如何隐藏默认主页，返回时间显示系统栏由 android？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:04:34.423

I suggest you want to make it fullscreen, therefore you can use this:

You can hide the default system bar by using the following code for an activity in the AndroidManifest.xml file:

```
android:theme="@android:style/Theme.NoTitleBar.Fullscreen" 
```

Here an example of a splash screen:

```
<activity
        android:name=".SplashScreen"
        android:label="@string/app_name"
        android:noHistory="true"
        android:screenOrientation="landscape"
        android:theme="@android:style/Theme.NoTitleBar.Fullscreen" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity> 
```

You should put it in every activity that must be fullscreen. Using this line of code in the `<application>` tag is not going to work.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:21:00.423

在 Android 4.0 及更高版本上，您可以使用[SYSTEM_UI_FLAG_HIDE_NAVIGATION](http://developer.android.com/reference/android/view/View.html#SYSTEM_UI_FLAG_HIDE_NAVIGATION)

```
getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_HIDE_NAVIGATION); 
```

但是，您似乎在谈论 Android 3.0，因为它通常会在导航旁边显示电池电量等。无法使用 Android SDK 隐藏此栏，但有一些替代方法，如[本](https://stackoverflow.com/q/5109988/1069068)问题所述。

# c# - 克隆存储库后如何打开vs解决方案文件

> ID：15267165
> 
> 赞同：1
> 
> 时间：2013-03-07T09:15:41.247
> 
> 标签：c#, visual-studio-2010

我成功地将 git 存储库从远程 url 克隆到我的硬盘。

现在我可以打开任何文件，但无法打开 Visual Studio 解决方案文件 .sln。

当我单击 sln 文件时，没有任何反应。

有什么问题？

# git - GitHub - 我如何导入文件以查看它们

> ID：15267166
> 
> 赞同：0
> 
> 时间：2013-03-07T09:15:42.283
> 
> 标签：git, github

我是一名Java学生。我的老师在 gitHub 上分享了一些文件，我想查看它们。如何将这些文件放入我的 Git 帐户以便（至少）查看它们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:50:34.247

[git](http://try.github.com/levels/1/challenges/1) clone git://github.com/Your_Teacher_GitHub_Account

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T10:04:53.707

在[GitHub 帮助](https://help.github.com/)中阅读有关[设置 git](https://help.github.com/articles/set-up-git)以及有关[创建和使用 repo](https://help.github.com/articles/create-a-repo)的信息。我知道您不需要设置 repo，但它也会解释如何下载（或在 git speak 中克隆）和上传（推送）。

# c# - 为文件名 Winform C# 保存具有当前日期和时间的文件

> ID：15267168
> 
> 赞同：-2
> 
> 时间：2013-03-07T09:15:43.207
> 
> 标签：c#, datetime, datetime-format

我已经可以使用 Vlcdotnet 框架从我的 winform 中保存文件。目前这段代码如下：

```
 _tempVLCWindow.TakeSnapshot("C:\\ScreenCap.jpg", 1280, 720); 
```

现在，不是“ScreenCap”是文件（它只允许我保存一个图像）我希望它存储当前日期和时间，以便我可以保存多个快照。这怎么可能？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-07T09:23:48.017

您可以执行以下操作：

```
String fileName = "C:\\ScreenCap_" +  DateTime.Now.ToString("yyyyMMdd_hhmmss") + ".jpg";
_tempVLCWindow.TakeSnapshot(fileName , 1280, 720); 
```

这将为您创建一个文件名，如：C:\ScreenCap_20130307_1023.jpg

通过调用 ToString() 并将格式指定为 YearMonthDay_HourMinutesSeconds (yyyyMMdd_hhmmss)，您将能够创建一个带有将被接受为文件名的日期和时间的字符串。如果您只调用 .ToString() ，您将在路径异常中获得非法字符。

对于*date.tostring("")*中的格式化选项，请查看：[msdn](http://msdn.microsoft.com/de-de/library/8kb3ddd4%28v=vs.80%29.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:21:12.880

如果我没有误会你，你可以试试这个：

```
string filename = DateTime.Now.Year.ToString() + DateTime.Now.Month.ToString() + DateTime.Now.Day.ToString() + DateTime.Now.Hour.ToString() + DateTime.Now.Minute.ToString() + DateTime.Now.Second.ToString()+DateTime.Now.Millisecond.ToString();

_tempVLCWindow.TakeSnapshot(String.Format("C:\\{0}.jpg", filename), 1280, 720); 
```

# java - 使用子图像时找不到符号

> ID：15267171
> 
> 赞同：0
> 
> 时间：2013-03-07T09:15:47.903
> 
> 标签：java, symbols

当我使用子图像时，java会抛出这个：

```
Pacman.java:152: cannot find symbol
symbol  : method getSubImage(int,int,int,int)
location: class java.awt.image.BufferedImage
                cherry = sprite.getSubImage(0, 0, 38, 38);
                               ^ 
```

在当前代码中：

```
 class DerpPanel extends JPanel implements KeyListener {

        public BufferedImage image, image2;
        public BufferedImage sprite, cherry, ghost;

    public DerpPanel() {
        frame.addKeyListener(this);

            image = ImageIO.read(new File("ghost.png"));
            image2 = ImageIO.read(new File("fruit.png"));

            sprite = ImageIO.read(new File("sprite.png"));
            cherry = sprite.getSubImage(0, 0, 38, 38);
            ghost = sprite.getSubImage(38, 38, 38, 38);

        Mover mover = new Mover();
        Timer timer = new Timer(3000, mover);
        Pacmann pacmann = new Pacmann();
        Timer timer2 = new Timer(500, pacmann);
        timer.start();
        timer2.start();

    } //end public DerpPanel
} //fake DerpPanel ending 
```

有人知道为什么吗？我已经导入了正确的库。

完整代码在这里：

> [代码](https://github.com/lele0108/Java/blob/master/Pacman/Pacman.java)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:23:10.937

它是`getSubimage`，不是`getSubImage`（没有大写的“I”）。

# asp.net-mvc - if else 条件以在 mvc 中显示 webgrid

> ID：15267176
> 
> 赞同：2
> 
> 时间：2013-03-07T09:15:57.843
> 
> 标签：asp.net-mvc, razor, webgrid

我正在做一个项目，我必须在其中显示一些 webgrids。这些网络网格具有相同的数据源，但应根据某些条件进行划分。这是我的控制器代码：

```
public ActionResult Index()
        {

            SqlCommand cmd = new SqlCommand("select * from Bspecial_Ad_management_tbl where ", con);
            con.Open();
            SqlDataReader dr = cmd.ExecuteReader();
            List<AddDetailModel> model = new List<AddDetailModel>();
            while (dr.Read())
            {
                model.Add(new AddDetailModel()
                {
                    AdName = dr["Ad_name"].ToString(),
                    AdType=dr["Ad_type_name"].ToString(),
                    PartnerName=dr["Partner Name"].ToString(),
                    hrefurl=dr["Ad_url"].ToString(),
                    startDate=dr["Start_date"].ToString(),
                    endDate = dr["End_date"].ToString(),
                    tagName = dr["Tag"].ToString(),
                    AdPath= dr["Ad_image_path"].ToString(),
                    Status = dr["Status"].ToString()
                });
            }
            dr.Close();
            return View(model);
        } 
```

这是我的观点：

```
@model IEnumerable<EShopPartnerSetting.Models.AddDetailModel>
@{
   {
        Layout = "~/Views/Shared/AdminLayout.cshtml";
    }

}
@{
    var grid = new WebGrid(source: Model,
                                              defaultSort: "First Name",
                                              rowsPerPage: 5, fieldNamePrefix: "wg_",
                                              canPage: true, canSort: true,
                                              pageFieldName: "pg", sortFieldName: "srt"
                                              );  
}
<html>
<head>
   Some unrelated scripts here
</head>
<body>
    @using (Html.BeginForm())
    {
        @Html.ValidationSummary(true)
        <table width="960" border="0" align="center" cellpadding="0" cellspacing="0">
            <tr>
                <td>
                    <div class="maindiv">
                        <div class="hd">
                            <h1>
                                Ad Management</h1>
                        </div>
                        <div class="bd">
                            <table align="center" cellpadding="0" cellspacing="0" width="100%">
                                <tr>
                                    <td>
                                        <input id="new" type="button" value="Create New Ad" style="color: #FFFFFF; background-color: #1688C6;" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        &nbsp;
                                    </td>
                                </tr>
                                <tr>
                                    <td align="center">
                                    <span>Bottom Banner</span>
                                        @grid.GetHtml(tableStyle: "listing-border", headerStyle: "gridhead", footerStyle: "paging", rowStyle: "td-dark", alternatingRowStyle: "td-light",
                            columns:
                                grid.Columns(
                                grid.Column("AdName", "Ad/Campaign", style: "colProductid"),
                                grid.Column("AdType", "Ad Type", style: "colProductRate"),
                                grid.Column(header: "Ad", format: @<text><img src="@item.AdPath"  id="adimg"  alt="YourText" title="Ad Image"  width:"50px" height="50px"></text>),
                                grid.Column("startDate", "Start Date", style: "colCategoryID"),
                                grid.Column("endDate", "End Date", style: "colCategoryID"),
                                grid.Column("tagName", "Tag", style: "colCategoryID"),
                                grid.Column("Status", "IsActive", style: "colCategoryID"),
                                grid.Column(header: "Edit", format: @<text><a id="@item.AdName" class="clk"><img
                                    src="../../Images/edit.png" class="asa" width="25px" height="25px" alt="" style="border: none;" /></a></text>, style: "colOperation"),
                                grid.Column(header: "Delete", format: @<text><a href="@Url.Action("Delete", "Ad", new { aname = item.AdName, apath = item.AdPath, status = item.Status })" onclick="javascript:return ConfirmDelete();"><img
                                    src="../../Images/delete.png" width="20px" height="20px" alt="" style="border: none;" /></a></text>, style: "colOperation"),
                                grid.Column(header: "Status", format: @<text>
                                        <input type="button" class="adbtn" name="one" style="color: #FFFFFF; background-color:#1688C6;" value="Change" onclick="window.location.href='@Url.Action("Add", "Ad", new { ids = item.AdType, path = item.AdPath, status = item.Status })';" /></text>, style: "colOperation")
                                ), mode: WebGridPagerModes.All)
                                    </td>
                                </tr>
                                    <tr>
                                    <td>
                                        &nbsp;
                                    </td>
                                </tr>
                                <tr>
                                    <td width="100%" align="center">
                                        @* <input id="Submit1" type="submit" value="submit" />*@
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <script type="text/javascript">
                            function ConfirmDelete() {
                                return confirm("Are you sure you want to delete this?");
                            }
                        </script>
                    </div>
                    @* <a id="clk">click here</a>*@
                    <div id="dialog" title="Edit" style="overflow: hidden;">
                    </div>
                    <div id="newdialog" title="Create" style="overflow: hidden;">
                    </div>
                </td>
            </tr>
        </table>
    }
</body>
</html> 
```

正如您从控制器代码中看到的那样，我有一个名为**AdType**的参数，只有 2 个可能的值：1 和 2。现在我想显示两个 webgrid，一个的 AdType 值为 1，另一个为 2。**两个 webgrid具有相同的数据源**。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:20:36.763

您可以使用 linq 查询过滤您的模型：

```
@{
     var grid1 = new WebGrid(source: Model.Where(m=>m.AdType=="1").ToArray(),
                                          defaultSort: "First Name",
                                          rowsPerPage: 5, fieldNamePrefix: "wg_",
                                          canPage: true, canSort: true,
                                          pageFieldName: "pg", sortFieldName: "srt"
                                          );  

     var grid2 = new WebGrid(source: Model.Where(m=>m.AdType=="2").ToArray(),
                                          defaultSort: "First Name",
                                          rowsPerPage: 5, fieldNamePrefix: "wg_",
                                          canPage: true, canSort: true,
                                          pageFieldName: "pg", sortFieldName: "srt"
                                          );  
} 
```

# vba - 确定项目符号列表条目的级别

> ID：15267178
> 
> 赞同：1
> 
> 时间：2013-03-07T09:16:01.040
> 
> 标签：vba, powerpoint

我在 Powerpoint 中有一个文本框，其中包含这样的分层列表：

```
* 1级
  - 2级
    . 3级
    . 又是3级
  - 再次达到 2 级
* 再次达到 1 级

```

这被格式化为项目符号列表。

基于此文本（这是一个议程），我正在为每一行创建一张幻灯片，并以该行作为标题：

```
Set shpSource = ActiveWindow.Selection.ShapeRange
Set pre = ActivePresentation
Set sli = ActiveWindow.Selection.SlideRange(1)

For Each varStr In Split(shpSource.TextFrame2.TextRange, vbCr)            
    Set sli = pre.Slides.AddSlide(sli.SlideIndex + 1, sli.CustomLayout)
    sli.Shapes(2).TextFrame.TextRange = varStr
Next 
```

我的问题是：我怎样才能弄清楚每个子弹的级别？

我宁愿把每一行写成标题，我宁愿用“Level 1 > Level 2 > Level 3”作为标题，即某种面包屑。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:32:22.713

好的，找到了解决方案 - 每个`Line`都有`.ParagraphFormat.IndentLevel`可以使用的。这是将分层列表从选定的文本框转换为以面包屑为标题的新幻灯片的最终代码：

```
Sub ConvertAgenda()
    Dim shpSource As ShapeRange
    Dim pre As Presentation
    Dim sli As Slide
    Dim trng As TextRange2
    Dim strL1 As String, strL2 As String, strFull As String, strCurrent As String

    Set shpSource = ActiveWindow.Selection.ShapeRange
    Set pre = ActivePresentation
    Set sli = ActiveWindow.Selection.SlideRange(1)

    For Each trng In shpSource.TextFrame2.TextRange.Lines
        strCurrent = Left(trng, Len(trng) - 1)
        Select Case trng.ParagraphFormat.IndentLevel
            Case 1:
                strL1 = strCurrent
                strFull = strCurrent
            Case 2:
                strL2 = strCurrent
                strFull = strL1 & " > " & strCurrent
            Case 3:
                strFull = strL1 & " > " & strL2 & " > " & strCurrent
        End Select

        Set sli = pre.Slides.AddSlide(sli.SlideIndex + 1, sli.CustomLayout)
        sli.Shapes(2).TextFrame.TextRange = strFull
    Next
End Sub 
```

# iphone - 仅在 shouldChangeCharactersInRange 返回 yes 后调用方法

> ID：15267181
> 
> 赞同：2
> 
> 时间：2013-03-07T09:16:03.007
> 
> 标签：iphone, ios, objective-c, uitextfield

我有一个 UITextField，其下方有一个表格，显示了可供选择的项目列表（类似于下拉列表）。现在，例如，当我在文本字段中键入 2（文本字段具有年份值）时，该表将显示所有带有 2 的字符串作为子字符串。所以当我输入 2000 时，它只会在表中显示匹配的字符串 2000。

现在，当我在文本字段中完成输入 2000 时，我想调用一个方法。一切正常，但我只想在我完成输入所有 4 位数字时调用此方法，但是当我尝试输入第 4 位数字时调用此方法。

我如何在输入 2000 的地方执行此操作，并且在输入第三个零后，它会在 shouldChangeCharactersInRange 返回 Yes 后调用该方法。

这是我的代码：

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string {
    NSString *substring = [NSString stringWithString:textField.text];
    substring = [substring stringByReplacingCharactersInRange:range withString:string];

    //if _filteredarray count==1 and substring and _filteredarray object at index 0 matches then call a method here

     return YES;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:32:22.497

试试这个

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string 
{
     NSString *substring = [NSString stringWithString:textField.text];
     substring = [substring stringByReplacingCharactersInRange:range withString:string];
     if(substring.length == 4)
     {
          [textField resignFirstresponder];
          [self performSelector:@selector(functiontocall)withObject:nil afterDelay:0.8];
     }
     return YES;
} 
```

上面的代码可能会给你一个想法

如果你输入 2000 的第四个字母，那么键盘会消失（如果你想你可以添加它，这样可以避免在文本字段中进一步输入值），然后你可以看到第三个零 0.8 秒，你需要调用的函数将叫做。

# sql-server - 触发禁用用户

> ID：15267182
> 
> 赞同：0
> 
> 时间：2013-03-07T09:16:03.030
> 
> 标签：sql-server

我有一个问题和疑问。我的 SQL Server 中的 SQL 触发器已被禁用。我想知道谁禁用了这个触发器。有没有办法获得禁用 MSSQL 触发器的用户名？通过 SQL 查询或类似的方式？问候。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:40:02.403

如果您启动并运行了[sql server 审计](http://msdn.microsoft.com/en-us/library/cc280386.aspx)，那么您可以获得该信息。否则没有。另请阅读文章[为 SQL Server 禁用或启用触发器时的审核](http://www.mssqltips.com/sqlservertip/2802/auditing-when-triggers-are-disabled-or-enabled-for-sql-server/)

# google-maps-sdk-ios - Google Maps SDK 中的自定义注释视图

> ID：15267183
> 
> 赞同：3
> 
> 时间：2013-03-07T09:16:03.130
> 
> 标签：google-maps-sdk-ios

我基于地图创建了一个 iOS 应用程序，我想在其中使用适用于 iOS 的 Google Maps SDK 而不是 Mapkit，我找到了文档，但我没有找到与自定义注释视图相关的方法，谁能为我提供解决方案创建自定义注释视图（信息窗口）以及如何为其添加内容（标题、片段）。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2014-06-10T05:29:50.327

我不知道你们，但我发现谷歌渲染的 UIView 信息窗口有点限制。使用[SMCalloutView](https://github.com/nfarina/calloutview)和[Ryan Maxwell 的示例项目](https://github.com/ryanmaxwell/GoogleMapsCalloutView)，可以呈现更多交互视图。

截至 2014 年 6 月 10 日，这适用于 Google Maps SDK v1.8.1。

![Google 地图上的默认 SMCalloutView](../Images/624dc2b8042b1da0b861db9fd1da9a87.png)

首先，做一些设置：

```
#import <SMCalloutView/SMCalloutView.h>

static const CGFloat CalloutYOffset = 10.0f;

@interface ViewController ()
@property (strong, nonatomic) SMCalloutView *calloutView;
@property (strong, nonatomic) UIView *emptyCalloutView;
@end 
```

初始化`SMCalloutView`，添加一个按钮，然后创建一个空的`UIView`：

```
- (void)viewDidLoad
{
    /* all your other view init, settings, etc... */

    self.calloutView = [[SMCalloutView alloc] init];
    self.calloutView.hidden = YES;

    UIButton *button = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];
    [button addTarget:self
               action:@selector(calloutAccessoryButtonTapped:)
     forControlEvents:UIControlEventTouchUpInside];
    self.calloutView.rightAccessoryView = button;

    self.emptyCalloutView = [[UIView alloc] initWithFrame:CGRectZero];
} 
```

我们必须绘制那个空`UIView`以满足 Maps SDK，但我们将显示的视图是`SMCalloutView`. 我还为标注视图设置了可重复使用的垂直偏移。

添加委托方法来处理信息窗口调用：

```
#pragma mark - GMSMapViewDelegate

- (UIView *)mapView:(GMSMapView *)mapView markerInfoWindow:(GMSMarker *)marker {
    CLLocationCoordinate2D anchor = marker.position;

    CGPoint point = [mapView.projection pointForCoordinate:anchor];

    self.calloutView.title = marker.title;

    self.calloutView.calloutOffset = CGPointMake(0, -CalloutYOffset);

    self.calloutView.hidden = NO;

    CGRect calloutRect = CGRectZero;
    calloutRect.origin = point;
    calloutRect.size = CGSizeZero;

    [self.calloutView presentCalloutFromRect:calloutRect
                                      inView:mapView
                           constrainedToView:mapView
                                    animated:YES];

    return self.emptyCalloutView;
}

- (void)mapView:(GMSMapView *)pMapView didChangeCameraPosition:(GMSCameraPosition *)position {
    /* move callout with map drag */
    if (pMapView.selectedMarker != nil && !self.calloutView.hidden) {
        CLLocationCoordinate2D anchor = [pMapView.selectedMarker position];

        CGPoint arrowPt = self.calloutView.backgroundView.arrowPoint;

        CGPoint pt = [pMapView.projection pointForCoordinate:anchor];
        pt.x -= arrowPt.x;
        pt.y -= arrowPt.y + CalloutYOffset;

        self.calloutView.frame = (CGRect) {.origin = pt, .size = self.calloutView.frame.size };
    } else {
        self.calloutView.hidden = YES;
    }
}

- (void)mapView:(GMSMapView *)mapView didTapAtCoordinate:(CLLocationCoordinate2D)coordinate {
    self.calloutView.hidden = YES;
}

- (BOOL)mapView:(GMSMapView *)mapView didTapMarker:(GMSMarker *)marker {
    /* don't move map camera to center marker on tap */
    mapView.selectedMarker = marker;
    return YES;
} 
```

处理对标注按钮的触摸，这里使用带有标记标题和片段的警报视图：

```
- (void)calloutAccessoryButtonTapped:(id)sender {
    if (mapView_.selectedMarker) {
        GMSMarker *marker = mapView_.selectedMarker;
        //NSDictionary *userData = marker.userData;

        UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:marker.title
                                                            message:marker.snippet
                                                           delegate:nil
                                                  cancelButtonTitle:@"OK"
                                                  otherButtonTitles:nil];
        [alertView show];
    }
} 
```

显然，确保您的 ViewController(.h) 监听 GMSMapViewDelegate：

```
@interface ViewController : UIViewController <GMSMapViewDelegate> 
```

这应该基本上可以工作。有关完整的 xcode 项目，请参阅 Ryan Maxwell 的上述[示例](https://github.com/ryanmaxwell/GoogleMapsCalloutView)。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-03-07T20:13:25.757

如果您在 GoogleMaps.Framework 中检查 GMSMapView.h，您可以看到下面的方法，它可以让您为标记添加自定义信息窗口，而不是单独使用标准标题和片段：

注意你（操作）说 annotationView=infoWindow
**BUT** NORMAL: annotationView = marker 本身和 calloutView = infoWindow

```
/**
 * Called when a marker is about to become selected, and provides an optional
 * custom info window to use for that marker if this method returns a UIView.
 * If you change this view after this method is called, those changes will not
 * necessarily be reflected in the rendered version.
 *
 * The returned UIView must not have bounds greater than 500 points on either
 * dimension.  As there is only one info window shown at any time, the returned
 * view may be reused between other info windows.
 *
 * @return The custom info window for the specified marker, or nil for default
 */
- (UIView *)mapView:(GMSMapView *)mapView
    markerInfoWindow:(id<GMSMarker>)marker; 
```

# asp.net - ASP.NET MVC：C# 下载文件并另存为对话框

> ID：15267186
> 
> 赞同：0
> 
> 时间：2013-03-07T09:16:15.220
> 
> 标签：asp.net

我已经编写了这段代码，它将生成一个 Excel 电子表格并将其保存到指定的位置。然后我想通过从存储位置读取文件然后询问用户他们想要存储它的位置来显示一个“另存为”对话框。

```
Excel.Application excelApp = null;
            Excel.Workbook wb = null;
            Excel.Worksheet ws = null;
            Excel.Range range = null;

excelApp = new Excel.Application();
            wb = excelApp.Workbooks.Add();
            ws = wb.Worksheets.get_Item(1) as Excel.Worksheet;

for(int i = 0; i< 10;++i) {
    ws.Cells[i, 1] = i+
}

wb.SaveAs(@"C:\test.xls", Excel.XlFileFormat.xlWorkbookNormal);
wb.Close(true);
excelApp.Quit(); 
```

如何下载以下格式？

```
string str = "Hello, world"; 

byte[] bytes = System.Text.Encoding.UTF8.GetBytes(str); 

return File(bytes, "text/plain"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T14:58:17.167

假设这是一个保存在**c:\temp\excelDoc.xls**的 Excel 文档，并且假设您有一个包含这样的链接的 WebForm

```
<asp:LinkButton runat="server" ID="GetExcel" OnClick="GetExcel_Click">Download</asp:LinkButton> 
```

在您的代码隐藏中，您可以从磁盘读取文件并通过类似这样的方式发送给用户

```
 protected void GetExcel_Click(object sender, EventArgs e)
    {
        var fileName = "excelDoc.xls";
        using (var cs = new FileStream(@"c:\temp\" + fileName, FileMode.Open))
        {
            Response.Clear();
            Response.AddHeader("content-disposition", "attachment; filename=" + fileName);
            Response.ContentType = "application/vnd.ms-excel";

            byte[] buffer = new byte[32768];
            int read;
            while ((read = cs.Read(buffer, 0, buffer.Length)) > 0)
            {
                Response.OutputStream.Write(buffer, 0, read);
            }

            Response.End();
            Response.Flush();
        }
    } 
```

# spring - java.lang.IllegalStateException：Bean 名称“newReward”的 BindingResult 和普通目标对象都不能用作请求属性

> ID：15267187
> 
> 赞同：0
> 
> 时间：2013-03-07T09:16:17.490
> 
> 标签：spring, spring-mvc

我是 Spring MVC 的新手，遵循“Spring in Action”一书，从头开始创建自己的项目。尝试访问“reward.jsp”时出现以下异常：

> java.lang.IllegalStateException：Bean 名称“reward”的 BindingResult 和普通目标对象都不能用作请求属性

我的课程内容：

**奖励.jsp**

```
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib uri="http://www.springframework.org/tags/form" prefix="sf"%>
<html>
<head>
<title>Rewards</title>
</head>
<body>
    <h1>Rewards module</h1>

<h2>Add reward</h2>
<sf:form action="add" method="post" modelAttribute="reward">
    Reward name:<sf:input path="name" />
    Point value:<sf:input path="pointValue" />
    <input type="submit" value="Add">
</sf:form>

<br />
<h2>Reward list</h2>
<table>
    <c:forEach var="reward" items="${rewardList}">
        <tr>
            <td>${reward.name}</td>
            <td>${reward.pointValue}</td>
            <td><a href="delete/${reward.id}">delete</a></td>
        </tr>
    </c:forEach>
</table> 
```

当我删除表单输入时它工作得很好。

**奖励控制器.java**

```
@Controller
public class RewardController {

@Autowired
private RewardService rewardService;

@RequestMapping("/reward")
public String listRewards(Map<String, Object> model) {
    model.put("rewardList", rewardService.listReward());
    return "reward";
}

@RequestMapping(value = "/add", method = RequestMethod.POST)
public String addReward(@ModelAttribute("reward") Reward reward,
        BindingResult result) {

    rewardService.addReward(reward);
    return "redirect:/reward";
}

@RequestMapping("/delete/{rewardId}")
public String deleteContact(@PathVariable("rewardId") long rewardId) {
    rewardService.removeReward(rewardId);
    return "redirect:/reward";
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:15:33.830

更改您的`listRewards`方法，以便将表单支持对象添加到模型映射`model.put("reward", new Reward())`。

```
@RequestMapping("/reward")
public String listRewards(Map<String, Object> model) {
    model.put("rewardList", rewardService.listReward());
    model.put("reward", new Reward())
    return "reward";
} 
```

# ajax - 使用 jQuery 将自动调整大小添加到服务器端生成的文本区域

> ID：15267189
> 
> 赞同：0
> 
> 时间：2013-03-07T09:16:20.167
> 
> 标签：ajax, jquery, textarea

我正在使用一个名为“ [jQuery Autosize](http://www.jacklmoore.com/autosize)！”的插件。在我的文本区域。我怎样才能让它自动调整我的服务器端生成的文本区域，因为它们是在页面已经加载时生成的。

这是生成服务器端文本区域的代码。`resultErrorObj.node_html`包含服务器端生成的文本区域，如下所示。

```
$(document).ready(function() {
$("#postUpdate").submit(function(event){
      // setup some local variables
      var $form = $(this),
          // let's select and cache all the fields
          $inputs = $form.find("input"), 
          // serialize the data in the form
          serializedData = $form.serialize();
      // let's disable the inputs for the duration of the ajax request
      $inputs.attr("disabled", "disabled");
      // fire off the request to /form.php
      $.ajax({
          url: base_url + "ajax/post_status_update",
          type: "post",
          data: serializedData,
          // callback handler that will be called on success
          success: function(response, textStatus, jqXHR){
                    var resultErrorObj = jQuery.parseJSON(response);
                    if (resultErrorObj.status == 1)
                    {           $(resultErrorObj.node_html).hide().insertAfter('#activitiesStream').slideDown('fast');
            }
            else
            {
                alert(resultErrorObj.error);
            }
          },
          // callback handler that will be called on error
          error: function(jqXHR, textStatus, errorThrown){
              // the error 
              alert("Error here " + errorThrown);
          },
          // callback handler that will be called on completion
          // which means, either on success or error
          complete: function(){
              // enable the inputs
              $inputs.removeAttr("disabled");
          }
      });

      // prevent default posting of form
      event.preventDefault();
}); 
```

});

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:28:13.870

Autosize 的网站 ( [http://jacklmoore.com/autosize](http://jacklmoore.com/autosize) ) 显示您可以手动触发自动调整大小。

# php - 将soap调用中的参数传递给php中的wsdl的问题

> ID：15267190
> 
> 赞同：0
> 
> 时间：2013-03-07T09:16:21.750
> 
> 标签：php, soap, wsdl

我有一个 wsdl 文件，如下所示

```
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:not="http://notification.ws.api.com/">
   <soapenv:Header/>
    <soapenv:Body>
      <not:getNotificationWS>
        <!--Optional:-->
        <notification>
          <!--Zero or more repetitions:-->
          <notificationList>
             <!--Optional:-->
             <email>?</email>
             <!--Optional:-->
             <phone>?</phone>
             <userId>?</userId>
          </notificationList>
        </notification>
      </not:getNotificationWS>
    </soapenv:Body>
 </soapenv:Envelope> 
```

我在我的php中通过soap调用上面的wsdl，下面是我试图调用上面的wsdl的soapcall。

```
 $response = new SoapClient("http://127.0.0.1:8080/API/ws/TESTWS?wsdl");
  try{
     $soapstr = $response->__soapCall("getNotificationWS",array("parameters" => array(  'email'       => "google@gmail.com",
         'phone'       => "1111111",
         'userId'       => "100"
               )));
     echo print_r($soapstr);

  }catch (Exception $e){
      echo $e->getMessage();
  } 
```

我没有得到任何输出或错误。我打印我的最后一个请求，它返回以下 xml

```
 <?xml version="1.0" encoding="UTF-8"?>
 <SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns1="http://notification.ws.api.easymed.com/">
     <SOAP-ENV:Body>
        <ns1:getNotificationWS />
     </SOAP-ENV:Body>
 </SOAP-ENV:Envelope> 
```

如何在php中的soap请求中发送数据建议我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-13T10:19:55.677

在 xml 中看不到您的“参数”。您既不使用通知也不使用通知列表

```
array ( 'notification' => array ( 'notificationList'  => array ( 'phone' => 1111, 'userId' => 999 ) ) ) 
```

# iphone - 永远不会在 google API for ios 中上传数据进度

> ID：15267191
> 
> 赞同：7
> 
> 时间：2013-03-07T09:16:22.510
> 
> 标签：iphone, ios, objective-c, ipad, google-drive-api

我在我的应用程序中使用 GoogleDrive API 从我的应用程序上传文件。到目前为止，我成功并为上传所有类型的文件找到了很好的结果。

我按照[谷歌示例](https://developers.google.com/drive/examples/objectivec)上传文件。

我试图在上传时显示进度，具体取决于文件大小。我在谷歌给出的示例代码中经历了许多课程，但结果并不多。

**获取文件上传进度的步骤：**

我在 GTLServices.m 中找到了以下方法

```
- (void)setUploadProgressBlock:(GTLServiceUploadProgressBlock)block {
  [uploadProgressBlock_ autorelease];
  uploadProgressBlock_ = [block copy];

  if (uploadProgressBlock_) {
    // As above, we need the fetcher to call us back when bytes are sent.
    SEL sentDataSel = @selector(objectFetcher:didSendBytes:totalBytesSent:totalBytesExpectedToSend:);
    [[self objectFetcher] setSentDataSelector:sentDataSel];
  }
} 
```

之后在 MyViewController.m 中这样写

```
 [self.driveService setUploadProgressBlock:^(GTLServiceTicket *ticket, unsigned long long numberOfBytesRead, unsigned long long dataLength) {
  NSLog(@"uploading");

}]; 
```

NSLog 以上永远不会因此而被原谅，因为我无法获取上传的数据字节。通过调试，我发现**uploadProgressBlock_**总是显示为零。这可能是我的块处理程序没有被执行的原因。

如果我有任何错误来解决它，请建议我。如果有人知道将数据字节上传到谷歌驱动器以获取文件，请建议我。你的建议对我的工作更有用。

提前致谢。

**通过采纳我们的乡亲建议的综合答案：**

这是获取上传进度信息的代码

```
GTLServiceTicket *uploadTicket= [self.driveService executeQuery:query completionHandler:^(GTLServiceTicket *ticket,GTLDriveFile *updatedFile,NSError *error)
        {
            if (error == nil)
            {
                [self.delegate completedFileUploadingToGoogleDrive];
                NSError *fileDeletionError=nil;
                [[NSFileManager defaultManager] removeItemAtPath:absalutePath error:&fileDeletionError];
            } else
            {
                [self.delegate errorOccoredWhileUploadingToGoogleDrive:error];
            }
        }];

        [uploadTicket setUploadProgressBlock:^(GTLServiceTicket *ticket, unsigned long long totalBytesWritten, unsigned long long totalBytesExpectedToWrite) {
            [self.delegate uploadedFileInfoInKB:(float)totalBytesExpectedToWrite/1024 and:(float)totalBytesWritten/1024];
        }]; 
```

编码快乐！！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-15T18:32:57.860

我已成功使用上传块回调...将其分配给`GTLServiceTicket`您从该`executeQuery`方法获得的对象。

**样本：**

```
GTLServiceTicket *uploadTicket =  [self.driveService executeQuery:query  completionHandler:^(GTLServiceTicket *ticket,  GTLDriveFile *insertedFile, NSError *error) 
                                           { // completion 
                                           }];

        [uploadTicket setUploadProgressBlock:^(GTLServiceTicket *ticket, unsigned long long totalBytesWritten, unsigned long long totalBytesExpectedToWrite) 
         {
             // progress
         } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-01-25T17:53:45.583

我最近使用了 FabioL 的答案，但在 Swift 2.3 中，它看起来像这样

```
 let serviceTicket = service.executeQuery(query, completionHandler:  { (ticket, insertedFile , error) -> Void in
        let myFile = insertedFile as? GTLDriveFile

        if error == nil {
            alert.title = "Image Uploaded"
            alert.message = "100%"
            if progressView != nil {
                progressView!.progress = 1
            }
        } else {
            print("An Error Occurred! \(error)")
            alert.title = "There was an error uploading"
        }
    })

    //update UI on progress
    serviceTicket.uploadProgressBlock = {(ticket, written, total) in
        if progressView != nil {
            let progressCalc: Float = (Float(written)/Float(total))
            alert.message = "\(progressCalc*100)%"
            progressView!.progress = progressCalc
        }
    } 
```

随着上传的发生，它会更新 ProgressView 并在完成时更改 UIAlertViewController 的标题和消息

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-11T04:43:12.650

我怀疑这可能与`NS_BLOCKS_AVAILABLE`您的项目中缺少#define 设置有关。`-setUploadProgressBlock:`如果是这样，那么我认为您需要定义一个方法，而不是 using ：

```
 - (void)ticket:(GTLServiceTicket *)ticket
 hasDeliveredByteCount:(unsigned long long)numberOfBytesRead
      ofTotalByteCount:(unsigned long long)dataLength; 
```

然后将其指定为要在代码中使用的回调，例如：

```
 [self.driveService setUploadProgressSelector:@selector(ticket:hasDeliveredByteCount:ofTotalByteCount:)]; 
```

（`uploadProgressSelector`在 GTLService.h 中搜索；那里有一条可能有用的评论。）

# c# - Tic Tac Toe - 检测输赢或平局

> ID：15267197
> 
> 赞同：7
> 
> 时间：2013-03-07T09:16:32.860
> 
> 标签：c#, arrays, tic-tac-toe

这是一个井字游戏发生器。仅计算机与计算机，与通常的播放器与计算机略有不同。我的大部分代码都是为此编写的，但我遇到的问题是有时当我生成游戏时，整个棋盘都填满了，会有一行 X 和一行 O，它会作为平局出现. 有时会生成两行X或两行O，并且游戏不会在第一行连续3个之后停止……有什么见解吗？谢谢你。

```
namespace TicTacToe
{
    public partial class Form1 : Form
    {
        private Random rn = new Random();

        const int SIZE = 9;
        char[] cell = new char[SIZE];
        char firstPlayer = ' ', secondPlayer = ' ';

        private void button1_Click(object sender, EventArgs e)
        {
            //Clear the labels and starting values

            for (int i = 0; i < SIZE; i++)
            {
                cell[i] = ' ';
            }
            label10.Text = "";

            //Pick X or O to go first
            switch (rn.Next(2))
            {
                case 0: firstPlayer = 'O'; secondPlayer = 'X'; break;
                case 1: firstPlayer = 'X'; secondPlayer = 'O'; break;
            }

            //Get five non-repeating numbers from 0 to 8
            int[] positions = new int[5];
            positions[0] = rn.Next(9);
            for (int i = 1; i < 5; i++)
            {
                int temp = rn.Next(9);
                for (int j = 0; j < i; j++)
                {
                    if (temp == positions[j])
                    {
                        i--;
                        break;
                    }
                    else
                    {
                        positions[i] = temp;
                    }
                }
            }

            //Set each position found to have first players letter
            for (int i = 0; i < 5; i++)
            {
                cell[positions[i]] = firstPlayer;
            }

            for (int i = 0; i < SIZE; i++)
            {
                if (cell[i] != firstPlayer)
                {
                    cell[i] = secondPlayer;
                }
            }
            //Place cell values into the labels
            label1.Text = cell[0].ToString();
            label2.Text = cell[1].ToString();
            label3.Text = cell[2].ToString();
            label4.Text = cell[3].ToString();
            label5.Text = cell[4].ToString();
            label6.Text = cell[5].ToString();
            label7.Text = cell[6].ToString();
            label8.Text = cell[7].ToString();
            label9.Text = cell[8].ToString();

            //Check for a winner
            switch(checkWinner())
            {
                case 'T' : label10.Text = "It's a tie!"; break;
                case 'O' : label10.Text = "O Wins!"; break;
                case 'X' : label10.Text = "X Wins!"; break;
                default: label10.Text = "This will never appear"; break;
            }
        }

        private char checkWinner()
        {
            //return either 'T' for tie, 'O' for O wins, and 'X' for X wins
            char winner = ' ';
            int winning_line = 0;
            //check for a row win
            if(cell[0].Equals(cell[1]) && cell[0].Equals(cell[2]))
            {
                winning_line++;
                winner = cell[0];
            }
            if (cell[3].Equals(cell[4]) && cell[3].Equals(cell[5]))
            {
                winning_line++;
                winner = cell[3];
            }
            if (cell[6].Equals(cell[7]) && cell[6].Equals(cell[8]))
            {
                winning_line++;
                winner = cell[6];
            }

            //check for column wins
            if (cell[0].Equals(cell[3]) && cell[0].Equals(cell[6]))
            {
                winning_line++;
                winner = cell[0];
            }
            if (cell[1].Equals(cell[4]) && cell[1].Equals(cell[7]))
            {
                winning_line++;
                winner = cell[1];
            }
            if (cell[2].Equals(cell[5]) && cell[2].Equals(cell[8]))
            {
                winning_line++;
                winner = cell[2];
            }
            //check for diagonal winner
            if (cell[0].Equals(cell[4]) && cell[0].Equals(cell[8]))
            {
                winning_line++;
                winner = cell[0];
            }
            if (cell[2].Equals(cell[4]) && cell[2].Equals(cell[8]))
            {
                winning_line++;
                winner = cell[2];
            }

            if (winning_line == 0 || winning_line > 1)
            winner = 'T';

            return winner;
        }

        public int i { get; set; }
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T09:22:30.040

```
if (winning_line == 0 || winning_line > 1) 
```

如果有两条线，它将 r 端口平局。如果你想在划线时停下来，你需要在每一步之后检查赢家，而不是在整个棋盘都填满之后。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T09:20:47.163

第二个对角线获胜者检查应该是 6 而不是 8。

您当前正在检查：
XOO
OXO
OOX

和：
OOX
OXO
OOX

显然最后一个 x 应该在左边。

正如其他人所发布的那样。制作两条线不应导致平局。一个玩家甚至可以单独制作两条线，导致平局。
更改函数以在找到获胜行时立即返回结果，并在每次移动后检查它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-10-21T21:24:37.727

这有效：您需要摆脱...

> 如果（获胜线 == 0 || 获胜线 > 1）

用这三段代码替换那行代码：

```
 if (winnerX == " X ")
    {
        theWinner = winnerX;
    }
    if (winnerO == " O ")
    {
        theWinner = winnerO;
    }
    if(winnerX == " X " && winnerO == " O ")
    {
        winnerT = " T ";
        theWinner = winnerT;
    } 
```

所以我所做的就是改变一些事情。我没有使用“winning_line++;” 一点代码。相反，我为每个 if 语句检查做了类似的事情。

```
 if (cell[2, 0].Equals(cell[1, 1]) && cell[2, 0].Equals(cell[0, 2]))
        {
            if (cell[2, 0] == 0)
            {
                winnerX = " X ";
            }

            else if (cell[2, 0] == 1)
            {
                winnerO = " O ";
            }
        } 
```

所以我有 4 个字符串，我正在使用一个来跟踪 X 是否有获胜线，对于 O 也是如此。然后我有一个获胜者字符串来跟踪平局。它仅用于代替您的旧领带检查 if 语句所在的位置。

如果您决定使用字符串而不是整数，您还需要更改您的 switch 语句，即

```
 switch (checkWinner())
        {
            case " X ": 
                textBox1.Text = "X Wins!";
                break;
            case " O ":
                textBox1.Text = "O Wins!";
                break;
            case " T ": 
                textBox1.Text = "It's a tie!";
                break;
        } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T09:32:20.687

嗨，您应该有一个功能，给定一个网格和一个新棋子，告诉您游戏是否结束。然后如果游戏结束了，你知道赢家是最后一个棋子。

我认为 Marthyi 的开源项目 MikMak 有一个完美的实现，见

```
bool IsFinished(Grid currentState, Pawn newPawn) 
```

在：

[https://github.com/Marthyi/MikMak/blob/master/MikMakSolution/Morpion/MorpionManager.cs](https://github.com/Marthyi/MikMak/blob/master/MikMakSolution/Morpion/MorpionManager.cs)

祝你好运！

# symfony - Symfony2，Doctrine search and order by distance

> ID：15267205
> 
> 赞同：5
> 
> 时间：2013-03-07T09:17:00.283
> 
> 标签：symfony, doctrine, repository, distance

我有一个存储纬度和经度的地点数据库。我想查询数据库以查找`$requestedDistance`特定纬度 ( `$latitude`) 和经度 ( `$longitude`) 的半径 ( ) 内的所有地点。

下面的查询有效并仅返回此半径内的那些地方，但是我将如何按距离对它们进行排序，以便最接近的是第一个？过去，我使用原始 SQL 在 SELECT 语句中完成了计算并将其设置为“距离”，然后使用`HAVING distance < $requestedDistance ORDER BY distance`了，但是我不确定如何使用 Doctrine Repository 将计算添加到 SELECT 查询中。

```
$d = $this->getDoctrine()->getRepository('XXXWebsiteBundle:Locations')->createQueryBuilder('l');
        $d
            ->add('where','l.enabled = 1')
            ->andWhere('( 3959 * acos( cos( radians('.$latitude.') )
                * cos( radians( l.latitude ) )
                * cos( radians( l.longitude )
                - radians('.$longitude.') )
                + sin( radians('.$latitude.') )
                * sin( radians( l.latitude ) ) ) ) < '.$requestedDistance);

       $result= $d->getQuery(); 
```

**更新**

感谢@Lazy Ants，我尝试了以下查询：

```
$d = $this->getDoctrine()->getRepository('XXXWebsiteBundle:Locations')->createQueryBuilder('l');
    $d
        ->select('l')
        ->addSelect(
            '( 3959 * acos(cos(radians(' . $latitude . '))' .
                '* cos( radians( l.latitude ) )' .
                '* cos( radians( l.longitude )' .
                '- radians(' . $longitude . ') )' .
                '+ sin( radians(' . $latitude . ') )' .
                '* sin( radians( l.latitude ) ) ) ) as distance'
        )
        ->andWhere('l.enabled = :enabled')
        ->setParameter('enabled', 1)
        ->andWhere('distance < :distance')
        ->setParameter('distance', $requestedDistance)
        ->orderBy('distance', 'ASC'); 
```

但是，它返回以下错误：

```
`An exception occurred while executing 'SELECT COUNT(*) AS dctrn_count FROM 
(SELECT DISTINCT il0 FROM (SELECT l0_.id AS il0, l0_.name AS name2, l0_.address1 
AS address14, l0_.address2 AS address25, l0_.postcode AS postcode6, l0_.town AS 
town7, l0_.county AS county8, l0_.enabled AS enabled11, l0_.date_created AS 
date_created12, l0_.date_modified AS date_modified13, l0_.latitude AS 
latitude19, l0_.longitude AS longitude20, 3959 * ACOS(COS(RADIANS(53.51331889999999)) 
* COS(RADIANS(l0_.latitude)) * COS(RADIANS(l0_.longitude) - 
RADIANS(-2.935331099999985)) + SIN(RADIANS(53.51331889999999)) * 
SIN(RADIANS(l0_.latitude))) AS sclr21 FROM locations l0_ WHERE l0_.enabled = ? 
AND sclr21 < ? ORDER BY sclr21 ASC) dctrn_result) dctrn_table' with params 
{"1":1,"2":30}:

SQLSTATE[42S22]: Column not found: 1054 Unknown column 'sclr21' in 'where clause'` 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T09:59:19.840

```
 $d = $this->getDoctrine()->getRepository('XXXWebsiteBundle:Locations')->createQueryBuilder('l');
    $d
        ->select('l')
        ->addSelect(
            '( 3959 * acos(cos(radians(' . $latitude . '))' .
                '* cos( radians( l.latitude ) )' .
                '* cos( radians( l.longitude )' .
                '- radians(' . $longitude . ') )' .
                '+ sin( radians(' . $latitude . ') )' .
                '* sin( radians( l.latitude ) ) ) ) as distance'
        )
        ->andWhere('l.enabled = :enabled')
        ->setParameter('enabled', 1)
        ->having('distance < :distance')
        ->setParameter('distance', $requestedDistance)
        ->orderBy('distance', 'ASC'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-12T12:10:44.227

您正在使用没有 where() 的 andWhere()。

将 andWhere() 替换为 where()。

如果某些属性映射到名为“sclr21”的列上，请同时检查您的实体定义，以便您还可以发现哪个属性有问题。

# unix - Groovy 安装错误

> ID：15267207
> 
> 赞同：2
> 
> 时间：2013-03-07T09:17:02.927
> 
> 标签：unix, groovy

我在我的 unix 机器上安装了 Groovy 2.1.1。执行**groovysh**时出现以下错误。

```
Exception in thread "main" java.lang.NoClassDefFoundError: error:
Caused by: java.lang.ClassNotFoundException: error:
    at java.net.URLClassLoader.findClass(URLClassLoader.java:423)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:660)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:346)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:626)
Could not find the main class: error:.  Program will exit. 
```

这个错误的可能根本原因是什么......？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T16:32:07.870

由于您使用的是 IBM J9，根据[Grails FAQ](http://grails.org/FAQ#Q%3a%20Deploying%20under%20IBM%27s%20J9%20JVM%20%20%28applies%20to%20WebSphere%20installs%20too%29)，J9 需要一个参数才能很好地与 Groovy 一起工作，否则您可能会收到`NoClassDefFound`错误：

添加`-Xverify:none`到 JVM 参数

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:20:27.653

在某个地方，您尝试使用该类`error:`（是的，Groovy 认为冒号是类名的一部分），或者在您执行的脚本中（即必须在`new error:`某个地方），或者您编写类似的东西`groovysh error:`或者您导入`error:`（可能是间接的）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-01T10:36:25.197

[从http://groovy.codehaus.org/Download](http://groovy.codehaus.org/Download)下载 Groovy 二进制文件

下载 zip：二进制版本

提取本地磁盘说 D;\GROOVY\ groovy-2.3.9

它包含文件夹结构 D:。├───bin ├───conf ├───嵌入式 ├───indy ├───lib └───META-INF

转到控制面板\用户帐户\用户帐户更改我的环境变量

设置/新 GROOVY_HOME = D:\GROOVY\groovy-2.3.9 （不要放：分号）

设置 PATH = C:\Program Files\Java\jdk1.8.0_25\bin;%GROOVY_HOME%\bin;

将 groovy-all.jar 添加到 CLASSPATH

D:\ GROOVY\ \groovy-2.3.9\embeddable\groovy-all-2.3.9.jar;.

关闭和打开命令和说 -groovy

对于控制台 -groovyConsole

# facebook-php-sdk - facebook sdk (php) 无法获取访问令牌

> ID：15267211
> 
> 赞同：0
> 
> 时间：2013-03-07T09:17:21.607
> 
> 标签：facebook-php-sdk, codeigniter-2

编辑：见这张照片：[http](http://trackauthoritymusic.com/wwwroot/images/fb-issue-bug.jpg) ://trackauthoritymusic.com/wwwroot/images/fb-issue-bug.jpg 。

*   对于通过 FB 重定向从我的页面获取的网络选项卡和所有 HTTPS 标头的快照。
*   上图中的窗口显示了下面代码中的 var_dump：
    *   对于访问令牌，我只获得默认的组合 appId|secret。
    *   当我在 Facebook 的第一个联系点上 var_dump $_REQUESTS 时，我什么也得不到，所以我知道 codeigniter 没有删除这些值，但我绝对没有从 Facebook 收到“signed_request”帖子！
*   我 85.1% 确定我的 Facebook 应用程序设置没问题。我在测试时进行了数十次调整和重置，但均未成功。
*   当我使用浏览器哈希中的访问令牌将设置切换到客户端方法时，我确实得到了一个有效的令牌，但我拼命地试图避免我页面上的所有 javascript 并且无论如何都需要集成 php。
*   所有这一切**只有在您批准该应用程序后才会发生**，我可以在 Insights 中手动查找他们的成员资格，但知道他们在没有看到他们的令牌的情况下无法访问该应用程序。

**自从我的原始帖子低于**4 月 24日以来，我一直把这个错误放在一边：....

试错和研究已经 3 天了：

**我的环境：**使用 facebook sdk 3 和 CodeIgniter 2 的 LAMP

**登录代码：**

```
    $CI->load->library('facebook', array("appId"=>APP_ID, "secret"=>APP_SECRET));
    $this->visitor['access_token'] = $CI->facebook->getAccessToken();            
    $fb_id = $CI->facebook->getUser();
    var_dump($CI->facebook); //见上图
    var_dump($fb_id); // == 0
    如果 ($fb_id && $fb_id > 0) {
    $temp = $CI->users->getUserByFb($fb_id);
    如果 (!$temp) {
        $this->insertFBUser($fb_id);
        $this->visitor['redirect'] = "?prompt=newfb";
    } 别的 {
        $this->visitor = array_merge($this->visitor, $temp);                   
        if (isset($this->visitor['user_allowed']) && $this->visitor['user_allowed'] == 0) {
            $CI->users->updateUser(array("user_allowed" => 1), $this->visitor['user_id']);
        }
    }
    } 别的 {
    array_push($this->errors, $CI->input->get_post("error_msg", false));
    array_push($this->errors, $CI->input->get_post("error_code", false));
    array_push($this->errors, $CI->input->get_post("error_reason", false));
    array_push($this->errors, $CI->input->get_post("error", false));
    array_push($this->errors, $CI->input->get_post("error_description", false));    
    if ($CI->input->get_post("autoclose", false) == true) {
        array_push($this->errors, "javascript stackoverflow 的编码很奇怪，但基本上改变了弹出窗口的标签，所以父页面会自动关闭它");
    }
    var_dump($this->errors);
    死（“纳达”）；
    }

```

**研究与调试：**

*   这篇文章也描述了我的问题，但解决方案不起作用：**stackoverflow.com/questions/8587098/suddenly-getuser-became-to-return-0-php-3-1-1-sdk**有或没有尾随逗号在此页面上的 DROP_QUERY_PARAMS 数组中。

*   Facebook 在 url、post 或 session 中没有向我发送任何错误消息，并且很好地抓取了我的页面

*   几天前一切正常，我对这段代码几乎没有改变。

*   无论我使用 http 还是 https，登录现在都会失败

*   弹出链接在以下位置打开：
    www.facebook.com/dialog/oauth ?client_id=222912307731474& **redirect_uri =https%3A%2F%2Ftrackauthoritymusic.com%2Fmanage%2Fusers%2Flogin%3Fautoclose%3Dtrue&state=4522cb9da5bf5107d690a22eee6c5a2e&scope=email&display=期望的登录URL同时具有状态和代码参数显然有效的：** trackauthoritymusic.com/manage/users/login?autoclose=true&state=4522cb9da5bf5107d690a22eee6c5a2e&code=AQBfSkI4y_VxhCuF3coVvNmjetdGZjugyFv0UsLlKt5sR5MEGdY8KqpDXZKvqHTGaSHhzY4pHXuR_zmilkwmoQ5y6M9jh15GPI6DXz5E2fSBizAVlrlebriNGcNZb4DRaDFK8cxPJoa9xB2ERuimtuizmlZERNa8hwJxLXtztqkWWhkLFCaGjQvAyyf5jJRkuoztmvfKDIZz3W9lslM6fk_m

但此时，sdk 无法获取任何访问令牌或 facebook 会话数据。

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-09T01:40:28.980

我通过在 Facebook SDK 中使用 codeigniter 的输入库来获取代码/令牌和所有 $_GET/$_POST/$_REQUEST 全局变量来解决此问题。

请参阅 facebook sdk 上的 git diff。我仍然不确定我做了什么来打破这个。OAuth/Login 在某个时间点之前一直在工作。我敢肯定这不仅仅是codeigniter偶尔清除全局变量的一些竞争条件

```
@@ -490,10 +490,11 @@
*/
   public function getSignedRequest() {
     if (!$this->signedRequest) {
-      if (!empty($_REQUEST['signed_request'])) {
-        $this->signedRequest = $this->parseSignedRequest(
-          $_REQUEST['signed_request']);
-      } elseif (!empty($_COOKIE[$this->getSignedRequestCookieName()])) {
+      $CI = & get_instance();
+      $signed_request = $CI->input->get_post("signed_request");
+      if (!empty($signed_request)) {
+        $this->signedRequest = $this->parseSignedRequest($signed_request);
+      } else if (!empty($_COOKIE[$this->getSignedRequestCookieName()])) {
         $this->signedRequest = $this->parseSignedRequest(
           $_COOKIE[$this->getSignedRequestCookieName()]);
       }
@@ -691,15 +692,18 @@
   protected function getCode() {
-    if (isset($_REQUEST['code'])) {
-      if ($this->state !== null &&
-          isset($_REQUEST['state']) &&
-          $this->state === $_REQUEST['state']) {
-
+    $CI = & get_instance();
+    $code = $CI->input->get_post("code");
+    if (!empty($code)) {
+      $state = $CI->input->get_post("state");
+      if ($this->state !== null && $state && $this->state === $state) {
         // CSRF state has done its job, so clear it
         $this->state = null;
         $this->clearPersistentData('state');
-        return $_REQUEST['code'];
+        return $code;
       } else {
         self::errorLog('CSRF state token does not match one provided.');
         return false;
        $params['access_token'] = $this->getAccessToken();
     } 
```

# java - 连接被拒绝错误 Java/Linux

> ID：15267215
> 
> 赞同：0
> 
> 时间：2013-03-07T09:17:29.650
> 
> 标签：java, linux, sockets, port

我正在尝试将现有项目移动到新的（linux）服务器环境（注意，我没有直接访问代码的权限，也没有对该项目的任何了解 - 谈论一个很好的开始），在开始时我收到以下错误的项目：

```
Exception in thread "main" javax.naming.CommunicationException: Could not obtain connection to any of these urls: <servername>:1459 [Root exception is javax.naming.CommunicationException: Failed to connect to server <servername>:1459 [Root exception is javax.naming.ServiceUnavailableException: Failed to connect to server <servername>:1459 [Root exception is java.net.ConnectException:     Connection refused]]]
    at org.jnp.interfaces.NamingContext.checkRef(NamingContext.java:1562)
    at org.jnp.interfaces.NamingContext.lookup(NamingContext.java:634)
    at org.jnp.interfaces.NamingContext.lookup(NamingContext.java:627)
    at javax.naming.InitialContext.lookup(InitialContext.java:392)
    at org.jboss.Shutdown.main(Shutdown.java:214)
Caused by: javax.naming.CommunicationException: Failed to connect to server <servername> [Root exception is javax.naming.ServiceUnavailableException: Failed to connect to server <servername>:1459 [Root exception is java.net.ConnectException: Connection refused]]
    at org.jnp.interfaces.NamingContext.getServer(NamingContext.java:274)
    at org.jnp.interfaces.NamingContext.checkRef(NamingContext.java:1533)
    ... 4 more
Caused by: javax.naming.ServiceUnavailableException: Failed to connect to server <servername>:1459 [Root exception is java.net.ConnectException: Connection refused]
    at org.jnp.interfaces.NamingContext.getServer(NamingContext.java:248)
    ... 5 more
Caused by: java.net.ConnectException: Connection refused
    at java.net.PlainSocketImpl.socketConnect(Native Method)
    at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)
    at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)
    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)
    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
    at java.net.Socket.connect(Socket.java:529)
    at java.net.Socket.connect(Socket.java:478)
    at java.net.Socket.<init>(Socket.java:375)
    at java.net.Socket.<init>(Socket.java:276)
    at org.jnp.interfaces.TimedSocketFactory.createSocket(TimedSocketFactory.java:84)
    at org.jnp.interfaces.TimedSocketFactory.createSocket(TimedSocketFactory.java:77)
    at org.jnp.interfaces.NamingContext.getServer(NamingContext.java:244)
    ... 5 more 
```

现在，我已经打开了有问题的端口，看看我这样做时是否有任何变化，唉，没有任何反应。

对于这种非常模糊的信息，我很抱歉，但这确实是我所拥有的，如果您对这里可能存在的问题有任何想法，我会很乐意提供我所能提供的。

问候，

丹尼斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:24:58.087

`Connection refused`是您尝试将`connect`TCP/IP 套接字连接到不存在的服务时遇到的错误。

通常，这意味着建立连接的计算机实际上能够访问远程服务器，但没有服务正在侦听指定的端口。

这不太可能是网络配置问题。如果端口被阻止，您通常只会看到超时，或者在某些防火墙上会出现`connection reset by peer`错误。

# curl - 为什么我无法连接到 TYPO3 扩展存储库（尝试在 server2go 上开发）？

> ID：15267221
> 
> 赞同：1
> 
> 时间：2013-03-07T09:17:53.450
> 
> 标签：curl, repository, typo3

当我尝试在 server2go 上的 TYPO3 4.7 中安装语言包时，出现此错误

```
router
tx_em_Repository_Utility: Could not access remote resource 
http://repositories.typo3.org/mirrors.xml.gz 
```

我已经对此进行了谷歌搜索，并找到了在 php.ini 中启用 cURL 的建议：（`extension=php_curl.dll`通过搜索文件系统，我确保该 DLL 确实存在）。

我错过了什么？我无法连接到存储库是否还有其他原因？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T13:11:09.133

嗨，这可能是来自主机的 iptable 限制。尝试使用 curl 或联系您的主机并告诉他们添加 iptable 规则 alá `iptables -A OUTPUT -p tcp --dport 80 -d repositories.typo3.org -j ACCEPT`。

嗨尝试定义 testserver .. 本地机器，vm ..？基本上，这是 linux 的防火墙规则，允许从端口 80 上的外部获取数据 .. 前段时间我遇到了这个问题。

你试过用 curl (TYPO3 installtool) 获取文件吗？

```
[SYS][curlUse] = 1 
```

# postgresql - 如何使用 Tableau 桌面软件连接到 AWS RedShift？

> ID：15267227
> 
> 赞同：1
> 
> 时间：2013-03-07T09:18:03.773
> 
> 标签：postgresql, tableau-api, amazon-redshift

我想使用 Tableau 从 AWS RedShift 检索数据然后生成报告，我尝试使用从 Tableau 网站下载的 PostgreSQL 驱动程序，但无法建立连接。

有谁知道怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T16:36:57.210

只是为了提供更新，我相信 RedShift 连接器已针对 Tableau Desktop v7 发布，但仍处于 v8 预览版中。到目前为止，我们发现连接到我们的 RedShift 集群要容易得多。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-11T19:38:34.423

通用 ODBC 连接器也可以工作，您会看到一个有趣的弹出窗口，说某些功能可能无法按预期运行，但我们在使用它时没有遇到任何问题。

此外，Tableau 8 的红移连接器现已发布。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T17:23:50.833

如[Tableau 博客](http://www.tableausoftware.com/about/blog/2013/2/amazon-redshift-connector-preview)所述，Tableau 连接器尚未发布，但您可以联系您的客户经理试用预览版。

这就是我的团队所做的，并且顺利进行。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-01-30T18:43:07.323

现在可以将 Amazon Redshift 与 Tableau 连接起来。

连接：

1.  打开 Tableau Desktop Application 并从要连接的服务器列表中选择**Amazon Redshift**。
2.  在弹出窗口中填充以下字段，如下所示：

[![在此处输入图像描述](../Images/b86d9f89079b69367148185a0b346800.png)](https://i.stack.imgur.com/aiTxP.png)

在哪里

> **服务器：** Redshift 实例的 URL
> 
> **端口：**监听的端口
> 
> **数据库：**要连接的数据库

（以上 3 条信息可在AWS 控制台的“***配置”选项卡中的“******集群数据库属性***”部分下找到。）

 **> **用户名和密码：**经过身份验证的凭据以连接和查询上述数据库中的架构和基础表

单击登录以允许 Tableau 连接到 Amazon Redshift 实例。**

# ruby-on-rails - 如何使用omniauth在登台环境中伪造用户并设计

> ID：15267228
> 
> 赞同：1
> 
> 时间：2013-03-07T09:18:04.343
> 
> 标签：ruby-on-rails, devise, omniauth

我在本地开发环境中使用开发人员提供的omniauth（带有设计和rails 3），并在生产环境中使用多个提供程序。对于暂存环境（手动集成测试系统），我希望有类似的东西，我可以使用不同的用户/提供者登录来模拟身份验证提供者。我怎样才能做到这一点？

# c# - C# Excellibrary - 如何获取单元格内容？

> ID：15267230
> 
> 赞同：0
> 
> 时间：2013-03-07T09:18:11.837
> 
> 标签：c#, excellibrary

我需要一些快速帮助。如何使用 excellibrary 获取单元格的内容？文档很薄。

我真的没有得到示例代码：

```
 // traverse cells
 foreach (Pair<Pair<int, int>, Cell> cell in sheet.Cells)
 {
     dgvCells[cell.Left.Right, cell.Left.Left].Value = cell.Right.Value;
 }

 // traverse rows by Index
 for (int rowIndex = sheet.Cells.FirstRowIndex; 
        rowIndex <= sheet.Cells.LastRowIndex; rowIndex++)
 {
     Row row = sheet.Cells.GetRow(rowIndex);
     for (int colIndex = row.FirstColIndex; 
        colIndex <= row.LastColIndex; colIndex++)
     {
         Cell cell = row.GetCell(colIndex);
     }
 } 
```

它似乎过于复杂。我需要做类似的事情：

```
xlInfo[0,0] = cell 1,1;
xlInfo[0,1] = cell 1,2;
xlInfo[0,2] = cell 1,3; 
```

使用 EPPlus，它看起来像这样：

```
xlInfo[0,0] = sheet.Cells[1,1];
xlInfo[0,1] = sheet.Cells[1,2];
xlInfo[0,2] = sheet.Cells[1,3]; 
```

excellibrary 有类似的方法吗？*（免责声明：这些示例片段中可能会出现一些语法错误，但它们只是出于理论目的。）*

编辑：

```
xlInfo[0, 0] = Convert.ToString(sheet.Cells[1, 1]); 
```

给我一个 NullReferenceException （对象引用未设置为对象的实例。）。

我正在使用：[http ://code.google.com/p/excellibrary/](http://code.google.com/p/excellibrary/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:52:12.550

这在初始化数组后工作正常（忘记初始化它会导致我误认为有关 ExcelLibrary 的错误的错误）。

```
Workbook book = Workbook.Load(directory + "file.xls");
Worksheet sheet = book.Worksheets[0];
xlInfo = new string[sheet.Cells.LastRowIndex, 3];

xlInfo[0, 0] = Convert.ToString(sheet.Cells[1, 0]);
xlInfo[0, 1] = Convert.ToString(sheet.Cells[1, 1]);
xlInfo[0, 2] = Convert.ToString(sheet.Cells[1, 2]); 
```

# scala - Scala REPL 无法自动完成来自隐式转换的方法

> ID：15267235
> 
> 赞同：1
> 
> 时间：2013-03-07T09:18:21.883
> 
> 标签：scala, read-eval-print-loop

如果我用 scala 2.10 REPL（交互式 Scala shell）编写：

```
 """\w""". 
```

然后按`TAB`它给我：

```
+                     asInstanceOf          charAt                   
codePointAt           codePointBefore        
codePointCount        compareTo             compareToIgnoreCase       
concat                contains              .... 
```

然而，`.r`不见了。当我将相同的字符串放入 Eclipse 时，它​​也提供给我`.r`。如果我之前插入也是如此`import scala.util.matching._`。为什么 REPL 没有提供所有的可能性？

如果我尝试使用 unicode，REPL 会遇到更大的问题，例如我写：

```
"""\p{L}""". 
```

并按下`TAB` 它会给我错误：

```
scala> """\p{L}""".<console>:1: error: unclosed multi-line string literal
"""
^ 
```

同样，它在 Eclipse 中运行良好。

REPL 有这么多错误，还是我错过了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:26:37.407

是的，`r`丢失了，但是如果你写`"""\w""".r`并按回车，它仍然可以工作`res0: scala.util.matching.Regex = \w`。具有选项卡自动完成功能`r`似乎并不是必需的。unicode问题可能是由java引起的。如果您传递`-Dfile.encoding=UTF-8`给 java，您可以显式请求 UTF-8。这是一篇描述如何做到这一点的[帖子。](https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding/623036#623036)

如果您使用 Eclipse，我可以推荐[Scala 工作表插件](https://github.com/scala-ide/scala-worksheet/wiki/Getting-Started)，它是一个非常好的 repl 替代品。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T10:02:08.370

REPL 仅显示对象的字段和方法，而`.r`只能通过隐式转换 ( `augmentString`in [`scala.Predef`](http://www.scala-lang.org/api/current/index.html#scala.Predef)) 将其转换为`StringOps`. 除了需要实施并且没有人来做这件事之外，这可能没有任何理由。当然，你仍然可以调用`.r`这个。

Scala IDE 足够聪明，可以[解决 implicits](http://scala-ide.org/docs/helium/features/implicit-highlighting/index.html)，这就是您可以在那里看到它的原因。

# asp.net-mvc - ASP.NET 中的基本捆绑、缩小

> ID：15267237
> 
> 赞同：1
> 
> 时间：2013-03-07T09:18:22.847
> 
> 标签：asp.net-mvc, bundling-and-minification

ASP.NET MVC 4.0 应用程序 - Visual Studio 2012

我无法捆绑和缩小以在发布模式下工作。

我的基本不理解是：

我必须提供 *. **最小**.css，*。**MIN** .js 文件，还是应该 VS 自己缩小文件？（即：我提供了一个 mcimagemanager.js，而 VS 用它制作了一个 mcimagemanager.MIN.js）？？？

这是一个代码片段 - 在 Global.asax 中被调用：

```
 public static void RegisterBundles(BundleCollection bundles)
    {
       var im = new ScriptBundle("~/bundles/MCImageManager").Include(
                    "~/Scripts/tinymce/plugins/imagemanager/js/mcimagemanager.js"
                    );
        bundles.Add(im);
    } 
```

它在调试中工作正常 - 不在发布模式下

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T16:38:08.163

不，您不需要提供`.min`文件，捆绑程序也不会创建该版本（至少不是您在文件夹中看到的内容）。

不同的是这个。假设您同时拥有`jquery-1.9.1.js`和`jquery-1.9.1.min.js`在您的脚本文件夹中。

**调试模式**将`jquery-1.9.1.js`用作源脚本，不，它不会被缩小或捆绑，因为整个捆绑/缩小在调试模式下被禁用（尽管您可以覆盖它）。

**发布模式**将使用`jquery-1.9.1.min.js`并将它与该捆绑包的其他脚本捆绑在一起。

如果你只有一个文件，`jquery-1.9.1.js`Release 模式将使用它并缩小和捆绑它。

调试模式不会使用`.min`文件。因此，如果您使用通配符来包含脚本目录的所有文件，则不会包含您的 .min 文件。

调试模式，如果您查看呈现的 HTML，将*单独*引用包中的所有脚本文件。在发布模式下，每个包只有一个脚本引用（带有用于版本控制的查询字符串）。

其他相关阅读/帖子：

[Scripts.Render 使用过时的 javascript 文件](https://stackoverflow.com/questions/14570171/scripts-render-using-outdated-javascript-file/14570455#14570455)

[强制 ASP.Net MVC Bundle 以特定顺序呈现 javascript 文件](https://stackoverflow.com/questions/14563415/force-asp-net-mvc-bundle-to-render-the-javascript-files-in-a-certain-order/14563828#14563828)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:24:56.310

捆绑和缩小框架本身也会缩小。因此，您只需提供纯 JavaScript/CSS 文件。它一方面处理文件本身，另一方面处理视图中的注册，例如：`@Scripts.Render("~/bundles/jquery")`. 所以它“知道”视图中需要包含什么文件，它是“正常”还是“最小”版本。

有关该主题的更多信息，您可以在这个不错的练习中找到：http: [//msdn.microsoft.com/en-us/vs11trainingcourse_aspnetandvisualstudio_topic5.aspx](http://msdn.microsoft.com/en-us/vs11trainingcourse_aspnetandvisualstudio_topic5.aspx)

然而，对于面向 MVC 的应用程序来说，这可能是更好的资源：[http ://www.asp.net/mvc/tutorials/mvc-4/bundling-and-minification](http://www.asp.net/mvc/tutorials/mvc-4/bundling-and-minification)

# android - 如何在自定义 gridView 中设置子网格的 ImageResource

> ID：15267241
> 
> 赞同：0
> 
> 时间：2013-03-07T09:18:35.640
> 
> 标签：android, gridview, android-imageview

我正在尝试在自定义 gridView 中设置网格的 ImageResource。

```
ImageView imageView = (ImageView) gridview
                .findViewById(R.id.grid_item_image);
  imageView=(ImageView)gridview.getChildAt(10);
            setImage(imageView); 
```

其中 setImage(img) 是这样定义的方法

```
 public void setImage(ImageView imageView){
        imageView.setImageResource(R.drawable.ycoin);
    } 
```

但我得到

java.lang.ClassCastException：android.widget.LinearLayout 错误。

GridView 的 xml 部分

```
 <GridView 
   android:id="@+id/gridviewmain"
   android:layout_width="fill_parent" 
android:layout_height="wrap_content"
android:background="#000000"
android:columnWidth="0dp"
android:minHeight="30dp"
android:numColumns="6"
android:paddingRight="5dp"
android:stretchMode="columnWidth"
android:gravity="center"
/> 
```

和

```
 <?xml version="1.0" encoding="utf-8"?>
  <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:padding="5dp" >

<ImageView
    android:id="@+id/grid_item_image"
    android:layout_width="10px"
    android:layout_height="20px"
    android:layout_marginRight="0px"
    android:src="@drawable/ic_launcher">
</ImageView>

<TextView
    android:id="@+id/grid_item_label"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
 android:text="2"
    android:layout_marginTop="5px"
    android:textColor="#FF00FF"
    android:textStyle="bold"
    android:textSize="15px" >
</TextView>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:22:42.330

你试过这个吗

```
ImageView imageView = (ImageView) gridView.findViewById(R.id.grid_item_image);
imageView.setImageResource(R.drawable.ycoin); 
```

否则请提供您的 xml 代码。那么只有我们可以帮助你。

其实我不知道你的问题是什么。我将提供漏洞答案。尝试一下。

我们的 GridActivity 是

```
public class HomeActivity extends Activity {

     static final String[] images = { "Name 1", "Name 2", "Name 3",
     "Name 4", "Name 5", "Name 5" };

    GridView grid;      

    @Override
    protected void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.actvity_home);
        grid = (GridView) findViewById(R.id.gridView1);
        grid.setAdapter(new ImageAdapter(this, images));

        grid.setOnItemClickListener(new OnItemClickListener() {

            public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                    long arg3) {
                String label = ((TextView) arg1.findViewById(R.id.grid_item_label)).getText().toString();

                if (label.equals("Name 1")) {
                    Intent firstActivity = new Intent(HomeActivity.this,
                            FirstActivity.class);
                    startActivity(mastersActivity);
                } else if (label.equals("Name 2")) {
                    Intent secondActivity = new Intent(HomeActivity.this,
                            SecondActivity.class);
startActivity(secondActivity);
                } else if (label.equals("Name 3")) {
                    Intent thirdActivity = new Intent(HomeActivity.this,
                            thirdActivity.class);
startActivity(thirdActivity);
                } else if (label.equals("Name 4")) {
                    Intent fourthActivity = new Intent(HomeActivity.this,
                            fourthActivity.class);
startActivity(fourthActivity);
                } else if (label.equals("Name 5")) {
                    Intent secondActivity = new Intent(HomeActivity.this,
                            fifthActivity.class);
startActivity(fifthActivity);
                } else if (label.equals("Name 6")) {
                    Intent sixthActivity = new Intent(HomeActivity.this,
                            sixthActivity.class);
startActivity(sixthActivity);
                }
            }
        });         
    }
} 
```

然后我们的图像适配器类将。

公共类 ImageAdapter 扩展 BaseAdapter { 私有上下文上下文；私有最终字符串 [] 移动值；

```
public ImageAdapter(Context context, String[] mobileValues) {
    this.context = context;
    this.mobileValues = mobileValues;
}

public View getView(int position, View convertView, ViewGroup parent) {

    LayoutInflater inflater = (LayoutInflater) context
            .getSystemService(Context.LAYOUT_INFLATER_SERVICE);

    View gridView;

    if (convertView == null) {

        gridView = new View(context);

        // get layout from mobile.xml
        gridView = inflater.inflate(R.layout.grid, null);

        // set value into textview
        TextView textView = (TextView) gridView
                .findViewById(R.id.grid_item_label);
        textView.setText(mobileValues[position]);

        // set image based on selected text
        ImageView imageView = (ImageView) gridView
                .findViewById(R.id.grid_item_image);

        String mobile = mobileValues[position];

        if (mobile.equals("Name 1")) {
            imageView.setImageResource(R.drawable.image1);
        } else if (mobile.equals("Name 2")) {
            imageView.setImageResource(R.drawable.image2);
        } else if (mobile.equals("Name 3")) {
            imageView.setImageResource(R.drawable.image3);
        } else if (mobile.equals("Name 4")) {
            imageView.setImageResource(R.drawable.image4);
        }else if (mobile.equals("Name 5")) {
            imageView.setImageResource(R.drawable.image5);
        }else if (mobile.equals("Name 6")) {
            imageView.setImageResource(R.drawable.image6);
        }

    } else {
        gridView = (View) convertView;
    }

    return gridView;
}

public int getCount() {
    return mobileValues.length;
}

public Object getItem(int position) {
    return null;
}

public long getItemId(int position) {
    return 0;
}
} 
```

活动主页.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

            <GridView
                android:id="@+id/gridView1"
                android:layout_width="match_parent"
                android:layout_height="match_parent"               
                android:numColumns="2">
            </GridView>

</LinearLayout> 
```

网格.xml

```
<ImageView
    android:id="@+id/grid_item_image"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_gravity="center"
    android:src="@drawable/ic_launcher" >
</ImageView>

<TextView
    android:id="@+id/grid_item_label"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_gravity="center"
    android:layout_marginTop="1dp"
    android:text="@+id/label"
    android:textColor="#ffffff"
    android:textSize="15dp" >
</TextView> 
```

试试这个。我希望这能帮到您

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T10:24:54.760

```
imageView=(ImageView)gridview.getChildAt(10); 
```

这将返回带有 imageview 和 TextView 的 LinearLayout。当您尝试投射它时，它会抛出`ClassCastException`.

试试这个

```
 LinearLayout layout=gridview.getChildAt(10);
imageview=(ImageView)layout.findViewById(R.id.grid_item_image) 
```

我希望这能帮到您。

# c# - 更新数据库中选中的 ListBox 值

> ID：15267246
> 
> 赞同：0
> 
> 时间：2013-03-07T09:18:58.110
> 
> 标签：c#, asp.net, winforms

假设我有一个将 Id 与多个项目相关联的数据库表。用最喜欢的食物说 ID。所以看起来像

* * *

```
Id  FoodId
----------

1    1
1    54
1    543
2     42
2    4234 
```

* * *

ETC

我可以使用我的选中列表框选择/取消选择最喜欢的食物值

当我在编辑项目后更新数据库时，我是否返回并删除表中 ID 为 1 的所有先前条目，然后输入整个新集合，或者有更好的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:25:02.083

最简单的方法是你的方法。但它也是最慢的，并且会产生冗余的数据库操作。正确的方法是让新旧列表在内存中创建相应`delete`的`insert`语句。

1.  比较两个列表并从两个列表中删除所有相同的值。
2.  为“旧”列表中的所有剩余值创建`DELETE`语句。
3.  为“新”列表中的所有剩余值创建`INSERT`语句。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T10:14:27.563

```
DELETE 
FROM favfood
WHERE id=@Id and foodid not in(new_list_of_food_ids)

// serialized new_list_of_food_ids

INSERT INTO favfood(id,foodid)
(SELECT @Id, [int] 
FROM       OPENXML (@idoc, '/ArrayOfInt/int',1)
WITH ([int]  int '.')
where [int] not in (select foodid from favfood where id=@Id)) 
```

# jquery - 单击b后jQuery .load反应缓慢

> ID：15267259
> 
> 赞同：3
> 
> 时间：2013-03-07T09:19:51.133
> 
> 标签：jquery, ajax, wordpress

单击菜单时，我可以从另一个页面加载一些接近的 div 内容。这一切都有效，但是一旦内置到 Wordpress 中它真的很慢。如果我单击一个链接，它看起来好像不起作用 - 然后它会显示内容。

有任何想法吗？

这是我的html：

```
 <nav>
  <ul>
     <li><a href="<?php bloginfo('url'); ?>/about/">about</a></li>
     <li><a href="<?php bloginfo('url'); ?>/kitchen-gallery/">gallery</a></li>
     <li><a href="<?php bloginfo('url'); ?>/suppliers/">suppliers</a></li>
     <li><a href="<?php bloginfo('url'); ?>/contact/">contact</a></li>
   </ul>
   </nav> 
```

这是我的jQuery：

```
$(function () {
$("nav ul li a").click(function(event) {
    loadData(this.href + " #content");
    event.preventDefault();
});
});

  function loadData(data) {
  $('#content').load(data, '#content',function(data){
    $.getScript("http://www.mydomain.co.uk/pathtofoler/wp-content/themes/space/js/pe.flare/jquery.pixelentity.flare.min.js");

    $("#post-container").hide();

    $("#content-container").slideDown(600, function() {
        $(".block-content").slideUp(600);
        $('a[data-target="flare"]').peFlareLightbox();

        $("ul.sub li a").click(function(event) {
            loadData(this.href + " #content");
            event.preventDefault();
        });

        $('#close').click(function(){
            $('#content-container').slideUp(600);
        })

    }); 
})
}; 
```

如果需要，我可以发送一个工作链接。由于论坛的原因，我不希望它显示在谷歌搜索中，我可以 PM 这个。希望没关系。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-01T15:34:12.763

目前您正在使用 jquery 来滑动/滑动容器。另一种可能对您的问题有所帮助的方法是使用 css3 转换或转换。使用 JS 或 JQuery 将类名分配给 $('#content-container')。然后使用 css3 处理样式表中的动画。

# windows - 将 stderr 编译输出复制到单独的文件中

> ID：15267261
> 
> 赞同：0
> 
> 时间：2013-03-07T09:19:55.180
> 
> 标签：windows, batch-file, makefile, cmd

我有一个项目，它使用**make**构建，我想增加分析警告消息整体状态的可能性。

我的想法是更改**make**规则，以便在完全重建期间将**stderr**编译输出复制到单独的文件中。意味着每次**make all 都**将完成，所有输出都将打印在控制台中，此外**stderr**输出将复制到单独的文件中。

此警告报告文件将添加到存储库中，以便我可以比较存储库中存在的警告和本地警告。

问题是如何将 stderr 输出复制（而不是重定向）到单独的文件中？意味着我应该如何更改**Makefile中的****所有**目标？

 **我知道如何重定向**stderr**输出（**make all 2>warning_report.txt**），但这不是我需要的。警告消息应该在主控制台输出和警告文件中。

我使用*Windows 7*作为工作环境，但我之前没有处理过*Windows*命令行或批处理文件。

提前致谢。

**编辑：**

在我的情况下，最终解决方案如下所示：

`make all 3>&1 1>&2- 2>&3- | tee.bat warning_report.txt`

在这种情况下，脚本**tee.bat**是用*JScript* for *Windows*编写的，我取自PA 指定的[链接](https://stackoverflow.com/questions/10711839/using-a-custom-tee-command-for-bat-file/10719322#10719322)（谢谢）。

交换呢，我从[这里](https://stackoverflow.com/questions/1507816/with-bash-how-can-i-pipe-standard-error-into-another-process)和[这里](https://serverfault.com/questions/63705/how-to-pipe-stderr-without-piping-stdout)拿走了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:40:37.777

我不了解 Windows，但您可以`tee`在 Linux 中使用命令来完成。tee 用于将 STDOUT 重定向到文件和控制台，以便您可以利用它并检查是否可以解决您的问题。

`make all 2>&1 1>stdout.log | tee stderr.log`

重定向`STDERR`到`STDOUT`，重定向`STDOUT`到`stdout.log`，所有的`STDERR`都被复制到`stderr.log`控制台上回显的ans。

但解决方案还不完整。不会打印在控制台上，`STDOUT`而只会复制到`stdout.log`. 尝试使用您将得到解决方案的命令。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T06:14:27.217

我刚刚重新阅读了您的问题，并决定尝试回答。

这是一个用于导出`stderr`和显示它的片段。

```
@echo off
if exist stderr.error del stderr.error
this_is_not_a_command 2>stderr.error
if exist stderr.error type stderr.error & del stderr.error 
```

这将导出`stderr`到一个文件，然后显示该文件的内容。

希望有帮助。**

# python - Python Azure blob 存储上传文件大于 64 MB

> ID：15267263
> 
> 赞同：6
> 
> 时间：2013-03-07T09:20:04.693
> 
> 标签：python, azure, azure-storage, azure-blob-storage

从示例代码中，我可以上传 64MB，没有任何问题：

```
 myblob = open(r'task1.txt', 'r').read()
   blob_service.put_blob('mycontainer', 'myblob', myblob, x_ms_blob_type='BlockBlob') 
```

如果我想上传更大的尺寸怎么办？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-03T14:21:48.917

几天前我遇到了同样的问题，幸运地找到[了这个](http://www.windowsazure.com/en-us/develop/python/how-to-guides/blob-service/#header-9)。它将文件分解成块并为您上传。

我希望这有帮助。干杯!

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-03-15T20:21:07.213

我不是 Python 程序员。但是我可以提供一些额外的提示（我的东西都在 C 中）：

对文件所需的尽可能多的块（每个 4MB）使用 HTTP PUT 操作（comp=block 选项），然后使用合并块的最终 PUT 块列表（comp=blocklist 选项）。如果您的块上传失败或您需要中止，则删除先前上传的部分块集的清理是您要创建的文件的 DELETE 命令，但这似乎仅受 2013-08-15 版本支持（有人Azure 支持应确认这一点）。

如果你需要添加 Meta 信息，我在使用 Block List 方法时会做一个额外的 PUT 操作（带有 comp=metadata 前缀）。可能有一种更有效的方法来标记元信息而不需要额外的 PUT，但我不知道。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T08:11:30.413

这是个好问题。不幸的是，我没有看到上传任意大文件的真正实现。所以，据我所见，Python SDK 还有很多工作要做，除非我遗漏了一些非常重要的东西。

文档中提供的示例代码确实只使用了一个文本文件并立即上传。还没有实现（从我在[SDK 源代码](https://github.com/Azure/azure-sdk-for-python/)中看到的）真正的代码来支持更大文件的上传。

因此，对于您而言，要使用 Python 中的 Blob，您需要了解 Azure Blob 存储的工作原理。[从这里开始](http://msdn.microsoft.com/en-us/library/windowsazure/ee691964.aspx)。

然后快速查看[PutBlob 操作](http://msdn.microsoft.com/en-us/library/windowsazure/dd179451.aspx)的 REST API 文档。注释中提到：

> 块 Blob 的最大上传大小为 64 MB。如果您的 blob 大于 64 MB，则必须将其作为一组块上传。有关更多信息，请参阅放置块 (REST API) 和放置块列表 (REST API) 操作。如果您将 Blob 作为一组块上传，则无需调用 Put Blob。

好消息是 PutBlock 和 PutBlockList 是在 Python SDK 中实现的，但没有提供如何使用它的示例。您需要做的是手动将文件拆分为每个最多 4 MB 的块（块）。然后使用`put_block(self, container_name, blob_name, block, blockid, content_md5=None, x_ms_lease_id=None):`python SDK 中的函数上传块。最终，您将并行上传块。但是不要忘记，您还必须`put_block_list(self, container_name, blob_name, block_list, content_md5=None, x_ms_blob_cache_control=None...`在最后执行以提交所有上传的块。

不幸的是，我不是 Python 专家，无法进一步帮助您，但至少我可以很好地了解情况。

# javascript - 饼图画布在 IE 中不起作用（已编辑）

> ID：15267265
> 
> 赞同：0
> 
> 时间：2013-03-07T09:20:08.690
> 
> 标签：javascript, html5-canvas, excanvas

我是 html5 和 javascript 的新手。

第一次尝试创建 html5、javascript、css3 饼图**（不使用 jquery）**。饼图可以在 chrome 和 firefox 中完美创建。然后过了一会儿，我不小心在Internet Explorer（IE）中打开了index.html，饼图不见了。后来我意识到即使是 Komodo 的浏览器也不显示饼图。

试过了

1）谷歌，看到了一个叫做 excanvas.js 的东西。

2）在 index.html 中包含这一行

```
<!-- can't post script with arrow bracket in stackoverflow, uncomment & replace < with |-->
<!-- |script src="./js/excanvas.js"||/script|--> 
```

3）在 pie_chart_simple.js 的 initialize_para() 函数中包含这一行，

```
if(typeof canvas.getContext==='undefined')return; 
```

**结果：**

仍然无法在 Internet Explorer 中查看饼图。（仅显示表格值）

**不确定性：** 1）excanvas.js 的使用？（由于没有使用jquery，放置代码的位置） 2）ie解码的颜色格式？

介意帮忙吗？谢谢你。

有2个文件：

1）index.html：

2)pie_chart_simple.js

（**jsfiddle 链接：http:** [//jsfiddle.net/torresho/wmJb6/6/](http://jsfiddle.net/torresho/wmJb6/6/)）

1) index.html

```
<!DOCTYPE html>
<html>
<head>
<title>Pie Chart</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- can't post script with arrow bracket in stackoverflow, uncomment & replace < with |-->
<!-- |script src="./js/excanvas.js"||/script|-->
<!-- |script type="text/javascript" src="./js/pie_chart_simple.js"||/script| -->
</head>
<body>

<div id="container">

  <canvas id="chart" width="380" height="460"></canvas>

  <table id="chartData">

    <tr> 
      <th>Club</th><th>Points</th>
     </tr>

    <tr style="color: #0DA068">
      <td>MU</td><td>71</td>
    </tr>

    <tr style="color: #194E9C">
      <td>MC</td><td>59</td>
    </tr>

    <tr style="color: #ED9C13">
      <td>Tot</td><td>54</td>
    </tr>

    <tr style="color: #ED5713">
      <td>Chel</td><td>52</td>
    </tr>

    <tr style="color: #057249">
      <td>Ars</td><td>52</td>
    </tr>

  </table>

</div>

</body>

</html> 
```

2) pie_chart_simple.js：

```
// jquery method // Run the code when the DOM is ready
//$( pie_chart_simple ); 

window.onload=function(){
  pie_chart_simple();
}

function pie_chart_simple() {

  // Pie Chart Configuration Settings
  var chartSizePercent = 55;                        // The chart radius relative to the canvas width/height (in percent)
  var chartStartAngle = -0.5 * Math.PI;             // Start the chart at 12 o'clock instead of 3 o'clock
  var sliceGradientColour = "#ddd";                 // Colour to use for one end of the chart gradient (#ddd = RGB(211,211,211) = light grey)

  // Variables for the chart
  var canvas;                                       // The canvas element in the page
  var canvasWidth;                                  // Width of the canvas, in pixels
  var canvasHeight;                                 // Height of the canvas, in pixels
  var centreX;                                      // X-coordinate of centre of the canvas/chart
  var centreY;                                      // Y-coordinate of centre of the canvas/chart
  var chartRadius;                                  // Radius of the pie chart, in pixels

  var table;                                        // The table element in the page
  var numRows;                                      // The number of rows in the table
  var label_array = [];                             // An array to store the first column values (labels)
  var value_array = [];                             // An array to store the 2nd column values (values)
  var chartColors = [];                             // Chart colors (pulled from the HTML table)
  var totalValue = 0;                               // Total of all the values in the chart

  var startAngle = [];                               // Start angle of each slice 
  var endAngle = [];                                // End angle of each slice
  var startX =0;
  var startY =0;
  var change_color=0;
  initialize_para();

  /********************************** Initialization - starto************************************************/
  function initialize_para() {
      // Define the canvas element
      canvas = document.getElementById('chart');

      console.log(canvas);
      console.log('canvas='+canvas);
      console.log(canvas.getContext);
      console.log(typeof canvas.getContext);
      console.log(typeof canvas.getContext==='undefined');
      // Check if the browser does not support canvas (e.g. ie)
      // code goes here... 
      // Exit if the browser isn't canvas-capable
      if ( typeof canvas.getContext === 'undefined' ) return;

      // Acquire the parameters to determine the chart size
      canvasWidth = canvas.width;
      canvasHeight = canvas.height;
      centreX = canvasWidth/2;
      centreY = canvasHeight/2;
      chartRadius = (Math.min(canvasWidth,canvasHeight)/2)*(chartSizePercent/100);
        //alert('canvasWidth='+canvasWidth+', canvasHeight='+canvasHeight+' ,chartRadius='+chartRadius); //popup
        console.log('canvasWidth='+canvasWidth+', canvasHeight='+canvasHeight+' ,chartRadius='+chartRadius); //log

      // Get the pie chart data - labels, values and color (from the html table)
      // Alternatively, can be simplified using each() in jquery
      table = document.getElementById('chartData');
      numRows = table.rows.length;

      for (var i = 1; i<numRows; i++) {
        var trs = table.getElementsByTagName('tr')[i];
        label_array[i-1] = trs.cells[0].innerText;                // label
        value_array[i-1] = trs.cells[1].innerText;                // value
        chartColors[i-1] = trs.style.color;                       // color
        totalValue += parseFloat(value_array[i-1]);               // total value
            console.log(label_array[i-1]+' '+value_array[i-1]+' '+chartColors[i-1]+' '+totalValue);
                  // MU 71 rgb(13, 160, 104) 71 
                  // MC 59 rgb(25, 78, 156) 130 
                  // Tot 54 rgb(237, 156, 19) 184
                  // Chel 52 rgb(237, 87, 19) 236
                  // Ars 52 rgb(5, 114, 73) 288 
      }

      // Compute and store the start and end angles of each slice of the data

      var currentPos = 0;       //The current position of the slice in the pie(from 0 to 1)

        //    (3/2)pi radians / -ve pi/2 radians
        //                ^
        //                |<
        //                |  )   (starting point is here ccw direction, when drawing in canvas)
        //1pi radians-----|----> 0pi radians / 2pi radians
        //                |
        //                |
        //            pi/2 radians

      for (var i = 0; i<numRows-1; i++) {
        //console.log(i+'    '+2*currentPos+'PI');
        startAngle[i] = 2*Math.PI*currentPos;
        endAngle[i] = 2*Math.PI*(currentPos+(value_array[i]/totalValue));
        currentPos += value_array[i]/totalValue;
          console.log(i+'    '+'Slice'+' '+(i+1)+'  StartAngle: '+startAngle[i]+'   EndAngle: '+endAngle[i]);
                // 0    Slice 1  StartAngle: 0   EndAngle: 1.5489797111449675 pie_chart_simple.js:80
                // 1    Slice 2  StartAngle: 1.5489797111449675   EndAngle: 2.8361600344907854 pie_chart_simple.js:80
                // 2    Slice 3  StartAngle: 2.8361600344907854   EndAngle: 4.014257279586958 pie_chart_simple.js:80
                // 3    Slice 4  StartAngle: 4.014257279586958   EndAngle: 5.148721293383272 pie_chart_simple.js:80
                // 4    Slice 5  StartAngle: 5.148721293383272   EndAngle: 6.283185307179586 
      }

      // After working out all the data needed for the chart, draw the chart
    drawChart();

    //$('#chart').click ( handleChartClick ); // jQuery way
    // element.onclick = functionRef;
    //canvas.onclick = handleChartClick;

  }
  /********************************** Initialization - endo************************************************/

  /********************************** Draw chart - starto************************************************/

  function drawChart() {

    // Get the drawing context (canvas tag is use to draw graphics on the fly)
    // getContext() method returns an object that provides methods and properties for drawing on the canvas
    var context = canvas.getContext('2d');

    // Clear the canvas, ready for the new frame
    // (x-coordinate of upper-left corner, y-coordinate of upper-left corner,
    // width of the rectangle to clear (in pixles), height of the rectangle to clear (in pixels))
    context.clearRect(0,0,canvasWidth,canvasHeight);

    // Draw an individual slice in the chart iteratively to form a complete circular pie chart
    for (slice_number=0; slice_number<numRows-1; slice_number++) {
      drawSlice(context,slice_number);
    }
  } //function drawChart() ends

  function drawSlice(context,slice_number) {
    // Compute the adjusted start and end angles for the slice (start at 12 o'clock instead of 3 o'clock)
    var startAngle_offset = startAngle[slice_number] + chartStartAngle;
    var endAngle_offset = endAngle[slice_number] + chartStartAngle;

    // Draw the pie from the centre
    startX = centreX;
    startY = centreY;

    // Set the gradient fill for the slice
    var sliceGradient = context.createLinearGradient(0,0,canvasWidth*0.75,canvasHeight*0.75);
    sliceGradient.addColorStop(0, sliceGradientColour);
    sliceGradient.addColorStop(1, chartColors[slice_number]);
    //liceGradient.addColorStop(1,'#fff');
    //???????????
    //sliceGradient.addColorStop(0,"black");
    //sliceGradient.addColorStop(1,"white");

      //console.log('startAngle_offset='+startAngle_offset+', endAngle_offset='+endAngle_offset); //log
      //console.log('startX='+startX+', startY='+startY); //log
      //console.log('sliceGradient='+sliceGradient+', sliceGradient.addColorStop(0, sliceGradientColour)='+sliceGradient.addColorStop(0, sliceGradientColour)); //log
      //console.log('sliceGradient.addColorStop(1)='+sliceGradient.addColorStop(1,'#fff')+', sliceGradientColour='+sliceGradientColour); //log
      //console.log('chartColors[slice_number]='+chartColors[slice_number]+', slice_number='+slice_number); //log
      //console.log(' -----');

    // Draw the slice
    context.beginPath();                          
    context.moveTo(startX,startY);
    context.arc(startX,startY,chartRadius,startAngle_offset,endAngle_offset,false); //last field optional. Specifies whether the drawing should be counterclockwise or clockwise. False=clockwise, true=counter-clockwise
    context.lineTo(startX,startY);
    context.closePath();
    if (change_color == 1) {
      context.fillStyle = "rgba(0,0,0,0)";
    }
    else{
    context.fillStyle = sliceGradient;}
    context.fill();
    context.shadowColor = "rgba(0,0,0,0)";

    // Draw the slice border
    context.stroke();

    // add label
    context.fillText(label_array[slice_number],startX+slice_number*10+100,startY+slice_number*10+100);
    context.fillText(value_array[slice_number],startX+slice_number*10+100,startY+slice_number*10+100+20);
  }

 /********************************** Draw chart - endo ************************************************/

} // function pie_chart_simple() ends 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:28:57.923

并非每个浏览器版本都支持 canvas（它支持：IE 9+、FF 3.5+、chrome 4.0+、safari 4.0+、opera 10.5+）。

`excanvas`只为早期的 IE 版本带来了画布功能的某个子集。

对于 IE 9 中的画布支持，您需要使用正确的文档`<!DOCTYPE html>`类型，以便 IE 不处于兼容模式。

**编辑** 我做了一些测试，似乎取决于 和 的设置`<meta http-equiv="X-UA-Compatible"`，`doctype`至少 32 位版本的 IE 9 会强制 iframe 中加载的文档与父文档具有相同的模式。但我不知道为什么这在 64 位版本中表现不同。

所以在这里的所有PC（windows 7 64位/32位和windows vista）上，32位版本的IE 9不会在jsfiddle的iframe中显示饼图。但是，如果直接打开预览面板（[http://fiddle.jshell.net/torresho/wmJb6/6/show/](http://fiddle.jshell.net/torresho/wmJb6/6/show/)），它适用于所有这些面板。

# java - java中的绿色线程和Native线程

> ID：15267269
> 
> 赞同：20
> 
> 时间：2013-03-07T09:20:13.853
> 
> 标签：java, multithreading

*   绿色线程和原生线程有什么区别？
*   为什么它被命名为绿色和原生？

我是编程世界的新手。我喜欢学习java。在通过java线程面试问题时，我发现了这一点。我听说过线程，但不是这些绿色和原生的。我对绿色和本机线程进行了研究，但无法获得明确的想法。

在哪种情况下，线程被称为绿色或原生？（我的意思是在编程中）

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-03-07T09:46:30.090

> 绿色线程和原生线程有什么区别？

绿色线程由虚拟机调度。

本机线程由操作系统调度。

> 为什么它被命名为绿色和原生？

“Green”是较早的 JVM 线程项目代号。它是库的名称，它在[Java 1.1中提供了 VM 调度线程](http://en.wikipedia.org/wiki/Java_version_history#JDK_1.1_.28February_19.2C_1997.29)

原生线程之所以这样称呼是因为它们属于原生平台。

> 我们怎么知道创建的线程是原生的还是绿色的？

绿色线程已成为过去，JVM 自 1.3 起仅适用于本机线程

> “绿色线程”是指 Java 虚拟机本身在一个操作系统进程中创建、管理和上下文切换所有 Java 线程的模型。不使用操作系统线程库。
> 
> “本机线程”是指 Java 虚拟机使用操作系统线程库（在 UnixWare 上名为 libthread）创建和管理 Java 线程，并且每个 Java 线程都映射到一个线程库线程。

# ios - 隐藏 UINavigationBar 和状态栏问题

> ID：15267270
> 
> 赞同：0
> 
> 时间：2013-03-07T09:20:14.587
> 
> 标签：ios, objective-c

我正在尝试隐藏我的 NavigationBar 和状态栏（向上滑动动画），但遇到了问题。

当状态栏可见时，在 0 点 (x: 0) 处的每个元素的原点表示在状态栏的正下方。但是，当状态栏被隐藏时，0（x:0）点会更新以容纳新的空间，0（x:0）表示屏幕的绝对顶部。

当我隐藏状态栏并旋转到横向时，视图会自动调整大小，并且所有内容都会转移以使用状态栏的空间，并抛出我的动画：

```
if (![[UIApplication sharedApplication] isStatusBarHidden]) {
            // Change to fullscreen mode
            // Hide status bar and navigation bar
            [[UIApplication sharedApplication] setStatusBarHidden:YES
                                                    withAnimation:UIStatusBarAnimationSlide];
            [UIView animateWithDuration:animationDuration animations:^{
                navBar.frame = CGRectMake(navBar.frame.origin.x,
                                          -navBar.frame.size.height-20,
                                          navBar.frame.size.width,
                                          navBar.frame.size.height);
            } completion:^(BOOL finished) {
                [navBar setHidden:TRUE];
            }];
        } else {
            // Change to regular mode
            // Show status bar and navigation bar

            [navBar setHidden:FALSE];

            [[UIApplication sharedApplication] setStatusBarHidden:NO
                                                    withAnimation:UIStatusBarAnimationSlide];
            [UIView animateWithDuration:animationDuration animations:^{
                navBar.frame = CGRectMake(navBar.frame.origin.x,
                                              0,
                                              navBar.frame.size.width,
                                              navBar.frame.size.height);
            } completion:^(BOOL finished) {

            }];
        } 
```

有什么建议么？

**编辑：**这是旋转重新布局后屏幕的样子：[图片](http://i.imgur.com/hybaygP.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T11:10:53.070

您将屏幕细分为 UIView 区域有点混乱。

When you're in a navigation controller, there are three views:

*   Navigation controller's "root" view
*   Inside that, the NavigationBar (which of course is a UIView
*   Also inside the navigation controller, a "content area" view

So the Nav controller is managing it's own root view. In that it is filling the space with a NavigationBar at the top, and the rest of the area with one big UIView for content.

When you push *your* view controller onto the navigation stack, the Nav controller is adding *your root* view as the content. So your entire "self.view" is completely contained within the Nav controller's "content" view.

And so, of course, when the Nav controller hides the navigation bar... the "content" view expands up to fill the space. And then that view tells *your* view "hey, there's more space than you're using so *your* view also expands up to completely fill the Nav controller's content view.

So your view's "0" point is always the top of your view. That never changes. What is changing is where "the top of your view" is relative to the top edge of the screen.

If you want your content to remain in same spot on screen when navbar is removed, then you're going to have to account for the fact that your "zero" point is now higher than it was when there was a nav bar pushing the content view down.

# javascript - 如何在我的 Facebook 应用程序中显示用户的帖子图片

> ID：15267271
> 
> 赞同：-1
> 
> 时间：2013-03-07T09:20:17.037
> 
> 标签：javascript, html, facebook

我正在创建一个 facebook 应用程序，我需要在其中显示用户在我的应用程序上发布的内容。使用此代码，我正在获取用户的帖子。

```
function getusername(){ 
    FB.api('/me/posts', function(response) {
        var l=response.data.length;
        var post;
        for (var i=0; i<l; i++) {
            post = response.data[i];
            ShowOfferAccord(post);
        }
    });
} 
```

使用它我正在显示帖子的内容

```
ShowOfferAccord=function(post){
    var mes= post.message;
    var capt = post.caption;
    var des = post.description;
    var ilink = post.link;
    var image = post.picture;
    $("#pagecap").text(capt);
    $("#pagemsg").text(mes); 
    $("#pagedes").text(des);
    $("#pagelink").text(ilink);
} 
```

我的 HTML 是：

```
<div id="pagemsg" style='display:block; position:relative; height:auto; text-align:left; font-size:15px; color:#000;'></div>                
<div id="pagecap" style='position:relative; height:auto; text-align:left; font-size:15px; color:#000;'></div>
<div id="pageimg" style='position:relative; height:auto; text-align:left; font-size:15px; color:#000;'></div>
<div id="pagedes" style='position:relative; height:auto; text-align:left; font-size:15px; color:#000;'></div>
<div id="pagelink"style='position:relative; height:auto; text-align:left; font-size:15px; color:#000;'></div> 
```

这是有效的。

但是对于图像，我正在获取图像 url。我不知道如何显示图像。谁能告诉我如何将此网址解析为图像标签的来源以及如何显示它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:29:44.857

好吧，如果您要获取图像的 url，您可以简单地将其作为`<img>`tag 的来源：

```
$("#pageimg").append("<img src='" + image + "' />"); 
```

# c# - 序列化/反序列化命令对象

> ID：15267277
> 
> 赞同：0
> 
> 时间：2013-03-07T09:20:37.507
> 
> 标签：c#, serialization, command-pattern

我正在尝试将命令对象序列化（然后反序列化）为字符串（最好使用 JavaScriptSerializer）。我的代码可以编译，但是当我序列化我的命令对象时，它返回一个空的 Json 字符串，即“{}”。代码如下所示。

目的是序列化命令对象，将其放入队列中，然后反序列化，以便执行。如果可以使用 .NET 4 实现该解决方案，那就更好了。

**指令**

```
public interface ICommand
{
    void Execute();
} 
```

**命令示例**

```
public class DispatchForumPostCommand : ICommand
{
    private readonly ForumPostEntity _forumPostEntity;

    public DispatchForumPostCommand(ForumPostEntity forumPostEntity)
    {
        _forumPostEntity = forumPostEntity;
    }

    public void Execute()
    {
        _forumPostEntity.Dispatch();
    }
} 
```

**实体**

```
public class ForumPostEntity : TableEntity
{
    public string FromEmailAddress { get; set; }
    public string Message { get; set; }

    public ForumPostEntity()
    {
        PartitionKey = System.Guid.NewGuid().ToString();
        RowKey = PartitionKey;
    }

    public void Dispatch()
    {
    }
} 
```

**空字符串示例**

```
public void Insert(ICommand command)
{
   // ISSUE: This serialization returns an empty string "{}".
   var commandAsString = command.Serialize();
} 
```

**序列化扩展方法**

```
public static string Serialize(this object obj)
{
    return new JavaScriptSerializer().Serialize(obj);
} 
```

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:58:46.577

您的 DispatchForumPostCommand 类没有要序列化的属性。添加公共属性以对其进行序列化。像这样：

```
public class DispatchForumPostCommand : ICommand {
    private readonly ForumPostEntity _forumPostEntity;

    public ForumPostEntity ForumPostEntity { get { return _forumPostEntity; } }

    public DispatchForumPostCommand(ForumPostEntity forumPostEntity) {
        _forumPostEntity = forumPostEntity;
    }

    public void Execute() {
        _forumPostEntity.Dispatch();
    }
} 
```

我现在得到以下作为序列化对象（出于测试目的，我删除了 TableEntity 的继承）：

```
{"ForumPostEntity":{"FromEmailAddress":null,"Message":null}} 
```

如果您还想反序列化对象，则需要为该属性添加公共设置器，否则反序列器将无法设置它。

# android - 应用程序在某些设备上被错误配置为 facebook 登录

> ID：15267278
> 
> 赞同：0
> 
> 时间：2013-03-07T09:20:43.537
> 
> 标签：android, facebook

**我得到这个错误页面：**

> xxxxxx 应用程序为 Facebook 登录配置错误

[http://i.stack.imgur.com/fWYQy.png](https://i.stack.imgur.com/fWYQy.png)

**这是我正在使用的配置：**

![在此处输入图像描述](../Images/2509fc9004913fa61f0c140128bef482.png)

我知道这是因为某些包名称或哈希键不匹配。但：

**在带有 2.3.6 的三星 Galaxy Ace GT-S5830 上，登录工作正常。但是在带有 4.0.4 的 HTC Desire C 上，我收到上述错误消息**

类似的问题[在这里](https://stackoverflow.com/questions/13495127/getting-is-misconfigured-for-facebook-login-in-some-devices)，但没有解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:25:10.503

我想建议您升级到最新的 Android 版 Facebook SDK 3.0。请看这里：[https ://developers.facebook.com/android/](https://developers.facebook.com/android/)

这是从 2.x 升级到 3.x 的指南：[https ://developers.facebook.com/docs/tutorials/androidsdk/3.0/upgrading-from-2.0-to-3.0/](https://developers.facebook.com/docs/tutorials/androidsdk/3.0/upgrading-from-2.0-to-3.0/)

关于你的问题，有时我也明白了，似乎是一个随机的 facebook 错误。

# php - 我有选择查询问题？

> ID：15267279
> 
> 赞同：0
> 
> 时间：2013-03-07T09:20:45.213
> 
> 标签：php, mysql, database

我有选择查询问题？我无法获得`SID`但是我可以`WID`使用相同的查询获得？`SID`不在页面上显示，但在页面`WID`上显示

**查询购物车 ID AS sid**

```
function get_sid($id){
    $result=mysql_query("SELECT shoppingcart.`id` AS sid FROM shoppingcart 
    INNER JOIN products ON shoppingcart.`pid`=products.`id` 
    WHERE products.id='$id'") or die("Shopping Card ID"."<br/><br/>".mysql_error());
    $row=mysql_fetch_array($result);
    return $row['sid'];
} 
```

**查询 MyWishlist ID AS wid**

```
function get_size($id){
    $result=mysql_query("SELECT mywishlist.id AS wid FROM mywishlist 
    INNER JOIN products ON mywishlist.`pid`=products.`id` WHERE 
    products.`id`='$id'") or die("My Wish Size Problem"."<br/><br/>".mysql_error());
    $row=mysql_fetch_array($result);
    return $row['wid'];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:38:03.697

你在调用正确的函数吗？:) 也许第二个应该是 get_wid($id)？

你应该得到一些回报 - 尝试向你的函数添加一些日志记录并检查可能的错误代码。

检查错误：

```
if (!$result) 
   die('Invalid query: ' . mysql_error()); 
```

并尝试`print_r($row);`查看是否获取任何内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:48:59.297

也许您的购物篮中没有具有该 ID 的产品并且 mysql_fetch_array() 返回 false？

```
SELECT shoppingcart.`id` AS sid 
FROM shoppingcart 
   INNER JOIN products 
     ON shoppingcart.`pid`=products.`id` 
WHERE products.id='$id' 
```

我正在努力弄清楚这个查询提供了什么实用程序。假设通常的命名约定，您在产品和购物车之间有一对多的关系 - 大多数人会将多个产品放入一个购物车。暂且不说，连接是多余的，因为您只过滤购物车表中的值，并且只返回购物车表中的值；除非您的数据完整性被完全破坏，否则您将使用以下方法获得相同的结果：

```
SELECT id AS sid 
FROM shoppingcart
WHERE pid = '$id'; 
```

# java - 两个相同的类可以序列化和反序列化吗？

> ID：15267281
> 
> 赞同：3
> 
> 时间：2013-03-07T09:20:50.947
> 
> 标签：java, class, object, serialization

因此，假设我在 Java 中有一个类，它存储数据，我获取一个对象并将其序列化并将其保存到文件中。我有另一个具有完全相同类的项目，但它仍然在另一个文件中定义。我可以在该项目中获取我保存的文件并对其进行反序列化吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:24:00.817

我认为只要类名和类名`serialVersionUID`相同，这应该可行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:24:24.233

是的，假设各个项目具有相同（或兼容）的“.class”文件用于相关类。

序列化然后反序列化对象本质上会创建它的副本。序列化然后反序列化时不会保留对象标识。保留的是序列化中对象的状态以及与其他对象的关系。

将此与以下内容进行对比：

*   正交持久性——系统确保只有一个对象，并且

*   对象关系映射——可能存在多个内存副本，但系统可以将它们与数据库中的“主”副本同步。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:24:30.807

这就是序列化的目的。它允许您将对象从一个 Java 应用程序传递到另一个在不同 JVM 和不同计算机上工作的 Java 应用程序。它可以通过文件或网络或数据库来完成。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-07T09:26:47.187

如果您指定[serialVersionUID](http://docs.oracle.com/javase/1.5.0/docs/api/java/io/Serializable.html)，那将是可能的。

> **UPD：**流唯一标识符是类名、接口类名、方法和字段的 64 位散列。

所以如果你的类实现了不同的接口，你就会面临一个问题。为可序列化类指定 serialVersionUID 的任何方式都是一个好习惯。

> 注意 - 强烈建议所有可序列化的类都显式声明 serialVersionUID 值，因为默认的 serialVersionUID 计算对类细节高度敏感，这些细节可能因编译器实现而异，因此可能会在反序列化期间导致意外的 serialVersionUID 冲突，从而导致反序列化失败。

[流唯一标识符](http://docs.oracle.com/javase/6/docs/platform/serialization/spec/class.html#4100)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-03-07T10:35:21.243

> 我有另一个具有完全相同类的项目，但它仍然在另一个文件中定义。

换句话说，它几乎肯定是一个*不同*的类，除非源代码被声明在同一个包中，在这种情况下，首先将它放在两个或多个单独的文件中是零点。两个不同包中的相似源代码不是同一个类，是两个不同的类，一个不能反序列化为另一个。

# iphone - UISegmentControl 的上半部分没有响应触摸

> ID：15267282
> 
> 赞同：0
> 
> 时间：2013-03-07T09:20:51.813
> 
> 标签：iphone, ios, xcode, ipad, cocoa-touch

我在我的应用程序样式中使用 UISegmentControl -`UISegmentedControlStyleBordered` 使用方法来控制事件 -`UIControlEventValueChanged` 但我发现每个段的上半部分没有响应触摸。

我重写`-(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event`只是为了弄清楚发生了什么，但是对于段触摸的上半部分没有调用此方法。

我检查了具有分段控件的默认`iOS`应用程序，例如提醒和地图应用程序。`ios5`但我发现即使是那些部分也没有响应上半部分的触摸。但日历应用程序中的段响应上半部分触摸。

如何使整个段响应触摸事件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T11:47:08.173

检查它的框架。如果没有设置框架，则为 UISegmentedControl 设置框架，这可能会解决你的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T23:14:56.860

由于它位于 UIToolbar 中，因此请尝试将样式设置为，`UISegmentedControlStyleBar`而不是`UISegmentedControlStyleBordered`用于更大的分段控件选项。

# android - Android中的泰米尔语字体

> ID：15267292
> 
> 赞同：11
> 
> 时间：2013-03-07T09:21:12.233
> 
> 标签：android, fonts, android-2.3-gingerbread, tamil

我在 android 版本中开发了一个泰米尔语新闻应用程序`2.3.3`。但是，泰米尔语字体仅在 android 4.0 及更高版本中得到了适当的开发。我想在所有版本的 android mobile 中显示它们。

我试图用一些泰米尔语字体解决这个问题，比如`bamini`and `mylai`，但它们只适用于更高的 android 版本。

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-03-19T09:52:07.357

首先，您必须了解在 ICS(4.0) 之前，Android 操作系统（少数三星和 SE 手机除外）不支持泰米尔语。即便如此，它也有错误，并且 Jelly Bean (4.2) 提供了全面支持。

如果您在应用程序中使用 Unicode Tamil 字体，您只会看到框。原因是系统中没有泰米尔语字体。

# 1.手动方式

这个解决方案有一个变通方法。您所要做的就是[下载 Bamini 字体](http://www.jagatheswara.com/downloads/Bamini.ttf)并将其放在您的资产文件夹中。并使用字体 Bamini 创建 TypeFace 并将其设置为 TextView。

```
Typeface font1 = Typeface.createFromAsset(getAssets(), "fonts/Bamini.ttf");
customText1.setTypeface(font1); 
```

现在使用[转换器将 Unicode 字体转换为 Bamini](http://www.islamkalvi.com/web/unicode_to_bamini.htm)编码。代替 Unicode 文本，将转换后的 Bamini 编码脚本提供到`setText`方法中。

# 2\. 使用图书馆

如果您讨厌所有这些手动编码转换，请查看此[库](https://github.com/mayooresan/Android-TamilUtil)

正如我在上面所说的，如果您想在运行应用程序时动态更改编码，请[考虑使用](https://github.com/mayooresan/Android-TamilUtil)我为 Android 编写的库。该库将帮助您将 Unicode 字符串转换为 Bamini、TSCII、TAB、TAM 和 Anjal。

设置非常简单。您所要做的就是简单地将库导入您的 Android 项目并调用该库，如下所示。

```
// Initialise the Typeface (assumes TSCII, Bamini, Anjal, TAB or TAM font located inside assets/fonts folder)
Typeface tf = Typeface.createFromAsset(getAssets(),"fonts/mylai.ttf");
// Initialises the TextView
TextView tv = (TextView)findViewById(R.id.textView1);
//Setting the Typeface
tv.setTypeface(tf);
//Magic happens here ;) encoding conversion
String TSCIIString = TamilUtil.convertToTamil(TamilUtil.TSCII, "வணக்கம் அன்ரொயிட்");
//Setting the new string to TextView
tv.setText(TSCIIString); 
```

该库提供了一个[示例应用程序](https://github.com/mayooresan/Android-TamilUtil/tree/master/Example)。查看该应用程序，了解如何利用该库将 Unicode 字符串转换为 Bamini、TAB、TAM、TSCII 和 Anjal。

当你使用这个库时，你会得到类似的东西。

![屏幕截图泰米尔语 Unicode 转换器 Util](../Images/33aefc3802fea8481f45f77ff35e3499.png "安卓泰米尔语")

您需要使用`TypeFace`Android 中可用的类。您可以使用 Bamini 或 TSCII 编码（Mylai 是一种 TSCII 字体）。

免责声明：我写了这个库。

# 3.对于WebView

如果您使用包装在 WebView 中的 html 和 CSS 进行开发，请查看[此应用程序的源代码](https://github.com/mayooresan/Japs-Attack-Ceylon--Android-App)。你必须利用`fontface`CSS3 的特性。

首先，您需要将样式声明为

```
@font-face {
 font-family: MyCustomFont;
 src: url("Bamini.ttf") /* TTF file for CSS3 browsers */
} 
```

然后你必须`MyCustomFont`在你的标签中使用。例如，如果您想将其设置为整个身体（在这种情况下更容易）

```
body {
 font-family: MyCustomFont, Verdana, Arial, sans-serif;
 font-size: medium;
 color: black
} 
```

希望这会给你应得的提醒。希望在 Play 商店中看到更多泰米尔语应用。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2017-08-08T06:33:38.797

TAb 不需要嵌入，现在我们有 unicode 请使用这个泰米尔语 unicode 字体 [http://visualmediatech.com.fonts](http://visualmediatech.com.fonts)

# ios - void(^)(NSData*) 是什么意思？

> ID：15267294
> 
> 赞同：4
> 
> 时间：2013-03-07T09:21:14.730
> 
> 标签：ios, objective-c, xcode, ios5

嗨，我正在使用这个[库](https://github.com/norsez/BDMultiDownloader/tree/master/Classes)，我找到了这个函数：

```
- (void) queueRequest:(NSString*)urlPath completion:(void(^)(NSData*))completionWithDownloadedData; 
```

我尝试传递一个简单的`NSData *data;`并且它抛出一个错误，这到底是什么意思`(void(^)(NSData*))`？我是第一次看到它。

非常感谢。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-07T09:25:54.740

`(void(^)(NSData*))`声明一个代码块。你可以这样调用你的函数。

```
[obj queueRequest:urlPath completion:^(NSData* data){
            /* some code */
        }]; 
```

`data`是你的块的一个参数，你可以使用它。当 queueRequest 完成时，该块将被异步调用。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-07T09:26:01.820

该接口是异步的，这意味着数据仅在稍后的某个时间可用。这意味着该方法不能简单地返回`NSData*`（不一直阻塞，这是不切实际的）。现在这个问题经常用[块](http://developer.apple.com/library/ios/#documentation/cocoa/Conceptual/Blocks/Articles/00_Introduction.html)来解决，这里的完成参数是一个接受`NSData*`参数并返回的块`void`。这就是您调用此类方法的方式：

```
[foo queueRequest:path completion:^(NSData *receivedData) {
    NSLog(@"Received data: %@", receivedData);
}]; 
```

当数据可用时，调用将立即返回，并且该块将在稍后的某个时间执行。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T09:26:00.013

它是一个接受`NSData`对象作为唯一参数并且不返回任何内容的块。

请参阅 Apple 的[Blocks 编程主题](http://developer.apple.com/library/ios/#documentation/cocoa/Conceptual/Blocks/Articles/00_Introduction.html)。

# javascript - NodeList.prototype.forEach = Array.prototype.forEach;

> ID：15267295
> 
> 赞同：17
> 
> 时间：2013-03-07T09:21:15.417
> 
> 标签：javascript, arrays, foreach, nodelist

您是否发现以下任何问题：

```
NodeList.prototype.forEach = Array.prototype.forEach; 
```

通常`forEach`只是数组的一个属性，但是通过将其设置为所有`NodeList`s 的属性，无需将 a 转换`NodeList`为数组，然后就可以使用`forEach`.

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-07T09:38:03.807

通过原型扩展 DOM 的功能通常不是一个好主意，尤其是在旧版本的 IE 中（[文章](http://perfectionkills.com/whats-wrong-with-extending-the-dom/)）。

但是，`Array.prototype.forEach`即使不将其添加到原型链或将其转换`NodeList`为数组，您也可以简单地使用：

```
var list = document.querySelectorAll(".some.query");
Array.prototype.forEach.call(list, function(el){ /* ... */ });

/* or */
var forEach = function(ctn, callback){
    return Array.prototype.forEach.call(ctn, callback);
}
forEach(list, function(el){ /* ... */ }); 
```

[另](https://developer.mozilla.org/en-US/docs/DOM/NodeList#Why_can%27t_I_use_forEach_or_map_on_a_NodeList.3F)请参阅 MDN：[为什么我不能在`forEach``map``NodeList`](https://developer.mozilla.org/en-US/docs/DOM/NodeList#Why_can%27t_I_use_forEach_or_map_on_a_NodeList.3F).

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-08-28T14:38:35.083

如果您正在开发一个将被其他人使用的库，那么这样做不是一个好主意。

如果它只是您自己的代码（即网站），那么我想这没什么大不了的。不过，您可能应该保护它，因为将来浏览器将原生支持`NodeList.prototype.forEach`（Chrome 已经支持）。

```
if (!NodeList.prototype.forEach) {
  NodeList.prototype.forEach = Array.prototype.forEach;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-03T17:17:41.007

正如 Zeta 所说，最好使用便利功能。但是，此版本将允许您为其提供上下文。

```
var forEach = function(list, callback, context){
  return Array.prototype.forEach.call(list, callback, context);
}; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-06-24T17:02:38.077

`NodeList.prototype.forEach()`现在可在大多数浏览器中使用： [https ://developer.mozilla.org/fr/docs/Web/API/NodeList/forEach](https://developer.mozilla.org/fr/docs/Web/API/NodeList/forEach)

浏览器兼容性表： [https ://developer.mozilla.org/en-US/docs/Web/API/NodeList/forEach#Browser_Compatibility](https://developer.mozilla.org/en-US/docs/Web/API/NodeList/forEach#Browser_Compatibility)

# asp.net-mvc - MVC WebGrid 分页不起作用

> ID：15267298
> 
> 赞同：2
> 
> 时间：2013-03-07T09:21:48.427
> 
> 标签：asp.net-mvc, paging, webgrid

我在部分页面中有一个 WebGrid，并且从另一个页面内的控制器调用了部分页面，除了分页之外，一切都工作正常。当我尝试转到下一页记录时，它会返回到主页，而没有 Webgrid。

我的控制器代码：

```
 [HttpPost]
    public ActionResult StatisticsHistory(FormCollection fc)
    {
List<StatisticsHistoryData> hisData = new List<StatisticsHistoryData>();
........

if (hisData != null)
        {
hisData = StatisticsHistoryMethods.HistoryDetailsBetweenDates(fromDate, toDate, environmentId);
                    return PartialView("_StatusHistoryGrid", hisData);
}

else
        {

        }

        return StatisticsHistory();

    } 
```

我在部分页面中的 Webgrid：

```
@model IEnumerable<AppFabricAdmin.Models.StatisticsHistoryData>

@{var Grid = new WebGrid(source: Model, canPage:true, rowsPerPage:2, canSort: true); 
}
@{
if (Model.Count() > 0)
{

@Grid.GetHtml(tableStyle: "webGrid", headerStyle: "header", alternatingRowStyle: "alt",    mode: WebGridPagerModes.All,
    columns: Grid.Columns(Grid.Column("Environment", format: @<b>@item.Environment</b>, style: "AIDColumn"),
                                Grid.Column("Initial Status", format: @<b>@item.InitialStatus</b>, style: "FirstNameColumn"),
                                Grid.Column("Final Status", format: @<b>@item.FinalStatus</b>, style: "LastNameColumn"),
                                Grid.Column("Action Taken", format: @<b>@item.ActionTaken</b>, style: "EmailIDColumn"),
                                        Grid.Column("Comments", format: @<b>@item.Comments</b>, style: "EmailIDColumn"),
                                                Grid.Column("Time Stamp", format: @<b>@item.TimeStamp</b>, style: "EmailIDColumn")
                                                ))

}

else
{ 
<p>
    No records found.</p>
} 
```

我也尝试在主页中使用 @using (Ajax.BeginForm()) 并且 hv 也尝试在网格中使用 ajaxUpdateContainerId:"grid" ，但没有任何效果。请帮忙。

# php - PHP + MySQL：如何获取有限的结果？

> ID：15267299
> 
> 赞同：-3
> 
> 时间：2013-03-07T09:21:54.923
> 
> 标签：php, mysql, limit

我有一个包含 100-200k 记录的数据库表，我需要对其进行优化。例如，如果用户想要搜索词**car**，他将获得大约 25k 条结果。

我想为他提供 500 条最新结果，但该怎么做？我知道我必须使用`LIMIT`，但我不确定如何将最新的 500 行“分组”。

为了更好地了解我现在如何从数据库中获取数据，这里有一个小片段：

```
$search = mysql_real_escape_string(searched_query($_GET['skill'])); 
$q = "...long sql query...";
echo $q;
$result = mysql_query($q);
$items = 30; // number of items per page.
$all = $_GET['a'];

$num_rows = mysql_num_rows($result);
if($all == "all"){
    $items = $num_rows;
}
$nrpage_amount = $num_rows/$items;
$page_amount = ceil($num_rows/$items);
$page_amount = $page_amount-1;
$page = mysql_real_escape_string($_GET['p']);
if($page < "1"){
    $page = "0";
}
$p_num = $items*$page;
// Query that you would like to SHOW
$result = mysql_query($q." ORDER BY published DESC LIMIT $p_num , $items"); 
```

先感谢您！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:27:45.483

通过订购，`published DESC`您已经从最新到最旧订购了列表。因此，如果您应用`limit`500，它将自动仅获取最新的 500 行...

所以Mysql会先order，然后再申请limit。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-07T09:45:01.430

`ORDER BY`在查询中使用。在[这里](http://dev.mysql.com/doc/refman/5.0/en/order-by-optimization.html)查看更多详细信息

# android - 上下文和这个机器人

> ID：15267300
> 
> 赞同：0
> 
> 时间：2013-03-07T09:22:01.853
> 
> 标签：android, this, android-context

我对“上下文”和“这个”感到困惑，我不确定为什么下面的示例不起作用。

我尝试从我的 LoginActivity 调用以下子类：

```
new SyncData(LoginActivity.this).execute(); // This will failed

public class SyncData  extends AsyncTask <Void, Void, String> {
    private Context context;
    public SyncData(Context context){
        this.context = context;
    } 
    ProgressDialog progress=ProgressDialog.show( context, "", "Please wait...", true); //NOT WORK!!!
} 
```

但是如果说我改成这一行，它就可以工作：

```
ProgressDialog progress=ProgressDialog.show( LoginActivity.this, "", "Please wait...", true); // This will work 
```

如果我想将子类放在新的类文件中，有人可以向我解释一下如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:41:21.497

这是因为当您尝试显示 ProgressDialog 时`context`，类的参数未初始化。`SyncData`对象参数在`SyncData`调用构造函数之前初始化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:41:33.643

在您的 AsyncTask 类中，您`progress`将进度声明为全局变量，因为您已将其放在方法块之外。因此，该行：

```
ProgressDialog progress=ProgressDialog.show( context, "", "Please wait...", true); 
```

在第一次创建对象时执行`SyncData`，并且在调用构造函数之前执行。由于尚未调用您的构造函数，`context`is `null`，当您尝试使用它时会导致错误。

使用`LoginActivity.this`而不是`context`有效，因为`SyncData`它是 的内部类`LoginActivity`，因此您可以从内部类内部访问它的范围。

如果要使用`context`，请尝试将声明的赋值部分移动`progress`到构造函数之后的方法中，例如`onPreExecute()`. 就像是：

```
public class SyncData  extends AsyncTask <Void, Void, String> {
    private Context context;
    ProgressDialog progress;
    public SyncData(Context context){
        this.context = context;
    } 

    protected void onPreExecute() {
        progress=ProgressDialog.show( context, "", "Please wait...", true);
    }

} 
```

# angularjs - 如何公开小部件指令 API

> ID：15267304
> 
> 赞同：2
> 
> 时间：2013-03-07T09:22:07.200
> 
> 标签：angularjs, angularjs-directive

我正在创建一个网格小部件的复杂指令，但我不确定我**应该在哪里公开网格指令 API**，即它的属性（例如`selectedItems`）和方法（例如`scrollRowIntoView(rowIndex)`）。

我正在考虑的选项是：

1.  **在范围**上公开 API （我的指令定义了一个隔离范围）。
2.  **在指令的控制器**中公开 API （如果我理解正确，这就是在 中所做的 `ngFormDirective`）。
3.  在范围上公开一个**网格对象**，进而公开 API。
4.  先前选项之间的某种**混合**（例如，作用域上公开的属性，控制器中的方法）。

我想知道的是：

*   此用例是否有**最佳实践？**
*   每种替代方案的**优缺点**是什么？
*   还有其他有效的替代方案吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:51:56.640

通常，您希望将绑定作为指令的属性公开。也就是说，如果我想将我的数组绑定`someItems`到您的网格，我希望您的指令看起来像这样`<my-grid my-items="someItems">`：

您也可以将钩子作为属性公开，例如“在调整网格大小时运行此函数”。如果我的`whenGridResized`作用域上有一个函数，我也想将它设置为一个属性，如下所示`<my-grid onresize="whenGridResized()">`：

在其他情况下，您不能真正使用属性，例如您的`scrollRowIntoView()`示例。这将是在指令控制器中公开的一个很好的候选者，因为当系统中发生其他事情（例如 DOM 事件）时，指令用户可能想要调用它。

因此，您应该将您的 API 公开为发生在网格内部的事件（您控制的事物）的属性，例如`onresize`和`ondelete`或其他。您当然也可以在控制器中公开它们。

当您的指令需要对外部事件`scrollRowIntoView()`（例如

您不应该通过范围公开您的 API，因为您需要为您的网格设置一个独立的范围。通过范围公开它意味着您必须将其设置为您的范围父级，并且直接访问父级范围几乎不是一个好主意。

**TL;博士**

一个经验法则是在属性没有意义时尽可能多地公开属性和指令控制器上的方法。在属性和控制器中公开相同的功能是一个好主意，因为很难预测用户将如何使用您的指令。

# javascript - 文本动画选项 - 动画 GIF 或 Javascript 或..？

> ID：15267309
> 
> 赞同：0
> 
> 时间：2013-03-07T09:22:27.880
> 
> 标签：javascript, animated-gif

对于我最近的项目，我需要添加一个特定的文本动画 - 以实现钢笔在画布上书写一些文本的效果。

我想听听您的想法，根据您的经验，最好的方法是什么？

您能否指出我正确的方向并提供一些参考资料，我可以在其中学习如何做到这一点？

我目前正在为前端使用 Twitter Bootstrap 框架。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:02:30.200

有很多库可以帮助您在不使用画布的情况下为内容制作动画（而不是跨浏览器......）

[http://www.createjs.com/#!/TweenJS](http://www.createjs.com/#!/TweenJS)

[http://www.greensock.com/gsap-js/](http://www.greensock.com/gsap-js/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-07T14:54:25.070

[http://lazylinepainter.info/](http://lazylinepainter.info/)

这正是您需要的工具

# javascript - javascript中的下一个循环括号

> ID：15267313
> 
> 赞同：0
> 
> 时间：2013-03-07T09:22:40.733
> 
> 标签：javascript, curly-brackets

我最近发现了这段 JavaScript 代码（功能上很好），但我注意到它们在 for next 循环周围没有括号。我一直认为您必须包含它们才能使代码正常运行。在什么情况下你可以省略括号并仍然逃脱它？功能上，也就是说，不是美学上的。

```
for (var i = 0; i < rbuttons.children.length; i++)
    if (rbuttons.children[i].value == true)
        return rbuttons.children[i].text; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:26:19.870

括号不是仅对一个语句是强制性的。良好的做法，但不是强制性的

所以

```
if (x) alert("x"); 
```

或者

```
if (x) 
   alert("x"); 
```

将工作

在你的情况下

```
if (rbuttons.children[i].value == true) return rbuttons.children[i].text; 
```

是一个陈述

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:26:23.170

如果没有括号 'for' 和 'if' 只考虑下一个语句。这就是你的代码正在运行的原因。在 for 之后再给出一个语句并检查，你的代码将无法工作。

```
var y=2;
var x=0;
for(i=0;i<10;i++)
 x+=i;//inside loop
 y+=i;//not inside loop

if(y)
x=5;//work according to if condition
y=10;//not work according to if condition 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T09:26:23.530

这与`if`. 下**一条语句**算作`for`循环的成员。

```
for( var i = 0; i<10;i++)
console.log(i);
console.log("foo");
// prints 0-9 but "foo" only once 
```

由于`if`您的代码中只有`return`语句绑定到自身，而`if`自身绑定到`for`，因此您可以在此代码段中省略两者的大括号。

马虎和容易出错的风格，绝对不推荐。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-07T09:26:30.717

如果您只有一个语句，则可以省略括号。

```
if (someTest)
statement1;
statement2; 
```

相当于

```
if (someTest)
{
    statement1;
}
statement2; 
```

**请注意，始终包含**括号被认为是最佳做法。

# ruby - Ruby 逻辑“与”运算符

> ID：15267316
> 
> 赞同：1
> 
> 时间：2013-03-07T09:22:47.853
> 
> 标签：ruby, operator-keyword

在玩 IRB 时，我遇到了这个：

```
a = -1
b = 1
(a and b) > 0 
```

`true`但是返回

```
(false and true) == true 
```

返回`false`。

为什么第一条语句返回`true`？在'pickaxe'中，我读到“只有当两个操作数都为真时`and`，`&&`才会评估为真。只有当第一个操作数为真时，它们才会评估第二个操作数[...]”

这意味着——对我来说——第一个语句应该返回`false`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:25:14.663

从 ruby​​ 的角度来看，-1 和 1 都是“真实”值。这就是为什么

```
-1 and 1 # => 1
false and true => false 
```

> 第一条语句应该返回 false

我不明白你从哪里得到这个。您不会将其与 OR 运算符混淆吗？

```
a = -1
b = 1

a and b # => 1
(a and b) > 0 # => true

a && b # => 1
(a && b) > 0 # => true

a || b # => -1
(a || b) > 0 # => false 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-07T09:25:26.863

为什么应该是假的？两个操作数`a`和`b`都不为假，甚至不为零..

~~IIRC，在 Ruby 中，**每个**不同于 false/nil 的值都被认为是 true。甚至为零。因此`0 and 0`是真的。-1 和 1 肯定也是！~~

编辑：啊，我刚刚明白你的意思。你的意思是第一个表达式`-1 and 1`应该返回-1？不，这就是 OR 所做的！

```
-1 and 1   =>  1
-1 or 1    => -1 
```

AND 评估所有操作数的“真”结果，并仅在一项为“假”时减少检查。
OR 评估所有操作数的“假”结果，并仅在一项为“真”时减少检查

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:29:55.303

在 ruby​​ 中，对象为假的唯一时间是它是否为假或 nil。

```
>> !!nil # false
>> !!false # false
>> !!-1 # true 
```

在你的语法中，当你尝试时不可能得到你想说的

```
>> (1 and -1) > 0 
```

~~因为`and`应该用于返回真或假，但我发现有趣的是返回的值~~

 ~~```
>> (1 and -1) # -1
>> (-1 and 1) # 1 
```~~ 

~~所以有`(b and a) > 0`会返回false，这很有趣~~

`(1 and -1)`将返回 -1，因为`and`运算符需要满足所有条件。我今天有事。

# python - as 和过早的文件关闭

> ID：15267321
> 
> 赞同：0
> 
> 时间：2013-03-07T09:22:50.240
> 
> 标签：python, file-io, with-statement

我有一个包含以下代码的 python 函数：

```
with open(modelfilepath, "rb") as modelfile, open(vcffilepath, "rb") as vcffile:
    for row in gtf_getrow(modelfile):
        print row
        #add features as appropriate
        if row["feature"] == "transcript":
            addfeature(some args...)
        if row["feature"] == "exon":
            addfeature(some other args..., vcffile=vcffile) 
```

`for`addfeature() 函数的执行在返回循环之前会经过几个函数。在“外显子”的情况下，`vcffile`对象作为参数传递给最终写入`vcffile`.

问题是经过几次迭代后，`vcffile`对象似乎会自发关闭，从而导致程序崩溃。如果我对用于直接访问文件名的函数进行硬编码`vcffile`，则不会出现问题，但这似乎是一个不受欢迎的解决方案，因为它从 with 块中删除了对文件的控制。我也不希望每次访问文件时都必须打开和关闭文件，因为该程序正在解析数百兆字节的表格数据。提前感谢您的建议。

# isabelle - AFP Dijkstra 的最短路径算法

> ID：15267323
> 
> 赞同：2
> 
> 时间：2013-03-07T09:23:00.640
> 
> 标签：isabelle

对于[AFP](http://afp.sourceforge.net/)条目[Dijkstra's Shortest Path Algorithm](http://afp.sourceforge.net/entries/Dijkstra_Shortest_Path.shtml)，证明大纲和证明文件都不存在 *。不幸的是，我没有找到在`IsaMakefile`本地构建这些文档的方法。获取这些文件的最佳方式是什么？

另一个问题，由于`Dijkstra.thy`依赖于许多其他理论，有没有办法更快地加载所有内容？

*)*现在已修复。*

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T11:28:43.270

（法新社现在似乎有什么问题，请告诉编辑。）

通常，您可以下载 AFP 条目的来源并自己生成文档，如下所示：

*   获取并解压[所有 AFP 源](http://afp.sourceforge.net/release/afp-current.tar.gz)- 也提供下载单独的条目，但是您必须手动解开依赖关系。

*   像这样调用`isabelle build`：

    ```
    isabelle build -d afp-2013-03-02 -o document=pdf -v Dijkstra_Shortest_Path 
    ```

    这`afp-2013-03-02`是通过解压当前 AFP 源获得的目录。

另请参阅有关“Isabelle 会话和构建管理”的[Isabelle 系统手册](http://isabelle.in.tum.de/dist/Isabelle2013/doc/system.pdf)，这是 Isabelle2013 中的全新内容。

看到`isabelle build -b`那里通过从会话中生成持久堆图像来加快加载速度。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-08T10:59:23.223

法新社条目中的链接确实被破坏了，现在应该再次修复，对此感到抱歉。

正如 Makarius 所写，AFP new 使用 Isabelle 的新构建系统，即`ROOT`每个条目都有一个文件，可用于检查相关理论并构建文档。

Makarius 的回答几乎是官方的做法，尽管我另外建议将 AFP 设置为组件。这为您提供了以下步骤：

*   [将 AFP 下载](http://afp.sourceforge.net/download.shtml)到例如`~/afp`
*   将其设置为组件，例如通过添加`~/afp`到`~/.isabelle/Isabelle2013/components`（另见[AFP as a component](http://afp.sourceforge.net/using.shtml)）
*   建立条目

    `isabelle afp_build Dijkstra_Shortest_Path`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-03T21:26:45.583

您还可以让 jEdit 为您构建堆映像。如果 AFP 设置为组件（请参阅其他答案），只需启动 jEdit

```
isabelle jedit -d '$AFP' -l Dijkstra_Shortest_Path 
```

jEdit 将选择 Dijkstra_Shortest_Path 作为基本逻辑并在必要时（重新）构建它。

如果您经常使用 AFP，则默认添加 AFP 路径可能会很有用。为此，请在`$ISABELLE_HOME_USER`其中创建一个文件 ROOTS `$AFP`（或添加此行，如果该文件已存在）。

# php - 跨域访问的安全问题

> ID：15267324
> 
> 赞同：0
> 
> 时间：2013-03-07T09:23:05.577
> 
> 标签：php, flash

我有一个用 Flash 制作的上传脚本，带有对 php 文件的回调。在这种状态下，任何人都可以向 php 脚本发送 post 请求并上传恶意文件。我想将访问限制为仅对托管 flash 和 php 文件的服务器的访问。

我已经将一个密钥存储到一个文本文件中并更改了文件权限，但是只有 php 可以访问该文件并获取密钥并且没有闪存。因为闪存通过获取请求读取文件，如果我限制访问，我会看到 403 禁止访问。

如果您有任何想法，请建议我该怎么做，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:35:32.760

您无法控制人们将提交给脚本的内容。

您可以使用[CSRF 保护](https://www.owasp.org/index.php/Cross-Site_Request_Forgery_%28CSRF%29)来防止 Mallory 欺骗 Alice 提交恶意数据（如果您使用用户凭据，这样“成为 Alice”会有所不同，这将有所帮助），但您不能阻止 Mallory 简单地提交她喜欢的任何内容。

您需要对谁（授权用户）可以使用该服务进行某种审核和/或恶意文件检测和/或限制。

# php - 在视觉作曲家中显示 wordpress 分类法

> ID：15267326
> 
> 赞同：0
> 
> 时间：2013-03-07T09:23:08.270
> 
> 标签：php, wordpress, function

```
我在 wordpress 的视觉作曲家中有一行如下

$teasers .= '<li class="xyz">';

还有一段代码：

foreach ( (array) get_object_taxonomies($post->post_type) as $taxonomy ) {
  $object_terms = wp_get_object_terms($post->ID, $taxonomy, array('fields' => 'all'));
  如果（$object_terms）{
    回显“数据-”。$taxonomy.'="';
    foreach ($object_terms 作为 $term)
    {
         回声 $term-> 名称。' , ';         
    }

    回声'"';
  }  
}

这段代码的结果是这样的

data-minimum_qualification="10+2 , "data-stream="商科, 人文(艺术) , " data-minimum_qualification="研究生, 研究生+ , "

现在我想要的是，将第二个代码的结果附加到第一个代码中，即在 li 标签中，这将导致以下结果

<li class="xyz" data-minimum_qualification="10+2" data-stream="商科、人文（艺术）" data-minimum_qualification="研究生、研究生+" >

任何形式的帮助都会很棒

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:46:59.323

尝试这个：

```
$teasers .= '<li class="xyz" '; 

foreach ( (array) get_object_taxonomies($post->post_type) as $taxonomy ) {
  $object_terms = wp_get_object_terms($post->ID, $taxonomy, array('fields' => 'all'));
  if ($object_terms) {
    $teasers .= 'data-'. $taxonomy.'="';
    foreach ($object_terms as $term)
    {
         $teasers .= $term->name.' , ';         
    }

    echo '" ';
  }  
}
$teasers .= '>'; 
```

没有测试过它，但它应该可以工作

# java - 需要在java中使用正则表达式解析一个句子

> ID：15267332
> 
> 赞同：4
> 
> 时间：2013-03-07T09:23:26.403
> 
> 标签：java, regex

我想为以下内容提出一个正则表达式：

```
<action>::=Action(<entity><entity><Asset>) 
```

我想要令牌，例如：

```
Action(
<entity>
<entity>
<Asset>
) 
```

entity和asset周围有<>，Action后面跟着“(”。但是，“)”是一个独立的token。我正在使用以下内容：

```
([a-zA-Z]+\\()|((<.*?>)|([a-zA-Z]*))|(\\))? 
```

但它没有显示`")"`作为令牌？我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:33:46.920

试试这个正则表达式：

```
([a-zA-Z]*\\()|(<[a-zA-Z]*>)|(\\)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:35:59.133

这应该适用于您的示例：

```
(\\w+\\()(<\\w+?>)(<\\w+?>)(<\\w+?>)(\\)) 
```

[fiddle.re 在线演示](http://fiddle.re/mhja6)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T10:55:21.647

您的正则表达式实际上有问题，或者至少它使表达式以一种意想不到的方式表现（对我来说）。

表达式可以这样分解：

```
([a-zA-Z]+\\()| (?# matches alphabetical characters and an opening round-bracket)
    ((<.*?>)| (?# non-greedily matches anything between brackets)
    ([a-zA-Z]*))| (?# 3rd pattern: may match an empty string)
(\\))? (?# 4th pattern: optionally matches a closing round bracket) 
```

由于`|`运算符从不贪婪，因此在您实际想要的第四个模式之前触发第三个模式（匹配空字符串）。

证明这一点的是，您使用正则表达式实际获得的标记是：

```
''
''
''
'Action('
'<entity>'
'<entity>'
'<Asset>'
''
'' 
```

因此，您想要的可能是这样的：

```
([a-zA-Z]+\\()| (?# matches alphabetical characters and an opening round-bracket)
(<.*?>)| (?# non-greedily matches anything between brackets)
(\\)) (?# matches a closing round bracket) 
```

请注意，我`?`从第 4 个模式中删除了运算符，该运算符奇怪地放在括号外，并且还捕获了空字符串。

# cakephp - Cakephp如何从表中创建下拉列表

> ID：15267333
> 
> 赞同：1
> 
> 时间：2013-03-07T09:23:43.627
> 
> 标签：cakephp

我是 cakephp 的新手，正在尝试创建一个非常简单的 api，用户可以通过 api“预订”车辆。

我有三个模型、视图和控制器，它们是车辆、客户和预订。我已经实现了大部分，但我只是坚持如何通过允许用户从下拉列表中选择来添加预订。

基本上我想要两个允许我选择客户 ID/名称和车辆 ID/名称的下拉列表。并将它们放入预订表中。

这是我的预订控制器添加功能

```
function add() {
        if($this->request->is('post')) {
            if($this->Reservation->save($this->data)) {
                $this->Session->setFlash('The Reservation was successfully added!');
                $this->redirect(array('action'=>'index'));
            } else {
                $this->Session->setFlash('The Reservation was not added.');
            }
        }
        $customers = $this->Customers->find('list');
        $this->set(compact('customers'));
        $this->set('title_for_layout','Add Reservation');
    } 
```

在底部，我使用了来自不同网站的一些代码，这些代码应该创建一个客户列表，但我得到了一个错误。也因为客户的内容是不同的模型，我猜这是错误的方法。

那么如何将客户的下拉列表添加到我的预订页面。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T09:30:24.657

型号名称应该是*单数*，而不是*复数*，所以试试这个

```
$customers = $this->Customer->find('list'); 
```

但是，您可能忘记在控制器中加载“客户”模型。如果`Reservation`模型与`Customer`（例如，Reservation belongsTo Customer）有关系，最好通过模型树访问它；

```
$customers = $this->Reservation->Customer->find('list');
$this->set(compact('customers')); 
```

要摆脱中间变量，请使用以下命令：

```
$this->set('customers', $this->Reservation->Customer->find('list')); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2015-01-08T06:42:18.940

**在控制器中创建列表数组**。

```
$role=$this->Modelname->find('list',array('fields'=>'id,name')); 
```

**`ctp`像这样在文件中制作下拉列表。**

```
echo $this->Form->input('role', array('options' => $roles, 'default' => '--Select--')); 
```

# php - CodeIgniter 无法引用图像文件夹？

> ID：15267341
> 
> 赞同：0
> 
> 时间：2013-03-07T09:24:11.573
> 
> 标签：php, codeigniter

我今天可能只是盯着我的屏幕太久了，我把头撞在墙上了。

我想在文件夹（由变量给出）中搜索任何图像文件并显示它。

这就是我所拥有的

```
 $files = glob('../Images/' . $row->id . '/*');
      natcasesort($files);
      foreach($files as $file) {
         echo '<img src="' . $file . '" />';
      } 
```

它认为图像的路径是： [http ://testwebsites.com/ci/index.php/hw/id/Images/2/2.jpg](http://testwebsites.com/ci/index.php/hw/id/Images/2/2.jpg)

当真正的路径应该是：[http ://testwebsites.com/ci/Images/2/2.jpg](http://testwebsites.com/ci/Images/2/2.jpg)

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:27:18.487

代码点火器从基本目录 CI/index.php 运行，因此所有图像都应该被引用，认为您正在从 CI/ 文件夹而不是 CI/application/controllers/ 目录工作。

所以，你应该做的是：

```
$files = glob('Images/' . $row->id . '/*');
  natcasesort($files);
  foreach($files as $file) {
     echo '<img src="' . $file . '" />';
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:27:29.713

试试喜欢

```
$files = echo base_url()."/Images/".$row['id']."/*"; 
```

你也可以试试

```
$dir_path = $_SERVER["DOCUMENT_ROOT"]."/Images";
$files1 = scandir($dir_path); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T10:21:09.617

让它使用以下代码

```
 $files = glob('../ci/Images/' . $row->id . '/*');
        natcasesort($files);
        foreach($files as $file) {
           echo '<center><img src="../../../Images/' . $row->id . '/' . basename($file) . '" class="img-rounded" style="max-width: 400px; max-height: 250px;"/></center>';
        } 
```

# html - 根据语言更改字体大小

> ID：15267355
> 
> 赞同：16
> 
> 时间：2013-03-07T09:24:47.440
> 
> 标签：html, css, unicode

所以我已经阅读了一些关于css语言标签的建议，但似乎一切都需要提前将语言放在标签中。我无法更改韩语的 html 标签，它具有与英语相同的 h1 标签。这是因为它是同一网站的翻译版本。

我希望韩文版的字体和字体大小与英文版不同。我可以通过只知道语言来做到这一点吗？我发现了一些其他处理使用 @font-face { } 的 unicode 范围的问题，一方面，我无法弄清楚韩语的 unicode 范围是什么，我尝试查看所有文档，但我只是不理解如何计算 unicode 范围并写了。另外，我希望有一个选项，例如，

```
h1{
unicode-range: korean;
font-size: 10px;
}

h1{
unicode-range: english;
font-size 20px;
} 
```

这可以做到吗？

谢谢！

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-03-07T09:34:15.093

在您的情况下，该`lang`属性是在`html`标签上设置的，因此您可以根据使用规则设置您需要的所有元素的样式：

```
html:lang(en) h1{
    font-size: 20px;
}

html:lang(ko) h1{
    font-size: 10px;
} 
```

但请注意，`:lang`伪类仅在 IE8+ 中受支持。如果您需要 IE7+ 的支持，最好选择这种类型的语法：`a[lang="en"]`.

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-07T09:28:43.230

如果您在 HTML 中设置属性来更改样式，则可以使用 CSS[`:lang`](https://developer.mozilla.org/en-US/docs/CSS/%3alang)伪类。`lang`例如[**查看演示**](http://jsfiddle.net/dGnP8/)或以下代码：

**CSS**

```
:lang(en) {
    font-size:20px;
}

:lang(fr) {
    font-size:10px;
} 
```

**HTML**

```
<p lang="en">Lorem</p>
<p lang="fr">Lorem</p> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-07T09:30:00.953

这可能会有所帮助：[http ://billposer.org/Linguistics/Computation/UnicodeRanges.html](http://billposer.org/Linguistics/Computation/UnicodeRanges.html)

您正在寻找“韩语字母表，也称为 Hangul，[nb 1] 或 Chosongul”的**Hangul**

问候

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-07T09:35:30.140

如果您使用某种动态语言作为网站的服务器端，您可以简单地基于区域设置进行动态 CSS 加载。

例如，您在 css 文件夹中有以下内容：

```
style.css        // this is the default
style_en_US.css
style_ko_KR.css 
```

因此，您可以将全局设置与特定于语言环境的设置分开，并且可以轻松地动态加载所需的样式。

如果你有一个静态 HTML 页面，你可以让 JavaScript 动态加载 CSS，或者你可以使用

```
:lang 
```

其他人也指出了伪类。

无论您选择哪种解决方案，请记住密切关注浏览器的兼容性。

*注意：通常让用户明确选择他/她的首选语言环境而不是根据客户的系统信息自动设置一个更好的解决方案。*

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T09:30:06.400

更改语言选择上的样式表

```
<body onload="set_style_from_cookie()">

//style sheet
<link rel="stylesheet" type="text/css" title="korean"
    href="http://example.com/css/korean.css">
<link rel="alternate stylesheet" type="text/css" title="english"
    href="http://example.com/css/english.css">

//form to select language using button
<form>
<input type="submit"
  onclick="switch_style('korean');return false;"
  name="theme" value="korean Language" id="korean">
<input type="submit"
  onclick="switch_style('english');return false;"
  name="theme" value="english language" id="english">
</form>

//javascript
<script>
// *** TO BE CUSTOMISED ***

var style_cookie_name = "style" ;
var style_cookie_duration = 30 ;

// *** END OF CUSTOMISABLE SECTION ***

function switch_style ( css_title )
{

  var i, link_tag ;
  for (i = 0, link_tag = document.getElementsByTagName("link") ;
    i < link_tag.length ; i++ ) {
    if ((link_tag[i].rel.indexOf( "stylesheet" ) != -1) &&
      link_tag[i].title) {
      link_tag[i].disabled = true ;
      if (link_tag[i].title == css_title) {
        link_tag[i].disabled = false ;
      }
    }
    set_cookie( style_cookie_name, css_title,
      style_cookie_duration );
  }
}
function set_style_from_cookie()
{
  var css_title = get_cookie( style_cookie_name );
  if (css_title.length) {
    switch_style( css_title );
  }
}
function set_cookie ( cookie_name, cookie_value,
    lifespan_in_days, valid_domain )
{

    var domain_string = valid_domain ?
                       ("; domain=" + valid_domain) : '' ;
    document.cookie = cookie_name +
                       "=" + encodeURIComponent( cookie_value ) +
                       "; max-age=" + 60 * 60 *
                       24 * lifespan_in_days +
                       "; path=/" + domain_string ;
}
function get_cookie ( cookie_name )
{

    var cookie_string = document.cookie ;
    if (cookie_string.length != 0) {
        var cookie_value = cookie_string.match (
                        '(^|;)[\s]*' +
                        cookie_name +
                        '=([^;]*)' );
        return decodeURIComponent ( cookie_value[2] ) ;
    }
    return '' ;
}
</script> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-07T09:31:08.883

你可以使用类似的东西：

```
h1[lang=en] {
  font-size: 10px;
}

h1[lang=kr] {
  font-size: 14px;
} 
```

或者，如果您只想指定`lang=""`一次，而不是在每个元素上，您可以这样做

```
#content[lang=en] h1 {

}

#content[lang=en] p {

}

#content[lang=kr] h1 {

}

#content[lang=kr] p {

} 
```

# ruby-on-rails-3 - 获取属性时如何大写属性

> ID：15267358
> 
> 赞同：0
> 
> 时间：2013-03-07T09:24:50.490
> 
> 标签：ruby-on-rails-3, getter

我的用户写了他们的名字和姓氏，没有大写

有没有办法覆盖模型的 getter`firstname`和`lastname`属性以`User`使其返回`firstname.capitalize`？

如果我做

```
def firstname
 self.firstname.capitalize
end 
```

我明白了`stack too deep error`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:26:51.560

如果您使用与属性相同的名称，则需要使用 read_attribute

```
def firstname
  read_attribute(:firstname).capitalize
end 
```

# wpf - 如果字符串中存在 Hypen，则 TextBlock 中的 WPF 文本以及 CheckBox 或 Radiobutton 中包含的 TextWrapping 将丢失

> ID：15267359
> 
> 赞同：1
> 
> 时间：2013-03-07T09:24:53.820
> 
> 标签：wpf, xaml, word-wrap

我有一个非常奇怪的行为，我现在很绝望。我有一个足够大的容器来容纳下面定义的复选框，但其他一些有更多的文本，所以我使用 TextWrapping，问题是，文本中的连字符存在涉及一些魔法修剪。这是代码：

```
<CheckBox>
<TextBlock Text="Media-Info Panel" FontSize="12" TextWrapping="Wrap"/>
</CheckBox>

<CheckBox >
<TextBlock Text="Панель Медиа-Информации" FontSize="12" TextWrapping="Wrap"/>
</CheckBox> 
```

GUI 中的复选框将如下所示

Media-Info
Панель Медиа-

经过一些测试并向这些复选框添加文本后，我发现连字符的存在会删除字符串中的最后一个单词。顺便说一句，我试图将 IsHyphenationEnabled 设置为 False - 没有帮助

经过额外的测试，我终于找到了问题，如果 fontsize 为 12，它会重现，如果我们将 fontsize 设置为 13，它可以正常工作。我们应该将它设置为 13.3 还是 15 它开始复制......这是什么邪恶的魔法？

提前感谢您的任何想法

# java - 我可以使用正则表达式或其他方法更快地执行此操作吗？

> ID：15267363
> 
> 赞同：3
> 
> 时间：2013-03-07T09:25:01.923
> 
> 标签：java, regex, string, substring

我试图了解更多`string operations`和`regexes`。例如，这是一个给定的数组`String`：

```
String [] tab = {"__09_23_HELLO","__89_2_WORLD","900_23_TRY","_34_90_SATELLITE", 
"___23_", "390"}; 
```

我在这里要做的是仅在下划线后跟一个字母后保留数据，如果找不到，请返回`null`。在这个例子中，我会得到这个：

> HELLO WORLD TRY SATELLITE null null

所以我写了这个递归函数：

```
public String getName(String string, int i)
{
    if(i == string.length()-1) return null;
    if(string.charAt(i) != '_' || 
      (string.charAt(i) == '_' && !Character.isLetter(string.charAt(i+1)))) 
        return getName(string, i+1);
    else
        return string.substring(i+1);
} 
```

而且效果很好。但是由于我不知道很多正则表达式（也许还有其他方法？），我想知道我是否可以使用正则表达式来做到这一点，以及它是否会在处理大量数据时更快地进行。

感谢您的回答。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:35:27.270

虽然您可以使用递归函数，但使用不同的方法肯定会更快：

*   要么我会使用循环（类似于你的方法，但使用循环而不是递归来增加计数器`i`）。

*   或者，按照您的建议使用正则表达式匹配来编写它。

这两种可能性中的哪一种更快并不容易确定，但我猜想正则表达式更快，除非你的循环代码非常聪明并且尽可能少。要找出没有办法对这两种方法进行编码并对其进行基准测试......

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T09:32:17.850

JIT 很难优化递归调用（参见[这篇文章](http://java.dzone.com/articles/how-expensive-method-call-java)），所以我尽量避免它。这是一个正则表达式解决方案（结合子字符串，正如您对标签的预期）。

```
String [] tab = {"__09_23_HELLO","__89_2_WORLD","900_23_TRY","_34_90_SATELLITE",  "___23_", "390"};
Pattern pattern = Pattern.compile("_[a-zA-Z]");
for (int i = 0; i < tab.length; i++) {
    Matcher matcher = pattern.matcher(tab[i]);
    if (matcher.find()) {
        tab[i] = tab[i].substring(matcher.start() + 1);
    } else {
        tab[i] = null;
    }
}
System.out.println(Arrays.toString(tab)); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-07T09:37:46.493

对数组中的每个元素应用正则表达式：

```
/[^_\d\s]+/g 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-07T11:21:32.360

我创建了以下实现（它转换原始字符串数组中的值）：

```
for (int index = 0; index < strings.length; index++) {
    String eachString = strings[index];
    int startIndex = eachString.lastIndexOf('_') + 1;
    if (startIndex > 0 && eachString.length() != startIndex && Character.isLetter(eachString.charAt(startIndex))) {
        strings[index] = eachString.substring(startIndex);
    } else {
        strings[index] = null;
    }
}
return strings; 
```

# c# - Ninject 基于参数类型的条件绑定

> ID：15267368
> 
> 赞同：8
> 
> 时间：2013-03-07T09:25:17.330
> 
> 标签：c#, binding, ninject, conditional

我正在使用工厂返回数据发送器：

```
Bind<IDataSenderFactory>()
    .ToFactory();

public interface IDataSenderFactory
{
    IDataSender CreateDataSender(Connection connection);
} 
```

我有两种不同的数据发送器实现（WCF 和远程处理），它们采用不同的类型：

```
public abstract class Connection
{
    public string ServerName { get; set; }
}

public class WcfConnection : Connection
{
    // specificProperties etc.
}

public class RemotingConnection : Connection
{
    // specificProperties etc.
} 
```

我正在尝试使用 Ninject 根据从参数传递的 Connection 类型来绑定这些特定类型的数据发送器。我尝试了以下失败：

```
Bind<IDataSender>()
    .To<RemotingDataSender>()
    .When(a => a.Parameters.Single(b => b.Name == "connection") as RemotingConnection != null) 
```

我相信这是因为 '.When' 只提供一个请求，我需要完整的上下文才能检索实际参数值并检查其类型。我不知道该做什么，除了使用命名绑定，实际实现工厂并将逻辑放在那里，即

```
public IDataSender CreateDataSender(Connection connection)
{
    if (connection.GetType() == typeof(WcfConnection))
    {
        return resolutionRoot.Get<IDataSender>("wcfdatasender", new ConstructorArgument("connection", connection));
    }

    return resolutionRoot.Get<IDataSender>("remotingdatasender", new ConstructorArgument("connection", connection));
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-07T12:03:44.293

在研究了 Ninject 源代码后，我发现了以下内容：

*   `a.Parameters.Single(b => b.Name == "connection")`给你类型的变量`IParameter`，而不是真正的参数。

*   `IParameter`具有`object GetValue(IContext context, ITarget target)`不需要空上下文参数的方法（目标可以为空）。

*   我还没有找到从 Request 中获取 IContext 的任何方法（您的示例中的变量 a ）。

*   `Context`类没有无参数构造函数，所以我们不能创建新的上下文。

为了使其工作，您可以创建虚拟 IContext 实现，例如：

```
public class DummyContext : IContext
{
    public IKernel Kernel { get; private set; }
    public IRequest Request { get; private set; }
    public IBinding Binding { get; private set; }
    public IPlan Plan { get; set; }
    public ICollection<IParameter> Parameters { get; private set; }
    public Type[] GenericArguments { get; private set; }
    public bool HasInferredGenericArguments { get; private set; }
    public IProvider GetProvider() { return null; }
    public object GetScope() { return null; }
    public object Resolve() { return null; }
} 
```

而不是使用它

```
kernel.Bind<IDataSender>()
      .To<RemotingDataSender>()
      .When( a => a.Parameters
                   .Single( b => b.Name == "connection" )
                   .GetValue( new DummyContext(), a.Target ) 
               as RemotingConnection != null ); 
```

如果有人可以发布一些有关从内部获取上下文的信息，那就太好了`When()`......

# html - 使用 Meteor Slides 的海报柱？

> ID：15267370
> 
> 赞同：1
> 
> 时间：2013-03-07T09:25:24.123
> 
> 标签：html, css, wordpress, meteor-slides

我正在尝试一些想法，我想知道是否可以使用 Meteor Slides 实现我的愿景。让我先解释一下基本思想：

我想要某种海报支柱，当前幻灯片将是海报或一些宣传 - 当然，相当大，但这不是问题。我也想实现其他海报在那个支柱“边缘”的效果，但我不知道该怎么做。

到目前为止，我发现一个好主意是创建一个透明的 .png 文件作为支柱覆盖层，然后每张幻灯片都适合该支柱。我猜听起来不错，但无论如何我都无法做到这一点：我尝试使用 z-index 将 .png 放在幻灯片图像的顶部，但它不起作用。知道如何实现吗？

提前致谢！

[http://wordpress.org/extend/plugins/meteor-slides/](http://wordpress.org/extend/plugins/meteor-slides/)

# jquery - 如果没有网络，jquery mobile phonegap 禁用提交按钮

> ID：15267371
> 
> 赞同：0
> 
> 时间：2013-03-07T09:25:26.333
> 
> 标签：jquery, cordova, mobile

我试图禁用我的 jquery 移动应用程序上的提交按钮。我已经尝试了好几天才能让它工作。这些按钮不会启用或禁用。这是我尝试输入的众多脚本之一

```
document.addEventListener("deviceready", onDeviceReady, false);

function onDeviceReady() {
    checkConnection();
}

function checkConnection() {
    var networkState = navigator.network.connection.type;

    var states = {};
    states[Connection.UNKNOWN]  = 'Unknown connection';
    states[Connection.ETHERNET] = 'Ethernet connection';
    states[Connection.WIFI]     = 'WiFi connection';
    states[Connection.CELL_2G]  = 'Cell 2G connection';
    states[Connection.CELL_3G]  = 'Cell 3G connection';
    states[Connection.CELL_4G]  = 'Cell 4G connection';
    states[Connection.NONE]     = 'No network connection';

        if(networkState==Connection.UNKNOWN || networkState==Connection.NONE) {
            $('[type="submit"]').button('disable');
            $('[type="submit"]').button('refresh');

        } else {
            $('[type="submit"]').button('enable');
            $('[type="submit"]').button('refresh');

        } 
```

`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:36:24.830

不应该是这样的吗：

```
if(networkState==states.Connection.UNKNOWN || networkState==states.Connection.NONE) {
   //........... your code stuff..............//
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:38:42.153

试着打电话

```
mybutton.disabled = true 
```

# ruby - 在 OS X Snow Leopard 上使用 RVM 安装 Ruby 2.0 时出错

> ID：15267376
> 
> 赞同：1
> 
> 时间：2013-03-07T09:25:36.823
> 
> 标签：ruby, makefile, rvm, ruby-2.0

我正在尝试在运行 Snow Leopard 的 Macbook 上使用 RVM 安装 Ruby 2.0。RVM 版本 - 1.18.18 XCode 版本 - 4.0.2 GCC 版本 - 4.2.1

当我运行时`rvm install 2.0.0`，它失败了

```
Error running 'make -j4',
please read /Users/membLoper/.rvm/log/ruby-2.0.0-p0/make.log 
```

make.log 因“总线错误”而失败。在此处完成日志[https://gist.github.com/anonymous/1cacd89ee0d4fb2be3e2](https://gist.github.com/anonymous/1cacd89ee0d4fb2be3e2)

我怀疑它与我的 gcc 有关，但无法弄清楚到底是什么。我尝试将 readline 设置为 brew 安装位置，将 gcc 设置为 Clang，但仍然遇到此错误。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T20:14:42.803

问题是因为旧的 Xcode，尝试编译使用`CC=gcc-4.2`- 但它不必工作，如果失败尝试更新 Xcode 或安装 Xcode 的命令行工具

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T20:44:27.350

这对我有用：

```
rvm install 2.0.0 --autolibs=2 --with-gcc=clang 
```

# c# - WinRT C# 无对话框拍照

> ID：15267377
> 
> 赞同：0
> 
> 时间：2013-03-07T09:25:40.677
> 
> 标签：c#, windows-runtime, windows-store-apps

如果我想在 WinRT 中拍照，我需要调用此代码：

```
 var ui = new CameraCaptureUI();
        ui.PhotoSettings.CroppedAspectRatio = new Size(4, 3);

        var file = await ui.CaptureFileAsync(CameraCaptureUIMode.Photo);

        if (file != null)
        {
            IRandomAccessStream fileStream = await file.OpenAsync(Windows.Storage.FileAccessMode.Read);
            var bitmap = new BitmapImage();
            bitmap.SetSource(fileStream);
            Photo.Source = bitmap;
        } 
```

但是，我想自动拍照，例如。每 1 分钟。所以，不可能每分钟都通过对话拍照。我可以照原样拍摄照片程序吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:51:14.310

这不可能。您必须单击捕获按钮

参考：[http ://blog.onedevjob.com/2012/01/22/displaying-webcam-preview-in-a-metro-app-using-winrt-and-xaml/](http://blog.onedevjob.com/2012/01/22/displaying-webcam-preview-in-a-metro-app-using-winrt-and-xaml/)

# eclipse - Eclipse SVN 中的树比较修订

> ID：15267379
> 
> 赞同：1
> 
> 时间：2013-03-07T09:25:42.970
> 
> 标签：eclipse, svn

当我在我的工作区中有待处理的更改时，我可以右键单击该项目并选择“与-> 基本修订版比较”，这为我提供了所有待处理更改的树视图，并且可以在差异视图中查看每个更改的文件。

这也是我希望对旧版本的修改，例如在进行代码审查时。从历史视图中选择修订并查看所有更改，能够在文件之间导航并轻松直接比较它们，而无需单独选择每个更改的文件并选择比较（这意味着新的服务器往返，等待对话框出现，等待用于获取修订等）。目前这是一个非常乏味的过程，我可以看到基本功能已经存在。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T07:49:44.010

好的，所以我能找到的最好的方法是右键单击项目“团队->显示历史”，然后从列表中选择所需的修订并选择“比较...”，它会给我所需的视图顶部的树和底部的并排比较。

“技巧”似乎是它必须是文件夹的历史记录，而不是单个文件，否则它会抱怨“操作不适用于目录”。但是，如果我从目录历史记录中选择，我还可以编辑 svn 路径以进行比较，例如，如果提交包含多个项目，则还包括父文件夹。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-07-10T16:57:59.243

假设您在 Eclipse 中有 SVN 插件，我在 Eclipse 中使用 SVN Repositories 透视图（Windows -> Perspective -> Open Perspective）。它允许您选择 2 个不同的标签/分支并进行比较，即您可以在选择文件的一个视图中比较文件夹和文件，并并排显示下方的差异。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-01-31T13:20:12.037

右键单击 Eclipse IDE 中的文件，然后比较 -> 来自存储库的最新

# jsf-2 - 后续调用后，同一视图的 JSF 性能会有所不同

> ID：15267380
> 
> 赞同：0
> 
> 时间：2013-03-07T09:25:47.417
> 
> 标签：jsf-2, mojarra

我已经设置了一个带有支持 bean 的视图，它在启动时加载它的所有数据。所有方法都是恒定时间，我添加了计时器来检查它们的行为是否一致。我有一个测量进入/退出时间的 ServletRequestListener。

**问题**：一旦我加载页面，我就会有一些呈现页面部分的 Ajax 链接（不改变我的 ViewScope bean 的状态）。这些调用需要从 90 毫秒到 600 毫秒，当我单击我的 ajax 链接时，时间正在减少。有人能指出我应该在哪里进行调查吗？这可能是由于视图随机序列化还是视图的重新编译？

使用 JSF2、Tomcat 7 和 Mojarra 2.1.19

web.xml 提取

```
<context-param>
    <param-name>javax.faces.PROJECT_STAGE</param-name>
    <param-value>Production</param-value>
</context-param>
<context-param>
    <param-name>javax.faces.PARTIAL_STATE_SAVING</param-name>
    <param-value>true</param-value>
</context-param>
<context-param>
    <param-name>com.sun.faces.developmentMode</param-name>
    <param-value>false</param-value>
</context-param>
<context-param>
    <param-name>com.sun.faces.compressViewState</param-name>
    <param-value>false</param-value>
</context-param>

<context-param>
    <param-name>javax.faces.CONFIG_FILES</param-name>
    <param-value>/WEB-INF/faces-config.xml</param-value>
</context-param> 
```

# php - 比较两个大型配置文件作为一个文本文件，在 PHP 中具有标题和子标题等......？

> ID：15267381
> 
> 赞同：1
> 
> 时间：2013-03-07T09:25:47.633
> 
> 标签：php, compare

我有两个配置文件需要使用 PHP 进行比较。我可以将这些配置文件转换为文本文件。所以现在我必须比较两个具有标题、子标题等的文本文件。PLZ如果有人可以帮助我

(1)第一个文本文件---

```
Building configuration...

Current configuration : 458572 bytes
!

!
upgrade fpd auto

version 12.2

!
hostname IVY-DC-CORESTK-1
!
boot-start-marker
!

*interface fastethernet0/0

     ip address 1.1.1.2 255.255.255.0

     real

        inservice*
!
!
!
! 
```

(2)文本文件

```
Building configuration...

Current configuration : 458572 bytes

!
!

upgrade fpd auto

version 12.2
!

hostname **IVY-DC-cpucpu**

!

boot-start-marker

!

 *interface fastethernet0/0

      ip address 1.1.1.1 255.255.255.0

      real

         inservice*
! 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:48:04.423

我认为将这些文件保存为 xml 或 yml 会更好，然后您可以将它们解析为对象并查看每个单独的设置是否相同。

[http://php.net/manual/en/function.yaml-parse.php](http://php.net/manual/en/function.yaml-parse.php)

但是要比较两个文本文件，您可以对它们进行哈希处理，以检查结果是否相互匹配。

```
if(hash_file('md5', 'example.txt') == hash_file('md5', 'example2.txt')){
     //do something
} 
```

[http://php.net/manual/en/function.hash-file.php](http://php.net/manual/en/function.hash-file.php)

# box2d - 如何定义形状的顶点

> ID：15267382
> 
> 赞同：1
> 
> 时间：2013-03-07T09:25:52.933
> 
> 标签：box2d

我正在 iPhone 上使用 box2d。我想在加载形状时为形状定义动态顶点。

你有想法吗 ？我仍然没有找到最好的方法。

谢谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-09T08:28:14.520

如果您想要在运行时更改身体的外观和行为，则必须销毁并再次创建（每次更改时，可能是每一帧）附加到身体的固定装置，以及您的新形状）。

网上有很多关于它的教程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-09T08:40:12.103

您可以将其中之一用于顶点生成/形状夹具

«[顶点助手](http://www.cocos2d-iphone.org/archives/779)

«[物理编辑](http://www.codeandweb.com/physicseditor/features)

![在此处输入图像描述](../Images/59d95a901a2087d0e43ca20bb8ed4c2e.png)

# java - 获取 POST 的 JSON 响应

> ID：15267385
> 
> 赞同：1
> 
> 时间：2013-03-07T09:26:01.187
> 
> 标签：java, android, json

我正在尝试使用此代码发送请求

```
protected void Authenticate(String mUsername, String mPassword)
    { 
        HttpClient httpclient = new DefaultHttpClient();
        HttpPost httppost = new HttpPost("http://192.168.2.5:8000/mobile/");

        try {
            // Add your data
            List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(2);
            nameValuePairs.add(new BasicNameValuePair("username", mUsername));
            nameValuePairs.add(new BasicNameValuePair("password", mPassword));
            httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

            // Execute HTTP Post Request
            HttpResponse response = httpclient.execute(httppost);
            System.out.println("this is the response "+response);
        } catch (ClientProtocolException e) {
            // TODO Auto-generated catch block
            System.out.println("CPE"+e);
        } catch (IOException e) {
            // TODO Auto-generated catch block
            System.out.println("IOE"+e);
        }
    } 
```

我得到一个`HttpResponse`，我试图实施的方式是否正确？如果是，我如何将该响应转换为 JSON ？

**LOG-CAT**

```
this is the response org.apache.http.message.BasicHttpResponse@2fb67110 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T09:27:04.880

`String jsonString = EntityUtils.toString(response.getEntity());`

这就是你需要的

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T09:31:11.357

这将帮助您：

```
public class JSONParser {

static InputStream is = null;
static JSONObject jObj = null;
static String json = "";

// constructor
public JSONParser() {

}

// function get json from url
// by making HTTP POST or GET method
public JSONObject makeHttpRequest(String url, String method,
        List<NameValuePair> params) throws Exception {

    // Making HTTP request
    try {

        // check for request method
        if (method == "POST") {
            // request method is POST
            // defaultHttpClient
            DefaultHttpClient httpClient = new DefaultHttpClient();
            HttpPost httpPost = new HttpPost(url);
            httpPost.setEntity(new UrlEncodedFormEntity(params));

            // new
            HttpParams httpParameters = httpPost.getParams();
            // Set the timeout in milliseconds until a connection is
            // established.
            int timeoutConnection = 10000;
            HttpConnectionParams.setConnectionTimeout(httpParameters,
                    timeoutConnection);
            // Set the default socket timeout (SO_TIMEOUT)
            // in milliseconds which is the timeout for waiting for data.
            int timeoutSocket = 10000;
            HttpConnectionParams
                    .setSoTimeout(httpParameters, timeoutSocket);
            // new
            HttpResponse httpResponse = httpClient.execute(httpPost);
            HttpEntity httpEntity = httpResponse.getEntity();
            is = httpEntity.getContent();

        } else if (method == "GET") {
            // request method is GET
            DefaultHttpClient httpClient = new DefaultHttpClient();
            String paramString = URLEncodedUtils.format(params, "utf-8");
            url += "?" + paramString;
            HttpGet httpGet = new HttpGet(url);
            // new
            HttpParams httpParameters = httpGet.getParams();
            // Set the timeout in milliseconds until a connection is
            // established.
            int timeoutConnection = 10000;
            HttpConnectionParams.setConnectionTimeout(httpParameters,
                    timeoutConnection);
            // Set the default socket timeout (SO_TIMEOUT)
            // in milliseconds which is the timeout for waiting for data.
            int timeoutSocket = 10000;
            HttpConnectionParams
                    .setSoTimeout(httpParameters, timeoutSocket);
            // new
            HttpResponse httpResponse = httpClient.execute(httpGet);
            HttpEntity httpEntity = httpResponse.getEntity();
            is = httpEntity.getContent();
        }

    } catch (UnsupportedEncodingException e) {
        throw new Exception("Unsupported encoding error.");
    } catch (ClientProtocolException e) {
        throw new Exception("Client protocol error.");
    } catch (SocketTimeoutException e) {
        throw new Exception("Sorry, socket timeout.");
    } catch (ConnectTimeoutException e) {
        throw new Exception("Sorry, connection timeout.");
    } catch (IOException e) {
        throw new Exception("I/O error(May be server down).");
    }
    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        json = sb.toString();
    } catch (Exception e) {
        throw new Exception(e.getMessage());
    }

    // try parse the string to a JSON object
    try {
        jObj = new JSONObject(json);
    } catch (JSONException e) {
        throw new Exception(e.getMessage());
    }

    // return JSON String
    return jObj;

}
 } 
```

您可以像这样使用上面的类：例如：

```
public class GetName extends AsyncTask<String, String, String> {
String imei = "abc";
JSONParser jsonParser = new JSONParser();

@Override
protected void onPreExecute() {
    super.onPreExecute();
}

protected String doInBackground(String... args) {
    String name = null;
    String URL = "http://192.168.2.5:8000/mobile/";
    List<NameValuePair> params = new ArrayList<NameValuePair>();
    params.add(new BasicNameValuePair("username", mUsername));
    params.add(new BasicNameValuePair("password", mPassword));
    JSONObject json;
    try {
        json = jsonParser.makeHttpRequest(URL, "POST", params);
        try {
            int success = json.getInt(Settings.SUCCESS);
            if (success == 1) {
                name = json.getString("name");
            } else {
                name = null;
            }
        } catch (JSONException e) {
            name = null;
        }
    } catch (Exception e1) {
    }
    return name;
}

protected void onPostExecute(String name) {
    Toast.makeText(mcontext, name, Toast.LENGTH_SHORT).show();
 }
 } 
```

如何使用它：
只需通过复制有关类代码来创建新的 JSONParse 类。然后您可以在应用程序中的任何位置调用它，如第二个代码所示。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:28:05.937

这里你需要做的

```
 HttpResponse mHttpResponse = mHttpClient.execute(httppost);
                StatusLine status = mHttpResponse.getStatusLine();
                int response = status.getStatusCode(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T09:29:32.760

这是[博客](http://www.mkyong.com/webservices/jax-rs/restful-java-client-with-apache-httpclient/)中的一个示例。希望这可以帮助

```
 if (response.getStatusLine().getStatusCode() != 200) {
        throw new RuntimeException("Failed : HTTP error code : "
           + response.getStatusLine().getStatusCode());
    }

    BufferedReader br = new BufferedReader(
                     new InputStreamReader((response.getEntity().getContent())));

    String output;
    System.out.println("Output from Server .... \n");
    while ((output = br.readLine()) != null) {
        System.out.println(output);
    }

    httpClient.getConnectionManager().shutdown(); 
```

# workflow - 在 OpenERP 7.0 中将员工姓名添加到自定义模块

> ID：15267387
> 
> 赞同：0
> 
> 时间：2013-03-07T09:26:06.853
> 
> 标签：workflow, customization, openerp

我在 Windows 7.0 上有 OpenERP 7.0。如何在我的自定义模块中添加员工姓名字段？谢谢。

**初始化**文件

导入笔记本

**开放程序**.py****

 **{

```
"name" : "notebook",

"version" : "0.1",

"author" : "Jamil Shah",

"website" : "http://www.asp-aid.org/",

"category" : "Generic Modules/Others",

"depends" : ["hr"],

"description" : "Simple demo module",

"init_xml" : ["notebook_view.xml"],

"demo_xml" : [],

"update_xml" : [],

"active": False,

"installable": True 
```

}

笔记本.py

从 openerp.osv 导入字段，orm

课堂笔记本（orm.Model）：

```
_name = "notebook"
    _inherit = 'hr.employee'

_description = "Simple Notebook"

_columns = {

    'employee_id' : fields.many2one('hr.employee', 'Employee'),

    'title' : fields.char('Title', size=30, required=True),

    'note' : fields.text('Note'),

    'note_date' : fields.date('Date'),

} 
```

笔记本（）

notebook_view.xml

```
<data>

    <record model="ir.ui.view" id="notebook_tree_view">

        <field name="name">notebook.tree</field>

        <field name="model">notebook</field>

        <field name="type">tree</field>

        <field name="arch" type="xml">

            <tree string="Notebook">

                <field name="title"/>

                <field name="note"/>

                <field name="note_date"/>

            </tree>

        </field>

    </record>

    <record model="ir.ui.view" id="notebook_form_view">

        <field name="name">notebook.form</field>

        <field name="model">notebook</field>

        <field name="type">form</field>

        <field name="arch" type="xml">

            <form string="Notebook" version="7.0">

                <field name="title"/>

                <field name="note"/>

                <field name="note_date"/>

            </form>

        </field>

    </record>

    <record model="ir.actions.act_window" id="action_notebook_form">

        <field name="name">notebook</field>

        <field name="res_model">notebook</field>

    </record>

    <menuitem id="notebook_menu"
        name="Notebook"
        icon="terp-project"
    />

    <menuitem id="notebook_sub_menu"
        name="Notes"
        parent="notebook_menu"
    />

    <menuitem id="notebook_menu_mainform"
        name="Notes"
        action="action_notebook_form"
        parent="notebook_sub_menu"
    />

</data> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:31:34.000

```
class hr_employee(osv.Model):
    _name = 'class.name'
    _columns = {
        'date': fields.date('Date'),
        'employee_id': fields.many2one('hr.employee', 'Employee'),
        'note': fields.text('Note'),
        'name': fields.char('Details', size=50),
    } 
```

您可以获得更多信息[Create New Object](http://doc.openerp.com/v6.1/developer/03_modules_2.html#openerp-object-attributes)。**

# joomla - 登录页面的 url 上缺少 Itemid

> ID：15267397
> 
> 赞同：0
> 
> 时间：2013-03-07T09:26:36.260
> 
> 标签：joomla, joomla2.5

我在 Joomla 2.5 上。
我使用 Itemid=626 创建了一个名为“登录表单”的菜单项。我还创建了一个名为“文章”的菜单项，访问级别为“已注册”。
**问题**
当用户点击前端的“文章”菜单项时，他进入登录页面

```
index.php?option=com_users&view=登录
```

我需要这个 url 包含 Itemid=626 所以它可能是

```
index.php?option=com_users&view=login& Itemid=626
```

请指教

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T13:08:16.253

我认为你不能仅仅创建一个菜单项就覆盖标准的 joomla 登录页面。

要轻松创建一些规则并重定向用户，您可以使用此组件[Chameleon](http://www.metamodpro.com/chameleon/chameleon)。

如果您不需要复杂的规则，您可以将所有用户从标准登录自动重定向到您的页面。

# mysql - 如何删除重复的 SQL 结果？

> ID：15267399
> 
> 赞同：0
> 
> 时间：2013-03-07T09:26:44.490
> 
> 标签：mysql, database, sql-order-by, inner-join, duplicate-removal

我正在从名为**guildmembers的表中提取访问权限、guildid 名称**

![](../Images/bcb5c2446e7dc3e4ccaf3a033e1cbb37.png) .

...和另一个名为**玩家的表中的 id、level、playerclass**

![](../Images/0f043d9532c56bc5f9e60d310e456793.png)

这是我的 SQL 语句：

```
选择 guildmembers.access、guildmembers.guildid、guildmembers.name、players.id、players.level、players.playerclass
来自公会成员、玩家
ORDER BY guildmembers.name, player.playerclass

```

这是返回的内容。

![](../Images/a2fbff5d8a5d0571bcabd7c19f5b9cbc.png)

这就是我需要的。

![](../Images/7a83c27636c2666f1aaa7e52bbcd9a8c.png)

任何想法如何做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:33:32.110

你需要做的是一个join语句。目前您正在告诉 sql 只向您显示两个表中的所有结果。您只想在匹配的地方显示结果，为此您使用 join 语句。

```
SELECT guildmembers.access, guildmembers.guildid, guildmembers.name, players.id, players.level, players.playerclass
FROM guildmembers join players on guildmembers.pid=players.id
ORDER BY guildmembers.name, players.playerclass 
```

`guildmembers.pid`并且`players.id`是两个表中的公共字段，因此您可以在这些表中加入表。

[http://www.w3schools.com/sql/sql_join.asp](http://www.w3schools.com/sql/sql_join.asp)

为了使这更容易理解和理解，在两个表中都有一个共同的字段名称。然后你可以用它来加入，它更有意义。

希望对您有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:36:18.550

您的 SQL 语句不正确，请尝试

```
SELECT guildmembers.access, guildmembers.guildid, guildmembers.name, players.id, 
players.level, players.playerclass from guildmembers left join players on guildmembers.pid = players.id order by guildmembers.name, players.playerclass 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T09:40:56.567

```
SELECT gm.access as access, gm.guildid as guildid, gm.name as name, 
p.id as id, p.level as level, p.playerclass as playerclass
FROM guildmembers gm LEFT JOIN players p on gm.pid=p.id
ORDER BY gm.name, p.playerclass 
```

# ajax - 第二次在 ajax 响应中获取不同的数据

> ID：15267402
> 
> 赞同：4
> 
> 时间：2013-03-07T09:26:52.360
> 
> 标签：ajax, spring, jquery, spring-mvc

我遇到了一个我无法找出原因的问题。

我正在使用 spring mvc，并且我正在向我的一个控制器发送 ajax 请求。

```
 $.get("<c:url value="/createcomment" />", {id: pageid , newcomment : newcomment})
       .done(function(data){
         $("#newcomment"+data.pageId).val('');
        var html = '<tr><td>'+
                   '<div class="pull-left">'+
                   '<img class="img-rounded" src="resources/profile-pics/male/small.jpg" alt="">'+
                   '</div><div class="span4"><ul class="nav nav-stacked">'+
                   '<li><font size="2"><i class="icon-user"></i>'+data.account.firstName+'&nbsp;'+data.account.lastName+'</font></li>'+
                   '<li><font size="2">'+data.text+'</font></li><li><font size="1">'+data.postingDate+
                   '</font></li></ul></div></td></tr>';
        $(html).inserAfter($("#tr"+data.pageId));
      } 
```

当我刷新页面并发送请求时，我得到以下所需的对象。

![在此处输入图像描述](../Images/b1d563482229ef6c9d0961d214f1eaf0.png)

当我再次发送它时，我得到了一些文档对象。

![在此处输入图像描述](../Images/36ec1546a7f88dcb20735ecbea6d89c7.png)

我不明白发生了什么错误。

![在此处输入图像描述](../Images/f42c2e56fd374d7027e287dc0c17e080.png)

```
 @RequestMapping(value="/createcomment",method=RequestMethod.GET)
public @ResponseBody Comment createComment(@RequestParam(value="id")final String pageId,@RequestParam(value="newcomment")final String text, 
        final HttpServletRequest request ,final WebRequest req){

    final Comment comment = new Comment();
    comment.setId(GenerateUID.generate());
    comment.setText(text);
    comment.setPostingDate(new Date());
    comment.setPageId(Long.valueOf(pageId));
    try {

        return comment;
    } catch (NumberFormatException e) {
        return null;
    } catch (SignInNotFoundException e) {
        return null;
    }
} 
```

只是为了附加信息，我正在使用 jQuery JavaScript Library v1.7.1

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-09T13:57:58.543

您可能想检查您的方法是否抛出`NumberFormatException`or `SignInNotFoundException`，在这种情况下它返回 null。您的网络日志显示已传输 0 个字节的数据。

# grails - Grails：再次“找不到名称 project.Smthg 的域类”，但对我来说没有解决方案

> ID：15267403
> 
> 赞同：1
> 
> 时间：2013-03-07T09:26:53.370
> 
> 标签：grails, java

尝试在*STS*中“全部生成”时出现以下错误：

```
| Loading Grails 2.2.1
| Configuring classpath.
| Environment set to development.....
| Packaging Grails application....
| Compiling 1 source files.....
| Packaging Grails application.
| Compiling 1 source files.....
| Domain class not found in grails-app/domain, trying hibernate mapped classes...
| Packaging Grails application.
| Compiling 1 source files.....
| Packaging Grails application.
| Compiling 1 source files.....
| No domain class found for name project.Smthg. Please try again and enter a valid domain class name 
```

现在，我的项目被称为“项目”。我正在使用*Grails 2.2.1*和*JDK1.7*。

我第一次执行“generate-all”时它起作用了，但是由于我删除了生成的 .groovy 文件，我不能再这样做了，即使使用“clean”和“refresh dependencies”也是如此。我尝试重新安装*STS*和 Groovy，我创建了一个新工作区并删除了*HOME*中的 .groovy 和 .grails 目录。

我不知道该怎么办，即使使用这种新配置我也无法使其正常工作...

在此先感谢您的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T02:52:01.287

阅读您的评论...

> 好吧，我想我刚刚解决了这个问题。有谁可以确认对于这个命令（generate-all），我们需要在“域”文件夹中已经有相关的 groovy 文件（这里是 Smthg.groovy）？谢谢你。

...看起来您对`generate-all`命令的作用感到困惑。[手册](http://grails.org/doc/2.2.x/ref/Command%20Line/generate-all.html)告诉我们命令`generate-all`：

> 为给定的域类生成控制器、视图和控制器单元测试

这里要注意的短语是`for the given domain class`。您尝试运行的域类`generate-all`必须存在`generate-all`才能工作。

# c# - 多语言网站代码不起作用

> ID：15267411
> 
> 赞同：1
> 
> 时间：2013-03-07T09:27:01.840
> 
> 标签：c#, asp.net, multilingual, globalization, global-asax

我有一个网站一直运行良好，直到我不得不删除一些不正确的资源文件。但是，这可能不是它不起作用的原因。基本上，像大多数多语言网站一样，用户可以通过单击标志来更改语言：

```
 protected void imbEnglish_Click(object sender, ImageClickEventArgs e)
{
    SetCultureStoreCookie("en-GB");
}
protected void imbFrench_Click(object sender, ImageClickEventArgs e)
{
    SetCultureStoreCookie("fr-FR");
}
protected void imbGerman_Click(object sender, ImageClickEventArgs e)
{
    SetCultureStoreCookie("de-DE");
}
protected void imbSpanish_Click(object sender, ImageClickEventArgs e)
{
    SetCultureStoreCookie("es-ES");
}
protected void imbItalian_Click(object sender, ImageClickEventArgs e)
{
    SetCultureStoreCookie("it-IT");
}
protected void imbPolish_Click(object sender, ImageClickEventArgs e)
{
    SetCultureStoreCookie("fr-FR");
}

protected void SetCultureStoreCookie(string culture)
{
    //Sets the cookie that is to be used by Global.asax
    HttpCookie cookie = new HttpCookie("CultureInfo");
    cookie.Value = culture;
    Response.Cookies.Add(cookie);

    //Set the culture and reload the page for immediate effect. 
    //Future effects are handled by Global.asax

    Thread.CurrentThread.CurrentCulture = new CultureInfo(culture);
    Thread.CurrentThread.CurrentUICulture = new CultureInfo(culture);

    //Response.Redirect(Request.Path);
    Server.Transfer(Request.Path);
} 
```

正如评论中所说，文化的后续设置正在 Global.asax 中处理：

```
 protected void Application_BeginRequest(object sender, EventArgs e)
{
    HttpCookie cookie = Request.Cookies["CultureInfo"];

    if (cookie != null && cookie.Value != null)
    {
        Thread.CurrentThread.CurrentUICulture = new CultureInfo(cookie.Value);
        Thread.CurrentThread.CurrentCulture = new CultureInfo(cookie.Value);
    }
    else
    {
        Thread.CurrentThread.CurrentUICulture = new CultureInfo("en-GB");
        Thread.CurrentThread.CurrentCulture = new CultureInfo("en-GB");
    }
} 
```

所有页面，包括母版页都有英文（默认）资源文件，我已经开始创建法文资源文件：

![资源文件](../Images/1bc46a141cbceffad0403c6622559152.png)

但是，当您单击法国国旗时，没有任何反应。我已经单步执行了代码，正在设置 cookie 并运行 Thread.CultureInfo 行。

关于在哪里检查的任何想法？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T10:05:47.830

我通过改变它的工作方式解决了这个问题。显然，MasterPage 类没有一个名为 InitializeCulture 的方法，使用我在其他帖子中看到的一些技巧，我创建了一个 BaseClass 页面：

```
using System; 
```

使用 System.Collections.Generic；使用 System.Linq；使用 System.Web；使用 System.Threading；使用 System.Globalization；

/// /// 翻译摘要说明 /// public class BasePage : System.Web.UI.Page { public BasePage() { // // TODO: 在此处添加构造函数逻辑 // }

```
protected override void InitializeCulture()
{
    HttpCookie cookie = Request.Cookies["CultureInfo"];

    if (cookie != null && cookie.Value != null)
    {
        //Thread.CurrentThread.CurrentUICulture = new CultureInfo(cookie.Value);
        //Thread.CurrentThread.CurrentCulture = new CultureInfo(cookie.Value);

        Thread.CurrentThread.CurrentCulture = CultureInfo.CreateSpecificCulture(cookie.Value);
        Thread.CurrentThread.CurrentUICulture = new CultureInfo(cookie.Value);
    }
    else
    {
        Thread.CurrentThread.CurrentUICulture = new CultureInfo("en-GB");
        //Thread.CurrentThread.CurrentCulture = new CultureInfo("en-GB");
        Thread.CurrentThread.CurrentCulture = CultureInfo.CreateSpecificCulture("en-GB");
    }

    base.InitializeCulture();
}

protected void Page_Load(object sender, EventArgs e)
{
    InitializeCulture();
} 
```

}

然后将每个页面更改为从 BaseClass 页面继承：

```
public partial class AboutUs : BasePage 
```

{

}

这解决了问题。

# sql - 从 sqlserver 表中拆分并选择特定值

> ID：15267414
> 
> 赞同：0
> 
> 时间：2013-03-07T09:27:06.307
> 
> 标签：sql, sql-server, sql-server-2008, sql-server-2005

我在 SQL Server 中有一个表项目，其字段 StartDate 的值为

```
15-02-2013 15:02:40
20-08-2011 10:11:20 
```

等我需要从中检索不同的年份值，就像 `2013 and 2011`我尝试过的查询一样

```
select (case when charindex(' ', StartDate) > 0
             then left(StartDate, charindex(' ', (StartDate))-1)
             else StartDate
        end) as StartDate FROM [kneipp].[dbo].[kn_projects] 
```

**`15-02-2013 and 20-08-2011`** 这给出了结果

```
select (case when charindex('-', StartDate) > 0
             then right(StartDate, charindex('-', reverse(StartDate))-1)
             else StartDate
        end) as lastone FROM [kneipp].[dbo].[kn_projects] 
```

得到**`2013 15:02:40 and 2011 10:11:20`**

如何达到我的预期结果

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:41:06.960

你试过这样表达吗？

```
SELECT distinct year( convert(datetime,StartDate,105)) 
FROM [kneipp].[dbo].[kn_projects] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:39:39.643

您可以将列转换为 DATETIME 格式

```
SELECT YEAR(CAST(StartDate AS DATETIME)) FROM [kneipp].[dbo].[kn_projects] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:48:11.660

正如其他人指出的那样，您可以转换为日期时间，如果您想保留数据类型，请尝试以下查询

```
Declare @t varchar(50),@t1 varchar(50)
set @t='15-02-2013 15:02:40'

Select left(parsename(replace(@t,'-','.'),1),4) 
```

如果您有任何格式的日期时间，请尝试以下表达式，它将以 varchar 数据类型返回年份

```
Select left(parsename(replace(@t1,'-','.'),1),
            charindex(' ',parsename(replace(@t1,'-','.'),1))) 
```

# javascript - 预填充 Django AutoCompleteSelectField

> ID：15267420
> 
> 赞同：0
> 
> 时间：2013-03-07T09:27:25.620
> 
> 标签：javascript, jquery, python, django, autocomplete

我正在尝试在 DOM 完成加载后使用 JS 预填充自定义表单的字段。正确的值被填写到表单字段中，但是当我提交表单时，Django 会抛出“此字段是必需的”错误。我猜这与它是 AutoCompleteSelectField 而不是常规的 CharField 有关。

这是有问题的表单字段：

```
country = AutoCompleteSelectField (
    label = _('Country'),
    lookup_class = CountryLookup,
    widget = AutoCompleteSelectWidget(CountryLookup, attrs = {
        'class': 'span12',
        'required': 'True',
    })
) 
```

这是JavaScript：

`$('#id_country_0').val(myObject.country);`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:59:55.270

似乎您正在为数据库中所需的属性传递空值。

检查这个你能做什么。

`print form` 在您各自的视图中使用

并在 python 的回溯中检查结果。在那里你会得到你没有通过的需要填写的内容。

这只是调试此问题的一种方法。然后更新您的帖子。

谢谢

# xamarin - 使用 Xamarin Studio 构建应用程序 -> CFBundleDisplayName 中的德语变音符号显示为“？”

> ID：15267421
> 
> 赞同：1
> 
> 时间：2013-03-07T09:27:28.470
> 
> 标签：xamarin, xamarin-studio

当我使用 Xamarin Studio 构建我的应用程序时，德语变音符号显示为“？”。当我使用 Mono Develop 构建应用程序时，一切都很好。

例如：Tür -> T?r 有人有解决这个问题的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T19:24:43.357

这是 Xamarin Studio 的 plist writer 中的一个错误。它将在版本 4.0.2 中修复。

# php - PHP：在本地主机中发送邮件

> ID：15267423
> 
> 赞同：25
> 
> 时间：2013-03-07T09:27:32.973
> 
> 标签：php, email

我想通过本地托管的 php 代码发送电子邮件。

```
<?php 
$email  = "myemail@local.com"; 
$titre   = "My subject"; 
$message = "Text message !"; 
mail($email, $titre, $message); 
?> 
```

当我运行此代码时，我收到以下错误：

```
Warning: mail() [<a href='function.mail'>function.mail</a>]: Failed to connect to mailserver at &quot;localhost&quot; port 25, verify your &quot;SMTP&quot; and &quot;smtp_port&quot; setting in php.ini or use ini_set() in C:\... 
```

我进入了`php.ini`文件，它似乎已经配置好了。

```
[mail function]
; For Win32 only.
; http://php.net/smtp
SMTP = localhost
; http://php.net/smtp-port
smtp_port = 25 
```

我怎样才能解决这个问题 ？

谢谢

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-07T09:31:02.293

它被配置为`localhost:25`用于邮件服务器。

错误消息说它无法连接到`localhost:25`.

因此，您有两种选择：

1.  在 localhost 端口 25 上安装/正确配置 SMTP 服务器
2.  更改配置以指向您*可以*连接到的其他一些 SMTP 服务器

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-11-03T15:55:08.263

我花了几个小时在这上面。我以前没有收到错误，但从未发送过邮件。最后我找到了一个解决方案，我想分享它。

```
<?php
include 'nav.php';
/*
    Download PhpMailer from the following link:
    https://github.com/Synchro/PHPMailer (CLick on Download zip on the right side)
    Extract the PHPMailer-master folder into your xampp->htdocs folder
    Make changes in the following code and its done :-)

    You will receive the mail with the name Root User.
    To change the name, go to class.phpmailer.php file in your PHPMailer-master folder,
    And change the name here: 
    public $FromName = 'Root User';
*/
require("PHPMailer-master/PHPMailerAutoload.php"); //or select the proper destination for this file if your page is in some   //other folder
ini_set("SMTP","ssl://smtp.gmail.com"); 
ini_set("smtp_port","465"); //No further need to edit your configuration files.
$mail = new PHPMailer();
$mail->SMTPAuth = true;
$mail->Host = "smtp.gmail.com"; // SMTP server
$mail->SMTPSecure = "ssl";
$mail->Username = "trials.php@gmail.com"; //account with which you want to send mail. Or use this account. i dont care :-P
$mail->Password = "trials.php.php"; //this account's password.
$mail->Port = "465";
$mail->isSMTP();  // telling the class to use SMTP
$rec1="trials.php@gmail.com"; //receiver. email addresses to which u want to send the mail.
$mail->AddAddress($rec1);
$mail->Subject  = "Eventbook";
$mail->Body     = "Hello hi, testing";
$mail->WordWrap = 200;
if(!$mail->Send()) {
echo 'Message was not sent!.';
echo 'Mailer error: ' . $mail->ErrorInfo;
} else {
echo  //Fill in the document.location thing
'<script type="text/javascript">
                        if(confirm("Your mail has been sent"))
                        document.location = "/";
        </script>';
}
?> 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-03-07T09:32:05.820

您需要安装本地邮件服务器才能执行此操作。如果您想将其发送到外部电子邮件地址，它可能会以不需要的电子邮件结束，或者根本无法到达。

我使用的一个好的邮件服务器（我在 Linux 上使用它，但它也可用于 Windows）是 Axigen： [http ://www.axigen.com/mail-server/download/](http://www.axigen.com/mail-server/download/)

您可能需要一些邮件服务器经验来安装它，但是一旦它工作，您就可以用它做任何您想做的事情。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-07T09:30:53.820

尝试这个

```
ini_set("SMTP","aspmx.l.google.com");
$headers = "MIME-Version: 1.0" . "\r\n";
$headers .= "Content-type: text/html; charset=iso-8859-1" . "\r\n";
$headers .= "From: test@gmail.com" . "\r\n";
mail("email@domain.com","test subject","test body",$headers); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-12-04T21:42:09.780

可以在不使用任何繁重的库的情况下发送电子邮件，我在这里包含了我的示例。

用于 PHP 的轻量级 SMTP 电子邮件发件人

[https://github.com/Nerdtrix/EZMAIL](https://github.com/Nerdtrix/EZMAIL)

在生产和开发环境中都经过测试。

最重要的是，除非您的 IP 被服务器列入黑名单，否则电子邮件不会成为垃圾邮件。

干杯。

# java - 确定一个方法是否使用反射覆盖另一个方法？

> ID：15267429
> 
> 赞同：10
> 
> 时间：2013-03-07T09:27:49.830
> 
> 标签：java, reflection

这可能吗？

我发现的唯一解决方案通常认为一个方法是被覆盖的 if`Class B`是可分配的，`Class A`并且 if`Method A`具有与`Method B`. 但它并没有涵盖所有情况！

例如，我想处理这种情况：

```
interface Foo<T> {
    void doStuff(T arg);    
}

class FooImpl implements Foo<String> {
    public void doStuff(String args) {
        //Is overriden!  
    }
} 
```

我还想检查（包范围等）`Method B`实际上是否可见。`Method A`

您是否体验过一种可靠的方法来确定某个方法是否被覆盖？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T09:33:22.263

如果不涉及泛型，则有一个[现有答案](https://stackoverflow.com/a/15206147/1365960)来确定方法是否被覆盖。

由于[类型擦除](http://docs.oracle.com/javase/tutorial/java/generics/erasure.html)，Java 将完全删除泛型类型。所以字节码是：

```
class FooImpl implements Foo<java.lang.String> {
  FooImpl();
    Code:
       0: aload_0
       1: invokespecial #10                 // Method java/lang/Object."<init>":()V
       4: return

  public void doStuff(java.lang.String);
    Code:
       0: return

  public void doStuff(java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #21                 // class java/lang/String
       5: invokevirtual #23                 // Method doStuff:(Ljava/lang/String;)V
       8: return
} 
```

有两种 doStuff 方法。这是一种[桥梁方法](http://stas-blogspot.blogspot.be/2010/03/java-bridge-methods-explained.html)。它只是进行类型转换并调用 void doStuff(java.lang.String)，所以实际上**void doStuff(java.lang.String) 没有被覆盖**，但**void doStuff(java.lang.Object) 是**。当您使用多态性时：

```
Foo foo = new FooImpl();
foo.doStuff("ABC") 
```

它实际上调用了 void doStuff(java.lang.Object)。所以如果你使用上面的链接来检测是否 void doStuff(java.lang.Object) 被覆盖，它会报告是。

```
public static void main(java.lang.String[]);
    Code:
       0: new           #1                  // class FooImpl
       3: dup
       4: invokespecial #22                 // Method "<init>":()V
       7: astore_1
       8: aload_1
       9: ldc           #23                 // String ABC
      11: invokeinterface #25,  2           // InterfaceMethod Foo.doStuff:(Ljava/lang/Object;)V
      16: return 
```

# asp.net-mvc-4 - 未根据 XRDS 中的 URI 调用 MVC4 OpenID 提供程序操作

> ID：15267430
> 
> 赞同：1
> 
> 时间：2013-03-07T09:28:04.403
> 
> 标签：asp.net-mvc-4, asp.net-mvc-routing, dotnetopenauth, xrds

我正在尝试在我的公司中开发用于单点登录功能的 OpenID 提供程序。我对 MVC 4 或`DotNetOpenAuth`库都没有什么经验。

我正在尝试根据从[http://www.dotnetopenauth.net/site](http://www.dotnetopenauth.net/site)下载的示例构建提供程序。

我的提供者没有被依赖方调用，但它没有调用 Xdrs 中提到的 URI。URI 正在形成为

> `http://localhost:54589/OpenId/provider`

但未调用此 url 的操作（提供程序操作）。如果我直接从浏览器访问此 URL，则它会在浏览器中显示视图。

下面是Xrds

```
 <?xml version="1.0" encoding="UTF-8"?>
    <xrds:XRDS
    xmlns:xrds="xri://$xrds"
    xmlns:openid="http://openid.net/xmlns/1.0"
    xmlns="xri://$xrd*($v*2.0)">
    <XRD>
        <Service priority="10">
            <Type>http://specs.openid.net/auth/2.0/server</Type>
            <Type>http://openid.net/extensions/sreg/1.1</Type>
            <Type>http://axschema.org/contact/email</Type>
            <URI>http://localhost:54589/OpenId/Provider</URI>
        </Service>
    </XRD>
    </xrds:XRDS> 
```

我不确定这是 MVC 问题还是我使用不`DotNetOpenAuth`正确。

**调试更新** 我发现我的 MVC razor Xrds.cshtml 正在被调用，但依赖方没有重定向到 Xrds 中存在的 URI。我还确保将 Request.ContentType 设置为 application/Xrds+xml。下面是我的代码

```
 public ActionResult Index()
        {
            if (Request.AcceptTypes.Contains("application/xrds+xml"))
            {
                ViewData["OPIdentifier"] = true;
                return RedirectToAction("Xrds");
            }
            return View();
        }

        public ActionResult Xrds()
        {
            ViewData["OPIdentifier"] = true;
            Response.ContentType = "application/xrds+xml";
            return View("Xrds");
        } 
```

当我在 Fiddler 中看到请求和响应时，它会返回结果 200，它应该是 302。

## 这是否意味着 xrds 不会以正确的格式返回依赖方？

这里是提琴手的踪迹

```
GET http://localhost:4856/login.aspx?ReturnUrl=%2fMembersOnly%2fDefault.aspx HTTP/1.1
Accept: image/jpeg, application/x-ms-application, image/gif, application/xaml+xml, image/pjpeg, application/x-ms-xbap, application/vnd.ms-excel, application/vnd.ms-powerpoint, application/msword, */*
Referer: http://localhost:4856/
Accept-Language: en-GB
User-Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; InfoPath.3)
Accept-Encoding: gzip, deflate
Host: localhost:4856
Connection: Keep-Alive

HTTP/1.1 200 OK
Cache-Control: private
Content-Type: text/html; charset=utf-8
Vary: Accept-Encoding
Server: Microsoft-IIS/8.0
X-AspNet-Version: 4.0.30319
X-SourceFiles: =?UTF-8?B?QzpcVXNlcnNcbWFoZXNoLmNoYXVkaGFyaVxEb3dubG9hZHNcRG90TmV0T3BlbkF1dGgtNC4yLjIuMTMwNTVcRG90TmV0T3BlbkF1dGgtNC4yLjIuMTMwNTVcU2FtcGxlc1xPcGVuSWRSZWx5aW5nUGFydHlXZWJGb3Jtc1xsb2dpbi5hc3B4?=
X-Powered-By: ASP.NET
Date: Mon, 11 Mar 2013 08:59:07 GMT
Content-Length: 9430

------------------------------------------------------------------

POST http://localhost:4856/login.aspx?ReturnUrl=%2fMembersOnly%2fDefault.aspx HTTP/1.1
Accept: image/jpeg, application/x-ms-application, image/gif, application/xaml+xml, image/pjpeg, application/x-ms-xbap, application/vnd.ms-excel, application/vnd.ms-powerpoint, application/msword, */*
Referer: http://localhost:4856/login.aspx?ReturnUrl=%2fMembersOnly%2fDefault.aspx
Accept-Language: en-GB
User-Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; InfoPath.3)
Content-Type: application/x-www-form-urlencoded
Accept-Encoding: gzip, deflate
Host: localhost:4856
Content-Length: 964
Connection: Keep-Alive
Pragma: no-cache

HTTP/1.1 200 OK
Cache-Control: private
Content-Type: text/html; charset=utf-8
Vary: Accept-Encoding
Server: Microsoft-IIS/8.0
X-AspNet-Version: 4.0.30319
X-SourceFiles: =?UTF-8?B?QzpcVXNlcnNcbWFoZXNoLmNoYXVkaGFyaVxEb3dubG9hZHNcRG90TmV0T3BlbkF1dGgtNC4yLjIuMTMwNTVcRG90TmV0T3BlbkF1dGgtNC4yLjIuMTMwNTVcU2FtcGxlc1xPcGVuSWRSZWx5aW5nUGFydHlXZWJGb3Jtc1xsb2dpbi5hc3B4?=
X-Powered-By: ASP.NET
Date: Mon, 11 Mar 2013 08:59:14 GMT
Content-Length: 10382 
```

# wordpress - 从 /%postname%.html 重定向 301 到 /%year%/%monthnum%/%postname%.html

> ID：15267432
> 
> 赞同：0
> 
> 时间：2013-03-07T09:28:11.757
> 
> 标签：wordpress, .htaccess, redirect, permalinks

我想将永久链接从 更改`/%postname%.html`为`/%year%/%monthnum%/%postname%.html`。

我知道如何从 Worpdress 管理面板做到这一点。但是我收到了超过 20000 个帖子，所以我想知道是否有机会从 .htacess 重定向我的旧帖子并`/%postname%.html`重定向到`/%year%/%monthnum%/%postname%.html`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T12:26:26.953

您应该在 WordPress 本身中执行此操作（与 相矛盾`.htaccess`），因为您必须根据帖子名获取真正的永久链接。

请尝试将您的永久链接更新为新结构，并将以下代码添加到您的**functions.php**文件中。

```
<?php
function redirect_postname_to_date_structure($wp) {
    $pattern = '#^([^/]+)\.html$#';
    $matches = array();

    if ( preg_match( $pattern, $wp->request, $matches ) ) {
        $slug = $matches[1];

        $args = array(
            'name' => $slug,
            'post_type' => 'post',
            'post_status' => 'publish',
            'posts_per_page' => 1
        );

        // Try to retrieve post based on slug
        $posts = get_posts( $args );

        if ( $posts ) {
            $permalink = get_permalink( $posts[0]->ID );

            wp_redirect( $permalink, 301 );
            exit;
        }
    }
}
add_action( 'parse_request', 'redirect_postname_to_date_structure' );
?> 
```

**PS：**我建议您首先使用 302 状态码（in `wp_redirect()`）进行测试。当您确信它有效时，您可以切换到 301。

# wcf - 使用 SignalR 与 WCF 将数据推送到客户端？

> ID：15267435
> 
> 赞同：30
> 
> 时间：2013-03-07T09:28:18.503
> 
> 标签：wcf, push-notification, signalr

我有一个 WPF 客户端-服务器应用程序。现在我有这样的场景，比如客户端将连接到服务器，服务器会定期向客户端推送数据。我对我应该选择什么技术和方式来通知客户有点困惑。

SignalR 最适合我认为的 Web 应用程序，而且我有桌面应用程序。使用 WCF 服务，我们可以通过 Duplex 通道和回调实现推送通知。那么您能否指导我使用 SignalR 或 WCF 服务的优缺点？

谢谢

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-03-12T11:51:36.173

以下是我的经验观察：

SignalR 优点：

*   易于启动，学习曲线较低。您可以轻松运行从网络上找到的示例
*   异常处理（例如连接断开、超时）嵌入在 API 中

SignalR 缺点：

*   只支持HTTP协议

双工优点：

*   除 HTTP 外，还支持 TCP。如果您知道您的客户端类型并且您的系统在封闭网络中工作，这可能会大大提高性能。此外，通过 TCP 工作比 HTTP 增加了更多的连接稳定性

双工缺点：

*   更高的学习曲线 - 更难启动并拥有稳定的解决方案。想要验证吗？从 Web 下载双工和 SignalR 示例，看看您将花费多少时间来成功运行彼此。
*   您需要处理所有异常情况（连接断开、超时等）
*   我知道当你想长时间使用双工服务时，我不是唯一一个面临严重超时问题的人。我们需要定期进行服务调用以保持客户端连接处于活动状态。

顺便说一句，存在用于 JavaScript、桌面和 Silverlight 项目的 API 来使用 SignalR 服务。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-11T06:22:27.687

SignalR 不仅仅是关于网络的。SignalR 服务器端代码不关心其客户端的技术，您只需要在客户端有实现者。

如果我们将推送数据隔离到客户端，我强烈推荐 SignalR，因为它在这方面比 WCF 简单得多，我对 WCF 有一些问题，我想你自己也有一些问题。[我在这里](http://blog.maartenballiauw.be/post/2011/12/06/Using-SignalR-to-broadcast-a-slide-deck.aspx)找到了一个简单的控制台/Web 应用程序示例。

一般来说，像[这里](http://www.dotnetcurry.com/ShowArticle.aspx?ID=721)这样的 Duplex WCF 和使用 Callback对我来说似乎很乱，服务器端有很多配置，这就是我认为 SignalR 更简单的原因。

此外，您不能将双工（AFAIK）与javascript和objective-c一起使用。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-19T04:03:29.317

我认为您已经获得了关于它们中的每一个的大量数据点。但是选择 SignalR 将为您提供比开发工作更多的优势，在大多数情况下，开发工作是选择技术时的主要决策障碍。

您无需担心 API 开发/测试等，可以专注于您自己的项目实施。

希望能帮助到你！

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-10-03T23:01:40.653

SignalR 现在可以轻松地与来自 javascript、.NET 和 WinForms 和 WPF 的多个客户端一起使用，甚至可以与 C++ 客户端一起使用；使用自托管的 .NET 信号器服务器 (OWIN) 是拥有向多个客户端推送/接收/广播的独立服务器的好方法。唯一可能更容易的是 ZeroMQ 使用其发布订阅方法。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-15T02:48:31.493

到目前为止没有人提出的一点：

*   SignalR 1.0.1 在服务器和客户端上需要 .NET 4。根据您的目标客户端和服务器的版本，这可能是需要考虑的重要因素。

如果您只想定期更新新数据，最好只使用 WCF 和客户端的轮询机制，而不是使用双工 WCF 或信号器。

# android - 通过 KSOAP 将自定义对象从 Android 传递给 Web 服务

> ID：15267439
> 
> 赞同：0
> 
> 时间：2013-03-07T09:28:34.667
> 
> 标签：android, wcf, ksoap2

我必须从 Android 客户端调用 WCF Web 服务。该 Web 服务方法有它自己的类（.net 类对象）。如何将自定义（.net 类对象）作为参数传递给 Web 服务方法。

提前致谢...！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:52:00.027

看看这个教程[Complex objects with KSOAP](http://seesharpgears.blogspot.com.es/2010/10/ksoap-android-web-service-tutorial-with.html)，你必须实现 KvmSerializable 接口。

# ant - 文件集中单个文件的 Ant 绝对路径

> ID：15267442
> 
> 赞同：4
> 
> 时间：2013-03-07T09:28:37.813
> 
> 标签：ant, jenkins, absolute-path, fileset, email-ext

我正在使用 Jenkins 和 Email-Ext 插件来自动化 PHP 单元测试。如果测试失败，我想向自己发送一封通知电子邮件，其中包括压缩的测试报告。

Email-Ext 插件需要在附件字段中定义 Ant 文件集。压缩测试报告可以在这里找到：

```
D:\Test_Reports\test-report-failed.zip 
```

我找不到使用`fileset`单个文件的绝对路径的工作示例。

我尝试了以下但没有奏效：

`<fileset file="D:\Test_Reports\test-report-failed.zip" />`

可以找到使用绝对路径但仅使用相对路径的任何示例。

这是 Email-ext 插件关于附件字段的官方帮助：

`This is the set of attachments that will be used for the email. The format is a comma separated list of Ant include file syntax. The base directory is the workspace.`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T10:28:26.150

您可以使用`<include/>`标签来执行此操作。它看起来像这样。

```
<fileset dir="D:\Test_Reports">
    <include name="test-report-failed.zip" />
</fileset> 
```

如果你想在属性中获取文件路径，那么你可以这样做（我已经测试过它并且它有效）：

```
<path id="absolute.path.id">
    <fileset dir="D:\Test_Reports">
        <include name="test-report-failed.zip" />
    </fileset>
</path>
<property name="absolute.path" value="${toString:absolute.path.id}" />
<echo>file absolute path: ${absolute.path}</echo> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T10:57:58.720

只需在附件字段（不是 XML 元素）中指定文件的绝对路径。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-03-07T12:26:13.747

我通过将 Jenkins Job 的工作区更改为测试报告和其他资源所在的目录来解决它。然后我对 zip 文件使用相对寻址，例如：`test-report-failed.zip`

# connection - 每个客户端的服务器单独连接

> ID：15267446
> 
> 赞同：1
> 
> 时间：2013-03-07T09:28:52.547
> 
> 标签：connection, client-server

支持多个客户端的简单方法是为每个传入连接分叉一个进程并通过该进程处理客户端，然后另一个进程侦听默认端口。但是，我听说不仅进程是分叉的，而且连接本身是从服务器正在侦听服务器端的不同端口的默认端口重定向的。这提高了性能。我找不到任何关于这个话题的可靠参考。这是标准程序吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:56:36.637

互联网上的大多数协议都不是这种情况。例如，公共 Web 服务器将始终在端口 80 上侦听每个请求。端口 21 上的 FTP 服务器等等。你从哪里得到你的信息的？有了有关上下文的更多信息，有人可能能够帮助确定您正在谈论的情况。你的来源是什么？

# eclipse - 在eclipse中导入JIRA源代码

> ID：15267448
> 
> 赞同：2
> 
> 时间：2013-03-07T09:28:55.623
> 
> 标签：eclipse, jira

我在 zip 文件中有 JIRA 源代码。我尝试使用 File-> Import 进行导入，但仍然出现错误和 java 构建路径。我不确定在eclipse中导入源代码是否正确。谁能帮我在eclipse中导入JIRA代码。

以下是一些错误：

*   文档类型声明包含或指向的标记声明必须格式正确。

*   文档中没有引用语法约束（DTD 或 XML 模式）。

*   该资源是 jira-webhooks-plugin/src/main/resources/META-INF/spring/spring.xml 的副本，并且未复制到输出文件夹。

*   ComponentManager 无法解析。

*   ComponentManager 类型的方法 getPluginAccessor() 已弃用。

所以我认为，我在导入源代码方面错了。任何人都可以指导如何导入 JIRA 源代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-28T21:35:02.953

您拥有的 JIRA 源代码是一个 Maven 项目。

您应该检查 build.sh 它是如何自行编译的。

# sql - 提取最大基准

> ID：15267453
> 
> 赞同：0
> 
> 时间：2013-03-07T09:29:08.853
> 
> 标签：sql, teradata

我有两个表：“su”和“wb”。在属性“su.a”和“wb.b”上在它们之间进行左连接。表“wb”还包含“l_datum”字段。期望的输出：在表之间进行左连接，但只从连接中的“wb”表中获取那些具有“wb.l_datum”字段最大值的行。DB 风味：Teradata 你能帮帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:34:56.497

不确定 teradata，但在常规 sql 中你会这样做：

```
select su.*, wb.*
from su
join wb on su.a = wb.b
join (
   select wb.b as b, max(wb.l_datum)
   from wb
   group by wb.b
) t on wb.b = t.b 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T20:10:07.660

如果您不希望使用额外的连接......您是否考虑过利用易失性表将处理分成多个步骤？

```
 -- get  max wb table records 
CREATE VOLATILE TABLE vt_01_wb
AS
(
SEL t1.*
FROM wb t1
LEFT JOIN (SEL b, MAX(l_datum) max_l_datum FROM  wb GROUP BY 1) t2
WHERE t1.l_datum = t2.max_l_datum
) 
WITH DATA PRIMARY INDEX(b) 
ON COMMIT PRESERVE ROWS;

CREATE VOLATILE TABLE vt_02
AS
(
SEL su.*, wb.*
FROM su
-- volatile table already contians max l_datum
LEFT JOIN vt_01_wb wb ON su.a = wb.b
) WITH DATA 
ON COMMIT PRESERVE ROWS;

SEL * FROM vt_02 

```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:45:00.077

```
select * from wb w left join su s
on w.b=s.a
where w.l_datum=(select max(l_datum) from wb ); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T14:12:59.990

如果您使用 Window Aggregate Function 和子句将 替换为`LEFT JOIN`派生表以`QUALIFY`返回`MAX``l_datum``b`

```
select su.*, wb.*
  from su
  left join 
       (
        select *
          from wb
        qualify l_datum = max(l_datum) over(partition by wb.b)
       ) t on wb.b = t.b 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T09:54:45.217

为确保您仍然获得`su`未找到相应`wb`记录的记录，您可以在加入之前过滤`wb`表。每个数据库所接受的确切语法略有不同，但应该是这样的：

```
SELECT ...
FROM su
LEFT JOIN (
    SELECT *
    FROM wb
    WHERE wb.l_datum = (
        SELECT MAX(wb_maxdatum.l_datum)
        FROM wb AS wb_maxdatum)
) AS wb_filtered
ON wb_filtered.b = su.a 
```

你也可以试试

```
 WHERE wb.l_datum = (
        SELECT MAX(wb_maxdatum.l_datum)
        FROM wb AS wb_maxdatum
        WHERE wb_maxdatum.b = wb.b) 
```

取每行的最大日期`b`，而不是所有行。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-07T09:35:02.843

```
select a
from su 
left join wb
on (su.a = wb.b)
where wb.l_datum = (select max(l_datum) from wb) 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-07T09:36:21.763

一般来说，我能想到的是：

```
SELECT col1, col2...
FROM su
LEFT OUTER JOIN wb
ON
su.a = wb.b
WHERE
wb.l_datum = (SELECT max(l_datum) FROM wb) 
```

但我认为，您需要多个最大数据，具体取决于组。在这种情况下，请使用 GROUP BY

# c# - 是否可以使用 ASP.NET FriendlyUrls 摆脱“索引”？

> ID：15267454
> 
> 赞同：0
> 
> 时间：2013-03-07T09:29:10.827
> 
> 标签：c#, asp.net, .net, webforms, friendly-url

目前，我在我的 WebForms .NET 4.5 应用程序中使用（相当）新的[ASP.NET FriendlyUrls](http://www.hanselman.com/blog/IntroducingASPNETFriendlyUrlsCleanerURLsEasierRoutingAndMobileViewsForASPNETWebForms.aspx)功能来使 URL 看起来更清晰。

我想要实现的是甚至摆脱“索引”，因为它是文件夹的默认值。

IE：

```
http://www.some-server.com/my/folder/with/index.aspx <== Before FriendlyUrls
http://www.some-server.com/my/folder/with/index      <== What I have
http://www.some-server.com/my/folder/with            <== What I want 
```

我试图从内置类派生我自己的 URL 解析器类`WebFormsFriendlyUrlResolver`，覆盖函数

```
public override string ConvertToFriendlyUrl(string path) 
```

然后`EnableFriendlyURls`在注册路由期间将其传递给扩展方法，然后在此覆盖中剥离“索引”。

不幸的是，似乎根本没有将 ASPX 文件 URL 传递给我的派生类。

**所以我的问题是：**

如何使 ASP.NET FriendlyUrls 功能完全删除“index.aspx”部分而不仅仅是“.aspx”？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T18:27:42.957

在 Webforms 中，如果您使用 Default.aspx，它将自动将该页面用作默认文件夹。

# java - 非最终静态变量的用例

> ID：15267456
> 
> 赞同：3
> 
> 时间：2013-03-07T09:29:21.543
> 
> 标签：java, static-members

在使用 Java 几年后，我刚刚意识到我不明白非最终静态变量的用例是什么。有人可以给我一些提示或任何例子吗？

也许它们需要在静态方法中使用？...或者在所有实例之间共享有用吗？

我担心的是它们可以被任何子类或通过任何实例异步访问和修改。

谢谢。

** 笔记 **

抱歉重复。我在发帖前搜索了一下，没有找到。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:33:20.643

作为常数它们没有用，我相信这是你的主要思想轨迹集中在周围。

但是，如果需要跨方法调用共享的类范围变量，您认为静态类将如何执行它的操作？

或者有些情况需要将数据存储在静态类等中。

如果您只是停下来考虑一下，就会有很多用例。

# javascript - 有没有办法使用我编写的应用程序访问公共 Facebook 信息，例如照片、用户状态更新？

> ID：15267460
> 
> 赞同：0
> 
> 时间：2013-03-07T09:29:39.167
> 
> 标签：javascript, facebook, perl, facebook-javascript-sdk

我是 Facebook 编码的新手，但我想知道是否有一种方法可以访问公共目录中列出的用户的公共信息，而无需编写他们使用的应用程序？我主要用 perl 编写代码。

干杯。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:53:44.737

“公共目录”是什么意思？

您可以使用 graph.facebook.com 子域访问 REST 中的公共信息。 [http://graph.facebook.com/userID](http://graph.facebook.com/userID)或 PageID

示例： http: [//graph.facebook.com/nike](http://graph.facebook.com/nike)

# grails - 域中的 Grails 2.2“请求”关键字

> ID：15267463
> 
> 赞同：0
> 
> 时间：2013-03-07T09:29:45.350
> 
> 标签：grails, grails-orm, grails-2.2

我使用 grails 2.1.2 开发应用程序，然后升级到 2.2.0

我有一个域类

```
class Concurrence {
    Concurrence parent = null
    Request request 
    Person approver
    int status = 0
    Date processed = null
}

class Request {
    String no
    Folder folder
    String fiscalYear
    String notes
    static hasOne = [category: Category, channel : Channel]
    Date created
    Date submitted = null
    Date approved = null
    Date updated
    Person requestor        
    int status = 0
    boolean deleted = false
    Person processedBy = null
    boolean processed = false
    Date processedDate = null

    static hasMany = [documents:RequestDocument, concurrences:Concurrence, approvals:Approval, finalApprovals:FinalApproval, memos:Memo]
} 
```

Concurrence 上有一个属性“请求”

以前一切正常，但在我使用 grails 2.2.0 后，该域无法保存，

> 字段“request_id”没有默认值

任何建议如何解决这个问题？或者我必须降级到 2.1.2 或重命名请求属性名称？

此致

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T02:45:21.553

变量`reqeust`是 Grails 中引用[请求](http://grails.org/doc/2.2.0/ref/Servlet%20API/request.html)对象的关键字。话虽如此，我认为您的第一步应该是选择一个不与任何默认 Grails 对象冲突的变量名。

# c# - 如何通过 jQuery / C# 实现任何 html 代码的（自动）代码格式选择？（任何解决方案）

> ID：15267465
> 
> 赞同：7
> 
> 时间：2013-03-07T09:29:49.843
> 
> 标签：c#, javascript, jquery

我们的应用程序可以共享代码。例如，用户正在共享 html 代码，如下所示

```
<div id="nav-vert-one">

<ul>
{{for GroupCollection}}
<li>
 <a href="#" title="{{:Name}}" onclick="test()">      {{:Name}}</a>
('{{:GroupId}}')">

</li>
{{/for}}
</ul> 
```

这不是一个完美的格式......现在我需要实现（自动）代码格式化......

即自动代码格式点击后，它应该看起来像

```
<div id="nav-vert-one">
    <ul>
        {{for GroupCollection}}
        <li><a href="#" title="{{:Name}}" onclick="test()"> {{:Name}}</a>
('{{:GroupId}}')"></li>
        {{/for}}
    </ul> 
```

那么，是否有现成的插件可用，或者有什么方法可以通过 jQuery 或 C# 实现它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T13:57:58.210

有一个名为 jquery-htmlClean 的 jQuery 插件：[http ://code.google.com/p/jquery-clean/](http://code.google.com/p/jquery-clean/)

我用您的代码示例进行了尝试，这是输出：

```
<div>
    <ul>
        {{for GroupCollection}}
        <li>
            <a href="#" title="{{:Name}}">{{:Name}}</a> ('{{:GroupId}}')">
        </li> {{/for}}
    </ul>
</div> 
```

你可以在这里试试：[http ://www.antix.co.uk/Content/Demos/jQuery-htmlClean/Test.htm](http://www.antix.co.uk/Content/Demos/jQuery-htmlClean/Test.htm)

# delphi - 如何获取 TDBGrid 列上最长条目的长度

> ID：15267466
> 
> 赞同：1
> 
> 时间：2013-03-07T09:29:50.233
> 
> 标签：delphi, datagrid, datagridview, tdbgrid

我有一个名为 grMain 的 TDBGrid 组件。我需要知道在 grMain 上检索的 Column 最长条目的值的长度，以调整保存 grMain 的表单的最小宽度。

如何获取 TDBGrid 列上最长条目的长度？

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T10:30:58.753

类似的东西...

```
Procedure FitGrid(Grid:TDBGrid);
Const
 C_Add=3;
var
 ds:TDataset;
 bm:TBookmark;
 i:Integer;
 w:Integer;
 a:Array of Integer;
begin
   ds := Grid.DataSource.DataSet;
   if Assigned(ds) then
      begin
        ds.DisableControls;
        bm := ds.GetBookmark;
        try

        ds.First;
        SetLength(a,Grid.Columns.Count);
        ZeroMemory(@a[0],SizeOf(Integer)*Length(a));
        while not ds.Eof do
          begin
            for I := 0 to Grid.Columns.Count - 1 do
                begin
                  if Assigned( Grid.Columns[i].Field) then
                    begin
                     w :=  Grid.Canvas.TextWidth( ds.FieldByName( Grid.Columns[i].Field.FieldName).DisplayText);
                     if a[i] < w  then a[i] := w + C_Add;
                    end;

                end;
            ds.Next;
          end;
        for I := 0 to Grid.Columns.Count - 1 do Grid.Columns[i].Width := a[i];
        ds.GotoBookmark(bm);
        finally
          ds.FreeBookmark(bm);
          ds.EnableControls;
        end;
      end;
end;

procedure TForm1.Button1Click(Sender: TObject);

begin
  FitGrid(DBgrid1)
end; 
```

# viewmodel - 为通用视图模型指定数据上下文

> ID：15267467
> 
> 赞同：1
> 
> 时间：2013-03-07T09:29:51.637
> 
> 标签：viewmodel, mvvm-light, datacontext

我已经定义了一个视图模型

```
 public class DataGridBaseViewModel<T>:ViewModelBase
    {
    ObservableCollection<T> DataCollection;
public abstract void Initialize();

    }
public class Grid1ViewModel:DataGridBaseViewModel<MyModel1>
{
public void override Initialize()
{
DataCollection = new ObservableCollection<MyModel1>();
}
}
public class Grid2ViewModel:DataGridBaseViewModel<MyModel2>
{
public void override Initialize()
{
DataCollection = new ObservableCollection<MyModel2>();
}
} 
```

现在我有 2 个数据网格，应该显示 MyModel1 和 MyModel2。如何指定视图的数据上下文。

请帮忙。

提前致谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-12T19:44:59.223

我的视图是用户控件。我在视图模型定位器中定义我的视图模型，然后在 xaml 中使用以下内容将视图 DATACONTEXT 绑定到视图模型：

```
<UserControl x:Class="FTC.View.EmployeeListView"
            xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
            xmlns:cmd="http://www.galasoft.ch/mvvmlight"
            mc:Ignorable="d" 
            DataContext="{Binding EmployeeList_VM, Source={StaticResource Locator}}"> 
```

所以只需使用上面的示例将数据网格的数据上下文绑定到视图模型

# google-chrome-extension - 包裹有效。详细信息：“无法解压缩扩展”

> ID：15267468
> 
> 赞同：0
> 
> 时间：2013-03-07T09:29:54.117
> 
> 标签：google-chrome-extension, chrome-web-store

昨天在尝试从 Chrome 网上商店下载我的扩展程序的另一个测试版本时，它只更改了版本号，我突然开始收到一个奇怪的错误“清单文件无效”。我整天都在网上搜索这个问题的答案，但没有发现任何有用的东西。

从今天早上开始，错误消息已更改为：“包有效。详细信息：'无法解压缩扩展'”

我已经尝试了数千种变体：

1.  用文件夹和没有文件夹的方式压缩它
2.  缩短 zip 文件名
3.  在mac和windows上压缩
4.  验证 zip 文件
5.  上传压缩和不压缩
6.  搜索非 utf 字符

似乎 chrome 无论如何都会随机抛出 thous 错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T18:54:45.080

这已得到修复 - 尝试重新上传并再次发布。确保提高您的版本号。

# javascript - RWD 移动设备图像交换 JavaScript

> ID：15267471
> 
> 赞同：0
> 
> 时间：2013-03-07T09:29:57.643
> 
> 标签：javascript, mobile, getelementbyid, onmouseover

我正在使用一些 JavaScript 来进行图像交换。

适用于桌面浏览器，但不适用于移动/较小的设备。

```
<p><img id="ima" src="images/web_assets/image1.jpg" width="270px" />
</p>
<p><a href="#" onmouseover="showT( 'images/web_assets/image1.jpg' )"><img src="images/web_assets/image1.jpg" width="84px" /></a>&nbsp;<a href="#" onmouseover="showT( 'images/web_assets/image2.jpg' )"><img src="images/web_assets/image2.jpg" width="84px" /></a>&nbsp;<a href="#" onmouseover="showT( 'images/web_assets/image3.jpg' )"><img src="images/web_assets/image3.jpg" width="84px" /></a>
</p>
<script type="text/javascript">
    // <![CDATA[
    function showT(image) {
        document.getElementById('ima').setAttribute('src', image)
    }
    // ]]>

</script> 
```

知道如何在所有设备（即台式机、ipad、iphone、其他移动设备）上进行这项工作吗？

**新代码：**

```
<p><img id="ima" src="images/web_assets/image1.jpg" width="270px" />
</p>
<p><a href="#" onClick="showT( 'images/web_assets/image1.jpg' )"><img src="images/web_assets/image1.jpg" width="84px" /></a>&nbsp;<a href="#" onClick="showT( 'images/web_assets/image2.jpg' )"><img src="images/web_assets/image2.jpg" width="84px" /></a>&nbsp;<a href="#" onClick="showT( 'images/web_assets/image3.jpg' )"><img src="images/web_assets/image3.jpg" width="84px" /></a>
</p>
<script type="text/javascript">
    // <![CDATA[
    function showT(image) {
        document.getElementById('ima').setAttribute('src', image)
    }
    // ]]>

</script> 
```

但是onclick，它会将页面返回到浏览器的顶部？！？！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:40:01.523

'onmouseover' 事件并不是让某些东西跨设备工作的最佳选择，因为您在移动设备、平板电脑上根本没有鼠标。

也许考虑让它在无鼠标设备的点击事件上工作？

# c# - 获取单击的 Html 链接的 id 并将其用作 C# 中 SqlDataSource 的参数

> ID：15267481
> 
> 赞同：1
> 
> 时间：2013-03-07T09:30:39.457
> 
> 标签：c#, asp.net, html, hyperlink, sqldatasource

我有一个大型数据库和许多“假设”名称，并且我在另一个表中对这些名称进行了定义，因此我在所有名称之间添加了一个 html 链接，如下所示：

```
<a href="Test.aspx" target="_blank" id="2384">John</a>
<a href="Test.aspx" target="_blank" id="2334">Smith</a> 
```

很多这样的名字，当一个链接被点击时，一个新标签会打开，所以在Test.aspx中我有一个与SqlDataSource绑定的GridVew，我想要的是从被点击的链接中获取id并将它传递给SqlDataSource 参数如下：

```
SqlDataSourceTest.SelectParameters["IdFromAnchor"].DefaultValue = theClickedLinkID 
```

那么如何将 ID 传递给参数 o 我应该使用什么，谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T09:33:32.957

最好将 ID 作为查询字符串参数，然后在下一页读取该参数。但请确保对其进行清理，因为您可能对 SQL 注入持开放态度：

```
<a href="Test.aspx?id=2384" target="_blank" id="2384">John</a>
<a href="Test.aspx?id=2334" target="_blank" id="2334">Smith</a> 
```

然后做：

```
Request.QueryString["id"]; 
```

**但请注意，用户可以轻松地将其更改为他们喜欢的任何 id，因此如果您不希望用户看到除了他们可以看到的内容之外的 id 内容，您必须在那里执行额外的检查。**

# android - 警报管理器没有激活广播接收器？

> ID：15267483
> 
> 赞同：2
> 
> 时间：2013-03-07T09:30:45.240
> 
> 标签：android, broadcastreceiver, alarmmanager, android-pendingintent

我正在开发一个`AlarmManager`用于安排事情的应用程序。我的闹钟已设置。但是此警报不会调用`BroadcastReceiver`写入来捕获事件。我进行了很多搜索，但没有找到任何解决问题的方法。我正在发布我的代码，请看看我是否遗漏了什么。

**报警管理器类：**

```
public class ScheduleMessageManager {

Context context;
PendingIntent sender;
AlarmManager am;

public ScheduleMessageManager(Context context) {
    this.context = context;
}

public void addAlram(int scheduledMessageID, long scheduledTime) {

    // Activate Broadcast Receiver to receive broadcasts
    activateBroadcastReceiver();
    //Calendar cal = Calendar.getInstance();

    Intent intent = new Intent(context, AlarmReceiver.class);
    // In reality, you would want to have a unique variable for the request
    // code
    intent.putExtra("scheduledMessageID", scheduledMessageID);
    sender = PendingIntent.getBroadcast(context, scheduledMessageID, intent, PendingIntent.FLAG_UPDATE_CURRENT);

    // Get the AlarmManager service
    am = (AlarmManager) context.getSystemService(context.ALARM_SERVICE);
    am.set(AlarmManager.RTC_WAKEUP, scheduledTime, sender);

    Log.e("In ScheduleMessageManage", "***** Alarm is set to the mmessage *****");
}

public void cancelPeriodicSchedule(PendingIntent sender) {
    if (am != null) {
        if (sender != null) {
            am.cancel(sender);
            sender.cancel();
        }
    }

    // Deactivate Broadcast Receiver to stop receiving broadcasts
    deactivateBroadcastreceiver();
}

private void activateBroadcastReceiver() {
    PackageManager pm = context.getPackageManager();
    ComponentName componentName = new ComponentName(context, AlarmReceiver.class);
    pm.setComponentEnabledSetting(componentName, PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP);
    Toast.makeText(context, "activated", Toast.LENGTH_LONG).show();
}

private void deactivateBroadcastreceiver() {
    // TODO Auto-generated method stub

    PackageManager pm = context.getPackageManager();
    ComponentName componentName = new ComponentName(context, AlarmReceiver.class);
    pm.setComponentEnabledSetting(componentName, PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP);
    Toast.makeText(context, "cancelled", Toast.LENGTH_LONG).show();

} 
```

}

**我的警报接收器：**

```
public class AlarmReceiver extends BroadcastReceiver {

int pendingIntentID; // same as scheduledMessageID

@Override
public void onReceive(Context context, Intent intent) {

    Log.e("In On Receive", "Alarm has Initiated Broadcast Receiver....");

    if (intent.hasExtra("scheduledMessageID")) {
        pendingIntentID = intent.getExtras().getInt("scheduledMessageID");
        Intent sendMessageServiceIntent = new Intent(context, SendMessageService.class);
        sendMessageServiceIntent.putExtra("pendingIntentID", pendingIntentID);
        context.startService(sendMessageServiceIntent);
    }
} 
```

}

`OnReceieve()`永远不会被调用。

在我的**Manifest.xml中**

```
 <receiver
        android:name="myPackage.AlarmReceiver"
        android:enabled="true" >
    </receiver> 
```

我无法弄清楚问题出在哪里。请帮我摆脱它。谢谢。！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:51:59.860

[http://www.vogella.com/articles/AndroidBroadcastReceiver/article.html](http://www.vogella.com/articles/AndroidBroadcastReceiver/article.html)中提供了有关使用广播接收器的一个很好的教程。本质上，您的接收器不会声明它将接收什么事件。Manifest 文件中的声明需要如下内容：

```
 <receiver
    android:name="myPackage.AlarmReceiver"
    android:enabled="true" >
    <intent-filter>
            <action android:name="your.company.blah.mybroadcast" />
        </intent-filter>
</receiver> 
```

当你创建意图时，它需要

```
Intent intent = new Intent();
intent.setAction("your.company.blah.mybroadcast");
// All the other things you want to put in the intent 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-04-24T12:07:31.663

我知道这已经得到回答，但只是为了进一步参考，因为我遇到了同样的问题，请确保您的接收器标签在标签内，但不在任何其他标签内，例如活动（这正是我遇到的问题） .

检查您的警报是否已成功注册也很有帮助，因此运行： adb shell dumpsys alarm

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2017-07-12T06:26:29.670

您只需向警报管理器注册您的接收器，这将在每 60 秒后调用一次广播：

```
Intent broadcastIntent = new Intent(YourActivity.this, AlarmReceiver.class);

        PendingIntent pi = PendingIntent.getBroadcast(this, 0, broadcastIntent, 0);

       AlarmManager am = (AlarmManager) getSystemService(ALARM_SERVICE);

        long timeInterval = 60 * 1000;

        am.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), timeInterval, pi); 
```

在清单中：

```
<receiver
        android:name="myPackage.AlarmReceiver"
        android:enabled="true" >
    </receiver> 
```

# sql - T-SQL 计算日历周

> ID：15267485
> 
> 赞同：0
> 
> 时间：2013-03-07T09:30:55.867
> 
> 标签：sql, tsql

我有一个 T-SQL 问题 - 我正在使用 SQL-Server 2012：

我有一个 varchar**日历周专栏**（1-52）。在我的 where 子句中，我只想选择从当年当前日历周开始的最后**6 周。**我还有一个年份 varchar 列，其值为“2011”、“2012”和“2013”​​。

但现在我正在努力为 where 子句设置表达式。

还是我需要一个 Have 子句来完成这项工作？

我试过这样：

```
Having Calendarweek BETWEEN max(Calendarweek)-6 AND max(Calendarweek) AND Year=2013 
```

但它会返回所有星期。

希望你能帮我解决这个问题。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:47:19.507

试试这个

```
where Year ='2013'
and CAST(Calendarweek AS INT) >= datepart(week,getdate())-6 
```

# php - 带有 $_GET 的 ID 的未定义索引

> ID：15267486
> 
> 赞同：0
> 
> 时间：2013-03-07T09:30:59.767
> 
> 标签：php, undefined-index

好吧，又出现了一个未定义的索引：

我正在尝试更改数据库中的选择行，但到目前为止它似乎不起作用，我只得到

> `Notice: Undefined index: EierID in C:\WampServer\www\Hundeklubben\ChangeO.php on line 19.`

我尝试了一些修复，但没有一个奏效。

```
<?php require_once('Connections/hundeklubb.php'); ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Endring av eier</title>
<link rel="stylesheet" href="index.css" />
</head>

<body>

<?php
if(isset($_GET['EierID'])){ $name = $_GET['EierID']; } 
//Tried with both $_GET and $_POST
?>

<?php
$UID = (int)$_GET['EierID'];
$query = mysql_query("SELECT * FROM eiere WHERE EierID = '$UID'") or die(mysql_error());

if(mysql_num_rows($query)>=1){
while($row = mysql_fetch_array($query)) {
    $navn = $row['Navn'];
    $bosted = $row['Bosted'];
}
?>

<form name="form1" action="update.php" method="POST" id="form1">
<input type="hidden" name="ID" value="<?=$UID;?>">
Navn: <input type="text" name="ud_navn" value="<?=$navn?>"><br>
Bosted: <input type="text" name="ud_bosted" value="<?=$bosted?>"><br>
<input type="Submit" value="Oppdater">
</form>
<?php
}else{
echo 'No entry found. <a href="javascript:history.back()">Go back</a>';
}
?>

<?php var_dump($UID); ?> 

</body>
</html> 
```

给`var_dump`了我`int 0`。我不确定它应该是什么。

**更新.php**

```
<?php require_once('Connections/hundeklubb.php'); ?>
<?php
$ud_ID = (int)$_POST["ID"];

$ud_navn = mysql_real_escape_string($_POST["ud_navn"]);
$ud_bosted = mysql_real_escape_string($_POST["ud_bosted"]);

$query="UPDATE eiere
        SET navn = '$ud_navn', bosted = '$ud_bosted' 
        WHERE ID='$ud_ID'";

mysql_query($query)or die(mysql_error());
if(mysql_affected_rows()>=1){
echo "<p>($ud_ID) Record Updated<p>";
}else{
echo "<p>($ud_ID) Not Updated<p>";
}
?> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T09:32:58.433

这是因为`$_GET['EierID']`没有设置。

尝试这个 ：

```
$UID = isset($_GET['EierID'])?$_GET['EierID']:""; 
```

在 update.php 中也做同样的事情：`$ud_ID = isset($_POST["ID"])?$_POST["ID"]:"";`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:39:52.277

如果您的变量不存在，您将在尝试强制转换该 int 时遇到错误。

```
<?php
if(isset($_GET['EierID'])){ 
    $name = $_GET['EierID']; 
    $UID = (int)$_GET['EierID'];
}else{
    //set to 0 or any default value you want to set when EierID doesn't exists
    $UID = 0; 
} 
?> 
```

# gwt - Window.resizeTo() 不起作用

> ID：15267488
> 
> 赞同：0
> 
> 时间：2013-03-07T09:31:04.263
> 
> 标签：gwt, smartgwt

我需要在某些事件触发时增加对话框的大小，因为我`Window.resizeTo()`在 GWT 中使用方法但它不起作用。我读了它的说明

> “在 Chrome 中，此方法仅适用于由 Window.open() 创建的窗口”。

有人可以建议我缺少什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:48:25.813

如果您使用的是 DialogBox，则不能使用 window.resizeTo。因为 DialogBox 不会打开新的浏览器窗口。这将创建一个模态表元素。

该表的样式如下：

```
element.style {
  overflow: hidden;
  visibility: visible;
  position: absolute;
  left: 600px;
  top: 174px;
  clip: rect(auto auto auto auto);
} 
```

一种弹出形式，顶部有标题区域，用户可以拖动。与 PopupPanel 不同，对 PopupPanel.setWidth(String) 和 PopupPanel.setHeight(String) 的调用将设置对话框本身的宽度和高度，即使尚未添加小部件也是如此。

有关更多信息，请参阅[文档](http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/user/client/ui/DialogBox.html)。

**如果您不使用对话框。使用 DialogBox 而不是浏览器弹出窗口。（这不能被弹出窗口阻止程序阻止）**

# java - 更改数组值 java

> ID：15267499
> 
> 赞同：0
> 
> 时间：2013-03-07T09:31:25.327
> 
> 标签：java, arrays, list, indexing

所以我在我的 main 调用的方法中设置了一个数组“generateUser”。但是，当我运行它时，它会将索引值替换为累积的 i 值。例如，不是每次出现分位数 7 时，它只是将索引 7 替换为 i 的当前值。我知道出了什么问题，但我不知道如何解决。我认为问题线是

list[k]=++i;//帮助

```
public static int [] generateUser(int n)
{
    //pass number of students int n;
    int [] list = new int[10];
   int i=0;
    int total, counter, k;
    int score;
    String str3;
    total = counter =0;

   while (total < n)
   {

    str3 = JOptionPane.showInputDialog("Please enter the score: (1-100) ");
    score = Integer.parseInt(str3);
    System.out.print(str3+"\t");
        if (score <1 || score >100)
            {
                JOptionPane.showMessageDialog(null,"The data must be betwen 1 and      100.");
            }
      k = (score-1)/10;

      list[k]=++i;//HELP
      total = counter ++;
    }
      return list; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:33:48.143

我不明白你在哪里设置`i`。你不只是想要：

```
 list[k]++; 
```

增加在 index 处找到的十分位数`k`？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:41:27.630

我觉得你想要这样的东西：

```
list[counter]=k; 
```

因为你想要一个最后有**10 个**用户的列表？

与`list[k]=++i;`您一起不设置索引。您将值设置在数组列表中的位置**k处。**

# java - 如何从字符串末尾删除匹配的单词

> ID：15267500
> 
> 赞同：5
> 
> 时间：2013-03-07T09:31:25.650
> 
> 标签：java

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-07T09:33:53.650

You can do this in single line. no need to loop through. just use [**String#replaceAll(regex, str)**](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29).

```
company = company.replaceAll("PTE$*?|LTD$*?|PRIVATE$*?|LIMITED$*?",""); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T09:39:07.190

If you want to remove these suffixes only at the end of the string, then you could introduce a `while` loop:

```
String[] str = {"PTE", "LTD", "PRIVATE", "LIMITED"};
boolean foundSuffix = true;

String company = "Basit LTD";

while (foundSuffix) {
    foundSuffix = false;

    for(int i=0;i<str.length;i++) {

        if (company.endsWith(str[i])) {
            foundSuffix = true;
            int position = company.lastIndexOf(str[i]);
            company = company.substring(0, position);        
        }
    }
}
System.out.println(company.replaceAll("\\s","")); 
```

If you don't mind transforming `PTE Basit LIMITED INC` to `Basit` (and also remove the first PTE), then `replaceAll` should work, as explained by others.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-07T09:47:24.537

If you place the unwanted words in the map it will be ommitted in the resultant string

```
 HashMap map = new HashMap();
    map.put("PTE", "");
    map.put("LTD", "");
    map.put("PRIVATE", "");
    map.put("LIMITED", "");

    String company = "Basit LTD PRIVATE PTE";

    String words[] = company.split(" ");

    String resultantStr = "";

    for(int k = 0; k < words.length; k++){
        if(map.get(words[k]) == null) {
            resultantStr += words[k] + " ";

        }
    }

    resultantStr = resultantStr.trim();
    System.out.println(" Trimmed String: "+  resultantStr); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-02-16T13:15:57.783

I was trying to do exactly same thing for one of my projects. I wrote this code few days earlier. Now I was exactly trying to find a much better way to do it, that's how I found this Question. But after seeing other answers I decided to share my version of the code.

```
Collection<String> stopWordSet = Arrays.asList("PTE", "LTD", "PRIVATE", "LIMITED");    

String company = "Basit LTD"; //Or Anything
String[] tokens = company.split("[\@\]\\\_\^\[\"\#\ \!\&\'\`\$\%\*\+\(\)\.\/\,\-\;\~\:\}\|\{\?\>\=\<]+");

Stack<String> tokenStack = new Stack<>();
tokenStack.addAll(Arrays.asList(tokens));
while (!tokenStack.isEmpty()) {
     String token = tokenStack.peek();
     if (stopWordSet.contains(token))
         tokenStack.pop();
     else
         break;
}

String formattedCompanyName = StringUtils.join(tokenStack.toArray()); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T09:37:20.333

Try this :

```
public static void main(String a[]) {   
    String[] str = {"PTE", "LTD", "PRIVATE", "LIMITED"};
    String company = "Basit LIMITED PRIVATE LTD PTE";

    for(int i=0;i<str.length;i++) {
        company = company.replaceAll(str[i], "");
    }

    System.out.println(company.replaceAll("\\s",""));
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-07T09:37:40.563

All you need is to use `trim()` and call your function recursively, Or each time you remove a sub string from the end, reset your `i` to 0.

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-02-25T18:37:43.113

```
public class StringMatchRemove {

    public static void main(String[] args) {

        String str="my name is noorus khan";
        String search="noorus";
        String newString="";
        String word=str.replace(search," ");
        StringTokenizer st = new StringTokenizer(word," ");
        while(st.hasMoreTokens())
        {
          newString = newString + st.nextToken() + " "; 
        }
        System.out.println(newString);

    } 
```

first using the replace method we get `word=my name is ..... khan` (Note: here(`.`) represents the space). Now we should have to remove these spaces for that we are creating a new string adding all the token simply.

Output: `my name is khan`

# ruby-on-rails-3.2 - 我们如何在脊柱轨道应用程序中使用本地存储 (Spine.Model.Local)

> ID：15267505
> 
> 赞同：0
> 
> 时间：2013-03-07T09:31:37.663
> 
> 标签：ruby-on-rails-3.2, local-storage, spine.js

我正在尝试使用支持离线浏览的 rails & spin 构建一个应用程序。我在我的一个模型中使用 Spine.Model.Local 时遇到问题。谁能解释一下我们如何在我们的 rails & spin 应用程序中使用 Spine.Model.Local。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T21:17:45.710

假设您已经查看了 Spine.js 上的文档以了解 localStorage，请使用[http://www.spinejs.com/docs/local](http://www.spinejs.com/docs/local)您有什么具体问题？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-28T12:21:36.467

首先阅读完整的[脊柱文档](http://spinejs.com/docs/index)以创建[脊柱应用程序](http://spinejs.com/docs/app)。

在花了很多时间之后，我完成了它并将我的 Rails 模型数据存储到特定的脊椎模型中，并在本地使用它以实现快速响应。

**首先::**定义你的脊柱模型如下..

```
class App.ModelName extends Spine.Model
  @configure 'ModelName', 'columeName1', 'columeName2', ....(and other column)

  @extend Spine.Model.Local
  @extend Spine.Model.Ajax

  # other methods, variables, etc.
  # define your methods 
```

**第二 ::**现在通过您的rails使用ajax同步特定模型的数据并将其放在本地存储中，如下所示......

```
//Request for sync model data for current login user
    Spine.Ajax.queue(function() {
        $.ajax({
            contentType : "application/json",
            dataType : "json",
            headers : {
                "X-Requested-With" : "XMLHttpRequest"
            },
            url : "/yourDesiredURL.json",
            type : "get",
            success : function(data, status, xhr) {
                for (key in data) {
                    window.localStorage[key] = JSON.stringify(data[key])
                }
                new App({
                    el : $("#app")
                });
            },
            error : function(xhr, statusText, error) {
                // Do what do you want to do
            }
        });
    }); 
```

现在您所需的模型数据已填充到本地存储并准备好使用 Spine（javascript MVC 框架）。

# c# - 在静态方法中使用其他方法

> ID：15267512
> 
> 赞同：1
> 
> 时间：2013-03-07T09:31:55.340
> 
> 标签：c#, timer, elapsed

如何`ChangeText`在我的静态方法中使用该方法`timer_Elapsed`？

```
public Load()
{
    InitializeComponent();

    System.Timers.Timer timer = new System.Timers.Timer();
    timer.Interval = 1000;

    // I can't transfer parameters here
    timer.Elapsed += new ElapsedEventHandler(timer_Elapsed); 
    timer.Start();
}

static void timer_Elapsed(object sender, ElapsedEventArgs e)
{
    //Its underlined in red. I need a object reference?
    ChangeText(); 
}

public void ChangeText()
{
    label1.Text = label1.Text + ".";
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T09:34:09.947

我看不出有什么理由`timer_Elapsed`应该是`static`。因此，只需将其删除。

```
void timer_Elapsed(object sender, ElapsedEventArgs e)
{
    ChangeText(); //Its not underlined anymore, you have an object reference
} 
```

另一种方法是制作`ChangeText`静态的。但这不起作用，因为您想设置 a的文本，因此无论如何`Label`您都需要一个实例。`Form`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-07T09:48:31.270

首先，您的方法（timer_Elapsed）不能让我保持静态，以便使用实例属性（label1）

您的代码中还有一个问题：Timer 创建了另一个线程，大多数 Windows 控件属性只能由 UI 线程修改。您的代码将引发 CrossThreadException。为了解决您的问题，您应该使用以下代码修改您的代码：

```
if(this.InvokeRequired) {
   BeginInvoke(
       new MethodInvoker(delegate { label.Text+="."; }));
} else {
    label.Text+="."; 
} 
```

问候

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T09:33:44.550

使 ChangeText 成为静态方法。

```
public static void ChangeText() 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-07T09:34:05.773

如果不先创建实例，就不能在静态方法中调用实例方法。您必须创建此方法所属的类的实例。如下所示：

```
var instance = new Load();
instance.ChangeText(); 
```

*更新：* 正如其他答案所建议的那样，您应该重新考虑将其定义`timer_Elapsed`为静态。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-07T09:35:53.310

仅从静态方法调用静态方法，将您的`ChangeText()`方法设为静态或将您的`time_Elapsed`方法设为非静态

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-07T10:14:33.510

嗨，你可以试试如下：

```
public Load()
{
    InitializeComponent();

    System.Timers.Timer timer = new System.Timers.Timer();
    timer.Interval = 1000;

    // I can't transfer parameters here
    timer.Elapsed += new ElapsedEventHandler(timer_Elapsed); 
    timer.Start();
}
 private delegate void ChangeLabel();
        private void timer_Elapsed(object sender, ElapsedEventArgs e)
        {
            var ChangeLabel = new ChangeLabel(ChangeText);
            this.BeginInvoke(ChangeLabel);

        }
        private void ChangeText()
        {
            label1.Text = label1.Text + ".";
        } 
```

# elasticsearch - 在 ElasticSearch 中省略默认的 Logstash 字段

> ID：15267518
> 
> 赞同：5
> 
> 时间：2013-03-07T09:32:12.760
> 
> 标签：elasticsearch, field, logstash

处理数据后：输入| 过滤器 | output > ElasticSearch 它存储的格式有点像：

```
"_index": "logstash-2012.07.02",
"_type": "stdin",
"_id": "JdRaI5R6RT2do_WhCYM-qg",
"_score": 0.30685282,
"_source": {
    "@source": "stdin://dist/",
    "@type": "stdin",
    "@tags": [
        "tag1",
        "tag2"
    ],
    "@fields": {},
    "@timestamp": "2012-07-02T06:17:48.533000Z",
    "@source_host": "dist",
    "@source_path": "/",
    "@message": "test"
} 
```

我在特定字段中过滤/存储大部分重要信息，是否可以省略默认字段，例如：@source_path 和 @source_host？在不久的将来，它将每月存储 80 亿条日志，我想在排除此默认字段的情况下运行一些性能测试（我只是不使用这些字段）。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-25T21:41:13.070

这会从输出中删除字段：

```
filter {
    mutate {
        # remove duplicate fields
        # this leaves timestamp from message and source_path for source
        remove => ["@timestamp", "@source"]
    }
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T22:30:15.030

其中一些将取决于您用于查看日志的 Web 界面。我正在使用 Kibana，以及一个索引以下内容的客户记录器 (c#)：

```
{
  "_index": "logstash-2013.03.13",
  "_type": "logs",
  "_id": "n3GzIC68R1mcdj6Wte6jWw",
  "_version": 1,
  "_score": 1,
  "_source": 
  {
    "@source": "File",
    "@message": "Shalom",
    "@fields": 
    {
      "tempor": "hit"
    },
    "@tags": 
    [
      "tag1"
    ],
    "level": "Info"
    "@timestamp": "2013-03-13T21:47:51.9838974Z"
  }
} 
```

这显示在 Kibana 中，并且源字段不存在。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-07-01T10:18:28.453

要排除某些字段，您可以使用[prune filter plugin](https://www.elastic.co/guide/en/logstash/current/plugins-filters-prune.html#plugins-filters-prune-blacklist_names)。

```
filter {
    prune {
        blacklist_names => [ "@timestamp", "@source" ]
    }
} 
```

修剪过滤器不是logstash默认插件，必须先安装：

```
bin/logstash-plugin install logstash-filter-prune 
```

# javascript - 使用 require.js 加载原型增强

> ID：15267524
> 
> 赞同：2
> 
> 时间：2013-03-07T09:32:29.687
> 
> 标签：javascript, module, requirejs

我正在使用 require.js 来加载我的模块，这通常可以正常工作。尽管如此，我还有两个额外的问题：

1) 如果你有一个类似于帮助类的模块并为现有原型定义了额外的方法（例如`String.isNullOrEmpty`），你将如何包含它们？您希望避免使用对模块的引用。

2) 也需要更改才能使用 jQuery。我知道需要 jQuery，但我还需要传递`$`吗？

谢谢！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-07T11:53:53.420

> 1) 如果你有一个类似于帮助类的模块并为现有原型定义了额外的方法（例如 String.isNullOrEmpty），你将如何包含它们？您希望避免使用对模块的引用。

如果您需要扩展原型，则不要返回值并将其用作您的最后一个参数`require`：

```
// helpers/string.js
define(function() {
    String.prototype.isNullOrEmpty = function() {
        // 
    }
});

// main.js
require(['moduleA', 'helpers/string'], function(moduleA) {

}); 
```

> 2) 也需要更改才能使用 jQuery。我知道需要 jQuery，但我还需要传递 $ 吗？

jQuery 的唯一要求是您配置正确的路径

```
require.config({
    paths: {
        jquery: 'path/to/jquery'
    }
});

require(['jquery', 'moduleB'], function($, moduleB) {
    // Use $.whatever
}); 
```

在我看来，没有必要使用[内置了 jQuery 的 RequireJS 版本，](http://requirejs.org/docs/jquery.html)因为这主要是在 jQuery 不支持 AMD 时使用的。

现在它可以做到并且保持独立可以让你轻松地交换另一个库（想想 Zepto）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T10:02:28.873

2/ 对于 jquery，它真的很简单：

```
require(["jquery", "jquery.alpha", "jquery.beta"], function($) {
    //the jquery.alpha.js and jquery.beta.js plugins have been loaded.
    $(function() {
        $('body').alpha().beta();
    });
}); 
```

有关要求站点的更多信息：[http ://requirejs.org/docs/jquery.html#get](http://requirejs.org/docs/jquery.html#get)

1/ 在我的开发人员中进行此类扩展，我在没有 require 模块代码的全局文件中完成了它....并且我将它包含在我的应用程序中需要...不完美，但它工作正常

**global.js**

```
myglobalvar ="";
(...other global stuff...) 
```

**myapp.js**

```
// Filename: app.js
define([
    (...) 
    'metrix.globals'
], function(.....){
myApp = {
(...) 
```

# php - 将通过表单提交的 UTF-8 字符显示回表单的问题

> ID：15267526
> 
> 赞同：0
> 
> 时间：2013-03-07T09:32:43.150
> 
> 标签：php, html, utf-8

我有一个表单，用户可以在其中输入搜索词，基本上它是页面顶部的搜索栏。如果用户输入了任何内容，那么新页面也会包含他们输入的内容，以免他们忘记，就像 Google 所做的那样。

首先，页面设置为使用 UTF-8（页面已正确 UTF-8 编码）：

```
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
```

输入框为：

```
<input class="sb_input" name="q" type="text" value="<?php if (isset($displaysearch)) echo $displaysearch; ?>" /> 
```

上面是一些 PHP 代码，用于稍微清理搜索词：

```
$search=$_GET['q'];
$displaysearch=preg_replace('@[^\p{L}| ]@','',trim($search)); 
```

问题是，如果我输入`Über`，新页面上的搜索框会显示`�ber`，我不知道哪里出错了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T11:26:07.133

HTML`<meta>`标签可能是最不相关的部分。确保您从头到尾都阅读并理解[了 UTF-8](https://stackoverflow.com/questions/279170/utf-8-all-the-way-through)。此外：

*   您没有测试是否`$_GET['q']`已定义。这表明您已禁用完整的错误报告。如果是这种情况，那么您需要在更进一步之前解决它；没有错误消息的帮助是不可能编码的。这是一个[简短的解释](https://stackoverflow.com/a/5680885/13508)。
*   您正在将未转义的文本注入 HTML：您需要使用[htmlspecialchars()](http://php.net/htmlspecialchars)。
*   您在正则表达式中省略了[`u`修饰符](http://www.php.net/manual/en/reference.pcre.pattern.modifiers.php)，因此您的文本被作为单字节处理。

# php - Codeigniter DB Class 是否可以使用此类将 JSON 对象存储在表中？如果是这样怎么办？

> ID：15267528
> 
> 赞同：0
> 
> 时间：2013-03-07T09:32:51.093
> 
> 标签：php, codeigniter, activerecord

我正在尝试将一个对象存储在我的一个表的列中，这是一种设置逻辑，但我正在将我的旧样式查询样式`mysql_query()`与活动记录方法相一致。其中我现在得到一个

> PRIMARY 的“重复条目”

作为来自 DB 类的错误，我唯一可以与之关联的是，我试图传递这个正在被转义的对象，我认为它破坏了插入/更新查询

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:39:21.130

当然，只需使用`json_decode()`（[http://www.php.net/json_decode](http://www.php.net/json_decode)）并确保它符合表格行。如果需要强制某些值正确，请使用类型转换。

`json_encode()`会将您的 JSON 字符串存储到本机 PHP 数组中，从而可以轻松地从那里使用它来将其格式化为您的 DB 表格式。

如果您在问题中添加一些代码，我可能会给您更详细的答案。

# python - Python if 语句

> ID：15267529
> 
> 赞同：0
> 
> 时间：2013-03-07T09:32:54.650
> 
> 标签：python

```
print("this program will calculate the area")

input("[Press any key to start]")

width = int(input("enter width"))
if width < 0:
    print ("please chose a number between 0-1000")
    width = int(input("enter width"))

if width > 1000000:
    print ("please chose a number between 0-1000")
    width = int(input("enter width"))

height = int(input("Enter Height"))

area = width*height

print("The area is:",area) 
```

有没有一种方法可以压缩下面的代码，例如将它们组合在一起，这样我就不必编写几乎相同的代码行，除了 less then 和 greater then 语句两次。

```
width = int(input("enter width"))
if width < 0:
    print ("please chose a number between 0-1000")
    width = int(input("enter width"))

if width > 1000000:
    print ("please chose a number between 0-1000")
    width = int(input("enter width")) 
```

我试过了

```
width = int(input("enter width"))
if width < 0 and > 10000:
    print ("please chose a number between 0-1000")
    width = int(input("enter width")) 
```

但我得不到爱。

我也不想打字

```
width = int(input("enter width")) 
```

如果可以帮助，请声明两次。

谢谢本

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-07T09:34:32.547

有几种方法可以做到这一点。最明确的是：

```
if width < 0 or width > 10000: 
```

但我最喜欢的是：

```
if not 0 <= width <= 10000: 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-07T09:35:50.267

你需要一个循环。否则，如果他们是持久的，用户仍然可以输入无效值。while 语句将循环与条件结合在一起——它一直循环直到条件被破坏。

```
width = -1
while width < 0 or width > 10000:
    width = int(input("enter width as a positive integer < 10000")) 
```

您在原始问题中使用 if 语句在语法上不正确：

```
if width < 0 and > 10000: 
```

你要：

```
if not (0 < width < 1000):
    ask_for_new_input() 
```

或者，以更明确的方式：

```
if width < 0 or width > 1000:
    ask_for_new_input() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:34:23.237

你想说

```
if width < 0 or width > 10000:
    print ("please chose a number between 0-1000")
    width = int(input("enter width")) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T09:34:23.620

这

```
if width < 0 and > 10000: 
```

应该读

```
if width < 0 or width > 10000: 
```

或者：

```
if not 0 <= width <= 10000: 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T09:35:34.710

你错过了可变宽度

```
if width < 0 or width> 10000: 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-07T09:44:32.480

如果什么：

```
print("this program will calculate the area")

res = raw_input("[Press any key to start]")

def get_value(name):
    msg = "enter {0}".format(name)
    pMsg = "please choose a number between 0-1000"
    val = int(input(msg))
    while val not in xrange(1, 1001):
        print pMsg
        val = int(input(msg))
    return val

print("The area is: {0}".format(get_value('width') * get_value('height'))) 
```

# c#-4.0 - 如何使用 LINQ to XML 获取 xml 的属性值？

> ID：15267530
> 
> 赞同：0
> 
> 时间：2013-03-07T09:32:56.693
> 
> 标签：c#-4.0, xml-parsing, linq-to-xml

我有以下 xml 架构。

```
<Rooms>
    <Room RoomNumber="room1" EMAIL="ssds@dsfd.com" dsfdd=""/>
    <Room RoomNumber="room2" EMAIL="ssds@sdd.com" dsfdd=""/>
</Rooms> 
```

我必须根据输入返回电子邮件地址（程序的输入是房间号）。

我如何使用 LINQ to XML 来实现这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:39:25.023

试试这个：

```
var xml = XElement.Parse("<Rooms>"+
                "<Room RoomNumber=\"room1\" EMAIL=\"ssds@dsfd.com\" dsfdd=\"\"/>"+
        "<Room RoomNumber=\"room2\" EMAIL=\"ssds@sdd.com\" dsfdd=\"\"/>"+
                 "</Rooms>");

string room = "room1"; //input
var email =   xml.Elements("Room")
                        .Where(c => c.Attribute("RoomNumber").Value == room)
                        .Select(c => c.Attribute("EMAIL").Value).FirstOrDefault(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:51:53.880

```
var doc = XDocument.Load(myXmlFilePath);
// or doc = XDocument.Parse(myXmlString);

string roomNumber = "room1";

var emailQuery = from room in doc.Root.Elements("Room")
                 where (string)room.Attribute("RoomNumber") == roomNumber
                 select (string)room.Attribute("EMAIL"); 
```

然后，通过这样的查询，您可以获得结果：

```
// if there is always only one <Room> with given roomNumber
var email = emailQuery.First();
// otherwise
var emails = emailQuery.ToList(); 
```

# oracle - 从 Oracle 数据建模器创建到 SQL Server 数据库的连接

> ID：15267532
> 
> 赞同：4
> 
> 时间：2013-03-07T09:33:06.753
> 
> 标签：oracle, sql-server-2005, jdbc

我正在尝试从 Oracle SQL Developer Data Modeler 3.1.4.710 连接到 MS SQL Server 2005。我转到文件 -> 导入 -> 数据字典，然后尝试创建到 SQL Server 的连接。

我不断得到`"Status : Failure -Test failed: Driver class not found. Verify the Driver location" error.`

我正在使用 JDBC URL：`jdbc:sqlserver://testServer/sqlexpress;databaseName=testDB;integratedSecurity=true;`

`Driver Class: CLASSPATH =.;C:\Program Files\Microsoft JDBC Driver 4.0 for SQL Server\sqljdbc_4.0\enu\sqljdbc.jar`

我试过`sqljdbc4.jar`无济于事。

我也试过“ `com.microsoft.sqlserver.jdbc.SQLServerDriver`”仍然没有运气。能否请你帮忙？

这是截图.. ![在此处输入图像描述](../Images/bd0d7b5e7bc1cafb60cd44711795f130.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T05:42:40.083

我能弄明白。

这是我所做的：

JDBC URL：jdbc:sqlserver://testServer\SQLEXPRESS/Databases/testDB:1433;user=sa;password=pass; 驱动类：com.microsoft.sqlserver.jdbc.SQLServerDriver

我还在 Prefrences 中添加了 sqljdbc4.jar。（在工具选项下）。

确保在 SQL Server 中设置了 1433 端口。为此，请执行以下步骤：

1.  打开 SQL Server 配置管理器，然后展开 SQL Server 2005 网络配置。
2.  单击 InstanceName 的协议，然后确保在右侧面板中启用了 TCP/IP，然后双击 TCP/IP。
3.  在 Protocol 选项卡上，注意 Listen All 项的值。
4.  单击 IP 地址选项卡： 如果 Listen All 的值为 yes，则此 SQL Server 2005 实例的 TCP/IP 端口号是 IPAll 下 TCP Dynamic Ports 项的值。如果 Listen All 的值为 no，则此 SQL Server 2005 实例的 TCP/IP 端口号是特定 IP 地址的 TCP Dynamic Ports 项的值。
5.  确保 TCP 端口为 1433。
6.  单击确定。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-21T02:30:59.647

您还可以使用 ODBC 驱动程序。我不确定 ODBC 驱动程序是随 SQL Server 安装还是 Windows 原生安装，或者您必须单独安装。

如果使用 Windows XP：

--ODBC--

开始按钮 -> 设置 -> 控制面板 -> 管理工具 -> 数据源 (ODBC)

打开 ODBC 数据源管理器后，如果未打开，则转到 -User DSN- 选项卡

点击添加 -> 选择 SQL Server Native Client 10.0 ->

名称：例如：AdventureWorks2008 服务器：下拉框中的“SQL Server 名称”示例：（本地）或在设置期间最初指定的 SQL Server 名称->

下一个 ->

SQL Server 应该如何验证真实性？选择您希望如何连接到 db Windows 集成或 SQL 服务器（如果 SQL Server 则添加用户参数，例如 user= sa pass=' *** '）

下一个 ->

将默认数据库更改为 AdvetureWorks2008 -> Next '不要在此处触摸任何内容，除非...-> 并单击 Finish -> 单击 Test Data Source -> OK

--数据建模器--

现在转到 Oracle SQL 数据建模器（我的是 4.00 版）

首先，如果您的关系模型中已有某些内容，则在 Data Modeler 浏览器 -> RightClick -> New Relational Model 中创建一个新的关系模型 - 这将保存您从 SQL Server 导入的数据字典

文件 -> 导入 -> 数据字典（您现在在数据字典导入向导上）

单击添加-> 连接名称：例如：AdventureWorks2008 -'你可以给它任何名称，你将能够连接到 SQL Server 中的任何数据库'

单击 JDBC 选项卡并调出 JDBC-ODBC 桥（选项按钮 - 如果默认情况下未单击，请单击）-> ODBC 别名：AdventureWorks2008（与您在 ODBC 设置中指定的完全相同）

数据库类型：SQL Server

单击 -Test- 以确保连接成功。

点击保存

单击连接

您仍在使用数据字典连接向导

突出显示连接的名称“AdventureWorks2008”

单击下一步 -> 选择您想要的数据库，例如：AdventureWorks2008 -> 下一步 -> 选择您想要的表 -> 下一步 -> 完成

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-09-25T18:33:31.913

这很疯狂，但我发现当我将 SYBASE JDBC 驱动程序添加到 Tools| 时 偏好 | 数据库 | 第三方 JDBC 驱动程序然后我的 SQL Server 连接开始工作。我添加了 Microsoft JDBC 驱动程序，但在添加 Sybase JDBC 驱动程序之前，连接将失败，甚至无法到达 SQL Server 实例。这可能是因为 Sybase 和 MS SQL 都使用 TDS 数据流。我添加的 Sybase 文件是 jtds-1.3.1.jar。注意：我没有使用 JDBC 选项卡，而是使用 Connections 中的 SQL Server 选项卡。

# java - CAS 服务上的 javax.net.ssl.SSLHandshakeException

> ID：15267534
> 
> 赞同：2
> 
> 时间：2013-03-07T09:33:09.063
> 
> 标签：java, ssl, https, single-sign-on, cas

简短的故事，我的老板想为我们制作的许多应用程序使用单一登录，我尝试使用 CAS 来满足这个需求。

我正在尝试将 CAS 安装为我的 SSO。我从 java bin 中的 keytool 生成 jks 文件。登录和注销工作正常，直到我想尝试添加一些服务。

```
https://localhost:8443/cas/services/j_acegi_cas_security_check?ticket=ST-2-Ts4EoUqKfeGOGGi1XbXq-cas01.example.org 
```

这个错误会出来：

```
java.lang.RuntimeException: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No name matching localhost found
org.jasig.cas.client.util.CommonUtils.getResponseFromServer(CommonUtils.java:341)
org.jasig.cas.client.util.CommonUtils.getResponseFromServer(CommonUtils.java:305)
org.jasig.cas.client.validation.AbstractCasProtocolUrlBasedTicketValidator.retrieveResponseFromServer(AbstractCasProtocolUrlBasedTicketValidator.java:50)
org.jasig.cas.client.validation.AbstractUrlBasedTicketValidator.validate(AbstractUrlBasedTicketValidator.java:207) 
```

所以我谷歌并尝试这个东西但仍然失败：

首先我运行这个命令并且它成功：

```
keytool -genkey -alias localhost -keyalg RSA -keystore C:\Users\User\Documents\keystore.jks -keysize 2048
keytool -certreq -alias localhost -keystore C:\Users\User\Documents\keystore.jks -file C:\Users\User\Documents\localhost.csr 
```

将jks文件导入java

```
keytool -import -trustcacerts -alias localhost -keystore "C:/Program Files/Java/jdk1.7.0/bin/jre/lib/security/cacerts" -file "D:\apache tomcat 6\bin\keystore.jks" 
```

但出现错误：

```
keytool error: java.lang.Exception: Input not an X.509 certificate 
```

也尝试生成 x509 文件

```
openssl x509 -in "C:\Users\User\Documents\localhost.csr" -out "C:\Users\User\Documents\localhost.der" -outform DER 
```

但是这个错误出来了：

```
unable to load certificate
24516:error:0906D06C:PEM routines:PEM_read_bio:no start line:.\crypto\pem\pem_li
b.c:696:Expecting: TRUSTED CERTIFICATE 
```

请建议我是否可以尝试任何解决方案？

PS：在 Windows 8 64 位上使用 tomcat 6。（这就是为什么我总是使用我的文件夹，因为如果我在其他地方使用它就不起作用）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-08T03:06:18.377

嗨，我终于自己解决了这个问题......

也许其他人需要这个..

1.  我使用 https 和我导出的 jks 文件运行应用程序。
2.  用浏览器查看证书。
3.  将其导出并保存到 .cer 文件中
4.  使用 java keytool 导入它。

这是命令：

```
keytool -import -trustcacerts -alias localhost -keystore "%JAVA_HOME%/jre/lib/security/cacerts" -file "D:/apache tomcat 6/bin/daniel2.cer" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-26T14:23:51.297

我遇到了同样的问题，我按照你的步骤解决了，但又多了一步。命令后

```
keytool -genkey -alias localhost -keyalg RSA -keystore C:\Users\User\Documents\keystore.jks -keysize 2048 
```

它会询问您的姓氏和名字。名字和姓氏必须是服务器的**主机名**，不能是 IP 地址。我输入了我的真实姓名，但它不正确。

# c++ - 这两个 while 循环是否等效？

> ID：15267535
> 
> 赞同：1
> 
> 时间：2013-03-07T09:33:10.127
> 
> 标签：c++, loops

我有两个片段：

```
 while (indent-- > 0)
  {
    out << "  ";
  } 
```

```
 while (indent > 0)
  {
    indent -= 1;
    out << "  ";
  } 
```

据我所知，第一个片段中没有任何未定义的行为（请参见[此处](http://en.cppreference.com/w/cpp/language/operator_precedence)）。

我的问题是：这两个片段是否等效？

我不太确定，因为`-=`运算符的优先级高于比较运算符，因此应该在第一个片段中首先执行。然而，第二个片段仅在比较后执行此操作。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T09:45:51.170

它们将以相同的次数运行循环体，但它们并不相同。

第一个将`indent`额外减少一个时间，离开`indent`at `-1`，因为`--`无论条件成功还是失败，运算符都会运行。

第二个将`indent`在离开`0`。这是一个完整的工作示例：

```
#include <iostream>

int main()
{
   int indent = 3;
   while (indent-- > 0)
   {
      std::cout << "First ";  // Prints three times
   }

   std::cout << indent << std::endl;  // Prints -1

   indent = 3;
   while (indent > 0)
   {
      indent -= 1;
      std::cout << "Second ";  // Prints three times
   }

   std::cout << indent << std::endl;  // Prints 0
}

// Output:
// First First First -1
// Second Second Second 0 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-07T09:36:20.583

两者之间没有区别，因为`indent--`它是一个后增量——它会返回之前的值`indent`——虽然会有区别`while (--indent > 0)`。

因此，对于基本类型，它们是等价的。

但是，由于这是 C++，您也可以定义自己的类，拥有`indent`该类型的对象，重载`--`并让它们`=(int)`的`>`行为完全不同（我希望不是这种情况）。

编辑：正确，的值`indent`不一样。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-07T09:42:00.610

我认为他们是不同的。缺少的是缩进及其类型的初始化。

第一个循环在比较后总是递减，只有在条件为真时才会递减。如果 (indent > 0) 在循环之前为真，它们的行为方式完全相同。但是，如果 indent==0，则第一个循环将使其变为 -1，而无需打印一次。其次不会打印任何缩进，但也不会减少缩进。

因此，它们在某些情况下是不同的。

# perl - 按使用频率随机选择字母

> ID：15267537
> 
> 赞同：3
> 
> 时间：2013-03-07T09:33:11.880
> 
> 标签：perl, random, random-sample

在向我的 Perl 脚本提供了几本莎士比亚书籍之后，我得到了一个以 26 个英文字母作为键的哈希，以及它们在文本中出现的次数 - 作为值：

```
%freq = (
    a => 24645246,
    b => 1409459,
    ....
    z => 807451,
); 
```

当然还有所有字母的总数 - 让我们在`$total`变量中说。

是否有一个很好的技巧来生成一个包含 16 个随机字母的字符串（一个字母可以在那里出现多次） - 按它们的使用频率加权？

用于类似于 Ruzzle 的文字游戏：

![在此处输入图像描述](../Images/456d7fe6763b37f99bd34818b19f0c42.png)

一些优雅的东西——比如从文件中随机挑选一行，正如[Perl Cookbook](http://shop.oreilly.com/product/9780596003135.do)收据所建议的那样：

```
rand($.) < 1 && ($line = $_) while <>; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T09:40:45.640

我对 Perl 语法一无所知，所以我只写伪代码。你可以做这样的事情

```
sum <= 0
foreach (letter in {a, z})
  sum <= sum + freq[letter]
pick r, a random integer in [0, sum[ 
letter <= 'a' - 1
do
  letter <= letter + 1
  r <= r - freq(letter)
while r > 0

letter is the resulting value 
```

这段代码背后的想法是为每个字母制作一堆盒子。每个框的大小是字母的频率。然后我们在这个堆栈上选择一个随机位置，看看我们落在了哪个字母的盒子上。

例子 ：

```
freq(a) = 5
freq(b) = 3
freq(c) = 3
sum = 11

|    a    |  b  |  c  | 
 - - - - - - - - - - - 
```

当我们选择 0 <= r < 11 时，我们有以下概率

*   选择一个'a' = 5 / 11
*   选择一个'b' = 3 / 11
*   选择一个'c' = 3 / 11

这正是我们想要的。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-07T10:37:41.503

Perl Cookbook 选择随机线的技巧（也可以在[perlfaq5](http://perldoc.perl.org/perlfaq5.html#How-do-I-select-a-random-line-from-a-file%3f)中找到）也可以适用于加权采样：

```
my $chosen;
my $sum = 0;
foreach my $item (keys %freq) {
    $sum += $freq{$item};
    $chosen = $item if rand($sum) < $freq{$item};
} 
```

这里，`$sum`对应于行计数器`$.`和Cookbook 版本`$freq{$item}`中的常量`1`。

* * *

如果你要挑选很多加权随机样本，你可以通过一些准备来加快速度（注意这会破坏`%freq`，所以如果你想保留它，请先复制一份）：

```
# first, scale all frequencies so that the average frequency is 1:
my $avg = 0;
$avg += $_ for values %freq;
$avg /= keys %freq;
$_ /= $avg for values %freq;

# now, prepare the array we'll need for fast weighted sampling:
my @lookup;
while (keys %freq) {
    my ($lo, $hi) = (sort {$freq{$a} <=> $freq{$b}} keys %freq)[0, -1];
    push @lookup, [$lo, $hi, $freq{$lo} + @lookup];
    $freq{$hi} -= (1 - $freq{$lo});
    delete $freq{$lo};
} 
```

现在，要从准备好的分布中抽取一个随机加权样本，您只需执行以下操作：

```
my $r = rand @lookup;
my ($lo, $hi, $threshold) = @{$lookup[$r]};
my $chosen = ($r < $threshold ? $lo : $hi); 
```

（这基本上是 Marsaglia, Tsang & Wang (2004), ["Fast Generation of Discrete Random Variables"](http://www.jstatsoft.org/v11/i03/paper) , *J. Stat. Soft.* 11(3) 中描述的方形直方图方法，最初归功于 AJ Walker (1974)。）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-07T12:34:04.563

您可以先建立一个频率[运行总和的表。](https://en.wikipedia.org/wiki/Running_total)因此，如果您有以下数据：

```
%freq = (
    a => 15,
    b => 25,
    c => 30,
    d => 20
); 
```

运行总和将是；

```
%running_sums = (
    a => 0,  
    b => 15, 
    c => 40, # 15 + 25
    d => 70, # 15 + 25 + 30
);
$max_sum = 90; # 15 + 25 + 30 + 20 
```

要选择加权频率的单个字母，您需要选择一个介于 之间的数字`[0,90)`，然后您可以在 running_sum 表上进行线性搜索，以查找包含该字母的范围。例如，如果您的随机数是 20，那么合适的范围是 15-40，即字母“b”。使用线性搜索给出了总运行时间，`O(m*n)`其中 m 是我们需要的字母数，n 是字母表的大小（因此 m=16，n=26）。这基本上就是 @default 语言环境所做的。

除了线性搜索，您还可以在 running_sum 表上进行二进制搜索，以获得最接近的数字向下舍入。这给出了总运行时间`O(m*log(n))`。

但是，对于挑选 m 个字母，有一种比 更快的方法`O(m*log(n))`，尤其是 if `n < m`。首先，您`m`按排序顺序生成随机数（[无需排序即可完成](https://stackoverflow.com/questions/1866031/generating-sorted-random-ints-without-the-sort-on)），`O(n)`然后对已排序随机数列表和运行总和列表之间的范围进行线性匹配。这给出了总运行时间`O(m+n)`。[整个代码在 Ideone 中运行](http://ideone.com/73JhvT)。

```
use List::Util qw(shuffle);

my %freq = (...);

# list of letters in sorted order, i.e. "a", "b", "c", ..., "x", "y", "z"
# sorting is O(n*log(n)) but it can be avoided if you already have 
# a list of letters you're interested in using
my @letters = sort keys %freq;

# compute the running_sums table in O(n)
my $sum = 0;
my %running_sum;
for(@letters) {
    $running_sum{$_} = $sum;
    $sum += $freq{$_};
}

# generate a string with letters in $freq frequency in O(m)
my $curmax = 1;
my $curletter = $#letters;
my $i = 16; # the number of letters we want to generate
my @result;
while ($i > 0) {
    # $curmax generates a uniformly distributed decreasing random number in [0,1)
    # see http://repository.cmu.edu/cgi/viewcontent.cgi?article=3483&context=compsci
    $curmax = $curmax * (1-rand())**(1\. / $i);

    # scale the random number $curmax to [0,$sum)
    my $num = int ($curmax * $sum);

    # find the range that includes $num
    while ($num < $running_sum{$letters[$curletter]}) {
        $curletter--;
    }

    push(@result, $letters[$curletter]);

    $i--;
}

# since $result is sorted, you may want to use shuffle it first
# Fisher-Yates shuffle is O(m)
print "", join('', shuffle(@result)); 
```

# javascript - window.requestAnimationFrame() 使用它对吗？

> ID：15267538
> 
> 赞同：0
> 
> 时间：2013-03-07T09:33:13.227
> 
> 标签：javascript, touch, move, requestanimationframe

我正在尝试在 touchmove 上创建动画，但我有点担心它会要求设备的硬件多少，所以我尝试使用 requestAnimationFrame 但我不知道我是否做对了。

```
$('.LeftIcon, .RightIcon, .MiddleMenu').live('touchmove', function(e){requestAnimationFrame(move(e))});

function move(e)
{
    e.preventDefault();
    var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];
    var move_pixels = touch.pageX;

    $(fixed_elements).css('left',move_pixels+'px');
} 
```

我会很高兴收到一些反馈 (;

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:09:33.507

关于这个主题，有[一篇关于粉碎杂志的好文章：](http://coding.smashingmagazine.com/2013/03/04/animating-web-gonna-need-bigger-api/)

```
// On button press…
animateLeft(elm, '250px', '500px', function() {
  console.log("Done!");
});

// The implementation
function animateLeft(elm, from, to, done) {
  // Turn our CSS values into numbers
  // We're being lazy and assuming they're in px
  from = parseInt(from, 10);
  to = parseInt(to, 10);
  // Work out the amount we need to move the box
  var diff = to - from;

  var duration = 3000;
  var startTime = performance.now();

  // Set initial position
  elm.style.transform = 'translate(' + from + 'px, 0)';

  function frame(time) {
    // How long has the animation been running?
    var animTime = time - startTime;
    // Are we done?
    if (animTime >= duration) {
      // It's likely that the last rendered position wasn't the
      // final position, so we set it here.
      elm.style.transform = 'translate(' + to + 'px, 0)';

      done();
    }
    else {
      // What position should the box be in?
      var position = from + (animTime / duration * diff);
      elm.style.transform = 'translate(' + position + 'px, 0)';
      // Request our next frame
      requestAnimationFrame(frame);
    }
  }
  // request our first frame
  requestAnimationFrame(frame);
} 
```

# iphone - 如何在 iOS 上将图像作为 JSON 从图库上传到服务器

> ID：15267539
> 
> 赞同：3
> 
> 时间：2013-03-07T09:33:18.503
> 
> 标签：iphone, ios, json

如何从 iPhone 上的图库将图像作为 JSON 上传到服务器？我尝试了以下方法：

```
[Loading startLoading:YES];
NSString *urlString = [NSString stringWithFormat:@"http://railsboxtech.com/singing/jsn_song/register_response.php?accesstoken=%@",Access_Token];
//username, password, name, email, country
NSString *parameter = [NSString stringWithFormat:@"username=%@&password=%@&fname=%@&email=%@&lname=%@&btnImage4=%@",userField.text,passField.text,fnameField.text,emailField.text,lnameField.text,btnImage4];
NSConnection *conn = [[NSConnection alloc] initWithDelegate:self];
[conn sendRequest:urlString withParaMeter:parameter withMethod:@"POST" withTag:1];
[conn startAsynchronousRequest]; 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-07T09:39:42.877

如果要将图像作为字符串上传，则必须将图像数据转换为 Base64，然后可以使用上述方法：-

要转换为 base64 字符串，请参阅[此 Stack Overflow 答案](https://stackoverflow.com/a/11251478/576932)。然后，您可以使用您的代码进行上传。

**其他方式**

您可以像这样直接上传图像：

```
-(void)uploadImage
{       
    NSData *imageData = UIImagePNGRepresentation(yourImage);

    NSString *urlString = [ NSString stringWithFormat:@"http://yourUploadImageURl.php?intid=%@",1];

    NSMutableURLRequest *request = [[[NSMutableURLRequest alloc] init] autorelease];
    [request setURL:[NSURL URLWithString:urlString]];
    [request setHTTPMethod:@"POST"];

    NSString *boundary = [NSString stringWithString:@"---------------------------14737809831466499882746641449"];
    NSString *contentType = [NSString stringWithFormat:@"multipart/form-data; boundary=%@",boundary];
    [request addValue:contentType forHTTPHeaderField: @"Content-Type"];

    NSMutableData *body = [NSMutableData data];
    [body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];
    [body appendData:[[NSString stringWithString:[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"userfile\"; filename=\"%@\"\r\n", 1]] dataUsingEncoding:NSUTF8StringEncoding]];
    [body appendData:[[NSString stringWithString:@"Content-Type: application/octet-stream\r\n\r\n"] dataUsingEncoding:NSUTF8StringEncoding]];
    [body appendData:[NSData dataWithData:imageData]];
    [body appendData:[[NSString stringWithFormat:@"\r\n--%@--\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];
    [request setHTTPBody:body];

    [NSURLConnection sendSynchronousRequest:request returningResponse:nil error:nil];
} 
```

# jquery - Jquery：Jcrop 不工作：Railscasts 182

> ID：15267542
> 
> 赞同：0
> 
> 时间：2013-03-07T09:33:26.330
> 
> 标签：jquery, ruby-on-rails-3, jcrop, railscasts

我正在使用 Railscasts 182 裁剪上传的图像。根据我实现的视频：

我正在个人资料页面上传一张图片。这是我的个人资料控制器：

```
def edit
  @profile = current_user.profile
  if @profile.photo.nil?
    redirect_to current_user.profile
  else
    render :action => "crop"
  end
end

def update
  @profile = current_user.profile
  if @profile.update_attributes(params[:profile])
    if @profile.photo.nil?
      redirect_to current_user.profile
    else
      render :action => "crop"
    end
  else
    render :edit
  end
end 
```

根据视频，我的`crop.html.erb`文件是：

```
<% "Crop avatar" %>

<% content_for(:head) do %>
  <%= stylesheet_link_tag "jquery.Jcrop" %>
  <%= javascript_include_tag "jquery.Jcrop.min" %>
  <script type="text/javascript">
  $(function(){
    $("#cropbox").jCrop();
  });
  </script>
<% end %>

<%= image_tag @profile.photo.avatar.url(:big), :id => "cropbox" %> 
```

我在我的中添加了这些`application.html.erb`：

```
<%= javascript_include_tag "jquery.min" %>
<%= yield(:head) %> 
```

当我提交图像时，它会显示普通图像。它不显示选择光标，因此无法选择图像上的区域，因为它在视频中显示。

我猜 Jcrop 不工作。谁能告诉我会是什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-10T01:53:57.767

通过查看源代码或在萤火虫中运行，确保它`jquery.Jcrop.min`包含在生成的 HTML 文件中。`$("#cropbox").jCrop();`

如果不是，请尝试将此行添加`//= require jquery.Jcrop.min`到您的`application.js`然后预编译您的资产。

如果它仍然没有被包括在内，那么一个绝望的解决方案将是删除`content_for head(:head)`由于某种原因无法将你的 js 代码附加到标题的行（这就是我最终要做的）。

# mongodb - MongoDB 索引中的空值如何排序？

> ID：15267544
> 
> 赞同：11
> 
> 时间：2013-03-07T09:33:28.877
> 
> 标签：mongodb

我想以特定方式（-1、1）对索引进行排序，并希望确保空值位于索引的顶部。我怎样才能确保这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-07T16:28:49.340

如果您正在降序排序并且您`null`在末尾看到值，那将是排序的默认行为。

实际上没有太多可以改变这种行为的方法，但是可以为您提供所需结果的解决方法是执行两个查询而不是一个：

```
db.Collection.find( { a: null } );
db.Collection.find( { a: { $ne: null } } ).sort( { a: -1, b: 1 } ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-13T10:42:29.800

您已经说过“我只想通过一个查询基本上有一个'如果一个存在空值，否则一个不存在'”，那么 db.collection.find().sort().limit(1) 怎么样？

# c# - Windows Phone 7.1 命名空间“clr-namespace:MySpace”中不存在名称“XXX”

> ID：15267548
> 
> 赞同：0
> 
> 时间：2013-03-07T09:33:37.363
> 
> 标签：c#, windows-phone-7, xaml, windows-phone-8

我正在将现有的 WP8 应用程序转换为 WP7.1。我在 App.xaml Application.Resources 部分中放置了几个转换器类，但 Visual Studio 抱怨它们不存在于它们所在的命名空间中。

所有转换器都位于`Class Converter`文件夹内。

该代码在 WP8 项目中运行良好，但我需要更改哪些内容才能使其在 WP7.1 中编译？

![在此处输入图像描述](../Images/6e205515dc68fef1d3b8bb8d74d8c5b7.png)

![在此处输入图像描述](../Images/cc7ea21274b172ec138357591e04360a.png)

**更新：**我现在可以编译它。出于某种原因，WP8 类之一（多分辨率选择器）正在阻止项目编译。我删除了它，因为 WP7 只支持一种分辨率并且修复了它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-07T23:20:13.923

您也可以这样做：您需要激活“显示隐藏文件夹”，因为 AppData 是隐藏的...

1.  关闭 Visual Studio。
2.  转到文件夹位置：“MY_USER\AppData\Local\Microsoft\Phone Tools\CoreCon\”。
3.  删除文件夹的内容：10.0 和 11.0。

[这是我找到的链接](http://codeskaters.blogspot.ae/2013/10/windows-phone-name-localizedstrings.html)

# css - 将 div 浮动在（绝对定位？）背景 div（或图像）上

> ID：15267554
> 
> 赞同：2
> 
> 时间：2013-03-07T09:33:53.987
> 
> 标签：css, html, background, absolute

经过长时间的搜索，我似乎无法在任何地方找到对这个问题的参考。这可能意味着我缺少基本概念，但无论如何我都会继续询问。我正在尝试`float:left` `<div>`叠加背景图像。问题的简化版本如下（使用 div 表示图像以便快速重现）

```
<div style='position: absolute; background-color: blue; width: 500px; height: 500px'>
     BACKGROUND DIV
</div>
<div style='float: left; background-color: yellow; width: 100px; height: 100px'>
     FLOATING IMAGE
</div> 
```

似乎绝对定位的 div 覆盖了浮动。我该如何解决这个问题 - 不诉诸`background-image`父母的财产（这不是一个选择）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:36:05.927

设置位置：相对；在浮动元素上并分配 z-index:1；到背景和z-index：2；到浮动图像。

```
<div style='position: absolute; background-color: blue; width: 500px; height: 500px'>
 BACKGROUND DIV
</div>

<div style='position:relative; float: left; background-color: yellow; width: 100px; height: 100px; z-index:2;'>
 FLOATING IMAGE
</div> 
```

编辑：这是一个 jsfiddle 供您参考：http: [//jsfiddle.net/exUm7/1/](http://jsfiddle.net/exUm7/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:45:56.660

Div 覆盖不是一个好主意，除非你在做游戏之类的事情。我认为如果你计划你的布局而不是覆盖，那就是击球手。它会让你轻松。

但如果你必须这样做。开始了

```
<div style='float:left; background-color:blue; width:500px; height:500px; z-index:1'>
BACKGROUND DIV
</div>
<div style='float:left; margin-left:-500px; background-color:yellow; width:100px; height:100px; z-index:2'>
FLOATING IMAGE
</div> 
```

# c++ - 如何实现以下算法？

> ID：15267555
> 
> 赞同：2
> 
> 时间：2013-03-07T09:33:53.917
> 
> 标签：c++, algorithm

我很抱歉这个神秘的标题。这是我的问题：

```
class Item
{
public:
    double value;
    void recomputeValue();   // after this, will probably increase a little, 
                             // but never decrease.
    std::list<Item*> neighbors;  // relatively few items
}; 
```

我正在尝试实现一个程序，它将这些项目的列表修剪为指定的大小：

```
void trimToNewSize(std::list<Item*>& items, int newSize); 
```

需要实现的算法是：

```
while (size > newSize)
{
   erase item with smallest value;
   recomputeValue() for all its neighbors;
} 
```

到目前为止，我已经考虑了 2 种方法：

**1\. 堆**

从所有值构造一个堆。堆是合适的，因为它可以在 O(1) 中找到并删除最小元素，并且可以在 O(n) 中构建。

每次删除后，定位堆中的所有邻居，`recomputeValue()`并更新它们在堆中的位置。

[所以我在Wikipedia](http://en.wikipedia.org/wiki/Heap_%28data_structure%29)和[Boost](http://www.boost.org/doc/libs/1_53_0/doc/html/boost/heap/fibonacci_heap.html)上对 Heap 数据结构做了一些浅显的研究， 问题*是*Heap 似乎没有提供快速**定位**其中元素的方法。

**2.哈希表**

按值对列表进行排序。构造一个哈希表，将指针 Item* 映射到链表中指向它们的迭代器。然后每次我从列表中删除顶部（最小）项目时，由于哈希表，我会在恒定时间内找到列表中的所有邻居。然后对于每个邻居`recomputeValue()`并更新其在列表中的位置和哈希表中的相应迭代器。

如果我使用有序的跳过列表而不是链表，也许就不需要哈希表了。

我是编程新手，所以我的方法可能过于天真和复杂，我欢迎任何建议。

总结一下我的问题：

1.  有没有办法在堆中执行快速查找以使 #1 可行？
2.  是否有一个容器可以保持元素的顺序并可以执行快速查找，以便我可以使#2 更清洁？
3.  你会如何处理这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:39:42.433

这看起来像是一个普通老人的工作`std::map< double, Item * >`。它为您提供了最小元素`* items.begin()`，并且要重新计算邻居，只需执行类似的操作

```
typedef std::map< double, Item * > itemsByValue;
itemsByValue items;

class Item
{
public:
    double value;
    void recomputeValue();   // after this, will probably increase a little, 
                             // but never decrease.
    std::list< itemContainer::iterator > neighbors;  // relatively few items
};

for ( itemsByValue::iterator i = neighbors.begin();
      i != neighbors.end(); ++ i ) {
    Item &item = * neighbor;
    items.erase( neighbor );
    item.recomputeValue();
    items.insert( std::make_pair( item.value, & item ) );
} 
```

# java - Java 断言是全局运行时选项还是可以部分应用？

> ID：15267558
> 
> 赞同：4
> 
> 时间：2013-03-07T09:34:10.553
> 
> 标签：java, jvm, assert, application-server

我想在测试应用程序服务器时启用断言，但是来自其他团队的 AS 主机部署和我的决定可能与他们发生冲突......

快速网络搜索显示 Jboss 的断言可以作为全局选项启用：

*   [https://docs.jboss.org/author/display/ARQ/Enabling+assertions](https://docs.jboss.org/author/display/ARQ/Enabling+assertions)

因此设置对所有部署都有效。

是否可以部分启用断言？基于类加载器（适用于应用服务器中的部署）或包/类名模式？或其他？

我的问题不是关于 JBoss，而是关于 JVM 的一般问题......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:38:37.683

我认为你可以做到这一点。看看这个[http://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html#enable-disable](http://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html#enable-disable)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T09:40:13.123

从[文档](http://docs.oracle.com/javase/1.4.2/docs/guide/lang/assert.html#enable-disable)：

> 要以各种粒度启用断言，请使用 -enableassertions 或 -ea 开关。要禁用各种粒度的断言，请使用 -disableassertions 或 -da 开关。您可以使用提供给交换机的参数指定粒度：

请注意，该页面包含直接在上述引用之后的示例。

我不认为您可以*针对每个类加载器*进行这些更改（如您上面所问）。但是请注意，您可以[以编程方式设置每个类加载器的默认断言状态](http://docs.oracle.com/cd/E19683-01/806-7930/6jgp65ikr/index.html#assert-9)。请注意，确保在这种情况下对您有所帮助。

# asp.net-mvc - 在 ASP.NET MVC 解决方案中定义项目是否有任何标准方法？

> ID：15267561
> 
> 赞同：1
> 
> 时间：2013-03-07T09:34:16.350
> 
> 标签：asp.net-mvc, entity-framework

我应该如何在逻辑上定义 ASP.NET MVC 解决方案？我必须将我的解决方案分成多少个项目？对此有标准方法吗？例如，一个模型类库、一个 MVC Web 应用程序（包括控制器和视图）、一个单元测试项目、一个存储库项目等......可以提出哪些不同类型的项目？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:39:08.690

答案真的取决于。取决于你的项目规模。你可以把它全部放在一个项目中（主 MVC 之一），你可以进一步拆分它。这个项目的规范形式是这样的：

```
project.WEB
project.Common (here belongs common functionality between projects, so helpers, utilities, even some extension methods belong there)
project.Model (Data entities)
project.BL //(Business Logic)
project.DAL //(Data Access Layer or Persistence)
project.Tests 
```

*注意“项目”是你的命名空间根。如何处理命名空间命名您可以在那里查看：[命名空间命名约定](https://stackoverflow.com/questions/918894/namespace-naming-conventions)

而且您可以将其拆分得越来越远。但是，我建议您不要夸大进一步拆分它。当您必须这样做时，您会知道（一个项目增长过多，存在逻辑分离......）。您尝试遵循[YAGNI](http://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it)原则。

还有一件事情。如果您想“按本书”去那里，请查看 DDD - 域驱动设计：http: [//msdn.microsoft.com/en-us/magazine/dd419654.aspx](http://msdn.microsoft.com/en-us/magazine/dd419654.aspx)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:41:37.220

这是一个非常广泛的问题，但我会给你一个我在以前的项目中所做的例子。首先，这将取决于整个应用程序的复杂性以及开发人员的个人偏好。一个简单的应用程序可以非常适合单个 MVC 4 应用程序。

```
Web Project - for the views using MVC4
Application - for business logic)
Data - for repositories and webservice methods)
Domain - for the objects used in the app
Utilities - for common functionality that needs to be used in more than one project 
```

上面的示例非常适合该项目，使我能够分离所有关注点，使其更易于维护。

# php - Zend_Db_Table_Row::save() 不更新表

> ID：15267569
> 
> 赞同：1
> 
> 时间：2013-03-07T09:34:41.077
> 
> 标签：php, zend-framework, zend-db, zend-db-table, mysql-error-1062

我正在使用 Zend Framework 1.12.1

我正在尝试对 Zend_Db_Table_Abstract 的一行使用“保存”方法。据我了解，此方法应自动决定是保存还是更新表中的行。我创建了两种形式，一种用于在数据库中创建记录，另一种用于更新。它可以完美地创建新记录。方法使用 INSERT MySQL 命令。当我尝试更新行时，不是选择 MySQL 命令 UPDATE，而是 save() 方法仍然选择 INSERT 并复制表中的记录。

这是完整的错误日志：

```
Message: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry 'France' for key 'country'

Stack trace:

#0 C:\wamp\zf\library\Zend\Db\Statement.php(303): Zend_Db_Statement_Pdo->_execute(Array)
#1 C:\wamp\zf\library\Zend\Db\Adapter\Abstract.php(480): Zend_Db_Statement->execute(Array)
#2 C:\wamp\zf\library\Zend\Db\Adapter\Pdo\Abstract.php(238): Zend_Db_Adapter_Abstract->query('INSERT INTO `co...', Array)
#3 C:\wamp\zf\library\Zend\Db\Adapter\Abstract.php(576): Zend_Db_Adapter_Pdo_Abstract->query('INSERT INTO `co...', Array)
#4 C:\wamp\zf\library\Zend\Db\Table\Abstract.php(1076): Zend_Db_Adapter_Abstract->insert('countries', Array)
#5 C:\wamp\zf\library\Zend\Db\Table\Row\Abstract.php(467): Zend_Db_Table_Abstract->insert(Array)
#6 C:\wamp\zf\library\Zend\Db\Table\Row\Abstract.php(438): Zend_Db_Table_Row_Abstract->_doInsert()
#7 C:\wamp\www\website\library\App\Data.php(34): Zend_Db_Table_Row_Abstract->save()
#8 C:\wamp\www\website\application\controllers\CountryController.php(82): App_Data->save()
#9 C:\wamp\zf\library\Zend\Controller\Action.php(516): CountryController->editAction()
#10 C:\wamp\zf\library\Zend\Controller\Dispatcher\Standard.php(308): Zend_Controller_Action->dispatch('editAction')
#11 C:\wamp\zf\library\Zend\Controller\Front.php(954): Zend_Controller_Dispatcher_Standard->dispatch(Object(Zend_Controller_Request_Http), Object(Zend_Controller_Response_Http))
#12 C:\wamp\zf\library\Zend\Application\Bootstrap\Bootstrap.php(97): Zend_Controller_Front->dispatch()
#13 C:\wamp\zf\library\Zend\Application.php(366): Zend_Application_Bootstrap_Bootstrap->run()
#14 C:\wamp\www\website\public\index.php(26): Zend_Application->run()
#15 {main} 
```

我正在尝试更新表 {'id'=>'1', 'country'=>'France', 'continent'=>'Europe', 'created'=>'2013-03-07 10 中的记录:10', '修改'=>''}

有没有办法强制方法 save() 选择 Zend_Db_Table_Row_Abstract->_doUpdate() 方法而不是 _doInsert()？

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:05:51.003

您可能需要更新您的问题以添加一些代码，因为目前我们都在猜测。

这是一个简单的例子，说明 save() 如何在映射器中工作，使用实体模型代替数组。

```
public function saveArtist(Music_Model_Artist $artist)
    {
        //if id is set fetch the row
        if (!is_null($artist->id)) {
            $select = $this->getGateway()->select();
            $select->where('id = ?', $artist->id);
            $row = $this->getGateway()->fetchRow($select);
        } else {
            //if id is not set create a new row
            $row = $this->getGateway()->createRow();
        }
        // this data is added to the record always
        $row->name = $artist->name;
        //save/update the row
        $row->save();
        //return the whole row, my preference as save() just returns primary key of row.
        return $row;
    } 
```

真正发生的是，如果您提交现有行将`save()`UPDATE**如果**您创建新`save()`行将**INSERT**。这种方法没有任何魔力，您可以根据传递给它的数据来控制它的作用。具体一点，效果很好。

当您打算让它执行**UPDATE**时，您的应用似乎正在执行**INSERT**。

# ios - 使用宏中的 NSDictionary 对象创建 NSArray

> ID：15267570
> 
> 赞同：2
> 
> 时间：2013-03-07T09:34:47.247
> 
> 标签：ios, nsstring, nsarray, nsdictionary

我想要完成的是，我定义了一个宏，

```
#define NAME_List @"a,aaa,aac,aacaaba,abbbb" 
```

我正在将其转换为`NSArray`使用`componentsSeperatedByString:`它给我的`NSString`对象数组，而不是我想要`NSDictionary`对象，例如，

> [0]->“名称”=“a”
> 
> [1]->“名称”=“aaa”
> 
> [2] -> "名称" = "aac""

＆ 不喜欢，

> [0] -> a [1] -> aaa [2] -> aac

`NSKeyedArchiver`我试过这个（但我对or`NSPropertyListFormat`或 `NSPropertyListSerialization`类没有任何想法）

```
NSData *data = [NSKeyedArchiver archivedDataWithRootObject:arrayNames];
NSError *error = nil; 
NSPropertyListFormat plistFormat; 
NSDictionary *temp = [NSPropertyListSerialization propertyListWithData:data options:NSPropertyListImmutable format:&plistFormat error:&error]; 
```

**更新**

我可以遍历数组并创建字典对象并将其添加到数组中以执行此操作，但我不想这样做！

**有没有可用的功能可以做到这一点？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:00:55.310

```
NSMutableArray *resultArr = [NSMutableArray array];
NSArray *arr = [NAME_LIST componentsSeperatedByString:@","];
for(NSString *str in arr) {
    NSDictionary *nameDictionary = [NSDictionary dictionaryWithObject:str forKey:@"Name"];
    [resultArr addObject:nameDictionary];
}
NSLog(@"%@", resultArr); 
```

# asp.net - Request.Form 在两个函数中使用

> ID：15267572
> 
> 赞同：-1
> 
> 时间：2013-03-07T09:34:54.930
> 
> 标签：asp.net, forms, function

我正在创建一个在线注册系统。当用户填写表单并单击提交时，下一页应显示该用户信息。

```
protected void Page_Load(object sender, EventArgs e)
{
    NameValueCollection nvc = Request.Form;
    surname.Text = nvc["surname"];
    firstname.Text = nvc["firstname"];
    birth_year.Text = nvc["birth_year"];
    birth_month.Text = nvc["birth_month"];
    birth_day.Text = nvc["birth_day"];
    citizenship.Text = nvc["citizenship"];
    gender.Text = nvc["gender"];
    home_address.Text = nvc["home_address"];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T11:50:04.437

在 ASP.Net 中创建表单相对简单。您的页面上只需要三样东西： 1\. 表单控件： 2\. 某种类型的控件（示例中的文本框） 3\. 提交请求的按钮。

首先，将表单控件添加到您的网页。这在正文部分：

```
<form runat="server">
</form> 
```

现在，您要回发到服务器的所有控件都需要位于该表单标记内。让我们添加一个文本框：

```
<form runat="server">
     <asp:textBox id="lastName" runat="server"></asp:textbox>         
</form> 
```

注意 ID 和 runat 标签。这些很重要。如果你想在你的服务器页面中引用一个控件，你需要一个唯一的 id。runat 标记表明控件应该创建在服务器上，而不是客户端浏览器上。

现在，添加一个按钮来提交：

```
<form runat="server">
     <asp:textBox id="lastName" runat="server"></asp:textbox>
     <asp:Button ID="submit" text="Submit Me" runat="server" OnClick="myEvent_click" />
</form> 
```

此控件具有相同的“runat”和“ID”标记以及文本和 OnClick。文本就是按钮在其中所说的内容。OnClick 告诉服务器在回发时要调用什么事件。因此，我们需要在服务器代码上创建一个“myEvent”事件。打开后面的服务器代码（右键单击并选择“查看代码”）。添加这个：

```
Protected Sub myEvent_click(ByVal sender As Object, ByVal e As System.EventArgs) 
     Dim tbText as string= me.lastName.Text     
End Sub 
```

当用户按下提交按钮时，此代码将触发。它创建一个名为 tbText 的字符串类型变量，并从 lastName 文本框中的文本中为其分配一个值。

总而言之，很简单。如果您有任何问题，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T12:27:19.250

我想您是在问如何在 ASP.Net 中将 FORM 数据表单 Page1 传递到 PAGE2

如果我理解您的问题，您可以按以下方式解决您的问题：

在 Page1 中更改提交按钮或注册按钮，如下所示：

```
<asp:Button ID="Register" runat="server" Text="Register"  PostBackUrl="~/PAGE2.aspx" /> 
```

祝你好运

# c# - 具有对 JPEG 透明度的 MagickNet PNG

> ID：15267576
> 
> 赞同：3
> 
> 时间：2013-03-07T09:34:58.947
> 
> 标签：c#, .net, imagemagick, image-manipulation, magicknet

我在我的 ASP.NET C# 项目中使用[MagickNet进行图像处理。](http://midimick.com/magicknet/)我的问题是我正在上传具有透明度的 PNG 图像，当我将其转换为 JPEG 时，我得到一个带有一些白点的黑色背景，而不是透明部分的白色背景。

```
 Stream su = upload.FileContent;

MagickNet.Image testimage = new MagickNet.Image(su);

testimage.Filter = FilterType.LanczosFilter;
testimage.Compression = CompressionType.JPEGCompression;
testimage.QuantizeDither = false;  
testimage.BackgroundColor = new Color(System.Drawing.Color.White);

testimage.Resize( new System.Drawing.Size(Convert.ToInt32(testimage.Size.Width * 0.4), Convert.ToInt32(testimage.Size.Height * 0.4)));
testimage.Write(System.Web.HttpContext.Current.Server.MapPath(".") + "\\temp\\" + DateTime.Now.Hour +  "-"  +DateTime.Now.Minute + "-" + DateTime.Now.Second + ".jpg");
su.Close();
su.Dispose();

testimage.Dispose();
Magick.Term(); 
```

我玩过它，但总是得到我所追求的错误结果。有时我得到一个透明的背景，但外部区域的图像的某些部分有白点。我还将图像的大小调整为小于实际大小。我认为重新调整大小会导致问题。

更新：这是由于某种原因调整大小造成的。无需调整大小即可。话虽如此，我需要调整大小，所以我需要它来处理它。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-07-22T16:56:46.033

首先，最好创建具有​​所需大小的 MagickImage 对象，在某些情况下，读取所需大小的文件/流的速度可以快 100 倍。你可能没有那个错误。

```
using(var testimage = new MagickImage(yourstream/yourFileAddress, width, height)
{
....
} 
```

但是如果将 MagickImage 转换为 Bitmap，然后将位图另存为 jpg，您可以看到图像具有白色背景

```
using (var testBitmap = testimage.ToBitmap())
{
     testBitmap.Save(@"d:\temp.jpg"); 
} 
```

也使用比调用 dispose 成员函数要好得多。因为如果您的代码在到达 dispose 调用之前抛出异常，您的对象将保留在内存中。但是使用时，如果程序跳出块，对象将被释放。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-10T17:53:39.633

尝试合成到白色背景图像上。

```
Image bg = new Image(testimage.Size, new ColorRGB(255, 255, 255));
testimage = bg.Composite(testimage, 0, 0); 
```

# php - 一种计算可能为 NULL 的 DateTime 交点的方法

> ID：15267581
> 
> 赞同：0
> 
> 时间：2013-03-07T09:35:08.690
> 
> 标签：php, datetime, comparison, limesurvey

**背景**

我正在将[Limesurvey](http://www.limesurvey.org)与应用程序集成，其中新的调查令牌直接添加到 Limesurvey 数据库中。在插入之前，我需要检查 Limesurvey 中给定的一组标记（带有`validfrom`和`validuntil`属性）是否与给定的日期范围（`DateTime`）相交。

**问题**

既然 Limesurveys 的 token`validfrom`和`validuntil`attributes can be `NULL`，简单的比较`DateTime`就做不到了，还是可以吗？

（Limesurvey`validfrom/validuntil` `NULL`值意味着“总是”）

**是）我有的**

一个 php 类，用于检查 Limesurvey 属性是否存在`NULL`，并根据需要返回交集的计算。

代码： http: [//phpfiddle.org/main/code/3vp-j3b](http://phpfiddle.org/main/code/3vp-j3b)

（这是`foreach`循环内的内容，**第 34-70 行**，这里很有趣）

**我问什么**

鉴于比较值很特殊，有没有办法改进/优化这种方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:08:06.897

您可以用可能的第一个和最后一个日期替换 null 以方便比较：

```
if (is_null($token['validfrom']) {
    $token_validfrom = new DateTime('0000-01-01 00:00:00');
} else {
    $token_validfrom = new DateTime($token['validfrom']);
}
if (is_null($token['validuntil']) {
    $token_validuntil = new DateTime('9999-12-31 23:23:59');
} else {
    $token_validuntil = new DateTime($token['validuntil']);
} 
```

这样，只需要最后一行比较：

```
return ($validfrom == $token_validfrom) || ($validfrom > $token_validfrom ? $validfrom < $token_validuntil : $token_validfrom < $validuntil); 
```

# c# - 将对象添加到 ObservableCollection List 对象

> ID：15267585
> 
> 赞同：1
> 
> 时间：2013-03-07T09:35:15.537
> 
> 标签：c#, wpf, list, observablecollection

如何将一个对象添加到 ObservableCollection 列表对象？我有一个名为“Assest”的类，我创建了 Asset 的 ObservableCollection 列表，我想维护它，就像从该 ObservableCollection 列表中添加和删除元素一样。现在，当我尝试将单个元素添加到 ObservableCollection 时出现错误。

这是我的代码。

```
 private static ObservableCollection<Assest> _collection = null;

    public ObservableCollection<Assest> AssestList
    {
        get
        {
            if (_collection == null)
            {
                _collection = new ObservableCollection<Assest>();
            }
            return _collection;
        }
        set { _collection = value; }
    }

    public static ObservableCollection<Assest> ToObservableCollection(List<Assest> assestList)
    {
        return new ObservableCollection<Assest>(assestList);
    }

    public MainWindow()
    {
        InitializeComponent();
        this.DataContext = this;
        LoadData();
        comboBox1.ItemsSource = AssestList;
    }

    private void LoadData()
    {
        Assest assest = new Assest() { AppID = "1", AssestName = "AppName", AppDescription = "Description" };
        Assest assest2 = new Assest { AppDescription = "Des2", AppID = "2", AssestName = "hi" };

        List<Assest> assList = new List<Assest> {assest, assest2};

        ObservableCollection<Assest> generatedAssestList = ToObservableCollection(assList);
        AssestList = generatedAssestList;
    }

    // Here I get an error.

    public static void AddAppToObservalCollection(Assest ass)
    {
        _collection.Add(ass);
    } 
```

那么如何克服这种情况。谢谢大家。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:39:44.923

你的代码有点乱，不清楚为什么你需要 AssestList 和 _collection。

但是，我认为您需要更换

```
_collection.Add(ass); 
```

和

```
AssestList.Add(ass); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:55:41.710

_collection 对象在调用 AssestList 的 getter 时仍然为空。因此，当您使用“_collection.Add(ass);”时，它可以为 null（并且，顺便说一下 _collection 是私有的，因此您无法从静态函数访问它）

为避免这种情况，请始终使用 AssestList。

# ruby - 在 ruby 的方法中获取本地范围，a la PERL'S my

> ID：15267607
> 
> 赞同：0
> 
> 时间：2013-03-07T09:36:12.517
> 
> 标签：ruby, scope

我正在从 PERL 转换为 Ruby。我在 PERL 中喜欢的一件事是能够通过使用我的命令在 sub 中拥有本地范围。IE 此代码不起作用，因为 $only_in_the_if 超出范围。

```
...
if (cond) {
my ($only_in_the_if) = bar($foo );
}
bar1($only_in_the_if) ; #can't work, $only_in_the_if scope is finished
... 
```

在 Ruby 中，only_in_the_if 将出现在方法范围内。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T12:19:21.687

Ruby 的代码块与 Perl 和 AFAIK 的代码块不同，没有简单的方法可以将变量声明性地限定为仅在复合语句（例如 if）中的词法范围内。

您可以使用 Taryn 建议的代码块。我不确定收益是否会超过成本（在执行速度和与其他 Ruby 开发人员工作方式的差异方面）。

另一个简单的解决方案是保持复合语句的轻量级，并依靠更短的方法来实现严格的变量范围。在 Perl 中，您可能会编写一个 30 行的方法，在 ifs 和 fors 中有 4 或 5 行的小子块，而在 Ruby 中，可以使用具有主要流程的控制方法来完成相同的流程和范围，以及几个变量范围的私有方法。这些方法之间共享的数据可以是对象状态（在@变量中）或控制方法中的范围变量，这些变量作为参数传递给私有方法。

```
def main_method foo
  if (cond)
    bar foo
  end
end

private 
def bar param
 only_in_bar = Math.whatever(param)
 # Do some stuff with only_in_bar
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T11:21:49.007

简单范围显然不在条件范围内...

```
irb(main):001:0> if my_cond
irb(main):002:1>   my_var = 'blah'
irb(main):003:1>   puts my_var
irb(main):004:1> end
blah
=> nil
irb(main):005:0> puts my_var
blah
=> nil 
```

但是你可以使用一个块来强制作用域......即使它有点奇怪。

```
irb(main):006:0> 1.times { new_var = 'blah'; puts new_var } if my_cond
blah
=> 1
irb(main):007:0> new_var
NameError: undefined local variable or method `new_var' for main:Object
    from (irb):7
    from :0 
```

如果您愿意，您可以将其元编程到一个名为“my”的方法中；）

# qt - OpenCV 2.3.1 Qt cv::calcOpticalFlowPyrLK 返回相同的点

> ID：15267613
> 
> 赞同：1
> 
> 时间：2013-03-07T09:36:22.253
> 
> 标签：qt, opencv

我正在使用`OpenCV 2.3.1`并且`Qt`我遇到了问题`cv::calcOpticalFlowPyrLK`。我正在使用`oodFeaturesToTrack`并`calcOpticalFlowPyrLK`跟踪我之前检测到的人脸。

```
std::vector<cv::Point2f> Feat;
GrayFrame=FrameBuffer->GetFrame();

cv::goodFeaturesToTrack(GrayFrame,
                        Feat,
                        maxcorners,
                        qualitylevel,
                        mindistance);

while(1){
    std::vector<cv::Point2f> NewFeat;
    std::vector<uchar> status;
    std::vector<float> err;
    GrayFramePrev=GrayFrame.clone();
    GrayFrame=FrameBuffer->GetFrame();

    cv::calcOpticalFlowPyrLK(GrayFramePrev,
                             GrayFrame,
                             Feat,
                             NewFeat, 
                             status,
                             err);

    Feat=NewFeat;
}//while(1) 
```

`GrayFrame`从缓冲区获取图像，我存储从网络摄像头捕获的图像，`GrayFrame`并在它们位于 c 时`GrayFramePrev`包含正确的图像，并且 Feat 参数包含来自. 但是在执行时，它会通过 NewFeat 返回完全相同的点。`(GrayFrame -> FrameBuffer[i], GrayFramePrev -> FrameBuffer[i-1])``v::calcOpticalFlowPyrLK``goodFeaturesToTrack``calcOpticalFlowPyrLK`

请告诉我我做错了什么``calcOpticalFlowPyrLK`

## **解决方案（对我而言）**

我使用了以下参数并且它起作用了（我可能也混淆了 Feat 和 NewFeat 所以这就是问题所在）。

```
cv::calcOpticalFlowPyrLK(GreyFramePrev,
                         GreyFrame,
                         Feat,
                         NewFeat,
                         status,
                         err,
                         *WinSize,
                         maxLevel,
                         *TermCrit,
                         derivLamda,
                         LKflags,
                         minEigThreshold); 
```

**参数值**

```
WinSize= new cv::Size(31,31);
maxLevel=3;
TermCrit= new cv::TermCriteria(CV_TERMCRIT_ITER|CV_TERMCRIT_EPS,20,0.03);
derivLamda=0;
LKflags=0;    
minEigThreshold=0.001; 
```

# javascript - 如何检查 dialogExtended Div 是否处于最小化位置

> ID：15267620
> 
> 赞同：0
> 
> 时间：2013-03-07T09:36:39.313
> 
> 标签：javascript, jquery, jquery-ui

我有一个像这样的扩展 div：

```
var $chatTemplateDiv = $('#ChatTemplate');
 var dialogExtendOptions = {
     "close": true,
     "maximize": false,
     "minimize": true,
     "dblclick": 'minimize',
     "titlebar": 'transparent',
     "restore": function (event, ui) {

     }
 };
 $chatTemplateDiv.dialog({
         title: ClientName,
         width: 360,
         height: 320,
         modal: false,
         resizable: false,
         maxHeight: 500,
         focus: function (event, ui) {
             $("#ToClientID").val(ToClient); 

         },
         open: function (event, ui) {

             $(this).animate({
                 scrollTop: $(this).scrollTop() + 10000000
             });

         }
     }).dialogExtend(dialogExtendOptions); 
```

我怎么知道用户是否最小化了 div ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:56:16.340

如果您正在使用此插件[https://code.google.com/p/jquery-dialogextend/](https://code.google.com/p/jquery-dialogextend/) 那么您可以这样做：

它包含两个事件`beforeMinimize`，`minimize`因此请尝试其中一个适合您的事件。

```
 var dialogExtendOptions = {
     "close": true,
     "maximize": false,
     "minimize": true,
     "dblclick": 'minimize',
     "titlebar": 'transparent',
     "restore": function (event, ui) {

     },"events" : {
          "beforeMinimize" : function(evt, dlg){ alert(evt.type+"."+evt.handleObj.namespace); },
          "minimize" : function(evt, dlg){ alert(evt.type+"."+evt.handleObj.namespace); }
        }
 }; 
```

然后按照您在上面的问题中编写的代码编写其余代码。

**编辑**

好的，正如您所说，您想确定它是否已最小化。所以你可以这样做：

如官方文档中所述：

```
switch ( $("#my-dialog").dialogExtend("state") ) {
  case "maximized":
    alert("The dialog is maximized");
    break;
  case "minimized":
    alert("The dialog is minimized");
    break;
  case "collapsed":
    alert("The dialog is collapsed");
    break;
  default:
    alert("The dialog is normal");
} 
```

每当您想确定它是否已最小化时，请使用它。

因此，如果您想在单击按钮时确定您的对话框是否已最小化，您可以这样做：

```
$("#yourbutton").on('click',function(){
switch ( $('#ChatTemplate').dialogExtend("state") ) {
  case "minimized":
    alert("The dialog is minimized");
    }

}); 
```

# wpf - 在 WPF 中将 PageContent/FixedPage 添加到 FixedDocument 的正确方法是什么？

> ID：15267621
> 
> 赞同：10
> 
> 时间：2013-03-07T09:36:46.140
> 
> 标签：wpf, document, fixeddocument

在 WPF 中，为了将 a 添加`FixedPage`到`FixedDocument`代码中，需要：

```
var page = new FixedPage();
var pageContent = new PageContent();

((IAddChild)pageContent).AddChild(page); 
```

然而，这似乎是唯一的方法：

*   MSDN 文档明确指出不应该这样做（'此 API 支持 .NET Framework 基础结构，不打算直接从您的代码中使用。'- [PageContent.IAddChild.AddChild 方法](http://msdn.microsoft.com/en-us/library/bb495750.aspx)）。

*   为了将内容添加到`PageContent`.

*   进行基本的操作并不简单`PageContent`。

该文档实际上并未解释如何执行此操作，而且我找不到有关如何执行此操作的任何其他信息。还有其他方法吗？一个“正确”的方式？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-09T19:16:23.987

根据 MSDN 文档，您只需将`FixedPage`对象添加到`PageContent.Child`属性，然后`FixedDocument`通过调用 `FixedDocument.Pages.Add`方法将其添加到 。

例如：

```
public FixedDocument RenderDocument() 
{
    FixedDocument fd = new FixedDocument();
    PageContent pc = new PageContent();
    FixedPage fp = new FixedPage();
    TextBlock tb = new TextBlock();

    //add some text to a TextBox object
    tb.Text = "This is some test text";
    //add the text box to the FixedPage
    fp.Children.Add(tb);
    //add the FixedPage to the PageContent 
    pc.Child = fp;
    //add the PageContent to the FixedDocument
    fd.Pages.Add(pc);

    return fd;
} 
```

# grails - Grails：尝试仅验证命令对象的部分属性但得到异常

> ID：15267622
> 
> 赞同：1
> 
> 时间：2013-03-07T09:36:51.217
> 
> 标签：grails

根据官方文档，我可以将属性列表作为参数传递给`validate()`. 但是当我尝试调用`validate()`这样的命令对象时：

```
groupCmd.validate(['startDate']) 
```

我得到如下异常：

```
groovy.lang.MissingMethodException: No signature of method: GroupCommand.validate() is     
applicable for argument types: (java.util.ArrayList) values: [[startDate]] 
```

这是否意味着只有在`validate()`域类实例上使用时，才能传递要验证的属性列表，而不是命令对象？

是否有一些方法可以验证命令对象的某些属性？

我使用 grails 1.3.7

最好的问候
感谢 Mualig 格式化我的文章

# iphone - 想要制作吹蜡烛

> ID：15267623
> 
> 赞同：-6
> 
> 时间：2013-03-07T09:36:53.590
> 
> 标签：iphone, ios

我想在我的应用程序中创建吹蜡烛。所以，请有人指点我一些教程，给我一些想法，我该怎么做。我应该为此使用OpenGL吗？比向我指出关于 OpenGL 的好教程。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:51:48.237

从您的 graphix 团队获取一些吹蜡烛的图像，并使用此代码为它们制作动画

```
NSArray *imagesArray=[NSArray arrayWithObjects:
                                          [UIImage imageNamed:@"blowingCandle1.jpg"],
                                              [UIImage imageNamed:@"blowingCandle2.jpg"],
                                              [UIImage imageNamed:@"blowingCandle3.jpg"],
                                           [UIImage imageNamed:@"blowingCandle4.jpg"],
                            nil];
UIImageView *blowCandleImageView=[[UIImageView alloc]initWithFrame:CGRectMake(0, 0,80, 240)];
blowCandleImageView.backgroundColor=[UIColor blackColor];
blowCandleImageView.animationImages=imagesArray;
blowCandleImageView.animationDuration=1.0;
blowCandleImageView.animationRepeatCount=0;
[blowCandleImageView startAnimating]; 
[self.view addSubView:blowCandleImageView]; 
```

# google-maps - 有没有办法更新谷歌我的地方programmaticay

> ID：15267624
> 
> 赞同：0
> 
> 时间：2013-03-07T09:36:53.997
> 
> 标签：google-maps

我知道我可以生成 KML 文件并手动上传到谷歌地图，但有 API 或以编程方式执行此操作的方法吗？我在 Google Map Api V3 的文档中找不到任何内容？

# android - Google playN vs 安卓游戏引擎

> ID：15267625
> 
> 赞同：2
> 
> 时间：2013-03-07T09:36:57.550
> 
> 标签：android, game-engine, playn

我目前使用 andEngine 在 Android 上开发了 4 款多人游戏。

问题是引擎有点死了（过去 8 个月没有提交），我想开始开发另一个好的引擎。

我看到了 playN，它看起来很有希望，但我的目标只是 Android 设备（可能是 iOs）。

所以，如果我只针对移动设备，使用 playN 与特定的 android 游戏引擎的优缺点是什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T10:03:16.853

有趣的问题。这是我的观点。

就个人而言，作为 PlayN 的忠实粉丝，如果将其与特定的 android 游戏引擎进行比较，我无论如何都会看到**一个缺点。****PlayN 只使用 OpenGL ES 2**，如果你想开发一个兼容性大的简单 2D 游戏，这是一个真正的问题。例如，它不适用于三星 ACE。

但是，我看到了很多**优点**：

*   测试。**使用 PlayN 进行测试真的很棒**。您不必加载沉重的模拟器。您加载测试，您可以在本机窗口中播放它。

*   Maven一代非常棒！您的所有项目都可以通过简单的命令行使用 maven 生成、测试和运行。我知道这比 PlayN 的优势更像是一个 maven 优势，但 PlayN 与它的关系非常好。**在两个命令行中，您可以创建项目并对其进行测试**（因为它带有示例代码）

*   您只想为 Android 开发，这很好，但**不要关上门**。您可以为 android 开发您的游戏，测试并发布它。如果人们喜欢它，你不必做太多工作就可以在下个月将它发布到 iPhone 上。

这正是我的想法。我希望它有所帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-10T18:34:22.963

我不是专家，但从我在 PlayN 网站上看到的情况来看，你无法将 AndEngine 与 PlayN 进行比较。PlayN 不是游戏引擎，它是一个帮助您在多个平台上编译游戏的库。

顺便说一句，你说 AndEngine 中没有活动，但我刚刚检查了一下，嗯，它并不多，但该项目似乎在[github](https://github.com/nicolasgramlich/AndEngine)中还活着。

另外，我想在讨论中引入另一个引擎：[libgdx](https://code.google.com/p/libgdx/)。

我正在考虑为 android 创建一些视频游戏，并且正在对游戏引擎进行一些研究，到目前为止，我在免费引擎中发现的最有前途的是 libgdx。你怎么看待这件事？

# jquery - 从通过ajax加载的jquery对话框返回值

> ID：15267626
> 
> 赞同：1
> 
> 时间：2013-03-07T09:37:00.570
> 
> 标签：jquery, asp.net, ajax, vb.net, dom

我希望对 WAS 工作的东西有所了解，但现在不行，我不明白为什么。

这是在 VB 和 jquery 中使用 asp.net。

我有一个页面，上面有一个约会选择屏幕，该屏幕显示一个分支列表以及使用转发器的每个分支的可用约会数量。

单击具有规定数量的约会的块之一后，jquery 通过跨分支和日期的 ajax 调用另一个 .aspx 页面。此页面使用这些来生成显示日期的表单。通过 ajax 返回的 HTML 然后用于填充 div 的 HTML 元素，该元素显示为 JQuery 对话框。

在此对话框中是每个可用时间的链接，单击该链接后，名为 time_selected 的文本框将填充“[” & Selected_Time & “]”，名为 time_id 的文本框将填充“|” & Select_Booking_Slot_ID & "ǁ"

在对话框的初始加载中，我们有关闭事件，它获取对话框的 HTML（包括文本框）并使用日期和 ID 周围的分隔符对其进行解析，以获取我们需要的信息。

现在我强调这个 WAS 在页面的一个实例上工作，我已经创建了同一页面的移动版本，但它不再工作......还回去与原来的比较我发现原来的不再工作。

返回的 HTML 不再包含已附加的文本框的内容。

这是加载选择页面并将其放入带有关闭事件的对话框的代码，该关闭事件位于主页中。

```
 $("a.showslots").click(function () {
            $("#<%=bookingslot_branch.ClientID %>").val($(this).attr('branch'));
            $("#<%=bookingslot_date.ClientID %>").val($(this).attr('date'));
                       $.ajax({
                           url: "appointment_select_small.aspx?slots=" + $(this).attr('id') + "&date=" + $(this).attr('date') + "&branch=" + $(this).attr('branchtext') + "&branchid=" + $(this).attr('branch'),
                           context: document.body
                       }).done(function (data) {
                           $("#Slots").html(data);
                           $("#Panel_Slots").dialog({
                               modal: true,
                               resizable: false,
                               close: function (event, ui) {
                                   var data = $("#Panel_Slots").html();
                                   var test_str = data;

                                   var start_pos = test_str.indexOf('[') + 1;
                                   var end_pos = test_str.indexOf(']', start_pos);
                                   var text_to_get = test_str.substring(start_pos, end_pos);

                               var start_pos1 = test_str.indexOf('ǀ') + 1;
                               var end_pos1 = test_str.indexOf('ǁ', start_pos1);
                               var text_to_get1 = test_str.substring(start_pos1, end_pos1);

                               if (text_to_get.length != 0) {
                                   $("#<%=bookingslot_time.ClientID %>").val(text_to_get);
                                   $("#<%=bookingslot_id.ClientID %>").val(text_to_get1);
                                   $("#<%=btn_bookingslot_click.ClientID %>")[0].click();
                               }
                               //$(this).remove();
                               return false;
                           }
                       }).parent().find('.ui-dialog-titlebar-close').hide();
                       $("#Panel_Slots").dialog('open');
                       $("#Panel_Slots").position({
                           of: window,
                           my: "center center",
                           at: "center center"
                       });
                   });
                   return false;
               }); 
```

然后这里是约会选择小.aspx中的代码

```
 $("a.bookappointment").click(function () {
                $("#time_selected").val("[" + $(this).attr('id') + "]");
                $("#time_id").val("ǀ" + $(this).attr('bid') + "ǁ");
                $("#Panel_Slots").dialog('close');
                return false;
            }); 
```

任何帮助将不胜感激，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:14:09.017

现在已经解决了，我试图向 DOM 添加额外的元素然后尝试读取它，我真的很困惑这个问题。我在 jQuery 中找到了绑定函数，因此在加载 ajax 之后，我将事件绑定到新创建的 A 标记，并且直接提取我需要的属性。

# crystal-reports - 如何在主页面显示子报表？

> ID：15267627
> 
> 赞同：-1
> 
> 时间：2013-03-07T09:37:01.873
> 
> 标签：crystal-reports, crystal-reports-xi, crystal-reports-8.5

```
Table
----------------------------------------
property |  Tenant  |  Types  |  Amount
----------------------------------------
p1            t1     Commercial   1000
p1            t1     Residential  1000
p1            t2     Commercial   1000
p1            t2     Residential  1000
p2            t1     Commercial   1000
p2            t1     Residential  1000
p2            t2     Commercial   1000
p2            t2     Residential  1000
--------------------------------------- 
```

我想在水晶报表中这样显示：

```
p1   t1
     --------------------
     |Commercial   1000 |
     |Residential  1000 |
     --------------------

p1   t2
     --------------------
     |Commercial   1000 |
     |Residential  1000 |
     --------------------

p2   t1
     --------------------
     |Commercial   1000 |
     |Residential  1000 |
     --------------------

p2   t2
     --------------------
     |Commercial   1000 |
     |Residential  1000 |
     -------------------- 
```

我想显示在主页面中显示的 p1、t1、p2、t2 子端口的剩余内容。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T14:00:57.897

另一种选择是将交叉表对象添加到报表的标题部分。

![在此处输入图像描述](../Images/fc16ab14921e978268ee8fa738249bff.png)

将属性，然后租户添加到行部分；将类型添加到列部分；将金额添加到汇总部分。您可能还想“显示标签”：

![在此处输入图像描述](../Images/ad5dddbdee49b3eaef0a4869afdf1e63.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T13:32:47.913

您真的不需要为此创建子报表；您可以对数据进行分组，使其以这种方式显示。

*   为（Group 1）创建一个组`property`，并抑制页眉和页脚
*   `Tenant`在其下方为（组 2）创建一个组。将`property`and`Tenant`字段放在 Group 2 标题中。
*   将您的`Types`和`Amount`列添加到详细信息部分。

# mysql - 是否有必要在hibernate中安装HSQL而不是MYSQL作为DATABASE？

> ID：15267634
> 
> 赞同：0
> 
> 时间：2013-03-07T09:37:18.097
> 
> 标签：mysql, hibernate, hsqldb

对于带有数据库的休眠项目。我们必须安装 HSQL。同样的工作也可以通过MYSQL来完成。有必要在java中用hibernate安装HSQL而不是MYSQL吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:28:44.137

不，它没有必要`HSQL`用于相同的用途。你也可以用`MySql`。您只需要使用相应的驱动程序对其进行配置，如此[链接中所述](http://pookey.co.uk/wordpress/archives/60-hibernate-with-mysql-a-beginners-guide)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T10:34:04.003

使用 Hibernate，您可以使用相同的代码连接到 HSQL、MySQL 或其他数据库。您只需更改 jdbc 连接器配置并使用相应的 jdbc 库。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T10:09:17.210

Hiberante 是一个[ORM 框架](http://en.wikipedia.org/wiki/Object-relational_mapping)。它不依赖于任何数据库。

# c# - 如何删除 ListView 中的项目？

> ID：15267636
> 
> 赞同：1
> 
> 时间：2013-03-07T09:37:30.280
> 
> 标签：c#, asp.net, listview, listviewitem

我想删除我的 asp.net ListView 中的一个条目，但它不适用于我的代码。

我的代码：

```
protected void ListView_ItemCommand(object sender, ListViewCommandEventArgs e)
        {

            if (e.CommandName == "Delete")
            {
                int index = Convert.ToInt32(e.CommandArgument);

                int listcount = ListView.Items.Count;

                if (listcount - 1 == index)
                {
                    ListView.Items.RemoveAt(index); //go do ListView_Deleting 
                }

            }

        }

        protected void ListView_SelectedIndexChanging(object sender, EventArgs e)
        {
            //
        }

        protected void ListView_Deleting(object sender, EventArgs e)
        {
            //
        } 
```

我的aspx：

```
 <div class="InputControlBox">
            <asp:ListView ID="ListView" runat="server" OnItemCommand="ListView_ItemCommand"
            OnSelectedIndexChanging="ListView_SelectedIndexChanging" OnItemDeleting="ListView_Deleting">
                <LayoutTemplate>
                    ...
                </LayoutTemplate>
                <ItemTemplate>
                  ...
                </ItemTemplate>
            </asp:ListView>
        </div> 
```

错误在哪里？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-07T09:44:59.730

你可以使用代码

```
if (e.CommandName == "Delete")
        {
            int index = Convert.ToInt32(e.CommandArgument);

            int listcount = ListView.Items.Count;

            if (listcount - 1 == index)
            {
                dataTable.Rows[index].Delete();

                ListView.datasource = datatable;
                ListView.DataBind();
            }

        } 
```

其中 dataTable 是您绑定到 ListView 的数据源。

# android - ViewPager 中的 Android 片段

> ID：15267640
> 
> 赞同：0
> 
> 时间：2013-03-07T09:37:41.847
> 
> 标签：android, android-fragments

我对整个 Fragment 的思维方式有点困惑。我遵循了一个关于如何创建一个`ViewPager`类似应用程序`Fragments`的教程`Google Play`。

我有这样的 TabFragment 类：

```
public class SwipeyTabFragment extends SherlockFragment {

    @Override
    public void onCreate(Bundle b) {
        super.onCreate(b);
        Log.e("FRAGMENT: ", "Hello World!"); 
    }

    public static Fragment newInstance(String title) {
        SwipeyTabFragment f = new SwipeyTabFragment();
        Bundle args = new Bundle();
        args.putString("title", title);
        f.setArguments(args);
        return f;
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        ViewGroup root = (ViewGroup) inflater.inflate(R.layout.fragment_swipeytab, null);
        final String title = getArguments().getString("title");
        ((TextView) root.findViewById(R.id.text)).setText(title);
        return root;
    }
} 
```

我知道该`onCreateView`方法初始化布局和控件`Button`，`ListView`等等。

到我的`FragmentAdapter`

```
private class SwipeyTabsPagerAdapter extends FragmentPagerAdapter implements SwipeyTabsAdapter {

        private final Context mContext;

        public SwipeyTabsPagerAdapter(Context context, FragmentManager fm) {
            super(fm);
            this.mContext = context;
        }

        @Override
        public Fragment getItem(int position) {
            return SwipeyTabFragment.newInstance(TITLES[position]);
        }

        @Override
        public int getCount() {
            return TITLES.length;
        }

        public TextView getTab(final int position, SwipeyTabs root) {
            TextView view = (TextView) LayoutInflater.from(mContext).inflate(R.layout.swipey_tab_indicator, root, false);
            view.setText(TITLES[position]);
            view.setOnClickListener(new OnClickListener() {
                public void onClick(View v) {
                    mViewPager.setCurrentItem(position);
                }
            });
            return view;
        }

    } 
```

这只会基于字符串数组构造一个新选项卡，它将设置文本和`Fragment`.

所以这就是我感到困惑的地方。例如，我想要几个具有不同布局的片段，以及当用户按下时的不同交互方式`Button`，`Picture`或其他任何东西。我该怎么做？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:49:07.697

所有“用户按下按钮”的内容都在片段中处理，您当然可以在需要时回调`Activity`（参见[此处](http://developer.android.com/training/basics/fragments/communicating.html)）。您必须为不同的布局、逻辑创建不同的片段类。等并将它们返回到`getItem`. 你可以有一个 FirstPageFragment 和一个 SecondPageFragment，然后在`getView`. 这只有在这些片段当然具有不同的功能时才有意义。希望我的意思很清楚；）

编辑：至于您的评论：

我不知道你到底想做什么，但你`SwipeyTabFragment`已经在它自己的文件中定义了。然后拿这个，修改它，给它另一个布局和其他功能，然后把它叫做 OtherFragment 或其他什么。假设你想在你的 App 中有 2 个不同的“页面”——`getCount()`适配器中的方法定义了你的“页面”的数量`ViewPager`，所以让它返回两个。在`getItem()`方法中，`if` `position`是0，让它返回你的`SwipeyFragment`，`else`（`position`是1）让它返回你的新的`OtherFragment`。现在你有`ViewPager`2 个不同的 Fragment 可以用于完全不同的目的。

# asp.net - 如何从 .t tf、.dwg、.indd、.fm、.pmd、.p65、.ppt、.odt 和 .xls 中提取数据和图像

> ID：15267643
> 
> 赞同：0
> 
> 时间：2013-03-07T09:37:44.323
> 
> 标签：asp.net, adobe, ms-office, tiff, openoffice.org

我想从下面给出的以下格式中提取 asp.net 中的内容（数据）以及图像：“ . **ttf** **、****.dwg、.indd、.fm、.pmd、.p65、.ppt、.odt 和 .xls** ”

 ****是否有可用的开源或购买的 SDK？

现在我只有.dwg文件的解决方案..

提前致谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:48:04.673

.odt 只是一个压缩包文件。在捆绑包中，您将找到图像和 XML 格式的数据。****

# iphone - 从一个 ModalViewController 更改为另一个而不显示父视图

> ID：15267644
> 
> 赞同：0
> 
> 时间：2013-03-07T09:37:44.913
> 
> 标签：iphone, cocoa-touch, ios6

在我的 iOS/iPhone 应用程序中，我使用了一个根视图，该视图在启动后显示了一个登录表单（显示为模态视图）。用户输入登录数据后，应显示另一个视图：

```
[self dismissModalViewControllerAnimated:NO];
// Init UIViewController collector
collector.modalTransitionStyle = UIModalTransitionStyleFlipHorizontal;
[self presentModalViewController:collector animated:YES] 
```

会发生什么：

*   登录视图被关闭，显示根视图
*   根视图翻转到收集器视图

我想做的事

*   登录视图翻转到收集器视图（不显示根视图）

如果我在步骤 1 中启用动画，我会收到一个动画正在运行且未显示视图 2 的错误。绝对清楚。任何建议如何解释我不希望根视图闪烁的 iOS 6？谢谢！

# iphone - uitableview延迟加载中设置什么条件加载图片

> ID：15267645
> 
> 赞同：0
> 
> 时间：2013-03-07T09:37:46.430
> 
> 标签：iphone, uitableview

我从 json 中获取图像并将所有图像 url 放入数组中，而不是再次调用 json。现在我不知道如何设置它在表格滚动时加载图像的条件。这是我为此调用的方法。

```
+ (NSMutableArray *) createImg: (NSArray*)sampleData
{
NSMutableArray *arrImg = [[NSMutableArray alloc]init];
for(int i=1; i<=[sampleData count]; i++)
{
NSString *strOfUrl = [sampleData objectAtIndex:i];
UIImage *img = [UIImage imageWithData:[NSData dataWithContentsOfURL:[NSURL URLWithString:strOfUrl]]];
    if(img == NULL)
    {
        NSLog(@"null no image");
    }
    else{
        [arrImg addObject:img];
    }   
}
return arrImg;
} 
```

请指导上述内容，如果不清楚，请随时提出任何问题。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:04:28.933

use this. It is perfect way to show images while scrolling: [https://github.com/enormego/EGOImageLoading](https://github.com/enormego/EGOImageLoading)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:41:54.027

我知道这可能不是您正在寻找的。但是，我建议您使用此[AsyncImageView](https://github.com/nicklockwood/AsyncImageView)。它将完成延迟加载所需的所有逻辑。此外，它会缓存图像。要调用此 API：

```
ASyncImage *img_EventImag = alloc with frame;
NSURL *url = yourPhotoPath;
[img_EventImage loadImageFromURL:photoPath];
[self.view addSubView:img_EventImage];  // In your case you'll add in your TableViewCell. 
```

这与使用 UIImageView 相同。很简单，它可以为您完成大部分工作。AsyncImageView 包括 UIImageView 上的一个简单类别，用于在 iOS 上异步加载和显示图像，以便它们不会锁定 UI，以及用于更高级功能的 UIImageView 子类。AsyncImageView 与 URL 一起使用，因此它可以与本地或远程文件一起使用。

加载/下载的图像缓存在内存中，并在出现内存警告时自动清理。AsyncImageView 独立于 UIImage 缓存运行，但默认情况下，位于应用程序包根目录中的任何图像都将存储在 UIImage 缓存中，以避免缓存图像的任何重复。

该库还可用于独立于 UIImageView 加载和缓存图像，因为它提供对底层加载和缓存类的直接访问。

# java - 编译hadoop java文件

> ID：15267647
> 
> 赞同：-1
> 
> 时间：2013-03-07T09:37:53.183
> 
> 标签：java, hadoop, mapreduce

我需要编译 Java Hadoop 程序。

我已经为 mapper 和 reducer 编译并获得了 .class 文件。

但是当我编译 mainjava 文件时，我不断收到这个错误。

![在此处输入图像描述](../Images/5db94261d0d2475de6e135fff9c639db.png) 那就是它不能指向映射器和减速器类文件。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:56:50.387

您必须将所有源文件提供给 javac

例子：

```
 javac -classpath /usr/local/hadoop/hadoop-core-1.0.4.jar -sourcepath src/ -d build/ MyMain.java MyMapper.java MyReducer.java 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-04T00:06:46.537

hadoop-core-${VERSION}.jar 位于 ${HADOOP_HOME}/share/common 目录中。

```
javac --classpath=${HADOOP_HOME}/share/common/hadoop-core-${HADOOP_VERSION}.jar YourClass.java 
```

会做的工作。

# codenameone - 单击按钮或复选框更改表单视图

> ID：15267648
> 
> 赞同：0
> 
> 时间：2013-03-07T09:37:55.847
> 
> 标签：codenameone, lwuit-form

我必须制作一个表格代号，其中有一个复选框。如果复选框被选中，那么下面我想显示 2 个组合框，如果未选中复选框，那么我想显示 2 个文本字段。

我该怎么做。

我试过 setVisible(true/false) 但标签或文本字段占用的空间永远不会被掩盖。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:45:44.767

您需要删除/添加组件，然后调用其中一个`revalidate()`或`animateLayout(int)`刷新 UI。

# sql - 如何在数据库中查询这个？

> ID：15267653
> 
> 赞同：0
> 
> 时间：2013-03-07T09:38:06.357
> 
> 标签：sql

我有 2 张桌子

表格1

```
Positon | Name | Nickname | Address
------------------------------------
   1    |   2  |    3     |    4
   5    |   6  |          |    7
   5    |   6  |          |    8 
```

表 2

```
Detail_seq | Details
--------------------
     1     |  manager
     2     |  Jimmy
     3     |  Jim
     4     |  Chicago
     5     |  Supervisor
     6     |  Mike
     7     |  Vancouver
     8     |  New York 
```

并且输出应该是这样的

```
Position: Manager
Name: Jimmy
Nickname: Jim
Address: Chicago

Position: Supervisor
Name: Mike
Nickname:
Address: Vancouver and New York 
```

如果不清楚，请随时提出问题。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:47:25.107

以这种方式存储数据有点极端。我可以让您将数据类别存储在不同的表中。但如果你坚持，这应该工作

```
SELECT d1.details, d2.details, d3.details, d4.details
FROM main m, details d1, details d2, details d3, details d4
WHERE m.position = d1.detail_seq 
AND   m.name     = d2.detail_seq
AND   m.nickname = d3.detail_seq
AND   m.adress   = d4.detail_seq 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:48:45.723

您需要为每个详细信息加入一次详细信息表：

```
 SELECT pos.Details, name.details, nick.details, adress.details
    FROM table1 t1
    LEFT JOIN table2 pos     ON pos.detail_seq = t1.position
    LEFT JOIN table2 name    ON name.detail_seq = t1.name
    LEFT JOIN table2 nick    ON nick.detail_seq = t1.nickname
    LEFT JOIN table2 address ON address.detail_seq = t1.address 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T09:51:05.077

我认为这就是你想要的：

```
SELECT Position=manager.details, 
       Name=Name.details, 
       Nickname=Nickname.details, 
       Address=Address.details 
FROM   table1 t1 
       LEFT OUTER JOIN table2 manager 
                    ON t1.positon = manager.detail_seq 
       LEFT OUTER JOIN table2 name 
                    ON t1.name = name.detail_seq 
       LEFT OUTER JOIN table2 Nickname 
                    ON t1.nickname = Nickname.detail_seq 
       LEFT OUTER JOIN table2 Address 
                    ON t1.address = Address.detail_seq 
```

[**演示**](http://www.sqlfiddle.com/#!3/12ab2/1/0)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T09:59:00.443

```
select (select details from t2 where t2.detail_seq=t1.position) position,
       (select details from t2 where t2.detail_seq=t1.name) Name,
       (select details from t2 where t2.det_seq=t1.nickname) nickname,
       (select details from t2 where t2.det_seq=t1.address) address
from t1 ; 
```

# actionscript-3 - 为 Stage3D 对象添加光晕

> ID：15267659
> 
> 赞同：2
> 
> 时间：2013-03-07T09:38:42.813
> 
> 标签：actionscript-3, stage3d, agal

我正在制作 Stage3D 太空游戏：www.sugarspook.com/darkmatters/demo.html，我想为一些对象添加“发光”。

有没有办法仅在 AGAL 着色器中执行此操作，或者我是否需要预渲染发光对象并“模糊”它们？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:32:31.753

是的，您需要先预渲染纹理。这是我要做的：

*   将对象预渲染到纹理。
*   多次下采样到所需大小（更多下采样 = 更大辉光）。
*   应用某种模糊（我更喜欢高斯）。
*   用一些颜色着色模糊的纹理。
*   上采样。
*   使成为。

您可以[查看](http://nekobit.puslapiai.lt/outer-glow-for-alternativa3d/)我在博客中发布的示例。它适用于 Alternativa3D，但可能很有用，因为原理在任何地方都是相同的。这是整个库的[github 链接。](https://github.com/Varnius/Alternativa3DCustomMaterials)

# java - 为什么在我的情况下服务没有启动？

> ID：15267660
> 
> 赞同：2
> 
> 时间：2013-03-07T09:38:51.887
> 
> 标签：java, android

我对 Android 很陌生，我正在尝试了解该服务。

我的清单文件看起来：

```
 <!--The invoice launcher service-->
    <service android:process=":invoice_background"
             android:name="InvoiceManagerService"
             android:label="invoice_service" />

    <!--The receiver-->
    <receiver android:name="InvoiceStartupReceiver"
              android:process=":invoice_background">
        <intent-filter>
            <action android:name="android.intent.action.BOOT_COMPLETED" />
        </intent-filter>
    </receiver> 
```

我的服务看起来像：

```
public class InvoiceManagerService extends Service {

    public IBinder onBind(Intent intent) {
        return null;
    }
} 
```

我的接收器看起来像：

```
public class InvoiceStartupReceiver extends BroadcastReceiver {

    public void onReceive(Context context, Intent intent) {

        Intent invoiceService = new Intent(context, InvoiceManagerService.class);
        context.startService(invoiceService);

    }
} 
```

我的应用程序正在执行，没有任何错误。但是没有创建任何服务！我在哪里犯错误？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:42:17.387

在清单中使用此权限

```
<uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T10:00:48.930

> 我对 Android 很陌生

因为这句话我建议你使用 an`IntentService`而不是`Service`因为 IntentService 更容易使用。[我为另一个答案](https://stackoverflow.com/questions/14835601/androidhow-to-create-a-button-to-get-file-from-the-web/14837545#14837545)写了一些基本代码，这个人想要下载一个文件，然后通知 Activity 这已经发生了。它将向您展示 IntentService 的正确使用以及如何调用任务完成。

# python - 如何使用 Python 的标准库 zipfile 检查条目是文件还是文件夹？

> ID：15267661
> 
> 赞同：4
> 
> 时间：2013-03-07T09:38:53.307
> 
> 标签：python, python-2.7, zip, zipfile

我有一个 zip 文件，我需要检查文件是文件夹还是文件而不提取它们。我可以使用是否为 0`file_size`的属性来检查它，`infolist`但这对于大小为 0 的文件是相同的。所以它没有用。

我查看了[ZIP 规范](http://www.pkware.com/documents/casestudies/APPNOTE.TXT)，但这也没有多大帮助。

如何使用 Python 的标准库 zipfile 检查条目是文件还是文件夹？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-07T09:48:54.460

如何检查文件名是否以 结尾`/`？

# c# - 如何在 Page_Load 之前捕获事件

> ID：15267662
> 
> 赞同：0
> 
> 时间：2013-03-07T09:38:53.437
> 
> 标签：c#, events, lifecycle

我在 ASP 及其生命周期中有一个反复出现的问题，即在 Page_Load 事件引发之前捕获事件。例如，这里我正在自定义一个 gridview，它继承自 gridView 类。我添加了一个下拉列表来选择要跳转的页面（PageIndexChanged）。一切都会很好，除了这个下拉列表的 SelectedIndexChanged 事件在我渲染它之后被调用（网格和我的下拉列表在每次回发时重新生成）。所以我无法在其中选择正确的值。

所以我的事件只在第二次回发时提出，我总是迟到一个回发。

该下拉列表被添加到 RowCreated 事件中。我在其他事件中尝试过，但它是否为时已晚或太早（如果太晚则不渲染，如果太早则缺少元素）。

有什么解决办法吗？

PS：我发现[这篇文章](http://forums.asp.net/t/894051.aspx/1#989724 "这里")可以帮助我，但我不知道该怎么做：

> 进行控制或继承/扩展时要考虑的要点：
> 
> 1.  您必须通过覆盖调用 base.CreateChildControls() 的 CreateChildControls 来创建要引发事件的任何项目，然后执行您想要的任何操作（即在您的情况下添加行）。
> 2.  列表项 DataBinding 您呈现的方式非常...非 kosher....您应该通过覆盖 DataBind() 来简化它，以便它清除子项，然后调用 EnsureChildControls()，然后添加新行...这样它很好的 ViewStated、持久化和事件管理。简单得多。
> 3.  再次列出项目：也不要太早创建子控件：避免直接在 OnInit 或 onLoad 中创建子控件。这是一个错误。最好是让系统在需要时调用 EnsureChildControls（它会在第一页加载时在 PreRender 中，在 PostBack 中，如果它有子事件，则在 OnInit 之后调用它）......更糟糕的是，让 OnInit、OnLoad调用 EnsureChildControls()。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:42:11.510

您所关注的 msdn 页面是[ASP.NET Page Life Cycle Overview](http://msdn.microsoft.com/en-us/library/ms178472%28v=vs.100%29.aspx)，它有一个有用的表格，告诉您在页面的整个生命周期中发生的所有事件。

您可能需要以下之一（来自上面的链接）：

**预初始化**

在启动阶段完成后和初始化阶段开始之前引发。

将此事件用于以下情况：

*   检查 IsPostBack 属性以确定这是否是第一次处理页面。此时还设置了 IsCallback 和 IsCrossPagePostBack 属性。
*   创建或重新创建动态控件。
*   动态设置母版页。
*   动态设置 Theme 属性。
*   读取或设置配置文件属性值。

**在里面**

在初始化所有控件并应用任何皮肤设置后引发。单个控件的 Init 事件发生在页面的 Init 事件之前。

使用此事件来读取或初始化控件属性。

**初始化完成**

在页面初始化阶段结束时引发。在 Init 和 InitComplete 事件之间只发生了一项操作：打开了对视图状态更改的跟踪。视图状态跟踪使控件能够保留以编程方式添加到 ViewState 集合的任何值。在打开视图状态跟踪之前，添加到视图状态的任何值都会在回发过程中丢失。控件通常在引发其 Init 事件后立即打开视图状态跟踪。

使用此事件更改您希望确保在下一次回发后保持不变的视图状态。

**预载**

在页面加载其自身和所有控件的视图状态之后以及在它处理包含在 Request 实例中的回发数据之后引发。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T15:21:23.743

[好的，由于我上面给出的文章和这篇](http://weblogs.asp.net/marcochila/archive/2007/09/28/gridview-a-great-control-to-extend.aspx/ "这个")文章以及大量搜索，我终于解决了我的问题：

```
public class MyGridView : GridView
{
    TextBox txtSearch;

    protected override int CreateChildControls(System.Collections.IEnumerable dataSource, bool dataBinding)
    {
        int numRows = base.CreateChildControls(dataSource, dataBinding);

        // Create a new row
        GridViewRow rowSearch = base.CreateRow(-1, -1, DataControlRowType.DataRow, DataControlRowState.Normal);

        //convert the existing columns into an array, initialize and then add the row to the previously created table
        DataControlField[] fields = new DataControlField[this.Columns.Count];
        this.Columns.CopyTo(fields, 0);
        this.InitializeRow(rowSearch, fields);

        TableCell cellSearch = new TableCell();
        rowSearch.Cells.Add(cellSearch);

        txtSearch = new TextBox();
        txtSearch.Text = this.SearchTextboxDefaultValue;
        txtSearch.ID = "txtSearch";
        txtSearch.AutoPostBack = true;
        txtSearch.TextChanged += new EventHandler(txtSearch_TextChanged);
        cellSearch.Controls.Add(txtSearch);

        this.Controls[0].Controls.Add(rowSearch); // Controls[0] is a Table element

        return numRows;
    }

    protected void txtSearch_TextChanged(object sender, EventArgs e)
    {
        string search = (sender as TextBox).Text;
        DataTable dt = new DataTable();

        // We fill in dt with results, and rebind it

        this.DataSource = dt;
        this.DataBind();
    }
} 
```

在 Page.cs 中：

```
private DataTable dt;

protected void Page_Load(object sender, EventArgs e)
{
    sampleDataTable();
    if (!Page.IsPostBack)
    {
        myGrid.DataSource = dt;
        myGrid.DataBind();
    }
}

private void sampleDataTable()
{
    // Populate the dataTable
} 
```

谢谢

# asp.net - 当按钮单击另一个 ascx 控件时显示 ascx 控件

> ID：15267663
> 
> 赞同：0
> 
> 时间：2013-03-07T09:38:54.123
> 
> 标签：asp.net, vb.net, ascx

我有一个 aspx 页面，上面有 5 个图像按钮。当您单击一个按钮时，相关的 ascx 控件会出现，而显示的那个控件会被隐藏。这些都工作正常。

我现在在页面上有第 6 个 ascx 控件，当单击其他 ascx 页面之一上的按钮时，我希望显示该控件。我在网上寻找解决方案，但运气不佳。

我正在使用 VB.Net 作为后面的代码

任何提示和技巧将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:42:58.670

（顺便说一句，我不赞成您使用的 Web 表单和“服务器端客户端事件”隐喻，因为它们无视构建 Web 的 RESTful 模型，尽管如此......）

在您的用户控件中创建一个新事件，用于单击他们的按钮，或直接公开该按钮，然后在您的页面中处理此按钮以显示新的第 6 个 ASCX。

这确实打破了封装并暴露了内部结构，但从事物的声音来看，您的项目已经是一团糟。

# list - lisp 列表连接

> ID：15267665
> 
> 赞同：-1
> 
> 时间：2013-03-07T09:39:05.003
> 
> 标签：list, lisp, concatenation, common-lisp

如何编写一个函数，它具有两个列表的参数并返回两个列表的连接，而不使用 append。

> 我知道如何获得第二个列表的头部，但我不知道如何将它放在第一个列表中，如果列表的头部也是一个列表，我该怎么办。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T12:46:34.003

如果我不得不这样做而不使用`APPEND`（无论出于何种原因），那么我可能会这样做：

```
(concatenate 'list list1 list2) 
```

`CONCATENATE`虽然我觉得这可能是一个家庭作业问题，而且这可能不是您正在寻找的答案，但您可以在[HyperSpec](http://www.lispworks.com/documentation/HyperSpec/Body/f_concat.htm)中找到更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:12:09.870

是否允许使用 LOOP 或 DO？

像这样的东西会起作用：

```
(defun my-concat (x y)
  (loop 
    for o in (reverse x)
    do (push o y)
    finally (return y))) 
```

如果循环不是一个选项，您可能想要使用递归。

# entity-framework - 实体框架代码首先在类布尔值和列整数之间转换

> ID：15267666
> 
> 赞同：5
> 
> 时间：2013-03-07T09:39:06.777
> 
> 标签：entity-framework, entity-framework-4, ado.net, entity-framework-4.1, entity-framework-5

我正在使用`Entity Framework 5 code first`. 我的表有一个名为的列`Active`，它的数据类型是 type `int`。`0`存储在 Active 中的值是`1`和`null`。

我有一个需要映射到该表的类。

```
public class CommandExecutionServer : IEntity
{
     public int Id { get; set; }

     public bool? IsActive { get; set; }
} 
```

这是我的配置文件。我正在尝试将我的类中的布尔属性映射到数据库中的整数字段。

```
class CommandExecutionServerConfiguration : EntityTypeConfiguration<CommandExecutionServer>
{
     internal CommandExecutionServerConfiguration()
     {
          this.ToTable("tblCommandExecutionServers");
          this.Property(x => x.IsActive).HasColumnName("Active").HasColumnType("bit");
     }
} 
```

这不是很好。我得到的错误是：

```
The 'IsActive' property on 'CommandExecutionServer' could not be set to a 'Int32' value. You must set this property to a non-null value of type 'Boolean' 
```

我尝试添加`.HasColumnType("bit")`并认为它可能会解决我的问题。我该怎么做呢？理想情况下，我希望 0 为假，1 为真，null 为空，任何其他数字为假。

**更新**

如果我将以上内容更改为：

```
this.Property(x => x.IsActive).HasColumnName("Active").HasColumnType("int"); 
```

...然后我收到以下错误：

```
Member Mapping specified is not valid. The type 'Edm.Boolean[Nullable=True,DefaultValue=]' of member 'IsActive' in type 'MyProject.Infrastructure.EntityFramework.CommandExecutionServer' is not compatible with 'SqlServer.int[Nullable=True,DefaultValue=]' of member 'Active' in type 'CodeFirstDatabaseSchema.CommandExecutionServer'. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:43:27.547

我尝试了以下操作，因为我不知道 Entity Framework 是否可以为我处理转换。

我删除了这一行：

```
this.Property(x => x.IsActive).HasColumnName("Active").HasColumnType("int"); 
```

然后我向我的添加了一个属性`CommandExecutionServer class`：

```
public class CommandExecutionServer : IEntity
{
     public int Id { get; set; }

     public int? Active { get; set; }

     public bool IsActive
     {
          get
          {
               return (Active == 1) ? true : false;
          }
     }
} 
```

可能有更好的方法，但现在这对我有用。如果有人可以更好，那么请继续:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-12-21T15:00:57.937

```
 SELECT   CONVERT(A.bitcolumn as bit) as bitout 
```

ado.net 将位转换为布尔值。因此，只需在 t-sql 中的 select 语句中将整数转换为位。

# jquery - 我想要禁用拖动。将图像拖放到目标并插入数据库时

> ID：15267672
> 
> 赞同：0
> 
> 时间：2013-03-07T09:39:17.583
> 
> 标签：jquery, drag-and-drop

```
$(document).ready(function() {

    $(".Shops").draggable({ revert: 'invalid'});
    $('#inventory').droppable();
    $('#slot2').droppable({ accept: '.Shops'});
    $('#slot1').droppable({ accept: '.Shops'});
    $('#slot2,#slot1,#inventory').bind('drop', function(ev,ui) { itemInSpot(ui.draggable,this); });

}); 
```

我想要禁用拖动。将图像拖放到目标并插入数据库时

# javascript - Javascript“不是函数”

> ID：15267673
> 
> 赞同：0
> 
> 时间：2013-03-07T09:39:17.643
> 
> 标签：javascript, closures

下面给出的代码给出了一个错误`arguments.sort`不是函数。是因为**参数**对象不能直接改变吗？或者是别的什么。

任何帮助，将不胜感激。

```
function highest()
{ 
    return arguments.sort(function(a,b){ 
         return b - a; 
    }); 
} 
assert(highest(1, 1, 2, 3)[0] == 3, "Get the highest value."); 
assert(highest(3, 1, 2, 3, 4, 5)[1] == 4, "Verify the results."); 
```

`assert`功能如下（以防万一）

```
function assert(pass, msg){
   var type = pass ? "PASS" : "FAIL";
   jQuery("#results").append("<li class='" + type + "'><b>" + type + "</b> " + msg + "</li>");
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T09:40:55.730

试试这个：

```
return [].sort.call(arguments, function(a, b) {
   return b - a;
}) 
```

**编辑：**正如@Esailija 指出的那样，这不会返回一个真正的数组，它只是返回`arguments`一个类似数组的对象。按索引迭代和访问属性很好，但仅此而已。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T09:40:25.783

这是因为`arguments`不是数组，也没有`sort`方法。

您可以使用此技巧将其转换为数组：

```
function highest()
{ 
    return [].slice.call(arguments).sort(function(a,b){ 
         return b - a; 
    }); 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:47:09.533

您的最高功能没有在内部传递任何参数

```
function highest(arguments)
{ 
    return arguments.sort(function(a,b){ 
         return b - a; 
    }); 
} 
```

并且应该使用数组

```
highest([1, 1, 2, 3])[0] 
```

# c++ - 引用未命名的临时对象（生命周期）

> ID：15267676
> 
> 赞同：4
> 
> 时间：2013-03-07T09:39:25.650
> 
> 标签：c++, reference, temporary, object-lifetime

从[ildjarn](https://stackoverflow.com/users/636019)阅读[此答案](https://stackoverflow.com/questions/11164982/stdostringstream-isnt-returning-a-valid-string/11165022#11165022)后，我编写了以下示例，它看起来像一个未命名的临时对象与其引用具有相同的生命周期！

*   这怎么可能？
*   它是否在 C++ 标准中指定？
*   哪个版本？

**源代码：**

```
#include <iostream>  //cout
#include <sstream>   //ostringstream 

int main ()
{
        std::ostringstream oss;
        oss << 1234;

        std::string const& str = oss.str();
        char        const* ptr = str.c_str();

        // Change the stream content
        oss << "_more_stuff_";
        oss.str(""); //reset
        oss << "Beginning";
        std::cout << oss.str() <<'\n';

        // Fill the call stack
        // ... create many local variables, call functions...

        // Change again the stream content
        oss << "Again";
        oss.str(""); //reset
        oss << "Next should be '1234': ";
        std::cout << oss.str() <<'\n';

        // Check if the ptr is still unchanged
        std::cout << ptr << std::endl;
} 
```

**执行：**

```
> g++ --version
g++ (GCC) 4.1.2 20080704 (Red Hat 4.1.2-54)
Copyright (C) 2006 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
> g++ main.cpp -O3
> ./a.out
Beginning
Next should be '1234':
1234 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-07T09:42:34.287

> 这怎么可能？

因为标准是这样说的，因为它被认为是有用的。右值引用和`const`左值引用延长了临时对象的生命周期：

> `[C++11: 12.2/5]:` *[..]*引用绑定到的临时对象或引用绑定到的子对象的完整对象的临时对象在引用的生命周期内持续存在，除了*[..]*

并且详尽的措辞`[C++11: 8.5.3/5]`要求我们不要将临时变量绑定到非`const`左值引用。

* * *

> 它是否在 C++ 标准中指定？哪个版本？

是的。他们都是。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-07T09:42:31.853

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-07T10:30:37.763

# asp.net-mvc - 如何从 Asp.net mvc2.0 中删除主键值？

> ID：15267686
> 
> 赞同：2
> 
> 时间：2013-03-07T09:39:50.510
> 
> 标签：asp.net-mvc, asp.net-mvc-2

我写了一个方法如下：

```
[HttpPost]
    public ActionResult Create([Bind(Exclude = "ProductID")]Product product)
    {
        try
        {
            db.Products.AddObject(product);
            db.SaveChanges();
            return RedirectToAction("Index");
        }
        catch
        {
            return View();
        }
    } 
```

在mvc2中成功创建Create.aspx页面后。

我运行应用程序，之后如果我点击创建新链接

它还将打开带有 ID 的 create.aspx。

如何从我的页面中删除 ID。

获取方法是：

公共动作结果创建（）

```
 {

        return View();

    } 
```

我的 HTML 页面如下所示：

## 创造

```
<% using (Html.BeginForm()) {%>

    <%: Html.ValidationSummary(true) %>

    <fieldset>

        <legend>Fields</legend>

        <div class="editor-label">

            <%: Html.LabelFor(model => model.ProductID) %>

        </div>

        <div class="editor-field">

            <%: Html.TextBoxFor(model => model.ProductID) %>

            <%: Html.ValidationMessageFor(model => model.ProductID) %>

        </div>

        <div class="editor-label">

            <%: Html.LabelFor(model => model.ProductName) %>

        </div>

        <div class="editor-field">

            <%: Html.TextBoxFor(model => model.ProductName) %>

            <%: Html.ValidationMessageFor(model => model.ProductName) %>

        </div>

        <div class="editor-label">

            <%: Html.LabelFor(model => model.Cost) %>

        </div>

        <div class="editor-field">

            <%: Html.TextBoxFor(model => model.Cost) %>

            <%: Html.ValidationMessageFor(model => model.Cost) %>

        </div>

        <div class="editor-label">

            <%: Html.LabelFor(model => model.Quantity) %>

        </div>

        <div class="editor-field">

            <%: Html.TextBoxFor(model => model.Quantity) %>

            <%: Html.ValidationMessageFor(model => model.Quantity) %>

        </div>

        <p>

            <input type="submit" value="Create" />

        </p>

    </fieldset>

<% } %>

<div>

    <%: Html.ActionLink("Back to List", "Index") %>

</div> 
```

谢谢大家。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T13:38:55.997

尝试将此属性添加到您的模型属性。这将防止它在前端显示。

```
 [HiddenInput(DisplayValue = false)] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:46:16.947

嗯，如何从您的视图中删除 id ？简单地。只需在 View 上删除它的声明。但这真的是你想要的吗？

例如，对于更新方案，您将需要 Id。所以如果你真的想删除 Id 你应该在你的模型上做，所以：

```
product.ProductId = null; 
```

# javascript - 解析 XML XMLHTTPRequest 时出错

> ID：15267689
> 
> 赞同：0
> 
> 时间：2013-03-07T09:39:59.157
> 
> 标签：javascript, xml, xmlhttprequest

大家好，我必须与外部服务器建立连接才能通过 XMLHTTPRequest 请求数据。我已经创建了一个页面，但是当我发送请求时返回此错误：

> 错误！解析器：请求 XML（oracle.xml.parser.v2.XMLParseException：应从根元素开始。错误编号：4001）

我不知道是解析问题还是字符问题或其他问题。这是我的脚本代码：

```
<script type="text/javascript">
var req = null ;
var firsttime = false;

function sendRequest(){
    var urlStr="http://mylink.it";
    var xmlString="";
    xmlString="<?xml version='1.0' encoding='UTF-8'?><BOOKING type='COR' lang='it-IT' returnURLNeed='no' returnURL='http://' AGENTCODE='XXXX' AGENTPASSWORD='YYYY' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:noNamespaceSchemaLocation='http://link/schema/CountryRequestV6Snd.xsd'><DATA ALL_COUNTRIES='YES'/></BOOKING>";
    createHTTPRequestObject();
    var resp = getResponseText(urlStr+"?"+xmlString,null);

}

function createHTTPRequestObject(){
    req=null ;
    var pXmlreq = false ;
    if (window.XMLHttpRequest) {
        pXmlreq = new XMLHttpRequest();
    } 
    else if (window.ActiveXObject) {
        try{
            pXmlreq = new ActiveXObject("Msxml2.XMLHTTP");
        } 
        catch (e1) {
            try{
                pXmlreq = new ActiveXObject("Microsoft.XMLHTTP");
            } 
            catch (e2) {
            }
        }
    }
    req = pXmlreq ;
}

function getResponseText(action,query,method,async,contenttype){
    if(method==null){
        method="POST";
    }
    if(async==null){
        async="true";
    }
    if(contenttype==null){
        contenttype = "application/x-www-form-urlencoded";
    }
    console.log("open");
    req.onreadystatechange= function() { 
        if (req.readyState == 1) {
            if (firsttime==false){
                firsttime = true;
                req.setRequestHeader("Content-Type", contenttype);
                if(query){
                    console.log("send request");
                    req.send(query);
                }else{
                    console.log("send request2");
                    req.send();
                }
            }
       }
       if (req.readyState >= 4) {
            var serverResponse = req.responseText;
            console.log(serverResponse);
       }
    }
    req.open(method,action, async);
}
</script> 
```

我的发帖请求 POST

`/trlink/link1/trlink?<?xml%20version='1.0'%20encoding='UTF-8'?><BOOKING%20type='COR'%20lang='it-IT'%20returnURLNeed='no'%20returnURL='http://'%20AGENTCODE='XXX'%20AGENTPASSWORD='YYY'%20xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'%20xsi:noNamespaceSchemaLocation='http://link/CountryRequestV6Snd.xsd'><DATA%20ALL_COUNTRIES='YES'/></BOOKING> HTTP/1.1`

# layout - ZUL 页面的 ZK 绝对布局问题？

> ID：15267692
> 
> 赞同：0
> 
> 时间：2013-03-07T09:40:03.917
> 
> 标签：layout, zk

我正在尝试在我的网页中使用绝对布局，并在borderlayout中添加了绝对布局，现在绝对布局包含一个绝对子级，它包含类似这样的不同组件。

```
<zk xmlns:x="xhtml" xmlns:zk="zk">
        <borderlayout width="100%" height="100%"
                apply="org.zkoss.bind.BindComposer"
                viewModel="@id('vm') @init('com.web.viewmodel.MyEditViewModel')">
        <north border="none">
        //ToolBar will come here
        </north>
        <center border="none" sclass="sub-tab-panel">
                    <vlayout vflex="1" hflex="1" sclass="vertical-scroll"
                          draggable="sizer">
        <separator />
                        <groupbox mold="3d">
        <x:table cellpadding="3" width="500px" height="350px">

        <absolutelayout id="mainLayout" droppable="abschild">
        <absolutechildren>
        <label draggable="abschild" value="Type" sclass="field-label" />

        <label draggable="abschild" value="@bind(vm.folderType)" />
        </absolutechildren>
        <absolutechildren>
        <label draggable="abschild" value="Select" sclass="field-label" />
        <combobox draggable="abschild" model="@load(vm.statusCodeOptions)" selectedItem="@bind(vm.statusCode)"/>
        </absolutechildren>
        </x:table>
        </groupbox>
     </vlayout>

        <center>
    </borderlayout>
</zk> 
```

现在我的问题是，在使用 AbsoluteLayout 后，页面中没有显示任何内容，有人知道这是什么问题吗？

Fiddle示例图像.. ![在此处输入图像描述](../Images/ca02e5c45ac9d33461f40ed49c1805e5.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T12:23:19.993

让我猜 x:table 表示 xhtml 表，您需要添加 tr 和 td （指定高度）：

IE，

```
<x:table cellpadding="3" width="500px" height="350px">
    <x:tr><x:td style="height: 350px;">
        <absolutelayout ...
    </x:td></x:tr>
</x:table> 
```

您还需要指定一个 absolutechidren 的 x 和 y：

```
<absolutechildren x="10" y="100"> 
```

[在 zkfiddle 上](http://zkfiddle.org/sample/2jn29a4/5-Absolutelayout-in-xhtml-table)查看示例

测试结果

![绝对布局测试](../Images/cf42e3c62ffd5be5fd6ea44c2de6609f.png)

# java - JCheckBox 麻烦

> ID：15267693
> 
> 赞同：1
> 
> 时间：2013-03-07T09:40:06.073
> 
> 标签：java, swing, user-interface, jcheckbox

我对 Java GUI 有下一个问题。

在我的电脑上，我看到我的应用程序是这样的：

**正常图片**

![正常图片](../Images/0c2cced311ca3bd9201e948ad250a15d.png)

但是我在另一台机器上看到了这个：

**有问题的图片**

![有问题的图片](../Images/536ef25c6c8de5ec793c9f26105133d5.png)

我不明白为什么会这样。谁能解释一下？

我在两台机器上都有 Windows 7 Professional 和 jdk1.7.0_09。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T11:55:50.377

发生在我身上。

右键单击“桌面”，选择属性并在显示设置上将显示大小更改为`100%`（默认），这应该可以解决特定机器上的问题。

# php - 下载强制文件在下载的文件名中添加下划线“_”

> ID：15267694
> 
> 赞同：2
> 
> 时间：2013-03-07T09:40:07.600
> 
> 标签：php, file-upload

这是我的文件下载脚本

问题是，当下载文件时让我们说文件名是音乐，文件名更改为

> _var_www_myporject_module_Application_musicdir_music

我不想要的

这是我的代码片段

```
public function downloadAction() {
    $filename = $this->params()->fromQuery('filename');
    $file = "/var/www/myproject/module/Application/musicDir/$filename";

    if ($file) {
        header("Cache-Control: public");
        header("Content-Description: File Download");
        header("Content-Disposition: attachment;filename = $file");
        header("Content-Type: application/octet-stream");
        header("Content-Transfer-Encoding: binary");

        readfile($file);
        exit;
    } else {
        exit;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:42:01.447

改变这个

```
header("Content-Disposition: attachment;filename = $file"); 
```

至 ：

```
header("Content-Disposition: attachment;filename = $filename"); 
```

这样它只会显示文件名，而不是目录名。

# android - 如何在列表视图项目上启用突出显示

> ID：15267695
> 
> 赞同：0
> 
> 时间：2013-03-07T09:40:09.157
> 
> 标签：android, android-layout

在 Android 开发方面，我几乎是个菜鸟，我试图突出显示一个列表视图项目，就像在大多数全息应用程序中看到的那样，但它对我不起作用。

我的 xml 代码在这里

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout 
android:orientation="vertical"
android:background="#ffdddddd"
 android:layout_width="fill_parent" 
 android:layout_height="fill_parent"
 xmlns:android="http://schemas.android.com/apk/res/android">

<ListView android:id="@android:id/list" 
    android:scrollX="10.0dip" 
    android:background="#DDDDDD" 
    android:layout_width="match_parent" 
    android:layout_height="wrap_content" 
    android:layout_marginLeft="10.0dip"
    android:layout_marginTop="10.0dip" 
    android:layout_marginBottom="10.0dip"
    android:stackFromBottom="true"
    android:soundEffectsEnabled="true"
    android:listSelector="#0eBFE9"
 /> 
```

问题是我的 listView 中的项目在选择时没有突出显示。完成它的唯一方法是使用

```
android:drawSelectorOnTop = "true" 
```

但随后文本在选择时被隐藏。如果有帮助，该应用程序仅适用于 v4.0+。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:45:24.210

要突出显示 ListView 的列表项，您需要使用 Selector 概念。

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android"> 
 <item 
 android:state_selected="false"
    android:state_pressed="false" 
    android:drawable="@color/normal" />
<item android:state_pressed="true" 
    android:drawable="@color/itemselectedcolor" />
<item android:state_selected="true"
 android:state_pressed="false" 
    android:drawable="@color/itemselectedcolor" />
</selector> 
```

有关更多详细信息，请访问我的 Android 博客。您将了解如何在列表项父布局上使用选择器

[http://amitandroid.blogspot.in/2013/03/android-listview-with-alternate-list.html](http://amitandroid.blogspot.in/2013/03/android-listview-with-alternate-list.html)

谢谢，

# ios - 出现错误：FT_Open_Face 失败：错误 2

> ID：15267702
> 
> 赞同：2
> 
> 时间：2013-03-07T09:40:16.113
> 
> 标签：ios, objective-c, ipad, cocoa-touch

`CGContextDrawPDFPage(context, _PDFPage)`用于某些文件时出现以下错误。有什么办法可以解决这个问题吗？

```
FT_Open_Face failed: error 2. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:55:11.493

错误 2 看起来像`errno`2，即“找不到文件”。请发布更多代码以确认这一点。

# javascript - TypeScript：编译删除未引用的导入

> ID：15267705
> 
> 赞同：37
> 
> 时间：2013-03-07T09:40:22.277
> 
> 标签：javascript, requirejs, typescript, amd, tsc

在我们的项目中，我们使用 RequireJS 作为我们的模块加载器。我们的一些模块会影响全局库，因此不会直接在引用它们的模块中使用。

例子：

```
define(['definitely/goingto/usethis/','just/referencingthis/forpackaging'], function(useThis) {
    useThis.likeIPromised();

    // the following call can only be made when the second required file is available
    someGlobalAvailableVariable.someMethod();
}); 
```

这在用 JavaScript 编写我的模块时按预期工作。但是，我们正在逐步将我们的项目转换为 TypeScript。鉴于上面的示例，这将导致：

```
import useThis = module("definitely/goingto/usethis/");
import whatever = module("just/referencingthis/forpackaging");

useThis.likeIPromised();

// I've written a definition file so the following statement will evaluate
someGlobalAvailableVariable.someMethod(); 
```

并且在将其编译为 JavaScript 时，**编译器希望提供帮助并删除任何未使用的 imports**。因此，这会破坏我的代码，导致第二个导入的模块不可用。

我目前的工作是包含一个冗余分配，但这看起来很难看：

```
import whatever = module("just/referencingthis/forpackaging");
var a = whatever; // a is never ever used further down this module 
```

有谁知道是否可以将 TypeScript 编译器配置为在编译期间不优化模块？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-03-07T17:05:40.890

您可以在文件顶部执行此操作（而不是`import`）：

```
/// <amd-dependency path="just/referencingthis/forpackaging" /> 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2016-04-27T16:14:57.233

更好的解决方案（使用 TS 1.8 测试）：

```
import 'just/referencingthis/forpackaging'; 
```

amd-dependency 三斜杠指令似乎仅在有其他需要导入时才有效；只有 amd-dependency 指令会导致 TypeScript 编译器在没有模块定义的情况下完全生成 JavaScript。

# html - jsf / icefaces selectOneMenu 自动完成

> ID：15267707
> 
> 赞同：0
> 
> 时间：2013-03-07T09:40:29.623
> 
> 标签：html, icefaces, selectonemenu

我正在使用 ice:selectOneMenu 组件并想改变他的工作方式，所以它看起来像这样：

当用户单击字母时，列表打开，列表中具有此值的第一个对象显示在顶部。

例如，当我单击“o”时，所有以“o”开头的值都会显示，当我添加字母“n”时，所有以“on”开头的值都将显示在顶部。

我知道这在 java 中是可能的，但对于 web 应用程序是否可能。

现在组件只会在连续输入的情况下执行此操作，如果我们在按下“o”和按下“n”之间进行制动，它将跳转到以“n”开头的值。

我很想举一个例子来说明如何做到这一点。我可以使用 Icefaces / JSF2.0 / html 4.0 。

谢谢塔米

# joomla - Joomla 3 文章类别模块覆盖类别图像和描述

> ID：15267711
> 
> 赞同：2
> 
> 时间：2013-03-07T09:40:37.000
> 
> 标签：joomla, module, overriding, joomla-extensions, joomla3.0

我最近在想显示某个类别（或子类别）及其子文章时遇到了一个问题，同时包括类别描述和图像。通常用于此的模块是文章类别。

我想要达到的目标：

![良好布局示例](../Images/340d4654b09c57bf2689bf1b8822c74a.png) 但我实际上最终得到的是：

![实际输出示例](../Images/dc178fb709fc690a09d3198f70cd4468.png) 尝试调用类别描述或图像时，我收到错误，但它们尚未存储，只有类别名称及其项目（甚至没有指向该类别的链接）

知道是否有可能使这项工作发生覆盖，或者另一个模块可以做到这一点？

Joomla 3.0.3 中 mod_articles_category 的默认文件：http: [//pastebin.com/8pNeQyzn](http://pastebin.com/8pNeQyzn)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T10:19:29.570

解决了：

创建 mod_articles_category/tmpl/default.php 的覆盖 在 mod_articles_category/default.php 中查找此行：

```
<?php foreach ($list as $group_name => $group) : ?> 
```

并在其下方添加以下内容：

```
<?php
    // Get a db connection.
    $db = JFactory::getDbo();
    // Create a new query object.
    $query = $db->getQuery(true);
    $query
        ->select(array('title, description, params'))
        ->from('#__categories')
        ->where('title = \''.$group_name.'\'')
        ->where('extension = \'com_content\'')
        ->where('published = \'1\'');
    // Reset the query using our newly populated query object.
    $db->setQuery($query);
    // Load the result(1) as an object.
    $cat = $db->loadObject();
    $catparams = json_decode($cat->params);
?> 
```

现在您可以通过回显字段来访问标题、描述和类别参数（包括图像），例如：

```
<?= $cat->description ?> 
```

或者

```
<?= ($catparams->image) ? $catparams->image : "No image"; ?> 
```

在我接受这不是一个简单的方法之后，我很快就发现了这一点。

# events - Doctrine 2 preFlush 事件添加关联类

> ID：15267712
> 
> 赞同：6
> 
> 时间：2013-03-07T09:40:41.733
> 
> 标签：events, symfony, doctrine-orm

我正在尝试将用户实体添加到 preFlush 事件上的实体。基本上每个实体都有一个createdBy，它是一个用户实体。

每当我尝试这个时，我都会收到以下错误。

```
Notice: Undefined index: 0000000055f036b6000000009c9cc58f in /dir/vendor/doctrine/orm/lib/Doctrine/ORM/UnitOfWork.php line 870 
```

这是我的 preFlush 函数。

```
public function preFlush(PreFlushEventArgs $args)
{
    $em = $args->getEntityManager();
    $uow = $em->getUnitOfWork();
    $securityContext = $this->container->get('security.context');
    if($securityContext->isGranted('IS_AUTHENTICATED_REMEMBERED') 
        || $securityContext->isGranted('IS_AUTHENTICATED_FULLY'))
    {
        $user = $securityContext->getToken()->getUser();
    }
    if(!$user)
    {
        $user = $em->getRepository('NAB\EnterpriseBundle\Entity\User')->findOneByUsername($this->username);
    }
    foreach ($uow->getScheduledEntityInsertions() as $entity)
    {
        $entity->setCreatedBy($user);
        $em->persist($user);

    }
    $meta = $em->getClassMetadata(get_class($entity));
    $uow->recomputeSingleEntityChangeSet($meta, $entity);
    $uow->computeChangeSets($meta, $entity);
} 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T10:50:18.540

您正在错误地计算变更集。以下位：

```
$meta = $em->getClassMetadata(get_class($entity));
$uow->recomputeSingleEntityChangeSet($meta, $entity);
$uow->computeChangeSets($meta, $entity); 
```

仅在检查的上下文中的最后一个实体上执行。

你应该把它移到你的 foreach 中：

```
foreach ($uow->getScheduledEntityInsertions() as $entity) {
    $entity->setCreatedBy($user);
    $em->persist($user);

    $meta = $em->getClassMetadata(get_class($entity));

    $uow->recomputeSingleEntityChangeSet($meta, $entity);
} 
```

更好的是（因为您不熟悉`UnitOfWork`API），您可以只在最后重新计算所有变更集：

```
foreach ($uow->getScheduledEntityInsertions() as $entity) {
    $entity->setCreatedBy($user);
    $em->persist($user);
}

$uow->computeChangeSets(); 
```

您还应该将此侦听器从 移动`preFlush`到`onFlush`以处理其他侦听器应用的任何更改。

# django - 如何返回通过外键绑定到另一个对象的对象？

> ID：15267717
> 
> 赞同：0
> 
> 时间：2013-03-07T09:40:49.000
> 
> 标签：django, django-models

我有一个模型`Order`，

```
class Order(SmartModel):
    SUBMITTED = 1
    PROCESSED = 2 
    DELIVERED = 3 
    PICKED_UP = 4
    CANCELLED = 5
    ORDER_STATUSES = ((SUBMITTED,'Submitted'),(PROCESSED,'Processed'),(DELIVERED,'Delivered'),(PICKED_UP,'picked_up'),(CANCELLED,'Cancelled'),
    date = models.DateTimeField(auto_now=True,auto_now_add=True)
    status = models.IntegerField(choices=ORDER_STATUSES, default=SUBMITTED)
    restaurant = models.ForeignKey(Restaurant,null=True,blank=True,default = None,help_text="The restaurant the customer order from")
    email = models.EmailField(max_length=50,help_text="Needed as alternative")
    mobile = PhoneNumberField(max_length=20,default='+25078######',help_text="Needed to communicate and confirm payment from mobile money") 
```

我按如下方式创建并保存此对象，

```
def create_order(request,self):
    orders = Order()
    checkout_form = forms.CheckoutForm(request.POST,instance=orders)
    orders = checkout_form.save(commit=False)
    anon_user = User.objects.get(id=settings.ANONYMOUS_USER_ID)
    orders.created_by = anon_user
    orders.modified_by = anon_user
    orders.status = Order.SUBMITTED
    orders.save()
        ...... 
```

我的管理员看起来像这样，

```
class OrderCRUDL(SmartCRUDL):
    model = Order
    permissions = True
    actions = ('list','read','create','delete','update')

    class List(SmartListView):
        fields = ('date','status','billing_name','mobile','email','billing_address','billing_city','restaurant','restaurant.services')
        search_fields = ('date',) 
```

我想在管理员中`restaurant`查看仅从`orders`Web 应用程序的菜单中创建的列表。截至目前，餐厅可以查看应用程序上所有订单的列表。

我怎样才能做到这一点，也欢迎阅读建议。

这是正在使用的代码并出现错误`TypeError: object of type 'instancemethod' has no len()`

```
def queryset(self,request):
    queryset = self.Order.objects.get_queryset()
    current_restaurant = Restaurant.objects.get(id=request.user)
    return queryset.filter(restaurant = current_restaurant) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:03:16.313

尝试在您的管理类中使用查询集过滤器：

```
def queryset(self, request):
    qs = self.model._default_manager.get_query_set()
    current_restaurant = Restaurant.objects.get(id = request.user) #You need to get current restaurant instance
    return qs.filter(restaurant = current_restaurant) 
```

您需要`current_restaurant`使用当前餐厅的登录数据获取对象。更多信息可以在[IBM 文档中的](http://www.ibm.com/developerworks/library/os-django-admin/index.html)**清单 14**中找到。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T20:31:27.950

我设法通过做这样的事情来取得成果

```
def derive_queryset(self):
    queryset = super(OrderCRUDL.List, self).derive_queryset()
    #if super-user,show all comments
    if self.request.user.is_superuser:
       return queryset
    return queryset.filter(restaurant=self.request.user) 
```

# ios - 如何在 iOS 的 MIMBarChart 中为条形图赋予不同的颜色

> ID：15267721
> 
> 赞同：1
> 
> 时间：2013-03-07T09:40:57.337
> 
> 标签：ios, xcode, bar-chart

我在我的应用程序中使用 MIMChart 库。在条形图中，我想根据值为条形添加不同的颜色。我已经检查但无法更改条形的颜色。请帮助

# javascript - 自动完成 Google 地方 API 未显示任何内容

> ID：15267728
> 
> 赞同：2
> 
> 时间：2013-03-07T09:41:24.823
> 
> 标签：javascript, google-places-api

我正在寻找设置一个自动完成的谷歌地方小部件。

我有一个带有“searchFieldText”ID 的输入类型文本。

这是我的 JS 代码：

```
var inputsec = document.getElementById('searchFieldText');
var options = {
    types: ['all']
};
autocomplete = new google.maps.places.Autocomplete(inputsec, options); 
```

再简单不过了……但什么也没有发生。我错过了什么吗？也许是强制性的选择？

谢谢你的帮助 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T11:39:51.290

好的，我明白了。

只需删除 options 参数就可以了

# java - 按位异或返回值使用不正确？

> ID：15267730
> 
> 赞同：4
> 
> 时间：2013-03-07T09:41:28.183
> 
> 标签：java, netbeans-7, swap, bitwise-xor

我用异或交换交换了两个整数的值，为此我使用了以下代码行：

```
a ^= (b ^= (a ^= b)); 
```

之后，`b`得到正确的值（ 的前值`a`），但`a`变为零。如果我不在一行上写它，它可以正常工作，如下所示：

```
a ^= b;
b ^= a;
a ^= b; 
```

我做错了什么，还是 netbeans/compiler/JRE 做错了什么？（使用 netbeans 7.2.1）

# c# - Authorization Header 或 RequiresAuthentication 属性

> ID：15267732
> 
> 赞同：1
> 
> 时间：2013-03-07T09:41:30.373
> 
> 标签：c#, rest, openrasta

我正在使用 OpenRasta 构建我的 REST API，并希望为 Handler 中选定数量的方法启用身份验证。所以我为这些方法设置了**RequiresAuthentication 属性**。

我为它定义了一个身份验证方案。因此，当我在 HTTP 请求中指定**授权标头**时，它应该检查身份验证。在理想情况下，它不应该检查没有指定**RequiresAuthentication 属性**的方法的身份验证。但它不是那样检查身份验证，因为我已经为请求指定了**授权标头。**

这是可接受的行为还是应该检查属性是否分配给方法并检查身份验证，即使指定了授权标头？

如果 OpenRasta 检查授权标头，**RequiresAuthentication 属性**有什么用？

# caching - Orchard cms 缓存模块返回双页

> ID：15267737
> 
> 赞同：0
> 
> 时间：2013-03-07T09:41:51.890
> 
> 标签：caching, memcached, orchardcms

我在[AppHarbor](https://appharbor.com/)上安装了一个[Orchard Cms的工作实例](http://www.orchardproject.net/)

我已经安装了[缓存模块](http://orchardcache.codeplex.com/)以及[memcached 模块](https://github.com/sebastienros/Contrib.Cache.Memcached)，并将其配置为在 AppHarbor 上使用

但是当我启用缓存并将持续时间设置为 3600 时，页面加载了两次。

相反，它加载一次，但 html 重复两次

你可以[在这里](http://riders-test.apphb.com/)看到这个......（接下来的 24 小时！）

我目前正在查看缓存源代码。但不知道从哪里开始。

（果园1.6）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T13:36:19.863

我发现问题与使用[图像调整器](http://imageresizing.net/)s3 阅读器模块有关，使用缓存模块，我没有设法解决这个问题，所以删除了图像调整器模块

# jquery - 将数据附加到页面时的 jQuery 性能

> ID：15267738
> 
> 赞同：0
> 
> 时间：2013-03-07T09:41:52.603
> 
> 标签：jquery, performance

我有一段代码循环并将数据附加到 html 表

```
for(var i = 0; i < iRowCount; i++)
    {
        var sTempVal = aAdditionValues[i];
        var iStartColumn = 0;
        var iIndex = 0;

        var aTempVal = sTempVal.split("");          
        aTempVal.reverse();
        for(var r = iColCount - 1; r > 0; r--)
        {
            $("#additionTable tr:eq("+i+") td:eq("+r+")").append(aTempVal[iIndex]);             
            iIndex++;
        }
        iStartColumn = 0;
        iIndex = 0;
    } 
```

该数组`aAdditionValues[i];`只是一个数字数组。

我可以实施任何性能增强吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:44:56.313

现在，您在每个循环都向 DOM 添加一些东西，这是非常低效的。在将其添加到 DOM 之前，首先创建要在 JavaScript 中插入的对象，将其插入到一个事件中。这将最大限度地减少重新绘制文档所需的计算。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:47:08.720

小改进：您至少可以摆脱`aTempVal.reverse();`并从头开始循环。

还要删除`iStartColumn`您没有更改值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T09:49:23.023

由于您操作现有表格的某些单元格，因此没有太大的改进空间。我建议至少缓存 jquery 选择器：

```
var $table = $('#additionTable'); // outside the loop ofc
$("tr:eq("+i+") td:eq("+r+")", $table).append(/* ... */); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-07T09:49:54.707

每次向 DOM 追加内容时，都会重新构建它，这会占用大量资源。通过填充它会更快地创建表，`createElement("table")`然后才做一个`append`。

# iphone - 使用 NSSortDescriptor 将不同的值与它们的重复值分开

> ID：15267741
> 
> 赞同：1
> 
> 时间：2013-03-07T09:41:56.680
> 
> 标签：iphone, ios, sorting, nsarray

我已经对我的对象数组、具有属性 dateOfentry、name、age 的实体员工的想法进行了排序。

```
NSSortDescriptor *ageDescriptor =
    [[NSSortDescriptor alloc] initWithKey:@"date" ascending:YES];
NSArray *sortDescriptors = @[ageDescriptor];
NSArray *sortedArray = [empArrayList sortedArrayUsingDescriptors:sortDescriptors]; 
```

现在员工一天可以多次进入时差，所以我喜欢获取并显示员工访问的日期库记录。

如何进一步收集具有不同记录的同一天记录，以便我可以将其显示在表格视图中，其中部分为日期，行为时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:48:52.220

只需添加：

```
-(void)viewWillAppear:(BOOL)animated {
   [tableView reloadData];
} 
```

也许它有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T10:05:02.387

我想按日期排序可以正常工作。

如果您希望您的函数收集具有特定日期的所有对象，它可能看起来像这样（假设您的对象员工是 NSDictionary 或 NSMutableDictionary）；

```
-(NSArray*)getObjectsWithDate: (NSDate*) date fromArray:(NSArray*) array
{
    NSMutableArray *retArray = [[NSMutableArray alloc]init];
    BOOL b_enteredCorrectDateArea = NO;
    for (NSDictionary *dict in array) {
        NSDate *dateFromDict = [dict objectForKey:@"date"];
        //Updated section
        unsigned int flags = NSYearCalendarUnit | NSMonthCalendarUnit | NSDayCalendarUnit;
        NSCalendar* calendar = [NSCalendar currentCalendar];
        NSDateComponents* components = [calendar components:flags fromDate:dateFromDict];
        NSDate* dateFromDictWithoutTimeComponent = [calendar dateFromComponents:components];

        components = [calendar components:flags fromDate:date];
        NSDate *dateFromArgumentsWithoutTimeComponent = [calendar dateFromComponents:components];
        //end of update

        if ([dateFromArgumentsWithoutTimeComponent isEqualToDate:dateFromDictWithoutTimeComponent]) {
            [retArray addObject:dict];
            if (!b_enteredCorrectDateArea) {
                b_enteredCorrectDateArea = YES;
            }
        }
        else if(b_enteredCorrectDateArea) //performance Optimization
        {
            break;
        }
    }
    return retArray;
} 
```

如果您想显示过滤后的数据，只需将返回的数组用作 UITableView 的数据源，并在将数组分配为数据源后重新加载表格视图。

当然，这没有经过测试，因为我没有测试数据。但它应该像这样工作。

如果这对您有用，请也为这篇[文章](https://stackoverflow.com/questions/1854890/comparing-two-nsdates-and-ignoring-the-time-component)投票，因为它向我展示了如何在没有时间的情况下使用日期。:)

# android - android：“视频录制完成”通知

> ID：15267748
> 
> 赞同：2
> 
> 时间：2013-03-07T09:42:10.547
> 
> 标签：android, android-camera, android-broadcast

我正在开发一个项目，该项目需要在相机完成录制视频并将其存储在 sdcard 后触发一些动作。我可以找到告诉我们照片何时被相机拍摄并存储在 SD 卡中的广播。`android.hardware.action.NEW_VIDEO`我还可以找到API 级别 14 或更高级别可用的广播“ ”。这有助于我们检测新录制的视频。我们如何在 API 级别 8 到 14 中实现相同的功能......？我的搜索没有给我带来合适的解决方案。希望有人可以在这里帮助我。:)

提前致谢。

# asp.net - 在 mailto 超链接中使用声明的变量

> ID：15267750
> 
> 赞同：1
> 
> 时间：2013-03-07T09:42:13.213
> 
> 标签：asp.net

我有一个从另一个 C# 类使用 传递过来的变量`Request.QueryString[]`，现在我想获取该变量的值并在 mailto 超链接中使用它。我不想硬编码电子邮件地址。

正常的mailto链接是：

`<a href"mailto:user1234@gmail.com: />`

我想要做的是从上一页获取用户提供的电子邮件......

我有：`Request.QueryString["newEmail"];`

我试过这个：`<a href="mailto:Request.QueryString["newEmail"]" />`

但它不起作用，请帮助！！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:55:53.697

使用`asp:HyperLink`which 被渲染为锚标记。

'例子：

```
<asp:HyperLink ID="EmailLink" runat="server"
        NavigateUrl='<% "mailto:" + Request.QueryString["newEmail"] %>'>
    Send Mail
</asp:HyperLink> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:44:17.127

> 我有： RequestQueryString["newEmail"];

应该是`Request.QueryString["newEmail"]`。

您的问题没有显示您将此“newEmail”传递给查询字符串的位置。

> 我试过这个：`<a href="mailto:RequestQueryString["newEmail"]" />`

除非那是一个后端字符串，否则你不能像这样组合前端和后端代码。你需要用 包装它`<% %>`，即使那样你也不会这样做，因为你需要检查查询字符串是否包含一个值。

后端：

```
protected string email = "";

public string GetEmail() {
    return email;
}

protected virtual void Page_Load(object sender, EventArgs e) {
    if (Request.QueryString["newEmail"] != null)
        email = Request.QueryString["newEmail"];
} 
```

前端：

```
<a href="mailto:<%# GetEmail() %>"></a> 
```

# wso2 - 表达式语言文本框不存在 - WSO2 - Eclipse Juno

> ID：15267753
> 
> 赞同：0
> 
> 时间：2013-03-07T09:42:19.343
> 
> 标签：wso2, eclipse-juno

Juno 是受支持的 Eclipse 版本吗？我在 Eclipse Juno 中安装了 WSO2 Developer studio，并按照教程[http://docs.wso2.org/wiki/display/BPS300/Quick+Start+Guide](http://docs.wso2.org/wiki/display/BPS300/Quick+Start+Guide)进行操作。但是，没有可用于输入表达式语言的文本框。请检查随附的屏幕截图。

!编辑截图[1](http://i.stack.imgur.com/D1hQk.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T14:06:36.433

Developer Studio 尚不支持 Eclipse Juno，但我们将从下一个版本开始支持它。

使用 Developer Studio 时请使用 Eclipse Helios SR2。

/哈莎娜

# sqlalchemy - 一次查询多个值

> ID：15267755
> 
> 赞同：14
> 
> 时间：2013-03-07T09:42:27.550
> 
> 标签：sqlalchemy

在 SQL 中，我可以得到一组这样的行：

```
SELECT * FROM table WHERE id in (2,3,5,7,11); 
```

等效的 sqlalchemy 查询看起来如何？`cls.id in [2,3,5,7,11]`计算结果为`False`，所以这段代码：

```
q = meta.Session.query(cls)
q = q.filter(cls.id in [2,3,5,7,11])
return q.all() 
```

失败但有异常：

```
 File "foo.py", line 1234, in findall_by_ids
    q = q.filter(cls.id in [2,3,5,7,11])
  File "<string>", line 1, in <lambda>
  File "/eggs/sqlalchemy/orm/query.py", line 50, in generate
    fn(self, *args[1:], **kw)
  File "/eggs/sqlalchemy/orm/query.py", line 1177, in filter
    "filter() argument must be of type "
ArgumentError: filter() argument must be of type sqlalchemy.sql.ClauseElement
               or string 
```

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-03-07T09:49:08.063

[在_中](http://docs.sqlalchemy.org/en/rel_0_8/orm/tutorial.html#common-filter-operators)使用

```
q.filter(cls.id.in_([2, 3, 5, 7, 11])) 
```

你的翻译说：

```
ArgumentError: filter() argument must be of type sqlalchemy.sql.ClauseElement
               or string 
```

那些操作符已经被覆盖了，会返回过滤器需要的东西，大家可以看看`sqlalchemy.sql.operators`。`cls.id in [2, 3, 5, 7, 1]`不起作用的原因是因为那[`in`](http://docs.python.org/2/reference/datamodel.html#object.__contains__)是 [2, 3, 5, 7, 1] 的运算符，它会返回`True`or `False`。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-07T09:48:07.437

使用[`in_`](http://docs.sqlalchemy.org/en/rel_0_8/orm/tutorial.html#common-filter-operators)，像这样：

```
q = meta.Session.query(cls)
q = q.filter(cls.id.in_([2,3,5,7,11]))
return q.all() 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-02-29T20:24:12.680

如果您不知道 PK 列，最好的解决方案是使用`get`它，但它只用于一行。

对于非复合 PK

```
pk = model.__mapper__.primary_key[0]
items = model.query.filter(pk.in_(ids)).all() 
```

# javascript - 获取 Javascript JSON 字符串中的参数值？

> ID：15267757
> 
> 赞同：0
> 
> 时间：2013-03-07T09:42:32.010
> 
> 标签：javascript, json

我在 jQuery 数据表表行上有一个单击处理程序 - 如果单击一行，则会启动一个新对话框。但是，我在获取需要传递给启动弹出窗口的 ajax 函数的 ID 时遇到了一些问题。

我有下面的代码行：

```
var rowData = carTable.fnGetData(event.target.parentNode); 
```

如果我然后执行以下操作。

```
var json = JSON.stringify(rowData); 
```

如果我然后警报（json）；我得到以下弹出

```
{"ExtensionData":{}, "CarRegNo" : "ABC 123", 
"CarNumber": "98765", "CarID" : 1234, 
"CarName" : "BMW", "CarFaults" : 2, 
"CarDealerID" : 16, "DealerName" : "WeSellCars"} 
```

我需要的唯一值是来自 CarID 的 1234？我怎样才能轻松获得这个值？

到目前为止，我尝试了以下但没有运气 - 所以没有做 JSON.stringify 我只是从 rowData 获得了密钥 - 当我刚刚提醒密钥时，我可以看到所有不同的值，即 CarID、CarRegNo - 但是后来我试图提醒CarID 的实际值与下面的代码 - 但没有响应回来 - 浏览器似乎只是挂起。

```
 for (var key in rowData) {
            alert(key);
            if (key == 'CarID')
                alert(rowData[0][key]);
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:44:28.030

从字面上看应该只是：

```
var carId = rowData.CarId; 
```

该`rowData`变量已经包含单个对象，并且`CarId`是它的一个属性。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T09:44:38.390

然后你需要`CarID`来自`rowData`：

```
var CarID = rowData.CarID 
```

# .net - 如果图像没有流，则设置图像调色板会引发 GDI+ 通用错误异常

> ID：15267758
> 
> 赞同：0
> 
> 时间：2013-03-07T09:42:32.873
> 
> 标签：.net, vb.net, winforms, gdi+

我正在使用 GDI+ 将一些图像渲染到位图上，然后将位图渲染到面板上以用作编辑器。

选择编辑器面板中的图像时，它应该突出显示红色。我使用以下代码进行了这项工作

```
If mCurrentindex = ind Then
    Dim redImage As Bitmap = item.Image.Clone()

    Dim pal As ColorPalette

    pal = redImage.Palette

    For i As Integer = 0 To pal.Entries.Length - 1
        If pal.Entries(i).Name = "ff000000" Then
            pal.Entries(i) = Color.Red
        End If
    Next

    redImage.Palette = pal

    g.DrawImage(redImage, 0, 0, (CType((item.Image.Width), Integer)), (CType((item.Image.Height), Integer)))

    Dim highlightPen As New Pen(Brushes.Red, 2)
    g.DrawRectangle(highlightPen, New Rectangle(0, 0, item.W - 1, item.H - 1))
Else
    g.DrawImage(item.Image, 0, 0, (CType((item.Image.Width), Integer)), (CType((item.Image.Height), Integer)))
End If 
```

当我使用 Image.FromFile 加载图像时，这是有效的，它锁定了文件，这是我不想要的。我更改了代码以使用蒸汽将图像加载到临时图像中，将其克隆到另一个图像中，然后处理临时图像。但是，现在当我上线时

```
redImage.Palette = pal 
```

我得到一个通用的 GDI+ 错误。任何击中其中之一的人都会知道，他们基本上不会提供比“某事坏了”更多的信息。我不确定为什么更改调色板会在原始图像中起作用，而不是在克隆图像中起作用。有谁可以帮我离开这里吗？

应该注意的是，如果图像有所不同，则每像素索引 1 位。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T16:34:23.100

> Bitmap(Image) 和 Bitmap.Clone() 有什么区别

*这是深*拷贝和*浅*拷贝之间的区别。Bitmap.Clone() 是一个浅拷贝，不拷贝位图的像素数据。它保留一个指向原始像素数据的指针。仅当您使用采用 Rectangle 的重载之一时，它才真正有用。

因此，Bitmap.Clone() 将锁定像素数据的底层源。就像您从中加载图像的文件一样。或者如果您使用 MemoryStream 锁定文件，则使用流。这*确实*需要您保持 MemoryStream 活着。关闭或处理它会使你的程序崩溃。后来，当需要像素数据时。通常在上漆时。

通过创建不锁定文件的深层副本来避免所有这些：

```
 public static Bitmap LoadBitmapWithoutLock(string path) {
        using (var temp = Image.FromFile(path)) {
            return new Bitmap(temp);
        }
    } 
```

# python - 如何保证 gae datastore Name/ID 的唯一性？

> ID：15267759
> 
> 赞同：0
> 
> 时间：2013-03-07T09:42:33.747
> 
> 标签：python, google-app-engine, google-cloud-datastore

```
class Post(db.Model):
    user = db.ReferenceProperty(User, collection_name='posts')
    title = db.StringProperty(required=True)
    desc = db.TextProperty()
    def addApplication(self, user, message, contact_info=""):
         new_app = TaskApplication(parent=self, user=user, message=message, contact_info=contact_info)
         new_app.put()

class Application(db.Model):
    user = db.ReferenceProperty(User, collection_name='applications')
    contact_info = db.StringProperty()
    message = db.TextProperty()
    created = db.DateTimeProperty(auto_now_add=True) 
```

所以我有这些实体，当我添加一个应用程序实体时，我总是将父级设置为 Post。请参见上面的 addApplication 函数。

但是，每次我创建应用程序时。数据存储区中的名称/ID 将创建 id=1（见下图），我认为 gae 每次都会创建一个唯一编号，例如 39001。

有没有办法可以确保它的唯一性？ ![在此处输入图像描述](../Images/51ae0d4f60840d44f3dfd49854307807.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T10:03:24.943

如果您允许 GAE 为您创建它们，**它们将是独一无二的。**

然而，也考虑了父实体，因此从根实体开始并从父实体到子实体的实体序列，导致给定实体，构成该实体的祖先路径。

因此，识别实体的完整密钥由一系列种类标识符对组成，该序列指定其祖先路径并以实体本身的路径终止。

因此，如果您要手动手动生成这些 ID，您可以使用类似这样的方法为具有父键 p 的实体分配 100 个 ID：

```
first, last = MyModel.allocate_ids(100, parent=p) 
```

请注意，父项包括在内。所以你可以稍后为父 q 运行它：

```
first, last = MyModel.allocate_ids(100, parent=q) 
```

尽管返回的某些 ID 可能是相同的数字，但它们并不引用相同的模型，因为还考虑了父模型（您在本示例中实现了该模型）。

更多信息：[https ://developers.google.com/appengine/docs/python/ndb/entities](https://developers.google.com/appengine/docs/python/ndb/entities)

# eclipse - PyDev 调试器突然停止工作

> ID：15267764
> 
> 赞同：3
> 
> 时间：2013-03-07T09:42:41.403
> 
> 标签：eclipse, pydev

我的 PyDev 调试器突然停止工作。当我右键单击 python 代码并选择调试时，我得到以下异常

```
Traceback (most recent call last):
  File "C:\Users\x\tools\eclipseide\3.7prod.win64\eclipse\plugins\org.python.pydev_2.6.0.2012052102\pysrc\pydevd.py", line 4, in <module>
    from pydevd_comm import  CMD_CHANGE_VARIABLE, \
  File "C:\Users\x\tools\eclipseide\3.7prod.win64\eclipse\plugins\org.python.pydev_2.6.0.2012052102\pysrc\pydevd_comm.py", line 78, in <module>
    import pydevd_console
  File "C:\Users\x\tools\eclipseide\3.7prod.win64\eclipse\plugins\org.python.pydev_2.6.0.2012052102\pysrc\pydevd_console.py", line 3, in <module>
    from code import InteractiveConsole
ImportError: cannot import name InteractiveConsole 
```

我已经配置了我的 python 2.7.1 并且正在使用 PyDev 2.6，重要的是当我运行代码时它工作得很好。它不喜欢我的调试。

更新：当我点击上面的 pydevd_console.py 行时，我可以看到它正在导入 InteractiveConsole，当我点击它时，它确实将我带到了我的 2.7.1 发行版中的 InteractiveConsole 类

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-08T13:19:47.867

在 stackoverflow 上搜索了几个小时后，我看到[升级 eclipse、aptana、pydev、Debugger 后无法正常工作](https://stackoverflow.com/questions/11388503/after-upgrading-eclipse-aptana-pydev-debugger-not-working)，我突然想到，在我的项目根级别，我有一个名为“code”的文件夹，其中包含所有源代码。

# ruby-on-rails - 无法将 date_select 标记的开始日期设置为 rails 中的当前日期

> ID：15267768
> 
> 赞同：1
> 
> 时间：2013-03-07T09:42:57.843
> 
> 标签：ruby-on-rails, ruby, datetime, form-helpers

如何将 date_select 标签的开始日期设置为当前日期？

我知道 start_year() 但我希望年份、月份和日期从我的 html 表单中的当前年份、月份和日期开始。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:44:22.293

你可以传递一个`:default`选项给它

```
f.date_select :my_date, default: Date.today 
```

# php - 在包含的文件上使用 REQUEST_URI 在 URL 中重复

> ID：15267770
> 
> 赞同：1
> 
> 时间：2013-03-07T09:43:01.620
> 
> 标签：php, url

我有一个内容`<div>`，其中包含不同的 PHP 文件，具体取决于`$_GET`值...例如，我有`/index.php?type=foo&action=bar`. 我正在尝试包含一个 PHP 文件，其中包含一些表格数据和简单的分页，看起来像这样

`$paginate .= "<a href='$target&page=$prevPage'>previous page</a>";`

哪里`$target = $_SERVER[ 'REQUEST_URI' ];`。它按我想要的方式工作，但每次我转到下一个/上一个页面时，URL 都会重复。例如： `/index.php?type=foo&action=bar&page=2&page=3&page=4&page=3&page=2`等等......使用`$_SERVER["PHP_SELF"]`让我回到`\index.php`没有额外`$_GET`参数的状态

我意识到为什么会发生这种情况，但是有没有很好的解决方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:45:30.083

试试这个 ：

```
$target = $_SERVER[ 'REQUEST_URI' ];
$target = preg_replace('/&page=\d*/',"",$target);
$paginate .= "<a href='$target&page=$prevPage'>previous page</a>"; 
```

最好给页面名称：

改变 ：

```
$target = $_SERVER[ 'REQUEST_URI' ]; 
```

到 ：

```
$target = 'your_page.php'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:49:56.327

请注意，使用用户输入创建 URI 可能是一个安全问题。

在我看来，您将不得不将请求解码 - 例如到一个数组。然后您可以编辑这些值并创建一个新的查询字符串。

```
$cur = $_GET;
$cur['page'] = 7;
$new = array();
foreach ($cur as $key=>$val) {
  // Possily you need to remove magic quotes, here
  $new[] = url_encode($key).'='.url_encode($val);
}
$target = 'index.php?'.implode('&', $new); 
```

我还建议使用固定文件名。仅当脚本名称可能更改时，使用 $_SERVER["PHP_SELF"] 才有意义。通常情况并非如此。

还可以考虑从 $_GET 或 $_REQUEST 收集预先指定的变量。这避免了一些安全问题。

# c# - 生产中的少数文件无法正常工作 asp.net c# 3.5

> ID：15267771
> 
> 赞同：0
> 
> 时间：2013-03-07T09:43:08.027
> 
> 标签：c#, development-environment, asp.net-3.5, production-environment, dev-to-production

我使用 .NET Framework 3.5 创建了一个 ASP.NET C# 站点。它在开发服务器上工作正常。我有两个文件夹，即

```
signup
settings 
```

我将我的网站托管到域中[，](http://www.somee.com)除了文件夹之外，所有域都可以正常工作 `signup`。aspx 页面正在加载，但单击按钮会导致我将自定义错误模式设置为自定义错误`Off`。日志中没有任何内容，也没有堆栈跟踪，请告诉我哪里做错了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:00:08.857

你有没有准备好 MS Visual Studio 默认创建的文件夹？

在这种情况下，请检查 web.config，如果存在则检查其详细信息，如果不存在则检查主文件夹，并在那里找到并配置 web.config，相同。

我相信这应该可以解决错误:)

# excel - 使用 vba 宏将希腊数据从 excel 导出到 xml

> ID：15267776
> 
> 赞同：0
> 
> 时间：2013-03-07T09:43:26.330
> 
> 标签：excel, vba

我正在使用 vba 宏将数据从 excel 文件导出到 xml 文件。

```
With Worksheets("Worksheet1") 
XMLFileName = "C:\Workspace\Test.xml
idx_string = 1
Open XMLFileName For Output As #1
Print #1, XMLFileHeader
Print #1, "<resources>"
While (.Range("Base_Menue_strings").Cells(idx_string, 1) <> "")
Print #1, " <string name=" & Quotation & .Range("Base_Menue_strings").Cells(idx_string, 1) & Quotation & ">" & Quotation & .Range("Strings").Cells(idx_string, idx_lang) & Quotation & "</string>"
idx_string = idx_string + 1
Wend
Print #1, "</resources>"
Close #1
End With 
```

但是在 xml 文件中，我发现了这个，而不是希腊字符：

```
 <resources>
 <string name="dial_mode">"?e?t?????a ???s??"</string>
 <string name="flash_duration">"?????e?a epa?????s??"</string>
 <string name="pabx_title">"????eµa PABX "</string>
 <string name="pabx_status">"?at?stas?"</string>
 </resources> 
```

有人知道如何解决这个问题吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:42:58.240

我查看了[Here](http://forum.fusioncharts.com/topic/3297-greek-characters-not-displaying-correctly-with-setdataurl/)，发现XML文件需要保存为**UTF-8** *并启用BOM*（字节顺序标记）希望对您有所帮助

菲利普

# java - 我正在使用 Java 中的 OpenCSV 读取 CSV 文件，

> ID：15267782
> 
> 赞同：1
> 
> 时间：2013-03-07T09:44:10.100
> 
> 标签：java, opencsv

在我的 csv 文件中，我有一些路径，并且打开的 Csv 正在读取没有“\”的路径，例如：`C:\abc\ab.txt` 被读取为`C:abcab.txt`. 我想按原样阅读，没有任何变化？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T10:32:16.397

对于 OpenCSV，'\' 是默认的转义字符。您可以更改默认转义字符：

```
CSVReader reader = new CSVReader(
        new FileReader("E:\\download\\sample.csv"),
        CSVParser.DEFAULT_SEPARATOR,
        CSVParser.DEFAULT_QUOTE_CHARACTER,
        '#'); 
```

顺便说一句，您可以尝试[jCSV](https://code.google.com/p/jcsv/)。

# html - 为什么 WebSockets 使用握手来连接服务器？

> ID：15267783
> 
> 赞同：0
> 
> 时间：2013-03-07T09:44:14.550
> 
> 标签：html, websocket

我使用 WebSocket API 创建了我的个人项目，

当我从 w3c 阅读 WebSocket Spec 时，我想到了一件事。

为什么 WebSockets 使用握手来连接服务器？

我不能尝试使用套接字直接连接到服务器？

谢谢，祝你有美好的一天！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T11:41:43.247

你的问题不是很精确，但我想我知道你要去哪里。如果我错了，请纠正我。

新事物是：通过使用 WebSocket Upgrade 标头（在“握手”中），您可以使用对端口 80 的普通 HTTP 请求调用与服务器的低延迟双向连接。然后全双工连接开始通过服务器：80。

> 我不能尝试使用套接字直接连接到服务器？

你的意思是普通的TCP套接字？你总是可以尝试，你可以尝试任何端口，任何协议，但你想实现什么？如果您知道与 server:80 的 HTTP 连接可以升级为 WebSocket 连接，您可以自己编写相应的客户端，从普通的 TCP 套接字开始。但是，由于您已经知道要连接到 WebSocket 服务器，因此您应该使用现代浏览器提供的已建立的 WebSocket 客户端。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T13:39:08.093

握手允许 WebSocket 连接与正常的 HTTP(S) 流量一起使用，也可以在相同的端口上使用。握手的另一个目的是强制执行 CORS（跨域）安全策略。

握手并不是阻止 WebSocket 连接与普通 TCP 服务器一起使用的唯一因素。WebSocket 协议的每个数据帧都有前导头数据。这允许 WebSockets 成为基于消息的协议（而不是像 TCP 那样的原始流），并增加了对直接二进制数据支持的支持，还包括屏蔽数据（以保护 WebSocket 连接免受损坏的中介。

如果您需要从浏览器连接到原始 TCP 服务，则可以使用[websockify](https://github.com/kanaka/websockify)，它是一个 WebSocket 到 TCP 桥/代理。**免责声明**：我制作了 websockify。

# java - spring配置文件中的动态依赖注入

> ID：15267784
> 
> 赞同：1
> 
> 时间：2013-03-07T09:44:14.787
> 
> 标签：java, xml, spring, jakarta-ee, dependency-injection

我需要知道如何在 spring 配置文件中动态注入依赖项。例如，我有一个名为“A 类”的业务逻辑类。在该类中，它处理一个名为“doSomething()”的方法。根据应用程序，此方法可以以两种不同的方式执行（同一方法的两种类型的实现）。所以我用这个方法声明了一个名为“Manager”的接口，并为同一个接口创建了两个实现类。让我们称它们为实现接口“Manager”的“Impl1”和“Impl2”。

```
Interface Manager{
 void doSomething();
}

Class Impl1 implements Manager{ 

 public void doSomething(){
  //doIt like this way
 }

 Class Impl2 implements Manager{ 

 public void doSomething(){
  //doIt like that way
 }
} 
```

A 类引用了名为“manager”的“Manager”接口，该接口将在部署时通过 Spring DI 设置。该注入可以是 Impl1 对象或 Impl2 对象。它将由最终用户决定。所以我必须为最终用户提供两个选项，他或她可以决定他或她想要以哪种方式处理这个“doSomething（）”方法，并根据他或她的选择，我将注入相关的实现类（Impl1 或 Impl2 ）。

```
Class A{ 

 private Manager manager; //this can be either Impl1 or Impl2

 public void setManager(Manager manager){
  this.manager = manager;
 }

 public void performLogic(){
  manager.doSomething();
 }
} 
```

最终用户只有一次机会做出该选择，之后该应用程序将永远使用该实现，除非用户想再次安装应用程序的新副本。如何根据用户在spring xml文件中的选择动态注入相关实现。处理这种情况的最佳方法是什么？欢迎提出想法。

提前谢谢大家！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T09:55:18.563

您需要使用[Spring 配置文件](http://blog.springsource.org/2011/02/14/spring-3-1-m1-introducing-profile/)。

使用两个配置文件，将每个实现包装到其中一个。然后在开始时激活配置文件之一（例如使用系统属性）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:53:32.167

您认为以下内容如何：

```
Class A{ 

 @Autowired 
 @Qualifier("Impl1")
 private Manager manager1; // Impl1

 @Autowired 
 @Qualifier("Impl1")
 private Manager manager2; // Impl2

 // getter setter for manager1 and manager2

 public void performLogic(){
  getUserChoiceManager().doSomething();
 }

 private Manager getUserChoiceManager() {
   // return manager according to user choice
 }
} 
```

# jquery - qtip2 弹出窗口中的 jQuery 数据表

> ID：15267790
> 
> 赞同：0
> 
> 时间：2013-03-07T09:44:29.863
> 
> 标签：jquery, datatables, qtip2

我想在 qtip2 弹出窗口中插入 jQuery 数据表表。我做了这个测试：http: [//jsfiddle.net/fDavN/5588/](http://jsfiddle.net/fDavN/5588/)

但是没有显示搜索和分页。

```
$(document).ready(function() {

    $('.btn-layer').each(function() {    
    $(this).qtip( {
        content: {
            text: 'Loading...',            
            title: {
                text: 'User',
                button: true
            },
            ajax: {
                url: '/echo/json/',
                type: 'GET',
                dataType: 'text',
                cache: false,                
                //dataType: 'json',
                //contentType: 'application/json; charset=utf-8',
                //dataType: 'json',
                //data: { id: c_id },
                success: function(data) {
                    //var data = eval('(' + data + ')');                                        
                    data = testJson;                    
                    var $tab = $('<table class="table table-striped table-bordered dataTable" id="tbl1"></table>');                                                               
                    $($tab).dataTable({                    
                        "aaData": data.aaData,
                        "aoColumns": data.aoColumns
                    });
                    this.set('content.text', $($tab) );
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    alert('AJAX error!');
                } 
****

}); 
```

想法？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:02:34.877

I use jquery datatables lot and I think you problem is that you didn't add the element `<table class="table table-striped table-bordered dataTable" id="tbl1"></table>` into your page. I did the change of your code but didn't get time to test it. you can have a try.

```
success: function(data) {
    //var data = eval('(' + data + ')');                                        
    data = testJson;                    

    $('<table class="table table-striped table-bordered dataTable" id="tbl1"></table>').appendTo('body').dataTable({                    
        "aaData": data.aaData,
        "aoColumns": data.aoColumns
    });
    this.set('content.text', $($tab) );
}, 
```

# vba - 保存文件时进行备份的宏

> ID：15267796
> 
> 赞同：2
> 
> 时间：2013-03-07T09:44:40.917
> 
> 标签：vba, excel

我想要一个宏，它可以在保存文件时自动将我的文件备份到不同的文件夹。我找到了一个工作宏，但每次运行它时都会复制一份（在保存文件时不会自动生成）。谁能帮我修改宏代码以按照我的描述工作？

宏我有：

```
Sub Auto_Save()

Dim savedate

savedate = Date

Dim savetime
savetime = Time
Dim formattime As String
formattime = Format(savetime, "hh.MM.ss")
Dim formatdate As String
formatdate = Format(savedate, "DD - MM - YYYY")

Application.DisplayAlerts = False

Dim backupfolder As String
backupfolder = "Z:\My Documents\"
ActiveWorkbook.SaveCopyAs Filename:=backupfolder & formatdate & " " & formattime & " " & ActiveWorkbook.Name
ActiveWorkbook.Save
Application.DisplayAlerts = True
MsgBox "Backup Run. Please Check at: " & backupfolder & " !"

End Sub 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-07T10:03:27.830

你的意思是你只想要一个与原始文件同名的备份文件？只需从备份副本的文件名中删除日期和时间：

```
ActiveWorkbook.SaveCopyAs Filename:=backupfolder & ActiveWorkbook.Name 
```

您还应该添加某种错误处理，以防在尝试保存等时打开备份文件。

**编辑**（根据新输入更新）

好的，那么你需要捕获一个事件。我已经尝试过该`BeforeSave`事件并且它有效。还有一个`AfterSave`活动你可以试试。

将以下内容添加到`ThisWorkbook`模块中：

```
Option Explicit

Private Sub Workbook_BeforeSave(ByVal SaveAsUI As Boolean, Cancel As Boolean)
    Dim backupfolder As String

    backupfolder = "Z:\My Documents\"

    ThisWorkbook.SaveCopyAs Filename:=backupfolder & ThisWorkbook.Name
End Sub 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-03-06T17:39:22.007

这是我为备份工作簿而创建的代码。如果它不存在，它将为您的备份创建一个子目录，并将备份保存到该目录。

```
Private Sub Workbook_BeforeSave(ByVal SaveAsUI As Boolean, Cancel As Boolean)
    Application.EnableEvents = False

    thisPath = ThisWorkbook.Path
    myName = Left(ThisWorkbook.Name, (InStrRev(ThisWorkbook.Name, ".") - 1))
    ext = Right(ThisWorkbook.Name, Len(ThisWorkbook.Name) - InStrRev(ThisWorkbook.Name, "."))
    backupdirectory = myName & " backups"

    Set FSO = CreateObject("Scripting.FileSystemObject")

    If Not FSO.FolderExists(ThisWorkbook.Path & "/" & backupdirectory) Then
        FSO.CreateFolder (ThisWorkbook.Path & "/" & backupdirectory)
    End If

    T = Format(Now, "mmm dd yyyy hh mm ss")
    ThisWorkbook.SaveCopyAs thisPath & "\" & backupdirectory & "\" & myName & " " & T & "." & ext

    Application.EnableEvents = True
End Sub 
```

# mysql - 可以订购 DISTINCT mysqli 查询吗？

> ID：15267799
> 
> 赞同：2
> 
> 时间：2013-03-07T09:44:50.027
> 
> 标签：mysql

我用这个查询我的数据库：

```
SELECT DISTINCT type FROM drinks ORDER BY order ASC 
```

我收到此错误消息：

```
You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'order ASC' at line 1 
```

破坏它的绝对是 ORDER BY order ASC。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T09:45:49.480

用这个

```
SELECT DISTINCT type FROM drinks ORDER BY `order` ASC 
```

你也可以用这个

```
SELECT DISTINCT d.type FROM drinks AS d ORDER BY d.order ASC 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T09:47:27.720

Mysql 对您的列被称为“order”这一事实感到困惑，因为“order”是 mysql 中的一个关键字。添加反引号（如在另一个答案中）将确保 mysql 意识到它是一个列名。

# ios - 将 opentok 视频会议集成到 parse.com + iOS 应用程序中

> ID：15267806
> 
> 赞同：5
> 
> 时间：2013-03-07T09:45:20.743
> 
> 标签：ios, session, opentok, tokbox, video-conferencing

这个问题不仅针对代码，还针对我的应用程序设计。

我有一个需要 opentok 来处理视频/音频会话的 iphone 应用程序。我已经浏览了[基本示例](http://www.tokbox.com/opentok/ios/docs/index.html)，但我对会话管理感到困惑。

例如，如果我的 iphone 应用程序想要从地图视图呼叫用户，如果我只有这个用户的位置（坐标），我该怎么做？

如何确保我发布的会话以某种方式到达该特定用户并且该用户订阅它？目前我的应用程序中没有任何后端。我可能只有 N 个用户的位置数据，他们可以通过我的 iphone 应用程序通过 opentok 会话相互交谈。让我们假设目前每个会话只有 2 个用户是我的要求。

[我也知道opentok 和 parse 之间](http://www.tokbox.com/blog/parse-has-opentok-ios-sdks-backend-so-you-dont-have-to/)有一些集成，但我根本无法将所有东西收集在一个整洁的包中并构建它。我的意思是问，我应该在 Parse 中存储什么？我应该期望它自动使用 opentok 做什么？等等。

任何帮助或任何集成了 opentok 视频的代码示例都将受到高度赞赏。如果有人使用 parse 来处理 opentok 会话，那将是我想要的。

**更新：**

好的，我已经设置了解析，并且在数据选项卡下也有数据。从这一点来看，我想知道我需要做些什么才能整合 opentok 视频？[广播](http://www.tokbox.com/blog/parse-has-opentok-ios-sdks-backend-so-you-dont-have-to/)教程是一个起点，但并没有把事情完全放在上下文中，我仍然觉得脱节。需要一些更实际的例子。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-05-01T12:01:39.480

我强烈觉得[tokbox 教程](http://www.tokbox.com/blog/parse-has-opentok-ios-sdks-backend-so-you-dont-have-to/)非常基础，完成了要求，但学习曲线更陡峭。所以我最终写了我自己的应用程序兼教程：

我觉得有必要在这里发布： [如何使用 parse 和 opentok(tokbox) 编写你的第一个 iPhone 视频聊天应用程序](http://www.iphonegamezone.net/how-to-write-your-first-iphone-video-chat-app-using-parse-and-opentok-tokbox/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-08T19:00:15.923

每当一个人连接到 Opentok 时，他们需要两件事：会话 ID 和令牌

您可以将会话 ID 视为房间 ID。连接到相同会话 ID 的人能够与同一会话中的其他人交谈。

令牌只是进入会话的密码。

在您的应用中，这可能是最好的流程：

1.  使用您的应用程序的两个人想要相互交流。
2.  您的应用程序向您的服务器发出信号，表明他们想要相互交谈。
3.  您的服务器将向我们的服务器询问会话 ID。
4.  您的服务器将生成适用于会话 ID 的有效令牌。
5.  您的服务器会将会话 ID 和令牌中继给您的两个人。
6.  两个用户都将使用会话 ID 和令牌连接到会话，然后他们将能够相互交谈

如果您可以单独处理这些步骤中的每一个，那应该不会太难。

您将如何沟通两个用户希望彼此开始会话的方式取决于您的应用程序实现。之后，您可以按照 OpenTok 文档了解如何执行其余步骤（3-4 和 6）

参考：

*   [如何生成会话](http://tokbox.com/opentok/api/tools/documentation/api/rest_api.html)
*   [如何生成令牌](http://www.tokbox.com/blog/generating-tokens-without-server-side-sdk/)

请注意，生成会话和令牌应该在服务器端完成，因此客户端看不到您的 api 密码。

# php - PHP 中的 JavaScript

> ID：15267810
> 
> 赞同：1
> 
> 时间：2013-03-07T09:45:40.440
> 
> 标签：php, javascript, html

我正在尝试在初始屏幕 (JavaScript) 客户端验证表单，如果文本框中未输入任何文本，则显示警告框。单击提交警报框中的确定后，网页将返回初始屏幕。

如果输入了一些文本，JavaScript 必须重定向到 PHP 文件。

到目前为止，我已经想出了这段代码：

```
<HTML> 
<HEAD>
<TITLE>Discography Search</TITLE> 

<script language="javascript" type="text/javascript" >

function validate(){
var username=document.getElementById('name').value;
if(username.length==0)
    {
        alert("Enter something in Searchbox");
}
}
</script>

</head>

<BODY> 
<H1><center>Search</center></H1> 

<FORM ACTION="phpfile.php" METHOD=POST id="submit1"> 
Search: <INPUT NAME=name id="name"><BR> 
Type:    <SELECT NAME="dropdown">
<OPTION value="A" ID="A">ARTIST</OPTION>
<OPTION value="A" ID="B">B</OPTION>
<OPTION value="C" ID="C">C</OPTION>
</SELECT>
<br><br><br>
<INPUT TYPE=submit name="submit" onclick="validate()"> 
<INPUT TYPE=reset>
</FORM> 
```

和 phpfile.php ：

```
<html>
<head><title><center> Search Result</center></title></head>
<body>

<?php 
//echo $_POST["name"]; 
//echo $_POST["dropdown"]; 
$name=$_POST["name"];
$dropdown=$_POST["dropdown"];
if(empty($name)){

    alert("Please enter the something in the searchbox");
}
else{
    $url="http://www.allmusic.com/search/".$dropdown."/".$name."/";
    echo $url;
    //echo '
}   

?>

</body>
</html> 
```

但是，检查空值的部分，显示警报框，但执行 phpfile，我收到以下错误：

> 致命错误：在第 12 行调用 phpfile.php 中未定义的函数 alert()

1.  在警报框中单击“确定”后，我如何留在同一个 js 页面上？
2.  为什么我不能在 js 文件中包含 alert() ？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T09:50:36.360

1.  不要在按钮上设置onclick，而是在返回validate函数结果的表单上设置onsubmit。

    ```
    <FORM ACTION="phpfile.php" METHOD=POST id="submit1" onsubmit="return validate()"> 
    ```

    然后在验证函数中返回“false”。这将阻止表单提交。

2.  您不能在 PHP（在服务器上运行）中运行 javascript（在浏览器中运行）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:51:21.300

javascript 和 php 是两个不同的东西，你不能在 php 中包含 javascript 并期望它能够工作。让 php 向页面吐出一个标志，例如 $notvalid。将此回显到页面，例如

```
 <script>
 var notvalid = <?php echo $notvalid; ?> 
</script> 
```

然后用javascript检查js变量notvalid的值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T09:51:35.807

以这种方式使用它

```
<?php 
//echo $_POST["name"]; 
//echo $_POST["dropdown"]; 
$name=$_POST["name"];
$dropdown=$_POST["dropdown"];
if(empty($name)){
?>
   <script type="text/javascript">
    alert("Please enter the something in the searchbox");
   </script>
<?php
}
else{
    $url="http://www.allmusic.com/search/".$dropdown."/".$name."/";
    echo $url;
    //echo '

} 
```

?>

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-07T10:11:27.617

您没有`alert`输入 Javascript 代码。你把它放在 PHP 代码中。而 PHP 没有`alert`.

# c# - Windows 8 应用程序中的 Html 敏捷包

> ID：15267812
> 
> 赞同：1
> 
> 时间：2013-03-07T09:45:44.123
> 
> 标签：c#, windows-8, rss, html-agility-pack

我正在尝试在 c# 中创建一个足球 Windows 8 应用程序。在我的中心页面中，我想展示巴克莱超级联赛的赛程。现在我想知道是否可以从该网站获取数据：[http ://espnfc.com/fixtures/_/league/eng.1/english-premier-league?cc=5739](http://espnfc.com/fixtures/_/league/eng.1/english-premier-league?cc=5739)

Html Agility 包可以做到这一点吗？或者有人知道一些很棒的 RSS 提要吗？随意分享您对其他选择的想法！

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:00:05.973

请记住，您将使用 HTML Agility Pack 的 WinRT 编译版本，以便将其用作 Windows 应用商店应用程序库。

为这种数据解析网页绝对是可能的，我发现使用 Xpath 很容易。有很多浏览器扩展可以帮助您构建查询，例如 i [Xpath Helper for Chrome](https://chrome.google.com/webstore/detail/xpath-helper/hgimnogjllphhhkhlmebbmlgjoejdpjl)。

这是我为获取比赛日期而开发的代码示例：需要构造以从灯具网站获取比赛日期：

```
var url = "http://www.livefootball.com/football/england/premier-league/results/all/";
var webGet = new HtmlAgilityPack.HtmlWeb();
var document = webGet.Load(url);
var dates = document.DocumentNode.SelectNodes("//dl[@class='mElHeaderDet']");
foreach (var node in dates)
        {
            listOfDates.Add(node.InnerText);
        } 
```

# jquery - 使用 javascript 删除 cookie

> ID：15267815
> 
> 赞同：0
> 
> 时间：2013-03-07T09:45:51.883
> 
> 标签：jquery, asp.net-mvc

我有一个用于编写 cookie 的功能：

```
function Search_Click() {
  $.cookie("urlAction", null);
  $.cookie("searchKey", null);
  var searchkey = $('#txtsearch').val();
  var key = decodeURIComponent(searchkey);
  sampleData = "Q=" + key;
  if ($.cookie("urlInStock") != null) {
    action = "NewSearchIn";
  } else {
    action = "NewSearch";
  }
  urlAction = "Pro/" + action + "/";
  $.cookie("searchKey", sampleData);
  $.cookie("urlActionVal", urlAction);
  window.location = "/Pro?tab=2";
} 
```

完成后`Search_Click()`，页面将使用我刚刚注册的 cookie 重定向到另一个页面。

然后，如果用户单击链接，我想删除该 cookie。

这是我尝试过的：

```
 function deleteSearchCookies() {
    $.cookie("searchKey", null);
    $.cookie("urlActionVal", null);
 } 
```

但是当我在 FireBug 中出错时，会话仍然存在。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:49:12.247

```
function deleteCookie(name) {
    document.cookie = name+'="";-1; path=/';
}

var login = document.getElementById("loginlink");
login.onclick = function() {
  deleteCookie("name");
}; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T09:49:21.310

删除：

```
function deleteSearchCookies() {
    $.removeCookie("searchKey");
    $.removeCookie("urlActionVal");
} 
```

有关更多信息，[请访问问题](https://stackoverflow.com/questions/1458724/how-to-set-unset-cookie-with-jquery)

如果您不想使用插件，请使用（它的替代修改如你所愿）

```
//Creates client side cookie
function Cookie(name, value, minutes) {
   var expires = "";
   if (minutes) {
      var date = new Date();
      date.setTime(date.getTime() + (minutes * 60 * 1000));
      expires = "; expires=" + date.toGMTString();
   }

   document.cookie = name + "=" + value + expires;
}

function deleteSearchCookies() {
    Cookie("searchKey",null,-1);
    Cookie("urlActionVal",null,-1);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T09:48:20.830

像这样删除：

```
$.cookie(cookieName, null, { expires: -1, path: '/' }); 
```

抱歉，您需要使用相同的路径保存它，如下所示：

```
var date = new Date();
date.setTime(date.getTime() + sameValueForTime);
$.cookie(cookieName, value, { expires: date, path: '/' }); 
```

有时firebug会出现错误并在删除时显示cookie存在，但您只能在cookie区域看到它而不能使用它。

# wpf - WPF中的DatePicker问题，仅选择当前日期

> ID：15267819
> 
> 赞同：0
> 
> 时间：2013-03-07T09:45:59.110
> 
> 标签：wpf, visual-studio-2010, c#-4.0, datepicker

我在 .NET4 的 Visual Studio 2010 中使用 C# 构建 WPF 应用程序。我在窗口上放置了 2 个 datePickers 来选择两个不同的日期（或相同的日期）。当我尝试获取所选日期时，我从两个 datePickers 中获得相同的日期，无论是哪种情况，它们都返回当前日期。

![错误图像，选择的日期不同，但都返回相同的日期。](../Images/ace6925ab737e3b0eb77a6db60a40758.png)

请帮帮我。我错过了什么吗？

```
datePicker1.DisplayDate.ToString("MM/dd/yyyy"); 
```

编辑： DisplayDate 属性也固定为今天的日期。为什么？我怎样才能删除它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:58:57.033

您可以发布您的代码，但您所需要的应该是：

```
DateTime date = datePickerDate.SelectedDate.Value.Date; 
```

例如，取决于您还想提供的关于空值的验证类型（您可以只使用 .SelectedDate 或 SelectedDate.Value ，具体取决于您想要的类型）

# php - 搜索显示所有工厂，而不是我搜索的那个

> ID：15267820
> 
> 赞同：0
> 
> 时间：2013-03-07T09:45:59.667
> 
> 标签：php, html, codeigniter, search

我的 CodeIgniter 应用程序中有一个搜索功能，但它不能很好地工作，我不知道问题出在哪里，因为我对 CodeIgniter 还很陌生。

我的模型功能：

```
function get_search()
{
    $match = $this->input->post('search');
    $this->db->like('Bedrijfsnaam', $match);
    $this->db->or_like('Website', $match);
    $this->db->or_like('Email', $match);
    $query = $this->db->get('bedrijven');

    return $query->result();
} 
```

我的控制器功能

```
function search()
{
    $this->load->view('header');
    $this->load->view('search');
    $this->load->view('footer');
}

function searchresults()
{
    $this->load->model('Bedrijven_model');
    $data['query'] = $this->Bedrijven_model->get_search();
    $this->load->view('header');
    $this->load->view('searchresults', $data);
    $this->load->view('footer');
} 
```

第一个函数仅用于输入字段。第二个是为了结果。

我的看法：

我的搜索域视图：

```
<div id="bigcontent">
<h2>Bedrijven zoeken</h3>

<form name="input" action="searchresults" method="get">
<input type="search" name="search" id="search">
<input type="submit" value="Zoeken">
</form> 
```

我的结果页面：

```
<div id="bigcontent">
<table>
<tr><th>Bedrijf</th><th>Website</th><th>email</th></tr>
<?php foreach($query as $item):?>
<tr>
<td><?= $item->Bedrijfsnaam ?></td>
<td><?= $item->Website ?></td>
<td><?= $item->Email ?></td>
</tr>
<?php endforeach;?>
</table>
</div> 
```

希望有人看到问题:)

一些截图来澄清我的意思：这是搜索字段：

![搜索字段](../Images/84070dd6e377609ca9e5603755b4470d.png)

这是结果页：

![结果页面](../Images/53a5c4ff9feff733885647045cd3afd7.png)

谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:49:30.193

您不能将值发布到模型。与其发布，不如将其作为控制器本身的参数传递。

模型 ：

```
function get_search($match)
{
    $this->db->like('Bedrijfsnaam', $match);
    $this->db->or_like('Website', $match);
    $this->db->or_like('Email', $match);
    $query = $this->db->get('bedrijven');

    return $query->result();
} 
```

控制器 ：

```
function search()
    {
        $this->load->view('header');
        $this->load->view('search');
        $this->load->view('footer');
    }

    function searchresults()
    {
        $match = $this->input->post('search');
        $this->load->model('Bedrijven_model');
        $data['query'] = $this->Bedrijven_model->get_search($match);
        $this->load->view('header');
        $this->load->view('searchresults', $data);
        $this->load->view('footer');
    } 
```

`$match`从控制器传递。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T11:40:30.333

你得到了所有的结果，因为 $this->input->post('search) 是空的

你必须做这件事之一

在您的视图中更改发布方法：

```
<form name="input" action="searchresults" method="post"> 
```

或者，如果想通过获取请求保持表单提交，请将您的控制器更改为此

```
$match = $this->input->get('search'); 
```

只需进行**其中一项**更改并提供反馈

# iis-7.5 - 如何只允许特定证书访问该站点？

> ID：15267824
> 
> 赞同：1
> 
> 时间：2013-03-07T09:46:05.083
> 
> 标签：iis-7.5, ssl-certificate

正如标题所说；我想只允许访问我的 SSL 站点的几个证书。是否有任何我可以创建的带有指纹或序列号的允许/拒绝列表？

谢谢！

# javascript - 没有id的视频标签

> ID：15267825
> 
> 赞同：1
> 
> 时间：2013-03-07T09:46:05.697
> 
> 标签：javascript, html, google-chrome

我无法解决以下问题：

**HTML 代码：**

```
<video poster="http://www.html5rocks.com/en/tutorials/video/basics/star.png" controls="">
   <source src="http://www.html5rocks.com/en/tutorials/video/basics/Chrome_ImF.ogv" type="video/ogg; codecs=&quot;theora, vorbis&quot;">
</video> 
```

如果 video 标签没有 id 属性，如何播放或暂停此视频？我尝试使用谷歌浏览器开发工具并手动将 id 属性添加到视频标签，然后尝试使用 javascript 播放视频：

```
var p = document.getElementById('player_id');
p.play(); 
```

我用谷歌浏览器开发工具更改的 HTML 就像：

```
 <video id="player_id" poster="http://www.html5rocks.com/en/tutorials/video/basics/star.png" controls="">
... 
```

但是 id 属性是在页面加载后手动添加的。当我尝试在 google chrome 控制台中执行上面的 javascript 代码时，我收到了这个错误：

```
**TypeError: Cannot call method 'play' of null** 
```

javascript 代码在页面加载时具有 id 的视频标签上运行良好。我也尝试过这段代码，它不起作用 id video 标签在页面加载时没有 id 属性：

```
var players = document.getElementsByTagName('video'); 
  for(var i=0; i<players.length; i++)players[i].play(); 
```

如果此标签没有 id，如何访问视频标签控件，如播放、暂停等？

**示例页面：** *[http ://www.html5rocks.com/en/tutorials/video/basics/](http://www.html5rocks.com/en/tutorials/video/basics/)*

示例页面有更多视频，我也想暂停或只播放一个单独的视频，而且我对如何暂停页面上的所有视频感兴趣。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:48:43.837

如果页面上只有一个视频元素，那么这应该可以：

```
document.getElementsByTagName("video")[0].play(); 
```

[工作示例](http://jsfiddle.net/fEz5B/)

**注意：**

您必须在 DOM 准备好后调用它，以确保当您尝试选择它时视频元素实际上在 DOM 中。最简单的方法是把这段代码放在一个脚本标签中，就在你的正文元素的末尾。这样您就可以确定视频元素在 DOM 中可用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:51:23.617

如果您只有一个视频标签，则可以使用`getElementsByTagName('video')`避免使用后 DOM 渲染操作。

其他解决方案，在放置 id 时在 dom 之后渲染整体。

# css - 如何阅读 CSS 规范？

> ID：15267828
> 
> 赞同：0
> 
> 时间：2013-03-07T09:46:21.137
> 
> 标签：css

我找到了[CSS2.1 规范](http://www.w3.org/TR/CSS2/)。但是，似乎我应该阅读一些我找不到的 CSS3 规范。原因是每个人都在问你在使用 CSS3 吗？坦率地说，我对阅读什么内容才能很好地理解 CSS 感到困惑。我认为规范是最好的资源，但我找不到 CSS3 规范。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T09:50:39.363

CSS3 规范分为模块，您可以在[此处](http://www.w3.org/Style/CSS/current-work.en.html)找到其列表。

CSS2.1 是大多数新模块扩展（和取代）的基本建议，并且是大多数浏览器实现的，尤其是在尚不支持 CSS3 的领域。如果您对 CSS2.1 有很好的了解，那么您已经涵盖了大部分内容，并且您应该不会对新模块有太多麻烦（Google Chrome 以外的浏览器也不应该）。

部分模块已完成并达到推荐状态；您可以在上面的已完成链接中找到这些列表，或在[此处](http://www.w3.org/standards/techs/css#completed)提供说明。这些替换了它们各自的 CSS2.1 部分，例如[Selectors level 3](http://www.w3.org/TR/css3-selectors)取代了[CSS2.1 Selectors](http://www.w3.org/TR/CSS21/selector.html)。

# php - 将数据从一个输入插入两个 mysql 列

> ID：15267831
> 
> 赞同：0
> 
> 时间：2013-03-07T09:46:31.313
> 
> 标签：php, mysql, insert, str-replace, multiple-columns

我有一个由 Dreamweaver CS5 创建的简单 insert.php 公式。我希望能够将此公式中的新闻标题输入到我的数据库中的“news_headline”列中，然后自动将此标题添加到“news_slug”列中，并将小写字母和空格转换为减号。

因此，如果我在表单的标题输入字段中输入“这是一个标题”，它会在我的“news_headline”列中输入“这是一个标题”，它会将“this-is-a-headline”添加到我的“ news_slug”栏目。

到目前为止，我得到了以下代码：

```
if ((isset($_POST["MM_insert"])) && ($_POST["MM_insert"] == "form1")) {
$news_headline = $_POST['news_headline'];
$news_slug = str_replace(' ', '-', $news_headline);

  $insertSQL = sprintf("INSERT INTO tbl_news (news_headline, news_slug) VALUES (%s, %s)",
                   GetSQLValueString($_POST['news_headline'], "text"),
                   GetSQLValueString($_POST['news_slug'], "text")); 
```

基本休息

```
 mysql_select_db($database_Jahrhundertkomet, $con);
    $Result1 = mysql_query($insertSQL, $Jahrhundertkomet) or die(mysql_error());}
    mysql_select_db($database_Jahrhundertkomet, $con);
    $query_Jahrhundertkomet = "SELECT * FROM tbl_news";
    $Jahrhundertkomet = mysql_query($query_Jahrhundertkomet, $con) or die(mysql_error());
    $row_Jahrhundertkomet = mysql_fetch_assoc($con);
    $totalRows_Jahrhundertkomet = mysql_num_rows($con);
    mysql_free_result($con);
    ?>
    <form method="post" name="form1" action="<?php echo $editFormAction; ?>">
    <table align="center">
    <tr valign="baseline">
      <td nowrap align="right">News_headline:</td>
      <td><input type="text" name="news_headline" value="" size="32"></td>
    </tr>
        <tr valign="baseline">
      <td nowrap align="right">&nbsp;</td>
      <td><input type="submit" value="Datensatz einfügen"></td>
    </tr>
  </table>
  <input type="hidden" name="MM_insert" value="form1">
</form> 
```

但是现在，当我在代码中输入标题时，会出现错误：列“news_slug”不能为空。我必须更改什么才能将我的输入从 news_headline 输入到带有转换的 news_slug 中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:53:02.243

如果您只想替换分数的空格，您可以使用[str_replace](http://php.net/manual/en/function.str-replace.php)：您也正在使用`$_POST['news_slug'];`which 不会收到任何内容，因为`news_slug`您的表单中没有命名输入。

尝试这个：

```
 $news_headline = $_POST['news_headline'];
 $news_slug = str_replace(' ', '-', $news_headline); 
```

并将这些行放在这一行之后：

```
if ((isset($_POST["MM_insert"])) && ($_POST["MM_insert"] == "form1")) { 
```

# extjs - 任何人都可以帮助使用 sencha 和 cordova 在 VS2012 中开发 windows phone 应用程序

> ID：15267832
> 
> 赞同：0
> 
> 时间：2013-03-07T09:46:33.280
> 
> 标签：extjs, visual-studio-2012, cordova

我需要使用 sencha+cordova 和 VS2012 开发一个 Windows 移动应用程序。我找不到任何教程或文章或任何可以帮助我开发 Windows 移动应用程序的东西。请帮忙。谢谢阿舒托什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T13:25:40.463

正如 A1rPun 所说，要开始使用，您应该开始遵循Cordova 网站上的[入门指南。](http://docs.phonegap.com/en/2.5.0/guide_getting-started_index.md.html#Getting%20Started%20Guides)[具体来说，如果您特别查看Windows Phone 8](http://docs.phonegap.com/en/2.5.0/guide_getting-started_windows-phone-8_index.md.html#Getting%20Started%20with%20Windows%20Phone%208)的入门和第 2 步，它将告诉您如何安装 Visual Studio 模板，这些模板将允许您创建配置为使用 Cordova 的新项目类型。

或者，您可以查看一些服务，这些服务可以让您更轻松地开始在 VS 中进行 Cordova 开发。完全披露我为这个团队工作，但[Nomad for Visual Studio](http://vsnomad.com)旨在让您在下载后大约 3 分钟内在 VS 中开发 Cordova 应用程序，无需安装任何 SDK 或进行任何配置。

# erlang - ets表继承和trap_exit消息

> ID：15267837
> 
> 赞同：2
> 
> 时间：2013-03-07T09:46:44.517
> 
> 标签：erlang, ets

阅读“Learn You Some Erlang”我发现我可以为给定的 ets 表设置一个进程继承者，它将接收消息：

```
{'ETS-TRANSFER', TableId, FromPid, Data} 
```

当拥有该表的进程死亡时。

过了一会儿，我发现这篇[文章](http://steve.vinoski.net/blog/2011/03/23/dont-lose-your-ets-tables/)对如何使用此类功能保留 ets 表有不同的建议。

在最后一种方法中，用户建议也使用 trap_exit 以了解拥有该表的对等进程是否已死。现在我的问题是：我首先收到哪条消息？关于 ets 表的消息还是关于对等进程崩溃的消息？

真的有必要处理退出消息吗？当我收到 ets 消息时，我知道处理它的对等进程已经死了，对吗？还是它还活着一段时间？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-08T19:11:27.560

根据帖子，在give_away之后，如果创建进程死掉，进程SomeOtherProcess会收到表单`{'ETS-TRANSFER', TableId, OldOwner, GiftData}`错误的消息。当[调用 give_away/3](http://www.erlang.org/doc/man/ets.html#give_away-3)时，SomeOtherProcess 立即成为新的所有者进程并接收此消息，即使创建者没有死亡。

正如您所说，也没有必要处理退出信号，但您可能希望在接收退出消息时执行任何其他操作。（还处理赠品链，将表从所有者等处取回给创建者）

通常我遇到的是“ETS-TRANSFER”消息出现在“EXIT”之前，但我们无法对此进行回复。因此，正如 Roberto Aloi 所提到的，我们可以进行选择性接收。选择性接收是使用嵌套接收实现的。例子

```
receive
    {'EXIT', Pid, Reason} ->
        receive
            {'ETS-TRANSFER', TableId, OldOwner, HeirData} ->
                got_table
        after 0 ->
                ignore
        end 
after 0 ->
        ignore
end. 
```

[LearnYouSomeErlang](http://learnyousomeerlang.com/more-on-multiprocessing) has good explanation of selective receive and why/how to avoid it to give priority to messages received.

# php - 将数组传递给 __construct

> ID：15267838
> 
> 赞同：0
> 
> 时间：2013-03-07T09:46:45.213
> 
> 标签：php, arrays, oop, constructor

我有以下数组：

```
$allZones = array (
    'header'    =>  array('div1', 'div2'),
    'content'   =>  array('div3', 'div4')        
); 
```

我使用它通过以下方式创建实例：

```
foreach($allZones as $newZoneId => $newZoneSubs) {
    $newZone = new zone($newZoneId, $newZoneSubs);
} 
```

'zone' 类的构造函数如下所示：

```
public function __construct($newZoneId, array $newZoneSubs) {
    $this->zoneId = $newZoneId;

    if(is_array($newZoneSubs)) {
        foreach($newZoneSubs as $newZoneSub) {
                $this->zoneSubs[] = new zone($newZoneSub, '');
        }
    }
    else {
        echo "1: " . $newZoneSubs;
    }
} 
```

由于某种原因， $newZoneSubs 是空的。

谁能告诉我为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:51:56.620

`new zone($newZoneSub, '')`- 你在这里传递一个字符串，但第二个参数必须是一个数组，否则你会因为参数提示而得到一个可捕获的致命错误`__construct($newZoneId, array $newZoneSubs)`

试试看

```
foreach($newZoneSubs as $newZoneSub) {
    $this->zoneSubs[] = new zone($newZoneSub, array());
} 
```

例如

```
<?php
$allZones = array (
    'header'    =>  array('div1', 'div2'),
    'content'   =>  array('div3', 'div4')        
);
foreach($allZones as $newZoneId => $newZoneSubs) {
    $newZone = new zone($newZoneId, $newZoneSubs);
    echo $newZone, "\n";
}

class zone {
    protected $zoneId, $zoneSubs;

    public function __construct($newZoneId, array $newZoneSubs) {
    $this->zoneId = $newZoneId;
    $this->zoneSubs = array();
    foreach($newZoneSubs as $newZoneSub) {
            $this->zoneSubs[] = new zone($newZoneSub, array());
        }
    }

    public function __toString() {
        return $this->foo(0);
    }

    protected function foo($n) {
        $rv =  str_repeat(' ', $n)
        .'zoneid='
        .$this->zoneId
        ."\n";
        foreach( $this->zoneSubs as $sub ) {
            $rv .= $sub->foo($n+1);
        }
        return $rv;
    }
} 
```

印刷

```
zoneid=header
 zoneid=div1
 zoneid=div2

zoneid=content
 zoneid=div3
 zoneid=div4 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T10:03:15.173

问题出在您的构造函数内部；如果`$newZoneSubs`是可选的，您可以像这样定义它：

```
public function __construct($newZoneId, array $newZoneSubs = array()) 
{
    $this->zoneId = $newZoneId;

    foreach($newZoneSubs as $newZoneSub) {
        $this->zoneSubs[] = new zone($newZoneSub);
        //                                      ^^
        //                                   not passing the second param
    }
} 
```

# java - 如何清除使用 JUnit/Robotium 测试测试的应用程序中的静态变量？

> ID：15267845
> 
> 赞同：0
> 
> 时间：2013-03-07T09:47:03.980
> 
> 标签：java, android, junit, integration-testing, robotium

我正在为一个代码库编写自动测试（带有 ActivityInstrumentationTestCase2 的 Robotium），该代码库有很多包含静态变量的遗留代码，并希望确保我们在每个测试中开始的状态是相同的。

我们清除静态变量的方法是杀死整个进程然后重新启动它。这对应用程序本身很有效，但是在运行测试项目时，它会导致我们在控制台中收到“应用程序崩溃。_运行仪器”以及***logcat***中的以下行：

```
03-05 11:08:01.113: I/ActivityManager(70): Process com.____________ (pid 662) has died.
03-05 11:08:01.113: W/ActivityManager(70): Crash of app com.___________ running instrumentation 
```

有谁知道是否有另一种方法来清除变量（不必一个一个地检查它们）或另一种方法来解决这个问题？

以下是 logcat 的更多内容：

```
03-05 11:07:59.553: D/____________(662): NEW STATE FROM SERVICE: STATE_SHUTTING_DOWN
03-05 11:07:59.613: I/TestRunner(662): finished: testLoginCorrectUserNameIncorrectPassword(com.____________.test.LoginScreenTest)
03-05 11:07:59.613: I/TestRunner(662): passed: testLoginCorrectUserNameIncorrectPassword(com.____________.test.LoginScreenTest)
03-05 11:07:59.613: I/TestRunner(662): started: testLoginIncorrectUserName(com.____________.test.LoginScreenTest)
03-05 11:07:59.643: I/ActivityManager(70): Starting: Intent { act=android.intent.action.MAIN flg=0x10000000 cmp=com.____________/.____________ } from pid 662
03-05 11:08:00.183: D/dalvikvm(150): GC_CONCURRENT freed 185K, 51% free 2846K/5703K, external 957K/1462K, paused 3ms+102ms
03-05 11:08:01.075: D/____________(662): NEW STATE FROM SERVICE: STATE_TERMINATED
03-05 11:08:01.083: I/Process(662): Sending signal. PID: 662 SIG: 9
03-05 11:08:01.113: I/ActivityManager(70): Process com.____________ (pid 662) has died.
03-05 11:08:01.113: W/ActivityManager(70): Crash of app com.____________ running instrumentation ComponentInfo{com.____________.test/android.test.InstrumentationTestRunner}
03-05 11:08:01.123: D/AndroidRuntime(654): Shutting down VM
03-05 11:08:01.123: I/ActivityManager(70): Force stopping package com.____________ uid=10034
03-05 11:08:01.173: D/dalvikvm(654): GC_CONCURRENT freed 117K, 71% free 300K/1024K, external 0K/0K, paused 1ms+1ms
03-05 11:08:01.173: D/jdwp(654): Got wake-up signal, bailing out of select
03-05 11:08:01.173: D/dalvikvm(654): Debugger has detached; object registry had 1 entries
03-05 11:08:01.193: I/dalvikvm(654): JNI: AttachCurrentThread (from ???.???)
03-05 11:08:01.193: I/AndroidRuntime(654): NOTE: attach of thread 'Binder Thread #3' failed
03-05 11:08:01.252: W/InputManagerService(70): Window already focused, ignoring focus gain of: com.android.internal.view.IInputMethodClient$Stub$Proxy@40980df8
03-05 11:08:01.372: D/dalvikvm(219): GC_EXTERNAL_ALLOC freed 14K, 50% free 2868K/5639K, external 4235K/5259K, paused 44ms 
```

感谢您的帮助，

托德

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T14:51:13.830

[ReflectionTestUtils](http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/test/util/ReflectionTestUtils.html)会有所帮助，但不能解决您的要求`one-by-one`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T17:04:37.133

可悲的是，我认为您在这里会遇到麻烦，我不相信有一种简单的方法可以做到这一点，因为您的测试和您的应用程序在使用仪器时共享相同的过程，因此您无法使用当前的方法来提供您想要的结果除非您一次运行一项测试。您可以使用 adb instrument 命令执行此操作并单独运行每个测试，然后重新启动该过程，这会使您的测试变慢（由于默认的测试运行程序包搜索可能非常慢，但是您可以更改它以便只扫描某些测试包）

您拥有的第二个选项是您认为将静态设置为默认值，这总是很痛苦，因为没有自动方法可以知道哪些静态需要重置以及哪些需要保持原样。

# php - 将文件上传到 ftp 时出错

> ID：15267866
> 
> 赞同：2
> 
> 时间：2013-03-07T09:48:12.317
> 
> 标签：php, file-upload, ftp

我想将 csv 提要上传到公共 ftp。

我有这个：

```
global $_CONFIG;
$host           = $_CONFIG['po']['ftp']['server'];
$username       = $_CONFIG['po']['ftp']['username'];
$password       = $_CONFIG['po']['ftp']['password'];
$ftp_path       = $_CONFIG['po']['ftp']['upload_path'];

$file = $export_file;
$fp = fopen($export_file, 'r+');

// set up basic connection
$conn_id = ftp_connect($host);

// login with username and password
$login_result = ftp_login($conn_id, $username, $password);

// try to upload $file
if (ftp_fput($conn_id, $ftp_path, $fp, FTP_BINARY)) {
    echo "Successfully uploaded $file\n";
    exit;
} else {
    echo "There was a problem while uploading $file\n";
    exit;
}
// close the connection and the file handler
fclose($fp);

ftp_close($conn_id); 
```

主机、用户、密码正确。导出文件是`D:/some path .csv`

问题是调用了 ftp 服务器上的文件`.upload.somefile.csv`（并且它没有完整大小）。

ftp_path 是`/somefile.csv`.

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:59:32.290

这可能是由于 FTP 的工作方式与您的网络布局冲突而发生的。

尽管您连接到 FTP 服务器来控制会话，但默认情况下，服务器会通过单独的数据连接“回调”给您进行传输。在某些情况下，防火墙、NAT 等都可能会干扰此过程。

尝试使用 FTP 的*PASV*模式，使用[`ftp_pasv`](http://www.php.net/manual/en/function.ftp-pasv.php)，它会反转数据连接的方向。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:52:52.237

文件`csv`应该使用`FTP_ASCII`，而不是`FTP_BINARY`

所以：

```
 global $_CONFIG;
    $host           = $_CONFIG['po']['ftp']['server'];
    $username       = $_CONFIG['po']['ftp']['username'];
    $password       = $_CONFIG['po']['ftp']['password'];
    $ftp_path       = $_CONFIG['po']['ftp']['upload_path'];

        $file = $export_file;
        $fp = fopen($export_file, 'r+');

        // set up basic connection
        $conn_id = ftp_connect($host);

        // login with username and password
        $login_result = ftp_login($conn_id, $username, $password);

        // try to upload $file
        if (ftp_fput($conn_id, $ftp_path, $fp, FTP_ASCII)) {
            echo "Successfully uploaded $file\n";
            exit;
        } else {
            echo "There was a problem while uploading $file\n";
            exit;
        }
        // close the connection and the file handler
        fclose($fp);

        ftp_close($conn_id); 
```

# php - PHP中的多个通知推送iPhone

> ID：15267870
> 
> 赞同：0
> 
> 时间：2013-03-07T09:48:24.300
> 
> 标签：php, iphone, push-notification

我的代码有一个小问题

```
 <?php
        define("DB_HOST","");
        define("DB_USER","");
        define("DB_PASSWORD","");
        define("DB_DATABASE","");

        $con = mysql_connect(DB_HOST,DB_USER,DB_PASSWORD) or die("erreur connection");
        mysql_select_db(DB_DATABASE);

        //Make $i Global and set it to zero
        global $i;
        $i=0;
       //Make $j Global and set it to zero
        global $j;
        $j=0;
        //Makes $message global and defines the text for the message
        global $message;
        $message = "Hello everybody";
        //Gets the device token
        $result = mysql_query("select token FROM users_iphone");
        while($row = mysql_fetch_array($result))
        {
          //Gets the message string
          GLOBAL $message;
          //Gets the devicetoken from the database and sets a string with the token
          $devicetoken = $row['deviceToken'];
          //Calls the function to send the message and defines parameter for the function. In this case the device token and the message to be sent.
          sendPOST($devicetoken, $message);
          //Gets $i, defined earlier and adds 1 to it for each device token in our database.  We are counting how many devicetokens we have.
          global $i;
          $i++;
       }
       //Function that sends our push notification
        function sendPOST ($deviceToken, $messageGlobal){
        $deviceToken = '<5398e918 2c303556 23dfff5e 2754ff54 e55106f9 8d07ea4b 96cd88ba 288f526f>';
    $deviceToken = str_replace('<', '', $deviceToken);
    $deviceToken = str_replace('>', '', $deviceToken);
    $deviceToken = str_replace(' ', '', $deviceToken);
    //token is good with no space and no > and <

$passphrase = 'mypassphrase';
        //start of apns code
       $ctx = stream_context_create();
       stream_context_set_option($ctx, 'ssl', 'local_cert', 'ck.pem');
       stream_context_set_option($ctx, 'ssl', 'passphrase', $passphrase);
        $fp = stream_socket_client(
    'ssl://gateway.sandbox.push.apple.com:2195', $err,
    $errstr, 60, STREAM_CLIENT_CONNECT|STREAM_CLIENT_PERSISTENT, $ctx);
        if (!$fp)
    exit("Failed to connect: $err $errstr" . PHP_EOL);

        $body['aps'] = array(
    'alert' => $messageGlobal,
    'sound' => 'default'
    );
        $payload = json_encode($body);
        $msg = chr(0) . pack('n', 32) . pack('H*', $deviceToken) . pack('n', strlen($payload)) . $payload;
       $result = fwrite($fp, $msg, strlen($msg));
         if (!$result)
    echo 'Message not delivered' . PHP_EOL;
       //end of apns code
       //gets $j and adds 1  
       global $j;
    $j++;
       fclose($fp);
       }
       //checks if $j is equal to $i.  If so it means all the messages were delivered to apns (This doesn't mean that all the messages will be delivered by apple.  It does mean that they were delivered to apple from us.
        if ($j==$i){
        echo "<h1><b>Message's Successfully delivered.</b></h1><br>";

        echo "<b>Message:</b> $message<br>";
        echo "<b>Messages Delivered: </b>$j out of $i";
        }
        //this checks to see if $i is greater that $j.  If not then that means something went wrong on our end.  Therefore we have not delivered all the messages from our end to apple successfully.  This could mean a bad connection or server failure/error.
        elseif ($i>$j){
        echo "<h1><b>Not all messages have been delivered (at least on our end).  $j out of $i messages were delivered on our end.</b></h1>";

            echo "<b>Message:</b> $message";
          echo "<b>Messages Delivered: </b>$j out of $i";
        }
         ?> 
```

当我在我的 php 文件中直接记下 $deviceToken 时，会收到通知，但是当我想在我的数据库中恢复 deviceToken 时，它不起作用！

请帮助我，我的代码包含一些问题？

非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:00:49.610

*   根据我的经验，如果您正确完成所有编码和其他工作，但是，在您的数据库中有*无效*（在测试期间插入）令牌，并在循环中向所有设备发送推送消息，则推送通知将不会在第一次故障后发送/无效的令牌，即使您还有更多好的令牌。所以，请检查一下。
*   [***APNS-php 是一个高级 API***](http://code.google.com/p/apns-php/)，可以帮助您进行多次发送、检测错误令牌等。好吧，您当然可以不用它，但是测试 Pushnotification 发送几乎需要 90% 的开发时间，而且这个 API 和它很酷的异常处理可以摇滚你的世界！

# android - 如果没有主应用程序，后台服务能否存在？

> ID：15267877
> 
> 赞同：13
> 
> 时间：2013-03-07T09:48:33.660
> 
> 标签：android, service, background-service

让我们检查下一个场景：

1.  我创建了一个新的 android 应用程序，其中包含应用程序类、活动和后台服务。
2.  我`static`在应用程序类中有一些变量，可以说它是 int i = 0;
3.  我启动`activity`，并`service`从活动启动`onCreate()`，服务获得`START_STICKY`标志。
4.  所做`service`的只是使用 TimerTask 将当前秒写入应用程序类中的变量。5.我退出活动
5.  一段时间后，Android 将终止服务和应用程序（假设设备资源不足），并因为`START_STICKY`标志而重新启动服务。

现在我必须提出问题：

1.  操作系统杀死应用程序但不杀死服务的情况是什么？
2.  当服务被系统重新启动时，应用程序是否也会重新启动？如果是 - 它将有哪个上下文，如果没有，怎么可能有一个服务在没有他的应用程序的情况下运行？

谢谢，对不起我糟糕的英语......

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2015-07-10T20:48:13.193

## **1\. 是否存在OS kill 的应用程序，但没有kill 服务的情况？**

**tl;博士：**是的，这是可能的。但是，`Service`必须在它自己的进程中启动。

## **解释：**

重要的是要意识到 Android 操作系统会在内存不足时杀死*进程，而不是**单个组件*，例如`Activities`或`Services`（[请参阅此答案](https://stackoverflow.com/a/7576275/1290264)）。

鉴于上述陈述，很明显，只有当它们包含在单独的进程中时，a`Service`才能独立于 the 存在。`Application`否则，当它们的进程被销毁时，它们将一起被销毁。

现在考虑单独进程上的`Service`和存在的情况。`Application`在 Android 中，进程在内存不足的情况下从最低优先级到最高优先级被销毁。优先顺序是：**空 < 背景 < 服务 < 可见 < 前景**（[见这里](http://developer.android.com/guide/components/processes-and-threads.html#Lifecycle)）。因此，您可能会在您还活着的时候`Application`被销毁（例如，如果您的应用程序在后台），也可能在您的应用程序还活着的时候被销毁（应用程序在前台）。`Service``Service`

[`android:process`](http://developer.android.com/guide/topics/manifest/service-element.html)您可以通过在组件清单标签中定义属性来声明应用程序的任何组件（Activity、Service、ContentProvider 等）以在其自己的进程中运行。

来自[Processes](http://developer.android.com/guide/components/processes-and-threads.html)的官方文档：

> 默认情况下，同一应用程序的所有组件都在同一进程中运行，大多数应用程序不应更改这一点。`Activity`但是，[...] 每种类型的组件元素（ 、`Service`、`Receiver`和）的清单条目都`Provider`支持一个`android:process`属性，该属性可以指定该组件应在其中运行的进程。您可以设置此属性，以便每个组件在其自己的进程中运行，或者使某些组件共享一个进程而其他组件不共享。[...] 该`Application`元素还支持 android:process 属性，以设置适用于所有组件的默认值。

* * *

## **2\. 服务被系统重启后，应用也会重启吗？**

这与问题1中的答案有关。

If the `Service` exists in the same process as the `Application` then they will both be destroyed and restarted together.

If the `Service` exists in a separate process as the `Application` then they are completely separate processes, and therefore will be destroyed and restarted independent of each other as the Android OS deems appropriate.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:53:59.720

> 操作系统会杀死应用程序但不会杀死服务的情况吗？

是的，有这种情况，通常服务会在活动后终止，因为它们需要系统的最后资源阅读[此处的文档](http://developer.android.com/reference/android/content/Context.html#startService%28android.content.Intent%29)

> 当服务被系统重新启动时，应用程序是否也会重新启动？

对此不确定，但我认为不可以，因为没有应用程序引用，服务也可以生存

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T09:06:12.760

Tomer Mor 的回答是不正确的。

当你`Application`死了——你`Service`的也死了。

您`Service`的 s 将仅在您的`Application`. 您可以通过记录他们的`onCreate()`.

# clojure - 懒惰没有按预期工作

> ID：15267881
> 
> 赞同：6
> 
> 时间：2013-03-07T09:48:44.490
> 
> 标签：clojure, functional-programming, lazy-evaluation, chunking

```
(defn seq-trial
  []
  (map #(do (println "hello " %) (inc %)) (range 10)))

(take 3 (seq-trial)) 
```

评估时上面的代码片段打印出以下内容 -

（你好 0 你好 1 你好 2 你好 3 你好 4 你好 5 你好 6 你好 7 你好 8 你好 9 1 2 3）

因为 map 返回一个惰性序列，我希望它只打印 -

（你好 0 你好 1 你好 2 1 2 3）

为什么要在这里评估整个列表？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-07T10:03:13.580

这是因为称为分块的性能优化。本质上，该序列是在称为块的*n 个项目的组中实现的。*这意味着您需要注意映射函数中的任何副作用。最终结果是正确的，你仍然得到一个正确长度的序列返回

默认块大小为 32，因此如果将范围增加到大于该值的值，您会更好地理解发生了什么：

```
user> (defn seq-trial
  []
  (map #(do (println "hello " %) (inc %)) (range 100)))

user> (take 3 (seq-trial))
hello  0 ; 32 item 'chunk' realized...
hello  1

...

hello  30
hello  31
(1 2 3)  ; the expected returned value 
```

如果您需要避免分块，有可用的[选项](https://stackoverflow.com/questions/3407876/how-do-i-avoid-clojures-chunking-behavior-for-lazy-seqs-that-i-want-to-short-ci)

# css - 在固定宽度的 div 中乘以图像调整大小和位置（以填充所有位置）

> ID：15267885
> 
> 赞同：-1
> 
> 时间：2013-03-07T09:48:49.613
> 
> 标签：css, image, resize, frontend

我需要将几张图片发布到固定宽度的 div 中。图像总是不同的，具有不同的宽度和高度。我的目标 - 将它们顺利放置以填充我 div 的所有区域。我需要做的最好的例子是由 Vk.Com 创建的。这里有些例子：

![在此处输入图像描述](../Images/96e560bcc72c380f6093335e3007b77b.png) ![在此处输入图像描述](../Images/c843a8decd461f78a2a7f1f8d4a8145d.png) ![在此处输入图像描述](../Images/a4015f833fcb314812b7df3f6436b35c.png) ![在此处输入图像描述](../Images/3dea7b092a786cca7905ef13720f7691.png) ![在此处输入图像描述](../Images/e0e5bf2595a9012290d8ca67b201c6fc.png)

如您所见，无论有多少用户加载图像以及它们的大小是多少。Vk.Com 在固定宽度的 div 中裁剪、调整大小和适合所有图片。您如何看待，是否有任何开源解决方案可以做到这一点？谢谢大家。

**UPD：**加载了一些非常不同的图像，具有绝对广泛的尺寸。 ![在此处输入图像描述](../Images/385a57a30d65c9ebd324811a8b7c3957.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:53:18.723

这个问题实际上比我想象的要复杂得多。我知道有一些布局插件可以将常规大小的图像放入开槽布局（[同位素](http://isotope.metafizzy.co/demos/images.html)）中，有些可以将随机大小的图像放入简单的线性布局（[自动图像蒙太奇](http://tympanus.net/codrops/2011/08/30/automatic-image-montage/)），但我还没有看到任何脚本这将采用随机大小的图像，并调整它们的大小以适应开槽布局。

[这个人设法找出了 Google Plus 风格画廊](http://www.techbits.de/2011/10/25/building-a-google-plus-inspired-image-gallery/)（看起来和你的相似）所需的关键功能，但得出的结论是，这取决于服务器端生成多种图像尺寸，以及一些逻辑。但是，他最后确实生成了一个[纯 Javascript 简化版本](http://fmaul.de/gallery-grid-example/)。

# facebook-apps - Facebook 没有打开我的新应用（内容不可用错误）

> ID：15267895
> 
> 赞同：0
> 
> 时间：2013-03-07T09:49:03.780
> 
> 标签：facebook-apps

我为 Facebook 制作了一个应用程序（我的第一个），我想将我的博客链接到我的粉丝页面。当我单击我的粉丝页面中的标签（应该将我的粉丝引导到我的博客）时，显示的页面显示**内容不可用**，因为该页面不受信任。我得到错误 `ssl_error_bad_cert_domain`。为什么是这样？有问题的网址是：

[http://sigxronopaidagogio.blogspot.com](http://sigxronopaidagogio.blogspot.com)
[https://www.facebook.com/sinchronopaidagogeio](https://www.facebook.com/sinchronopaidagogeio) [https://www.facebook.com/sinchronopaidagogeio/app_429582450457633](https://www.facebook.com/sinchronopaidagogeio/app_429582450457633)

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T11:03:36.090

> 我为 Facebook 制作了一个应用程序（我的第一个），我想将我的博客链接到我的粉丝页面。当我点击我的粉丝页面中的标签时（应该将我的粉丝引导到我的博客）

请阅读[平台政策](https://developers.facebook.com/policy/)——其中明确指出，页面标签应用程序的唯一目的**不得是**引导用户远离 Facebook；但这听起来正是您想要做的。

> 显示的页面表示内容不可用，因为该页面不受信任。我收到错误 ssl_error_bad_cert_domain。为什么是这样？

因为您的服务器没有域 www.sigxronopaidagogeio.blogspot.com 的有效 SSL 证书。

Facebook 上的应用程序需要有效的 SSL 连接。

# url - 如何在url中设置窗口分辨率

> ID：15267906
> 
> 赞同：0
> 
> 时间：2013-03-07T09:49:24.990
> 
> 标签：url, url-rewriting, screen-resolution, url-parameters, process.start

单击按钮时，我编写了一个代码以在另一个浏览器中打开应用程序 **`eg: Process.Start(firefox, url);`**

在 URL 中，我想传递窗口宽度和高度参数。就像是**`Process.Start(firefox, "http://www.google.com?window_height= "somthn "& window_width="somthn");`**

有没有办法通过 URL 传递浏览器窗口的宽度和高度？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T10:35:25.703

这里是你想要的，我们不能直接做，你需要另寻出路。

[http://www.daniweb.com/software-development/csharp/threads/294830/set-size-of-ie-process-window-c](http://www.daniweb.com/software-development/csharp/threads/294830/set-size-of-ie-process-window-c)

# php - 使用 PHP 运行 R CMD BATCH 命令失败

> ID：15267907
> 
> 赞同：1
> 
> 时间：2013-03-07T09:49:26.077
> 
> 标签：php, r, mamp, rscript

我正在尝试从 PHP (MAMP) 运行 R CMD BATCH 脚本并找到以下错误：

> R 版本 2.15.3 (2013-03-01) --“安全毯”版权所有 (C) 2013 统计计算 R 基金会 ISBN 3-900051-07-0 平台：x86_64-apple-darwin9.8.0/x86_64 (64 -bit) R 是免费软件，绝对不提供任何保证。欢迎您在某些条件下重新分发它。键入“license()”或“licence()”以获取分发详细信息。dyld：惰性符号绑定失败：找不到符号：_iconv_open 引用自：/Library/Frameworks/R.framework/Resources/lib/x86_64/libR.dylib 预期在：/Applications/MAMP/Library/lib/libiconv.2.dylib dyld：找不到符号：_iconv_open 引用自：/Library/Frameworks/R.framework/Resources/lib/x86_64/libR.dylib 预期在：/Applications/MAMP/Library/lib/libiconv.2.dylib

相同的命令在终端（MAC OS X 10.8.2）中完美运行。

# ios - imageWithContentsOfFile 调整图像大小

> ID：15267911
> 
> 赞同：0
> 
> 时间：2013-03-07T09:49:36.317
> 
> 标签：ios

我在使用 imageWithContentsOfFile 时遇到问题。我有一个大小为 640 × 1136 像素的图像，它应该是应用程序启动屏幕的背景图像。该文件可以更新，然后将自动下载。我的想法是拥有一个文件并调整大小并裁剪它以适应较小的屏幕。

但是当我加载图像时，尺寸只有 320 宽。我已经用 Finder 将它放在模拟器文档文件夹中，所以我可以看到文件图像是正确的。也试过用@2x 命名文件，但没有成功。

这是我的代码

```
NSString  *imagePath = [NSHomeDirectory() stringByAppendingPathComponent:imageName];
UIImage *bgImage = [UIImage imageWithContentsOfFile:imagePath];

CGSize loadedImgSize = bgImage.size; 
```

顺便说一句，正在为 iOS 5.0 编译以支持未更新的设备...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:17:38.453

UIKit、CoreGraphics、Quartz 等都以点为单位处理大小，而不是以像素为单位。一个点 = 非视网膜设备上的 1 个像素，一个点 = 视网膜设备上的 2 个像素（同样适用于带有和不带`@2x`后缀的图像）。图片的with为320是正常的。

# jquery - 通过对象数组的多个值过滤 Jquery AutoComplete

> ID：15267912
> 
> 赞同：3
> 
> 时间：2013-03-07T09:49:39.273
> 
> 标签：jquery, jquery-ui, autocomplete, jquery-autocomplete

我想设置自动完成插件以仅选择列表中的有效员工。我有一个 Employee 对象数组，有 EmployeeID 和 EmployeeName。目前，我已经通过将所有员工的 EmployeeName 复制到一个数组中并将其提供给设置自动完成插件来加载 EmployeeName 的自动完成功能。

```
var employeeNames = new Array();
for (var i = 0 ; i < employees.length ; i++)
{
    employeeNames[a] = employees.Employee[a].Name;
}
$("#txtEmployeeName").autocomplete(employeeNames, {
    multiple: true,
    mustMatch: true,
    autoFill: true
}); 
```

它会完成这项工作，但我想要的是，如果用户想在此文本框中输入 EmployeeID，它也会在 EmployeeID 上加载建议过滤，尽管它会在建议中显示 EmployeeNames。有什么办法可以实现吗，我记得我在某个地方看到过，但不记得该网站。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-07T10:39:37.477

如果您使用对象，jQueryUI 需要一个值和/或标签字段：

> **支持多种类型：**
> 
> **数组**：数组可用于本地数据。支持的格式有两种： 字符串数组：[ "Choice1", "Choice2" ]
> 
> **具有标签和值属性的对象数组：** [ { label: "Choice1", value: "value1" }, ... ] 标签属性显示在建议菜单中。当用户选择一个项目时，该值将被插入到输入元素中。如果只指定了一个属性，它将用于两者，例如，如果您只提供值属性，则该值也将用作标签。

来源：[http ://api.jqueryui.com/autocomplete/#option-source](http://api.jqueryui.com/autocomplete/#option-source)

考虑到这一点，您必须采用您的数据，包括 value 属性，您只需将其分配给名称（例如`$.each(employees, function(){ this.value = this.name });`...）

Now the other thing you have to define, is how you want to filter. This can be done by defining the **source**.

Example:

```
 $("#txtEmployeeName").autocomplete({
        source: function (request, response) {
            var matcher = new RegExp($.ui.autocomplete.escapeRegex(request.term), "i");

            var matching = $.grep(employees, function (value) {
                var name = value.value;
                var id = value.id;

                return matcher.test(name) || matcher.test(id);
            });
            response(matching);
        }
    }); 
```

Fiddler example: [http://fiddle.jshell.net/YJkTr/](http://fiddle.jshell.net/YJkTr/)

Full code:

```
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Demo</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>

    <script>
        $(function () {
            var employees = [
                { "value": "Tom", "id": "1" },
                { "value": "Stefan", "id": "2" },
                { "value": "Martin", "id": "3" },
                { "value": "Sara", "id": "4" },
                { "value": "Valarie", "id": "5" },
            ]

            $("#txtEmployeeName").autocomplete({
                source: function (request, response) {
                    var matcher = new RegExp($.ui.autocomplete.escapeRegex(request.term), "i");

                    var matching = $.grep(employees, function (value) {
                        var name = value.value;
                        var id = value.id;

                        return matcher.test(name) || matcher.test(id);
                    });
                    response(matching);
                }
            });
        });
    </script>
</head>
<body style="font-size: 62.5%;">
    <div class="ui-widget">
        <form>
            <label for="txtEmployeeName">Developer:</label>
            <input id="txtEmployeeName" />
        </form>
    </div>
</body>
</html> 
```

# amazon-web-services - 将 EC2 实例导出到 Xen 服务器

> ID：15267919
> 
> 赞同：0
> 
> 时间：2013-03-07T09:50:10.773
> 
> 标签：amazon-web-services, xen

我需要在我的 Xen 服务器上导出一个 EC2 实例（EBS 上的 Debian）。我从 EC2 工具中看到了导出命令行，但她只接受一开始由导入映像工具创建的实例。你有解决方案来做我想做的事吗？

谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T11:55:18.433

不允许导出图像。这主要是因为许多 ami 包含作为小时费率的一部分许可的软件。

# javascript - 使用ajax post将数据从JS传输到asp.net mvc中Controller中的函数。但观点没有改变

> ID：15267922
> 
> 赞同：1
> 
> 时间：2013-03-07T09:50:21.020
> 
> 标签：javascript, ajax, asp.net-mvc

这是 JS 文件中用于传输数据的代码。

```
 var requestData = {
                lati: latitude,
                longi: longitude
            };

            $.ajax({
                url: '/User/populate_place',
                type: 'POST',
                data: requestData,
                dataType: 'json'
            }); 
```

这是我在控制器中的功能。

```
 [HttpPost]
    public ActionResult populate_place(string lati, string longi)
    {
        list_placesModels list_place = new list_placesModels();
        list_place.Latitude = lati;
        list_place.Longitude = longi;

        return RedirectToAction("About", "Home");
    } 
```

调试程序功能被调用但视图没有改变。它仍然显示旧视图。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T15:02:02.963

一种简单的方法是，您可以通过以下操作方法将 URL 移交给客户端以自行处理：

```
[HttpPost]
        public ActionResult MyRedirectAction()
        {
            ViewBag.Message = "Your contact page.";
            return Json(Url.Action("About", "Home")); //You can find how i am returing the url 
                                                      // for 'About' action of 'HomeController' so that 
                                                      // it will return the corresponding view.
        }
public ActionResult About()
        {
            ViewBag.Message = "Your app description page.";

            return View();
        } 
```

现在在您的视图脚本（可能是 Jquery）中，您可以重定向如下所示：

```
<input type="button" id="btnRedirectToAbout" value="Redirect To About" />

<script src="../../Scripts/jquery-1.7.1-vsdoc.js" type="text/javascript"></script>
<script src="../../Scripts/jquery-1.7.1.js" type="text/javascript"></script>
<script type="text/javascript">
    $("#btnRedirectToAbout").click(function () {
        $.post('@Url.Action("MyRedirectAction","Home")', function (data) {
            document.location = data;
        });
    });
</script> 
```

我希望这可以帮助您解决问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T13:30:19.033

当您通过 ajax 访问控制器时，响应不会影响用户看到的页面，响应没有被处理，您需要在 ajax 代码中添加一个成功：处理程序。但是，如果这个调用总是会导致用户被转发到另一个页面，你不需要做 ajax，你可以像下面一样使用普通的 mvc ActionLink。

```
@Html.ActionLink("Link text", "populate_place", "user", new {lati = latiValue, longi = longiValue}, null) 
```

*更新*

我认为你必须做类似下面的事情，我不确定为什么成功没有受到打击，但如果你使用完整的，它会起作用，这需要调查。mvc 控制器必须返回 url，而 ajax 响应处理程序需要重定向到该 url。

*根据**Siva Gopal 的**回答更正*

**控制器**

```
[HttpPost]
    public string populate_place(string lati, string longi)
    {
        return Url.Action("About", "Home").ToString();
    } 
```

**Javascript**

```
 $.ajax({
        url: '/Home/populate_place',
        type: 'POST',
        data: requestData,
        dataType: 'json',
        complete: function (data) {
            document.location = data.responseText;
        }
    }); 
```

# c# - 如何在 MVC 3 中使用 C# 从控制器/类文件中显示和隐藏 Div

> ID：15267930
> 
> 赞同：1
> 
> 时间：2013-03-07T09:50:35.917
> 
> 标签：c#, asp.net-mvc, switch-statement

我必须编写 C# 代码以在 MVC3 中显示或隐藏基于 switch case 的各种控件的 div。如何在不使用 JQuery 显示或隐藏功能的情况下完成？我希望它在类或控制器文件中完全位于服务器端？cshtml 页面中的内联 C# 也不是首选？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T10:30:07.223

我建议您将条件逻辑放在视图模型中，并将它们公开为布尔属性（或列表，如果适用）。

然后你可以在 Razor-views 中有简单的语句，比如：

```
@if (Model.ShowX) 
{ 
    // component html or
    // call to @Html.Partial() or @Html.Action()
} 
```

# umbraco - Umbraco NiceUrl 替代品

> ID：15267936
> 
> 赞同：0
> 
> 时间：2013-03-07T09:50:54.927
> 
> 标签：umbraco

我正在将我们的旧网站从一个 CMS 迁移到 Umbraco。但是，我只是好奇是否有一种开箱即用的访问页面的替代方式。看起来页面有它们的 NiceUrl，但是我想知道是否有一种方法可以通过在查询字符串中指定它们的页面 id 来访问页面，例如 default.aspx?page=123。

我只是问，因为这是我们可以在我们当前的 CMS 中实现的，它会使迁移更简单一些。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T10:53:15.833

您只需使用其 ID 作为页面名称即可访问页面...

> http://example.com/ **<nodeId>** .aspx
> http://example.com/ **<nodeId>**
> http://example.com/ **<nodeId>** /
> 
> *最后一个似乎至少适用于 Umbraco v6，但不是v4 的早期版本，无论您`umbracoUseDirectoryUrls`在`web.config`.*

...所以例如...

> http://example.com/123.aspx
> http://example.com/123
> http://example.com/123/

...无论有问题的节点在内容树中有多深，都可以正常工作。

# java - 在 JTable 中标记重复项

> ID：15267937
> 
> 赞同：0
> 
> 时间：2013-03-07T09:50:56.590
> 
> 标签：java, swing, jtable, tablecellrenderer

我`JTable`在`AbstractTableModel`. 我想在第三列中标记（更改单元格的颜色），它`JTable`与第二列具有相同的条目。例如：

![在此处输入图像描述](../Images/0e8a1b739298d7e555b5e51efa97d1e9.png)

因此，在这篇文章的帮助下，[在继续之前检查 jtable 中的重复数据](https://stackoverflow.com/questions/13565703/check-duplicate-data-in-jtable-before-proceeding)

我来到了这个：

```
 table.setDefaultRenderer(Object.class, new DefaultTableCellRenderer()
      {
         @Override
         public Component getTableCellRendererComponent(JTable table,
               Object value, boolean isSelected, boolean hasFocus, int row,
               int column) {
            Component c = super.getTableCellRendererComponent(table, value, isSelected, hasFocus,
                  row, column);

            TreeSet<Object> set = new TreeSet<Object>();

            for (int i=0; i<model.getRowCount();i++){
                Object obj = model.getValueAt(i,1); //(row, column)
                if(!set.add(obj))
                {
                    c.setBackground(new java.awt.Color(255, 72, 72));
                }
                else{
                    c.setBackground(null);
                }
            }

            return c;
        }
      }); 
```

但是，虽然它似乎正确地检查了每一行（由于我做了一些打印），但没有任何颜色。我想补充一点`JTable`，我创建的`JTable`那个总是变化的，这意味着有两个按钮，用于`PREVIOUS`和`NEXT`这个表总是改变每个表单——列的数量也会改变。

如果有更多要求，我会编辑我的帖子。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T10:18:41.150

我会将`for`渲染器中的替换为

```
if (column==2) {
    Object obj = model.getValueAt(row,column-1); //(row, column)
    if(value.equals(obj)) {
       c.setBackground(new java.awt.Color(255, 72, 72)); //red
    }
    else{
       c.setBackground(null);
    }
} 
```

# jquery - Trent Richardson 的 datetimepicker 的风格没有改变

> ID：15267938
> 
> 赞同：0
> 
> 时间：2013-03-07T09:50:56.963
> 
> 标签：jquery, datetimepicker

我已经在 jQuery 中实现了 Trent Richardson 的 datetimepicker。我有一个下拉列表，取决于我必须将日历和时钟的样式更改为简单的日历控件，反之亦然，但样式没有改变。

下面是我的代码：

```
function changeCalander() {
    var val = $("#<%=ddlTripType.ClientID %>").val();
    var dtFormat;
    if ($("#<%=hfTimeZone.ClientID %>").val() == 'India Standard Time') {
        dtFormat = 'dd/mm/yy';
    }
    else {
        dtFormat = 'mm/dd/yy';
    }
    if (val == 0) {
        $('#<%=txtStartTime.ClientID %>').datetimepicker({
            dateFormat: dtFormat,
            changeMonth: true,
            changeYear: true
        });
        $("#<%=txtEndTime.ClientID %>").datetimepicker({
            dateFormat: dtFormat,
            changeMonth: true,
            changeYear: true
        });
    }
    else if (val == 1) {
        $('#<%=txtStartTime.ClientID %>').datepicker({
            dateFormat: dtFormat,
            changeMonth: true,
            changeYear: true
        });
        $("#<%=txtEndTime.ClientID %>").datepicker({
            dateFormat: dtFormat,
            changeMonth: true,
            changeYear: true
        });
    }
} 
```

# python - python .bash_profile 别名

> ID：15267940
> 
> 赞同：3
> 
> 时间：2013-03-07T09:51:05.910
> 
> 标签：python, macos, alias, .bash-profile

我正在尝试从别名（macosx）执行 python 文件。

这是可能的？。

```
alias execute ='python path/file.py' 
```

我尝试这样，但不起作用，有什么建议吗？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:53:22.300

删除 之前的空格`=`，它应该可以工作：

```
$ cat /tmp/x.py 
print 'hello, world!'

$ alias execute='python /tmp/x.py'
$ execute
hello, world! 
```

另请注意，我使用的是绝对路径 ( `/tmp`)。使用相对路径将使该命令在某些目录中起作用，但在其他目录中不起作用。

# java - 从 R.ID 接收微调器会给出 NullPointerException

> ID：15267953
> 
> 赞同：0
> 
> 时间：2013-03-07T09:51:35.620
> 
> 标签：java, android, eclipse, nullpointerexception, spinner

我正在尝试访问我的布局中的微调器，并从我的 arrays.xml 文件中的数组设置值。我正在使用在 Spinner 上设置值的默认实现，但我得到了 NullPointerException，而且我一生都无法理解为什么。我的代码如下：

```
public class NewSandwich extends Activity {

    private Spinner breadtype;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        SetupLayout();
        setContentView(R.layout.activity_new_sandwich);
    }

    private void SetupLayout() {
        breadtype = (Spinner) findViewById(R.id.spinner1);
        ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(
            this, R.array.breadTypes,
            android.R.layout.simple_spinner_item);
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);

        breadtype.setAdapter(adapter);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_new_sandwich, menu);
        return true;
    }
} 
```

我的微调器 XML 如下：

```
<Spinner
    android:id="@+id/spinner1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:layout_centerVertical="true" /> 
```

现在，我从微调器中得到一个 NullPointerException（我从调试测试输出中发现了这一点），但我不明白为什么。我以前做过，以前从来没有例外。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:52:44.950

`setContentView(R.layout.activity_new_sandwich)`之前先调用，`SetupLayout()`因为需要加载您的布局，以便您可以参考您的`Spinner`

```
@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.activity_new_sandwich);
        SetupLayout();
    } 
```

# java - 该类型的方法未定义 - 从其他类导入

> ID：15267955
> 
> 赞同：0
> 
> 时间：2013-03-07T09:51:36.770
> 
> 标签：java, class, methods

我不知道如何从其他类导入方法

错误：SitoEratostenesa(int) 类型未定义 SitoEratostenesaTest 方法

我找到[了这个问题](https://stackoverflow.com/questions/3441483)，但是我的功能是静态的并且出现了问题。

```
import java.util.Arrays;
public class SitoEratostenesaTest{
    public static void main(String[] args) {
        int i, x;
        int ilosc=args.length;
        int[] liczby = new int[ilosc-1];
        Arrays.fill(liczby, 0);

        for(i=1; i<ilosc; i++){
            liczby[i]=Integer.parseInt(args[i]);
        }

        for(i=2, x=1; i<args.length; i++){
            if(liczby[x]<liczby[i]){
                    x=i;
            }
        }

        SitoEratostenesa(liczby[x]);
    }
} 
```

第二节课开始于：

```
import java.util.Arrays;
public class SitoEratostenesa{
    public SitoEratostenesa(int n){
    boolean[] tab = new boolean[n-1];
    //and tab[] gets filled 
```

将东西导入 SitoEratostenesaTest 的主要目的是在其中获取 tab[]。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:52:48.627

你可以试试`new SitoEratostenesa(liczby[x]);`

* * *

```
SitoEratostenesa(liczby[x]); 
```

这会尝试调用`SitoEratostenesa`在 class中调用的函数`SitoEratostenesaTest`，当然，该函数不存在，并且是您看到的错误。

我希望您想要做的是调用 的构造函数`SitoEratostenesa`，您需要为此创建该类型的对象，因此您会这样做

```
new SitoEratostenesa(liczby[x]);
^^^ 
```

但是如果你想访问刚刚创建的对象，你需要存储对它的引用，所以你应该这样做

```
SitoEratostenesa myObj = new SitoEratostenesa(liczby[x]); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-02-11T05:20:39.980

尝试`@SuppressWarnings("SameParameterValue")`作为注释。要了解更多信息，请参阅[SuppressWarnings](http://java.sun.com/j2se/1.5.0/docs/api/java/lang/SuppressWarnings.html)

# jsf - p:commandButton 与 h:commandButton

> ID：15267958
> 
> 赞同：5
> 
> 时间：2013-03-07T09:51:42.843
> 
> 标签：jsf, primefaces, commandbutton

当我使用 PrimeFaces`p:commandButton`

```
<p:commandButton action=#{bean.action} /> 
```

我没有看到输入的验证消息（默认`h:`的或 PrimeFaces`p:`的）。例如

```
<f:validateRequired /> 
```

当我使用默认命令按钮时

```
<h:commandButton action=#{bean.action} /> 
```

我确实看到了验证。造成这种差异的原因是什么？

我正在使用 Prime Faces 3.5 和 Mojarra 2.1.18

```
<h:form id="reliefhourheadcopy-form">

        <h:panelGrid columns="1">
            <h:outputText value="Kopiere Entlastungsstunden von" />
            <h:outputText value="Semester: #{reliefHourHeadManagedBean.reliefHourHead.semester}" />
            <h:outputText value="Jahr: #{reliefHourHeadManagedBean.reliefHourHead.year}" />
            <h:outputText value="nach" />               
        </h:panelGrid>

        <h:panelGrid columns="3">

            <h:outputText value="Semester:" />
            <p:selectOneMenu id="semester" value="#{reliefHourHeadManagedBean.semester}">
                <f:selectItems value="#{reliefHourHeadManagedBean.semesterTypes}" />
            </p:selectOneMenu>
            <h:message for="semester" />

            <h:outputText for="yearSpinner" value="Jahr:" />
            <p:spinner id="yearSpinner" value="#{reliefHourHeadManagedBean.year}" maxlength="4" min="2000" max="2030" size="4">
                <f:validateRequired />
                <f:validateLongRange minimum="2000" maximum="2030" />
            </p:spinner>
            <h:message for="yearSpinner" />

        </h:panelGrid>

        <h:panelGrid columns="1" style="margin-top:25px">
            <p:commandButton action="#{reliefHourHeadManagedBean.copyReliefHourHead}" value="Kopieren" icon="ui-icon-copy" >
                <f:param name="reliefhourhead_id" value="#{reliefHourHeadManagedBean.reliefHourHeadId}" />
            </p:commandButton>
        </h:panelGrid>

    </h:form> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-07T10:11:19.877

就像@Partlov 在问题下方的评论中所写，

> 主要区别在于 p:commandButton 默认为 AJAX，而 h:commandButton 默认为非 AJAX。

所以

```
<p:commandButton ... /> 
```

更像是

```
<h:commandButton ...>
    <f:ajax/>
</h:commandButton> 
```

但

```
<p:commandButton ...>
    <p:ajax/>
</p:commandButton> 
```

是错误的并导致未定义的行为

或相反

```
<h:commandButton ... /> 
```

就好像

```
<p:commandButton ajax="false" ... /> 
```

将`p:commandButton`默认提交表单。但是，默认情况下，它不会在 ajax 调用完成后更新表单中的任何内容，因此不会显示消息（在开发模式下，日志文件会显示消息已入队但未显示）。非 ajax`h:commandButton`会进行显示消息的整页刷新。为了在使用时更新表单（包含消息组件），`p:commandButton`您需要添加`update`属性：

```
<p:commandButton action="#{reliefHourHeadManagedBean.copyReliefHourHead}" value="Kopieren" icon="ui-icon-copy" update="@form">
    <f:param name="reliefhourhead_id" value="#{reliefHourHeadManagedBean.reliefHourHeadId}" />
</p:commandButton> 
```

在 a中添加（多余的）`f:ajax`或会导致奇怪的未定义行为`p:ajax``p:commandXXX`

**也可以看看**

*   [了解 PrimeFaces 进程/更新和 JSF f:ajax 执行/渲染属性](https://stackoverflow.com/questions/25339056/understanding-primefaces-process-update-and-jsf-fajax-execute-render-attributes)

# c# - 如何在 3 层架构中传递标签

> ID：15267967
> 
> 赞同：1
> 
> 时间：2013-03-07T09:51:58.077
> 
> 标签：c#, asp.net, sql

如果用户有效与否如何传递标签，我正在使用带有应用程序设置的 3 层架构。所以你能指导我如何传递标签，无论用户是否有效

```
 public static int login(string UserName, string Password)
            {

                SqlConnection con = new SqlConnection();
                con.ConnectionString = GetConnectionString();
                con.Open();
                int userid = 0;
                string selectstr = "select UserName,Password from Registration  where UserName =' " + UserName + " ' And  Password = ' " + Password + " ' ";
                SqlCommand cmd = new SqlCommand();
                cmd.CommandText = selectstr;
                cmd.CommandType = System.Data.CommandType.Text;
                cmd.Connection = con;
                userid = cmd.ExecuteNonQuery();
                cmd = null; 
                con.Close();

                return userid;

           if(......... ?)
{
labet.Text = " valid";
} else
{
label.Text = " not valid"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:57:41.113

线

```
userid = cmd.ExecuteNonQuery(); 
```

会给你一个对象。

你将不得不使用`cmd.ExcuteReader()`。

或者您可以计算使用查询的用户数量

```
string selectstr = "select 
                         count(UserName)                             
                     from 
                         Registration  
                      where 
                         UserName ='" + UserName + "' 
                         And  Password = '" + Password + "'"; 
```

看看计数。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-07T10:02:14.783

您的代码可以优化很多。首先我必须告诉你，你最好使用参数，try-catch 和 ExecuteScalar。ExecuteScalar 将返回一个单格整数。有了它，您可以验证用户身份验证。

编辑：

```
 public static void login(string UserName, string password)
    {
        SqlConnection con = new SqlConnection(GetConnectionString());
        try
        {
            con.Open();

            string selectstr = "select count(id) from Registration  where UserName=@username And  Password=@password";

            SqlCommand cmd = new SqlCommand(selectstr, con);
            cmd.Parameters.AddWithValue("@username", username);
            cmd.Parameters.AddWithValue("@password", password);

            int result = cmd.ExecuteScalar();
            cmd.Dispose();
            con.Close();

            if (result == 1)
            {
                label.Text = "valid";
                //valid
            }
            else
            {
                //not
            }
        }
        catch
        {
            throw;
        }
    } 
```

# php - 通过 Ajax 从 PHP 使用 JSON 生成 HighCharts 图形

> ID：15267972
> 
> 赞同：0
> 
> 时间：2013-03-07T09:52:07.213
> 
> 标签：php, ajax, json, highcharts

我正在创建一个包含多个用户可定义图形的页面。

当图形的详细信息发生更改时，它会通过 Ajax 调用保存到服务器，然后必须重新创建图形。

我正在尝试通过生成 JSON 返回浏览器来在服务器端的 PHP 中创建图形。

到目前为止，我的问题是在从服务器获取 json 数据后渲染图形。

问题似乎是在 json 中包含系列数据。

这是返回的 JSON 的样子：

```
{"chart":{   "type":["column"]},
   "credits":false,
   "legend":{"enabled":false},
   "title":{"text":"Turnover by Product","align":"left","y":7,
          "style":{"fontSize":"10px"}},
   "xAxis":{"title":{"text":"Total Sales"}},
   "series":[
         {"name":"BA","data":[22375004.21]},
         {"name":"FR","data":[82542490.9]},
         {"name":"GA","data":[531139.77]},
         {"name":"MS","data":[112142]},
         {"name":"ON","data":[23464497.44]},
         {"name":"PO","data":[74623237.35]},
         {"name":"TO","data":[25845184.81]},
         {"name":"VG","data":[51496496.25]},
         {"name":"WM","data":[6849331.4]}]}
} 
```

当我尝试：

```
var cgraphdata = $.ajax({
   url: "/graphs/data/format/json",
   global: false,
   type: "POST",
   dataType: "json",
   data: {type:graphtypeID},
   async: false,
   success: function(data) {
        }
}).responseText; // json returned in cgraphdata
var rgResult = JSON.parse(cgraphdata); // convert to javascript object
// currentGraph = id of container div for current graph
rgResult.chart.renderTo = currentGraph;  // set render target
newGraph = new Highcharts.Chart(rgResult);  // create chart 
```

这会导致 Highcharts 错误 14。如果我排除数据，我会得到一个带有标题和轴的空白图表。

这是否意味着必须在创建图表后单独加载数据（上面的最后一行）？

编辑：我检查了为每个数据系列传递的值是数字 - 错误 14 暗示文本作为数据值传递。

理查德

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:56:42.040

AJAX 是异步的，因此您应该在成功处理程序中进行图形更新。此外，只要您将数据作为带有正确标头的 JSON 提供，它就应该已经在处理程序中进行了解析，并且您不需要指定 dataType。

所以，沿着这些思路。

```
$.ajax({
   url: "/graphs/data/format/json",
   type: "POST",
   data: {type:graphtypeID},
   success: function(result)
   {
       new Highcharts.Chart(result);
   }
}); 
```

*（当然，您需要在处理程序中做正确的事情，我只是不确定您的情况是什么，所以我总结了它:)*

# search - 搜索多个项目煎茶触摸

> ID：15267974
> 
> 赞同：1
> 
> 时间：2013-03-07T09:52:14.927
> 
> 标签：search, sencha-touch-2, multiple-columns

我需要搜索多个项目。到目前为止我只知道如何搜索单个项目

这是我的代码

**控制器.js**

```
onSearchKeyUp: function (field) {
  //get the store and the value of the field
  var value = field.getValue(),
      store = Ext.getCmp('transactionlist').getStore();    

  //first clear any current filters on thes tore
  store.clearFilter();

  //check if a value is set first, as if it isnt we dont have to do anything
  if (value) {
    //the user could have entered spaces, so we must split them so we can loop through them all
    var searches = value.split(' '),
    regexps = [],
    i;

    //loop them all
    for (i = 0; i < searches.length; i++) {
      //if it is nothing, continue
      if (!searches[i]) continue;

      //if found, create a new regular expression which is case insenstive
      regexps.push(new RegExp(searches[i], 'i'));
    }

    //now filter the store by passing a method
    //the passed method will be called for each record in the store
    store.filter(function (record) {
      var matched = [];

      //loop through each of the regular expressions
      for (i = 0; i < regexps.length; i++) {
        var search = regexps[i],
        didMatch = record.get('transactionId').match(search) ;

        //if it matched the first or last name, push it into the matches array
        matched.push(didMatch);
      }

      //if nothing was found, return false (dont so in the store)
      if (regexps.length > 1 && matched.indexOf(false) != -1) {
        return false;
      } else {
        //else true true (show in the store)
        return matched[0];
      }
    });
  }
}, 
```

请指导我如何搜索多个项目。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T06:25:56.580

*当您的任何*正则表达式失败`false`时，您似乎正在返回。如果我正确理解您的问题，您希望捕获*任何*输入值，因此您应该仅在*所有*输入值都失败时返回。**`false`**

 ***尝试改变：

```
 if (regexps.length > 1 && matched.indexOf(false) != -1) {
    return false; 
```

至：

```
 if (regexps.length > 1 && matched.indexOf(true) != -1) {
    return false; 
```

看看是否有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-23T21:20:08.797

```
didMatch = record.get('transactionId').match(search) || record.get('transactionName').match(search); 
```***

# php - Zend Framework 动态动作名称路由

> ID：15267975
> 
> 赞同：0
> 
> 时间：2013-03-07T09:52:14.953
> 
> 标签：php, zend-framework, zend-route

我的站点允许您创建项目，并且有多种项目类型（如项目模板）。

我想要做的是有一个处理所有项目类型的单一操作。目前，对于每种项目类型，我都有单独的操作和视图。我想将它们全部路由到一个动作。

到目前为止，这是我想出的，这是行不通的。

```
resources.router.routes.new_project.route = "/project/new-:id"
resources.router.routes.new_project.defaults.controller = "project"
resources.router.routes.new_project.defaults.module = "site"
resources.router.routes.new_project.defaults.action = "new"
resources.router.routes.new_project.reqs.id = "([0-9]+)" 
```

所以我希望我的 URL 看起来像`http://mysite.com/project/new-1`or `http://mysite.com/project/new-2`，其中 1 和 2 是项目类型 ID。这两个 URL 都应该映射到控制器中调用`new`的操作。`project`

ZF 1.11 中是否有可能发生这样的事情？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T13:36:58.263

使用正则表达式路由可以轻松实现您想要的 URL 格式：

```
resources.router.routes.new_project.type = "Zend_Controller_Router_Route_Regex"
resources.router.routes.new_project.route = "project/new-(\d+)"
resources.router.routes.new_project.defaults.controller = "project"
resources.router.routes.new_project.defaults.module = "site"
resources.router.routes.new_project.defaults.action = "new"
resources.router.routes.new_project.map.1 = "project_type_id"
resources.router.routes.new_project.reverse = "project/new-%s" 
```

`$this->_getParam('project_type_id')`然后，您可以在控制器中使用该 ID 。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T12:36:26.430

看起来您不能将 URL 变量指定为部分——它们必须占据整个段（段由 分隔`/`）——也就是说，第一个字符必须是 a `:`，然后名称是值的其余部分。

请参阅（第 158..196 行）`__construct`中的函数 - 它仅检查是否匹配，（而不是在段内的任何位置查找它）。`Zend/Controller/Router/Route.php``substr($part, 0, 1)``:`

我认为这意味着您需要`/project/new/:id`在 Zend 中使用相同的操作 - 您可以在 Apache 中使用 mod_rewrite 来将 URL`/project/new-(\d+)`呈现给用户，但`/project/new/$1`为 Zend 重写。

# c# - 命名空间' ' 已经包含 'Workflow' 的定义

> ID：15267981
> 
> 赞同：10
> 
> 时间：2013-03-07T09:52:39.403
> 
> 标签：c#, dynamics-crm-2011, dynamics-crm, dynamic-programming, workflow-activity

我正在处理自定义工作流活动。我使用代码生成工具 (CrmSvcUtil.exe) 创建了自己的 helper.cs（早期绑定实体类）

当我尝试编译代码时，它返回以下错误：

> 命名空间“”已包含“工作流”的定义

从 Helper.cs 文件。

有谁知道这意味着什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T11:05:27.707

我建议您将所有早期绑定的类放在一个命名空间中，这样它就不会与您的其他类混淆。您可以使用 CrmSvcUtil 的“/namespace:”参数指定命名空间。我通常将早期绑定的类与 crm 连接类（Service/ServiceContext 包装器）放在我的 DataAccess 命名空间中。

话虽这么说，将您的自定义工作流程步骤命名为“工作流程”并不是最好的做法（如果这是您所做的，至少我是这么理解的）。尝试将步骤的本质捕捉到名称中——比如标题。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-12-02T06:34:22.100

我在同一个解决方案中有两个单独的资源文件。删除其中一个就可以了：P

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-04-12T07:23:31.720

刚刚得到这个，因为我认为在部署更改之前将 App_Code 的所有内容复制到 App_Code\bkup 是一个好主意。嗯，没有。

# eclipse - 日食中的当地历史

> ID：15267987
> 
> 赞同：4
> 
> 时间：2013-03-07T09:52:57.600
> 
> 标签：eclipse

我在 Eclipse 中看到了当地历史。但它为我提供了大约 3 到 4 天的数据。

我有以下问题：

1）在什么时间（或基于哪个）它将保存到当地历史。

2）我如何才能在显示之前获得以前的历史记录。

提前致谢...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T09:55:45.730

在日食中

```
Window ->Preferences > General > Workspace > Local History 
```

您将不得不增加“保留文件的天数”属性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T10:56:32.417

**除了本地历史记录外，还**使用版本控制系统。**本地历史主要是为了帮助您撤消一些糟糕的编辑更改，而不是用于管理几天甚至几周的版本。**

 **要回到上周的版本，您真的应该在上周明确创建一个“已知良好”的版本，使用版本控制系统。本地历史也不会告诉您您同时修改了另一个依赖文件。

学习[git](/questions/tagged/git "显示标记为“git”的问题")或[svn](/questions/tagged/svn "显示标记为“svn”的问题")之类的版本控制系统的最初努力与能够恢复软件历史的每一段的安全性相比是微不足道的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-09-27T10:02:19.447

万一有人也面临这个问题。

最近我正在更改一些首选项以加速 Eclipse（来自 Internet 上的一些文章），之后“比较...”选项和“替换为 > 本地历史记录”从文件的上下文菜单中完全消失了。“打开视图”对话框中甚至缺少“历史”视图。同时，在新创建的工作区中，本地历史功能仍然可用。

经过一些研究，我发现当我们禁用**Preferences > Global > Capabilities > Team**选项时会发生这种情况。

启用**“Core Team Support”**选项并重新启动 Eclipse 后，本地历史记录又回来了。**

# android - java.lang.ClassNotFoundException，当我从首选项头文件启动 PreferenceFragment

> ID：15267988
> 
> 赞同：2
> 
> 时间：2013-03-07T09:53:01.883
> 
> 标签：android, preference

1.  这是 SearchSetttingActivity 使用的我的首选项头文件：

    ```
     <header android:fragment="com.android.quicksearchbox.preferences.SearchableItemsFragment"
           android:title="@string/search_sources"
       />

       <header android:fragment="com.android.quicksearchbox.preferences.DeviceSearchFragment"
           android:title="@string/device_settings_category_title"
       />

       <header android:fragment="com.android.quicksearchbox.preferences.SearchEngineFragment"
           android:title="@string/pref_content_search_engine"
       /> 
    ```

第三个片段是我添加的。

1.  这是我的 SearchEngineFragment 源代码如下：

    ```
    package com.android.quicksearchbox.preferences;

    import com.android.quicksearchbox.R;

    public class SearchEngineFragment extends SettingsFragmentBase {

       public SearchEngineFragment() {
       }

       @Override
       protected int getPreferencesResourceId() {
           return R.xml.search_engine_preferences;
       } 
    ```

    }

每次触摸 PreferenceActivity 中的第三项时，每次都崩溃，崩溃日志如下：

```
FATAL EXCEPTION: main
03-06 23:10:48.133 E/AndroidRuntime(  803): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.android.quicksearchbox/com.android.quicksearchbox.preferences.SearchSettingsActivity}: android.app.Fragment$InstantiationException: Unable to instantiate fragment com.android.quicksearchbox.preferences.SearchEngineFragment: make sure class name exists, is public, and has an empty constructor that is public
03-06 23:10:48.133 E/AndroidRuntime(  803):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1956)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at android.app.ActivityThread.access$600(ActivityThread.java:123)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at android.os.Handler.dispatchMessage(Handler.java:99)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at android.os.Looper.loop(Looper.java:137)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at android.app.ActivityThread.main(ActivityThread.java:4424)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at java.lang.reflect.Method.invokeNative(Native Method)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at java.lang.reflect.Method.invoke(Method.java:511)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at dalvik.system.NativeStart.main(Native Method)
03-06 23:10:48.133 E/AndroidRuntime(  803): Caused by: android.app.Fragment$InstantiationException: Unable to instantiate fragment com.android.quicksearchbox.preferences.SearchEngineFragment: make sure class name exists, is public, and has an empty constructor that is public
03-06 23:10:48.133 E/AndroidRuntime(  803):     at android.app.Fragment.instantiate(Fragment.java:581)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at android.preference.PreferenceActivity.switchToHeaderInner(PreferenceActivity.java:1117)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at android.preference.PreferenceActivity.switchToHeader(PreferenceActivity.java:1133)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at android.preference.PreferenceActivity.onCreate(PreferenceActivity.java:532)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at android.app.Activity.performCreate(Activity.java:4465)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1920)
03-06 23:10:48.133 E/AndroidRuntime(  803):     ... 11 more
03-06 23:10:48.133 E/AndroidRuntime(  803): Caused by: java.lang.ClassNotFoundException: com.android.quicksearchbox.preferences.SearchEngineFragment
03-06 23:10:48.133 E/AndroidRuntime(  803):     at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:61)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at java.lang.ClassLoader.loadClass(ClassLoader.java:501)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at java.lang.ClassLoader.loadClass(ClassLoader.java:461)
03-06 23:10:48.133 E/AndroidRuntime(  803):     at android.app.Fragment.instantiate(Fragment.java:571)
03-06 23:10:48.133 E/AndroidRuntime(  803):     ... 17 more 
```

请帮助我，谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T11:57:22.903

你有没有尝试过：

```
keep class com.android.quicksearchbox.preferences.DeviceSearchFragment
keep class com.android.quicksearchbox.preferences.SearchableItemsFragment 
```

# jquery - 图像大小随着窗口大小调整

> ID：15267990
> 
> 赞同：0
> 
> 时间：2013-03-07T09:53:09.577
> 
> 标签：jquery, html

我的 html dom 中有一些图像。图像是

```
 <div id="page">
    <div class="image-gallery">
      <img src="images/imagewords.jpeg" alt="sec">
      <img src="images/images.jpeg" alt="thi">
      <img src="images/imagedss.jpeg" alt="fou">
      <img src="images/imrtages.jpeg" alt="fiv">
      <img src="images/nasa-images.jpeg" alt="six">
      <img src="images/pre-raphaelite-galleries-vi.jpg" alt="sev">
      <img src="images/websitfe-design.jpg" alt="nin">
    </div>
  </div><!-- #page--> 
```

现在我想在调整窗口大小时调整所有图像的大小。jQuery中是否有任何插件或jQuery教程。请帮我调整图像大小。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:00:17.407

```
 $(window).resize(function () {
    var h = parseInt($(window).height(), 10);
    var w = parseInt($(window).width(), 10);
    $("img").css({
        'width': w,
        'height': h
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:55:43.320

CSS：

```
img{max-width: 100%;
    height: auto;
    width: auto;
} 
```

检查这个：来源：[http ://webdesignerwall.com/tutorials/responsive-design-with-css3-media-queries](http://webdesignerwall.com/tutorials/responsive-design-with-css3-media-queries)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:56:16.870

试试看：

**CSS**

```
.image-gallery{width:50%;}
.image-gallery img{width:100%;} 
```

**HTML**

```
 <div id="page">
    <div class="image-gallery">
      <img src="images/imagewords.jpeg" alt="sec">
      <img src="images/images.jpeg" alt="thi">
      <img src="images/imagedss.jpeg" alt="fou">
      <img src="images/imrtages.jpeg" alt="fiv">
      <img src="images/nasa-images.jpeg" alt="six">
      <img src="images/pre-raphaelite-galleries-vi.jpg" alt="sev">
      <img src="images/websitfe-design.jpg" alt="nin">
    </div>
  </div><!-- #page--> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T09:55:16.307

如何调整它们的大小？到固定大小？到窗口宽度的百分比？到容器的百分比？通常，您不需要 JS，只需将宽度定义为百分比即可。

例如：

```
.image-gallery {
    width: 100%;
}
    .image-gallery img {
        width: 20%; /* or whatever width you want here. */
    } 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-03-07T09:54:22.643

这个 jQuery 插件做你想做的事：http: [//buildinternet.com/project/supersized/](http://buildinternet.com/project/supersized/)

或者，您可以使用以下代码访问窗口大小：

```
var windowHeight = $(window).height(),
    windowWidth = $(window).width(); 
```

# c# - Windows RT的指纹识别API？

> ID：15267991
> 
> 赞同：1
> 
> 时间：2013-03-07T09:53:10.390
> 
> 标签：c#, fingerprint, windows-rt

我需要检查是否有任何本机 API 可用于指纹识别。我希望在以 Windows Surface 平板电脑为中心的应用程序中实现这一点。

谢谢

# php - 插入问题 - MySQL 通过 PHP

> ID：15267993
> 
> 赞同：0
> 
> 时间：2013-03-07T09:53:26.700
> 
> 标签：php, sql, insertion

我有一个具有以下结构的表

```
 Bay | Slot1 | Slot 2 | Slot 3 | Slot 4 | Slot 5 
     -----------------------------------------------
      1  | time1 | time 2 | time 3 | time 4 | time 5 
```

以下代码用于插入：

```
for ($i =1; $i <= $bayCount; $i++) {
    mysql_query("INSERT INTO $tableName (Bay) VALUES ($i)");

    for ($j=0; $j<$slotCount ; $j++) {  
       echo $i;
       echo $_slotColumns[$j];
       mysql_query("INSERT INTO $tableName ($_slotColumns[$j]) VALUES (slotValues[$j]) WHERE Bay = $i ");
    }

  } 
```

间隔是增量类型的整数，插槽的值作为数组传递 (slotValues[$j]) 插槽列是使用 for 循环插入生成的。插槽值是文本类型。有人可以告诉我发生了什么吗？插入托架值但不插入槽值。我做错什么了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:58:06.890

我猜你应该在第二个循环中更新评估者而不是插入。GL！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T10:03:20.820

在第二个 INSERT 语句中删除 WHERE Bay = $i ，这将始终为假，因为它不存在。在这种情况下，您不能在 INSERT 查询中使用 WHERE，因为它总是返回 false。

您还忘记在 slotValues 前面放一个 $ 符号。在字符串中使用数组时，应始终将 {} 放在它们周围。（例如 {$_slotColumns[$j]}

```
for ($i =1; $i <= $bayCount; $i++) {
mysql_query("INSERT INTO $tableName (Bay) VALUES ($i)");

for ($j=0; $j<$slotCount ; $j++) {  
echo $i;
echo $_slotColumns[$j];
mysql_query("INSERT INTO $tableName ({$_slotColumns[$j]}) VALUES ({$slotValues[$j]})");
}
} 
```

或者，如果您想更新插入托架的字段，而不是为每列添加新记录，您可以使用如下更新查询：

```
for ($i =1; $i <= $bayCount; $i++) {
    mysql_query("INSERT INTO $tableName (Bay) VALUES ($i)");

    for ($j=0; $j<$slotCount ; $j++) {  
    echo $i;
    echo $_slotColumns[$j];
    mysql_query("UPDATE $tableName SET {$_slotColumns[$j]} = {$slotValues[$j]} WHERE Bay = $i;");
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:57:55.570

当您在 "" 中使用数组变量时，请尝试将它们放入 {}。{$_slotcolumns[$j]}

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T09:58:49.763

您可能对引号有疑问：

```
mysql_query("INSERT INTO $tableName (".$_slotColumns[$j].") VALUES ('".slotValues[$j]."') WHERE Bay = $i "); 
```

或者你也这样做：

```
mysql_query("INSERT INTO $tableName ({$_slotColumns[$j]}) VALUES ('{slotValues[$j]}') WHERE Bay = $i "); 
```

你必须注意到一个普通的查询需要这样的引号：

```
mysql_query("INSERT INTO $tableName (columnName) VALUES ('value') WHERE Bay = $i "); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T10:08:07.183

你有两个*单独*的插入，所以你得到两个*单独*的行，第一行将只包含 Bay。

在我看来，您想要*一个*查询：

```
$query = "INSERT INTO $tableName (Bay, " . implode(',', $_slotColumns) . ") ";
$query .= "VALUES(" . implode(',', $slotValues). ")";
mysql_query($query); 
```

I have no idea what you're trying to do with the `WHERE`; that makes no sense for `INSERT`.

# database - 斯卡拉异常。插入异常；参数索引超出范围

> ID：15267999
> 
> 赞同：1
> 
> 时间：2013-03-07T09:53:53.003
> 
> 标签：database, scala, playframework-2.0, anorm

试图将用户数据插入数据库。检查所有参数，数据正确，但仍然抛出异常

`java.sql.SQLException: Parameter index out of range (1 > number of parameters, which is 0).`

代码是这样的

```
DB.withConnection {
      implicit c =>
        SQL( """"
          insert into tUser (fname, lname, fullname, avatarurl, email, extuid, service)
          values ({fname}, {lname}, {fullname}, {avatarurl}, {email}, {extuid}, {service})
             """).on(
           'fname -> socialUser.firstName,
           'lname -> socialUser.lastName,
           'fullname -> socialUser.fullName,
           'avatarurl -> socialUser.avatarUrl.getOrElse(Option.empty),
           'email -> socialUser.email.getOrElse(Option.empty),
           'extuid -> socialUser.id.id,
           'service -> socialUser.id.providerId
         ).executeUpdate()
     } 
```

尝试使用H2，现在我使用MySQL，但有同样的错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:37:13.997

你的例子不起作用。该语句以四个双引号开头，但它应该是树。

> SQL(""""

虽然我不知道这个`socialUser`对象，但我尝试了一个更简单的例子，它与 H2 一起工作。