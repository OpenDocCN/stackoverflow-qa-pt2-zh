# StackOverflow 问答 14907000-14907999

# html - Interrobang 未在移动网站上显示

> ID：14907000
> 
> 赞同：0
> 
> 时间：2013-02-16T04:37:29.493
> 
> 标签：html, encoding

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T04:39:50.763

The character is definitely not everyday-use. If your phone doesn't show it, it means just that nobody got around to add it to the font in use.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T07:17:34.880

The Wikipedia page [Interrobang](http://en.wikipedia.org/wiki/Interrobang) you refer to says, “few modern typefaces or fonts include a glyph for the interrobang character”. That’s inaccurate – e.g., on a PC, there’s normally at least the Palatino Linotype font containing it, and in modern PCs, the so-called Microsoft C fonts contain it, too (see Fileformat.info page on [font coverage](http://www.fileformat.info/info/unicode/char/203d/fontsupport.htm)). But e.g. in Android, there is normally just the Droid collection of fonts, and they don’t have this symbol.

So using a downloadable font (web font) via `@font-face` would be the only way to make e.g. Androids display this character (except on those ’droids that have suitable extra font installed by user, but these are not the ’droids you are looking for).

However, apart from using an image, there’s also the workaround of using the “?” and “!” characters somehow superimposed. You could achieve this e.g. by using negative `letter-spacing` or setting a negative margin on a character wrapped in an element declared to be an inline block. But probably the best shot is to use positioning:

```
<style>
.bang { position: relative; }
.excl { position: absolute; left: 0.1em; }
</style>
<span class=bang>?<span class=excl>!</span></span> 
```

The value of `0.1em` is a guess, but probably a fairly good one. The point is that the advance width of “!” is smaller than that of “?”, in most fonts, so it needs to be pushed a bit to the left in order to “overstrike” the question mark suitably. This value seems to work both for Droid Sans and for Arial.

# jquery-ui - JQuery 可以完成所有这些功能吗？

> ID：14907002
> 
> 赞同：0
> 
> 时间：2013-02-16T04:37:48.350
> 
> 标签：jquery-ui, jquery, jquery-plugins

因为我是 JQuery 的新手。我对 JQuery 有一些疑问。我可以用 Jquery 制作完整的网站吗？意味着在 ASP.Net 网站中我们使用**Server Controls**来设计页面，我们可以**使用 JQuery 在 .ASPX 页面**上制作所有这些功能吗？如果是，那么如何**处理服务器端事件**？对于设计 .ASPX 页面，我们更喜欢使用什么？**JQuery 标准控件或插件**？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T04:43:45.710

jQuery 框架只是一个 javascript 库，这意味着它只能在客户端处理事件或动作。无论您为网站使用什么后端（PHP、ASP.Net、Python），javascript 仅在页面被渲染并发送到浏览器后才起作用。尝试在这里阅读 jQuery 的文档：http: [//docs.jquery.com/](http://docs.jquery.com/)

如果您有任何关于 jQuery 编程的具体问题，我们将非常乐意为您解答。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T04:43:53.603

不，JQuery 不是服务器端框架。它是一种客户端 DOM 操作领域特定语言和 API，使客户端代码能够跨浏览器工作，并包括用于 AJAX、延迟回调解析和通用函数式编程的各种实用程序和帮助函数。

简而言之，它并不是要替换您的服务器端代码。

# javascript - 在选择框内的复选框中如何获取选中的值？

> ID：14907007
> 
> 赞同：1
> 
> 时间：2013-02-16T04:38:22.743
> 
> 标签：javascript, jquery, html

这是我的代码，我试图从选定的框中打印选定的值。但它只打印选定项目的第一个值。我不知道如何获取选定值的长度。任何人都可以帮助我解决这个问题

```
<html>
    <head>
        <title>jQuery Dropdown CheckList</title>
        <link rel="stylesheet" type="text/css" href="jquery-ui-1.8.13.custom.css">
        <link rel="stylesheet" type="text/css" href="ui.dropdownchecklist.themeroller.css">
        <style>
    table td { vertical-align: top }
    dd { padding-bottom: 15px }
        </style>

        <script type="text/javascript" src="jquery-1.6.1.min.js"></script>
        <script type="text/javascript" src="jquery-ui-1.8.13.custom.min.js"></script>
        <script type="text/javascript" src="ui.dropdownchecklist-1.4-min.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
              $("#s10").dropdownchecklist( { forceMultiple: true
    , onComplete: function(selector) {
        var values = "";
        for( i=0; i < selector.options.length; i++ )
        {
            if (selector.options[i].selected && (selector.options[i].value != "")) 
            {
                if ( values != "" ) 
                  values += ";";
                values += selector.options[i].value;            
            }

        }
        alert(values);
        } 
    , onItemClick: function(checkbox, selector)
       {
         var justChecked = checkbox.prop("checked");
         var checkCount = (justChecked) ? 1 : -1;
         for( i = 0; i < selector.options.length; i++ ){
            if (selector.options[i].selected )
              checkCount += 1;
        }

       }
      });
    });
        </script>  
    </head>
    <body>
    <div id="content">
      <table>
          <tr>
            <td>
                <select id="s10">
                    <option value=""></option>
                    <option value='a'>Alice</option>
                    <option value='b'>Bob</option>
                    <option value='c'>Christian</option>
                    <option value='d'>Daniel</option>
                    <option value='e'>Elizabeth</option>
                </select>
             </td>
           </tr>
        </table>  
    </div>
    </body>
    </html> 
```

为了获取复选框选定项目的长度，我这样做了，但我不知道它只给出 1 作为警报消息

```
onItemClick: function (checkbox, selector) 
                 {
                   $("input:checked").each(function()
                   {        
                         alert($(this).val().length);    
                   });         
                 } }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T04:43:01.460

试试这个，希望它会工作

```
<select id="s10" multiple="multiple">

    <script type="text/javascript">
        $(document).ready(function() {
        var foo = []; 
        $('#s10:selected').each(function(i, selected){ 
          foo[i] = $(selected).text(); 
        });
      });
   </script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T04:42:32.927

使用以下命令获取所选选项`:selected`：

```
$('#s10 option:selected').val(); 
```

## 我想说的是：http: [//jsfiddle.net/T4UDu/](http://jsfiddle.net/T4UDu/)

```
$('#s10').change(function(){
    alert($('option:selected',this).val());
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T12:26:16.007

```
$('#checkboxId').change(function(){
    alert($('option:selected',this).val());
}); 
```

# mongodb - 从 pymongo 获取 mongostats

> ID：14907008
> 
> 赞同：1
> 
> 时间：2013-02-16T04:39:19.763
> 
> 标签：mongodb, pymongo

从远程机器；如何使用 pymongo 的 mongostat 从 pymongo 获取 mongostats？我正在使用代表集。

```
c = Connection("50.xxx.xxx.xxx:27017",replicaSet='test')
rep_status = c.admin.command("replSetGetStatus")
mongostat = c.admin.command("mongostat")

pymongo.errors.OperationFailure: command SON([('mongostat', 1)]) failed: no such cmd: mongostat 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T15:39:05.370

使用 serverStatus 命令：

[http://docs.mongodb.org/manual/reference/server-status/](http://docs.mongodb.org/manual/reference/server-status/)

你可以从 pymongo 调用它`c.admin.command("serverStatus")`

mongostat 中的所有相同信息都出现在 serverStatus 的结果中（事实上，所有 mongostat 在幕后所做的都是运行 serverStatus 命令，并格式化/打印输出）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T11:10:27.400

查看stdlib中的[子进程模块：](http://docs.python.org/2/library/subprocess.html)

```
from subprocess import call
call(["ls", "-l"]) 
```

你需要打电话`mongostat --host HOST --port PORT`。要连接到副本集，您可以指定副本集种子名称和集合成员的种子列表，格式如下：

`<replica_set_name>/<hostname1><:port>,<hostname2:<port>,...`

# javascript - jsf commandbutton中的onclick在chrome中不起作用

> ID：14907013
> 
> 赞同：1
> 
> 时间：2013-02-16T04:39:49.003
> 
> 标签：javascript, jsf-2, http-post, xss

我正在`<h:commandButton>`按`onclick`事件调用 JavaScript。

```
 <h:commandButton type="submit" 
          value="Next" action="#{bean.save}"    
          onclick="javascript:getHtml();"/>

 function getHtml(){
      document.getElementById('source').value="HTML source of the page";

  } 
```

**在 IE/Firefox 中为 commandButton 输出 HTML**

```
<input id="Form:submit" name="Form:submit" 
           type="submit" value="Next"
           onclick="var cf = function(){getHtml();};var oamSF = function(){return 
myfaces.oam.submitForm('Form','Form:submit',null,[['sample','sample']]);};return (cf.apply(this, [])==false)? false : oamSF.apply(this, []);"> 
```

**但在 chrome 中，我看到下面的 JavaScript 错误和下面的 HTML**

`Refused to execute a JavaScript script. Source code of script found within request.`

```
<input id="Form:submit" name="Form:submit" 
       type="submit" value="Next" 
       onclick="" >  // onclick is empty 
```

当我浏览论坛时，我看到这是为了防止出现跨站点脚本`onclick`，`POST`如本问题所述

[拒绝执行 JavaScript 脚本。在请求中找到的脚本源代码](https://stackoverflow.com/questions/1547884/refused-to-execute-a-javascript-script-source-code-of-script-found-within-reque)

> 当一些 JavaScript 代码通过 HTTP POST 请求发送到服务器，并且相同的代码通过 HTTP 响应返回时，就会发生这种情况。如果 Chrome 检测到这种情况，脚本会被拒绝运行，并且您会收到错误消息拒绝执行 JavaScript 脚本。在请求中找到的脚本源代码。

How can i Fix this ? I am using JSF 2.0 with Apache myfaces implementation.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T20:59:57.040

How about

```
<h:commandButton type="submit" 
      value="Next" action="#{bean.save}"    
      onclick="document.getElementById('source').value='HTML source of the page'; 
      return false;"/> 
```

If this works for you than you didn't include or placed your js file properly in your page / project ...

* * *

A better solution would be to properly include your js file

like this

```
<h:outputScript name="js/myFile.js" target="head"/> 
```

Place your *myFile.js* inside *WebContent\resources\js*

Than use it like this

```
<h:commandButton type="submit" 
      value="Next" action="#{bean.save}"    
      onclick="getHtml(); return false;"/> 
```

# objective-c - isMemberOfClass 的用法；返回假

> ID：14907020
> 
> 赞同：1
> 
> 时间：2013-02-16T04:40:08.423
> 
> 标签：objective-c

在下面的代码中，我认为第二个条件为真，但结果却是假的。我错过了什么吗？请帮我理解。

```
NSArray *array = [[NSArray alloc] init];
NSLog(@"%@", NSStringFromClass([array class]));

if ([array isMemberOfClass:[NSObject class]]) {

    NSLog(@"Member NSObject"); //Didn't print; 
}

if ([array isMemberOfClass:[NSArray class]]) {

    NSLog(@"Member NSArray"); //Didn't print; I don't understand why?
}

if ([array isKindOfClass:[NSObject class]]) {

    NSLog(@"Kind of NSObject"); //Printed; Expected
}

if ([array isKindOfClass:[NSArray class]]) {

    NSLog(@"Kind of NSArray"); //Printed; Expected
} 
```

**编辑**

我将 NSArray 的子类创建为 MyArray 并使用 isMemberOfClass 测试它的实例，如下所示

```
if ([myArray isMemberOfClass:[MyArray class]]) {

    NSLog(@"Member MyArray"); //Printed;
} 
```

所以，我猜 isMemberOfClass 在 NSArray 上是不可能的，可能在其他一些框架类上也是如此。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T04:45:50.400

这是正确的行为。尝试检查该对象的实际类：

```
NSArray *array = [[NSArray alloc] init];
NSLog(@"%@", NSStringFromClass([array class])); 
```

你得到的输出是这样的：

```
2013-02-15 23:42:31.272 Project[91998:c07] __NSArrayI 
```

所以实际的类是`__NSArrayI`（的私有子类`NSArray`），而不是`NSArray`它本身。通常，`isKindOfClass:`提供更有用的结果。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T05:09:36.733

NSArray 是一个类簇。当您创建 NSArray 的对象时，它会在内部从其集群中创建对象。它增加了简单性，以避免根据要求创建不同类型的对象。

对于这种情况，您应该使用该功能`isKindOfClass`。它检查完成者层次结构以识别对象的种类。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-16T04:41:51.243

您应该使用 isKindOfClass。请参阅[此](https://stackoverflow.com/questions/383978/how-useful-is-the-nsobject-ismemberofclass-method)以了解差异。

# php - 匹配可变长度文本的 PHP 表达式

> ID：14907022
> 
> 赞同：1
> 
> 时间：2013-02-16T04:40:27.040
> 
> 标签：php, regex

如果我有字符串：

```
Detroit 10    New Jersey 2 (FINAL) 
```

有没有办法在单个正则表达式中`Detroit 10`进行匹配？`New Jersey 2`

如果城市名称的长度不同并且有些城市名称中有空格，我不知道该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T04:58:20.097

您可以使用正则表达式，使用数字来分隔城市名称的结尾。

喜欢：

```
/([^\d]*\d+)/ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T16:42:11.160

尝试这个：

```
$str = "Detroit 10    New Jersey 2 (FINAL)";

preg_match_all("/(\w+ )+\d+/", $str, $m);

print_r( $m[0] );// the resulted strings are in this table $m[0] 
```

希望能帮助到你

# wordpress - 如何减少小部件中的白线空间

> ID：14907024
> 
> 赞同：0
> 
> 时间：2013-02-16T04:40:39.610
> 
> 标签：wordpress, widget, spacing

我有一个 wordpress 博客，默认情况下，文本小部件上的每一行之间基本上都有双倍间距，留下一个空格。这与主题有关，在花了一些时间进行编码之后，我找不到它（我对编码非常陌生，并且一直在自学......

无论如何，即使使用 html 代码来尝试减少空间也没有真正的帮助。这是我正在谈论的文本小部件的图像： [图像](http://postimage.org/image/6s515ve6z/)

此外，这是我的网站[tradingliberation.com](http://tradingliberation.com)的链接。您可以在屏幕右侧看到带有“关键数据日历”标签的小部件。

同样，请记住，在编码方面我几乎一无所知。抱歉无知，并提前感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T14:39:03.993

查看代码，您的垂直间距的结果似乎是[`line-height`CSS 属性](http://www.w3schools.com/cssref/pr_dim_line-height.asp)：（style.css 中的第 755 行）

```
#sidebar ul {
    line-height: 24px;
... 
```

要为侧边栏的这一小部分设置行高，您可以将内容包装在一个 div 标签中，您可以在该标签上应用所需的行高。

但是，您不应该以像素为单位定义行高。[百分比值或 EM](http://www.w3schools.com/cssref/css_units.asp)将是一个更好的主意。在这种情况下，您只需将其更改为`line-height: 150%;`

要解决此类问题，您应该使用某种 Web Developer 工具。对于 Firefox，有一个原生的，或 Firebug 扩展。对于 Google Chrome 和 IE，它是内置的代码检查器。您可以通过在浏览器窗口中按 F12 来打开它们。

# ios - 从后台打开后检测应用程序何时完成加载

> ID：14907027
> 
> 赞同：1
> 
> 时间：2013-02-16T04:41:16.623
> 
> 标签：ios, objective-c, sleep, background-process, exit

首次打开我的应用程序时，加载时间很长，因此我可以显示加载屏幕。当用户通过单击主页按钮退出应用程序然后重新打开它（不再调用`viewDidLoad`/`viewDidAppear`方法）时，应用程序有另一个加载期，我猜它正在“唤醒”。

我可以使用什么方法来检测用户点击主页按钮以将应用程序发送到后台，我可以使用什么方法来检测应用程序已从后台恢复？

这应该足以正确提供我的加载屏幕，但以防万一。是否还有一种方法可以检测“复活”后加载何时完成？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T04:57:09.927

阿尔伯特你可以检测到主页按钮点击AppDelegate中声明的这两个方法

```
 - (void)applicationWillResignActive:(UIApplication *)application
 - (void)applicationDidEnterBackground:(UIApplication *)application 
```

这些是您可以使用的通知

```
[[NSNotificationCenter defaultCenter] addObserver: self
                                         selector: @selector(setFlag:)
                                             name: UIApplicationWillResignActiveNotification
                                           object: [UIApplication sharedApplication]];

[[NSNotificationCenter defaultCenter] addObserver: self
                                         selector: @selector(setFlag1:)
                                             name: UIApplicationDidEnterBackgroundNotification
                                           object: [UIApplication sharedApplication]]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T04:43:37.277

您可以为 注册通知`UIApplicationWillEnterForegroundNotification`。在那里你可以做你的事情。

```
- (void)viewDidLoad
{
[super viewDidLoad];

// Register for the notifcation 
[[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(refreshView) name:UIApplicationWillEnterForegroundNotification object:nil];  

}  

-(void)refreshView
{
/* 
 Invoked when application enters foreground. Do your stuff

 */   

 } 
```

移除观察者

```
-(void)dealloc
{
  [[NSNotificationCenter defaultCenter] removeObserver:self];
  [super  dealloc];
} 
```

# javascript - TinyMCE 编辑器：未捕获的类型错误：无法将属性“isMSIE”设置为 null

> ID：14907029
> 
> 赞同：1
> 
> 时间：2013-02-16T04:41:23.233
> 
> 标签：javascript, tinymce

我正在使用 TinyMCE (v3.5.8) 和集成 iBrowser 插件 (v1.4.5) 与 Codeigniter 2.1.3，我收到 JavaScript 错误`Uncaught TypeError: Cannot set property 'isMSIE' of null` 请帮我解决这个问题。谢谢。

**编辑**

错误出现在 iBrowser 插件中。

我没有从下载的文件中更改任何内容。

iBrowser 插件文件夹中的 editor_plugin.js 发生错误。

iBrowser 插件网址：[http ://seoroot.com/blog/computing/programming/tinymce-ibrowser-plugin.html](http://seoroot.com/blog/computing/programming/tinymce-ibrowser-plugin.html)

editor_plugin.js 包含以下代码。

```
ib = null;

(function() {
    tinymce.create('tinymce.plugins.IBrowserPlugin', {
        init : function(ed, url) {
            // load common script
            tinymce.ScriptLoader.load(url + '/interface/common.js');

            // Register commands
            ed.addCommand('mceIBrowser', function() {
                var e = ed.selection.getNode();

                // Internal image object like a flash placeholder
                if (ed.dom.getAttrib(ed.selection.getNode(), 'class').indexOf('mceItem') != -1) {return}

                ib.isMSIE  = tinymce.isIE;
                ib.isGecko = tinymce.isGecko;
                ib.isWebKit= tinymce.isWebKit;
                ib.oEditor = ed; 
                ib.editor  = ed;
                ib.selectedElement = e;                 
                ib.baseURL = url + '/ibrowser.php'; 
                iBrowser_open();
            });

            // Register buttons
            ed.addButton('ibrowser', {
                title : 'iBrowser',
                cmd :   'mceIBrowser',
                image:  url + '/interface/images/tinyMCE/ibrowser.gif'
            });

            // Add a node change handler, selects the button in the UI when a image is selected
            ed.onNodeChange.add(function(ed, cm, n) {
                cm.setActive('ibrowser', n.nodeName == 'IMG');
            });
        },

        getInfo : function() {
            return {
                longname :  'iBrowser',
                author :    'net4visions.com',
                authorurl : 'http://net4visions.com',
                infourl :   'http://net4visions.com/ibrowser.html',
                version :   '1.4.0'
            };
        }
    });

    // Register plugin
    tinymce.PluginManager.add('ibrowser', tinymce.plugins.IBrowserPlugin);

})(); 
```

对不起。它的代码很长。

注意：**TinyMCE 运行良好，但这个插件有一些错误。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T05:01:39.667

罪魁祸首是代码的第一行：

```
ib = null; 
```

`null`不能作为对象访问。`TypeError`如您所见，这将抛出一个。我认为，解决方法是将这一行更改为：

```
ib = {}; 
```

这样它就是一个对象并且可以`isMSIE`设置它的属性。

但是，我有点困惑为什么将其明确设置为`null`. 我会尝试更改那行代码并查看是否会破坏某些内容，因为`ib`最初可能是 null 的原因。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-25T06:54:58.187

在文件 editor_plugin.js（位于 ibrowser 根插件文件夹中）中注释掉了以下行：

```
tinymce.ScriptLoader.load(url + '/interface/common.js'); 
```

并添加这个

```
$.getScript(url+'/interface/common.js'); 
```

对 editor_plugin_src.js 也做同样的事情。

应该是固定的。@PhpMyCoder 的修复也将起作用。:)

# python - Django：在引用之前测试 UserProfile 是否存在

> ID：14907030
> 
> 赞同：0
> 
> 时间：2013-02-16T04:41:36.407
> 
> 标签：python, django

尝试在 Django 中查看，将 UserProfile 挂接到我的用户配置文件模块中。我想做类似的事情：

```
@login_required
def viewfunction (request):
   if request.user.get_profile():
      << do something here >> 
```

但是这样做会出错。是否有测试用户配置文件模块存在的最佳实践？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T05:03:31.533

您可以确保您的 UserProfile 是通过[信号](https://docs.djangoproject.com/en/dev/ref/signals/#django.db.models.signals.post_save)创建的。这是一个相关的[问题](https://stackoverflow.com/questions/1910359/creating-a-extended-user-profile)。

# java - 使用线程时Android应用程序崩溃

> ID：14907031
> 
> 赞同：0
> 
> 时间：2013-02-16T04:41:40.127
> 
> 标签：java, android, multithreading

> 发现我的错误。我的 muteSound 方法缺少 View 参数。

我正在创建一个应用程序来播放像[inudge.net](http://inudge.net)这样的音乐。我已经能够遍历列并播放声音并实现播放/暂停功能。但是，如果我在线程运行时尝试使用任何其他 UI 组件（例如按钮），则应用程序会崩溃。例如：当我按下静音按钮并调用 muteSound 方法时，应用程序停止工作并崩溃。该线程位于 playSound() 方法中。

```
package com.example.tunegrid;

import android.media.AudioManager;
import android.media.SoundPool;
import android.media.SoundPool.OnLoadCompleteListener;
import android.os.Bundle;
import android.os.Handler;
import android.app.Activity;
import android.view.Menu;
import android.view.View;
import android.widget.Button;
import android.widget.TextView;

public class MainActivity extends Activity {

    private SoundPool soundPool;
    private AudioManager audioManager;
    boolean loadComplete = false;

    private GridButton grid[][];
    Button btnPlay;
    boolean pause = true;
    private int tempo = 1000;
    private int r = -1;
    private Integer sound[][];
    private TextView txt;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        this.setVolumeControlStream(AudioManager.STREAM_MUSIC);

        soundPool = new SoundPool(100, AudioManager.STREAM_MUSIC, 0);

        soundPool.setOnLoadCompleteListener(new OnLoadCompleteListener() {
            public void onLoadComplete(SoundPool arg0, int arg1, int arg2) {
                loadComplete = true;
                txt.setText("SoundPool load complete");
            }
        });     

        txt = (TextView) findViewById(R.id.textView1);
        btnPlay = (Button) findViewById(R.id.btnPlay);

        createDummyGrid();
    }

    public void onClick(View v)
    {
        Button btn = (Button)v;

        int id = btn.getId();
        int r = id / 4;
        int c = id - 4 * r;

        grid[r][c].toggleEnable();
    }

    public void playSound(View v)
    {       
        if(pause) { pause = false; btnPlay.setText("Pause"); }
        else { pause = true; btnPlay.setText("Play"); }

        final Handler handler = new Handler();

        Thread thread = new Thread() 
        {
            public void run()
            {
                while (true)
                {       
                    if (pause) { break; }

                    handler.post(new Runnable() {
                        public void run() 
                        {
                            int col = getNextCol();
                            sequence(col);
                            txt.setText("Playing column - " + col);
                        }
                    });

                    try { sleep(tempo); } catch (Exception e) {}
                }
            }
        };

        thread.start();
    }

    public void muteSound()
    {

    }

    private int getNextCol() {
        if (r == 3) { r = 0; }
        else { r++; }

        return r;
    }

    private void sequence(int r)
    {
        audioManager = (AudioManager) getSystemService(AUDIO_SERVICE);
        float streamVolume = (float) audioManager.getStreamVolume(AudioManager.STREAM_MUSIC);

        for (int c=0; c < 4; c++)
        {
            if (grid[c][r].isEnabled())
            {
                soundPool.play(sound[c][r], streamVolume, streamVolume, 1, 0, 1f);
            }
        }
    }

    private void createDummyGrid() {
        grid = new GridButton[4][4];
        sound = new Integer[4][4];

        for (int r=0; r < 4; r++)
        {
            for (int c=0; c < 4; c++)
            {
                grid[r][c] = new GridButton(this);
                grid[r][c].setId(4*r+c);
//              grid[r][c].setOnClickListener((OnClickListener) this); 

                if (c == 0) { sound[r][c] = soundPool.load(this, R.raw.s1, 1); }
                else if (c == 1) { sound[r][c] = soundPool.load(this, R.raw.s2, 1); }
                else if (c == 2) { sound[r][c] = soundPool.load(this, R.raw.s3, 1); }
                else if (c == 3) { sound[r][c] = soundPool.load(this, R.raw.s4, 1); }
            }
        }

        grid[0][0].toggleEnable();
        grid[1][0].toggleEnable();
        grid[2][0].toggleEnable();
        grid[1][1].toggleEnable();
        grid[2][2].toggleEnable();
        grid[3][3].toggleEnable();
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

} 
```

日志猫

```
02-16 04:51:32.547: W/Trace(851): Unexpected value from nativeGetEnabledTags: 0
02-16 04:51:32.547: W/Trace(851): Unexpected value from nativeGetEnabledTags: 0
02-16 04:51:32.626: W/Trace(851): Unexpected value from nativeGetEnabledTags: 0
02-16 04:51:32.626: W/Trace(851): Unexpected value from nativeGetEnabledTags: 0
02-16 04:51:32.626: W/Trace(851): Unexpected value from nativeGetEnabledTags: 0
02-16 04:51:32.626: W/Trace(851): Unexpected value from nativeGetEnabledTags: 0
02-16 04:51:32.626: W/Trace(851): Unexpected value from nativeGetEnabledTags: 0
02-16 04:51:32.626: W/Trace(851): Unexpected value from nativeGetEnabledTags: 0
02-16 04:51:32.626: W/Trace(851): Unexpected value from nativeGetEnabledTags: 0
02-16 04:51:32.636: W/Trace(851): Unexpected value from nativeGetEnabledTags: 0
02-16 04:51:32.649: W/Trace(851): Unexpected value from nativeGetEnabledTags: 0
02-16 04:51:32.649: W/Trace(851): Unexpected value from nativeGetEnabledTags: 0
02-16 04:51:32.656: W/Trace(851): Unexpected value from nativeGetEnabledTags: 0
02-16 04:51:32.666: W/Trace(851): Unexpected value from nativeGetEnabledTags: 0
02-16 04:51:32.676: D/AndroidRuntime(851): Shutting down VM
02-16 04:51:32.676: W/dalvikvm(851): threadid=1: thread exiting with uncaught exception (group=0x40a70930)
02-16 04:51:32.696: E/AndroidRuntime(851): FATAL EXCEPTION: main
02-16 04:51:32.696: E/AndroidRuntime(851): java.lang.IllegalStateException: Could not find a method muteSound(View) in the activity class com.example.tunegrid.MainActivity for onClick handler on view class android.widget.Button with id 'btnMute'
02-16 04:51:32.696: E/AndroidRuntime(851):  at android.view.View$1.onClick(View.java:3584)
02-16 04:51:32.696: E/AndroidRuntime(851):  at android.view.View.performClick(View.java:4202)
02-16 04:51:32.696: E/AndroidRuntime(851):  at android.view.View$PerformClick.run(View.java:17340)
02-16 04:51:32.696: E/AndroidRuntime(851):  at android.os.Handler.handleCallback(Handler.java:725)
02-16 04:51:32.696: E/AndroidRuntime(851):  at android.os.Handler.dispatchMessage(Handler.java:92)
02-16 04:51:32.696: E/AndroidRuntime(851):  at android.os.Looper.loop(Looper.java:137)
02-16 04:51:32.696: E/AndroidRuntime(851):  at android.app.ActivityThread.main(ActivityThread.java:5039)
02-16 04:51:32.696: E/AndroidRuntime(851):  at java.lang.reflect.Method.invokeNative(Native Method)
02-16 04:51:32.696: E/AndroidRuntime(851):  at java.lang.reflect.Method.invoke(Method.java:511)
02-16 04:51:32.696: E/AndroidRuntime(851):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
02-16 04:51:32.696: E/AndroidRuntime(851):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
02-16 04:51:32.696: E/AndroidRuntime(851):  at dalvik.system.NativeStart.main(Native Method)
02-16 04:51:32.696: E/AndroidRuntime(851): Caused by: java.lang.NoSuchMethodException: muteSound [class android.view.View]
02-16 04:51:32.696: E/AndroidRuntime(851):  at java.lang.Class.getConstructorOrMethod(Class.java:460)
02-16 04:51:32.696: E/AndroidRuntime(851):  at java.lang.Class.getMethod(Class.java:915)
02-16 04:51:32.696: E/AndroidRuntime(851):  at android.view.View$1.onClick(View.java:3577)
02-16 04:51:32.696: E/AndroidRuntime(851):  ... 11 more
02-16 04:51:35.496: I/Process(851): Sending signal. PID: 851 SIG: 9 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T05:04:31.297

您可以使用 runOnUiThread 如下

```
new Thread(new Runnable() {
        public void run() {

             if (pause) { break; }

            runOnUiThread(new Runnable() {
                public void run() {

                    int col = getNextCol();
                    sequence(col);
                    txt.setText("Playing column - " + col);
                }
            });

            try { Thread.sleep(tempo); } catch (Exception e) {}
        }
    }).start(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T04:57:22.233

根据您的崩溃，您定义了一个`onClick`要调用的 xml`muteSound` 但是，该方法需要接受一个`View`参数

```
public void muteSound(View view)
{
  //implementation
} 
```

# css - 如何在浏览器中正确显示公制单位

> ID：14907036
> 
> 赞同：1
> 
> 时间：2013-02-16T04:42:08.630
> 
> 标签：css, browser

我想在网站上显示商品的“自然尺寸”图片。首先我当然计算图片的大小：

```
<Height of picture in pixels> * <real height of item in mm>
-----------------------------------------------------------
        <height of item on the picture in pixels> 
```

公式在逻辑上是正确的，并且可以正常工作

```
desktop 17'' 4:3 monitor 1280*1024\. 
```

任何其他设备都显示错误的指标。我测试：

```
2 smartphone.
22'' 1920*1080 desktop monitor
13.3'' 1366*768 notebook
14'' 1600*900 notebook 
```

它们都不是 4:3 的纵横比。那有什么问题？我怎样才能达到我的目标？我在网上搜索，但我发现唯一的解决方法是显示一张 A4 尺寸的纸并询问用户缩放页面。我最好让用户设置他们的系统，但是怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T04:53:52.170

不幸的是，尽管有方法可以查询浏览器每英寸显示屏的确切像素，但浏览器供应商决定同意一个方便的谎言……所有浏览器都报告每英寸 96 像素。尽管您可以让浏览器向您报告这一事实，但无法获得每英寸的*真实像素。*

一个著名的例子是，尽管像素密度完全不同，但无法通过 Javascript、HTML 或 CSS 检测 iPad 2 和 iPad Mini 之间的差异。

实际上，我发现使用纸张并要求用户缩放以校准“实际显示尺寸”的方法相当聪明。如果你让它易于使用，我相信他们会喜欢这个功能！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T07:35:53.960

理论上，根据 CSS 2.1 规范，`mm`单位（以及类似的单位，如`cm`and `in`）与物理单位相关。因此，如果您以`mm`单位设置图像宽度，浏览器应将图像缩放到给定的物理尺寸，并具有设备分辨率允许的精度。

实际上，浏览器的行为更像 CSS3 值和单位 CR 中描述的方式。关于[物理单位](http://www.w3.org/TR/css3-values/#absolute-lengths)的部分说根据定义`1in`等于`96px`，在打印机等高分辨率设备上，英寸是锚定单位，对应于实际的物理英寸，而在显示器等低分辨率设备上，像素是锚定单位。它补充说：“请注意，如果锚单位是像素单位，则物理单位可能与其物理测量不匹配。” （此外，即使在打印机中，CSS`in`和物理英寸之间的对应关系也不一定准确。）

所以，不可能的任务。

对于用户校准，我不会使用 A4 纸。它很大，并不是每个人手头都有 A4 纸，尤其是在标准纸张尺寸不同的国家。有英寸和毫米的尺子会更好。也许您可以添加一个缩放小部件以使缩放更容易。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T16:01:29.240

谢谢大家！我结合了所有提示并制作图片： [http](http://www.clker.com/clipart-258249.html) ://www.clker.com/clipart-258249.html 用户采用常见的东西之一并通过缩放使其适合图片。

# matlab - “振铃神器”和盒子过滤器

> ID：14907037
> 
> 赞同：0
> 
> 时间：2013-02-16T04:42:23.560
> 
> 标签：matlab, image-processing, filter, computer-vision, computational-geometry

我想使用盒子过滤器，但我认为它会导致“响铃神器”（可能是别的东西）。它们之间有联系吗？我想我记得我的老师提到过，但我不完全确定我所看到的是“响铃神器”，但这是他使用的术语。两者之间有联系吗？还是我只是目睹了其他事情的结果？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T04:21:43.630

振铃是在空间域中的内核发生振荡时发生的伪影。尽管箱形滤波器在傅里叶域中有很多振荡，但在空间/时间域中并非如此，因此如果您直接在空间域中进行卷积应该没问题。

例如，如果您有一个狄拉克并将其与您的盒子过滤器进行卷积，您将严格获得一个盒子，这是预期的结果。请注意，由于傅里叶域中盒核的频谱范围无限，这不会消除所有高频（即，最终信号中仍然会有高频，如盒示例所示）。

但是，如果您在频域中使用框进行滤波，这对应于在空间域中使用 sinc 内核进行滤波，这会产生振铃伪影，但会完美去除高频。

出于这个原因，人们倾向于在保持尽可能少的高频和不产生振荡之间做出妥协。在任何情况下，您都不能同时删除两者（想想海森堡不确定性原理：空间域方差与频域方差的乘积从下方有界）。
这种权衡可以是以下之一（非穷举）：

*   Prolate 内核：在某种意义上，它在最小化振铃同时最小化高频量方面是最佳的。但是，计算起来并不容易。
*   Gabor 内核：在其他意义上它也是最优的（一个稍微不同的标准），但更容易计算
*   Gaussian / Hanning / Hamming kernels：它们不是最优的，但最常用，因为它们非常便宜且易于分析。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T04:53:11.017

[振铃伪影](http://en.wikipedia.org/wiki/Ringing_artifacts)是一种已知的表达方式。

由于空间域中的滤波和频域中的滤波之间存在直接联系，因此您应该首先考虑后面如何表示框。这将导致您看到的工件。所以实际上两者之间存在直接联系（盒滤波器和振铃伪影）。

# ubuntu - Lubuntu 内核开发 - sched_setaffinity 未定义

> ID：14907041
> 
> 赞同：2
> 
> 时间：2013-02-16T04:42:36.287
> 
> 标签：ubuntu, linux-kernel

我正在尝试编写*一个*使用`sched_setaffinity()`. 它在（afaik）中声明`linux/sched.h`但在`core.c`（afaik）中实现，现在问题是我的系统似乎没有`core.c`任何地方，因此链接失败（`sched_setaffinity`未定义）。我一直在尝试用谷歌搜索，但没有任何进展。我已经安装了`linux-kernel-source`软件包，是否有类似的东西`kernel-devel`（如在 redhat 发行版中）我应该注意？有什么办法可以解决这个问题？我还尝试下载完整的内核源并将那些丢失的文件复制到内核源目录中`/usr/src/`，但效果不佳..

谢谢！

我使用的是 lubuntu 系统，内核版本为 3.5.0-21-generic

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:04:30.690

尝试安装软件包`linux-headers-generic`。这会安装内核头文件并创建符号链接 /lib/modules/version/build ，许多内核模块（和内核模块构建教程）都期望在那里。

# jquery - jQuery将光标保持在文本输入的开头，直到用户开始输入

> ID：14907042
> 
> 赞同：0
> 
> 时间：2013-02-16T04:42:59.590
> 
> 标签：jquery, twitter-bootstrap

我正在尝试模仿 twitter bootstrap 的文本输入行为。我注意到在 Twitter Bootstrap 的输入中，当用户点击时，光标总是停留在文本输入的开头。但在用户开始输入之前，“搜索”文本不会消失。

除了我之外，我已经完成了大部分工作，光标不会停留在文本输入的开头。有什么想法我能做到这一点吗？

到目前为止，这是我的 jQuery 代码：

```
$('input[title]').each(function() {
    if($(this).val() === '') {
        $(this).val($(this).attr('title'));
    }
    $(this).keydown(function() {
        if($(this).val() == $(this).attr('title')) {
            $(this).val('').removeClass('blur');
        }
    });
    $(this).mousedown(function() {
        if($(this).val() == $(this).attr('title')) {
            $(this).blur().val('');
            $(this).focus().val($(this).attr('title'));
        }
    });
    $(this).blur(function() {
        if($(this).val() === '') {
            $(this).val($(this).attr('title')).addClass('blur');
        }
    });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T05:04:49.117

您描述的可能是一个称为占位符的属性：

```
<input type="text" placeholder="Type something…"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T05:23:06.800

这肯定会帮助你：http: [//jsbin.com/ohoyer/2/edit](http://jsbin.com/ohoyer/2/edit)

```
jQuery(function ($) {
       var $inputExample = $('#input-ex');
       var a = false;
       $inputExample.click(function () {
         $inputExample.caretToStart();
       });

       $inputExample.keypress(function(){
       if(a == false){
         $(this).val('');
         a = true
       }else{
         $inputExample.caretToEnd();
       }
    });
}); 
```

这是用于此的插件：

```
`https://gist.github.com/DrPheltRight/1007907/raw/
  b1ce3b710616f9ee15a6b8ca2b03e35756d3d816/jquery.caret.js` 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T04:50:58.517

使用它来为输入添加焦点

```
$("#inputid").focus (); 
```

# jquery - 下拉登录表单的jQuery验证

> ID：14907050
> 
> 赞同：-1
> 
> 时间：2013-02-16T04:44:00.890
> 
> 标签：jquery, jquery-validate

当我独立执行带有验证的登录表单时，它工作得很好......但是当它与滑块代码合并时，表单只被显示，表单的验证不起作用......请有人帮助我......这里是我的代码...（这是一个下拉登录表单）

```
<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="iview.css" />
    <link rel="stylesheet" href="style1.css" />
    <link rel="stylesheet" href="login.css" />
    <style type="text/css"></style>
<script src="jquery-1.8.3.js"></script>
<script src="loginbut/js/login.js"></script>
<script src="jquery.validate.js" type="text/javascript"></script>
<script type="text/javascript">

$(document).ready(function(){

$("#loginForm").validate({
    rules: {
        email: {
            required: true
        },
        password: {
            required: true
        }
    },
    messages: {
        email: {
            required: "specify email"
        },
        password: {
            required: "specify password"
        }
    }
});

// Login Form

$(function() {
var button = $('#loginButton');
var box = $('#loginBox');
var form = $('#loginForm');
button.removeAttr('href');
button.mouseup(function(login) {
    box.toggle();
    button.toggleClass('active');
});
form.mouseup(function() { 
    return false;
});
$(this).mouseup(function(login) {
    if(!($(login.target).parent('#loginButton').length > 0)) {
        button.removeClass('active');
        box.hide();
    }
});
});

});

</script>

</head>

<body>
    <br/>
<br/>

<div id="bar">
    <div id="container">
        <!-- Login Starts Here -->
        <div id="loginContainer">
            <a href="#" id="loginButton"><span>Login</span><em></em></a>
            <div style="clear:both"></div>
            <div id="loginBox">                
                <form id="loginForm">
                    <fieldset id="body">
                        <fieldset>
                            <label for="email">Email Address</label>
                            <input type="text" name="email" id="email" />
                        </fieldset>
                        <fieldset>
                            <label for="password">Password</label>
                            <input type="password" name="password" id="password" />
                        </fieldset>
                        <input type="submit" id="login" value="Sign in" />
                        <label for="checkbox"><input type="checkbox" id="checkbox"    />Remember me</label>
                    </fieldset>
                    <span><a href="#">Forgot your password?</a></span>
                </form>
            </div>
        </div>
        <!-- Login Ends Here -->
    </div>
</div>

<div class="container">
    <div id="iview">
        <div data-iview:image="1.jpg" data-iview:transition="slice-top-      fade,slice-right-fade">
    <div class="iview-caption caption1" data-x="80" data-y="200">iView<sup>&trade;</sup></div>
            <div class="iview-caption" data-x="80" data-y="275" data-transition="wipeRight">The world's most awesome jQuery Image & Content Slider</div>
            <div class="iview-caption" data-x="254" data-y="320" data-transition="wipeLeft"><i>Presented by <b>Hemn Chawroka</b></i></div>
        </div>

        <div data-iview:image="2.jpg" data-iview:transition="zigzag-top,strip-left-fade" data-iview:pausetime="3000">
            <div class="iview-caption caption5" data-x="60" data-y="280" data-transition="wipeDown">Captions can be positioned and resized freely</div>
            <div class="iview-caption caption6" data-x="300" data-y="350" data-transition="wipeUp"><a href="#">Example URL-link</a></div>
        </div>

    </div>
</div>

<script type="text/javascript" src="fullscreen.js"></script>
<script type="text/javascript">
$(document).ready(function () {
    $("#background-image").fullscreenBackground();
});
</script>

    <script src="jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="raphael.js"></script>
    <script type="text/javascript" src="easing.js"></script>

    <script src="iview.js"></script>
    <script>
        $(document).ready(function(){
            $('#iview').iView({
                pauseTime: 7000,
                directionNav: false,
                controlNav: true,
                tooltipY: -15
            });
        });
    </script>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T15:54:39.353

您的表单验证正在使用您发布的代码...

[http://jsfiddle.net/sNCds/](http://jsfiddle.net/sNCds/)

请提供有关“验证不起作用”含义的更多信息。

您还在页面底部附近第二次包含了 jQuery。如果这是您所添加的“滑块代码”的一部分，那么很可能是什么破坏了一切。您一次不应在页面上使用多个版本的 jQuery。您已经在页面顶部包含了一次 jQuery（版本 1.8.3），这对于它下面的所有内容来说已经足够了。

删除此行...

```
<script src="jquery-1.7.1.min.js"></script> 
```

# image - 点击放大链接图片

> ID：14907053
> 
> 赞同：0
> 
> 时间：2013-02-16T04:45:24.420
> 
> 标签：image

我只将图像名称保存到数据库中，而图像本身保存到文件夹中。这些图像然后使用宽度、高度标签以缩小的尺寸显示在 php 页面中。

我这样取它们：

```
<?php echo '<img src="./images/'.$cfilename.'" width="300" height="400" />';  ?> 
```

是否有一个脚本可以包含在 php 中以在单击时放大图像的预览？

我在网上搜索过，但我发现所有脚本都显示了嵌入在 html 中的图像名称。

有什么建议吗？

约瑟夫

# salesforce - 哪个值应该传递给查找关系字段？

> ID：14907056
> 
> 赞同：0
> 
> 时间：2013-02-16T04:46:19.833
> 
> 标签：salesforce, apex-code, salesforce-service-cloud, salesforce-chatter

我创建了一个 Employee 对象，我想在其中显示潜在客户的查找关系字段。员工记录由 Lead 处理。那怎么办？

其实我在课堂上写的，

```
emp.Source_Lead__c = lead.id;  // emp is Employee object & lead is Lead object. 
```

但它在查找中向我显示名称、公司名称，因此它不会访问。喜欢：来源领导：eabc exyz，ecompany

帮我....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T08:18:28.660

如果您在谈论新员工/编辑员工表格 - 是的，您传递了一个 ID。你做对了。棘手的部分是您不能立即使用“点”来显示 Lead 的字段。

建立链接并保存后，您必须查询潜在客户字段。像这样的东西（你的问题不太清楚，我不知道这是在一页还是两页上）。

```
Employee__c emp = new Employee__c();
// ... fill fields as needed
emp.Source_Lead__c = lead.Id;

insert emp;

// And later you can query
emp = [SELECT Id, Name, Source_Lead__c, Source_Lead__r.Name, Source_Lead__r.Custom_Field__c
FROM Employee__c WHERE Id = :emp.Id];

System.debug(emp.Lead_Source__r.Name); // now it will work 
```

# html - 如何使元素具有浮动而不是换行符并延伸到其父容器之外？

> ID：14907058
> 
> 赞同：4
> 
> 时间：2013-02-16T04:46:39.750
> 
> 标签：html, css, css-float

我难住了。我正在尝试制作一组​​图标，它们位于具有固定宽度的容器内。元素必须在父容器内，但必须超出边界，并且在到达父容器的右边界时不能换行。

我正在使用浮动 li 元素

这是[小提琴](http://jsfiddle.net/nJydR/2/)

希望它看起来像这样。

![在此处输入图像描述](../Images/8a3c8df6aed1a881ad1b00fdfc0c6a75.png)

不是这个：

![在此处输入图像描述](../Images/51183551a7b972f00bd92bf424a5da88.png)

谢谢你的帮助。

这是代码：

```
<div class="mainFooter">
<div class="iconContainer">
    <ul class="nav nav-pills">
        <li rel="tooltip" data-original-title="Services"><a class="icon-th-list icon-white">A</a>
        </li>
        <li class="" rel="tooltip" data-original-title="Assets"><a class="icon-briefcase icon-white">B</a>
        </li>
        <li class="" rel="tooltip" data-original-title="Clients"><a class="icon-group icon-white">C</a>
        </li>
        <li class="" rel="tooltip" data-original-title="Reports"><a class="icon-dashboard icon-white">D</a>
        </li>
        <li class="" rel="tooltip" data-original-title="Preferences"><a class="icon-cogs icon-white">E</a>
        </li>
        <li class="" rel="tooltip" data-original-title="Assets"><a class="icon-briefcase icon-white">F</a>
        </li>
        <li class="" rel="tooltip" data-original-title="Assets"><a class="icon-briefcase icon-white">G</a>
        </li>
    </ul>
</div> 
```

```
 .mainFooter {
    background: #dddddd;
    position: relative;
    height: 40px;
    width:30%;

    }
.iconContainer {
    position: absolute;
    width: 100%;
    border:1px solid red;
    top:5px;
}
.mainFooter .nav > li{
    float:left;
}
.mainFooter .nav > li > a {
    padding:0px;
    margin: 1px;
    height:25px;
    width:30px;
    background:#2f65bb;
    color: #ffffff;
    font-size: 130%;
    line-height: 25px;
    display: inline-block;
    text-align:center;
} 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-16T04:50:06.320

`.white-space: nowrap`上`<ul>`。不要浮动元素，而是使用`display: inline-block`.

[http://jsfiddle.net/nJydR/3/](http://jsfiddle.net/nJydR/3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T04:52:17.190

您可以尝试为 设置固定宽度`.nav-pills`，例如

```
.nav-pills {
  width: 230px;
} 
```

[http://jsfiddle.net/nJydR/4/](http://jsfiddle.net/nJydR/4/)

# c# - C# 编译器是否默认优化程序？

> ID：14907061
> 
> 赞同：0
> 
> 时间：2013-02-16T04:46:54.460
> 
> 标签：c#

我有两个“Hello World”程序：

```
static void Main(string[] args) {
  Console.WriteLine("Hello World");
} 
```

和

```
static void Main(string[] args) {
  string hw = "Hello World";
  Console.WriteLine(hw);
} 
```

并且为这些中的每一个生成的 IL 代码是：

```
IL_0001:  ldstr       "Hello World"
IL_0006:  call        System.Console.WriteLine 
```

和

```
IL_0001:  ldstr       "Hello World"
IL_0006:  stloc.0     // hw
IL_0007:  ldloc.0     // hw
IL_0008:  call        System.Console.WriteLine 
```

我的问题是，为什么 C# 编译器**默认**不优化这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T05:15:39.633

C# 编译器针对`Release`构建进行了优化。`Debug`构建未优化！

**优化[发布版本]**

```
.method private hidebysig static void Main(string[] args) cil managed
{
    .entrypoint
    .maxstack 1
    .locals init (
        [0] string hw)
    L_0000: ldstr "Hello World"
    L_0005: stloc.0 
    L_0006: ldloc.0 
    L_0007: call void [mscorlib]System.Console::WriteLine(string)
    L_000c: ret 
} 
```

**非优化[调试构建]**

```
.method private hidebysig static void Main(string[] args) cil managed
{
    .entrypoint
    .maxstack 1
    .locals init (
        [0] string hw)
    L_0000: nop 
    L_0001: ldstr "Hello World"
    L_0006: stloc.0 
    L_0007: ldloc.0 
    L_0008: call void [mscorlib]System.Console::WriteLine(string)
    L_000d: nop 
    L_000e: ret 
} 
```

# python - 具有各种 y 轴的子图中的纵横比

> ID：14907062
> 
> 赞同：9
> 
> 时间：2013-02-16T04:47:01.850
> 
> 标签：python, matplotlib

我希望下面的代码生成 4 个相同大小的子图，在我设置的 x 轴和 y 轴的大小之间具有共同的纵横比。参考下面的示例，我希望所有子图看起来都与第一个（左上角）完全相同。现在的问题是 y 轴的大小与其最大值相关。这是我要避免的行为。

```
import matplotlib.pyplot as plt
import numpy as np

def main(): 

    fig = plt.figure(1, [5.5, 3])
    for i in range(1,5):
        fig.add_subplot(221+i-1, adjustable='box', aspect=1) 
        plt.plot(np.arange(0,(i)*4,i))

    plt.show()

if __name__ == "__main__": 
    main() 
```

令人惊讶的是，matplotlib 默认生成正确的东西（下图）：

```
 import  matplotlib.pyplot as plt 
   import numpy as np 

   def main(): 
       fig = plt.figure(1, [5.5, 3]) 
       for i in range(1,5): 
           fig.add_subplot(221+i-1) 
            plt.plot(np.arange(0,(i)*4,i)) 
       plt.show() 
```

我只想添加一个控制 x 轴和 y 轴长度之间纵横比的能力。

![这是我正在寻找的：](../Images/aa0a33049554293c1cc04bbe445195b7.png)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-16T15:34:07.423

我不能完全说出你想要从你的问题中得到什么。

您是否希望所有图都具有相同的数据限制？

如果是这样，请使用共享轴（我在`subplots`这里使用，但如果您想坚持使用 matlab 样式的代码，可以避免使用它）：

```
import matplotlib.pyplot as plt
import numpy as np

fig, axes = plt.subplots(nrows=2, ncols=2, sharey=True, sharex=True)
for i, ax in enumerate(axes.flat, start=1):
    ax.set(aspect=1)
    ax.plot(np.arange(0, i * 4, i))

plt.show() 
```

![在此处输入图像描述](../Images/66a31d17dd39498645613982925ff067.png)

如果您希望他们都共享他们的坐标轴限制，但有`adjustable='box'`（即非方形坐标轴边界），请使用`adjustable='box-forced'`：

```
import matplotlib.pyplot as plt
import numpy as np

fig, axes = plt.subplots(nrows=2, ncols=2, sharey=True, sharex=True)
for i, ax in enumerate(axes.flat, start=1):
    ax.set(aspect=1, adjustable='box-forced', xticks=range(i))
    ax.plot(np.arange(0, i * 4, i))

plt.show() 
```

![在此处输入图像描述](../Images/9ef2a81240b97a9c13b748ada11ab31e.png)

* * *

编辑：对不起，我还是有点困惑。你想要这样的东西吗？

```
import matplotlib.pyplot as plt 
import numpy as np 

fig, axes = plt.subplots(nrows=2, ncols=2)
for i, ax in enumerate(axes.flat, start=1):
    ax.set(adjustable='datalim', aspect=1)
    ax.plot(np.arange(0, i * 4, i))

plt.show() 
```

![在此处输入图像描述](../Images/ebe08a5c6600bd395349ff4377562948.png)

* * *

好的，我想我终于明白你的问题了。我们都用“纵横比”表示完全不同的东西。

在 matplotlib 中，绘图的纵横比是指数据限制的相对比例。换言之，如果绘图的纵横比为 1，则斜率为 1 的线将出现在 45 度角。您假设纵横比应用于轴的轮廓，而不是绘制在轴上的数据。

您只希望子图的轮廓是方形的。（在这种情况下，它们都有不同的纵横比，由 matplotlib 定义。）

在这种情况下，您需要一个正方形图形。（还有其他方法，但只是制作一个正方形图形要简单得多。Matplotlib 轴填充的空间与它们所在的图形大小成正比。）

```
import matplotlib.pyplot as plt 
import numpy as np 

# The key here is the figsize (it needs to be square). The position and size of
# axes in matplotlib are defined relative to the size of the figure.
fig, axes = plt.subplots(nrows=2, ncols=2, figsize=(8,8))

for i, ax in enumerate(axes.flat, start=1):
    ax.plot(np.arange(0, i * 4, i))

# By default, subplots leave a bit of room for tick labels on the left.
# We'll remove it so that the axes are perfectly square.
fig.subplots_adjust(left=0.1)

plt.show() 
```

![在此处输入图像描述](../Images/f3bba78c7be314b3c5800e762ee73104.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-04T14:47:24.810

[将Joe Kington](https://stackoverflow.com/users/325565/joe-kington)的答案与[matplotlib 中共享轴方形子图的新 pythonic 风格相结合？](https://stackoverflow.com/questions/13629994/new-pythonic-style-for-shared-axes-square-subplots-in-matplotlib) 还有一篇恐怕我再也找不到它的帖子了，我编写了一个代码，用于精确设置框与给定值的比率。

让desired_box_ratioN 表示框的y 和x 边之间的期望比率。temp_inverse_axis_ratioN 是当前绘图的 x 和 y 边之间的比率；因为'aspect'是y和x比例（而不是轴）之间的比率，我们需要将aspect设置为desired_box_ratioN * temp_inverse_axis_ratioN。

```
import matplotlib.pyplot as plt
import numpy as np

fig, axes = plt.subplots(nrows=2, ncols=2)

desired_box_ratioN = 1
for i, ax in enumerate(axes.flat, start=1):
    ax.plot(np.arange(0, i * 4, i))
    temp_inverse_axis_ratioN = abs( (ax.get_xlim()[1] - ax.get_xlim()[0])/(ax.get_ylim()[1] - ax.get_ylim()[0]) )
    ax.set(aspect = desired_box_ratioN * temp_inverse_axis_ratioN, adjustable='box-forced')

plt.show() 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-01-08T02:02:47.833

## 理论

matplotlib[中存在不同的坐标系。](https://matplotlib.org/users/transforms_tutorial.html#transformations-tutorial)不同坐标系之间的差异确实可以让很多人感到困惑。OP想要的是显示坐标`ax.set_aspect()`中的纵横比，但在数据坐标中设置纵横比。他们的关系可以表述为：

```
aspect = 1.0/dataRatio*dispRatio 
```

其中，`aspect`是`set_aspect`方法中使用的参数，`dataRatio`是数据坐标`dispRatio`中**的纵横比，是显示坐标中所需的纵横比**。

## 实践

有一种[`get_data_ratio`](https://matplotlib.org/devdocs/api/_as_gen/matplotlib.axes.Axes.get_data_ratio.html#matplotlib.axes.Axes.get_data_ratio)方法可以让我们的代码更简洁。工作代码片段如下所示：

```
import matplotlib.pyplot as plt
import numpy as np

fig, axes = plt.subplots(nrows=2, ncols=2)

dispRatio = 0.5
for i, ax in enumerate(axes.flat, start=1):
    ax.plot(np.arange(0, i * 4, i))
    ax.set(aspect=1.0/ax.get_data_ratio()*dispRatio, adjustable='box-forced')

plt.show() 
```

我还在[这里](https://jdhao.github.io/2017/06/03/change-aspect-ratio-in-mpl/)写了一篇关于所有这些东西的详细帖子。

# python - 如何根据用户输入重新启动程序？

> ID：14907067
> 
> 赞同：18
> 
> 时间：2013-02-16T04:47:35.117
> 
> 标签：python

我正在尝试使用基于用户输入的 if-test 重新启动程序。

这段代码不起作用，但它大约是我所追求的：

```
answer = str(raw_input('Run again? (y/n): '))

if answer == 'n':
   print 'Goodbye'
   break
elif answer == 'y':
   #restart_program???
else:
   print 'Invalid input.' 
```

我想做的是：

*   如果您回答 y - 程序从顶部重新启动
*   如果您回答 n - 程序结束（该部分有效）
*   如果您输入其他任何内容，它应该打印'无效输入。请输入 y 或 n...' 或其他内容，然后再次询问您是否有新的输入。

我非常接近带有“while true”循环的解决方案，但是无论您按什么（n 除外），程序要么只是重新启动，要么无论您按什么（y 除外）它都会退出。有任何想法吗？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2015-05-14T20:57:02.660

此行将无条件地从头开始重新启动正在运行的程序：

```
os.execl(sys.executable, sys.executable, *sys.argv) 
```

与迄今为止的其余建议相比，它的优势之一是程序本身将被再次读取。

例如，如果您在另一个窗口中修改其代码，这将很有用。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-02-16T04:54:05.977

试试这个：

```
while True:
    # main program
    while True:
        answer = str(input('Run again? (y/n): '))
        if answer in ('y', 'n'):
            break
        print("invalid input.")
    if answer == 'y':
        continue
    else:
        print("Goodbye")
        break 
```

内部 while 循环循环直到输入为`'y'`or `'n'`。如果输入为`'y'`，则 while 循环再次开始（`continue`关键字跳过剩余代码并直接进入下一次迭代）。如果输入为`'n'`，则程序结束。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-16T05:11:49.273

使用一个while循环：

```
In [1]: start = 1
   ...: 
   ...: while True:
   ...:     if start != 1:        
   ...:         do_run = raw_input('Restart?  y/n:')
   ...:         if do_run == 'y':
   ...:             pass
   ...:         elif do_run == 'n':
   ...:             break
   ...:         else: 
   ...:             print 'Invalid input'
   ...:             continue
   ...: 
   ...:     print 'Doing stuff!!!'
   ...: 
   ...:     if start == 1:
   ...:         start = 0
   ...:         
Doing stuff!!!

Restart?  y/n:y
Doing stuff!!!

Restart?  y/n:f
Invalid input

Restart?  y/n:n

In [2]: 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-06-10T15:34:13.180

你可以简单地用一个函数来做到这一点。例如：

```
def script():
    # program code here...
    restart = raw_input("Would you like to restart this program?")
    if restart == "yes" or restart == "y":
        script()
    if restart == "n" or restart == "no":
        print "Script terminating. Goodbye."
script() 
```

当然你可以在这里改变很多东西。说什么，脚本将接受什么作为有效输入，变量和函数名称。您可以简单地将整个程序嵌套在用户定义的函数中（当然，您必须将所有内容都放在一个额外的缩进中）并使用这行代码随时重新启动它`myfunctionname()`：更多关于[这里。](http://anh.cs.luc.edu/python/hands-on/3.1/handsonHtml/functions.html)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-16T04:54:41.110

这是一个使用[装饰器](http://docs.python.org/2/reference/compound_stmts.html#function-definitions)的有趣方法：

```
def restartable(func):
    def wrapper(*args,**kwargs):
        answer = 'y'
        while answer == 'y':
            func(*args,**kwargs)
            while True:
                answer = raw_input('Restart?  y/n:')
                if answer in ('y','n'):
                    break
                else:
                    print "invalid answer"
    return wrapper

@restartable
def main():
    print "foo"

main() 
```

最终，我认为您需要 2 个 while 循环。您需要一个循环将提示答案的部分括起来，以便在用户输入错误时可以再次提示。您需要一秒钟来检查当前答案是否为`'y'`，并继续运行代码，直到答案不是`'y'`。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-04-15T06:22:27.483

很容易做到这一点

```
while True:

       #do something

       again = input("Run again? ")

       if 'yes' in again:
              continue
       else:
              print("Good Bye")
              break 
```

基本上，在这种情况下，while 循环将一次又一次地运行程序，因为如果条件成立，while 循环就会运行，`True`所以我们使条件为真，并且如您所知`True`，它始终为真，从不为假。所以，不会停止，然后在此之后主要部分首先来到这里我们将从用户那里获取他们是否要继续程序然后我们会说如果用户说是我想继续然后`continue`关键字将带来循环再次回到顶部，也将再次运行程序，如果用户说别的，或者如果你只想在用户说不的情况下退出程序，你可以用另一种方式来做，那么只需添加这个

```
elif 'no' in again:
       print("Good Bye")
       break
else:
       print("Invalid Input") 
```

这看起来如果输入中有“否”字，如果有，那么它将打破循环并且程序将退出

# css - Mozilla firefox中的背景位置y轴问题

> ID：14907068
> 
> 赞同：-7
> 
> 时间：2013-02-16T04:47:50.243
> 
> 标签：css

我正在尝试，但这是行不通的。在 chrome 中运行良好，但在 Mozilla Firefox 中运行良好。不支持此属性？有什么选择吗？

```
.background {
  background:url('icon.png') no-repeat;
  background-position:0 4;
  width:32px;
  height:40px;
} 
```

刚开始CSS。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-16T05:00:54.847

背景位置值需要具有非零位置的单位值。因此，如果您希望图标离顶部 4px，请将其更改为：

```
background-position: 0 4px; 
```

您还可以在速记中包含位置，如下所示：

```
 background: url('icon.png') 0px 4px no-repeat; 
```

# php - Drupal 6 检索值的语法

> ID：14907077
> 
> 赞同：1
> 
> 时间：2013-02-16T04:49:48.590
> 
> 标签：php, drupal, drupal-6

如果我用以下方式制作表格，

```
 $form['section1']['a']['name'] = array(
    '#type' => 'textfield',
    '#title' => t('Name of student group'),
    //'#disabled' => TRUE, 
  );

  $form['section1']['b']['name'] = array(
    '#type' => 'textfield',
    '#title' => t('Name'),
   // '#disabled' => TRUE, 
  ); 
```

然后参考我使用以下的值？

```
$value_a = $form_state['value']['a']['name'];
$value_b = $form_state['value']['b']['name']; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T15:11:34.617

如果要接收表单值的关联数组，则需要[`#tree => TRUE,`](http://api.drupal.org/api/drupal/developer!topics!forms_api_reference.html/6#tree)在父表单元素中设置。

例如：

```
 $form['section1'] = array(
    '#type' => 'fieldset',
    '#title' => t('Name of student group'),
    '#tree' => TRUE,
  ); 
```

现在，在您的提交函数中，您将收到一个值数组`section1`。

```
$form_state['values']['section1']['a']['name']; 
```

# java - 在休眠中保存一对多映射以更新而不是插入

> ID：14907079
> 
> 赞同：0
> 
> 时间：2013-02-16T04:50:09.000
> 
> 标签：java, hibernate

我正在尝试使用休眠进行一对多映射以将一些信息插入数据库，但每次数据在表中更新而不是插入新行

我有 2 个实体：ReportMaster 和 Reportdetail。其中许多 Reportdetail 数据包含 ID，该 ID 是映射到报告主主键列 ID 的外键

```
@Entity
@Table(name = "ReportMaster")
public class ReportMaster implements Serializable {

private Integer repId;
private Set<ReportDetail> reportDetails = new HashSet<ReportDetail>();
@Id
@GeneratedValue
@Column(name = "RepId", unique = true, nullable = false)
public Integer getRepId() {
    return this.repId;
}
 @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = "reportMaster")
public Set<ReportDetail> getReportDetails() {
    return this.reportDetails;
} 
```

第二个实体是：

```
@Entity
@Table(name = "ReportDetail")
public class ReportDetail implements Serializable {
private String repColumn;
private String colData;
//.......corresponding getters and setters
private ReportMaster reportMaster;
@ManyToOne(targetEntity = ReportMaster.class)
@JoinColumn(name = "RepId")
public ReportMaster getReportMaster() {
    return this.reportMaster;
} 
```

我想在 reportdetails 表中插入一个新行，但它正在更新：

```
ReportMaster report=new ReportMaster(req.getReportName(), req.getCid(), req.getReportDesc(), new Date());
report.addDetail(new ReportDetail(repcol,desc);
getTemplate().save(obj); 
```

生成的 HQL 为：

```
org.hibernate.SQL - insert into ReportMaster (CreateDate, CustomerID, RepDesc, ReportName) values (?, ?, ?, ?)
       org.hibernate.SQL - update ReportDetail set RepId=? where ColData=? and RepColumn=?

        2013-02-16 10:13:34,109[http-6060-1] ERROR org.hibernate.event.def.AbstractFlushingEventListener - Could not synchronize database state with session
    org.hibernate.jdbc.BatchedTooManyRowsAffectedException: Batch update returned unexpected row count from update [0]; actual row count: 2; expected: 1
        at org.hibernate.jdbc.Expectations$BasicExpectation.checkBatched(Expectations.java:71)
        at org.hibernate.jdbc.Expectations$BasicExpectation.verifyOutcome(Expectations.java:46)
        at org.hibernate.jdbc.NonBatchingBatcher.addToBatch(NonBatchingBatcher.java:24)
        at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2403)
        at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2307)
        at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2607)
        at org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:92)
        at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:250)
        at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:234)
        at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:142)
        at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:298)
        at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:27)
        at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1000) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T05:51:46.803

您应该像这样设置 ReportDetail 的属性“reportMaster”：

```
ReportMaster report=new ReportMaster(req.getReportName(), req.getCid(),req.getReportDesc(), new Date());

// create detail and set its master
ReportDetail detail = new ReportDetail(repcol,desc)
detail.setReportMaster(report);
report.addDetail(detail);
getTemplate().save(obj); 
```

按照[这个文件](https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/example-parentchild.html)。

希望这可以帮助。

# ios - 如何使用 Titanium 命令行界面为 App Store 构建 iPhone 应用程序

> ID：14907082
> 
> 赞同：2
> 
> 时间：2013-02-16T04:50:53.773
> 
> 标签：ios, titanium

最近想写一个简单的脚本来自动构建钛项目。这是我的脚本：

```
1 #!/bin/bash
2 
3 platform='ios'
4 developer_name='XXXXX XXXX'
5 device_family='iphone'
6 distribution_name='/Users/XXXXXXXX/Downloads/YY_mobile_app.mobileprovision'
7 ios_version='6.1'
8 pp_uuid='XXXX155D-XXXX-XXXX-CCBR-XXCXX5226XXX'
9 target='dist-appstore'
10 
11 titanium build --platform ${platform}  -F ${device_family} -I ${ios_version}  -T ${target}  -R ${distribution_name} -P ${pp_uuid} -V ${developer_name} 
```

但我不断收到此错误

```
 [ERROR] No distribution or adhoc provisioning profiles found 
```

即使我提供的配置文件（distribution_name,pp_uuid）绝对有效。

有什么建议么？

# c# - 将字符串编码为 34 字节十六进制以获取 SQLite 密码

> ID：14907084
> 
> 赞同：0
> 
> 时间：2013-02-16T04:51:10.080
> 
> 标签：c#, sqlite, windows-phone-7, encryption, windows-phone

我正在尝试使用 csharp-sqlite 在 Windows Phone 上使用 SQLite。我有一个现有的加密数据库，需要输入密码，但在传递字符串时它不起作用。我找到[了这个线程](https://code.google.com/p/csharp-sqlite/issues/detail?id=76&can=1&q=password)，但它说我需要传递一个 32 字节的十六进制密钥，但是如何将现有的字符串转换为 34 字节的十六进制密钥？

谢谢

正如评论中所问的，如果数据库未加密并且我删除了“密码”部分，这是当前代码在数据库中可以正常工作。一旦它被加密，似乎就会抛出一个错误（例如表 X 不存在，即使它在没有加密的情况下工作相同的 SQL 语句），我想我已经将它调试到库的事实我使用的似乎无法接受字符串密码并且需要一个十六进制密钥。

```
 using (var conn = new SqliteConnection("data source=file:db.db3,Password=mypwd"))
 {
 } 
```

我尝试了连接字符串的各种组合，包括添加 Version=3 和使用分号而不是逗号。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T14:22:23.227

我没有使用过 SqlCipher 但[他们网站上的示例代码](http://sqlcipher.net/sqlcipher-ado)没有使用集成到连接字符串中的密码，而是在之后设置连接：

```
conn.ConnectionString = "Data Source=sqlcipher.db;Pooling=false;";
((SQLiteConnection)conn).SetPassword("secret");
conn.Open(); 
```

如果可以通过连接字符串分配密码，您可能需要尝试使用分号而不是逗号来分隔值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T21:11:26.670

[根据这篇文章](http://developmobi.blogspot.co.uk/2010/12/encryption-for-sqlite-and-windows-phone.html)，不可能将 System.Data.SQLite 加密与 csharp-sqlite 库一起使用。

# javascript - 避免 JS 反向单链表中的竞争条件

> ID：14907085
> 
> 赞同：1
> 
> 时间：2013-02-16T04:51:10.700
> 
> 标签：javascript, linked-list, race-condition

我正在研究一个 Javascript 反向单链表实现。也就是说，一个链表不是由存储头对象的变量引用，该变量包含指向下一个对象的链接，依此类推，而是存储在尾变量中，该变量引用列表的最后一个节点，每个节点都包含一个链接到前一个节点。实现的要点如下：

```
// A reversed linked list of the sequence 1, 2, 3
var tail = {
    value: 3,
    previous: {
        value: 2,
        previous: {
            value: 1,
            previous: null
        }
    }
}; 
```

将新节点推送到此列表 ( `tail`) 末尾的代码如下所示：

```
tail = {
    value: 4,
    previous: tail
}; 
```

这是一个演示：http: [//jsbin.com/ajixip/1/](http://jsbin.com/ajixip/1/)

我预见到的问题是在检索当前值`tail`和设置新值之间可能发生的竞争条件。

例如，考虑一个用户触发一个事件，该事件将一个新值推送到列表的尾部。让我们调用 tail 的值被检索并分配给键`previous` **Time A**的时间，让我们调用 tail 设置为新对象**Time B**的时间点。**如果在Time A**和**Time B**之间对列表进行了另一次推送，则`previous`它将是**Time A**的尾部，并假设它将在**Time B**之后将自己分配给尾部，则第一个节点推送将丢失。

我对如何避免这种竞争条件感到困惑。我最初的想法是实现一个防止并发推送的锁，但可能有一些聪明的 JS 魔法可以避免这种情况。有没有巫师愿意分享一些这种魔法？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T04:59:33.407

JavaScript 目前是单线程的。除非您在 get 和 setting 之间调用 setTimeout ，否则您`previous`不会遇到竞争条件。

如果 JavaScript 的多线程实现可用，它还将（很可能）引入某种锁定机制，这将允许您保持命令式风格，同时锁定关键代码部分。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T05:00:07.493

由于Javascript不是多线程的，因此您给出的示例没有问题。就今天的所有意图和目的而言，这是一个原子操作。

# vb.net - Windows Media Player PlayStateChange

> ID：14907094
> 
> 赞同：0
> 
> 时间：2013-02-16T04:53:17.390
> 
> 标签：vb.net, media-player, subroutine, windows-media-player

我正在使用 Visual Basic.net 和 Windows Media Player 控件。是否可以在 PlayStateChange 事件发生时确定 Object。

这是子：

```
PlayStateChange(NewState As Integer) 
```

子中没有发件人对象。是否可以通过覆盖子或其他方式来获取对象？

提前致谢

**更新**

这是我用来使用控件的代码：

```
 Public WithEvents MediaPlayerObject As WindowsMediaPlayer = New WindowsMediaPlayer 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T05:06:02.743

我刚刚添加了一个并使用**表单的属性编辑器**`Windows Media Player Control`订阅了事件，生成的 EventHandler 具有以下签名：`PlayStateChange`

 **```
Private Sub AxWindowsMediaPlayer1_PlayStateChange(sender As System.Object, e As AxWMPLib._WMPOCXEvents_PlayStateChangeEvent) Handles AxWindowsMediaPlayer1.PlayStateChange

End Sub 
```

这是您所期望的，您是如何添加控件和事件处理程序的？

* * *

看起来您正在直接导入 WindowsMediaPlayer 库。尝试右键单击您的工具箱并选择**选择项目**转到[COM 选项卡](http://msdn.microsoft.com/en-us/library/cby6tzh5%28v=vs.100%29.aspx)并选择 WindowsMediaPlayer。然后，您可以将其放在您的表单上。这也将为 ActiveX 控件创建适当的 Wrapper。**

# php - Zend 分页器获取增量计数

> ID：14907095
> 
> 赞同：1
> 
> 时间：2013-02-16T04:53:22.513
> 
> 标签：php, zend-framework, pagination

嗨，我在 Zend Framework 中有一个 Web 应用程序，我使用 Zend 分页器对列表进行分页，下面是我在控制器上实现 zend 分页器的代码

```
$page = $this->_getParam('page');
$biz = $testMapper->fetchAll();

        $paginator = Zend_Paginator::factory($biz);
        $paginator->setItemCountPerPage(4);
        $paginator->setCurrentPageNumber($page,1);
        $paginator->setPageRange(5);
        $this->view->paginator = $paginator; 
```

现在查看我将结果呈现如下

```
<?php foreach($this->paginator as $result) {?>
<p><?=$result['name']?></p>
<?php?> 
```

结果如下：

```
name1
name2
name3 
```

现在我在添加和增加计数时遇到问题，我如何修改上面的代码，结果会是这样的？

```
1.name1
2.name2
3.name3 
```

如果我使用`for`循环，我可以获得如下增量，`($i+0)`前提是`$i`设置为`0`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T05:08:48.793

您可以通过数据显示的每次迭代增加一个计数器：

```
$i = 1;
foreach ($this->paginator as $result){
   echo '<p>' . $i . ' . ' . $result['name'] . '</p>';
   $i++;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:54:29.860

```
<?php 
$serialStart = ($this->paginator->getCurrentPageNumber()- 1) * $this->paginator->getItemCountPerPage();
?>

<?php foreach($this->paginator as $result):?>
    <p><?=$serialStart++?>. <?=$result['name']?></p>
<?php endforeach:?> 
```

这将创建连续到所有页面的序列号。即使更改 的值，`setItemCountPerPage`也不需要更改代码

# phpfox - 如何在phpfox项目中将列值更新到数据库

> ID：14907096
> 
> 赞同：0
> 
> 时间：2013-02-16T04:53:25.610
> 
> 标签：phpfox

我需要将列值更新为 phpfox 论坛模块中发布新线程常规类型的表。我在编码（查询）中找到了表名并将值添加到列，但我没有得到 col 值。有人可以帮忙吗？

我的**数据库名称**：**munpal**

**表名**：**forum_post**

**colmun 名称** ：**标记值**（这里我需要添加我的值）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-21T10:12:24.793

打开`module\forum\include\service\thread\process.class.php`并查看`add`其中的功能。添加线程时调用此函数，您可以根据需要修改该函数。愿这对你有帮助

# powershell - 基于条件的Powershell参数列表

> ID：14907099
> 
> 赞同：1
> 
> 时间：2013-02-16T04:53:43.287
> 
> 标签：powershell, parameters, powershell-2.0, command-line-arguments

我想根据 Switch Condition Like 提出一个论点 Mandatory

```
param(
[string]$para1,
[switch]$choice="Upgrade"
[string]$paraUpg 
[string]$paraInstall 
) 
```

现在如果选择是`Upgrade`我想`$paraUpg`强制，如果`$choice`是`Install`那么`$paraInstall`必须是强制的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T19:08:17.097

您可以尝试以下方法。设置所有参数，如果`$choice="Upgrade"`and`$paraUpg`为 null 或为空，则抛出异常。类似地重复`$choice="Install"`。然后，您可以根据选择的参数有条件地选择参数检查后要执行的操作。

```
param(
    [string]$para1,
    [string]$choice="Upgrade",
    [string]$paraUpg,
    [string]$paraInstall
    )

#check if choice is "Upgrade" and paraUpg is empty
if(($choice -eq "Upgrade") -and ([string]::IsNullOrEmpty($paraUpg)))
{
    throw "paraUpg is a required parameter"
}
#check if choice is "Install" and paraInstall is empty
elseif (($choice -eq "Install") -and ([string]::IsNullOrEmpty($paraInstall)) )
{
    throw "paraInstall is a required parameter"
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T05:10:05.553

首先，它`PowerShell`与 Windows 7 一起作为其添加的实用程序之一。

到目前为止，您还没有详细说明您做了什么。我怀疑你想要这样的东西。

在您的`PowerShell`脚本中最好在顶部声明参数。

```
param([string]$UserName, [string]$Password, [string]$MachineName) 
```

在需要时在您的 powershell 脚本中使用这些 parmas。现在创建一个批处理文件，您可以从中将值传递给这些参数，如下所示。

```
@powershell -ExecutionPolicy Unrestricted -FILE YourPowerShellScript.ps1 "UserName" "Password" "MachineName" 
```

我已经在批处理文件中指定了策略权限，因此您不必每次在不同机器上运行脚本时都提及。希望能帮助到你。

# java - 带有自定义视图的 AlertDialog：调整大小以包装视图的内容

> ID：14907104
> 
> 赞同：60
> 
> 时间：2013-02-16T04:54:59.383
> 
> 标签：java, android, android-layout, android-alertdialog, android-dialogfragment

我在正在构建的应用程序中遇到了这个问题。请忽略所有设计缺陷和缺乏最佳实践方法，这纯粹是为了展示我无法解决的问题。

我有`DialogFragment`一个使用. 如果这有特定的大小要求，我如何才能正确调整自身大小以显示自定义中的所有内容？`AlertDialog``View``AlertDialog.Builder.setView()``View``Dialog``View`

这是我一直在使用的示例代码：

```
package com.test.test;

import android.os.Bundle;
import android.app.Activity;
import android.app.AlertDialog;
import android.app.Dialog;
import android.app.DialogFragment;
import android.content.Context;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.graphics.Paint.Style;
import android.view.Gravity;
import android.view.LayoutInflater;
import android.view.View;
import android.view.WindowManager;
import android.view.View.OnClickListener;
import android.view.ViewGroup;
import android.view.ViewGroup.LayoutParams;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.EditText;
import android.widget.FrameLayout;
import android.widget.LinearLayout;
import android.widget.Spinner;
import android.widget.TextView;

public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // Use a button for launching
        Button b = new Button(this);
        b.setText("Launch");
        b.setOnClickListener(new OnClickListener() {    
            @Override
            public void onClick(View v) {
                // Launch the dialog
                myDialog d = new myDialog();
                d.show(getFragmentManager(), null);
            }
        });

        setContentView(b);
    }

    public static class myDialog extends DialogFragment {

        @Override
        public Dialog onCreateDialog(Bundle savedInstanceState) {           
            // Create the dialog
            AlertDialog.Builder db = new AlertDialog.Builder(getActivity());
            db.setTitle("Test Alert Dialog:");
            db.setView(new myView(getActivity()));

            return db.create();
        }

        protected class myView extends View {
            Paint p = null;

            public myView(Context ct) {
                super(ct);

                // Setup paint for the drawing
                p = new Paint();
                p.setColor(Color.MAGENTA);
                p.setStyle(Style.STROKE);
                p.setStrokeWidth(10);
            }

            @Override
            protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
                setMeasuredDimension(800, 300);
            }

            @Override
            protected void onDraw(Canvas canvas) {
                // Draw a rectangle showing the bounds of the view
                canvas.drawRect(0, 0, getMeasuredWidth(), getMeasuredHeight(), p);
            }
        }
    }
} 
```

A`Button`已创建，`DialogFragment`单击即可打开。custom `View`( `myView`) 需要具有 800 的宽度和 300 的高度，这在`onMeasure()`. This`View`以洋红色绘制其测量范围以用于调试目的。

800 宽度比`Dialog`我设备上的默认尺寸宽，但被剪裁而不是正确拉伸。

我查看了以下解决方案：

*   [DialogFragment.getDialog 返回 null](https://stackoverflow.com/questions/8456143/dialogfragment-getdialog-returns-null)
*   [如何控制Android中默认Alert Dialog的宽度和高度？](https://stackoverflow.com/questions/4406804/how-to-control-the-width-and-height-of-default-alert-dialog-in-android)
*   [警报对话框或自定义警报对话框的大小](https://stackoverflow.com/questions/8835931/size-of-alert-dialog-or-custom-alert-dialog)

我推导出了以下两种编码方法：

1.  获取`WindowManager.LayoutParams`of`Dialog`并使用`myDialog.getDialog().getWindow().get/setAttributes()`
2.  使用`setLayout(w, h)`方法通过`myDialog.getDialog().getWindow().setLayout()`

我在我能想到的任何地方都尝试过它们（覆盖`onStart()`、在 a `onShowListener`、在创建和显示之后等），并且如果提供**特定值**`Dialog`，通常可以使这两种方法正常工作。但是，无论何时提供，都不会发生任何事情。`LayoutParams`**`WRAP_CONTENT`**

 **有什么建议么？

**编辑：**

情况截图： ![在此处输入图像描述](../Images/5587f2d4eb6299e7584ac19f13786a36.png)

特定值的屏幕截图（注意在此处输入 900，850 不会覆盖视图的整个宽度，考虑到正在调整整个窗口，这是有道理的。因此，如果需要另一个，这提供了`WRAP_CONTENT`必要/固定的原因值不合适）： ![在此处输入图像描述](../Images/da8563285db578e3fdb020829b9c53ff.png)

* * *

## 回答 #1

> 赞同：65
> 
> 时间：2013-02-17T05:25:05.847

我有一个可行的解决方案，老实说，我认为挖掘得太深而无法获得如此简单的结果。但这里是：

**究竟发生了什么：**

[通过使用Hierarchy Viewer](http://developer.android.com/tools/debugging/debugging-ui.html)打开`Dialog`布局，我能够检查整个布局以及到底发生了什么： `AlertDialog`![在此处输入图像描述](../Images/7f822ce1d57e6e11df5c6bc0a77cc8a2.png)

**蓝色**突出显示的是所有高级部分（`Window`，视觉样式的框架`Dialog`等），从**蓝色**的末尾向下是组件所在的`AlertDialog`位置（**红色**= 标题，**黄色**= 滚动视图存根，可能用于 list `AlertDialog`s ，**绿色**=`Dialog`内容，即自定义视图，**橙色**= 按钮）。

从这里可以清楚地看出，7 视图路径（从**蓝色的开始到****绿色**的结束）是错误的`WRAP_CONTENT`。查看`LayoutParams.width`每个`View`显示所有内容都已给出`LayoutParams.width = MATCH_PARENT`，并且在某处（我猜在顶部）设置了大小。因此，如果您遵循那棵树，很明显您`View`在树底部的自定义，将**永远**无法影响`Dialog`.

那么现有的解决方案在做什么呢？

*   我的问题中提到的两种*编码方法*都是简单地获取顶部`View`并修改其`LayoutParams`. 显然，`View`在树中的所有对象都与父对象匹配的情况下，如果将顶层设置为静态大小，则整体`Dialog`将改变大小。但如果顶层设置为`WRAP_CONTENT`，树中的所有其余`View`对象仍在*查找树*以“匹配其父对象”，而不是*向下查找树*以“包装其内容”。

**如何解决问题：**

说白了就是将影响路径`LayoutParams.width`中所有对象的 改为。`View``WRAP_CONTENT`

我发现这只能在调用`onStart`的生命周期步骤之后完成。`DialogFragment`所以`onStart`实现如下：

```
@Override
public void onStart() { 
    // This MUST be called first! Otherwise the view tweaking will not be present in the displayed Dialog (most likely overriden)
    super.onStart();

    forceWrapContent(myCustomView);
} 
```

然后是适当修改`View`层次结构的函数`LayoutParams`：

```
protected void forceWrapContent(View v) {
    // Start with the provided view
    View current = v;

    // Travel up the tree until fail, modifying the LayoutParams
    do {
        // Get the parent
        ViewParent parent = current.getParent();    

        // Check if the parent exists
        if (parent != null) {
            // Get the view
            try {
                current = (View) parent;
            } catch (ClassCastException e) {
                // This will happen when at the top view, it cannot be cast to a View
                break;
            }

            // Modify the layout
            current.getLayoutParams().width = LayoutParams.WRAP_CONTENT;
        }
    } while (current.getParent() != null);

    // Request a layout to be re-done
    current.requestLayout();
} 
```

这是工作结果： ![在此处输入图像描述](../Images/739b7119ef777ea2d3d4790d7de88c11.png)

这让我感到困惑，为什么整个`Dialog`人不想`WRAP_CONTENT`使用一个明确的`minWidth`集合来处理所有符合默认大小的情况，但我确信它是有充分理由的（有兴趣听到它） .

* * *

## 回答 #2

> 赞同：35
> 
> 时间：2013-07-18T13:32:55.193

后

```
dialog.show(); 
```

只需使用

```
dialog.getWindow().setLayout(ViewGroup.LayoutParams.WRAP_CONTENT, yourHeight); 
```

非常简单的解决方案，但它对我有用。我正在扩展一个对话框，但假设这也适用于 DialogFragment。

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2015-04-07T13:36:04.303

AlertDialog 使用这两个窗口属性来定义它们可以达到的最小尺寸，以便在平板电脑上它们在屏幕中心以合理的宽度浮动。

[http://developer.android.com/reference/android/R.attr.html#windowMinWidthMajor](http://developer.android.com/reference/android/R.attr.html#windowMinWidthMajor) [http://developer.android.com/reference/android/R.attr.html#windowMinWidthMinor](http://developer.android.com/reference/android/R.attr.html#windowMinWidthMinor)

您可以扩展您选择的默认对话框样式并更改值以应用您自己的逻辑。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2016-03-23T20:48:42.620

这对我来说没问题：

```
WindowManager.LayoutParams lp = new WindowManager.LayoutParams();
lp.copyFrom(dialog.getWindow().getAttributes());
lp.width = WindowManager.LayoutParams.WRAP_CONTENT;
lp.height = WindowManager.LayoutParams.WRAP_CONTENT;
dialog.show();
dialog.getWindow().setAttributes(lp); 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2015-09-01T19:53:49.853

我发现[B T 的回答](https://stackoverflow.com/a/14918253/1170154)有一个问题。对话框已左对齐（不在屏幕中心）。为了解决这个问题，我添加了更改父布局的重力。请参阅更新的 forceWrapContent() 方法。

```
protected void forceWrapContent(View v) {
    // Start with the provided view
    View current = v;

    // Travel up the tree until fail, modifying the LayoutParams
    do {
        // Get the parent
        ViewParent parent = current.getParent();

        // Check if the parent exists
        if (parent != null) {
            // Get the view
            try {
                current = (View) parent;
                ViewGroup.LayoutParams layoutParams = current.getLayoutParams();
                if (layoutParams instanceof FrameLayout.LayoutParams) {
                    ((FrameLayout.LayoutParams) layoutParams).
                            gravity = Gravity.CENTER_HORIZONTAL;
                } else if (layoutParams instanceof WindowManager.LayoutParams) {
                    ((WindowManager.LayoutParams) layoutParams).
                            gravity = Gravity.CENTER_HORIZONTAL;
                }
            } catch (ClassCastException e) {
                // This will happen when at the top view, it cannot be cast to a View
                break;
            }

            // Modify the layout
            current.getLayoutParams().width = ViewGroup.LayoutParams.WRAP_CONTENT;
        }
    } while (current.getParent() != null);

    // Request a layout to be re-done
    current.requestLayout();
} 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2017-10-27T21:00:35.843

**对话框应该是包装内容**

您可以使用带有**透明背景**和**重心**的**match_parent制作****父布局**。并将您的主要布局放在它下面。所以它**看起来**像**中心**定位的对话框。

 ******通过这种方法，您可以在对话框中使用 Scrollview、RecyclerView 和任何类型的布局。

```
public void showCustomDialog(Context context) {
    Dialog dialog = new Dialog(context);
    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);
    LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    view = inflater.inflate(R.layout.dialog_layout, null, false); 
    findByIds(view);  /*find your views by ids*/
    ((Activity) context).getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_VISIBLE | WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);
    dialog.setContentView(view);
    final Window window = dialog.getWindow();
    window.setLayout(WindowManager.LayoutParams.MATCH_PARENT, WindowManager.LayoutParams.WRAP_CONTENT);
    window.setBackgroundDrawableResource(R.color.colorTransparent);
    window.setGravity(Gravity.CENTER);
    dialog.show();
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-05-21T15:07:26.510

采用 `setStyle(STYLE_NORMAL, android.R.style.Theme_Holo_Light_Dialog);`

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2016-03-18T12:43:59.453

只需使用 AppCompatDialog

```
import android.content.Context;
import android.os.Bundle;
import android.support.v7.app.AppCompatDialog;
import android.view.Window;
import android.widget.ProgressBar;

public class ProgressDialogCompat extends AppCompatDialog {

    public ProgressDialogCompat(Context context) {
        super(context);
        supportRequestWindowFeature(Window.FEATURE_NO_TITLE);
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        Context context = getContext();
        int padding = context.getResources().getDimensionPixelSize(R.dimen.x_medium);
        ProgressBar progressBar = new ProgressBar(context);
        progressBar.setPadding(padding, padding, padding, padding);
        setContentView(progressBar);
        setCancelable(false);
        super.onCreate(savedInstanceState);
    }
} 
```********

# twitter-bootstrap - 无法让徽章与导航栏中的链接对齐

> ID：14907114
> 
> 赞同：7
> 
> 时间：2013-02-16T04:57:42.203
> 
> 标签：twitter-bootstrap

我无法弄清楚如何在导航栏中的链接旁边获取徽章并使其正确排列。

```
<ul class="nav">
 <li><a href="#">Home</a></li>
 <li><a href="#">Link</a><span class="badge badge-important">4</span></li> 
```

这是我的问题的 JSFiddle 示例：http: [//jsfiddle.net/pHRc9/3/](http://jsfiddle.net/pHRc9/3/)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-16T05:02:01.097

尝试将 a href 的关闭放在 span 关闭之外。

```
<ul class="nav">
<li><a href="#">Home</a></li>
<li><a href="#">Link <span class="badge badge-important">4</span></a></li> 
```

**更新的答案**

你没有在你的问题中指定这一点。使用您已经存在的代码，并放置这个 css 对我来说没问题。

```
a {
    float:left !important;
}
span {
    float: left !important;
    margin-top: 10px;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-04-04T16:56:16.980

不知道为什么要在链接之外使用徽章，因为整个链接都变成了一个块。将徽章放在右侧的最佳方法类似于[lostintranslation](https://stackoverflow.com/a/14907138/793558)的答案，但不是使用`.badge-important`use `.pull-right`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-03-04T10:41:31.337

我所做的是将徽章作为列表元素放置：

```
 %ul.nav.navbar-nav.navbar-right
    %li.navbar-text
      %span.badge boo
    %li.navbar-text
      %span.label.label-primary foo 
```

这对我来说似乎很好。

# jsp - 在父窗口中加载从 servlet 转发的 jsp，而不是在弹出窗口中加载

> ID：14907118
> 
> 赞同：0
> 
> 时间：2013-02-16T04:58:15.493
> 
> 标签：jsp, servlets

我正在通过jsp创建一个弹出窗口，并将弹出窗口中的一些选定值传递给jsp。在这样做时，我正在使用 servlet 即。从弹出窗口我正在调用 servlet，在 servlet 中我正在使用请求调度程序并将结果转发到 jsp。整个过程工作正常，但是从 servlet 转发到的新 jsp 被加载到同一个弹出窗口中，但我需要在父窗口中加载这个 jsp。请帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T11:59:56.300

在您的弹出窗口调用`parent.document.location='youservletname'`并关闭弹出窗口 ( `window.close()`)。

# image - Flipboard、Facebook 或 Flickr 等移动应用程序使用的图像大小调整算法是什么

> ID：14907121
> 
> 赞同：0
> 
> 时间：2013-02-16T04:58:31.977
> 
> 标签：image, algorithm, mobile, resize

我们正在做一个类似flipboard的手机app，我们目前使用的是Bilinear算法，但是图像清晰度不是很清晰（Blurred）。请建议..

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-16T05:46:25.017

我不知道您使用的是什么操作系统，但 Android 允许您定义不同的图像资源以自动用于不同的屏幕分辨率。我想“专业应用程序”使用这个（或类似的）来为不同的屏幕分辨率提供不同的图像，从而无需重新缩放。反正我就是这么做的。

# html - 将 Canvas 导出为 .gif 图像

> ID：14907122
> 
> 赞同：8
> 
> 时间：2013-02-16T04:58:37.590
> 
> 标签：html, canvas, png, export, gif

我一直在努力将我的 html5 画布导出为 .gif 图像，我能够成功地将其保存为 .png 文件。我不知道这里做错了什么是我的简单代码

```
canvas.onclick = function () {
window.location = canvas.toDataURL('image/gif');
}; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-16T05:01:44.790

[这](https://stackoverflow.com/questions/923885/capture-html-canvas-as-gif-jpg-png-pdf)将回答你的问题。简而言之，尝试 console.log'ing 你的数据，并不是所有的浏览器都支持写入 gif。

# css - 相对定位的div的默认宽度

> ID：14907123
> 
> 赞同：0
> 
> 时间：2013-02-16T04:58:40.190
> 
> 标签：css

如果div标签的位置是绝对的，默认它的高度和宽度都是0，但是如果位置是相对的，默认宽度是300px，我想要一个宽度和相对位置为0的div标签...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T05:08:08.150

然后让它：

```
 <div style="position:relative; width:0;"></div> 
```

# javascript - WinJS，脚本控制绑定的数据-win-bind？

> ID：14907125
> 
> 赞同：2
> 
> 时间：2013-02-16T04:59:33.363
> 
> 标签：javascript, html, windows-8, winjs

我正在使用 HTML5/Javascript 开发 Windows 8 应用程序。我创建了一个自定义控件，它使用一堆 DIV 来显示内容，每个 DIV 都使用`WinJS.Binding.Template`. 设置接近这个问题的答案：[WinJS.UI.ListView 自定义列表项内容？](https://stackoverflow.com/questions/14659952/winjs-ui-listview-customize-list-item-content).

绑定数据接近：

```
[
    {
        "title": "title name",
        "allow_action": false
        "action_type": "go"
    },
    ...
] 
```

我的模板接近：

```
<div id="entry" data-win-control="WinJS.Binding.Template">
    <div data-win-bind="textContent: title">
    </div>
    <a class="action">Action</a>
</div> 
```

绑定后，我想：

1.  根据 和 的值更改`className`的。`a.action``allow_action``action_type`
2.  根据绑定数据的内容，在绑定时附加一个事件 ( `addEventListener`) 。`a.action`这包括`allow_action`,`action_type`和其他值。

基本上，我希望有一个绑定前或绑定后的回调函数，将元素和绑定数据作为参数。转换器似乎无法做到这一点，因为转换器不允许您访问其他字段。

同时，我在`render`. 我想知道是否有更好的选择。谢谢你。

**更新**

正如@GotDibbs 和@RSW 在评论中所建议的那样，我设法使用[Sending multiple parameters to WinJS.Binding.converter() function](https://stackoverflow.com/questions/14713927/sending-multiple-parameters-to-winjs-binding-converter-function/14715804#14715804)中的解决方案解决了问题#1 。我想知道＃2是否仍然可能？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T04:57:35.603

您应该能够通过将所需元素上的 event 和 className 属性绑定到您的模型来实现您正在寻找的东西，就像评论中提到的[先前答案一样。](https://stackoverflow.com/questions/14713927/sending-multiple-parameters-to-winjs-binding-converter-function/14715804#14715804)因此，假设您要绑定点击事件，您的锚标记看起来更像这样：

```
...
<a data-win-bind="className: this Converters.getItemClassName; onclick: this Converters.getItemClickHandler">Action</a>
... 
```

# android - Android - 与 MS-SQL 2005 的数据库连接

> ID：14907127
> 
> 赞同：1
> 
> 时间：2013-02-16T04:59:57.193
> 
> 标签：android, jdbc

我有一个关于 SQL2005 和 android 数据库连接的查询。我正在尝试建立连接，但发生了错误。即

> 找不到从方法 com.microsoft.sqlserver.jdbc.SQLServerConnection.poolCloseEventNotify 引用的类“javax.sql.XAConnection”

在此之前，我已经包含了所需的 Jdbc-sql 驱动程序（即 sqljdbc4）

# html - 缩小时无法让页面显示全宽

> ID：14907128
> 
> 赞同：0
> 
> 时间：2013-02-16T04:59:58.503
> 
> 标签：html, css

当我缩小浏览器时，标题和导航栏不会延伸到浏览器的末尾。当我缩小浏览器时，它看起来像这样。我希望标题和导航栏一直延伸到浏览器的末尾。 ![收缩时](../Images/89a7ad5955e84618780d99e77ee91824.png)

当浏览器被拉伸时，没关系！ ![浏览器展开时](../Images/6bc611a6b80491f76e4e14c1ae9f471e.png)

这是我的html代码：

```
<body>

<div id="header">
Some text
</div>

<ul id="nav">
<li><a href="index.html">Home</a></li>
<li><a href="work.html">Work</a></li>
<li><a href="about.html">About</a></li>
<li><a href="contact.html">Contact</a></li>
</ul>

</body> 
```

这是它的CSS：

```
/* CSS Document */
body {
background:red; 
}

#header{
    margin:0;
    background: white;
    height:90px;
    width:100%;
}

#nav {
    /* margin: 0px auto;*/
     padding-left: 100px;
     background: black;
     height:54px;
}

#nav li {
     float: left;
}

#nav li a {
     color: lime;
     font-size: 20px;
     font-weight: bold;
     line-height: 54px;
     margin-right: 94px;
     text-decoration: none;
} 
```

如果你能告诉我我做错了什么，我将不胜感激。我也在使用 Eric Meyer 的重置。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T05:02:26.240

试试这个

```
#header{
    margin:0;
    background: white;
    height:90px;
    min-width:960px;
    width:100%;
} 
```

在这里你可以指定`min-width:--;`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T05:06:24.373

**使用百分比**间距更新列表的css，如下所示。

```
/* CSS Document */
body {
background:red; 
}

#header{
    margin:0;
    background: white;
    height:90px;
    width:100%;
}

#nav {
    /* margin: 0px auto;*/
     padding-left: 10%;
     background: black;
     height:54px;
}

#nav li {
     float: left;
    padding-right:9%;
}

#nav li a {
     color: lime;
     font-size: 20px;
     font-weight: bold;
     line-height: 54px;
     text-decoration: none;
    display:block
} 
```

这是演示：http: [//jsfiddle.net/vYgs5/](http://jsfiddle.net/vYgs5/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-16T06:01:45.410

我建议让您的网站改为响应式，@Naveen 答案非常有帮助，但您要记住为所有设备编辑响应式 css 样式，例如：

```
/* Smartphones (portrait and landscape) ----------- */
@media only screen 
and (min-device-width : 320px) 
and (max-device-width : 480px) {
/* Styles */
}

/* Smartphones (landscape) ----------- */
@media only screen 
and (min-width : 321px) {
/* Styles */
}

/* Smartphones (portrait) ----------- */
@media only screen 
and (max-width : 320px) {
/* Styles */
}

/* iPads (portrait and landscape) ----------- */
@media only screen 
and (min-device-width : 768px) 
and (max-device-width : 1024px) {
/* Styles */
}

/* iPads (landscape) ----------- */
@media only screen 
and (min-device-width : 768px) 
and (max-device-width : 1024px) 
and (orientation : landscape) {
/* Styles */
}

/* Desktops and laptops ----------- */
@media only screen 
and (min-width : 1224px) {
/* Styles */
}

/* Large screens ----------- */
@media only screen 
and (min-width : 1824px) {
/* Styles */
} 
```

# algorithm - sqrt 和 div 指令以相同的速度运行

> ID：14907131
> 
> 赞同：2
> 
> 时间：2013-02-16T05:00:51.463
> 
> 标签：algorithm, optimization, assembly, language-agnostic

我随便阅读了英特尔架构参考手册[http://www.cs.princeton.edu/courses/archive/spr12/cos217/reading/ia32opt.pdf](http://www.cs.princeton.edu/courses/archive/spr12/cos217/reading/ia32opt.pdf)，当我阅读指令延迟和吞吐量附录时，我发现 sqrt 指令的延迟（执行核心完成执行构成指令的所有微操作所需的时钟周期数。）与除法的延迟完全相同（在第C-28) 指令——至少对于某些微架构而言。对于单精度、双精度和扩展精度，数字分别为 30、40 和 44 个时钟周期。

我的问题是 sqrt 指令如何与 div 指令一样大的处理器接收器？我一直认为 sqrt 指令在任何语言中都是昂贵的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-16T06:39:10.307

这并不为人所知，但有一些计算平方根的算法在移位运算方面与除法一样快。这些不是牛顿近似。

请参见[(Sqrt in) 二进制数字系统（以 2 为底）](http://en.wikipedia.org/wiki/Methods_of_computing_square_roots#Binary_numeral_system_.28base_2.29)。我第一次在 Knuth 的半数字算法书中看到了这一点，并在 1970 年代初期用它在 16 位小型计算机上以与除法相同的速度对 sqrts 进行编码。循环的核心移出两位，计算平方根位，然后重复。因此，总移位 == 位数，这与经典除法相同。

如果他们确实通过芯片上的移位和比较方法进行划分，他们可以很容易地实现平方根。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-16T05:43:31.457

从理论上讲，除法与许多函数（包括平方根）的顺序相同，可以通过[http://en.wikipedia.org/wiki/Newton%27s_method](http://en.wikipedia.org/wiki/Newton%27s_method)计算得出。牛顿法的迭代次数很少，因为每次正确数字的数量都会增加一倍。早期迭代很便宜，因为您不必以全精度进行它们-您只需要迭代的期望精度-渐近结果是每个迭代都与单个全精度除法一样昂贵-请参阅[http： //en.wikipedia.org/wiki/Computational_complexity_of_mathematical_operations](http://en.wikipedia.org/wiki/Computational_complexity_of_mathematical_operations)

在一个芯片上，他们可能对两者都使用了一些高度调整的专用方法，但如果对成本的最大贡献是最终通过芯片的乘法流水线获得全精度结果，那么它们可能是相同的成本在快速查表或其他近似解决方案之后。

# webdriver - 使用 python web 驱动程序获取 web 表中的行和列值

> ID：14907134
> 
> 赞同：0
> 
> 时间：2013-02-16T05:01:10.560
> 
> 标签：webdriver, selenium-webdriver

如何使用 python web 驱动程序获取 web 表中的特定行和列值。我一直在尝试，但我无法得到它。请任何人告诉我我们如何获得行和列值。这是我的代码

```
start="//*[@id='p1']/div/table/tbody/tr["
end= str(i)+ "]/td[1]/a"
row1=driver.find_element_by_xpath(start + end)
print row1.text 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-07T08:23:11.860

试试这个，它在我的系统上工作正常：

```
driver = webdriver.Firefox()
driver.get("http://www.flipkart.com/programming-python-4th-e-d/p/itmczzj4gpfrr6bs?pid=9789350232873&icmpid=reco_pp_hSame_book_1")
data=[]
for tr in driver.find_elements_by_xpath('//table[@class="mprod-similar-prod-table"]//tr'):
  tds=tr.find_elements_by_tag_name('td')
  if tds: 
    data= [td.text for td in tds]
print "3730" in data[2] #or whatever is the current price 
```

# ios - UIView 中的 UIView 未显示

> ID：14907135
> 
> 赞同：2
> 
> 时间：2013-02-16T05:01:16.160
> 
> 标签：ios, objective-c, uiview, storyboard

我在情节提要中创建了一个 UIView（黄色），然后将另外两个 UIView（绿色和红色）拖到黄色的内部。它在 Xcode 故事板中看起来不错。

当我在模拟器中运行时，绿色和红色的 UIViews 没有出现？它工作的唯一模拟器是当设备设置为 iPhone Retina 4 时。下面的屏幕是 iPhone Retina 3.5。

关于问题可能是什么的任何想法？

![在此处输入图像描述](../Images/fd3d829bba5514ad3ecee5db4b09dba8.png)

更新：显示故事板结构的图像。

![在此处输入图像描述](../Images/084d876891ed7a780400473a4940dd39.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T22:28:39.713

好的，解决了这个问题。问题是自动布局。我必须为红色和绿色 UIView 设置约束，例如引脚高度和引脚宽度。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T05:13:09.167

您需要调整视图的大小以针对不同的高度进行调整。现在，视图被剪裁了，因为`Autolayout`红色和绿色按钮隐藏在上侧。

一个非常简单的方法是使用 xib 本身的 AutoResizing 标志！只需单击单个组件（`UIButton`，，`UILabel`等）并更改标志，如下所示：![在此处输入图像描述](../Images/b140c69fd433e3a6bcc4b6478e177425.png)

以编程方式为复杂的 UI 执行此操作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-01-03T07:19:38.277

我通过设置适当的角半径解决了这个问题。

# sql - SELECT TOP 1 MAX（日期时间）

> ID：14907146
> 
> 赞同：0
> 
> 时间：2013-02-16T05:03:40.077
> 
> 标签：sql, sql-server, select

假设我有一个名为的表`'@DeviceSample'`和另一个名为`'@DevicesActivityDataSample'.`

`'MAX(DATETIME)'`当我在“ DevicesActivityDataSample ”中有重复的行时，我想为每个设备选择前 1 个`'@DevicesActivityDataSample'`，但在我的结果中，我得到了所有重复的行，但我在寻找前一个。另一个问题是，当我想从 100000 行中选择时，由于计算 MAX，需要很长时间才能得到我的结果，这是我的示例代码

```
DECLARE @DeviceSample TABLE
(
RowID INT IDENTITY(1, 1) PRIMARY KEY CLUSTERED,
ADeviceID INT ,
DeviceName VARCHAR(50) NOT NULL
) 
INSERT @DeviceSample
SELECT 1,'DEVICE 1' UNION ALL
SELECT 2,'DEVICE 2' UNION ALL
SELECT 3,'DEVICE 3'

DECLARE @DevicesActivityDataSample TABLE
(
RowID INT IDENTITY(1, 1) PRIMARY KEY CLUSTERED,
BDeviceID INT,
DeviceDateTime DATETIME,
CMD NVARCHAR(50)
) 

INSERT @DevicesActivityDataSample
SELECT 1, '2013-02-14 19:08:46.000','HHJJ' UNION ALL
SELECT 2, '2013-02-15 03:30:24.000','HHJJ' UNION ALL
SELECT 2, '2013-02-15 03:30:24.000','HHJJ' UNION ALL
SELECT 2, '2013-02-15 03:30:24.000','HHJJ' UNION ALL
SELECT 1, '2013-02-16 03:30:24.000','HHJJ' UNION ALL
SELECT 1, '2013-02-11 03:30:24.000','HHJJ' UNION ALL
SELECT 2, '2013-02-10 03:30:24.000','HHJJ' UNION ALL
SELECT 3, '2013-02-07 04:25:24.000','HHJJ' UNION ALL
SELECT 3, '2013-02-12 23:02:02.000','HHJJ' 

    SELECT  *
    FROM        @DeviceSample
    INNER JOIN  
    @DevicesActivityDataSample 
            ON  ADeviceID = BDeviceID
    WHERE       DeviceDateTime IN (
                    SELECT    MAX(DeviceDateTime) AS MaxDate
                    FROM      @DevicesActivityDataSample                                
                    GROUP BY  BDeviceID
                ) 

GO 
```

以及如何获得 1000000 行或更多行的快速快速结果

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-16T05:12:26.023

```
SELECT DeviceID, MAX(DeviceDateTime)
FROM @DeviceSample
GROUP BY DeviceID; 
```

如果这很慢，请考虑使用 #temp 表而不是 @table 变量（[请参阅此处的主要区别](https://dba.stackexchange.com/questions/16385/whats-the-difference-between-a-temp-table-and-table-variable-in-sql-server)），并添加如下索引：

```
CREATE CLUSTERED INDEX LatestDeviceTime
  ON #DeviceSample (DeviceID, DeviceDateTime DESC); 
```

或者首先不使用表变量或临时表，并在数据来源的基表中添加有用的索引。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-16T09:36:12.043

这是每组查询的最大 n。将表变量的定义更改为

```
DECLARE @DevicesActivityDataSample TABLE (
  RowID          INT IDENTITY(1, 1) PRIMARY KEY CLUSTERED,
  BDeviceID      INT,
  DeviceDateTime DATETIME,
  CMD            NVARCHAR(50),
  UNIQUE (BDeviceID, DeviceDateTime DESC, RowID, CMD) ) 
```

添加有用的索引。

### 方法一

```
SELECT DADS.*
FROM   @DeviceSample DS
       CROSS APPLY (SELECT TOP 1 *
                    FROM   @DevicesActivityDataSample DADS
                    WHERE  DADS.BDeviceID = DS.ADeviceID
                    ORDER  BY DADS.DeviceDateTime DESC) DADS; 
```

### 方法二

```
WITH T
     AS (SELECT *,
                ROW_NUMBER() OVER (PARTITION BY BDeviceID 
                                       ORDER BY DeviceDateTime DESC) AS RN
         FROM   @DevicesActivityDataSample)
SELECT *
FROM   T
WHERE  RN = 1 
```

![计划](../Images/6a812584c9a6f6865d4532c6d9be7ad8.png)

您也可以考虑使用`#temp`@Aaron 建议的表格，可能具有以下定义。

```
CREATE TABLE #DevicesActivityDataSample (
  RowID          INT IDENTITY(1, 1) PRIMARY KEY NONCLUSTERED,
  BDeviceID      INT,
  DeviceDateTime DATETIME,
  CMD            NVARCHAR(50)) 

CREATE CLUSTERED INDEX IX ON #DevicesActivityDataSample(BDeviceID, DeviceDateTime DESC) 
```

你真的需要`RowID`吗？

# ios - iOS如何使标签中的电子邮件地址可点击

> ID：14907149
> 
> 赞同：9
> 
> 时间：2013-02-16T05:04:26.903
> 
> 标签：ios, email

我相信这个问题之前已经被问过和回答过，但我找不到。我看到一个指向 Fancy Label 和 Three20 的答案，但它们并不是我想要的，或者我可能错过了一些要点。

基本上，我想得到应用用户的反馈，所以我会写一个大标签，比如

> 等等等等，给我发电子邮件 xxxxxx@gmail.com，等等等等。

我希望电子邮件地址可点击，并打开电子邮件编辑器，以便用户可以编辑和发送。

这就是我所需要的。如何得到它？谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-16T05:35:10.810

您可以按如下方式使用 UITextView：

```
UITextView *myView = [[UITextView alloc] initWithFrame: CGRectMake(0, 0, 300, 50)];
    myView.text = @"this is http://google.com link";
    myView.editable = NO;
    myView.dataDetectorTypes = UIDataDetectorTypeLink;    
    //myView.message.dataDetectorTypes = UIDataDetectorTypePhoneNumber|UIDataDetectorTypeLink; for multiple data detection
    [self.view addSubview:myView];
    [myView release]; 
```

选择多个数据检测：

![在此处输入图像描述](../Images/8aaac5ef031af177b30dc3245ba1d5be.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T05:15:52.890

这个很简单，

在 .h 文件中创建标签出口

```
@interface ContactUsViewController : UIViewController<MFMailComposeViewControllerDelegate>

@property (strong, nonatomic) IBOutlet UILabel *mail1Lbl; 
```

并将此代码放在.m 文件中

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    UITapGestureRecognizer* mail1LblGesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(mail1LblTapped:)];
    // if labelView is not set userInteractionEnabled, you must do so
[mail1Lbl setText:@"xxxxxx@gmail.com"];
    [mail1Lbl setUserInteractionEnabled:YES];
    [mail1Lbl addGestureRecognizer:mail1LblGesture];
}

- (void)mail1LblTapped:(id)sender
{
    if ([MFMailComposeViewController canSendMail])
    {

        MFMailComposeViewController *mailer = [[MFMailComposeViewController alloc] init];
        mailer.mailComposeDelegate = self;
        [mailer setSubject:@""];
        NSArray *toRecipients = [NSArray arrayWithObjects:@"xxxxxx@gmail.com", nil];
        [mailer setToRecipients:toRecipients];
        NSString *emailBody = @"";
        [mailer setMessageBody:emailBody isHTML:NO];
        mailer.navigationBar.barStyle = UIBarStyleBlackOpaque;
        [self presentModalViewController:mailer animated:YES];

    }
    else
    {
        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Failure"
                                                        message:@"Your device doesn't support the composer sheet"
                                                       delegate:nil
                                              cancelButtonTitle:@"OK"
                                              otherButtonTitles:nil];
        [alert show];
    }
}
- (void)mailComposeController:(MFMailComposeViewController*)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError*)error
{
    switch (result)
    {
        case MFMailComposeResultCancelled:
            NSLog(@"Mail cancelled: you cancelled the operation and no email message was queued.");
            break;
        case MFMailComposeResultSaved:
            NSLog(@"Mail saved: you saved the email message in the drafts folder.");
            break;
        case MFMailComposeResultSent:
            NSLog(@"Mail send: the email message is queued in the outbox. It is ready to send.");
            break;
        case MFMailComposeResultFailed:
            NSLog(@"Mail failed: the email message was not saved or queued, possibly due to an error.");
            break;
        default:
            NSLog(@"Mail not sent.");
            break;
    }
    // Remove the mail view
    [self dismissModalViewControllerAnimated:YES];
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-16T05:54:46.303

您可以使用`NSAttributedString`相同的。使用这种类型的字符串将节省大量时间。但在使用它之前，您必须了解文本的确切位置。通过了解位置和长度，您可以轻松地自定义该字符串。请参阅此链接以下载示例项目。[NSAttributed 字符串](https://github.com/mattt/TTTAttributedLabel)。但如果您使用的是 ios 6，则无需使用此示例代码。你可以直接使用 NSAttributedString。因为在 ios6 UILabel 支持这种类型的字符串。

```
lbl.aatributText = @"Your NSAttributed string". 
```

**编辑：** 以下是您可以关注的一些链接： 1.[在 UILabel 的 NSAttributedString 中创建可点击的“链接”？](https://stackoverflow.com/questions/1256887/clickable-links-in-uilabel) 2\. [Objective-C UILabel as HyperLink](https://stackoverflow.com/questions/10493119/objective-c-uilabel-as-hyperlink) 3.[如何让一个特定的词在文本中的意义可以触摸？](https://stackoverflow.com/questions/10478878/how-to-make-a-specific-word-touchable-for-its-meaning-in-a-text)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-16T05:06:06.777

Webview using html / mailto: anchor 应该可以正常工作...可能需要将其样式设置为默认的 iOS 内容，但是是的。

# iphone - sqlite 随机文件被加密或不是数据库

> ID：14907152
> 
> 赞同：5
> 
> 时间：2013-02-16T05:04:46.980
> 
> 标签：iphone, ios, sqlite

我有一个经常访问 sqlite 数据库的应用程序。它大部分时间都很好用，但偶尔在我的一个数据库函数中失败并返回：

> 文件已加密或不是数据库

我没有启用任何加密，但我无法确定这是如何发生的。它不能始终如一地重现，并且从崩溃日志中，它发生在主线程上。

提前致谢。

```
@synchronized(self) {
    sqlite3 *database = mydb;
    int result = 0;

    static sqlite3_stmt *stmt = nil;
    if (stmt == nil) {
        const char *sql = "select sum(not isAvailable) from table1 e inner join table2 f on e.key=f.pk where f.pk=? AND e.isDeleting=0;";
        if (sqlite3_prepare_v2(database, sql, -1, &stmt, NULL) != SQLITE_OK) {
            NSAssert1(0, @"Error: failed to prepare statement with message '%s'.", sqlite3_errmsg(database));
        }
    }

    sqlite3_bind_int(stmt, 1, obj.primaryKey);

    if (sqlite3_step(stmt) == SQLITE_ROW) {
        int val = sqlite3_column_int(stmt, 0);
        result = val;
    } else {
        [NSException raise:@"SQL Fail" format:@"SQL Failed: %s", sqlite3_errmsg(database)];
    }
    // Reset the statement for future reuse.
    sqlite3_reset(stmt);

    return result;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T12:17:41.467

To create a new encrypted SQLite database or to open an existing encrypted SQLite database you have to call the function sqlite3_key or to execute a "pragma key=" command immediately after opening the database before performing any other database operation. I suspect that you tried to open an existing database, but not encrypted SQLite database and expected to encrypt it by using one of the above methods. This doesn't work but results in the error message you experienced. To encrypt an existing not encrypted SQLite database you have to use function sqlite3_rekey or "pragma rekey=" command. To change the encryption key of an existing encrypted SQLite database you have to open the database, then to use sqlite3_key (or "pragma key=") and then to apply sqlite3_rekey (or "pragma rekey=").

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-29T00:31:10.357

我今天遇到了同样的问题。

事实证明，我在我的数据库中创建了一个名为 Time 的列。将其更改为 TimeStamp 并且它有效。我认为不知何故我的文件已损坏，所以当我注意到“时间”以蓝色突出显示表示它是保留字时，我正在查看生成表的 sql 代码（在新文件上重做它）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T04:17:17.130

与“版本不匹配”的建议一样无益，我遇到了同样的症状，发现问题已通过将数据库从版本 2 更新到 3 得到解决。可能出现此问题的原因之一是数据库不一定正确反映真实的版本号。

我可能弄错了，但是当我使用 SQLite Administrator 版本 0.8.3.2 创建我的第一个 SQLite 数据库并接受 SQLite3 DB 的默认“另存为类型”时，它创建的文件显然是版本 2 DB，尽管具有 .s3db 名称。在“数据库”菜单下，启用了“迁移到 SQLite3”项，但我认为这是 GUI 中的错误。但是，在使用该功能后，我的问题就消失了。

随后在 SQLite Administrator 中使用 Database|New 选项会创建一个我选择的版本的数据库，并且文件扩展名与该版本的约定相匹配。SQL Administrator 的错误行为只发生在我第一次使用 Database|New 选项时。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-17T15:52:04.830

当数据库文件以某种方式变得乱码时会发生错误。然而，究竟为什么会发生这种情况有点令人费解。

如果您在应用程序中写入其他文件，您可能不小心覆盖了 DB 文件。如果您要两次打开同一个数据库文件或在数据库上执行两个“同时”操作，您*可能*能够创建这种场景（但我认为大多数版本的 SQLite 都使用代码编译以检测这一点并在有冲突）。（问题：您是否曾经收到“数据库已锁定”错误？）

# c++ - 模块化算法计算错误

> ID：14907154
> 
> 赞同：0
> 
> 时间：2013-02-16T05:05:23.330
> 
> 标签：c++

我有一个程序使用模幂计算 7^644 mod 645, 11^644 mod 645, 3^2003 mod 99, 123^1001 mod 101。我遵循 Modular Exponentiation 的规则，然后当我编译时我的结果是错误的，输出的结果应该是 436,1,22,27，但我的输出很差。当我运行时，我的答案是 643、655、20、39

这是我的代码：

```
int Modulo(int b, int e, int m)
{

int remainder;//set the remainder of the procedure
int x = 1;// modular initially sets x = 1

//while loop to request the multiplication
while ( e != 0)
{

    remainder = e % 2;
    e = e/2;

    //Algorithm steps
    if(remainder == 1)//if remainder = 1 
    x = ( x * b) % m;//then x = (x · power) % m
    b = ( b * b) % m;//power = (power * power) % m

}
return x;

}
int main()
 {

  int b, e, m, modulo;//declares the variables 
  start:cout<<"Enter the base: ";//output for base
  cin>>b;

  cout<<"Enter the exponent: ";//output for exponent
  cin>>e;

  cout<<"Enter the number of modular: ";//output for mod
  cin>>m;

  modulo = b^e % m;//requesting the formula of Modular Exponentiation
  cout<<"The answer is \n"<<modulo<<endl;
  cin.get();
  // I create if statement to allow the user to restart the application 
//enter new value to see the different output
    char c;
    cout<<"Would you like to enter a new value? yes or no ";
    cin>> c;
    if(( c == 'Y') ||(c == 'y'))goto start ;//start is the label in the start of program
  return 0;
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T07:18:53.003

对于它的价值，我会编写类似这样的代码（至少对于我尝试过的值进行测试并产生正确的结果）：

```
unsigned Modulo(unsigned b, unsigned e, unsigned m) {
    unsigned x = 1;

    while (e > 0) {
        if (e & 1)
            x = x * b % m;
        e >>= 1;
        b = b * b % m;
    }
    return x;
} 
```

请注意，我已尝试使用与您的代码相同的名称——尽管它们中的许多并没有让我觉得是最好的（甚至是非常好的）选择。`Modulo`在我看来，这是一个特别糟糕的名字。我更喜欢这样的东西`pow_mod`，至少暗示它在做什么（这在哪里`Modulo`是完全误导的）。

# linux - 用于对数组进行排序的 Perl 程序不起作用

> ID：14907155
> 
> 赞同：0
> 
> 时间：2013-02-16T05:05:26.427
> 
> 标签：linux, perl

我是 Perl 编程的新手……我编写了一个简单的脚本来对数组中的数字进行排序，但该脚本没有按预期工作。请帮我解决一下这个。

```
#!/usr/bin/perl
print ("Enter the numbers...... Please enter a blank space at the end\n");
$input = <STDIN>;
chop ($input);
$a = 1;
until ( $input ==  "" )
{
   @array[$a-1] = $input ;
   $a++;
   $input = <STDIN>;
   chop ($input);
}
print ("@array\n");
$count = 1;
$y = 1;
while ( $count < @array ) 
{
   if ( $array[$y-1] > $array[$y] )
   {
      @array[$y-1,$y] = @array[$y,$y-1];
      $y++;
   }
   $count++;
}
print ("@array\n"); 
```

我得到：

```
Enter the numbers...... Please enter a blank space at the end
2
4
3

2 4 3
2 4 3 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T14:35:26.633

perl 调试器对于查看排序算法不工作的原因非常有用。我在调试器中启动了您的程序并输入了以下内容：

```
a 10 print "count -> $count ; y -> $y ; array -> @array\n" 
```

输出是：

```
2 4 3
count -> 1 ; y -> 1 ; array -> 2 4 3
count -> 2 ; y -> 1 ; array -> 2 4 3
2 4 3 
```

`$y`永远不会超过 1。永远不会比较 4 和 3。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T05:35:34.103

[http://codepad.org/LtVxt8zG](http://codepad.org/LtVxt8zG)

```
#!/usr/bin/perl
use strict;
use warnings;

$"=',';
my @input;
while(<DATA>)
{
   s/\s+$//;
   push @input, $_;
}
print "Original Input: @input\n";

@input = sort { $a <=> $b } @input;
print "Sorted Input: @input\n";

__END__
3
1
2 
```

# asp.net - 同一用户或管理员的 ASP.NET MVC 4 授权

> ID：14907156
> 
> 赞同：1
> 
> 时间：2013-02-16T05:05:28.467
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-3, asp.net-mvc-4, authorization

嗨，我想在我的控制器中的操作方法上放置一个授权过滤器，同一用户或管理员可以访问该操作方法。

假设有一个用户 Alex 注册到我的网站，现在想要编辑他的个人资料。所以应该只允许他编辑他的个人资料而不是其他人，否则管理员将有权编辑每个人的个人资料。

我可以在 Authorize 属性中添加角色为管理员，但如何解决自我用户的问题。好心的帮助

```
[Authorize(Roles="admin")] 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-16T05:21:02.477

这是一个授权过滤器示例，它将检查用户名（可以是 GUID 或任何其他方法）是否与传递给路由的参数匹配，并检查 Admin 上的用户角色

```
public class CustomAuthorizeAttribute : AuthorizeAttribute
{
    protected override bool AuthorizeCore(HttpContextBase httpContext)
    {
        if (!httpContext.User.Identity.IsAuthenticated)
            return false;  // if user not Authenticated, do not allow

        string userName = filterContext.HttpContext.User.Identity.Name;
        string id = filterContext.RouteData.Values[this.RouteParameter];

        If (userName == id)
            return true;  // assuming paramter passed matches username, allow
        else if (filterContext.HttpContext.User.IsInRole( "Admin" ) || IsOwner( filterContext ))
            return true;  // if user has role Admin, allow

        return true;
    }
} 
```

虽然这未经测试并且旨在指导不仅仅是解决您的需求，但我认为它将接近实现。

同时，我想在您的方法中添加 2 美分：

我更赞成一个动作过滤器，它会做类似的检查并将用户重定向到他们自己的页面或警告页面。虽然我重视授权过滤器提供的安全性，但我发现它们相当生硬。我更喜欢提供更优雅的用户体验的基于权限的安全性和软重定向。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T03:04:55.293

这就是我在更改密码中的做法，以便只有该用户可以更改他/她自己的密码。

在我的**帐户控制器中**

```
 //
    // GET: /Account/ChangePassword
    [Authorize]
    public ActionResult ChangePassword()
    {
        return View();
    }

    //
    // POST: /Account/ChangePassword
    [Authorize]
    [HttpPost]
    public ActionResult ChangePassword(ChangePasswordModel model)
    {
        if (ModelState.IsValid)
        {
            if (MembershipService.ChangePassword(User.Identity.Name, model.OldPassword, model.NewPassword))
                return RedirectToAction("ChangePasswordSuccess");
            else
                ModelState.AddModelError("", "The current password is incorrect or the new password is invalid.");
        }

        // If we got this far, something failed, redisplay form
        return View(model);
    } 
```

然后在我的**_Layout**我这样声明它，以便只有该用户可以看到并打开该 ActionLink 并更改他/她自己的密码

```
@if (HttpContext.Current.User.Identity.IsAuthenticated)
   {
    <li>@Html.ActionLink("Change Password", "ChangePassword", "Account")</li>                     
   } 
```

希望这也能帮助你..干杯。:)

# c++ - 如何将 glfw.h 构建为 DLL

> ID：14907157
> 
> 赞同：0
> 
> 时间：2013-02-16T05:05:39.107
> 
> 标签：c++, opengl, dll

我是 OpenGL C++ 的新手，并且（天哪，这是我记忆中最艰难的一天）我仍在尝试在我的 Microsoft VS 上获取它的所有库。问题在于

```
glfw.h 
```

因为在[他们的页面上](http://www.glfw.org/release-2.7.7.html#compiling)，它说我必须编译我下载的文件以获得 DLL，但我不知道该怎么做......它写这个代码到文件路径上的 CMD 窗口中：

> 例如，其中一种选择是使用 MinGW 和 MSYS 为 Windows 编译 GLFW。为此，请使用：
> 
> ```
>  *make win32-msys* 
> ```
> 
> 这将编译 GLFW 静态库和 DLL 以及提供的示例和测试程序。

但它“不被识别为内部系统命令”。那么我该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T11:34:38.813

给出的说明是一个示例。GLFW 开发人员期望您知道您使用的开发环境、它附带的工具以及齿轮和齿轮如何组合在一起。

坦率地说，我同意。你不应该在不了解工具如何在后台工作的情况下进行编程。毕竟，你也在幕后做事。

您正在使用 Microsoft Visual Studio。在那里构建项目的常用方法是通过所谓的*解决方案*。打开那个，然后开始构建。

MinGW 是开源 GNU 编译器集合和 Binutils 工具链到 windows 的一个端口。它伴随着 MSys、一个最小的 *nix 类工具、一个 shell 和其他东西*make* . *make*是一个通过命令执行自动创建基于依赖的文件的工具。或者换句话说，一个构建系统。构建过程本身由所谓的*Makefile*控制，并根据*targets*定义，其中*win32-mingw*是 GLFW 的 Makefile 定义的目标之一。然而，对于 Visual C++ 构建，它是错误的目标。

解决你的问题，不好意思直截了当地说：你必须先学会如何使用你的工具。

# ember.js - 如何在 Ember JS 中为视图使用自定义/动态属性？

> ID：14907164
> 
> 赞同：4
> 
> 时间：2013-02-16T05:06:57.877
> 
> 标签：ember.js, handlebars.js

我的 Handlebars 文件看起来有点像这样：

```
{{#each book in view.bookcase}}
  {{view App.BookView classBinding="book.read:read:unread"}}
{{/each}} 
```

我想为`book-id="1"`当前书的 ID 或任何内容的曲调添加一个属性，但我不知道如何。如果我试试这个...

```
{{#each book in view.bookcase}}
  {{view App.BookView book-id="book.id" classBinding="book.read:read:unread"}}
{{/each}} 
```

...然后该属性实际上被设置为“book.id”。有任何想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-16T08:54:18.043

嗯，起初我认为`attributeBindings`根据[这篇文章](https://github.com/emberjs/ember.js/pull/260#issuecomment-3158823)和[这篇文章](https://stackoverflow.com/questions/10396017/bind-custom-attributes-on-ember-view-with-controller-data-in-xhandlebars-script)允许使用，但是当我尝试这样做时，我收到了这个错误：

```
Uncaught Error: assertion failed: Setting 'attributeBindings' via Handlebars is not allowed. Please subclass Ember.View and set it there instead. 
```

所以我认为现在最好的方法是在课堂上做。

车把模板：

```
<script type="text/x-handlebars">
    {{#each book in view.bookcase}}
        {{view App.BookView classBinding="book.read:read:unread" contentBinding="book"}}
    {{/each}}
</script> 
```

扩展类：

```
App.BookView = Ember.View.extend({
    attributeBindings: ['book-id'],
    'book-id': function() {
        return this.content.id;
    }.property('content.id')
}); 
```

示例：[jsFiddle 片段](http://jsfiddle.net/6T3Sp/1/)

# android - 为什么在使用我的自定义列表视图适配器时出现 NPE 错误？

> ID：14907165
> 
> 赞同：0
> 
> 时间：2013-02-16T05:07:17.620
> 
> 标签：android, listadapter

这将是一个冗长的问题，其中包含大量代码，因此对于那些花时间阅读它的人来说非常感谢！

所以基本上我有一个使用 Eclipse 制作的应用程序。MAIN ACTIVITY 扩展为 FragmentActivity，称为 MenuMain.java。此活动在其 xml 中定义了三个片段。我遇到的问题是第三个。

我想要做的是当用户单击中间片段上的按钮时，它会将内容添加到作为第三个片段的自定义列表视图中。

这是我在中间片段上显示内容的课程。

ImageFragment.java

```
package com.thesis.menubook;

import java.util.ArrayList;

import android.app.ProgressDialog;
import android.os.AsyncTask;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentManager;
import android.support.v4.app.FragmentTransaction;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ListView;
import android.widget.RelativeLayout;
import android.widget.TextView;
import android.widget.Toast;

public class ImageFragment extends Fragment {

      ProgressDialog pDialog;
      private  int imageResourceId;
      private ArrayList<String> menu_id =  new ArrayList<String>();
      private ArrayList<String> menu_name =  new ArrayList<String>();
      private ArrayList<String> menu_description =  new ArrayList<String>();
      int page = 0;
      String orderQuantity = "";
      EditText quantity;
      ListView lv;
    public ImageFragment(int imageResource, ArrayList<String> mid, ArrayList<String> mname, ArrayList<String> mdesc, int pg) {
        this.imageResourceId = imageResource;    
        this.menu_id = mid;
        this.menu_name = mname;
        this.menu_description = mdesc;
        this.page = pg;
    }

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

    }

    @Override
    public void onActivityCreated(Bundle savedInstanceState) {
        super.onActivityCreated(savedInstanceState);

    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        View view = inflater.inflate(R.layout.layout_menu, container, false);

        Button next = (Button)view.findViewById(R.id.next);
        Button back = (Button)view.findViewById(R.id.back);
        Button add = (Button)view.findViewById(R.id.add);

        quantity = (EditText) view.findViewById(R.id.editText1);

        RelativeLayout layout = (RelativeLayout) view.findViewById(R.id.main_layout);
        layout.setBackgroundResource(imageResourceId);

        //Change ID on Layout
        TextView id = (TextView) view.findViewById(R.id.menu_id);
        id.setText(menu_id.get(page));

        //Change name on layout
        TextView name = (TextView) view.findViewById(R.id.menu_name);
        name.setText(menu_name.get(page));

        //change description on layout
        TextView desc = (TextView) view.findViewById(R.id.menu_description);
        desc.setText(menu_description.get(page));

        // set next page button listener
                next.setOnClickListener(new View.OnClickListener(){
                    @Override
                    public void onClick(View v){
                        if(page < menu_id.size()-1)
                        {
                            page++;
                            Toast.makeText(getActivity(), "Next", Toast.LENGTH_LONG).show();
                            loadMenuItem(page);
                        }
                        else
                        {
                            Toast.makeText(getActivity(), "You are at the end of the page", Toast.LENGTH_LONG).show();
                        }
                    }
                });
        // set back page button listener
                back.setOnClickListener(new View.OnClickListener(){
                    @Override
                    public void onClick(View v){
                        if(page != 0)
                        {
                            page--;
                            Toast.makeText(getActivity(), "Next", Toast.LENGTH_LONG).show();
                            loadMenuItem(page);
                        }
                        else
                        {
                            Toast.makeText(getActivity(), "You are at the start of the page", Toast.LENGTH_LONG).show();
                        }
                    }
                });

                //set add to orderlist button listener
                add.setOnClickListener( new View.OnClickListener() {

                    @Override
                    public void onClick(View v) {
                        if(quantity.getText().toString() != "" || quantity.getText().toString() != "0" || quantity.getText().toString() != "00"){
                            lv = (ListView) v.findViewById(R.id.orderListView);
                            new AddToList().execute("");
                        }
                        else
                        {
                            Toast.makeText(getActivity(), "Please put quantity", Toast.LENGTH_LONG).show();
                        }
                    }
                });

        return view;

}
    public void loadMenuItem(int pahina) {

        FragmentManager fm = getFragmentManager();

        if (fm != null) {

            FragmentTransaction ft = fm.beginTransaction();
            ft.replace(R.id.menu_fragment, new ImageFragment(R.drawable.caesar_salad, menu_id, menu_name,menu_description, pahina));
            ft.commit();
        }
    }

    class AddToList extends AsyncTask<String, String, String> {
        ArrayList<DataArray> dataArray = new ArrayList<DataArray>();
        DataArray data = new DataArray();
        /**
         * Before starting background thread Show Progress Dialog
         * */
        @Override
        protected void onPreExecute() {
             super.onPreExecute();
             pDialog = new ProgressDialog(getActivity());
             Log.d("Activity Context", getActivity().toString() + "");
             pDialog.setMessage("Adding to list. Please wait...");
             pDialog.setIndeterminate(false);
             pDialog.setCancelable(false);
             pDialog.show();
        }

        /**
         * Getting product details in background thread
         * */
        protected String doInBackground(String... param) {

            data.setID(menu_id.get(page));
            data.setName(menu_name.get(page));
            data.setQuantity(quantity.getText().toString());
            dataArray.add(data);
            Log.d("Order Data ID: ", data.getID() + "");
            Log.d("Order Data Name: ", data.getName() + "");
            Log.d("Order Data Quantity: ", data.getQuantity() + "");
            return null;
        }

        /**
         * After completing background task Dismiss the progress dialog
         * **/
        @Override
        protected void onPostExecute(String result) {
            pDialog.dismiss();
            lv.setAdapter(new MyCustomAdapter(getActivity(), dataArray));
        }

    }

} 
```

`lv.setAdapter(new MyCustomAdapter(getActivity(), dataArray));`当我在 onPostExecute() 上的这一行中调用我的自定义适配器时，这里出现错误

我这样定义我的自定义适配器

MyCustomAdapter.java

```
package com.thesis.menubook;

import java.util.ArrayList;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.TextView;

public class MyCustomAdapter extends BaseAdapter {
    private static ArrayList<DataArray> orderData;

    private LayoutInflater mInflater;

    public MyCustomAdapter(Context context, ArrayList<DataArray> passed) {
        orderData = passed;
        mInflater = LayoutInflater.from(context);
    }

    public int getCount() {
        return orderData.size();
    }

    public Object getItem(int position) {
        return orderData.get(position);
    }

    public long getItemId(int position) {
        return position;
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        ViewHolder holder;
        if (convertView == null) {
            convertView = mInflater.inflate(R.layout.custom_order_list, null);
            holder = new ViewHolder();
            holder.txtID = (TextView) convertView.findViewById(R.id.id);
            holder.txtName = (TextView) convertView.findViewById(R.id.name);
            holder.txtQuantity = (TextView) convertView.findViewById(R.id.quantity);

            convertView.setTag(holder);
        } else {
            holder = (ViewHolder) convertView.getTag();
        }

        holder.txtID.setText(orderData.get(position).getID());
        holder.txtName.setText(orderData.get(position).getName());
        holder.txtQuantity.setText(orderData.get(position).getQuantity());

        return convertView;
    }

    static class ViewHolder {
        TextView txtID;
        TextView txtName;
        TextView txtQuantity;
    }
} 
```

而我的自定义变量 DataArray.java 是这样的。我对 DataArray 没有任何问题，因为它记录了内容，所以我确信 NPE 错误与我对此类的使用无关

包 com.thesis.menubook；

公共类数据数组 {

```
 private String menu_ID = "";
    private String menu_name = "";
    private String quantity = "";

    public void setID(String ID) {
     this.menu_ID = ID;
    }

    public String getID() {
     return menu_ID;
    }

    public void setName(String menu_name) {
     this.menu_name = menu_name;
    }

    public String getName() {
     return menu_name;
    }
    public void setQuantity(String quantity) {
     this.quantity = quantity;
    }
    public String getQuantity(){
        return quantity;
    }

} 
```

我认为问题是因为 ImageFragment 上的`getActivity()`这一行`lv.setAdapter(new MyCustomAdapter(getActivity(), dataArray));`。我试过了：

```
getActivity().getApplicationCOntext()
getActivity().getBaseContext()
getActivity().getParent().getApplicationContext()
getActivity().getParent().getBaseContext() 
```

无济于事。

那么我该如何解决呢？

以下是您可能需要分析以帮助我的其他不太重要的类和 xml 文件。

OrderListFragment.java

```
package com.thesis.menubook;

import android.annotation.TargetApi;
import android.os.Build;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;

@TargetApi(Build.VERSION_CODES.HONEYCOMB)
public class OrderListFragment extends Fragment{
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        View view = inflater.inflate(R.layout.activity_order_list, container, false);
        return view;
    }
} 
```

activity_order_list.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/orderlist"
        android:layout_width="505dp"
        android:layout_height="wrap_content"
        android:paddingLeft="6dip"
        android:paddingTop="6dip"
        android:text="@string/orderlist"
        android:textSize="17sp"
        android:textStyle="bold" />
    <ListView
        android:id="@+id/orderListView"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent" />

</LinearLayout> 
```

custom_order_list.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical"
    android:paddingBottom="10dip"
    android:paddingLeft="10dip"
    android:paddingTop="10dip" >

    <TextView
        android:id="@+id/id"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textColor="#C20000"
        android:textSize="14sp"
        android:textStyle="bold" />

    <TextView
        android:id="@+id/name"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />

    <TextView
        android:id="@+id/quantity"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />

</LinearLayout> 
```

activity_menu_main.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id = "@+id/activity_main_large"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal" xmlns:tools="http://schemas.android.com/tools">

     <fragment
         android:id="@+id/menu_category_fragment"
         android:name="com.thesis.menubook.MenuCategory"
         android:layout_width="0dip"
         android:layout_height="match_parent"
         android:layout_weight="0.14"
         layout="@layout/activity_menu_category" />

     <fragment
         android:id="@+id/menu_fragment"
         android:name="com.thesis.menubook.MenuFragment"
         android:layout_width="0dip"
         android:layout_height="match_parent"
         android:layout_weight="0.71"
         layout="@layout/activity_menu_fragment" />

     <fragment
         android:id="@+id/orderlist_fragment"
         android:name="com.thesis.menubook.OrderListFragment"
         android:layout_width="167dp"
         android:layout_height="match_parent"
         layout="@layout/activity_order_list" />

</LinearLayout> 
```

layout_menu.xml（中间片段内容xml）

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/main_layout"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@drawable/caesar_salad"
    android:gravity="top|bottom|center_vertical"
    android:paddingLeft="16dp"
    android:paddingRight="16dp"
    android:paddingTop="16dp"
    android:visibility="visible" >

    <TextView 
        android:id="@+id/menu_name" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:text="@string/menu_name" 
        android:textSize="40sp"
        android:background="#2f000000" android:textColor = "@android:color/white"/>

    <TextView 
        android:id="@+id/menu_id" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:text="@string/menu_name" 
        android:textSize="40sp"
        android:layout_marginLeft="10dp"
        android:layout_toRightOf="@+id/menu_name"
        android:background="#2f000000" android:textColor = "@android:color/white"
        android:visibility="invisible"/>

    <TableLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/tableLayout1"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_below="@+id/menu_name"
    android:layout_marginTop="20dp" >

    <TableRow
        android:id="@+id/tableRow1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="5dip" >

       <TextView 
        android:id="@+id/menu_description" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:background="#2f000000"  
        android:textColor="@android:color/white" 
        android:textSize="20sp" 
        android:textStyle="italic" 
        android:typeface="sans"
        android:text ="@string/menu_description"
        android:layout_margin="10dp">

    </TextView>

         <TextView 
        android:id="@+id/menu_price" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:background="#2f000000"  
        android:textColor="@android:color/white" 
        android:textSize="20sp" 
        android:textStyle="italic" 
        android:typeface="sans"
        android:text ="@string/menu_price"
        android:layout_margin="10dp"/>

        </TableRow>

    </TableLayout>

    <TextView 
        android:id="@+id/quantity" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:layout_alignLeft="@+id/menu_description" 
        android:layout_alignParentBottom="true" 
        android:layout_marginBottom="20dp" 
        android:background="#2f000000" 
        android:text="@string/quantity" 
        android:textColor="@android:color/white" 
        android:textSize="25sp" 
        android:textStyle="italic" 
        android:typeface="sans"/>

    <EditText 
        android:id="@+id/editText1" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:layout_alignBottom="@+id/quantity" 
        android:layout_alignTop="@+id/quantity" 
        android:layout_centerHorizontal="true" 
        android:layout_toRightOf="@+id/quantity" 
        android:layout_marginLeft="5dp" 
        android:background="@android:color/white" 
        android:ems="2" 
        android:maxLength="2"
        android:inputType="number">
        <requestFocus />
    </EditText>

    <Button 
        android:id="@+id/add" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:layout_alignBaseline="@+id/editText1" 
        android:layout_toRightOf="@+id/editText1" 
        android:layout_centerHorizontal="true" 
        android:text="@string/add" 
        android:textColor="@android:color/white"/>

    <Button
        android:id="@+id/next"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/tableLayout1"
        android:layout_alignRight="@+id/tableLayout1"
        android:layout_marginRight="42dp"
        android:text="@string/next"
        android:textSize="20sp" />

    <Button
        android:id="@+id/back"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/tableLayout1"
        android:layout_marginRight="26dp"
        android:layout_toLeftOf="@+id/next"
        android:text="@string/back"
        android:textSize="20sp" />

</RelativeLayout> 
```

这是我的 LogCat

```
02-16 13:25:25.541: D/Order Data ID:(502): 001
02-16 13:25:25.541: D/Order Data Name:(502): Chicken
02-16 13:25:25.541: D/Order Data Quantity:(502): 8
02-16 13:25:25.865: E/AndroidRuntime(502): FATAL EXCEPTION: main
02-16 13:25:25.865: E/AndroidRuntime(502): java.lang.NullPointerException
02-16 13:25:25.865: E/AndroidRuntime(502):  at com.thesis.menubook.ImageFragment$AddToList.onPostExecute(ImageFragment.java:182)
02-16 13:25:25.865: E/AndroidRuntime(502):  at com.thesis.menubook.ImageFragment$AddToList.onPostExecute(ImageFragment.java:1)
02-16 13:25:25.865: E/AndroidRuntime(502):  at android.os.AsyncTask.finish(AsyncTask.java:590)
02-16 13:25:25.865: E/AndroidRuntime(502):  at android.os.AsyncTask.access$600(AsyncTask.java:149)
02-16 13:25:25.865: E/AndroidRuntime(502):  at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:603)
02-16 13:25:25.865: E/AndroidRuntime(502):  at android.os.Handler.dispatchMessage(Handler.java:99)
02-16 13:25:25.865: E/AndroidRuntime(502):  at android.os.Looper.loop(Looper.java:132)
02-16 13:25:25.865: E/AndroidRuntime(502):  at android.app.ActivityThread.main(ActivityThread.java:4025)
02-16 13:25:25.865: E/AndroidRuntime(502):  at java.lang.reflect.Method.invokeNative(Native Method)
02-16 13:25:25.865: E/AndroidRuntime(502):  at java.lang.reflect.Method.invoke(Method.java:491)
02-16 13:25:25.865: E/AndroidRuntime(502):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
02-16 13:25:25.865: E/AndroidRuntime(502):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
02-16 13:25:25.865: E/AndroidRuntime(502):  at dalvik.system.NativeStart.main(Native Method)
02-16 13:25:26.587: D/dalvikvm(502): GC_CONCURRENT freed 126K, 7% free 7635K/8199K, paused 23ms+35ms
02-16 13:25:32.642: I/Process(502): Sending signal. PID: 502 SIG: 9 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T05:26:25.630

我不完全确定我了解您要完成的工作，但在我看来，您的列表视图实际上是空的。如果我没记错的话，您只需在添加按钮 onclicklistener 上对其进行初始化，然后使用传递的视图在其层次结构中查找列表。onClickListener 传递了被单击的实际视图，据我所知，您不能将列表视图作为该按钮视图的子视图，因此 findViewById 方法返回 null。与按钮一起初始化列表视图，或者确保您获得列表的正确父视图，以便在单击按钮时加载它。

# behat - Behat 跟随其中带有 html 的链接

> ID：14907166
> 
> 赞同：0
> 
> 时间：2013-02-16T05:07:34.737
> 
> 标签：behat, mink

我有类似的回应

```
<a href="..."><span>1</span> widget</a> 
```

和一个像

```
Feature: My feature

  Scenario: My Scenario
   Given I am on the homepage
   Then I should see a "1 widget" 
```

由于 span 标签，这显然会失败。断言文本存在或点击链接的正确方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T14:44:02.110

您可以使用正则表达式来检查文本，

```
Then I should see text matching "pattern" 
```

如果您能够修改 HTML，则向链接添加唯一 ID 属性将是单击它的最简单方法。如果这不可能，可以使用 CSS 选择器来定位链接元素，然后单击它。在你的步骤中有这样的东西（注意：未经测试的代码！），

```
$node = $this->getSession()->getPage()->find('css', 'your css selector');
$node->click(); 
```

# javascript - 以美元货币显示 JSON 值（添加美元符号）

> ID：14907169
> 
> 赞同：2
> 
> 时间：2013-02-16T05:08:07.340
> 
> 标签：javascript, html, json

我一直在研究 Javascript InfoVis Toolkit，以在交互式区域图中创建 [高度乐观的] 预测预测。

我无法让标签在图表中显示“$”前缀。

但是，我能够成功地在工具提示中包含“$”+值+“M”（当您将鼠标悬停在它显示的图表区域上时，例如：AUM：114 万美元——理想情况下，我会怎么做喜欢显示的标签）；使用 javascript 函数

```
 //enable tips
  Tips: {
    enable: true,
    onShow: function(tip, elem) {
      tip.innerHTML = "<b>" + elem.name + "</b>: " + "&#36;" + elem.value + "M";
    }
  }, 
```

json 数据如下所示：

```
var json = {
    'color': ['#ccc', '#54b666', '#2d6837', '#15311a'],
    'label': ['Year Expenses', 'Year Net Profit', 'Year Profit', 'AUM'],
    'values': [
    {
      'label': 'Year 1',
      'values': [.05, .14, .25, 5]
    }, 
    {
      'label': 'Year 2',
      'values': [.06, .21, .34, 6.14]
    }, 
    {
      'label': 'Year 3',
      'values': [.06, .29, .47, 7.85]
    }, 
    {
      'label': 'Year 5',
      'values': [.13, .54, .91, 14.30]
    }, 
    {
      'label': 'Year 10',
      'values': [.35, 5.93, 6.67, 115.46]
    }
    ]

}; 
```

带有图表的 html 页面：http: [//kimerick.com/invest/financials.html](http://kimerick.com/invest/financials.html)

以及完整的 js： http: [//kimerick.com/invest/js/area/example1.js](http://kimerick.com/invest/js/area/example1.js)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T05:51:52.000

这些标签可以使用 css-selector 选择，因此您也可以使用 css 自动生成前缀：

```
#infovis-label div div div:last-child:before{ content:"$"; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T10:16:39.270

要更改工具提示的位置，可以使用 offsetX 和 offsetY 选项：

```
var viz = new $jit.Viz({
    Tips: {
        enable: true,
        type: 'Native',
        offsetX: 10,
        offsetY: 10,
        onShow: function(tip, node) {
            tip.innerHTML = node.name;
        }
    }
}); 
```

# java - Java字符串十六进制到int

> ID：14907178
> 
> 赞同：0
> 
> 时间：2013-02-16T05:09:51.100
> 
> 标签：java, string, int, hex

我想将下面的 String hex 转换为 Int (16)。

```
a6 5f de 57 
```

我做了什么，但我不知道这是正确的方法，我无法验证数字是否正确。

```
byte[] rec = new byte[20];                  
DatagramPacket pRec = new DatagramPacket(rec, rec.length);
socket.receive(pRec);

String tData = "";
for(int i = 0; i < 20; i++){
   tData += String.format("%02x", rec[i]);
} 
```

数据包的输出：

> ffffffff730aa65fde5700000000000000000000

现在我必须跳过前 6 个字节 [ffffffff730a]，我需要剩下的 4 个字节 [a65fde57]。注意：[00000000000000000000] 是 NULL 因为缓冲区的长度。

```
System.out.println( hexToInt(tData, 6, 10) );

private Integer hexToInt(String str, int start, int end){
   String t = str.substring(start, end);

   char[] ch = t.toCharArray();
   String res = "";
   for(int i = 0; i < end-start; i += 2){
      res += Integer.parseInt(ch[i]+ch[i+1]+"", 16);
   }

   return Integer.parseInt(res);
} 
```

结果是：

> 516262

这是将十六进制字符串转换为整数的正确方法吗？结果是否正确？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T05:20:56.757

最简单的方法是使用类似 int i = Integer.parseInt(...) 的东西。参见[Integer.parseInt(java.lang.String, int)](http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T05:35:11.180

我个人会走这条路：

```
private int hexToInt(String str, int start, int end) {
    String t = str.substring(start, end);

    byte[] bytes = new byte[4];
    int i,j = 0
    while (i < 8)
    {
        bytes[j] = Byte.valueOf(t.substring(i,i+1), 16);
        i+=2; 
        j++;
    }

    ByteBuffer bb = ByteBuffer.wrap(bytes);
    // That's big-endian. If you want little endian ...
    bb.order(ByteOrder.LITTLE_ENDIAN);
    return bb.getInt();
} 
```

您当然可以通过仅传递包含要转换的 8 个字符的子字符串来将其降低一级。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-16T08:16:24.280

No, that is not the right way, and that is not the right answer. What you are doing is converting the bytes to values but converting them back to decimal value string, and concatenating those together. Then at the end you convert back to numeric format. Don't convert back and forth so much, convert once to numeric and keep it there. Something like this:

```
private Integer hexToInt(String str, int start, int end){
    long res = 0;
    for(int i = start; i < end; i++){
        res = res*16  + Integer.parseInt(str.substring(i,i+1), 16);
    }
    return res;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-05-02T14:15:47.120

```
private int convertHexStringToInt(String hexStr)
{
   int iValue= Integer.parseInt(hexStr,16); //base 16 for converting hexadecimal string

   return iValue;
} 
```

请记住，如果十六进制字符串格式以“0x”为前缀，如“0xc38”，那么请从该十六进制字符串中删除 0x。（我建议这样做以避免 NumberFormatException）

您可以使用以下代码来执行此操作

```
String arrHexStr[] = hexStr.split("x");

if(arrHexStr.length==2)
hexStr = arrHexStr[1]; // this will assign the "c38" value with removed "0x" characters 
```

所以最终的功能看起来像这样

```
private int convertHexStringToInt(String hexStr)
{
   String arrHexStr[] = hexStr.split("x");

   if(arrHexStr.length==2)
      hexStr = arrHexStr[1]; // this will assign the correct hex string "c38" value with removed prefixes like "0x" 

   int iValue= Integer.parseInt(hexStr,16); //base 16 for converting hexadecimal string

   return iValue;
} 
```

# c# - 在 xna 中旋转后保存骨骼位置

> ID：14907183
> 
> 赞同：0
> 
> 时间：2013-02-16T05:11:26.753
> 
> 标签：c#, xna, rotation

我正在开发一个游戏来解决 xna 框架 c# 中的魔方。我想知道如何在旋转骨骼后保存骨骼位置。我正在调用此方法来绘制构成立方体正面的骨骼。

```
protected void DrawModel()
{
    cube.CopyAbsoluteBoneTransformsTo(modelTransforms);
    ModelMeshCollection cubes = cube.Meshes;
    List<string> yellowFace = new List<string>();

    for (int i = 0; i < cubes.Count; i++)
    {
        if (cubes.ElementAt(i).Name.ToString().Contains("F"))
        {
            yellowFace.Add(cubes.ElementAt(i).Name.ToString());
        }
    }

    for (int j = 0; j < yellowFace.Count; j++)
    {

        foreach (BasicEffect eff in cubes[yellowFace.ElementAt(j)].Effects)
        {
            eff.View = View;
            eff.Projection = Projection;
            eff.EnableDefaultLighting();
            degree = (float)degree;
            if (xtan <= degree)
            {

                eff.World = Matrix.CreateFromAxisAngle(new Vector3(0, 0, 1), -xtan);

            }

        }

        cubes[yellowFace.ElementAt(j)].Draw();

    }

    for (int i = 0; i < cubes.Count; i++)
    {
        if (cubes.ElementAt(i).Name.ToString().Contains("F"))
        {
            continue;

        }
        else
        {
            foreach (BasicEffect eff in cubes.ElementAt(i).Effects)
            {
                eff.View = View;

                eff.World = Matrix.Identity;

                eff.Projection = Projection;
                eff.EnableDefaultLighting();
            }
            cubes.ElementAt(i).Draw();
        }

    }

} 
```

在我运行游戏后，旋转运行良好，但一旦完成，游戏会重新加载骨骼，因为它们看着开始。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:48:06.717

大家好，要在旋转后保存骨骼位置，您必须在矩阵变换中对其进行变换

```
//this before the drawing loop
model.CopyAbsoluteBoneTransformsTo(modelTransforms);
//drawing loop .... 
//basiceffect loop
......
//after basiceffect loop
Matrix rotationmatrix = Matrix.CreateRotationX(angle);
// X,Y Z are the axis , angle is the rotaion value
mesh.parentbone.Transform = rotationmatrix * mesh.parentbone.transform;

//end drawing loop 
```

希望对大家有帮助 谢谢

# ace-editor - 有没有办法在 Ace Editor 中隐藏垂直标尺？

> ID：14907184
> 
> 赞同：41
> 
> 时间：2013-02-16T05:11:27.347
> 
> 标签：ace-editor

有没有办法在 Ace 中隐藏垂直标尺？

垂直标尺是指编辑器中 80 个字符的垂直线，这有助于将线条保持在一定长度以下。

如果可能的话，我想为我的用户提供启用/禁用它的选项

* * *

## 回答 #1

> 赞同：78
> 
> 时间：2013-02-16T05:37:15.940

找到了，你需要使用这个：

```
editor.setShowPrintMargin(false); 
```

[https://ace.c9.io/api/editor.html#Editor.setShowPrintMargin](https://ace.c9.io/api/editor.html#Editor.setShowPrintMargin)

# c++ - C++初始化嵌套结构

> ID：14907187
> 
> 赞同：0
> 
> 时间：2013-02-16T05:11:59.060
> 
> 标签：c++, c, struct

我现在感觉真的很蠢，因为我已经快 2 年没有做过任何 C/C++ 了，而我的工作让我在那段时间编写 Java，现在我什至连简单的东西都记不住了，否则我记得用 Java 来做这件事的方法......我有一些 C 代码，我试图在 C++ 中使用，但是我遇到了一些不直接兼容的问题，比如结构初始化。结构定义如下所示：

```
typedef struct
{
    struct
    {
        uint8_t  StreamingInterfaceNumber;
        USB_Endpoint_Table_t DataINEndpoint;
        USB_Endpoint_Table_t DataOUTEndpoint;
    } Config;

    struct
    {
        uint8_t RESERVED;
    } State;
} USB_ClassInfo_MIDI_Device_t; 
```

原始的 C 样式初始化如下所示：

```
USB_ClassInfo_MIDI_Device_t MIDI_Interface =
{
    .Config =
        {
            .StreamingInterfaceNumber = 1,
            .DataINEndpoint           =
                {
                    .Address          = MIDI_STREAM_IN_EPNUM,
                    .Size             = MIDI_STREAM_EPSIZE,
                    .Banks            = 1,
                },
            .DataOUTEndpoint           =
                {
                    .Address          = MIDI_STREAM_OUT_EPNUM,
                    .Size             = MIDI_STREAM_EPSIZE,
                    .Banks            = 1,
                },
        },
}; 
```

这显然在 C++ 中不起作用。在 C++ 中初始化结构的最佳方法是什么？我不想修改定义，因为它存在于我不维护的代码库中，并且想不理会，所以我宁愿不添加构造函数。我喜欢这里建议的风格[https://stackoverflow.com/a/6182627/1609411](https://stackoverflow.com/a/6182627/1609411)但我不知道嵌套结构的语法应该是什么样子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T05:20:33.260

我很确定该链接答案中的样式仅涉及注释掉所有`.BLAH =`部分。只要您以正确的顺序拥有所有字段，它就会很好地初始化。

```
USB_ClassInfo_MIDI_Device_t MIDI_Interface =
{
    /* .Config = */
        {
          /* .StreamingInterfaceNumber = */ 1,
          /* .DataINEndpoint           = */
                {
                    /* .Address          = */ MIDI_STREAM_IN_EPNUM,
                    /* .Size             = */ MIDI_STREAM_EPSIZE,
                    /* .Banks            = */ 1,
                },
          /* .DataOUTEndpoint           = */
                {
                    /* .Address          = */ MIDI_STREAM_OUT_EPNUM,
                    /* .Size             = */ MIDI_STREAM_EPSIZE,
                    /* .Banks            = */ 1,
                },
        },
}; 
```

# java - Android，创建 .mp3 文件的数组列表？

> ID：14907192
> 
> 赞同：1
> 
> 时间：2013-02-16T05:12:41.627
> 
> 标签：java, android, arraylist

我想创建一个 .mp3 文件和字符串的数组列表。如果 arraylist 中的字符串由随机数调用，则将播放特定的 mp3 文件。我可以制作一个包含 .mp3 文件和字符串的数组列表，以便可以同时调用它们，或者我可以制作单独的数组列表。或者甚至不使用 .mp3 文件的 ArrayList？谢谢你。

```
ArrayList<String? words = new ArrayList<String>
words.add("Hello World");

//On Button Click
//Generates randomNumber Integer
//randomNumber=1
//SetText to "Hello World" and play .mp3 that says "Hello World" simultaneously and put thread to sleep for .mp3 length 
```

以最少的硬编码实现这一目标的最佳方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T05:14:44.480

您想要的是一个将字符串与 MP3 文件路径相关联的[Map 。](http://developer.android.com/reference/java/util/Map.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T15:49:34.037

制作自己的歌曲对象并从中随机挑选歌曲

```
public class Player {

    public static void main(String[] args) {
        Player player = new Player();
        //populate music in your arrayList
        List<Song> album = player.populateMusicList();
        //play
        for (int i = 0; i < 10; i++) {
            player.play(album);
        }
    }

    public void play(List<Song> album) {
        System.out.println("playing --" + album.get(this.fetchMusicRandomly(album)));
    }

    private int fetchMusicRandomly(List<Song> album) {
        return ThreadLocalRandom.current().nextInt(0, album.size());
    }

    private List<Song> populateMusicList() {
        List<Song> musicBucket = new ArrayList<Song>();
        musicBucket.add(new Song("musicName-1", "pathtomp3File"));
        musicBucket.add(new Song("musicName-2", "pathtomp3File"));
        musicBucket.add(new Song("musicName-3", "pathtomp3File"));
        musicBucket.add(new Song("musicName-4", "pathtomp3File"));
        musicBucket.add(new Song("musicName-5", "pathtomp3File"));
        musicBucket.add(new Song("musicName-6", "pathtomp3File"));
        musicBucket.add(new Song("musicName-7", "pathtomp3File"));
        musicBucket.add(new Song("musicName-8", "pathtomp3File"));
        musicBucket.add(new Song("musicName-9", "pathtomp3File"));
        musicBucket.add(new Song("musicName-10", "pathtomp3File"));
        return musicBucket;
    }

    class Song {

        public Song(String name, String pathToMp3) {
            this.name = name;
            this.pathToMp3 = pathToMp3;
        }
        String name;
        String pathToMp3;

        public String getName() {
            return name;
        }

        public String getPathToMp3() {
            return pathToMp3;
        }

        @Override
        public String toString() {
            StringBuilder result = new StringBuilder();
            result.append(" {Name: " + name + " }");
            result.append(" {Path To Mp3file: " + pathToMp3);
            result.append("}");
            return result.toString();
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T08:59:21.167

您可以创建自己的自定义对象数组列表，如下所示。

```
public class SongInfo
{
    String songName;
    String songPath;

    public SongInfo(String songName,String songPath){
        this.songName = songName;
        this.songPath = songPath;

    }
}

ArrayList<SongInfo> customSongList = new ArrayList<SongInfo>(); 
```

# ruby-on-rails - Ruby on Rails - Active Record - 关系 - 多对多

> ID：14907193
> 
> 赞同：2
> 
> 时间：2013-02-16T05:12:43.677
> 
> 标签：ruby-on-rails, ruby

# 精简版：

这在我进行 team.tournaments 时有效，但在我进行 tours.teams 时无效。它给了我：

```
 <main>'irb(main):117:0> tournament.teams << team
(0.1ms)  begin transaction
(0.0ms)  commit transaction
Team Load (0.2ms)  SELECT "teams".* FROM "teams" WHERE "teams"."tournament_id" = 1
ActiveRecord::StatementInvalid: SQLite3::SQLException: no such column: teams.tournament_id: SELECT "teams".* FROM "teams"  WHERE "teams"."tournament_id" = 1 
```

# 长版：

我想在球队和锦标赛之间建立一种多对多的关系。我知道我必须通过在下面显示的第一部分中完成的连接表来执行此操作。从那里，我必须分别添加团队/锦标赛模型中显示的关联。

```
 class TeamTournamentJoinAttempt3 < ActiveRecord::Migration
  def up
    create_table :teams_tournaments, :id => false do |t|
        t.integer "tournament_id"
        t.integer "team_id"
    end
    add_index :teams_tournaments, ["tournament_id", "team_id"]
  end

  def down
    drop_table :teams_tournaments
  end
end 
```

比赛型号：

```
class Tournament < ActiveRecord::Base
  has_and_belongs_to_many :teams
end 
```

团队模型：

```
class Team < ActiveRecord::Base
  has_and_belongs_to_many :tournaments
end 
```

现在我可以使用以下方法在 rails 控制台中定位团队和锦标赛：

```
tournament = Tournaments.find(1)
team = Teams.find(1) 
```

然后我可以使用以下方法在两者之间建立关系：

```
team.tournaments << tournament
    (0.1ms)  begin transaction
    (0.3ms)  INSERT INTO "teams_tournaments" ("team_id", "tournament_id") VALUES (1, 1)
    (123.1ms)  commit transaction 
```

繁荣，我认为一切正常。但是，当我尝试另一种方式时（`tournament.teams << team`）它不起作用给我以下错误：

```
tournament.teams << team
    (0.1ms)  begin transaction
    (0.0ms)  commit transaction
    Team Load (0.2ms)  SELECT "teams".* FROM "teams" WHERE "teams"."tournament_id" = 1
    ActiveRecord::StatementInvalid: SQLite3::SQLException: no such column: teams.tournament_id: SELECT "teams".* FROM "teams"  WHERE "teams"."tournament_id" = 1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T08:40:42.790

看到我的赌注是在实验或关联后`TeamTournamentJoinAttempt3`不在 Ruby 控制台中使用。`reload!``belongs_to``has_one`

# c# - 从 WCF 服务获取数据

> ID：14907195
> 
> 赞同：1
> 
> 时间：2013-02-16T05:13:10.770
> 
> 标签：c#, wcf, linq-to-xml, wcf-data-services

对不起，如果这是一个愚蠢的问题，但我是 WCF 的新手。我有一个 C# 项目，我正在使用 Linq to xml 加载一个 XML 文档（包含学生姓名和 Id），我必须从 WCF 服务（链接给出）。

如何从 WCF 服务获取相关数据？我是否只需右键单击并添加服务参考。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:32:33.327

您需要定义`WCF`具有具体类型的方法。您不能声明返回匿名对象或接口的方法。

只需创建一个`DTO`代表你的对象`XML`，并使用`Linq to Xml`填充这些`DTO`s。然后在您的服务方法中，将返回类型设置为这些`DTO`s。

添加服务引用后，创建客户端代理；像，

```
ServiceReference1.ClientProxy proxy = new ServiceReference1.ClientProxy();
var data = proxy.SomeMethod(someArguments); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T05:24:01.057

是的，右键单击项目，添加服务引用，在项目配置文件中或通过代码配置 A（地址）B（绑定）C（合同），然后创建代理并调用 web 方法。

[这里的](http://www.c-sharpcorner.com/uploadfile/dhananjaycoder/abc-of-an-endpoint-in-wcf/)例子

# php - MySQL ORDER BY 与两列相加

> ID：14907196
> 
> 赞同：0
> 
> 时间：2013-02-16T05:13:13.693
> 
> 标签：php, mysql

我正在创建一个显示行的页面。每行有两列是我的问题、评分和使用的重点。首次加载页面时，没有预排序，页面显示正常。工作时的代码：

```
if (!$sortby) {

    $getdata = mysql_query("select * FROM traditional") or die(mysql_error());

    while($data = mysql_fetch_array($getdata)){

        $category = $data["category"];
        $overview = $data["overview"];
        $ratingcount = $data["ratingcount"];
        $ratingscore = $data["ratingscore"];
        $usage = $data["usage"];
        $location = $data["location"];
        $calculaterating = $ratingscore / $ratingcount;
        if (!$calculaterating) {
            $rating = "None";
        } else {
            $rating = $calculaterating;
        }

        echo "</tr>";
        echo "<tr colspan='4'>";
        echo "<td class='selectcategory' width='40%'>";
        echo "<a href='$location'>$category</a>";
        echo "</td>";
        echo "<td class='categorymenu' style='vertical-align: middle; text-align: left;   
        padding: 5px;' width='40%'>";
        echo $overview;
        echo "</td>";
        echo "<td class='categorymenu' width='10%'>";
        echo $rating;
        echo "</td>";
        echo "<td class='categorymenu' width='10%'>";
        echo $usage;
        echo "</td>";
    } 
```

这就是事情停止工作的地方。页面上有一个下拉菜单，允许用户按使用情况或评级进行排序。当他们选择一个时，页面会刷新，并且 $sortby 会根据评分或使用情况填充。这是代码的其余部分，当事情停止工作时：

```
} else {

    if ($sortby = "rating") {
        $sort = "rating";
    } else {
        $sort = "`usage`";
    }
    $getdata = mysql_query("select category,overview,SUM(ratingscore / ratingcount) as   
'rating',`usage`,location FROM traditional ORDER BY $sort DESC") or die(mysql_error());

    while($data = mysql_fetch_array($getdata)){

        $category = $data["category"];
        $overview = $data["overview"];
        $rating = $data["rating"];
        $usage = $data["usage"];
        $location = $data["location"];

        echo "</tr>";
        echo "<tr colspan='4'>";
        echo "<td class='selectcategory' width='40%'>";
        echo "<a href='$location'>$category</a>";
        echo "</td>";
        echo "<td class='categorymenu' style='vertical-align: middle; text-align: left;   
        padding: 5px;' width='40%'>";
        echo $overview;
        echo "</td>";
        echo "<td class='categorymenu' width='10%'>";
        echo $rating;
        echo "</td>";
        echo "<td class='categorymenu' width='10%'>";
        echo $usage;
        echo "</td>";
    }
} 
```

未填充 $sortby 时，将显示大约 10 行。由于代码不起作用（当尝试对结果进行排序时），仅显示一行（不知道为什么？），并且显示的一行评级无论如何都不会正确计算。我已经阅读了许多其他与此相关的帖子（这有助于我编写目前拥有的糟糕代码）。但我想我只是不明白我从别人的帖子中得到了什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T05:32:27.030

更好的是，您可以使用 if else 进行查询……这样您就可以使用简单的 ORDER BY 查询……并回显查询生成的输出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T05:49:52.867

`SUM`是一个聚合运算符，不使用它`GROUP BY`会使您的整个结果集折叠成一行，其中`result`设置为所有行结果的总和。

我不确定你为什么要使用`SUM`，如果你想拥有与第一个查询相同的行，只添加排序，它应该是这样的；

```
SELECT category, overview, ratingscore / ratingcount AS rating,
    `usage`, location FROM traditional ORDER BY $sort DESC 
```

如果我误解了您想要的结果集，请告诉我，但`SUM`没有 a`GROUP BY`绝对不是您想要的。

# javascript - 确保我的自定义 jQuery 不会干扰其他具有相同名称的 id

> ID：14907197
> 
> 赞同：0
> 
> 时间：2013-02-16T05:13:16.320
> 
> 标签：javascript, jquery, conflict

我有一个 WordPress 插件，它使用 jQuery 函数来隐藏/显示插件的某些部分。

```
if ($('#display_linkedin_icon').val() == 'true') {
    $('#linkedin').show();
} 
```

我的问题是，在 WordPress 仪表板中，另一个插件添加了一个 ID 为的元素，`#linkedin`因此当我在插件中激活隐藏 div 时，它会隐藏 WordPress 仪表板中的另一个 div。

在这个阶段，简单地更改我的 ID 名称并不是一件容易的事。

我想知道有什么方法可以包装上面的 jQuery 函数，以便它只会在我的插件页面上激活。

我将`#linkedin`div 包裹在一个名为“”的外部 div 中`asw-sortable`。希望像这样的工作。

```
if ($('#display_linkedin_icon').val() == 'true') {
    $('#asw-sortable #linkedin').show();
} 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T05:17:30.623

如果您`div#linkedin`是页面上的第一个，这可能会起作用。否则，增加数组索引：

```
$($('#linkedin')[0]).attr('id', 'linkedin2'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T05:17:56.907

你做的最后一件事应该有效。它奏效了吗？

```
if ($('#display_linkedin_icon').val() == 'true') {
    $('#asw-sortable #linkedin').show();
} 
```

如果不是，您应该尝试使您的选择器更加具体。

# c - C：错误：取消引用指向不完整类型的指针

> ID：14907200
> 
> 赞同：2
> 
> 时间：2013-02-16T05:14:01.477
> 
> 标签：c, pointers, struct

我收到一个错误（错误：取消引用指向不完整类型的指针），addData->s = s 和 addData->type = type，我不知道为什么......它似乎对我有用（我但是，我对 C 有点生疏）

这是代码：

```
int addSym(char *s, var_type type){
    struct syment* addData=  malloc(sizeof(syment));
    addData->s = s;
    addData->type = type; 
```

...

我有 syment 作为

```
typedef struct syment_s {
  char *s;
  int offset;
  var_type type;
  struct syment_s *next;
}*syment; 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T05:19:19.340

尝试改变

```
typedef struct syment_s {
  char *s;
  int offset;
  var_type type;
  struct syment_s *next;
}*syment; 
```

到

```
typedef struct syment_s {
  char *s;
  int offset;
  var_type type;
  struct syment_s *next;
} syment; 
```

指针过载，这不是 Crufts（Pointer 是一只狗，Crufts 是狗秀）。

# android - 永远在后台运行的基于位置的服务

> ID：14907204
> 
> 赞同：0
> 
> 时间：2013-02-16T05:14:32.987
> 
> 标签：android, gps

我的应用程序：我正在开发基于位置的服务，用于跟踪销售人员。场景是XYZ想要跟踪他的销售人员的人，他将设置获得位置更新的时间和距离间隔，此后他将把手机移交给销售人员，应用程序应该不断运行和跟踪GPS。

问题：我几乎完成了这个项目，但我想永远运行这个应用程序来跟踪，我通过 GPS 执行此操作，当我在设置时间和距离后最小化应用程序时，我的应用程序将通过 android OS 关闭，但当它在 FOREGROUND它完美地工作。

请建议我对此的可能解决方案是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T05:31:32.630

首先，您想在[Service](http://developer.android.com/reference/android/app/Service.html)中而不是在 Activity 本身中进行跟踪，因此即使用户没有与之交互，应用程序也会执行此操作。

然后[AlarmManager](http://developer.android.com/reference/android/app/AlarmManager.html)就是您要寻找的。您可以安排在特定时间调用 Intent。因此，您可以检查您的服务是否仍在运行，如果没有重新启动它以再次开始跟踪。

看看**这个应用程序****中的[UpdateService](https://github.com/n3utrino/enl-atitude/blob/master/app/src/ch/n3utrino/enlatitude/services/UpdateService.java)**。

```
 Intent i = new Intent(UPDATE_ACTION);
 PendingIntent alarmManagerPendingIntent = PendingIntent.getBroadcast(this, 0, i, 0);

 mAlarmManager.setRepeating(AlarmManager.ELAPSED_REALTIME_WAKEUP,
                SystemClock.elapsedRealtime(), //Start now
                10*60*1000, //every 10 minutes
                alarmManagerPendingIntent); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T05:33:59.923

除了常规应用程序之外，您还需要使用服务。即使应用程序关闭，服务也可以运行。您不能“永远”运行服务，此外，您始终可以手动停止服务。为了使服务能够存活更长时间，它必须是前台服务 - 更多信息：[在前台运行服务](http://developer.android.com/guide/components/services.html#Foreground)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-08T15:31:36.260

最简单的方法是

```
@Override
public void onDestroy() {
    Intent serviceIntent = new Intent(getApplicationContext(), UpdateLocationService.class);
    getApplicationContext().startService(serviceIntent);
} 
```

# javascript - 更改 SVG 路径的宽度/高度

> ID：14907208
> 
> 赞同：16
> 
> 时间：2013-02-16T05:14:52.863
> 
> 标签：javascript, svg, svg-edit

如何更改[**SVG-edit**](https://code.google.com/p/svg-edit/)中选定路径*的宽度/高度*。[](https://code.google.com/p/svg-edit/)

 ***   到目前为止，我只有这个：

    `svgCanvas.changeSelectedAttribute("height", "499");`

上面的命令对路径绝对没有影响。调整边界框的大小只是调整边界框的大小，而*不是*路径本身。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-16T05:18:16.407

对于路径，您可能想要应用*变换*而不是编辑路径坐标，这可能会变得复杂。见[http://www.w3.org/TR/SVG/coords.html#TransformAttribute](http://www.w3.org/TR/SVG/coords.html#TransformAttribute)**

# vim - 语法不起作用：没有错误

> ID：14907210
> 
> 赞同：6
> 
> 时间：2013-02-16T05:15:05.493
> 
> 标签：vim, macvim, syntastic

我已经安装了 Pathogen，git clone 了 syntastic repo，并尝试了 mvim 中的 :Helptags。但是，每当我输入 :Helptags 时，我都没有收到错误消息，但什么也没有发生。知道会发生什么吗？

更新：我再次尝试使用 Vundle（与 NERDTree 和 powerline 一起工作正常）并且收到以下错误：

[![一只忙碌的猫](../Images/feb24c7bb13ef25a6daf4d9bc63b70b2.png)](https://i.stack.imgur.com/OAhzZ.jpg)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T08:45:46.277

阅读`:h :helptags`，此命令（带有参数：）`:Helptags /path/to/dir`用于索引第三方插件的文档。*它与 Syntastic 插件无关。*

如果 Pathogen 安装正确，`:h syntastic`应该打开 Syntastic 的文档。仔细阅读，确保您了解所有内容，尝试一下，如果您有任何问题，请联系我们。

# javascript - localStorage 不适用于 IE 10 引发错误

> ID：14907212
> 
> 赞同：2
> 
> 时间：2013-02-16T05:15:07.587
> 
> 标签：javascript, jquery, windows-phone-8, local-storage, internet-explorer-10

我正在使用 HTML 5 项目模板制作 Windows 8 Phone 应用程序。

我已经使用 nuget 下载了**jquery-1.9.1.js**，还从[这里下载](http://jquerymobile.com/download/)**了 jquery.mobile-1.2.0.js**并将它们添加到我的项目中。

现在我正在使用以下代码，我正在尝试使用`localStorage`，我的以下代码适用于 Chrome 和 Firefox，但不适用于 IE 10。

**Common.js**

```
$(document).ready(function(){
    alert("jquery started");
    localStorage.selectedCategory = "cc";
    alert("After assignment");
    alert(localStorage.selectedCategory);
}) 
```

当我在 IE 10 中运行它时，我在控制台中收到以下错误消息，并且只显示我的第一个警报“jquery 已启动”，其余警报未显示。

> SCRIPT5007：无法获取未定义或空引用 jquery.mobile-1.2.0.js 的属性“msie”，第 2536 行字符 5
> 
> SCRIPT5007：无法设置未定义或空引用 common.js 的属性“selectedCategory”，第 3 行字符 2

![在此处输入图像描述](../Images/17d4fd63f4bebd06458c850630af1cb1.png)

当我注释掉 localStorage 代码时，会显示所有警报，但控制台中仍然存在一个错误。

> SCRIPT5007：无法获取未定义或空引用 jquery.mobile-1.2.0.js 的属性“msie”，第 2536 行字符 5

![在此处输入图像描述](../Images/d8fc2059c52c9e4628c74a5deaa0a253.png)

我只是似乎不明白这个问题，请帮我解决这个问题。

**编辑：** 我的 html 代码：

```
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" type="text/css" href="/html/css/phone.css" />
        <title>Interview QA</title>
        <script type="text/javascript" src="../Scripts/jquery-1.9.1.js"></script>
        <script type="text/javascript" src="../Scripts/jquery.mobile-1.2.0.js"></script>
        <script type="text/javascript" src="../Scripts/Custom/common.js"></script>
    </head>
    <body>
      <div id="header"></div>
      <div id="footer"></div>
      <div></div>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T05:16:37.663

您可能需要正确的文档类型：

```
<!doctype html> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-23T08:46:25.690

我也有同样的错误。但是当我用关键字“Storage”替换“localStorage”时，它在ie10中工作。像这样修改您的代码并尝试：

```
$(document).ready(function(){
    alert("jquery started");
    Storage.selectedCategory = "cc";
    alert("After assignment");
    alert(Storage.selectedCategory); }) 
```

**更新：**但这并不等同于本地存储，因为刷新页面时它会被清除。进一步探索后发现 localStorage 不适用于 ie10 中的 file:// 协议。但是，如果您在 Web 服务器（IIS/Tomcat 等）下托管您的页面并通过 http:// 协议访问它，则 localStorage 在 ie10 中可以正常工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-27T12:49:12.943

jquery 已删除 $.browser 和浏览器检查代码，因此请使用 jquery migrate.js 以避免此问题。

[http://blog.jquery.com/2013/01/15/jquery-1-9-final-jquery-2-0-beta-migrate-final-released/](http://blog.jquery.com/2013/01/15/jquery-1-9-final-jquery-2-0-beta-migrate-final-released/)

# android - 如何在 android 的 PagerAdapter 中不重复 Object instantiateItem()

> ID：14907213
> 
> 赞同：6
> 
> 时间：2013-02-16T05:15:13.907
> 
> 标签：android, android-viewpager

我的 logcat 在打印中第一次在重复此方法并占据位置 1 后占据位置 0，我不需要重复此方法。

```
public  Object instantiateItem(ViewGroup container, int position) {

    Context context = MainActivity.this;

 Log.d("position","position" +position);
  ImageView imageView = new ImageView(context);

  int padding = context.getResources().getDimensionPixelSize(
      R.dimen.padding_medium);
  imageView.setPadding(padding, padding, padding, padding);
  imageView.setScaleType(ImageView.ScaleType.CENTER_INSIDE);
  imageView.setImageResource(mImages[position]);

  ((ViewPager) container).addView(imageView, 0);

  return imageView;

} 
```

图像幻灯片中的此代码成功工作，但图像幻灯片的第一张和最后一张在 logcat 中位置打印错误。请帮助我。谢谢。

编辑：

```
public class MainActivity extends Activity {

  ViewPager viewPager;
    @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

     viewPager = (ViewPager) findViewById(R.id.view_pager);
    ImagePagerAdapter adapter = new ImagePagerAdapter();
    adapter.notifyDataSetChanged();
    viewPager.setAdapter(adapter);

  }

  private class ImagePagerAdapter extends PagerAdapter {

    private int[] mImages = new int[] {
        R.drawable.chiang_mai,
        R.drawable.himeji,
        R.drawable.petronas_twin_tower,
        R.drawable.ulm
    };
     @Override
    public int getItemPosition(Object object) {
        // TODO Auto-generated method stub
        return POSITION_NONE;
    }

    @Override
    public int getCount() {
      return mImages.length;
    }

    @Override
    public boolean isViewFromObject(View view, Object object) {
      return view == ((ImageView) object);
    }

    @Override
    public  Object instantiateItem(ViewGroup container, int position) {

        Context context = MainActivity.this;

     Log.d("position","position" +position);
      ImageView imageView = new ImageView(context);

      int padding = context.getResources().getDimensionPixelSize(
          R.dimen.padding_medium);
      imageView.setPadding(padding, padding, padding, padding);
      imageView.setScaleType(ImageView.ScaleType.CENTER_INSIDE);
      imageView.setImageResource(mImages[position]);

      ((ViewPager) container).addView(imageView, 0);

      return imageView;

    }

    @Override
    public void destroyItem(ViewGroup container, int position, Object object) {
       // viewPager.getAdapter().notifyDataSetChanged();
      ((ViewPager) container).removeView((ImageView) object);
    }
  }

@Override
protected void onDestroy() {
    // TODO Auto-generated method stub

    super.onDestroy();
}

} 
```

当我左右滑动图像时，此代码在 logcat 中的错误打印位置。当位置增加和左侧滑动图像减少位置时，我需要右侧滑动图像。请帮助我。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T13:12:30.720

您需要解决此代码中的问题

```
public class MainAdapter extends BaseAdapter {
        public Activity activity;
        ArrayList<String> data = new ArrayList<String>();

        public MainAdapter(Activity a, ArrayList<String> d) {
            activity = a;
            data = d;

        }    

        @Override
        public View getView(int position, View convertView, ViewGroup parent) {
            View cellView = convertView;
             if (cellView == null)
               { 
                   cellView = new View(activity);
                   Log.d(TAG, "cellView null");
               } else
               {
                   Log.d(TAG, "cellView not null");
                   cellView = (View) convertView;
               }
               LayoutInflater inflater = (LayoutInflater) activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
               cellView = inflater.inflate(R.layout.textviewinfo, null);

               textView = (TextView) cellView.findViewById(R.id.textView1);

               /*LinearLayout layout = (LinearLayout)cellView.findViewById(R.id.l1);
               layout.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, 100));*/

               LinearLayout.LayoutParams parms2 = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT,LinearLayout.LayoutParams.WRAP_CONTENT);
               parms2.gravity=Gravity.CENTER_HORIZONTAL;
               //parms2.gravity=Gravity.CENTER_VERTICAL;
               textView.setLayoutParams(parms2); 
               textView.setText(data.get(position));
                textView.setGravity(Gravity.CENTER_VERTICAL);   
                 textView.setTextColor(Color.YELLOW);
              return cellView;
        }
        @Override
        public int getCount() {
            // TODO Auto-generated method stub
             return data.size();
            //return 0;
        }

        @Override
        public Object getItem(int position) {
            // TODO Auto-generated method stub
            return position;
            //return 0;
        }

        @Override
        public long getItemId(int position) {
            // TODO Auto-generated method stub
             return position;
            //return 0;
        }
    } 
```

# mysql - 如何使用mysql查询使得一组行完全重复

> ID：14907214
> 
> 赞同：1
> 
> 时间：2013-02-16T05:15:18.413
> 
> 标签：mysql

我一直在尝试查询一组行值在哪里准确重复。像这样：

```
id       part_id    supplier    quantity
 1          1         A            20
 2          1         B            30

 3          2         A            11
 4          2         B            30

 5          3         A            20
 6          3         B            30 
```

我们可以假设每个 part_id 总是有 A 和 B 作为供应商。

我的问题是我想查询 A=20 和 B=30 的 part_id。

结果将是 part_id : 1 和 3

鉴于 A 和 B 在 2 个不同的行中，我该怎么做？这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T05:20:36.553

子选择会做：

```
SELECT id, part_id, supplier, quantity
FROM yourtable
WHERE part_id IN (
   SELECT DISTINCT part_id
   FROM yourtable
   WHERE ((supplier = 'A') and (quantity = 20)) 
      OR ((supplier = 'B') and (quantity = 30))
) 
```

* * *

编辑，好的。给定新信息，试试这个子选择：

```
 SELECT part_id
 FROM yourtable
 WHERE ((supplier = 'A') and (quantity = 20)) 
      OR ((supplier = 'B') and (quantity = 30))
 GROUP BY part_id
 HAVING COUNT(part_id) = 2 
```

查找 a/b 东西匹配的所有记录，按 part_id 分组，但只返回两个 a/b 部分匹配的 part_ids。因此 a=11 的情况将被忽略，因为在该特定情况下计数仅为 1。

# opengl - 在 Open GL/Jogl 中提取屏幕坐标

> ID：14907218
> 
> 赞同：0
> 
> 时间：2013-02-16T05:15:49.087
> 
> 标签：opengl, jogl

我目前正在用 java 创建一个应用程序，并且正在使用 Jogl 来渲染 3d 模型。关于从 Jogl/openGL 获取数据有几个问题。

模型完成绘制后，我想提取已绘制到屏幕上的所有可见顶点的屏幕坐标，不包括隐藏或不在屏幕上的顶点。

还有无论如何你可以告诉屏幕坐标与哪个顶点相关？

我已经查看了反馈模式，但我不确定我是否会获得我想要的数据，或者我没有正确理解它。

任何答案或想法将不胜感激。

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T11:40:05.347

OpenGL 是一个本地化的光栅化 API。一旦它画了一个图元，它就会忘记它。没有摄像头，没有场景。它所看到的只是基于像素的帧缓冲区和向其绘制点、线和三角形的指令，其位置和颜色由着色器程序确定。

如果可以避免，我不会将 OpenGL 用于您询问的任务，因为这不在其工作描述中。

无论如何，您可以使用*转换反馈*（仅在最新版本的 OpenGL 中可用，从 4.0 版开始）来检索您感兴趣的数据。有关更多信息，请参见[http://www.opengl.org/wiki/Transform_Feedback](http://www.opengl.org/wiki/Transform_Feedback) .

# php - 向 mysql_fetch_array 行结果添加交替颜色

> ID：14907220
> 
> 赞同：0
> 
> 时间：2013-02-16T05:15:55.860
> 
> 标签：php

我用谷歌搜索并尝试了几件事都无济于事。我正在学习 PHP 和 MySQL 中的一些课程，并尝试为数组结果中的行添加交替颜色。到目前为止，没有任何效果。我不知道该放在哪里。这是我的代码：

```
//assemble the sql query string to insert a record
$query="SELECT * FROM Vehicles WHERE buyer IS NOT NULL ORDER BY StockID asc";

//open a connection and select the database
$conn=mysql_connect($host, $username, $password);
@mysql_select_db($database, $conn) or die ("Unable to select $database database");

//Execute the sql query
if($result=mysql_query($query, $conn)){
$rows=mysql_numrows($result);
echo"<p>There are $rows cars in the system</p>";
?>  

<table border="0" align="center" border="0" cellspacing="0" style="margin:auto; border-spacing:2px 1px; border-collapse:separate; border:ridge 5px; border-color:#669999;">
<tr>
<td style="background-color:#92DEDC">Stock ID</td>
<td style="background-color:#92DEDC">Reg Number</td>
<td style="background-color:#92DEDC">Make</td>
<td style="background-color:#92DEDC">Model</td>
<td style="background-color:#92DEDC">Year</td>
<td style="background-color:#92DEDC">Cost Price</td>
<td style="background-color:#92DEDC">EmpID</td>
<td style="background-color:#92DEDC">Sell Price</td>
<td style="background-color:#92DEDC">Seller</td>
<td style="background-color:#92DEDC">Buyer</td>
<td style="background-color:#92DEDC">Admin Tasks</td>
</tr>

<?php

$i=0;

while($i<$rows){
    $recordArray=mysql_fetch_array($result);//fetch and display a record
        echo "<tr bgcolor='$bgcolor'>   
                <td >$recordArray[StockID]</td>
                <td>$recordArray[Rego_No]</td>
                <td>$recordArray[Make]</td>
                <td>$recordArray[Model]</td>
                <td>$recordArray[Year]</td>
                <td>$recordArray[Cost_Price]</td>
                <td>$recordArray[employeeid]</td>
                <td>$recordArray[Sale_Price]</td>
                <td>$recordArray[emp_name]</td>
                <td>$recordArray[Buyer]</td>
                <td>
                    <a href='edit-car.php?StockID=$recordArray[StockID] & emp_name=$recordArray[emp_name]'>Edit</a>
                </td>
            </tr>";
        $i++;
}else{
echo "Something went wrong. MySQL reports <b>", mysql_error(),"</b>";
}
?>  
</table>
<?php
mysql_close($conn);
?>
</body></html> 
```

任何帮助将不胜感激。我们只有一周的课程，我只是想稍微修饰一下结果。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T05:18:34.620

使用计数器：

```
if($i % 2 == 0) {
  $class = "even";
}
else {
  $class = "odd"
} 
```

然后，将该 $class 添加到您的模板中（而不是重复的背景颜色），并使用 .even 和 .odd 选择器编写 CSS。

（我的 PHP 有点生疏，但是，这是一般的想法）。

此外，正如 mithunsatheesh 所指出的， mysql_* 函数集非常危险，总的来说只是一个糟糕的使用计划——改用 PDO。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T05:30:03.440

您可以使用 The Idea of**​​ Spud**并创建 Style 字符串

```
if($i % 2 == 0) {

$style = "style='background-color:white'";
}
else {
$style = "style='background-color:#eee'";
}` 
```

并且可以在行标签中代替 bgcolor

```
<tr $style> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T05:32:04.873

```
<?php

$i=0;

while($recordArray=mysql_fetch_array($result))
{
    if($i % 2 == 0) 
    {
      $bgcolor= "#006666";
   }
   else 
  {
     $bgcolor= "#CC6699";
  }
   $i++;
    echo "<tr bgcolor='$bgcolor'>   
            <td >$recordArray[StockID]</td>
            <td>$recordArray[Rego_No]</td>
            <td>$recordArray[Make]</td>
            <td>$recordArray[Model]</td>
            <td>$recordArray[Year]</td>
            <td>$recordArray[Cost_Price]</td>
            <td>$recordArray[employeeid]</td>
            <td>$recordArray[Sale_Price]</td>
            <td>$recordArray[emp_name]</td>
            <td>$recordArray[Buyer]</td>
            <td>
                <a href='edit-car.php?StockID=$recordArray[StockID] & emp_name=$recordArray[emp_name]'>Edit</a>
            </td>
        </tr>";

   }
 ?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-16T05:43:49.610

出色地，

虽然...否则对一个人不起作用。执行此操作的典型方法是：

```
$dbx=new mysqli('host','user','pw');
$q=$dbx->query"SELECT * FROM whatever";
if ($q) {
    while ($f=$q->fetch_assoc()) {
       echo "<tr><td>{$f['whatever']}</td></tr>";
    }
} else {
    echo "Problem";
} 
```

然后：在 css 中，假设你有 Put 在你的 css 文件中：

```
#resultsTable tr:nth-child(even) { background-color:blue; } 
```

# c - 符号表局部静态变量名

> ID：14907225
> 
> 赞同：4
> 
> 时间：2013-02-16T05:16:46.937
> 
> 标签：c, compilation, symbols

为什么符号表中的局部静态变量的名字后面要加一个数字？

```
int main(void) {
    static stat_var = 20;

    return 0;
} 
```

8：0000000000000008 4 对象本地默认值 2 stat_var **.1604**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-16T05:27:16.003

可以有许多同名的局部静态变量（跨不同的函数）。编译器为它们提供了消除歧义的后缀以避免潜在的名称冲突。

# opengl - openGL 程序无法与 LDC 链接

> ID：14907234
> 
> 赞同：1
> 
> 时间：2013-02-16T05:18:27.157
> 
> 标签：opengl, linker, d

我正在尝试用 ldc 用 D 语言编译一个简单的程序，但它似乎无法与 openGL 链接。

铿锵声工作正常：

```
clang `pkg-config --cflags --libs glu gl libglfw` triangle.c 
```

最不发达国家信息

```
LDC - the LLVM D compiler (trunk):
based on DMD v2.060 and LLVM 3.2svn
Default target: x86_64-apple-darwin12.2.1 
```

和 pkg-config 的结果

```
pkg-config --cflags --libs glu gl libglfw

-I/usr/local/include -I/opt/X11/include -L/usr/local/lib -L/opt/X11/lib -framework Cocoa -framework OpenGL -framework IOKit -lGLU -lGL -lglfw 
```

命令行

```
$ ldc2 -L-lglfw -L-L/opt/X11/lib -L-lGL -L-lGLU -w triangle.d

Undefined symbols for architecture x86_64:
  "__D2gl10glVertex3fFfffZv", referenced from:
      __Dmain in triangle.o
  "__D2gl10glViewportFiiiiZv", referenced from:
      __Dmain in triangle.o
  "__D2gl12glClearColorFffffZv", referenced from:
      __Dmain in triangle.o
  "__D2gl12glMatrixModeFkZv", referenced from:
      __Dmain in triangle.o
  "__D2gl12glTranslatefFfffZv", referenced from:
      __Dmain in triangle.o
  "__D2gl14glLoadIdentityFZv", referenced from:
      __Dmain in triangle.o
  "__D2gl5glEndFZv", referenced from:
      __Dmain in triangle.o
  "__D2gl7glBeginFkZv", referenced from:
      __Dmain in triangle.o
  "__D2gl7glClearFkZv", referenced from:
      __Dmain in triangle.o
  "__D2gl9glColor3fFfffZv", referenced from:
      __Dmain in triangle.o
  "__D2gl9glRotatefFffffZv", referenced from:
      __Dmain in triangle.o
  "__D3glu14gluPerspectiveFddddZv", referenced from:
      __Dmain in triangle.o
  "__D3glu9gluLookAtFdddddddddZv", referenced from:
      __Dmain in triangle.o
ld: symbol(s) not found for architecture x86_64
collect2: ld returned 1 exit status
Error: /usr/bin/gcc failed with status: 1 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T09:40:04.830

你是如何声明 OpenGL 函数的？`__D2gl10glVertex3fFfffZv`是符号`gl.glVertex3f`，是模块中的一个D符号`gl`。

库中的 OpenGL 函数具有 C 链接，因此您需要`extern(C)`在声明它们时使用，例如

```
extern(C) void glVertex3f(float, float, float); 
```

如果您在一个文件中有所有声明，那么您也可以使用以下`{}`符号：

```
extern(C)
{
    void glVertex3f(float, float, float);
    ...
} 
```

在尝试修复链接器错误时，查看链接的符号有时会有所帮助。您可以使用该`nm`实用程序`grep`来查找符号的损坏方式：

```
% nm /System/Library/Frameworks/OpenGL.framework/Libraries/libGL.dylib | grep glVertex3f
0000000000003b13 T _glVertex3f
0000000000003b2e T _glVertex3fv 
```

如您所见，该符号拼写为`_glVertex3f`，而不是`__D2gl10glVertex3fFfffZv`，这就是找不到它的原因。您可以通过前导`__D`以及所有额外的修饰信息来判断您的是 D 符号（例如`fff`，末尾表示 3 个`float`参数）。通常，您在大多数库中找到的 C 符号非常简单，仅包含名称后面的前导下划线。

# java - 从 jsp 页面获取更多字段并保存在数据库中

> ID：14907243
> 
> 赞同：-1
> 
> 时间：2013-02-16T05:19:28.013
> 
> 标签：java, jsp, servlets, jakarta-ee

我有一个带有 servlet 的 jsp 页面。

*   我想从单个用户那里获取 400 多个字段并将它们保存在数据库中。
*   用户可以修改字段值。

有没有像 GWT 这样的工具可以帮助我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T11:55:45.317

您可以通过 ajax 调用“在更改时”更新字段，或者您可以尝试`getAttributeNames()`在 servlet 中使用。

# c++ - 为什么这不打印任何东西

> ID：14907245
> 
> 赞同：0
> 
> 时间：2013-02-16T05:19:56.330
> 
> 标签：c++

所以我有了这个，如果我注释掉底部， from `int count = 0;`to`return 0;`它会打印出来，但在这种情况下，什么都不会打印出来。即使`cout << "Test"`在开始时添加也无济于事。这一切都编译得很好。

```
#include <iostream>
#include <string>
#include <cctype>
using namespace std;

int main()
{
    string text = "Smith, where Jones had had \"had had\", had had \"had\". \"Had had\" had had the examiners' approval.";

    string search = "had";

    int length = (int) text.length();

    for(int i = 0; i < length; i++)
    {
        text [i] = tolower(text [i]);
    }

    cout << text;

    int count = 0;
    for (int index = 0; (index = text.find(search)) != string::npos; index += search.length()) {
        count++;
        }

    cout << "There are " << count << " occurences of \"" << search << "\".\n"; 
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T05:31:17.633

您的第一个循环很好，但您的第二个循环卡在索引 19，因为您总是从文本的开头搜索。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T05:32:09.057

用gdb编译`g++ -g a.cpp`然后运行，你会发现它处于一个无限循环中。

@xymotech 的回答中指出的内容是正确的。尽管如果循环确实结束了，缓冲区将在代码结束之前被刷新。

您的模式总是在字符串中找到，因此`text.find(search)`永远不会返回`string::npos`

# selenium - 如何在 selenium ide 中测试具有多个用户名和密码的登录页面？

> ID：14907246
> 
> 赞同：-1
> 
> 时间：2013-02-16T05:20:10.233
> 
> 标签：selenium, selenium-ide

我只想知道哪些命令用于数据驱动测试或具有多个用户名和密码的参数化。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T17:16:15.680

嗨，IDE 中没有用于参数化的特殊命令，但您可以使用 .js 文件和 while 循环进行参数化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T10:39:22.817

下载数据驱动的 jar 并按照此处提到的步骤进行操作

[http://wiki.openqa.org/display/SEL/datadriven](http://wiki.openqa.org/display/SEL/datadriven)

从此您可以轻松地从 xml 中读取您的用户名和密码

# linux - 为什么 nano 编辑器无法安装在我的 Mac 上？

> ID：14907248
> 
> 赞同：-1
> 
> 时间：2013-02-16T05:20:19.233
> 
> 标签：linux, permissions, terminal, installation, nano

好的，所以我正在尝试在我的 macbook 上的终端中安装 nano。我下载了文件，解压缩并在终端中找到了文件夹/文件。我运行了 ./configure 命令。然后“制作”。两者都运行良好。在“make install”上，我不断收到有关权限和创建目录的错误。这就是错误：

```
mkdir: /usr/local: Permission denied
mkdir: /usr/local: No such file or directory
mkdir: /usr/local/share: No such file or directory
mkdir: /usr/local/share/nano: No such file or directory
make[5]: *** [install-htmlmanDATA] Error 1
make[4]: *** [install-am] Error 2
make[3]: *** [install-recursive] Error 1
make[2]: *** [install] Error 2
make[1]: *** [install-recursive] Error 1
make: *** [install-recursive] Error 1 
```

任何帮助或建议将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T05:21:58.767

```
sudo make install 
```

那应该解决它。它告诉您（用户）无权创建给定文件夹，sudo 允许您以有权访问给定目录的 root 身份运行程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T13:10:43.227

`sudo make install`应该这样做（只要你能`sudo`）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T14:38:49.703

要像这样安装它（“下面的”用户帐户），您应该使用 configure --prefix 选项指定前缀（在编译之前，在 make 命令之前）要安装系统范围的 sudo，如上所述。您可能还想使用 MacPorts。

# algorithm - 这些答案与堆栈有关的正确性如何

> ID：14907253
> 
> 赞同：0
> 
> 时间：2013-02-16T05:21:05.787
> 
> 标签：algorithm, stack

所以我正在关注普林斯顿大学通过 coursera 完成的这个算法课程。我正在做这个与堆栈有关的问题。答案让我感到困惑。感谢是否有人可以告诉我我在哪里出错了；

问题：假设在 LIFO 堆栈上执行混合的 push 和 pop 操作序列。推动按顺序推动字母 A 到 J；pops 打印出返回值。以下哪个输出序列可能出现？

正确答案 1：BEDCGAFIJH

解释 ：当 G 被压入时，A 和 F 都还在堆栈中。因此，F 将在 A 之前弹出。

我的问题：如果 F 应该出现在 A 之前，那么这个答案不正确吗？

正确答案 2：BCEAIJHGFD

解释 ：当 E 被压入时，A 和 D 都还在堆栈中。因此，D 将在 A 之前弹出。

我的问题：再次 D 应该在 A 之前吗？

感谢有人能告诉我我可能做错了什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:01:44.180

你是对的，这两个例子都不会发生，因为你解释的原因。您确定您阅读的答案正确吗？解释是为什么该输出*不能*发生，而不是为什么会发生。

# ruby-on-rails - devise_invitable +omniauth-identity

> ID：14907254
> 
> 赞同：2
> 
> 时间：2013-02-16T05:21:28.250
> 
> 标签：ruby-on-rails, omniauth, devise-invitable

我一直在为用户身份验证过程开发由omniauth-identity 实现的应用程序，但现在我需要在我想集成devise_invitable 的地方实现邀请用户策略。

我相信 devise_invitable 仅适用于由 devise 实现的应用程序以进行用户身份验证。

任何人都可以对此有所了解吗？请帮助我可以为omniauth-identity实现devise_invitable。

提前致谢。

# c# - 如何使用 C# 和 json.net 将存储在 C# 字典中的数据序列化为 json 对象？

> ID：14907256
> 
> 赞同：0
> 
> 时间：2013-02-16T05:21:45.147
> 
> 标签：c#, asp.net, json, .net-4.0, json.net

我有一些存储在 C# 字典中的数据。现在我想将此字典对象序列化为我在下面指定的 json 格式...

这是我的 C# 代码：

```
public void generateJsonString()
{
    StudInfo studDetails = new StudInfo();

    studDetails.GetQuestions.Add("s1", "Q1,Q2");
    studDetails.GetQuestions.Add("s2", "Q1,Q3");
    studDetails.GetQuestions.Add("s3", "Q4,Q5");

    string jsonString = JsonConvert.SerializeObject(studDetails, Formatting.Indented);
}

public class StudInfo
{
    public Dictionary<string, string> GetQuestions = new Dictionary<string, string>();
} 
```

它的输出如下所示...

```
{
  "GetQuestions": {
    "s1": "Q1,Q2",
    "s2": "Q1,Q3",
    "s3": "Q4,Q5"
  }
} 
```

但我要求的格式是：

```
{
    GetQuestions:[
{
    "s1":"Q1,Q2",
    "s2":"Q3,Q4",
    "s3":"Q5,Q6",
}]
} 
```

生成的输出中需要的更新是......（关于我所需的格式）

1.  GetQuestions 不需要双引号
2.  我想创建 getQuestions 作为数组对象

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-16T05:26:11.240

```
string serializedString = JsonConvert.SerializeObject(studDetails); 
```

反序列化（如果需要）

```
StudInfo = JsonConvert.Deserialize<StudInfo>(serializedString); 
```

这将使用泛型和运行时安全将其转换回 StudInfo 对象。

一旦序列化，更改 `Public Dictionary<string, string>`为`public List<Dictionary<string, string>>`将强制它进入一个数组。

# linq - IEnumerable 和 IQueryeable 中的延迟执行有何不同

> ID：14907258
> 
> 赞同：0
> 
> 时间：2013-02-16T05:22:01.330
> 
> 标签：linq

请帮助我清楚地理解这个概念。

我有一个 IEnumberable 的员工名单，

例如：

```
var emplist = new List<Employee> ()
{ 
    new Employee { EmpID = 1, EmpName = 'emp1', Age = 21}, 
    new Employee { EmpID = 2, EmpName = 'emp2', Age = 26},
    new Employee { EmpID = 3, EmpName = 'emp3',Age = 28} 
}; 
```

**IEnumerable**

```
var lst = from emp in emplist 
          where emp.Age > 25 
          select emp; 
// Returns IEnumerable and subjected to deferred execution.

var singleemp = lst.Take(1); // for filtering first employee. 
```

**可查询**

```
IQueryeable<Employee> lst = from emp in emplist  
                            where emp.Age > 25 
                            select emp;   
// Returns IQuereable and subjected to deferred execution.

var singleemp = lst.Take(1); // for filtering first employee. 
```

现在在这里我有 IEnumerable 和 IQuereable 两种情况，但是在 DB 中生成的 Sql 查询是不同的。但两者都受到延期执行。那么这两种情况有什么不同！

请有人对此提供提示...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:39:01.703

问题是您必须键入一个变量才能使正在使用的查询引擎（在本例中为 SQL）知道`IQueryable<T>`该操作。`.Take(1)`如果将此应用于 an ，`IEnumerable<T>`则该操作仅在 C# 中执行，在服务器上执行查询之后。您需要有一个`IQueryable<T>`-typed 变量才能应用要在服务器上执行的额外查询指令。

如果`var`在将查询分配给变量时使用 as 类型，则应尽可能具体地对变量进行类型化，并且`IQueryable<T>`如果您要查询的对象也是可查询的，则 this 应该是或实现此接口的类型。

在您的示例代码中，您正在对 a 进行操作`List<T>`，因此使用可查询或可枚举的结果将完全相同。但是，如果您在可查询类型上进行操作，您将看到不同之处。

# jquery - jQuery 可排序列表排序

> ID：14907261
> 
> 赞同：0
> 
> 时间：2013-02-16T05:22:31.150
> 
> 标签：jquery

我有一个未知大小的 jQuery 可排序列表，我需要在重新定位项目时更新项目排序。我显示了项目位置，并且在移动项目时会更新位置，但是当移动项目时，其他位置不会更新。例如，如果我的可排序列表有 3 个排序为 1、2、3 的项目，并且我决定将项目 2 移动到位置 3，则新排序为 1、3、3。我希望它更新为 1、2、3。任何想法我怎么能做到这一点？这是我更新职位的代码。谢谢。

```
 $("#sortable2").sortable({
        stop: function(event, ui) {
            var id = $(ui.item).attr('id');
            $("#" + id).html(ui.item.index() + 1); 
        }
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T05:41:36.670

尝试这个：

```
$("#sortable").sortable({
    stop: function(event, ui) {
        $('li').each(function(idx){
            $(this).html(idx+1);
        });
    }
}); 
```

基本上，您需要遍历每个元素。此外，索引是基于 0 的。

[JSFIDDLE](http://jsfiddle.net/uxhTy/)

# apache - Apache 字节范围和音频文件

> ID：14907262
> 
> 赞同：2
> 
> 时间：2013-02-16T05:22:39.063
> 
> 标签：apache, security, audio, audio-streaming

我们服务器上的 Apache 配置为阻止字节范围 ( [CVE 2011-3192](http://wiki.apache.org/httpd/CVE-2011-3192) )。但是它使我们在服务器上的音频不播放，因为较新版本的 Safari 和 Chrome 以字节请求它们，但服务器发送整个内容。

任何指针表示赞赏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T19:41:24.230

您可以尝试将 apache 设置为仅在发出过多请求时才阻止 Range 标头，而不是完全阻止 Range 标头。来自[Apache 维基：](http://wiki.apache.org/httpd/CVE-2011-3192)

使用 SetEnvIf 或 mod_rewrite 检测大量范围，然后忽略 Range: 标头或拒绝请求。

选项 1：（Apache 2.2，需要 mod_setenvif 和 mod_headers）

```
 # Drop the Range header when more than 5 ranges.
      # CVE-2011-3192
      SetEnvIf Range (?:,.*?){5,5} bad-range=1
      RequestHeader unset Range env=bad-range

      # We always drop Request-Range; as this is a legacy
      # dating back to MSIE3 and Netscape 2 and 3.
      #
      RequestHeader unset Request-Range

      # optional logging.
      CustomLog logs/range-CVE-2011-3192.log common env=bad-range 
```

数字 5 是任意的。几个 10 应该不是问题，并且可能需要站点，例如向非常高端的电子阅读器提供 PDF 或使用诸如基于 http 的复杂视频流的东西。

# php - 在会议模块中添加帐户子面板

> ID：14907266
> 
> 赞同：1
> 
> 时间：2013-02-16T05:23:34.653
> 
> 标签：php, sugarcrm

在使用 Studio 的会议模块中，我向帐户模块添加了一对多的关系。当我保存会议条目并使用帐户添加相关条目时，相关帐户的详细信息未显示在帐户子面板中。我正在使用最新版本的 SugarCRM。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T22:07:38.843

创建一个逻辑挂钩以实现您想要的结果：

自定义/模块/会议/logic_hooks.php

```
$hook_array['before_save'] = Array();
$hook_array['before_save'][] = Array(1, 'Set Account relationship', 'custom/modules/Meetings/AccountRelationshipHook.php', 'AccountRelationshipHook', 'setAccountRelationship');
$hook_array['before_delete'] = Array();
$hook_array['before_delete'][] = Array(1, 'Remove Account relationship', 'custom/modules/Meetings/AccountRelationshipHook.php', 'AccountRelationshipHook', 'deleteAccountRelationship'); 
```

然后在你的逻辑钩子中创建方法来使用你新定义的关系'meetings_accounts'（或你命名的任何东西）并添加或删除帐户记录。由于它是一对多的，因此您要确保每个会议记录只有一个帐户。另外，为了保持整洁，当会议被删除时，也会通过 deleteAccountRelationship() 方法删除记录的关系。

自定义/模块/会议/AccountRelationshipHook.php

```
class AccountRelationshipHook {

    public function setAccountRelationship(&$bean, $event, $arguments) {
        if ($bean->parent_type == 'Accounts') {
            $bean->load_relationship('meetings_accounts');
            if ($bean->parent_id != $bean->fetched_row['parent_id']) {
                $bean->meetings_accounts->delete($bean->id, $bean->fetched_row['parent_id']);
            }
            $bean->meetings_accounts->add($bean->parent_id);
        }
    }

    public function deleteAccountRelationship(&$bean, $event, $arguments) {
        if ($bean->parent_type == 'Accounts') {
            $bean->load_relationship('meetings_accounts');
            $bean->meetings_accounts->delete($bean->id, $bean->parent_id);
        }
    }
} 
```

# android - 如何正确创建此自定义 ArrayAdapter？

> ID：14907268
> 
> 赞同：0
> 
> 时间：2013-02-16T05:24:21.887
> 
> 标签：android, android-arrayadapter, android-holo-everywhere

我有这个代码，但它不想工作。

此外，Main.java 第 76 行将其包含在我的 onCreate 中：

```
setListAdapter(new ImageAndTextAdapter(ctx, R.layout.lchs_item,
    items, icons)); 
```

**imageandtextadapter.java:**

```
public class ImageAndTextAdapter extends ArrayAdapter<String> {

private LayoutInflater mInflater;

private String[] mStrings;
private TypedArray mIcons;

private int mViewResourceId;

public ImageAndTextAdapter(Context ctx, int viewResourceId,
        String[] strings, TypedArray icons) {
    super(ctx, viewResourceId, strings);

    mInflater = (LayoutInflater)ctx.getSystemService(
            Context.LAYOUT_INFLATER_SERVICE);

    mStrings = strings;
    mIcons = icons;

    mViewResourceId = viewResourceId;
}

@Override
public int getCount() {
    return mStrings.length;
}

@Override
public String getItem(int position) {
    return mStrings[position];
}

@Override
public long getItemId(int position) {
    return 0;
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
    convertView = mInflater.inflate(mViewResourceId, null);

    ImageView iv = (ImageView)convertView.findViewById(R.id.item_icon);
    iv.setImageDrawable(mIcons.getDrawable(position));

    TextView tv = (TextView)convertView.findViewById(R.id.item_text);
    tv.setText(mStrings[position]);

    return convertView;
}
    } 
```

**日志猫**

```
`02-16 00:19:36.867: E/InputManager-JNI(379): An exception was thrown by callback 'interceptKeyBeforeQueueing'.
02-16 00:19:36.867: E/AndroidRuntime(27101): FATAL EXCEPTION: main
02-16 00:19:36.867: E/AndroidRuntime(27101): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.twk95.lchs.browser/com.twk95.lchs.browser.Main}: java.lang.ClassCastException: com.android.internal.policy.impl.PhoneLayoutInflater cannot be cast to org.holoeverywhere.LayoutInflater
02-16 00:19:36.867: E/AndroidRuntime(27101):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2306)
02-16 00:19:36.867: E/AndroidRuntime(27101):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2356)
02-16 00:19:36.867: E/AndroidRuntime(27101):    at android.app.ActivityThread.access$600(ActivityThread.java:150)
02-16 00:19:36.867: E/AndroidRuntime(27101):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1244)
02-16 00:19:36.867: E/AndroidRuntime(27101):    at android.os.Handler.dispatchMessage(Handler.java:99)
02-16 00:19:36.867: E/AndroidRuntime(27101):    at android.os.Looper.loop(Looper.java:137)
02-16 00:19:36.867: E/AndroidRuntime(27101):    at android.app.ActivityThread.main(ActivityThread.java:5195)
02-16 00:19:36.867: E/AndroidRuntime(27101):    at java.lang.reflect.Method.invokeNative(Native Method)
02-16 00:19:36.867: E/AndroidRuntime(27101):    at java.lang.reflect.Method.invoke(Method.java:511)
02-16 00:19:36.867: E/AndroidRuntime(27101):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:795)
02-16 00:19:36.867: E/AndroidRuntime(27101):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:562)
02-16 00:19:36.867: E/AndroidRuntime(27101):    at dalvik.system.NativeStart.main(Native Method)
02-16 00:19:36.867: E/AndroidRuntime(27101): Caused by: java.lang.ClassCastException: com.android.internal.policy.impl.PhoneLayoutInflater cannot be cast to org.holoeverywhere.LayoutInflater
02-16 00:19:36.867: E/AndroidRuntime(27101):    at com.twk95.lchs.browser.ImageAndTextAdapter.<init>(ImageAndTextAdapter.java:27)
02-16 00:19:36.867: E/AndroidRuntime(27101):    at com.twk95.lchs.browser.Main.onCreate(Main.java:76)
02-16 00:19:36.867: E/AndroidRuntime(27101):    at android.app.Activity.performCreate(Activity.java:5104)
02-16 00:19:36.867: E/AndroidRuntime(27101):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080)
02-16 00:19:36.867: E/AndroidRuntime(27101):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2260)
02-16 00:19:36.867: E/AndroidRuntime(27101):    ... 11 more
02-16 00:19:36.875: E/InputManager-JNI(379): java.lang.NullPointerException
02-16 00:19:36.875: E/InputManager-JNI(379):    at com.android.internal.policy.impl.PhoneWindowManager.interceptKeyBeforeQueueing(PhoneWindowManager.java:3832)
02-16 00:19:36.875: E/InputManager-JNI(379):    at com.android.server.wm.InputMonitor.interceptKeyBeforeQueueing(InputMonitor.java:337)
02-16 00:19:36.875: E/InputManager-JNI(379):    at com.android.server.input.InputManagerService.interceptKeyBeforeQueueing(InputManagerService.java:1317)
02-16 00:19:36.875: E/InputManager-JNI(379):    at dalvik.system.NativeStart.run(Native Method)` 
```

如果您想要更多代码，请询问。谢谢您的帮助！

编辑：我添加了更多代码。此外，system32 和 ebarrenchea 的建议也不起作用。EDIT2：回答了我自己的问题。下面的解决方案

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T05:41:38.103

我以前从未在任何地方使用过全息，但您的问题似乎出在这一行：

```
02-16 00:19:36.867: E/AndroidRuntime(27101): Caused by: java.lang.ClassCastException: com.android.internal.policy.impl.PhoneLayoutInflater cannot be cast to org.holoeverywhere.LayoutInflater
02-16 00:19:36.867: E/AndroidRuntime(27101):    at com.twk95.lchs.browser.ImageAndTextAdapter.<init>(ImageAndTextAdapter.java:27) 
```

您的 mLayoutInflater 应该是 android.view.LayoutInflater 类型，可以通过简单的方式解决：

```
import android.view.LayoutInflater; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T06:36:27.043

看起来我明白了伙计们。我正在正确实施一切，我只是在我的 Main.activity 上设置了错误的列表适配器

编辑自：`setListAdapter(new ImageAndTextAdapter(ctx, R.layout.lchs_item, items, icons));`

到：`this.setListAdapter(new ImageAndTextAdapter(this, R.layout.lchs_item, items, icons));`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-17T02:52:46.720

`mInflater = LayoutInflater.from(ctx);`
绝对是 HoloEverywere 的 LayoutInflater。

# javascript - 打破.each jquery

> ID：14907273
> 
> 赞同：0
> 
> 时间：2013-02-16T05:24:59.477
> 
> 标签：javascript, jquery

我如何在没有 out 的情况下从 jquery 中脱颖而出`return FALSE`。

考虑以下

```
function check_quantity(){

  var _q = $(".quantity");

       _q.each( function(){

           if( some_condition ){

             break; // I WANT TO BREAK HERE AND NEED TO RETURN A TRUE INSTEAD OF FALSE
                    // for some reasons there is no way to continue 
           }

        } );

   return FALSE; // if condition failed

} 
```

有什么解决办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T05:33:29.363

在不改变你的函数的情况下，如果你得到你想要的东西，只需在你的循环中设置一个标志为真。

```
function check_quantity(){

  var ret = false;
  var _q = $(".quantity");

       _q.each( function(){

           if( some_condition ){

             ret = true; // I WANT TO BREAK HERE AND NEED TO RETURN A TRUE INSTEAD OF FALSE
                    // for some reasons there is no way to continue 
           }

        } );

   return ret; // if condition failed

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T05:26:52.833

你可以继续下去。所以，不要做任何事情：

```
q.each(function () {
    if(condition) {
      //don't do anything
    }
    else {
      //do stuff
    }
} 
```

不过，我不确定你为什么不只是`return false`为了打破。

# node.js - 使用摇篮如何在沙发数据库中创建新数据库

> ID：14907274
> 
> 赞同：1
> 
> 时间：2013-02-16T05:25:47.810
> 
> 标签：node.js, express, couchdb

在我的应用程序中，我使用 node.js 连接 couchdb。我是 couch db 的新手，所以我不知道如何使用 cradle 连接 couch db。请帮助我。我尝试了下面的代码，但新的“测试”数据库不是创建的。

```
 var cradle=require('cradle');

            cradle.setup({
            host: 'https://mydomain.iriscouch.com',
            cache: true,
            raw: false
              });

            var c = new(cradle.Connection);

            var db = c.database('test');
            db.create(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T08:13:32.570

试试这个来创建一个连接：

```
var c = new cradle.Connection(); 
```

# jquery - fancybox 在 div 标签中不起作用

> ID：14907280
> 
> 赞同：1
> 
> 时间：2013-02-16T05:26:38.323
> 
> 标签：jquery, iframe, fancybox, typeerror

我面临一个花式盒子加载问题。我有以下页面布局： ![在此处输入图像描述](../Images/0e8935eaba440a2eb8239146317033c1.png)

我已经编写了包含`jquery.fancybox-1.2.6.js`和`jquery.fancybox-1.2.6.css`在`browse.php`文件中的代码以及为 fancybox 编写的 CSS（如果我包含在错误的文件中而不是 ，请建议我`explorer.php`）

```
$(".view_details").fancybox( {
                    'overlayOpacity' : 0.1,
                    'showCloseButton' : true,
                    'frameHeight' : 250,
                    'frameWidth' : 300,
                    'hideOnContentClick':false,
                    'centerOnScroll' : false
                }); 
```

, 现在`browse.php`每次用户单击`DIV 1`窗格中的链接时都会加载。

在`browse.php`我在链接上调用fancybox，

```
<a class="view_details" href="file.php?par=1" >View Details </a> 
```

但它不起作用，有时它第一次打开，然后显示错误`TypeError: loading is undefined`。请在这种情况下帮助我。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T09:57:41.177

你可以做一件事

首先我意识到`DIV`标签与父容器绑定（就像包含`DIV`标签的父页面），所以有时不要与`JavaScript`组件绑定。`CSS``DOM`

其次，我已经有了`DIV`它`IFRAME`，现在它按要求工作得很好。我注意到`IFRAME`将其内部源视为不同页面并将整个页面加载为另一个页面的原因，`window object`就像我们使用`window.open()`. 所以`Javascript`并`CSS`完美地结合在其中。

我有替换：

```
<div id="file_list" style="float: left;width: 80%;overflow: auto"></div> 
```

和

```
<iframe id="doc_list" name="doc_list" style="height: 500px;width: 98%;border: 0px"></iframe> 
```

并在左侧点击文件夹时`SRC`设置愿望页面。`IFRAME``DIV 1 pane`

```
document.getElementById("doc_list").src = "desire_page.php"; 
```

干杯!

# c++ - Qt5 删除文件路径的后缀

> ID：14907281
> 
> 赞同：1
> 
> 时间：2013-02-16T05:26:40.650
> 
> 标签：c++, qt5, chop, lastindexof

我试图找出 QString::lastIndexOf 和 QString::chop 来删除文件的后缀，所以我可以自己添加一个。但是，我得到了对我没有意义的奇怪输出。

这是我的测试代码：

```
QString filename = "C:/Users/Ir77/Desktop/a.png";
qDebug() << "Filename is " << filename;
QString y = '.';
int x = filename.lastIndexOf(y, -1);
qDebug() << "Last index of . is " << x;
filename.chop(x);
qDebug() << "filename is now " << filename; 
```

这是我从中得到的 qDebug() 信息：

```
Filename is  "C:/Users/Ir77/Desktop/a.png" 
Last index of . is  23 
filename is now  "C:/U" 
```

我试图让它最后删除“.png”。我不知道 23 是从哪里来的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T05:39:39.653

QString::chop() 删除字符串末尾的字符。“。” 是第 23 个（从 0 开始的）字符，但调用 Chop() 会删除 23 个字符并留下“C:/U”。

[http://doc.qt.digia.com/4.7-snapshot/qstring.html#chop](http://doc.qt.digia.com/4.7-snapshot/qstring.html#chop)

您是否考虑过使用 QFileInfo 以便它为您工作？( [http://qt-project.org/doc/qt-4.8/qfileinfo.html](http://qt-project.org/doc/qt-4.8/qfileinfo.html) ) 这会给你一堆方便的函数来获取路径、文件名的一部分等。

（我更熟悉 Qt 4.8，但我假设 Chop() 在 Qt 5.0 中没有改变。）

# vb.net - 用于测试 perfouse 的 VB.NET 和 MD5

> ID：14907284
> 
> 赞同：0
> 
> 时间：2013-02-16T05:26:54.160
> 
> 标签：vb.net, md5

我想获取字符串的 MD5 值。在stackoverflow中搜索并找到了答案。

代码：

```
Private Function GenerateHash(ByVal SourceText As String) As String
    Dim Ue As New UnicodeEncoding()
    Dim ByteSourceText() As Byte = Ue.GetBytes(SourceText)
    Dim Md5 As New MD5CryptoServiceProvider()
    Dim ByteHash() As Byte = Md5.ComputeHash(ByteSourceText)
    Return Convert.ToBase64String(ByteHash)
End Function 
```

但我需要普通的 MD5，而不是 base64 编码。**Return Convert.ToString(ByteHash)**对我没有帮助。所以需要你的指导。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T05:30:03.683

您所需要的只是将其`Byte[]`转换为`String`而不是`Base64`编码字符串

```
Return System.Text.Encoding.ASCII.GetString(ByteHash) 
```

固定功能：

```
Private Function GenerateHash(ByVal SourceText As String) As String
    Dim Ue As New UnicodeEncoding()
    Dim ByteSourceText() As Byte = Ue.GetBytes(SourceText)
    Dim Md5 As New MD5CryptoServiceProvider()
    Dim ByteHash() As Byte = Md5.ComputeHash(ByteSourceText)
    Return System.Text.Encoding.ASCII.GetString(ByteHash)
End Function 
```

# javascript - 选择除具有指定类的所有 html 元素

> ID：14907286
> 
> 赞同：0
> 
> 时间：2013-02-16T05:27:38.330
> 
> 标签：javascript, jquery, html

此代码将所有具有“a”类的 html 元素放入名为“items”的数组中。

```
var items = $('.a').get(); 
```

我必须写什么来做相反的事情？我的意思是，将除 .a 之外的所有 html 元素放入一个数组中？

下面的代码和几个变体都不起作用。

```
var items = !$('.a').get(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T05:30:11.487

```
$('body *:not(.a)') 
```

或者：

```
$('body *').not('.a') 
```

如果您还需要包含这些内容`<head></head>`，只需从选择器中删除主体即可。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T05:33:44.977

```
var items = $(':not(.a)').get(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T05:33:38.290

您可以执行以下操作：

```
$('*').not('.a') 
```

# r - 从数据框中提取每个主题的最后一行

> ID：14907288
> 
> 赞同：6
> 
> 时间：2013-02-16T05:27:47.307
> 
> 标签：r

我在 R 中有一个这样的数据框。我想提取每个主题的最后一次访问。

附属访问

```
 40161       3  
   40161       4  
   40161       5  
   40161       6  
   40161       9  
   40201       3  
   40202       6  
   40202       8  
   40241       3  
   40241       4 
```

所需的输出如下

附属访问

```
 40161     9  
   40201     3  
   40202     8 
```

我应该如何在 R 中做到这一点？非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-16T05:58:28.830

虽然 agstudy 是正确的，但 stats 包和聚合函数还有另一种方法。

```
df <- read.table(text="SUBJID VISIT
40161 3
40161 4
40161 5
40161 6
40161 9
40201 3
40202 6
40202 8
40241 3
40241 4", header=TRUE)

aggregate(VISIT ~ SUBJID, df, max)

  SUBJID VISIT
1  40161     9
2  40201     3
3  40202     8
4  40241     4 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-16T06:40:48.513

为了展示另一种选择，因为我喜欢它的简单语法，你也可以使用`data.table`。假设你`data.frame`被称为“df”：

```
library(data.table)
# data.table 1.8.7  For help type: help("data.table")
DT <- data.table(df, key = "SUBJID")
DT[, list(VISIT = max(VISIT)), by = key(DT)]
#    SUBJID V1
# 1:  40161  9
# 2:  40201  3
# 3:  40202  8
# 4:  40241  4 
```

而且，虽然我们分享了在 R 中执行此操作的多种方法，但如果您对 SQL 语法感到满意，您还可以使用`sqldf`如下方式：

```
library(sqldf)
sqldf("select SUBJID, max(VISIT) `VISIT` from df group by SUBJID")
  SUBJID VISIT
1  40161     9
2  40201     3
3  40202     8
4  40241     4 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-16T11:42:17.260

因为我们可以，另一个基本选项：

```
 do.call(rbind,
         lapply(split(dat, dat$SUBJID), 
                function(x) tail(x$VISIT, 1) ) )
#      [,1]
#40161    9
#40201    3
#40202    8
#40241    4 
```

* * *

**编辑**

正如@BenBolker 建议的那样：

```
 do.call(rbind,
             lapply(split(dat, dat$SUBJID), 
                    function(x) tail(x, 1) ) ) 
```

如果您有更多列，应该适用于所有列。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-16T05:36:43.190

以`plyr`包为例：

```
 ddply(dat,.(SUBJID),summarise,VISIT=tail(VISIT,1))
  SUBJID VISIT
1  40161     9
2  40201     3
3  40202     8
4  40241     4 
```

数据在哪里：

```
dat <- read.table(text ='SUBJID VISIT
40161 3
40161 4
40161 5
40161 6
40161 9
40201 3
40202 6
40202 8
40241 3
40241 4',head=T) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-16T13:58:38.797

这是一个简单的解决方案`diff`：

```
dat[c(diff(dat$SUBJID) != 0, TRUE), ]

   SUBJID VISIT
5   40161     9
6   40201     3
8   40202     8
10  40241     4 
```

也可以使用`by`：

```
do.call(rbind, by(dat, dat$SUBJID, tail, 1))

      SUBJID VISIT
40161  40161     9
40201  40201     3
40202  40202     8
40241  40241     4 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2019-06-13T17:13:59.280

它也可以使用`sqldf`包，库（sqldf）

```
sqldf("SELECT SUBJID, MAX(VISIT) From df GROUP BY by SUBJID")

  SUBJID VISIT
1  40161     9
2  40201     3
3  40202     8
4  40241     4 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-06-11T19:50:21.107

或者（使用@agstudy 的数据），

```
g <- grouping(df$SUBJID)
df[g[attr(g, "ends")],]

   SUBJID VISIT
5   40161     9
6   40201     3
8   40202     8
10  40241     4 
```

或使用 data.table

```
library(data.table)
unique(setDT(df), by="SUBJID", fromLast=TRUE)

   SUBJID VISIT
1:  40161     9
2:  40201     3
3:  40202     8
4:  40241     4 
```

# asp.net - 在 ASP .Net GridView 中可以有这种格式吗？

> ID：14907290
> 
> 赞同：0
> 
> 时间：2013-02-16T05:28:26.700
> 
> 标签：asp.net, gridview

我去过这个

## 姓名 | 年龄 | 性别 | 证件号码。

美国广播公司 | 24 | 中号 | 12312131

## 地址：3rd street（整排以上的colspan）

FDC | 26 | F | 1232131 地址：第四街

（参见[http://i46.tinypic.com/xymna.jpg](http://i46.tinypic.com/xymna.jpg)）在 GridView 中有一段时间，但没有找到为每条记录添加新行的方法（如转发器，但我想坚持使用 GridView 以使数据易于管理。

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T05:36:17.180

您需要改用 ListView 并使用其模板来实现您正在寻找的布局：

[ListView Web 服务器控件概述](http://msdn.microsoft.com/en-us/library/bb398790%28v=vs.100%29.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T06:09:27.490

您可以使用 gridview 模板来做到这一点，如下所示：

```
<asp:GridView ID=gView1 runat="server" BorderStyle="None" CellPadding="2"
    GridLines="None" PageSize="30" ShowHeader="False" AutoGenerateColumns=False>
<columns>
<asp:boundfield DataField=name></asp:boundfield>
<asp:TemplateField><ItemTemplate>&nbsp;|&nbsp;</ItemTemplate></asp:TemplateField>
<asp:boundfield DataField=age></asp:boundfield>
<asp:TemplateField><ItemTemplate>&nbsp;|&nbsp;</ItemTemplate></asp:TemplateField>
<asp:boundfield DataField=sex></asp:boundfield>
<asp:TemplateField><ItemTemplate>&nbsp;|&nbsp;</ItemTemplate></asp:TemplateField>
<asp:boundfield DataField=id></asp:boundfield>
</columns>
</asp:GridView> 
```

# c# - 解释 C# 中的 yield 关键字

> ID：14907291
> 
> 赞同：0
> 
> 时间：2013-02-16T05:28:34.547
> 
> 标签：c#

你能解释一下'yield'关键字在Enumerable方面是如何工作的吗？例如。我不明白下面程序的代码如何返回 IEnumerable 类型的对象：

```
class Program
    {
        static IEnumerable<T> Merge<T>(IEnumerable<T> left, IEnumerable<T> right)
            where T: IComparable<T>
        {
            IEnumerator<T> l = left.GetEnumerator();
            IEnumerator<T> r = right.GetEnumerator();

            bool l_has_data = l.MoveNext();
            bool r_has_data = r.MoveNext();

            while (l_has_data || r_has_data)
            {
                if (!l_has_data && r_has_data)
                {
                    yield return r.Current;
                    r_has_data = r.MoveNext();
                    continue;
                }
                if (!r_has_data && l_has_data)
                {
                    yield return l.Current;
                    l_has_data = l.MoveNext();
                    continue;
                }

                int comp = l.Current.CompareTo(r.Current);
                if (comp < 0)
                {
                    yield return l.Current;
                    l_has_data = l.MoveNext();
                }
                else if (comp > 0)
                {
                    yield return r.Current;
                    r_has_data = r.MoveNext();
                }
                else
                {
                    yield return l.Current;
                    yield return r.Current;
                    l_has_data = l.MoveNext();
                    r_has_data = r.MoveNext();
                }
            }
        } 
```

如果我将鼠标悬停在“.Current”上，它会告诉我这“获取枚举器当前位置的元素”。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T05:43:32.727

什么 MSDN 天：

> yield 关键字向编译器发出信号，表明它出现的方法是一个迭代器块。编译器生成一个类来实现迭代器块中表达的行为。在迭代器块中，yield 关键字与 return 关键字一起使用，为枚举器对象提供值。例如，这是在 foreach 语句的每个循环中返回的值。

* * *

简单来说：

`yield return`返回 a`Collection of Object`而不是返回 a`single object`

```
 static void Main(string[] args)
    {

        int[] numbers = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};

        // supposed u need to find all the numbers which are greater then 5
        // in general it could have been done like

        foreach (int number in numbers)
        {
            if (number > 5)
            {
                Console.WriteLine(number);
            }

        }

        // what if u needed the numbers that are greater then 5 multiple times, each time you would have to start a loop
        // yield return helps to return a collection of int
        var needed_numbers = NeededNumbers(numbers);

        foreach (int neededNumber in needed_numbers)
        {
            Console.WriteLine(neededNumber);
        }
    }

    private static IEnumerable<int> NeededNumbers(int[] nums)
    {
        foreach (int number in nums)
        {
            if (number > 5)
            {
                yield return number;
            }

        }
    } 
```

* * *

引自 DotNetPerls

> yield return 语句在语义上等价于 return 语句（将控制流传递给调用方法），然后在 foreach 循环的下一次迭代中对 yield 语句进行“goto”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-01-02T14:39:12.840

来自 MS [Docs](https://docs.microsoft.com/cs-cz/dotnet/csharp/language-reference/keywords/yield)：

> 在语句中使用 yield 上下文关键字时，表明它出现的方法、运算符或 get 访问器是迭代器。当您为自定义集合类型实现 IEnumerable 和 IEnumerator 模式时，使用 yield 定义迭代器无需显式的额外类（保存枚举状态的类，请参见 IEnumerator 示例）。

# javascript - 在游戏地图上创建非均匀空间

> ID：14907292
> 
> 赞同：0
> 
> 时间：2013-02-16T05:28:50.507
> 
> 标签：javascript, html5-canvas, voronoi

我需要有关创建游戏地图的建议。我需要在地图上创建 1400 个空间。我想象每个空间将是 10 种不同尺寸中的一种——例如，它们将是 10 个“size-10”，40 个“size-9”等，最小的有几百个-sizes（这是数据驱动的）。中心也会有一个中性空间（可能比其他所有空间都大一点）。我想将这些区域随机放置在游戏空间上，但它们之间不应有重叠，也不应有空间。总空间是否为矩形并不重要。我真的很喜欢[这种努力](http://www-cs-students.stanford.edu/~amitp/game-programming/polygon-map-generation/)，虽然它非常不符合我的要求，但它让我研究了 voronoi tesselations 并找到了一个[javascript 实现](http://philogb.github.com/blog/2010/02/12/voronoi-tessellation/)我有点理解，但是我看到的所有示例都使用随机点作为原点，并且我正在寻找如上所述的更自定义的结果，所以这可能不是要走的路。--- 无论如何，我愿意接受任何建议。请注意，我是一名设计师而不是一名编码员，但我正在编写自己的原型，所以任何建议都值得赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T10:56:39.583

如果我理解正确，您想要实现的是所谓的路径定向细分树或[四叉树](http://en.wikipedia.org/wiki/Quadtree)。该算法的特点是将一个矩形二维空间递归地划分为四个更小的部分，称为象限或四边形。这些区域可以是正方形或矩形，或者可以具有任意形状。

如果您需要一个真实的示例来研究代码，您可以将这个实验在 Actionscript 中创建作为起点，但这也可以很好地翻译成 Javascript：[http ://wonderfl.net/c/fLVs](http://wonderfl.net/c/fLVs)

另一种可能性是手动选择控制点的[Delaunay 三角剖分](http://en.wikipedia.org/wiki/Delaunay_triangulation)，因为如果理解正确，您不想随机分散这些点。也许这个链接会有所帮助： http: [//neoformix.com/2012/DelaunayImages2.html](http://neoformix.com/2012/DelaunayImages2.html)

我希望这些有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T05:36:00.047

如果我理解正确，这似乎类似于[背包问题。](http://en.wikipedia.org/wiki/Knapsack_problem)但是，您不是在优化，而是在寻找一个单一的解决方案。这实际上是一个很难尝试和解决的问题，无论是在时间复杂度方面，还是在让一些合理的事情（即在合理的时间内完成）工作方面。[这](http://rjlipton.wordpress.com/2010/02/05/a-2010-algorithm-for-the-knapsack-problem/)是一篇关于它的有趣帖子（尽管他处理优化问题）——只需一点工作，你就可以提供一个足够好的算法。

# haskell - 在 Haskell 中将 (CurlCode, String) 更改为 String

> ID：14907294
> 
> 赞同：2
> 
> 时间：2013-02-16T05:29:50.033
> 
> 标签：haskell

我正在尝试创建一个简单的 haskell 程序，该程序从网络服务器获取 JSON 字符串并对其进行解析。

我正在使用 Network.Curl 的 curlGetString 方法。

此方法具有以下类型签名

```
curlGetString :: URLString -> [CurlOption] -> IO (CurlCode, String) 
```

我的问题是：如何将输出从 (CurlCode, String) 转换为 String？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T05:32:56.773

响应体只是元组的第二个元素。`curlGetString`首先在`IO`monad中绑定结果，然后使用[`snd`](http://hackage.haskell.org/packages/archive/base/latest/doc/html/Prelude.html#v%3asnd)或者更好的模式匹配：

```
main = do
  (code, body) <- curlGetString "http://foo.example.com/" [...]
  case code of
    CurlOK -> putStr body
    _ -> putStrLn $ "Error: " ++ show code 
```

不要忘记，您可以使用[Hoogle 搜索](http://www.haskell.org/hoogle/?hoogle=%28a%2C+b%29+-%3E+b)按类型查找函数。

# c# - 在不同的触发器中使用条件

> ID：14907300
> 
> 赞同：1
> 
> 时间：2013-02-16T05:30:25.653
> 
> 标签：c#

我在试图找出更多关于如何键入一组代码并在 CS 文件的其他部分引用它时遇到了很多困难。

例如，我有一个带有标签的简单“switch 语句”。我不想将其输入 2 或 3 次，而是希望能够调用它。下面是我想要做的事情的快速说明。

```
//Begin Reuseable Codes
string title;
switch (Request.QueryString["parameter"]){
 case "first":
       title = "123";
       break;
 case "two":
       title = "ABC";
       break;
}
lblDDSubject.Text = "My message" + title
//End Reuseable Codes

protected void Page_Load(object sender, EventArgs e)
{
    call the above reusable codes;
}

protected void something_SelectedIndexChanged(object sender, EventArgs e)
{
    call the above reusable codes here also;
] 
```

既然我是一个超级菜鸟，助手可以以不那么抽象的方式回应吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T05:53:31.717

如果您总是使用标签，您甚至可以使用以下内容扩展其他答案，您甚至可以根据需要替换开关盒，尽管我认为您不需要这样的东西。

```
 public static void Reusable(HttpRequest httpRequest, string parameter, Label label)
    {
        string title = "";
        switch (httpRequest.QueryString[parameter])
        {
            case "first":
                title = "123";
                break;
            case "two":
                title = "ABC";
                break;
        }
        label.Text = "My message" + title;
    } 
```

并这样称呼它：

```
 Reusable(Request, "parameter", lblDDSubject); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T05:39:33.063

您可以将可重用代码放在方法中并让它返回标题。

```
private string GetTitle(HttpRequest Request)
{
  string title;

  switch (Request.QueryString["parameter"]){
   case "first":
       title = "123";
       break;
   case "two":
       title = "ABC";
       break;
   }
   return title;
} 
```

然后从您的 Page_Load 方法中调用它

```
string title = GetTitle(this.Request); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-16T05:39:56.090

方法就是为了这些目的。您在方法中编写代码

```
private string DoSomething()
{
    string title;
    switch (Request.QueryString["parameter"]){
     case "first":
           title = "123";
           break;
     case "two":
           title = "ABC";
           break;

    return "My message" + title;
} 
```

然后像下面这样调用这个方法：

```
protected void Page_Load(object sender, EventArgs e)
{
    lblDDSubject.Text = DoSomething();
}

protected void something_SelectedIndexChanged(object sender, EventArgs e)
{
    lblDDSubject.Text = DoSomething();
] 
```

看看[这个](http://msdn.microsoft.com/en-us/library/ms173114%28v=vs.80%29.aspx)帖子。

# java - JRE 检测到的致命错误 - EXCEPTION_ACCESS_VIOLATION

> ID：14907301
> 
> 赞同：0
> 
> 时间：2013-02-16T05:31:05.597
> 
> 标签：java, dll

从我的 Java 程序访问 DLL 时出现以下错误：

```
# #A fatal error has been detected by the Java Runtime Environment:

#  #EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x6d9df04a, pid=3696, tid=3244

# #JRE version: 7.0-b147
# #Java VM: Java HotSpot(TM) Client VM (21.0-b17 mixed mode, sharing windows-x86 )
# # Problematic frame:
# # V  [jvm.dll+0x9f04a]

# #Failed to write core dump. Minidumps are not enabled by default on client versions of Windows 
```

请建议我一些解决方案来解决这个问题。谢谢。

# html - Bootstrap：django下导航栏中的间距

> ID：14907309
> 
> 赞同：0
> 
> 时间：2013-02-16T05:32:55.843
> 
> 标签：html, django, twitter-bootstrap, navbar

我正在尝试在 Bootstrap 中做一个导航栏：

```
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
                <ul class="nav">
                    <li class="navbar-text">
                        {{ object }}
                    </li>
                    <li></li>
                    <li class="navbar-text">
                        {{ object2 }}
                    </li>
                    <li></li>
                    <li class="navbar-text">
                        {{ object3 }}
                    </li>
                    <li></li>
                    <li class="navbar-text">
                        {{ object4 }}
                    </li>
                </ul>
    </div>
</div> 
```

但是当它渲染时，它会将导航栏中的所有对象相互推挤。我如何强制它们之间的间距？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T05:49:06.903

```
.navbar .nav > li > a {
color: #777777;
float: none;
padding: 10px 15px;/* this the one which enforces space between each link*/
text-decoration: none;
text-shadow: 0 1px 0 #FFFFFF;
} 
```

请检查我给你的上面的代码..引导 css 必须让这些行检查它们以查看它们是否被更改。

或者您可以在所有引导 css 文件之后创建一个新样式表，并覆盖任何其他影响相同的 css 规则。

关于缩进

```
 .navbar .nav > li > a:hover
     {
    text-indent:100px;
    } 
```

# ruby-on-rails - 如何捕捉 media_wiki gem 的“missingtitle”错误

> ID：14907316
> 
> 赞同：0
> 
> 时间：2013-02-16T05:33:56.070
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, rubygems, mediawiki

我正在使用 Rails 框架。我正在使用“media_wiki”宝石。我希望捕捉到“缺少标题”错误。见下文

```
mw = MediaWiki::Gateway.new('http://en.wikipedia.org/w/api.php/')
wiki_content = mw.render('msadb') 
```

它导致了一个错误

```
MediaWiki::APIError: MediaWiki::APIError: API error: code 'missingtitle', info 'The page you specified doesn't exist'
from /home/papri/.rvm/gems/ruby-1.9.3-p194/gems/mediawiki-gateway-0.5.0/lib/media_wiki/gateway.rb:711:in `get_response'
from /home/papri/.rvm/gems/ruby-1.9.3-p194/gems/mediawiki-gateway-0.5.0/lib/media_wiki/gateway.rb:669:in `block in make_api_request'
from /home/papri/.rvm/gems/ruby-1.9.3-p194/gems/rest-client-1.6.7/lib/restclient/request.rb:228:in `call'
from /home/papri/.rvm/gems/ruby-1.9.3-p194/gems/rest-client-1.6.7/lib/restclient/request.rb:228:in `process_result'
from /home/papri/.rvm/gems/ruby-1.9.3-p194/gems/rest-client-1.6.7/lib/restclient/request.rb:178:in `block in transmit'
from /home/papri/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/net/http.rb:745:in `start'
from /home/papri/.rvm/gems/ruby-1.9.3-p194/gems/rest-client-1.6.7/lib/restclient/request.rb:172:in `transmit'
from /home/papri/.rvm/gems/ruby-1.9.3-p194/gems/rest-client-1.6.7/lib/restclient/request.rb:64:in `execute'
from /home/papri/.rvm/gems/ruby-1.9.3-p194/gems/rest-client-1.6.7/lib/restclient/request.rb:33:in `execute'
from /home/papri/.rvm/gems/ruby-1.9.3-p194/gems/rest-client-1.6.7/lib/restclient.rb:72:in `post'
from /home/papri/.rvm/gems/ruby-1.9.3-p194/gems/mediawiki-gateway-0.5.0/lib/media_wiki/gateway.rb:692:in `http_send'
from /home/papri/.rvm/gems/ruby-1.9.3-p194/gems/mediawiki-gateway-0.5.0/lib/media_wiki/gateway.rb:661:in `make_api_request'
from /home/papri/.rvm/gems/ruby-1.9.3-p194/gems/mediawiki-gateway-0.5.0/lib/media_wiki/gateway.rb:106:in `render'
from (irb):18
from /home/papri/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.6/lib/rails/commands/console.rb:47:in `start'
from /home/papri/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.6/lib/rails/commands/console.rb:8:in `start'
from /home/papri/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.6/lib/rails/commands.rb:41:in `<top (required)>'
from script/rails:6:in `require' 
```

当我尝试使用**救援开始循环**来捕捉这个错误时，它没有用。

```
mw = MediaWiki::Gateway.new('http://en.wikipedia.org/w/api.php/')
begin
wiki_content = mw.render('msadb')
rescue
print "This is a missing title error"
end 
```

输出与之前的错误相同。Rescue begin 无法捕获此错误。我应该如何捕捉这个错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:22:03.140

`MediaWiki::APIError`不是`StandardError`后代，这就是默认`rescue`语句不捕获它的原因（[请参阅](http://rubylearning.com/satishtalim/ruby_exceptions.html)：“如果您编写没有参数列表的救援子句，则参数默认为 StandardError。”）

因此，您需要`MediaWiki::APIError`在救援子句中明确指定：

```
mw = MediaWiki::Gateway.new('http://en.wikipedia.org/w/api.php/')
begin
  wiki_content = mw.render('msadb')
rescue MediaWiki::APIError => e
  print "This is a missing title error"
end

# ⇒ This is a missing title error => nil 
```

# php - 我的 symfony2 控制器没有重定向

> ID：14907319
> 
> 赞同：0
> 
> 时间：2013-02-16T05:34:11.893
> 
> 标签：php, symfony, symfony-2.1

我创建了一个默认控制器，如下所示

```
namespace Mytest\VameBundle\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\Controller;
use Symfony\Component\HttpFoundation\Response;

class DefaultController extends Controller
{
public function indexAction()
{
    return $this->redirect($this->generateUrl('home'));
}

public function myactionAction($name)
{
    return new Response('<html><body>'.$name.'</body></html>');
} 
```

}

路由文件如下所示。

```
use Symfony\Component\Routing\RouteCollection;
use Symfony\Component\Routing\Route;

$collection = new RouteCollection();

$collection->add('name', new Route('/vame',array(
    '_controller' => 'MytestVameBundle:Default:index',
    )));

$collection->add('home', new Route('/vame/{name}',array(
    '_controller' => 'MytestVameBundle:Default:myaction',
    'name' => 'hhhhhhhhhh', 
```

）））；

```
return $collection; 
```

它显示以下错误

**页面未正确重定向**

我想要做的是，一旦使用索引操作调用默认控制器，它将使用一个参数重定向到 myaction 操作。

所以请任何帮助...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-16T06:36:27.253

您的应用程序以永远不会完成的方式重定向请求。所以你有某种重定向循环。

看来你的代码没问题。但是，您不应该在路由文件中硬编码参数，而是像这样

```
$this->redirect($this->generateUrl('home', array('name' => 'test'))); 
```

你有更多的路由定义吗？也许他们互相干扰。可以发一下你的日志吗？

# java - 如何在 Cloude 9 (c9) IDE 中设置 PATH 环境变量和/或运行需要 Java 的 npm 模块

> ID：14907326
> 
> 赞同：0
> 
> 时间：2013-02-16T05:35:29.887
> 
> 标签：java, javascript, node.js, gruntjs, cloud9-ide

由于各种原因（以及最近的背部受伤），我需要一台“超轻”笔记本电脑。我选择了最近最畅销的[三星 Chromebook](https://rads.stackoverflow.com/amzn/click/com/B009LL9VDG)，实际上我可以完成很多真正的工作。

我将我的一个[项目（非常 alpha）](https://c9.io/somecallmechief/ojs)移植到[Cloud9](http://c9.io)，其服务非常出色（非常非常好）。因为 c9 正在为您定义的每个工作区有效地在 NodeJs 上运行 NodeJs：我可以运行我的所有 Node 任务；我可以在 c9 中咕噜咕噜；几乎我可以在“完整”操作系统上做的任何事情，我都可以在 c9 中做。

依赖于 Java 的任务除外。特别是对于 Grunt，有一些任务我无法运行，因为找不到 Java 的环境变量：

```
JAVA_HOME is no set, but java is required by jsdoc to run. 
```

不用管语法，可以通过打开 c9 的正确终端来运行 jsdoc（或闭包编译器等）：

```
somecallmechief@ojs:~/406658 (master) $ which java                                                                                                                                                            
    /usr/bin/java 
```

对Java了如指掌。我什至可以导出路径并在终端中运行我的 Grunt 任务——但只能在这个终端实例中。

鉴于 Java 显然是我的虚拟工作空间的一部分，是否可以将 JAVA_HOME 环境变量定义为常量/持久值？如果是这样，怎么办？

感谢收听

*   不，`npm install java`不是答案

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T01:35:53.863

看起来 Cloud9 正在自己解决这个问题。[根据他们最新的博客文章](https://c9.io/site/blog/2013/03/the-changelog-of-march-stability-performance-features/)，以前的“控制台”已不复存在。相反，您可以直接使用终端，因为它是一个完全成熟、完全可配置的 bash 终端——这就是您所需要的。

# c# - 如何转换函数 表达 >

> ID：14907327
> 
> 赞同：9
> 
> 时间：2013-02-16T05:35:29.237
> 
> 标签：c#, linq, c#-4.0, lambda, expression-trees

我有一个这样的函数：

```
 Func<MyClass, bool> func = x=>Id == 5; 
```

我如何将其转换为：

```
 Expression<Func<MyClass, bool>> 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-18T11:51:23.763

你可以写：

```
Expression<Func<MyClass,bool>> expr = x=>Id == 5; 
```

这将设置`expr`为 的表达式树`Id == 5`。

如果你这样做：

```
Func<MyClass, bool> func = x=>Id == 5;
Expression<Func<MyClass, bool>> expr = mc => func(mc); 
```

然后这将设置`expr`为调用`func`的表达式树，而不是主体的表达式树`func`。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-16T05:48:10.270

试试这个：

```
Func<MyClass, bool> func = x=>Id == 5;
Expression<Func<MyClass, bool>> expr = mc => func(mc); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-16T14:23:39.777

您可以创建一个表达式来表示对您创建的委托的调用。但大多数时候，当您使用`Expression`s 时，您这样做是为了了解代码的作用（例如，将其转换为 SQL）。而且你不能用一个表达式来调用一个不透明的函数。

# api - 如何在不使用已弃用 API 的情况下将图像上传到某个 Picasa 网络相册？

> ID：14907330
> 
> 赞同：0
> 
> 时间：2013-02-16T05:35:45.027
> 
> 标签：api, picasa

它在[https://developers.google.com/picasa/](https://developers.google.com/picasa/)上说 API 已被弃用。有没有办法将图片上传到指定相册并获取上传图片的URL？

我没有指定语言的原因是因为我正在寻找可以用大多数语言完成的解决方案。如果您要我选择一个特定的，我可能会选择 AS3。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T05:37:19.877

Picasa 本身似乎是一个垂死的产品，因为 Google+ 正在接管越来越多的人。因此，您最好的选择就是使用 Google+，如果不可能，请使用已弃用的 API。

# java - 如何解决 FileNotFoundException incase HttpURLConnection

> ID：14907332
> 
> 赞同：0
> 
> 时间：2013-02-16T05:36:01.000
> 
> 标签：java, httpurlconnection

我有一个应用程序，我通过 POST 方法发送短信，该方法工作正常，但有时会出现 FileNotFound 异常。请任何人告诉我什么问题。

下面是我的代码。谢谢

```
 public static String sendSMS(String data, String url1) {
            URL url;

            String status = "Somthing wrong ";
            try {
                url = new URL(url1); 
                HttpURLConnection connection = (HttpURLConnection) url.openConnection();           
                connection.setDoOutput(true);
                connection.setDoInput(true);
                connection.setInstanceFollowRedirects(false); 
                connection.setRequestMethod("POST"); 
                connection.setRequestProperty("Content-Type", "application/x-www-form-urlencoded"); 
                connection.setRequestProperty("charset", "utf-8");
                connection.setRequestProperty("Content-Length", "" + Integer.toString(data.getBytes().length));
                connection.setUseCaches (false);

                DataOutputStream wr = new DataOutputStream(connection.getOutputStream ());
                wr.writeBytes(data);
                wr.flush();
                wr.close();
                connection.disconnect();

                // Get the response
                try {
                    BufferedReader rd = new BufferedReader(new InputStreamReader(connection.getInputStream()));
                    String s;
                    while ((s = rd.readLine()) != null) {
                        status = s;
                    }
                    rd.close();
                } catch (FileNotFoundException e) {
                    e.printStackTrace();
                }

            } catch (MalformedURLException e) {
                status = "MalformedURLException Exception in sendSMS";
                e.printStackTrace();
            } catch (IOException e) {
                status = "IO Exception in sendSMS";
                e.printStackTrace();
            }

            return status;
        } 
```

我得到的错误

> java.io.FileNotFoundException: http://.... 在 sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1401)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T05:41:30.520

您在读取输入流之前断开了连接。移动这行代码：

```
connection.disconnect(); 
```

在您阅读响应流***之后。***

# iphone - 如何在所有旧 iphone 设备上运行 ios 6 (iPhone 5) 应用程序？

> ID：14907333
> 
> 赞同：0
> 
> 时间：2013-02-16T05:36:06.650
> 
> 标签：iphone, ios, ios6

我在 IOS 6.0 模拟器中开发了一个 iPhone 应用程序，它在 iPhone 5（Retina 4）上运行良好。但它不适用于旧 iPhone 设备。我想要一些我必须做的解决方案？我是否必须为此编写一些代码，以便为每个设备运行舒适。最后的结论是，我希望我在 ios 6.0 中为 iPhone 5 开发的 iPhone APP 也必须在所有旧 iPhone 设备上运行......请提供一些链接或任何教程或任何示例，以便我可以轻松地做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:22:03.593

首先，您必须确定您是否真的关心那些旧设备。iOS 4.x 及更低版本设备的市场份额目前可能不到 5%（[来源](http://david-smith.org/iosversionstats/)，尽管他只跟踪 iOS 4.x 及更高版本）。

如果这是旧设备上的性能问题，那么您可能必须为它们关闭更高级的功能（例如，降低 3D 应用程序的复杂性，使用更少的动画和缓存，使用较低分辨率的资源等）。如果这是与早期操作系统版本的兼容性问题，您将不得不在开发中针对较低的 iOS 版本。

如果您必须使用 iOS 5 及更高版本的功能，那么您最好放弃对旧设备的支持（这是 Apple 在很大程度上鼓励的方式，尤其是对于新应用程序）。它还将降低您的开发成本，只关注较新的平台，尽管您必须注意权衡。

# java - Stackoverflow 与 Quicksort Java 实现

> ID：14907334
> 
> 赞同：6
> 
> 时间：2013-02-16T05:36:14.290
> 
> 标签：java, algorithm, sorting, stack-overflow, quicksort

在 java 中实现快速排序时遇到一些问题。运行此程序时出现 stackoverflow 错误，我不确定为什么。如果有人能指出错误，那就太好了。

si 是起始索引。ei 是结束索引。

```
public static void qsort(int[] a, int si, int ei){

    //base case
    if(ei<=si || si>=ei){}

    else{ 
        int pivot = a[si]; 
        int length = ei - si + 1; 
        int i = si+1; int tmp; 

        //partition array 
        for(int j = si+1; j<length; j++){
            if(pivot > a[j]){
                tmp = a[j]; 
                a[j] = a[i]; 
                a[i] = tmp; 

                i++; 
            }
        }

        //put pivot in right position
        a[si] = a[i-1]; 
        a[i-1] = pivot; 

        //call qsort on right and left sides of pivot
        qsort(a, 0, i-2); 
        qsort(a, i, a.length-1); 
    }
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-16T15:21:14.097

首先，您应该按照 Keith 的建议修复 qsort 递归调用的边界，否则您总是会一遍又一遍地对整个数组进行排序。您必须调整分区循环： j 是一个索引，从子数组的开头到它的结尾（包括最后一个元素）。所以你必须从 si + 1 循环到 ei（包括 ei）。

所以这是更正后的代码。我运行了一些测试用例，它似乎排序得很好。

```
 public static void qsort(int[] a, int si, int ei){
    //base case
    if(ei<=si || si>=ei){}

    else{ 
        int pivot = a[si]; 
        int i = si+1; int tmp; 

        //partition array 
        for(int j = si+1; j<= ei; j++){
            if(pivot > a[j]){
                tmp = a[j]; 
                a[j] = a[i]; 
                a[i] = tmp; 

                i++; 
            }
        }

        //put pivot in right position
        a[si] = a[i-1]; 
        a[i-1] = pivot; 

        //call qsort on right and left sides of pivot
        qsort(a, si, i-2); 
        qsort(a, i, ei); 
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-10-21T17:17:12.833

```
int partition(int array[], int too_big_index, int too_small_index)
{
     int x = array[too_big_index];
     int i = too_big_index;
     int j = too_small_index;
     int temp;
     do
     {                 
         while (x <array[j])
        {
              j --;
        } 
         while (x >array[i])
         {
              i++;
         } 
          if (i < j)
         { 
                 temp = array[i];    
                 array[i] = array[j];
                 array[j] = temp;
         }
     }while (i < j);     
     return j;           // middle  
}

void QuickSort(int num[], int too_big_index, int too_small_index)
{
      // too_big_index =  beginning of array
      // too_small_index = end of array

     int middle;
     if (too_big_index < too_small_index)
    {
          middle = partition(num, too_big_index, too_small_index);
          QuickSort(num, too_big_index, middle);   // sort first section
          QuickSort(num, middle+1, too_small_index);    // sort second section
     }
     return;
}

void main()
{
    int arr[]={8,7,13,2,5,19,1,40,12,34};

    QuickSort(arr,0,9);
    for(int i=0;i<10;i++)
         System.out.println(arr[i]);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T05:51:53.373

您可能手上有一个无限递归错误。从我的快速浏览中不确定，但是...

即使你不这样做，你仍然会在这个实现中使用*大量*的堆栈。足以导致堆栈溢出。如果你用已经排序的 100 万个项目调用它会发生什么？您将它们划分为 1 和 999,999 项，然后递归。因此，您需要 100 万个堆栈帧才能完成这项工作。

有很多方法可以解决这个问题，包括递归两个范围中较小的一个并迭代两个范围中的较大者，或者在堆数据结构中自己实现堆栈等。不过，您可能希望做得更好，因为深堆栈也意味着您正在超越 O(n lg n) 排序界限。

ps错误在这里：

```
qsort(a, 0, i-2); 
qsort(a, i, a.length-1); 
```

应该

```
qsort(a, si, i-2);
qsort(a, i, ei); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-03-30T06:28:38.233

```
import java.util.Arrays;

public class QuickSort {

    public static int pivot(int[] a, int lo, int hi){
        int mid = (lo+hi)/2;
        int pivot = a[lo] + a[hi] + a[mid] - Math.min(Math.min(a[lo], a[hi]), a[mid]) - Math.max(Math.max(a[lo], a[hi]), a[mid]);

        if(pivot == a[lo])
            return lo;
        else if(pivot == a[hi])
            return hi;
        return mid;
    }

    public static int partition(int[] a, int lo, int hi){

        int k = pivot(a, lo, hi);
        //System.out.println(k);
        swap(a, lo, k);
        //System.out.println(a);
        int j = hi + 1;
        int i = lo;
        while(true){

            while(a[lo] < a[--j])
                if(j==lo)   break;

            while(a[++i] < a[lo])
                if(i==hi) break;

            if(i >= j)  break;
            swap(a, i, j);
        }
        swap(a, lo, j);
        return j;
    }

    public static void sort(int[] a, int lo, int hi){
        if(hi<=lo)  return;
        int p = partition(a, lo, hi);
        sort(a, lo, p-1);
        sort(a, p+1, hi);
    }

    public static void swap(int[] a, int b, int c){
        int swap = a[b];
        a[b] = a[c];
        a[c] = swap;
    }

    public static void sort(int[] a){
        sort(a, 0, a.length - 1);
        System.out.print(Arrays.toString(a));
    }

    public static void main(String[] args) {
        int[] arr = {5,8,6,4,2,9,7,5,9,4,7,6,2,8,7,5,6};
        sort(arr);
    }
} 
```

尝试这个。它肯定会起作用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-18T12:36:18.917

你可以试试这个：

```
public void sort(int[] A) {
        if (A == null || A.length == 0)
            return;
        quicksort(A, 0, A.length - 1);
    }

    public void quicksort(int[] A, int left, int right) {
        int pivot = A[left + (right - left) / 2];
        int i = left;
        int j = right;
        while (i <= j) {
            while (A[i] < pivot) {
                i++;
            }
            while (A[j] > pivot) {
                j--;
            }
            if (i <= j) {
                exchange(i, j);
                i++;
                j--;
            }
        }

        if(left < j)
            quicksort(A,left,j);
        if(i < right)
            quicksort(A,i,right);
    }

    public void exchange(int i, int j){
        int temp=A[i];
        A[i]=A[j];
        A[j]=temp;
    }

    public String toString() {
        String s = "";
        s += "[" + A[0];
        for (int i = 1; i < A.length; i++) {
            s += ", " + A[i];
        }
        s += "]";
        return s;
    } 
```

来源：[代码 2 学习：快速排序算法教程](http://www.code2learn.com/2013/02/quick-sort-algorithm-tutorial.html)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-04-13T00:20:26.247

//刚刚为此实现了测试器类，它会工作

public int[] sort(int[] A, int from, int to ){

```
if(from<to){
    int pivot=partition(A,from,to);
    if(pivot>1)
        sort(A,from, pivot-1);

    if(pivot+1<to)
        sort(A, pivot+1, to);

}

return array; 
```

}

public int partition(int A[ ], int from, int to){

```
while(from < to){
    int pivot=A[from];

    while(A[from]<pivot)
        from++;

    while(A[to]>pivot)
        to--;

    if(from<to)   
        swap(A,to,from);

}
    return to;
}

private void swap(int A[], int i, int j){
    int temp = A[i];
    A[i] = A[j];
    A[j] = temp;} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-03-16T18:50:17.210

这应该很到位。[下面带有此图像的代码更有意义。](https://i.stack.imgur.com/HdtTV.png)

```
public void quickSort(long[] a){

  int startingIndex = 0;
  int endingIndex = a.length - 1;
  qsort(a, startingIndex, endingIndex);

}

private void qsort(long[] a, int startingIndex, int endingIndex){

  if (startingIndex < endingIndex){
    int middleIndex = partition(a, startingIndex, endingIndex);
    qsort(a, startingIndex, middleIndex-1);
    qsort(a, middleIndex+1, endingIndex);
  }

}

private int partition(long[] a, int startingIndex, int endingIndex){
  long pivot = a[endingIndex];
  int endWall = endingIndex;
  int wall = 0;

  while (wall < endWall){

    if (a[wall] < pivot){
      wall++;
    }
    else {
      a[endWall] = a[wall];
      a[wall] = a[endWall - 1];
      a[endWall - 1] = pivot;
      endWall--;
    }
  }
  return wall;
} 
```

享受！

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-07-10T00:46:36.860

```
public class MyQuickSort {

    private int array[];
    private int length;

    public void sort(int[] inputArr) {

        if (inputArr == null || inputArr.length == 0) {
            return;
        }
        this.array = inputArr;
        length = inputArr.length;
        quickSort(0, length - 1);
    }

    private void quickSort(int lowerIndex, int higherIndex) {

        int i = lowerIndex;
        int j = higherIndex;
        // calculate pivot number, I am taking pivot as middle index number
        int pivot = array[lowerIndex+(higherIndex-lowerIndex)/2];
        // Divide into two arrays
        while (i <= j) {
            /**
             * In each iteration, we will identify a number from left side which 
             * is greater then the pivot value, and also we will identify a number 
             * from right side which is less then the pivot value. Once the search 
             * is done, then we exchange both numbers.
             */
            while (array[i] < pivot) {
                i++;
            }
            while (array[j] > pivot) {
                j--;
            }
            if (i <= j) {
                exchangeNumbers(i, j);
                //move index to next position on both sides
                i++;
                j--;
            }
        }
        // call quickSort() method recursively
        if (lowerIndex < j)
            quickSort(lowerIndex, j);
        if (i < higherIndex)
            quickSort(i, higherIndex);
    }

    private void exchangeNumbers(int i, int j) {
        int temp = array[i];
        array[i] = array[j];
        array[j] = temp;
    }

    public static void main(String a[]){

        MyQuickSort sorter = new MyQuickSort();
        int[] input = {24,2,45,20,56,75,2,56,99,53,12};
        sorter.sort(input);
        for(int i:input){
            System.out.print(i);
            System.out.print(" ");
        }
    }
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-05-14T09:31:03.997

```
// the partition function
public static int Sort(int arr[], int start, int end)
{
    int pivot = arr[end];
    int pIndex = start;
    for(int i = start; i< end;i++)
    {
        if(arr[i] <= pivot)
        {
            int temp = arr[i];
            arr[i] = arr[pIndex];
            arr[pIndex] = temp;
            pIndex++;
        }
    }
    int temp = arr[pIndex];
    arr[pIndex] = pivot;
    arr[end] = temp;
    return pIndex;
}
public static void quickSort(int arr[],int start,int end)
{
    if(start>=end)
        return;
    // finding the pivot element
    int pivot = Sort(arr,start,end);
    quickSort(arr,start,pivot-1);
    quickSort(arr,pivot+1,end);

} 
```

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2014-07-24T08:44:53.170

快速排序对恰好按正确顺序的输入稍微敏感，在这种情况下它可以跳过一些交换。Mergesort 没有任何此类优化，这也使得 Quicksort 与 Mergesort 相比要快一些。

[为什么快速排序优于合并排序](http://newtechnobuzzz.blogspot.in/2014/07/why-quicksort-is-better-than-mergesort.html)

# xcode4 - Xcode 错误：架构 x86_64 的未定义符号

> ID：14907335
> 
> 赞同：0
> 
> 时间：2013-02-16T05:36:15.403
> 
> 标签：xcode4, clang, x86-64

我正在为学校作业编写模板矩阵类。我已经包含了错误以及下面的源文件和头文件。我认为我的代码没有任何问题，我很确定由于某种原因 xcode 无法识别头文件和源文件。模板化矩阵类在 Matrix.h 中声明，函数定义在 Matrix.cpp 中，主程序在 main.cpp 中。我已经包含了所有三个文件以及 Xcode 在下面给我的完整错误消息。我花了过去 2 天谷歌搜索此错误无济于事。我对 xcode 很陌生，所以非常感谢任何帮助。如果您需要我发布更多信息，例如我的设置或其他任何信息，请随时提出。谢谢 完整的错误是：

```
Ld /Users/Mikey/Library/Developer/Xcode/DerivedData/hw3-glwfyunpxigvvpfacidnbejyprfa/Build/Products/Debug/hw3        normal x86_64
cd /Users/Mikey/Desktop/programming/PIC10B/hw3
setenv MACOSX_DEPLOYMENT_TARGET 10.8
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++ -arch x86_64 -   isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.8.sdk -L/Users/Mikey/Library/Developer/Xcode/DerivedData/hw3-glwfyunpxigvvpfacidnbejyprfa/Build/Products/Debug -F/Users/Mikey/Library/Developer/Xcode/DerivedData/hw3-glwfyunpxigvvpfacidnbejyprfa/Build/Products/Debug -filelist /Users/Mikey/Library/Developer/Xcode/DerivedData/hw3-glwfyunpxigvvpfacidnbejyprfa/Build/Intermediates/hw3.build/Debug/hw3.build/Objects-normal/x86_64/hw3.LinkFileList -mmacosx-version-min=10.8 -stdlib=libc++ -o /Users/Mikey/Library/Developer/Xcode/DerivedData/hw3-glwfyunpxigvvpfacidnbejyprfa/Build/Products/Debug/hw3

Undefined symbols for architecture x86_64:
"operator^(Matrix<double>, int)", referenced from:
  _main in main.o
"operator>>(std::__1::basic_istream<char, std::__1::char_traits<char> >&, Matrix<double>&)", referenced from:
  _main in main.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)`

//main.cpp
#include<iostream>
#include<vector>
#include<string>
#include "Matrix.h"

using namespace std;

int main () {
int numberOfPlanets;
int steps;
string planet;
vector<string> planetNames;
Matrix<double> markovMatrix;
Matrix<double> stepMatrix;

cout<<"Please enter the number of Planets:";
cin>>numberOfPlanets;
cout<<"Please enter the names of the Planets:";
for(int i=0;i<numberOfPlanets;i++) {
    cin>>planet;
    planetNames.push_back(planet);
}

cout<<"How many steps will you take?";
cin>>steps;

cout<<"Please enter the "<<numberOfPlanets<<"X"<<numberOfPlanets<<" Markov Matrix:";
cin>>markovMatrix;

stepMatrix=markovMatrix^steps;

for(int i=0;i<numberOfPlanets;i++) {
    int maxEntry = stepMatrix.findMax(i);
    cout<<"After "<<steps<<" steps, from "<<planetNames[i]<<"you are most likely to end up at "      <<planetNames[maxEntry];
    cout<<endl;
}

return 0;

}

//Matrix.h
#include<iostream>
#include<iomanip>

#ifndef MATRIX_H
#define MATRIX_H

using namespace std;

template<typename T>
class Matrix {
public:
    Matrix();
    Matrix(int r, int c);
   ~Matrix();
    Matrix<T>(const Matrix<T>& right);
    Matrix<T>& operator=(const Matrix<T>& right);
    T& operator() (int i, int j);
    T operator() (int i, int j) const;
    friend ostream& operator<<(ostream& out, const Matrix<T>&right);
    friend istream& operator>>(istream& in, Matrix<T>& right);
    friend Matrix<T> operator*(const Matrix<T> left, const Matrix<T> right);
    friend Matrix<T> operator+(const Matrix<T> left, const Matrix<T> right);
    friend Matrix<T> operator^(const Matrix<T> right, int power);
    int findMax(int r) const;
private:
    int rows;
    int columns;
    T* elements;
};

#endif`

//Matrix.cpp
#include "Matrix.h"
#include<iostream>
#include<iomanip>

using namespace std;

template<typename T>
    Matrix<T>::Matrix() {
    rows = 0;
    columns = 0;
    elements = NULL;
}

template<typename T>
Matrix<T>::Matrix(int r, int c) {
    rows = r;
    columns = c;
    elements = new T[rows*columns];
    for(int i=0;i<rows*columns;i++) {
    elements[i]=0;
    }
}  

template<typename T>
Matrix<T>::Matrix(const Matrix<T>& right) {
    rows = right.rows;
    columns = right.columns;
    elements = new T[rows*columns];

    for(int i=0;i<rows*columns;i++)
    elements[i]=right.elements[i];

}

template<typename T>
Matrix<T>& Matrix<T>::operator=(const Matrix<T>& right) {
    if(this!=&right) {
        rows = right.rows;
        columns = right.columns;
        delete[] elements;
        for(int i=0;i<rows*columns;i++) {
            elements[i]=right.elements[i];
        }
    }

    return *this;
}

template<typename T>
T Matrix<T>::operator()(int i, int j) const {
    return elements[i*rows+j];
}

template<typename T>
T& Matrix<T>::operator()(int i, int j) {
    return elements[i*rows+j];
}

template<typename T>
Matrix<T> operator+(const Matrix<T>& right, const Matrix<T> left) {
    Matrix<T> A(right.rows, right.columns);
    for(int i=0;i<A.rows;i++) {
        for(int j=0;j<A.columns;j++) {
            A(i,j) = right(i,j)+left(i,j);
        }
    }

     return A;
 }

 template<typename T>
 Matrix<T> operator*(const Matrix<T>& right, const Matrix<T> left) {
    Matrix<T> A(left.rows, right.columns);
    for(int i=0;i<left.rows;i++) {
         for(int j=0;j<right.columns;j++) {
             for(int k=0;k<right.rows;k++) {
                A(i,j)+=left(i,k)*right(k,j);
            }
        }
    }

    return A;
}

 template<typename T>
 Matrix<T>::~Matrix() {
     delete[] elements;
 }

 template<typename T>
 Matrix<T> operator^(const Matrix<T>& right, int power) {
     Matrix<T> A = right;
     for(int i=1;i<power;i++)
        A=A*right;
     return A;
 }

template<typename T>
int Matrix<T>::findMax(int r) const {
     int maxColumnEntry = 0;
     T rowMax = elements[r*columns];
     for(int j=1;j<columns;j++) {
         if(elements[r*columns+j]>rowMax) {
             rowMax = elements[r*columns+j];
             maxColumnEntry = j;
         }
     }

     return maxColumnEntry;
 }

template<typename T>
ostream& operator<<(ostream& out,const Matrix<T>& right) {
    for(int i=0;i<right.rows*right.columns;i++) {
        out<<setw(10)<<right.elements[i]<<" ";
        if((i+1)%right.columns==0)
            out<<endl;
    }
    return out;
}

template<typename T>
istream& operator<<(istream& in, Matrix<T>& right) {
    for(int i=0;i<right.rows*right.columns;i++){
        in>>right.elements[i];
    }

    return in;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T05:56:34.657

我相信您正在使用错误的库进行编译。更改要使用的构建设置：Apple LLVM 编译器设置中的编译器默认值甚至可能是 libstdc++。

和：

项目 -> 构建设置 -> 查找 LLVM 编译器组 -> C++ 标准库

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-30T20:15:01.867

如果您正在创建 C 程序或 C++？

如果是 C++，则使用 G++ 或 Xcode 项目 TYPE = C++，而不是 C 构建。

# c++ - 具有依赖于早期参数的默认模板参数是否有效？

> ID：14907340
> 
> 赞同：4
> 
> 时间：2013-02-16T05:37:04.600
> 
> 标签：c++, templates, default-parameters

例如，以下代码片段在 VC++ 2010 中编译：

```
template<int Rows, int Columns = Rows>
struct Matrix {  };

Matrix<4> m; 
```

请注意， 的默认参数`Columns`取决于 的参数值`Rows`。

但是，我在任何地方都可以依赖 C++11（或更早版本）中的这种*标准行为吗？*

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-16T05:48:29.690

是的。事实上，这就是大量 STL 代码的工作方式。

的`std::vector`定义如下：

```
 template < class T, class Alloc = allocator<T> > class vector 
```

这样您就不需要每次都指定`allocator`每次。如果这样无效，我们将无法编写：

```
std::vector<int> data; 
```

你会写成`std::map`：

```
std::map < keyType,                                     // map::key_type
       ValType,                                       // map::mapped_type
       less<keyType>,                     // map::key_compare
       allocator<pair<const KeyType,ValType> >    // map::allocator_type
       > mapping; 
```

这远不如：

```
std::map< keyType , ValType > mapping; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T05:42:47.310

根据[cplusplus](http://www.cplusplus.com/doc/tutorial/templates/)，是的：

也可以为类模板参数设置默认值或类型。例如，如果之前的类模板定义是：

```
template <class T=char, int N=10> class mysequence {..}; 
```

在更普通的注释中， g++ -Wall 将编译它。

# macos - 什么是 Boxen，它有什么作用？

> ID：14907345
> 
> 赞同：16
> 
> 时间：2013-02-16T05:37:31.780
> 
> 标签：macos, github, boxen

今天看到新的 Github 团队项目，叫 Boxen：[http ://boxen.github.com/](http://boxen.github.com/)

我完全阅读了他们对这个项目的介绍，但我真的不明白我为什么要使用它？如何简化开发过程？

**编辑**：我看到这个工具也适用于 Ruby 和 NodeJs。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-24T04:14:42.367

*注意：我不隶属于 github 人员，也不是确切实施的权威（尚未），但自几个月前暗示以来一直在关注它的演变 - 无主木偶的传播是一件好事，这个项目提供*

来自马口（关于 Boxen 的最新演示，带有问答！）：http: [//vimeo.com/61172067](http://vimeo.com/61172067)

github.com/boxen/boxen 是一个框架，它使用 puppet 作为当前 OS X（撰写本文时为 10.8+）工作站上的引擎，因此开发人员可以开始处理项目或“管理”他们自己的工作站以及他们的所有依赖项d 需要。github.com/boxen/our-boxen 是您合作的项目的策划软件依赖项的“主存储库”示例，这些依赖项被硬编码到 github 的身份验证和存储库。一旦对它提供了您的“团队”在特定项目（或项目组）上工作所需的一切感到高兴，您就可以将生成的 repo 发送到 Heroku 以使用 boxen-web 进行托管。现在了解更多细节：

如果单独工作或踢轮胎，您可以使用自己的 repo，其中包含 our-boxen（不推荐使用前叉）的内容，而无需 boxen-web。

Puppet 可以在传统的客户端-服务器模式下运行（随着产品的发展，Puppetlabs 的人们提出了不同的名称，但现在 - 我认为 - 被称为 agent-master。）在我自己的理论中，为了拥有在开发人员工作站上运行的“钩子”或后台进程尽可能少，这使用了在不联系“主”的情况下运行的傀儡“模块”，然后安装软件或进行配置更改。

可以创建一个清单来指定您自己的用户/机器，但是每次您运行 boxen 二进制文件，并且检测到“漂移”或为您的团队添加增强/改进时，都会“强制执行”基线。[最近一次演示 ( https://speakerdeck.com/wfarr/boxen](https://speakerdeck.com/wfarr/boxen) ) 中的一个示例是 java 安全补丁，虽然不是特定于项目的，但可以根据您的个人需求为团队工作站添加管理。

由 github 人员创建的 boxen 组织（github.com/boxen），托管已知可与 boxen 一起使用的 puppet 模块，可以在团队或个人级别添加，尽管您总是可以打破自己的 puppet 并扩展它可以做的事情做你认为合适的事。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-16T05:46:40.767

这在他们的博客文章中进行了解释，这里：[https ://github.com/blog/1345-introducing-boxen](https://github.com/blog/1345-introducing-boxen)

> Boxen 是一个框架，用于管理 Mac 的几乎所有方面。我们为 Boxen 构建了一个庞大的 Puppet 模块标准库，用于管理从运行 MySQL 到安装 Minecraft 的所有事情。

# android - 安装应用程序时出错 (INSTALL_FAILED_DEXOPT)

> ID：14907346
> 
> 赞同：10
> 
> 时间：2013-02-16T05:37:34.380
> 
> 标签：android, android-install-apk, dex

我正在使用 Android 中的 ccr4j API，所以当我运行我的项目时，它会抛出一个错误，例如：
**安装应用程序时出错（INSTALL_FAILED_DEXOPT）**

我也从网络和同一站点找到，都尝试过，
1\. 从设备上卸载了相同的应用程序。
2\. 使用擦除用户数据运行模拟器。
但仍然出现同样的错误。

所以有人知道为什么它会抛出这种错误吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-18T21:26:27.690

这很可能与 classes.dex 的大小有关。在任何超过 5mb 的情况下，ICS 之前的 dexopt 都会失败。检查您的 apk 中 classes.dex 的大小。最好看看你的方法计数是多少，因为 dex 有 65536 个方法/字段限制。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-08-19T17:10:29.070

我有同样的问题。检查 classes.dex 文件，它大约是 7mb。我会尝试找到解决方案。我希望 Facebook 的解决方案也能解决我的问题。
顺便感谢@Jared 提供的信息。
[https://www.facebook.com/notes/facebook-engineering/under-the-hood-dalvik-patch-for-facebook-for-android/10151345597798920](https://www.facebook.com/notes/facebook-engineering/under-the-hood-dalvik-patch-for-facebook-for-android/10151345597798920)

编辑 1：我已经通过使用 proguard 优化解决了这个问题。我之前的 classes.dex 文件是 7mb 左右，经过 proguard 优化后变成了 4mb。现在我可以在 2.2 和 2.3 设备上运行这个经过混淆和优化的 apk。

编辑 2：官方 Google Multi Dex 支持是解决此问题的最佳解决方案。[https://developer.android.com/tools/building/multidex.html](https://developer.android.com/tools/building/multidex.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-03-01T11:06:19.073

找到 Android SDK 文件夹。（通常`C:\User\AppData\Local\Android\sdk`）删除以点（。）开头的文件夹，它们是临时下载文件。然后从 SDK Manager 中删除**Android Emulator 。**然后以管理员身份运行 Android Studio，然后再次下载并安装**Android Emulator**。并确保您已安装`Intel H.A.X.M.`. 现在您可以创建模拟器并使用它而不会出错。

# cucumber - 与 Cucumber 标签一起使用时出现 VCR BadAlias 错误

> ID：14907347
> 
> 赞同：2
> 
> 时间：2013-02-16T05:37:37.173
> 
> 标签：cucumber, vcr

我必须以步骤为特色

```
@vcr
Given A

@vcr
Given B 
```

及其定义：

```
Given /^A$/ do
  a_method_that_makes_a_request
end

Given /^B$/ do
  a_method_that_makes_a_request
end 
```

这失败了：

```
Unknown alias: 70305756847740 (Psych::BadAlias) 
```

数量发生变化。但是当我这样做时：

```
# Feature step
Given B

# Step definition
Given /^B$/ do
  VCR.use_cassette 'a_cassette' do
    a_method_that_makes_a_request
  end
end 
```

有用。可以避免这个补丁使用`@vcr`标签吗？

这是我的配置：

```
# features/support/vcr_setup.rb
require 'vcr'

VCR.configure do |c|
  # c.allow_http_connections_when_no_cassette = true
  c.cassette_library_dir = 'spec/fixtures/cassettes'
  c.hook_into :webmock
  c.ignore_localhost = true
  log_path = File.expand_path('../../../log/vcr.log', __FILE__)
  c.debug_logger = File.open(log_path, 'w')
end

VCR.cucumber_tags do |t|
  t.tag  '@localhost_request' # uses default record mode since no options are given
  t.tags '@disallowed_1', '@disallowed_2', :record => :none
  t.tag  '@vcr', :use_scenario_name => true, record: :new_episodes
end 
```

# json - playframework - 如何更新 json 的索引数组项

> ID：14907348
> 
> 赞同：7
> 
> 时间：2013-02-16T05:37:52.150
> 
> 标签：json, playframework

我在将 json 对象添加到数组项时遇到问题。这个问题困扰了我很长一段时间，但我仍然不知道如何解决它。

我想在数组项中添加一个 json 对象，下面是现有的 json 对象：

```
{
  "key1":[ 
          {"key11":"value11"},
          {"key12":"value12"}
         ]
} 
```

我希望通过添加一个新的 json 对象对其进行转换：

```
{
   "key1":[ 
           {"key11":"value11" , "key111":"value111"},
           {"key12":"value12"}
         ]
} 
```

这是我的代码：

```
val json = Json.obj( 
         "key1" ->Json.arr(
                        Json.obj("key11" -> "value11"),
                        Json.obj("key12" -> "value12")
         )
)

val transform= (__ \ 'key1 )(0).json.update(  __.read[JsObject].map{ o => o ++ Json.obj( "key111" -> "value111" ) } )

json.validate(transform) 
```

但最后一行给出了以下例外。有没有人可以就如何实现将 json 对象添加到数组项中的目标给我建议？

```
java.lang.RuntimeException: expected KeyPathNode
at play.api.libs.json.JsPath$.step$1(JsPath.scala:141)
at play.api.libs.json.JsPath$.step$1(JsPath.scala:144)
at play.api.libs.json.JsPath$.play$api$libs$json$JsPath$$buildSubPath$1(JsPath.scala:150)
at play.api.libs.json.JsPath$$anonfun$createObj$1.apply(JsPath.scala:155)
at play.api.libs.json.JsPath$$anonfun$createObj$1.apply(JsPath.scala:153)
at scala.collection.IndexedSeqOptimized$class.foldl(IndexedSeqOptimized.scala:51)
at scala.collection.IndexedSeqOptimized$class.foldLeft(IndexedSeqOptimized.scala:60)
at scala.collection.mutable.WrappedArray.foldLeft(WrappedArray.scala:34)
at play.api.libs.json.JsPath$.createObj(JsPath.scala:153)
at play.api.libs.json.PathReads$$anonfun$jsUpdate$1$$anonfun$apply$15.apply(JsConstraints.scala:81)
at play.api.libs.json.PathReads$$anonfun$jsUpdate$1$$anonfun$apply$15.apply(JsConstraints.scala:81)
at play.api.libs.json.JsResult$class.map(JsResult.scala:73) 
```

谢谢收听

西里尔

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-21T10:06:43.973

您需要选择整个数组并将其转换为一个新数组，如下所示：

```
val transform= (__ \ "key1" ).json.update(
  __.read[JsArray].map { a => 
    JsArray(a.value.updated(0, a(0).as[JsObject] ++ Json.obj("key111" -> "value111")))
  }
) 
```

# javascript - 在 Javascript 中编辑锯齿状数组

> ID：14907352
> 
> 赞同：0
> 
> 时间：2013-02-16T05:38:48.500
> 
> 标签：javascript, arrays, multidimensional-array

我希望模拟一个任务栏（正在运行的任务/应用程序）。我计划存储这样的任务：

```
(function ()
{
    var tasks = [];

    addTask = function (taskName, taskWindow)
    {
        if (!tasks[taskName]) { tasks[taskName] = []; }
        tasks[taskName].push({ taskWindow: taskWindow, taskName: taskName});
    };
    removeTask = function (taskName, taskWindow)
    {
        if (tasks[taskName])
        {
            //Somehow remove the object from the array
        }        
    };
}()); 
```

我应该如何编写`removeTask()`以从这个锯齿状数组中删除正确的元素？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T05:42:23.847

数组意味着具有数字索引，您可以使用`.splice()`它从数组中删除数字索引项。非数字索引实际上并不在数组中，它们最终只是数组对象的属性，并且可以使用`delete`运算符将​​其删除。

如果您没有数字索引，那么您应该使用一个对象并使用一个属性来索引每个项目。这样做时，您可以使用`delete tasks[taskName]`从对象中删除属性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T06:02:38.917

我建议使用对象来存储您的任务，因为它会使您的（特定于您的要求，我不是在谈论数组 vs 对象）代码更清洁且更易于维护

```
var taskManager = (function(){
    function taskManager(tasks){
      // Do your tasks validation before passing to this.
      var this.tasks = tasks || {}; // tasks value is not private here         
    }
    // Assuming taskID would be unique value
    taskManager.prototype.addTask = function (taskName, taskID){
       if ( !this.tasks[taskID] ) {
          this.tasks[taskID] = { taskID: taskID, taskName: taskName }; 
       }
    };
    taskManager.prototype.removeTask = function (taskName, taskID){
      if (this.tasks[taskID]){
        delete this.tasks[taskID];
      }        
    };
    return taskManager;
})(); 
```

用法：

```
var taskManager1 = new taskManager();
taskManager1.addTask(a,b);
taskManager1.removeTask(a); 
```

# jquery - jQuery：按钮点击确认

> ID：14907359
> 
> 赞同：12
> 
> 时间：2013-02-16T05:40:04.203
> 
> 标签：jquery

我有以下 html 和 jquery 代码，用于删除确认后的成员帐户。但是代码似乎不起作用：即使我在弹出窗口中单击“取消”，请求仍然提交并删除帐户。我应该如何纠正这个？谢谢。

HTML：

```
<button class="member" href="/admin?arg1=deleteMember" onclick="return confirm('Are you sure？')">Delete member</button> 
```

jQuery：

```
$(document).ready(function() {
  $('.member').click(function() {
    var url = $(this).attr('href');
    $('#content').load(url);
      return false;
  });
}); 
```

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-02-16T05:45:49.467

```
$(document).ready(function() {
  $('.member').click(function() {
    if (confirm('Are you sure?')) {
      var url = $(this).attr('href');
      $('#content').load(url);
    }
  });
}); 
```

然后从 HTML 元素中删除 onclick 属性。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-16T05:55:03.823

您以两种方式声明了您的事件。一种使用内联事件处理程序，一种使用 JQuery。他们对 的反应不同`return false`。

在 JQuery 事件处理程序中，`return false`既停止事件在其轨道中的传播，*又*阻止浏览器应用默认行为。在常规的内联事件处理程序中，它只是停止默认行为。在这个按钮的情况下，没有默认行为可言。它只是一个按钮。因此，如果您单击“取消”，它会愉快地返回 false，然后继续运行接下来的 JQuery 事件。

要解决此问题，将所有逻辑放在一个位置可能是最简单的方法——JQuery 或内联事件，或者让内联事件调用您执行所有逻辑的函数。

例如：

```
$(function()
{
    $('.member').click(function()
    {
        var href = $(this).attr('href');
        if (/delete/.test(href)) if (!confirm('Are you sure?')) return;
        $('#content').load(href);
    });
}); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-16T05:56:29.220

`false`在 a `button`（或 an ）的单击处理程序中返回`input type="button"`无效，因为没有要停止的默认行为，例如使用`input type="submit"`按钮或链接。

删除`onclick`标签中的属性，并调用`confirm`jQuery 点击处理程序：

```
$(document).ready(function() {

  $('.member').click(function() {
    if (window.confirm('Are you sure？')) {
      $('#content').load($(this).attr('href'));
    }
  });

}); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-09-09T03:41:22.927

行。在查看任何这些有效答案之前，我自己想通了。我只是要把我的扔给任何人尝试：

**首先是 HTML**

**第一：**假设这是您呈现给用户的按钮：

```
<button id="btn_to_check">Do Something</button> 
```

**第二：**现在只有当用户单击按钮`#btn_to_check`时，您才会向他们显示一个带有两个按钮的确认窗口来确认他们的意图（即接受并返回）：

```
<div id="btn_confirmation_window" style="display:none">
  <button id="accept" value="true">accept</button>
  <button id="go_back" value="false">go back</button>
</div> 
```

**现在是 JAVASCRIPT**

```
$('#btn_to_check').on('click', function(){
  confirmationWindow();
});

function confirmationWindow(){
    $('#btn_confirmation_window').fadeIn(); //or show() or css('display','block')
    $('#btn_confirmation_window button').on('click', function(){
          var confirm= $(this).attr('value');
          if (confirm=='true') {   
                 //Code if true e.g. ajax
          } else if (confirm=='false'){
                //Code if false
          }
      }
} 
```

希望能帮助到你！

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2018-04-05T19:58:24.717

我发现这很简单。它只使用引导程序和 jquery。

```
 $(document).ready(function() {
        $('a[data-confirm]').click(function(ev) {
            var href = $(this).attr('href');
            $('#modal').find('.modal-title').text($(this).attr('data-confirm'));
            $('#modal-btn-yes').attr('href', href);
            $('#modal').modal({show:true});
            return false;
        });
    });
```

```
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

<a  href="controllers/my-delete.php?id=5" 
    class="btn btn-danger" 
    role="button" 
    style="width: 100%;"
    data-confirm="Are you sure you want to delete?">Delete</a>

<div class="modal fade " id="modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Are You Sure?</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
        There is no way to undo this action
      </div>
      <div class="modal-footer">
        <a id="modal-btn-yes" class="btn btn-danger" >Yes</a>
        <button type="button" class="btn btn-primary" data-dismiss="modal">No</button>
      </div>

    </div>
  </div>
</div>
```

# extjs - 如何让 Sencha 文件上传字段接受多个文件

> ID：14907360
> 
> 赞同：7
> 
> 时间：2013-02-16T05:40:12.100
> 
> 标签：extjs, file-upload, extjs4

我有 Sencha Ext JS 应用程序，我使用`File`表单字段 ( `Ext.form.field.File`) 来上传文件。它工作正常，但我希望用户能够一次选择多个文件进行上传，例如在 Dropbox.com 上。我有另一个非 Sencha 站点（在其中我可以直接控制 HTML），我通过使用`multiple`INPUT 元素的属性解决了这个问题：

```
 <input type="file" name="files" multiple> 
```

然而，Sencha 本身不支持文件上传字段中的多个文件，至少在当前版本 (4.1) 中是这样。也许可以更改 Sencha for `<input>`element 发出的 HTML 输出，但我不确定如何。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-16T05:58:30.920

您可以创建一个 xtype：

```
Ext.define('fileupload',{
    extend: 'Ext.form.field.Text'
    ,alias: 'widget.fileupload'
    ,inputType: 'file'
    ,listeners: {
        render: function (me, eOpts) {
            var el = Ext.get(me.id+'-inputEl');
            el.set({
                size: me.inputSize || 1
            });
            if(me.multiple) {
                el.set({
                    multiple: 'multiple'
                });
            }
        }
    }
}); 
```

并以您的形式使用它：

```
,items: [{
        xtype: 'fileupload'
        ,vtype: 'file'
        ,multiple: true // multiupload (multiple attr)
        ,acceptMimes: ['doc', 'xls', 'xlsx', 'pdf', 'zip', 'rar'] // file types
        ,acceptSize: 2048
        ,fieldLabel: 'File <span class="gray">(doc, xls, xlsx, pdf, zip, rar; 2 MB max)</span>'
        ,inputSize: 76 // size attr
        ,msgTarget: 'under'
        ,name: 'filesToUpload[]'
    }] 
```

请参阅[githab上的示例](http://htmlpreview.github.com/?https://github.com/werdender/ext4examples/blob/master/fileupload.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T05:55:32.130

有一个插件也许你可以使用它：[http ://www.sencha.com/forum/showthread.php?205576-File-upload-with-drag-amp-drop-support&highlight=upload](http://www.sencha.com/forum/showthread.php?205576-File-upload-with-drag-amp-drop-support&highlight=upload)

演示：[http ://harrydeluxe.github.com/extjs-ux/example/upload/upload.html](http://harrydeluxe.github.com/extjs-ux/example/upload/upload.html)

# php - Magento：如何获得模型

> ID：14907361
> 
> 赞同：-3
> 
> 时间：2013-02-16T05:40:19.287
> 
> 标签：php, magento

我有这个 URL admin/catalog_category/edit/key/0ff0928cf61018af19089207bbaedf15/id/63/?isAjax=true

从这里我怎样才能得到哪个模型正在工作以及哪个模板正在工作..

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:30:13.790

admin/catalog_category/编辑/

这里，

```
Module = catalog = app/code/core/Mage/Catalog
Controller = category = controllers/CategoryController.php
Action = edit = editAction() 
```

因此，要获取此操作的模板文件和 PHP 文件，请查看模块的 XML 文件，即`app/design/frontend/default/THEME/layout/catalog.xml`

您将找到`catalog_category_edit`操作方法的句柄名称`editAction()`。在此句柄内，您将看到所有块和与之关联的模板路径。

希望这可以帮助。

# node.js - 编译 WebStorm Node.js 项目时出错

> ID：14907362
> 
> 赞同：0
> 
> 时间：2013-02-16T05:40:21.353
> 
> 标签：node.js, mongodb, mongoose, webstorm

我刚刚在 WebStorm 中创建了一个简单的项目，`Express module` 然后我安装`mongoose`，之后我尝试连接到 MongoDB，但它给出了这个异常：

**索引.js**

```
var mongoose = require('mongoose');
mongoose.connect('localhost', 'Test');
var schema = mongoose.Schema({ name: 'string' },{age:'int'});
var Human = mongoose.model('Human', schema);

 exports.saveHuman = function (req,res){
"use strict";
var Ahs = new Human({name:'Dumy'},{age:24});
Ahs.save(function(error , data ){

    if(error){
        console.log("Not working");
    }
    else{
        res.send(Ahs.name + "Created !");
    }

});
};

 exports.index = function(req, res){
 "use strict";
res.render('index', { title: 'Express' });
 }; 
```

**应用程序.js**

```
var express, routes, user, http, path;
express = require('express');
routes = require('./routes');
user = require('./routes/user');
http = require('http');
path = require('path');

var app = express();

 app.configure(function(){
"use strict";
app.set('port', process.env.PORT || 3000);
app.set('views', __dirname + '/views');
app.set('view engine', 'ejs');
app.use(express.favicon());
app.use(express.logger('dev'));
app.use(express.bodyParser());
app.use(express.methodOverride());
app.use(app.router);
app.use(express.static(path.join(__dirname, 'public')));
});

app.configure('development', function(){
"use strict";
app.use(express.errorHandler());
 });
app.get('/saveHuman',routes.saveHuman);
app.get('/', routes.index);
app.get('/users', user.list);

http.createServer(app).listen(app.get('port'), function(){
"use strict";
console.log("Express server listening on port " + app.get('port'));
 }); 
```

现在，当我运行项目时，它会在 console 中显示。

![在此处输入图像描述](../Images/63e779b31b1d6cacd09067b3dad01d6c.png)

# python - pandas 将时间序列转换为多列 DataFrame

> ID：14907364
> 
> 赞同：3
> 
> 时间：2013-02-16T05:40:53.390
> 
> 标签：python, pandas, dataframe, pandas-groupby

我有一个时间序列的日内数据如下所示

```
ts =pd.Series(np.random.randn(60),index=pd.date_range('1/1/2000',periods=60, freq='2h')) 
```

我希望将数据转换为 DataFrame，列作为每个日期，行作为日期中的时间。

这些我都试过了

```
key = lambda x:x.date()
grouped = ts.groupby(key) 
```

但是如何将组转换为日期列 DataFrame？还是有更好的方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T08:40:42.243

```
import pandas as pd
import numpy as np

index = pd.date_range('1/1/2000', periods=60, freq='2h')
ts = pd.Series(np.random.randn(60), index = index)

key = lambda x: x.time()
groups = ts.groupby(key)

print pd.DataFrame({k:g for k,g in groups}).resample('D').T 
```

出去：

```
 2000-01-01  2000-01-02  2000-01-03  2000-01-04  2000-01-05  2000-01-06  \
00:00:00    0.109959   -0.124291   -0.137365    0.054729   -1.305821   -1.928468   
03:00:00    1.336467    0.874296    0.153490   -2.410259    0.906950    1.860385   
06:00:00   -1.172638   -0.410272   -0.800962    0.568965   -0.270307   -2.046119   
09:00:00   -0.707423    1.614732    0.779645   -0.571251    0.839890    0.435928   
12:00:00    0.865577   -0.076702   -0.966020    0.589074    0.326276   -2.265566   
15:00:00    1.845865   -1.421269   -0.141785    0.433011   -0.063286    0.129706   
18:00:00   -0.054569    0.277901    0.383375   -0.546495   -0.644141   -0.207479   
21:00:00    1.056536    0.031187   -1.667686   -0.270580   -0.678205    0.750386   

          2000-01-07  2000-01-08  
00:00:00   -0.657398   -0.630487  
03:00:00    2.205280   -0.371830  
06:00:00   -0.073235    0.208831  
09:00:00    1.720097   -0.312353  
12:00:00   -0.774391         NaN  
15:00:00    0.607250         NaN  
18:00:00    1.379823         NaN  
21:00:00    0.959811         NaN 
```

# ios5 - 发送邮件时 MFMailcomposeviewcontroller 的内存泄漏

> ID：14907372
> 
> 赞同：2
> 
> 时间：2013-02-16T05:41:52.877
> 
> 标签：ios5, instruments, mfmailcomposeviewcontroller

我的应用程序使用 MFMailcomposeviewcontroller 发送邮件。我使用仪器检查泄漏，当我按下邮件撰写中的发送按钮时，基础和 messageUI 框架中出现更多泄漏，![在此处输入图像描述](../Images/fa330a5dd50fb5e721e246df996303d2.png)并附上仪器泄漏的屏幕截图。任何人都可以帮我解决它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T05:45:02.057

这是一个关于在 Xcode 中使用 Instruments 调试内存泄漏的绝妙[教程](http://www.raywenderlich.com/2696/how-to-debug-memory-leaks-with-xcode-and-instruments-tutorial)。它将教您自己解释该显示。

# twitter-bootstrap - twitter bootstrap popover 不适用于 angularjs

> ID：14907376
> 
> 赞同：16
> 
> 时间：2013-02-16T05:42:48.607
> 
> 标签：twitter-bootstrap, angularjs, popover

`<div>`我试图在我的网页上使用 twitter bootstrap popover，但发现它在with下方时不起作用`ng-repeat`。它在不包含的 div 类的顶部运行良好，`ng-`有人知道它为什么会发生，我该如何解决这个问题？

```
<h3>Students Without Team</h3>
 <div class="accordion" id="studentNoTeamAccordion" >
         <a href="#" class="btn btn-large btn-primary" rel="popover"data-html="true"
            data-content="
               <form>
                   <textarea class='input-xlarge' rows='12' type='text'></textarea>  
                   <P>
                      <input class='btn btn-primary' type='submit' value='Send' />
               </form>"
            data-placement="right" data-original-title="Enquiries">Send Enquiries
        </a>
  <div class="accordion-group" ng-repeat="(key,val) in stud_finding"><
      <a href="#" class="btn btn-large btn-primary" rel="popover"data-html="true"
         data-content="
               <form>
                   <textarea class='input-xlarge' rows='12' type='text'></textarea> 
                   <P>
                       <input class='btn btn-primary' type='submit' value='Send' />
               </form>" 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-06-24T00:52:32.100

我不明白为什么这个问题被否决了。这是关于如何理解角度范围原理的一个很好的例子。范围基本上附加到 DOM 元素。所有的控制器、重复等都只能在这个 DOM 元素（范围）中工作。当 Boostrap 创建一个弹出框时，它会创建一个新的 DOM 元素并将其附加到 body，所以现在它超出了范围（它不再在元素中）。这是了解 Angular 的一个关键特性。

幸运的是，Bootstrap 有解决方案。Popover 有一个`container`选项，可让您将弹出框附加到特定元素而不是正文。将具有角度控制器的 DOM 元素的 jQuery 选择器放在那里。[http://twitter.github.io/bootstrap/javascript.html#popovers](http://twitter.github.io/bootstrap/javascript.html#popovers)（见选项）

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-16T11:21:21.533

目前至少有 2 个项目已经为 AngularJS 编写了 Bootstrap 的 popover 指令：

*   [http://angular-ui.github.com/bootstrap/](http://angular-ui.github.com/bootstrap/)
*   [http://mgcrea.github.com/angular-strap/](http://mgcrea.github.com/angular-strap/)

不同之处在于[http://angular-ui.github.com/bootstrap/](http://angular-ui.github.com/bootstrap/)是原生 AngularJS 指令，因此您不需要任何第三方 JavaScript 依赖项。

这两个项目都托管在 GitHub 上，因此您可以查看实现并从中学习、决定更改或仅使用其中一个项目。

# flash - 频闪媒体播放flv流断断续续

> ID：14907377
> 
> 赞同：0
> 
> 时间：2013-02-16T05:42:50.387
> 
> 标签：flash, stream, media, rtmp

我遇到了一个问题，即使用 Strobe Media 播放器时视频会随着时间的推移变得断断续续。

在 rtmp 源上使用的设置如下：

```
var parameters =
            {   src: videoSrc
            ,   urlIncludesFMSApplicationInstance: "true"
            ,   optimizeInitialIndex : true
            ,   optimizeBuffering : true
            ,   bufferTime : 30
            ,   initialBufferTime : 30
            ,   expandedBufferTime: 600
            ,   minContinuousPlayback : 20
            ,   streamType: 'recorded'  
            ,   autoPlay: true
            ,   volume : 0
            ,   controlBarAutoHide: true
            ,   backgroundColor: '#f8f8f8'
            ,   javascriptCallbackFunction: "onJavaScriptBridgeCreated"
            }; 
```

我的 flv 的比特率是 400...我也测试过低至 200，但无论比特率如何，视频都会随着时间的推移变得断断续续。随着持续时间的延长，它似乎在进步。我还使用了一个控制栏可见的版本，一旦我跳到播放时间，它似乎再次同步。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T18:26:05.600

我在 Chrome 中使用频闪媒体播放器进行测试时遇到了类似的问题，[以下帖子对我很有用](https://productforums.google.com/forum/?fromgroups=#!topic/chrome/9o9R2hRmx6s)：

> 打开谷歌浏览器并在地址栏中输入 - chrome://plugins/ 然后您将在页面右侧看到一个详细信息链接。单击+，您将看到一长串已安装插件的详细信息。查看 Flash 部分并找到包含文本的行 - \pepflashplayer.dll 单击此行旁边的禁用链接并重新启动浏览器。您的视频现在应该可以再次流畅运行

# asp.net - sessionKey 使用基于 KDF2 的 nonce（客户端）和 nonce（服务器）

> ID：14907380
> 
> 赞同：1
> 
> 时间：2013-02-16T05:43:20.103
> 
> 标签：asp.net, cryptography

我正在做一个项目。客户有共同的认证系统。我必须从我的网络服务器生成一个随机数，使用身份验证系统的公钥加密，并使用我的网络服务器私钥唱歌并发布到身份验证系统（XML base64 编码）。身份验证系统使用他们的私钥解密，使用我的公钥生成随机数加密，然后发送回我的网络服务器作为响应。我的网络服务器使用我的私钥解密响应。现在下一步是使用基于 KDF2 算法的 nonce（客户端）和 nonce（服务器）构造一个 sessionKey。我正在使用 asp.net 4.0 .. 无法理解并在 asp.net 中找到关于**“使用基于 KDF2 的 nonce（客户端）和 nonce（服务器）的 sessionKey”**的任何帮助 。

```
 protected void ButtonLogin_Click()
    {
        string datatopost = CreatEncryptandSignXML();
        PostxmltoCommongateway(datatopost);
    }

    public string CreatEncryptandSignXML()
    {
        string ClientNonce = null;
        ClientNonce = Guid.NewGuid().ToString("N");
        Session["ClientNonce"] = ClientNonce;

        byte[] bytesToEncode = Encoding.UTF8.GetBytes(ClientNonce);

        string encodednonce = Convert.ToBase64String(bytesToEncode);

        string xml = "<?xml version=\"1.0\"?><root><LoginRequest>Nonce=" + encodednonce + "</LoginRequest></root>";
        System.Xml.XmlDocument doc = new System.Xml.XmlDocument();
        doc.LoadXml(xml);
        doc.PreserveWhitespace = true;

        // Sing XML using private key ------------------------------------------------------------
        System.Security.Cryptography.X509Certificates.X509Certificate2 commonauthpublickey =
            new System.Security.Cryptography.X509Certificates.X509Certificate2
                (@"C:\commonauthserver\publickey\sample.cer");

        System.Xml.XmlElement elementToEncrypt = doc.GetElementsByTagName("LoginRequest")[0] as System.Xml.XmlElement;

        System.Security.Cryptography.Xml.EncryptedXml encXML = new System.Security.Cryptography.Xml.EncryptedXml();
        System.Security.Cryptography.Xml.EncryptedData data = encXML.Encrypt(elementToEncrypt, commonauthpublickey);

        System.Security.Cryptography.Xml.EncryptedXml.ReplaceElement(elementToEncrypt, data, false);

        // Sign XML using Private Key ---------------------------------------------------------------

        System.Security.Cryptography.X509Certificates.X509Certificate2 mywerbserverprivatekey =
            new System.Security.Cryptography.X509Certificates.X509Certificate2
                (@"C:\mywebserver\privatekey\mywebserver.pfx","samplepasword");

        System.Security.Cryptography.Xml.SignedXml sign = new System.Security.Cryptography.Xml.SignedXml(doc);

        System.Security.Cryptography.Xml.KeyInfo keyInfo = new System.Security.Cryptography.Xml.KeyInfo();
        sign.SigningKey = mywerbserverprivatekey.PrivateKey;
        System.Security.Cryptography.Xml.KeyInfoX509Data keyInfoData = new System.Security.Cryptography.Xml.KeyInfoX509Data();
        keyInfoData.AddIssuerSerial(mywerbserverprivatekey.Issuer, mywerbserverprivatekey.GetSerialNumberString());
        keyInfo.AddClause(keyInfoData);
        sign.KeyInfo = keyInfo;
        System.Security.Cryptography.Xml.Reference reference = new System.Security.Cryptography.Xml.Reference();
        reference.Uri = "";
        System.Security.Cryptography.Xml.XmlDsigEnvelopedSignatureTransform env = new
            System.Security.Cryptography.Xml.XmlDsigEnvelopedSignatureTransform();
        reference.AddTransform(env);
        sign.AddReference(reference);
        sign.ComputeSignature();
        System.Xml.XmlElement signedElement = sign.GetXml();
        signedElement.Prefix = "ds";
        doc.DocumentElement.AppendChild(signedElement);
        return doc.InnerXml;
    }

    void PostxmltoCommongateway(string encData)
    {
        string URLAuth = "http://commonauth.com/getway/commomauth.do";

        byte[] bytesToEncode = Encoding.UTF8.GetBytes(encData);
        string encodedText = Convert.ToBase64String(bytesToEncode);
        string encodedXML = HttpUtility.UrlEncode(encodedText);

        string postString = string.Format("encryptedData={0}", encodedXML);

        const string contentType = "application/x-www-form-urlencoded";
        System.Net.ServicePointManager.Expect100Continue = false;

        CookieContainer cookies = new CookieContainer();
        HttpWebRequest webRequest = WebRequest.Create(URLAuth) as HttpWebRequest;
        webRequest.Method = "POST";
        webRequest.ContentType = contentType;
        webRequest.CookieContainer = cookies;
        webRequest.ContentLength = postString.Length;
        webRequest.UserAgent = "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.0.1) Gecko/2008070208 Firefox/3.0.1";
        webRequest.Accept = "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8";
        StreamWriter requestWriter = new StreamWriter(webRequest.GetRequestStream());
        requestWriter.Write(postString);
        requestWriter.Close();

        try
        {
            WebResponse response = webRequest.GetResponse();
            StreamReader responseReader = new StreamReader(webRequest.GetResponse().GetResponseStream());
            string responseData = responseReader.ReadToEnd();
            responseReader.Close();
            webRequest.GetResponse().Close();

            string servernonce = DecryptResponse(responseData);
            string clientnonce = Session["ClientNonce"].ToString();

            /// here i have to generate a sessionKey using nonce (client) and nonce(server) based on KDF2

            // CreateSessionkeybasedonKDF2(servernonce,clientnonce)                
        }

        catch (Exception ex)
        {
            LabelMessage.Text = ex.Message;
        }
    }

public string DecryptResponse(string response)
{
    System.Security.Cryptography.X509Certificates.X509Certificate2 mywerbserverprivatekey =
        new System.Security.Cryptography.X509Certificates.X509Certificate2
            (@"C:\mywebserver\privatekey\mywebserver.pfx", "samplepasword");

    RSACryptoServiceProvider.UseMachineKeyStore = false;
    RSACryptoServiceProvider rsa = (RSACryptoServiceProvider)mywerbserverprivatekey.PrivateKey;
    byte[] decrypted = rsa.Decrypt(Convert.FromBase64String(response), false);
    return ASCIIEncoding.UTF8.GetString(decrypted);

} 
```

感谢您提前回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-17T11:49:03.180

KDF2 是密钥种子（任何长度，应该表示具有足够熵的密钥），后缀为 BigEndian 表示法中的 4 字节计数器值，从值 1 开始。所以这将是`KEY_SEED|00000001`第一个密钥。在连接之后，使用像 SHA-1 这样的安全散列算法对值进行散列（要使用的散列是可配置的）。然后，您从生成的哈希值中获取所需的 X*最左边*的位或字节。

我只能告诉您如何实现 KDF2，因为它通常不包含在加密 API 中，恐怕您必须自己进行实现和测试（无论如何这“过于本地化”）。

# jsp - 创建简单的 servlet/ejb 程序时出错

> ID：14907385
> 
> 赞同：1
> 
> 时间：2013-02-16T05:44:01.407
> 
> 标签：jsp, tomcat, servlets, ejb

我在尝试执行一个简单的 ejb/servlet 应用程序时遇到了一些错误。我使用的服务器是使用 eclipse 作为 IDE 的 tomcat 7.0。

这是servlet

```
public class CurrencyServlet extends HttpServlet {
    @EJB
    CurrencyEjb ejb;
    private static final long serialVersionUID = 1L;

    /**
     * @see HttpServlet#HttpServlet()
     */
    public CurrencyServlet() {
        super();
        // TODO Auto-generated constructor stub
    }
    public void init(ServletConfig config){

    }
    /**
     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
     */
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        // TODO Auto-generated method stub
    }

    /**
     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
     */
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    double result=0;    
    String currency=request.getParameter("amount");
    double cur=Double.parseDouble(currency);
    if(cur>0)
    {
        if((request.getParameter("currency").equals("yen")))
                {
            result=ejb.toYen(cur);
                }
        else
            result=ejb.toDollars(cur);
    }
    PrintWriter out=response.getWriter();
    out.println("Your value is worth:"+result);
    out.close();
    }

}

The currencyejb file is as follows.

import javax.ejb.*;
@Stateless
public class CurrencyEjb implements CurrencyMethods{
public double toYen(double request)
{
    double result=request*115.3100;
    return result;
}
@Override
public double toDollars(double request)
{
    double result=request*0.0071;
    return result;
}

} 
```

我的 web.xml 文件是给定的

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd" id="WebApp_ID" version="3.0">
  <display-name>CurrenyConverter</display-name>
  <welcome-file-list>
    <welcome-file>index.html</welcome-file>
    <welcome-file>index.htm</welcome-file>
    <welcome-file>index.jsp</welcome-file>
    <welcome-file>default.html</welcome-file>
    <welcome-file>default.htm</welcome-file>
    <welcome-file>default.jsp</welcome-file>
  </welcome-file-list>
 <servlet>
        <servlet-name>CurrencyServlet</servlet-name>
        <servlet-class>CurrencyServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>CurrencyServlet</servlet-name>
        <url-pattern>/CurrencyServlet</url-pattern>
    </servlet-mapping>
</web-app> 
```

我得到的错误如下

```
javax.servlet.ServletException: Error instantiating servlet class CurrencyServlet
    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:380)
    org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:243)
    org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:188)
    org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:166)
    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:288)
    java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    java.lang.Thread.run(Unknown Source)

root cause 

javax.naming.NameNotFoundException: Name CurrencyServlet is not bound in this Context
    org.apache.naming.NamingContext.lookup(NamingContext.java:803)
    org.apache.naming.NamingContext.lookup(NamingContext.java:159)
    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:380)
    org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:243)
    org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:188)
    org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:166)
    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:288)
    java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    java.lang.Thread.run(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T17:58:56.467

那是因为，Tomcat 是一个 Web 容器，而不是一个应用程序容器。您应该将代码部署在应用程序服务器中，例如[Glassfish](http://glassfish.java.net/)、 [JBoss](http://www.jboss.org/) 、[TomEE](http://tomee.apache.org/)、[WebLogic Application Server](http://en.wikipedia.org/wiki/WebLogic_Application_Server)、[WebSphere Application Server](http://en.wikipedia.org/wiki/IBM_WebSphere_Application_Server)等

查看以下链接了解更多信息

*   [Web 服务器、Web 容器和应用服务器](http://geekexplains.blogspot.in/2008/06/web-server-web-container-application.html)

*   [Web 服务器与应用服务器](https://stackoverflow.com/questions/5481902/web-server-vs-app-server)

希望这可以帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T12:59:06.130

乍一看，这部分似乎有问题：

```
@EJB
CurrencyEjb ejb; 
```

您正在尝试执行 EJB 注入，这在 Tomcat 中是不可能的。如果您的 EJB CurrencyEjb 部署在其他地方（即在**应用程序服务器**中），那么您可以访问它，但不能通过 EJB 注入。也就是说，Tomcat 不是 EJB 容器，它只是 servlet 容器，也就是说 - 您不能在其上部署 EJB。看看[Glassfish](http://glassfish.java.net/)、[JBoss](http://www.jboss.org)或[TomEE](http://tomee.apache.org/)（具有完全 Java EE 支持的 Tomcat 扩展）并尝试在那里部署您的项目。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T13:12:12.320

```
<servlet>
       <servlet-name>CurrencyServlet</servlet-name>
       <servlet-class>CurrencyServlet</servlet-class>
</servlet> 
```

这可能是因为您没有设置完整的 servlet 路径，包括包。例如：

```
<servlet-class>your.full.package.CurrencyServlet</servlet-class> 
```

# sharepoint - 错误处理未捕获运行时错误

> ID：14907389
> 
> 赞同：2
> 
> 时间：2013-02-16T05:44:32.913
> 
> 标签：sharepoint, vba, excel

我有一个从 Sharepoint 签出工作簿然后打开工作簿的程序。我注意到如果工作簿缺少一些必需的文档属性，它会生成运行时错误，因此我添加了一些错误捕获，如下所示：

```
Public Function getWorkbook(bkPath As String) As Workbook

Dim bk As Workbook
Dim response As Boolean

secAutomation = Application.AutomationSecurity

On Error GoTo errHandler

If Workbooks.CanCheckOut(bkPath) Then
    Workbooks.CheckOut bkPath
    Application.AutomationSecurity = msoAutomationSecurityForceDisable
    Application.EnableEvents = False
    Application.DisplayAlerts = False
    Set bk = Workbooks.Open(bkPath, False, False)
    Application.DisplayAlerts = True
    Application.EnableEvents = True
    Application.AutomationSecurity = secAutomation
    If bk Is Nothing Then
        response = dbo_global.setStatus("error", failedToOpen)
    End If
Else
    response = dbo_global.setStatus("error", checkedout)
    Set bk = Nothing
End If
Set getWorkbook = bk
Exit Function

errHandler:
Application.DisplayAlerts = True
Application.EnableEvents = True
Application.AutomationSecurity = secAutomation
If Not bk Is Nothing Then
    bk.Close False
    Set bk = Nothing
End If
response = dbo_global.setStatus("error", checkoutProblem)

End Function 
```

`dbo_global.setStatus()`是用于将条目插入 Access 错误日志的函数。

错误是在 处引发的`Workbooks.CheckOut bkPath`，但我没有转到该`errHandler`块，而是收到一个错误消息框：

```
Run-time error '-2147467259 (80004005)':    
This document cannot be checked in. 
```

我希望通过关闭打开的工作簿并丢弃结帐来处理错误，但我不知道如何在`errHandler`代码中捕获错误。

编辑：如果有帮助，这是我在工作簿顶部收到的警告消息：

```
Required Properties
To save to the server, correct the invalid or missing required properties. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T22:34:23.323

很可能您的 Visual Basic 编辑器设置稍有偏差。在*Options* -> *General* -> *Error Trapping*中，您需要检查`Break on Unhandled Errors`- 如果是`Break on All Errors`，您将获得您描述的行为。

![在此处输入图像描述](../Images/6594f35648d4574de5c2d448999fea4f.png)

# cuda - CUDA调度器的工作

> ID：14907390
> 
> 赞同：0
> 
> 时间：2013-02-16T05:44:40.407
> 
> 标签：cuda, gpgpu, nvidia, pycuda

我如何知道 CUDA 调度程序的行为？除了在我的应用程序中通过改变网格大小、块大小等来测试它之外，是否有任何供应商提供的文档准确地解释了块的分布方式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:51:39.703

这取决于您正在处理的架构。

例如，在 Fermi 架构上，您有一个 GigaThread 全局调度程序，它将线程块分配给流式多处理器 (SM) 调度程序。对于每个 SM，Dual Warp 调度程序将线程安排在 32 个并行线程组中，称为 warp。

这在[关于 Fermi 的 NVIDIA 白皮书](http://www.nvidia.com/content/PDF/fermi_white_papers/NVIDIA_Fermi_Compute_Architecture_Whitepaper.pdf)中得到了很好的解释。我建议也看看这个其他[文件](http://www.nvidia.com/content/PDF/fermi_white_papers/N.Brookwood_NVIDIA_Solves_the_GPU_Computing_Puzzle1.pdf)。

# mysql - 如何将mysql数据传递到单选按钮并在另一个页面上使用它

> ID：14907391
> 
> 赞同：0
> 
> 时间：2013-02-16T05:44:59.193
> 
> 标签：mysql

我在这里要做的是，首先我正在使用 juz php 和 mysql 构建一个测验平台，并且我有一个带有问题 id、qestion、option1、option2、option3、option4 和答案的表格，所以我想通过问题和从 mysql 到单选按钮的选项，并在结果页面使用输入的值

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T05:58:00.580

试试这个希望它对你有用

```
<script type="text/javascript" src="js/jquery-latest.min.js"></script>

<script type="text/javascript">
    $(function(){
        $('.table').hide();
    });

    function next(number){
        $('.table').hide();
        $('#table'+number).fadeIn(100);
    }
</script> 
```

体内有

```
<?php

        $query = mysql_query("SELECT * FROM table_name ORDER BY id");

        $i = 1;

        while($row = mysql_fetch_array($query)){

    ?>
    <table id="table<?php echo $i; ?>" class="table">
        <tbody>
        <tr>
            <td class="1" id="td01" valign="top" >
                 <?php echo $row['qestion']; ?>
            </td>
        </tr>
        <tr>
            <td id="td1"  class="tdradio" valign="top">
                <input type="radio" name="option" value="<?php echo $row['option1']; ?>">
            </td>

        </tr>
        <tr>
            <td id="td2"  class="tdradio" valign="top">
            <input type="radio" name="option" value="<?php echo $row['option2']; ?>">
            </td>

        </tr>
        <tr>
            <td id="td3"  valign="top">
            <input type="radio" name="option" value="<?php echo $row['option3']; ?>">
            </td>
        </tr>
        <tr>
            <td id="td4"  valign="top">
            <input type="radio" name="option" value="<?php echo $row['option4']; ?>">
            </td>
        </tr>
        <tr>
            <td class="question">
                    <?php echo $i; $i++; ?>/<?php echo mysql_num_rows($query); ?>
            </td>
        </tr>
        <tr>
            <td id="next">
                <div class="next" onClick="next(<?php echo $i; ?>);"></div>
            </td>
        </tr>
        </tbody>
    </table>
    <?php } ?> 
```

# meteor - 如何停止所有正在运行的流星服务器

> ID：14907397
> 
> 赞同：4
> 
> 时间：2013-02-16T05:46:07.787
> 
> 标签：meteor

我知道我可以为新项目切换正在运行的端口流星，但是如何退出正在运行的其他端口。我已经关闭了他们正在运行的终端窗口，所以我不能做 crtl + c

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-16T08:43:45.110

打开活动监视器

`Applications/Utilities/Application Monitor.app`

选择任何调用的进程`node`并单击`Quit Process`

# android - 当用户单击按钮时，如何增加 TextView 的大小？

> ID：14907400
> 
> 赞同：0
> 
> 时间：2013-02-16T05:46:27.687
> 
> 标签：android

当用户单击按钮时，如何增加 TextView 的大小？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T08:54:23.683

在 on click 方法中使用以下代码

> yourtextview.setTextSize(TypedValue.COMPLEX_UNIT_SP,14);

试一试，看看它是否有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T07:18:58.427

我可能会通过使用 TextView 大小属性来做到这一点。

在按钮的 onClick 中，您可以调用 setTextSize(int,float) 属性来增加或减少大小。

您可能还需要一个变量来根据值增加大小，然后在变量变为 5 后，您可以将大小减小回原始大小

希望这可以帮助。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-16T05:53:56.030

```
public class Zoom extends Activity
{
private String productName;

public void onCreate(Bundle savedInstanceState)
 {

        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, 
                            WindowManager.LayoutParams.FLAG_FULLSCREEN);

        setContentView(R.layout.zoom);

        Intent intent = getIntent();
        productName = intent.getStringExtra("ChoosenMed");

        TextView productNameTextView=(TextView)findViewById(R.id.prodcutNameZoomTextView);
  productNameTextView.setText(productName);

 }
} 
```

# java - 两个不同的JVM进程分离Hibernate实例异常

> ID：14907407
> 
> 赞同：1
> 
> 时间：2013-02-16T05:47:56.117
> 
> 标签：java, linux, hibernate

我遇到了一个奇怪的场景——我有两个休眠实例（比如 A 和 B）由两个单独的 JVM 进程运行——请不要问为什么，但我必须这样做。当A提交（trans.commit（））并写入MySql中的表T然后当B从T读取相同的记录时，它会得到陈旧的数据。

A 和 B 每个都有一个会话对象，比如 sessionA 和 sessionB。因此，没有调用新的 openSession()。

谁能告诉我为什么会这样？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T05:59:27.763

肯定需要有关事务边界和缓存设置的更多信息。要确定这是否是缓存问题，请在实例 B 读取实例 A 写入的数据之前运行以下代码：

```
 session.getSessionFactory().getCache().evictCollectionRegions();
    session.getSessionFactory().getCache().evictDefaultQueryRegion();
    session.getSessionFactory().getCache().evictEntityRegions();
    session.getSessionFactory().getCache().evictQueryRegions(); 
```

这会驱逐所有配置的缓存。如果之后对 B 的读取有效，那么您在实例之间存在缓存问题（可能）。如果 B 上的读取仍然不起作用，我将通过终端检查数据库以确保 A 的数据已提交。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T07:29:32.190

您使用哪个数据库引擎在 MySQL 中创建数据库。如果您使用**InnoDB**作为数据库引擎，请将其更改为**MyISAM**。这是创建多个休眠 SessionFactory 实例时最常见的问题之一。如果您正在使用二级缓存，有人会认为这可能是一个问题，但事实并非如此。因此，更改数据库引擎肯定会帮助您解决问题。

告诉我它是否对你有用。如果这不起作用，我将提供其他解决方案。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-25T14:05:46.160

关于其他替代方案：如果您使用 Hibernate 作为您的 ORM（对象关系映射）工具，那么您可以在 hibernate 文档中检查**LockOptions 。**您可以在插入然后从数据库中检索的实体上使用**LockMode.Upgrade 。**

摘要：查看休眠中的**LockOptions**并在这种情况下应用**LockMode** **升级。**

如果您仍然遇到任何问题，请发布。希望它能为您解决问题。

谢谢。

# javascript - 缩放时表格数据溢出

> ID：14907411
> 
> 赞同：0
> 
> 时间：2013-02-16T05:49:00.350
> 
> 标签：javascript, jquery, zooming, hammer.js

我在`<div>`. div 包含一个框..

现在我已经使用外部插件hammer.js 将缩放功能单独应用于表格。

所以当我缩放我的桌子时，它会溢出到盒子外面。有没有办法解决这个问题？

我的 div 里面的盒子有以下 css 属性：

```
.box {

    background:none repeat scroll 0 0 rgba(115, 165, 188, 0.52);
    border: 2px solid rgb(65, 65, 65);
    padding: 8px;
    border-radius: 8px 8px 8px 8px;

} 
```

# c++ - 如何打印出 char** 向量的内容

> ID：14907413
> 
> 赞同：0
> 
> 时间：2013-02-16T05:49:09.213
> 
> 标签：c++, vector

所以，

我正在寻找打印出向量的内容；我已经为它尝试了一个迭代器，但这并不好

```
for(vector<char**>::const_iterator i=myVec.begin();i!=myVec.end();i++) {
   cout<<**i<<endl;
} 
```

这不起作用，我在想我将需要两个迭代器（上面的一个将是外部的，而内部的将是这样的：

```
 for(vector<char*>::const_iterator j=???;j!=??;j++) {....} 
```

但我无法让它工作。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T06:52:27.673

似乎在这里工作得很好：

```
#include <iostream>
#include <vector>

int main()
{
    const char* sentence1[] = {"foo", "bar", "baz"};
    const char* sentence2[] = {"xyzzy", "frob", "plugh"};
    std::vector<const char**> vec = {sentence1, sentence2};

    for (auto i : vec) {
        for (size_t w = 0; w < 3; ++w) {
            std::cout << i[w] << ' ';
        }
    }
    std::cout << '\n';
} 
```

这将打印：

```
foo bar baz xyzzy frob plugh
```

以上是C++11。如果没有，则需要更改向量初始化和`for`循环：

```
std::vector<const char**> vec;
vec.push_back(sentence1);
vec.push_back(sentence2);

for (std::vector<const char**>::iterator it = vec.begin();
     it != vec.end(); ++it)
{
    for (size_t w = 0; w < 3; ++w) {
        std::cout << (*it)[w] << ' ';
    }
} 
```

可以想象，您需要为每个句子假设相同数量的单词。如果您不希望这样，您可以创建一个新的数据结构，该结构还将每个句子的单词量与句子向量一起保存。

成为受虐狂是一项很好的练习，但出于实际目的，您可能应该切换到向量，以便更轻松地迭代单词。

# tree - ANTLR 自定义 DOT 模板

> ID：14907419
> 
> 赞同：2
> 
> 时间：2013-02-16T05:50:12.147
> 
> 标签：tree, antlr, dot, stringtemplate, abstract-syntax-tree

有没有办法创建/扩展用于在 ANTLR 中生成 .dot 文件的默认模板？

我的节点中有一些自定义属性，我想在我的树上进行可视化，而不是每次都必须将它们打印到控制台。

我目前只有 StringTemplate (V3) 的基本工作知识。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T08:09:08.900

你可以做的是：

*   在构造函数中扩展`DOTTreeGenerator`和更改（静态）节点模板
*   覆盖它`getNodeST`并将您的自定义属性添加到模板

演示如何添加每棵树的子数的演示：

```
// Original source of DOTTreeGenerator: 
// https://github.com/antlr/antlr3/blob/master/runtime/Java/src/main/java/org/antlr/runtime/tree/DOTTreeGenerator.java
class MyDOTTreeGenerator extends DOTTreeGenerator {

    public MyDOTTreeGenerator() {
        // added ", childCount=$childCount$"
        DOTTreeGenerator._nodeST = new StringTemplate("$name$ [label=\"text=$text$, childCount=$childCount$\"];\n");
    }

    @Override
    protected StringTemplate getNodeST(TreeAdaptor adaptor, Object t) {

        // cast "t" to your own tree implementation
        CommonTree tree = (CommonTree)t;
        String text = adaptor.getText(t);
        StringTemplate nodeST = _nodeST.getInstanceOf();
        String uniqueName = "n"+getNodeNumber(t);
        nodeST.setAttribute("name", uniqueName);

        // set the "childCount" attribute 
        nodeST.setAttribute("childCount", tree.getChildCount());
        nodeST.setAttribute("text", fixString(text));
        return nodeST;
    }
} 
```

像这样使用它：

```
TLexer lexer = new TLexer(new ANTLRStringStream("..."));
TParser parser = new TParser(new CommonTokenStream(lexer));
CommonTree root = parser...
MyDOTTreeGenerator gen = new MyDOTTreeGenerator();
System.out.println(gen.toDOT(root)); 
```

# php - preg_match_all 和 umlets

> ID：14907421
> 
> 赞同：0
> 
> 时间：2013-02-16T05:50:24.137
> 
> 标签：php, regex, preg-match-all

我正在使用 preg_match_all 过滤掉字符串

我在 preg_match_all 中提供的字符串是

```
$text = "Friedric'h Wöhler" 
```

之后我使用

```
preg_match_all('/(\"[^"]+\"|[\\p{L}\\p{N}\\*\\-\\.\\?]+)/', $text, $arr, PREG_PATTERN_ORDER); 
```

当我打印 $arr 时得到的结果是

```
Array
(
    [0] => Array
        (
            [0] => friedric
            [1] => h
            [2] => w
            [3] => ouml
            [4] => hler
        )

    [1] => Array
        (
            [0] => friedric
            [1] => h
            [2] => w
            [3] => ouml
            [4] => hler
        )

) 
```

不知何故， ö 字符被 ouml 取代，我不确定如何解决这个问题

我期待以下结果

```
Array
(
    [0] => Array
        (
            [0] => Friedric'h 
            [1] => Wöhler
        )

) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T06:24:27.723

根据 nhahtdh 的评论：

```
$text = "Friedric'h Wöhler";
preg_match_all('/"[^"]+"|[\p{L}\p{N}*.?\\\'-]+/u', $text, $arr, PREG_PATTERN_ORDER);
echo "<pre>";
print_r($arr);
echo "</pre>"; 
```

给

```
Array
(
    [0] => Array
        (
            [0] => Friedric'h
            [1] => Wöhler
        )

) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-01-24T16:03:54.947

如果你觉得`preg_match_all()`很乱，你可以看看[pattern()](https://t-regx.com)：

```
$p = '"[^"]+"|[\p{L}\p{N}*.?\\\'-]+';  // automatic delimiters
$text = "Friedric'h Wöhler";

$result = pattern($p)->match($text)->all(); 
```

# java - Java多态如何调用子类对象的超类方法

> ID：14907424
> 
> 赞同：12
> 
> 时间：2013-02-16T05:51:10.617
> 
> 标签：java, methods, polymorphism, subclass

这是我要问的一个例子

超类名称.java

```
public class Name{
  protected String first;
  protected String last;

      public Name(String firstName, String lastName){
         this.first = firstName;
         this.last = lastName;
      }

       public String initials(){
         String theInitials = 
            first.substring(0, 1) + ". " +
            last.substring(0, 1) + ".";
         return theInitials;
      } 
```

然后子类是 ThreeNames.java

```
public class ThreeNames extends Name{
  private String middle;

   public ThreeNames(String aFirst, String aMiddle, String aLast){
     super(aFirst, aLast);
     this.middle = aMiddle;
  }

   public String initials(){
     String theInitials = 
        super.first.substring(0, 1) + ". " +
        middle.substring(0, 1) + ". " +
        super.last.substring(0, 1) + ".";
     return theInitials;
  } 
```

所以如果我创建一个 Threename 对象`ThreeNames example1 = new ThreeNames("Bobby", "Sue" "Smith")` 然后调用`System.out.println(example1.initials());`我会得到`B.S.S.` 我得到的。

我的问题是有没有办法调用 Name 类中的 initials 方法，这样我的输出就是`B.S.`

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-02-16T05:54:41.137

不。一旦您覆盖了一个方法，那么从外部对该方法的任何调用都将被路由到您覆盖的方法（当然，除非它在继承链的下游再次被覆盖）。您只能从您自己的重写方法内部调用超级方法，如下所示：

```
public String someMethod() {
   String superResult = super.someMethod(); 
   // go on from here
} 
```

但这不是您要在这里寻找的。你也许可以把你的方法变成：

```
public List<String> getNameAbbreviations() {
   //return a list with a single element 
} 
```

然后在子类中这样做：

```
public List<String> getNameAbbreviations() {
   List fromSuper = super.getNameAbbreviations();
   //add the 3 letter variant and return the list 
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-16T05:53:56.490

有很多方法可以做到这一点。一种方法：不要覆盖`Names#initials()`.`ThreeNames`

另一种方法是添加一个`ThreeNames`委托给`Names#initials()`.

```
public class ThreeNames extends Name {
    // snip...

    public String basicInitials() {
        return super.initials();
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-16T06:01:41.543

相反，我会将首字母单独留在超类中，并引入一个新方法来返回完整的首字母。因此，在您的代码中，我只需将 ThreeNames 中的 initials 方法重命名为其他名称。这样，您的姓名首字母方法在 Name 的实现中是相同的

# php - 我如何解决这个 $_GET 数组问题？

> ID：14907427
> 
> 赞同：0
> 
> 时间：2013-02-16T05:51:39.003
> 
> 标签：php, get

我的搜索页面有问题。当页面加载时，有一个值来自类似这样的 URL。

```
http://localhost/myweb/search.php?subject=Business+%26+Accounting+Studies 
```

此值用于显示我的搜索结果。首先，我在我的页面上检查此值以确保它是否为真，它是否为字符串等。

验证码：

```
// Check for a valid keyword from search input:
if ((isset($_GET['subject'])) && (is_string ($_GET['subject']))) {

    foreach ( $_GET AS $key => $subject) {
        $searchKey = $key;
        $searchKeyword = '%'.$subject.'%';
    }

    echo '<pre>', print_r( $_GET), '</pre>';

}else { // No valid keyword, kill the script.
    echo 'This page has been accessed in error.';
    include ('includes/footer.html');
    exit();
} 
```

这段代码目前对我有用。但是当我在加载搜索页面后通过 URL 传递另一个变量时遇到了我的问题。为什么我传递这 2 个变量是我需要在某些条件下过滤我的搜索结果。

我在我的 search.php 页面上使用 2 个 HTML 链接来传递这 2 个变量。它是这样的。

```
echo '<li><a href="?tutor=link">Tutor</a></li>
      <li><a href="?institute=link">Institute</a></li>'; 
```

我检查这个值是这样的：

```
$tutor = isset($_GET['institute']) ? '0' : '1'; 
$institute = isset($_GET['tutor']) ? '0' : '1'; 
```

我的问题是页面首次加载时正确显示所有搜索结果。但是单击过滤链接它不起作用，并且在页面上根本不显示任何搜索结果。

**更新：**调试结果。

这是`print_r($_GET)`第一次加载页面时的结果。

```
Array
(
    [subject] => Mathematics
) 
```

当我点击一个我用来过滤的链接（导师、研究所）时，它变成了这样

```
Array
(
    [subject] => Mathematics
    [tutor] => link
) 
```

过滤不会发生，并且不会在页面上显示任何结果。

当我再次单击相同的链接时，它变成了这样。

```
Array
(
    [subject] => link
    [tutor] => link
) 
```

再次过滤没有发生并且不在页面上显示任何结果。

谁能告诉我如何解决这个问题？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T06:03:12.637

您的链接不正确。

您需要将第二个变量添加到 url。
$subject = $_GET['subject'];

```
echo '<li><a href="?tutor=link&subject='.$subject.'">Tutor</a></li>
      <li><a href="?institute=link&subject='.$subject.'">Institute</a></li>'; 
```

你也不觉得这个

```
$tutor = isset($_GET['institute']) ? '0' : '1'; 
$institute = isset($_GET['tutor']) ? '0' : '1'; 
```

应该

```
$tutor = isset($_GET['institute']) ? '1' : '0'; //if set then 1
$institute = isset($_GET['tutor']) ? '1' : '0'; //if set then 1 
```

* * *

和

```
foreach ( $_GET AS $key => $subject) {
        $searchKey = $key;
        $searchKeyword = '%'.$subject.'%';
    } 
```

至

```
foreach ( $_GET AS $key => $subject) {

if ($key == 'subject') {
            $searchKey = $key;
            $searchKeyword = '%'.$subject.'%';
     }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T06:02:26.490

当您单击其中一个链接时，它实际上会将您发送到`http://localhost/myweb/search.php?tutor=link`或`http://localhost/myweb/search.php?institute=link`分别发送给您。你需要做的是更像

```
echo '<li><a href="?subject=' . $_GET['subject'] . '&tutor=link">Tutor</a></li>
      <li><a href="?subject=' . $_GET['subject'] . '&institute=link">Institute</a></li> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T06:07:15.000

```
try to use `urlencode();` and `urldecode();` 
```

认为它会解决你的问题。检查[http://php.net/manual/en/function.urlencode.php](http://php.net/manual/en/function.urlencode.php) [http://www.php.net/manual/en/function.urldecode.php](http://www.php.net/manual/en/function.urldecode.php) 以获得进一步的帮助

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-16T06:14:52.453

您似乎在 foreach 循环中替换了搜索关键字：

```
foreach ( $_GET AS $key => $subject) {
    $searchKey = $key;
    $searchKeyword = '%'.$subject.'%';
} 
```

所以如果你有 $_GET 的主题和导师，结果将是：

```
$searchkey = 'tutor';
$searchkeyword = '%link%'; 
```

这是不正确的。简单地写：

```
$searchkey = 'subject';
$searchkeyword = "%{$_GET['subject']}%"; 
```

并且不要使用 foreach。

**编辑** 整个事情是：

```
// Check for a valid keyword from search input:
if ((isset($_GET['subject'])) && (is_string ($_GET['subject']))) {

    // foreach ( $_GET AS $key => $subject) {
        $searchKey = 'subject';
        $searchKeyword = '%' . $_GET['subject'] . '%';
    // }

    echo '<pre>', print_r( $_GET), '</pre>';

} else { // No valid keyword, kill the script.
    echo 'This page has been accessed in error.';
    include ('includes/footer.html');
    exit();
} 
```

# php - 如何导入将mysql数据转换为json格式的php脚本，从d3.json函数强制定向布局

> ID：14907429
> 
> 赞同：0
> 
> 时间：2013-02-16T05:51:50.547
> 
> 标签：php, mysql, json, d3.js, force-layout

我正在使用 d3 工具进行可视化。我已将我的 mysql 数据转换为 json 格式，该格式应作为 d3 的输入。

现在，我正在逐步解决从 d3 代码调用该 php 脚本的问题。目前我这样打电话：

```
 d3.json("getdata.php", function(json) {
    force
      .nodes(json.nodes)
      .links(json.links)
      .start(); 
```

它不工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-17T03:27:07.210

这是一个非常简单的答案，所以我希望您可能已经介绍过它，但是如果您使用的是 d3.v3.js，您可能需要在 JSON 调用中包含这样的错误引用；

```
d3.json("getdata.php", function(error, json) {
    force 
        .nodes(json.nodes)
        .links(json.links)
        .start(); 
```

我是否可以如此大胆地查看以下帖子以查看是否有帮助； [http://www.d3noob.org/2013/02/using-mysql-database-as-source-of-data.html](http://www.d3noob.org/2013/02/using-mysql-database-as-source-of-data.html)

如果做不到这一点，如果您可以发布更多有助于其他人排除故障的代码和数据。

祝你好运 ：-）

# android - 我怎样才能发现首先从屏幕上抬起的手指？

> ID：14907434
> 
> 赞同：0
> 
> 时间：2013-02-16T05:53:01.027
> 
> 标签：android, touch-event

在 Android API level 7 中，当我使用 时`ACTION_POINTER_UP`，如何发现哪个手指先从屏幕上抬起？

只有两个接触点。我想知道手指何时离开屏幕。该手指是第一次或最后一次触摸屏幕的手指。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T05:59:46.080

> 我怎样才能发现首先从屏幕上抬起的手指？

你可以`getActionIndex()`使用`MotionEvent`

# python - 如何使用 urllib 编辑 csv 文件？

> ID：14907441
> 
> 赞同：0
> 
> 时间：2013-02-16T05:54:12.550
> 
> 标签：python, csv, urllib

当我打开雅虎财经的历史股票报价时，我想下载和操作一个 csv 文件。

简要了解 csv 文件的外观：

```
Date,Open,High,Low,Close,Volume,Adj Close
2012-11-30,691.31,699.22,685.69,698.37,3163600,698.37
2012-11-29,687.78,693.90,682.00,691.89,2776500,691.89
2012-11-28,668.01,684.91,663.89,683.67,3042000,683.67 
```

我想创建一个代码来删除单词“open, High, Low, Close, Volume, Adj”和它下面的数据，并添加两个新列，给我：

```
Date        Close    [Insert new column here] [Another column]
2012-11-30  698.37      ---some data----       ---some data----
2012-11-29  691.89      ---some data----       ---some data----
2012-11-28  683.67      ---some data----       ---some data---- 
```

我是使用 Python 的初学者，所以我在编写这段代码时遇到了一些麻烦。如果有人可以帮助我，我将非常感激。

到目前为止，这就是我所拥有的，尽管它并没有按照我想要的方式工作。

```
def _download_url(url):
    response = None
    try:
        response = urllib.request.urlopen(url)
        content_bytes=response.read()
        content_string=content_bytes.decode(encoding='utf-8')
        data = io.StringIO(content_string)
        mycsv=csv.reader(data)
        for row in mycsv:
            if row:
                print(row[0],row[6]) 
```

这段代码打印出来（一瞥）：

```
Date Adj Close
2012-11-30 698.37
2012-11-29 691.89
2012-11-28 683.67
2012-11-27 670.71 
```

这是我想要的，但我想删除“Adj”并添加两个新列。谢谢你！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:46:32.820

`DictReader`我碰巧是in 类的忠实粉丝`csv`，因为它消除了解析`csv`s 的所有猜测（不再有索引！）：

```
mycsv = csv.DictReader(data)
print('{:<11} {:<8} {:<12} {:<12}'.format('Date', 'Close', 'Col1', 'Col2'))
for row in mycsv:
    print('{:<11} {:<8} {:<12} {:<12}'.format(row['Date'], row['Adj Close'], '123', '456') 
```

第一个`print`打印出标题行，第二个`print`打印出每一行（请注意，这`DictReader`将为您使用 CSV 中的标题行）。使用`{:<11} {:<8} {:<12} {:<12}`指定大小的整齐固定列格式化您的数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T06:39:13.547

在创建之前`data`，调整`content_string`以删除“Adj”：

```
content_string=content_bytes.decode(encoding='utf-8')
content_string = content_string.replace('Adj ', '')
data = io.StringIO(content_string) 
```

至于添加列，由您在`print`语句中执行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T19:27:40.040

如果您还没有对自己的设计感兴趣，我建议您查看[pandas](http://pandas.pydata.org/)。它使这样的事情比其他方式容易得多。获取数据：

```
>>> from pandas.io.data import DataReader
>>> apple = DataReader("AAPL",  "yahoo")
>>> apple
<class 'pandas.core.frame.DataFrame'>
DatetimeIndex: 786 entries, 2010-01-04 00:00:00 to 2013-02-15 00:00:00
Data columns:
Open         786  non-null values
High         786  non-null values
Low          786  non-null values
Close        786  non-null values
Volume       786  non-null values
Adj Close    786  non-null values
dtypes: float64(5), int64(1)
>>> apple[:5]
              Open    High     Low   Close    Volume  Adj Close
Date                                                           
2010-01-04  213.43  214.50  212.38  214.01  17633200     210.90
2010-01-05  214.60  215.59  213.25  214.38  21496600     211.26
2010-01-06  214.38  215.23  210.75  210.97  19720000     207.90
2010-01-07  211.75  212.00  209.05  210.58  17040400     207.52
2010-01-08  210.30  212.00  209.06  211.98  15986100     208.90 
```

添加新列：

```
>>> apple["new_column"] = apple["Open"]/apple["Volume"]**0.3 + 5
>>> apple[:5]
              Open    High     Low   Close    Volume  Adj Close  new_column
Date                                                                       
2010-01-04  213.43  214.50  212.38  214.01  17633200     210.90    6.430066
2010-01-05  214.60  215.59  213.25  214.38  21496600     211.26    6.354936
2010-01-06  214.38  215.23  210.75  210.97  19720000     207.90    6.389032
2010-01-07  211.75  212.00  209.05  210.58  17040400     207.52    6.433440
2010-01-08  210.30  212.00  209.06  211.98  15986100     208.90    6.451164 
```

只选择我们想要的列：

```
>>> new = apple[["Close", "new_column"]]
>>> new[:5]
             Close  new_column
Date                          
2010-01-04  214.01    6.430066
2010-01-05  214.38    6.354936
2010-01-06  210.97    6.389032
2010-01-07  210.58    6.433440
2010-01-08  211.98    6.451164 
```

等等。

# ios - 如何在 IOS 中检查蓝牙是打开还是关闭？

> ID：14907442
> 
> 赞同：0
> 
> 时间：2013-02-16T05:54:13.560
> 
> 标签：ios, cocoa-touch

我正在使用 GameKit.framework 在我的应用程序中实现蓝牙，但在 didLoad 我想检查蓝牙是打开还是关闭。谁能告诉我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:06:47.403

有一个名为的*私有框架*`BluetoothManager`可以轻松获取状态。但是，如果您使用它，您的应用**可能会被应用商店拒绝**。因此，仅将其用于您打算以其他方式分发的应用程序。

在您的项目中包含[此标头。](https://github.com/mattlawer/iOS6-Private-Frameworks/blob/master/BluetoothManager/BluetoothManager.h)然后你可以写：

```
#import "BluetoothManager/BluetoothManager.h"

BluetoothManager *bt;

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
    bt = [[BluetoothManager alloc] init];
}

- (BOOL)getBluetoothEnabled {
    return [bt enabled];
} 
```

然后，您只需调用`getBluetoothEnabled`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T05:57:32.580

您无法检查当前的 SDK。没有可用的**公共 API**。

# wcf - 肥皂加工中间系统示例

> ID：14907443
> 
> 赞同：0
> 
> 时间：2013-02-16T05:54:38.990
> 
> 标签：wcf, soap

当您阅读有关 WCF 消息安全性并将其与传输安全性进行比较时，他们总是提到的缺点之一是传输安全性是点对点的，并且无法保护通过中介路由的消息。

这些中介的例子是什么。你什么时候用一个？

我在服务方面的所有经验都是点对点通信，因此我正在尝试为您可能遇到 SOAP 中介、路由器或代理建立一个上下文。

SO上还有其他问题可以解决我的问题，但没有直接回答我的问题。例如，在这个问题中：

[SSL 是否提供点对点安全性？](https://stackoverflow.com/questions/4280145/does-ssl-provide-point-to-point-security)

答案说：

> 中间系统”，我认为引用意味着一个必须访问中间消息的系统（有意或无意）......不仅仅是路由器，而是实际解密、查看和/或修改消息的东西。

我的问题是：需要查看/解密/修改消息的系统示例是什么，为什么需要这样做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T05:57:54.197

我刚刚在 MS 的这份文档中找到了部分答案：

[http://msdn.microsoft.com/en-us/library/ff647097.aspx](http://msdn.microsoft.com/en-us/library/ff647097.aspx)

它的一部分说：

使用 X.509 证书的消息层安全性足够灵活，可以提供点对点或端到端的安全性。这允许消息在基于队列的处理的短时间内以安全状态保存，或者以归档状态保存更长时间。

例如，如果一条消息被排队或存储到磁盘上。大概在它被处理并从磁盘中删除的过程中，它会保持加密状态。

编辑：这是一篇关于构建 WCF 服务路由器的非常好的文章，解释了您可能想要使用的一些原因：http: [//msdn.microsoft.com/en-us/magazine/cc500646.aspx](http://msdn.microsoft.com/en-us/magazine/cc500646.aspx)

另请参阅：http: [//msdn.microsoft.com/en-us/library/ms731081.aspx](http://msdn.microsoft.com/en-us/library/ms731081.aspx)

# c++ - 常量缓冲区成员访问相同的内存

> ID：14907451
> 
> 赞同：0
> 
> 时间：2013-02-16T05:55:24.773
> 
> 标签：c++, directx, buffer, hlsl, directx-11

我正在使用一个常量缓冲区在每一帧将数据传递给我的着色器，并且我遇到了一个问题，即缓冲区的某些成员的值指向同一内存。

当我使用 Visual Studio 2012 调试工具时，看起来数据在缓冲区中的设置或多或少是正确的：

```
0   [0x00000000-0x00000003] |                 +0
1   [0x00000004-0x00000007] |                 +1
2   [0x00000008-0x0000000b] |                 +1
3   [0x0000000c-0x0000000f] |                 +1
4   [0x00000010-0x00000013] |        +0.78539819
5   [0x00000014-0x00000017] |         +1.1760513
6   [0x00000018-0x0000001b] |                 +0
7   [0x0000001c-0x0000001f] |                 +1 
```

问题是当我调试着色器时， sunAngle 和 phaseFunction 都具有相同的值 - 具体来说`0.78539819`，它应该只是 sunAngle 的值。如果我交换两个浮点数的顺序，它确实会改变`1.1760513`，但两者仍然是相同的。我以为我已经正确地将所有内容打包在一起，但是我是否错过了如何准确定义缓冲区每个部分中的常量？

这是我正在使用的 C++ 结构：

```
struct SunData {
    DirectX::XMFLOAT4 sunPosition;
    float sunAngle;
    float phaseFunctionResult;
}; 
```

着色器缓冲区如下所示：

```
// updated as the sun moves through the sky
cbuffer sunDependent : register( b1 )
{
    float4 sunPosition;
    float sunAngle;              // theta
    float phaseFunctionResult;   // F( theta, g )
} 
```

这是我用来初始化缓冲区的代码：

```
XMVECTOR pos =  XMVectorSet( 0, 1, 1, 1 );
XMStoreFloat3( &_sunPosition, pos );

XMStoreFloat4( &_sun.sunPosition, pos );
_sun.sunAngle = XMVectorGetX(
    XMVector3AngleBetweenVectors( pos, XMVectorSet( 0, 1, 0, 0 ) )
);

_sun.phaseFunctionResult = _planet.phaseFunction( _sun.sunAngle );

// Fill in a buffer description.
D3D11_BUFFER_DESC cbDesc;
cbDesc.ByteWidth = sizeof( SunData ) + 8;
cbDesc.Usage = D3D11_USAGE_DYNAMIC;
cbDesc.BindFlags = D3D11_BIND_CONSTANT_BUFFER;
cbDesc.CPUAccessFlags = D3D11_CPU_ACCESS_WRITE;
cbDesc.MiscFlags = 0;
cbDesc.StructureByteStride = 0;

// Fill in the subresource data.
D3D11_SUBRESOURCE_DATA data;
data.pSysMem = &_sun;
data.SysMemPitch = 0;
data.SysMemSlicePitch = 0;

// Create the buffer.
ID3D11Buffer *constantBuffer = nullptr;
HRESULT hr = _d3dDevice->CreateBuffer(
    &cbDesc,
    &data,
    &constantBuffer
);

assert( SUCCEEDED( hr ) );

// Set the buffer.
_d3dDeviceContext->VSSetConstantBuffers( 1, 1, &constantBuffer );
_d3dDeviceContext->PSSetConstantBuffers( 1, 1, &constantBuffer );
Release( constantBuffer ); 
```

这是使用这些值的像素着色器：

```
float4 main( in ATMOS_PS_INPUT input ) : SV_TARGET
{
    float R = sunAngle * sunPosition.x * sunIntensity.x
        * attenuationCoefficient.x
        * phaseFunctionResult;

    return float4( R, 1, 1, 1 );
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T09:31:28.767

它看起来像这个问题中的填充问题：[问题](https://stackoverflow.com/questions/14782061/d3d10-constant-buffer-not-working)

所有常量缓冲区的大小都应该被 sizeof(四分量向量) ( [doc](http://msdn.microsoft.com/en-us/library/windows/desktop/bb509632%28v=vs.85%29.aspx) )整除

# opengl - OpenGL 图形管道中的 NURBS

> ID：14907454
> 
> 赞同：0
> 
> 时间：2013-02-16T05:56:10.010
> 
> 标签：opengl, graphics, render, pipeline, nurbs

我很好奇 NURBS 是如何在 GPU / OpenGL 图形管道中渲染的。我知道 OpenGL 和 GLUT 中有各种调用可以使用 glMap 和 glMapGrid 从编码角度轻松渲染 NURBS 对象，但我没有得到的是 OpenGL 执行此操作的过程。NURBS 背后的想法是使用曲线来定义曲面，而图形管道似乎是围绕三角形光栅化和三角形网格构建的，而 NURBS 是基于弯曲的贝塞尔曲线。

那么，从（高级）管道的角度来看，NURBS 是如何实际渲染的？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-16T09:38:32.100

简单的答案是，它们*不在*OpenGL 管道中处理，但必须转换为 GL 管道可以处理的东西。一般的方法可能是首先转换为更实时友好的基元，例如贝塞尔补丁，然后在运行时将它们细分为三角形。

镶嵌可以是规则的，将网格映射到补丁上，或者可以基于曲率，在方差较高的地方进一步细分补丁。无论哪种方式，表面仅在某些顶点处被真正评估，并渲染为平面多边形（尽管着色器可用于创建适当平滑变化的法线等）

`glMap()`et-al（以前用于帮助渲染贝塞尔补丁等）已被弃用，并且不再存在于现代 OpenGL API 中。如今，您将使用着色器来处理曲面细分。

# python - memcached 可以有效处理多大的数据？

> ID：14907457
> 
> 赞同：1
> 
> 时间：2013-02-16T05:56:32.083
> 
> 标签：python, django, caching, memcached

`memcached`在不降低性能的情况下，我可以存储和检索多大的值？我在基于 django 的 Web 应用程序中使用 memcached 和 python-memcached。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T06:02:20.850

读这个：

[https://groups.google.com/forum/?fromgroups=#!topic/memcached/IaMLUeOGxWk](https://groups.google.com/forum/?fromgroups=#!topic/memcached/IaMLUeOGxWk)

您不应该在 memcached 中“存储”任何内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T06:17:18.673

Memcached 或多或少仅受运行它的服务器数量中可用（空闲）内存的限制。内存越多，适合的数据就越多，并且由于它使用相当有效的内存索引，因此您不会真正看到更多对象的性能会以任何显着方式下降。

但请记住，它是一个*缓存*，并不能保证您能够检索您放入的内容。更多内存将使 memcached 尝试在内存中保留更多数据，但不能保证它不会只是抛出数据即使内存可用，如果它以某种方式找到更好的主意。

# php - 在php中从秒计算日期

> ID：14907459
> 
> 赞同：0
> 
> 时间：2013-02-16T05:56:41.460
> 
> 标签：php, date, time, seconds

从秒计算未来日期。

```
$var = 5183990; //seconds
$today = '2013-02-16 11:00:00'; //date 
```

就像我有`5183990`秒作为变量 $var。
现在我想知道`5183990`当前时间几秒后的未来日期/时间。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T05:59:22.013

由于`time()`以秒为单位返回当前时间戳，只需将您的时间间隔（以秒为单位）添加到其中，然后将其格式化为日期：

```
echo date("Y-m-d H:i:s",time()+$var); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T06:04:55.453

尝试这个

```
strtotime('2013-02-16 11:00:00')-time()+$var; 
```

详情： http: [//php.net/manual/en/function.strtotime.php](http://php.net/manual/en/function.strtotime.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-16T06:10:06.033

您可以使用，

```
echo date("Y m d h:i:s a",time()+$var); 
```

在哪里，

`time()`返回当前时间，然后在其中添加秒数`$var`将产生时间`$var seconds`......`date()`然后将其格式化为您的选择......

# java - 通过检查地图大小到不同数据库的不同连接

> ID：14907460
> 
> 赞同：0
> 
> 时间：2013-02-16T05:56:42.453
> 
> 标签：java, database, multithreading

我有一个看起来像这样的 HashMap -

```
 HashMap<String, TableConnectionInfo> tableList 
```

这意味着它的值是一个`TableConnectionInfo`看起来像这样的类 -

```
public class TableConnectionInfo {

    public String url;
    public String user;
    public String password;
    public String driver;
    public String suffix;
    public String sql;

    public String getUrl() {
        return url;
    }

    public void setUrl(String url) {
        this.url = url;
    }

    public String getUser() {
        return user;
    }

    public void setUser(String user) {
        this.user = user;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    public String getDriver() {
        return driver;
    }

    public void setDriver(String driver) {
        this.driver = driver;
    }

    public String getSuffix() {
        return suffix;
    }

    public void setSuffix(String suffix) {
        this.suffix = suffix;
    }

    public String getSql() {
        return sql;
    }

    public void setSql(String sql) {
        this.sql = sql;
    }

} 
```

所以假设，如果我在上面有两个值`HashMap`。这意味着，我需要对两个不同的数据库建立两个不同的连接。并假设如果该映射具有三个值，那么我需要对三个不同的数据库建立三个不同的连接。

在主线程中，我通过像这样从属性文件中读取上面的地图来填充上面的地图，之后这个地图将不会被修改。

```
for (String arg : databaseNames) {

    TableConnectionInfo ci = new TableConnectionInfo();

    String url = prop.getProperty(arg + ".url");
    String user = prop.getProperty(arg + ".user");
    String password = prop.getProperty(arg + ".password");
    String driver = prop.getProperty(arg + ".driver");
    String suffix = prop.getProperty(arg + ".suffix");
    String sql = prop.getProperty(arg + ".sql");

    ci.setUrl(url);
    ci.setDriver(driver);
    ci.setPassword(password);
    ci.setSql(sql);
    ci.setSuffix(suffix);
    ci.setUser(user);
    tableList.put(arg, ci);
} 
```

现在我将此`tableList`映射传递给这样的各种线程，并且它不会被任何线程修改（通过进行集合调用）。每个线程都将使用 get 方法来获取所需的方法。

```
for (int i = 0; i< 1000; i++) {
    service.submit(new Task(tableList));
} 
```

所以在运行方法中我需要根据`tableList`大小进行不同的连接。因此，如果`tableList`大小为 2，则意味着我需要对两个不同的数据库进行两个不同的连接、callableStatements 和方法。

**问题：-**

那么，与我`run method`在创建与数据库的不同连接的方式相比，有什么更好的方法`tableList size`吗？

下面是我的包含可运行接口的任务类

```
class Task implements Runnable {

    private Connection[] dbConnection = null;
    private CallableStatement[] callableStatement = null;
    private ArrayList<Method> methods[] = null;

    private final HashMap<String, TableConnectionInfo> tableLists;

    public Task(HashMap<String, TableConnectionInfo> tableList) {
        this.tableLists = tableList;
    }

    @Override
    public void run() {

        try {

            int j = 0;
            dbConnection = new Connection[tableLists.size()];
            callableStatement = new CallableStatement[tableLists.size()];
            methods = new ArrayList[tableLists.size()];

            for (TableConnectionInfo ci : tableLists.values()) {

                dbConnection[j] = getDBConnection(ci.getUrl(), ci.getUser(), ci.getPassword(),  ci.getDriver());
                callableStatement[j] = dbConnection[j].prepareCall(ci.getSql());

                methods[j] = getRequiredMethods(ci.getSuffix());
                j++;
            }

          }
             }
       } 
```

与该数据库建立连接-

```
private Connection getDBConnection(String url, String username, String password, String driver) {

        Connection dbConnection = null;

        try {
            Class.forName(driver);
            dbConnection = DriverManager.getConnection(url, username, password);
        } 

        return dbConnection;
    } 
```

只需在此处添加即可`getRequiredMethods`获取特定表的所有方法名称。因此，假设如果 tableList 大小为 1，那么我们将只有一个与该数据库的连接，因此`getRequiredMethods`将获取所有方法`table1`并将其存储在 ArrayList 中。但是假设如果 tableList 的大小为 2，那么我们将有两个不同的连接到两个不同的数据库，这就是我将方法作为数组创建的原因，以便它可以保存表 1 的方法和表 2 的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T08:52:26.103

好的，我仍然不确定 Task 是如何使用它获取的数据的。但是，我会将 getConnection、getCallableStatement 和 getMethods() 函数移到 TableConnectionInfo 上的方法中。您可以简单地创建一个 TableConnectionInfo 集合（如您已经拥有的那样进行初始化，存储在一个 ArrayList 中）。然后 Runnable 简单地遍历 TableConnectionInfo。

```
public class TableConnectionInfo {

    private String url;
    private String user;
    private String password;
    private String driver;
    private String suffix;
    private String sql;

private Connection connection;

<snip... getters and setters for the properties>

public Connection getConnection() {
    // TODO  create and return a connection
    if (connection == null) {
        // create the connection
    }
    return connection;
}

public CallableStatement getCallableStatement() {
    // get the callable statement
    return null;
}

public Collection<Method> getMethods() {
    // Get the Methods
    return null;
}

}

public class TableTask implements Runnable {

private Collection<TableConnectionInfo> tables;

public TableTask(Collection<TableConnectionInfo> tables) {
    this.tables = tables;
}

@Override
public void run() {
    for (TableConnectionInfo table : tables) {
        // do something with table.getConnection(), or table.getCallableStatement()
        // and/or table.getMethods()
    }
}

} 
```

# java - 使用 JPA 和 hsqldb 的休眠语法异常

> ID：14907461
> 
> 赞同：0
> 
> 时间：2013-02-16T05:56:51.487
> 
> 标签：java, hibernate, jpa-2.0, hsqldb, jboss-arquillian

我正在尝试编写持久性测试。我有一个 Maven 项目，并且正在使用带有嵌入式 glassfish 容器的 Arquillian、Hibernate（作为我的 JPA 提供程序）和内存中的 HSQLDB 作为我的存储。

当我运行我的测试时，我得到一个语法异常（如有必要，我可以发布完整的堆栈跟踪：

```
javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: Syntax error: Encountered "identity" at line 1, column 6. 
```

日志似乎显示正确创建的表：

```
Hibernate: 
    create table Game (
        id bigint generated by default as identity (start with 1),
        title varchar(50) not null,
        primary key (id)
    )
Dumping old records...
Hibernate: 
    delete 
    from
        Game
Inserting records...
Hibernate: 
    insert 
    into
        Game
        (id, title) 
    values
        (default, ?)
Hibernate: 
    drop table Game if exists
Hibernate: 
    drop table Member if exists 
```

我已经包含了我认为相关的文件

*   持久性.xml
*   pom.xml
*   实体类
*   测试班

**持久性.xml：**

```
<?xml version="1.0" encoding="UTF-8"?>
<persistence version="2.0" xmlns="http://java.sun.com/xml/ns/persistence"     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd">
  <persistence-unit name="testPU" transaction-type="JTA">
    <provider>org.hibernate.ejb.HibernatePersistence</provider>
    <class>Member</class>
    <class>Game</class>
    <exclude-unlisted-classes>true</exclude-unlisted-classes>
    <properties>

         <property name="javax.persistence.jdbc.driver" value="org.hsqldb.jdbcDriver"     />
         <property name="javax.persistence.jdbc.url"     value="jdbc:hsqldb:mem:demodb" />
         <property name="javax.persistence.jdbc.user" value="sa" />
         <property name="javax.persistence.jdbc.password" value="" />

         <property name="hibernate.dialect" value="org.hibernate.dialect.HSQLDialect"     />
         <property name="hibernate.hbm2ddl.auto" value="create-drop" />
         <property name="hibernate.show_sql" value="true" />
         <property name="hibernate.format_sql" value="true" />

    </properties>
</persistence-unit>
</persistence> 
```

**pom.xml**

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>....</groupId>
    <artifactId>....</artifactId>
    <version>1.0-SNAPSHOT</version>
    <packaging>war</packaging>

    <name>Web App</name>

    <properties>
        <endorsed.dir>${project.build.directory}/endorsed</endorsed.dir>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <netbeans.hint.deploy.server>gfv3ee6</netbeans.hint.deploy.server>
        <arquillian.version>1.0.0.Alpha2</arquillian.version>
    </properties>

    <dependencies>

        <dependency>
            <groupId>org.hsqldb</groupId>
            <artifactId>hsqldb</artifactId>
            <version>2.2.9</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.10</version>
            <scope>test</scope>
        </dependency>

        <dependency>
            <groupId>org.jboss.arquillian.junit</groupId>
            <artifactId>arquillian-junit-container</artifactId>
            <scope>test</scope>
        </dependency>

        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-entitymanager</artifactId>
            <version>4.1.9.Final</version>
        </dependency>

    </dependencies>

    <dependencyManagement>
        <dependencies>
            <dependency>
                <groupId>org.jboss.arquillian</groupId>
                <artifactId>arquillian-bom</artifactId>
                <version>1.0.3.Final</version>
                <scope>import</scope>
                <type>pom</type>
            </dependency>
        </dependencies>
    </dependencyManagement>

    <profiles>
        <profile>
            <id>arquillian-glassfish-embedded</id>
            <dependencies>
                <dependency>
                    <groupId>org.jboss.arquillian.container</groupId>
                    <artifactId>arquillian-glassfish-embedded-3.1</artifactId>
                    <version>1.0.0.CR3</version>
                    <scope>test</scope>
                </dependency>
                <dependency>
                    <groupId>org.glassfish.main.extras</groupId>
                    <artifactId>glassfish-embedded-all</artifactId>
                    <version>3.1.2</version>
                    <scope>provided</scope>
                </dependency>
            </dependencies>
        </profile>
    </profiles>

    <build>
        <plugins>
            <plugin>
                <artifactId>maven-surefire-plugin</artifactId>
                <version>2.13</version>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.3.2</version>
                <configuration>
                    <source>1.6</source>
                    <target>1.6</target>
                    <compilerArguments>
                        <endorseddirs>${endorsed.dir}</endorseddirs>
                    </compilerArguments>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-jar-plugin</artifactId>
                <version>2.4</version>
                <configuration>
                    <source>1.6</source>
                    <target>1.6</target>
                    <compilerArguments>
                        <endorseddirs>${endorsed.dir}</endorseddirs>
                    </compilerArguments>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-war-plugin</artifactId>
                <version>2.1</version>
                <configuration>
                    <failOnMissingWebXml>false</failOnMissingWebXml>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-dependency-plugin</artifactId>
                <version>2.1</version>
                <executions>
                    <execution>
                        <phase>validate</phase>
                        <goals>
                            <goal>copy</goal>
                        </goals>
                        <configuration>
                            <outputDirectory>${endorsed.dir}</outputDirectory>
                            <silent>true</silent>
                            <artifactItems>
                                <artifactItem>
                                    <groupId>javax</groupId>
                                    <artifactId>javaee-endorsed-api</artifactId>
                                    <version>6.0</version>
                                    <type>jar</type>
                                </artifactItem>
                            </artifactItems>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
        </plugins>
        <finalName>....</finalName>
    </build>

    <repositories>
        <repository>
            <url>http://download.java.net/maven/2/</url>
            <id>hibernate-support</id>
            <layout>default</layout>
            <name>Repository for library Library[hibernate-support]</name>
        </repository>
        <repository>
            <url>http://ftp.ing.umu.se/mirror/eclipse/rt/eclipselink/maven.repo</url>
            <id>eclipselink</id>
            <layout>default</layout>
            <name>Repository for library Library[eclipselink]</name>
        </repository>
    </repositories>
</project> 
```

**实体**

```
//imports removed

@Entity
public class Game implements Serializable {
    @Id @GeneratedValue(strategy = GenerationType.AUTO)
    private Long id;
    private String title;

    public Game() {}

    public Game(String title) {
        this.title = title;
    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    @NotNull
    @Size(min = 3, max = 50)
    public String getTitle() {
        return title;
    }

    public void setTitle(String title) {
        this.title = title;
    }

    @Override
    public String toString() {
        return "Game@" + hashCode() + "[id = " + id + "; title = " + title + "]";
    }
} 
```

**测试类*

```
//imports removed

@RunWith(Arquillian.class)
public class GamePersistenceTest {

    @Deployment
    public static Archive<?> createDeployment() {
        return ShrinkWrap.create(WebArchive.class, "test.war")
                .addPackage(Game.class.getPackage())
                .addAsResource("META-INF/persistence.xml")
                .addAsWebInfResource(EmptyAsset.INSTANCE, "beans.xml");
    }
    private static final String[] GAME_TITLES = {
        "Super Mario Brothers",
        "Mario Kart",
        "F-Zero"
    };
    @PersistenceContext
    EntityManager em;

    @Inject
    UserTransaction utx;

    // tests go here
    @Test
    public void shouldFindAllGamesUsingJpqlQuery() throws Exception {
        // given
        String fetchingAllGamesInJpql = "select g from Game g order by g.id";

        // when
        System.out.println("Selecting (using JPQL)...");
        List<Game> games = em.createQuery(fetchingAllGamesInJpql, Game.class).getResultList();

        // then
        System.out.println("Found " + games.size() + " games (using JPQL):");
        assertContainsAllGames(games);
    }

    private static void assertContainsAllGames(Collection<Game> retrievedGames) {
        Assert.assertEquals(GAME_TITLES.length, retrievedGames.size());
        final Set<String> retrievedGameTitles = new HashSet<String>();
        for (Game game : retrievedGames) {
            System.out.println("* " + game);
            retrievedGameTitles.add(game.getTitle());
        }
        Assert.assertTrue(retrievedGameTitles.containsAll(Arrays.asList(GAME_TITLES)));
    }

    @Before
    public void preparePersistenceTest() throws Exception {
        clearData();
        insertData();
        startTransaction();
    }

    private void clearData() throws Exception {
        utx.begin();
        em.joinTransaction();
        System.out.println("Dumping old records...");
        em.createQuery("delete from Game").executeUpdate();
        utx.commit();
    }

    private void insertData() throws Exception {
        utx.begin();
        em.joinTransaction();
        System.out.println("Inserting records...");
        for (String title : GAME_TITLES) {
            Game game = new Game(title);
            em.persist(game);
        }
        utx.commit();
        // clear the persistence context (first-level cache)
        em.clear();
    }

    private void startTransaction() throws Exception {
        utx.begin();
        em.joinTransaction();
    }

    @After
    public void commitTransaction() throws Exception {
        utx.commit();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T07:12:21.530

这是我的persistence.xml 的问题。我相信我在 db URL 上缺少一个属性来创建 DB `create=true`。我还放弃了 JPA 配置以支持 Hibernate 属性。虽然，我还没有测试过，但我希望只需要第一次更改。我的工作文件在下面，以防有人需要它。

```
<?xml version="1.0" encoding="UTF-8"?>
<persistence version="2.0" xmlns="http://java.sun.com/xml/ns/persistence" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd">
    <persistence-unit name="testPU" transaction-type="JTA">
        <provider>org.hibernate.ejb.HibernatePersistence</provider>
        <class>Member</class>
        <class>Game</class>
        <exclude-unlisted-classes>true</exclude-unlisted-classes>
        <properties>
            <property name="hibernate.connection.url" value="jdbc:hsqldb:mem:demodb;create=true"/>
            <property name="hibernate.connection.driver_class" value="org.hsqldb.jdbcDriver"/>
            <property name="hibernate.dialect" value="org.hibernate.dialect.DerbyDialect"/>
            <property name="hibernate.hbm2ddl.auto" value="create-drop"/>
            <property name="hibernate.show_sql" value="true" />
            <property name="hibernate.format_sql" value="true" />
            <property name="hibernate.connection.username" value="sa"/>
            <property name="hibernate.connection.password" value=""/>         
        </properties>
    </persistence-unit>

</persistence> 
```

# php - Codeigniter 会话 - 访问数据库中所有用户的用户数据值

> ID：14907464
> 
> 赞同：0
> 
> 时间：2013-02-16T05:57:26.893
> 
> 标签：php, codeigniter, session

我正在使用 Codeigniter 的 Session 类将会话值存储在数据库中。该`userdata`字段中包含用户的用户名和其他值。

我想`username`从 >= 的每个`userdata`字段中获取`lastactivity`5 分钟。

我能想到的唯一方法是：

*   搜索最近 5 分钟内活跃的用户
*   获取返回的每一行的用户数据
*   反序列化用户数据
*   提取用户名

然而，这似乎是漫长的道路。有没有更清洁/更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T07:30:04.983

试试这个代码。

```
$query = $this->db->select('user_data')->get('ci_sessions');

$user = array(); /* array to store the user data we fetch */

foreach ($query->result() as $row)
{
    $udata = unserialize($row->user_data);

    /* put data in array using username as key */
    $user[$udata['user_name']] = $udata['user_role']; 
} 
```

从结果数组中，您可以获取所需的信息。

# java - Android 如何在活动之间传递 LinkedHashMap？

> ID：14907468
> 
> 赞同：16
> 
> 时间：2013-02-16T05:57:54.183
> 
> 标签：java, android, android-intent, android-activity

我正在尝试在活动之间传递 LinkedHashMap，我的代码是这样的

活动一

```
LinkedHashMap mLinkedHashMap = new LinkedHashMap<String, Object>();
// setting data in map
Bundle bundle = new Bundle();
bundle.putSerializable("OBJECTS_LINKED_HASHMAP", mLinkedHashMap);  
Intent intent = new Intent(this, ActivityB.class); 
intent.putExtras(bundle);
startActivity(intent); 
```

在活动中，当我收到捆绑对象时，我收到“类转换异常”错误消息

活动 B

```
Bundle bundle = this.getIntent().getExtras();
LinkedHashMap mLinkedHashMap = new LinkedHashMap<String, Object>();
mLinkedHashMap = (LinkedHashMap<String, Object>) bundle.getSerializable("OBJECTS_LINKED_HASHMAP"); 
```

获取类转换异常

```
ClassCastException: java.util.HashMap cannot be cast to LinkedHashMap 
```

我检查了文档 LinkedHashMap 也实现了 Serializable 接口。

我使用 LinkedHashMap 是因为我想维护对象顺序，他们插入的方式我想按顺序返回。

如何在活动之间传递 LinkedHashMap？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-02-16T07:33:09.977

尝试`GSON`改变:)

从此[链接下载 gson.jar](http://code.google.com/p/google-gson/downloads/detail?name=google-gson-2.2.2-release.zip&can=2&q=)

并在您的项目中添加 gson-2.2.2.jar 文件。
现在使用 GSON 将您的 LinkedHashMap 传递给另一个活动

像这样（根据您的需要修改下面的代码）：

**主要活动：：：**

```
public class MainActivity extends Activity {
    ObjectClass obj=new ObjectClass();
    LinkedHashMap<String, ObjectClass> mLinkedHashMap = new LinkedHashMap<String, ObjectClass>();
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        obj.id=1;
        obj.name="hello";

        mLinkedHashMap.put("test", obj);

        Gson gson = new Gson();
        String list = gson.toJson(mLinkedHashMap); 
        Intent intent = new Intent(this, secondActivity.class); 
        intent.putExtra("list", list);
        startActivity(intent);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }
} 
```

**第二活动:::**

```
public class secondActivity extends Activity {
    LinkedHashMap<String, ObjectClass> mLinkedHashMap = new LinkedHashMap<String, ObjectClass>();
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
     String str=  getIntent().getStringExtra("list");
     Gson gson = new Gson();

     Type entityType = new TypeToken< LinkedHashMap<String, ObjectClass>>(){}.getType();
     mLinkedHashMap = gson.fromJson(str, entityType);
    ObjectClass obj = mLinkedHashMap.get("test");

     Log.i("list", ""+obj.id);
    }
} 
```

为我工作。希望这会有所帮助。

这是我的对象类供参考。

```
public class ObjectClass {

    public int id;
    public String name;

    public int getId() {
        return id;
    }
    public void setId(int id) {
        this.id = id;
    }
    public String getName() {
        return name;
    }
    public void setName(String name) {
        this.name = name;
    }

} 
```

**如何添加 gson-2.2.2.jar 文件。**

1) 从下载的文件夹 "google-gson-2.2.2" 复制您的 gson-2.2.2.jar 。
2）将其粘贴到项目的资产文件夹中。
3）现在通过右键单击您的项目>构建路径>配置构建路径进入您的项目构建路径。
4）它将打开一个对话框，从右侧菜单中选择java构建路径并转到库标签，然后
单击“添加罐子。 .." 按钮，如下图所示
，它将打开另一个对话框来添加 jar。这里选择我们在项目资产文件夹中添加的 gson-2.2.2.jar（步骤 2）。
它会将 jar 添加到您的项目中（我已经在我的项目中添加了它，如下图所示）

![在此处输入图像描述](../Images/57bafc535ad38b54ae21fcb9ef3ebc34.png) 5）现在选择 Order 和 Export 标签并选择您的 gson-2.2.2.jar（见下图）。
![在此处输入图像描述](../Images/5bc3ae4663b1fd7791a20a91ec0d4314.png)`GSON`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-16T06:08:03.560

LinkedHashMap<> 不是 Parcelable 或 Serializable

**编辑 ：**

检查这个：

[序列化/反序列化 LinkedHashMap (android) java](https://stackoverflow.com/questions/2890346/serialize-deserialize-a-linkedhashmap-android-java)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-16T06:09:08.523

编辑：

根据 Manish Android 提供的链接，解决方案是

```
 if (getIntent().getSerializableExtra("OBJECTS_LINKED_HASHMAP") != null)
                HashMap<?, ?>   user_info = (HashMap<?, ?>) getIntent().getSerializableExtra("OBJECTS_LINKED_HASHMAP");

    LinkedHashMap<String, Object>   userdata= (LinkedHashMap<String, Object>) user_info 
```

* * *

你需要得到这样的

```
if (getIntent().getSerializableExtra("OBJECTS_LINKED_HASHMAP") != null)
        LinkedHashMap<String, Object>   user_info = (LinkedHashMap<String, Object>) getIntent().getSerializableExtra("OBJECTS_LINKED_HASHMAP"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-04-22T23:34:18.253

我的方法如下：

CustomObject 必须实现 Parcelable。要设置捆绑包：

```
 LinkedHashMap<Integer, List<CustomObject>> mItems

    Bundle bundle = new Bundle();

    bundle.putInt("ItemsSize",mItems.size());          
    int mapIndex=0;

for(Map.Entry<Integer, List<CustomObject>> entry : mItems.entrySet()) {
    int key = entry.getKey();
    bundle.putInt("Key"+mapIndex, key);
    bundle.putParcelableArrayList("Value"+mapIndex, mItems.get(key));
    mapIndex++;
} 
```

要获取捆绑包：

```
for(int i=0;i<bundle.getInt("ItemsSize");i++) {
    int key = bundle.getInt("Key"+i);
    ArrayList<CustomObject> value = bundle.getParcelableArrayList("Value"+i);
    mItems.put(key, value);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-11-26T17:33:33.133

作为字节数组传递，然后反序列化并转换为 `LinkedHashMap`目标 Activity。

# python - 带产量和不带产量的循环数据有什么不同

> ID：14907471
> 
> 赞同：1
> 
> 时间：2013-02-16T05:58:02.273
> 
> 标签：python

我有两种循环数据的方法，一种是使用*for 循环*， 另一种是使用*yield*，我想知道有什么区别。

1.  For循环（获取100000条数据）

    ```
    data='select 100000 data from database'

    for d in date:
        do something with d 
    ```

2.  yield（每次获取1000条数据，然后查询数据库100次）

    ```
    def func():
        data='select 1000 data from database'
        while date.count>0:
            yield data

    data = func()   
    for d in data:
        do something with d 
    ```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:08:40.290

从功能上讲，它们是相同的。

主要区别在于，在第二种情况下，很容易拥有几个不同的“做某事”块，而无需重复 SQL 语句。在第一种情况下，“做某事”是硬编码的。

# c# - Invokemember("onclick") 返回 false Webbrowser

> ID：14907472
> 
> 赞同：0
> 
> 时间：2013-02-16T05:58:03.713
> 
> 标签：c#

我正在尝试从我的程序中执行单击按钮，但它返回 null 并且调试器在该点停止。

```
HtmlElement links = webBrowser1.Document.GetElementById("ctl00_ContentPlaceHolder1_Btn_Submit");
//links.InvokeMember("onclick");
//var ei = links.GetType().GetEvent("Click").GetRaiseMethod();

links.InvokeMember("onclick"); // return false

links.InvokeMember("click");  // return Null 
```

按钮的 HTML 代码如下：

```
 <input style="width: 77px;" id="ctl00_ContentPlaceHolder1_Btn_Submit" class="button" tabIndex="8" onclick="if(typeof(Page_ClientValidate)=='function'){if(Page_ClientValidate(vGroup)==false){Page_BlockSubmit=false;return false;}} this.value=this.value+'...'; this.disabled=true;__doPostBack('ctl00$ContentPlaceHolder1$Btn_Submit','');" name="ctl00$ContentPlaceHolder1$Btn_Submit" value="Submit" type="submit"/><br/> 
```

# excel - Excel 多条件排名

> ID：14907473
> 
> 赞同：1
> 
> 时间：2013-02-16T05:58:13.117
> 
> 标签：excel, ranking

![在此处输入图像描述](../Images/4d190c3521ce23f2307cf35e2c86d5b8.png)[https://www.dropbox.com/s/05f82d5piw0pfd2/Book1.xls](https://www.dropbox.com/s/05f82d5piw0pfd2/Book1.xls)

大家好，谁能告诉我如何处理我试图解决的上述排名问题。

我喜欢的只是在 Month = February 和 Item = Item 1 时对 Names Occurrence 进行排名，此外，忽略所有 item 2 以及它之间的偶数名称和月份。

另外，由于我有更多记录，如果可能的话，请告诉我如何将排名应用于整个列。

目前我尝试使用

```
 =SUMPRODUCT(--(A:A=A2),--(C:C=C2),--(B:B=B2)--(D2=D:D))` 
```

但看起来它不是那样工作的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T06:31:31.247

在 E 列（稍后可以隐藏）中添加一个帮助列，以筛选出您要排除的行：

```
 =IF(AND(A2="Item 1",C2="February"),D2,"") 
```

这当然会被复制到数据的底部。

然后在 E 列的公式结果的 F 列中进行排名：

```
 =IFERROR(RANK(E2,E:E),"") 
```

再次向下复制到数据的末尾。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T06:49:15.717

SUMPRODUCT 可能看起来像这样。我不完全理解你为什么只对这 18 项中的 3 项进行排名；此 sumproduct 对 ITEM=1 MONTH=FEBRUARY 行的所有 11 行进行排名[它还分别对其他行进行排名，但您可以将其包装在 IF 中并抑制这些行]。

```
=1+SUMPRODUCT(($A$2:$A$18=A2)*($C$2:$C$18=C2)*($D$2:$D$18>D2)) 
```

再读一遍，我猜你真的高估了 D 列（这似乎是 C 出现的数量）。我认为，您可以使用 COUNTIF 来查看您是否在具有该名称的第一行。

# magento - Magento 捆绑产品，更改下拉

> ID：14907476
> 
> 赞同：0
> 
> 时间：2013-02-16T05:58:30.297
> 
> 标签：magento, bundle, product

我想知道如何将“请选择...”设置为默认下拉标签，并将磁电机捆绑产品与虚拟产品的默认价格设置为 0。

我想在选择数量之前看到价格为 0

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T04:45:00.287

可以在以下文件中编辑 app\design\frontend\default\\template\bundle\catalog\product\view\type\bundle\option\select.phtml

# python - Python Tornado – 如何修复“URLhandler 完全采用 X 参数”错误？

> ID：14907489
> 
> 赞同：4
> 
> 时间：2013-02-16T06:02:06.600
> 
> 标签：python, tornado

这是错误：

```
TypeError: __init__() takes exactly 1 argument (3 given)
ERROR:root:Exception in callback <tornado.stack_context._StackContextWrapper object at 0x1017d4470>
Traceback (most recent call last):
  File "/Library/Python/2.7/site-packages/tornado-2.4.1-py2.7.egg/tornado/ioloop.py", line  421, in _run_callback
    callback()
  File "/Library/Python/2.7/site-packages/tornado-2.4.1-py2.7.egg/tornado/iostream.py", line 311, in wrapper
    callback(*args)
  File "/Library/Python/2.7/site-packages/tornado-2.4.1-py2.7.egg/tornado/httpserver.py", line 268, in _on_headers
    self.request_callback(self._request)
  File "/Library/Python/2.7/site-packages/tornado-2.4.1-py2.7.egg/tornado/web.py", line 1395, in __call__
    handler = spec.handler_class(self, request, **spec.kwargs)
TypeError: __init__() takes exactly 1 argument (3 given) 
```

这是代码：

```
class IndexHandler(tornado.web.RequestHandler):
    def __init__(self):
        self.title = "Welcome!"

    def get(self):
        self.render("index.html", title=self.title) 
```

我已将代码简化为上述代码，但我对为什么会产生该错误感到困惑。我一定是做错了什么，但我不知道是什么（通过了 3 个参数？？？...嗯？）

注意：`title`变量只是`<title>{{ title }}</title>`我的 index.html 模板中的变量。

我正在运行 32 位版本的 Python 2.7.3，以便与 Mysqldb-Python 一起使用。如您所见，我的 Tornado 版本是 2.4.1。我也在 OSX Lion 上运行（如果这有什么不同的话......）也许是一个最终产生这个错误的兼容性问题？

调试此过程中的所有帮助表示赞赏。谢谢你。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-16T09:48:47.133

@Princess of the Universe 是对的，但也许这需要一些详细说明。

`__init__`Tornado 将使用`RequestHandler`参数调用子类`application, request, **kwargs`，因此您需要允许这样做。

你可以这样做：

```
def __init__(self, application, request, **kwargs):
    self.title = "Welcome!"
    super(IndexHandler, self).__init__(application, request, **kwargs) 
```

这意味着您的`IndexHandler`类现在使用与父类相同的签名进行初始化。

但是，我更喜欢`initialize`Tornado 为此目的提供的方法：

```
def initialize(self):
    self.title = "Welcome!" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T06:12:57.460

你是压倒一切的

```
__init__() 
```

以不恰当的方式。

看

[http://www.tornadoweb.org/documentation/web.html](http://www.tornadoweb.org/documentation/web.html)

签名是

```
class tornado.web.RequestHandler(application, request, **kwargs)[source] 
```

很明显，您必须为派生类的构造函数提供相同的 API。

# javascript - 如何将 = 替换为 ==，但使用 RegEx 忽略 >= 或 <= 中的等号

> ID：14907490
> 
> 赞同：0
> 
> 时间：2013-02-16T06:02:09.857
> 
> 标签：javascript, regex

在像 a=b 这样的字符串中，我需要用 == (a==b) 替换等号。但是我不想替换 a<=b 或 a>=b 中的等号。

我看到正则表达式有“（？！expr）后面没有expr。” 但不是“前面没有 expr”。我在 JavaScript 中这样做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:05:07.543

不幸的是，JavaScript 不支持使这项工作轻松进行所需的后视。但是，您可以模拟它们：

```
.replace(/([^<>])=([^=])/g,"$1==$2") 
```

请注意，这不会替换`=`字符串开头或结尾的任何内容，但鉴于上下文，我认为这不是问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T06:05:32.390

你想要负后视。

```
(?<!a)b 
```

[http://www.regular-expressions.info/lookaround.html](http://www.regular-expressions.info/lookaround.html)

# assembly - 16位汇编发送字符到串口

> ID：14907495
> 
> 赞同：0
> 
> 时间：2013-02-16T06:02:46.203
> 
> 标签：assembly, x86, serial-port, masm

我使用 hdd 设备监视器工作室在虚拟串行端口（COM7 和 COM8）上创建了桥接器，并希望使用 16 位程序集 [使用 masm] 发送和接收数据。一开始我写了这段代码来向 COM7 发送一个字符并监听这个端口但没有任何东西传输。我使用另一个软件发送数据测试了这个端口的监视器。这是代码：

```
.MODEL small
.STACK 100h
.data
.code
_start:
mov ax,@data
mov ds,ax
mov ah, 0           ;Initialize opcode
mov al, 11100011b   ;Parameter data.
mov dx, 6           ;COM7: port.
int 14h
again:
    mov  dx, 6           ;Select COM7:
    mov  al, 'm'        ;Character to transmit
    mov  ah, 1           ;Transmit opcode
    int  14h
    jmp again   
mov ah,1
int 21h
END _start 
```

我的错在哪里？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T07:09:10.353

[http://cs.smith.edu/~thiebaut/ArtOfAssembly/CH13/CH13-3.html#HEADING3-1](http://cs.smith.edu/~thiebaut/ArtOfAssembly/CH13/CH13-3.html#HEADING3-1)

> IBM BIOS 最多支持四个不同的串行通信端口（硬件最多支持八个）。通常，大多数 PC 都安装了一个或两个串行端口（COM1: 和 COM2:）。Int 14h 支持四个子功能——初始化、发送字符、接收字符和状态。对于所有四种服务，串行端口号（0..3 范围内的值）都在 dx 寄存器中（0=COM1:、1=COM2: 等）。Int 14h 期望并返回 al 或 ax 寄存器中的其他数据。

它不支持`COM7/COM6`。

# vb.net - 音频文件类

> ID：14907496
> 
> 赞同：0
> 
> 时间：2013-02-16T06:03:03.113
> 
> 标签：vb.net, events, audio

我正在使用 VB.net VS2012 并且需要一些帮助来播放音频文件。

这是我的代码：

```
''' <summary>
''' This class is a wrapper for the Windows API calls to play wave, midi or mp3 files.
''' </summary>
''' <remarks>
''' </remarks>
Public Class AudioFile
'***********************************************************************************************************
'        Class:  PlayFile
'   Written By:  Blake Pell (bpell@indiana.edu)
' Initial Date:  03/31/2007
' Last Updated:  02/04/2009
'***********************************************************************************************************

' Windows API Declarations
Private Declare Function mciSendString Lib "winmm.dll" Alias "mciSendStringA" (ByVal lpstrCommand As String, ByVal lpstrReturnString As String, ByVal uReturnLength As Int32, ByVal hwndCallback As Int32) As Int32

''' <summary>
''' Constructor:  Location is the filename of the media to play.  Wave files and Mp3 files are the supported formats.
''' </summary>
''' <param name="Location"></param>
''' <remarks></remarks>
Public Sub New(ByVal location As String)
    Me.Filename = location
End Sub

''' <summary>
''' Plays the file that is specified as the filename.
''' </summary>
''' <remarks></remarks>
Public Sub Play()

    If _filename = "" Or Filename.Length <= 4 Then Exit Sub

    Select Case Right(Filename, 3).ToLower
        Case "mp3"
            mciSendString("open """ & _filename & """ type mpegvideo alias audiofile", Nothing, 0, IntPtr.Zero)

            Dim playCommand As String = "play audiofile from 0"

            If _wait = True Then playCommand += " wait"

            mciSendString(playCommand, Nothing, 0, IntPtr.Zero)
        Case "wav"
            mciSendString("open """ & _filename & """ type waveaudio alias audiofile", Nothing, 0, IntPtr.Zero)
            mciSendString("play audiofile from 0", Nothing, 0, IntPtr.Zero)
        Case "mid", "idi"
            mciSendString("stop midi", "", 0, 0)
            mciSendString("close midi", "", 0, 0)
            mciSendString("open sequencer!" & _filename & " alias midi", "", 0, 0)
            mciSendString("play midi", "", 0, 0)
        Case Else
            Throw New Exception("File type not supported.")
            Call Close()
    End Select

    IsPaused = False

End Sub

''' <summary>
''' Pause the current play back.
''' </summary>
''' <remarks></remarks>
Public Sub Pause()
    mciSendString("pause audiofile", Nothing, 0, IntPtr.Zero)
    IsPaused = True
End Sub

''' <summary>
''' Resume the current play back if it is currently paused.
''' </summary>
''' <remarks></remarks>
Public Sub [Resume]()
    mciSendString("resume audiofile", Nothing, 0, IntPtr.Zero)
    IsPaused = False
End Sub

''' <summary>
''' Stop the current file if it's playing.
''' </summary>
''' <remarks></remarks>
Public Sub [Stop]()
    mciSendString("stop audiofile", Nothing, 0, IntPtr.Zero)
End Sub

''' <summary>
''' Close the file.
''' </summary>
''' <remarks></remarks>
Public Sub Close()
    mciSendString("close audiofile", Nothing, 0, IntPtr.Zero)
End Sub

Private _wait As Boolean = False
''' <summary>
''' Halt the program until the .wav file is done playing.  Be careful, this will lock the entire program up until the
''' file is done playing.  It behaves as if the Windows Sleep API is called while the file is playing (and maybe it is, I don't
''' actually know, I'm just theorizing).  :P
''' </summary>
''' <value></value>
''' <returns></returns>
''' <remarks></remarks>
Public Property Wait() As Boolean
    Get
        Return _wait
    End Get
    Set(ByVal value As Boolean)
        _wait = value
    End Set
End Property

''' <summary>
''' Sets the audio file's time format via the mciSendString API.
''' </summary>
''' <value></value>
''' <returns></returns>
''' <remarks></remarks>
ReadOnly Property Milleseconds() As Integer
    Get
        Dim buf As String = Space(255)
        mciSendString("set audiofile time format milliseconds", Nothing, 0, IntPtr.Zero)
        mciSendString("status audiofile length", buf, 255, IntPtr.Zero)

        buf = Replace(buf, Chr(0), "") ' Get rid of the nulls, they muck things up

        If buf = "" Then
            Return 0
        Else
            Return CInt(buf)
        End If
    End Get
End Property

''' <summary>
''' Gets the status of the current playback file via the mciSendString API.
''' </summary>
''' <value></value>
''' <returns></returns>
''' <remarks></remarks>
ReadOnly Property Status() As String
    Get
        Dim buf As String = Space(255)
        mciSendString("status audiofile mode", buf, 255, IntPtr.Zero)
        buf = Replace(buf, Chr(0), "")  ' Get rid of the nulls, they muck things up
        Return buf
    End Get
End Property

''' <summary>
''' Gets the file size of the current audio file.
''' </summary>
''' <value></value>
''' <returns></returns>
''' <remarks></remarks>
ReadOnly Property FileSize() As Integer
    Get
        Try
            Return My.Computer.FileSystem.GetFileInfo(_filename).Length
        Catch ex As Exception
            Return 0
        End Try
    End Get
End Property

''' <summary>
''' Gets the channels of the file via the mciSendString API.
''' </summary>
''' <value></value>
''' <returns></returns>
''' <remarks></remarks>
ReadOnly Property Channels() As Integer
    Get
        Dim buf As String = Space(255)
        mciSendString("status audiofile channels", buf, 255, IntPtr.Zero)

        If IsNumeric(buf) = True Then
            Return CInt(buf)
        Else
            Return -1
        End If
    End Get
End Property

''' <summary>
''' Used for debugging purposes.
''' </summary>
''' <value></value>
''' <returns></returns>
''' <remarks></remarks>
ReadOnly Property Debug() As String
    Get
        Dim buf As String = Space(255)
        mciSendString("status audiofile channels", buf, 255, IntPtr.Zero)

        Return Str(buf)
    End Get
End Property

Private _isPaused As Boolean = False
''' <summary>
''' Whether or not the current playback is paused.
''' </summary>
''' <value></value>
''' <returns></returns>
''' <remarks></remarks>
Public Property IsPaused() As Boolean
    Get
        Return _isPaused
    End Get
    Set(ByVal value As Boolean)
        _isPaused = value
    End Set
End Property

Private _filename As String
''' <summary>
''' The current filename of the file that is to be played back.
''' </summary>
''' <value></value>
''' <returns></returns>
''' <remarks></remarks>
Public Property Filename() As String
    Get
        Return _filename
    End Get
    Set(ByVal value As String)

        If My.Computer.FileSystem.FileExists(value) = False Then
            Throw New System.IO.FileNotFoundException
            Exit Property
        End If

        _filename = value
    End Set
End Property
End Class 
```

这段代码运行良好。能否请我帮忙创建一个在音频文件播放完毕时调用的事件。音频文件完成后，“状态”为“已停止”。我如何查看何时发生这种情况并为其创建事件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T22:31:03.637

似乎没有办法在播放状态更改时注册回调，因此您必须使用观察者（即计时器）。

```
Private WithEvents StatusMonitor As New Timers.Timer(100)
Private Property LastStatus As String

Private Sub StatusMonitor_Elapsed(sender As Object, e As Timers.ElapsedEventArgs) Handles StatusMonitor.Elapsed
    If Not String.Equals(Me.Status, Me.LastStatus) Then
        Me.LastStatus = Me.Status
        RaiseEvent PlaybackStatusChanged(Me, New PlaybackStatusChangedEventArgs(Me.Status))
    End If
End Sub

Public Event PlaybackStatusChanged(sender As Object, e As PlaybackStatusChangedEventArgs)

Public Class PlaybackStatusChangedEventArgs
    Inherits EventArgs

    Private _status As String

    Public Sub New(status As String)
        _status = status
    End Sub

    Public ReadOnly Property Status As String
        Get
            Return _status
        End Get
    End Property
End Class 
```

它的作用是将状态存储在私有属性中，并每 100 毫秒将其与当前状态进行比较。如果状态已更改，它会触发`PlaybackStatusChanged`事件以及包含新状态的参数。然后，您可以侦听此事件，并检查`e.Status`事件回调，就好像您直接从`AudioFile.Status`.

**编辑**

在进行了几次测试运行后，我发现 status 属性的行为不一致。由于我似乎无法弄清楚的原因，它似乎也返回了很多空白。无论如何，结果，传递给状态事件的状态是错误的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T02:20:05.217

我不知道该怎么做。但你能做的就是这个。在您的主窗体上，将像 lol 这样的字符串变暗作为字符串

现在对于一个按钮，设置以下代码：

```
lol = "Audio file path goes here :3"
    Dim audio As New AudioFile(lol)
    Timer1.Start()
    audio.Play() 
```

添加一个计时器，并将其间隔设置为 10。

对于计时器代码，添加以下内容：

```
 Dim audio As New AudioFile(lol)
    If audio.Status.Contains("stopped") Then
        audio.Play()
    End If 
```

这样，当歌曲播放完毕后，计时器将自动重新开始播放。它为该变量上的音频文件设置，所以只需让按钮设置该变量上的路径并繁荣。你的一套。

希望有帮助...

# javascript - 在表格内

> ID：14907499
> 
> 赞同：0
> 
> 时间：2013-02-16T06:03:13.990
> 
> 标签：javascript, html

在我的网页末尾`<form>`有两个按钮 - 一个是`<input type="submit">`，另一个是`<button>`。问题是，如果我单击`<button>`，它会提交所有表单。我想为该按钮分配一些javascript函数而不是提交，但由于它自动提交我无能为力。我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-16T06:09:01.523

将按钮类型解释为，`button`因为默认情况下它是`submit`

```
 <button type=button>Submit</button> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T06:10:58.610

将类型设为按钮，您可以添加 onclick 事件来调用 javascript 函数。

```
 <button type="button" onclick='alert(1);'></button> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T06:40:51.023

`onclick`必须返回`false`表示不会，会表示`Submit`，`true`会`Submit`形成。
`<button name="button1" onclick="button1_clicked();return false;">Click Me</button>`

# vb.net - 客户不拥有所需的特权。vb项目中的错误

> ID：14907501
> 
> 赞同：0
> 
> 时间：2013-02-16T06:03:42.437
> 
> 标签：vb.net, filestream, ioexception, save-image

我的程序是在 vb.net 中编写的。在运行时，给我“IO 异常被捕获”

![在此处输入图像描述](../Images/f18198d3f7d929bad0a709e61441b3e1.png)

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T11:07:44.173

您尝试创建的文件可能`FileStream`已经存在。用于`FileMode.OpenOrCreate`解决您的问题或先删除文件。

[文件流创建](http://msdn.microsoft.com/en-us/library/tyhc0kft%28v=vs.100%29.aspx)。

# python - Visual Studio 的 python 工具不接受 //

> ID：14907502
> 
> 赞同：1
> 
> 时间：2013-02-16T06:03:57.973
> 
> 标签：python, visual-studio, python-2.7, mechanize, ptvs

我正在使用机械化。如果我在 CMD 控制台中运行，我的代码运行良好，但在 Visual Studio IDE 上，我收到此错误“unsupported operand type(s) for +: 'instance' and 'str'” at line`br.open('http://gmail.com')`

我的代码是

```
import mechanize
import cookielib
from BeautifulSoup import BeautifulSoup
import html2text

# Browser
br = mechanize.Browser()

# Cookie Jar
cj = cookielib.LWPCookieJar()
br.set_cookiejar(cj)

# Browser options
br.set_handle_equiv(True)
br.set_handle_gzip(True)
br.set_handle_redirect(True)
br.set_handle_referer(True)
br.set_handle_robots(False)

# Follows refresh 0 but not hangs on refresh > 0
br.set_handle_refresh(mechanize._http.HTTPRefreshProcessor(), max_time=1)

# User-Agent (this is cheating, ok?)
br.addheaders = [('User-agent', 'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.1) Gecko/2008071615 Fedora/3.0.1-1.fc9 Firefox/3.0.1')]

# The site we will navigate into, handling it's session
br.open('http://gmail.com')

# Select the first (index zero) form
br.select_form(nr=0)

# User credentials
br.form['Email'] = 'user'
br.form['Passwd'] = 'password'

# Login
br.submit()

# Filter all links to mail messages in the inbox
all_msg_links = [l for l in br.links(url_regex='\?v=c&th=')]
# Select the first 3 messages
for msg_link in all_msg_links[0:3]:
    print msg_link
    # Open each message
    br.follow_link(msg_link)
    html = br.response().read()
    soup = BeautifulSoup(html)
    # Filter html to only show the message content
    msg = str(soup.findAll('div', attrs={'class': 'msg'})[0])
    # Show raw message content
    print msg
    # Convert html to text, easier to read but can fail if you have intl
    # chars
#   print html2text.html2text(msg)
    print
    # Go back to the Inbox
    br.follow_link(text='Inbox')

# Logout
br.follow_link(text='Sign out') 
```

好像 // 不被接受？

任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-07T02:20:18.220

从 Visual Studio 启动时，您很可能使用了错误的 Python 解释器版本。转到项目属性（在解决方案资源管理器中右键单击项目节点并选择“属性”），然后检查“常规”选项卡上的“解释器”设置。

# asp.net-mvc - Ajax 调用无限循环

> ID：14907503
> 
> 赞同：0
> 
> 时间：2013-02-16T06:04:14.650
> 
> 标签：asp.net-mvc

嗨，我是 MVC 的新手，所以需要一些帮助。我正在对渲染部分视图进行异步调用，但是一旦调用视图，它就会进入无限循环。任何人都可以帮忙吗？

```
<div class="headings">
    <span><a href="#">
        <img src="@Url.Content("~/Content/images/icons/Edit.png")" alt="Edit" /></a></span>
    <p class="floatLeft">
        @Model.Name</p>
</div>
<div class="profilesBlk" id="subSections@(Model.SectionId)"></div>

<script type="text/javascript" language="javascript">

   $.ajax({
        type: "POST",
        url: '@Url.Action("FetchAllSubSections","Contacts")',
        data:{sectionId:@(Model.SectionId)},
        success: function (r) { $("#subSections@(Model.SectionId)").html(r); },
        error: function (ret) {
        }
    });

</script> 
```

这就是这个局部视图被调用的地方（这是另一个局部视图）

```
<div>

    @foreach (var section in Model.ContactDetailSections)
    {
        @Html.Partial("~/Views/Contacts/Details/SectionDetail.cshtml", section)
    }
    </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T05:06:34.027

改变

```
url: '@Url.Action("FetchAllSubSections","Contacts")' 
```

至

```
url: 'Contacts/FetchAllSubSections' 
```

# d3.js - 在 d3.js 中修改节点和边属性

> ID：14907509
> 
> 赞同：2
> 
> 时间：2013-02-16T06:05:07.887
> 
> 标签：d3.js, force-layout

我正在使用 d3.js 使用强制布局来布局节点和链接图。节点用圆圈表示；逐行链接。在某些情况下，我想改变线条或节点的视觉特征（例如，颜色、大小、不透明度等）以表示图形上的某些状态变化。我已经能够通过重绘图表来做到这一点，但这会抖动所有节点，导致混乱而不是清晰。

创建图表的代码：

```
force = d3.layout.force()
        .charge(-120)
        .gravity(0.2)
        .linkDistance(30)
        .size([width-pad, height-pad]);

nodeSet = svg.selectAll(".qNode");
// BIND NODE DATA
nodeSet = nodeSet.data(chartData.nodes);
// CREATE NODES
nodeSet.enter().append("circle")
    .attr("class", "qNode")
    .attr("r", function(d) { return d.size();})
    .style('stroke-opacity', function(d) { return d.opacity(); })
    .style('stroke', function(d) { return d.color(); })
    .style("fill", function(d) { return color(1); });
//similarly for links.

force.nodes(chartData.nodes).links(chartData.links).start(); 
```

为了更新图表，我使用了这个片段：

```
 // SELECT NODES
    nodeSet = svg.selectAll('.qNode');
    // JOIN NODES
    nodeSet = nodeSet.data(force.nodes());
    // UPDATE NODES
    nodeSet.attr("class", "qNode")
    .attr("r", function(d) { return d.size();})
    .style("fill", function(d) { return color(1); })
    .style('stroke', function(d) { return d.color(); })
    .style('stroke-opacity', function(d) { return d.opacity(); })
    .style('opacity', 1)
    .call(force.drag);
    // CREATE NODES
    nodeSet.enter().append("circle")
    .attr("class", "qNode")
    .attr("r", function(d) { return d.size();})
    .style("fill", function(d) { return color(1); })
    .call(force.drag);
    // DELETE NODES
    nodeSet.exit().remove();

    // START SHOW
    force.start(); 
```

当它运行时，整个图形在应用新的笔画属性之前会稍微晃动。

所以我有两个问题：假设数据对象中的状态变化将返回不同的值`d.size()`，`d.color()`等等，

1.  如何在不抖动任何节点的情况下修改图形的视觉外观？
2.  如果我确实想摇动节点，我可以确定要摇动哪组节点吗？（这样我就可以向用户发出信号通知哪个链接器节点的视觉外观发生了变化。）

**已编辑**

我暂时放弃了抖动节点，但以下代码（基于[@defenestrated](https://stackoverflow.com/users/2079141/defenestrated)的建议）似乎可以更新图中某些节点和边的属性：

```
var allLinks = ... // my links from a d3 selectAll
var allNodes = ... // my nodes from a d3 selectAll
force = ... // my d3 force layout
function updateGraph(graph, nodeSubset, linkSubset) {
    for (var i=0; i<allLlinks.length; i++)
        allLinks[i].selected = false;
    for (var i=0; i<allNodes.length; i++)
        allNodes[i].selected = false;
    for (var i=0; i<linkSubset.length; i++)
        linkSubset[i].selected = true;
    for (var i=0; i<nodeSubset.length; i++)
         nodeSubset[i].selected = true;

    // these functions modify the selected nodes and links
    linkSubset.call(setLinkAttributes);
    nodeSubset.call(setNodeAttributes);

    if (force.alpha() == 0) {
        force.start();
        force.stop();
    }
}

function setLinkAttributes(links) {
    link.style(...);
}

function setNodeAttributes(nodes) {
    nodes.style(...);
} 
```

在应用属性后，我不需要调用`start`/`stop`或`resume`图表是否仍在移动（如果`alpha() > 0`），因为后续的刻度会拾取新属性。如果图形已经稳定，调用 start 会刷新它而不移动节点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T22:11:25.240

1.  您是否尝试`force.stop()`过在“更新节点”块之前和`force.resume()`之后调用？

2.  您可以根据它们的状态对它们进行分类 - 因此您可以将 an`.attr("id", "changed")`应用于正在更新的节点，然后在 d3 选择中使用它，例如。更改节点 =`d3.select("#changed")`

# haskell - FreeT 是否保留了 Free 的等式推理优势？

> ID：14907510
> 
> 赞同：11
> 
> 时间：2013-02-16T06:05:10.830
> 
> 标签：haskell

在这篇[博](http://www.haskellforall.com/2012/07/purify-code-using-free-monads.html)文中，作者解释了使用 Free monad 净化代码的等式推理优势。Free monad 转换器 FreeT 是否保留了这些好处，即使它包含在 IO 上？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-16T08:14:40.890

Yes. `FreeT` does not depend on any specific properties of the base monad, other than the fact that it is a monad. Every equation that you can deduce for `Free f` has an equivalent proof for `FreeT f m`.

To demonstrate that, let's repeat the exercise in my blog post, but this time using `FreeT`:

```
data TeletypeF x
  = PutStrLn String x
  | GetLine (String -> x)
  | ExitSuccess
  deriving (Functor)

type Teletype = FreeT TeletypeF

exitSuccess :: (Monad m) => Teletype m r
exitSuccess = liftF ExitSuccess 
```

Let's use the following definitions for free monad transformers:

```
return :: (Functor f, Monad m) => r -> FreeT f m r
return r = FreeT (return (Pure r))

(>>=) :: (Functor f, Monad m) => FreeT f m a -> (a -> FreeT f m b) -> FreeT f m b
m >>= f = FreeT $ do
    x <- runFreeT m
    case x of
        Free w -> return (Free (fmap (>>= f) w))
        Pure r -> runFreeT (f r)

wrap :: (Functor f, Monad m) => f (FreeT f m r) -> FreeT f m r
wrap f = FreeT (return (Free f))

liftF :: (Functor f, Monad m) => f r -> FreeT f m r
liftF fr = wrap (fmap return fr) 
```

We can use equational reasoning to deduce what `exitSuccess` reduces to:

```
exitSuccess

-- Definition of 'exitSuccess'
= liftF ExitSuccess

-- Definition of 'liftF'
= wrap (fmap return ExitSuccess)

-- fmap f ExitSuccess = ExitSuccess
= wrap ExitSuccess

-- Definition of 'wrap'
= FreeT (return (Free ExitSuccess)) 
```

Now we can reprove that `exitSuccess >> m` = `exitSuccess`:

```
exitSuccess >> m

-- m1 >> m2 = m1 >>= \_ -> m2
= exitSuccess >>= \_ -> m

-- exitSuccess = FreeT (return (Free ExitSuccess))
= FreeT (return (Free ExitSuccess)) >>= \_ -> m

-- use definition of (>>=) for FreeT
= FreeT $ do
    x <- runFreeT $ FreeT (return (Free ExitSuccess))
    case x of
        Free w -> return (Free (fmap (>>= (\_ -> m)) w))
        Pure r -> runFreeT ((\_ -> m) r)

-- runFreeT (FreeT x) = x
= FreeT $ do
    x <- return (Free ExitSuccess)
    case x of
        Free w -> return (Free (fmap (>>= (\_ -> m)) w))
        Pure r -> runFreeT ((\_ -> m) r)

-- Monad Law: Left identity
-- do { y <- return x; m } = do { let y = x; m }
= FreeT $ do
    let x = Free ExitSuccess
    case x of
        Free w -> return (Free (fmap (>>= (\_ -> m)) w))
        Pure r -> runFreeT ((\_ -> m) r)

-- Substitute in 'x'
= FreeT $ do
    case Free ExitSuccess of
        Free w -> return (Free (fmap (>>= (\_ -> m)) w))
        Pure r -> runFreeT ((\_ -> m) r)

-- First branch of case statement matches 'w' to 'ExitSuccess'
= FreeT $ do
    return (Free (fmap (>>= (\_ -> m)) ExitSuccess))

-- fmap f ExitSuccess = ExitSuccess
= FreeT $ do
    return (Free ExitSuccess)

-- do { m; } desugars to 'm'
= FreeT (return (Free ExitSuccess))

-- exitSuccess = FreeT (return (Free ExitSuccess))
= exitSuccess 
```

The `do` block in the proof belonged to the base monad, yet we never needed to use any specific source code or properties of the base monad in order to manipulate it equationally. The only property we needed to know was that it was a monad (any monad!) and obeyed the monad laws.

Using only the monad laws, we were still able to deduce that `exitSuccess >> m = exitSuccess`. That's the reason why the monad laws matter, because they allow us to reason about code over a polymorphic base monad, knowing only that it is a monad.

More generally, this is the reason that people say that type classes should always have associated laws (like the monad laws, or the functor laws, or the category laws), because these allow you to reason about code that uses that type class without consulting the specific instances of that type class. Without these kinds of laws, the type class interface wouldn't truly be a loosely coupled interface since you wouldn't be able to equationally reason about it without consulting the original instance source code.

Also, if you want an extra dose of category theory, we can easily prove that every property that holds for `Free` must also hold for `FreeT` if the base monad is polymorphic. All we have to do is prove that:

```
(forall m. (Monad m) => FreeT f m r) ~ Free f r 
```

The `~` symbol means "is isomorphic to", which means that we must prove that there are two functions, `fw`, and `bw`:

```
fw :: (forall m . (Monad m) => FreeT f m r) -> Free f r

bw :: Free f r -> (forall m . (Monad m) => FreeT f m r) 
```

... such that:

```
fw . bw = id

bw . fw = id 
```

It's an interesting proof, and I leave it as an exercise!

# javascript - 我对 JavaScript 函数感到困惑？

> ID：14907511
> 
> 赞同：-3
> 
> 时间：2013-02-16T06:05:10.417
> 
> 标签：javascript, function

JavaScript函数是否附加到它们定义的任何特定对象或全局对象本身，我问这个问题是因为您几乎可以在任何对象上使用函数，无论该函数是否是该对象的一部分，我的意思是您可以将函数引用分配给您想要的任何对象，这意味着函数本身存储在其他地方，然后我们将它们分配给任何其他对象方法。

请纠正我，我是 JavaScript 新手，但我对 JavaScript 有所了解。

我知道这个用于引用当前上下文代码的关键字的用法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:14:19.443

函数不附加到任何东西，但在执行时它们会在`this`绑定到某个对象的上下文中执行（除了 ES5 严格模式，其中`this`有时可能是未定义的）。

哪个对象`this`指的是函数如何被调用的产物，它是否作为对象的成员，或者是否使用诸如`call`或之类的函数`apply`。

```
var obj = {
  x: 20,
  fn: function() {
    console.log(this.x);
  }
};
obj.fn(); // prints 20 as `this` will now point to the object `obj`

var x = 10;
var fn = obj.fn;
fn(); // prints 10 as `this` will now point to the global context, since we're invoking the function directly

var newObj = {
  x: 30
};
fn.call(newObj); // prints 30 as `this` points to newObj
fn.apply(newObj); // same as the above, but takes an the functions arguments as an array instead of individual arguments 
```

# javascript - 如何从 HTML 构造一个带有前导 \n \t \r 和空格的 jQuery 对象

> ID：14907517
> 
> 赞同：1
> 
> 时间：2013-02-16T06:06:10.383
> 
> 标签：javascript, jquery

我有一个来自网站的 HTML 字符串，例如：

```
\n
<div>
\t<div>
...
\t</div>
</div> 
```

如果我通过以下方式构造一个 jquery：

```
$(tmpl)   // like $("\n<div>") 
```

它会给我错误的说法`"unrecognized expression:<div> <div> </div></div>"`。

我尝试使用`$(tmpl.replace(/[\t\r\n]/,""))`. 它有效，但对我来说似乎并不自然。我也尝试过使用`$('body').append(tmpl)`；它不需要，`replace`但我想在将其附加到 DOM 之前更改 attr/styles/data。如果我先附加它，我将需要再次选择它。

有没有办法在没有`replace`和之前将它附加到 DOM 的情况下从这种类型的 HTML 片段创建一个 jquery 对象？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:57:25.500

我建议阅读[这个答案](https://stackoverflow.com/questions/11047670/creating-a-jquery-object-from-a-big-html-string)，其中创建了一个假 di​​v，然后由 jQuery 对象引用，以便在将 html 字符串插入 DOM 之前编辑它的 attr/styles/data。您可以使用`JSON.stringify()`来查看 jQuery 对象中的换行符、制表符和回车符，并在插入 DOM 后保留它们。[演示](http://jsfiddle.net/gQWh5/1/)

# ios - 模态视图控制器 - 如何显示和关闭

> ID：14907518
> 
> 赞同：83
> 
> 时间：2013-02-16T06:06:17.650
> 
> 标签：ios, objective-c, uiviewcontroller, presentviewcontroller, dismissviewcontroller

在过去的一周里，我一直在思考如何通过显示和关闭多个视图控制器来解决这个问题。我创建了一个示例项目并直接从项目中粘贴代码。我有 3 个视图控制器及其相应的 .xib 文件。MainViewController、VC1 和 VC2。我在主视图控制器上有两个按钮。

```
- (IBAction)VC1Pressed:(UIButton *)sender
{
    VC1 *vc1 = [[VC1 alloc] initWithNibName:@"VC1" bundle:nil];
    [vc1 setModalTransitionStyle:UIModalTransitionStyleFlipHorizontal];
    [self presentViewController:vc1 animated:YES completion:nil];
} 
```

这将毫无问题地打开 VC1。在 VC1 中，我有另一个按钮应该打开 VC2 同时关闭 VC1。

```
- (IBAction)buttonPressedFromVC1:(UIButton *)sender
{
    VC2 *vc2 = [[VC2 alloc] initWithNibName:@"VC2" bundle:nil];
    [vc2 setModalTransitionStyle:UIModalTransitionStyleFlipHorizontal];
    [self presentViewController:vc2 animated:YES completion:nil];
    [self dismissViewControllerAnimated:YES completion:nil];
} // This shows a warning: Attempt to dismiss from view controller <VC1: 0x715e460> while a presentation or dismiss is in progress!

- (IBAction)buttonPressedFromVC2:(UIButton *)sender
{
    [self dismissViewControllerAnimated:YES completion:nil];
} // This is going back to VC1\. 
```

我希望它回到主视图控制器，同时 VC1 应该已经从内存中删除了。只有当我单击主控制器上的 VC1 按钮时，VC1 才会出现。

主视图控制器上的另一个按钮也应该能够绕过 VC1 直接显示 VC2，并且当单击 VC2 上的按钮时应该返回到主控制器。没有长时间运行的代码、循环或任何计时器。只是简单地调用视图控制器。

* * *

## 回答 #1

> 赞同：190
> 
> 时间：2013-02-16T12:49:59.263

这一行：

```
[self dismissViewControllerAnimated:YES completion:nil]; 
```

不是向自己发送消息，它实际上是向其呈现的 VC 发送消息，要求它进行解雇。当你呈现一个 VC 时，你在呈现的 VC 和被呈现的 VC 之间创建了一种关系。所以你不应该在呈现的时候破坏正在呈现的 VC（呈现的 VC 不能发回驳回消息……）。由于您没有真正考虑到它，因此您使应用程序处于混乱状态。请参阅我的答案[Dismissing a Presented View Controller](https://stackoverflow.com/questions/14636891/dismissing-a-presented-view-controller/14637067#14637067) 我建议在其中更清楚地编写此方法：

```
[self.presentingViewController dismissViewControllerAnimated:YES completion:nil]; 
```

在您的情况下，您需要确保所有控制都在`mainVC` . 您应该使用委托将正确的消息从 ViewController1 发送回 MainViewController，以便 mainVC 可以关闭 VC1，然后呈现 VC2。

在~~VC2~~ VC1 中，在 @interface 上方的 .h 文件中添加协议：

```
@protocol ViewController1Protocol <NSObject>

    - (void)dismissAndPresentVC2;

@end 
```

并在@interface 部分的同一文件中向下声明一个属性来保存委托指针：

```
@property (nonatomic,weak) id <ViewController1Protocol> delegate; 
```

在 VC1 .m 文件中，关闭按钮方法应该调用委托方法

```
- (IBAction)buttonPressedFromVC1:(UIButton *)sender {
    [self.delegate dissmissAndPresentVC2]
} 
```

现在在 mainVC 中，在创建 VC1 时将其设置为 VC1 的委托：

```
- (IBAction)present1:(id)sender {
    ViewController1* vc = [[ViewController1 alloc] initWithNibName:@"ViewController1" bundle:nil];
    vc.delegate = self;
    [self present:vc];
} 
```

并实现委托方法：

```
- (void)dismissAndPresent2 {
    [self dismissViewControllerAnimated:NO completion:^{
        [self present2:nil];
    }];
} 
```

`present2:``VC2Pressed:`可以是与您的按钮 IBAction 方法相同的方法。请注意，它是从完成块调用的，以确保在 VC1 完全关闭之前不显示 VC2。

您现在正在从 VC1->VCMain->VC2 移动，因此您可能只希望对其中一个过渡进行动画处理。

**更新**

在您的评论中，您对实现看似简单的事情所需的复杂性表示惊讶。我向你保证，这种委托模式对于大部分 Objective-C 和 Cocoa 来说都是如此重要，而且这个例子是你能得到的最简单的例子，你真的应该努力适应它。

在 Apple 的*View Controller Programming Guide*中，他们[这样说](http://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/ModalViewControllers/ModalViewControllers.html#//apple_ref/doc/uid/TP40007457-CH111-SW14)：

> 关闭呈现的视图控制器
> 
> 当需要关闭呈现的视图控制器时，首选方法是让呈现的视图控制器关闭它。换句话说，只要有可能，呈现视图控制器的同一个视图控制器也应该负责解除它。尽管有几种技术可以通知呈现视图控制器其呈现的视图控制器应该被解除，但首选技术是委托。有关详细信息，请参阅“使用委托与其他控制器通信”。</p>

如果您真的仔细考虑了您想要实现的目标，以及您将如何实现它，您将意识到发送您的 MainViewController 来完成所有工作是唯一合乎逻辑的出路，因为您不想使用 NavigationController。如果您*确实*使用了 NavController，那么实际上您是在“委托”（即使没有明确地）给 navController 来完成所有工作。需要有*一些*对象来集中跟踪您的 VC 导航发生的事情，并且无论您做什么，您都需要*某种*与之通信的方法。

在实践中，Apple 的建议有点极端......在正常情况下，您不需要创建专门的委托和方法，您可以依赖`[self presentingViewController] dismissViewControllerAnimated:`它 - 在像您这样的情况下，您希望您的解雇对远程产生其他影响你需要照顾的对象。

这是您*可以想象*的无需所有代表麻烦的工作...

```
- (IBAction)dismiss:(id)sender {
    [[self presentingViewController] dismissViewControllerAnimated:YES 
                                                        completion:^{
        [self.presentingViewController performSelector:@selector(presentVC2:) 
                                            withObject:nil];
    }];

} 
```

在要求呈现控制器解雇我们之后，我们有一个完成块，它调用 presentingViewController 中的一个方法来调用 VC2。不需要委托。（区块的一大卖点是它们在这些情况下减少了对代表的需求）。然而，在这种情况下，有一些事情会阻碍......

*   在 VC1 中，您不*知道*mainVC 实现了该方法`present2`- 您最终可能会遇到难以调试的错误或崩溃。代表可以帮助您避免这种情况。
*   一旦 VC1 被解散，它就不会真正执行完成块......或者是吗？self.presentingViewController 还有什么意义吗？你不知道（我也不知道）……有了代表，你就没有这种不确定性。
*   当我尝试运行此方法时，它只是挂起，没有警告或错误。

所以请...花时间学习代表团！

**更新2**

在您的评论中，您已经设法通过在 VC2 的关闭按钮处理程序中使用它来使其工作：

```
 [self.view.window.rootViewController dismissViewControllerAnimated:YES completion:nil]; 
```

这当然要简单得多，但它会给您带来许多问题。

*紧密耦合*
您将 viewController 结构硬连接在一起。例如，如果你要在 mainVC 之前插入一个新的 viewController，你需要的行为就会中断（你会导航到前一个）。在 VC1 中，您还必须 #import VC2。因此，您有很多相互依赖关系，这破坏了 OOP/MVC 目标。

使用委托，VC1 和 VC2 都不需要知道任何关于 mainVC 或其前身的信息，因此我们保持一切松散耦合和模块化。

*内存*
VC1 并没有消失，你仍然持有两个指向它的指针：

*   mainVC的`presentedViewController`属性
*   VC2的`presentingViewController`属性

您可以通过记录进行测试，也可以通过 VC2 执行此操作

```
[self dismissViewControllerAnimated:YES completion:nil]; 
```

它仍然有效，仍然可以让您回到 VC1。

在我看来，这就像内存泄漏。

这方面的线索是你在这里得到的警告：

```
[self presentViewController:vc2 animated:YES completion:nil];
[self dismissViewControllerAnimated:YES completion:nil];
 // Attempt to dismiss from view controller <VC1: 0x715e460>
 // while a presentation or dismiss is in progress! 
```

当您试图关闭VC2 是呈现的 VC 的呈现 VC*时，逻辑就会崩溃。*第二条消息并没有真正被执行——好吧，也许发生了一些事情，但你仍然有两个指向你认为已经摆脱的对象的指针。（*编辑 - 我已经检查过了，还不错，当你回到 mainVC 时，两个对象都会消失*）

这是一种相当冗长的说法——请使用代表。如果有帮助，我在这里对模式进行了另一个简要描述：
[在构造函数中传递控制器总是不好的做法吗？](https://stackoverflow.com/questions/14866979/is-passing-a-controller-in-a-construtor-always-a-bad-practice/14867268#14867268)

**更新 3**
如果你真的想避免委托，这可能是最好的出路：

在 VC1 中：

```
[self presentViewController:VC2
                   animated:YES
                 completion:nil]; 
```

但是*不要*忽视任何事情......正如我们所确定的那样，无论如何它并没有真正发生。

在 VC2 中：

```
[self.presentingViewController.presentingViewController 
    dismissViewControllerAnimated:YES
                       completion:nil]; 
```

正如我们（知道）我们没有关闭 VC1，我们可以*通过*VC1*回到*MainVC。MainVC 关闭 VC1。因为 VC1 已经消失了，所以 VC2 也随之出现，所以你回到 MainVC 时处于一个干净的状态。

它仍然是高度耦合的，因为 VC1 需要了解 VC2，而 VC2 需要知道它是通过 MainVC->VC1 到达的，但它是最好的，没有一点明确的委托。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2014-12-12T01:21:30.130

**Swift**中的示例，描绘了上面代工厂的解释和 Apple 的文档：

1.  基于[Apple的文档](https://developer.apple.com/library/ios/featuredarticles/ViewControllerPGforiPhoneOS/ModalViewControllers/ModalViewControllers.html)和上面的铸造厂的解释（纠正一些错误），使用委托设计模式的presentViewController版本：

**ViewController.swift**

```
import UIKit

protocol ViewControllerProtocol {
    func dismissViewController1AndPresentViewController2()
}

class ViewController: UIViewController, ViewControllerProtocol {

    @IBAction func goToViewController1BtnPressed(sender: UIButton) {
        let vc1: ViewController1 = self.storyboard?.instantiateViewControllerWithIdentifier("VC1") as ViewController1
        vc1.delegate = self
        vc1.modalTransitionStyle = UIModalTransitionStyle.FlipHorizontal
        self.presentViewController(vc1, animated: true, completion: nil)
    }

    func dismissViewController1AndPresentViewController2() {
        self.dismissViewControllerAnimated(false, completion: { () -> Void in
            let vc2: ViewController2 = self.storyboard?.instantiateViewControllerWithIdentifier("VC2") as ViewController2
            self.presentViewController(vc2, animated: true, completion: nil)
        })
    }

} 
```

**ViewController1.swift**

```
import UIKit

class ViewController1: UIViewController {

    var delegate: protocol<ViewControllerProtocol>!

    @IBAction func goToViewController2(sender: UIButton) {
        self.delegate.dismissViewController1AndPresentViewController2()
    }

} 
```

**ViewController2.swift**

```
import UIKit

class ViewController2: UIViewController {

} 
```

2.  基于上面代工厂的解释（纠正一些错误），pushViewController 版本使用委托设计模式：

**ViewController.swift**

```
import UIKit

protocol ViewControllerProtocol {
    func popViewController1AndPushViewController2()
}

class ViewController: UIViewController, ViewControllerProtocol {

    @IBAction func goToViewController1BtnPressed(sender: UIButton) {
        let vc1: ViewController1 = self.storyboard?.instantiateViewControllerWithIdentifier("VC1") as ViewController1
        vc1.delegate = self
        self.navigationController?.pushViewController(vc1, animated: true)
    }

    func popViewController1AndPushViewController2() {
        self.navigationController?.popViewControllerAnimated(false)
        let vc2: ViewController2 = self.storyboard?.instantiateViewControllerWithIdentifier("VC2") as ViewController2
        self.navigationController?.pushViewController(vc2, animated: true)
    }

} 
```

**ViewController1.swift**

```
import UIKit

class ViewController1: UIViewController {

    var delegate: protocol<ViewControllerProtocol>!

    @IBAction func goToViewController2(sender: UIButton) {
        self.delegate.popViewController1AndPushViewController2()
    }

} 
```

**ViewController2.swift**

```
import UIKit

class ViewController2: UIViewController {

} 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2014-02-25T14:59:40.477

我认为您误解了有关 iOS 模态视图控制器的一些核心概念。当您关闭 VC1 时，VC1 提供的任何视图控制器也会被关闭。Apple 打算让模态视图控制器以堆叠方式流动 - 在您的情况下，VC2 由 VC1 提供。一旦您从 VC1 呈现 VC2，您就会解雇 VC1，所以这完全是一团糟。为了实现你想要的，buttonPressedFromVC1 应该在 VC1 自行关闭后立即让 mainVC 出现 VC2。我认为这可以在没有代表的情况下实现。类似的东西：

```
UIViewController presentingVC = [self presentingViewController];
[self dismissViewControllerAnimated:YES completion:
 ^{
    [presentingVC presentViewController:vc2 animated:YES completion:nil];
 }]; 
```

请注意 self.presentingViewController 存储在其他变量中，因为在 vc1 自行关闭后，您不应对其进行任何引用。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2015-04-16T10:14:32.957

Radu Simionescu - 很棒的工作！及以下为 Swift 爱好者提供的解决方案：

```
@IBAction func showSecondControlerAndCloseCurrentOne(sender: UIButton) {
    let secondViewController = storyboard?.instantiateViewControllerWithIdentifier("ConrollerStoryboardID") as UIViewControllerClass // change it as You need it
    var presentingVC = self.presentingViewController
    self.dismissViewControllerAnimated(false, completion: { () -> Void   in
        presentingVC!.presentViewController(secondViewController, animated: true, completion: nil)
    })
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-08-31T11:47:38.573

我想要这个：

MapVC 是全屏地图。

当我按下一个按钮时，它会在地图上方打开 PopupVC（不是全屏）。

当我在 PopupVC 中按下一个按钮时，它返回到 MapVC，然后我想执行 viewDidAppear。

我这样做了：

MapVC.m：在按钮操作中，以编程方式进行 segue，并设置委托

```
- (void) buttonMapAction{
   PopupVC *popvc = [self.storyboard instantiateViewControllerWithIdentifier:@"popup"];
   popvc.delegate = self;
   [self presentViewController:popvc animated:YES completion:nil];
}

- (void)dismissAndPresentMap {
  [self dismissViewControllerAnimated:NO completion:^{
    NSLog(@"dismissAndPresentMap");
    //When returns of the other view I call viewDidAppear but you can call to other functions
    [self viewDidAppear:YES];
  }];
} 
```

PopupVC.h：在@interface之前，添加协议

```
@protocol PopupVCProtocol <NSObject>
- (void)dismissAndPresentMap;
@end 
```

在@interface 之后，一个新属性

```
@property (nonatomic,weak) id <PopupVCProtocol> delegate; 
```

PopupVC.m:

```
- (void) buttonPopupAction{
  //jump to dismissAndPresentMap on Map view
  [self.delegate dismissAndPresentMap];
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-11-02T17:21:25.900

我在演示时使用 UINavigationController 解决了这个问题。在 MainVC 中，当呈现 VC1

```
let vc1 = VC1()
let navigationVC = UINavigationController(rootViewController: vc1)
self.present(navigationVC, animated: true, completion: nil) 
```

在 VC1 中，当我想同时显示 VC2 和关闭 VC1（只有一个动画）时，我可以通过

```
let vc2 = VC2()
self.navigationController?.setViewControllers([vc2], animated: true) 
```

在 VC2 中，当关闭视图控制器时，我们可以像往常一样使用：

```
self.dismiss(animated: true, completion: nil) 
```

# wpf - “Key”属性只能用于“IDictionary”中包含的元素

> ID：14907524
> 
> 赞同：6
> 
> 时间：2013-02-16T06:07:10.643
> 
> 标签：wpf, xaml

我在下面的第 6 行代码下得到了波浪线，给出了标题中所述的错误。我刚刚迁移到 VS 2012，并且在 VS 2010 中一切正常。我觉得问题可能出在其他地方……有人可以告诉我这个 xaml 是否真的有问题吗？

```
<Application x:Class="SageWpf.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:SageWpf">
    <Application.Resources>
        <ResourceDictionary x:Key="rd">
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary>
                    <local:AppBootStrapper x:Key="bootstrapper"/>
                    <local:EffectConverter x:Key="effectConverter"/>
                    <local:VisibilityConverter x:Key="visibilityConverter"/>
                </ResourceDictionary>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>

    </Application.Resources>
</Application> 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-16T06:09:03.140

`<ResourceDictionary x:Key="rd">`是无效的。`x:Key`从那里删除。

另外..这是构建资源的不好方法。将其更改为：

```
<Application.Resources>
    <ResourceDictionary>
        <local:AppBootStrapper x:Key="bootstrapper"/>
        <local:EffectConverter x:Key="effectConverter"/>
        <local:VisibilityConverter x:Key="visibilityConverter"/>
    </ResourceDictionary>
</Application.Resources> 
```

如果您在另一个 XAML 文件中定义了资源并且想要在此处导入它们，则仅使用合并字典。

# django - 如何链接 Django 的“in”和“iexact”查询集字段查找？

> ID：14907525
> 
> 赞同：19
> 
> 时间：2013-02-16T06:07:12.880
> 
> 标签：django, django-orm

我有一个名字列表，例如：

```
name_list = ['Alpha', 'bEtA', 'omegA'] 
```

目前我有以下查询集：

```
MyModel.objects.filter(name__in=name_list) 
```

我希望能够以不区分大小写的方式过滤名称。我的第一个想法是使用`iexact`字段查找，但它似乎不适用于`in`. 如何使用我的查询集`iexact`的`in`字段查找？或者是否有另一种方法来执行此查询？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-02-16T07:52:50.350

这是我的解决方案，它使用[Q 对象](https://docs.djangoproject.com/en/dev/topics/db/queries/#complex-lookups-with-q-objects)代替：

```
name_list = ['Alpha', 'bEtA', 'omegA']
q_list = map(lambda n: Q(name__iexact=n), name_list)
q_list = reduce(lambda a, b: a | b, q_list)
MyModel.objects.filter(q_list) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-16T06:16:26.957

```
name_list = ['Alpha', 'bEtA', 'omegA']
results = MyModel.objects.none()
for name in name_list:
    results |= MyModel.objects.filter(name__iexact=name) 
```

好的，我测试它并且它有效:)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-07-14T22:24:35.797

这是一个使用列表推导的示例。它类似于凯瑟琳的[回答](https://stackoverflow.com/a/14907590/3003133)，但有一个数据库命中，如 Derek Kwok 的[回答](https://stackoverflow.com/a/14908214/3003133)（但程序性而不是功能性）。

```
q_list = Q()
for q in [Q(name__iexact=n) for n in name_list]:
    q_list |= q
MyModel.objects.filter(q_list) 
```

对于那些喜欢在 Python 中避免使用 zip、ma​​p、reduce 等的人。

# asp.net-mvc - 模型状态无效时在浏览器上显示 html 代码？

> ID：14907528
> 
> 赞同：0
> 
> 时间：2013-02-16T06:08:03.547
> 
> 标签：asp.net-mvc, asp.net-mvc-4, nopcommerce

我有一个登录表单，用户可以通过该表单登录我的应用程序。如果登录失败，则向客户端显示错误消息。

为此，我的控制器具有这两个功能：-

```
 [NopHttpsRequirement(SslRequirement.Yes)]
     public ActionResult Login(bool? checkoutAsGuest)
     {
        if (_workContext.CurrentCustomer.IsRegistered())
        {
            if (Request.QueryString["returnUrl"]!=null)
            {
                return Redirect(Convert.ToString(Request.QueryString["returnUrl"]));
            }

        }

        var model = new LoginModel();
        model.UsernamesEnabled = _customerSettings.UsernamesEnabled;
        model.CheckoutAsGuest = checkoutAsGuest.HasValue ? checkoutAsGuest.Value : false;
        model.DisplayCaptcha = _captchaSettings.Enabled && _captchaSettings.ShowOnLoginPage;
        return View(model);
    }

    [HttpPost]
    [CaptchaValidator]
    public ActionResult Login(LoginModel model, string returnUrl, bool captchaValid)
    {
        //validate CAPTCHA
        if (_captchaSettings.Enabled && _captchaSettings.ShowOnLoginPage && !captchaValid)
        {
            ModelState.AddModelError("", _localizationService.GetResource("Common.WrongCaptcha"));
        }

        if (ModelState.IsValid)
        {
            if (_customerSettings.UsernamesEnabled && model.Username != null)
            {
                model.Username = model.Username.Trim();
            }
            bool Active = true;
            if (_customerRegistrationService.ValidateCustomer(_customerSettings.UsernamesEnabled ? model.Username : model.Email, model.Password, out  Active))
            {
                var customer = _customerSettings.UsernamesEnabled ? _customerService.GetCustomerByUsername(model.Username) : _customerService.GetCustomerByEmail(model.Email);

                //migrate shopping cart
                _shoppingCartService.MigrateShoppingCart(_workContext.CurrentCustomer, customer);

                //sign in new customer
                _authenticationService.SignIn(customer, model.RememberMe);

                if (!String.IsNullOrEmpty(returnUrl) && Url.IsLocalUrl(returnUrl))
                {

                    if (Request.QueryString["returnUrl"].ToString().Contains("search?q"))
                    {

                        string url = returnUrl;
                        if (Request.QueryString["select"] != null)
                            url = url + "&select=" + Request.QueryString["select"].ToString();

                        if (Request.QueryString["startdate"] != null)
                            url = url + "&startdate=" + Request.QueryString["startdate"].ToString();

                        if (Request.QueryString["enddate"] != null)
                            url = url + "&enddate=" + Request.QueryString["enddate"].ToString();

                        if (Request.QueryString["s_loc"] != null)
                            url = url + "&s_loc=" + Request.QueryString["s_loc"].ToString();

                        return Redirect(url);
                        // return Redirect(returnUrl + "&select=" + Request.QueryString["select"] == null ? "" : Request.QueryString["select"].ToString() + "&startdate=" + Request.QueryString["startdate"] == null ? "" : Request.QueryString["startdate"].ToString() + "&enddate=" + Request.QueryString["enddate"] == null ? "" : Request.QueryString["enddate"].ToString() + "&s_loc=" + Request.QueryString["s_loc"] == null ? "" : Request.QueryString["s_loc"].ToString());

                    }

                    return Redirect(returnUrl);

                }
                else
                    return RedirectToRoute("HomePage");
            }
            else
            {

                if (!Active)
                    ModelState.AddModelError("", _localizationService.GetResource("Account.Login.AccountNotactive"));
                else
                    ModelState.AddModelError("", _localizationService.GetResource("Account.Login.WrongCredentials"));
            }
        }

        //If we got this far, something failed, redisplay form
        model.UsernamesEnabled = _customerSettings.UsernamesEnabled;
        model.DisplayCaptcha = _captchaSettings.Enabled && _captchaSettings.ShowOnLoginPage;
        return View(model);
    } 
```

当用户输入错误的登录详细信息时，我在模型状态中添加了错误，然后使用正确的 msg 再次向客户显示视图。

但我的问题是它在浏览器上显示 html 代码，而不是在模型状态无效时呈现代码。

为什么会发生这些，我无法找到任何解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-17T17:51:15.723

您描述的问题是您视图中的问题，而不是您的控制器。如果您的 html 在属性中，那么您需要使用 @Html.Raw(Model.SomeProperty) 以使其不被编码。

# cucumber - Ruby，单击 Cucumber 中的链接时录制 VCR 磁带

> ID：14907529
> 
> 赞同：1
> 
> 时间：2013-02-16T06:08:09.193
> 
> 标签：cucumber, capybara, vcr

我有这个：

```
@javascript
Given A

Given /$A^/ do
  VCR.use_cassette 'a_cassette' do
     click_link 'a_link' # This makes an AJAX request to external server
  end
end 
```

不记录磁带，[我不能使用 tag](https://stackoverflow.com/questions/14907347/vcr-badalias-error-when-used-with-cucumber-tag)，需要在步骤定义中完成。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T18:47:48.383

我使用睡眠并为我工作。

```
Given /$A^/ do
  VCR.use_cassette 'a_cassette' do
     click_link 'a_link' # This makes an AJAX request to external server
     sleep 3
  end
end 
```

# 更新

```
click_link 'a_link'
page.should have_content 'some content'

# some model assertion 
```

有`page`电话[水豚会等待](http://www.elabs.se/blog/53-why-wait_until-was-removed-from-capybara)。

# php - MySQL 没有更新表

> ID：14907530
> 
> 赞同：1
> 
> 时间：2013-02-16T06:08:11.427
> 
> 标签：php, mysql, sql, ajax, database

### 免责声明：这是一个任务。我不是要求人们给我明确的代码，只是为了获得足够的帮助，以便我可以看到我的错误，纠正它，并防止将来发生类似的错误。

我正在做一个任务，要求我在数据库中创建一个表，用一些条目填充它，然后创建一个表单并允许用户通过表单更新数据库（这是非常基本的东西。）除了更新时，用户应该在提交更改后看到他们的条目。

要求之一是使用自动递增的主键。由于此密钥对用户没有真正的重要性，我认为没有必要将其包含在提交中（因此没有字段。）此外，由于它应该自动递增，因此可以选择手动添加的密钥实际上没有意义。

因此，我将一小部分字段和 MySQL 语句放在一起，我认为所有这些都应该有效。当我有一个字段来添加一个键（在本例中为`id_no`）并在那里手动输入一个值时，提交的内容会成功存储到数据库中。但是，当我删除该选项时，不会向数据库提交任何内容。

我应该注意我的主键字段`id_no` **被**标记为自动递增，所以这不是问题。根据我的理解以及我通过手动插入实体所看到的情况，自动递增值应该会自动更新，而无需将它们包含在任何`insert`语句中。

到目前为止，这是我所做的（这是我的第一个 MySQL/PHP 作业，所以请轻点）：

```
<!DOCTYPE html>

<html>

<head>
  <title>Actor Database</title>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script src="//ajax.aspnetcdn.com/ajax/jquery.validate/1.11.0/jquery.validate.js"></script>
  <script>
  $(document).ready(function() {
    $("form").validate();
  });
  </script>
</head>

<body>

 <form method="post">
   First Name: <input name="first_name" type="text" id="first" class="required" minlength="3">
   <br>
   Last Name: <input name="last_name" type="text" id="last" class="required" minlength="3">
   <br>
   <!--ID Number: <input name="id_no" type="text" id="id_num" class="required digits" maxlength="5">
   <br>-->
   Photo: <input name="photo" type="file" id="photo" class="required">
   <br>
   <input type="submit" id="submit">
 </form>

 <?php

 $dbhost = '*******************';
 $dbname = '*******************';
 $dbuser = '*******************';
 $dbpass = '*******************';

 $mysql_handle = mysql_connect($dbhost, $dbuser, $dbpass)
 or die("Error connecting to database server");

 mysql_select_db($dbname, $mysql_handle)
 or die("Error selecting database: $dbname");

 //mysql_query("INSERT INTO Actors(first_name, last_name) VALUES('Anne', 'Hathaway')");

 $id_no = array_key_exists("id_no", $_REQUEST) ? $_REQUEST["id_no"] : 0;
 $first_name = array_key_exists("first_name", $_REQUEST) ? $_REQUEST["first_name"] : '';
 $last_name = array_key_exists("last_name", $_REQUEST) ? $_REQUEST["last_name"] : '';
 $photo = array_key_exists("photo", $_REQUEST) ? $_REQUEST["photo"] : NULL;

 if ($id_no <= 0) {
  echo "";
 } else if ($id_no > 0) {
  $rs = mysql_query("SELECT id_no FROM Actors WHERE id_no = ".$id_no);
  if (mysql_numrows($rs) == 0) {
    mysql_query("INSERT INTO Actors(id_no, last_name, first_name) VALUES("
        . $id_no
        . ",'" . mysql_real_escape_string($last_name) . "'"
        . ",'" . mysql_real_escape_string($first_name) . "')"
      );
  } else {
    mysql_query("UPDATE Actors 
      SET last_name  = '".mysql_real_escape_string($last_name). "',
      SET first_name = '".mysql_real_escape_string($first_name)."'
      WHERE id_no ".$id_no
      );
  }
  }

  $results = mysql_query('SELECT id_no, last_name, first_name, photo FROM Actors');
  $nrows = mysql_numrows($results);

  echo "<table>";
  for ($i = 0; $i < $nrows; $i++) {
   echo "<tr>";
   echo "<td>".htmlspecialchars(mysql_result($results, $i, "first_name")). " " .htmlspecialchars(mysql_result($results, $i, "last_name"))."</td>";
   echo "</tr>";
  }
  echo "</table>";

 mysql_close($mysql_handle);

 ?>
</body>

</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:09:43.830

马上你`where id_no`就错过了一个=的

```
mysql_query("UPDATE Actors 
  SET last_name  = '".mysql_real_escape_string($last_name). "',
  first_name = '".mysql_real_escape_string($first_name)."'
  WHERE id_no =".$id_no
  ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T06:51:34.223

不是答案，但对于评论来说太大了。

这里有一些一般提示可以打动你的教授：

1) array_key_exists 有点多余，您可以通过以下方式使您的检查更具可读性：

```
$photo = isset($_REQUEST['photo']) ?: NULL; 
```

（请注意，此快捷语法仅适用于 php 5.3+）

2) 您对查询调用没有错误处理，这意味着您只是假设它们总是成功。数据库操作只有一种**成功**方式（“不要失败”），以及几乎无限的失败方式。始终检查返回值是否失败：

```
$result = mysql_query($sql) or die(mysql_error());
                           ^^^^^^^^^^^^^^^^^^^^^^ 
```

至少应该在每个单独的数据库操作上。

3) 意识到 sql 注入问题并至少使用 mysql_real_escape_string() 来减轻它们的荣誉

4) 仍在使用 mysql 功能的嘘声。切换到 PDO 或 mysqli 库并使用准备好的语句和占位符肯定会让这个项目在教授看来更好。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-16T06:23:16.773

当您插入时，如果设置了 auto_increment 时存在默认值，则不需要包含 id_no。所以从插入语句中删除 id_no 。

需要更改 id_no 的逻辑。要么有一个将 id_no 设置为 0 的新命令/操作，这表明这是一条新记录；或通过唯一索引确定并设置真正的主键并搜索以确定记录是否已存在。

祝你好运并感谢免责声明:-)

# c# - 如何使用 Active Directory 用户的帐户登录 ASP.Net

> ID：14907534
> 
> 赞同：2
> 
> 时间：2013-02-16T06:08:50.570
> 
> 标签：c#, asp.net, active-directory

我正在尝试将登录页面添加到我的内部电子服务中，但必须从 Active Directory 用户的帐户中读取此登录信息：

到目前为止我所做的是：

`web.config`：

```
<connectionStrings>
   <add name="ADConnectionString" 
        connectionString="LDAP://dcsrv.****.gov.sa/CN=dcsrv,DC=****,DC=gov,DC=sa"/>
</connectionStrings>

<authentication mode="Forms">
   <forms name=".ASPNET" loginUrl="Login.aspx" defaultUrl="Default.aspx"></forms>
</authentication>
<authorization>
    <deny users="?"/>
    <allow users="*"/>
</authorization>

<membership defaultProvider="MembershipADProvider">
   <providers>
      <add name="MembershipADProvider"  
           type="System.Web.Security.ActiveDirectoryMembershipProvider, System.Web, Version=2.0.0.0,Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" 
           connectionStringName="ADConnectionString" 
           connectionUsername="****.gov.sa\ADadministrator" 
           connectionPassword="ADPassword"/>
   </providers>
</membership> 
```

`Login.Aspx`：

```
<form id="form1" runat="server">
    <div style="text-align:center">
      <asp:Login ID="Login1" runat="server" onloginerror="Login1_LoginError">
      <LoginButtonStyle  />
          <InstructionTextStyle Font-Italic="True" ForeColor="Black" />
          <TitleTextStyle BackColor="#5D7B9D" Font-Bold="True" Font-Size="Small" />
       </asp:Login>
    </div>
</form> 
```

`Login.Aspx.Cs`:
没有重要信息，只有登录错误信息。

```
protected void Login1_LoginError(object sender, EventArgs e)
    {
        Login1.FailureText = "Authentication failed!";
    } 
```

但是当我在我的服务器上尝试它时，我收到了上面提到的错误

> *认证失败！*

那么我是否忘记添加任何信息`web.config`或导入任何库或任何其他信息？

# java - 在 JPanel 中添加 JPanel - 嵌套的 JPanel 不会显示

> ID：14907535
> 
> 赞同：3
> 
> 时间：2013-02-16T06:08:54.517
> 
> 标签：java, swing, xor

## 新代码

```
package test;

import javax.swing.*;
import java.awt.*;

public class TestWindow extends JFrame{
//------------------------------------------------------------------------------
    public static void main(String[] args) {
        new TestWindow();
    }
//------------------------------------------------------------------------------
    public TestWindow(){
        setSize(300,300);
        this.setUndecorated(true);
        add(new Background());
        setVisible(true);
    }
//------------------------------------------------------------------------------

    private class Background extends JPanel{
        public Background(){
            add(b);
            repaint();
        }
//------------------------------------------------------------------------------    
        Bubble b = new Bubble();
        @Override
        public void paintComponent(Graphics g){
            super.paintComponent(g);
            Color c = Color.cyan;
            g.setColor(c);
            g.fillRect(0, 0,getWidth(), getHeight());
        }
//------------------------------------------------------------------------------
        private class Bubble extends JPanel{
            @Override
            public void paintComponent(Graphics g){
                super.paintComponent(g);
                g.setColor(Color.green);
                g.drawOval(0, 0, Background.this.getWidth(), Background.this.getHeight());
            }
        }
//------------------------------------------------------------------------------
    }
} 
```

## 输出

![在此处输入图像描述](../Images/c5a8ce0e05504891185a36efc2d153a1.png)

## 问题

目的是绘制一个带有绿色圆圈的青色窗口。稍后我会将组件添加到绿色圆圈中，这样它看起来就像有一个带有青色背景的窗口和一个带有组件的绿色圆圈。
然而，输出只是青色背景。没有圈。

我尝试将 XOR 模式设置为青色，但这也不起作用。我嵌套类错了吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-16T06:16:23.453

主要问题在这里...

```
 public void paintComponent(Graphics g){
        super.paintComponent(g);
        Color c = Color.cyan;
        g.setColor(c);
        g.fillRect(0, 0,getWidth(), getHeight());
        add(b);
        repaint();
    } 
```

不仅在您的paint方法中将组件添加到您的容器中，而且您还调用了repaint，所有这些都会对您不利。

当您的组件出于各种原因需要更新时，重新绘制管理器会调用 Paint。您永远不应该调用任何可能使其无效的方法，否则需要重新绘制组件，这样做会使您陷入 CPU 烧毁的滑坡。

反而。

1.  `Bubble`在组件的构造函数中添加您的`Background`组件
2.  覆盖`getPreferredSize`这两个组件的方法并提供有用的提示，以便布局管理器了解组件可能实际想要使用多少空间

您面临的主要问题（除了糟糕的绘画）是组件报告自己不需要高度或宽度，这意味着当布局管理器来布置它们时，它们实际上是不可见的

**更新**

我建议你看看

*   [使用 Swing 创建 GUI](http://docs.oracle.com/javase/tutorial/uiswing/)，特别注意布局管理器部分
*   [定制绘画](http://docs.oracle.com/javase/tutorial/uiswing/)
*   [在 AWT 和 Swing 中绘画](http://www.oracle.com/technetwork/java/painting-140037.html)

**复活节彩蛋**

为了接受建议和努力，让我给你一点帮助......

![在此处输入图像描述](../Images/9d1a529cdf0e5cd9ae1752982302b356.png)

我建议你做的是通读代码，回到 Java 文档和教程，试着弄清楚发生了什么；）

```
public class CircleControl {

    public static void main(String[] args) {
        new CircleControl();
    }

    public CircleControl() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {
                }

                JFrame frame = new JFrame("Testing");
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new BorderLayout());
                frame.add(new TestPane());
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }
        });
    }

    public class TestPane extends JPanel {

        public TestPane() {
            setLayout(new GridBagLayout());
            add(new Bubble());
        }

        @Override
        public Dimension getPreferredSize() {
            return new Dimension(200, 300);
        }

        @Override
        protected void paintComponent(Graphics g) {
            super.paintComponent(g);

            Graphics2D g2d = (Graphics2D) g.create();

            Color startColor = brighten(Color.CYAN, 0.75f);
            Color endColor = brighten(Color.CYAN, 0.5f);

            LinearGradientPaint lgp = new LinearGradientPaint(
                            new Point(0, 0),
                            new Point(0, getHeight()),
                            new float[]{0f, 1f},
                            new Color[]{startColor, endColor});

            g2d.setPaint(lgp);
            g2d.fill(new Rectangle(getWidth(), getHeight()));
            g2d.dispose();

        }
    }

    public class Bubble extends JPanel {

        public Bubble() {
            Font font = UIManager.getFont("Label.font");
            setFont(font.deriveFont(Font.BOLD, 48));
            setForeground(Color.WHITE);
            setBackground(darken(Color.CYAN, 0.3f));
            setOpaque(false);
        }

        @Override
        public Dimension getPreferredSize() {
            return new Dimension(150, 150);
        }

        @Override
        protected void paintComponent(Graphics g) {
            super.paintComponent(g);
            Graphics2D g2d = (Graphics2D) g.create();
            g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);
            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);
            g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);
            g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);
            g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);
            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);
            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);
            g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);
            g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);

            int x = (getWidth() - 150) / 2;
            int y = (getHeight() - 150) / 2;

            Color startColor = brighten(getBackground(), 0.05f);
            Color endColor = getBackground();

            LinearGradientPaint lgp = new LinearGradientPaint(
                            new Point(x, y),
                            new Point(x, y + 150),
                            new float[]{0f, 1f},
                            new Color[]{startColor, endColor});
            g2d.setPaint(lgp);
            g2d.fill(new Ellipse2D.Double(x, y, 150, 150));

            FontMetrics fm = g2d.getFontMetrics();
            x = x + ((150 - fm.stringWidth("22")) / 2);
            y = y + ((150 / 2) + fm.getAscent());
            g2d.setColor(getForeground());
            g2d.drawString("22", x, y);

        }
    }

    public static Color brighten(Color color, double fraction) {
        int red = (int) Math.round(Math.min(255, color.getRed() + 255 * fraction));
        int green = (int) Math.round(Math.min(255, color.getGreen() + 255 * fraction));
        int blue = (int) Math.round(Math.min(255, color.getBlue() + 255 * fraction));
        int alpha = color.getAlpha();
        return new Color(red, green, blue, alpha);
    }

    public static Color darken(Color color, double fraction) {
        int red = (int) Math.round(Math.max(0, color.getRed() - 255 * fraction));
        int green = (int) Math.round(Math.max(0, color.getGreen() - 255 * fraction));
        int blue = (int) Math.round(Math.max(0, color.getBlue() - 255 * fraction));
        int alpha = color.getAlpha();
        return new Color(red, green, blue, alpha);
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T06:40:42.580

我已经运行了您的代码并进行了更改。就是这样。但是您的程序不处理窗口关闭。你必须这样写。

```
package test;
import javax.swing.*;
import java.awt.*;

public class TestWindow extends JFrame
{
    //------------------------------------------------------------------------------
    public static void main(String[] args) {
        new TestWindow();
    }
    //------------------------------------------------------------------------------
    public TestWindow(){
        setSize(300,310);
        this.setUndecorated(true);
        add(new Background());
        setVisible(true);
    }
//------------------------------------------------------------------------------

    private class Background extends JPanel{
        public Background(){
            Bubble b = new Bubble();
            add(b);
        }
        //------------------------------------------------------------------------------    

        @Override public Dimension getPreferredSize()
        {
            return new Dimension(300,300);
        }

        @Override
        public void paintComponent(Graphics g){
            super.paintComponent(g);
            Color c = Color.cyan;
            g.setColor(c);
            g.fillRect(0, 0,getWidth(), getHeight());
        }
        //------------------------------------------------------------------------------
        private class Bubble extends JPanel{

            Bubble()
            {
                setOpaque(false);
            }

            @Override
            public void paintComponent(Graphics g){
                super.paintComponent(g);
                g.setColor(Color.green);
                g.fillOval(0, 0, getWidth(), getHeight());
            }

            @Override public Dimension getPreferredSize()
            {
                return new Dimension(300,300);
            }
        }
//------------------------------------------------------------------------------
    }
} 
```

# php - PHP MySQL插入查询不起作用并且不显示任何错误消息

> ID：14907536
> 
> 赞同：0
> 
> 时间：2013-02-16T06:08:54.527
> 
> 标签：php, mysql, forms, insert-update

我已经验证了 post 方法实际上正在使用 echo 来显示变量，但是当我使用下面的 Insert 查询时，它不会添加行。

你有什么想法？

```
// 1\. Create a DB connection
$connection =  mysql_connect("localhost","root","P@ssword");

if(!$connection){
    die("Database connection failed: " . mysql_error());    
}

$menu_name = $_POST['menu_name'];
$position = $_POST['position'];
$visible = $_POST['visible'];

$query = "INSERT INTO subjects (menu_name, position, visible) VALUES ('{$menu_name}', {$position}, {$visible})";

$result = mysql_query($query, $connection);

if ($result){
    header("Location:staff.php");
    exit;
} else {
echo "<p> There was an error when creating the
subject </p>";
"<p>". mysql_error()."</p>" ;

  }

mysql_close($connection); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:44:27.500

令人困惑的代码oO！。自从我的代码看起来像这样已经很久了。所以很难弄清楚，哈哈。但是，当涉及到 mysql 错误时——当某些东西没有正确地为我提供错误时（当调试看起来像这样时）——我逐行阅读。然后我回显查询，并使用 mysqladmin 或其他 sql 工具对其进行测试。我也会运行 $query = mysql_query($query) 或 die(mysql_error()); 在同一行进行快速调试。

## 值得注意的问题

a) 切换到[mysqli](http://php.net/manual/en/book.mysqli.php)为将来的 PHP 更改做好准备。如果您喜欢 mysql，请熟悉 mysqli。

1.  您没有选择数据库。[mysql_select_db](http://php.net/manual/en/function.mysql-select-db.php)
2.  *重要*的是发布数据 - 这意味着您确实需要过滤信息。为了允许使用插入将任何内容输入到数据库中，而不转义危险字符 - 您将留下很多东西可玩;)。即使，如果你是唯一一个输入信息的人，我在下面做了一些改动。'{$menu_name}' 带有单引号，但 {$position} 和 {$visible} 没有单引号 - 几个月后返回时不一致会令人困惑。

为什么 ('{$menu_name}', {$position}, {$visible}) 不是 ('{$menu_name}', '{$position}', '{$visible}') ？反而。

## 更有条理

```
<?
$host = "localhost"; // hostname
$user = "root"; // username
$pass = "P@ssword"; // password
$db = ""; // database name

$connection = mysql_connect($host,$user,$pass) or die("Database connection failed: ".mysql_error());
$database = mysql_select_db($db,$connection) or die("DB Selection Error: ".mysql_error());

$menu_name = mysql_real_escape_string($_POST['menu_name']);
$position = mysql_real_escape_string($_POST['position']);
$visible = mysql_real_escape_string($_POST['visible']);

$query = "INSERT INTO `subjects` (`menu_name`, `position`, `visible`) VALUES ('{$menu_name}', '{$position}', '{$visible}')";

$result = mysql_query($query, $connection) or die(mysql_error());

if ($result){ // I would usually use mysql_insert_id as a validation from auto_increment tables.
    header("Location:staff.php");
    exit;
} else {
    echo "<p> There was an error when creating the subject </p>
    <p>". mysql_error()."</p>" ;
}
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T06:19:27.480

您没有选择数据库。

```
<?php
// 1\. CReate a DB connection
$connection = mysql_connect("localhost","root","P@ssword");
if(!$connection){
    die("Database connection failed: " . mysql_error());
            }

mysql_select_db("DB_NAME", $connection);

?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-11T16:30:28.687

你有没有注意你的价值观`('{$menu_name}', {$position}, {$visible})`，它们都应该被引用`('{$menu_name}', '{$position}', '{$visible}')`。

# data-structures - 循环队列的缺点？

> ID：14907549
> 
> 赞同：8
> 
> 时间：2013-02-16T06:10:35.793
> 
> 标签：data-structures, language-agnostic, queue, circular-buffer

最近，在一次采访中，有人问我使用循环队列的缺点。我什么都想不出来。在互联网上搜索我发现的唯一答案是它比线性队列难以实现:)。有没有其他的缺点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-16T02:28:21.780

我想说循环队列的最大缺点是您只能存储 queue.length 元素。如果您将其用作缓冲区，则会限制您的历史深度。

另一个较小的缺点是很难在不保留额外信息的情况下区分空队列和满队列。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-12-31T04:51:23.737

面试官正在寻找的答案可能取决于上述问题中没有的其他上下文。

例如，对于高度并发的生产者/消费者系统，通常会考虑循环队列。当队列已满时，队列前面和后面的操作可能会争用相同的缓存行，这在这样的上下文中可能是个问题。

或者面试官想让你谈谈与基于循环数组的队列相比，在垃圾收集语言中创建无锁链接队列要容易得多。

或者，如果您使用具有周期性移位的线性队列而不是循环队列，那么您可以如何更好地利用您的语言提供的向量容器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T06:35:21.110

在我看来，任何遍历队列的代码都必须跟踪第一个节点才能检测到遍历的结束。但是在多线程环境中，另一个线程可能会删除第一个节点，这会导致遍历线程进入无限循环。因此，遍历线程必须在其通过队列的循环期间保持第一个节点锁定。

# android - 将 Kendo UI mobile 与 Eclipse 一起用作 Android 应用程序

> ID：14907550
> 
> 赞同：0
> 
> 时间：2013-02-16T06:10:37.647
> 
> 标签：android, kendo-ui

我有一个在 Visual Studio 2010 中制作的小型应用程序，只有简单的 HTML 页面，我在其中使用了 Kendo UI 移动设备。现在我想将该应用程序用作 Android 应用程序。有没有办法做到这一点？我可以将该应用程序转换为 Eclipse 应用程序吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-30T08:18:38.890

您将需要创建一个使用 webview 来显示 HTML 页面的 android 项目。我建议您阅读并关注此页面（[https://developer.android.com/guide/webapps/webview.html](https://developer.android.com/guide/webapps/webview.html)）以实现您想要的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T19:11:38.713

您需要使用PhoneGap。[http://phonegap.com](http://phonegap.com)。PhoneGap 帮助您捆绑使用 HTML/JS 和 CSS 构建的应用程序，以便它们可以部署在多个移动平台上，如 android、iOS、blackberry 等。

# xcode - xcode中“选项+双击”的键盘快捷键是什么？

> ID：14907551
> 
> 赞同：0
> 
> 时间：2013-02-16T06:10:54.460
> 
> 标签：xcode, keyboard-shortcuts

“在符号文档中查找文本”快捷方式是 xcode 中的“选项 + 双击”。

但这是同时使用键盘和鼠标。

我想知道仅在键盘中不使用鼠标的“在符号文档中查找文本”快捷方式。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T07:01:19.583

仅在键盘上不使用鼠标的对应快捷键有点不好用：

```
Search Documentation for Selected Text         ⌃⌥⌘/         Control-Option-Command-/ 
```

另一个更容易使用的快捷方式是`Command-Click`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T06:41:15.467

在 xcode 中查找文本的快捷方式

```
Find in Workspace…                 ⇧⌘F  Shift-Command-F

Find and Replace in Workspace…     ⌥⇧⌘F Option-Shift-Command-F

Find…                              ⌘F   Command-F

Find and Replace…                  ⌥⌘F  Option-Command-F 
```

其他快捷方式可以在这里找到。 [http://developer.apple.com/library/mac/#documentation/IDEs/Conceptual/xcode_help-command_shortcuts/MenuCommands/MenuCommands014.html#//apple_ref/doc/uid/TP40010560-CH2-SW1](http://developer.apple.com/library/mac/#documentation/IDEs/Conceptual/xcode_help-command_shortcuts/MenuCommands/MenuCommands014.html#//apple_ref/doc/uid/TP40010560-CH2-SW1)

# php - 根据用户输入显示数据库中的值

> ID：14907555
> 
> 赞同：-1
> 
> 时间：2013-02-16T06:11:22.670
> 
> 标签：php, mysql

我的代码以这种方式工作。我有一个登录，当管理员登录时，他可以输入名称并提交。应向用户显示与该名称对应的所有数据库值。现在我得到的是，管理员可以输入值（名称）并点击提交。循环不显示 values ，而是存在并转到另一个函数。我哪里错了？

```
if( $_SESSION["logging"]&& $_SESSION["logged"])
{
 print_secure_content();
}  
function chk()
 {    
if($res[ROLE]=='admin')
{
  echo "hey admin";

<form action="" method=post>
<input type = "text" name="submit" />Enter<br/>
<input type="submit" name="submit" value="submit"/>
<?php
//It never gets inside this loop and directly jumps to print() function
if(isset($_POST['submit']))
 {
   echo "helloooo";
   $sq="select `name` from users where NAME='$_POST[submit]'";
   $result1=mysql_query($sq,$con) or die(mysql_error());
  while($res1=mysql_fetch_assoc($result1));
  {
    echo "hiiiii";
    $user['name']=$res1['NAME'];
    echo $user['name'];
   } ?>
  <input type="text" name="fo" class="textfield" value="<?php echo $user['name']; ?>"/>
  </label><br />
 <?php
 return mysql_num_rows($user);
 }
  }
  // this gets executed
  function print_secure_content()
   {
    print("<b><h1>hi $_SESSION[user]</h1>");
print "<br><h2>only a logged in user can see this</h2><br><a href='logout.php'>Logout</a>
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T07:04:54.357

试试这个代码..

```
<?php
if($res[ROLE]=='admin')
{
    echo "hey admin";
    ?>
    <form action="" method=post>
    Name<input type = "text" name="name" /><br/>
    <input type="submit" name="submit" value="submit"/>
    <?php
    //It never gets inside this loop and directly jumps to print() function
    if(isset($_POST['submit']))
    {
        $sq="select `name` from `users` where `name`='".$_POST['name']."'";
        $result1=mysql_query($sq) or die(mysql_error());
        while($res=mysql_fetch_assoc($result1))
        {
            $user['name']=$res['name'];
            echo $user['name'];
        } 
    ?>
        <input type="text" name="fo" class="textfield" value="<?php echo $user['name']; ?>"/>
        </label><br />
    <?php
    }
}
// this gets executed
function print_secure_content()
{
    print("<b><h1>hi $_SESSION[user]</h1>");
    print "<br><h2>only a logged in user can see this</h2><br><a href='logout.php'>Logout</a>";
}
?> 
```

您的问题的更改是从...中删除`;`并使用`while`另一个...`name``<input type='text' />`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T06:28:35.943

问题出在您的表单中，提交和文本框的输入名称相同：

```
<form action="" method=post>
<input type = "text" name="submit" />Enter<br/>
<input type="submit" name="submit" value="submit"/> 
```

正确的可能是：

```
<form action="" method=post>
    <input type = "text" name="submit" />Enter<br/>
    <input type="submit" name="submit_btn" value="submit"/>
</form> 
```

同时关闭 from 标签。

# iphone - 我们如何在 MapKit 中将标签放在自定义引脚上？

> ID：14907557
> 
> 赞同：0
> 
> 时间：2013-02-16T06:11:52.063
> 
> 标签：iphone, ios6, mkmapview, mkannotationview, mkpinannotationview

我想在自定义引脚上显示动态标签。我使用了 MKMapView、CLLocationManager、MKAnnotationView 和 MKPinAnnotationView。所以，请朋友们帮帮我。

像：

![在此处输入图像描述](../Images/e1c5aa2e08fb2496b2b2cf087c16fece.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-01-06T17:24:55.063

首先创建一个基于自定义`MKAnnotationView`的类：

**斯威夫特 3**

```
 class CustomAnnotationView: MKAnnotationView {  
    var label: UILabel?

    override init(annotation: MKAnnotation?, reuseIdentifier: String?) {
      super.init(annotation: annotation, reuseIdentifier: reuseIdentifier)
    }

    required init?(coder aDecoder: NSCoder) {
      super.init(coder: aDecoder)
    }
  } 
```

然后确保您的 ViewController 类添加`NKMapViewDelegate`为委托：

**斯威夫特 3**

```
import UIKit
import MapKit

class ViewController: MKMapViewDelegate {
  override func viewDidLoad() {
    super.viewDidLoad()

    mapView.delegate = self
  }
} 
```

然后将以下方法添加到您`ViewController`的地图中，每当向地图添加注释时，MapView 都会调用该方法：

**斯威夫特 3**

```
 func mapView(_ mapView: MKMapView, viewFor annotation: MKAnnotation) -> MKAnnotationView? {
    let annotationIdentifier = "MyCustomAnnotation"
    guard !annotation.isKind(of: MKUserLocation.self) else {
      return nil
    }

    var annotationView = mapView.dequeueReusableAnnotationView(withIdentifier: annotationIdentifier)
    if annotationView == nil {
      annotationView = CustomAnnotationView(annotation: annotation, reuseIdentifier: annotationIdentifier)
      if case let annotationView as CustomAnnotationView = annotationView {
        annotationView.isEnabled = true
        annotationView.canShowCallout = false
        annotationView.label = UILabel(frame: CGRect(x: -5.5, y: 11.0, width: 22.0, height: 16.5))
        if let label = annotationView.label {
          label.font = UIFont(name: "HelveticaNeue", size: 16.0)
          label.textAlignment = .center
          label.textColor = #colorLiteral(red: 1, green: 1, blue: 1, alpha: 1)
          label.adjustsFontSizeToFitWidth = true
          annotationView.addSubview(label)
        }
      }
    }

    if case let annotationView as CustomAnnotationView = annotationView {
      annotationView.annotation = annotation
      annotationView.image = #imageLiteral(resourceName: "YourPinImage")
      if let title = annotation.title,
        let label = annotationView.label {
        label.text = title
      }
    }

    return annotationView
  } 
```

完成所有这些后，可以像这样添加注释：

**斯威夫特 3**

```
 let annotation = MKPointAnnotation()
  annotation.coordinate = CLLocationCoordinate2D(latitude: /* latitude */, longitude: /* longitude */)
  annotation.title = "Your Pin Title"
  mapView.addAnnotation(annotation) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T08:18:18.387

如果您的意思是您希望图钉上有一个字母，那么您需要将注释视图的图像设置为`viewForAnnotation`. 如果您打算更改每个注释的图钉，则需要动态创建图像。他们将有很多关于这个的代码，但归结为这个

```
annotationView.image = anImage; 
```

# c - 为什么pthreads在c中顺序执行

> ID：14907559
> 
> 赞同：-2
> 
> 时间：2013-02-16T06:12:05.837
> 
> 标签：c, pthreads

我在 c 中创建了 10 个 pthread，它们似乎出于某种原因按顺序运行。我已经为每个线程分配了一个 id，并且我正在为每个线程将 id 写入数组 10 次。一旦 10 个线程完成写入，我就解析数组。在遍历数组时，每个线程的 id 会连续出现。有 100 个 id 被写入数组，它们都是连续写入的。我期待的是会发生竞争条件，以便覆盖一些 id。我也不希望所有 id 都连续出现在数组中。

这是代码：

```
#include <stdlib.h>
#include <stdio.h>
#include <pthread.h>

//Count variabes and flags
int noItemsToProduce = 10; //Number of items produced by a single thread.
int totalItemsToProduce = 100; //Number of items produced by 10 threads.
int noItemsConsumed = 0; //Number of items removed by consumer.
int done = 0; //Flag used to know when to terminate.
int queueEmpty = 0;
void *res; //Stores the result from the thread.

//Queue Variables
int *queueArray;
int front = 0;
int back = -1;

void enqueue(int item)
{
    if(back < totalItemsToProduce-1)
    {
        queueArray[++back] = item;
    }
}

void dequeue()
{
    if(front<=back)
    {
        front++;
    }
    else
    {
        queueEmpty = 1;
        front=0;
        back=-1;
    }
}

static void *producer(void *arg)
{
    int i;
    int id = strtol(arg,NULL,0);
    for(i=0;i<noItemsToProduce;i++)
    {
        enqueue(id);
    }
}

static void *consumer(void *arg)
{
    while(!done || !queueEmpty)
    {
        printf("Dequeuing item with id = %d at pos = %d.\n",queueArray[front],front);
        dequeue();
        noItemsConsumed++;
    }
}

int main(int argc,char *argv[])
{
    //The user needs to specify the number of ints each of the 10
    //producers will produce.
    if (argc!=2)
    {
        printf("Usage: %s #-items-for-each-producer\n",argv[0]);
        return -1;
    }
    else
    {
        noItemsToProduce = strtol(argv[1],NULL,0);
        totalItemsToProduce = 10*noItemsToProduce;
        queueArray = (int *)malloc(sizeof(int)*totalItemsToProduce);
    }

    //Declarations.
    queueArray = (int *)malloc(sizeof(int)*(10*noItemsToProduce));
    pthread_t p1;
    pthread_t p2;
    pthread_t p3;
    pthread_t p4;
    pthread_t p5;
    pthread_t p6;
    pthread_t p7;
    pthread_t p8;
    pthread_t p9;
    pthread_t p10;
    pthread_t c;

    //Start producer and consumer threads.
    pthread_create(&p1,NULL,producer,"1");
    pthread_create(&p2,NULL,producer,"2");
    pthread_create(&p3,NULL,producer,"3");
    pthread_create(&p4,NULL,producer,"4");
    pthread_create(&p5,NULL,producer,"5");
    pthread_create(&p6,NULL,producer,"6");
    pthread_create(&p7,NULL,producer,"7");
    pthread_create(&p8,NULL,producer,"8");
    pthread_create(&p9,NULL,producer,"9");
    pthread_create(&p10,NULL,producer,"10");

    //Wait until all of the producers finish producing.
    pthread_join(p1,&res);
    pthread_join(p2,&res); 
    pthread_join(p3,&res); 
    pthread_join(p4,&res); 
    pthread_join(p5,&res); 
    pthread_join(p6,&res); 
    pthread_join(p7,&res); 
    pthread_join(p8,&res); 
    pthread_join(p9,&res); 
    pthread_join(p10,&res); 

    //We're done producing so let the consumer know.
    done = 1;
    pthread_create(&c, NULL, consumer, queueArray);
    pthread_join(c,&res);   
    printf("Total items produced = %d.\n",10*noItemsToProduce);
    printf("Total items consumed = %d.\n",noItemsConsumed-1);

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T06:15:22.610

你确实有竞争条件。您在操作系统的 pthreads 实现的人工制品中看到的内容。如果你让每个线程做更多的工作（理想情况下，做更多的工作），你可能会看到这个伪影消失了。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T06:14:11.280

`pthreads`对线程的调度方式做出零保证。如果他们不做很多工作，操作系统很可能会串行调度每个线程并让它们完成。

如果您真的想让他们参加比赛，请让他们做一些忙碌的工作，例如`for(i=0; i<100000000; i++) write_to_array;`。当然，即使这样也不能保证他们真的会参加比赛，但它确实会提高你与大多数调度程序的几率。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-16T06:18:02.833

如果你让四个弓箭手各自拿弓箭，到场上，对准一个目标，然后开火，你可能同时有两支箭在空中，但可能性不大。大部分时间都花在创建和拆除线程上。两个碰巧同时访问数组的概率接近于零。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-16T06:14:08.480

> 有什么问题？

“问题”是这样的：

> 我也不希望所有 id 都连续出现在数组中。

IE。您对实现细节有期望和/或做出假设。

# php - 如何使用php获取假期日期

> ID：14907561
> 
> 赞同：21
> 
> 时间：2013-02-16T06:12:29.600
> 
> 标签：php, date, calendar, strtotime

例如：

1.  *一月的第三个星期一* **马丁路德金纪念日**
2.  *2 月的第三个星期一* **总统日（华盛顿诞辰）**
3.  *三月的最后一个星期日* **复活节**
4.  *五月的最后一个星期一为* **阵亡将士纪念日**

我正在尝试获取这些日期，以便我可以在日历上标记它，而无需手动放置未来几年的所有内容。

* * *

**修改后的答案！！**

```
$curYir = date("Y");//current year

$MLK = date('Y-m-d', strtotime("january $curYir third monday")); //marthin luthor king day
$PD = date('Y-m-d', strtotime("february $curYir third monday")); //presidents day
$Est =  date('Y-m-d', easter_date($curYir))); // easter 
$MDay = date('Y-m-d', strtotime("may $curYir first monday")); // memorial day
//("may $curYir last monday") will give you the last monday of may 1967
//much better to determine it by a loop
      $eMDay = explode("-",$MDay);
      $year = $eMDay[0];
      $month = $eMDay[1];
      $day = $eMDay[2];

      while($day <= 31){
          $day = $day + 7;
      }
      if($day > 31)
      $day = $day - 7;

      $MDay = $year.'-'.$month.'-'.$day;
$LD = date('Y-m-d', strtotime("september $curYir first monday"));  //labor day
$CD = date('Y-m-d', strtotime("october $curYir third monday")); //columbus day
$TH = date('Y-m-d', strtotime("november $curYir first thursday")); // thanks giving 
//("november $curYir last thursday") will give you the last thursday of november 1967
//much better to determine it by a loop
      $eTH = explode("-",$TH);
      $year = $eTH[0];
      $month = $eTH[1];
      $day = $eTH[2];

      while($day <= 30){
          $day = $day + 7;
      }
      if($day > 30)
      //watch out for the days in the month November only have 30
      $day = $day - 7;

      $TH = $year.'-'.$month.'-'.$day; 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-16T06:28:33.473

您可以利用 php.ini 的这个功能。[时间](http://php.net/manual/en/function.strtotime.php)

```
$currentYear = date("Y"); 
```

MLK 日 -

```
echo date('Y-m-d', strtotime("third monday of january $currentYear")); 
```

总统日 -

```
echo date('Y-m-d', strtotime("third monday/OD February $currentYear")); 
```

复活节——

```
echo date('Y-m-d', strtotime("last sunday of march $currentYear")); 
```

纪念日 -

```
echo date('Y-m-d', strtotime("last monday of may $currentYear")); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-01-25T14:48:21.473

strtotime 函数在这里很有用，但它似乎在解释英语措辞方面有一些特殊性。请务必仔细检查您的措辞并检查您的结果。

例如，这似乎应该可以工作，但它将返回 4 月的最后一个星期一（$currentYear = 2014）！

```
echo "Memorial Day " . date('F d, Y', strtotime("may $currentYear last monday")) . "<br />"; 
```

但是，此措辞将返回 2014 年的正确假期。

```
echo "Memorial Day " . date('F d, Y', strtotime("last monday of May $currentYear")) . "<br />"; 
```

这将为您提供明年假期的正确日期。

```
echo "Memorial Day " . date('F d, Y', strtotime("last monday of May $currentYear+1")) . "<br />"; 
```

PHP 文档页面对其使用有额外的评论。小心

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2015-11-05T20:45:53.340

这种方式对我有用。

```
function observed_date($holiday){
    $day = date("w", strtotime($holiday));
    if($day == 6) {
        $observed_date = $holiday -1;
    } elseif ($day == 0) {
        $observed_date = $holiday +1;
    } else {
        $observed_date = $holiday;
    }
    return $observed_date;
}

function get_holiday($holiday_name) {

    $currentYear = date('Y');

    switch ($holiday_name) {
        // New Years Day
        case "new_year":
            $holiday = observed_date(date('Ymd', strtotime("first day of january $currentYear")));
            break;
        // Martin Luther King, Jr. Day
        case "mlk_day":
            $holiday = date('Ymd', strtotime("january $currentYear third monday"));
            break;
        // President's Day
        case "presidents_day":
            $holiday = date('Ymd', strtotime("february $currentYear third monday"));
            break;
        // Memorial Day
        case "memorial_day":
            $holiday = (new DateTime("Last monday of May"))->format("Ymd");
            break;
        // Independence Day
        case "independence_day":
            $holiday = observed_date(date('Ymd', strtotime("july 4 $currentYear")));
            break;
        // Labor Day
        case "labor_day":
            $holiday = date('Ymd', strtotime("september $currentYear first monday"));
            break;
        // Columbus Day
        case "columbus_day":
            $holiday = date('Ymd', strtotime("october $currentYear second monday"));
            break;
        // Veteran's Day
        case "veterans_day":
            $holiday = observed_date(date('Ymd', strtotime("november 11 $currentYear")));
            break;
        // Thanksgiving Day
        case "thanksgiving_day":
            $holiday = date('Ymd', strtotime("november $currentYear fourth thursday"));
            break;
        // Christmas Day
        case "christmas_day":
        $holiday = observed_date(date('Ymd', strtotime("december 25 $currentYear")));
            break;

        default:
            $holiday = "";
            break;
    }
    return $holiday;

} 
```

然后你可以通过调用函数打印出假期`echo get_holiday('new_year');`

2015 年的结果应该是`20150101`

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2017-11-03T16:23:45.387

在德国移动圣日的解决方案：返回一组 'Ymd' 格式的字符串，包括耶稣受难日、复活节星期一、升天和五旬节星期一。每天为复活节创建一个新的 DateTime 对象，以增强可读性。

```
function beweglicheFeiertage( int $year ):array
{
    //Karfreitag - good friday
    $return = array();
    $easterDate = DateTime::createFromFormat('U', easter_date($year) );
    $easterDate->modify('- 1 days');
    $return[] = $easterDate->format('Y-m-d');
    //Ostermontag easter monday
    $easterDate = DateTime::createFromFormat('U', easter_date($year) );
    $easterDate->modify('+ 2 day');
    $return[] = $easterDate->format('Y-m-d');
    //Himmelfahrt ascencion
    $easterDate = DateTime::createFromFormat('U', easter_date($year) );
    $easterDate->modify('+ 40 days');//go to Ascencionday
    $return[] = $easterDate->format('Y-m-d');
    //Pfingstmontag - pentecost monday
    $easterDate = DateTime::createFromFormat('U', easter_date($year) );
    $easterDate->modify('+ 51 days');//go to Pentecost Monday
    $return[] = $easterDate->format('Y-m-d');

    return $return;
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-10-09T13:58:54.720

我创建了一个函数来计算任何给定年份的所有联邦假日（美国），并将它们返回到一个数组中。我已经用几个不同的年份（从 2016 年到 2024 年）对其进行了测试。以下是代码，如果您发现任何错误计算，请告诉我：

```
 //function that checks if a holiday lands on saturday/sunday and so we can move them to a friday/monday respectively
    private function getObservedDate($holidayDate){

        $dayofweek = date("w", strtotime($holidayDate));

        if ($dayofweek == 6) $holidayDate = date('m/d/Y', strtotime("$holidayDate - 1 days")); //saturday moves to friday
        else if ($dayofweek == 0)  $holidayDate = date('m/d/Y', strtotime("$holidayDate + 1 days"));  //sunday moves monday

        return $holidayDate;
    }

    //function that calculates the holidays for any given year
    private function getFederalHolidaysForYear($year){

        $NY = $this->getObservedDate( date('m/d/Y', strtotime("1/1/$year")) ); //new years day

        $MLK = $this->getObservedDate( date('m/d/Y', strtotime("third monday of january $year")) );  //martin luther king day

        $PD = $this->getObservedDate( date('m/d/Y', strtotime("third monday of february $year")) ); ; //presidents day

        $MDay = $this->getObservedDate( date('m/d/Y', strtotime("last monday of May $year")) ); //memorial day  

        $IDay = $this->getObservedDate( date('m/d/Y', strtotime("7/4/$year")) );  // independence day

        $LD = $this->getObservedDate( date('m/d/Y', strtotime("first monday of september $year")) ); //labor day

        $VD = $this->getObservedDate( date('m/d/Y', strtotime("11/11/$year")) ); //veterans day

        $ColD =$this->getObservedDate( date('m/d/Y', strtotime("second monday of october $year")) ); //columbus day   

        $TG = $this->getObservedDate( date('m/d/Y', strtotime("last thursday of november $year")) ); // thanksgiving       

        $CD = $this->getObservedDate( date('m/d/Y', strtotime("12/25/$year")) );  //christmas day 

        $nonWorkingDays = array();

        array_push($nonWorkingDays, $NY, $MLK, $PD, $MDay, $IDay, $LD, $ColD, $VD, $TG, $CD);

        return $nonWorkingDays;
    } 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2021-02-05T18:47:28.587

如果您愿意一劳永逸地在这里手动输入日期，您可以在这里使用我的定制功能。它简短，简单，可以满足每个人的需要。如果需要，您可以自己修改它。此外，如果您可以找到一种方法以给定格式动态传递数组中的日期，那么您可以选择以这种方式对其进行修改。但是，我下面的函数只适用于那些有 STATIC 日期的假期。您可能必须手动管理每年有动态或变化日的假期，例如阵亡将士纪念日、劳动节等。

我的自定义 PHP 函数

如果您的意思是检查国际假期，这里是我为它编写的一个函数。

```
function checkHoliday($date){
  if(date('l', strtotime($date)) == 'Saturday'){
    return "Saturday";
  }else if(date('l', strtotime($date)) == 'Sunday'){
    return "Sunday";
  }else{
    $receivedDate = date('d M', strtotime($date));

    $holiday = array(
      '01 Jan' => 'New Year Day',
      '18 Jan' => 'Martin Luther King Day',
      '22 Feb' => 'Washington\'s Birthday',
      '05 Jul' => 'Independence Day',
      '11 Nov' => 'Veterans Day',
      '24 Dec' => 'Christmas Eve',
      '25 Dec' => 'Christmas Day',
      '31 Dec' => 'New Year Eve'
    );

    foreach($holiday as $key => $value){
      if($receivedDate == $key){
        return $value;
      }
    }
  }
} 
```

并这样称呼它

```
$date = '01/01/2021';

echo checkHoliday($date); 
```

# iphone - 如何使用 REST API 下载 Parse.com 文件类型？

> ID：14907562
> 
> 赞同：2
> 
> 时间：2013-02-16T06:12:46.973
> 
> 标签：iphone, ios, api, rest, parse-platform

Parse.com REST API 文档列出了与 Parse.com 数据交互的多种方式，例如上传和下载类。它还描述了上传文件。但它没有提到如何从 Parse.com 下载文件。有谁知道这是否可行，如果可以，该怎么做？

Parse.com REST API 文档在这里：[Parse.com REST API](https://www.parse.com/docs/rest)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-21T01:32:06.413

当您查询具有`file`列的类时，Parse 将响应与此查询匹配的对象数组。该`file`列将采用以下格式：

{ "url": " [https://files.parse.com/.../hello.txt](https://files.parse.com/.../hello.txt) ", "name": "...hello.txt" }

密钥包含文件的`url`url，这是您下载文件所需的全部内容。

# html - Bootstrap 内联复选框 - 如何将它们向左或向右拉到表单中？

> ID：14907566
> 
> 赞同：2
> 
> 时间：2013-02-16T06:13:06.417
> 
> 标签：html, css, forms, twitter-bootstrap, checkbox

我在内部使用 Twitter Bootstrap 内联复选框`form-horizontal well well-small`

如果我将`pull-left`或添加`right`到复选框，它们会被正确拉出，但会从`well`元素中删除，即使它们嵌套在表单中也是如此。`pull`适用于按钮，但不适用于内联复选框。

我尝试将它们放入控制组并`pull`在控制组上使用，但它们仍然被丢弃在表单之外`well`。

编辑：

失败的例子：[http ://bbalban.pagodabox.com/snippets/post-fails](http://bbalban.pagodabox.com/snippets/post-fails)

工作示例：[http ://bbalban.pagodabox.com/snippets/post-works](http://bbalban.pagodabox.com/snippets/post-works)

当第一个标签被移除或具有拉右时，它会失败。它在第一个标签存在时有效，但没有拉限定符。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T06:43:49.763

检查您的复选框是否按“浮动”属性对齐。如果是，则将“溢出：隐藏”添加到父元素。如果没有，请提供一个网址，以便我们进行测试。

**编辑**

您必须添加的主要规则是：

```
.well { overflow: hidden; } 
```

此外，要更正标签和按钮的位置，请添加以下内容：

```
.well .btn { margin-top: 8px; }
.well label.checkbox { margin: 9px 3px 0 10px; } 
```

# html - 为什么公共网站不使用单页界面（SPA）？

> ID：14907577
> 
> 赞同：-1
> 
> 时间：2013-02-16T06:14:37.367
> 
> 标签：html, web-crawler, single-page-application, singlepage

为什么不建议公共网站使用单页界面？现在的搜索引擎能够通过适当的网页设计来抓取 SPI 网站。

还有其他原因吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T06:29:00.003

这与其说是一个 stackoverflow 问题，不如说是一个论坛问题，但我想到的是“打破后退按钮”的网站概念。

对于大型网站，单页应用程序设计很困难，因为为用户提供一系列功能和交互性，再加上在状态之间流畅地来回移动的能力通常会带来问题。用户必须按 95 次后退按钮才能离开站点，或者一旦希望在应用程序中“返回”，则单击后退按钮却离开站点并意外失去其状态。

这在理论上很好，但在实践中很难。

# android - 停止媒体播放器中的循环音频会出错

> ID：14907580
> 
> 赞同：1
> 
> 时间：2013-02-16T06:15:07.930
> 
> 标签：android, android-mediaplayer

我喜欢在我的应用程序中循环播放音频。循环工作正常，但是当调用 On Destroy 方法来停止循环音频时，它会给我一条错误消息，说“不幸的是应用程序已停止工作”我也尝试过给一个停止按钮，同样的错误消息即将到来。这是我的媒体播放器代码

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_quote);
    final MediaPlayer mp1=MediaPlayer.create(QuoteActivity.this,R.raw.ohm2);
    mp1.setLooping(true);
    mp1.start();        
    } 
```

这是我在 On Destroy 中给出的方法

```
@Override
public void onDestroy() {       
    super.onDestroy ();{            
        if(mp1.isPlaying())  
            mp1.stop();
            mp1.release(); 
            mp1 = null;
        }

} 
```

我已经尝试了很长时间寻找解决方案，但没有用。有谁能够帮助我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:23:20.470

您在`onCreate(...)`方法中定义媒体播放器，这意味着`mp1`在方法中无效`onDestroy()`。您还需要在调用之前检查`mp1`is not 。`null``isPlaying()`

将您的代码更改`mp1`为如下（示例代码）...

```
public class MyActivity extends Activity {

    MediaPlayer mp1;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_quote);

        mp1 = MediaPlayer.create(this, R.raw.ohm2);
        mp1.setLooping(true);
        mp1.start();
    }

    @Override
    public void onDestroy() {
        super.onDestroy ();
        if(mp1 != null && mp1.isPlaying()) {
            mp1.stop();
            mp1.release(); 
            mp1 = null;
        }
    }

} 
```

# security - SSL 和中间人的误解

> ID：14907581
> 
> 赞同：101
> 
> 时间：2013-02-16T06:15:16.447
> 
> 标签：security, ssl, man-in-the-middle

我已经阅读了大量与此问题相关的文档，但我仍然无法将所有部分放在一起，所以我想问几个问题。

1.  首先，我将简要描述我所理解的身份验证过程，因为我可能在这方面犯了错误：客户端启动连接，服务器使用公钥、一些元数据和数字签名的组合来响应受信任的权威。然后客户端决定她是否信任服务器，用公钥加密一些随机会话密钥并将其发回。此会话密钥只能使用存储在服务器上的私钥解密。服务器执行此操作，然后 HTTPS 会话开始。

2.  所以，如果我在上面是正确的，那么问题是在这种情况下中间人攻击是如何发生的？我的意思是，即使有人用公钥拦截了服务器（例如 www.server.com）的响应，并且有办法让我认为他是 www.server.com，他仍然无法解密我的会话密钥没有私钥。

3.  说到相互身份验证，是否完全与服务器对客户端身份的信任有关？我的意思是，客户端已经可以确定她正在与正确的服务器通信，但是现在服务器想要找出客户端是谁，对吗？

4.  最后一个问题是关于相互认证的替代方案。如果我在所描述的情况下充当客户端，如果我在 SSL 会话建立后在 HTTP 标头中发送登录名/密码怎么办？正如我所看到的，无法拦截此信息，因为连接已经安全，服务器可以依赖它来识别我。我错了吗？与相互身份验证相比，这种方法的缺点是什么（只有安全问题很重要，而不是实现复杂性）？

* * *

## 回答 #1

> 赞同：112
> 
> 时间：2013-02-16T06:38:24.440

只有当 SSL 的先决条件之一被打破时，对 SSL 的中间人攻击才是真正可能的，这里有一些例子；

*   服务器密钥已被盗 - 意味着攻击者可以伪装成服务器，而客户端*无法*知道。

*   客户端信任一个不可信的 CA（或者它的根密钥被盗的 CA）——任何持有可信 CA 密钥的人都可以生成一个伪装成服务器的证书，并且客户端会信任它。随着当今浏览器中预先存在的 CA 数量，这可能是一个真正的问题。这意味着服务器证书似乎会更改为另一个有效的证书，这是大多数客户端会对您隐藏的东西。

*   客户端无需根据其受信任的 CA 列表正确验证证书 - 任何人都可以创建 CA。在没有验证的情况下，“Ben 的汽车和证书”似乎与 Verisign 一样有效。

*   客户端受到攻击，并且在其受信任的根权限中注入了假 CA - 允许攻击者生成他喜欢的任何证书，并且客户端将信任它。恶意软件往往会这样做，例如将您重定向到虚假银行网站。

特别是＃2相当讨厌，即使您为高度信任的证书付费，您的网站也不会以任何方式锁定该证书，您必须信任客户端浏览器中的*所有*CA，因为它们中的任何一个都可以生成假证书您的网站同样有效。它也不需要访问服务器或客户端。

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2015-09-14T15:59:23.360

在客户端和服务器之间的任何人都可以对 https 进行中间人攻击。如果您认为这不太可能或很少见，请考虑**[有商业产品](https://docs.fortinet.com/document/fortigate/6.0.0/cookbook/605938/why-you-should-use-ssl-inspection)可以系统地解密、扫描和重新加密互联网网关上的*所有ssl 流量***. 他们通过向客户端发送一个即时创建的 ssl 证书来工作，其中详细信息从“真实”ssl 证书复制，但使用不同的证书链签名。如果此链以任何浏览器的受信任 CA 终止，则此 MITM 将对用户不可见。这些产品主要出售给公司以“保护”（警察）公司网络，并且应在用户知情和同意的情况下使用。但从技术上讲，没有什么能阻止 ISP 或任何其他网络运营商使用它们。（假设 NSA[至少有一个受信任的根 CA 签名密钥](https://www.schneier.com/blog/archives/2013/09/new_nsa_leak_sh.html)是安全的）。

如果您正在提供一个页面，[您可以包含一个 HTTP 标头](https://developer.mozilla.org/en-US/docs/Web/Security/Public_Key_Pinning)，指示该页面应该使用什么公钥进行签名。这可能有助于向 MITM 提醒用户他们的“安全”连接，但这是一种首次使用时信任的技术。如果 Bob 还没有“真正的”公钥 pin 的记录，Mallory 只需重写文档中的 pkp 标头。使用这种技术 (HPKP) 的网站列表非常短。值得称赞的是，它包括 google 和 Dropbox。通常，一个 https 拦截网关会遍历来自几个使用 HPKP 的大型可信站点的页面。如果您在意料之外看到 HPKP 错误，请小心。

关于密码，https 连接上的所有内容都受 https 保护，但域名除外，域名需要明文，以便可以路由请求。一般来说，建议不要将密码放在查询字符串中，因为它们可能会在日志、书签等中徘徊。但是除非 https 被破坏，否则查询字符串是不可见的。

* * *

## 回答 #3

> 赞同：19
> 
> 时间：2013-02-17T02:47:40.960

> 首先，我将简要描述一下我所理解的身份验证过程，也许我在这一步上弄错了。因此，客户端启动连接，服务器使用公钥、一些元数据和受信任机构的数字签名的组合来响应它。

服务器以 X.509 证书链和使用自己的私钥签名的数字签名进行响应。

> 然后客户端决定是否信任服务器

正确的。

> 用公钥加密一些随机会话密钥并将其发回。

不，客户端和服务器参与了一个相互的会话密钥生成过程，会话密钥本身根本不会被传输。

> 此会话密钥只能使用存储在服务器上的私钥解密。

不。

> 服务器这样做

不。

> 然后开始 HTTPS 会话。

*TLS/SSL*会话开始，但首先还有更多步骤。

> 所以，如果我在上面是正确的，那么问题是在这种情况下中间人攻击是如何发生的？

通过伪装成服务器并充当 SSL 端点。客户端将不得不省略任何授权步骤。遗憾的是，大多数 HTTPS 会话中唯一的授权步骤是主机名检查。

> 我的意思是，即使有人使用公钥拦截服务器（例如 www.server.com）响应，然后通过某种方式让我认为他是 www.server.com，他仍然无法解密我的会话密钥没有私钥。

往上看。没有要解密的会话密钥。SSL 连接本身是安全的，*与您交谈的人*可能不安全。

> 说到相互身份验证，是否完全与服务器对客户端身份的信任有关？我的意思是，客户端已经可以确定她正在与正确的服务器进行通信，但是现在服务器想要找出谁是客户端，对吗？

正确的。

> 最后一个问题是关于相互认证的替代方案。如果我在所描述的情况下充当客户端，如果我在 SSL 会话建立后在 HTTP 标头中发送登录名/密码怎么办？如我所见，此信息无法被截获，因为连接已经安全，服务器可以依靠它来识别我。我错了吗？

不。

> 与相互身份验证相比，这种方法的缺点是什么（只有安全问题很重要，而不是实现复杂性）？

它仅与用户名/密码一样安全，比私钥更容易泄漏。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-16T06:22:20.673

1.  正确的
2.  不太正确。在这种攻击中，中间服务器获取您的请求并代表您将其发送到目的地。然后用结果回复你。实际上，它是与您建立安全连接的中间人服务器，而不是您打算通信的实际服务器。这就是为什么您必须始终检查证书是否有效且受信任的原因。
3.  可能是正确的
4.  如果您确定安全连接是可信的，那么发送用户名/密码是安全的。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-16T06:19:53.440

除了关于会话密钥的部分外，您所说的一切都是正确的。CA 的重点是击败中间人攻击——其他一切都由 SSL 本身完成。客户端身份验证是用户名和密码方案的替代方案。

# css - 我需要将列表标题从左向右移动

> ID：14907584
> 
> 赞同：0
> 
> 时间：2013-02-16T06:15:35.487
> 
> 标签：css

我的页面是 www.c5d.co.uk/barfour.php

在左上角，是一个无序列表，它的样式是水平的。

这是地址的变化，联系我们和方向位

我认为通过使用 float left 它会移动到我想要的右侧。我觉得右边更好看。

任何人都可以快速查看并告诉我哪里出错了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:24:10.227

你需要`float:left`取下你的`#pagemenucontainer`. 然后，你可以`float:right`你的`#pagemenu`. 最后，删除`#header's`第一个`<br>`元素以修复间距。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T06:26:22.610

我添加：**style="width:100%;**到 div "pagemenucontainer" 和**style="float:right";**到 UL "pagemenu"，为我做到了：

```
<div id="pagemenucontainer" style="width:100%;">
<ul id="pagemenu" class="menu" style="float:right">
<li><a href="http://www.c5d.co.uk/addresschangefour.php">Change of Address</a></li>
<li><a href="http://www.c5d.co.uk/contactagcfour.php">Contact Us</a></li>
<li><a href="http://www.c5d.co.uk/directionstoclubfour.php">Directions</a></li>
</ul>
</div> 
```

# model - Liferay 6.1 中的模型类

> ID：14907585
> 
> 赞同：0
> 
> 时间：2013-02-16T06:15:36.233
> 
> 标签：model, liferay-6

我在哪里可以找到“com.liferay.portlet.blogs.model.BlogsEntry”。我无法在 liferay 中找到这条路径。有人知道吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:36:47.463

*   如果您需要在您的 portlet 代码中使用该类。您需要访问 [Your liferay Server]/tomcatXYZ/lib/ext/portal-service.jar。

*   如果您需要学习或调试课程，您需要下载源代码。访问[下载部分](http://www.liferay.com/downloads/liferay-portal/available-releases)并转到“门户源”。为了更方便，您可以将其作为项目导入 eclipse。无论如何，随身携带门户主干很有用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-24T22:02:47.490

您可以在此处找到与此模型（Liferay 版本 6.1.2-ga3）相关的所有类： [https ://github.com/liferay/liferay-portal/tree/6.1.2-ga3/portal-service/src/com/ liferay/portlet/博客/模型](https://github.com/liferay/liferay-portal/tree/6.1.2-ga3/portal-service/src/com/liferay/portlet/blogs/model)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T11:11:18.137

下载Lifera 6.1源码并在eclipse中导入portal-trunk项目。在eclipse中点击ctrl+shift+r并编写类BlogsEntry。然后会自动显示com.liferay.portlet.blogs.model包中的BlogsEntry类

# html - 显示额外的 html 源代码 标签

> ID：14907587
> 
> 赞同：-4
> 
> 时间：2013-02-16T06:15:49.747
> 
> 标签：html

在这里你会看到duration:50hrs。现在如果你使用firebug调试它，你会`<p></p>`在50小时后看到额外的标签，而在实际的html中，我在p标签内制作了“duration:50 hrs”

请指出原因。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:21:17.930

在标签中包含`<h2>`（或任何其他块级元素）是无效的。`<p>`考虑改用`<div>`带边距的标签。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T08:18:09.447

在检查我看到的元素时

```
<p>The course offered by us cover complete and thorough knowledge of Search Engine Optimization, which is essential for the success of online business, Knowledge and understanding of the workings of search engines and the SEO skills that the course develops ensures clear understanding of Search Engine Optimization.
This course gives hands-on experience in the area of Search Engine Optimization and internet marketing.</p>
<p><h2 class="reqmnts">Duration:</h2> 50 Hrs</p>
<p><h2 class="reqmnts">Pre-requisite:</h2> Basic Knowledge of computer & internet</p> 
```

这不是您所描述的，因为`<p>`标签是按顺序放置的

```
 <p><h2 class="reqmnts">Duration:</h2> 50 Hrs</p>
 <p><h2 class="reqmnts"> 
```

如您所见，在第二行`<p>`的开头有一个，与结尾一致`<p>`

如果错误如此整洁，那么:)

要修复错误，您需要删除`<p>`文本周围的标签并简单地添加一个`<br>`wich 将两行分开

# c++ - 有限状态机中的函数指针

> ID：14907593
> 
> 赞同：0
> 
> 时间：2013-02-16T06:16:45.457
> 
> 标签：c++, function-pointers, state-machine

我在使用函数指针来实现有限状态机时遇到了麻烦。我不断收到错误：

```
b.cpp: In function ‘int main()’:
b.cpp:51: error: ‘have0’ was not declared in this scope 
```

我尝试在第 51 行的 has0 中添加一个 &，但这并没有做任何事情。我已经阅读了一个小时的函数指针，但我仍然无法编译它。我觉得我对函数指针的理解非常好，但显然我在这里缺少一些东西。我所有的函数都是空白的，因为我现在只是想让它编译，它们最终将充满逻辑以通过有限状态机。任何帮助表示赞赏。这是我的 b.cpp 代码：

```
#include <iostream>
#include <string>
#include "b.h"

using namespace std;
typedef void (*state)(string);
state current_state;

void b::have0(string input)
{
    if(input == "quarter"){

    }
}

void b::have25(string input)
{
}
void b::have50(string input)
{
}
void b::have75(string input)
{
}
void b::have100(string input)
{
}
void b::have125(string input)
{
}
void b::have150(string input)
{
}

void b::owe50(string input)
{
}
void b::owe25(string input)
{
}
int main()
{

    string inputString;
    // Initial state.
    cout <<"Deposit Coin: ";
    cin >> inputString;
    cout << "You put in a "+inputString+"." << endl;
    current_state = have0;
    // Receive event, dispatch it, repeat
    while(1)
    {

        if(inputString == "exit")
        {
            exit(0);
        }

        // Pass input to function using Global Function Pointer
        (*current_state)(inputString);
        cout <<"Deposit Coin: ";
        cin >> inputString;
        cout << "You put in a "+inputString+"." << endl;

    }
    return 0;   

} 
```

和我的 bh：

```
#ifndef B_H
#define B_H

#include <string>
class b{

public:

    void have0(std::string);
    void have25(std::string);
    void have50(std::string);
    void have75(std::string);
    void have100(std::string);
    void have125(std::string);
    void have150(std::string);
    void have175(std::string);
    void have200(std::string);
    void have225(std::string);
    void owe125(std::string);
    void owe100(std::string);
    void owe75(std::string);
    void owe50(std::string);
    void owe25(std::string);

};
#endif 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:26:27.847

你已经创建了`have0`一个 class 的成员函数`b`，所以你不能仅仅指向它“独立”；它仅与类的实例相关（然后签名将与您的函数指针的签名不匹配，因为将有一个隐藏参数将引用传递给对象本身）。

最简单的解决方法是完全删除该类`b`，特别是因为您目前似乎没有将它用于任何东西，即标题将只是：

```
#include <string>

void have0(std::string);
… 
```

`b::`以及没有前缀的函数定义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T06:25:44.273

您定义的`have0`,`have25`等都是成员函数，因此要获取它们的地址，您需要类似`&b::have0`：但是，还要注意，您不能将其分配给指向函数的指针——它是指向成员函数的指针，这在某些方面大致相似，但绝对不是一回事（也不能用一个替代另一个）。

换句话说，您当前使用的定义`state`无法保存指向成员函数的指针。同样，您`main`尝试使用的代码`state`不适用于指向成员函数的指针。

处理这个问题的最明显（并且可能是最好的，至少基于我们目前所见）的方法是`b`从类更改为命名空间。无论如何，您似乎并不打算创建实例`b`，因此看起来命名空间可能更适合您的需求。

# c# - 如何确保通过代码引发事件时显示按钮单击动画？

> ID：14907597
> 
> 赞同：0
> 
> 时间：2013-02-16T06:17:48.303
> 
> 标签：c#, xaml, button, click, windows-phone-8

我已经通过 XAML 为正常和按下按钮状态定义了不同的背景图像，并且当手动单击按钮时它们会正确显示。

但是，当使用以下代码引发点击事件时，背景保持在正常状态。

```
btnClick_Click(this.btnClick, EventArgs.Empty); 
```

按钮点击事件

```
 void btnClick_Click(object sender, EventArgs e)
    {
       .... 
    } 
```

如何确保显示正常/按下的背景？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:13:34.220

我想到了。如果有人想知道，这就是我所做的。

我没有引发点击事件，而是使用 VisualStateManager 来更改按钮的正常/按下外观：

```
 private void changeButtonState()
    {
        if (_isPressed)
        {
            _state = "Pressed";
            _isPressed = false;
        }
        else
        {
            _state = "Normal";
            _isPressed = true;
        }

        VisualStateManager.GoToState(btnClick, _state, true);
    } 
```

# haskell - 如何在haskell中用另一个字符串替换一个字符串

> ID：14907600
> 
> 赞同：20
> 
> 时间：2013-02-16T06:18:19.420
> 
> 标签：haskell

我想用不同的字符串替换输入文件中的字符串。我正在寻找一种方法，但似乎我只能逐个字符地更改字符串。例如在下面的我的代码中

```
replace :: String -> String 
replace [] = [] 
replace (x:xs) = if x == '@' then 'y':replace xs --y is just a random char
                             else x:replace xs

searching :: String -> IO String
searching filename = do
    text <- readFile filename
    return(replace text)

main :: IO ()
main = do

  n <- searching "test.sf"
  writeFile "writefile.html" n 
```

我想找到字符串“@title”的第一次出现，但我似乎找不到前面提到的方法，我只能访问字符'@'。有没有办法完成这样的任务。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-02-16T08:54:21.180

你可以使用[Data.List.Utils](http://hackage.haskell.org/packages/archive/MissingH/0.18.6/doc/html/Data-List-Utils.html#v%3areplace)替换，它很懒，你可以处理一个大文件，比如：

```
main = getContents >>= putStr . replace "sourceString" "destinationString" 
```

就这样！

可能的替换功能可能是

```
rep a b s@(x:xs) = if isPrefixOf a s

                     -- then, write 'b' and replace jumping 'a' substring
                     then b++rep a b (drop (length a) s)

                     -- then, write 'x' char and try to replace tail string
                     else x:rep a b xs

rep _ _ [] = [] 
```

另一种聪明的方式（来自 Data.String.Utils）

```
replace :: Eq a => [a] -> [a] -> [a] -> [a]
replace old new l = join new . split old $ l 
```

# java - HTTP 404 - JBoss AS 7 - Eclipse Juno - OpenShift 应用程序

> ID：14907601
> 
> 赞同：0
> 
> 时间：2013-02-16T06:19:27.233
> 
> 标签：java, eclipse, maven, jboss, openshift

我对 Java 和 Web 开发并不陌生，但对 JBoss、Maven 和 OpenShift（Redhat）非常陌生——我想`Hello, World`从 Eclipse 部署一个基本的。

我在 Eclipse 中创建了一个新的**OpenShift**和**JBoss AS 7**应用程序，它自动配置了所有的 maven 东西（对此我没有太多想法）。我运行**index.html**没有任何错误 - 它打开得很好`localhost:8080/app-name`

但是当我导航到它时，`localhost:8080/app-name/servlet-name`它会给我一个**HTTP 404**。

这是我的目录：

![在此处输入图像描述](../Images/138f32e00579f1f3612b3e0deca7fb5d.png)

而我`servlets`来自**WEB-INF/web.xml**：

```
<servlet>
<servlet-name>Auth</servlet-name>
<servlet-class>co.suhas.live.Auth</servlet-class>
</servlet>
<servlet-mapping>
<servlet-name>Auth</servlet-name>
<url-pattern>/Auth</url-pattern>
</servlet-mapping> 
```

我想念什么而不做的是什么？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T00:34:54.387

OpenShift 上的应用程序不绑定到 localhost。它们绑定到 OPENSHIFT_INTERNAL_IP 并在 OPENSHIFT_GEAR_DNS:80 上对外公开。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T13:59:17.193

重新启动和清理 Eclipse 似乎解决了这个问题！奇怪的。

# c# - 为什么我不能将 TextLength 分配给 Long 值类型？

> ID：14907605
> 
> 赞同：1
> 
> 时间：2013-02-16T06:19:35.053
> 
> 标签：c#, winforms, type-conversion

```
public string Name;    
public long Patient_ID;    
patient.Name = Name.Text;    
patient.Patient_ID = Patient_ID.TextLength; 
```

当我将**.Text**用于字符串时，它不起作用，但我不知道为长数据类型提供什么。如果我给**.TextLength**只存储一位数字。我也试过**.Tostring()**但它不起作用。我需要在 Patient_ID 中存储至少 9 位数字吗？我现在该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T06:27:45.387

我认为您遇到的问题是 Patient_ID 是**长**数据类型而不是字符串。下面是一个用 long 得到它的长度的例子。

```
long Patient_ID = 200;
long x =  Patient_ID.ToString().Length; 
```

这是您的代码转换为使用它。

```
public string Name;    
public long Patient_ID;    
patient.Name = Name.Text;    
patient.Patient_ID = Patient_ID.ToString().Length; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T06:29:48.860

我的意思是 9 位 id 可以以不同的方式实现，如果这只是一个常规 id，你不会使用它作为唯一标识符，但不会使用任何计算，比如添加数字，那么你可以使用字符串，你可能会很好，但是如果你想盯着和操纵大数字，你可以使用 BigInteger

[http://msdn.microsoft.com/en-us/library/dd268366.aspx](http://msdn.microsoft.com/en-us/library/dd268366.aspx)

# kendo-ui - 在尚未在 DOM 中的元素上自动完成剑道

> ID：14907613
> 
> 赞同：0
> 
> 时间：2013-02-16T06:20:32.363
> 
> 标签：kendo-ui

我正在尝试在单击按钮时附加到 Dom 的文本框中自动完成剑道。文本框的类是“项目”，在文档准备就绪时，我将自动完成初始化为

```
$(".items").kendoAutoComplete({}) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T08:17:16.933

它应该工作！

让我们有以下 HTML

```
<a id="button" class="k-button" href="#">Add</a>
<div id="here"></div> 
```

这是Javascript

```
$("#button").on("click", function() {
    $("<div class='items'></div>").appendTo($("#here"));
    $(".items").kendoAutoComplete({});
}) 
```

我预见的唯一问题是使用一个类来选择添加位置，`kendoAutoComplete`然后您只能添加一个（否则您最终会拥有嵌套的自动完成）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-17T19:08:17.747

我通常这样做。

```
$("#ButtonSelector").on('click', function() {
    $("<input class='items' />").appendTo($("#Selector"));

    $(".items", this.element).each(function () {
        $(this).kendoAutoComplete({});
    });
}); 
```

# python - Python 字符串（参数）-> 正则表达式

> ID：14907618
> 
> 赞同：1
> 
> 时间：2013-02-16T06:21:55.870
> 
> 标签：python, regex, arguments

我正在尝试将正则表达式作为我的 python 程序的参数（这自然是一个字符串），并简单地将它与另一个字符串匹配。

假设我运行它

`python program.py 'Hi.there'`

然后我希望能够接受该输入（称之为输入）并说出它是否与“HiTthere”匹配（它应该）。

我该怎么做？我对正则表达式没有经验。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T10:01:38.647

据我了解，您正在寻找类似的东西：

```
import sys, re

regex = sys.argv[1]

someOtherString = 'hi there'

found = re.search(regex, someOtherString)
print('ok' if found else 'nope') 
```

使用表达式作为第一个参数运行此程序：

```
> python test.py hi.th
ok
> python test.py blah
nope 
```

与 javascript 不同，python 正则表达式是简单的字符串，因此您可以直接将`sys.argv[1]`其用作`re.search`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T06:23:28.643

Python 3 语法（Python 2，使用`print xxx`代替`print(xxx)`）：

```
import re

if re.match(r'^Hi.there$', 'HiTthere'): # returns a "match" object or None
    print("matches")
else:
    print("no match") 
```

请注意，我正在使用锚点`^`并`$`保证匹配跨越整个输入。`^`匹配字符串的开头并`$`匹配字符串的结尾。

有关更多详细信息，请参阅[文档。](http://docs.python.org/3/library/re.html)

# android - 片段活动中的单个选项卡中的多个片段（现在是它的片段）

> ID：14907623
> 
> 赞同：1
> 
> 时间：2013-02-16T06:22:30.347
> 
> 标签：android, tabs, android-fragments, android-fragmentactivity

我正在使用具有**5 个选项卡**（片段）的 fragmentactivity.. 我需要的是第一个 tab1 有**Enter**按钮并单击它将切换到 tab1 中的另一个片段而不会得到任何奇怪的结果，就像现在这就是我正在做的在 onClickListener

```
FragmentTransaction ft = getActivity().getSupportFragmentManager().beginTransaction();
ft.detach(Frag_Home.this);
ft.commit();                    
Frag_Locations newFragment = new Frag_Locations();
FragmentTransaction transaction = getActivity().getSupportFragmentManager().beginTransaction();

transaction.replace(android.R.id.content, newFragment);
transaction.addToBackStack(null);

transaction.commit();
getActivity().getSupportFragmentManager().executePendingTransactions(); 
```

**上面的代码改变了内容，但新添加的片段覆盖了整个视图，新打开的片段浮动在选项卡上方！

如何在tab1而不是fragment中添加fragmentactivity？（顺便说一句，我跟着**[http://thepseudocoder.wordpress.com/2011/10/04/android-tabs-the-fragment-way/](http://thepseudocoder.wordpress.com/2011/10/04/android-tabs-the-fragment-way/)**教程）

**编辑**

**tab1** => fragmentOne (onButtonClick 替换) => fragmentTwo (click) =>fragmentThree

**tab2** => fragmentForth

**tab3** => fragmentFifth

这就是我要的

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T16:11:17.107

`Fragments`这是一个非常好的示例，说明如何在示例中使用选项卡`ActionBarSherlock's`：[片段示例](https://github.com/JakeWharton/ActionBarSherlock/blob/master/actionbarsherlock-samples/fragments/src/com/actionbarsherlock/sample/fragments/FragmentTabs.java)。看一看，我认为这是您想要实现的目标。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-08T19:23:03.640

我就是这样收场的。。

人们可能知道在选项卡中添加片段

```
// HashMap for storing fragments so we could track them by their names
private HashMap mapTabInfo = new HashMap();

  // This one is the normal way to add fragment to tab (mine is customized so better look into some nice tutorial for better understading)
tabview = createTabView(mTabHost.getContext(), MY_TICKET, R.drawable.tab_icon_myticket_selector);
            MainTabActivity.addTab(this, this.mTabHost,
            this.mTabHost.newTabSpec(MY_TICKET).setIndicator(tabview),
            (tabInfo = new TabInfo(MY_TICKET, Frag_MyTicket.class, args)));

    this.mapTabInfo.put(tabInfo.tag, tabInfo);

    // Add these fragments here so we can track them by own interface's method 
    tabInfo = new TabInfo(LOCATIONS, Frag_Locations.class, args);
    this.mapTabInfo.put(LOCATIONS, tabInfo);

// These two fragments won't show up in tabs untill we make it display manually 
    tabInfo = new TabInfo(DAYS, Frag_Days.class, args);
    this.mapTabInfo.put(DAYS, tabInfo);

// Now when we want to show fragment LOCATION while showing My_TICKET fragment, we'll just call method
onTabChanged(String tag) // method called when tabs are tapped, call this method with string LOCATIONS and you are done there..

// I know this might not be easiest to understand, you'll understand the logic if you're familiar with fragments/tabs 
```

# javascript - 在 mathjax 中使用 \x* 箭头

> ID：14907625
> 
> 赞同：0
> 
> 时间：2013-02-16T06:23:03.297
> 
> 标签：javascript, mathjax

mathjax 是否支持`\x*`箭头？如果是这样，我该如何使用它（我正在寻找语法和配置）？如果没有，是否有任何方法可以获取带有文本的可拉伸箭头？字符数随每个实现而变化，箭头应调整宽度。

我已经尝试过`\longrightarrow`，其他人，我的文字需要更长的箭头。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T15:32:16.187

MathJax 的 AMSmath 扩展包括`\xrightarrow`并且`\xleftarrow`应该做你想要的。包括

```
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {extensions: ["AMSmath.js","AMSsymbols.js"]}
});
</script> 
```

加载此扩展（以及 AMSsymbols 扩展）。

还有一个 extpfeil 扩展，其中包括一些其他可扩展符号。有关更多详细信息，请参阅[其文档](http://docs.mathjax.org/en/latest/tex.html#extpfeil)。

> extpfeil 扩展添加了更多用于生成可扩展箭头的宏，包括 \xtwoheadrightarrow、\xtwoheadleftarrow、\xmapsto、\xlongequal、\xtofrom，以及用于创建您自己的可扩展箭头的非标准 \Newextarrow。

# android - android中的onActivityResult

> ID：14907628
> 
> 赞同：0
> 
> 时间：2013-02-16T06:23:23.840
> 
> 标签：android, file, android-intent

在我的应用程序中，我正在从 sdcard 中检索图像并将图像路径发送回以前的活动。我无法使用该路径打开图像。我该怎么做。

代码 -

```
 @Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    // TODO Auto-generated method stub
    super.onActivityResult(requestCode, resultCode, data);

    if(requestCode==1)
    {
        Uri path=data.getData();
        File f;
        System.out.println(";;;;;;;;;;;;"+path);//geting null

    }
} 
```

在第二个活动中-

```
 for(j=1;j<idcount;j++){
            if(ch[j].isChecked())
            {

                System.out.println("PPPPPPPPPPPPPPPPPP"+j);
                i=new Intent();
                i.putExtra("files",image[++j]);// image is array of file
                setResult(RESULT_OK, i);
                finish();
            }       
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:37:32.333

您是否尝试过使用 getDataString() 方法？

另外我不确定这是否完全是您想要的，但您可以尝试执行以下操作：

```
Intent intent = getIntent();
Bundle bundle = intent.getExtras();
Uri uri = (Uri)bundle.get(Intent.EXTRA_STREAM); 
```

# ios - iOS tableView不显示部分

> ID：14907631
> 
> 赞同：1
> 
> 时间：2013-02-16T06:23:48.007
> 
> 标签：ios, objective-c, cocoa-touch

我有一个嵌入在常规视图控制器中的表格视图（嵌入在导航控制器中。）

一般来说，调用`tableView:numberOfRowsInSection:`,`tableView:titleForHeaderInSection`和`tableView:cellForRowAtIndexPath:`工作正常的方法，它们被看到并正常运行....

现在出现了显示部分的问题。由于某种奇怪的原因，程序运行`numberOfSectionsInTableview:`时*没有*看到该方法。我已经通过插入`NSLog`'s 以及插入断点来对此进行测试。此方法内没有识别任何内容。当调用显示部分时（我正在组织它`NSFetchedResultsController`），它只显示当前应该显示 5 的第一部分（因为`numberOfSectionsInTableview`不是必需的，默认为 1。）

我认为这是因为我的 tableView 嵌入在视图控制器中，而不是它实际上是一个 tableview 控制器。但如果是这样的话，为什么我不需要为其他`tableView:`方法做任何特别的事情呢？据我所知，代码的 sectionInfo 部分（在 NSFetchedResultsController 内）设置正确，因为其他`section`方法正常工作（放入`NSLog`每个方法以确保调用该方法。）

非常感谢您在理解和/或纠正此问题方面提供的任何帮助！如果您需要有关我的代码的更多信息，请告诉我。

**编辑**

这是我使用的与该字段相关的所有代码：

```
- (NSFetchedResultsController *)fetchedResultsController {
if (fetchedResultsController == nil) {

    NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];

    NSEntityDescription *entity = [NSEntityDescription entityForName:@"ActiveList" inManagedObjectContext:self.managedObjectContext];
    [fetchRequest setEntity:entity];

    NSSortDescriptor *sortDescriptor1 = [NSSortDescriptor sortDescriptorWithKey:@"category" ascending:YES];
    NSSortDescriptor *sortDescriptor2 = [NSSortDescriptor sortDescriptorWithKey:@"name" ascending:YES];
    [fetchRequest setSortDescriptors:[NSArray arrayWithObjects:sortDescriptor1, sortDescriptor2, nil]];

    //[fetchRequest setSortDescriptors:@[ sortDescriptor1, sortDescriptor2 ]];

    // Only retrieves items where 'isActive' SQLite field is '1' or 'YES'
    NSPredicate *predicate = [NSPredicate predicateWithFormat:@"isActive == %@", [NSNumber numberWithBool:YES]];
    [fetchRequest setPredicate:predicate];

    [fetchRequest setFetchBatchSize:20];

    fetchedResultsController = [[NSFetchedResultsController alloc]
                              initWithFetchRequest:fetchRequest
                              managedObjectContext:self.managedObjectContext
                              sectionNameKeyPath:@"category"
                              cacheName:@"ActiveLists"];

    fetchedResultsController.delegate = self;
}
return fetchedResultsController;
}

- (void)performFetch {

NSError *error;
if (![self.fetchedResultsController performFetch:&error]) {
    FATAL_CORE_DATA_ERROR(error);
    return;
}
}

- (void)viewDidLoad
{
[super viewDidLoad];

[self performFetch];

}

- (NSInteger)numberOfSectionsInTableview:(UITableView *)tableView {
return [[self.fetchedResultsController sections] count];
}

- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section {
id <NSFetchedResultsSectionInfo> sectionInfo = [[self.fetchedResultsController sections] objectAtIndex:section];
return [sectionInfo name];
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:00:16.703

结果是 numberOfSectionsInTableView 中的大写，其中 v 没有大写。

# javascript - 如何检查 observableArray 的变化

> ID：14907637
> 
> 赞同：0
> 
> 时间：2013-02-16T06:24:42.123
> 
> 标签：javascript, jquery, knockout.js

我正在使用 knockout_2.0.js。我有一个 observableArray，我在其上设置了订阅。喜欢 ：

```
 var Items = ko.observableArray();

 Items.subscribe(function(newValue){

  //I want to check here whether the item is Added or Deleted from the array

 }); 
```

我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:36:43.937

如果您只想知道是否添加或删除了某些内容，您可以使用外部作用域上的变量轻松跟踪它。

```
var items = ko.observableArray();

var itemLen = items.length;

items.subscribe(function (newValue) {

    //I want to check here whether the item is Added or Deleted from the array
    if (itemLen > items.length) {
        // Item removed
    } else if (itemLen < items.length) {
        // item added
    } else {
        // something else was modified
    }
    itemLen = items.length;
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T02:58:20.443

试试下面的代码，这可能会有所帮助。

```
var Items = ko.observableArray();
var ItemsLength = ko.observableArray();

this.ItemsLength = ko.computed({
    read: function() {
    return this.Items().length;
    }
});

this.ItemsLength.subscribe(function(newValue){

  //you will get control over here whether the
       item is Added or Deleted from the array

}); 
```

# port - 我的星号软件在哪个端口上运行

> ID：14907639
> 
> 赞同：5
> 
> 时间：2013-02-16T06:24:53.433
> 
> 标签：port, asterisk

有没有办法使用命令行界面或任何其他方式找出我的星号软件在哪个端口上运行？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-17T13:35:46.123

Asterisk 支持比 SIP 和 IAX2 更多的协议，但这些端口是典型的语音协议端口，可能会从您的路由器（防火墙）转发到 Asterisk 服务器（因为**NAT**）：

*   UDP:5060 SIP (sip.conf)，较新的版本支持 TCP:5060
*   UDP:10000-20000 RTP(rtp.conf)为媒体流，更高的Portrange
*   UDP:5036 IAX2

您还可以使用以下命令检查星号（模块）端口：

`lsof -n -i -P`

根据加载的模块 (modules.conf) 和配置，您可能会找到其他端口，例如 TCP:5038 (manager.conf)。

列出您的模块：

`asterisk -rx 'module show'`

或对于旧版本： `asterisk -rx 'show modules'`.

可以`noload => modulename.so`在 modules.conf 中自动加载和禁用模块。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-16T20:53:37.240

在 sip.conf 文件中，`/etc/asterisk/sip.conf`它会告诉你它将运行哪个端口。

例如：

```
[general]
port = 5060
bindaddr = 0.0.0.0
context = error
qualify=no
srvlookup=yes 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-09-12T08:32:03.043

我总是使用 netstat 命令，因为它是了解 Asterisk 进程 netstat -anp | 打开的所有端口的好选择。grep 星号

# ajax - 使用ajax从Oracle数据库中检索数据

> ID：14907641
> 
> 赞同：0
> 
> 时间：2013-02-16T06:25:05.007
> 
> 标签：ajax

我对 AJAX 完全陌生。我有一个 HTML 页面，我需要从服务器获取一些数据。我遵循了 w3schools 的一些教程，然后我开始涉足 AJAX。

这是我的策略。我有一个纯 HTML 文件和`ajax.html`一个. 当按下按钮时，我调用一个函数。`jsp``ajaxdb.jsp``updateList()`

这是我的代码：

```
xmlhttp.open("POST", url, true);
xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
xmlhttp.send(passParameter);

    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
       document.getElementById("printBack").innerHTML = xmlhttp.responseText;
    } 
```

我已经`printBack`隐藏了 div 的可见性，所以里面的任何东西都是不可见的。在 jsp 页面中，我有一个包含所有员工列表的表。在此之后，我使用`dataTable.rows[0].cells[0].innerHTML = tempTable.rows[0].cells[0].innerHTML;`Where`tempTable`是对隐藏表的引用。

我认为这不是在 AJAX 中检索表格内容的最佳解决方案，请建议我如何解决它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T09:16:10.487

[我建议使用 jQuery 的 AJAX 功能来实现这一点： http](http://api.jquery.com/jQuery.ajax/) ://api.jquery.com/jQuery.ajax/

您还应该从 JSP 以有效格式（即：JSON/XML）输出员工列表。然后使用请求完成时触发的完整函数在您的 ajax.html 页面上显示此列表。（确保您检查发送的状态是否为“成功”）。

有几个库可帮助您将 java 数组/对象转换为 JSON/XML 格式。

*编辑* 您可以例如使用[http://code.google.com/p/json-simple/](http://code.google.com/p/json-simple/) 然后只需将您需要的数据放入您的 JSONobject 中，然后输出即可。从示例：

```
<%@page contentType="text/html; charset=UTF-8"%>
<%@page import="org.json.simple.JSONObject"%>
<%
JSONObject obj=new JSONObject();
obj.put("name","foo");
obj.put("num",new Integer(100));
obj.put("balance",new Double(1000.21));
obj.put("is_vip",new Boolean(true));
obj.put("nickname",null);
out.print(obj);
out.flush();
%> 
```

# javascript - Uncaught ReferenceError: Messages is not defined 流星聊天教程

> ID：14907642
> 
> 赞同：0
> 
> 时间：2013-02-16T06:25:07.113
> 
> 标签：javascript, meteor, referenceerror

我正在关注[这个](http://vimeo.com/40300075)流星聊天教程，我已经完成了一半，老师完成了一段代码并在浏览器的控制台中检查它并说“没有错误”很好，但我在同一点上遇到了错误。关于我为什么会收到此错误的任何帮助都会很棒。

文件.js

```
Message = new Meteor.Collection('messages');

if (Meteor.is_client){
  Template.messages.messages = function () {
    return Messages.find({}, { sort: {time: -1} });
  };
} 
```

文件.html

```
<head>
  <title>tutorial</title>
</head>

<body>
 {{> entry}}

 {{> messages}}
</body>

<template name="entry">
    <p>
    <input type="text" id="name" placeholder="your name">
    <input type="text" id="messageBox" placeholder="your message"></p>
</template>

<template name="messages">
    {{#each messages}}
        {{> message}} <!--echo of message template-->
    {{/each}}
</template>

<template name="message">
    <p><strong>{{name}}:</strong>{{message}}</p>
</template> 
```

错误

```
Uncaught ReferenceError: Messages is not defined 
```

**更新**

执行以下消息 = return ... 给我下面的输出

```
Your app is crashing. Here's the latest log.

app/tutorial.js:5
     message = return Messages.find({}, { sort: {time: -1} });
               ^^^^^^
SyntaxError: Unexpected token return
    at /Users/anderskitson/Sites/tutorial/.meteor/local/build/server/server.js:113:21
    at Array.forEach (native)
    at Function._.each._.forEach (/usr/local/meteor/lib/node_modules/underscore/underscore.js:79:11)
    at run (/Users/anderskitson/Sites/tutorial/.meteor/local/build/server/server.js:99:7)
Exited with code: 1
Your application is crashing. Waiting for file change. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:06:42.430

这一行：

```
Message = new Meteor.Collection('messages'); 
```

声明一个名为`Message`. 因此，稍后，您可以使用变量`Message`.

这一行：

```
return Messages.find({}, { sort: {time: -1} }); 
```

使用未定义的变量`Message`**s ！**只有`Message`被定义。所以，写

```
return Message.find({}, { sort: {time: -1} }); 
```

反而。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T12:27:56.517

您需要先检查 Meteor.isClient

```
if (Meteor.isClient) {  
  alert(); 
} 
```

# api - 需要为 Drupal 7 网站创建 API（位置、cck、节点参考）

> ID：14907650
> 
> 赞同：0
> 
> 时间：2013-02-16T06:26:19.830
> 
> 标签：api, blackberry, drupal-7, drupal-modules, drupal-views

我有一个 drupal 7 网站，并且正在开发一个 bb 应用程序。我需要创建一个允许应用程序从 drupal 数据库获取条件数据的 api。drupal 7 站点由 2 种相互链接的内容类型（目录和特价）、cck 字段（价格、图像等）和分类术语（通过标记）组成。我知道有现成的模块，例如服务，但是开发人员说安装的服务模块对我们没有多大帮助，它提供了一般数据，不允许他们进行选定的查询，所以他们必须根据应用程序获取数据要求（这导致必须为自定义解决方案计费）......我只是想知道是否没有其他可用的选项我可能会错过，或者更简单的方法来实现这一点？带有可以过滤以获得结果的参数的条件视图怎么样？抱歉我的无知，只是不知道这是如何工作的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T13:24:13.070

可能这可以帮助 [http://tylerfrankenstein.com/code/android-app-with-drupal-7-services-phonegap-and-jquery-mobile](http://tylerfrankenstein.com/code/android-app-with-drupal-7-services-phonegap-and-jquery-mobile)

如果没有，您能否详细说明您需要做什么？

# html - Bootstrap：将英雄单位水平和垂直居中

> ID：14907653
> 
> 赞同：1
> 
> 时间：2013-02-16T06:26:39.800
> 
> 标签：html, django, twitter-bootstrap

我有一个包含 Django 表单的英雄单元。如何在页面上水平和垂直居中？

编辑：

```
 <div class="row-fluid">
        <div class="span8 hero-unit">

            {{ form }}

        </div>
    </div> 
```

这几乎就是表格的样子。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:59:01.427

[JSFiddle 与表单](http://jsfiddle.net/shail/YmmVS/)

**编辑**：只是想为需要帮助的人改进这个答案。

好吧，这就是你如何实现一个以中间为中心的形式的英雄单元的方法。

首先是CSS：

```
.hero-unit {
padding:50px 50px 50px 50px;
    }
.form-horizontal .control-label {
    width: 61px;
    }
.form-horizontal .controls {
margin-left: 80px;
    }
/* Landscape phones and down */
  @media (max-width: 480px) { 

 .hero-unit{
margin-left:-20px;
margin-right:-20px;
  }
 .form-horizontal .controls {
margin-left: 0;
  }
   } 
```

Html 部分：

```
<div class="container">
<div class="hero-unit">
    <div class="row-fluid">
        <div class="offset4 span4">
            <legend>Sign in to WebApp</legend>
            <form class="form-horizontal">
                <div class="control-group">
                    <label class="control-label" for="inputEmail">Email</label>
                    <div class="controls">
                        <input type="text" id="inputEmail" placeholder="Email">
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="inputPassword">Password</label>
                    <div class="controls">
                        <input type="password" id="inputPassword" placeholder="Password">
                    </div>
                </div>
                <div class="control-group">
                    <div class="controls">
                        <label class="checkbox">
                            <input type="checkbox">Remember me</label>
                        <button type="submit" class="btn">Sign in</button>
                    </div>
                </div>
            </form>
        </div>
     </div>
   </div>
 </div> 
```

# c# - ASP.Net MVC 多个列表从控制器返回

> ID：14907658
> 
> 赞同：2
> 
> 时间：2013-02-16T06:27:38.423
> 
> 标签：c#, asp.net-mvc, list, return

我正在使用 mvc4 剃须刀，这是第一个模型代码

```
public class WebLicenses
{
    public string WebLicenseName { get; set; }
    public int CustomerWebLicensesCount { get; set; }
}

public class WebApplication
{
    public string WebApplicationName { get; set; }
    public int Count { get; set; }

    [DisplayFormat(DataFormatString = "{0:dd.MM.yyyy}")]
    public DateTime? EndDate { get; set; }

    public string Never { get; set; }
}
public class griddetail
{
    public griddetail( List<WebLicenses> wl1,List<WebApplication> wa1 )
    { 
        wl =wl1;
        wa = wa1;
    }
    //public List<WebLicenses> wl2 { get; private set; }

    public List<WebLicenses> wl { get; set; }
    public List<WebApplication> wa { get; set; }

} 
```

这是我的第二个模型代码，它使用第一个模型代码作为（这里存储过程返回 2 个表 - WebLicenses，WebApplication（在下面的代码中出现错误——注释）

```
public IEnumerable GetOutlookGridDetail(string customerId = "")
{
        List<WebLicenses> weblicenses = new List<WebLicenses>();
        List<WebApplication> webapplication = new List<WebApplication>();            
        griddetail returnValue = new griddetail(weblicenses, webapplication);          

        SqlConnection cn = new SqlConnection(ConfigurationManager.ConnectionStrings["SLIMConnectionString"].ConnectionString);
        SqlCommand cmd = new SqlCommand("selectCustomerDetail", cn);
        cmd.CommandType = CommandType.StoredProcedure;

        SqlParameter param_CustomerID = new SqlParameter("@CustomerID", SqlDbType.VarChar, 10);
        param_CustomerID.Value = customerId;
        cmd.Parameters.Add(param_CustomerID);

        try
        {
            cn.Open();

            SqlDataReader reader = cmd.ExecuteReader();

            while (reader.Read())
            {
                WebLicenses newRecord = new WebLicenses();
                newRecord.WebLicenseName = Convert.ToString(reader["WebLicenseName"]);
                newRecord.CustomerWebLicensesCount = Convert.ToInt32(reader["CustomerWebLicensesCount"]);
                //returnValue.Add(newRecord);
                weblicenses.Add(newRecord);                    
            }

            reader.NextResult();

            while (reader.Read())
            {
                WebApplication newRecord = new WebApplication();

                newRecord.WebApplicationName = Convert.ToString(reader["WebApplicationName"]);
                newRecord.Count = Convert.ToInt32(reader["Count"]);
                newRecord.Never = Convert.ToString(reader["Never"]);
                webapplication.Add(newRecord);
            }
            returnValue.wl.Add(weblicenses); //here comes error (Argument 1: cannot convert from 'System.Collections.Generic.List<SLIM.Models.WebLicenses>' to 'SLIM.Models.WebLicenses')
        }
        catch (Exception)
        {
            // returnValue = null;
        }
        finally
        {
            cmd.Dispose();

            if (cn.State == ConnectionState.Open)
            {
                cn.Close();
            }
        }

        return returnValue;
} 
```

这是我的控制器代码。

```
 [HttpPost]
    public ActionResult GridViewPartialView(string recordId)
    {
        IEnumerable result1 = (new SlimHomePageData()).GetRecords(recordId, "");
        IEnumerable result2 = (new SlimHomePageData()).GetRecords();
        List<object> finalResult = new List<object>();
        finalResult.Add(result1);
        finalResult.Add(result2);
        return PartialView("OutlookGridDetail", finalResult);            
    } 
```

我想返回一个包含 2 个列表的列表（但出现上述错误）。还建议，这是正确的方法，因为存储过程返回多个表，我们想通过模型在视图中设置值。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-11-23T10:44:10.917

我忘了给答案，但昨天有人给减号。是的，时间太长了。我做了什么（我再次解释一切以了解更多）：

**Step1：**将2类定义为

```
public class WebLicenses
    {
        public int WebLicenseID { get; set; }
        public string WebLicenseName { get; set; }
        public int CustomerWebLicensesCount { get; set; }
        public string CreatedBy { get; set; }
        public string UpdatedBy { get; set; }
    }

public class WebApplication
{
    public int appID { get; set; }
    public string WebApplicationName { get; set; }
    public int Count { get; set; }

    [DisplayFormat(DataFormatString = "{0:dd.MM.yyyy}")]
    public DateTime? EndDate { get; set; }

    public bool Never { get; set; }
    public string CreatedBy { get; set; }
    public string UpdatedBy { get; set; }
}

public class griddetail
{
    public griddetail(List<WebLicenses> wl1, List<WebApplication> wa1)
    {
        weblicences = wl1;
        webapplication = wa1;
    }

    public List<WebLicenses> weblicences { get; set; }
    public List<WebApplication> webapplication { get; set; }        
} 
```

**Step2：**将控制器更改为

1.  将返回类型更改`IEnumerable`为`griddetail`类
2.  最后在一个类中声明并分配这个嵌套`griddetail`类

    ```
    public class SlimHomePageData
    {
         private SLIMDataContext dc = new SLIMDataContext(ConfigurationManager.ConnectionStrings["SLIMConnectionString"].ConnectionString);
    .
    .
    .

     public IEnumerable GetOutlookGridDetail(string customerId = "")
    {
        List<WebLicenses> weblicenses = new List<WebLicenses>();
        List<WebApplication> webapplication = new  List<WebApplication>();            
       //remove from here and add at the end of this method 
       //griddetail returnValue = new griddetail(weblicenses, webapplication);          

       SqlConnection cn = new SqlConnection(ConfigurationManager.ConnectionStrings["SLIMConnectionString"].ConnectionString);
       SqlCommand cmd = new SqlCommand("selectCustomerDetail", cn);
       cmd.CommandType = CommandType.StoredProcedure;

       SqlParameter param_CustomerID = new SqlParameter("@CustomerID", SqlDbType.VarChar, 10);
       param_CustomerID.Value = customerId;
       cmd.Parameters.Add(param_CustomerID);

       try
       {
        cn.Open();

        SqlDataReader reader = cmd.ExecuteReader();

           if (reader.HasRows)
            {
                while (reader.Read())
                {
                    WebLicenses newRecord = new WebLicenses();
                    newRecord.WebLicenseName = Convert.ToString(reader["WebLicenseName"]);
                    newRecord.CustomerWebLicensesCount = Convert.ToInt32(reader["CustomerWebLicensesCount"]);
                    weblicenses.Add(newRecord);
                }
            }

            reader.NextResult();
            if (reader.HasRows)
            {
                while (reader.Read())
                {
                    WebApplication newRecord = new WebApplication();

                    newRecord.WebApplicationName = Convert.ToString(reader["WebApplicationName"]);
                    newRecord.Count = Convert.ToInt32(reader["Count"]);

                    bool never = false;

                    if (reader["Never"] != DBNull.Value)
                    {
                        bool.TryParse(reader["Never"].ToString(), out never);
                    }

                    if (reader["EndDate"] != DBNull.Value)
                    {
                        newRecord.EndDate = Convert.ToDateTime(reader["EndDate"]);
                    }

                    newRecord.Never = never;

                    webapplication.Add(newRecord);
                }
            }

        reader.Close();

       }
       catch (Exception)
       {
           // returnValue = null;
       }
       finally
       {
           cmd.Dispose();

           if (cn.State == ConnectionState.Open)
           {
               cn.Close();
           }
       }

           griddetail returnValue = new griddetail(weblicenses, webapplication, webcustomapplication, maintenance, smartcv, histry, doc);
        return returnValue;
       }
      .
       .
      }//closing of my SlimHomePageData class 
    ```

**第 3 步：**在 ActionMethod 中更改为：发布此问题后，我更改了方法，但您可以在上述问题中使用相同的方法概念。稍后我需要`result1`在返回时添加另一个类。

```
 public ActionResult GridViewPartialView()
{
          return View();
}

[HttpPost]
        public ActionResult childGridViewPartialView(string recordId, string filtervalue, string flag)
        {
            if (flag == "GridRowChanged")
            {
                IEnumerable result1;
                griddetail result3;
                if (recordId != null)
                {
                    result1 = (new SlimHomePageData()).GetRecords(recordId, "");  //another result to be add later at the end of action method
                    result3 = (new SlimHomePageData()).GetOutlookGridDetail(recordId); //this was in my question
                }
                else
                {
                    result1 = new List<SlimHomePageRecord>();   //another result to be add later at the end of action method
                    result3 = (new SlimHomePageData()).GetOutlookGridDetail(recordId); //this was in my question
                }

                List<object> finalResult = new List<object>();
                finalResult.Add(result1);
                finalResult.Add(result3);
                return PartialView("OutlookGridDetail", finalResult);  
            }
            else
            {
                return PartialView("childGridViewPartialView", (new SlimHomePageData()).GetRecords(null, null));
            }
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T14:41:05.163

实例 weblicenses 是 List 类型。看起来它应该是 WebLicenses 的单个实例。

您可能希望将 newRecord 实例添加到 returnValue.wl 列表而不是列表实例。

编辑：您不需要向 wl 列表属性添加任何内容，因为您正在添加到 WebLicenses 列表中。returnValue 上的 wl 属性是对 WebLicences 实例的引用，因此如果您添加到 WebLicences，那么 wl 将显示相同的添加。

# joomla2.5 - Joomla 搜索结果 ItemId

> ID：14907660
> 
> 赞同：0
> 
> 时间：2013-02-16T06:28:22.133
> 
> 标签：joomla2.5, virtuemart

如何在 Joomla 中添加每个搜索结果的 Itemid。

```
index.php?option=com_virtuemart&view=productdetails&virtuemart_product_id=74&virtuemart_category_id=6&lang=en 
```

在上面的链接中 &Itemid=521 缺少这就是为什么不显示正确的页面

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:56:59.463

真正控制 Joomla URL 而无需破解/覆盖代码或使用第三方重写工具（如 sh404sef 或核心 Joomla 重定向组件（J2.5+））的唯一方法是制作属于“外部网址”类型。然后定义你想要的任何 URL：

> index.php?option=com_virtuemart&view=productdetails&virtuemart_product_id=74&virtuemart_category_id=6&lang=en&Itemid=521

*笔记！我在 URL 中添加了**&Itemid=521**，但是如果没有设置正确的菜单项，您可能会遇到意外的模块定位...

# ios - iOS 自定义 PKRevealController 以像 Google Maps 一样工作

> ID：14907665
> 
> 赞同：0
> 
> 时间：2013-02-16T06:28:54.170
> 
> 标签：ios, objective-c, uiviewcontroller, uigesturerecognizer

我正在尝试模仿新的 Google 地图应用程序，其中有一个带有 3 个点的按钮，您可以将其拉到左侧以在右侧显示一个新的视图控制器，并为该应用程序提供一些设置。

我有 PKRevealController 的默认实现工作..但由于我的前视图控制器有一个占据整个屏幕边界的地图......我不能向左拉（相反，地图移动）。我知道它可以工作，因为我在地图上有一个按钮，我可以将其拉到左侧以显示右侧的视图控制器。

如何更改 PKRevealController 的工作方式，以便仅当且仅当向左拉一个小按钮时它才会显示右视图控制器？由于我在地图顶部有多个按钮......有没有办法禁用其中一些按钮，所以它们不能被拉到左边......但只留下一个可以向左拉的按钮？或者有没有其他解决方案？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:46:30.553

我想到了。我将 PKRevealController 的选项设置如下...

```
 NSDictionary *options = @{
PKRevealControllerRecognizesPanningOnFrontViewKey : @NO
}; 
```

然后我在视图控制器的视图对象上设置手势平移属性。下面显示了如何将手势平移属性添加到导航栏。

```
 [frontViewController.navigationController.navigationBar addGestureRecognizer:self.revealController.revealPanGestureRecognizer]; 
```

# java - 如何实例化番石榴 EnumBiMap？

> ID：14907667
> 
> 赞同：2
> 
> 时间：2013-02-16T06:29:12.453
> 
> 标签：java, guava

答案/编辑：

好的，刚刚意识到我试图错误地使用 EnumBiMap。我想要一个不允许空值的双映射，我猜 Guava 库没有。我查看了[ImmutableBiMap](http://google-collections.googlecode.com/svn-history/r10/trunk/javadoc/com/google/common/collect/EnumBiMap.html)但它应该是静态的，具有不变的值。猜猜我只需要在将任何内容放入 HashBiMap 之前检查 null。

也就是说，这就是您可以实例化/使用 EnumBiMap 的方式：

给定枚举：

```
enum Test{
    VAL;
} 
```

利用：

```
Map<Test, Test> m = EnumBiMap.create(Test.class, Test.class);
m.put(Test.VAL, Test.VAL); 
```

或者，如果您想要一个更通用的 EnumBiMap，它支持任何枚举类型：

```
Map<Enum, Enum> m = EnumBiMap.create(Enum.class, Enum.class);
m.put(Test.VAL, Test2.VAL2); 
```

* * *

原始问题：

我查看了[Guava API](http://google-collections.googlecode.com/svn-history/r10/trunk/javadoc/com/google/common/collect/EnumBiMap.html)文档和网络，但找不到任何实现 EnumBiMap 类的示例。它的行为与我可以轻松实例化的 HashBiMap 不同。这是我尝试过的 - 这些都不会为我编译：

```
Map<Integer, String> m = EnumBiMap.create(); 
```

..类似于这里的建议：[Java: Instantiate Google Collection's HashBiMap](https://stackoverflow.com/questions/1533513/java-)

也试过：

```
Map<Integer, String> m = EnumBiMap.<Integer, String>create(); 
```

..类似于此处的格式：[Google Guava: How to use ImmutableSortedMap.naturalOrder?](https://stackoverflow.com/questions/4906946/google-guava-how-to-use-immutablesortedmap-naturalorder)

和：

```
Map<Integer, String> m = EnumBiMap.create(Integer.class, String.class); 
```

有没有人成功实现 EnumBiMap 或看到任何示例？如果是这样，怎么做？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-16T11:14:03.993

你的意思是（番石榴[14.0 版](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/EnumBiMap.html)）：

```
Map<Test, Test> m = EnumBiMap.create(Test.class, Test.class);
m.put(Test.VAL, Test.VAL); 
```

请注意签名：

```
<K extends Enum<K>, V extends Enum<V>> EnumBiMap<K, V> create(Class<K> keyType, Class<V> valueType) 
```

所以`Integer`and`String`不适合*K*或*V*。

# c# - 当我将 httphandler 编译到一个类中时，我应该把 dll 放在哪里？

> ID：14907668
> 
> 赞同：0
> 
> 时间：2013-02-16T06:29:20.600
> 
> 标签：c#, asp.net

我有一个从 msdn 获得的 httphandler，看起来像这样

```
using System.Web;
public class HelloWorldHandler : IHttpHandler
{
    public HelloWorldHandler()
    {
    }
    public void ProcessRequest(HttpContext context)
    {
        HttpRequest Request = context.Request;
        HttpResponse Response = context.Response;
        // This handler is called whenever a file ending 
        // in .sample is requested. A file with that extension
        // does not need to exist.
        Response.Write("hello"); 

    }
    public bool IsReusable
    {
        // To enable pooling, return true here.
        // This keeps the handler in memory.
        get { return false; }
    }
} 
```

所以我`Handler.dll`将它编译并放入`C:\inetpub\wwwroot\Handler`

然后我添加了这个 Web.config 文件

```
<configuration>
  <system.web>
    <httpHandlers>
      <add verb="*" path="*.abc" 
        type="HelloWorldHandler", "HelloWorldHandler" />
    </httpHandlers>
  </system.web>
</configuration> 
```

并把它`C:\inetpub\wwwroot\Handler`也放进去

![在此处输入图像描述](../Images/2f39bc273fdbb4aa96acfe4c423751d7.png)

我想用这个然后我可以去`http://localhost/Handler/page.abc`处理程序会拦截请求，但这不是这样吗？我怀疑它可能是 .config 文件？请帮忙。

![在此处输入图像描述](../Images/d8c680413814ddfe39b7f72e11bf2695.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T06:37:04.903

你的配置不对，需要在类型中添加类的命名空间，还要声明handler dll，更改`type`节点；

```
<configuration>
  <system.web>        
<system.webServer>
    <handlers>
        <add verb="*" path="*.abc" name="HelloWorldHandler"
        type="HelloWorldHandler" />
    </handlers>
</system.webServer>
  </system.web>
</configuration> 
```

# java - jsp页面中的jericho Html解析器错误

> ID：14907672
> 
> 赞同：0
> 
> 时间：2013-02-16T06:30:13.077
> 
> 标签：java, html, jsp, jakarta-ee, html-parsing

我写代码为

```
String sourceUrlString="http://some url";
Source source=new Source(new URL(sourceUrlString));
Element INFORM = source.getElementById("main").getAllElementsByClass("game").get(i-1);
String INFORM = INFORM.replaceAll("\\s","");   //shows error here
sendResponse(resp,+INFORM); 
```

现在我想要从 Element 获取的*文本*`INFORM`是忽略空白我该怎么做？上面提到的`String INFORM`Show error *Duplicate local variable INFORM* );

例如

Element INFORM 获取的文本是“我的名字是 satish”，但它必须发送响应为

“我的名字”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-24T13:18:48.913

你的名字`INFORM`被使用了两次——那是不可能的！

```
String sourceUrlString = "http://some url";
Source source = new Source(new URL(sourceUrlString));
Element INFORM = source.getElementById("main").getAllElementsByClass("game").get(i-1);
String response = INFORM.replaceAll("\\s","");   // ! Use another name here !
sendResponse(resp, respone); // or use '+' - not shure if 1 or 2 args 
```

# javascript - 在 jquery .load() 之后 Ajaxified 链接不起作用

> ID：14907674
> 
> 赞同：0
> 
> 时间：2013-02-16T06:30:18.137
> 
> 标签：javascript, jquery

大家好，我正在使用此脚本[https://github.com/browserstate/ajaxify](https://github.com/browserstate/ajaxify)来对我的所有链接进行 ajaxify。在我的一个页面上，我正在使用 jquery .load() 函数加载数据。

```
$(function () {
    $('#container').load('/load/load-trending-artists.php?n=1', function() { 
        $('img').lazyload({ event : 'load', effect: 'fadeIn'});
        $('.loadmorecontent').show();
    });
}); 
```

在这个脚本中，我加载了一堆图片和链接到我网站的其他页面。但是，当我单击通过 jquery .load() 加载的任何这些链接时，该链接不会被 ajaxified 而是正常运行。这对我来说是一个巨大的问题，也给我的网站带来了很大的不便。通过 .load() 加载的链接是否仍会受到 ajaxify 插件的影响？谢谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:42:38.447

### 如果这有帮助，请查看此：http: [//max.jsrhost.com/ajaxify/demo.php](http://max.jsrhost.com/ajaxify/demo.php)

```
<a id="options" href="#">Setting up options</a> 
```

它被这个ajaxified：

```
$('#options').ajaxify({
    link:'example.php?action=options&ajax=true',
    target: '#container',
    loading_img:'images/orange_loading.gif',
    title:'Setting up options', // change page title. Since v2.0
    method:'POST'
}); 
```

# machine-learning - 在 Python 中聚类文档

> ID：14907675
> 
> 赞同：0
> 
> 时间：2013-02-16T06:30:57.610
> 
> 标签：machine-learning, cluster-analysis, k-means

我知道这个问题之前已经被问过并且有很多链接。我已经浏览了它们，无论如何，它们中的大多数都没有找到一个简单而简洁的回复。文档数量约为 4800 份。

就这样吧。

我正在使用 nltk 对大量文本文档进行聚类。我到目前为止所做的是

1.  解析和标记化
2.  停用词和词干

我正在做的下一步是为每个文档找到一个 TF-IDF 向量。这样我就有 n 个长度相等的向量用于 n 个文档。

现在我需要将这些向量输入我的 K-means 函数并让它撕裂。

问题是，我做得对吗？

下一个问题与代码有关：

```
corpus = []
unique_terms = []

def TFIDF(document):
    start_time = time.time()
    word_tfidf = []
    for word in unique_terms:
        word_tfidf.append(collection.tf_idf(word,document))

    print time.time() - start_time
    return word_tfidf

if __name__ == '__main__':
    count = 0
    corpus = cPickle.load(open('C:\\Users\\Salman\\Desktop\\Work\\NLP\\Corpus\\FB\\save-3.p', 'rb'))    ##read the corpus from file
    collection = nltk.TextCollection(corpus)
    unique_terms = list(set(collection))
    vectors = [numpy.array(TFIDF(f)) for f in corpus]
    print "Vectors created."
    print "First 10 words are", unique_terms[:10]
    print "First 10 stats for first document are", vectors[0][0:10] 
```

我已经将语料库（TF-IDF 之前每个文档的向量列表）下载到我正在语料库中阅读的文件中。

问题是已经 8 小时了，这个过程还没有完成。我在这里错过了什么吗？或者一般来说，TF-IDF 确实需要这么多时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T11:00:26.947

您写了 4800 个文档，但没有指定文档的长度。无论如何，8 小时确实很长（带有一些标准欧几里德距离的 TF_IDF 并不太贵）。

如果您想知道它是否在计数，只需查看负载平衡（例如`uptime`在 linux 中）。很可能有问题，您应该注意日志信息...

# selenium - 使用 Selenium 查找 clickon 元素。(JAVA)

> ID：14907676
> 
> 赞同：1
> 
> 时间：2013-02-16T06:31:01.120
> 
> 标签：selenium

我已经花了几个小时试图找到使用 Selenium WebDriver 找到元素的方法。我假设我需要使用 driver.findElement(By.xpath(""))，但我不太确定如何使用。

我不知何故需要找到并单击“clickon”元素。问题是该元素的一部分正在改变（见屏幕截图）我需要从文件中提取并放入 xpath。

我将不胜感激任何帮助。

[![](../Images/93501cb083af56217d8fc981e29e94ee.png)](https://i.stack.imgur.com/gczXA.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:38:04.157

我们最近一直在严格寻找自动化功能测试解决方案，我们从 Selenium 开始。我们决定寻找其他解决方案的全部原因是我们的应用程序也有动态 ID，没有其他明显的 XPath 机制来识别它们。如果没有一些额外的知识，Selenium 无法识别页面上的这些元素，就像如果您还不知道它们是什么，您将无法识别页面上的这些元素一样。

如果您正在控制 DOM 创建，请考虑向该元素添加唯一 ID 或类。

我们最近从 testPlant 中遇到了 eggPlant，它是一种有趣的功能测试方法。它本质上是基于图像的。其他可行的解决方案是 Ranorex 或 HP 的 QTP 或 SmartBear 的 TestComplete。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T06:49:04.483

您可以使用 xpath。如果 div 类是常量，则可以使用类似：

```
driver.findElement(By.xpath("list-row field-item")).click(); 
```

要查看 xpath，您可以在[此处](https://addons.mozilla.org/en-US/firefox/addon/xpath-checker/)安装名为“xpath checker”的 Firefox 插件，然后右键单击 dom 元素并单击“查看 Xpath”选项以获取元素的 xpath，然后您可以在代码中使用该 xpath。

或者您甚至可以在适用于类似问题的 xpath 中使用正则表达式。带有正则表达式的 Xpath 真的很强大。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-03T14:05:35.087

似乎您想单击具有`on click`包含某些不会更改的文本的属性的 div，而忽略更改的部分。在这种情况下，使用这样的 xpath：

```
//div[contains(@onclick, '/challenge/index/rfp_id/')] 
```

这将选择第一个 div，其`onclick`属性的值包含`/challenge/index/rfp_id`.

# ios - [对象在索引：行]；不工作 - 目标 C

> ID：14907677
> 
> 赞同：-4
> 
> 时间：2013-02-16T06:31:24.550
> 
> 标签：ios, uipickerview

如何获取 a 的选定行的值`uipickerview`？我使用代码有行值；

```
 int row;
    row = [PickerView selectedRowInComponent:0];// row value is ok
    [object atIndex:row]; //is not working? 
```

等待你的帮助？

> 更新：

实际上我想获取加载时默认选择的pickerview的值...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T06:34:23.333

您可以使用它的委托方法。

```
- (void)pickerView:(UIPickerView *)pickerView didSelectRow: (NSInteger)row inComponent:(NSInteger)component {
[object atIndex:row];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T06:58:48.383

我想你想要这个

```
NSInteger selectedRow =[self.singlePicker selectedRowInComponent:0];
NSString *title = [self.data objectAtIndex: selectedRow]; 
```

# c# - monodevelop 中不存在 webkit sharp 的参考

> ID：14907679
> 
> 赞同：0
> 
> 时间：2013-02-16T06:31:36.153
> 
> 标签：c#, webkit, monodevelop

好的，我使用 monodevelp 创建新项目并添加以下代码：

```
using System;
using Gtk;
using GtkSharp;
using WebKit;

namespace browserapp
{
    public class browser
    {
        public static void Main () {
            Application.Init ();
            Window window = new Window ("a browser in 12 lines...");
            window.Destroyed += delegate (object sender, EventArgs e) {
                Application.Quit ();
            };
            ScrolledWindow scrollWindow = new ScrolledWindow ();
            WebView webView = new WebView ();
            webView.Open ("http://mono-project.com");
            scrollWindow.Add (webView);
            window.Add (scrollWindow);
            window.ShowAll ();
            Application.Run ();
        }
    }
} 
```

我添加了代码所需的所有参考，除了：

```
using WebKit; 
```

我在 monodevelop 库参考中搜索，但找不到 webkit_sharp，所以我在 Google 中搜索以找到该库，我发现了这个：

[https://github.com/mono/webkit-sharp](https://github.com/mono/webkit-sharp)

但我无法管理如何在 Windows 中构建它并提取正确的 dll 文件以供参考，所以如果有人能告诉我如何在 Windows 中构建它，我正在使用单声道开发 Windows 版本谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-02T22:07:46.413

您可以在此处下载 suse rpm：http: [//download.opensuse.org/repositories/openSUSE](http://download.opensuse.org/repositories/openSUSE:/Factory/standard/noarch/webkit-sharp-0.3-7.2.noarch.rpm) :/Factory/standard/noarch/webkit-sharp-0.3-7.2.noarch.rpm 这只是一个存档。您可以将其提取并拉出 dll。我不确定你想要做什么。

# javascript - extjs 4：单击事件上的按钮不起作用

> ID：14907680
> 
> 赞同：1
> 
> 时间：2013-02-16T06:31:56.583
> 
> 标签：javascript, extjs, extjs4

```
{
xtype: 'button',
id : 'btnShowImage',
text : 'Show Image On List',
scale   : 'large',
width : 200,
margin : '0 0 0 180',   
}

var ShowImgBtn = Ext.get('btnShowImage');
    ShowImgBtn.on('click', function(){
    alert('hi');
    }); 
```

## 问题

怎么不能工作？什么问题？应该可以工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:55:58.117

您的代码正在运行：

```
Ext.onReady(function() {
    Ext.create('Ext.Button', {
        renderTo: Ext.getBody(),
        id : 'btnShowImage',
        text : 'Show Image On List',
        scale   : 'large',
        width : 200,
        margin : '0 0 0 180'
    });

    var ShowImgBtn = Ext.get('btnShowImage');
    ShowImgBtn.on('click', function(){
        alert('hi');
    });
}); 
```

**[http://jsfiddle.net/ht4UL/](http://jsfiddle.net/ht4UL/)**

会不会是你的按钮没有渲染？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T07:31:45.970

将代码编辑为

```
Ext.getCmp('btnShowImage') 
```

这是有效的。

# android - 如何在 android 应用程序中创建多个配置文件？

> ID：14907684
> 
> 赞同：1
> 
> 时间：2013-02-16T06:32:28.703
> 
> 标签：android, profile

谁能告诉我**如何为安卓应用创建配置文件？**就像当用户点击一个现有的配置文件时，一些参数会被相应地设置，显示不同的内容。有人可以帮助我或指导我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:59:28.383

好的..明白你的意思。

如果您不了解数据库，请先阅读[Sql Connectivity](http://www.c-sharpcorner.com/UploadFile/88b6e5/sqlitedatabase-connectivity/)。

想法是，您可以将所有信息存储在数据库中。同样，您可以创建 2 个表。第一个表适用于拥有用户名和`id`. 第二张表与其用户的数据相关，并将参考他们`ids`的第一张表。

很简单，当用户登录他们的帐户时，您会得到一个`ID`用于从其他表中获取他们的年龄、性别、心脏位等的帐户。

# sql - SQL Server 触发器事件触发问题

> ID：14907689
> 
> 赞同：0
> 
> 时间：2013-02-16T06:33:11.290
> 
> 标签：sql, sql-server

我在一张类似这样的表上有一个触发器：

```
ALTER TRIGGER [shoot_sms] 
  ON  [dbo].[MyTable]
 AFTER  INSERT
AS
begin
declare @number bigint
declare @body varchar(50)
declare @flag int

select @number=number,@body=body,@flag=flag from inserted

if(@flag=0)
begin

insert into temptable (number,body,status)
select @number,@body,'P'

end
end 
```

现在我在 mytable 中创建两个条目，如下所示：

```
insert into mytable(number, body, flag)
values(3018440225, 'This is test', 0)

insert into mytable(number, body, flag)
values(3018440225, 'This is test', 0) 
```

我一次执行这些查询，但是对于这两个查询，触发器只触发一次，并且只为第一个查询执行任务。

如何使它适用于两个插入语句？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:39:43.017

只是一个想法，但在这两个插入语句之间放置一个 GO 语句，这可能会导致触发器触发两次。

我认为您可能应该重写触发器以处理多行插入。

这是您转换的查询。你现在应该得到两行。

```
ALTER TRIGGER [shoot_sms] 
  ON  [dbo].[MyTable]
 AFTER  INSERT
AS
begin

insert into temptable (number,body,status)
select number,body,'P'
from inserted
where flag = 0

end 
```

另请注意，您的触发器现在要简单得多。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T08:16:25.500

Since those two statements are in one SQL batch, the trigger **will** (by design) only fire once.

Triggers **don't fire once per row** - they fire **once per statement**! So if you have an `INSERT` or `UPDATE` statement that affects more than one row, your trigger will have more than one row in the `Inserted` (and possibly `Deleted`) pseudo tables.

The way you wrote this trigger is really **not** taking into account that `Inserted` could contain multiple rows - what row do you select from the `Inserted` table if you're inserting 20 rows at once?

```
select @number = number, @body = body, @flag = flag from inserted 
```

You need to change your trigger to take that into account!

# android - findViewById() 为自定义视图返回 null - Android

> ID：14907691
> 
> 赞同：1
> 
> 时间：2013-02-16T06:34:02.017
> 
> 标签：android, nullpointerexception, android-custom-view

首先让我这样说：我已经查看了有关此问题的所有其他线程并梳理了谷歌的答案，但没有任何帮助。

我有一个包含在运行时添加的自定义视图的布局。我的自定义视图有`super(context, attrs)`构造函数。

自定义视图：

```
public CustomLinearLayout(Context context, AttributeSet attrs) {
    super(context, attrs);
    initialize some variables...
} 
```

我使用以下方法将视图添加到我的活动中：

```
public void addNewView (boolean isEmpty) {
    LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    for (int i = 0; i < amount; i++) {
    if (isEmpty) {
        View v = (ViewGroup) inflater.inflate(R.layout.my_custom_layout, layoutContainer, true);
        viewTracker++;
    }
    }
} 
```

如果我在上述方法中将 findViewById 用于我的自定义视图，`addNewView()`那么一切都很好。但是，如果我在视图膨胀后（显然是在 之后）尝试在活动中的其他任何地方使用 findViewById，`setContentView`我会得到一个空指针。我也试过`someView.findViewById()`哪个不起作用。我难住了。有任何想法吗？

Logcat 显示一个空指针，但仅此而已：

```
02-16 06:56:10.681: E/AndroidRuntime(11360): FATAL EXCEPTION: main
02-16 06:56:10.681: E/AndroidRuntime(11360): java.lang.NullPointerException
02-16 06:56:10.681: E/AndroidRuntime(11360): at com.nutrifit.Fragments.WorkoutPlannerPopup.resetOtherView(WorkoutPlannerPopup.java:404)
02-16 06:56:10.681: E/AndroidRuntime(11360): at com.nutrifit.customviews.CustomLinearLayout.onTouchEvent(CustomLinearLayout.java:43)
02-16 06:56:10.681: E/AndroidRuntime(11360): at android.view.View.dispatchTouchEvent(View.java:7239)
02-16 06:56:10.681: E/AndroidRuntime(11360): at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2168)
02-16 06:56:10.681: E/AndroidRuntime(11360): at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1903)
02-16 06:56:10.681: E/AndroidRuntime(11360): at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174) 
```

这是我在 XML 中的自定义视图：

```
<?xml version="1.0" encoding="utf-8"?>
<com.nutrifit.customviews.CustomLinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/exercise_container_0"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:orientation="horizontal"
android:background="@drawable/wpp_background_border" >

<ImageView android:id="@+id/delete_button_1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:background="@drawable/wpp_background_border" />
...more android child views

</com.nutrifit.customviews.CustomLinearLayout> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-27T12:36:46.537

方法在哪里`addNewView()`被调用？据我了解，如果您`findViewById()`在自定义视图的构造函数中执行 a ，您可以获得`null`. 我还没有找到一个权威参考来说明何时可以安全地调用`findViewById()`自定义视图，但我通常会在此期间`onFinishInflate()`或之后进行。

# javascript - string.indexOf(searchValue[, fromIndex]) 的语法在方括号内显示逗号？

> ID：14907696
> 
> 赞同：0
> 
> 时间：2013-02-16T06:35:22.337
> 
> 标签：javascript, mozilla

关于网站 [https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/indexOf中提到的语法](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/indexOf)

他们提到 indexOf 的语法是这样的

> string.indexOf(searchValue* *[ **, fromIndex** ]* *)

其中逗号在方括号之间，但是当我们使用该函数时，输入的值在逗号之后。

这是一种显示语法的标准方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:37:26.283

是的，这是相当标准的。出现在`[]`括号内的项目是可选的。如果您不打算提供第二个参数，那么您也不提供逗号。

你不会写`indexOf('abc',);`

# r - 在 R 编辑器中设置文本和背景颜色

> ID：14907698
> 
> 赞同：2
> 
> 时间：2013-02-16T06:35:43.753
> 
> 标签：r

我是新的 R 用户（运行 Windows 7）。我有视力障碍，所以我想在控制台和编辑器中设置文本和背景颜色，以便我看到。我正在使用基本的 Rgui 和 R 编辑器进行脚本编辑（我使用的屏幕阅读器/放大镜程序不会读取 RStudio 或 RCmdr 中的文本，这就是我使用基本 GUI 的原因）。我已经在 Rconsole 文件中设置了控制台和寻呼机的文本和背景颜色。但是我找不到为编辑器做同样的事情的方法。有人有什么建议吗？

相关地，如果您知道另一个可以让我更轻松地设置背景和文本颜色的编辑器（除了默认的 R 编辑器），我将非常感谢您提供的信息。

非常感谢！

# c++ - 获取项目数组。使用 CCMenu::createWithArray

> ID：14907700
> 
> 赞同：0
> 
> 时间：2013-02-16T06:36:18.680
> 
> 标签：c++, arrays, cocos2d-x

请帮助我，我是 cocos2d-x 的初学者。我有物品清单。我如何使用项目数组执行此操作，使用 CCMenu::createWithArray 在最后显示此列表？我想控制菜单数组，从数组中添加/删除项目（从我的列表菜单中）。

这是代码：

`` ...

```
CCLabelTTF* pp0BtnLabel = CCLabelTTF::create( string(ItemName[0]).c_str(), "Arial", TITLE_FONT_SIZE);   
CCMenuItemLabel *pp0Item = CCMenuItemLabel::create(
            pp0BtnLabel,
            this,
            menu_selector(Window::CheckItemCallback));
pp0Item->setTag(ItemTag[0]);    
CC_BREAK_IF(! pp0Item);
pp0Item->setPosition(ccp(size.width*0.3f, size.height*0.8));

CCLabelTTF* pp1BtnLabel = CCLabelTTF::create( string(ItemName[0]).c_str(), "Arial", TITLE_FONT_SIZE);   
CCMenuItemLabel *pp1Item = CCMenuItemLabel::create(
            pp1BtnLabel,
            this,
            menu_selector(Window::CheckItemCallback));
pp1Item->setTag(ItemTag[0]);    
CC_BREAK_IF(! pp1Item);
pp1Item->setPosition(ccp(size.width*0.3f, size.height*0.75));

CCLabelTTF* pp2BtnLabel = CCLabelTTF::create( string(ItemName[0]).c_str(), "Arial", TITLE_FONT_SIZE);   
CCMenuItemLabel *pp2Item = CCMenuItemLabel::create(
            pp2BtnLabel,
            this,
            menu_selector(Window::CheckItemCallback));
pp2Item->setTag(ItemTag[0]);    
CC_BREAK_IF(! pp2Item);
pp2Item->setPosition(ccp(size.width*0.3f, size.height*0.7));

CCMenu* pMenuChapter = CCMenu::create(pp0Item, pp1Item, pp2Item, NULL);
pMenuChapter->setPosition(CCPointZero);
CC_BREAK_IF(! pMenuChapter);

this->addChild(pMenuChapter, 1);

            ... 
```

``

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T08:05:24.093

我不确定你的问题......但这里是你如何使用 CCArray 创建一个 CCMenu。

```
CCLabelTTF*label = CCLabelTTF::create("label text", "Arial", 32);

CCMenuItemLabel *item1 = CCMenuItemLabel::create(label, this, menu_selector(CPhysicsLayer::itemCallback));
CCMenuItemLabel *item2 = CCMenuItemLabel::create(label, this, menu_selector(CPhysicsLayer::itemCallback));
CCMenuItemLabel *item3 = CCMenuItemLabel::create(label, this, menu_selector(CPhysicsLayer::itemCallback));

CCArray*array = CCArray::create(item1, item2, item3);
CCMenu*menu = CCMenu::createWithArray(array);

/// Iterate over the menu items
CCObject*obj = NULL;
CCARRAY_FOREACH(array, obj) {
    CCMenuItemLabel*item = (CCMenuItemLabel*)obj;
    /// Do something with the item...
} 
```

要在“运行时”将项目添加到菜单，然后使用 CCMenu::addChild 方法（和 removeChild 删除项目）。

希望能帮助到你。

# php - 根据表中的产品获取计数值

> ID：14907701
> 
> 赞同：1
> 
> 时间：2013-02-16T06:36:25.517
> 
> 标签：php, mysql

从下表中获取计数值

有一个 table1 值，我给出了输出。如何获得输出我需要 php mysql 代码来输出这个输出。

表格1

对不起伙计们，我不知道如何创建表。只是我创建的。该表包含 3 行

空格表示为####。

```
id #### product #### reactions
------------------------
1\.    axe     ####      bad
2\.    colgate ####  good
3\.    axe    ####   normal
4\.    axe    ####   good
5\.    axe    ####   bad
6\.    colgate ####  good
7\.    axe     ####  bad
8\.    axe     ####  normal
9\.    axe      #### good
10\.   colgate  #### bad 
```

输出

```
id #### product #### good #### bad #### normal ##

1\.    axe   ####   2   ####  3   #### 2
2\.   colgate  #### 2   ####  1   #### 0 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T06:43:51.307

```
SELECT id, product, SUM(reactions = 'bad') AS bad, SUM(reactions = 'good') AS good,
    SUM(reactions = 'normal') AS normal
FROM yourtable
GROUP BY product 
```

# ruby-on-rails - Rails：RSpec：使用全局路径变量似乎只在“it”块内工作

> ID：14907703
> 
> 赞同：1
> 
> 时间：2013-02-16T06:36:26.897
> 
> 标签：ruby-on-rails, ruby, testing, rspec, rspec-rails

在学习 Michael Hartl 的 Rails 教程时，我在测试部分尝试了一些自定义函数，但遇到了令我惊讶的限制。基本上，全局路径变量（例如“root_path”）仅在 RSpec 测试的“描述”块中的“it”部分的“do...end”块中起作用。

我相信以下细节可以归结为一个问题，“it”块有什么特别之处，它使“root_path”能够在那里工作，而不能在“it”块之外工作？

（我已经确定了一个解决方法，但我很好奇这种行为是否有可靠的解释。）

**文件：** spec/requests/static_pages_spec.rb

**这失败了：**

```
require 'spec_helper'

def check_stable(path)
  it "should be stable" do
    get path
    response.status.should be(200)
  end
end

describe "StaticPages" do
  describe "Home => GET" do
    check_stable(root_path)
  end
end 
```

**这成功了：**

```
require 'spec_helper'

describe "StaticPages" do
  describe "Home => GET" do
    it "should be stable" do
      get root_path
      response.status.should be(200)
    end
  end
end 
```

失败基本上是：

```
$ bundle exec rspec spec/requests/static_pages_spec.rb
Exception encountered: #<NameError: undefined local variable or method `root_path' for #<Class:0x00000004cecd78>> 
```

...知道为什么吗？

我尝试了关于这两个线程的所有建议：

[Hartl 教程第 5.3.2 节：Rails 路由](https://stackoverflow.com/questions/12752340/hartls-tutorial-section-5-3-2-rails-routes)

[Rspec 和命名路由](https://stackoverflow.com/questions/9475857/rspec-and-named-routes)

在我解决上述问题之前，没有任何工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:22:40.827

是的，命名路线仅在`it`或`specify`块内有效。但是修改代码很容易：

```
def should_be_stable(path)
  get path
  response.status.should be(200)
end

describe "StaticPages" do
  describe "Home => GET" do
    it { should_be_stable(root_path) }
  end
end 
```

你钢铁需要[包括 url_helpers](https://stackoverflow.com/questions/9475857/rspec-and-named-routes)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T07:25:04.367

`it`块（或`specify`块）表示实际测试。在测试中，您将可以访问完整的 Rails 和 Rspec 助手；在测试之外，不是那么多（正如你已经制定的那样）。

# opencv - SIFT opencv2.3.1/2.4.3 都给出非常奇怪的描述符..like 7., 29., 39., 11., 2.3.1 给出非常奇怪的描述符

> ID：14907711
> 
> 赞同：0
> 
> 时间：2013-02-16T06:37:31.993
> 
> 标签：opencv, sift, feature-descriptor

这是 SIFT 的非常简单的代码，我得到的是非常奇怪的描述符。它们正确吗？

> 描述符：[0., 7., 29., 39., 11., 0., 0., 0., 32., 30., 39., 52., 16., 0., 1., 12\. , 38., 14., 10., 20., 28., 93., 45., 37., 93., 3., 6., 11., 23., 107., 24., 80., 0 ., 2., 47., 53., 0., 1., 9., 8., 104., 85., 35., 41., 1., 10., 32., 19., 130., 73., 0., 0., 8., 76., 31., 42., 61., 40., 10., 5., 83., 130., 28., 31., 3., 0\. , 0., 0., 0., 2., 12., 17., 60., 4., 0., 0., 0., 31., 76., 83., 130., 38., 10 ., 6., 15., 10., 16., 89., 19., 21., 16., 23., 130., 94., 7., 3., 1.]

```
#include "stdafx.h"
#include <iostream>
#include <cv.h>
#include <highgui.h>
#include <C:\opencv243\include\opencv2\nonfree\features2d.hpp>
using namespace cv;
using namespace std; 
int main(int argc, const char* argv[])
{
string path="matrices.xml";
   FileStorage fs(path, FileStorage::WRITE);
   cv::siftFeatureDetector detector;
   cv::SiftDescriptorExtractor extractor; 
   cv::Mat descriptors_1;
   std::vector<cv::KeyPoint> keypoints;
   const cv::Mat input=cv::imread("image path",0);
   detector.detect(input, keypoints);
   extractor.compute( input, keypoints, descriptors_1 );
   fs <<"descriptor"<<descriptors_1;
   fs.release();
   return 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T08:10:37.393

出于某种我不知道的原因，OpenCV 中实现的 SIFT 描述符[将最终值转换为`uchar`(0 - 255)](https://github.com/Itseez/opencv/blob/master/modules/nonfree/src/sift.cpp#L659)，并且从我记事起就一直这样做。这是浪费空间，因为结果值存储在浮点描述符中，而且它也阻碍了匹配。

我所做的是编译我自己的 SIFT 版本，我只是省略了到字节的转换（在链接中），我得到了很好的浮点值。

# header - cuda 5.0 与 Visual Studio 2010 中的示例 .h 链接

> ID：14907713
> 
> 赞同：3
> 
> 时间：2013-02-16T06:37:53.677
> 
> 标签：header, cuda, sample

我有 Visual Studio 2010 Ultimate 和 cuda Toolkit 5.0。样品完美运行。VS 识别 cuda 的语言、语法并且工作正常。但是当我尝试这样的事情时：

```
#include <helper_functions.h>

 #include <stdio.h>

 #include <stdio.h>

  int main()
  {
  return 0;
  } 
```

编译器找不到`helper_functions.h`（此头文件与示例一起提供，`C:\ProgramData\NVIDIA Corporation\CUDA Samples\v5.0\common\inc`并且我的程序和示例不在同一目录中。）

当我尝试使用绝对路径时：

```
 #include <C:\ProgramData\NVIDIACorporation\CUDASamples\v5.0\common\inc\helper_functions.h>
  #include <stdio.h>

 int main()
 {
 return 0;
 } 
```

> 编译器：exception.h 没有这样的文件或目录

`helper_functions.h`并且`exception.h`在同一个目录中。

我知道我必须链接它们，但我不知道如何使用 VS

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-16T15:41:25.497

您正在使用 Visual Studio 2010，因此您应该将路径添加到您的项目。只需右键单击项目名称，选择属性。在配置属性下选择 VC++ 目录。`;`在末尾添加一个额外的`Include Directories`并添加`C:\ProgramData\NVIDIACorporation\CUDASamples\v5.0\common\inc\`. 该`common`目录也可能有一个`lib`文件夹，您应该在`Library Directories`.

您应该为每个需要它们的项目执行此操作。您也可以将它们复制到您的 VS 目录下`VC\include`。

# c# - ".NETFramework,Version=v4.0,Profile=Mono" 问题 vb.net, c#

> ID：14907714
> 
> 赞同：2
> 
> 时间：2013-02-16T06:37:58.410
> 
> 标签：c#, vb.net, visual-studio-2010, mono

我已经按照这样的 2 个教程[将](http://erictummers.wordpress.com/2012/01/25/target-mono-from-visual-studio/)[单声道 2.10.8 配置文件](http://www.box.com/s/qligmtyer2log12k9027)集成到 Visual Studio 2010 中

毕竟，在选择单声道配置文件时，我遇到了一些问题：

![在此处输入图像描述](../Images/65a1e561758fe7b93393530861f7d60d.png)

如果我更改为 .net 2 框架，我没有问题： ![在此处输入图像描述](../Images/5390c4b24bd79bc75d0053cbc26fd828.png)

*   我将 C:\Program Files\Mono-2.10.8\lib\mono\4.0 的内容复制到 C:\Program Files\Reference Assemblies\Microsoft\Framework.NETFramework\v4.0\Profile\Mono。
*   创建文件夹 RedistList 并添加 FrameworkList.xml
*   将密钥添加到注册表....

还尝试创建一个 .net 4 项目，然后按照建议选择单声道 2.8 配置文件，但有相同的错误。

我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T17:08:06.193

查[这个页面](http://www.mono-project.com/GettingStartedWithMonoTools)，

**为 Visual Studio 安装 Mono 工具**

要求：

Windows XP、Vista 或 7、32 或 64 位 Visual Studio 2008 SP1 Standard 或 Professional，或 2010 Professional、Premium 或 Ultimate

# selenium - 使用 Selenium 测试 Liferay 门户

> ID：14907716
> 
> 赞同：4
> 
> 时间：2013-02-16T06:38:11.960
> 
> 标签：selenium, liferay

我想用 Selenium 测试 Liferay portlet，但问题是 Liferay 生成的元素 id 是动态的，并且似乎每次我进入 portlet 时它们都会改变。有人对我如何测试 portlet 有任何建议吗？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:57:44.120

这将取决于您的元素的结构。有多种方法可以识别元素，而不仅仅是固定的 id。

如果您有动态元素 id，则尝试使用元素的一些其他属性来唯一标识元素，例如 text() 或 name 等...有时，id 也会以通用模式生成，在这种情况下您可以尝试将其用于例如 //div[contains(@id,'fixedpart')] 或 //div[starts-with(@id,'fixedpart')]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-12T06:33:45.377

我建议使用新的 HTML5 属性，例如 data-*，例如对于某个

```
<div data-selenium-test = "foo"></div> 
```

然后用硒抓住这个元素：

```
//div[@data-selenium-test='foo'] 
```

# android - 将加速度计值存储在变量中

> ID：14907723
> 
> 赞同：0
> 
> 时间：2013-02-16T06:39:10.647
> 
> 标签：android, variables, accelerometer, android-sensors

我想知道一种将加速度计值存储到变量中的方法，特别是 X 值。我需要将值存储到一个变量中，以便我可以在另一个类中使用它，而不必依赖 onSensorChanged 来获取数据的当前读取。我的最终目标是能够根据这些值控制位图的坐标。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T08:23:42.167

如果没有 ，您将无法访问这些值`onSensorChanged()`。但是，您可以很容易地将它们传递给您的其他班级。

在具有`onSensorChanged()`. 就像是：

```
MyClass obj = new MyClass(); 
```

然后，在 MyClass 中创建一个将 x 值作为参数并更新其他内容的方法

```
public class MyClass {
    public void updateX(float x) {
        //Call all the other methods here with the new X value
    }
} 
```

然后，`onSensorChanged()`简单地使用：

```
obj.updateX(theXValue); 
```

# android - Android 应用程序未在 google play 中为平板电脑显示

> ID：14907725
> 
> 赞同：0
> 
> 时间：2013-02-16T06:39:25.343
> 
> 标签：android

我的应用程序与 Google Nexus 7 兼容，但与 BSNL 等其他平板电脑不兼容。有没有办法在 Google Play 中检查为什么应用程序与特定平板电脑不兼容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T07:33:06.810

Google play 开发者控制台上的设备可用性根据您的清单设置提供兼容设备的动态列表。因此最好从清单文件开始。检查“使用”权限。

[https://support.google.com/googleplay/android-developer/answer/1286017?hl=en&ctx=go&](https://support.google.com/googleplay/android-developer/answer/1286017?hl=en&ctx=go&)

可能是您添加了一些与 Nexus 7 不兼容的硬件功能或不兼容的屏幕尺寸。

# android - Activity 被杀死时保存接收到的 bundle 对象

> ID：14907726
> 
> 赞同：0
> 
> 时间：2013-02-16T06:39:40.670
> 
> 标签：android, bundle

我有一个以这种方式接收捆绑包的活动：

```
Bundle b = this.getIntent().getExtras();
String name = b.getString("NAME"); 
```

现在用户按下 HOME 按钮，考虑到 Activity 出于某种原因被 Android 杀死以释放内存，所以捆绑包发生的情况是它变为 NULL 并且应用程序强制关闭。如何避免这种情况？有什么办法可以克服吗？

我如何通过捆绑值恢复？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T08:48:26.917

您可以使用 android 保存数据

> protected void onSaveInstanceState (Bundle outState)

此方法在活动可能被杀死之前调用，以便将来某个时间返回时可以恢复其状态，请阅读此方法的官方文档

> [http://developer.android.com/reference/android/app/Activity.html#onSaveInstanceState(android.os.Bundle)](http://developer.android.com/reference/android/app/Activity.html#onSaveInstanceState(android.os.Bundle))

# c++ - ideone没有显示任何输出

> ID：14907730
> 
> 赞同：5
> 
> 时间：2013-02-16T06:40:16.823
> 
> 标签：c++

这段代码有问题[http://www.spoj.com/problems/BASE/](http://www.spoj.com/problems/BASE/)它在 Windows 和 linux 上运行良好，但是当我在 ideone 上运行它时，它没有显示任何输出。谁能告诉我这背后的原因是什么？

```
#include<stdio.h>
#include<math.h>
#include<string.h>
#include<string>
#include<iostream>

using namespace std;

long int convert_base10(char *num, int base)
{
int len, dig;
long int result = 0;
len = strlen(num);
//    printf("len = %d\n", len);
// converting to base 10
for(int i=0; i<len; i++)
{
    if((num[len-i-1] >= 'A') && (num[len-i-1] <= 'F'))
        dig = num[len-i-1] - 55;
    else
        dig = num[len-i-1] - 48;
    result +=  (dig * pow(base, i));
  //        printf("num[%d] = %d\n", len-i-1, dig);
}
return result;
}

void convert_basei(long int num, int base, string &result1)
{
bool error = false;
int pos = 6;
char result[7], rem;
// initially storing space on all position
for(int i=0; i<7; i++)
    result[i] = ' ';
while(num)
{
    if((num % base) >= 10)
        rem = (num % base) + 55;
    else
        rem = (num % base) + 48;
    result[pos] = rem;//printf("result[%d] = %c\n", pos, rem);
    num /= base;//    printf("quotient = %d\n", num);
    pos--;
    if(pos < 0 && num > 0)
    {
        error = true;
        break;
    }

}
if(error == true)
   result1 = "  ERROR";
else
    result1 = result;
//    cout<<"result = "<<result1<<endl;
}

int main()
{
char num[7];
string result;
int base1, base2;
while(scanf("%s%d%d", num, &base1, &base2) == 3)
{
//        printf("num = %s\nbase1 = %d\nbase2 = %d\n", num, base1, base2);
    long int temp = convert_base10(num, base1);
//        printf("temp = %ld\n", temp);
    convert_basei(temp, base2, result);
    cout<<result<<endl;
}
return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T06:46:38.893

替换此代码：

```
while(scanf("%s%d%d", num, &base1, &base2) == 3)
{
    long int temp = convert_base10(num, base1);
    convert_basei(temp, base2, result);
    cout<<result<<endl;
} 
```

使用此代码，谜团将消失：

```
printf("trying to get input\n");
while(scanf("%s%d%d", num, &base1, &base2) == 3)
{
    printf("got some input\n");
    long int temp = convert_base10(num, base1);
    convert_basei(temp, base2, result);
    cout<<result<<endl;
}
printf("got no input\n"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T07:29:35.133

我怀疑`ideone.com`.

[我克隆了您的源和输入，并进行了一些小的调整，但根本看不到任何输出。](http://ideone.com/Q8Kv9m)由于我希望看到一些输出，因此我使用页面上的“报告错误/提出建议”链接提交了一份报告。

[然后我再次克隆了它，做了一些风格上的改变，它给出了想要的结果。](http://ideone.com/G9GZLT)

* * *

### 来自 Ideone 的回应

```
Date: Fri, 8 Mar 2013 12:18:49 +0100
From: Filip Wielewski <wiele@s...>
To: paj-ideone@j...
Cc: contact@i...
Subject: Re: Please see this question on StackOverflow for an explanation...

Hi [Johnsyweb],

thank you for letting us know about this issue. There is indeed
some problem with the original source code posted by Vijay Jain.
We will examine it and try to fix it very soon.

Regards,
Filip Wielewski
Ideone Team

2013/2/16 Ideone bug/suggestion <noreply@i...>

    Ideone bug/suggestion

    category: compiler/interpreter
    type: bug
    date: 2013-02-16 08:38:16
    user: johnsyweb
    e-mail: paj-ideone@j...
    site: http://ideone.com/Q8Kv9m
    compiler: C++ (ver: gcc-4.7.2, id: 1)
    description: Please see this question on StackOverflow for
    an explanation: http://stackoverflow.com/q/14907730/78845

    My response:
    http://stackoverflow.com/a/14908061/78845

    Regards;

    --paj 
```

# ruby-on-rails - 根据不同的条件更改 ruby on rails 中的 url

> ID：14907734
> 
> 赞同：1
> 
> 时间：2013-02-16T06:40:48.607
> 
> 标签：ruby-on-rails, url, routes

我是 ruby​​ on rails 的新手....我想知道是否有办法根据客户的响应更改显示的 URL。我的意思是......这是一个例子：我正在制作一个项目，在各个地方显示列表......

现在一般来说，我有一个主页、一个搜索页面和一个列表的详细信息页面。因此，相应的 URL 是`officespace/home`, `officespace/search?conditions`,`officespace/detailpage?id=(controller-officespace)[&Conditions eg.---price,size,place,type...]`

因此，每次客户端发出搜索请求时，都会显示相同的 URL，当然还有给定的条件。

现在我希望如果客户只询问地点并且没有提及尺寸、价格等，那么 url 应该是`/listing/location_name`.

如果他提到其他条件，那就是`listing/(office_type)/size(x sq feet)_office_for_rent_in_locationname)`

顺便说一句（我已经有一个名为的控制器`listings`，它的目的是别的。）

等等............实际上，我想为一些事情更改 URL。无论如何，请帮助我。请不要让我参考手册。我已经阅读了它们，但它们没有提供任何直接帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T08:16:56.297

这是一个有趣的路由挑战。本质上，您的目标是创建一个特殊的表达式，以匹配您希望在用户浏览器中显示的 URL 类型。`match`这些表达式将用于`config/routes.rb`. 然后，您需要确保相关搜索页面上的表单操作和链接链接到那些专门的 URL，而不是默认页面。这是一个开始的例子：

## 路线.rb

```
match "/listing/:officeType/size/:squarefeet/office_for/:saleOrRent/in/:locationName" => "searches#index"
match "/listing/*locationName" => "searches#index"
resources :searches 
```

由于您明确提到您的`listings`控制器用于其他用途，因此我只是将我们的新控制器命名为`searches`。在此控制器的方法代码中`index`，您必须决定如何收集相关数据以传递给您的视图。上面表达式中标有 a`:`的所有内容都`match`将在哈希中传递给控制器​​，`params`就好像它是一个 HTTP`GET`查询字符串参数一样。因此我们可以做到以下几点：

## search_controller.rb

```
def index
  if params[:squarefeet] && params[:officeType] && params[:locationName]
   @listings = Listing.where("squarefeet >= ?", params[:squarefeet].to_i).
               where(:officeType => params[:officeType],
                     :locationName => params[:locationName])
  elsif params[:locationName]
     @listings = Listing.where(:locationName => params[:locationName])
  else
     @listings = Listing.all
  end
end 
```

并将用户发送到这些链接之一：

## 视图/搜索/index.html.erb

```
<%= link_to "Click here for a great office!", "/listing/corporate/size/3200/office_for/rent/in/Dallas" %> 
```

上面的示例仅在您的`Listing`模型设置与我的任意猜测完全相同的情况下才有效，但希望您可以从那里开始工作以确定您的代码需要看起来像什么。请注意，我无法在其中获得下划线。据我所知，这些路线只匹配由斜杠分隔的段。继续努力，你可能会找到解决办法。

# css - Xpages：提前输入样式完全被移动主题搞砸了

> ID：14907738
> 
> 赞同：1
> 
> 时间：2013-02-16T06:41:58.930
> 
> 标签：css, mobile, xpages, typeahead

我有一个正在构建的移动应用程序，它有一个简单的预先输入字段。

```
 <xp:inputText id="inputText1"
                value="#{contact.AlwaysAccess}">
                <xp:typeAhead mode="partial" minChars="1">
                    <xp:this.valueList><![CDATA[one
two
three
four
five
six]]></xp:this.valueList>
                </xp:typeAhead>
            </xp:inputText> 
```

我已将以下主题和规则应用于 db，以便为移动设备呈现任何以 m 前缀开头的 xpage。

```
 xsp.ajax.renderwholetree=false
    xsp.error.page.default=true
    xsp.html.doctype=HTML\ PUBLIC\ "-//W3C//DTD\ HTML\ 4.01//EN"\     "http\://www.w3.org/TR/html4/strict.dtd"
    xsp.library.depends=com.ibm.xsp.extlib.library
    xsp.persistence.mode=file
    xsp.resources.aggregate=true
    xsp.theme=oneuiv2.1
    xsp.theme.mobile.pagePrefix=m
    xsp.theme.mobile.android=iphone 
```

一旦我指定 xpage 是一个移动 xpage，类型提前字段的格式就会搞砸。

我在移动示例应用程序上查看它，同样的事情发生了。有没有其他人发现这个？除了放弃主题并从头开始造型之外，最简单的修复方法是什么？有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T20:39:07.490

这是 XPages 移动应用程序 (LAMY8ZVRG2) 上的 Ajax Type Ahead 的一个已知问题，我们希望在 Domino 9.0 之后解决这个问题。
解决方法是在 tundra.css 中包含类型的样式，如下所示...

```
 <xp:this.resources>
    <xp:styleSheet
        href="/.ibmxspres/dojoroot-1.8.0-u/dijit/themes/tundra/tundra.css">
    </xp:styleSheet>
</xp:this.resources> 
```

或者更好的是从 tundra.css 复制仅适用于 Type Ahead 控件的样式

**但**目前这是非常冒险的，因为它可能会破坏移动设备上某些 dojo 表单控件的视觉外观。
因此建议不要使用此解决方法，除非它不会影响 XPages 移动应用程序上其他控件和 UI 的显示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:52:16.620

对于我开发的移动应用程序，我在预输入方面遇到了严重问题。最后，我放弃了使用 Ext.lib 和 Dojo。我为移动 XPage 禁用了 Dojo，并将其替换为 jQuery Mobile。尽管重新编码应用程序需要一些时间，但事实证明它是值得的。“应用程序”最终运行得更好 - 样式比 XPages/Dojo 设置更简单。并且控件按预期运行。简而言之，我从反复试验转变为我在控制中:-)

只是为了让您快速了解如何包含 jQuery Mobile 而不是 Dojo，我使用带有以下代码的自定义控件：

```
 <xp:this.resources>
    <xp:script src="/xpUtil.jss" clientSide="false"></xp:script>
    <xp:linkResource rel="apple-touch-icon">
        <xp:this.href><![CDATA[${javascript:getDbPath() + "mobileHomeLogo.png"}]]></xp:this.href>
    </xp:linkResource>
    <xp:script src="/jquery-1.8.2.min.js" clientSide="true"></xp:script>
    <xp:script src="/jquery.mobile-1.2.0.min.js" clientSide="true"></xp:script>
    <xp:styleSheet href="/jquery.mobile-1.2.0.min.css"></xp:styleSheet>
    <xp:metaData name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"></xp:metaData>
    <xp:metaData name="apple-mobile-web-app-capable" content="yes"></xp:metaData>
    <xp:styleSheet href="/km2012j.css"></xp:styleSheet>
    <xp:script src="/local.js" clientSide="true"></xp:script>
</xp:this.resources>
<xp:this.beforePageLoad><![CDATA[#{javascript:facesContext.getRequestParameters().setJsLibrary(0);}]]></xp:this.beforePageLoad> 
```

如您所见，代码还包括一些我自己的 JS 库。但是你明白了....

它可能对您来说不是一个可行的解决方案，但是，它可能值得一看。

/约翰

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-03T22:09:59.470

下面的 CSS 应该使 typeahead 在移动设备上可读......

```
.dijitReset.dijitValidationContainer {
  display:none;
}
.dijitComboBoxMenuPopup {
  background-color: white;
  padding-left: 5px;
} 
```

# android - 如何在 SD 卡图像的所有活动中为页脚视图设置动画（如页脚添加 googleadds 等）

> ID：14907739
> 
> 赞同：0
> 
> 时间：2013-02-16T06:42:17.923
> 
> 标签：android, android-layout, android-widget

我是为 android 开发应用程序的新手，我需要一些帮助。

我需要为所有活动从 SDCARD 中的特定路径文件夹中的页脚动画图像，我使用页脚布局作为所有布局的通用。

我通过编写以下代码编写了用于动画图像的代码：

```
 public void AnimateActionHandler() {
    try {
        Toast.makeText(this, "My Service AnimateActionHandler",    Toast.LENGTH_LONG).show();
        final Handler mHandler = new Handler();
        final Runnable mUpdateResults = new Runnable() {
            public void run() {
                AnimateandSlideShow();
            }
        };
        int delay = 500; // delay for 1 sec.
        int period = 1000; // repeat every 2 sec.
        Timer timer = new Timer();
        timer.scheduleAtFixedRate(new TimerTask() {
            public void run() {
                mHandler.post(mUpdateResults);
            }
        }, delay, period);
    } catch (Exception e) {

        // TODO: handle exception
    }
}

public void AnimateandSlideShow() {
    try {
        Toast.makeText(this, "My Service AnimateandSlideShow", Toast.LENGTH_LONG).show();
        if (Config.ImageFilelist.isEmpty()) {
            Config.ImageFilelist = GetFileList(AddsPath);
        }
        if (Config.ImageFilelist.size() <= Config.currentimageindex) {
            Config.currentimageindex = 0;
        }

        Toast.makeText(this, "ImageFilelist::"+Config.ImageFilelist.size(), Toast.LENGTH_LONG).show();
        Log.d(TAG, "Config.currentimageindex::"+Config.currentimageindex);
        Config.FooterBitmap = BitmapFactory.decodeFile(Config.ImageFilelist.get(Config.currentimageindex).toString());
        Log.d(TAG, "Addbmp"+Config.FooterBitmap.getHeight());
        Config.slidingimage = (ImageView) findViewById(R.id.goeasy_footer);
        Config.slidingimage.setImageBitmap(Config.FooterBitmap);
        Log.d(TAG, "JOSEafter");
        Animation rotateimage =     AnimationUtils.loadAnimation(this,R.anim.splash_anim);
        Config.slidingimage.startAnimation(rotateimage);
        Config.currentimageindex = Config.currentimageindex + 1;
        if (Config.ImageFilelist.size() <= Config.currentimageindex) {
            Config.currentimageindex = 0;
        }
    } catch (Exception e) {
        Log.e(TAG, "Set image EXC"+e.toString());
    e.printStackTrace();

        // TODO: handle exception
    }
    catch (OutOfMemoryError oe) {
        try{

        }
        catch (Exception e) {
            // TODO: handle exception
        }
        // TODO: handle exception
    }
} 
```

现在我想通过服务在所有屏幕的页脚中播放这个动画，我该如何解决这个问题，任何人都可以帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:51:16.417

尽管您在 android 中有动画类的功能，但为什么要使用代码制作动画。

试试下面的例子。

[动画 Drawable](http://developer.android.com/reference/android/graphics/drawable/AnimationDrawable.html) , [Frame Animation](http://www.c-sharpcorner.com/UploadFile/88b6e5/frame-by-frame-animation/)和[其他动画示例](http://www.vogella.com/articles/AndroidAnimation/article.html#animations)

# symfony - 如何在 symfony2 中使用文件系统功能“存在”？

> ID：14907741
> 
> 赞同：1
> 
> 时间：2013-02-16T06:42:46.357
> 
> 标签：symfony

[我在这里](http://api.symfony.com/2.1/index.html)查看了 symfony2 API 文档，

Symfony\Component\Filesystem\Filesystem 中提供的文件系统功能很少

我使用了“ **mkdir** ”，效果很好，但是无法使用“ **exists** ”功能

public Boolean exists(string|array|Traversable $files)

它给出了错误

```
Fatal error: Call to undefined function Survey\BlogBundle\Controller\exists() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:59:37.740

你确定不是

```
bool file_exists ( string $filename ) 
```

[http://php.net/manual/de/function.file-exists.php](http://php.net/manual/de/function.file-exists.php)

* * *

查看文档，我发现有一个存在函数。所以也许你错过了添加使用声明

```
use Symfony\Component\Filesystem\Filesystem; 
```

但是您仍然可以使用`file_exists`

* * *

关于如何使用文件系统的详细信息[http://symfony.com/doc/master/components/filesystem.html](http://symfony.com/doc/master/components/filesystem.html)

> 2.1 版新功能：文件系统组件是 Symfony 2.1 的新功能。以前，Filesystem 类位于 HttpKernel 组件中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-05-12T21:16:14.410

在 Symfony 5 中，它确实有效。看起来它需要一个文件数组。

```
use Symfony\Component\Filesystem\Filesystem;

$fsObject = new Filesystem();
 if ($fsObject->exists(['path/to/file/filename'])){
     //Do something
 } 
```

# linux - 编辑 [section] key=value 配置文件的功能（freedesktop Linux）

> ID：14907747
> 
> 赞同：1
> 
> 时间：2013-02-16T06:44:00.403
> 
> 标签：linux, configuration, format, ini

我正在寻找用于编写/读取 key=value 配置文件的常用函数。可能类似于用于修改 Windows 使用的 .INI 文件的 WritePrivateProfileString() 函数。

我特别想编辑 .desktop 和 .directory 文件，如[http://www.freedesktop.org/wiki/Specifications/desktop-entry-spec](http://www.freedesktop.org/wiki/Specifications/desktop-entry-spec)所述， 所以我需要一些符合 freedesktop 规范的（C/C++）函数例如保留预先存在的间距、注释和 UTF-8。

我确实有自己的函数来读取和写入此类文件，但我不确定我的函数是否会保留规范中的所有情况，并且它们仅支持 ASCII，因此它们仅适用于创建和读取具有我的值的此类文件需要（不是为了修改现有的符合文件）。

我假设 Linux 桌面（KDE、Gnome）和文件管理器（Nautalus、Dolpin、Konqueror）使用一些通用库。

我发现了以下内容，但我不确定哪个符合 freedesktop 规范：

*   Boost.property_tree (支持 UTF )
*   QSettings（仅 Qt？）
*   ciniparser（只读？）
*   gnome 键值文件解析器（只读？）

# javascript - 一个html页面javascript中的两个简单滑块

> ID：14907748
> 
> 赞同：0
> 
> 时间：2013-02-16T06:44:07.130
> 
> 标签：javascript, jquery, slideshow, easyslider

我在幻灯片中使用了简单的滑块。我需要在同一个 html 页面的两个地方使用同一个滑块。

我已经尝试过了，但只有一个滑块在工作。

```
<script type="text/javascript" src="js/easySlider.packed.js"></script>
<script type="text/javascript">
    $(document).ready(function(){   
        $("#slider_single").easySlider();
        $("#slider_specials").easySlider(); 

});
</script> 
```

html代码：

```
<div id="slider_single">
<ul>
<li><a href="#"><img src="images/slider1.jpg" alt="" /></a></li>
<li><a href="#"><img src="images/slider2.jpg" alt="" /></a></li>
</ul>
</div>

<div id="slider_specials">
<ul>
<li><a href="#"><img src="images/slider3.jpg" alt="" /></a></li>
<li><a href="#"><img src="images/slider4.jpg" alt="" /></a></li>
</ul>
</div> 
```

如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:52:13.147

在 div 上，您需要确保应用了 CSS 样式。这是我知道的一种样式，可以在同一页面上使用两个滑块。

```
<div id="slider" style="width: 696px; height: 241px; overflow: hidden;">
  <ul style="width: 4176px; margin-left: -2088px;">
    <li style="float: left; margin-left: -696px;">
    <li style="float: left;" />
    <li style="float: left;" />
    <li style="float: left;" />
  </ul>
</div> 
```

在您的两个滑块上尝试一下，看看是否可以使它们都在同一页面上工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T07:02:25.067

@lifeline 请参阅此链接以在同一 HTML 页面中制作两个滑块的[Easy Slider](http://cssglobe.com/lab/easyslider1.7/03.html)

（或）像这样更改您的脚本

```
<script type="text/javascript">
        $(document).ready(function(){   
            $("#slider_single").easySlider({
                auto: true,
                continuous: true

            });
            $("#slider_specials").easySlider({ 
                auto: true,
                continuous: true
            });
        }); 
    </script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T07:15:25.867

在一个文档上制作两个简单的滑块我没有任何问题。

签出小提琴：http: [//jsfiddle.net/Qetmn/](http://jsfiddle.net/Qetmn/)

## 使用的html：

```
<div class='content' id="slider_single">
<ul>
    <li><a href="http://templatica.com/preview/30"><img src="images/01.jpg" alt="Css Template Preview" /></a></li>
    <li><a href="http://templatica.com/preview/7"><img src="images/02.jpg" alt="Css Template Preview" /></a></li>
    <li><a href="http://templatica.com/preview/25"><img src="images/03.jpg" alt="Css Template Preview" /></a></li>
    <li><a href="http://templatica.com/preview/26"><img src="images/04.jpg" alt="Css Template Preview" /></a></li>
    <li><a href="http://templatica.com/preview/27"><img src="images/05.jpg" alt="Css Template Preview" /></a></li>
</ul>
</div>
<div class='content' id="slider_specials">
<ul>
    <li><a href="http://templatica.com/preview/30"><img src="images/01.jpg" alt="Css Template Preview" /></a></li>
    <li><a href="http://templatica.com/preview/7"><img src="images/02.jpg" alt="Css Template Preview" /></a></li>
    <li><a href="http://templatica.com/preview/25"><img src="images/03.jpg" alt="Css Template Preview" /></a></li>
    <li><a href="http://templatica.com/preview/26"><img src="images/04.jpg" alt="Css Template Preview" /></a></li>
    <li><a href="http://templatica.com/preview/27"><img src="images/05.jpg" alt="Css Template Preview" /></a></li>
</ul>
</div> 
```

## 使用的CSS：

```
 .content {
    position:relative;
 }
 .content img {
    width:696px;
    height:241px;
 }
 .content ul, .content ul li {
    margin:0;
    padding:0;
    list-style:none;
 } 
```

## 和你相同的 jQuery：

```
$("#slider_specials").easySlider();
$("#slider_single").easySlider(); 
```

## 这个`easy slider`插件：

```
http://cssglobe.com/lab/easyslider1.7/js/easySlider1.7.js 
```

# android - 加载 3d .obj 文件并将背景图像添加到 android 中的动态壁纸？

> ID：14907750
> 
> 赞同：0
> 
> 时间：2013-02-16T06:44:14.173
> 
> 标签：android, 3d, live-wallpaper

我想在动态壁纸中加载一个 3d .obj 文件并为其设置动画。我使用 RAJAWALI 库来加载它。问题是 3d obj 文件已成功加载和动画，但在某些 android 设备中未加载加载背景图像。代码如下：

```
protected void initScene() {

    DirectionalLight localDirectionalLight = new DirectionalLight(0.0F, 0.6F, 0.4F);
localDirectionalLight.setPower(3.0F);
PointLight mLight = new PointLight();
mLight.setPosition(0, 0, 0);
mLight.setPower(13);
Plane plane = new Plane(70, 70, 1, 1, 1);
plane.addLight(mLight);
plane.setMaterial(new SimpleMaterial());
plane.addTexture(mTextureManager.addTexture(BitmapFactory.decodeResource(mContext.getResources(), R.drawable.pozadina)));  
addChild(plane);    
plane.setZ(10);

    try
    {
      ObjParser localObjParser = new ObjParser(this.mContext.getResources(), this.mTextureManager, R.raw.allah);
      localObjParser.parse();
      this.strela = localObjParser.getParsedObject();
      this.strela.addLight(localDirectionalLight);
      if (this.tekstura == null)
      {
        BitmapFactory.Options localOptions2 = new BitmapFactory.Options();
        localOptions2.inPurgeable = true;

        this.strela.setColor(Color.WHITE);
      }
      this.strela.setScale(2.0F);
      addChild(this.strela);
      this.mCamera.setPosition(0.0F, 0.0F, -50.0F);
      this.mCamera.setFarPlane(1000.0F);
      Number3D localNumber3D = new Number3D(0.0F, 1.0F, 0.0F);
      localNumber3D.normalize();
      this.mAnim = new RotateAnimation3D(localNumber3D, 360.0F);
      this.mAnim.setDuration(10000L);
      this.mAnim.setRepeatCount(-1);
      this.mAnim.setTransformable3D(this.strela);

      return; 
    }
    catch (Exception localException)
    {
      while (true)
        localException.printStackTrace();
    }

} 
```

它在 SAMSUNG NEXUS android v4.1 上出现问题。

请帮助我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-26T09:41:22.773

这是在 Galaxy S3 上测试和工作的。所以它也应该对你有用。我在我的壁纸中使用它。尝试这个：

```
 SimpleMaterial localSimpleMaterial = new SimpleMaterial();
    Bitmap localBitmap = BitmapFactory.decodeResource(this.mContext.getResources(), R.drawable.image);
    localSimpleMaterial.addTexture(this.mTextureManager.addTexture(localBitmap));
    Plane localPlane = new Plane(10.0F, 10.0F, 1, 1);
    localPlane.setRotZ(-90.0F);
    localPlane.setScale(3.7F);
    localPlane.setPosition(0.0F, 0.0F, 10.0F);
    localPlane.setMaterial(localSimpleMaterial);
    addChild(localPlane); 
```

只需确保您的图像是 2 的幂，即 256x256、512x512 等。让我知道它是如何为您工作的。

编辑：还要确保你导入 rajawali.primitives 而不是 rajawali.math

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T13:39:08.300

问题解决了吗？那些没有渲染平面的设备是什么？是三星吗？另外请告诉我它是呈现灰色还是根本不呈现？

我问是因为我遇到了同样的问题，解决方案是调整 mip-mapping。那时我还是初学者，所以花了一些时间，但是有一个非常简单的解决方案：

[三星 Galaxy SL 的球体上不显示纹理](https://stackoverflow.com/questions/14761154/textures-are-not-displayed-on-the-sphere-for-samsung-galaxy-sl/15096225#15096225)

# android - ActivityWatcher 和 ProcessObserver

> ID：14907751
> 
> 赞同：1
> 
> 时间：2013-02-16T06:44:20.263
> 
> 标签：android, android-framework

我想知道以下两个文件的目的：

frameworks/base/core/java/android/app/IActivityWatcher.aidl
【描述：回调接口，观察用户遍历活动。】

frameworks/base/core/java/android/app/IProcessObserver.aidl
[无描述]

我正在尝试构建一个应用程序，其中用户可以决定哪些应用程序可以在特定时间段内运行（例如，从上午 10 点到下午 4 点）。
如果用户指定的应用程序启动，我的应用程序有什么方法会收到通知？这样我的应用程序可以发送 kill 命令（我假设 root 访问是可用的。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-28T01:53:41.653

似乎`IActivityWatcher`已经从 JellyBean 开始删除了，为了监控哪个`Activity`在前台运行，您可以使用`IProcessObserver`如下：

```
mActivityManagerNative = ActivityManagerNative.getDefault();
if (mActivityManagerNative != null) {
    try {
        mActivityManagerNative.registerProcessObserver(mProcessObserver);
    } catch (RemoteException e) {
        Log.e("TAG", "onCreate() RemoteException!");
    }
 }

private IProcessObserver.Stub mProcessObserver = new IProcessObserver.Stub() {
    @Override
    public void onForegroundActivitiesChanged(int pid, int uid, boolean foregroundActivities) {
       doWhatUWantHere();
    }

    @Override
    public void onImportanceChanged(int pid, int uid, int importance) {
    }

    @Override
    public void onProcessDied(int pid, int uid) {
    }
}; 
```

PS 可以使用以下代码片段获取前台运行Activity的包名：

```
private String getForegroundPackage() {
    ActivityManager am = (ActivityManager)getSystemService(Context.ACTIVITY_SERVICE);
    List<RecentTaskInfo> taskInfo = am.getRecentTasks(1,
            ActivityManager.RECENT_IGNORE_UNAVAILABLE);
    return taskInfo.isEmpty()
            ? null : taskInfo.get(0).baseIntent.getComponent().getPackageName();
} 
```

# drupal - 如何使用 Drupal 7 中的代码创建视图？

> ID：14907754
> 
> 赞同：3
> 
> 时间：2013-02-16T06:44:28.753
> 
> 标签：drupal, drupal-7, drupal-modules, drupal-views

我们可以从管理面板创建一个视图。但我想使用 php 代码创建一个视图。谁能给我指路？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-09-10T14:05:29.677

有一些代码对我不起作用。但是这个做到了。将此 php 添加到您的 .module 文件中。然后创建一个views文件夹，然后把你所有的views放在那里，扩展名为.inc。每个视图文件都将简单地`<?php`跟随视图的确切导出...

```
/**
* Implements hook_views_api().
*/
function MODULENAME_views_api() {
  return array ('api' => 3.0);
}

function MODULENAME_views_default_views() {
  // Check for all view file in views directory
  $files = file_scan_directory(drupal_get_path('module', 'MODULENAME') . '/views', '/.*\.inc$/');

  // Add view to list of views
  foreach ($files as $filepath => $file) {
    require $filepath;
    if (isset($view)) {
      $views[$view->name] = $view;
    }
  }

  // At the end, return array of default views.
  return $views;
} 
```

# jquery - Custom.js 文件在 Laravel 中不起作用

> ID：14907756
> 
> 赞同：0
> 
> 时间：2013-02-16T06:45:05.723
> 
> 标签：jquery, laravel

我有一个 custom.js 文件，其中包含一些 jQuery 内容，无论我做什么，jQuery 事件都不会被触发。

在 main.blade.php 我有一个指向 Google CDN 的标签。然后我有，

```
{{ HTML::script('js/custom.js') }} 
```

在 custom.js 文件中，我有一个简单的警报，以确保它被调用，

```
$(document).ready(function() {
   alert("jQuery worked");
} 
```

无论我做什么，警报都不会弹出。有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:17:09.747

我不确定这是否是复制粘贴错误，但您的 custom.js 文件有问题。您在该片段的末尾缺少一个右括号和分号。

```
$(document).ready(function() {
   alert("jQuery worked");
}); 
```

# php - php函数中的复选框onclick

> ID：14907757
> 
> 赞同：1
> 
> 时间：2013-02-16T06:45:08.847
> 
> 标签：php, checkbox

在我的 php 代码中选中我的复选框时，我可以编写一些代码来执行吗？

我的复选框声明是...

```
<input id="checkbox" name="click" type="checkbox" onclick="check(this)"/> 
```

我想`check()`在单击复选框时执行一个调用的函数..

```
 <script type="text/javascript">
  function check(cb)
  {
      if($("input[type=checkbox]:checked"")
      {
        //my functionality and operations
      }
  } 
```

但它不起作用，我如何在复选框的操作中执行 onclick 事件..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T06:49:23.477

首先，有一个错误。应该是`.is(":checked")`。

```
function check(cb)
{
    if($(cb).is(":checked"))
    {
        //my functionality and operations
    }
} 
```

HTML 应该是：

```
<input type="checkbox" onclick="check(this);" /> 
```

* * *

或者，如果您想在单击复选框后调用 PHP 函数，则需要编写 AJAX 代码。如果是这种情况，在你的`if`条件和检查条件下，你可以调用一个 PHP 文件，它只调用这个函数。

```
function check(cb)
{
    if($(cb).is(":checked"))
    {
        $.getScript("clickCheckbox.php");
    }
} 
```

你可以在`clickCheckbox.php`文件中编写 JavaScript 和 PHP，这样说：

### `clickCheckbox.php`

```
<?php
    header("Content-type: text/javascript");
    unlink("delete.png");
    echo 'alert("Deleted!");';
?> 
```

单击复选框后，如果状态为`checked`，它会发出对该 PHP 文件的 AJAX 调用，您将在其中删除文件`delete.png`，并在`echo`语句中输出 JavaScript 警报，以便您收到警报消息说`Deleted!`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T06:47:32.383

```
$('#myform :checkbox').click(function() {
    var $this = $(this);
    // $this will contain a reference to the checkbox   
    if ($this.is(':checked')) {
        // the checkbox was checked 
    } else {
        // the checkbox was unchecked
    }
}); 
```

您的表单在哪里有 id`myform`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T06:50:32.050

利用

```
if ($('#checkbox').is(':checked')) 
```

或在活动中

```
$('#checkbox').click(function(){

 if ($(this).is(':checked')){
    //your routine here if checked
 }else{
    //routine here if not checked
 }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-01-18T23:46:41.547

你可以这样写：`checked`在你的表中包含默认值 NO 的列。然后在您的 SELECT 语句之后显示数组。

page1.php

```
<input type=checkbox value="<?php $row['checked']?>" onclick="location.href = 'update.php?id=<?php echo $row['id']; ?>&checked=<?php if ($row['checked'] == 'YES') {  ?>NO<?php } else {?>YES<?php } ?>';" <?php if ($row['checked'] == 'YES') {  ?> checked <?php } ?>> 
```

更新.php

```
<?php  include('server.php'); ?>
<?php

$id = $_GET['id'];
$checked = $_GET['checked'];
if(isset($_GET['id']))
{

    $sql = "UPDATE table SET

                checked     = '$checked' 
                WHERE `id` = '$id' ";

    if ($conn->query($sql) === TRUE) 
    {
    } 
    else 
    {
        echo "Error updating record: " . $conn->error;
    }

    header('location: page1.php');
}

?> 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-02-16T06:49:59.847

试试这个

```
<input id="checkbox" name="click" type="checkbox" onclick="check()"/>

//in js
if( $('input[name=checkbox]').is(':checked') ){
   // your code
} 
```

# python - 随机数文件编写器

> ID：14907759
> 
> 赞同：1
> 
> 时间：2013-02-16T06:45:33.830
> 
> 标签：python, random, numbers

指示：

*   编写一个程序，将一系列随机数写入文件。
*   每个随机数应在 1 到 100 的范围内。
*   应用程序应该让用户指定文件将保存多少个随机数。

这是我所拥有的：

```
import random

afile = open("Random.txt", "w" )

for line in afile:
    for i in range(input('How many random numbers?: ')):
         line = random.randint(1, 100)
         afile.write(line)
         print(line)

afile.close()

print("\nReading the file now." )
afile = open("Random.txt", "r")
print(afile.read())
afile.close() 
```

几个问题：

1.  它不是根据用户设置的范围在文件中写入随机数。

2.  文件一旦打开就无法关闭。

3.  读取文件时，什么都没有。

虽然我认为设置没问题，但它似乎总是卡在执行上。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-16T06:49:04.740

摆脱`for line in afile:`，并取出里面的东西。另外，因为`input`在 Python 3 中返回一个字符串，所以将其转换为`int`第一个。当您必须写入字符串时，您正试图将整数写入文件。

这应该是这样的：

```
afile = open("Random.txt", "w" )

for i in range(int(input('How many random numbers?: '))):
    line = str(random.randint(1, 100))
    afile.write(line)
    print(line)

afile.close() 
```

如果您担心用户可能输入非整数，您可以使用`try/except`块。

```
afile = open("Random.txt", "w" )

try:
    for i in range(int(input('How many random numbers?: '))):
        line = str(random.randint(1, 100))
        afile.write(line)
        print(line)
except ValueError:
    # error handling

afile.close() 
```

你试图做的是遍历`afile`，当没有时，它实际上并没有做任何事情。

# hadoop - HBase 单行事务支持中的行锁定

> ID：14907762
> 
> 赞同：2
> 
> 时间：2013-02-16T06:46:29.057
> 
> 标签：hadoop, nosql, hbase, bigdata

在 HBase 中，为了提供单行事务支持，它使用行锁定概念。假设，例如

`Put p=new Put("/*Row Key*/");`该语句将锁定该行。

所以，直到我们完成

> 表.put(p)

锁不会被释放。

所以，在这之间，如果我开始一个新的 put 即

> Put p1=new Put("/*行键*");

p1 put 不应该工作，因为该行已经被锁定但是当我尝试它工作时在 HBase 0.94 中。

关于行锁[链接我在哪里看到了行锁](http://blog.cloudera.com/blog/2013/01/apache-hbase-internals-locking-and-multiversion-concurrency-control/)我的理解有什么问题吗？如果不是单行事务支持如何与行锁定一起工作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T22:56:20.253

HBase 的工作方式是，当应用 Put 以确保将行写入原子块但它不提供[快照隔离](http://en.wikipedia.org/wiki/Snapshot_isolation)时，锁保存在 regionserver（而不是客户端）中（您需要使用类似[omid](https://github.com/yahoo/omid) if你想要那个）。

假设您的两个 put 不是从同一个客户端发送的（在这种情况下，它们可能是同一事务的一部分）并且除非 HBase 将崩溃或发生超时（例如由于压缩）。您的两个 put 将根据它们到达的顺序在 HBase 中连续应用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T07:24:06.137

我相信在您发出 table.put(p) 命令之前，该行不会被锁定。当您使用 Put p = new Put("row key"); 您正在创建一个对象来保存有关写入的信息，但您实际上还没有与数据库通信。当您准备好尝试写入数据库时​​，键入 table.put(p)。如果两个 put() 操作同时发生在同一行上，其中一个可能会失败。但我认为不可能长时间持有行锁，因为锁定发生在 HBase 内部，无法从外部控制。因此，该过程如下所示：

*   您的代码将 put 发送到 hbase
*   hbase 在内部为您锁定行
*   hbase 写入数据
*   hbase 解锁行

这意味着，如果两个人尝试将 put()s 发送到同一行，则只有一个人会成功，并且 HBase 将向另一个客户端发送错误消息。

假设两个客户端尝试同时 put() 相同的行键。

*   客户端 1 发送 put
*   客户端 2 发送 put
*   hbase 锁定客户端 1 的行
*   hbase 向客户端 2 发送错误，因为该行已锁定
*   hbase 写入客户端 1 的数据
*   hbase 解锁行

按照上一题的ip地址和登录时间的例子，如果有人同时登录两次，从不同的IP地址，那么只会将一个IP写入数据库，但时间戳会匹配写入的IP .

我可能不完全理解这一点，但这是我目前的理解。我希望它有所帮助。

# python - 杀死监听给定端口的程序

> ID：14907766
> 
> 赞同：-1
> 
> 时间：2013-02-16T06:46:52.163
> 
> 标签：python

在主代码执行开始之前，我想检查一个特定的端口是否打开......如果是......然后关闭端口，以便代码可以“干净地”启动。

所以我在网上搜索并在这里找到了代码：http: [//www.paulwhippconsulting.com.au/tips/63-finding-and-killing-processes-on-ports](http://www.paulwhippconsulting.com.au/tips/63-finding-and-killing-processes-on-ports)

但只是从那里粘贴代码：

```
import os
import subprocess
import re

ports = ['1234','5678','9101']

popen = subprocess.Popen(['netstat', '-lpn'],
                         shell=False,
                         stdout=subprocess.PIPE)
(data, err) = popen.communicate()

pattern = "^tcp.*((?:{0})).* (?P[0-9]*)/.*$"
pattern = pattern.format(')|(?:'.join(ports))
prog = re.compile(pattern) #<---- error line
for line in data.split('\n'):
    match = re.match(prog, line)
    if match:
        pid = match.group('pid')
        subprocess.Popen(['kill', '-9', pid]) 
```

但它会引发错误。

```
 raise error, v # invalid expression
sre_constants.error: unknown specifier: ?P[ 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-16T06:51:36.403

发布该片段的人忘记了对他的代码进行 HTML 转义！正确的代码如下：

```
import os
import subprocess
import re

ports = ['1234','5678','9101']

popen = subprocess.Popen(['netstat', '-lpn'],
                         shell=False,
                         stdout=subprocess.PIPE)
(data, err) = popen.communicate()

pattern = "^tcp.*((?:{0})).* (?P<pid>[0-9]*)/.*$"
pattern = pattern.format(')|(?:'.join(ports))
prog = re.compile(pattern)
for line in data.split('\n'):
    match = re.match(prog, line)
    if match:
        pid = match.group('pid')
        subprocess.Popen(['kill', '-9', pid]) 
```

请注意，`<pid>`在`?P`.

# drop-down-menu - 导航栏折叠时禁用引导悬停下拉菜单

> ID：14907769
> 
> 赞同：7
> 
> 时间：2013-02-16T06:47:26.050
> 
> 标签：drop-down-menu, twitter-bootstrap, navbar

我已经实现了如下所示的 css：[How to make twitter bootstrap menu dropdown on hover 而不是单击](https://stackoverflow.com/questions/8878033/how-to-make-twitter-bootstrap-menu-dropdown-on-hover-rather-than-click)

但是，当导航栏折叠时想要禁用悬停下拉菜单，因为它有点错误。

我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-17T02:31:15.030

您可以尝试包装 CSS 以禁用媒体查询中的下拉菜单，以便它仅在特定页面宽度处禁用它...阅读媒体查询并尝试了解引导程序如何实现它们将成为关键之一调试这个。这是我用上一个答案的小提琴尝试过的。

[http://jsfiddle.net/2Smgv/5544/](http://jsfiddle.net/2Smgv/5544/)

```
@media (min-width: 767px) {
 .sidebar-nav {
    padding: 9px 0;
}

.dropdown-menu .sub-menu {
    left: 100%;
    position: absolute;
    top: 0;
    visibility: hidden;
    margin-top: -1px;
}

.dropdown-menu li:hover .sub-menu {
    visibility: visible;
}

.dropdown:hover .dropdown-menu {
    display: block;
}

.nav-tabs .dropdown-menu, .nav-pills .dropdown-menu, .navbar .dropdown-menu {
    margin-top: 0;
}

.navbar .sub-menu:before {
    border-bottom: 7px solid transparent;
    border-left: none;
    border-right: 7px solid rgba(0, 0, 0, 0.2);
    border-top: 7px solid transparent;
    left: -7px;
    top: 10px;
}
.navbar .sub-menu:after {
    border-top: 6px solid transparent;
}
} 
```

# perl - split() 但保留分隔符

> ID：14907772
> 
> 赞同：16
> 
> 时间：2013-02-16T06:47:41.360
> 
> 标签：perl, split

我以前从未使用过 Perl，我有一个基本问题。

```
 my $string1 = "Hi. My name is Vlad. It is snowy outside.";

 my @array = split('.' $string1); ##essentially I want this, but I want the period to be kept 
```

我想在'。'分割这个字符串。但我想保持这个时期。如何做到这一点？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-02-16T07:02:24.273

你可以使用lookbehind来做到这一点：

```
split(/(?<=\.)/, $string) 
```

正则表达式匹配句点后的空字符串。

如果要同时去掉句子之间的空格，可以改成：

```
split(/(?<=\.)\s*/, $string) 
```

正面和负面的lookbehind[在这里解释](http://www.regular-expressions.info/lookaround.html)

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-02-16T06:53:58.357

如果您不介意将句点拆分为数组中自己的元素，则可以使用括号告诉 split 保留它们：

```
my @array = split(/(\.)/, $string); 
```

# php - 将 css 应用于不在任何标签中的文本

> ID：14907776
> 
> 赞同：-1
> 
> 时间：2013-02-16T06:48:07.657
> 
> 标签：php, html, css

嗨，我想应用**字体大小**来**告诉我们如何改进网站：**并且不想应用为整个网站添加**正文标签的默认****字体大小。**如果我将 css 应用于**form#contact**所以它适用于所有表单的元素我想要这样的东西**form#contact (一些魔法属性的文本) { font-size: 16px;** **}****注意：不带 jquery**

 ******```
<form id="contact" method="post" accept-charset="UTF-8" action="/feedback">
    Tell us how we can improve site:
    <div id="edit-name-wrapper" class="form-item">
    <label for="edit-name">Your name: </label>
    <input type="text" value="" size="60" id="edit-name" name="name" maxlength="255">
    </div>
</form> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T06:52:53.380

没有仅用于选择文本的神奇属性。

你有几个选择：

1.  添加`font-size`表单元素
2.  将您的文本放入 HTML 元素（如`<p>`标签）中。

在您的情况下，使用`<fieldset>`而不是该`<div>`元素可能会更好，然后您可以将 a`<legend>`用于“告诉我们如何改进网站”字符串。

您的代码将如下所示：

```
<form id="contact" method="post" accept-charset="UTF-8" action="/feedback">
    <fieldset id="edit-name-wrapper" class="form-item">
        <legend>Tell us how we can improve site:</legend>
        <label for="edit-name">Your name: </label>
        <input type="text" value="" size="60" id="edit-name" name="name" maxlength="255">
    </fieldset>
</form> 
```

但是，如果您无法向现有 HTML 添加元素，您可以在 CSS 中执行以下操作：

```
form#contact {
    font-size: 24px; /* makes all text within form 24 pixels */
}
form#contact label,
form#contact input {
    font-size: 12px; /* makes input and label text 12 pixels */
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T06:51:59.853

将其保留在段落标记中并设置样式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T06:55:54.750

为什么不将“告诉我们如何改进网站”放在 div 中并为其提供类或 id，然后在 CSS 中应用字体大小。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-16T06:53:07.923

你要找的东西不存在。用 SPAN 标签包围你的文本

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-18T16:20:13.900

**注意：从未见过没有 jQuery :P Gutted。**

不幸的是，我似乎无法发表评论，所以觉得我在窃取某人的答案

查看这篇文章 -[使用 .text() 仅检索未嵌套在子标签中的文本](https://stackoverflow.com/questions/3442394/jquery-using-text-to-retrieve-only-text-not-nested-in-child-tags) #

在一些性感的 jQuery 中爆炸，这段代码不会做你想要的，但它只检索文本，而不是儿童！

```
 $(document).ready(function(){
     var $tmp = $('#listItem').children().remove();
     $('#listItem').text('').append($tmp);
}); 
```

编辑：在这个答案中添加更多内容 currnyl 摆弄我的 Js' ;)

OK完成 ：）

享受代码

[http://jsfiddle.net/G7kvH/](http://jsfiddle.net/G7kvH/)

```
 $(document).ready(function(){
    $('#listItem').children().css("color","red");

});

<div id='listItem'>
    ewrt
    ert
    ert
    ert
    <div>sfdsfsdf</div>
    <div>sfdsfsdf</div>
    <div>sfdsfsdf</div>
    <div>sfdsfsdf</div>

    ert
    ert
    ert
    ert

    <div>sfdsfsdf</div>
    <div>sfdsfsdf</div>
    <div>sfdsfsdf</div>
</div> 
```******

# css - 如何应用不同样式的链接？

> ID：14907777
> 
> 赞同：1
> 
> 时间：2013-02-16T06:48:08.070
> 
> 标签：css, hyperlink

我已使用此代码设置菜单中的链接样式

```
 a.special {
    color: #464646;
    outline: 0;
font-family: 'Raleway', sans-serif;
font-size: 17px
} 
```

不幸的是，我在文本中间还有其他链接也发生了变化。阅读此内容后：[https](https://stackoverflow.com/questions/1743355/how-can-i-make-different-html-links-different-colors) : //stackoverflow.com/questions/1743355/how-can-i-make-different-html-links-different-colors 我认为它可能有效但不知道如何应用“a.special”到一个链接。如果我要编写代码

```
a {
        color: #FFFFFF;
        outline: 0;
    font-family: 'Raleway', sans-serif;
    font-size: 10px
    } 
```

然后我需要将它应用于链接。我该怎么办？

谢谢你所有的时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T06:49:46.827

您将使用HTML 属性应用`special`该类：`class`

```
<a href="http://www.example.com" class="special">I am special!</a> 
```

选择器`a.special`将匹配，这些规则将用于设置链接样式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T09:08:05.047

您不能制作标题 7，因为只有六个不同的 HTML 标题（h1、h2、h3、h4、h5 和 h6；参考：[http](http://www.w3schools.com/tags/tag_hn.asp) ://www.w3schools.com/tags/tag_hn.asp ），但是您可以使用以下 CSS 代码制作标题 6：

```
h6.special { color:#464646; outline:0;
    font-family:Raleway, sans-serif; font-size:17px; } 
```

这个 HTML 代码：

```
<h6 class="special">I am special!</h6> 
```

PS：我删除了单引号。如果字体名称由两个或多个单词组成，则只需要使用引号，例如“Times New Roman”。

# linux - 如何从 linux 的终端打开编辑器以进行 cronjob？

> ID：14907780
> 
> 赞同：-1
> 
> 时间：2013-02-16T06:48:42.700
> 
> 标签：linux, ubuntu, cron, crontab

我想为 php 脚本设置一个 cronjob。为此，我使用 crontab -e 在被要求为编辑器键入 1-4 之后。我错误地输入了 1 但我想使用 2

如何重新使用选项 2

我是一个 ubuntu 用户。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T07:00:46.163

这是您正在寻找的命令：

```
sudo update-alternatives --config editor 
```

请注意，config 之前有*两个*破折号。

如果这不起作用，那么以下内容应该可以解决您的问题：

```
export VISUAL=emacs
export EDITOR=emacs 
```

`crontab`在检查 /usr/bin/editor 之前检查这两个变量。

如果其中任何一个环境变量对您有用，那么您可能希望将它们添加到您的`.bashrc`文件中，这样您就不必再次设置它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T06:52:09.187

我读到你可以运行这个命令（如果你不能 sudo，我想删除 sudo）

```
sudo update-alternatives --config editor 
```

# android - addToBackStack() 与 Fragment 的实例化

> ID：14907783
> 
> 赞同：0
> 
> 时间：2013-02-16T06:48:47.890
> 
> 标签：android, android-fragments, android-tabs

我已经`ActionBar` 使用标签适配器实现了带有导航标签的 Sherlock。下面是我的标签适配器类：

```
 public static class TabsAdapter extends FragmentPagerAdapter implements
        ActionBar.TabListener, ViewPager.OnPageChangeListener
{
    private final Context mContext;
    private final ActionBar mActionBar;
    private final ViewPager mViewPager;
    private final ArrayList<TabInfo> mTabs = new ArrayList<TabInfo>();

    static final class TabInfo
    {
        private final Class<?> clss;
        private final Bundle args;

        TabInfo(Class<?> _class, Bundle _args)
        {
            clss = _class;
            args = _args;
        }
    }

    public TabsAdapter(SherlockFragmentActivity activity, ViewPager pager)
    {
        super(activity.getSupportFragmentManager());
        mContext = activity;
        mActionBar = activity.getSupportActionBar();
        mViewPager = pager;
        mViewPager.setAdapter(this);
        mViewPager.setOnPageChangeListener(this);
    }

    public void addTab(ActionBar.Tab tab, Class<?> clss, Bundle args)
    {
        TabInfo info = new TabInfo(clss, args);
        tab.setTag(info);
        tab.setTabListener(this);
        mTabs.add(info);
        mActionBar.addTab(tab);
        notifyDataSetChanged();
    }

    @Override
    public int getCount()
    {
        return mTabs.size();
    }

    @Override
    public Fragment getItem(int position)
    {
        TabInfo info = mTabs.get(position);
        return Fragment.instantiate(mContext,info.clss.getName(),
                info.args);

    }

    public void onPageScrolled(int position, float positionOffset,
            int positionOffsetPixels)
    {
    }

    public void onPageSelected(int position)
    {
        mActionBar.setSelectedNavigationItem(position);
    }

    public void onPageScrollStateChanged(int state)
    {
    }

    public void onTabSelected(Tab tab, FragmentTransaction ft)
    {
        Object tag = tab.getTag();
        for (int i = 0; i < mTabs.size(); i++)
        {
            if (mTabs.get(i) == tag)
            {
                mViewPager.setCurrentItem(i);
            }
        }
    }
    public void onTabUnselected(Tab tab, FragmentTransaction ft)
    {
    }

    public void onTabReselected(Tab tab, FragmentTransaction ft)
    {
    }
} 
```

我的问题是如何使用**addToBackStack()**`Fragment.instantiate()`（或者如果有任何其他方式来处理后退按钮）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T10:25:18.680

> 我的问题是如何使用 addtobackstack 和 Fragment.instantiate 或任何其他方式来处理后退按钮

你真的不应该这样做。如果您要在 a 中使用带有片段的选项卡，`ViewPager`可以安全地假设用户在使用应用程序时可以切换/滑动很多选项卡片段。当他想退出活动时，让 BACK 按钮重新创建他的步骤可能非常令人沮丧（想象一下在切换标签 15-20 次后试图退出此活动）。

如果你真的想这样做，那么将用户的导航路径存储在一个整数列表/数组中（当滑动/切换选项卡时，存储`ViewPager`用户所在页面的 int 位置）。然后覆盖`onBackPressed`活动的方法并让它弹出（每次单击 BACK 按钮时）从前一个列表/数组移动`ViewPager`到该位置的最后一个位置（同时突出显示正确的选项卡）。

# android - ScrollView 不能很好地与 RelativeLayout 一起使用

> ID：14907794
> 
> 赞同：3
> 
> 时间：2013-02-16T06:50:27.840
> 
> 标签：android, xml, scrollview, android-relativelayout

所以我有一个 ScrollView 作为我的布局中的最高级别......在我的 ScrollView 我有一个包含其他视图的 RelativeLayout。问题在于，RelativeLayout 并没有按照应有的方式覆盖整个布局，它在大约一半的屏幕处被切断。它的宽度是屏幕的全宽，但 RelativeLayout 的高度在 ImageView 的底部停止。这是我的布局代码：

```
<?xml version="1.0" encoding="utf-8"?>    
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="horizontal" 
android:background="@drawable/graybck">

<RelativeLayout
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="horizontal" >

<ImageView
    android:id="@+id/pPicture"
    android:layout_width="200dip"
    android:layout_height="300dip"
    android:layout_alignParentLeft="true"
    android:layout_alignParentTop="true" />

<TextView
    android:id="@+id/pName"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentTop="true"
    android:layout_marginTop="29dp"
    android:layout_toRightOf="@+id/pPicture"
    android:text="Large Text"
    android:textAppearance="?android:attr/textAppearanceLarge" />

<TextView
    android:id="@+id/pBio"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignLeft="@+id/pName"
    android:layout_below="@+id/pName"
    android:layout_marginTop="22dp"
    android:text="Medium Text"
    android:textAppearance="?android:attr/textAppearanceMedium" />

<TextView
    android:id="@+id/stats"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_alignTop="@+id/pName"
    android:layout_marginRight="266dp"
    android:text="Loading Stats..." />

</RelativeLayout>

</ScrollView> 
```

任何帮助深表感谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-16T07:04:31.590

```
<Scrollview> 
    <LinearLayout>
        <RelativeLayout>
        inner part here ...
        </RelativeLayout>
    </LinearLayout>  
</Scrollview> 
```

尝试使用类似的东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T00:20:35.270

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:fillViewport="true" > 
```

# cocoa-touch - 使用php从服务器获取数据

> ID：14907797
> 
> 赞同：-2
> 
> 时间：2013-02-16T06:50:52.203
> 
> 标签：cocoa-touch

```
NSURL *url = [[NSURL alloc] initWithString:@"http://nyxmyx.com/Kinkey/KinkeyPHP/lastidretrieve.php"];
    NSData *data = [url resourceDataUsingCache:YES];
    NSString *string = [[NSString alloc] initWithData:data encoding:NSMacOSRomanStringEncoding];
    NSLog(@"result FOR ID  %@",string); 
```

我在 didenterBackgroundMethod 中使用此代码。我只想调用 lastidretrieve.php，它以字符串形式返回响应。我收到错误，因为“接收器类型 nsurl 例如消息未声明具有选择器 resourceDataUsingCache 的方法”。我有不知道这个错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T07:04:24.447

使用此代码而不是提供字符串输出的代码，然后您必须格式化该字符串以获得不期望的输出。

```
NSString *post =@"";

    NSURL *url=[NSURL URLWithString:@"http://nyxmyx.com/Kinkey/KinkeyPHP/lastidretrieve.php"];

    NSData *postData = [post dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];

    NSString *postLength = [NSString stringWithFormat:@"%d", [postData length]];

    NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];
    [request setURL:url];
    [request setHTTPMethod:@"POST"];
    [request setValue:postLength forHTTPHeaderField:@"Content-Length"];
    [request setHTTPBody:postData];

    NSError *error = [[NSError alloc] init];
    NSHTTPURLResponse *response = nil;
    NSData *urlData=[NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error];

    if ([response statusCode] >=200 && [response statusCode] <300)
    {
        //NSData *data = [responseData resourceDataUsingCache:YES];
        NSString *string = [[NSString alloc] initWithData:urlData encoding:NSMacOSRomanStringEncoding];
        NSLog(@"responseData-%@",string);
    } 
```

输出将是这样的。

```
responseData-1995<br />prabu<br />1231231233<br />antab<br />8080808080<br />1360738531881.jpg<br />No 
```

**更新**

如果您想在 URL 中添加参数而不是将帖子字符串更改为此。

```
NSString *post =[[NSString alloc] initWithFormat:@"yourArg=%@",yourArg]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T06:54:18.903

阅读`NSURL`. 此方法已弃用。你应该`[[NSData alloc] initWithContentsOfURL:url]`改用。

# jquery - 将表格行从一个选项卡表拖放到另一个选项卡表 - Jquery

> ID：14907809
> 
> 赞同：9
> 
> 时间：2013-02-16T06:52:26.983
> 
> 标签：jquery, jquery-ui, twitter-bootstrap, drag-and-drop

我有两个选项卡（使用 boostrap 构建），每个选项卡都有自己的表格。

我需要将表格行从一个选项卡拖放到另一个选项卡表中。拖动时，我想在放入表格之前打开光标下的选项卡。任何帮助表示赞赏。

这是我的 HTML 代码

```
<div class="tabbable" > 
  <ul class="nav nav-tabs" id="my-tabs">  
  <li class="active"><a  href="#tab1" data-toggle="tab"> Tab1 </a></li>  
  <li class=""><a href="#tab2" data-toggle="tab"> Tab2 </a></li>  
 </ul>
</div>  

<div class="tab-content">
 <div class="tab-pane active" id="tab1">
   <table id='table-draggable1'>  
   <thead>  
    <th>col1</th>  
    <th>col2</th>  
    <th>col3</th>  
    <th>col4</th>  
  </thead>  
 <tbody>  
   <tr>   
    <td>256</td>                                                                                         
    <td>668</td>                                                              
    <td>100.95</td>  
    <td>1.82</td>                                                                  
  </tr>  
  <tr>  
   <td>256</td>                                                                                         
   <td>668</td>                                                              
   <td>100.95</td> 
   <td>1.82</td>                                                                
  </tr>  
 </tbody> 
 </table> 
 <div class="tab-pane" id="tab2">
   <table id='table-draggable2'>  
   <thead>  
    <th>col1</th>  
    <th>col2</th>  
    <th>col3</th>  
    <th>col4</th>  
  </thead>  
 <tbody>  
   <tr>   
    <td>256</td>                                                                                         
    <td>668</td>                                                              
    <td>100.95</td>  
    <td>1.82</td>                                                                  
  </tr>  
  <tr>  
   <td>256</td>                                                                                         
   <td>668</td>                                                              
   <td>100.95</td> 
   <td>1.82</td>                                                                
  </tr>  
 </tbody> 
 </table> 

</div> 
```

这是我的 JS 代码

```
$('.table-draggable1 tbody').draggable();  

$('#my-tabs > li').droppable({  
  over:function(event, ui){            
  console.log(event.target);              
 },
  drop:function(event,ui){            
 }    
}); 
```

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-02-20T15:08:58.777

这是一个结合 jqueryUI droppable 和 sortable 以满足您的要求的解决方案：

```
$(document).ready(function() {
    $tabs = $(".tabbable");
    $('.nav-tabs a').click(function(e) {
        e.preventDefault();
        $(this).tab('show');
    })

    $( "tbody.connectedSortable" ).sortable({
        connectWith: ".connectedSortable",
        items: "> tr:not(:first)",
        appendTo: $tabs,
        helper:"clone",
        zIndex: 99999,
        start: function(){ $tabs.addClass("dragging") },
        stop: function(){ $tabs.removeClass("dragging") }
    });

    var $tab_items = $( "ul:first > li", $tabs ).droppable({
      accept: ".connectedSortable tr",
      hoverClass: "ui-state-hover",
      over: function( event, ui ) {
        var $item = $( this );
        $item.find("a").tab("show");
      }
    }); 
}); 
```

**编辑：** [**链接到 jsfiddle**](http://jsfiddle.net/martyk/Kzf62/85/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-02-13T18:48:47.637

我找到了一个可以完成这项工作的 jQuery 插件： [TableDnD](http://isocra.github.io/TableDnD/)

对于 bootstrap，有[bootstrap-table](https://bootstrap-table.com/docs/extensions/reorder-rows/)使用这个 jQuery 插件对表行重新排序。

# html - div内容改变位置

> ID：14907811
> 
> 赞同：1
> 
> 时间：2013-02-16T06:52:40.633
> 
> 标签：html, css

我有一个绝对的标题 div，所以我想让它固定，但如果我这样做，里面的内容开始改变调整窗口大小的位置。我可以使用什么技巧来实现一个固定的标题 div，它不会在窗口调整大小时移动内容？下面是我的代码：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"  
"http://www.w3.org/TR/html4/strict.dtd"> 
<head>
<title>Client  </title>

<style type="text/css">
.heading {position:fixed; visibility:show; width:100%;  left: 0px; top: 0px; z-index:3;
 border-bottom:5px solid #ccc; } 
 header{
 position:absolute;
     width: 100%;
    height: 60px !important;
    z-index:7;
    top: 0px;
}

/*My div position*/
.positioning-container{position:relative; 
width:1000px;  margin:0 auto 0 auto;
 black solid; padding:0px;

   padding:60px 0 30px 0; 
  border-bottom:0px; padding:0px;
 background:#eee;}

.inner-container{position:relative; 
 background:#fff; padding:0px;
   padding:60px 0 30px 0; }
/*My div position*/
</style>
</head>
<body>
<div class="positioning-container">
<div class="inner-container" align = "center">
<header>
<div class= "heading" style="width:100% ; height:50px; background-color:#00A5C6">
<table id ="headertable" align="left"><tr><td>
<a href="index.php"><h2 class= "logo">Client Review</h2><td>&nbsp;</td></a></td><td>
<label>Search</label><input typ= "text"></td>
<td><a href="index.php" class="button middle">search</a></td>
<td><a href="login.php" class="button middle">Login</a></td>
<td><a href="register.php" class="button middle">Add Client</a></td>
<td><a href="logout.php" class="button middle">Logout</a></td>
<td align="left" class="profile"><img src="bhubezi/images/logos/nopic.png" width="50" 

height="40"></td>

</tr>
</table>
</div>
</header>
<div class="content">
content
</div>
</div>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:05:10.607

你可以给你的 .heading 类一个最小宽度。

所以在你的CSS上添加类似

```
min-width:700px; 
```

在您的 .heading 样式上

# javascript - 使用ajax更改内容后jquery中的按键输入未触发

> ID：14907819
> 
> 赞同：0
> 
> 时间：2013-02-16T06:53:47.927
> 
> 标签：javascript, jquery, html, ajax, django

我有 jquery 代码来使用 ajax 发送请求，但是在成功后功能按键不再触发这是我的代码

```
 $(".id_sort").bind('keypress',function(e){
    if (e.which == 13){
        var index_fix = [];
        var index_ori = [];
        for (i=0;i < $("tbody tr").length; i++){
            index_ori.push(i);
        }
        $(".id_sort").each(function(){
            index_fix.push(Number($(this).val())-1); 
        });
        if (JSON.stringify(index_fix) !== JSON.stringify(index_ori)){
            data = { key : 'sort', index : JSON.stringify(index_fix)};
            $.ajax({
                url : "/ajax/",
                data : data,
                type : "POST",
                cache : false,
                success : function (resp){
                        $(".data").html(resp);
                        // what should i do here..keypress enter doesn't work in second    time
                } 
            });     
        }
        else {
            alert("data sama coy");
        }
    }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T07:08:03.743

检查您的浏览器控制台是否有 JavaScript 错误。我怀疑可能是 JavaScript 在第一次按键后抛出错误并且不再运行此代码。

如果 .id_sort 类的任何字段中除了空白之外还有其他任何内容，那么当您转换为数字时您会得到 NaN 并且当您将值传递给服务器时，它是否会接受 NaN 作为值？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T07:30:44.303

在我看来，您绑定的 dom 节点可能会被您的`$(".data").html(resp);`调用替换/覆盖。绑定到事件仅适用于已经在 dom 中的节点。

因此，如果是这种情况，那么您要么需要在替换 dom 后在成功回调中重新绑定，要么可以将 click 事件绑定到更高的节点。例如：`$(".data").on("keypress", ".id_sort", function() { ... });`

# javascript - JS：在第 n 个字符交互后删除所有内容

> ID：14907821
> 
> 赞同：0
> 
> 时间：2013-02-16T06:53:50.687
> 
> 标签：javascript

尝试将 RGBA 转换为 HEX，丢弃透明度。将 RGB 转换为 HEX 的方法有很多，似乎从 RGBA 中获取 HEX 的最简单方法是简单地丢弃 alpha 的内容。

希望转这个：

`rgba(255,255,255,0.95)`

进入这个：

`rgb(255,255,255)`

然后使用这个： [http ://haacked.com/archive/2009/12/29/convert-rgb-to-hex.aspx](http://haacked.com/archive/2009/12/29/convert-rgb-to-hex.aspx)

要得到`#FFFFFF`

也可以直接转换，这似乎只是一个简单的子字符串操作，目前我还没有意识到。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:11:35.960

也许您正在寻找这个：

```
input.replace(/rgba\((\d+,\d+,\d+),[\d.]+\)/,"rgb($1)") 
```

正则表达式的解释：

*   `/`- 正则表达式的开始
*   `rgba\(`- 字面意思`rgba(`
*   `(`- 捕获组的开始
*   `\d+,\d+,\d+`- 三组数字，以逗号分隔
*   `)`- 捕获组结束
*   `,[\d.]+\)`- 一个逗号、一组数字和小数点以及一个右括号
*   `/`- 正则表达式结束

替换为：literal `rgb(`，捕获的字符串，literal`)`

为了使这个正则表达式更普遍适用，在规范允许的地方允许空格：

```
input.replace(/rgba\((\s*\d+\s*,\s*\d+\s*,\s*\d+\s*),\s*[\d.]+\s*\)/,"rgb($1)") 
```

# iphone - 仅在启用编译器优化时发生的目标 C 段错误

> ID：14907823
> 
> 赞同：4
> 
> 时间：2013-02-16T06:54:11.113
> 
> 标签：iphone, ios, objective-c, compiler-construction, optimization

我很难在 iOS 上调试一个似乎只发生在 Release 版本中的问题，这似乎暗示优化器正在做一些不能很好地与我的代码配合使用的事情。崩溃的代码是将一些二进制数据序列化为 NSMutableData 实例的代码，如下所示。

```
[_data increaseLengthBy:sizeof(CFSwappedFloat64)];
*((CFSwappedFloat64 *)[self pointerAtOffset]) = CFConvertFloat64HostToSwapped(value);
_offset += sizeof(CFSwappedFloat64); 
```

_data 是一个 NSMutableData 实例。pointerAtOffset 和该类的 init 方法定义如下。

```
- (unsigned char *)pointerAtOffset {   
    return ((unsigned char *)_data.mutableBytes) + _offset;
}

- (id)init {
    if( self = [super init] ) {
        _data   = [[NSMutableData alloc] initWithCapacity:1028];
        _offset = 0;
    }
    return self;
} 
```

现在奇怪的是，如果我添加一个 NSLog 打印语句，它会修复错误。

```
[_data increaseLengthBy:sizeof(CFSwappedFloat64)];
NSLog(@"%d - %d", (int)_data.mutableBytes, _offset);
*((CFSwappedFloat64 *)[self pointerAtOffset]) = CFConvertFloat64HostToSwapped(value);
_offset += sizeof(CFSwappedFloat64); 
```

有什么想法可能导致这种情况吗？由于 NSLog 语句而部署有效的代码有点令人不安。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T05:24:10.427

这让我想起了 armv6 Thumb 指令问题。如果您更改调试构建设置以优化为最快、最小并且它崩溃，那么这就是您的问题。

# ios - IOS - 由于未捕获的异常“NSInvalidArgumentException 无法识别的选择器发送到实例 0x7a9a2c0”而终止应用程序

> ID：14907828
> 
> 赞同：1
> 
> 时间：2013-02-16T06:55:08.730
> 
> 标签：ios, audio

我对 ios 开发非常陌生，我还不太了解控制台显示的错误。

这是错误：

**由于未捕获的异常“NSInvalidArgumentException”而终止应用程序，原因：“-[NVViewController Play:]: unrecognized selector sent to instance 0x7a9a2c0”**

我把我的代码放在下面，当我触摸播放按钮时会发生错误。

```
#import "NVViewController.h"

@implementation NVViewController

@synthesize reproductor;

- (void)viewDidLoad
{
    [super viewDidLoad];

    NSError* error;

    NSString* ruta = [[NSBundle mainBundle] pathForResource:@"BackgroundMusic" ofType:@"mp3"];
    NSURL* url = [[NSURL alloc] initFileURLWithPath:ruta];

    self.reproductor = [[AVAudioPlayer alloc] initWithContentsOfURL:url error:&error];

    [self.reproductor prepareToPlay];
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (IBAction)playBackgroundMusic:(id)sender {
    [self.reproductor play];
}

- (IBAction)stopBackgroundMusic:(id)sender {
    [self.reproductor stop];
}
@end 
```

和标题。

```
@interface NVViewController : UIViewController

@property (nonatomic,strong) AVAudioPlayer * reproductor;

- (IBAction)playBackgroundMusic:(id)sender;
- (IBAction)stopBackgroundMusic:(id)sender;

@end 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T07:22:17.750

在代码中的某处（其他地方），您调用`Play:`了视图控制器而不是`playBackgroundMusic:`. 错误消息清楚地表明您发送`Play:`给了一个`NVViewController`不理解该消息的而不是。

# iphone - 如何从 CGPoint 或 CGPath 获取 UIBezierPath

> ID：14907829
> 
> 赞同：4
> 
> 时间：2013-02-16T06:55:19.733
> 
> 标签：iphone, ios, objective-c, xcode, uibezierpath

我正在开发一个应用程序，因为我需要获取 UIBezierPath 的用户输入，在这种情况下，我有 CGPoints 数组，所以我的问题是如何从 CGPoints 创建或定义 UIBezierPath。

我进行了很多搜索，但没有得到任何积极的信息，所以请为我的问题建议一些有用的信息。

例如：- 如果用户在屏幕上绘制某些东西，那么我需要检测该绘图并做出相应的响应（我也尝试使用自定义手势识别但没有成功，因此必须继续使用 UIBezierPath）。

请给我适当的指导。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-16T07:48:58.337

对于第一种情况，手动添加所有点就足够了，可能是在一个循环中。

对于第二种情况，请参阅此方法：

```
+ (UIBezierPath *)bezierPathWithCGPath:(CGPathRef)CGPath; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T07:32:54.337

```
UIBezierPath *path = [UIBezierPath bezierPath];
[path moveToPoint:point1];
[path addLineToPoint:point2];
[path addLineToPoint:point3];
//... 
```

# javascript - 将 javascript 添加到 HTML 文件并使用准备好的文档

> ID：14907831
> 
> 赞同：0
> 
> 时间：2013-02-16T06:55:36.083
> 
> 标签：javascript, jquery, document-ready

所以我有一个无法编辑的静态 HTML 页面，我需要向其中添加 jQuery，然后在准备好的文档上进行一些 div 操作（高度）。我发现[这篇文章](https://stackoverflow.com/questions/1140402/how-to-add-jquery-in-js-file)描述了如何将其插入页面，效果很好。我将它添加到我的 javascript 文件中，并将其插入到页面中。问题是我需要在同一页面上对 $(document).ready() 执行一些操作，但它说 $ 未定义。

我想做的是这样的：

```
var script = document.createElement('script');
script.src = 'http://jqueryjs.googlecode.com/files/jquery-1.2.6.min.js';
script.type = 'text/javascript';
document.getElementsByTagName('head')[0].appendChild(script);

$(document).ready(function() {
   // Resize my div's to the browser window
}); 
```

但我似乎无法让它工作。这可能吗？如何？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:14:19.833

```
var script = document.createElement('script');
script.src = 'http://jqueryjs.googlecode.com/files/jquery-1.2.6.min.js';
script.type = 'text/javascript';
script.onload = resize;                    //most browsers
script.onreadystatechange = function() {   //ie
    if (this.readyState == 'complete') {
        resize();
    }
}

document.getElementsByTagName('head')[0].appendChild(script);

function resize() {
   //code goes here
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T07:14:06.927

这是由于在 JS jQuery 文件加载之前触发了 ready 事件。这是一个关于如何做到这一点的好教程。

[http://www.ejeliot.com/blog/109](http://www.ejeliot.com/blog/109)

尽管像这样加载您的 jQuery，但这不会帮助您的页面性能。您真的应该尝试最小化您的 JS 并使用尽可能少的请求以获得最佳用户体验。

另外，你不需要写

```
$(document).ready(function() { }); 
```

你可以写

```
$(function() { }); 
```

# apache-flex - 异步缩略图生成

> ID：14907836
> 
> 赞同：1
> 
> 时间：2013-02-16T06:56:27.360
> 
> 标签：apache-flex, actionscript, air, flex4

我创建了一个生成缩略图的例程，基本流程如下：

```
1) get all jpg url from directory
2) iterate all the url
   2.1) load url into a bitmap using URLRequest
   2.2) resize the bitmap to small size
   2.3) encode the bitmap into jpg
   2.4) write the jpg into a file
3) update list dataprovider with thumb url and refresh 
```

这适用于 1 个文件，但在 2 个或更多文件上失败，这是因为步骤 2.1 到 2.4 包含在具有异步方法的静态函数中。2.1 是异步的，resize 是异步的，encode 是异步的，每个都通过匿名函数嵌套等待完成事件。

到下一次迭代到达步骤 2.1 时，它将传递新的 url，并且上一次迭代的回调方法将使用它。

有什么更好的方法来解决这个问题？我是否只是创建一个类来执行第 2 步并每次都实例化它而不是静态函数？我觉得它有点重。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-17T07:58:25.783

正如您所说，您的函数需要保存它们的状态，它们需要所有操作序列的通用数据。这正是发明类的原因。

您不会因为 adobe 将它与 AsyncToken 等一起使用而使用这种“重”方法而感到抱歉。如果这段代码不是你程序性能的瓶颈，你一定要使用类：它会让你的代码更清晰。

然而，如果你觉得这里的性能很重要，你可以让你的迭代开始异步：如果达到了最大的开始操作，那么在其中一个完成之前不要开始新的操作。在这种情况下，您可以创建此类类的池并重用它们。

但是，我猜在您的情况下，位图操作的持续时间与简单类的实例化相比会很大，您可以忽略实例化开销）。

你也可以按照你现在的做法去做，只是在前一个操作100%完成之前不要开始新的操作。这是先前变体的一个特例，在这种情况下，您的主类作为建议的新类，它重用自身并且操作的最大限制为 1。

# php - mysql表行数限制？

> ID：14907837
> 
> 赞同：4
> 
> 时间：2013-02-16T06:56:37.200
> 
> 标签：php, mysql

我是 mysql 新手，我已经编写了我的第一个 php-mysql 应用程序。

我有 30 个设备列表，我希望用户从中将他们喜欢的设备添加到他的帐户中。

所以，我创建了 mysql 表“A”，其中一些设备 ID 存储在特定的用户 ID 下，像这样

```
UserID  |  Device Id

1       |  33
1       |  21
1       |  52
2       |  12
2       |  45
3       |  22
3       |  08
1       |  5 
more..... 
```

比如说，我有 5000 个用户 ID 和 30 个设备 ID。

& 如果每个用户在他的帐户记录下有 15 个设备 ID（平均）。

那么表“A”下将有 5000 X 15 = 75000 条记录

所以，我的问题是，我们可以将多少条记录存储到 mysql 表中是否有任何限制？

我上面提到的存储记录的方法是否正确？添加更多用户是否会影响查询性能？

或者有没有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T07:17:30.570

您不太可能接近具有两列仅是整数的 MySQL 表的限制。

如果您真的关心查询性能，您可以继续在两列上都添加索引。即使设备 ID 上有索引，插入/更新表的成本也可能可以忽略不计。如果您的数据库变得庞大，它可以加快诸如“哪些用户更喜欢此设备”之类的查询。您询问“此用户喜欢什么设备”的查询也将很快通过用户索引。

我只想说使这个表成为一个简单的两列表，并带有一个由两部分组成的复合键（索引）。这样，它将尽可能地原子化，并且不需要某些人可能建议“提高性能”的任何愚蠢行为。

保持原子性和正常性——您的性能会**很好**，并且不会超出 DBMS 的任何限制

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T07:10:39.747

我看不出有什么不妥。如果您希望节省一些服务器空间，请不要担心。让您的数据库完成底层工作。使用`ID - int(10) primary auto increment`. 在需要时考虑可扩展性。您的第一个目标应该是完成您正在制作的应用程序。然后测试它。如果您发现它导致了任何滞后，问题，然后开始担心解决问题的事情。不要为那些你可能根本不会面对的事情烦恼。

但是考虑到您的应用程序的规模（75k 到 1 lac 记录），这应该不是一项艰巨的任务。或者，您可以为您的用户提供这样的架构

（设备表）

```
device_id
23
45
56

user_id |  device_id
1       |  23,45,67,45,23
2       |  45,67,23,45 
```

那就是将 device_ids 存储在一个数组中，然后将特定用户的 device_id 获取为

```
$device_for_user=explode(',',$device_id) 
```

当然 device_id 是从 mysql 数据库中检索到的。所以你会有

```
$device_for_user[0]=23
$device_for_user[1]=45 
```

amd 等等。

但是这种方法不是一个很好的设计或方法。但仅供参考，这是一种方法

# sql - Sqlite：如果结果为空，则为最大子查询设置默认值

> ID：14907843
> 
> 赞同：5
> 
> 时间：2013-02-16T06:58:17.853
> 
> 标签：sql, sqlite, subquery, default, max

我想为表中的子组增加一个序列号，但如果子组不存在，那么序列应该从 1 开始：

例如，在下面，如果表中不存在任何记录，我们希望将序列设置为 1 `class=5`；如果存在这样的记录，则序列应取值 max 序列（在子组中`class=5`）+ 1：

```
update order set class=5, sequence=(select max(sequence) from order 
where class=5)+1 where order_id=104; 
```

问题是上述不适用于初始情况。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-16T07:02:56.663

在这些情况下，函数[`COALESCE()`](http://www.sqlite.org/lang_corefunc.html)非常方便：

```
UPDATE order
SET class = 5,
    sequence = coalesce(
        (SELECT max(sequence)
         FROM order 
         WHERE class=5),
        0
    ) + 1
WHERE order_id = 104 
```

`COALESCE`大多数其他 SQL 引擎（MySQL、Postgres 等）都支持它的另一个好处……

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-16T07:01:15.007

只需用`IFNULL( QUERY, 0 )`函数包围您的查询

[http://www.sqlite.org/lang_corefunc.html#ifnull](http://www.sqlite.org/lang_corefunc.html#ifnull)

# buffer - 动态缓冲行为

> ID：14907845
> 
> 赞同：2
> 
> 时间：2013-02-16T06:58:25.430
> 
> 标签：buffer, direct3d, directx-11

我有一个关于动态顶点和索引缓冲区的问题。我可以完全改变他们的拓扑吗？例如，在一帧中有一组顶点，将它们丢弃并重新创建具有自己属性的顶点，并且计数不等于先前的顶点计数。我也想知道关于索引缓冲区的信息，我可以更改动态索引缓冲区中的索引数量吗？

到目前为止，在我的应用程序中，我在尝试更新更大尺寸的索引缓冲区时收到警告：D3D11 警告：ID3D11DeviceContext::DrawIndexed：索引缓冲区没有足够的空间！[执行警告#359：DEVICE_DRAW_INDEX_BUFFER_TOO_SMALL]

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T12:53:48.020

**创建后无法更改缓冲区的大小。**

动态缓冲区允许您*更新数据*。只要不超过缓冲区的大小，您就可以向其写入新数据。

*但是缓冲区不关心数据布局。*一个大小为 200 字节的缓冲区可以容纳 100 个 short 或 50 个 float 或混合数据；任何小于或等于 200 字节的内容。

# makefile - Emscripten“权限被拒绝”，即使我 sudo enmake

> ID：14907846
> 
> 赞同：6
> 
> 时间：2013-02-16T06:58:25.460
> 
> 标签：makefile, llvm, emscripten, emmake

我在玩 emscripten，我不断收到这个令人困惑的信息

```
|[413077]-$>../emmake Makefile
Error: Exception thrown when invoking Popen in make with args: "Makefile"!
Traceback (most recent call last):
  File "../emmake", line 24, in <module>
    shared.Building.make(sys.argv[1:])
  File "/Users/jkirchartz/Dropbox/emscripten/tools/shared.py", line 670, in make
    Popen(args, stdout=stdout, stderr=stderr, env=env).communicate()
  File "/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py", line 679, in __init__
    errread, errwrite)
  File "/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py", line 1249, in _execute_child
    raise child_exception
OSError: [Errno 13] Permission denied 
```

但即使我使用`sudo`我也会得到同样的错误：

```
|[254829]-$>sudo !!
sudo ../emmake Makefile
Password:
Error: Exception thrown when invoking Popen in make with args: "Makefile"!
Traceback (most recent call last):
  File "../emmake", line 24, in <module>
    shared.Building.make(sys.argv[1:])
  File "/Users/jkirchartz/Dropbox/emscripten/tools/shared.py", line 670, in make
    Popen(args, stdout=stdout, stderr=stderr, env=env).communicate()
  File "/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py", line 679, in __init__
    errread, errwrite)
  File "/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py", line 1249, in _execute_child
    raise child_exception
OSError: [Errno 13] Permission denied 
```

我在 sudoer 的名单上，我有 root 访问权限……但无论我做什么，我都会被拒绝。有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-10-31T14:59:53.543

`emmake`期望`make`可执行文件作为参数，而不是`Makefile`. 试试看`../emmake make`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T00:39:52.910

所有 Building.make() 所做的就是调用`make`. 检查您是否可以`make`在命令行上手动运行自己。

# pdf - PDF 标头签名未找到错误？

> ID：14907855
> 
> 赞同：-1
> 
> 时间：2013-02-16T06:59:37.103
> 
> 标签：pdf, asp.net-mvc-2

我正在使用 Azure 开发 Asp.Net MVC 应用程序。当我将 PDF 文档上传到 Azure blob 存储时，它将使用以下代码完美上传。

```
 var filename = Document.FileName;
           var contenttype = Document.ContentType;

           int pdfocument = Request.ContentLength;

        //uploading document in to azure blob

         CloudStorageAccount storageAccount = CloudStorageAccount.Parse(CloudConfigurationManager.GetSetting("StorageConnectionString"));

           var storageAccount = CloudStorageAccount.DevelopmentStorageAccount(FromConfigurationSetting("Connection"));
            CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();
           CloudBlobContainer container = blobClient.GetContainerReference("containername");
           container.CreateIfNotExists();
            var permissions = container.GetPermissions();
            permissions.PublicAccess = BlobContainerPublicAccessType.Blob;
            container.SetPermissions(permissions);
            string uniqueBlobName = string.Format(filename );
            CloudBlockBlob blob = container.GetBlockBlobReference(uniqueBlobName);
            blob.Properties.ContentType = ;
            blob.UploadFromStream(Request.InputStream); 
```

将文档上传到 blob 后，尝试读取 pdf 文档时出现错误“未找到 PDF 标头签名”。该错误代码是

```
 byte[] pdf = new byte[pdfocument];
          HttpContext.Request.InputStream.Read(pdf, 0, pdfocument);               
          PdfReader pdfReader = new PdfReader(pdf);     //error getting here 
```

还有一件事我忘记了，即如果我们评论上面的代码（将文档上传到 Azure blob），那么不会收到该错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T09:31:15.437

在您的组合用例中，您尝试读取 Request.InputStream 两次，一次是在上传期间，一次是稍后尝试将其读入您的`byte[] pdf`--- 当您第一次阅读它时，您一直阅读它直到它结束，所以第二次阅读很可能是根本没有得到任何数据。

正如您无论如何都打算将 PDF 读入内存（上述`byte[] pdf`），您可以在您的组合用例中

*   首先将数据读入该数组

    ```
    int pdfocument = Request.ContentLength;
    byte[] pdf = new byte[pdfocument];
    HttpContext.Request.InputStream.Read(pdf, 0, pdfocument); 
    ```

*   [然后使用CloudBlob.UploadByteArray](http://msdn.microsoft.com/en-us/library/ee772816.aspx)上传该数组

    ```
    var storageAccount = CloudStorageAccount.DevelopmentStorageAccount(FromConfigurationSetting("Connection"));
    [...]
    CloudBlockBlob blob = container.GetBlockBlobReference(uniqueBlobName);
    blob.Properties.ContentType = ; // <--- something missing in your code...
    blob.UploadByteArray(pdf);      // <--- upload byte[] instead of stream 
    ```

*   然后喂你的PDF阅读器

    ```
    PdfReader pdfReader = new PdfReader(pdf); 
    ```

这样你只读取一次流，并且一个 byte[] 应该是可重用的......

# asp.net - asp.net SiteMapPath（Web.sitemap）中的多个根节点

> ID：14907856
> 
> 赞同：1
> 
> 时间：2013-02-16T06:59:50.707
> 
> 标签：asp.net, sitemap, sitemappath, web.sitemap

我正在实现一种仪表板类型的 Web 应用程序，其中用户具有不同的角色。当用户浏览仪表板内的不同页面时，我必须在页面顶部显示站点地图路径。我正在使用 asp.net SiteMapPath，如何将它用于多个根节点。我需要根据用户角色实现多个根节点。

例如：- Admin->Directory1->Directory2->Page1.aspx

教师->目录1->Page2.aspx

Student->Directory2->Page1.aspx 等等。

其中 Admin、Teacher 和 Student 是路径的根节点。

它不应该像 Admin->Teacher->Directory1->Page2.aspx

有什么解决办法吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-09T12:35:02.140

您可以使用 admin 作为根节点，并在 中定义所有内容`asp:Menu`，在您的情况下，使用`<asp:Menu ID="mainMenu" DataSourceId="siteMapDataSource" runat="server" StaticDisplayLevels="2" StaticSubMenuIndent="0" />` 将`StaticDisplayLevels="2"`确保始终显示 admin、teacher 和 student，并且 indent 将防止它出现缩进，因为它是默认定义的.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T13:23:14.210

*   三个站点地图文件（对于管理员、教师、学生） 我们已将这些站点地图文件放入 App_Data 文件夹中，在用户控件中，我们创建一个公共枚举，以表示可用的不同菜单。

    > ```
    > public enum SiteMapMenus 
    > ```
    > 
    > { 管理员、教师、学生、未设置 }

    *   然后创建了一个公共属性来在设计时设置菜单类型。

> ```
> SiteMapMenus eMenuToLoad = SiteMapMenus.NotSet;  
> public SiteMapMenus MenuToLoad  
> {  
>     get { return eMenuToLoad; }  
>     set { eMenuToLoad = value; }  
> } 
> ```

*   现在，GetMenuDataSource 方法将所需的站点地图文件作为 XML 文件读取，然后创建并返回可以绑定到控件的数据源。

    > ```
    > XmlDataSource GetMenuDataSource(SiteMapMenus menu, string serverMapPath)  
    > {  
    >     XmlDataSource objData = new XmlDataSource();  
    >     objData.XPath = "siteMap/siteMapNode";  
    >    switch (menu)  
    >    {  
    > case SiteMapMenus.Admin:objData.DataFile=serverMapPath + @"\App_Data\Admin.sitemap";  
    >         break;  
    >     case SiteMapMenus.Teacher:
    > objData.DataFile=serverMapPath+@"\App_Data\Teacher.sitemap";  
    >                  break;  
    >             case SiteMapMenus.Student:
    > objData.DataFile=serverMapPath+@"\App_Data\Student.sitemap";  
    >                 break;  
    >     default:  
    >         break;  
    > }  
    > objData.DataBind();  
    > return objData;  
    > } 
    > ```

*   由于数据源现在是 XML，而不是从站点地图提供者返回的格式，我们需要在菜单控件本身上设置我们的数据绑定。

> ```
>  <asp:Menu ID="Menu1" runat="server">     
>  <DataBindings>   
>          <asp:MenuItemBinding DataMember="siteMapNode" 
>          TextField="title" NavigateUrlField="url"  />   
>     </DataBindings>   
>  </asp:Menu> 
> ```

*   我们现在终于可以将源绑定到控件了，这一切都在用户控件的 Page_Load 事件处理程序中触发。

    > ```
    > protected void Page_Load(object sender, EventArgs e)  
    >   {  
    >      Menu1.DataSource = GetMenuDataSource(eMenuToLoad, 
    >                         Server.MapPath("~"));  
    >      Menu1.DataBind();  
    >   } 
    > ```

*   现在，使用我们的新菜单就像在页面上注册用户控件并通过设置 MenuToLoad 属性指定要显示的菜单一样简单。

    > ```
    >  <DW:MyMenu ID="MyMenu1" runat="server" MenuToLoad="Secure" /> 
    > ```

现在，您可以为不同的用户使用不同的站点地图......

# java - @Temporal(TemporalType.TIMESTAMP)

> ID：14907857
> 
> 赞同：1
> 
> 时间：2013-02-16T06:59:52.623
> 
> 标签：java, mongodb, spring-roo

mongoDB有类似的东西吗？@Temporal(TemporalType.TIMESTAMP)

```
@NotNull
@Temporal(TemporalType.TIMESTAMP)
@DateTimeFormat(style = "M-")
private Date lastUpdateDate; 
```

我正在尝试创建一个字段，该字段将在文档更新时自动更新“lastUpdateDate”。

或者

在春天的房间

> 字段日期 --fieldName lastUpdateDate --type java.util.Date --notNull --persistenceType JPA_TIMESTAMP

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-03-10T01:05:41.570

如果您想要'创建一个将自动更新“lastUpdateDate”的字段'，那么您可以使用注释：@LastModifiedDate 和@EnableMongoAuditing。

```
@SpringBootApplication
@EnableMongoAuditing
public class Application {...}

public class ModelClass implements Persistable<String> {
    @LastModifiedDate
    private Date lastModifiedDate;
    ...
} 
```

基于： [http ://www.aichengxu.com/java/2261025.htm](http://www.aichengxu.com/java/2261025.htm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T20:53:30.393

环顾四周，我惊讶地发现这种事情没有一个好的通用解决方案。就像@CodeChimp 所说，开箱即用地提供这种东西应该不难。

一种可能的解决方案是创建一个注释来标记您的模型，然后使用 AOP，但这需要一些工作。[这篇文章](http://billcomer.blogspot.com/2011/07/auditing-using-aop-and-annotations-in.html)展示了一种有点幼稚的方法来做这样的事情。我将代码复制到[一个 gist](https://gist.github.com/dwelch2344/5008069)以便快速查看它，看起来它可以很容易地修改为你想要做的事情。

我将在本周末尝试回过头来整理一个实际示例，但您可能想看看您是否对这种解决方案感到满意并感兴趣。

# iphone - 如何从 xmlParser 中检索国家名称

> ID：14907859
> 
> 赞同：0
> 
> 时间：2013-02-16T07:00:04.717
> 
> 标签：iphone, ios, objective-c, nsxmlparser

我正在尝试从 xml 中检索国家/地区名称。这是xml结果。

```
<Table diffgr:id="Table1" msdata:rowOrder="0"><id>1</id><country>Afghanistan</country><isd_code>93</isd_code><timezone>+04:30</timezone><visible>false</visible></Table><Table diffgr:id="Table2" msdata:rowOrder="1"><id>2</id><country>Albania</country><isd_code>355</isd_code><timezone>+01:00</timezone><visible>false</visible></Table> 
```

在解析器中做了结束元素方法

```
-(void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict
{

    if ( [elementName isEqualToString:@"Table"] ) {
       NSLog(@"attribute is %@",attributeDict);
    }
} 
```

输出是

```
attribute is {
    "diffgr:id" = Table1;
    "msdata:rowOrder" = 0;
} 
```

我怎样才能检索国家名称。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T07:09:57.163

试试这个，在 viewDidLoad:-

```
countryarr=[[NSMutableArray alloc]init];
nodeContent=[[NSMutableString alloc]init];

 - (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string
{
[nodeContent appendString:[string stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]]];

} 

- (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName

{
     if ([elementName isEqualToString:@"country"])
{
    [countryarr addObject:nodeContent];
}
 nodeContent=[[NSMutableString alloc]init];

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T07:19:39.023

试试这个

```
NSString *elementname;

- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict
{
    elementname = elementName;
}

-(void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string{

   if([elementname isEqualToString:@"country"])
   {
       NSLog(@"country name is : %@",string);
   }
}

- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict 
{
    elementname = elementName;
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-16T07:15:35.263

直接在`-(void)connectionDidFinishLoading:(NSURLConnection *)connection`Method中试试

代码 ：：

```
NSString *theXML = [[[NSString alloc] initWithBytes: [responseData mutableBytes] length:[responseData length] encoding:NSUTF8StringEncoding] autorelease];

theXML = [theXML stringByReplacingOccurrencesOfString:@"&lt;" withString:@"<"];
theXML = [theXML stringByReplacingOccurrencesOfString:@"&gt;" withString:@">"];
theXML = [theXML stringByReplacingOccurrencesOfString:@"&amp;" withString:@"&"];

NSLog(@" String :: %@", theXML);

[arrCountry removeAllObjects];

NSArray *arr = [theXML componentsSeparatedByString:@"<Your Main Parent>"];

NSLog(@"Count :: %d", [arr count]);

for(int i = 1; i < [arr count]; i++)
{
   NSString *str = [arr objectAtIndex:i];

   NSArray *arr1 = [str componentsSeparatedByString:@"<Table>"];
   NSString *data = [arr1 objectAtIndex:1];
   NSRange ranfrom = [data rangeOfString:@"</Table>"];

   for(int i = 1; i < [arr1 count]; i++)
   {
      NSString *str1 = [arr1 objectAtIndex:i];

      NSArray *arr12 = [str1 componentsSeparatedByString:@"<country>"];
      NSString *data1 = [arr12 objectAtIndex:1];
      NSRange ranfrom1 = [data1 rangeOfString:@"</country>"];

      [arrCountry addObject:[data1 substringToIndex:ranfrom1.location]];
   }
}

[connection release]; 
```

它会帮助你。

谢谢。

# mysql - 在mysql中将数据从一个表插入另一个表

> ID：14907863
> 
> 赞同：76
> 
> 时间：2013-02-16T07:00:51.657
> 
> 标签：mysql, insert

我想从一个表中读取所有数据并将一些数据插入到另一个表中。我的查询是

```
 INSERT INTO mt_magazine_subscription ( 
      magazine_subscription_id, 
      subscription_name, 
      magazine_id, 
      status ) 
  VALUES ( 
      (SELECT magazine_subscription_id, 
              subscription_name, 
              magazine_id 
       FROM tbl_magazine_subscription 
       ORDER BY magazine_subscription_id ASC), '1') 
```

但我有一个错误

```
 #1136 - Column count doesn't match value count at row 1 
```

请帮我。

* * *

## 回答 #1

> 赞同：143
> 
> 时间：2013-02-16T07:09:28.240

您可以使用[INSERT...SELECT](http://dev.mysql.com/doc/refman/5.0/en/insert-select.html)语法。请注意，您可以直接在 SELECT 部分引用“1”。

```
INSERT INTO mt_magazine_subscription ( 
      magazine_subscription_id, 
      subscription_name, 
      magazine_id, 
      status ) 
SELECT magazine_subscription_id, 
       subscription_name, 
       magazine_id, 
       '1'
FROM tbl_magazine_subscription
ORDER BY magazine_subscription_id ASC 
```

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2016-10-15T07:17:46.583

如果要将一个表中的所有数据插入到另一个表中，则有一个非常简单的 sql

```
INSERT INTO destinationTable  (SELECT * FROM sourceDbName.SourceTableName); 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-02-16T07:07:04.537

它不会像这样工作。

当您尝试使用查询插入行时，所有值都应该在查询中。

对于上述问题，您想 `magazine_subscription_id, subscription_name, magazine_id, status` 在选择查询 中插入`magazine_subscription_id, subscription_name, magazine_id, status`1 是不可能的。

如果要插入，则需要使用直接值查询进行插入

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-12-26T11:41:33.803

实际上，将数据从一个表复制到另一个表的 mysql 查询是

```
Insert into table2_name (column_names) select column_name from table1 
```

其中，从 table1 复制到 table2 的值

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2016-12-25T23:03:11.823

如果有像“id”这样的主键，你必须排除它，例如我的 php 表有：id、col2、col3、col4 列。id 是主键，所以如果我运行此代码：

```
INSERT INTO php  (SELECT * FROM php2); 
```

我可能会收到此错误：

`#1062 - Duplicate entry '1' for key 'PRIMARY'`

所以这是解决方案，我排除了“id”键：

```
INSERT INTO php ( col2,col3,col4)  (SELECT col2,col3,col4 FROM php2); 
```

所以我的新 php 表不再具有所有 php2 表行。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2018-09-26T17:11:30.320

```
INSERT INTO mt_magazine_subscription ( 
      magazine_subscription_id, 
      subscription_name, 
      magazine_id, 
      status ) 
VALUES ( 
      (SELECT magazine_subscription_id, 
              subscription_name, 
              magazine_id,'1' as status
       FROM tbl_magazine_subscription 
       ORDER BY magazine_subscription_id ASC)); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-16T07:05:53.013

试试这个。你做错了。

```
 INSERT INTO mt_magazine_subscription( 
    magazine_subscription_id, 
    subscription_name, 
    magazine_id, status) VALUES ( 
         (SELECT magazine_subscription_id, subscription_name, 
                 magazine_id,1 as status FROM tbl_magazine_subscription 
                 ORDER BY magazine_subscription_id ASC)
    ) 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-02-16T07:10:57.180

```
 INSERT INTO mt_magazine_subscription ( 
      magazine_subscription_id, 
      subscription_name, 
      magazine_id, 
      status ) 
  VALUES ( 
      (SELECT magazine_subscription_id, 
              subscription_name, 
              magazine_id,'1' as status
       FROM tbl_magazine_subscription 
       ORDER BY magazine_subscription_id ASC)) 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-09-10T09:03:11.047

尝试使用这个

```
INSERT INTO mt_magazine_subscription ( 
      magazine_subscription_id, 
      subscription_name, 
      magazine_id, 
      status ) 
SELECT magazine_subscription_id, 
       subscription_name, 
       magazine_id, 
       '1'
FROM tbl_magazine_subscription
ORDER BY magazine_subscription_id ; 
```

在 select 子句中使用硬编码值

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2021-11-09T11:42:24.667

在 MySQL 中使用条件将数据从一个表插入到另一个表中，同样适用于 SQL Server。只有不存在的数据会得到更新。两个表具有相同的结构，因此列不需要通过。

```
insert into table_A
select * from table_A_copy 
where not exists
(
select * from table_A where table_A_copy.clm_a=table_A.clm_a and table_A_copy.clm_b=table_A.clm_b and table_A_copy.clm_c=table_A.clm_c
); 
```

* * *

## 回答 #11

> 赞同：-1
> 
> 时间：2013-09-23T18:47:55.343

```
INSERT INTO destination_table ( 
      Field_1, 
      Field_2, 
      Field_3) 
SELECT Field_1, 
      Field_2, 
      Field_3 
      FROM source_table; 
```

但这是一个糟糕的 MYSQL

改为这样做：

1.  `drop the destination table: DROP DESTINATION_TABLE;`
2.  `CREATE TABLE DESTINATION_TABLE AS (SELECT * FROM SOURCE_TABLE);`

* * *

## 回答 #12

> 赞同：-2
> 
> 时间：2014-12-12T09:49:01.853

```
INSERT INTO mt_magazine_subscription SELECT *
       FROM tbl_magazine_subscription 
       ORDER BY magazine_subscription_id ASC 
```

# iphone - 在phonegap中导航一个html页面时如何显示silder外观？

> ID：14907867
> 
> 赞同：0
> 
> 时间：2013-02-16T07:01:38.860
> 
> 标签：iphone, html, cordova

现在，我正在开发 PhoneGap 应用程序，所有功能都已成功完成，这是客户需要的，但是在我的 PhoneGap 应用程序中，我使用多个 html 页面单击一个按钮 index.html 它将导航到另一个 html，但是当导航一个页面时，客户端需要更清晰的外观到另一页..

代码是：

```
<li><a onclick="callFestvialinfo()"><img src="images/festival_info_button.png" width="123" height="123" alt="" /></a></li> 
```

* * *

```
function callFestvialinfo()
{                 
window.location = "festival_info.html";
} 
```

它会`festival_info.html`正常导航，但是当点击返回时，客户需要从索引到索引`festival_info.html`和`festival_info.html`索引。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T14:50:07.617

你可以看看这个。一个非常轻量级的页面转换解决方案。

[http://www.fasw.ws/faswwp/non-jquery-page-transitions-lightweight/](http://www.fasw.ws/faswwp/non-jquery-page-transitions-lightweight/)

# tomcat - tomcat端口怎么清除？

> ID：14907869
> 
> 赞同：0
> 
> 时间：2013-02-16T07:01:58.780
> 
> 标签：tomcat, ports

一天一次，tomcat 抛出一个套接字错误，我被迫重新启动服务。不重启服务如何清除附加端口

# c - 系统调用在 Atmel AVR Studio（使用 ASF）中不起作用

> ID：14907870
> 
> 赞同：2
> 
> 时间：2013-02-16T07:02:04.353
> 
> 标签：c, standard-library, avr-gcc, atmel, avr-studio6

我在 AVR Freaks 论坛上没有得到答案，想知道这里是否有人可以帮助我。

答案**可能**就在[这个 SO question](https://stackoverflow.com/questions/13329236/beginner-avr-c-atmel-studio-6)中，但我不确定为什么它是必要的。

基本上，我有我的第一个 Atmel 项目（AVR studio 6，UC3 处理器）。代码编译和链接，我可以将它加载到 Atmel 板上并在调试器中逐步执行。

但是，当我尝试跳过（或运行直到行后的断点）对 sprintf()、malloc() 或 memcpy() 的（有效）调用时（可能还有更多，我还没有发现）， IDE 永远不会返回到我的代码的下一行，只是似乎挂起或永远运行。

[注意] 编译器优化关闭

我是否需要设置一些链接器选项（例如链接静态（我尝试过但没有帮助）？或者使用一些库构建？

让我困惑的是代码编译器和链接——当我调用这些标准函数时，链接的是什么？如果我需要其他东西，我会期待编译器或链接器错误，但没有得到 - 那为什么我的代码不会运行？

抱歉这么愚蠢的 n00nb 问题，但这是我的第一个微控制器项目。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T05:36:47.040

我发现我板上的 CPU 是一个工程示例，如果没有新的 io.h 文件，Atmel Studio 不支持。

[我从这个问题中发现了这一点： http](http://www.avrfreaks.net/index.php?name=PNphpBB2&file=viewtopic&t=106652) ://www.avrfreaks.net/index.php?name= PNphpBB2&file =viewtopic&t=106652

很抱歉给您添麻烦了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T07:06:31.450

> 当我调用这些标准函数时，链接了什么？

AVR-libc，移植到AVR平台的C标准库的实现。

> 那么为什么我的代码不能运行呢？

编译器错误和运行时错误甚至不相关。这两行都是有效的 C 并且它们可以编译，但是，在大多数系统上，我希望它们能够转储核心：

```
int x = 1 / 0;
*(int *)0 = 41; 
```

所以它可能是：

*   标准库中的错误（***不太可能***），或
*   在线调试器中的错误（***非常不可能***），或
*   也许你只是期待一些不应该发生的事情？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-16T12:33:26.810

如果您在要跳过的行之后的下一行设置断点，而不是尝试跳过，会发生什么？

另外，如果关闭编译器优化，操作会改变吗？

# .net - 构建成功，但给出了无法找到引用组件的警告

> ID：14907872
> 
> 赞同：1
> 
> 时间：2013-02-16T07:02:15.010
> 
> 标签：.net, wpf, debugging, visual-studio-2012, compiler-warnings

当我构建我的项目时，我不断收到警告说在多个项目中找不到各种引用的组件，但它确实表示构建成功。如果我删除/读取了引用，那么警告将在一次编译时消失，但它们会在下一次编译时立即出现。

我刚刚将此项目移至 Visual Studio 2012（从 2010 年开始），这是我遇到的两个问题之一，第二个问题更令人沮丧......当我按 F5 调试 Visual Studio 更改模式时（即工具栏更改为你可以看到它已经进入调试模式）但是应用程序永远不会启动并且没有断点被命中。我的应用程序资源部分包含一个 AppBootstrapper 对象，我的断点位于 AppBootstrapper 的构造函数的开头。

我不确定这两个问题是否相关。

编辑：每当我进行更改然后按 Ctl-Shift-B 时，它都会在没有任何警告的情况下构建，但是当我再次按 Ctl-Shift-B 时，警告会再次出现并保留在我所做的每个构建中，直到我进行另一次更改指向警告再次消失以进行单个构建。

编辑：我解决了后一个问题。当有人建议我这样做时，我已经修改了我的 app.xaml 以将我的资源直接放在`<Application.Resources>`标签下而不是嵌套在`<ResourceDictionary><ResourceDictionary.MergedDictionaries><ResourceDictionary>`标签中，但我想它毕竟需要这样，尽管我不明白为什么.. .我只知道如果不是这样，它实际上并没有尝试创建资源的实例。

我仍然有另一个问题，虽然这是一个巨大的烦恼，但至少现在正在运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T07:08:02.797

检查项目的设置。可能已设置为 .net 客户端配置文件。

*   右键项目
*   特性
*   应用
*   目标框架

选择除客户资料以外的任何内容。当您引用外部 dll 时，此设置在大多数情况下不起作用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T07:57:07.770

事实证明，警告是 Visual Studio 2012 在并行构建时的一个错误。将“最大并行构建数”更改为 1 将使错误消失，但除此之外没有办法摆脱警告。Microsoft 应该在当前处于 CTP 阶段的 VS 2012 的第二次更新中包含对此的修复：

[https://connect.microsoft.com/VisualStudio/feedback/details/759434/vs2012-parallel-build-produces-many-the-referenced-component-could-not-be-found-warnings](https://connect.microsoft.com/VisualStudio/feedback/details/759434/vs2012-parallel-build-produces-many-the-referenced-component-could-not-be-found-warnings)

# scheme - 错误：无法在空句法环境中绑定名称

> ID：14907879
> 
> 赞同：4
> 
> 时间：2013-02-16T07:03:17.117
> 
> 标签：scheme, sicp

我目前正在学习 scp book 的练习 1.3。这是问题的描述：

> 定义一个将三个数字作为参数并返回两个较大数字的平方和的过程。

我试图用下面的代码解决它

```
(define (square x) (* x x))

(define (sq2largest a b c)
        ((define large1 (if (> a b) a b)) 
         (define small  (if (= large1 a) b a))
         (define large2 (if (> c small) c small))
         (+ (square large1) (square large2)))) 
```

当我在 mit-scheme 中运行它时，出现以下错误：

> ;不能在空句法环境中绑定名称：large1 #[reserved-name-item 13]

谷歌搜索这个错误不会产生很多结果。有谁知道我的代码有什么问题？（我不熟悉Scheme）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T07:26:14.657

我将尝试分解您的 sq2largest 过程的结构：

基本结构是：

```
(define (sq2largest a b c)
    ; Body) 
```

你写的正文是：

```
((define large1 (if (> a b) a b)) ; let this be alpha
 (define small  (if (= large1 a) b a)) ; let this be bravo
 (define large2 (if (> c small) c small)) ; let this be charlie
 (+ (square large1) (square large2)) ; let this be delta) ; This parentheses encloses body 
```

因此，Body 的结构如下：

```
(alpha bravo charlie delta) 
```

翻译为：“将 bravo、charlie 和 delta 作为参数传递给 alpha。”

现在，alpha 被告知要接受一堆参数，*但*在为 large1 保留的命名空间内，没有为任何参数提供任何规定……即方案遇到一个不能绑定任何变量的空句法环境。

括号在 Scheme（以及大多数，如果不是全部的话，Lisps）中很重要，因为它们定义了过程的范围并强制[1] 操作的应用顺序。

[1] “不会产生歧义，因为运算符始终是最左边的元素，整个组合由括号分隔。” [http://mitpress.mit.edu/sicp/full-text/sicp/book/node6.html](http://mitpress.mit.edu/sicp/full-text/sicp/book/node6.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-16T07:17:05.707

你有太多的括号。如果您取出内部定义周围的额外括号，事情应该会更好。

# json - 如何通过json发送extjs数据

> ID：14907882
> 
> 赞同：1
> 
> 时间：2013-02-16T07:03:42.793
> 
> 标签：json, extjs

我正在工作 extjs。我想通过 json 发送文本字段数据。所以我把代码写成了——

```
Ext.define('Balaee.controller.kp.WordController',{
    extend: 'Ext.app.Controller',
    stores: ['kp.WordStore'],
    models: ['kp.WordModel'],
    views: ['kp.Word.Word'],
    refs:[
       {
            ref:'wordtext',
            selector:'textfield[name=wordtext]'
       },
       ],
    init: function() {
        console.log('Inside word controller');
        this.control(
                {
            'Word button[action=SearchAction]':
            {
                click:this.SearchWord
            },

        });//End of control
    },//End of init() function

    SearchWord:function(button)
    {
        var j = Ext.getCmp('wordtext').getValue();
        console.log("word is:"+j);

                            var wordObject = Ext.ModelManager.create(
                {

                    word:Ext.getCmp('wordtext').getValue(),
                },'Balaee.model.kp.WordModel');

        wordObject.save({    
            success: function(record, operation) 
            {
                console.log("registration successssssssssss  "+record);
            },//End of success function
            failure: function(record, operation) 
            {
                console.log("Inside failure functionnnnn");
            },//End of failure function
            callback: function(record, operation)
            {
                console.log("Inside callback functionnnnnn");   
                console.log(record);
            }//End of callback function
        });// End of
    },

});//End of Controller 
```

但它总是在故障功能。那么我需要做哪些额外的改变。请有人可以帮我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T16:53:20.920

试试这个来创建你的 WordModel 实例：

```
 var wordObject = Ext.create(
      'Balaee.model.kp.WordModel',
      { word : j }
    ); 
```

或者你可能需要在模型中配置代理

# sencha-touch-2 - 使用轮播按钮切换视图的示例？

> ID：14907883
> 
> 赞同：0
> 
> 时间：2013-02-16T07:03:55.270
> 
> 标签：sencha-touch-2, carousel

任何人都可以指出一个使用轮播按钮更改视图的示例吗？

我想要滑动或单击以更改视图的选项。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:44:55.830

你有多种方法来实现它，你可以使用[setActiveItem](http://docs.sencha.com/touch/2-0/#!/api/Ext.carousel.Carousel-method-setActiveItem)：

```
carousel.setActiveItem(1); // Move to the 2nd carousel's item. 
```

或在按钮上应用[下一个](http://docs.sencha.com/touch/2-0/#!/api/Ext.carousel.Carousel-method-next)和[上一个](http://docs.sencha.com/touch/2-0/#!/api/Ext.carousel.Carousel-method-previous)`handler`方法以切换到轮播的下一张和上一张卡片：

```
carousel.next();

carousel.previous(); 
```

这是一个演示：[http ://www.senchafiddle.com/#Ukg1N](http://www.senchafiddle.com/#Ukg1N)

# ios - 为什么这个 UIImage 不能发布

> ID：14907888
> 
> 赞同：0
> 
> 时间：2013-02-16T07:04:50.470
> 
> 标签：ios, uiimage, didreceivememorywarning

我想将图像保存到沙盒...当我保存许多图像时，我的应用程序经常崩溃并发出 MemoryWarning .....

这是代码：

```
-(void)saveCurrentLine:(NSDictionary*)lineInfo
{

UIImage* saveImage=[lineInfo objectForKey:@"saveImage"];
NSString* savePath=[lineInfo objectForKey:@"SPN"];
NSLog(@"The savePath is :%@",savePath);
NSString* docs=[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)lastObject];
NSString  *pngPath = [docs stringByAppendingPathComponent:[NSString stringWithFormat:@"%@/%@",noteBookName,savePath]];
NSLog(@"%@",pngPath);
[UIImagePNGRepresentation(saveImage) writeToFile:pngPath atomically:YES];
UIImage* saveJPG=[lineInfo objectForKey:@"saveImage"];
UIImage* saveJIV=[UIImage imageWithContentsOfFile:[NSString stringWithFormat:@"%@IV",pngPath]];
NSString  *pngPathS = [docs stringByAppendingPathComponent:[NSString stringWithFormat:@"%@Scan/%@",noteBookName,savePath]];
[UIImageJPEGRepresentation([self addImage:[self scaleToSize:saveJIV size:CGSizeMake(256, 192)] toImage:[self scaleToSize:saveJPG size:CGSizeMake(256, 192)]], 1.0) writeToFile:pngPathS atomically:NO];
NSLog(@"line save over and [saveJPG count] is %d [saveJIV count] is %d [lineInfo count] is %d",[saveJPG retainCount],[saveJIV retainCount],[lineInfo retainCount]);
} 
```

* * *

我发现saveJPG和saveJIV没有释放，我不能释放它们......我怎样才能让它们释放？？？？

此功能的所有方法：

```
 -(void)ChangeCanvasTo:(NSNotification*)CanvasInfo
{
self.layer.opacity=1.0;
savePageName=[NSString stringWithFormat:@"%@",PageName];
UIGraphicsBeginImageContextWithOptions(self.bounds.size, NO, 0);
[self.layer renderInContext:UIGraphicsGetCurrentContext()];
UIImage *saveImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();
NSDictionary *currentLine=[[NSDictionary alloc] initWithObjectsAndKeys:saveImage,@"saveImage",savePageName,@"SPN",nil];
[NSThread detachNewThreadSelector:@selector(saveCurrentLine:) toTarget:self withObject:currentLine];
NSString *pngPath=[[CanvasInfo userInfo] objectForKey:@"PageName"];
PageName=pngPath;
NSLog(@"will change to %@",PageName);
NSString* docs=[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)lastObject];
UIImage *resumeCanvas=[[UIImage alloc] initWithContentsOfFile:[docs stringByAppendingPathComponent:[NSString stringWithFormat:@"%@/%@",noteBookName,PageName]]];
drawStep=RELOAD;
curImage=resumeCanvas;
[curImage retain];
[self setNeedsDisplay];
[resumeCanvas release];
[currentLine release];

}

-(void)saveCurrentLine:(NSDictionary*)lineInfo
{

UIImage* saveImage=[lineInfo objectForKey:@"saveImage"];
NSString* savePath=[lineInfo objectForKey:@"SPN"];
NSLog(@"The savePath is :%@",savePath);
NSString* docs=[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)lastObject];
NSString  *pngPath = [docs stringByAppendingPathComponent:[NSString stringWithFormat:@"%@/%@",noteBookName,savePath]];
NSLog(@"%@",pngPath);
[UIImagePNGRepresentation(saveImage) writeToFile:pngPath atomically:YES];
UIImage* saveJPG=[lineInfo objectForKey:@"saveImage"];
UIImage* saveJIV=[UIImage imageWithContentsOfFile:[NSString stringWithFormat:@"%@IV",pngPath]];
NSString  *pngPathS = [docs stringByAppendingPathComponent:[NSString stringWithFormat:@"%@Scan/%@",noteBookName,savePath]];
[UIImageJPEGRepresentation([self addImage:[self scaleToSize:saveJIV size:CGSizeMake(256, 192)] toImage:[self scaleToSize:saveJPG size:CGSizeMake(256, 192)]], 1.0) writeToFile:pngPathS atomically:NO];
NSLog(@"line save over and [saveJPG count] is %d [saveJIV count] is %d [lineInfo count] is %d",[saveJPG retainCount],[saveJIV retainCount],[lineInfo retainCount]);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T07:10:08.913

ARC 的工作方式是在它知道不再使用对象时自动添加“释放”消息。您可以尝试`saveJPG = nil; saveJIV=nil;`在方法的末尾添加。

这样 ARC 就会意识到它可以释放它们，因为它们不再被使用。

# c++ - 构建 CUDA/C++ 代码时出现链接器错误

> ID：14907895
> 
> 赞同：2
> 
> 时间：2013-02-16T07:05:43.787
> 
> 标签：c++, visual-c++, cuda, linker, gpu

尝试在 Visual Studio 2012 中构建 CUDA/C++ 代码时出现以下错误。我使用的是 CUDA v5.0

```
1>  Generating Code...
1>LINK : warning LNK4044: unrecognized option '/MLd'; ignored
1>cublas_device.lib(kepler_sm35_gemm_wrapper.obj) : error LNK2019: unresolved external symbol __cudaRegisterLinkedBinary_59_tmpxft_00001040_00000000_8_kepler_sm35_gemm_wrapper_cpp1_ii_9402ff4f referenced in function "void __cdecl __sti____cudaRegisterAll_59_tmpxft_00001040_00000000_8_kepler_sm35_gemm_wrapper_cpp1_ii_9402ff4f(void)" (?__sti____cudaRegisterAll_59_tmpxft_00001040_00000000_8_kepler_sm35_gemm_wrapper_cpp1_ii_9402ff4f@@YAXXZ) 
```

有人知道问题可能出在哪里吗？我试过用谷歌搜索，但还没有找到解决方案。

非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T19:00:05.673

[本文](http://support.microsoft.com/kb/154753)显示有关 /MLd 链接器选项的作用的信息。它本质上与加载的多线程库和项目的配置有关。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T20:30:02.570

您的（调试）项目是否设置为与 microsoft 链接器或 nvcc 链接？（错误消息似乎来自微软链接器。）你可能想看看[这个问题](https://stackoverflow.com/questions/13884317/linking-error-unresolved-external-symbol-cudaregisterlinkedbinary-referenced)

设备代码和设备库（您要链接的）需要与 nvcc 链接。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T07:15:46.313

您需要链接到 CUDA 库的调试版本。您尝试在`Debug`模式下编译，但随后链接到似乎不是在`debug`模式下构建的库。因此，一切都变得一团糟。

因此，您应该获取`.lib`调试版本的文件，或者如果您有源代码，则自己构建它。然后，您将调试版本与调试`.lib`和发布链接。

此外，使用相同版本的编译器来构建所有`lib`s 可能会有所帮助，否则您可能会遇到名称修改问题（这也可能是您的问题的潜在原因）。切换到较新的 VS 版本后发生在我身上：我必须重新编译`.lib`我链接的所有内容。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T12:23:25.203

它看起来像是某种使用未定义的外部（extern）变量。需要代码以获取更多信息

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-27T18:54:10.137

我能够修复它！我正在链接到 cublas_device.lib，它指的是一个未解析的外部符号。但是，我的项目不需要此 lib 文件，因此只需将其从链接文件中删除即可！然而，在发布模式下，这个错误并没有发生——可能是因为 cublas_device.lib 中的这部分代码在调试部分。

无论如何，由于我的项目不需要它，因此删除它可以解决问题。

非常感谢您的所有回复！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-03-03T09:45:44.690

我遇到了同样的问题，将配置类型从“动态库（dll）”更改为“静态库（lib）”对我有用。

# ios - iPhone视图移动动画

> ID：14907898
> 
> 赞同：11
> 
> 时间：2013-02-16T07:06:18.073
> 
> 标签：ios, objective-c, iphone, animation, uiview

单击按钮时，我想将一个视图向右移动。我写了一些东西，但它不起作用；

```
UIView* view = [self.view viewWithTag:100];
if (!view) {
    NSLog(@"nil");
}

[UIView animateWithDuration:0.3f 
                 animations:^{
                     [view setTransform:CGAffineTransformMakeTranslation(-100, 0)];

                 }
                 completion:^(BOOL finished){

                 }
 ]; 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-02-16T07:10:35.687

试试这个代码；

```
 UIView* view = [self.view viewWithTag:100];
  [UIView animateWithDuration:0.5
                              delay:0.1
                            options: UIViewAnimationCurveEaseOut
                         animations:^
         {                 
             CGRect frame = view.frame;
             frame.origin.y = 0;
             frame.origin.x = (-100);
             view.frame = frame;
         }
                         completion:^(BOOL finished)
         {
             NSLog(@"Completed");

         }]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T07:10:55.897

leftFrame 是您可以开始的框架，而右框架是您要移动到的地方

```
UIView* view = [self.view viewWithTag:100];
if (!view) {
    NSLog(@"nil");
}
[vw setFrame:leftFrame];
[UIView animateWithDuration:0.3f 
                 animations:^{
                        [vw setFrame:rightFrame];
                 }
                 completion:^(BOOL finished){
                 }
 ]; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-07-16T15:43:34.717

您还可以像这样使用流畅的动画移动视图

```
- (void)moveViewPosition:(CGFloat)xPosition forView:(UIView *)view
{
[UIView beginAnimations:nil context:nil];
[UIView setAnimationDuration:0.2];
[UIView setAnimationCurve:UIViewAnimationCurveLinear];
[view setFrame:CGRectMake(xPosition, view.frame.origin.y,view.frame.size.width, view.frame.size.height)];
[UIView commitAnimations];
} 
```

并这样称呼它

```
[self moveViewPosition:120.0f forView:yourView]; 
```

更多您还可以修改它以通过这样的函数调用所需的持续时间。

```
- (void)moveViewPosition:(CGFloat)xPosition forView:(UIView *)view withDuration:(float)duration; 
```

还有其他选择，例如

```
 UIView* view = [self.view viewWithTag:99999];
 [UIView animateWithDuration:0.9
                          delay:0.0
                        options: UIViewAnimationCurveEaseOut
                     animations:^
     {                 
         CGRect frame = view.frame;
         frame.origin.y = 68;
         frame.origin.x = 0;
         view.frame = frame;
     }
                     completion:^(BOOL finished)
     {
         NSLog(@"Completed");

     }]; 
```

# openerp - OpenERP 7.0 HR费用模块到期金额计算

> ID：14907904
> 
> 赞同：1
> 
> 时间：2013-02-16T07:06:45.237
> 
> 标签：openerp

在 OpenERP HR 费用模块中，我们需要一些自定义，我添加了两个字段，一个是从公司（x_adv）和到期金额（x_dueamt）中提取的预付款。我们的要求是计算到期金额（total_amount - x_adv）。我应该在哪里和什么地方写代码。

例如，员工 A 从公司预支项目 X 500 卢比，但他的总费用为 1000 卢比。现在我们要自动计算到期金额 500 INR（x_dueamt 是只读的）。

请帮助我们....提前谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-09T05:18:07.387

您可以通过两种方式实现这一点：

`advance taken from company`(1) 您可以在&上编写 on_change 方法，`Total expense`因此当这两个字段有任何变化时，您可以计算金额并返回您为某个`due amount`字段计算的值。

这是一个例子，

> ```
> <field name="x_adv" on_change="onchange_amount(x_adv,total_expense)"/>
> <field name="total_expense" on_change="onchange_amount(x_adv,total_expense)"/>
> <field name="due_amount"/> 
> ```

`x_adv`在您的 .py 文件中写入 onchange_amount 函数，当&发生任何变化时，将调用此函数`total_expense`。

```
def onchange_amount(self, cr, uid, ids, x_adv, total_amount, context={}):
    // Your calculation
    value = {'due_amount': calculate_value}
    return {'value': value} 
```

这可以正常工作，但如果结果字段（此处为 due_amount）是只读的，它将不会显示在客户端和数据库中。所以有第二种方法可以解决你的问题。

(2) 将due_amount设为场函数。

> ```
> def _calculate_due_amount(self, cr, uid, ids, field_name, arg, context=None):
>     res = {}
>     if context is None:
>         context = {}
>     for current_ids in self.browse(cr, uid, ids, context=context)[0]
>         // Your calculation
>         res[current_ids] = calculated_amount
>     return res
> 
> 'due_amount': fields.function(_calculate_due_amount, string='Due Amount', help="Due amount of employee.",
>                               store={
>                                      'your_object': (lambda self, cr, uid, ids, c={}: ids, ['x_adv', 'total_expense'], 10)
>                                     }), 
> ```

这是解决您的问题的最合适的方法之一。通过函数字段，您可以将值存储在数据库中，也可以将字段设为只读。希望这对你有用。

# google-app-engine - 谷歌应用引擎。如何使用内存缓存或数据存储进行同步操作？

> ID：14907908
> 
> 赞同：4
> 
> 时间：2013-02-16T07:07:51.950
> 
> 标签：google-app-engine

我的主要目标是能够拥有一些在完成之前不应被其他线程访问的同步方法。如果我有通常的 VM - 我会将此方法标记为同步。但在 GAE 中，我有多个实例。我读到的所有帖子都说我应该使用 memcache 或数据存储。但究竟如何？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-16T08:23:13.033

通常答案是重新设计函数，因此它不需要全局同步。即使您设法同步它，它也是一个瓶颈。

您可能最好在后端实现它；您可以指定一个后端，并使您的函数调用后端的请求。您也可以使用 memcache 或数据存储作为信号量，但所有这些都会给您带来较差的性能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T15:20:18.123

实际上我不经常使用这种同步。一旦我做到了。它似乎工作得很好。这是一个例子

```
String syncKey = "Sync:" + req.getRequestURI();
boolean lockAcquired = false;
try {
  lockAcquired = acquireLock(syncKey, 5000L);
  if (!lockAcquired) {
    return;
  }
  // do something here

} finally {
  if (lockAcquired) {
    memcacheService.delete(syncKey);
  }
}

public boolean acquireLock(String syncKey, long maxwait) {
  long start = System.currentTimeMillis();
  while (true) {
    if (memcacheService.increment(syncKey, 1L, 0L) == 1L) {
      return true;
    }
    if (System.currentTimeMillis() - start > maxwait) {
      return false;
    }
    try {
      Thread.sleep(100L);
    } catch (InterruptedException e) {
    }
  }
} 
```

通常我使用更简单的同步。它让我有机会只运行一次代码。

```
final long now = System.currentTimeMillis() / (60L * 1000L); // expire every minute
if (memcacheService.increment("VoteRemoveOldTask" + now, 1L, 1L) == 1L) {
  QueueFactory.getDefaultQueue().add(
      TaskOptions.Builder.withDefaults().url(VoteRemoveOldTask.URL));
} 
```

# client-side - 哪个客户端 JavaScript 框架对学习者来说很容易，但提供了我需要的事件架构？

> ID：14907911
> 
> 赞同：0
> 
> 时间：2013-02-16T07:08:07.123
> 
> 标签：client-side, javascript-framework

昨天一位高级开发人员告诉我有关 widgets-events-sandbox-mvc 架构的信息（谢谢）。

小部件具有集合、模型、控制器、视图......并且视图发生的事件通过沙箱传达给页面上的其他小部件，并且它还传递与该事件相关的所需模型，以便其他小部件可以采取行动因此。

我正在构建与[Zillow 的地图搜索](http://www.zillow.com/homes/new-york_rb/)非常相似的东西，并且“搜索”区域需要与“结果”区域进行通信。再加上“结果”小部件需要与 Leaflet.js 进行通信，并时不时*保持*通信以对 maptiles 采取行动。

我需要一些可以帮助我处理事件的东西，为我提供一个沙箱，这样我就不必自己构建它，给我一种将 REST 返回的数据转换为集合的好方法。

我看过 Backbone，但它需要我建立自己的沙箱，尽管它的集合和事件应该可以帮助我。

Can.js 宣称“对学习者来说很容易”，但我还没有看到任何类似沙盒的东西。

我对 JS 的经验水平：在 DOM 上编写 sphagetti jQuery 调用来做一些闪亮的事情。以前从未使用过 RequireJS 或类似的东西。我已经阅读并理解了“权威指南”的第一部分，所以我理解了 JS 对象的核心概念。我知道“Laravel”，它是一个类似 Rails 的服务器端 PHP 框架。

我会继续[寻找](http://coding.smashingmagazine.com/2012/07/27/journey-through-the-javascript-mvc-jungle/)这方面的信息，如果我能根据我的经验提出建议，我将不胜感激。

多谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T18:28:38.787

首先想想你是否真的需要它。

如果您不必在多个应用程序上重用小部件，那么这种模式毫无意义，只会使您的整个应用程序复杂化。

CanJS 类似于经典的 MVC 框架，并且不提供沙箱，但您可以通过继承实现类似的行为，例如，任何控制器（或视图）都可以托管到其他控制器（小部件）并与它们通信。

如果你真的喜欢沙盒模块，看看[AngularJS](http://angularjs.org/)

# paypal - 在 PayPal 中拥有一个余额为负数的沙盒帐户

> ID：14907912
> 
> 赞同：1
> 
> 时间：2013-02-16T07:08:28.017
> 
> 标签：paypal, sandbox, account

我正在尝试创建一个沙盒帐户，余额为 1.00 美元，但由于它有一个链接的信用卡，bam，它只是从信用卡中获取更多的钱，因为我试图让计费失败正是因为我需要收取我正在测试的未结余额。

所以信用卡链接，即使账户余额为 0.00 美元，也总是钱，然后银行链接，同样的情况。必须验证测试帐户才能在此重复购买。然而，它应该无法计费，我还没有进入下一个计费周期，它会在几个小时内出现（测试每天重复），看看这个 1.00 美元周期的最初 1.00 美元账户中的一个是否会失败，但这不会发生我猜是因为信用卡或银行账户与这些测试账户相关联。

有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T23:34:25.500

您首先需要为您的沙盒帐户配置负面测试：

第 45 页：[https ://www.x.com/sites/default/files/pp_sandbox_userguide.pdf](https://www.x.com/sites/default/files/pp_sandbox_userguide.pdf)

然后，传入所需的错误代码作为交易金额字段，例如 106.06 以调用错误代码 10606“买家无法付款”。美国站点错误代码在这里： http: [//www.paypalobjects.com/en_US/ebook/PP_APIReference/Appx-ErrorCodes_and_Messages.html](http://www.paypalobjects.com/en_US/ebook/PP_APIReference/Appx-ErrorCodes_and_Messages.html)

# iphone - 如何检查 iPhone 中的 Home 按钮是否被按下并采取相应措施？

> ID：14907914
> 
> 赞同：0
> 
> 时间：2013-02-16T07:08:42.383
> 
> 标签：iphone, ios, home-button

我想在用户点击主页按钮时显示警报。我试过：

*   `applicationWillResignActive`
*   `applicationDidEnterBackground`
*   `applicationWillEnterForeground`
*   `applicationWillTerminate`

...但没有任何效果。对于前三个，当应用程序从后台返回到前台时会发出警报。我想在按下主页按钮后立即显示警报。有没有办法做到这一点？

另外：我想在前台运行应用程序，或者根据用户输入发送到后台。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:15:31.157

抱歉，无法实现。

您提到的方法发生在按钮按下事件之后，但它不能停止主页按钮的事件

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T07:14:53.087

据我所知，你不能那样做。无法通过 Objective C 中的任何事件处理程序访问主页按钮功能。

每当应用程序退出活动或变为活动状态时，您只会收到 UIApplicationDelegate 的“通知”，但您无法在此处显示任何警报，因为您无法*锁定*主页按钮或让用户等待主页的警报按钮工作。

总而言之，主页按钮必须始终回家，无论您的应用程序想要什么或需要什么 :)

# php - PHP无法获取值文本框

> ID：14907916
> 
> 赞同：0
> 
> 时间：2013-02-16T07:08:46.850
> 
> 标签：php, textbox, get

我有桌子。

```
<tableid="mytable" >
<tr class='row'>
 <td>Name</td>
 <td><input type="textbox" name="txtName" /></td>
</tr>
</table> 
```

我使用 jQuery 添加新行

```
var a = $(".row").html();
$("#mytable > tbody:first").append("<tr class='row'>"+a+"</tr>"); 
```

这是代码 PHP

```
$_REQUEST['txtName']; 
```

创建新行时我无法获取值文本框。请帮我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:13:21.280

假设 html 在您的服务器上是正确的，您无法从新行中获取值的原因是它们都具有相同的变量名。将输入的名称设为数组。

```
<table id="mytable" >
<tr class='row'>
 <td>Name</td>
 <td><input type="textbox" name="txtName[]"></td>
</tr>
</table> 
```

现在所有的名字都将在数组中`$_REQUEST['txtName']`

另外，不要使用 $_REQUEST。使用 $_POST、$_GET、$_COOKIE 等。有安全原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T07:11:48.707

您可能无法在 PHP 中获取值，因为您**不能有两个具有相同名称的文本字段**。

如果您使用 jQuery 动态添加新字段，请确保在某种类型的末尾附加一个数字，例如*txtName、txtName2、txtName3*等...

此外，您的输入标记无效，应关闭：

```
 <td><input type="textbox" name="txtName" /></td> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T07:13:04.623

像这样试试

```
<tableid="mytable" >
    <tr class='row'>
      <td>Name</td>
      <td><input type="textbox" name="txtName_0"></td>
    </tr>
 </table> 
```

并且每次您需要将名称值递增为 txtName_1,txtName_2 .... 就像通过 javascript 一样，然后将它们作为

```
$REQUEST['txtName_0'],$REQUEST['txtName_1'].....or directly use loop them.... 
```

# php - AJAX 调用远程页面和会话

> ID：14907926
> 
> 赞同：0
> 
> 时间：2013-02-16T07:10:25.860
> 
> 标签：php, javascript, jquery, html, ajax

我又在搞乱 AJAX 并且在将数据传递给 PHP 时遇到了麻烦。

**语境：**

我想做的是使用 AJAX 制作我的警报框，而不是在每次警报框关闭时刷新整个页面。

**编码：**

**JavaScript：**

```
 var endpoint = './ajax-call.php';

  $('.close').click(function(){
    $(this).parent().fadeOut(500, function(){
      var classes = $(this).attr("class").split(" ");
      var alertid = classes[classes.length - 1];

      $.ajax({
        type: 'POST',
        url: endpoint,
        data: {f: 'removealert', id: alertid},
        cache: false
      });
    });
  }); 
```

**PHP：**

```
 function removeAlert($alertindex){
    unset($_SESSION['alerts'][$alertindex]);
  } 
```

**中间件（也叫 PHP）：**

```
 if($_POST['f'] == 'removealert'){
    removeAlert(intval($_POST['id']));
  } 
```

我知道 AJAX 数据是通过 Google Chrome 控制台发送的。我也知道 PHP 函数 removeAlert($alertid) 也可以工作，因为我已经测试过了。但是，PHP 函数不起作用，所以我认为这与中间件代码有关。

我已经在这几个小时了，似乎看不到错误。提前致谢。如果您需要更多信息，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T12:02:02.647

我想出了自己的答案。似乎是因为 AJAX 调用在技术上会转到另一个页面，而我正在使用会话。我需要在 AJAX 页面的顶部放置一个会话开始，以便将其视为同一会话的一部分。

```
session_start(); 
```

# python - Python过滤器没有按预期工作？

> ID：14907927
> 
> 赞同：2
> 
> 时间：2013-02-16T07:10:30.440
> 
> 标签：python, filter

为什么以下两个过滤器表达式返回相同的结果？

```
A = [(1,(1,2,3))]
A1 = filter(lambda (a,b): b, A)
A2 = filter(lambda ab: ab, A)
A1 == A2
>>>> True 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T07:13:57.573

`filter`过滤掉传入函数时返回`False`-ish 值的参数。两者都在布尔上下文`(1, 2, 3)`中`(1, (1, 2, 3))`返回`True`，因此保留在返回的列表中。

你想要`map`。

```
A1 = map(lambda (a,b): b, A)
A2 = map(lambda ab: ab, A) 
```

仅供参考，以下值是`False`-ish 值，而其他所有值都是`True`-ish：

```
0
None
False
''
[]
()
# and all other empty containers 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T07:13:32.860

这不是一个错误。 `filter`获取函数返回`True`-y 值的元素。

在第一种情况下，您将元组解包为`1`and`(1,2,3)`并查看第二个 ( `(1,2,3)`) ——它是真的（非空），所以`filter`返回整个东西。

在第二种情况下，您查看 tuple `(1,(1,2,3))`。那也不是空的，所以它再次返回整个东西。

# c++ - 使用带有 std::unique_ptr 的静态函数删除器时出错

> ID：14907933
> 
> 赞同：1
> 
> 时间：2013-02-16T07:11:31.017
> 
> 标签：c++, unique-ptr

我有以下无法编译的代码片段......似乎应该，但它现在避开了我。非常感谢任何帮助/建议！

```
#include <atomic>
#include <memory>

struct MyClass {

static void free_lock(std::atomic<int>** lck) { (*lck)->store(0); }

typedef std::unique_ptr<std::atomic<int>*, decltype(&MyClass::free_lock)> lock_scope;

static lock_scope get_lock() {
    static std::atomic<int> lck(0);
    int ref = 0;
    return lock_scope(&lck, &MyClass::free_lock);
}

}; 
```

Clang 3.2 报告了以下错误消息

```
编译完成但出现错误：
source.cpp:13:23: 错误: 'lock_scope' (aka 'unique_ptr *, decltype(&MyClass::free_lock)>') 的初始化没有匹配的构造函数
        返回 lock_scope(&lck, &MyClass::free_lock);
                         ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/lib/gcc/x86_64-linux-gnu/4.7/../../../../include/c++/4.7/bits/unique_ptr.h:130:7：注意：候选构造函数不可行：第一个参数没有从“std::atomic *”到“pointer”（又名“std::atomic **”）的已知转换
      unique_ptr(指针 __p,
      ^
/usr/lib/gcc/x86_64-linux-gnu/4.7/../../../../include/c++/4.7/bits/unique_ptr.h:125:7：注意：候选构造函数不可行：第一个参数没有从“std::atomic *”到“pointer”（又名“std::atomic **”）的已知转换
      unique_ptr(指针 __p,
      ^
/usr/lib/gcc/x86_64-linux-gnu/4.7/../../../../include/c++/4.7/bits/unique_ptr.h:155:2：注意：候选构造函数模板不可行: 需要单个参数“__u”，但提供了 2 个参数
        unique_ptr(unique_ptr&& __u) noexcept
        ^
/usr/lib/gcc/x86_64-linux-gnu/4.7/../../../../include/c++/4.7/bits/unique_ptr.h:164:2：注意：候选构造函数模板不可行: 需要单个参数“__u”，但提供了 2 个参数
        unique_ptr(auto_ptr&& __u) noexcept
        ^
/usr/lib/gcc/x86_64-linux-gnu/4.7/../../../../include/c++/4.7/bits/unique_ptr.h:114:17：注意：候选构造函数不可行：需要 0 个参数，但提供了 2 个
      constexpr unique_ptr() noexcept
                ^
/usr/lib/gcc/x86_64-linux-gnu/4.7/../../../../include/c++/4.7/bits/unique_ptr.h:120:7：注意：候选构造函数不可行：需要单个参数“__p”，但提供了 2 个参数
      unique_ptr(pointer __p) noexcept
      ^
/usr/lib/gcc/x86_64-linux-gnu/4.7/../../../../include/c++/4.7/bits/unique_ptr.h:136:17：注意：候选构造函数不可行：需要 1 个参数，但提供了 2 个参数
      constexpr unique_ptr(nullptr_t) noexcept
                ^
/usr/lib/gcc/x86_64-linux-gnu/4.7/../../../../include/c++/4.7/bits/unique_ptr.h:142:7：注意：候选构造函数不可行：需要单个参数“__u”，但提供了 2 个参数
      unique_ptr(unique_ptr&& __u) noexcept
      ^
/usr/lib/gcc/x86_64-linux-gnu/4.7/../../../../include/c++/4.7/bits/unique_ptr.h:262:7：注意：候选构造函数不可行：需要 1 个参数，但提供了 2 个参数
      unique_ptr(const unique_ptr&) = 删除；
      ^
产生 1 个错误。

```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T10:08:26.533

您的`lock_scope`类型被声明为包装指向 的指针`std::atomic<int>*`，即 a `std::atomic<int>**`。`free_lock`声明和定义正确地反映了这一点。

但是随后您尝试`lock_scope`使用仅指向 a 的指针来初始化`std::atomic<int>`（少一个间接）。

编译器消息相当清楚地表明：

```
[...] candidate constructor not viable: 
no known conversion from 'std::atomic *' to 'pointer' (aka 'std::atomic **') [...] 
```

`lck`您需要为包装或更改提供额外的间接，`lock_scope`并`free_lock` 减少使用一个间接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T07:25:52.960

您可以转换 return lock_scope(..); 返回 std::move(lock_scope(...) );

因为 std::unique_ptr::operator = (const std::unique_ptr& ) 是私有的；

# php - .htaccess 重定向问题

> ID：14907934
> 
> 赞同：1
> 
> 时间：2013-02-16T07:11:31.580
> 
> 标签：php, mysql, .htaccess

我陷入了这个 .htaccess 问题，无法获得解决方案。尝试了一切，但由于我是 htaccess 新手，可能是代码不匹配，它给了我一个错误。

有一个我正在工作的php文件..

这是我现在得到的结果

[http://website.com/page.php?url=diploma-in-film-acting](http://website.com/page.php?url=diploma-in-film-acting)

现在我希望它像这样工作

[http://website.com/diploma-in-film-acting](http://website.com/diploma-in-film-acting)

或者可能是这个

[http://website.com/diploma-in-film-acting.html](http://website.com/diploma-in-film-acting.html)

我怎样才能让它工作？？？

我已经使用过这段代码

我已经这样做了，但是当我将它添加到网址[http://website.com/diploma-in-film-acting.html时出现 404 错误](http://website.com/diploma-in-film-acting.html)

```
RewriteEngine On

RewriteRule ^([a-zA-Z0-9-/]+).html$ page.php?url=$1
RewriteRule ^([a-zA-Z0-9-/]+).html/$ page.php?url=$1 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:18:07.010

```
RewriteEngine On
RewriteRule ^([^/]*)\.html$ /page.php?url=$1 [L] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T07:18:41.397

使用`mod_rewrite`阿帕奇！在你的`.htaccess`，给这个：

```
RewriteEngine On
RewriteRule ^([^/]*)\.html$ /page.php?url=$1&%{QUERY_STRING} [L] 
```

对于基于目录的重写，使用这个：

```
RewriteEngine On
RewriteRule ^([^/]*)\.html$ /page.php?url=$1&%{QUERY_STRING} [L]
RewriteCond %{SCRIPT_FILENAME} !-f
RewriteCond %{SCRIPT_FILENAME} !-d
RewriteRule ^(.*)$ /page.phpurl$1&%{QUERY_STRING} 
```

可选地，如果您有任何查询字符串，它将通过`&%{QUERY_STRING}`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T07:29:27.447

现在可以使用了：-

```
RewriteEngine On

RewriteRule ^([a-zA-Z0-9-/]+).html$ page.php?url=$1
RewriteRule ^([a-zA-Z0-9-/]+).html/$ page.php?url=$1 
```

# android - Android 数据库中的 JSON

> ID：14907940
> 
> 赞同：0
> 
> 时间：2013-02-16T07:11:56.583
> 
> 标签：android, database, json

我对 Android 开发和 Json 非常陌生。我想实现以下功能....

我设计了一个 UI 表单，用户将在其中输入一些关于他的电话、姓名、照片、地址等的信息。现在我想做的是：（如果我走错了方向，请更正）我想采取在表单中输入的信息并将整个信息作为 JSON 字符串存储在数据库中。所以对于每个填写表单的用户，数据库中都会有一个关于他的信息的唯一 json 字符串。我该怎么做呢？我应该首先检索数组中的整个数据，然后将其转换为 jsONObject 或 JSON 字符串或 JSONArray？我对这些事情是如何工作的并且彼此之间相互关联感到很困惑？

帮助！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T07:24:52.413

我认为这个想法未能达到保留数据库表及其字段的主要目的。当数据来自服务器或 URL 时，主要使用 JSON。解析Json，您可以获得所需的数据并将其存储到本地数据库中。

不过这里有一些使用 json 的简单方法：[JSON PARSING](http://droidketchup.blogspot.in/2012/03/simple-json-parser-in-android.html)

# django - 使用 Apache 虚拟主机的 Django 1.4

> ID：14907944
> 
> 赞同：0
> 
> 时间：2013-02-16T07:13:18.193
> 
> 标签：django

我正在 Apache 上安装 django 1.4，我也打算为 PHP 应用程序使用相同的网络服务器。我的操作系统是 Ubuntu 12.04 LTS。如果我在主 conf 文件上进行配置，localhost 将直接指向 Django 安装页面，甚至 PHP 应用程序也是如此。所以我在 /etc/apache2/sites-available 创建了一个 vhost 文件并将其命名为“项目” . 但是，在我看来，它无法指向 wsgi 文件。这是我的配置：

```
<VirtualHost *:80>
    DocumentRoot /var/www/project/
    ServerName project
    WSGIScriptAlias / /var/www/project/project/wsgi.py

    <Directory "/var/www/project/project">
         <Files wsgi.py>
            Order deny,allow
            Allow from all
         </Files>
   </Directory>

</VirtualHost> 
```

这是我的 wsgi.py 文件：

```
import os
import sys

sys.path.append('/var/www/project')
os.environ['DJANGO_SETTINGS_MODULE'] = 'project.settings'
import django.core.handlers.wsgi
application = django.core.handlers.wsgi.WSGIHandler() 
```

我错过了什么？我坚信这与`<VirtualHost>`指令有关，因为即使我故意在那里做一些语法错误，它也不会读取 wsgi 文件，并且当我重新启动它时 Apache 没有检测到这些。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T10:48:21.553

那是愚蠢的。我差点忘了 python 会在 8000 端口上运行！

我实际上需要进入项目文件夹的第一级并通过执行以下命令运行 Django 开发服务器：`python manage.py runserver`

谢谢。

# machine-learning - 哪种机器学习算法适合从另一个时间序列预测一个时间序列？

> ID：14907948
> 
> 赞同：9
> 
> 时间：2013-02-16T07:13:35.107
> 
> 标签：machine-learning, time-series, hidden-markov-models

你是一架飞机跟踪一艘穿越海洋的敌舰，所以你已经收集了这艘船的一系列 (x,y,time) 坐标。你知道一艘隐藏的潜艇会和船一起旅行以保护它，但是虽然它们的位置之间存在相关性，但潜艇经常会从船上徘徊，所以虽然它经常靠近它，但它也可能在它的另一侧世界偶尔。您想预测潜艇的路径，但不幸的是它对您隐藏。

但在 4 月的某个月，您注意到潜艇忘记隐藏自己，因此在 1,000 次航行中，您拥有潜艇和船的一系列坐标。使用这些数据，您想建立一个模型，仅根据船的运动来预测隐藏潜艇的路径。幼稚的基线会说“潜艇位置猜测=”船的当前位置”，但从 4 月份潜艇可见的数据中，您注意到潜艇有领先于船舶的趋势，所以“潜艇位置“guess = ship's position in 1 minute”是一个更好的估计。此外，4月份的数据显示，当船在水中停留较长时间时，潜艇很可能在远处巡逻沿海水域。还有其他模式当然。

给定 4 月份的数据作为训练数据，你将如何构建这个模型来预测潜艇的路径？我目前的解决方案是一个特别的线性回归，其中因素是“行程时间”、“货船的 x 坐标”、“货船闲置 1 天”等，然后让 R 计算权重并进行交叉-验证。但我真的很想有一种方法可以从 4 月的数据中自动生成这些因素。此外，使用序列或时间的模型会很好，因为线性回归没有，我认为它是相关的。

编辑：我用虚构的故事重新阐述了这个问题，所以它不那么令人困惑。我发布的原始问题是：

我有两个科目的眼球追踪数据——一个老师和一个学生。它采用 (x, y, time) 的形式，因此每个主题都有一系列这些。老师看什么会影响学生看什么。我将使用什么方法来预测学生正在看什么，只使用教师数据？假设我可以使用一组黄金标准的学生和教师数据来训练一些学习算法。

鉴于维基百科中的定义，我认为隐藏马尔可夫模型是合适的，但我不确定如何在我的数据集上将其付诸实践。

更多细节：我有关于教师和学生如何查看地图和一些读数的数据。我有 40 个这样的数据集，它们看起来像 [(366,234,0), (386,234,5), ...] 这意味着老师在 0 时间查看点 (366,234)，然后 5 秒后向上移动查看坐标 (386, 234)。我可以学习一个模型来理解老师如何看待内容之间的关系，以预测学生如何看待相同的内容。所以也许学生看内容的顺序与老师相同，但速度较慢。或者也许学生没有四处张望，但老师扫描了更多的内容。我有两组数据，想看看我能得到的模型有多准确——我能在老师看起来行为的 50 像素内预测学生的观察行为吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-17T14:57:10.303

我建议看一下[卡尔曼滤波器](http://en.wikipedia.org/wiki/Kalman_filter)，或者更一般地说，状态空间模型 (SSM)，它们在下面推荐的书中定义为“就像 HMM，除了隐藏状态是连续的”。

我可以推荐一本关于该主题的书籍章节——Kevin P. Murphy 的“机器学习：一种概率方法”中的第 18 章；还有在线资源（查找卡尔曼滤波器），但我不能推荐任何特定的。

编辑：你可以在[这里](https://stats.stackexchange.com/questions/4296/r-code-for-time-series-forecasting-using-kalman-filter)找到使用卡尔曼滤波器和 R 来预测时间序列的参考资料。

希望这可以帮助，

# algorithm - 二叉树：打印二叉树中节点祖先的非递归例程？

> ID：14907949
> 
> 赞同：1
> 
> 时间：2013-02-16T07:13:53.453
> 
> 标签：algorithm, language-agnostic, binary-tree, non-recursive

我必须编写一个非递归程序来打印二叉树中给定节点的祖先（父节点）。我应该使用什么逻辑？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:18:00.237

[使用此处列出](http://en.wikipedia.org/wiki/Tree_traversal#Implementations)的任何迭代实现，并在到达祖父节点时停止（node.Left.Left = 期望 OR node.Left.Right = 期望 OR node.Right.Left = 期望 OR node.Right.Right = 期望）。您显然首先需要测试候选节点确实有孙子节点。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T19:16:47.303

使用非递归子例程遍历二叉树（请参阅[http://en.wikipedia.org/wiki/Tree_traversal#Implementations](http://en.wikipedia.org/wiki/Tree_traversal#Implementations)）并维护一个堆栈以存储该数组中的所有父节点，并且无论何时从堆栈中适当地弹出从堆栈中弹出元素。最后，当您找到该元素时，堆栈中第二个最上面的元素将是祖先。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-17T12:28:51.623

你可以做一个标准的树遍历并记住最后两个步骤，就像一个有限的堆栈。下面的片段使用一个指针数组[2] 来记住最后两个步骤（注意：“opa”是荷兰语的“granddad”）：

```
#include <stdio.h>
#include <stdlib.h>

struct tree_node {
    struct tree_node * left;
    struct tree_node * right;
    int data;
};

        /* a bonsai-tree for testing */
struct tree_node nodes[10] =
/* 0 */ {{ nodes+1, nodes+2, 10}
/* 1 */ ,{ nodes+3, nodes+4, 5}
/* 2 */ ,{ nodes+5, nodes+6, 17}
/* 3 */ ,{ nodes+7, nodes+8, 3}
/* 4 */ ,{ nodes+9, NULL, 7}
/* 5 */ ,{ NULL, NULL, 14}
/* 6 */ ,{ NULL, NULL, 18}
/* 7 */ ,{ NULL, NULL, 1}
/* 8 */ ,{ NULL, NULL, 4}
        };

struct tree_node * find_opa(struct tree_node *ptr, int val)
{
struct tree_node *array[2] = {NULL,NULL};
unsigned step=0;

for (step=0; ptr; step++) {
        if (ptr->data == val) break;
        array[ step % 2] = ptr;
        ptr = (val < ptr->data) ? ptr->left : ptr->right;
        }

return ptr ? array[step %2] : NULL;
}

void show(struct tree_node *ptr, int indent)
{
if (!ptr) { printf("Null\n"); return; }

printf("Node(%d):\n", ptr->data);
printf("%*c=", indent, 'L');  show (ptr->left, indent+2);
printf("%*c=", indent, 'R');  show (ptr->right, indent+2);
}

int main(void)
{
struct tree_node *root, *opa;

root = nodes;
show (root, 0);

opa = find_opa(root, 4);
printf("Opa(4)=:\n" );
show (opa, 0);
return 0;
} 
```

# arrays - 将 CSV 文件的内容加载到数组而不打开文件

> ID：14907952
> 
> 赞同：2
> 
> 时间：2013-02-16T07:13:59.297
> 
> 标签：arrays, excel, vba, macos, excel-2011

我需要将 6000 多个 csv 文件整理成一个 csv 文档。当前的 VBA 流程是： 1\. 打开单个 CSV 数据文件 2\. 根据行数将文件内容加载到数组 3\. 关闭单个 CSV 文件 4\. 处理数组

为了提高代码和处理的效率，我希望有一种方法可以将单个 CSV 文件中的数据加载到数组中，而无需打开和关闭每个文件。

我正在使用 Excel 2011 for Mac。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T11:49:56.210

好的，我假设所有 6000 个文件都具有相同的格式。

我的测试条件

1.  我有一个名为 C:\Temp\ 的文件夹，其中包含 6000 个 CSV 文件
2.  所有 csv 文件都有 40 行和 16 列
3.  在 Excel 2010 中对其进行了测试。无法访问 2011。将在 2011 年大约 30 分钟内对其进行测试。

**我运行了下面的代码，代码只用了 4 秒。**

```
Option Explicit

Sub Sample()
    Dim strFolder As String, strFile As String
    Dim MyData As String, strData() As String
    Dim FinalArray() As String
    Dim StartTime As String, endTime As String
    Dim n As Long, j As Long, i As Long

    strFolder = "C:\Temp\"

    strFile = Dir(strFolder & "*.csv")

    n = 0

    StartTime = Now

    Do While strFile <> ""
        Open strFolder & strFile For Binary As #1
        MyData = Space$(LOF(1))
        Get #1, , MyData
        Close #1

        strData() = Split(MyData, vbCrLf)
        ReDim Preserve FinalArray(j + UBound(strData) + 1)
        j = UBound(FinalArray)

        For i = LBound(strData) To UBound(strData)
            FinalArray(n) = strData(i)
            n = n + 1
        Next i

        strFile = Dir
    Loop

    endTime = Now

    Debug.Print "Process started at : " & StartTime
    Debug.Print "Process ended at : " & endTime
    Debug.Print UBound(FinalArray)
End Sub 
```

**文件夹截图**

![在此处输入图像描述](../Images/141412646ad4d0e48075c3b3b0d40203.png)

**代码输出的屏幕截图**

![在此处输入图像描述](../Images/adaddf1dc3fb635b2a94c19a93fafc32.png)

* * *

**更新**

好的，我在 MAC 中测试过

我的测试条件

1.  我在桌面上有一个名为 Sample 的文件夹，其中包含 1024 个 CSV 文件
2.  所有 csv 文件都有 40 行和 16 列
3.  在 Excel 2011 中对其进行了测试。

**我运行了下面的代码，代码用时不到 1 秒（因为只有 1024 个文件）。因此，如果有 6k 个文件，我希望它再次运行 4 秒**

```
Sub Sample()
    Dim strFile As String
    Dim MyData As String, strData() As String
    Dim FinalArray() As String
    Dim StartTime As String, endTime As String
    Dim n As Long, j As Long, i As Long

    StartTime = Now

    MyDir = ActiveWorkbook.Path
    strPath = MyDir & ":"

    strFile = Dir(strPath, MacID("TEXT"))

    'Loop through each file in the folder
    Do While Len(strFile) > 0
        If Right(strFile, 3) = "csv" Then
            Open strFile For Binary As #1
            MyData = Space$(LOF(1))
            Get #1, , MyData
            Close #1

            strData() = Split(MyData, vbCrLf)
            ReDim Preserve FinalArray(j + UBound(strData) + 1)
            j = UBound(FinalArray)

            For i = LBound(strData) To UBound(strData)
                FinalArray(n) = strData(i)
                n = n + 1
            Next i

            strFile = Dir
        End If
        strFile = Dir
    Loop

    endTime = Now

    Debug.Print "Process started at : " & StartTime
    Debug.Print "Process ended at : " & endTime
    Debug.Print UBound(FinalArray)
End Sub 
```

**文件夹截图**

![在此处输入图像描述](../Images/269ef9e66a3c355965cd0ab5dc841340.png)

**代码输出的屏幕截图**

![在此处输入图像描述](../Images/9cc41fab7e40633ae2e887492af5c905.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-07-29T19:34:56.897

您*不需要*使用 Excel 来执行此操作，您可以在命令提示符下使用 windows 复制进行合并，方法是输入：

```
copy *.csv mergedfilename.csv 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-16T07:25:47.047

在我看来，您的问题没有 Excel 答案 - 无论如何，当然不在其正常定义范围内。

解决它的正确方法是使用适合该任务的编程语言；perl，例如，甚至命令 shell，来组合文件。Excel 不是为恒定文件 i/o 而设计的，但 perl 非常擅长处理大量文件。我在一个相对较小的 unix 服务器上在几分钟内执行了一个类似的项目（组合数百万个文件）。

正如 nneonneo 在评论中建议的那样，您还可以使用命令 shell 将文件组合在一起（cat=concatenate）；我不能说哪个更快。Perl 肯定会花费更长的时间来编写代码，特别是如果您必须先学习 perl（尽管网上有很多示例）。

# ruby - Gtk Notebook“更改当前页面”不起作用

> ID：14907954
> 
> 赞同：0
> 
> 时间：2013-02-16T07:14:16.107
> 
> 标签：ruby, gtk

我正在使用 gtk 笔记本。如果用户更改当前页面，我需要一些按钮应该处于活动状态。但是 current-page-change 不起作用，所以什么也没有发生。我尝试了“切换页面”信号，但当我询问“notebook.page”时它给了我上一页码。但是我需要如果用户更改当前页面，我应该知道选择了哪个页面。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:56:10.393

该`switch-page`信号将新的页码作为参数发送给处理程序，因此您无需询问笔记本即可获取它。

笔记本没有正确回答的原因是当`switch-page`被处理时，切换还没有完成。（这允许您的处理程序取消切换或切换到不同的页面。）要在执行切换后连接到信号，请调用`connect_after`，在这种情况下，您将从笔记本中获取新的页码。

# iphone - 我们可以根据内容放大 WebView 的高度吗？

> ID：14907958
> 
> 赞同：1
> 
> 时间：2013-02-16T07:15:17.193
> 
> 标签：iphone, ios, xcode, webview

我们正在开发一个显示“提示”列表的应用程序，其中“提示”的描述为 HTML 格式，并且可能包含“”标签。

我们正在使用 WebView 显示描述，并希望根据“提示”描述的内容扩展 WebView 的高度（放大高度）。

如果有任何可能，请告诉我们。

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T07:38:53.700

在 webViewDidFinishLoad 委托方法中，从 html 正文中获取高度。

```
- (void)webViewDidFinishLoad:(UIWebView *)webView
{

float newHeight= [[self.webView stringByEvaluatingJavaScriptFromString:@"document.body.scrollHeight"] floatValue]; 
```

**或者**

如果你想用 id 检索特定 div 标签的高度（`example:<div id='tips' style='background: red'>This is just an example test.</div`>

//然后，这样做

```
NSString *output = [webview stringByEvaluatingJavaScriptFromString:@"document.getElementById(\"tips\").offsetHeight;"]; 
```

//将其转换为浮动

//然后像这样设置新的高度。

```
[webview setBounds:CGRectMake(oldBounds.x, oldBounds.y, oldBounds.width, newHeight)]; 
```

}

快乐编码:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T07:25:09.130

那么该`[webView setFrame:Frame]`方法可以用于以编程方式设置高度。问题是如何获取HTML内容的高度。如果您可以获得内容的高度，那么它是一个可行的选择

# c++ - opencv中的镜像

> ID：14907964
> 
> 赞同：2
> 
> 时间：2013-02-16T07:16:34.157
> 
> 标签：c++, image, opencv, image-processing

我需要翻转（镜像）从网络摄像头收到的帧，然后我遵循如下代码：

```
cv::flip(gray,gray,1);
imshow("flipped",gray); 
```

灰色是 cv::Mat 格式，翻转是 cvNamedWindow。我在 qt creator IDE 中遇到分段错误。我怀疑灰色的维度可能是分段错误的原因。gray 是从凸轮接收到的实际图像转换的灰度图像。如何清除错误？有人有更好的主意吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T09:22:36.470

分段错误的原因之一是您可能没有对网络摄像头传递给 OpenCV 的“坏”帧进行检查。您需要检查帧是否为 NULL，然后在流上使用翻转/其他操作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-17T16:28:04.737

我认为MingW是判决。据报道，我使用的版本有一些像这样的错误。因此，为了获得镜像，我使用翻转代码 0 翻转了 src 图像，然后将其旋转 180 度以沿 y 轴翻转它。

```
 cv::Mat dst;
    cv::flip(src,dst,0);
    Point2f src_center(dst.cols/2.0F, dst.rows/2.0F);

    cv::Mat rot_matrix = getRotationMatrix2D(src_center, 180.0, 1.0);

    cv::Mat rotated_img(Size(dst.size().height, dst.size().width), dst.type());

    warpAffine(dst, rotated_img, rot_matrix, dst.size());

    imshow("flipped",rotated_img); 
```

# java - 有和没有 JIT 的 JVM 之间的区别

> ID：14907968
> 
> 赞同：0
> 
> 时间：2013-02-16T07:17:21.577
> 
> 标签：java, jvm, jit

我指的是 Oracle 的以下文档：

[http://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/underst_jit.html#wp1080014](http://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/underst_jit.html#wp1080014)

在“1\. JRockit JVM 运行 JIT 编译”一节中提到，JIT JVM 具有更多的启动时间和更少的执行时间，反之亦然，对于没有 JIT 的 JVM。

我很困惑，因为据我所知，JIT 根据程序的执行编译代码，因此编译速度很快。并且代码将被优化，因此执行时间也会很快。

他们想用这一点表示什么？我没有正确理解它。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-16T07:32:42.260

基本上他们所说的 JIT 编译需要时间。HotSpot 实际上编译了两次代码——首先是未优化，然后是对常用部分进行优化。

因此，当您的程序启动时，根据 VM 类型，它首先以解释模式运行字节码，或者等待其编译并切换到编译版本，然后如果代码使用频繁，则重新编译并进行更多优化。这一切都需要资源和时间，因此启动速度较慢，但​​是当程序预热时，它运行得很快。

在解释模式下，没有 JIT，VM 只是立即开始解释代码，因此它启动得更快，但性能更差。

# java - Derby - 使用相同的 Connection 创建 PreparedStatement 时，获取 RETURN_GENERATED_KEYS 似乎不是线程安全的

> ID：14907969
> 
> 赞同：2
> 
> 时间：2013-02-16T07:17:28.743
> 
> 标签：java, jdbc, derby, javadb

我使用 Statement.RETURN_GENERATED_KEYS 一个接一个地运行两个 INSERT sql 调用，每个插入都分配了自己的唯一 ID。

每个调用都是使用 connection.prepareStatement 生成的，其中连接可以由不同的线程（连接池或嵌入式数据库 - 无论哪种方式都是同一个问题）重用。

所以当我这样做时：

```
result = preparedStatement.getGeneratedKeys();
result.next();
return result.getInt(1); 
```

***返回的数字似乎不是线程安全的！***它通常从通过的第一个线程中获取生成的 ID。

基本上，如果我运行多个线程，则 INSERTS 工作正常，但随后尝试获取自动生成的唯一 ID，它会返回相同的 ID。再次，我怀疑这是因为连接是共享的，我是怎么做的

```
connection.prepareStatement(sqlString, Statement.RETURN_GENERATED_KEYS); 
```

我看到有许多替代参数，但我不熟悉它们。我怎样才能以某种方式保证每个preparedStatement 稍后都会返回它自己唯一的自动生成的ID？

**更新：** *这似乎只发生在嵌入式 derby 数据库驱动程序中......*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T08:05:46.250

为避免这种情况，您必须从以下位置关闭 PreparedStatement：

```
connection.prepareStatement(sqlString, Statement.RETURN_GENERATED_KEYS); 
```

**在您创建另一个preparedStatement**之前。**看起来嵌入式 Derby 驱动程序中可能假设调用数据库的代码（至少对于 INSERTS）永远不会被线程化。如果您要对其进行线程化，则**不要**使用嵌入式驱动程序。**

 *** * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T15:43:49.957

您可以在三行代码周围使用自己的 Java 同步块，如下所示：

```
synchronized( preparedStatement )
{
    result = preparedStatement.getGeneratedKeys();
    result.next();
    return result.getInt(1);
} 
```**

# c++ - 在c ++中读取已知格式的数据

> ID：14907972
> 
> 赞同：3
> 
> 时间：2013-02-16T07:17:40.520
> 
> 标签：c++, file-io, ifstream

我有一个 txt 文件，其中包含用空格分隔的浮点数，如下所示：

> 3.141600 7.54654
> 
> 4.021560 7.54654
> 
> 7.54654 4.021560
> 
> 9.549844 3.141600

我使用以下代码读取数据..

```
int main ()
{

    ifstream file("myFile.txt");

    float x;
    float y;

    while(file >> x >> y)
    std::cout << x << ' ' << y << std::endl;

    system ("pause");
} 
```

这工作得很好......

现在我得到了一个非常奇怪的文本文件，其中包含以下内容：

> {\rtf1\ansi\ansicpg1252\deff0\deflang1033{\fonttbl{\f0\fswiss\fcharset0 Arial;}}
> 
> {*\generator Msftedit 5.41.15.1507;}\viewkind4\uc1\pard\f0\fs20 0.017453293\tab
> 
> 2.01623406\par
> 
> 0.087266463\tab 2.056771249\par
> 
> 0.191986218\tab 2.045176705\par
> 
> 0.27925268\tab 1.971733548\par
> 
> 0.366519143\tab 1.844657601\par
> 
> 0.453785606\tab 1.669694097\par
> 
> 0.541052068\tab 1.4539812\par
> 
> 0.628318531\tab 1.205819241\par
> 
> 0.715584993\tab 0.934405231\par
> 
> 0.802851456\tab 0.649540807\par

...... 等等...

我想读取这个文件并获取 x（出现在之前`\tab`）和 y（出现在之前`\par`）值我该怎么做？注意没有空格。这是知道的，`\tab`并`\par`出现在所有数据行中。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-16T07:20:57.160

您的“奇怪的文本文件”是 RTF 格式。[您可以尝试自己编写解析器，但使用http://sourceforge.net/projects/librtf/](http://sourceforge.net/projects/librtf/)之类的库可能会更好。

更好的是，询问给你数据的人以*正确的*格式发送数据。在我看来，在 RTF 文件中处理的数据有点荒谬。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-16T07:50:48.620

您始终可以使用正则表达式，例如：

```
 std::string pattern("(\\d+.\\d+)\\\\tab[^\\d]+(\\d+.\\d+)\\\\par");
    std::regex r(pattern);

    std::ifstream ifs("input_data.txt");

    std::string data;
    while(getline(ifs, data))
    {
        for (std::sregex_iterator it(data.begin(), data.end(), r), end_it; it != end_it; ++it)
        {
            std::cout << it->str(1) << " " << it->str(2) << std::endl;
        }
    } 
```

(!) 如果 X 和 Y 值之间有换行符，您可能需要以字符串形式读取文件的内容。

**编辑：**

使用原始字符串文字的模式：

`std::string pattern(R"((\d+.\d+)\\tab[^\d]+(\d+.\d+)\\par)");`

# c - 在声明函数之外访问二维数组中的结构

> ID：14907977
> 
> 赞同：0
> 
> 时间：2013-02-16T07:18:19.780
> 
> 标签：c, memory-management, malloc

我正在尝试访问我创建的返回的二维结构数组。我可以在创建它们的函数中访问它们，但在我传递它时似乎丢失了引用。我已经厌倦了一千种方法来做到这一点，但似乎并没有什么不同。总是有段错误。

我目前的运行情况如下：

一个简单的结构：

```
typedef struct{
    int weight;
} myStruct_t; 
```

为 myStruct_t 创建二维数组的函数。我目前的尝试是创建一个新变量作为指向“map”的指针，如最后两行所示。

```
myStruct_t*** makeGrid(int sizeX, int sizeY)
{  
    int i;

    myStruct_t **map = malloc(sizeX * sizeof(*map));  

    if(map == NULL){
        printf("Unable to set memory, Exiting\n");
        exit(1);
    }else{  
        for ( i = 0; i < sizeX; i++)
        {
            map[i] = malloc(sizeY*sizeof(myStruct_t));

            if(map[i] == NULL)
            {
                printf("Unable to set memory, Exiting\n");
                exit(1);
            }else{
                printf("success!\n");
            }
        }
    }

    myStruct_t ***mapPtr = &map;
    return mapPtr;  
} 
```

然后在另一个文件中：

```
void initSys(){
    myStruct_t** map = *myStruct_t(100,100);    
    map[0][0].weight = 7;

   //or i also just tried
   //myStruct_t*** map = myStruct_t(100,100);
   //(*map)[0][0].weight = 7;

} 
```

输出是 SegFault。令人惊讶的是，我以如此之快的速度完全忘记了 C 内存管理，而且我似乎无法找回它！

任何建议都会很棒。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:23:04.933

错误已上线

```
myStruct_t ***mapPtr = &map; 
```

它应该是：

```
 return map; 
```

您需要将返回类型更改为双指针。

当您返回 "&map" 时，您将返回变量的地址`map`。由于变量`map`存储在堆栈中，因此您将地址返回到无效内存。

# c++ - Do-while 无休止地循环 cout，忽略 cin

> ID：14907978
> 
> 赞同：2
> 
> 时间：2013-02-16T07:18:20.670
> 
> 标签：c++, infinite-loop, do-while

该程序在指定范围内打印指定数量的数字。但是，当我输入一个字符时，它只会无限循环我在其中执行的任何一个循环。例如：如果我在“输入最大数字”cin 中输入一个字符，它只会无休止地发送“输入最大数字”垃圾邮件，它只是跳过cin 并循环 cout（其他 2 个 do-while 也是如此。有人知道为什么吗？

```
#include <iostream>
#include <cmath>
#include <cstdlib>
#include <ctime>

using namespace std;

int roll(int mini, int maxi)
{
        int v = maxi - mini;
        int x  = mini + (rand() % (v+1));
        return x;

}
void caller()
{
    int a;
    int b;
    int c;

    do {
    cout << "Enter minimum number" << endl;
    cin.clear();
    cin >> a;
    } while (cin.fail());

    do {
    cout << "Enter maximum number" << endl;
    cin.clear();
    cin >> b;
    } while (cin.fail() || a > b);

    do {
    cout << "How many rolls?" << endl;
    cin.clear();
    cin >> c;
    } while (cin.fail());

    for (int i = 0; i < c; i++)
    cout << roll(a, b) << endl;
}

int main()
{
    srand (time(NULL));
    caller();
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:48:59.087

我不喜欢使用`istream::fail()`循环控制。请参阅[为什么循环条件内的 iostream::eof 被认为是错误的？](https://stackoverflow.com/q/5605125/78845)对于类似的问题。

相反，我依赖于`istream::operator >>`.

我还使用以下函数来重置标志并清除输入流上的输入：

```
void flush_stream(std::istream& stream)
{
    stream.clear();
    stream.ignore(std::numeric_limits<std::streamsize>::max(), '\n');
} 
```

请参阅[如何刷新 cin 缓冲区？](https://stackoverflow.com/questions/257091/how-do-i-flush-the-cin-buffer)了解更多信息。

所以我会这样编码你的输入检查：

```
int get_valid_number(const std::string& prompt)
{
    int number = 0;

    bool valid = false;
    while (!valid)
    {
        std::cout << prompt << std::endl;
        if (std::cin >> number)
        {
            valid = true;
        }
        flush_stream(std::cin);
    }

    return number;
} 
```

希望将其提取到函数中的好处是显而易见的。[看它运行](http://ideone.com/R7EzgY)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T08:35:27.563

你可以尝试做类似的事情

```
int a;
string trash;

do {
  cout << "Enter minimum number" << endl;
  cin >> a;

  if(cin.fail()){
    cin.clear();
    cin >> trash;
  }

} while (cin.fail()); 
```

这将通过将 cin 流中的任何错误输入扔到`trash`字符串中来删除它。

此链接可以帮助您`cin`更好地理解这些功能。

[http://web.eecs.utk.edu/~cs102/lectures/cinLecture.html](http://web.eecs.utk.edu/~cs102/lectures/cinLecture.html)

# android - 如何在 onActivityResult 方法的自定义列表视图中添加项目？

> ID：14907984
> 
> 赞同：2
> 
> 时间：2013-02-16T07:18:59.197
> 
> 标签：android, listview

我正在使用 android 相机开发一个简单的视频应用程序。在我的应用程序中，我有一个名为“制作视频”的按钮和一个列表视图，用于显示我的应用程序录制的视频名称。现在，当我单击“制作视频”按钮时，它会打开我的移动摄像头进行录制，但是当我完成录制时，摄像头会给我两个选项。“保存”和“丢弃”。现在通过单击“保存”选项，我想将录制的视频的名称添加到我的列表视图中。我在这方面开发了一些代码，它工作正常，但我面临的问题是如何在 onActivityResult 方法的列表视图中添加录制视频的名称并更新我的列表视图。请帮助我，我会非常感谢你。

您可以在下面查看我的代码。

```
public class MainActivity extends ListActivity 
{

    private ArrayList<String> cameraVideoList = new ArrayList<String>();

    Context ctx;
//  Resources res;

     int REQUEST_VIDEO_CAPTURED =1;
     Uri uriVideo = null;

    @Override
    protected void onCreate(Bundle savedInstanceState) 
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        ctx = getApplicationContext();

        Button makeVideo = (Button) findViewById(R.id.button1);
        makeVideo.setOnClickListener(new OnClickListener() 
        {
            public void onClick(View v) 
            {
                //Intent intent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
                Intent intent = new Intent(android.provider.MediaStore.ACTION_VIDEO_CAPTURE);
                startActivityForResult(intent, REQUEST_VIDEO_CAPTURED);

            }
        });

        ListView videoList = getListView();

        videoList.setOnItemClickListener(new OnItemClickListener()
        {
           @Override
            public void onItemClick(AdapterView<?> arg0, View arg1, int position,long arg3) 
           {
                Toast.makeText(MainActivity.this, "" + position, Toast.LENGTH_SHORT).show();

            }
        });

        setListAdapter(new ImageAndTextAdapter(ctx, R.layout.list_item_icon_text, cameraVideoList));

    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) 
    {
        // TODO Auto-generated method stub
        super.onActivityResult(requestCode, resultCode, data);

        if (resultCode == RESULT_OK)
        {
            if (requestCode == REQUEST_VIDEO_CAPTURED) 
            {
                uriVideo = data.getData();
//                Toast.makeText(MainActivity.this, uriVideo.getPath(),
//                        Toast.LENGTH_LONG).show();
//                
//                Toast.makeText(MainActivity.this, uriVideo.toString(),
//                        Toast.LENGTH_LONG).show();

                cameraVideoList.add(getFileNameFromUrl(uriVideo.getPath().toString()));

            }
        }
    }

    public String getFileNameFromUrl(String path) 
    {
        String[] pathArray = path.split("/");
        return pathArray[pathArray.length - 1];
    }

    public class ImageAndTextAdapter extends ArrayAdapter<String>
    {
        private LayoutInflater mInflater;
        private ArrayList<String> mStrings;
        private int mViewResourceId;

        public ImageAndTextAdapter(Context context, int textViewResourceId,ArrayList<String> objects) 
        {
            super(context, textViewResourceId, objects);
            mInflater = (LayoutInflater)ctx.getSystemService(Context.LAYOUT_INFLATER_SERVICE);

            mStrings = objects;
            mViewResourceId = textViewResourceId;
        }

        public View getView(int position, View convertView, ViewGroup parent) 
        {
            convertView = mInflater.inflate(mViewResourceId, null);

            ImageView iv = (ImageView)convertView.findViewById(R.id.icon);
            iv.setImageResource(R.drawable.video_icon);

            TextView tv = (TextView)convertView.findViewById(R.id.text);
            tv.setText(mStrings.get(position));

            return convertView;
        }
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:26:32.447

当你走正确的路，但这里有一些改变是必需的。

1.  当您创建不起作用的自定义适配器类对象时，因为当您更改列表对象中的数据时，您必须通过适配器通知列表视图内容。

声明`ImageAndTextAdapter adapter;`为全局和私有对象

```
onCreate(){

    adapter = new ImageAndTextAdapter(ctx, R.layout.list_item_icon_text, cameraVideoList);
    videoList.setAdapter(adapter);

} 
```

现在在 onActivityResult 中添加新记录到列表对象后，只需调用适配器类的 notifyDataSetChange()

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) 
{
    // TODO Auto-generated method stub
    super.onActivityResult(requestCode, resultCode, data);

    if (resultCode == RESULT_OK)
    {
        if (requestCode == REQUEST_VIDEO_CAPTURED) 
        {
            uriVideo = data.getData();

            cameraVideoList.add(getFileNameFromUrl(uriVideo.getPath().toString()));

            adapter.notifyDatasetChanged(); // here
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-16T07:26:52.537

**第一种方式。**

在这条线上。您创建了`ImageAndTextAdapter`无法访问的对象。

```
setListAdapter(new ImageAndTextAdapter(ctx, R.layout.list_item_icon_text, cameraVideoList)); 
```

`ImageAndTextAdapter`在变量中提取对象

```
adapter = new ImageAndTextAdapter(ctx, R.layout.list_item_icon_text, cameraVideoList);
  setListAdapter(adapter); 
```

从这份`onActivityResult()`呼吁`notifyDataSetChanged()`的声明中`ImageAndTextAdapter`

```
if (requestCode == REQUEST_VIDEO_CAPTURED) 
{
     uriVideo = data.getData();
//   Toast.makeText(MainActivity.this, uriVideo.getPath(),
//    Toast.LENGTH_LONG).show();
//                
//   Toast.makeText(MainActivity.this, uriVideo.toString(),
//   Toast.LENGTH_LONG).show();

     cameraVideoList.add(getFileNameFromUrl(uriVideo.getPath().toString()));

     adapter.notifyDataSetChanged();
} 
```

**第二种方式。**你可以打电话`((ImageAndTextAdapter) getAdapter()).notifyDataSetChanged()`

在您的`onActivityResult()`实现中，您可以这样做

```
if (requestCode == REQUEST_VIDEO_CAPTURED) 
{
     uriVideo = data.getData();

     cameraVideoList.add(getFileNameFromUrl(uriVideo.getPath().toString()));

     ((ImageAndTextAdapter) getAdapter()).notifyDataSetChanged(); // 
} 
```

# c# - 在关闭警告中访问 foreach 变量

> ID：14907987
> 
> 赞同：86
> 
> 时间：2013-02-16T07:19:56.027
> 
> 标签：c#, .net

我收到以下警告：

> 在闭包中访问 foreach 变量。使用不同版本的编译器编译时可能会有不同的行为。

这是它在我的编辑器中的样子：

![悬停弹出窗口中的上述错误消息](../Images/f21b10b17de80f342a51fc9ae3161ee6.png)

我知道如何修复此警告，但我想知道为什么会收到此警告？

这是关于“CLR”版本的吗？它与“IL”有关吗？

* * *

## 回答 #1

> 赞同：136
> 
> 时间：2013-02-17T02:18:55.627

这个警告有两个部分。第一个是...

> 在闭包中访问 foreach 变量

...这本身并不是无效的，但乍一看它是违反直觉的。做对也很难。（以至于我在下面链接到的文章将其描述为“有害”。）

接受您的查询，注意您摘录的代码基本上是 C# 编译器（在 C# 5 之前）为`foreach`¹生成的内容的扩展形式：

> 我 [不] 明白为什么 [以下内容] 无效：
> 
> ```
> string s; while (enumerator.MoveNext()) { s = enumerator.Current; ... 
> ```

嗯，它在语法上是有效的。如果你在循环中所做的只是使用 的*值*，`s`那么一切都很好。但是关闭`s`会导致违反直觉的行为。看看下面的代码：

```
var countingActions = new List<Action>();

var numbers = from n in Enumerable.Range(1, 5)
              select n.ToString(CultureInfo.InvariantCulture);

using (var enumerator = numbers.GetEnumerator())
{
    string s;

    while (enumerator.MoveNext())
    {
        s = enumerator.Current;

        Console.WriteLine("Creating an action where s == {0}", s);
        Action action = () => Console.WriteLine("s == {0}", s);

        countingActions.Add(action);
    }
} 
```

如果您运行此代码，您将获得以下控制台输出：

```
Creating an action where s == 1
Creating an action where s == 2
Creating an action where s == 3
Creating an action where s == 4
Creating an action where s == 5 
```

这是你所期望的。

要查看您可能没想到的内容，请在上述代码*之后立即运行以下代码：*

```
foreach (var action in countingActions)
    action(); 
```

您将获得以下控制台输出：

```
s == 5
s == 5
s == 5
s == 5
s == 5 
```

为什么？因为我们创建了五个函数，它们都做同样的事情：打印`s`（我们已经关闭）的值。实际上，它们是相同的功能（“打印`s`”、“打印`s`”、“打印`s`”...）。

在我们使用它们时，它们完全按照我们的要求执行：打印`s`. 如果您查看 的最后一个已知值`s`，您会发现它是`5`。所以我们`s == 5`在控制台上打印了五次。

这正是我们要求的，但可能不是我们想要的。

警告的第二部分...

> 使用不同版本的编译器编译时可能会有不同的行为。

……就是这样。[从 C# 5 开始，编译器生成不同的代码，通过`foreach`](http://blogs.msdn.com/b/ericlippert/archive/2009/11/12/closing-over-the-loop-variable-considered-harmful.aspx).

因此下面的代码在不同版本的编译器下会产生不同的结果：

```
foreach (var n in numbers)
{
    Action action = () => Console.WriteLine("n == {0}", n);
    countingActions.Add(action);
} 
```

因此，它也会产生 R# 警告 :)

上面我的第一个代码片段将在所有版本的编译器中表现出相同的行为，因为我没有使用`foreach`（相反，我已经按照 C# 5 之前的编译器所做的方式对其进行了扩展）。

> 这是CLR版本吗？

我不太确定你在这里问什么。

Eric Lippert 的帖子说变化发生在“C# 5”中。所以~~大概您必须以 .NET 4.5 或更高版本为目标~~使用 C# 5 或更高版本的编译器来获得新的行为，而在此之前的所有东西都会获得旧的行为。

但需要明确的是，它是编译器的功能，而不是 .NET Framework 版本。

> 与IL有关系吗？

不同的代码会产生不同的 IL，因此从这个意义上说，生成的 IL 会产生影响。

¹ `foreach`是比您在评论中发布的代码更常见的构造。该问题通常是通过使用而`foreach`不是通过手动枚举出现的。这就是为什么 C# 5 中的更改`foreach`有助于防止这个问题，但不是完全的。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2015-06-03T01:07:23.427

第一个答案很好，所以我想我只添加一个东西。

您收到警告是因为，在您的示例代码中，reflectModel 被分配了一个 IEnumerable，它只会在枚举时被评估，如果您将 reflectModel 分配给范围更广的东西，枚举本身可能发生在循环之外.

如果你改变了

`...Where(x => x.Name == property.Value)`

至

`...Where(x => x.Name == property.Value).ToList()`

然后 reflectModel 将在 foreach 循环中分配一个明确的列表，因此您不会收到警告，因为枚举肯定会发生在循环内，而不是循环外。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2016-05-26T12:34:06.350

块范围的变量应该解决警告。

```
foreach (var entry in entries)
{
   var en = entry; 
   var result = DoSomeAction(o => o.Action(en));
} 
```

# c - 在 C 中获取 HTTP 响应的大小

> ID：14907996
> 
> 赞同：1
> 
> 时间：2013-02-16T07:21:01.250
> 
> 标签：c, http, sockets, networking, getaddrinfo

我正在构建一个模糊器（Web 应用程序安全工具），但在构建代理服务器时遇到了一些麻烦。下面是我的函数代码，该函数接收`char*`http 消息，将 ascii 中的主机名转换为 IP 地址，然后与该主机建立连接，转发请求。然后它接收响应并将其发送回客户端。

我之前使用 Boost 库在 C++ 中完成了此操作，但我真的想控制我正在做的事情，所以我选择用 C 编写它。我面临的问题是我没有得到整个响应因此 http 请求的内容部分不会被发送回客户端。我必须制作多大的响应字符串才能处理任何长度的请求？有没有比仅仅将字符串大小设置得大得离谱更好的方法呢？

我做了一些研究，似乎使用`getaddrinfo`是提出请求的方法，但我对它不是很熟悉。我也收到这个错误，上面写着：

```
malloc: *** error for object 0x7fb8a8c04fe8: incorrect checksum for freed object - object was probably modified after being freed. 
```

我最初认为这是因为我没有为字符串上的空终止符腾出空间，但似乎这不是问题。

*此外，如果您发现任何其他明显的错误或问题，请随时指出*

```
int sock;
struct addrinfo hints, *res, *res0;
int error;
memset(&hints, 0, sizeof(hints));
hints.ai_family = PF_UNSPEC;
hints.ai_socktype = SOCK_STREAM;
error = getaddrinfo(hostname, "http", &hints, &res0);
if(error){
    puts("Error translating hostname");
    exit(1);
}
int reslen;
char* response = malloc(strlen(message)+1 * sizeof(char));
for(res = res0; res; res= res->ai_next){
    sock = socket(res->ai_family, res->ai_socktype, res->ai_protocol);
    if(sock < 0) puts("sock is < 0");
    if(connect(sock, res->ai_addr, res->ai_addrlen) < 0){
        fprintf(stderr, "Error connecting to %s\n", hostname);
    }
    write(sock, message, len);
    reslen = read(sock, response, kMaxMess);
    response[reslen] = '\0';
}
close(sock);
return response; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:29:12.677

嗯，一个 HTTP 请求实际上可以是*任何*大小（例如大量的标头或发布的表单数据）。如果你真的需要一个大字符串中的所有内容，则必须以块的形式读取它，并`realloc`根据需要将其包含在缓冲区中。

但请注意，HTTP 请求也可以包含带有嵌入`NUL`字符的二进制数据。因此，您确实应该在缓冲区中返回一个长度，以便您可以安全地处理 NUL。

或者，如果您只需要解析响应而不存储它，您可以考虑在读取每个块时增量解析它。这样，您就不必将整个响应保存在内存中。

# javascript - 在引导导航栏中添加时显示动态添加的导航链接

> ID：14907997
> 
> 赞同：2
> 
> 时间：2013-02-16T07:21:04.190
> 
> 标签：javascript, jquery, css, twitter-bootstrap, tabs

我是 Bootstrap 的新手，似乎无法弄清楚这一点，我将导航栏用作 Bootstrap 的 javascript 选项卡功能，它可以动态添加和删除导航链接，我使用的是图像而不是默认导航链接，我的问题是当我添加动态导航链接时，它应该成为活动类并显示其相关内容，此时我必须单击使其激活，如果我删除任何导航链接，内容保持不变，有没有办法实现这个功能

html是：

```
<ul id="nav-tabs" data-tabs="tabs" >
          <li class="test" ><img src="assets/img/button_home_selected3.png" class="hover" width="83" /><span>Home</span></a> </li>
</ul> 
```

单击此按钮时会添加选项卡：

```
<a href="#" class="plus" title="Click to add Tabs" ><img src="assets/img/icon_plus.png"/></a> 
```

li 是使用添加的

```
var counter = 1;    
    $('.plus').click(function(e) {
        e.preventDefault();
        var li_count = $('#nav-tabs').find("li.test").length;
        if (li_count <= 3)
            if(counter <= 3){
                $('#nav-tabs').append('<li class="test" ><img src="assets/img/button_home_selected3.png" class="hover" width="83" /><span>Home</span></a><button type="button" class="close">&times;</button></div></a></li>');
                } else { alert("Only 3 Tabs Allowed!")}; 
```

选项卡的内容稍后添加类似；

选项卡中的活动类使用切换

```
$("#nav-tabs").on("click", "a", function(e) {
        e.preventDefault();
        $(this).tab('show');
        $('li.test').each(function() {
            if($(this).hasClass('active'))
            {
                //Active class is applied
                $(this).children().children().closest("img").attr("src", "assets/img/button_home_selected3.png");
                $(this).find("button").show();
            }
            else
            {
                $(this).children().children().closest("img").attr("src", "assets/img/button_home_plain2.png");
                $(this).find("button").hide();
            }

        }); 
```

li 使用新导航链接中的按钮关闭关闭，如下所示：

```
$('.close').click(function(e) {
    e.preventDefault();
    var panelId = $(this).closest("li").remove().attr("aria-controls");
    $("#tab" + panelId).remove();
    $("#nav-tabs").children("li").last().addClass("active");

    if(counter <= 1){
        counter = 1;
        }else if (counter > 1) {
            counter--;
        }
        return false;
}) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-18T13:27:59.207

您似乎没有使用标准的 Bootstrap nav/nav-tabs 标记。如果我是你，我会像这样简化**添加新标签和标签内容**...

具有创建新选项卡、选项卡内容然后使其处于活动状态的单一功能。您可以使用该`tab('show')`方法来激活新创建的选项卡：

```
$('#btnAdd').click(function (e) {
    var nextTab = $('#tabs li').size()+1;

    // create the tab
    $('<li><a href="#tab'+nextTab+'" data-toggle="tab">Tab '+nextTab+'</a></li>').appendTo('#tabs');

    // create the tab content
    $('<div class="tab-pane" id="tab'+nextTab+'">tab' +nextTab+' content</div>').appendTo('.tab-content');

    // make the new tab active
    $('#tabs a:last').tab('show');
}); 
```

## [动态引导选项卡演示](http://www.bootply.com/61679)

然后你只需要为你的图像定制一点。

# wpf - ListBox ItemTemplate 中的 WPF (XAML) 绑定

> ID：14907998
> 
> 赞同：0
> 
> 时间：2013-02-16T07:21:08.740
> 
> 标签：wpf, xaml, binding

我有一个`ContentControl`使用`ContentTemplate`.

`ContentTemplate`包含一个简单的嵌套`ListBox`在 a`Grid`中。网格具有`DataContext`使用代码设置的属性（绑定到`CollectionViewSource`- 我们称之为 cvs1）。ListBox`ItemsSource`继承自 Grid 并且 ListBox 项的填充工作正常。例如

```
<Grid x:Name="Grid1">
    <ListBox x:Name="ListBox1" ItemsSource="{Binding}" IsSynchronizedWithCurrentItem="True"/>
</Grid> 
```

ListBox 正在设置样式，主要样式存储在 ResourceDictionary 中。

我正在使用 a 为 ListBox 设置样式值`ItemTemplate`，但我还想要使用 a`DataTrigger`来动态应用不同的 Setter。我面临的挑战是我似乎无法在 DataTrigger(s) 中建立绑定到单独的 CollectionViewSource（我们称之为 cvs2）。

```
<Style TargetType="{x:Type ListBox}">
    <Style.Triggers>
        <!-- This seems to be trying to bind to cvs1, the error is it can't find the property -->
        <DataTrigger Binding="{Binding cvs2, Path=TemplateName}" Value="ABC">
            <Setter Property="ItemTemplate">
        </DataTrigger>

        <!-- This just doesn't seem to work -->
        <DataTrigger Binding="{Binding Source={StaticResource cvs2},Path=TemplateName}" Value="XYZ">
            <Setter Property="ItemTemplate">
        </DataTrigger>
    </Style.Triggers>
</Style> 
```

cvs1 和 cvs2 都在 a 中定义`ResourceDictionary`。

```
<CollectionViewSource x:Key="cvs1" />
<CollectionViewSource x:Key="cvs2" /> 
```

然后引用如下：

```
<ResourceDictionary.MergedDictionaries>
    <ResourceDictionary Source="DataSources.xaml" />
</ResourceDictionary.MergedDictionaries> 
```

我似乎面临的问题是`ItemTemplate`从 ListBox 继承 DataContext，我似乎无法解决这个问题来建立与 cvs2 数据源的绑定。我认为这将是一项相当常规的`StaticResource`绑定任务。似乎情况并非如此。

我已经在网格外（在主窗口中）的标签中测试了以下代码来调试数据：

```
<Label Content="{Binding cvs2, Path=/TemplateName}"/> 
```

这行得通，标签填充了 TemplateName 的值。

但是，如果我在`DataTrigger`内部使用这个`ItemsTemplate`，绑定就不会建立。

如何从 ? 中建立到 cvs2 的绑定`ItemTemplate`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-17T13:25:04.883

我是 silverlight 开发人员，我只是在绑定上使用转换器来实现这些类型目标。

但是我喜欢 Xaml，并且根据您的 cvs2 对象的 TemplateName 属性，我从您的 xaml 中了解到您想要更改 ItemTemplate，不是吗？

如果是这样，为什么不给我们 ItemTemplate 属性的值？

```
 <DataTrigger Binding="{Binding Source={StaticResource cvs2},
                   Path=TemplateName}" Value="XYZ">
        <Setter Property="ItemTemplate">
            <Setter.Value>
                <TextBlock Text={Binding}/>
            <Setter.Value>
        </Setter>
    </DataTrigger>
     // When cvs2.TemplateName=XYZ use this template, isn't it? 
```

cvs2 在此资源之前是否首先作为资源加载？

输出是否有任何绑定错误？

您可以尝试通过 x:Key 赋予特定风格而不是隐含风格。

价值转换器可以帮助你。

如果您使用 StaticResource 它看起来从下到上从 key 分层，所以我认为它不会从 ListBox 的数据上下文中搜索它。

我可能还没有完全回答，但希望能给你一个想法。