# StackOverflow 问答 15472000-15472999

# javascript - 为 Object Literal 设置原型

> ID：15472005
> 
> 赞同：4
> 
> 时间：2013-03-18T07:54:57.860
> 
> 标签：javascript, prototype, prototypal-inheritance

假设我有以下代码；

```
var A = {a:10};
var B = {b:20};
B.prototype = A;
alert(B.a); 
```

我对 Ba 越来越不确定。难道我做错了什么？如何设置对象文字的原型？

我知道如何处理 Constructor 对象。所以下面的代码完美运行

```
function A(){this.a=10}
function B(){this.b=20}
B.prototype = new A();
b = new B;
alert(b.a); 
```

我该如何为对象文字做呢？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-18T09:18:18.143

对象继承自其**构造函数的**原型属性，而不是它们自己的。构造函数的原型被分配给[`[[Prototype]]`](http://ecma-international.org/ecma-262/5.1/#sec-8.6.2)在某些浏览器中作为属性可用的内部[`__proto__`](https://developer.mozilla.org/en/docs/JavaScript/Reference/Global_Objects/Object/proto)属性。

所以`b`要从 继承`a`，你需要穿上`a`的`b`继承链，例如

经典原型继承：

```
var a = {a: 'a'};
function B(){}
B.prototype = a;

var b = new B();
alert(b.a); // a 
```

使用 ES5 Object.create：

```
var a = {a: 'a'};
var b = Object.create(a);

alert(b.a); // a 
```

使用 Mozilla `__proto__`：

```
var a = {a: 'a'};
var b = {};
b.__proto__ = a;

alert(b.a); // a 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-18T08:21:08.280

原型属性通常存在于 Function 对象中。这个原型应该是一个对象，这个对象用来定义一个用构造函数创建的对象的属性。

```
// Plain object, no prototype property here.
var plainObject = {one: 1, two: 2};

// Constructor, a prototype property will be created by default
var someConstruct = function() {

  // Constructor property
  someConstruct.constructProp = "Some value";

  // Constructor's prototype method
  someConstruct.prototype.hello = function() {
    return "Hello world!";
  }
};

// Another constructor's prototype method
someConstruct.prototype.usefulMethod = function() {
  return "Useful string";
}

var someInstance = new someConstruct();
console.log(someInstance.hello()); // => Hello world!
console.log(someInstance.usefulMethod()); // => Useful string

console.log(someConstruct.constructProp); // => Some value
console.log(someConstruct.prototype); // => {usefulMethod: function, hello: function}

console.log(plainObject.prototype); // => undefined 
```

因此，普通对象没有原型。作为构造函数工作的函数确实有原型。这些原型用于填充使用每个构造创建的实例。

希望有帮助:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T08:52:02.770

只有在使用`Function`对象时才会使用原型，例如，当您使用构造函数时。但是对于对象文字就不需要了。

它们都是非常好的技术，所以这取决于你想在项目中做什么以及你使用或喜欢的 JavaScript 模式。

# python-2.7 - 用于LinkedIn数据提取的scrapy-linkedin

> ID：15472006
> 
> 赞同：4
> 
> 时间：2013-03-18T07:54:58.233
> 
> 标签：python-2.7, scrapy

我正在使用 scrapy-0.16 从 LinkedIn 中提取数据。

```
 from scrapy.selector import HtmlXPathSelector
    from scrapy.contrib.linkextractors.sgml import SgmlLinkExtractor
    from scrapy.contrib.spiders import CrawlSpider, Rule
    from scrapy.http import Request
    from scrapy import log
    from linkedin.items import LinkedinItem, PersonProfileItem
    from os import path
    from linkedin.parser.HtmlParser import HtmlParser
    import os
    import urllib
    from bs4 import UnicodeDammit
    from linkedin.db import MongoDBClient 
```

[https://github.com/pondering/scrapy-linkedin](https://github.com/pondering/scrapy-linkedin)

错误来了

```
Traceback (most recent call last):
  File "C:\Users\TAWANE DUDEZ\Desktop\linkedin\linkedin\spiders\LinkedinSpider.py", line 6, in <module>
    from linkedin.items import LinkedinItem, PersonProfileItem
ImportError: No module named linkedin.items 
```

找不到`linkedin.items`模块。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T09:13:22.733

我的怀疑是你试图`scrapy crawl LinkedinSpider`从错误的目录运行命令。尝试导航到`C:\Users\TAWANE DUDEZ\Desktop\linkedin`然后再次运行该命令。

由于爬虫现在正在启动，因此您还需要在开始爬网之前运行 MongoDB 实例。正在使用的 github 项目的自述文件说要键入`mongod`以启动一个实例。只是检查一下，您确实安装了 MongoDB 和 pymongo 吗？

# svg-edit - svg-edit - 动态设置背景

> ID：15472007
> 
> 赞同：0
> 
> 时间：2013-03-18T07:55:04.490
> 
> 标签：svg-edit

我正在研究使用 svg-edit 在浏览器中注释图像。图片是在嵌入 svg-edit 的同一页面上上传的，需要在上传时动态设置为 svg-edit 的背景。这可以做到吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-29T16:08:32.850

您必须调用对象的方法，即 svgCanvas.setBackground();

为此，您可以创建一个扩展，例如：ext-backchange.js

这个文件看起来像这样：

```
svgEditor.addExtension("changeback", function() {

svgCanvas.setBackground('','abc.png');

return {};
}); 
```

然后在 svg-edit.js 中包含这个扩展，就像最后一行一样：

```
 svgEditor.setConfig(
{

extensions: ['ext-backchange.js']

 }) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-15T15:37:41.940

您可以使用 setImageBackground(imageBackground) 功能

```
setImageBackground("image.png"); 
```

并在 svgcanvas.js 中添加这个函数 setImageBackground 这个图像出现在画布上并且可以旋转。

```
this.setImageBackground= function(val) {

var elem = addSvgElementFromJson({
    "element": "image",
    "attr": {
        "x": ( svgcontent.getAttribute('x') - bgimg_with ) / 2,
        "y": ( svgcontent.getAttribute('y') - bgimg_height ) / 2,
        "width": bgimg_with,
        "height": bgimg_height,
        "id": 'ImgBckgd',
        "opacity": 1,
        "style": "pointer-events:inherit",
    }
});

setHref(elem, last_good_img_url);
preventClickDefault(elem);      
if(!elem) return;   
var attrs = $(elem).attr(['width', 'height']);
var setsize = (!attrs.width || !attrs.height);
var cur_href = getHref(elem);   
// Do nothing if no URL change or size change
if(cur_href !== val) {
    setsize = true;
} else if(!setsize) return;
var batchCmd = new BatchCommand("Change Image URL");
setHref(elem, val);
batchCmd.addSubCommand(new ChangeElementCommand(elem, {
    "#href": cur_href
}));
if(setsize) {
    $(new Image()).load(function() {
        var changes = $(elem).attr(['width', 'height']);        
        $(elem).attr({
            width: this.width,
            height: this.height
        });         
        selectorManager.requestSelector(elem).resize();         
        batchCmd.addSubCommand(new ChangeElementCommand(elem, changes));
        addCommandToHistory(batchCmd);
        call("changed", [elem]);
    }).attr('src',val);
} else {
    addCommandToHistory(batchCmd);
}
}; 
```

# php - 从表中选择逗号分隔的记录以及用户图像

> ID：15472008
> 
> 赞同：3
> 
> 时间：2013-03-18T07:55:12.960
> 
> 标签：php, mysql, sql, join

表： **frei_session**

```
id  username        accountId   status  status_mesg

14  Sumit Bijvani   50          0       I am available
16  Dilip Borad     49          1       I am available
15  Karan Bijvani   51          1       I am available 
```

表： **用户**

```
accountId    friends      userImage

49           50,52        49.jpg
50           49,52,51,44  50.jpg
51           50           51.jpg 
```

我有 2 个表，**frei_session**有在线用户的记录，而**users**表有用户和他们的朋友的数据，用逗号分隔 ID。

我想根据 users 表的 friends 列从**frei_session****表**中**检索**数据。

 ******对于前**

如果`user 49`在线，我想要如下所示的**输出**

```
id  username        accountId   status  status_mesg        userImage

14  Sumit Bijvani   50          0       I am available     50.jpg 
```

因为用户 50 和 52 是用户 49 的朋友，但现在只有用户 50 在线

我试过以下查询。但它显示错误的userImage。

```
SELECT  b.*, a.userImage
FROM    users a
        INNER JOIN frei_session b
            ON FIND_IN_SET(b.accountID, a.friends) > 0
         INNER JOIN
        (
            SELECT  accountID, username, MAX(id) id
            FROM    frei_session
            GROUP   BY accountID, username
        ) c ON b.accountID = c.accountID AND
                b.username = c.username AND
                b.id = c.id
WHERE   b.status = 0 AND
        a.accountID = 49 
```

[SQL 小提琴演示](http://www.sqlfiddle.com/#!2/763ce/1)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T07:58:29.940

的结果`frei_session`是朋友的，`user (a)`这就是为什么它不包含您朋友的图像，而是您尝试搜索的用户的图像。因此，为了让您获得朋友的图像，您需要将其连接到另一个图像中，`user (d)`这样您就可以从`frei_session`表格中获得正确的图像。

```
SELECT  b.*, d.userImage
FROM    users a
        INNER JOIN frei_session b
            ON FIND_IN_SET(b.accountID, a.friends) > 0
         INNER JOIN
        (
            SELECT  accountID, username, MAX(id) id
            FROM    frei_session
            GROUP   BY accountID, username
        ) c ON b.accountID = c.accountID AND
                b.username = c.username AND
                b.id = c.id
        INNER JOIN users d
          ON b.AccountID = d.AccountID
WHERE   b.status = 0 AND
        a.accountID = 49 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/763ce/10)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-18T08:14:07.480

通过规范化您的表，您可以使用基本的 JOIN 操作来完成所有这些操作。请查看[数据库规范化](http://en.wikipedia.org/wiki/Database_normalization)，因为您的架构违反了正确数据库设计的所有规则。

*   `friends`包含多个值，因此违反了第一范式。
*   `status_mesg`取决于`status`并因此违反第二范式。****

# api - 使用 PayPal ButtonManager API 删除运输选项

> ID：15472009
> 
> 赞同：0
> 
> 时间：2013-03-18T07:55:17.800
> 
> 标签：api, button, paypal, shipping

我正在使用 PayPal 的 ButtonManager API 来动态创建托管按钮。当用户点击“立即购买”按钮时，他会被带到一个支付页面，在那里他可以登录到他的贝宝账户或使用信用卡支付。

现在发生的事情是，在提供他的付款信息的同时，还有送货地址信息。

我想要做的是完全删除送货地址选项。我的产品是数字的，所以我不做任何运输，也不希望显示任何运输。

是否有任何我可以通过按钮传递的 HTML 变量来确保这一点？我知道有一个`no_shipping`变量，它允许用户输入或不输入送货地址，但我什至不想要这个。我*根本不想要运输*信息。这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T09:05:10.290

查看 Express Checkout 的此解决方案：

[在 PayPal Express Checkout 中禁用送货地址选项](https://stackoverflow.com/questions/4283251/disable-shipping-address-option-in-paypal-express-checkout)

我只是`L_BUTTONVAR4=no_shipping=1`在 NVP 查询字符串中设置了对 Button Manager API 的调用，它就起作用了！

# android - Facebook 登录对话框在我的 Android 应用程序中带有关闭按钮的空白屏幕？

> ID：15472012
> 
> 赞同：2
> 
> 时间：2013-03-18T07:55:23.250
> 
> 标签：android, facebook, android-facebook

我正面临 Facebook 登录对话框空白屏幕，带有关闭按钮

![在此处输入图像描述](../Images/096182c64f3fce0ec1dd1e481e62cb8a.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-24T14:10:41.880

检查 facebook 内的应用程序设置，“沙盒”不是检查。如果它确实会解决这个问题。沙盒防止从 develepor facebook 以外的其他人登录。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T08:07:07.160

此时，您的应用程序希望您通过以下方式登录：

*   如果安装了最新版本，则将您重定向到 Facebook 应用程序，
*   如果您没有 Facebook 应用程序，或者到这个实际屏幕（不应为空白）。

我的第一个猜测是您的应用无法访问互联网。你能确定你的 Manifest.xml 中有这一行吗？

```
<uses-permission android:name="android.permission.INTERNET"/> 
```

![<使用权限 android:name=](../Images/ba4a77cf7b28b41b70c2f31f44ad538c.png)

您能否确保您在应用设置中成功输入了 Native Android App 信息：

![原生安卓应用](../Images/9a0706dca489b879ceaf4e174316c0bb.png)

此外，您是否：

*   设置`<string name="app_id">41234567890</string>`在你的`res/values/strings.xml`,
*   并`<meta-data android:name="com.facebook.sdk.ApplicationId" android:value="@string/app_id"/>`在`AndroidManifest.xml`？

您能否检查一下您是否遵循了本[教程](https://developers.facebook.com/docs/getting-started/facebook-sdk-for-android/3.0/)的每个步骤。

# objective-c - 将 Unity 与 UIKit 项目一起导入

> ID：15472015
> 
> 赞同：1
> 
> 时间：2013-03-18T07:55:39.527
> 
> 标签：objective-c, uikit, unity3d

我们正在开发一款基于 Apple MapKit 的游戏。选择从地图上攻击一些场地会触发一些目前在 cocos2d 中制作的内置小游戏。我们想更改其中一个小游戏并将其替换为基于 Unity 的游戏，所以我想知道是否可以将 Unity 生成的代码与项目的其余部分一起运行。

我不希望 Unity 与项目的其余部分之间进行深度集成，只是为了启动基于 Unity 的游戏并在玩家完成迷你游戏时停止它。你知道这是否可能，实现这一目标的步骤是什么？

谢谢

# html - HTML5 视频标签显示

> ID：15472019
> 
> 赞同：0
> 
> 时间：2013-03-18T07:56:17.777
> 
> 标签：html, video, html5-video

所以这很奇怪。我正在尝试使用 html5 视频标签。您的预告片快照照片由以下定义`video poster="megafon2.png" width="640" height="360"`

为什么第二个视频比第一个小？我认为视频将是您定义的海报图像的尺寸。如果我删除宽度和高度，您会看到第二个视频变大。也许是因为视频格式？它更像一个正方形吗？

[http://www.2kfilms.com/services_megafon.html](http://www.2kfilms.com/services_megafon.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T18:01:39.180

这两个视频都大于为`<video>`元素分配的空间（分别为 1280x720 和 720x576），因此浏览器将尝试缩放它们以适应。

对于数学来说，这意味着第二个视频最终会被调整得更多。

如果您将媒体元素的大小对齐到更靠近源视频的位置，以便在缩放时可以保持纵横比，您应该会看到更一致的结果

# list - 使用二分搜索 (C#) 搜索排序列表

> ID：15472024
> 
> 赞同：2
> 
> 时间：2013-03-18T07:56:39.283
> 
> 标签：list, search, loops, binary-search, sorted

要求是使用二进制搜索方法对指定字符串（在下面的示例中为“yz”）搜索按字母顺序/排序的列表（字符串类型）并返回结果（每个以指定字符串开头的字符串和也是该字符串在列表中的索引）在合适的控件（如 ListBox）上。

问题是 BinarySearch 方法必须通过一个循环运行多次，以便它返回列表中的所有匹配字符串，而不仅仅是一个。这是我的主要问题。我不知道如何正确编写这个循环。如果您查看 while 循环内部，您会看到我正在尝试删除从列表中找到的结果，因此找不到并再次返回。这会导致列表中项目的索引被更改的问题。因此它为结果返回错误的索引。例如，如果您运行下面的代码，它应该返回索引：9、10、11 和 12。但是，我得到 9、10、9、10，因为随着项目被删除，列表变得更短。我可以用另一个随机字符串替换生成的字符串，而不是完全删除它，但这意味着列表不再按字母顺序排序。要使 BinarySearch 方法起作用，列表必须按字母顺序排序。

BinarySearch 方法可能没问题，不需要任何更改。问题在于循环。我应该提到这是我大学的作业，所以我不能使用任何快捷代码/内置函数。我已经尝试了几个小时，但无法弄清楚这一点。

```
public partial class MainWindow : Window
{
    public MainWindow()
    {
        InitializeComponent();
    }

    string searchString = "yz";

    List<string> list1 = new List<string>();

    private void btnSearch_Click(object sender, RoutedEventArgs e)
    {
        if (list1.Count != 0)
        {
            list1.Clear();
        }

        list1.Add("ant");   //0
        list1.Add("bb");    //1
        list1.Add("bc");    //2 
        list1.Add("bD");    //3
        list1.Add("Be");    //4
        list1.Add("j");     //5
        list1.Add("RRR");   //6
        list1.Add("sT");    //7
        list1.Add("Uv");    //8      
        list1.Add("yz");    //9
        list1.Add("yza");   //10
        list1.Add("yzb");   //11
        list1.Add("yzc");   //12

        int index = BinarySearch(list1, 0, list1.Count, searchString);

        while (index != list1.Count)
        {
            listBox1.Items.Add("Index: " + index + " File: " + list1[index]);

            list1.RemoveAt(index); //Remove from list so we don't find it again
                                   // but this changes the index of the list

            index = BinarySearch(list1, 0, list1.Count, searchString);
        }
    }

    //BinarySearch method to search an alphabetically sorted list for a specified string
    public int BinarySearch(List<string> strList, int first, int last, string target)
    {
        int mid;    // index of the midpoint
        string midStr;  // object that is assigned listStr[mid]
        int origLast = last;
        // save original value of last
        while (first < last)
        // test for nonempty sublist
        {
            mid = (first + last) / 2;
            midStr = strList[mid];

            int indy = midStr.IndexOf(target, StringComparison.OrdinalIgnoreCase);

            if (indy == 0)
                return mid;// have a match, we're only matching the beginning of the string
            else
            {
                int order = string.Compare(target, midStr, StringComparison.OrdinalIgnoreCase);

                if (order < 0)
                    last = mid; // search lower sublist. Reset last                    
                else
                    first = mid + 1; // search upper sublist. Reset first
            }
        }
        return origLast; // target not found
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:00:57.260

为什么不呢，一旦你得到一个元素的索引，从索引向上循环，直到你到达最后一个对象或不是从字符串开始的对象，从 index-1 循环直到你到达 0或者你到达一个无效的对象。

编辑：要修改您的代码，我要做的是：

```
int index = BinarySearch(list1,0,list1.Count,searchString); 
```

而不是做你的while循环来删除对象，我会这样做：

```
for (int n=index;n<list1.Count;n++) {
    if (list1[n].IndexOf(searchString,StringComparison.OrdinalIgnoreCase)!=0) break;
    listBox1.Items.Add("Index: " + n + " File: " + list1[n]);
}
for (int n=index-1;n>=0;n--) {
    //Do same thing as other loop
} 
```

这将只是在列表中搜索两种方式并执行您的操作，直到它到达一个无效的字符串，这将打破循环。

# java - 需要创建一个ExecutorService的对象

> ID：15472025
> 
> 赞同：0
> 
> 时间：2013-03-18T07:56:39.207
> 
> 标签：java, multithreading, jakarta-ee, synchronization

我想在不使用的情况下创建 ExecutorService 的对象

newSingleThreadExecutor(),

Executors.newFixedThreadPool()

和，

Executors.newScheduledThreadPool()

怎么做？这是我第一次使用 ExecutorService，谷歌搜索了很多以找到它是如何在没有定义任何“线程数”的情况下实例化的，但失败了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T08:14:57.003

大多数工厂方法返回[ThreadPoolExecutor](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html)或其子[ScheduledThreadPoolExecutor](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html)`java.util.concurrent.Executors`的实例。如果您检查 javadoc 的[ExecutorService](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html)，那么您会发现这些是众所周知的实现。

`Executors.newCachedThreadPool()`如果您查看[java.util.concurrent.Executors](http://massapi.com/source/jdk1.6.0_17/src/java/util/concurrent/Executors.java.html)的源代码，可以避免打电话给您：

```
public static ExecutorService newCachedThreadPool() {
    return new ThreadPoolExecutor(0, Integer.MAX_VALUE,
                              60L, TimeUnit.SECONDS,
                              new SynchronousQueue<Runnable>());
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:13:06.543

那么为什么你不想使用工厂方法呢？

如果您创建一个执行器对象，您可以轻松地自己创建对象，就像这个工厂方法（已经）在做的那样：

```
public static ExecutorService newCachedThreadPool() {
    return new ThreadPoolExecutor(0, Integer.MAX_VALUE,
                                  60L, TimeUnit.SECONDS,
                                  new SynchronousQueue<Runnable>());
} 
```

# java - Java 返回循环

> ID：15472031
> 
> 赞同：0
> 
> 时间：2013-03-18T07:57:24.053
> 
> 标签：java

我正在尝试创建一个程序，该程序将从给定的数字输入中找到最长的升序子字符串。

（例如输入=“1215678”输出=“5678”）

循环底部的返回不起作用：它说它在底部的返回中找不到 asc 的变量....怎么了？

```
import java.util.Scanner;

public class Ascending
{
 public static void main(String[] args)
{ 

    System.out.print("Enter a number = ");

    //scan the input
    Scanner in = new Scanner(System.in);
    String k = in.nextLine();

}

public static String itsAscending(String n) 
{

    int length = k.length();    

    for(int i = 0; i < length; i++) 
    {

        char first = k.charAt(i);       
        char next = k.charAt(i+1);      
        int f = (int)(first - 48);       
        int nx = (int)(next - 48);      

        String asc;
        String works = ""; 

        if (f<nx) 
        {

            works = works + k.substring(i, i+2);
            asc = works.substring(0, works.length()-1); 

        }

        else 
        {

            works = works + "";
            asc = works.substring(i, works.length()-1); 

        }
    }

return asc;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T07:58:31.723

您`asc`在`for`循环中声明。把它移到外面。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T07:58:32.660

您已`asc`在 for 循环内定义，并且仅在循环内可见。如果您想在循环范围之外访问它，请在外部定义它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-18T08:10:03.317

`asc`在 for 循环外初始化变量。

```
 public static String itsAscending(String n)
    {
    String asc = ""; 
```

* * *

声明变量`k`或`public static String itsAscending(String k)`

* * *

如果你调用方法表单`main`方法更好

```
String k = in.nextLine();
itsAscending(k); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-18T07:58:32.583

您需要`asc`在任何循环或条件语句之外定义。

```
public static String itsAscending(String n) 
{
    String asc = null;  
    // Rest of the method 
} 
```

# c# - 使用特定的 Web 服务失败

> ID：15472032
> 
> 赞同：0
> 
> 时间：2013-03-18T07:57:29.900
> 
> 标签：c#, .net, web-services

我在使用 web 服务时遇到问题，基本上我有以下 web 服务，我想在我的 web 应用程序中使用它，但是每次我尝试在我的解决方案中添加它时都会出错。

这是服务的链接：[http](http://www.webservicex.net/ConvertAcceleration.asmx?WSDL) ://www.webservicex.net/ConvertAcceleration.asmx?WSDL 这是服务的网站：[http ://www.webservicex.net/WS/WSDetails.aspx?WSID=39&CATID= 13](http://www.webservicex.net/WS/WSDetails.aspx?WSID=39&CATID=13)

在我的解决方案中，我用鼠标右键单击“服务引用”并选择“添加服务引用”，然后填写链接并单击“开始”。

但我不能添加它，它只是说“HTML 文档不包含 Web 服务发现信息”。

它在 VS2008 Framework .NET 3.5 中

那么有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:16:51.413

据我记得在 Visual Studio 2008 中。

你需要

*   单击高级

*   添加网络参考...

*   进入wsdl

*   添加参考

# php - 如何在 PHP 的关联数组中更新特定键的值？

> ID：15472033
> 
> 赞同：61
> 
> 时间：2013-03-18T07:57:32.117
> 
> 标签：php, arrays, associative-array

我有一个名为`$data`

```
Array
(
    [0] => Array
        (
            [transaction_user_id] => 359691e27b23f8ef3f8e1c50315cd506
            [transaction_no] => 19500912050218
            [transaction_total_amount] => 589.00
            [transaction_date] => 1335932419
            [transaction_status] => cancelled
        )

    [1] => Array
        (
            [transaction_user_id] => 9def02e6337b888d6dbe5617a172c18d
            [transaction_no] => 36010512050819
            [transaction_total_amount] => 79.00
            [transaction_date] => 1336476696
            [transaction_status] => cancelled
        )

    [2] => Array
        (
            [transaction_user_id] => 9def02e6337b888d6dbe5617a172c18d
            [transaction_no] => 19020512050820
            [transaction_total_amount] => 299.00
            [transaction_date] => 1336476739
            [transaction_status] => cancelled
        )

    [3] => Array
        (
            [transaction_user_id] => 9def02e6337b888d6dbe5617a172c18d
            [transaction_no] => 27050512050821
            [transaction_total_amount] => 79.00
            [transaction_date] => 1336476927
            [transaction_status] => cancelled
        )

    [4] => Array
        (
            [transaction_user_id] => 8e9050a3646c98342b9ba079fba80982
            [transaction_no] => 12070512050822
            [transaction_total_amount] => 129.00
            [transaction_date] => 1336477032
            [transaction_status] => cancelled
        )

) 
```

我想将键的值转换`[transaction_date]`为用户可读的格式（即 mm/dd/yyyy）。为此，我在一个返回整个数组的函数中编写了以下代码：

```
 foreach($data as $value)
 {
    $value[transaction_date]=date('d/m/Y',$value[transaction_date]);
 }

 return $data; 
```

我的问题是我得到相同的数组而不改变`[transaction_date]`所有数组元素的值。`[transaction_date]`实际上，预计将返回具有更新值的数组。谁能帮我解决这个问题？提前致谢。

* * *

## 回答 #1

> 赞同：112
> 
> 时间：2013-03-18T08:00:12.227

`$data`将您的 foreach 更改为类似的内容，在执行操作后，您不会将数据分配回您的返回变量。

```
foreach($data as $key => $value)
{
  $data[$key]['transaction_date'] = date('d/m/Y',$value['transaction_date']);
} 
```

[键盘演示。](http://codepad.org/diDxHLmS)

* * *

## 回答 #2

> 赞同：46
> 
> 时间：2013-05-05T08:27:53.393

这也行！

```
foreach($data as &$value) {
  $value['transaction_date'] = date('d/m/Y', $value['transaction_date']);
} 
```

是的替代品！

* * *

## 回答 #3

> 赞同：19
> 
> 时间：2013-09-21T14:40:58.617

PHP [array_walk()](http://php.net/manual/en/function.array-walk.php)函数专门用于改变数组。

试试这个：

```
array_walk ( $data, function (&$key) { 
    $key["transaction_date"] = date('d/m/Y',$key["transaction_date"]); 
}); 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2017-12-14T07:09:54.200

对多宗派数组使用 array_walk_recursive 函数。

```
array_walk_recursive($data, function (&$v, $k) { 
    if($k == 'transaction_date'){ 
        $v = date('d/m/Y',$v); 
    } 
}); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2020-10-01T03:53:57.170

最好的方法是在“array_walk”本机函数中使用 lambda 来进行所需的更改：

```
 array_walk($data, function (&$value, $key) {
            if($key == 'transaction_date'){ 
                  $value = date('d/m/Y', $value); 
            }
    }); 
```

该值在数组中更新，因为它作为引用“&”传递。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2019-06-17T20:43:38.333

这是一个单一的解决方案，其中**your_field**是一个将设置的字段，**new_value**是一个新值字段，可以是函数或单个值

```
foreach ($array as $key => $item) {
   $item["your_field"] = "new_value";
   $array[$key] = $item;
} 
```

在你的情况下**new_value**将是一个 date() 函数

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-18T08:02:50.590

```
foreach($data as $value)
{
    $value["transaction_date"] = date('d/m/Y',$value["transaction_date"]);
}
return $data; 
```

# perl - 从文件中提取 Perl 模式

> ID：15472034
> 
> 赞同：-1
> 
> 时间：2013-03-18T07:57:42.160
> 
> 标签：perl

我有一个文本文件，如：

```
Name : first  
File name : first_1  
Year : 12  
etc  
etc  
etc  
T1 : this is t1  
T2 : this is t2  
T3 : this is t3  
Conclusion : Success  
Name : first  
File name : first_2   
Year : 13  
etc  
etc  
etc  
T1 : this is t1  
T2 : this is t2  
T3 : this is t3  
Conclusion : Success 
Name : second  
File name : second_1  
Year : 12  
etc  
etc  
etc  
T1 : this is t1  
T2 : this is t2  
T3 : this is t3  
Conclusion : Failure  
Name : first  
File name : first_3  
Year : 12  
etc  
etc  
etc  
T1 : this is t1  
T2 : this is t2  
T3 : this is t3  
Conclusion : Success 
```

# 等等.....

我需要一个 perl 脚本，它给我以下输出：

```
Naming  File_name  Year  Conclusion  Reason  
first   first_1    12    Success     this is t1, this is t2, this is t3    
first   first_2    13    Success     this is t1, this is t2, this is t3   
second  second_1   12    Failure     this is t1, this is t2, this is t3  
first   first_3    12    Success     this is t1, this is t2, this is t3 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:19:11.600

以下是您需要的。它从 STDIN 读取要解析的文件。可以是任何其他的线阵列。

```
#!/usr/bin/perl

use strict;

my $Naming = "";
my $File_name = "";
my $Year = "";
my @Reason = ();
my $Conclusion = "";

print "Naming\tFile_name\tYear\tConclusion\tReason\n";
while (my $line = <STDIN>) {
  $line =~ /Conclusion : (\w+)/ and do {
    $Conclusion = $1;

    print "$Naming\t$File_name\t$Year\t$Conclusion\t" . join(", ",@Reason) . "\n";
    $Naming = "";
    $File_name = "";
    $Year = "";
    @Reason = ();
    $Conclusion = "";
  };

  $line =~ /Name : (.*)/ and $Naming = $1;
  $line =~ /File name : (.*)/ and $File_name = $1;
  $line =~ /Year : (\d+)/ and $Year = $1;
  $line =~ /T\d : (.*)/ and push(@Reason,$1);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:16:39.923

你没有具体说明你遇到了什么问题。将流拆分为记录？这可以解决问题：

```
my @buf;
while (<>) {
   if (@buf && /^Name :/) {
      process_record(@buf);
      @buf = ();
   }

   push @buf, $_;
}

process_record(@buf) if @buf; 
```

# mysql - 如何从一个表中获取所有数据列表，它不会出现在另一个表中？

> ID：15472036
> 
> 赞同：0
> 
> 时间：2013-03-18T07:58:00.523
> 
> 标签：mysql, sql, join, left-join

我有 5 张桌子，如下所示。我怎么可能在 mysql 查询语句中获得所有没有培训课程数据（这意味着没有女性或男性学生）的培训公司的列表？

```
select training_companies.*
from training_companies
left join training_centers on training_centers.training_company_id = training_companies.id
left join training_center_programmes on training_centers.id = training_center_programmes.training_center_id
left join training_class_data on training_class_data.training_center_programme_id = training_center_programmes.id
where training_companies.id IS NULL 
```

到目前为止，我只能到达这里，但我认为这是错误的。好心提醒。谢谢。

```
training_class_data
id | student_category_id | training_centre_programme_id | female | male
1  | 1                   | 1                            | 10     | 10
2  | 1                   | 2                            | 10     | 10
3  | 2                   | 1                            | 10     | 10
4  | 3                   | 1                            | 10     | 10

training_programmes
id | name
1  | Yoga
2  | Pilates

training_center_programmes
id | training_center_id   | status | training_programme_id
1  | 1                    | 1      | 1
2  | 2                    | 1      | 1
3  | 3                    | 1      | 1
4  | 4                    | 1      | 2
5  | 5                    | 1      | 2

training_centers
id | name          | address | postal code | training_company_id
1  | TF Center 1   | abc     | 1234        | 1
2  | TF Center 2   | abc     | 1234        | 1
3  | TF Center 3   | abc     | 1234        | 1
4  | SFT Center 1  | xyz     | 2345        | 2
5  | SFT Center 2  | xyz     | 2345        | 2
6  | KFT Center 1  | cbd     | 4234        | 3

training_companies
id | name              | address | postal code
 1 | Trim Fitness      | abc     | 1234
 2 | Stay Fit Training | xyz     | 2345  
 3 | Keep Fit Trainers | cbd     | 4234 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:03:35.127

> 我怎么可能得到所有没有培训班数据的培训公司的名单

您只需要使用条件`d.training_centre_programme_id IS NULL`而不是`training_companies.id IS NULL`：

```
select DISTINCT c.*
FROM training_companies              AS c
LEFT JOIN training_centers           AS tc ON tc.training_company_id         = c.id
LEFT JOIN training_center_programmes AS p  ON p.training_center_id           = tc.id
LEFT JOIN training_class_data        AS d  ON d.training_centre_programme_id = p.id
WHERE d.training_centre_programme_id IS NULL; 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!2/7e47e/5)

# java - 将面板与背景正确对齐？

> ID：15472037
> 
> 赞同：1
> 
> 时间：2013-03-18T07:58:03.583
> 
> 标签：java, awt, panel, frame

几周前我最近开始使用 Java GUI，但我在对齐方面遇到了困难。基本上，我试图让两个面板具有不同的背景图像（顶部栏和内容），我想一个接一个地对齐它们。问题是，我不能使用`BorderLayout.NORTH`and `BorderLayout.SOUTH`，因为背景图像失去了原来的大小并且变得非常小。

如何正确对齐它们，而不会丢失原始尺寸？

这是我的代码：

```
package main;

import java.awt.BorderLayout;
import java.awt.Graphics;
import java.awt.Image;

import javax.swing.ImageIcon;
import javax.swing.JFrame;
import javax.swing.JPanel;

public class ImageTest {

  public static void main(String[] args) {
    ImageFrame frame = new ImageFrame("topBar.png", "contentImage.png");
    frame.setSize(640,480);
    frame.setVisible(true);
  }
}

class ImagePanel extends JPanel {

private Image img;

public ImagePanel(String img) {
    this(new ImageIcon(img).getImage());    
}

public ImagePanel(Image img) {
    this.img = img;
}

public void paintComponent(Graphics g) {
    g.drawImage(img, 0, 0, null);
}

}

class ImageFrame extends JFrame {
public ImageFrame(String topBar, String body) {
    setLayout(new BorderLayout());
    ImagePanel topPanel = new ImagePanel(topBar);
    ImagePanel bodyPanel = new ImagePanel(body);
    add(topPanel, BorderLayout.NORTH);
    add(bodyPanel, BorderLayout.SOUTH);
    pack();
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:43:02.123

有很多问题出现在我身上

1.  你没有打电话`super.paintComponent`。这是非常重要的，不能低估
2.  你真的应该`ImageIO`用来加载你的图像。唉，它支持更广泛的图像格式，它还可以同时加载图像并在出现问题时抛出有用的异常
3.  您没有提供任何`preferredSize`值。布局管理器使用它来决定如何最好地布局组件。但请记住，这只是提示，布局管理器完全可以忽略它们

查看[阅读/加载图像](http://docs.oracle.com/javase/tutorial/2d/images/loadimage.html)以获取更多详细信息`ImageIO`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-18T10:05:20.877

> ..背景图像失去了原来的大小，变得非常小。

这是因为面板的首选大小是 0x0，直到将组件放入其中。

至少有两种方法可以解决这个问题：

1.  向面板添加内容。
2.  覆盖`getPreferredSize()`以返回`Dimension`图像的。

第一个是最佳的，但我将展示如何做第二个（更少的代码）。

![图像测试](../Images/53f6c786ef8f44e815999576d66bc2a0.png)

```
import java.awt.*;
import java.awt.image.BufferedImage;

import javax.swing.ImageIcon;
import javax.swing.JFrame;
import javax.swing.JPanel;

public class ImageTest {

  public static void main(String[] args) {
    ImageFrame frame = new ImageFrame();
    //frame.setSize(640,480);
    frame.pack();
    frame.setVisible(true);
  }
}

class ImagePanel extends JPanel {

private Image img;

public ImagePanel(String img) {
    this(new ImageIcon(img).getImage());
}

public ImagePanel(Image img) {
    this.img = img;
}

public void paintComponent(Graphics g) {
    super.paintComponent(g);
    // a panel IS an ImageObserver, so use it here.
    g.drawImage(img, 0, 0, this);
}

@Override
public Dimension getPreferredSize() {
    int w = img.getWidth(this);
    int h = img.getHeight(this);
    return new Dimension(w,h);
}

}

class ImageFrame extends JFrame {
public ImageFrame() {
    setLayout(new BorderLayout(2,2));
    setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
    ImagePanel topPanel = new ImagePanel(new BufferedImage(200,20,BufferedImage.TYPE_INT_RGB));
    ImagePanel bodyPanel = new ImagePanel(new BufferedImage(200,100,BufferedImage.TYPE_INT_RGB));
    add(topPanel, BorderLayout.NORTH);
    add(bodyPanel, BorderLayout.SOUTH);
    pack();
}
} 
```

# java - 向下移动相机时物体会抖动

> ID：15472038
> 
> 赞同：1
> 
> 时间：2013-03-18T07:58:09.420
> 
> 标签：java, android, libgdx

我一直在制作一个游戏，其中有许多对象处于负“y”中，为此我采用了arrayList，并且我正在向下移动主角。但是当相机与角色一起移动时，对象移动不顺畅，他们在一段时间后开始抽搐。代码如下

```
@Override
public void create() {
    camera = new OrthographicCamera(480, 720);
    camera.position.set(480 / 2, 720 / 2, 0);
    batch = new SpriteBatch();
    int i;

    this.baloonArrList = new ArrayList<Baloon>();

    for (i = 0; i < 3000; i += 300) {
        Baloon baloon = new Baloon(200, i);
        baloonArrList.add(baloon);
        System.out.println(baloon.balloon_y);
    }
    texture1 = new Texture(Gdx.files.internal("data/sheet_final.png"));
    textureRegion1 = new TextureRegion(texture1, 561, 156, 115, 101);
}

@Override
public void render() {

    GLCommon gl = Gdx.gl;
    Gdx.gl.glClearColor(1, 1, 1, 1);
    gl.glClear(GL10.GL_COLOR_BUFFER_BIT);

    camera.position.y += 4;
    camera.update();
    batch.setProjectionMatrix(camera.combined);
    batch.begin();
    int len = baloonArrList.size();

    for (int i = 0; i < len; i++) {
        batch.draw(textureRegion1, baloonArrList.get(i).balloon_x,
                baloonArrList.get(i).balloon_y, 100, 100);
    }

    batch.end();

} 
```

那么，我怎样才能使物体的运动平滑。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T13:16:14.543

我相信您的问题的根源是以下行：

```
camera.position.y += 4; 
```

您应该改为将其更改为更小的值，或者更好的是，根据帧速率的速度进行设置：

```
camera.position.y += 4 * Gdx.graphics.getDeltaTime(); 
```

这样，您的相机将在 y 方向上每秒移动 4 个像素，而不是每帧 4 个像素。（当然您可能需要增加 4 以使其更快，但它会保持相当流畅。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T15:56:30.543

如果渲染不稳定且不一致（使用[内置`FPSLogger`](http://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/graphics/FPSLogger.html)函数来找出您获得的帧速率），那么在渲染过程中会花费更多/可变的时间。您应该使用分析器来确定时间的去向。Eclipse 附带的 Android DDMS 工具非常好。过于频繁的垃圾收集通常是变量运行时的来源，但最好在尝试修复它之前了解正在发生的事情。

也就是说，@Jyro117 建议让您的状态更新帧速率独立始终是一个好主意。

# image - Highcharts：自定义按钮 - 符号错位

> ID：15472047
> 
> 赞同：4
> 
> 时间：2013-03-18T07:58:38.103
> 
> 标签：image, button, highcharts

我添加了一个新的自定义按钮，带有我自己的符号图像：但图像没有按应放置:(有人可以帮忙吗？谢谢 Chanan

![在此处输入图像描述](../Images/0e159042fd1ee1bc8a761948eed68db8.png)

这是我添加按钮的方式：

```
 exporting: {
        buttons: {
            'myButton': {
                _id: 'myButton',
                symbol: 'url(images/gallery/reset_zoom.jpg)',
                x: -62,
                symbolFill: '#B5C9DF',
                hoverSymbolFill: '#779ABF',
                onclick: function() {
                    alert('click!')
                }
            }
        }
    } 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-18T08:01:49.007

找到了答案 :) 使用 symbolX 和 symbolY

```
 exporting: {
        buttons: {
            'myButton': {
                _id: 'myButton',
                symbol: 'url(images/gallery/reset_zoom.jpg)',
                symbolX:6,
                symbolY:6,
                x: -62,
                symbolFill: '#B5C9DF',
                hoverSymbolFill: '#779ABF',
                onclick: function() {
                    alert('click!')
                }
            }
        }
    } 
```

# javascript - jQuery UI 选项卡和对话框

> ID：15472048
> 
> 赞同：3
> 
> 时间：2013-03-18T07:58:39.157
> 
> 标签：javascript, jquery, jquery-ui, jquery-ui-dialog, jquery-ui-tabs

如何在单击时将 jQuery ui 选项卡添加到对话框？这是我的代码。

```
<p>
  <a href="#" class = "premium_payer">Premium Payer:</a> 
  <span data-bind = "text: movements_owner_fullname"  id = "movements_payer_fullname" >         </span>
</p>

<script type="text/javascript">
  $('a.premium_payer').click(function payerDialog(e){
    $("#premium_payer").html('').dialog();
    $("#premium_payer").append('<p>' + "Full name: " + payer_fullname + '</p>').dialog();
    $("#premium_ayer").append('<p>' + "ID Number: " + person_id + '</p>').dialog();
            e.preventDefault();
    });
</script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T09:09:25.170

```
<script type="text/javascript">
    $(document).ready(function(){
        $('a.premium_payer').click(function payerDialog(e){
            e.preventDefault();               
            var tabs = $("<div><ul><li><a href='#tab1'>tab1</a></li><li><a href='#tab2'>tab2</a></li></ul><div id='tab1'>Tab1 content</div><div id='tab2'>tab2 content</div></div>");
             $("#premium_payer").empty().append(tabs);
             $("#premium_payer").dialog();
             tabs.tabs();
        });
    });
</script> 
```

**编辑**如果你想要一个现有的元素，用 display: none 隐藏这个元素。

```
 <div id="tabs" style="display:none">
      <ul>
             <li>
                   <a href='#tab1'>tab1</a>
              </li>
              <li>
                    <a href='#tab2'>tab2</a>
              </li>
      </ul>
      <div id='tab1'>Tab1 content</div>
      <div id='tab2'>tab2 content</div>
 </div>

<script type="text/javascript">
    $(document).ready(function(){
        $('a.premium_payer').click(function payerDialog(e){
            e.preventDefault();               
            var tabs = $("#tabs");
             $("#premium_payer").empty().append(tabs);
             $("#premium_payer").dialog();
             tabs.show();
             tabs.tabs();
        });
    });
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T09:00:24.383

也许您应该考虑这种方法？ [在 AJAX 样式 jQuery UI 选项卡中加载的 jQuery UI 对话框窗口](https://stackoverflow.com/questions/809035/ajax-jquery-ui-dialog-window-loaded-within-ajax-style-jquery-ui-tabs)

标题有点混乱。主要思想 - 从剩余的 url 加载内容。这比在 javascript 中构建“kind'a”模板要方便得多。

# image - 提供 og:image 不够大

> ID：15472051
> 
> 赞同：7
> 
> 时间：2013-03-18T07:58:48.307
> 
> 标签：image, facebook-opengraph, facebook-social-plugins

由于有些日子我遇到了这个问题。

这是我的[调试](https://developers.facebook.com/tools/debug/og/object?q=http://www.swup.it/notizie.php?link=2013/20130312_Monocrome_Demolition_Show)

提供的图像大于 200x200 像素，它具有唯一的链接，并且该页面上有任何重定向。

Linter 响应为 200。

当我在 fb 上复制并过去页面的链接时，它让我可以在 3 张小于 200x200px 的图像之间进行选择，而我提供的图像将被忽略。

但如果我尝试通过“喜欢按钮”或“发送按钮”分享它，它工作正常。

这听起来像一个fb Bug。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-17T07:00:10.070

我使用[this](https://stackoverflow.com/questions/15346444/provided-ogimage-is-not-big-enough-in-facebook-linter)和[this](https://stackoverflow.com/questions/15421521/ogimage-open-graph-warnings-image-size)帖子中的信息解决了问题。

您可以尝试使用大于 200x200、**尺寸为 100 倍数**和**squared**的图像。

其他有用的东西是使用 jpg 扩展名，将图像托管在网站的同一服务器上，并避免文件名中出现任何“奇怪”字符。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-07T21:17:23.377

我尝试了这篇文章和其他人的许多建议都无济于事。最终对我有用的事情（我在其他地方没有看到）是为我之前完全丢失的元素添加正确的前缀。

```
<head prefix="og: http://ogp.me/ns#"> 
```

不确定这是否真的解决了问题，或者它只是让调试器重新扫描图像（正确地），但希望它可以帮助其他人。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-17T12:51:53.077

我通过重命名图像和 og:image url 来完成它。试试看。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-07T03:13:59.377

我尝试了大多数这些建议 - 仔细检查`<head>`前缀，尝试添加 javascript sdk，尝试方形图像，从不同位置采购，简化文件名......

最终奏效的是确保`<img>`同一图像的标签出现在正文中！我用 CSS / 内联样式隐藏了它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-10-12T11:13:54.540

我也为此苦苦挣扎了一段时间。我已经尝试了图像的所有形状和大小，重命名它，添加特定的 og:image:height 和 :width 标签等。我“解决”它的方式只是将我想要显示的图像放在网站的根目录中并在 og:image 中指向另一个 (1500x1500, btw) 图像。Facebook linter 然后告诉我它将使用根目录中的图像。这很好用;-)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-11-06T09:12:37.507

即使您的图像大小不是 100 的倍数，如果您的图像是 jpg 或 jpeg 格式，它也应该可以工作。如果您的图像是 png 格式，则无论大小如何，它都不起作用。这仅基于我的测试。我想在这里听取其他开发人员的意见。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-11-14T07:48:26.070

我一直使用png。我总是使用 1920 x 1080，因为它们在 Facebook 上的分享效果很好。85% 的时间他们都在工作，有时他们不会。有时我删除并重新加载同一张照片而不重命名或更改任何东西，它突然就起作用了。我不是真正的开发者，所以我能提供的只有这些。

# asp.net - Jquery ajax拆分并将json响应保存到变量中

> ID：15472056
> 
> 赞同：0
> 
> 时间：2013-03-18T07:58:59.490
> 
> 标签：asp.net, json, jquery

这是我的代码，成功后我需要拆分（data.d）并存储在变量中，但它不起作用，知道哪里错了吗？

```
 $("#ckAddrow").click(function () {
                    var abcStr = null;
                    var taskName = $("#ctl00_ContentPlaceHolder1_txttaskname_").val();
                    var sdate = $("#ctl00_ContentPlaceHolder1_txtsdate_").val();
                    var edate = $("#ctl00_ContentPlaceHolder1_txtedate_").val();
                    var hdfieldid = $("#ctl00_ContentPlaceHolder1_hdid").val();
                    var dataString = 'taskname=' + taskName + '&sdate=' + sdate + '&edate=' + edate + '&hfid=' + hdfieldid;
                    // alert(dataString);
                    $.ajax({
                        type: "POST",
                        url: "AutoComWebservices.asmx/insertTasksRecord",
                        data: "{ 'prefix': '" + dataString + "'}",
                        dataType: "json",
                        contentType: "application/json; charset=utf-8",
                        cache: false,
                        async: true,
                        success: function (data) {
                            abcStr = data.d;
                            alert(abcStr);
                            BuildTable(data.d);
                            //  var valSplit = abcStr.split('-');
                            // var taskname = valSplit[0];
                            //  var startdate = valSplit[1];
                            //  var enddate = valSplit[2];
                            //   var pf = valSplit[3];
                            //   var myscopeid = valSplit[4];
                            //  alert(taskname + " - - - " + myscopeid);
                            // alert(data.d)
                            //   var getId = myscopeid;
                            //  var abc = "<tr id='" + getId + "' class='edit_tr'><td class='edit_td'><span ID='taskName_''" + getId + "' class='lblclass'>'" + taskName + "'</span><input id='taskName_txt_''" + getId + "' class='editbox' type='text' value='" + taskName + "' /></td><td class='edit_td'><span ID='startDate_''" + getId + "' class='lblclass'>'" + sdate + "'</span><input id='startDate_txt_''" + getId + "'  class='editbox sdatedp' type='text' value='" + sdate + "' /></td><td class='edit_td'><span ID='endDate_''" + getId + "' class='lblclass'>'" + edate + "'</span><input id='endDate_txt_''" + getId + "' class='editbox edatedp' type='text' value='" + edate + "' /></td></tr>";
                            //"<tr id=9 class=\"edit_tr"><td class="edit_td"><span ID="taskName_9" class="lblclass">dummy</span><input id="taskName_txt_9" class="editbox" type="text" value=dummy /></td><td class="edit_td"><span ID="startDate_9" class="lblclass">03/14/2013</span><input id="startDate_txt_9"  class="editbox sdatedp" type="text" value=03/14/2013 /></td><td class="edit_td"><span ID="endDate_9" class="lblclass">03/30/2013</span><input id="endDate_txt_9"  class="editbox edatedp" type="text" value=03/30/2013 /></td></tr>"
                        }
                    });
                }); 
```

在进一步`alert(abcStr);` 显示`heloo-03/19/2013-03/20/2013-138-52` 我需要拆分（'-'）并保存在变量中；

我的网络方法代码：

```
[WebMethod]
  public string[] insertTasksRecord(string prefix)
  {        List<string> d = new List<string>();
    string taskname, startdate, enddate,pf;
    string datastr = prefix;
    string myvalue = "";
    string[] val = datastr.Split('&');

    string[] tname = val[0].Split('=');
    taskname = tname[1];

    string[] sdate = val[1].Split('=');
    startdate = sdate[1];

    string[]  edate= val[2].Split('=');
    enddate = edate[1];

    string[] planid = val[3].Split('=');
    pf = planid[1];

    DateTime mysdate = Convert.ToDateTime(startdate);
    DateTime myedate = Convert.ToDateTime(enddate);
          SqlCommand cmd = new SqlCommand(myQuery, connloc);
            connloc.Open();
            string myscopeid = cmd.ExecuteScalar().ToString();
            connloc.Close();
            d.Add(string.Format("{0}-{1}-{2}-{3}-{4}",taskname, startdate, enddate,pf,myscopeid));

              return d.ToArray();
        } 
```

# xcode - 在 Master-Detail App 模板中加载不同的视图控制器

> ID：15472057
> 
> 赞同：6
> 
> 时间：2013-03-18T07:59:02.663
> 
> 标签：xcode, uitableview, xcode4.3, master-detail

我正在使用 Xcode 4.3.3 开发一个主详细信息应用程序，现在在主视图控制器中，我设法加载了一个名为“Fav Real”的附加视图控制器
当这个视图控制器加载时，它将包含从 sqlite 数据库中获取的不同项目到一个表视图控制器。
我的问题在这里，当我单击任何加载的行时，我需要将不同的 viewController 加载到 detailViewController 中，以加载另一个视图控制器而不是第一个。
我实际上迷路了，我尝试执行以下架构，但我不知道如何实现我的目标......任何帮助将不胜感激。![在此处输入图像描述](../Images/6a83d32ccd60877f1837c1d9dec8eb0b.png)

如图所示，项目将在 FavReal tableView 中正确加载，但我的目标是当我单击任何行时，将加载右侧显示的“详细信息”而不是 DetailsViewController。
我在 FavReal.m 中尝试了这段代码，但我总是得到：“应用程序试图在目标上推送一个 nil 视图控制器。

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {

 Details * vc4 = [self.storyboard instantiateViewControllerWithIdentifier:@"Details"];
 [self.navigationController pushViewController:vc4 animated:YES];

} 
```

感谢您的宝贵时间，如果需要更多详细信息，请告诉我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T10:41:06.737

万一有人遇到和我一样的问题，我找到的唯一解决方案是不加载不同的视图控制器并替换原来的detailViewController，但实际的解决方案是创建一个新的故事板并使其在收藏夹按钮时出现点击，这样你就会有一个漂亮的时尚效果，并保持你的数据呈现准确。为此，请使用以下代码行：

```
UIStoryboard* storyboard = [UIStoryboard storyboardWithName:@"SecondStoryboard" bundle:nil];
UIViewController* initialHelpView = [storyboard instantiateInitialViewController];

initialHelpView.modalPresentationStyle = UIModalPresentationFullScreen;
[self presentModalViewController:initialHelpView animated:YES]; 
```

您可以根据自己的喜好自由更改模态演示。
祝你好运

# java - 如何以一种方法获取用户输入并在另一种方法中使用它

> ID：15472058
> 
> 赞同：2
> 
> 时间：2013-03-18T07:59:04.560
> 
> 标签：java, methods

我对java很陌生，四处寻找，似乎找不到该怎么做。我需要采用 int`number`并能够在另一种方法中使用它。我必须使用两种方法来做到这一点。我不确定如何调用它。

* * *

```
public static void first()
{
    System.out.print("Enter number: ")
    Scanner scan = new Scanner(System.in);
    int number = scan.nextInt();    
}

public static void getNumber(String name, int move)
{

    if (number == 1)
    {
        System.out.println("Player shows one" );
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:01:49.793

创建一个返回数字的方法并从另一个方法调用它。

```
public static int first()
{
    System.out.print("Enter number: ")
    Scanner scan = new Scanner(System.in);
    int number = scan.nextInt();
    return number;
}

public static void getNumber(String name, int move)
{
    int number = first();   //Call method here.
    if (number == 1)
    {
        System.out.println("Player shows one" );
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T08:01:25.347

将数字定义为类属性。
类似的东西（它不是最终/工作代码）

```
class myClass{
  int number = 3;  // Or any other default value   

  public static void first()
  {
    //....
    obj.number = scan.nextInt();
    //...
  }  

 public static void getNumber(String name, int move)
 {
    if (obj.number == 1)
    {
       //...... 
    } 
 }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T08:01:54.577

调用后`int number`方法

```
int number = scan.nextInt();
getNumber("Your Name", number); 
```

# ios - 地理位置异步 iOS

> ID：15472059
> 
> 赞同：-6
> 
> 时间：2013-03-18T07:59:12.657
> 
> 标签：ios, objective-c, geolocation, geocoding

我想在后台进行地理定位！但我不能，我尝试了调度程序、线程、操作等……但我都阻止了进度条的进度。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:23:54.390

我在这样的位置使用单例对象......

```
@implementation LocationManager

#pragma mark - singleton method

+ (LocationManager*)sharedInstance
{
    static dispatch_once_t predicate = 0;
    __strong static id sharedObject = nil;
    dispatch_once(&predicate, ^{
        sharedObject = [[self alloc] init];
    });
    return sharedObject;
}

#pragma mark - instance methods

-(id) init {
    if (self = [super init]) {
        _currentLocation = [[CLLocation alloc] init];
        _locationManager = [[CLLocationManager alloc] init];
        _locationManager.desiredAccuracy = kCLLocationAccuracyHundredMeters;
        _locationManager.delegate = self;
    }
    return self;
}

- (void)start
{
    [self.locationManager startUpdatingLocation];
}

- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation {
    //if the time interval returned from core location is more than two minutes we ignore it because it might be from an old session
    if ( abs((int) [newLocation.timestamp timeIntervalSinceDate: [NSDate date]]) < 120) {
        self.currentLocation = newLocation;
    }
}

- (void)locationManager:(CLLocationManager *)manager didFailWithError:(NSError *)error {
//    [[[UIAlertView alloc] initWithTitle:@"Error" message:[error description] delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil] show];
}

@end 
```

那我只需要打电话...

```
[[LocationManager sharedInstance] start]; 
```

单身人士将开始跟踪位置。

比我打电话...

```
[[LocationManager sharedInstance] currentLocation]; 
```

对于当前位置。

然后，您可以使用它传递到 CLGeocoder 已经异步的方法中。

您不能依靠启动位置跟踪然后立即获得位置。您需要使用这样的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:01:48.013

CLGeocoder 在后台运行。

# c# - 将列表视图数据保存到我的访问数据库

> ID：15472060
> 
> 赞同：0
> 
> 时间：2013-03-18T07:59:14.563
> 
> 标签：c#, winforms

我一直在寻找这个问题很多次，但我无法得到正确的答案。有人可以帮助我如何将我的所有数据从列表视图传输到我的访问数据库。可能吗 ？感谢帮助。

拜托，谁能帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:05:49.203

3个步骤：

1.  根据您的列表视图列设计您的数据库
2.  遍历列表视图行（[ListView.ListViewItemCollection 类](http://msdn.microsoft.com/en-us/library/system.windows.forms.listview.listviewitemcollection.aspx)）
3.  将每一行添加到数据库

# python - 如何在巨大的序列列表中找到某个序列

> ID：15472061
> 
> 赞同：-3
> 
> 时间：2013-03-18T07:59:16.480
> 
> 标签：python

```
P0C5Z8: MLGVINRMAKKFNYKLPSMVALTLVGSAVTAHQVQAAETTQDQTTNKNVLDSNKVKATTEQAKAEVKNPTQNISGTQVYQDPAIVQPKTANNKTGNAQVS
Q53630: MSNNFKDDFEKNRQSIDTNSHQDHTEDVEKDQSELEHQDTIENTEQQFPPRNAQRRKRRRDLATNHNKQVHNESQTSEDNVQNEAGTIDDRQVESSHSTE
P0C6P1: MKKKLLVLTMSTLFATQLINSNHANASVTESVDKKFVVPESGINKIIPTYNEFKKAPKVNVSNLTDNKNFVASEDKLKKISDPSAASKIVDKNFVVPESK
O69174: MPIITDVYAREVLDSRGNPTVEVEVLTESGAFGRALVPSGASTGEHEAVELRDGDKSRYLGKGVTKAVENVNEIIAPEIIEGEFSVLDQVSIDKMMIALD
P0A031: MLEFEQGFNHLATLKVIGVGGGGNNAVNRMIDHGMNNVEFIAINTDGQALNLSKAESKIQIGEKLTRGLGAGANPEIGKKAAEESREQIEDAIQGADMVF
P0C1S5: MTKHYLNSKYQSEQRSSAMKKITMGTASIILGSLVYIGADSQQVNAATEATNATNNQSTQVSQATSQPINFQVQKDGSSEKSHMDDYMQHPGKVIKQNNK
P0C1S0: MSDQHNLKEQLCFSLYNAQRQVNRYYSNKVFKKYNLTYPQFLVLTILWDESPVNVKKVVTELALDTGTVSPLLKRMEQVDLIKRERSEVDQREVFIHLTD 
```

我有这个序列列表....但是我想知道这个序列（TGTCV）是否在整个列表中很明显我将如何使用代码查找它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T08:03:30.600

```
lol = """P0C5Z8: MLGVINRMAKKFNYKLPSMVALTLVGSAVTAHQVQAAETTQDQTTNKNVLDSNKVKATTEQAKAEVKNPTQNISGTQVYQDPAIVQPKTANNKTGNAQVS
Q53630: MSNNFKDDFEKNRQSIDTNSHQDHTEDVEKDQSELEHQDTIENTEQQFPPRNAQRRKRRRDLATNHNKQVHNESQTSEDNVQNEAGTIDDRQVESSHSTE
P0C6P1: MKKKLLVLTMSTLFATQLINSNHANASVTESVDKKFVVPESGINKIIPTYNEFKKAPKVNVSNLTDNKNFVASEDKLKKISDPSAASKIVDKNFVVPESK
O69174: MPIITDVYAREVLDSRGNPTVEVEVLTESGAFGRALVPSGASTGEHEAVELRDGDKSRYLGKGVTKAVENVNEIIAPEIIEGEFSVLDQVSIDKMMIALD
P0A031: MLEFEQGFNHLATLKVIGVGGGGNNAVNRMIDHGMNNVEFIAINTDGQALNLSKAESKIQIGEKLTRGLGAGANPEIGKKAAEESREQIEDAIQGADMVF
P0C1S5: MTKHYLNSKYQSEQRSSAMKKITMGTASIILGSLVYIGADSQQVNAATEATNATNNQSTQVSQATSQPINFQVQKDGSSEKSHMDDYMQHPGKVIKQNNK
P0C1S0: MSDQHNLKEQLCFSLYNAQRQVNRYYSNKVFKKYNLTYPQFLVLTILWDESPVNVKKVVTELALDTGTVSPLLKRMEQVDLIKRERSEVDQREVFIHLTD"""

print "TGTCV" in lol 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T08:10:06.950

通过简单地使用`string.count`：

```
>>> string.count('TGTCV')
0 
```

或者尝试使用正则表达式

```
>>> regex = re.compile("TGTCV")
>>> r = regex.search(string)
# Run findall
>>> print len(regex.findall(string)) # count of 'TGTCV'
0 
```

# android - maven部署到nexus

> ID：15472065
> 
> 赞同：1
> 
> 时间：2013-03-18T07:59:21.083
> 
> 标签：android, maven

我的项目包含以下 pom.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.onestopspot</groupId>
    <artifactId>api_library</artifactId>
    <version>5.0.0-SNAPSHOT</version>
    <packaging>apk</packaging>
    <name>One Stop Spot</name>
    <distributionManagement>
        <repository>
            <id>confiz-repo</id>
            <url>http://10.10.10.230:8081/nexus/content/groups/public</url>
            <releases>
                <enabled>true</enabled>
            </releases>
            <snapshots>
                <enabled>true</enabled>
                <updatePolicy>always</updatePolicy>
            </snapshots>
        </repository>
     </distributionManagement>
    <dependencies>
        <dependency>
            <groupId>org.springframework.android</groupId>
            <artifactId>spring-android-rest-template</artifactId>
            <version>1.0.0.RELEASE</version>
        </dependency>

        <dependency>
            <groupId>org.codehaus.jackson</groupId>
            <artifactId>jackson-mapper-asl</artifactId>
            <version>1.9.8</version>
        </dependency>
        <dependency>
            <groupId>com.google.android</groupId>
            <artifactId>android</artifactId>
            <version>4.1.1.4</version>
            <scope>provided</scope>
        </dependency>
    </dependencies>

    <build>
        <finalName>${project.artifactId}</finalName>
        <sourceDirectory>src/main/java</sourceDirectory>
        <pluginManagement>
            <plugins>
                <plugin>
                    <groupId>com.jayway.maven.plugins.android.generation2</groupId>
                    <artifactId>android-maven-plugin</artifactId>
                    <version>3.4.0</version>
                    <extensions>true</extensions>
                </plugin>
            </plugins>
        </pluginManagement>
        <plugins>
            <plugin>
                <groupId>com.jayway.maven.plugins.android.generation2</groupId>
                <artifactId>android-maven-plugin</artifactId>
                <configuration>
                    <sdk>
                        <platform>16</platform>
                    </sdk>
                </configuration>
            </plugin>
        </plugins>
    </build>
</project> 
```

我的 Maven conf 文件夹中的 settings.xml 文件包含以下信息

```
<?xml version="1.0" encoding="UTF-8"?>

<settings xmlns="http://maven.apache.org/SETTINGS/1.0.0" 
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
          xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd">
  <pluginGroups>
  </pluginGroups>

  <proxies>
  </proxies>

  <servers>
    <server>
      <id>confiz-repo</id>
      <username>admin</username>
      <password>admin123</password>
    </server>
  </servers>

  <mirrors>
    <mirror>
      <!-- The id of this mirror and the server instance above needs to be the same!-->
      <id>confiz-repo</id>
      <mirrorOf>*</mirrorOf>
      <url> http://10.10.10.230:8081/nexus/content/groups/public/</url>
    </mirror>
  </mirrors>

  <profiles>
    <profile>
      <id>nexus</id>
      <!--Enable snapshots for the built in central repo to direct -->
      <!--all requests to nexus via the mirror -->
      <repositories>
        <repository>
          <id>confiz-repo</id>
          <url>http://central</url>
          <releases>
        <enabled>true</enabled>
      </releases>
          <snapshots>
        <enabled>true</enabled>
        <updatePolicy>always</updatePolicy>
      </snapshots>
        </repository>
      </repositories>
      <pluginRepositories>
        <pluginRepository>
          <id>confiz-repo</id>
          <url>http://central</url>
          <releases>
        <enabled>true</enabled>
      </releases>
          <snapshots>
        <enabled>true</enabled>
      </snapshots>
        </pluginRepository>
      </pluginRepositories>
    </profile>
  </profiles>

  <activeProfiles>
    <activeProfile>nexus</activeProfile>
  </activeProfiles>

</settings> 
```

现在，当我在我的项目 pom.xml 文件上执行 mvn 部署时，我收到以下错误

```
Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy (default-deploy) on project api_library: Failed to deploy artifacts: Could not transfer artifact com.onestopspot:api_library:apk:5.0.0-20130318.070710-1 from/to confiz-repo (http://10.10.10.230:8081/nexus/content/groups/public): Failed to transfer file: http://10.10.10.230:8081/nexus/content/groups/public/com/onestopspot/api_library/5.0.0-SNAPSHOT/api_library-5.0.0-20130318.070710-1.apk. Return code is: 400 
```

我的 nexus repo 工作正常，我可以使用上面的用户名和密码登录。我究竟做错了什么 ？

亲切的问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T08:50:16.213

您无法部署到`/content/groups/public`- 在默认的 Nexus 安装上，这是一组存储库。Nexus 不知道将工件放置在哪个底层存储库中。试试`/content/repositories/snapshots/`。

# c# - 如何过滤objectlistview的TreeListView？

> ID：15472066
> 
> 赞同：0
> 
> 时间：2013-03-18T07:59:25.390
> 
> 标签：c#, .net, winforms, objectlistview

我尝试`TreeListView`使用文档中的代表进行过滤：[Filtering ObjectListView](http://objectlistview.sourceforge.net/cs/filtering.html?highlight=filtering)

所以它是这样的：

```
this.myTree.ModelFilter = new ModelFilter(delegate(object x) {
    return (((MyTreeNode)x).Type == type); // this code doesn't work, why ?
}); 
```

结果，`myTree`应该包括`.Type`属性等于的所有节点`type`，在我的情况下，树中没有节点，为什么？？？。

但是，如果我将`.Type`属性设置为根节点的类型，那么它将只是树中的一个根节点，所以在这种情况下它可以工作。

**ETA：**为什么用上面的代码过滤不起作用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T08:26:15.640

从您的问题来看，您的结构是什么样的并不完全清楚`TreeListView`。但这可能与您要过滤尚未获取的子项（未扩展的节点）这一事实有关？

从您已经引用的教程链接：

> **Filtering 和 TreeListViews**
> Filtering 和 TreeListViews 以可预测但可能出乎意料的方式交互。
> 过滤只考虑当前公开的行（即，它们的所有祖先都被扩展）。
> 在这些行中，如果行或它们的任何后代将包含在过滤中，则过滤过程将包含这些行。（是的，这是递归的）。如果底层子级匹配过滤条件，则其所有祖先也将被视为匹配，因此将显示在控件中。
> 在大多数情况下，这会提供最可预测和最有用的视觉结果。

# android - 如何使用 REST 向 S3 存储桶发出发布请求？

> ID：15472069
> 
> 赞同：0
> 
> 时间：2013-03-18T08:00:08.757
> 
> 标签：android, rest, amazon-s3, libgdx

我有一个用 libGDX（一个跨平台的 java sdk）编写的 android 游戏，我想记录会话数据并将其发送到 s3 存储桶。我不想使用 aws mobile sdk，因为我希望应用程序是平台中立的。不过，我找不到任何关于此的文档。如何从 java 向 s3 发出 POST 请求？我只想在我的存储桶中写入一个新的键值对。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:56:44.520

AWS 开发工具包使访问 Amazon Web Services 变得容易。除了移动 SDK 之外，您还有用于[Java](http://aws.amazon.com/sdkforjava/)、[PHP](http://aws.amazon.com/sdkforphp/)或[.Net](http://aws.amazon.com/sdkfornet/)的独立 SDK 。如果您不想使用 SDK，可以参考[REST API](http://docs.aws.amazon.com/AmazonS3/latest/API/APIRest.html)的文档来直接操作存储桶和对象。

# java - 无法使用mysql在休眠中获取具有一对多关系的列表对象

> ID：15472070
> 
> 赞同：0
> 
> 时间：2013-03-18T08:00:09.430
> 
> 标签：java, hibernate, jpa

我有以下架构：
客户
id - 主键
customer_name
电话 ......

服务
id - 主键
customer_id -- Customer.id 的外键
....................

客户.hbm.xml

```
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC 
"-//Hibernate/Hibernate Mapping DTD//EN" "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
<class name="thesis.database.Customer" table="customer">
    <meta attribute="class-description">
    </meta>
    <id name="customerId" type="int" column="customer_id">
        <generator class="native" />
    </id>
<property name="phone" column="phone" type="string" />
    <bag name="services" table="use_service" inverse="false" fetch="join" lazy="false"
        cascade="all">
        <key column="customer_id"  />
        <one-to-many class="thesis.database.Service" />
    </bag>
</class> 
```

服务.hbm.xml

```
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD//EN" "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
<class name="thesis.database.Service" table="service">
    <meta attribute="class-description">
        This class contains the Service detail.
    </meta>
    <id name="id" type="int" column="id">
        <generator class="native" />
    </id>

    <many-to-one name="customer" class="thesis.database.Customer"
        fetch="select">
        <column name="customer_id" not-null="true" />
    </many-to-one>

    ....................

</class> 
```

我的功能

```
 public static Customer getCustomerByPhoneNumber(String phoneNumber) {
    Session session = getSession();
    Criteria criteria = session.createCriteria(Customer.class);
    Criterion phone = Restrictions.eq("phone", phoneNumber);
    criteria.add(phone);
    Customer customer = (Customer) criteria.uniqueResult();
    session.close();
    return customer;
} 
```

在那之后，我打电话给

```
Customer customer =  getCustomerByPhoneNumber("123456789"); // customer with this phone is availuable in database 
```

我正常得到这个客户，但是我使用 getServices() 函数来获取列表服务，它总是得到相同的列表，尽管我尝试向服务表添加更多记录。

例如：客户表
id customer_name phone ......
1 Mr A 123456789 ......

和服务表
id customer_id 。 ......................
1 1 ......................
2 1 ......................
3 1 ...................... .

先查询。我得到列表大小= 3；在插入一条这样的记录后 4 1 .......... 服务表第二次查询。我也得到了列表大小 = 3;

每个人都可以告诉我为什么并提出任何解决方案吗？预先感谢！

我的解决方案是在添加新记录后使用事务提交。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T10:16:38.077

也许您忘记执行标准。在这里[http://docs.jboss.org/hibernate/orm/3.6/javadocs/org/hibernate/Criteria.html](http://docs.jboss.org/hibernate/orm/3.6/javadocs/org/hibernate/Criteria.html)他们总是调用列表方法。

# javascript - 在 javascript 中获取时间，例如 python time.time()

> ID：15472072
> 
> 赞同：-5
> 
> 时间：2013-03-18T08:00:17.423
> 
> 标签：javascript

在 python 中，我可以`time.time()`用来得到这个：

```
time = time.time()
time = 1362914221 
```

我如何在 java 脚本中得到这个？

```
time = ???? 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-18T08:01:01.243

您可以使用

```
time = (new Date()).getTime() / 1000; 
```

请参阅[MDN 上的 getTime()](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date/getTime)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-18T08:27:36.880

像这样：

```
var time = +new Date; 
```

# uri - 带有 URI 的 ContentObserver 不适用于 API 级别 16 中的联系人

> ID：15472073
> 
> 赞同：2
> 
> 时间：2013-03-18T08:00:22.223
> 
> 标签：uri, android-4.2-jelly-bean, contentobserver

我正在尝试以下代码：

```
private class NativeContentObserver extends ContentObserver  {
      public NativeContentObserver() {
         super(null);
      }

      @Override
      public void onChange(boolean selfChange, Uri uri) {
         super.onChange(selfChange, uri);
         Log.i(TAG, "uri is "+uri);
}

{
NativeContentObserver contentObserver = new NativeContentObserver();
mContext.getContentResolver().registerContentObserver(
           ContactsContract.Contacts.CONTENT_URI, true, contentObserver);
} 
```

当我运行此代码并编辑联系人时，我看到

uri 是 content://com.android.contacts

为什么我没有在 URI 中获得个人联系人的 ID？如果我尝试 SMS 观察者，我会得到包含 ID 的正确 URI。我在这里缺少什么吗？这是在三星 S3 手机上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:44:38.893

很可能是因为提供者更新方法调用 notifyChange(uri) 具有完整的 URI，而不是过滤一个。如果是这种情况，则意味着 ContactsContract.Contacts 已被弃用。寻找替代品

# python - Django 框架 - 是否有可以订阅的关闭事件？

> ID：15472075
> 
> 赞同：15
> 
> 时间：2013-03-18T08:00:26.623
> 
> 标签：python, django, web

我有一个问题，我希望可以通过 Django 中的某种形式的关闭挂钩来解决。

我仍然是 Python/Django 开发的初学者，为了帮助学习，我为自己设置了一个项目，开发一个在浏览器中运行的 COMET/Reverse Ajax 风格的聊天网站。浏览器不断地轮询服务器以获取任何消息。当服务器收到一个轮询请求时，它会检查是否有任何消息在等待，如果没有，它会尝试获取一个已经获取的*threading.Lock对象的锁。*这会导致处理请求的线程阻塞，直到收到消息并释放前面提到的锁。

当我关闭服务器时，我的问题出现了。此时我正在使用开发服务器（python manage.py runserver）。如果有一个线程被上述进程阻塞，则服务器不会关闭。

有没有一种方法可以在服务器尝试关闭时执行代码，以便我可以释放任何等待的线程？

我已经查看了以下[类似的问题](https://stackoverflow.com/questions/11847418/django-pre-shutdown-hook-to-close-hanging-pymongo-connection)，但它并没有帮助我。有人猜测这样的事件挂钩不存在，但没有明确的答案。我用谷歌搜索了高低，但没有任何运气。

我正在使用 Python 2.7 和 Django 1.5。

感谢您提供的任何帮助

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-12-17T23:43:52.873

我不知道关闭事件，但您可以创建一个。

当用户按下 Ctrl-C 时，会向 Python 进程发送一个 SIGINT 信号。从您的文件中设置一个信号处理程序`wsgi.py`以捕获 SIGINT 并将其转发给您的程序。

wsgi.py：

```
...

import signal
signal.signal(signal.SIGINT, my_signal_handler) 
```

您甚至可以将信号转发到 django 信号：

```
my_django_shutdown_signal = django.dispatch.Signal()

def _forward_to_django_shutdown_signal(signal, frame):
    my_django_shutdown_signal.send('system')
    sys.exit(0)   # So runserver does try to exit
signal.signal(signal.SIGINT, _forward_to_django_shutdown_signal) 
```

由于`signal`只能从主线程调用，这不适用于 runserver。使用该选项调用 runserver `--noreload`，或切换到 gunicorn。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-01-31T10:49:40.717

Stu Gla 的回答补充：
要在 django 的主线程中为信号事件设置处理程序，您可以将处理的初始化放入 manage.py 或您的应用程序的 __init__.py，如下所示：

```
#  {project_root}/{your_app}/__init__.py
import os  
import signal  
import sys  
def my_signal_handler(*args):  
    if os.environ.get('RUN_MAIN') == 'true':  
        print('stopped'.upper())  
    sys.exit(0) 

signal.signal(signal.SIGINT, my_signal_handler) 
```

它会让你在没有*--noreload*的情况下运行服务器。
检查`os.environ.get('RUN_MAIN')`pvevent 调用函数 2 次。

# actionscript-3 - 使用过程逻辑运行 as3 的内存问题，任何提示如何防止

> ID：15472079
> 
> 赞同：0
> 
> 时间：2013-03-18T08:00:38.260
> 
> 标签：actionscript-3, flash

所以，简而言之，我的问题几乎是标题，我有我的第一个大项目，现在在一个大文件中的 11k 行代码之后，我在尝试了我的闪存一段时间后遇到了内存问题，慢慢地它变慢了直到我什么都做不了，即使我总是尽可能清除容器并在不需要时删除侦听器。

程序，对于那些不知道的人，我在大主要功能和数百个其他功能中拥有一切。

oop 逻辑在这一点上感觉有点太大了，无法尝试理解，到目前为止，程序对我来说更加自然......

任何提示如何防止内存耗尽？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:25:50.427

你真的不需要任何面向对象的编程来分解它。

只需应用一些逻辑来分组和分离事物。此外，重复代码行的可能性也非常高。

所以首先，开始对行进行分组。将它们放在不同的函数中并在 main 中调用它们。

在你把它全部归结为块之后，你可以开始考虑将函数分组到类中。但至少第一步应该解决你的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:14:29.597

如果不使用面向对象编程，您的问题很难解决。顺便说一句，C 风格的编码通常被称为“命令式编程”......你知道的。

坏消息是，一个文件中有 11k 行代码意味着所有代码都在一个翻译单元中，因此**您编写的所有代码都在内存中**。

如果将其分解为类，则将根据需求创建和销毁单个类实例（对象），从而根据需要占用尽可能多的内存（增长和缩小，而不是静态的）。

最后，像使用 C 一样使用 as3 会在许多其他方面长期伤害您。所以请学习 OOP 并将你的单体代码分解为对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T08:34:36.587

好吧，毕竟称这是一种不好的做法，您可能不会给 VM（虚拟机）一个喘息的机会……我的意思是，如果您的程序每次都像轮询状态那样循环忙碌，那么 VM 很可能找不到**垃圾收集**的机会。这是一场灾难。

因此，如果您正在这样做，请不要轮询事件。尝试摆脱大过程（所有的先知:)）并尝试另一种体系结构，**在需要时**由事件处理程序**调用**中央监视器过程。

 **然后，当您安顿下来时，出售您的产品并致富。尽快学习 oop :)**

# php - 我的 cookie 不想自行删除

> ID：15472088
> 
> 赞同：0
> 
> 时间：2013-03-18T08:01:11.637
> 
> 标签：php, cookies

我想删除一个 cookie，但它不起作用。

这是代码，有什么想法吗？

```
 setcookie("candidate_site_search", serialize($model->getAttributes()), strtotime('next year'), '/');

    if (isset($_GET['clearFilters']) && ($_GET['clearFilters'] == 1)) {
        //die('cf');
        $model->unsetAttributes();
        setcookie("candidate_site_search", serialize($model->getAttributes()), time() - 60 * 60 * 24 * 30);
        if (isset($_COOKIE['candidate_site_search']))
            unset($_COOKIE['candidate_site_search']);
        if (isset($_COOKIE['site_search']))
            unset($_COOKIE['site_search']);
        $this->redirect(array('/candidate/search'));
    } 
```

删除后，我重定向到请求来自的相同 url。

仍然没有任何反应

ps：我觉得这个cookie跟查克·诺里斯有关，或者至少跟超人有关……

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:05:32.923

问题很可能出在您在服务器上设置的日期/时间与客户端上的时间相关。

例如，如果您的服务器是 GMT+2 而您的客户端是 GMT，那么上面的代码将告诉客户端在 GMT+1 使 cookie 过期，这仍然是客户端的未来。

只需使用过去的时间，就可以消除任何时区问题：

```
setcookie("name_of_cookie", "", time() - 60 * 60 * 24 * 30); // should  do it 
```

# java - 使用基于 XACML 的外部授权引擎的 Play 框架上的自定义授权

> ID：15472089
> 
> 赞同：0
> 
> 时间：2013-03-18T08:01:18.623
> 
> 标签：java, playframework, authorization, xacml

我正在使用**Play 1.2.5**框架 (Java) 开发我的应用程序，并且为了授权，我正在使用我公司的一种产品，它是一个面向服务的授权引擎，用于访问任何资源。它基于**SOAP**服务并使用**XACML**语言。

我对 Play 的了解非常有限，我才刚刚开始使用它！

我想知道有没有办法将用户安全信息（访问级别）注入 Play 安全模块，或者我需要自己通过业务逻辑中的一些条件语句对其进行编码？

问候，

# spring - 预认证问题

> ID：15472093
> 
> 赞同：1
> 
> 时间：2013-03-18T08:01:32.783
> 
> 标签：spring, spring-security, pre-authentication

大家好，我的项目中有一个大问题。

我已将我的项目配置为使用 Java EE Security for Authentication 和 Spring Security 使用 spring Pre Authentication 进行授权。

在 Java EE 登录后，应用程序进入我设置授权权限的预认证过滤器类。但是在那之后没有导航到我的主页，应用程序会触发我通过 Java EE 容器安全性再次登录。如果我第二次登录，它会导航到应用程序的主页。我想摆脱第二次登录。

我正在为 UI 使用 vaadin。以下是我的课程

```
web.xml
-------------------------------------------------------------------
<security-constraint>
        <display-name>SecureApplicationConstraint</display-name>
        <web-resource-collection>
            <web-resource-name>Vaadin application</web-resource-name>
            <description>The entire Vaadin application is                          
                                                               protected</description>
            <url-pattern>/application/*</url-pattern>
        </web-resource-collection>
        <auth-constraint>
                <description>Only valid users are allowed</description>
            <role-name>authenticated</role-name>
        </auth-constraint>
    </security-constraint>

    <login-config>
        <auth-method>FORM</auth-method>
        <form-login-config>
            <form-login-page>/login.jsp</form-login-page>
            <form-error-page>/login.jsp</form-error-page>
        </form-login-config>
    </login-config>

    <security-role>
        <description />
        <role-name>authenticated</role-name>
    </security-role>

=====================================================================
security.xml
======================================================================
 <sec:http realm="My Realm" auto-config='true' create-session="ifRequired" disable-url-rewriting="true">
    <sec:intercept-url pattern="/application/**" access="ROLE_XXXUSER"/>   
    <sec:custom-filter ref="myPreAuthFilter" position="PRE_AUTH_FILTER"/>  
    <sec:session-management session-fixation-protection="newSession"/>
  </sec:http>

  <sec:authentication-manager alias="authenticationManager">
    <sec:authentication-provider ref='preAuthenticatedAuthenticationProvider'/>
  </sec:authentication-manager>

  <bean id="myPreAuthFilter" 
       class="com.xxx.yyy.web.security.xxxPreAuthenticatedProcessingFilter">
    <property name="authenticationManager" ref="authenticationManager"/>
    <property name="authenticationDetailsSource" ref="authenticationDetailsSource"/>
    <property name="continueFilterChainOnUnsuccessfulAuthentication" value="false"/>
  </bean>

  <bean id="authenticationDetailsSource" 
           class="com.xxx.yyy.web.security.xxxAuthenticationDetailsSource" />

  <bean id="authenticationManager" 
          class="org.springframework.security.authentication.ProviderManager">
    <constructor-arg>
      <list>
        <ref bean="preAuthenticatedAuthenticationProvider"/>
      </list>
    </constructor-arg>
  </bean>

  <bean id="preAuthenticatedAuthenticationProvider" class="org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationProvider">
    <property name="preAuthenticatedUserDetailsService" ref="preAuthenticatedUserDetailsService"/>
  </bean>

  <bean id="preAuthenticatedUserDetailsService" class="org.springframework.security.web.authentication.preauth.PreAuthenticatedGrantedAuthoritiesUserDetailsService"/>

</beans> 
```

# r - 如何获得R中两组的差异？

> ID：15472098
> 
> 赞同：4
> 
> 时间：2013-03-18T08:01:50.547
> 
> 标签：r

认为：

```
x <- c(2,-5)
y <- c(1,2,3) 
```

我怎样才能得到 ：

```
z = c(2-1, 2-2, 2-3, -5-1, -5-2, -5-3) = c(1, 0, -1, -6, -7, -8) 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-18T08:07:32.757

使用`outer`：

```
> as.vector(outer(x, y, '-'))
# [1]  1 -6  0 -7 -1 -8 
```

如果你想要另一种方式：

```
> as.vector(t(outer(x, y, '-')))
# [1]  1  0 -1 -6 -7 -8 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-03-18T08:04:02.487

您可以`rep`按如下方式使用：

```
rep(x, each = length(y)) - y
# [1]  1  0 -1 -6 -7 -8 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-03-18T09:24:56.247

为了添加替代品而添加答案..

```
> x
[1]  2 -5
> y
[1] 1 2 3
> rowSums(expand.grid(-y,x))
[1]  1  0 -1 -6 -7 -8 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-03-18T08:06:10.773

分两步（不如@Ananda 解决方案优雅），使用`expand.grid`

```
 d <- expand.grid(x,y)
 transform(d,difference = d$Var1 -d$Var2)
  Var1 Var2 difference
1    2    1          1
2   -5    1         -6
3    2    2          0
4   -5    2         -7
5    2    3         -1
6   -5    3         -8 
```

但我认为我的更具可读性:)（你知道你从什么中减去什么）

# tinymce - SugarCRM 中的 TinyMCE 编辑器

> ID：15472102
> 
> 赞同：0
> 
> 时间：2013-03-18T08:02:17.817
> 
> 标签：tinymce, sugarcrm

我只想在 SugarCRM 的 TinyMCE 编辑器中添加一些按钮。我为添加按钮编写了标准代码，但所有按钮都没有显示在“快速电子邮件撰写”中，我在用于 Sugar 的快速电子邮件撰写中的 tablecontrols、advhr 和预览按钮存在问题。

任何想法？？？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-10T09:09:58.247

我知道@Jordan 发送这个已经有一段时间了，但如果它可以帮助某人.. SugarCRM 做了这个：http: [//support.sugarcrm.com/04_Find_Answers/03_Developers/100Customization/Modifying_the_TinyMCE_Editor](http://support.sugarcrm.com/04_Find_Answers/03_Developers/100Customization/Modifying_the_TinyMCE_Editor)

# jquery - 在 Jquery 模板模板组合中传递和访问多个值

> ID：15472104
> 
> 赞同：3
> 
> 时间：2013-03-18T08:02:39.997
> 
> 标签：jquery, jquery-templates

我正在使用 Jquery-template 来呈现页面，我正在使用模板组合来迭代和显示页面。

```
{{if simulateBomPageData.groupNames}}
   {{each simulateBomPageData.groupNames}}
     {{tmpl($value,simulateBomPageData.materialData.characterAttributesData.attributeMap[$value],$index) "#characters_group"}}
   {{/each}}
{{/if}} 
```

我的子模板如下所示

```
<script id="characters_group" type="text/x-jQuery-tmpl">
   {{=$index}}" {{=$value}}(Value from fro each loop)  
the entry in the map 
and the {{=$index}}
    </script> 
```

请让我知道如何访问和传递这些值

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:22:06.597

我自己找到了答案，如下所示

```
function My_Class(name,object1,object2)
{
    this.name=name;
    this.object1=object1;
    this.object2=object2;
} 
```

将值传递给模板

```
{{tmpl(new My_Class("Name",obj1,obj2)) "#characters_group"}} 
```

您可以访问模板内的值，如下所示

```
<script id="characters_group" type="text/x-jQuery-tmpl">
    Name: {{= name}}
    Object1: {{= object1}}
    Object2: {{= object2}}
</script> 
```

# json - 在 Java 中将 Json 文件内容添加到 JsonObject

> ID：15472105
> 
> 赞同：0
> 
> 时间：2013-03-18T08:02:48.440
> 
> 标签：json

我`E:\\jsondemo.json`在磁盘中有一个 Json 文件。我想在 Java 中创建 JSONObject 并将 json 文件的内容添加到 JSONObject。怎么可能？

```
JSONObject jsonObject = new JSONObject(); 
```

创建此对象后，我应该如何读取文件并将值放入**jsonObject** 谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:14:03.357

[您可以使用此问题](https://stackoverflow.com/questions/326390/how-to-create-a-java-string-from-the-contents-of-a-file)中提出的函数将文件转换为字符串：

```
private static String readFile(String path) throws IOException {
  FileInputStream stream = new FileInputStream(new File(path));
  try {
    FileChannel fc = stream.getChannel();
    MappedByteBuffer bb = fc.map(FileChannel.MapMode.READ_ONLY, 0, fc.size());
    /* Instead of using default, pass in a decoder. */
    return Charset.defaultCharset().decode(bb).toString();
  }
  finally {
    stream.close();
  }
} 
```

获取字符串后，可以使用以下代码将其转换为 JSONObject：

```
String json = readFile("E:\\jsondemo.json");
JSONObject jo = null;
try {
jo = new JSONObject(json);
} catch (JSONException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
} 
```

在上面的例子中，我使用[了这个库](http://www.json.org/java/index.html)，非常简单易学。您可以通过以下方式向 JSON 对象添加值：

```
jo.put("one", 1); 
jo.put("two", 2); 
jo.put("three", 3); 
```

您还可以创建`JSONArray`对象，并将其添加到您的`JSONObject`：

```
JSONArray ja = new JSONArray();

ja.put("1");
ja.put("2");
ja.put("3");

jo.put("myArray", ja); 
```

# git - 列出 git-ls-remote 时，为什么标签名称后面有“^{}”？

> ID：15472107
> 
> 赞同：106
> 
> 时间：2013-03-18T08:02:56.283
> 
> 标签：git

当我`git ls-remote`在工作树中运行时，该命令会输出原始存储库中的修订列表。出于某种原因，每个标签都有 2 个修订版，对于同一标签的第二个修订版，标签名称包括`^{}`

```
git ls-remote
From git@github.com:andris9/zzzzzz.git
d69e66d7c915b9682618b7f304b80cc0ae4c7809    HEAD
....
bb944682f7f65272137de74ed18605e49257356c    refs/tags/v0.1.6
771a930dc0ba86769d6862bc4dc100acc50170fa    refs/tags/v0.1.6^{}
a72251d945353a360087eb78ee75287c38a1c0e6    refs/tags/v0.1.7
d69e66d7c915b9682618b7f304b80cc0ae4c7809    refs/tags/v0.1.7^{} 
```

我创建标签

```
git tag -a v0.1.8 -m "tag message"
git push --tags 
```

从`git-ls-remote` [手册页](https://www.kernel.org/pub/software/scm/git/docs/git-ls-remote.html)的示例中没有这样的重复标签，所以也许我做错了什么？

* * *

## 回答 #1

> 赞同：165
> 
> 时间：2013-03-18T08:19:36.710

有 2 种类型的标签：

*   **轻量级**- 仅引用指向某个对象（如提交）。
*   **annotated** - 一个单独的 git 对象，并存储更多信息，如作者、提交者、提交消息等。

当你用来`git tag -a`创建标签时，git 会为你创建一个带注释的标签。

这`^{}`是用于取消引用标记的语法。它在[gitrevisions](https://www.kernel.org/pub/software/scm/git/docs/gitrevisions.html#_specifying_revisions)中有描述。

*   当与标签对象一起使用时，git 会递归地取消引用标签，直到找到一个非标签对象。

*   当与非标签对象一起使用时，它什么都不做，相当于跳过`^{}`

您的存储库中的`refs/tags/v0.1.6`ref 指向标签 object `bb944682f7f65272137de74ed18605e49257356c`，它又指向`771a930dc0ba86769d6862bc4dc100acc50170fa`（非标签对象），我猜想在您创建标签时存储提交信息。

因此，当您这样做时`refs/tags/v0.1.6^{}`，git 将取消引用标记并将其解析为`771a930dc0ba86769d6862bc4dc100acc50170fa`- 非标记对象。

还有一个[`git show-ref`](https://www.kernel.org/pub/software/scm/git/docs/git-show-ref.html)命令可用于仅列出标签，并可以选择取消引用，如下所示，在您的情况下应该产生以下输出：

```
$ git show-ref --tags
bb944682f7f65272137de74ed18605e49257356c    refs/tags/v0.1.6
a72251d945353a360087eb78ee75287c38a1c0e6    refs/tags/v0.1.7

$ git show-ref --tags --dereference
bb944682f7f65272137de74ed18605e49257356c    refs/tags/v0.1.6
771a930dc0ba86769d6862bc4dc100acc50170fa    refs/tags/v0.1.6^{}
a72251d945353a360087eb78ee75287c38a1c0e6    refs/tags/v0.1.7
d69e66d7c915b9682618b7f304b80cc0ae4c7809    refs/tags/v0.1.7^{} 
```

要确认这一点，您可以使用[`git show`](https://www.kernel.org/pub/software/scm/git/docs/git-show.html)命令为您提供有关 git 对象的更多详细信息。

这是来自我的一个测试 git 存储库的信息。

```
$ git show 43f9a98886ba873c0468c608f24c408b9991414f
tag v0.1
Tagger: Ash <tuxdude@OptimusPrime>
Date:   Sun Jul 15 00:14:43 2012 -0700

Tagging Stable repo 0.1 :)
-----BEGIN PGP SIGNATURE-----
<PGP-SIGNATURE>
-----END PGP SIGNATURE-----

commit e55df25f2321a6b2c9a02fa80ccba7cbe3c38c08
Merge: 796efcd 58e3a4d
Author: Ash <tuxdude@OptimusPrime>
Date:   Sun Jul 15 00:02:44 2012 -0700

    Merge branch 'dev' into 'master' for stable 0.1.

$ git show e55df25f2321a6b2c9a02fa80ccba7cbe3c38c08
commit e55df25f2321a6b2c9a02fa80ccba7cbe3c38c08
Merge: 796efcd 58e3a4d
Author: Ash <tuxdude@OptimusPrime>
Date:   Sun Jul 15 00:02:44 2012 -0700

    Merge branch 'dev' into 'master' for stable 0.1. 
```

# css - 使用 Joomla 的引导程序实现

> ID：15472110
> 
> 赞同：0
> 
> 时间：2013-03-18T08:03:05.443
> 
> 标签：css, twitter-bootstrap, joomla2.5

是否可以在没有任何自定义 css 的情况下在 joomla 中实现 100% 的引导程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:04:16.003

这篇很棒的文章是关于使用 Twitter Bootstrap 构建主题的。

[http://magazine.joomla.org/issues/issue-aug-2012/item/818-using-the-twitter-bootstrap-framework-to-build-a-responsive-joomla-template-from-scratch](http://magazine.joomla.org/issues/issue-aug-2012/item/818-using-the-twitter-bootstrap-framework-to-build-a-responsive-joomla-template-from-scratch)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T13:04:22.330

如果您正在构建一个新站点。看看 Joomla 3.0，因为它默认带有 Bootstrap（以及 jQuery）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T14:19:31.187

当然，您可以在不添加任何自定义 CSS< 的情况下实现 Bootstrap，但您为什么要这样做？Bootstrap 不是一个完整的模板或布局。它是一个用于帮助创建模板或布局的框架。即使在 Bootstrap 示例页面上，他们也指定这些应该是起点，而不是最终产品。

[http://twitter.github.com/bootstrap/getting-started.html#examples](http://twitter.github.com/bootstrap/getting-started.html#examples)

如果您想创建自定义模板，最好从启动的 Bootstrap 模板开始，将其调整为适用于 Joomla，然后添加自定义 CSS 和图像以使其看起来更好。

最好也看看 Joostrap ( [http://www.joostrap.com/](http://www.joostrap.com/) )。他们有一个非常好的基本模板，我们所有的自定义工作都以此为基础。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-18T18:31:20.850

我已经为 Joomla 3.0 构建了一些模板，Joomla 3.0 中的 Bootstrap 不支持 Twitter Bootstrap 支持的所有 Glyphicons，所以如果你想使用缺少的图标，你需要添加你的自定义 CSS。

如果您为 Joomla 2.5 构建响应式模板，将会有很多工作要做，不仅针对 CSS，Joomla 2.5 中的默认扩展不是响应式的，因此您可能需要覆盖它们的默认布局。

# php - 我想替换所有未包含在 < ... > 中的字符串

> ID：15472124
> 
> 赞同：1
> 
> 时间：2013-03-18T08:04:25.640
> 
> 标签：php, regex, preg-replace

我想通过在发送输出之前处理输出来对搜索的单词进行服务器端突出显示。

“服务器端”背后的原因是：

1) Unicode 文本的 Javascript 突出显示很糟糕。2） \b 不能使用 unicode（至少在 JS、AFAIK 中）。3) JS 中没有后向支持。

我正在使用下面的函数，但昨晚意识到为跳过 <...> 而编写的第一部分不起作用。

```
public function ss_highlight($terms, $buf)
{
    if (empty($terms))  {
        return $buf;;
    }

    /* sort before using length for better match */
    usort($terms, function($a, $b) {
        return mb_strlen($b) - mb_strlen($a);
    });
    $str_terms = implode('|', $terms);

    /* server side highlighter */
    $buf = preg_replace('/(<[^>]+>)*(?<=[\s|:|\-|>|\(|\)|\.|,|\/|^])('.$str_terms.')(?=[\s|:|\-|<|\(|\)|\.|,|\/]|$)/i', '$1<span class="highlight">$2</span>', $buf);

    return $buf;
} 
```

任何想法，将不胜感激。

问候。

PS：我在[替换所有出现的未包含在 OPEN 和 CLOSE 中的特定单词中看到了一些类似的东西？](https://stackoverflow.com/questions/7577470/replacing-all-occurences-of-a-specific-word-which-are-not-enclosed-with-the-word)但无法弄清楚如何满足我的要求。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:08:20.320

不要尝试使用正则表达式解析 HTML！使用 HTML 解析器！

请参阅使用正则表达式 和正则表达式[匹配开放标签（XHTML 自包含标签除外](https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags)[）在 PHP 中突出显示搜索词而不破坏锚标签](https://stackoverflow.com/questions/2292345/highlight-search-terms-in-php-without-breaking-anchor-tags-using-regex)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T17:14:40.433

实际上，每个人都知道对 HTML 使用正则表达式是个坏主意，但是在这种情况下，我们真的不需要 DOM，因为我们只想替换一些出现在任何 < ... > 之外的文本。

这个解决方案对我来说似乎很好用：

```
public function ss_highlight($terms, $buf)
{
    if (empty($terms))  {
        return $buf;;
    }

    /* sort before using length for better match */
    usort($terms, function($a, $b) {
        return mb_strlen($b) - mb_strlen($a);
    });
    $str_terms = implode('|', $terms);

    /* server side highlighter */
    $buf = preg_replace_callback('#((?:(?!<[/a-z]).)*)([^>]*>|$)#si',
                        function ($matches) use ($str_terms) {
                            //return preg_replace('/(?<=[\s:\-\>\(\)\.,\/^])('.$str_terms.')(?=[\s:\-\<\(\)\.,\/]|$)/i', '<span class="highlight">$1</span>', $matches[1]).$matches[2];
                            return preg_replace('/(?<!\pL)('.$str_terms.')(?!\pL)/i', '<span class="highlight">$1</span>', $matches[1]).$matches[2];
                        }, $buf);

    return $buf;
} 
```

谢谢大家。

# c++ - 使用window api关键设置和事件导致的死锁

> ID：15472130
> 
> 赞同：2
> 
> 时间：2013-03-18T08:04:42.207
> 
> 标签：c++, winapi

线程 1

... `SetEvent(_event)`;

```
EnterCriticalSection(crit);

ResetEvent(_event);

LeaveCriticalSection(crit); 
```

线程 2：

```
EnterCriticalSection(crit);

WaitForSingleObject(_event, forever);

LeaveCriticalSection(crit); 
```

当 Thread 1 设置 Event 时，Thread 2 还在等待，永远等待。因此，Thead 1 尝试获取锁，但未能死锁。我检查了 SetEvent 的返回值，这没问题。

删除线程1的EnterCriticalSection和LeaveCriticalSection，多次调用SetEvent后发现事件仍未设置

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-18T08:29:54.920

没有理由用临界区包装事件。该事件本身提供了足够的线程同步，因此完全摆脱了临界区。

线程 1

```
SetEvent(_event); // Or PulseEvent(), depending on the nature of the event 
```

线程 2：

```
WaitForSingleObject(_event, forever); 
```

这就是你所需要的。

# c - 使用哪个 IPC 我可以将文件描述符从一个进程传递到同一台机器上的另一个进程？

> ID：15472139
> 
> 赞同：0
> 
> 时间：2013-03-18T08:05:15.373
> 
> 标签：c, unix, filesystems, ipc

我想将 Unix 文件描述符从一个本地（同一机器进程）进程传递给另一个进程。下面哪些 IPC 机制有用？

```
PIPE/FIFO/Message Queue/ Shared Memory/ Socket / TLI / stream/ RPC** 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:07:14.207

将文件描述符从一个进程传递到另一个进程的规范方法是使用 Unix 域套接字，通过 和 的辅助`sendmsg`数据`recvmsg`。

# .net - 在 VB.NET 中使用键显示集合数据

> ID：15472140
> 
> 赞同：0
> 
> 时间：2013-03-18T08:05:17.550
> 
> 标签：.net, vb.net, associative-array

我已经使用密钥进行了集合，但我无法检索此信息。这是我的代码：

```
Dim test As Collection = New Collection
test.Add("This is a test", "testkey")
MsgBox(test("testkey").ToString) 
```

我在最后一行收到错误：

> 参数“索引”不是有效值。

怎么了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:33:39.313

如果要存储键/值对，请使用[Dictionary](http://msdn.microsoft.com/en-us/library/xfhwa508.aspx)。这是你如何做到的。

```
Dim dictionary As New Dictionary(Of String, String)
dictionary.Add("testkey", "This is a test")
MsgBox(dictionary("testkey")) 
```

# coding-style - 有什么方法可以找出症状背后的问题？

> ID：15472141
> 
> 赞同：0
> 
> 时间：2013-03-18T08:05:32.557
> 
> 标签：coding-style

我是一个糟糕的程序员。我对此非常肯定。我还有很多需要改进的地方，但现在，我担心花时间解决我为自己创建的编程问题（因为我是一个糟糕的程序员）。

我发现自己通常有三个问题：

1) `Syntax problems`; （我可以通过更多练习来解决）。- 耗时更少；

2) `Logical problems`; （我可以通过更多的练习和练习来解决）。- 耗费大量时间；

3) `Silent Symptoms problems`; （这让我陷入困境，我无法进步）。

第三个问题确实是个问题，因为面对一些症状（不会抛出任何“跳入我们眼中”的错误），我无法确定这些症状背后的问题是什么。

例如：我现在遇到与画廊有关的问题。画廊功能齐全，但他们的一些固定装置不起作用。我找不到原因。我看到了症状，我花了两天时间试图寻找/挑起问题以找出问题所在。没运气。我什至无法在 SO 提出一个问题。

我需要你的帮助指出我，一个人有什么样的“技术”/“方法”，以便发现无声的症状并找到相关的问题（以便我们可以找到解决方案）。

任何人都可以请建议。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:17:36.230

我认为您不是唯一遇到此类问题的人（除了程序员的好坏）。因为我经常以非常面向对象的方式进行编程，所以我发现将问题缩小到特定的包（或包关系）很容易。

从那里开始，我尝试更接近实际问题。我在这里写的句子是否完全按照我的想法做，如果不是，我该如何改变它以按照我想要的方式工作。

我相信，能够估计无声症状发生的位置在解决它们方面起着巨大的作用。

# html - PPI或像素或其他用于高清屏幕上媒体查询的东西？

> ID：15472143
> 
> 赞同：6
> 
> 时间：2013-03-18T08:05:35.420
> 
> 标签：html, css, responsive-design, media-queries

我正在对响应式设计进行一些涂鸦（最后，对吗？）并在使用媒体查询时问自己一个问题：“当我在视网膜屏幕上使用它时会发生什么？”。

所以我开始怀疑在瞄准高清屏幕时使用像素是否仍然合适。我的意思是`@media only screen and (min-width: 5 billion px)`这似乎是一件愚蠢的事情。

所以我想知道最佳实践是什么。PX 是否在高清屏幕上缩放？或者我应该使用 DPI 还是`device-pixel-ratio`完全不同的东西？

我的目标是针对仅移动页面的几乎所有屏幕。纯粹出于实践目的，并亲眼看看什么是可能的和合乎逻辑的。

我的问题大致如下：除了“普通”屏幕之外，我如何在一个全面的解决方案中定位高清屏幕，我可以为“未来”构建的高清和普通高清屏幕例外。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-18T08:17:57.727

好吧，160 DPI 是屏幕 PX 密度的基准 - 因为它是 1:1 屏幕 PX 与设备 PX。Retina 显示屏是 2:1 屏幕 PX 到 320-330 DPI 的设备 PX。

所以，如果你只是想让它适用于 Retina

```
min-device-pixel-ratio: 2;
min-resolution: 192dpi; 
```

应该没事。但是，例如，Android 支持一系列具有不同 DPI 的设备；包括 160 DPI（“mdpi”）、240 DPI（“hdpi”）、320 DPI（“xhdpi”）等。

编辑：在下面添加了示例。

```
@media
only screen and ( -webkit-min-device-pixel-ratio: 1.25 ),
only screen and ( min--moz-device-pixel-ratio: 1.25 ), 
only screen and ( -o-min-device-pixel-ratio: 1.25 / 1 ),
only screen and ( min-device-pixel-ratio: 1.25 ),
only screen and ( min-resolution: 200dpi ),
only screen and ( min-resolution: 1.25dppx ) {} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-18T08:51:41.457

我假设您正在使用通过元视口（或对于非 WindowsPhone8 IE10，@ms-viewport）设置浏览器缩放的标准做法 width = device-width。

在这种情况下，您在宽度/高度媒体查询中引用的 CSS“px”单位将非常粗略地对应于 160ppi 屏幕上的一个物理像素，无论它是否为高 PPI。实际上，它的范围可以从 ~130ppi 到 ~180ppi。

因此，如果您可以接受与您的宽度/高度“px”媒体查询相匹配的物理屏幕尺寸的这种不准确性，请继续。只需确保您启用了硬件开发人员定义的“css 布局 px”到“物理像素”缩放，几乎所有现代移动设备都以一种或另一种形式可用。

注意：也可以依靠一些聪明的 javascript 从客户端收集更准确的 PPI 读数。我目前这样做是为了在移动和桌面上获得统一的 PPI 值，考虑到当前所有非 IE 浏览器，这项任务可能会变得混乱（想想桌面“页面缩放”、“视口缩放”和“系统缩放”）在他们的错误跟踪器上存在类似的问题，表明移动设备和桌面设备之间在像素缩放/缩放/比率/其他方面存在严重的架构分裂

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-18T08:17:00.590

通常您使用相对单位，例如`em`or `%`。

例如，如果页面中的所有内容都使用`em`，则更改`font-size`正文的 将根据字体大小自动缩放每个元素。

换句话说：您应该为分辨率范围编写媒体查询，并根据屏幕宽度调整最顶层的父字体大小（例如*文档正文*），其余样式应在这些媒体查询之外，因为字体大小的简单更改将自动缩放整个页面，因为`font-size`已更改。

顺便说一句，我怀疑`min-width`永远是“数十亿像素”。目前，消费者和大多数专业屏幕 (4096x3113) 的分辨率不超过 4K。也就是说，我认为您不需要使用十亿像素的媒体查询！

# mysql - 三张表连接。即使一张表为空也显示查询结果

> ID：15472145
> 
> 赞同：0
> 
> 时间：2013-03-18T08:05:41.837
> 
> 标签：mysql, sql, join

这是两个非常相似的查询。它们之间的区别在于，在第二个查询中，我添加了名为 ng2s3_map 的新表，并且我只需要从那里获取一列。问题是第一个查询一直根据需要工作，但不输出 lik 列，第二个查询只有在表 ng2s3_map 中有行时才有效，否则它什么也不输出。如何更改第二个查询，因此无论 ng2s3_map 表中是否有行，它都会输出结果。（我添加 2 个表的唯一原因是为了更好地解释我的问题）。

第一个查询：

```
SELECT ng2s3_content.ID, ng2s3_similar.similar_ID, ng2s3_similar.up, ng2s3_similar.down, similar_articles.Title AS SimilarTitle, similar_articles.image AS image
FROM ng2s3_content
JOIN ng2s3_similar ON ng2s3_content.ID = ng2s3_similar.ID
JOIN ng2s3_content similar_articles ON ng2s3_similar.Similar_ID = similar_articles.ID
WHERE ng2s3_content.ID =4764 
```

第二个查询：

```
SELECT ng2s3_content.ID, ng2s3_similar.similar_ID, ng2s3_similar.up, ng2s3_similar.down, ng2s3_map.similar_id, ng2s3_map.vote_id, ng2s3_map.lik, similar_articles.Title AS SimilarTitle, similar_articles.image AS image
FROM ng2s3_content
JOIN ng2s3_similar ON ng2s3_content.ID = ng2s3_similar.ID
JOIN ng2s3_content similar_articles ON ng2s3_similar.Similar_ID = similar_articles.ID
JOIN ng2s3_map ON ng2s3_map.similar_id = ng2s3_similar.similar_ID
AND ng2s3_map.vote_id = ng2s3_content.ID
WHERE ng2s3_content.ID =4764 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:07:23.903

如果是这种情况，那么您需要使用`LEFT JOIN`而不是`INNER JOIN`

```
SELECT  ng2s3_content.ID, 
        ng2s3_similar.similar_ID, 
        ng2s3_similar.up, 
        ng2s3_similar.down, 
        ng2s3_map.similar_id, 
        ng2s3_map.vote_id, 
        ng2s3_map.lik, 
        similar_articles.Title AS SimilarTitle, 
        similar_articles.image AS image
FROM    ng2s3_content
        INNER JOIN ng2s3_similar 
            ON ng2s3_content.ID = ng2s3_similar.ID
        INNER JOIN ng2s3_content similar_articles 
            ON ng2s3_similar.Similar_ID = similar_articles.ID
        LEFT JOIN ng2s3_map 
            ON  ng2s3_map.similar_id = ng2s3_similar.similar_ID AND 
                ng2s3_map.vote_id = ng2s3_content.ID
WHERE   ng2s3_content.ID = 4764 
```

要进一步了解有关联接的更多信息，请访问以下链接：

*   [SQL 连接的可视化表示](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)

# c# - 将代码示例从 c# 翻译成 c++

> ID：15472146
> 
> 赞同：0
> 
> 时间：2013-03-18T08:05:42.127
> 
> 标签：c#, winforms, visual-c++, c++-cli

我正在尝试从以下示例 [SplitContainer Splitter Gets Focus Rectangle 翻译以下内容？](http://social.msdn.microsoft.com/Forums/en-US/winforms/thread/9c5780cd-fa3e-4b83-afd8-592a8b4cd83a)

```
private: Control getFocused(Control::ControlCollection controls)
{
    //foreach (Control c in controls)
    //{
    //  if (c.Focused)
    //  {
    //      // Return the focused control
    //      return c;
    //  }
    //  else if (c.ContainsFocus)
    //  {
    //      // If the focus is contained inside a control's children
    //      // return the child
    //      return getFocused(c.Controls);
    //  }
    //}
    do
    {
            if (c.Focused)
            {
                // Return the focused control
                return c;
            }
            else if (c.ContainsFocus)
            {
                // If the focus is contained inside a control's children
                // return the child
                return getFocused(c.Controls);
            }
    }
    while(Control c in controls);
   // No control on the form has focus
   return null;
} 
```

我正在为 DO WHILE 循环寻找合适的合成器

```
while(Control c in controls); // error 
```

并且由于函数' `private: Control getFocused(Control::ControlCollection controls)`'是Control类型，我需要指定一个返回值，' `return null;`'和' `return nullptr;`'都失败了！

编辑：

```
for(int index = 0; index <= controls.Count; index++)
        {
            if(controls[index]->Focused)
            {
                return controls[index];
            }
            else if (controls[index]->ContainsFocus)
            {
                return getFocused(controls[index]->Controls);
            }
        } 
```

`return controls[index];`->*不存在从“System::Windows::Forms::Control ^”到“System::Windows::Forms::Control”的合适的用户定义转换。*

`return getFocused(controls[index]->Controls);`->*不能使用给定的参数列表参数类型调用函数“getFocused”：(System::Windows::Forms::Control::ControlCollection ^)*

`return null;`->*标识符“null”未定义*

或者

`return nullptr;`-> *不存在从“decltype(nullptr)”到“System::Windows::Forms::Control”的合适的用户定义转换*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:06:06.397

我的 C++/CLI 有点生疏。但让我试一试：

```
private: Control ^ getFocused(Control::ControlCollection ^controls)
{
    for each (Control ^c in controls)
    {
        if (c->Focused)
        {
            return c;
        }
        else if (c->ContainsFocus)
        {
            return getFocused(c->Controls);
        }
    }

    return nullptr;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:25:17.277

MD.Unicorn 在技术上是正确的，因为“foreach”没有 C++ 语法。然而，C++ 确实在 STL 中包含了一些非常相似的东西（想想 .net 框架而不是 C#）。

[C++ STL for_each](http://www.cplusplus.com/reference/algorithm/for_each/)

```
for_each(foo.begin(), foo.end(), [=](Control control){
    //Stuff
}); 
```

# python - 使用 Python 更改 mac 桌面背景

> ID：15472156
> 
> 赞同：1
> 
> 时间：2013-03-18T08:06:46.750
> 
> 标签：python, subprocess

我正在尝试运行 python 脚本来下载图像并通过一个脚本更改桌面背景。如果可以的话，下载图像部分，但实际上我在用 python 更改壁纸时遇到了麻烦。我正在尝试使用[此命令](http://docs.python.org/2/library/subprocess.html#module-subprocess)，但它实际上不起作用。下面是我的尝试

```
subprocess.call(["defaults", "write", "com.apple.Desktop", "background", 'default=/Users/pathtomyname/img.jpg'])

    SCRIPT = """/usr/bin/osascript<<END
tell application "Finder"
set desktop picture to POSIX file "%s"
end tell
END"""

def set_desktop_background(filename):
    subprocess.Popen(SCRIPT%filename, shell=True) 
```

# r - 如何在两个级别上躲避点范围 ggplots？

> ID：15472158
> 
> 赞同：15
> 
> 时间：2013-03-18T08:06:58.213
> 
> 标签：r, graphics, ggplot2

我想制作一个点范围图，其中组的点不相互堆叠。情节应如下所示![在此处输入图像描述](../Images/5ecead08fc0079440ce3deb5e27d07b7.png)：

我最好的躲避尝试是在躲避参数中使用向量：

```
library(ggplot2)

dat <- structure(list(Treatment = structure(c(1L, 1L, 1L, 1L, 1L, 1L, 
2L, 2L, 2L, 2L, 2L, 2L), .Label = c("A", "B"), class = "factor"), 
    Temp = structure(c(1L, 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 2L, 
    2L, 2L), .Label = c("10", "20"), class = "factor"), Rep = c(1L, 
    2L, 3L, 1L, 2L, 3L, 1L, 2L, 3L, 1L, 2L, 3L), Meas = c(3L, 
    2L, 2L, 2L, 6L, 4L, 4L, 3L, 5L, 1L, 2L, 3L), SD = c(2L, 3L, 
    2L, 2L, 2L, 3L, 2L, 3L, 3L, 3L, 2L, 1L)), .Names = c("Treatment", 
"Temp", "Rep", "Meas", "SD"), row.names = c(NA, -12L), class = "data.frame")

ggplot(dat, aes(x = Treatment, y = Meas, ymin = Meas - SD/2, ymax = Meas + SD/2)) +
geom_linerange(aes(color = Temp), position=position_dodge(width=c(0.6,0.4)), size = 1, alpha = 0.5) +
geom_point(aes(color = Temp, shape = Temp), position=position_dodge(width=c(0.6,0.4)), size = 3) +
theme_bw() 
```

这导致如下图所示。然而，所有的点都没有被躲开，我必须在 Illustrator 中移动点和误差线才能得到上面的绘图。**有没有办法`ggplot2`在两个层面上使用闪避参数？** ![在此处输入图像描述](../Images/5c23ed857df67583d3428ea4142bc1c1.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-18T09:21:15.847

逻辑思维，`position_dodge`比较适合吧。它确实适用`lineranges`于一个因素级别，但是在第二个级别上，很难定义线之间的最小距离。尽管您可以在因子之间进行数字区分，然后为标签添加适当的位置。

```
dat1<-cbind(dat,aux=rep(1,length(dat[,1]))) 
dat1<-within(dat1, {aux = unlist(by(aux,Treatment,cumsum))})
dat1$aux<-dat1$aux+as.numeric(dat1$Treatment)*10
ggplot(dat1, aes( x=aux, y = Meas, ymin = Meas - SD/2, ymax = Meas + SD/2)) +
geom_linerange(aes(color = Temp), size = 1, alpha = 0.5) +geom_point(aes(color = Temp, shape = Temp))+
scale_x_continuous("Treatment",breaks=c(13.5,23.5), labels=c("A","B")) + # here you define coordinates for A and B 
theme_bw() 
```

![在此处输入图像描述](../Images/468b4799ff8878345156fef3707a4a2e.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-18T09:15:51.777

这不会解决问题，`position_dodge()`但会解决此问题。

`x`向原始数据框添加了新变量。它包含`x`点/线范围的坐标。数据框中的值应该按照您想要绘制它们的顺序排列。

```
dat$x<-c(0.85,0.9,0.95,1.05,1.1,1.15,1.85,1.9,1.95,2.05,2.1,2.15) 
```

现在使用这个新变量作为`x`值，并`scale_x_continuos()`设置中断和标签来获取`A`和`B`缩放。

```
ggplot(dat, aes(x = x, y = Meas, ymin = Meas - SD/2, ymax = Meas + SD/2)) +
  geom_linerange(aes(color = Temp), size = 1, alpha = 0.5) +
  geom_point(aes(color = Temp, shape = Temp), size = 3) +
  theme_bw()+
  scale_x_continuous("Treatment",breaks=c(1,2),labels=c("A","B"),limits=c(0.5,2.5)) 
```

# opencl - OpenCL 支持灰度图像

> ID：15472160
> 
> 赞同：1
> 
> 时间：2013-03-18T08:07:07.650
> 
> 标签：opencl, image-formats

我需要对最多占用一个字节的值矩阵进行一些操作（最有可能从 0 到 20 的值）。由于矩阵相当大，我想我会使用 OpenCL 在 GPU 上执行这些操作并将矩阵存储为图像。问题是我没有找到任何关于 OpenCL 是否支持单通道图像的提示......而且我不想传递比实际使用更多的数据。

是否支持单通道图像？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T10:54:38.217

有`CL_INTENSITY`和`CL_LUMINANCE`。但是，如果您不需要与图像相关的功能（如果您想操作矩阵，我会假设），您最好使用常规内存缓冲区。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T11:48:50.900

如上一个答案中所述，使用 CL_INTENSITY 和 CL_LUMINANCE。

预计寻址计算的延迟对于 Image 对象隐藏得更好，但纹理缓存在图像写入方面并不保持一致，因此任何图像读取到已通过同一内核调用中的图像写入写入的地址返回未定义的数据。因此开发人员更喜欢仅使用常规缓冲区。

# java - 如何使用 Struts 从上一页获取值到另一页并将其隐藏在当前页中？

> ID：15472162
> 
> 赞同：0
> 
> 时间：2013-03-18T08:07:13.643
> 
> 标签：java, html, forms, struts-1

我已经开发了一个页面来获取值“用户名、密码、职业”，并将这个值存储在 DynaActionForm 中。

我设计了另一个页面来从最终用户那里获取一些其他信息。以及想要获取上一页值并将其隐藏在当前页面中。但它在浏览器中显示错误。

我的第二个jsp页面代码是：

```
<%@ taglib prefix="html" uri="http://struts.apache.org/tags-html" %>
<HTML>
    <BODY BGCOLOR="pink">
           <CENTER>
                <H1>Please fill the following things to complete the registration</H1>
                <html:form action="register2" method="POST" > 

<html:hidden property="name" value="%{registerform1.name}" /> 
                       <html:hidden property="password" value="%{registerform1.password}" /> 
                       <html:hidden property="profession" value="%{registerform1.profession}" />

                       Cell:<html:text property="cell"/>
                               <FONT SIZE="3" COLOR="red">
                                             <html:errors property="cell"/>
                                 </FONT><BR>
                       Gender:<html:radio property="gender" value="male">male</html:radio>
                                    <html:radio property="gender" value="female">female</html:radio> <br><br>
                                    <FONT SIZE="3" COLOR="red">
                                             <html:errors property="gender"/>
                                 </FONT><BR>
                        <html:checkbox property="agree" value="true"/>I agree the terms and condition of this registration <br><br>
                                 <FONT SIZE="3" COLOR="red">
                                             <html:errors property="agree"/>
                                  </FONT><BR>
                        <html:submit>Complete Registration</html:submit>
                </html:form>
           </CENTER>
    </BODY>
</HTML> 
```

请建议如何解决它。谢谢，阿肖克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:23:37.857

jsp中的变量名必须和action字段一致。只有它会自动填充

# php - 在新实例上重新初始化静态变量

> ID：15472164
> 
> 赞同：0
> 
> 时间：2013-03-18T08:07:14.983
> 
> 标签：php, class

这是我的问题，我在方法中使用静态变量。我使用`for`循环来创建新实例。

```
class test_for{

    function staticplus(){
        static $i=0;
        $i++;
        return $i;
    }

    function countplus() {
        $res = '';
        for($k=0 ; $k<3 ; $k++) {
            $res .= $this->staticplus();
        }
        return $res;
    }
}

for($j=0 ; $j<3 ; $j++) {
    $countp = new test_for;
    echo $countp->countplus().'</br>';
} 
```

它返回：

```
123
456
789 
```

有没有办法在创建新实例时初始化静态变量，所以返回：

```
123
123
123 
```

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:11:24.727

尝试将你的 res 放在一个静态变量中：

```
public res 

function countplus() {
    $this->res = 0;
    for($k=0 ; $k<3 ; $k++) {
        $this->res .= $this->staticplus();
    }
    return $this->res;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:14:46.667

我不明白为什么需要这样做，但是可以实现这种行为。试试这个：

```
class test_for{

protected static $st;        // Declare a class variable (static)

public function __construct(){ // Magic... this is called at every new
    self::$st = 0;           // Reset static variable
}

function staticplus(){
    return ++self::$st;
}

function countplus() {
    $res = '';
    for($k=0 ; $k<3 ; $k++) {
        $res .= $this->staticplus();
    }
    return $res;
}
}

for($j=0 ; $j<3 ; $j++) {
   $countp = new test_for;
   echo $countp->countplus().'</br>';
} 
```

# mysql - MySQL 获得具有特定 ID 的最新结果？

> ID：15472168
> 
> 赞同：1
> 
> 时间：2013-03-18T08:07:50.663
> 
> 标签：mysql

我有以下 mySQL 表

```
id   userid        document            created_date
___________________________________________________________
1  |     39 | 3985_doc_1363249277 | 2013-03-15 10:03:14
2  |     39 | 3985_doc_1363319837 | 2013-03-06 11:57:17
3  |     39 | 3985_doc_1363321078 | 2013-02-05 12:17:58
4  |     24 | 1524_doc_1363328910 | 2013-03-15 14:28:30
5  |     24 | 1524_doc_1363586975 | 2013-03-18 14:09:35 
```

我想选择用户 ID 为“39”的最新文档。带有 created_date '2013-03-15 10:03:14' 的文档将是结果。

如何查询数据库以实现此结果？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T08:09:08.907

```
SELECT *
FROM yourTableName
WHERE userid = 39
ORDER BY created_day DESC
LIMIT 1 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-18T08:12:30.907

select * from table_name where userid=39 order by created_date desc limit 0,1

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-18T08:09:32.377

```
SELECT *
FROM table
WHERE userid = 39
ORDER BY created_day  DESC
LIMIT 1 
```

这里 LIMIT 1 是指定记录数

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-18T08:10:21.307

```
SELECT  *                     // <<== select only the columns you want
FROM    tableName
WHERE   userid = 39
ORDER   BY created_date DESC
LIMIT   1 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-18T08:09:50.433

试试这个，

```
SELECT document FROM TABLE WHERE userid = 39 ORDER BY created_date DESC LIMIT 0, 1; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-18T08:12:35.933

```
SELECT UserID, Max(Created_Date) from table Where UserID = 39 group by UserID 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-18T08:13:43.987

MySQL，使用限制：

```
SELECT * FROM table 
WHERE userid=3985 
ORDER BY created_date desc 
LIMIT 0,1 
```

# php - 如何更正此正则表达式以捕获 PHP 中的所有重复参数组？

> ID：15472171
> 
> 赞同：2
> 
> 时间：2013-03-18T08:08:09.507
> 
> 标签：php, regex, http-headers, preg-match-all

我正在尝试解析 HTTP Accept 标头以从中提取所有详细信息。我做出以下假设：

每个条目必须以 开头并至少包含`type/subtype`，可以选择使用`+basetype` 例如`text/html`或`application/xhtml+xml` 条目以逗号分隔。在初始 之后`type/subtype`，该条目可能包含可变数量的参数`key=value`对，以分号分隔（分号之间允许空格，但对之间不允许空格`=`）`key=value`例如`application/xhtml+xml; q=0.8; test=hello`

我想将所有这些信息放入一个数组中。

我目前所拥有的是`preg_match_all('/([^,;\/=\s]+)\/([^,;\/=\s+]+)(\+([^,;\/=\s+]+))?(\s?;\s?([^,;=]+)=([^,;=]+))*/', $header, $result, PREG_SET_ORDER);`，在我看来，它给出了一个带有类型的初始捕获组，然后是一个带有子类型的捕获组，然后是一个带有基本类型的可选捕获组，然后是一个可选的重复捕获组，由 分隔`;`，其中包含两个`key=value`.

当与标题字符串一起使用时，`application/xhtml+xml; q=0.9; level=3 , text/html,application/json;test=hello`这给了我：

```
Array
(
    [0] => Array
        (
            [0] => application/xhtml+xml; q=0.9; level=3 
            [1] => application
            [2] => xhtml
            [3] => +xml
            [4] => xml
            [5] => ; level=3 
            [6] => level
            [7] => 3 
        )

    [1] => Array
        (
            [0] => text/html
            [1] => text
            [2] => html
        )

    [2] => Array
        (
            [0] => application/json;test=hello 
            [1] => application
            [2] => json
            [3] => 
            [4] => 
            [5] => ;test=hello 
            [6] => test
            [7] => hello 
        )

) 
```

这很好，只是第`key=value`一个条目 ( `application/xhtml+xml; q=0.9; level=3`) 只给出了最后一个，`q=0.9`缺少 。

有什么方法可以在每个匹配项中包含所有（可变数量）参数，同时仍然只使用一个正则表达式，还是我必须为这些对使用单独的正则表达式/函数`key=value`？

**编辑：**

我想要的数组结果是这样的（显然，每种内容类型的项目 0、3、5、8... 等都是不必要的，但我不知道是否可以排除它们）：

```
Array
(
    [0] => Array
        (
            [0] => application/xhtml+xml; q=0.9; level=3 
            [1] => application
            [2] => xhtml
            [3] => +xml
            [4] => xml
            [5] => ; q=0.9 
            [6] => q
            [7] => 0.9 
            [8] => ; level=3 
            [9] => level
           [10] => 3 
        )

    [1] => Array
        (
            [0] => text/html
            [1] => text
            [2] => html
        )

    [2] => Array
        (
            [0] => application/json;test=hello 
            [1] => application
            [2] => json
            [3] => 
            [4] => 
            [5] => ;test=hello 
            [6] => test
            [7] => hello 
        )

) 
```

这使我可以获取每个参数的键和值，而无需执行任何进一步的正则表达式或字符串函数。

**编辑**

我已经接受了**Ka**的回答，这似乎给了我所需要的一切。`(?:\G\s?,\s?|^)(\w+)\/(\w+)(?:\+(\w+))?|(?<!^)\G(?:\s?;\s?(\w+)=([\w\.]+))`在同一个字符串上使用他的模式（没有设置顺序）给出结果：

```
Array
(
    [0] => Array
        (
            [0] => application/xhtml+xml
            [1] => ; q=0.9
            [2] => ; level=3
            [3] =>  , text/html
            [4] => ,application/json
            [5] => ;test=hello
        )

    [1] => Array
        (
            [0] => application
            [1] => 
            [2] => 
            [3] => text
            [4] => application
            [5] => 
        )

    [2] => Array
        (
            [0] => xhtml
            [1] => 
            [2] => 
            [3] => html
            [4] => json
            [5] => 
        )

    [3] => Array
        (
            [0] => xml
            [1] => 
            [2] => 
            [3] => 
            [4] => 
            [5] => 
        )

    [4] => Array
        (
            [0] => 
            [1] => q
            [2] => level
            [3] => 
            [4] => 
            [5] => test
        )

    [5] => Array
        (
            [0] => 
            [1] => 0.9
            [2] => 3
            [3] => 
            [4] => 
            [5] => hello
        )

) 
```

我可以从中编译一个关联数组，使用索引为 1 的数组来确定各个内容类型及其参数之间的边界。

非常感谢 Ka 的帮助。

**编辑：**

再次更改了表达式 - 表达式还需要能够解析通配符 mime，例如`text/*`. 所以现在的表达式变成了：

```
(?:\G\s?,\s?|^)(\w+|\*)\/(\w+|\*)(?:\+(\w+))?|(?<!^)\G(?:\s?;\s?(\w+)=([\w\.]+)) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T09:20:10.817

我建议您使用 php 的解析函数，而不是尝试自己编写。

有关详细信息，请参阅：http: [//php.net/manual/en/ref.http.php](http://php.net/manual/en/ref.http.php)

尤其是针对您的情况：

[http://php.net/manual/en/function.http-parse-headers.php](http://php.net/manual/en/function.http-parse-headers.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T13:59:57.193

与您想要的输出略有不同，但可以安全地获得所有值，而不需要您不需要的值：

正则表达式：（`(\w+)\/(\w+)(?:\+(\w+))?|(?:\s?;\s?(\w+)=([\w\.]+))` *带有全局标志**g**）*
解释演示：[http ://regex101.com/r/fM1gJ2](http://regex101.com/r/fM1gJ2)
*编辑：这更好地用于已经验证的标头，因为它由正则表达式组成`or`，您可以使用此正则表达式`\w+\/\w+(\+\w+)?(\s?;\s?\w+=[\w\.]+)*`进行验证。*

或者

类似的东西：

正则表达式：`(\w+)\/(\w+)(?:\+(\w+))?(?:\s?;\s?(\w+)=([\w\.]+))?`
最后一部分`(?:\s?;\s?(\w+)=([\w\.]+))?`重复多次，你认为你必须
演示：[http ://regex101.com/r/yI6uS1](http://regex101.com/r/yI6uS1)

## 更新：

**使用全局标志g**
正则 表达式同时进行验证和捕获：`(\w+)\/(\w+)(?:\+(\w+))?|(?<!^)\G(?:\s?;\s?(\w+)=([\w\.]+))`
在此处解释演示： [http ://regex101.com/r/bR7kU2](http://regex101.com/r/bR7kU2)
**更新** *（内容类型必须始终用逗号分隔）*
正则 表达式：`(?:\G\s?,\s?|^)(\w+)\/(\w+)(?:\+(\w+))?|(?<!^)\G(?:\s?;\s?(\w+)=([\w\.]+))` 演示：[http://regex101。 com/r/nG4oV0](http://regex101.com/r/nG4oV0)

v2 的更短的重复结束模式：`(?:\s?;\s?((?4))=((?5)))?`如果您增加`key=value`字符集，请[在此处解释](http://regex101.com/r/iH0pD8)。如果您允许使用此正则表达式将一些不必要的数据保存在数组中，甚至更短：

```
(\w+)\/(\w+)(?:\+(\w+))?(\s?;\s?([\w-]+)=([\w!:\$\.-]+))?((?4))? 
```

`((?4))?`并根据需要重复，[请参见此处](http://regex101.com/r/hC2xB1)。

# python - 在 Sublime Text 中加载任何其他包之前，如何使包可导入？

> ID：15472175
> 
> 赞同：1
> 
> 时间：2013-03-18T08:08:46.417
> 
> 标签：python, python-2.7, sublimetext2, sublimetext

我想创建一个名为“Common”的 Sublime Text 包，其中包含一些可以被所有其他包使用的常用功能。

它的文件结构如下：

```
Common
 common.py 
```

然后我创建一个名为“A”的包来使用 Common/common.py 中定义的函数

```
A
 a.py 
```

在 a.py 中，我尝试导入 common.py

```
import common 
```

因为 Sublime Text 按字母顺序加载包，所以我收到错误消息：

```
Traceback (most recent call last):
  File ".\sublime_plugin.py", line 62, in reload_plugin
  File ".\a.py", line 1, in <module>
    import common
ImportError: No module named common 
```

如何在加载任何其他包之前使包可导入？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:20:00.630

好吧..您已经在问题中包含了答案。如果 Sublime Text 按字母顺序加载包，你应该给你的包起一个名字，把它放在所有其他包之前。

我想这也解释了包名“AAAPackageDev”

# java - 声纳数据库结构和声纳 API 指标

> ID：15472177
> 
> 赞同：5
> 
> 时间：2013-03-18T08:09:02.460
> 
> 标签：java, sonarqube

关于声纳，我有两个问题：

1.  我查看了声纳的数据库。我想知道声纳在哪里存储每次测量的结果？

    我只找到了 table `measure_data`，但在我看来，字段数据看起来很有价值。谁能告诉我声纳在哪里存储所有测量的数据？

    是的，我知道，最好使用 REST API，我会这样做，但我也想知道声纳本身如何使用数据库。

2.  有没有办法使用 API 来获取所有使用指标的完整列表？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:55:24.257

我想出了第二个问题：

```
List<Metric> smq = sonar.findAll(MetricQuery.all());
    System.out.println(smq);

    for(int i = 0; i< smq.size(); i++){
       System.out.println(smq.get(i));
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:24:52.133

我不会回答第一个问题，因为 Sonar DB 不是 API，并且可能随时更改。

对于您的第二个问题：您正在寻找的 WS 是["/api/metrics" WS](http://docs.codehaus.org/pages/viewpage.action?pageId=229743272)。例如，您可以在此处查看在 Nemo 上注册的所有指标 - 我们的 Sonar 实时实例：http: [//nemo.sonarsource.org/api/metrics](http://nemo.sonarsource.org/api/metrics)

# java - 将数据存储到二维数组

> ID：15472182
> 
> 赞同：0
> 
> 时间：2013-03-18T08:09:37.897
> 
> 标签：java, arrays

我一直在使用 java，并且想将数据存储在 12x2 二维数组中，下面显示的是存储数据的方法： ![在此处输入图像描述](../Images/2a49c5650cc5cd12a7f5b5a401013ef9.png)

下面是我构建的代码，但不幸的是我得到了异常

**`java.lang.ArrayIndexOutOfBoundsException: 4`**

```
String[][] netswtich=new String[12][2];

for(int i =0;i<4;i++)
              {
                  for(int j=4;j>0;j--)
                  {
                        if(i==j) 
                        {
                            continue;
                        }
                        netswtich[k][0]=ranArray[i];
                        netswtich[k][1]=ranArray[j];
                        k++;
                  }
              } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-18T08:13:35.280

我猜如果向量的大小为 4，你的数组超出了 ranArray 的范围，你应该从 3 到 0 开始 j`for(int j=3;j>=0;j--)`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:14:21.747

这意味着您想要访问一个不存在的数组元素，例如您想要访问ranArray[4] 而ranArray 仅包含4 个（或更少的元素），这意味着3 是最后一个可用的数组元素。

# ruby-on-rails - 更改为复选框列表 Rails

> ID：15472194
> 
> 赞同：0
> 
> 时间：2013-03-18T08:10:23.957
> 
> 标签：ruby-on-rails, drop-down-menu, checkbox, form-for

下面的代码将`type`在下拉列表中列出。

如何将此下拉列表更改为复选框列表？

```
<%= search_form_for @q do |f| %>
  <%= f.label :name_cont %>
  <%= f.text_field :name_cont %>
  <%= f.label :type, "Type"%>
  <%= f.select :type_id_eq, PartType.all.map{|x| [x.name, x.id]} %>
  <br/><br/>
  <%= f.submit %>
<% end %> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:52:24.507

由于您想将选择更改为复选框列表，因此您应该期望控制器中有一个数组。这不是您要求的一部分，因此我将转换下拉列表。

```
<% PartType.all.each do |part_type| %>
  <%= check_box_tag 'type_id_eq[]', part_type.id %>
  <label><%= part_type.name %></label>
<% end %> 
```

# ipad - iPad CSS 3 box-shadow 错误

> ID：15472196
> 
> 赞同：1
> 
> 时间：2013-03-18T08:10:36.500
> 
> 标签：ipad, css

当我在 iPad Safari 上打开以下错误时，阴影前是否有白色边框.. 有人知道这个错误和解决方案吗？HTML：http: [//jsfiddle.net/RJxBu/](http://jsfiddle.net/RJxBu/)

```
box-shadow: 5px 5px 4px 2px rgba(0, 0, 0, 0.4); 
```

这是它在 iPad 上的屏幕截图：

![在此处输入图像描述](../Images/128d4bfd1b44dd0a3d7a522d2e228a06.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-04T22:21:49.007

您可以添加一个带有纯色的盒子阴影插图来移除 ipad 上的白线。您可能想使用负数 -1 和 -2 ，但这是我使用的。

```
 -webkit-box-shadow: inset -1px -2px 2px #000000, 5px 5px 4px 12px rgba(0,0,0, 0.4); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:53:03.443

尝试这个

```
.test {
    -webkit-box-shadow: 5px 5px 4px 2px rgba(0, 0, 0, 0.4);
    box-shadow: 5px 5px 4px 2px rgba(0, 0, 0, 0.4);
    border: 0px;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-15T02:46:23.017

这似乎是一个绘图错误，阴影颜色应该与 img 边缘混合，但不是。向 img 添加与阴影颜色匹配的背景颜色可以解决问题：

```
.test {
    background-color: rgba(0,0,0,1); /* Has to be 1 alpha or it won't draw */
    box-shadow: 5px 5px 4px 2px rgba(0, 0, 0, 0.4);
    border: 0px;
} 
```

这将适用于 iPhone 和 iPad 上的 iOS5 和 6（否则未经测试）。iOS6 有一个错误，如果一个 img 有一个背景颜色和一个散布为 0 的框阴影，阴影将不会绘制。我发现解决此问题的唯一方法是确保价差不为零。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-06-02T18:57:18.133

当 Box Shadow 没有出现在 iPad 上时，我遇到了一个问题。

```
-webkit-appearance: none; 
```

这对我有用。希望有帮助。

尝试

```
-webkit-appearance: none;
-webkit-box-shadow: 5px 5px 4px 2px rgba(0, 0, 0, 0.4); 
```

# java - 单独的 TCP/SSL 连接用于身份验证，而 UDP 用于主要流量？

> ID：15472197
> 
> 赞同：2
> 
> 时间：2013-03-18T08:10:39.630
> 
> 标签：java, android, tcp, udp

我目前正在编写一个小型客户端/服务器软件，服务器在 PC/Mac (Java) 上运行，客户端在 Android 上运行。客户端正在向服务器发送许多小数据包，其中低延迟很重要，单个数据包丢失并不重要，这就是我想使用 UDP 的原因。

问题是我想要一些身份验证，因为服务器应该只接受来自已知设备的数据包（第三方不应该能够发送有效的数据包，但是它是否可以读取这些数据包并不重要）。

所以我在想的是，身份验证可能发生在单独的 TCP（甚至 SSL）连接上，而主要流量发生在 UDP 上。仅接受来自与 TCP/SSL 连接相同 IP 地址的 UDP 数据包，并且只要连接有效。

这是一种（相对）安全的身份验证方法还是有简单的方法可以绕过它？如果是这样，您对我还有其他建议吗？

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T08:19:30.810

IP地址可以伪造。所以任何嗅探这些包的人，也可以发送伪造的 UDP 包。

您可以通过 SSL 连接交换密钥，并将密钥添加[`HMAC`](http://en.wikipedia.org/wiki/Hash-based_message_authentication_code)到您的 UDP 包中。

# python - 我的python脚本中的缩进错误

> ID：15472210
> 
> 赞同：0
> 
> 时间：2013-03-18T08:11:57.213
> 
> 标签：python

我的python版本是2.7.2，我的操作系统是win XP。

这是我的脚本：

```
import sqlite3
import os
from flask import Flask, request, session, g, redirect, url_for, \
     abort, render_template, flash

DATABASE = 'C:\Python27\flaskr.db'
DEBUG = True
SECRET_KEY = 'development key'
USERNAME = 'admin'
PASSWORD = 'default'

app = Flask(__name__)
app.config.from_object(__name__)

def connect_db(): return sqlie3.connect(app.config['DATABASE']  

if __name__ == '__main__':
    app.run() 
```

当我将它作为带有 python shell 的模块运行时出现错误。

```
if __name__ == '__main__':
    app.run() 
```

就在“：”是空闲给出错误消息的地方，即存在无效的语法。但我几乎找不到任何语法错误。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-18T08:13:00.987

您错过了在以下位置关闭一个括号：

```
def connect_db(): return sqlie3.connect(app.config['DATABASE'] 
```

它应该是：

```
def connect_db(): return sqlie3.connect(app.config['DATABASE']) 
```

它一直到 的原因`:`是 Python 试图将其解释为[条件表达式](http://docs.python.org/2/reference/expressions.html#conditional-expressions)：

```
def connect_db(): return sqlie3.connect(app.config['DATABASE'] if __name__ == '__main__': ... 
```

但是因为`:`不能成为有效[布尔运算](http://docs.python.org/2/reference/expressions.html#boolean-operations)的一部分，所以它会给你这个可爱的语法错误。

# javascript - nodejs使用cheerio解析xml返回空CDATA

> ID：15472213
> 
> 赞同：4
> 
> 时间：2013-03-18T08:12:00.820
> 
> 标签：javascript, xml, node.js, cdata, cheerio

我在nodejs 中使用cheerio 来解析一些RSS 提要。我正在抓取所有将它们放入数组中的项目。我正在使用 3 个测试提要，每个“项目”元素都有一个“描述”子元素。在其中一个提要中，整个“描述”被包装为 CDATA，我无法获得它的价值。这是一个简短的代码片段

```
//Open the xml document with cheerio
$ = cheerio.load(arrXmlDocs[i],{ ignoreWhitespace : true, xmlMode : true});

//Loop through every item
$('item').each(function(i, xmlItem){

    //array to hold each item being converted into an array
    var tempArray = [];

    //Loop through each child of <item>
    $(xmlItem).children().each(function(i, xmlItem){
        //Get the name 
        tempArray[$(this)[0].name] = $(this).text();
    }

} 
```

正如预期的那样，两个没有 CDATA 的 rss 提要给了我一个像这样的数组

```
[
    [
        name: 'name of episode',
        description:'description of episode',
        pubdate: 'published date'
    ],
    [
        name: 'name of episode',
        description:'description of episode',
        pubdate: 'published date'
    ]
] 
```

带有 CDATA 描述的提要看起来像这样

```
 [
        name: 'name of episode',
        pubdate: 'published date'
    ], 
```

所以我的问题是：为什么cheerio 不返回包含在 CDATA 中的值/我怎样才能让它返回这些值。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-26T19:01:11.260

这是cheerio的[一个已知问题](https://github.com/fb55/node-htmlparser/issues/29)（[相关）。](https://github.com/MatthewMueller/cheerio/issues/131)`CDATA`在您的情况下，它还无法从 XML 创建正确的树。我知道这是一个令人失望的答案，它是 WIP。

它正在处理中，同时，您可以`CDATA`使用正则表达式删除。

```
arrXmlDocs[i].replace(/<!\[CDATA\[([\s\S]*?)\]\]>(?=\s*<)/gi, "$1"); 
```

这是一个示例[jsfiddle](https://jsfiddle.net/afk/y4bwothd/)的链接。

虽然这不是一个理想的解决方案，但在他们解决这个问题之前应该足够了。

# python - Python Ctypes 异常：访问冲突读取

> ID：15472217
> 
> 赞同：5
> 
> 时间：2013-03-18T08:12:15.853
> 
> 标签：python, dll, ctypes

我尝试通过 DLL（由 PLC 制造商分发的 C API 接口）与 PLC 通信。我正在使用作为脚本环境嵌入到其他软件（x64 - Windows 7）中的 Python 3.1。

我设法让一些 DLL 函数工作，但现在得到一个我无法解决的“访问冲突读取”。

DLL函数的相关资料：

```
LONG AdsSyncReadReq(
  PAmsAddr  pAddr,
  ULONG     nIndexGroup,
  ULONG     nIndexOffset,
  ULONG     nLength,
  PVOID     pData
); 
```

参数：

*   pAddr: [in] 带有 NetId 和 ADS 服务器端口号的结构。
*   nIndexGroup：[in] 索引组。
*   nIndexOffset：[in] 索引偏移量。
*   nLength:[in] 数据的长度，以字节为单位。
*   pData: [out] 指向将接收数据的数据缓冲区的指针。
*   返回值：返回函数的错误状态。

结构 AmsAddr：

```
typedef struct {
  AmsNetId        netId;
  USHORT          port;
} AmsAddr, *PAmsAddr; 
```

结构 AmsNetId

```
typedef struct {
  UCHAR        b[6];
} AmsNetId, *PAmsNetId; 
```

Python实现：

```
# -*- coding: utf-8 -*-
from ctypes import *

#I've tried OleDll and windll as wel..
ADS_DLL = CDLL("C:/Program Files/TwinCAT/Ads Api/TcAdsDll/x64/TcAdsDll.dll")

class AmsNetId(Structure):
    _fields_ = [('NetId',  c_ubyte*6)]

class AmsAddr(Structure):
    _fields_=[('AmsNetId',AmsNetId),('port',c_ushort)]

# DLL function working fine
version = ADS_DLL.AdsGetDllVersion()
print(version)

#DLL function working fine
errCode = ADS_DLL.AdsPortOpen()
print(errCode)

#DLL function using the AmsAddr() class, working fine
amsAddress = AmsAddr()
pointer_amsAddress = pointer(amsAddress)
errCode = ADS_DLL.AdsGetLocalAddress(pointer_amsAddress)
print(errCode)
contents_amsAddres = pointer_amsAddress.contents

#Function that doens't work:
errCode = ADS_DLL.AdsSyncReadReq()
print(errCode) # --> errCode = timeout error, normal because I didn't pass any arguments

# Now with arguments:
plcNetId = AmsNetId((c_ubyte*6)(5,18,18,27,1,1)) #correct adress to the PLC
plcAddress = AmsAddr(plcNetId,801) #correct port to the PLC
nIndexGroup = c_ulong(0xF020)
nIndexOffset = c_ulong(0x0) 
nLength = c_ulong(0x4)
data = c_void_p()
pointer_data = pointer(data)

#I tried with an without the following 2 lines, doesn't matters 
ADS_DLL.AdsSyncReadReq.argtypes=[AmsAddr,c_ulong,c_ulong,c_ulong,POINTER(c_void_p)]
ADS_DLL.AdsSyncReadReq.restype=None

#This line crashes
errCode = ADS_DLL.AdsSyncReadReq(plcAddress,nIndexGroup,nIndexOffset,nLength,pointer_data)
print(errCode)

>>>> Error in line 57: exception: access violation reading 0xFFFFFFFFFFFFFFFF 
```

我希望任何人都无法弄清楚出了什么问题。我只是 Python 编程方面的高级新手，完全没有 C 方面的经验

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:53:02.827

您传递的指针无效，请提供有效的内存缓冲区：

```
data = create_string_buffer(nLength) 
```

论点应该只是`c_void_p`而不是`POINTER(c_void_p)`if`PVOID`手段`void *`。不要将 restype 设置为`None`（函数返回`LONG`）。

也通过`pointer(plcAddress)`（`POINTER(AmsAddr)`在 argtypes 中指定）。

使用正确的调用约定（在 cdll、windll、oledll 之间选择）。

# php - phpunitDbTest.php：找不到命令

> ID：15472218
> 
> 赞同：0
> 
> 时间：2013-03-18T08:12:24.487
> 
> 标签：php, phpunit, mamp

我刚刚安装了**PHPUNIT**，我正在尝试运行它来测试：

```
imac001:unit administrator$ phpunit/DbTest.php 
```

但我的结果总是：

> -bash：phpunitDbTest.php：找不到命令

有人可以帮我解决这个问题吗？我正在开发**Yii**应用程序，我正在**MAMP**上运行它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T22:07:11.833

如果“phpunit/DbTest.php”是测试路径，命令应该是这样的

```
phpunit phpunit/DbTest.php 
```

# mathnet-numerics - Math.NET Numerics 中的 QR 分解

> ID：15472220
> 
> 赞同：1
> 
> 时间：2013-03-18T08:12:29.173
> 
> 标签：mathnet-numerics, qr-decomposition

Math.NET Numerics 中如何实现 QR 分解？

是使用 Gram-Schimdt 还是使用 Givens 旋转？我感觉它是用 Gram-Schimdt 实现的，但我不确定。我找不到实现。

就结果而言，使用 Gram-Schimdt 的 QR 分解与使用 Givens 旋转的不同吗？

我使用Givens旋转矩阵生成（手动）QR分解，然后使用`MathNet.Numerics.LinearAlgebra.Generic.Factorization.QRMethod`（我相信它实现了Gram-Schimdt）生成QR分解，结果略有不同。数字之间的差异大约为 1E-16（不是那么大），并且某些行具有相反的符号 (*-1)（这是真正的问题 - 我认为这是因为 MathNet.Numerics 实现了不同的 QR 算法）。

你能推荐一些使用 Givens 旋转执行 QR 分解的库吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-06-24T15:59:06.787

根据[文档](http://numerics.mathdotnet.com/api/MathNet.Numerics.LinearAlgebra.Factorization/QR%601.htm)，它是使用[Householder 反射](https://en.wikipedia.org/wiki/Householder_reflection)实现的：

> QR 分解的计算是在构建时通过 Householder 变换完成的。

正如您所描述的，不同的方法可以产生具有较小数值差异或负行的答案。有关更多信息，请参阅[维基百科文章](https://en.wikipedia.org/wiki/QR_decomposition)。

# android - 选定的列表项颜色在 Android 中滚动 listView 时移动

> ID：15472229
> 
> 赞同：3
> 
> 时间：2013-03-18T08:13:02.427
> 
> 标签：android, android-listview

在我的 Android 应用程序中，我使用的是 listview。列表视图的代码如下

```
 <ListView
    android:id="@+id/inputselect_listview"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:choiceMode="singleChoice"
    android:footerDividersEnabled="true"
    android:headerDividersEnabled="true"
    android:listSelector="@drawable/list_selector"
    android:splitMotionEvents="true" >
 </ListView> 
```

当用户从列表视图中选择一项时，列表项的背景颜色会根据这一行发生变化

```
android:listSelector="@drawable/list_selector" 
```

编辑：list_selector.xml

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">
<item android:state_window_focused="false" android:state_selected="true"
    android:drawable="@android:color/transparent" />
<item android:state_selected="true"
    android:drawable="@android:color/transparent" />
<item android:state_pressed="true" android:state_selected="false"
    android:drawable="@android:color/transparent" />
<item android:state_selected="false"
    android:drawable="@color/blue_train" />
</selector> 
```

list_selector.xml 位于可绘制文件夹中以指定颜色。现在的问题是，当我从列表视图中选择一项并滚动列表时，选定的项目背景颜色也会根据滚动向下/向上移动。请为我提供解决方案，以便所选项目的背景颜色保持滚动状态。

编辑：这里通过选择单个项目滚动列表视图的屏幕截图。蓝色保持原样

![在此处输入图像描述](../Images/0a7cb1a57b302d275d26323f86e92093.png)

请指教。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:16:30.310

似乎选择器中的未清除状态导致此问题。使用一个喜欢

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android"> 

  <!-- Selected --> 
  <item 
    android:state_focused="true" 
    android:state_selected="false" 
    android:drawable="@drawable/focused"/> 

  <!-- Pressed -->
  <item 
    android:state_selected="true" 
    android:state_focused="false"
    android:drawable="@drawable/pressed" /> 

<!-- default -->
  <item  android:drawable="@drawable/default" /> 

</selector> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-17T08:30:33.110

在 getView() 方法中添加一行；convertView.setBackgroundResource(selectedItemInAactivityList.contains.(arrayListSetInAdaptor.get(position) ? r.drawable.selected : R.drawable.transperant));

这一行解决了你的问题

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-05-13T22:33:20.093

在 onItemClick() 方法中将单击/选定的位置存储在集合或数组中。编写代码以使用存储的位置在适配器的 getview() 方法中处理颜色。

# python - Enthought Canopy 中的 IPython 缓冲区和分页

> ID：15472230
> 
> 赞同：2
> 
> 时间：2013-03-18T08:13:06.443
> 
> 标签：python, windows, ipython, enthought, canopy

我在 Windows 7 上使用 Enthought 的 Python Canopy 0.9.1 测试版分发。如何增加 IPython 缓冲区的大小。另外，我如何通过分页器管道输出命令；输出当前未分页。

如果现有答案（如 [如何增加 ipython qtconsole 回滚缓冲区限制](https://stackoverflow.com/questions/14720766/how-to-increase-the-ipython-qtconsole-scrollback-buffer-limit) 或[如何在 ipython 中使用管道）](https://stackoverflow.com/questions/5740835/how-to-use-pipe-in-ipython)将起作用，我不知道如何将它们应用于 Windows。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T14:14:04.760

目前没有增加缓冲区限制的首选项或配置选项，但您可以使用以下代码创建一个宏并运行它。

```
def run():
    code_task = get_active_task()
    python_pane = code_task.python_pane
    python_pane.frontend.control.buffer_size = 1000 
```

将 设置`buffer_size`为非正值，将关闭缓冲区的剪辑，但 IPython 开发人员“不推荐”此选项。

要创建一个新宏，

1.  去`Tools (Menu) > Edit Macros ...`
2.  单击“创建新宏”按钮并给宏起一个合适的名称。
3.  将上面的代码复制到您的宏中
4.  或者，您可以添加运行此宏的键盘快捷键，方法是单击右下角的键绑定文本框，然后按所需的组合键。如果您选择不设置键盘快捷键，则可以从`Tools > Run Macro > (your macro)`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-18T14:55:39.657

让我补充一下 Puneeth 的回答，即我们的宏框架允许您编写应用程序本身的部分脚本。要使用此代码创建新宏，

1.  选择工具 > 编辑宏...并单击新宏窗口菜单中的“创建新宏”按钮。

2.  选择一个名称，并在描述宏的文件中，将运行函数替换为 Puneeth 给出的函数。

3.  您还需要在右下方面板中创建快捷方式组合。单击键绑定文本框，然后输入您选择的快捷方式：它将被记录并存储在那里。

保存，你很高兴。

乔纳森

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-09T20:37:32.863

分享我自己的解决方案...如果您想查看大于 iPython 缓冲区的输出，并且您（和我一样）对稍后查看输出更感兴趣，您可以使用 iPython 的会话日志记录功能。

在 [] 中：%logstart - 或文件名

然后

在 []: %logstop

# domain-driven-design - 实现一个大集合实体而不将数据加载到内存中

> ID：15472233
> 
> 赞同：0
> 
> 时间：2013-03-18T08:13:22.490
> 
> 标签：domain-driven-design

我正在使用**addImage** ( *$imageId* )、**removeImage** ( *$imageId* )、**getImages** ( *$from, $count* )等方法实现实体**UserImages**。

 *********在物理上，数据（图像 id 的集合）存储在应用程序级存储中，它提供了很好的功能，如**addItem** ( *$keyName, $item, $weight* )、**removeItem** ( *$keyName, $item* )、**getItems** ( *$key, $来自, $count* )。

如何使模型以 DDD 样式使用此外部（从域中查找）存储，而不引用来自**UserImages**实体的存储？重要的是，我不想像传统方法假设的那样，将所有集合从存储加载到实体。

希望我对问题提供了很好的解释，如果没有，请告诉我。非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-18T15:57:05.367

`UserImages`听起来不像一个**实体**，而更像是一个**服务**或**存储库**，你已经有了一个实现——应用程序级存储。您可能希望将其公开为`UserImageRepository`，**存储库**是您所拥有的更合适的名称。更一般地，每当您有一个关联的一端可能具有非常大的基数时，请考虑[将此关联实现为存储库](http://gorodinski.com/blog/2012/07/24/implementing-associations-with-references-or-repositories-in-domain-driven-design-ddd/)而不是直接对象引用。实体和聚合应该是一致性边界，不一定是它们所代表的概念的完整体现。此外，请查看[有效的聚合设计](https://vaughnvernon.co/?p=139)以深入了解该主题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:37:11.300

首先，延迟加载是 DDD 中的一种反模式，当且仅当实体提供对更多数据的访问而不是保持其不变量所需的数据时，您才需要它。为了解决这个问题，您可以改用[共享标识符](http://epic.tesio.it/doc/manual/shared_identifiers.html)。

为了解耦域逻辑和持久性问题，您可以使用[可观察实体](http://epic.tesio.it/doc/manual/observable_entities.html)：提供实体的存储库不断观察它，以便在发生适当的域事件时，它可以持久化更改。但是，如果您使用 PHP 进行编码，则必须手动编写观察者模式。*********

# c# - 来自环境变量的 .NET 时区

> ID：15472234
> 
> 赞同：0
> 
> 时间：2013-03-18T08:13:23.303
> 
> 标签：c#, timezone

我希望设置一个“时区”环境变量，它将由 .NET 可执行文件而不是默认的可执行文件拾取。

具体来说，`TimeZone.CurrentTimeZone()`将返回最重要的时区信息，而不是默认值。

我知道这可以在 C++ 中使用[“TZ”](http://msdn.microsoft.com/en-us/library/htb3tdkc%28v=vs.110%29.aspx)变量来完成。在.Net中也可以吗？

**更新**

很抱歉没有更清楚地说明这一点：我无权访问源代码。基本上，我想要的是运行一个可执行文件，让它认为时区不是机器的默认值。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-18T08:27:11.577

> 具体来说， TimeZone.CurrentTimeZone() 将返回最重要的时区信息，而不是默认值。

这会很棘手。

传递系统时区 ID 并*使用*[`TimeZoneInfo.FindSystemTimeZoneById`](http://msdn.microsoft.com/en-us/library/system.timezoneinfo.findsystemtimezonebyid.aspx). 然后在每次需要“默认时区”时*明确使用它，而不是依赖真正的系统默认时区。*

`TimeZone`基本上你应该尽可能地放弃。与`TimeZoneInfo`. （就我个人而言，我也会放弃`TimeZoneInfo`并使用我的[Noda Time](http://noda-time.googlecode.com)项目，但这是另一回事；）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:19:46.440

[Environment.GetEnvironmentVariable](http://msdn.microsoft.com/en-us/library/77zkk0b6.aspx)方法允许您从 .NET 代码中检索任何环境变量的值。但是，您必须使用外部机制在第一个位置设置环境变量，变量的值也可以是任何字符串，因此您必须验证获得值的格式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T08:20:48.407

您可以使用方法获取环境变量`System.Environment.GetEnvironmentVariable("Timezone")`。

# kendo-grid - 我的剑道网格列过滤器图标弹出未正确显示

> ID：15472235
> 
> 赞同：2
> 
> 时间：2013-03-18T08:13:28.887
> 
> 标签：kendo-grid

我有剑道网格，它有可过滤的“真”，当点击过滤器图标时，它显示如下。当我们在过滤器框中输入文本时，只显示一半的字母。是否可以增加文本的大小-过滤器中的框？这里有什么问题？以及如何解决这个问题？

![在此处输入图像描述](../Images/34581d3e194a96ebcc901c896ea51ae1.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-20T10:15:32.157

您只是尝试增加文本框高度

一旦尝试这个

```
 .k-numeric-wrap .k-input
{
 height:23px
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T18:36:49.333

似乎您的 css 样式可能与 kendo 的 css 样式冲突。如果您使用的是 chrome，请右键单击文本框，然后单击检查元素。（我相信您也可以在其他浏览器中检查元素。在 IE 中按 F12。）

看看元素的样式，或者有时父元素的样式也会导致问题？

# apache-flex - flex：如何将 int 转换为 Object 中的 String

> ID：15472237
> 
> 赞同：0
> 
> 时间：2013-03-18T08:13:36.277
> 
> 标签：apache-flex, object, arraycollection

```
private var xml:XML = <root><data><name>123456789012345678903333333333</name></data></root>

        public function xmlConversion(xml:XML):void
        {  
            _xmlDoc = new XMLDocument(xml.toString());  
            _decoder = new SimpleXMLDecoder(true);  
            _resultObj = _decoder.decodeXML(_xmlDoc);  
            _arrCol = new ArrayCollection();
            _arrCol.addItem(_resultObj.root.data);
            trace(_arrCol.getItemAt(0).name);

        } 
```

痕迹：

```
1.23456789012345e+29 
```

我希望结果名称的值为：

```
123456789012345678903333333333 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T12:35:03.593

SimpleXMLDecoder decodeXML 方法将您的“大数字字符串”转换为数字类型。Number 类型只能容纳 17 位（或者是 16 位？）数字......所以它总是以指数形式存储。

您可以做的是将您的 XML 节点直接用作字符串，例如

```
trace("Your xml node value as string:"+xml.data.name); 
```

这将跟踪：您的 xml 节点值作为字符串：123456789012345678903333333333

PS这可能应该是一个评论，但我还没有足够的代表。这样做

# javascript - 在没有直接许可的情况下估计用户的上传速度

> ID：15472251
> 
> 赞同：11
> 
> 时间：2013-03-18T08:14:30.323
> 
> 标签：javascript, ajax, html, performance, file-upload

我想在没有获得直接许可的情况下粗略估计用户的*上传速度。*这只是为了区分非常慢的连接和非常快的连接，所以准确性并不是非常重要......

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-19T03:11:24.240

这是使用`XMLHttpRequest`扩展[@Yiğit Yener 的](https://stackoverflow.com/a/15472293/918414)想法的实现。

上传速度取决于两件事：用户的连接速度和服务器的连接速度。我在这里假设您想测试用户和服务器之间的*速度*。并且`XMLHttpRequest`，由于[同源策略](http://en.wikipedia.org/wiki/Same_origin_policy)，这确实是唯一的选择。

使用上传速度，您无需返回任何内容。您只需要将`POST`大量数据传输到服务器上的任何页面。最容易点击的页面是您已经打开的页面。为此，您可以将 url 的域部分完全保留在`.open()`. `POST`某些服务器上的数据限制为 2 兆字节，所以为了安全起见，我使用了一个。一个就足以获得体面的阅读。

为了防止 URL 被缓存，我在末尾附加了一个随机数。

```
url = '?cache=' + Math.floor( Math.random() * 10000 ) 
```

为了防止`POST`数据被压缩，我使用随机数据。该函数允许您传递要检查的迭代次数。迭代间隔为每五秒一次。每次迭代都会以该`update`检查的速度和所有检查的移动平均值调用回调。使用尽可能多的迭代来获得所需的准确性。如果你只是想要一个粗略的估计，一次迭代就足够了。

它是这样称呼的：

```
checkUploadSpeed( 10, function ( speed, average ) {

} ); 
```

* * *

## 演示

您可以在此处尝试此代码。

### 私人服务器

[你可以在ThinkingStiff 自己的服务器](http://thinkingstiff.com/scripts/upload-speed)上试试这个，这可能是所有这些中最快的。

### 堆栈片段

```
 function checkUploadSpeed( iterations, update ) {
        var average = 0,
            index = 0,
            timer = window.setInterval( check, 5000 ); //check every 5 seconds
        check();

        function check() {
            var xhr = new XMLHttpRequest(),
                url = '?cache=' + Math.floor( Math.random() * 10000 ), //random number prevents url caching
                data = getRandomString( 1 ), //1 meg POST size handled by all servers
                startTime,
                speed = 0;
            xhr.onreadystatechange = function ( event ) {
                if( xhr.readyState == 4 ) {
                    speed = Math.round( 1024 / ( ( new Date() - startTime ) / 1000 ) );
                    average == 0 
                        ? average = speed 
                        : average = Math.round( ( average + speed ) / 2 );
                    update( speed, average );
                    index++;
                    if( index == iterations ) {
                        window.clearInterval( timer );
                    };
                };
            };
            xhr.open( 'POST', url, true );
            startTime = new Date();
            xhr.send( data );
        };

        function getRandomString( sizeInMb ) {
            var chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789~!@#$%^&*()_+`-=[]\{}|;':,./<>?", //random data prevents gzip effect
                iterations = sizeInMb * 1024 * 1024, //get byte count
                result = '';
            for( var index = 0; index < iterations; index++ ) {
                result += chars.charAt( Math.floor( Math.random() * chars.length ) );
            };     
            return result;
        };
    };

    checkUploadSpeed( 10, function ( speed, average ) {
        document.getElementById( 'speed' ).textContent = 'speed: ' + speed + 'kbs';
        document.getElementById( 'average' ).textContent = 'average: ' + average + 'kbs';
    } );
```

```
<div id="speed">speed: 0kbs</div>
<div id="average">average: 0kbs</div>
```

### JSFiddle

托管演示的 JSFiddle 服务器速度较慢。

单击此按钮转到小提琴：

[![JSFiddle](../Images/827f57786617d886d70c0bce0ccca6b6.png)](http://jsfiddle.net/ThinkingStiff/z8KXd/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-18T08:18:29.000

您可以向发送/返回大量数据的服务发出异步 ajax 请求，并测量客户端加载所需的时间。这当然会受到客户端当前网络使用情况的影响。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-18T08:19:34.753

想到的一种方法是创建一个`iframe`带有a`form`的a ，用大量随机字符`textarea`填充，然后以编程方式提交表单。`textarea`让提交响应调用父窗口来说明它何时完成，并测量从提交到完成的时间。您可能会从一个相对较小的有效负载开始（因此在连接速度较慢的情况下不会永远持续），如果恢复得很快，请重复使用越来越大的有效负载，直到您对结果满意为止。我想，同样的事情可以用 ajax 来完成，不知道为什么我立刻想到了`iframe`. 在 Stack Overflow 上查看[我的其他答案](https://stackoverflow.com/a/4547184/157247)，但要考虑越来越大的表单数据而不是下载数据。

这将为您提供一个*非常粗略*的上传速度衡量标准。

# mysql - SQL 使用计数连接多个表

> ID：15472258
> 
> 赞同：1
> 
> 时间：2013-03-18T08:15:08.300
> 
> 标签：mysql, sql, join

表说明：

```
Table Members:
  id
  name
  status

Table Memberships:
  id
  date_start
  date_end
  date_added
  cost
  member_id
  status
  membership_type

Table Things:
  id
  name
  quantity
  member_id
  status 
```

通过以下查询，我想获得表/视图，该表/视图将为每个“MEMBER”显示“MEMBERSHIP”，每个“MEMBER”的最后一列中都有“THINGS”的总和。

逻辑是这样的：“MEMBERS”是每条记录一个成员，每个“MEMBER”可以有多个“MEMBERSHIPS”，每个“MEMBER”可以有多个“THINGS”记录。

但是，以下查询返回我的事物数量乘以每个用户拥有的会员数量的总和。

```
 select
  memberships.id,
  memberships.member_id,
  members.name,
  members.status,
  memberships.membership_type,
  memberships.date_start,
  memberships.date_end,
  memberships.date_added,
  memberships.cost,
  memberships.status
  sum(things.quantity) as quantity
  from memberships
  right join members on memberships.member_id = members.id
  right join things on things.member_id = members.id
  where NOW() between memberships.date_start and memberships.date_end
  and memberships.status = 1
  and things.status = 1
  and members.status = 1
  group by members.id, memberships.member_id 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:20:50.120

您需要在单独的子查询中计算每条记录，以便获得正确的结果。如果你加入表格并直接计算它，你将得到无效的结果，因为表格上`members`可以有多个记录，也可以有多个记录。`membership``things``Things`

```
SELECT  a.*,
        COALESCE(b.totalMembership, 0) totalMembership,
        COALESCE(c.TotalThings, 0) TotalThings
FROM    Members a
        LEFT JOIN
        (
            SELECT  member_id, COUNT(*) totalMembership
            FROM    Memberships 
            GROUP   BY member_ID
        ) b ON a.ID = b.member_ID
        LEFT JOIN 
        (
            SELECT  member_ID, SUM(quantity) TotalThings
            FROM    Things
            GROUP   BY member_ID
        ) c ON a.ID = c.member_ID 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:07:17.237

当我在试验时，我发现了另一种不需要子查询的解决方法，它对于类似的场景 100% 有用。

我刚刚在 select 中添加了一个列，它的计算方式如下：

```
(sum(things.quantity) DIV count(distinct memberships.id)) as quantity 
```

而且，瞧，它有效:)

# java - JToolbar 中的 JTextField - 在 Linux 和 Windows 中都无法正确显示

> ID：15472260
> 
> 赞同：2
> 
> 时间：2013-03-18T08:15:19.450
> 
> 标签：java, linux, swing, jtextfield, jtoolbar

请参阅下面的 SSCCE：

```
import java.awt.BorderLayout;
import java.awt.Component;
import java.awt.Dimension;
import java.awt.EventQueue;

import javax.swing.Box;
import javax.swing.JComponent;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JTextField;
import javax.swing.JToolBar;
import javax.swing.UIManager;
import javax.swing.border.EtchedBorder;

@SuppressWarnings("serial")
public class GlueTest extends JComponent {

    private JFrame frame;
    private JToolBar toolbar;
    private JLabel label_1;
    private JTextField textField_1;
    private JLabel label_2;
    private JTextField textField_2;

    public static void main(String[] args) {
        try {
            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
        } catch (Throwable e) {
            e.printStackTrace();
        }
        EventQueue.invokeLater(new Runnable() {
            public void run() {
                try {
                    GlueTest window = new GlueTest();
                    window.frame.setVisible(true);
                    window.frame.requestFocusInWindow();
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        });
    }

    public GlueTest() {
        initialize();
    }

    private void initialize() {
        frame = new JFrame("Test");
        frame.setBounds(0,0,800,600);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        toolbar = new JToolBar();
        toolbar.setFloatable(false);
        toolbar.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));
        toolbar.setMaximumSize(new Dimension(frame.getWidth(), frame.getHeight()));
        frame.getContentPane().add(toolbar, BorderLayout.NORTH);

        Component horizontalGlue = Box.createHorizontalGlue();
        toolbar.add(horizontalGlue);

        label_1 = new JLabel(" 1 ");
        toolbar.add(label_1);

        textField_1 = new JTextField();
        textField_1.setColumns(9);
        textField_1.setMaximumSize(textField_1.getPreferredSize());
        toolbar.add(textField_1);

        label_2 = new JLabel(" 2 ");
        toolbar.add(label_2);

        textField_2 = new JTextField();
        textField_2.setColumns(9);
        textField_2.setMaximumSize(textField_2.getPreferredSize());
        toolbar.add(textField_2);
    }
} 
```

请注意，我使用的是“系统”外观。在 Windows 7 中，它显示完美。文本字段自动调整到最大大小，左侧的水平粘连尽可能地增长，迫使它们右对齐。

![在此处输入图像描述](../Images/a5c2f0295a6792ac0e2a6803d8a0f7e7.png)

但是，在 Linux（如果重要的话，Ubuntu 12.04）中，它最终会大不相同。文本字段直接从框架中滚动！水平胶水本身的尺寸太大。

![在此处输入图像描述](../Images/c7ae757966c73043ca9ab9bdad22856e.png)

我尝试了其他几种不同的方法来让它在两者中正确显示，但没有运气。事实上，我能让它在 Linux 中正确显示的唯一方法是删除文本字段的所有样式（最大宽度、列等），然后它成功地不滚动框架，但它没有用，因为它只有几个像素的宽度。

作为旁注，我什至没有机会尝试 Mac OS，但我很好奇结果如何*。*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T17:06:35.487

作为替代方案，请考虑将`JToolBar`布局更改为`FlowLayout.RIGHT`.

![Ubuntu 截图](../Images/e05c64eaef6ce333d4242f1dbe3c818e.png)

```
import java.awt.BorderLayout;
import java.awt.EventQueue;
import java.awt.FlowLayout;
import javax.swing.JComponent;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.JToolBar;
import javax.swing.border.EtchedBorder;

public class Test extends JComponent {

    public Test() {
        JToolBar toolbar = new JToolBar();
        toolbar.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));
        toolbar.setLayout(new FlowLayout(FlowLayout.RIGHT));
        toolbar.add(new JLabel("1"));
        toolbar.add(new JTextField(9));
        toolbar.add(new JLabel("2"));
        toolbar.add(new JTextField(9));

        JFrame frame = new JFrame("Test");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.add(toolbar, BorderLayout.NORTH);
        frame.add(new JTextArea(10, 40));
        frame.pack();
        frame.setVisible(true);
    }

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                Test window = new Test();
            }
        });
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-18T09:20:00.840

问题（不是 ***nix 用户），你对这段代码有同样的问题吗

```
import java.awt.BorderLayout;
import java.awt.Dimension;
import java.awt.EventQueue;
import javax.swing.Box;
import javax.swing.JComponent;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.JToolBar;
import javax.swing.border.EtchedBorder;

@SuppressWarnings("serial")
public class GlueTest extends JComponent {

    private JFrame frame;
    private JToolBar toolbar;
    private JLabel label_1;
    private JTextField textField_1;
    private JLabel label_2;
    private JTextField textField_2;

    public GlueTest() {
        toolbar = new JToolBar();
        toolbar.setFloatable(false);
        toolbar.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));
        toolbar.setAlignmentY(TOP_ALIGNMENT);
        toolbar.add(Box.createHorizontalGlue());

        label_1 = new JLabel(" 1 ");        
        toolbar.add(label_1);
        toolbar.add(Box.createRigidArea(new Dimension(10,1)));

        textField_1 = new JTextField();
        textField_1.setColumns(9);
        textField_1.setMaximumSize(textField_1.getPreferredSize());
        toolbar.add(textField_1);
        toolbar.add(Box.createHorizontalStrut(10));

        label_2 = new JLabel(" 2 ");
        toolbar.add(label_2);
        toolbar.add(Box.createRigidArea(new Dimension(10,1)));

        textField_2 = new JTextField();
        textField_2.setColumns(9);
        textField_2.setMaximumSize(textField_2.getPreferredSize());
        toolbar.add(textField_2);
        toolbar.add(Box.createHorizontalStrut(10));

        frame = new JFrame("Test");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.add(toolbar, BorderLayout.NORTH);
        frame.add(new JTextArea(10, 40));
        frame.pack();
        frame.setVisible(true);
    }

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                GlueTest window = new GlueTest();
            }
        });
    }
} 
```

将内置 BoxLayout 切换到 BorderLayout

```
import java.awt.BorderLayout;
import java.awt.EventQueue;
import javax.swing.JComponent;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.JToolBar;
import javax.swing.border.EtchedBorder;

@SuppressWarnings("serial")
public class GlueTest extends JComponent {

    private JFrame frame;
    private JToolBar toolbar;
    private JLabel label_1;
    private JTextField textField_1;
    private JLabel label_2;
    private JTextField textField_2;

    public GlueTest() {
        toolbar = new JToolBar();
        toolbar.setFloatable(false);
        toolbar.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));
        toolbar.setLayout(new BorderLayout(10, 10)); 
        JPanel panel = new JPanel();
        panel.setOpaque(false);
        label_1 = new JLabel("1");        
        panel.add(label_1);
        textField_1 = new JTextField();
        textField_1.setColumns(9);
        panel.add(textField_1);
        label_2 = new JLabel("2");
        panel.add(label_2);
        textField_2 = new JTextField();
        textField_2.setColumns(9);
        panel.add(textField_2);
        toolbar.add(panel, BorderLayout.EAST);
        frame = new JFrame("Test");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.add(toolbar, BorderLayout.NORTH);
        frame.add(new JTextArea(10, 40));
        frame.pack();
        frame.setVisible(true);
    }

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                GlueTest window = new GlueTest();
            }
        });
    }
} 
```

# load-testing - Load Runner 错误短期过滤器必须为空

> ID：15472261
> 
> 赞同：0
> 
> 时间：2013-03-18T08:15:28.763
> 
> 标签：load-testing, loadrunner

我在 Load runner 中遇到问题。使用“Web_add_filter”函数时，内部错误提示“短期过滤器必须为空”，在运行输出结果中显示。

我正在使用以下代码行：

```
web_add_filter("Action=Exclude", "PathPrefix=/css/", LAST );
web_add_filter("Action=Exclude", "PathPrefix=/js", LAST );
web_add_filter("Action=Exclude", "PathPrefix=/images/1033", LAST );
web_add_filter("Action=Exclude", "PathPrefix=/aka", LAST ); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T20:32:44.113

没有将应用路径前缀的主机名上下文。

此外，这些项目的上下文将仅是下一个调用。故意将样式表、javascript、图像等排除在下载之外是非常不寻常的。这可能表明 Web 服务器上的这些 mime 类型的缓存老化设置不正确，或者开发人员在请求中使用了无缓存方法。

# css - 将基于表格的布局的 col-span、row-span 转换为引导响应式设计

> ID：15472265
> 
> 赞同：0
> 
> 时间：2013-03-18T08:15:56.757
> 
> 标签：css, twitter-bootstrap, html

实现了响应式设计的引导程序，但现在输入要求与附加的 jsfiddle 中的一样。系统输入来自表格布局，用户可以在 col span 和 row span 中添加元素，但是当我将其转换为基于 Div 的响应式设计时，它不起作用。我尝试了 div 解决方案，但使用了绝对位置，它不适用于响应式设计。将基于表格的布局的列跨度、行跨度转换为引导响应式设计的任何帮助

谢谢，

[http://jsfiddle.net/V6gEL/](http://jsfiddle.net/V6gEL/)

>

HTML：

```
 <div class="col-span">1</div>
<div class="left row-span">3</div>
    <div class="middle">4</div>

<div class="row-span " style="top=0px; left: 240px;">2</div> 

<div class="right col-span " style="top:240px; left:120px;">5</div> 
```

CSS：

```
div{
    position:absolute;
    height:100px;
    width: 100px;
    border: 2px solid #CCCCCC;
    float:left;
    top:0px;
    /*display:inline-block;*/
}

.right{
    position:absolute;
    background-color:Yellow;

}
.left{
     background-color:Red;
        top:120px;
}
.row-span{
    height:200px;
}
.col-span{
    width:200px;
}
.row{
    border:none;
    width:220px;

}

.middle{
    top:120px;
    left:120px;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T14:12:00.257

AFAIK，你想要的布局（也是响应式的）不能只用 css 来完成。您可能能够使用 CSS 列在现代浏览器上获得类似 pinterest 的布局，但 IE9 及更低版本不支持它，并且它不符合您的要求（查看此[链接](http://cssdeck.com/labs/css-only-pinterest-style-columns-layout)）。

另一种选择是像[jQuery masonary](http://masonry.desandro.com/)或[isotope](http://isotope.metafizzy.co/docs/introduction.html)这样的 javascript 库，它允许布置奇怪形状的项目并且是响应式的。

# java - Android 调试器无法连接

> ID：15472267
> 
> 赞同：0
> 
> 时间：2013-03-18T08:16:07.690
> 
> 标签：java, android, debugging, button

我使用 eclipse 来调试 android 应用程序。当我按下运行时，它会运行应用程序。但是按下某些按钮会调用异常。所以我尝试调试，但似乎调试器停止：

```
 Attemting to connecto debugger to 'com.example.myapplication' on port 8867. 
```

它没有反应。

它可以是什么？如何解决？请有任何提示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:22:51.443

某些应用程序需要调试过程的权限。检查`android.permission.SET_DEBUG_AP`AndroidManifest.xml 中的 P 权限。

```
<manifest>
  <uses-permission android:name="android.permission.SET_DEBUG_APP"></uses-permission>
</manifest> 
```

您也可以`android:debuggable="true"`在 AndroidManifest.xml 的应用程序标签中添加。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T08:31:58.523

请尝试是否有效。

*   卸载您以前的 APK，然后重新安装并尝试运行它。

你在你的日志中得到这个吗？

```
Attemting to connecto debugger to 'com.example.myapplication' on port 8867.

Launch error: Failed to connect to remote VM. Connection timed out. 
```

然后尝试以下步骤，它可能会工作

*   关闭 Eclipse。
*   移除 USB。
*   转到任务管理器，然后删除所有“eclipse.exe”（在我的情况下，我有 4-5 个实例）。
*   同时删除“adb.exe”。
*   重新启动 Eclipse。
*   重新连接 USB。

# xamarin - 我可以将 MvvmCross vNext 与 Xamarin 2.0 一起使用吗？

> ID：15472273
> 
> 赞同：3
> 
> 时间：2013-03-18T08:16:40.780
> 
> 标签：xamarin, mvvmcross, xamarin.ios, xamarin.android

我在我们的 Android 和 iOS 应用程序中使用 MvvmCross 框架，但我们计划从 master 分支升级到 vNext。我刚刚升级了我的系统以使用 Xamarin.iOS 和 Xamarin.Android。当 Xamarin 2.0 还不支持可移植类库时，是否可以在该设置上使用 vNext？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T08:56:54.520

根据最新的[HanselMinutes 播客](http://hanselminutes.com/362/ios-and-android-apps-with-xamarin-studio-20-and-miguel-de-icaza)，对 PCL的官方支持上周已集成到 Xamarin 2.0 中 - 因此可能值得再等几周，然后再与当前设置作斗争。

对于 MvvmCross 本身，我知道很多人在 Xamarin 2.0 上运行 vNext，他们似乎让事情运行得很好。

我本人专注于 v3 - 现在正在 Alpha 版中运行：

*   完全在 Visual Studio 中用于 WP、WinRT、WPF 和 Android 的 Xamarin2.0
*   完全在 Xamarin Studio for iOS 中的 Xamarin2.0
*   但目前不能从 VS 到 iOS

有关更多信息，我建议您跟踪和贡献[http://forums.xamarin.com/discussion/1549/pcls-and-mvvmcross-in-the-new-tools](http://forums.xamarin.com/discussion/1549/pcls-and-mvvmcross-in-the-new-tools) - 这将比这些更新在这里回答。

# ios - 我可以将任务分配给 iOS 中的特定核心吗？

> ID：15472274
> 
> 赞同：1
> 
> 时间：2013-03-18T08:16:45.273
> 
> 标签：ios, objective-c, c, multithreading

只是一个快速的问题。假设我有一个应用程序进行一些繁重的计算。是否可以在一个核心上运行 UI 代码，然后在另一个核心上进行所有计算？如果是，你如何做到这一点？

谢谢

**编辑：**

澄清一下，我不是指在不同的线程上运行，而是在另一个核心上运行。计算应该为自己获得一个完整的核心。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T08:19:11.357

只需使用 Grand Central Dispatch。所有 UI 更新都进入主队列，所有繁重的后台处理都进入后台队列。通常的代码模式如下所示：

```
dispatch_async(dispatch_get_global_queue(0, 0), ^{
    [self doHeavyCalculation];
    dispatch_async(dispatch_get_main_queue(), ^{
        [self updateUI];
    });
}); 
```

将任务分配给特定的核心是应该留给系统的事情，您在多任务操作系统上运行，并且您的应用程序不知道很多事情。如果（大部分）只有您的应用程序正在运行并且您在后台队列中调度某些内容，则后台任务将拥有自己的核心。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T08:19:19.800

简单的答案：是的，UI 始终在主线程上运行，您可以在主线程或后台线程上进行的任何计算，[这个答案](https://stackoverflow.com/questions/3614780/how-to-join-threads-in-objective-c-without-using-delegates-callback)可能很有用。

# ember.js - Ember.ArrayController 和 Ember.View 之间的 contentBinding [ember-1.0.0-rc.1.js]

> ID：15472294
> 
> 赞同：1
> 
> 时间：2013-03-18T08:18:29.500
> 
> 标签：ember.js, handlebars.js

如何将 ArrayController.content 绑定到视图，以便根据 ArrayController 中的对象绘制画布。

[jsFiddle - 示例代码](http://jsfiddle.net/gcLft/11/) 控制器中值的绑定正在工作，但对于 content.values 无效。

**问题1：** 这是概念上的失败吗？我无法找到我的问题的详细信息。对于 ObjectController，它可以工作，但不适用于 ArrayController。

**问题 2：** 如果 Object.values (eq faceColor) 发生变化，更新视图的最佳解决方案是什么？

html

```
<script type="text/x-handlebars">

<h1>each</h1>
{{#each App.andonController}}
    {{view "App.AndonView"}}
    {{faceColor}} {{emotionType}}
{{/each}}   

</script> 
```

物体

```
App.Andon = Ember.Object.extend({
    emotionType: '',
    faceColor: '',
}); 
```

风景

我想在我的 ArrayController 中的每个对象的画布中绘制一个元素

```
App.AndonView = Ember.View.extend({

    tagName: "canvas",
    attributeBindings: ['height', 'width'],
    height: 100,
    width: 100,

    controllerBinding:'App.andonController.content',
    faceColorBinding: 'content.faceColor',
    emotionTypeBinding: 'content.emotionType',

    didInsertElement: function(){
        this.drawSmiley();        
    },

    arrayDidChange: function(){
        this.drawSmiley();
    },  

    degreesToRadians : function(degrees) {...},

    drawSmiley: function(){
        ...
        var faceColor = null;
        try {
            faceColor = this.get('faceColor');
            //alert(faceColor);         
        } catch (e) {
            alert('faceColer is empty')
        } 
        ...
    } 
}); 
```

控制器

```
App.andonController = Em.ArrayController.create({

    content: [

      App.Andon.create( 
      {
        emotionType: 'happy',
        faceColor: '#00ff00'
      }), 
      App.Andon.create( 
          {
              emotionType: 'sad',
              faceColor: '#665sd'
      } 
   )],

}) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T17:38:00.307

我会稍微重构一下以使用直接`itemController`存在`each`的功能`ArrayController`。

首先，我会将您的阵列控制器从 更改`andonController`为`andonsController`. 复数有助于清楚地表明它正在管理 andons 的集合而不是单个对象。

然后我会制作第二个控制器来管理单个 andon 对象：

```
App.AndonController = Ember.ObjectController.extend() 
```

现在，在您的循环中，您可以改为

```
{{#each App.andonsController itemController="App.AndonController"}}
    {{view "App.AndonView"}}
    {{faceColor}} {{emotionType}}
{{/each}} 
```

`App.AndonController`（现在是一个`ObjectController`，这意味着它将透明地传递到其对属性的内容调用，包括绑定和计算属性'）将为循环中的每个项目创建一个实例，并且因为视图的控制器是它的上下文，您可以不需要在路径前添加任何内容，并且 subView 会`controller`自动获取其上下文。

我已经分叉了你的 JSFiddle 来说明：

[http://jsfiddle.net/H2zPk/](http://jsfiddle.net/H2zPk/)

我更不确定`context`在您的视图中使用该属性。这主要是供模板使用的，在内部使用它可能会导致以后违反预期的行为，例如，如果您尝试将它包含在`context`不是 AndonController 的地方。相反，我会将诸如`content`（<-注意拼写更改）之类的属性绑定到给定用途的已知有效路径，并访问该内部变量的属性。（我也不会绑定上下文属性，我认为这是一种反模式）。

通常，如果您依赖于在外部设置的属性，并且在某些情况下可能未设置，或者不一定指向您期望的对象，我会避免直接在您的课程中使用它和而是定义一个绑定。（我特别指的是内置属性，例如`controller`其`context`行为可能会有所不同。您自己的属性可以定义合理的默认值并记录已知行为，当然可以安全地直接在视图中使用）。您不仅可以避免依赖在所有情况下可能都不相同的行为（或者更糟糕的是，被认为是私有或内部并且将来可能会改变的行为），然后您可以用计算属性替换您的内部属性，或者只是将其绑定到您想要的任何位置，*并且无需更新您的参考资料*。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T09:38:23.053

通过使用 contextBinding，我在这个问题上取得了一些成功。你可以把你的模板改成这样。

```
{{#each andon in App.andonController}}
    {{view "App.AndonView" contextBinding="andon"}}
    {{faceColor}} {{emotionType}}
{{/each}} 
```

然后将视图中的每个值获取为

```
this.get('context.faceColor') 
```

等等。我能够让快乐的脸出现在你的小提琴中。

[http://jsfiddle.net/gcLft/2/](http://jsfiddle.net/gcLft/2/)

# android - 滚动结束时需要触发事件

> ID：15472296
> 
> 赞同：0
> 
> 时间：2013-03-18T08:18:38.560
> 
> 标签：android, android-layout, android-widget

我将在列表视图中列出 10 个文件。当用户滚动结束时，我将获取其他 10 个文件并附加到现有列表中。这应该递归发生。请指导如何做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:34:04.893

[你会在这里](https://stackoverflow.com/questions/4731034/reach-bottom-of-listview-load-more-items)找到你的答案，或者你可以看看这篇[文章](https://stackoverflow.com/questions/1080811/android-endless-list)。如果您愿意使用库，这应该可以解决您的问题

# mysql - 在创建唯一键之前如何定位重复记录？

> ID：15472297
> 
> 赞同：0
> 
> 时间：2013-03-18T08:18:53.467
> 
> 标签：mysql, sql, unique-constraint

我将在一个大型旧表（数十万行）中创建一个 UNIQUE 键，以强制每行包含唯一数据。我不能只是创建索引，因为该表已经包含一些重复项。我不知道它包含多少重复项，或者是否需要重复项。简而言之，在我想出一个查询来选择所有违反未来唯一键的行之前，我无法分析问题。

假设我有一个包含字段**col_one**、**col_two**、**col_three**和**col_four**的表。我未来的唯一键将包含**col_two**和**col_three**。如何选择表中**col_two**和**col_three**在同一个表中有重复的所有行？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-18T08:32:41.180

使用一个组。

```
SELECT 
  col_two,
  col_three,
  COUNT (*) AS `num_dupes`
FROM
  your_table
GROUP BY
  col_two,
  col_three
HAVING 
  COUNT(*) > 1 -- Only return results where there is at least one duplicate. 
```

如果要查看表中存在重复项的所有结果，只需将这些结果连接到表中即可：

```
SELECT
  your_table.*
FROM
  your_table
    INNER JOIN 
    (SELECT 
      col_two,
      col_three,
      COUNT (*) AS `num_dupes`
    FROM
      your_table
    GROUP BY
      col_two,
      col_three
    HAVING 
      COUNT(*) > 1) dupes 
      ON your_table.col_two = dupes.col_two AND
         your_table.col_three = dupes.col_three 
```

# c - 将字符串拆分为标记并将它们保存在数组中

> ID：15472299
> 
> 赞同：40
> 
> 时间：2013-03-18T08:19:01.387
> 
> 标签：c, split, strtok

如何将字符串拆分为标记，然后将它们保存在数组中？

具体来说，我有一个字符串`"abc/qwe/jkh"`。我想分离`"/"`，然后将标记保存到一个数组中。

输出将是这样的

```
array[0] = "abc"
array[1] = "qwe"
array[2] = "jkh" 
```

请帮我

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2013-03-18T08:28:02.147

```
#include <stdio.h>
#include <string.h>

int main ()
{
    char buf[] ="abc/qwe/ccd";
    int i = 0;
    char *p = strtok (buf, "/");
    char *array[3];

    while (p != NULL)
    {
        array[i++] = p;
        p = strtok (NULL, "/");
    }

    for (i = 0; i < 3; ++i) 
        printf("%s\n", array[i]);

    return 0;
} 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-03-18T08:22:57.230

您可以使用[`strtok()`](http://www.cplusplus.com/reference/cstring/strtok/)

```
char string[] = "abc/qwe/jkh";
char *array[10];
int i = 0;

array[i] = strtok(string, "/");

while(array[i] != NULL)
   array[++i] = strtok(NULL, "/"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-12-02T11:41:03.443

## 为什么`strtok()`是个坏主意

不要`strtok()`在普通代码中`strtok()`使用，使用`static`有问题的变量。在嵌入式微控制器上有一些用例，其中`static`变量有意义，但在大多数其他情况下避免使用它们。`strtok()`当超过 1 个线程使用它、在中断中使用它或在某些其他情况下，在连续调用`strtok()`. 考虑这个例子：

```
#include <stdio.h>
#include <string.h>

//Splits the input by the / character and prints the content in between
//the / character. The input string will be changed
void printContent(char *input)
{
    char *p = strtok(input, "/");
    while(p)
    {
        printf("%s, ",p);
        p = strtok(NULL, "/");
    }
}

int main(void)
{
    char buffer[] = "abc/def/ghi:ABC/DEF/GHI";
    char *p = strtok(buffer, ":");
    while(p)
    {
        printContent(p);
        puts(""); //print newline
        p = strtok(NULL, ":");
    }
    return 0;
} 
```

您可能期望输出：

```
abc, def, ghi,
ABC, DEF, GHI, 
```

但你会得到

```
abc, def, ghi, 
```

这是因为您调用`strtok()`了在中生成`printContent()`的内部状态。返回后，内容为空，下一次调用返回。`strtok()``main()``strtok()``strtok()``NULL`

## 你应该做什么

您可以`strtok_r()`在使用 POSIX 系统时使用，此版本不需要`static`变量。如果您的库不提供`strtok_r()`，您可以编写自己的版本。这应该不难，而且 Stackoverflow 不是编码服务，您可以自己编写。

# java - Android IndexOutOfBound 异常：位置 0 无效，大小为 0

> ID：15472304
> 
> 赞同：0
> 
> 时间：2013-03-18T08:19:15.007
> 
> 标签：java, android

我被卡住了，运行 GameView 类时出现错误。它编译没有错误，但是在 android 仿真上运行它时会崩溃。我将在代码之后发布 logcat。

代码

```
 public class GameView extends View {

private Context myContext;
private List<Card> deck = new ArrayList<Card>();
private int scaledCardW;
private int scaledCardH;
private int screenW;
private int screenH;
private List<Card> myHand = new ArrayList<Card>();
private List<Card> oppHand = new ArrayList<Card>();
private List<Card> discardPile = new ArrayList<Card>();
private float scale;
private Paint whitePaint;
private int oppScore;
private int myScore;

public GameView(Context context) {
    super(context);
    myContext = context;
    scale = myContext.getResources().getDisplayMetrics().density;

    whitePaint = new Paint();
    whitePaint.setAntiAlias(true);
    whitePaint.setColor(Color.WHITE);
    whitePaint.setStyle(Paint.Style.STROKE);
    whitePaint.setTextAlign(Paint.Align.LEFT);
    whitePaint.setTextSize(scale * 15);

}

private void initCards() {
    for (int i = 0; i < 4; i++) {
        for (int j = 102; j < 115; j++) {
            int tempID = j + (i * 100);
            Card tempCard = new Card(tempID);
            int resourceID = getResources().getIdentifier("card" + tempID,
                    "drawable", myContext.getPackageName());
            Bitmap tempBitmap = BitmapFactory.decodeResource(
                    myContext.getResources(), resourceID);
            scaledCardW = (int) (screenW / 8);
            scaledCardH = (int) (scaledCardW * 1.28);
            Bitmap scaledBitmap = Bitmap.createScaledBitmap(tempBitmap,
                    scaledCardW, scaledCardH, false);
            tempCard.setBitmap(scaledBitmap);

            deck.add(tempCard);
        }
    }
}

private void drawCard(List<Card> handToDraw) {
    handToDraw.add(0, deck.get(0));
    deck.remove(0);

    if (deck.isEmpty()) {
        for (int i = discardPile.size() - 1; i > 0; i--) {
            deck.add(discardPile.get(i));
            discardPile.remove(i);
            Collections.shuffle(deck, new Random());

        }
    }
}

private void dealCards() {
    Collections.shuffle(deck, new Random());
    for (int i = 0; i < 7; i++) {
        drawCard(myHand);
        drawCard(oppHand);
    }
}

@Override
public void onSizeChanged(int w, int h, int oldw, int oldh) {
    super.onSizeChanged(w, h, oldw, oldh);
    dealCards();

}

@Override
protected void onDraw(Canvas canvas) {
    canvas.drawText("Computer Score: " + Integer.toString(oppScore), 10,
            whitePaint.getTextSize() + 10, whitePaint);
    canvas.drawText("My Score: " + Integer.toString(myScore), 10, screenH
            - whitePaint.getTextSize() - 10, whitePaint);
}

    } 
```

Logcat 导出。

```
 03-18 07:51:46.795: W/dalvikvm(4395): threadid=3: thread exiting with uncaught exception (group=0x4001b188)
    03-18 07:51:46.795: E/AndroidRuntime(4395): Uncaught handler: thread main exiting due to uncaught exception
    03-18 07:51:46.805: E/AndroidRuntime(4395): java.lang.IndexOutOfBoundsException: Invalid location 0, size is 0
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at java.util.ArrayList.get(ArrayList.java:341)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at com.agpfd.crazyeights.GameView.drawCard(GameView.java:66)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at com.agpfd.crazyeights.GameView.dealCards(GameView.java:81)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at com.agpfd.crazyeights.GameView.onSizeChanged(GameView.java:89)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at android.view.View.setFrame(View.java:6897)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at android.view.View.layout(View.java:6824)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at android.widget.FrameLayout.onLayout(FrameLayout.java:333)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at android.view.View.layout(View.java:6830)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at android.widget.FrameLayout.onLayout(FrameLayout.java:333)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at android.view.View.layout(View.java:6830)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at android.view.ViewRoot.performTraversals(ViewRoot.java:996)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at android.view.ViewRoot.handleMessage(ViewRoot.java:1633)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at android.os.Handler.dispatchMessage(Handler.java:99)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at android.os.Looper.loop(Looper.java:123)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at android.app.ActivityThread.main(ActivityThread.java:4363)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at java.lang.reflect.Method.invokeNative(Native Method)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at java.lang.reflect.Method.invoke(Method.java:521)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
    03-18 07:51:46.805: E/AndroidRuntime(4395):     at dalvik.system.NativeStart.main(Native Method) 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T08:23:40.227

`initCards()`永远不会在任何地方调用，因此卡组列表是空的，因此调用`handToDraw.add(0, deck.get(0))`会`drawCard()`导致您遇到异常，这清楚地表明了问题：您正在尝试访问大小为 0 的列表的索引 0 处的元素：

```
Invalid location 0, size is 0 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T08:25:02.447

你打电话

```
handToDraw.add(0, deck.get(0)); 
```

不检查是否`deck`为空。在下一行你

```
deck.remove(0); 
```

取出一张卡，所以它最终会变空。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T08:24:12.440

这是一个 IndexOutOfBoundsException。您正在尝试获取第零个元素，此时数组列表大小已经为 0，即它为空。检查并调试您的代码。

# iphone - 在表格视图单元格中添加子行

> ID：15472307
> 
> 赞同：0
> 
> 时间：2013-03-18T08:19:25.510
> 
> 标签：iphone, ios, objective-c

我正在做一个项目，在这个项目中我正在制作一个待办事项应用程序，我正在表格视图中制作它，我在每个单元格上为该功能提供一个添加按钮，然后单击该按钮我想在其中添加一个子单元格层次结构到单击的单元格，所有单元格都相同。你能告诉我怎么做吗？我将非常感激。

先感谢您。这是一个代码：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

    static NSString *CellIdentifier = @"Cell";

    cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
     if (cell == nil)
     {

        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
     }

    UIButton *button = [UIButton buttonWithType:UIButtonTypeContactAdd];
    button.tag = indexPath.row;
    button.frame = CGRectMake(280.0, 10, 25, 30.0); // x,y,width,height

[button addTarget:self action:@selector(buttonclicked:) forControlEvents:UIControlEventTouchUpInside];
    [cell addSubview:button];

    UILongPressGestureRecognizer *longPress = [[UILongPressGestureRecognizer alloc] initWithTarget:cell action:nil];
    longPress.delegate = self;
    [cell addGestureRecognizer:longPress];

    int count = 0;
    if(self.editing && indexPath.row != 0)
        count = 1;
    NSLog([NSString stringWithFormat:@"%i,%i",indexPath.row,(indexPath.row-count)]);

    // Set up the cell...
    if(indexPath.row == ([_choices count]) && self.editing)
    {
        cell.textLabel.text = @"ADD";
        return cell;
    }

    NSString *choice = [self.choices objectAtIndex:indexPath.row];

    cell.textLabel.text = choice;

    return cell;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T09:48:11.897

在按钮的操作上添加此代码

```
[yourTableViewObject beginUpdates]; 
```

在 DidSelectRowatIndexPath 中，获取要插入的索引。

```
NSIndexPath *insertPath = [NSIndexPath indexPathForRow:indexPath.row inSection:indexPath.section]; 
```

在 IndexPath 处插入行：-

```
[yourTableViewObject insertRowsAtIndexPaths:[NSArray arrayWithObject:insertPath] withRowAnimation:UITableViewRowAnimationTop];

[yourTableViewObject endUpdates]; 
```

# jquery - 事件捕获或事件冒泡时触发的 Jquery .bind 事件

> ID：15472311
> 
> 赞同：6
> 
> 时间：2013-03-18T08:19:43.913
> 
> 标签：jquery

所有，我知道在 Dom 2 级事件模型中，存在事件捕获和事件气泡。但我就是不知道 jquery 如何处理它们。所以我用这个`.bind`方法做了一些实验。这是我的代码。请查看它。

```
<script>
    $(function() {
        $('*').each(function(){
            var current = this;
            $(this).bind("dblclick",function(event){console.log('Capture for ' + current.tagName + '#'+ current.id +
                    ' target is ' + event.target.id);});

        });
    });
</script>
<body id="greatgrandpa">
    <div id="grandpa">
        <div id="pops">
            <img id="example" src="designer/templates/thumbnails/2ColsTemplate.PNG" />
        </div>
    </div>
</body> 
```

输出如下所示

```
Capture for IMG#example target is example
Capture for DIV#pops target is example
Capture for DIV#grandpa target is example
Capture for BODY#greatgrandpa target is example
Capture for HTML# target is example 
```

当我使用`event.stopPropagation();`事件处理程序时，将停止冒泡`dblclick`事件。

但我有 2 个问题。根据日志写入顺序，我猜测该`bind`方法使事件在事件气泡中（从 dom 的底部到顶部）而不是在事件捕获（从 dom 的顶部到底部）中触发。另一个问题是是否有可能在事件捕获期间触发事件？谢谢。

谢谢。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-18T08:23:14.783

jQuery 只支持事件冒泡阶段，不支持事件捕获阶段，尤其是因为长期以来 IE 不支持捕获。您的代码向您显示的是*冒泡*，而不是*捕获*。

捕获从`document`下到发生事件的元素；然后冒泡在元素上开始并冒泡到`document`另一个，这就是为什么您按照显示的顺序看到事件（这是冒泡阶段）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-25T16:34:32.533

前面的答案是正确的。但是，有一个简单的解决方法。要获得相同的有效结果，您可以停止传播以结束事件冒泡，在目标的父对象上触发事件，然后执行所需的代码，以便它在父对象上的事件之后发生。

对于您的示例，如果您想有效地反转处理程序的执行：

```
 $('*').each(function(){
        var current = this;
        $(this).bind("dblclick",function(event){

               // stop the event propagation
               event.stopPropagation();

               // execute allow the event to be executed on parent objects
               var parent = $(event.target).parent(); 
               if(parent) {  
                   parent.dblclick(); 
               }

               console.log('Capture for ' + current.tagName + '#'+ current.id +
                ' target is ' + event.target.id);});

    }); 
```

这种方法的一个缺点是，如果已使用捕获事件处理程序定义了父元素，则捕获将已经发生，并且在父元素上调用事件将导致捕获处理程序重新执行。因此，仅当您知道或控制在目标的所有父元素上声明的事件时才应使用此方法。

# c# - Html DropDownListFor 问题

> ID：15472317
> 
> 赞同：0
> 
> 时间：2013-03-18T08:20:13.693
> 
> 标签：c#, asp.net-mvc, html.dropdownlistfor

我的 有问题`DropDownListFor`，我想`DropDownlist`在我的视图上显示 1、2、3、4、5 等。

在我的模型课上：

```
public class PageModel 
{
   [DisplayName("Quantity")]
   public int Quantity { get; set; }
} 
```

我创建了一个`Quantity`类

```
 public class Quantity
    {
        public int Selection { get; set; }
    } 
```

一个 HtmlList 类

```
public static class HtmlLists
    {
       public static IEnumerable<Quantity> Selections = new List<Quantity> { 
            new Quantity {
                Selection = 1
            },
            new Quantity {
                Selection = 2
            }
        }; 
```

在我看来：

```
@Html.LabelFor(m => m.Quantity):
        <td>@Html.DropDownListFor(m => m.Quantity, new SelectList(HtmlList.Selections, "Selection")) 
```

它给了我一个错误`HtmlList.Selections`：

> 当前上下文中不存在名称“HtmlList”

**编辑：**

我的错误问题已通过 @using YourNameSpaceofStaticClass 得到修复

但现在我有以下问题：

他没有向我显示下拉列表中的选择 1 和 2，而是向我显示：

> 模型命名空间.数量模型命名空间.数量

我认为这是因为我的列表是空的..

我的 Quantity 类的命名空间：

```
namespace ModelNamespace
{ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:24:10.603

您需要在视图中包含静态类的命名空间。

```
@using RandomProject.Helpers; 
```

还有一个建议，您可以在视图模型中创建一个属性，而不是创建静态类。

```
public class yourViewModel
{
      public IEnumerable<Quantity> Selections {get;set;}
} 
```

# c++ - 如何为 Doxygen 设置输入目录？

> ID：15472320
> 
> 赞同：28
> 
> 时间：2013-03-18T08:20:22.553
> 
> 标签：c++, input, documentation, doxygen

我有一个保存所有源文件和头文件的目录。我想运行 Doxygen 为这些源代码生成文档。但是，我不想更改此目录中的任何内容（特别是我无法添加将保存 Doxygen 文档的子目录）。

我怎样才能达到我所需要的？

我认为我需要执行以下操作： - 我创建并转到“文档”目录。- 在这个目录中，我执行`doxygen -g`创建一个名为“Doxyfile”的模板配置文件。- 然后，我想，我需要修改 Doxyfile 以表明源代码不在当前目录中。

顺便问一下，输出是否会自动（默认）保存在执行 Doxygen 的目录中？

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2013-03-18T08:33:51.980

我已经找到了答案。程序如下：

1.  执行`doxygen -g`。将生成 Doxyfile。
2.  打开 Doxyfile 并找到`INPUT =`
3.  在'INPUT ='之后放置源代码所在目录的名称。
4.  在命令行中执行`doxygen Doxyfile`。
5.  输出将被放入执行 doxygen 的目录中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-11-05T15:23:27.853

除了`INPUT = <src folder>`我还建议在配置文件中更改以下内容：

```
RECURSIVE = YES 
```

如本主题所述：[Doxygen 在指定源目录时找不到文件](https://stackoverflow.com/questions/18249741/doxygen-does-not-find-files-when-specifying-source-directory)

这将在指定输入文件夹的子文件夹中找到源，这对我来说是个问题。

# javascript - 无法使用引导弹出窗口（ajax）加载远程 html

> ID：15472321
> 
> 赞同：0
> 
> 时间：2013-03-18T08:20:26.243
> 
> 标签：javascript, jquery, twitter-bootstrap

我无法使用引导弹出框加载远程 html 数据。下面是我的代码。我从下面试过这个

[使用 AJAX 加载 Bootstrap 弹出内容。这可能吗？](https://stackoverflow.com/questions/8130069/load-bootstrap-js-popover-content-with-ajax)

```
<a href="#" id="oneData" class="divAnchor" rel="popover" 
           load-remote-data="TestGetJson.htm">Bootstrap popover with ajax data</a> 
```

下面的代码在脚本标签内。当我使用 firebug 进行调试时，我得到了来自服务器的响应，但它没有显示在屏幕上。

```
$(document).ready(function() {
    $('#oneData').bind('click',function(){
        var e=$(this);
        //e.unbind('click');
        $.get(e.attr('load-remote-data'),function(data){
            e.popover({content: data, placement:'bottom', html:true}).popover('show');
        });
     });
}); 
```

来自服务器的响应

```
<div class="popover fade bottom in" ><div class="arrow"></div><h3 class="popover-title">pop Over Title</h3><div class="popover-content">Data From Server</div></div> 
```

在我的代码中使用以下导入

```
<script type="text/javascript" src="js/jquery-1.7.js"></script>
<link href="css/bootstrap-popover.min.css" rel="stylesheet" media="screen"/>
<script type="text/javascript" src="js/bootstrap-popover.min.js"></script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-31T06:33:43.597

问题是错误的文件导入。所以将此问题标记为已回答。

# c++ - 套接字编程c ++中的select（）总是给出时间错误

> ID：15472325
> 
> 赞同：1
> 
> 时间：2013-03-18T08:20:45.290
> 
> 标签：c++, sockets, select

我有这个套接字程序，它具有发送和接收的两个部分，但是当我使用 select 时，它总是返回“时间错误”。这是代码

```
void server::run(){
int RetVal;
    struct timeval *tp=new timeval;
    tp->tv_sec=300;
    tp->tv_usec=500000;
    fd_set readfds;
    FD_ZERO(&readfds);
    FD_SET(sock,&readfds);
    FD_SET(sock1,&readfds);
    cout<<"run() is working fine";
    if((RetVal=select(1,&readfds,NULL,NULL,tp))==SOCKET_ERROR)  //check for incoming packets.
                {
                    cout<< "Timer error!";
                    Sleep(50);
    }
    else if(RetVal>0)   //There are incoming packets.
            {
           if(FD_ISSET(sock1, &readfds))    //incoming packet from peer host 1
         {
           send();
          }
            else if(FD_ISSET(sock, &readfds))   //incoming packet from peer host 1
           {
              send1();
          }
         else{
            cout<<"no port is open to communicate";
         }
}
}

server::server(){
WSADATA wsadata;
try{
    if (WSAStartup(0x0202,&wsadata)!=0)
        throw"Starting WSAStartup() error\n";

    //Display name of local host
    if(gethostname(servername,HOSTNAME_LENGTH)!=0) //get the hostname
        throw"Get the host name error,exit";
}
catch(char *str){
    cerr<<str<<":"<<WSAGetLastError()<<endl;
}

    printf("Server: %s waiting to be contacted for time/size request...\n",servername);
}

server::~server(){
    WSACleanup();
}

void server::send(){

try{
        if ((sock= socket(AF_INET, SOCK_STREAM, 0)) == SOCKET_ERROR)
        {
            cout<< "SERVER: socket unable to initialize\n";
        }
        servers.sin_family = AF_INET;
        servers.sin_port = htons(port);
        servers.sin_addr.s_addr = INADDR_ANY;

        if (bind(sock, (sockaddr*)&servers, sizeof(servers)) == SOCKET_ERROR)
        {
            cout<<"SERVER: Cant Bind the Socket";
            closesocket(sock);
        }

       if (listen(sock, MAXPENDING) == SOCKET_ERROR)
        //if((value=listen(sock, MAXPENDING))==SOCKET_ERROR)
       {
            cout<<"SERVER: listening socket not open";
            closesocket(sock);
       }

       if ((clientSock= accept(sock, 0, 0)) == SOCKET_ERROR)
       {
           throw"SERVER: connection not accepted";
       }

       if ((nBytes= send(clientSock, "Hello", 20, 0)) == SOCKET_ERROR)
       {
           throw"SERVER: data sending failed ";
       }
    }
    catch(char *str){
    cerr<<str<<":"<<WSAGetLastError()<<endl;
    }

       closesocket(clientSock);
       closesocket(sock);
       }

void server::send1(){
try{
        if ((sock1= socket(AF_INET, SOCK_STREAM, 0)) == SOCKET_ERROR)
        {
            throw "SERVER: socket unable to initialize\n";
        }
        servers.sin_family = AF_INET;
        servers.sin_port = htons(port);
        servers.sin_addr.s_addr = INADDR_ANY;

        if (bind(sock1, (sockaddr*)&servers, sizeof(servers)) == SOCKET_ERROR)
        {
            throw"SERVER: Cant Bind the Socket";
            closesocket(sock1);
        }

       if (listen(sock1, MAXPENDING) == SOCKET_ERROR)
       {
            throw "SERVER: listening socket not open";
            closesocket(sock1);
       }

       cout << "SERVER: Ready to run now...";

       if ((clientSock= accept(sock1, 0, 0)) == SOCKET_ERROR)
       {
           throw"SERVER: connection not accepted";
       }

       if ((nBytes= send(clientSock, "Hello", 20, 0)) == SOCKET_ERROR)
       {
           throw"SERVER: data sending failed ";
       }

    }
    catch(char *str){
    cerr<<str<<":"<<WSAGetLastError()<<endl;
    }

       closesocket(clientSock);
       closesocket(sock1);

} 
```

我尝试了很多东西，但我的 select() 总是返回同样的东西。如果我直接调用 send 和 recv()，我的程序在没有 run() 和 select() 的情况下工作正常。但我猜 select() 不起作用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-18T08:24:50.023

该`select`函数在*错误*和超时时返回`SOCKET_ERROR`（或实际上`-1`） 。当您收到错误（而不是超时）时，您应该使用来获取实际错误，并在例如[此列表](http://msdn.microsoft.com/en-us/library/windows/desktop/ms740668%28v=vs.85%29.aspx)中查找它。*`0``WSAGetLastError`*

 *您还应该将第一个参数设置为可移植的最高套接字编号 + 1。

* * *

不过，您有一个更大的问题，似乎直到*您*调用`select`. 这意味着`select`调用中使用的套接字将无效，这就是您收到错误的原因。

通常首先创建套接字，将它们绑定到本地地址并将它们标记为侦听套接字。*然后*你`select`在套接字上做，当可读时，它们有可以接受的传入连接。

我认为你需要重新考虑你的设计。

* * *

您还应该考虑接受连接*后*会发生什么。现在你只需接受一个连接，发送一些文本，然后再次关闭它。但是，如果您想继续在已接受的套接字上进行通信，并且可能有多个连接，那么您还有很多工作要做。

您还尝试创建两个绑定到同一个本地地址的套接字，但这是行不通的。请记住，被动侦听套接字实际上可以接受任意数量的传入连接，而不仅仅是一个。

要检查您可以在哪些套接字上接收数据，请使用 eg `select`，其中包含所有已接受的连接以及您的侦听套接字的读取集。*

# php - 在 codeigniter 中一次更新两个表

> ID：15472326
> 
> 赞同：1
> 
> 时间：2013-03-18T08:20:48.263
> 
> 标签：php, mysql, codeigniter

我有 2 个表 es_user 和 es_user_detail，user.id = user_detail.user_id 的关系。

我在 application/config/database.php 文件中定义了前缀“es_”：

```
$db['default']['dbprefix'] = 'es_'; 
```

现在，我编写了一次更新两个表的代码

```
$this->db->set('us.prefix',$this->input->post('prefix',TRUE));
$this->db->set('us.first_name',$this->input->post('first_name',TRUE));            
$this->db->set('us.last_name',$this->input->post('last_name',TRUE));
$this->db->set('us.gender',$this->input->post('gender',TRUE));

$this->db->set('us.email',$this->input->post('email',TRUE));
$this->db->set('ud.home_number',$this->input->post('home_number',TRUE));
$this->db->set('ud.mobile_number',$this->input->post('mobile_number',TRUE));
$this->db->set('ud.address',$this->input->post('address',TRUE));
$this->db->set('ud.address1',$this->input->post('address1',TRUE));

$this->db->set('ud.state',$this->input->post('state',TRUE));
$this->db->set('ud.zip',$this->input->post('zip',TRUE));
$this->db->set('ud.country',$this->input->post('country',TRUE));
$this->db->set('ud.work_job_title',$this->input->post('work_job_title',TRUE));
$this->db->set('ud.work_company',$this->input->post('work_company',TRUE));
$this->db->set('ud.work_address',$this->input->post('work_address',TRUE));
$this->db->set('ud.work_city',$this->input->post('work_city',TRUE));
$this->db->set('ud.work_state',$this->input->post('work_state',TRUE));
$this->db->set('ud.work_country',$this->input->post('work_country',TRUE));
$this->db->set('ud.work_website',$this->input->post('work_website',TRUE));
$this->db->set('ud.email_update_notify',$this->input->post('email_update_notify',TRUE));

$this->db->set('ud.email_event_notify',$this->input->post('email_event_notify',TRUE));
$this->db->set('us.last_modify_date',$this->general->get_local_time('time'));
$this->db->where("user_id", $this->session->userdata(SESSION.'user_id'));
$this->db->where("us.id = ud.user_id");
$this->db->update('user as us, user_detail as ud'); 
```

我未能更新表格。我从这里得到的错误是：

```
Table 'es_ems.user_detail' doesn't exist

UPDATE `es_user` as us, user_detail as ud SET `es_us`.`prefix` = 'mr', `es_us`.`first_name` = 'xyz', `es_us`.`last_name` = 'abc', `es_us`.`gender` = 'm', `es_us`.`email` = 'xyz@gmail.com', `es_ud`.`home_number` = '898939958', `es_ud`.`mobile_number` = '9841844058', `es_ud`.`address` = 'chabahil', `es_ud`.`address1` = 'ason', `es_ud`.`state` = 0, `es_ud`.`zip` = '01234', `es_ud`.`country` = 'country', `es_ud`.`work_job_title` = 'PHP Developer', `es_ud`.`work_company` = 'pqr company', `es_ud`.`work_address` = 'work address', `es_ud`.`work_city` = 'city', `es_ud`.`work_state` = 'state ', `es_ud`.`work_country` = 'country', `es_ud`.`work_website` = 'http://www.pqr.com', `es_ud`.`email_update_notify` = '1', `es_ud`.`email_event_notify` = '1', `es_us`.`last_modify_date` = '2013-03-18 13:46:22' WHERE `user_id` = '6' AND `es_us`.`id` = ud.user_id

Filename: D:\wamp\www\ems\system\database\DB_driver.php 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T12:03:44.743

在没有深入了解 CodeIgniter 的情况下，我认为 Active Record 解析器会感到困惑，因为您提交了一个包含两个表名和表别名的字符串。

你有几个选择：

(1) 如果要使用 Active Record，只需使用两个`$this->db->update()`调用，一个 for`user`和一个 for `user_detail`。您将需要对您的`WHERE`条款进行细微更改。

(2) 手工将 SQL 语句编码为字符串并将其传递给`$this->db->query()`，这可能需要更多的工作。

在我的应用程序中，我倾向于使用方法（1）。

如果数据完整性很重要，`InnoDB`请用作存储引擎并使用 CodeIgniter 的 Transaction 功能，该功能非常易于使用。

# image - Highcharts：在悬停时替换自定义按钮图像

> ID：15472330
> 
> 赞同：1
> 
> 时间：2013-03-18T08:21:07.373
> 
> 标签：image, button, highcharts

我添加了一个新的自定义按钮，并希望在鼠标悬停时更改它的填充。使用符号图像时可以这样做吗？如果不是，我有另一个看起来相同但填充颜色不同的符号，所以它看起来像悬停？有没有办法在 mouseenter/mouseout 时替换图像？

问候查南

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T09:06:51.623

看看例子：http: [//jsfiddle.net/AvpDk/](http://jsfiddle.net/AvpDk/)

```
 normalState = new Object();
    normalState.stroke_width = null;
    normalState.stroke = null;
    normalState.fill = null;
    normalState.padding = null;
    normalState.r = null;

    hoverState = new Object();
    hoverState = normalState;
    hoverState.fill = 'red';

    pressedState = new Object();
    pressedState = normalState;

    var custombutton = chart.renderer.button('button', 74, 10, function(){
        alert('aaa');
    },null,hoverState,pressedState).add(); 
```

# ios - ImageView panGesture 取消 UISCrollVIew 滚动功能

> ID：15472338
> 
> 赞同：2
> 
> 时间：2013-03-18T08:21:39.713
> 
> 标签：ios, uiscrollview, uipangesturerecognizer

我有一个滚动视图，其中有多个图像视图，我在其上应用平移手势来拖动图像视图并添加到另一个视图。问题是当我尝试滚动滚动视图时，首先识别平移手势并调用平移操作而不是滚动视图滚动。这是我的平移代码

```
-(void)move:(UIPanGestureRecognizer *)sender
{

    [[baseView superview]  bringSubviewToFront:baseView]; //sender.view];

    [hatScroll setScrollEnabled:NO];

    // We pass in the gesture to a method that will help us align our touches so that the pan and pinch will seems to originate between the fingers instead of other points or center point of the UIView
    [self adjustAnchorPointForGestureRecognizer:sender];

    if([(UIPanGestureRecognizer*)sender state] == UIGestureRecognizerStateBegan) {

        if ([[[sender view] superview] superview] == itemView || [[[sender view] superview] superview] == itemView_iphone5) // adds the imageview in the item scroll
        {
            int tag = [[sender view] tag] / 100;
            UIScrollView *tempScroll;

            if (window.bounds.size.height != 568)
                tempScroll = (UIScrollView *)[itemView viewWithTag:-tag];
            else
                tempScroll = (UIScrollView *)[itemView_iphone5 viewWithTag:-tag];
            CGRect frame = CGRectFromString([itemFrameDict objectForKey:[NSString stringWithFormat:@"%i",[[sender view] tag]]]);

            CGAffineTransform transform = temp.transform;
            UIImageView *tempImageView =  [[UIImageView alloc] initWithImage: [(UIImageView *) [sender view] image]];
            tempImageView.tag = [[sender view] tag];
            tempImageView.frame = frame;
            [tempImageView setTransform:transform];
            [tempImageView setFrame:frame];
            [tempImageView setUserInteractionEnabled:YES];
            [tempScroll addSubview:tempImageView];

            UIPanGestureRecognizer *panRecognizer = [[UIPanGestureRecognizer alloc] initWithTarget:self action:@selector(move:)];
            panRecognizer.cancelsTouchesInView = NO;
            panRecognizer.delaysTouchesBegan = NO;
            panRecognizer.delaysTouchesEnded = NO;
            [panRecognizer setDelegate:self];
            [tempImageView addGestureRecognizer:panRecognizer];
        }
    }

    if([(UIPanGestureRecognizer*)sender state] == UIGestureRecognizerStateChanged)
    {
        CGPoint translatedPoint = [sender locationInView:[[sender view] superview]] ;
        newTranslatedPoint = [[[sender view] superview] convertPoint:translatedPoint toView:baseView];

        if (window.bounds.size.height != 568)
        {
            if ([sender view].frame.size.width == 35 && [sender view].frame.size.height == 35)
                [[sender view] sizeToFit];
        }
        else
        {
            if ([sender view].frame.size.width == 45 && [sender view].frame.size.height == 45)
                [[sender view] sizeToFit];
        }

        [sender view].center =  CGPointMake(newTranslatedPoint.x, newTranslatedPoint.y);

        [baseView addSubview:[sender view]];
    }

    if([(UIPanGestureRecognizer*)sender state] == UIGestureRecognizerStateEnded)
    {

        [hatScroll setScrollEnabled:YES];

        [self.view insertSubview:baseView atIndex:2];

        CGPoint newPoint;
        if (window.bounds.size.height != 568)
            newPoint = [[[sender view] superview] convertPoint:newTranslatedPoint toView:itemView];
        else
            newPoint = [[[sender view] superview] convertPoint:newTranslatedPoint toView:itemView_iphone5];

        if (newPoint.y < 0)
        {

            UIPinchGestureRecognizer *pinchRecognizer = [[UIPinchGestureRecognizer alloc] initWithTarget:self action:@selector(scale:)];
            [pinchRecognizer setDelegate:self];
            [[sender view] addGestureRecognizer:pinchRecognizer];

            UIRotationGestureRecognizer *rotationRecognizer = [[UIRotationGestureRecognizer alloc] initWithTarget:self action:@selector(rotate:)];
            [rotationRecognizer setDelegate:self];
            [[sender view] addGestureRecognizer:rotationRecognizer];

        }

        else if (newPoint.y > 0)
        {

            int tag = [[sender view] tag] / 100;

            UIScrollView *tempScroll;

            if (window.bounds.size.height != 568)
                tempScroll = (UIScrollView *)[itemView viewWithTag:-tag];
            else
                tempScroll = (UIScrollView *)[itemView_iphone5 viewWithTag:-tag];

            CGRect frame = CGRectFromString([itemFrameDict objectForKey:[NSString stringWithFormat:@"%i",[[sender view] tag]]]);

            CGAffineTransform transform = temp.transform;
            [[sender view] setTransform:transform];
            [[sender view] setFrame:frame];
            [tempScroll addSubview:[sender view]];

        }
    }
} 
```

有任何想法吗？我怎么能得到这个。随时在提到的代码中询问查询。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T08:54:21.117

尝试使用长按手势从滚动视图中拖动该特定项目

# php - 如何根据值获取列名？不可能的？

> ID：15472339
> 
> 赞同：0
> 
> 时间：2013-03-18T08:21:43.893
> 
> 标签：php, mysql

最近我坚持使用此代码...

我想知道与该值匹配的 column_name ...

例如：

我有一个名为 favourite 的表，其中包含 userID 和 5 个最喜欢的列，其中存储了餐厅的 ID，如下所示：

![我的 SQL 表](../Images/77baa77cb011ab5cd0b2bff342b951a1.png)

我将它们打印到一个列表视图中，当我删除它们时，我得到餐厅 ID，然后搜索等于该值的列，然后将该列更新为 NULL。

对不起，如果我的问题让你感到困惑......我自己也很困惑。

那么我应该如何执行 SELECT 语句？或者我应该马上更新？
像

```
SELECT $column from favorite WHERE loginID= 'admin' AND $column = '99'? 
```

或者

```
UPDATE favorite SET $column = 'NULL' WHERE loginID = 'admin'? 
```

$ 列应该是什么？>.<

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:29:08.260

您应该真正阅读有关[数据库规范化](http://en.wikipedia.org/wiki/Database_normalization)的信息并创建适当的数据库模式，例如：

表登录：

```
loginID | name
      1 |  foo
      2 |  bar 
```

表 login_favorite：

```
loginID | favoriteID
      1 |          1
      1 |          2
      2 |          2 
```

表最爱

```
favoriteID | name | ...
         1 |  foo | ...
         2 |  bar | ... 
```

现在加入这些表，享受拥有干净数据库的感觉......

# php - 提交后如何停止选择下拉框重置

> ID：15472340
> 
> 赞同：0
> 
> 时间：2013-03-18T08:21:53.450
> 
> 标签：php, select, submit, reset, html-select

我创建了一个 PHP / HTML 文件，它使我能够从 MySQL 表中编辑发票。它有效，但没有我想要的那么好。

为了选择相关发票进行编辑，我创建了一个保管箱。每行由许多字段组成，这些字段使发票可识别。当我从下拉框中选择相关发票并单击“Submit_Invoice”按钮时，相关发票的字段会出现在许多表格元素中以供编辑。但是，选择下拉框会重置，即恢复到表中的默认（第一张）发票，而不是停留在已选择且正在编辑的发票上。

是否有一种简单的方法可以让保管箱不重置，即在单击“提交_发票”按钮后保持对所选发票的关注？

我花了很多时间搜索，但一直无法找到这个问题的答案。如果有帮助，我可以提交代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:30:13.943

请参阅下文以供参考

```
<select name="select">
<option value="1" <?php if(!empty($_REQUEST['select'] && $_REQUEST['select'] == 1) echo 'selected'; ?>>1</option>
<option value="2" <?php if(!empty($_REQUEST['select'] && $_REQUEST['select'] == 2) echo 'selected'; ?>>2</option>
<option value="3" <?php if(!empty($_REQUEST['select'] && $_REQUEST['select'] == 3) echo 'selected'; ?>>3</option>
</select> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T08:31:38.260

一些代码会很棒。

让我们假设您的 Submit_Invoice-button 没有与一些疯狂的 java-script-magic 挂钩。

在生成所有下拉选项的循环中，您需要识别“活动”的选项并将其设置为

```
selected="selected" 
```

像这样：

```
//loop start
echo '<option value="'.$row['id'].'"';
if ($_POST['id'] == $row['id']) echo 'selected="selected"';
echo '>'.$row['id'].'</option>';
//loop end 
```

# mongodb - 使用自定义时间生成 Mongo ObjectId (_id)？

> ID：15472344
> 
> 赞同：3
> 
> 时间：2013-03-18T08:22:08.397
> 
> 标签：mongodb, objectid

我正在将一个文章表从 MySQL 移植到 Mongo DB。我知道 Mongo 生成的 _id 字段以某种方式在其中具有创建时间，并且可以提取或者您可以对其进行查询。因此，我想用它来从 MySQL 获取我的 created_time INT 时间戳。在移动我的数据以生成 Mongo 的 _id 时，有没有办法在单独的字段中具有我当前用于记录的时间戳？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T08:33:25.453

是的，这是可能的。例如，在 C# 驱动程序中，有一个构造函数`ObjectId`可以传入时间戳，请参阅[此源文件](https://github.com/mongodb/mongo-csharp-driver/blob/master/MongoDB.Bson/ObjectModel/ObjectId.cs)。使用辅助方法最简单`GenerateNewId`：

```
var id = ObjectId.GenerateNewId(new DateTime(2012, 01, 01)); 
```

我不知道您使用的是哪种编程语言以及该语言的驱动程序是否支持此功能，但我想这是广泛可用的。

编辑：[这个问题](https://stackoverflow.com/questions/14370143/create-mongodb-objectid-from-date-in-the-past-using-php-driver)包含 Java、mongoose 和 python 的代码，答案包含 PHP 的代码。“广泛可用”似乎是一个错误的假设，例如，它还没有在 PHP 驱动程序中实现。

# google-api - 我如何从 google api java 客户端下载此源代码

> ID：15472345
> 
> 赞同：-3
> 
> 时间：2013-03-18T08:22:16.623
> 
> 标签：google-api

我想要这个[示例项目](https://code.google.com/p/google-api-java-client/source/browse/?repo=samples#hg%2Fcalendar-android-sample)，但我找不到如何下载它，知道怎么可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:28:46.350

安装 Mercurial。[然后按照结帐页面](https://code.google.com/p/google-api-java-client/source/checkout?repo=samples)中的指定运行此命令-

```
hg clone https://code.google.com/p/google-api-java-client.samples/ 
```

# android - PieChart achartengine 中的水平图例

> ID：15472347
> 
> 赞同：3
> 
> 时间：2013-03-18T08:22:22.380
> 
> 标签：android, achartengine

我已经使用 achartengine 实现了一个饼图。饼图的图例显示在图表底部的一行中，如下所示：

oA oB oC oD

但我希望图例以多行显示，每行一个标签，如下所示：

一个

o B

o C

Ø D

任何帮助都是不言而喻的。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:33:36.607

不幸的是，无法在 Achartengine API 中移动图例。但是，为了将其移动到另一个位置，可以使用透明 frameLayout。请参阅以下帖子进行讨论。希望他们会有所帮助。

[如何在achartengine android中的饼图右侧显示图例](https://stackoverflow.com/questions/7553067/how-to-display-legend-on-right-side-of-piechart-in-achartengine-android?rq=1)

[当我在android中使用图表引擎时，如何在饼图中为图例和标签设置不同的值](https://stackoverflow.com/questions/13657432/how-to-set-different-values-for-legend-and-labels-in-piechart-while-i-am-using-c)

[achartengine 图例问题](https://stackoverflow.com/questions/6949746/achartengine-legend-issue)

# php - 使用其他表php的列表从一个表中获取数据

> ID：15472348
> 
> 赞同：1
> 
> 时间：2013-03-18T08:22:24.500
> 
> 标签：php, pdo

我有以下表格

我的列表表

```
playerId listId type
 50       10     0
 51       10     0 
```

球员

```
id  x  xx etc
50  x  xx etc
51  x  xx etc 
```

我想在我提供 listId 和 type 的地方运行一个查询，它将获取与该 listId 和 type 相关的所有玩家的列表

```
try {
    $conn = $this->GetDBConnection();
    $type = 0; // 0 REQUEST BY PLAYERS
    $statement = $conn->prepare('SELECT p.* FROM myListTable c, players p WHERE (c.listId = :listId ) AND (c.type = :type) AND ( p.id = c.playerId) ');
    $statement->bindParam(':listId', $listId, PDO::PARAM_INT);
    $statement->bindParam(':type', $type, PDO::PARAM_INT);
    $statement->execute();
    if(!($row = $statement->fetchAll(PDO::FETCH_ASSOC))) {
        return false;
    }
    $conn = null;
} catch(PDOException $e) {
    throw $e;
} 
```

这只是让我误会。我该怎么做才能修复此查询？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-18T08:30:09.807

其中一个错误是您的准备查询中的拼写错误：

```
$statement = $conn->prepare('SELECT p.* 
    FROM myListTable c, players p 
    WHERE (c.listId = :c.listId ) 
        AND (c.type = :type) 
        AND ( p.id = c.playerId) '); 
```

应该`:c.listId`只是。`:listId`

第二个是，`type`是MySQL中的保留字。您需要反引号才能在查询中对其进行转义。

另一个是，因为您只是从`players`表中选择值；a`JOIN`是首选。

查询应该是：

```
SELECT p.*
FROM players p
JOIN myListTable c
    ON (p.id = c.playerId)
WHERE (c.listId = :c.listId)
    AND (c.`type` = :type) 
```

# javascript - Highcharts - 包括 javascript 功能的 Highroller

> ID：15472352
> 
> 赞同：0
> 
> 时间：2013-03-18T08:22:36.513
> 
> 标签：javascript, jquery, highcharts

我将 highcharts 与 high roll 结合使用来渲染图表。

要在豪客赛中为图表定义属性，通常非常简单：

```
$this->chart->xAxis->labels->rotation= 55;
$this->chart->xAxis->labels->align= 'left'; 
```

变成这样：

```
"labels":{"rotation":55,"align":"left"} 
```

问题是我想包含一个 js 函数，如下所示：

```
events: {
    load: Highcharts.drawTable
}, 
```

问题是，如果我包含一个函数，就像我对任何其他属性所做的那样，highroller 会将它用引号括起来。我认为它这样做是因为它在技术上是一个字符串。对于整数，似乎 highcharts 删除了引号。

所以简而言之：如何在事件中添加一个函数->使用 highroller 加载。

我想用它来呈现带有图表的数据表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T09:20:05.830

代码进入引号是因为 json 编码函数在 eeeeeverything 周围加上引号。

由于 highroller 不再处于开发阶段，因此我冒昧地将自定义部分添加到 highroller 中，并在给出参数时删除引号。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:29:52.383

虽然与加载函数不太一样，但 Highroller 有一个如何添加工具提示格式化程序函数的示例。同样的方法应该适用于加载函数。基本方法是在 javascript 中而不是在 php 中添加函数。[https://github.com/jmaclabs/HighRoller/blob/master/README.md](https://github.com/jmaclabs/HighRoller/blob/master/README.md)

```
var myChartOptions = <?php echo $linechart->getChartOptionsObject()?>

  // define your own formatter for tooltip
  myChartOptions.tooltip.formatter = function() {
  return '<b>' + this.series.name + '</b><br/>' +
      Highcharts.dateFormat('%b %e', this.x) + ': ' + Highcharts.numberFormat(this.y, 0, ',') + ' views';
  }; 
```

# java - 在字符串中查找最长的升序数字序列

> ID：15472361
> 
> 赞同：1
> 
> 时间：2013-03-18T08:23:10.287
> 
> 标签：java

该程序应该给出最长的升序。

因此，例如，如果我输入“12134707”，它应该给出 output = 1347 但是它给出 12 ......这绝对不是最长的。我错过了什么或做错了什么？

```
import java.util.Scanner;        
public class Ascending
{

public static void main(String args[]){

    System.out.print("Enter a number = ");

    Scanner in = new Scanner(System.in);
    String n = in.nextLine();

    //print soluton
    System.out.println("output = " + itsAscending(n));
}

public static String itsAscending(String n) {
    int length = n.length(); 

    String maxlongest = "";

    for(int i = 1; i < length; i++) {

        char first = n.charAt(i-1); 
        char second = n.charAt(i);      
        char next = n.charAt(i+1);
        int f = (int)(first - 48);      
        int s = (int)(second - 48);     
        int nx = (int)(next - 48);

        String longest = "";

        int max = 0;

        //test to find the ascending order
        if (f<s){

            longest = longest + f;

            if(n.length()>2){

                if(f<s){
                    longest = longest + s;
                    length = longest.length();
                    i++;
                }
                else{
                    i++; 
                    continue;
                }
            }

            //test to find the longest string
            for (i=1; i<length; i++){
                if (length > max){
                    max = length;
                    maxlongest = longest;
                    return maxlongest;
                }
                else {
                    return maxlongest;
                }
            }
        }
    }
    return maxlongest;
 }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:57:36.680

尝试这个 ：

```
import java.util.Scanner;

public class Ascending {

/**
 * @param args
 */
public static void main(String[] args) {
    // TODO Auto-generated method stub
    Scanner scanner = new Scanner ( System.in) ;
    String s = scanner.nextLine();
    String res = getAsc(s);
    System.out.println(res);

}

private static String getAsc (String n) {
    String tmp="" , org="" ;
    char cf,cs;
    int f,s ;
    for (int i=1;i < n.length(); i++) {
        cf = n.charAt(i-1);
        cs = n.charAt(i);
        f = (int) (cf - 48);
        s = (int) (cs - 48 ) ;
        if (f  < s ) {
            tmp += cf ;
        }
        else {
            tmp += cf;
            if (tmp.length() > org.length()) {
                org = tmp ;
            }
            tmp = "";
        }
    }

    return org;
} 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:47:58.037

嘿，你在很多地方都搞乱了代码和逻辑。您正在与 for 循环中的长度变量进行比较并对其进行修改。您的第二个 for 循环也在第一个循环内。我认为这是一个错误。重新开始重新审视你的逻辑和变量。你的长度变量和 i 变量在多个地方使用，而不是应该使用相同的腼腆。

PS：我知道这是一个硬件任务：D

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T08:48:52.703

我建议您通过将功能拆分为不同的功能来简化代码：

解析字符串：

```
public static int[] parseString(String str) {
    int[] result = new int[str.length];
    for (int i = 0; i < str.length; i++) {
        result[i] = (int)(str.charAt(i) - 48);
    }
    return result;
} 
```

解决这个问题：

```
public static String solve(String str) {
    int[] a = parseString(str);
    int length = 1;
    int maxStart = 0;
    int start = 0;
    for (int i = 1; i < a.length; a++) {
        if (a[i] <= a[i-1]) {
            if (length < (start - i)) {
                length = start - i;
                maxStart = start;
            }
            start = i;
        }
    }
    return str.substring(maxStart, maxStart+length);
} 
```

这仅适用于非空字符串，但我假设您可以自己修复...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-18T09:04:16.170

我建议使用列表来更轻松地跟踪最大和临时字符串。

```
public static String itsAscending(String n) {
    List<Integer> maxLongest = new ArrayList<Integer>();
    List<Integer> tempLongest = new ArrayList<Integer>();

    for(int i = 0; i < n.length(); i++) {
        int digit = (int)(n.charAt(i) - 48);             
        if (tempLongest.size() > 0 && digit < tempLongest.get(tempLongest.size() - 1)) {
            tempLongest.clear();
        }
        tempLongest.add(digit);
        if (tempLongest.size() > maxLongest.size()) {
            maxLongest.clear();
            maxLongest.addAll(tempLongest);
        }
    }
    String returnString = "";
    for (int digit : maxLongest){ 
        returnString += digit;
    }
    return returnString;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-18T08:56:07.453

在第二个循环中：

```
 //test to find the longest string
    for (i=1; i<length; i++){
        if (length > max){
            max = length;
            maxlongest = longest;
            return maxlongest;
        }
        else {
            return maxlongest;
        }
    }` 
```

要么`if`会执行，要么`else`会执行，但在这两种情况下都会执行`return`。所以你的第二个`for`循环不会执行超过一次，也会导致终止第一个循环。
您可以删除第二个循环并在其中返回语句。
并且没有理由`if(f<s)`再次检查。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-18T09:07:35.037

一些注意事项：

*   您不需要将字符转换为整数：字符是可比较的；
*   您不需要将整数表达式转换为`int`;
*   您的“寻找最长字符串的测试”循环似乎毫无意义：您在第一次迭代中无条件返回；
*   在第一个循环的底部，您`i`无条件地递增；这应该发生在`if`语句之外；
*   你有`next`你不在任何地方使用的变量；
*   您的`length`变量是多余的：它只是`longest`字符串的长度。

由于所有这些问题，从头开始比尝试在代码中找到一个可以更改以使其工作的点要容易得多。所以这就是我得到的：

```
public static void main(String[] args) {
    System.out.print("Enter a number = ");
    String in = new Scanner(System.in).nextLine();
    System.out.println("output = " + longestAscending(in));
}

static String longestAscending(String in) {
    int startOfLongest = 0;
    int endOfLongest = 0;
    for (int start = 0; start < in.length();) {
        int end = start;
        for (int prevChar = -1;
             end < in.length() && in.charAt(end) > prevChar;
             prevChar = in.charAt(end), end++)
        { }
        if (end - start > endOfLongest - startOfLongest) {
            startOfLongest = start;
            endOfLongest = end;
        }
        start = end;
    }
    return in.substring(startOfLongest, endOfLongest);
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-09-13T13:25:15.023

有点类似的问题和我的解决方案。这个解决方案也可以适应解决 OP 解决方案

字母数字字符串编码问题中最长的升序数字序列：

想象一下，您正在工作，并且被赋予了编写一个将在我们的一个产品中使用的函数的任务。

第 1 部分）在您选择的编程语言中（您应该在答案中命名），编写一个函数，该函数将文本字符串作为其单个输入并返回一个整数，该整数是在细绳。任何非数字字符都会终止数字序列，否则应被忽略。

第 2 部分）您想用哪些测试用例来测试您的功能以证明它可以正常工作？为什么？给出测试输入字符串和预期输出的具体例子。

例如：

如果输入字符串为“5123a4”，则输出整数应为 3，因为序列“123”是最长的升序数字序列，长度为 3。

如果输入字符串是“bb54324687cc”，则输出整数应该是 4，因为序列“2468”是最长的升序数字序列，长度为 4。

包 com.company；

```
 import java.util.Hashtable;
    import java.util.Iterator;
    import java.util.Map;
    import java.util.Scanner; 
```

公共类主要{

```
public static void main(String[] args) {
    // write your code here
    System.out.print("Enter a number = ");

    Scanner in = new Scanner(System.in);
    String n = in.nextLine();
    System.out.println("n = "+n);
    longestAscending(n);

    //n = "bb54324687cc";

}
public static Hashtable<String,Integer>longestAscending(String n) {
    Hashtable<String,Integer> h= new Hashtable<String, Integer>() ;
    String tempMax ="";
    int lenghtString=0;
    System.out.println("n.length()-1="+(n.length()-1));
    // int digit = 0;
    for (int i=0; i<=n.length()-2;i++)
    {
        int homePositionDigit = (int)(n.charAt(i) - 48);
        int neighbourPositionDigit = (int)(n.charAt(i+1) - 48);

        System.out.print(" i = "+i +"  homePositionDigit ="+(n.charAt(i)-48));
        System.out.println("  neighbourPositionDigit ="+(n.charAt(i+1)-48));

        if ((homePositionDigit <=9 )&& (neighbourPositionDigit<=9))
        {
            if (n.charAt(i)<n.charAt(i+1))
            {
                tempMax=tempMax+n.charAt(i);
                lenghtString=tempMax.length();
                h.put(tempMax,lenghtString);
                System.out.println("hash table h="+h);

            }

        }
        else
        if ((homePositionDigit>9)&&(tempMax!="")&&((n.charAt(i-1)-48)<=9))
        {
            tempMax=tempMax+n.charAt(i-1);
            lenghtString=tempMax.length();
            h.put(tempMax,lenghtString);
            tempMax="";
            lenghtString=0;

        }
    }

    System.out.println("hash table h="+h);
    Iterator<Map.Entry<String,Integer>> it = h.entrySet().iterator();
    int kontor=0,max=0 ;
    while (it.hasNext()) {
        Map.Entry<String,Integer> entry = it.next();
        if (kontor==0)
            max=entry.getValue();
        System.out.println("max este = "+max+" entry.getValue()= "+entry.getValue());

        if (entry.getValue() > max   ) {
            max=entry.getValue();
        }
        kontor++;
    }
    System.out.println("max este "+max);
    System.out.println("hash table este "+h);

    it=h.entrySet().iterator();
    while (it.hasNext()) {
        Map.Entry<String,Integer> entry = it.next();
        if (max==entry.getValue()) {
            System.out.println("the longest sequence of ascending digits in a  String is   = " + entry.getKey()+" and has the lenght of= "+max );
        }
    }
    return h;

} 
```

}

# c# - C# Windows 窗体应用程序无法从基于 Linux 的服务器正确读取文件

> ID：15472363
> 
> 赞同：0
> 
> 时间：2013-03-18T08:23:16.650
> 
> 标签：c#, linux, winforms

我制作了一个 Windows 窗体应用程序，它可以做一些事情。当我想从基于 linux 的远程服务器加载文件时，一切正常。

当加载并仅在文本框中列出文件时，我会得到不同的结果，具体取决于我是从本地存储加载文件还是从基于 linux 的服务器加载文件。当在本地完成时，应用程序会按正确的字母顺序列出文件，但从服务器读取时则不会。然后它只是随机列出文件。（当然不是随机的，但你得到它，不是通过文件大小或文件名或任何可区分的）

为什么是这样？如果有的话，我能做些什么呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:26:09.790

显示前对文件进行排序；

```
var files = from file in Directory.GetFiles(folder)    
               orderby file descending 
               select file; 
```

或者

```
 var files = Directory.EnumerateFiles(folder)
                     .OrderByDescending(filename => filename); 
```

网络 4.0 或更高版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:46:09.577

就我而言，因为我将文件路径存储在一个数组中，然后显示该数组的内容，所以对字符串数组进行排序就足够了。

```
Array.Sort(filePathArray); 
```

# algorithm - 英文短语的哈希算法

> ID：15472366
> 
> 赞同：1
> 
> 时间：2013-03-18T08:23:38.120
> 
> 标签：algorithm, hash

我现在正在开发一个英语单词应用程序，我希望每个单词都有不同的 int id，因为所有单词都彼此不同，我认为它们可以很容易地分配一个整数（或 long？）。

我不想按照字母顺序连续给他们 ID。我认为可能有一个现有的算法可以满足这个要求，我不想发明自己的轮子，所以，请帮助我。

我更喜欢整数 id，因为我希望结构紧凑且足够小以通过 Internet 传输，因为一个单词列表可能包含成百上千的单词。

想象一下我的数据结构如下：

```
struct word {
  int wordId;
  byte familiarity;
}
// I prefer the mapping like this
apple -> 0x1,  0x4
app   -> 0x2E, 0x2
ape   -> 0xEA, 0x1 
```

更新：

好的，我要做的是为用户提供几个单词表，每个单词表都包含几个单词，用户可能已经学习了一些单词（例如苹果），所以他/她想跳过那些话，并希望他们永远不会再出现。所以，我想让用户跳过这些单词，并且选择的单词将被发送到服务器或保存在本地文件中，可能不需要发送整个单词或短语。我在这里发现了一个问题：http://stackoverflow.com/questions/7700400/whats-a-good-hash-function-for-english-words，你有更好的解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T07:38:46.250

是的，似乎不可能找到一个完美的无冲突哈希算法，我最终可能会维护一个映射文件。[我也在这里](https://stackoverflow.com/questions/251346/best-hashing-algorithm-in-terms-of-hash-collisions-and-performance)

找到了一个很好的问题和答案 。

其实我不介意这个算法的性能，因为它都是在服务器上完成的，而且只有在启动时完成一次。我想要的只是每个单词/短语的 id 都是唯一的，尽可能短，就像指纹一样。我想知道我是否可以利用素数。

最后，我决定使用 long 作为我的 id

（8 位）第一个单词的首字母
（8 位）最后一个单词的最后一个字母
（4 位）字数
(4 位) 短语中最长单词的序列号
(8 位) 字符数，包括空格
(32 位) MurmurHash3 结果

您可以在此处找到 murmurHash3 cs 实现：
[https](https://gist.github.com/automatonic/3725443)
://gist.github.com/automatonic/3725443 我认为这种方法将为任何现有的单词和短语生成唯一的 ID，而不会发生冲突。

# excel - 如何将excel单元格中的每个单词大写？

> ID：15472373
> 
> 赞同：2
> 
> 时间：2013-03-18T08:23:53.453
> 
> 标签：excel, excel-formula, vba

我有大约 15k 行，每行有 3 列类似于以下结构。

> ID 标题 描述
> 0 短标题 关于该列的一些详细描述

我想将列中的每个单词都大写，`Title`这样它就会显示为：
`A Short Title`

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T08:26:09.367

```
=PROPER(B2) 
```

该公式可以将字符串中每个单词的第一个字符大写。

编辑：如果您想手动执行此操作，请将公式复制到列中以执行此操作。
您可以转到包含公式的单元格。在右下角，当您将鼠标悬停在单元格上时，您会看到一个 + 号 - 当您看到它时双击右下角。

这会将公式复制到当前行下面的行，直到它发现它前面的列中有数据。

EDIT2：使用代码

```
Option Explicit
Sub ChangeAllCellsInThisColumnToProperCase(ByVal StartCell As Range)
Dim LastCell As Range
Set LastCell = StartCell.End(xlDown)

Dim data
Dim RangeToCover As Range

Set RangeToCover = Range(StartCell.Address & ":" & LastCell.Address)
data = RangeToCover.Value

Dim CountOfCells As Long
CountOfCells = RangeToCover.Cells.Count

Dim Counter, element
For Counter = 1 To CountOfCells
    element = data(Counter, 1)
    element = WorksheetFunction.Proper(element)
    data(Counter, 1) = element
Next

Range(StartCell.Address & ":" & LastCell.Address).Value = data
End Sub 
```

EDIT3：手动进行（在@mehow 的评论之后） - 在另一个空列（比如 F 列）中输入公式，在 B2 上执行正确的案例。
- 复制公式，选择要应用此公式的其余单元格。
- 选择性粘贴 -> 公式
- 复制 F 的列内容
- 转到 B 列的第一个单元格，执行选择性粘贴 -> 值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T11:33:33.383

要在单个列上快速运行，您可以使用变体数组

对于 B 列：

```
Sub QuickUpdate()
Dim X()
Dim lngRow As Long
X = Range([b1], Cells(Rows.Count, "B").End(xlUp)).Value2
For lngRow = 1 To UBound(X, 1)
    X(lngRow, 1) = Application.Proper(X(lngRow, 1))
Next lngRow
[B1].Resize(UBound(X, 1), UBound(X, 2)).Value2 = X
End Sub 
```

# ruby - 使用 ruby 使用 selenium webdriver 获取未定义的方法“setTimeout”

> ID：15472379
> 
> 赞同：0
> 
> 时间：2013-03-18T08:24:23.380
> 
> 标签：ruby, selenium-webdriver

得到如下错误：

```
C:\Ruby\Scripts>W9_File_delete_v1.rb
C:/Ruby193/lib/ruby/gems/1.9.1/gems/selenium-webdriver-2.30.0/lib/selenium/webdr
iver/common/timeouts.rb:33:in `page_load=': undefined method `setTimeout' for #<
Selenium::WebDriver::Driver:0xa3263e4 browser=:firefox> (NoMethodError)
        from C:/Documents and Settings/rakshiar/My Documents/userdata/Ruby/Scrip
ts/W9_File_delete_v1.rb:19:in `<main>' 
```

使用以下代码：

```
#--------------------------------------------------------------
#Creating here Firefox Browser agent to get into the
#file deletion process
#--------------------------------------------------------------
driver = Selenium::WebDriver.for :firefox
driver.get "https://demo.com/"

#driver.manage.timeouts.implicit_wait = 200 # seconds
pgload = Selenium::WebDriver::Timeouts.new(driver)
pgload.page_load=(300) 
```

我可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T16:03:15.767

您不需要`Selenium::WebDriver::Timeouts`直接创建对象。相反，请使用`driver`对象中的适当方法。

```
driver.manage.timeouts.page_load = 300 
```

# ruby-on-rails - Rails 应用集群需要注意哪些事项？

> ID：15472380
> 
> 赞同：0
> 
> 时间：2013-03-18T08:24:24.093
> 
> 标签：ruby-on-rails, cluster-computing

如果我打算创建一个 Rails 应用集群，我认为 session 共享有问题，我可以将 session 保存到 memcache 或数据库中。我想知道还有什么需要注意的吗？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-20T18:03:11.317

这个问题太模糊了，但是你应该看看负载平衡（haproxy 很好），内存数据存储，如 memcached，数据库将是 mysql。Web 层水平扩展，因此可以根据需要轻松提高处理能力。请澄清您的问题以获得更多答案。

# php - PHP OOP：如何获取数据库值并返回所有值

> ID：15472382
> 
> 赞同：0
> 
> 时间：2013-03-18T08:24:34.203
> 
> 标签：php, database, function, return, echo

我试图从数据库中获取所有结果并将它们返回到屏幕，问题是一旦我“回显”值它们都显示出来，但是当我使用“返回”时只有 1 显示。

我不能使用 echo，因为我的应用程序是建立在将 html 放入函数的方式上的，因此我可以填充对象，然后填充页面的内容。

这是我的代码。

```
public function read() {
    $query = "SELECT id, title, description, datetime FROM seminar";
    $result = $this->getDb()->query($query);

    while(($row = $result->fetchObject()) !== false) {
        foreach($row as $value) {
        return $row->title;
        //$this->setDescription($row->description);
        //$this->setDatetime($row->datetime);
        }
    } 
} 
```

现在我想知道如何在屏幕上获取所有值，而不仅仅是现在显示的值。

```
public function setSeminar($sem_obj) {
    $this->sem_obj = $sem_obj;
}

public function render() {
    $this->content = '
        On this page you can see all items.
    ';
    $this->content .= $this->sem_obj->getTitle();
    $this->content .= $this->sem_obj->getDescription();
    $this->content .= $this->sem_obj->getDatetime();
    //$this->content .= $this->text1->showSeminairs();
    return $this->content;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:29:34.313

使用数组..推送数据库对象并返回

```
$tempArray=array();
while(($row = $result->fetchObject()) !== false) {

      $tempArray['title']=$row->title;
     $tempArray['description']=$row->description;
      return $tempArray;

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:32:21.460

```
public function read() {
    $query = "SELECT id, title, description, datetime FROM seminar";
    $result = $this->getDb()->query($query);
    return $result;
} 
```

在调用者函数中，放置while循环并处理值。

# android - 如何在 Android 的后台线程上运行代码？

> ID：15472383
> 
> 赞同：154
> 
> 时间：2013-03-18T08:24:43.813
> 
> 标签：android, multithreading

我希望一些代码在后台连续运行。我不想在服务中这样做。有没有其他可能的方法？

我试过`Thread`在我的班级里打电话，`Activity`但我`Activity`在后台停留了一段时间，然后它就停止了。`Thread`班级也停止工作。

```
class testThread implements Runnable {
        @Override
        public void run() {
            File file = new File( Environment.getExternalStorageDirectory(), "/BPCLTracker/gpsdata.txt" );
            int i = 0;

            RandomAccessFile in = null;

            try {
                in = new RandomAccessFile( file, "rw" );
            } catch (FileNotFoundException e) {
// TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IOException e) {
// TODO Auto-generated catch block
                e.printStackTrace();
            }
//String line =null;
            while ( true ) {
                HttpEntity entity = null;
                try {
                    if ( isInternetOn() ) {
                        while ( ( line = in.readLine() ) != null ) {

                            HttpClient client = new DefaultHttpClient();
                            String url = "some url";
                            HttpPost request = new HttpPost( url );
                            StringEntity se = new StringEntity( line );
                            se.setContentEncoding( "UTF-8" );
                            se.setContentEncoding( new BasicHeader( HTTP.CONTENT_TYPE, "application/json" ) );
                            entity = se;
                            request.setEntity( entity );
                            HttpResponse response = client.execute( request );
                            entity = response.getEntity();
                            i++;
                        }
                        if ( ( line = in.readLine() ) == null && entity != null ) {
                            file.delete();
                            testThread t = new testThread();
                            Thread t1 = new Thread( t );
                            t1.start();
                        }

                    } else {
                        Thread.sleep( 60000 );
                    } // end of else

                } catch (NullPointerException e1) {
                    e1.printStackTrace();
                } catch (InterruptedException e2) {
                    e2.printStackTrace();
                } catch (IOException e1) {
// TODO Auto-generated catch block
                    e1.printStackTrace();
                }
            }// end of while
        }// end of run

    } 
```

* * *

## 回答 #1

> 赞同：415
> 
> 时间：2015-07-21T21:03:02.907

如果你需要：

1.  在后台线程上执行代码

2.  执行不接触/更新 UI 的代码

3.  执行（短）代码，最多需要几秒钟才能完成

然后使用以下使用 AsyncTask 的简洁高效的模式：

```
AsyncTask.execute(new Runnable() {
   @Override
   public void run() {
      //TODO your background code
   }
}); 
```

* * *

## 回答 #2

> 赞同：48
> 
> 时间：2013-03-18T08:41:20.647

记住运行背景，连续运行是两个不同的任务。

对于长期后台进程，线程不是 Android 的最佳选择。但是，这是代码，请自行承担风险。

要以正确的方式处理它，您需要首先启动服务，在服务内部，您需要启动需要可运行的线程/异步任务。

请记住，Service 和 Thread 将在后台运行，但我们的任务需要触发（一次又一次调用）以获取更新，即一旦任务完成，我们需要调用函数以进行下一次更新。

**Timer（周期性触发），Alarm（时基触发），Broadcast（事件基触发），递归会唤醒我们的函数。**

```
public static boolean isRecursionEnable = true;

void runInBackground() {
    if (!isRecursionEnable)
        // Handle not to start multiple parallel threads
        return;

    // isRecursionEnable = false; when u want to stop
    // on exception on thread make it true again  
    new Thread(new Runnable() {
        @Override
        public void run() {
            // DO your work here
            // get the data
            if (activity_is_not_in_background) {
                runOnUiThread(new Runnable() {
                    @Override
                    public void run() {
                        // update UI
                        runInBackground();
                    }
                });
            } else {
                runInBackground();
            }
        }
    }).start();
} 
```

**使用服务：** 如果你启动一个服务，它会启动，它会执行任务，如果服务不是 STICKY，它会在任务执行后自行终止。此服务终止也可能是由代码中的异常或用户从设置中手动终止的。

START_STICKY（粘性服务）是 Android 提供的选项，如果服务终止，服务将自行重启。

还记得**多处理和多线程之间的问题区别吗？** Service 是一个后台进程（就像没有 UI 的活动一样），与您在活动中启动线程以避免负载在 MainThread（活动/UI 线程）上的方式相同，您需要在服务上启动线程以避免负载的方式相同服务。

**在单个语句中，如果要运行后台继续任务，则需要启动 StickyService 并在事件库的服务中运行线程**

* * *

## 回答 #3

> 赞同：36
> 
> 时间：2019-11-04T22:05:09.633

### 简单的 3 线

我发现了一种简单的方法，这是[@awardak](https://stackoverflow.com/users/3312163/awardak)在[Brandon Rude 的回答](https://stackoverflow.com/a/31549559/293280)中的评论：

```
new Thread( new Runnable() { @Override public void run() { 
  // Run whatever background code you want here.
} } ).start(); 
```

我不确定这是否或如何比使用更好，`AsyncTask.execute`但它似乎对我们有用。任何关于差异的评论将不胜感激。

谢谢，[@awardak](https://stackoverflow.com/users/3312163/awardak)！

* * *

## 回答 #4

> 赞同：24
> 
> 时间：2013-03-18T08:37:44.123

> 我希望一些代码在后台连续运行。我不想在服务中这样做。有没有其他可能的方法？

您正在寻找的最有可能的机制是[`AsyncTask`](http://developer.android.com/reference/android/os/AsyncTask.html). 它直接指定在后台线程上执行后台进程。此外，它的主要好处是提供了一些在 Main(UI) 线程上运行的方法，如果您想向用户通知任务的某些进展或使用从后台进程检索的数据更新 UI，则可以更新您的 UI。

如果您不知道如何从这里开始，这里有很好的教程：

*   [了解 AsyncTask – 一劳永逸](http://androidresearch.wordpress.com/2012/03/17/understanding-asynctask-once-and-forever/)

**注意：**也有可能[`IntentService`](http://developer.android.com/reference/android/app/IntentService.html)与[`ResultReceiver`](http://developer.android.com/reference/android/os/ResultReceiver.html)它一起使用。

* * *

## 回答 #5

> 赞同：12
> 
> 时间：2020-11-24T12:23:50.507

今天我正在寻找这个，布兰登鲁德先生给出了一个[很好的答案](https://stackoverflow.com/a/31549559/9053942)。不幸的是，`AsyncTask`现在[已弃用](https://developer.android.com/reference/android/os/AsyncTask). 你仍然可以使用它，但它会给你一个警告，这很烦人。所以另一种方法是`Executors`像这样使用（in `kotlin`）：

```
 Executors.newSingleThreadExecutor().execute(Runnable {
            // todo: do your background tasks
            runOnUiThread{
                // update ui if you are in an activity
            }
            /*
            requireActivity().runOnUiThread {
               // update views / ui if you are in a fragment
            }
            */
        }) 
```

`java`它看起来像这样：

```
 Executors.newSingleThreadExecutor().execute(() -> {
            // todo: background tasks
            runOnUiThread(() -> {
                // todo: update your ui / view in activity
            });

            /*
            requireActivity().runOnUiThread((Runnable) () -> {
                // todo: update your ui / view in Fragment
            });
            */
        }); 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-03-18T08:44:00.880

AsyncTask 的替代方案是 robospice。[https://github.com/octo-online/robospice](https://github.com/octo-online/robospice)。

robospice 的一些特性。

1\. 异步执行（在后台 AndroidService 中）网络请求（例如：使用 Spring Android 的 REST 请求）。当结果准备好时，在 UI 线程上通知您的应用程序。

2.强类型！您使用 POJO 提出请求，并获得 POJO 作为请求结果。

3\. 对用于请求的 POJO 和您在项目中使用的 Activity 类均不实施任何限制。

4.caches 结果（在 Json 中同时包含 Jackson 和 Gson，或 Xml，或纯文本文件，或二进制文件，甚至使用 ORM Lite）。

5.当且仅当它们仍然存在时，通知您的活动（或任何其他上下文）网络请求的结果

6\. 完全没有内存泄漏，就像 Android Loaders 一样，不像 Android AsyncTasks 在他们的 UI 线程上通知你的活动。

7.使用简单但健壮的异常处理模型。

样品开始。[https://github.com/octo-online/RoboSpice-samples](https://github.com/octo-online/RoboSpice-samples)。

[https://play.google.com/store/apps/details?id=com.octo.android.robospice.motivations&feature=search_result](https://play.google.com/store/apps/details?id=com.octo.android.robospice.motivations&feature=search_result)上的 robospice 示例。

**更新：以上是答案不再有效。使用 kotlin 协程进行后台线程。**

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2018-03-03T17:05:25.993

```
class Background implements Runnable {
    private CountDownLatch latch = new CountDownLatch(1);
    private  Handler handler;

    Background() {
        Thread thread = new Thread(this);
        thread.start();
        try {
            latch.await();
        } catch (InterruptedException e) {
           /// e.printStackTrace();
        }
    }

    @Override
    public void run() {
        Looper.prepare();
        handler = new Handler();
        latch.countDown();
        Looper.loop();
    }

    public Handler getHandler() {
        return handler;
    }
} 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2019-06-11T09:40:34.697

如果您需要使用不同的代码预先运行线程，这里是示例：

听众：

```
public interface ESLThreadListener {

    public List onBackground();

    public void onPostExecute(List list);

} 
```

线程类

```
public class ESLThread extends AsyncTask<Void, Void, List> {

    private ESLThreadListener mListener;

    public ESLThread() {

        if(mListener != null){

            mListener.onBackground();
        }
    }

    @Override
    protected List doInBackground(Void... params) {

        if(mListener != null){

            List list = mListener.onBackground();

            return list;
        }

        return null;
    }

    @Override
    protected void onPostExecute(List t) {
        if(mListener != null){

            if ( t != null) {
                mListener.onPostExecute(t);
            }
        }

    }

    public void setListener(ESLThreadListener mListener){

        this.mListener = mListener;
    }
} 
```

运行不同的代码：

```
 ESLThread thread = new ESLThread();
                        thread.setListener(new ESLThreadListener() {
                            @Override
                            public List onBackground() {
                                List<EntityShoppingListItems>  data = RoomDB.getDatabase(context).sliDAO().getSL(fId);

                                return data;

                            }

                            @Override
                            public void onPostExecute(List t) {

                                List<EntityShoppingListItems> data = (List<EntityShoppingListItems>)t;
                                adapter.setList(data);
                            }
                        });

                        thread.execute(); 
```

# c++ - C ++中的数据库程序问题

> ID：15472388
> 
> 赞同：0
> 
> 时间：2013-03-18T08:24:57.510
> 
> 标签：c++, database

我完成了又一次调试之旅，现在我又一次不知所措了。

问题是当我打开程序并按下任何按钮时，它总是把我带到整个电影数据库显示，即使它在第二个菜单中。

很抱歉用愚蠢的作业问题打扰你，我什至还有一个问题。如何将文件中的前 5 部电影（5 行）显示到程序中。）如何打印前 5 行（txt 中的前 5 行失败），然后再打印前 5 行？

下面列出了我相当可悲的尝试。示例：起初你有 Memento ，教父。你打印下五个教父II，肖申克的救赎，莱昂，苦乐参半，Se7en。现在前五个：纪念品，教父，教父II，肖申克的救赎，莱昂。

```
#include <iostream> 
#include <string> 
#include <fstream> 

using namespace std; 

void sisend(); /*input*/
string valik(); /*choice*/
void kogukuvand(); /* the whole display of the database */
void valjumine();    /* program quit*/ 
void sisendvoivaljumine(); /*quiting with output to file or not*/
void viisjuurde(); /* input further 5 lines from the file */
void viismaha();    /* input previous 5 lines from the file*/

int main() 
{ 

         system ("title Filmide andmebaas"); /*Movie database*/
         system ("cls"); 
        char valik; 
         cout << "Vajuta klahv 'j',kui tahad naha jargmist 5 kirjet."<< endl; /* j to get extra 5*/
         cout << "Vajuta klahv 'e',kui tahad naha eelmist 5 kirjet."<< endl;  /* e for previous 5 lines */
         cout << "Vajuta klahv 'v',kui tahad lopetada programmi taitumist."<< endl; /* v for the output */
     cin >> valik; 

          if(valik=='j')
                 {
                  viisjuurde(); 

                 } 

          else  if(valik=='e')
                 {
                  viisjuurde(); 

                 } 
          else  if(valik=='v')

                 sisendvoivaljumine(); 

}
void viisjuurde() 
{ 
      ifstream filmike("andmebaas.txt"); 
      int n,  
      sum = 5; 
      string film; 
      string vaadatud; 
     int aasta; 
     long int hinne; 
      system ("CLS"); 
      cout << "Kogu filmide andmebaas"<<endl; 
     cout << "Film" << "  " << "Aasta" << "  " <<"Hinne"<< "  " << "Vaadatud" << endl; 
        cout << "------------------------------" << endl; 
         while (filmike>> film >> aasta >> hinne >> vaadatud)  
  {  
  sum += n;
        cout << film << "  " << aasta << "  " << hinne << "  " << vaadatud << endl;  
  } {
      system ("pause");  
      cin.get(); 
      main(); 

}  
}
  void viismaha() 
{ 
      ifstream filmike("andmebaas.txt"); 
      int n, sum = -5;
  while (filmike >> n) {
      sum += n;
  }
      string film; 
      string vaadatud; 
     int aasta; 
     long int hinne; 
      system ("CLS"); 
      cout << "Kogu filmide andmebaas"<<endl; 
     cout << "Film" << "  " << "Aasta" << "  " <<"Hinne"<< "  " << "Vaadatud" << endl; 
        cout << "------------------------------" << endl; 
         while (filmike>> film >> aasta >> hinne >> vaadatud)  
  { 
        cout << film << "  " << aasta << "  " << hinne << "  " << vaadatud << endl;  
  } 
      system ("pause");  
      cin.get(); 
      main(); 

  } 
void sisend() /* user input */
{ 
     string nimi; 
     int aasta; 
     long int hinne; 
     string vaadatud; 
     ofstream lisafilm("andmebaas.txt", ios::app); 
     cout <<"Sisestage filmi nimi." << endl;  /*Enter film's name */
     cin >> nimi; 
     string film;

     cout << "Sisestage filmi ilmumisaasta." << endl;  /* Enter film's year */
     cin >> aasta;     

     cout << "Sisestage filmi hinne." << endl;  /* Enter film's rating */
     cin >> hinne; 

     cout << "Kas olete filmi juba vaadanud?" << endl;  /* Has the user seen the movie already*/
     cout << "Vastake 'Jah' voi 'Ei'" << endl; 
     cin >> vaadatud; 
cout << film << "  " << aasta << "  " << hinne << "  " << vaadatud << endl;  

lisafilm<< nimi << "  " << aasta << "  " << hinne<< "  " << vaadatud << endl;  
lisafilm.close();  
main();

 cout << "Aitah kasutamast andmebaasi." << endl; 
 system("pause"); 
 cin.get (); 
} 

 void valjumine() /*quiting without output */
{  
 system("CLS"); 
 cout << "Aitah kasutamast andmebaasi." << endl; 
 system("pause"); 
 cin.get (); 
  } 
void kogukuvand()  /* the whole movie database*/
{ 
      ifstream filmike("andmebaas.txt"); 
      string film; 
      string vaadatud; 
     int aasta; 
     long int hinne; 
      system ("CLS"); 
      cout << "Kogu filmide andmebaas"<<endl; 
     cout << "Film" << "  " << "Aasta" << "  " <<"Hinne"<< "  " << "Vaadatud" << endl; 
        cout << "------------------------------" << endl; 
         while (filmike>> film >> aasta >> hinne >> vaadatud)  
  { 
        cout << film << "  " << aasta << "  " << hinne << "  " << vaadatud << endl;  
  } 
      system ("pause");  
      cin.get(); 
      main(); 

  } 
void sisendvoivaljumine() 
{ 
     char valik2; 
     system ("CLS"); 
     cout << "Vajuta klahv 'j',kui tahad salvestada kirje ja v2ljuda programmist." << endl;   /* output new movie to file and quit*/
     cout << "Vajuta klahv 'e',kui ei taha salvestada kirje ja v2ljuda programmist." << endl;  /*just quit, without any output to file*/
     cout << "Vajuta klahv 'k',kui tahad naha kogu filmide andmebaasi." << endl;  /* display the whole movie database*/
     cin >> valik2;

     if(valik2=='j')
                 {
                  sisend(); 

                 } 

          else  if(valik2=='e')
                 {
                  valjumine(); 

                 } 
          else  if(valik2=='k')

                 kogukuvand(); 

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:30:11.160

棘手，因为我不懂你的语言，但这是错误的

`valik2`应该是`char`。

`if(valik='j')`应该是`if(valik=='j')`。`if(valik2='j')`应该是`if(valik2=='j')`。这是一个常见的错误，其他所有错误都是一样的。

```
void sisendvoivaljumine() 
{ 
     char valik2; 
     system ("CLS"); 
     cout << "Vajuta klahv 'j',kui tahad salvestada kirje ja v2ljuda programmist." << endl;   /* output new movie to file and quit*/
     cout << "Vajuta klahv 'e',kui ei taha salvestada kirje ja v2ljuda programmist." << endl;  /*just quit, without any output to file*/
     cout << "Vajuta klahv 'k',kui tahad naha kogu filmide andmebaasi." << endl;  /* display the whole movie database*/
     cin >> valik2;
     if(valik2=='j')
             {
              sisend(); 

             } 

      else  if(valik2=='e')
             {
              valjumine(); 

             } 
      else  if(valik2=='k')

             kogukuvand(); 
```

# ruby - 如何在运行 rails 迁移时显示默认消息？

> ID：15472394
> 
> 赞同：1
> 
> 时间：2013-03-18T08:25:18.153
> 
> 标签：ruby, ruby-on-rails-3, activerecord, rails-migrations

我们正在将表数据移动到不同的数据库中进行归档。因此，当用户在主数据库中添加迁移时，我想显示一条默认消息，提醒他们对存档数据库中的表执行相同的迁移。我怎样才能做到这一点而不必在迁移中手动添加消息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:10:07.530

Prakash 提出了一个优雅的解决方案。但是您最初的问题是关于覆盖默认任务以添加我相信的消息。

也许尝试这样的事情。礼貌： http: [//metaskills.net/2010/05/26/the-alias_method_chain-of-rake-override-rake-task/](http://metaskills.net/2010/05/26/the-alias_method_chain-of-rake-override-rake-task/)

```
Rake::TaskManager.class_eval do
  def alias_task(fq_name)
    new_name = "#{fq_name}:original"
    @tasks[new_name] = @tasks.delete(fq_name)
  end
end

def alias_task(fq_name)
  Rake.application.alias_task(fq_name)
end

def override_task(*args, &block)
  name, params, deps = Rake.application.resolve_args(args.dup)
  fq_name = Rake.application.instance_variable_get(:@scope).dup.push(name).join(':')
  alias_task(fq_name)
  Rake::Task.define_task(*args, &block)
end 
```

现在您可以像这样覆盖 rake db:migrate。

```
 namespace :db do
    override_task :migrate => :environment do
      # Your message here
      # To invoke the original task add ":original" to its name
      Rake::Task["db:migrate:original"].execute
      ...
    end
 end 
```

# asp.net - 如何将我的数据源从数据库中附加到gridview中？

> ID：15472395
> 
> 赞同：0
> 
> 时间：2013-03-18T08:25:18.530
> 
> 标签：asp.net, gridview, sqldatasource

我正在将孟买当地的火车时刻表项目作为我的课程项目。我如何将我的数据源从数据库中附加到 gridview 中？

```
SqlCommand cmd;

protected void Page_Load(object sender, EventArgs e)
{

}
protected void Button1_Click(object sender, EventArgs e)
{
    con.Open();

    cmd = new SqlCommand("Select * from @d where(Select * from @c where Source = @a AND Destination = @b)",con);
    cmd.Parameters.AddWithValue("@d", DropDownList3.SelectedValue);
    cmd.Parameters.AddWithValue("@c",DropDownList3.SelectedValue);
    cmd.Parameters.AddWithValue("@a",DropDownList1.SelectedValue);
    cmd.Parameters.AddWithValue("@b",DropDownList2.SelectedValue);

    //int i = cmd.ExecuteNonQuery();

    //if (i > 0)
    //{
    GridView1.DataSource = //what shud i put here in as a datasource??
    GridView1.DataBind();
    //}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:51:16.253

Just simply do some thing like this:

```
con.Open(); 
SqlCommand cmd = new SqlCommand("Select * from @d where(Select * from @c where Source = @a AND Destination = @b)",con);
cmd.Parameters.AddWithValue("@d", DropDownList3.SelectedValue);
cmd.Parameters.AddWithValue("@c",DropDownList3.SelectedValue);
cmd.Parameters.AddWithValue("@a",DropDownList1.SelectedValue);
cmd.Parameters.AddWithValue("@b",DropDownList2.SelectedValue);

SqlDataAdapter adapt = new SqlDataAdapter();
DataTable dt = new DataTable();
adapt.SelectCommand = cmd;
adapt.Fill(dt);
GridView GridView1 = new  GridView();
GridView1.DataSource = dt;
GridView1.DataBind(); 
```

Then this link might be helpful to you : [The C# Station ADO.NET Tutorial](http://csharp-station.com/Tutorial/AdoDotNet/Lesson01)

Best Regards

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:31:52.870

您需要使用`SQlDataReader`或`SqlDataadpter/Dataset`。

```
 using(SqlConnection con = new SqlConnection(connstring))
    {
        con.Open(); 
      using(SqlCommand cmd = new SqlCommand("yourQuery",con))
       {
           cmd = new SqlCommand("Select * from @d where(Select * from @c where Source = @a AND Destination = @b)",con);
           cmd.Parameters.AddWithValue("@d", DropDownList3.SelectedValue);
          cmd.Parameters.AddWithValue("@c",DropDownList3.SelectedValue);
          cmd.Parameters.AddWithValue("@a",DropDownList1.SelectedValue);
          cmd.Parameters.AddWithValue("@b",DropDownList2.SelectedValue);

          using (SqlDataAdapter adapter = new SqlDataAdapter(cmd))
            {
              Dataset dstList= new Dataset ();
              adapter.Fill(dstList);
              GridView1.DataSource = dstList;
             GridView1.DataBind();
            }
       }

    } 
```

# mysql - MySQL - 总和小于 x 时选择

> ID：15472396
> 
> 赞同：0
> 
> 时间：2013-03-18T08:25:24.200
> 
> 标签：mysql

我有一个数据库中引用的缓存文件列表，并且想要清除大小限制为 20,000,000 之外的最旧文件。

表简单地看起来像这样：

```
[ hash | filesize | timestamp ] 
```

目前只需运行以下命令，

```
SELECT `hash`, `filesize` FROM `cachetable` ORDER BY `timestamp` DESC; 
```

然后在外部处理结果。有什么方法可以获取超出 20,000,000 个限制的结果列表？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:29:07.083

我会使用偏移量

```
SELECT `hash`, `filesize` 
FROM `cachetable` 
ORDER BY `timestamp` DESC 
LIMIT <your_limit_here> 
OFFSET 20000000; 
```

请务必将 your_limit_here 替换为您自己可接受的数字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:28:19.253

我会在表上使用[二进制搜索](http://en.wikipedia.org/wiki/Binary_search_algorithm)`SUM`，并查看它何时超过阈值大小，例如 SIZE（在您的情况下为 20000000）

1.  找出表中 50% 最新行的大小。
2.  如果小于 SIZE，则查询前 75% 的行，如果大于 SIZE，则查询前 25% 的行。
3.  通过每次将行集分成两部分来重复。

这样，您将能够在 log(N) 查询中获得目标阈值，其中 N 是表中的总行数。获得目标阈值后说 THRESHOLD，删除之后的所有行：

```
SELECT `hash`, `filesize` 
FROM `cachetable` 
ORDER BY `timestamp` DESC 
LIMIT  NUMBER_ROWS_TO_DELETE /* any large number to delete all after THRESHOLD */ 
OFFSET THRESHOLD; 
```

# zend-framework2 - Zend Framework 2 当前资源名称

> ID：15472399
> 
> 赞同：0
> 
> 时间：2013-03-18T08:25:36.187
> 
> 标签：zend-framework2

我目前正在构建自己的 ACL，我想知道如何获取当前资源的名称。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T10:11:01.850

您负责设置系统中资源的资源 ID/名称。

一种方法是实现**ResourceInterface**。

这只有一种方法，getResourceId()，它将返回相关资源的唯一标识符。

一个简单的例子是有一个控制器，它将根据控制器/动作名称创建它的资源名称/ID。显然这是一个简单的例子，它可能在模块之间发生冲突，但它是一个简单的例子。

```
class AclController extends AbstractActionController implements ResourceInterface
{
    /**
     * Returns the string identifier of the Resource.
     * By default we'll just use controller/action
     * 
     * e.g. mvc:index/index
     *
     * @return string
     */
    public function getResourceId()
    {
        //$request = $this->getRequest();
        /* @var $request \Zend\Http\PhpEnvironment\Request */
        $routeMatch = $this->getEvent()->getRouteMatch();
        /* @var $routeMatch \Zend\Mvc\Router\Http\RouteMatch */
        $controller = $routeMatch->getParam('controller', 'noaccess');
        $action = $routeMatch->getParam('action', 'noaccess');

        return 'mcv:' . $controller . '/' . $action;
    }
} 
```

然后，您可以使用任何直接通过 ACL 实现 ResourceInterface 的对象

```
// resource can be any object implementing the interface
$acl->addResource($resource); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T18:26:17.603

[正如 Andrew 已经说过](https://stackoverflow.com/a/15474188/347063)的，负责构建[ACL 资源标识符](http://framework.zend.com/manual/2.0/en/modules/zend.permissions.acl.intro.html#resources)的人就是您。MVC 层本身没有“Acl 资源 ID”的概念。

正如@Sam 所说，您可能想了解 BjyAuthorize 是如何做到的。

Zend 框架 2 中与“资源 ID”最接近的概念是：

*   路线名称
*   控制器名称（在控制器管理器服务定位器中定义）

这些都是在您的配置中定义的东西，也可以从配置中读取。

[BjyAuthorize](https://github.com/bjyoungblood/BjyAuthorize/)不会自动读取资源名称，但它无论如何都会在所谓的“[控制器保护](https://github.com/bjyoungblood/BjyAuthorize/blob/1.2.3/src/BjyAuthorize/Guard/Controller.php)”和“[路由保护](https://github.com/bjyoungblood/BjyAuthorize/blob/1.2.3/src/BjyAuthorize/Guard/Route.php)”中抽象它们（当请求访问时），它们是保护您的应用程序免受不必要访问的“防火墙”。

在控制器守卫中，每个控制器资源 ID 如下所示：

```
controller/%controller_name%:%action_name
controller/%controller_name%:%http_method
controller/%controller_name% 
```

虽然路由具有以下语法：

```
route/%route_name% 
```

BjyAuthorize 仅在缺少资源时静默失败（通过捕获[`Zend\Permissions\Acl\Exception\InvalidArgumentException`](https://github.com/zendframework/zf2/blob/release-2.1.3/library/Zend/Permissions/Acl/Exception/InvalidArgumentException.php)，但是当资源存在时，它已通过配置手动输入，如 Andrew 所说。

# spring - Weblogic11g 上的 Apache FOP ClassNotFoundException/ClassCircularityError

> ID：15472401
> 
> 赞同：0
> 
> 时间：2013-03-18T08:25:41.397
> 
> 标签：spring, weblogic, classloader, apache-fop

我在 EJB3 和 Spring 3.0.6 Web 应用程序中使用 Apache FOP 1.1。编码：

`FopFactory fopFactory = FopFactory.newInstance();`

驻留在我的班级中（从 Spring MVC 转换器中调用）。如果此代码在方法之外（类级别），我会得到**java.lang.ClassNotFoundException异常，而****java.lang.ClassCircularityError**异常是这条线在方法内。

请看下面的课程：

`@Component public class PdfReport extends BaseReportImpl implements IPdfReport{`

 ````
@Override
public void createReport(OutputStream out, ResponseData responseData) throws IOException {
    try {
        //Construct a FopFactory
        FopFactory fopFactory = FopFactory.newInstance();

        //Construct fop with desired output format
        Fop fop = fopFactory.newFop(MimeConstants.MIME_PDF, out);

        //Setup JAXP using identity transformer
        TransformerFactory factory = TransformerFactory.newInstance();
        //identity transformer
        Transformer transformer = factory.newTransformer();

        //Setup input stream
        Source src = new StreamSource(new File("/resources/detailsReport.fo"));

        //Resulting SAX events (the generated FO) must be piped through to FOP
        Result res = new SAXResult(fop.getDefaultHandler());

        //Start XSLT transformation and FOP processing
        transformer.transform(src, res);

    } catch (FOPException e) {
        throw new RuntimeException("Failed creating PDF report: " + e.getMessage(), e);
    } catch (TransformerConfigurationException e) {
        throw new RuntimeException("Failed setting up transformer for PDF report: " + e.getMessage(), e);
    } catch (TransformerException e) {
        throw new RuntimeException("Failed transforming PDF report: " + e.getMessage(), e);
    } 
} 
```` 

`}`

但在那条线上我得到了一个例外：

`org.springframework.web.util.NestedServletException: Handler processing failed; nested exception is java.lang.ClassCircularityError: org/apache/fop/apps/FOPException at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:839) at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719) at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:669) at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:585) at javax.servlet.http.HttpServlet.service(HttpServlet.java:727) at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227) at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125) at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:300) at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:26) at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56) at utils.spring.UnloadFilterBean.doFilterInternal(UnloadFilterBean.java:58) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76) at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237) at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167) at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56) at weblogic.servlet.internal.RequestEventsFilter.doFilter(RequestEventsFilter.java:27) at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56) at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3715) at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3681) at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321) at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120) at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2277) at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2183) at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1454) at weblogic.work.ExecuteThread.execute(ExecuteThread.java:207) at weblogic.work.ExecuteThread.run(ExecuteThread.java:176) Caused by: java.lang.ClassCircularityError: org/apache/fop/apps/FOPException at proj.report.PdfReport.createReport(PdfReport.java:37) at protocol.ResponseDataConverter.writeInternal(ResponseDataConverter.java:94) at protocol.ResponseDataConverter.writeInternal(ResponseDataConverter.java:1) at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:181) at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter$ServletHandlerMethodInvoker.writeWithMessageConverters(AnnotationMethodHandlerAdapter.java:996) at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter$ServletHandlerMethodInvoker.handleResponseBody(AnnotationMethodHandlerAdapter.java:954) at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter$ServletHandlerMethodInvoker.getModelAndView(AnnotationMethodHandlerAdapter.java:903) at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:438) at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:424) at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790) ... 26 more`

请帮忙！

**另外：** 如果我移到`FopFactory fopFactory = FopFactory.newInstance();`createReport() 方法之外，我会得到异常：

`java.lang.ClassNotFoundException: org.apache.fop.apps.FopFactory at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:297) at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:270) at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:64) at java.lang.ClassLoader.loadClass(ClassLoader.java:303) at java.lang.ClassLoader.loadClass(ClassLoader.java:248) at weblogic.utils.classloaders.GenericClassLoader.loadClass(GenericClassLoader.java:179) at weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:43) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:316) ... 86 more`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T15:31:23.743

解决方案是在 eclipse 文件 org.eclipse.wst.common.component 中添加 FOP jar 以创建分解的 EAR 文件。

# autohotkey - 鼠标右键单击时的 AutoHotKey 也会按下键盘按钮

> ID：15472404
> 
> 赞同：1
> 
> 时间：2013-03-18T08:25:58.623
> 
> 标签：autohotkey, mousedown

有人可以帮助我使用 AutoHotKey 宏在单击鼠标右键时按下并释放 Q 按钮并在释放鼠标右键时按下并释放 Q 按钮吗？

编辑：
解释，想象一下，我正在玩游戏，当我点击鼠标右键（然后我按住它）时，我需要在键盘上自动按下 Q 字母，所以我会跳（或蹲下）当时的游戏，当我释放鼠标右键（鼠标按钮向上）时，我会再次按下 Q 自动键。我试图编写脚本，但无法正常工作。

这是我到目前为止提出的：

```
 RButton::
    If !Toggler {
    Send, {RButton Down} q
    Return
    }
    Send {RButton Up} q
    Return 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T14:19:28.110

好的，看起来您想要切换行为。

```
#SingleInstance Force
#installKeybdHook
#Persistent
SetTitleMatchMode, 2 ; Make search title in #IfWinActive more flexible

#IfWinActive, Title of your game as found by AHK Windows Spy 
    RButton::
        If (Toggler := !Toggler )
        {
            ToolTip, RButton Down
            Send, {RButton Down} q
            Return
        }
        ToolTip, RButton Up        
        Send {RButton Up} q
    Return
#IfWinActive
Return

*x::
ExitApp 
```

# 更新

在阅读了您的文本（并忽略了您想要切换行为的脚本）之后，我认为您想要这个！`RightClick`将发送`RightClick Down + q`，然后什么都没有，直到您放开`RightClick`，然后发送一个`RightClick Up + q`. 我添加了工具提示，因此您可以查看#IfWinActive 是否正确激活了脚本。

```
#SingleInstance Force
#installKeybdHook
#Persistent
SetTitleMatchMode, 2 ; Make search title in #IfWinActive more flexible

#IfWinActive, Title of your game as found by AHK Windows Spy

RButton::
    ToolTip, RButton Down + q
    Send, {RButton Down} q
Return

RButton Up::
    ToolTip, RButton Up + q
    Send, {RButton Up} q
Return

#IfWinActive
Return

*x::
ExitApp 
```

如果这确实是您想要的，那么最终的解决方案将非常接近 Armin 的原始提示！

# 更新 2，替代方式

```
#SingleInstance Force
#installKeybdHook
#Persistent
SetTitleMatchMode, 2 ; Make search title in #IfWinActive more flexible

#IfWinActive, Title of your game as found by AHK Windows Spy
    *~RButton:: ; ~ passes Rbutton through
        ToolTip, RButton Down + q
        Send, q
        KeyWait, RButton ; Wait for RButton to be released
        ToolTip, RButton Up + q
        Send, q
    Return
#IfWinActive
Return

*x::
ExitApp 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T10:01:11.580

`up`您可以通过热键使用后缀。

例子

```
h up::
    ; your code
return 
```

当您释放 key 时将触发`h`。您可以将其与包括鼠标在内的任何热键一起使用。

您可以使用[发送](http://www.autohotkey.com/docs/commands/Send.htm)命令发送按键。

# bash - 更改文件中的字符串

> ID：15472405
> 
> 赞同：-1
> 
> 时间：2013-03-18T08:26:00.043
> 
> 标签：bash

我们如何用其他字符串更改文件中的字符串，

例如，我们想将`Proxy=`每个文件中的字符串更改为`Proxy=1080`带有命令的字符串`./changeproxy.sh 1080`，如果我们不带参数运行，`./changeproxy.sh`它只会是`"Proxy="`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:56:56.893

尝试以下脚本：

```
#!/bin/bash
sed -i 's/Proxy=\([0-9]*\)/Proxy='"$2"'/g' "$1" 
```

脚本的第一个参数是文件名，第二个参数是新的端口号。

# javascript - 如何在 html 输入字段中的单个单词下方显示弹出/工具提示

> ID：15472408
> 
> 赞同：2
> 
> 时间：2013-03-18T08:26:06.667
> 
> 标签：javascript

我想对 html 输入字段进行一些拼写检查。为此，我想突出显示错误的单词并在单词下方显示替代方案。

后台功能已经开始工作，现在我正在使用[http://jquery-spellchecker.badsyntax.co/](http://jquery-spellchecker.badsyntax.co/)（由 siddhartha 提到）。我理解并找到了如何在富文本字段上而不是在单行输入上完成此操作的示例`<input type="text" value="Here iz somme...">`。我的问题是我没有在正确的位置找到单词选择框。如果 html 输入是“Here iz somme”并且我单击“Iz”，我无法将弹出窗口放在该文本下方。

这就是它的样子（想象一下“Here iz somme badlyy speldt worddz”是 html 输入值）

![在此处输入图像描述](../Images/a10f805a7eadfbce7eeecfd81bb98180.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:45:40.630

您可以使用 jquery 插件。请在此处查看

[http://jquery-spellchecker.badsyntax.co/](http://jquery-spellchecker.badsyntax.co/)

解决方法可以使您的文本区域看起来像输入文本，我的意思是样式看起来像输入字段

HTML：

```
<textarea id="textarea-content" rows="1" style="width:90%" spellcheck="false">Here iz somme badlyy speldt worddz</textarea> 
```

CSS：

```
textarea
{
   resize: none;
   border:solid 1px #d2d2d2;
   background: #fff;
   color: #333;
   height: 44px;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T09:05:03.467

没有javascript很难做到这一点。所以我的建议是使用javascript。

如果我们有“Here iz somme badlyy speldt worddz”。当我们点击某个坏词时，我们使用 javascript（我们可以使用 jquery）捕获鼠标位置，然后根据我们从鼠标位置获得的位置显示弹出窗口。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-18T08:53:17.027

请看一下[BJSpell](http://code.google.com/p/bjspell/) - 它是 javascript 中的一个很好的实现，可以使用 Hunspell 字典。

# security - MS DNS WMI API 需要哪些权限？

> ID：15472411
> 
> 赞同：0
> 
> 时间：2013-03-18T08:26:13.733
> 
> 标签：security, permissions, wmi

我的网络服务器（在数据中心中）运行 IIS 和 MS-DNS 服务器，还托管我网站的 DNS 区域。我已经使用`no-ip.org`了一段时间，但我不喜欢自己手动更新它，所以我写了自己的替换，我也想使用自己的 DNS 区域。

我已经使用[WMI DNS API](http://msdn.microsoft.com/en-us/library/windows/desktop/ms682757%28v=vs.85%29.aspx)编写了自己的 MS-DNS 区域编辑器，当我在“域管理员”成员的用户帐户下运行它时它可以工作（我的服务器也是 Active Directory 域的一部分）。

但是，在管理员帐户下运行代码是自找麻烦。我想知道是否可以设置 AD 委派或其他一些绝对最低权限设置，以允许我的应用程序更新 DNS 区域。

我会注意到，有问题的 DNS 区域是使用物理区域文件存储的，而不是存储在 Active Directory 中（有问题的 DNS 服务器不是域控制器，因此该选项不可用）。

这个问题在 ServerFault 上可能会更好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:31:18.893

啊，我说得太早了。我找到了这个页面：[http ://forums.asp.net/t/589684.aspx/1](http://forums.asp.net/t/589684.aspx/1)

有一个提供这些说明的海报：

`Start`> `Run`> `wmimgmt.msc`> `WMI Control`> `Properties`>`Security`

然后我可以添加我自己的用户帐户，该帐户有权更改 DNS 并且仅更改 DNS，没有其他权限，无需完全管理权限。

...我认为。我还没有验证这一点。谁能让我知道这是否正确？

# ruby-on-rails - 嵌套子类别添加编辑和更新

> ID：15472413
> 
> 赞同：1
> 
> 时间：2013-03-18T08:26:25.703
> 
> 标签：ruby-on-rails, gem, categories

嗨伙计们，我是 ROR 的初学者，想要实现以下目标，

```
(using => Rails 3.2.12
   => Ruby ruby 2.0.0p0 ) 
```

我想通过后端添加或更改类别的特征，这应该会自动出现在用户界面中。

所以例如

```
categorie 
Cars (id=1)
        Audi (id=6 and Parent_id=1)
        BMW (id=7 and Parent_id=1)
        Citoen (id=8 and Parent_id=1)

Animals (id=3)

        Cats (id=10 and Parent_id=3)
        Dogs (id=11 and Parent_id=3)
        Fish (id=12 and Parent_id=3)
                    Goldfish (id=24 and Parent_id=12)
                    Koi (id=25 and Parent_id=12) 
```

在某些时候，如果我决定将颜色和变速箱添加到汽车类别中，以便用户可以更详细地搜索他的新车。如果可能，请建议一些宝石或一些相关示例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T10:06:21.693

只是一些一般性的指针。

您可以使用[ransack](https://github.com/ernie/ransack) [(RailsCast)](http://railscasts.com/episodes/370-ransack)很好地构建**搜索表单**。

对于ActiveRecord 中的**嵌套记录，有例如**[closure_tree](https://github.com/mceachen/closure_tree)和[更多选项](http://www.plugingeek.com/categories/activerecord-nesting-ruby)。特别是对于像“动物 >> 鱼 >> 金鱼”这样的灵活嵌套，这些宝石将为您提供帮助。

要获得更具体的答案，您应该从构建应用程序的各个部分开始，并在此过程中就特定问题寻求帮助。

# c# - 如何通过控制事件传递参数？

> ID：15472414
> 
> 赞同：1
> 
> 时间：2013-03-18T08:26:30.003
> 
> 标签：c#, asp.net, events, telerik, dynamic-programming

需要使用此事件处理程序传递参数，是否可以使用事件处理程序发送参数？请检查我的`RadTreeView2_NodeExpand`语法。

```
internal void LoadTree(RadTreeView treeView, System.Collections.IEnumerable r)
{
   LoadRootNodes(ref treeView, TreeNodeExpandMode.ServerSideCallBack, r);
   treeView += RadTreeView2_NodeExpand(r);
}

public void RadTreeView2_NodeExpand(object sender, RadTreeNodeEventArgs e, System.Collections.IEnumerable r)
{                        
   if (e.Node.Nodes.Count == 0)
      PopulateNodeOnDemand(e, TreeNodeExpandMode.ServerSide, r);
}

private static void PopulateNodeOnDemand(RadTreeNodeEventArgs e, TreeNodeExpandMode expandMode, System.Collections.IEnumerable r)
{
   //List<testTable> data = GetChildNodes(e.Node.Value);

   foreach (testTable row in r)
   {
      RadTreeNode node = new RadTreeNode();
      node.Text = row.Address;//row["Title"].ToString();
      node.Value = row.ID; //row["CategoryId"].ToString();
      //if (Convert.ToInt32(row["ChildrenCount"]) > 0)
      //{
      //    node.ExpandMode = expandMode;
      //}
      e.Node.Nodes.Add(node);
   }

   e.Node.Expanded = true;
}       

private static void LoadRootNodes(ref RadTreeView treeView, TreeNodeExpandMode expandMode, System.Collections.IEnumerable data)
{
    //DataTable data = GetData(new SqlCommand("SELECT * FROM ProductCategories WHERE ParentId IS NULL"));

    foreach (testTable row in data)
    {
       RadTreeNode node = new RadTreeNode();
       node.Text = row.Address;//row["Title"].ToString();
       node.Value = row.ID;//row["CategoryId"].ToString();
       node.ExpandMode = expandMode;
       treeView.Nodes.Add(node);
    }
 } 
```

如果有任何问题，请询问，任何类型的建议都将被接受提前谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:38:14.763

不可以，您不能向现有事件添加参数。如果可以的话，你将如何传递一个值？

您已经存储`row.ID`在 Value 属性中，这是检索特定 TreeNode 信息的正确方法。因此，找到一种方法将您的数据存储在其他地方，并使其可以在 RowId 上访问。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T09:25:15.000

也许你可以尝试这样的事情。但请注意，您的 Enumerable 将绑定在事件绑定上。

```
internal void LoadTree(RadTreeView treeView, System.Collections.IEnumerable r)
    {
        var enumerable = r as object[] ?? r.Cast<object>().ToArray();
        LoadRootNodes(ref treeView, TreeNodeExpandMode.ServerSideCallBack, enumerable);
        treeView.NodeExpand += (s, e) =>
            {
             if (e.Node.Nodes.Count == 0)
               PopulateNodeOnDemand(e, 
                                    TreeNodeExpandMode.ServerSide,
                                    enumerable)
            };
    } 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-18T08:31:22.970

```
private void setup(string someData)
{
     Object.assignHandler((sender) => evHandler(sender,someData));
}
public void evHandler(Object sender, string someData)
{
    // need someData here!!!
} 
```

# jquery - highchart中两种堆叠图表样式的两种图例样式

> ID：15472419
> 
> 赞同：1
> 
> 时间：2013-03-18T08:26:57.053
> 
> 标签：jquery, highcharts

我在高图中有两种类型的图表，一种是**列**型，另一种是**线型**（它们有自己的系列）。所以我希望两个不同图表（线和柱）的图例有两个不同的位置，一个在左下角，另一个在右下角。这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T10:33:50.443

不幸的是，不支持此选项，但您可以使用 append 将 div 数量添加为系列，并捕获点击事件。

[http://jsfiddle.net/8JB6h/](http://jsfiddle.net/8JB6h/)

```
$.each(chart.series, function (i, serie) {

            $('body').append('<div class="legend" id="serie' + i + '">' + serie.name + '</div>');

        });

        $('.legend').click(function () {
            var tmpserie = chart.get($(this).attr('id'));
            if (tmpserie.visible) tmpserie.hide();
            else tmpserie.show();

        }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T09:08:36.293

看起来 highcharts 不支持使用 legend 属性的两个图例。但是，它确实支持标签，您可以将其放置在图表的任何位置。它更加繁琐，但您可以使用它们在任何您想要的地方呈现您自己的标签。

一个基本的例子是：

```
 labels: {
        items: [{
            html: "Legend 1",
            style: {
                top: '10px',
                left: '20px',
                height: '30px'
            }
        }, {
            html: "Legend 2",
            style: {
                top: '10px',
                left: '120px',
                height: '30px'
            }
        }]
    }, 
```

[http://jsfiddle.net/7PRKr/](http://jsfiddle.net/7PRKr/)

你必须做一些数学计算来计算它们在你的绘图区域内的位置，并且你必须做一些工作来使它们看起来不错（使用标准的 html 和 css 属性）。

# events - 在不接触标签及其内容的情况下在笔记本上捕获鼠标按下事件

> ID：15472423
> 
> 赞同：0
> 
> 时间：2013-03-18T08:27:21.507
> 
> 标签：events, mouseevent, children, gtkd, mousepress

我在*Funtoo Linux上用**gtkD*编程。 我想在*Notebook*中捕捉鼠标按下事件， 但我不想触摸选项卡及其内容。 我在*Notebook中使用函数：* *addOnButtonPress ()*， 但之后标签不可重新排序（**以前是**的）。 或者类似地，如何仅在选定的窗口/小部件上捕获鼠标事件而不触及它的子级。 谢谢你的帮助。

 ****** * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T09:23:46.747

[我在http://forum.dlang.org](http://forum.dlang.org)上问了同样的问题，我 Mike Wey 回答了我的问题。解决方案：

> 我明白你的意思，使用 enterNotify 和 leaveNotify 事件，您可以跟踪鼠标是否在选项卡上并跳过 mousePress 事件。选项卡标签确实需要包装在 EventBox 中才能正常工作。

解决了*****

# python - 在路径中使用带有空格的 virtualenv

> ID：15472430
> 
> 赞同：53
> 
> 时间：2013-03-18T08:28:04.450
> 
> 标签：python, macos, virtualenv, pip

我在 Mac 上设置了 virtualenv 环境，但无法让 Pip 安装软件包。它失败并出现以下错误：

```
/Volumes/Macintosh: bad interpreter: No such file or directory 
```

我将问题追踪到路径中有一个空格，如下所示：[https](https://stackoverflow.com/a/10873611/126564)
://stackoverflow.com/a/10873611/126564 （路径为`/Volumes/Macintosh HD/Python/my_project`）

但这有点问题。建议的解决方案是：

> “只需将您的 virtualenv 环境放在没有空格的路径中，”

但*有空间的部分是体积本身。*我所有的路径都会有一个空格，除非我将它们存储在`/`. 而且我不认为“将你的东西存储在用户空间之外”是一个好的解决方案。

有没有更好的解决方案？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-03-18T10:49:26.910

试试这个：

*   编辑`bin/activate`、更改`VIRTUAL_ENV='/Volumes/Macintosh HD/Python/my_project'`和更改`PATH="$VIRTUAL_ENV/bin:$PATH"`，以使其在您的环境中工作。用于`echo $PATH`检查它是否有效。
*   编辑`bin/pip`and `bin/easy_install`，将两个文件中的第一行更改为

    `#!/usr/bin/env python`

经过以上 2 个步骤，您将使您的 virtualenv 工作（也 pip/easy_install）。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-06-10T11:28:38.940

请注意，您不必将项目文件夹用于 virtualenv。例如，您可以将 virtualenv 放入**/tmp**文件夹或任何其他没有空格的文件夹：

```
virtualenv /tmp/temporary_virtualenv
virtualenv /home/my_envs/env_for_projectname 
```

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2018-02-07T13:12:00.260

I have yet another workaround - you just need to use `pip` *package* instead of `pip` *script*. For example:

```
python -m pip install . 
```

or even:

```
python -m pip install -U pip 
```

For me works like a charm and doesn't require changes in files.

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2017-01-10T22:12:34.400

Editing the `bin/activate` file and escaping the spaces worked for me. Edit and save the file, then run `source bin/activate`.

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2015-07-28T15:41:27.737

除非您在 Mac 上设置了非典型驱动器，否则路径`/Volumes/Macintosh HD`应该是指向`/`. 换句话说，而不是

```
$ virtualenv /Volumes/Macintosh\ HD/venvpath 
```

你可以做

```
$ virtualenv /venvpath 
```

Not that I'm trying to condone software not handling spaces in file names. I agree with [Hugo's comment](https://stackoverflow.com/questions/15472430/using-virtualenv-with-spaces-in-a-path#comment21918220_15472430) above: keep an eye on the [relevant GitHub issue](https://github.com/pypa/virtualenv/issues/53).

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2018-12-12T16:24:20.470

As of end of 2018 the latest versions of `pip` and `virtualenv` deal with spaces in venv dir correctly.

See [https://github.com/pypa/virtualenv/issues/53#issuecomment-434461292](https://github.com/pypa/virtualenv/issues/53#issuecomment-434461292) .

# c# - 使用 winrt 频繁拍摄快照时出现 CapturePhotoToStorageFileAsync 问题

> ID：15472442
> 
> 赞同：0
> 
> 时间：2013-03-18T08:29:07.357
> 
> 标签：c#, windows-store-apps, winrt-xaml

当我在 Win Rt(Surface) 中频繁拍摄时，我遇到了一个问题，`CapturePhotoToStorageFileAsync`如果在捕获期间超过 13 次拍摄，则该`CapturePhotoToStorageFileAsync`函数没有返回任何值。

因此，由于这个问题，表面重新启动，任何人都可以知道它的修复，它会更有帮助，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-30T05:56:17.340

以下解决了 Surface RT 无法始终捕获视频帧的问题：

```
await mediaCapture.StopPreviewAsync();
await mediaCapture.StartPreviewAsync();
await mediaCapture.CapturePhotoToStorageFileAsync(imageProperties, file); 
```

在每一帧之前停止/开始预览可能需要一些额外的时间。这是我第一次尝试解决方法，所以可能有更好的方法。

# html - 盒子宽度为 100% 的 CSS3 问题

> ID：15472446
> 
> 赞同：1
> 
> 时间：2013-03-18T08:29:15.723
> 
> 标签：html, css

我在显示一些 CSS3 框时遇到问题，其中宽度设置为 100% 但并没有一路走下去，我确定我在某处犯了错误，但我不确定在哪里:)。

您会在 HTML 代码和 CSS 中看到有两个框：“Box”和“Boxgray”

box div 一直到 100%，但 boxgray 不是……我希望 boxgray 的宽度相同。

这是我的代码的链接：

[http://jsfiddle.net/gEtp6/2/](http://jsfiddle.net/gEtp6/2/)

谢谢

```
<div class="box" style="background-color:#DDDDDD;background-image:-webkit-linear-gradient(top, #FFFFFF 5%, #F0F0FF 70%, #E3E7F7 100%);">
        <h1>Download Our Software</h1>

        Download Our Software

    </div>

    <div class="boxgray" style="width:283px; height:180px;">
        <h2><img src="images/windows.png" alt="Download for Windows">
            <a href="Install.exe" onclick="javascript: pageTracker._trackPageview('download.kit.Windows');" >Windows Installer</a></h2>
        No requirements.
    </div>

    <div class="boxgray" style="width:283px; height:180px;">
        <h2><img src="images/linux.png" alt="Download for Linux">
            <a href="Install.jar" onclick="javascript: pageTracker._trackPageview('download.kit.Linux');" >Linux</a></h2>
        Java 1.6 or later required.
    </div>

    <div class="boxgray" style="width:283px; height:180px;">
        <h2><img src="images/mac.png" alt="Download for Mac">
            <a href="InstallMac.dmg" onclick="javascript: pageTracker._trackPageview('download.kit.mac');" >Mac</a></h2>
        <small>On MacOS 10.8 you have to set in System Preferences / Security & Privacy / Allow Applications from Anywhere. We are working to fix this issue.</small>
    </div>

    <div class="box" style="width:100%">
        <h2>Alternative Download</h2>
        For all platforms you can download a <a href="asd.zip" onclick="javascript: pageTracker._trackPageview('download.kit.zip');" >zip package</a>.
        Java 1.6 or later is required.
        <p>
        In case of problems with the downloaded package or any issue with the software please <a href="support.html">let us know</a>.
        asdasdasdasdasd

        <p>
        <h2>Connect asdasdasd</h2>
        asdasdasdasdasdasdasdasdasdasdasd
        In this cases please <a href="support.html">write us</a>. 

    </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:43:40.120

尝试修复`box`类似的宽度：

```
.box{
    width: 1024px;
} 
```

通常它可以工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:48:57.797

但你给你的内联样式`div.boxGray`

```
<div class="boxgray" style="width:283px; height:180px;"> 
```

删除`inline width`或将其设置为`100%`;

即这样做

```
 <div class="boxgray" style="width:100%; height:180px;">
   <!--width changed to 100% --> 
```

或这个

```
 <div class="boxgray" style="height:180px;"> 
   <!--width removed, as .boxGray class contains 100% width already --> 
```

看到这个[小提琴](http://jsfiddle.net/manishmishra256/gEtp6/3/)

更新：

所以你想 `div.boxGray`在一行中对齐，你可以给它们一个更小的宽度，这样，所有三个的组合宽度`.boxGray`应该小于或等于它们的父包装器的宽度。什么？但是你没有那些小的浮动 div 的父包装！！然后提供一个。

看到这个更新[的小提琴](http://jsfiddle.net/manishmishra256/gEtp6/14/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T08:50:06.067

> box div 一直到 100%，但 boxgray 不是……我希望 boxgray 的宽度相同。

删除内联 CSS 宽度，`.boxgray`类将是 100%。

```
 <div class="boxgray" style="width:283px; height:180px;"> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-18T08:50:51.840

**编辑**

如果您希望两个页眉和页脚框的宽度为 100%，而三个白色框的宽度分别为 33%，那么您可以这样做：

```
div.box {
    width: calc(100% - 32px);
}
div.boxgray {
    width: calc(33.3% - 32px);
} 
```

演示：http: [//jsfiddle.net/LNahL/2/](http://jsfiddle.net/LNAhL/2/)

**32px 由（5px 边距 + 10px 内边距 + 1px 边框）* 2 边计算得出**

* * *

最后一点：你的`gray-background`div 被称为`box`，而你的`white-background`div 被称为`boxgray`... ？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-18T08:52:05.413

在您的 HTML 中，您将所有 boxgray 的宽度设置为 283px。只需删除它，它应该没问题！

# java - 编写升级工具的通用方法是什么

> ID：15472453
> 
> 赞同：5
> 
> 时间：2013-03-18T08:29:39.717
> 
> 标签：java, installation

我需要为一个简单的 java 应用程序编写一个升级工具。它应该适用于现有的安装目录，并更新属性和二进制文件。它不应该破坏现有目录以允许“撤消”，以防它在处理过程中失败。

我正在考虑以下一般算法：

1.  在现有目录旁边创建新目录
2.  将新的二进制文件提取到新目录中
3.  复制并合并任何需要从旧目录复制到新目录的内容
4.  将旧目录重命名为whatever.tmp.random#
5.  将新目录重命名为旧目录的原始名称
6.  删除旧目录

是否有已知的模式或免费的第 3 方包可以在 Java 中进行升级？我不想要/不需要昂贵的安装产品。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:11:57.643

您对如何进行升级的想法非常准确。由于升级过程对您的应用程序来说是独一无二的，因此第三方库和诸如此类的东西可能不会太有用。我建议只编写自己的升级方法。

# java - 字段中的列“所有者”不明确

> ID：15472454
> 
> 赞同：-1
> 
> 时间：2013-03-18T08:29:42.587
> 
> 标签：java, mysql, jdbc

我在 java 中使用 MySQL。

我正在尝试更新表“regApartmentsTable”、“gardApartmentsTable”、“penthousesTable”之一中的“所有者”字段，该表为空，对应于特定的公寓编号和街道，并将其替换为字符串“newOwners”。

为此，我编写了以下代码：

```
st=connection.prepareStatement("UPDATE regApartmentsTable,gardApartmentsTable,penthousesTable SET owners=? " +
                "WHERE owners=? AND apartmentNum=? AND street=?");
st.setString(1, newOwners);
st.setString(2, "");
st.setInt(3, apartmentNum);
st.setString(4, streetName+" "+buildingNum); 
```

我包括 3 个表格，因为我需要查看所有表格。（所需的公寓，没有所有者，并且与公寓编号和街道相匹配，如果它可以帮助任何人，则不能在一张以上的桌子上）。

但是，当我尝试运行此代码时，我收到“字段中的列‘所有者’不明确”错误。任何想法我应该如何编写 SQL 命令？提前谢谢！

澄清（来自较早的问题）：好的，我知道由于“所有者”字段在这三个表中很常见，所以会引发异常。然而，我该如何解决这个问题？我无法在表格名称中添加前缀（例如 regApartmentsTable.owners），因为我不知道要在哪个表格中找到所需的公寓……如果我知道，我就不会在 3 个表格中进行搜索。

任何人都可以提出解决方案吗？我是否应该首先在 3 个表格中进行搜索，然后更新包含相应公寓的表格？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:35:49.500

您不能使用查询一次更新 3 个表。仅通过过程即可。

# ssl - 为什么部署 TLS 对许多客户端开发人员来说是一个重大障碍

> ID：15472455
> 
> 赞同：0
> 
> 时间：2013-03-18T08:29:50.477
> 
> 标签：ssl, oauth-2.0, rfc

我对**RFC 6749**有一个关于***OAuth 2.0***的问题。

在本节中，我读到：

> 3.1.2.1。 *端点请求机密性*
> 
> 当请求的响应类型是“代码”或“令牌”时，或者当重定向请求将导致
> 通过开放网络传输敏感凭证时，重定向端点应该要求使用 1.6 节中描述的 TLS。该规范
> 并未强制使用 TLS，因为在撰写本文时，
> 要求客户端部署 TLS 对许多
> 客户端开发人员来说是一个重大障碍。如果 TLS 不可用，授权服务器应该在
> 重定向之前警告资源所有者关于不安全的端点（例如，在授权
> 请求期间显示一条消息）。
> 
> 缺乏传输层安全性会对客户端的安全性及其有权 访问
> 的受保护资源产生严重影响。 当授权过程被客户端用作一种 委托的最终用户身份验证形式（例如，第三方 登录服务）时
> ，传输层安全性的使用尤其重要。

..尤其：

> *该规范并未强制使用 TLS，因为在撰写本文时，要求客户端部署 TLS 对许多客户端开发人员来说是一个重大障碍。*

为什么部署 TLS 对许多客户端开发人员来说是一个重大障碍？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T12:02:34.897

公钥基础设施非常复杂，即使在客户端也没有多少开发人员足够了解它以正确实施它。这会导致虚假安全，这比没有安全还要糟糕（因为它会误导人们）。

举个例子，我记得最近的一项研究表明，在许多 Android 应用程序中，客户端软件使用 SSL/TLS，但接受任何未经适当验证的证书。这导致了 MITM 攻击的可能性，更糟糕的是，用户（设备所有者）认为他是安全的，而实际上他不是。

更糟糕的是，开发人员不想投资与安全相关的教育，因为这不会增加利润。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-31T22:57:24.557

这篇文章很不幸，我将打开一个针对 RFC 6749 的编辑勘误表。我对这种语言的理解是，它意味着允许“本地客户端”（桌面/平板电脑/移动应用程序）提供非 SSL URL。通常，这采用“自定义 URL 方案”的形式。

这个想法是浏览器将“本地重定向”到这些客户端并为它们提供授权代码。因此代码永远不会通过网络传输，因此不需要安全的重定向 URL。当重定向 URL 的格式为 http localhost:xyz/redirect_endpoint 时，类似的考虑也适用。

Generally speaking, developers dont have to do anything to deploy against SSL. It is the admins who would have to spin up a https port and deploy an application endpoint on a web server. This is a common deployment scenario. But again, this is not usually practical for a native client.

# php - 代数项的字符串连接

> ID：15472456
> 
> 赞同：2
> 
> 时间：2013-03-18T08:29:50.867
> 
> 标签：php, string

我想添加两个整数并将它们的结果连接到一个字符串，即：

将 1 添加到`$i`，并将结果连接到字符串`'icon'`。我认为以下语法会起作用：

```
$x = 'icon'.$i+1; 
```

但是它并没有做我想做的事-它不断返回 value `'icon1'`，而忽略`$i`.

做我想做的事的正确方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:33:32.163

尝试：

```
$i = 0; // init $i
$x = 'icon'.($i+1); 
```

如果要定期增加`$i`变量：

```
$x = 'icon'.(++$i); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T08:33:56.953

试试这个 ：

```
$temp = $i+1;
$x = 'icon'.$temp; 
```

由于“运算符优先级”，您得到了错误的答案，

参考此链接： http: [//php.net/manual/en/language.operators.precedence.php](http://php.net/manual/en/language.operators.precedence.php)

在这里看到这一行：`left + - . arithmetic and string`

`.`具有比 更多的优先级`+`，因此您的表达式将如下所示：`$x = ('icon'.$i)+1;`

要解决它，请使用我上面提到的方法或 hsz 答案

IE ：`$x = 'icon'.($i+1);`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-18T08:36:03.160

[运算符优先级](http://php.net/manual/en/language.operators.precedence.php)解释了为什么会发生这种情况。

您可以使用括号：

```
$x = 'icon'.($i+1); 
```

这应该可以完成这项工作。

我的测试：

```
$i = 18;
$x = 'icon'.($i+1);
var_dump($x);

--> string(6) "icon19" 
```

# regex - 在数组中搜索和替换

> ID：15472457
> 
> 赞同：0
> 
> 时间：2013-03-18T08:29:52.497
> 
> 标签：regex, perl, replace

假设我有一个包含以下数据的数组

```
@array = ('/root/level1','/root/level2',
          '/root/level1/level2','/root/level1/level2/level3') 
```

我想遍历这个数组并将每个元素替换为最后一个单词

```
@array = ('level1','level2','level2','level3') 
```

我不擅长正则表达式，有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-18T08:36:04.983

使用拆分和映射：

```
@array=map{(split(/\//,$_))[-1]}@array; 
```

使用正则表达式：

```
@array=map{m|.*/(.*)|}@array; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-18T10:32:43.843

当您有[`File::Basename`](http://search.cpan.org/perldoc?File%3a%3aBasename)模块为您完成工作时，为什么要使用正则表达式。它是 Perl 5 中的核心模块。

```
use strict;
use warnings;
use Data::Dumper;
use File::Basename;

my @array = ('/root/level1',
             '/root/level2',
             '/root/level1/level2',
             '/root/level1/level2/level3');

@array = map basename($_), @array;
print Dumper \@array; 
```

**输出：**

```
$VAR1 = [
          'level1',
          'level2',
          'level2',
          'level3'
        ]; 
```

# mysql - 运动计数

> ID：15472465
> 
> 赞同：1
> 
> 时间：2013-03-18T08:30:14.220
> 
> 标签：mysql, select, count, sum, union

Helo，我有一张桌子：

```
from | to   | item | count
-------
Jack | Danie| food | 10
Danie| Maria| food | 2
Jack | Peter| drink| 9
Jack | Danie| water| 1
Danie| Jack | food | 3
Jack | Alise| baks | 4 
```

我如何在杰克中找到“项目”的数量？

我的代码：

```
select sum( q1.count) as s  from (
            SELECT count, item  FROM item_movements WHERE  to = 3
            union All
            SELECT  count*-1, item  FROM item_movements WHERE from =3
            ) q1
group by item
having sum(q1.count) > 0 
```

我的想法：从所有项目中取出所有项目，然后将所有项目合并，求和并计数，但是如果我添加 select count()... 它不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T07:04:42.810

没有子查询：

```
SELECT SUM( IF( `from` = 'Jack', `count`, `count` * -1 ) ) `delta`
FROM `item_movements`
WHERE `from` = 'Jack' OR `to` = 'Jack' 
```

（如果 'Jack' 和 'Jack' 之间有任何移动，这将失败）

# magento - 使用 Magento 实现 Zurb Foundation 4 但与原型脚本发生冲突

> ID：15472468
> 
> 赞同：0
> 
> 时间：2013-03-18T08:30:52.613
> 
> 标签：magento, zurb-foundation

我正在尝试使用 Magento 实现 Zurb Foundation 4，但与prototype.js 存在冲突。我正在使用 jQuery.noConflict() 但似乎foundation.js 脚本总是调用原型“每个”函数而不是jQuery。

错误：TypeError：iterator.call 不是函数 -prototype.js（第 825 行）

这是在foundation.js中调用“each”的地方：

```
return jQuery(this).each(function () {
   Foundation.init.apply(Foundation, [this].concat(args));
   return this;
}); 
```

我尝试使用 jQuery(this).each 而不是 this.each 但它不起作用。我做错了什么？有没有人有其他建议该怎么做，或者有人设法让它发挥作用？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T07:56:36.940

好吧，我已经进行了一些测试，似乎现在可以使用。当您进行基础的初始化时，请使用此代码

```
jQuery(document).ready(function(){
    jQuery(document).foundation(function (response) {
        console.log(response.errors);
    });
}); 
```

您可以评论“console.log(response.errors);”。有关更多信息，您可以关注[https://github.com/zurb/foundation/issues/1929上的问题](https://github.com/zurb/foundation/issues/1929)

# ios - Objective-C中计算的浮点数的奇怪值

> ID：15472470
> 
> 赞同：0
> 
> 时间：2013-03-18T08:30:58.440
> 
> 标签：ios, objective-c, c

我的应用程序是这样计算的。

```
float containTaxValue = 840;
float taxRate = 5;
float divisionedNum = (100 + taxRate)/100;
float removedTaxValue = containTaxValue/divisionedNum;
float taxValue = containTaxValue - removedTaxValue; 
```

最后答案是

```
NSLog(@"%f",removedTaxValue); => 800.000061
NSLog(@"%f",containTaxValue); => 840.000000
NSLog(@"%f",taxValue); => 39.999939 
```

我想在这段代码中得到“taxValue == 40.000000”。

我无法理解有什么问题。请让我知道任何建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:47:59.920

IEEE 754 标准是一种以机器易于操作的方式存储浮点数的方法。该方法由处理器的 INtel 和 mot 使用。

IEEE 754 规定数字以二进制格式存储，以减少存储需求，并允许所有微处理器上可用的内置二进制算术指令以相对快速的方式处理数据。然而，一些简单的、不重复的十进制数会被转换成重复的二进制数，不能完全准确地存储。

1/10 可以用十进制形式表示 .1

但在二进制形式中，它变成：.0001100011000111000111（等等）

```
And Hence the rounding-off error occurs. 
```

您必须将其转换`int`为四舍五入。

1.05 的二进制转换也在 00111111 10000110 01100110 01100110....

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T08:35:14.507

`float`不能精确地表示许多值，例如 1.05。出现舍入错误并延续到最终结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T08:41:59.460

如果您不确定点后的数字有多长，您可以使用`%.6f`simple`%f`在点后打印精确的 6 位数字，以四舍五入您可以使用`ceil(double)`函数的值，*它会将值四舍五入*。

只有`%f`，

```
float taxValue = 39.999999; // you've 6 digits after dot
NSLog(@"%f",ceil(taxValue)); 
```

输出，40.000000

与`%.6f`,

```
float taxValue = 39.99; // you've only 2 digits after dot but still you want to show 6 digit
NSLog(@"%.6f",ceil(taxValue)); 
```

输出，40.000000

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-18T08:52:17.557

要四舍五入浮点值，您可以使用以下代码

```
float A,B; // this variables have to be floats!
int roundDown = floor(A/B); // rounded down
int roundUp = ceil(A/B); // rounded Up
int rounded = lroundf(theFloat); //rounded 
```

结果 int 值再次转换为 float

希望这可以帮助 ！！！

# integration - 如何在不同的机器上集成 HP QC 9.2 和 HP QTP 11.0

> ID：15472476
> 
> 赞同：0
> 
> 时间：2013-03-18T08:31:46.440
> 
> 标签：integration, qtp, hp-quality-center

我正在尝试将 QC 9.2 与 QTP 11.0 集成。

QC 9.2 安装在我的本地机器上，而 QTP 11.0 安装在其他远程机器上。我希望我的 QC 能够与 QTP 11 通信以运行测试脚本。

请帮助我，请注意，我对 QC 和 QTP 都很陌生。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T11:45:29.853

在单击运行之前，您可以在测试实例的 QC 的 testlab 中执行相同的操作，您将看到在主机上运行的选项或在远程主机中本地运行的选项，您指定必须在同一网络中的远程机器名称。同时在远程机器上你必须安装远程代理，并在 qtp 选项的测试运行中检查是否允许其他 hp 产品。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T13:43:38.527

这一切都记录在手册中。

简而言之：

*   您需要在 QTP 机器上安装**QTP 插件的 QC 连接。**它使您的 QTP 能够访问存储在 QC 项目中的内容，并允许工具执行 QTP 测试。

*   **如果您为 QC 安装QTP 插件，**那么这样的工具之一就是QC 。它使 QC 能够托管（集成、存储）QTP 测试，直接启动 QTP，以及在 QC 的测试实验室内安排和执行 QTP 测试执行。

*   如果你想使用版本控制，你需要（据我记得）安装适当的 QC 功能选项（额外的许可证成本）。

请做好准备，旧版本的 QC 不能很好地与新版本的 QTP 集成，反之亦然。

此外，QC/QTP 的每个 .0 版本通常在集成方面并不完善，通常 HP 需要一两个补丁才能工作。

强烈建议仅在您有有效的维护协议时尝试此集成，因为需要考虑很多细节。

（抱歉，我不能 100% 确定哪些附加组件称为附加组件，哪些是附加组件，但是嘿……）

# c#-4.0 - 如何舍入双倍金额？

> ID：15472480
> 
> 赞同：0
> 
> 时间：2013-03-18T08:32:12.037
> 
> 标签：c#-4.0, math, rounding

我如何四舍五入货币价值？

我基本上有以下代码，但它并没有真正做我想做的事情。

```
double amount = 1.236356789;
Math.Round(amount, 2, MidpointRounding.ToEven); 
```

我希望输出为 1.23。

# jquery - ajax请求jquery后找不到正确的div

> ID：15472485
> 
> 赞同：0
> 
> 时间：2013-03-18T08:32:30.677
> 
> 标签：jquery, html, ajax

对于我的项目，我加载一个 html 文件以`div`通过直接将 html 内容插入到 s来填充`div`s。问题是，我有很多元素，其中包含相同 id 的 div。这会导致选择正确的问题，即`$('#div_name')`. 它总是找错一个。

[例子](http://jsfiddle.net/fBsF7/2/)

我怎么解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:33:48.057

**更新**

```
$('.to_be_filled:eq(1)').children('#graph_container').css('background-color', 'red');
$('.to_be_filled:eq(2)').children('#graph_container').css('background-color', 'green'); 
```

由于 eq() 提供的索引是从零开始的，要选择第 2 和第 3，您需要选择 eq(1),eq(2)...

[这是小提琴](http://jsfiddle.net/fBsF7/3/)

# php - 如何使用php拆分no系列

> ID：15472486
> 
> 赞同：0
> 
> 时间：2013-03-18T08:32:30.697
> 
> 标签：php

```
 Array([0] =>  1,2,3,4,5) 
```

这是我的代码中的输入模式。我必须拆分此值并需要如下输出

```
Array ( [0] => 1, [1] =>2, [2] => 3, [3] =>4, [4] =>5 ) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:34:14.877

试试喜欢

```
$avalues="1,2,3,4,5";
$myarray = explode(',',$avalues);
print_r($myarray); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:34:21.957

尝试爆炸

```
$vals = explode("," $avalues); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T08:35:18.540

```
$avalues="1,2,3,4,5"; 
$array = explode(',',$avalues);
print_r($array); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-18T08:39:18.090

这可能是解决方案，

```
 $avalues="1,2,3,4,5"; 
  $a = explode(',',$avalues);
  var_dump($a); 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-03-18T08:37:25.690

您需要使用explode() 函数来根据字符爆炸字符串。

```
 $avalues      ='1,2,3,4,5';  
 $exploded_arr = explode(',' , $avalues);

 foreach($exploded_arr as $key=> $value)
 {
    $exploded_arr[$key] = $value.",";
 }

 echo "<pre>";
 print_r($exploded_arr);
 echo "</pre>"; 
```

文档链接：[http ://www.w3schools.com/php/func_string_explode.asp](http://www.w3schools.com/php/func_string_explode.asp)

# sql - 使用分析函数删除重复行

> ID：15472492
> 
> 赞同：0
> 
> 时间：2013-03-18T08:33:26.230
> 
> 标签：sql, oracle, duplicates, rows, analytical

我们可以使用分析函数删除重复的行吗？我的意思是在 Oracle 的 Sql 查询中使用`row_number()`or `rank`or dense_rank() ？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T08:59:51.927

您可以使用`ROW_NUMBER()`对您来说应该是唯一的列分区，例如：`ROW_NUMBER() OVER (PARTITION BY COLUMN1, COLUMN2 ORDER BY COLUMN1)`. 每个行号 > 1 的结果都是重复的。

然后，您可以例如返回这些的 rowid 并删除它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T09:10:53.480

我们可以使用`Analytical Functions`或任何其他方式`Aggregate Functions`，如 'DISTINCT' 来找出我们的表中是否有重复项

喜欢使用`Analytical Functions`

```
select col1,col2,col3 from (select tbl.*,rowid rid,row_number() over (partition by col1,col2,col3 order by col1) rnum
from tbl) where rnum>1; 
```

但是要删除它们，我们需要获取`ROWID`那些`rnum>1`

```
delete from tbl where rowid in 
(select rid from (select tbl.*,rowid rid,row_number() over (partition by col1,col2,col3 order by col1) rnum
  from tbl) where rnum>1) 
```

否则我们可以简单地使用

```
 create new_table as select distinct * from old_table 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-18T08:45:51.617

是的。但是使用聚合函数可以使它更简单一些

```
-- delete duplicates
delete from table t1
where t1.rowid not in (
   select min(t2.rowid)
   from table t2
   group by t2.col1, t2.col2, ...
) 
```

[小提琴](http://www.sqlfiddle.com/#!4/a4f02/1)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-02-03T12:22:41.927

按照以下步骤在不使用 rowid,rownum 的情况下删除重复记录 1\. 创建表以存储原始表的不同值。

```
 create table newtable as select distinct * from tablename; 
```

1.  从原始表中删除记录。

    ```
     truncate table tablename; 
    ```

2.  将临时表值插入原始表。

    ```
     insert into tablename select * from newtable; 
    ```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-10-04T21:39:28.103

```
DELETE FROM emp 
WHERE rowid IN
(
    SELECT rid from
    (
        SELECT rowid AS rid,
        DENSE_RANK() OVER(PARTITION BY empno ORDER BY rowid) AS rn
        FROM emp
    )
    WHERE rn > 1
); 
```

在这里您可以同时使用两者`RANK()`，`DENSE_RANK()`因为两者都会在 order by 时给出唯一的记录`rowid`。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-08-29T07:19:06.093

您可以使用此查询删除重复的行：

```
DELETE FROM EMP
WHERE ROWID IN
(
SELECT RID FROM
(SELECT ROWID RID,ROW_NUMBER() OVER(PARTITION BY DEPTNO ORDER BY ROWID) R FROM EMP) 
WHERE R>1
); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-02-04T02:29:06.617

假设我们要从 emp 表中删除重复的 sal：

```
select * from (
  select 
    empno, 
    ename, 
    sal, 
    row_number() over (partition by sal order by sal asc) rw_number
  from emp)
where rw_number = 1 
```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2016-03-01T18:00:12.870

这是你应该做的事情：

```
DELETE  FROM emp
WHERE   rowid IN (
        SELECT  rid
        FROM    (
                  SELECT    rowid rid ,
                            DENSE_RANK() OVER ( PARTITION BY empno ORDER BY rowid ) rn
                  FROM      emp
                ) AS RR
        WHERE   rn > 1 ); 
```

# c++ - 需要 WinAPI 的替代品

> ID：15472503
> 
> 赞同：0
> 
> 时间：2013-03-18T08:34:02.433
> 
> 标签：c++, windows, winapi, portability

由于我[最近的问题](https://stackoverflow.com/questions/15471904/is-there-an-easier-way-to-learn-programming-for-windows)已结束，因此对同一问题采取了不同的方法。

我发现尝试学习 winAPI 很困难，并且大多数时候不需要能够利用本机功能（感谢[Spook](https://stackoverflow.com/questions/15471904/is-there-an-easier-way-to-learn-programming-for-windows#comment21896688_15471904)），现在我需要一种不同的方法。

我更喜欢 C++ 并且对 Qt 有一点经验，但是因为我想[利用平台特定的特性](https://stackoverflow.com/questions/12784634/what-are-the-disadvantages-of-using-a-cross-platform-framework-to-develop-for-on)，所以 Qt 不是一个可行的解决方案。

我还关心可移植性，因此 .NET 可能不可行，除非有一种方法可以使用本地资源而不是 .net 框架安装程序中包含的资源。

因此，请**列举**我可以开始研究以完成这些事情的替代方案。

例如，如果我要制作像[这样](http://2010.thirteen23.com/experiences/desktop/continuum/)使用航空透明度的东西，或者如果我需要我的程序能够操作其他窗口，例如最小化/最大化它们，除了 winAPI 之外我还可以使用哪些工具？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:37:36.937

我不确定我是否理解，因为即使您使用 Qt（或任何其他 x 平台框架），也没有什么能阻止您使用特定于平台的功能。您只需针对您希望支持的不同平台将这些特定功能分隔在不同的编译单元中。仅此而已。

名义上，您在头文件中定义一个接口/类，然后您可以在多个不同的主体文件中实现该接口/类，每个文件都包含特定平台的实现，例如 Win32/Mac OS X /Linux。

头文件中的fi（.h文件）：

```
class MyXPlatformClass {
public:
   static std::string getMachineName();
} 
```

然后在 cpp 文件中实现这个“接口”：

赢32：

```
std::string MyXPlatformClass::getMachineName() {
   char buffer[256]; 
   GetComputerNameA(buffer, sizeof(buffer));
   return buffer;
} 
```

Mac OS X（和 Linux？）：

```
std::string MyXPlatformClass::getMachineName() {
   char buffer[256]; 
   gethostname(&buffer, sizeof(buffer));
   return buffer;
} 
```

这就是跨平台编码的完成方式，与您选择使用的框架无关。不过我推荐 Qt，因为它相当“完整”，这意味着它拥有几乎所有不需要使用平台特定代码的工具。但是如果你需要它，你可以使用上面的方法。

# r - 一个 data.frame 中给出的总计数到另一个 data.frame 中给出的日期

> ID：15472507
> 
> 赞同：1
> 
> 时间：2013-03-18T08:34:28.273
> 
> 标签：r, dataframe

我想`audit`用另一个数据框内的比较来更新一个数据框：

**`test`****：某个日期**的患者人数数据框：

```
test <- data.frame(
        date=as.Date(c("2012-12-12","2012-12-29","2013-01-15")),
        patients=c(4,7,3)
)
        date patients
1 2012-12-12        4
2 2012-12-29        7
3 2013-01-15        3 
```

**`audit`****：审计日期**的数据框：

```
audit <- data.frame(date=as.Date(c("2012-12-31","2013-01-31")),
         count=c(NA))
        date count
1 2012-12-31    NA
2 2013-01-31    NA 
```

Q：**`audit$count`**应该是UP TO**的患者总数**？**`test`****`audit$date`**

**这不起作用：**

```
audit$count <- sum(test[test$date < audit$date,]$patients) 
```

**怎么做最好？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:41:02.457

一种方法是使用`sapply`的值`audit$date`：

```
audit$count <- sapply(audit$date, function(x) sum(test$patients[test$date < x]))

        date count
1 2012-12-31    11
2 2013-01-31    14 
```

# wpf - 按属性替换 UserControl

> ID：15472512
> 
> 赞同：5
> 
> 时间：2013-03-18T08:34:55.637
> 
> 标签：wpf, mvvm, binding, user-controls

我有两个`User Control's`坐在 main `UserCotrol`。

只有其中一个应该是主要的。

当您更改 中的某些属性时`ViewModel`，我会像这样更改它们：

```
<UserControl>
    <ContentControl>
        <ContentControl.Style>
            <Style TargetType="{x:Type ContentControl}">
                <Setter Property="Content">
                    <Setter.Value>
                        <local:UserControl1/>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <DataTrigger Binding="{Binding IsTwo}" Value="True">
                        <Setter Property="Content">
                            <Setter.Value>
                                <local:UserControl2/>
                            </Setter.Value>
                        </Setter>
                    </DataTrigger>
                </Style.Triggers>
            </Style>
        </ContentControl.Style>
    </ContentControl>
</UserControl> 
```

当我将属性更改为时，`False`它`UserControl1`没有问题，但是当我将其更改`True`为时，显示出现问题，并且仅当我在适合的屏幕之间移动时，作为临时解决方案，我每次 UserControl 应该创建事件从 1 更改为 2 。当该事件运行时，我删除主`UserControl`并再次创建它。

**但是我的问题是为什么当我更改为一个时我不需要重新创建，而当我更改为两个时我可能需要？**

不要给我任何解决这个问题的想法（我自己做过），我想解释为什么会这样，这是我感兴趣的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-21T10:37:36.253

你的WPF很好；我无法重现您的问题；启动一个新的 WPF 应用程序并将其转储到其中：然后替换为您的用户控件（请记住，如果您希望它绑定到特定的东西，您可能需要在模板中绑定用户控件）

ViewModel.cs：

```
public class ViewModel : INotifyPropertyChanged
{
    private bool _isTwo;

    public bool IsTwo
    {
        get { return _isTwo; }
        set
        {
            _isTwo = value;
            OnPropertyChanged("IsTwo");
        }
    }

    public ICommand Switch
    {
        get { return new RelayCommand((_) => { IsTwo = !IsTwo; }, (_) => true); }
    }

    public event PropertyChangedEventHandler PropertyChanged;

    protected virtual void OnPropertyChanged(string propertyName)
    {
        PropertyChangedEventHandler handler = PropertyChanged;
        if (handler != null) handler(this, new PropertyChangedEventArgs(propertyName));
    }
}

public class RelayCommand : ICommand
{
    private readonly Action<object> _action;
    private readonly Func<object, bool> _predicate;

    public RelayCommand(Action<object> action, Func<object, bool> predicate)
    {
        _action = action;
        _predicate = predicate;
    }

    public bool CanExecute(object parameter)
    {
        return _predicate(parameter);
    }

    public void Execute(object parameter)
    {
        _action(parameter);
    }

    public event EventHandler CanExecuteChanged;
} 
```

主窗口

```
<Window.DataContext>
    <local:ViewModel/>
</Window.DataContext>

<DockPanel>
    <Button DockPanel.Dock="Top" Command="{Binding Switch}"> Switch </Button>
    <UserControl>
        <ContentControl >
            <ContentControl.Style>
                <Style TargetType="{x:Type ContentControl}">
                    <Setter Property="Content">
                        <Setter.Value>
                            <local:UserControl1 DataContext="{Binding UserControl1ViewModel}"/>
                        </Setter.Value>
                    </Setter>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding IsTwo}" Value="True">
                            <Setter Property="Content">
                                <Setter.Value>
                                    <local:UserControl2/>
                                </Setter.Value>
                            </Setter>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </ContentControl.Style>
        </ContentControl>
        </UserControl>
</DockPanel> 
```

创建两个新的（空的）用户控件并设置两种不同的颜色：

![离开](../Images/5defb89fb964209428553a0a8dca04bc.png) ![在](../Images/a4fa33622bff212edc66716b4e8a6cc6.png)

用您遇到问题的用户控制器替换其中之一。如果您有布局问题，您的用户控件很可能正在尝试调整自己的大小，或者您需要将它们放入更好的容器中。我将以上内容粘贴到 DockPanel 中。这通常非常擅长将控件扩展到可用空间。

[编辑]

因此，如果您想知道何时创建了什么，请将这些消息框添加到您的用户控件的 ctor 中

```
public UserControl1()
{
    InitializeComponent();

    MessageBox.Show("Created UserControl1");
}

public UserControl2()
{
    InitializeComponent();

    MessageBox.Show("Created UserControl2");
} 
```

对我来说，它们都是在应用程序启动时创建的。即 UserControl2 尚不可见，但已创建。有人会认为它在数据触发器切换之前不会被绑定；但是如果你*在你的用户控件中做一些代码隐藏*，那可能会搞砸 WPF。

# c# - Castle 动态代理 + Ninject 作为 DI 的问题

> ID：15472515
> 
> 赞同：2
> 
> 时间：2013-03-18T08:35:15.837
> 
> 标签：c#, .net, dependency-injection, ninject, castle-dynamicproxy

我试图为我的项目构建良好的架构，我决定使用`Ninject`DI 并`Castle project` `dinamic proxy`为我的存储库添加缓存。不幸的是，我得到了一个例外。这是我的代码：

```
public class NinjectImplementation : NinjectModule
{
    public override void Load()
    {
        // Binding repositories
        var assembly = Assembly.GetAssembly(typeof(UserRepository));
        var types = assembly.GetTypes()
             .Where(t => t.Name.EndsWith("Repository") && !t.Name.StartsWith("I"));
        ProxyGenerator generator = new ProxyGenerator();
        //CacheInterceptor cacheInterceptor = 
        foreach (var type in types)
        {
            var interfaceType = type.GetInterfaces().Single();
            var typeWithCaching = generator.CreateClassProxy(type, new MyTestShop.Infrastructure.Caching.CacheInterceptor());

            Bind(interfaceType).To(typeWithCaching.GetType()).InThreadScope();
        }
        ...//Service layer injection
    }
} 
```

所以我注入的不是我的存储库的实现，而是存储库的代理类（带有缓存）。

这是我`IInterceptor`的实现`Castle dinamic proxy`：

```
[Serializable]
public class CacheInterceptor : IInterceptor
{

    public void Intercept(IInvocation invocation)
    {
        int argumentCount = invocation.Arguments.Length;
        if (argumentCount > 1)
        {
            invocation.Proceed();
            return;
        }
        String methodNameInLower = invocation.Method.Name.ToLower();
        if (methodNameInLower.StartsWith("get"))
        {
            String cachePath = invocation.TargetType.FullName + "_" + invocation.Method.Name + "_" + invocation.Arguments[0].ToString();
            CacheHelper.Get(cachePath);
            //DO SOMETHING
            return;
        }

    }
} 
```

`_kernel.Get<T>()`我在以下方法中遇到的异常`Ninject DI container`：

> *   使用 IInterceptor Provider 的条件隐式自绑定激活 IInterceptor 时出错，返回 null。*
> 
> 激活路径： 3）将依赖IInterceptor注入到UserRepositoryProxy类型的构造函数的参数中 2）将依赖IUserRepository注入到UserService类型的构造函数的参数userRepository 1）对IUserService的请求
> 
> 建议： 1) 确保提供者正确处理创建请求。
> 
> 说明：执行当前 Web 请求期间发生未处理的异常。请查看堆栈跟踪以获取有关错误及其源自代码的位置的更多信息。
> 
> 异常详细信息：Ninject.ActivationException：使用 IInterceptor Provider 的条件隐式自绑定激活 IInterceptor 时出错，返回 null。激活路径： 3）将依赖IInterceptor注入到UserRepositoryProxy类型的构造函数的参数中 2）将依赖IUserRepository注入到UserService类型的构造函数的参数userRepository 1）对IUserService的请求
> 
> 建议： 1) 确保提供者正确处理创建请求。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T08:50:01.930

我终于找到了我的问题的答案。问题是我的代理不是类型而是类型的实例，所以我这样修复它：

```
var interfaceType = type.GetInterfaces().Single();

var proxy = generator.CreateClassProxy(type,
    new Type[] { interfaceType },
    new IInterceptor[]
    {
        new CacheInterceptor(), 
        new LoggingInterceptor()
    });

// I'm using directive ToConstant(..), and not To(..)
Bind(interfaceType).ToConstant(proxy).InThreadScope(); 
```

# php - 在哪里存储html页面更好？

> ID：15472516
> 
> 赞同：-2
> 
> 时间：2013-03-18T08:35:17.220
> 
> 标签：php, codeigniter

将 html 页面存储在数据库中还是文件本身中哪个更好？

如果我有很多文件：

用户/登录.php

用户/register.php

用户/somethingElse.php

文章/index.php

文章/view.php

文章/东西Else.php

并将所有代码存储在那里，或者将这些页面作为 html 存储在数据库中，然后仅将其呈现为一个文件 content.php？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:50:02.423

我可以说将 HTML 存储到文件中比 DB 好得多，因为

```
1)For retrieving data also you need to perform DB operations as well,so it may stuck DB somewhere when load is become a 'real load' to operate DB
2)A DB can crash but a file cont much when compared to DB
3)If you want to change the HTML you need to perform agian update operation for that which makes big issue for an developer to work 
4)And also in DB you need to store HTML tags,other things using 'htmlentities' which causes conflict 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:37:33.670

您可以将 HTML 代码存储在 PHP 文件中，也可以使用 HTML 文件并让 PHP 获取这些文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T08:51:54.240

我喜欢这样做的方式是在我的 root:/index.php-file 中保留尽可能多的 HTML，然后根据用户想要查看的页面加载我需要的文件。

Fx 用户想查看我将它们发送到 index.php?page=articles 的文章，加载页面布局并包含（“articles/index.php”）；这也将让您使用 htaccess 使 url 看起来更好。

但作为一般规则，不要在 SQL 中保留 HTML 代码，除非它是用户提交的东西。

# actionscript-3 - 通过 FileReference 取消上传的文件

> ID：15472525
> 
> 赞同：2
> 
> 时间：2013-03-18T08:36:09.240
> 
> 标签：actionscript-3, apache-flex, flex4, filereference

我在 Flash 中有一个取消文件上传的回调，并从 javascript 执行：

```
 public function initApp():void 
        {                               
            ExternalInterface.addCallback("cancelUpload", cancelUploadRequest);
        }                       

        public function cancelUploadRequest(filename:String):void 
        {                                       
            for each (var file:FileReference in files.fileList) {                                       
                if (file.name == filename) {                        
                    file.cancel();                      
                }
            } 
        } 
```

其中 files 是包含所选文件的文件引用列表对象。如果我选择多个文件并调用 2 次或更多次此回调，则只有一个文件被取消，另一个文件已成功上传。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T09:35:18.517

在您的代码中：

```
 if (file.name == filename) { 
```

此行仅检查和验证一个文件（如果它在列表中）并启用删除它。

# input - 如何弹出文本框以像消息框一样输入？

> ID：15472528
> 
> 赞同：0
> 
> 时间：2013-03-18T08:36:11.693
> 
> 标签：input, combobox, popup, messagebox

您好，我使用 c# 并希望在组合框内放置一些新值，因此搜索**如何弹出文本框或任何其他输入控件以将值放入其中，这将发送到组合框？**

基本上我想为组合框创建输入，它会像消息框一样弹出，只是为了获得一些输入值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:40:55.007

您可以轻松地在 Javascript 中执行此操作，而不是使用提示框。

# wordpress - Wordpress - 空 p 标签

> ID：15472531
> 
> 赞同：0
> 
> 时间：2013-03-18T08:36:18.277
> 
> 标签：wordpress, tags

我得到了无法使用 jQ 删除的空 p 标签，也无法在源代码中看到它们。它们是由移动主题添加的，只能通过浏览器工具查看。我不认为 jQ 正在添加它们......

[http://war-mobile.h2client.com/pillar/residential/?wpmp_switcher=mobile](http://war-mobile.h2client.com/pillar/residential/?wpmp_switcher=mobile)

在“我们提供，就在顶部的白色 div 边框下方。我知道如何解决问题，就像我在上面所做的那样，（[raw]）但我很好奇为什么会这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T21:38:05.700

将以下内容添加到主题中的 functions.php 文件中：

```
add_filter('the_content', 'remove_empty_p', 20, 1);
function remove_empty_p($content){
$content = force_balance_tags($content);
return preg_replace('#<p>\s*+(<br\s*/*>)?\s*</p>#i', '', $content);
} 
```

# joomla - 获取组件外的joomla组件当前页面标题

> ID：15472532
> 
> 赞同：1
> 
> 时间：2013-03-18T08:36:21.597
> 
> 标签：joomla

我正在使用 joomla 2.5，我想将当前组件页面标题放在组件之外。例如，我需要获取 joomshopping 组件当前页面标题并将其放在模板中的任何位置。

我找到了一个解决方案：

```
<?php $mydoc =& JFactory::getDocument();$mytitle = $mydoc->getTitle();echo $mytitle; 
 ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T11:46:59.727

这是解决方案：

```
<?php $mydoc =& JFactory::getDocument(); $mytitle = $mydoc->getTitle(); echo $mytitle; ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:13:56.633

我假设您已经为该组件创建了菜单项。在模板中，它很简单：

```
<?php echo $this->title; ?> 
```

# c# - 构建时出现错误

> ID：15472534
> 
> 赞同：0
> 
> 时间：2013-03-18T08:36:29.537
> 
> 标签：c#, asp.net

有一段时间一切都很好。然后，出乎意料的是，当我即将启动应用程序时，Visual Studio 未能构建。我收到警告“无法删除文件 '...bin\Debug[ProjectName].exe'。对路径 '...bin\Debug[ProjectName].exe' 的访问被拒绝。” 和错误“无法将文件 'obj\x86\Debug[ProjectName].exe' 复制到 'bin\Debug[ProjectName].exe'。进程无法访问文件 'bin\Debug[ProjectName].exe'，因为它正在被另一个进程使用。” （我在运行 Rebuild 时同时收到警告和错误，但在运行 Build 时只收到错误 - 认为这不相关吗？）

我完全理解警告和错误消息所说的内容：Visual Studio 显然正试图覆盖 exe 文件，同时由于某种原因它同时被锁定。但是，这并不能帮助我找到问题的解决方案......我发现唯一有效的方法是关闭 Visual Studio 并重新启动它。构建和启动然后工作，直到我对某些表单进行更改，然后我再次遇到同样的问题并且不得不重新启动......非常令人沮丧！

正如我上面提到的，这似乎是一个已知问题，因此有很多建议的解决方案。我将在这里列出我已经尝试过的内容，以便人们知道要跳过的内容：

创建一个新的干净解决方案，然后从旧解决方案中复制文件。将以下内容添加到项目的预构建事件中：

```
if exist "$(TargetPath).locked" del "$(TargetPath).locked" 
  if not exist "$(TargetPath).locked" if exist "$(TargetPath)" move "$(TargetPath)" "$(TargetPath).locked" 
```

将以下内容添加到项目属性（.csproj 文件）：

```
<GenerateResourceNeverLockTypeAssemblies>true</GenerateResourceNeverLockTypeAssemblies> 
```

然而，它们都不适合我，所以你可能会明白为什么我开始有点沮丧。我不知道还能去哪里看，所以我希望有人能给我一些东西！这是VS中的一个错误，如果是，有补丁吗？或者我做错了什么，我有循环引用或类似的，如果有，我怎么能找到？

任何建议都非常感谢:)

更新：正如下面评论中提到的，我还使用 Process Explorer 检查了它实际上是锁定文件的 Visual Studio。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:40:15.020

在打开调试会话之前，您必须关闭执行中的会话。

您可以尝试杀死 vshost.exe 进程：

```
taskkill /F /IM ".....vshosts.exe" 
```

链接： http: [//msdn.microsoft.com/en-us/library/ms185330 (v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/ms185330(v=vs.100).aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T08:40:39.547

在我看来，您已经`\debug\OEE.windows.exe`通过双击文件系统中的 exe 手动运行该文件。您正在尝试从 Visual Studio 构建您的项目。Visual Studio 在构建期间会做的是它会创建新文件`oee.windows.exe`，但它无法这样做，因为同名的文件已经存在并且正在被进程使用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-18T08:38:42.453

关闭程序“OEE.Windows.exe” - 您可能正在对其进行测试并尝试在不先关闭它的情况下进行重建。

# android - 在另一个类中执行异步任务后刷新微调器/视图

> ID：15472539
> 
> 赞同：0
> 
> 时间：2013-03-18T08:36:40.850
> 
> 标签：android, asynchronous

我的应用程序在主要活动上有一个微调器，内容是从 sqlite 加载的。我的应用程序确实为用户提供了一个下载选项，可以从服务器下载最新数据。而异步下载任务在另一个类。

所以我的问题是，一旦下载过程完成，我如何刷新主的活动微调器？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:03:52.190

像这样试试。

1）创建回调接口

```
 public interface DownloadCompleted {
        // Define your Data type to which you want to store data after AsycTask completion
        public void onTaskComplete(String result);
    } 
```

2) 异步任务

```
 public class UploadAsyncTask extends
            AsyncTask<String, Void, String> {
        private ProgressDialog Dialog;
        String response = "";
        Activity _context;
        private DownloadCompleted callback;

        public UploadAsyncTask (Activity _context) {
            this._context = _context;
            this.callback = (DownloadCompleted ) _context;
        }

        @Override
        protected void onPreExecute() {
            Dialog = new ProgressDialog(_context);
            Dialog.setMessage("Loading...");
            Dialog.show();

        }

        @Override
        protected String doInBackground(String... urls) {
            try {
                String url= urls[0];
                //Do your operation
            } catch (Exception e) {
            }
            return response ;

        }

        @Override
        protected void onPostExecute(String result) {
            Dialog.dismiss();
            callback.onTaskComplete(result);

        }

    } 
```

3）在你的调用Activity中实现接口

```
public class YourActivity extends Activity implements DownloadCompleted {   

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        new UploadAsyncTask (this).execute(YOUR URL String);

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.rss_reader, menu);
        return true;
    }

    @Override
    public void onTaskComplete(String result) {
        // Refresh your view here
                // use result data as after completion AsycTask
    }

} 
```

如需更多帮助和源代码，请访问以下链接。

[http://amitandroid.blogspot.in/2013/02/android-rssfeed-with-async-task-example.html](http://amitandroid.blogspot.in/2013/02/android-rssfeed-with-async-task-example.html)

# windows-8 - Caliburn Micro 和依赖属性绑定不起作用

> ID：15472547
> 
> 赞同：1
> 
> 时间：2013-03-18T08:37:20.167
> 
> 标签：windows-8, user-controls, windows-runtime, dependency-properties, caliburn.micro

我正在创建一个在其页面中包含用户控件的 WinRt 应用程序，并且我正在将 MVVM 与 Caliburn Micro 一起使用。在用户控件中，我有一个依赖属性，我将其绑定到我的视图模型中的集合，但绑定不起作用，至少在我更改模拟器的 rezolution 之前不会。我进入调试模式，用户控件的数据上下文为空，但是当我更改 rezolution 并在“SizeChanged”事件中命中断点时，我可以看到我的用户控件已正确绑定。现在我不知道是什么导致了这种延迟，因为它应该在页面加载的那一刻被绑定，但事实并非如此。代码是这样的：

我的页面.xaml

```
<MyControl Users="{Binding MyUsersCollection, Mode=TwoWay}"></MyControl> 
```

MyControl.xaml.cs

```
public ObservableCollection<User> Users
    {
        get { return (ObservableCollection<User>)GetValue(UsersProperty); }
        set
        {
            SetValue(UsersProperty, value);
            LoadInfo();
        }
    }

    public static readonly DependencyProperty UsersProperty =
        DependencyProperty.Register("Users", typeof(ObservableCollection<User>), typeof(MojoMap), new PropertyMetadata(new ObservableCollection<User>())); 
```

你能帮我弄清楚这里有什么问题吗？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T15:15:45.567

你能试试这个：

```
public ObservableCollection<User> Users
{
    get { return (ObservableCollection<User>)GetValue(UsersProperty); }
    set
    {
        SetValue(UsersProperty, value);
    }
 }
 public static readonly DependencyProperty UsersProperty =
    DependencyProperty.Register("Users", typeof(ObservableCollection<User>), typeof(MojoMap), new PropertyMetadata(null, UsersChanged));

private static void UsersChanged(DependencyObject dependencyObject, DependencyPropertyChangedEventArgs dependencyPropertyChangedEventArgs)
{
    ((MojoMap) dependencyObject).LoadInfo();
} 
```

# leaflet - 使用传单查找在两点之间旅行的路线距离和时间

> ID：15472553
> 
> 赞同：0
> 
> 时间：2013-03-18T08:37:43.903
> 
> 标签：leaflet, cloudmade

我可以使用云模式和传单找到两点之间的路线。 [https://gis.stackexchange.com/questions/49608/cloudmade-routing-with-leaflet-route-is-not-displayed/](https://gis.stackexchange.com/questions/49608/cloudmade-routing-with-leaflet-route-is-not-displayed/)

但我也想找到从第一点到最后一点的距离和时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T11:09:35.937

你参考这个函数...函数mapload（）{

```
 var APIKEY = '63ea548e228e44efa4cbe2cc1d82b62d';
            var map = new CM.Map('innerContainer', new CM.Tiles.CloudMade.Web({key: APIKEY}));
            screenSize();
            window.onresize = function(event) {
            screenSize();
            var resize = new CM.Size(document.getElementById('innerContainer').style.width,document.getElementById('innerContainer').style.height);
                    map.checkResize();
        map.setCenter(new CM.LatLng(11.590423, 77.817961), 15);

            }
        map.setCenter(new CM.LatLng(11.590423, 77.817961), 15);
        var directions = new CM.Directions(map, 'panel', '63ea548e228e44efa4cbe2cc1d82b62d');

        var waypoints = [new CM.LatLng(11.590423, 77.817961), new CM.LatLng(11.570621,78.745298)];
        directions.loadFromWaypoints(waypoints);
                    var topRight = new CM.ControlPosition(CM.TOP_RIGHT, new CM.Size(50, 20));
                    map.addControl(new CM.SmallMapControl(), topRight);
                    map.addControl(new CM.LargeMapControl());
                    map.addControl(new CM.ScaleControl());
                    map.addControl(new CM.OverviewMapControl()); 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T15:52:48.243

见回调`getRoute`参数`response`，有字段`route_summary`，有字段`total_distance`，但我认为它是直接距离。所以`responce`也有`route_instructions`字段，有`length`项目（id `1`），等于子路由距离（总而言之，它必须是真实距离）。请参阅文档：http: [//developers.cloudmade.com/wiki/routing-http-api/Response_structure](http://developers.cloudmade.com/wiki/routing-http-api/Response_structure)。

# behat - 是否可以在行为上下文中覆盖步骤定义？

> ID：15472556
> 
> 赞同：11
> 
> 时间：2013-03-18T08:38:02.983
> 
> 标签：behat

是否可以让子上下文类扩展另一个子上下文并覆盖函数？

目前我有

```
class TestContext extends BehatContext {
    /**
     * @Given /^a testScenarioExists$/
     */
    public function aTestscenarioexists() {
        echo "I am a generic test scenario\n";
    }
} 
```

和

```
class SpecialTestContext extends TestContext {
    /**
     * @Given /^a testScenarioExists$/
     */
    public function aTestscenarioexists() {
       echo "I am a special test scenario\n";
    }
} 
```

在功能上下文中，我告诉我们`SpecialTestContext`作为子上下文。

当我运行测试时抱怨

> [Behat\Behat\Exception\RedundantException]
> 步骤“/^a testScenarioExists$/”已在 SpecialTestContext::aTestscenarioexists() 中定义

有人可以指出我正确的方向吗？

为了提供一些关于我为什么要尝试实现这一点的更多信息，我想要实现的是能够在不同的环境中运行场景，并在小黄瓜文件中指定环境，例如：

```
Scenario: Test with generic environment
Given I am in the environment "generic"
    And a test scenario exists

Scenario: Test with specialised environment
Given I am in the environment "specialised"
    And a test scenario exists 
```

然后我可以使用添加一些代码`FeatureContext`来加载正确的子上下文。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-07-23T16:52:12.783

正如 Rob Squires 所提到的，动态上下文加载将不起作用。

但是我确实有一个解决方法来覆盖我经常使用的步骤定义。 *不要注释你的方法*。Behat 将获取超类中被覆盖方法的注释，并将该方法名称映射到匹配步骤。当找到匹配的步骤时，将调用子类中的方法。为了清楚起见，我已经为此使用了@override 注释。@override 注释对 Behat 没有特殊意义。

```
class SpecialTestContext extends TestContext {
    /**
     * @override Given /^a testScenarioExists$/
     */
    public function aTestscenarioexists() {
       echo "I am a special test scenario\n";
    }
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-08T23:36:31.863

简而言之......这是不可能的： http: [//docs.behat.org/guides/2.definitions.html#redundant-step-definitions](http://docs.behat.org/guides/2.definitions.html#redundant-step-definitions)

在动态加载子上下文方面，这是不可能的：

1.  子上下文在“编译时”加载 - 即。在主 FeatureContext 构造函数中
2.  到第一个步骤定义运行时，behat 已经收集了所有注释并将它们映射到步骤定义，不能/不应该添加更多

检查一下以了解 a 的`Context`行为方式： http: [//docs.behat.org/guides/4.context.html#contexts-lifetime](http://docs.behat.org/guides/4.context.html#contexts-lifetime)

需要考虑的更广泛的事情：

1.  在小黄瓜场景中捕获的任何内容都必须是非开发人员可以理解的，（或者至少是没有编写系统的开发人员！）。一个场景应该完整地传达一个（最好不要更多）业务规则，而无需深入研究任何代码

2.  您不想在步骤定义中隐藏太多逻辑，任何规则都应该在小黄瓜场景中捕获

3.  这取决于您如何组织 FeatureContexts，但是您希望通过系统中的主题/域来执行此操作，例如：

    *   a`DatabaseContext`可能与读取 + 写入测试数据库有关
    *   an`ApiContext`可能包含与验证系统中的 api 有关的步骤
    *   `CommandContext`可能与验证您的系统控制台命令有关

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-18T19:31:59.673

覆盖的方法不能用同一个句子定义。

```
class SpecialTestContext extends TestContext {

  public function aTestscenarioexists() {
    echo "I am a special test scenario\n";
  }
} 
```

# c# - 如何在另一个标签中显示每个线程？

> ID：15472558
> 
> 赞同：-1
> 
> 时间：2013-03-18T08:38:10.340
> 
> 标签：c#, winforms, backgroundworker

在 button1 单击事件中，我创建了许多后台工作人员，这取决于我在列表框中选择了多少项目：

```
 private void button1_Click(object sender, EventArgs e)
    {
        // For each item selected in the listbox
        foreach (var item in listBox1.SelectedItems)
        {
            BackgroundWorker worker = new BackgroundWorker();
            worker.DoWork += backgroundWorker1_DoWork;
            worker.RunWorkerCompleted += backgroundWorker1_RunWorkerCompleted;
            object argument = item;
            worker.RunWorkerAsync(argument);
        }

        offlineOnline = false;
        init();
        button1.Enabled = false;
        this.Text = "Processing...";
        label6.Text = "Processing...";
        label6.Visible = true;
        button2.Enabled = false;
        checkBox1.Enabled = false;
        checkBox2.Enabled = false;
        numericUpDown1.Enabled = false;
        button3.Enabled = true;
        button6.Enabled = false;
        button4.Enabled = true;
        button5.Enabled = false;
        listBox1.Enabled = false;
    }
} 
```

然后在 DoWork 事件中，我使用这样的线程：

```
private void backgroundWorker1_DoWork(object sender, DoWorkEventArgs e)
{
    object input = e.Argument;
    string f = GetUrl(input);
    this.Invoke(new MethodInvoker(delegate { label2.Text = "Website To Crawl: "; }));
    this.Invoke(new MethodInvoker(delegate { label4.Text = f; }));
    if (offlineOnline == true)
    {
        offlinecrawling(f, levelsToCrawl, e);
    }
    else
    {
        webCrawler(f, levelsToCrawl, e);
    }
} 
```

问题是在 label4.Text 中，我将看到来自两个线程的最后一个 URL。例如，我想要两个不同的标签。每个将显示另一个线程。例如，label4.Text 中将有 www.cnn.com，而 label7.Text 中将有 www.cnet.com。

我不明白如何捕获或获取每个线程 URL 并将其放入标签中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:54:05.077

是的，首先我建议重命名您的控件 - 正如@Henk_Holterman 所建议的那样。例如，您不仅可以将输入作为参数传递，还可以将某些类/对与要更新的输入+标签一起传递。然后，更新您的代表以使用指定的标签。

# string - 用于字符串处理的 gcc 优化标志 (c++)

> ID：15472562
> 
> 赞同：1
> 
> 时间：2013-03-18T08:38:30.300
> 
> 标签：string, optimization, gcc, compiler-flags

我正在寻找可以提高我的代码速度的字符串处理标志。（我不追求特别的东西，名字和简短的解释对我来说就可以了）。

我正在使用 gcc

我唯一发现的是：

> -fmerge-constants：尝试跨编译单元合并相同的常量（字符串常量和浮点常量）。如果汇编器和链接器支持，则此选项是优化编译的默认选项。使用 -fno-merge-constants 来禁止这种行为。在 -O、-O2、-O3、-Os 级别启用。

# javascript - 页面加载后 HTML 链接会自动突出显示

> ID：15472563
> 
> 赞同：0
> 
> 时间：2013-03-18T08:38:36.887
> 
> 标签：javascript, css, html, hyperlink, highlight

我为自己感到非常自豪。我正在我的第一个网站上工作，我刚刚使用“a”标签创建了我的第一个 html 链接：D 你现在似乎唯一的问题是每次打开我的网页时，链接是已经突出显示。我不必单击它，也不必将光标拖到它上面，或其他任何东西。我如何使它只有在将光标拖到它上面时才会突出显示？任何帮助将不胜感激，在此先感谢！

这是我的 HTML：

```
<!DOCTYPE html>

<html lang="en">

<head>

<title>Round Table</title>

<meta charset="utf-8">
<link rel="stylesheet" href="RTH.css">
<script src="RTH.js"></script>

</head>

<body>

<H1> Come & take a seat at the Round Table B] </H1> 

<p> "Where <i>REAL MUSIC</i> still exists"</p><br><br>

<ol type=I> <H2> <li>BEAT$</li> 
<br><li>Music by Mercile$$</li> 
<br><li>Spoken Word</li> <br>
<li><a href="RthPg2.html" title="RthPg2">Tale$ of a Blind Sword$man</a></li> </H2> </ol><br><br><br>

<dt><i>RTH</i> consists of:</dt> 
<dd>Show Luciano, Pistol McFly, Dior, YZ, & last but not least...Mercile$$</dd>

<p> thee music industry is DEAD !! i hope to bring restoration.<br>

                                                                                            ~mercile$$</p><br>

<footer>&copy; Round Table</footer>
</font>
</body>
</html> 
```

这是我的CSS：

```
body {
        background-image: url("Round Table, Hoe II.jpg");
    background-repeat: Repeat;
    font-family: AR Christy, Kozuka Gothic Pr6N, Cooper std;
    color: Red;
    text-shadow: 1px 0 0 #CEA40C, 0 -1px 0 #CEA40C, 0 1px 0 #CEA40C, -1px 0 0 #CEA40C;
        font-size: 25px;
        margin: 0 auto;
    text-align: center;
    width: 700px;

}

h1 {
    font-family: AR Christy, Kozuka Gothic Pr6N, Cooper std;
    color: Red;
    text-shadow: 2px 0 0 #CEA40C, 0 0px 0 #CEA40C, 0 2px 0 #CEA40C, 0px 0 0 #CEA40C;
        margin: 0 auto;
        text-align: center;
    width: 700px;

}

i {
    font-family: AR Christy, Kozuka Gothic Pr6N, Cooper std;
    color: White;
    text-shadow: 2px 0 0 #CEA40C, 0 0px 0 #CEA40C, 0 2px 0 #CEA40C, 0px 0 0 #CEA40C;
        margin: 0 auto;
        text-align: center;
    width: 700px;

}

dt {

    color: #1BD29B;
    text-shadow: 4px 0 0 #CEA40C, 0 0px 0 #CEA40C, 0 4px 0 #CEA40C, 0px 0 0 #CEA40C;
    font-size: 45pt;
    padding: 10px;

}

dd {

    color: White;
    padding: 5px 10px 5px 10px; 
    background: #f03; 
    border: solid 2px #fff;

}

p {
    padding: 5px 10px 5px 10px; 
    background: #f03; 
    border: solid 2px #fff; 

}

footer {

} 
```

我还没有创建 .js 文件...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:42:03.253

您可以将 css 选择器用于任何锚状态

```
a, a:visited, a:active {
     text-decoration: none;
     color: inherit; // from parent element
}
a:hover, a.highlighted {
    text-decoration: underline;
    color: blue;
    // anything you want
} 
```

然后使用 jquery 在悬停时添加特定的类

```
$('a').hover(
    function () {
        $(this).addClass('highlighted');
    }
); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:40:38.790

将以下内容添加到您的 CSS 中，使您的链接看起来像内容的其余部分，并仅在悬停时突出显示自身（下划线）。

```
a {
    ...
    text-decoration: none;
    color: inherit;
}

a:hover {
    ...
    text-decoration: none;
    color: inherit;
} 
```

# iphone - 如何在iphone中从一个视图转到故事板的第一个视图

> ID：15472564
> 
> 赞同：0
> 
> 时间：2013-03-18T08:38:39.420
> 
> 标签：iphone, ios

我是电话编程的新手。可以通过身体告诉我如何从一个视图转到故事板的第一个视图。下面的代码是 firstviewcontroller.m 类，我在里面有一个按钮，我已经写了一些我想从中进行的操作firstviewcontroller 首先查看 stroyboard 的第一个视图。

```
 #import"firstviewcontroller.h"  
    -(IBAction)show:(id)sender
    {
     UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@"MainStoryboard" bundle:nil];
     LXCollectionViewController *Controller = [storyboard  instantiateViewControllerWithIdentifier:@"Controller "];
      [self presentModalViewController:loginController animated:YES];

    } 
```

下面的代码是storybord firstview 代码我如何从这个xib 视图转到storyborad view.programatically.above 代码不起作用。

```
 #import "LXCollectionViewController.h"
        #import "PlayingCard.h"
        #import "PlayingCardCell.h"
        @implementation LXCollectionViewController
        - (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
        {
            self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
            if (self) {
                // Custom initialization
            }
            return self;
        }
        - (void)awakeFromNib {
            [super awakeFromNib];
            self.deck = [self constructsDeck];
        }

        - (NSMutableArray *)constructsDeck {
            NSMutableArray *theDeck = [NSMutableArray arrayWithCapacity:52];
            for (NSInteger theRank = 1; theRank <= 13; theRank++) {
                // Spade
                {
                    PlayingCard *thePlayingCard = [[PlayingCard alloc] init];
                    thePlayingCard.suit = PlayingCardSuitSpade;
                    thePlayingCard.rank = theRank;
                    [theDeck addObject:thePlayingCard];
                }
            }
            return theDeck;
        }

        - (void)viewDidLoad {
          //  NSLog(@"%@",theDeck);
            [super viewDidLoad];
            // Do any additional setup after loading the view.
        }
        #pragma mark - UICollectionViewDataSource methods

        - (NSInteger)collectionView:(UICollectionView *)theCollectionView numberOfItemsInSection:(NSInteger)theSectionIndex {
            switch (theSectionIndex) {
                case 0: {
                    return [[self valueForKeyPath:@"deck.@count"] integerValue];
                } break;
                default: {
                    return 0;
                } break;
            }
        }

 - (UICollectionViewCell *)collectionView:(UICollectionView *)theCollectionView cellForItemAtIndexPath:(NSIndexPath *)theIndexPath {
                NSInteger theSectionIndex = theIndexPath.section;
                NSInteger theItemIndex = theIndexPath.item;
                switch (theSectionIndex) {
                    case 0: {
                        PlayingCard *thePlayingCard = [self.deck objectAtIndex:theItemIndex];
                        PlayingCardCell *thePlayingCardCell = [theCollectionView dequeueReusableCellWithReuseIdentifier:@"PlayingCardCell" forIndexPath:theIndexPath];
                        thePlayingCardCell.playingCard = thePlayingCard;
                        return thePlayingCardCell;
                    } break;
                    default: {
                        return nil;
                    } break;
                }
            }

            #pragma mark - LXReorderableCollectionViewDelegateFlowLayout methods

            - (void)collectionView:(UICollectionView *)theCollectionView layout:(UICollectionViewLayout *)theLayout itemAtIndexPath:(NSIndexPath *)theFromIndexPath willMoveToIndexPath:(NSIndexPath *)theToIndexPath {
                id theFromItem = [self.deck objectAtIndex:theFromIndexPath.item];
                [self.deck removeObjectAtIndex:theFromIndexPath.item];
                [self.deck insertObject:theFromItem atIndex:theToIndexPath.item];
            } 
```

IBAction 中的上述代码不起作用。请告诉我如何将表单 xib 连接到情节提要的 firstview。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T09:07:55.790

如果您使用的`presentViewController`是已弃用的 iOS sdk 6.1，请尝试以下一项

```
UIStoryboard *sb = [UIStoryboard storyboardWithName:@"MainStoryboard" bundle:nil];
LXCollectionViewController *objController = [sb instantiateViewControllerWithIdentifier:@"Controller"];
[objController setModalPresentationStyle:UIModalPresentationFullScreen];
[self presentViewController:objController animated:YES completion:nil]; 
```

并确保您在情节提要的 viewControllers 中指定了标识符

# jsf - JSF 模板：f:event 有效，f:viewParam 无效

> ID：15472567
> 
> 赞同：1
> 
> 时间：2013-03-18T08:39:05.487
> 
> 标签：jsf, jsf-2, viewparams

按照[规范](http://docs.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/f/metadata.html)的示例，我有一个模板和一个模板客户端。

**default.xhtml（模板）：**

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
  <title>...</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <h:outputStylesheet name="css/screen.css" />
</h:head>
<h:body>
  <f:view>
    <ui:insert name="metadata" />
    <div id="container">
      <div id="header">
        <img src="resources/gfx/logo.png" />
      </div>
      <div id="content">
        <ui:insert name="content" />
      </div>
      <div id="footer">
        <p>
          This is a project.<br />
        </p>
      </div>
    </div>
  </f:view>
</h:body>
</html> 
```

**edit.xhtml（模板客户端）：**

```
<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  template="/WEB-INF/templates/default.xhtml">

  <ui:define name="metadata">
    <f:metadata>
      <f:viewParam name="id" value="#{myBean.id}" />
      <f:event type="preRenderView" listener="#{myBean.init}"/>
    </f:metadata>
  </ui:define>

  <ui:define name="content">
    ...
  </ui:define>
</ui:composition> 
```

**list.xhtml（编辑视图的调用者）包含：**

```
<h:commandLink action="edit" value="#{msgs.edit}">
  <f:param name="id" value="#{myentity.id}" />
</h:commandLink> 
```

f:event 被调用，但 id (viewParam) 没有分配给 bean。然而，该 id 存在于请求参数映射中，并且可以像这样检索：

```
FacesContext ctx = FacesContext.getCurrentInstance();
Map<String, String> parameters = ctx.getExternalContext().getRequestParameterMap();
if (parameters.containsKey("id")) {
  this.id = Long.valueOf(parameters.get("id"));
} 
```

但这就是`<f:viewParam ...>`应该注意的（据我所知）。

可能有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T12:50:01.153

这是错误的。

```
<h:commandLink action="edit" value="#{msgs.edit}">
  <f:param name="id" value="#{myentity.id}" />
</h:commandLink> 
```

这会发送 POST 请求，而不是 GET 请求。

你需要`<h:link>`改用。

```
<h:link outcome="edit" value="#{msgs.edit}">
  <f:param name="id" value="#{myentity.id}" />
</h:link> 
```

### 也可以看看：

*   [<f:metadata>、<f:viewParam> 和 <f:viewAction> 可以用来做什么？](https://stackoverflow.com/questions/6377798/what-can-fmetadata-and-fviewparam-be-used-for/6377957#6377957)
*   [什么时候应该使用 h:outputLink 而不是 h:commandLink？](https://stackoverflow.com/questions/4317684/when-should-i-use-houtputlink-instead-of-hcommandlink/4317723#4317723)

# dropbox - 从指定的 Dropbox 帐户下载文件

> ID：15472568
> 
> 赞同：0
> 
> 时间：2013-03-18T08:39:13.560
> 
> 标签：dropbox, dropbox-api

我可以创建一个从我自己的 Dropbox 帐户下载文件的应用程序（android、iPhone ... 应用程序）吗？每个 App 实例都将下载此文件，无需身份验证。用户无需拥有保管箱帐户。

这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:46:04.300

如果文件是公开共享的，为什么不呢？只需使用文件的公共 URL。

有关如何在 Dropbox 中获取文件的直接下载链接的相关文章：

*   [Dropbox：生成直接下载链接 [PHP 首选]](https://stackoverflow.com/questions/13115548/dropbox-produce-a-direct-download-link-php-preferred)
*   [提示用户保存从 Dropbox 下载的内容](https://stackoverflow.com/questions/8992284/prompt-user-to-save-on-download-from-dropbox?lq=1)

# asp.net-mvc - 如何手动检查模型是否有效并获取错误消息

> ID：15472569
> 
> 赞同：3
> 
> 时间：2013-03-18T08:39:15.970
> 
> 标签：asp.net-mvc

现在，我有一个这样的模型：

```
namespace TestMVC.Models.ViewModel
{
   public partial class User
    {

        public string Name { get; set; }
        public int Age { get; set; }
        public string Email { get; set; }

    }

    [MetadataType(typeof(UserMetaData))]
    public partial class User
    {

    }

public class UserMetaData
{
    [Display(Name = "Name")]
    public string Name { get; set; }
    [Display(Name = "Age")]
    public int Age { get; set; }
    [Display(Name = "Email")]
    [RegularExpression(@"^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$", ErrorMessage = "The email is invalid")]
    public string Email { get; set; }
}
} 
```

我有这样的方法：

```
 public ActionResult ValidCheck()
    {
        ModelState.AddModelError("error", "error");
        Models.ViewModel.User model = new Models.ViewModel.User();
        model.Age = 12;
        model.Name = "Andy He";
        model.Email = "123";
        //TryValidateModel(model);
     } 
```

我想通过方法来检查模型是否有效并得到错误消息，我尝试使用 TryValideModel 但它只能得到模型有效的结果，无法得到错误消息，有没有方法可以做这个？你能帮帮我吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-18T08:42:32.337

为特定键添加错误。像这样使用。 `ModelState.AddModelError("yourModelPropety", "error");` 在这里，您正在为特定键设置模型错误。

使用 ModelState.IsValid 属性。它会告诉您是否有任何模型错误已添加到 ModelState。[模型状态.Isvalid](http://msdn.microsoft.com/en-us/library/system.web.mvc.modelstatedictionary.isvalid%28v=vs.108%29.aspx)

试试这样。

```
ModelState.AddModelError("Email ", "error");  here you are setting model error for particular key. 

if(!ModelState.IsValid)
{
  // do something to display errors .  
     foreach (ModelState modelState in ViewData.ModelState.Values) {
                foreach (ModelError error in modelState.Errors) {
                  DoSomethingWith(error);
            }
        }
} 
```

# excel - 如何格式化剪贴板中的行和列以像来自 Excel 一样粘贴？

> ID：15472575
> 
> 赞同：2
> 
> 时间：2013-03-18T08:39:59.710
> 
> 标签：excel, delphi, copy, clipboard

我正在使用一堆网格，这些网格不支持使用 Excel 那样的表格布局复制行和列。

我们需要能够从网格中复制一些行和列，并将它们粘贴到 Outlook 电子邮件中，并在正确对齐的列中具有适当的格式。如果您从 Excel 复制，它会做得很好。

如果我从网格中复制，我会得到制表符分隔的数据，这是行不通的。此外，字体不像 Courier 那样等宽，因此将数据填充到相同数量的字符也不起作用。

我真的很想知道 Excel 如何设法将这种额外的格式放入剪贴板。顺便说一句，我正在使用 Delphi，但任何建议都值得赞赏。

**编辑**：我们不想先通过 Excel……我们想直接从网格到剪贴板，然后到电子邮件。

谢谢！巴特

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-18T09:21:55.003

当您从 Excel 复制到剪贴板时，剪贴板上会放置许多不同的格式。您需要找到可以复制的格式之一，这将产生所需的结果。

我过去实现这一点的方法是将 HTML 放在剪贴板上。您可以使用此功能：

```
procedure ClipboardError;
begin
  raise EMyExceptionClass.Create('Could not complete clipboard operation.');
end;

procedure CheckClipboardHandle(Handle: Windows.HGLOBAL);
begin
  if Handle=0 then begin
    ClipboardError;
  end;
end;

procedure CheckClipboardPtr(Ptr: Pointer);
begin
  if not Assigned(Ptr) then begin
    ClipboardError;
  end;
end;

procedure PutInClipboard(ClipboardFormat: UINT; Buffer: Pointer; Count: Integer);
var
  Handle: Windows.HGLOBAL;
  Ptr: Pointer;
begin
  if Count>0 then begin
    Clipboard.Open;
    Try
      Handle := Windows.GlobalAlloc(GMEM_MOVEABLE, Count);
      Try
        CheckClipboardHandle(Handle);
        Ptr := Windows.GlobalLock(Handle);
        CheckClipboardPtr(Ptr);
        Move(Buffer^, Ptr^, Count);
        Windows.GlobalUnlock(Handle);
        Clipboard.SetAsHandle(ClipboardFormat, Handle);
      Except
        GlobalFree(Handle);
        raise;
      End;
    Finally
      Clipboard.Close;
    End;
  end;
end;

var
  HTMLClipboardFormat: UINT;

procedure PutHTMLInClipboard(Strings: TStrings);

var
  Data: TStringList;

  procedure WriteDescription(const StartOffset, EndOffset: Integer);
  begin
    while Data.Count<5 do begin
      Data.Add('');
    end;
    Data[0] := 'Version:0.9';
    Data[1] := Format('StartHTML:%.8d', [StartOffset]);
    Data[2] := Format('EndHTML:%.8d', [EndOffset]);
    Data[3] := Format('StartFragment:%.8d', [StartOffset]);
    Data[4] := Format('EndFragment:%.8d', [EndOffset]);
  end;

var
  StartOffset, EndOffset: Integer;
  Text: UTF8String;
begin
  Data := TStringList.Create;
  Try
    WriteDescription(0, 0);//write out description stub - will be replaced later
    StartOffset := Length(UTF8String(Data.Text));
    Data.AddStrings(Strings);
    EndOffset := Length(UTF8String(Data.Text))-1;
    WriteDescription(StartOffset, EndOffset);//now we know the offsets we can write proper description
    Text := Data.Text;
    PutInClipBoard(HTMLClipboardFormat, PAnsiChar(Text), Length(Text));
  Finally
    FreeAndNil(Data);
  End;
end;
....
initialization
  HTMLClipboardFormat := Windows.RegisterClipboardFormat('HTML Format'); 
```

剩下的唯一事情就是生成您传递给该函数的 HTML。这取决于你。我建议您使用 Excel 将 HTML 放在剪贴板上，然后检查它生成的 HTML。将其用作您需要做的事情的指南。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T08:45:55.980

您可以使用此功能将网格内容导出到 Excel 和其他支持表格数据的应用程序：

```
procedure ExportDBGrid(DBGrid: TDBGrid; toExcel: Boolean);
var
  bm: TBookmark;
  col, row: Integer;
  sline: String;
  mem: TStringList;
  ExcelApp: Variant;
begin
  Screen.Cursor := crHourglass;
  try
    DBGrid.DataSource.DataSet.DisableControls;
    bm := DBGrid.DataSource.DataSet.GetBookmark;
    DBGrid.DataSource.DataSet.First;

    // create the Excel object
    if toExcel then
    begin
      ExcelApp := CreateOleObject('Excel.Application');
      ExcelApp.WorkBooks.Add(1); //xlWBatWorkSheet);
      ExcelApp.WorkBooks[1].WorkSheets[1].Name := 'Grid Data';
    end;

    // First we send the data to a memo
    // works faster than doing it directly to Excel
    mem := TStringList.Create;
    try
      sline := '';

      // add the info for the column names
      for col := 0 to DBGrid.FieldCount-1 do
        if Assigned(DBGrid.Fields[col]) then
          if DBGrid.Fields[col].Visible then
            sline := sline + DBGrid.Fields[col].DisplayLabel + #9;
      mem.Add(sline);

      // get the data into the memo
      for row := 0 to DBGrid.DataSource.DataSet.RecordCount-1 do
      begin
        sline := '';
        for col := 0 to DBGrid.FieldCount-1 do
          if Assigned(DBGrid.Fields[col]) then
            if DBGrid.Fields[col].Visible then
              sline := sline + DBGrid.Fields[col].AsString + #9;
        mem.Add(sline);
        DBGrid.DataSource.DataSet.Next;
      end;

      // we copy the data to the clipboard
      Clipboard.AsText := mem.Text;
    finally
      mem.Free;
    end;
    // if needed, send it to Excel
    // if not, we already have it in the clipboard
    if toExcel then
    begin
      ExcelApp.Workbooks[1].WorkSheets['Grid Data'].Paste;
      ExcelApp.Visible := true;
    end;
  finally
    DBGrid.DataSource.DataSet.GotoBookmark(bm);
    DBGrid.DataSource.DataSet.EnableControls;
    Screen.Cursor := crDefault;
  end;
end; 
```

# ruby-on-rails - 不推荐使用 As-Extensions gem 并在 Rails 3.2 更新中崩溃

> ID：15472578
> 
> 赞同：1
> 
> 时间：2013-03-18T08:40:14.280
> 
> 标签：ruby-on-rails, ruby

我已经为此苦苦挣扎了几天。我已经将我的应用程序从 Rails 3.1 升级到 3.2，并且开发服务器（瘦或 webrick）从那时起就出现了内存泄漏。我什至无法获得本地主机根。这是我的 Gemfile ：

```
gem 'rails', '= 3.2.0'
gem 'thin'
gem "rmagick"
gem "carrierwave"
gem 'rake', '0.9.2'
gem 'fog'
gem 'twitphoto', :git => 'git://github.com/pefavre/twitphoto.git'
gem 'will_paginate', '~> 3.0'
gem 'faker', '0.3.1'
gem 'geocoder'
gem 'map'
gem 'must_be'
gem 'twitter', :git => 'git://github.com/pefavre/twitter.git'
gem 'httparty'
gem 'rest-client'
gem 'foreman'
gem "as-extensions"
gem 'json'
gem 'oauth'
gem 'topsy', :git => 'git://github.com/pefavre/topsy.git'
gem 'gmaps4rails'
gem 'depq'
gem 'newrelic_rpm'
gem 'jquery-rails'
gem 'pg'

group :development do
  gem 'rspec-rails', '2.6.1'
  gem 'annotate', '2.4.0'
end

group :test do
  gem 'rspec-rails', '2.6.1'
  gem 'webrat', '0.7.1'
  gem 'spork', '0.9.0.rc8'
end

group :assets do
  gem 'sass-rails',   '~> 3.2.3'
  gem 'coffee-rails', '~> 3.2.1'
  gem 'uglifier',     '>= 1.0.3'
end 
```

我在升级中错过了什么吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T15:40:55.410

事实证明，“as-extensions”gem 是导致该错误的原因。当 Rails 从 3.1 更新到 3.2 时，它会崩溃。

# java - 向 URLClassLoader 添加参数

> ID：15472581
> 
> 赞同：0
> 
> 时间：2013-03-18T08:40:15.527
> 
> 标签：java, swing, awt

试图将参数传递给 jar 文件...

我将它们全部保存在 HashMap 中

```
private final HashMap<String, String> parameters = new HashMap<String, String>();
Applet loader = (Applet) URLloader.loadClass("client").newInstance();
loader.setStub(this);
loader.init();
loader.start(); 
```

^这是我到目前为止的代码，以及

```
public final String getParameter(String name) {
    return parameters.get(name);
} 
```

我确实有一个发布参数的方法。

```
 parameters.put("8", "true");
    parameters.put("9", "false");
    parameters.put("6", "302");
    parameters.put("7", "false");
    parameters.put("4", "5");
    parameters.put("5", "WEBSITE HIDDEN");
    parameters.put("2", "0");
    parameters.put("3", "0");
    parameters.put("1", "0"); 
```

但是我实际上如何将它们发送出去，找不到任何东西

# iphone - 轻松滚动 UITableView

> ID：15472583
> 
> 赞同：1
> 
> 时间：2013-03-18T08:40:30.587
> 
> 标签：iphone, ios, uitableview, uiscrollview

我可以通过将 UITableView 的 contentOffset 设置为零来将其滚动到顶部。IE

```
 [tableView setContentOffset:CGPointMake(0, 0) animated:YES]; 
```

但我想要缓出效果和缓慢滚动。所以我正在使用

```
[UIView beginAnimations:nil context:NULL];
[UIView setAnimationDuration:1.0];
[UIView setAnimationCurve:UIViewAnimationCurveEaseOut];
[tableView setContentOffset:CGPointMake(0, 0)];
[UIView commitAnimations]; 
```

或者

```
[UIView animateWithDuration:1.0
                    delay:0.0 options:UIViewAnimationOptionCurveEaseOut
               animations:^{
                 [tableView setContentOffset:CGPointMake(0, 0)];
               } completion:^(BOOL finished) {

               }]; 
```

滚动效果很好，但在滚动结束或 tableView 开始减速之前内容不可见。有什么解决办法？？

# c - 在 Linux 上跟踪 C 中的键盘和鼠标事件

> ID：15472585
> 
> 赞同：4
> 
> 时间：2013-03-18T08:40:38.887
> 
> 标签：c, linux

如何在 C 语言中跟踪 Linux 中的键盘或鼠标事件？

例如，如果用户按下`ESC` `Shift`等。我应该能够跟踪它。鼠标也一样。如果用户移动鼠标或单击左或右。

实现的想法是创建一个带有计时器的小屏幕保护程序，我正在努力如何跟踪键盘或鼠标事件来重置计时器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T08:55:07.720

一种可能性是使用输入子系统。看看这篇文章：使用输入子系统（[http://www.linuxjournal.com/article/6429](http://www.linuxjournal.com/article/6429)）

另一种方法是创建一个工作线程，尝试读取文件 /dev/input/event* ，例如这里的键盘：

```
// (const char *)ptr - pass your device like "/dev/input/event2" here
fd = open((const char *)ptr, O_RDONLY);

if (fd < 0)
{
    fprintf(stderr, "failed to open input device %s: %s\n", (const char *)ptr, strerror(errno));
    return NULL;
}

struct timeval escapeDown = { 0, 0};
int code;
while (1)
{
    if (read(fd, &ev, sizeof(struct input_event)) < 0)
    {
        fprintf(stderr, "failed to read input event from input device %s: %s\n", (const char *)ptr, strerror(errno));
        if (errno == EINTR)
            continue;
        break;
    }

    code = -1;
    if (ev.type == EV_KEY)
    {
        switch (ev.code)
        {
        case eEsc:
            if (ev.value == 1)
            {
                escapeDown = ev.time;
                printf("DOWN: ESC\n");
            }
            else if (ev.value == 0 && escapeDown.tv_sec)
            {
                printf("UP:   ESC\n");
                if (isLongPressed(&escapeDown, &ev.time))
                    code = eEscLong;
                else
                    code = eEsc;

                escapeDown.tv_sec  = 0;
                escapeDown.tv_usec = 0;
            }
            break;
        case eOk:
        case eUp:
        case eRight:
        case eLeft:
        case eDown:
            if (ev.value == 0)
            {
                printf("UP:   %s\n", keyName(ev.code));
                code = ev.code;
            }
            else if (ev.value == 1)
            {
                printf("DOWN: %s\n", keyName(ev.code));
            }
            escapeDown.tv_sec  = 0;
            escapeDown.tv_usec = 0;
            break;
        default:
            break;
        }
    }
    if (code > 0)
    {
        struct sMsg* pMsg = malloc(sizeof(struct sMsg));
        if (pMsg)
        {
            pMsg->nMsgType = eMsgKeyLogger;
            pMsg->nIntValue= code;
            postMsg(pMsg);
        }
        printf("generated keyboard event: %u %s\n",
               code,
               keyName(code));
    }
    else
        usleep(100);
}

close(fd); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-18T08:57:32.883

考虑到项目的规模和性质，您可能想看看[GLUT](http://freeglut.sourceforge.net/)。它实际上是一个方便 OpenGL 的库，但也提供了易于使用的跨平台输入处理和计时器功能。以防万一您将来想转移到其他平台。除此之外，它与您的应用程序的图形特性很好地融合在一起。

**编辑：**我链接的项目实际上是原始 GLUT 的继承者，具有整体增强的 API。有关原始 API 参考，请查看[此处](http://www.opengl.org/documentation/specs/glut/spec3/spec3.html)。

在你的情况下，你可以使用类似的东西：

```
void keyboardFunc(unsigned char key, int x, int y)
{
    switch (key)
    {
    case 'a':
        break;
    /* etc */
    }
}

void displayFunc()
{
    /* Statements issuing the drawing of your screensaver */
}

int main(int argc, char** argv)
{
    glutInit(&argc, argv);

    /* Other initialization code */

    glutKeyboardFunc(keyboardFunc);
    glutDisplayFunc(displayFunc);

    glutMainLoop();
} 
```

# javascript - 在 jQuery 中手动更改表单

> ID：15472595
> 
> 赞同：0
> 
> 时间：2013-03-18T08:41:26.853
> 
> 标签：javascript, jquery, forms, triggers

我正在尝试`change()`使用 jQuery 1.7.2 手动触发表单的功能，但它不起作用。这是我的代码：

```
 $(document).ready(function(){

     console.log('going to change form');

     $('form[name="newBom"] input').trigger('change');

     $('form[name="newBom"] input').change(function() {
            console.log('form changed');
     });
 }); 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:42:20.943

`change`即使在`change`处理程序绑定到您的输入之前触发，您也没有获得预期的功能。您可以通过在绑定处理程序*后*`change`触发事件来纠正此问题：*`change`*

 *```
// bind the handler
$('form[name="newBom"] input').change(function() {
    console.log('form changed');
});

// now, trigger the change event
$('form[name="newBom"] input').trigger('change'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T08:43:28.887

```
 $(document).ready(function(){

     console.log('going to change form');

     //Attach event handler first
     $('form[name="newBom"] input').change(function() {
            console.log('form changed');
     }); // missing );

     //Trigger event
     $('form[name="newBom"] input').trigger('change');

 }); //missing ); 
```

** 工作示例：** [http://jsfiddle.net/RG5gn/](http://jsfiddle.net/RG5gn/)*

# oracle - 如何查看我在 Oracle 中的最后一笔交易？

> ID：15472599
> 
> 赞同：0
> 
> 时间：2013-03-18T08:41:41.997
> 
> 标签：oracle, oracle10g, rollback

我只更新了表中的一列。现在我必须将它更新为以前的值。如何查看以前的值？我与会话断开连接，现在`dba_2pc_pending`返回 0 行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:48:18.617

如果您的系统中启用了[闪回](http://psoug.org/reference/flash_query.html)查询，您可以尝试这些。否则你可能会倒霉。

# jquery - 使用 css display:none 不隐藏滚动到顶部按钮；

> ID：15472603
> 
> 赞同：0
> 
> 时间：2013-03-18T08:41:56.150
> 
> 标签：jquery, html, css

我正在使用以下脚本滚动到顶部功能，

```
$(window).scroll(function(){
        if ($(this).scrollTop() > 100) {
            $('.scrollup').fadeIn();
        } else {
            $('.scrollup').fadeOut();
        }
    }); 

    $('.scrollup').click(function(){
        $("html, body").animate({ scrollTop: 0 }, 600);
        return false;
    }); 
```

**html**

```
 <a href="#" class="scrollup">Scroll</a> 
```

**css**

```
 .scrollup{
    width:40px;
    height:40px;
    opacity:0.3;
    position:fixed;
    bottom:50px;
    left:100px;
    display:none;
    text-indent:-9999px;
    background:url('{{ 'icon_top.png' | asset_url }}') no-repeat;
}

@media only screen and (max-width: 767px) {
    .scrollup {
        display:none;
    }
} 
```

问题是当我使用这个脚本时 display:none; 在我的 css（@media 下）中没有使用。我需要它来隐藏移动设备中的按钮。

使用底部脚本（使用不同的 css）工作正常，但我想将上面的脚本用于淡入淡出使用。

我错过了什么？

```
 $(window).scroll(function(){
    if(window.scrollY > 100) {
        $('.scrollup').css('bottom', -8);
    } else {
        $('.scrollup').css('bottom', -100);
    }
});
$('.scrollup').click(function(){
        $("html, body").animate({ scrollTop: 0 }, 600);
        return false;
    }); 
```

# statistics - 显着的 Kruskal-wallis 结果，但不显着的 steel-dwass 事后检验

> ID：15472605
> 
> 赞同：0
> 
> 时间：2013-03-18T08:42:01.763
> 
> 标签：statistics

我正在分析论文数据，我使用 Kruskal-wallis 检验和 Steel-dwass 事后检验进行数据分析。我在使用 Kruskal-wallis 检验时发现了显着差异，但在比较每对数据组时没有显着差异。谁能告诉我是什么原因？那我该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-27T21:01:57.183

检查数据的分布是否向同一方向倾斜。据我所知，应该使用 Kruskal-wallis 测试。还可以尝试对每对使用 Bonferroni 校正的 Wilcoxon 秩和检验。

# python - urllib2 不下载 pdf 文件

> ID：15472614
> 
> 赞同：0
> 
> 时间：2013-03-18T08:42:41.677
> 
> 标签：python, pdf, download, urllib2

我正在使用以下代码下载我的文件：

```
def downloadfile(url): #function to download file    
    file_name = filename_parse(url)
    #print "***********************"
    #print "File download started:"
    #stime= time.time()
    u = urllib2.urlopen(url)
    f = open(file_name, 'wb')
    getfilesize(u)
    file_size = getfilesize(u)
    print "Downloading: %s Bytes: %s \n" % (file_name, file_size)
    file_size_dl = 0
    block_sz = 512
    progressbar(u,block_sz,file_size_dl,f,file_size)
f.close() 
```

问题是它可以下载除 .pdf 文件之外的任何文件 exe、txt 和其他文件……我怎样才能让它下载 pdf 文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-07-11T20:20:33.457

我知道这是一个老问题，但对于所有偶然发现它并想使用 python 2 和 urllib2 下载 pdf 文件的人来说，这里是代码：

```
import urllib2
url = 'http://mensenhandel.nl/files/pdftest2.pdf'
print "Download started..."
f = urllib2.urlopen(url)
data = f.read()
with open("test.pdf", "wb") as code:
    code.write(data)
print "Download completed..." 
```

只需根据您的需要修改 URL...

来源： http: [//www.blog.pythonlibrary.org/2012/06/07/python-101-how-to-download-a-file/](http://www.blog.pythonlibrary.org/2012/06/07/python-101-how-to-download-a-file/)

# java - 销毁当前类对象并通过线程运行同一个类

> ID：15472616
> 
> 赞同：0
> 
> 时间：2013-03-18T08:42:43.937
> 
> 标签：java, multithreading, swing

我正在调用一个线程，在该线程中我再次调用同一个类

```
TrafficMainGUI traffic=new TrafficMainGUI(storeValue);
traffic.setVisible(true); 
```

但我希望前一个类对象被破坏。我怎样才能做到这一点。

由于 TrafficMainGUI 是一个 jFrame 对象。请帮忙？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:48:54.930

要正确销毁 a `JFrame`，您应该[处置](http://docs.oracle.com/javase/6/docs/api/java/awt/Window.html#dispose%28%29)它。

```
previousTraffic.dispose();
TrafficMainGUI traffic=new TrafficMainGUI(storeValue);
traffic.setVisible(true); 
```

从文档中：

*`Releases all of the native screen resources used by this Window, its subcomponents, and all of its owned children. That is, the resources for these Components will be destroyed, any memory they consume will be returned to the OS, and they will be marked as undisplayable.`*

您的问题对于您使用线程所做的事情非常模糊。正如@MadProgrammer 所提到的，当您使用 时`swing`，您应该考虑到[EDT](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html)。但要获得更具体的帮助，您应该提供[sscce](http://sscce.org)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:51:22.060

To make your frame disappear just call

```
traffic.setVisible(true); 
```

This however does not remove the instance of `TrafficMainGUI` you created. Since java has automatic garbage collection this object will be removed at some point of time automatically when all references that refer to it are not accessible. For example if your variable `traffic` is defined in method scope it becomes obsolete once your code exits the method. If not you can say `traffic = null;`. This will remove the reference.

You should note however that GC (garbage collector) lives its own life and can decide itself when to remove your object. It can decide not to remove it even forever. But you should not care about it.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T08:48:22.533

添加此代码：

```
traffic = new TrafficMainGUI(newValues); 
```

流量将由新对象分配，并且先前的对象将被替换，因为`new`函数是请求内存中的新对象。

# java - 如何使用 Freemarker 显示列表> 数据？

> ID：15472618
> 
> 赞同：0
> 
> 时间：2013-03-18T08:42:51.990
> 
> 标签：java, freemarker

我在一个中放了两个`Map`对象`ArrayList`，我想根据arraylist的索引显示不同的数据，java代码如下：

```
List<Map<String, Object>> value = new ArrayList<Map<String, Object>>();
value.add(originalUnitProps);
value.add(nowUnitProps); 
```

以下是我的模板文件：

```
<#list value as ori>
    <#if ori_index == 0>

        original info：&lt;br/>

        <#list ori?keys as key>
            ${key}:${ori[key]}  <br/>
        </#list>
    <#else>
        <br/>
        now info：&lt;br/>
        <#list ori?keys as key>
            ${key}:${ori[key]}  <br/>
        </#list>
    </#if>
</#list> 
```

但这会导致异常：

> java.lang.IllegalArgumentException：freemarker.template.DefaultObjectWrapper 无法将 java.util.ArrayList 转换为 TemplateHashModel。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T21:41:50.500

该问题与您的模板无关。显然，您已将数据模型传递`value`给 FreeMarker，但数据模型必须是 a`Map<String, ...>`或 a `TemplateHashModel`。因此，创建一个`Map<String, Object> dataModel`，将其`ArrayList`放入一个有意义的名称中，例如`dataModel.put("infos", value)`，将 传递`dataModel`给 FreeMarker 而不是`value`，然后在模板中使用`<#list infos as ...>`.

此外，如果您有错误消息，下次附上整个堆栈跟踪。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-23T14:42:16.113

我能够让它成功运行，使用以下代码设置模型：

```
Map<String, Object> originalUnitProps = new HashMap<>();
originalUnitProps.put("Lang1", Locale.FRENCH);
originalUnitProps.put("Lang2", Locale.CANADA_FRENCH);

Map<String, Object> nowUnitProps = new HashMap<>();
nowUnitProps.put("Lang3", Locale.ENGLISH);
nowUnitProps.put("Lang4", Locale.GERMAN);

List<Map<String, Object>> value = new ArrayList<Map<String, Object>>();
value.add(originalUnitProps);
value.add(nowUnitProps);

model.put("value", value); 
```

# android - 需要从数据库中检索数据

> ID：15472620
> 
> 赞同：1
> 
> 时间：2013-03-18T08:43:03.197
> 
> 标签：android, database, swipeview

我在数据库中有一个很长的字符串，需要将其检索到滑动视图中。

但是，问题是字符串由一组“ **\n\n** ”组成

每当它与这个表达式分开时，我需要把它放在另一张幻灯片中，我的意思是我在这里使用 SWIPE 视图..

```
if(tablecolumn==\\n\\n)
    {
         code to break it to parts   
    } 
```

这是我应该怎么做的吗？

如果我错了，如何将此字符串分解为不同的部分并将其启用到**SWIPE VIEW**中以进入不同的滑动视图？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T10:18:54.710

您可以简单地破坏包含这样一个特殊字符的字符串：-

```
 String str ="mynameisjhon.yournameisdash.bla"; 
```

，这里有一个与“.”（句点字符）连接的字符串

打破这个字符串这样做： -

```
 StringTokenizer st = new StringTokenizer(str, "."); //break the string whenever "." occurs
    String temp =st.nextToken(); // it will have "my name is jhon" break
    String temp2 = st.nextToken();// it will have "your name is dash"
    String temp3 = st.nextToken();//it will have "bla" 
```

现在你的字符串被分成几部分！还要别的吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:47:13.213

将整个字符串加载到您的 ViewAdapter 中并通过子字符串将其分开，
或者将字符串加载到您的 Activity/Fragment 中通过子字符串将其分开，将字符串放入 ArrayList 中，使用 ArrayList 作为数据源启动 ViewAdapter

无论哪种方式都使用子字符串

# python - 如何在 Google App Engine Python 上每隔 x 秒最好地运行一次函数

> ID：15472621
> 
> 赞同：2
> 
> 时间：2013-03-18T08:43:05.973
> 
> 标签：python, google-app-engine

使用 Google App Engine Python 2.7 我想创建每 10-60 秒检查一次是否从所有客户端接收到心跳事件的作业。如果没有触发（电子邮件）警报。

我能想象的基本选择是：

*   谷歌任务队列
*   谷歌延迟任务队列
*   Cron Jobs（至少 1 分钟，但也许我可以设置几个？）
*   （似乎不推荐：使用睡眠）

我发现了这个问题，但希望得到更准确的答案： [how-can-i-do-the-same-thing-over-and-over-every-1-4-seconds-in-google-app-engine](https://stackoverflow.com/questions/2986648/how-can-i-do-the-same-thing-over-and-over-every-1-4-seconds-in-google-app-engine)

我想经常检查的原因是如果一段时间没有收到更新，则需要触发警报。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T12:38:17.377

您可以启动每分钟运行的 cron 作业。然后在cron作业中，做你的心跳检查，睡一会，再检查，睡...

# vb.net - 错误：试图读取或写入受保护的内存

> ID：15472622
> 
> 赞同：0
> 
> 时间：2013-03-18T08:43:09.340
> 
> 标签：vb.net, serial-port, dllimport

我有一个 winform 应用程序，它试图通过串行端口发送一些数据。在那里，我使用的是本机 DLL，但出现此错误：

> 尝试读取或写入受保护的内存。这通常表明 VB.Net 中的其他内存已损坏

这就是我正在做的事情：

```
Public Declare Function AddScreen Lib "BX_IV.DLL" _
    ( _
    ByVal nControltype As Integer, _
    ByVal nScreenNo As Integer, _
    ByVal nWidth As Integer, _
    ByVal nHeight As Integer, _
    ByVal nScreenType As Integer, _
    ByVal nPixelMode As Integer, _
    ByVal nDataDA As Integer, _
    ByVal nDataOE As Integer, _
    ByVal nRowOrder As Integer, _
    ByVal nFreqPar As Integer, _
    ByVal pCom As String, _
    ByVal nBaud As Integer, _
    ByVal pScoketIP As String, _
    ByVal nScoketPort As Integer, _
    ByVal pScreenStatusFile As String _
    ) As Integer 
```

我从带有所有参数的表单加载事件中调用它，如下所示：

```
AddScreen _
    ( _
    CONTROLLER_TYPE_4T1, _
    SCREEN_NO, _
    SCREEN_WIDTH, _
    SCREEN_HEIGHT, _
    SCREEN_TYPE, _
    1, _
    SCREEN_DATADA, _
    SCREEN_DATAOE, _
    SCREEN_ROWORDER, _
    SCREEN_FREQPAR, _
    SCREEN_COMM, _
    SCREEN_BAUD, _
    SCREEN_SOCKETIP, _
    SCREEN_SOCKETPORT, _
    "C:\\ScreenStatus.ini" _
    ) 
```

执行此功能时，我收到该错误。我能做些什么来解决这个问题？

# java - 使用 lambdaj 过滤集合

> ID：15472625
> 
> 赞同：6
> 
> 时间：2013-03-18T08:43:13.770
> 
> 标签：java, collections, filtering, lambdaj

我有两个这样的课程：

```
public class Order{
    private Integer id;
    private List<Position> positions;
    ...
}

public class Position{
    private Integer id;
    private String content;
    ...
} 
```

现在，我有一个包含订单的列表，并且想要获取所有具有特定内容头寸的订单。目前我这样做：

```
List<Order> orders = ... ;

List<Order> outputOrders = ... ;
for(Order order : orders){
    if(select(order.getPositions(), having(on(Position.class).getContent(),equalTo("Something"))).size() != 0){
        outputOrders.add(order);
    }
} 
```

有没有更好的方法来用 lambdaj 做到这一点？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T10:34:26.447

这个呢：使用`org.hamcrest.Matchers.hasItem`？

```
List<Order> outputOrders =
        filter(having(on(Order.class).getPositions(),
                      hasItem(having(on(Position.class).getContent(),
                                     equalTo("Something")))),
               orders); 
```

# ios - jQuery Mobile 和 PhoneGap：过渡期间的正文背景

> ID：15472627
> 
> 赞同：3
> 
> 时间：2013-03-18T08:43:19.570
> 
> 标签：ios, cordova, jquery-mobile, transition

由于我已将 jQuery Mobile 升级到 1.3 并将 PhoneGap 升级到 2.5，因此我的 iOS 应用程序中的页面更改存在问题。

当我点击一个链接时，几毫秒，我看到“无页面”状态。这不是白屏，而是我的“body”元素的背景。我在网络上进行了一些研究，但似乎没有任何技巧对我有用。他们中的大多数人告诉禁用 jQM 的转换。但对我来说已经是这样了。

我跟踪了 jQM 事件以查看发生了什么，显然当我使用方法 changePage() 时，它隐藏了当前页面，然后显示最后一页。而在这两种方法中，我可以看到这种“无页面”状态，以我的body背景。

所以它不是在过渡期间发生的闪烁导航（因为我禁用了过渡），而是别的东西。

任何人都会建议解决这个烦人的问题（我不能以我的声誉发布图片）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T17:42:07.150

这个问题有一些关于改变`$.mobile.defaultTransitionHandler`使用`simultaneousHandler`而不是默认的建议`sequentialHandler`。

[https://github.com/jquery/jquery-mobile/issues/4024](https://github.com/jquery/jquery-mobile/issues/4024)

这提高了我的应用程序中的页面转换速度（$.mobile.defaultPageTransition 设置为'none'），但我仍在处理偶尔的白色闪烁。

# c# - 如何从这样的几个重复代码方法中提取一个通用方法？

> ID：15472629
> 
> 赞同：1
> 
> 时间：2013-03-18T08:43:37.747
> 
> 标签：c#, generics, refactoring, duplicates

我有 3 个类，都继承自一个基类“A”，所以我称它们为 A1、A2、A3。从'B'继承的另外3个类，称为B1，B2，B3。现在我创建了 3 种方法来完成相同的工作，如下所示：

```
List<A1> Do(List<B1>);
List<A2> Do(List<B2>); 
List<A3> Do(List<B3>); 
```

它们具有相同的逻辑和代码，唯一的区别是 3 类的不同新方法：

```
B1 b = new B1(...) in method 1
B2 b = new B2(...)  in method 2 
B3 b = new B3(...)  in method 3. 
```

那么有人可以帮我弄清楚如何从这三种方法中通用一种方法吗？

我需要添加一些关于 B1 构造函数的内容，因为我使用了多个构造函数，所以事情变得更加复杂，有些是这样的：

```
B1(A1, int) 
```

有些是这样的：

```
B1(A1) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:48:20.473

这完全取决于`Bx`构造函数的外观。我的第一个猜测是

```
public List<TOutput> Do<TInput, TOutput>(
    List<TInput> input, 
    Func<..., TOutput> outputCreator) 
```

进而

```
var a1 = Do(b1, (...) => new B1(...)); 
```

所以这里的主要问题是`...`零件应该是什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:49:44.417

您可以将委托传递给方法来确定正在创建的对象的确切类型，如下所示：

```
List<AX> Do<AX,BX>(List<BX> b, Func<AX,int?,BX> make) where AX : A, BX : B {
    ...
} 
```

现在您可以为您的`make`参数传递一个 lambda，如下所示：

```
var listB2 = new List<B2>();
var res = Do(listB2, (a, num) => num.HasValue ? new B2(a, num.Value) : B2(a)); 
```

# java - 支持印地语的安卓应用

> ID：15472633
> 
> 赞同：0
> 
> 时间：2013-03-18T08:43:47.363
> 
> 标签：java, android, textview

```
 public class ICLLocalization extends Activity {
    /** Called when the activity is first created. */
   @Override
   public void onCreate(Bundle savedInstanceState) {
          super.onCreate(savedInstanceState);
          setContentView(R.layout.main);
          TextView tv1=new TextView(this);
          tv1.setTypeface(Typeface.createFromAsset(getAssets(),"fonts/mangal.ttf"));
          tv1.setText("इस अंग्रेज़ी हिन्दी अंग्रेज़ी शब्दकोश में आप आसानी से हिन्दी और अंग्रेज़ी शब्दों के अर्थ ढूंढ    सकते हैं। नवम्बर ");
          tv1.setTextSize(20);
          layout.addView(tv1);
         }
   } 
```

错误如下

1.  Main 无法解析或不是字段。
2.  对于 R.layout 类型，方法 addView(TextView) 未定义。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T09:00:53.953

添加这个，

`<string name="app_info">इस अंग्रेज़ी हिन्दी अंग्रेज़ी शब्दकोश में आप आसानी से हिन्दी और अंग्रेज़ी शब्दों के अर्थ ढूंढ सकते हैं। नवम्बर </string>`

到您的**res/values/string.xml**文件。

在你的程序中，替换这一行，

```
tv1.setText("इस अंग्रेज़ी हिन्दी अंग्रेज़ी शब्दकोश में आप आसानी से हिन्दी और अंग्रेज़ी शब्दों के अर्थ ढूंढ    सकते हैं। नवम्बर "); 
```

和

tv1.setText(R.string.app_info);

希望这会奏效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:52:10.060

将字符串放入 values/string.xml

要广告文本视图，请在布局 (main.xml) 中放置一个包装器（例如 LinearLayout）

然后在 onCreate 中找到

```
LinearLayout ln = (LinearLayout)findById(R.id.linearlayout_name);
TextView tv1=new TextView(this);
tv1.setTypeface(Typeface.createFromAsset(getAssets(),"fonts/mangal.ttf"));
tv1.setText(R.string.text);
tv1.setTextSize(20);
ln.addView(tv1) 
```

# jsf - 在我的托管 bean 中使用会话 ejb 时出现空指针异常

> ID：15472637
> 
> 赞同：0
> 
> 时间：2013-03-18T08:44:13.980
> 
> 标签：jsf, jpa, nullpointerexception

```
my  sessionfacade class

         package com.entity;

         import javax.ejb.Stateless;
         import javax.persistence.EntityManager;
         import javax.persistence.PersistenceContext;

         @Stateless
         public class UsersFacade extends AbstractFacade<Users> implements UsersFacadeLocal 
         {
         @PersistenceContext(unitName = "My_communityPU")
         private EntityManager em;

         @Override
         protected EntityManager getEntityManager() {
         return em;
         }

         public UsersFacade() {
         super(Users.class);
         }

         }

my managed bean class

        package com.jsf;

        import com.entity.Users;
        import com.entity.UsersFacadeLocal;
        import javax.inject.Named;
        import javax.enterprise.context.SessionScoped;
        import java.io.Serializable;
        import java.util.List;
        import java.util.Map;
        import javax.annotation.ManagedBean;
        import javax.ejb.EJB;
        import javax.faces.context.ExternalContext;
        import javax.faces.context.FacesContext;

        @Named(value = "loginMB")
        @ManagedBean
        @SessionScoped
        public class LoginMB implements Serializable {
        @EJB
        private UsersFacadeLocal usersFacade;

        protected Users user;
        protected List<Users> lusers;
        protected String username;    
        protected String password;

           public LoginMB() {

        lusers=usersFacade.findAll();

           }
          } 
```

我不知道为什么我的 ejb 注入 mangedbean 不起作用。调用 findall(); 时出现空指针异常；使用 usersFacade 的方法我正在使用 glassfish 服务器处理 netbeans ide。我只是在 jsf 中学习 jpa 请让我知道我在哪里做错了

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-18T08:57:15.163

容器仅在实例化托管 bean 后才注入 EJB。使用 @PostConstruct 注释并在那里使用 EJB。注入后将调用注解的方法。

# cluster-computing - ES集群可以包含多少个节点？最大数量

> ID：15472641
> 
> 赞同：0
> 
> 时间：2013-03-18T08:44:29.430
> 
> 标签：cluster-computing, elasticsearch

我很好奇ES集群可以包含的最大节点数？:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:05:45.120

对节点数量的唯一实际限制是资源量：

*   每个节点都需要存在`cluster state`于所有节点上的数据结构中，因此会消耗少量的堆空间。
*   并且所有节点都与所有其他节点保持网络连接

所以实际上，你可以很容易地扩展到数千个节点。

# ruby-on-rails-3 - Rails 3：控制器中未初始化的常量？

> ID：15472647
> 
> 赞同：1
> 
> 时间：2013-03-18T08:45:11.883
> 
> 标签：ruby-on-rails-3, datatables

我正在关注 ryan bate 的视频：[http](http://railscasts.com/episodes/340-datatables?view=comments) ://railscasts.com/episodes/340-datatables?view= comments，以了解如何将 jquery 数据表插件连接到服务器端以加快页面加载时间。我正在使用 Rails 3。

我收到了这个奇怪的错误，我不确定这意味着什么：

```
"NameError (uninitialized constant ReportsController::ReportsDatatable):
 app/controllers/reports_controller.rb:20:in `block (2 levels) in index'
 app/controllers/reports_controller.rb:18:in `index'" 
```

这特别奇怪，因为有时我会收到错误，而其他时候却没有。我通常在表格第一次加载时发生，或者（当页面加载时）当我尝试转到下一页时。

在我的报告控制器内部：

```
class ReportsController < ApplicationController
  def index
    respond_to do |format|
      format.html
      format.json { render json: ReportsDatatable.new(view_context) }
    end
  end
end 
```

有任何想法吗？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-18T10:59:50.387

尝试使用 :: 去全局命名空间：

```
 format.json { render json: ::ReportsDatatable.new(view_context) } 
```

# xslt - xsl 按属性匹配模板，除了一个

> ID：15472649
> 
> 赞同：0
> 
> 时间：2013-03-18T08:45:14.030
> 
> 标签：xslt, xpath

我的样式表中有一个属性的全局匹配，但我想排除 f - 元素。我怎样才能做到这一点？

示例 XML：

```
<a>
<b formatter="std">...</b>
<c formatter="abc">...</c>
<d formatter="xxx">
    <e formatter="uuu">...</e>
    <f formatter="iii">
        <g formatter="ooo">...</g>
        <h formatter="uuu">...</h>
    </f>
</d>
</a> 
```

当前解决方案：

```
<xsl:template match="//*[@formatter]">
   ...
</xsl:template> 
```

我已经尝试过这样的事情，但没有奏效。

```
<xsl:template match="f//*[@formatter]">
...
</xsl:template>

<xsl:template match="//f*[@formatter]">
...
</xsl:template> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T09:48:05.620

要么 要么`//f[@formatter]`会`f[@formatter]`起作用（`//`没有必要）。当此 XSLT 在您的示例输入上运行时：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output method="xml" indent="yes"/>

  <xsl:template match="@* | node()">
    <xsl:copy>
      <xsl:apply-templates select="@* | node()" />
    </xsl:copy>
  </xsl:template>

  <xsl:template match="*[@formatter]">
    <xsl:element name="transformed-{local-name()}">
      <xsl:apply-templates select="@* | node()" />
    </xsl:element>
  </xsl:template>

  <xsl:template match="f[@formatter]">
    <xsl:apply-templates select="node()" />
  </xsl:template>
</xsl:stylesheet> 
```

结果是：

```
<a>
  <transformed-b formatter="std">...</transformed-b>
  <transformed-c formatter="abc">...</transformed-c>
  <transformed-d formatter="xxx">
    <transformed-e formatter="uuu">...</transformed-e>

      <transformed-g formatter="ooo">...</transformed-g>
      <transformed-h formatter="uuu">...</transformed-h>

  </transformed-d>
</a> 
```

如您所见，`f`被排除在外。这是否回答了您的问题，还是我误解了您想要做什么？

# c++ - 关闭表单后启用按钮

> ID：15472653
> 
> 赞同：0
> 
> 时间：2013-03-18T08:45:43.520
> 
> 标签：c++, .net, winforms

每当关闭第二个表单时，我想从主表单启用一个按钮。我读过一些关于调用的东西，但不太了解。

我怎么能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:15:06.640

当您关闭第二个表单时，它的`FormClosed`事件会自动引发。在引发事件之前，您可以将事件处理程序注册到事件。这使您能够编写在事件发生时自动执行的代码。

在 .NET 中注册事件处理程序是通过向事件添加委托实例来实现的。委托是一种描述方法签名的类型。如果您使用 gcnew 实例化委托，您会将其与代码中的函数相关联。您可以自己调用委托（此处不需要），也可以将其传递给其他代码，然后可以调用它。后者用于事件。

对于您的情况，这意味着：

1.  查看`FormClosed`事件的委托类型。FormClosedEventHandler 定义为`delegate void FormClosedEventHandler(Object^ sender, FormClosedEventArgs^ e)`
2.  这意味着您必须实现一个不返回任何内容（void）并接受两个参数的方法：一个 System::Object 和一个 System::Windows::Forms::FormClosedEventArgs
3.  实例化 FormClosedEventHandler 委托并将其与您的方法相关联
4.  在第二个表单上注册`FormClosed`事件并在事件处理程序中启用按钮。

一个例子：

```
ref class MainForm
{
    ...

    // event handler function (compatible to the FormClosedEventHandler delegate)
    void OnSecondFormClosed(Object^ sender, FormClosedEventArgs^ e)
    {
        myButton->Enabled = true;
    }

    void DoSomethingWithSecondForm(Form^ secondForm)
    {
        // get a disabled Button
        myButton->Enabled = false;
        // create an event handler by instantiating a delegate
        FormClosedEventHandler^ handler = gcnew FormClosedEventHandler(this, &MainForm::OnSecondFormClosed);
        // register event handler
        secondForm->FormClosed += handler;
    }

    ...
} 
```

（我没有编译代码，但这就是它的一般工作方式）

当两个涉及的表单都是在同一个线程中创建时，不需要做一些额外[`Invoke`](http://msdn.microsoft.com/library/a06c0dc2%28v=vs.80%29.aspx)的 . 否则，您必须将对控件的更改放入创建控件的同一线程中。您可以通过将委托传递给`Control::Invoke`or来实现此目的`Control::BeginInvoke`。

```
// event handler function (compatible to the FormClosedEventHandler delegate)
void OnSecondFormClosed(Object^ sender, FormClosedEventArgs^ e)
{
    if (myButton->InvokeRequired)
    {
        // create a delegate to call the same event handler again
        FormClosedEventHandler^ handler = gcnew FormClosedEventHandler(this, &MainForm::OnSecondFormClosed);
        // BeginInvoke causes the delegate to be called asynchronously from the UI thread
        myButton->BeginInvoke(handler, sender, e);
        // nothing to be done here, the actual work happens when the delegate is actually called
        return;
    }

    myButton->Enabled = true;
} 
```

# javascript - 地址更改时如何阻止Angular重新加载

> ID：15472655
> 
> 赞同：6
> 
> 时间：2013-03-18T08:45:48.807
> 
> 标签：javascript, angularjs

我正在使用 Angular `scrollTo`，`anchorScroll`就像这样：

```
app.controller('TestCtrl', function($scope, $location, $anchorScroll) {
   $scope.scrollTo = function(id) {
      $location.hash(id);
      $anchorScroll();
   }
});

<a ng-click="scrollTo('foo')">Foo</a>

<div id="foo">Here you are</div> 
```

我的问题是，当我单击链接时，页面会向下滚动，但在 50% 的情况下，页面会重新加载，因为 URL 中的哈希值发生了变化。

如何防止 Angular 重新加载页面？

更新：我发现这里

[https://groups.google.com/forum/?fromgroups=#!msg/angular/BY2ekZLbnIM/MORF-z2vHnIJ](https://groups.google.com/forum/?fromgroups=#!msg/angular/BY2ekZLbnIM/MORF-z2vHnIJ)

那

`The $location service broadcasts a $locationChangeStart event. You can observe that and call event.preventDefault() to stop the navigation. Nice!`

谁能告诉如何观察该事件并防止违约

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-07-29T16:09:53.363

正在进行刷新是因为调用了 locationChangeStart 事件。您可以通过以下方式停止此操作：

```
scope.$on('$locationChangeStart', function(ev) {
    ev.preventDefault();
}); 
```

实际上，我最终编写了自己的 scrollTo 指令，该指令在其中使用了这个调用。

[Plnkr](http://plnkr.co/edit/Sl2V4u3tVzsqEj7ttgNi?p=preview) / [Github](https://github.com/khalilravanna/scrollTo)

[我关于这个的另一篇文章在这里](https://stackoverflow.com/questions/14712223/how-to-handle-anchor-hash-linking-in-angularjs/17928780#17928780)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-02T10:31:10.183

您可以将 $event 参数添加到 ng-click 处理程序：

```
<a ng-click="scrollTo('foo', $event)">Foo</a> 
```

在 scrollTo 函数中，您可以执行以下操作：

```
scope.scrollTo = function(str, event) {
    event.preventDefault();
    event.stopPropagation();

    /** SOME OTHER LOGIC */
} 
```

但这意味着您应该手动从“a”元素解析目标锚散列。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-07-27T03:32:29.280

我想这可能对你有帮助

```
$scope.redirectTodiv = function(divname,event) {
    var id = $location.hash();
    $location.hash(divname);
    $anchorScroll();
    $location.hash(id);
}; 
```

来自：[https ://stackoverflow.com/a/25930875/4138368](https://stackoverflow.com/a/25930875/4138368)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-18T11:32:56.683

`$on`该事件在 rootScope 上发出，因此您可以使用该方法 注册观察者。

```
$scope.$on('$locationChangeStart', function(ev) {
  ev.preventDefault();
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-10-30T19:40:14.277

为了防止页面在角锚中重新加载，请添加一个空的 href 属性。

```
<a href ng-click="scrollTo('foo')">Foo</a> OR <a href="" ng-click="scrollTo('foo')">Foo</a> 
```

文档：[https ://docs.angularjs.org/api/ng/directive/ngHref](https://docs.angularjs.org/api/ng/directive/ngHref)

# wampserver - 更改 WAMP 中的根目录

> ID：15472657
> 
> 赞同：6
> 
> 时间：2013-03-18T08:45:51.737
> 
> 标签：wampserver

我正在寻找更改根目录以将目录指向以下位置：

C:\文档和设置\用户\我的文档[文档]\wamp

我知道我必须在以下几行中更改 apache http.conf 文件

DocumentRoot "c:/Documents and Settings/用户/我的文档/[文档]/"

但是，似乎 [documents] 之外的方括号导致显示禁止错误：

禁止的

您无权访问此服务器上的 /login/。

有没有办法在目录树中使用方括号？[documents] 是为特定目的而命名的，并且需要保持这种方式。否则，我将需要做很多重新编码。

指向目录树时有哪些规则（如果有）？

提前致谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-06-25T13:17:37.373

我遇到了同样的禁止错误（在 wamp 的 windows 机器中），经过大量研发后，我发现需要更改文件中的默认虚拟主机，该`httpd-vhosts.conf`文件存在于：

```
C:\wamp\bin\apache\Apache2.2.17\conf\extra 
```

（将目录更改`c:/wamp/www`为您想要的目录）

从 ：

```
ServerAdmin webmaster@localhost  
DocumentRoot “c:/wamp/www”  
ServerName localhost  
ErrorLog “logs/localhost-error.log”  
CustomLog “logs/localhost-access.log” common 
```

到：

```
ServerAdmin webmaster@localhost
DocumentRoot “E:/wamp/www”
ServerName localhost
ErrorLog “logs/localhost-error.log”
CustomLog “logs/localhost-access.log” common 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T08:50:34.297

右键单击您的文件夹，选择属性，然后转到安全选项卡。编辑该文件夹的适当权限，以便 apache 用户可以有权访问该文件夹。

我已经在我的系统中测试了该场景，并且名称中带有括号的 DocumentRoot 文件夹可以正常工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-19T18:06:15.270

以防万一有人像我一样遇到这个。

我尝试设置为 DocumentRoot 的目录的父文件夹存在权限问题。

我发现允许 SYSTEM 用户完全控制权限解决了这个问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-24T17:33:31.790

如果您有权限问题（403 被拒绝），并且您使用的是较新的 WAPM，例如

-wampserver2.5 与

-Apache-2.4.9

-Mysql-5.6.17

-php5.5.12-64b

您可能需要检查 httpd.conf 代码（ca #240）：

```
    允许覆盖无
    要求全部拒绝

```

并将其更改为：

```
选项 FollowSymLinks
    AllowOverride 无
    订单拒绝，允许
    拒绝一切

```

此外，您可能想要：[看看这个](http://s2.jeffsbio.co.uk/product_info.php/lamp-terminal/lamp-example/lamp-shell-netbeans-network-openssl/wamp-setup-ssl-virtualhosts-p-246)

# python - 异常后的 SQLAlchemy 会话

> ID：15472658
> 
> 赞同：2
> 
> 时间：2013-03-18T08:45:54.530
> 
> 标签：python, session, exception, sqlalchemy

在 SQLAlchemy 中，发生异常后，由于回滚，需要再次设置会话。因此，我是否应该始终设置通话之间的会话？

```
user = User('username', 'Full Name', 'password', 'email',
                datetime.now(), 'username')
session.add(user)
try:
    session.commit()
except SQLAlchemyError:
    pprint('Not quite right...')

# the session needs to be re-instantiated in case of an exception.
# should I always do it or only if there was an exception above?
session = Session()
res = session.query(User).all()
... 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T22:13:38.270

鱼：

```
try:
    session.commit()
except SQLAlchemyError:
    pprint('Not quite right...')
    session.rollback() 
```

[钓鱼竿](http://docs.sqlalchemy.org/en/rel_0_8/orm/session.html)。

# android - XML 属性是强制性的吗？

> ID：15472665
> 
> 赞同：-6
> 
> 时间：2013-03-18T08:46:19.557
> 
> 标签：android, ios, xml

我想知道 xml 属性是否是强制性的。让我用一个例子来说明。

```
<myxml>
    <myelement attr1="value1" attr2="value2" />
    <myelement attr1="value3" />
</myxml> 
```

大多数 XML 解析器会解析这个 XML 吗？我最感兴趣的是知道 iOS 和 Android SDK 中内置的 XML 解析器是否会正确解析这个 XML，以及解析对这些人来说是否会更困难？

如果这个问题是对任何先前问题的部分重复，请原谅，但我需要一个明确的答案。

提前致谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:48:52.180

XML 属性不是强制性的。您根据自己的方便和需要使用它。是的，这个 XML 将被所有解析器解析。如果 XML 完全有效，那么任何 XML 解析器都会正确解析它，无论它是在 iOS 还是 Android 中。

# css - 如何在整个页面中居中对齐特定字符？

> ID：15472666
> 
> 赞同：0
> 
> 时间：2013-03-18T08:46:23.117
> 
> 标签：css, html, character, center

我正在尝试将网站正文中的特定字符居中对齐。我只想将具有“[]、*”和罗马数字的事物居中。有没有一种方法可以让我只将这些居中，而不必为每个单独的标签手动设置一个 div 标签？

例如，此处的“[E]”将位于页面的中心：

* * *

[E]

房子是红色的

* * *

谢谢！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:07:36.007

我相信这是不可能的，因为 css 和 html 都没有那些“if”语句，你可以告诉它在满足条件时做某事。

**您可以在 html 或text-align:center**中使用 < **center** > 标签来代替 css。

# php - Javascript eval() 无法按预期工作

> ID：15472667
> 
> 赞同：-1
> 
> 时间：2013-03-18T08:46:31.513
> 
> 标签：php, javascript, json, tinymce

我正在以 JSON 格式从 PHP 函数中获取数据。

```
 var xhReq = new XMLHttpRequest();
 xhReq.open("GET", "http://myserver/getjson", false);
 xhReq.send(null);
 var serverResponse = xhReq;

var jsondata=eval("("+serverResponse.responseText+")") //retrieve result as an JavaScript object

 images="";

 for(var i=0; i<jsondata.length;i++)
 {
  images+="  ['"+jsondata[i].title+"','"+IMAGESROOT+"121a.png"+"']";

     if(i<jsondata.length-1)
        images+=",";
 } 
```

我以以下格式获取此数据。

```
['title 1','http://site.com/images/121a.png'],
['title 2','http://site.com/images/121a.png'],
['title 3','http://site.com/images/121a.png'],
['title 4','http://site.com/images/121a.png'] 
```

最后，当我使用 eval() 将此数据分配为数组时

```
var tinyMCEImageList = new Array(eval(images)); 
```

它只显示数组的最后一个元素，即`['title 4','http://site.com/images/121a.png']`.

我希望分配数组的每个元素。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:49:55.243

一个简单的解决方案是

```
var tinyMCEImageList = eval('['+serverResponse.responseText+']'); 
```

或者

```
var tinyMCEImageList = JSON.parse(
    '['+serverResponse.responseText.replace(/'/g, '"')+']'
); 
```

但更好的解决方案是通过添加缺少的和使用正确的引号来生成[JSON](http://www.json.org/)，这将允许您直接使用。请注意，PHP 是[生成 JSON](http://php.net/manual/en/book.json.php)的所有工具的标准配置。`[``]``JSON.parse`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:00:45.297

在 javascript 中，大括号`(`和`)`, 可以表示以下两种情况之一：

1.  在函数结束时，它会触发函数调用。

2.  在表达式中，它会覆盖运算符优先级。

因此，由于您要评估的是一个表达式，因此看起来数字 2 正在发生。请注意，上述两个含义是大括号在 javascript 中所做的唯一事情。例如，大括号不能用作 Perl 中的分组或列表运算符。

接下来我们遇到逗号运算符。在 javascript 中，逗号 ,`,`可以表示以下四种情况之一：

1.  在函数调用中，逗号分隔传入函数的参数。

2.  在数组文字中，逗号分隔数组成员。

3.  在对象字面量中，逗号分隔对象成员。

4.  在表达式中，逗号是逗号运算符。

什么是逗号运算符？逗号运算符是一个运算符，它接受两个表达式，计算两个表达式并返回第二个。因此，假设您有 3 个表达式 X、Y 和 Z。以下行：

```
X, Y, Z 
```

在 javascript 中与以下内容基本相同：

```
(X , Y) , Z 
```

所以当然上面的表达式首先计算 X 然后 Y 然后返回 Y 作为结果然后 Y 然后 Z 并返回 Z 作为结果。

因此，您看到的是行为编号 4：逗号充当逗号运算符。

我怀疑您的意图是行为编号 2：让逗号充当数组分隔符。如果是这样，那么您正在评估的字符串是错误的。它应该是：

```
"[" + your_string + "]" 
```

这意味着您收到的数据不是 JSON（或者更确切地说，是无效的 JSON）。您可以通过执行上述操作以在 javascript 中解析非 JSON 字符串来解决此问题。或者您可以在 php 中执行上述操作以使数据成为有效的 JSON，以便您的 javascript 代码能够正常工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T08:49:59.990

尝试这个

```
 var tinyMCEImageList = new Array();
 for(var i=0; i<jsondata.length;i++)
{
  images+="  ['"+jsondata[i].title+"','"+IMAGESROOT+"121a.png"+"']";

 if(i<jsondata.length-1)
    images+=",";

     tinyMCEImageList[]=images
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-18T08:50:44.877

尝试这个：

```
var jsondata=eval("(["+serverResponse.responseText+"])") //retrieve result .. 
```

四个元素缺少数组封装，最后一个元素只被分配回来。

# android - 片段到活动通信的替代方式

> ID：15472669
> 
> 赞同：2
> 
> 时间：2013-03-18T08:46:40.750
> 
> 标签：android

请注意，这是官方的沟通方式，`Fragment`根据[http://developer.android.com/training/basics/fragments/communicating.html](http://developer.android.com/training/basics/fragments/communicating.html)`Activity`

```
public class HeadlinesFragment extends ListFragment {
    OnHeadlineSelectedListener mCallback;

    // Container Activity must implement this interface
    public interface OnHeadlineSelectedListener {
        public void onArticleSelected(int position);
    }

    @Override
    public void onAttach(Activity activity) {
        super.onAttach(activity);

        // This makes sure that the container activity has implemented
        // the callback interface. If not, it throws an exception
        try {
            mCallback = (OnHeadlineSelectedListener) activity;
        } catch (ClassCastException e) {
            throw new ClassCastException(activity.toString()
                    + " must implement OnHeadlineSelectedListener");
        }
    }

    @Override
    public void onListItemClick(ListView l, View v, int position, long id) {
        // Send the event to the host activity
        mCallback.onArticleSelected(position);
    }
} 
```

但是，我遇到了执行以下技术的代码。

```
 @Override
    public void onListItemClick(ListView l, View v, int position, long id) {
        // Send the event to the host activity
        ((OnHeadlineSelectedListener)this.getActivity()).onArticleSelected(position);
    } 
```

到目前为止我测试过它可以工作，即使在配置更改后，我仍然得到最新的`Activity`.

我只是想知道，除了谷歌推荐的方法之外，这种方法背后有什么问题吗？例如，`getActivity`甚至可以返回 null 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:55:43.163

第二种方式应该没问题 - 第一种方式基本上是一种“快捷方式”，它将活动存储在局部变量中，而不是`getActivity()`每次使用时都“获取”它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T09:16:35.280

官方方式的一个优点是，您的代码中只有*一个位置*需要确保活动实现接口。在第二种方法中，如果您想避免 any ，则必须在每次方法调用后`ClassCastExceptions`捕获*ClassCastExceptions 。*

虽然我也经常使用第二种方法（没有任何问题），但我可以想象使用 Google 版本是有益的，特别是在许多方法调用、大量接口或相当大的项目中，其中部件（片段和活动）由不同的团队。

# log4net - 从 appender 中退出日志记录

> ID：15472672
> 
> 赞同：0
> 
> 时间：2013-03-18T08:46:54.170
> 
> 标签：log4net, log4net-filter

如果追加器匹配，是否可以配置为使 log4net 停止遍历其余的追加器？

就像是：

```
<appender name="TlsReadingAppender" type="log4net.Appender.RollingFileAppender">
  <file value="C:\logs\TPOSIn_TlsReading.log" />
  <filter type="log4net.Filter.LoggerMatchFilter">
    <loggerToMatch value="TPOSIn.ServiceApp.Tls.TlsHandler"/>
  </filter>
  <filter type="log4net.Filter.DenyAllFilter" />

  <dontCheckAnyMoreAppenders />

</appender> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T00:00:24.547

您可以指定很长的附加程序列表，但只有在 log4net.config 文件的根标记中引用它们时它们才会是“活动的”：

```
 <root>
    <level value="ERROR" />
    <appender-ref ref="fileLogAppender" />
  </root> 
```

您可以创建一个附加程序列表，使用“namespace.class”作为附加程序的名称来过滤每个文件上的事件。

你能分享更多关于你的要求和你想要实现的目标吗？

# php - PHP类存储表数据，列名+类型

> ID：15472679
> 
> 赞同：0
> 
> 时间：2013-03-18T08:47:59.373
> 
> 标签：php

我收到错误： **不在对象上下文**中使用 $this`$this->filterArray`

所以我将其更改为`self::filterArray`并出现错误：**未知：非静态方法 Abstract::filterArray() 不应静态调用**

我不确定我是否正确，或者我是否应该使用抽象或接口？

基本上我要做的是设置一个`array(column_name => type)`，这样我就可以像这样使用它来构建一个具有强制数据类型的基本插入：

```
 $cols = SentDAO::describe();

    foreach ($cols as $col => $type) {

        if (!isset($data[$col])) continue;

        switch ($type) {
            case self::INT:      $value = intval($data[$col]);
            case self::TEXT:     $value = $this->escape($data[$col]);
            case self::DATE_NOW: $value = 'NOW()';
        }

        $return[] = " {$col} = '{$value}'";
    } 
```

我不想最终创建数百个不同的对象，并希望将其简单地存储在数组中。

```
/**
 * Abstract
 *
 */
abstract class AccountsAbstract
{
    /**
     * Data Types
     */
    const INT = "INT";
    const TEXT = "TEXT";
    const DATE_NOW = "DATE_NOW";

    /**
     * Get columns with data type
     * @param  array $filter: exclude columns
     * @return array
     */
    abstract static function describe($filter);

    /**
     * Filter from array, by unsetting element(s)
     * @param string/array $filter - match array key
     * @param array to be filtered
     * @return array
     */
    protected function filterArray($filter, $array)
    {
        if($filter === null) return $array;

        if(is_array($filter)){
            foreach($filter as $f){
                unset($array[$f]);
            }
        } else {
            unset($array[$filter]);
        }

        return $array;
    }
}

class AccountsDAO extends AccountsAbstract
{
    /**
     * Columns & Data Types.
     * @see AccountsAbstract::describe()
     */
    public static function describe($filter)
    {
        $cols = array(
            'account_id' => AccountsAbstract::INT,
            'key' => AccountsAbstract::TEXT,
            'config_id' => AccountsAbstract::INT
        );

        return $this->filterArray($cols, $filter);
    }
}

/**
 * Records
 */
class AccountsRecordsDAO extends AccountsAbstract
{
    public static function describe($filter)
    {
        $cols = array(
            'record_id' => AccountsAbstract::INT,
            'created' => AccountsAbstract::DATE_NOW,
            'customer_id' => AccountsAbstract::INT
        );

        return $this->filterArray($cols, $filter);
    }
}

/**
 * Config
 */
class AccountsConfigDAO extends AccountsAbstract
{
    public static function describe($filter)
    {
        $cols = array(
            'config_id' => AccountsAbstract::INT,
            'hidden' => AccountsAbstract::INT,
            'language_id' => AccountsAbstract::INT
        );

        return $this->filterArray($cols, $filter);
    }
} 
```

另外我认为使用完整的类名会使代码非常混乱且不那么可移植：`AccountsAbstract::INT`有没有办法`self::INT`代替使用？或者我应该将它们创建为私有属性，即使它们永远不会只更改引用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T08:53:53.290

您正在从静态方法调用 filterArray，这意味着您没有 $this 实例。

由于 filterArray 的实现似乎不需要 $this，因此您也可以将其设为静态方法并通过`self::filterArray($filter, $array)`

# yii - 传递单选按钮值 Onchange

> ID：15472682
> 
> 赞同：1
> 
> 时间：2013-03-18T08:48:01.783
> 
> 标签：yii

在 Yii 中，列表视图用作搜索结果。控制器

```
 public function actionSearch()
        {
           $key=$_GET['Text'];
            $criteria = new CDbCriteria();
            $criteria->addSearchCondition('username',$key,true,"OR");
            $criteria->select = "`username`,`country`"; 
           $data=new CActiveDataProvider('User',
                   array('criteria'=>$criteria,'pagination'=>array('pageSize'=>5),
            ));
           $this->render('search', array(
           'ModelInstance' => User::model()->findAll($criteria),
           'dataProvider'=>$data,
            ));               

        } 
```

搜索.php

```
<?php
//THE WIDGET WITH ID AND DYNAMICALLY MADE SORTABLEATTRIBUTES PROPERTY

$this->widget('zii.widgets.CListView', array(
        'id'=>'user-list',
        'dataProvider'=>$dataProvider,
        'itemView'=>'results',
        'template' => '{sorter}{items}{pager}',
));
?>
<?php echo CHtml::radioButtonList('type','',array(
                    '1'=>'Personal',
                    '2'=>'Organization'),array('id'=>'type'),array( 'separator' => "<br/>",'style'=>'display:inline')
                );
                ?> 
```

结果.php

```
<?php echo $data->username."<br>"; ?>
<?php echo $data->country; ?> 
```

用户模型字段为 id、name、country、type，搜索结果显示 name 和 country。现在要根据单选按钮 onchange（个人/组织）过滤结果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T19:44:54.920

您可以尝试使用[$.fn.yiiListView.update](https://github.com/yiisoft/yii/blob/master/framework/zii/widgets/assets/listview/jquery.yiilistview.js)方法传递列表视图的 id（`user-list`在您的情况下）和[ajax 设置](http://api.jquery.com/jQuery.ajax/)作为参数。`data`ajax 设置的属性可用于指定将传递给您`actionSearch`以更新列表视图的 GET 参数。因此，您必须在操作中分析这些参数并`CDbCriteria`根据它们更改实例。

以下将 onchange 处理程序绑定到单选按钮列表的脚本将在视图中注册：

```
Yii::app()->clientScript->registerScript("init-search-radio-button-list", "
    $('input[name=\"type\"]').change(function(event) {
        var data = {
            // your GET-parameters here
        }
        $.fn.yiiListView.update('user-list', {
            'data': data
            // another ajax settings if desired
        })
    });
", CClientScript::POS_READY); 
```

您也可以考虑[以下代码](http://www.yiiframework.com/wiki/229/filter-search-with-clistview/)作为基于[过滤 CGridView 结果的常用技术的示例](http://queirozf.com/reminders/yii-cgridview-filter-examples)。

顺便说一句，出于性能原因，您可以在 ajax 更新的情况下部分呈现您的视图：

```
$view = 'search';
$params = array(
    'ModelInstance' => User::model()->findAll($criteria),
    'dataProvider' => $data
);
if (Yii::app()->request->isAjaxRequest)
    $this->renderPartial($view, $params);
else
    $this->render($view, $params); 
```

# ios - 如何在 UIScrollView 或 UIViewVontroller 的视图内绘制？

> ID：15472683
> 
> 赞同：0
> 
> 时间：2013-03-18T08:48:04.153
> 
> 标签：ios, uiview, uiviewcontroller, uiscrollview, glkit

我想在我的标签栏应用程序中实现签名功能。我想将 a 添加`subView`到`UIScrollView`or `UIViewController`（哪个更合适和更容易）。我应该使用哪个控件？我想在签名视图上选择触摸事件并利用这些点来获取签名。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T09:02:09.823

**您需要阅读的第一件事是**- [http://developer.apple.com](http://developer.apple.com/library/ios/#documentation/2DDrawing/Conceptual/DrawingPrintingiOS/GraphicsDrawingOverview/GraphicsDrawingOverview.html) 并查看这个苹果演示 - [GLPaint](http://developer.apple.com/library/ios/#samplecode/GLPaint/Introduction/Intro.html)

之后你可以检查这个 -[教程](http://mobile.tutsplus.com/tutorials/iphone/ios-sdk_freehand-drawing/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:07:03.203

您可以只使用 UIView 来触摸绘图点。我需要实现类似的东西，下面的页面真的很有帮助。它用代码解释了一切。你可能想检查一下。

[http://www.effectiveui.com/blog/2011/12/02/how-to-build-a-simple-painting-app-for-ios/](http://www.effectiveui.com/blog/2011/12/02/how-to-build-a-simple-painting-app-for-ios/)

# c# - 如何获取某个 UTF-8 语言组中的所有字符？

> ID：15472692
> 
> 赞同：6
> 
> 时间：2013-03-18T08:48:48.780
> 
> 标签：c#, .net, utf-8, fonts, character

我不知道确切的技术术语，但作为标准的 UTF-8 包括来自某些语言分组的字符，可以在 Windows **[Character Map](http://en.wikipedia.org/wiki/Character_Map)****中使用Arial Unicode MS**之类的字体观察到这些字符。

*   拉丁
*   西里尔
*   希腊语
*   希伯来语
*   阿拉伯
*   梵文
*   古吉拉特语
*   卡纳达语
*   老挝
*   平假名
*   货币符号
*   箱图

如何获取每组下的角色列表？这可能是一个 API，也可能只是网络上某个地方的普通列表/数据库。我找到了列出所有内容的[wiki 文章](http://en.wikipedia.org/wiki/List_of_Unicode_characters)，但不是以可迭代的形式。有任何想法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-18T08:53:31.293

[您可以在已发布的UnicodeData.txt](http://www.unicode.org/Public/UNIDATA/UnicodeData.txt)中访问完整的 unicode 字符列表，这是一个 CSV 格式的文件，其中列出了带有组信息的每个字符。

## 按班级分组

第三列以 2 位短格式指定字符类，[长格式在此处指定](http://msdn.microsoft.com/en-in/library/system.globalization.unicodecategory%28v=vs.71%29.aspx)。

*   `letter-character`-- Lu、Ll、Lt、Lm、Lo 或 Nl 类
*   `combining-character`-- Mn 或 Mc 类
*   `decimal-digit-character`-- Nd 级
*   `connecting-character`-- 个人电脑类
*   `formatting-character`-- 类 Cf

甚至可以使用 C# LINQ 遍历某个组的字符：

```
var charInfo = Enumerable.Range(0, 0x110000)
                         .Where(x => x < 0x00d800 || x > 0x00dfff)
                         .Select(char.ConvertFromUtf32)
                         .GroupBy(s => char.GetUnicodeCategory(s, 0))
                         .ToDictionary(g => g.Key);

foreach (var ch in charInfo[UnicodeCategory.LowercaseLetter])
{
    Console.Write(ch);
} 
```

## 按语言分组

但是，没有明确提及语言分组，因此您必须解析名称的第一个单词以按语言对每个字符进行分组。这是最可靠的方法，因为每个拉丁 unicode 字符都以前缀**"Latin"**开头。示例如下：

*   Latin: **Latin Capital Letter A**
*   Latin Extended A: **Latin Small Letter C with acute**
*   Latin Extended B: **Latin Capital Letter Tone Six**
*   Latin Extended Additional: **Latin Capital Letter B With Dot Above**

# sql - 触发器，SQL SERVER 2008

> ID：15472698
> 
> 赞同：1
> 
> 时间：2013-03-18T08:49:00.207
> 
> 标签：sql, sql-server-2008, triggers

我有两张桌子

```
PaymentData
Ser   Customerid Totalpaid
1\.    AGP001     2400
2\.    AGP002     1000
3\.    AGP003     1500

Receipt
Receipt#    Customerid  Paid
1\.          AGP001      1200
2\.          AGP001      1200 
```

我想在表上创建一个触发器，触发器将在更新表字段的`Receipt`插入、更新和删除操作时触发。每次针对 some 插入或更新新的 Receipt 记录时，该客户的字段也会更新。触发器应该执行以下操作。`totalpaid``PaymentData``customerid``totalpaid`

```
Update PaymentData.totalpaid = sum(Recipt.paid) 
where Receipt.customerID = PaymentData.customerID 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T10:30:07.013

我想您需要一些触发器，例如：

```
CREATE TRIGGER dbo.OnReceiptUpdate
   ON  dbo.Receipt
   AFTER INSERT,DELETE,UPDATE --operations you want trigger to fire on
AS 
BEGIN   
    SET NOCOUNT ON;

    DECLARE @customer_id VARCHAR(10)

    SET @customer_id= COALESCE
                        (
                            (SELECT customer_id FROM inserted), --table inserted contains inserted rows (or new updated rows)
                            (SELECT customer_id FROM deleted) --table deleted contains deleted rows

                        )

    DECLARE @total_paid DECIMAL

    SET @total_paid = 
            (
                SELECT SUM(paid) 
                FROM Receipt
                WHERE customer_id = @customer_id
            )

    UPDATE PaymentData
        SET total_paid = @total_paid            
    WHERE customer_id = @customer_id

    IF @@ROWCOUNT = 0               --if nothing was updated - you don't have record in PaymentData, so make it
        INSERT INTO PaymentData (customer_id, total_paid)
            VALUES (@customer_id, @total_paid)  

END
GO 
```

请记住 - 它不适用于多次更新/删除/插入 - 这只是您需要如何做的示例

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T11:34:59.063

尝试使用多次更新、插入或删除来触发此触发器。

```
CREATE TRIGGER [dbo].upd_PaymentData ON dbo.Receipt
FOR INSERT, UPDATE, DELETE
AS
IF @@ROWCOUNT = 0 return
SET NOCOUNT ON;
DECLARE @actionTable nvarchar( 10),
        @insCount int = (SELECT COUNT(*) FROM inserted),
        @delCount int = (SELECT COUNT(*) FROM deleted)
SELECT @actionTable = CASE WHEN @insCount > @delCount THEN 'inserted'
                           WHEN @insCount < @delCount THEN 'deleted' ELSE 'updated' END
IF @actionTable IN ('inserted', 'updated')
  BEGIN
    ;WITH cte AS
     (
      SELECT r.Customerid, SUM(r.Paid) AS NewTotalPaid
      FROM dbo.Receipt r  
      WHERE r.Customerid IN (SELECT i.Customerid FROM inserted i)
      GROUP BY r.Customerid
      )
      UPDATE p
      SET p.Totalpaid = c.NewTotalPaid
      FROM dbo.PaymentData p JOIN cte c ON p.Customerid = c.Customerid
  END
ELSE
  BEGIN
    ;WITH cte AS
     (
      SELECT d.Customerid, SUM(ISNULL(r.Paid, 0)) AS NewTotalPaid
      FROM deleted d LEFT JOIN dbo.Receipt r ON d.Customerid = r.Customerid
      GROUP BY d.Customerid
      )
      UPDATE p
      SET p.Totalpaid = c.NewTotalPaid
      FROM dbo.PaymentData p JOIN cte c ON p.Customerid = c.Customerid
  END 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T14:05:54.160

```
CREATE TRIGGER [dbo].upd_PaymentData ON dbo.Receipt

FOR INSERT, UPDATE, DELETE

AS

IF @@ROWCOUNT = 0 return

SET NOCOUNT ON;

DECLARE @actionTable nvarchar( 10),

        @insCount int = (SELECT COUNT(*) FROM inserted),

        @delCount int = (SELECT COUNT(*) FROM deleted)

SELECT @actionTable = CASE WHEN @insCount > @delCount THEN 'inserted'

                           WHEN @insCount < @delCount THEN 'deleted' ELSE 'updated' END

IF @actionTable IN ('inserted', 'updated')

  BEGIN

    ;WITH cte AS

     (

      SELECT r.Customerid, SUM(r.Paid) AS NewTotalPaid,<strike> r.paymentDate</strike>

      FROM dbo.Receipt r  

      WHERE r.Customerid IN (SELECT i.Customerid FROM inserted i)

      GROUP BY r.Customerid

      )

      UPDATE p

      SET p.Totalpaid = c.NewTotalPaid

      <strike>SET p.lastpaymentDate = c.paymentDate</strike>

      FROM dbo.PaymentData p JOIN cte c ON p.Customerid = c.Customerid

  END

ELSE

  BEGIN

    ;WITH cte AS

     (

      SELECT d.Customerid, SUM(ISNULL(r.Paid, 0)) AS NewTotalPaid

      FROM deleted d LEFT JOIN dbo.Receipt r ON d.Customerid = r.Customerid

      GROUP BY d.Customerid

      )

      UPDATE p

      SET p.Totalpaid = c.NewTotalPaid

      FROM dbo.PaymentData p JOIN cte c ON p.Customerid = c.Customerid

  END 
```

我尝试添加更多功能，如标记内所示，~~但~~它给出错误并且无法正常工作。只需在两个表中添加一个字段。在`paymentdata`添加`lastpaymentdate`，并在`receipt`添加`paymentdate`。在插入或更新`receipt`表时，`paymentdata.lastpaymentdate`还应更新为`receipt.paymentdate`.

# ibm-mobilefirst - 在 IBM Worklight 中显示来自服务器的结果

> ID：15472699
> 
> 赞同：0
> 
> 时间：2013-03-18T08:49:01.587
> 
> 标签：ibm-mobilefirst

我已经在 IBM Worklight 中实现了 HTTP 适配器。我想显示从服务器返回的结果。我想显示 HTML 文件。我的代码是

```
function getFeeds() {
    var input = {
        method : 'get',
        returnedContentType : 'text',
        path : "marketing/partners.html"
    };
    WL.Logger.debug("sdfsds");
    return WL.Server.invokeHttp(input);

} 
```

我想接收（显示）`WL.Server.invokeHttp(input)`。收到后我想解析数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T10:57:41.290

如果您以纯文本形式检索它，一旦将其返回到您的应用程序，请执行以下操作

```
$("#container-id").html(response.invocationResponse.text); 
```

这会将您检索到的 HTML 注入到具有 id 的元素中`container-id`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-18T15:27:49.543

查看[服务器端开发入门模块](http://www.ibm.com/developerworks/mobile/worklight/getting-started.html#server-side-development)。HTTP 适配器内部[- 与 HTTP 后端系统通信](http://public.dhe.ibm.com/software/mobile-solutions/worklight/docs/v506/04_02_HTTP_adapter_-_Communicating_with_HTTP_back-end_systems.pdf)幻灯片 15 上的模块 - “XSL 转换过滤”将向您展示如何过滤从后端返回的数据。[必须使用WL.Client.invokeProcedure](http://pic.dhe.ibm.com/infocenter/wrklight/v5r0m5/index.jsp?topic=%2Fcom.ibm.worklight.help.doc%2Fapiref%2Fr_wl_client_invokeprocedure.html)的 onSuccess 回调在客户端上进一步解析和显示数据。[也](http://public.dhe.ibm.com/software/mobile-solutions/worklight/docs/v506/04_06_Invoking_adapter_procedures_from_client_applications.pdf)有一个模块。

这是获取数据并向用户显示的示例：

```
var invocationData = {
    adapter : 'adapter-name',
    procedure : 'procedure-name',
    parameters : []
};

var options = {};

options.onSuccess = function (response) {
       //response is a JavaScript object
       $("#id").html(response.invocationResponse.text);
}

options.onFailure = function (response) {
       alert('Failed!'); //You probably want something more meaningful here.
}

WL.Client invokeProcedure(invocationData, options); 
```

您可以添加一些 JavaScript 库，以便更轻松地在 JSON 响应中搜索值，例如：[jspath](https://github.com/dfilatov/jspath)和[jquery-jspath](https://github.com/thatcher/jquery-jspath)。如果您使用 XML，还有[XPath 。](http://www.w3schools.com/xpath/)

# ios - 无法添加配置文件

> ID：15472701
> 
> 赞同：2
> 
> 时间：2013-03-18T08:49:05.853
> 
> 标签：ios, xcode, xcode4.5, provisioning-profile, ios-provisioning

我正在尝试构建**临时**应用程序。我在 Xcode 中更新了配置文件。

在 Organizer > Library > Provisioning Profiles > 我已经验证了 IOS Team Provisioning Profile。

我将我的 iPhone 连接到 mac 并转到 `Product > Archive > Distribute > Adhoc app`，但是当我尝试将它放在 iPhone 上时出现错误：

> 找不到此可执行文件的有效配置文件。

当我在附加的 iPhone 设备上右键单击（在组织者中）并选择**将设备添加到省时。Profile**它要求提供凭据。我输入它们，我得到错误：

> 仅允许代理和管理员向该团队添加设备。请让团队管理员或代理为您添加此设备。

# qt - Qt, qss, 增加/减少字体大小

> ID：15472703
> 
> 赞同：1
> 
> 时间：2013-03-18T08:49:07.117
> 
> 标签：qt, qtstylesheets

是否可以使用 qss 增加/减少字体大小？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-20T10:42:17.317

font-size 属性的[Qt 样式表参考说：](http://qt-project.org/doc/qt-5/stylesheet-reference.html)

> 在这个版本的 Qt 中，仅支持 pt 和 px 度量。

所以这似乎仍然不可能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-21T10:56:09.873

好吧，您可以尝试通过代码缩放值，然后插入回样式表。

```
//nFontSize and nSomeFactor are your base font size and factor
widgetYouWantToSetFontSizeFor->setStyleSheet("font-size: "+QString::number(scaleUsingSomeFactor(nFontSize, nSomeFactor))+"pt;"); 
```

虽然，我不确定你在找什么。

# django - 迁移可重用 django 应用程序模型以使用自定义用户模型时遇到问题

> ID：15472704
> 
> 赞同：4
> 
> 时间：2013-03-18T08:49:09.227
> 
> 标签：django, django-south, database-migration, django-1.5

我需要将*现有*项目更新到 Django 1.5 以利用其新可用的自定义用户模型。但是，我无法将包含具有外键的模型的可重用应用程序迁移给用户。目前，外键指向`auth.User`但使用自定义用户模型，它需要指向`myapp.CustomUser`. 因此，需要某种迁移。我不能简单地为它创建一个迁移文件，因为它是一个可重用的应用程序。这不会是未来的证明，因为每次更新应用程序时，我都需要记住再次创建该迁移（甚至可能存在迁移冲突），因此这不是一个合理的解决方案。

除了可能分叉每个项目，添加一个迁移文件，然后改用它之外，是否有解决这个问题的方法？

一些代码：

`models.py`在可重复使用的应用程序中

```
from django.conf import settings
from django.db import models

UserModel = getattr(settings, 'AUTH_USER_MODEL', 'auth.User')

class ModelA(models.Model):
    user = models.ForeignKey(UserModel) 
```

`models.py`在我的项目中

```
from django.conf import settings
from django.contrib.auth.models import AbstractUser

class CustomUser(AbstractUser):
    ... 
```

`settings.py`在我的项目中

```
AUTH_USER_MODEL = 'myapp.CustomUser' 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T01:14:26.450

因此，如果可重用应用程序具有为用户创建外键的迁移，则可以执行以下操作来支持 Django 1.5 的自定义用户模型。

```
try:
    from django.contrib.auth import get_user_model
except ImportError: # django < 1.5
    from django.contrib.auth.models import User
else:
    User = get_user_model()

class Migration(SchemaMigration):

    def forwards(self, orm):
        db.create_table('reusableapp.modela', (
            ('user', self.gf('django...ForeignKey')(to=orm["%s.%s" % (User._meta.app_label, User._meta.object_name)])

    models = {
        ...
        # this should replace "auth.user"
        "%s.%s" % (User._meta.app_label, User._meta.module_name): {
        'Meta': {'object_name': User.__name__},
        }
        "reusableapp.modela": {
             'user': ('django.db.models.fields.related.ForeignKey', [], {'to': "orm['%s.%s']"% (User._meta.app_label, User._meta.object_name)})
        }
    } 
```

我不确定这是否是最好的解决方案，但它正在 django-reversion 等应用程序中使用。

`auth.User`但是，如果您最初从 开始然后更改为，则此解决方案仍然可能会带来问题，这`myapp.customuser`仅仅是因为 south 是荣誉 AUTH_USER_MODEL 但尚未创建自定义用户模型的迁移。这可能在测试期间发生。南票 #1179 解决了这个问题 ( [http://south.aeracode.org/ticket/1179](http://south.aeracode.org/ticket/1179) )。

# html - 我想使用 %b.caret 作为锚文本

> ID：15472706
> 
> 赞同：0
> 
> 时间：2013-03-18T08:49:13.687
> 
> 标签：html, haml

使用 haml 我正在尝试生成以下 HTML

```
<a class='dropdown-toggle' data-toggle='dropdown' href='#'>Account <b class="caret"></b></a> 
```

我尝试了以下方法：

```
%a.dropdown-toggle{ href: "#", data: { toggle: "dropdown" } } Account %b.caret 
```

但这只是呈现逐字文本 => Account %b.caret

我也试过

```
%a.dropdown-toggle{ href: "#", data: { toggle: "dropdown" } } Account 
%b.caret 
```

但这会产生

```
</a><b class="caret"> 
```

同样，当我缩进 %b 它不起作用时，我会收到一条错误消息。

唯一有效的是：

```
%a.dropdown-toggle{ href: "#", data: { toggle: "dropdown" } } Account <b class="caret"></b> 
```

但这会将带有类信息的 html 放入源代码中，我正在使用 haml 来避免这种情况，不是吗？我怎样才能让这个东西在haml中工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:57:49.013

像这样设置它：

```
%a.dropdown-toggle{ href: "#", data: { toggle: "dropdown" } }
  Account 
  %b.caret 
```

您可以将内容与容器元素放在同一行，也可以将内容嵌套在下一行。你不能两者都做。向下移动`Account`并嵌套它，`%b.caret`应该可以解决问题。

# python - 让 Python 程序等待

> ID：15472707
> 
> 赞同：12
> 
> 时间：2013-03-18T08:49:37.333
> 
> 标签：python

在轮询某些描述的输入之前，我需要让我的 python 程序等待 200 毫秒。例如，在 C# 中，我可以使用它`Thread.Sleep()`来实现这一点。在 python 中执行此操作的最简单方法是什么？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-03-18T08:51:19.047

Use [Time](http://docs.python.org/2/library/time.html) module.

For example, to delay 1 second :

```
import time
time.sleep(1) # delay for 1 seconds 
```

In your case, if you want to get 200 ms, use this instead:

```
time.sleep(0.2) 
```

time.sleep also works with float.

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-03-18T08:50:50.740

如果您只是想睡觉，可以尝试：

```
import time

time.sleep(0.2) 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-03-18T08:57:49.307

您可以使用`sleep()`模块中的方法`time`。

首先，您必须`time`在程序中导入模块。之后，您可以调用该`sleep()`函数。

将此添加到您的代码中：

```
import time
time.sleep(0.2) 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2015-12-01T20:10:01.987

使用[时间库](https://docs.python.org/2/library/time.html)并使用命令[time.sleep()](https://docs.python.org/2/library/time.html#time.sleep)让它等待。[选择从时间库](https://docs.python.org/2/library/time.html)中提取它然后只使用 sleep() 时效率更高例如：

```
import time
print('hi')
time.sleep(0.2)
print('hello') 
```

改进：

```
from time import sleep
print('Loading...')
sleep(2)
print('Done!') 
```

注意：它以秒而不是毫秒为单位。

# xml - 将 xml 元素值创建为具有相同标签名称的属性

> ID：15472712
> 
> 赞同：0
> 
> 时间：2013-03-18T08:49:46.570
> 
> 标签：xml, xslt

这是我的简单 XML 文件：-

```
<products>
    <value>
        <value>
            <region_timezone>
                <value>1</value>
            </region_timezone>
            <registrationstatus>
                <value>2</value>
            </registrationstatus>
            <eventstatus>
                <value>2</value>
            </eventstatus>
            <dist_activity>
                <value>5</value>
                <value>10068</value>
                <value>10070</value>
            </dist_activity>
            <reg_str_dt>
                <value>2013-01-14 20:35:00</value>
            </reg_str_dt>
            <reg_end_dt>
                <value>2013-01-14 20:35:00</value>
            </reg_end_dt>
            <product_id>1</product_id>
            <tab_id>351</tab_id>
            <tab_name>test1</tab_name>
        </value>
    </value>
    <value>
        <value>
            <region_timezone>
                <value>1</value>
            </region_timezone>
            <registrationstatus>
                <value>2</value>
            </registrationstatus>
            <eventstatus>
                <value>2</value>
            </eventstatus>
            <dist_activity>
                <value>5</value>
                <value>10069</value>
                <value>10070</value>
            </dist_activity>
            <reg_str_dt>
                <value>2013-02-14 20:39:00</value>
            </reg_str_dt>
            <reg_end_dt>
                <value>2013-02-14 20:39:00</value>
            </reg_end_dt>
            <product_id>2</product_id>
            <tab_id>352</tab_id>
            <tab_name>test2</tab_name>
        </value>
    </value>
</products> 
```

我试试这个 xslt:-

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="xml" indent="yes" omit-xml-declaration="yes"/>
  <xsl:strip-space elements="*"/>

  <xsl:template match="value">
    <xsl:apply-templates />
  </xsl:template>

  <xsl:template match="products/value/value">
    <product_id value="{product_id}">
      <tab_id value="{tab_id}">
        <tab_name value="{tab_name}" />
        <xsl:apply-templates select="node()" />
      </tab_id>
    </product_id>
  </xsl:template>

  <xsl:template match="@* | node()">
    <xsl:copy>
      <xsl:apply-templates select="self::*[value[not(*)]]"
                           mode="values" />
      <xsl:apply-templates select="@* | node()" />
    </xsl:copy>
  </xsl:template>

  <xsl:template match="value[not(*)]" />

  <xsl:template match="*" mode="values">
    <xsl:attribute name="value">
      <xsl:apply-templates select="value[not(*)]" mode="values"/>
    </xsl:attribute>
  </xsl:template>

  <xsl:template match="value" mode="values">
    <xsl:value-of select="concat(., ',')"/>
  </xsl:template>

  <xsl:template match="value[last()]" mode="values">
    <xsl:value-of select="."/>
  </xsl:template>

  <xsl:template match="product_id | tab_id | tab_name" />
</xsl:stylesheet> 
```

使用这个 xslt：- 我做了类似这种类型的 o/p：-

```
<products>
  <product_id value="1">
    <tab_id value="351">
      <tab_name value="test1" />
      <region_timezone value="1" />
      <registrationstatus value="2" />
      <eventstatus value="2" />
      <dist_activity value="5,10068,10070" />
      <reg_str_dt value="2013-01-14 20:35:00" />
      <reg_end_dt value="2013-01-14 20:35:00" />
    </tab_id>
  </product_id>
  <product_id value="2">
    <tab_id value="352">
      <tab_name value="test2" />
      <region_timezone value="1" />
      <registrationstatus value="2" />
      <eventstatus value="2" />
      <dist_activity value="5,10069,10070" />
      <reg_str_dt value="2013-02-14 20:39:00" />
      <reg_end_dt value="2013-02-14 20:39:00" />
    </tab_id>
  </product_id>
</products> 
```

但我需要这种类型的o/p：-

```
<products>
  <product_id value="1">
    <tab_id value="351">
      <tab_name value="test1" />
      <region_timezone value="1" />
      <registrationstatus value="2" />
      <eventstatus value="2" />
      <dist_activity value="5" />
      <dist_activity value="10068" />
      <dist_activity value="10070" />
      <reg_str_dt value="2013-01-14 20:35:00" />
      <reg_end_dt value="2013-01-14 20:35:00" />
    </tab_id>
  </product_id>
  <product_id value="2">
    <tab_id value="352">
      <tab_name value="test2" />
      <region_timezone value="1" />
      <registrationstatus value="2" />
      <eventstatus value="2" />
      <dist_activity value="5" />
      <dist_activity value="10069" />
      <dist_activity value="10070" />
      <reg_str_dt value="2013-02-14 20:39:00" />
      <reg_end_dt value="2013-02-14 20:39:00" />
    </tab_id>
  </product_id>
</products> 
```

在这里，我不需要在我当前的 o/p 中使用逗号分隔（，）。我想将这个元素属性值与上面的 xml 输出分开，例如：-

```
 <dist_activity value="5" />
          <dist_activity value="10069" />
          <dist_activity value="10070" /> 
```

请帮我解决这个问题...
如果可能的话...
谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T09:06:24.763

这将做到：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="xml" indent="yes" omit-xml-declaration="yes"/>
  <xsl:strip-space elements="*"/>

  <xsl:template match="@* | node()">
    <xsl:copy>
      <xsl:apply-templates select="@* | node()" />
    </xsl:copy>
  </xsl:template>

  <xsl:template match="/*/value">
    <xsl:apply-templates />
  </xsl:template>

  <xsl:template match="products/value/value">
    <product_id value="{product_id}">
      <tab_id value="{tab_id}">
        <tab_name value="{tab_name}" />
        <xsl:apply-templates select="node()" />
      </tab_id>
    </product_id>
  </xsl:template>

  <xsl:template match="*[value[not(*)]]">
    <xsl:apply-templates select="value[not(*)]" />
  </xsl:template>

  <xsl:template match="value[not(*)]">
    <xsl:element name="{name(..)}">
      <xsl:attribute name="value">
        <xsl:value-of select="." />
      </xsl:attribute>
      <xsl:apply-templates select="../@* | ../node()[not(self::value[not(*)])]" />
    </xsl:element>
  </xsl:template>

  <xsl:template match="product_id | tab_id | tab_name" />
</xsl:stylesheet> 
```

在您的示例输入上运行时，这会产生：

```
<products>
  <product_id value="1">
    <tab_id value="351">
      <tab_name value="test1" />
      <region_timezone value="1" />
      <registrationstatus value="2" />
      <eventstatus value="2" />
      <dist_activity value="5" />
      <dist_activity value="10068" />
      <dist_activity value="10070" />
      <reg_str_dt value="2013-01-14 20:35:00" />
      <reg_end_dt value="2013-01-14 20:35:00" />
    </tab_id>
  </product_id>
  <product_id value="2">
    <tab_id value="352">
      <tab_name value="test2" />
      <region_timezone value="1" />
      <registrationstatus value="2" />
      <eventstatus value="2" />
      <dist_activity value="5" />
      <dist_activity value="10069" />
      <dist_activity value="10070" />
      <reg_str_dt value="2013-02-14 20:39:00" />
      <reg_end_dt value="2013-02-14 20:39:00" />
    </tab_id>
  </product_id>
</products> 
```

# python - 对于我的 html 模板中具有多个值的复选框，如何通过 python 代码访问它？

> ID：15472714
> 
> 赞同：0
> 
> 时间：2013-03-18T08:49:58.793
> 
> 标签：python, html, django, templates

我是一个`python`新手`django`。

这是我的`html`模板

```
<input type ="checkbox" value={{ item.id }} name="ck1[]"> 
```

在views.py 中，当我执行一个操作时，`checked = request.POST.get(['ck1'])`我得到了无法使用的列表错误。请指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:52:37.263

请不要在编写 Django 时使用 PHP 语法。`name="ck1[]"`是完全没有必要的 PHP 主义。

如果您希望调用该字段`ck1`，只需调用 use `name="ck1"`，然后在您的视图中使用 `request.POST.getlist('ck1') 。

如果你真的必须使用那种可怕的括号语法，你需要使用`request.POST.getlist('ck1[]')`，因为 Django 非常明智地认为你在 HTML 中使用的名称就是你应该在 POST 数据中获得的名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:03:47.670

如果你想在 Django 视图中从 html 获取数组，你需要使用

`checked = request.POST.getlist('ck1[]')`

或者

`checked = request.POST.getlist('ck1')`

getlist 方法会将所有选定的值转换为 python 列表

# java - 调用 exception.fillInStacktrace 有用吗？

> ID：15472719
> 
> 赞同：11
> 
> 时间：2013-03-18T08:50:16.507
> 
> 标签：java, stack-trace

`e.fillInStacktrace()`我发现在创建异常后直接显式调用`Exception e = new Exception()`。

我认为这是多余的，因为`Throwable`已经调用的构造函数`fillInStacktrace()`。

但也许我忽略了一些东西，这条线很有用：

```
Exception e = new Exception();
e.fillInStackTrace();
creationInfo = new CreationInfo(e.getStackTrace()); 
```

( `public CreationInfo(StackTraceElement[] aStackTrace){...}`)

我认为

1.  `e.fillInStackTrace();`在创建异常后直接额外调用是多余的，并且会浪费大量资源，因为这种方法很昂贵。

2.  它似乎只需要这个构造来获取当前的堆栈跟踪，因此：

    ```
    creationInfo = Thread.currentThread().getStackTrace(); 
    ```

    是更好的方法。

在填写问题报告之前，我想问您我是否忽略了什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-18T08:57:11.017

您在两个方面都是正确的：甚至可用的最大原因`fillInStackTrace`是让您在自己的异常中覆盖它，您希望节省提供堆栈跟踪信息的成本，或者您需要隐藏有关可能引发异常的位置。有关更多详细信息，请参阅[此答案](https://stackoverflow.com/q/9788993/335858)。

# svn - 如何通过svn在存储库中用新版本替换我的当前版本？

> ID：15472721
> 
> 赞同：0
> 
> 时间：2013-03-18T08:50:21.873
> 
> 标签：svn

我们使用 svn 协作处理源代码。现在我想用位于存储库中的源文件的新版本替换我工作目录中的源文件。

首先想到的是使用`svn up`. 但是，它执行以下操作：

> 此命令将您的本地沙箱与服务器同步。如果您进行了本地更改，它将尝试将服务器上的任何更改与您计算机上的更改合并。

这并不是我所需要的，因为我不想将我的更改与其他人所做的更改合并。我只想覆盖我的源代码（并以这种方式删除我对代码所做的所有更改）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:01:30.647

我想你想要这个`svn revert`命令。随后更新。

```
revert: Restore pristine working copy file (undo most local edits).
usage: revert PATH...

  Note:  this subcommand does not require network access, and resolves
  any conflicted states. 
```

# jsf-2 - FacesContext.getCurrentInstance().getExternalContext().invalidateSession() 两次调用 posconstruct

> ID：15472722
> 
> 赞同：0
> 
> 时间：2013-03-18T08:50:28.133
> 
> 标签：jsf-2, primefaces

我已按名称 studentManagedBean 管理 bean。在那个 bean 中，我使用了 post 构造来初始化 studentsList。在另一个托管 bean testbean 中，我使用的是 FacesContext.getCurrentInstance().getExternalContext().invalidateSession(); 并重定向到我用来显示学生的页面students.xhtml。

我的问题是当我使用 FacesContext.getCurrentInstance().getExternalContext().invalidateSession(); 并重定向到 student.xml 页面，init 方法（post 构造）用于调用两次。当我评论上述行时，init 方法（post 构造）现在只调用一次。

谁能告诉我这个无效会话到底会做什么。

```
 @ManagedBean(name = "studentManagedBean" )
    @SessionScoped
    public class StudentManagedBean implements Serializable {

        private List<SBean> stud;

        @PostConstruct
        private void init(){
            this.stud=dao.getAllStudInfo();
        }

 @ManagedBean(name = "testBean" )
    @SessionScoped
    public class TestBean implements Serializable {

public String navigate(String name){
        if(name.equals("Add student")){
    FacesContext.getCurrentInstance().getExternalContext().invalidateSession();
             return  "student";

        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T17:46:28.430

`StudentManagedBean`显然，当前视图中还引用了会话范围的 bean 。当视图被构建/恢复时，如果在视图构建期间引用它，它可能会创建 bean。但是，如果您此后使会话无效，则会话范围的 bean 将被销毁（显然，因为它存储在会话范围中），并且当目标视图在视图呈现期间仍引用它时将再次重新创建。

这必须完全有道理。如果您不希望在使会话无效之前创建 bean，只需不要在当前视图中的任何位置引用它，直接在视图中，或间接作为托管属性或另一个 bean 的编程 EL 评估在当前视图中直接引用。

如果您不能立即找出它被引用的位置，只需在 bean 的构造函数中放置一个调试断点并探索调用堆栈中的 who/what/why。

# php - Facebook PHP API 仅日期事件

> ID：15472725
> 
> 赞同：0
> 
> 时间：2013-03-18T08:50:43.093
> 
> 标签：php, facebook, facebook-graph-api

当我使用 API 创建事件并且我没有指定开始和结束时间时，facebook 会自动添加上午 10 点开始和凌晨 1 点结束的时间。为什么不能只添加仅日期事件。当我登录 facebook 并在那里创建一个事件时，时间是可选的，并且没有添加虚假时间。是否有一个选项我没有包含在我通过的数组中。这是我的请求的一些示例代码

```
 $facebook = new Facebook(array(
        'appId' => //key
        'secret' => //secret
    ));

    $facebook->setAccessToken(/*USER ACCESS TOKEN*/);

    try{
        $retObj = $facebook->api('/<USER ID>/events/create', 'POST', array(
            "name" => //title,
            "description" => //description,
            "start_time" => //date only eg. 2013-03-20,
            "end_time" => //date only eg. 2013-03-25
        ));

    } catch(FacebookApiException $e) {
        echo $e->getMessage();
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T10:02:16.290

不指定 a 就不能创建事件`start_time`，所以我不知道你是如何创建事件的。要创建**仅限日期的**事件，只需执行以下操作：

```
$retObj = $facebook->api('/<USER ID>/events/create', 'POST', array(
            "name" => "My event", //compulsory field
            "start_time" => "2013-03-19" //tomorrows's date
)); 
```

# android - 保持活动在后台运行

> ID：15472731
> 
> 赞同：0
> 
> 时间：2013-03-18T08:50:56.957
> 
> 标签：android

我正在将一些数据从我的活动发送到服务器。我让它在后台运行，使用：

```
public void onBackPressed() {
    moveTaskToBack (true);
} 
```

但是，如果由于某些网络问题而没有发送数据大约 10 分钟。从 n/w 问题中恢复后，它不会继续发送。

为什么会这样？如果活动无关紧要，活动是否会在某个时间后停止？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T10:08:54.273

您可以简单地启动一个将在后台运行的[服务](http://www.vogella.com/articles/AndroidServices/article.html)并将您的数据发送到服务器。如果您在活动的主线程中调用它，它可能会挂起您的活动并且无法处理它，因为活动具有生命周期。它可能会结束！启动后台服务并执行其中的所有操作。:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T09:00:08.080

查看[文档](http://developer.android.com/reference/android/app/Activity.html#moveTaskToBack%28boolean%29)。此方法只是将您的活动移动到活动堆栈的后面，它仍处于暂停状态，因此 - 有资格由操作系统完成。您的活动可能正在被破坏。

如果您希望某个进程在您的活动暂停时继续运行，请使用 Raghunandan 建议的服务，或者如果您需要在数据发送完成后更新 UI，请启动[AsyncTask 。](http://developer.android.com/reference/android/os/AsyncTask.html)

# android - Android：AdMob + phonegap - 网络不可用

> ID：15472732
> 
> 赞同：3
> 
> 时间：2013-03-18T08:51:04.693
> 
> 标签：android, cordova, admob, phonegap-plugins

我正在使用 phonegap 2.2 在 Android 上开发应用程序。我也已经将 admob 添加到我的应用程序中，但有时我会收到错误消息：

```
Received ad url: <url: "http://...."
Request scenario: Offline with no buffered ads
Network is unavailable. Aborting ad request. 
```

但是网络没有问题，因为我可以从互联网上加载其他资源。

但有时它会成功接收广告 - 并且使用相同的参数以后无法接收......

我在 phonegap config: 配置了白名单 `<access origin="*" subdomains="true"/>`，并为 admob 配置了清单。

任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T16:06:53.100

如果它有时有效而其他无效，这通常意味着您的网络连接不稳定。即进出。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-06T00:14:48.743

进行了另一次编辑/更新。

我从构建路径中删除了一些项目以改进应用程序。通过这样做，我相信 Eclipse 中的 android 构建路径出现了问题。我从引用中删除了 admob sdk，然后通过 Add to Build Path 将其读回。它又开始工作了。

这也可能是因为我正在使用 addJavaScriptInterface 回调 master.js 中的本机代码，这可能会导致一些线程冲突，并且 AdMob SDK 可能正在失去它的网络权限。这不是我唯一一次因为使用 addJavaScriptInterface 函数而遇到问题。这就是为什么我必须以 16 为目标的原因，因为 Nexus 设备将不再正常工作。

最后更新：在上述所有这些更改之后......我开始使用它。似乎有一些项目损坏，即使在清理项目六次之后也是如此。我最终从头开始创建另一个应用程序项目并将 admob sdk 添加到 lib 文件夹中。不再出现此问题。太奇怪了……希望我能分享一些更具体的东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-27T08:45:20.377

尝试找出广告加载是否因超时而失败。

3G 数据经常受到限制，特别大的广告可能需要一段时间才能在蜂窝数据网络上下载。（特别是如果您同时加载其他外部资源）

如果是这种情况，您可以通过为 Cordova 和/或 AdMob 设置更长的请求超时来解决问题。

# xcode - 文本字段应该编辑全局变量并显示它。但不会显示任何内容或垃圾

> ID：15472735
> 
> 赞同：0
> 
> 时间：2013-03-18T08:51:09.717
> 
> 标签：xcode, utf-8, nsstring, char, textfield

我正在编写一个应该通过 UDP 控制 Arduino 的简单应用程序。我做了两个视图： - 一个用于控制 (ViewController.h/cpp) - 一个用于设置，尤其是 Arduino 的主机名。（设置.h/cpp）

在设置视图中是一个文本字段和一个开关。如果设置了开关，则应覆盖主机名。

主机名在 ViewController.h 中声明如下：

`extern const char *host_name;`

在 ViewController.m 中：

`const char *host_name = "WIZnetccef3";`

为了在设置视图的文本字段中显示它，我使用了 viewDidLoad 函数：

`textfield.text = [[NSString alloc]initWithUTF8String:host_name];`

对视图的更改工作正常。将显示主机名“WIZnetccef3”。

如果我改变滑块的位置，如果开关打开，将执行以下代码：

`const char *hname = [textfield.text UTF8String];`

`host_name = hname;`

但是当我切换视图并返回设置时，不会显示新的主机名。文本字段为空或包含奇怪的字符。

这是我的问题，我不知道问题是什么。我构建了一些错误以找出我犯了错误的地方，但这没有帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:02:45.963

你重新分配一个 CONST 值......我的 C 不是一流的，但我认为这是问题所在。此外，您不会复制文本字段的值，因此它可能无论如何都不会保持有效

尝试

```
extern char *host_name; 
```

和

```
char *host_name = nil; 
```

和

```
if(!host_name) {
    host_name = malloc(sizeof(char) * 12);
    strcpy(host_name, :@"Wzeeee...";
}
textfield.text = [[NSString alloc]initWithUTF8String:host_name]; 
```

和

```
free(host_name);
host_name = malloc(sizeof(char) * strlen(textField.text.UTF8String)+1);
strcpy(host_name, textField.text.UTF8String); 
```

# ruby-on-rails - Ruby 中的延迟处理作业：有多少没有阻塞我的路径

> ID：15472737
> 
> 赞同：1
> 
> 时间：2013-03-18T08:51:18.273
> 
> 标签：ruby-on-rails, delayed-job, resque, sidekiq, delayed-execution

我有这个项目，它仍然使用延迟作业作为处理作业队列。我最近发现了一个让我质疑一些事情的边缘案例：我有这个 AR（顺便说一下，我正在使用 MySQL）对象，它在更新时会向 has_many 关联的所有元素发送一条消息。为了做到这一点，我必须实例化这个关联的所有元素，并在它们上调用消息。对他们每个人来说，延迟这个消息的调用似乎只是公平的。

现在该关联已经增长了很多，在极端情况下，我有 40000 个属于该关联的对象。因此，消息发送现在涉及（同步）创建 40000 个延迟作业作业。由于这些发生在更新后回调而不是提交后，因此它们（ab）使用相同的连接，而不是利用任何上下文切换。短版，我在同一连接上有 1 个更新语句和 40000 个插入的管道。出于这个原因，此更新在生产中消耗了相当多的时间。

现在，有很多方法可以解决这个问题：将回调更改为提交后，创建 1 个（同步）延迟作业，这将创建 40000 个作业（我不想在一个作业中处理 40000 个（AR）对象，现在的 40000 明天将是 120000，这就是记忆世界末日），等等……

但我真正考虑的是将我的延迟处理队列切换到 resque 或 sidekiq。他们使用redis，因此写入性能要好得多。他们使用一些东西而不是 MySQL，这意味着连接不会相互阻塞。我唯一的问题是：一次 40000 次写入 redis 会花费我多少钱？并且：这些选项中的任何一个是否首先将作业存储在内存中，而不是阻止对客户端的响应并将它们延迟存储在 redis 中？所以，我真正的问题是：在这种极端情况下，这种延迟会耽误我多少时间？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-18T08:57:58.143

事实上，Redis 可以比 MySQL 更快地处理写入。尝试运行`redis-benchmark`，您将看到 100k+ 写入/秒的数字。

> 这些选项中的任何一个是否首先将作业存储在内存中，而不是阻止对客户端的响应并将它们延迟存储在redis中？

不，它们是同步进行的。

> 我不想在一项工作中处理 40000 个（AR）对象

也许您应该尝试混合方法：每个作业处理 N 个对象的块。批量写入应该比 40k 单独写入快。而且它可以很好地扩展（批量大小将保持不变，无论是 40k 还是 400k 项目）。

# java - 对 servlet 的多个 ajax 调用

> ID：15472743
> 
> 赞同：1
> 
> 时间：2013-03-18T08:51:23.137
> 
> 标签：java, javascript, jquery, ajax, servlets

我对 servlet 的 AJAX 调用有疑问。在一个页面上，我想对同一个 servlet 进行多个 ajax 调用，但我无法让它按我想要的方式工作：

page.jsp：

> ...
> // 按下按钮 A
> 
> ```
>  $.ajax({
>         type: "POST",
>         url: "MatchingServlet",
>         data: matchingData_X,
>   success: function(data) {
>      $('.input_A).html(data);
>      }
> });
> ...
> // Button B pressed
> $.ajax({
>         type: "POST",
>         url: "MatchingServlet",
>         data: matchingData_Y,
>   success: function(data) {
>      $('.input_B).html(data);
>      }
>  });
> ... 
> ```

MatchingServlet.java：

> ```
> ...
> MethodA(...){
> ...
> }
> 
> MethodB(...){
> ...
> } 
> ```

在这个项目之前，我习惯了 java 6 和 Spring MVC，你可以用注释来做到这一点。在这种环境中，我得到了 java 1.4.2（很快迁移到 java 6）并且没有框架。

主要问题：如何让这 2 个 ajax 调用转到不同的 servlet 方法？

我在这里找到的所有示例都只有一个 ajax 调用，它转到 doGet 或 doPost 方法。所以我希望它甚至可以做我想做的事。

提前致谢，WvdL

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T09:09:25.727

一种简单的解决方案是在调用 servlet 时添加一个名为“method”的参数，例如：

```
$.ajax({
        type: "POST",
        url: "MatchingServlet?method=methodA",
        data: matchingData_X,
  success: function(data) {
     $('.input_A).html(data);
     }
}); 
```

然后，在 servlet 的 doGet 方法本身中，读取参数并将调用转发给其他方法之一。

```
public void doGet(HttpServletRequest request,
                    HttpServletResponse response)
      throws ServletException, IOException {

    String method = request.getParameter("method");
  if(method.equals("methodA"){
     methodA();
  }else if (method.equals("methodB"){
     methodB();
  }else{
    throw new IllegalArgumentExcpetion("'method' parameter required, must be 'methodA' or 'methodB' !");
  } 
```

}

```
MethodA(...){
...
}

MethodB(...){
...
} 
```

对这一基本技术的改进可能是：

*   使用反射而不是 if...else... 来确定要调用的方法
*   使用路径的最后一段而不是方法名称的参数：MatchingServlet/methodA

但基本上，您必须自己编写调度逻辑！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-18T08:58:03.303

使用 servlet 时，您将需要使用`doGet`或`doPost`方法，但是一旦调用这些方法，实现由您决定。我只是在`doPost`调用所需功能的方法中添加一个条件。条件将根据传递给 servlet 的请求参数调用适当的方法。在我的示例中，我将一个参数传递`action`给 servlet，然后它使用该参数来识别要使用的方法。

```
public class MyServletextends HttpServlet {

   public void doPost(HttpServletRequest request, HttpServletResponse response)
         throws IOException, ServletException {
     if(request.getParameter("action").equals("methodA"){
        methodA();
     }else if(request.getParameter("action").equals("methodB"){
        methodB();
     }
   }

   public void methodA(){}
   public void methodB(){}
} 
```

在 Javascript 中，您只需要添加 action 参数：

```
 matchingData_X.action = "methodA"; //assuming matchignData_X is an object
 $.ajax({
        type: "POST",
        url: "MatchingServlet",
        data: matchingData_X,
  success: function(data) {
     $('.input_A).html(data);
     }
});
...
// Button B pressed
matchingData_X.action = "methodB"; //assuming matchignData_X is an object
$.ajax({
        type: "POST",
        url: "MatchingServlet",
        data: matchingData_Y,
  success: function(data) {
     $('.input_B).html(data);
     }
 }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-18T08:59:24.123

尝试 `parameters: 'someParam'` 在您的 ajax 调用中添加一个部分，然后在 Servlet 上从请求中获取参数：

```
String param= request.getParameter("someParam");
            if (param.equals("someParam") {
                MethodA();
            } 
```

# html - Text goes in two lines in option Hello everyone I have a very strange bug - Text in select option goes in two lines see screenshot (Only in IE8 and IE7 ) Does anyone know solution ? You can access this table on web topairlines.info and choose ta

> ID：15472744
> 
> 赞同：1
> 
> 时间：2013-03-18T08:51:24.790
> 
> 标签：html, css

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T10:11:40.157

我认为它的高度是 34px；如果您没有指定显式样式，它将采用具有不同行高的不同默认样式；

我认为这只会取代这个

```
 <select style="width: 75px; height:30px; line-height:30px;"> 
```

我已经更新了小提琴，请参考[小提琴](http://jsfiddle.net/DVyVj/2/)这个链接，

我希望这会做:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T10:28:05.207

您可能会尝试添加**空格：pre-line;** 关于选项元素！

# c# - Dispatcher.BeginInvoke 在 C# 中调用另一个窗口

> ID：15472748
> 
> 赞同：0
> 
> 时间：2013-03-18T08:51:43.667
> 
> 标签：c#, wpf

在我的 wpf 应用程序中，我将按钮单击事件作为单独的线程并作为后台进程运行，以便 UI 响应用户。代码如下，

```
private void btn_convert_Click(object sender, RoutedEventArgs e)
{
   //Makes the conversion process as background task which 
   //makes the UI responsive to the user.
   Thread thread = new Thread(new ThreadStart(WorkerMethod));
   thread.SetApartmentState(ApartmentState.MTA);
   thread.IsBackground = true;
   thread.Start();
} 
```

在 WorkerMethod 中，我可以选择更改为用户提供单独窗口的文件名。对于此操作，我使用 Dispatcher 方法，如下所示，

```
if (MessageBox.Show("Do you want to set filename?", 
    "Information", MessageBoxButton.YesNo, MessageBoxImage.Asterisk) == 
    MessageBoxResult.Yes)
{                         
    Action showOutput = () =>
    { 
        BlueBeamConversion.SetOutput _setOutput = 
            new BlueBeamConversion.SetOutput(); 
        _setOutput.ShowDialog();
    }; 

    Dispatcher.BeginInvoke(showOutput);

    if (String.IsNullOrEmpty(MainWindow.destinationFileName))
              return; 
```

其中destinationFileName 将在SetOutput 窗口中设置。现在来谈谈我的问题，当上面的代码执行时，SetOutput 窗口会出现并且不会等到我设置文件名。在设置文件名之前，它涉及以下代码，

```
if (String.IsNullOrEmpty(MainWindow.destinationFileName))
                                return; 
```

在 setoutput 窗口中单击“确定”按钮之前，我该如何坚持。欢迎提出任何建议。

我使用了 dispatcher.Invoke 而不是 BeginInvoke。现在它持有窗口并采用新名称。但是，当在某一行继续工作方法中的代码时，它会退出应用程序本身，请对代码进行罚款，

```
if (MessageBox.Show("Do you want to set filename?", "Information", MessageBoxButton.YesNo, MessageBoxImage.Asterisk) == MessageBoxResult.Yes)
                    {

                        Action showOutput = () =>
                        { BlueBeamConversion.SetOutput _setOutput = new BlueBeamConversion.SetOutput();  _setOutput.ShowDialog(); }; 
                       Dispatcher.Invoke(showOutput);

                    for (int i = 0; i < _listFiles.Items.Count; i++)--- here it exits
                {--------- } 
```

问候桑吉塔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:01:32.317

您可以使用 Invoke 代替 BeginInvoke ：

```
 //Dispatcher.BeginInvoke(showOutput);
 Dispatcher.Invoke(showOutput); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T08:58:59.433

使用 ShowDialog() 而不是 Show() 并将输出存储在 DialogResult

```
 var result = _setOutput.ShowDialog(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T09:02:13.103

当您在您的操作中使用 window.show() 方法时，您将不会从 show 方法收到任何结果，您必须调用 window 的 show dialog 方法，这将强制 GUI 保持直到对话框窗口关闭并在它之后您将能够从您的对话框窗口中接收数据。

```
 Action showOutput = () =>
                            { BlueBeamConversion.SetOutput _setOutput = new BlueBeamConversion.SetOutput(); _setOutput.ShowDialog(); }; 
                        Dispatcher.BeginInvoke(showOutput); 
```

另一方面，您可以先等待线程完成，然后再等待。这种方法也适用于您。dispatcher.Invoke 会帮助你。或者你可以在这里尝试 DispatcherOperation。

尝试使用以下更改的代码。

```
 DispatcherOperation op = Dispatcher.BeginInvoke(showOutput);

                op.Wait();

                if (String.IsNullOrEmpty(output))
                    return; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-18T09:03:42.647

如果您使用 ShowDialog，您可以将值存储在第二个窗口的公共属性中，并可以通过以下方式访问它：

```
Form2 form2 = new Form2();
if (form2.ShowDialog() == DialogResult.OK)
{
if (form2.ReturnData == "myResult") 
```

... }

# asp.net - writeExceptionsToEventLog 错误

> ID：15472755
> 
> 赞同：0
> 
> 时间：2013-03-18T08:52:03.417
> 
> 标签：asp.net, membership

我有这个错误信息。
解析器错误消息：属性无法识别 writeExceptionsToEventLog
我做错了什么？

![解析器错误消息](../Images/77505aa3cb9379155a206841cbdb436b.png)

这是我在 web.config 中的代码

```
<membership>
      <providers>
        <clear/>
        <add name="SqlMembershipProviderOther" 
        requiresQuestionAndAnswer="false"
         connectionStringName="ConnectionString" applicationName=""
        type="System.Web.Security.SqlMembershipProvider, System.Web, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"
        enablePasswordRetrieval="false" enablePasswordReset="true"
        requiresUniqueEmail="true" passwordFormat="Hashed"
        minRequiredNonalphanumericCharacters="0" writeExceptionsToEventLog="false"
        minRequiredPasswordLength="8" passwordStrengthRegularExpression=""
        passwordAttemptWindow="10" maxInvalidPasswordAttempts="8"
           />
      </providers>
    </membership>

<connectionStrings>
    <add name="ConnectionString" connectionString="Data Source=.\SQLEXPRESS;AttachDbFilename=|DataDirectory|\ASPNETDB.MDF;Integrated Security=True;User Instance=True"
     />
  </connectionStrings> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T09:04:27.683

尝试一件事...重建/关闭并重新打开项目然后正确构建。运行。如果 nt 工作，我们有第二个解决方案，如果未在连接字符串中添加，则添加提供者名称

# c# - 代码文件中的连接字符串

> ID：15472758
> 
> 赞同：-1
> 
> 时间：2013-03-18T08:52:12.277
> 
> 标签：c#, mysql, visual-studio-2010

我使用以下类文件来创建连接字符串

```
namespace connect
{
    public class connection
    {
        string constr = "Data Source=.\\MYSQLEXPRESS;AttachDbFilename=C:\\Users\\Kuldeep\\Documents\\Visual Studio 2010\\Projects\\final\\App_Data\\information1.mdf;Integrated Security=True;User Instance=True";   
        public string constring
        {

                get
                {    
                    return constr;
                }
            }
        }  
    } 
```

我想像这样在我的代码文件中调用这个字符串。

```
public partial class Account_Login : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
       // RegisterHyperLink.NavigateUrl = "Register.aspx?ReturnUrl=" + HttpUtility.UrlEncode(Request.QueryString["ReturnUrl"]);

    }
    protected void LoginButton_Click(object sender, EventArgs e)
    {

        SqlConnection con = new SqlConnection(string constring);
        con.Open();
        SqlCommand cmd = new SqlCommand("select * from User where UserName =@UserName and Password=@Password", con);
        cmd.Parameters.AddWithValue("@UserName",.Text);
        cmd.Parameters.AddWithValue("@Password", txtPWD.Text);
        SqlDataAdapter da = new SqlDataAdapter(cmd);
        DataTable dt = new DataTable();
        da.Fill(dt);
        if (dt.Rows.Count > 0)
        {
            Response.Redirect("Default.aspx");
        }
        else
        {
            RegisterHyperLink.NavigateUrl = "Register.aspx?ReturnUrl=" + HttpUtility.UrlEncode(Request.QueryString["ReturnUrl"]);
          //  ClientScript.RegisterStartupScript(Page.GetType(), "validation", "<script language='javascript'>alert('Invalid Username and Password')</script>");
        }  
        con.Close();
    }
} 
```

在代码文件中调用连接字符串的代码语法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T08:59:15.363

我建议你使用静态类

```
public static class Connection
{

....

} 
```

并调用此代码来调用您的连接

```
var connection = Connection.Constring; 
```

对于您的情况：

```
SqlConnection con = new SqlConnection(Connection.Constring); 
```

笔记 ：

1.  我建议你对你的类和属性使用大写命名

2.  我建议您使用块环绕连接和命令对象

链接： http: [//msdn.microsoft.com/fr-fr/library/system.data.sqlclient.sqlconnection (v=vs.80).aspx](http://msdn.microsoft.com/fr-fr/library/system.data.sqlclient.sqlconnection(v=vs.80).aspx)

1.  另一个关于使用外部化字符串连接的链接`ConfigurationManager class`

链接： http: [//msdn.microsoft.com/fr-fr/library/system.configuration.configurationmanager.connectionstrings (v=vs.80).aspx](http://msdn.microsoft.com/fr-fr/library/system.configuration.configurationmanager.connectionstrings(v=vs.80).aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:42:03.080

我建议您使用 App.config 文件来设置您的数据库凭据。

使用 App.config 的步骤

1.首先添加一个xml文件的App.config文件

2.将以下给定代码添加到app.config文件

```
 <

?xml version="1.0"?>
        <configuration>
          <appSettings>
            <add key="ConnectionString" value="Data Source=.\\MYSQLEXPRESS;AttachDbFilename=C:\\Users\\Kuldeep\\Documents\\Visual Studio 2010\\Projects\\final\\App_Data\\information1.mdf;Integrated Security=True;User Instance=True;"/>
          </appSettings>
         </configuration> 
```

3.添加命名空间“using System.Configuration;” ，如果命名空间不可用，你应该添加 dll “System.Configuration”，然后使用下面的代码

```
 string con = ConfigurationSettings.AppSettings["ConnectionString"]; 
```

# regex - 允许单词之间有空格的正则表达式

> ID：15472764
> 
> 赞同：245
> 
> 时间：2013-03-18T08:52:52.737
> 
> 标签：regex

我想要一个防止符号并且只允许字母和数字的正则表达式。下面的正则表达式效果很好，但它不允许单词之间有空格。

```
^[a-zA-Z0-9_]*$ 
```

例如，当使用这个正则表达式“HelloWorld”很好，但“Hello World”不匹配。

如何调整它以允许空间？

* * *

## 回答 #1

> 赞同：481
> 
> 时间：2013-03-18T08:54:56.960

# tl;博士

[只需在您的角色类](http://www.regular-expressions.info/charclass.html)中添加一个空格。

```
^[a-zA-Z0-9_ ]*$ 
```

* * *

# 现在，如果你想严格...

以上并不完全正确。由于这`*`意味着*zero 或 more*，它将匹配以下所有通常不会匹配的情况：

*   一个空字符串，“”。
*   完全由空格“”组成的字符串。
*   一个以空格开头和/或结尾的字符串，“Hello World”。
*   在单词之间包含多个空格的字符串，“Hello World”。

最初我认为这样的细节不值得讨论，因为 OP 提出了一个基本问题，以至于严格性似乎无关紧要。既然这个问题已经流行起来了，我想说...

## ...使用[@stema 的答案](https://stackoverflow.com/a/15473717/3886459)。

其中，在我看来（不使用`\w`）转换为：

```
^[a-zA-Z0-9_]+( [a-zA-Z0-9_]+)*$ 
```

（无论如何，请支持@stema。）

关于这个（和@stema）答案的一些注意事项：

*   如果您想在单词之间允许*多个*空格（例如，如果您想允许意外的双空格，或者如果您正在使用 PDF 中的复制粘贴文本），`+`请在空格后添加一个：

    ```
    ^\w+( +\w+)*$ 
    ```

*   如果要允许制表符和换行符（空白字符），则将空格替换为`\s+`：

    ```
    ^\w+(\s+\w+)*$ 
    ```

    在这里我建议`+`默认情况下，因为例如，Windows 换行符由*两个连续*的空白字符组成`\r\n`，所以你需要`+`捕获两者。

# 还是行不通？

检查您正在使用的正则表达式的方言。^*在像 Java 这样的语言中，你必须转义你的反斜杠，*即* `\\w`和`\\s`. 在较旧或更基本的语言和实用程序中，例如`sed`和`\w`未定义`\s`，因此请分别使用字符类（*例如* `[a-zA-Z0-9_]`和）将它们写出来`[\f\n\p\r\t]`。

* * *

^(^*我知道这个问题被标记为[vb.net](/questions/tagged/vb.net "显示标记为“vb.net”的问题")，但基于 25,000 多个视图，我猜不仅仅是那些遇到这个问题的人。目前它是谷歌搜索词组的第一个热门词，*正则表达式空格词*。)

* * *

## 回答 #2

> 赞同：149
> 
> 时间：2013-03-18T09:46:43.447

一种可能性是将空格添加到您的字符类中，就像 acheong87 建议的那样，这取决于您对模式的严格程度，因为这也将允许以 5 个空格开头的字符串或仅由空格组成的字符串。

另一种可能性是定义一个模式：

我将使用`\w`它在大多数正则表达式风格中都相同`[a-zA-Z0-9_]`（在某些情况下它是基于 Unicode 的）

```
^\w+( \w+)*$ 
```

这将允许一系列至少一个单词，并且单词由空格分隔。

`^`匹配字符串的开头

`\w+`匹配一系列至少一个单词字符

`( \w+)*`是重复 0 次或多次的组。在组中，它需要一个空格，后跟一系列至少一个单词字符

`$`匹配字符串的结尾

* * *

## 回答 #3

> 赞同：33
> 
> 时间：2014-01-13T22:48:34.130

这个对我有用

```
([\w ]+) 
```

* * *

## 回答 #4

> 赞同：14
> 
> 时间：2013-03-18T08:55:00.553

尝试：

```
^(\w+ ?)*$ 
```

解释：

```
\w             - alias for [a-zA-Z_0-9]
"whitespace"?  - allow whitespace after word, set is as optional 
```

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2013-03-18T09:01:18.387

我假设您不想要前导/尾随空间。这意味着您必须将正则表达式拆分为“第一个字符”、“中间的东西”和“最后一个字符”：

```
^[a-zA-Z0-9_][a-zA-Z0-9_ ]*[a-zA-Z0-9_]$ 
```

或者如果您使用类似 perl 的语法：

```
^\w[\w ]*\w$ 
```

另外：如果您故意将正则表达式表述为它也允许空字符串，则必须使整个内容可选：

```
^(\w[\w ]*\w)?$ 
```

如果您只想允许单个空格字符，它看起来有点不同：

```
^((\w+ )*\w+)?$ 
```

这匹配 0..n 个单词，后跟一个空格，再加上一个没有空格的单词。并使整个事情成为可选的以允许空字符串。

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2016-05-23T23:36:44.450

这个正则表达式

```
^\w+(\s\w+)*$ 
```

将只允许单词之间有一个空格，并且没有前导或尾随空格。

下面是正则表达式的解释：

1.  `^`在字符串的开头断言位置
2.  `\w+`匹配任何单词字符`[a-zA-Z0-9_]`
    1.  量词：`+`一次到无限次之间，尽可能多次，按需回馈[贪心]
3.  第一捕获组`(\s\w+)*`
    1.  量词：`*`在零和无限次之间，尽可能多次，按需回馈[贪婪]
    2.  `\s`匹配任何空白字符`[\r\n\t\f ]`
    3.  `\w+`匹配任何单词字符`[a-zA-Z0-9_]`
        1.  量词：`+`一次到无限次之间，尽可能多次，按需回馈[贪心]
4.  `$`在字符串末尾断言位置

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2013-09-18T14:48:48.383

这在开始时不允许空间。但允许单词之间有空格。还允许在单词之间使用特殊字符。FirstName 和 LastName 字段的良好正则表达式。

```
\w+.*$ 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2016-08-25T12:05:11.447

仅适用于字母：

```
^([a-zA-Z])+(\s)+[a-zA-Z]+$ 
```

对于字母数字值和`_`：

```
^(\w)+(\s)+\w+$ 
```

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2018-09-20T12:19:48.573

只需在正则表达式模式的末尾添加一个空格，如下所示：

```
[a-zA-Z0-9_ ] 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2021-04-29T20:03:26.520

如果您使用的是 JavaScript，那么您可以使用这个正则表达式：

```
/^[a-z0-9_.-\s]+$/i 
```

例如：

```
/^[a-z0-9_.-\s]+$/i.test("") //false
/^[a-z0-9_.-\s]+$/i.test("helloworld") //true
/^[a-z0-9_.-\s]+$/i.test("hello world") //true
/^[a-z0-9_.-\s]+$/i.test("none alpha: ɹqɯ") //false 
```

此正则表达式的唯一缺点是完全由空格组成的字符串。" " 也将显示为 true。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2020-09-15T03:47:55.603

这是我的正则表达式：`@"^(?=.{3,15}$)(?:(?:\p{L}|\p{N})[._()\[\]-]?)*$"`

我刚刚`([\w ]+)`在我的正则表达式末尾添加了`*`

`@"^(?=.{3,15}$)(?:(?:\p{L}|\p{N})[._()\[\]-]?)([\w ]+)*$"`

现在允许字符串有空格。

* * *

## 回答 #12

> 赞同：-1
> 
> 时间：2020-09-21T05:13:11.693

试试这个：

```
result = re.search(r"\w+( )\w+", text) 
```

# testing - 在 Web 浏览器/SSRS 中查看负载测试结果

> ID：15472768
> 
> 赞同：1
> 
> 时间：2013-03-18T08:53:10.577
> 
> 标签：testing, reporting-services, tfs, visual-studio-2012, load-testing

有没有办法在 Web 浏览器中从 Visual Studio 中查看负载测试结果（即负载测试摘要）或使用 Reporting Services 生成它？

我还想知道是否有一种很好的方法来生成用于比较测试运行的 SSRS 模板，就像在 Excel 插件中一样？

非常感谢， Wojtek

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-20T14:44:30.660

这是你想要的：

[http://loadtestreports.codeplex.com/](http://loadtestreports.codeplex.com/)

# opencv - 使用 staticlib 构建时，OpenCV VideoCapture 无法加载压缩的视频文件

> ID：15472769
> 
> 赞同：4
> 
> 时间：2013-03-18T08:53:11.233
> 
> 标签：opencv, video, capture

我可以使用 C:\opencv244\build\x64\vc10\staticlib 中的 OpenCV 2.4.4 静态库在 Visual Studio 2010、调试模式、x64 平台中嵌入 OpenCV .DLL 并构建我的程序。

我使用 VideoCapture 加载视频文件并播放。当我打开未压缩的视频文件时，一切正常；但是当我打开一个压缩的视频文件（例如 xvid）时，VideoCapture 失败并且无法加载和打开视频文件。在这种情况下，如果我将 OpenCV .dll 文件放在程序的 .exe 文件附近，VideoCapture 也可以用于压缩视频文件。但是我在 .exe 文件中嵌入了 OpenCV .dll，我认为它必须能够在没有 OpenCV .dll 的情况下正常工作。你能告诉我如何解决这个问题吗？

更新：刚才我注意到这个问题将通过仅在程序的 .exe 文件附近包含 opencv_ffmpeg244_64.dll 来解决。不需要存在其他 OpenCV .dll。所以现在的问题是：有没有办法在程序的.exe文件中嵌入“opencv_ffmpeg244_64.dll”？（尽管这毕竟不是什么大问题）。

# jquery-ui - jQuery UI Dropdown 值不会改变

> ID：15472770
> 
> 赞同：0
> 
> 时间：2013-03-18T08:53:14.770
> 
> 标签：jquery-ui, drop-down-menu

我有一个包含 3 个选项的下拉菜单。此菜单显示在模式`jQuery UI`对话框中。

我可以打开对话框并选择三个选项之一。选择的选项存储在一个变量中。这工作正常。但是如果我再次打开对话框并选择另一个选项，变量不会改变 - 它包含第一个选择的值。

```
$("#button").click(function() 
{   
    var diag = "<select id='diagDropdown'>"
            +"<option>Option 1</option>"
            +"<option>Option 2</option>"
            +"<option>Option 3</option>"
               +"</select>";

    $(diag).dialog(
        {title: "Choose Option"},
        {autoOpen: "false"},
        {modal: "true"},
        {draggable: "false"},
        { buttons: {OK: dialogOK} });       

    function dialogOK() 
    {
        var chosenOption=$("#diagDropdown option:selected").val().toLowerCase();

        //working with chosen option
        $(this).dialog("close");                                                                
    }); 
```

希望您能够帮助我。提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T15:07:24.717

问题是，每次您单击 id 为“ **button ”的元素时，都会在新对话框中创建一个 id 为“** **diagDropdown** ”的新下拉菜单。

然后你的代码：

```
var chosenOption=$("#diagDropdown option:selected").val().toLowerCase(); 
```

始终选择 DOM 中 ID 为“ **diagDropdown** ”的第一个下拉菜单。

试试这个 ：

```
<input type="button" value="click me" id="button"/>

<script type="text/javascript">
    // On DOM ready
    $(function() {

        var dropdown = 
            $('<select id="diagDropdown"> ' +
                '<option>Option 1</option>' +
                '<option>Option 2</option>' +
                 '<option>Option 3</option>' +
             '</select>');

        // Create the dialog (only once)
        dropdown.dialog({
            title: "Choose Option",
            autoOpen: false,
            modal: true,
            draggable: false,
            buttons: {
                "OK": function() {
                    var chosenOption=$('#diagDropdown option:selected').val().toLowerCase();
                    //working with chosen option
                    $(this).dialog('close');
                }
            }
        });

        // Bind click event : on click just open the existing dialog 
            $('#button').click(function() {
                $('#diagDropdown').dialog('open');
            });
    });
</script> 
```

# sql-server-2012 - 如何在不使用事务的情况下回滚删除命令

> ID：15472775
> 
> 赞同：8
> 
> 时间：2013-03-18T08:53:33.540
> 
> 标签：sql-server-2012, truncate

如何在不使用事务的情况下回滚删除命令？如果我们不能，那么 Truncate 和 delete 有什么区别？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-07-03T21:34:48.677

在这种情况下您不能回滚，但是当您使用**完全恢复模式**时，您可以将数据库恢复到发出删除命令之前的那一刻。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T21:13:12.477

当且仅当它们是尚未提交的事务的一部分时，您可以回滚 DELETE 或 TRUNCATE（以及大多数其他操作）。或者，您可以从备份中恢复已删除/截断的数据。

TRUNCATE 和 DELETE 之间有几个不同之处。最值得注意的是 TRUNCATE 只能清空一个表，而 DELETE 只删除您指定的行。TRUNCATE 在页级别而不是行级别取消分配和记录数据，这通常使 TRUNCATE 比 DELETE 更有效地删除表的全部内容。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-18T09:13:46.817

没有事务就不能`ROLLBACK`进行操作。您可能可以使用[隐式事务](http://msdn.microsoft.com/en-us/library/ms187807.aspx)，但您仍然需要调用`COMMIT`或`ROLLBACK`显式。但是，为了更好地控制，最好还是将语句包装在一个`BEGIN TRANSACTION...COMMIT / ROLLBACK`块中。这样您就可以避免任何混淆和使用该`IMPLICIT_TRANSACTION`设置的需要。

# regex - 正则表达式令牌的 perl 流文件，包括扫描的令牌

> ID：15472781
> 
> 赞同：0
> 
> 时间：2013-03-18T08:54:10.893
> 
> 标签：regex, perl, tokenize

我正在尝试在 perl 中流式传输文件并对行进行标记并包含标记。

我有：

```
while( $line =~ /([\/][\d]*[%].*?[%][\d]*[\/]|[^\s]+|[\s]+)/g ) {
  my $word = $1;
  #...
} 
```

但是当令牌中没有空格时它不起作用。

例如，如果我的行是：

```
$line = '/15%one (1)(2)%15/ is a /%good (1)%/ +/%number(2)%/.' 
```

我想将该行拆分为：

```
$output =
[
  '/15%one (1)(2)%15/',
  ' ',
  'is',
  ' ',
  'a',
  '/%good (1)%/',
  ' ',
  '+',
  '/%number(2)%/',
  '.'
] 
```

做这个的最好方式是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:59:31.897

`(?:(?!STRING).)*`is to `STRING`as `[^CHAR]*`is to `CHAR`, 所以

```
my @tokens;
push @tokens, $1
   while $line =~ m{
      \G
      ( \s+
      | ([\/])([0-9]*)%
        (?: (?! %\3\2 ). )*
        %\3\2
      | (?: (?! [\/][0-9]*% )\S )+
      )
   }sxg; 
```

但这不成立。如果你想验证，你可以使用

```
my @tokens;
push @tokens, $1
   while $line =~ m{
      \G
      ( \s+
      | ([\/])([0-9]*)%
        (?: (?! %\3\2 ). )*
        %\3\2
      | (?: (?! [\/][0-9]*% )\S )+
      | \z (*COMMIT) (*FAIL)
      | (?{ die "Syntax error" })
      )
   }sxg; 
```

以下内容也可以验证，但它更具可读性，并且可以轻松区分令牌类型：

```
my @tokens;
for ($line) {
   m{\G ( \s+ ) }sxgc
      && do { push @tokens, $1; redo };

   m{\G ( ([\/])([0-9]*)%  (?: (?! %\3\2 ). )*  %\3\2 ) }sxgc
      && do { push @tokens, $1; redo };

   m{\G ( (?: (?! [\/][0-9]*% )\S )+ ) }sxgc
      && do { push @tokens, $1; redo };

   m{\G \z }sxgc
      && last;

   die "Syntax error";
} 
```

[`pos`](http://perldoc.perl.org/functions/pos.html)将为您提供有关错误发生位置的信息。

# java - 在eclipse中使用Jar文件中的类

> ID：15472782
> 
> 赞同：-2
> 
> 时间：2013-03-18T08:54:16.093
> 
> 标签：java, eclipse, jar, java-native-interface, native

我有实现类的 Jar 文件，该类具有从 dll 调用本机代码的静态函数。我将 jar 添加到 classpach。我正在查看 jar 中的类，它看起来像：

```
package com.aeroflex.afApplicationControlDll;

import com.aeroflex.jni.*;

public class afApplicationControl
{
    static
    {
        System.loadLibrary("afApplicationControlJNI");
    }
    public static native int GetServerVersion (int version[]);
    public static native int Initialise( int n1, int n2, int n3, int n4 );
} 
```

在我的课堂上，我正在尝试使用 afApplicationControl 类

我正在尝试导入：

```
import com.aeroflex.afApplicationControlDll.*; 
```

但编译器没有找到 com.aeroflex.*

问题是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:58:52.087

确保 jar 文件位于您的类路径中。右键单击项目> 属性> Lib，检查您的 jar 是否存在。如果是这样请通过选择项目来清理您的项目，然后单击“项目”选项卡并清理项目然后尝试。

# c# - 达到类内的类型成员

> ID：15472783
> 
> 赞同：0
> 
> 时间：2013-03-18T08:54:34.430
> 
> 标签：c#, class

我有两种类型，定义如下：

```
public class T1
{
    public int A1;
    public int B1;
}

public class T2
{
    public int A2;
    public int B2;
} 
```

我有一个包含 T1 和 T2 列表的类：

```
public class Topology
{
    public List<T1> T1s;
    public List<T2> T2s;
} 
```

我想在 T2 类中创建一个方法并想要访问 T1s 变量。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T08:57:42.320

通过构造函数将 T1 引用传递给 T2 怎么样？

```
public class T2
{
    private T1 _t1Reference;

    public int A2;
    public int B2;

    public T2(T1 t1Reference)
    {
       _t1Reference = t1Reference;    
    }

    public void T2Method()
    {
       //Access _t1Reference here 
    }
} 
```

或者通过 T2 的方法参数传递对 T1 实例的引用？

```
public class T2
{
    public int A2;
    public int B2;

    public void T2Method(T1 t1Reference)
    {
       //Access t1Reference here 
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T08:56:27.377

在 T2 中创建一个公共方法，并在参数中传递 T1 的对象。

```
public class T2
{
    public int A2;
    public int B2;

    public void YourMethod(T1 t1)
    {
       string a1 = t1.A1;
       string b1 = t1.B1;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T09:00:29.307

一些实现的方法

1- 从 T1 继承 T2，

2- 传递 T1 作为方法参数

# iphone - becomeFirstResponder 在 vi ewDidAppear 中有效，但在 viewDidLoad 中无效

> ID：15472784
> 
> 赞同：15
> 
> 时间：2013-03-18T08:54:36.873
> 
> 标签：iphone, ios, objective-c, xcode, uisearchbar

我的应用程序有一个模式视图控制器，包括一个搜索栏。当视图出现时，我希望搜索栏成为焦点。我试过`[self.searchBar becomeFirstResponder]`了`viewDidLoad`，但它没有用。后来我把它放进去`viewDidAppear`，它工作。但是使用这种解决方法，会出现明显的延迟。（视图完全出现后，键盘开始出现）

我可以确保两者`viewDidAppear`都`viewDidLoad`被调用。

如果我希望搜索栏在视图出现时立即获得焦点，我应该怎么做？

（我正在使用故事板）

按照答案，我尝试将代码放入`viewWillLoad`，但仍然无法正常工作。（在`viewWillLoad`,`self.searchBar.window`为零）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-18T09:03:42.630

可能它在 viewDidLoad 中不起作用，因为视图尚未添加到视图层次结构中。但根据苹果文档 becomeFirstResponder 应该只在附加到 UIWindow 的对象上调用：

```
However, you should only call it on that view if it is part of a view hierarchy. 
If the view’s window property holds a UIWindow object, it has been installed 
in a view hierarchy; if it returns nil, the view is detached from any hierarchy. 
```

所以，我认为，实现必要行为的最佳位置是将调用放入`viewWillAppear`方法中。

**更新。**

因此，在 viewWillAppear 控制器的视图中尚未附加到 UIWindow ...它只会通知，该视图将被添加到视图层次结构中

这可能有些棘手，但您可以在 viewWillAppear 中做一些小的延迟：

```
 - (void)viewWillAppear:(BOOL)animated {
    [super viewWillAppear:animated];
    double delayInSeconds = 0.05;
    dispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, (int64_t)(delayInSeconds * NSEC_PER_SEC));
    dispatch_after(popTime, dispatch_get_main_queue(), ^{ 
        make first responder here
    });
 } 
```

但我相信应该有更好的解决方案

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2018-07-19T15:51:43.477

您应该在 viewDidLayoutSubviews() 中调用，下面的代码设置 textField becomeFirstResponder 仅在第一次查看布局子视图时，它应该是。

```
var isFirstLayout: Bool = true
override func viewDidLayoutSubviews() {
    super.viewDidLayoutSubviews()
    if isFirstLayout {
        defer { isFirstLayout = false }
        textField.becomeFirstResponder()
    }
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-18T09:00:52.643

所有 IBOutlet 对象都加载到 viewDidLoad 中，如果您在 viewDidLoad 中调用该方法，则该操作不会执行，因为在加载对象之前我们无法做任何事情，这就是为什么最好在其中编写代码

```
-(void)viewWillAppear:(BOOL)animated{
//write here
} 
```

然后它工作正常。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2014-03-25T22:45:12.670

这将有助于：

```
- (void)viewWillAppear:(BOOL)animated {
    [super viewWillAppear:animated];
    dispatch_async(dispatch_get_main_queue(), ^{
        [self.quantifyTextField becomeFirstResponder];
    });
} 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-03-18T10:42:16.677

应该在所有 UIViewController 动画之后完成文本字段/视图的第一响应者，这发生在加载和呈现视图时。所以最好的地方是viewDidAppear。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-18T08:59:59.863

写`viewWillAppear`代替`viewDidAppear/viewDidLoad`。

因为`viewWillAppear`方法是在 View 的时候调用才会出现（*in process*），更多信息[请`viewWillAppear`阅读这个官方文档。](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html)

```
- (void)viewWillAppear:(BOOL)animated
{
    [self.searchBar becomeFirstResponder];
    [super viewWillAppear:animated];
} 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-08-17T02:47:18.960

我知道这是一个有点旧的线程，但我认为它可以帮助在添加此代码时遇到键盘问题的人。

请记住在 viewWillDisappear 中将 textfield 委托设置为 nil，否则如果您在不关闭键盘的情况下弹出/关闭视图控制器，则键盘将不会再次显示。

# node.js - node.js REST api 身份验证和 oauth2

> ID：15472785
> 
> 赞同：7
> 
> 时间：2013-03-18T08:54:53.813
> 
> 标签：node.js, rest, csrf, passport.js

我有几个问题：

1) 将 REST API 用于外部 API 使用和作为主干（或普通 js）前端的服务器端是否是一种好习惯？我认为编写一个 REST API 服务器并将其用作后端要容易得多。

2) 如果我使用 oauth 2 标准编写我的 webapp 身份验证，是否是将我的秘密令牌存储在 cookie 中的好方法？我认为这会导致 CSRF 漏洞。

正如我所看到的，passport.js 使用 cookie 来存储秘密令牌，例如 Facebook 或 twitter ......在这种情况下，CSRF 是什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-29T08:49:08.403

这是一个非常有趣的问题，我很惊讶没有人回答。

1）对于第一个问题，我的答案是肯定**的**！您不想编写 2 倍的 API 逻辑。

您可以做的是使用不同的 URL。

例如。对于公共 api，您使用[http://api.domain.com/objects/](http://api.domain.com/objects/)而对于内部 API，您可以使用[http://domain.com/api/objects/](http://domain.com/api/objects/)或任何您喜欢的。

然后您使用相同的逻辑，但使用不同的身份验证策略。带有身份验证令牌的公共一个，如许多流行的 API（Twitter、Facebook 等）和使用 passport.js 日志的私有一个。

分离的好处是：

*   您将安全问题分开
*   如果您的应用程序传输大量数据，您可以控制访问带宽（并且您想为您的应用程序提供更高的优先级......很可能！）
*   或者只是您可以控制授权（例如，通过公共 API 不删除）

2）我不是安全专家，但我肯定会信任 passport.js 身份验证系统，因为它在使用 node 作为后端时被广泛使用。

您可以参考这个问题以在 express 中实现 CSRF 安全性：[如何使用 express.js 在 Ajax 调用中实现 CSRF 保护（寻找完整的示例）？](https://stackoverflow.com/questions/11200068/how-to-implement-csrf-protection-in-ajax-calls-using-express-js-looking-for-com)

或者，如果您使用 FB 或 Twitter 连接策略，另一种策略是使用刷新令牌。

希望能帮助到你。

# audio - RTP AAC 数据包解包器

> ID：15472788
> 
> 赞同：3
> 
> 时间：2013-03-18T08:54:58.797
> 
> 标签：audio, packet, rtp, aac, rfc

[我之前在RTP H.264 Packet Depacketizer](https://stackoverflow.com/questions/15463692/rtp-h-264-packet-depacketizer)上询问过 H264

我现在的问题是关于音频数据包。

我通过 RTP 数据包注意到 AAC、G.711、G.726 等音频帧都设置了标记位。

我认为框架是独立的。我对吗？

我的问题是：音频很小，但我知道每个 RTP 数据包可以有不止一帧。不管我有多少帧，它们是完整的吗？或者它可能在 RTP 数据包之间被分段。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T09:21:57.393

音频和视频之间的区别在于，音频通常在单个样本中编码，或者在某些 [小] 帧中编码，而不参考以前的数据。此外，数据量很小。所以音频通常不需要复杂的分段来通过 RTP 传输。但是，对于任何有效负载类型，您应该再次参考描述详细信息的 RFC：

*   AAC - [MPEG-4 音频/视频流的 RTP 有效负载格式](https://www.rfc-editor.org/rfc/rfc6416)
*   G.711 - [ITU-T G.711.1 建议书的 RTP 有效载荷格式](https://www.rfc-editor.org/rfc/rfc5391)
*   G.726 -[具有最小控制的音频和视频会议的 RTP 配置文件](https://www.rfc-editor.org/rfc/rfc3551)
*   [其他](http://en.wikipedia.org/wiki/RTP_audio_video_profile)

# android - 如何为Android GCM（Pushnotification）集成Push sharp？

> ID：15472790
> 
> 赞同：2
> 
> 时间：2013-03-18T08:55:06.347
> 
> 标签：android, google-cloud-messaging, pushsharp

我指的是这个链接在android中实现push sharp， [https://github.com/Redth/PushSharp#monotouch-and-mono-for-android-client-application-integration](https://github.com/Redth/PushSharp#monotouch-and-mono-for-android-client-application-integration)

但是给定的代码在 .cs 中，所以请建议如何在 android 中使用这个库，分享任何关于这个的文档。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T12:27:00.220

好吧，您提供的链接表明该库适用于 MonoTouch 和 Mono for Android。我不熟悉这些，但您不必在客户端使用它们（即使您在服务器中使用 PushSharp）。您可以简单地使用[GCM 开发人员指南](http://developer.android.com/google/gcm/gcm.html)中的代码示例（全部使用 Java）。

# wix - 仅安装时的自定义操作

> ID：15472793
> 
> 赞同：3
> 
> 时间：2013-03-18T08:55:14.007
> 
> 标签：wix, wix3.5

我已设置仅在安装时触发的自定义操作

```
<InstallExecuteSequence>
   <Custom Action="caPopulateDatabase" Before="InstallFiles">NOT INSTALLED AND NOT UPGRADINGPRODUCTCODE</Custom>
</InstallExecuteSequence> 
```

出于某种原因，该自定义操作也在卸载期间触发。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-18T13:48:26.823

尝试以下安装：

```
<InstallExecuteSequence>
   <Custom Action="caPopulateDatabase" Before="InstallFiles">NOT Installed</Custom>
</InstallExecuteSequence> 
```

Windows 安装程序区分大小写。另外，根据您的问题，在重大升级期间被删除时您不需要阻止，所以我删除了`NOT UPGRADINGPRODUCTCODE`.

# html - 如何在wordpress中将文本选项卡更改为html选项卡

> ID：15472794
> 
> 赞同：0
> 
> 时间：2013-03-18T08:55:18.327
> 
> 标签：html, wordpress

如何在wordpress中将文本选项卡更改为html选项卡？wordpress 不是我的强项，所以如果有人知道可能出了什么问题，我将不胜感激。

![在此处输入图像描述](../Images/c4fba40db5dd141bfbddcb82eb948f18.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T09:49:45.020

`class-wp-editor.php`在您的`wp-include`目录中查找。我认为这就是你可以开始的地方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:13:33.210

使用`<code> </code>`标签

# android - 用相机拍摄多张图像并插入到多个不同的图像视图中

> ID：15472798
> 
> 赞同：0
> 
> 时间：2013-03-18T08:55:26.423
> 
> 标签：android

```
public void onClick(View v) {
    // TODO Auto-generated method stub

    switch (v.getId()) {

    case R.id.image1:
        i = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
        startActivityForResult(i, cameraData);

        break;
    case R.id.image2:
        ii = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
        startActivityForResult(ii, cameraData);
    }
}

@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    // TODO Auto-generated method stub
    super.onActivityResult(requestCode, resultCode, data);

    if (resultCode == RESULT_OK) {
        Bundle extras = data.getExtras();
        bmp = (Bitmap) extras.get("data");
        view1.setImageBitmap(bmp);
        view2.setImageBitmap(bmp);
    }
} 
```

我想用相机拍摄两张图像并将这些图像显示为两个单独`ImageViews`的图像。我拍了一张照片，但它在两个图像中都显示了相同的图像`ImageViews`。请帮助我真的被卡住了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T09:02:48.383

您可以尝试以下方法：

```
public void onClick(View v) { // TODO Auto-generated method stub

    switch (v.getId()) {

    case R.id.image1:
        i = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
        startActivityForResult(i, 1);

        break;
    case R.id.image2:
        ii = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
        startActivityForResult(ii, 2);
  }
} 
```

进而，

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    // TODO Auto-generated method stub
    super.onActivityResult(requestCode, resultCode, data);
    switch(requestCode){
    case 1:
       if(resultCode == RESULT_OK){
          Bundle extras = data.getExtras();
          bmp = (Bitmap) extras.get("data");
          view1.setImageBitmap(bmp);
       }
       break;
    case 2:
       if(resultCode == RESULT_OK) {
            Bundle extras = data.getExtras();
            bmp = (Bitmap) extras.get("data");
            view2.setImageBitmap(bmp);
        }
       break;
     }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T09:03:56.603

试试这个：

```
public void onClick(View v) {
        // TODO Auto-generated method stub

        switch (v.getId()) {
i = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
        case R.id.image1:

            startActivityForResult(i, 101);

            break;
        case R.id.image2:

            startActivityForResult(i, 102);
      }
}

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        // TODO Auto-generated method stub
        super.onActivityResult(requestCode, resultCode, data);

        if (if (requestCode == 101 && resultCode == RESULT_OK)) {
            Bundle extras = data.getExtras();
            bmp = (Bitmap) extras.get("data");
            view1.setImageBitmap(bmp);

}
        if (if (requestCode ==102 && resultCode == RESULT_OK)) {
            Bundle extras = data.getExtras();
            bmp = (Bitmap) extras.get("data");

            view2.setImageBitmap(bmp);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-09-09T08:22:52.610

```
private String uploadFile() {
        String responseString = null;

        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        bitmap.compress(Bitmap.CompressFormat.JPEG, 75, bos);
        bitmap = Bitmap.createScaledBitmap(bitmap, 300, 300, true);
        byte[] data = bos.toByteArray();

        HttpClient httpclient = new DefaultHttpClient();
        HttpPost httppost = new HttpPost(Apis.Base);

        try {
            AndroidMultiPartEntity entity = new AndroidMultiPartEntity(
                    new AndroidMultiPartEntity.ProgressListener() {

                        @Override
                        public void transferred(long num) {
                            publishProgress((int) ((num / (float) totalSize) * 100));
                        }
                    });

            ByteArrayBody bab = new ByteArrayBody(data, "bt.jpg");
            entity.addPart("gallery", bab);
            entity.addPart("action", new StringBody("update_photos"));
            entity.addPart("user_id", new StringBody(SaveSharedPreference.getUserID(GalleryFragment.this)));

            totalSize = entity.getContentLength();
            httppost.setEntity(entity);

            // Making server call
            HttpResponse response = httpclient.execute(httppost);
            HttpEntity r_entity = response.getEntity();

            statusCode = response.getStatusLine().getStatusCode();
            responseString = EntityUtils.toString(r_entity);
            jsonObject = new JSONObject(responseString);
            Log.e("respon", "" + responseString);

            if (statusCode == 200) {
                // Server response
                SaveSharedPreference.setUserIMAGE(GalleryFragment.this, "https://pickpamphlet.com/PropertyApp/uploads/profile_pic/" + jsonObject.getJSONObject("data").getString("profile_pic"));

            } else if (statusCode == 201) {
                // Server response

                SaveSharedPreference.setUserIMAGE(GalleryFragment.this, "https://pickpamphlet.com/PropertyApp/uploads/profile_pic/" + jsonObject.getJSONObject("data").getString("profile_pic"));

            } else {
                responseString = "Error occurred! Http Status Code: " +
                        EntityUtils.toString(r_entity) + statusCode;
            }

        } catch (ClientProtocolException e) {
            responseString = e.toString();
        } catch (Exception e) {
            responseString = e.toString();
        }

        return responseString;
    } 
```

制作一个类似这样的函数将图像上传到服务器并调整其大小。

# ember.js - 单页应用中路由器的作用是什么

> ID：15472802
> 
> 赞同：6
> 
> 时间：2013-03-18T08:55:51.653
> 
> 标签：ember.js, single-page-application

我是 Ember-js 的新手，最近在浏览一些博客文章，还看到了 Tom dale 的 Ember-js 介绍视频。

总而言之，他们说 Router Api 是新引入的，它是 Ember-js 发生的最好的事情，Router Api 用于管理应用程序的状态，每个状态都用一个 URL 标识，现在用于单页应用程序我们只使用一个URL，路由器的作用是什么，会不会只有一个映射到'/'（索引）的路由条目？如果是，那么我们就失去了Router api提供的优势，对吧？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-18T13:44:24.847

> 现在对于我们只使用一个 URL 的单页应用程序，路由器的作用是什么，是否只有一个映射到“/”（索引）的路由条目？

通常，单页应用程序仍将使用该 url。例如，使用 gmail 时观看 url 更改。因此，在这种情况下，单页应用程序意味着浏览器不会在 url 更改时获取新页面。与 gmail 一样，典型的 ember 单页应用程序会在用户导航到应用程序的各个部分时更改 url。ember 路由器会自动处理这个问题。

> 如果是，那么我们就失去了Router api提供的优势，对吧？

如果您决定不使用 url，并且真的希望它一直保持“/”，您仍然可以使用路由器。只需将路由器的位置类型设置为“无”

请参阅[http://emberjs.com/guides/routing/specifying-the-location-api/](http://emberjs.com/guides/routing/specifying-the-location-api/)

> 我知道这里的路由意味着管理状态，但是在任何时候用户都可以处于一组状态，例如使用 gmail 用户将处于登录状态和撰写状态，如何管理同时存在的多个状态？

当然这是真的。ember 路由器基本上是一个状态图，其中路由（叶节点）嵌套在一些资源下。因此，以 gmail 为例，只有登录用户才能处于撰写状态。

邮箱地址：`https://mail.google.com/mail/u/0/?shva=1#inbox`

```
// Gmail Routes:
* /mail - the mail application
* /u/0 - connected account index 0 for the current user
* ?shva=1 - http://stackoverflow.com/questions/1692968/what-is-shva-in-gmails-url
* inbox - folder name 
```

EmberMail 版本：`https://mail.ember.com/mail/u/0/inbox`

```
// EmberMail Routes
this.resource('mail', { path: '/mail' }, function() {
  this.resource('currentUser', { path: '/u' }, function() {
    this.resource('account', { path: '/:account_id' }, function() {
      this.route('folder', { path: '/:folder_id' });
    });
  });
}); 
```

> 你能指出一个广泛使用路由的示例应用程序吗？

我所知道的最好的例子是话语。查看以下示例，了解大型 ember 应用程序如何使用 ember 路由器：

*   话语[申请途径](https://github.com/discourse/discourse/blob/master/app/assets/javascripts/discourse/routes/application_routes.js)

*   话语[管理路线](https://github.com/discourse/discourse/blob/master/app/assets/javascripts/admin/routes/admin_routes.js)

# c++ - C 或 C 中的 gamma 或 log gamma 函数

> ID：15472803
> 
> 赞同：4
> 
> 时间：2013-03-18T08:55:52.097
> 
> 标签：c++, c, numerical, gamma

我正在寻找 C 或 C++ 版本的 gamma 和 log gamma 函数。

有推荐的代码片段或库吗？

如果可能的话，我想知道实现的原理。

谢谢！！！

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-18T08:58:58.600

在 c++11 中，您可以将[std::lgamma](http://en.cppreference.com/w/cpp/numeric/math/lgamma)用于 log gamma，将[tgamma](http://en.cppreference.com/w/cpp/numeric/math/tgamma)用于 gamma。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T08:59:51.130

您可以尝试看一下[Numerical Recipes In C](http://www.nr.com/)，它应该包含您需要的功能。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-18T09:21:24.390

如果您不能使用 C++11：GNU GSL 具有您需要的所有 Gamma 函数：[http ://www.gnu.org/software/gsl/manual/html_node/Gamma-Functions.html#index-gsl_005fsf_005flngamma -583](http://www.gnu.org/software/gsl/manual/html_node/Gamma-Functions.html#index-gsl_005fsf_005flngamma-583)

或者你可以看看 boost 的数学特殊函数： http: [//www.boost.org/doc/libs/1_53_0/libs/math/doc/sf_and_dist/html/math_toolkit/special/sf_gamma/lgamma.html](http://www.boost.org/doc/libs/1_53_0/libs/math/doc/sf_and_dist/html/math_toolkit/special/sf_gamma/lgamma.html)

# java - JQuantlib 缺少扩展

> ID：15472806
> 
> 赞同：0
> 
> 时间：2013-03-18T08:55:56.677
> 
> 标签：java, netbeans, java-ee-5

我正在做一个需要大量财务计算的大型项目，我正在使用 Netbeans IDE 7.3 和 Java EE 5（不是 maven 应用程序）的默认 Web 应用程序，我的应用程序服务器是 tomcat 7 我正在使用 jsps 和 servlets 我的操作系统是Windows 7的。

我下载了 jquantlib 二进制文件并将其添加到我的应用程序中，但是当我运行它时，它一直说它需要找不到的 slf4j-api 扩展，所以我也下载了它并将它的 jar 添加到我的项目中，但错误仍然存​​在。

我该如何解决这个问题？任何人都可以给我一些指导方针吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-07T14:21:51.660

这里的关键是 jquantlib 在 jar 清单中需要 slf4j-api 版本 1.4.0：

（来自 jquantlib.jar 中的 MANIFEST.MF）

```
    实施-供应商-Id：org.jquantlib
    扩展列表：slf4j-api
    slf4j-api-扩展名：slf4j-api
    slf4j-api-实施-版本：1.4.0

```

Tomcat 将尝试使用您在应用程序中包含的 slf4j-api 版本，但您包含的内容可能实际上并不兼容。见[http://grepcode.com/file/repo1.maven.org/maven2/org.apache.tomcat/tomcat-catalina/7.0.34/org/apache/catalina/util/Extension.java#Extension.isCompatibleWith%28org .apache.catalina.util.Extension%29](http://grepcode.com/file/repo1.maven.org/maven2/org.apache.tomcat/tomcat-catalina/7.0.34/org/apache/catalina/util/Extension.java#Extension.isCompatibleWith%28org.apache.catalina.util.Extension%29)了解详情。

底线 - 尝试在您的应用程序中使用 slf4j-api 版本 1.4.0。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-07T16:21:49.037

尝试从 MANIFEST.MF 文件中删除提到 sfl4j 的行

# php - php DAL - 单独的实体和数据库？

> ID：15472812
> 
> 赞同：5
> 
> 时间：2013-03-18T08:56:13.943
> 
> 标签：php, database, oop, model

我一直在研究和阅读很多关于在 PHP 中使用单独的层来创建可维护和可读的代码。但是，我看到很多代码将实体和数据库访问放在一个类中。例如：

```
class User{
     public $id;
     public $username;
     public $database;

     function add(){
           $database->query ....
     }
} 
```

我觉得这很奇怪，因为在这里您将 User 类与数据库元素混合在一起，这使得维护变得更加困难。

我喜欢这样工作：

*   一个单独的数据库类
*   一个用户类
*   用户数据类

这像这样工作：

```
$database = new Database();
$database->openConnection();
$dataUser = new DataUser($db);
$user = new User(1,"myname");
$dataUser->saveUser($user); 
```

所以我想知道，我是以正确的方式工作还是第一种方式是创建代码的更好方式？我发现可能非常容易维护，因为您有一个单独的实体和一个单独的数据库类来处理数据库操作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T09:29:48.970

我做什么 ：

我的模型不是链接到数据库的实体（当我不使用学说时），所以没有“活动记录”方法。一个对象不知道如何获取它的依赖项（例如，一个用户可能有 n 条评论，我的模型不知道如何获取评论）。

```
class User{
private $name;
private $password;
// getter and setters
} 
```

我的服务包含一些可以从提供者那里获取模型的业务逻辑，一个服务可以有很多提供者。

```
class UserService{
    function __construct(IUserProvider $userProvider){
        $this->userProvider = $userProvider
    }
    function getUsers(){
       // return an array of user objects
       return $this->userProvider->getUsers();

    }
} 
```

最后，我有一个数据提供者，它知道如何从数据库、文本文件、json 文件、网络服务请求数据：

```
 class UserProvider implements IUserProvider{
      function __construct(Connection $connection){
         $this->connection = $connection;
      }
      function getUsers(){
         return $this->toUsers($this->connection->fetchAssoc("Select * from users"));
      }
      function toUsers(array $datas){
          // convert user records to an array of User
          (...)
          return $users;
      }
 } 
```

然后界面

```
interface IUserProvider{
     /**@return array an array of User */
     function getUsers();
} 
```

如果我需要获取用户评论，那么我的评论服务知道如何从用户 ID 获取评论。因此，要获取用户及其评论，我需要 2 个对数据库的请求。一个来自 UserProvider ，另一个来自 CommentProvider。

所以我有 3 层：

*   我的应用层（显示用户，响应任何请求......）
*   我的服务层（它必须使用命令行界面并且不知道我的 Web 应用程序，除了通常绑定到我使用的框架的密码编码和 ACL 的东西可能......）
*   我的数据访问层对其他层一无所知，

我的层通信的唯一方式是通过我从层传递到层的模型。

而且我所有的类都是用依赖注入容器构建的，所以接线不是问题。

这是我制作的应用程序示例，它是开源的：[https ://github.com/Mparaiso/silex-bookmarkly](https://github.com/Mparaiso/silex-bookmarkly)

欢迎任何想法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T09:06:45.213

就个人而言，我认为抽象可能是矫枉过正`UserData`。`User`因为，在这种情况下，`UserData`可能与`ProductData`example 非常相似 - 它们仍将包含`add($data)`等`find($id)`。

在您的情况下，它是[MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller)`User`方法中的一个模型，包含数据库存储/检索逻辑是完全可以接受的。但是，您可能会发现，您在该类中重新创建了与其他模型中相同的 DB 方法。这是您可以开始查看[ORM](http://en.wikipedia.org/wiki/Object-relational_mapping)实现的地方。因此，常见的 DB 访问方法是在一个抽象类中定义的，然后您的所有模型都会根据需要进行扩展和覆盖。`User`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-18T09:16:46.540

> 易于维护，因为您有一个单独的实体和一个单独的数据库类

您似乎是在说您希望从[Active Record](http://en.wikipedia.org/wiki/Active_record)方法转移到[Data Mapper/Entity/Repository](http://en.wikipedia.org/wiki/Data_mapper_pattern)方法。这是一个很好的前进方向，因为它采用了更好的关注点分离。你可以自己构建它，但你可能想看看像[Doctrine](http://www.doctrine-project.org/)这样的解决方案，它允许你按照以下方式做一些事情：

```
$product = new Product();
$product->setName($newProductName);
$entityManager->persist($product); 
```

`$product`实体只是一个包含记录数据的 POPO（普通旧 PHP 对象），不知道它是如何持久化的，当需要持久化时，它被传递到实体管理器以处理存储。

# c++ - C ++ VS2010项目->属性中没有链接器

> ID：15472814
> 
> 赞同：1
> 
> 时间：2013-03-18T08:56:19.850
> 
> 标签：c++, visual-studio-2010, linker

我有找不到 .lib 文件的问题。我想检查链接器属性。但是，在 Project->Properties 中，我找不到链接器选项卡。我在这里想念什么？实际上，我担心我不是在看项目属性，而是在看解决方案的属性或其他什么。究竟是什么项目（例如 VS 中的哪个图标），或者我在哪里可以查看项目属性？

谢谢 ！！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-18T09:10:58.150

如果没有链接器选项，则项目可能设置为构建 *.lib。

在这种情况下，您将能够选择项目选项左侧的“图书馆员”。您可以通过转到常规然后更改配置类型来修改项目配置为构建的内容。

要进入项目属性，请右键单击解决方案资源管理器窗口中的项目，然后单击属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:04:07.083

它应该是项目-> 属性（Alt+F7）->​​ 配置属性-> 链接器。可以在“链接器”选项卡下的“输入”选项卡中设置依赖关系。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T09:18:56.387

为了澄清 Visual Studio 中“项目”的概念：

您在解决方案资源管理器中看到的最顶层节点（默认情况下（我相信）在窗口左侧的面板）称为**解决方案**。你可以把它想象成一个大袋子，可以把与解决问题相关的所有东西都放进去。

我所说的这个“一切”都是使用**Projects**放在一起的。一个项目本质上是一堆代码，它们将被编译成一个不同的输出文件（DLL/LIB，一个应用程序）。

例如，如果您自己要编写一个库，您将创建一个包含所有这些的解决方案。在解决方案中，您可以将库组件的代码放在单独的项目中。对于测试，您将添加更多项目，每个项目都构建一个链接到您的库的可执行文件。

例如：

```
---- MyLibrary (Solution)
     |
     +--- MyLibraryMath (Project)
     |
     +--- MyLibraryNetwork (Project)
     |
     +--- TestMath (Project, linking to MyLibraryMath)
     |
     +--- TestNetwork (Project, linking to MyLybraryNetwork) 
```

# jquery - 为什么设置后我的 cookie 不显示在输入字段中？

> ID：15472817
> 
> 赞同：0
> 
> 时间：2013-03-18T08:56:36.927
> 
> 标签：jquery, cookies

我有一个用于在输入字段中设置 cookie 的 cookie 功能，以及一个保存它的按钮。当我保存并刷新页面时，输入字段再次为空。

注意：我有一个 jquery 对话框和一个粘性导航栏。也许它以某种方式覆盖了其他 jquery 代码。

我设置 cookie 的 jquery 代码：

```
//set cookie voor de postcode
$(function() {
    $('#go').click(function(){
        $.cookie('postcode', $('#postcode').val());        
    });

    //retrieve the cookie on load if it's not undefined
    if(typeof $.cookie('postcode') !== 'undefined'){
        $('#postcode').val($.cookie('postcode'));
    }
}); 
```

我在输入中设置 cookie 的函数。

```
 <div id="searchbox">
        <div id="search">
        <fieldset>
        <legend><h2>Zoeken in uw regio:</h2></legend>
        <form action="<?= base_url('home/zoekresultaten') ?>">
        <p class="field"><label class="field" for="Naam">Geef een zoekterm op:</label><input type="search" value="" name="postocde" /></p>
        <br />
        <p class="field"><label class="field" for="Naam">Kies hier een categorie:</label><select>
          <option value="0" disabled selected>Alle Categorieën...  </option>
          <option value="1">Categorie1</option>
          <option value="2">Categorie2</option>
          <option value="3">Categorie3</option>
        </select>
        </p>

//my code to set the cookie

        <p class="field"><label class="field" for="Naam">Vul hier uw postcode in:</label><input type="text" id="go" value="" name="search"/></p>

// end of the ocde

        <br />
        <p class="field"><label class="field" for="naam">Kies een afstand:</label><select>
          <option value="0" disabled selected>Afstand...</option>
          <option value="1">5km</option>
          <option value="2">10km</option>
          <option value="3">15km</option>
          <option value="4">20km</option>
          <option value="5">25km</option>
        </select>
        </p>
        <br />
        <input type="submit" id="go" class="searchbutton" value="Zoek" />
        </form>
        </fieldset>
        </div> 
```

我不知道为什么它不起作用。用于隐藏对话框的 cookie 工作正常，因此 cookie.js 文件加载良好。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T09:07:13.607

请务必注意，在设置 cookie 后，您必须重新加载页面才能使用 cookie。设置 Cookie 和销毁 cookie 仅在设置和销毁 cookie 后至少重新加载一次页面后才起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T16:15:34.043

它没有填充的原因是因为没有定义为邮政编码的 id

添加`id="postcode"`到邮政编码输入，或使用

```
$(function() {
    $('#go').click(function(){
        $.cookie('postcode', $('input[name=postcode]').val());        
    });

    //retrieve the cookie on load if it's not undefined
    if(typeof $.cookie('postcode') !== 'undefined'){
        $('input[name=postcode]').val($.cookie('postcode'));
    }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-21T06:23:38.833

将 autocomplete="off" 放入输入字段非常简单。

```
<input type="email" name="email" autocomplete="off"> 
```

# jquery - 从元素中删除 css 样式

> ID：15472819
> 
> 赞同：-1
> 
> 时间：2013-03-18T08:56:39.360
> 
> 标签：jquery

我想删除使用 Jquery 的 css 样式表添加的父样式。我用谷歌搜索，但我能找到的只是删除*内联样式*或*类*

HTML

```
<p><span>text</span></p> 
```

CSS

```
p{
    width:300px;
    height:200px;
    border:solid 3px #000;
    padding:10px;
    font-size:23px;
}

span{
    width:100%;
    height:100%;
    background: #ccc;
    padding:10px;
} 
```

我尝试了许多 Jquery 变体，其中之一：

```
$('span').parent().removeAttr( 'style' ); 
```

[JsFiddle 示例](http://jsfiddle.net/ecNAh/1/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T08:58:39.183

你不能`removeAttribute`从，`P`因为没有为标签设置**内联 CSS**或`style`属性。`P`

您可以使用覆盖默认 css`.css()`

**你可以做什么。**

1.  `$('span').parent('p').css({ width:350px;height:250px;border:solid 5px #000;padding:5px;font-size:20px;});` 如上覆盖规则

2.  `class`为父母创建`P`并使用`.removeClass()`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:57:35.877

将 cssClass 应用于父元素，然后通过在 jQuery 中使用 removeClass 我们可以删除该类。

```
<p class="className"><span>text</span></p>

.className{
    width:300px;
    height:200px;
    border:solid 3px #000;
    padding:10px;
    font-size:23px;
}

    $('span').parent().removeClass( 'className' ); 
```

# objective-c - addSubView 不工作，试图切换视图

> ID：15472820
> 
> 赞同：0
> 
> 时间：2013-03-18T08:56:41.033
> 
> 标签：objective-c, addsubview

// ViewController.m

```
1: - (IBAction)doNE:(id)sender {
2:
3:     [self.view removeFromSuperview];
4:     [self.view addSubView:MasterViewController];
4: } 
```

第 4 行错误：“意外的接口名称`MasterViewController`：预期的表达式”。我有两个视图控制器：`ViewController`和`MasterViewController`. 我已将其设置为第一个视图是 a`ViewController`但我正在尝试获取一个按钮来更改视图。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:07:27.223

```
MasterViewController *obj = [MasterViewController alloc]init];
self.navigationController pushViewController:obj animated:YES]; 
```

你可以使用这个代码片段。这将推送一个新的视图控制器。并将给 ua 后退按钮功能以转到上一个视图控制器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:11:47.960

您可以使用此将第一个 OneViewController 移动到 AnotherViewController。

```
- (IBAction)buttonPressed:(id)sender {
    MasterViewController *createUserController = [[MasterViewController alloc] initWithNibName:@"MasterViewController" bundle:[NSBundle mainBundle] keyWrapper:keyChainWrapper];
    [self presentViewController:createUserController animated:YES completion:nil];
} 
```

如果你使用 UINavigationViewController 你可以像这样推送 ViewController

```
[self.navigationController pushViewController:createUserController  animated:YES]; 
```

并返回使用

```
[self.navigationController popViewController:createUserController animated:YES]; 
```

# python - 如何获取excel COM接口选择的行数和列数？

> ID：15472830
> 
> 赞同：1
> 
> 时间：2013-03-18T08:57:30.497
> 
> 标签：python, excel, com, pywin32, pyxll

我可以获取应用程序`.Selection`属性选择的区域。

（我正在使用python访问excel com界面）

例如，我想知道用户选择了多少行和列

```
input:
    user has selected A1:G8
output:
    the selected range starts from Column 1 (by selection.Column)
    the selected range starts from Row 1 (by selection.Column)
    the selected range is spanning 7 rows (by ?)
    the selected range is spanning 8 columns (by ?) 
```

我正在查看 MSDN 的[Range interface](http://msdn.microsoft.com/en-us/library/ms281150%28v=office.14%29.aspx)，但该属性似乎对这个问题没有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T09:17:14.030

在 VBA 中，您可以执行以下操作：

```
Debug.Print Selection.Rows.Count
Debug.Print Selection.Columns.Count
Debug.Print Selection.Row
Debug.Print Selection.Column 
```

选择 A1:G8 后，返回

```
8 
7 
1 
1 
```

是不是很容易翻译成 Python>

# jquery - 如何使包含一半文本和一半图像/照片库的扩展 div 正常工作？

> ID：15472832
> 
> 赞同：1
> 
> 时间：2013-03-18T08:57:30.790
> 
> 标签：jquery, html, css

我正在尝试创建一个“阅​​读更多”文本按钮，我成功创建了它，但是当我尝试将它分成两部分时遇到了一些问题 - >成为一半文本和一半图像/照片库（它就像一个报纸的文章 - 左边是文字，右边是图片）[http://jsfiddle.net/nN3Uz/6/](http://jsfiddle.net/nN3Uz/6/)。我应该对此代码进行什么更改以支持我的期望？ps：你可以看到主div的dimensoin效果不好，在点击reed more之前文本没有轮廓......，我应该改变什么才会有边框？html

```
<p id="title">Math</p>
<div class="expander" id="aspect">
                <div id="paragraf">
                Paragraph 2: Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est 
                laborum. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est Excepteur sint occaecat 
                cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est Excepteur sint occaecat cupidatat non proident, sunt in c
                ulpa qui officia deserunt mollit anim id est 
                </div>
    <div id="image"><img src=""></div>
        <div id="clear"></div>
        </div> 
```

css

```
#title {
 border:1px solid #800000;
 width:1000px;
 background:#800000;
 color:#fff;
 margin-left:0px;
 font-size: 30px;
 }

#aspect {
width:1000px;
border: 1px solid #800000;
background:#fff;
box-shadow: 5px 5px 5px #494949;
padding-left:10px;
}

#paragraf {
margin-right:10px;
width:500px;
    float:left;
}

#image {
    width:400px;
    height:200px;
    background:blue;
    float:left;
}

#clear {
   clear:both;
} 
```

我知道实现的 javascript 没有问题，但是 html 或 css 有问题导致溢出或任何所谓的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:19:17.083

添加`overflow:auto`到`#aspect`

```
#aspect {
    width:1000px;
    border: 1px solid #800000;
    background:#fff;
    box-shadow: 5px 5px 5px #494949;
    padding-left:10px; 
    overflow:auto
} 
```

**[演示](http://jsfiddle.net/nN3Uz/12/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:04:09.697

默认情况下，所有 Div 将显示为块。一个低于另一个。要并排显示它们，请使用**display:inline;** 以您的风格为相应的 div

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T09:20:09.540

要获得边框，请设置 div 的最小高度

在方面 div 使用-

最小高度：65px；

对于图像 div -

最小高度：400px；

并确保您使用高度和宽度小于或等于 div 图像大小但不大于该大小的图像。否则在 HTML 中使用

```
<div id="image"><img src="" height="200" width="400"></div> 
```

希望能帮助到你！！

# wpf - WPF/XAML：绑定表达式错误我不明白

> ID：15472833
> 
> 赞同：0
> 
> 时间：2013-03-18T08:57:31.310
> 
> 标签：wpf, xaml, binding, expression

> BindingExpression 生成的值对目标属性无效。Value='D' 目标属性是'Text'（类型'String'）

“D”实际上是我编写的数据类中的枚举值。我已经覆盖了类`ToString()`以将枚举值作为字符串返回，它似乎可以工作。所以我现在不明白。'D' 为何不是此属性的有效字符串？

# asp.net - 验证移动应用程序的 Web 服务

> ID：15472846
> 
> 赞同：3
> 
> 时间：2013-03-18T08:58:29.950
> 
> 标签：asp.net, wcf, web-services

我创建了一个示例 WCF 应用程序，该应用程序当前由移动应用程序使用，问题是它可以被任何使用soap请求的人访问，谁知道它托管的 url 有没有办法通过说只有 mobiile为其创建的应用程序应访问 Web 服务

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T09:41:11.737

您可以使用仅允许移动用户代理的用户代理限制来执行此操作。

使用 htcacces 阻止您不想要的所有其他用户代理。

[被用户代理或空引用者阻止](https://stackoverflow.com/questions/7372551/block-by-useragent-or-empty-referer)

# filter - 如何通过 IVsProject 接口向 Visual Studio 项目添加过滤器？

> ID：15472847
> 
> 赞同：1
> 
> 时间：2013-03-18T08:58:30.683
> 
> 标签：filter, project, visual-studio-addins

使用[IVsProject.AddItem](http://msdn.microsoft.com/en-US/library/microsoft.visualstudio.shell.interop.ivsproject.additem%28v=vs.80%29.aspx)，我可以将现有文件添加到我的 Visual Studio 项目的根目录中。
我使用以下代码：

```
string[] files = new string[1] { file };
VSADDRESULT[] result = new VSADDRESULT[1];
proj.AddItem(
    VSConstants.VSITEMID_ROOT,
    VSADDITEMOPERATION.VSADDITEMOP_OPENFILE,
    file,
    1,
    files,
    IntPtr.Zero,
    result); 
```

但是，我想将过滤器添加到我的项目中，并将此文件移动到其中一个过滤器下。
我可以使用类似于上面示例的代码来执行此操作吗？创建过滤器后如何引用它？

# asp.net-mvc-4 - 使用内置验证来验证动态创建的视图

> ID：15472852
> 
> 赞同：1
> 
> 时间：2013-03-18T08:58:57.843
> 
> 标签：asp.net-mvc-4, entity-framework-5, data-annotations

我想创建一个内容数据能够动态扩展的任务系统（使用不同类型的输入（文本、图像、下拉菜单等）。我的计划是创建以下模型，并在一些自定义 HtmlHelpers 的帮助下生成我的观点。

**模型：**

```
public class Task
{
    public int TaskId { get; set; }
    public string Name { get; set; }
    public virtual List<TaskData> TaskData { get; set; }
}

public enum TaskDataType
{
    TextType1, TextType2, E-mail, Image
}

public class TaskData
{
    public int TaskDataId { get; set; }
    public int TaskId { get; set; }
    public TaskDataType Type { get; set; }
    public string Name { get; set; }
    [Required]
    public string Data { get; set; }
    public bool Required { get; set; }
    public virtual Task Task { get; set; }
} 
```

**看法：**

任务的验证，使用默认的 HtmlHelpers 开箱即用，但是当我尝试做类似的事情时：

```
 @if (Model.TaskData != null)
    {
        foreach (var taskData in Model.TaskData)
        {
            @Html.DisplayTextFor(td => taskData.Name)
            @Html.TextBoxFor(td => taskData.Data)
            @Html.ValidationMessageFor(td => taskData.Data)
        }
    } 
```

在我看来，验证开始出错，客户端站点验证仅验证 forech 循环中的第一个输入，并且控制器中的 ModelState 不包含有关 TaskData 字段的任何数据。

**所以我有两个问题：**

1.  这是正确的道路，还是我需要以不同的方式考虑这一点？

2.  如果这是制作我想要的东西的有效方法，有没有办法让内置验证工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T18:57:55.577

您必须使用 for 循环才能发布字段值并为您进行构建验证工作。

```
@if (Model.TaskData != null)
    {
        for(int i=0; i< Model.TaskData.Count; i++)
        {
            @Html.DisplayTextFor(model => model.TaskData[i].Name)
            @Html.TextBoxFor(model => model.TaskData[i].Data)
            @Html.ValidationMessageFor(model => model.TaskData[i].Data)
        }
    } 
```

# java - 如何将字符串值转换为存储在另一个字符串中的给定数据类型？

> ID：15472854
> 
> 赞同：-1
> 
> 时间：2013-03-18T08:58:59.030
> 
> 标签：java, string, types, casting

假设我有一个字符串变量“值”和一个字符串变量“类型”。我想将变量“值”中的数据转换为变量“类型”指定的类型。例如：

```
String value = "3.14";
String type = "float";
float result; 
```

仅使用上述两个变量，我需要用值 3.14 填充变量“结果”。如果可以将强制转换方法用于非原始类型，那就太好了。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-18T09:02:43.767

您将不得不使用开关并为每种可能的数据类型编写一个案例，例如：

```
switch (type){

case "float": 
float result = Float.parseFloat(value);
break;
....
case "int":
int result = Integer.parseInt(value);
break;
...
} 
```

对于每种可能的数据类型，依此类推

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T09:00:38.727

像这样使用将`String`具有十进制数的数字转换为`Float`. 所以你可以为其他人做同样的过程。

```
double result = 0.0;
if(type.equals("float")
    result = Float.parseFloat(value);
else if(type.equals("int");
    result = Integer.parseInt(value);
else if(type.equals("double");
    result = Double.parseDouble(value); 
```

或者

您可以使用 switch 语句。但是你不能在 switch 中传递字符串，直到 Java SE6 和 Java SE 7 也允许你传递字符串。

# google-drive-api - 以未知长度的块上传文件

> ID：15472855
> 
> 赞同：2
> 
> 时间：2013-03-18T08:58:59.187
> 
> 标签：google-drive-api

你能给我一个例子（html或java）来实现分块上传文件吗？如果在请求时长度未知，我该如何上传文件？我以这种方式找到了[https://developers.google.com/drive/manage-uploads#resumable](https://developers.google.com/drive/manage-uploads#resumable)但我不明白如何对服务器说流已终止。

先感谢您。前！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-10-03T08:15:34.590

我不能给你一个 google drive sdk 的例子，但我可以告诉你它是如何处理原始 HTTP 请求的。

首先，您必须[启动一个可恢复的上传会话](https://developers.google.com/drive/web/manage-uploads#resumable)，之后您可以通过将前 256 KB 的`Content-Range`标头设置为类似这样`0-262144/*`的内容来进行大小未知的部分上传，或者无论您的块的大小是多少（它们必须是 256KB 的倍数根据文档）。

你发出这样的请求来上传中间块，直到你到达最终块，它应该小于那些固定的中间块。最后一个块将通过将`Content-Range`字段设置为 来完成文件上传`<byte interval of the chunk>/<final size of file>`。

可以在最后一次请求之前计算文件的最终大小：请求数 * 256 KB + 最后一个块的大小。

该算法在这里得到了更好的例证：http: [//pragmaticjoe.blogspot.ro/2015/10/uploading-files-with-unknown-size-using.html](http://pragmaticjoe.blogspot.ro/2015/10/uploading-files-with-unknown-size-using.html)

# c++ - 关于 cocos2d-x 编码风格的批判——C 风格的强制转换与 static_cast

> ID：15472857
> 
> 赞同：1
> 
> 时间：2013-03-18T08:59:00.370
> 
> 标签：c++, casting, cocos2d-x, static-cast

在[cocos2d-x 源代码](http://www.cocos2d-x.org/embedded/cocos2d-x/dd/d69/_c_c_object_8h.html)中有一些处理成员函数指针的代码，如下所示。

```
...
#define     menu_selector(_SELECTOR)   (SEL_MenuHandler)(&_SELECTOR)
...
typedef void(CCObject::*    SEL_MenuHandler )(CCObject *)
... 
```

我收集的想法是用来`menu_selector(<MyClass>::<MyFunction>)`获取兼容的函数指针。但**我相信使用 C 风格的转换允许他们执行不安全的转换，并导致可能的未定义行为**。我在这里错了吗？

刚才我的一位同事对以下代码有疑问

```
class HelloWorld:public CCObject{

    void function();

}

....., menu_selector(HelloWorld::function)); //last arg to another function call 
```

这段代码在 VS2010 上给出了非法转换错误，因为`CCObject *`需要一个参数，**但在 IOS 或 Android 编译器上却没有**（我不确定移动编译器有多旧）。我自己用一些类似的代码对此进行了测试，实际上它可以用 VS2010 编译。

我要问的是，`cocos2d-x`使用`(TYPE)`而不是有原因`static_cast<TYPE>`吗？`static_cast`会阻止所有此类非法演员。是因为`static_cast`会阻止从`(HelloWorld::*...)`to 的转换`(CCObject::*...)`吗？

编辑：派生类函数指针到基类函数指针的转换`static_cast` [似乎是合法](http://liveworkspace.org/code/7O0NO%246)的，所以我不知道他们为什么选择`(TYPE)`.

# python - 是否可以以这种方式将参数传递给函数？

> ID：15472858
> 
> 赞同：0
> 
> 时间：2013-03-18T08:59:09.587
> 
> 标签：python

我正在尝试以这种方式将参数传递给函数

```
GroupGeneralConfig(selectedGroup = "Group1") 
```

函数看起来像这样......

```
def GroupGeneralConfig(self, *args)
     img = str(args[0]) + "abc" 
```

每当我执行这个程序时，它都会像这样抛出......

TypeError：GroupGeneralConfig（）得到了一个意外的关键字参数“selectedGroup”

这里有什么问题

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T09:02:41.533

你会想要[双星](https://stackoverflow.com/questions/36901/what-does-double-star-and-star-do-for-python-parameters)：

```
def GroupGeneralConfig(self, **kwargs):
    img = str(kwargs[selectedStreamGroup]) + "abc" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T09:02:32.700

如果你想使用`kwargs`你应该先定义它：

```
def GroupGeneralConfig(self, **kwargs): 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-18T09:10:25.413

您传入的是关键字参数，请先更改您的方法以接受关键字参数。像这样

```
def GroupGeneralConfig(self, *args, **kwargs)
     img = str(args[0]) + "abc" 
```

然后您可以先传递参数，然后传递关键字参数，例如：

```
GroupGeneralConfig(arg_x, arg_y, kwarg_x=1, kwarg_y=2) 
```

# iphone - 通过http post请求调用ios-Soap方法但响应为空

> ID：15472859
> 
> 赞同：5
> 
> 时间：2013-03-18T08:59:15.203
> 
> 标签：iphone, ios, objective-c, soap, http-headers

xx我是 iPhone 新手。在我的应用程序中使用 Soap 方法导入和导出数据..虽然导入工作正常但导出不工作，soap Web 服务的响应为空..

//参数

```
NSString *cust=@"<NEWCUSTOMERS><NEWCUSTOMER></NEWCUSTOMER></NEWCUSTOMERS>"; 
    NSString *trans=@"<TRANS><TRAN></TRAN></TRANS>";
    NSString *RETURNS=@"<RETURNS><RETURN></RETURN></RETURNS>";
    NSString *prepayment=@"<PREPAYMENTS><PREPAYMENT></PREPAYMENT></PREPAYMENTS>";
    NSString *receipt=@"<RECEIPTS><RECEIPT></RECEIPT></RECEIPTS>";
    NSString *spcode1=@"BB";
    NSString *companyShortName=@"Sample Company Limited";
    NSString *companyCode=@"01"; 
```

// 肥皂网址：

```
 NSURL *url = [NSURL URLWithString:@"http://xxx.xxx.xxx.xx/SAAP/SOAP.asmx"]; 
```

//SOAP方法：

```
 NSString *soapMsg=[NSString stringWithFormat:@"<?xml version=\"1.0\" encoding=\"utf-8\"?>"
                       "<soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">"
                       "<soap:Body>"
                       "<PostXMLStr xmlns=\"http://tempuri.org/\">"
                       "<cust>%@</cust>"
                       "<tran>%@</tran>"
                       "<ret>%@</ret>"
                       "<ppay>%@</ppay>"
                       "<recp>%@</recp>"
                       "<sCode>%@</sCode>"
                       "<companyShortName>%@</companyShortName>"
                       "<companyCode>%@</companyCode>"
                       "</PostXMLStr>"
                       "</soap:Body>"
                       "</soap:Envelope>",cust,trans,RETURNS,prepayment,receipt,spcode1,companyShortName,companyCode];

    NSMutableURLRequest *requests = [[NSMutableURLRequest alloc] initWithURL:url];
    NSLog(@"soapMsg= %d soapMsg=%@",soapMsg.length,soapMsg);
    NSString *msgLength = [NSString stringWithFormat:@"%d",[soapMsg length]];
    NSLog(@"msgLength=%@ ",msgLength);

    [requests addValue:@"text/xml; charset=utf-8" forHTTPHeaderField:@"Content-Type"];
    [requests addValue:@"chunked" forHTTPHeaderField:@"transfer-coding"];
    [requests addValue:msgLength forHTTPHeaderField:@"Content-Length"];
     [requests setValue:@"http://tempuri.org/PostXMLStr" forHTTPHeaderField:@"SOAPAction"];
    [requests setHTTPMethod:@"POST"];

    [requests setHTTPBody:[soapMsg dataUsingEncoding:NSUTF8StringEncoding]];
   // [requests setHTTPBodyStream:dataStream];
    //[requests setTimeoutInterval:2000];
    NSLog(@"request=%@",requests);

    NSURLResponse *response;
    NSError *error = nil; 
```

//强文本：

```
 NSMutableData   *data =[[NSMutableData alloc]init];
     data =(NSMutableData *) [NSURLConnection sendSynchronousRequest:requests returningResponse:&response error:&error];

//[NSURLConnection connectionWithRequest:requests delegate:self];
   //NSURLConnection  *connection = [[NSURLConnection alloc] initWithRequest:requests delegate:self startImmediately:YES];
   //NSURLConnection  *connection=[NSURLConnection connectionWithRequest:requests delegate:self];

NSLog(@"requestdata=%@",data);
    stringSoap = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding];
    NSDictionary *headers = [(NSHTTPURLResponse *)response allHeaderFields];
    NSLog(@"data %@",headers);
    NSLog(@"error %@ data str %@  resulString=%@",error,stringSoap,resulString); 
```

//soap方法的结果：有数据str是空响应..

```
 soapMsg=<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><PostXMLStr xmlns="http://tempuri.org/"><cust><NEWCUSTOMERS><NEWCUSTOMER></NEWCUSTOMER></NEWCUSTOMERS></cust><tran><TRANS><TRAN></TRAN></TRANS></tran><ret><RETURNS><RETURN></RETURN></RETURNS></ret><ppay><PREPAYMENTS><PREPAYMENT></PREPAYMENT></PREPAYMENTS></ppay><recp><RECEIPTS><RECEIPT></RECEIPT></RECEIPTS></recp><sCode>BB</sCode><companyShortName>Sample Company Limited</companyShortName><companyCode>01</companyCode></PostXMLStr></soap:Body></soap:Envelope>
2013-03-18 14:27:05.151 MSP[6940:207] msgLength=679 
2013-03-18 14:27:05.152 MSP[6940:207] request=<NSMutableURLRequest http://xx.xxx.xxx.xx/SAAP/SOAP.asmx>
2013-03-18 14:27:05.410 MSP[6940:207] requestdata=<>
2013-03-18 14:27:05.411 MSP[6940:207] data {
    "Cache-Control" = private;
    "Content-Length" = 0;
    Date = "Mon, 18 Mar 2013 08:59:16 GMT";
    Server = "Microsoft-IIS/5.1";
    "X-AspNet-Version" = "2.0.50727";
    "X-Powered-By" = "ASP.NET";
}
2013-03-18 14:27:05.412 MSP[6940:207] error (null) data str   resulString=(null) 
```

请帮我...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-04T02:31:43.057

您的`Transfer-Coding:chunked`标头是否有可能使服务器感到困惑，因此它无法处理您的数据？您知道，`Content-Length`因此显然不需要分块发送数据，而且我认为无论如何您都无法做到这一点`NSURLConnection`。

# javascript - 如何引用远程JS文件路径

> ID：15472871
> 
> 赞同：1
> 
> 时间：2013-03-18T09:00:30.973
> 
> 标签：javascript, jsf-2

如何将远程 JS 文件（如 Google Maps API url 或任何远程 JS 文件路径）引用到我的 JSF 2.0 页面中？

我的理解是这段代码

```
<h:head></h:head>
<h:body>
    <h1>JSF 2 outputScript example</h1>
    <h:outputScript library="js" name="example.js" />
</h:body> 
```

会这样渲染

```
<head></head>
<body>
    <h1>JSF 2 outputScript example</h1>
    <script type="text/javascript" 
        src="/JavaServerFaces/faces/javax.faces.resource/example.js?ln=js">
    </script>
</body> 
```

如果默认指向外部 JS 文件，我如何引用它`src="/JavaServerFaces/faces/javax.faces.resource/`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T09:07:55.057

只需以正常的 html 方式包含它们，例如：

```
<h:head>
  <script src="http://maps.googleapis.com/maps/api/js?libraries=places..."
        type="text/javascript">
  </script>
</h:head> 
```

您可以在 facelet 中混合使用 html 标记和 JSF 标记。将其放在页面的头部。

# uitableview - 使 UITableview 单元格在被选中时透明

> ID：15472873
> 
> 赞同：1
> 
> 时间：2013-03-18T09:00:42.753
> 
> 标签：uitableview

选择特定单元格时如何删除 UITableview 的选择样式颜色？当我将单元格的选择样式更改为**UITableViewCellSelectionStyleNone**时，突出显示的图像不会出现在单元格中。当我将其更改为 UITableViewCellSelectionStyleBlue 或 UITableViewCellSelectionStyleGrey 时，突出显示的单元格将扭曲特定的灰色或蓝色。我的要求是使单元格具有透明背景，并且当它被选中时，所选图像必须显示没有选择样式颜色。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:06:23.527

我找到了答案。只需将下面的代码放在 willDisplayCell 方法的 cellForRowAtIndexpath 方法中

```
UIView *backView = [[UIView alloc] initWithFrame:CGRectZero];
backView.backgroundColor = [UIColor clearColor];
cell.backgroundView = backView;
cell.selectedBackgroundView = backView; 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-18T09:22:30.400

要自定义选定的单元格背景及其控件状态，您需要覆盖以下方法。

```
- (void)setSelected:(BOOL)selected animated:(BOOL)animated 
```

# vba - 在excel vba的第一个空列中复制粘贴范围

> ID：15472875
> 
> 赞同：1
> 
> 时间：2013-03-18T09:00:46.277
> 
> 标签：vba, excel, copy-paste

我想复制工作表 3 的单元格范围（C1：Z1000）并将它们粘贴到工作表 1 的第一个空列（在第 1 行）。下面的代码块在最后一行： source.Range("C1:Z1000").Copy destination.Cells(1, emptyColumn)

```
Sub CopyRange()

Dim source As Worksheet
Dim destination As Worksheet
Dim emptyColumn As Long

Set source = Sheets("Sheet3")
Set destination = Sheets("Sheet1")

'find empty Column (actually cell in Row 1)'
emptyColumn = destination.Cells(1, destination.Columns.Count).End(xlUp).Column
If emptyColumn > 1 Then
emptyColumn = emptyColumn + 1
End If

source.Range("C1:Z1000").Copy destination.Cells(1, emptyColumn)

End Sub 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T13:27:52.487

`emptyColumn`正如其他人所建议的那样，我认为您的问题是您获得价值的方式。这对我有用：

```
Sub CopyRange()

Dim source As Worksheet
Dim destination As Worksheet
Dim emptyColumn As Long

Set source = Sheets("Sheet3")
Set destination = Sheets("Sheet1")

'find empty Column (actually cell in Row 1)'
emptyColumn = destination.Cells(1, destination.Columns.Count).End(xlToLeft).Column
If emptyColumn > 1 Then
emptyColumn = emptyColumn + 1
End If

source.Range("C1:Z1000").Copy destination.Cells(1, emptyColumn)

End Sub 
```

您当前拥有它的方式将拉出工作表中的最后一列，粘贴到它时似乎会引发错误。上述方法将拉出第一个空列。也就是说，如果 C 列为空，则值为`emptyColumn`3

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T09:30:07.520

您是否尝试过单步执行您的代码？

如果这样做，您会注意到以下行将始终将`emptyColumns`变量设置为最右边的列，而不管使用了哪些列：

```
emptyColumn = destination.Cells(1, destination.Columns.Count).End(xlUp).Column 
```

通过向其添加 1 并粘贴，您尝试粘贴到不存在的列。那每次都会给你一个错误。

相反，请尝试以下操作来查找最后使用的列。它从第一行的最右边的列开始向左搜索（如键入`CTRL`+ `LEFT`），以找到最后使用的列：

```
emptyColumn = destination.Cells(1, destination.Columns.Count).End(xlToLeft).Column 
```

然后你可以添加 1 并粘贴。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-26T06:04:16.963

我找到了这篇文章，并根据我的需要对其进行了修改。将粘贴转置

```
Sub Transpose_PasteModified()

Dim source As Worksheet
Dim destination As Worksheet
Dim emptyColumn As Long

Set source = Sheets("Sheet1")
Set destination = Sheets("Sheet2")
'Data Source
source.Range("A3:C3").Copy
'Gets Empty Column
emptyColumn = destination.Cells(3, destination.Columns.Count).End(xlToLeft).Column

'In order to avoid issues of first row returning 1
'in this case #3 is the row so we're checking A3
'If row changes then change A3 to correct row

If IsEmpty(destination.Range("A3")) Then
destination.Cells(3, 1).PasteSpecial Transpose:=True
Else
emptyColumn = emptyColumn + 1
destination.Cells(3, emptyColumn).PasteSpecial Transpose:=True
End If

End Sub 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-18T09:14:24.007

尝试这个：

```
emptyColumn = destination.Cells(1, destination.Columns.Count).End(xltoright).Column

source.Range("C1:Z1000").Copy Destination:= Cells(1, emptyColumn) 
```

*命名参数*后跟一个冒号等于**:=**

*您的 End 代码应为：* **End(xlToRight)**

另一种选择是：

```
source.Range("C1:Z1000").Copy 
with destination
    .cells(1,emptycolumn).select
    .paste
end with 
```

我希望这会有所帮助

菲利普

# android - MAT (Eclipse Memory Analyzer) - 如何从堆转储中获取位图尺寸

> ID：15472879
> 
> 赞同：3
> 
> 时间：2013-03-18T09:00:56.967
> 
> 标签：android, memory, analyzer, mat

我正在尝试从堆转储中重新创建图像，但要做到这一点，我必须知道相关位图的尺寸。我将 hprof 加载到 MAT 中，但找不到像[这里](https://stackoverflow.com/questions/12674484)那样显示位图细节的方法。我想得到像第三张图片这样的结果。我怎样才能做到这一点？

**编辑：** 我只能进入对象列表： [对象列表](https://i.stack.imgur.com/jkSsc.png)

**解决方案：**因为我还不能发布我自己的答案:)

记得在内存分析器透视图中打开 hprof。这听起来可能很愚蠢，但日食并没有在其中打开我的。在内存分析器透视图中，单击位图对象，它应该在属性选项卡中列出对象的属性。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-12T04:34:53.760

1.  打开 Window > ShowView > Other.. > Inspector
2.  选择你的 android.graphics.Bitmap
3.  看看检查器窗口:)

有关更多详细信息 [MAT（Eclipse 内存分析器） - 如何从内存转储中查看位图](https://stackoverflow.com/questions/12709603/mat-eclipse-memory-analyzer-how-to-view-bitmaps-from-memory-dump/12709604#12709604)

# javascript - 如果单元格具有相同的值，如何合并表格列中的单元格

> ID：15472881
> 
> 赞同：0
> 
> 时间：2013-03-18T09:01:04.290
> 
> 标签：javascript, jquery, html, web

我确实有一个表格，在一列的许多单元格中包含相同的值。

我想合并具有相同值的单元格。您能否就如何根据单元格值合并表格中的单元格提供帮助。

实际表如下：

项目数量 Apple-3 Apple-4 Orange-5

这应该作为 Item-Quantity Apple-3 -4 Orange-5

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T16:35:09.933

我认为您必须实现自己的匹配算法。完成后，使用 colspan 属性合并它们。例如，如果苹果在 3 和 4 个单元格中，则该单元格可能是 <td colspan='2'>apple</td>

# iphone - 在 GCD 块中初始化的对象具有在主线程中执行的方法

> ID：15472882
> 
> 赞同：-1
> 
> 时间：2013-03-18T09:01:09.900
> 
> 标签：iphone, ios, objective-c, grand-central-dispatch

我的目标是在后台播放一系列声音，它们之间有停顿，而不会减慢主线程/gui的速度。

当我使用 Time Profiler Instrument 运行代码时，我得到以下信息。AudioStateMachine init 使用 GCD 分派到另一个线程，而 AudioStateMachine 的其他方法在主线程中运行。我需要所有 AudioStateMachine 的方法都不能在 main 中运行。

```
Running Time    Self        Symbol Name
87.0ms    8.7%  0.0     Main Thread  0x8531c
84.0ms    8.4%  0.0      start
84.0ms    8.4%  83.0          main
1.0ms    0.1%   0.0        -[AudioStateMachine audioPlayerDidFinishPlaying:successfully:]
1.0ms    0.1%   1.0         -[AudioStateMachine play:]
1.0ms    0.1%   1.0      -[AudioStateMachine states]
1.0ms    0.1%   1.0      -[AudTabController viewDidLoad]
1.0ms    0.1%   1.0      instruments_notifier
4.0ms    0.4%   0.0     _dispatch_worker_thread2  0x85371
4.0ms    0.4%   1.0      __38-[ScreeningViewController viewDidLoad]_block_invoke
3.0ms    0.3%   0.0       -[AudioStateMachine init] 
```

调度音频后台任务的视图控制器的代码：

```
controller.h
@interface ScreeningViewController : UIViewController {
    UIButton *okButton;
    UIProgressView *bar;
    AudioStateMachine *test;
}
@property(nonatomic, strong) UIButton *okButton;
@property(nonatomic, strong) UIProgressView *bar;

-(IBAction)okPressed:(id)sender;
@end 
```

控制器.m

```
@implementation ScreeningViewController
@synthesize okButton;
@synthesize bar;

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    return self;
}

-(void)okPressed:(id) sender{
    NSLog(@"OK button pressed");
}

- (void)viewDidLoad
{
    [super viewDidLoad];
    self.view.backgroundColor = [UIColor whiteColor];
    //kick off state machine
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
        test = [[AudioStateMachine alloc] init];
    });
}
@end 
```

和 AudioStateMachine.h：

```
@interface AudioStateMachine : NSObject <AVAudioPlayerDelegate>
{
    AVAudioPlayer *player;
    NSArray *soundList;
    int index;
}

@property(nonatomic, strong) AVAudioPlayer *player;
@property(nonatomic, strong) NSArray *soundList;
- (void)audioPlayerDidFinishPlaying:(AVAudioPlayer *)player successfully:(BOOL)flag;
- (id)init;
- (void)play:(int)i;
@end 
```

还有他们：

```
@implementation AudioStateMachine
@synthesize player, soundList;

-(id)init
{
    if ((self = [super init]))
    {
        soundList = [[NSArray alloc] initWithObjects:@"1",@"2",@"3",@"4",nil];
        index = 0;
        [self play:index];
    }
    else
        NSLog(@"Error initializing AudioStateMachine");
    return self;
}

-(void) play:(int)i
{
    NSError *error;
    player = [[AVAudioPlayer alloc] initWithContentsOfURL:[[NSURL alloc]  initFileURLWithPath:[[NSBundle mainBundle] pathForResource:[soundList objectAtIndex:i] ofType:@"wav"]] error:&error];
    player.delegate = self;
    [player prepareToPlay];
    [player play];
}
-(void)audioPlayerDidFinishPlaying:(AVAudioPlayer *)player successfully:(BOOL)flag
{
    [NSThread sleepForTimeInterval:1.5];
    if (index < soundList.count) {
        index++;
        [NSThread sleepForTimeInterval:1.0];
        [self play:index];
    } else {
        NSLog(@"Reached end of sound list.");//reached end of queue
    }
}
@end 
```

我很感激任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T09:25:38.860

线程不是对象所在的地方——它们是执行的指令序列。在线程上创建对象仅意味着 CPU 运行代码以设置对象作为其执行该特定线程的一部分。它对该对象的任何实例方法将在哪个线程上运行没有未来影响。

如果您需要在后台线程上完成所有对象的工作，您可以实现其所有方法以将它们的工作分派到并发队列。作为一个人为的例子：

```
- (void)aMethod
{
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{ 
        // do all your method's work here…
    });
} 
```

此外，只是为了延迟播放下一首曲目而让线程休眠，这让我觉得这是错误的方法。有许多破坏性较小的方法对现代并发方法更友好，例如`dispatch_after()`.

# c++ - 如何将使用 MFC 的类添加到 ATL 项目？

> ID：15472883
> 
> 赞同：2
> 
> 时间：2013-03-18T09:01:10.913
> 
> 标签：c++, dll, mfc, atl

我正在编写一个 .NET 分析器（一个 DLL）并且我正在使用 ATL。我想在我的项目中添加一些使用 MFC 的类，但是我遇到了很多错误，但是这些类在 MFC 项目中运行良好。我尝试更改项目属性并进行设置`Use of MFC = Use MFC in a shared DLL`，但没有成功，我还尝试包括“afx.h”...

以下是我得到的一些错误：

```
Error   214 error C2373: 'CString' : redefinition; different type modifiers iaparameters.cpp    31

Error   206 error C2653: 'CIAParameters' : is not a class or namespace name iaparameters.cpp    30 
```

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T15:03:31.673

Baislcy 这应该是可能的，关于[这个问题](https://stackoverflow.com/questions/3932487/can-i-add-mfc-support-to-an-existing-atl-com-project)。但根据我自己的经验，这样做有点棘手。您必须手动包含您正在使用的版本的 MFC 标头。您也可以自定义您的`CWinApp`类以启用 MFC 类工厂（[这是](http://msdn.microsoft.com/en-us/library/dd490ke8%28v=vs.110%29.aspx)默认的 MFC 支持为您生成的。[这](http://support.microsoft.com/kb/173974/en)也可能会有所帮助）。

您还应该注意，在 ATL 8 中，最重要的 MFC 和 ATL 类现在[在两个库之间共享](http://msdn.microsoft.com/en-us/library/zzs00fs6.aspx)。

如果这不起作用，最简单的方法是重新创建项目，检查*MFC 支持*选项并重新导入您的代码。这就是我最终这样做的方式。

最后但同样重要的是，您还应该注意[ATL Internals](https://rads.stackoverflow.com/amzn/click/com/0321159624)声明您应该只在真正需要时才使用 MFC。如今，几乎所有强大的 MFC 助手也是 ATL 的一部分。这是书中的一段话。前两个原因对 ATL 来说是一个很大的优势，最后一个更像是一个笑话：

> 1.  **我不能没有`CString`（或`CMap`,`CList`等）** MFC 实用程序类是作为权宜之计而构建的，直到 C++ 标准委员会定义了一个标准库。他们已经做到了，所以我们可以停止使用 MFC 版本。标准库中提供的类`string`、`map`、`list`等比它们的 MFC 等效项更灵活、更健壮。此外，`CString`它现在是 MFC 和 ATL 之间的共享类，因此可以在 ATL 项目中使用，而无需包含 MFC 的其余部分并链接到 MFC 库。其他 MFC 实用程序类也已共享，包括`CPoint`和`CRect`. 对于喜欢 MFC 集合类的人，ATL 现在包括 MFC 样式集合（`CAtlMap`、`CAtlList`等）。
> 2.  **没有巫师我活不下去。**[...] ATL 向导可以说与 MFC 提供的一样广泛。
> 3.  **我已经知道 MFC，但我无法学习任何新东西。**[...]

ATL 为 STL 容器和类型提供了良好的支持。您应该考虑使用它们，而不是引用 MFC。

# internet-explorer - doctype 正在改变我的页面的显示方式

> ID：15472892
> 
> 赞同：0
> 
> 时间：2013-03-18T09:01:34.797
> 
> 标签：internet-explorer, gwt, internet-explorer-9, doctype

有一种奇怪的行为，当我的页面没有时我的页面还可以`doctype`（是的，文档模式是 Quirks without doctype）。然后我不得不在上面修复一些东西并添加一个`doctype`（即将文档模式更改为标准）解决了这个问题，但这引入了新的问题:(

此问题是 IE9 及其 GWT 应用程序所特有的。

添加的文档类型是`<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">` 早些时候登录屏幕正位于屏幕中间，应用到它的样式是

```
#login_form {
left: 40%;
top: 80px; 
```

}

但是现在添加 doctype 和 后`without changing my html or css`，登录表单出现在屏幕的最右侧。我不明白 doctype 如何改变这种行为

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T09:39:14.640

首先检查[这里的](https://developers.google.com/web-toolkit/doc/latest/DevGuideIE9)**GWT IE9 提示** 并确保 IE9 未在 IE8 或更低兼容模式下加载。您可以使用 IE9 开发工具（使用 F12 启动它）

还要确保不要忘记将 GWT 的 ie9 排列添加到你的 module.gwt.xml 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:28:32.663

当您有很多不能轻易转换为符合`Strict DOCTYPE`. 但严格是您应该瞄准的目标。

当您将 DOC-TYPE 添加到时`Strict`，您必须确保您的 HTML(XML) 格式应该非常好（例如“忘记结束标记，`/>`而不是写作`</xxx>`）。并且某些元素和属性也不支持严格的DTD。

遇到您的问题，生成的 html 内容可能（？）有一些导致问题的不推荐使用的内容，挖掘 html 并找到不推荐使用的元素有点痛苦，所以我想建议[XHTML DTD](http://www.w3schools.com/html/html_xhtml.asp)（它允许您添加模块）或 [事务性 DTD](http://www.w3schools.com/tags/tag_doctype.asp)。

[通过 Strict DTD 在此处检查不受支持的元素和属性](http://24ways.org/2005/transitional-vs-strict-markup/)

# sql-server - sp_columns 或 information_schema.columns

> ID：15472898
> 
> 赞同：1
> 
> 时间：2013-03-18T09:01:51.010
> 
> 标签：sql-server, multiple-columns

使用 sp_columns 与 information_schema.columns 的真正好处/区别是什么？

他们返回一些略有不同的数据，看起来 information_schema 对我更有用，但我想知道是否有人对每种方法的利弊有经验。

这也可以涵盖 sp_tables 与 information_schema.tables 我猜，同样的事情适用吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:59:07.693

信息模式是在 SQL 标准中定义的，因此可以预期是可移植的并保持稳定。我会使用 information_schema.columns 视图。

# eclipse - 如何在 Eclipse 中获得 Node.js 的代码完成？

> ID：15472901
> 
> 赞同：8
> 
> 时间：2013-03-18T09:02:02.550
> 
> 标签：eclipse, node.js, include, require, code-completion

*在Eclipse*中开发`Node.js`应用程序时，您通常会导入您自己的模块，这些模块的功能与（附加函数）或（允许流行的表示法）相关联。*`exports``module.exports``object literal`*

 *但是如何在导入模块的文件中设置代码完成呢？

**模块**

![在此处输入图像描述](../Images/7303ec20634f220f2d5e4e418e3864e2.png)

正如您在 中看到的`outliner`，*Eclipse*是“知道”该功能的：

![在此处输入图像描述](../Images/a694eef3c3c1ab7fa620014af3bc8479.png)

然而，导入模块`tools`并不能使其功能可用：

![在此处输入图像描述](../Images/5f097a0513b8dea2dfaa3c821f4e1ca9.png)

我也尝试了 oldskool `//@import tools.js`，但它似乎不像这样工作。

如何在我的项目中为我自己的函数完成代码？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-06-24T20:07:36.697

@ **Jey Keu**：[这个问题](https://stackoverflow.com/questions/11309953/eclipse-javascript-editor-2012-with-full-outliner-support)对我们共同的代码完成梦想有一些建议，即：

*   Amateras 插件
*   JSDT 编辑器
*   Aptana 插件
*   SPKET 插件
*   VJET 插件

但是它被一群对 Eclipse 一无所知的人关闭了。分析是代码完成的基础。但他们认为分析是独角兽和彩虹，因此没有建设性。

我认为，根据您的具体开发需求，这`VJET`是您最好的选择。如果您可以在不破坏 Eclipse 中的所有其他功能的情况下使其工作，请在[此问题](https://stackoverflow.com/questions/12072633/how-do-i-properly-run-the-vjet-development-tools-for-nodejs-on-eclipse)中分享您的魔法。

[http://eclipse.org/vjet/](http://eclipse.org/vjet/)*

# ruby - 拆分字符串并分配给不同的变量

> ID：15472902
> 
> 赞同：5
> 
> 时间：2013-03-18T09:02:02.677
> 
> 标签：ruby, ruby-on-rails-3

我从 ui 获得的日期范围为 -approved_between"=>"2013-03-17 - 2013-03-18"

我需要拆分这个approved_start_date="2013-03-17"和approved_end_date="2013-03-18"....我希望用它来查询mysql，因为mysql中的日期格式是created_at: 2012-07 -28 10:35:01。

我正在做的是-：

```
approved = approved_between.split(" ")
approved_start_date = approved[0]
approved_end_date = approved[2] 
```

很确定这不是处理它的最佳方式，有没有更好的建议，比如在一行中拆分字符串，并将它们直接分配给变量？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-18T09:03:15.237

那应该是

```
approved_start_date, approved_end_date = approved_between.split(" - ") 
```

更新：使用 mysql 中的日期

```
MyModel.where('DATE(created_at) = ?', approved_start_date) 
```

# algorithm - 找到将序列拆分为 2 以最小化总和差异的算法

> ID：15472906
> 
> 赞同：0
> 
> 时间：2013-03-18T09:02:16.653
> 
> 标签：algorithm

问题来了：给定一个数字序列，将这些数字分成 2 个序列，使两个序列之间的差异最小。例如，给定序列： [5, 4, 3, 3, 3] 解为：
[5, 4] -> sum is 9
[3, 3, 3] -> sum is 9
差为 0

换句话说，你能找到一种算法（首选 C 语言），给定一个整数的输入向量（可变大小），可以输出两个向量，其中两个和之间的差异最小吗？
应避免使用暴力算法。

为确保获得正确的解决方案，最好在基准测试中比较您的算法和粗暴算法之间的结果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T09:28:07.610

这听起来像是一个**子数组**问题（这是我对“序列”的解释）。

这意味着唯一的可能性`5, 4, 3, 3, 3`是：

```
| 5, 4, 3, 3, 3  =>  0 - 18 => 18
 5 | 4, 3, 3, 3  =>  5 - 13 => 8
 5, 4 | 3, 3, 3  =>  9 -  9 => 0
 5, 4, 3 | 3, 3  => 12 -  6 => 6
 5, 4, 3, 3 | 3  => 15 -  3 => 12
 5, 4, 3, 3, 3 | => 18 -  0 => 18 (same as first) 
```

它就像比较每个索引两侧的总和一样简单。

代码：（未经测试）

```
int total = 0;
for (int i = 0; i < n; i++)
  total += arr[i];
int best = INT_MAX, bestPos = -1, current = 0;
for (int i = 0; i < n; i++)
{
  current += arr[i];
  int diff = abs(current - total);
  if (diff < best)
  {
    best = diff;
    bestPos = i;
  }
  // else break; - optimisation, may not work
}

printf("The best position is at %d\n", bestPos); 
```

以上是`O(n)`，从逻辑上讲，你不能做得比这更好。

**您可以通过对序列执行类似二进制搜索的过程**来稍微优化上述内容，以降低到`n + log n`而不是`2n`，但两者都是`O(n)`. 基本伪代码：

```
sum[0] = arr[0]
// sum[i] represents sum from indices 0 to i
for (i = 1:n)
  sum[i] = sum[i-1] + arr[i]
total = sum[n]
start = 0
end = n
best = MAX
repeat:
  if (start == end) stop
  mid = (start + end) / 2
  sumFromMidToN = sum[n] - sum[mid]
  best = max(best, abs(sumFromMidToN - sum[mid]))
  if (sum[mid] > sumFromMidToN)
    end = mid
  else if (sum[mid] < sumFromMidToN)
    start = mid
  else
    stop 
```

如果它实际上是**子集**，那么，如前所述，它似乎是[分区问题](http://en.wikipedia.org/wiki/Partition_problem)的优化版本，这要困难得多。

# haskell - 在 cabal 中启用 Unicode 语法

> ID：15472907
> 
> 赞同：2
> 
> 时间：2013-03-18T09:02:22.643
> 
> 标签：haskell, unicode, cabal

我想启用 Unicode 语法（UnicodeSyntax 扩展、base-unicode-symbols 包和容器 unicode-symbols）。我不想启用每个文件，这太乏味了。如何在这个 .cabal 文件中启用所有三个？

[https://github.com/styx/Raincat/blob/master/Raincat.cabal](https://github.com/styx/Raincat/blob/master/Raincat.cabal)

这是 2013 年，我想使用 Unicode，而不是 ASCII。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-18T09:27:20.043

添加到您的`extensions`字段：

```
extensions: UnicodeSyntax 
```

在您的 .cabal 文件中。并且还添加对这些库的依赖项：

```
build-depends: base-unicode-symbols 
```

等等

请注意，尽管确实是 2013 年，但这并不意味着您应该使用非标准的 Prelude ——这些软件包的用户相对较少，因此您可能会冒着让代码更加晦涩难懂的风险。

# mysql - 使用 LEFT JOIN 的慢 MySQL 查询

> ID：15472913
> 
> 赞同：1
> 
> 时间：2013-03-18T09:02:32.687
> 
> 标签：mysql

我正在使用一个简单的左连接查询从两个单独的表中获取两行数据。他们都拥有一个名为的共同列`domain`，我将他们加入到这一列中，以根据一个表访问量和其他表收入来计算一个值。

```
SELECT t1.`domain` AS `domain`,
       (SUM(earnings)/SUM(visits)) AS `rpv` 
FROM   hat_adsense_stats t1 
LEFT JOIN hat_analytics_stats t4 ON t4.`domain`=t1.`domain`  
WHERE(t1.`hat_analytics_id`='91' OR t1.`hat_analytics_id`='92') 
       AND t1.`date`>='2013-02-18' 
       AND t4.`date`>='2013-02-18' 
GROUP BY t1.`domain` 
ORDER BY rpv DESC 
LIMIT 10; 
```

这是我运行的查询，执行需要 9.060 秒。

该`hat_adsense_stats`表包含 60887 条记录 该`hat_analytics_stats`表包含 190780 条记录

但通过`domain`它分组返回需要比较的 186 行数据。

任何有关低效代码或解决此问题的更好方法的建议都将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T10:08:51.233

感谢 raheel 打开门，这最终奏效了，执行时间为 0.051 秒。:)

```
SELECT 
    t1.`domain` AS `domain`, 
    SUM(earnings)/visits AS `rpv` 
FROM hat_adsense_stats t1 
    INNER JOIN (SELECT 
        domain, 
        SUM(visits) AS visits 
        FROM hat_analytics_stats 
        WHERE `date` >= "2013-02-18" 
        GROUP BY domain) AS t4 
    ON t4.domain = t1.domain  
WHERE t1.`hat_analytics_id` IN('91','92') 
AND t1.`date`>='2013-02-18' 
GROUP BY t1.`domain` 
ORDER BY rpv DESC 
LIMIT 10 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:09:57.500

像这样更改您的查询

```
SELECT
  t1.`domain`           AS `domain`,
  t2.earnings/t2.visits AS `rpv`
FROM hat_adsense_stats t1
  INNER JOIN (SELECT
                domain,
                sum(earnings)          AS earnings,
                SUM(visits)            AS visits
             FROM hat_adsense_stats
             GROUP BY domain) AS t2
    on t2.domain = t1.domain
  LEFT JOIN hat_analytics_stats t4
    ON t4.`domain` = t1.`domain`
WHERE t1.`hat_analytics_id` IN('91','92')
    AND t1.`date` >= '2013-02-18'
    AND t4.`date` >= '2013-02-18'
GROUP BY t1.`domain`
ORDER BY rpv DESC
LIMIT 10; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T09:11:42.890

LEFT JOIN 是不必要的，因为您从连接的右侧检查项目的值。INNER JOIN 在这里也可以工作，而且可能会更快

# design-patterns - 如何在 uml 图中注释设计模式

> ID：15472915
> 
> 赞同：2
> 
> 时间：2013-03-18T09:02:37.737
> 
> 标签：design-patterns, uml

一些设计模式是可以识别的，如果你知道的话，但其他的不是。我想在文档中分享这些信息。在 uml 类图上注释使用的设计模式的最佳方法是什么？有什么特殊的注释，或者我可以使用注释注释吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-18T09:53:26.567

它没有标准，但存在一些 UML 扩展方法来可视化具有原型或标记值的设计模式（[示例](http://www.jot.fm/issues/issue_2002_07/article3/)）。即使没有正式的个人资料，也应该可以理解以下内容：

```
+-------------------------+    +--------------------------+
| {observer role=subject} |--->| {observer role=observer} |
|        SomeClass        |    |      SomeOtherClass      |
+-------------------------+    +--------------------------+ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-18T09:08:31.823

不，没有特殊注释。为类和接口使用正确的名称（如`CompositeSpecification`），并为图表添加注释。

# c# - 在 ReportViewer 中显示查询结果

> ID：15472916
> 
> 赞同：0
> 
> 时间：2013-03-18T09:02:37.773
> 
> 标签：c#, winforms, reportviewer

我是 C# 的初学者和业余爱好者，我学会了如何连接和读取数据库文件中的表`using System.Data.SqlClient;`

我使用 using方法连接到 db`sqlconnection`并执行命令。现在我想在 Microsoft ReportViewer 中显示它的结果。如何将我的查询提交给 ReportViewer？`sqlcommand``ExecuteReader`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T09:13:20.317

也许您想`DataSet`用查询结果填充 a，然后将其用作`ReportViewer`.

[如何：用数据填充数据集](http://msdn.microsoft.com/en-us/library/ms171920%28v=vs.80%29.aspx)

[使用 ReportViewer 从数据集中构建报告](http://www.c-sharpcorner.com/UploadFile/mahesh/DataSetReports04252007100945AM/DataSetReports.aspx)

# algorithm - 关键字搜索算法

> ID：15472923
> 
> 赞同：1
> 
> 时间：2013-03-18T09:02:54.157
> 
> 标签：algorithm, search-engine

我正在开发一个 android 应用程序，用户需要输入一个字符串/句子作为关键字，并基于该输入，应该从数据库中检索一些字符串。我正在为此寻找合适的算法。我经历了许多答案和许多算法，例如 tfidf 和 Boyer-Moore，但我仍然对选择最有效的算法感到困惑。有人有建议吗？（目的是根据输入的关键字检索一些字符串）

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-06T02:17:27.580

我写了自动完成搜索（通过短语/子短语），你可以在我的演示中看到性能和字典大小：

[http://olegh.ftp.sh/autocomplete.html](http://olegh.ftp.sh/autocomplete.html)

这是 Celeron-300 机器，FreeBSD 操作系统。并且在主动搜索期间加载不到 1% 的 CPU。但是，用 C++ 编写，并使用 mmap/pread 系统调用。所以，我不确定它是否可以在 Android 上运行。我可以根据要求分享资源。

关于算法：使用预索引的哈希索引文件，基于字典中短语的所有可能前缀。通过 mmapped hash-table 找到 bucket，它通过 pread 读取到内存中。

索引操作相对较慢：在 PERL 脚本上索引 15,000,000 个字典条目可能会消耗约 1 小时。但是搜索/检索非常快，并且性能不依赖于字典大小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-02T00:26:46.090

我不建议编写自己的算法；相反，您应该使用现有的库，例如[Apache Lucene](http://lucene.apache.org/core/)。

# iphone - 在 iPhone 中使用用户名和密码解析 url

> ID：15472924
> 
> 赞同：0
> 
> 时间：2013-03-18T09:03:02.170
> 
> 标签：iphone, ios, objective-c, xcode, ipad

如何解析包含用户名和密码的 url。

基本上我知道XML解析......但我没有得到任何数据......

谁能帮我解析这样的网址...

提前致谢..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-18T09:11:02.037

可能有两个问题：-

1 您没有收到正确的数据，因为您没有在委托中提供密码和用户名

```
- (void)connection:(NSURLConnection *)connection didReceiveAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge 
```

像这样实现它作为 NSURLConnection 的代表（如果你使用这个）。

```
#define LOGIN     @"RFC_ESERVICE"
#define PASSWORD  @"adm5ls@w"

- (void)connection:(NSURLConnection *)connection didReceiveAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge 
{
        if ([challenge previousFailureCount] == 0) 
        {
            NSURLCredential *credential = [NSURLCredential credentialWithUser:LOGIN
                                                                     password:PASSWORD
                                                                  persistence:NSURLCredentialPersistenceNone];
            [[challenge sender] useCredential:credential forAuthenticationChallenge:challenge];
        }
} 
```

2 如果您收到数据但无法解析。请发布代码。还有 XML 似乎是一个 WSDL ，你想解析什么信息？

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-18T09:21:53.547

这是您可以使用 NSXMLParser 的方式：

```
In your .h file declare :

NSMutableData       *webPortFolio;
NSMutableString     *soapResultsPortFolio;
NSURLConnection     *conn;

//---xml parsing---

NSXMLParser         *xmlParserPortFolio;
BOOL                elementFoundPortFolio;
NSMutableURLRequest *req;

NSString            *theXMLPortFolio;
NSString            *strSoapMsg;
UIAlertView         *alertView; 
```

在您的 .m 文件中使用以下代码：

```
-(void)callURL
{
      NSString *soapMsg = [NSString stringWithFormat:@"email=%@&pass=%@&type=activate",txt_UserName.text,txt_Password.text]; //Add your parameters here.

      //---print it to the Debugger Console for verification---

      NSString *str_url = [ NSString stringWithFormat:@"%@login",xmlWebservicesUrl]; //Your URL here
      NSURL *url = [NSURL URLWithString:str_url];
      req = [NSMutableURLRequest requestWithURL:url];

      NSString *msgLength = [NSString stringWithFormat:@"%d",[soapMsg length]];
  [req addValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];
      [req addValue:msgLength forHTTPHeaderField:@"Content-Length"];

      [req setHTTPMethod:@"POST"];
      [req setHTTPBody: [soapMsg dataUsingEncoding:NSUTF8StringEncoding]];
     //Your logic to call URL.

     conn = [[NSURLConnection alloc] initWithRequest:req delegate:self];
     if (conn)
     {
         webPortFolio = [[NSMutableData data] retain];
     }
}
And to handle the response you can use following functions :

-(void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
{

}

-(void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{

}

-(void) connection:(NSURLConnection *) connection didFailWithError:(NSError *) error
{

}

-(void) connectionDidFinishLoading:(NSURLConnection *) connection
{
}

//---when the start of an element is found---
-(void)  parser:(NSXMLParser *) parser 
didStartElement:(NSString *) elementName 
   namespaceURI:(NSString *) namespaceURI 
  qualifiedName:(NSString *) qName
     attributes:(NSDictionary *) attributeDict
{
}

-(void)parser:(NSXMLParser *) parser foundCharacters:(NSString *)string
{
}

- (void)parser:(NSXMLParser *)parser parseErrorOccurred:(NSError *)parseError
{
    NSLog(@"Parser error %@ ",[parseError description]);
}

//---when the end of element is found---
-(void)parser:(NSXMLParser *)parser 
didEndElement:(NSString *)elementName 
 namespaceURI:(NSString *)namespaceURI 
qualifiedName:(NSString *)qName
{
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-18T09:40:16.517

```
NSString *urlSt=@"https://ecservices.wasl.ae/sap/bc/srt/wsdl/bndg_514403C105C32C67E10000000AF00316/wsdl11/allinone/ws_policy/document?sap-client=100";

NSMutableURLRequest *theRequest=[[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:urlSt]];

NSString *authStr = [NSString stringWithFormat:@"RFC_ESERVICE:adm5ls@w"];
NSData *authData = [authStr dataUsingEncoding:NSASCIIStringEncoding];
NSString *authValue = [NSString stringWithFormat:@"Basic %@", [authData base64EncodingWithLineLength:80]];
[theRequest setValue:authValue forHTTPHeaderField:@"Authorization"];

NSLog(@"Request is %@",theRequest);

[_webview loadRequest:theRequest]; 
```

# java - 如何在 Spring 中池化对象？

> ID：15472935
> 
> 赞同：6
> 
> 时间：2013-03-18T09:03:23.940
> 
> 标签：java, spring, spring-3, spring-aop, pooling

我正在关注本[教程](http://static.springsource.org/spring/docs/2.5.x/reference/aop-api.html#aop-ts-pool)，了解如何在 Spring 中池化对象。我已经按照教程中的说明进行操作，但是当我运行我的应用程序时，它总是会生成一个新的对象实例。我期望由于我正在汇集对象，现有对象将被重用。因此，不应创建新实例。此外，当我访问 bean 的 getter 方法时，会再次创建 bean 的新实例。

我做错了什么？我是否误解了 Spring 中的池化概念？

下面是我的代码：

**应用程序上下文：（**这只是我的应用程序上下文的主体。）

```
<bean id="simpleBeanTarget" class="com.bean.SimpleBean" scope="prototype">

</bean>

<bean id="poolTargetSource" class="org.springframework.aop.target.CommonsPoolTargetSource">
    <property name="targetBeanName" value="simpleBeanTarget" />
    <property name="maxSize" value="2" />
</bean>

<bean id="simpleBean" class="org.springframework.aop.framework.ProxyFactoryBean">
    <property name="targetSource" ref="poolTargetSource" />
</bean> 
```

**控制器：（**这只是我的方法的主体）

```
@RequestMapping("/hello")
public ModelAndView helloWorld(HttpServletRequest request, HttpServletResponse response)
{
    String message = "Hello World, Spring 3.";
    try
    {
        System.out.println("Accessing Application Context");
        ApplicationContext context = new ClassPathXmlApplicationContext("applicationContext.xml");

        System.out.println("Getting Bean");
        SimpleBean simpleBean = (SimpleBean) context.getBean("simpleBean");
        //A new SimpleBean... is printed here.

        System.out.println("Displaying Hello World: " + simpleBean.getRandomNum());
        //After this line, A new SimpleBean... is printed again. I simply access the getter method. Why does it create a new instance of SimpleBean?

        return new ModelAndView("hello", "message", message);
    }catch(Exception e)
    {
        System.out.println("Error: " + e);
        e.printStackTrace();
        return new ModelAndView("hello", "message", "Error! " + e.getMessage());
    }
} 
```

**我正在汇集的 bean：**

```
package com.bean;

import java.util.Random;

public class SimpleBean
{
    int randomNum;
    String str;

    SimpleBean()
    {
        Random randomGenerator = new Random();
        randomNum = randomGenerator.nextInt(100);

        //I'm printing this line just to check if a instance of this bean is created.
        System.out.println("#####################A new SimpleBean was born: " + randomNum);

        str = "This is a string.";
    }

    public int getRandomNum()
    {
        return randomNum;
    }

    public void setRandomNum(int randomNum)
    {
        this.randomNum = randomNum;
    }

    public String getStr()
    {
        if (str == null)
            return "str is null";
        return str;
    }

    public void setStr(String str)
    {
        this.str = str;
    }
} 
```

**我的 web.xml 的主体：**

```
<display-name>Spring3MVC</display-name>

<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>/WEB-INF/classes/applicationContext.xml</param-value>
</context-param>

<welcome-file-list>
    <welcome-file>index.jsp</welcome-file>
</welcome-file-list>

<servlet>
    <servlet-name>spring</servlet-name>
    <servlet-class>
        org.springframework.web.servlet.DispatcherServlet
    </servlet-class>
    <load-on-startup>1</load-on-startup>
</servlet>
<servlet-mapping>
    <servlet-name>spring</servlet-name>
    <url-pattern>*.html</url-pattern>
</servlet-mapping> 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-18T09:37:57.777

在每个请求上，您创建一个全新的 Spring 应用程序上下文，然后在每个操作的新应用程序上下文中获取新对象。所以你应该在web.xml中使用'ContextLoaderListener'加载你的spring上下文。

web.xml 中的引用片段

```
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>
        classpath*:spring/appContext.xml  classpath*:spring/appContext-security.xml
    </param-value>
</context-param>

<listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener> 
```

见代码：

```
try
{
    System.out.println("Accessing Application Context");
    ApplicationContext context = new ClassPathXmlApplicationContext("applicationContext.xml");
   ... 
```

有关 Spring 上下文加载的更多知识，请参阅[MKyong 的教程](http://www.mkyong.com/spring3/spring-3-mvc-hello-world-example/)或[Spring 参考](http://static.springsource.org/spring/docs/3.2.x/spring-framework-reference/html/beans.html#context-create)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:45:01.970

当您提到它时，意味着您是在对 urs 池的服务提供商说，您希望创建最多两个对象，这些对象具有通过 urs 构造函数提供的对象状态。

```
 SimpleBean()
    {
        Random randomGenerator = new Random();
        randomNum = randomGenerator.nextInt(100);

        //I'm printing this line just to check if a instance of this bean is created.
        System.out.println("#####################A new SimpleBean was born: " + randomNum);

        str = "This is a string.";

    } 
```

所以 SimpleBean simpleBean = (SimpleBean) context.getBean("simpleBean"); 是一个池化对象。如果两个执行路径想要从 simpleBean 获取服务，则该对象实例通过 Pooling 提供。如果两个执行路径以上，则通过原型范围提供。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-30T17:59:22.020

试试这个会工作...

```
<property name="targetSource" ref="poolTargetSource" />

<!-- Added so that different instance of object is created -->
<property name="singleton" value="false" /> 
```

# node.js - process.hrtime() 的奇怪行为

> ID：15472946
> 
> 赞同：4
> 
> 时间：2013-03-18T09:04:16.057
> 
> 标签：node.js

如果我执行此代码：

```
//brute force
console.log('------------------');
console.log('Brute Force Method');
console.log('------------------');
var aTimer = process.hrtime();
var sum = 0;
for (var x = 3 ; x < 1000 ; x++) {
  if (x % 3 === 0 || x % 5 === 0) {
    sum += x;
  }
}
console.log('The sum of them is: '+ sum);
//console.log(aTimer);
var aTimerDiff = process.hrtime(aTimer);
console.log('Benchmark took %d nanoseconds.', aTimerDiff[0] * 1e9 + aTimerDiff[1]);

//arithmetic method
console.log('------------------');
console.log('Arithmetic Method');
console.log('------------------');
var bTimer = process.hrtime();
var term3 = parseInt(999/3);
var threes = 3 * term3 * (term3 + 1) / 2;
var term5 = parseInt(999/5);
var fives = 5 * term5 * (term5 + 1) / 2;
var term15 = parseInt(999/15);
var fifteens = 15 * term15 * (term15 + 1) / 2;
console.log('The sum of them is: '+ (threes + fives - fifteens));
//console.log(bTimer);
var bTimerDiff = process.hrtime(bTimer);
console.log('Benchmark took %d nanoseconds.', bTimerDiff[0] * 1e9 + bTimerDiff[1]);

console.log('------------------');
console.log('Which is Faster');
console.log('------------------');
if (bTimerNano > aTimerNano) {
  console.log('A is %d nanoseconds faster than B.', bTimerNano - aTimerNano)
}
else {
  console.log('B is %d nanoseconds faster than A.', aTimerNano - bTimerNano)
} 
```

结果是：

```
------------------
Brute Force Method
------------------
The sum of them is: 233168
Benchmark took 64539 nanoseconds.
------------------
Arithmetic Method
------------------
The sum of them is: 233168
Benchmark took 155719 nanoseconds.
------------------
Which is Faster
------------------
A is 91180 nanoseconds faster than B. 
```

那不可能……算术应该更快。所以我取消注释这些行来看看：

```
console.log(aTimer);
console.log(bTimer); 
```

结果现在看起来很准确。

```
------------------
Brute Force Method
------------------
The sum of them is: 233168
[ 1697962, 721676140 ]
Benchmark took 1642444 nanoseconds.
------------------
Arithmetic Method
------------------
The sum of them is: 233168
[ 1697962, 723573374 ]
Benchmark took 284646 nanoseconds.
------------------
Which is Faster
------------------
B is 1357798 nanoseconds faster than A. 
```

然后我再次注释掉这些行，我得到了同样时髦的结果。

什么可能导致这种情况发生？我是否缺少有关 process.hrtime() 的内容？

```
$ node -v
v0.10.0 
```

编辑：我刚刚用 v0.8.11 测试了这个并得到了同样的行为。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T17:45:54.720

完全单独运行测试用例会返回以下结果：

```
Brute Force:       [ 0, 32414 ]
Arithmetic Method: [ 0, 123523 ] 
```

这些结果在运行之间非常一致，所以我认为您最初假设算术方法应该更快实际上是错误的（**编辑：**原因似乎是使用`parseInt()`）。

你得到不同结果的原因可能是它本身`console.log`造成的。`console.log`

# wpf - 我们如何在 WPF 中水平显示分组的单选按钮？

> ID：15472948
> 
> 赞同：0
> 
> 时间：2013-03-18T09:04:22.530
> 
> 标签：wpf, xaml, c#-4.0, wpf-controls, radiobuttonlist

## 我们如何在 WPF 中以水平方式显示垂直单选按钮

我正在处理一个 WPF 项目，我正在使用此代码创建一个与我的 Data Srouce 绑定的列表框单选组。

我使用下面的代码创建了一个带有单选按钮的列表框并将其与我的数据源绑定

代码 ：

```
`<Window.Resources>
    <Style x:Key="radioListBox" TargetType="ListBox" BasedOn="{StaticResource {x:Type ListBox}}">
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="Margin" Value="5" />
        <Setter Property="DisplayMemberPath" Value="Text" />
        <Setter Property="SelectedValuePath" Value="Value" />
        <Setter Property="Background" Value="{x:Null}" />
        <Setter Property="ItemContainerStyle">
            <Setter.Value>
                <Style TargetType="ListBoxItem" BasedOn="{StaticResource {x:Type ListBoxItem}}">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="ListBoxItem">
                                <Grid Background="Transparent">
                                    <RadioButton Focusable="False"  Margin="5,5,5,5" IsHitTestVisible="False" IsChecked="{TemplateBinding IsSelected}">
                                        <ContentPresenter />
                                    </RadioButton>
                                </Grid>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Setter.Value>
        </Setter>
    </Style>
    </Window.Resources>

<DockPanel>
    <!-- StatusBar just to make sure two-way binding is working properly -->
    <StatusBar DockPanel.Dock="Bottom" BorderBrush="Black" BorderThickness="0,1,0,0">
        <TextBlock Text="{Binding CurrentChild.Details}" TextWrapping="Wrap" />
    </StatusBar>

    <!-- Details pane -->
    <Border Margin="5" BorderBrush="LightGray" BorderThickness="1">
        <Grid>
            <Grid.Resources>
                <!-- Common style for header labels -->
                <Style TargetType="Label">
                    <Setter Property="HorizontalAlignment" Value="Right" />
                    <Setter Property="VerticalAlignment" Value="Top" />
                    <Setter Property="FontWeight" Value="Bold" />
                    <Setter Property="Margin" Value="5,2" />
                </Style>
            </Grid.Resources>

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" MinWidth="104" />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>

            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" MinHeight="27" />
                <RowDefinition Height="Auto" MinHeight="27" />
            </Grid.RowDefinitions>

            <Label Grid.Row="3" Content="My Sample Numbers:" />

            <ListBox Grid.Row="3" Grid.Column="1" Style="{StaticResource radioListBox}" 
                     ItemsSource="{Binding MyNumberTypes}" Height="Auto" Margin="5,4,5,0" VerticalAlignment="Top" />
        </Grid>
    </Border>
</DockPanel>`

    public IEnumerable<ValueAndText<NumType>> MyNumberTypes
        {
            get
            {
                yield return new ValueAndText<NumType>(NumType.One, "One");
                yield return new ValueAndText<NumType>(NumType.Two, "Two");
                yield return new ValueAndText<NumType>(NumType.Three, "Three");
                yield return new ValueAndText<NumType>(NumType.Four, "Four");
                yield return new ValueAndText<NumType>(NumType.Five, "Five");
                yield return new ValueAndText<NumType>(NumType.Six, "Six");
                yield return new ValueAndText<NumType>(NumType.Seven, "Seven");
                yield return new ValueAndText<NumType>(NumType.Eight, "Eight");
                yield return new ValueAndText<NumType>(NumType.Nine, "Nine");
            }
        }` 
```

一切正常，但问题是我需要所有单选按钮以锯齿形样式显示。由于我的表单没有太多空间来垂直容纳单选按钮，所以有什么办法可以以可以水平显示的方式显示这些单选按钮？

例如（不能发布图片）

```
One   Two   Three
Four  Five  Six
Seven Eight Nine 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:20:13.580

您可以`ItemsPanel`在列表框样式中设置您的样式。添加到`radioListBox`样式：

```
<Setter Property="ItemsPanel">
 <Setter.Value>
  <ItemsPanelTemplate>
   <UniformGrid Columns="3" />
  </ItemsPanelTemplate>
 </Setter.Value>
</Setter> 
```

在 3 列的网格中显示单选按钮。使用[ItemsPanel](http://msdn.microsoft.com/library/system.windows.controls.itemscontrol.itemspanel.aspx)，您可以更改显示您的项目的容器。

# c++ - 从 libc++abi.dylib 的异常中捕获和打印信息：在 Objective-C 中终止...

> ID：15472949
> 
> 赞同：0
> 
> 时间：2013-03-18T09:04:24.580
> 
> 标签：c++, objective-c, xcode, exception, nslog

是否可以从以下内容中提取任何信息： libc++abi.dylib: terminate called throwing an exception

当我尝试在字符串上运行一些 C++ 解析器并想知道异常信息是什么时，我得到了这个异常。我可以将此信息提取到 XCode 中的普通 NSLog 输出吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:54:43.997

似乎错误不是由代码引发的，它与函数之间传递的错误类型有关。可以从 Xcode 调试器跟踪错误

# actionscript-3 - 使用 AS3 Flash 创建报告

> ID：15472952
> 
> 赞同：-2
> 
> 时间：2013-03-18T09:04:34.607
> 
> 标签：actionscript-3, flash, report

如何使用 AS3 Flash 创建一个简单的报表然后打印（因为 Flash 中没有报表引擎）？

我的应用程序（用 Flash 开发）是一个简单的调查表，因此人们使用它来填写他们的答案，然后有一个按钮来查看他们的答案（如 Microsoft Word**打印预览**页面，在您打印之前）。

如果我们可以将其导出为 pdf 或 excel 格式，它会更好

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T11:27:05.327

快速的方法是从 as3 生成一个 HTML 页面并使用默认浏览器执行它并让用户从那里打印。

# gruntjs - 如果 jshint 检测到错误，我的 grunt-regarde 任务将中止

> ID：15472956
> 
> 赞同：2
> 
> 时间：2013-03-18T09:04:52.437
> 
> 标签：gruntjs

我希望 grunt-regarde 在调用任务后继续观察变化。这样，每次发现 lint 错误时，我都必须在控制台上重新启动它（>grunt respecte）。grunt respecte 是否应该表现得像这样，或者这是 grunt-contrib-jshint 和 grunt-regarde 的问题？这是否与 spawn 选项有关？

我之前使用的是 grunt-contrib-watch，它在 jshint 检测到错误后继续观看，我希望相关人员也这样做。

我开始使用尊重的原因是，尊重允许只对更改的文件而不是整个项目进行 lint，这样更快。

这是我的配置：

```
grunt.initConfig({

    jshint: {
        file: '<%= grunt.regarde.changed %>'
    },

    regarde: {
            javascript: {
                files: '**/*.js',
                tasks: ['jshint:file']
    }

}); 
```

我用

节点.js 0.8.21

咕噜声-cli 0.1.6

咕噜声 0.4.0rc7

grunt-contrib-jshint 0.2.0

咕噜声：0.1.1

# macos - 在 For 循环中使用 Range 时出现运行时错误 1004 - VBA Excel Mac

> ID：15472958
> 
> 赞同：-1
> 
> 时间：2013-03-18T09:04:57.867
> 
> 标签：macos, excel, vba

一些上下文： - 我正在构建一个大表（1000x1000） - 我想用值 1 填充一些案例 - 我将每个案例的行和列放在单独的表中

这是我用来填写表格的代码。如您所见，我在 For 循环中使用 Range。它以前使用较小的数据集。造成麻烦的行是这一行： *Sheets("Feuil1.csv").Cells(rng.Value, rng.Offset(, 1).Value) = "1"*

```
Sub FillEdges()
Dim rng As Range
For Each rng In Sheets("Feuil2").Range("A1:A53498")
    Sheets("Feuil1.csv").Cells(rng.Value, rng.Offset(, 1).Value) = "1"    
Next rng
End Sub 
```

做一些研究后，我了解到我可能想偶尔保存、关闭和重新打开工作簿。我试过了，但似乎 VBA 没有考虑“保存、关闭和重新打开”代码。我试图通过这个帮助页面找出一些东西：

[http://support.microsoft.com/kb/210684/en-us](http://support.microsoft.com/kb/210684/en-us)

这导致我使用此代码出现错误 91。错误在第三行。

```
 Sub FillEdges()
        Dim rng As Range, mybook As Workbook

mybook.SaveAs "Macintosh HD:Users:Nicolas:test.xslm", FileFormat:=53
    For Each rng In Sheets("Feuil2").Range("A1:A53498")
    If rng Mod 2500 = 0 Then
                mybook.Close SaveChanges:=True
                Set mybook = Nothing
                Set mybook = Application.Workbooks.Open("Macintosh HD:Users:Nicolas:test.xslm")
            End If
        Sheets("Feuil1.csv").Cells(rng.Value, rng.Offset(, 1).Value) = "1"

    Next rng
    End Sub 
```

您知道如何解决此错误 91 吗？

所以我不确定这是否会完全修复错误 1004，但我认为这是正确的路径。或者，也许你会建议别的东西......？

非常感谢您的时间。祝你有美好的一天。尼古拉斯。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T04:11:21.767

这就是我最终的做法。在编码之前了解有关 VBA 的更多信息是这里的关键！特别是关于打开、保存和关闭文件。

请注意，最后我几乎没有触及我上面引用的微软网站的例子。

```
Sub remplir()

Application.ScreenUpdating = False

Dim rng As Range
Dim worksheet1 As Worksheet

Dim iTemp As Integer
Dim oBook As Workbook
Dim iCounter As Long

Set worksheet1 = ActiveWorkbook.ActiveSheet
iCounter = 1

    ' Open the new full of zeros workbook:

    Application.Workbooks.Open "Macintosh HD:Users:Nicolas:vba:test.xlsm"
    Set oBook = ActiveWorkbook

    'iTemp = Application.SheetsInNewWorkbook
    'Application.SheetsInNewWorkbook = 1
    'Set oBook = Application.Workbooks.Add
    'Application.SheetsInNewWorkbook = iTemp

    ' Add a defined name to the workbook
    ' that RefersTo a range:
    oBook.Names.Add Name:="tempRange", _
        RefersTo:="=Sheet1!$A$1"

    ' Save the workbook: (attention extension fausse, mais ça n'empeche rien !)
    oBook.SaveAs "Macintosh HD:Users:Nicolas:vba:test.xslm", FileFormat:=53

    ' Work the sheet in a loop. Eventually,
    ' you get error 1004: Copy Method of
    ' Worksheet class failed.
  For Each rng In worksheet1.Range("A1:A5038")

  If rng.Value > 0 And rng.Row <> 1 Then
  If rng.Value <> rng.Offset(-1, 0).Value Then
  iCounter = iCounter + 1
  End If
  End If

    Sheets("Feuil1").Cells(iCounter, rng.Offset(0, 1).Value + 1) = "1"
    Sheets("Feuil1").Cells(iCounter, 1) = rng.Value
        'Uncomment this code for the workaround:
        'Save, close, and reopen after every 100 iterations:
        If rng Mod 1000 = 0 Then
            oBook.Close SaveChanges:=True
            Set oBook = Nothing
            '(attention extension fausse, mais ça n'empeche rien !)
            Set oBook = Application.Workbooks.Open("Macintosh HD:Users:Nicolas:vba:test.xslm")
        End If

Next rng 
```

# c# - 在 DataList 中合并/连接多个 Eval

> ID：15472960
> 
> 赞同：0
> 
> 时间：2013-03-18T09:05:01.397
> 
> 标签：c#, datalist, itemtemplate, datalistitem

我正在使用`DataList`并且在一列中我需要显示两个字段组合，我需要列显示为`Name1(Name2)`

这是我的代码：

```
<asp:DataList ID="dlistDetails" runat="server" DataKeyField="KeyID"
              RepeatColumns="3" Width="100%" 
              AlternatingItemStyle-BackColor="Wheat" CaptionAlign="Top">
    <ItemTemplate>
        <asp:Label ID="lbl" runat="server" Text= '<%#Eval("Name1")%(<%#Eval("Name2") %>)' /> 
    </ItemTemplate>
</asp:DataList> 
```

在我的`GridView`和它的显示结果中也是如此，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T09:25:44.887

只需将现有代码调整为：

```
<asp:DataList ID="dlistDetails" runat="server" DataKeyField="KeyID"
              RepeatColumns="3" Width="100%" 
              AlternatingItemStyle-BackColor="Wheat" CaptionAlign="Top">
    <ItemTemplate>
        <asp:Label ID="lbl" runat="server" Text='<%# Eval("Name1") + "(" +  Eval("Name2") + ")"%>' /> 
    </ItemTemplate>
</asp:DataList> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T09:32:19.847

您可以尝试使用此代码

```
<ItemTemplate>
        <asp:Label ID="lbl" runat="server" Text='<%# String.Format(
      "return {0} % {1}", 
       Eval("Name1"), 
       Eval("Name2")) %>' /> 

    </ItemTemplate> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-04-09T21:26:02.313

我有一个最简单的方法来做同样的事情......

```
<asp:Label ID="lbl" runat="server" Text='<%#Eval("Name1").ToString() +", "+ Eval("Name2").ToString() %>'></asp:Label> 
```

.

```
<%#Eval("Name1").ToString() +", "+ Eval("Name2").ToString() %> 
```

在这里，两个对象都被转换为字符串并将它们连接起来。

# sql - 在 Oracle 中使用 connect by 的巨大条件

> ID：15472963
> 
> 赞同：1
> 
> 时间：2013-03-18T09:05:06.710
> 
> 标签：sql, oracle, connect-by

我对 Oracle 11g 数据库有一些优化问题。我得到的查询结构如下：

```
select
    (....)
from
    (select ...)
where
    (...)
CONNECT BY
    PRIOR J.JDN_ID_POD = J.JDN_ID_NAD and (HUGE_CONDITION)
START WITH
    J.JDN_ID_NAD = 1 and (HUGE_CONDITION) 
```

并且由于 HUGE_CONDITION 真的很大（约 3500 个字符）并且在两个地方，查询非常慢；有没有办法以另一种方式做到这一点？

# html - 是否有工具可以查找受某些 css 文件影响的 html 元素

> ID：15472967
> 
> 赞同：4
> 
> 时间：2013-03-18T09:05:12.043
> 
> 标签：html, css

我一直在使用[一个拥有自己的 CSS 文件的 jquery 文件上传插件](https://github.com/blueimp/jQuery-File-Upload)，但是当该插件在一个也应用了自己的 CSS 文件的网页中实现时，元素将具有从多个文件应用的样式，所以我需要什么是一个使我能够选择 CSS 文件和 HTML 文件的工具，该工具应该显示受此文件影响的所有元素，我使用了 Firebug，但它只提供与我需要的相反的东西，例如选择元素并查看所有 CSS 文件影响元素，我想一定有更快的方法来做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-22T17:08:51.043

火灾错误[https://addons.mozilla.org/en-us/firefox/addon/firebug/](https://addons.mozilla.org/en-us/firefox/addon/firebug/) 或谷歌开发者工具 [https://developers.google.com/chrome-developer-tools/](https://developers.google.com/chrome-developer-tools/)

效果很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:20:05.107

我认为使用记事本++并做一些遗憾，工具会帮助你，但你也会成为奴隶。应用你的一些想法，它很容易按 CTRL + F 并搜索层次结构..

带有开发者工具的浏览器也会有所帮助，但不确定谁会在那里教你:)

# c# - 从 C# 和 MongoDb 的其他集合中加载引用实体的最佳方式

> ID：15472969
> 
> 赞同：0
> 
> 时间：2013-03-18T09:05:17.660
> 
> 标签：c#, mongodb, mongodb-.net-driver

在我的 Mongo 数据库中，我有两个集合，分别是 A 和 B。类型 A 的实体有，例如，类型 B 的实体的 id 列表。这个列表只是一个字符串列表，其中每个字符串都是一个字符串B 的 ID 的表示。

我想在我的域类（以及同时的数据类）中更清楚地反映这些引用关系，以便我在 A 中有一个 B 列表，并且能够通过 LINQ 使用可能的过滤或排序来查询这个列表.

目前这是通过以下方式实现的：我有一个带有名为“MongoReferenceLoadRequested”的静态事件的 MongoReference 类。此事件的事件参数包含一种类型的引用项及其 id，它还具有 Object 类型的读写属性，实际加载的对象应该被写入其中。每当有人想要访问 A 的实例的 B 列表时，就会触发该事件。

在我的 Global.asax.cs 中，我订阅了此事件，并在处理程序中加载所需的实体并将其分配给事件 args 的属性。这样做是为了将存储 MongoDb 连接字符串的应用程序配置与没有（也不应该）访问连接字符串的 POCO 实体类解耦。

您如何看待，这是实现我的目标的正确方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T20:22:52.883

考虑重新访问 MongoDB 中的文档模型。听起来像是让 A 在 MongoDB 中有一个 B 数组的好候选。

```
// Document A:
{
  _id: ... ,
  values: [B1,B2,B3 ..]
} 
```

这种阻抗不匹配是 RDBMS 的遗留问题，是由于隐含的关系和表行类型的建模和思考。

有关某些常见场景中适当数据建模的示例和讨论，请参见[此处](http://docs.mongodb.org/manual/core/data-modeling/)。

# ios - 如何为自动化分组子视图？

> ID：15472970
> 
> 赞同：2
> 
> 时间：2013-03-18T09:05:20.300
> 
> 标签：ios, ios-ui-automation

我目前正在自动化我的 iOS 应用程序。我目前面临的是对我的子视图进行分组以便将它们与其他视图分开的问题。好的，要清楚，这就是我所拥有的：

*   自定义视图容器 - MyContainerView1
*   -MyUIImageView
*   -MyUITextField
*   -MyUIButton

*   自定义视图容器 - MyContainerView2

*   -MyUIImageView
*   -MyUITextField
*   -MyUIButton

好的，在自动化过程中，我希望能够访问所有子视图（包括 MyUIImageView、MyUITextField、MyUIButton）。为此，我必须将它们全部设置为 UIAccessibilityEnabled = YES，设置标签并设置所有 MyContainerView 实例的 UIAccessibilityEnabled = NO。

好的，但是当我记录元素树时，子视图没有分组（因为 MyContainerView 的可访问性被禁用，所以我无法获取组：

*   -MyUIImageView
*   -MyUITextField
*   -MyUIButton

并将其作为一个整体对象使用（获取它的 imageView、它的 textField、检查它们的属性等）。

相反，我得到了这个：

*   -MyUIImageView
*   -MyUITextField
*   -MyUIButton
*   -MyUIImageView
*   -MyUITextField
*   -MyUIButton

这样我不知道哪个MyUIImageView属于哪个MyContainerView，所以我无法将它们分组。

所以，我的问题是如何将它们分组以使它们自动化？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-23T20:53:11.507

您没有正确设置容器视图的可访问性属性，因为这会弄乱其中的元素。

为什么需要分组？如果你使用`window.elements().withName('MyUIButton')`，你会得到一个包含所有名为 MyUiButton 的元素的数组。`window.elements().withName('MyUIButton')[0]`第一种观点的观点也是如此，第二种观点的观点也将`window.elements().withName('MyUIButton')[1]`如此。

也许不如分组好，但这确实是在测试内部，而不是在真实代码内部。如果您确实需要一些分组解决方案，您可以更改元素运行时的可访问性属性，为视图的所有子元素添加前缀。类似于 view1_MyUiButton 和 view2_MyUiButton。

# parsing - 方案 - 双引号可以分隔数字吗？

> ID：15472973
> 
> 赞同：2
> 
> 时间：2013-03-18T09:05:38.767
> 
> 标签：parsing, lisp, scheme, implementation, interpreter

我目前正在实施一个基于 Web 的 Scheme 环境，用于踢球和咯咯笑。在实现解析器的过程中，我偶然发现了一个奇怪的现象：一些 Scheme 实现声明在遇到分隔符之前读取数字的数字，但他们也声称双引号是有效的分隔符。成功评估`123"abc"`对我来说似乎很奇怪，但 Racket 似乎做到了，显示`123`和`"abc"`顺序。

困惑的我启动了 Gimp 并进入了它的 Script-Fu 控制台，下面是 Guile Scheme。给它同样的表达，它抱怨一个未绑定的值；所以它试图将其解析为符号？

我尝试将 JScheme 作为“第三意见”。它还抱怨一个未定义的变量。

**TL;DR：** Scheme 的行为应该是什么？

旁注：鉴于后两者的抱怨，我尝试了以下方法：

```
(define 123"abc" 10)
123"abc" 
```

它评估为`10`。我很困惑。双引号不应该导致解析器退出而不是分配符号吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T13:16:09.470

在你选择的 Scheme 实现上试试这个（你可能需要在[SRFI 6](http://srfi.schemers.org/srfi-6/srfi-6.html)中加载字符串端口才能工作）：

```
(call-with-input-string "(123\"abc\")" read) 
```

在 Racket 和 Guile 上，这都读取为`(123 "abc")`，这正是我所期望的。快速浏览 R5RS 的“词法结构”部分，我相信返回不同内容的实现，例如`(|123"abc"|)`，可能是不符合标准的。

# html - 是否可以在不使用纯 CSS 中的类或标识符的情况下选择纯文本容器中的第一个元素？

> ID：15472975
> 
> 赞同：3
> 
> 时间：2013-03-18T09:05:44.040
> 
> 标签：html, css, css-selectors

这是一个纯粹的假设情况。昨天在回答一个问题时，我遇到了一个我以前没有遇到过的问题。这个问题本身就有很大的缺陷，因为你根本不会做它试图达到的目标，但这个问题可能会在其他情况下出现。我无法给出一个不涉及更改标记的有效答案，我想知道在*不*更改标记的情况下是否有可能。

举个例子：

```
<p><strong>Lorem</strong> ipsum dolor <strong>sit</strong> amet...</p> 
```

要设置第一个元素的样式，`strong`您只需使用`p > strong:first-child`或类似的东西。这很好而且效果很好，但是如果第一个`strong`是可选的并且它*只是*第一个`strong`需要样式呢？

```
<p>Lorem ipsum dolor <strong>sit</strong> amet...</p> 
```

是否可以确保只设置第一个`strong`标签*而不*使用类、标识符或任何可以`strong`通过标记区分两个标签的东西？

这是[上面的 JSFiddle](http://jsfiddle.net/RNpsG/10)。

**注意：**从最初的答案来看，这个问题可能有点误导。该段落不必是页面上的第一个段落，因此`p:first-child`不是解决方案。第一段可能没有这个前导`strong`元素 - 或者第二段也可以有这个前导`strong`元素。

**编辑：**我已经更新了 JSFiddle 示例，以更清楚地说明应该和不应该设置什么样式。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T09:36:58.453

不幸的是，这是不可能的。

问题是 CSS 只选择*元素节点*，文本节点不是元素节点。所以，就 CSS 而言，`<p>blah <b>blah</b> blah <b>blah</b> blah</p>`也可能是`<p><b></b><b></b></p>`.

换句话说，您的强标签是其父*元素*中的第一个元素，无论它前面是否有文本，即使前面有文本时它不是第一个*节点*。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T09:13:38.310

也许，这就是你想要做的：

```
p:first-child > strong:first-child 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-18T09:15:05.540

将 * 用于任何容器怎么样，它的第一个元素是 strong 应该是不同的颜色：

```
* > strong:first-child { color:#f30; } 
```

或者像这样：

```
 * > p > strong:first-child { color:#f30; } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-18T09:56:10.990

**编辑**- 正如评论中指出的那样，这个解决方案很快就崩溃了。我可以看到，没有一种仅限 CSS 的方法来实现这一点。

我想出了一个[纯 CSS 解决方案](http://jsfiddle.net/cherryflavourpez/Jzqha/)。这是CSS（基于您修改后的示例）：

```
p > strong { color:blue; }
p > strong:first-child { color:red; }
p > strong:nth-last-child(-n+1) { color:blue; } 
```

呈现：

![nth-last-child 示例](../Images/fbc24b1a26c6b813abeb6fa80d883b23.png)

这利用了[:nth-last-child](https://developer.mozilla.org/en-US/docs/CSS/:nth-last-child)选择器，所有优秀的浏览器（和 IE9+）都支持该选择器。那个选择器：

> …匹配文档树中具有+b-1个兄弟的元素，对于给定的n值正或零，并且具有父元素

这些选择器的顺序很重要，因为每个选择器的特异性都是相同的，因此我们需要`strong`用每个后续选择器覆盖先前的目标。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-18T10:57:50.453

我已经尝试了很多，但我找不到任何可以满足您需求的方法，但无论如何我已经为您的小提琴添加了一个技巧。**[看到这个小提琴](http://jsfiddle.net/RNpsG/14/)** 只是添加`<span></span>`到你的第一个`<strong>`元素并定义你的css......**这对你来说好吗？**

**编辑** 或者你可以在你的 div 中定义一个空白 strong`<strong></strong>`来制作第一个元素。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-03-18T09:12:34.283

我想这就是你要找的...

```
p strong:first-child { ... } 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-03-18T09:12:40.237

看看这个它可能会解决你的问题：http: [//jsfiddle.net/RNpsG/1/](http://jsfiddle.net/RNpsG/1/)

```
body > p:first-child > strong:first-child { color:#f30; } 
```

# ajax - 将 MVC3 childactiononly 属性与 ajax 一起使用

> ID：15472978
> 
> 赞同：11
> 
> 时间：2013-03-18T09:05:55.420
> 
> 标签：ajax, asp.net-mvc-3

我正在使用 ajax 加载部分视图，以便在剑道网格中添加/编辑一行。当我按下行中的编辑按钮时，我也希望不允许用户直接`Home/AddModify`从浏览器调用操作。

如果我`[ChildActionOnly]`执行“AddModify”操作，它不会让我加载部分视图，因为所有内容都在 ajax 调用中，我不想将它放在视图中，例如`@Html.Action("Home/AddModify",model)`. 我也不想在页面加载时从头开始加载它。

我可以调用局部视图以便仅按需查看（动态）吗？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-18T09:13:31.660

你需要的是一个 AJAX only attribte 看看[这个问题](https://stackoverflow.com/questions/6558758/is-there-any-attribute-relating-to-ajax-to-be-set-for-asp-net-mvc-controller-act)

像这样声明

```
public class AjaxOnlyAttribute : ActionMethodSelectorAttribute 
    {
        public override bool IsValidForRequest(ControllerContext controllerContext, System.Reflection.MethodInfo methodInfo)
        {
            return controllerContext.RequestContext.HttpContext.Request.IsAjaxRequest();
        }
    } 
```

并像使用它一样

```
[AjaxOnly]
public ActionResult ajaxMethod()
{

} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-18T09:14:30.250

您可以在 HttpRequestBase 上使用[IsAjaxRequest](http://msdn.microsoft.com/en-us/library/system.web.mvc.ajaxrequestextensions.isajaxrequest%28v=vs.108%29.aspx)扩展方法。

它不会阻止每个用户调用它（在它可以公开访问之前你不能阻止它们）（因为他们可以将标题修改为任何内容），但对于一般目的来说它可能对你有好处。

您可以制作一个动作过滤器：

```
public class RestrictToAjaxAttribute : ActionFilterAttribute
{
    public override void OnActionExecuting(ActionExecutingContext filterContext)
    {
        if (!filterContext.HttpContext.Request.IsAjaxRequest())
        {
            throw new InvalidOperationException("This action is only available via ajax");
        }
    }
} 
```

并将此属性放在您的操作之上：

```
[RestrictToAjax]
public ActionResult YourAction()
{
} 
```

# android - Joda时间无效格式

> ID：15472981
> 
> 赞同：1
> 
> 时间：2013-03-18T09:06:16.740
> 
> 标签：android, jodatime

当我尝试使用 Joda 时间执行此代码时出现错误：

```
// yyyy-mm-dd, also tried 17-Feb-2013
String input = "2013-02-17";

DateTimeFormatter formatter = DateTimeFormat.forPattern("dd/MM/yyyy");
DateTime dt = formatter.parseDateTime(input);

TextView tv = (TextView) findViewById(R.id.tvShow);
tv.setText("HERE >>> " + dt.toString()); 
```

有任何想法吗？

logcat 说：

```
03-18 16:58:14.919: W/System.err(8259): java.lang.IllegalArgumentException: Invalid format: "2013-02-17" is malformed at "13-02-17"
03-18 16:58:14.919: W/System.err(8259):     at org.joda.time.format.DateTimeFormatter.parseDateTime(DateTimeFormatter.java:871)
03-18 16:58:14.919: W/System.err(8259):     at com.example.dateformatter.MainActivity.onCreate(MainActivity.java:42)
03-18 16:58:14.919: W/System.err(8259):     at android.app.Activity.performCreate(Activity.java:5163)
03-18 16:58:14.919: W/System.err(8259):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)
03-18 16:58:14.919: W/System.err(8259):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2061)
03-18 16:58:14.919: W/System.err(8259):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2122)
03-18 16:58:14.919: W/System.err(8259):     at android.app.ActivityThread.access$600(ActivityThread.java:140)
03-18 16:58:14.919: W/System.err(8259):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1228)
03-18 16:58:14.927: W/System.err(8259):     at android.os.Handler.dispatchMessage(Handler.java:99)
03-18 16:58:14.927: W/System.err(8259):     at android.os.Looper.loop(Looper.java:137)
03-18 16:58:14.927: W/System.err(8259):     at android.app.ActivityThread.main(ActivityThread.java:4895)
03-18 16:58:14.927: W/System.err(8259):     at java.lang.reflect.Method.invokeNative(Native Method)
03-18 16:58:14.927: W/System.err(8259):     at java.lang.reflect.Method.invoke(Method.java:511)
03-18 16:58:14.927: W/System.err(8259):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:994)
03-18 16:58:14.927: W/System.err(8259):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:761)
03-18 16:58:14.927: W/System.err(8259):     at dalvik.system.NativeStart.main(Native Method)
03-18 16:58:14.950: D/KeyguardViewMediator(357): setHidden false 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-18T09:07:32.430

您已要求它*解析*“2013-02-17”，就好像它采用“dd/MM/yyyy”格式，但显然不是。

您需要指定`yyyy-MM-dd`为模式：

```
DateTimeFormatter formatter = DateTimeFormat.forPattern("yyyy-MM-dd"); 
```

或者，如果您需要`dd/MM/yyyy`作为模式，则需要为其提供该形式的文本，例如

```
String input = "17/02/2013"; 
```

无论哪种方式，您提供的数据都必须与您指定的格式相匹配。毕竟，这就是指定格式的重点。

[`DateTimeFormat`](http://joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimeFormat.html)有关格式模式中各种字母的含义，请参阅文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:08:53.943

试试这个代码你输入错误的日期格式。

```
String input = "17/02/2013";

DateTimeFormatter formatter = DateTimeFormat.forPattern("dd/MM/yyyy");
DateTime dt = formatter.parseDateTime(input); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T09:13:13.453

你不应该在格式上造成混淆

**选项1**

字符串输入 = " `2013-02-17`";

DateTimeFormatter 格式化程序 = DateTimeFormat.forPattern(" `yyyy-MM-dd`"); DateTime dt = formatter.parseDateTime(input);

TextView tv = (TextView) findViewById(R.id.tvShow); tv.setText("这里 >>> " + dt.toString());

**选项 2**

字符串输入 = " `17/02/2013`";

DateTimeFormatter 格式化程序 = DateTimeFormat.forPattern(" `dd/MM/yyyy`"); DateTime dt = formatter.parseDateTime(input);

TextView tv = (TextView) findViewById(R.id.tvShow); tv.setText("这里 >>> " + dt.toString());

# adobe-indesign - 如何修复此 GREP 语句

> ID：15472989
> 
> 赞同：0
> 
> 时间：2013-03-18T09:06:44.337
> 
> 标签：adobe-indesign, grep-indesign

我正在尝试仅选择`x`

```
舌ぽう (舌鋒x) ぜっぽう (sharp) tongue
じょう舌 (饒x舌) じょうぜつ garrulity, loquacity 
```

它总是在括号中。所以我想 LookBehind 是左括号，然后是零个或多个字符，而 LookAhead 是零个或多个字符，后跟一个括号。

我认为这会起作用，但它没有：`(?<=\(.?)x(?=.?\))`

这将选择括号之间的所有文本，但我只想要`x`：`(?<=\().?x.?(?=\))`

我也试过这个（不确定你是否可以有两个lookbehinds......但它没有用：

`(?<=\()(?<=.?)x(?=.?)(?=\))`

我没主意了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T16:19:30.317

从 OP 的评论来看，我认为括号总是成对的。

这里的问题是后视需要一个固定的长度，在这个问题中我们无法知道。

但是如果`(..)`总是成对的，我们可以只检查`closing )`. 这应该给你想要的：

```
grep -Po "x(?=[^)]*\))" file 
```

让我们测试一下：

```
kent$  echo "舌ぽう (舌鋒x) ぜっぽう (sharp) tongue
じょう舌 (饒x舌) じょうぜつ garrulity, loquacity"|grep -Po "x(?=[^)]*\))"
x
x 
```

另一个测试，我`y`在括号中添加，并假设我们也想要`y`：

```
kent$  echo "舌ぽう (舌y鋒x) ぜっぽう (sharp) tongue
じょう舌 (y饒x舌) じょうぜつ garrulity, loquacity"|grep -Po "[yx](?=[^)]*\))"
y
x
y
x 
```

**编辑**

```
grep -Po "x(?=[^)(]*\))" file 
```

这应该没问题：

```
kent$  echo "じょうx舌 (饒x舌) じょうぜつ garrxlity, loquacity"|grep -Po "x(?=[^)(]*\))"
x 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T09:27:22.703

Grep 不支持可变长度环视。您可以执行以下操作：

```
# grep for x inside parenthesis 
$ grep -Po '\(.*x.*?\)' file
(舌鋒x)
(饒x舌)

# pipe to grep again for just the x 
$ grep -Po '\(.*x.*?\)' file | grep -o x
x
x 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T14:50:29.150

不能一次性完成所有操作，但可以使用多个语句来完成，每个特定情况都有一个：

```
(?<=\(.)x(?=.\))

(?<=\(.{2})x(?=.{1}\))

(?<=\(.{2})x(?=.{2}\))

(?<=\(.{1})x(?=.{2}\))

(?<=\(.{3})x(?=.{1}\)) 
```

ETC

# graph - Neo4j 设计：属性与“节点和关系”

> ID：15472990
> 
> 赞同：9
> 
> 时间：2013-03-18T09:06:45.133
> 
> 标签：graph, nosql, neo4j, graph-databases

我有一个节点类型，它具有一个字符串属性，该属性经常具有相同的值。等等。数百万个节点，只有该字符串值的 5 个选项。我将按该属性进行搜索。

我的问题是在性能和​​内存方面什么更好：a）将其实现为节点属性并有很多重复项（并使用 WHERE 进行搜索）。b) 将其实现为 5 个附加节点，其中所有原始节点都引用其中一个（并使用附加 MATCH 进行搜索）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-18T09:12:09.210

在不了解更多细节的情况下，很难给出一个通用的答案。

从性能的角度来看，最好尽早限制搜索。如果您不必查看属性进行遍历，则更有益。

鉴于我认为最好将查找属性移动到单独的节点并使用该值作为关系类型。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-01-30T11:38:23.527

使用[标签](http://www.neo4j.org/develop/labels)；这篇博文很好地介绍了这个 Neo4j 2.0 的新特性：

*   [Neo4j 中的标签和模式索引](http://www.terminalstate.net/2013/05/labels-and-schema-indexes-in-neo4j.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-18T11:40:59.563

我也稍微考虑过这个问题。就我而言，我必须代表状态：

*   开始
*   进行中
*   已提交
*   完全的

总体而言，节点 + 关系方法看起来更有吸引力，因为每次只需要维护一个关系引用而不是属性字符串，并且您不需要扫描必须在属性上维护的额外附加索引（内存和性能将直观地支持这种方法）。

另一个优点是它很容易支持一个节点链接到多个“特殊节点”的能力。如果您预见到在您的模型中应该可以这样做的情况，这比必须使用属性数组（并使用“in”搜索）要好。

在实践中我发现问题就变成了，你每次如何访问这些特殊节点。您要么维护某种常量引用，在其中拥有这些特殊节点的节点 ID，您可以在 START 语句中直接跳转到它们*（这就是我们所做的）*，或者您需要对每个特殊节点的属性进行搜索时间（也许是名字），然后遍历它的关系。这并不适合最漂亮的密码查询。

# php - $_POST 在此代码中为空，这里可能有什么问题？

> ID：15472992
> 
> 赞同：0
> 
> 时间：2013-03-18T09:06:50.910
> 
> 标签：php, mysql, post

HTML 文件

```
<form method="post" name="mysearch" action="/abc/search.php" onSubmit="return ch_search()">
    <div class="statea">Search</div>
      <div class="select_a">
        <label for="text2"></label>
        <input type="text" name="skey" id="text2" onblur="if(this.value=='') this.value = 'Search';" onfocus="if(this.value=='Search') this.value = '';" value="">
      </div>
      <div class="select_a">
        <label for="text2"></label>
       <select name="skid[]" id="sele3" multiple="multiple">
                      <? echo $kalist;?>
                    </select>
        </div>
      <div class="select_a">
        <label for="text2"></label>
        <input type="text" name="scity" id="text2" onblur="if(this.value=='') this.value = 'City';" onfocus="if(this.value=='City') this.value = '';" /><span class="hnt">(Comma Seperated)</span>
      </div>
      <div class="select_a">
        <select name="s_state[]" id="sel3" multiple="multiple">
          <? echo $states;?>
        </select>
      </div>
      <div class="select_a">
        <label for="text2"></label>
    <input type="submit" name="ssubmit" id="text2" value="Search"/>
        </div>
    </form> 
```

PHP 文件 -

```
if(isset($_POST['ssubmit']))
{
 my code here
 } 
```

我试过 print_r($_POST); var_dump($_POST); 一切都将归零。它在我的本地机器上运行良好，但在主服务器上上传时它在 $_POST 中没有给出任何值。我的这段代码有什么问题？

编辑：当我在 firefox firebug 面板中检查标题时，它显示已发布的数据，那么为什么我不能通过 php 脚本看到它？？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T11:45:56.523

我遇到了问题 - 这完全是因为 .htaccess 中的重写规则错误。

重写规则将它完全发送到一个新链接，这就是为什么所有 $_POST 值都是空的。

我用过 - RewriteRule ^.*$ abc.xyz.com/header.php [L]

它应该在哪里 - RewriteRule ^.*$ /header.php [L]

它解决了我所有的问题。

谢谢大家的帮助：）

# ios - 带有 ARC 的类类别中的 AVAudioPlayer

> ID：15472994
> 
> 赞同：1
> 
> 时间：2013-03-18T09:06:53.203
> 
> 标签：ios, objective-c, automatic-ref-counting, avaudioplayer

我正在尝试在我的应用程序中的所有按钮上添加自定义点击声音。我为 UIButton 创建了一个类类别，其中包含以下代码：

```
NSURL *soundURL = [NSURL fileURLWithPath:[[NSBundle bundleWithIdentifier:@"com.apple.UIKit"] pathForResource:@"Tock" ofType:@"aiff"]];
NSError *error;

AVAudioPlayer *audioPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:soundURL error:&error];

if(audioPlayer == nil){
    NSLog(@"%@", [error description]);
} else{
    [audioPlayer play];
} 
```

所有这些都在以下位置执行：`- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event`

但据我了解，这里的 ARC（我正在使用）存在一个常见问题。audioPlayer 对象似乎在播放声音之前被释放。我也看过了`AudioServicesPlaySystemSound();`。但目前这对我来说别无选择，因为我需要在我的应用程序中使用音量级别控制器，而且我发现没有办法在不离开应用程序的情况下更改系统音量。

我的问题是：有没有办法在 UIButton 类类别中对我的 audioPlayer 对象进行强引用？或者还有其他更好的方法来让它工作吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T09:38:15.670

在类别中添加任何对象关系时，总是值得查看关联对象。使用`objc_setAssociatedObject()`和`objc_getAssociatedObject()`函数。确保为键使用唯一的指针值，在您的情况下，您肯定希望使用其中一种保留关联策略来确保对象的生命周期是合适的。

# macos - 隐藏或显示控件后如何重新绘制窗口

> ID：15472999
> 
> 赞同：0
> 
> 时间：2013-03-18T09:07:10.610
> 
> 标签：macos, cocoa, interface-builder

我在窗口底部有一个 NSTextField 控件。我需要根据某些情况显示或隐藏它们。

在初始状态下，控件是隐藏的。窗口显示控件位置上的空白区域。在运行时，控件应该变得可见

```
mpTxtCtrl.hidden = NO; 
```

它不会发生。

任务：

1 显示/隐藏控件。

2 根据控件的状态调整主窗口的大小。

我找不到任何教程如何在可可中管理布局。如果有任何帮助，我将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T10:37:59.940

> 在运行时，控件应该变得可见
> 
> ```
> mpTxtCtrl.hidden = NO; 
> ```
> 
> 它不会发生。

确保将`mpTxtCtrl`插座连接到笔尖的文本字段。忘记将插座连接到任何东西是什么都没发生的主要原因。

> 我找不到任何教程如何在可可中管理布局。

在编辑笔尖时切换到文件检查器并打开“使用自动布局”。每当您沿着 Aqu​​a 指南（正确放置和调整视图大小时出现的蓝线）放置视图时，Xcode 都会创建约束，而 Cocoa 将在视图大小和窗口发生变化时强制执行这些约束。

更多信息：

*   [Cocoa 自动布局指南](http://developer.apple.com/library/mac/documentation/UserExperience/Conceptual/AutolayoutPG/)
*   [WWDC 2012 视频](https://developer.apple.com/videos/wwdc/2012/)— 包括几个关于自动布局的会议
*   [OS X 人机界面指南](http://developer.apple.com/library/mac/documentation/UserExperience/Conceptual/AppleHIGuidelines/)— Aqua 指南似乎表明符合 HIG

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:47:23.880

检查此代码，如果您会[在这里](http://www.keepandshare.com/doc/6013591/showhidemaximise-36k?da=y)找到一些有用的东西：

```
-(void)awakeFromNib{
    [self.label setHidden:YES];
}

- (IBAction)showHide:(id)sender {
    NSLog(@"%@",[sender title]);

    if ([[sender title] isEqualToString:@"Hide"]) {
        [self.label setHidden:YES];
        [sender setTitle:@"Show"];
    }
    else if ([[sender title] isEqualToString:@"Show"]){
        [self.label setHidden:NO];
        [sender setTitle:@"Hide"];

    }

}

- (IBAction)maximize:(id)sender {

    NSArray *screens = [NSScreen screens];
    NSRect screenRect;
    for (NSInteger index=0; index < [screens count]; index++) {
        NSScreen *screen = screens[index];
        screenRect = [screen visibleFrame];
    }
    [self.window setFrame:screenRect display:YES];
} 
```