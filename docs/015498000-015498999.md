# StackOverflow 问答 15498000-15498999

# php - 如何在编辑实体后重新生成 crud——教义：generate:crud

> ID：15498002
> 
> 赞同：3
> 
> 时间：2013-03-19T11:17:45.947
> 
> 标签：php, symfony, doctrine

我需要编辑我的实体以获得更多值。我已经用我之前的价值观产生了杂物。如何在编辑实体后通过应用程序/控制台重新生成 crud，以便它自动为其他值生成函数。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T11:43:23.960

为此，您需要删除为此 crud 生成的控制器、视图和表单。然后你可以从头开始再生。不过，请谨慎使用这种方法，因为您显然会丢失对任何这些文件所做的任何自定义。如果我没有对控制器、表单或模板进行任何更改，我只会这样做。否则，您应该手动将新字段添加到您的表单和视图中。

编辑：如果您是 Symfony 的新手，那么我建议您手动添加数据以了解它是如何工作的。

EDIT2：只是为了澄清你。该命令不会自动更新所有视图等的原因是我上面提到的确切原因。这是为了阻止您自动覆盖您所做的任何自定义修改。通常，crud 将作为起点生成，然后将手动添加所有未来的更改。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-01-11T17:31:52.880

要更新生成的 CRUD，您可以使用 --overwrite。

php app/console generate:doctrine:crud bundle:Entity --overwrite

# php - 检查查询是否为空或空字符串

> ID：15498011
> 
> 赞同：0
> 
> 时间：2013-03-19T11:18:13.667
> 
> 标签：php, jquery, zend-framework

我正在开发我网站上的搜索功能，我正在做下一个和上一个功能，每页显​​示 16 个结果。我必须检查我的查询是否为空或空字符串，但是我不擅长 if 语句本身，我猜我必须做一个？我将 AJAX 用于下一个和上一个的单击功能，但在 PHP 中进行所有计算。我想要做第一个查询，我必须使用 if 语句？这就是我到目前为止所拥有的.. 我不知道要检查哪个查询是空的还是空字符串。

这是我正在处理的功能。我正在寻找创建一个 if 语句来检查查询是否为空但不确定如何？任何帮助将不胜感激：

```
public function keywordAction() {
        $this->view->layout()->disableLayout();
        $this->_helper->viewRenderer->setNoRender(TRUE);
        $session = new Zend_Session_Namespace("keyword");
        $search = "";
        if(isset($session->search)) {
            $search = $session->search;
        }
        if {

        }
   } 
```

这是我用于该功能的 AJAX 代码：

```
$(".paginator").click(function(){
        var action = $(this).attr("action");
        var page = $("#pageNo").val();
        var pageint = parseInt(page);
        var request = $.ajax({
            url : "/support/keyword/",
            dataType : "JSON",
            type : "POST",
            data : {
                action : action,
                page : pageint,
                itemsperpage : parseInt($("#itemsperpage").val())
            }
        });

        request.done(function(response){
            if(response.error != undefined) {
                window.location = "/";
            }
            if(response.results != undefined) {
                $("#output").html(response.results);
            }
            if(response.disable != undefined) {
                if(/1/i.test(response.disable)) {
                    $(this).hide();
                }
            }
            if(response.undisable != undefined) {
                if(/1/i.test(response.undisable)) {
                    if(/next/i.test(action)) {
                        $("#previous").show();
                    } else {
                        $("#next").show();
                    }
                }
            }
            if(response.resultsstring != undefined) {
                $("#resultsstring").html(response.resultsstring);
            }
        });

    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:41:40.257

尝试类似的东西

```
<?php 
    if(!empty($search)) {

    }
 ?> 
```

# bash - 仅通过 bash 与程序交互

> ID：15498012
> 
> 赞同：1
> 
> 时间：2013-03-19T11:18:14.320
> 
> 标签：bash, automation

是否可以与正在运行的程序进行交互，例如。`expect`还是`sshpass`没有这些工具，仅通过 bash 手段？用户交互发生的低级接口是什么，bash 脚本可以访问它们吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T11:32:37.263

一种方法是创建期望脚本，然后通过您的 bash 脚本调用它

# javascript - Firefox Web 控制台中的默认范围 - 发生了什么？

> ID：15498014
> 
> 赞同：2
> 
> 时间：2013-03-19T11:18:21.233
> 
> 标签：javascript, firefox, console, scope

在我尝试过的其他浏览器（例如 Chromium、IE、Safari）中，在控制台（在任何函数之外）执行的代码的默认范围与在`<script>`. 也就是说，`this`引用`window`对象，并且任何新声明的变量都成为全局变量（以及，等效地，`window`对象的属性）。

在 Firefox 中……发生*了其他*事情，但我不太清楚是什么。在大多数浏览器中，在 Chrome 控制台中`this === window`计算结果为`true`，但在 Firefox 中为 false。`this.window === window`不过，在 Firefox 中是正确的。因此，通过控制台新声明或分配的变量不会对页面上运行的脚本可见，除非您将它们`window`明确分配为对象的属性。

古怪并不止于此。对`window`对象的赋值会神奇地向上传播并修改 Firefox 控制台范围内的变量，但反之则不然。例子：

```
window.foo = 5;
console.log(foo); // 5
console.log(this.foo); // 5
console.log(window.foo); // 5
foo = 10;
console.log(foo); // 10
console.log(this.foo); // 10
console.log(window.foo); // 5 -- in any other browser, this would be 10 
```

幕后发生了什么？Firefox中所指的神秘物体是什么`this`，为什么它与该`window`物体有这种奇特的关系？这些东西在任何地方都有记录吗？

（以防万一，我在 Firefox 19.0.2 中体验过这些东西。我还没有测试过其他 Firefox 版本。）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T11:48:56.373

您遇到的情况是因为 Firefox Web 控制台在沙箱中评估语句。

[这是](https://bugzilla.mozilla.org/show_bug.cgi?id=690529)bugzilla 中关于它的一个公开错误

> 输入到 Web 控制台和 Scratchpad 的表达式在一个沙箱全局中进行评估，其原型是内容窗口：`this.__proto__ === window`。
> 
> 这有一些很好的效果：在 Scratchpad 中声明的变量实际上是该暂存器的本地变量，而不是污染内容的全局；你可以到处玩。如果确实想创建一个对内容可见的全局变量，总是可以简单地在窗口上创建一个属性：'window.newGlobal = "fruit"'。
> 
> 但是，我怀疑这实际上没有帮助。对于开发人员来说，最简单的思维模型是让在 Web 控制台/暂存器中输入的代码像元素的内容一样被评估。解释为什么 'x' 显示内容的 x 而 'x = 5' 并没有改变它（但 'xy = 5'对内容*是*可见的！）涉及一定程度的细节，只有更投入的开发人员才会感兴趣。
> 
> 提供内容中不存在的实用功能当然很有价值。但这可以通过评估应用于对象的“with”表达式范围内的表达式来完成，该对象具有效用函数作为其属性。'With' 不是我最喜欢的构造，但由于我们完全控制了对象的属性，所以通常使用 'with' 的缺点并不适用；一旦您决定引入一些仅限 Web 控制台的功能，“with”的行为就是您所需要的。（不要忘记以下内容在全局上为 x 和 y 创建绑定：
> 
> ```
> with (o) { var x = 5; y = 6; } 
> ```
> 
> 所以'with'并没有重新引入我上面提到的沙盒问题。）

关于这是如何工作的。在 JavaScript 中，继承是原型的。沙盒是一个对象，其*原型*是窗口而不是窗口本身。[这是](https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Inheritance_and_the_prototype_chain?redirectlocale=en-US&redirectslug=JavaScript/Guide/Inheritance_constructor_prototype)MDN 中关于它的教程。

# android - 将按钮添加到所有可滚动选项卡

> ID：15498018
> 
> 赞同：0
> 
> 时间：2013-03-19T11:18:32.187
> 
> 标签：android, button, tabs, android-activity, scrollable

我想添加一个按钮，它将位于所有 3 个选项卡上，如果不可能，则至少在一个选项卡上。
如果答案很简单，我将非常感激，并且您的帮助中有描述。

```
public class MainActivity extends FragmentActivity {
    /**
     * The {@link android.support.v4.view.PagerAdapter} that will provide
     * fragments for each of the sections. We use a
     * {@link android.support.v4.app.FragmentPagerAdapter} derivative, which
     * will keep every loaded fragment in memory. If this becomes too memory
     * intensive, it may be best to switch to a
     * {@link android.support.v4.app.FragmentStatePagerAdapter}.
     */
    SectionsPagerAdapter mSectionsPagerAdapter;

    /**
     * The {@link ViewPager} that will host the section contents.
     */
    ViewPager mViewPager;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // Create the adapter that will return a fragment for each of the three
        // primary sections of the app.
        mSectionsPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager());

        // Set up the ViewPager with the sections adapter.
        mViewPager = (ViewPager) findViewById(R.id.pager);
        mViewPager.setAdapter(mSectionsPagerAdapter);

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.main, menu);
        return true;
    }

    /**
     * A {@link FragmentPagerAdapter} that returns a fragment corresponding to
     * one of the sections/tabs/pages.
     */
    public class SectionsPagerAdapter extends FragmentPagerAdapter {

        public SectionsPagerAdapter(FragmentManager fm) {
            super(fm);
        }

        @Override
        public Fragment getItem(int position) {
            // getItem is called to instantiate the fragment for the given page.
            // Return a DummySectionFragment (defined as a static inner class
            // below) with the page number as its lone argument.
            Fragment fragment = new DummySectionFragment();
            Bundle args = new Bundle();
            args.putInt(DummySectionFragment.ARG_SECTION_NUMBER, position + 1);
            fragment.setArguments(args);
            return fragment;
        }

        @Override
        public int getCount() {
            // Show 3 total pages.
            return 3;
        }

        @Override
        public CharSequence getPageTitle(int position) {
            Locale l = Locale.getDefault();
            switch (position) {
                case 0:
                    return getString(R.string.Zones1).toUpperCase(l);
                case 1:
                    return getString(R.string.Zones2).toUpperCase(l);
                case 2:
                    return getString(R.string.Zones3).toUpperCase(l);
            }
            return null;
        }
    }

    /**
     * A dummy fragment representing a section of the app, but that simply
     * displays dummy text.
     */
    public static class DummySectionFragment extends Fragment {
        /**
         * The fragment argument representing the section number for this
         * fragment.
         */
        public static final String ARG_SECTION_NUMBER = "section_number";

        public DummySectionFragment() {
        }

        @Override
        public View onCreateView(LayoutInflater inflater, ViewGroup container,
                Bundle savedInstanceState) {
            View rootView = inflater.inflate(R.layout.fragment_main_dummy, container, false);
            TextView dummyTextView = (TextView) rootView.findViewById(R.id.section_label);
            dummyTextView.setText(Integer.toString(getArguments().getInt(ARG_SECTION_NUMBER)));
            return rootView;  }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-18T14:55:20.767

在虚拟片段 xml 中添加要显示的按钮，以在所有选项卡中显示该按钮。

如果您想在不同的选项卡中显示不同的 xml，请使用以下内容：（EmergencyFragment、ContactsFragment 和 InformationFragment 是 java 文件，可以按前面所示制作。）

```
Fragment fragment;
        switch (position) {
            case 0:
                fragment = new EmergencyFragment();
                break;
            case 1:
                fragment = new ContactsFragment();
                break;
            case 2:
                fragment = new InformationFragments();
                break;
            default:
                fragment  = null;
                break;
        }
        return fragment; 
```

代替

```
Fragment fragment = new DummySectionFragment();
        Bundle args = new Bundle();
        args.putInt(DummySectionFragment.ARG_SECTION_NUMBER, position + 1);
        fragment.setArguments(args);
        return fragment; 
```

在 java 文件中，按如下方式扩展要显示的 xml 视图：（例如：EmergemcyFragments.java）

```
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {

    View root = inflater.inflate(R.layout.emergency, container, false);

    return root;

} 
```

# asp.net - windows认证不断提示ie的用户名密码

> ID：15498020
> 
> 赞同：2
> 
> 时间：2013-03-19T11:18:32.543
> 
> 标签：asp.net, iis-7, active-directory, iis-7.5, windows-authentication

我正在开发一个将在 Intranet 中使用的应用程序。我正在对带有 Active Directory 的应用程序使用 Windows 身份验证。但是当我从ie中的其他机器访问应用程序时，它会不断提示输入用户名和密码。我在 web.config 中添加了用于 Windows 身份验证、身份模拟的设置。并且启用了仅应用程序 Windows 身份验证的 IIS 设置。匿名身份验证被禁用。我的观察是它适用于 IIS 6。但是当我尝试在 IIS 7.5 上托管我的应用程序时，它会不断提示用户名和密码。它也不适用于 Google Crome。

可能是什么问题？？？请帮忙...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T05:11:15.870

**在同一应用程序中使用 ASP.NET Forms 身份验证和 IIS Windows 身份验证**

您有一个 login.aspx 页面，它允许您的用户使用 Forms 身份验证登录。但是，您的所有用户在服务器（或 Active Directory）上也有 Windows 帐户。出于某种原因，您希望所有用户首先使用其 Windows 凭据登录，然后使用其成员身份凭据和表单身份验证登录。您可以通过在 IIS 中启用 Windows 身份验证并禁用匿名身份验证来做到这一点，这将导致请求在到达 ASP.NET 之前被 IIS 拒绝，从而确保您的用户首先通过 Windows auth 进行身份验证。

这适用于 IIS 6.0 和经典模式下的 IIS 7.0。但是，在集成模式下，Windows 和 Forms 身份验证都在单阶段身份验证过程中运行，这使得无法先使用 Windows 身份验证进行身份验证，然后再使用 Forms 身份验证进行身份验证。此外，由于为整个应用程序启用了 Forms 身份验证，因此无法为您的应用程序的一部分启用它，而不是为另一个应用程序启用它 - 这会带来一个问题，因为 Forms 身份验证的 302 重定向挑战与 401 “WWW-Authenticate ” Windows 身份验证使用的质询。Forms auth 将始终将未经授权的对应用程序的请求转换为 302 重定向，从而破坏 Windows 身份验证。

有关更多详细信息，请参阅[此链接。](http://mvolo.com/iis-70-twolevel-authentication-with-forms-authentication-and-windows-authentication)

# python - 比较字符串时出现 Python Jinja 错误

> ID：15498027
> 
> 赞同：13
> 
> 时间：2013-03-19T11:18:53.027
> 
> 标签：python, flask, jinja2

我在比较 python 中的两个字符串时遇到问题：

**这是有效的：**

```
{% for publication in publications %}
        {{ publications[publication].pub_type }}
{% endfor %} 
```

但不是这个：

```
{% for publication in publications %}
        {% if publications[publication].pub_type equals "conference_paper" %} 
             class="active" 
         {% endif %}
{% endfor %} 
```

在上面的代码中，我只是在测试一些东西，但它不起作用

我收到此错误：

```
jinja2.exceptions.TemplateSyntaxError
TemplateSyntaxError: expected token 'end of statement block', got 'equals' 
```

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-03-19T11:22:52.913

也许你想要：

```
{% if publication.pub_type == "conference_paper" %}
{#                         ^^                    #} 
```

`equals`不是[有效的 jinja2 语法](http://jinja.pocoo.org/docs/switching/#conditions)

# asterisk - 如何创建自定义 conf 文件以在 extensions.conf、星号中添加站点？

> ID：15498028
> 
> 赞同：1
> 
> 时间：2013-03-19T11:18:53.893
> 
> 标签：asterisk

我正在使用 java 编写的项目并处理星号。通过 java 程序，我选择站号，例如最大 90 或 900 或 9000。为了添加星号，我处理 3 个文件 sip.conf queues.conf extensions.conf 在 extensions.conf 中，我完成了以下设置，专门用于快速添加站。扩展模式匹配新=是

这样，我可以在 extensions.conf 中在 20-30 秒内输入 90 个站点，在 8-9 分钟内输入 900 个站点，在 5 小时内输入 9000 个站点但我得到的信息是我们可以包含任意数量的 conf 文件。 [#include 另一个拨号计划 - 星号](https://stackoverflow.com/questions/9224596/include-another-dialplan-asterisk) ，但我的问题是如果我想在 extensions.conf 文件中添加 9000 个站，并通过#include 技术我可以放置 temp1.conf，0 到 1000 个站 temp2.​​conf，1001 到 2000 个站

tempN.conf, N to last-No station 如果可以，那么 temp.conf 的格式是什么？通过这样做，我可以减少在 extensions.conf、sip.cof、queues.conf 中添加大量站点的时间吗？请需要帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T12:43:35.047

[#include 语句](https://wiki.asterisk.org/wiki/display/AST/Using+The+include+and+exec+Constructs)不会影响性能，但拨号计划可能更易于维护。

**包含文件的格式**

[#include 语句](https://wiki.asterisk.org/wiki/display/AST/Using+The+include+and+exec+Constructs)替换拨号方案中该文件的内容。它必须像编写拨号方案一样编写。[#include 语句](https://wiki.asterisk.org/wiki/display/AST/Using+The+include+and+exec+Constructs)适用于所有 Asterisk 配置文件。如果您#include 底部的文件，您也可以覆盖拨号计划部分。

例子

```
#include "headquarter_extensions_custom.conf"

[globals]
; ...

[default]
exten => s,1,Answer
exten => s,2,Playback(welcome-message)
; go to context defined in included file
exten => s,3,Goto(headquarter,s,1) 
```

编辑包含文件后，您必须重新加载配置，即。`reload`.

**备择方案**

[您还可以在拨号计划中使用include 语句](https://wiki.asterisk.org/wiki/display/AST/Include+Statements+Basics)包含上下文。这允许编写标准上下文并
使用自定义配置文件中定义的上下文扩展它们（通过#include）。

`include => NameOfContext`

例子

“extensions.conf”的内容

```
#include "headquarter_extensions_custom.conf"
#include "localoffice_extensions_custom.conf"

[general]

[support]
include => localoffice
include => headquarter 
```

“headquarter_extensions_custom.conf”的内容：

```
[headquarter]
exten => 012345678,1,Dial(SIP/012345678) 
```

“localoffice_extensions_custom.conf”的内容：

```
[localoffice]
exten => 1234,1,Dial(SIP/2001) 
```

**模式**

如果您可以用模式替换数百个扩展，请将数字块路由到目标，即。`_123XX`本地办公室，`_5[1-3]XX`总部办公室。

**可扩展性**

您还可以在多个服务器上拆分您的 Asterisk 配置。这意味着确定硬件和软件的限制，并通过 DNS、SIP 代理或切换到星号实时实现进行扩展。

# javascript - 更新 DOM 元素后反转切换效果

> ID：15498030
> 
> 赞同：1
> 
> 时间：2013-03-19T11:19:01.037
> 
> 标签：javascript, css, jquery-hover, jquery

我有一张带有一些复选框的表格。当用户点击任何复选框时，单元格的内容就会更新。

该表对每组行都有切换效果。当我使用带有 jQ​​uery 的复选框更新单元格时，这种效果会被反转。

这是一个简单的问题。请注意在单击复选框后切换效果如何反转，因此当鼠标退出时，行会突出显示，这不是我想要的：

[http://jsfiddle.net/s4tWd/](http://jsfiddle.net/s4tWd/)

这是使用的 jQuery：（我无法制作 .on('hover'.. 在 jsfiddle 上工作）

```
$(document).ready(function(){

    $('tr[data-demo]').hover(function() {
        var t = $(this);
        t.siblings('[data-demo="'+t.attr('data-demo')+'"]').toggleClass('hover');
        t.toggleClass('hover');
    });

    $('.demo').click(function(){
        $(this).parent().html('text');
    });

}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:24:10.583

将悬停更改为 mouseover 和 mouseout。有用。

```
$(document).ready(function(){
    $('tr[data-demo]').mouseover(function() {
        var t = $(this);
        t.siblings('[data-demo="'+t.attr('data-demo')+'"]').addClass('hover');
        t.addClass('hover');
    });
    $('tr[data-demo]').mouseout(function() {
        var t = $(this);
        t.siblings('[data-demo="'+t.attr('data-demo')+'"]').removeClass('hover');
        t.removeClass('hover');
    });

    $('.demo').click(function(){
        $(this).parent().html('text');
    });
}); 
```

小提琴：http: [//jsfiddle.net/VinnyFonseca/s4tWd/1/](http://jsfiddle.net/VinnyFonseca/s4tWd/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:28:06.870

利用回调函数删除悬停时设置的类。查看[示例](http://jsfiddle.net/s4tWd/2/)

```
$(document).ready(function(){

  $('tr[data-demo]').hover(function() {
    var t = $(this);
    t.siblings('[data-demo="'+t.attr('data-demo')+'"]').addClass('hover');
    t.addClass('hover');
  },function() {
    var t = $(this);
    t.siblings('[data-demo="'+t.attr('data-demo')+'"]').removeClass('hover');
    t.removeClass('hover');
  });

  $('.demo').click(function(){
      $(this).parent().html('text');
  });

}); 
```

# magento - 如何在 Magento 中制作自定义网格 url

> ID：15498035
> 
> 赞同：0
> 
> 时间：2013-03-19T11:19:12.887
> 
> 标签：magento

我已经创建了我的自定义模块。我已将数据库表中的所有值显示到此网格中。网格工作正常。但是，在编辑链接 URL 中，我想传递我的自定义参数。当前 URL 的样子。

```
http://example.com/index.php/xyz/adminhtml_mymodule/edit/id/32/key/cf9639d403c328b26678fb7fa8f78cc5/ 
```

我想在这个 url 中传递另一个参数。

为此，我尝试以下

```
'url' => array('base'=> '*/*/edit','params'=>array('store'=>5)), 
```

现在我的网址看起来像

```
http://example.com/index.php/xyz/adminhtml_mymodule/edit/id/32/store/5/key/cf9639d403c328b26678fb7fa8f78cc5/ 
```

如果我将动态传递存储参数值 5，那会很好。

我想从当前行动态传递商店。我怎样才能得到这个当前行值（store_id）

有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:03:43.007

试试这个

```
$this->addColumn('action',
        array(
            'header'    =>  Mage::helper('helperGroupClassName')->__('Action'),
            'width'     => '100',
            'type'      => 'action',
            'getter'    => 'getId',
            'actions'   => array(
                array(
                    'caption'   => Mage::helper('helperGroupClassName')->__('Edit'),
                    'url'       => array('base'=> '*/*/edit', 'params' => array('store_id' => $this->getStoreId())),
                    'field'     => 'id'
                )
            ),
            'filter'    => false,
            'sortable'  => false,
            'index'     => 'stores',
            'is_system' => true,
    )); 
```

# joomla - 为丢失的密码生成验证码？

> ID：15498044
> 
> 赞同：1
> 
> 时间：2013-03-19T11:19:36.583
> 
> 标签：joomla, verification, password-recovery

我需要为丢失密码的用户生成令牌/验证码，但我不能依赖现有的 Joomla 安装，因为 1）它是一个非常旧的 Joomla 安装（1.5.15）和 2）它是一个我的项目的要求。我不能碰任何东西，因为它是第三方工作，但我需要为移动用户（现在是 iOS 和 Android）实现密码恢复系统，并且我需要知道密码恢复系统使用哪种算法。

谁能告诉我它是如何工作的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T11:40:53.100

在 Joomla 你可以检查以下文件

```
components/com_users/controller/reset.php
components/com_users/modles/reset.php 
```

在控制器文件中，您可以找到一个函数名称`request();`

它使用模型的功能`processResetRequest();`

在此功能中，它将使用以下代码创建激活令牌

```
 // Set the confirmation token.
$token = JUtility::getHash(JUserHelper::genRandomPassword());
$salt = JUserHelper::getSalt('crypt-md5');
$hashedToken = md5($token.$salt).':'.$salt;

$user->activation = $hashedToken; 
```

joomla 也在验证令牌是否正确，然后它将允许用户创建新密码。如果你想这样做，你可以使用以下代码作为 joomla 标准密码。

```
jimport('joomla.user.helper');
 $salt = JUserHelper::genRandomPassword(32);
 $crypt = JUserHelper::getCryptedPassword($password_choose, $salt);
 $password = $crypt.':'.$salt; 
```

上面的代码正在创建 joomla 密码。

如果您打算将其用于移动设备并且无需编辑核心 joomla，您可以在 root 上创建一个文件并像[这样实现它](https://stackoverflow.com/questions/15329424/password-authentication-inconsistent-hashes/15330807#15330807)

希望这可以帮助你..

# ios - 为什么 iPad 显示小屏幕尺寸

> ID：15498045
> 
> 赞同：0
> 
> 时间：2013-03-19T11:19:47.463
> 
> 标签：ios, ipad

当我从 Appstore 下载 iOS 应用程序到我的 iPad 时，它显示为小屏幕尺寸。我想知道这背后的条件是什么。因为它只适用于 iPhone，所以它显示这样的方式？或者如果它是通用应用程序或 iPad 应用程序，它会在我安装时以相同的方式显示吗？

因为我的客户正在询问他从 ipad 显示的 iPad 和 iPhone 两个类别下搜索的一个应用程序。但是当它安装时它以小屏幕显示。应用类型和这个 iPad 显示尺寸之间有什么联系吗？

我想知道虽然应用程序是通用的，但它会以小屏幕尺寸显示吗

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:23:50.023

如果一个应用程序是真正通用的，它将对`iPad`和具有单独的视图`iPhone`。

如果您在 上看到一个小屏幕`iPad`，那是因为没有`View`为`iPad`. 因此，它不是通用的。

**这是运行失败：**

*   `iPad`为和构建的所有应用程序`iPhone`都构建在一个名为`iOS`.

*   为 构建的应用程序`iPhone`可以在`iPod Touch`和 `iPhone`上运行`iPad`。

*   为 构建的应用程序`iPad`只能在`iPad`.

*   因为它`iPad`允许您运行几乎任何`iOS`应用程序，所以您可以在应用商店中找到它们。

现在仅仅因为一个应用程序在 上运行`iPad`，并不意味着它是为`iPad`.

如果您在 上看到`iPad`一个非常小的应用程序`View`不适合，那是因为该应用程序是专门为`iPhone`.

现在有这些特殊情况 - 应用程序是`Universal`. 这些`Universal`应用程序经过专门设计，可在`iPhone`和`iPad`. 对于每个`iPhone` `View`，都有一个`iPad` `View`。你会知道一个应用程序是否是`Universal`因为它会`+`在应用程序图标的右上角有一个标志。

应用`Universal`程序总是看起来正确的屏幕尺寸，无论是打开`iPad`还是`iPhone`.

我希望这可以帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:22:59.460

您的应用程序仅支持**iPhone**，但它也可以在 iPad 上运行。如果您希望您的应用程序可以在所有设备上运行，请将设置更改为**Universal**，那么您必须分别为 iPhone 和 iPad 设计视图。

# css - 在 CSS 中排列和定位两个 div

> ID：15498048
> 
> 赞同：1
> 
> 时间：2013-03-19T11:19:54.273
> 
> 标签：css, html, position, positioning

我是 CSS 新手，所以这个问题可能很简单。我正在布置一个网站，并且被定位所困。

在网站上，我有一个中间部分，其中有一个标题，下面有一些可滚动的内容。这是标题 div 的相关 CSS：

```
#header {
    position: absolute;
    margin-left: auto;
    margin-right: auto;
    width: 100%;
    height: auto;
} 
```

现在，我只是希望内容 div 立即跟随在下面，并且不知道该怎么做。

```
position: relative; 
top: 0; 
```

似乎不起作用（我最初期望的）。两个 div 处于相同的逻辑级别，并包裹在中间部分 div 内。我可能错过了一些非常明显和容易的东西。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T11:24:41.600

如果你有类似的东西

```
<header>header</header>
<main>main content</main> 
```

使用这个 CSS：

```
header, main
{
    display: block; /* because <main/> is very new */
    padding: 20px;
    background: #eeeeee;
}

header
{
    background: blue;
} 
```

就是这样，因为默认情况下块元素会彼此低于。

[http://jsfiddle.net/86wX4/](http://jsfiddle.net/86wX4/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:30:26.153

你`#header`的绝对定位有什么理由吗？删除那种风格，我想你会发现`<div>`s 会按照你的期望堆叠。

给出`<div>`绝对定位会将其从页面流中取出，因此仍在流中的元素*“不认为”*它在那里，因此它们不会堆叠在一起。

说这是你的标记：

```
<div id="header">Header</div>
<div id="content">Content</div> 
```

如果您要绝对定位这些元素，您需要使用`left`、`top`和`right`/或`bottom`样式来排列它们。IE：

```
#header{
    position: absolute;
    margin-left: auto;
    margin-right: auto;
    width: 100%;
    height: 50px;
}
#content{
    position:absolute;
    width:100%;
    top:50px; //Because the header is 50px high
} 
```

**但**

将所有这些相对定位（或将它们保留为默认的静态）无论如何都会以您想要的方式堆叠它们 - 它们甚至会为您拉伸页面的宽度。

希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T11:23:14.097

有什么理由使用绝对位置的标题 div 吗？您可以使用两个 div 的相对位置来排列在彼此下方。

# rpmbuild - 用于升级的 RPM 规范文件

> ID：15498053
> 
> 赞同：2
> 
> 时间：2013-03-19T11:20:14.867
> 
> 标签：rpmbuild, rpm-spec

我的产品已经安装，我想升级它。现在我的升级只包含一个文件，而实际产品包含一个包含更多文件的目录结构。

现在，当我使用`rpm -Uvh abc.x86_64.rpm`它时，它会删除所有旧文件并将这个文件放在新的升级补丁中。

Spec 文件是用`%pre, %post`脚本编写的，但没有用。

我已经尝试使用`%pre`除要升级的文件之外的部分备份旧软件，并且在安装后在`%post`部分的帮助下我试图恢复除升级文件之外的备份文件。

通过执行上述升级无法正常工作。

我需要帮助来解决这个问题。任何指针？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T04:32:17.237

您的 RPM 的新（升级）版本应包括旧版本包含的所有文件，以及您可能对文件或您的情况下的文件所做的任何更改。然后，您应该将修订号提高一并构建 RPM。这将导致所有旧文件仍然存在的平滑升级路径，但您需要的更改已正确应用。我认为您应该查看[Fedora 的文档](https://docs.fedoraproject.org/en-US/quick-docs/creating-rpm-packages/index.html)，因为您似乎对 RPM 升级过程的工作方式感到困惑。

# javascript - 是否有任何用于优化 JS/CSS 文件的浏览器插件？

> ID：15498054
> 
> 赞同：0
> 
> 时间：2013-03-19T11:20:18.810
> 
> 标签：javascript, css, web-applications

我有一个 JavaScript 应用程序，它使用 ExtJS 框架。

这带来了两个问题。

**CSS**

当使用这个框架时，我最终得到了一个巨大的 CSS 文件，其中包含数百个未使用的 CSS deklarations。另外，由于我还使用了其他一些库，所以我得到了一些 CSS 文件，需要整合。我在浏览器的开发工具中看到了源列表，但我无法自动从中提取列表。

**JavaScript**

由于我使用的是 ExtJS4 的自动加载机制，我最终得到了我需要的源，但这些是多个文件。问题是，类的加载是如此动态（我也即时生成一些类名），以至于在点击整个文件后，dev-toos 的源列表是了解哪些文件真正加载的唯一可靠方法程序。

Sencha Cmd 根本无法解决这些问题。

**是否有任何浏览器插件可以让我获得所有来源（CSS/JS）的列表？**

和

**是否有一些浏览器插件会生成一个 CSS 文件，它只包含使用的 CSS 声明？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:30:23.027

对于 css，您可以使用这个 firefox 插件： [https ://addons.mozilla.org/en-US/firefox/addon/css-usage/](https://addons.mozilla.org/en-US/firefox/addon/css-usage/)

# c# - LINQ CustomDataRowEqualityComparer

> ID：15498058
> 
> 赞同：0
> 
> 时间：2013-03-19T11:20:27.653
> 
> 标签：c#, linq

我正在使用 a`CustomDataRowEqualityComparer()`来比较 2 个具有不同列数的数据表，但它们共享一些列：

```
var result= maindatatable.AsEnumerable().Except(dt.AsEnumerable(), new CustomDataRowEqualityComparer()).CopyToDataTable(); 
```

如何使结果数据表仅包含`dt`？中的列，在上面的上下文中

结果数据表的列`maindatatable`

这是我的比较类

```
public class CustomDataRowEqualityComparer : IEqualityComparer<DataRow>
    {
        public bool Equals(DataRow x, DataRow y)
        {
            return ((int)x["id"] == (int)y["id"]);
        }

        public int GetHashCode(DataRow obj)
        {
            return ((int)obj["id"]);
        }

    } 
```

`maindatatable`它返回不存在的所有行`dt`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:59:56.750

所以你不知道如何返回主表，其中的所有行**不在**.`dt``dt`

通常，您不能`maintable`从另一个中选择行`DataTable`。因此，您必须用这些行填充`dt`（用于`dt.Clone()`创建所有列）的新实例。

例如（假设表的列`dt`也存在`maintable`但反之亦然）：

```
var result = maindatatable.AsEnumerable()
    .Except(dt.AsEnumerable(), new CustomDataRowEqualityComparer());
var dt2 = dt.Clone();
foreach(DataRow mainRow in result)
{
    var newRow = dt2.Rows.Add();
    foreach (DataColumn col in dt2.Columns)
        newRow[col] = mainRow[col.ColumnName];
} 
```

# reporting-services - 在任一值上过滤数据集或什么都不做

> ID：15498065
> 
> 赞同：3
> 
> 时间：2013-03-19T11:20:42.867
> 
> 标签：reporting-services, filter, dataset

我有一个包含大量记录的数据集。我想包括所有那些 PType in @Ptype OR PType = '' 的记录

```
YEARMONTH --|-- PTYPE --|-- VALUE
201207 --|-- bike --|-- 600
201208 --|-- moped --|-- 0
201209 --|-- '' --|-- 0
201210 --|-- bike --|-- 600
201211 --|-- '' --|-- 0
201212 --|-- car--|-- 1200 
```

这是使用参数过滤的。过滤发生在对共享数据集的引用的报告中；

```
Expression:PType
Operator: in 
Value: @Ptype 
```

现在当@PType 包含 ('bike','moped')

**我得到这个结果集：**

```
YEARMONTH --|-- PTYPE --|-- VALUE
201207 --|-- bike --|-- 600
201208 --|-- moped --|-- 0
201210 --|-- bike --|-- 600 
```

**但我想**

```
YEARMONTH --|-- PTYPE --|-- VALUE
201207 --|-- bike --|-- 600
201208 --|-- moped --|-- 0
201209 --|-- '' --|-- 0
201210 --|-- bike --|-- 600
201211 --|-- '' --|-- 0 
```

所以我也想看看那些 Ptype 是 Empty/NULL/Nothing 的记录。这可能吗？

如果是这样，怎么做？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T14:21:16.827

您可以将过滤器表达式设置为：

```
=IIf(IsNothing(Fields!PTYPE.Value)
      or Fields!PTYPE.Value = ""
      or InStr(Join(Parameters!PType.Value, ","), Fields!PTYPE.Value) > 0
    , true
    , false) 
```

将此设置为布尔过滤器以显示表达式`= true`。

这将检查该字段是否存在于多值参数中，但还将包括`NULL`值和空字符串值。

对我来说没问题：

![在此处输入图像描述](../Images/9a9c15d41bb42df28265c290f5bbe782.png)

# c# - sql查询列出没有groupby/aggregate的列

> ID：15498067
> 
> 赞同：0
> 
> 时间：2013-03-19T11:20:48.660
> 
> 标签：c#, sql, sql-server, tsql

我的两张桌子是这样的

工作台

```
buyer   timeArrived               billed     paid

ABC     2013-02-08 10:30:00       60$        45$
CTS     2013-02-18 10:30:00       100$       80$
ABC     2012-03-11 10:30:00       60$        40$
MNT     2012-02-08 10:30:00       100$       60$
CTS     2012-03-11 10:30:00       60$        40$ 
```

购买者_t 表

```
buyer

ABC
MNT
CTS
GH 
```

为了在他“最后一次见到”时搜索买家，我从买家表查询到购物表，例如

```
SELECT
 v.buyer,
 MAX(s.timeArrived) AS LastSeen
 FROM buyer_t AS b
 INNER JOIN shop as s ON b.buyer = s.buyer
 where 
 l.buyer = 'ABC' or l.buyer = 'CTS'
 GROUP BY b.buyer; 
```

很高兴知道 ABC 和 CTS 何时购物，但我如何获得“计费”和“付费”列

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T11:23:57.393

试试这个：

```
SELECT
 b.buyer,
 s.*
FROM buyer_t AS b
INNER JOIN shop as s ON b.buyer = s.buyer
INNER JOIN
(
   SELECT buyer, MAX(timeArrived) AS LastSeen
   FROM shop
   GROUP BY buyer
) AS s2  ON s.buyer = s2.buyer
        AND s.timeArrived = s2.lastSeen
WHERE s.buyer IN ('ABC', 'CTS'); 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!3/dae0e/3)

这会给你：

```
| BUYER |                     TIMEARRIVED | BILLED | PAID |
-----------------------------------------------------------
|   ABC | February, 08 2013 10:30:00+0000 |    60$ |  45$ |
|   CTS | February, 18 2013 10:30:00+0000 |   100$ |  80$ | 
```

* * *

**或者：**既然您使用的是 SQL Server 2005，那么您可以使用[排名功能](http://msdn.microsoft.com/en-us/library/ms189798%28v=sql.90%29.aspx) `ROW_NUMBER() OVER(PARTITION BY ... ORDER BY ...)`来做到这一点：

```
WITH CTE
AS
(
    SELECT
      s.*,
      ROW_NUMBER() OVER(PARTITION BY s.buyer
                        ORDER BY timeArrived DESC) AS Rownumber
    FROM buyer_t AS b
    INNER JOIN shop as s ON b.buyer = s.buyer
    WHERE s.buyer IN ('ABC', 'CTS')
) 
SELECT Buyer, TimeArrived, Billed, Paid
FROM CTE 
WHERE Rownumber = 1; 
```

## [SQL Server 的 SQL Fiddle 演示](http://www.sqlfiddle.com/#!3/dae0e/8)

# iphone - 根据另一个选择器值更改选择器值

> ID：15498068
> 
> 赞同：0
> 
> 时间：2013-03-19T11:20:52.917
> 
> 标签：iphone, ios, objective-c, uipickerview

我正在使用两个 UIPickerView。首先，我需要在另一个选择器视图中更改值。

知道如何完成这项工作吗？

注意：我正在使用[CCPickerView](https://github.com/cbpowell/CPPickerView)。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T11:25:35.973

更新用于填充此方法内的第二个选择器的数组

```
 - (void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component
    {
      if(pickerView == picker1)
      {
        // Update the array
        pickerValuesArray2 = ...;
      }

    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T11:39:32.753

我在我的项目中做了同样的事情。这是解决方案。

```
- (NSInteger)numberOfItemsInPickerView:(CPPickerView *)pickerView
{
   if (pickerView.tag == 110)
   {
      return [picker_1_ary count];
   }
   else
   {
      return [picker_2_ary count];
   }
}

- (NSString *)pickerView:(CPPickerView *)pickerView titleForItem:(NSInteger)item
{
    if (thePickerView.tag == 110)
       return [picker_1_ary objectAtIndex:item];
    else
       return [picker_2_ary objectAtIndex:item];
}

- (void)pickerView:(CPPickerView *)pickerView didSelectItem:(NSInteger)item
{
   if (pickerView.tag == 110)
   {
       [picker_2 reloadAllComponents];
   }
   else
   {
       NSString *value = [[NSString alloc] initWithFormat:@"%@" , [picker_2_ary objectAtIndex:item]];
       NSLog(@"Selected value ::: %@", value);
   }
} 
```

希望对你有帮助。。谢谢。。

# c++ - _T 在 CString 中代表什么

> ID：15498070
> 
> 赞同：40
> 
> 时间：2013-03-19T11:20:55.847
> 
> 标签：c++, unicode, cstring

“T”在字符串中代表什么。例如 _T("Hello")。我在需要 unicode 支持的项目中看到了这一点。它实际上告诉处理器什么

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2013-03-19T11:24:40.780

`_T`代表“文本”。当且仅当您使用 Unicode 支持编译源时，它才会将您的文字转换为 Unicode 宽字符文字。请参阅[http://msdn.microsoft.com/en-us/library/c426s321.aspx](http://msdn.microsoft.com/en-us/library/c426s321.aspx)。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-03-19T11:24:50.410

它实际上用于需要 Unicode**和**ANSI 支持的项目。它告诉编译器根据预编译器定义的值将字符串文字编译为 Unicode 或 ANSI。

为什么要这样做是另一回事。如果您想自己支持 Unicode，那么只需编写 Unicode，在这种情况下`L"Hello"`。`_T()`当您需要支持 Windows NT 及更高版本（支持 Unicode）和 Windows 9x/ME（不支持）时，添加了该宏。如今，使用这些宏的任何代码都已过时，因为所有现代 Windows 版本都是基于 Unicode 的。

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2013-03-19T11:23:07.707

来自 MSDN：

> 使用`_T`宏对文字字符串进行一般编码，因此它们在 Unicode 下编译为 Unicode 字符串或在没有 Unicode 的情况下编译为 ANSI 字符串（包括 MBCS）

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2019-10-18T16:32:04.123

它代表文本。您可以在使用 IDE 工具时查看定义：

```
#define _TEXT(x)    __T(x) 
```

但我想将其记为“可变形”或“swi-T-ch”：

```
L"Hello"  //change "Hello" string into UNICODE mode, in any case;

_T("Hello") //if defined UNICODE, change "Hello" into UNICODE; otherwise, keep it in ANSI. 
```

# jquery - 使用 jQuery 同时更改图像和文本 css 属性

> ID：15498072
> 
> 赞同：0
> 
> 时间：2013-03-19T11:20:58.540
> 
> 标签：jquery, html, css, slideshow

我有一些图像和相应的图像名称。我想在某个时间间隔内同时更改图像和相应的图像名称（css 属性）（图像的淡入/淡出）。我的html代码：

```
<div id="s_links">
<ul class="s_list">
    <li class="home_p"><a class="lists1">img1 name</a></li>
    <li class="home_p"><a class="lists2">img2 name</a></li>
    <li class="home_p"><a class="lists3">img3 name</a></li>
    <li class="home_p"><a class="lists4">img4 name</a></li>
    <li class="home_p"><a class="lists5">img5 name!</a></li>
</ul>
</div>

<div id="slideshow">
   <img  class="one" src="img1">
   <img  class="two" src="img2">
   <img  class="three" src="img3">
   <img  class="four" src="img4">
   <img  class="five" src="img5">
</div> 
```

例如，如果当前图像是 'img3' ，那么 css 应该是：-

```
jQuery(".lists3").css({
    "background-color": "#677FC6",
    "border": "1px solid #677FC6",
    "border-radius": "6px"
});
jQuery(".lists1,.lists2, .lists4,.lists5").css({
    "background": "none",
    "border": "none",
    "color": "#000"
}); 
```

请帮助我...谢谢

我尝试使用此代码，图像工作正常，但 css 无法更改

```
$(function() {
    var current = 0;
$imgs = jQuery('#header .abc71');
    imgAmount = $imgs.length;
    $($imgs.css('position', 'absolute').hide().get(0)).show();
    window.setInterval(swapImages, 4000);

    function swapImages() {
        var $currentImg = $($imgs[current]);
        if(current == imgAmount-1) current = -1;
        var $nextImg = $($imgs[++current]),
            speed = 1500;
        // animation speed should be the same for both images so we have a smooth change
        $currentImg.fadeOut(speed);
        $nextImg.fadeIn(speed);
    }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:42:17.087

看到这个：[样本](http://jsfiddle.net/UYHDc/3/)

```
function swapImages() {
  var $currentImg = $($imgs[current]);
  if(current == imgAmount-1) current = -1;
   var $nextImg = $($imgs[++current]),
    speed = 1500;
   // animation speed should be the same for both images so we have a smooth change
   $currentImg.fadeOut(speed);
   $nextImg.fadeIn(speed);
   $("[class^=lists]").css({"background":"none","border":"none","color":"#000"});
   $(".lists" + ($nextImg.index()+1)).css({"background-color":"#677FC6","border":"1px solid #677FC6","border-radius":"6px"});
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:35:21.573

为什么不尝试以下方法：

*   创建一个您将使用 setTimeout 定期触发的函数
*   在这个函数中，你将有一个整数变量，你将代表当前图像的索引
*   您的函数将淡出当前图像并更新其名称的 CSS 属性（您当前的代码没有显示）
*   这个变量将在每次调用函数时递增（如果太高则设置为零）
*   然后，您的函数将淡入新的当前图像并更新其名称的 CSS 属性（您当前的代码也没有显示）
*   你的功能结束

# wix - 如何使用预处理器变量管理 Bundle 的代码？

> ID：15498074
> 
> 赞同：5
> 
> 时间：2013-03-19T11:21:06.567
> 
> 标签：wix, burn, votive

我在 Visual Studio 中的 bundle-project 上创建了几个配置，我想定义每个配置中必须包含哪些代码片段。我的目标是获得几个引导程序：其中一些将包含先决条件，而另一些则不包含。我试过类似的东西：

```
<PackageGroup
       Id="Prerequisites">
      <?if $(Configuration)='Release'?>
      <ExePackage
        Id="Netfx4Client"
        Cache="yes"
        Compressed="yes"
        PerMachine="yes"
        Permanent="yes"
        Vital="yes"
        SourceFile=".\SupportFiles\dotNetFx40_Client_x86_x64.exe"
        DetectCondition="NETFRAMEWORK40CLIENT OR (VersionNT64 AND NETFRAMEWORK40CLIENTX64)"
        InstallCondition="(v4.0.30319 > NETFRAMEWORK40CLIENT OR NOT NETFRAMEWORK40CLIENT)  OR (VersionNT64 AND v4.0.30319 > NETFRAMEWORK40CLIENTX64 OR NOT NETFRAMEWORK40CLIENTX64)"
        InstallCommand="/q /norestart  /log [TempFolder]\dotnetframework4.log"/>
<?endif?> 
```

但当然这是不正确的。是否可以根据任何变量来管理哪些代码片段将包含在 Bundle 的包链中？谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T14:06:42.207

是的，您首先需要将 MSBuild 属性传递给编译器的预处理器。在您的 .wixproj 中，使用该`DefineConstants`属性通过该属性隧道。Votive 提供的默认 .wixproj 默认情况下会执行此操作，`Configuration`但对于其他属性，它看起来像这样：

```
<PropertyGroup>
   <DefineConstants>$(DefineConstants);MyNewVariable=$(MSBuildPropertyName)</DefineConstants>
</PropertyGroup> 
```

现在 MSBuild 属性是一个预处理器变量，您可以执行以下操作：

```
<?if $(var.Configuration)="Release" ?>
    Stuff to conditionally compile out
<?endif?> 
```

基本上，您上面的示例是正确的，只是您缺少`var.`预处理器变量名称的一部分。[文档中有关预处理器语法的](http://wix.sourceforge.net/manual-wix3/preprocessor.htm)更多详细信息。

# c# - 具有显示模式的 mvc 输出缓存

> ID：15498075
> 
> 赞同：0
> 
> 时间：2013-03-19T11:21:06.797
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-4

我有一个带有 nuget 包 Install-Package jQuery.Mobile.MVC 的 mvc4 网站，主页的代码是：

```
[OutputCache(CacheProfile = "SiteCache", VaryByParam = "none")]
public ActionResult Index()
{
    return View();
} 
```

我看到一个问题，有时我从桌面浏览器转到移动设备的布局。是否是用户从移动设备输入并且 IIS 为移动页面缓存并在它作为移动布局之后为用户提供服务？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:27:16.400

是的，问题是有移动设备的人在您之前访问了该网站。它为其他人缓存 IIS 中的操作/视图。它是服务器缓存，而不是客户端。您可以使用 Guid 参数并为其缓存，以便客户端会话缓存每个连接的客户端的索引。

# extjs - ExtJS 4：菜单问题中的下拉按钮

> ID：15498081
> 
> 赞同：1
> 
> 时间：2013-03-19T11:21:22.917
> 
> 标签：extjs, extjs4

我在下拉按钮菜单中有一些元素（第二个下拉按钮）的面板。当我单击第二个下拉按钮时，主菜单正在关闭。这是我的代码：

创建第一级下拉按钮

```
 Ext.onReady(function () {
        Ext.create('Ext.Button', {
            text: 'Click me',
            margin: 10,
            renderTo: Ext.getBody(),
            menu: getMenu()
        });
    }); 
```

一级菜单

```
 function getMenu() {
        return Ext.create('Ext.menu.Menu', {
            plain: true,
            items: [
                Ext.create('Ext.panel.Panel', {
                    width: 500,
                    height: 100,
                    bodyPadding: 5,
                    items: [
                        getFirstElement(),
                        getSecondElement()
                    ]
                })
            ]
        });
    } 
```

创建一些元素

```
 function getFirstElement() {
        return Ext.create('Ext.form.field.Date', {
            fieldLabel: 'Date',
            value: null,
            labelWidth: 50,
            width: 150,
            padding: 5
        });
    } 
```

创建第二级下拉按钮

```
 function getSecondElement() {
        return Ext.create('Ext.Button', {
            text: 'Select',
            menu: Ext.create('Ext.menu.Menu', {
                plain: true,
                items: [
                    Ext.create('Ext.panel.Panel', {
                        width: 500,
                        height: 100,
                        bodyPadding: 5,
                        items: [
                            {
                                html: '1'
                            },
                            {
                                html: '2'
                            }
                        ]
                    })
                ]
            })
        });
    } 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T20:42:05.063

菜单上有一个名为`allowOtherMenus`. 将其设置为 true 将允许其他菜单与设置了配置选项的菜单同时显示。

因此，您的 getSecondElement 函数变为：

```
function getSecondElement() {
        return Ext.create('Ext.Button', {
            text: 'Select',
            menu: Ext.create('Ext.menu.Menu', {                
                allowOtherMenus: true,
                plain: true,
                items: [
                    Ext.create('Ext.panel.Panel', {
                        width: 500,
                        height: 100,
                        bodyPadding: 5,
                        items: [
                            {
                                html: '1'
                            },
                            {
                                html: '2'
                            }
                        ]
                    })
                ]
            })
        });
    } 
```

您可以在此 JsFiddle 中找到使用多个菜单的示例：http: [//jsfiddle.net/SEVCe/](http://jsfiddle.net/SEVCe/)

有关该属性的文档可以在 Sencha[文档](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.menu.Menu-cfg-allowOtherMenus)中找到。

# android - 将文本视图添加到列表视图

> ID：15498090
> 
> 赞同：0
> 
> 时间：2013-03-19T11:21:50.800
> 
> 标签：android

朋友们。我正在做一个安卓应用程序。在该应用程序中，我想将**列表项的总数**显示为最后一列。所以我的问题是“是否可以`TextView`在`ListView`最后一列中添加一个。？” 如下图。

![在此处输入图像描述](../Images/2cbe9c662d16e1a519e429c4f1aea18c.png)

我通过互联网朋友搜索了很多。但解决方案主要是结合*两个* `ListView`并将视图*动态*添加到`ListView`. 这就是为什么我需要你的帮助朋友。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:29:32.560

用这个 ：

```
list.addFooterView(textView); 
```

[列表显示](http://developer.android.com/reference/android/widget/ListView.html#addFooterView%28android.view.View%29)

希望这对您有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:29:49.040

您可以使用

```
list.addFooterView(v). 
```

确保在将适配器设置到列表之前添加视图。有关更多信息[，请查看此](http://developer.android.com/reference/android/widget/ListView.html#addFooterView%28android.view.View%29)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T11:35:06.327

试试这个...

```
 ListView v = getListView();   
    TextView tv=new TextView(this);
    tv.setText("total number of items: 114");
    v.addFooterView(tv); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T11:27:15.600

我认为一个简单的解决方案是在设置适配器之前计算列表项的数量，`yourTable.length();`

然后，也许您可​​以在此表中添加一行，其中包含“项目总数 xxx”，而不是日期和空标题。

# ruby - Ruby Grape JSON-over-HTTP API，自定义 JSON 表示

> ID：15498093
> 
> 赞同：10
> 
> 时间：2013-03-19T11:22:06.053
> 
> 标签：ruby, grape, jsend

我有一个`Grape::API`作为机架服务的小型原型子类，`Grape::Entity`用于展示我的应用程序的内部对象。

我喜欢`Grape::Entity`DSL，但我很难找出我应该如何超越默认 JSON 表示，这对于我们的目的来说太轻量级了。我被要求以“jsend 或类似”格式生成输出：http: [//labs.omniti.com/labs/jsend](http://labs.omniti.com/labs/jsend)

我完全不确定什么性质的变化最符合 Grape 框架（我想要一条阻力最小的路径）。我是否应该创建一个自定义的 Grape 格式化程序（我不知道该怎么做），新的机架中间件（我*这样*做是为了通过 SysLog 记录 API 输入/输出 - 但格式化似乎很糟糕，因为我需要解析正文从 JSON 返回以添加容器级别），还是从`Grape::Entity`例如 RABL 更改？

示例代码（“app.rb”）

```
require "grape"
require "grape-entity"

class Thing
  def initialize llama_name
    @llama_name = llama_name
  end
  attr_reader :llama_name
end

class ThingPresenter < Grape::Entity
  expose :llama_name
end

class MainService < Grape::API
  prefix      'api'
  version     'v2'
  format      :json
  rescue_from :all

  resource :thing do
    get do
      thing = Thing.new 'Henry'
      present thing, :with => ThingPresenter
    end
  end
end 
```

备份文件（“config.ru”）

```
require File.join(File.dirname(__FILE__), "app")
run MainService 
```

我启动它：

```
rackup -p 8090 
```

并称之为：

```
curl http://127.0.0.1:8090/api/v2/thing
{"llama_name":"Henry"} 
```

我想看到的：

```
curl http://127.0.0.1:8090/api/v2/thing
{"status":"success","data":{"llama_name":"Henry"}} 
```

显然我可以做类似的事情

```
 resource :thing do
    get do
      thing = Thing.new 'Henry'
      { :status => "success", :data => present( thing, :with => ThingPresenter ) }
    end
  end 
```

在每条路线上 - 但这似乎不是很干燥。当这个 API 变得更大并由整个团队维护时，我正在寻找更清洁的东西，并且更不容易出现剪切和粘贴错误

* * *

奇怪的是，当我尝试`{ :status => "success", :data => present( thing, :with => ThingPresenter ) }`使用时`grape 0.3.2`，我无法让它工作。API 只返回了来自的值`present`——这里发生的事情比我最初想象的要多。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-19T14:55:04.043

通过阅读 Grape 文档、谷歌搜索和阅读 github 上的一些拉取请求，这就是我最终得到的结果。基本上，在声明`:json`格式之后（以获取所有其他默认的好东西），我用添加了 jsend 包装层的新格式来覆盖输出格式。与尝试包装 Grape 的`#present`帮助程序（不能很好地覆盖错误）或机架中间件解决方案（需要反序列化和重新序列化 JSON，并且需要大量额外的代码来覆盖错误）相比，这对代码来说要干净得多.

```
require "grape"
require "grape-entity"
require "json"

module JSendSuccessFormatter
  def self.call object, env
    { :status => 'success', :data => object }.to_json
  end
end

module JSendErrorFormatter
  def self.call message, backtrace, options, env
    # This uses convention that a error! with a Hash param is a jsend "fail", otherwise we present an "error"
    if message.is_a?(Hash)
      { :status => 'fail', :data => message }.to_json
    else
      { :status => 'error', :message => message }.to_json
    end
  end
end

class Thing
  def initialize llama_name
    @llama_name = llama_name
  end
  attr_reader :llama_name
end

class ThingPresenter < Grape::Entity
  expose :llama_name
end

class MainService < Grape::API
  prefix      'api'
  version     'v2'
  format      :json
  rescue_from :all

  formatter :json, JSendSuccessFormatter
  error_formatter :json, JSendErrorFormatter

  resource :thing do
    get do
      thing = Thing.new 'Henry'
      present thing, :with => ThingPresenter
    end
  end

  resource :borked do
    get do
      error! "You broke it! Yes, you!", 403
    end
  end
end 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-05-09T20:24:02.083

我相信这可以实现您在使用时的目标`grape`

```
require "grape"
require "grape-entity"

class Thing
  def initialize llama_name
    @llama_name = llama_name
  end
  attr_reader :llama_name
end

class ThingPresenter < Grape::Entity
  expose :llama_name
end

class MainService < Grape::API
  prefix      'api'
  version     'v2'
  format      :json
  rescue_from :all

  resource :thing do
    get do
      thing = Thing.new 'Henry'
      present :status, 'success'
      present :data, thing, :with => ThingPresenter
    end
  end
end 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-12-05T23:07:13.600

我正在使用@Neil-Slater 的解决方案和我认为其他人可能会觉得有用的一项额外修改。

只有 a`rescue_from :all`常见 404 错误的结果返回为`403 Forbidden`. 此外，当它应该是“失败”时，状态是“错误”。为了解决这些问题，我为 RecordNotFound 添​​加了一个救援处理程序：

```
rescue_from ActiveRecord::RecordNotFound do |e|
  Rails.logger.info e.message
  error = JSendErrorFormatter.call({message: e.message}, e.backtrace, {}, nil)
  Rack::Response.new(error, 404,
                     { "Content-type" => "text/error" }).finish
end 
```

*注意*- 我无法找出访问 rack env 的正确方法，因此您可以看到我将它作为 nil 值传入（这没关系，因为错误处理程序不使用该值）。

我想您可以进一步扩展此方法以进一步完善响应代码处理。对我来说，棘手的部分是我需要一个`Rack::Response`可以将格式化的错误消息传递到的对象。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-19T14:01:44.490

您可以为此使用中间件层。Grape 有一个`Middleware::Base`可用于此目的的模块。我不太漂亮的实现：

```
class StatusAdder < Grape::Middleware::Base

  def initialize(app)
    @app = app
  end

  def call(env)
    status, headers, response = @app.call
    response_hash = JSON.parse response.body.first
    body = { :status => "success", :data => response_hash } if status == 200

    response_string = body.to_json
    headers['Content-Length'] = response_string.length.to_s
    [status, headers, [response_string]]
  end
end 
```

在`MainService`课堂上，您将添加一行：`use ::StatusAdder`

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-10-01T02:09:53.297

截至今天，我相信用葡萄做到这一点的正确方法是：

```
 rescue_from Grape::Exceptions::ValidationErrors do |e|
        response = 
        {
            'status' => 'fail',
            'data' => {
                'status' => e.status,
                'message' => e.message,
                'errors' => e.errors 
            }
        }
        Rack::Response.new(response.to_json, e.status)
    end 
```

# java - JAVA - unMarshaller 不返回相同的对象 - 代码示例

> ID：15498099
> 
> 赞同：1
> 
> 时间：2013-03-19T11:22:25.810
> 
> 标签：java, jaxb, marshalling, unmarshalling

我正在一个简单的 java 类上尝试 Marshaller 和 unMarshaller 的测试代码。

我创建我的对象并设置它的 ID。遇到的问题是在将其解组回java对象后，ID变量不一样......

我的问题是：

1.  为什么这不起作用并且两个对象的 ID 不同？
2.  我的 java 类必须为所有变量设置一个方法？还是 Marshaller 使用不同的方式来更新类变量？

这是我的代码片段：

```
package test;

import java.io.StringReader;
import java.io.StringWriter;
import javax.xml.bind.JAXBContext;
import javax.xml.bind.JAXBException;
import javax.xml.bind.Marshaller;
import javax.xml.bind.Unmarshaller;
import javax.xml.bind.annotation.XmlRootElement;
import org.junit.Test;

public class test {

    @Test
    public void marshallingTest() throws JAXBException{

        // Create a JAXB context passing in the class of the object we want to marshal/unmarshal
        final JAXBContext context = JAXBContext.newInstance(JavaObject.class);

        // Create the marshaller
        final Marshaller marshaller = context.createMarshaller();

        // Create a stringWriter to hold the XML
        final StringWriter stringWriter = new StringWriter();

        // Create my java object
        final JavaObject javaObject = new JavaObject();

        // set the objects ID
        javaObject.setId(90210);

        // Marshal the javaObject and write the XML to the stringWriter
        marshaller.marshal(javaObject, stringWriter);

        // Print out the contents of the stringWriter
        System.out.println("First object :");
        System.out.println(javaObject.toString());

        // Create the unmarshaller
        final Unmarshaller unmarshaller = context.createUnmarshaller();

        // Unmarshal the XML 
        final JavaObject javaObject2 = (JavaObject) unmarshaller.unmarshal(new StringReader(stringWriter.toString()));

        //print the new object
        System.out.println("Second object after unmarshaller :");
        System.out.println(javaObject2.toString());
    }

    @XmlRootElement
    private static class JavaObject {
        private int id;

        public JavaObject() {
        }

        private int getId() {
            return id;
        }
        private void setId(int id) {
            this.id = id;
        }
        @Override
        public String toString() {
            return "id = "+id;
        }
    }
} 
```

这是输出：

```
First object :
id = 90210
Second object after unmarshaller :
id = 0 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T12:05:54.580

默认情况下，JAXB (JSR-222) 实现会将所有公共字段和属性视为已映射。您的访问器（get/set）方法应该是`public`，您目前将它们作为`private`. 或者你可以`@XmlAccessorType(XmlAccessType.FIELD)`在你的类上指定，这告诉 JAXB 映射可能是私有的字段。

**了解更多信息**

*   [http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html](http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html)
*   [http://blog.bdoughan.com/2012/07/jaxb-no-annotations-required.html](http://blog.bdoughan.com/2012/07/jaxb-no-annotations-required.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:23:57.423

试试这个：

```
@XmlElement    
private void setId(int id) {
        this.id = id;
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T11:26:48.543

```
 @XmlRootElement 
    private static class JavaObject {
         @XmlElement 
        private int id; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T11:38:14.047

您需要指定哪些字段是 xml 结构的一部分。

您可以`@XmlElement`按照先前答案的建议添加或使用`@XmlACcessorType`注释：

```
 @XmlRootElement
  @XmlAccessorType(XmlAccessType.FIELD)
  private static class JavaObject {
  } 
```

默认情况下，这将访问您班级的所有字段

# javascript - 是否有充分的理由使用标记语句？

> ID：15498103
> 
> 赞同：3
> 
> 时间：2013-03-19T11:22:45.830
> 
> 标签：javascript

在网站[Mozilla](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/label)说：

**避免使用标签**

> 标签在 JavaScript 中不是很常用，因为它们使程序更难阅读和理解。尽可能避免使用标签，并且根据具体情况，更喜欢调用函数或抛出错误。

是否有充分的理由使用标签？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:41:33.087

您共享的链接包含一个通常被视为原因的用例。

```
var allPass = true;
var i, j;

top:
for (i = 0; items.length; i++)
  for (j = 0; j < tests.length; i++)
    if (!tests[j].pass(items[i])){
      allPass = false;
      break top;
    } 
```

基本上，您不需要使用额外的标志变量来提前跳出嵌套循环。

如果您想查看它的实际效果，请在浏览器的 JavaScript 控制台中运行以下命令。

```
top:
for (i = 0; i < 100; ++i) {
    console.log("i" + i);
    for (j = 0; j < 100; ++j) {
        console.log("j" + j);
        break top;
    }
} 
```

预期输出将是：

```
i0
j0 
```

# c# - C# 范围和 Visual Studio 调试

> ID：15498105
> 
> 赞同：0
> 
> 时间：2013-03-19T11:22:50.733
> 
> 标签：c#, visual-studio-2010, debugging, scope

在使用 VS2010 调试 C# 代码时，我测试了我无法解释的奇怪行为。使用下面非常简化的代码：

```
public void Go()
    {
        var test = new Random().Next(10) % 2 == 0; // Simulate various cases

        var qry = new[] { "bla", "ble", "bli", }.ToList(); // Get whole list        

        //string myString; // If declare out of scope OK
        if (test) // BreakPoint here and dragNDrop on next line
        {
            var myString = "bli"; // declare and instanciate in scope => NullReferenceException 

            qry = qry.Where( item => item == myString ).ToList(); // filter the list
        }
    } 
```

当我尝试进入 if 范围而不用鼠标测试测试值时，myString 无法实例化并抛出 NullReferenceException。要获得“功能”代码，我只需将 myString 声明在范围之外。我不明白为什么 VS 不能让我跳过 if 测试，如果有人能向我解释这个奇怪的异常，我会很高兴。谢谢

编辑：在比较两个 IL 代码（取决于 myString 声明的位置）之后，我可以看到 VS“不能”在生成的隐藏类上执行指令*newobj*并且字符串值的分配是在空值上进行的。在“超出范围”声明版本中，*newobj*指令是从方法的开头开始的。

ILCode（范围内）：

```
IL_0041:  brtrue.s   IL_006e  // if (test)
IL_0043:  newobj     instance void ConsoleApplication5.BreakPointTest/'<>c__DisplayClass1'::.ctor()
IL_0048:  stloc.2
IL_0049:  nop
IL_004a:  ldloc.2    
IL_004b:  ldstr      "bli"
IL_0050:  stfld      string ConsoleApplication5.BreakPointTest/'<>c__DisplayClass1'::myString 
```

我认为指针的跳转在 nop/ldloc.2 指令上完成，并且“忘记”了 c__DisplayClass1 的实例化。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:39:22.347

这看起来像一个调试器问题。但请注意，生成的代码与您编写的代码完全不同。您在 lambda 表达式中使用 myString，因此编译器创建了一个隐藏类来存储对 myString 的引用。当您拖动指令指针时，可能会跳过此类的必要初始化，因为它们未在您的源代码中表示。

作为一个想法，尝试在“if”之后的左括号上拖动指令指针。

# authentication - Dart 登录/注销示例

> ID：15498107
> 
> 赞同：8
> 
> 时间：2013-03-19T11:22:56.300
> 
> 标签：authentication, dart, dart-html

我试图找到一个使用 Dart 进行用户身份验证的简单示例。到目前为止，我发现的最接近的是[https://github.com/dart-lang/bleeding_edge/blob/master/dart/tests/standalone/io/http_auth_test.dart](https://github.com/dart-lang/bleeding_edge/blob/master/dart/tests/standalone/io/http_auth_test.dart)。任何人都可以指导或向我提供使用 Dart 的服务器端身份验证的工作示例。提前致谢。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-20T00:48:29.453

身份验证是一个庞大的主题，您并没有具体说明要实现的目标，但让我指导您为您的 Dart 应用程序构建 Facebook 身份验证，因为我认为这是最简单的开始。为什么？因为我们不需要讨论您可能正在使用的每个可能的数据库，或者您如何设置数据库结构、模型等以及如何处理安全性（生成令牌等）。

有了这些知识，您就可以实现其他服务身份验证（Google+、Twitter），如果您愿意，最终还可以实现自己的身份验证。

因此，首先，通过按*Create New App在*[Facebook 应用程序页面](https://developers.facebook.com/apps)上注册一个应用程序。你应该得到这个页面：

 *![在此处输入图像描述](../Images/9844208a3ad2b7cf6acca022f486bd67.png)

（一定要填写App domain和site URL）

然后在某处（例如`config.dart`）指定一些配置文件，您将在需要的任何地方导入：

```
var config = {
  'authentication': {
    'facebook': {
      'appId': '...',
      'appSecret': '...',
      'url': 'http://test.com/login/facebook'
    }
  },
}; 
```

然后你需要在某处创建一个链接。如果你使用的是 Web UI，你的 Dart 脚本可以首先导入配置并创建一个登录 URL：

```
import 'config.dart';

main() {
  var fbConfig = config['authentication']['facebook'];
  var appId = fbConfig['appId'];
  var url = fbConfig['url'];

  var loginLinkUrl = 'https://www.facebook.com/dialog/oauth/?client_id=$appId&redirect_uri=$url&state=TEST_TOKEN&scope=email';
} 
```

现在在您的 HTML 上指定链接：

```
<a href="{{ loginLinkUrl }}">Login with Facebook</a> 
```

此时，或许可以阅读 Facebook 开发者指南：[https ://developers.facebook.com/docs/reference/dialogs/oauth/](https://developers.facebook.com/docs/reference/dialogs/oauth/)

Facebook 登录对话框会将用户带到我们在 config ( `/login/facebook`) 中指定的 URL，然后我们的应用程序需要响应它。我让你随心所欲地处理路由，但本质上是服务器在收到`/login/facebook`请求时，首先对一些属性进行编码：

```
var code = uri.encodeUriComponent(request.queryParameters['code']);
var appId = uri.encodeUriComponent(config['authentication']['facebook']['appId']);
var appSecret = uri.encodeUriComponent(config['authentication']['facebook']['appSecret']);
var url = uri.encodeUriComponent(config['authentication']['facebook']['url']); 
```

你需要`import 'dart:uri' as uri`先。

在此之后，一些向 Facebook 发出 API 请求的代码：

```
http.read('https://graph.facebook.com/oauth/access_token?client_id=$appId&redirect_uri=$url&client_secret=$appSecret&code=$code').then((contents) {
  // "contents" looks like: access_token=USER_ACCESS_TOKEN&expires=NUMBER_OF_SECONDS_UNTIL_TOKEN_EXPIRES
  var parameters = QueryString.parse('?$contents');
  var accessToken = parameters['access_token'];

  // Try to gather user info.
  http.read('https://graph.facebook.com/me?access_token=$accessToken').then((contents) {
    var user = JSON.parse(contents);

    print(user); // Logged in as this user.
  });
}); 
```

我在这里使用[HTTP](http://pub.dartlang.org/packages/http)包和[QueryString](http://pub.dartlang.org/packages/query_string)包。

在 API 请求之后，您手头就有用户信息。现在您可以执行诸如将经过身份验证的用户存储在会话中的操作。[`HttpRequest.session`](http://api.dartlang.org/docs/bleeding_edge/dart_io/HttpRequest.html#session)您可以为此目的使用例如。要注销，只需从会话中删除数据。

这大致是您启动 Facebook 身份验证工作所需执行的过程。您可以期待许多其他网站的类似工作流程。您可能还需要/使用该[`OAuth2`](http://pub.dartlang.org/packages/oauth2)软件包。

所以总结一下：

*   创建 Facebook 开发人员资料和具有正确 URL 的应用程序。
*   在一些配置中写下应用程序 ID 等。
*   创建正确的登录链接。
*   将服务器端代码写入 Facebook 登录引发用户的位置。
*   在服务器中编写一些 API 调用以检索经过身份验证的用户。

玩得开心！*

# azure - Sitecore Azure 部署自动化

> ID：15498110
> 
> 赞同：1
> 
> 时间：2013-03-19T11:22:59.683
> 
> 标签：azure, deployment, sitecore, sitecore6, sitecore-azure

我配置了 TFS CI，TDS 将 Sitecore 部署到本地开发和测试环境，一切都很好。

最终，我们的 Sitecore 将托管在 Azure 上。我知道 Sitecore 提供了 Azure 部署 2.0 工具。从[我阅读和看到](http://www.sitecore.net/Community/Technical-Blogs/Jakob-Leander/Posts/2013/01/Why-we-love-Sitecore-on-Azure.aspx)的内容来看，它看起来像是一个手动过程。

有人可以帮助我是否可以以某种方式自动化 sitecore azure 部署？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-31T18:37:25.570

查看 PowerCore 中内置的 PowerShell 和 WinRM 脚本功能。您可以了解在使用 PowerShell 和 WinRM博客文章[将 Sitecore 解决方案推送到服务器中解决的部署方案。](http://sitecoresnippets.blogspot.co.uk/2013/03/push-sitecore-solutions-to-servers-with.html)[您可以在GitHub 上](https://github.com/adoprog/Sitecore-PowerCore)找到 PowerCore 的代码。

# java - 在java中加载属性文件

> ID：15498119
> 
> 赞同：1
> 
> 时间：2013-03-19T11:23:33.313
> 
> 标签：java, properties

我无法使用以下代码段加载属性文件

```
 URL configURL = null;
    URLConnection configURLConn = null;
    InputStream configInputStream = null;
    currConfigProperties = new Properties();
    try {
        String configPropertiesFile = getParameter("propertiesFile");
        if (configPropertiesFile == null) {
            configPropertiesFile = "com/abc/applet/Configuration.properties";
        }
        System.out.println("configPropertiesFile :"+configPropertiesFile);
        configURL = new URL(getCodeBase(), configPropertiesFile);
        configURLConn = configURL.openConnection();
        configInputStream = configURLConn.getInputStream();
        currConfigProperties.load(configInputStream);
    } catch (MalformedURLException e) {
        System.out.println(
            "Creating configURL: " + e);
    } catch (IOException e) {
        System.out.println(
            "IOException opening configURLConn: "
                + e);
    } 
```

获取 java.io.FileNotFoundException 异常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:27:23.390

您可以通过这种方式在 java 类中加载属性文件：-

```
InputStream fileStream = new FileInputStream(configPropertiesFile);
currConfigProperties.load(fileStream); 
```

另外，将您的属性文件路径更改为`src/com/abc/applet/Configuration.properties`

您也可以使用它从类路径中加载它：-

```
currConfigProperties.load(this.getClass().getResourceAsStream(configPropertiesFile)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:34:13.520

如果您的属性文件与您的班级位于同一位置：

```
Properties properties = new Properties();
try {
    properties.load(getClass().getResourceAsStream("properties.properties"));
} catch (IOException e) { /*File Not Found or something like this*/} 
```

我的情况是当您的属性位于类文件的根文件夹中时：

```
Properties properties = new Properties();
try {
    properties.load(getClass().getClassLoader().getResourceAsStream("properties.properties"));
} catch (IOException e) { /*File Not Found or something like this*/} 
```

您也可以将 pass 传递给您的属性文件，`-DmyPropertiesFile=./../../properties.properties`然后获取它`System.getProperty("myPropertiesFile")`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T11:30:11.003

从 OP 的评论加载来自类路径。所以需要用到ClassLoader，

```
public void load() {
    getClass().getResourceAsStream("my/resource");
}

public static void loadStatic() {
    Thread.currentThread().getContextClassLoader().getResourceAsStream("my/resource");
} 
```

第一个方法需要在实例上下文中，第二个将在静态上下文中工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-03-19T03:29:24.290

你也可以试试这个。

```
public static void loadPropertiesToMemory() {
    Properties prop = new Properties();
    InputStream input = null;
    String filePathPropFile = "configuration.properties";
    try {
        input = App.class.getClassLoader().getResourceAsStream(filePathPropFile);
        prop.load(input);
    } catch (IOException ex) {
        ex.printStackTrace();
    } 
} 
```

`App`是您实现上述方法的类。

# javascript - 限制此测验时间

> ID：15498120
> 
> 赞同：0
> 
> 时间：2013-03-19T11:23:39.707
> 
> 标签：javascript, jquery

我正在做一个交互式测验，我遇到了一个问题。我需要为其添加某种时间限制（假设为 5s 用于测试目的），这样当时间用完时，无论用户处于哪个阶段，测验都应该跳到结果部分并将所有未回答的问题计为错误的。

这是我的代码：

```
jQuery(function(){
    var tourismQuiz = {
        answers: { q1: 'd', q2: 'd', q3: 'a', q4: 'c', q5: 'a', q6: 'd', q7: 'd', q8: 'a', q9: 'c', q10: 'a' },
        questionLenght: 10,
        checkAnswers: function() {
            var arr = this.answers;
            var ans = this.userAnswers;
            var resultArr = []
            for (var p in ans) {
                var x = parseInt(p) + 1;
                var key = 'q' + x;
                var flag = false;
                if (ans[p] == 'q' + x + '-' + arr[key]) {
                    flag = true;
                }
                else {
                    flag = false;
                }
                resultArr.push(flag);
            }
            return resultArr;
        },
        init: function(){
            jQuery('.btnNext').click(function(){
                if (jQuery('input[type=radio]:checked:visible').length == 0) {

                    return false;
                }
                jQuery(this).parents('.questionContainer').fadeOut(500, function(){
                    jQuery(this).next().fadeIn(500);
                });
                var el = jQuery('#progress');
                el.width(el.width() + 60 + 'px');
            });
            jQuery('.btnPrev').click(function(){
                jQuery(this).parents('.questionContainer').fadeOut(500, function(){
                    jQuery(this).prev().fadeIn(500)
                });
                var el = jQuery('#progress');
                el.width(el.width() - 60 + 'px');
            })
            jQuery('.btnShowResult').click(function(){
                var arr = jQuery('input[type=radio]:checked');
                var ans = tourismQuiz.userAnswers = [];
                for (var i = 0, ii = arr.length; i < ii; i++) {
                    ans.push(arr[i].getAttribute('id'))
                }
            })
            jQuery('.btnShowResult').click(function(){
                jQuery('#progress').width(300);
                jQuery('#progressKeeper').hide();
                var results = tourismQuiz.checkAnswers();
                var resultSet = '';
                var trueCount = 0;
                for (var i = 0, ii = results.length; i < ii; i++){
                    if (results[i] == true) {
                        trueCount = trueCount + 2;
                    } else {
                        trueCount = trueCount - 1;
                    }
                    resultSet += '<div> Question ' + (i + 1) + ' is ' + results[i] + '</div>'

                    if (trueCount <= 5) {
                        jQuery("body").css("background-color", "red");
                    } else {
                        jQuery("body").css("background-color", "green");
                    }
                }

                resultSet += '<div class="totalScore">Your total score is ' + trueCount + ' / 20</div>'
                jQuery('#resultKeeper').html(resultSet).show();
            })
        }
    };
    tourismQuiz.init();
}) 
```

因此，与其等待用户按下`.btnShowResult`完成测试，不如在时间用完时执行按下此按钮执行的功能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:37:09.273

Checkout window.setTimeout，这应该让你开始：在指定的延迟后调用函数或执行代码片段。

因此，您希望给用户一些时间（5000 毫秒）来回答问题，然后再将其转发到下一个问题，例如：

```
//Psuedocode:

var askNextQuestion, timer ;

askNextQuestion = function(){
 // ... render the question or do whatever
 timer = setTimeout(askNextQuestion, 5000);
 // .. do any clean up and check to see if it's the last question etc.
};

askNextQuestion(); 
```

我不会尝试比 Mozilla 更好地解释它！ [https://developer.mozilla.org/en/docs/DOM/window.setTimeout](https://developer.mozilla.org/en/docs/DOM/window.setTimeout)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:34:09.677

Use `setTimeout` as last statement of your `init function` and write the functionality binded with `jQuery('.btnShowResult').` in a separate function add it in `setTimeout`

```
setTimeout("show_result", 20000); 
```

Also, use for instance `.clearTimeout(timeoutVariable)` to reset the timeout if the user presses the button within the time limit.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T11:34:33.847

保存提出问题时的时间戳，然后将其与用户提交答案时的时间戳进行比较。如果比较的时间超过限制，则答案已提交迟到。

倒计时的呈现可以只是图形的，例如。条形宽度从 100% 到 0% 的 CSS3 动画。以秒为单位交换“慢”为您的时间限制。

```
$("#bar").animate({ width:'0%' },'slow'); 
```

查看[http://www.w3schools.com/css3/css3_animations.asp](http://www.w3schools.com/css3/css3_animations.asp)以获取有关设置动画的提示！

# powershell - 如果总项目大小小于则设置 Exchange 邮箱配额

> ID：15498123
> 
> 赞同：0
> 
> 时间：2013-03-19T11:23:44.497
> 
> 标签：powershell, exchange-server, quota

我需要将邮箱配额设置为 2GB。但是我有一些用户已经通过了 2GB，我想把他们排除在外，没有限制。（或对它们应用 4GB 限制）。我用 WHERE 参数玩了一段时间，但到目前为止没有成功。

很想得到一些帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T11:06:30.617

获取邮箱-服务器 | ` 获取邮箱统计信息 | 其中 {$_.TotalItemSize -lt 2GB} | 设置邮箱 -IssueWarningQuota 1536MB -ProhibitSendQuota 2GB -ProhibitSendReceiveQuota 2150MB -UseDatabaseQuotaDefaults $false

就是这么简单。抱歉问了。

# django - Django 模型。什么更快：按字符串或整数过滤？

> ID：15498125
> 
> 赞同：0
> 
> 时间：2013-03-19T11:23:54.730
> 
> 标签：django, performance, django-models

`models.py`：

```
class ReviewString(models.Model):
    REVIEW_TYPES = (
        ('bad', 'bad'),
        ('ok', 'ok'),
        ('good', 'good')
    )
    review_type = models.CharField(max_length=50, choices=REVIEW_TYPES)
    # other fields here

class ReviewInteger(models.Model):
    REVIEW_TYPES = (
        ('bad', -1),
        ('ok', 0),
        ('good', 1)
    )
    review_type = models.IntegerField(choices=REVIEW_TYPES)
    # other fields here 
```

两个表 (`ReviewString`和`ReviewInteger`) 在数据库中都包含相同的数据。我想知道，这两个字符串之间是否有任何性能差异：

```
ReviewString.objects.filter(review_type='ok')
ReviewInteger.objects.filter(review_type=0) 
```

那么，我应该使用`ReviewString`or`ReviewInteger`吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:34:46.327

整数索引比 varchar 索引快。

虽然，只要您在 review_type 列上有一个索引，性能和速度差异实际上并不显着，因此您不应该真正在性能方面做出决定。

也许您应该更加小心地选择更适合您的 Python 代码的代码，而不是在数据库级别更快的代码。

问候

# ruby-on-rails - 在 gem 中使用 schema.rb

> ID：15498128
> 
> 赞同：4
> 
> 时间：2013-03-19T11:23:57.863
> 
> 标签：ruby-on-rails, ruby, rake

我想`rake db:schema:load`使用`db/schema.rb`不在我的应用程序中，但在我的一个宝石中的。这已经可以`db:seed`通过放入`config.paths['db/seeds'] = Core::Engine.paths['db/seeds'].existent`我的`application.rb`. （Core 是一个 gem，也是一个 Rails 引擎）。

但是，没有`db/schema.rb`路径进入`config.paths`，`config.paths['db'] = Core::Engine.paths['db'].existent`也没有效果。

完成这项工作的最简单方法是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-08-27T20:10:16.877

对于任何偶然发现这一点的人，从 Rails 4.0 开始，您可以在引擎配置中设置“db”键，主应用程序将在那里查找您的模式。

[active_record/railties/databases.rake](https://github.com/rails/rails/blob/v4.0.0/activerecord/lib/active_record/railties/databases.rake#L238)

```
module MyEngine
  class Engine < ::Rails::Engine
    initializer :override_db_dir do |app|
      app.config.paths["db"] = config.paths['db'].expanded
    end
  end
end 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-29T13:46:01.380

根据 Rails 3.2 源代码[https://github.com/rails/rails/blob/3-2-stable/activerecord/lib/active_record/railties/databases.rake#L400](https://github.com/rails/rails/blob/3-2-stable/activerecord/lib/active_record/railties/databases.rake#L400)，设置 SCHEMA 环境变量应该有帮助：

```
ENV['SCHEMA'] = Core::Engine.paths['db'].existent 
```

我记得，Rails 4 中的数据库任务发生了显着变化，因此这种方法不一定适用于 Rails 4。

另一种选择是在您的 gem 中覆盖 rake 任务本身。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-19T11:45:13.063

您可以从您的 gem 获取迁移 - rake gem_name:install:migrations

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-31T15:22:48.490

为什么不使用自定义 rake 任务？

```
desc 'Load a custom.rb file into the database'
  task :load_default_schema do
    file = ENV['SCHEMA'] || "path_to_your_file"
    if File.exists?(file)
      load(file)
    else
      abort %{#{file} doesn't exist yet.}
    end
  end 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-31T19:54:22.157

虽然不完全一样，但您可以执行以下操作以使 gem 中的迁移就像它们是应用程序的一部分一样。我发现这是一个更优雅的解决方案，而不是尝试共享模式。我希望这有帮助。

[Rails 引擎中的迁移？](https://stackoverflow.com/questions/4526122/migrations-in-rails-engine/11213345#11213345)

# java - 没有空的构造函数

> ID：15498129
> 
> 赞同：1
> 
> 时间：2013-03-19T11:24:00.087
> 
> 标签：java, android, android-service

我正在尝试使用远程服务来构建蓝牙聊天（如 Android 示例之一）。但是自从我上次修改后，应用程序没有启动，并且日志显示了`no empty constructor`我的服务的错误。我已经阅读[了这篇文章](https://stackoverflow.com/questions/11859403/no-empty-constructor-when-create-a-service)，但我不能添加任何空的构造函数。一定是我做错了什么，或者它对远程服务不起作用。

这是我的构造函数：

```
public RemoteService(Context context, Handler handler) {
    mAdapter = BluetoothAdapter.getDefaultAdapter();
    mState = STATE_NONE;
} 
```

有人可以告诉我它有什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:28:03.157

尝试：

```
public RemoteService() {
    super();
} 
```

除非您的业务规则规定您不能真正拥有一个空的构造函数。然后，您在`new RemoteService()`不应该的情况下要求某个地方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:34:04.613

You have to provide default constructor as the service demands a default constructor and then you can use parametrized constructor as you have done.

```
public class ReminderService extends IntentService {

   ----------------------------
    public ReminderService() // Need to add the default constructor
    {
      super("ReminderService"); // Calling the super constructor
    }

   public RemoteService(Context context, Handler handler) //Then use your own constructor
   {
    mAdapter = BluetoothAdapter.getDefaultAdapter();
    mState = STATE_NONE;
  }
  ----------------------------------

} 
```

Try this one and let me know if you still have any issue.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T13:13:48.327

感谢您的回答，但与此同时，有人帮助我并清理了代码，删除了构造函数并做了一些其他事情，但我并不了解所有内容。

很抱歉，我无法准确解释出了什么问题，但我可以说非参数构造函数正在生成错误。

# android - 捆绑值覆盖

> ID：15498133
> 
> 赞同：0
> 
> 时间：2013-03-19T11:24:04.407
> 
> 标签：android, android-fragments, android-activity, bundle

我有一个活动`ProductDisplayActivity`，里面有一个片段。这个片段是在`onCreate`我的活动方法中创建的，如下所示：

```
ProductInfoFrag = new ProductInfoFragment();
ProductInfoFragmentListener = (ProductRetrieveInfoInterface) ProductInfoFrag;
FragmentTransaction InitialTransaction = fm.beginTransaction();
InitialTransaction.add(R.id.product_info_frame, ProductInfoFrag);
InitialTransaction.commit(); 
```

在片段中，通过一个接口，我调用了这个函数：

```
@Override
public void DownloadProductInfo(String ProductInfoDescription) {
    ProductInfo.setText(Html.fromHtml(ProductInfoDescription));
    SavedString = new Bundle();
    SavedString.putString("SavedString", ProductInfoDescription);
} 
```

我想保存，`ProductInfoDescription`以便在替换 frament 时可以从中重新创建视图`Bundle`，所以`onResume`我有：

```
@Override
public void onResume() {
    if(SavedString != null){
      ProductInfo.setText(Html.fromHtml(SavedString.getString("SavedString")));
    }
    super.onResume();
} 
```

然后我有一个`ResultsList`使用产品列表调用的活动，单击时我再次`ProductDisplayActivity`使用不同的值开始新的意图调用。

**问题：**

我的问题是，如果我从导航`product 1`到`product list`然后到`product 2`然后尝试按 后导航，`back button`则`Bundle`of`product 1`具有`ProductInfoDescription`. `product 2`我不知道如何解决这个问题，当调用一个新的`ProductDisplayActivity`然后`new ProductInfoFragment`不应该每个片段都有自己`Bundle`的价值，因为不同的片段？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:01:43.250

> 然后我有一个名为 ResultsList 的活动，其中包含产品列表，单击时我开始一个新的意图，再次调用 ProductDisplayActivity，当然有不同的值。

你确定你没有在这里搞乱术语吗？听起来确实如此。
编辑：嗯，你没有。通过在 Activity 中嵌入 Fragments，您可以将自己置于处理双倍生命周期的位置。

1.  确保您有一个活动，两个片段（列表和信息）通过该活动相互通信。这些片段应该具有由活动实现的接口。
2.  将 Bundle 对象作为参数传递给每个片段。在构建片段时填写信息。
3.  除非您想显示多个信息，否则最好使用 FragmentManager.replace()。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T14:49:23.140

我以非最佳方式解决了这个问题，所以如果有人提出更好的答案，我会很乐意检查。

基本上我也将字符串“SavedString”保存到活动中，所以当活动恢复时，我调用片段函数来设置文本：

```
ProductInfoFragmentListener.DownloadProductInfo(Html.fromHtml(SavedString.getString("SavedString"))); 
```

# java - 自定义 Ant 任务上的“没有兼容的构造函数”？

> ID：15498141
> 
> 赞同：1
> 
> 时间：2013-03-19T11:24:31.480
> 
> 标签：java, ant

我正在尝试为 Apache Ant 编写一个自定义任务（遵循[本教程](http://ant.apache.org/manual/develop.html)）。

目前，我的任务如下所示：

```
package my.package;

import org.apache.tools.ant.BuildException;
import org.apache.tools.ant.Task;

class MyTask extends Task
{
    private String command;

    public void setCommand(String command)
    {
        this.command = command;
    }

    public void execute() throws BuildException
    {
        System.out.println(command);
    }
} 
```

我在构建文件中使用该任务，如下所示：

```
<?xml version="1.0"?>
<project name="TaskExample" default="main" basedir=".">
  <taskdef name="mytask" classname="my.package.MyTask"/>

  <target name="main">
    <mytask command="foobar" />
  </target>
</project> 
```

调用 Ant 时，出现以下错误：

```
> ant -lib .
Buildfile: /path/to/build.xml

main:

BUILD FAILED
/path/to/build.xml:6: Could not create type mytask as the class class my.package.MyTask has no compatible constructor

Total time: 0 seconds 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T11:24:31.480

在仍然输入问题的同时找到了解决方案。但也许这对其他人有用：

我只是忘记了`public`类声明中的限定符。因此，如下声明类非常有效：

```
package my.package;

// ...

// Mind the "public"!
public class MyTask extends Task
{
    // ...
} 
```

# hadoop - 猪 + 卡桑德拉：错误 1070

> ID：15498144
> 
> 赞同：4
> 
> 时间：2013-03-19T11:24:33.227
> 
> 标签：hadoop, cassandra, apache-pig

我正在使用 hadoop 1.0.4、cassandra 1.2.2 和 pig 0.11.0。

我想在 grunt 上运行这个脚本：

```
**grunt> rows = LOAD 'cassandra://Keyspace1/Users' USING CassandraStorage() AS (key, columns: bag {T: tuple(name, value)});** 
```

但我有这个错误：

```
**2013-03-19 11:15:54,957 [main] ERROR org.apache.pig.tools.grunt.Grunt - ERROR 1070: Could not resolve CassandraStorage using imports: [, org.apache.pig.builtin., org.apache.pig.impl.builtin.]** 
```

日志文件包含：

## 猪堆栈跟踪

错误 1070：无法使用导入解析 CassandraStorage：[, org.apache.pig.builtin., org.apache.pig.impl.builtin.]

解析失败：猪脚本解析失败：猪脚本验证失败：org.apache.pig.backend.executionengine.ExecException：错误1070：无法使用导入解析CassandraStorage：[，org.apache.pig.builtin.，org .apache.pig.impl.builtin.] 在 org.apache.pig.parser.QueryParserDriver.parse(QueryParserDriver.java:191) 在 org.apache.pig.PigServer$Graph.validateQuery(PigServer.java:1571) 在 org .apache.pig.PigServer$Graph.registerQuery(PigServer.java:1544) 在 org.apache.pig.PigServer.registerQuery(PigServer.java:516) 在 org.apache.pig.tools.grunt.GruntParser.processPig(GruntParser .java:991) 在 org.apache.pig.tools.pigscript.parser.PigScriptParser.parse(PigScriptParser.java:412) 在 org.apache.pig.tools.grunt.GruntParser.parseStopOnError(GruntParser.java:194) 在org.apache.pig.tools.grunt.GruntParser。org.apache.pig.tools.grunt.Grunt.run(Grunt.java:69) 在 org.apache.pig.Main.run(Main.java:538) 在 org.apache 的 parseStopOnError(GruntParser.java:170) .pig.Main.main(Main.java:157) 原因：猪脚本无法验证：org.apache.pig.backend.executionengine.ExecException：错误 1070：无法使用导入解析 CassandraStorage：[，org.apache。 pig.builtin., org.apache.pig.impl.builtin.] at org.apache.pig.parser.LogicalPlanBuilder.validateFuncSpec(LogicalPlanBuilder.java:1209) at org.apache.pig.parser.LogicalPlanBuilder.buildFuncSpec(LogicalPlanBuilder. java:1194) at org.apache.pig.parser.LogicalPlanGenerator.func_clause(LogicalPlanGenerator.java:4766) at org.apache.pig.parser.LogicalPlanGenerator.load_clause(LogicalPlanGenerator.java:3183) at org.apache.pig.parser .LogicalPlanGenerator。op_clause(LogicalPlanGenerator.java:1315) 在 org.apache.pig.parser.LogicalPlanGenerator.general_statement(LogicalPlanGenerator.java:799) 在 org.apache.pig.parser.LogicalPlanGenerator.statement(LogicalPlanGenerator.java:517) 在 org.apache .pig.parser.LogicalPlanGenerator.query(LogicalPlanGenerator.java:392) at org.apache.pig.parser.QueryParserDriver.parse(QueryParserDriver.java:184) ... 10 更多原因：org.apache.pig.backend。 executionengine.ExecException：错误 1070：无法使用导入解析 CassandraStorage：[, org.apache.pig.builtin., org.apache.pig.impl.builtin.] at org.apache.pig.impl.PigContext.resolveClassName(PigContext .java:523) 在 org.apache.pig.parser.LogicalPlanBuilder.validateFuncSpec(LogicalPlanBuilder.java:1206)general_statement(LogicalPlanGenerator.java:799) at org.apache.pig.parser.LogicalPlanGenerator.statement(LogicalPlanGenerator.java:517) at org.apache.pig.parser.LogicalPlanGenerator.query(LogicalPlanGenerator.java:392) at org.apache .pig.parser.QueryParserDriver.parse(QueryParserDriver.java:184) ... 10 更多原因：org.apache.pig.backend.executionengine.ExecException：错误 1070：无法使用导入解析 CassandraStorage：[，org.apache .pig.builtin., org.apache.pig.impl.builtin.] at org.apache.pig.impl.PigContext.resolveClassName(PigContext.java:523) at org.apache.pig.parser.LogicalPlanBuilder.validateFuncSpec(LogicalPlanBuilder .java:1206)general_statement(LogicalPlanGenerator.java:799) at org.apache.pig.parser.LogicalPlanGenerator.statement(LogicalPlanGenerator.java:517) at org.apache.pig.parser.LogicalPlanGenerator.query(LogicalPlanGenerator.java:392) at org.apache .pig.parser.QueryParserDriver.parse(QueryParserDriver.java:184) ... 10 更多原因：org.apache.pig.backend.executionengine.ExecException：错误 1070：无法使用导入解析 CassandraStorage：[，org.apache .pig.builtin., org.apache.pig.impl.builtin.] at org.apache.pig.impl.PigContext.resolveClassName(PigContext.java:523) at org.apache.pig.parser.LogicalPlanBuilder.validateFuncSpec(LogicalPlanBuilder .java:1206)query(LogicalPlanGenerator.java:392) at org.apache.pig.parser.QueryParserDriver.parse(QueryParserDriver.java:184) ... 10 更多原因：org.apache.pig.backend.executionengine.ExecException：错误 1070：无法使用导入解析 CassandraStorage：[, org.apache.pig.builtin., org.apache.pig.impl.builtin.] at org.apache.pig.impl.PigContext.resolveClassName(PigContext.java:523) at org .apache.pig.parser.LogicalPlanBuilder.validateFuncSpec(LogicalPlanBuilder.java:1206)query(LogicalPlanGenerator.java:392) at org.apache.pig.parser.QueryParserDriver.parse(QueryParserDriver.java:184) ... 10 更多原因：org.apache.pig.backend.executionengine.ExecException：错误 1070：无法使用导入解析 CassandraStorage：[, org.apache.pig.builtin., org.apache.pig.impl.builtin.] at org.apache.pig.impl.PigContext.resolveClassName(PigContext.java:523) at org .apache.pig.parser.LogicalPlanBuilder.validateFuncSpec(LogicalPlanBuilder.java:1206)java:523) 在 org.apache.pig.parser.LogicalPlanBuilder.validateFuncSpec(LogicalPlanBuilder.java:1206)java:523) 在 org.apache.pig.parser.LogicalPlanBuilder.validateFuncSpec(LogicalPlanBuilder.java:1206)

# ... 18 更多

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T13:33:09.827

根据[Pygmalion](https://github.com/jeromatron/pygmalion)项目的[文档](https://github.com/jeromatron/pygmalion/wiki/Getting-Started)和[pig_cassandra](http://svn.apache.org/repos/asf/cassandra/trunk/contrib/pig/bin/pig_cassandra)脚本的源代码，您可以通过执行以下操作来建立 Cassandra 和 Pig 之间的连接：

```
for jar in $CASSANDRA_HOME/lib/*.jar; do CLASSPATH=$CLASSPATH:$jar; done;
export PIG_CLASSPATH=$PIG_CLASSPATH:$CLASSPATH;
export PIG_OPTS="$PIG_OPTS -Dudf.import.list=org.apache.cassandra.hadoop.pig";
export PIG_INITIAL_ADDRESS=localhost;
export PIG_RPC_PORT=9160;
export PIG_PARTITIONER=org.apache.cassandra.dht.RandomPartitioner;
pig 
```

还要确保将 Cassandra jar 也包含在其中`HADOOP_CLASSPATH`（例如：将其设置在 hadoop-env.sh 中）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T07:23:55.817

这绝对是一个 PIG_CLASSPATH 问题。您应该从 cassandra 源代码分发附带的 examples/pig/bin 目录中运行 pig_cassandra。此脚本在运行 pig 之前为您构建类路径。

您还需要设置以下环境变量：

```
export JAVA_HOME=Oracle java 6 dir
export PIG_HOME=pig directory
export PIG_CONF_DIR=hadoop conf directory(needed if running distributed mapreduce)
export PIG_INITIAL_ADDRESS=ip of a cassandra node
export PIG_RPC_PORT=cassandra RPC port (i.e. 9160)
export PIG_PARTITIONER=org.apache.cassandra.dht.RandomPartitioner 
```

注意：在运行 pig_cassandra 之前，您必须使用 ant 构建一次 cassandra 源。这将在 pig_cassandra 脚本所需的 cassandra_source/build/lib/jars 文件夹中生成一些库。否则，您将在开始 pig 时遇到错误。不记得究竟是什么错误。这类似于在 pig 内部的序列化/反序列化阶段未找到的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-23T07:12:21.200

通过这样做解决了我的问题

```
register hdfs:/udf/cassandra-all.jar;
define CqlStorage org.apache.cassandra.hadoop.pig.CqlNativeStorage(); 
```

# android - 安装 android sdk 时出现问题

> ID：15498145
> 
> 赞同：1
> 
> 时间：2013-03-19T11:24:36.083
> 
> 标签：android

嗨，我正在PC上安装android sdk，安装完成后，当我打开eclipse时，我收到如下错误：

这是错误：

```
This Android SDK requires Android Developer Toolkit version 21.1.0 or above.
Current version is 20.0.2.v201207191942-407447.
Please update ADT to the latest version. 
```

当我单击检查更新时，它正在运行，并且我得到带有这些选项的窗口... Android DDMS、Android 开发工具、Android 层次结构查看器、Android 本机开发工具、Android Traceview、openGL ES 的跟踪器。

当我选择这些并给出下一步时，我收到如下错误并且无法继续进行。

这是错误：

```
Cannot complete the install because of a conflicting dependency.
Software being installed: Tracer for OpenGL ES 21.1.0.v201302060044-569685 (com.android.ide.eclipse.gldebugger.feature.group 21.1.0.v201302060044-569685)
Software currently installed: Shared profile 1.0.0.1343904087754 (SharedProfile_SDKProfile 1.0.0.1343904087754)
Only one of the following can be installed at once: 
Tracer for OpenGL ES 20.0.2.v201207191942-407447 (com.android.ide.eclipse.gldebugger.feature.jar 20.0.2.v201207191942-407447)
Tracer for OpenGL ES 21.1.0.v201302060044-569685 (com.android.ide.eclipse.gldebugger.feature.jar 21.1.0.v201302060044-569685)
Cannot satisfy dependency:
From: Shared profile 1.0.0.1343904087754 (SharedProfile_SDKProfile 1.0.0.1343904087754)
To: com.android.ide.eclipse.gldebugger.feature.jar [20.0.2.v201207191942-407447]
Cannot satisfy dependency:
From: Tracer for OpenGL ES 21.1.0.v201302060044-569685 (com.android.ide.eclipse.gldebugger.feature.group 21.1.0.v201302060044-569685)
To: com.android.ide.eclipse.gldebugger.feature.jar [21.1.0.v201302060044-569685] 
```

请指导我解决这个问题。我苦苦挣扎了两天。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:36:42.333

尝试这个：

打开eclipse->转到帮助->安装详细信息->点击Android开发工具->更新

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:55:03.573

在 Windows pc 上执行以下步骤卸载并再次安装（如果您使用的是一台）：

首先从eclipse网站[http://www.eclipse.org/downloads/下载eclipse-SDK-4.2-win32.zip](http://www.eclipse.org/downloads/)

解压缩文件并将其保存在任何驱动器中现在打开 Eclipse 并打开帮助并单击安装新软件

如果您已下载 juno，请使用此链接 Juno - [http://download.eclipse.org/releases/juno](http://download.eclipse.org/releases/juno) 并选择适当的插件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T11:29:21.993

[https://bugs.eclipse.org/bugs/show_bug.cgi?id=339659](https://bugs.eclipse.org/bugs/show_bug.cgi?id=339659)

你得到这个是因为某处存在冲突的依赖关系。例如，如果您安装了依赖于dependency.X-1.0.0 的插件A，并尝试安装依赖于dependency.X-1.1.0 的插件B，则会发生冲突。当您检查更新时，Eclipse 将检查您过去安装的所有插件和功能。尝试一次更新一件事，以确定哪个更新具有冲突的依赖关系。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T11:29:37.900

我猜这是一台Windows PC。

尝试卸载所有内容，然后按此顺序重新安装

1.  Java JDK
2.  安卓 SDK
3.  Eclipse SDK
4.  ADT 工具插件

确保您具有管理权限。

我个人只能推荐用于 Java 开发的虚拟机... ;)

# r - 为什么在 R 中 apply 不比 %*% 慢很多？

> ID：15498146
> 
> 赞同：-1
> 
> 时间：2013-03-19T11:24:37.017
> 
> 标签：r, loops, optimization, sum

这是带有输出的示例代码：

```
set.seed(234)
a <- matrix(rnorm(100000), 10000,100)
dim(a)

fo1 <- function() apply(a, 1, sum)
fo2 <- function() a %*% rep(1, 100)
fo3 <- function() {
    n <- nrow(a)
    x <- numeric(n)
    for(i in seq_len(n))  x[i] <- sum(a[i, ])
    }
fo4 <- function() rowSums(a)

# install.packages("microbenchmark")
require(microbenchmark)

microbenchmark(fo1 , fo2, fo3, fo4 ,times = 100000)
# expr min lq median uq    max neval
#  fo1  81 90     91 96 188969 1e+05
#  fo2  75 87     90 94 241332 1e+05
#  fo3  75 84     87 91 271085 1e+05
#  fo4  72 88     91 97 39447 1e+05 
```

我认为 apply 和 loops 应该比矢量化版本或专用 rowSums 函数慢 - 但它们似乎都给出了非常相似的结果（最大值除外）。

任何人都可以提出为什么会这样吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T11:37:50.747

就像@Martin 指出的那样，您没有调用 microbenchmark 中的函数。此外，该函数`fo3`不返回任何内容：

```
fo3 <- function() {
    n <- nrow(a)
    x <- numeric(n)
    for(i in seq_len(n))  x[i] <- sum(a[i, ])
    x #you missed this
} 
```

并`fo2`返回矩阵，而其他函数返回向量。所以让我们使用

```
fo2 <- function() c(a %*% rep(1, 100)) 
```

以下是正确的结果：

```
microbenchmark(fo1() , fo2(), fo3(), fo4() ,times = 100)
Unit: milliseconds
  expr       min        lq    median        uq       max neval
 fo1() 33.437565 37.859724 39.961079 41.409828 85.950181   100
 fo2()  1.756187  1.820632  1.861232  1.899416  2.138938   100
 fo3() 35.356449 37.069169 37.713325 39.624361 51.001235   100
 fo4()  2.467656  2.529235  2.561986  2.616621  2.884215   100 
```

您会看到矩阵向量乘法是最快的，尽管差异`rowSums`非常小（调用内部`.rowSums`而不影响结果）。`apply`和循环方法之间的差异`for`也很小，就像`apply`变相的循环一样。

注意

```
> identical(fo1(),fo2())
[1] FALSE
> identical(fo1(),fo3())
[1] TRUE
> identical(fo1(),fo4())
[1] TRUE
> all.equal(fo1(),fo2())
[1] TRUE 
```

矩阵乘法版本给出的结果与其他版本略有不同。

# security - 验证使用 JSON Web 加密 (JWE) 加密的安全令牌的颁发者？

> ID：15498151
> 
> 赞同：6
> 
> 时间：2013-03-19T11:24:44.953
> 
> 标签：security, encryption, jwt, jwe

我一直在阅读 JSON Web 加密 (JWE) 规范，[最新的草案是 08](https://datatracker.ietf.org/doc/html/draft-ietf-jose-json-web-encryption-08)，因为我们正在考虑在我们的身份验证服务器中支持 JSON Web 令牌 (JWT)。

使用它定义的非对称加密方法，对称密钥（内容主密钥）使用收件人公钥进行加密。这是有道理的，因此只有接收者才能解密它，并确保令牌是为他们准备的。

通常我还希望看到一些可以证明令牌*来自*谁的东西，例如使用发行者的私钥创建的签名，可以使用他们的公钥进行验证。但是，签名似乎也来自内容主密钥或接收者的公钥，没有提及发行者的私钥。

如果没有这个，在我看来——只要知道预期的令牌格式——任何拥有接收者公钥的人（即任何人）都可以生成一个有效的令牌；不仅仅是受信任的身份验证服务器。

我不是密码学专家（远非如此），所以我确定我在这里遗漏了一些东西。接收方如何验证非对称加密令牌是否来自受信任的发行者？

鉴于 JSON Web 签名 (JWS) 规范*确实*定义了使用颁发者的私钥并且可以使用其公钥进行验证的签名，我想知道这个想法是否是 JWE 令牌的有效负载应该是 JWS 令牌？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T15:08:59.977

JWT 当然允许嵌套有效负载。事实上，在规范中有一个[特定的引用](https://datatracker.ietf.org/doc/html/draft-ietf-oauth-json-web-token-06#section-5.2)，其中`cty`(content-type) 标头参数可以设置`JWT`为指示有效负载实际上是另一个 JWT。

因此，您很可能会创建一个 JWE 并将其包装在一个 JWS 中，并使用您的私钥签名。这似乎也是JOSE 邮件列表上[这个线程的结论（或至少一个解决方案）。](http://www.ietf.org/mail-archive/web/jose/current/msg01255.html)还有另一个关于减少有效负载大小的[相关线程。](http://www.ietf.org/mail-archive/web/jose/current/msg01363.html)一般来说，邮件列表可能值得关注，因为它是规范背后的人常去的地方。

# java - 从命令行搜索 Maven 过滤器

> ID：15498153
> 
> 赞同：1
> 
> 时间：2013-03-19T11:24:52.907
> 
> 标签：java, linux, maven, java-ee-6

我尝试使用以下代码从命令行创建一个 maven webapp jee6：

```
mvn archetype:generate -DgroupId=com.henry.tutoria -DartifactId=jee6example 
-DarchetypeArtifactId=maven-archetype-webapp-javaee6 
```

但在命令行上，它返回了 253，其中包含：

```
253: remote -> org.apache.maven.archetypes:maven-archetype-quickstart (An archetype which contains a sample Maven project.) 
```

我试图按顺序查看数字，但这太麻烦了。有谁知道使用 webapp-javaee6 搜索号码的 linux 命令？也许它可能不存在，因为我试图在 eclipse 中从我的 mavin 插件创建它，而我发现的只是`maven-archetype-webapp`如果是这种情况，如何在 eclipse 上将 jee6 添加到 maven 过滤器？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T11:48:02.460

您没有指定 artifactGroupId（并且 artifactId 与您尝试的略有不同）。所以下面的命令行应该可以工作：

```
mvn archetype:generate -DgroupId=com.henry.tutoria -DartifactId=jee6example -DarchetypeArtifactId=webapp-javaee6 -DarchetypeGroupId=org.codehaus.mojo.archetypes 
```

并更准确地回答您的问题。当您看到这个*巨大的工件列表*时，您可以键入几个字符（如`javaee6`+enter）来过滤结果列表。（它将过滤archetypeGroupId或archetypeArtifactId）

# node.js - 快速安装错误

> ID：15498155
> 
> 赞同：2
> 
> 时间：2013-03-19T11:24:54.403
> 
> 标签：node.js, express, npm

当我尝试通过 Node 安装 Express 时，它显示以下错误：

```
D:\NodeJS\express>npm install express
npm http GET https://registry.npmjs.org/express
npm http GET https://registry.npmjs.org/express
npm http GET https://registry.npmjs.org/express
npm ERR! Error: tunneling socket could not be established, cause=getaddrinfo ENOENT
npm ERR!     at ClientRequest.onError (C:\Program Files\nodejs\node_modules\npm\node_modules\request\tunnel.js:161:17)
npm ERR!     at ClientRequest.g (events.js:192:14)
npm ERR!     at ClientRequest.EventEmitter.emit (events.js:96:17)
npm ERR!     at CleartextStream.socketErrorListener (http.js:1394:9)
npm ERR!     at CleartextStream.EventEmitter.emit (events.js:96:17)
npm ERR!     at Socket.onerror (tls.js:1318:17)
npm ERR!     at Socket.EventEmitter.emit (events.js:126:20)
npm ERR!     at Socket.connect.require.lookup.addressType (net.js:699:16)
npm ERR!     at process.startup.processNextTick.process._tickCallback (node.js:244:9)
npm ERR! If you need help, you may report this log at:
npm ERR!     <http://github.com/isaacs/npm/issues>
npm ERR! or email it to:
npm ERR!     <npm-@googlegroups.com>

npm ERR! System Windows_NT 6.1.7601
npm ERR! command "C:\\Program Files\\nodejs\\\\node.exe" "C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js" "install" "express"
npm ERR! cwd D:\NodeJS\express
npm ERR! node -v v0.8.17
npm ERR! npm -v 1.2.0
npm ERR! code ECONNRESET
npm ERR!
npm ERR! Additional logging details can be found in:
npm ERR!     D:\NodeJS\express\npm-debug.log
npm ERR! not ok code 0

D:\NodeJS\express> 
```

我也尝试过 -g 安装，但它不起作用！请在这里帮我...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-21T04:54:45.453

对于那些设置 Node.js 和使用 npm 的人。我认为 Web 代理设置会像 unix 世界的其他部分一样，需要我设置 HTTP_PROXY 和 HTTPS_PROXY 环境变量。

打开命令提示符或终端会话并运行以下命令来配置 npm 以使用您的 Web 代理。这些命令使用 proxy.companyname.com 作为地址，使用 8080 作为端口。

C:>npm config 设置代理[http://proxy.companyname.com:8080](http://proxy.companyname.com:8080) C:>npm config 设置 https-proxy [http://proxy.companyname.com:8080](http://proxy.companyname.com:8080)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:31:19.700

看起来 npm 无法连接到中央存储库。这可能是因为您的笔记本电脑上的一般连接问题，但您在这里做到了:) 或者可能是因为您计算机上的证书颁发机构与 npm 使用的证书不匹配。

确保您可以从浏览器访问[https://registry.npmjs.org/express而没有任何证书（SSL 安全）警告。](https://registry.npmjs.org/express)如果这不是原因，您应该更新您的证书颁发机构。

Windows 证书根目录有一个 Windows XP 更新。

# java - Map.Entry 上的实现队列

> ID：15498157
> 
> 赞同：4
> 
> 时间：2013-03-19T11:25:08.210
> 
> 标签：java, map, queue

我正在做我的作业。我需要一个`<key, value>`数据结构来存储缓存。当新元素没有空间时（类似于`LinkedHashMap.removeEldestEntry()`），我还需要我的结构删除最旧的项目。

我想`Map.Entry<K, V>`为分配实现一个队列。这是解决问题的正确方法吗？

解释：

```
public class Queue<K, V>
{
    protected LinkedList<MyEntry<K, V>> list;

    public Queue() {
        list = new LinkedList<MyEntry<K,V>>();
    }
    ////
}

final class MyEntry<K, V> implements Map.Entry<K, V> {
    private final K key;
    private V value;

    public MyEntry(K key, V value) {
        this.key = key;
        this.value = value;
    }

    @Override
    public K getKey() {
        return key;
    }

    @Override
    public V getValue() {
        return value;
    }

    @Override
    public V setValue(V value) {
        V old = this.value;
        this.value = value;
        return old;
    }
} 
```

接着：

```
Queue<String, String> queue = new Queue<String>(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T10:26:00.643

如果您使用 LinkedHashMap 而不是使用迭代器移动的映射中的第一个元素，因为 LinkedHashMap 保持对的顺序与您输入它们的顺序相同。请注意，如果您从地图中获取对象，则需要删除并再次添加它以保持linkedHashMap 中对的顺序

# selenium - 哪些开源工具用于交付 QA 平台

> ID：15498161
> 
> 赞同：0
> 
> 时间：2013-03-19T11:25:27.163
> 
> 标签：selenium, automated-tests, qa, mantis, bug-reporting

我最近安装了 Mantis 用于错误报告。我还将它与 SVN 集成以自动处理已解决的错误/问题。

现在我需要一些基于 Web 的开源非 Java（我的服务器支持 Ruby、Python、RoR、PHP、Perl 和 MySQL、PostgreSQL）应用程序，我的测试人员可以在其中编写测试用例并将它们与 Selenium 测试（或其他流行的Web UI 测试框架）——类似于 Bromine，但 Bromine 有很大的缺点。

**溴的缺点**

1) 不支持分布式测试（我需要将它安装在我的 Windows 上，并且对于单个测试人员很有用，但我需要将工具放在 Internet 上，并且测试人员将远程运行测试并编写新的测试用例）

2) 项目已被放弃

当然，Mantis 集成将非常有用，但它是可选的。

让我们总结一下。我需要一些关于 QA 测试管理系统最佳实践的信息。我需要建议当前使用哪些工具。我需要一些架构技巧。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T09:31:13.387

我不确定是否有任何开源系统具有您定义的所有品质。我知道 TestLink 是一个相对不错的开源系统，但是您仍然需要在本地安装它并让您的用户访问它。

有一些相对便宜的系统是完全根据您的需求开发的。但它们不是开源的。

例如，我在[PractiTest](http://www.practitest.com)工作，在那里我们开发了一个托管 (SaaS) QA 管理平台，它完全可以满足您的需求。它可以在全球范围内访问（并且完全基于浏览器），它与大多数自动化工具以及 SVN 集成，如果您想做一些更“有趣”的集成和操作，它甚至提供 API。

简而言之，一个具有您正在寻找的工具，但它不是开源的。

我认为最终你可能需要在你的需求上妥协。如果您愿意购买商业（但相对便宜）系统，您可能会找到您要寻找的东西。

顺便说一句，您可以免费试用 PractiTest 以了解它是否符合您的需求。只需转到[此页面](http://www.practitest.com/contact-us/try-a-live-demo/)进行注册。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-17T03:06:22.407

您可以将**Selenium IDE 与 Ruby 一起**使用。可以编写良好且稳定的自动化脚本。

根据您的要求，您可以将 ruby​​ 与 Selenium IDE 一起使用，因为它是开源 QA。使用它，您绝对可以为**功能**和**UI 测试编写自动化测试**。

希望这会帮助你。

# sql - SQL查询计算不同条件成立的结果数

> ID：15498167
> 
> 赞同：5
> 
> 时间：2013-03-19T11:25:36.900
> 
> 标签：sql, sql-server, conditional-statements

我有一个看起来像的查询

```
SELECT ju.name,
    COUNT(DISTINCT p.value) AS nproblems
FROM #problems p
JOIN <thing> ju ON <whatever>
WHERE <condition 1>
    AND <condition 2>
    AND <condition 3>
GROUP BY ju.name
ORDER BY nproblems DESC 
```

这很好，并给了我一个包含名称和值的结果集。但我真正关心的是没有 WHERE 子句的问题数量，然后只有条件 1，然后是条件 1+2，然后是条件 1+2+3。我想写

```
SELECT ju.name,
    COUNT(DISTINCT p.value WHERE <condition 1>) foo,
    COUNT(DISTINCT p.value WHERE <condition 2>) bar,
... 
```

但遗憾的是我不能。有这样做的好方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T11:28:47.487

您可以使用`CASE`表达式来执行此操作：

```
SELECT ju.name,
    SUM(CASE WHEN <condition 1> THEN 1 ELSE 0 END) AS foo,
    SUM(CASE WHEN <condition 1> THEN 1 ELSE 0 END) AS bar,
    ...
FROM #problems p
JOIN <thing> ju ON <whatever>
GROUP BY ju.name
ORDER BY nproblems DESC; 
```

**但是：**如果您使用的是支持`PIVOT`表运算符（如 MS SQL Server 或 Oracle）的 RDBMS，则可以直接使用它来执行此操作。

* * *

由于您使用的是 SQL Server，因此可以使用[`PIVOT`](http://msdn.microsoft.com/en-us/library/ms177410%28v=sql.105%29.aspx)表运算符来执行此操作：

```
SELECT *
FROM 
(
) AS t
PIVOT
(
   COUNT(value)
   FOR name IN(...)
) AS p; 
```

# google-apps-script - 从现在位于 XmlElement 数组中的 XML 响应中提取数据

> ID：15498169
> 
> 赞同：1
> 
> 时间：2013-03-19T11:25:40.330
> 
> 标签：google-apps-script

新手，但一直在玩这个到我有限的知识让我失望的地步

我正在尝试获取股票编号的公司名称，我调用了 Google Finance URL 并收到了 XML 响应。

我想从 XML 响应中提取公司元素和属性（我希望我的 XML 术语是正确的）

使用 Debug 我可以看到大部分内容，但我不明白为什么没有返回“thecompanyname”。

帮助赞赏下面的代码

```
function myFunction() {

//Base URL for getting the Stock information
// http://www.google.com/ig/api?stock=....

var single_quote_returntxt = UrlFetchApp.fetch("http://www.google.com/ig/api?stock=0005").getContentText();
//Get a single stock quote for HSBC code 0005

var quoteinxmldoc = Xml.parse(single_quote_returntxt,true);
// Put the receieved xml response into XMLdocument format

var topelement = quoteinxmldoc.getElement().getElement();
//Get the top element and the next am guessing here a little 

var wantedelement = topelement.getElements();
//the element level i want

var thecompanyname =  wantedelement[3].getText();
//The company name as a string  

Browser.msgBox("End");

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T12:49:19.950

您正在错误地访问 XML 文档的元素。使用调试器看一下它的结构：

![通缉要素](../Images/959a7eab88d8be321a65831101129dde.png)

您的`wantedelement`数组包含对象，每个对象都有一个`data`键。因此，要访问公司名称，您只需执行以下操作：

```
var thecompanyname =  wantedelement[3].data; 
```

结果如下：

![调试器屏幕截图](../Images/bb0f7dd9150cb323053d113a998d67d2.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T13:28:56.473

如果您更喜欢纯 GAS 方法并使用 Logger，这里有一种方法可以查看在哪里......

```
function myFunction() {
var single_quote_returntxt = UrlFetchApp.fetch("http://www.google.com/ig/api?stock=0005").getContentText();
Logger.log(single_quote_returntxt)
var quoteinxmldoc = Xml.parse(single_quote_returntxt,true);
var topelements = quoteinxmldoc.getElement().getElement().getElements();
for(var e in topelements){
  var element = topelements[e]
  var att = element.getAttributes();
    for(var a in att){Logger.log('Element '+e+' ='+element.getName().getLocalName()+' attribute :'+ att[a].getName().getLocalName()+'  :  '+att[a].getValue())}
  var wantedelement = element.getElements();
  for(var w in wantedelement){Logger.log('wantedelement '+w+' :'+wantedelement[w].getText())}
      }
} 
```

记录器.log =

```
Element 0 =symbol attribute :data  :  0005
Element 1 =pretty_symbol attribute :data  :  0005
Element 2 =symbol_lookup_url attribute :data  :  /finance?client=ig&q=0005
Element 3 =company attribute :data  :  HSBC Holdings plc (Hong Kong)
Element 4 =exchange attribute :data  :  HKG
Element 5 =exchange_timezone attribute :data  :  
Element 6 =exchange_utc_offset attribute :data  :  
Element 7 =exchange_closing attribute :data  :  
Element 8 =divisor attribute :data  :  2
Element 9 =currency attribute :data  :  HKD
Element 10 =last attribute :data  :  84.55
Element 11 =high attribute :data  :  84.95
Element 12 =low attribute :data  :  84.10
Element 13 =volume attribute :data  :  17368416
Element 14 =avg_volume attribute :data  :  12414
Element 15 =market_cap attribute :data  :  1562574.91
Element 16 =open attribute :data  :  84.40
Element 17 =y_close attribute :data  :  84.15
Element 18 =change attribute :data  :  +0.40
Element 19 =perc_change attribute :data  :  0.48
Element 20 =delay attribute :data  :  15
Element 21 =trade_timestamp attribute :data  :  5 hours ago
Element 22 =trade_date_utc attribute :data  :  20130319
Element 23 =trade_time_utc attribute :data  :  075959
Element 24 =current_date_utc attribute :data  :  20130319
Element 25 =current_time_utc attribute :data  :  132906
Element 26 =symbol_url attribute :data  :  /finance?client=ig&q=0005
Element 27 =chart_url attribute :data  :  /finance/chart?q=HKG:0005&tlf=12
Element 28 =disclaimer_url attribute :data  :  /help/stock_disclaimer.html
Element 29 =ecn_url attribute :data  :  
Element 30 =isld_last attribute :data  :  
Element 31 =isld_trade_date_utc attribute :data  :  
Element 32 =isld_trade_time_utc attribute :data  :  
Element 33 =brut_last attribute :data  :  
Element 34 =brut_trade_date_utc attribute :data  :  
Element 35 =brut_trade_time_utc attribute :data  :  
Element 36 =daylight_savings attribute :data  :  true 
```

但是 Mogsdad 方法更清洁、更快……毫无疑问 ;-)

# ios - 哪个是更好的宏或字符串常量？

> ID：15498170
> 
> 赞同：1
> 
> 时间：2013-03-19T11:25:42.033
> 
> 标签：ios, macros, constants

我对“seenArray”必须使用哪种方式感到困惑， `#define kseenArray @"seenArray"`为什么`NSString * const kseenArray = @"seenArray";`？关于内存，如果有的话，我想知道哪一种更好。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T11:31:21.850

就内存而言，我认为它不会有太大的不同，因为编译器不会复制字符串文字，而是会引用同一个对象。

但是我认为这是最好的：

```
NSString * const kseenArray = @"seenArray"; 
```

因为它允许您根据对象的*地址*而不是其内容（使用`[NSString isEqualToString]`）来比较文字，这样更快：

```
- (void)someMethod:(NSString *)someString
{
    if (someString == kseenArray)
    {
        ...
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:38:46.560

由于我对Assembly了解不够，无法下结论，我已经编写了测试并提供了结果，我会让你得出自己的结论

我写了这个小测试：

```
#import <Foundation/Foundation.h>
NSString * const aString = @"String";
//#define aString @"String"
int main()
{
    NSLog(@"%@", aString);
    return 0;
} 
```

用以下行编译：

```
gcc StringTest.m -g -m64 -framework Cocoa 
```

* * *

这第一个程序集使用`#define`

```
0x0000000100000ee0 <main+0>:    push   %rbp
0x0000000100000ee1 <main+1>:    mov    %rsp,%rbp
0x0000000100000ee4 <main+4>:    sub    $0x10,%rsp
0x0000000100000ee8 <main+8>:    lea    0x191(%rip),%rax        # 0x100001080
0x0000000100000eef <main+15>:   lea    0x16a(%rip),%rcx        # 0x100001060
0x0000000100000ef6 <main+22>:   xor    %dl,%dl
0x0000000100000ef8 <main+24>:   mov    %rax,%rdi
0x0000000100000efb <main+27>:   mov    %rcx,%rsi
0x0000000100000efe <main+30>:   mov    %dl,%al
0x0000000100000f00 <main+32>:   callq  0x100000f22 <dyld_stub_NSLog>
0x0000000100000f05 <main+37>:   movl   $0x0,-0x8(%rbp)
0x0000000100000f0c <main+44>:   mov    -0x8(%rbp),%eax
0x0000000100000f0f <main+47>:   mov    %eax,-0x4(%rbp)
0x0000000100000f12 <main+50>:   mov    -0x4(%rbp),%eax
0x0000000100000f15 <main+53>:   add    $0x10,%rsp
0x0000000100000f19 <main+57>:   pop    %rbp
0x0000000100000f1a <main+58>:   retq 
```

该组件使用`NSString * const`

```
0x0000000100000ee0 <main+0>:    push   %rbp
0x0000000100000ee1 <main+1>:    mov    %rsp,%rbp
0x0000000100000ee4 <main+4>:    sub    $0x10,%rsp
0x0000000100000ee8 <main+8>:    mov    0x171(%rip),%rax        # 0x100001060 <aString>
0x0000000100000eef <main+15>:   lea    0x192(%rip),%rcx        # 0x100001088
0x0000000100000ef6 <main+22>:   xor    %dl,%dl
0x0000000100000ef8 <main+24>:   mov    %rcx,%rdi
0x0000000100000efb <main+27>:   mov    %rax,%rsi
0x0000000100000efe <main+30>:   mov    %dl,%al
0x0000000100000f00 <main+32>:   callq  0x100000f22 <dyld_stub_NSLog>
0x0000000100000f05 <main+37>:   movl   $0x0,-0x8(%rbp)
0x0000000100000f0c <main+44>:   mov    -0x8(%rbp),%eax
0x0000000100000f0f <main+47>:   mov    %eax,-0x4(%rbp)
0x0000000100000f12 <main+50>:   mov    -0x4(%rbp),%eax
0x0000000100000f15 <main+53>:   add    $0x10,%rsp
0x0000000100000f19 <main+57>:   pop    %rbp
0x0000000100000f1a <main+58>:   retq 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T11:28:14.787

const 字符串更好。

宏保持盲目复制。因此，当您使用宏时，它实际上会创建字符串对象。

但是，放置 const 只会引用全局字符串。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T11:30:35.803

宏替换发生在编译时。因此，如果您在代码中使用宏 1000x，它与编码相同字符串文字的 1000 个副本相同

使用 const 变量，如果你引用它 1000 次，你仍然引用同一个。

# rabbitmq - RabbitMQ 队列顺序管理

> ID：15498172
> 
> 赞同：3
> 
> 时间：2013-03-19T11:25:45.523
> 
> 标签：rabbitmq

我目前正在为一个跟踪系统实现rabbitMQ，多个前端生产者在同一个队列上写入。

基本上我有两种类型的消息在队列中发送，因为跟踪工作流程有两个步骤：印象/点击 => 潜在客户/销售。非常简单：用户单击横幅，然后在他被重定向到的网站上执行操作。此操作可能需要几秒钟到几天才能完成。我需要在相应的印象或点击后消耗潜在客户或销售。

问题是我需要按时间顺序使用消息。虽然如果所有生产者以相同的速度在队列中发送消息（即消息应该以 FIFO 方式正确排序），那么一切都应该很好，但当其中一个生产者（出于某种原因）在队列中写入速度较慢时，我会遇到问题。

例如，如果我的潜在客户操作发生在点击操作之后一秒钟，而点击生产者停止了几秒钟，我将在点击之前消耗潜在客户，我的跟踪系统将无法工作。

我想知道如何根据附加到消息的标题设置队列的顺序。我所有的服务器都是同步的，它们的时钟有 <1ns 的差异，所以我想根据这些信息订购我的队列，但我在文档中找不到任何设置队列顺序或消费顺序的方法。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-07-12T11:26:01.280

AMQP 队列是 FIFO 队列。在同时发布大量消息的情况下，哪个消息先出现可能存在一些歧义，因此您可能会认为消息`one`和消息`two`在队列中的顺序可能与现实世界中发生的顺序不同。这是您为 HA 和速度付出的代价。如果您想了解更多信息，可以在 IRC rabbitmq 频道上提问。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:00:54.727

我认为队列的意思是队列，即先进先出。Mabe你可以在消费过程中对它们进行分类吗？我的意思是，例如，您从队列中提取 10 条消息，对其进行解析，然后以正确的顺序将它们放入您自己的队列或列表中。

# sqlite - SQLite 更新查询 - 带有别名的子查询不起作用

> ID：15498173
> 
> 赞同：5
> 
> 时间：2013-03-19T11:25:47.383
> 
> 标签：sqlite, subquery, alias

我需要更新一个 SQLite 表。

该表如下所示：

```
ID   | Address            | CallNumber   |  RefID
-----+--------------------+-------------------------------------------
ef78 | library            | 2002/13      | 100002
no56 | Lit                | 0189         | 100003
rs90 | temp               |              | 100003 
```

对于 Address = "Lit" 的每一列，都有一个 Address = 'temp' 的列具有相同的 RefID。现在我需要使用具有相同 RefID 的列中的值“CallNumber”更新每个 Address =“temp”。

更新后的表格应如下所示：

```
ID   | Address            | CallNumber   |  RefID
-----+--------------------+-------------------------------------------
ef78 | library            | 2002/13      | 100002
no56 | Lit                | 0189         | 100003
rs90 | 0189               |              | 100003 
```

我试过这个：

```
UPDATE Location
SET address = foo.callnumber
FROM (select RefID, CallNumber FROM Location) foo
WHERE foo.RefID=Location.RefID AND Location.Address = 'temp'; 
```

但我得到的只是“来自”附近的语法错误。

有什么线索吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-19T12:18:40.493

`UPDATE`命令[没有`FROM`子句](http://www.sqlite.org/lang_update.html)。

使用相关子查询：

```
UPDATE Location
SET Address = (SELECT CallNumber
               FROM Location L2
               WHERE L2.RefID = Location.RefID
                 AND L2.Address = 'Lit')
WHERE Address = 'temp' 
```

# security - Symfony2 访问被拒绝异常 - 更多细节？

> ID：15498183
> 
> 赞同：0
> 
> 时间：2013-03-19T11:26:23.190
> 
> 标签：security, symfony, acl, roles, blacklist

我有以下问题：在我的 symfony 2 应用程序中，我有一个名为“ClientIpVoter”的选民，它检查客户端 IP 是否被列入黑名单（[http://symfony.com/doc/2.0/cookbook/security/voters.html](http://symfony.com/doc/2.0/cookbook/security/voters.html)）。如果 ip 被列入黑名单，则安全组件会引发 AccessDeniedException。

安全组件的其他部分也会抛出 AccessDeniedException，例如，如果用户没有正确的角色。

现在我的问题是，我想知道为什么抛出 AccessDeniedException，以便做不同的事情。例如显示一条消息，或者（如果由于角色不足而引发 AccessDeniedException），将用户重定向到一个页面，他可以在其中确认他的帐户或电子邮件。

但是 AccessDeniedException 不包含有关授权问题来源的任何信息。你将如何实现这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:51:15.927

您可以捕获为列入黑名单的 IP 引发的 AccessDeniedException，将其包装在您自己的自定义异常中，该异常会添加额外的信息，例如 AccessDeniedBecauseOfInsufficientRolesException，然后再次抛出该异常。伪代码：

```
try
{
  BlacklistedVoterStuff();
}
catch( AccessDeniedException e )
{
  throw AccessDeniedBecauseOfInsufficientRolesException( e.message );
} 
```

# php - codeigniter登山扣不压缩或组合css

> ID：15498185
> 
> 赞同：0
> 
> 时间：2013-03-19T11:26:39.850
> 
> 标签：php, codeigniter, carabiner

我最近两天都在尝试这个，没有任何运气。我使用登山扣来处理我网站 amitavroy.com 上的资产

当我将登山扣的配置投入生产时，我的 js 文件被合并和压缩但由于某种原因，css 文件甚至没有被合并忘记压缩。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-27T13:47:41.543

我知道这是一个老话题，但也许这会帮助其他新手。

```
 $this->load->library('carabiner');
    $carabiner_config = array(
        'script_dir' => 'js/',
        'style_dir' => 'css/',
        'cache_dir' => 'cache/',
        'base_uri' => base_url(),
        'combine' => TRUE,
        'dev' => FALSE,
        'minify_js' => TRUE,
        'minify_css' => TRUE     // <- this should do the trick
    );
    $this->carabiner->config($carabiner_config); 
```

# shell - Cakephp httpsocket ssl 不适用于控制台外壳

> ID：15498186
> 
> 赞同：1
> 
> 时间：2013-03-19T11:26:42.053
> 
> 标签：shell, cakephp, ssl, console

我正在尝试使用带有 ssl 的 httpsocket 制作 cakephp shell。

我的“稻草人”外壳：

```
App::uses('HttpSocket', 'Network/Http');

class UpdaterShell extends AppShell {

public function main() {      
    // STRAWMAN
    $httpSocket = new HttpSocket();
    $results = $httpSocket->post(
        'https://accounts.google.com/o/oauth2/token',
        'foo=bar'
    );
    debug($results);
}   
} 
```

现在，我不希望 Google 做出成功的回应，因为在这个简单的测试中，我没有提供必要的参数。

但我得到的是：**`Error@ unable to find the socket transport "ssl" - did you forget to enable it when you configured php?`**

我没有，openssl 已启用，为了证明这一点，这有效：

```
App::uses('AppController', 'Controller');
App::uses('HttpSocket', 'Network/Http');

class StrawmanController extends AppController {

public function index() {
    // STRAWMAN
    $httpSocket = new HttpSocket();
    $results = $httpSocket->post(
        'https://accounts.google.com/o/oauth2/token',
        'foo=bar'
    );
    debug($results);   
}  
} 
```

（通过作品，我的意思是用“invalid_request”回应。）

总结一下：当我通过控制器或模型使用 openssl 时，它可以工作，但不能通过控制台使用。

有谁知道为什么，以及如何使它工作？

谢谢！一个

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T12:04:29.800

控制台 PHP 和 web PHP 通常是不一样的。两者都有不同的 PHP.ini 文件，因此导致某些模块未在 CLI 中启用，您通过 Web 界面认为这是理所当然的。

确保为 CLI 找到正确的 PHP.ini 并在那里启用 SSL 模块 openssl。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T12:32:04.450

[建立在Mark](https://stackoverflow.com/users/461173/mark)的回答之上。

```
$httpSocket = new HttpSocket();
$request = array(
         'method' => 'POST',
         'uri' => array(
                    'schema' => 'https',
                    'host' => 'www.samplewebsite.com',
                    'path' => 'put/your/path/here'
                    )
     );
$result = $httpSocket->request($request); 
```

查看 openssl`*nix`发行版

```
 php -r "phpinfo();" | grep ssl 
```

对于windows，我猜它被调用`php_openssl.dll`了`php.ini`

# blas - BLAS 例程中的 incx

> ID：15498187
> 
> 赞同：6
> 
> 时间：2013-03-19T11:26:44.960
> 
> 标签：blas, intelhpc

有一些 BLAS 例程将向量 X 的增量作为参数，即 incX。我找不到增量是什么以及它如何影响计算结果。

谁能提供一些例子或任何其他类型的信息？

更新：

我在这里找到了最好的信息： [Intel HPC mkl manual](http://software.intel.com/sites/products/documentation/hpc/mkl/mklman/GUID-94DE807E-DA2F-4CF6-8A4E-B74628DCC814.htm)

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2014-11-14T14:08:30.820

这其实很简单。

让我们以`axpy(n,a,*x,incx,*y,incy)`哪个计算为例：`y = ax + y`

例如，如果您需要计算：

```
y[0] = ax[0] + y[0]; y[1] = ax[2] + y[1]; y[2] = ax[4] + y[2] 
```

那么你的电话是：`axpy(3,a,x,2,y,1)`

但通常，对于基本操作，您只需指定`incx = incy = 1`

# php - php 回显链接，但替换一些 url 字符串，如何？

> ID：15498192
> 
> 赞同：0
> 
> 时间：2013-03-19T11:26:50.683
> 
> 标签：php

我有这个链接：
`<a href="<?php echo Mage::getURL() ?>brands/<?php echo $_brand['label'] ?>">`
这会给我一个
`brands/Example%20Of%20My%20Brand`在 url 中的结果并且不好，因为它是 404。
品牌的实际名称是“我的品牌示例”，到达此页面的 URL 是“example-of-我的品牌”所以这就是我需要得到的
我需要做的是修剪/更换？%20 所以它将是“-”，并且是否可以将所有链接设为小写？
非常感谢，希望有人能帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T11:32:16.640

```
<?php
$part1=Mage::getURL();
$part2=str_replace(" ", "-", urldecode($_brand['label']));
$newurl=strtolower($part1."brands/".$part2);
?>

<a href="<?php echo $newurl ?>"> 
```

Something like this should work.

If $part1 has any url-encoded character just use `urldecode` on it as well.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:38:06.210

实际上 %20 是你试试这个的空间

```
 <a href="<?php echo Mage::getURL() ?>brands/<?php echo str_replace(' ','-',$_brand['label']) ?>"> 
```

检查这个是否为小写

```
<?php 
  $link=Mage::getURL().'brands/'.str_replace(' ','-',$_brand['label']);
  $link=strtolower($link); 
?>

<a href="<?php echo $link;?>"> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T11:31:46.670

首先将所有这些变量和字符串连接起来，然后像这样将其添加到href中

```
 <?php    $abc = Mage::getURL();
$final =$abc.'brands'.$brand['label'];?>
 <a href="<?php echo $final?>"> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T11:33:13.863

Use `str_replace()`.

```
<a href="<php echo strtolower(str_replace('%20', '-', Mage::getURL().'brands/'.$_brand['label'])); ?>"> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-19T11:38:58.760

根据[getUrl 文档](http://www.magentocommerce.com/wiki/5_-_modules_and_development/reference/geturl_function_parameters)，我认为您应该使用：

```
$url = Mage::getUrl('', array('_use_rewrite' => true)); 
```

> _use_rewrite => 在数据库中查找模块/控制器/操作/参数，以获得对搜索引擎友好的等效项。

# c# - 我可以更改 LINQ 上的“相等比较器”吗？

> ID：15498193
> 
> 赞同：1
> 
> 时间：2013-03-19T11:26:57.307
> 
> 标签：c#, .net, linq

如果我有一个列表并执行 OrderBy，则具有空值的元素`""`将位于有序列表的顶部。相反，我想把它们放在列表的底部。我的代码：

```
var orderedList = list.OrderBy(o => o.Field).ToList(); 
```

有办法吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-19T11:28:48.863

```
var orderedList = list.OrderBy(o => string.IsNullOrEmpty(o.Field))
                      .ThenBy(o => o.Field)
                      .ToList(); 
```

因为在此`false`之前排序`true`会将所有非空值放在首位。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:28:50.753

不太确定它的效率是多少：P，但您可以尝试以下方法。

```
var orderedList = list.Where(r=> !string.IsNullOrWhiteSpace(r))
                      .OrderBy(o => o)
                      .Concat(list.Where(r => string.IsNullOrWhiteSpace(r))
                      .ToList(); 
```

如果您不想检查所有空白或空值，您可以将其与`""`或进行比较。`string.Empty`

# php - 计算剩下的时间？

> ID：15498197
> 
> 赞同：1
> 
> 时间：2013-03-19T11:27:08.277
> 
> 标签：php, time, strtotime, calc

如果时间到了，我编写了一个脚本来将用户的密钥活动状态更改为 0。从那里开始时，我设置`start_time`为 time(); 比设置像“60”这样的天数。

根据我目前的执行方式，我如何计算剩余的时间（以天或小时或分钟为单位）。

```
$user_info['days'] = "60"

`start_time` = 1332219600

function setup() {
    mysql_connect('localhost', 'stresser_main', 'ZLLAUkuLIUU');
    mysql_select_db('stresser_main');
    $query = mysql_query("SELECT * FROM `keys` WHERE `active`='1'");
    while ($user_info = mysql_fetch_array($query)) {
        $time_ago = strtotime("-" . $user_info['days'] . " day");
        $time_ago_other = strtotime("+" . $user_info['days'] . " day");
        mysql_query("UPDATE `keys` SET `active`='0' WHERE `start_time` < $time_ago AND `id`='" . $user_info['id'] . "'");
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:49:41.830

1.  不要有这样的想法。只更新查询。如果您有 1000 个活动 = 1 的用户已过期，那么您将执行 1000 次更新查询。这样，您将执行 1 个查询来解决您的问题。不需要 select 和 while。

    `mysql_query("UPDATE keys SET active = 0 WHERE active = 1 AND start_time < $something");`

2.  在 SQL 上执行所有操作，例如`'WHERE start_time < NOW()'`. 您也可以对 sql 进行计算。这里有很多 SQL 函数[https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html](https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html) 这会更快更安全。

3.  不要使用 mysql_ 函数。使用 mysqli_ 或 PDO。

4.  在表上使用日期时间字段，而不是整数 unix 时间戳。您将能够使用 SQL 日期函数。

5.  使用 \DateTime() 而不是 strtotime。

# asp.net - ASP.NET MVC 4 混合身份验证模式

> ID：15498205
> 
> 赞同：0
> 
> 时间：2013-03-19T11:27:30.710
> 
> 标签：asp.net, asp.net-mvc-3

我正在开发一个 MVC 应用程序，它为用户提供两种身份验证选项：1- Windows 身份验证 2- 自定义身份验证

根据用户选择：

1- 如果是 Windows，用户名和密码将变暗，应用程序将使用 Windows 身份验证。

2- 如果自定义，用户输入用户名和密码以进行身份​​验证。

此模型是否适用于 ASP.NET MVC？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:31:25.593

我听说过的所有解决方案都涉及两个应用程序或两个不同的身份验证类型页面。这里有一些关于它的讨论： [ASP.NET MVC and mixed mode authentication](https://stackoverflow.com/questions/2432845/asp-net-mvc-and-mixed-mode-authentication)

# javascript - 什么时候叫它

> ID：15498213
> 
> 赞同：2
> 
> 时间：2013-03-19T11:28:02.853
> 
> 标签：javascript

这更多的是我不知道谷歌的术语来得到我需要的答案

示例 console.log()

其中 log 是控制台的子功能，这种功能的名称/语法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T11:28:54.530

作为对象属性并在该对象的上下文中调用的函数通常称为*方法*。

EMCAScript [（作为“标准”JavaScript）规范](http://www.ecma-international.org/ecma-262/5.1/#sec-4.3.27)具有以下定义：

> **方法**
> 
> 作为属性值的函数

# android - 获取 java.lang.IllegalStateException：恢复活动时没有活动

> ID：15498216
> 
> 赞同：1
> 
> 时间：2013-03-19T11:28:08.447
> 
> 标签：android, android-fragments, android-lifecycle

我在一项活动中遇到了一个奇怪的错误。我无法弄清楚为什么会这样。

我有一个`Activity`向用户显示搜索结果的工具。当他点击其中一个时，会显示该结果的详细页面，当他关闭该页面时，`Activity`它会返回到搜索结果屏幕。`Activity`它在大多数情况下都可以正常工作，除非在某些设备上它会在恢复后立即崩溃。

堆栈跟踪也是无用的，因为它是由支持片段管理器在内部抛出的。

```
03-18 15:32:48.987: E/AndroidRuntime(26456): FATAL EXCEPTION: main
03-18 15:32:48.987: E/AndroidRuntime(26456): java.lang.IllegalStateException: No activity
03-18 15:32:48.987: E/AndroidRuntime(26456):    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1075)
03-18 15:32:48.987: E/AndroidRuntime(26456):    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1070)
03-18 15:32:48.987: E/AndroidRuntime(26456):    at android.support.v4.app.FragmentManagerImpl.dispatchResume(FragmentManager.java:1871)
03-18 15:32:48.987: E/AndroidRuntime(26456):    at android.support.v4.app.FragmentActivity.onResumeFragments(FragmentActivity.java:455)
03-18 15:32:48.987: E/AndroidRuntime(26456):    at android.support.v4.app.FragmentActivity$1.handleMessage(FragmentActivity.java:91)
03-18 15:32:48.987: E/AndroidRuntime(26456):    at android.os.Handler.dispatchMessage(Handler.java:99)
03-18 15:32:48.987: E/AndroidRuntime(26456):    at android.os.Looper.loop(Looper.java:150)
03-18 15:32:48.987: E/AndroidRuntime(26456):    at android.app.ActivityThread.main(ActivityThread.java:4333)
03-18 15:32:48.987: E/AndroidRuntime(26456):    at java.lang.reflect.Method.invokeNative(Native Method)
03-18 15:32:48.987: E/AndroidRuntime(26456):    at java.lang.reflect.Method.invoke(Method.java:507)
03-18 15:32:48.987: E/AndroidRuntime(26456):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:849)
03-18 15:32:48.987: E/AndroidRuntime(26456):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:607)
03-18 15:32:48.987: E/AndroidRuntime(26456):    at dalvik.system.NativeStart.main(Native Method)
03-18 15:32:48.987: W/ActivityManager(241):   Force finishing activity com.my.app/.SearchActivity 
```

我`Activity`的正在扩展`FragmentActivity`，但只是因为我需要使用`LoaderManager`. 迁移到标准库是不可能的，因为我的应用必须支持 Android 2.3。

我尝试更新到新版本的支持库，并恢复到旧版本，但没有运气。

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:57:56.473

没关系，我得到了答案——它和这个[一样](https://stackoverflow.com/questions/12784850/application-crashes-on-rotation-without-stacktrace?rq=1)。

有人`onWindowFocusChanged(boolean hasFocus)`在详细信息页面中覆盖，但正在调用`super.onResume()`。我确实希望错误消息更清楚。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-17T09:25:50.970

在我的情况下，这是由于活动自动重启，所以只需设置午餐模式单任务

# windows-8 - 在 Windows 8 应用程序中打印

> ID：15498217
> 
> 赞同：-1
> 
> 时间：2013-03-19T11:28:11.230
> 
> 标签：windows-8

我在我的 Windows 8 应用程序中创建了一个随机图像。我愿意使用打印机打印图像，但不知道。

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T12:30:29.003

在 MSDN 代码库中尝试此示例：http: [//code.msdn.microsoft.com/windowsapps/Print-Sample-c544cce6](http://code.msdn.microsoft.com/windowsapps/Print-Sample-c544cce6)

# php - PHP SQLite3 中的准备语句与转义字符串

> ID：15498219
> 
> 赞同：0
> 
> 时间：2013-03-19T11:28:18.300
> 
> 标签：php, sqlite, prepared-statement

我正在使用 PHP 中的 SQLite3。

一位朋友告诉我，我应该更喜欢准备好的陈述，我也在 StackOverflow 上的许多帖子中读到了这一点。我想了解使用准备好的语句的好处，因为我必须写更多的行，而不是像使用这样的常规转义：

```
$db->exec("Insert INTO table VALUES(NULL,'".$db->escapeString($value)."')" 
```

或使用：

```
foreach($_POST as $k => $v) {
    $_POST[$k] = $db->escapeString($v);
} 
```

为什么我应该使用准备好的语句？优缺点都有什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T11:33:02.753

人们经常将参数与本机准备语句混淆。我怀疑 Sqlite 是否支持后者，但是您必须**始终**使用参数来替换查询中的实际数据。

当处理参数（也称为“占位符”）时，会发生重要的事情：

*   应用了所有必需的格式（即转义**和**引用）（而转义只会完成**一半**的工作 - 让您的查询对注入敞开大门）。
*   这种格式应用于查询的数据，而不是源变量，破坏它（因此，您可以通过电子邮件发送或存储在会话中）。
*   这种格式会自动应用，使您的安全独立于开发人员的善意。这是非常重要的事情

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:31:36.157

Prepared Statement主要用于避免`SQL injection`黑客和任何恶意程序所做的事情。

# android - 无需用户交互即可打包后台自动更新程序，无需使用 google play market

> ID：15498222
> 
> 赞同：1
> 
> 时间：2013-03-19T11:28:28.353
> 
> 标签：android

我的应用程序未存储在 google play 中，它存储在我的服务器中。我的设备没有 google play 市场应用程序。我把我的应用程序的新版本放到我的服务器上。我希望我的应用程序在没有用户交互的情况下自动在后台更新。有可能吗？我检查了堆栈上关于这个问题的几个链接，但我想刷新它。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:43:16.103

你可以在这里使用这个库：

[更新检查器](https://github.com/RaghavSood/AppaholicsUpdateChecker)

按照步骤操作即可。我在我的应用程序中使用了它。就用户交互而言，如果您没有植根设备，则无法在没有用户交互的情况下进行更新。Android 不允许您在未经许可的情况下安装任何应用程序，否则任何人都会在后台安装许多恶意应用程序。

# iphone - 尽管 Default-568h@2x.png，iPhone 5 应用程序仍无法以全分辨率启动

> ID：15498226
> 
> 赞同：2
> 
> 时间：2013-03-19T11:28:44.280
> 
> 标签：iphone, ios, screen, resolution, iphone-5

我已经这样做了：[如何为 iPhone 5 屏幕分辨率开发或迁移应用程序？](https://stackoverflow.com/questions/12395200/how-to-develop-or-migrate-apps-for-iphone-5-screen-resolution)即添加了 Default-568h@2x.png 文件。

我的应用程序仍以顶部和底部的黑条启动。它使用 Default.png 启动图像启动，甚至不是 Default@2x.png。

我正在使用故事板来布局屏幕，而不是 xib。这是一个非常基本的屏幕系列，由表格视图驱动。

我到底做错了什么？

所有源代码都可以在这里查看：[https ://github.com/scotartt/LatinLookupTool](https://github.com/scotartt/LatinLookupTool)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:32:49.987

删除图像并重新添加它们以及在重建之前清理项目是 pcholberg 和 Renjith 建议的答案

# jquery - 删除此父项的内容

> ID：15498229
> 
> 赞同：1
> 
> 时间：2013-03-19T11:28:47.363
> 
> 标签：jquery, removeall

我有这个 HTML：

```
 <div id="hi">
    <span style="border:1px solid red;">This span should stay</span>
    <br />
    this should be removed
</div> 
```

我想删除 div#hi 中不是跨度的所有内容（*）：

这似乎不起作用：

```
 $('#hi').not('span').remove(); 
```

它消除了一切。我还能尝试什么？

[JsFiddle 示例](http://jsfiddle.net/BaLAb/5/)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T11:31:50.217

```
$('#hi').contents().filter(function(){
     return this.localName !== 'span';
}).remove(); 
```

[http://jsfiddle.net/TUuQ9/](http://jsfiddle.net/TUuQ9/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:38:35.867

你可以试试这个`.clone()`：

```
$cln = $('#hi').find('span').clone();
$('#hi').html($cln); 
```

### [小提琴](http://jsfiddle.net/BaLAb/8/)

# java - Java GUI 向上和向下按钮

> ID：15498233
> 
> 赞同：1
> 
> 时间：2013-03-19T11:28:50.197
> 
> 标签：java, swing, user-interface, jbutton

我正在创建一个 JAVA Swing Gui 自动取款机，但我遇到了一个问题。

我想创建一个包含项目的列表，用户应该能够使用某种“elementUP”和“elementDown”按钮对列表进行排序。现在我使用带有 ^ 和 v 等简单字符的按钮，但它们看起来不同。

所以我的问题是是否有一些 Swing 或 AWT 内置函数来创建这样的“向上”和“向下”按钮？如果不是，这类问题的典型解决方案是什么？创建一个图像并将该图像设置为按钮，如[将图片用作按钮？](https://stackoverflow.com/questions/73674/using-pictures-as-buttons) ?

我的 gui [http://s22.postimage.org/ytk62h1d9/up_Down_Java.png](http://s22.postimage.org/ytk62h1d9/up_Down_Java.png)

谢谢你的时间

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T11:35:44.183

你可以

*   使用文本（“向上”、“向下”）
*   尝试 unicode 字符（▲、▼）
*   尝试找出图标在滚动条中的显示方式
*   使用图像（就像你提到的）

选择你最喜欢的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-19T12:05:41.097

[`BasicArrowButton`](http://docs.oracle.com/javase/7/docs/api/javax/swing/plaf/basic/BasicArrowButton.html)是另一种方式，就像他们[在这里](https://stackoverflow.com/q/8502068/261156)和[这里](https://stackoverflow.com/q/14446651/261156)展示的那样。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T11:37:23.193

有两种简单的方法可以做到这一点：

### 统一码

一个简单的实现是使用简单的 unicode 字符来表示含义，`.setText(unicodecharacter)`在这里阅读更多内容：[Arrows_in_Unicode](http://en.wikipedia.org/wiki/Arrow_%28symbol%29#Arrows_in_Unicode)

### 图片

正如您所建议的，如果您只想要一个看起来像箭头的组件，请使用图像来模仿它。

# r - 如何在R中将数字拆分为数字

> ID：15498235
> 
> 赞同：24
> 
> 时间：2013-03-19T11:28:50.653
> 
> 标签：r, split, dataframe

我有一个带有数字 ID 变量的数据框，它从多级抽样方案中识别主要、次要和最终抽样单位。我想将原始 ID 变量拆分为三个新变量，分别标识不同的采样单元：

例子：

```
>df[1:2,]
ID Var        var1     var2      var3     var4         var5  
501901          9    SP.1          1        W         12.10    
501901          9    SP.1          2        W         17.68 
```

我想要的是：

```
>df[1:2,]
ID1    ID2     ID3   var1   var2  var3     var4    var5  
5      01      901    9    SP.1    1        W     12.10    
5      01      901    9    SP.1    2        W     17.68 
```

我知道 R 中有一些函数可用于拆分字符串，但我找不到相同的数字工具。

谢谢，

胡安

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-19T11:38:21.807

您可以使用例如使用`substring`：

```
df <- data.frame(ID = c(501901, 501902))

splitted <- t(sapply(df$ID, function(x) substring(x, first=c(1,2,4), last=c(1,3,6))))
cbind(df, splitted)
#      ID 1  2   3
#1 501901 5 01 901
#2 501902 5 01 902 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-03-19T12:04:55.300

另*一种*`read.fwf`选择是使用并指定宽度重新读取第一列：

```
cbind(read.fwf(file = textConnection(as.character(df[, 1])), 
               widths = c(1, 2, 3), colClasses = "character", 
               col.names = c("ID1", "ID2", "ID3")), 
      df[-1])
#   ID1 ID2 ID3 var1 var2 var3 var4  var5
# 1   5  01 901    9 SP.1    1    W 12.10
# 2   5  01 901    9 SP.1    2    W 17.68 
```

这里的一个优点是能够以一种方便的方式设置生成的列名，并确保这些列是*characters*，从而保留可能存在的任何前导零。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-03-19T11:39:58.107

这应该有效：

```
df <- cbind(do.call(rbind, strsplit(gsub('(.)(..)(...)', '\\1 \\2 \\3', paste(df[,1])),' ')), df[,-1]) # You need that paste() there because gsub() works only with text. 
```

或与`substr()`

```
df <- cbind(ID1=substr(df[, 1],1,1), ID2=substr(df[, 1],2,3), ID3=substr(df[, 1],4,6), df[, -1]) 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-03-19T11:47:30.317

由于它们是数字，因此您必须进行一些数学运算才能提取所需的数字。以 radix-10 表示的数字可以写成：

```
d0*10^0 + d1*10^1 + d2*10^2 ... etc. where d0..dn are the digits of the number. 
```

因此，要从数学上表示为的 6 位数字中提取最高有效位：

```
number = d5*10^5 + d4*10^4 + d3*10^3 + d2*10^2 + d1*10^1 + d0*10^0 
```

如您所见，将此数字除以 10^5 将得到：

```
number / 10^5 = d5*10^0 + d4*10^(-1) + d3*10^(-2) + d2*10^(-3) + d1*10^(-4) + d0*10^(-5) 
```

瞧！现在，如果您将结果解释为整数，您已经提取了最高有效数字，因为所有其他数字现在的权重都小于 0，因此小于 1。您可以执行类似的操作来提取其他数字。对于最低有效位置的数字，您可以进行模运算而不是除法。

例子：

```
501901 / 10^5 = 5 // first digit
501901 % 10^5 = 1 // last digit
(501901 / 10^4) % 10^1 = 0 // second digit
(501901 / 10^2) % 10^2 = 19 // third and fourth digit 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2015-03-23T12:16:46.023

几年前已经提出了几个巧妙的答案，但我发现使用该`outer`功能的有用解决方案尚未提及。在这个搜索引擎时代，我把它放在这里以防其他人可以找到它。

我遇到了一个稍微简单的问题：将一列 6 位数字转换为代表每个数字的 6 列。这可以使用`outer`、整数除法 ( `%/%`) 和模 ( `%%`) 的组合来解决。

```
 DF <- data.frame("ID" = runif(3)*10^6, "a" = sample(letters, 3,T))
 DF <- cbind(DF, "ID" = outer(DF$ID, 10^c(5:0), function(a, b) a %/% b %% 10))
 DF
#       ID a ID.1 ID.2 ID.3 ID.4 ID.5 ID.6
# 1 814895 z    8    1    4    8    9    5
# 2 417209 q    4    1    7    2    0    9
# 3 545797 c    5    4    5    7    9    7 
```

这里提出的问题稍微复杂一些，整数除法和模数都需要不同的值。

```
 DF <- data.frame("ID" = runif(3)*10^6, "a" = sample(letters, 3,T))
 DF <- cbind(DF, "ID" = outer(DF$ID, c(1:3), function(a,b) a %/% 10^c(5,3,0)[b] %% 10^b))
 DF
#      ID a ID.1 ID.2 ID.3
# 1 809372 q    8    9  372
# 2 954790 g    9   54  789
# 3 166970 l    1   66  969 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2013-03-19T11:47:38.957

如果您出于某种原因不想转换`character`为，以下是实现您想要的方法之一

```
DF <- data.frame(ID = c(501901, 501902), var1 = c("a", "b"), var2 = c("c", "d"))

result <- t(sapply(DF$ID, function(y) {
    c(y%/%1e+05, (y - y%/%1e+05 * 1e+05)%/%1000, y - y%/%1000 * 1000)
}))

DF <- cbind(result, DF[, -1])

names(DF)[1:3] <- c("ID1", "ID2", "ID3")

DF
##   ID1 ID2 ID3 var1 var2
## 1   5   1 901    a    c
## 2   5   1 902    b    d 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2013-03-19T12:30:47.700

有这么多答案，感觉我需要想出一些东西:)

```
library(qdap)
x <- colSplit(dat$ID_Var, col.sep="")
data.frame(ID1=x[, 1], ID2=paste2(x[, 2:3], sep=""), 
    ID3=paste2(x[, 4:6],sep=""), dat[, -1])

##   ID1 ID2 ID3 var1 var2 var3 var4  var5
## 1   5  01 901    9 SP.1    1    W 12.10
## 2   5  01 901    9 SP.1    2    W 17.68 
```

# sharepoint - sharepoint 自动托管应用程序方面

> ID：15498241
> 
> 赞同：0
> 
> 时间：2013-03-19T11:28:58.820
> 
> 标签：sharepoint, azure, office365, sharepoint-2013

我最近开始为 SharePoint 2013 开发应用程序。应用程序是自动托管的，我的问题是应用程序是自动托管的到底是什么意思。

我知道组件不在 SharePoint 上工作，而是在外部设备上工作。在这种情况下，在 windows azure cloud 中。（自动托管），但我的问题是 windows azure 帐户如何连接到 office365 帐户？因为我无需任何 Windows azure 凭据即可将 SharePoint 2013 应用程序部署到 Office 365。

所以我的问题是使用哪个 Windows azure 帐户？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T10:33:36.983

The account is entirely handled by Microsoft: you could even ignore about its existence (but you can use some Azure's features, though).

For information about the features available with each plan, please refer to [http://technet.microsoft.com/en-US/library/jj819267.aspx](http://technet.microsoft.com/en-US/library/jj819267.aspx).

For information about boundaries and limits of each Subscription level, you can refer to [http://office.microsoft.com/en-us/office365-sharepoint-online-enterprise-help/sharepoint-online-software-boundaries-and-limits-HA102694293.aspx](http://office.microsoft.com/en-us/office365-sharepoint-online-enterprise-help/sharepoint-online-software-boundaries-and-limits-HA102694293.aspx).

Best regards, Simone

# ios - AVAssetWriter：如何多次写入单个文件

> ID：15498244
> 
> 赞同：3
> 
> 时间：2013-03-19T11:29:13.050
> 
> 标签：ios, objective-c, avfoundation, avassetwriter

我可以使用 AVFondation 录制视频并将其保存在文档目录中，现在我想重新打开保存的视频文件并从该文件的末尾重新开始录制，这可能还是我必须创建多个视频文件和合并它们，请指教！

问候，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T16:59:03.753

我很确定没有办法让 AVAssetWriter 多路复用器附加到现有文件。当然，如果您需要在启动新文件时预先添加所有现有数据，那么启动速度会很慢。

另一种方法是启动一个新的临时文件，并将后台的数据复制到第三个文件中，使用类似于[http://www.gdcl.co.uk/2013/02/20/iOS-Video-Encoding 的内容。 .html](http://www.gdcl.co.uk/2013/02/20/iOS-Video-Encoding.html) _ 也就是说，您有文件 1，该文件在您暂停时已关闭。恢复时您开始写入文件 2，同时从 1 读取并写入新文件 3。当您用尽 1 时，您可以从文件 2 读取（使用上面链接的示例代码）并将其附加到文件3.

G

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:42:31.083

我认为您应该阅读保存的视频，然后以 NSData 格式附加录制的视频，然后再次重写整个数据..您可以使用 NSMutableData 来 appendData..

# facebook - 我的 Facebook 上没有“赞”按钮的通知？

> ID：15498245
> 
> 赞同：-1
> 
> 时间：2013-03-19T11:29:14.733
> 
> 标签：facebook, button, notifications, facebook-like

当我点击我[网站](http://www.johanna-vaude.com)上的“喜欢按钮”时，我的 Facebook 页面上没有通知。对于我网站上的旧文章，当我“喜欢”时，我可以在 facebook 上看到通知，但它不适用于新文章。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:40:14.680

查看您在 facebook 中的活动日志，以确保“赞”按钮有效。如果您没有从活动日志中看到任何内容，这可能意味着“赞”按钮不起作用。

# java - 使用Java优化下载速度

> ID：15498246
> 
> 赞同：0
> 
> 时间：2013-03-19T11:29:19.637
> 
> 标签：java, performance, download, fileinputstream

我在java中有一个方法可以从网上下载文件，但是通过java代码下载比使用任何浏览器下载要慢。

我的代码如下，

```
 public void downloadFile(String downloadURL) {

            System.out.println("Starting file download .....");

            BufferedInputStream in = null;
            FileOutputStream fout = null;
            try {
                URL u = new URL(downloadURL);
                HttpURLConnection uc = (HttpURLConnection) u.openConnection();
                String fileName = uc.getHeaderField("Content-Disposition");
                fileName = YouTubeDownloader.parseResponse(fileName, "filename=\"", "\"");
                System.out.println(fileName);

                if (uc.getHeaderField("Content-Length") == null) {
                    System.out.println("File Length zero!!!!");

                }

                float fileSize = Float.parseFloat(uc.getHeaderField("Content-Length"));

                in = new BufferedInputStream(uc.getInputStream());

                System.out.println("File size : " + fileSize);

                fout = new FileOutputStream("c:\\Dinesh\\" + fileName);

                byte data[] = new byte[1024];
                int count = 0;
                int downloaded = 0;
                while ((count = in.read(data, 0, 1024)) != -1) {

                    downloaded += count;
                    int downloadPercentage = (int) ((downloaded / fileSize) * 100);
                    System.out.println(downloadPercentage);
                    fout.write(data, 0, count);
                }

                System.out.println("File download completed.....");

            } catch (Exception e) {
                System.out.println(e);
            }
    } 
```

下载速度太慢是因为缓冲区较小吗？

我可以增加缓冲区大小或如何优化缓冲区以降低下载速度吗？

我需要修改哪些内容？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T12:45:47.490

如果您不需要监控进度，请尝试以下操作：

```
Path saveFile = Paths.get("C:\\Dinesh", fileName);
Files.copy(uc.getInputStream(), saveFile); 
```

# c# - 对 li 中包含除简单文本以外的其他标签的 ul 进行排序

> ID：15498249
> 
> 赞同：0
> 
> 时间：2013-03-19T11:29:22.633
> 
> 标签：c#, javascript, jquery, html, sorting

我有一个带有 li 标签的无序列表。每个 li 依次包含其他标签和文本。代码如下：

```
<input type="button" value="A-Z" class="sortNameAsc" />
<ul id="sortable">
@foreach (var item in Model)
{
  <li><article>
  <ul class="listItemLinks">
  <li class="firstListItemLink"><a href="#" onclick="MoveItem(this.parentNode.parentNode.parentNode.parentNode)">
    <img src="@Url.Content("~/Content/icons/UpArrow.png")" alt="Move Up" title="Move Up" />
  </a></li> 
    <li>@Html.ActionImage("Edit", "Todo", new { id = item.ListItemID }, "~/Content/icons/edit.png", "Edit note")</li>
    <li>@Html.ActionImage("Delete", "Todo", new { id = item.ListItemID }, "~/Content/icons/delete.png", "Permanently remove note")</li>        
    @{if (item.Finished)
      { 
      <li>
      @Html.ActionImage("Finish", new { id = item.ListItemID }, "~/Content/icons/reopen.png", "Reopen note")
      </li>
      }
      else
      { 
        <li>
        @Html.ActionImage("Finish", new { id = item.ListItemID }, "~/Content/icons/complete.png", "Complete note")
        </li>
      }
    }
    <li><span title="@item.DueDate.ToLongDateString()">@item.DueDate.ToShortDateString()</span></li>
</ul>
<p class="listItem" title="@item.Content">
@{if (item.Finished)
  {@:<del>
  @Html.Truncate(item.Content, 190)
  @:</del>
  }
  else
  { 
    @Html.Truncate(item.Content, 190)        
  }
}
</p>    
</article></li>
}
</ul> 
```

我想根据`<p class="listItem" title="@item.Content">`和（如果可能的话`<li><span title="@item.DueDate.ToLongDateString()">@item.DueDate.ToShortDateString()</span></li>`）使用 jquery/javascript 对（内容和日期）进行排序。

我编写了一个对列表进行排序的小函数，但只有排序后的文本保留在列表（`<p class="listItem" .../>`）中，如 html。的其他元素`<li>s`被删除（listItemLinks）。

我的排序脚本是（对javascript/jquery知之甚少）：

```
<script type="text/javascript">
  $(document).ready(function () {
    $(".sortNameAsc").click(function (evt) {
      $('body #sortable').html($('#sortable li article .listItem').sort(function (a, b) {
        return ($(b).text()) < ($(a).text());
      }));
    });
  });
</script> 
```

有人可以提供一些帮助，根据内容和日期对列表进行排序，同时保留列表项文本和其他内容吗？

# java - 在 Oracle、java 和 Linux 操作系统中检查字 符编码

> ID：15498250
> 
> 赞同：0
> 
> 时间：2013-03-19T11:29:23.423
> 
> 标签：java, linux, oracle, encoding

我有一个应用程序处理一些数据并将其加载到数据库中。传入的数据按以下格式接收：

```
aaaaaaa aaaa® aaaaaaa 
```

运行java进程加载数据后，在数据库中显示如下：

啊啊啊啊啊啊啊啊啊

我在测试服务器上使用相同的文件运行相同的进程，并且它在测试服务器上正确显示。我需要比较两台服务器以找出服务器编码的区别。

如何更改以下配置的编码：

```
The oracle database (Oracle 11g)
The linux operating system
The JDK (version 1.6) 
```

谢谢

# nxbre - NxBRE - 使用流引擎进行日期验证

> ID：15498251
> 
> 赞同：1
> 
> 时间：2013-03-19T11:29:25.297
> 
> 标签：nxbre

如何比较`.xbre`规则文件中的日期。

例如，我有以下规则：

```
<ObjectLookup id ="EmpObj" objectId ="EmpLvl" member ="JoinDate"/>
 <Logic>
    <If>
      <And>
        <Between leftId ="2009-10-10" rightId ="2010-10-10" valueId ="EmpObj">          
        </Between>
      </And>
      <Do>
        <Modify id ="LVL" type="String" value ="Sr"/>
      </Do>
    </If>
    <ElseIf>
      <And>
        <Between leftId ="2010-10-10" rightId ="2014-10-10" valueId ="EmpObj" excludeLeft ="true">
        </Between>
      </And>
      <Do>
        <Modify id ="LVL" type="String" value ="Jr"/>
      </Do>
    </ElseIf>
</Logic> 
```

根据传递的 JoinDate，我需要根据日期范围获取一个字符串。当我运行上述规则时，它采用中提到的日期`leftId`，`rightId`但不采用日期范围。

如何检查日期范围/日期之间？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T16:05:43.113

您必须确保类型在整体上是一致的，即您在测试的值和使用的边界中都使用`Strings`或`DateTime`类型`Between`。

# .net - 无法加载文件或程序集“PDFNet”或其依赖项之一。试图加载格式不正确的程序

> ID：15498256
> 
> 赞同：8
> 
> 时间：2013-03-19T11:29:42.727
> 
> 标签：.net, load, .net-assembly

我正在尝试从 VS2012 中的空白 Web 表单模板构建示例 Web 应用程序，并将 PDFNet dll 添加到其中。如果我在 .NET 3.5 中运行项目没问题。如果我在 .NET >= 4 中运行它，我会收到此错误：

无法加载文件或程序集“PDFNet64”或其依赖项之一。试图加载格式不正确的程序。

这是堆栈跟踪：

```
Assembly manager loaded from:  C:\Windows\Microsoft.NET\Framework\v4.0.30319\clr.dll
Running under executable  C:\Program Files (x86)\IIS Express\iisexpress.exe
--- A detailed error log follows. 

=== Pre-bind state information ===
LOG: User = COLLAB\mirko.lugano
LOG: DisplayName = PDFNet64
 (Partial)
WRN: Partial binding information was supplied for an assembly:
WRN: Assembly Name: PDFNet64 | Domain ID: 2
WRN: A partial bind occurs when only part of the assembly display name is provided.
WRN: This might result in the binder loading an incorrect assembly.
WRN: It is recommended to provide a fully specified textual identity for the assembly,
WRN: that consists of the simple name, version, culture, and public key token.
WRN: See whitepaper http://go.microsoft.com/fwlink/?LinkId=109270 for more information and common solutions to this issue.
LOG: Appbase = file:///c:/users/mirko.lugano/documents/visual studio 2012/Projects/WebApplication3/WebApplication3/
LOG: Initial PrivatePath = c:\users\mirko.lugano\documents\visual studio 2012\Projects\WebApplication3\WebApplication3\bin
Calling assembly : (Unknown).
===
LOG: This bind starts in default load context.
LOG: Using application configuration file: c:\users\mirko.lugano\documents\visual studio 2012\Projects\WebApplication3\WebApplication3\web.config
LOG: Using host configuration file: C:\Users\mirko.lugano\Documents\IISExpress\config\aspnet.config
LOG: Using machine configuration file from C:\Windows\Microsoft.NET\Framework\v4.0.30319\config\machine.config.
LOG: Policy not being applied to reference at this time (private, custom, partial, or location-based assembly bind).
LOG: Attempting download of new URL file:///C:/Windows/Microsoft.NET/Framework/v4.0.30319/Temporary ASP.NET Files/root/ccfa215a/dc93c54d/PDFNet64.DLL.
LOG: Attempting download of new URL file:///C:/Windows/Microsoft.NET/Framework/v4.0.30319/Temporary ASP.NET Files/root/ccfa215a/dc93c54d/PDFNet64/PDFNet64.DLL.
LOG: Attempting download of new URL file:///c:/users/mirko.lugano/documents/visual studio 2012/Projects/WebApplication3/WebApplication3/bin/PDFNet64.DLL.
ERR: Failed to complete setup of assembly (hr = 0x8007000b). Probing terminated.

Stack Trace:

[BadImageFormatException: Could not load file or assembly 'PDFNet64' or one of its dependencies. An attempt was made to load a program with an incorrect format.]
   System.Reflection.RuntimeAssembly._nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark& stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks) +0
   System.Reflection.RuntimeAssembly.nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark& stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks) +34
   System.Reflection.RuntimeAssembly.InternalLoadAssemblyName(AssemblyName assemblyRef, Evidence assemblySecurity, RuntimeAssembly reqAssembly, StackCrawlMark& stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks) +152
   System.Reflection.RuntimeAssembly.InternalLoad(String assemblyString, Evidence assemblySecurity, StackCrawlMark& stackMark, IntPtr pPrivHostBinder, Boolean forIntrospection) +77
   System.Reflection.RuntimeAssembly.InternalLoad(String assemblyString, Evidence assemblySecurity, StackCrawlMark& stackMark, Boolean forIntrospection) +16
   System.Reflection.Assembly.Load(String assemblyString) +28
   System.Web.Configuration.CompilationSection.LoadAssemblyHelper(String assemblyName, Boolean starDirective) +38

[ConfigurationErrorsException: Could not load file or assembly 'PDFNet64' or one of its dependencies. An attempt was made to load a program with an incorrect format.]
   System.Web.Configuration.CompilationSection.LoadAssemblyHelper(String assemblyName, Boolean starDirective) +752
   System.Web.Configuration.CompilationSection.LoadAllAssembliesFromAppDomainBinDirectory() +218
   System.Web.Configuration.CompilationSection.LoadAssembly(AssemblyInfo ai) +130
   System.Web.Compilation.BuildManager.GetReferencedAssemblies(CompilationSection compConfig) +170
   System.Web.Compilation.WebDirectoryBatchCompiler..ctor(VirtualDirectory vdir) +124
   System.Web.Compilation.BuildManager.BatchCompileWebDirectoryInternal(VirtualDirectory vdir, Boolean ignoreErrors) +44
   System.Web.Compilation.BuildManager.BatchCompileWebDirectory(VirtualDirectory vdir, VirtualPath virtualDir, Boolean ignoreErrors) +187
   System.Web.Compilation.BuildManager.CompileWebFile(VirtualPath virtualPath) +74
   System.Web.Compilation.BuildManager.GetVPathBuildResultInternal(VirtualPath virtualPath, Boolean noBuild, Boolean allowCrossApp, Boolean allowBuildInPrecompile, Boolean throwIfNotFound, Boolean ensureIsUpToDate) +299
   System.Web.Compilation.BuildManager.GetVPathBuildResultWithNoAssert(HttpContext context, VirtualPath virtualPath, Boolean noBuild, Boolean allowCrossApp, Boolean allowBuildInPrecompile, Boolean throwIfNotFound, Boolean ensureIsUpToDate) +103
   System.Web.Compilation.BuildManager.GetVirtualPathObjectFactory(VirtualPath virtualPath, HttpContext context, Boolean allowCrossApp, Boolean throwIfNotFound) +165
   System.Web.Compilation.BuildManager.CreateInstanceFromVirtualPath(VirtualPath virtualPath, Type requiredBaseType, HttpContext context, Boolean allowCrossApp) +43
   System.Web.UI.PageHandlerFactory.GetHandlerHelper(HttpContext context, String requestType, VirtualPath virtualPath, String physicalPath) +31
   System.Web.UI.PageHandlerFactory.GetHandler(HttpContext context, String requestType, String virtualPath, String path) +37
   System.Web.MaterializeHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() +346
   System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously) +155

Version Information: Microsoft .NET Framework Version:4.0.30319; ASP.NET Version:4.0.30319.18033 
```

我已经在网络和谷歌群组中进行了很多搜索，并且我已经尝试过这些解决方案（以及其他解决方案）[，](https://groups.google.com/forum/?fromgroups=#!searchin/pdfnet-sdk/load%2420assembly/pdfnet-sdk/jXBDWdV0_NQ/lbTUzboBmncJ)例如[THIS](https://groups.google.com/forum/?fromgroups=#!searchin/pdfnet-sdk/load%2420assembly/pdfnet-sdk/OqVycSlOlB0/WN7UNwJ-7FoJ)

我正在运行 Windows 8 x64 PC，并且我的机器上确实安装了 Visual c++ 2010 x64 可再发行组件。我还尝试了从 pdftron.com 下载的示例提供的控制台应用程序，这些应用程序在所有版本的 .NET 中都可以正常工作。我尝试过创建自己的控制台应用程序，它也适用于所有版本的 .NET。我当时以为可能是VS2012开发服务器的问题，它运行在x86模式下，所以我建立了一个IIS网站并从那里运行它，但仍然是同样的问题。我有点失落，有人有什么想法吗？谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-21T09:43:35.180

感谢@ pdftron.com 伙计们的支持，问题得以解决。[这](https://groups.google.com/forum/#!topic/pdfnet-sdk/KjFgCY9oNPM)是解决方案。在我的特定情况下，我将 IIS 设置中的“启用 32 位应用程序”应用程序池设置设置为 True，这与 PDFNet.dll 的 x64 版本有某种冲突。将其重置为 false 解决了该问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-06-09T07:33:39.127

[![在此处输入图像描述](../Images/97a0d731fedaa68fe57fb3e4ed9e01c0.png)](https://i.stack.imgur.com/F0B2s.png)

通过将 DLL 的“本地复制”设置为 True 解决了我的问题。IIS 应用程序池也需要 32 位支持关闭。

# javascript - AJAX 响应过多

> ID：15498257
> 
> 赞同：1
> 
> 时间：2013-03-19T11:29:46.357
> 
> 标签：javascript, ajax

我正在发出一个简单的 AJAX 请求并使用以下代码在 JS 控制台中记录响应。它工作得非常好，但困扰我的一件事是它从服务器返回了 3 个响应（见附图）。

任何人都可以解释为什么会这样吗？

```
var xmlHttp = newXMLHttpObj();

function newXMLHttpObj(){
    var xml;
    if(window.XMLHttpRequest){
        xml = new XMLHttpRequest();     
    } else{
        xml = new ActiveXObject("Microsoft.XMLHTTP");
    }

    return xml;
}

function ajaxHandler(){
    if (xmlHttp.readyState == 4 && xmlHttp.status == 200){
        //handle response
        var response = xmlHttp.responseXML.documentElement;
        console.log(response);
        var name = response.getElementsByTagName("name")[0].firstChild.data;
        var age = response.getElementsByTagName("age")[0].firstChild.data;
        ajaxContent.innerHTML = "Name: " + name + "<br />Age: " + age;
    } else{
        setTimeout(ajaxHandler, 1000);
    }
}

function ajaxProcess(){
    var ajaxContent = document.getElementById("ajaxContent");
    ajaxContent.innerHTML = "loading";
    //check server is ready to comunicate
    if (xmlHttp.readyState == 0 || xmlHttp.readyState == 4){
        xmlHttp.open("POST", "/js/test.php", true);
        xmlHttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xmlHttp.onreadystatechange = ajaxHandler;
        xmlHttp.send("name=the chuff&age=26");
    } else{
        setTimeout(ajaxProcess, 1000); //restart ajaxProcess until ready to comunicate
    }
} 
```

![控制台截图](../Images/7d48553647ec569cdd29ee5b5debbd69.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T12:25:32.547

发生这种情况是因为您的流程如下所示：

1.  请求对象未初始化并且`xmlHttp.readyState == 0`
2.  `ajaxHandler`被绑定为处理程序以准备状态更改（无论状态如何）
3.  请求被初始化并发送
4.  服务器连接建立并`xmlHttp.readyState == 1`
5.  就绪状态改变并被`ajaxHandler`调用
6.  **由于`xmlHttp.readyState != 4`新`ajaxHandler`呼叫安排在 1 秒后**
7.  收到的请求和`xmlHttp.readyState == 2`
8.  就绪状态改变并被`ajaxHandler`调用
9.  **由于`xmlHttp.readyState != 4`新`ajaxHandler`呼叫安排在 1 秒后**
10.  请求被处理并且`xmlHttp.readyState == 3`
11.  就绪状态改变并被`ajaxHandler`调用
12.  **由于`xmlHttp.readyState != 4`新`ajaxHandler`呼叫安排在 1 秒后**
13.  请求完成，响应准备就绪，`xmlHttp.readyState == 4`
14.  第一次将响应写入控制台
15.  1s 过去了，预定`ajaxHandler`的调用又被调用**了 3 次！**并且响应被写入控制台 3 次以上。

因此，通常您应该看到响应记录到控制台**4**次，但并非所有浏览器都通过所有就绪状态（例如，可能没有单独的就绪状态 3 并且浏览器从 2 直接切换到 4），这就是您记录响应 3 次的原因.

如果您想修复它，请不要重新安排`ajaxHandler`：

```
function ajaxHandler(){
    if (xmlHttp.readyState == 4 && xmlHttp.status == 200){
        //handle response
        flag = true;
        var response = xmlHttp.responseXML.documentElement;
        console.log(response);
        var name = response.getElementsByTagName("name")[0].firstChild.data;
        var age = response.getElementsByTagName("age")[0].firstChild.data;
        ajaxContent.innerHTML = "Name: " + name + "<br />Age: " + age;
    }
} 
```

最后，使用像 jQuery 这样的库会更容易和方便地照顾所有这些员工。[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

# jsp - 从 jsp 检查转换后的 servlet 的预览

> ID：15498258
> 
> 赞同：0
> 
> 时间：2013-03-19T11:29:46.450
> 
> 标签：jsp, servlets

我是 j2ee 世界的新手，但我仍在学习它，我已经阅读了 servlet 并通过 JSP，因为我发现 JSP 最终也通过 web 容器转换为 servlet，是否有任何工具在线工具或其他东西它还可以显示 jsp 的预览转换为 servlet 本身，只是一个快照，虽然我知道我也可以在 webserver 文件夹中检查相同的内容。！请指教

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:38:31.903

**如果你使用tomcat**你不需要任何工具你可以直接看到jsp相等的servlet

**Apache 软件基金会\Tomcat 6.0\work\Catalina\localhost**

这里 .java && .class 直接可用

大多数服务器也可以

# android - 为 Vitamio 播放器设置代理

> ID：15498259
> 
> 赞同：0
> 
> 时间：2013-03-19T11:29:47.777
> 
> 标签：android, android-mediaplayer, playback

我想播放彩信流，所以我使用 Vitamio Player。在开放网络上，它播放得很好。但是在代理上会出错。那么我该如何为其设置代理..我试过了

```
System.setProperty("http.proxyHost", "my proxy host name");
System.setProperty("http.proxyPort", "8080"); 
```

但似乎不适用于 vitamio 播放器，也不适用于 android 媒体播放器。我的目标是`Android 4.2`。是否仍然没有设置代理的规定`Android Media PLayer`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T15:49:44.887

我认为全局代理是`ConnectivityService.java`通过[http://androidxref.com/4.2_r1/xref/frameworks/base/services/java/com/android/server/ConnectivityService.java#3054](http://androidxref.com/4.2_r1/xref/frameworks/base/services/java/com/android/server/ConnectivityService.java#3054)`setGlobalProxy`中所示设置的。我不确定是否有任何系统属性来设置全局代理。

# php - PHP to create XML file from Mysql data?

> ID：15498261
> 
> 赞同：2
> 
> 时间：2013-03-19T11:29:48.590
> 
> 标签：php, mysql, xml, flash

I have a PHP file that will show some products from Mysql database. this works without any issue.

But I need to create an XML file from this PHP file in order to be able to load it into flash.

I have done the most part and the PHP file creates an XML file on the server and pulls the data (only text format data, i.e. product name, price, details, date added etc etc) and it works perfectly fine BUT, i don't know what to do for the images part!!

This is the original PHP file:

```
<?php 
// Script Error Reporting
error_reporting(E_ALL);
ini_set('display_errors', '1');
?>
<?php 
// Run a select query to get my letest 6 items
// Connect to the MySQL database  
include "storescripts/connect_to_mysql.php"; 
$dynamicList = "";
$sql = mysql_query("SELECT * FROM products ORDER BY date_added DESC LIMIT 6");
$productCount = mysql_num_rows($sql); // count the output amount
if ($productCount > 0) {
    while($row = mysql_fetch_array($sql)){ 
             $id = $row["id"];
             $product_name = $row["product_name"];
             $price = $row["price"];
             $date_added = strftime("%b %d, %Y", strtotime($row["date_added"]));
             $dynamicList .= '<table width="100%" border="0" cellspacing="0" cellpadding="6">
        <tr>
          <td width="17%" valign="top"><a href="product.php?id=' . $id . '"><img style="border:#666 1px solid;" src="inventory_images/' . $id . '.jpg" alt="' . $product_name . '" width="77" height="102" border="1" /></a></td>
          <td width="83%" valign="top">' . $product_name . '<br />
            $' . $price . '<br />
            <a href="product.php?id=' . $id . '">View Product Details</a></td>
        </tr>
      </table>';
    }
} else {
    $dynamicList = "We have no products listed in our store yet";
}
mysql_close();
?> 
```

and this is the PHP file that creates the XML file:

```
<?php 
error_reporting(E_ALL);
ini_set('display_errors', '1');
?>
<?php 
header("Content-Type: text/xml"); //set the content type to xml
// Initialize the xmlOutput variable
$xmlBody = '<?xml version="1.0" encoding="ISO-8859-1"?>';
$xmlBody .= "<XML>";
// Run a select query to get my letest 6 items
// Connect to the MySQL database  
include "../config/connect_to_mysql.php"; 
$dynamicList = "";
$sql = mysql_query("SELECT * FROM products ORDER BY date_added DESC LIMIT 6");
$productCount = mysql_num_rows($sql); // count the output amount
if ($productCount > 0) {
    while($row = mysql_fetch_array($sql)){ 
             $id = $row["id"];
             $product_name = $row["product_name"];
             $price = $row["price"];
             $image = $row["<a href="../product.php?id=' . $id . '"><img src="../inventory_images/' . $id . '.jpg" alt="' . $product_name . '"/></a>"];
             $date_added = strftime("%b %d, %Y", strtotime($row["date_added"]));
    $xmlBody .= '
<Data> 
    <DataID>' . $id . '</DataID> 
    <DataTitle>' . $product_name . '</DataTitle>
    <DataDate>' . $price . '</DataDate>
    <DataImage>' . $image . '</DataImage>
    <DataDescr>' . $date_added . '</DataDescr>
</Data>';
} // End while loop
mysql_close(); // close the mysql database connection
$xmlBody .= "</XML>";
echo $xmlBody; // output the gallery data as XML file for flash
}
?>
<?php echo $dynamicList; ?> 
```

as you can see I have placed this line of code:

```
$image = $row["<a href="../product.php?id=' . $id . '"><img src="../inventory_images/' . $id . '.jpg" alt="' . $product_name . '"/></a>"]; 
```

in the code above but I am keep getting this error: Parse error: syntax error, unexpected '.' in line 21 and line 21 is the line of code I mentioned above!

I would greatly appreciate your help.

Thanks

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:41:29.173

您没有正确使用双引号和单引号，您可能需要删除 $row[] 部分。你的线

```
$image = $row["<a href="../product.php?id=' . $id . '"><img src="../inventory_images/' . $id . '.jpg" alt="' . $product_name . '"/></a>"]; 
```

应该

```
$image = "<a href='../product.php?id=" . $id . "'><img src='../inventory_images/" . $id . ".jpg' alt='" . $product_name . "'/></a>"; 
```

# windows-phone-7 - how to Json Parsing and display data in Windwos Phone 7 using C# code

> ID：15498263
> 
> 赞同：1
> 
> 时间：2013-03-19T11:29:51.117
> 
> 标签：windows-phone-7, c#-4.0

```
 void myButton_Click(object sender, RoutedEventArgs e)
        {

            WebClient webClient = new WebClient();
            webClient.DownloadStringCompleted += new DownloadStringCompletedEventHandler(webClient_DownloadStringCompleted);

            webClient.DownloadStringAsync(new Uri("http://www.taxmann.com/TaxmannWhatsnewService/mobileservice.aspx?service=topstories"));
        }

   void webClient_DownloadStringCompleted(object sender, DownloadStringCompletedEventArgs e)
        {
            var rootObject = JsonConvert.DeserializeObject<List<Contacts>>(e.Result);         
        }

        public class Contacts
        {
            public string news_id { get; set; }
            public string news_title { get; set; }
            public string website_link { get; set; }
            public string imagepath { get; set; }
            public string news_date { get; set; }
            public string news_detail_description { get; set; }

        } 
```

This is My C# code. I am able to count the Number of items `var rootObject = JsonConvert.DeserializeObject<List<Contacts>>(e.Result);` contain in response But i am Unable to Print data. Please help me how I can print. Please print atleast One item so that i can Understand

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:48:10.690

您必须在 XAML 中准备 UI 并从代码隐藏设置数据绑定。

示例 xml 代码：

```
<ListBox Name="ListBoxNews" Margin="10,0,30,0" Height="486" Width="404" FontSize="20">
            <ListBox.ItemTemplate>
                <DataTemplate >
                    <StackPanel Margin="10,0,10,8">
                        <TextBlock Text="{Binding news_date}" TextWrapping="Wrap" FontSize="18" />
                        <TextBlock Text="{Binding news_title}" TextWrapping="Wrap" FontSize="24" /> 
                    </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox> 
```

以及来自代码隐藏的数据绑定。

```
void webClient_DownloadStringCompleted(object sender, DownloadStringCompletedEventArgs e)
    {
        var rootObject = JsonConvert.DeserializeObject<List<Contacts>>(e.Result);
        ListBoxNews.ItemsSource = rootObject;
    } 
```

试试这个，问我你是否还有疑问。

# ruby-on-rails - Rails paperclip static files with absolute url

> ID：15498269
> 
> 赞同：2
> 
> 时间：2013-03-19T11:30:14.590
> 
> 标签：ruby-on-rails, ruby-on-rails-3, paperclip

I have a model with one paperclip attachment :image

**Model:**

```
class HomeScreen < ActiveRecord::Base
  before_create { !HomeScreen.has_record? }
  validates :image, :attachment_presence => true
  attr_accessible :image
  has_attached_file :image

  def self.has_record?
    if HomeScreen.last
      true
    else
      false
    end
  end
end 
```

show method of my conttroller should return image with relative path but json should return absolute url with domain, how can I do that?

**Controller:**

```
class HomeScreenController < ApplicationController
  # GET /home_screen
  def show    
    @home_screen = HomeScreen.last

    respond_to do |format|
      format.html
      format.json { render json: @home_screen }
    end
  end 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T11:41:02.770

根据[github issue](https://github.com/thoughtbot/paperclip/issues/584)，您可以执行以下操作：

```
image_uri = URI.join(request.url, @home_screen.image.url) 
```

这将是一个`URI`对象，可以`String`用它的`.to_s`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-09T18:09:50.280

根据相同的[github 问题](https://github.com/thoughtbot/paperclip/issues/584#issuecomment-1985865)，它使用起来更干净，`ActionController::Base.asset_host`因此会产生助手：

```
 def add_host_prefix(url)
    URI.join(ActionController::Base.asset_host, url)
  end 
```

这假设您在每个`/config/environments/<environment>.rb`文件中都有以下内容：

```
Appname::Application.configure do

  # ....

  config.action_controller.asset_host = 'http://localhost:3000' # Locally

  # ....

end 
```

# c# - 带有运算符的通用值和类型比较器

> ID：15498270
> 
> 赞同：1
> 
> 时间：2013-03-19T11:30:15.633
> 
> 标签：c#, generics, compare

我有一个业务逻辑，基于预定义的条件（`OperatorType`和比较值），验证它是真还是假。这里的问题是值是“键入的”，并且带有运算符（大于/小于/等于等）。

如果`ValueType`是Integer，则需要`Integer`先将值和比较值转换成，然后根据`OperatorType`，进行比较。

我想知道我是否可以有一个通用函数，传递`CompareValue`, `Value`, `ValueType`,`OperatorType`并返回真/假。

```
using System;
using System.Collections.Generic;

namespace Test
{
    class Program
    {
        static void Main(string[] args)
        {
            var compare1 = 3;
            var foo1 = new Foo { Value = "2", OperatorType = OperatorTypes.GreaterOrEqual, ValueType = ValueTypes.Long };
            //compare compare1 and foo1.Value, output should be false (2 < 3)

            var compare2 = true;
            var foo2 = new Foo { Value = "True", OperatorType = OperatorTypes.Equal, ValueType = ValueTypes.Bool };
            //compare compare2 and foo2.Value, output should be true (true = true)

            var compare3 = DateTime.Parse("2013-03-19 15:00");
            var foo3 = new Foo { Value = "2013-03-19 16:00", OperatorType = OperatorTypes.Less, ValueType = ValueTypes.Date };
            //compare compare3 and foo3.Value, output should be false (2013-03-19 16:00 < 2013-03-19 15:00)
        }
    }

    public enum OperatorTypes : uint
    {
        Equal = 1,
        Greater = 2,
        GreaterOrEqual = 3,
        Less = 4,
        LessOrEqual = 5
    }

    public enum ValueTypes : uint
    {
        None = 0,
        Integer = 1,
        Long = 2,
        Numeric = 3,
        Date = 4,
        Text = 5,
        Bool = 6
    }

    class Foo
    {
        public string Value { get; set; }
        public ValueTypes ValueType { get; set; }
        public OperatorTypes OperatorType { get; set; }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T12:06:41.653

```
class Program
{
    static void Main(string[] args)
    {
        Console.WriteLine(Compare<double>("123.1", 125.3, (a, b) => a > b));
        Console.WriteLine(Compare<DateTime>("19/03/2013", DateTime.Now, (a, b) => a == b));
    }

    private static bool Compare<T>(string valueAsString, T valueToComapare, Func<T,T,bool> check)
    {
        var asObject = (T)Convert.ChangeType(valueAsString, typeof(T));

        if (asObject != null)
        {
            return check(asObject, valueToComapare);
        }

        return false;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:51:58.137

事不宜迟，让您开始：

```
using System;
using System.Diagnostics;
using System.Collections.Generic;

namespace Test
{
    class Program
    {
        public static dynamic CompareVal(Foo logic)
        {
            switch(logic.ValueType)
            {
                case ValueTypes.Integer: return Convert.ToInt32(logic.Value);
                case ValueTypes.Long:    return Convert.ToInt64(logic.Value);
                case ValueTypes.Numeric: return Convert.ToDecimal(logic.Value);
                case ValueTypes.Date:    return Convert.ToDateTime(logic.Value);
                case ValueTypes.Text:    return logic.Value;
                case ValueTypes.Bool:    return Convert.ToBoolean(logic.Value);
            }
            throw new InvalidProgramException("Unsupported ValueType");
        }

        public static bool Evaluate(dynamic val, Foo logic)
        {
            dynamic cmpval = CompareVal(logic);

            switch(logic.OperatorType)
            {
                case OperatorTypes.Equal:          return val == cmpval;
                case OperatorTypes.Greater:        return val >  cmpval;
                case OperatorTypes.GreaterOrEqual: return val >= cmpval;
                case OperatorTypes.Less:           return val <  cmpval;
                case OperatorTypes.LessOrEqual:    return val <= cmpval;
            }

            return false;
        }

        static void Main(string[] args)
        {
            //compare compare1 and foo1.Value, output should be false (2 < 3)
            Debug.Assert(false == Evaluate(3, new Foo 
                        { 
                            Value = "2", 
                            OperatorType = OperatorTypes.GreaterOrEqual, 
                            ValueType = ValueTypes.Long 
                        }));

            //compare compare2 and foo2.Value, output should be true (true = true)
            Debug.Assert(true == Evaluate(true, new Foo 
                        { 
                            Value = "True", 
                            OperatorType = OperatorTypes.Equal, 
                            ValueType = ValueTypes.Bool 
                        }));

            //compare compare3 and foo3.Value, output should be false (2013-03-19 16:00 < 2013-03-19 15:00)
            Debug.Assert(false == Evaluate(DateTime.Parse("2013-03-19 15:00"), new Foo 
                        { 
                            Value = "2013-03-19 16:00", 
                            OperatorType = OperatorTypes.Less, 
                            ValueType = ValueTypes.Date 
                        }));
        }
    }

    public enum OperatorTypes : uint
    {
        Equal = 1,
        Greater = 2,
        GreaterOrEqual = 3,
        Less = 4,
        LessOrEqual = 5
    }

    public enum ValueTypes : uint
    {
        None = 0,
        Integer = 1,
        Long = 2,
        Numeric = 3,
        Date = 4,
        Text = 5,
        Bool = 6
    }

    class Foo
    {
        public string Value { get; set; }
        public ValueTypes ValueType { get; set; }
        public OperatorTypes OperatorType { get; set; }
    }
} 
```

这可以做很多改进（更好的类型检查、CultureInfo 感知和错误处理）。但是，这是一个开始

# jquery - 未捕获 JQuery 复选框状态更改

> ID：15498272
> 
> 赞同：0
> 
> 时间：2013-03-19T11:30:19.213
> 
> 标签：jquery, jquery-plugins

```
 $tree.find('.checkbox').click(function() {
  $('.PrefCountryTree .countryLi input:checkbox').each(function () { 
                checkbox = $(this);
                chkBoxName = checkbox.attr('name');
                if(chkBoxName.search('chkbox_Region_') >= 0 || chkBoxName.search('chkbox_Country_') >= 0) {
                    if($(this).attr('checked')) {
                        //Do Something...
                    }
                }
} 
```

我正在使用 jQuery 检查树插件。在这里，即使我取消选中复选框，它仍然会给我结果

`.is(':checked') = true`,

`attr('checked') = checked`,

`this.checked = true`.

我需要获取更改后的状态，而不是复选框的初始状态。

我身边缺少什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:32:50.163

您`$(this)`在每个内部都成为 .checkbox 的当前对象，而不是单击的复选框.. 所以`$(this)`在每个外部创建一个变量.. 并检查是否选中了单击的 chekbpx

试试这个

```
$tree.find('.checkbox').click(function() {
   var $this = $(this); //<--here
   $('.PrefCountryTree .countryLi input:checkbox').each(function () { 
            checkbox = $(this);
            chkBoxName = checkbox.attr('name');
            if(chkBoxName.search('chkbox_Region_') >= 0 || chkBoxName.search('chkbox_Country_') >= 0) {
                if($this.attr('checked')) {
                    //Do Something...
                }
            }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:37:05.960

除了[bipen 的答案](https://stackoverflow.com/a/15498325/405398)，更改`click`为`change`.

```
$tree.find('.checkbox').change(function() {
  var $this = $(this); //<--here
  $('.PrefCountryTree .countryLi input:checkbox').each(function () { 
        checkbox = $(this);
        chkBoxName = checkbox.attr('name');
        if(chkBoxName.search('chkbox_Region_') >= 0 || chkBoxName.search('chkbox_Country_') >= 0) {
            if($this.prop('checked')) { //changed attr to prop
                //Do Something...
            }
        }
} 
```

# javascript - javascript中的数学幂舍入问题

> ID：15498274
> 
> 赞同：1
> 
> 时间：2013-03-19T11:30:21.117
> 
> 标签：javascript

我正在尝试移动数字周围的小数位。我有以下设置。

```
dividend = 9130.124;
numFactor = 1;
dividend = (dividend * Math.pow(10, numFactor)); 
```

我得到以下结果

```
91301.23999999999 
```

我以为我会得到类似的东西

```
91301.24 
```

如果我将股息更改为`9130.123`

我得到正确答案`91301.23`

有没有办法解决这个问题或者我错过了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T11:35:40.890

```
Math.ceil(91301.23999999999*100)/100 // = 91301.24 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:45:19.263

```
dividend=9130.124;
numFactor=1;
dp=3;
dividend = (dividend * Math.pow(10,numFactor));
dividend = Math.round(dividend * Math.pow(10,dp) + 0.5) / Math.pow(10, dp) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T11:41:57.043

这是因为你的红利是 9130.12399999 ......所以你必须在改变它之前使用 divide.toFixed() ..

```
dividend = 9130.12399999
dividend.toFixed(3); // here dividend will be 9130.124
numFactor = 1;
dividend = (dividend * Math.pow(10, numFactor)); 
```

您将获得 91301.24

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-19T11:42:23.053

使用 .toFixed(2) 将值四舍五入为两位数。

```
dividend = dividend.toFixed(2); 
```

[http://jsfiddle.net/tamilmani/LR79p/](http://jsfiddle.net/tamilmani/LR79p/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-19T12:31:46.573

尝试这个：

```
 dividend = 9130.124345;
    dividend = dividend.toString();
    numFactor = 2;//can be changed as u need

    var indx = dividend.indexOf( '.' );

    dividend = dividend.replace( /\./g, "" );//remove .
    dividend = dividend.substring( 0, indx + numFactor ) + '.' +
                        dividend .substring( indx + numFactor, dividend.length ); 
```

适用于 numFactor 的任何值。并且不需要额外的库

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-19T11:59:07.540

您还可以使用[Big.js](https://github.com/whatgoodisaroad/Big-js)，它是 Javascript 的任意精度数学库。

然后你的[代码变成](http://jsfiddle.net/wsdookadr/XDTgX/)：

```
var dividend = new Big("9130.124");
dividend = dividend.times(new Big(""+Math.pow(10,1)));
console.log(dividend); 
```

# ruby-on-rails - 安装 Rails 后出现 Jekyll 错误

> ID：15498276
> 
> 赞同：0
> 
> 时间：2013-03-19T11:30:25.143
> 
> 标签：ruby-on-rails, ruby, jekyll

我正在使用 Ubuntu 12.04 LTS。我在 ubuntu 上安装了 rails，然后运行`jekyll --server`​​. 但结果如下：

> lo@lo-Rev-1-0:~/lf2013.github.com$ jekyll --server /usr/lib/ruby/1.9.1/rubygems/dependency.rb:247:in `to_specs': Could not find jekyll (>= 0) amongst [actionmailer-3.2.13, actionpack-3.2.13, activemodel-3.2.13, activerecord-3.2.13, activeresource-3.2.13, activesupport-3.2.13, arel-3.0.2, builder-3.0.4, bundler-1.3.4, bundler-1.3.4, coffee-rails-3.2.2, coffee-script-2.2.0, coffee-script-source-1.6.1, erubis-2.7.0, execjs-1.4.0, hike-1.2.1, i18n-0.6.1, journey-1.0.4, jquery-rails-2.2.1, json-1.7.7, mail-2.5.3, mime-types-1.21, multi_json-1.7.1, polyglot-0.3.3, rack-1.4.5, rack-cache-1.2, rack-ssl-1.3.3, rack-test-0.6.2, rails-3.2.13, railties-3.2.13, rake-10.0.3, rdoc-3.12.2, rubygems-bundler-1.1.1, rvm-1.11.3.6, sass-3.2.7, sass-rails-3.2.6, sprockets-2.2.2, sqlite3-1.3.7, thor-0.17.0, tilt-1.3.6, treetop-1.4.12, tzinfo-0.3.37, uglifier-1.3.0] (Gem::LoadError) from /usr/lib/ruby/1.9.1/rubygems/dependency.rb:256:in`to_spec' 来自 /usr/lib/ ruby/1.9.1/rubygems.rb:1210:in `gem' from /usr/local/bin/jekyll:18:in`'

现在我不知道该怎么做，因为我对 Ruby 知之甚少。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T14:17:21.703

到目前为止，您似乎还没有安装 Jekyll：

运行`gem install jekyll`。

# iphone - 纵向查询所有智能手机

> ID：15498278
> 
> 赞同：-1
> 
> 时间：2013-03-19T11:30:33.910
> 
> 标签：iphone, css, media-queries, iphone-5

我试图实现的是一个媒体查询，**它只适用**于纵向方向的所有智能手机

到目前为止，我一直在使用这个，但它不适用于 iPhone 5。这是为什么？

```
@media only screen and (max-width:800px) and (orientation: portrait){
    aside{ display: none;}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:34:54.280

iPhone 5 显示分辨率为 1136 x 640 像素。新触摸屏的对角线尺寸为 4 英寸，纵横比为 16:9，并带有 326 ppi（每英寸像素）的 Retina 显示屏。

尝试：

```
@media only screen and (min-width: 560px) and (max-device-width: 1136px) {
   aside{ display: none;}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:14:17.770

**纵向的所有移动屏幕：**

在 CSS 中：

```
@media only screen and (max-device-aspect-ratio: 1) and (orientation: portrait) {
     aside{ display: none;}
} 
```

**具有明确设置视口宽度的纵向小型移动屏幕：**

在 HTML 中声明此缩放模式`<head>`

```
<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
```

在 CSS 中：

```
@media only screen and (max-width: 479px) and (max-device-aspect-ratio: 1) and (orientation: portrait) {
     aside{ display: none;}
} 
```

**所有具有默认视口宽度（980px）的纵向移动屏幕：**

注意：在现代网页设计中，定义视口宽度而不是默认的 980 像素已成为标准做法。它是[响应式设计](http://en.wikipedia.org/wiki/Responsive_web_design)不可或缺的一部分。我强烈建议花一些时间来了解它。

在 CSS 中：

```
@media only screen and (width: 980px) and (max-device-aspect-ratio: 1) and (orientation: portrait) {
     aside{ display: none;}
} 
```

# javascript - 在 Chrome 中同时流式传输超过 6 个基于 HTML5 的 webm 视频

> ID：15498279
> 
> 赞同：3
> 
> 时间：2013-03-19T11:30:33.917
> 
> 标签：javascript, google-chrome, video-streaming, html5-video, webm

我正在寻找一种在 Google Chrome 中为 CCTV 应用程序流式传输多个 (16) 实时 webm 视频的方法。到目前为止，我尝试的所有内容都在 6 个直播流中结束，之后视频开始触发“停滞”事件 - 有人知道解决这个问题的方法吗？

这是我正在使用的代码：

```
<html>
<head>
<script src="jquery-1.9.1.min.js" type="text/javascript"></script>
</head>
<body style="border: 0px; margin: 0px; padding: 0px; background-color: #000000; overflow: hidden;">
<div id="divMain" style="display: block; position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; border: 0px; margin: 0px; 

padding: 0px; overflow: hidden;"></div>
<script language="JavaScript" type="text/javascript">
<!--
var streams = new Array();
streams.Load = function (index) {
    console.log(index, 'LOAD');
    streams.push(document.createElement('video'));
    streams[index].id = 'stream' + index;
    streams[index].autoplay = 'autoplay';
    streams[index].style.display = 'block';
    streams[index].style.position = 'absolute';
    streams[index].width = this.Width;
    streams[index].height = this.Height;
    streams[index].style.left = ((index - (Math.floor(index / 4) * 4)) * this.Width) + 'px';
    streams[index].style.top = (Math.floor(index / 4) * this.Height) + 'px';
    streams[index].style.width = this.Width + 'px';
    streams[index].style.height = this.Height + 'px';
    $(streams[index]).bind('loadedmetadata', streams[index], function (event) {
        console.log(event.data.id, 'loadedmetadata');
        var actualRatio = event.data.videoWidth / event.data.videoHeight;
        var targetRatio = $(event.data).width() / $(event.data).height();
        var adjustmentRatio = (targetRatio / actualRatio);
        $(event.data).css('-webkit-transform', 'scaleX(' + adjustmentRatio + ')');
    });
    $(streams[index]).bind('loadstart', streams[index], function (event) { console.log(event.data.id, 'loadstart'); });
    $(streams[index]).bind('emptied', streams[index], function (event) { console.log(event.data.id, 'emptied'); });
    $(streams[index]).bind('canplaythrough', streams[index], function (event) { console.log(event.data.id, 'canplaythrough'); });
    $(streams[index]).bind('ended', streams[index], function (event) { console.log(event.data.id, 'ended'); });
    $(streams[index]).bind('ratechange', streams[index], function (event) { console.log(event.data.id, 'ratechange'); });
    $(streams[index]).bind('stalled', streams[index], function (event) { console.log(event.data.id, 'stalled'); streams.LoadNext(); 

});
    $(streams[index]).bind('playing', streams[index], function (event) { console.log(event.data.id, 'playing'); });
    $(streams[index]).bind('durationchange', streams[index], function (event) { console.log(event.data.id, 'durationchange'); });
    $(streams[index]).bind('volumechange', streams[index], function (event) { console.log(event.data.id, 'volumechange'); });
    $(streams[index]).bind('suspend', streams[index], function (event) { console.log(event.data.id, 'suspend'); });
    $(streams[index]).bind('waiting', streams[index], function (event) { console.log(event.data.id, 'waiting'); });
    $(streams[index]).bind('timeupdate', streams[index], function (event) { console.log(event.data.id, 'timeupdate'); });
    $(streams[index]).bind('abort', streams[index], function (event) { console.log(event.data.id, 'abort'); });
    $(streams[index]).bind('loadeddata', streams[index], function (event) { console.log(event.data.id, 'loadeddata'); });
    $(streams[index]).bind('seeking', streams[index], function (event) { console.log(event.data.id, 'seeking'); });
    $(streams[index]).bind('play', streams[index], function (event) { console.log(event.data.id, 'play'); });
    $(streams[index]).bind('error', streams[index], function (event) { console.log(event.data.id, 'error'); });
    $(streams[index]).bind('canplay', streams[index], function (event) { console.log(event.data.id, 'canplay'); });
    $(streams[index]).bind('seeked', streams[index], function (event) { console.log(event.data.id, 'seeked'); });
    $(streams[index]).bind('pause', streams[index], function (event) { console.log(event.data.id, 'pause'); });
    streams[index].source = document.createElement('source');
    streams[index].source.src = 'http://10.1.1.15:8090/' + index + '.webm';
    streams[index].source.type = 'video/webm';
    streams[index].appendChild(streams[index].source);
    divMain.appendChild(streams[index]);
    streams.LoadNext();
};
streams.LoadNext = function () { if (this.length < 16) { this.Load(this.length); } };
streams.Width = 320;
streams.Height = 240;
$(window).ready(function() {
    var divMain = document.getElementById('divMain');
    streams.Width = divMain.offsetWidth / 4;
    streams.Height = divMain.offsetHeight / 4;
    var tsource = null;
    streams.LoadNext();
});
$(window).resize(function() {
    var divMain = document.getElementById('divMain');
    streams.Width = divMain.offsetWidth / 4;
    streams.Height = divMain.offsetHeight / 4;
    for (var i = 0; i < streams.length; i++) {
        streams[i].width = streams.Width;
        streams[i].height = streams.Height;
        streams[i].style.left = ((i - (Math.floor(i / 4) * 4)) * streams.Width) + 'px';
        streams[i].style.top = (Math.floor(i / 4) * streams.Height) + 'px';
        streams[i].style.width = streams.Width + 'px';
        streams[i].style.height = streams.Height + 'px';
        var actualRatio = streams[i].videoWidth / streams[i].videoHeight;
        var targetRatio = $(streams[i]).width() / $(streams[i]).height();
        var adjustmentRatio = (targetRatio / actualRatio);
        if (adjustmentRatio >= 1) {
            $(streams[i]).css('-webkit-transform', 'scaleX(' + adjustmentRatio + ')');
        } else {
            $(streams[i]).css('-webkit-transform', 'scaleY(' + (1 / adjustmentRatio) + ')');
        }
    }
});
//-->
</script>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T12:43:26.407

我通过设置多个指向同一 IP 地址的子域并在每个子域上运行 4 个流来解决这个问题（为了保持理智而将 2 个打开，以防万一其他任何东西决定攻击它们）。它仍然不是一个允许多个浏览器窗口的解决方案，但它至少可以让所有流同时运行。

# java - 以递归方式生成电源组，没有任何循环

> ID：15498281
> 
> 赞同：11
> 
> 时间：2013-03-19T11:30:36.340
> 
> 标签：java, algorithm, recursion

如何编写一个递归方法 PowerSet(String input) 打印出传递给它的字符串的所有可能组合？

例如： PowerSet("abc") 将打印出 abc,ab,ac,bc,a,b,c

我见过一些带有循环的递归解决方案，但在这种情况下不允许使用循环。

有任何想法吗？

编辑：所需的方法只有一个参数，即字符串输入。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-19T11:53:07.010

的幂`abcd`集是 , 的幂集的并集`abc`（`abd`加上`acd`集合`abcd`本身*）。

```
 P(`abcd`) = {`abcd`} + P(`abc`) + P(`abd`) + P(`acd`) + P(`bcd`) 
```

[* 请注意，作为 P(abcd) 的成员的*空集*也是 P(abc)、P(abd)、...的成员，因此上述等价性成立。]

递归地，P( `abc`) = { `abc`} + P( `ab`) + P( `ac`)，依此类推

第一种方法，在伪代码中，可以是：

```
powerset(string) {
  add string to set;
  for each char in string {
   let substring = string excluding char,
   add powerset(substring) to set
  }
  return set;      
} 
```

当字符串为空时递归结束（因为它永远不会进入循环）。

如果您真的**不**想要循环，则必须将该循环转换为另一个递归。现在我们要生成`ab`,`ac`并`cb`从`abc`

```
powerset(string) {
  add string to set;
  add powerset2(string,0) to set;
  return set
}

powerset2(string,pos) {
  if pos<length(string) then
    let substring = (string excluding the char at pos)
    add powerset(substring) to set
    add powerset2(string,pos+1) to set
  else 
    add "" to set
  endif
  return set
} 
```

**另一种方法**实现了一个递归函数`P`，该函数要么从其参数中删除第一个字符，要么不删除。（这里`+`表示集合并集，`.`表示串联，`λ`为空字符串）

```
P(abcd) = P(bcd) + a.P(bcd)
P(bcd)  = P(cd)  + b.P(cd)
P(cd)   = P(d)   + c.P(d)
P(d)    = λ+d //particular case 
```

然后

```
P(d)    = λ+d
R(cd)   = P(d)  + c.P(d)  = λ + d + c.(λ+d) = λ + d + c + cd
R(bcd)  = P(cd) + b.P(cd) = λ + d + c + cd + b.(λ + d + c + cd)
                          = λ + d + c + cd + b + bd + bc + bcd
P(abcd) =  λ +  d +  c +  cd +  b +  bd +  bc +  bcd 
        + aλ + ad + ac + acd + ab + abd + abc + abcd 
```

如果允许循环，则`P`退出电源设置功能。否则，我们将需要一个单参数无循环函数来将给定字符连接到给定字符串集（这显然是**两**件事）。

`String.replace`通过使用（如果需要`String`结果，或者通过替换）`Set`可以进行一些调整`List`（这样“附加”参数实际上是列表中的第一个元素）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-03T19:03:46.573

这也可以解决问题：

```
var powerset = function(arr, prefix, subsets) {
  subsets = subsets || [];
  prefix = prefix || [];
  if (arr.length) {
    powerset(arr.slice(1), prefix.concat(arr[0]), subsets);
    powerset(arr.slice(1), prefix, subsets);
  } else {
    subsets.push(prefix);
  }
  return subsets;
};

powerset('abc'); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-19T11:40:10.007

好吧，如果您没有循环，请使用递归模拟一个循环，使用迭代器这实际上非常简单。

```
 public final Set<Set<Integer>> powerSet(Set<Integer> set) {
        Set<Set<Integer>> powerSet = new HashSet<>();
        powerSet(set, powerSet, set.iterator());
        return powerSet;
    }
    public final void powerSet(Set<Integer> set, Set<Set<Integer>> powerSet, Iterator<Integer> iterator) {
        if(iterator.hasNext()) {
            Integer exlude = iterator.next();
            Set<Integer> powThis = new HashSet<Integer>();
            powThis.addAll(set);
            powThis.remove(exlude);
            powerSet.add(powThis);
            powerSet(powThis, powerSet, powThis.iterator());
            powerSet(set, powerSet, iterator);
        }
    }
//usage
        Set<Integer> set = new HashSet<>();
        set.add(1);
        set.add(2);
        set.add(3);
        set.add(4);
        log.error(powerSet(set).toString()); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-19T12:04:55.673

[João Silva](https://stackoverflow.com/users/140816/joao-silva)提出的[通用解决方案](https://stackoverflow.com/questions/1670862/obtaining-powerset-of-a-set-in-java)的递归版本：

```
public static <T> Set<Set<T>> powerSet2(Set<T> originalSet) {
    Set<Set<T>> sets = new HashSet<Set<T>>();
    if (originalSet.isEmpty()) {
        sets.add(new HashSet<T>());
        return sets;
    }
    List<T> list = new ArrayList<T>(originalSet);
    T head = list.get(0);
    Set<T> rest = new HashSet<T>(list.subList(1, list.size()));
    addSets(sets, powerSet(rest), head);
    return  sets;
}

private static <T> void addSets(Set<Set<T>> sets, Set<Set<T>> setsToAdd, T head) {
    Iterator<Set<T>> iterator = setsToAdd.iterator();
    if (iterator.hasNext()) {
        Set<T> set = iterator.next();
        iterator.remove();
        Set<T> newSet = new HashSet<T>();
        newSet.add(head);
        newSet.addAll(set);
        sets.add(newSet);
        sets.add(set);
        addSets(sets, setsToAdd, head);
    }
} 
```

我提取递归 addSets 方法来转换原始`for`循环：

```
for (Set<T> set : powerSet(rest)) {
    Set<T> newSet = new HashSet<T>();
    newSet.add(head);
    newSet.addAll(set);
    sets.add(newSet);
    sets.add(set);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-08-30T19:04:19.650

```
void powerSet(int * ar, int *temp, int n, int level,int index)
{
    if(index==n) return;

    int i,j;
    for(i=index;i<n;i++)
    {
    temp[level]=ar[i];

    for(j=0;j<=level;j++)
    printf("%d ",temp[j]);
    printf("   - - -  t\n");

    powerSet(ar, temp, n, level+1,i+1);
    }
}

int main()
{
    int price[] = {1,2,3,7};
    int temp[4] ={0};

    int n = sizeof(price)/sizeof(price[0]);

    powerSet(price, temp, n, 0,0);

    return 0;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-08-27T12:41:11.727

PowerSet 将打印元素的所有组合，例如 [123] 将形成 123,12,13,23,1,2,3

我们可以使用树的概念很容易地找到幂集值

让每次添加一个元素或删除一个元素

```
 abc
           a                   " "
       ab     a             b       " "
  abc   ab  ac  a         bc   b   c   " " 
```

这里首先添加了一个而不是添加了一个so树形式“a”和“”子元素现在采用一个常量并向它添加'b'并且不添加'b'然后它将为'a'创建另一个子树同样的方式我们添加和删除元素直到我们到达终点。

这里是添加元素和删除元素的方法 powerset(str,i+1,cur+str.charAt(i)); 幂集（str，i+1，cur）；

```
import java.io.*;
import java.util.*;
import java.lang.Math;

class Demo{

    public static void main(String args[]) {
        String str="123";
        String str1="";
        int r=0;
        powerset(str,r,str1);

    }

    public static void powerset(String str,int i,String cur){

        if(i==str.length()){

            System.out.println(cur);
            return;

        }

        powerset(str,i+1,cur+str.charAt(i));
        powerset(str,i+1,cur);

    }

} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-11-29T04:03:36.353

只是为了好玩，一个版本可以对存储在 a 中的任何集合进行 powersets `LinkedList`（以便轻松移除 head 元素）。Java 8 流执行功能部分：

```
static <T> LinkedList<LinkedList<T>> powerset(LinkedList<T> elements) {
  if (elements.isEmpty()) 
    return copyWithAddedElement(new LinkedList<>(), new LinkedList<>());
  T first = elements.pop();
  LinkedList<LinkedList<T>> powersetOfRest = powerset(elements);
  return Stream.concat(
      powersetOfRest.stream(), 
      powersetOfRest.stream().map(list -> copyWithAddedElement(list, first)))
          .collect(Collectors.toCollection(LinkedList::new));
}

static <T> LinkedList<T> copyWithAddedElement(LinkedList<T> list, T elt) {
  list = new LinkedList<>(list);
  list.push(elt);
  return list;
} 
```

这是受以下 Common Lisp 启发的，它表明正确的语言可以让事情变得更简单：

```
(defun powerset (set)
  (cond ((null set) '(()))
        (t (let ((powerset-of-rest (powerset (cdr set))))
          (append powerset-of-rest
                  (mapcar #'(lambda (x) (cons (car set) x)) 
                          powerset-of-rest)))))) 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-03-21T01:02:09.497

简单的解决方案但时间复杂度较差（2^n）如下（一旦我们必须避免（即0）和一旦我们必须采取它（即1），请记住一件事：

```
public HashSet<int[]> powerSet(int n) {
    return calcPowerSet(n-1, new HashSet<int[]>(), new int[n]);
}

private HashSet<int[]> calcPowerSet(int n, HashSet<int[]> result, int []set) {
    if(n < 0) {
        result.add(set.clone());
        return null;
    }
    else {
        set[n] = 0;
        calcPowerSet(n-1, result, set);
        set[n] = 1;
        calcPowerSet(n-1, result, set);
        return result;
    }
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-10-11T23:24:01.367

字符串 "abc" 的幂集 (P) 包含两种类型的元素：字符 'a' 本身及其与 P('bc') 元素的组合。类似地，P('bc') 包含字符 'b' 及其与 P('c') 元素的组合。而且 P('c') 包含字符 'c' 及其与空字符串的组合。

现在制作函数 powerSet(string input, string substring="") 这将打印子字符串，它表示输入字符串的第一个元素与子字符串的组合。

**基本条件**：当输入字符串的长度为 0 时，打印子字符串。

**递归条件：** 1）。调用 powerSet( input[1: input.length()], substring ) #这是字符串的幂集元素，不包括第 0 个索引字符 2)。call powerSet( input[1: input.length()], substring+input[0]) # 这是为了组合。

```
#include<iostream>
#include<string>
using namespace std;

void powerSet(string input,string substring){

    if(input.length()==0){
        cout<<substring<<", ";
        return;
    }
    string op1=substring;
    string op2=substring + input[0];    
    powerSet(input.substr(1),op1);
    powerSet(input.substr(1),op2);
    return;
}
int main(){
    string input="abc";
    powerSet(input);
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2017-08-06T17:12:37.163

根据此处的信息[，](http://www.ideserve.co.in/learn/generate-all-subsets-of-a-set-recursion)这里是 C# 中的解决方案。

注意：主函数中的循环只是将结果打印到控制台值中。PowerSet 方法中没有使用循环。

```
 public static void Main(string[] args)
    {

        string input = "abbcdd";

        Dictionary < string, string> resultSet = new Dictionary<string, string>();

        PowerSet(input, "", 0, resultSet);

        //apply sorting 
        var resultSorted = resultSet.OrderBy(l => l.Key.Length).ThenBy(l=>l.Key);

        //print values
        foreach(var keyValue in resultSorted)
        {
            Console.Write("{{{0}}}, ",keyValue.Key);
        }

    }

    /// <summary>
    /// Computes the powerset of a string recursively
    /// based on the Algorithm http://www.ideserve.co.in/learn/generate-all-subsets-of-a-set-recursion
    /// </summary>
    /// <param name="input">Original input string</param>
    /// <param name="temp">Temporary variable to store the current char for the curr call</param>
    /// <param name="depth">The character position we are evaluating to add to the set</param>
    /// <param name="resultSet">A hash list to store the result</param>
    public static void PowerSet(string input, string temp, int depth, Dictionary<string, string> resultSet)
    {

        //base case
        if(input.Length == depth)
        {
            //remove duplicate characters
            string key = new string(temp.ToCharArray().Distinct().ToArray());

            //if the character/combination is already in the result, skip it
            if (!resultSet.ContainsKey(key))
                resultSet.Add(key, key);

            return;//exit 
        }

        //left
        PowerSet(input, temp, depth + 1, resultSet);

        //right
        PowerSet(input, temp + input[depth], depth + 1, resultSet);

    } 
```

# java - 删除 WebView Javafx 中的 ScrollBar

> ID：15498287
> 
> 赞同：8
> 
> 时间：2013-03-19T11:30:59.713
> 
> 标签：java, webview, webkit, scrollbar, javafx

如何在 Javafx 的 WebView 中自动移除滚动条？

当你点击“地籍”时会打开一个屏幕，这个屏幕是 javascript 的，并且因为滚动条而未配置，所以我们想删除它。

![在此处输入图像描述](../Images/190b158f8dbbd9a7be8bf7f5e87a3997.png)

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-19T11:49:48.160

通常[`ScrollPane`](http://docs.oracle.com/javafx/2/api/javafx/scene/control/ScrollPane.html)你会做这样的事情：

```
scrollPane.setHbarPolicy(ScrollBarPolicy.NEVER);
scrollPane.setVbarPolicy(ScrollBarPolicy.NEVER); 
```

但是，WebView 中的滚动条不是您的 JavaFX UI 控件，而是显示网页的一部分。因此，您可以使用 CSS 控制它们：

```
body {
    overflow-x: hidden;
    overflow-y: hidden;
} 
```

您可以将其保存为 .css 并将其应用为用户样式表，类似于[普通浏览器中](http://en.wikipedia.org/wiki/Cascading_Style_Sheets#Sources)的用户样式表，使用以下代码：

```
webView.getEngine().setUserStyleSheetLocation("path/to/style.css"); 
```

如果您创建的用户样式表是项目资源的一部分，那么您应该将其外部化：

```
webView.getEngine().setUserStyleSheetLocation(getClass().getResource("/path/to/style.css").toExternalForm()); 
```

# java - 在 puppet 工作中无法获得外部节点分类器 - bash 和 java

> ID：15498288
> 
> 赞同：1
> 
> 时间：2013-03-19T11:31:02.660
> 
> 标签：java, bash, puppet

我有以下脚本，我在其中调用了一个将 YAML 输出写入 Strandard 输出流的 java 程序，并且被回显（简单）。

```
#!/bin/bash
echo `/usr/lib/jvm/jre/bin/java -jar /etc/puppet/enc/enc.jar $1` 
```

我在文件中有上述脚本

```
/etc/puppet/enc/javaEnc.sh
```

当我执行这个提供节点名称作为参数时，我得到以下输出。

```
---
classes:
  class1:
  class2: 
```

问题是，在代理节点上，我收到错误消息

```
err: Could not retrieve catalog from remote server: Error 400 on SERVER: Could not find node 'node-agent-1'; cannot compile
warning: Not using cache on failed catalog
err: Could not retrieve catalog; skipping run 
```

我发现脚本没有执行（或者更确切地说，我的 java 程序没有被调用，不知道为什么） - 在我的 java 程序中，除了执行 System.out.print 之外，我还将输出写入文件。

我有另一个脚本，我在其中读取包含与我提到的输出相同的数据的文件（data.yaml），并通过以下脚本将其写入输出流。

```
#!/bin/bash
cat "/etc/puppet/enc/data.yaml" 
```

当针对 external_nodes 提及此脚本时，它工作正常，木偶代理自行配置。我能知道我在哪里弄错了吗？Java 程序实际上会查询一些外部资源并对类进行分类并生成输出 - 完成此操作大约需要 10 秒。这可能是个问题吗？我见过 ruby​​ 和 python 解决方案 - 也无法让它们工作。我希望它最好用 Java 完成。

在我的 puppet.conf 文件中，我有以下内容。

```
[master]
node_terminus = exec
external_nodes = /etc/puppet/enc/javaEnc.sh 
```

# android - 雅虎 OAuth：在加速器上找不到

> ID：15498289
> 
> 赞同：1
> 
> 时间：2013-03-19T11:31:04.583
> 
> 标签：android, oauth, titanium-mobile, yahoo-api, yahoo-oauth

我已经尝试通过雅虎 OAUTH 获取联系人超过 4 个小时了。最后在最后一个阶段。一直密切关注[这一点](http://developer.yahoo.com/social/rest_api_guide/contacts-resource.html#contacts_resources-scopes)，并且也成功获取了请求令牌。但是当我获取以下网址时：

> [https://social.yahooapis.com/v1/user/(guid)/contacts](https://social.yahooapis.com/v1/user/(guid)/contacts)

连同[这里提到的参数。](http://developer.yahoo.com/oauth/guide/oauth-make-request.html)

我只是收到一个 HTTP 错误

> 在加速器上找不到

这就是我现在想要得到的..

```
https://social.yahooapis.com/v1/user/(some guid)/contacts?format=json&realm=yahooapis.com&oauth_consumer_key=(some key)&oauth_nonce=p0p@wA$h3rE&oauth_signature_method=HMAC-SHA1&oauth_timestamp=1363691527&oauth_token=(access token here)&oauth_version=1.0&oauth_signature=(some sign) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:31:57.450

```
// your url .........
 var url = "https://social.yahooapis.com/v1/user/"+guid+"/contacts?format=json"; 
```

// 你需要让它 json 请求你所有的数据

```
 var data = JSON.stringify({
    realm="yahooapis.com",
  oauth_consumer_key="dj0yJmk9nM9Y29uc3VtZXJzZWNyZXQmeD1lMg--",
  oauth_nonce="24829.2331",
  oauth_signature_method="HMAC-SHA1",
  oauth_timestamp="1219450170",
  oauth_token="A%3DuqkiebGpiTJl7ThQxU.jDXXaETYyfEy3xAKPyoavokwOOcZcz8Xs_l1Nvnl._
    KmCEVCeLkxxT1Y6BgRqf5f98sQWHklBM_anetveR7okK_M_5XEmQ1_1reo3UgKQULT_dQT8Gao3.
    Rrgz5rJxgmnYrhdWWdfgTdMQVzpbJT2aGkz59NTK1O8yXVE1EvZUCqju7WiFYu.WHNEw.9TWq3g--",
  oauth_version="1.0",
  oauth_signature="O2AQipLITO0aYHKZc9266RzC94%3D"

  });

 var client = Ti.Network.createHTTPClient({
     // function called when the response data is available
     onload : function(e) {

     },
     onerror : function(e) {
         Ti.API.debug(e.error);
         alert('error');
     },
     timeout : 5000  // in milliseconds
 });
 // Prepare the connection.
 client.open("GET", url);
 client.setRequestHeader("Content-Type","application/json");
 client.send(data); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T04:41:47.907

url错误，应该是yahoo api docs中给出的如下

> ~~https://social.yahooapis.com/v1/user/(guid)/contacts~~ **[_](http://social.yahooapis.com/v1/user/(guid)/contacts)**

# jquery - 如何修复表格标题左侧部分和右侧部分仅滚动中间部分

> ID：15498296
> 
> 赞同：2
> 
> 时间：2013-03-19T11:31:23.023
> 
> 标签：jquery, css, html-table

我正在搜索结果，但没有找到任何结果。

我想要一个简单的表格，现在我有三个问题：

1.  是如何固定标题（粗体文本区域）

2.  如何固定左侧部分（1种文本区域）

3.  如何固定右侧部分（7种文字是）

**HTML**

```
<div class="m-m">
<table class="demo-table">
    <tr>
        <td>fixed area</td>
        <td>fixed area</td>
        <td>fixed area</td>
        <td>fixed area</td>
        <td>fixed area</td>
        <td>fixed area</td>
        <td>fixed area</td>
    </tr>
    <tr>
        <td>fixed area</td>
        <td>2</td>
        <td>3</td>
        <td>4</td>
        <td>5</td>
        <td>6</td>
        <td>fixed area</td>
    </tr>
    <tr>
        <td>fixed area</td>
        <td>2</td>
        <td>3</td>
        <td>4</td>
        <td>5</td>
        <td>6</td>
        <td>fixed area</td>
    </tr><tr>
        <td>fixed area</td>
        <td>2</td>
        <td>3</td>
        <td>4</td>
        <td>5</td>
        <td>6</td>
        <td>fixed area</td>
    </tr><tr>
        <td>fixed area</td>
        <td>2</td>
        <td>3</td>
        <td>4</td>
        <td>5</td>
        <td>6</td>
        <td>fixed area</td>
    </tr><tr>
        <td>fixed area</td>
        <td>2</td>
        <td>3</td>
        <td>4</td>
        <td>5</td>
        <td>6</td>
        <td>fixed area</td>
    </tr><tr>
        <td>fixed area</td>
        <td>2</td>
        <td>3</td>
        <td>4</td>
        <td>5</td>
        <td>6</td>
        <td>fixed area</td>
    </tr><tr>
        <td>fixed area</td>
        <td>2</td>
        <td>3</td>
        <td>4</td>
        <td>5</td>
        <td>6</td>
        <td>fixed area</td>
    </tr><tr>
        <td>fixed area</td>
        <td>2</td>
        <td>3</td>
        <td>4</td>
        <td>5</td>
        <td>6</td>
        <td>fixed area</td>
    </tr><tr>
        <td>fixed area</td>
        <td>2</td>
        <td>3</td>
        <td>4</td>
        <td>5</td>
        <td>6</td>
        <td>fixed area</td>
    </tr>

</table>
</div> 
```

**CSS**

```
table {
    border-collapse: collapse;
    border-spacing: 0;
}
.m-m{
width:200px;
height:200px;
margin:0 auto;
overflow:scroll;
}
.demo-table{
border:solid 1px red;
width:100%;

}
.demo-table tr:first-child td{
font-weight:bold;
}

.demo-table tr td{
border:solid 2px green;
padding:5px;
} 
```

我想得到这个

![在此处输入图像描述](../Images/433595823a91b9f81c95115ebd3b27c9.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T13:38:26.533

好的，该图像更好地解释了您想要做什么。如果您能够在表格的标题和正文上设置固定宽度，则可以将它们分开。

我在这里放置了一个 jsFiddle [http://jsfiddle.net/3Lxj3/1/](http://jsfiddle.net/3Lxj3/1/)可能会有所帮助。

```
<div id="header">
     <div style="width:40%;">header 1</div>
     <div style="width:30%;">header 2</div>
     <div style="width:30%;">header 3</div>
    <div style="clear:both"></div>
</div>
    <div style="clear:both"></div>
<div id="left">
    <div>row 1</div>
    <div>row 2</div>
    <div>row 3</div>
    <div>row 4</div>
</div>
<div id="body">
     <table>
     <tr>
     <td style="width:40%;">contents 1</td>
     <td style="width:30%;">contents 2</td>
     <td style="width:30%;">contents 3</td>
     </tr>
    <tr>
     <td style="width:40%;">contents 1</td>
     <td style="width:30%;">contents 2</td>
     <td style="width:30%;">contents 3</td>
     </tr>
    <tr>
     <td style="width:40%;">contents 1</td>
     <td style="width:30%;">contents 2</td>
     <td style="width:30%;">contents 3</td>
     </tr>
    <tr>
     <td style="width:40%;">contents 1</td>
     <td style="width:30%;">contents 2</td>
     <td style="width:30%;">contents 3</td>
     </tr>
    </table>
</div>
<div id="right">
    <div>check 1</div>
    <div>check 2</div>
    <div>check 3</div>
    <div>check 4</div>
</div> 
```

CSS：

```
#body table {
width:100%;
}
#header, #left, #body table {
    border:1px solid #ccc;
}
table tr td {
    height:50px;
}
#header {
    margin-left:20%;
    margin-right:20%;
    width:59%;
}
#header div {
    float:left;
}
#body {
    width:59%;
    float:left;
    overflow:scroll;
    height:200px;
}
#left {
    float:left;
    width:20%;
    height:200px;
}
#left div {
    height:50px;
}
#right {
    float:left;
    width:20%;
    height:200px;
}
#right div {
    height:50px;
} 
```

基本上，您将标题和正文分开放置，但要确保它们垂直对齐。它不漂亮，但它有效。

# php - 得到不。PHP中某些值之间的数组元素？

> ID：15498297
> 
> 赞同：1
> 
> 时间：2013-03-19T11:31:24.747
> 
> 标签：php, arrays

如何在 PHP 中的 2 个值之间查找数组中存在的数组元素的数量。

假设这是我的数组 =>

```
$a = array(1,2,3,5,10); 
```

我想找到 2 个值之间的数组长度，即 2 和 10。所以在这种情况下答案将是 3。如果要搜索的最大值存在于数组中，则应将其添加到计数中。

2到9之间的数组长度也是2。

希望我对我的问题很清楚。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-19T11:36:34.080

用于`array_filter()`将数组过滤到匹配的元素，然后`count()`在生成的过滤数组上使用。

```
$a = array(1,2,3,5,10);
print count(array_filter($a, function($e) {return ($e>=2 && $e<=10);})); 
```

希望有帮助。

注意：我在这里使用的带有嵌入式函数的语法需要 PHP v5.3 或更高版本。

[编辑]

把它变成一个简单的可调用函数：

```
$a = array(1,2,3,5,10);
print countInRange(2,10);

function countInRange($min,$max) {
    return count(array_filter($a, function($e) use($min,$max) {return ($e>=$min && $e<=$max);}));
} 
```

[`array_filter()`有关函数](http://php.net/manual/en/function.array-filter.php)的更多信息，请参阅 PHP 手册。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:36:38.387

```
$count = 0;
for( $i = 0; $i < count($a); $i++ ) {
  if( $a[$i] <= $max && $a[$i] >= $min )
    $count++;
}
echo $count; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T11:35:01.850

```
$count = 0;
$min = 2;
$max = 10;

$a = array(1,2,3,5,10);

foreach($a as $val) {
    if($val > $min && $val <= $max) ++$count;
} 
```

这应该有效，对吧？至少它会找到所有高于最小值但小于/等于最大值的数字。

当然，这也意味着数组 of`1, 2, 9, 5`将返回 2，因为 9 和 5 都大于 2 且小于 10。

# javascript - 从javascript中的边列表制作有向图

> ID：15498301
> 
> 赞同：2
> 
> 时间：2013-03-19T11:31:31.820
> 
> 标签：javascript, graph-theory, directed-graph

我有一个从键到值的边缘列表

所以`a => [x,y,z]`意义`a`是连接到`x`，到`y`和到`z`

我有一个很长的列表，我想将其可视化，最好使用 javascript。

有哪些已知的 javascript 包可以轻松完成此操作（输入边，通过 javascript 的输出图）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T11:34:52.553

我强烈推荐[d3.js](http://d3js.org/)，该 API 很直观，并且在可视化数据方面做得很好。一些示例输出可[在此处 (d3noob.org)](http://www.d3noob.org/2013/03/d3js-force-directed-graph-examples.html)和[此处 (bl.ocks.org) 获得](http://bl.ocks.org/mbostock/4062045)。

d3noob.org[此处](http://www.d3noob.org/2013/03/d3js-force-directed-graph-example-basic.html)提供了创建有向图的基本演练。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-26T15:59:01.663

你可以试试 Cytoscape.js。它是 Javascript 中的图形分析和可视化库。 [http://cytoscape.github.com/cytoscape.js/](http://cytoscape.github.com/cytoscape.js/)

它甚至支持带有端点标记（即箭头）的边，这对于有向图很有用。

免责声明：我参与了 Cytoscape.js。

# java - Android自定义双击位置

> ID：15498309
> 
> 赞同：0
> 
> 时间：2013-03-19T11:31:48.603
> 
> 标签：java, android, onclick, listener

我目前正在使用带有以下代码的 onClickListener 创建自定义双击：

```
newImage.setOnClickListener(new OnClickListener() {

@Override
public void onClick(View arg0) {
counterTap++;

Timer t = new Timer("Double tap counter");
t.schedule(new TimerTask() {

@Override
public void run() {
counterTap = 0;
}
}, 0, 300);

if(counterTap >= 2) {
newImage.setVisibility(FrameLayout.GONE);
counterTap = 0;
}

}
}); 
```

我面临的问题如下：

每当我点击 ImageView 时，事件就会触发。然而，当我第二次点击 ImageView 时，上面的代码只有在点击 ImageView 上与之前完全相同的位置时才会执行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T11:46:47.720

而是使用`onTouchListener`. 在`onTouch`方法的触摸监听器中，您可以在第一次点击时返回 false，这意味着事件未处理，第二次返回 true，触摸监听器将处理事件作为完成。看我下面的**例子**，你可以使用**类似**的方法

```
new OnTouchListener() {
    boolean doubleTap = false;

    @Override
    public boolean onTouch(View v, MotionEvent event) {

        switch (event.getAction()) {
        case MotionEvent.ACTION_UP:
            if (!doubleTap) {
                doubleTap = true;
                return false;
            } else {
                return true;
            }
        }
    }
}; 
```

这可能会解决您的问题。

**编辑**：这是一个更好的选择

```
private class GestureListener extends GestureDetector.SimpleOnGestureListener {

    @Override
    public boolean onDown(MotionEvent e) {
        return true;
    }

    // double tap event
    @Override
    public boolean onDoubleTap(MotionEvent e) {
        return true;
    }
} 
```

[这个](https://stackoverflow.com/questions/2217670/android-how-to-detect-double-tap)问题也可能帮助您获得最佳答案

# javascript - 如何在 EL 表达式中使用 JavaScript (ui:param with value)

> ID：15498314
> 
> 赞同：1
> 
> 时间：2013-03-19T11:32:06.847
> 
> 标签：javascript, jquery, jsf

我希望能够将 javascript 函数的值传递给`ui:parameter`这样的：

```
<ui:param name="paramName" value="someWidget.function()"/> 
```

但这显然不起作用（它认为：`someWidget.function()`是一个字符串参数）。

如果我尝试：

```
<ui:param name="paramName" value="#{someWidget.function()}"/> 
```

它认为这`someWidget`是一个bean名称。

有没有办法在小部件上放置一个javascript函数的值？如果不是，那么在 JSF 的参数中包含 javascript 函数值的理想方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T12:24:47.567

有一个重大的概念误解正在发生。JSF 在 webserver 中运行并生成一个 HTML 页面，其中包含一些 CSS/JS 代码，这些代码被传递给 webbrowser。带有 CSS/JS 的 HTML 页面依次在 webbrowser 中运行。因此，JS 绝对不会以某种方式在与 JSF“同步”的网络服务器中运行。对于 JSF，JS 就像 HTML 一样，只是它需要生成的模板文本的一部分。

您需要从不同的方向寻找解决方案。由于具体的功能要求尚不清楚，我无法给出正确方向的任何提示，也无法提供启动示例。至此，您应该在 Java 而不是 JS 中执行它，或者让 JS 在页面加载期间发送一个带有所需变量作为请求参数的 ajax 请求。

# ios - How to set the background image of the main view in XCode storyboard editor?

> ID：15498317
> 
> 赞同：4
> 
> 时间：2013-03-19T11:32:10.030
> 
> 标签：ios, xcode

I am trying to set a background image for my main superview in the story board editor without creating another view(just for a background image). I can change the class of my main view to UIImageView, but the editor will not show me the option to specify a background image. How can I make this work?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T13:38:52.047

这是可能的，但您不会从情节提要中获得视觉反馈。在身份检查器 (cmd+option+3) 下，有一个用于设置用户定义的运行时属性的窗格，并且将 设置`backgroundColor`为 a`[UIColor colorWithPatternImage:]`应该可以正常工作。但是，为了清楚起见，我会将这类东西保留在`viewDidLoad`-method中

# jquery - view jscroll on particular div hover

> ID：15498322
> 
> 赞同：0
> 
> 时间：2013-03-19T11:32:20.383
> 
> 标签：jquery, hover, jscrollpane

I have a three div's on a page & each div have his own scroll. i am trying to view scroll on the hover of particular div the function is below.. Plz have any suggestion. function is currently working but on hover it show all scrolls of page (means 3 scrolls of these 3 div's) because each div has a same class & I can not change a class or cant add ID to div..

```
$(document).ready(function() {     
$('.leftPanelFixed').hover(function(){     
$('.jspVerticalBar').addClass('viewScroll');    
            },     
function(){    
         $('.jspVerticalBar').removeClass('viewScroll');     
});
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T12:52:03.867

```
If I am not wrong for what you wanna do, following is the code

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<style type="text/css">
body{
        width:600px; 
        margin:20px auto;
}
.leftPanelFixed{
    width:100%;
    height:100px;
    margin-bottom:10px;
    border:1px solid #CCC;
    position:relative;
}
.jspVerticalBar{
    background:#999;
    width:20px;
    height:100%;
    position:absolute;
    right:0px;
    top:0px;
    display:none;
}
.viewscroll{
        display:inline-block !important;
}
</style>
</head>

<body>
<div class="leftPanelFixed"><span class="jspVerticalBar">&nbsp;</span></div>
<div class="leftPanelFixed"><span class="jspVerticalBar">&nbsp;</span></div>
<div class="leftPanelFixed"><span class="jspVerticalBar">&nbsp;</span></div>
</body>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script language="javascript" type="text/javascript">
    $(document).ready(function() { 
        $('div.leftPanelFixed').hover(function(){      $(this).find('span').addClass('viewscroll').parent('div').siblings().find('span').removeClass('viewscroll');

        });   
    });
</script>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:40:48.310

**尝试;**

```
$(document).ready(function() { 
   $('.leftPanelFixed').hover(function(){ 
       var $this = $(this);    
       $this.$('.jspVerticalBar').addClass('viewScroll');    
       },     
   function(){    
        $this.removeClass('viewScroll');     
   });
 }); 
```

# android - 我无法从 youtube 流式传输实时视频，但普通视频可以在 android 中播放

> ID：15498328
> 
> 赞同：1
> 
> 时间：2013-03-19T11:32:56.423
> 
> 标签：android

我无法从 youtube 流式传输实时视频，但普通视频可以在 android 中运行。

```
 public class ShowYoutube extends YouTubeFailureRecoveryActivity {

    @Override   
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_show_youtube);

    YouTubePlayerView youTubeView = (YouTubePlayerView) findViewById(R.id.youtube_view);
    youTubeView.initialize(Key, this);
  }

  public void onInitializationSuccess(YouTubePlayer.Provider provider, YouTubePlayer player,
      boolean wasRestored) {
    if (!wasRestored) {
      player.cueVideo("fsDUeIkbePQ");
    }
  }

  @Override
  protected YouTubePlayer.Provider getYouTubePlayerProvider() {
    return (YouTubePlayerView) findViewById(R.id.youtube_view);
  }

} 
```

但是使用此代码，我可以流式传输普通视频文件，但不能流式传输实时 youtube 视频文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:52:34.223

尝试使用 VideoView 来流式传输视频，如下所示：

```
 videoView = (VideoView)findViewById(R.id.app_video_view);
    videoView.setOnCompletionListener(new OnCompletionListener() {

        @Override
        public void onCompletion(MediaPlayer mp) {
            // TODO Auto-generated method stub
            VideoStreamActivity.this.finish();
        }
    });

    MediaController mc = new MediaController(VideoStreamActivity.this);
    videoView.setMediaController(mc);
     String str = "VIDEO URL";
        Log.d(TAG, "url: "+str);
        Uri uri = Uri.parse(str);

        videoView.setVideoURI(uri);

        videoView.requestFocus();
    videoView.start(); 
```

并在您的布局文件中添加：

```
<VideoView
        android:id="@+id/app_video_view"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_alignParentTop="true"
        android:layout_centerInParent="true" /> 
```

让我知道它是否有效。

问候， 塔希尔

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T15:40:03.887

我有一个稍微不同的问题。我可以播放一些现场视频。我查看了流的详细信息，但没有找到任何东西。我有一些想法可能会导致“不支持的视频格式” - DRM。某些视频可能以某种无法通过 api 验证的方式实现 DRM。另一个可能的原因：您要播放的实时视频 ID 不存在于有效的视频格式中（这是导致错误的最合理原因，但我找不到任何相关文档）。

# perl - Use of uninitialized value in unlink . . .

> ID：15498329
> 
> 赞同：1
> 
> 时间：2013-03-19T11:32:57.720
> 
> 标签：perl, unlink

I'm writing a script which checks for the space in the server and deletes the Old backup/'s is the space is less than 2 GB . The Script is working fine , but as i'm using use strict; use warnings; in my script for my practise purpose this error is thrown out .

Here is the script

```
#!/usr/bin/perl
use strict;
use warnings;

my @backups;
my $now=time();
my $dayago=10;

my (@space,@freesp);
@space=grep /\/dev\/md0/,`df`;

for(@space){
        chomp;
        @freesp=split /\s+/ ,$_;
        }

chdir '/home/ftpusr/backup' or die "Can't cd to backup dir: $!\n";

while (($freesp[3]/1024/1024 < 2.0) && ($dayago > 0)){
                my ($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = localtime($now-$dayago*60*60*24);
                my $today_timestamp=sprintf("%4d%02d%02d",$year+1900,$mon+1,$mday);
                        @backups = glob("*NODE0000.CATN0000.$today_timestamp*");
                        #print "@backups\n";
                        $dayago -= 1;
                        #print "$dayago\n";
                        unlink ($backups[0]);
        } 
```

I have initialized $dayago parameter to 10 so that it checks for backup from last 10 days and comes near to current date , so as far as i understood for the 1st iteration of while loop its did not find the specific file with the timespace so it could not inlink so throwed up this warning . Is there any way can i eliminate this warning ?

Here is the O/P when i run the script

```
 9
    Use of uninitialized value in unlink at purge3.pl line 26.

    8
    Use of uninitialized value in unlink at purge3.pl line 26.

    7
    Use of uninitialized value in unlink at purge3.pl line 26.

    6
    Use of uninitialized value in unlink at purge3.pl line 26.

    5
    Use of uninitialized value in unlink at purge3.pl line 26.

    4
    Use of uninitialized value in unlink at purge3.pl line 26.
    GSRTC.0.db2inst1.NODE0000.CATN0000.20130315102900.001
    3
    GSRTC.0.db2inst1.NODE0000.CATN0000.20130316150941.001 GSRTC.0.db2inst1.NODE0000.CATN0000.20130316171526.001
    2

    1
    Use of uninitialized value in unlink at purge3.pl line 26.
    GSRTC.0.db2inst1.NODE0000.CATN0000.20130318095532.001
    0 
```

And the files in the directory will be listed like which i need to delete them

```
GSRTC.0.db2inst1.NODE0000.CATN0000.20130315102900.001
GSRTC.0.db2inst1.NODE0000.CATN0000.20130316150941.001
GSRTC.0.db2inst1.NODE0000.CATN0000.20130318095532.001
AWDRT.0.db2inst1.NODE0000.CATN0000.20130319092156.001
GSRTC.0.db2inst1.NODE0000.CATN0000.20130319095258.001 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:41:14.053

如果`$backups[0]`是`undef`，那么这意味着您`glob`没有匹配任何文件（大概是因为那天没有任何文件）。如果没有找到文件，则无需`unlink`任何操作。

所以将`unlink`行更改为

```
unlink($backups[0]) if @backups; 
```

或者

```
unlink($backups[0]) if $backups[0]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T12:15:22.027

如果你稍微改写一下，你可以让 Perl 来做检测：

```
my @backups = glob "*NODE0000.CATN0000.$today_timestamp*";
unlink @backups; 
```

甚至

```
unlink glob "*NODE0000.CATN0000.$today_timestamp*";  # No conditionals! 
```

但我认为这`File::Find`是解决您的问题的正确方法。

# c++ - C++ reading from .txt file

> ID：15498331
> 
> 赞同：0
> 
> 时间：2013-03-19T11:33:03.937
> 
> 标签：c++, ifstream

I have a strange problem that seems to happen when I pass an ifstream by reference.

In my main method, I have created an ifstream, and then I pass it to this read method by reference:

```
 void ArrayStorage::read(ifstream& fin)
{
    if (fin.is_open())
    {
        string input;
        getline(fin, input, '\n');
    }
    else
    {
    }
} 
```

This should work fine, however, I'm getting the following message in the value of the ifstream:

> *   fin {_Filebuffer={_Set_eback=0xcccccccc _Set_egptr=0xcccccccc ...} } std::basic_ifstream > &

Anyone have any ideas?

EDIT: Code that calls the method:

```
ifstream fin1("data.txt");
ofstream out1("1-In-SortedRead.txt");

if(!fin1.is_open()) 
{
    cout << "FAIL" << endl;
    return 1;
}

ArrayStorage arrayStorage1;

// read in values into data structure
arrayStorage1.read(fin1); 
```

# java - WaitForPagetoLoad function issue in webdriver

> ID：15498336
> 
> 赞同：0
> 
> 时间：2013-03-19T11:33:45.897
> 
> 标签：java, selenium

I am using Waitforpagetoload in my automation,

When i give 20000 test case fails but passes if i give 60000.

when i compare the time by printing the current time in milli secs, the page is not taking more than 50ms.

How exactly the waitforpagetoload function works?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-01T16:08:23.257

默认情况下，WebDriver 会等待页面完全加载，您无需执行任何操作。事实上，当 WebDriver 获取某个页面时，将等待页面完全加载后由浏览器生成的 onload 事件。

如果您的页面在触发 onload 事件后通过 Ajax 加载数据，您可以使用不同的解决方案来检测页面何时完全加载，例如询问通过 Ajax 加载的元素，因此当所有这些元素都存在于您确定该页面已完全加载的页面。

您是否出于任何其他原因使用 Waitforpagetoload 方法？

# php - 如何使用 system.xml 在类别编辑中添加新选项卡？（马金托）

> ID：15498338
> 
> 赞同：0
> 
> 时间：2013-03-19T11:33:53.453
> 
> 标签：php, xml, magento

我想添加一个如屏幕截图所示的新选项卡，并使用我的扩展程序的 system.xml 填充字段等。

![在此处输入图像描述](../Images/213c8a692033768a935dac93af77b1fc.png).

这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-04T09:50:07.270

要添加新的 magento 类别选项卡（管理类别页面/管理区域），请重写或简单地将文件从：core/Mage/Adminhtml/Block/Catalog/Category/Tabs.php 复制到：local/Mage/Adminhtml/Block/Catalog /类别/Tabs.php。

在此代码之后的 _prepareLayout 方法中的下一步：

```
$this->addTab(’products’, array( ‘label’ =>
Mage::helper(’catalog’)->__(’Category Products’), ‘content’ =>
$this->getLayout()->createBlock(’adminhtml/catalog_category_tab_product’,‘category.product.grid’)->toHtml(), )); 
```

添加这个：

```
$this->addTab(’new_tab’, array(
‘label’ => Mage::helper(’catalog’)->__(’New Category Tab’),
‘content’ => $this->getLayout()->createBlock(’yourmodule/adminhtml_category_form’)->toHtml(),)); 
```

参数 'content' 指的是一个块，这个块需要添加到你正在使用的模块中，这里是块内容的例子：

```
<?php class Namespace_Module_Block_Adminhtml_Category_Form extends Mage_Adminhtml_Block_Widget_Form { 
    protected function _prepareForm(){
        $form = new Varien_Data_Form();
        $this->setForm($form);
        $fieldset = $form->addFieldset('custom_category_tab_form', array('legend'=>Mage::helper('catalog')->__('Custom Tab')));                                 $fieldset->addField('anytext', 'text', array('label'=> Mage::helper('catalog')->__('Any Text'),'name'=> 'anytext',));
        return parent::_prepareForm();     
        } 
    } 
```

之后，为了有可能将添加的选项卡字段保存到模块的表中，您需要添加一个事件观察器。将其添加到 config.xml 文件的“全局”部分：

```
<events>
    <catalog_category_prepare_save >
        <observers>
            <yourmodule>
                <type>singleton</type>
                <class> yourmodule /observer</class>
                <method>categorySave</method>
            </ yourmodule >
        </observers>
    </catalog_category_prepare_save >
</events> 
```

并将观察者的模型添加到模块的“模型”文件夹中：

```
<?php
 class Namespace_Module _Model_Observer
{
    public function categorySave($observer){
    $params = $observer->getRequest()->getParams();
    // now you could save your custom category params to your db table
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T12:48:00.083

您可以使用设置脚本添加类别字段

/app/code/local/MagePal/AddCategoryFields/sql/addcategoryfields_setup/upgrade-0.9.5-0.9.8.php

```
$installer = $this;

$installer->startSetup();

$setup = new Mage_Eav_Model_Entity_Setup('core_setup');

$setup->addAttribute('catalog_category', 'magepal_category_fieldname', array(
    'group'         => 'My Tab',
    'input'         => 'text',
    'type'          => 'varchar',
    'label'         => 'Field desc',
    'backend'       => '',
    'visible'       => 1,
    'required'      => 0,
    'user_defined' => 1,
    'global'        => Mage_Catalog_Model_Resource_Eav_Attribute::SCOPE_GLOBAL,
));

//$setup->removeAttribute('catalog_category', 'magepal_category_fieldname');

$installer->endSetup(); 
```

请参阅[如何在 Magento 中添加新的自定义类别属性](http://inchoo.net/ecommerce/magento/how-to-add-new-custom-category-attribute-in-magento/)

# c - C VC8 项目可执行文件未在未安装 vc8 的机器中执行

> ID：15498339
> 
> 赞同：0
> 
> 时间：2013-03-19T11:33:54.240
> 
> 标签：c, compatibility, exe, visual-c++-6, vc8

由 C 项目（在 windows 7 中）生成的可执行文件正在安装`vc8`的所有 windows 机器（win xp 和 7）中`vc8`运行。`vc8`但它没有在一台未安装但已安装的win xp机器上运行`vc6`。错误信息是`System cannot run the executabe`。

这是因为我的 vc8 项目没有生成 vc6 兼容的 exe 吗？请有人帮助有什么办法可以解决这个问题。

注意：创建 vc6 项目并添加所有 c 文件是一项复杂的任务，这对我来说会花费很多时间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T11:59:38.560

您无需安装 Visual Studio 即可在另一台机器上运行应用程序。在发布模式下编译并在目标机器上安装可再发行包。

对于 VC8 (2005)：

[VS 2005 x86](http://www.microsoft.com/en-us/download/details.aspx?id=3387)

[VS 2005 x64](http://www.microsoft.com/en-us/download/details.aspx?id=21254)

对于其他版本，只需搜索 c++ 可再发行包

编辑：如果您在调试模式下编译，则需要运行时库等的调试版本。但是这些是不可再分发的。有关解决方法（用于测试机器，而不是用于客户端），请参阅[此处](http://msdn.microsoft.com/en-us/library/aa985618%28v=VS.90%29.aspx)了解更多详细信息。

# node.js - Error: Cannot find module '../deps/console.log'

> ID：15498340
> 
> 赞同：0
> 
> 时间：2013-03-19T11:33:57.357
> 
> 标签：node.js, npm, nodeunit

I'm on OS X 10.8.2, with Node.js 0.10.0 installed via homebrew. When I try to run `npm test` on [`nodegit`](https://github.com/tbranyen/nodegit), I get the following error:

```
cd test && nodeunit *.js

module.js:340
    throw err;
          ^
Error: Cannot find module '../deps/console.log'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.<anonymous> (/Users/faceleg/Work/Web/js-apprentice.com/Site/node_modules/nodegit/node_modules/.bin/nodeunit:11:1)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Function.Module.runMain (module.js:497:10)
npm ERR! Test failed.  See above for more details.
npm ERR! not ok code 0 
```

I've done `npm update && npm -g update` since installing node 0.10.0.

How might I go about fixing this?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T19:13:19.340

堆栈跟踪说明了一切，这是[nodeunit](https://github.com/caolan/nodeunit/blob/master/bin/nodeunit#L11)的问题。我会在他们的[问题页面](https://github.com/caolan/nodeunit/issues)上提出问题。

对nodeunit不太了解，看起来它正在预期从不同的位置运行。它试图要求`/Users/faceleg/Work/Web/js-apprentice.com/Site/node_modules/nodegit/node_modules/deps/console.log.js`（可能）实际位于的文件`/Users/faceleg/Work/Web/js-apprentice.com/Site/node_modules/nodegit/node_modules/nodeunit/deps/console.log.js`。

# ruby-on-rails - Rails：多态模型还是针对不同大小图像的不同模型？

> ID：15498345
> 
> 赞同：1
> 
> 时间：2013-03-19T11:34:07.587
> 
> 标签：ruby-on-rails, image, oop, amazon-s3

我有一个 RoR 应用程序，并且有一个属于**Car的****Photo**模型。

 ****照片**存储按 200x200> 调整大小的图像。

现在我必须在我的应用程序中添加另一个带有其他类型图像的实体（**CarModel**类及其照片）。

如果我可以通过与其他模型的多态关联来使用 Photo，那就太好了。但是：看来我将不得不为此类使用另一种类型的缩略图（不是 200x200>）。

**我该怎么办？**

1.  创建 CarModelPhoto 类并将其与汽车模型一起使用？
2.  添加多态关联，以便 Photo 可以属于 Car 的其他类。
3.  使用动态调整图像大小的工具（如 Blitline 或 Cloudinary），使 Photo 的图像不再被限制为 200x200px。- 但我将图像存储在 S3 上 - 这似乎对性能不利。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T12:07:14.773

使用 STI（单表继承）制作由 Photo 模型继承的单独 CarPhoto 模型并覆盖 photo 的模型方法。CarPhoto 模型使用相同的照片表。

```
class CarPhoto < Photo
  # In this override the photo model methods and validations of you car's photo.
end 
```

我认为这会对你有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T12:05:43.650

这取决于你需要如何实现你的 2 个图像模型，你基本上有 2 种方法

DRY：如果你打算为你的两个图像模型实现类似的功能，那么你不应该重复你自己并且只创建一个多态模型

保持你的代码简短：如果你的 2 张照片模型将实现不同的功能，最好将它们分开以保持你的代码干净，易于阅读和维护

而且，您当然已经知道，但是您可以为您的几何图形创建不同的样式，所以如果您选择多态方式，您只需要找到不同的名称：thumbnail_car、:thumbnail_car_model 等等

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T12:14:27.307

1.  您还可以通过指定在保存图像之前在服务器端调整图像大小时填充的*长度*和*宽度*，在您的**照片**模型中指定照片大小的路径。

***   保存图像的两个版本。缩略图和更大的尺寸。您最终会在 S3 上获得更多文件，但空间很便宜 - 并且在渲染方面的密集程度要低得多。通过使用这两种尺寸，您还可以避免处理看起来不太理想的缩略图的分辨率降低。** 

 **例如，您可以这样设置模型：

```
Photo
  name
  file_type 
```

因此，对于*monkey.png*，您将拥有`Photo(name: "monkey", file_type: "png")` 然后您将图像大小调整为所需的大格式并将其保存为“monkey_large.png”和您的缩略图“monkey_thumb.png”（或者，保存 'monkey.png'到两个单独的目录`large/`和`thumb/`）。

因此，在显示时，您可以在 Photo 上使用一个方法进行简单的字符串连接（使用不同的目录方法来保存图像）：

```
def image_path_thumbnail
  "#{<s3 path>/thumb/#{image_name}.{image_file_type}"
end

def image_path_large
  "#{<s3 path>/large/#{image_name}.{image_file_type}"
end 
```

此外，请查看[PaperClip](https://github.com/thoughtbot/paperclip)以进行文件上传。他们具有 S3 集成，并且在线存在大量教程。****

# php - 从多个配置文件中按日期排序新闻

> ID：15498349
> 
> 赞同：4
> 
> 时间：2013-03-19T11:34:17.977
> 
> 标签：php, wordpress

我有几个配置文件，允许用户发布我想在一个长提要中显示的新闻，按日期顺序排序。

目前，这会遍历每个配置文件，列出该配置文件中的新闻，然后移动到下一个配置文件，列出他们的新闻等等。它不会把它混在一起。

如何将每个配置文件中的所有新闻混合在一起并按日期排序？

```
<?php global $post;
$args = array('numberposts' => -1);
$myposts = get_posts( $args );
foreach( $myposts as $post ) : setup_postdata($post); ?>
   <?php while(the_repeater_field('news')): ?>
      <div class="social-news-item">
         <p class="social-news"><?php the_sub_field('news_description'); ?></p>
     <p class="social-company"><?php echo the_title(); ?></p>
      </div>
   <?php endwhile; ?>
<? endforeach; wp_reset_postdata(); ?> 
```

日期字段是：

`<?php the_sub_field('date'); ?>`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T07:32:36.550

如果您想以编程方式更改顺序，请查看[PHP 中的各种数组排序函数](http://de2.php.net/manual/en/array.sorting.php)，尤其是

*   `uasort()`— 使用用户定义的比较函数对数组进行排序并保持索引关联
*   `uksort()`— 使用用户定义的比较函数按键对数组进行排序
*   `usort()`— 使用用户定义的比较函数按值对数组进行排序

但是对于 wordpress 结帐这个[http://codex.wordpress.org/Template_Tags/get_posts](http://codex.wordpress.org/Template_Tags/get_posts)

**给定链接中的示例：**

**默认：**

```
<?php 
   $args = array(
    'posts_per_page'  => 5,
    'numberposts'     => 5,
    'offset'          => 0,
    'category'        => '',
    'orderby'         => 'post_date',
    'order'           => 'DESC',
    'include'         => '',
    'exclude'         => '',
    'meta_key'        => '',
    'meta_value'      => '',
    'post_type'       => 'post',
    'post_mime_type'  => '',
    'post_parent'     => '',
    'post_status'     => 'publish',
    'suppress_filters' => true );
 ?> 
```

**利用：**

```
 <?php $posts_array = get_posts( $args ); ?> 
```

这可以帮助你。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-21T13:02:46.727

正如我在评论中所写的那样，我不知道 wordpress，也许出了点问题，但这个想法可能没问题。

如果可能，您可以先将所有帖子放在一起，然后对其进行排序。

要将它们分组，请使用您在其中获取对象的临时数组。所以不要输出你`div`的 s 而是在数组中“缓冲”它们。

例如，如果数组名称是`$posts`您可以在`foreach`循环中执行的操作：（我希望在`the_sub_field('news_description');`您错过的行中`echo`，在这种情况下它将不起作用）

```
$var = &$posts[]; // this creates a new item in array, and $var is this element
$var->description = the_sub_field('news_description'); // *****
$var->title = the_title();
$var->date = ... // it is important, I don't know if you have it 
```

因此，最后您的数组将包含来自所有用户（或配置文件）的所有帖子。现在，例如使用[usort 函数](http://www.php.net/manual/en/function.usort.php)对其进行排序。您将需要编写自己的排序函数，在手册中它是“cmp”，所以我使用相同的名称：

```
function cmp($a, $b){
  if($a->date > $b->date)
    return 1;
  elseif($a->date < $b->date)
    return -1;
  else
    return 0;
} 
```

并称之为

```
usort($posts, 'cmp'); 
```

然后你需要在另一个`foreach`循环中输出数组。

但是，正如我所说，我不知道 wordpress 是否允许这样做。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-27T22:46:52.673

当您提到“个人资料”时，我假设您的意思是“作者”。

在 $myposts 中拥有所有帖子后

```
$myposts = get_posts( $args ); 
```

你遍历它们

```
foreach( $myposts as $key => $post ) 
```

（注意我添加了 $key）

现在您可以使用日期作为键创建自己的数组

```
$my_array[$myposts[$key]->post_date][] = ...whatevever you want in the end 
```

随意添加您想要在最后显示的任何数据。我们以文章的作者和标题为例：

```
$the_item[$myposts[$key]->post_author] = $myposts[$key]->post_title;
$my_array[$myposts[$key]->post_date][] = $the_item; 
```

这将产生一个如下所示的数组：

> ```
> [2007-11-19 22:46:37] => Array
>     (
>         [0] => Array
>             (
>                 [3] => Title
>                 [2] => Another title
>             )
> 
>     )
> 
> [2007-11-11 11:11:11] => Array
>     (
>         [0] => Array
>             (
>                 [3] => Yet another title
>                 [2] => Foo
>             )
> 
>         [1] => Array
>             (
>                 [3] => Bar
>                 [2] => Yuck
>             ) 
> ```

现在所有帖子都按日期排序，不同作者的帖子“混合”。随意使用任何排序功能（如上所述）。您可能想通过使用 shuffle() 添加一点随机性...为了显示帖子，您将采用相反的方式：遍历您创建的数组并打印您包含的数据（例如作者、标题、内容等）。 ）。作为参考，这是 post 对象的样子：

```
myposts:Array
(
    [0] => stdClass Object
        (
            [ID] => 1455
            [post_author] => 3
            [post_date] => 2013-03-27 22:16:33
            [post_date_gmt] => 2013-03-27 22:16:33
            [post_content] => Content
            [post_title] => Title
            [post_excerpt] => 
            [post_status] => publish
            [comment_status] => closed
            [ping_status] => closed
            [post_password] => 
            [post_name] => title
            [to_ping] => 
            [pinged] => 
            [post_modified] => 2013-03-27 22:16:42
            [post_modified_gmt] => 2013-03-27 22:16:42
            [post_content_filtered] => 
            [post_parent] => 0
            [guid] => http://www.abc.com/wordpress/?p=1455
            [menu_order] => 0
            [post_type] => post
            [post_mime_type] => 
            [comment_count] => 0
            [member_access_visibility] => default
            [filter] => raw
        ) 
```

希望这可以帮助您解决问题！

干杯

京东

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T10:37:56.793

您只需要一个`get_posts()`函数调用。

创建一个由字符串分隔的所有用户 ID 的字符串。

现在您可以将它与您的订单一起添加到您的参数中：

```
$args = array(
    'numberposts' => -1,
    'author' => '1,2,3,4,5',
    'orderby' => 'date' // date is the default anyway, so shouldn't matter
); 
```

然后您的`get_posts()`电话将包括这些作者的所有帖子。

高温高压

# forms - 启用表单大小调整

> ID：15498351
> 
> 赞同：1
> 
> 时间：2013-03-19T11:34:20.787
> 
> 标签：forms, delphi, delphi-xe

我有一个禁用调整大小的现有表单。我尝试将属性边框样式更改为 bsSizeable 并将边框图标更改为 [biSystemMenu,biMinimize,biMaximize]。我可以调整大小，但表单内的控件没有相应调整大小。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T11:46:58.237

边框样式和图标控制*窗体*是否可调整大小，但窗体上的控件不会自动移动，除非您已将它们配置为这样做。更改它们的 Align、Anchors 或 Constraints 属性，它们都会以不同的方式影响大小和位置。您还可以处理表单的 OnResize 事件并根据需要排列控件。

# mysql - 比较查询输出

> ID：15498352
> 
> 赞同：0
> 
> 时间：2013-03-19T11:34:25.947
> 
> 标签：mysql

查询一：

```
select name,trans from sids s where apt='KAUS'; 
```

查询 2：

```
SELECT id,transition_id from std_sid_leg where data_supplier='E' and airport='KAUS'; 
```

name 的值与 id 和 trans 的值相同，带有 transition_id。结果集 1 是结果集 2 的子集。两个表都有共同的列 apt=airport 如果单独查询无法工作，请提供任何脚本。我需要比较这两个查询的输出并打印数据差异。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:41:13.907

您正在寻找组合的左+右连接。
这称为完全外连接（与左/右外连接相反）。
通过仅选择连接列为空的行，您将得到不匹配；这称为反连接。

完整的外部反连接如下所示：

```
select s.*, ssl.*
from sids s
outer join std_sid_leg ssl on (s.name = ssl.id and s.trans = ssl.transition_id)
where (s.name is null and s.trans is null) 
   or (ssl.id is null and ssl.transition_id is null) 
```

# sql - Raven DB SQL Replication 如何处理将数组保存到 SQL？

> ID：15498357
> 
> 赞同：1
> 
> 时间：2013-03-19T11:34:41.260
> 
> 标签：sql, ravendb, database-replication

我目前正在设置 SQL 复制以将我们的 Raven DB 文档复制到 SQL 中以用于报告目的。到目前为止，一切都运行良好。但是，我现在正在尝试保存一个包含一周中几天的数组的文档。

这是文档在 Raven 中的外观：

```
{
  "ClientId": "clients/385",
  "Description": "Test",
  "IsOneOff": false,
  "RecursEveryWeeks": 1,
  "StartDate": "2013-03-19T00:00:00.0000000",
  "TaskStartTime": "12:00:00",
  "TaskDuration": 120,
  "TaskEndTime": "14:00:00",
  "AdditionalResources": false,
  "AdditionalVisitType": "TestType",
  "BillableTo": "Private",
  "RecurrenceEndDate": "2013-04-30T00:00:00.0000000",
  "DaysOfWeek": [
    "Monday",
    "Tuesday",
    "Wednesday",
    "Friday",
    "Saturday"
  ]
} 
```

在 SQL 复制中，我做了以下事情：

```
sqlReplicate("AdditionalVisit", "AdditionalVisitId", {
       ClientId: this.ClientId,
       Description: this.Description,
       IsOneOff: this.IsOneOff,
       RecursEveryWeeks: this.RecursEveryWeeks,
       StartDate: this.StartDate,
       TaskStartTime: this.TaskStartTime,
       TaskDuration: this.TaskDuration,
       TaskEndTime: this.TaskEndTime,
       AdditionalResources: this.AdditionalResources,
       AdditionalVisitType: this.AdditionalVisitType,
       BillableTo: this.BillableTo,
       RecurrenceEndDate: this.RecurrenceEndDate,
       DaysOfWeek: this.DaysOfWeek
}); 
```

当我将 DaysOfWeek 排除在 SQL 复制之外时，所有这些都可以正常工作，但是当我离开时会导致服务器崩溃。

这应该如何在 SQL 复制中完成，以便将数组中的所有内容保存到 SQL 中的 DaysOfWeek 列？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T15:03:30.870

我没有对此进行测试，但它符合您想要的内容......只需将其添加到当前脚本的末尾即可。

```
for (var i=0; i<this.DaysOfWeek.length; i++) {
    var day = this.DaysOfWeek[i];
    sqlReplicate('AdditionalVisit_DaysOfWeek', 'AdditionalVisitId', {
        AdditionalVisitId: documentId,
        DayOfWeek: day,
    });
} 
```

顺便说一句，目前 RavenDb 2.1 的 SqlReplication 中存在一个错误，其中删除不会被推送到 SqlReplication，它应该在 2.5 分支中修复，但仍有一些其他问题需要解决才能成为可用。

# javascript - Google Chrome 扩展程序中的同步呼叫

> ID：15498358
> 
> 赞同：9
> 
> 时间：2013-03-19T11:34:42.643
> 
> 标签：javascript, google-chrome, synchronize

我正在开发 Google Chrome 扩展程序，它必须阻止/重定向一些传出请求。为此，我使用`chrome.webRequest.onBeforeRequest`监听器。要决定是否阻止请求，我需要一些有关发送标签请求的信息。我可以使用它来获取它`chrome.tabs.get(integer tabId, function callback)`，但是回调是异步的，这意味着它可以在从`onBeforeRequest`侦听器返回值之后调用。

```
chrome.webRequest.onBeforeRequest.addListener(function(details){
 chrome.tabs.get(details.tabId, function(tab){
  // get info from tab
 }); 
 // based on info from tab return redirect or not
}), {
 urls: ["<all_urls>"],
 types: ["main_frame"]
}, ["blocking"]); 
```

有没有办法同步通话？或者也许其他一些选择。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2014-02-26T21:43:42.797

[Stack Overflow 上的另一个答案](https://stackoverflow.com/a/15130214/2892649)建议跟踪侦听器函数*之外的选项卡，这完全避免了这个问题。*

**示例代码：**

```
/* 
 * --------------------------------------------------
 * Keep list of tabs outside of request callback
 * --------------------------------------------------
 */
var tabs = {};

// Get all existing tabs
chrome.tabs.query({}, function(results) {
    results.forEach(function(tab) {
        tabs[tab.id] = tab;
    });
});

// Create tab event listeners
function onUpdatedListener(tabId, changeInfo, tab) {
    tabs[tab.id] = tab;
}
function onRemovedListener(tabId) {
    delete tabs[tabId];
}

// Subscribe to tab events
chrome.tabs.onUpdated.addListener(onUpdatedListener);
chrome.tabs.onRemoved.addListener(onRemovedListener);

/* 
 * --------------------------------------------------
 * Request callback
 * --------------------------------------------------
 */
// Create request event listener
function onBeforeRequestListener(details) {
    // *** Remember that tabId can be set to -1 ***
    var tab = tabs[details.tabId];

    // Respond to tab information
}

// Subscribe to request event
chrome.webRequest.onBeforeRequest.addListener(onBeforeRequestListener, {
    urls: ["<all_urls>"],
    types: ["main_frame"]
}, ["blocking"]); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-04-22T13:17:56.813

```
chrome.runtime.onMessage.addListener((message, rawSender, sendResponse) => {

        // here, you can call sendResponse method in any where asynchronous.

        return true;    // 这是重点，it's important
    }
);

// it also fit chrome.webRequest.onBeforeRequest.addListener 
```

[![官方文件](../Images/06cea2f9af0fb901286c38082ab6cec0.png)](https://i.stack.imgur.com/sY8On.png)

# algorithm - 在空间上表示 3D 概率密度函数的算法、工具或技术

> ID：15498360
> 
> 赞同：3
> 
> 时间：2013-03-19T11:34:47.790
> 
> 标签：algorithm, data-structures, computer-vision, probability, robotics

我正在开发一个具有计算机视觉的项目（c++ 上的 opencv 2.4）。在这个项目中，我试图检测某些特征以构建周围世界的地图（内部表示）。

我可用的信息是相机姿势（具有 3 个位置和 3 个角度值的 6D 矢量）、校准值（焦距、失真等）和在被跟踪对象上检测到的特征（这些特征基本上是对象的轮廓但这并不重要）

由于相机位姿、特征位置和其他变量会出现误差，我想将对象建模为 3D 概率密度函数（在空间上给定 3D 点上找到“对象”的概率，这是很重要，因为每个轮廓都有一个概率与它是实际对象轮廓而不是噪声轮廓的可能性相关联（请耐心等待））。

**示例**：如果对象是一个**球体**，我会检测到一个**圆**（轮廓）。由于我知道相机姿势，但没有深度信息，因此该对象的内部表示应该是模糊**圆柱体**（或圆锥体，如果包括相机的视角但不相关）。如果有新信息可用（来自不同位置的新图像），则会检测到新轮廓，并将其自己的*模糊圆柱*与以前的数据合并。现在我们应该有一个区域，在某些区域找到对象的概率更大，而在其他地方则更弱。当新信息可用时，模型应该收敛到原始对象形状。

我希望这个想法现在很清楚。

该模型应该能够：

*   如果需要，动态增长。
*   在进行新的观察时有效地更新（更新内部的概率，使多次观察到的区域更强，否则更弱）。理想情况下，系统应该能够实时更新。

**现在的问题是：**我怎样才能以一种可以在其上执行这些任务的方式 来计算地表示这种*模糊信息？*

任何合适的算法、数据结构、c++ 库或工具都会有所帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-21T12:25:59.270

I'll answer with the computer vision equivalent of Monty Python: "[SLAM](http://en.wikipedia.org/wiki/Simultaneous_localization_and_mapping), SLAM, SLAM, SLAM!": :-) I'd suggest starting with Sebastian Thrun's tome.

However, there's older older work on the Bayesian side of active computer vision that's directly relevant to your question of geometry estimation, e.g. Whaite and Ferrie's seminal IEEE paper on uncertainty modeling (Waithe, P. and Ferrie, F. (1991). From uncertainty to visual exploration. IEEE Transactions on Pattern Analysis and Machine Intelligence, 13(10):1038–1049.). For a more general (and perhaps mathematically neater) view on this subject, see also [chapter 4 of D.J.C. MacKay's Ph.D. thesis](http://www.cs.toronto.edu/~mackay/thesis.pdf).

# c++ - A类：公共虚拟B和A类：公共B有什么区别

> ID：15498364
> 
> 赞同：2
> 
> 时间：2013-03-19T11:34:56.633
> 
> 标签：c++, virtual, multiple-inheritance

```
#include<iostream>
using namespace std;

class base
{
    public:
      virtual void f(){}
};

class middle1:public base
{};

class middle2:public base
{};

class derive:public middle1,public middle2
{};

int main()
{
    derive* pd=new derive();
    pd->f();
    return 0;
} 
```

我知道 virtual 解决了这个问题，但是如何呢？即使我们没有多重继承，我们是否总是为了安全而编写公共虚拟。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T11:39:43.713

每个实例`derive`都有一个`middle1`基类子对象和一个`middle2`基类子对象。

如果继承是非虚的，那么`middle1`基类子对象有一个`base`基类子对象，*而*基`middle2`类子对象也有一个`base`基类子对象。因此， 的每个实例`derive`都有两个`base`子对象，并且调用`pd->f()`是模棱两可的——`base`你想调用哪个对象`f()`？

使继承成为虚拟意味着`middle1`并且`middle2`将`base`共享`derive`. 这消除了歧义——只有一个`base`对象`f()`可以被调用。

> 为了安全，我们总是可以写公共虚拟的吗

不必要。可能存在您不*希望* `middle1`并`middle2`共享公共`base`子对象的继承层次结构。您可能会争辩说，在这种情况下，您不应该编写一个`derive`继承自两者的类，但如果您最终遇到这种情况，那么解决方法是：

```
static_cast<middle1*>(pd)->f();
pd->middle1::f(); 
```

指定要调用`f`基`middle1`类子对象，或

```
static_cast<middle2*>(pd)->f();
pd->middle2::f(); 
```

指定`middle2`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:36:50.250

> **我知道 virtual 解决了这个问题，但是如何呢？**

`virtual`关键字通过使继承层次结构中仅存在一个顶级基类子对象来解决该问题。没有它，每个父类`middle1`都有`middle2`自己的`base`类副本，从而导致歧义。

> **即使我们没有多重继承，我们是否总是为了安全而编写公共虚拟。**

`virtual`如果您没有多重继承，则没有理由使用继承。多重继承是虚拟继承概念存在的目的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T11:38:11.043

虚拟基类实现了一个额外的间接级别以解决菱形问题（参见[这个问题](https://stackoverflow.com/questions/5179854/virtual-inheritance-in-c)）。

如果您始终使用虚拟继承，您将始终遭受额外间接级别导致的性能损失。

因此，我建议您仅在必要时使用虚拟继承。

# matlab - MATLAB 中的高效多类加权多数投票实现

> ID：15498368
> 
> 赞同：4
> 
> 时间：2013-03-19T11:35:03.907
> 
> 标签：matlab, voting

几天来，我想知道如何在 matlab 中有效地实现 m 专家的加权多数投票。这是我想要的一个例子。假设我们有 3 位具有权重向量的专家

```
w=[7 2 6] 
```

假设他们对选项 A/B/C/D 进行了 n 次投票，因此我们例如得到以下 nxm 投票矩阵，其中列是每个专家的投票。

```
A B B
C A A
D B A
A A C 
```

现在我想为每一行找到加权多数票。我们通过添加为每个选项投票的专家的权重并选择最大权重来计算它。例如，在第一行中，选项 A 的累积权重为 7（专家 1 的投票），B 的累积权重为 8（专家 2 和 3 的投票），因此最终的投票是 B。所以我们得到以下累积权重矩阵和最终投票：

```
A B C D
- - - -
7 8 0 0 -> B
8 0 7 0 -> A
6 2 0 7 -> D
9 0 6 0 -> A 
```

现在，在行数 n 上使用 for 循环来实现这一点或多或少是直截了当的。我现在正在寻找解决方案，它不需要这个可能很长的循环，而是使用矢量算术。我有一些想法，但是每个想法都遇到了一些问题，所以现在不提了。如果有人以前有过类似的情况，请分享您的解决方案。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T12:24:27.817

```
w=[7 2 6];

votes = ['A' 'B' 'B'
         'C' 'A' 'A'
         'D' 'B' 'A'
         'A' 'A' 'C'];

options = ['A', 'B', 'C', 'D']';
%'//Make a cube of the options that is number of options by m by n
OPTIONS = repmat(options, [1, size(w, 2), size(votes, 1)]);

%//Compare the votes (streched to make surface) against a uniforma surface of each option
B = bsxfun(@eq, permute(votes, [3 2 1]) ,OPTIONS);

%//Find a weighted sum
W = squeeze(sum(bsxfun(@times, repmat(w, size(options, 1), 1), B), 2))'

%'//Find the options with the highest weighted sum
[xx, i] = max(W, [], 2);
options(i) 
```

结果：

```
B
A
D
A 
```

# svn - 使用 svn delete 命令的问题

> ID：15498373
> 
> 赞同：0
> 
> 时间：2013-03-19T11:35:22.370
> 
> 标签：svn

我正在尝试使用以下命令从 svn repo 中删除现有标签：

```
C:\>svn delete --username xxx --password yyy http://subversion-practice.sweng.xyz.com/cvn/repos/ps/port/tags/PORT_0310xx_05_88_tools -m Deleting PORT_0310xx_05_88_tools 2>&1 
```

但它失败并出现以下错误：

> [svn：“C:/PORT_0310xx_05_88_tools”与“ http://subversion-practice.sweng.xyz.com/cvn/repos/ps/port](http://subversion-practice.sweng.xyz.com/cvn/repos/ps/port) ”不在同一个存储库中

无法弄清楚为什么它正在寻找“C:/PORT_0310xx_05_88_tools”而不是“ [http://subversion-practice.sweng.xyz.com/cvn/repos/ps/port/tags/PORT_0310xx_05_88_tools](http://subversion-practice.sweng.xyz.com/cvn/repos/ps/port/tags/PORT_0310xx_05_88_tools) ”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T14:07:18.867

对于带有空格的提交消息，您必须使用`-m "Deleting PORT_0310xx_05_88_tools"`，否则只有第一个单词将是 -m 的参数，其余的将是删除的附加目标

> **由...指定的**每个项目****

# php - 在侧栏中显示特定类别的子类别

> ID：15498376
> 
> 赞同：0
> 
> 时间：2013-03-19T11:35:34.767
> 
> 标签：php, magento, navigation, categories, sidebar

我正在使用 Hellowired 主题，顶部导航链接显示在侧栏中。相反，我希望在侧边栏中显示特定类别（ID 3）的子类别。请记住，当用户通过链接导航时，活动非活动状态应该起作用。

这是 leftnav.phtml 中的代码：

```
 <div class="block block-leftnav">
 <div class="block-title"><strong><span><?php echo $this->__('Shop Categories') ?></span></strong></div>
 <div class="block-content">
 <ul id="leftnav">
 <!-- HOME BUTTON HACK -->

 <?php $_anyActive = false; foreach ($this->getStoreCategories(3) as $_category) { $_anyActive = $_anyActive || $this->isCategoryActive($_category); } ?>
 <li class="home <?php echo !$_anyActive ? 'active' : '' ?>"><a href="<?php echo $this->getUrl('')?>"><span><?php echo $this->__('Home') ?></span></a></li>
 <!-- HOME BUTTON HACK -->
 <?php foreach ($this->getStoreCategories(3) as $_category): ?>
 <?php echo $this->drawItem($_category) ?>
 <?php endforeach ?>
 </ul>
 </div> 
 </div> 
```

帮助表示赞赏。先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T12:54:10.123

load(3) 中的“3”是类别 ID。

```
$cat = Mage::getModel('catalog/category')->load(3);
    $subcats = $cat->getChildren();

    foreach(explode(',',$subcats) as $subCatid)
    {
      $_category = Mage::getModel('catalog/category')->load($subCatid);
      if($_category->getIsActive()) {
        $sub_cat = Mage::getModel('catalog/category')->load($_category->getId());
        $sub_subcats = $sub_cat->getChildren();
        foreach(explode(',',$sub_subcats) as $sub_subCatid)
        {
              $_sub_category = Mage::getModel('catalog/category')->load($sub_subCatid);
              if($_sub_category->getIsActive()) {
                  echo '<li class="sub_cat"><a href="'.$_sub_category->getURL().'" title="View products for "'.$_sub_category->getName().'" category">'.$_sub_category->getName().'</a></li>';
              }
         }
      }
    } 
```

# jquery - jquery 用于具有相似类的占位符

> ID：15498382
> 
> 赞同：0
> 
> 时间：2013-03-19T11:35:49.957
> 
> 标签：jquery

我正在尝试使用 jquery 和 css 来实现占位符。

我有 2 个类“.txt”和“.placeholder”，但我将这个类用于多个文本框。我需要鼠标悬停事件上的 jquery 操作（隐藏占位符）。

HTML：

```
 <div class="placeholder">First Name</div>
 <input type="text" class="txt"/>

 <div class="placeholder">Last Name</div>
 <input type="text" class="txt"/>

 <div class="placeholder">City</div>
 <input type="text" class="txt"/> 
```

CSS：

```
.txt
{
 height:40px;
width:300px;
margin-bottom:20px;
font-size:22px;
}

.placeholder
{
color:#DDD;
float:left;
position:absolute;
font-size:22px;
font-family:'Tahoma';
margin-top:7px;
margin-left:10px;
} 
```

请看一下小提琴：http: [//jsfiddle.net/39YJZ/2/](http://jsfiddle.net/39YJZ/2/)

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T11:43:23.280

您可以使用[.hover](http://api.jquery.com/hover/)来实现这一点。

```
$('.txt').hover(function(){
    $(this).prev('div.placeholder').hide();
}, function(){
    $(this).prev('div.placeholder').show();
}) 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/39YJZ/5/)

正如 lee_mcmullen 建议的那样，`'div.placeholder'`传递给 的选择器`prev`是可选的。

```
$('.txt').hover(function(){
    $(this).prev().hide();
}, function(){
    $(this).prev().show();
}) 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/39YJZ/7/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:44:13.773

```
$('.txt').hover(function(){
  $(this).prev().hide();
},
function(){
  $(this).prev().show();
}) 
```

# java - JSTL NumberFormatException

> ID：15498385
> 
> 赞同：0
> 
> 时间：2013-03-19T11:35:56.827
> 
> 标签：java, spring, hibernate, jsp, jstl

我有一个 spring+hibernate 应用程序，我在我的 DAO 层中进行本机查询。查询如下所示

```
select name, amount from myTable where id=:id 
```

很明显，所选字段具有不同的数据类型（字符串、数字）。

在 JSP 中，我想在表中打印返回的结果，因此我正在使用`foreach loop`返回集中的每条记录。

我想把负数放在大括号之间，所以我使用下面的代码

```
<c:forEach var="item" items="${resultSet}">
                    <tr>
                        <c:forEach var="v" items="${item}" varStatus="st">
                                    <td>
                                <c:choose>
                                    <c:when test="${v != null}">
                                        <c:choose>
                                            <c:when test="${v<0}">
                                                <c:out value="(${v})"></c:out>
                                            </c:when>
                                            <c:otherwise>
                                                <c:out value="${v}"></c:out>
                                            </c:otherwise>
                                        </c:choose>
                                    </c:when>
                                    <c:otherwise>
                                        <c:out value="-"></c:out>
                                    </c:otherwise>
                                </c:choose>
                            </td>
                        </c:forEach>
                    </tr>
                </c:forEach> 
```

由于查询中的第一项是字符串，因此此代码会触发 NumberFormateException。

我知道这个问题的两种解决方案。第一个是将大括号放在 SQL 查询中，但我不能使用此解决方案，因为应用程序包含许多查询，并且修改所有查询将花费大量时间。

第二种解决方案是使用 resultTransformer 并将返回的数据转换为一个 Object 但这不适合与前面相同的原因。

有什么办法可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:27:11.010

你试过这样吗？？

```
 <c:when test=${v<0}>
            <c:out value="(${v})"></c:out>
                     </c:when>
            <c:otherwise>
             <c:out value="${v}"></c:out> 
```

# .net - 尝试加载 Oracle 客户端库引发 BadImageFormatException

> ID：15498391
> 
> 赞同：8
> 
> 时间：2013-03-19T11:36:06.947
> 
> 标签：.net, wpf, oracle

尝试从 .net 连接到 oracle 数据库时出现以下异常：

`Attempt to load Oracle client libraries threw BadImageFormatException. This problem will occur when running in 64 bit mode with the 32 bit Oracle client components installed.`

经过许多链接后，我尝试通过将平台目标更改为任何 CPU 来克服此异常。由于它是 wpf 应用程序，因此在更改平台目标后会引发以下异常：

`'The invocation of the constructor on type 'SSC_GIP_UI.MainWindow' that matches the specified binding constraints threw an exception.' Line number '3' and line position '9'.`

但它在平台目标 x86 上运行良好，没有抛出上述异常，但它抛出了`BadImageFormatException`。

我正在使用的环境是：Windows server 2008、
.net framework 4.0、oracle 11g（64 位）

谁能告诉我。如何解决？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-19T14:43:42.540

此错误表明您的应用程序中的 32 位和 64 位组件不匹配。

当您在 64 位 Windows 中运行应用程序时，它可能以 64 位或 32 位运行。如果您将平台目标设置为 x86，它将以 32 位运行。如果您将平台目标设置为 x64 或 AnyCpu，它将以 64 位运行。

Oracle 有不同版本的客户端，一个是 32 位的，另一个是 64 位的。因此，如果您的应用程序在 32 位模式下运行，则需要确保安装了 32 位 Oracle 客户端。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-22T22:22:56.993

我想也许你必须： 打开 IIS，找到这个应用程序使用的应用程序池 转到那个应用程序池，在“启用 32 位应用程序”中设置一个标记

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-01-06T13:44:59.707

一个完全替代的解决方案是使用[适用于 .NET 的 Oracle 数据提供程序，](http://www.oracle.com/technetwork/topics/dotnet/index-085163.html)它可以让您访问 Oracle.ManagedDataAccess dll，无论您是使用 32 位还是 64 位都可以。阅读[Oracle Magazine](http://www.oracle.com/technetwork/issue-archive/2014/14-mar/o24odp-2147205.html)中的这篇文章以获得简要介绍。

您可以使用与 System.Data.OracleClient 几乎相同的方式使用它，尽管我不确定两者之间是否存在相同的功能，因此您的里程可能会有所不同。

# c# - 自定义工作流活动中的依赖注入

> ID：15498403
> 
> 赞同：2
> 
> 时间：2013-03-19T11:36:52.800
> 
> 标签：c#, ninject, workflow-foundation-4, workflow-foundation

我有一个具有工作流程的标准应用程序。客户可以在设计器中自定义工作流程。现在我们正在为特定客户制作一些自定义活动。自定义活动通过接口与业务层进行通信。如何为接口提供该接口的实现？

标准应用程序不知道该接口的接口和实现是非常重要的，因为它是针对该特定客户的自定义代码。该活动是通过标准工作流程找到的，因此已经可以使用。

我看到很多关于扩展的信息，但我真的不知道它是如何工作的。

自定义活动

```
public sealed class GetDealerDetails : CodeActivity
{
    /////// <summary>
    /////// The dealer controller with all the businesslogic.
    /////// </summary>
    ////private readonly IDealerController _dealerController;

    [Inject]
    public IDealerController DealerController { private get; set; }

    ////public GetDealerDetails()
    ////{

    ////}

    ////[Inject]
    ////public GetDealerDetails(IDealerController dealerController)
    ////{            
    ////    _dealerController = dealerController;
    ////}

    protected override void Execute(CodeActivityContext context)
    {
        Dealer dealer = DealerController.GetDealerDetails(5);
    }
} 
```

我在标准应用程序中使用 Ninject。我尝试使用构造函数注入和属性注入，但它不起作用。`DealerController`住宿`null`。_

**编辑** 其余代码可以在这里找到：[在标准应用程序中注入自定义代码](https://stackoverflow.com/questions/15482476/inject-custom-code-in-standard-application)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-21T21:42:58.753

导入是你必须使用我为 ninject 提供的工作流应用程序包装器。只有这样，我才能建立活动。诀窍如下：您不能将构造函数注入与自定义工作流活动一起使用。WF的活动很特别。通常，当您编写工作流程时，您会在 lambda 表达式中构建它们，然后将其延迟执行。所以我的 ninject 扩展只有在活动已经建立时才能发挥它的魔力。因此，您需要在 ninject 的工作流应用程序中传入您的活动树的根活动。然后，这确实在内部解析了整个活动树并注入了所有用注入属性装饰的属性。

但是您的实际问题是我现在已修复的库中的错误。BookmarkInfo 装饰器假定始终设置范围信息，但事实并非如此。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T16:53:43.450

扩展是框架为工作流中的注入提供的。当您执行工作流时，您会添加将在活动中使用的所有依赖项。

```
[Dependency]
public IMyService MyService{ get; set; }

WorkflowApplication instance = new WorkflowApplication(myWorkflow, inParameters);
instance.Extensions.Add(MyService);
instance.Run(); 
```

然后你可以在你的活动中获取扩展以使用它。

```
protected override void Execute(NativeActivityContext context){    
    var myservice = context.GetExtension<IMyService>();
    myservice.MyMethod();
    } 
```

我希望它有所帮助。

# sharepoint - sharepoint 2013 中的内容查询 webpart 仅获取标题

> ID：15498408
> 
> 赞同：1
> 
> 时间：2013-03-19T11:37:10.727
> 
> 标签：sharepoint, sharepoint-2013

```
The content query webpart in sharepoint 2013 fetches only Title. I am pointing to a Content type using it. Even though it contains many columns still Content Query displays only Title. 
How can I customize it to point to some columns in that content type? 
```

还有其他方法可以获取特定内容类型的列的数据吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T02:34:29.367

是的。您需要修改样式库中的 itemstyle.xsl，并添加一个新模板，该模板可以拉出您的项目的列。

# scala - Scala中对象的隐式

> ID：15498409
> 
> 赞同：6
> 
> 时间：2013-03-19T11:37:13.590
> 
> 标签：scala, object, implicit

我对 Joshua Suareth 的书 Scala 中的“5.1.3 隐式解析”中的描述感到困惑，第 100 页：

> Scala 对象不能有隐含的伴随对象。因此，必须从外部范围提供与该对象类型的隐式范围所需的与对象类型关联的隐式。这是一个例子：

```
scala> object Foo {
     |   object Bar { override def toString = "Bar" }
     |   implicit def b : Bar.type = Bar 
     |}
defined module Foo
scala> implicitly[Foo.Bar.type]
res1: Foo.Bar.type = Bar 
```

但是当我在 REPL 中隐含对象 Bar 时：

```
scala> object Foo {
     |   implicit object Bar {
     |     override def toString = "isBar" }
     | }
defined module Foo
scala> implicitly[Foo.Bar.type]
res0: Foo.Bar.type = isBar 
```

似乎不需要在外部范围内定义一个隐式。还是我完全错误地理解了约书亚的意思？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-19T13:46:08.497

在这种情况下，对象的行为就好像它们是它们自己的同伴一样，因此您只需将对象类型提及隐式嵌套在对象本身的主体中，

```
scala> object Bar {
     |   override def toString = "Bar"
     |   implicit def b : Bar.type = Bar
     | }
defined module Bar

scala> implicitly[Bar.type]
res0: Bar.type = Bar 
```

请注意，此处的主体`Bar`已被视为解析的隐式范围的一部分`Bar.type`。

这可能看起来是 Scala 类型系统的一个不起眼的角落，但我能够在[shapeless的](https://github.com/milessabin/shapeless)[多态（函数）值](https://github.com/milessabin/shapeless/commit/447aae489dd1b7b47fc2d7cc027ca73844a76550)编码中很好地使用它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T12:12:19.600

如果您将以下代码放在文件中并尝试使用`scalac`它进行编译，则会失败并显示`'implicit' modifier cannot be used for top-level objects`

```
 implicit object Foo {
  object Bar { override def toString = "Bar" }
 } 
```

然而，这编译得很好：

```
 object Foo {
  implicit  object Bar { override def toString = "Bar" }
 } 
```

我相信使用`REPL` `implicit's`不完全是顶级的，因此看起来不一致。

# php - 在 Dreamweaver 中为网站 PHP 创建一个搜索框

> ID：15498415
> 
> 赞同：-2
> 
> 时间：2013-03-19T11:37:25.393
> 
> 标签：php, mysql, dreamweaver

我正在创建一个网站，并且在网站内会有一个搜索框，可让您搜索网站上的项目。我有代码，但我不断收到错误消息。

```
<?php
include 'connect.php';

$search = $_POST['search']."*";

$search_query = $link->prepare("SELECT name FROM products WHERE MATCH(name) 
AGAINST (? IN BOOLEAN MODE)")
$search_query->bind_param('s', $search);
$search_query->execute();
$search_query->store_result();

$search_rows = $search_query->num_rows;
$search_query->bind_result($product_name);

if($search_rows > 0){
    while($search_query->fetch()){
        echo "Your search returned $search_rows results";
        echo $product_name."<br>";
    }
} else { echo "Your search returned no results, sorry :("; } 
```

是否可以使用数据库中的 mysql 查询来运行搜索以返回搜索？

任何建议将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:40:50.507

该错误很可能是因为您的语法。

```
$search_query->store_result();
$search_rows = $search_query->num_rows;
$search_query->bind_result($product_name); 
```

在这里，您首先尝试存储结果，然后将结果绑定到`$product_name`导致上述错误的变量。

国家[`bind_result`](http://php.net/manual/en/mysqli-stmt.bind-result.php)：

> 请注意，所有列都必须在`mysqli_stmt_execute()`调用之后和之前绑定`mysqli_stmt_fetch()`。根据列类型，绑定变量可以静默更改为相应的 PHP 类型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:42:42.180

该代码需要一些工作。

那个循环看起来有缺陷。尝试这样的事情：

```
echo "Your search returned $search_rows results";
while($search_query->fetch()){
   echo $product_name . "<br>";
} 
```

# eclipse - Eclipse - 用宏替换文件？（用于在 Android 中使用试用版/完整版）

> ID：15498416
> 
> 赞同：0
> 
> 时间：2013-03-19T11:37:28.633
> 
> 标签：eclipse, macros

我正在使用文件中的简单替换功能在编译之前将我的项目转换为试用版/完整版......（只需替换所有 *.java 和 *.xml 文件中的包名）

这就像一个魅力。

有没有一种简单的方法来创建一个宏，首先调用特定的替换调用，然后调用构建例程？

# php - 为什么我会得到这些 Silex 404？

> ID：15498419
> 
> 赞同：3
> 
> 时间：2013-03-19T11:37:35.570
> 
> 标签：php, apache, .htaccess, wamp, silex

刚开始使用 Silex 并遇到一些问题。

下载[fat zip 文件](http://silex.sensiolabs.org/get/silex_fat.zip)，解压到`wamp`'s`www`文件夹。所以，这里是`C:\wamp\www\fat-silex\web\index.php`：

```
<?php
require_once __DIR__.'/../vendor/autoload.php';
$app = new Silex\Application();
$app->get('/hello', function() {
    return 'Hello!';
});
$app->run(); 
```

问题是我得到了 Apache 的 404`http://localhost/fat-silex/web/hello`以及除 之外的任何 URL `localhost/fat-silex/web`，我得到 Silex'es 404（如预期的那样）。我猜这些请求直接发送到 Apache，而不是由 Silex 路由。看起来这个问题可以用一个`.htaccess`文件来解决，所以我添加了这个，在[官方文档](http://silex.sensiolabs.org/doc/web_servers.html)中建议：

```
<IfModule mod_rewrite.c>
    Options -MultiViews

    RewriteEngine On
    RewriteBase /fat-silex
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^ index.php [L]
</IfModule> 
```

但是，它似乎根本没有*任何*效果。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T13:27:39.347

你的重写基础应该是`/fat-silex/web`

```
<IfModule mod_rewrite.c>
    Options -MultiViews

    RewriteEngine On
    RewriteBase /fat-silex/web
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^ index.php [L]
</IfModule> 
```

我已经在我的本地主机上测试过它，它工作正常

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-23T06:20:03.740

问题是你的apache conf。如果您不使用虚拟主机，您应该配置 apache 以允许您的项目目录的 htaccess 文件。在 Linux (Ubuntu) 上：`sudo vi /etc/apache2/sites-available/default`

```
<Directory /var/www/>
  Options Indexes FollowSymLinks MultiViews
  AllowOverride None
  ...
</Directory>
<Directory /var/www/fat-silex/>
  AllowOverride All
</Directory> 
```

# delphi - 程序不满意的前向或外部声明

> ID：15498420
> 
> 赞同：2
> 
> 时间：2013-03-19T11:37:38.837
> 
> 标签：delphi, procedure

我的程序无法编译，因为它说我的程序有一个不满意的前向或外部声明......我实际上不知道这意味着什么......

```
private 
  procedure ShowData;

implementation

procedure ShowData;
var 
  Cycle2UFile : textfile;
  Str : String;
  J, 
  Count : integer;
begin
  Count := 0;
  AssignFile( Cycle2UFile, 'data.txt' );
  Reset( Cycle2UFile );
  While not EOF( Cycle2UFile ) do
    begin
      Inc( Count );
      ReadLn( Cycle2UFile , ArrNames[Count] );
      ReadLn( Cycle2UFile, ArrSales[Count] );
    end;
  CloseFile( Cycle2UFile );
  // Randomize; 
end; 
```

我看不出有什么问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T12:04:52.787

要**编译**您的代码，只需删除`private`.

`private`是一个 delphi 关键字，只在类定义中知道，但使用独立时没有意义。

```
// private 
  procedure ShowData;

implementation

procedure ShowData;
var 
  Cycle2UFile : textfile;
  Str : String;
  J, 
  Count : integer;
begin
  Count := 0;
  AssignFile( Cycle2UFile, 'data.txt' );
  Reset( Cycle2UFile );
  While not EOF( Cycle2UFile ) do
    begin
      Inc( Count );
      ReadLn( Cycle2UFile , ArrNames[Count] );
      ReadLn( Cycle2UFile, ArrSales[Count] );
    end;
  CloseFile( Cycle2UFile );
  // Randomize; 
end; 
```

# c# - ASP.Net Post 用户控件 发布到新页面

> ID：15498421
> 
> 赞同：1
> 
> 时间：2013-03-19T11:37:42.597
> 
> 标签：c#, asp.net, user-controls

我正在创建一个将充当搜索功能的自定义用户控件。我希望能够轻松地将其添加到多个页面，而无需修改太多代码。

我认为最好的方法是创建一个简单的用户控件，我可以用一行代码在任何地方注入，然后将此控件回发到不同的 URL。因此，无论搜索功能在哪里，它都会返回到同一页面。我的控件如下所示：

```
<asp:TextBox ID="searchTextBox" runat="server" MaxLength="350"></asp:TextBox>
<asp:Button ID="submit" runat="server" Text="Search" PostBackUrl="~/myPostBackPage.aspx" /> 
```

myPostBackPage.aspx.cs 看起来像这样，但它没有抓取文本。

```
protected void Page_Load(object sender, EventArgs e)
{

    content.InnerHtml = ((TextBox)PreviousPage.FindControl("searchTextBox")).Text;
} 
```

但它没有从 searchTextBox 字段中提取任何内容，我得到：

```
Object reference not set to an instance of an object. 
```

有没有更好的方法来做到这一点，或者我应该如何修复我的代码？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:45:48.967

我不知道在哪里`TextBox`声明，例如，如果您使用 MasterPages `NamingContainer`，它将是`ContentPlaceHolder`master 而不是 Page。因此只需将`PreviousPage`属性转换为正确的类型：

```
YourPageType page = PreviousPage as YourPageType;
if(page != null)
{
    content.InnerHtml = page.SearchText;
} 
```

由于受保护，您必须提供公共财产`TextBox`（无论如何都是最佳实践）：

```
public string SearchText
{
    get {  return searchTextBox.Text;  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:51:53.687

我测试了你的代码，**PreviousPage**为空。尝试切换到**Page**。

# asp.net - 如何将两种 css 应用于一个控件，一种用于 Internet Explorer，另一种用于 Firefox 和 chrome

> ID：15498423
> 
> 赞同：1
> 
> 时间：2013-03-19T11:37:48.737
> 
> 标签：asp.net, css

如何将两种 css 应用于一个控件，一种用于 Internet Explorer，另一种用于 Firefox 和 chrome

只是在 Internet Explorer 中 contentplaceholder 今天移动到另一个地方，过去几天没问题

```
<div id="content" style="margin-top:28px; margin-left: 240px; border:0px solid;">
                    <asp:ContentPlaceHolder id="ContentPlaceHolder1" runat="server">
                    </asp:ContentPlaceHolder>
                </div>

<!--[if IE]>
#hellocss
{
    margin-top:-600px; margin-left: 100px; border:0px solid;
}
<![endif]-->

<!--[if !IE]>
#hellocss
{
    margin-top:28px; margin-left: 240px; border:0px solid;
}
<![endif]--> 
```

我遇到了一个大问题，它可能是 Internet Explorer 中 margin-top 的负数

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:40:57.200

您可以像这样在 CSS中使用[条件注释](http://msdn.microsoft.com/en-us/library/ms537512%28v=vs.85%29.aspx)

```
<!--[if IE]>
<link href="Styles/IEstylesheet.css" rel="stylesheet" type="text/css" />
<![endif]--> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:42:12.420

给 ContentPlaceHolder 一个类：

```
<asp:ContentPlaceHolder CssClass="contentPlaceHolderClass" id="ContentPlaceHolder1" runat="server">
                </asp:ContentPlaceHolder> 
```

并在页面顶部使用条件 CSS 定义此样式：[http ://www.quirksmode.org/css/condcom.html](http://www.quirksmode.org/css/condcom.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T11:50:56.263

我认为您可以在属性名称的开头使用下划线（_），以便它仅适用于 IE。

比如 style="style="margin-top:28px; 左边距：240px；边框：0px 实心；**_margin-top:10px; _margin-left: 240px; _border:0px 实心；**">

# css - 使用 CSS 为背景图像添加颜色

> ID：15498428
> 
> 赞同：0
> 
> 时间：2013-03-19T11:38:00.350
> 
> 标签：css, background-image, background-color

我正在处理一个 HTML 页面。此页面允许用户选择将用作 DIV 的“背景图像”属性值的图像。用户还可以选择一种颜色来给图像加阴影。

在尝试构建它时，我发现了这个站点：[http](http://doodles.tev.net/texture2/) ://doodles.tev.net/texture2/ 。它做的正是我想要的。但是，我的应用程序中的代码似乎没有适当地应用背景颜色。如果设置了 background-image 值，则 background-color 没有影响。这是我所拥有的：

```
<div id="myDiv" style="height:200px; width:200px; border:1px solid black; display:inline-block;">&nbsp;</div>

function updateMyDiv() {
  var bg = getBG();
  $("#myDiv").css("background-color", bg);

  var fg = getFG();
  $("#myDiv").css("color", fg);

  var txt = getTxt();
  if ((txt != null) && (txt.path != null) && (txt.path.length > 0)) {
    $("#myDiv").css("background-image", 'url(' + txt.path + ')');
  } else {
    $("#myDiv").css("background-image", '');
  }
} 
```

当我选择颜色时，为什么链接到“60 度灰色”的网站会应用色调。但是，在我的应用程序中，永远不会应用色调。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:56:41.017

如果您提供背景图像，它将始终显示在背景颜色之上。背景颜色通常用作备用，以防背景图像返回 404，或者图像没有覆盖所有背景。

如果您仔细查看链接到的站点，您会发现图像是半透明的；我认为这可能是你的问题。你的图片是半透明的吗？

# loops - 使用求解器 VBA 循环

> ID：15498429
> 
> 赞同：0
> 
> 时间：2013-03-19T11:38:01.870
> 
> 标签：loops, excel, solver, vba

嗨，我有以下代码，它通过求解器运行单个优化，我想在循环中运行。单次运行代码是：

```
 Sub Macro4
SolverReset
    SolverOk SetCell:="$D$36", MaxMinVal:=2, ValueOf:="0", ByChange:="$D$7:$R$7"
    SolverAdd CellRef:="$S$7", Relation:=2, FormulaText:="1"
    SolverAdd CellRef:="$D$7:$R$7", Relation:=1, FormulaText:="$D$6:$R$6"
    SolverAdd CellRef:="$D$7:$R$7", Relation:=3, FormulaText:="$D$5:$R$5"
    SolverAdd CellRef:="$D$37", Relation:=2, FormulaText:="$D$41"
    SolverOk SetCell:="$D$36", MaxMinVal:=2, ValueOf:="0", ByChange:="$D$7:$R$7"
    SolverSolve UserFinish:=True
    SolverFinish KeepFinal:=1

    Range("D37").Select
    Selection.Copy
    Range("E41").Select
    ActiveSheet.Paste
    Range("D36").Select

Application.CutCopyMode = False
Selection.Copy
Range("F41").Select
ActiveSheet.Paste
Range("D36").Select

Range("D7:R7").Select
Application.CutCopyMode = False

   Selection.Copy
    Range("I41").Select
    ActiveSheet.Paste
End Sub 
```

求解器优化到 $D$41 中的值（以及其他约束），然后通过复制几个单独的单元格和一个数组来粘贴解决方案，然后将它们粘贴到原始目标单元格旁边（即到第 41 行）。这很好用。但是，我试图让它运行一列目标单元格，方法是让它依次优化列中的每个单元格，通过使用循环（或更好的替代方案），然后将解决方案粘贴到它旁边，就像它为单次运行代码。例如，我试图将它与以下代码合并

```
 Sub Complete()
'
'
'
Dim Count As Double
Dim Count2 As Integer
Dim increment As Double
increment = Range("C43").Value
strt = Range("C41").Value
fnsh = Range("C42").Value

    For Count = strt To fnsh Step increment
        Count2 = Count / increment
        Range("D41").Offset(Count2, 0) = Count
    Next Count
End Sub 
```

which generates the column of target values (from strt to fnsh using increment) for Solver to take and use instead of (I think!!!) the part that says `FormulaText:="$D$41"`. However I run into various errors and complaints (method 'Range' of Object'_Global'failed- which highlights the line "Range(E41+Count").Select. The complete code I have is:

```
`Sub Macro5()
   Dim Count As Double
Dim Count2 As Integer
Dim increment As Double
increment = Range("C43").Value
strt = Range("C41").Value
fnsh = Range("C42").Value

For Count = strt To fnsh Step increment
        Count2 = Count / increment
        Range("D41").Offset(Count2, 0) = Count

    SolverReset
    SolverOk SetCell:="$D$36", MaxMinVal:=2, ValueOf:="0", ByChange:="$D$7:$R$7"
    SolverAdd CellRef:="$S$7", Relation:=2, FormulaText:="1"
    SolverAdd CellRef:="$D$7:$R$7", Relation:=1, FormulaText:="$D$6:$R$6"
    SolverAdd CellRef:="$D$7:$R$7", Relation:=3, FormulaText:="$D$5:$R$5"
    SolverAdd CellRef:="$D$37", Relation:=2, FormulaText:="$D$41:$D$41+Count"
    SolverOk SetCell:="$D$36", MaxMinVal:=2, ValueOf:="0", ByChange:="$D$7:$R$7"
    SolverSolve UserFinish:=True
    SolverFinish KeepFinal:=1

    Range("D37").Select
    Selection.Copy
    Range("E41+Count").Select
    ActiveSheet.Paste
    Range("D36").Select
    Application.CutCopyMode = False
    Selection.Copy
    Range("F41+Count").Select
    ActiveSheet.Paste

    Range("D7:R7").Select
    Application.CutCopyMode = False
    Selection.Copy
    Range("I41+Count").Select
    ActiveSheet.Paste

Next Count 
End Sub` 
```

I just need it to update which cell it is optimising to (and putting it in the constraint of solver), then updating which cells to copy and where to paste them. Any help would be greatly appreciated.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T15:04:31.407

```
Range("E41+Count").Select 
```

This is improper syntax. The following is preferred:

```
Range("E41").Offset(Count,0).Select 
```

or you could use

```
Range("E" & 41 + Count).Select 
```

In general, avoid using Range without the sheet name in front of it. Also, only Select when you need to, and that's almost never. Here's an example that doesn't use any Select methods.

```
Sub Complete()

    Dim lStrt As Long, lFnsh As Long
    Dim lCount As Long, lCount2 As Long
    Dim lIncrement As Long

    For lCount = lStrt To lFnsh Step lIncrement
        lCount2 = lCount / lIncrement

        Sheet1.Range("D41").Offset(lCount2, 0).Value = lCount

        SolverReset
        SolverOk SetCell:="$D$36", MaxMinVal:=2, ValueOf:="0", ByChange:="$D$7:$R$7"
        SolverAdd CellRef:="$S$7", Relation:=2, FormulaText:="1"
        SolverAdd CellRef:="$D$7:$R$7", Relation:=1, FormulaText:="$D$6:$R$6"
        SolverAdd CellRef:="$D$7:$R$7", Relation:=3, FormulaText:="$D$5:$R$5"
        SolverAdd CellRef:="$D$37", Relation:=2, FormulaText:=Sheet1.Range("D41").Offset(lCount2, 0).Address
        SolverOk SetCell:="$D$36", MaxMinVal:=2, ValueOf:="0", ByChange:="$D$7:$R$7"
        SolverSolve UserFinish:=True
        SolverFinish KeepFinal:=1

        Sheet1.Range("E41").Offset(lCount2, 0).Value = Sheet1.Range("D37").Value
        Sheet1.Range("F41").Offset(lCount2, 0).Value = Sheet1.Range("D36").Value
        Sheet1.Range("D7:R7").Copy Sheet1.Range("I41").Offset(lCount2, 0)

    Next lCount

End Sub 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T12:03:48.300

Lets take into consideration part of the first line from your base solver code. There is:

```
SolverOk SetCell:="$D$36" 'and so on... 
```

Wherever you have any address in Solver parameters you should pass there address instead of value (which could be quite intuitive but its not working). Therefore you would do something like this:

```
SolverOk SetCell:=Range("$D$36").Address '... structure ok 
```

but not:

```
SolverOk SetCell:=Range("$D$36").Value   '... wrong structure 
```

Than you need to improve your loop in that direction. If it doesn't help you please provide complete code of what you have.

# c++ - 如何将二进制数据缓冲区传递给xml？

> ID：15498432
> 
> 赞同：1
> 
> 时间：2013-03-19T11:38:10.843
> 
> 标签：c++, xml

**大家好，**

*   我有一个包含二进制数据的缓冲区（大小超过 1G）...
*   此二进制数据由“Ipp16s”指针（英特尔数据类型为“short”）指向...
*   指针“仅”指向缓冲区的第一个元素，而不是所有缓冲区（正如我在调试时被告知并检查自己的那样））...
*   最终，我想将整个缓冲区放入一个 xml ...
*   我已经设置了 xml 格式，并且在传递模拟值时它正在工作......
*   所以，我想到了两个解决方案：

    1.  将单值一个接一个（使用for循环）插入到xml中（这是一种非常简单的方法，但由于很多原因效率低下）

    2.  在将编码的缓冲区注入 xml 之前（以某种方式）编码缓冲区（及其所有内容）（这种方法听起来很复杂但更合乎逻辑）

**我的问题是：如何将此缓冲区（二进制数据）编码为 xml ？**

顺便说一句，我是 C++ 新手，并且正在使用 Qt-Creator。

在此先感谢您的帮助，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:47:53.723

我一般使用[base64](http://en.wikipedia.org/wiki/Base64)编码。我相信你可以找到一个已经写好的实现，或者如果它有吸引力，你可以自己写。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:49:21.000

尝试阅读以下讨论[http://www.qtcentre.org/threads/27402-Save-binary-data-into-XML-file](http://www.qtcentre.org/threads/27402-Save-binary-data-into-XML-file)

# java - 使用工厂方法创建单例类

> ID：15498434
> 
> 赞同：1
> 
> 时间：2013-03-19T11:38:12.053
> 
> 标签：java, oop, design-patterns, singleton

我的单例类实现了一个接口，将来我可以期待许多具体的实现出来。我正在考虑通过工厂方法创建这个类的一个实例。工厂方法可能被重载。我的问题是这个想法是好是坏？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:57:32.193

根据您更新的评论，确保您可以做到这一点。工厂方法根据重载的参数或参数中的枚举/整数值输出持久性类的单例实现。有许多框架使用这种模式，比如给你一个客户端实例，这些实例与基于不同协议的服务器通信。

```
MyFactory.pbClient("host", port);
MyFactory.httpClient("host", port); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:08:47.480

如果从您的工厂方法返回的实例是单例，则无关紧要。这是一个实施选择——根据您的需要做正确的事情。

此外，如果您的方法签名返回一个接口，那么从技术上讲，它是一个[*抽象*工厂](http://en.m.wikipedia.org/wiki/Abstract_factory_pattern)方法，而不是[工厂](http://en.m.wikipedia.org/wiki/Factory_method_pattern)方法。

# android - 适配器中错误的背景颜色 ListView 行

> ID：15498436
> 
> 赞同：0
> 
> 时间：2013-03-19T11:38:14.120
> 
> 标签：android, listview, adapter

我正在尝试为每一行获得不同的颜色

如果我滚动得太快，那么我可能会连续得到 3 个白色行（不是双关语，哈哈）

```
public class TestAdapter extends ArrayAdapter<Enlevement> {
      private final Activity context;
      private boolean shouldCreateGreyBackground = false;

      static class ViewHolder {
        public TextView text;
        public LinearLayout layout;
      }

      public TestAdapter(Activity context ) {
        super(context, 0);
        this.context = context;
      }

      @Override
      public View getView(int position, View convertView, ViewGroup parent) {
        View rowView;

          LayoutInflater inflater = context.getLayoutInflater();
          rowView = inflater.inflate(R.layout.list_item_enlevement_grey, null);

          ViewHolder viewHolder = new ViewHolder();

          viewHolder.text = (TextView) rowView.findViewById(R.id.enlevementDate);
          viewHolder.layout = (LinearLayout) rowView.findViewById(R.id.layoutEnlevementItemGrey);

          rowView.setTag(viewHolder);

        ViewHolder holder = (ViewHolder) rowView.getTag();
        Enlevement entry = getItem(position);
        holder.text.setText(String.valueOf(entry.i));
        if(shouldCreateGreyBackground){
            holder.layout.setBackgroundResource(R.drawable.selector_listview_grey);
            shouldCreateGreyBackground = false;
        }
        else{
            holder.layout.setBackgroundResource(R.drawable.selector_listview_white);
            shouldCreateGreyBackground = true;
        }

        return rowView;
      }
    } 
```

我已经尝试了几种修复方法和方法来解决这个问题，但都没有成功。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:44:31.280

```
if(position%2 == 0){
    holder.layout.setBackgroundResource(R.drawable.selector_listview_grey);
}
else{
    holder.layout.setBackgroundResource(R.drawable.selector_listview_white);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:43:05.983

```
if (position%2 == 0) {
     view.setBackgroundColor(Color.WHITE);

} else {
     view.setBackgroundColor(Color.BLACK);
} 
```

# javascript - 使用带有 JSONP 的 jQuery/AJAX 时没有响应

> ID：15498442
> 
> 赞同：3
> 
> 时间：2013-03-19T11:38:21.773
> 
> 标签：javascript, jquery, ajax, jsonp

我正在尝试使用 jQuery/AJAX 发出跨域请求。我有以下代码；

```
$.ajax({
   url: "http://www.cjihrig.com/development/jsonp/jsonp.php?callback=jsonpCallback&message=Hello",
   crossDomain:true
})
.done(function( msg ) {
  alert( "Done : " + msg );
})
.fail(function( msg) {
  alert( "Fail : " + msg);
})
.always(function( msg ) {
  alert( "Always : " + msg );
}); 
```

URL [http://www.cjihrig.com/development/jsonp/jsonp.php?callback=jsonpCallback&message=Hello](http://www.cjihrig.com/development/jsonp/jsonp.php?callback=jsonpCallback&message=Hello)在直接调用时返回 JSON 对象，在传统方式使用 JSONP 时工作正常（即通过动态脚本标签注入）

但是为什么我在使用 jQuery/AJAX 时会出错？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:43:18.213

试试这个代码，因为错误没有设置 dataType 并且不期望 jsonp 默认数据类型
**：（**默认值：智能猜测（xml、json、脚本或 html））
**类型：**字符串

```
 $.ajax({
   url: "http://www.cjihrig.com/development/jsonp/jsonp.php?callback=jsonpCallback&message=Hello",
   dataType: 'jsonp',
   crossDomain:true,
    jsonp: false,
    success: jsonpCallback,
})
.done(function( msg ) {
  alert( "Done : " + msg );
})
.fail(function( msg) {
  alert( "Fail : " + msg);
})
.always(function( msg ) {
  alert( "Always : " + msg );
});

 function jsonpCallback(data){
        alert("jsonpCallback");
    } 
```

[演示](http://jsfiddle.net/XdSUc/3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:43:17.277

我会使用 $.ajax 选项：

```
dataType: "jsonp" 
```

这会自动将回调选项添加到 url。[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

# java - 异步插入后无法从android sqlite数据库中检索数据

> ID：15498443
> 
> 赞同：0
> 
> 时间：2013-03-19T11:38:21.973
> 
> 标签：java, android, android-asynctask, android-sqlite

在启动活动中，我将数据插入到 AsyncTask 中的数据库中，当它完成时，我启动新活动并选择该数据以在列表视图中显示它，但所选光标为空。这是插入和启动新Activity的代码：

```
 dbOperations= DatabaseManager.getInstance(AuthorizationMainActivity.this);
            dbOperations.open();
            LinkedHashMap<String, Object> parametersInbox = new LinkedHashMap<String, Object>();
            parametersInbox.put("_id", result.get("msg_id"));
            parametersInbox.put("limit", Integer.valueOf(1000).toString());
            parametersInbox.put("type", Integer.valueOf(1).toString());
            requestInbox(serverParametersInbox);//This method send request to the server and insert response into the database.
                           try {
                databaseTask.get();
            } catch (InterruptedException e) {
                e.printStackTrace();
            } catch (ExecutionException e) {

                e.printStackTrace();
            }
            Intent nextView = new Intent(context_, InboxActivity.class);
            startActivity(nextView); 
```

这是`InboxActivity` `onCreate()`：

```
DatabaseManager db = DatabaseManager.getInstance(this);
 db.open();
  String selectionQuery = "select * from messages;";
 database.rawQuery(selectionQuery, null).getCount(); //Here is 0! 
```

所以数据插入得很好（我可以在查看器中看到它）。但是在下一个活动中我无法检索它。为什么？在开始新的活动之前，我打电话`get()`等待`AsyncTask`完成。

PS select 和 * 之间的插入空间无效。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:42:07.210

```
DatabaseManager db = DatabaseManager.getInstance(this);
 db.open();
  String selectionQuery = "select * from messages;";
 database.rawQuery(selectionQuery, null).getCount(); //Here is 0! 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T09:08:04.923

参考我引用的方法的android[文档：](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#rawQuery%28java.lang.String,%20java.lang.String%5b%5d,%20android.os.CancellationSignal%29)`rawQuery`

> ...SQL 字符串不能是 ; 终止

所以，我建议你从你的 sql 字符串中删除分号。

# bash - 如何获取文件夹的文件和子文件夹

> ID：15498444
> 
> 赞同：1
> 
> 时间：2013-03-19T11:38:25.250
> 
> 标签：bash

我正在尝试创建一个简单的 bash 脚本，它将回显文件夹中的所有文件，包括子文件夹。以下是我的代码。但我得到的输出只是 ls $fromFolder

```
#! /bin/bash

fromFolder="~/proj/activex"
toFolder="~/proj/outgoing"

files='ls $fromFolder'

for file in $files 
do
    echo $file
done 
```

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T11:47:15.550

这里不需要使用`ls`命令。您可以简单地将 for 循环替换为：

```
for file in ~/proj/outgoing/*
do
   echo $file
done 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:45:02.797

```
find $fromfolder -print 
```

将打印 $fromfolder 中的所有文件和子目录。

这列出了常规文件

`find $fromfolder -print -type f`

这列出了目录

`find $fromfolder -print -type d`

在你的代码中——这有问题 `files='ls $fromFolder'`

`$fromfolder`由于单引号，bash永远不会被“翻译”成它的值。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-19T11:48:36.173

您需要使用双引号而不是单引号，这将允许 shell 扩展 fromFolder 变量：

```
files="ls $fromFolder" 
```

虽然anubhava的解决方案更好

# groovy - GPars：返回 eachParallel{}

> ID：15498446
> 
> 赞同：6
> 
> 时间：2013-03-19T11:38:29.383
> 
> 标签：groovy, gpars

我想对每个示例字符串做很多事情，并在这里返回一些其他类型的对象整数，然后返回一些更大的类对象。

在这个例子中，我正在尝试一些简单的事情，但我得到了一个完全错误的结果。至少对于我希望得到的东西。xD

我希望得到：`[6, 5, 6, 5]` 但相反，我得到：`[butter, bread, dragon, table]`

```
package test

@Grab(group='org.codehaus.gpars', module='gpars', version='1.0.0')
import static groovyx.gpars.GParsPool.withPool

class Test {
    List<String> strings = new ArrayList<String>([
        "butter",
        "bread",
        "dragon",
        "table"
    ])

    def closure = { it.length() }

    def doStuff() {
        def results = withPool( 4 ) {
            strings.eachParallel{ it.length()}
        }
        println results
    }

    static main(args) {
        def test = new Test()
        test.doStuff()
    }
} 
```

如果答案可以有一个简短的解释，那就太好了。非常感谢！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-19T11:46:45.207

在 groovy 中`each`（以及`eachParallel`在 GPars 中）返回原始集合。

你想要的是`collect`（返回通过调用闭包创建的新集合）

所以，改变

```
 strings.eachParallel { it.length() } 
```

至

```
 strings.collectParallel { it.length() } 
```

### （顺便提一句）

GPars 现在与 Groovy 捆绑在一起，因此您不需要`@Grab`，我假设您打算`closure`在`collect`?

```
package test

import static groovyx.gpars.GParsPool.withPool

class Test {
  List<String> strings =  [ "butter", "bread", "dragon", "table" ]

  def closure = { it.length() }

  def doStuff() {
    def results = withPool( 4 ) {
      strings.collectParallel closure
    }
    println results
  }

  static main( args ) {
    def test = new Test()
    test.doStuff()
  }
} 
```

# cocoa - nssplitview 以编程方式在顶部添加 nsview

> ID：15498449
> 
> 赞同：1
> 
> 时间：2013-03-19T11:38:35.557
> 
> 标签：cocoa, nsview, nssplitview

我正在尝试以编程方式在 NSSplitView 上添加 NSView （以覆盖它）。每次尝试这样做都会导致它被添加到 NSSplitview 作为额外的子视图。有人可以帮忙吗？

代码：

```
InfoTrainView *myView = [[[InfoTrainView alloc] initWithFrame: aFrame] autorelease];
[NSBundle loadNibNamed:@"InfoTrainView" owner:myView]; 
[self.windowController.splitViewBase addSubview:myView]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-27T02:10:02.547

我相信您需要将新视图作为子视图添加到 NSSplitView 的超级*视图*（即父视图）。这样它就成为*NSSplitView*的兄弟并可以覆盖它。您当前的方法使新视图成为拆分视图的子视图，然后将其设置为拆分四种方式。

```
NSView* parentView = [self.windowController.splitViewBase superview];
if (parentView)
    [parentView addSubview:myView]; 
```

`parentView`上面应该为您提供“内容视图”，它是 NSWindow 内的默认 NSView，IB 将 NSSplitView 放置在其中。如果`parentView == nil`，您可以尝试先手动将 NSView 添加到窗口，然后将 NSSplitView 放入其中。

在旁注中，您的*问题*回答了我自己的问题 - 如何以编程方式添加到 NSSplitView 内部拆分的视图！谢谢 ：）

# javascript - 一个大图自动滑动的插件

> ID：15498451
> 
> 赞同：0
> 
> 时间：2013-03-19T11:38:38.197
> 
> 标签：javascript, jquery, slideshow

我看到一个插件可能是一个幻灯片插件，它在大图像的 y 轴上滑动。

我不知道如何正确，但可以说可见图像是 600 像素到 300 像素，但实际图像是 600 像素到 600 像素，该插件正在滚动可见部分，以便在一段时间内看到所有内容。

我不记得它的名字，所以我真的需要找到它的名字或类似的东西。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:42:11.317

我不认为你需要一个插件。通过一些工作，您应该能够使用[jQuery 的 animate() 方法](http://api.jquery.com/animate/)做类似的事情。

# jquery - 如何避免两个版本的 Jquery 库之间的冲突？

> ID：15498455
> 
> 赞同：2
> 
> 时间：2013-03-19T11:38:57.643
> 
> 标签：jquery, jquery-plugins, struts2-jquery

在 jsp 页面中，我使用 struts2-jquery-plugin-3.2.1.jar（它在内部使用 jquery-1.6.4.js）并且我正在使用 facebox（它使用 jquery-1.4.3.min.js）。所以我的 struts2-jquery-plugin-3.2.1.jar 先加载然后是 facebox jquery。但是当我放 jquery-1.4.3.min.js 时，我的 struts2-jquery-plugin-3.2.1.jar 停止工作，当我删除 jquery-1.4.3.min.js 时，显然我的 facebox 停止工作。我关注这些论坛：[here](http://forum.jquery.com/topic/multiple-versions-of-jquery-on-the-same-page)和[here](http://learn.jquery.com/using-jquery-core/avoid-conflicts-other-libraries/)但无法解决此问题。有人建议我使用新版本的struts2-jquery-plugin，但我不能使用，因为如果我使用新版本的struts2-jquery-plugin 然后我的项目的一些代码停止工作。请分享您对这个问题的了解。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-19T11:46:03.203

您需要使用 jQueryNoConflict 功能：[http ://api.jquery.com/jQuery.noConflict/](http://api.jquery.com/jQuery.noConflict/)

所以你的库需要定义如下：

```
<script src='jquery-1.3.2.js'></script>
<script>
var jq132 = jQuery.noConflict();
</script>

<script src='jquery-1.4.2.js'></script>
<script>
var jq142 = jQuery.noConflict();
</script> 
```

然后你可以像这样使用它们：

```
jq132.ajax(....);
jq142('#my-elem').hide(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:40:27.217

只需使用最新的 jQuery（在您的情况下为 1.6.4.js），它就可以工作。不要更新到 1.9，因为它包含多个重大更改。

如果删除 jquery-1.4.3，则没有理由停止工作。1.4 中所有弃用的方法都包含在 1.6 中。

检查控制台是否有错误。

# android - GetView、视图、位图和多线程的问题

> ID：15498457
> 
> 赞同：0
> 
> 时间：2013-03-19T11:39:00.060
> 
> 标签：android, xamarin.android

我目前正试图通过将一些工作从 UI 线程移动到其他线程来使我的 GridView 的滚动更顺畅，但我得到了奇怪的行为：有时一个图像被绘制到一个以上的视图。我正在使用 Xamarin (C#)。

您可以在下面找到我当前代码的简化版本。LoadShowImageAsync 是从我的 gridview 适配器中的 GetView() 中调用的。如果我调用 LoadShowImageDoWork() 单线程一切都很好，但是当我通过 ThreadPool 调用它时，它会显示奇怪的行为。在调试日志中，我看到该方法是在解码图像后留下的，而 RunOnUiThread 的东西稍后会针对多个图像执行。然后对其他一些图像进行解码，然后为它们组合 RunOnUiThread 内容。我猜想位图内容在这里混在一起了。

有谁知道我可以做些什么来让它工作在多线程？

```
public class LoadImageAsyncDatas {
    public int ImageId { get; private set;}
    public ImageView ImageView { get; private set;}

    public LoadImageAsyncDatas (ImageView imageView,int imageId) {
        ImageId = imageId;
        ImageView = imageView;
    }
}

public class LoadImageAsync {

    private object locker;
    Activity activity;

    public LoadImageAsync (Activity activity) {
        this.activity = activity;
        locker = new object ();
    }

    public void LoadShowImageAsync (ImageView imageView,int imageId) {
        object stateInfo = new LoadImageAsyncDatas (imageView, imageId);
        // call LoadShowImageDoWork() either multithreaded (strange behaviour) or single threaded (works)
        ThreadPool.QueueUserWorkItem (new WaitCallback (LoadShowImageDoWork), stateInfo);
        // LoadShowImageDoWork (stateInfo);
    }

    private void LoadShowImageDoWork (object stateInfo) {
        lock (locker) {     // lock is only for debugging
            LoadImageAsyncDatas imageData = stateInfo as LoadImageAsyncDatas;

            byte[] imageBytes = LoadFileByImageId(imageData.ImageId);
            Bitmap bitmap = BitmapFactory.DecodeByteArray (imageBytes, 0, imageBytes.Length, myBitmapOptions);

            activity.RunOnUiThread(() => {
                imageData.ImageView.SetImageBitmap(bitmap);
            });
        }
    }
} 
```

谢谢！

延斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:54:12.870

如果您希望 Android 列表控件中的每个位图都是唯一的，那么您必须为显示器上的每个可见“单元格”管理唯一的位图。如果您尝试重新使用当前用于显示另一个单元格的位图，您将同时更改它们。例如，如果您使用单个位图来处理列表的所有 GetView() 请求，则每次更新位图时，列表中设置为该位图对象的所有单元格都将显示新的位图。在我的应用程序中，我通过在 ImageView 对象中设置唯一 ID 值（列表索引）来管理这种情况。当发送 GetView() 请求时，我可以判断位图是否已被重新使用并且现在需要显示新信息。它还让我知道何时需要创建新位图而不是重新使用现有位图。

使用这两个函数来管理设置到 ImageViews 中的位图 ID：

```
ImageView.setTag()
ImageView.getTag() 
```

# c++ - 从带有文本的字符串中提取双精度

> ID：15498462
> 
> 赞同：1
> 
> 时间：2013-03-19T11:39:26.700
> 
> 标签：c++, string

我有一个包含许多不同字符的字符串，类似于：“$:”“213.23453”我如何提取双精度值 213.23453 并将其存储在一个变量中，它是 C++/C，我不能使用 lambda。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T11:55:27.380

您可以使用函数的“穷人正则表达式”`sscanf`跳过第一个数字之前的字符，然后读取双精度，如下所示：

```
char *str = "\"$: \" \"213.23453\"";
double d;
sscanf(str, "%*[^0-9]%lf", &d); 
```

注意第一个百分比格式后面的星号：它指示`sscanf`读取字符串而不将其内容写入输出缓冲区。

这是[关于 ideone 的演示](http://ideone.com/9b6IBh)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:46:32.440

使用正则表达式。

`[$]?[0-9]*(\.)?[0-9]?[0-9]?`

这应该与带有 $ 符号和没有 $ 符号的那些相匹配。

[Boost.Regex](http://www.boost.org/doc/libs/1_36_0/libs/regex/doc/html/index.html)是一个非常好的正则表达式库

就个人而言，我发现[Boost.Xpressive](http://www.boost.org/doc/libs/1_36_0/doc/html/xpressive.html)更好用。它是一个仅包含头文件的库，并且具有一些不错的功能，例如静态正则表达式（在编译时编译的正则表达式）。

如果您使用的是符合 C++11 的编译器，请使用[std::regex](http://en.cppreference.com/w/cpp/regex)，除非您有充分的理由使用其他东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T12:00:05.137

纯 C++ 解决方案可能是手动切断数字前面的垃圾字符（由 标识的第一个数字[`std::isdigit`](http://en.cppreference.com/w/cpp/string/byte/isdigit)），然后构造一个临时[`istringstream`](http://www.cplusplus.com/reference/sstream/istringstream/)对象来检索`double`来自：

```
std::string myStr("$:. :$$#&*$ :213.23453$:#$;");

// find the first digit:
int startPos = 0;
for (; startPos < myStr.size(); ++startPos)
    if (std::isdigit(myStr[startPos])) break;

// cut off the trash:
myStr = myStr.substr(startPos, myStr.size() - startPos);

// retrieve the value:
double d;
std::istringstream(myStr) >> d; 
```

但是指定适当格式的 C 样式`sscanf`在这里也足够了:)

# c# - 使用 jquery ajax 将文件上传到跨域 WCF 服务

> ID：15498463
> 
> 赞同：2
> 
> 时间：2013-03-19T11:39:28.840
> 
> 标签：c#, jquery, asp.net, html, wcf

这是我正在尝试做的事情（不成功，我可能会补充），并且很感激你能给我的任何方向

从我的 HTML5 站点，我想将文件上传到托管在 IIS 7.5 中的跨域 WCF 服务。

除了上传文件，我还需要向服务器上的上传函数发送额外的参数

这可能吗？

这是我的 operationContract 的样子：

```
[OperationContract]
[WebInvoke( Method = "POST",
UriTemplate = "/uploadmodeldata/?id={Id}&customerdatatype={customerdatatype}&data={data}")]
void UploadModelData(string Id, string customerdataType, byte[] data); 
```

这是我的 jquery ajax 请求

```
function FileVisits() {

    var uid = checkCookie1();
    userid = uid.toString().replace(/"/g, '');
    var fileData = JSON.stringify({
   Id:userid ,customerdatatype:scanupload,
        data: $('#fileBinary').val()
    });
    alert(fileData);
        "use strict";
        var wcfServiceUrl = "http://xxxxx:1337/Service1.svc/XMLService/";
        $.ajax({
            cache: false,
            url: wcfServiceUrl + "uploadmodeldata/",               
            data: fileData,
            type: "POST",
            processData: false,
            contentType: "application/json",
            timeout: 10000,
            dataType: "json",
            headers:    {
                        'User-agent': 'Mozilla/5.0 (compatible) Greasemonkey',
                        'Accept': 'application/atom+xml,application/xml,text/xml',
                    },
            beforeSend: function (xhr) {
                $.mobile.showPageLoadingMsg();

                xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

            },
            complete: function () {
                $.mobile.hidePageLoadingMsg();
            },

            success: function (data) {
                var result = data;

            },
            error: function (data) {
                alert("Error");
            }
        });

} 
```

如果文件大小小于 100 kb，则会发生此错误

> 不允许的方法

但如果文件大于 100 kb，则会发生此错误

> 413 请求实体变大

如何将文件从 jquery ajax 上传到跨域 wcf。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-01-23T11:23:37.327

我做了很多工作，但这是我的代码（以防有人需要）：

```
$("#UploadFileBtn").click(function () {     
    fileName = document.getElementById("filePicker").files[0].name;
    fileSize = document.getElementById("filePicker").files[0].size;
    fileType = document.getElementById("filePicker").files[0].type;     
    var file = document.getElementById("filePicker").files[0];
    if (file) {
    // create reader
    var reader = new FileReader();
    reader.readAsDataURL(file);
    reader.onload = function(e) {
        var content = e.target.result;
        content = content.substring(content.indexOf('64') + 3);
        bhUploadRequest = "<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" " +
                                             "xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\" " + 
                                             "xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" " +
                                             "xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\">" +
                             "<SOAP-ENV:Header>"+
                                "<m:FileName xmlns:m=\"http://tempuri.org/\">" + fileName + "</m:FileName>" +
                                "<m:Length xmlns:m=\"http://tempuri.org/\">" + fileSize + "</m:Length>" +
                             "</SOAP-ENV:Header>" +
                             "<SOAP-ENV:Body>" +
                                "<m:RemoteFileInfo xmlns:m=\"http://tempuri.org/\">" +
                                    "<m:FileByteStream>" + content + "</m:FileByteStream>" +
                                "</m:RemoteFileInfo>" +
                             "</SOAP-ENV:Body>" +
                         "</SOAP-ENV:Envelope>";

        $.ajax({
            type: "POST",
            async: true,
            url: wsFtransferUrl,
            data: bhUploadRequest,
            timeout: 10000,
            contentType: "text/xml",
            crossDomain: true,
            beforeSend: function (xhr) {
                xhr.setRequestHeader("SOAPAction", "http://tempuri.org/IFileTransferService/UploadFile");
                xhr.setRequestHeader("TICKET", Ticket);
            },              
            success: function (data) {
            alert('succes');
                $(data).find("UploadFileResponse").each(function () {
                    alert($(this).find("UploadFileResult").text());
                });
            },
            error: function (xhr, status, error) {
                alert('error:' + error);
            }
        });

    };
}
    return;

    }); 
```

这是我的 WCF 转移服务：

```
public void UploadFile(RemoteFileInfo request)
        {   
            string filePath = string.Empty;
            string guid = Guid.NewGuid().ToString();
            int chunkSize = 1024;
            byte[] buffer = new byte[chunkSize];
            long progress = 0;

            filePath = Path.Combine(uploadFolder, request.FileName);

            if (File.Exists(filePath))
                File.Delete(filePath);

            using (FileStream writeStream = new FileStream(filePath, FileMode.CreateNew, FileAccess.Write))
            {
          do
                {
                    // read bytes from input stream
                    int bytesRead = request.FileByteStream.Read(buffer, 0, chunkSize);
                    if (bytesRead == 0)
                        break;
                    progress += bytesRead;                    
                    // write bytes to output stream
                    writeStream.Write(buffer, 0, bytesRead);
                }
                while (true);
            }
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:02:03.367

您`Method not allowed`正在尝试调用另一个域上的服务的原因。这违反了[同源政策](http://en.wikipedia.org/wiki/Same_origin_policy)。这是一个安全限制。大多数旧浏览器会拒绝此类请求。

如果您想在 javascript 中访问不同的域 web 服务，您将需要设置 [跨域资源共享。](http://en.wikipedia.org/wiki/Cross-Origin_Resource_Sharing)

> 跨域资源共享 (CORS) 是一种允许网页向另一个域发出 XMLHttpRequest 的机制。否则，根据同源安全策略，Web 浏览器将禁止此类“跨域”请求。CORS 定义了浏览器和服务器可以交互以确定是否允许跨域请求的方式

如果您有权访问 Web 服务代码，则可以在服务器上启用 CORS 请求。
[启用 cors](http://enable-cors.org/)是一个很好的资源。这里有一些[关于cors的解释](http://encosia.com/using-cors-to-access-asp-net-services-across-domains/)

在 IIS 7 上，您需要在 web.config 中设置一些自定义标头。

```
<system.webserver>
 <httpprotocol>
  <customheaders>
   <add name="Access-Control-Allow-Origin" value="*" />
   <add name="Access-Control-Allow-Headers" value="Content-Type" />
  </customheaders>
 </httpprotocol>
</system.webserver> 
```

[这是IIS6的步骤](http://enable-cors.org/server_iis6.html)

至于 413 错误，这与您在绑定上允许的最大文件大小有关

```
<bindings>
    <webHttpBinding>
      <binding maxBufferSize="2147483647" maxReceivedMessageSize="2147483647" />
    </webHttpBinding>
</bindings> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-24T19:25:12.273

问题在于“POST”。要解决问题，请执行以下操作

创建一个 Global.asax 并添加以下内容以启用 Ajax 跨域 POST。

```
 public void Application_BeginRequest(object sender, EventArgs e)
        {
            HttpContext.Current.Response.AddHeader("Access-Control-Allow-Origin", "*");
            HttpContext.Current.Response.AddHeader("Access-Control-Allow-Methods", "GET, POST,OPTIONS");

            if ((HttpContext.Current.Request.HttpMethod == "OPTIONS"))
            {

                HttpContext.Current.Response.AddHeader("Access-Control-Allow-Headers", "Content-Type, Accept");
                HttpContext.Current.Response.AddHeader("Access-Control-Max-Age", "1728000");
                HttpContext.Current.Response.End();
            }
        }
    } 
```

# c++ - boost::asio 异步写入是否需要互斥锁？

> ID：15498464
> 
> 赞同：4
> 
> 时间：2013-03-19T11:39:31.450
> 
> 标签：c++, boost, boost-asio

我试图理解 boost::asio 但有一些问题。在[这个例子中，](http://www.boost.org/doc/libs/1_53_0/doc/html/boost_asio/example/chat/chat_client.cpp)*如果我错了*，请纠正我。

 *1.  消息通过引用 write() 方法和值给 do_write() 给出。所以我认为这没问题，即使 do_write 是由 io_service.post 完成的，boost::bind 也是按值绑定消息的。

2.  **但是为什么write_msgs_**队列没有互斥锁，因为 std::deque 可能会移动或复制其元素，如果需要并且 io_service::run 有它自己的线程，则不能确保数据是一致的。

3.  用指针来做不是更好吗？如果消息太长，则必须始终按值复制。但是使用 new 和 delete 它们将在发送之前创建并在发送之后删除。然后我会像这样发送

## 代码

```
boost::asio::async_write(socket_,
      boost::asio::buffer(*write_msgs_.front().data(),
        write_msgs_.front().length()),
      boost::bind(&chat_client::handle_write, this,
        boost::asio::placeholders::error)); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T11:49:37.373

### 1) 是正确的以及 2) 有效的原因。

您在这里不需要互斥锁，因为主线程和客户端处理程序线程之间的同步是通过该`io_service::post`方法完成的。`post`实际上并没有执行任何操作，而是将回调（绑定方法）添加到回调处理程序，回调处理程序是执行的线程，`io_service::run`并且 std::deque 只能由运行的**一个**线程访问`io_service::run`。

### 3) 这是线程安全、异常安全和所有权的问题。

关于线程安全，您需要 100% 确保在调用后`write`只有一个线程会访问指针指向的字符串。
所有权和异常安全是这里更有趣的一点。如果您只想在双端队列中存储普通指针，则会遇到异常安全问题，因为在抛出异常的情况下，您的字符串将不再被删除。为了规避这个问题，您需要一个智能指针（例如：std::unique_ptr），这需要 C++11 移动语义或 shared_ptr，这会增加引用计数的额外开销。最干净的解决方案是将 C++11 移动语义与纯字符串结合使用。您可以将缓冲区移动到写入函数并进一步移动到处理程序中，并具有无复制和异常安全的额外好处。
谈论性能和复制之前的另一点是，您应该衡量这是否真的是一个问题，并且您是否没有受到网络 I/O 等不同事物的瓶颈。*

# c# - 从另一个类分配实例的方法？

> ID：15498466
> 
> 赞同：1
> 
> 时间：2013-03-19T11:39:32.463
> 
> 标签：c#, methods

我有一个名为`SimObject`. 在这个类中，有一个名为 的公共函数`Draw()`。 

我不想从另一个新类中扩展和覆盖`SimObject`，而是想分配一个方法来`Draw()`从我的 Main 类中替换。Main 类创建`SimObject`并保存它的一个实例。那么我该怎么做这样的事情：

```
public class Main {
   public static void Main() {
      //constructor 
      var obj = new SimObject();
      obj.Draw = MyNewDrawMethod;
   }

   public void MyNewDrawMethod() {
      //some code
   }
} 
```

这在c#中可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T11:46:40.393

如果您不想继承它但想扩展它，您可以使用[扩展方法。](http://msdn.microsoft.com/en-us/library/bb383977.aspx)

```
public class MyList{

}

public static class MyZListExtesion
{
    public static void DrawSomethingElse(this MyList obj)
    {
        // override Draw from here
    }
} 
```

**和用法**

新的 MyList().DrawSomethingElse();

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:48:33.907

它不允许您分配方法，但您可以使用扩展方法添加功能。

```
public static class SimObjectExtensions
{
    public static void Draw(this SimObject obj)
    {
        // some code
    }
} 
```

这将允许您使用 Draw 方法，就好像它是 SimObject 的实例方法一样

```
SimObject o = new SimObject();
o.Draw(); 
```

# javascript - Javascript：如何仅对可见元素执行计数？

> ID：15498468
> 
> 赞同：1
> 
> 时间：2013-03-19T11:39:38.373
> 
> 标签：javascript

我正在使用 jQuery 从搜索字段中获取字符串并隐藏不匹配的项目。它遍历 div 列表并使用 $(this).fadeOut(); 隐藏这些元素。

这很好用，但我想在该搜索中添加进一步的搜索。我添加了一个额外的搜索字段，但当然它不会继承先前搜索的淡出，而是从头开始。

**我需要一种方法来指定搜索只搜索列表的可见元素。**这需要以相反的顺序工作，因为用户可能会在第二个搜索字段中输入，然后是第一个。

这是我的代码的 JSFiddle，说明了问题

[JSFiddle 这里](http://jsfiddle.net/MUbPQ/)

以及一个搜索功能的代码片段

```
 $("#filter").keyup(function () { 
        var filter = $(this).val(),
        count = 0;
 $(".records2 div").each(function () {
 // If the list item does not contain the text phrase fade it out
        if ($(this).text().search(new RegExp(filter, "i")) < 0) {
            $(this).fadeOut();

            // Show the list item if the phrase matches and increase the count by 1
        } else {
            $(this).show();
            count++;
        }
  });
  }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:43:01.057

您可以使用：

```
element.is(":visible") 
```

测试给定元素是否可见。

因此，在您的情况下，您只需执行以下操作：

```
if ($this).is(":visible")); {count++;} 
```

或者您可以在选择器的末尾添加 ":visible" 以仅选择可见项目：

```
$(".someselector div:visible").each(...); 
```

编辑：我刚刚检查了 jquery 文档。如果您这样做，您将获得更好的性能：

```
$(".someselector div").filter(":visible").each(...); 
```

这是因为`:visible`它不是 CSS 规范的一部分，所以 jquery 必须手动实现它。

# xcode - 如何对 Mac OS X 语言本地化文件进行逆向工程以进行自然语言学习？

> ID：15498471
> 
> 赞同：5
> 
> 时间：2013-03-19T11:39:39.883
> 
> 标签：xcode, nslocalizedstring, localizable.strings

好的，这个问题的目标不是严格的编程相关，而是程序员可以使用编程工具回答的问题，程序员可以在这里找到有用的答案。忍受我。

我发现在 Mac OS X 中更改系统语言是增强我学习自然语言（例如法语）的有用方法。但是，有时我会发现一个我无法理解的法语菜单项或对话框，并且用谷歌搜索翻译或将系统语言更改回英语很无聊。但我知道英文翻译隐藏在本地化文件的某个地方，并以某种方式映射到法语短语。所以我想要做的是从所有本地化文件中提取所有文本，以开发英语这个短语 = 法语那个短语的映射，这样我就可以轻松查找它。

我知道本地化文件存储在诸如 Localizable.strings、lproj 文件和 nib 文件之类的文件中，但我无法确定它们的存储方式或如何使用它们。我可以编程，但我从来没有用 Xcode 写过任何东西。我能找到的所有信息都是供 Mac OS / iOS 程序员本地化他们的软件，而不是让黑客提取已经制作的本地化信息。

如何从 Mac OS X 系统和第 3 方软件本地化文件中将外语信息提取为纯文本？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-27T09:14:56.547

字符串文件很容易。它们只是序列化为属性列表的字典。程序使用字典键来查找特定本地化的给定字符串。您可以通过加载两个字典、迭代键并使用英语字典中的值作为输出中的键和使用其他语言字典中的值作为输出中的值来构建从英语到另一种语言的映射。

NIB 更难。构建过程将 NIB 文件“编译”成不利于编辑或解析的形式。如果您有权访问未编译的 NIB 文件，那么您可以使用`ibtool --export-strings-file`转储字符串文件，然后您可以按上述方式处理该文件。如果您不这样做，那么我认为您可能会遇到困难。

# matlab - 在matlab中裁剪正方形图像

> ID：15498476
> 
> 赞同：1
> 
> 时间：2013-03-19T11:39:49.730
> 
> 标签：matlab, crop

有人知道如何在matlab中裁剪图像，但裁剪图像结果应该是方形的？所以，宽度和高度应该是相同的大小..谢谢..

```
im=dicomread('078tm.L.dcm');
A=double(im);
B = A/max(A(:));
crop= imcrop(B);
[w h]=size(crop);
 if w~=h
     sizew=w;
     sizeh=h;
     if sizew > sizeh || sizeh < sizew
         w=sizew-sizeh
     else
         h=sizeh-sizew
     end
 end

crop2= imcrop(B,[crop(1) crop(2) w h]);

dicomwrite(crop2, 'a.dcm'); 
```

我不认为是正确的，因为我不知道如何获得位置图像裁剪。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:43:30.843

试试这个

```
 [crop rect] = imcrop(B); % interactively crop
 if rect(3) ~= rect(4), % not square
    c = rect(1:2) + .5*rect(3:4); % center
    w = min( rect(3:4) ); % take min dimension
    rect = [ ceil(c-.5*[w w]), w, w ];
    crop = imcrop( B, rect ); % re-crop
 end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:56:29.230

我猜你的问题是 Matlab 中图形的坐标系。您可以在此[链接](http://www.mathworks.se/help/matlab/creating_plots/positioning-figures.html)中找到更多信息。

# jquery - Jquery 显示和幻灯片返回错误

> ID：15498479
> 
> 赞同：0
> 
> 时间：2013-03-19T11:39:51.377
> 
> 标签：jquery, show, slide, easing

我正在使用 jquery 1.8.2，当我这样做时：

```
$(function(){
$(element).show('slide', {direction: 'right'},1000);
}); 
```

它返回此错误：

```
Error: TypeError: p.easing[this.easing] is not a function
File sorgente: http://localhost/js/jquery.js
Line: 2 
```

发生了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T11:41:57.077

您需要为特殊的缓动功能包含 jQuery UI

[TypeError: p.easing[this.easing] 不是函数](https://stackoverflow.com/questions/12592279/typeerror-p-easingthis-easing-is-not-a-function)

# image - 使用 Windows Azure 存储二进制数据（图像）。图像可以很小

> ID：15498481
> 
> 赞同：0
> 
> 时间：2013-03-19T11:39:56.703
> 
> 标签：image, azure, blob

我正在研究使用 azure blob 存储来存储大量从 10k 到 100k 的小尺寸图像。详情如下。感谢您的意见！

要求。1\. 上传/下载需要授权，并根据客户进行跟踪。2\. 下载 http 友好 3\. 最终 - 图片数量可以达到百万以上。存储成本可能很重要。

[该](https://stackoverflow.com/questions/10651739/storing-binary-data-images-files-etc-using-wpf-windows-azure)线程回答了 1-2。我正在阅读 msdn 以了解块 blob 是否有任何最小大小。也就是说，如果文件是 10k，它可能仍会消耗最少 64k。我没有得到确凿的答案。我发现[一篇博客](http://blogs.msdn.com/b/frogs69/archive/2009/12/17/storage-quotas-and-core-allocation-on-windows-azure.aspx)提到 64k 最小尺寸，但不是很明显。因此，问题！

换句话说-我想知道您是否将大小为 10k 的图像存储在 azure block blob 中-它会消耗 10k 存储空间还是更多？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T12:02:50.387

> 我正在阅读 msdn 以了解块 blob 是否有任何最小大小。也就是说，如果文件是 10k，它可能仍会消耗最少 64k。我没有得到确凿的答案。我发现一篇博客提到 64k 最小尺寸，但不是很明显。因此，问题！

我认为块 blob 的最小 64K blob 大小是不正确的。是的，有开销，您可以在此处阅读有关开销的信息：http: [//blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions- and-capacity.aspx](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx)（查看容量部分）。

> 换句话说-我想知道您是否将大小为 10k 的图像存储在 azure block blob 中-它会消耗 10k 存储空间还是更多？

因此，要回答您的问题，如果您存储大小为 10K 的图像，则块 blob 的大小将略大于（对于开销），但肯定不是 64K。

# json - QuickBlox：无法使用 REST api 获得推送通知

> ID：15498484
> 
> 赞同：0
> 
> 时间：2013-03-19T11:39:59.477
> 
> 标签：json, api, notifications, push, quickblox

我正在使用 Adob​​e AIR 开发一个 quickblox 应用程序，这迫使我使用 REST Api 而不是本机库。我无法让推送通知适用于离线消息或管理面板。这是我所做的详细信息：

管理面板：

1.  为开发和生产推送通知上传了 Apple 证书
2.  为 GCM 设置项目 ID 和服务器密钥

在应用程序激活：

注册 APNS。获取设备令牌：

`XXXXXXX1fd86e783c1410e9b9e41e9f11339e33f17f59bfcc7d6bf9XXXXXXXXX`

为设备生成 udid。这不是 Apple 的设备 UDID，因为它现在已被弃用。我自己生成一个。我这样说是为了以防万一这可能是问题

使用设备信息以用户身份登录 Quickblox

邮政

```
{
    "auth_key":"XXXXXXXXXX",
    "nonce":8072,
    "user":{
        "password":"XXXXXXX",
        "login":"XXXXXX"
        },
    "application_id":"1563",
    "timestamp":1363692198,
    "device":{
        "platform":"ios",
        "udid":"71B18699-E1A3-13B6-F8C3-BDBF01AC1FFC-B4B3475569E9-6B6A-A27E-56D1-B73E0ED4"
        },
    "signature":"d61293bbd98d2e523952c0f30e44ec514fb7f86a"
} 
```

登录没问题。创建推送令牌。当`client_identification_sequence`我使用从 Apple 检索到的令牌时

邮政

```
{

    "push_token":{
        "environment":"development",
        "client_identification_sequence":"XXXXXXX1fd86e783c1410e9b9e41e9f11339e33f17f59bfcc7d6bf9XXXXXXXXX"
        },
    "device":{
        "platform":"ios",
        "udid":"71B18699-E1A3-13B6-F8C3-BDBF01AC1FFC-B4B3475569E9-6B6A-A27E-56D1-B73E0ED4"
        }
} 
```

Quickblox 返回一个令牌`153323`，所以我认为一切正常

现在创建订阅

邮政

```
{

    "notification_channels":"apns"  

} 
```

Quickblox 返回以下内容

```
[
    {
        "subscription":{
            "device":{
                "udid":"71B18699-E1A3-13B6-F8C3-BDBF01AC1FFC-B4B3475569E9-6B6A-A27E-56D1-B73E0ED4",
                "platform":{
                    "name":"ios"
                    }
                },
            "id":167704,
            "notification_channel":{
                "name":"apns"
                }
        }
    }
] 
```

UDid 匹配我从登录中传递的 udid。一切看起来都不错

现在我去管理面板并尝试发送消息。管理面板说：

`Notification has been successfully added to queue`

如果我去排队，消息显示为“已发送”，但我从未在我的设备中收到通知。

任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T14:25:49.200

你的代码看起来不错，

一些评论：

1）你不需要通过

```
"device":{
        "platform":"ios",
        "udid":"71B18699-E1A3-13B6-F8C3-BDBF01AC1FFC-B4B3475569E9-6B6A-A27E-56D1-B73E0ED4"
        }, 
```

参数到会话，因为您在创建推送令牌时传递它们

2) udid - 只是将用户设备分开，因为用户可以拥有超过 1 个设备。因此，您可以将任何值传递给唯一标识用户特定设备的“udid”

3）如果您已从管理面板发送消息 - 这意味着我认为客户端一切正常。所以只需检查您的 APNS 证书，重新上传它们。

# java - Maven，Jenkins - 如何将项目构建到不同的测试环境？

> ID：15498486
> 
> 赞同：7
> 
> 时间：2013-03-19T11:40:06.010
> 
> 标签：java, maven-3, junit4

我有一个包含 junit 测试的 Java 项目，需要通过 Jenkins 在不同的测试环境（Dev、Staging 等）上运行。

如何将项目的构建设置到不同的环境以及如何将 url、用户名和密码传递给 maven？

我可以使用 maven 3 配置文件从属性文件中读取环境 url、用户名和密码吗？

编辑：我已将配置文件添加到项目 POM：

```
<profiles>
        <profile>
            <id>Integration</id>
        </profile>
        <profile>
            <id>Staging</id>
        </profile>
        <profile>
            <id>PP1</id>
        </profile>
        <profile>
            <id>PP2</id>
        </profile>
        <profile>
            <id>PP3</id>
        </profile>
</profiles> 
```

如何将 url、用户名和密码传递给这些配置文件？

目前，测试正在从属性文件中获取测试环境详细信息：

```
 public  class BoGeneralTest extends TestCase {

    protected WebDriver driver;
    protected BoHomePage boHomePage;
    protected static Properties systemProps;
    String url = systemProps.getProperty("Url");
    String username = systemProps.getProperty("Username");
    String password = systemProps.getProperty("Password");
    int defaultWaitTime = Integer.parseInt(systemProps.getProperty("waitTimeForElements"));

    static {
        systemProps = new Properties();
        try {
            systemProps.load(new FileReader(new File("src/test/resources/environment.properties")));
        } catch (Exception e) {
            e.printStackTrace();
        }
    } 
```

编辑2：

在测试运行器类中实现的更改：

```
public class BoGeneralTest extends TestCase {

    protected WebDriver driver;
    protected BoHomePage boHomePage;
    protected static Properties systemProps;
    String url = systemProps.getProperty("Url");
    String username = systemProps.getProperty("Username");
    String password = systemProps.getProperty("Password");
    int defaultWaitTime = Integer.parseInt(systemProps.getProperty("waitTimeForElements"));
    String regUsername = RandomStringUtils.randomAlphabetic(5);

    final static String appConfigPath = System.getProperty("appConfig");

    static {
        systemProps = new Properties();
        try {

            systemProps.load(new FileReader(new File(appConfigPath)));

        } catch (Exception e) {
            e.printStackTrace();
        }
    } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-19T12:04:59.920

我不会在 POM 中包含任何属性，而是会为每个环境使用一个外部属性文件，至少当属性更改时您不需要触摸 POM。

在您的 POM 中指定一个配置文件，该配置文件引用具有您的属性的属性文件：

```
<profiles>
    <profile>
        <id>staging</id>
        <properties>
            <app.config>/your/path/to/app.staging.properties</app.config>
        </properties>
    </profile>
</profile> 
```

然后您可以将其传递到您的 Surefire 配置中：

```
<plugins>
    <plugin>
        <artifactId>maven-surefire-plugin</artifactId>
        <configuration>
            <systemPropertyVariables>
                <appConfig>${app.config}</appConfig>
            </systemPropertyVariables>
        </configuration>
    </plugin>
</plugins> 
```

然后，您可以在测试中加载属性文件的内容，例如：

```
final String appConfigPath = System.getProperty("appConfig");
// Load properties etc... 
```

实际上，您实际上可以更进一步……完全转储 Maven 配置文件并`-DappConfig=/your/path/to/app.staging.properties`在您的 Jenkins 构建配置中指定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:45:36.960

为什么不使用[Maven 构建配置文件](http://maven.apache.org/guides/introduction/introduction-to-profiles.html)，因为您可以指定`<properties>`每个配置文件来指定不同的构建主机等。只需执行

```
$ mvn -Pstaging 
```

（比如说）启用暂存配置文件。

有关更多信息，请参阅有关[构建配置文件的 Sonatype 手册。](http://www.sonatype.com/books/mvnref-book/reference/profiles.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T11:46:52.093

在这里，我使用 bash 脚本将 Jenkins 构建的工件部署到 Glassfish。

```
sudo /usr/share/glassfish3/glassfish/bin/asadmin --user admin --passwordfile /root/.asadminpass undeploy PROJECT_NAME
sudo /usr/share/glassfish3/glassfish/bin/asadmin --user admin --passwordfile /root/.asadminpass deploy $WORKSPACE/PROJECT_NAME/target/PROJECT_NAME.war 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T11:44:45.280

您可以设置 Maven 配置文件，并使用 -P 标志选择哪个处于活动状态

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-19T11:56:45.243

不要为此使用 Maven 构建配置文件！

它迫使您针对不同的环境实际更改构建。

而是让你的测试，可能你的应用程序是可配置的。基本思想是从某些系统属性中读取配置详细信息（例如数据库 url）。这反过来可以很容易地在 Jenkins Job 配置中指定

对于更复杂的场景，您可以从系统属性中指定用于特定目的的类，例如，如果您想要开发环境的 MockedImplementation 和 QA 中的真实事物。

如果您碰巧使用 Spring，请查看 Spring Profiles，它非常支持这种东西。

如果您只在测试中需要它，您应该能够将这类东西封装在 JUnit 规则中。

# python - Python应用程序设计

> ID：15498488
> 
> 赞同：1
> 
> 时间：2013-03-19T11:40:10.997
> 
> 标签：python, interface

我正在设计一个 Python 应用程序，但我无法弄清楚如何设置我想要的首选编码接口。（第一个实现没有 GUI。）

我希望用户能够执行设计 1 中的操作，但目前已将其实现为设计 2：

```
#
#   Design 1
#
import myApp.core as myApp

myApp.new()

element = myApp.createElement()
element.rename("foo")
print element.name()

path = "C:/foo.txt"
myApp.save(path) 
```

.

```
#
#   Design 2
#
import myApp.core as myApp

scene = myApp.new()
element = scene.createElement()
element.rename("foo")
print element.name()

path = "C:/foo.txt"
scene.save(path) 
```

根据我作为一名使用 Autodesk Maya 的艺术家的经验，我熟悉在设计 1 中这样的设置中工作，感觉非常合乎逻辑。感觉不像是在代表应用程序的单例类上运行方法。相反，感觉就像您始终在应用程序中。

对于设计 1，我们可以使用“from myApp.core import *”来轻松访问所有命令。对于设计二，我要么需要一个包含作为方法的函数的单例类，要么需要将全局应用程序“提供”到每个函数中。

为了让设计 1 一样工作，我认为它具有全局变量或跟踪应用程序状态的东西，因此函数知道在什么“场景”上执行它们的操作。然而，到目前为止，我已经设法在不使用此类设置的情况下生活，我不知道什么是最好的方法。

如果有一个很好的理由不像设计 1 那样做，请告诉我，我会做出相应的改变。作为任何界面，它应该是高效且非常易于使用的。

# codeigniter - 用于移动和桌面的 Codeigniter 应用程序

> ID：15498491
> 
> 赞同：1
> 
> 时间：2013-03-19T11:40:18.820
> 
> 标签：codeigniter, mobile, desktop

我有一个用于桌面的 codeigniter 应用程序，当使用相同的代码从移动设备访问时，它可以转换为移动应用程序吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T15:11:42.363

您有两个选择，创建响应式设计或创建一个桌面设计和基于用户代理的移动设计。

如果您的设计很容易适应两个世界（桌面和移动），只需稍作调整，响应式设计就足够了。但在您选择这种方式之前，请记住您拥有大量具有多种屏幕分辨率的移动设备。

我建议您阅读有关移动网络的幻灯片： [http ://www.slideshare.net/bryanrieger/rethinking-the-mobile-web-by-yiibu](http://www.slideshare.net/bryanrieger/rethinking-the-mobile-web-by-yiibu)

仅供参考，我们在市场上拥有的移动设备类型。 [http://jquerymobile.com/gbs/](http://jquerymobile.com/gbs/)

为了帮助您进行响应式设计，您可以使用互联网上的一些框架：

推特引导：http: [//twitter.github.com/bootstrap/index.html](http://twitter.github.com/bootstrap/index.html)

基础 3： http: [//foundation.zurb.com/](http://foundation.zurb.com/)

骨架：[http ://www.getskeleton.com/](http://www.getskeleton.com/)

YAML 4：[http ://www.yaml.de/](http://www.yaml.de/)

您可以在此处查看更多框架[http://www.awwwards.com/what-are-frameworks-22-best-responsive-css-frameworks-for-web-design.html](http://www.awwwards.com/what-are-frameworks-22-best-responsive-css-frameworks-for-web-design.html)

如果您的桌面布局不适合作为适当的移动布局，您可以依赖用户代理，尽管他不是 100% 准确，并构建两种不同的布局。在桌面端你可以使用之前提到的一些响应式框架，在移动端你可以使用：

jQuery 移动：http: [//jquerymobile.com/](http://jquerymobile.com/)

iUI：[http ://www.iui-js.org/](http://www.iui-js.org/)

目标用户界面：[http ://www.rikulo.org/](http://www.rikulo.org/)

最好的是两个世界的混合，一个为桌面用户提供大小屏幕的响应式设计，一个为移动用户提供适当的设计。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T11:54:16.377

两者的区别在于应用程序的模板或视图部分。基本上，您必须识别访问者设备，如果是移动设备，则向他展示您准备的移动视图。

您可以使用 jquery mobile 创建出色的响应式移动模板。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T11:45:38.503

是的，我过去就是这样做的。

我所做的是使用用户代理类来检测用户代理是桌面客户端还是移动客户端，并使用它在会话中设置标志。基于此，我根据该标志的值提供不同的观点。这种方法的优点是无论您使用哪个界面，URL 都保持不变。

不过，我建议添加一种手动覆盖它的方法，因为检测用户代理永远不会 100% 准确。

# matlab - 在matlab中需要一个更合适的数字类型

> ID：15498497
> 
> 赞同：0
> 
> 时间：2013-03-19T11:40:39.157
> 
> 标签：matlab, precision

我想在 matlab 中进行一些统计计算，所以我的数字非常小（在 0 和 1 之间），并且有大量乘法，这使得它们变得更小我在工作中使用双精度类型，但我注意到它只存储了我的数字的 5 位数字和对于较大的数字，它存储 10 的幂。所以它肯定会导致最终答案中的一个非常大的错误。如何使用更准确的数字类型？谢谢您的帮助

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-19T11:51:23.717

您是否考虑过在日志空间中工作？`x = exp( -y )`用指数表示每个数字`y`。指数`y`现在介于 0 和 0 之间，`inf`并且应该对动态范围更加稳健。

# hibernate - Hibernate 按排序顺序获取延迟加载的子列表

> ID：15498502
> 
> 赞同：0
> 
> 时间：2013-03-19T11:40:51.483
> 
> 标签：hibernate

我有以下 HQL 查询

```
"select distinct p from Participant p left join fetch p.basketItemViewStates as bi where p.basket.id = ?1 order by p.lastName" 
```

哪里`Participant`有子列表`BasketItemViewStates`和 BasketItemViewStates 进一步有一个名为一对一关系的子

```
 @OneToOne(cascade = CascadeType.MERGE)
    private BasketItem basketItem; 
```

BasketItem 有`sortOrder as a column`，我希望在连接中获取的列表应该基于该 sortOrder 进行排序。

谁能解释一下，我怎么能在上面的查询中做到这一点

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:38:59.703

您可以 `, bi.sortOrder`在 hql 请求的末尾添加：

```
select distinct p from Participant p left join fetch p.basketItemViewStates as bi where p.basket.id = ?1 order by p.lastName, bi.sortOrder 
```

您还可以使用您孩子的 sortedCollection 并`Comparable`在您的孩子实体上实现接口并指定休眠您希望此集合按自然顺序排序。

[编辑]编辑你的问题后，我认为这样的事情应该有效：

```
select distinct p from Participant p left join fetch p.basketItemViewStates as bi left join bi.basketItem as bitem where p.basket.id = ?1 order by p.lastName, bitem.sortOrder 
```

# ios - 带有collectionview子视图的ios uiviewcontroller不显示单元格

> ID：15498506
> 
> 赞同：3
> 
> 时间：2013-03-19T11:40:59.147
> 
> 标签：ios, uicollectionview, uicollectionviewcell, uicollectionviewlayout

我有一个带有子视图的 uiviewcontroller，它是一个 uicollection 视图。我的视图控制器实现了所有的 collectionview 委托。出于某种原因，某些单元格是黑色的（当我滚动它们时，它们似乎是随机的）我的代码是：

```
#import "NewGalleryViewController.h"

@interface MyCell : UICollectionViewCell

@property (nonatomic,strong) UIImageView *imageView;
@end

@implementation MyCell

-(id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    NSLog(@"frame = %@\n", NSStringFromCGRect(frame));
    if (self)
    {
        self.imageView = [[UIImageView alloc] initWithFrame:frame];
        [self.contentView addSubview:self.imageView];
    }
    return self;
}

@end

@interface NewGalleryViewController () <UICollectionViewDelegate,UICollectionViewDataSource,UICollectionViewDelegateFlowLayout>

@property (nonatomic,strong) UICollectionView *collectionView;
@end

@implementation NewGalleryViewController

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view.
    UICollectionViewFlowLayout *layout = [[UICollectionViewFlowLayout alloc] init];
    [layout setItemSize:CGSizeMake(75, 75)];

    self.collectionView = [[UICollectionView alloc] initWithFrame:self.view.bounds collectionViewLayout:layout];
    self.collectionView.delegate = self;
    self.collectionView.dataSource = self;

    [self.collectionView registerClass:[MyCell class] forCellWithReuseIdentifier:@"newcell"];
    [self.view addSubview:self.collectionView];
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (NSInteger)numberOfSectionsInCollectionView:(UICollectionView *)collectionView
{
    return 1;
}
- (NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section
{
    return 100;
}
- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath
{
    MyCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:@"newcell" forIndexPath:indexPath];

    cell.imageView.image = [UIImage imageNamed:@"114"];
    return cell;
}

-(void)collectionView:(UICollectionView *)collectionView didDeselectItemAtIndexPath:(NSIndexPath *)indexPath
{
    NSLog(@"%ld",(long)indexPath.row);
}

- (CGSize)collectionView:(UICollectionView *)collectionView layout:(UICollectionViewLayout*)collectionViewLayout sizeForItemAtIndexPath:(NSIndexPath *)indexPath
{
    return CGSizeMake(75,75);
}

- (UIEdgeInsets)collectionView:(UICollectionView *)collectionView layout:(UICollectionViewLayout*)collectionViewLayout insetForSectionAtIndex:(NSInteger)section
{
    return UIEdgeInsetsMake(0, 0, 0, 0);
}
- (CGFloat)collectionView:(UICollectionView *)collectionView layout:(UICollectionViewLayout*)collectionViewLayout minimumLineSpacingForSectionAtIndex:(NSInteger)section
{
    return 10;
}
- (CGFloat)collectionView:(UICollectionView *)collectionView layout:(UICollectionViewLayout*)collectionViewLayout minimumInteritemSpacingForSectionAtIndex:(NSInteger)section
{
    return 0;
}
@end 
```

![附加打印屏幕](../Images/c105d6e43fb56415d85b8022af259fe2.png)

![向下滚动一点](../Images/3f04c692f0c029985528597c102e46b1.png)

![并打印创建的单元格的所有框架（对于连续 4 个单元格来说似乎是合理的）：](../Images/207188f0d08500594c4007a3fd4d511d.png)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-19T12:39:03.700

我解决了你的问题

```
-(id)initWithFrame:(CGRect)frame
{
  self = [super initWithFrame:frame];

if (self)
{
    self.imageView = [[UIImageView alloc] initWithFrame:self.bounds]; // earlier it was frame
    [self.contentView addSubview:self.imageView];
}
  return self;
} 
```

在创建内容图像视图时不要使用单元格的框架而不是使用`self.bounds`。我不确定原因。那时框架可能不同，边界将给出实际值

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-07T00:58:30.513

```
- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        // Initialization code
        NSArray *arrayOfviews = [[NSBundle mainBundle]loadNibNamed:@"PersonCollectionViewCell" owner:self options:nil];
        self = [[arrayOfviews objectAtIndex:0]isKindOfClass:[UICollectionViewCell class]] ? [arrayOfviews objectAtIndex:0] : nil;

    }
    return self;
} 
```

# javascript - 无法使用 `this` 访问对象。`this` 指向 `window` 对象

> ID：15498508
> 
> 赞同：3
> 
> 时间：2013-03-19T11:41:13.643
> 
> 标签：javascript, jquery, oop, object

我有这个 Javascript 构造函数-

```
function TestEngine() {
    this.id='Foo';
}

TestEngine.prototype.fooBar = function() {
    this.id='bar';
    return true;
}

TestEngine.prototype.start = function() {
    this.fooBar();
}

TestEngine.prototype.startMethod = function() {
    inter = setInterval(this.start, 200);
}

var test = new TestEngine();
test.startMethod(); 
```

给我这个错误 -

```
Uncaught TypeError: Object [object global] has no method 'fooBar' 
```

我尝试`console.log`发现，当我从 inside 调用时`this.start`，`setInterval`指向`this`对象`window`。为什么会这样？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-23T13:56:46.740

根据`this`上下文，指针可以指向许多事物之一：

1.  在构造函数中（以 . 开头的函数调用`new`）`this`指向新创建的构造函数实例。
2.  当函数作为对象的方法被调用时（例如`obj.funct()`）`this`，函数内部的指针指向该对象。
3.  您可以使用 或 明确设置指向`this`的内容。`call``apply``bind`
4.  如果以上都不是，则`this`指针默认指向全局对象。在浏览器中，这是`window`对象。

在您的情况下，您正在调用`this.start`inside `setInterval`。现在考虑这个虚拟实现`setInterval`：

```
function setInterval(funct, delay) {
    // native code
} 
```

重要的是要理解它`start`不被称为`this.start`. 它被称为`funct`. 这就像做这样的事情：

```
var funct = this.start;
funct(); 
```

现在这两个函数通常会执行相同的操作，但是有一个小问题 -`this`在第二种情况下指针指向全局对象，而在第一种情况下它指向当前对象`this`。

一个重要的区别是我们谈论的是`this`内部的指针`start`。考虑：

```
this.start();           // this inside start points to this
var funct = this.start;
funct();                // this inside funct (start) point to window 
```

这不是错误。这就是 JavaScript 的工作方式。当您将函数作为对象的方法调用时（请参阅上面的第二点），`this`函数内的指针指向该对象。

在第二种情况下，因为`funct`没有作为对象的方法调用，所以默认应用第四条规则。因此`this`指向`window`。

`start`您可以通过绑定到当前`this`指针然后将其传递给以下方式来解决此问题`setInterval`：

```
setInterval(this.start.bind(this), 200); 
```

而已。希望这个解释能帮助你更多地了解 JavaScript 的美妙之处。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-19T12:26:05.913

这是使用 javascript 进行 OOP 的一种巧妙方法：

```
//Global Namespace:
var MyNamespace = MyNamespace || {};

//Classes:
MyNamespace.MyObject = function () {

    this.PublicVar = 'public'; //Public variable
    var _privatVar = 'private'; //Private variable

    //Public methods:
    this.PublicMethod = function () {
    }

    //Private methods:
    function PrivateMethod() {
    }

}

//USAGE EXAMPLE:
var myObj = new MyNamespace.MyObject();
myObj.PublicMethod(); 
```

通过这种方式，您可以将方法和变量封装到命名空间/类中，使其更易于使用和维护。

**因此，您可以这样编写代码：**

```
 var MyNamespace = MyNamespace || {};

    //Class: TestEngine
    MyNamespace.TestEngine = function () {

        this.ID = null;
        var _inter = null;

        //Public methods:
        this.StartMethod = function (id) {
            this.ID = id;
            _inter = setInterval(Start, 1000);
        }

        //Private methods:
        function Start() {
            FooBar();
            console.log(this.ID);
        }

        function FooBar() {
            this.ID = 'bar';
            return true;
        }

    }

    //USAGE EXAMPLE:
    var testEngine = new MyNamespace.TestEngine();
    testEngine.StartMethod('Foo');
    console.log(testEngine.ID); 
```

最初，ID 设置为 'Foo' 1 秒后 ID 设置为 'bar'

请注意，所有变量和方法都封装在 TestEngine 类中。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-19T11:47:44.320

尝试这个：

```
function TestEngine() {
    this.id='Foo';
}

TestEngine.prototype.fooBar = function() {
    this.id='bar';
    return true;
}

TestEngine.prototype.start = function() {
    this.fooBar();
}

TestEngine.prototype.startMethod = function() {
    var self = this;
    var inter = setInterval(function() {
       self.start();
    }, 200);
}

var test = new TestEngine();
test.startMethod(); 
```

`setInterval``start`使用窗口上下文调用函数。这意味着当`start`被执行时，`this`内部`start`函数指向`window`对象。并且 window 对象没有调用任何方法`fooBar`，您会收到错误消息。

## 匿名函数方法：

[`anonymous function`](https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&ved=0CC4QFjAA&url=http://helephant.com/2008/08/23/javascript-anonymous-functions/&ei=TlJIUd_wI46KrgeDiYCQCg&usg=AFQjCNEoMND3ig9KdKF1tQrR7gsp6sSAjQ&bvm=bv.43828540,d.bmk&cad=rja)传递给`setInterval`它并从中调用你的函数是一个好习惯。如果您的函数使用`this`.

我所做的是，创建一个临时变量并在它指向您的 TestEngine 实例并用它调用函数时`self`分配给它。`this``self.start()`

现在在`start`函数内部，`this`将指向您的 testInstance 并且一切都会按预期工作。

## 绑定方法：

[`Bind`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind)将使您的生活更轻松，并增加代码的可读性。

```
TestEngine.prototype.startMethod = function() {
  setInterval(this.start.bind(this), 200);
} 
```

# actionscript-3 - Flex：本地共享对象未触发 NetStatusEvent。为什么？

> ID：15498512
> 
> 赞同：4
> 
> 时间：2013-03-19T11:41:17.243
> 
> 标签：actionscript-3, flash, apache-flex

这就是我所做的：在“本地存储”对话框中，我将指针设置为“无”以允许 0 kB。然后我运行我的代码。我得到带有 [Allow] 和 [Deny] 按钮的“本地存储”对话框。我点击[拒绝]

我得到的输出是

```
2\. we are here now
3\. adding a handler to the SharedObject 
```

注意：不会调用 onFlushStatus 事件处理程序。

我重复上述内容，但现在单击[允许]。我得到的输出是一样的：

```
2\. we are here now
3\. adding a handler to the SharedObject 
```

注意：不会调用 onFlushStatus 事件处理程序。

我使用的是这里的代码 [Flex：如何检测用户是否阻止共享对象写入](https://stackoverflow.com/questions/7253444/flex-how-to-detect-if-user-has-blocked-shared-object-from-writing)

无论我尝试什么（并且尝试了很多），事件处理程序都不会在单击 [Allow] 或 [Deny] 按钮时被调用。但我想知道用户点击了哪个按钮。

```
var so: SharedObject = null;
var flushStatus: String = null;

so = SharedObject.getLocal('mySpace');
try {
  flushStatus = so.flush();
} catch (error: Error) {
  trace('1\. could not write SharedObject to disk');
}           
trace('2\. we are here now');
if (flushStatus == flash.net.SharedObjectFlushStatus.PENDING) {
  trace('3\. adding a handler to the SharedObject');
  so.addEventListener(NetStatusEvent.NET_STATUS, onFlushStatus);
} 

public function onFlushStatus(event: NetStatusEvent): void
{
  trace('4\. in event handler');
} 
```

正如建议的那样，我在调用 flush() 之前更改了代码并添加了事件侦听器。然后我再次运行我的测试。不幸的是，我的 onFlushStatus() 没有被调用。

```
var so: SharedObject = null;
var flushStatus: String = null;

so = SharedObject.getLocal('mySpace');
trace('0\. adding a handler to the SharedObject');
so.addEventListener(NetStatusEvent.NET_STATUS, onFlushStatus);
flushStatus = so.flush();
trace('2\. we are here now');

public function onFlushStatus(event: NetStatusEvent): void
{
  trace('4\. in event handler');
} 
```

我得到的输出 [拒绝]

```
0\. adding a handler to the SharedObject
2\. we are here now 
```

我得到的输出 [允许]

```
0\. adding a handler to the SharedObject
2\. we are here now 
```

不调用 onFlushStatus()。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T14:34:08.523

从[这个](http://livedocs.adobe.com/livecycle/es/sdkHelp/common/langref/flash/net/SharedObject.html#flush%28%29)链接看来，它`so.flush`正在返回`String`带有命令结果的a `flush()`。与其寻找要触发的事件，不如查看返回值。如果是，`pending`则添加您的事件侦听器并检查成功/失败。

一个很好的例子：[这里](https://stackoverflow.com/questions/7253444/flex-how-to-detect-if-user-has-blocked-shared-object-from-writing)

# php - Apache 为 Laravel /public 重写

> ID：15498513
> 
> 赞同：4
> 
> 时间：2013-03-19T11:41:18.387
> 
> 标签：php, apache, mod-rewrite, laravel

对此我很抱歉，但我的 htdocs 根是错误的，我无法改变它。所以我必须让它在`/public`文件夹中工作。

我使用带有以下重写的普通 Laravel .htaccess 文件：

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php/$1 [L] 
```

如果我打开`http://kemtime2_neu.pr.domain.de/public`，我会被重定向到`http://kemtime2_neu.pr.domain.de/public/http://kemtime2_neu.pr.domain.de/public/login`

我怎样才能解决这个问题？

我很乐意让它工作，`http://kemtime2_neu.pr.domain.de/`但让它工作`http://kemtime2_neu.pr.domain.de/public/`会很好。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-19T12:09:14.640

我使用这篇文章的 3 解决方案并且工作正常：

[http://web.archive.org/web/20130320184846/http://forums.laravel.io/viewtopic.php?id=1258](http://web.archive.org/web/20130320184846/http://forums.laravel.io/viewtopic.php?id=1258)

**解决方案 1 - 带有符号链接的备用安装路径。**

这是首选的解决方案，通常是一个全方位的好主意。可以将您的应用程序安装到与 public_html/ 无关的文件夹，然后将公用文件夹符号链接到 public_html/ 路径。

例如：

将您的应用程序安装到 /home/applications/mysite.com

假设您的 DocumentRoot 指向 /var/www/vhosts/mysite.com/httpdocs

从 mysite.com vhosts 文件夹中删除 httpdocs 文件夹，然后使用符号链接将两者连接起来：ln -s /home/applications/mysite.com/public /var/www/vhosts/mysite.com/httpdocs

**解决方案 2 - .htaccess 与 mod_rewrite**

此解决方案使您能够将 Laravel 放入您的公用文件夹，然后使用 .htaccess 文件将请求重定向到公用文件夹。此解决方案将您的应用程序和核心系统代码放入可公开访问的文件夹中。这不是我们鼓励您使用任何 PHP 框架做的事情。

步骤 1\. 将 Laravel 放在您的文档根文件夹中。

步骤 2\. 将以下 .htaccess 文件放在您的文档根文件夹中。

```
<IfModule mod_rewrite.c>
    RewriteEngine on
    RewriteCond %{REQUEST_URI} !^public
    RewriteRule ^(.*)$ public/$1 [L]
</IfModule> 
```

第 3 步。确保您在 application/config/application.php 中手动设置“url”配置，否则 Laravel 将生成错误的 URL。确保您的每个环境都具有正确的 application.url 配置。有关特定于环境的配置的更多信息，请参阅： http: [//laravel.com/docs/install#environments](http://laravel.com/docs/install#environments)

**解决方案 3 - 将公用文件夹合并到安装根目录**

此解决方案将您的应用程序和核心系统代码放入可公开访问的文件夹中。这不是我们鼓励您使用任何 PHP 框架做的事情。

将 public/ 文件夹的内容复制到你的 Laravel 安装文件夹中，然后在你的 index.php 文件中更改这一行：

```
require '../paths.php'; 
```

到

```
require 'paths.php'; 
```

请记住，任何捆绑包、库或其他类型的第三方代码都可能无法公开访问。

注意：同样重要的是要注意你的 bundles/ 和 public/bundles/ 目录现在会发生冲突。使用这种方法时，您可能不想使用 artisan 的 bundle:publish 任务，但不知道您的 bundle 想要发布什么。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-19T12:44:01.650

我部分解决了。如果我在根目录中有一个 .htaccess 而不是`/public`with

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ /public/index.php/$1 [L] 
```

我可以打开`http://kemtime2_neu.pr.domain.de/login`，但图像和 css 仍然是错误的。我需要先检查文件是否存在于`/public`. 我认为这是一个[新问题](https://stackoverflow.com/questions/15499440/apache-rewrite-if-not-exists-in-public-open-as-public-index-php)。

# asp.net - 如何在 ASP.NET MVC 和 ASP.NET Web Pages 2 项目中使用现有的 3 层逻辑？

> ID：15498529
> 
> 赞同：0
> 
> 时间：2013-03-19T11:42:01.453
> 
> 标签：asp.net, asp.net-mvc, asp.net-webpages

我有 5 个基本项目需要成为多个应用程序的一部分。WinForms、ASP.NET、WPF 取决于我们的需求。

这些项目是：

```
Company.Business - Business Logic DLL
Company.Business.Model - Business Models 
Company.Business.DAL - Various DALs 
Company.Configuration.Classes - Classes that are used to initialize BOs 
Company.Utilities - General Utilities 
```

我知道需要创建一些简单的应用程序，所以我不想走 MVC 的道路，并决定在 Web Pages 2 中完成它们。很快我将不得不创建 1-2 个 MVC 应用程序来做一些更复杂的事情。

所以基本上我的问题是在这两种情况下使用我现有架构的推荐方法是什么？

假设我将以上所有内容都引用到我的网站项目中。然后呢？

我应该在哪里初始化我的业务层对象？在每一页？曾经在某个地方？（网页案例）

我想在 MVC 应用程序中我只会在每个控制器构造函数中初始化我的业务层对象？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:05:59.353

使用面向服务的分层（不要与 SOA 混淆），您的业务对象（存储库、映射器等）的组合将发生在服务中。这只不过是一个容器或您的业务对象，它将成为访问应用程序业务逻辑的入口点。然后，您将从控制器后面或内部的页面代码中使用服务。将它与 DI 框架的依赖关系传递给它。这是在您的应用程序中使用的简单服务。

```
public class SampleRepository : ISampleRepository
{
   public void Insert(Sample item)
   {
       //do something, save the item ?        
   }
}

public class SampleService : ISampleService 
{
   private ISampleRepository _repository;

   public SampleService(SampleService repository)
   {
        _repository = repository;
   }

   public void DoSomething(Sample item)
   {
       //put some logic here, validation , logging, etc..
        //.....

       //Call the repositoey      
       _repository.Insert(item);
   }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:46:41.127

MVC 的最佳解决方案是使用像 Ninject 这样的依赖注入。如果您想快速设置，请使用 Ninject 的 MVC 3 nuget 包。安装后，您可以将业务层的实现注入到 MVC 控制器中。

[https://www.nuget.org/packages/Ninject.MVC3/](https://www.nuget.org/packages/Ninject.MVC3/)

# algorithm - 开/合手识别：一种简单的方法

> ID：15498537
> 
> 赞同：4
> 
> 时间：2013-03-19T11:42:22.173
> 
> 标签：algorithm, pseudocode, image-recognition

我正在寻找一种简单的方法来识别手是张开还是闭合。

我正在使用 C# 和[EmguCV](http://www.emgu.com/wiki/index.php/Main_Page)，但这在这种情况下并不重要。我只需要一个描述我需要做什么的“伪代码”。

该算法的输入图像是代表手的二进制图像（我已经实现了分割过程）。输出必须是布尔值（打开手为真，否则为假）。

这是一个输入示例：

![在此处输入图像描述](../Images/2fcaf886885707644207bf797551ef42.png)

我试图考虑一些关于凸包或白色区域的百分比，但我想这些方法对于这类问题来说不够健壮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T13:33:35.340

Convex Hull 应该做的很好，你可以计算出凸包中的黑色区域百分比，如果它大于某个阈值，那么手是张开的。否则你可以只计算白色区域的面积和周长，然后检查它们的比率，张开的手面积/周长应该小于闭合的手。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T13:42:04.720

在机器学习术语中，您尝试做的是对输入图像大小的二进制输入矩阵（1 表示白色像素，0 表示黑色像素）分类到单个二进制输出（1 表示张开手，0 表示闭合手）。

如果您通过拍摄大量闭合和张开手的图像并手动标记它们来构建训练集（双关语不是故意的），那么您可以应用监督学习算法来创建分类器。

监督学习算法有很多选择。也许第一次尝试最好的方法是支持向量机：

[http://en.wikipedia.org/wiki/Support_vector_machine](http://en.wikipedia.org/wiki/Support_vector_machine)

支持向量机的工作原理是计算输入图像与训练集中提供的示例之间的“距离”。如果输入图像平均“更接近”训练集中的张开手的例子而不是训练集中的闭合手的例子，它将把它分类为张开的手（反之亦然）。

还有许多其他的监督学习算法：

[http://en.wikipedia.org/wiki/Supervised_learning](http://en.wikipedia.org/wiki/Supervised_learning)

# javascript - Jquery在括号之间添加选择号

> ID：15498541
> 
> 赞同：0
> 
> 时间：2013-03-19T11:42:33.460
> 
> 标签：javascript, jquery, regex

我发现它必须在选择字段中将 Jquery 中的数字相加，到目前为止我的代码看起来像这样。

```
$(function() {
             $("select").change(function() { updateTotal(); });
             updateTotal();
});

function updateTotal() {
            var newTotal = 0;
            $("select option:selected").each(function() {

                var optionz = $(this).text();

                var newString = optionz.match(/{([^}]*)}/);

                console.log(newString)

                newTotal += newString;
            });
            $("#total").text("Total: " + newTotal);
} 
```

这样做的结果很奇怪并输出。

总计：0{3.25},3.25{0},0{9.95},9.95{0},0{16.95},16.95{0},0{10.25},10.25{0},0{0},0{0 },0{0},0{0},0{0},0

![在此处输入图像描述](../Images/cfe7f5d6d335761c7080ed43f0426b4b.png)

我的日志在 Firefox 中看起来像这样，我猜我只需要输出数字。

```
[

"{3.25}"

, 

"3.25"

]

# (line 73)

[

"{0}"

, 

"0"

] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T11:46:58.850

我认为您正在做的是附加字符串。相反，您想添加数字，而不是附加字符串。

"3.5" + "," + "3.5" 会给你 "3.5,3.5"

如果你使用 parseFloat("3.5") + parseFloat("3.5") 你得到 7，这就是你想要的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T11:49:31.180

如果您不向 提供`g`标志`match()`，如[MDN 文档](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/match)所述：

> 如果正则表达式不包含 g 标志，则返回与 regexp.exec(string) 相同的结果。

因此，它与使用相同`regexp.exec(string)`（参见[MDN 文档](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/RegExp/exec)）。

然后医生说：

> 如果匹配成功，则 exec 方法返回一个数组并更新正则表达式对象的属性。返回的数组 **将匹配的文本作为第一项**，**然后是每个匹配**的包含捕获的文本的捕获括号的一项。

所以，只要改变

```
newTotal += newString; 
```

到

```
newTotal += parseFloat(newString[1]); //The string returned by your match() 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T11:59:25.553

用这种方式你会得到唯一的数字

HTmL 代码：

```
<select>
     <option value="0">choose{0}</option>
     <option value="123">jeroge{123}</option>
     <option value="345">geroge{345}</option>
</select>

$(function() {
             $("select").change(function() { updateTotal(); });
             updateTotal();
});

function updateTotal() {
            var newTotal = 0;
            $("select option:selected").each(function() {

               var optionz = $(this).val();

                console.log(optionz)

                newTotal += optionz;
            });
            $("#total").text("Total: " + newTotal);
} 
```

# c# - 散列密码 - 在 SQL 服务器中存储为 base 64 字符串与存储为 varBinary

> ID：15498543
> 
> 赞同：2
> 
> 时间：2013-03-19T11:42:39.180
> 
> 标签：c#, sql-server-2008, security, passwords

我有一个散列密码要存储在我的 SQL Srever 数据库中

不确定是在存储之前将其转换为 base 64 字符串还是将其存储为`varbinary`.

如果它是 base 64，在我的 C# 中处理起来会更容易，但我不确定这种方法是否有缺点。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T17:26:52.960

使用 base 64 没有安全缺陷，因为它只是二进制数据的不同表示，*只要*您不认为 Base 64 增加了一层安全性。由于 Base 64 很容易被任何人解码（因为它不使用密钥），所以它*不是*安全层，而只是一种不同的格式。我之所以强调这一点，是因为我已经看到了很多使用 Base 64 来混淆敏感数据的漏洞。攻击者很容易恢复数据（在这种情况下是我。别担心，这是在学术界的安全类;-)）。所有敏感数据都应使用来自服务器的密钥进行加密。

我自己更喜欢使用 Base 64，因为它可以很容易地作为字符串处理。我总是在加密后将二进制数据转换为 Base 64。

正如评论中提到的那样，它会稍微减慢你的算法。然而，通过花费周期转换为 Base 64 来减慢算法的速度实际上是安全性的一个优势，因为它使暴力密码攻击对攻击者来说不太可行。

# android - 多种语言的多种字体

> ID：15498545
> 
> 赞同：2
> 
> 时间：2013-03-19T11:42:40.010
> 
> 标签：android, textview, android-fonts

我最近在开发应用程序时遇到了一种情况，我必须在文本视图中显示不同的语言。目前我使用这样的**字体/字体**显示很少：

```
Typeface tf = Typeface.createFromAsset(this.getAssets(),
                "DroidHindi.ttf");
        TextView textView1 = (TextView) findViewById(R.id.textView2);
        textView1.setTypeface(tf);
        textView1.setText("कचजड, कचजड");

        Typeface tf1 = Typeface.createFromAsset(this.getAssets(),
                "asunaskh.ttf");
        TextView textView = (TextView) findViewById(R.id.textView1);
        textView.setTypeface(tf1);
        textView.setText("یہ انگریزی نہیں");

        Typeface tf2 = Typeface.createFromAsset(this.getAssets(),
                "Banglafont.ttf");
        TextView textView2 = (TextView) findViewById(R.id.textView3);
        textView2.setTypeface(tf2);// এই ইংরেজি নয়
        textView2.setText("এই ইংরেজি নয়"); 
```

很好，**我的问题**是我必须支持大约 20 种不同的语言，那么当我在不同的活动中应用它时，事情会变得非常乏味。任何替代方式来实现。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T11:47:30.213

在应用程序启动时初始化你的字体，并创建一个方法来获取任何视图并根据语言设置字体。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-19T13:25:10.810

您要做的是创建一个具有公共访问权限的类和一个函数，它将返回您想要假设的字体的 TextView 对象。

```
 TextView public SetLanguage(TextView tv,string type)
    {
     TextView newtv = tv;
     Typeface tf;
     switch(type)
     {
      case "urdu":
         tf = Typeface.createFromAsset(this.getAssets(),"urdu.ttf");
         break;
      case "hindi":
         tf = Typeface.createFromAsset(this.getAssets(),"hindi.ttf");
         break;
     //   up so on                

   }
   newtv.setTypeface(tf);
   return newtv;
 }
  // and call it any where..
 TextView textView1 = (TextView) findViewById(R.id.textView2);
 textView1 = classobj.SetLanguage(textView1,"urdu");
 //assign string of text to it 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-04-09T19:40:58.700

就像我们对其他资源文件所做的那样，我们也可以为我们想要的任何语言环境或国家代码定义一个字体目录。这种方法的缺点是两种字体必须命名相同，尽管它们不同，但在其他方面是一个干净的解决方案。

[![在此处输入图像描述](../Images/323e05f9e549e553aa0786a7d25857eb.png)](https://i.stack.imgur.com/qEMDd.png)

# ios - 委托消息是否必须始终将 void 作为返回类型？

> ID：15498546
> 
> 赞同：6
> 
> 时间：2013-03-19T11:42:41.460
> 
> 标签：ios, objective-c, design-patterns

我有一个场景，其中 Obj A 在按下按钮时向 Obj B 发送委托消息。Obj B 根据委托调用采取一些行动。

Obj A 希望根据调用委托消息后发生的结果在屏幕上显示某些内容。

假设 Obj B 维护一个计数器，记录该操作发生了多少次。

因此，当 Obj A 按下按钮并调用委托方法时，该委托方法返回一个值是否是个好主意，在我的情况下是当前计数器？

以便 Obj A 可以显示计数器更新值。

在这种情况下，相同的消息同时充当代表和数据源。

对我来说，Obj A 是 View 而 Obj B 是 View Controller。

我的实施有缺陷吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T11:54:45.260

我喜欢你的实现。

即使它不区分委托和数据源角色，它也会以更简单的方式组合它们。

我想就 MVC 概念而言，实现的适当方法是：

*   A（视图）向 B（委托）发送一条消息，说“我被窃听了”或类似的东西。

*   B（委托人）根据需要采取行动，并向 A 发送一条消息“reloadData”。

*   A 要求 B（现在作为数据源）显示数据。

因为在您的情况下，委托和数据源是同一个对象，就像在许多其他情况下发生的那样，在我看来，像您那样实现流程完全没有缺陷：

*   A（视图）向 B（委托和数据源）发送消息并接收刷新视图所需的数据信息。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-19T11:48:06.027

不，在许多情况下它不会返回 void 而是一个值。

这是一种有效且常用的方法.. 一个例子是 UITextView 的委托：

`- (BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text;`

但是许多其他组件都这样做，因此它们不必太专业，但**可以保持通用**

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-19T11:50:43.940

不，这不是一个规则，一个委托应该返回无效。

有许多[委托](https://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/CocoaFundamentals/CommunicatingWithObjects/CommunicateWithObjects.html#//apple_ref/doc/uid/TP40002974-CH7-SW18)返回非 void 值。

```
- (BOOL)application:(NSApplication *)sender
    openFile:(NSString *)filename;                        // NSApplication
- (BOOL)application:(UIApplication *)application
    handleOpenURL:(NSURL *)url;                           // UIApplicationDelegate
- (UITableRowIndexSet *)tableView:(NSTableView *)tableView
    willSelectRows:(UITableRowIndexSet *)selection;       // UITableViewDelegate
- (NSRect)windowWillUseStandardFrame:(NSWindow *)window
    defaultFrame:(NSRect)newFrame;                        // NSWindow 
```

# c# - 动态在调试器中正确显示，但在尝试访问值时失败

> ID：15498556
> 
> 赞同：0
> 
> 时间：2013-03-19T11:43:04.060
> 
> 标签：c#, dynamic

我有一个奇怪的问题。我有一种方法，期望`IEnumerable`稍后`dynamic`我必须迭代做一些事情。

调用该方法的代码是这样的：

```
GuardarControlCristalesPedidos(
    items.Select(o => new {o.Id, o.CantidadRecibida, o.Cerrado})); 
```

该方法编码为

```
public static void GuardarControlCristalesPedidos(IEnumerable itemsAGuardar)
{
    var session = FactoryProvider.GetCurrentSession();
    using (var t = session.BeginTransaction())
    {
         foreach (dynamic item in itemsAGuardar)
         {
              var cItem = session.Load<PedidoItem>(item.Id);
              cItem.CantidadRecibida = item.CantidadRecibida;
              cItem.Cerrado = item.Cerrado;
              session.Save(cItem);
         }
         t.Commit();
    }
} 
```

现在，我遇到的问题是程序无法抛出`'item.Id' produjo una excepción de tipo 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException'`

但奇怪的是，当我使用`dynamic`调试器访问变量时，它似乎很好（IDE 显示成员很好，但是当我尝试访问时失败`item.Id`

![动态调试器观察](../Images/b6510e6eefc87c5ee7dbc063ba095a0a.png)

这里发生了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:42:33.540

这可能会起作用：

```
var cItem = session.Load<PedidoItem>((int)item.Id); 
```

# html - Selenium 测试用例/套件

> ID：15498566
> 
> 赞同：1
> 
> 时间：2013-03-19T11:43:26.780
> 
> 标签：html, selenium, automated-tests, selenium-ide

我的 Selenium 测试用例和测试套件无法正常工作，由于某种原因，当我单独播放每个测试用例时，它可以正常工作，但是，当我一起播放整个东西时，它会说：*“元素...未找到”*，而且，如果我将两个测试用例都添加到一个新的测试用例中并播放这个新的测试用例，它就不起作用。我假设我的第一个测试用例很好，因为它总是有效，但此时它得到元素未找到错误，我也尝试了其他方法：

```
<tr>
    <td>click</td>
    <td>//div[@class='btn_sel_text' and contains(., 'Volume Entry')]</td>
    <td></td>
</tr> 
```

我还尝试将“//div”替换为：

```
css=.btn_sel_text:contains('Volume Entry') 
```

但是那也不起作用。任何人都可以解释为什么当我一起运行整个事情时它不起作用，但是，如果我只是单独运行它`//div`或它自己的“css”它确实有效。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-18T20:30:29.150

在尝试为自己调试这个问题时，我发现如果我有两个单独工作的测试用例，然后当我在测试套件中一起运行它们时，在第二个测试用例中找不到链接/按钮，解决方案实际上是修改第一个测试用例。

如果您有两个以上的测试用例，请尝试更改顺序，以便在最初的第一个测试用例之后立即有一些其他测试用例。当我尝试这样做时，我的错误从原来的第二个测试用例转移到了新的第二个测试用例。

我不知道究竟是为什么，但就像 Selenium 无法赶上第一次测试在浏览器上的效果什么的。但是，如果在第一个测试用例的末尾添加一个“暂停 5000”，然后是一个 ClickAndWait（可能是一个让我保持在同一页面上的无害链接），那么当第一个和第二个测试用例一起运行时测试套件，第二个测试用例现在可以工作了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T11:32:29.753

使用 firepath 查找该元素的 Xpath。使用元素的 Xpath，您可以单击它。这样做并让我知道您的问题是否已解决

```
<tr>
<td>pause</td>
<td></td>
<td>1500</td>
</tr>
<tr>
<td>click</td>
<td>Xpath of the element </td>
<td></td>
</tr> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:56:31.617

在点击之前暂停一下。

命令：暂停

目标：3000

试试看，谢谢。

# ruby - Ruby：二维数组语法

> ID：15498570
> 
> 赞同：0
> 
> 时间：2013-03-19T11:43:30.483
> 
> 标签：ruby, syntax, multidimensional-array

在 Ruby 中，假设我们有一个二维数组，为什么这个语法很好：

```
array.each do |x|
  x.each do |y|
    puts y
  end
end 
```

但这不是：

```
array.each{|x|.each{|y| puts y}} 
```

有任何想法吗？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T11:44:53.890

这应该没问题`array.each{|x| x.each{|y| puts y}}`

您忘记先提及 x。

即`.`应该是左副操作员。如果您在左侧有注释 - 这是一个错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T13:34:06.700

如果你*仔细*`do...end`替换你的块，你会发现你的第二种形式和第一种形式一样。但是完成与整个双循环相同的事情。`{...}` *`puts array`*

 *如果我可以提供一些礼貌的元建议，那么您今天提出的两个 Ruby 问题看起来好像您可能被要求用您不知道的语言做一些事情，并且感到沮丧。这是可以理解的。但好消息是，与许多其他语言相比，Ruby 是建立在非常少量的部分之上的。如果您花一点时间真正熟悉 Array 和 Hash，您会发现此后的进展要顺畅得多。*

# amazon-dynamodb - 谁能解释发电机论文中的“复制”？

> ID：15498573
> 
> 赞同：3
> 
> 时间：2013-03-19T11:43:49.757
> 
> 标签：amazon-dynamodb, database-replication

在发电机论文中：[http ://www.allthingsdistributed.com/files/amazon-dynamo-sosp2007.pdf](http://www.allthingsdistributed.com/files/amazon-dynamo-sosp2007.pdf)

复制部分说：

> 为了解决节点故障，首选项列表包含 N 个以上的节点。

![在此处输入图像描述](../Images/711e2b0f67752125a68bd7735334b3bf.png)

我想知道为什么？这个“节点”是指虚拟节点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-26T05:57:37.977

1.  这是为了增加 Dynamo 的可用性。如果偏好列表中的前 N ​​个节点都不错，则不会使用其他节点。但如果所有 N 个节点都不可用，则将使用其他节点。对于写操作，这称为提示切换。
2.  该图对物理节点和虚拟节点都有意义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-26T21:02:47.347

我也不明白你说的部分。

背景：
我对论文的理解是，由于 Dynamo 的默认复制因子为 3，因此每个节点 N 负责从 N-3 到 N 的循环（同时也是循环从 N-1 到 N 的协调者）。

这就解释了为什么：

> 节点 B 持有从 F 到 B 的
> 密钥 节点 C 持有从 G 到 C
> 的密钥 节点 D 持有从 A 到 D 的密钥

由于范围 AB 属于所有这些范围，因此节点 B、C 和 D 是具有该范围的关键哈希值的节点。

该论文指出：

> 第 4.3 节复制：
> 
> 为了解决这个问题，一个键的偏好列表是通过跳过环中的位置来构建的，以确保该列表只包含不同的物理节点。

如果首选项列表是通过跳过虚拟节点构建的，它如何包含超过 N 个节点？
恕我直言，他们应该这样说：

> 考虑到节点故障，环范围 N-3 到 N 可能包含 N 个以上的节点，N 个物理节点加上 x 个虚拟节点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-23T16:00:24.560

分布式 DBMS Dyanmo DB 属于牺牲一致性的那类。请参考下图：

[![在此处输入图像描述](../Images/e9b4f9976eebe6bbece1e9eb4b2a2fdf.png)](https://i.stack.imgur.com/RAOBl.png)

因此，即使系统具有高可用性，它也是不一致的。因为网络分区在分布式系统中是给定的，所以**您不能不选择 Partition Tolerance。**

解决您的问题：

* * *

> 1.  为了解决节点故障，首选项列表包含 N 个以上的节点。我想知道为什么？

大规模分布式系统的一个事实是，**在有数千个节点的系统中，节点故障是一种常态。**

在这么大的系统中，您肯定会有一些节点出现故障。您不会将其视为特殊情况。你为这种情况做好准备。你如何准备？

**对于数据：**您只需在多个节点上复制数据。

**对于执行：**您在多个节点上执行相同的执行。这称为[推测执行](https://en.wikipedia.org/wiki/Speculative_execution)。一旦从多次执行中获得第一个结果，就取消其他执行。

这就是答案——您复制数据以应对节点可能出现故障的情况。

* * *

> 2.  为了解决节点故障，首选项列表包含 N 个以上的节点。这个“节点”是指虚拟节点吗？

*我想确保我总是可以进入我的房子。所以我复制了我家的钥匙，并把它们交给了我的另一个家庭成员。这家伙把那些钥匙放在我们家的保险箱里。现在，当我们都出去的时候，我错觉我们还有另一套钥匙，所以万一我丢了我的，我们仍然可以进屋。但是……那些钥匙就在房子里。丢失我的钥匙仅仅意味着我无法进入我的房子。*如果我们在虚拟节点而不是物理节点上复制数据，就会发生这种情况。

虚拟节点不是单独的物理节点，因此当该虚拟节点映射到的真实节点发生故障时，虚拟节点也会消失。

如果目标是高可用性（这是 Dynamo DB 中的目标），则此“节点”不能表示虚拟节点。

# html - 图片底部和边框之间的空间从何而来

> ID：15498576
> 
> 赞同：0
> 
> 时间：2013-03-19T11:43:59.683
> 
> 标签：html, css

我有这个由 div 包裹的简单图​​像标签。我只是不明白为什么 div 的高度比图像大。

**html**

```
<div class="cc-thumbnail-bar-item">
        <img src="http://www.sir-chesterfield.de/media/catalog/product/0/1/01.01.a_4_4.jpg" class="cc-thumbnail-bar-item-image" />
</div> 
```

**css**

```
.cc-thumbnail-bar-item {
    border: 1px solid #918e7d;
}

.cc-thumbnail-bar-item-image {
    width: 48px;
} 
```

[http://jsfiddle.net/cburgdorf/YW8Ka/](http://jsfiddle.net/cburgdorf/YW8Ka/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:45:17.867

那是因为图像是内联渲染的，就像一个字母。您可以看到每个文本底部的空格。

它可以通过添加`line-height`和修复`vertical- align`

添加`line-height:0`

```
.cc-thumbnail-bar-item {
     border: 1px solid #918e7d; line-height:0
} 
```

**[演示](http://jsfiddle.net/YW8Ka/1/)**

添加`vertical-align`

```
.cc-thumbnail-bar-item-image {
    width: 48px; vertical-align:top
} 
```

**[演示 2](http://jsfiddle.net/YW8Ka/4/)**

# java - Spring Security 中的配置问题

> ID：15498577
> 
> 赞同：9
> 
> 时间：2013-03-19T11:44:01.793
> 
> 标签：java, spring, spring-mvc, spring-security

我有 spring 安全应用程序，以下是我的 security-contex.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/security"
    xmlns:beans="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
           http://www.springframework.org/schema/security
           http://www.springframework.org/schema/security/spring-security-3.0.3.xsd">

    <http auto-config='true'>
        <intercept-url pattern='/login*' filters='none' />
        <intercept-url pattern='/**' access='ROLE_USER' />
        <form-login login-page='/login' default-target-url='/home'
            always-use-default-target='true' />
    </http>
    <authentication-manager>
        <authentication-provider>
            <user-service>
                <user name="anto" password="anto" authorities="ROLE_USER, ROLE_ADMIN" />
                <user name="raj" password="raj" authorities="ROLE_USER" />
            </user-service>
        </authentication-provider>
    </authentication-manager>

</beans:beans> 
```

我得到这个例外：

> 配置问题：Spring Security 3.0 不能使用 spring-security-2.0.xsd 模式。请将您的架构声明更新为 3.0 架构。

我可以理解这个问题，但不知道在哪里改变。

我希望登录和注销表单自动出现。

```
EDIT : 

My pom.xml

<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.anto</groupId>
    <artifactId>simpleauthentication</artifactId>
    <name>SimpleAuthentication</name>
    <packaging>war</packaging>
    <version>1.0.0-BUILD-SNAPSHOT</version>
    <properties>
        <java-version>1.6</java-version>
        <org.springframework-version>3.1.1.RELEASE</org.springframework-version>
        <org.aspectj-version>1.6.10</org.aspectj-version>
        <org.slf4j-version>1.6.6</org.slf4j-version>
        <spring-security.version>3.0.2.RELEASE</spring-security.version>
    </properties>
    <dependencies>
        <!-- Spring -->
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-context</artifactId>
            <version>${org.springframework-version}</version>
            <exclusions>
                <!-- Exclude Commons Logging in favor of SLF4j -->
                <exclusion>
                    <groupId>commons-logging</groupId>
                    <artifactId>commons-logging</artifactId>
                 </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-webmvc</artifactId>
            <version>${org.springframework-version}</version>
        </dependency>
                <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-core</artifactId>
            <version>${spring-security.version}</version>
            <exclusions>
                <exclusion>
                    <groupId>commons-logging</groupId>
                    <artifactId>commons-logging</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
    <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-config</artifactId>
            <version>${spring-security.version}</version>
            <exclusions>
                <exclusion>
                    <groupId>commons-logging</groupId>
                    <artifactId>commons-logging</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
    <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-web</artifactId>
            <version>${spring-security.version}</version>
        </dependency>
    <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-taglibs</artifactId>
            <version>${spring-security.version}</version>
        </dependency>
                 <dependency>
            <groupId>commons-pool</groupId>
            <artifactId>commons-pool</artifactId>
            <version>1.5.4</version>
            <exclusions>
                <exclusion>
                    <groupId>commons-logging</groupId>
                    <artifactId>commons-logging</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <!-- AspectJ -->
        <dependency>
            <groupId>org.aspectj</groupId>
            <artifactId>aspectjrt</artifactId>
            <version>${org.aspectj-version}</version>
        </dependency>   

        <!-- Logging -->
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
            <version>${org.slf4j-version}</version>
        </dependency>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>jcl-over-slf4j</artifactId>
            <version>${org.slf4j-version}</version>
            <scope>runtime</scope>
        </dependency>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
            <version>${org.slf4j-version}</version>
            <scope>runtime</scope>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
            <version>1.2.15</version>
            <exclusions>
                <exclusion>
                    <groupId>javax.mail</groupId>
                    <artifactId>mail</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>javax.jms</groupId>
                    <artifactId>jms</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>com.sun.jdmk</groupId>
                    <artifactId>jmxtools</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>com.sun.jmx</groupId>
                    <artifactId>jmxri</artifactId>
                </exclusion>
            </exclusions>
            <scope>runtime</scope>
        </dependency>

        <!-- @Inject -->
        <dependency>
            <groupId>javax.inject</groupId>
            <artifactId>javax.inject</artifactId>
            <version>1</version>
        </dependency>

        <!-- Servlet -->
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>servlet-api</artifactId>
            <version>2.5</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>javax.servlet.jsp</groupId>
            <artifactId>jsp-api</artifactId>
            <version>2.1</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>jstl</artifactId>
            <version>1.2</version>
        </dependency>

        <!-- Test -->
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.7</version>
            <scope>test</scope>
        </dependency>        
    </dependencies>
    <build>
        <plugins>
            <plugin>
                <artifactId>maven-eclipse-plugin</artifactId>
                <version>2.9</version>
                <configuration>
                    <additionalProjectnatures>
                        <projectnature>org.springframework.ide.eclipse.core.springnature</projectnature>
                    </additionalProjectnatures>
                    <additionalBuildcommands>
                        <buildcommand>org.springframework.ide.eclipse.core.springbuilder</buildcommand>
                    </additionalBuildcommands>
                    <downloadSources>true</downloadSources>
                    <downloadJavadocs>true</downloadJavadocs>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.5.1</version>
                <configuration>
                    <source>1.6</source>
                    <target>1.6</target>
                    <compilerArgument>-Xlint:all</compilerArgument>
                    <showWarnings>true</showWarnings>
                    <showDeprecation>true</showDeprecation>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>exec-maven-plugin</artifactId>
                <version>1.2.1</version>
                <configuration>
                    <mainClass>org.test.int1.Main</mainClass>
                </configuration>
            </plugin>
        </plugins>
    </build>
</project> 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-19T11:58:08.477

您的 pom.xml 和 security-contex.xml 中有错误的 Spring Security 版本：前者指向 3.0.2，但后者想要 3.0.3，所以要么：

*   将 pom.xml 更新到 3.0.3（或更高版本）
*   或`http://www.springframework.org/schema/security/spring-security-3.0.xsd`在您的安全配置中使用。

顺便说一句，是否有理由不使用[当前的 Spring Security 版本之一](http://www.springsource.org/spring-security#maven)（3.0.8 / 3.1.3）？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T12:21:07.393

用下面给出的代码替换您的 xsd 和架构位置。我认为问题是缺少安全 xsd。

```
<beans:beans xmlns="http://www.springframework.org/schema/security"
xmlns:beans="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:security="http://www.springframework.org/schema/security"
xmlns:mvc="http://www.springframework.org/schema/mvc"
xmlns:context="http://www.springframework.org/schema/context" 
xsi:schemaLocation="
    http://www.springframework.org/schema/beans 
    http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
    http://www.springframework.org/schema/security 
    http://www.springframework.org/schema/security/spring-security-3.1.xsd
    http://www.springframework.org/schema/context 
    http://www.springframework.org/schema/context/spring-context-3.1.xsd
    http://www.springframework.org/schema/mvc 
    http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd"> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-16T01:40:20.670

这对我来说就像我偶尔遇到的传递依赖问题。运行`mvn dependency:tree`以确认您的项目导入了正确的依赖项，并且没有导致您的麻烦的传递依赖项，然后排除任何不应该成为您的项目的一部分。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-05-13T23:46:56.607

我有类似的问题，它是由传递的 Maven 依赖引起的。

我的**web**项目具有以下依赖项我的 pom.xml

```
 <dependency>
        <groupId>org.springframework.security</groupId>
        <artifactId>spring-security-core</artifactId>
        <version>3.2.11.RELEASE</version>
    </dependency>
    <dependency>
        <groupId>org.springframework.security</groupId>
        <artifactId>spring-security-config</artifactId>
        <version>3.2.11.RELEASE</version>
    </dependency>
    <dependency>
        <groupId>org.springframework.security</groupId>
        <artifactId>spring-security-web</artifactId>
        <version>3.2.11.RELEASE</version>
    </dependency> 
```

我的**模型**项目在其 pom.xml 中具有以下依赖项

```
 <dependency>
        <groupId>org.springframework.security.extensions</groupId>
        <artifactId>spring-security-saml2-core</artifactId>
        <version>1.0.0.RELEASE</version>
    </dependency> 
```

**Web**项目依赖于**模型**项目，因此当我运行我的 Web 项目时出现配置错误

> 配置问题：Spring Security 3.1 不能使用 spring-security-3.0.xsd 模式。请将您的架构声明更新为 3.1 架构。

运行 mvn dependency:tree 显示 spring-security-saml2-core 依赖于 spring-security-config (ver 3.1.2.RELEASE)

> [信息] +-org.springframework.security.extensions:spring-security-saml2-core:jar:1.0.0.RELEASE:compile
> 
> [信息] | +-org.springframework.security:spring-security-config:jar:3.1.2.RELEASE:compile [INFO] | - xml-apis:xml-apis:jar:1.4.01:compile

由于我在**web**项目中使用的是 3.2.11.RELEASE 版本，因此解决方案是排除不良的传递依赖

```
 <dependency>
        <groupId>org.springframework.security.extensions</groupId>
        <artifactId>spring-security-saml2-core</artifactId>
        <version>1.0.0.RELEASE</version>
        <exclusions>
          <exclusion>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-config</artifactId>
          </exclusion>
        </exclusions>
    </dependency> 
```

这为我解决了这个问题。

# wordpress - 如何在不打印的情况下在wordpress中获取页面标题

> ID：15498579
> 
> 赞同：0
> 
> 时间：2013-03-19T11:44:03.137
> 
> 标签：wordpress

如何在不打印的情况下在 wordpress 中获取页面标题。我试过 wp_title 但它会自动打印标题..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T11:53:17.297

谷歌：wordpress 获取帖子标题

第一个结果！

[http://codex.wordpress.org/Function_Reference/get_the_title](http://codex.wordpress.org/Function_Reference/get_the_title)

```
<?php 
$post_title = get_the_title($ID); 
echo $post_title;
?> 
```

# jquery - jQuery ui 效果为 not ui jquery

> ID：15498585
> 
> 赞同：0
> 
> 时间：2013-03-19T11:44:22.603
> 
> 标签：jquery, show, slide, effects

我没有使用 jquery UI，但我想让元素从左到右同时滑动和显示。

那么jquery UI的等效功能是什么？：

```
$(function(){
$(element).show('slide', {direction: 'right'},1000);
}); 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:52:57.040

正如[@DipeshParmar 所评论](https://stackoverflow.com/questions/15498585/jquery-ui-effect-for-not-ui-jquery#comment21942882_15498585)的，您可以使用[`.animate()`](http://api.jquery.com/animate/)滑动*元素*。

```
$(".box").animate({left: "200px", opacity: 1}, 4000); 
```

***现场演示：http:*** *[//jsfiddle.net/zq6Rx/6/](http://jsfiddle.net/zq6Rx/6/)*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:53:10.427

试试这个

```
$(element).hide().animate({width: 'toggle'}); 
```

[在这里摆弄](http://jsfiddle.net/bipen/zq6Rx/3/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T12:05:47.310

您可以按照您的要求将`opacity`css 属性用于`hidden`字段。

```
$("#element").animate( { "opacity": "show", left:"200px"} , 1000 ); 
```

**或者**

```
$("#element").animate( { "opacity": 1, left:"200px"} , 1000 ); 
```

# c++ - 在使用表达式中扩展可变参数模板参数包

> ID：15498586
> 
> 赞同：2
> 
> 时间：2013-03-19T11:44:25.843
> 
> 标签：c++, templates, c++11, variadic-templates

我有一组像

```
class A { void Do(int&); }
class B { void Do(char&); }
some more... 
```

是否可以通过这样的可变参数模板连接这些类：

```
template <typename ...T>
class ConnectIt: public T...
{
    using T ...::Do; // this expression fails.
                     // Some hints to get a set of using 
                     // expressions from parameter pack?
}; 
```

用类似的东西实例化：

```
Class MyOne: public ConnectIt<A,B> {} my;
int i;
char c;    

my.Do(i);
my.Do(c); 
```

# inno-setup - Invalid prototype when using a Check function

> ID：15498590
> 
> 赞同：9
> 
> 时间：2013-03-19T11:44:35.393
> 
> 标签：inno-setup

I'm new to InnoSetup as I am experimenting with various installers.

I created my first script using Inno Script Studio and the built in wizards. So far so good. Now I want to get it to detect if .Net 4.5 is installed and if it isn't then install it. So, I looked all over the web and on here and I came across [this solution](http://www.kynosarges.de/DotNetVersion.html), however when I copy and paste the code into my script I get the following error when compiling.

```
Compiling [Code] section
Compiler Error!
Line 54: Column 10: Invalid prototype for 'IsDotNetDetected' 
```

and Line 54 in my script is this

```
function IsDotNetDetected(version: string; service: cardinal): boolean; 
```

anyone know what the error means and why I am getting it?

Here's my full script:

```
; Script generated by the Inno Setup Script Wizard.
; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!

#define MyAppName "AVO Log"
#define MyAppVersion "0.1.0.1"
#define MyAppPublisher "NA"
#define MyAppExeName "AVO Log.exe"

[Setup]
; NOTE: The value of AppId uniquely identifies this application.
; Do not use the same AppId value in installers for other applications.
; (To generate a new GUID, click Tools | Generate GUID inside the IDE.)
AppId={{9476587F-A670-4E17-B8EA-A6FABB345968}
AppName={#MyAppName}
AppVersion={#MyAppVersion}
;AppVerName={#MyAppName} {#MyAppVersion}  
AppPublisher={#MyAppPublisher}
DefaultDirName={pf}\{#MyAppName}
DefaultGroupName={#MyAppName}
AllowNoIcons=yes
OutputBaseFilename=setup
Compression=lzma
SolidCompression=yes

[Languages]
Name: "english"; MessagesFile: "compiler:Default.isl"

[Tasks]
Name: "desktopicon"; Description: "{cm:CreateDesktopIcon}"; GroupDescription: "{cm:AdditionalIcons}"; Flags: unchecked
Name: "quicklaunchicon"; Description: "{cm:CreateQuickLaunchIcon}"; GroupDescription: "{cm:AdditionalIcons}"; Flags: unchecked; OnlyBelowVersion: 0,6.1

[Files]
Source: "G:\Common\Gareths Apps\dotNetFx45_Full_x86_x64.exe"; DestDir: {tmp}; Flags: deleteafterinstall;
Source: "C:\Visual Studio 2010\Projects\AVO Log\AVO Log\bin\Release\AVO Log.exe"; DestDir: "{app}"; Flags: ignoreversion
Source: "C:\Visual Studio 2010\Projects\AVO Log\AVO Log\bin\Release\GalaSoft.MvvmLight.Extras.WPF45.dll"; DestDir: "{app}"; Flags: ignoreversion
Source: "C:\Visual Studio 2010\Projects\AVO Log\AVO Log\bin\Release\GalaSoft.MvvmLight.WPF45.dll"; DestDir: "{app}"; Flags: ignoreversion
Source: "C:\Visual Studio 2010\Projects\AVO Log\AVO Log\bin\Release\GalaSoft.MvvmLight.WPF45.xml"; DestDir: "{app}"; Flags: ignoreversion
Source: "C:\Visual Studio 2010\Projects\AVO Log\AVO Log\bin\Release\Microsoft.Expression.Interactions.dll"; DestDir: "{app}"; Flags: ignoreversion
Source: "C:\Visual Studio 2010\Projects\AVO Log\AVO Log\bin\Release\Microsoft.Practices.ServiceLocation.dll"; DestDir: "{app}"; Flags: ignoreversion
Source: "C:\Visual Studio 2010\Projects\AVO Log\AVO Log\bin\Release\System.Windows.Interactivity.dll"; DestDir: "{app}"; Flags: ignoreversion
; NOTE: Don't use "Flags: ignoreversion" on any shared system files

[Icons]
Name: "{group}\{#MyAppName}"; Filename: "{app}\{#MyAppExeName}"
Name: "{group}\{cm:UninstallProgram,{#MyAppName}}"; Filename: "{uninstallexe}"
Name: "{commondesktop}\{#MyAppName}"; Filename: "{app}\{#MyAppExeName}"; Tasks: desktopicon
Name: "{userappdata}\Microsoft\Internet Explorer\Quick Launch\{#MyAppName}"; Filename: "{app}\{#MyAppExeName}"; Tasks: quicklaunchicon

[Run]
Filename: "{tmp}\dotNetFx45_Full_x86_x64.exe"; Check: IsDotNetDetected('v4.5',0)
Filename: "{app}\{#MyAppExeName}"; Description: "{cm:LaunchProgram,{#StringChange(MyAppName, '&', '&&')}}"; Flags: nowait postinstall skipifsilent

[Code]
function IsDotNetDetected(version: string; service: cardinal): boolean;
// Indicates whether the specified version and service pack of the .NET Framework is installed.
//
// version -- Specify one of these strings for the required .NET Framework version:
//    'v1.1.4322'     .NET Framework 1.1
//    'v2.0.50727'    .NET Framework 2.0
//    'v3.0'          .NET Framework 3.0
//    'v3.5'          .NET Framework 3.5
//    'v4\Client'     .NET Framework 4.0 Client Profile
//    'v4\Full'       .NET Framework 4.0 Full Installation
//    'v4.5'          .NET Framework 4.5
//
// service -- Specify any non-negative integer for the required service pack level:
//    0               No service packs required
//    1, 2, etc.      Service pack 1, 2, etc. required
var
key: string;
install, release, serviceCount: cardinal;
check45, success: boolean;
begin
// .NET 4.5 installs as update to .NET 4.0 Full
if version = 'v4.5' then begin
    version := 'v4\Full';
    check45 := true;
end else
    check45 := false;

// installation key group for all .NET versions
key := 'SOFTWARE\Microsoft\NET Framework Setup\NDP\' + version;

// .NET 3.0 uses value InstallSuccess in subkey Setup
if Pos('v3.0', version) = 1 then begin
    success := RegQueryDWordValue(HKLM, key + '\Setup', 'InstallSuccess', install);
end else begin
    success := RegQueryDWordValue(HKLM, key, 'Install', install);
end;

// .NET 4.0/4.5 uses value Servicing instead of SP
if Pos('v4', version) = 1 then begin
    success := success and RegQueryDWordValue(HKLM, key, 'Servicing', serviceCount);
end else begin
    success := success and RegQueryDWordValue(HKLM, key, 'SP', serviceCount);
end;

// .NET 4.5 uses additional value Release
if check45 then begin
    success := success and RegQueryDWordValue(HKLM, key, 'Release', release);
    success := success and (release >= 378389);
end;

result := success and (install = 1) and (serviceCount >= service);
end; 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-19T11:58:42.710

My psychic powers tell me that you're trying to use this function as a `check:` parameter. As functions used with `check:` parameters must have a [specific prototype](http://www.jrsoftware.org/ishelp/topic_scriptcheck.htm), the compiler is failing.

Try using this stub function:

```
function CheckIsDotNetDetected(): boolean;
begin
    result := IsDotNetDetected('v4\Client', 0);
end; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T11:54:19.317

Example of check for .Net 4 for 32bit systems

```
function NET4032(): Boolean;
var
InstallCheck : Cardinal;
begin
  RegQueryDWordValue(HKLM32, 'SOFTWARE\Microsoft\NET Framework Setup\NDP\v4\Full', 
'Install', InstallCheck);
    if InstallCheck = $1 then
       Result := false
    else
       Result := true;
end; 
```

# php - 将标头传递给 file_get_contents() 以获取 json 请求

> ID：15498597
> 
> 赞同：1
> 
> 时间：2013-03-19T11:44:55.267
> 
> 标签：php, json, http-headers, httpwebrequest, file-get-contents

我需要将这些标头传递给`$context`变量，我尝试使用将值放入数组然后将其传递给函数，但我从函数 `stream_context_create()`中收到 http 警告`file_getcontents`

```
$prod_id = 4322;
$tnxRef = "RT45635276GHF76783AC";
$mackey =  "ADECNH576748GH638NHJ7393MKDSFE73903673";
$agent = $_SERVER['HTTP_USER_AGENT'];
$hash = hash('SHA512', $prod_id.$txnRef.$mackey);

$headers = array(
    'http'=>(
        'method'=>'GET',
        'header'=>'Content: type=application/json \r\n'.
            '$agent \r\n'.
            '$hash'
        )
    )
stream_context_create($headers)

$url_returns = file_get_contents("https://test_server.com/test_paydirect/api/v1/gettransaction.json?productid=$prod_id&transactionreference=$txnRef&amount=$amount", false, $context);  

$json = json_decode($url_returns, true); 
```

**错误：**

> [function.file-get-contents]：打开流失败：HTTP 请求失败！HTTP/1.1 400 错误请求`

这就是我得到的错误，有人可以帮忙举一个明确的例子。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T12:07:29.463

您的代码中有几个错误。

服务器返回`400 Bad Request`，因为您的代码会导致这个错误的 HTTP 请求：

```
GET /test_paydirect/api/v1/gettransaction.json?productid=4322&transactionreference=RT45635276GHF76783AC&amount= HTTP/1.1
Host: test_server.com
Content: type=application/json
$agent
$hash 
```

错误是：

1.  变量表达式不在单引号内求值
2.  `$amount`未在您的代码示例中设置
3.  标题是`Content-Type:`而不是`Content: type=`
4.  所有标头（代理、散列）必须有相应的名称

这是一个*应该*有效的示例：

```
$context = stream_context_create(array(
  'http' => array(
    'method' => 'GET',
    'agent'  => $agent,
    'header' => "Content-Type: application/json\r\n"
        . "X-Api-Signature: $hash"
    )
  )
); 
```

**请注意：** `X-Api-Signature`这只是一个示例 - 它取决于您使用的 API 如何命名 API 密钥标头以及如何计算哈希。您应该在 API 的文档中找到这些信息！

# android - 适用于 Android 的 PayPal MECL：“此交易已过期......”

> ID：15498598
> 
> 赞同：2
> 
> 时间：2013-03-19T11:44:57.777
> 
> 标签：android, paypal, paypal-sandbox

我正在使用适用于 android 的移动快速结帐库，并且在沙盒模式下测试结帐时总是收到以下消息：

“此交易已过期。请返回收件人的网站以使用他们的常规结帐流程完成您的交易。”

我的步骤：

1.  使用默认沙盒 API 密钥：APP-80W284485P519543T
2.  在 PayPal.ENV_SANDBOX 模式下使用 API 密钥获取设备引用令牌
3.  放置 PayPal 按钮
4.  使用我的 PayPal 开发者帐户中的 API 凭据
5.  发送“SetExpressCheckout”请求并获取 PayPal 令牌
6.  使用以下 URL 在 WebView 中显示结帐站点：

字符串 URL = " [https://www.sandbox.paypal.com/webscr?cmd=_express-checkout-mobile&drt=](https://www.sandbox.paypal.com/webscr?cmd=_express-checkout-mobile&drt=) " + DeviceReferenceToken + "&token=" + PayPalToken + "&useraction=commit";

令人困惑的是，一切似乎都可以使用实时 URL ( [https://www.paypal.com/webscr](https://www.paypal.com/webscr) )，在那里我可以看到 PayPal 登录而不是错误消息（仍然使用沙盒 API 密钥和沙盒模式） . 但在上线之前，我当然想用沙盒帐户对其进行测试。

我是否忘记了一些重要的事情，或者可能是因为最近 PayPal 沙箱的变化？

提前致谢！

# css - 当其他 div 不存在时扩展 div 宽度

> ID：15498603
> 
> 赞同：1
> 
> 时间：2013-03-19T11:45:05.593
> 
> 标签：css, html, width, expand

我有一个查询。我在主要的固定宽度 div 中使用 2div。

IE

```
<div style="width:500px; border:red solid 1px; display:inline-block; font-family:Arial, Helvetica, sans-serif; font-size:13px">
    <div style="float:left; width:55%; border:green solid 1px;">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec urna ipsum, lacinia ac fringilla in, porta at tellus. Integer euismod laoreet
    </div>
    <div style="float:left; padding:10px ">
        <select name="" style="width:200px; padding:4px ">
            <option>ABC</option>
            <option>XYZ</option>
        </select>
    </div>
</div> 
```

隐藏 div 和 td

```
$(document).ready(function(){
    $("td:empty").css('display', 'none');
    $("div[class='errorMsg']").filter(function(i,v){return $.trim($(v).text()).length == 0;}).css('display', 'none');
    $("td[class='noShow']").filter(function(i,v){return $.trim($(v).text()).length == 0;}).css('display', 'none');
  }); 
```

当下拉选择 div 不存在时，我正在尝试扩展内容 div。当下拉选择 div 在那里时，它应该像现在这样。我可以用桌子做到这一点，但我被困在了 div 中。

如果我在 css 中使用表格单元格，它在 ie7 上不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:08:42.030

如果您只是将**带有下拉列表的 div 的显示属性设置为 None**。然后你可以做这样的事情：

```
if($('#DIV_WITH_DROPDOWN').is(":visible")) {
    $('#CONTENT_DIV').css('width', WHATEVER VALUE YOU WANT);
} 
```

**请记住，它只会检查 display:[none|block] 并且会忽略 visible:[true|false]**

如果您要**完全删除 div 或未在 DOM 中加载 div，**那么您可以使用以下命令：

```
if($('#DIV_WITH_DROPDOWN').length > 0) {
    $('#CONTENT_DIV').css('width', WHATEVER VALUE YOU WANT);
} 
```

# ruby-on-rails - 如何查看特定宝石组的所有宝石？

> ID：15498611
> 
> 赞同：0
> 
> 时间：2013-03-19T11:45:23.483
> 
> 标签：ruby-on-rails, ruby, bundler, gemfile

我想查看为`test`环境加载的所有 gem，包括版本和依赖项。这样的事情可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T12:42:08.743

你可以自己动手：

```
require 'bundler/setup'

group = :development

deps = Bundler.environment.dependencies.select do |dep|
  dep.groups.include?(group) or dep.groups.include?(:default)
end

puts "Gems included by the bundle in group #{group}:"
deps.each do |dep|
  spec = dep.to_spec
  puts "* #{spec.name} (#{spec.version})"
end 
```

示例`Gemfile`：

```
source 'https://rubygems.org'

gem 'sinatra'
gem 'thor'

group :test do
  gem 'rspec'
end

group :development do
  gem 'rspec'
  gem 'pry'
end 
```

示例输出：

```
Gems included by the bundle in group development:
* sinatra (1.4.1)
* thor (0.17.0)
* rspec (2.13.0)
* pry (0.9.12) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:51:39.943

它应该已经在您的 Gemfile 中了

块中指定测试的任何内容都将成为您的测试环境的一部分，测试块之外但不在另一个块中的任何内容也将被加载。

所有依赖项都应该在 Gemfile.lock 中列出

编辑

好的，根据您的反馈，这应该可以满足您的需求。

```
Rails c test 
```

在测试环境中打开控制台

```
pp Gem.loaded_specs.sort 
```

这将按字母顺序漂亮打印所有规格

# java - 使用数据库时 Play 1.2.x 中的奇怪事情

> ID：15498612
> 
> 赞同：1
> 
> 时间：2013-03-19T11:45:23.560
> 
> 标签：java, jpa, playframework

我在 Play 1.2.x 应用程序中发现了奇怪的行为

例如我们有以下代码：

**应用程序/模型/Account.java：**

```
package models;

import javax.persistence.Entity;

import play.db.jpa.Model;

@Entity
public class Account extends Model {

    public String username;
} 
```

**应用程序/coutrollers/Application.java：**

```
package controllers;

import play.mvc.Controller;

import java.util.List;

import models.Account;

public class Application extends Controller {

    public static void index() {
        Account account = Account.find("username LIKE ?", "username1").first();
        account.username = "username3";
        List<Account> accounts = Account.all().fetch();
        render(account, accounts);
    }
} 
```

**应用程序/视图/应用程序/index.html：**

```
#{extends 'main.html' /}
#{set title:'Home' /}

<h2>Working!</h2>

${account.username}

<ul>
  #{list items:accounts, as:'acc'}
    <li>${acc.username}</li>
  #{/list}
</ul> 
```

在数据库中有以下帐户：

*   用户名1
*   用户名2

输出将如下：

## 在职的！

用户名3

*   用户名3
*   用户名2

但必须为：

## 在职的！

用户名3

*   用户名1
*   用户名2

**这是什么？？？**

*   玩虫子？
*   Java 静态上下文特性？
*   JPA 功能？
*   ...？

## 解决

感谢@millimoose。所有需要的是`detach()`：

```
package controllers;

import play.mvc.Controller;

import java.util.List;

import models.Account;

import play.db.jpa.JPA;

public class Application extends Controller {

    public static void index() {
        Account account = Account.find("username LIKE ?", "username1").first();
        account.username = "username3";
        JPA.em().detach(account);
        List<Account> accounts = Account.all().fetch();
        render(account, accounts);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T11:50:46.867

JPA 的工作方式与地球上的所有其他 ORM 一样，当您查找相同的数据库记录两次时，您将获得相同的对象。该`.first()`查询在`Account`内部缓存（以跟踪在一个工作单元内对其所做的更改），并且该`.all().fetch()`调用只是再次为您提供该缓存的对象。

我对游戏不熟悉！ORM 的东西，但“原始”JPA 必须[`EntityManager.detach()`](http://docs.oracle.com/javaee/6/api/javax/persistence/EntityManager.html#detach%28java.lang.Object%29)让它停止跟踪给定的实体实例。（因此，每当再次检索到相应的数据库记录时，都会为您提供一个新副本。）

# php - PHP 字符串不包含

> ID：15498618
> 
> 赞同：9
> 
> 时间：2013-03-19T11:45:33.200
> 
> 标签：php

如果当前链接不包含“索引”或“/？”字样，我想要做的是显示一条消息 (1)

我发现这正好相反：

```
$page = 'http://' . $_SERVER['SERVER_NAME'] . $_SERVER['REQUEST_URI'];
if (strpos($page, 'index.php') !== false xor strpos($page, '/?') !== false) {
    echo '1';
} else {
    echo '2';
} 
```

此代码在没有“索引”或“/？”的页面上显示“2” 在链接中，但我需要相反：在没有“索引”或“/？”的地方显示“1” 在链接中。

顺便说一句，我尝试了所有组合：！strpos，TRUE，！==，但它似乎对我不起作用。我需要一种在代码中没有“else”的方法，否则我可以改变回声。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-19T11:48:56.480

```
$page = 'http://' . $_SERVER['SERVER_NAME'] . $_SERVER['REQUEST_URI'];
if (strpos($page, 'index.php') === false && strpos($page, '/?') === false) 
{
    echo"1";
}
else
{
    echo"2";
} 
```

`1`如果没有`index.php`或`/?`应显示`$page`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T11:51:46.990

if 语句中的条件是

```
if( <<COND 1>> xor <<COND 2>> ) 
```

其中,`xor`的特征是

> **`TRUE`**如果其中一个`<<COND 1>>`或是，`<<COND 2>>`则返回**`TRUE`**，但不能同时返回。

你应该改用这个：

```
if( strpos($page, 'index.php') !== false OR strpos($page, '/?') !== false ) 
```

* * *

查看此页面以获取有关[逻辑运算符](http://php.net/manual/en/language.operators.logical.php)的更多信息。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-09T15:58:26.057

```
$page = 'http://' . $_SERVER['SERVER_NAME'] . $_SERVER['REQUEST_URI'];
if (strpos($page, '/?') === false && strpos($page, 'index.php') === false) 
{
  echo "1";
}
else
{
  echo "2";
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T11:52:01.897

试试这个 ：

```
$page = 'http://' . $_SERVER['SERVER_NAME'] . $_SERVER['REQUEST_URI'];

if (strpos($page, 'index.php') === false || strpos($page, '/?') === false) 

{

echo"1";

}

else

{

echo"2";

} 
```

# uml - 我正在使用来自各种表格的数据创建 Qlikview 报告。哪种类型的 UML 图是理想的？

> ID：15498623
> 
> 赞同：-1
> 
> 时间：2013-03-19T11:45:44.590
> 
> 标签：uml, report

我正在使用来自各种表格的数据创建 Qlikview 报告。哪种类型的 UML 图最适合这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T11:15:20.133

不同的 UML 图类型为同一数据模型提供了不同的视图。这真的取决于你想要关注什么：演员的互动？动态行为？您通常区分结构（类、组件、对象……）和行为图类型（用例、活动、序列……）

用例图可以提供一种简单的方法，让您快速了解模型适用于什么的总体思路。类图可以显示它的内部结构。对于所有其他图表类型，请参阅 UML 书籍，市场上有大量此类图表。

如果您不希望答案基于非常笼统的想法，恐怕您将不得不对您的具体设置提供更多见解。

希望这可以帮助...

# python - Python列表合并

> ID：15498624
> 
> 赞同：0
> 
> 时间：2013-03-19T11:45:47.023
> 
> 标签：python

我得到这样的列表输出，我想明确区分列表，以便我可以分别访问每个列表我该怎么做

```
for Book in rootNode.getBooks():
    CompareTables=[]
    CompareTables.append(Book.getName())
    for Table in Book.getTables():
        CompareTables.append(Table.getName())
    print CompareTables

Output:

['Document', 'A','B','C']
['Document', 'A','B','C','D','E','F'] 
```

我想要这样的输出：

```
print CompareTables1

Output:

 ['Document', 'A','B','C']

print CompareTables2

 ['Document', 'A','B','C','D','E','F'] 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T11:49:55.300

创建一个新列表以将您的每本书列表添加到：

```
all_compare_tables = []
for Book in rootNode.getBooks():
    CompareTables=[]
    CompareTables.append(Book.getName())
    for Table in Book.getTables():
        CompareTables.append(Table.getName())
    all_compare_tables.append(CompareTables)

print all_compare_tables[0]
print all_compare_tables[1]

# better yet, loop:

for compare_tables in all_compare_tables:
    print compare_tables 
```

或者，您可以使用字典：

```
all_compare_tables = {}
for i, Book in enumerate(rootNode.getBooks(), 1):
    CompareTables=[]
    CompareTables.append(Book.getName())
    for Table in Book.getTables():
        CompareTables.append(Table.getName())
    all_compare_tables['CompareTables{}'.format(i)] = CompareTables 
```

上面的示例将键生成为`CompareTables1`,`CompareTables2`等，但也许您有更好的名字。

打印这些然后变成：

```
print all_compare_tables['CompareTables1']
print all_compare_tables['CompareTables2'] 
```

or 循环遍历`all_compare_tables.keys()`or`all_compare_tables.values()`序列。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:51:42.003

好吧，`dict`为这种情况制作了一个：

```
CompareTables = {}
for Book in rootNode.getBooks():
    book_name = Book.getName()
    CompareTables[book_name] = []
    for Table in Book.getTables():
        CompareTables[book_name].append(Table.getName())
    print CompareTables 
```

在这里，您的 2 本书似乎具有相同的标题`Document`，因此您可以使用索引来区分它们：

```
CompareTables = {}
for i, Book in enumerate(rootNode.getBooks(), 1):
    book_name = Book.getName() + str(i)
    CompareTables[book_name] = []
    for Table in Book.getTables():
        CompareTables[book_name].append(Table.getName())
    print CompareTables 
```

# php - 一页中有多个 jQuery 自动完成

> ID：15498628
> 
> 赞同：0
> 
> 时间：2013-03-19T11:46:05.993
> 
> 标签：php, javascript, jquery, ajax

# 更新

我检查了下拉元素，似乎后续的下拉元素没有由

```
 .data( 'ui-autocomplete' )._renderItem = function( ul, item ) {
        return $( "<li></li>" )
            .data( "item.autocomplete", item )
            .append( 
              '<a class="select-group"><span class="mini-headtitle">' + item.institution_name + 
              '</span><br/><span class="mini-subtitle">' + item.municipality + '</span></a>' )
            .appendTo( ul );
    };
} 
```

部分。**但是“缺失”的元素仍然有需要的物品！我该如何解决这个问题？**

# 问题

我已经动态添加了对应于 jQuery 自动完成脚本的文本框。每当将新文本框添加到 DOM 时，它也应该具有与第一个相同的自动完成功能。

**自动完成适用于所有新添加的 DOM 文本框，但只有第一个实例的选择框填充了选项。**

## 第一个文本框

![在此处输入图像描述](../Images/c3bcf096b9bc50bc356c80b11348d38e.png)

## 后续文本框

![在此处输入图像描述](../Images/799a3c47b603f08f0f385c52625d9fbb.png)

我的文本框的 id`InstitutionName[1]`随着更多元素的添加而增加。

我使用下面的代码：

```
function ajax_connect_to_db()
{
    $('input[id^="InstitutionName"]')
    .autocomplete({
      minLength: 0,
      source: "new_account/get_institution_info_db",
      dataType: "json",
      focus: function( event, ui ) {
          $( this ).val( ui.item.institution_name );
          return false;
      },
      select: function( event, ui ) {
        // get unique textbox number inside brackets
        var str = $(this).attr('id');
        var pos = str.indexOf("[") + 1;
        var index = str.slice(pos, str.lastIndexOf("]"));

        // fill in the respective textboxes
        $(this).val( ui.item.institution_name );
        $( 'input[id="InstitutionID['+ index +']"]' ).val( ui.item.id );
        $( 'input[id="InstitutionMunicipality['+ index +']"]' ).val( ui.item.municipality );
        $( 'input[id="InstitutionProvince['+ index +']"]' ).val( ui.item.province );
        return false;
      }
    })
    .data( 'ui-autocomplete' )._renderItem = function( ul, item ) {
        return $( "<li></li>" )
            .data( "item.autocomplete", item )
            .append( 
              '<a class="select-group"><span class="mini-headtitle">' + item.institution_name + 
              '</span><br/><span class="mini-subtitle">' + item.municipality + '</span></a>' )
            .appendTo( ul );
    };
}  

// target newly added DOM textboxes
setInterval( ajax_connect_to_db, 100 ); 
```

**如何使选择框在所有动态添加的元素上显示其内容？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:56:55.150

尝试这个

```
function ajax_connect_to_db()
{

$(function() {

   .................
});

} 
```

# php - PHP中将字符串拆分为数组的最快方法

> ID：15498629
> 
> 赞同：3
> 
> 时间：2013-03-19T11:46:13.100
> 
> 标签：php, regex, arrays

我有一个 PHP 脚本，它使用 prey_split 将字符串拆分为数组。preg_split 代码是：

```
preg_split("~(?<!\*):~", $val); 
```

这实质上是在有冒号的地方分割字符串，没有前面的星号。例如：`"h*:el:lo"`变成`array("h*:el", "lo")`

在拆分大量字符串时，此过程非常耗费资源且速度较慢。有没有更快的方法来实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:54:36.540

你可以尝试这样的事情：

```
$string = "h*:el:lo";
$string = str_replace("*:", "#", $string);
$array = explode(":", $string); 
```

我不确定速度会怎样。但是一旦你从字符串中删除 *: 位，它就很容易爆炸。如果需要，也许您可​​以在操作后将 *: 放回原处。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:54:29.873

你需要使用`preg_split()`吗？因为它更容易使用`preg_match_all()`：

```
preg_match_all('/(?:^|:)([^*:]+(?:\*.[^*:]+)*)/', $subject, $result, PREG_PATTERN_ORDER);
$result = $result[1]; 
```

# ms-access - 查询查询中的 MS Access “双重计数”

> ID：15498636
> 
> 赞同：1
> 
> 时间：2013-03-19T11:46:31.290
> 
> 标签：ms-access

如果这个问题有点长，我很抱歉，但我想详细解释一下我正在尝试做什么。

我正在 MS Access 2010/Windows 7 中开发一个数据库，用于分析和报告组织中的事件（例如故障）。事件被报告为在特定位置的特定日期/时间开始特定持续时间。一个事件可能偶尔会导致一个或多个“实时弹性中断”（LRO），它们将具有相同的开始时间，但可能位于不同的位置并具有不同的持续时间。因此，例如，中央技术区的路由器停止服务 600 秒可能会分别导致工作室 5 和 6 的实时中断 60 秒和 30 秒。

我需要报告三个日期范围：相关月份、上个月和（财务，从 4 月开始）年初至今。例如，2012 年 3 月的报告将考虑 2012 年 3 月 1 日至 2012 年 3 月 31 日（月）、2012 年 2 月 1 日至 2012 年 2 月 29 日（之前）和 2011 年 4 月 1 日至 2012 年 3 月 31 日（年初至今）期间。

这些日期在名为 ReportCentre 的表单中正确计算。我有三个查询来返回不同日期范围的 LRO：`QueryLROMonth`，`QueryLROPrevious`并且`QueryLROYTD`所有这些查询都可以单独正常工作（即返回正确的值）。所以例如`QueryLROMonth`定义为

```
SELECT lro.*
FROM lro INNER JOIN incidents ON lro.pid = incidents.id
WHERE (((incidents.begin) Between [Forms]![ReportCentre].[StartMonth] And 
         [Forms]![ReportCentre].[EndMonth])); 
```

它返回预期值：

```
id  pid duration    facility
6   681   30            23
7   686  857            23
8   735  600            25
9   738  600            25 
```

与 YTD 查询一样

```
id  pid duration    facility
1   100 120     25
2   366 5       25
3   380 460     1
4   505 341     23
5   622 0       29
6   681 30      23
7   686 857     23
8   735 600     25
9   738 600     25
20  1297    50      1 
```

![一张图片胜过千言万语...](../Images/91548a3fdd55830a9c52f6b81c009c70.png)

到目前为止一切顺利，但现在让我感到困惑的是。我正在尝试设计另一个查询，它获取三个 LRO 查询（和其他一些数据）的输出，按设施对它们进行分组并计算可用性等内容。如果我设计一个总计查询并包括`Facilities`表（用于设施名称）和`QueryLROMonth`查询，例如

```
SELECT facilities.facility, Count(QueryLROMonth.id) AS lrocountmonth, Sum(QueryLROMonth.duration) AS lrosecondsmonth
FROM QueryLROMonth INNER JOIN facilities ON QueryLROMonth.facility = facilities.ID
GROUP BY facilities.facility; 
```

这工作正常并产生我所期望的。

```
facility    lrocountmonth   lrosecondsmonth
HQ3         2               887
HQ5         2               1200 
```

但是一旦我介绍了 YTD 查询：

```
SELECT facilities.facility, Count(QueryLROMonth.id) AS lrocountmonth, Sum(QueryLROMonth.duration) AS lrosecondsmonth, Count(QueryLROYTD.id) AS lrocountytd, Sum(QueryLROYTD.duration) AS lrosecondsytd
FROM QueryLROYTD INNER JOIN (QueryLROMonth INNER JOIN facilities ON QueryLROMonth.facility = facilities.ID) ON QueryLROYTD.facility = facilities.ID
GROUP BY facilities.facility; 
```

由于某种原因，东西开始被错误地报告。具体来说，这两`Count`列相乘在一起，所以`lrocountmonth`并且`lrosecondsmonth`都乘以`lrocountytd`。同样`lrocountytd`和`lrosecondsytd`都乘以`lrocountmonth`。

```
facility    lrocountmonth   lrosecondsmonth lrocountytd lrosecondsytd
HQ3     6       2661        6       2456
HQ5     8       4800        8       2650 
```

我究竟做错了什么？如何防止这种纠缠？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T13:11:51.337

您的 [QueryLROMonth] 和 [QueryLROYTD] 查询每个都返回每个 Facility 的多行，但是因为您只是在 Facility_ID 上有效地将它们连接起来，所以您正在生成各种 OUTER JOIN。例如，如果对于给定的设施，您的 [Month] 查询包含 3 行，而您的 [YTD] 查询包含 6 行，那么仅 Facility_ID 上的 JOIN 将产生 18 行。

您需要创建聚合查询，首先按设施“汇总”每月和 YTD 数字，因此它们每个设施只有一行。然后，您可以在最终查询中使用*它们*来生成报告。

故障排除提示：如果您的聚合查询产生奇怪的结果，请尝试删除 GROUP BY 部分，以便您可以看到正在聚合的基础行。

# php - 刷新页面时html选择菜单保持值

> ID：15498640
> 
> 赞同：0
> 
> 时间：2013-03-19T11:46:34.970
> 
> 标签：php, html, select, drop-down-menu

不是 100% 确定如何表达这个问题，但我目前正在用 html 和 php 编写一个小型 Web 应用程序，用于带有 Internet Explorer 的条形码扫描仪。我停留的页面允许用户从 html 中的选择菜单中选择一个位置，然后扫描条形码。扫描条形码时，数据所在的位置有一个编号字段，然后将编号提交给 php 脚本，该脚本更改数据库中的项目位置。但是当这个过程完成后，我将用户送回，我丢失了我的位置选择。

这是一个巨大的痛苦，因为用户在想要扫描一个项目时必须继续选择该位置，这在一个时间范围内扫描 200 个项目时不起作用。

我曾考虑过会话或使用 get 在 URL 中使用变量，但我在最初设置位置并可能在中途更改位置时遇到问题。

如果您需要，请提出任何问题，我希望这足够描述，

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:45:11.577

您可以在提交表单 (?location=selected_location) 时将所选位置附加到 URL，然后在重定向用户时获取它。

我希望这可以帮助你！如果您发布一些代码也会更容易。

# php - PDO FETCH_INTO - 仅映射现有属性

> ID：15498642
> 
> 赞同：2
> 
> 时间：2013-03-19T11:46:40.970
> 
> 标签：php, mysql, pdo, fetch

我想知道 PHP 中是否有一个仅映射类中现有属性的 fetch 方法？

例如，如果我的班级看起来像这样：

```
class Company {
    public $id;
} 
```

我的查询是这样的：

```
SELECT *
FROM companies
... 
```

然后返回的对象应该只包含`$id`，而没有其他内容。

那就是我希望类控制列，而不是查询。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:00:26.563

通过使用带有空主体的魔术方法 __set() 解决了它。永远不会创建所有不存在的属性。

```
function __set($property, $value) {

} 
```

# jquery - 选定的数据表行推到顶部

> ID：15498645
> 
> 赞同：-1
> 
> 时间：2013-03-19T11:46:46.240
> 
> 标签：jquery, datatable

如何在不排序的情况下将选定的行**推**到顶部？

或者，当我标记了一行时，右侧中心的**滚动菜单选择了 row 。**那么，它在数据**表的****中间**吗？

 *** * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T13:24:58.250

我通过简单地使用解决了这一切

```
$('#' + id)[0].scrollIntoView(); 
```**

# c# - 我可以在 winform 中可靠地使用 WPF 自定义控件吗？

> ID：15498649
> 
> 赞同：3
> 
> 时间：2013-03-19T11:46:57.233
> 
> 标签：c#, wpf, winforms, wpfdatagrid

我的要求是创建一个包含允许行扩展和显示其他详细信息的数据网格的 winform。我正在考虑使用 WPF 控件并在其中合并 WPF Datagrid 来处理此问题，利用 DataGrid 的 RowDetails 属性来处理行的扩展。

我对 WPF 和 Datagrid 的 RowDetails 属性完全陌生，所以现在只阅读它们。一旦我开发了这个控件，我是否可以在我的winform中使用它？尝试将 WPF 控件集成到我的 winform 中时，我可能会遇到什么问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:32:42.323

正如前两个答案所述，您必须使用 ElementHost。 [这里](https://www.simple-talk.com/dotnet/.net-framework/mixing-wpf-and-winforms/)有一个关于如何在 Winforms 中托管 WPF 和在 WPF 中托管 Winforms 的比较。当我开始使用它时，阅读比较对我有好处。在本文中，作者将您链接到[使用 Windows 窗体/WPF 互操作的陷阱](http://blogs.msdn.com/b/scoberry/archive/2006/09/01/735844.aspx)，您可能会遇到一些常见问题。

构建您的 WPF 控件，就像它是一个供应商控件一样，具有清晰的界面，然后只需使用 ElementHost 托管它。我不得不以两种方式使用它，但使用旧版控件，如果你在从其他平台带来的控件中有一个好的界面，它真的很有帮助，如果没有，它可能会有点混乱。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:15:20.220

我曾多次在 WinForm 上使用 WPF 控件。但是，我这样做的唯一方法是将其托管在 ElementHost 控件中。到那里后，我没有注意到任何重大问题，尽管我确实听说根据使用情况可能会怀疑性能。

# matlab - 从 Fortran 调用 Matlab

> ID：15498651
> 
> 赞同：0
> 
> 时间：2013-03-19T11:46:58.207
> 
> 标签：matlab, fortran

我正在尝试使用 CodeBlocks 作为我的 IDE 和 GNU Fortran 编译器作为我的编译器来运行 fengdemo.f。它运行良好，但无法构建对 matlab 引擎的任何方法调用

```
C:\Program Files\MATLAB\R2012b\extern\examples\eng_mat\fengdemo.F|51|undefined reference to `engopen_'|

C:\Program Files\MATLAB\R2012b\extern\examples\eng_mat\fengdemo.F|58|undefined reference to `mxcreatedoublematrix730_'|

C:\Program Files\MATLAB\R2012b\extern\examples\eng_mat\fengdemo.F|59|undefined reference to `mxgetpr_'|

C:\Program Files\MATLAB\R2012b\extern\examples\eng_mat\fengdemo.F|59|undefined reference to `mxcopyreal8toptr730_'|

C:\Program Files\MATLAB\R2012b\extern\examples\eng_mat\fengdemo.F|64|undefined reference to `engputvariable_'| 
```

ETC...

我试图在网上搜索，但在 Mathworks 或其他任何地方都找不到任何有用的信息。我还让 c++ 引擎演示工作，所以我的路径变量和其他类似的东西是正确的。

我根本不习惯使用 Fortran，因此不胜感激。

PS。fengdemo.f 在 extern/examples/eng_mat 下，所以我没有发布任何代码。

问题：没有 VFC 甚至可能吗？如果是这样，有人能指出我正确的方向吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-07T13:45:13.223

你也可以“手工”做一些事情。在 Fortran 中，您可以使用“系统”子例程来运行系统命令。例如，如果您在 Linux 环境中并且在 Fortran 代码中，则包含命令

```
call system("firefox http://stackoverflow.com/") 
```

fortran 程序将打开一个到 StackOverflow 的 firefox 选项卡/窗口。

您也可以在我阅读时从终端使用 MATLAB（我没有安装它）。例如，您可以调用以下命令来生成图表。

```
matlab -nosplash -nodesktop -r "ezplot('x')" 
```

因此，您可以创建一个 matlab 函数并通过 fortran 调用它。Walter Roberson 在[MATLAB Answers](http://www.mathworks.com/matlabcentral/answers/39067)上写道，您可以使用：

> `matlab -r 'myfunction(argument1,argument2)';`
> 
> 或更安全：
> 
> `matlab -r 'try myfunction(argument1,argument2); catch; end; quit'`

您还可以使用 Fortran 创建输入文件并在 MATLAB 中使用它。这不是一个自动解决方案，但它不需要特殊的编译器。但它取决于平台。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T13:18:29.133

如果您使用的是 Windows，则 MATLAB 支持的唯一 Fortran 编译器是 Intel Visual Fortran Composer。GNU Fortran 仅在 Linux 或 Mac 上受支持。

[http://www.mathworks.co.uk/support/compilers/R2013a/index.html](http://www.mathworks.co.uk/support/compilers/R2013a/index.html)

# java - Java - 是否有任何理由检查单例是否为空两次？

> ID：15498654
> 
> 赞同：8
> 
> 时间：2013-03-19T11:47:01.010
> 
> 标签：java, multithreading, concurrency, singleton

我遇到了一些代码，其中开发人员不断检查单例是否为 null 两次，其中嵌套了 if - 如下代码所示：

```
private static processManager singleton = null; 
```

...

```
public synchronized static processManager getInsatnce() throws Exception {

    if(singleton == null) {
      if(singleton == null){
             singleton = new processManager();
       }
     }
     return singleton
} 
```

我看不出这可能是什么原因，但是代码中有很多实例，所以认为可能有原因吗？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-19T11:48:43.857

您的代码没有正确演示案例。这源于*双重检查的*成语，它确实有意义：

```
// Double-check idiom for lazy initialization of instance fields.
private volatile FieldType field;
FieldType getField() {
    FieldType result = field;
    if (result == null) { // First check (no locking)
        synchronized(this) {
            result = field;
            if (result == null) // Second check (with locking)
                field = result = computeFieldValue();
        }
    }
    return result;
} 
```

[在这里](http://www.oracle.com/technetwork/articles/javase/bloch-effective-08-qa-140880.html)阅读它。

请注意，此习惯用法仅适用于**实例**字段。在您的问题中，您有一个`static`字段，在这种情况下，主要选择一个更简单的习语：*惰性初始化持有者类*习语：

```
// Lazy initialization holder class idiom for static fields
private static class FieldHolder {
    static final FieldType field = computeFieldValue();
}
static FieldType getField() { return FieldHolder.field; } 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-19T11:54:28.660

[**这是实现Double Checked Locking Idiom**](http://en.wikipedia.org/wiki/Double-checked_locking)的失败尝试。第一个`null`检查是查看实例是否已创建，如果已创建，则`not null`返回已创建的实例。

但是条件检查是一种*检查然后执行的*情况，并且**不是线程安全**的，因此有可能两个或多个线程将看到该值`null`并创建两个单例实例，*即**双**例*或ManyTon 。

 **所以我们使用`synchronized`这样只有一个线程进入该块并且只创建一个实例。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-19T11:51:54.653

我认为您指的是[Double Checked Locking](http://en.wikipedia.org/wiki/Double-checked_locking)。此模式允许您在不需要时避免同步。

你的代码应该是

```
private static volatile ProcessManager singleton = null;

public static ProcessManager getInstance() throws Exception {

    if (singleton == null) {
        synchronized (MyClass.class) {
            if (singleton == null) {
                singleton = new ProcessManager();
            }
        }
    }
    return singleton;
} 
```

所以你看我们只有在检查单例不为空时才同步，然后我们重新检查以防万一有人已经开始构建它。请注意，要使其正常工作，单例**必须是** `volatile`. [如果您](http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html)忘记了`volatile`.

在您的情况下，方法是同步的，您是对的。检查两次是没有意义的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T11:58:59.747

该技术称为双重检查。

但是，您粘贴的代码不正确。你是对的，以这种方式仔细检查空值是没有意义的。我会说双重检查的正确实施如下：

```
private static volatile ProcessManager instance = null;

public static ProcessManager getInstance() {
   if (instance == null) {
       synchronized(ProcessManager.class) {
         if (instance == null) {
            instance = new ProcessManager();
         }
      }
   }
   return instance;
} 
```

请注意，第二次空检查是在 ProcessManager.class 对象上同步的。这是必要的，因为 getInstance() 方法是静态方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-19T11:49:50.660

除非单例是在 getter 中创建实例的属性，否则这没有任何意义，但即使这样，这也没有任何意义，那么其余代码将无法访问。**

# ios - URL 方案 iOS

> ID：15498655
> 
> 赞同：-3
> 
> 时间：2013-03-19T11:47:05.523
> 
> 标签：ios, url-scheme

我们可以使用 URL 方案通过 iphone 消息应用程序启动我们的应用程序吗？可以通过 URL 方案通过我们的应用程序启动消息应用程序，反之亦然吗？如果是，请建议如何。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:49:48.300

如果您在应用的属性列表中定义了自定义 URL 方案，那么您可以通过单击消息或电子邮件中发送的链接通过电子邮件或消息打开您的应用。

假设您在属性列表中定义了 customURL，`yourlink`这意味着它将作为 `yourlink://`

您可以`MFMessageComposeViewControllerDelegate`用于撰写新消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:19:28.553

检查下面的链接，你会发现 URL Schemes 的实现

[http://www.idev101.com/code/Objective-C/custom_url_schemes.html](http://www.idev101.com/code/Objective-C/custom_url_schemes.html)

# xml - 如何根据子节点删除重复节点？

> ID：15498656
> 
> 赞同：1
> 
> 时间：2013-03-19T11:47:08.710
> 
> 标签：xml, xslt, xpath-2.0

假设我有以下序列：

```
<node-1> <children-A attr="100" /> </node-1>
<node-1> <children-A attr="200" /> </node-1>     <!--not a duplicate -->
<node-1> <children-B /> </node-1>
<node-1> <children-B /> </node-1>                <!-- duplicate off the above -->
<node-1> <children-A /> <children-B /> </node-1> <!--not a duplicate --> 
```

我想获得所有唯一的“node-1”，以便输出为：

```
<node-1> <children-A attr="100" /> </node-1>
<node-1> <children-A attr="200" /> </node-1>
<node-1> <children-B /> </node-1>
<node-1> <children-A /> <children-B /> </node-1> 
```

注意：仅`<node-1> <children-B /> </node-1>`已删除。

使用 Saxon 9.1.0.8，我已经尝试过`distinct-value($S)`，但返回类型是`xs:anyAtomicType`并且我不知道如何将其转换为正确的序列（如果可能的话！）。

但是，我可以`count(distinct-value($S))`用来检查返回的元素数量是否与唯一元素的实际数量匹配，实际上它确实匹配。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:41:28.450

使用[http://www.xsltfunctions.com/xsl/functx_distinct-deep.html](http://www.xsltfunctions.com/xsl/functx_distinct-deep.html)（反过来使用[http://www.xsltfunctions.com/xsl/functx_is-node-in-sequence-deep-equal.html](http://www.xsltfunctions.com/xsl/functx_is-node-in-sequence-deep-equal.html)其中在转而使用 XSLT/XPath 2.0 功能`deep-equal`）您可以使用`<xsl:variable name="distinct-seq" select="functx:distinct-deep($your-sequence)"/>`。

或者，如果您不想或不能包含 functx 库，则需要在

```
<xsl:variable name="distinct-seq"
  select="for $pos in (1 to count($your-sequence))
          return $your-sequence[$pos]
                               [not(some $node in $your-sequence[position() lt $pos] satisfies deep-equal(., $node))]"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T04:18:58.767

**这实际上是一个 XPath 2.0 问题。**

**使用**：

```
 for $vN in /*/*
     return
        $vN[not(/*/*[. >> $vN and deep-equal(., $vN)])] 
```

**基于 XSLT 2.0 的验证**：

```
<xsl:stylesheet version="2.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:template match="/">
  <xsl:sequence select=
  "for $vN in /*/*
     return
        $vN[not(/*/*[. >> $vN and deep-equal(., $vN)])]

  "/>
 </xsl:template>
</xsl:stylesheet> 
```

**当此转换应用于以下 XML 文档时**（提供的片段包装到单个顶部元素中）：

```
<t>
 <node-1> <children-A attr="100" /> </node-1>
 <node-1> <children-A attr="200" /> </node-1> 
 <node-1> <children-B /> </node-1>
 <node-1> <children-B /> </node-1> 
 <node-1> <children-A /> <children-B /> </node-1> 
</t> 
```

**产生了想要的正确结果：**

```
<node-1>
   <children-A attr="100"/>
</node-1>
<node-1>
   <children-A attr="200"/>
</node-1>
<node-1>
   <children-B/>
</node-1>
<node-1>
   <children-A/>
   <children-B/>
</node-1> 
```

# file - csh shell：使用文件中的变量进行数值运算

> ID：15498657
> 
> 赞同：1
> 
> 时间：2013-03-19T11:47:10.197
> 
> 标签：file, numbers, compare, csh, cat

我目前正在编写一个**csh shell 脚本**并想比较存储在**文件**中的数字。此文件中仅存储一个数字，例如**-3.675000e+05**或**0.000000e+00** 问题是，我收到一个错误：

```
 if: Expression Syntax. 
```

当我做：

```
 #!/bin/csh
 set var1 = `cat file1`
 set var2 = `cat file2`
 set var3 = `cat file3`

 set maxtmp = 0

 foreach kmax (va1 var2 var3)
   if ($kmax > $maxtmp) then
     set maxtmp = $kmax
   endif

 end 
```

我如何比较这些数字？

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T05:45:18.293

你的方法似乎有两个问题。

首先，数据文件中的科学记数法造成了一些困难。但是，我们可以使用该`printf`命令进行更正。如果将值的初始分配修改为以下

```
set var1 = `cat file1 | xargs printf "%f"`
set var2 = `cat file2 | xargs printf "%f"`
set var3 = `cat file3 | xargs printf "%f"` 
```

（或者，

```
set var1 = `cat file` ; set var1 = `printf "%f' $var1` 
```

如果您想避免使用该`xargs`命令）

这会将您的科学记数法数字（例如，-3.675000e+05）转换为一个简单的浮点值（例如，您的第一个示例中的 -36750.0000）。Csh 不在数字中的“e+”下，因此感到困惑。

但是，我们还没有完全走出困境。Csh 也不理解负值，所以我们需要另一个命令来整理它们；`bc`根据需要评估布尔查询。

`foreach`如下重写循环将正确评估比较

```
foreach kmax ( $var1 $var2 $var3 )
    if ( `echo "$kmax > $maxtmp" | bc` ) then
        set maxtmp = $kmax
    endif
end 
```

综上所述，您的脚本的以下版本似乎可以工作：

```
#! /bin/csh

set var1 = `cat file1 | xargs printf "%f"`
set var2 = `cat file2 | xargs printf "%f"`
set var3 = `cat file3 | xargs printf "%f"`

set maxtmp = 0

foreach kmax ($var1 $var2 $var3)
   if (`echo "$kmax > $maxtmp" | bc`) then
       set maxtmp = $kmax
   endif
end

echo $maxtmp 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T13:38:24.590

处理非数字值的问题-：

```
set maxtmp=0
foreach kmax ($var1 $var2 $var3)
   if ("$kmax" =~ *[^0-9]*)  then
      set kv=-99999
   else
      set kv=$kmax
   endif

   if ( $kv > $maxtmp) then
      set maxtmp = $kv
   endif
end

echo "max is $maxtmp" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T12:15:36.363

使用 $ 使变量的**值**进入 foreach 循环。

第一个变量也应该是`var1`.

```
 foreach kmax ($var1 $var2 $var3) 
```

# qt - Qt中窗口相对于屏幕的位置以及窗口的宽度和高度

> ID：15498658
> 
> 赞同：3
> 
> 时间：2013-03-19T11:47:12.017
> 
> 标签：qt, window, mouse-position

我正在使用 Qt 4.8 我正在尝试将鼠标光标绑定到我的应用程序的中心。

如果应用程序处于全屏状态，则可以使用以下代码

```
int  middleX = QApplication::desktop()->width() >> 1;
int  middleY = QApplication::desktop()->height() >> 1;

QPoint newMousePos;
newMousePos.setX(middleX);
newMousePos.setY(middleY);
QCursor::setPos(newMousePos); 
```

它有效。

**但是当应用程序不是全屏模式时，我该怎么做？** 我从网上尝试了一些代码，但我找不到它们工作。我知道我需要获取窗口的当前几何形状，即当前窗口位置 wrt 监视器以及窗口的宽度和高度。

但是要使用什么功能呢？

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T11:57:17.630

只需要这样：

```
QCursor::setPos(geometry().center()); 
```

这会将光标放在应用程序窗口主窗口小部件的死点，与屏幕上窗口的大小和位置无关。

# php - php 图片上传表单的风险？

> ID：15498666
> 
> 赞同：1
> 
> 时间：2013-03-19T11:47:36.900
> 
> 标签：php, apache

所以我有一个客户想要一个摄影网站，用户可以上传他们的照片以响应摄影比赛。虽然从技术上讲这不是问题，但我想知道与允许任何用户能够将任何图像上传到我的服务器相关的风险。感觉风险很大。。。

我正在考虑使用类似[http://www.w3schools.com/php/php_file_upload.asp](http://www.w3schools.com/php/php_file_upload.asp)

如果我确实让匿名用户上传文件，我如何保护图像（以及可能具有破坏性的文件）将上传到的目录？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:15:27.693

如果您想确保图像是真实图像，您可以使用 gd [http://www.php.net/gd加载](http://www.php.net/gd)

如果 gd 资源创建正确，则图像是真实图像

首先使用以下方法检测 mime：

```
getimagesize($filename); 
```

然后，例如，如果它是将 jpeg 加载到 gd 中：

```
$gdresource = imagecreatefromjpeg($filename); 
```

如果`$gdresource`有效/创建时没有警告，则图像有效且未损坏... `getimagesize()`（可能）不足以检测损坏的图像

另外，另一个重要注意事项...不要依赖，`$_FILES['blabla']['name']`因为它可能包含无效的 utf-8 序列（例如，假设您使用的是 utf-8）并且它可能是潜在的攻击机制，因为任何用户输入

所以你还需要验证/清理它

```
$originalFileName = $_FILES['blabla']['name'];
$safeOriginalFileName = iconv('UTF-8', 'UTF-8//IGNORE', $originalFileName);
// more additional checks here. for example filename is empty ""
move_uploaded_file(...., $safeOriginalFileName); 
```

另外，请记住`$_FILES['blabla']['name']`包含文件扩展名，这可能不正确。因此您需要将其剥离并使用实际正确的扩展名（您之前使用 解决`getimagesize() + imagecreatefrom*()`）

```
 $safeOriginalFileName = basename( $safeOriginalFileName ); // removes the extension
 $safeOriginalFileName = $safeOriginalFileName . ".jpg"; // correct extension 
```

希望这可以帮助 ：）

* * *

也正如 DaveRandom 指出的那样，不要依赖`$_FILES['blabla']['type']`，而是按照我的建议使用`getimagesize() + imagecreatefrom*()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:07:55.533

您将不得不进行一些研究，但主要是以下主要提示：

*   您可以拥有的基本安全措施是实际检查图像的 MIME 类型和扩展名。虽然这当然很容易伪造。

*   `readfile()`使用像,`fopen()`和之类的二进制安全函数`file_get_contents()`，我不记得究竟是哪些，但是有一些 php 函数在处理文件时存在安全问题，研究哪些是并避免它们。

*   有一些使用`preg_match()`和类似的功能将检查您正在阅读的文件中是否有类似于脚本的内容。使用它们来确保没有隐藏的脚本。这会稍微减慢这个过程，因为`preg_match()`读取大文件可能会耗费资源，但它不应该很明显

*   您还可以像电子邮件服务一样触发防病毒软件在上传的文件上运行。

据我所知，具有潜在破坏性的图像通常会包含脚本语言，例如用于尝试 XSS 攻击的 php 代码或 javascript，存在很多危险，所以我猜你不能保证文件 100% 安全，但请定期查看所有新的危险和避免它们的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T11:55:40.843

上传的文件存储在一个临时位置，这个位置可以在`$_FILES`变量中找到。

当您的脚本接受上传的文件时，您可以使用[`move_uploaded_file()`](http://us2.php.net/manual/en/function.move-uploaded-file.php)将其移动到您选择的位置。

因此，即使用户是匿名的，您也可以控制如何处理上传以及是否接受它们（例如，基于内容、大小等）。

此外，（匿名）用户提供文件和附带的详细信息。因此，如果您盲目地使用这些详细信息，那么您很容易受到攻击（有不良意图的用户可能会提供错误的详细信息，以使其合法化）。因此，如果您需要这些详细信息，请自己收集它们（而不是使用`$_FILES`）！

有关更多信息，请参阅[PHP 文档](http://us2.php.net/manual/en/features.file-upload.post-method.php)

# c# - 在鼠标悬停时更改标签前景，但标签位于按钮内容内

> ID：15498677
> 
> 赞同：2
> 
> 时间：2013-03-19T11:48:19.387
> 
> 标签：c#, wpf, xaml, button, mouseevent

我是 WPF 和 XAML 的新手，但在我读到这件事时仍然很棘手。我想在鼠标悬停时更改的是`Label`前景色，但标签位于按钮内容内部。一切都应该按样式完成，没有`C#`.

```
<Button Name="Home_Button" Height="50" VerticalAlignment="Top" Click="Home_Click" Background="Gray" Foreground="{x:Null}" BorderBrush="{x:Null}" BorderThickness="0">
   <DockPanel>
       <Image Source="Images/icons/home.png" HorizontalAlignment="Left" Margin="-90,0,0,0" />
       <Label VerticalAlignment="Center" HorizontalAlignment="Right"  Margin="0,0,-90,0" Foreground="LightGray" FontSize="12">Home</Label>
   </DockPanel>
</Button> 
```

我的样式设置如下所示：

```
<Style TargetType="{x:Type Button}" x:Key="MetroButton">
    <Setter Property="MinHeight" Value="25" />
    <Setter Property="FontWeight" Value="Bold" />
    <Setter Property="FontSize" Value="10" />
    <Setter Property="FontFamily" Value="{DynamicResource DefaultFont}" />
    <Setter Property="Background" Value="{DynamicResource GrayBrush7}" />
    <Setter Property="BorderBrush" Value="{DynamicResource TextBoxBorderBrush}" />
    <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
    <Setter Property="Padding" Value="5,6" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="Button">
                <Grid>
                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup x:Name="CommonStates">
                            <VisualState x:Name="Normal" />
                            <VisualState x:Name="MouseOver">
                                <Storyboard>
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="MouseOverBorder">
                                        <EasingDoubleKeyFrame KeyTime="0" Value="1" />
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Pressed">
                                <Storyboard>
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="PressedBorder">
                                        <EasingDoubleKeyFrame KeyTime="0" Value="1" />
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Disabled">
                                <Storyboard>
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity" Storyboard.TargetName="DisabledVisualElement">
                                        <SplineDoubleKeyFrame KeyTime="0" Value="0.7" />
                                    </DoubleAnimationUsingKeyFrames>
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="contentPresenter">
                                        <EasingDoubleKeyFrame KeyTime="0" Value="0.3" />
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </VisualState>
                        </VisualStateGroup>
                        <VisualStateGroup x:Name="FocusStates">
                            <VisualState x:Name="Focused">
                                <Storyboard>
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="ActiveContent">
                                        <EasingDoubleKeyFrame KeyTime="0" Value="1" />
                                    </DoubleAnimationUsingKeyFrames>
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="ActiveContent">
                                        <EasingDoubleKeyFrame KeyTime="0" Value="1" />
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Unfocused" />
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                    <Border x:Name="Background"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            Background="{TemplateBinding Background}" />
                    <Rectangle x:Name="DisabledVisualElement"
                               Fill="{DynamicResource ControlsDisabledBrush}"
                               IsHitTestVisible="false"
                               Opacity="0"
                               RadiusY="3"
                               RadiusX="3" />
                    <Border x:Name="MouseOverBorder"
                            Background="{DynamicResource GrayBrush8}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            Opacity="0" />
                    <Border x:Name="ActiveContent"
                            Background="LightGray"
                            Opacity="0" 
                            />
                    <Border x:Name="PressedBorder"
                            Background="{DynamicResource GrayBrush5}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            Opacity="0" />
                    <Rectangle x:Name="FocusRectangle"
                               Stroke="{DynamicResource TextBoxMouseOverInnerBorderBrush}"
                               RadiusY="4"
                               RadiusX="4"
                               Margin="-1"
                               Opacity="0" />
                    <Rectangle x:Name="FocusInnerRectangle"
                               StrokeThickness="{TemplateBinding BorderThickness}"
                               Stroke="{DynamicResource TextBoxMouseOverBorderBrush}"
                               RadiusX="3"
                               RadiusY="3"
                               Opacity="0" />
                    <ContentPresenter x:Name="contentPresenter"
                                      RecognizesAccessKey="True"
                                      ContentTemplate="{TemplateBinding ContentTemplate}"
                                      Content="{TemplateBinding Content, Converter={StaticResource ToUpperConverter}}"
                                      HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                      Margin="{TemplateBinding Padding}"
                                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                </Grid>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

现在我想改变`Foreground.Color`在里面`MouseOver`的。现在样式设置只改变了on 。`Label``Button``Background``Button``MouseOver`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:02:28.473

将 Label 的子样式放在按钮样式的 Style.Resources 中，这是一个精简的示例，但应该解释我想说的。

```
<Window x:Class="WpfApplication1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="350" Width="525">

    <Window.Resources>
        <Style TargetType="Button">
            <Style.Resources>
                <Style TargetType="Label">
                    <Style.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Foreground" Value="Green"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </Style.Resources>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="Blue"/>
                </Trigger>
            </Style.Triggers>
                <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid Background="Gray">
                            <Grid.RowDefinitions>
                                <RowDefinition />
                                <RowDefinition/>
                            </Grid.RowDefinitions>

                            <!-- This represents your image/-->
                            <Grid Grid.Row="0" Background="{TemplateBinding Background}"/>
                            <Label FontSize="20" Grid.Row="1" Content="{TemplateBinding Content}"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <Button Margin="172,122,131,79" Foreground="Green">
            test
        </Button>
    </Grid>
</Window> 
```

标签样式不适用于按钮之外的任何内容，如果您将鼠标悬停在按钮区域的任何部分上，它会将上半部分变为蓝色，但如果鼠标位于下半部分（即被标签覆盖）

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-19T12:00:35.753

尝试这个。

```
<Button Height="36" Margin="286,274,0,0" Width="74" MouseEnter="Button_MouseEnter_1">
       <Label x:Name="mylbl" Content="Test" MouseEnter="mylbl_MouseEnter"/>
</Button> 
```

后面的代码：

```
private void mylbl_MouseEnter(object sender, MouseEventArgs e)
{
      mylbl.Background = new SolidColorBrush(Colors.Red);
} 
```

# android - 将 zxing 条码扫描器嵌入到活动中

> ID：15498679
> 
> 赞同：1
> 
> 时间：2013-03-19T11:48:20.153
> 
> 标签：android, embed, zxing

我正在编写 android 应用程序，我的客户需要一个条形码扫描仪。他们真的很具体，所以他们想要的布局是这样的：

![在此处输入图像描述](../Images/f941a229b057f6c15f476a04ac2096f9.png)

如果找到二维码 - 它会自动跳转到另一个窗口。如果手动按下 - 您会被要求手动输入并继续应用程序的其余部分。

所以基本上我可以将 zxing 代码嵌入到我的应用程序中并将其添加到活动中，但我不希望这样，并且希望将它作为一个单独的应用程序。

我目前拥有的是一个单独的活动，如下所示：

```
IntentIntegrator integrator = new IntentIntegrator(this);
integrator.initiateScan(); 
```

我也试过这个：

```
IntentIntegrator intentIntegrator = new IntentIntegrator(this);
Intent i = intentIntegrator.initiateCustomScan();

LocalActivityManager mgr = getLocalActivityManager();

Window w = mgr.startActivity("unique_per_activity_string", i);
View wd = w != null ? w.getDecorView() : null;

if(wd != null) {
  scanButton.addView(wd);
} 
```

但后来我得到 java.lang.SecurityException：

```
03-19 12:22:55.890: E/AndroidRuntime(29394): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.menucard.barcode.scan/com.barcode.scan.ScanActivity}: java.lang.SecurityException: Requesting code from com.google.zxing.client.android (with uid 10139) to be run in process com.menucard.barcode.scan (with uid 10169) 
```

也许有人知道如何将单独的应用程序添加到我的活动中？或者其他方法来实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:16:45.083

@MindaugasSvirskas, your last comment is exactly what I was about to post now:-) I have faced the same problem in the past, in several apps, and believe me, just make use of Intents, that's the way the whole Android system is designed, favouring intercommunication between apps. iOS programmers can easily integrate the scanning Zxing layout in their own layouts, but we are supposed to make use of intents, and I agree.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T13:31:50.443

`Intent`不幸的是，您无法将外部应用程序嵌入到另一个应用程序中。对于初学者来说，这里的外部应用程序需要占据整个屏幕，并且处于横向模式。

您应该编写自己的应用程序，但可以在您的应用程序中重用 Barcode Scanner 的部分内容，这样它就不会完全从头开始。请不要复制`AndroidManifest.xml`文件。我认为考虑到不同的用户界面，它也不会与条形码扫描仪混淆。剩下的就是确保您遵守 Apache 许可证的条款（简单）。

# c# - 验证我的正则表达式是否按预期工作

> ID：15498683
> 
> 赞同：2
> 
> 时间：2013-03-19T11:48:26.137
> 
> 标签：c#, regex

这是我第一个用于生产代码的正则表达式，直到现在我一直避免自己编写它们，现在我有点担心它是否真的像预期的那样工作。我做了很多尝试试图打破它，但我真的不想依赖这个，尤其是当我的经验为零时。

我的正则表达式应该完全匹配这个模式

*   第一个字符必须是其中一个字母（不区分大小写） -`K,C,M,X,S,W`
*   第二个字符必须是一个数字`0-9`
*   连字符`-`
*   4 个字母数字字符（`A-Z`或`0-9`）（不区分大小写）和
*   一个字母 ( `A-Z`)（不区分大小写）。

就是这样。它不能更短，也不能更长，它必须完全匹配这个模式。我现在拥有的是：

```
string RegExPattern = @"^(K|C|M|X|S|W){1}[0-9]{1}[-]{1}[A-Z0-9]{4}[A-Z]{1}$";
if (!Regex.IsMatch(txtCode.Text, RegExPattern, RegexOptions.IgnoreCase))
{
    MessageBox.Show("Fail");
    return false;
} 
```

是否有任何工具或其他方式来验证正则表达式的行为，并且该正则表达式对于我上面解释的匹配模式是否正确？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-19T11:52:15.323

对，那是正确的。

但是，所有这些`{1}`都是多余的，您可以使用`|`运算符制作一组第一个字符，并且不需要为破折号设置一组：

```
string RegExPattern = @"^[KCMXSW][0-9]-[A-Z0-9]{4}[A-Z]$"; 
```

有用于编写和测试正则表达式的工具，但您只能使用它们来测试您能想到的输入中的任何变化，而且您似乎已经这样做了。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-19T11:50:47.187

验证和开发正则表达式的好工具：http: [//www.debuggex.com](http://www.debuggex.com)。尽管如此，我还是建议你用一堆单元测试来具体化你的正则表达式。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-19T11:53:29.990

最好的工具是一套单元测试，或者是一个迭代几十块文本的测试。

创建一个文本文件，其中包含一大堆文本行，这些文本行与将使用此模式的数据相似。确保有些行匹配，有些行不匹配规则的不同部分（例如：匹配除第一个字符之外的所有字符的模式，匹配除最后一个字符之外的所有字符的模式，仅包含 2 或 3 个字符的模式超过四个等

然后，编写一个小程序来读取每一行文本并针对它运行你的表达式。让它打印匹配行的行号，然后将该数字列表与您的预期结果进行比较。

# matlab - 如何在MATLAB中提取TRANSFER FUNCTION的符号系数

> ID：15498684
> 
> 赞同：3
> 
> 时间：2013-03-19T11:48:32.207
> 
> 标签：matlab, symbolic-math

如何在符号数学**MATLAB**中提取系数。

例如，我有传递函数

```
H(S) = (a*S^2 + b*S^ + a*c*S + d*a) / (S^3 + b*c*S^2 + d*S^1 + a*d) 
```

我想将 H(s) 中的“S”项的系数作为矢量数组，如

```
num = [a b a*c d*a]
den = [1 b*c d a*d] 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T12:05:38.753

您可以申请[`numden`](http://www.mathworks.com/help/symbolic/numden.html)提取分子和分母的多项式表达式：

```
[numexpr, denexpr] = numden(sym(H))  %// 'sym' makes sure that H is symbolic 
```

然后您可以`S`使用[`coeffs`](http://www.mathworks.com/help/symbolic/coeffs.html)命令提取符号系数（请记住先应用于[`expand`](http://www.mathworks.com/help/symbolic/expand.html)每个表达式以获得它们的多项式形式）。

但是，请注意，`coeffs`它只返回非零系数。为了克服这个问题，我建议如下：

```
%// Extract numerator coefficients
[numcoef, numpow] = coeffs(expand(numexpr), S);
num = rot90(sym(sym2poly(sum(numpow))), 2);
num(num ~= 0) = coeffs(expand(numexpr), S);

%// Extract denominator coefficients
[dencoef, denpow] = coeffs(expand(denexpr), S);
den = rot90(sym(sym2poly(sum(denpow))), 2);
den(den ~= 0) = coeffs(expand(denexpr), S); 
```

PS：您也可以使用MATLAB Exchange 中的[`sym2polys`工具](http://www.mathworks.com/matlabcentral/fileexchange/5805-sym2polys)`numexpr`来`denexpr`代替。

另请注意，系数向量中的最后一个元素与 的最高幂相关联更为常见`S`，因此此解决方案的结果将与您在问题中描述的顺序相反。

### 例子

```
%// Create symbolic function
syms a b S
H = b * S / (a + S^2)
[numexpr, denexpr] = numden(sym(H));

%// Extract numerator coefficients
[numcoef, numpow] = coeffs(expand(numexpr), S);
num = rot90(sym(sym2poly(sum(numpow))), 2);
num(num ~= 0) = coeffs(expand(numexpr), S);

%// Extract denominator coefficients
[dencoef, denpow] = coeffs(expand(denexpr), S);
den = rot90(sym(sym2poly(sum(denpow))), 2);
den(den ~= 0) = coeffs(expand(denexpr), S); 
```

结果是：

```
num =
    [0, b]

den =
    [a, 0, 1] 
```

# delphi - 创建指向类的新指针

> ID：15498699
> 
> 赞同：2
> 
> 时间：2013-03-19T11:48:59.733
> 
> 标签：delphi, class, pointers, pascal

我想创建一个指向名为“CustomParam”的类的指针，所以我声明

```
pCustomParam = ^CustomParam 
```

类 CustomParam 有以下类变量，应在构造函数中设置为 0：

```
var keyArray: array of String;
var valueArray: array of String;
var paramArray: array of pCustomParam;
var isParamArray: array of Boolean;
var size: Integer; 
```

构造函数看起来像这样：

```
constructor CustomParam.create;
begin
    inherited; 
    size:= 0;
    SetLength(keyArray,0);
    SetLength(valueArray,0);
    SetLength(isParamArray,0);
    SetLength(paramArray,0); 
end; 
```

并被这样宣布：

```
constructor create; overload; 
```

现在我尝试使用“new”创建指向 CustomParam 的指针，如下所示：

```
var pointerToCustomParam: pCustomParam; 
begin
new(pointerToCustomParam); 
```

但它不会跳转到 CustomParam 类的构造函数。如果我手动调用构造函数，如下所示：

```
pointerToCustomParam^.create; 
```

应用程序将在 SetLength 命令上崩溃。

我注意到的是，变量“pointerToCustomParam”在“new”函数之后直接得到了垃圾内容。

我希望你能帮助我并且信息足够了:)

谢谢 ：）

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-19T12:00:18.720

创建类型实例的正确方法是调用该类型的构造函数并将结果分配给该类型的变量：

```
var
  Param: CustomParam;

Param := CustomParam.Create; 
```

以这种方式创建的实例已经是引用，因此很少需要额外的指针。

如果你真的必须有一个指针，那么首先声明类型：

```
type
  PCustomParam = ^CustomParam; 
```

然后声明一个变量：

```
var
  Param: PCustomParam; 
```

为它指向的事物的内容分配内存：

```
New(Param); 
```

这不一定为它指向的 CustomParam 引用分配一个有效值，但如果是这样，则分配值 nil。最后，为新分配的内存分配一个值：

```
Param^ := CustomParam.Create; 
```

请注意我们仍然必须调用构造函数，并且我们永远不会在我们正在创建的对象上调用构造函数，因为在调用构造函数之前该对象不存在。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:40:58.710

你的问题是你的声明

pCustomParam = 自定义参数

将 pCustomParam 定义为 CustomParam 类型，而不是指向 Customparam 的指针。

因此`pointerToCustomParam`不会是 POINTER，而是 CustomParam - 因此是“垃圾内容”

尝试

pCustomParam = ^CustomParam;

# sql-server - 在 asp.net-mvc 中，如何重构我的 site.master 页面以支持 2 个不同的主视图？

> ID：15498701
> 
> 赞同：0
> 
> 时间：2013-03-19T11:49:09.013
> 
> 标签：sql-server, asp.net-mvc, master-pages, appsettings

我有一个团队 asp.net-mvc 网站，并且在我的 site.master 页面中

*   标题图片
*   一份菜单
*   我所有的 js 和 css 包括。

我现在需要将该站点用于两个不同的团队，我在两个不同的端口上运行该站点，每个团队只看到他们团队的信息（几乎相同的确切站点和相同的数据库，但只是不同的数据库过滤器）

我通过将它添加到我的控制器类来实现后端：

```
 string team = ConfigurationManager.AppSettings["Team"] 
```

并基于该值，它会更改我运行的数据库查询。效果很好，但现在我需要对前端进行一些调整（因为我意识到标题图像和一些菜单项也需要更改）

鉴于此，我现在需要重构 site.master，因为我需要使用相同的代码库来支持两个不同团队的视图，并且我想要

*   每个团队展示自己的headerImage
*   每个团队都有自己的菜单项
*   避免重复任何通用代码（如 css 和 js 包含）

（现在只是硬编码在 site.master 文件中）

我可以将所有代码复制并粘贴到不同的母版页（比如说 site2.master）并复制所有公共代码，但我想看看是否有能力在 2 个 master 之间分解出所有公共代码文件以避免重复。

另外，我试图弄清楚如何让我的代码根据配置条目动态地“找出”要使用的主文件。我正在考虑使用嵌套母版页，但这似乎不起作用，因为每个页面确实适用于 Team1 和 Team2，并且只需要动态设置。我希望避免在每个控制器操作上都有此开关代码的情况

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T13:45:20.947

由于您将有不同的菜单项（这是您所说的决定我的答案的主要部分），我相信两个主视图将是更好的方法，而不是任何一个：

> a) 主视图中的 If/Else 或
> 
> b）您必须在每个请求上解析的大量配置条目，以及
> 
> c) 如果要求或需要，为将来更多自定义主题提供更简单的途径。

但是，肯定有一些方法可以减少您需要编写的代码量并避免重复。以下是我推荐的一些建议

1.使用与数据库查询设置相同的逻辑来根据团队设置母版页。例子：

```
<appSettings>
   <add key="team" value = "WhateverYouAlreadyHave"/>
   <add key="layout" value = "~/Views/Shared/team.master"/>
</appSettings> 
```

2.在您的视图中，在顶部指定您的布局视图，如下所示：

```
@{
    ViewBag.Title = "My Page Title";
    Layout = @ConfigurationManager.AppSettings("layout");
} 
```

3.在您的主视图中，将我们的 JS 和 CSS 分解为一个共享的局部视图，您可以从主页面调用该视图

```
@{Html.RenderPartial("HeadContent");} 
```

我相信这可以实现您在布局信息中不重复自己的目标，并减少主视图中 If/Else 语句的潜在需求。最后，如果您不得不分离站点（不同的服务器或其他东西），您应该能够快速地做到这一点，而不会在您的视图中出现死代码。

最后，我认为另一种解决方案是保留单个布局文件，但反转进入共享局部视图的内容。这意味着您可以将标题图像存储为配置值以及共享的部分视图名称。在这种情况下，将您的菜单放在它们自己的局部视图中，您可以从单个主控器调用它。但是，如果您将来真的想提供自定义布局/外观/主题，那么使用单个母版页实现这一点会更有问题。

# php - JQuery 表单插件，无法在 PHP 中接收数据

> ID：15498702
> 
> 赞同：0
> 
> 时间：2013-03-19T11:49:18.057
> 
> 标签：php, jquery, plugins

我正在为 AJAX 文件上传器使用[JQuery 表单插件。](http://malsup.com/jquery/form/)

(html) 表单是**动态创建**的，如下所示：

```
<form id="formUpload" action="fileReceiver.php" method="post" enctype="multipart/form-data">
    <input type="file" name="fileUpload" multiple>
    <input type="submit" value="Upload File to Server">
</form> 
```

因为，表单是动态创建的，所以我使用 jquery on()。我还**需要发送一些变量**，我正在使用插件中的[数据选项](http://malsup.com/jquery/form/#options-object)。

Javascript 看起来像这样：

```
$(document).on("submit", "form#formUpload", function() {
    $(this).ajaxForm({
        data: { someVariable : 'someValue' },
        complete: function(xhr) {
            status.html(xhr.responseText);
        }
    }); 
}); 
```

我认为表单绑定正确，我可以通过 beforeSend 或 Success 选项从 ajaxForm（jquery 表单插件）函数调用/警告某些内容。

现在，问题是 PHP 无法获取我在 Javascript 中发布的数据。

我的 PHP 很简单，如下所示：

```
<?php
   echo $_POST["someVariable"];
?> 
```

它给了我错误“**注意：未定义的索引**：someVariable blah blah blah”

有什么建议吗？谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-14T12:40:07.883

如果您已经添加了 jQuery 表单插件，请尝试查找...

```
<script src="jquery.form.js"></script> 
```

根据[http://malsup.com/jquery/form/#options-object ，您的语法绝对正确](http://malsup.com/jquery/form/#options-object)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T15:37:26.893

好吧，如果您的表单是动态添加的，那么您必须使用`DOMNodeInserted`event 而不是`submit`. 这样，只要 DOM 中有一些添加，您的表单就会附加到表单插件。

您可以用以下内容替换您的功能 -

```
 $(document).on("DOMNodeInserted", "form#formUpload", function() {
        $(this).ajaxForm({
            data: { someVariable : 'someValue' },
            complete: function(xhr) {
                // do something 
            }
        });
    }); 
```

但是请记住，`DOMNodeInserted`只要在 DOM 中添加任何类型的内容，使用 event 就会触发该方法。所以只要把必要的东西（在这种情况下表单插件初始化`#formUpload`）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T12:17:35.700

尝试在表单内的隐藏输入中添加一些变量

```
<input type="hidden" name="someVariable" value="someValue"> 
```

并删除 $(document).on("submit",... 事件

你可以试试

```
var input = $("<input>").attr("type", "hidden").attr("name", "someVariable").val("someValue");
$('#formUpload').append($(input)); 
```

这个链接可以帮助你

[http://www.malsup.com/jquery/form/progress2.html](http://www.malsup.com/jquery/form/progress2.html)

[http://www.malsup.com/jquery/form/file-echo2.php.txt](http://www.malsup.com/jquery/form/file-echo2.php.txt)

# c - 计算哈希数的函数，它到底做了什么，为什么？

> ID：15498706
> 
> 赞同：5
> 
> 时间：2013-03-19T11:49:25.327
> 
> 标签：c, hash

我知道这个函数正在用哈希数做一些事情，但没有完全理解这个函数的目的？为什么是“res *31 + *key”？为什么是 31？

```
unsigned int HashAlg(char* key)
{
    unsigned int res = 0;

    while (*key != 0)
    {
        res = res * 31 + *key;
        ++key;
    }

    return res;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T12:02:37.960

该实现是 DJ Bernstein 的乘法字符串散列函数的变体：

```
unsigned djb_hash ( void *key, int len )
{
  unsigned char *p = key;
  unsigned h = 0;
  int i;

  for ( i = 0; i < len; i++ )
    h = 33 * h + p[i];

  return h;
} 
```

像这样的散列函数的目的是将搜索键（如字符串`"item1"`）映射到索引，然后可以在散列表、缓存等中使用该索引；简单地说，哈希值在表中为我们提供了`"item1"`应该存储相应记录的位置。反过来，哈希表用于实现关联数组和动态集。有关更多详细信息，我建议从[Wikipedia 页面](http://en.wikipedia.org/wiki/Hash_function#Hash_tables)开始。

您可以看到，在您的实现中，常量`33`已被切换为`31`. 没有多少真正的数学工作可以明确地证明素数和散列函数之间的关系。在散列函数中使用素数的基本概念围绕着变换散列函数的当前状态的概念（应用某种形式的数学运算，例如散列值的乘法或加法）。结果被限制为一个新的散列值，该散列值在统计上应该具有更高的熵值，或者换句话说，对于新散列值中的任何位，它的位偏差都非常低。简单来说，当您将一组随机数乘以一个素数时，结果数（在位级别分析时）应该不会显示出偏向于一个状态或另一个状态，即`P(Bi = 1) ~= 0.5`. 没有具体的证据表明情况确实如此，或者它只发生在素数上，这似乎是一种持续的自称直觉，我们似乎有义务遵循。这些属性是后验判断的，这意味着我们尝试使用选定的常数分析散列函数（或 PRNG）属性，并发展出一种直觉，即常数“运作良好”，即产生特定分布或展示雪崩效应，产生均匀分布特定的输入集等

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:01:15.937

> 为什么“res *31 + *key”

假设如果它只是`res = res + *key`; 然后哈希只会将键中的所有值相加。这将为 hello、elloh、olleh、loleh 等置换字符串产生相同的哈希值。乘以 > 1 的值会降低这种可能性。

> 为什么是 31？

可能是为了避免 2 的幂，它会简单地向左移动一个值并在几次移动后丢失它。2 的非幂避免了这个问题。

# c# - 字符串不在正则表达式中

> ID：15498707
> 
> 赞同：2
> 
> 时间：2013-03-19T11:49:26.877
> 
> 标签：c#, regex

我想使用正则表达式在字符串中查找匹配项。还有其他方法可以找到我正在寻找的模式，但我对 Regex 解决方案感兴趣。

考虑这些字符串

```
"ABC123"
"ABC245"
"ABC435"
"ABC Oh say can You see" 
```

我想匹配查找“ABC”，然后是“123”以外的任何内容。什么是正确的正则表达式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:20:40.157

试试下面的测试代码。这应该做你需要的

```
string s1 = "ABC123";
string s2 = "we ABC123 weew";
string s3 = "ABC435";
string s4 = "Can ABC Oh say can You see";
List<string> list = new List<string>() { s1, s2, s3, s4 };
Regex regex = new Regex(@".*(?<=.*ABC(?!.*123.*)).*");
Match m = null;
foreach (string s in list)
{
    m = regex.Match(s);
    if (m != null)
        Console.WriteLine(m.ToString());
} 
```

输出是：

```
ABC435
Can ABC Oh say can You see 
```

这同时使用了['Negative Lookahead' 和 'Positive Lookbehind'](http://www.regular-expressions.info/lookaround.html)。

我希望这有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T13:29:57.350

使用[负前瞻](http://regular-expressions.info/lookaround.html)：

```
/ABC(?!123)/ 
```

您可以检查字符串中是否存在匹配项`str`：

```
Regex.IsMatch(str, "ABC(?!123)") 
```

完整示例：

```
using System;
using System.Text.RegularExpressions;

public class Example
{
    public static void Main()
    {
        string[] strings = {
            "ABC123",
            "ABC245", 
            "ABC435",
            "ABC Oh say can You see"
        };
        string pattern = "ABC(?!123)";
        foreach (string str in strings)
        {
            Console.WriteLine(
                "\"{0}\" {1} match.", 
                str, Regex.IsMatch(str, pattern) ? "does" : "does not"
            );
        }
    }
} 
```

[**现场演示**](http://ideone.com/wQ7pMD)

唉，我上面的正则表达式`ABC`只要后面没有`123`. 如果您需要匹配之后的至少一个字符而不匹配（`ABC`即`123`不匹配`ABC`其自身/字符串的结尾），您可以使用`ABC(?!123).`，点确保您匹配`ABC`: [demo](http://ideone.com/BAeSsw)之后的至少一个字符。

我相信第一个 Regex 是您正在寻找的东西（只要 "nothing" 可以被认为是 "anything" `:P`）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T12:11:12.603

正则表达式的替代方案，如果您发现它更易于使用。只是一个建议。

```
 List<string> strs = new List<string>() { "ABC123",
                                           "ABC245",
                                           "ABC435",
                                           "NOTABC",
                                           "ABC Oh say can You see" 
                                          };
  for (int i = 0; i < strs.Count; i++)
  {
    //Set the current string variable
    string str = strs[i];
    //Get the index of "ABC"
    int index = str.IndexOf("ABC");
    //Do you want to remove if ABC doesn't exist?
    if (index == -1)
      continue;
    //Set the index to be the next character from ABC
    index += 3;
    //If the index is within the length with 3 extra characters (123)
    if (index <= str.Length && (index + 3) <= str.Length)
      if (str.Substring(index, 3) == "123")
        strs.RemoveAt(i);
  } 
```

# java - JFileChooser 从 JMenu 打开文件

> ID：15498709
> 
> 赞同：0
> 
> 时间：2013-03-19T11:49:31.093
> 
> 标签：java, file, jfilechooser, jmenu

当我单击 fileItem1 时，fileItem1 是一个 JMenuItem，**这就是您如何让它打开一个文件，然后在 JFrame 中显示该文件的名称：**

```
// open file
fileItem1.addActionListener(new ActionListener() {
    public void actionPerformed(ActionEvent e) {
        JFileChooser chooser = new JFileChooser();
        Component parent = null;
        int returnVal = chooser.showOpenDialog(parent);
        if(returnVal == JFileChooser.APPROVE_OPTION) {
               System.out.println("You chose to open this file: " + chooser.getSelectedFile().getName());
            }               
            jStyledTextPane.setText("You chose to open this file: " + chooser.getSelectedFile().getName());
        }
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-06T13:25:23.893

```
fileItem1.addActionListener(new ActionListener() {
    @Override
    public void actionPerformed(ActionEvent event) {
    JFileChooser fc = new JFileChooser();

    int returnVal = fc.showOpenDialog(YourClassName.this);

    if (returnVal == JFileChooser.APPROVE_OPTION) {
        File file = fc.getSelectedFile();
        filePath = file.getAbsolutePath();
        try {
        //your write to Jframe method
        } catch (FileNotFoundException e) {
        Logger.getLogger(YourClassName.class.getName()).log(
            Level.SEVERE, null, e);
        }

      }
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:01:34.123

我认为 Oracle 示例非常好：http: [//docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html](http://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html)

这是实现：

```
 int returnVal = fc.showOpenDialog(FileChooserDemo.this);

    if (returnVal == JFileChooser.APPROVE_OPTION) {
        File file = fc.getSelectedFile();
        //This is where a real application would open the file.
        log.append("Opening: " + file.getName() + "." + newline);
    } else {
        log.append("Open command cancelled by user." + newline);
    } 
```

# sql - 如何在 DB2 的内联 SELECT SQL 命令中使用变量（用于性能和维护）？

> ID：15498711
> 
> 赞同：0
> 
> 时间：2013-03-19T11:49:31.480
> 
> 标签：sql, variables, db2

我有一个这样的查询：

```
SELECT a, very_costly_function(b), another_fn(very_costly_function(b)) from X 
```

您会注意到very_costly_function(b) 被使用了两次，因此如果可以设置一个像这样的变量会很好：

```
SET FOR EACH ROW: Z = very_costly_function(b)
SELECT a, Z, another_fn(Z) from X 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:07:00.843

```
SELECT a, fn_b, another_fn(fn_b) AS a_fn_b
  FROM (SELECT a, very_costly_function(b) AS fn_b
          FROM x) 
```

这将为您节省开销。将值放入变量并再次使用它对于编译器来说会变得有点麻烦，很多时候你不能在前端或其他更高层的程序中直接使用这样的查询。如果一个查询可以完成这项工作，请使用它！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T12:01:25.823

将 a 和very_costly_function(b) 插入到临时表中。然后从临时表中选择a、函数结果和另一个函数（函数结果）。

# ruby - 如何在 Ruby 中将月份名称转换为月份整数？

> ID：15498723
> 
> 赞同：22
> 
> 时间：2013-03-19T11:49:56.033
> 
> 标签：ruby, date, datetime

如果我从一个字符串开始：“March”，我怎样才能得到那个月的整数？

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2013-03-19T11:51:00.773

使用[日期::MONTHNAMES](http://ruby-doc.org/stdlib-2.0/libdoc/date/rdoc/Date.html)：

```
Date::MONTHNAMES.index("June") 
=> 6 
```

另请注意，缩写月份名称有一个等价物 - [Date::ABBR_MONTHNAMES](http://ruby-doc.org/stdlib-2.0/libdoc/date/rdoc/Date.html)：

```
Date::ABBR_MONTHNAMES.index("Jun") 
=> 6 
```

# eclipse - Tomcat 服务器未在 45 秒内启动

> ID：15498724
> 
> 赞同：68
> 
> 时间：2013-03-19T11:49:56.197
> 
> 标签：eclipse, tomcat7

> 本地主机上的服务器 Tomcat v7.0 服务器无法在 101 秒内启动。如果服务器需要更多时间，请尝试在服务器编辑器中增加超时。

这是我的错误。我搜索了很多，但我无法找到解决方案请帮助我的人我将时间从 45 秒更改为 101 秒仍未解决，我删除了 eclipse 和 tomcat，我再次重新安装，但同样的问题发生了，请给出一些解决方案。

* * *

## 回答 #1

> 赞同：120
> 
> 时间：2013-10-07T13:18:08.813

尝试删除所有断点。还可以增加启动时间。

打开 Servers 视图 -> 双击 tomcat -> 下拉 Timeouts 部分

![在此处输入图像描述](../Images/48a0f87b196d118fa9d7fbe6f01f1f9e.png)

* * *

## 回答 #2

> 赞同：40
> 
> 时间：2014-11-03T08:27:55.237

我得到了满足您要求的解决方案。

我的 eclipse Luna 也遇到了同样的错误。

转到**Window** -> **Preferences**。

然后**General** -> **Network Connections**。

然后选择**Active Provider**作为**Manual**。

然后重启tomcat并运行。它会起作用的。

希望它会帮助你。

* * *

## 回答 #3

> 赞同：19
> 
> 时间：2017-02-25T12:04:37.447

打开服务器视图，打开超时并设置*开始*

[![添加开始](../Images/74d43811d396dde3bcaf78e8288ca3a2.png)](https://i.stack.imgur.com/xQ7nq.png)

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2017-01-31T11:48:03.600

打开服务器视图 -> 双击 tomcat -> 下拉超时部分，您可以增加每个特定服务器的启动时间。像 45 到 450

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2016-09-14T01:00:02.197

我知道这有点晚了，但我已经尝试了上面的一切，但没有任何效果。真正的问题是我正在使用休眠，所以它试图连接到 mysql 但无法连接，这就是它显示超时的原因。

只是为了让你们知道，我正在使用 RDS（亚马逊），所以只是为了进行测试，我更改为我的本地 mysql，它运行良好。

希望这个答案对某人有所帮助。

谢谢。

* * *

## 回答 #6

> 赞同：8
> 
> 时间：2017-05-14T06:42:02.650

在我的情况下，我使用的是 spring+hibernate 并忘记运行我的 MYSQL 服务器，因为 hibernate 没有被加载，因此抛出错误

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2014-02-19T19:58:12.160

我还遇到了 Eclipse Tomcat 服务器超时的问题，并尝试了所有建议，包括：

*   增加超时秒数
*   删除工作区目录中的各种 .metadata 文件
*   删除 Eclipse 中的服务器实例以及运行配置

直到我阅读了有关相关问题的评论并意识到我在一个大的代码更改后在拦截器类中添加了一个断点并且忘记将其关闭之前，没有任何效果。我删除了它和所有其他断点，并且 Tomcat 像往常一样立即启动。

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2014-01-08T23:47:03.463

禁用我的防病毒软件对我有用...

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2015-08-18T01:03:23.847

伙计们，我遇到了同样的问题，并尝试提高超时，删除服务器并再次创建，但没有成功。我在 Linux 中运行 Eclipse Kepler。@Phoenix 提出的解决方案对我有用：

```
Window -> Preferences -> General -> Network Connections 
```

手动设置 Active Providers，然后配置或不配置代理。我在“本机”中有这个选项。

然后我意识到我设置了变量 http_proxy。它是在 ~/.bashrc 文件中设置的。这个环境变量是许多问题的罪魁祸首。

一旦我将 http_proxy 设置为空

```
export http_proxy= 
```

检查它：

```
echo $http_proxy 
```

我能够在“Native”中保留“Active Provider”选项并解决超时问题。这很有用，因为 Eclipse 采用本机配置，以防您经常更改它。

在我的情况下，我在 ~./bashrc 中配置了 http_proxy，我不得不关闭 Eclipse，甚至注销并再次登录。

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2014-02-10T06:59:59.827

我曾尝试增加 tomcat 服务器的服务器启动时间，删除服务器并创建新服务器，删除服务器并更改运行时环境配置。那些东西对我不起作用。最后，我发现部署描述符（servlet-mapping 的 url 模式）是一个麻烦。

* * *

## 回答 #11

> 赞同：3
> 
> 时间：2017-08-19T09:50:05.963

只需按照以下几点即可。打开 Eclipse Windows -> 显示视图 -> 服务器 -> 双击 tomcat/按 Fn + F3 -> 超时 -> 增加启动时间保存设置并重新启动 eclipse 如果您不需要立即检查，也会从工作空间中删除 .metadata 文件夹。 .. 一切顺利

* * *

## 回答 #12

> 赞同：3
> 
> 时间：2017-04-19T18:23:12.130

下面为我​​工作。

删除了所有断点。然后在服务器上进行如下清洁。

右键单击服务器->单击清理。

* * *

## 回答 #13

> 赞同：2
> 
> 时间：2014-07-02T10:33:48.557

只是为了知识..也有同样的问题并解决了它停止并重新启动mysql服务......我认为这是mysql-service和tomcat之间的一些冲突。

祝你好运

* * *

## 回答 #14

> 赞同：2
> 
> 时间：2014-04-14T14:01:26.327

我遇到了同样的问题，我从服务器选项卡中删除了服务器，以及 Eclipse 工作区下的服务器文件夹，重新启动了 Eclipse，设置了一个新服务器，现在它似乎运行正常。

* * *

## 回答 #15

> 赞同：2
> 
> 时间：2015-06-04T09:56:54.913

只需从 Eclipse 中删除或删除服务器并重新配置它或将其再次添加到 Eclipse。

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2014-10-08T12:13:57.290

好吧，我尝试了所有解决方案：

*   增加超时秒数；
*   在 Eclipse 中删除服务器实例以及运行配置。

他们都没有工作。

和：

*   我的代码中没有断点；
*   我不使用任何防病毒软件。

我意识到有些人 - 有同样的问题 - 正在使用 Eclipse Helios（我也是）。

我切换到 Eclipse Kepler，它运行良好。

也许它可以成为一个解决方案。我想用 Helios，但 Kepler 没问题。

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2016-08-10T14:11:25.407

如果有人和我一样有关于服务器超时的问题，你可以在哪里找到它。此回复可以帮助您。

单击**窗口 > 显示视图 > 服务器**。当您在服务器上时，您将看到您之前配置的服务器。之后，右键单击您的服务器配置，转到**Properties > General**并单击**Switch Location**。单击“切换位置”后，服务器配置将出现在**eclipse 的 Package Explorer 中**。然后**双击包资源管理器中的服务器文件，**您将看到**超时**所在的位置。

谢谢你。

* * *

## 回答 #18

> 赞同：1
> 
> 时间：2017-01-12T15:02:02.897

以上方法均不适用于我，但这一点 - 1\. 如果在安装 Tomcat 时已配置，请删除任何项目。2.右键单击配置的服务器->清理和->清理tomcat工作目录

做了几次，问题解决了。谢谢。

* * *

## 回答 #19

> 赞同：1
> 
> 时间：2020-04-10T05:07:37.407

尝试清理 Tomcat 工作目录，它对我有用

* * *

## 回答 #20

> 赞同：1
> 
> 时间：2016-03-28T06:01:42.810

在我的情况下，tomcat 被配置为不在 localhost 上启动（猜测它来自 servers.xml 连接器条目），因此 Eclipse 无法在启动后发现它正在运行。`Host name`在`Servers`标签上更改为我的`192.168.xxx.yyy`ip。

有同样的错误信息，虽然 tomcat 确实成功启动了，但随后 Eclipse 将其关闭。

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2017-11-29T02:55:04.757

超时：

*   开始：200
*   停止：45

..然后窗口→首选项→常规→网络连接。

设置`"Active Provider" = Manual`（标记所有复选框）。

* * *

## 回答 #22

> 赞同：0
> 
> 时间：2015-07-16T06:17:29.613

您的浏览器是否在启动时调用服务器？如果是，您可能应该关闭它，例如，如果您的浏览器当前设置为[http://localhost](http://localhost)，请在尝试启动服务器之前关闭它。

* * *

## 回答 #23

> 赞同：0
> 
> 时间：2017-09-12T03:00:01.120

如果您在 Mac 上遇到此问题，并且`brew`使用 .

到[这里](https://tomcat.apache.org/download-70.cgi)，下载一个 zip 文件，解压缩，然后在 Eclipse 中，创建一个新服务器并指定“Tomcat 安装目录”作为解压缩文件。

* * *

## 回答 #24

> 赞同：0
> 
> 时间：2016-07-03T10:18:21.323

如果您尝试在服务器上调试应用程序，只需检查断点。您可能已经将整个班级作为断点。所以删除那个断点。

当我尝试调试时，这件事在我的情况下有效。

* * *

## 回答 #25

> 赞同：0
> 
> 时间：2016-07-03T13:23:56.657

我也面临类似的问题，在这里我找到了另一个解决方案。

我刚刚启动 Eclipse Luna，还没有开发/部署任何项目。我尝试添加`Tomcat v7.0 Server`并得到同样的错误。

为了解决我去的问题`Server Perspective`（它实际上是位于代码下方的控制台选项卡旁边的服务器选项卡`Project`）。双击添加到 Eclipse 的服务器。它将打开**概述**页面。查找服务器位置并选择**使用工作区元数据（不修改 Tomcat 位置）**。现在重新启动服务器，错误将消失。

> Server >（双击）Tomcat v7.0 Server at localhost >（Overview page）Server Location > Select -- **Use workspace metadata（不修改Tomcat位置）**。

* * *

## 回答 #26

> 赞同：0
> 
> 时间：2016-09-13T12:55:50.507

Tomcat 服务器未在 45 秒内启动

右击配置的服务器进入属性->选择监控->添加->HTTP协议8080

运行服务器后，它将部署。

* * *

## 回答 #27

> 赞同：0
> 
> 时间：2016-12-27T14:22:42.400

我停止了计算机上的tomcat，并使用eclipse IDE启动了服务（tomcat）。

* * *

## 回答 #28

> 赞同：0
> 
> 时间：2018-01-03T09:50:20.390

的 URL 模式`<servlet-mapping>`：

检查项目资源管理器 → 部署描述符 → Servlet 映射 → 检查控制器包中是否存在所有映射。参考。图片如下：

[![店铺项目参考](../Images/6c2a94d04d1383466f78642d6f60a1bb.png)](https://i.stack.imgur.com/5QWU5.png)

如果有任何映射不可用，则将其删除`<servlet>`并`<servlet-mapping>`标记在`web.xml`.

* * *

## 回答 #29

> 赞同：0
> 
> 时间：2016-08-26T13:58:56.110

以上没有任何帮助我，但设置：

-Djava.net.preferIPv4Stack=true

作为 Tomcat 服务器调试配置设置的 VM 参数选项卡中的 VM 参数解决了该问题。（Tomcat 8、Windows 10、Eclipse Mars）

* * *

## 回答 #30

> 赞同：0
> 
> 时间：2019-08-09T15:13:45.330

事实证明 MySQL 没有在我的情况下运行。我已经启动了 MySQL 服务，并且它有效。

* * *

## 回答 #31

> 赞同：0
> 
> 时间：2020-04-21T09:42:40.343

如果您使用的是 Oracle/Mysql 等任何数据库，请首先检查此数据库服务是否已启动

* * *

## 回答 #32

> 赞同：-1
> 
> 时间：2016-10-02T00:52:04.923

您需要检查您的弹簧上下文是否有此语句

```
<property name="MaxTotal" value="30"></property> 
```

如果您的项目有超过 7 个 DAO 将无法工作，因为它不会创建 8 个连接。

我的项目：

```
<bean id="mysqlDataSource" class="org.apache.commons.dbcp2.BasicDataSource">
    <property name="driverClassName" value="com.mysql.jdbc.Driver"></property>
    <property name="url" value="jdbc:mysql://localhost/(name of your schema)"></property>
    <property name="username" value="root"></property>
    <property name="password" value="root"></property>
    <property name="MaxTotal" value="(numbers of DAO)"></property>
</bean> 
```

* * *

## 回答 #33

> 赞同：-1
> 
> 时间：2019-08-29T00:28:44.540

在我的情况下，这是 JVM 空间容量（堆和永久区域）问题，它在为 Tomcat 服务器添加参数配置（运行配置，参数）后工作。

```
-Xms512m -Xmx1536m -XX:MaxPermSize=512m -Djava.util.Arrays.useLegacyMergeSort=true 
```

# html - 仅在给定填充底部的情况下，如何垂直居中灵活高度的容器？

> ID：15498726
> 
> 赞同：0
> 
> 时间：2013-03-19T11:50:21.820
> 
> 标签：html, css

我使用 padding-bottom 方法创建了一个相对灵活的布局宽度灵活的高度。

现在我真的很难将块浮动项目（参见 FIDDLE [http://jsfiddle.net/nZmr5/](http://jsfiddle.net/nZmr5/)）垂直居中。有人有想法在没有 javascript 的情况下实现这一点吗？

这是我的结构：

```
 <HTML>

<HEAD>
<TITLE>My new webpage</TITLE>
<style>
body, html {
    top:0;
    left:0;
    margin:0;
    background-color:green;
    width:100%;
    overflow:hidden;
}
.floating-item{
    padding-top:0;
    margin:0;
    top:0;
    left:0;
    width:100%;
    padding-bottom:0.1%;
    position:relative;
    background-color:red;
    border: 1px black solid;
}
.item{
background-color:white;
float:left;
width:20%;
padding-bottom:1%;
margin-left:4%;
margin-top:1%;
}

</style>

</HEAD>

<BODY>
<div class="floating-item">
<div class="item"></div>
<div class="item"></div>
<div class="item"></div>
<div class="item"></div>
<div class="item"></div>
<div class="item"></div>
<div class="item"></div>
<div class="item"></div>
<div class="item"></div>
<div class="item"></div>
<div class="item"></div>
<div class="item"></div>
</div>
</BODY>

</HTML> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:45:27.190

如果要垂直对齐容器，则需要将高度设置`body`为 100% 并赋予`.floating-item`a`margin-top:50%`和`bottom:50%`（或`top:-50%`）。看到这个演示：http: [//jsfiddle.net/nZmr5/3/embedded/result/](http://jsfiddle.net/nZmr5/3/embedded/result/)

此方法将容器垂直居中于主体，但在调整浏览器大小时不会更新位置，因为容器的高度会即时更改。如果您需要更可靠的对齐方式，则需要提供固定高度，`.floating-item`除非您每次页面加载时都对对齐方式感到满意。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-19T11:58:08.583

这是你要找的吗？

```
.floating-item{
    padding-top:0;
    margin:0;
    top:50%;
    left:0;
    width:100%;
    padding-bottom:0.1%;
    position:absolute;
    background-color:red;
    border: 1px black solid;
} 
```

# javascript - 如何在 Tizen 中实现 oAuth 2.0

> ID：15498728
> 
> 赞同：2
> 
> 时间：2013-03-19T11:50:23.750
> 
> 标签：javascript, jquery, oauth-2.0, tizen, tizen-web-app

我正在尝试在 Tizen 中使用 oAuth 2.0 实现 google 身份验证。我正在按照[这里](https://developers.google.com/accounts/docs/OAuth2ForDevices "将 OAuth 2.0 用于设备 - Google 帐户身份验证和授权 — Google Developers")的步骤进行操作。根据链接中的说明，我可以获得用户代码。但我总是收到获取访问和刷新令牌的无效请求。我的要求如下。

```
var urlToken ="https://accounts.google.com/o/oauth2/token?"+ 
        encodeURI("client_id=<<my client id>>&" +
        "client_secret=<<my client secret>>&" + 
        "code=<<Device code received in first step>>&" +
        "grant_type=authorization_code");
$.ajax({
    url:urlToken,
    type:"POST",        
    headers:{
        "Content-Type": "application/x-www-form-urlencoded",
        "Content-length" : "250"
    },
    accepts: "applicatin/json",
    success:function(response){
        console.log("access token response success");
        console.log(response.access_token)
    },
    error:failure
}); 
```

我无法弄清楚出了什么问题。请更新它，还有其他方法可以实现它。

**注意：**我正在尝试从 Tizen Webapp 实现这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T13:53:46.397

我得到了使用以下代码的东西。我在查询字符串中标记数据以及明确设置内容类型和内容长度时犯了一个错误。内容类型默认为“application/x-www-form-urlencode”。通过随机点击得到解决方案。

```
var urlToken ="https://accounts.google.com/o/oauth2/token"+ 
var dataValue = "client_id=<<my client id>>&" +
        "client_secret=<<my client secret>>&" + 
        "code=<<Device code received in first step>>&" +
        "grant_type=http://oauth.net/grant_type/device/1.0";
$.ajax({
    url:urlToken,
    data:dataValue,
    crossDomain:true,
    type:"POST",
    success:function(response){
      if(response.error != null){
            <<Call the same function again>>;
        }
        else{
            console.log("Access Token :" + response.access_token);
            console.log("Token Type : " + response.token_type);
            console.log("Expires : " + response.expires_in);
            console.log("Refresh Token : " + response.refresh_token);
        }
    },
    error:failure
}); 
```

谢谢[WTK](https://stackoverflow.com/users/909376/wtk)

我相信[这](https://developers.google.com/youtube/v3/guides/authentication)会[有所](https://developers.google.com/accounts/docs/OAuth2ForDevices)帮助

# javascript - 正则表达式测试至少一个数字，可以是字母数字，并且应该允许一些特殊字符

> ID：15498730
> 
> 赞同：0
> 
> 时间：2013-03-19T11:50:45.390
> 
> 标签：javascript, regex

我正在为以下要求编写邮政编码的正则表达式。

1.  它必须包含至少 1 个数字；
2.  它可以是字母数字；
3.  只允许特殊字符是`-`,`space`和/或`#`.

虽然看起来很简单，但是我写不出来。我是正则表达式的新手，并且对正则表达式没有顺利的时间。

请提出解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:00:28.667

像这样的东西？

```
/^(?=.*\d)[a-zA-Z\d #-]+$/ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:25:35.163

**只需尝试以下示例：**

***HTML部分：***

```
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type="text/javascript">
$(document).ready(function () {
var zipcode_expression = /^(?=.*\d)[a-zA-Z\d # ,-]+$/;
if (zipcode_expression.test($.trim($('#zipcode').val())) == false){
    alert('invalid zipcode');
}
});
</script>
<input type="text" name="zipcode" id="zipcode" value="jo h,n1#-"> 
```

我认为这可以帮助您解决问题。

# asp.net - 我如何获取图像上传值

> ID：15498734
> 
> 赞同：0
> 
> 时间：2013-03-19T11:50:50.083
> 
> 标签：asp.net

在我的 .aspx 中，

```
<div id="pictureBox">
                            <img width="150" height="150" runat="server" id="imageField" />
                        </div>
                        <br />
                        <input id="Upload" style="width: 200px; font-family: Myanmar3;" type="file" name="Upload"
                            runat="server" accept="image/*" >
                        <br />
                        <asp:Button ID="ImageButton1" runat="server" OnClick="upload_Click" CssClass="styleButton"
                            Text="Upload" /> 
```

在我的 .cs 中，

```
 protected void upload_Click(object sender, EventArgs e)
    {  
        if (Upload.Value !="")
        {
            System.IO.Stream fs = Upload.PostedFile.InputStream;
            img_uploadStream = Upload.PostedFile.InputStream;
            System.IO.BinaryReader br = new System.IO.BinaryReader(fs);
            Byte[] bytes = CreateThumbnail(br.ReadBytes((Int32)fs.Length),150);
            string base64String = Convert.ToBase64String(bytes, 0, bytes.Length);
            imageField.Src = String.Format("data:{0};base64,{1}", "image/jpeg", base64String);

        }
    } 
```

图片已上传并在“imageField”中显示成功，但“upload_Click”事件发生后“Upload”输入的value字段为空。我想把这个值拿回来做另一个过程！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:00:26.470

你不能。当用户选择文件并单击按钮时，该文件从客户端发布到服务器。稍后它将始终为空，除非用户再次选择它。如果您再次需要它以进行进一步处理，您可以将文件本地保存在服务器上。

# c# - 如何合并两个排序功能？

> ID：15498735
> 
> 赞同：2
> 
> 时间：2013-03-19T11:50:51.443
> 
> 标签：c#, list, sorting

我正在使用以下类按`type`成员对列表进行排序：

```
public class CameraSortByType : IComparer<Camera>
{
    private bool asc;

    public CameraSortByType(bool a)
    {
        this.asc = a;
    }

    public int Compare(Camera x, Camera y)
    {
        if (x.type > y.type)
            return asc? -1 : 1;
        if (x.type < y.type)
            return asc? 1 : -1;
        else
            return 0;
    }
} 
```

我还按以下方式对相同的列表进行排序`name`：

```
myList.Sort((s1, s2) => s2.name.CompareTo(s1.name)); 
```

如何将按名称排序合并到按类型排序的类中？所以当我按类型排序时，它也按名称排序？

更新：Linq 版本

```
var primarySortResult = primarySort ? CameraStorage.CameraList.OrderBy(x => x.type) : CameraStorage.CameraList.OrderByDescending(x => x.type);
var secondarySortResult = secondarySort ? primarySortResult.ThenBy(x => x.name) : primarySortResult.ThenByDescending(x => x.name);
CameraStorage.CameraList = secondarySortResult.ToList(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:08:57.297

如果 LINQ 是一个选项，您可以使用以下运算符来创建有序序列：

*   [OrderBy](http://msdn.microsoft.com/en-us/library/bb534966.aspx) - 按升序对序列的元素进行排序
*   [OrderByDescending](http://msdn.microsoft.com/en-us/library/bb534855.aspx) - 按降序排序
*   [ThenBy](http://msdn.microsoft.com/en-us/library/bb534743.aspx) - 按升序对序列中的元素进行后续排序
*   [ThenByDescending](http://msdn.microsoft.com/en-us/library/bb534736.aspx) - 后续降序

样本：

```
var orderedList = myList.OrderBy(x => x.type)
                        .ThenByDescending(x => x.name)
                        .ToList(); 
```

如果您需要根据某些条件订购：

```
var result = ascendingByType ? myList.OrderBy(x => x.type) :
                               myList.OrderByDescending(x => x.type);

if (orderByNameRequired)
{
    result = ascendingByName ? result.ThenBy(x => x.name) :
                               result.ThenByDescending(x => x.name);
}

orderedList = result.ToList(); 
```

还可以考虑使用[Dynamic Linq](http://weblogs.asp.net/scottgu/archive/2008/01/07/dynamic-linq-part-1-using-the-linq-dynamic-query-library.aspx)。

* * *

这里还有一个比较器实现，用于对两个属性进行排序（这里还要考虑空值处理）：

```
public class CameraComparer : IComparer<Camera>
{
    private SortDirection typeSortDirection;
    private SortDirection nameSortDirection;

    public CameraComparer(SortDirection typeSortDirection, 
                          SortDirection nameSortDirection)
    {
        this.typeSortDirection = typeSortDirection;
        this.nameSortDirection = nameSortDirection;
    }

    public int Compare(Camera x, Camera y)
    {
        if (x.Type == y.Type)
            return x.Name.CompareTo(y.Name) * 
           (nameSortDirection == SortDirection.Ascending ? 1 : -1);

        return x.Type.CompareTo(y.Type) * 
           (typeSortDirection == SortDirection.Ascending ? 1 : -1);
    }
}

public enum SortDirection
{
    Ascending,
    Descending
} 
```

用法：

```
myList.Sort(new CameraComparer(SortDirection.Ascending, SortDirection.Descending)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T12:04:26.063

我将[`Tuple`s](http://msdn.microsoft.com/en-us/library/dd268536.aspx)用于这样的情况：

```
public int Compare(Camera x, Camera y) {
    var xx = Tuple.Create(x.name, x.type);
    var yy = Tuple.Create(y.name, y.type);
    return xx.CompareTo(yy);
} 
```

也就是说，假设您要以相同的顺序比较所有属性。如果不是，我*认为*`name`您可以通过执行以下操作来反转考虑属性（例如）的顺序：

```
var xx = Tuple.Create(y.name, x.type);
var yy = Tuple.Create(x.name, y.type); 
```

也就是说，把它放在“错误的”元组中。但是我根本没有测试过这部分。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T11:56:31.557

```
public int Compare(Camera x, Camera y)
{
    if (x.type > y.type)
        return asc ? -1 : 1;

    if (x.type < y.type)
        return asc ? 1 : -1;

    if (x.name.CompareTo(y.name) > 0)
        return asc ? -1 : 1;

    if (x.name.CompareTo(y.name) < 0)
        return asc ? 1 : -1;

    return 0;
} 
```

# highcharts - 0 值的对数图

> ID：15498740
> 
> 赞同：2
> 
> 时间：2013-03-19T11:50:57.843
> 
> 标签：highcharts, logarithm

我使用 Highcharts 创建了一个新的对数图。但有时我的值为 0 :( 我的游戏中没有玩家。

问：如何在对数图上显示 0 值？（注：log0 = 无限）

我已将所有值从 0 更改为 0.01，但现在它出现在所有值均为 0.01 时，图表如下所示：

![在此处输入图像描述](../Images/dc1e479157bd36d72ab9bc0f7b5de240.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T12:01:13.273

将所有 0 值更改为`null`.

# c++ - C++ 中的 STL 和重载

> ID：15498745
> 
> 赞同：2
> 
> 时间：2013-03-19T11:51:14.287
> 
> 标签：c++, stl, operator-overloading

我已经从节点中创建了一个双向链表。我正在使用 STL。我在`operator++`函数中遇到错误。这是我的`Iterator<T>`课。

```
#include "Node.h"
#include <iostream>
using namespace std;

template<class T> class Iterator{
public:
    Iterator();
    ~Iterator();
    Node<T> *node;
    void operator++(Iterator<T> val);
    void operator--();
    T operator*();
private:

};

template<class T>
Iterator<T>::Iterator(){
    node = 0;
}

template<class T>
Iterator<T>::~Iterator(){

}

template<class T>
void Iterator<T>::operator++(Iterator<T> val){
    if(node != 0){
        node = node->next;
    }
}

template<class T>
void Iterator<T>::operator--(){
    if(node != 0)
        node = node->prev;
}

template<class T>
T Iterator<T>::operator*(){
    if(node == 0){
        cout << "Node no exists!";
    }

    else{
        return node->value;
    }
} 
```

我的`main`功能也收到警告。

```
#include <iostream>
#include "List.h"

using namespace std;

int main()
{

    List<int> mylist;

    for(int i = 2; i < 10; i++){
        mylist.push_back(i);
    }

    Iterator<int> it = mylist.begin();

    while(it.node->next != 0){
        cout << it.node->value << "\n";
        it++;
    }

    mylist.pop_front();
    cout << mylist.front() << ", ";
    cout << mylist.back();
    return 0;

} 
```

> **错误和警告**
> 
> F:\New folder\C++\Lab14\Iterator.h||在'class Iterator'的实例化中:|
> 
> F:\New 文件夹\C++\Lab14\main.cpp|15|从这里需要|
> 
> F:\New folder\C++\Lab14\Iterator.h|29|error: postfix 'void Iterator::operator++ (Iterator) [with T = int]' must take 'int' 作为它的参数|
> 
> F:\新建文件夹\C++\Lab14\main.cpp||在函数'int main()'中:|
> 
> F:\New 文件夹\C++\Lab14\main.cpp|19|错误：没有为后缀“++”声明的“operator++(int)”[-fpermissive]|

顺便说一句，我也计划对其他运营商做同样的事情。`operator*`不是用于乘法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T11:56:18.883

`operator++`必须要么接受一个`int`参数，要么不接受：

```
void operator++(int);
void operator++(); 
```

第一个是 postfix 的重载，`++`第二个是 prefix的重载`++`。该`int`论点只是为了允许发生正确的重载；它的值是未指定的。

您的当前声明`operator++`如下所示：

```
void operator++(Iterator<T> val); 
```

似乎您期望正在递增的对象作为参数传递。实际上，对象就是 所指向的对象`this`。你会`operator++`像这样实现你的：

```
template<class T>
Iterator<T> Iterator<T>::operator++(int) {
    Iterator<T> copy = *this;
    if(node != 0) {
        node = node->next;
    }
    return copy;
} 
```

`node`请注意，在更改其成员之前，我还返回了该对象的副本。这通常是后缀增量运算符的预期。

要获得前缀增量，请不带参数重载。它应该`*this`通过引用返回。IE。迭代器运算符++(int); // 后缀 Iterator & operator++(); // 字首

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-19T12:04:36.180

与大多数运算符一样，您可以通过两种方式定义`operator++`. 您可以将其编写为迭代器类的成员，也可以编写为自由函数。但是还有另一个复杂的情况，因为有两种形式`operator++`：前缀和后缀。因此，编写该运算符需要更多的思考。

作为会员：

```
struct Iterator {
    Iterator& operator++();   // prefix
    Iterator operator++(int); // postfix
}; 
```

作为免费功能：

```
struct Iterator { };
Iterator& operator++(Iterator&);     // prefix
Iterator operator++(Iterator&, int); // postfix 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T11:57:40.340

`operator++`不应该争论。从原型和定义中删除参数应该可以解决您的错误。

就像一个小“*指针*”（明白吗？），解引用运算符可能应该返回 a `node<T>`，而不是`T`。（你可以两者都做，但前者更有意义，并且会使其行为方式类似于`std`容器。）

# ruby - 当需要 env.rb 中的文件时，如何摆脱已经初始化的常量警告？

> ID：15498757
> 
> 赞同：3
> 
> 时间：2013-03-19T11:51:43.617
> 
> 标签：ruby, cucumber

我需要一些文件`features/support/env.rb`：

```
['/helpers/*', '/pages/*', '/models/*'].each do |path|
  Dir[File.dirname(__FILE__) + path].each { |file| require file }
end 
```

（我这样做是因为我想在运行任何测试之前创建测试用户和其他一些东西。）

但似乎这些文件随后由 Cucumber 加载，`load`因为我收到大量警告，例如 Cucumber 加载它们时：

```
/home/andrey/dev/project/features/support/models/my_class.rb:2: warning: already initialized constant MyClass::MY_CONSTANT 
```

当场景开始时。我怎样才能摆脱这些警告？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T20:00:03.683

您可以将代码包装在一个`silence_warnings`块中：

```
silence_warnings do
  ['/helpers/*', '/pages/*', '/models/*'].each do |path|
    Dir[File.dirname(__FILE__) + path].each { |file| require file }
  end
end 
```

对于您正在尝试做的任何事情，可能有更好的方法，以一种可以很好地与您的测试框架配合使用的方式，但上面的代码应该可以处理您的直接问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-23T11:34:21.060

您可能可以在黄瓜之前的钩子中设置您的助手和模型。

只运行一次 before 钩子的推荐方法是使用全局变量，因此：

```
Before do 
  if !$already_required
    ['/helpers/*', '/pages/*', '/models/*'].each do |path|
      Dir[File.dirname(__FILE__) + path].each { |file| require file }
    end
    $already_required = true 
  end 
end 
```

（[https://github.com/cucumber/cucumber/wiki/Hooks#running-a-before-hook-only-once](https://github.com/cucumber/cucumber/wiki/Hooks#running-a-before-hook-only-once)）

# asp.net - 对 URL 的连续调用导致发生异常：远程服务器返回错误：(500) 内部服务器错误。

> ID：15498759
> 
> 赞同：0
> 
> 时间：2013-03-19T11:51:51.190
> 
> 标签：asp.net, asp.net-mvc-2, httpwebrequest, webresponse

以下是我试图为我需要的应用程序执行的代码片段。我正在记录服务器没有抛出异常的 couts 但是我提供的计数器 (i) 直到 170-190 条记录。

```
 for (int j = 0; j < 1000 ; j++)
            {
                i++;
                WebRequest request = WebRequest.Create(requestUrl);
                request.Credentials = CredentialCache.DefaultNetworkCredentials;
                using (WebResponse response = request.GetResponse())
                {
                    using (var stream = response.GetResponseStream())
                    {
                        using (var reader = new StreamReader(stream))
                        {
                            var htmlString = reader.ReadToEnd();
                            partialViews.Add(MvcHtmlString.Create(htmlString));
                        }
                    }
                }
            } 
```

我在做什么不正确的事情？有没有办法在这样的循环中连续地从不同的应用程序 url 获取 html 字符串。

我也尝试过使用`WebClient`相同的类而不是`WebRequest`和`WebResponse`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-09T17:22:47.253

我在持续联系 API v(1) 中遇到了这个错误。当我连接以检查我的活动状态时，这似乎是随机发生的。我要做的是睡 30 秒，然后重试通话。我将其设置在一个循环中，最多调用 10 次。我从来没有把它称为超过 3。

您将希望从您的 GetResponse 中捕获 500 错误（我在下面仅粘贴了我的流程请求代码）。您可能需要根据需要稍微调整此代码：

```
 //this is used to call cc multiple times if it returns 500 errors
    public int _iWexCounter; 
```

...

```
//Process the webrequest
 private string ProcessRequest()
    {

        string sResponse = string.Empty;

        try
        {

            HttpWebResponse ccResponse = (HttpWebResponse)_myWebRequest.GetResponse();
            StreamReader reader = new StreamReader(ccResponse.GetResponseStream());

            sResponse = reader.ReadToEnd();

            // Close Reader
            reader.Close();

            // Close the response to free up the system resources
            ccResponse.Close();

            //the connect to CC was good, reset the wex error counter = 0 
            _iWexCounter = 0;
        }
        catch (WebException wex)
        {
            //if the cc server returns a 500, try to connect to it 10 times before blowing it all up
            if (wex.Message == "The remote server returned an error: (500) Internal Server Error.")
            {
                _iWexCounter++;
                if (_iWexCounter > 10)
                {

                    // Get the web exception type, error number returned here
                    sResponse = "Web Exception: " + wex.Status + wex.Message + wex.StackTrace + wex.GetBaseException().Message + wex.GetBaseException().StackTrace + sResponse;

                    SetConstantContactDifferentialAddTracker(_iConstantContactDifferentialAddTrackerID, "FAILURE", sResponse);

                    _sMessages.Append(wex.Message + Environment.NewLine);
                }
                else
                {
                    sResponse = "500 retry";
                }
            }

        }
        catch (Exception ex)
        {
            // Get the web exception type, error number returned here
            sResponse = "General Exception: " + ex.Message;

            SetConstantContactDifferentialAddTracker(_iConstantContactDifferentialAddTrackerID, "FAILURE", sResponse);

            _sMessages.Append(ex.Message + Environment.NewLine);
        }

        return sResponse;
    } 
```

# jsf-2 - jsf 1.2 和 jsf 2.0 的区别

> ID：15498768
> 
> 赞同：0
> 
> 时间：2013-03-19T11:52:08.460
> 
> 标签：jsf-2

我曾在 jsf 1.2、丰富的面孔和使用休眠 ORM 中工作过。我想问一下，如果我将项目转换为 jsf 2.0 和素面，我的项目将如何改变。转向 jsf 2.0 的原因是什么？原始问题，但我想从专家那里知道为什么要从 jsf 1.2 转移到 jsf 2.0 的主要原因。谢谢。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2018-12-21T11:05:17.967

首先，在 JSF 2.0 中，您将获得比 JSF 1.2 更多的功能 就像看看 JSF 1.2 中的简单数据表标签一样，对于简单的 crud 操作来说，在 JSF 2.0 中您的所有代码都将得到很好的优化。另外，当您想为现有项目添加一些额外的特性和功能时，您将轻松获得对外部库的支持。同样，当您在 JSF 1.2 中遇到错误时，解决和获得指南会更加困难，因为可用的资源非常少。最后，它是非常旧的 JSF 版本，所以我建议继续使用 JSF 2.0

# jboss - 使用 RESTeasy 和 JBoss 的外部 @EJB 注入返回 null

> ID：15498770
> 
> 赞同：1
> 
> 时间：2013-03-19T11:52:15.090
> 
> 标签：jboss, ejb, resteasy

我正在使用 RESTeasy 在 JBoss 6 Final 上开发 RESTful Web 服务。我有一个外部 EJB，我想在 Web 服务上注入 EJB。

这是EJB的代码

BeanLocalInterface.java

```
@Local
public interface BeanLocalInterface {
  public String sayHello();
} 
```

Bean.java

```
@Stateless
@LocalBinding(jndiBinding = "BeanLocal")
public class Bean implements BeanLocalInterface {

  @Override
  public String sayHello() {
    return "Hello!";
  }
} 
```

在另一个项目中，我有一个 WS：

```
@Path("/ws")
public class HelloWorldResource {

    @EJB(mappedName="BeanLocal")
    private BeanLocalInterface bean;

    @GET
    @Path("/hello")
    @Produces(MediaType.TEXT_PLAIN)
    public String sayHello() {            
        return bean.sayHello();
    }
} 
```

MyRESTApplication.java

```
public class MyRESTApplication extends Application {

    private Set<Object> singletons = new HashSet<Object>();
    private Set<Class<?>> empty = new HashSet<Class<?>>();
    public MyRESTApplication(){
         singletons.add(new HelloWorldResource());
    }
    @Override
    public Set<Class<?>> getClasses() {
         return empty;
    }
    @Override
    public Set<Object> getSingletons() {
         return singletons;
    }
} 
```

bean 始终为空！

我试过这个解决方案：

*   我已将 @Stateless 放在 HelloWorldResources 上
*   我在 WEB-INF 中创建 beans.xml
*   我已经改变了 MyRESTApplication

    @ApplicationPath("wsapp") 公共类 MyRESTApplication 扩展应用程序 { }

你能帮助我吗？

PS：我没有 EAR e 我不想使用它

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-02-17T12:10:09.307

我已经设法解决了这个问题。首先，从 web.xml 中删除所有关于 RESTeasy 的设置。你只需要一个注解 --> @ApplicationPath

```
import javax.ws.rs.ApplicationPath;
import javax.ws.rs.core.Application;

@ApplicationPath("api")
public class MyRESTApplication extends Application {
//nothing required here, leave this empty

} 
```

这是您的会话 bean 接口。

```
import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.PathParam;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;

@Path("MyEJB")
public interface BeanInterface {

@Path("{username}")
@GET
@Produces(MediaType.TEXT_PLAIN)
public String sayHello(@PathParam("username") String username);

} 
```

这是您的会话 bean。

```
import javax.ejb.Stateless;

@Stateless
public class EJB implements BeanInterface{

@Override
public String sayHello(String username) {

    return "Hello, "+username;
}

} 
```

使用 JBOSS 7.1

用法：http://localhost:8080 /YOURAPPNAME/api/MyEJB/Fabio

输出：你好，法比奥

希望这可以帮助。

# javascript - 引导按钮加载状态

> ID：15498772
> 
> 赞同：5
> 
> 时间：2013-03-19T11:52:21.063
> 
> 标签：javascript, css, button, twitter-bootstrap

我正在尝试这样做，以便当有人单击按钮时，它会从普通按钮变为切换按钮，文本更改为加载中...

所以我包括了这个按钮

```
<button type="button" id="fat-btn" data-loading-text="loading..." class="btn btn-primary">
    Loading state
</button> 
```

但是当我单击按钮时没有任何反应。

我也有这个在身体的底部。

```
<script>
        $(function() {
          var btn = $('#fat-btn').click(function () {
            btn.button('loading')
            setTimeout(function () {
              btn.button('reset')
            }, 3000)
          })
        })
</script>
<script src="http://code.jquery.com/jquery.js"></script>
<script src="bootstrap/js/bootstrap.min.js"></script> 
```

这是我试图包含按钮的网站（位于屏幕底部） [http://www.ticketmachine.x10.mx/](http://www.ticketmachine.x10.mx/)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-19T12:18:26.863

一旦你对你的 jQuery 问题进行了排序，你应该`click`如下更新你的函数：

```
$(function(){
    var $btn = $('#fat-btn');
    $btn.click(function(){
        var $this = $(this);
        $this.attr('disabled', 'disabled').html("Loading...");
        setTimeout(function () {
            $this.removeAttr('disabled').html('Hello');
        }, 3000)
    });
}) 
```

小提琴：http: [//jsfiddle.net/RJDgG/1/](http://jsfiddle.net/RJDgG/1/)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-19T12:11:10.653

我访问了您提供的链接。我打开了firebug，它记录了下面给出的JS错误。

> 未捕获的 ReferenceError：$ 未定义

您编写了一些使用 jQuery 的 JavaScript，但它是在包含 jQuery 库之前添加的。

您应该在 jQuery 链接之后移动脚本标签。

# eclipse - 在 Eclipse 中，我成功地从 Git 中提取了我的代码，但我可以看到“>”而不对我的本地目录进行任何更改

> ID：15498775
> 
> 赞同：0
> 
> 时间：2013-03-19T11:52:45.653
> 
> 标签：eclipse, git, github

在 Eclipse 中，我成功地从 Git 中提取了我的代码，但我可以看到“>”而不对我的本地目录进行任何更改。我在提取代码时是否出错？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:56:29.467

您能否描述一下哪些特定文件被标记为本地更改 (">")？

根据您的存储库内容和视图设置，我想它们是 Eclipse 或其插件生成的文件，例如“.project”。

Eclipse IDE 使用某些文件来记录您的项目设置（“.project”）和有关您的项目的其他信息，例如它的 Java 类路径（“.classpath”）。默认情况下，这些文件会被过滤掉，并且不会由 Eclipse 视图（例如 Package Explorer）显示。但是可以更改这些过滤器设置。

如果这些相同的文件存储在您的 git 存储库中，并且如果在 Eclipse IDE 中对这些设置有任何进一步的修改，那么这些文件可能会被标记为自上次提交 (">") 以来已修改。

因为您没有直接在文本编辑窗口中更改它们的内容，甚至可能根本没有意识到它们的存在，所以当它们在视图（如 Package Explorer 或同步视图。

# clojure - 为什么 group-by 函数的结果键在大多数情况下是按顺序排列的，而在使用范围时却不是？

> ID：15498780
> 
> 赞同：2
> 
> 时间：2013-03-19T11:53:06.010
> 
> 标签：clojure

我正在解决[这个问题](http://www.4clojure.com/problem/56)

我的解决方案是：

```
(fn [s]
  (map #(first %) (group-by identity s))) 
```

前三个测试通过，最后一个失败。

因为

```
(group-by identity (range 50) 
```

给出无序的结果。但我的解决方案强烈依赖于 group-by 函数的有序特性。也就是说必须保持结果映射中每个键的顺序。这几乎是真的，即使[Doc](http://clojuredocs.org/clojure_core/clojure.core/group-by)不保证这一点。

真正奇怪的是：

![在此处输入图像描述](../Images/7b8706a0d05f6e701b4401843ade0ea0.png)

你看，当参数超过 32 个时，分组函数给出错误的顺序。结果不是随机的，而是溢出的元素在第一个元素之后添加。

为什么？

如何保持分组功能的有序功能或有更好的解决方案？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-19T12:52:26.853

通用映射的任何排序都是实现细节。

较大的映射是使用哈希表实现的，通常不会保留顺序。对于小地图，散列的开销要高于线性查找的开销。因此，优化是让小地图以数组地图的形式开始生活，这确实保持了秩序。随着更多元素的添加，映射将转换为哈希映射。

```
(class (group-by identity (range 8)))
;=> clojure.lang.PersistentArrayMap

(class (group-by identity (range 32)))
;=> clojure.lang.PersistentHashMap 
```

这种转换发生在 32 个元素之前，但如果不深入研究内部，我会怀疑初始哈希表有 32 个插槽，因此在哈希冲突策略开始之前不会开始出现无序。

就[4Clojure 实施`distinct`](http://www.4clojure.com/problem/56)问题而言，您可以使用原始集合中的a`sort-by`来挽救您的解决方案。`.indexOf`

剧透：

> (fn [s] (sort-by #(.indexOf s %) (map #(first %) (group-by identity s))))

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:43:57.780

听起来你想要一个`sorted-map`：

```
=> (apply sorted-map (flatten (seq (group-by identity (range 50)))))
{0 0, 1 1, 2 2, 3 3, 4 4, 5 5, 6 6, 7 7, 8 8, 9 9, 10 10, 11 11, 12 12, 13 13, 14 14, 15 15, 16 16, 17 17, 18 18, 19 19, 20 20, 21 21, 22 22, 23 23, 24 24, 25 25, 26 26, 27 27, 28 28, 29 29, 30 30, 31 31, 32 32, 33 33, 34 34, 35 35, 36 36, 37 37, 38 38, 39 39, 40 40, 41 41, 42 42, 43 43, 44 44, 45 45, 46 46, 47 47, 48 48, 49 49} 
```

如您所见，当您处理小地图时，clojure 可能会选择排序的实现。但是，这是一个实现细节，不能保证。`sorted-map`返回一个保证键的迭代顺序被排序的映射。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T14:09:54.850

将值添加到映射时，会返回适当类型的集合。在 PersistentArrayMaps 的情况下，当大小变得大于 16 项时（参见[源代码](https://github.com/clojure/clojure/blob/master/src/jvm/clojure/lang/PersistentArrayMap.java)行 177），它会返回一个 PersistentHashMap，而不是保持顺序。

虽然我无法找到切换到第 33 个元素的行为的直接原因，但我知道处理向量的方式是大小为 32 块，因此更新一个元素不需要全新的向量 - 仅此而已块需要更换。它可能与此或其他一些优化行为有关。

# c++ - 为速度关键系统设计跟踪/日志

> ID：15498785
> 
> 赞同：2
> 
> 时间：2013-03-19T11:53:11.173
> 
> 标签：c++, design-patterns, logging, architecture

假设我们有对速度至关重要的系统（例如统计/分析、套接字编程等），我们如何设计跟踪和日志。

更具体地说，日志和跟踪通常会降低性能（即使我们有关闭机制或冗长的扩展机制）。在这种情况下，是否有任何关于如何“放置”日志/跟踪的参考指南，以便在问题发生时（特别是在生产站点）开发人员/后期制作团队能够查明实际问题。

PS：我来自使用 C/C++ 开发此类应用程序的背景（在 Linux 上运行）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:23:19.073

您可以在缓冲区中累积日志，您可以使用[Google Protocol Buffers](https://developers.google.com/protocol-buffers/docs/cpptutorial)来描述和实施。您可以有一个不同的线程定期（每 5 分钟）将此缓冲区清空到磁盘，或通过[UNIX 域套接字](http://en.wikipedia.org/wiki/Unix_domain_socket)（或其他[Linux IPC 机制](https://stackoverflow.com/questions/2281204/which-linux-ipc-technique-to-use)）将其发送到一个守护进程，该守护进程监听并将它们写入持久数据库或简单地将它们写入磁盘。

如果您不想访问产生日志的机器上的磁盘，您可以通过[常规套接字](http://en.wikipedia.org/wiki/Berkeley_sockets)将它们发送到另一台机器，然后将它们写入该机器上的磁盘。

如果您正在聚合来自多台机器的日志，请考虑使用[0MQ](http://www.zeromq.org/)或[CrossRoads](https://github.com/crossroads-io/libxs)作为消息队列，以通过网络将您的日志传递到永久存储它们的机器。您可以在此处找到有关[将 0MQ 与 Google Protocol Buffers 结合使用的](http://www.dotkam.com/2011/09/09/zeromq-and-google-protocol-buffers/)一些信息。

# deployment - 部署的 MVC4 应用程序未完全打开

> ID：15498791
> 
> 赞同：0
> 
> 时间：2013-03-19T11:53:30.067
> 
> 标签：deployment, asp.net-mvc-4, hosting, publishing

我将 MVC 4 应用程序部署到[Arvixe.com 托管](http://www.arvixe.com/asp_net_web_hosting)。在本地一切正常，站点完全打开，但部署后，站点打开，但未满。css、jquery、javascript 不工作。似乎只有 html 标签。Arvixe 支持将此发送给我：[如何在共享服务器上 Bin 部署 ASP.NET 程序集](http://blog.arvixe.com/how-to-bin-deploy-asp-net-assemblies-on-shared-servers/)。但我不能很好地理解它。谁能帮我找出为什么网站没有完全打开？我应该检查什么来解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:00:15.907

链接视图和资源时，应使用相对路径

代替

```
"Views/MyView.aspx" 
```

采用

```
"~/Views/MyView.aspx" 
```

这对应用程序中的所有资源都有效，并且已知会导致这些问题。
在本地工作时，路径是正确的，因为它都已解析到您的计算机。

在 Web 环境中，您必须使用相对路径，以便在所有资源之前解析 url。

# tcp - 当 ia 客户端连接到服务器端的服务器时，有什么方法可以让我获得 ChannelPipeline 的引用？

> ID：15498792
> 
> 赞同：0
> 
> 时间：2013-03-19T11:53:30.190
> 
> 标签：tcp, netty, tcpserver

如果客户端连接时使用同步 TCP 服务器，我会得到客户端示例的参考：

```
 int serverPortNum = 9000;
socket while(true) {
     ServerSocket connectionSocket = new ServerSocket(serverPortNum);
     Socket dataSocket = connectionSocket.accept( );
     // pass this reference(dataSocket ) to other part of program to read or write depending on app logic
} 
```

现在我想使用使用 Netty 的异步 TCP 服务器，所以有什么方法可以获取连接新客户端时创建的 ChannelPipeline 或 ChannelHandler 的引用。

在客户端，我可以轻松做到：示例代码：NioClientSocketChannelFactory ncscf = new NioClientSocketChannelFactory(Executors.newCachedThreadPool(), Executors.newCachedThreadPool()); ClientBootstrap clientBootstrap = new ClientBootstrap(ncscf);

```
 final DummyHandler  dummy = new DummyHandler();
    clientBootstrap.setPipelineFactory(new ChannelPipelineFactory() { 
        @Override
        public ChannelPipeline getPipeline() throws Exception { 
            return Channels.pipeline(dummy); 
        } 
    }); 

    InetAddress inetaddress = InetAddress.getByName(host);
    ChannelFuturecf=clientBootstrap.connect(newInetSocketAddress(inetaddress,port)); 
```

所以每次我创建一个新客户端时，我都有新的 DummyHandler 参考

在服务器端：示例代码：ServerBootstrap bootstrap = new ServerBootstrap(new NioServerSocketChannelFactory(Executors.newCachedThreadPool(), Executors.newCachedThreadPool()));

```
 bootstrap.setPipelineFactory(new ChannelPipelineFactory() {
        public ChannelPipeline getPipeline() throws Exception {
            return Channels.pipeline(new DummyServerHandler());
        }
    });

    bootstrap.bind(new InetSocketAddress(port));
   So when client request connection new DummyServerHandler object is created but i cannot get reference of this. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-23T15:40:21.373

I may missunderstood the question but wouldn't this work.

```
Channel.getpipeline() 
```

# backbone.js - Backbone pushState 和 Laravel 4 - 路由不起作用

> ID：15498793
> 
> 赞同：1
> 
> 时间：2013-03-19T11:53:31.987
> 
> 标签：backbone.js, laravel, laravel-4

我有一个非常简单的 laravel 4 设置，带有 1 个用于旅行的控制器。现在另一个简单的 Backbone 设置，带有一个路由器和路由到常规路由，如`trips`, `trips/create`. 我想使用 pushState: true 来获得漂亮的 URL，但我似乎无法让它工作。当我尝试访问 URL 时，它会将我发送到服务器提供的带有我的 json 数据的页面。

但是，如果我输入：`www.mysite.com/#trips`我被“重定向”到`www.mysite.com/trips`，然后我的这个特定路由的方法就会触发。

这是我的路由器：

```
App.Router = Backbone.Router.extend({
routes: {
    '': 'index',
    'trips':            'trips',
    'trips/create':     'newTrip',
    'trips/:id':        'showTrip'
},

index: function(){

},

trips: function(){
    console.log('All trips') ;
},

newTrip: function(){

    console.log('New trip') ;

},

showTrip: function(id){
    console.log('trips id:' + id) ;
}
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-13T09:40:53.947

这可能是由于 Backbone 路由器无法将 URL 与您的 Backbone 路由匹配造成的。要调试，请将其添加到您的路由中：

```
'*actions':                 'defaultAction' 
```

然后在路由器中添加：

```
defaultAction: function(path) {
    console.log('Route "' + path + '" not defined, redirecting to homepage!');
} 
```

您可能会看到路径与您路线中的任何内容都不同。要解决此问题，您需要告诉 Backbone 路径的根。您在激活推送状态时执行此操作。

```
Backbone.history.start({
    pushState: true,
    root: 'http://mydomain.com/myapplication/'
}); 
```

希望这可以帮助。

# ios - 如何在 IOS 中使用两个谓词过滤 UITableView

> ID：15498795
> 
> 赞同：9
> 
> 时间：2013-03-19T11:53:38.007
> 
> 标签：ios, objective-c, uisearchdisplaycontroller

我有带有`searchDisplayController`. 在这台电视中，我必须数组（名字/姓氏）我可以通过名称过滤这些值，使用谓词，使用此代码

```
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"self.firstName beginswith[cd]%@",searchString];
self.filteredAllClients = [AllClients filteredArrayUsingPredicate:predicate]; 
```

我可以使用两个谓词过滤这个数组吗？

**例如：**我有名字（Jack Stone、Mike Rango）

1.  如果我输入“J”，我应该得到过滤数组 - 杰克斯通

2.  但是如果我输入“R”并且我应该得到过滤区域 - Mike Rango？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-03-19T12:00:10.660

是的，像这样...

```
NSPredicate *firstNamePredicate = [NSPredicate predicateWithFormat:@"self.firstName beginswith[cd]%@",searchString];
NSPredicate *lastNamePredicate = [NSPredicate predicateWithFormat:@"self.lastName beginswith[cd]%@",searchString];

NSPredicate *compoundPredicate = [NSCompoundPredicate orPredicateWithSubpredicates:@[firstNamePredicate, lastNamePredicate]];

self.filteredAllClients = [AllClients filteredArrayUsingPredicate:compoundPredciate]; 
```

然后，这将显示所有名字以搜索开头或姓氏以搜索开头的人。

我更喜欢使用这种格式而不是在单个谓词中使用 OR 和 AND，因为它使整个代码更具可读性。

这也可用于获取谓词的 NOT。

如果您在单个谓词中构建了复合谓词，您也很容易感到困惑。

# ios - NSDictionary 结果类型获取关系中的对象

> ID：15498805
> 
> 赞同：1
> 
> 时间：2013-03-19T11:54:03.637
> 
> 标签：ios, core-data, nsdictionary

我想知道是否设置`NSDictionary`reault 类型并添加关系会在结果中显示这些对象。

示例 我有一个带有 toCarparts 关系的汽车对象。

carPart 对象具有名称、品牌等。我只想调出 carParts.name。

那么我可以将实体设置为汽车，然后搜索 toCarParts 并只返回名称吗？

如果是这样，我会怎么做？

谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-19T12:35:46.297

您只能在 in 中使用*一对一*关系`propertiesToFetch`，例如：

```
NSFetchRequest *fetchRequest = [NSFetchRequest fetchRequestWithEntityName:@"Car"];
[fetchRequest setResultType:NSDictionaryResultType];
[fetchRequest setPropertiesToFetch:@[@"name", @"toCarParts.name"]]; 
```

如果`toCarParts`是一对一的关系会起作用。它将返回带有汽车名称和相关汽车部件名称的字典。

它不适*用于一对多*关系。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T12:15:00.603

不，您不能只获取实体的单个属性。

**更新**

看起来**那是错误的**。似乎可以使用 NSDictionaryResultType 仅获取某些特定属性，请查看[此](http://developer.apple.com/library/ios/#documentation/DataManagement/Conceptual/CoreDataSnippets/Articles/fetchExpressions.html)链接。也许你的问题可以用这个来解决。

PS 感谢您推动我解决这个问题，我在上一本书 Marcus Zarra 的书中没有找到任何关于此的内容。

# c# - 通过 COM 将字符串数组从 c# 发送到 c++

> ID：15498812
> 
> 赞同：0
> 
> 时间：2013-03-19T11:54:24.443
> 
> 标签：c#, c++, arrays, string, com

我试图通过 com interop 将数组从 c# 发送到 c++。

这是c#代码

```
public void SendArraytoCPlusPlus()
{
    GGXForVBA.GeoAtlas GA = new GGXForVBA.GeoAtlas();
    string[] arr = new string[3];
    arr[0] = "One";
    arr[1] = "Two";
    arr[2] = "Five";
    GA.GetArrayVar(arr);
} 
```

这是C++代码

```
void GeoAtlas::GetArrayVar(VARIANT& arr)
{ 
    AFX_MANAGE_STATE(AfxGetStaticModuleState());
    SAFEARRAY* pSafeArray = arr.parray;
    long lStartBound = 0;
    long lEndBound = 0;
    SafeArrayGetLBound(pSafeArray,1,&lStartBound);
    SafeArrayGetUBound(pSafeArray,1,&lEndBound);
    LPCSTR * arrayAccess = NULL;

    SafeArrayAccessData( pSafeArray , (void**)&arrayAccess);
    for(int iIndex = lStartBound; iIndex <= lEndBound; iIndex ++)
    {   
        LPCTSTR myString = (LPCTSTR)arrayAccess[iIndex];
        AfxMessageBox(myString);        
    }  
} 
```

这是idl

```
[id(23)] void GetArrayVar(VARIANT arr); 
```

问题是，消息框只显示字符串的第一个字母，即''O'。'T'，'F'。我想阅读整个字符串。有什么建议么 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:34:53.200

发送方看起来不错。在接收方试试这个。

```
[id(1), helpstring("method SetArrayVar")] HRESULT SetArrayVar([in] VARIANT varMachineList);

STDMETHODIMP GeoAtlas::SetArrayVar(VARIANT arr)
{
    long lower, upper;
    SafeArrayGetLBound(pSafeArray, 1, &lower);
    SafeArrayGetUBound(pSafeArray, 1, &upper);
    DWORD dwItems = upper - lower + 1;
    resize(dwItems);

    SAFEARRAY* pSafeArray = arr.parray;
    BSTR* pBstr;
    if ( SUCCEEDED(SafeArrayAccessData(pSafeArray, (LPVOID*) &pBstr)) )
    {
        iterator it = begin();
        for ( long i=lower; i<=upper; i++, pBstr++, it++ )
        {
            USES_CONVERSION;
            *it = OLE2CT(*pBstr);
            // Here you gets array elements and use it
        }
    }

    // release the data block
    SafeArrayUnaccessData(pSafeArray);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T14:13:32.820

不确定，但看起来您的 Unicode/MBCS 不匹配。

托管部分创建了一个 UTF-16 编码字符串数组，而非托管部分似乎是用多字节字符集编译的。因此，在看到第一个空字符（实际上只是 UTF-16 字符的第二个字节）时，您的 MBCS 代码认为它已到达字符串的末尾。

一种解决方案是将 C++ 项目中的字符集设置更改为 Unicode 并重新构建。

另一种是改代码：

```
...
LPCWSTR * arrayAccess = NULL; // change LPCSTR -> LPCWSTR
...

for(int iIndex = lStartBound; iIndex <= lEndBound; iIndex ++)
{   
    bstr_t myString = arrayAccess[iIndex];
    AfxMessageBox(myString);        
} 
```

`bstr_t`将使用 BSTR 正确初始化，但它也提供转换，`const char*`因此调用 AfxMessageBox 就可以了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T11:58:14.293

这是基于您发送 Unicode/UTF8 字符串但消息框需要 ANSI C 字符串的事实。在发送之前尝试将字符串转换为 ASCII。看看这里的编码类[http://msdn.microsoft.com/en-us/library/system.text.encoding.aspx](http://msdn.microsoft.com/en-us/library/system.text.encoding.aspx)

您可能想尝试将它们作为字节数组发送。

```
var bytes = Encoding.ASCII.GetBytes("one"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T12:16:47.853

You should pass a SAFEARRAY instead of a VARIANT:

```
[id(23)] void GetArrayVar([in] SAFEARRAY(BSTR) arr); 
```

And in the implementation, access it like this:

```
void GeoAtlas::GetArrayVar(SAFEARRAY* arr)
{
    CComSafeArray<BSTR> sa;
    sa.Attach(arr);

    for (int i = sa.GetLowerBound(); i <= sa.GetUpperBound(); ++i)
    {
        AfxMessageBox(sa[i]);
    }

    sa.Detach();
} 
```

# c# - 无法使用通用处理程序将我的数据库中的图像文件显示到图像控件中

> ID：15498813
> 
> 赞同：1
> 
> 时间：2013-03-19T11:54:28.163
> 
> 标签：c#, asp.net

我需要帮助将存储在我的数据库中的图像文件显示到图像控件中。我已经阅读了一些文章并观看了一些非常有效的视频教程，我遵循了它，但我无法让它发挥作用。图像控件只显示空白。我使用通用处理程序从我的数据库中检索图像文件。请帮我指出我哪里出错了？感谢您的帮助...这是我的代码。

**通用处理程序**：

```
<%@ WebHandler Language="C#" Class="ShowImage" %>

using System;
using System.Configuration;
using System.Drawing;
using System.Drawing.Imaging;
using System.Web;
using System.IO;
using System.Data;
using System.Data.SqlClient;

public class ShowImage : IHttpHandler 
{

    public void ProcessRequest(HttpContext context)
    {
        if (context.Request.QueryString["ID"] == null) return;
        //string connStr = ConfigurationManager.ConnectionStrings["connStr"].ToString();
        string connStr = @"Data Source=.\SQLEXPRESS;AttachDbFilename=|DataDirectory|\Coldwind.mdf;Integrated Security=True;Connect Timeout=30;User Instance=True";
        string ID = context.Request.QueryString["ID"];

        using (SqlConnection conn = new SqlConnection(connStr))
        {
             using (SqlCommand cmd = new SqlCommand("Select Photos From ProfileTab Where ID =" + ID, conn))
             {
                 //cmd.Parameters.Add(new SqlParameter("@ID",ID));
                 conn.Open();
                 using (SqlDataReader reader = cmd.ExecuteReader(CommandBehavior.CloseConnection))
                 {
                     reader.Read();
                     context.Response.ContentType = "image/jpeg";
                     context.Response.BinaryWrite((Byte[])reader[reader.GetOrdinal("Photos")]);
                     // byte[] imgData = (byte[])reader["Photos"];
                     // context.Response.BinaryWrite(imgData);
                     reader.Close();
                 }
             }
         }
     } 

     public bool IsReusable
     {
         get
         {
             return true;
         }
     }

} 
```

**图像控件的 Asp.Net 代码**：

```
<asp:Image ID="Image1" runat="server" ImageUrl='<%# "ShowImage.ashx?ID=" + Eval("ID") %>' Height="128px" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:04:29.797

试试 MemoryStream 这样...

```
System.IO.MemoryStream dataStream = null;
dataStream = new System.IO.MemoryStream(reader.GetOrdinal("Photos"));
context.Response.ContentType = "image/jpeg";
dataStream.WriteTo(context.Response.OutputStream);
dataStream.Close();
dataStream = null; 
```

# eclipse - 如何使用 Git 从服务器签出项目

> ID：15498814
> 
> 赞同：0
> 
> 时间：2013-03-19T11:54:28.660
> 
> 标签：eclipse, git, svn, path, tortoisegit

您可以将我的问题归类为外行的级别，但我是第一次使用 Git（直到现在我使用 TortoiseSVN），我不确定如何从服务器上签出现有项目，以便在我的本地机器在一个文件夹中。我已经安装了 Git Bash。我应该运行它（Gui），选择*New Archiv*，然后在服务器中指定项目的路径吗？是否有更好的 Git 框架来安装，适合更轻松地完成相同的任务？

如果答案中需要，我也将不胜感激一些屏幕截图。

**更新：**我也安装了 TortoiseGit。我想通过在目录中右键单击创建一个新的克隆，但是右键单击后新的克隆不可用。是否需要额外配置？如果不是，我应该从 TortoiseGit 做些什么来检查现有项目？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:38:45.123

我通常建议从命令行学习 git。但是，如果您已经熟悉 TortoiseSVN，那么[TortoiseGIT](https://code.google.com/p/tortoisegit/)对您来说是一个很好的工具。

另外，我认为你应该很好地学习 git。我可以推荐这本书[Pro Git](http://git-scm.com/book)。

要“签出”一个 git 存储库，在 git 世界中称为**克隆**（您将获得服务器存储库的完整副本）。这可以从命令行或 TortoiseGIT 完成。

混帐巴什：

```
$ cd /path/to/my/projects
$ git clone url-to-server-repo 
```

**更新：** 由于您获得了“正常”的 TortoiseGit 菜单（没有克隆选项），因此您似乎已经有了一个本地 git 存储库。您可能错误地创建了一个空的 git 存储库。`.git`在项目目录或任何父目录中查找隐藏目录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T21:53:05.977

右键单击文件夹（不要右键单击文件夹中的任何内容，您要从父目录克隆 INTO 的文件夹的图标）并`clone`从菜单中选择。

供参考：

`clone = create a copy of a repository.`

`checkout = change the current state of an existing repo to a saved state.`

因此，如果您在克隆存储库时有一个包含 3 次提交（A、B、C）的存储库，那么您将处于最新状态（C）。如果你想查看 repo 的先前状态，你会`git checkout B`。如果你想查看 repo 的初始状态，你会`git checkout A`

希望有帮助。

# php - Symfony 2 表单未预先填充预先保存的数据

> ID：15498816
> 
> 赞同：1
> 
> 时间：2013-03-19T11:54:32.890
> 
> 标签：php, forms, symfony

我接手了 Symfony 2 中的一个项目（我对此知之甚少），并且在使用其中一种现有形式时遇到了问题。它应该使用现有数据预先填充表单字段，但没有这样做。任何人都可以就为什么它可能不起作用给出和建议吗？

这是我的代码：

```
/**
* @Route("/admin/pressrelease/{id}")
* @Template("ImagineCorporateBundle:Admin:Pressrelease/edit.html.twig")
*/
public function editAction($id)
{
    $em = $this->getDoctrine()->getEntityManager();
    $repo = $em->getRepository('ImagineCorporateBundle:PressRelease');
    $pr = $repo->find($id);

    if(!$pr->getDocument())
    {
        $doc = new Document();
        $doc->setType('child');
        $doc->setTemplate('child');
        $pr->setDocument($doc);
    }

    $dateHelper = $this->get('helper.datehelper');
    $years = $dateHelper->dateRangeAction();
    $form = $this->createForm(new PressreleaseType(), array($pr , $years) );

    if($this->getRequest()->getMethod() == 'POST')
    {
        $form->bindRequest($this->getRequest());

        if($pr->getDocument())
        {
            $pr->getDocument()->setType('child');
            $pr->getDocument()->setTemplate('child');
            $pr->getDocument()->setTitle($pr->getTitle());
        }

        if($form->isValid())
        {
            $pr->upload('../web/upload/general/');
            $em->persist($pr);
            $em->persist($pr->getDocument());
            $em->flush();
            $pr->index(
                $this->get('search.lucene'),
                $this->generateUrl(
                    'imagine_corporate_pressrelease_view',
                    array('id' => $pr->getId(), 'title' => $pr->getTitle())
                )
            );

            return $this->redirect($this->generateUrl('imagine_corporate_pressrelease_admin'));
        }
    }

    return array('pressrelease' => $pr, 'form' => $form->createView());
} 
```

和视图模板：

```
{% extends "ImagineCorporateBundle:Admin:base.html.twig" %}

{% block heading %}Edit Press Release{% endblock %}

{% block content %}
<p>
    <a href="{{ path('imagine_cmf_attachment_new') }}">Upload Attachment</a> |
    <a href="{{ path('imagine_corporate_person_new') }}" target="_blank">New Person</a>
</p>

<form action="" method="post" {{ form_enctype(form) }}>

<div>
    {{ form_label(form.title) }}
    {{ form_errors(form.title) }}
    {{ form_widget(form.title) }}
</div>

<div>
    {{ form_label(form.author) }}
    {{ form_errors(form.author) }}
    {{ form_widget(form.author) }}
</div>

<div>
    {{ form_label(form.postdate) }}
    {{ form_errors(form.postdate) }}
    {{ form_widget(form.postdate) }}
</div>

<div>
    {{ form_label(form.imageUpload) }}
    {{ form_errors(form.imageUpload) }}
    {{ form_widget(form.imageUpload) }}
</div>

<div>
    {{ form_label(form.thumbnailUpload) }}
    {{ form_errors(form.thumbnailUpload) }}
    {{ form_widget(form.thumbnailUpload) }}
</div>

<fieldset>
    <div><input type="checkbox" class="checkallWebsites"> Check all</div>
    {{ form_label(form.websites) }}
    {{ form_errors(form.websites) }}
    {{ form_widget(form.websites) }}
</fieldset>

<fieldset>
    <div><input type="checkbox" class="checkallMagazines"> Check all</div>
    {{ form_label(form.magazines) }}
    {{ form_errors(form.magazines) }}
    {{ form_widget(form.magazines) }}
</fieldset>

 <fieldset>
    <div><input type="checkbox" class="checkallDept"> Check all</div>
    {{ form_label(form.department) }}
    {{ form_errors(form.department) }}
    {{ form_widget(form.department) }}
</fieldset>

<script>
    $(function () {
        $('.checkallWebsites').click(function () {
            $(this).parents('fieldset:eq(0)').find(':checkbox').attr('checked', this.checked);
        });
    });

    $(function () {
        $('.checkallMagazines').click(function () {
            $(this).parents('fieldset:eq(0)').find(':checkbox').attr('checked', this.checked);
        });
    });

    $(function () {
        $('.checkallDept').click(function () {
            $(this).parents('fieldset:eq(0)').find(':checkbox').attr('checked', this.checked);
        });
    });
</script>

{{ form_widget(form) }}

<div id="submit">
    <input type="submit" class="addnew-submit" />
</div>
</form>

{% endblock %} 
```

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T12:04:18.157

您的问题是控制器中的这一行：

```
$form = $this->createForm(new PressreleaseType(), array($pr , $years) ); 
```

如果您的表单基于实体，那么您可以将实体绑定到表单，只需像这样传递对象即可：

```
$form = $this->createForm(new PressreleaseType(), $pr); 
```

如果它是一个更复杂的表单，那么您的数组需要是键值，表单字段名称作为键。例如（如果它们不同，您可能必须替换实际的字段名称，因为我们看不到您的表单类）：

```
$form = $this->createForm(
    new PressreleaseType(),
    array(
        'press_release_name' => $pr->getName(),
        'years' => $years
    )
); 
```

编辑：如果表单类的构造函数已经过定制，则可能需要这两个值，因此如果上述内容对您没有帮助，请添加您的表单类代码。

# c# - 程序集 + 元数据 + 程序集清单 + MSIL 代码

> ID：15498818
> 
> 赞同：1
> 
> 时间：2013-03-19T11:54:36.260
> 
> 标签：c#, asp.net, dll, assemblies, exe

谁能回答以下问题。我正在使用 c# 语言。

1.  我可以将程序集称为 .ddl 或 .exe 文件吗？
2.  我可以将组装清单称为组装吗？
3.  程序集、元数据和程序集清单之间有什么不同？
4.  我能说......么

    .DLL 或 .EXE = 程序集 + 元数据 + 程序集清单 + MSIL 代码。

请帮我解决这些问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T12:58:40.657

**1** - 程序集*可以是*单个 .DLL 或 .EXE 文件，但*并非所有 .DLL 和 .EXE 都是程序集*。程序集特定于 .NET 框架。.EXE 和 .DLL 程序集都可以由您的 .NET 应用程序引用或加载。

**2** -- 程序集清单只是程序集的一部分，其中包含描述程序集的元数据。 [从 MSDN](http://msdn.microsoft.com/en-us/library/1w45z383%28v=vs.71%29.aspx)程序集清单：

> *   枚举组成程序集的文件。
>     
>     
> *   控制对程序集类型和资源的引用如何映射到包含其声明和实现的文件。
>     
>     
> *   枚举程序集所依赖的其他程序集。
>     
>     
> *   在程序集的消费者和程序集的实现细节之间提供一定程度的间接性。
>     
>     
> *   呈现自描述的程序集。

如果您需要更改与特定程序集关联的元数据，您可以从代码中添加和更改程序集清单的某些方面。程序集清单可以存储为它自己的物理文件，但它仍被视为程序集的一部分。

**3** -- 程序集由 CIL 代码、描述由 CIL 代码定义的类型的元数据、作为描述程序集的元数据的程序集清单和其他资源（例如程序集所需的静态图像）组成。因此，程序集清单和元数据一样只是程序集的一部分。

**4——**几乎。**程序集 = MSIL 代码 + 程序集清单 + 类型元数据 + 资源。**

程序集可以编译为 .EXE 或 .DLL 文件，但也可以由多个文件组成。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-20T18:35:26.123

让我们从这些概念开始（简单地说）然后我们会得到答案
**编译器**是语法检查器和“正确代码”分析器。在 .Net 平台中，无论您使用哪种编译器，结果都是托管模块。托管模块是需要 CLR 执行的标准 32 位 Microsoft Windows 可移植可执行 (PE32) 文件或标准 64 位 Windows 可移植可执行 (PE32+) 文件。![在此处输入图像描述](../Images/f8eda43b554fd56db72420ee442ac549.png)

**IL 代码**编译器在编译源代码时生成的代码。在运行时，CLR 将 IL 编译为本地 CPU 指令。

**元数据**每个托管模块都包含元数据表。有两种主要类型的表：描述源代码中定义的类型和成员的表和描述源代码引用的类型和成员的表。

**装配**是一个抽象概念，最初可能难以掌握。首先，程序集是一个或多个模块或资源文件的逻辑分组。其次，程序集是重用、安全和版本控制的最小单元。根据您使用编译器或工具所做的选择，您可以生成**单文件或多文件**程序集。在 CLR 世界中，程序集就是我们所说的组件。
（CLR 实际上并不适用于模块，它适用于程序集）

**Assembly Manifest**是程序集的**一部分**，描述程序集中的文件集 程序

![在此处输入图像描述](../Images/7e1b40585569f2617ee5fc208571b462.png) 集允许您将可重用、安全、可版本化组件的逻辑和物理概念解耦。程序集的模块还包括有关引用程序集的信息（包括它们的版本号）。此信息使程序集具有自描述性。换句话说，CLR 可以确定程序集的直接依赖关系，以便执行程序集中的代码。
实际上，当使用 C# 编译器时，生成 .DLL 或 .EXE 将使用编译器选项完成，因此 DLL 和 EXE 在程序集概念中是相同的组件。

所以我们将有
1- 正确，程序集是托管 DDL 或 EXE 文件
2- 不，程序集清单只是程序集的一部分
3-在答案中描述
4-托管 .DLL 或 .EXE = 程序集（包含元数据 + 程序集清单 + MSIL 代码）

图片和杰弗里·里希特的一些[名言](http://shop.oreilly.com/product/9780735627048.do)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-11T10:38:54.117

来自优秀的书**Pro C# 5 and the .NET 4.5 Framework**：

当使用支持 .NET 的编译器创建 *.dll 或 *.exe 时，二进制 blob 称为 ***程序集***。

程序集包含***MSIL 代码***，它在概念上类似于 Java 字节码，除非绝对必要，否则它不会编译为特定于平台的指令。通常，“绝对必要”是指 MSIL 指令块（例如方法实现）被引用以供 .NET 运行时使用的点。

In addition to MSIL instructions, assemblies also contain ***metadata*** that describes in vivid detail the characteristics of every “type” within the binary. For example, if you have a class named SportsCar, the type metadata describes details such as SportsCar’s base class, which interfaces are implemented by SportsCar (if any), as well as a full description of each member supported by the SportsCar type. .NET metadata is always present within an assembly, and is automatically generated by a .NET-aware language compiler.

最后，除了 MSIL 和类型元数据之外，程序集本身也使用元数据来描述，元数据被官方称为***清单***。清单包含有关程序集当前版本的信息、区域性信息（用于本地化字符串和图像资源）以及正确执行所需的所有外部引用程序集的列表。

# spring - 严重：Servlet 抛出 load() 异常 javax.servlet.UnavailableException

> ID：15498820
> 
> 赞同：1
> 
> 时间：2013-03-19T11:54:37.600
> 
> 标签：spring, jakarta-ee, tomcat, servlets, struts

在 eclipse Juno 上的 Tomcat 6.0.26 中部署我的应用程序时出现以下错误。我将 struts 用于 web 内容，将 spring 用于 ORM。

我已经尝试清理和建立工作区。

```
Mar 19, 2013 5:33:30 PM org.apache.tomcat.util.digester.SetPropertiesRule begin
WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.jee.server:CPCPROJ' did not find a matching property.
Mar 19, 2013 5:33:30 PM org.apache.catalina.core.AprLifecycleListener init
INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\Program Files\Java\jdk1.6.0_18\bin;.;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\Program Files\Java\jdk1.6.0_18\jre\bin;C:/Program Files/Java/jdk1.6.0_18/bin/../jre/bin/client;C:/Program Files/Java/jdk1.6.0_18/bin/../jre/bin;C:/Program Files/Java/jdk1.6.0_18/bin/../jre/lib/i386;C:\Program Files\Java\jdk1.6.0_18\bin;E:\Oracle\product\10.1.0\Client_2\bin;E:\Oracle\product\10.1.0\Client_2\jre\1.4.2\bin\client;E:\Oracle\product\10.1.0\Client_2\jre\1.4.2\bin;E:\Oracle\product\10.1.0\Client_1\bin;E:\Oracle\product\10.1.0\Client_1\jre\1.4.2\bin\client;E:\Oracle\product\10.1.0\Client_1\jre\1.4.2\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\system32\WindowsPowerShell\v1.0;C:\Program Files\Windows Imaging\;C:\Program Files\Java\jdk1.6.0_18\bin;E:\456789\Venkat\Servers\Tomcat\bin;E:\456789\Venkat\Servers\JBoss\bin;E:\apache-maven-2.2.1\bin;E:\456789\Venkat\Servers\apache-ant-1.7.0\bin;.;C:\Documents and Settings\456789\My Documents\Downloads\eclipse-jee-kepler-M4-win32\eclipse;
Mar 19, 2013 5:33:30 PM org.apache.coyote.http11.Http11Protocol init
INFO: Initializing Coyote HTTP/1.1 on http-8080
Mar 19, 2013 5:33:30 PM org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 769 ms
Mar 19, 2013 5:33:30 PM org.apache.catalina.core.StandardService start
INFO: Starting service Catalina
Mar 19, 2013 5:33:30 PM org.apache.catalina.core.StandardEngine start
INFO: Starting Servlet Engine: Apache Tomcat/6.0.20
Mar 19, 2013 5:33:31 PM org.apache.catalina.loader.WebappClassLoader validateJarFile
INFO: validateJarFile(E:\356387\Venkat\Juno\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\wtpwebapps\CPCPROJ\WEB-INF\lib\j2ee-1.4.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2\. Offending class: javax/servlet/Servlet.class
Mar 19, 2013 5:33:31 PM org.apache.catalina.loader.WebappClassLoader validateJarFile
INFO: validateJarFile(E:\356387\Venkat\Juno\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\wtpwebapps\CPCPROJ\WEB-INF\lib\servlet-api.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2\. Offending class: javax/servlet/Servlet.class
Mar 19, 2013 5:33:32 PM org.apache.catalina.core.ApplicationContext log
INFO: Initializing Spring root WebApplicationContext
log4j:WARN No appenders could be found for logger (org.springframework.web.context.ContextLoader).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN No appenders could be found for logger (com.tcs.framework.configuration.TCSCommonsConfigurationFactory).
log4j:WARN Please initialize the log4j system properly.
Mar 19, 2013 5:33:43 PM org.apache.catalina.core.ApplicationContext log
INFO: Marking servlet action as unavailable
Mar 19, 2013 5:33:43 PM org.apache.catalina.core.StandardContext loadOnStartup
SEVERE: Servlet /CPCPROJ threw load() exception
javax.servlet.UnavailableException
    at org.apache.struts.action.ActionServlet.init(ActionServlet.java:402)
    at javax.servlet.GenericServlet.init(GenericServlet.java:212)
    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1173)
    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:993)
    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4149)
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4458)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:722)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)
    at org.apache.catalina.core.StandardService.start(StandardService.java:516)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:710)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:583)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:413)
Mar 19, 2013 5:33:44 PM org.apache.catalina.core.ApplicationContext log
INFO: Initializing Spring FrameworkServlet 'CPCPROJ'
Mar 19, 2013 5:33:47 PM org.apache.coyote.http11.Http11Protocol start
INFO: Starting Coyote HTTP/1.1 on http-8080
Mar 19, 2013 5:33:47 PM org.apache.jk.common.ChannelSocket init
INFO: JK: ajp13 listening on /0.0.0.0:8009
Mar 19, 2013 5:33:47 PM org.apache.jk.server.JkMain start
INFO: Jk running ID=0 time=0/31  config=null
Mar 19, 2013 5:33:47 PM org.apache.catalina.startup.Catalina start
INFO: Server startup in 16435 ms 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-19T13:02:43.470

我认为您在 web.xml 中提供的数据不正确，请检查一次。

详情见[这里](http://connecttoatul.wordpress.com/2010/06/16/error-404-javax-servlet-unavailableexception-srve0203e-servlet-servletverify/)

# objective-c - iOS keepAlive 回调实例变量

> ID：15498821
> 
> 赞同：1
> 
> 时间：2013-03-19T11:54:39.100
> 
> 标签：objective-c, background, callback

当系统调用我的处理程序时，我似乎丢失了一些指向实例变量的指针。

在我的 .m 实现中，我有

```
@implementation BackgroundWorker

MyApplication* myApp;
NSDate* lastUpdate; 
```

在我的处理程序中，该变量不再有效：

```
[[UIApplication sharedApplication] setKeepAliveTimeout:600 handler:^{

  // myApp is valid however

  // Check that enough time has passed
  NSDate* now = [NSDate date];

  if (lastUpdate == nil ||         // <--- lastUpdate not a valid object
    [now timeIntervalSinceDate:lastUpdate] >= TIME_RESOLUTION_SEC) {

    // do stuff

    lastUpdate = now;
  }

}]; 
```

我在类方法中正确初始化**lastUpdate**并且它在应用程序第一次运行时有效，但是如果它进入后台并且调用了处理程序，则该变量不再有效。

有什么方法可以告诉操作系统不要在后台回调之间销毁/清除实例变量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T21:39:41.510

将值存储在应用程序委托中，但我很可能会将其存储在 NSUserdefaults 中，并在每次需要时提取值。如果用户终止应用程序，这也将保留该值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-27T14:16:33.563

在另一个线程上找到了解决方案：

[为什么某些对象成员超出了 Objective C 的范围](https://stackoverflow.com/questions/4354559/why-are-some-object-members-out-of-scope-in-objective-c)

它与属性与支持变量等有关。

我必须将 NSDate 分配给属性而不是支持变量...

# charts - 如何在 iReport 中的 HTML 5 图表中提供超链接

> ID：15498822
> 
> 赞同：1
> 
> 时间：2013-03-19T11:54:39.817
> 
> 标签：charts, jasper-reports, highcharts, ireport

我想在 HTML 5 图表中提供超链接，以便如果我单击图表区域中的任意位置，则应将其重定向到不同的报告。

如何在*iReport*中实现这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T12:50:31.763

一位 Jaspersoft 员工刚刚将我带到[了 wiki 上的这篇文章](http://community.jaspersoft.com/wiki/how-do-i-set-chart-hyperlinks-html5-charts)。文章摘要：

*   编辑图表属性->图表数据->数据轴
*   在类别下，单击以添加/修改您想要的
*   单击属性选项卡，然后单击“添加”
*   给一个名称，例如“myUrl”，然后输入 URL 并关闭它
*   在度量下，选择要链接的，然后单击超链接
*   双击每个以根据需要进行编辑

如果您希望根据切片生成不同的报告，则需要在类别存储桶的属性中设置 URL 表达式。存储桶属性没有为我显示，但我发现您可以将其键入为 bucket_name.property_name（例如存储桶名为 urlBucket，属性为 myUrl：urlBucket.myUrl）。如果是整个报表的一个报表，您可以在度量超链接中将其设置为常数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:58:54.820

通常，如果您右键单击 Ireport 中的任何图表并选择“超链接”。

在那里，您可以添加超链接详细信息，例如要添加的报告并将参数从主报告传递到子报告。你可以参考[这个链接](http://passionfordata.blogspot.in/2012/06/how-to-add-hyperlinks-in-jasper-server.html)

（但我不确定 HTML5 图表，因为我使用社区版，而在社区版中我们没有 HTML5 图表）

# makefile - Makefile 中的多个目标和库

> ID：15498825
> 
> 赞同：0
> 
> 时间：2013-03-19T11:54:56.270
> 
> 标签：makefile

我有这个文件夹/文件结构：

```
./libs/
    helpers.c
    helpers.h
./a_app.c
./b_app.c
./c_app.c 
```

每个应用程序都依赖于 helpers lib 和`GStreamer`，所以我需要编译`helpers.o`（在`libs/`文件夹内）然后链接每个应用程序。

目前我有这个Makefile：

```
CC      =   gcc
CFLAGS  =   -g -Wall -w
LFLAGS  =   -g -Wall -w -c

CFLAGS  +=  `pkg-config --cflags gstreamer-app-0.10`
LFLAGS  +=  `pkg-config --cflags gstreamer-app-0.10`

LDFLAGS =
LDFLAGS +=  `pkg-config --libs gstreamer-app-0.10`

all: examples

examples: helpers.o a_app
    $(info *** examples ***)

helpers.o:
    $(info *** helpers.o ***)
    $(CC) $(LFLAGS) libs/helpers.c -o libs/helpers.o $(LDFLAGS)

a_app: a_app.o
    $(CC) $(CFLAGS) libs/helpers.o a_app.o -o a_app $(LDFLAGS)

a_app.o: a_app.c
    $(info *** a_app.o ***)
    $(CC) $(LFLAGS) a_app.c $(LDFLAGS) 
```

虽然我可以添加`b_app`并且`c_app`我正在寻找另一种（更优雅）的方式。我不能只说我有 a、b 和 c _app 并让 Makefile 将它们全部编译并将它们与 GStreamer 和助手链接吗？

此外，有没有什么方法可以让 Makefile 编译文件而不需要告诉它`-o name_of_file`（并且可能让它在它们所在的文件夹中编译它们，因为有帮助程序库）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T12:25:48.640

好的，所以 - 正如我们在评论中讨论的那样，make 可以弄清楚如何制作 .o 文件，因此这些规则是不必要的。要为所有 *_app 文件制定通用规则（假设它们都对 helpers.h 具有相同的依赖关系，您可以这样做：

```
%_app: %_app.o libs/helpers.o 
```

Make 使用 % 作为通配符，在规则/依赖行中，通配符将在依赖项中扩展为与规则中相同的内容。在实际执行中，可以使用`$*`来获取相同的字符串。因此，所有 *_app 可执行文件的单一规则最终看起来有点像这样：

```
%_app: %_app.o libs/helpers.o
    $(CC) $(CFLAGS) libs/helpers.o $*_app.o -o $*_app $(LDFLAGS) 
```

我在我的机器上测试这个（因此评论而不是答案，最后写了这个 Makefile：

```
CC      =   gcc
CFLAGS  =   -g -Wall -w
LFLAGS  =   -g -Wall -w -c

CFLAGS  +=  `pkg-config --cflags gstreamer-app-0.10`
LFLAGS  +=  `pkg-config --cflags gstreamer-app-0.10`

LDFLAGS =
LDFLAGS +=  `pkg-config --libs gstreamer-app-0.10`

new: clean all

clean:
    rm -rf *.o */*.o *_app

all: examples

examples: a_app b_app

%_app: %_app.o libs/helpers.o
    $(CC) $(CFLAGS) libs/helpers.o $*_app.o -o $*_app $(LDFLAGS) 
```

这一切有意义吗？

编辑：我突然想到 GNU Make 可以在命令行上运行一些命令并为自己的目的存储字符串。

$(shell ls *_app.c | sed 's/.c//') 将扩展到您在当前目录中拥有的所有应用程序。所以你可以说：

```
examples: $(shell ls *_app.c | sed 's/\.c//') 
```

或者，我认为更好一点：

```
...
ALLAPPS = $(shell ls *_app.c | sed 's/\.c//')
...
all: $(ALLAPPS) 
```

这种方式`make`可以用来制作所有东西，并且`make ?_app`可以用来一次编译一个应用程序。

超级超级超级双编辑：

使用 bald`%`运算符作为目标将破坏 Make 自动生成 .o 文件的能力。这是我们在聊天中制定的解决方案：

```
CC      =   gcc
CFLAGS  =   -g -Wall -w
LFLAGS  =   -g -Wall -w -c

CFLAGS  +=  $(shell pkg-config --cflags gstreamer-app-0.10)
LFLAGS  +=  $(shell pkg-config --cflags gstreamer-app-0.10)

LDFLAGS =
LDFLAGS +=  $(shell pkg-config --libs gstreamer-app-0.10)

TARGETS = $(shell ls *.c | sed 's/\.c//')

new: clean all

clean:
rm -rf *.o */*.o *_app

all: examples

examples: $(TARGETS)

.SECONDEXPANSION:
$(TARGETS): libs/helpers.o $$@.o
$(CC) $(CFLAGS) libs/helpers.o $@.o -o $@ $(LDFLAGS) 
```

# c - UDP 客户端和服务器无法跨不同机器进行通信

> ID：15498826
> 
> 赞同：-3
> 
> 时间：2013-03-19T11:55:03.030
> 
> 标签：c, linux, sockets, networking, udp

我正在尝试运行此处给出的 UDP 客户端-服务器示例：[http](http://www.abc.se/~m6695/udp.html) ://www.abc.se/~m6695/udp.html 。**当通过将#define SRV_IP "999.999.999.999"**更改为 **#define SRV_IP "127.0.0.1"**在同一台机器上运行时 ，程序运行良好。

但是，同一个程序，其中服务器放置在一个系统上，客户端放置在另一个系统上，并将 #define **SRV_IP "999.999.999.999"**更改为 **#define SRV_IP "10.60.5.94"**（这是我的服务器 ip）不起作用. 那就是即使客户端将数据包发送到服务器的IP，服务器也无法接收它。

请建议代码在不同机器上运行所需执行的更改。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T01:08:08.740

你应该学会一次调试这个步骤。

1.  首先在客户端机器上使用嗅探器以确保 UDP 数据包实际上正在发送出去。当你在它的时候，检查数据包中的目标地址。
2.  然后在服务器机器上使用嗅探器来查看数据包是否真正进入。嗅探器将在数据包到达内核之前捕获它们。这将告诉您网络上的某些东西甚至服务器上的防火墙是否正在吃数据包。

祝你好运。

# mysql - 如何设置输入控件的语言？

> ID：15498839
> 
> 赞同：0
> 
> 时间：2013-03-19T11:56:00.410
> 
> 标签：mysql, sql, jasper-reports, jasperserver

这是我的输入控件：

![在此处输入图像描述](../Images/51491cabb2d8329bb7a73c9e47e2dc96.png)

注意“课程组”（单选查询）中的信息是英文的

这是获取“课程组”中数据的查询

```
select distinct(cog.cog_id) id, concat(cd.cd_shortdescription, ' 
(', cn.cn_shortname,' - ', cog.cog_org_be_id, ' - ', cd_code.cd_code, ')')
coursegroup
from es_exam_statistics_ft es, cg_classgroup cg, org_organisation org, 
cn_campusname cn, cog_coursegroup cog, cd_codedescription cd, cd_code
where es.es_cg_id = cg.cg_id
and es.es_cog_id = cog.cog_id
and cog.cog_coursegroup_cd_id = cd.cd_id
and cd.cd_id = cd_code.cd_id
and org.org_be_id = cog.cog_org_be_id
and org.org_campusid = cn.cn_campusid
and cg.cg_startdate >= $P{startDate}  
and cg.cg_enddate <= $P{endDate}
and cd.cd_language_id = 3
and cn.cn_language_id = 3
order by coursegroup 
```

问题出在我用粗体语言 ID 设置的行上

```
2=Afrikaans
3=English 
```

现在如您所见，查询是硬编码的，因此语言始终为英语，因此，如果用户以不同的语言登录，输入控件中的数据将始终为英语

我尝试将值***3***表单查询 ( `and cd.cd_language_id = 3`)替换`"$P{REPORT_LOCALE}.getDisplayLanguage().equals("English") ? new Integer(3): new Integer(2)"` 为在报告的 XML 中有效，但在输入控件查询中无效

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:00:06.833

您无法更改输入控件值的语言，因为这些值存储在数据库中，输入控件仅从数据库中获取数据，无论数据存储在数据库中，如果在数据库中以其他语言存储，则只有您可以更改输入控件值。

在 JasperReport 服务器级别更改输入值：-

```
 1:- Create one more input control(p_language) to ask the Language
                   (value column (id) and visible column(language desc))

 2:- then create a casecading input control to fetch the value of course group 
     using this query.

   select distinct(cog.cog_id) id, concat(cd.cd_shortdescription, ' 
    (', cn.cn_shortname,' - ', cog.cog_org_be_id, ' - ', cd_code.cd_code, ')')
    coursegroup
    from es_exam_statistics_ft es, cg_classgroup cg, org_organisation org, 
    cn_campusname cn, cog_coursegroup cog, cd_codedescription cd, cd_code
    where es.es_cg_id = cg.cg_id
    and es.es_cog_id = cog.cog_id
    and cog.cog_coursegroup_cd_id = cd.cd_id
    and cd.cd_id = cd_code.cd_id
    and org.org_be_id = cog.cog_org_be_id
    and org.org_campusid = cn.cn_campusid
    and cg.cg_startdate >= $P{startDate}  
    and cg.cg_enddate <= $P{endDate}
    and cd.cd_language_id = $P{p_language}
    and cn.cn_language_id = $P{p_language}
    order by coursegroup 
```

# c - 为什么下面的代码无效？

> ID：15498845
> 
> 赞同：1
> 
> 时间：2013-03-19T11:56:24.260
> 
> 标签：c

为什么下面的代码无效？

```
void foo()
{
    char hello[6];
    char *foo = "hello";
    hello = foo;
} 
```

但是以下代码如何有效？

```
void foo()
{
    char hello[] = "hello";
    char *foo = hello;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T11:57:27.287

您正在尝试将数组分配为指针。这是无效的。数组就像指针常量一样，它们不能用作左值——它们不能被重新分配以指向其他地方。最接近的方法是将 foo 的内容复制到 hello 中。

在第二种情况下，hello 是一个字符数组，而 foo 是一个指向字符的指针。通常，数组可以与相同类型的指针互换，因此这是有效的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-19T11:58:02.290

我认为您应该`"hello"`将字符串复制到`hello`. 这是错的。您正在尝试将指针分配给另一个。而且，您不能分配给`hello`.

正确的方法是：

```
strcpy(hello, foo); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T12:50:48.593

在第一种情况下，您将字符串分配给错误的 foo 指针。在第二种情况下，您有一个 char 数组，并将其传递给 foo 指针

# jquery - 我如何安装jquery time ago插件

> ID：15498849
> 
> 赞同：0
> 
> 时间：2013-03-19T11:56:30.703
> 
> 标签：jquery, timeago

我似乎无法让 jquery time ago 插件工作。

这是我的代码

```
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="jquery.timeago.js"></script>
</head>

<body>
 <abbr class="timeago" title="19 March 2013 04:51:33 PM"></abbr>
</body>
</html> 
```

它似乎不起作用...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T11:58:07.407

将此添加到您的页面：

```
jQuery(document).ready(function() {
  jQuery("abbr.timeago").timeago();
}); 
```

确保您遵循[http://timeago.yarp.com/](http://timeago.yarp.com/)中的说明（请参阅*如何？*部分）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T12:00:28.310

你必须像这样启动插件

```
jQuery(document).ready(function($){
 $("abbr.timeago").timeago()

}); 
```

最终的代码将是这样的

```
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="jquery.timeago.js"></script>
</head>

<body>
 <abbr class="timeago" title="19 March 2013 04:51:33 PM"></abbr>

    <script>
    jQuery(document).ready(function($){
     $("abbr.timeago").timeago()

    });
    </script>

</body>
</html> 
```

希望这可以帮助

# java - 在 Tomcat 上配置 SQL Server 连接池

> ID：15498851
> 
> 赞同：5
> 
> 时间：2013-03-19T11:56:36.223
> 
> 标签：java, sql-server, tomcat, tomcat7, connection-pooling

我一直在尝试为 SQL Server 2012 数据库配置连接池。我目前已配置并运行 Informix 和 Oracle 池，只有 SQL Server 让我头疼。到目前为止，这是我在 Context.xml 上的资源的样子：

```
<Resource name="jdbc/sqlserv"
    auth="Container"
    factory="org.apache.tomcat.dbcp.dbcp.BasicDataSourceFactory"
    driverClass="com.microsoft.sqlserver.jdbc.SQLServerDriver"
    type="javax.sql.DataSource"
    maxActive="50"
    maxIdle="10"
    maxWait="15000"
    username="username"
    password="password"
    url="jdbc:sqlserver://127.0.0.1:1433;databaseName=SQLDB;"
    removeAbandoned="true"
    removeAbandonedTimeout="30"
    logAbandoned="true" /> 
```

当然，那是使用 sqljdbc4 驱动程序。我们已经尝试将 jtds-1.3.0 与 . 一起使用`driverClass="net.sourceforge.jtds.jdbc.Driver"`，但没有成功。所有资源引用也都已正确配置。每当我尝试使用该资源创建新连接时，它都会失败。
为了比较起见，我们的 Informix 和 Oracle 资源如下所示：

```
<Resource name="jdbc/infmx"
    auth="Container"
    type="javax.sql.DataSource"
    factory="org.apache.tomcat.dbcp.dbcp.BasicDataSourceFactory"
    maxActive="50"
    maxIdle="10"
    maxWait="15000"
    username="username"
    password="password"
    driverClassName="com.informix.jdbc.IfxDriver"
    url="jdbc:informix-sqli://localhost:30091/infmx:informixserver=ol_infmx_soc"
    removeAbandoned="true"
    removeAbandonedTimeout="30"
    logAbandoned="true"/>

<Resource name="jdbc/orcl"
    auth="Container"
    type="oracle.jdbc.pool.OracleDataSource"
    driverClassName="oracle.jdbc.driver.OracleDriver"
    factory="oracle.jdbc.pool.OracleDataSourceFactory"
    url="jdbc:oracle:thin:@127.0.0.1:1521:orcl"
    user="username"
    password="password"
    maxActive="50"
    maxIdle="10"
    maxWait="15000" /> 
```

所以我的问题是：如何在我的 tomcat 上下文中正确配置 SQL Server 2012 的连接池？我到处搜索，尝试了我找到的所有东西，但没有任何效果。

提前致谢。

**[编辑]**这是堆栈跟踪： http: [//pastebin.com/w3rZSERs](http://pastebin.com/w3rZSERs)

**[edit-2]**问题似乎是Tomcat 在他的lib 文件夹中找不到驱动程序。我们很确定它在那里，但我们不知道如何确定。sqljdbc4 和 jtds-1.3.0 都会发生这种情况。我们正在遵循我们能找到的每一个指导方针，但问题仍然存在。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-20T16:39:00.070

我们发现了我们的问题。

```
driverClass="com.microsoft.sqlserver.jdbc.SQLServerDriver" 
```

本来应该

```
driverClassName="com.microsoft.sqlserver.jdbc.SQLServerDriver" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T13:32:17.287

在我看来，java 端配置正确。

您可以使用另一个 JDBC 连接（例如 SquirrelSQL 或类似软件）访问服务器吗？

如果您无法使用 Squirrel 访问服务器，可能是您没有启用对服务器的 TCP/IP 访问，在这种情况下，请遵循[Enable remote connections for SQL Server Express 2012的已接受答案](https://stackoverflow.com/questions/11278114/enable-remote-connections-for-sql-server-express-2012)

# c - 数组未初始化。每个元素都包含垃圾，但不是必需的值

> ID：15498852
> 
> 赞同：0
> 
> 时间：2013-03-19T11:56:36.363
> 
> 标签：c

1.  第一个问题：0 个错误，0 个警告。确定代码是正确的。告诉我有什么问题吗？（这是程序的一部分。）我不明白出了什么问题。至少它会显示`array[3][3] = {{1,1,1},{1,1,1},{1,1,1}}`

2.  第二个问题：但我看到的不是“零”，而是清晰的字段。（我什么也没看到）但是如果有`{{1,1,1},{1,1,1},{1,1,1}}`，我看到'1's...告诉我为什么？

```
#include <stdio.h>
#include <stdlib.h>
#include <time.h>
//#define L 3            /* Including the [0]-element */
//#define C 3            /* Including the [0]-element */
#define RANGE 100      /* Set up the range of random values */

int fill_in(int *, int, int); /* Prototype of function */

int main()
{
   int L = 3, C = 3;

   int array[L][C];  // L - Line, C - Column
   int i, j;        // Global variables

   int * aPtr;
   aPtr = &array[L][C];

   srand((unsigned)time(NULL));

   fill_in(aPtr, L - 1, C - 1);

   /* Displaying array (AFTER) */   //  <--- going to make a function, but my first one 
   printf("\nAFTER:\n");            //       doesn't work correctly =(
   for (i = 0; i <= L - 1; i++)
   {
      for (j = 0; j <= C - 1; j++)
         printf("%2.d ", array[i][j]);
      printf("\n");
   }

   return 0;
}

int fill_in( int * aptr, int m, int n)   ///  PROBLEM?  O_о
{
   int arr[m][n];
   int i, j;      // Local variables

   /* Filling array with random values */
   for (i = 0; i <= m - 1; i++)
   {
      for (j = 0; j <= n - 1; j++)
         arr[i][j] = 1;      //1 + rand()%RANGE;  // If each element == 1, it works! 
   }

   return arr[i][j];
} 
```

更新：我已经解决了！解释在代码的注释中。以下代码正常工作：

```
#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#define Lines 2            /* Including the [0]-element */
#define Columns 2            /* Including the [0]-element */
#define RANGE 100      /* Set up the range of random values */

int fill_in(int*, int, int); /* Prototypes of functions */
int display(int*, int, int);

int main()
{
    int L = Lines, C = Columns;
    int array[L][C];  // L - Line, C - Column
    int* aPtr;
    aPtr = &array[0][0];

    srand((unsigned)time(NULL));

    fill_in(aPtr, L, C);   /* Filling array with random values. */
    display(aPtr, L, C);   /* Displaying array. */

    return 0;
}

////////////////////////////////////////////////////////////////////

/**   Eureka!  The fact is that pointer of a[0][0] is *ptr[0], and
      the pointer of a[2][2] is *ptr[8] ---> The 8-th element of the array[2][2].

  >>>>   Pointer sees array[][] not as matrix (square), but as a line!
  >>>>   As if to make a line of a square matrix!

*/

int fill_in(int* aptr, int m, int n)        /* Filling array with random values. */
{
   int i;      // Local variables
   int max_number_of_element = ((m+1)*(n+1)-1);

   for (i = 0; i <= max_number_of_element; i++)
      *(aptr + i) = 1 + rand()%RANGE;

   return *aptr;
}

int display(int* aptr, int m, int n)    /* Displaying array. */
{
   int i;
   int count = 1;
   int max_number_of_element = ((m+1)*(n+1)-1);

   for (i = 0; i <= max_number_of_element; i++)
   {
      printf("%2.d  ", *(aptr + i));

      if (count % (n+1) == 0)
         printf("\n");
      count++;
   }
return i;
} 
```

代替：

```
for (i = 0; i < m; i++)
   for (j = 0; j < n; j++)
      aptr[i * n + j] = 1; 
```

我用过：

```
for (i = 0; i <= max_number_of_element; i++)   
  *(aptr + i) = 1;
//Pointer sees array[][] not as matrix (square), but as a direct sequence (line). 
```

不确定它是否在数组之外做任何事情，但主要问题已经解决。

PS如果我错了，请告诉我。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T12:01:59.123

`aptr`你在`fill_in`函数中不做任何事情。相反，您填充本地`arr`数组。改为这样做：

```
for (i = 0; i < m; i++)
{
    for (j = 0; j < n; j++)
        aptr[i * n + j] = 1;
} 
```

此外，这：

```
aPtr = &array[L][C]; 
```

需要ne

```
aPtr = &array[0][0]; 
```

您想要一个指向数组第一个元素的指针。

此外，`counter <= max - 1`使用更简洁和传统的`counter < max`符号代替 。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T12:05:59.457

这是错误的

```
int * aPtr;
aPtr = &array[L][C]; 
```

您正在分配一个指向数组边界之外的位置的指针。该数组在行和列上定义为 0-2，并且您将位置 (3,3) 分配给指针。

除此之外，您对作为参数传递给 fill_in 函数的指针什么也不做。

# java - 无法解析类型

> ID：15498859
> 
> 赞同：0
> 
> 时间：2013-03-19T11:56:56.707
> 
> 标签：java

在我的包裹中，我有两个课程：动物和游戏

Game 类有一个名为 newGame 的方法，它需要两个 Animals 类型的对象作为参数。

我的代码是：

```
Game test = new Game();
test.newGame(new Animals("x"), new Animals("y")); 
```

但是，我收到一条错误消息，告诉我无法解析类型“动物”... 建议？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T12:00:10.930

如果没有看到足够的代码（你的`Game`和`Animal`类是什么样的），很难说你是否`Animal`正确地创建了对象。但是，我可以说这条线

```
Game.newGame(new Animals("x"), new Animals("y"); 
```

是语法错误。您在该行的右侧缺少右括号。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-19T12:01:37.200

你需要关闭你的括号。

```
Game.newGame(new Animals("x"), new Animals("y"));
                                               ^ 
```

此外，如果您在不同的包中有“Animals”类，则需要使用 import 语句从该包中导入“Animals”。

```
import packagename.Animals; 
```

祝你好运。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T12:08:37.843

也许与 Animals 类的构造函数中的歧义有关？更详细的错误消息将有所帮助。

# php - 在仅显示标记文章的 WordPress 主题中循环，不起作用

> ID：15498860
> 
> 赞同：0
> 
> 时间：2013-03-19T11:56:58.033
> 
> 标签：php, content-management-system, wordpress-theming, wordpress

我是 PHP 和 WordPress 世界的新手，我在创建仅显示具有特定标签的帖子的循环时遇到问题。

在主页中，我将创建一个循环，仅显示设置了特定标签的文章，因此我为 wordpress 实现了以下 PHP 循环：

```
 <div id="column2">
        <?php   
            query_posts( 'tag=sasha' );  
            if(have_posts()): 
                while (have_posts()): the_post(); 
        ?>  

        <?php endwhile; else: ?>  
        <?php endif; ?> 
   </div> <!-- end column2 --> 
```

我有一篇文章，我在其中设置了一个标签：sasha

问题是它不起作用，我的 column2 div 仍然是空的。为什么？你能帮助我吗？

肿瘤坏死因子

安德烈亚

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:19:56.687

以下是使用时它应该如何寻找您`WP_QUERY`：

```
$args = array('tag' => 'sasha');
$the_query = new WP_Query( $args );

while ( $the_query->have_posts() ) :
        $the_query->the_post();
        echo '<div>' . get_the_title() . '</div>';
        the_content();
endwhile;

wp_reset_postdata(); 
```

# javascript - 委托事件触发重复

> ID：15498861
> 
> 赞同：0
> 
> 时间：2013-03-19T11:57:01.153
> 
> 标签：javascript, jquery, events, delegates

我确定我已经做到了，但我正在重复这个动作

```
$('body').on('click', "[data-behave='revealEditNote']", function (e) {

    e.stopPropagation();

    $(e.target).closest('.editPanel').children('.editNote').slideToggle();

}); 
```

我认为 stopPropagation 阻止了这一点，但我一定是误会了......

# objective-c - NSRect 与 CoreGraphics

> ID：15498864
> 
> 赞同：0
> 
> 时间：2013-03-19T11:57:06.407
> 
> 标签：objective-c, core-graphics, nsrect

我有一个关于在`NSView`. `NSRect` ~~何时使用类~~struct ( `drawrect`) 与使用`CoreGraphics`框架是否有“规则” ？到目前为止，我所了解的我可以将任何一个用于我的 osx 应用程序。我可以吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T12:15:34.697

首先，没有`NSRect` *类*（它是一个结构），您指的是`NSView`method `drawRect:`。一般来说，Core Graphics 框架比 AppKit 绘图方法“低级”，AppKit 通常只是围绕 Core Graphics 的“包装器”。它也是纯 C 而不是 Objective-C，因此 AppKit 通常更易于使用，但您可以在两者之间自由混合和匹配。

例如：

```
- (void)drawRect:(NSRect)rect
{
    //This uses AppKit:
    [[NSColor redColor] set];
    [[NSBezierPath bezierPathWithOvalInRect:[self bounds]] fill];

    //This does the same, using Core Graphics:
    CGContextRef ctx = [[NSGraphicsContext currentContext] graphicsPort];
    CGContextSetRGBFillColor(ctx, 1.0, 0.0, 0.0, 1.0);
    CGContextFillEllipseInRect(ctx, NSRectToCGRect([self bounds]));
} 
```

# iphone - wifi 和 Sim 网络停止运行我的 iPhone 应用程序

> ID：15498867
> 
> 赞同：-1
> 
> 时间：2013-03-19T11:57:13.673
> 
> 标签：iphone, ios, objective-c

当我在 iPhone 中运行我的应用程序进行测试时，**SIM**和**WiFi**网络一次又一次地连接和断开连接。
但是在正常情况下并运行其他应用程序它工作正常吗？

我在我的应用程序中使用 GPS 和地图服务。

1）代码问题？
2) iPhone 有问题？
3）其他？

```
 #import <UIKit/UIKit.h>
    #import <CoreLocation/CoreLocation.h>
    #import <MapKit/MapKit.h>

    @interface MainViewController : UIViewController<CLLocationManagerDelegate, 

    MKMapViewDelegate>
    @property (strong, nonatomic) IBOutlet UIView *mapView;
    @property (strong, nonatomic) CLLocationManager *locationManager;
    @property (strong, nonatomic) IBOutlet MKMapView *mkMap;
    @property (strong, nonatomic) CLLocation *myCurrentLocation;
    - (IBAction)mapView:(id)sender;
    - (IBAction)mapToMain:(id)sender;
    @end

    #import "MainViewController.h"
    #import <MapKit/MapKit.h>
    @interface MainViewController ()

    @end

    @implementation MainViewController
    @synthesize mapView;
    @synthesize mkMap;
    @synthesize myCurrentLocation;
    @synthesize locationManager;
    - (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
    {
        self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
        if (self) {
            // Custom initialization
        }
        return self;
    }

    - (void)viewDidLoad
    {
        [super viewDidLoad];
        // Do any additional setup after loading the view from its nib.

        //start core location services
        if(self.locationManager == nil)
        {
            locationManager=[[CLLocationManager alloc] init];

        }
        locationManager.delegate=self;
        locationManager.desiredAccuracy=kCLLocationAccuracyBestForNavigation;
        [locationManager startUpdatingLocation];
        mkMap.showsUserLocation=YES;
        myCurrentLocation=mkMap.userLocation.location;

    }

    #pragma mark- core location delgate method
    -(void) locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray         *)locations 
    {
        NSLog(@"locationUpdated");
        NSLog(@"%@",[locations lastObject]);
    }
    - (void)didReceiveMemoryWarning
    {
        [super didReceiveMemoryWarning];
        // Dispose of any resources that can be recreated.
    }

    - (IBAction)mapView:(id)sender {

        [self.view addSubview:mapView];
    }
    - (IBAction)mapToMain:(id)sender {
        [mapView removeFromSuperview];
    }
    @end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:08:05.993

Check ANY OTHER Maps App on your device; if the same problem persists, then your device may have problem.

If same problem is occurring in this app, (**Which is your case**); AND MAP that is provided by Iphone is not giving the problem.

THEN, Consider checking the same App, you downloaded from AppStore for checking purpose, on some other device and see if the same problem persist.

If the problem **does not** exist on other devices then, your **device** is problematic. If the problem **does** exist on other devices then, **code** you wrote is problematic.

# javascript - jQuery 不是下一个，也不是之前

> ID：15498871
> 
> 赞同：1
> 
> 时间：2013-03-19T11:57:29.800
> 
> 标签：javascript, jquery

jQuery有什么方法可以选择除前一个和下一个之外的所有兄弟元素吗？我已经研究了[jquery .removeClass() if NOT .next()](https://stackoverflow.com/questions/9701403/jquery-removeclass-if-not-next)但似乎无法找到同时做这两个的方法。此外，谷歌也没有帮助。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T11:59:55.083

**解决方案 1：**使用[索引](http://api.jquery.com/index/)和[过滤器](http://api.jquery.com/filter/)：

```
var index = $(this).index();
var $elements = $(this).siblings().filter(function(){
   var thisindex = $(this).index();
   return  thisindex < index-1 || thisindex > index+1;
}); 
```

您也可以使用带有[lt](http://api.jquery.com/lt-selector/)和[gt](http://api.jquery.com/gt-selector/)的字符串选择器，但这意味着连接索引以构建一个选择器，以便 jQuery 在之后解析 if 并执行相同的循环。

**解决方案 2：**使用[索引](http://api.jquery.com/index/)和[切片](http://api.jquery.com/slice/)：

```
var index = $(this).index();
var $elements =$(this).siblings();
$elements = $elements.slice(0, index-1).add($elements.slice(index+1)); 
```

[示范](http://jsbin.com/egovuw/1/edit)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T12:10:46.587

尝试这个：

```
var item = $('selector');
var elements = item.siblings().not(item.prev()).not(item.next()); 
```

[样本](http://jsfiddle.net/s9aJp/1/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T12:06:42.353

```
var $this = $(this)
, $rest = $this.parent().children().not($this.prev()).not($this.next()).not($this); 
```

如果您希望当前元素也包含在结果中，只需删除最后一个不调用。

```
var $this = $(this)
, $rest = $this.parent().children().not($this.prev()).not($this.next()); 
```

[小提琴](http://jsfiddle.net/KuZKy/)

# perl - 为什么我不能在 Perl 代码中绑定我的 LDAP 服务器？

> ID：15498877
> 
> 赞同：1
> 
> 时间：2013-03-19T11:57:40.763
> 
> 标签：perl, ldap

我发现我的 ldap 服务器有问题，我无法将它与我的 perl 脚本绑定，这是脚本：

```
use strict;
use Net::LDAP;

my $ldap = "";
$ldap = Net::LDAP->new("iis.aulia.net");
my $mesg = "";
$mesg = $ldap->bind("CN=app-audev-adpead,OU=Applications,OU=Special,OU=Users
,OU=FRA,DC=iis,DC=aulia,DC=net", password => "=3\6dsdKDsH30z&B/'Bub00");

die $mesg->error() if $mesg->code();
$mesg = $ldap->unbind; 
```

它总是向我展示：

> 80090308：LdapErr：DSID-0C0903A9，注释：AcceptSecurityContext 错误，数据 52e，v1db1 在 search.pl 第 16 行，第 522 行

我在后面放错组合了`$mesg = $ldap->bind`吗？那`"CN=app-audev-adpead"`是我的 ldap sever 用户登录，其格式与此相同。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-19T12:11:28.810

带着你的错误

> 80090308：LdapErr：DSID-0C0903A9，注释：AcceptSecurityContext 错误，数据 52e，v1db1 在 search.pl 第 16 行，第 522 行

根据[此页面](https://confluence.atlassian.com/display/CONFKB/LDAP+Error+Code+49)的“数据 52e”是“无效凭据”。

可能与您`\6`在双引号字符串中使用有关，这将尝试转义六个，而不是像我想象的那样表示反斜杠和六个。所以改成：

```
password => q(=3\6dsdKDsH30z&B/'Bub00) 
```

单引号`q()`将避免插值，您可以更改其分隔符以匹配您引用的任何字符串，例如`q!foo(bar)!`.

您的绑定字符串中还有一个换行符，这可能很重要，也可能不重要。

作为旁注：您真的应该在这里发布您的登录信息吗？

# memcached - 何时在非阻塞模式下使用 libmemcached？

> ID：15498878
> 
> 赞同：0
> 
> 时间：2013-03-19T11:57:44.633
> 
> 标签：memcached, libmemcached

我开始将 libmemcached 集成到我的应用程序中并阅读文档，有一个非阻塞模式标志。快速google了一下，似乎非阻塞模式有性能优势，但是非阻塞模式运行libmemcached有什么缺点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T20:54:37.233

当然有。仅当您需要确保写入的值实际上已写入 memcached 并且没有失败时，才会出现缺点。例如 - 您正在使用 memcached 存储一个计数器变量，该变量具有一个哨兵，用于在执行操作之前检查计数器是否已达到某个值。

在阻塞模式下——memcached 客户端在继续之前将等待从 memcached 获得写入成功响应，如果失败则产生错误。这样您就知道计数器已更新。如果您告诉它以非阻塞模式写入，客户端会发送请求以增加计数器，但不会等待以确保它确实发生了。因为它不等待，所以您可以在调用恢复后更快地执行代码，但不确定计数器是否会增加。

但是，由于 memcached 值在服务重新启动时被破坏（想想系统崩溃），您永远无法真正确定某个值是否存在。此外，通过低内存修剪，您也永远无法确定该值是 100% 正确的，因为它可能会被 LRU 算法修剪——您需要持久存储来缓解这种不确定性。

鉴于这种固有的不确定性，许多人使用非阻塞模式来获得性能提升，因为他们无法完全确定 memcached 中的计数器值不会被重置/不准确，所以为什么不通过权衡获得一些性能。

希望这能澄清问题。作为旁注 - MongoDB 在持久存储中具有非阻塞写入 - 虽然它的灵活性非常棒，但给使用非阻塞模式的人们更多的是一种错误的安全感，即写入总是会成功......

R

# asp.net - 如何在 ObjectDataSource 选择事件中获取调用 Gridview 名称

> ID：15498880
> 
> 赞同：1
> 
> 时间：2013-03-19T11:57:46.617
> 
> 标签：asp.net, datagridview, objectdatasource

我有 2 个网格视图，`gv1`还有`gv2`一个`ObjectDataSource`id `ods1`。两个网格视图都指向`DataSourceID="ods1"`.

我的问题是，我怎么知道在选择`ObjectDataSource`gridview 调用的事件时`ods1`。我想根据哪个 gridview 调用了`ods1`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T13:11:07.200

# 警告：提前破解

我倾向于同意[Wiktor Zychla 的回答](https://stackoverflow.com/questions/15498880/how-to-get-calling-gridview-name-in-objectdatasource-selecting-event/15500362#15500362)，但如果你*真的*需要这样做......

我能想到的唯一方法是处理每个`GridView`s 的“DataBinding”事件，并设置一个会话变量来指示哪个将调用`ObjectDataSource`“Selecting”事件。

所以你会有你的`GridView`方法：

```
protected void gv1_DataBinding(object sender, EventArgs e)
{
    Session["currentGridID"] = "gv1";
} 
```

和

```
protected void gv2_DataBinding(object sender, EventArgs e)
{
    Session["currentGridID"] = "gv2";
} 
```

然后，您可以检查该 Session 变量，以查看这次触发时`ObjectDataSource`其中的 ID ：`ObjectDataSource`

```
protected void ods1_Selecting(object sender, ObjectDataSourceSelectingEventArgs e)
{
    if(Session["currentGridID"] == "gv1")
    {

    }
    else
    {

    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T13:05:57.167

我认为这并不容易，而且感觉这与 ODS 背后的想法背道而驰。

您可以委托两个`ObjectDataSource`s 从相同的存储库类中获取数据，但如果您想拥有两组不同的参数，您仍然需要两个不同的数据源。因此，您不会复制代码，因为存储库代码在对象数据源实例之间共享。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-19T12:38:13.410

获取调用objectdatasource的gridview的名称

您可以执行以下操作：

```
string CallingGridName = ((ObjectDataSourceID)sender).ID; 
```

# c# - 在 Windows8 中编写 C#/Xaml 与 HTML/JavaScript WinRT 应用程序的优缺点是什么

> ID：15498889
> 
> 赞同：12
> 
> 时间：2013-03-19T11:58:12.813
> 
> 标签：c#, javascript, html, xaml, windows-store-apps

我正计划开发一个 Metro 应用程序，该应用程序将联系服务器并下载和预览图像、PDF、音频和视频文件。我很困惑是用 C#/Xaml 还是 HTML/JavaScript 编写它。

我有 C#/Xaml 背景，我会在 HTML/JavaScript 而不是 C#/Xaml 中获得相同的开发优势吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T12:05:13.157

我找到了一个现有的线程，其中有几个有用的答案：

[https://softwareengineering.stackexchange.com/questions/156361/advantages-and-disadvantages-to-using-xaml-c-or-html5-javascipt-for-metro-apps](https://softwareengineering.stackexchange.com/questions/156361/advantages-and-disadvantages-to-using-xaml-c-or-html5-javascipt-for-metro-apps)

问候，克里斯

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-01T16:23:45.967

[这里](http://channel9.msdn.com/Events/Build/2013/2-192)有一个//Build/ 2013 会话记录，它准确地描述了每个平台的优点和缺点。

# wpf - 一个控件的多个 dataContext - MVVM

> ID：15498890
> 
> 赞同：9
> 
> 时间：2013-03-19T11:58:13.617
> 
> 标签：wpf, mvvm, datacontext

我不确定我的问题标题是否完全代表我的问题，我会尽力解释：

我有一个网格单元 DataTemplate：（网格属于第三方公司，但对我的问题并不重要）

```
<DataTemplate>
    <TextBlock>
        <Hyperlink Command="{Binding OpenLinkCommand}"> 
            <Hyperlink.ToolTip>
                <TextBlock Text="{Binding Data.MapLink}"/>
            </Hyperlink.ToolTip>
            <TextBlock Text="{Binding Data.MapLink}" TextDecorations="underline">
        </Hyperlink>
    </TextBlock>
</DataTemplate> 
```

我想让这个 DataTemplate 显示一些超链接（“Data.MapLink”是包含链接值的对象），每次点击这个链接都会触发命令“OpenLinkCommand”。

问题是“Data.MapLink”和“OpenLinkCommand”位于不同的dataContext中，然后我必须选择以下选项之一：

1.  保留超链接 dataContext - 该命令将不起作用，超链接将获取 Data.MapLink 值。

2.  将超链接 dataContext 更改为命令 datacontext - 该命令将起作用，但超链接名称将为空。

遗憾的是我没有选项将这些项目放在同一个 dataContext 中，所以我必须找到一种方法来告诉命令它的 dataContext 是“X”并告诉超链接它的 dataContext 是“Y”。

我希望我的问题很清楚我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-19T13:09:27.927

您可以使用一些绑定属性来指定`Source`与默认值不同的绑定`DataContext`

最常见的是`ElementName`or `RelativeSource`，它将在 VisualTree 中找到另一个 UI 元素，以便您可以绑定到它的属性。

例如，以下用于`ElementName`告诉绑定它应该`MyGridView`用作绑定源，并绑定到`MyGridView.DataContext.OpenLinkCommand`

```
<Hyperlink Command="{Binding ElementName=MyGridView, 
                             Path=DataContext.OpenLinkCommand}"> 
```

您还可以`RelativeSource`在绑定中使用以在指定对象类型的 VisualTree 中进一步查找对象，并将其用作绑定源。这个例子和上面的例子做同样的事情，除了它使用`RelativeSource`而不是`ElementName`，所以你`GridView`不需要`Name`指定。

```
<Hyperlink Command="{Binding 
               RelativeSource={RelativeSource AncestorType={x:Type GridView}}, 
               Path=DataContext.OpenLinkCommand}"> 
```

第三种选择是将绑定的`Source`属性设置为静态对象，如下所示：

```
<Hyperlink Command="{Binding 
               Source={x:Static local:MyStaticClass.OpenLinkCommand}}"> 
```

根据[您在此处](https://stackoverflow.com/questions/15498890/multiple-datacontext-for-one-control-mvvm/15500436#comment21943543_15499068)关于绑定到单例的评论，这可能是您的最佳选择。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:06:24.807

您将必须拥有所需数据上下文的实例（通常在控件或窗口的资源中）。一旦你有了它，你应该能够显式地设置文本块的数据上下文，而不是自动继承父数据上下文。

例如：

```
<TextBlock DataContext="{StaticResource MyDataMapLinkDataContext}" Text="{Binding Data.MapLink}" TextDecorations="underline"/> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T12:21:17.303

如果您确实需要为额外的数据上下文使用另一个属性，那么您可以只使用附加属性。

**XAML**

```
 <Window.Resources>
        <Style TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <ContentPresenter Content="{Binding (local:ExtraDataContextProvider.ExtraDataContext), RelativeSource={RelativeSource TemplatedParent}}"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <Button Margin="172,122,131,79" Foreground="Green" local:ExtraDataContextProvider.ExtraDataContext="A test">
            test
        </Button>
    </Grid>
</Window> 
```

**代码**

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Data;
using System.Windows.Documents;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Imaging;
using System.Windows.Navigation;
using System.Windows.Shapes;

namespace WpfApplication1
{

    public class ExtraDataContextProvider : DependencyObject
    {
        public static object GetExtraDataContext(DependencyObject obj)
        {
            return (object)obj.GetValue(ExtraDataContextProperty);
        }

        public static void SetExtraDataContext(DependencyObject obj, object value)
        {
            obj.SetValue(ExtraDataContextProperty, value);
        }

        public static readonly DependencyProperty ExtraDataContextProperty = DependencyProperty.RegisterAttached("ExtraDataContext", typeof(object), typeof(ExtraDataContextProvider), new PropertyMetadata(null));
    }

    /// <summary>
    /// Interaction logic for MainWindow.xaml
    /// </summary>
    public partial class MainWindow : Window
    {
        public MainWindow()
        {
            InitializeComponent();
        }
    }
} 
```

# maven - 实现 JBehave 导航器

> ID：15498895
> 
> 赞同：2
> 
> 时间：2013-03-19T11:58:32.433
> 
> 标签：maven, jbehave

有没有人成功实施 jbehave-navigator 的有效解决方案？我正在使用 3.7.5 版的 jbehave 核心/导航器。

我尝试导入依赖项并使用 maven-dependency-plugin 对其进行解包。这会显示页面，但存在格式问题（所有浏览器中的所有内容都不一致），并且不包含报告中的任何数据。

```
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-dependency-plugin</artifactId>
    <version>2.6</version>
    <executions>
        <execution>
            <id>unpack-jbehave-navigator</id>
            <phase>initialize</phase>
            <goals>
                <goal>unpack</goal>
            </goals>
            <configuration>
                <artifactItems>
                    <artifactItem>
                        <groupId>org.jbehave</groupId>
                        <artifactId>jbehave-navigator</artifactId>
                        <type>jar</type>
                        <outputDirectory>target/jbehave/view</outputDirectory>
                    </artifactItem>
                </artifactItems>
            </configuration>
        </execution>
    </executions>
</plugin> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T13:05:45.187

看起来以下两页提供了有关使用/解压缩 Navigator 的一些详细信息：

*   [http://www.pankajnakhat.com/blog1/bdd/03/jbehave-story-navigator-dictionary-of-all-the-steps/](http://www.pankajnakhat.com/blog1/bdd/03/jbehave-story-navigator-dictionary-of-all-the-steps/)
*   [https://github.com/pnakhat/nav](https://github.com/pnakhat/nav)

查看 GitHub 项目的`pom.xml`文件。似乎有一些额外的`resource`配置，`unpack-view-resources`也是`jbehave-maven-plugin`. GitHub 项目看起来像一个工作示例。

# c# - 超出范围时给出错误消息

> ID：15498899
> 
> 赞同：3
> 
> 时间：2013-03-19T11:58:40.697
> 
> 标签：c#, asp.net-mvc, razor, error-handling

我正在制作一个应用程序，在我的应用程序中，我有一个范围为 4 - 64 的文本字段

现在我正在寻找一种方法，当用户尝试将一封信放在此范围之外并按下按钮提交时给他一个错误消息，它需要说一些无效的信息......

因此，例如，他在文本字段中放置了一个 2 并单击提交，它需要在警报框或其他内容中提供错误消息。

我模型中的文本字段：

```
[DisplayName("Length")]
        [Range(4, 64, ErrorMessage = "Test")] //errormessage isn't working
        public int LengthField { get; set; } 
```

我的视图上的文本字段 + 提交按钮：

```
@Html.LabelFor(m => m.LengthField):
@Html.TextBoxFor(m => m.LengthField) (4 - 64 chars)

<button type="submit" id="btn_submit">Submit</button> 
```

在互联网上我读到了一些关于@Html.ValidationSummary 也许我可以使用它？但是，当有人知道一个好方法时，这很好

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T12:00:05.943

在你的下方`TextBoxFor`，添加一个`ValidationMessageFor`，如下所示：

```
@Html.ValidationMessageFor(m => m.LengthField) 
```

这将在文本框旁边显示错误消息。

要将其显示在页面顶部，请将其添加到视图顶部：

```
@Html.ValidationSummary() 
```

# mod-rewrite - mod重写资源

> ID：15498905
> 
> 赞同：0
> 
> 时间：2013-03-19T11:59:02.710
> 
> 标签：mod-rewrite

我试图在我的网络应用程序上重写一些网址，问题是它也重写了图像/css/js/等......我的.htaccess：

```
DirectoryIndex engine.php
RewriteEngine On
Options -MultiViews
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ engine.php?link=$1 
```

和一些示例html：

```
<img src="./theme/default/images/img.png" height="50px" /> 
```

问题是如果我这样做：[http](http://domain.com) ://domain.com它可以工作，但如果我这样做[http://domain.com/test/asd](http://domain.com/test/asd)它会将图像重写为 /asd/theme/default/images/img.png ...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:07:01.340

这可能不是您的重写本身的问题，它可能是用于您的资源的 src 路径的问题。没有存在的文件被重写。如果您使用的是相对路径，则将 URI 重写为更深的路径（即）。

如果您正在请求`http://domain.com/test/asd`并且资源位于，`http://domain.com/theme/default/images/img.png`请确保您的源路径是完全合格的或`/default/images/img.png`. 根据您的描述，听起来资产的路径是`default/images/img.png`. 由于您的重写使您看起来位于一个名为的文件夹中`test/asd`，因此域上的路径变为`test/asd/default/images/img.png`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-27T12:33:21.657

您可以使用

```
<base href="http://domain.com/" /> 
```

BASE 元素必须出现在文档的 HEAD 部分中，在任何引用外部源的元素之前。

# java - 使用 Tomcat 将文本文件放在 Eclipse 动态 Web 项目中的什么位置？

> ID：15498912
> 
> 赞同：5
> 
> 时间：2013-03-19T11:59:17.817
> 
> 标签：java, tomcat, servlets, web-content

我正在使用 Tomcat 7 在 Eclipse 中开发一个动态 Web 项目。我所有的 html、css 和 javascript 文件都位于eclipse 工作区的**WebContent文件夹中。**所有的 java 文件都在**src**文件夹中。一切都适用于简单的程序。但现在我想从 java 程序中读取一个文本文件。我不确定将文本文件放在 Eclipse 工作区中的哪个位置，以便将其正确部署到 Eclipse 的 ./metadata 文件夹内的 Tomcat webapps 目录中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:05:12.563

您可以使用 ServletContext.getResourceAsStream() API。

可以在[此链接](http://www.xyzws.com/Servletfaq/how-to-use-servletcontextgetresourceasstreamjavalangstring-path/18)中找到一个示例。它建议该文件应保存在 /WEB-INF 目录中

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-19T12:14:08.160

将您的文件放在 webroot 文件夹内或 webroot 文件夹外任何可以读取文件的地方。

由于web 应用程序的默认**类路径**，因此在**classes 文件夹内很好**

# wso2 - WSO2 Stratos - 多租户应用程序开发

> ID：15498915
> 
> 赞同：1
> 
> 时间：2013-03-19T11:59:28.670
> 
> 标签：wso2

我正在探索产品 WSO2 Stratos，观看了一些网络研讨会录音。我想创建一个应用程序并将其公开为 SAAS。其中一个 webex 记录详细介绍了这一点，但它没有解释数据存储的多租户。有没有相同的教程？我想使用共享模式进行数据存储。我可以为此使用哪种数据库（例如：MySql、MongoDB、Cassandra 等）是否可以使用像 Athena 这样的框架作品？我只是想做一种 POC，然后我需要确定这个平台是否真的适合我正在考虑构建的应用程序

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T12:06:54.503

您可以通过 StratosLive 中的 WSO2 存储服务器创建数据库，该数据库可通过 storage.stratoslive.wso2.com 访问。您需要创建一个数据库并将用户附加到它。然后，您可以像在正常情况下那样从您的 webapp 访问该数据库（您将获得一个 jdbc url）。此外，您可以在存储服务器中创建 Cassandra 键空间。但我们目前没有 MongoDB 支持。目前还没有这方面的文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T09:41:55.237

你是对的。多租户数据架构由用户决定。[Microsoft 的这份白皮书很好地解释了多租户数据架构](http://msdn.microsoft.com/en-us/library/aa479086.aspx)。然而，白皮书是在假设您使用 RDBMS 的情况下编写的。我没有玩过 Athena，所以很难说它将如何与 Stratos 提供的映射。当您使用 NoSQL 数据库时，数据架构可能会有所不同，并且不同的数据库有不同的方式来按给定租户（或 ID）过滤一组数据。所以可能会按照白皮书映射到，

不同的数据库 -> 不同的键空间
不同的表 -> 不同的列族
共享模式 -> 共享列族

最好事先定义您的应用程序特征，然后选择合适的数据库

# bash - 打破无限循环

> ID：15498916
> 
> 赞同：6
> 
> 时间：2013-03-19T11:59:32.870
> 
> 标签：bash, loops, cat

我在 bash 中运行这个查询：

```
mkfifo resp
while true; do 
    sudo nc -l -p 80 < resp |
    (cat & echo -e "HTTP/1.1 200 OK\r\n\r\nhello :)" > resp) ||
    break; 
done 
```

然而，当我`Ctrl+C`，什么都没有发生，终端锁定。

为什么？我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T18:02:47.207

我无法在我的环境（RHEL）中重新创建它——CTRL-C 对我来说很好。在您的终端锁定后，我会打开一个新终端并使用它`strace -p`来查看发生了什么。

不过，我认为命令设置通常存在一些问题。

首先是你`cat`在子shell中做背景。 [这样做会`stdin`生成`cat`command`/dev/null`](http://www.gnu.org/software/bash/manual/bashref.html#Lists)，而不是`nc`您要通过管道传输到 subshel​​l 的输出。您可以通过比较以下输出来查看差异：

```
#! /bin/bash
# doesn't print yay
while true; do
    echo yay |
    (cat & false) ||
    break
done 
```

有了这个：

```
#! /bin/bash
# does print yay
while true; do
    echo yay |
    (cat ; false) ||
    break
done 
```

另外，我不清楚这是否是故意的，但是您的循环的中断条件通常基于子shell的退出代码，而子shell的退出代码`echo`将始终成功，所以循环通常是无限的。您可以通过将`false`上述之一替换为`echo`：

```
#! /bin/bash
while true; do
    echo yay |
    (cat & echo test) ||
    break
done 
```

而且，正如@chepner 指出的那样，您的`nc`一般用法也是不正确的。根据其手册页：

```
-l      Used to specify that nc should listen for an incoming connection rather than initiate a connection to a remote host.  It is an error to use this option in conjunction with the -p, -s, or -z options. 
```

这实际上导致您的`nc`命令什么都不做（没有输出，只是坐在那里）。您可以通过`mkfifo resp ; nc -l -p 80 < resp`以 root 身份在一个 shell 中运行，然后以 root`echo -e "HTTP/1.1 200 OK\r\n\r\nhello :)" > resp`身份在另一个 shell 中运行来看到这一点。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T16:59:16.090

我怀疑sudo。您是否尝试过从脚本中删除 sudo 并 sudo 整个脚本？

您是否尝试过 ctrl-Z 和 ps a 来查看是什么阻碍了它？

# themes - 如何在 Drupal 7 中手动设置视图主题？

> ID：15498918
> 
> 赞同：2
> 
> 时间：2013-03-19T11:59:40.300
> 
> 标签：themes, drupal-views

我是drupal的新手，我正在尝试弄清楚如何为视图设置主题。我目前有一个名为 Category 的内容类型，其中包含以下字段：Title、Image 和 Body。我为上述内容类型创建了一个**视图，以便列出我创建的所有类别的视图。**为了自定义主题视图，我在主题文件夹中创建了一个名为**views**的文件夹，并创建了以下视图文件：

1.  视图-视图-字段--插件-categories.tpl.php
2.  视图--插件-categories.tpl.php
3.  视图-视图-未格式化--插件-categories.tpl.php

这是我目前在我的第一个文件中的内容：

```
<div class="<?php print $classes; ?>">

  <?php if ($rows): ?>
    <div class="view-content">
      <?php print $rows; ?>
    </div>
  <?php elseif ($empty): ?>
    <div class="view-empty">
      <?php print $empty; ?>
    </div>
  <?php endif; ?>

  <?php if ($more): ?>
    <?php print $more; ?>
  <?php endif; ?>

</div><?php /* class view */ ?> 
```

我厌倦了使用 print $field['image'] 和 print $field['body'] 而不是 $rows，但这种方法似乎确实有效。您能否建议我如何在类别中使用视图显示三个字段的主题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T21:03:21.037

你应该这样命名你的模板

```
views-view-fields--<machine-name-of-your-view>.tpl.php 
```

因此，我从上面假设您的视图称为“插件类别”。一个简单的检查方法是在编辑页面上编辑视图并查看 URL。它的格式应该是**/admin/structure/views/view/YOUR-VIEW'S-MACHINE-NAME/edit**，所以你可以从那里得到它。

一旦您确定它的名称正确，请清除您的缓存以确保 Drupal 正在选择您的新模板。您只需要上面的一个，而不是全部三个来修改相关三个字段的输出。

清除缓存后，Drupal 应该会选择新模板。您没有确切提到什么不起作用，只是说它不起作用，所以我想介绍命名和缓存，以防万一。现在，要在此视图模板中输出特定字段，请像这样调用它们：

> ```
> $fields['your-field-machine-name'] 
> ```

所以 $fields['body'] （*我认为你缺少一个 's'*）

你应该在这个模板中没有任何关于 $rows 的内容！如果您有任何关于 $rows 的信息，则说明您没有从正确的视图模板中复制和粘贴。只需使用上面的语法按照您想要的任何顺序输出您希望它们出现在视图中的字段，然后放入您想要的任何 css 类等。

让我们知道这是否有效！

# wiki - 有没有办法获得到当前版本的 DokuWiki 页面的永久链接（永久链接）？

> ID：15498919
> 
> 赞同：0
> 
> 时间：2013-03-19T11:59:46.577
> 
> 标签：wiki, dokuwiki

有没有办法生成指向当前页面版本的永久链接？通过单击旧版本，我可以获得指向以前版本的链接（例如[https://www.dokuwiki.org/faq:support?rev=1354115567 ）。](https://www.dokuwiki.org/faq:support?rev=1354115567)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T13:51:13.420

在 URL 中使用`?rev=0`将始终将您带到当时的当前版本。也许空编辑会有所帮助（内容不会改变，您*可能会*得到一个编辑历史条目）。

现在，如果您可以实际访问托管 DW 的文件服务器，则可以`id`通过首先检查旧版本中最新编辑的 id 来获取最新版本（at-the-moment-current-one）的 id，然后转到`${DOKUWIKI}/data/attic`目录并检查与您想要的页面名称相对应的数字。如果我没记错的话，将有一个文件更新`id`（更高的数值）对应于当前版本。例如，对于您的最后一次编辑，`mypage.1263571254.txt.gz`您可能会找到**一个**更高的索引，例如`mypage.1291408231.txt.gz`.

**编辑**：相同的值确实显示在呈现页面的源中的某处。如果您启用了部分编辑并且按钮确实显示在页面中，请在源（大多数浏览器上为 CTRL+U）中搜索`form class="button btn_secedit"`，然后继续阅读，直到您阅读到一个输入元素，其中`name="rev"`和 a`value=`应该对应于当前的数字修订。

* * *

使用找到的那个`id`作为论据`?rev=`应该可以揭示它是否是正确的，从而使您获得此修订版的永久链接。

**注意**：我没有在自己的安装中尝试过这个。

# java - 如何在两个 Weblogic 域之间进行通信？

> ID：15498921
> 
> 赞同：2
> 
> 时间：2013-03-19T11:59:50.673
> 
> 标签：java, security, cross-domain, weblogic

我在 Weblogic 域上部署了一个应用程序，它从浏览器获取登录请求。

实际登录过程发生在位于同一台机器上的 SECOND Weblogic 域上。

我需要以下内容：
- 在第一个域上识别为登录而进行的调用。
- 将登录请求转发到第二个域。
- 将第二个域的响应发送到第一个域，以便继续该过程；例如，如果用户成功通过身份验证，则需要为他打开一个会话，向浏览器返回响应等。

**注意**
- 我假设我应该在 web.xml 中使用过滤器来识别登录请求已经到达，如果我是对的，我想听听它如何连接到对第二个服务器的调用。
- 我对如何实现两个域之间的通信感兴趣。
- 您将如何防止对第一个域的虚假“成功身份验证”调用；即我想确保如果我的第一个域获得了成功的身份验证调用，那么我想确保调用确实通过了身份验证服务器（即第二个域）。

我将不胜感激任何想法或帮助，谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-21T12:26:11.840

Well,I have two ideas,just for your own consideration!

First,just use digital certificate to sign the request,for webserivce https is the option,this is the common way to deal with fabrication problem.

Second,Implement your custom security provider is a more standard way than do it in the filter,it's typcially a JAAS LoginModule implementation,which call the webservice on the second domain for authentication.By this way ,authentication is delegated to weblogic server and the application for on first domain has loosely coupled with the second domain.

By the way, check the weblogic documentation for detail of how to implement a custom provider,this is for weblogic version 10.3.2 [Developing Security Providers](http://docs.oracle.com/cd/E15523_01/web.1111/e13718/toc.htm)

# actionscript-3 - 如何生成一定数量的敌人？

> ID：15498924
> 
> 赞同：-1
> 
> 时间：2013-03-19T11:59:54.987
> 
> 标签：actionscript-3

我正在开发基于 Asgamer 教程的游戏。我目前正在尝试让 5 个敌人立即生成。生成敌人的代码是：

```
var enemy:Stinger = new Stinger(stage, ourShip);
enemyList.push(enemy);
stage.addChild(enemy); 
```

我知道我需要以某种方式循环这段代码 3 次，但是我所有使用循环的尝试都失败了，非常糟糕。应该注意的是，我刚刚进入动作脚本，所以此时我是一个完整的菜鸟，我需要非常基本的说明。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:04:08.430

你需要一个循环。喜欢：

```
for (var i:Number=0; i<3, i++){
     var enemy:Stinger = new Stinger(stage, ourShip);
     enemyList.push(enemy);
     stage.addChild(enemy);
} 
```

有关 for 循环和迭代的更多信息，请访问：[http ://www.republicofcode.com/tutorials/flash/as3loops/](http://www.republicofcode.com/tutorials/flash/as3loops/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:55:55.723

你说你需要创造五个敌人，但是你说你需要循环三遍。除非你做一些不寻常的事情，否则循环 3 次会得到 3 个敌人，循环 5 次会得到 5 个敌人。

```
var enemy:Stinger;
for (var i:int = 0; i < 5; i++)
{
    enemy = new Stinger(stage, ourShip);
    enemyList.push(enemy);
    stage.addChild(enemy);
} 
```

敌人的声明被排除在循环之外，以防止不断地破坏和重新创建变量。听起来你还在学习循环，所以这基本上是正在发生的事情：

```
var enemy:Stinger;
var i:int = 0;

enemy = new Stinger(stage, ourShip); // i = 0, i < 5
enemyList.push(enemy);
stage.addChild(enemy);
i++;

enemy = new Stinger(stage, ourShip); // i = 1, i < 5
enemyList.push(enemy);
stage.addChild(enemy);
i++;

enemy = new Stinger(stage, ourShip); // i = 2, i < 5
enemyList.push(enemy);
stage.addChild(enemy);
i++;

enemy = new Stinger(stage, ourShip); // i = 3, i < 5
enemyList.push(enemy);
stage.addChild(enemy);
i++;

enemy = new Stinger(stage, ourShip); // i = 4, i < 5
enemyList.push(enemy);
stage.addChild(enemy);
i++;

// i = 5; since i is no longer less than 5, stop here. 
```

# javascript - Javascript 开关始终默认

> ID：15498932
> 
> 赞同：0
> 
> 时间：2013-03-19T12:00:07.060
> 
> 标签：javascript, loops, switch-statement, default

我正在开发一个根据值设置 2 个变量的开关，如下所示：

```
switch(_drukte) {
    case "normaal": 
        _gradients.push("green");
        _widths.push("20%");
    break;
    case "drukker": 
        _gradients.push("yellow");
        _widths.push("40%");
    break;
    case "gezellig druk": 
        _gradients.push("orange");
        _widths.push("60%");
    break;
    case "druk": 
        _gradients.push("red");
        _widths.push("80%");
    break;
    case "vol": 
        _gradients.push("full");
        _widths.push("100%");
    break;
    default:
        _gradients.push("green");
        _widths.push("20%");
    break;
} 
```

出于某种原因，这总是调用默认值。_drukte 来自 JSON 文件的 AJAX 获取，并且值会随着循环而变化。我已经提醒了 _drukte 的值，它与预期的一样（目前是“normaal”、“drukker”、“gezellig druk”、“druk”和“vol”）。我尝试弄乱其他情况（甚至使其无效的javascript），它只是调用默认值。

有人知道为什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T12:05:08.350

我不想离窗太远，但我几乎可以向您保证，您的*ajax 请求*的返回值不适合您`case`的 100%。

如果我是你，我会直接`console.log( _drukte );`在那`switch`句话之前。

也许空白？大写字母 ？

这是我可以在不查看您的实际代码的情况下提供的最佳答案，因此请尝试找出遇到`_drukte`时包含的确切值。`switch statement`

# c# - 表达式在 Int32 字段上使用 StartWith 创建谓词

> ID：15498933
> 
> 赞同：1
> 
> 时间：2013-03-19T12:00:09.387
> 
> 标签：c#, .net, expression, predicate

下面的表达式生成器工作正常。如果`subMember`是字符串则没问题。

想象一下，现在我收到一个`subMember`命名`Code`，这`Code`是一个`Int32`。在这方面，我想制作一个`StartWith`，但我无法解析，因为它是一个`Int32`. 我想，我必须转换为字符串。我该如何实施？

例如：100、102、105、200、300、301、3011 ...

如果 subMember = "10"，则结果为 100,102,105

如果 subMember = "30"，则结果为 300,301,3011

如果 subMember = "301"，则结果为 301,3011

```
private static Expression<Func<T, bool>> BuildPredicate<T>(string member, object value)
{
    var p = Expression.Parameter(typeof(T));
    Expression body = p;
    foreach (var subMember in member.Split('.'))
    {
        body = Expression.PropertyOrField(body, subMember);
    }
    return Expression.Lambda<Func<T, bool>>(
        Expression.Equal(body, Expression.Constant(value, body.Type)), p);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:23:58.973

因为`StartsWith`只有字符串才真正有意义，所以我要做的第一件事就是使用`string value`. 现在，在`foreach`解析成员的循环之后，我们可以检查的类型`body`：

```
if(body.Type != typeof(string)) body = Expression.Call(body, "ToString", null); 
```

然后应用`StartsWith`：

```
body = Expression.Call(body, "StartsWith", null, Expression.Constant(value)); 
```

然后创建 lambda：

```
return Expression.Lambda<Func<T, bool>>(body, p); 
```

然而！如果这是针对 LINQ-to-EF / LINQ-to-SQL，它将取决于库支持语法，例如：

```
.Where(x => x.Foo.Bar.ToString().StartsWith("1")) 
```

因为那是正在建造的东西。此外，我不希望这适用于任何数据库索引。搜索那些以*文本*开头的整数`"1"`并不是一个明显的索引操作。最后：注意负数等；`-1`不“开始”与`"1"`.

# dojo - 使用 Dojo 在 Worklight 中自定义 ListView

> ID：15498936
> 
> 赞同：-1
> 
> 时间：2013-03-19T12:00:11.293
> 
> 标签：dojo, ibm-mobilefirst

我正在开发一个 Worklight 项目，并且正在尝试使用自定义列表视图。我使用 Dojo 工具包来实现它，但它没有达到我的预期。关于设计我很困惑。这是我的代码：

```
<div id="bookmarks" data-dojo-type="dojox.mobile.ScrollableView">
    <h1 data-dojo-type="dojox/mobile/Heading">Some Heading</h1>

    <ul data-dojo-type="dojox.mobile.RoundRectList">
        <li data-dojo-type="dojox.mobile.ListItem" data-dojo-props="label:'Item'"><button
    data-dojo-type="dojox.mobile.ToggleButton">Label</button></li>          
    </ul>
</div> 
```

![：](../Images/25b0502ee7f4030e0ba0aa85205e17d5.png)

我想要这种类型的 listView，它在每个列表项中包含图像标签、图标标签和复选框

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T13:43:15.897

查看关于 ListItems 的 Dojo 文档，了解添加图标等内置选项的示例。

dojotoolkit.org/reference-guide/1.8/dojox/mobile/ListItem.html#dojox-mobile-listitem

对于更复杂的布局，比如大标题、小副标题、时间戳，可以使用 span 标签和 css。

# linked-list - Graphviz 链表箭头尾原点

> ID：15498940
> 
> 赞同：1
> 
> 时间：2013-03-19T12:00:24.083
> 
> 标签：linked-list, graphviz

我想绘制一个垂直对齐的链表，例如来自 Wikimedia Commons 的链表：

[![信用：维基共享资源](../Images/7f6a2184f83767bc37da1212c10de0ae.png)](http://en.wikipedia.org/wiki/File:Singly-linked-list.svg)

到目前为止，我最好的镜头是：

```
digraph foo {
        rankdir=LR;
        node [shape=record];
        a [label="{ <data> 12 | <ref> }"]
        b [label="{ <data> 99 | <ref> }"];
        c [label="{ <data> 37 | <ref> }"];
        d [shape=box];
        a:ref -> b:data [arrowhead=vee, arrowtail=dot, dir=both];
        b:ref -> c:data [arrowhead=vee, arrowtail=dot, dir=both];
        c:ref -> d      [arrowhead=vee, arrowtail=dot, dir=both];
} 
```

这使：

![在此处输入图像描述](../Images/0da6b1154b925640325329e9ecd2f9ef.png)

如何将箭头点设置为源自记录内，并将`d`记录设置为显示为`X`节点？

我试过`tailclip=false`了，没有运气。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T12:17:48.303

您需要设置`tailclip=false` *并*指示边缘尾端的**罗盘点：**

```
digraph foo {
        rankdir=LR;
        node [shape=record];
        edge [tailclip=false];
        a [label="{ <data> 12 | <ref> }"]
        b [label="{ <data> 99 | <ref> }"];
        c [label="{ <data> 37 | <ref> }"];
        d [shape=box];
        a:ref:c -> b:data [arrowhead=vee, arrowtail=dot, dir=both];
        b:ref:c -> c:data [arrowhead=vee, arrowtail=dot, dir=both];
        c:ref:c -> d      [arrowhead=vee, arrowtail=dot, dir=both];
} 
```

![图形输出](../Images/943349eb4d77ed1b5a93ea9213746194.png)

不幸的是，最后一个节点所需的形状不包含在可用的[默认形状](http://www.graphviz.org/content/node-shapes)中。您可以使用 postscript 或位图图像添加[自定义形状，如果使用](http://www.graphviz.org/wiki/how-create-custom-shapes)[SVG](https://stackoverflow.com/a/7302526/63733)输出，甚至可以添加 SVG。

# netbeans - netbeans 7.2 中的自定义提示

> ID：15498944
> 
> 赞同：0
> 
> 时间：2013-03-19T12:00:28.720
> 
> 标签：netbeans

是否可以在 Tools > Options > Editor > Hints 添加自定义 PHP 或 JavaScript 提示？

![http://netbeans.org/images_www/articles/71/java/editor-codereference/customizehints.png](../Images/0c660c9dbe29ef42975ecf40a82026b3.png)

# android - 手机电量低时安卓蓝牙连接问题

> ID：15498946
> 
> 赞同：0
> 
> 时间：2013-03-19T12:00:33.567
> 
> 标签：android, bluetooth

它的 Morly 就像一个逻辑问题，我发现我的三星 Galaxy 选项卡有一个奇怪的行为，我创建了一个具有蓝牙连接和通信功能的应用程序，所以问题是当我的手机电池没电时（处于临界阶段或剩余 15%）手机无法连接蓝牙设备不知道为什么？有没有人发现类似的问题？

# google-apps-script - 共享脚本中的用户身份

> ID：15498950
> 
> 赞同：0
> 
> 时间：2013-03-19T12:00:37.487
> 
> 标签：google-apps-script, google-sheets

根据这个[http://productforums.google.com/forum/#!topic/apps-script/gGTd0uhh2Kw](http://productforums.google.com/forum/#!topic/apps-script/gGTd0uhh2Kw)我不能使用 Session.getUser().getUserLoginId() 来获取用户身份。我怎么知道哪个用户正在使用我的脚本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-21T13:00:23.093

您可以使用

```
Session.getActiveUser().getEmail(); 
```

要检索信息，只需向您发送一封包含该信息的邮件

```
MailApp.sendEmail("youemailadress", "Hu? someone is using my scipt!", "this is: "+Session.getActiveUser().getEmail()); 
```

# xaml - Windows 应用商店应用翻转视图边距

> ID：15498951
> 
> 赞同：4
> 
> 时间：2013-03-19T12:00:39.000
> 
> 标签：xaml, windows-store-apps, border, margin, viewflipper

使用这个简单的 XAML 代码：

```
<Grid Background="{StaticResource ApplicationPageBackgroundThemeBrush}">
    <Grid Width="230" Height="300" Background="Red" Margin="0">
        <FlipView Background="Blue" Margin="0" Padding="0" BorderThickness="0"/>
    </Grid>
</Grid> 
```

结果 ：

![翻转视图边距示例](../Images/3b08a9d0cee588f1c3041cfde8542321.png)

如何删除显示红色网格背景的翻转视图透明“边距”？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-12-17T17:37:36.540

这是因为 FlipView 控件的默认样式。

要删除它，您需要复制此默认样式（在下面发布）并删除边框中的边距：

```
<Style x:Key="FlipViewStyle1" TargetType="FlipView">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="TabNavigation" Value="Once"/>
        <Setter Property="IsTabStop" Value="False"/>
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Hidden"/>
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Hidden"/>
        <Setter Property="ScrollViewer.IsHorizontalRailEnabled" Value="False"/>
        <Setter Property="ScrollViewer.IsVerticalRailEnabled" Value="False"/>
        <Setter Property="ScrollViewer.IsHorizontalScrollChainingEnabled" Value="True"/>
        <Setter Property="ScrollViewer.IsVerticalScrollChainingEnabled" Value="True"/>
        <Setter Property="ScrollViewer.IsDeferredScrollingEnabled" Value="False"/>
        <Setter Property="ScrollViewer.BringIntoViewOnFocusChange" Value="True"/>
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <VirtualizingStackPanel AreScrollSnapPointsRegular="True" Orientation="Horizontal"/>
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="FlipView">
                    <Grid>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="FocusStates">
                                <VisualState x:Name="Focused">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="FocusVisualWhite"/>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="FocusVisualBlack"/>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Unfocused"/>
                                <VisualState x:Name="PointerFocused"/>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Margin="3">
                            <Border.Resources>
                                <ControlTemplate x:Key="HorizontalNextTemplate" TargetType="Button">
                                    <Border x:Name="Root" BorderBrush="{StaticResource FlipViewButtonBorderThemeBrush}" BorderThickness="{StaticResource FlipViewButtonBorderThemeThickness}" Background="{StaticResource FlipViewButtonBackgroundThemeBrush}">
                                        <VisualStateManager.VisualStateGroups>
                                            <VisualStateGroup x:Name="CommonStates">
                                                <VisualState x:Name="Normal"/>
                                                <VisualState x:Name="PointerOver">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPointerOverBackgroundThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPointerOverBorderThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Fill" Storyboard.TargetName="Arrow">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPointerOverForegroundThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                                <VisualState x:Name="Pressed">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPressedBackgroundThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPressedBorderThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Fill" Storyboard.TargetName="Arrow">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPressedForegroundThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                            </VisualStateGroup>
                                        </VisualStateManager.VisualStateGroups>
                                        <Path x:Name="Arrow" Data="M4.12,0 L9.67,5.47 L4.12,10.94 L0,10.88 L5.56,5.47 L0,0.06 z" Fill="{StaticResource FlipViewButtonForegroundThemeBrush}" HorizontalAlignment="Center" Height="10.94" Stretch="Fill" UseLayoutRounding="False" VerticalAlignment="Center" Width="9.67"/>
                                    </Border>
                                </ControlTemplate>
                                <ControlTemplate x:Key="HorizontalPreviousTemplate" TargetType="Button">
                                    <Border x:Name="Root" BorderBrush="{StaticResource FlipViewButtonBorderThemeBrush}" BorderThickness="{StaticResource FlipViewButtonBorderThemeThickness}" Background="{StaticResource FlipViewButtonBackgroundThemeBrush}">
                                        <VisualStateManager.VisualStateGroups>
                                            <VisualStateGroup x:Name="CommonStates">
                                                <VisualState x:Name="Normal"/>
                                                <VisualState x:Name="PointerOver">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPointerOverBackgroundThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPointerOverBorderThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Fill" Storyboard.TargetName="Arrow">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPointerOverForegroundThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                                <VisualState x:Name="Pressed">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPressedBackgroundThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPressedBorderThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Fill" Storyboard.TargetName="Arrow">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPressedForegroundThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                            </VisualStateGroup>
                                        </VisualStateManager.VisualStateGroups>
                                        <Path x:Name="Arrow" Data="M5.55,0 L9.67,0.06 L4.12,5.47 L9.67,10.88 L5.55,10.94 L0,5.48 z" Fill="{StaticResource FlipViewButtonForegroundThemeBrush}" HorizontalAlignment="Center" Height="10.94" Stretch="Fill" UseLayoutRounding="False" VerticalAlignment="Center" Width="9.67"/>
                                    </Border>
                                </ControlTemplate>
                                <ControlTemplate x:Key="VerticalNextTemplate" TargetType="Button">
                                    <Border x:Name="Root" BorderBrush="{StaticResource FlipViewButtonBorderThemeBrush}" BorderThickness="{StaticResource FlipViewButtonBorderThemeThickness}" Background="{StaticResource FlipViewButtonBackgroundThemeBrush}">
                                        <VisualStateManager.VisualStateGroups>
                                            <VisualStateGroup x:Name="CommonStates">
                                                <VisualState x:Name="Normal"/>
                                                <VisualState x:Name="PointerOver">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPointerOverBackgroundThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPointerOverBorderThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Fill" Storyboard.TargetName="Arrow">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPointerOverForegroundThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                                <VisualState x:Name="Pressed">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPressedBackgroundThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPressedBorderThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Fill" Storyboard.TargetName="Arrow">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPressedForegroundThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                            </VisualStateGroup>
                                        </VisualStateManager.VisualStateGroups>
                                        <Path x:Name="Arrow" Data="M0.06,0 L5.47,5.56 L10.88,0 L10.94,4.12 L5.48,9.67 L0,4.12 z" Fill="{StaticResource FlipViewButtonForegroundThemeBrush}" HorizontalAlignment="Center" Height="9.67" Stretch="Fill" UseLayoutRounding="False" VerticalAlignment="Center" Width="10.94"/>
                                    </Border>
                                </ControlTemplate>
                                <ControlTemplate x:Key="VerticalPreviousTemplate" TargetType="Button">
                                    <Border x:Name="Root" BorderBrush="{StaticResource FlipViewButtonBorderThemeBrush}" BorderThickness="{StaticResource FlipViewButtonBorderThemeThickness}" Background="{StaticResource FlipViewButtonBackgroundThemeBrush}">
                                        <VisualStateManager.VisualStateGroups>
                                            <VisualStateGroup x:Name="CommonStates">
                                                <VisualState x:Name="Normal"/>
                                                <VisualState x:Name="PointerOver">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPointerOverBackgroundThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPointerOverBorderThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Fill" Storyboard.TargetName="Arrow">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPointerOverForegroundThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                                <VisualState x:Name="Pressed">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPressedBackgroundThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPressedBorderThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Fill" Storyboard.TargetName="Arrow">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource FlipViewButtonPressedForegroundThemeBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                            </VisualStateGroup>
                                        </VisualStateManager.VisualStateGroups>
                                        <Path x:Name="Arrow" Data="M5.63,0 L11.11,5.55 L11.05,9.67 L5.64,4.12 L0.23,9.67 L0.17,5.55 z" Fill="{StaticResource FlipViewButtonForegroundThemeBrush}" HorizontalAlignment="Center" Height="9.67" Stretch="Fill" UseLayoutRounding="False" VerticalAlignment="Center" Width="10.94"/>
                                    </Border>
                                </ControlTemplate>
                            </Border.Resources>
                            <Grid>
                                <ScrollViewer x:Name="ScrollingHost" BringIntoViewOnFocusChange="{TemplateBinding ScrollViewer.BringIntoViewOnFocusChange}" HorizontalScrollMode="{TemplateBinding ScrollViewer.HorizontalScrollMode}" HorizontalSnapPointsType="MandatorySingle" HorizontalScrollBarVisibility="{TemplateBinding ScrollViewer.HorizontalScrollBarVisibility}" IsTabStop="False" IsHorizontalRailEnabled="{TemplateBinding ScrollViewer.IsHorizontalRailEnabled}" IsHorizontalScrollChainingEnabled="{TemplateBinding ScrollViewer.IsHorizontalScrollChainingEnabled}" IsVerticalScrollChainingEnabled="{TemplateBinding ScrollViewer.IsVerticalScrollChainingEnabled}" IsVerticalRailEnabled="{TemplateBinding ScrollViewer.IsVerticalRailEnabled}" IsDeferredScrollingEnabled="{TemplateBinding ScrollViewer.IsDeferredScrollingEnabled}" Padding="{TemplateBinding Padding}" TabNavigation="{TemplateBinding TabNavigation}" VerticalSnapPointsType="MandatorySingle" VerticalScrollBarVisibility="{TemplateBinding ScrollViewer.VerticalScrollBarVisibility}" VerticalScrollMode="{TemplateBinding ScrollViewer.VerticalScrollMode}" ZoomMode="Disabled">
                                    <ItemsPresenter/>
                                </ScrollViewer>
                                <Button x:Name="PreviousButtonHorizontal" HorizontalAlignment="Left" Height="40" IsTabStop="False" Template="{StaticResource HorizontalPreviousTemplate}" VerticalAlignment="Center" Width="70"/>
                                <Button x:Name="NextButtonHorizontal" HorizontalAlignment="Right" Height="40" IsTabStop="False" Template="{StaticResource HorizontalNextTemplate}" VerticalAlignment="Center" Width="70"/>
                                <Button x:Name="PreviousButtonVertical" HorizontalAlignment="Center" Height="40" IsTabStop="False" Template="{StaticResource VerticalPreviousTemplate}" VerticalAlignment="Top" Width="70"/>
                                <Button x:Name="NextButtonVertical" HorizontalAlignment="Center" Height="40" IsTabStop="False" Template="{StaticResource VerticalNextTemplate}" VerticalAlignment="Bottom" Width="70"/>
                            </Grid>
                        </Border>
                        <Rectangle x:Name="FocusVisualWhite" IsHitTestVisible="False" Opacity="0" StrokeDashOffset="1.5" StrokeEndLineCap="Square" Stroke="{StaticResource FocusVisualWhiteStrokeThemeBrush}" StrokeDashArray="1,1"/>
                        <Rectangle x:Name="FocusVisualBlack" IsHitTestVisible="False" Opacity="0" StrokeDashOffset="0.5" StrokeEndLineCap="Square" Stroke="{StaticResource FocusVisualBlackStrokeThemeBrush}" StrokeDashArray="1,1"/>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style> 
```

只需更改边框上的边距属性：

```
<Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Margin="3"> 
```

经过 ：

```
<Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Margin="0"> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-13T13:18:36.243

`FlipView`倾向于保持较小的利润。如果您只是强制它`Margin=-3`，它将显示您想要的输出。或者，您可以添加另一个元素，以确保没有“光”从后面穿过而没有 hack。

```
<Grid Background="{StaticResource ApplicationPageBackgroundThemeBrush}">
    <Grid Width="230" Height="300" Background="Red">
        <Grid Background="Blue">
            <FlipView/>
        </Grid>
    </Grid>
</Grid> 
```

# android - 如何将 ListView 布局修改为 ListFragment 布局？

> ID：15498959
> 
> 赞同：0
> 
> 时间：2013-03-19T12:01:20.480
> 
> 标签：android, android-layout, android-listview, android-fragments

我正在使用***TableFixHeaders*** ( [https://github.com/InQBarna/TableFixHeaders](https://github.com/InQBarna/TableFixHeaders) ) - 一个 Android 小部件库来显示带有标题的表格。
此自定义表活动的默认**table.xml**布局是：

```
<?xml version="1.0" encoding="utf-8"?>
<com.inqbarna.tablefixheaders.TableFixHeaders 
            xmlns:android="http://schemas.android.com/apk/res/android"
            android:id="@+id/table"
            android:layout_width="match_parent"
            android:layout_height="match_parent" /> 
```

我想修改它以用作片段布局，类似于以下示例**fragment_layout.xml**：

```
<?xml version="1.0" encoding="utf-8"?>  
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent" android:layout_height="match_parent">
    <fragment class="com.example.fragment.FragmentLayout$S_ListFragment"
            android:id="@+id/list"
            android:layout_width="match_parent" android:layout_height="match_parent" />
</FrameLayout> 
```

用于填充自定义表格列表的代码如下：

```
public static class S_ListFragment extends ListFragment {   
    boolean mDualPane;
    int mCurCheckPosition = 0;

@Override
public void onActivityCreated(Bundle savedInstanceState) {
    super.onActivityCreated(savedInstanceState);

    // Populate list with S_Adpater           
    getActivity().setContentView(R.layout.table);       

    FragmentLayout outer = new FragmentLayout();                    
    TableFixHeaders tableFixHeaders = (TableFixHeaders) getActivity().findViewById(R.id.table);
    TableAdapter tableAdapter = outer.new S_Adapter(getActivity());
    tableFixHeaders.setAdapter(tableAdapter); 
```

因为我使用默认的 table.xml 布局调用 setContentView，所以我无法让它作为片段工作。***table.xml***中对**com.inqbarna.tablefixheaders.TableFixHeaders**的引用对于表适配器的工作很重要。
我想请教一下如何修改上面的**table.xml**布局以将其更改为所需的片段布局。

**根据 Luksprog 的建议编辑代码：**

```
public class S_List extends Activity {       
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState); 
        setContentView(R.layout.fragment_layout);    
    }

public static class S_ListFragment extends Fragment {   
    boolean mDualPane;
    int mCurCheckPosition = 0;
    private TableFixHeaders tableFixHeaders;
    private ETableAdapter tableAdapter;

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle args) {   
        // set table.xml as the layout for the fragment's view
        View content = inflater.inflate(R.layout.table, container, false);
        tableFixHeaders = (TableFixHeaders) content.findViewById(R.id.table);
        return content;
    }

    @Override
    public void onActivityCreated(Bundle savedInstanceState) {
        super.onActivityCreated(savedInstanceState);       

        SAdapter outer = new SAdapter();                    
        tableAdapter = outer.new SListAdapter(getActivity());
        tableFixHeaders.setAdapter(tableAdapter);

        // Check to see if we have a frame in which to embed the details
        // fragment directly in the containing UI.
        View eventsFrame = getActivity().findViewById(R.id.events);
        mDualPane = eventsFrame != null && eventsFrame.getVisibility() == View.VISIBLE;

        if (savedInstanceState != null) {
            // Restore last state for checked position.
            mCurCheckPosition = savedInstanceState.getInt("curChoice", 0);
        }

        if (mDualPane) {
            // In dual-pane mode, the list view highlights the selected item.
            showDetails(mCurCheckPosition);
        }
    } 
```

**ETableAdapter 的部分代码：**

```
import com.inqbarna.tablefixheaders.adapters.BaseTableAdapter;

/**
 * This class implements the main functionalities of the TableAdapter
 * @author Brais Gabín
 */
public abstract class ETableAdapter extends BaseTableAdapter {
    private final Context context;
    private final LayoutInflater inflater;

    /**
     * Constructor
     * 
     * @param context
     *            The current context.
     */
    public ETableAdapter(Context context) {
        this.context = context;
        inflater = LayoutInflater.from(context);
    }

    /**
     * Returns the context associated with this array adapter. The context is
     * used to create views from the resource passed to the constructor.
     * 
     * @return The Context associated with this adapter.
     */
    public Context getContext() {
        return context;
    }

    /**
     * Quick access to the LayoutInflater instance that this Adapter retrieved
     * from its Context.
     * 
     * @return The shared LayoutInflater.
     */
    public LayoutInflater getInflater() {
        return inflater;
    }

    @Override
    public View getView(final int row, final int column, View converView, ViewGroup parent) {
        if (converView == null) {
            converView = inflater.inflate(getLayoutResource(row, column), parent, false);  
        }
        setText(converView, getCellString(row, column));
        converView.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
        //....
            }       
        return converView;
       }
    }

    /**
     * Sets the text to the view.
     * 
     * @param view
     * @param text
     */
    private void setText(View view, String text) {
        ((TextView) view.findViewById(android.R.id.text1)).setText(text);
    }

    /**
     * @param row
     *            the title of the row of this header. If the column is -1
     *            returns the title of the row header.
     * @param column
     *            the title of the column of this header. If the column is -1
     *            returns the title of the column header.
     * @return the string for the cell [row, column]
     */
    public abstract String getCellString(int row, int column);

    public abstract int getLayoutResource(int row, int column);

    public abstract int getColOrder(int column);

    public abstract void setColOrder(int column, int newOrder);

    public abstract void setHeaderId(int column);

    public abstract int getHeaderId(int column);    
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:51:08.087

您的代码`S_ListFragment`没有任何意义。

> 我想修改它以用作片段布局

将 的内容视图设置为`Activity`您发布的第二个布局：

```
<?xml version="1.0" encoding="utf-8"?>  
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent" android:layout_height="match_parent">
    <fragment class="com.example.fragment.FragmentLayout$S_ListFragment"
            android:id="@+id/list"
            android:layout_width="match_parent" android:layout_height="match_parent" />
</FrameLayout> 
```

然后在`S_ListFragment`'`onCreateView()`方法中使用`table.xml`布局作为`Fragment`' 视图：

```
// You can't extend ListFragment unless the view for that fragment contains a 
// ListView(and with a special id). If the content of your fragment it's just 
// the table.xml layout then you can't extend ListFragment as TableFixHeaders is 
// not a ListView(as Selvin pointed out in his comment)
public static class S_ListFragment extends Fragment {   

    boolean mDualPane;
    int mCurCheckPosition = 0;
    private TableFixHeaders tableFixHeaders;

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundler args)   
        // set table.xml as the layout for the fragment's view
        View content = inflater.inflate(R.layout.table, container, false);
        tableFixHeaders = (TableFixHeaders) content.findViewById(R.id.table);
        return content;
    } 

    @Override
    public void onActivityCreated(Bundle savedInstanceState) {
       super.onActivityCreated(savedInstanceState);
       FragmentLayout outer = new FragmentLayout();                    
       TableAdapter tableAdapter = outer.new S_Adapter(getActivity());
       tableFixHeaders.setAdapter(tableAdapter);
    //... 
```

`Activity`重新设置from a的内容视图没有多大意义，`Fragment`因为您基本上用另一个布局替换了`Activity`（包含从中执行此操作的片段）的布局。另外我不知道是什么`FragmentLayout`，但看看你是否不能`TableAdapter`从它分离类，所以在创建适配器时你不需要外部引用。

# jquery - 带有百分比的 JQuery if else 语句

> ID：15498969
> 
> 赞同：1
> 
> 时间：2013-03-19T12:01:40.643
> 
> 标签：jquery

所以这是我的代码：

```
$('li a').click(function(){
    if ( $('li').width() == '7%' ) {
        $('li').animate({
            width: '86%'
        },300);
    } else {
        $('li').animate({
            width: '7%'
        },300);
    }
}); 
```

百分比似乎没有用。如果我将其更改为像素，则完全是，但以百分比表示，似乎有错误。

有没有专业人士可以帮我解决这个问题？请！

==================================================== =================================

好的，现在我将其更改为 css：

```
$('li a').click(function(){
    if ( $('li').css('width') == '70px' ) {
        $('li').animate({
            width: '86%'
        },300);
    } else {
        $('li').animate({
            width: '70px'
        },300);
    }
}); 
```

但是当我将 70px 更改为 7% 时，它不起作用。为什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T12:03:02.357

.width() 返回一个数字，而不是一个字符串，所以你必须自己计算百分比！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:05:26.290

`width()`将返回元素的物理大小（以像素为单位）。您需要根据元素父项的宽度计算其百分比宽度。这样的事情可能对你有用：

```
var the_percentage = ($('li').width() / $('li').parent().width()) * 100;
if(the_percentage == 7)
{
    // Something here...
}
else
{
    // Something else here...
} 
```

或者，您可以改为执行此检查：

```
var li = $('li');
if((li.parent().width() * 0.07) == li.width()) { 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T12:04:33.287

浏览器将百分比转换为像素，因此任何对宽度的调用都将返回像素的整数值。

获取容器宽度并乘以 0.07 并与之进行比较。

# sql - 如何在 T-SQL 中将 select 与多个类似条件一起使用？

> ID：15498970
> 
> 赞同：0
> 
> 时间：2013-03-19T12:01:41.747
> 
> 标签：sql, tsql

我想从一个表中选择所有记录，这些记录`like '%select%'`除了包含`'%select some_string%'`和之外的所有记录`'%select some_other_string%'`。

如何在 T-SQL 中执行此操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:06:18.463

从英语到 SQL 的直接翻译应该可以正常工作：

```
WHERE (NOT (s LIKE '%select%'))
  AND NOT ((s LIKE '%select some_string%') OR (s LIKE '%select some_other_string%')) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T12:11:30.280

凭借我的英语技能，我得到了比 dasblinkenlight 的另一种解决方案：

```
WHERE (NOT (s LIKE '%select%'))
  OR s LIKE '%select some_string%' OR s LIKE '%select some_other_string%' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T12:13:40.253

您可以尝试以下可能会有所帮助

```
SELECT *
FROM TABLE
WHERE Coloumn NOT LIKE 'select'
    AND Coloumn LIKE '%select some_string%' 
```

# logstash - logstash & kibana 设置@message 属性

> ID：15498973
> 
> 赞同：0
> 
> 时间：2013-03-19T12:01:51.937
> 
> 标签：logstash

@message 属性似乎是使用 logstash 和 kibana 时的核心属性。我的 json 记录器将数据与消息一起发送到

```
{"msg":"some one did something"} 
```

如果我改变它

```
 {"@message":"someone did something"} 
```

logstash 服务器将其选为“@fields.@message”。

我有点困惑如何设置此属性以正确呈现。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T16:05:53.387

我怀疑输入正在读取事件`json`而不是`json_event`. 不同之处在于`json`它将在 @fields 命名空间下添加任何字段。`json_event`将期望完整的 logstash 事件序列化为 json。

您拥有的功能可能就是您想要的。如果不需要，您通常不想发送完整的 json_event。您可以使用 mutate 过滤器覆盖 logstash 中的 @message 字段。

```
mutate {
  type => 'json_logger'
  replace => ["@message", "%{msg}"]
  remove => "msg"
} 
```

# c# - 实现 IValidatableObject 时 ValidationContext 的目的是什么

> ID：15498977
> 
> 赞同：16
> 
> 时间：2013-03-19T12:02:21.320
> 
> 标签：c#, .net-4.0, ivalidatableobject

我已经实现`IValidatableObject`了好几次，但从未发现解析`ValidationContext`到 Validate 方法的目的是什么——我的典型`IValidatableObject`实现如下所示：

```
 public IEnumerable<ValidationResult> Validate(ValidationContext validationContext)
 {
    if (Prop1 == Prop2)
    {
        yield return new ValidationResult(
              "Prop1 and Prop2 must be different.",
              new[] {"Prop1", "Prop2"});
    }
 } 
```

有什么我错过的东西可以用来`validationContext`做吗？

编辑：我正在使用 ASP.NET MVC，这是在类中实现的——而不是在控制器中。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-19T12:52:58.170

`ValidationContext`包含`IServiceProvider`属性。将 DI 容器传递给您的验证属性和验证方法是扩展点。例如，您可以使用它来验证数据库，而无需在模型中设置对 dbcontext 的依赖关系。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-19T12:16:52.033

您应该从validationContext 中检索`Prop1`和。`Prop2`从你的问题很难说你是在使用 WebForms（所以你有属性的代码绑定）还是 MVC（如果你在控制器中实现它）。

```
public IEnumerable<ValidationResult> Validate(ValidationContext validationContext)
 {
    if (validationContext["Prop1"] == validationContext["Prop2"])
    {
        yield return new ValidationResult(
              "Prop1 and Prop2 must be different.",
              new[] {"Prop1", "Prop2"});
    }
 } 
```

# java - 在java中使任何文件无法打开

> ID：15498979
> 
> 赞同：-3
> 
> 时间：2013-03-19T12:02:27.200
> 
> 标签：java, file, encryption, binary

我正在用java创建一些电影文件。该文件为 .mp4 格式。由于视频是从安全监控摄像头拍摄的，我想让这个文件在任何媒体播放器中被任何人打开时看起来都损坏了。唯一的方法是通过与加密时​​所做的相反的操作来解密文件。

```
x = // byte read from file.
x = x >> 2;
// write x to new file 
```

所以基本上我正在寻找某种方法来加密文件（可能会移动文件的每个字节）。我不想使用复杂的算法，如 AES、DES 或密码加密。

仅通过移动字节来解密/加密文件的最佳方法是什么。这会使文件看起来损坏吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T12:13:09.753

与使用众所周知的加密算法相比，某些专有的比特旋转算法更容易出错。

由于安全性对您来说不是主要问题，因此我建议您将 AES 密钥硬编码到您的应用程序中，然后对数据进行标准的 AES 加密/解密。

这真的很简单，而且有很多例子。这将比发明自己的方案并查看它是否有效要快。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T12:12:21.813

这或多或少是通过默默无闻的安全性。它可能会阻止普通用户观看视频，但有恶意的用户不会屈服于某些字节移位/异或或其他快速加密技术。

至少引入一些密钥来加密数据。带键的 XOR 实现起来很简单，而且速度很快。

在解密之前，任何电影播放器​​都无法播放这样的文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T12:08:24.100

在处理加密时，通常最好使用众所周知的算法。它没有你想象的那么复杂（使用你选择的语言提供的加密 api，不要自己重写东西）

如果您像示例中那样移动字节，您将无法取回旧值：例如：您有 0xAB (10101011)，您移动 2，您最终得到 00101010 ...您将如何找回丢失的位?

# c# - EF 非静态方法需要一个目标

> ID：15498981
> 
> 赞同：15
> 
> 时间：2013-03-19T12:02:29.387
> 
> 标签：c#, linq, entity-framework

我对以下查询有严重问题。

```
context.CharacteristicMeasures
        .FirstOrDefault(cm => cm.Charge == null &&
                              cm.Characteristic != null &&
                              cm.Characteristic.Id == c.Id &&
                              cm.Line != null &&
                              cm.Line.Id == newLine.Id &&
                              cm.ShiftIndex != null &&
                              cm.ShiftIndex.Id == actShiftIndex.Id &&
                              (newAreaItem == null ||
                                  (cm.AreaItem != null &&
                                   cm.AreaItem.Id == newAreaItem.Id))); 
```

`TargetException: Non-static method requires a target` 当 newAreaItem 为空时，我得到一个。如果 newAreaItem 不为空，我会得到一个`NotSupportedException: Unable to create a constant value of type 'PQS.Model.AreaItem'. Only primitive types or enumeration types are supported in this context.`

我已经检查过它们是否为空：c、newLine、actShiftIndex 所有 3 个变量都不为空，并且 Id 是可访问的。

我不明白...请帮助。

如果你需要更多信息..不要犹豫问...

**更新**

我可以消除`NotSupportedException`，但是当我的 newAreaItemIsNull 为真时，我仍然得到 TargetException ..：/

```
bool newAreaItemIsNull = (newAreaItem == null);

var mc = context.CharacteristicMeasures
                .FirstOrDefault(cm => cm.Charge == null &&
                                      cm.Characteristic != null &&
                                      cm.Characteristic.Id == c.Id &&
                                      cm.Line != null &&
                                      cm.Line.Id == newLine.Id &&
                                      cm.ShiftIndex != null &&
                                      cm.ShiftIndex.Id == actShiftIndex.Id &&
                                      (newAreaItemIsNull ||
                                          (cm.AreaItem != null &&
                                           cm.AreaItem.Id == newAreaItem.Id))); 
```

**更新**

我终于做到了。似乎查询解析无法解析我`newAreaItem(IsNull)`的，因为它不在数据库模型中！？我必须拆分我的查询..

```
bool newAreaItemIsNull = (newAreaItem == null);

MeasureCharacteristic mc;

if (newAreaItemIsNull)
   mc = context.CharacteristicMeasures
               .FirstOrDefault(cm => cm.Charge == null &&
                                     cm.Characteristic != null &&
                                     cm.Characteristic.Id == c.Id &&
                                     cm.Line != null &&
                                     cm.Line.Id == newLine.Id &&
                                     cm.ShiftIndex != null &&
                                     cm.ShiftIndex.Id == actShiftIndex.Id);
else
   mc = context.CharacteristicMeasures
               .FirstOrDefault(cm => cm.Charge == null &&
                                     cm.Characteristic != null &&
                                     cm.Characteristic.Id == c.Id &&
                                     cm.Line != null &&
                                     cm.Line.Id == newLine.Id &&
                                     cm.ShiftIndex != null &&
                                     cm.ShiftIndex.Id == actShiftIndex.Id &&
                                     cm.AreaItem != null &&
                                     cm.AreaItem.Id == newAreaItem.Id); 
```

有人知道更好的解决方案吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-03-19T12:14:26.000

尝试移出`newAreaItem == null`查询

```
bool newAreaItemIsNull = (newAreaItem == null); 
```

并在查询中替换`newAreaItem == null`为。`newAreaItemIsNull`

查询解析器只能对数据库中的对象进行操作，newAreaItem 不是其中之一。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-05T08:29:51.463

`newAreaItem == null`当是真的时，我遇到了与您完全相同的问题。

问题在于 LINQ 中使用的项目不能为空。因此，当 `newAreaItem == null`为真时，它意味着`newAreaItem`为空，这会导致错误被抛出。

在我看来，您所能做的就是在检查`newAreaItem == null`后将 newAreaItem 设置为该类型的新空对象（如果`newAreaIteam`为空）。`newAreaItemIsNull`条件仍然存在，因此

```
(cm.AreaItem != null && cm.AreaItem.Id == newAreaItem.Id) 
```

`newAreaItem`如果为空，则在您下面的代码中仍然不会被评估。

```
context.CharacteristicMeasures.
                                 FirstOrDefault(cm => cm.Charge == null &&
                                                      cm.Characteristic != null && cm.Characteristic.Id == c.Id &&
                                                      cm.Line != null && cm.Line.Id == newLine.Id &&
                                                      cm.ShiftIndex != null && cm.ShiftIndex.Id == actShiftIndex.Id &&
                                                      (newAreaItem == null ||
                                                       (cm.AreaItem != null && cm.AreaItem.Id == newAreaItem.Id))); 
```

# java - 如何使方法返回类型成为 AspectJ ITD 中的当前类型？

> ID：15498982
> 
> 赞同：0
> 
> 时间：2013-03-19T12:02:30.667
> 
> 标签：java, aop, aspectj

我需要将`save()`方法引入使用我的注释注释的任何类型`@Persistent`。此方法只是将对象保存到底层数据库中并返回对象的副本及其行 ID（例如`Person personSaved = person.save()`）

为此，我使用 AspectJ 编写了给定的方面（`PersistentObject`是一个提供接口的`save()`方法）：

```
public aspect PersistencyAspect {
    declare parents: (@Persistent *) implements PersistentObject;

    public PersistentObject PersistentObject.save() {
        // perform the save operation and return a copy of this
    }
} 
```

上面的代码看起来不错。但我的问题是`save()`方法的返回类型。我想将它声明为由`@Persistent`（例如 Person）而不是`PersistentObject`.

您对我的问题有解决方案吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-23T12:55:16.017

我明白你想要什么。技术答案很简单：不。

OTOH，我认为这不是一个很大的损失，因为无论如何你想要的似乎都不是好的应用程序设计：

*   你想`save()`返回一个有点违反直觉的对象，因为它不是一个 getter。为什么要返回已经拥有的对象？我希望`save()`有一个`void`返回类型。
*   是不是针对接口开发比针对特定类更清洁和更好？如果你返回任何东西，我想接口类型不是一个糟糕的选择。

# django - 测试 URL 是否匹配正确的视图

> ID：15498983
> 
> 赞同：2
> 
> 时间：2013-03-19T12:02:32.347
> 
> 标签：django, django-urls, django-testing

对于这两个 django url 模式

`(r'^articles/(\d{4})/$', 'news.views.year_archive'),`
`(r'^articles/2003/$', 'news.views.special_case_2003'),`

视图将`special_case_2003`永远不会被调用，因为它上面有更宽的模式

我如何测试（在 tests.py 中）通过 URL 模式匹配了哪些视图，以确保我的 url 匹配所需的视图

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T13:21:12.127

这不会让你匹配原始的正则表达式，但它会让你匹配一个模式的例子：

```
from django.core.urlresolvers import resolve

def test_foo(self):
    func = resolve('/foo/').func
    func_name = '{}.{}'.format(func.__module__, func.__name__)
    self.assertEquals('your.module.view_name' func_name) 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-19T12:26:42.730

你应该把特殊情况放在第一位：

```
(r'^articles/2003/$', 'news.views.special_case_2003'),
(r'^articles/(\d{4})/$', 'news.views.year_archive'), 
```

url 从上到下进行评估，从而呈现与 url 匹配的第一个视图。您可以通过在浏览器中使用它们来测试这些 url，或者您可以在 tests.py 中为它们编写特定的测试。

有关如何测试 urls.py 的更多信息，请阅读[https://docs.djangoproject.com/en/1.4/topics/testing/#testing-tools](https://docs.djangoproject.com/en/1.4/topics/testing/#testing-tools)，其中解释了如何检查是否收到 200 响应以及如何测试是否存在某些内容。

这是典型的例子：

```
>>> from django.test.client import Client
>>> c = Client()
>>> response = c.post('/login/', {'username': 'john', 'password': 'smith'})
>>> response.status_code
200
>>> response = c.get('/customer/details/')
>>> response.content
'<!DOCTYPE html...' 
```

# ios - iOS 中 XML 到 JSON 的转换

> ID：15498989
> 
> 赞同：10
> 
> 时间：2013-03-19T12:02:54.803
> 
> 标签：ios, objective-c, xcode, ios6

我需要将 XML 响应转换为 JSON。

我的 XML 响应：

```
<commands>
<command id="0" name="GetAPPsProducts">
  <command_parameters>
    <command_parameter id="0" name="APPs_Code">ATAiOS</command_parameter>
  </command_parameters>
  <command_result>
    <apps_products>
      <apps_products id="1">
        <apps_code>ATAiOS</apps_code>
        <apps_product_id>2</apps_product_id>
        <brand_id>2</brand_id>
        <brand_desc>Generic</brand_desc>
        <brand_product_id>2</brand_product_id>
        <product_id>001-7</product_id>
        <descrizione>MyTravelApp</descrizione>
      </apps_products>
    </apps_products>
  </command_result>
</command> 
```

我正在使用来自该站点的 XMLReader 支持文件：

[XML阅读器](http://troybrant.net/blog/2010/09/simple-xml-to-nsdictionary-converter/)

我正在使用此代码将 XML 转换为 JSON

```
NSError *parseError = nil;
NSDictionary *xmlDictionary = [XMLReader dictionaryForXMLString:testXMLString error:&parseError];
NSLog(@" %@", xmlDictionary); 
```

我得到这样的 JSON 响应：

```
commands =         {
        command =             {
            "command_parameters" =                 {
                "command_parameter" =                     {
                    id = 0;
                    name = "APPs_Code";
                    text = "\n  \n    \n      \n        ATAiOS";
                };
                text = "\n      ";
            };
            "command_result" =                 {
                "apps_products" =                     {
                    "apps_products" =                         {
                        "apps_code" =                             {
                            text = "\n      \n        \n          \n            ATAiOS";
                        };
                        "apps_product_id" =                             {
                            text = "\n            2";
                        };
                        "brand_desc" =                             {
                            text = "\n            Generic";
                        };
                        "brand_id" =                             {
                            text = "\n            2";
                        };
                        "brand_product_id" =                             {
                            text = "\n            2";
                        };
                        descrizione =                             {
                            text = "\n            MyTravelApp";
                        };
                        id = 1;
                        "product_id" =                             {
                            text = "\n            001-7";
                        };
                        text = "\n          ";
                    };
                    text = "\n        ";
                };
                text = "\n      ";
            };
            id = 0;
            name = GetAPPsProducts;
            text = "\n    ";
        };
        text = "\n  ";
    };
    text = "\n  \n";
}; 
```

我需要这样的回应：

```
 {
  "commands": {
    "command": {
      "-id": "0",
      "-name": "GetAPPsProducts",
      "command_parameters": {
        "command_parameter": {
          "-id": "0",
          "-name": "APPs_Code",
          "#text": "ATAiOS"
        }
      },
      "command_result": {
        "apps_products": {
          "apps_products": {
            "-id": "1",
            "apps_code": "ATAiOS",
            "apps_product_id": "2",
            "brand_id": "2",
            "brand_desc": "Generic",
            "brand_product_id": "2",
            "product_id": "001-7",
            "descrizione": "MyTravelApp"
          } 
```

我在在线转换时收到此响应。如何得到这样的回应。

提前致谢。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-19T12:13:07.053

```
NSError *parseError = nil;
NSDictionary *xmlDictionary = [XMLReader dictionaryForXMLString:testXMLString error:&parseError];
NSLog(@" %@", xmlDictionary); 
```

此代码不会将任何内容转换为 JSON。它给你一个 NSDictionary。您需要从字典中实际创建 JSON 数据。试穿这个尺寸。

```
NSError *error; 
NSData *jsonData = [NSJSONSerialization dataWithJSONObject:xmlDictionary 
                                                   options:NSJSONWritingPrettyPrinted // Pass 0 if you don't care about the readability of the generated string
                                                     error:&error];

if (! jsonData) {
    NSLog(@"Got an error: %@", error);
} else {
    NSString *jsonString = [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];

    NSLog(@"%@",jsonString);
} 
```

# php - 如何将图像从安卓相机上传到网络服务器（不在应用程序中）

> ID：15498991
> 
> 赞同：1
> 
> 时间：2013-03-19T12:03:00.460
> 
> 标签：php, android, html, android-camera

当用户在手机网络浏览器中点击我的网站移动版本上的输入类型 =“文件”时，我可以打开 Android 设备上的摄像头拍摄照片并将其发送到我的网络服务器吗？

现在它启动手机文件管理器来选择已经存储在 sd 卡或手机内存中的图像文件。

在那种情况下我可以使用手机摄像头还是我严格需要制作应用程序？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T12:25:35.253

感谢[karmafunk](https://stackoverflow.com/users/736639/karmafunk)提供此解决方案！

这是在 android 3+ 和 iOS 6 中访问新相机 api 的代码。

```
<input type="file" accept="image/*" capture="camera"> 
```

这将允许您拍摄一张新照片或从设备库中选择一张，然后将其上传到网络应用程序。

# openstreetmap - Osmosis 不适用于 mapfilewriter 插件

> ID：15498994
> 
> 赞同：7
> 
> 时间：2013-03-19T12:03:12.553
> 
> 标签：openstreetmap

我最近下载了 Osmosis 以将 .osm.pbf 文件转换为 .map 文件。我正在为这个应用程序使用 Windows 7。我已经从他们的系统下载了最新的[zip 文件](http://bretth.dev.openstreetmap.org/osmosis-build/osmosis-latest.zip)，并将 mapfilewriter jar 文件放入 /lib/default/ 文件夹中。但是，当我在 .bat 文件中运行此语句时，我不断收到此错误：

```
osmosis --read-pbf file=taiwanlatest.osm.pbf --mapfile-writer file=helloworld.map

Mar 19, 2013 7:34:49 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Osmosis Version 0.42
Mar 19, 2013 7:34:49 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Preparing pipeline.
Mar 19, 2013 7:34:50 PM org.mapsforge.map.writer.osmosis.MapFileWriterTask <init>
INFO: mapfile-writer version: mapsforge-map-writer-0.3.0
Mar 19, 2013 7:34:50 PM org.mapsforge.map.writer.osmosis.MapFileWriterTask <init>
INFO: mapfile format specification version: 3
Mar 19, 2013 7:34:50 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Launching pipeline execution.
Mar 19, 2013 7:34:50 PM org.openstreetmap.osmosis.core.Osmosis run
INFO: Pipeline executing, waiting for completion.
Mar 19, 2013 7:34:50 PM org.openstreetmap.osmosis.core.pipeline.common.ActiveTaskManager waitForCompletion
SEVERE: Thread for task 1-read-pbf failed
java.lang.AbstractMethodError: org.mapsforge.map.writer.osmosis.MapFileWriterTas
k.initialize(Ljava/util/Map;)V
        at crosby.binary.osmosis.OsmosisReader.run(OsmosisReader.java:43)
        at java.lang.Thread.run(Thread.java:722)

Mar 19, 2013 7:34:50 PM org.openstreetmap.osmosis.core.Osmosis main
SEVERE: Execution aborted.
org.openstreetmap.osmosis.core.OsmosisRuntimeException: One or more tasks failed
.
        at org.openstreetmap.osmosis.core.pipeline.common.Pipeline.waitForComple
tion(Pipeline.java:146)
        at org.openstreetmap.osmosis.core.Osmosis.run(Osmosis.java:92)
        at org.openstreetmap.osmosis.core.Osmosis.main(Osmosis.java:37)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.
java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces
sorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:601)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launchStandard(Laun
cher.java:329)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.jav
a:239)
        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(La
uncher.java:409)
        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:
352)
        at org.codehaus.classworlds.Launcher.main(Launcher.java:47) 
```

我已经阅读过，似乎这是由于渗透本身造成的，我必须使用较低版本的渗透。我尝试使用 Osmosis 0.40 版，但在运行 .bat 文件时出现此错误：

```
Error: Could not find or load main class org.codehaus.classworlds.Launcher 
```

我到底哪里错了？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-19T14:15:03.870

经过多次反复试验，我终于在[这里](http://bretth.dev.openstreetmap.org/osmosis-build/)下载了 Osmosis 0.40.1 版。

此外，我在 /lib/default 文件夹中添加了 4 个 jar 文件：

1.  [mapsforge-map-writer-0.3.0-jar-with-dependencies.jar](https://code.google.com/p/mapsforge/downloads/detail?name=mapsforge-map-writer-0.3.0-jar-with-dependencies.jar&can=2&q=)
2.  [mapsforge-map-0.3.0-jar-with-dependencies.jar](https://code.google.com/p/mapsforge/downloads/detail?name=mapsforge-map-0.3.0-jar-with-dependencies.jar&can=2&q=)
3.  [trove-3.0.3.zip](http://nchc.dl.sourceforge.net/project/trove4j/trove/3.0.3/trove-3.0.3.zip)
4.  [jts-1.8.jar](http://mirrors.ibiblio.org/maven2/com/vividsolutions/jts/1.8/jts-1.8.jar)

之后，我创建了一个名为“osmosis-plugins.conf”的新配置文件，并在其中添加了一行“org.mapsforge.map.writer.osmosis.MapFileWriterPluginLoader”。

完成这些步骤后，Osmosis 终于起作用了（尽管我不确定这是否是最正确的方法）。

但是，我仍然不明白为什么最新版本的 Osmosis 不起作用。

希望这可以帮助那些和我遇到类似问题的人！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-01-16T02:25:43.500

也遇到了这个问题，这是我的解决方案：

1.  [从https://search.maven.org/search?q=mapsforge-map](https://search.maven.org/search?q=mapsforge-map)下载`mapsforge-map-writer`jar 文件（具有依赖项的文件）
2.  把下载的jar文件放到我的`osmosis/lib/default`目录下
3.  打开 cmd, cd 到我的 osmosis 所在的位置并运行`--mapfile-writer`命令。

希望这可以帮助！

# ruby-on-rails - Rails：双击链接时，会打开两个弹出窗口

> ID：15498995
> 
> 赞同：1
> 
> 时间：2013-03-19T12:03:15.477
> 
> 标签：ruby-on-rails, view, controller

我在控制器（例如 ProductController）中得到了以下方法。

```
 def show
    respond_with do |format|
      format.html do
        if request.xhr?
          @product = ...
          render :status => 200, :partial => 'products/show'
        end
      end
    end
  end 
```

当用户单击产品链接时，将打开一个带有产品图像和描述的弹出窗口。

问题：当给定用户双击产品链接时，会打开两个弹出窗口。在调试时，我注意到该`ProductController#show`方法只调用了一次，但仍然打开了两个弹出窗口。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:33:38.597

可能是您通过 ajax 向服务器发送请求？第二个请求将是您的链接的默认行为。尝试这个

```
$("a.your_link").click( function(e){
   e.preventDefault(); // this will consume default functionality of your link 
   //now send request to server
   $.ajax(url: your_url).done( function(output){
     alert(data);
   });
}); 
```

# c# - 将 xml 存储在 C# 类字段中

> ID：15498997
> 
> 赞同：1
> 
> 时间：2013-03-19T12:03:18.950
> 
> 标签：c#, xml, wcf, rest, xml-parsing

我有一个要求，比如我需要用 C# 编写一个可以保存 xml 数据的实体类。我想避免检查保存的 xml 格式良好的开销。我有一个 XML 类型的相应列。我们是否有 xml 数据类型或某些可以用作类字段来保存 xml 的类。提前致谢

更新：使用此实体类的服务是`WCF`服务，将来我们会使其`REST`兼容。将`XmlDocument`或`XElement`与它一起工作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T12:05:47.223

有很多方法，其中两种是`string`和[`XmlDocument`](http://msdn.microsoft.com/en-gb/library/system.xml.xmldocument.aspx)。

`string`对于片段和格式不正确的 XML 会“更容易”，但`XmlDocument`可以配置选项以允许片段；不过，格式不正确的数据会给您带来更多麻烦。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:31:29.463

**如果您在 XSD 文件中描述您的对象，您可以让编译器自动生成所有 C# 类，并在您进行更改时轻松地重新生成它们。**

这使 XML / C# 变得轻而易举。您也可以使用等效的生成器转到其他语言。

请参阅此处描述的工具：[XSDObjectGen.exe vs XSD.exe](https://stackoverflow.com/questions/289335/xsdobjectgen-exe-vs-xsd-exe)

我相信 XSD.exe 工具将读取示例 XML 并完成大部分工作以生成您可以改进的 XSD。

如果您不需要支持固定的 XML/XSD 格式文件，为什么不能通过使用 [Serializable] 类属性和 .Net APIS 序列化/反序列化将任何类序列化为 XML？

# android - Osmdroid with Fragments - 不显示地图

> ID：15498998
> 
> 赞同：2
> 
> 时间：2013-03-19T12:03:20.047
> 
> 标签：android, android-fragments, osmdroid

我正在尝试使用 osmdroid 运行我的应用程序（它已经与谷歌地图一起使用）。但不知何故，如果我在我的应用程序上下文中使用它，我不会显示任何地图。我尝试更改以下内容（我只想首先显示地图）：

在我的`GoogleMapActivity`课堂上：

改变进口

```
import com.google.android.maps.GeoPoint;
import com.google.android.maps.MapController;
import com.google.android.maps.MapView;
import com.google.android.maps.Overlay; 
```

至

```
import org.osmdroid.util.GeoPoint;
import org.osmdroid.views.MapController;
import org.osmdroid.views.MapView;
import org.osmdroid.views.overlay.Overlay; 
```

并从

```
public class GoogleMapActivity extends MapActivity { 
```

至

```
public class OSMActivity extends Activity { 
```

删除了 Android 未使用的方法`isRouteDisplayed()`

在我的**Manifest.xml**中：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="de.fragments"
android:versionCode="8"
android:versionName="1.02" >

 <uses-sdk
    android:minSdkVersion="7"
    android:targetSdkVersion="17" />
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:name="de.fragments.MyApplication">
<uses-library android:name="com.google.android.maps" />
    <activity android:label="@string/app_name"
  android:name="de.map.GoogleMapActivity"  
  android:screenOrientation="portrait"/>
    <activity
        android:name=".Main"
        android:label="@string/app_name" android:screenOrientation="portrait" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application>

</manifest> 
```

只删除了使用库

在我的**map_view**文件中：

```
 <?xml version="1.0" encoding="utf-8"?>
  <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical" android:layout_width="fill_parent"
    android:layout_height="fill_parent">

   <TextView android:id="@+id/description" android:layout_width="fill_parent"
   android:layout_height="wrap_content"/>

    <com.google.android.maps.MapView
            android:id="@+id/mapview" android:layout_width="fill_parent"
            android:layout_height="fill_parent" android:clickable="true"
            android:apiKey="1234" />

  </LinearLayout> 
```

更改`com.google.android.maps.MapView`为`org.osmdroid.views.MapView`并删除了`apiKey`.

我使用 2 jar 文件**osmdroid-android-3.0.8.jar**和**slf4j-android-1.5.8.jar**

我的应用程序有效，但没有显示路线。有什么帮助吗？提前致谢。