# StackOverflow 问答 14232000-14232999

# javascript - 如何用脚本改变一个像素

> ID：14232000
> 
> 赞同：1
> 
> 时间：2013-01-09T09:29:27.290
> 
> 标签：javascript, vbscript

我想改变网页中像素的颜色。我将使用 JavaScript 或 vbscript。

我尝试用 1x1 大小的单元格制作表格并为它们着色，但速度很慢。我需要一个更快的方法。

为像素着色的成本最低的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T09:39:23.790

干得好...

**CSS**

```
#myDot {
    position:fixed; /* always stays there even when other elements change */
    width:1px; /* change if you need a bigger dot */
    height:1px; /* change if you need a bigger dot */
} 
```

**HTML**

```
<div id="myDot"></div> <!-- Can be span also --> 
```

**JS**

```
document.getElementById("myDot").style.left = 100; // x position
document.getElementById("myDot").style.top = 100; // y position
document.getElementById("myDot").style.background = "red"; // color 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T09:32:32.787

```
#mycss {
            position: fixed; 
            left: {X}px;   // x coordinate
            top: {Y}px;    // y coordinate
            width: 1px; 
            height: 1px; 
            background-color: black;  // your color
        } 
```

只需将您创建的表的 id 设置为“mycss”

在 Javascript 中

```
document.getElementById("<your-element-id>").style.position = absolute;
document.getElementById("<your-element-id>").style.left = [<your-pixel-x-coordinate>]px;
document.getElementById("<your-element-id>").style.top= [<your-pixel-y-coordinate>]px;
document.getElementById("<your-element-id>").style.width = 1px;
document.getElementById("<your-element-id>").style.height = 1px;
document.getElementById("<your-element-id>").style.background-color = <your-bg-color>; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T09:34:00.317

在我看来，您想以程序方式创建基于像素的图形。在这种情况下，新的[HTML5 Canvas](https://developer.mozilla.org/en-US/docs/HTML/Canvas)可能就是您要搜索的内容。它是一个类似于图像的 HTML 元素，您可以使用 javascript 通过绘制线条、形状、其他图像、文本等来进行绘制。

# asp.net - 主键和外键的插入

> ID：14232005
> 
> 赞同：0
> 
> 时间：2013-01-09T09:30:01.090
> 
> 标签：asp.net, sql-server-2008, constraints

假设我有两个表的部门，员工部门的 DepID 是 Primarykey ，而 DepID 是 Employee 表中的外键。我想一次将 Asp.Net 应用程序中的数据插入两个表中。如何获取主键值 DepID要插入外键员工表的部门？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T09:36:00.543

您是否尝试运行“SELECT SCOPE_IDENTITY()”查询以获取插入后的最后一个 ID？

# jquery - 在灯箱中打开外部网址

> ID：14232007
> 
> 赞同：0
> 
> 时间：2013-01-09T09:30:06.637
> 
> 标签：jquery, url, hyperlink, lightbox

我必须创建一个灯箱并在其中打开外部 url 的内容。我不允许更改现有代码。此时，它是一个指向页面的简单链接，现在必须加载到灯箱中。

所有的代码都是我自己写的，所以没有colorbox之类的插件。我知道如何打开/关闭灯箱。只是无法弄清楚如何在其中加载外部 url 的内容。

我希望你们能帮助我:)

提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-09T09:41:20.787

我认为你应该使用 jQuery 的 load() 方法。借助该方法，您可以从另一个 url 获取内容并将其作为 html 放入您的灯箱中。

```
$('#idofDiv').load('test.html', function() {
  alert('Load was performed.');
}); 
```

[http://api.jquery.com/load/](http://api.jquery.com/load/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-09T09:42:54.450

```
Lightbox 2 uses the jQuery framework. Load jQuery and the Lightbox javascript files in the proper order.

<script src="js/jquery-1.7.2.min.js"></script>
<script src="js/lightbox.js"></script>

Include the Lightbox CSS file.

<link href="css/lightbox.css" rel="stylesheet" />

Then use image from external url in this way

<a href="http://www.hyperlinkcode.com" rel="lightbox" ><img src="/images/sample-image.gif" border="0"></a>

The orignal url for this was

http://hyperlinkcode.com/images/sample-image.gif 
```

# python - pexports python27.dll > python27.def（pygraphviz 1.1 包）

> ID：14232008
> 
> 赞同：0
> 
> 时间：2013-01-09T09:30:07.487
> 
> 标签：python, mingw, dllexport, dumpbin, pygraphviz

我在 Windows 7 框中安装了 mingw 和 python 2.7，并尝试使用以下 CLI 实用程序安装 PyGraphViz-1.1

```
python setup.py install build --compiler=mingw32 
```

但是，它最终会使用未定义的引用编译错误，如下所示：

```
...
build\temp.win-amd64-2.7\Release\pygraphviz\graphviz_wrap.o:graphviz_wrap.c:(.text+0x5a73): undefined reference to '_imp__PyInt_FromLong' 
collect2: ld returned 1 exit status
error: command 'gcc' failed with exit status 1 
```

我签入了链接（[请参见此处](http://eli.thegreenplace.net/2008/06/28/compiling-python-extensions-with-distutils-and-mingw/#comment-425893)），该链接建议将定义从 C:\Windows\System32\python27.dll 导出到 python27.def，然后使用 dlltool 创建 libpython27.a，最后将 libpython.a 文件放在 C:\Python27 下用于 MinGW 的 Python 发行版的 \libs 以解释 Python 库。

我已将 C:\MinGW\bin 添加到我的系统路径并尝试使用

```
pexports C:\Windows\System32\python27.dll > C:\Windows\System32\python27.def 
```

但每次我收到访问被拒绝消息。

我做了一些搜索，发现 MS Visual Studio 用户可以使用 DUMPBIN 的另一个导出选项，但由于我没有安装 MSVS，我想找一些替代方法来解决这个问题，并且需要使用 PyGraphViz-1.1 包. 任何建议都会非常有帮助

# php - 导出具有树结构的类别

> ID：14232013
> 
> 赞同：-1
> 
> 时间：2013-01-09T09:30:26.207
> 
> 标签：php, mysql, phpmyadmin

通常使用 ID 和 parent 来存储类别树。在我的例子中，一个知识库，在`article`表中每条记录（文章）都属于一个类别（带有一个字段`catid`），在`categories`表中每条记录都有一个`ID`和`parent`保存树结构。

```
article table
id | catid | date | subject | content

categories table
id | name | parent 
```

问题是在将文章导出到 csv 或 excel 时，

```
id | category | date | subject | content 
```

如何保持整个类别树，就像文章属于子类别时一样，我想要类别

```
grandpa/father/son/, or grandpa : father : son 
```

然后可以在excel中打开csv，菜单->数据->文本到列，用“：”分隔，你会得到一个完整的树类别，而不仅仅是当前类别。

工作代码示例：

```
 $query = 'SELECT `a`.`id` AS `ID`, concat(CASE WHEN ISNULL(`f`.`name`) THEN "" ELSE concat(`f`.`name`,":") END,CASE WHEN ISNULL(`e`.`name`) THEN "" ELSE concat(`e`.`name`,":") END,CASE WHEN ISNULL(`d`.`name`) THEN "" ELSE concat(`d`.`name`,":") END,CASE WHEN ISNULL(`c`.`name`) THEN "" ELSE concat(`c`.`name`,":") END,CASE WHEN ISNULL(`b`.`name`) THEN "" ELSE `b`.`name` END) AS `Category`, `a`.`subject` AS `Subject`,`a`.`content` AS `Content`,`a`.`dt` AS `Date Created`, 

FROM articles as a
LEFT JOIN categories as b ON a.catid = b.id
LEFT JOIN categories as c ON b.parent = c.id
LEFT JOIN categories as d ON c.parent = d.id
LEFT JOIN categories as e ON d.parent = e.id
LEFT JOIN categories as f ON e.parent = f.id

WHERE (DATE(`dt`) BETWEEN \'' . $date_from . '\' AND \'' . $date_to . '\')  order by id asc'; 
```

希望它对其他想要导出树结构字段的人有所帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T09:32:13.977

您必须在查询数据库后解析结果：

```
$query = 'query code here';

$result = mysql_query($query); 

while( $row = mysql_fetch_array($result) ) {
  // do something with that row
} 
```

^(**此外，不推荐使用 mysql_x 函数。请改用[PDO](http://php.net/PDO)或[mysqli](http://php.net/mysqli)。**)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:45:31.963

```
<?php

$conn = mysql_connect("localhost","YOUR DB USER NAME","YOUR DB PASSWORD");
if(!$conn) {
  die('Could not connect: ' . mysql_error());
}

mysql_select_db("YOUR DB NAME", $conn);

$result = mysql_query("YOUR QUERY HERE");

while($row = mysql_fetch_array($result)) {
  echo $row['ID'];
  -----
  -----
}

mysql_close($conn); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-11T09:33:22.347

我假设，您想在 PHP 中执行您在 phpMyAdmin 中设计的 SQL 代码 - 效果很好。最常见的问题是引号。[在此处了解字符串引号](http://php.net/manual/en/language.types.string.php)

正如我所见，您使用`'`框架查询代码，但您也在查询中使用它。那一定产生了一系列可怕的语法错误。您可以`"`在将查询代码设置为变量时使用它来构建查询代码。

如果你什么也没得到，那么 SQL 命令可能已经执行，但结果是空的。您可以使用该`var_dump()`功能进行测试。还要检查您是否打开了所有错误报告。[在此处了解错误报告](http://php.net/manual/en/function.error-reporting.php)

另外，我建议您检查和使用[PDO 类](http://php.net/manual/en/class.pdo.php)而不是`mysql`函数，这会抛出漂亮的异常，您可以捕获并优雅地处理错误。`PDO` 它还将以某种方式保护您的代码。

# c# - 从 refreshtoken 获取授权码

> ID：14232015
> 
> 赞同：0
> 
> 时间：2013-01-09T09:30:37.460
> 
> 标签：c#, asp.net, .net, google-api, dotnetopenauth

我正在使用 dotnetopenauth 并使用 google api。我的问题是从我保存的刷新令牌中获取授权码。如果我能得到那个代码，那么我就能得到 accesstoken。我想直接获取该代码而不是访问令牌。我找不到任何可以从我的刷新令牌中返回授权码的端点方法或 URL。提前感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-12T15:20:49.063

我认为您对 OAuth 2 流程感到困惑。授权码并非来自刷新令牌。反之亦然：您获得刷新令牌以换取一次性使用您的授权代码。访问令牌通过以下三种方式中的任何一种获得

1.  以换取刷新令牌。
2.  在返回刷新令牌和访问令牌的授权代码的初始交换中。
3.  或者，如果您使用隐式授权类型而不是授权代码流，您会在 url #fragment 中获得访问令牌以响应用户的授权重定向，但这仅适用于在浏览器上执行的 JavaScript，因为片段不是发送到 Web 服务器。

# php - 更改 is_numeric 以检查所有值

> ID：14232021
> 
> 赞同：0
> 
> 时间：2013-01-09T09:30:47.097
> 
> 标签：php, mysql, arrays

我有这个代码：

```
foreach($feed['posts'][$i] as $key => $value)
{
  $sql[] = (is_numeric($value)) ? "`$key` = $value" : "`$key` = '" . "'";
}
$sqlclause = implode(",",$sql); 
```

这工作正常，但它只填充具有数字的值。如果我采用 is_numeric 或将其更改为它`($value)`的不同变体，则查询会完成，但不会将任何数据添加到我的 MySQL 数据库中。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T09:35:12.470

可能是因为如果值不是数字，您没有添加值：

```
$sql[] = (is_numeric($value)) ? "`$key` = $value" : "`$key` = '" . $value . "'";
//                                                             ^^^^^^^^^^^^^^ 
```

# objective-c - NSUserDefaults 使用 setInteger 崩溃

> ID：14232023
> 
> 赞同：1
> 
> 时间：2013-01-09T09:30:56.743
> 
> 标签：objective-c, nsuserdefaults

我在我的应用程序中使用了这部分代码一段时间，它按预期工作。但是现在，它在使用 setInteger 时崩溃了：

```
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
int selEvent = [defaults integerForKey:@"selected_event"];
/*
 * Do Something with selEvent
 * New ID is in NSNumber event_id
 */
[defaults setInteger:[event_id intValue] forKey:@"selected_event"]; //Crashes on this line
[defaults synchronize]; 
```

在 Xcode 4.5.1 和 iPad 6.0 模拟器中工作。

我得到一个 EXC_BAD_ACCESS。

我的问题的原因是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-06-16T09:59:51.597

我有同样的问题。我把它追溯到别的东西：

我将整数存储在 NSUserDefaults 中，代码如下：

```
[[NSUserDefaults standardUserDefaults] setInteger:_currentBannerIndex forKey:@"currentBannerIndex"]; 
```

一段时间后，它在同一点崩溃，写入相同的值。原因是在这段时间之后，我注册了 NSUserdefaults 的更改，代码如下：

```
[[NSNotificationCenter defaultCenter] addObserver:self selector: @selector(userDefaultsChanged) name:NSUserDefaultsDidChangeNotification object:nil]; 
```

这是在初始化时在导入器中完成的。在导入器被释放后，对用户默认值的新写入正在触发观察者对已消失的对象。繁荣。碰撞。

解决方案当然是在我的进口商的 dealloc 中删除观察者。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-06-11T06:06:20.483

对我来说，我会说问题出在`[event_id intValue]`

`event_id`is `NSString`& 它被释放，因此发生了这个错误。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-09T09:47:50.697

发现我的问题：

```
NSDictionary *defaultUserDefaults = [NSDictionary dictionaryWithObjectsAndKeys:
                                     [NSNumber numberWithInt:0], @"selected_event",
                                     nil];
[[NSUserDefaults standardUserDefaults] registerDefaults:defaultUserDefaults]; 
```

这在 setInteger 之前有效：

用 setObject 改变了所有的 setIntegers。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-09T11:40:51.590

```
 [[NSUserDefaults standardUserDefaults] setInteger:1 forKey:@"KeyName"]; 
```

# java - 模拟外部存储android

> ID：14232027
> 
> 赞同：0
> 
> 时间：2013-01-09T09:31:05.610
> 
> 标签：java, android

我创建具有相机功能的应用程序，我调用相机，意图拍摄照片并将文件保存在外部存储“下载”文件夹中，但随后我搜索它们在另一个文件夹“/storage/emulated/0/download/”中。

为什么android需要2个导演？除了我保存的照片之外，使用相同的文件。

我正在使用 Galaxy Nexus 手机。对于 Galaxy 平板电脑，一切都很好。

```
public void openCamera(View view) {
    try {
        int CAPTURE_IMAGE_ACTIVITY_REQUEST_CODE = 1991;

        photoName();
        String _path = Environment.getExternalStoragePublicDirectory(DOWNLOAD_SERVICE) + "/" + photoFileName;
        System.out.println("PATH: "+ _path);
        File file = new File( _path );
        Uri outputFileUri = Uri.fromFile( file );

        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
        intent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);
        startActivityForResult(intent, CAPTURE_IMAGE_ACTIVITY_REQUEST_CODE);

    } catch (Exception e) {

    }

private String photoName() {
   boolean isWhile = true;
   int randomId = 0;
   int count = 0;

   while (isWhile) {
       photoFileName = "MobiliSkaita_" + count + ".jpg";
       File fileToCheck = new File(Environment.getExternalStoragePublicDirectory(DOWNLOAD_SERVICE) + "/" + photoFileName);

       if (fileToCheck.exists()) {
           System.out.println("FAILAS YRA: " + randomId);
           randomId++;
           photoFileName="MobiliSkaita_" + randomId + ".jpg";
       } else {
           System.out.println("FAILAS NERA: " + randomId);
           isWhile = false;
       }
       count++;
   }    
   return photoFileName; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T12:57:45.323

从[http://developer.android.com/guide/topics/data/data-storage.html#filesExternal](http://developer.android.com/guide/topics/data/data-storage.html#filesExternal)，一些设备使用不同的目录进行外部存储。

您应该尝试（API >= 8）：

```
Context.getExternalFilesDir(); 
```

或 (API < 8)

```
Context.getExternalStorageDirectory(); 
```

获取当前设备上的外部存储目录（假设它已安装）。

# sas - 更改 SAS 日志的语言

> ID：14232031
> 
> 赞同：3
> 
> 时间：2013-01-09T09:31:22.700
> 
> 标签：sas

生成会话 *后*是否可以更改 SAS**日志的语言？**

 *如果没有，是否可以根据特定的用户 ID 生成具有特定语言的会话？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-09T15:12:02.510

从这里：http: [//support.sas.com/resources/papers/LocaleSwitching.pdf](http://support.sas.com/resources/papers/LocaleSwitching.pdf)

它表示“写入 SAS 日志的消息......在启动时始终以该语言显示。”

要在启动时更改 SAS 的语言，您需要在配置文件中创建一个条目。如果您使用的是默认配置文件，您可以在相应的 NLS 文件夹中为每种已安装的语言找到一个。对于 9.3，它存储在这里： `C:\Program Files\SASHome\SASFoundation\9.3\nls\en\sasv9.cfg`

将“en”替换为“您选择的语言”。您可以告诉它在您的 SAS 快捷方式中使用该配置文件。例如，您可能有两个启动快捷方式，一个使用 EN，一个使用 JP（日语），定义为具有以下目标（右键单击快捷方式、属性，然后查看“快捷方式”选项卡，然后查看目标）：

第一个快捷方式（英文）： `"C:\Program Files\SASHome\SASFoundation\9.3\sas.exe" -CONFIG "C:\Program Files\SASHome\SASFoundation\9.3\nls\en\sasv9.cfg"`

第二个快捷方式（日语）： `"C:\Program Files\SASHome\SASFoundation\9.3\sas.exe" -CONFIG "C:\Program Files\SASHome\SASFoundation\9.3\nls\jp\sasv9.cfg"`

如果这些快捷方式存储在桌面（或任何其他用户主位置）上，它们将是特定于用户的，因此您的其他语言用户可以简单地定义他们想要的快捷方式。只需确保使用该语言作为选项安装 SAS。

如果您自定义了配置文件，则需要对各种语言文件进行相同的自定义；或者您将需要获取该自定义文件并将 LOCALE 更改为正确的本地化。获取自定义文件可能是最简单的，打开正确的本地化原始文件，然后从那里复制行以确保您拥有正确的缩写（尽管它们似乎通常使用标准缩写）。对于 EN_US，这是一行： `-LOCALE en_US`*

# javascript - 如何将索引列添加到 dataTables 表？

> ID：14232034
> 
> 赞同：3
> 
> 时间：2013-01-09T09:31:38.703
> 
> 标签：javascript, jquery, datatables

我有一个`table`使用 jQuery dataTables 填充的。我想知道：

1.  如何添加索引列。[dataTables.net](http://datatables.net)站点有一个示例，它告诉如何为当前索引文件提供索引属性而不是如何制作它。

2.  我想让我的专栏之一成为音量滑块。它只有一个介于 0-100 之间的数字，并且想要使用 jQueryUI 滑块来制作它。我应该在哪里初始化滑块功能？在dataTables初始化函数之前或内部或之后，如何？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-02-08T01:22:22.740

此处的在线文档很好地介绍了添加索引列：[https ://datatables.net/examples/api/counter_columns.html](https://datatables.net/examples/api/counter_columns.html)

至于音量滑块，我确实找到了一种让它工作的黑客方法。我在 thead 中添加了一个空的 th，在 tbody 的每一行的开头添加了一个 td。第一个 td 具有滑块 div 和 3 行跨度（我的示例只有 3 行）。其他 td 为空，样式为 display:none。

```
<table id="myTable" class="display">
    <thead>
        <tr>
            <th></th>
            <th>Column 1</th>
            <th>Column 2</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td rowspan="3">
                <div id="slider"></div>
            </td>
            <td>Row 1 Data 1</td>
            <td>Row 1 Data 2</td>
        </tr>
        <!-- Other rows here -->
    </tbody>
</table> 
```

在 JS 中，我将文档中显示的示例用于索引列，并进行了一些更改。我正在初始化 DataTable 的“initComplete”上的滑块，并在对表进行排序或搜索时再次初始化。

```
var table = $("#myTable").DataTable({
    //Table options here
    "initComplete":function(){
        $("#slider").slider(sliderOpts);
    }
});

table.on('order.dt search.dt', function(){
    table.column(0, {search:'applied', order:'applied'}).nodes().each(function(cell, i){
        if(i == 0){
            $(cell).attr("rowspan","3").html("<div id='slider'></div>").css("display","table-cell");
            $("#slider").slider(sliderOpts);
        } else {
            cell.innerHTML = '';
            $(cell).css("display","none")
        }
    })
}).draw(); 
```

这是我的解决方案的 jsfiddle：[https ://jsfiddle.net/r7jwv76L/2/](https://jsfiddle.net/r7jwv76L/2/)

# php - 如何在上传前为文件添加前缀？

> ID：14232035
> 
> 赞同：0
> 
> 时间：2013-01-09T09:31:41.447
> 
> 标签：php, modx, plupload, uploading

我目前使用的 CMS（Modx Evolution）能够将一些信息打印到站点中（如日期/用户名等）。我想使用这些函数来处理 plupload。

是否可以根据实际登录的用户在服务器槽 plupload 之后（或上传之前）添加前缀或完全重命名文件？

例子：

*   用户上传文件 test.txt，
*   在服务器上它会看起来 username_test.txt

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:01:10.903

尝试这个

```
<?php
$username = 'username';
$tmp_name = $_FILES["file"]["tmp_name"];
$name = $username.$_FILES["file"]["name"];
move_uploaded_file($tmp_name, "$uploads_dir/$name");
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T11:44:01.623

您可以使用`$modx->getLoginUserName()` [http://rtfm.modx.com/display/Evo1/getLoginUserName访问用户名](http://rtfm.modx.com/display/Evo1/getLoginUserName)

在 plupload 配置中设置文件名（我认为使用`file_data_name`config 选项），或者在上传后将其重命名为服务器端。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T09:36:58.697

先上传文件，然后重命名

```
<?php rename("/tmp/test.txt", "/tmp/".$usernameVar."_test.txt"); ?> 
```

# c# - 为什么复制流然后使用 BinaryFormatter 反序列化比仅反序列化更快

> ID：14232041
> 
> 赞同：9
> 
> 时间：2013-01-09T09:32:05.630
> 
> 标签：c#, .net, serialization, stream, deserialization

此代码大约需要 8 秒，其中包含来自数据库中 blob 的大约 65K 的流

```
private string[] GetArray(Stream stream)
{
    BinaryFormatter binaryFormatter = new BinaryFormatter();
    object result = binaryFormatter.Deserialize(stream);
    return (string[])result;
} 
```

这段代码需要几毫秒：

```
private string[] GetArray(Stream stream)
{
    BinaryFormatter binaryFormatter = new BinaryFormatter();
    MemoryStream memoryStream = new MemoryStream();
    Copy(stream, memoryStream);
    memoryStream.Position = 0;
    object result = binaryFormatter.Deserialize(memoryStream);
    return (string[])result;
} 
```

为什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-09T13:23:01.557

所以你说当数据库被排除在等式之外时问题就消失了。这是我的理论：

`BinaryFormatter`以微小的增量从流中读取。它*必须*尽可能少地读取，以免在序列化对象*之后意外吞下几个字节。*这意味着它正在发出*大量*的读取命令（我用 Reflector 验证了这一点）。

可能，每次读取 blob 流都会导致网络往返（或其他一些主要开销）。如果立即使用，这将为您提供数百万次往返`BinaryFormatter`。

缓冲首先会导致网络被更有效地利用，因为读取缓冲区的大小要大得多。

# php - 数据库某些输出到 XML

> ID：14232047
> 
> 赞同：0
> 
> 时间：2013-01-09T09:32:19.280
> 
> 标签：php, mysql, sql, xml

我的网站上有一个 MySQL 数据库，我想知道如何通过 PHP 从名为“customers”的表中获取请求的 XML 输出。

我有这个代码，它可以工作，但我想命名一个客户并只给我这个。

```
<?php

$con = mysql_connect("localhost", "root", "");
if (!$con) {
    die('Could not connect: ' . mysql_error());
}
mysql_select_db("eshop");

$query = "select name,address from customer";
$res = mysql_query($query);

$xml = new XMLWriter();

$xml->openURI("php://output");
$xml->startDocument();
$xml->setIndent(true);

$xml->startElement('customers');

while ($row = mysql_fetch_assoc($res)) {
  $xml->startElement("customer");

  $xml->writeAttribute('name', $row['name']);
  $xml->writeAttribute('address', $row['address']);

  $xml->endElement();
}

$xml->endElement();

header('Content-type: text/xml');
$xml->flush();
?> 
```

如果您能告诉我该怎么做，我将不胜感激。请注意; 我是 PHP 的新手！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T09:43:16.720

在查询中添加 where 子句。而且，就像其他人所说的那样，永远不要使用 mysql_* 函数。请改用 PDO 或 mysqli_*。

# android - 从 Android 应用程序打开 Gmail

> ID：14232053
> 
> 赞同：2
> 
> 时间：2013-01-09T09:32:31.623
> 
> 标签：android, gmail

我正在尝试创建一个可以打开 Gmail 的应用程序。我使用两个函数：startApplication 和launchApp：

```
public void startApplication(String packageName){
            try
            {
                Intent intent = new Intent("android.intent.action.MAIN");
                intent.addCategory("android.intent.category.LAUNCHER");
                intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);
                List<ResolveInfo> resolveInfoList = getPackageManager().queryIntentActivities(intent, 0);

                for(ResolveInfo info : resolveInfoList)
                    if(info.activityInfo.packageName.equalsIgnoreCase(packageName))
                    {
                        toast = Toast.makeText(MainActivity.this, "Gmail opened", Toast.LENGTH_LONG);
                        toast.show();
                        launchApp(info.activityInfo.packageName, info.activityInfo.name);
                        return;
                    }
            }
            catch (Exception e) 
            {
                toast = Toast.makeText(MainActivity.this, "Can't find Gmail", Toast.LENGTH_LONG);
                toast.show();
            }
        } 
```

这是launchApp函数：

```
private void launchApp(String packageName, String name)
    {
        Intent intent = new Intent("android.intent.action.MAIN");
        intent.addCategory("android.intent.category.LAUNCHER");
        intent.setComponent(new ComponentName(packageName, name));
        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        startActivity(intent);
    } 
```

我从 MainActivity 的 onCreate 函数调用

> startApplication("com.gmail");

我尝试在模拟器和智能手机上运行此应用程序，但程序崩溃。错误是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-19T14:15:18.303

最后我解决`startApplication("com.gmail")`了改变`startApplication("com.google.android.gm")`

# ember.js - CollectionView 内的多选控件，具有常见的过滤内容

> ID：14232062
> 
> 赞同：1
> 
> 时间：2013-01-09T09:33:29.777
> 
> 标签：ember.js

是否有可能从一个通用列表中选择多个对象？

我的情况是这样的：

*   我有很多人（比如说 100 人）的名单
*   我只需要选择其中的几个
*   每个人最多只能被选中一次（被选中的人不能在 Select 控件的内容列表中）

视觉示例：

人物数组（选择的**内容**）：

```
App.personsController = Ember.ArrayController.create({
  content:["Person1", "Person2", "Person3", "Person4", "Person5"]
}) 
```

我们有 2 个按钮来添加和删除行：

**(+)**按钮执行“*添加*”操作，调用**person.createRecord**将另一个项目添加到 CollectionView 内的 ItemView

**(x)**按钮执行调用**person.deleteRecord**删除记录的“*删除”操作*

 **这是我们首先看到的：

*   (+)(x)

**第一个动作 - 点击添加**

所以在执行“点击”操作后，我们有这样的列表：

*   Person1 *<- 这实际上是 DropdownList（选择控件）*
*   (+)(x)

现在所有 Select 的目录是：

[“人 2”、“人 3”、“人 4”、“人 5”]

**第二个动作 - 点击添加**

*   人1
*   人2
*   (+)(x)

选择的目录：

[“人 3”、“人 4”、“人 5”]

**第三个动作 - 选择**

现在我们将 Person2 更改为 Person5

*   人1
*   人5
*   (+)(x)

表中的内容：

[“人 2”、“人 3”、“人 4”]

**第四步 - 点击删除**

现在我们从列表中删除 Person1

*   人5
*   (+)(x)

表中的内容：

["Person1:, "Person2", "Person3", "Person4"]

如您所见，表格内容随着选定的上下文而变化。

**问题：**

模板中的选择视图具有我想与我的*内容*表绑定的 contentBinding，但是如果我删除了已选择的项目，那么它将不会显示在 html 选择选项属性中。我尝试使用 selectionBinding 但它似乎无法以这种方式工作。

据我所知，我们应该：

*   使用 2 个列表：
    *   选定的人
    *   未选定人员
*   使用**CollectionView**和**ItemView**单独跟踪每个 Select 元素
*   为每个 {{view Select **contentBinding** }} 提供**notSelectedPersons**
*   为每个 {{view Select **selectionBinding** }} 提供**selectedPersons**

ember.js 中是否有可能实现与上述类似的结果？**

# c# - 如何启动附加到数据模板内控件的情节提要？

> ID：14232065
> 
> 赞同：1
> 
> 时间：2013-01-09T09:33:32.323
> 
> 标签：c#, windows-8, winrt-xaml

我在数据模板中有一个故事板。我只想在特定条件下启动它。在我的情况下，每当没有。时钟中的秒数是 59 故事板应该开始。

您可以在下面看到故事板以及应用动画的控件：

```
<!-- Minute Hand -->
                <Image
                    Source="{Binding Time, Converter={StaticResource MinHandBackground}}"
                    HorizontalAlignment="Left"                        
                    VerticalAlignment="Top"                        
                    Canvas.Left="118"
                    Canvas.Top="118">
                    <Image.RenderTransform>
                        <TransformGroup>
                            <TranslateTransform
                                X="-11"
                                Y="-90" />

                            <RotateTransform
                                x:Name="minHandTransform" />

                        </TransformGroup>
                    </Image.RenderTransform>

                    <Image.Triggers>

                        <EventTrigger
                            RoutedEvent="Image.Loaded">
                            <BeginStoryboard>
                                <Storyboard
                                    x:Name="myStoryboard2">
                                    <DoubleAnimation
                                        x:Name="minuteAnimation"
                                        Storyboard.TargetName="minHandTransform"
                                        Storyboard.TargetProperty="Angle"
                                        Duration="0:0:1"
                                        From="{Binding Time, Converter={StaticResource minuteHandTransform}}"
                                        To="{Binding Time, Converter={StaticResource minuteHandToTransform}}"
                                        RepeatBehavior="1x">
                                        <DoubleAnimation.EasingFunction>
                                            <SineEase
                                                EasingMode="EaseOut" />
                                        </DoubleAnimation.EasingFunction>
                                    </DoubleAnimation>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>

                    </Image.Triggers>
                </Image> 
```

目前 BeginStoryboard 在加载时立即启动。我想在秒数为 59 时启动它，但我无法访问后端的情节提要，因为控件位于数据模板中。

任何人都可以在这里帮助我.....我已经为这个问题头疼了好几天了！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T17:02:39.427

最简单的方法是将 DataTemplate 的全部内容移动到单独的 UserControl 中，这样您就可以更轻松地访问所有命名元素。

# debugging - 删除 Xcode 4.5.2 中的监视变量

> ID：14232066
> 
> 赞同：1
> 
> 时间：2013-01-09T09:33:36.153
> 
> 标签：debugging, xcode4.5, lldb, watch

我可以通过 Xcode 调试区域中的“Watch 'variable'”来观察变量，它可以工作，因为当观察变量变化时 Xcode 会中断。但是当我看不到“监视窗口”之类的东西时，我怎么能删除监视变量？或查看我正在查看的变量？通过 LLDB 命令？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-10T01:26:47.177

您可以通过 Xcode 中的断点导航器禁用或删除观察点。（视图 > 导航器 > 显示断点导航器）。您也可以使用`watch delete`命令通过 lldb 控制台窗口执行此操作。

# android - 将文件上传到 android 中唯一的谷歌驱动器帐户

> ID：14232067
> 
> 赞同：1
> 
> 时间：2013-01-09T09:33:35.973
> 
> 标签：android, google-drive-api, service-accounts

我需要构建一个应用程序，将通过该应用程序拍摄的照片上传到一个独特的谷歌驱动器帐户。尝试过[https://developers.google.com/drive/quickstart-android](https://developers.google.com/drive/quickstart-android)并构建应用程序。但它正在使用谷歌帐户已在平板电脑中注册，我想将其上传到唯一帐户。有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T02:37:56.207

您应该使用服务帐户代表您的应用程序而不是用户的驱动器存储文件：[https ://developers.google.com/drive/service-accounts](https://developers.google.com/drive/service-accounts)

# bash - 使用 bash 脚本从文件中删除块注释

> ID：14232070
> 
> 赞同：3
> 
> 时间：2013-01-09T09:33:45.893
> 
> 标签：bash, percona

`/*`有一种方法可以从文件中删除包含在 bash 脚本之间和`*/`使用 bash 脚本的所有行吗？

我使用**percona**生成一个 sql 脚本来同步两个数据库，一个开发数据库到一个生产数据库。**Percona**生成一个格式良好的 SQL 脚本，但其中充满了增加文件大小的注释。所以，为了使上传操作更容易，我宁愿删除所有不必要的。

1月10日编辑

我用这段代码解决了：

```
sed -r ':a; s%(.*)/\*.*\*/%\1%; ta; /\/\*/ !b; N; ba' <FILE_TO_CLEAN> 
```

谢谢大家

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-09T10:23:33.033

使用`sed`：

```
sed '/\/\*.*\*\// d; /\/\*/,/\*\// d' file 
```

该命令`d`告诉 sed 删除与前面的表达式匹配的模式。第一个表达式`/\/\*.*\*\//`匹配单行注释，第二个表达式匹配多行注释`/\/\*/,/\*\//`（这是由 暗示的`,`）。

我不知道这是否 100% 有效，但据我尝试，它完成了这项工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:41:38.267

[-试试这个脚本](http://bash.cyberciti.biz/academic/sed-remove-c-cpp-comments/)- 它应该有助于删除注释，因为与 C++ 相同[在这里](http://sed.sourceforge.net/local/scripts/strip_html_comments.sed.html)你可以看到另一个 sed 示例来删除 HTML 注释

# javascript - 使用 Google chrome api 缓存 .js 和 .css 文件

> ID：14232072
> 
> 赞同：0
> 
> 时间：2013-01-09T09:33:58.930
> 
> 标签：javascript, css, caching, google-chrome-extension

我使用一个响应时间非常长的网站。大部分时间都用于加载带有 javascript 和 css 文件的页面。

我想写一个谷歌浏览器扩展，它可以保存/缓存所有的 js 文件很长一段时间。

我知道 JS 本身不会为我提供这个功能。谷歌浏览器是否有一个 API 可以做同样的事情？

还有其他选择吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T09:45:04.317

听起来不是个好主意

*   您是否希望人们安装此扩展程序只是为了访问您的网站？我经常访问数百个站点，我应该安装数百个扩展吗？
*   你还会为 Firefox / Opéra / Safari / 我喜欢的任何浏览器做扩展吗？

如果网络服务器正确放置 HTTP 标头，浏览器（Chrome 和所有其他浏览器）将正确缓存所有资源。

请参阅[如何改善静态 HTML 网站的加载时间？](https://stackoverflow.com/questions/673655/how-can-i-improve-loading-times-on-a-static-html-site)

*编辑*：现在我更好地了解您的需求，您可以做的是创建一个扩展

*   应用于相关网站
*   删除脚本/css 加载，例如`$('head>stylesheet').remove()`
*   使用本地副本注入相同的脚本/css，并可选地使用`$(document).ready(main_function)`（而不是`<body.onload="main_function()">`）改进脚本的加载

# batch-file - 如何使用 .cmd 为 putty 登录会话提供输入

> ID：14232075
> 
> 赞同：0
> 
> 时间：2013-01-09T09:34:12.183
> 
> 标签：batch-file, cmd

我创建了一个 .cmd 文件来打开多个 putty 登录。

如何将我的用户名和密码作为 .cmd 文件中打开的会话的输入？

命令脚本

开始 "" "C:\Documents and Settings\dbteam\Desktop\putty.exe" "192.168.x.xxx"

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:13:11.493

如腻子[手册中所述](http://the.earth.li/~sgtatham/putty/0.62/htmldoc/Chapter3.html#using-cmdline)

使用 -l 作为登录名，使用 -pw 作为密码。例如

```
putty.exe -l user -pw passw0rd hostname 
```

或 user@hostname 语法：

```
putty.exe -pw passw0rd user@hostname 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-11-26T18:13:31.217

加载会话并使用用户名和密码自动登录：

```
"C:\Program Files (x86)\PuTTY\putty.exe" -load "session" -l <username> -pw <password> 
```

# video - 从 flv 文件中批量删除音频

> ID：14232078
> 
> 赞同：-2
> 
> 时间：2013-01-09T09:34:18.140
> 
> 标签：video, ffmpeg, flv

我有一批 flv 文件，我想删除文件中的所有音频。这可能吗？我曾尝试使用 ffmpeg，但无法做到，有人可以指导我正确的方向吗？有没有办法使用 C 或任何其他方式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T09:52:05.623

您想完全*删除*音频吗？ffmpeg 可以做到这一点，那么你不能以什么方式使用它呢？是否无法正常工作？

```
ffmpeg -i input.flv -an output.flv 
```

.. 应该这样做（事实上，确实如此，我只是在 SL6 上使用 ffmpeg 0.10.2 对其进行了测试）。所以：

```
# in bash
for file in *.flv
do
    ffmpeg -i "$file" -an $(basename "$file" .flv)-edit.flv
done 
```

.. 将执行当前目录中的所有 .flv 文件，创建 *-edit.flv 版本（保持原件安全）。

**更新**：您可能还应该添加适当的视频复制选项，如下面的*LordNeckbeard*所述。

# ios - 让主线程等到所有其他线程在 iPhone sdk 中完成

> ID：14232079
> 
> 赞同：0
> 
> 时间：2013-01-09T09:34:18.997
> 
> 标签：ios, objective-c, multithreading, ios4

在我的编码经验中，我第一次在目标 C 中处理线程。在我的应用程序中，我需要在两个线程中下载一些资产。下载完成后，我必须启动我的主线程，这将在线程中使用下载的资产。所以我写了一些这样的代码

```
NSThread *threadPlayer1 = [[NSThread alloc]initWithTarget:self selector:@selector(getPlayer1Assets) object:nil];

[threadPlayer1 start];

NSThread *threadPlayer2 = [[NSThread alloc]initWithTarget:self selector:@selector(getPlayer2Assets) object:nil];

[threadPlayer2 start];

[self performSelectorOnMainThread:@selector(introducePlayer1) withObject:nil waitUntilDone:YES]; 
```

我将 waituntilDone 写为 Yes，但它只等到第一个线程完成。所以如果我想等到所有两个线程都完成我该怎么办？任何人都可以通过示例代码片段提出建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T09:42:25.077

我的建议是使用[this](http://eng.alphonsolabs.com/concurrent-downloads-using-nsoperationqueues/)。它来自脉冲工程博客。花一点时间在里面，直到你掌握了这个想法。

至于你的代码。我猜你正在这样做：

```
[self performSelectorOnMainThread:@selector(introducePlayer1) withObject:nil waitUntilDone:YES]; 
```

在主线程上。阅读文档中有关它的[内容](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSObject_Class/Reference/Reference.html)，特别是最后一句话：

> wait 一个布尔值，它指定当前线程是否阻塞，直到在主线程上的接收器上执行指定的选择器之后。指定 YES 来阻塞这个线程；否则，指定 NO 使该方法立即返回。
> 
> 如果当前线程也是主线程，并且您为此参数指定 YES，则消息将立即传递和处理。

# c# - 按值传递接口成员

> ID：14232087
> 
> 赞同：2
> 
> 时间：2013-01-09T09:34:58.607
> 
> 标签：c#, .net, visual-studio-2010, .net-4.0

```
 public void MethodSample1(Itest variable)
    {
        variable.TestString = "some sample data";
        Itest var1 = variable;
        Console.WriteLine(variable.TestString);
        MethodSample2(variable);
        Console.WriteLine(variable.TestString);
        Console.WriteLine(var1.TestString);

    }

    public void MethodSample2(Itest variable)
    {
        variable.TestString = "testdata";
    }

    public interface Itest
    {
      string TestString { get; set; }
    } 
```

期望控制台输出行都打印“一些示例数据”，但似乎`TestString`被新值覆盖？是不是像“默认情况下在 C# 中所有值都是按值传递的？”。

简而言之，如何保存“TestString”中的值`MethodSample1`？

（我遇到了这个问题，因为我所有的项目都基于一个界面）

即使保留了价值，它确实反映了！奇怪的！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-09T09:37:32.657

对于您当前的问题，我认为您不能阻止任何方法修改传递给它的参数。

你`variable`是一个**引用类型对象**，在 C# 中，引用类型的地址是按值传递给一个方法的，这就是你看到变化的原因。例如，如果您的方法编写如下：

```
public void MethodSample2(Itest variable)
{
    variable = null;
} 
```

您**不会看到方法的变化**，`MethodSample1`因为引用地址是按值传递的。

> 是不是像“默认情况下在 C# 中所有值都是按值传递的？”。

值类型是按值传递的，在您的情况下`variable`是引用类型。

你应该看到[Jon Skeet 的 Parameter Passing C#](http://www.yoda.arachsys.com/csharp/parameters.html)

不确定为什么必须修改传递的对象，对于**解决方法**， 您可以创建属性的临时副本，然后在方法存在之前设置该值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T09:37:45.227

参数确实是按值传递的，但是你传递的值是对原始对象 的**引用。**

如果要保留原始对象的属性，则需要传递原始对象的副本。您可以将 Clone() 方法添加到接口或类似的东西：

```
public interface ITest
{
    string TestString { get; set; }
    ITest Clone();      
}

public class Test : ITest 
{
    string TestString { get; set; }
    ITest Clone() { 
        return new Test() { 
            TestString = this.TestString 
        }; 
    }
} 
```

或者，您可以重新考虑当前的方法。你真的需要改变接口的属性吗？或者您可以改用字符串类型的变量吗？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T09:39:55.213

> 如何在 MethodSample1 中保留“TestString”的值？

将其存储在局部变量中。

```
public void MethodSample1(Itest variable)
{
    variable.TestString = "some sample data";
    string localTestString = variable.TestString;

    Console.WriteLine(variable.TestString);

    MethodSample2(variable);
    variable.TestString = localTestString;

    Console.WriteLine(variable.TestString);

} 
```

但是，这是错误的做事方式。如果您多说一点您想要实现的目标，我们可以提供更多帮助。

# android - 如何实现 OptionMenuItem 的指标？

> ID：14232088
> 
> 赞同：-1
> 
> 时间：2013-01-09T09:35:01.353
> 
> 标签：android, indicator, android-optionsmenu

我想为 OptionMenuItem 设置指示器，如右图。请帮我 ![在此处输入图像描述](../Images/bd556f1858bb6c9752bf31f4b97fbf18.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T09:40:13.997

右侧的图像很可能是[`TabHost`](https://developer.android.com/reference/android/widget/TabHost.html)开箱即用地提供这些指标的。

如果您想使用 a[`ViewPager`](https://developer.android.com/reference/android/support/v4/view/ViewPager.html)代替，您可能需要查看[`ViewPagerIndicator`](http://viewpagerindicator.com/)库。

# javascript - 基于 SQL 查询的确认

> ID：14232092
> 
> 赞同：0
> 
> 时间：2013-01-09T09:35:17.023
> 
> 标签：javascript, .net, sql, vb.net, msgbox

我必须在 .net 中使用`vb6` `Msgbox` *(vbyesno)*或类似的东西。我知道我不能使用`Msgbox`，我应该使用`javascript`，但问题是，我必须根据查询结果提示该 Messagebox。

例如：

```
sql= "select * from users where position = 'manager' and id = '1'"
ds = getdataset(sql,db)
If ds.tables(0).rows.count > 0 Then
    If MsgBox("The user is a manager, are you sure you want to delete?", vbYesNo) = vbYes Then
        sql = "delete users where id = '1'"
    End if
End if 
```

这有可能吗？我可以`javascript`从 .net 代码调用还是有其他方法可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T09:52:20.420

不幸的是，不。您需要了解客户端和服务器端编程的概念。

选择和删除部分是服务器端编程，而 msgBox 是客户端。

## 您想要的是在 rows.count > 0 时在网页上创建一个按钮；然后处理按钮YES单击甚至删除该行。

[**编辑**]我觉得我的回答不值得作为答案，所以我在这里添加了更多细节：

创建一个网页名称deleteNow.aspx：

```
<%@ Page Language="vb" AutoEventWireup="false" CodeBehind="deleteNow.aspx.vb" Inherits="arrow_dynascreen.deleteNow" %>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
</head>
<body>
    <form id="myForm" runat="server">
        Normal webpage content
        <asp:Panel ID="myConfirmationPanel" runat="server">
            The user is a manager, are you sure you want to delete?<br /><br />
            <asp:Button ID="btnConfirmationYes" runat="server" Text="Yes" />
            <asp:Button ID="btnConfirmationNo" runat="server" Text="No" />
        </asp:Panel>
    </form>
</body>
</html> 
```

然后，在后面的代码中，执行以下操作：

```
Public Class deleteNow   'Or a Partial Class, depending if you are on a WebSite or WebApplication
    Inherits System.Web.UI.Page
    Private Sub deleteNow_PreRender(sender As Object, e As System.EventArgs) Handles Me.PreRender
        myConfirmationPanel.Visible = False 'Set Default to always hide it.

        If Not IsPostBack() Then  'Only check to display confirmation if this is not a PostBack event (ie, when user click on Yes/No button, then don't check/execute this section.
            Dim sql As String = "select * from users where position = 'manager' and id = '1'"
            Dim ds As Data.DataSet '= Data.Sql.getda(sql, db)
            If ds.Tables(0).Rows.Count > 0 Then
                myConfirmationPanel.Visible = True
            End If

        Else
            'Do other things that do not need to wait for confirmation
        End If
    End Sub
    Protected Sub btnConfirmationYes_Click(sender As Object, e As EventArgs) Handles btnConfirmationYes.Click
        'When user click on YES, this section will delete the SQL Row
        Dim sql = "delete users where id = '1'"
    End Sub
    Protected Sub btnConfirmationNo_Click(sender As Object, e As EventArgs) Handles btnConfirmationNo.Click
        'When user click on NO, this section will hide the confirmation panel (and do nothing).
        myConfirmationPanel.Visible = False
    End Sub
End Class 
```

# ruby-on-rails-3 - 如果作为附件发送，Rails 辅助方法方法在 PDF 中不起作用

> ID：14232108
> 
> 赞同：0
> 
> 时间：2013-01-09T09:36:17.947
> 
> 标签：ruby-on-rails-3, pdf

嗨，我已经使用 Prawn 在我的 Rails 应用程序中创建了一个 PDF 转换，它工作正常。现在我在电子邮件附件中发送该 PDf。现在的问题是，如果我不使用任何辅助方法，我可以发送 PDF 附件，但是当我在 PDf 文件中使用我的 format_currency 方法时，它会在 instance_eval 方法上给出错误。这是我的代码示例：格式货币代码：

```
module ApplicationHelper

def format_currency(amt)
    unit = 'INR'
    country = current_company.country
    if !country.blank? && !country.currency_unicode.blank?
      unit = country.currency_unicode.to_s
    elsif !country.blank? 
      unit = country.currency_code.to_s
    end
    number_to_currency(amt, :unit => unit+" ", :precision=> 2)   
  end 
end 
```

我的控制器代码：

```
pdf.instance_eval do
      @company = current_company
      @invoice = invoice
      @invoice_line_items = invoice_line_items
      @receipt_vouchers = receipt_vouchers
      eval(template) #this evaluates the template with your variables
    end 
```

我得到的错误信息：

```
undefined method `format_currency' for #<Prawn::Document:0x7f89601c2b68> 
```

使用此代码，如果我不使用辅助方法但我需要使用该方法，我可以成功发送附件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T06:46:49.343

我以不同的方式解决了这个问题，我在我的公司模型中创建了一个新的 currency_code 方法，并在我的 format_currency 辅助方法中调用了它，它对我来说很好：这是我所做的：

```
def currency_code
  unit = 'INR'
  if !country.blank? && !country.currency_unicode.blank?
      unit = country.currency_unicode.to_s
  elsif !country.blank? 
      unit = country.currency_code.to_s
  end
   unit
end 
```

并在我的 format_currency 助手中使用它：

```
def format_currency(amt)
    unit = current_company.currency_code
    number_to_currency(amt, :unit => unit+" ", :precision=> 2)   
  end 
```

在我的控制器中，我添加了一个货币变量并在我的 pdf 文件中使用它：

```
 pdf.instance_eval do
      @company = current_company
      @invoice = invoice
      @invoice_line_items = invoice_line_items
      @receipt_vouchers = receipt_vouchers
      @currency = current_company.currency_code # new added variable for currency
      eval(template) #this evaluates the template with your variables
    end 
```

# ios - core-plot ：通过用户交互仅缩放 x 轴

> ID：14232109
> 
> 赞同：1
> 
> 时间：2013-01-09T09:36:29.160
> 
> 标签：ios, core-plot

在 iOS 上工作的 Core-Plot。我正在设置`plotSpace.allowsUserInteraction = YES`。

我想通过捏只缩放 X 轴。

例如，Y 轴的最大范围始终查看 100。X 轴的最大范围查看 60 到 120。

我认为最好的解决方案只有 X 轴按水平收缩缩放，Y 轴按垂直收缩缩放。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-08-05T17:08:57.050

```
[[self.graph defaultPlotSpace] setAllowsUserInteraction:YES];
[self.graph defaultPlotSpace].delegate = self; 
```

比在委托中你想要的东西。像这样

```
- (CPTPlotRange *)plotSpace:(CPTPlotSpace *)space willChangePlotRangeTo:(CPTPlotRange *)newRange forCoordinate:(CPTCoordinate)coordinate {

    if (CPTCoordinateY == coordinate) {
        CGRect chartBounds = self.graph.bounds;
        return [CPTPlotRange plotRangeWithLocation:CPTDecimalFromFloat(chartBounds.origin.y) length:CPTDecimalFromFloat(chartBounds.size.height)];
    }

    return newRange;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-11T02:30:00.393

使用绘图空间委托。实现`-plotSpace:willChangePlotRangeTo:forCoordinate:`委托方法并始终`yRange`为`CPTCoordinateY`.

# python - 从两个列表构建元组列表

> ID：14232112
> 
> 赞同：0
> 
> 时间：2013-01-09T09:36:46.270
> 
> 标签：python, list, tuples, cartesian-product

我写了这个函数：

```
def buildAllPairs(l1, l2):
      l=[]
      for s in l1:
          for p in l2:
               l.append((s, p))
      return l 
```

但它只有当我在列表中使用数字时才有效，因为字母表出现 NameError，有人可以告诉我为什么会这样吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T09:42:54.217

使用[`itertools.product`](http://docs.python.org/2/library/itertools.html#itertools.product)功能：

```
>>> import itertools
>>> list(itertools.product([1, 'a'], [2, 'b']))
[(1, 2), (1, 'b'), ('a', 2), ('a', 'b')] 
```

请注意，`itertools.product()`它本身返回一个`itertools.product`对象，本质上是一个生成器，而不是一个列表。

# sql - 在具有十亿行业务逻辑的两个表之间连接

> ID：14232113
> 
> 赞同：1
> 
> 时间：2013-01-09T09:36:46.670
> 
> 标签：sql, sql-server, sql-server-2008, join, sql-update

我有这样的源表和表目标表

```
Source:

    Column1 Column2 Column3 Column4

Destination:

    Column1 Column2 Column5 Column6 
```

如何在 SQL SERVER 中实现此逻辑

```
IF SOURCE.Column1 = DESTINATION.Column1 AND SOURCE.Column2 = DESTINATION.Column2
UPDATE DESTINATION Column5 = SOURCE.Column1 + 12 (some other logic)
ELSE
Do something else 
```

问题是，我必须处理十亿行，那么实现上述逻辑的最佳方法是什么

**编辑1**

```
IF SOURCE.Column1 = DESTINATION.Column1 AND SOURCE.Column2 = DESTINATION.Column2
UPDATE DESTINATION Column5 = SOURCE.Column1 + 12 (some other logic)
ELSE
**INSERT SOURCE table row to the destination** 
```

如何使用合并语句实现相同的功能，因为我只需要考虑两列

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T09:40:23.363

~~您可以`UPDATE`使用`JOIN`并且在您的情况下会更明智。像这样：~~

 ~~```
UPDATE d
SET d.Column5 = CASE WHEN some logic THEN s.Column1 + 12 (some other logic)
                     ELSE Something else
                ELSE
FROM DESTINATION d
LEFT JOIN SOURCE s ON s.Column2 = d.Colcumn2; 
```~~  ~~* * *

您可以[**`MERGE`**](http://technet.microsoft.com/en-us/library/bb510625.aspx)像这样使用该语句：

```
MERGE INTO SOURCE AS TGT
USING DESTINATION AS SRC
  ON TGT.Column1 = SRC.Column1 
WHEN MATCHED THEN
  UPDATE SET
    TGT.Column5 = SRC.Column1 + 12 (some other logic)
WHEN NOT MATCHED THEN
  INSERT (Source columns list)
  VALUES (...); 
```

**注意：**

*   语句中`INSERT`没有`INTO TableName`，因为子句中已经定义了目标表的名称`MERGE`，即`SOURCE`. 这就是我定义`SOURCE AS TGT`and的原因`DESTINATION AS SRC`。

*   语句必须以`MERGE`分号结束。最好使用 al sql 语句来执行此操作。~~

# amazon-web-services - 如何为实例开发 DNS，并且在 Amazon Web Services 云之外无法访问 DNS 名称？

> ID：14232115
> 
> 赞同：0
> 
> 时间：2013-01-09T09:36:53.993
> 
> 标签：amazon-web-services, amazon-ec2

我的亚马逊网络服务云中有很多实例，现在我想为服务器开发 DNS，所有实例都将具有弹性 IP。现在我想做一些无法在外部加入 DNS 的事情，即只想为内部实例开发 DNS。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:30:35.587

您想在 EC2 上还是在网络外部运行 DNS？请记住，具有弹性 IP 地址的 EC2 实例具有“内部”（自然）IP 地址。您希望 DNS 返回内部 IP 地址还是弹性（公共）IP 地址？

我认为简单的解决方案是这样的。在您运行 DNS 服务器的任何机器或实例上，在该框上设置防火墙，以便只允许 AWS 地址（例如，在 107... ***和 50 *...* * 范围内）。或仅限于您的实例/弹性 IP 地址。将此 DNS 服务器的 IP 地址配置为其他实例的主 DNS 服务器。

另一个简单的解决方案是在 VPC 上运行所有实例。所有需要从公共访问的实例仍然可以具有弹性 IP 地址。然后在此 VPC 上的另一个实例上运行 DNS 服务器 - 但没有弹性 IP 地址。这意味着您的 DNS 服务器将位于 10.0.0.3 或其他位置。外部世界无法访问该 IP 地址，但 VPC 内的机器可在内部访问该地址。我不确定您的实例之间的网络拓扑结构，但如果它们只需要 DNS 相互通信，那么您甚至可以拥有一个公共 DNS 服务器，该服务器返回 VPC 上实例的 10.xyz 地址。

# python - 在 python 中替代 cgi-bin

> ID：14232116
> 
> 赞同：0
> 
> 时间：2013-01-09T09:36:56.767
> 
> 标签：python

我必须从 windows 系统在 linux 系统上执行一些 os 命令，所以我想为此目的使用 python cgi 脚本。

但我没有访问权限

1.  对于 cgi-bin 文件夹

2.  安装任何新软件包

3.  编辑 httpd.conf 文件

python中有cgi的替代品吗？

# regex - 正则表达式除一个单词外的任何字符

> ID：14232126
> 
> 赞同：1
> 
> 时间：2013-01-09T09:37:22.560
> 
> 标签：regex

如何为除一个单词以外的任何字符定义正则表达式组？

我知道已经问过几个类似的问题，但是在复杂的正则表达式中找不到解决方法：

我的正则表达式看起来像这样：

```
...(?<Subfield7>.{1,16})(?<Subfield8>//.{1,16})? 
```

Subfield7 应该匹配除两个正斜杠之外的任何内容，因为它们是下一个子字段的分隔符。

> *   ... **abcdefghijklmnop** //abcdefghijklmnop -> 子字段 7：abcde...，子字段 8：//abcde...
> *   ... **1.3,5-7 9/11** //abcdefghijklmnop -> 子字段 7：1.3,5-7 9/11，子字段 8：//abcde...
> *   ... **12345** //abc//123//456 -> 子字段 7：12345，子字段 8：//abc//123//456

**编辑：**
我的目标是识别子字段 7 和子字段 8。根据定义，子字段 8 以两个前导斜杠开头，但子字段 7 也可能包含（单个）斜杠。子字段 7 和 8 的长度是可变的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T09:45:40.987

如果你想要任何非空字符串，`//`你可以使用

```
"(?!.*//).{1,16}" 
```

这匹配**/a**和**/**并且不匹配**//a**或**//**或**a//b**。

这是你想要的吗？

# perl - 如何使用 perl 连接多个服务器？

> ID：14232128
> 
> 赞同：-2
> 
> 时间：2013-01-09T09:37:27.767
> 
> 标签：perl, unix, vbscript

我有一个安装 perl 的服务器。我得到了一个 VB 脚本，它连接不同的服务器并获取它们各自的文件夹计数。

我的 perl 应该能够连接到所有这些不同的服务器并将 VB 脚本复制到定义的位置并执行 vb 脚本。

我想知道的是，我们是否可以让 perl 在未安装 perl 的服务器中执行第三方脚本，或者我们是否需要将所有这些服务器安装到安装 perl 的单个服务器中。

提前致谢。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-09T09:40:45.130

[`Net::SSH`](https://metacpan.org/module/Net%3a%3aSSH)应该做的工作。您要连接的机器需要运行 SSH 服务器，但这将允许您向它们传输文件 (scp/ [sftp](https://metacpan.org/module/Net%3a%3aSFTP) ) 并获得一个远程 shell，以便您可以在它们上执行程序。

# cocoa-touch - ARC 下的 Google Analytics IOS v2(beta) 崩溃

> ID：14232129
> 
> 赞同：1
> 
> 时间：2013-01-09T09:37:28.957
> 
> 标签：cocoa-touch, ios4, google-analytics

我从 Google Analytics v2.0 beta 3 收到以下崩溃：它的开始是：

```
 __45-[GAIDispatcher queueDispatch:url:timestamp:]_block_invoke_0 + 119 at GAIDispatcher.m:633 
```

其次是：

```
 -[GAIDispatcher persistAndDispatch:url:timestamp:] + 427 at GAIDispatcher.m:525 
```

错误是：

```
** -[__NSDictionaryM setObject:forKey:]: message sent to deallocated instance 0xb68c690 
```

我的设置如下：我有一个使用 ARC 的应用程序（来自 ios 4.3 的有限应用程序）我的应用程序支持在 SDK 6.0 下开发的最低 SDK 4.3。崩溃仅出现在模拟器上（在设备上工作正常），它是 EXC_BREAKPOINT(code=EXC_I386_BPT, subcode=0x0)

我的代码中只有这个，在 applicationDidFinishLaunching 中：

```
 [GAI sharedInstance].trackUncaughtExceptions = NO;
// Optional: set Google Analytics dispatch interval to e.g. 20 seconds.
[GAI sharedInstance].dispatchInterval = 5;
// Optional: set debug to YES for extra debugging information.
[GAI sharedInstance].debug = YES;
// Create tracker instance.
id<GAITracker> tracker = [[GAI sharedInstance] trackerWithTrackingId:UA_NUMBER];

 [tracker trackEventWithCategory:@"TestV1"
                      withAction:@"ActionV1"
                       withLabel:@"LabelV1"
                       withValue:[NSNumber numberWithInt:10]]; 
```

关于什么可能是错的任何想法？非常感谢您的帮助，谢谢！

PS：这是使用 Zombies 工具运行时检测到的 Zombie。

```
#   Address Category    Event Type  RefCt   Timestamp   Size    Responsible Library Responsible Caller
0   0xd18fe30   __NSDictionaryM Malloc  1   00:20.889.002   32  PostcodeGazette -[GAIDispatcher queueDispatch:url:]
1   0xd18fe30   __NSDictionaryM Autorelease     00:20.889.015   0   PostcodeGazette -[GAIDispatcher queueDispatch:url:]
2   0xd18fe30   __NSDictionaryM Release 0   00:24.832.529   0   UIKit   _UIApplicationHandleEvent
3   0xd18fe30   __NSDictionaryM Zombie  -1  00:25.067.003   0   PostcodeGazette -[GAIDispatcher persistAndDispatch:url:timestamp:] 
```

# c# - .net 4.0 中的 MemoryCache 与 ObjectCache 有什么区别？

> ID：14232130
> 
> 赞同：52
> 
> 时间：2013-01-09T09:37:28.567
> 
> 标签：c#, .net, .net-4.0

`MemoryCache`.NET 框架 4.0与.NET 框架有什么区别`ObjectCache`？在哪里使用哪个对象？

* * *

## 回答 #1

> 赞同：69
> 
> 时间：2013-01-09T09:43:58.163

ObjectCache 是一个抽象类，它演示了您应该如何构建一个符合 ObjectCache 编写者希望您遵守的规则的缓存。您不能直接实例化 ObjectCache，因为它是[抽象](http://msdn.microsoft.com/en-us/library/sf985hc5%28v=vs.71%29.aspx)的。

MemoryCache 是ObjectCache**的实际实现**。

从文档中：

[对象缓存](http://msdn.microsoft.com/en-us/library/system.runtime.caching.objectcache.aspx)

> 表示对象缓存并提供用于访问对象缓存的基本方法和属性。

[内存缓存](http://msdn.microsoft.com/en-us/library/system.runtime.caching.memorycache.aspx)

> 表示实现内存缓存的类型。

查看 MemoryCache 的声明：

```
public class MemoryCache : ObjectCache, 
    IEnumerable, IDisposable 
```

我们可以看到 MemoryCache 继承自 ObjectCache——也就是说，它是使用 Memory 作为其存储的对象的缓存——因此这是ObjectCache*的一个实现*。

你可以自己写；例如，DatabaseCache，它也可以从 ObjectCache 继承，但它会使用数据库作为后备存储。

对于日常使用，只要它满足您的需求，您就可以使用和使用 MemoryCache。如果您想自己编写，您可以从 ObjectCache 继承并实现所需的方法和属性。然而，实际上，这样做可能没有什么实际好处，因为微软已经提供了其他几种缓存解决方案，许多其他供应商也是如此。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-01-09T09:45:54.770

从[`MSDN`](http://msdn.microsoft.com/en-us/library/system.runtime.caching.memorycache.aspx);

> ObjectCache 类型是内存中对象缓存的主要类型。内置的 MemoryCache 类派生自 ObjectCache 类。MemoryCache 类是 .NET Framework 4 中唯一从 ObjectCache 类派生的具体对象缓存实现。

```
public class MemoryCache : ObjectCache, 
    IEnumerable, IDisposable 
```

`MemoryCache`继承自`ObjectCache`。

您可以`MemoryCache`像这样获得对默认实例的引用；

```
public static ObjectCache cache = MemoryCache.Default; 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-09T09:43:43.723

`ObjectCache`是一个抽象类，你不能“使用”它本身。正如 Dash 在他的评论中所说，它旨在展示应该如何构建缓存以及它支持哪些操作。`MemoryCache`是您的问题的实现，`ObjectCache`并且可能是您应该使用的。但是，因为`ObjectCache`它是抽象的，所以您可以轻松地编写自己的`FileCache`继承自`ObjectCache`，并且它是完全有效的。

# couchbase - 跨数据中心的 couchbase 复制

> ID：14232133
> 
> 赞同：2
> 
> 时间：2013-01-09T09:37:35.503
> 
> 标签：couchbase

假设我正在建立一个带有跨 N 个数据中心复制的存储桶的沙发库。我可以将文档写入每个数据中心的存储桶并使用复制，因此每个数据中心的每个存储桶都将包含所有数据中心的所有文档吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T08:09:24.783

是的。只要您创建到每个数据中心的复制，这将起作用。例如，您可以按如下方式设置双向复制：

(数据中心 A) <-- 代表 1 --> (数据中心 B) <-- 代表 2 --> (数据中心 C)

或任何其他复制组合，只要有通过这些复制到每个数据中心的路径即可。

有关详细信息，请参阅[http://www.couchbase.com/docs/couchbase-manual-2.0/couchbase-admin-tasks-xdcr.html](http://www.couchbase.com/docs/couchbase-manual-2.0/couchbase-admin-tasks-xdcr.html)。

# javascript - 将带有空格字符的字符串作为参数传递给javascript生成的点击函数

> ID：14232135
> 
> 赞同：2
> 
> 时间：2013-01-09T09:37:35.747
> 
> 标签：javascript, html

我的 JavaScript 生成的超链接如下：

> ```
> '<a href="#" onClick=passSearchTerm("' +aa + '");>View</a>' 
> ```

当字符串如下时参数通过wells：

> ```
> var aa = 'TAGS(\\"ab\\")'; 
> ```

我通过在函数内部发出警报来确认它

> 函数 passSearchTerm(aa) { alert(aa); }

但是，当 var 定义如下时，这不会发出警报：

> var aa = 'TAGS(\"ab\")'; //“a”和“b”之间的空格

谁能建议我如何传递这样的字符串？在此先感谢您的帮助。实际上我正在尝试传递可能的以下字符串：

> 标签（“a或b”）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-09T10:12:14.133

通过 javascript 生成您的超链接时，请使用 encodeURIComponent ex。

```
"<a href=\"#\" onclick=\"passSearchTerm('" + encodeURIComponent(aa) + "')\">View</a>" 
```

并在检索时使用 decodeURIComponent

```
function passSearchTerm(aa) { alert(decodeURIComponent(aa)); } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-09T09:56:38.780

我认为你只是过度使用了你的逃生方法。

这对我有用。

```
 var aa = 'TAGS("a b")'; 
  // var aa =  'TAGS(\"a b\")'; 

  var e = document.createElement("A");
  e.href = "#";
  e.setAttribute( "onClick", "passSearchTerm('" + aa + "');" );
  e.innerText = "View";

  document.body.appendChild(e);

  function passSearchTerm(p){
    alert(p);
  }

</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T09:53:32.123

```
var aa = 'TAGS(\\"a&nbsp;b\\")'; 
```

这段代码确实有效。这是因为在 html 空间中应该写为`&nbsp;`

**[更新]**

这是完整的示例。[http://jsfiddle.net/YAJNL/](http://jsfiddle.net/YAJNL/)

# python-2.7 - 如何使用机器人框架在同一浏览器中打开新选项卡

> ID：14232137
> 
> 赞同：4
> 
> 时间：2013-01-09T09:37:41.030
> 
> 标签：python-2.7, selenium-webdriver, robotframework

据我所知，在 selenium2library 中没有直接的关键字来打开新标签。我已经看到下面的代码在 IE（默认浏览器）中为给定的 URL 打开一个新选项卡

```
webbrowser.open_new_tab(url) 
```

但我想写一个关键字，在当前运行的浏览器上打开一个新标签（它可能是任何浏览器）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2019-02-11T10:08:28.447

你可以试试

```
Execute Javascript    window.open('')
Get Window Titles
Select Window    title=undefined
Go To   ${URL} 
```

此代码有助于在同一浏览器中打开新选项卡并收集同一浏览器中所有选项卡的 Windows 标题。根据窗口标题名称，它识别新打开的选项卡并启动 URL

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T19:56:40.703

这很草率，但您可以尝试：

```
from selenium.webdriver.common.keys import  Keys 

actions.key_down(Keys.CONTROL)
element.send_keys('t')
actions.key_up(Keys.CONTROL) 
```

我不知道与浏览器无关的方法。

打开新选项卡后，您可以通过找到窗口句柄`driver.window_handles`并切换到适当的句柄来更改选项卡：`browser.switch_to_window(handle)`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-06-22T14:07:04.853

您可以使用 Javascript 关键字

```
Execute Javascript   window.open('NewTabUrl'); 
```

例子：

```
Execute Javascript   window.open('https://www.google.com'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-12-16T10:46:38.723

您可以使用 AutoIt 库来模拟机器人框架工作中的按键

```
Import AutoItLibrary
Import Selinium2library

send  "^t"  Open the New Tab 
```

同样的方式模拟别人

Ctrl+Tab——切换到下一个选项卡——换句话说，就是右边的选项卡。（Ctrl+Page Up 也可以，但不能在 Internet Explorer 中使用。）

Ctrl+Shift+Tab – 切换到上一个选项卡 – 换句话说，左侧的选项卡。（Ctrl+Page Down 也可以使用，但不能在 Internet Explorer 中使用。）

Ctrl+W、Ctrl+F4 – 关闭当前选项卡。

Ctrl+Shift+T - 重新打开上次关闭的选项卡

# api - 通过删除硬编码的 gmail 凭据来使用 Gdata 授权来获取 Google 联系人

> ID：14232140
> 
> 赞同：0
> 
> 时间：2013-01-09T09:37:55.610
> 
> 标签：api, contacts, gdata

***这个想法是通过 gmail 登录并获取所有联系人详细信息，并将 PHP 代码中的联系人添加到谷歌联系人列表。整个流程运行良好，我正在获取联系人列表并添加带有字段的联系人。问题是代码有硬编码变量，我需要在其中设置谷歌电子邮件和密码。我想要一个链接到授权，然后得到所有响应。所以我只需要在第一次尝试使用 API 或令牌时绕过凭据方法并获取联系方式***

请建议是否有人经历过此问题或分享可能有助于解决问题的示例或资源。

这是代码片段...

```
$user = "XXX@XXX.com";
$pass = "XXX"; 
```

// 需要删除以上 2 行，并使用一些与其他工作内容结合起来的实时登录 API

```
try {
      // perform login and set protocol version to 3.0
      $client = Zend_Gdata_ClientLogin::getHttpClient(
      $user, $pass, 'cp'); 
```

$gdata = new Zend_Gdata($client); $gdata->setMajorProtocolVersion(3);

```
 // perform query and get feed of all results
  $query = new Zend_Gdata_Query(
    'http://www.google.com/m8/feeds/contacts/default/full');
  $query->maxResults = 1000;
  $query->setParam('orderby', 'lastmodified');
  $query->setParam('sortorder', 'descending');
  $feed = $gdata->getFeed($query); 
```

//在下面的循环中显示数据.... }

基本上我想删除`user`and`pwd`变量并即时执行以获取数据。现在我正在获取所有联系人并且还能够添加联系人但是设置凭据的方式将被更改为使用令牌或其他方式更安全..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:42:41.833

除了直接使用用户名和密码，您还需要使用 Google OAuth。您需要首先在 Google OAuth 中创建一个项目并指定正确的详细信息。使用在那里创建的应用程序，您可以请求用户的许可并在响应中获取他的联系方式。

[如何使用 Google OAuth 获取 Google 通讯录信息？](https://stackoverflow.com/questions/1706407/how-to-get-google-contacts-information-using-google-oauth)

# android - 活动主题不变

> ID：14232144
> 
> 赞同：0
> 
> 时间：2013-01-09T09:38:13.577
> 
> 标签：android, android-theme

我有一个`styles.xml`定义样式的地方

```
<!-- =============================================================== -->
<!-- Dark styles -->
<!-- =============================================================== -->

<style name = "AppBgDark">
    <item name="android:background">#333333</item>
</style>
<style name = "CardBgDark">
    <item name="android:background">@drawable/rounded_corners_dark</item>
</style>
<style name="event_title_dark">
    <item name="android:textColor">#fff</item>
</style>
<style name="event_date_dark">
    <item name="android:textColor">#fff</item>
</style>
<style name="event_location_dark">
    <item name="android:textColor">#aaa</item>
</style>
<style name="event_calendar_dark">
    <item name="android:textColor">#aaa</item>
</style>
<style name="Actionbar_dark" parent= "Widget.Sherlock.Light.ActionBar">
     <item name = "android:background">#333333</item> 
```

浅色主题也是如此。然后我创建了一个themes.xml 和一个attrs.xml 来引用这些样式。

问题是当我在布局中应用来自 attrs.xml 的引用时，我看不到发生任何变化例如：

```
<LinearLayout
        android:id="@+id/cardlayout"
        style="?card_background"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_marginLeft="7dp"
        android:layout_marginRight="7dp"
        android:orientation="vertical"
        android:padding="7dp" > 
```

我哪里错了？有什么建议么？我真的很迷茫！！！

# ruby-on-rails - Rails 3：远程检查记录是否正确更新

> ID：14232145
> 
> 赞同：0
> 
> 时间：2013-01-09T09:38:19.770
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我使用 javascript(coffeescript) 作为响应更新操作的格式。我不知道如何在我的 js.coffee 响应中检查记录是否已成功更新。

对于我使用的创建`.new_record?`，对于销毁，我们必须`.destroyed?`检查记录是否已正确创建/销毁，那么更新呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T12:53:43.880

根据更新对象的结果，返回不同的 JSON 对象怎么样：

```
def update
  @foo = Foo.find(params[:id])
  respond_to do |format|
    if @foo.update_attributes(params[:foo])
      format.json { head :ok }
    else
      format.json { render json: @foo.errors, status: :unprocessable_entity }
    end
  end
end 
```

客户端，您将检查返回对象的状态属性。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T11:03:51.610

如果认为解决方案对我来说太简单了。我可以简单地使用`.errors.empty?`..

# java - BigDecimal if 语句不适用于 ! 操作员？

> ID：14232146
> 
> 赞同：0
> 
> 时间：2013-01-09T09:38:25.633
> 
> 标签：java, comparison, bigdecimal

我有两个`BigDecimals`和。我想除以，但如果其中一个为零，我显然不想这样做。所以我写了这个简单的 if 语句：`value1``value2``value1``value2`

```
if(!value1.equals(0) && !value2.equals(0)){
  divide value1 by value2 blah blah blah
} 
```

由于某种原因，这个 if 语句不起作用..即使其中一个值等于零，仍然会评估等式，给我一个错误，因为我试图用或除以零。我知道我可以使用`value1.compareTo(BigDecimal.valueOf(0) == 1`并获得我想要的东西，但我只是好奇为什么我的第一种方法不起作用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-09T09:40:02.520

Java 将不同类型的对象视为不同的对象。这意味着即使它们代表了等价的东西，它们也不相同。

BigDecimal 的“特别”之处在于，即使类型相同且值相等，但具有不同的比例尺，它们仍然不“等于”

```
Double d = 0.0;
Integer i = 0;
System.out.println(d + " equals " + i + " is " + (d.equals(i)));

BigDecimal bd2 = new BigDecimal("0.00");
BigDecimal bd3 = new BigDecimal("0.000");

System.out.println(bd2 + " equals " + d + " is " + (bd2.equals(d)));
System.out.println(bd2 + " equals " + bd2 + " is " + (bd2.equals(bd2)));
System.out.println(bd2 + " equals " + bd3 + " is " + (bd2.equals(bd3))); 
```

印刷

```
0.0 equals 0 is false
0.00 equals 0.0 is false
0.00 equals 0.00 is true
0.00 equals 0.000 is false 
```

解决这个问题的方法是使用 compareTo 来调整比例并为您提供更自然的比较。

```
System.out.println(bd2 + " compareTo " + BigDecimal.ZERO + " is " + (bd2.compareTo(BigDecimal.ZERO )));
System.out.println(bd3 + " compareTo " + BigDecimal.ZERO + " is " + (bd3.compareTo(BigDecimal.ZERO ))); 
```

印刷

```
0.00 compareTo 0 is 0
0.000 compareTo 0 is 0 
```

这意味着如果您要使用 BigDecimal，您需要编写

```
if(value1.compareTo(BigDecimal.ZERO) != 0 && value2.compareTo(BigDecimal.ZERO) != 0) { 
```

就个人而言，我更喜欢使用`double`更简单、更快的方法。唯一的缺点是您必须自己管理舍入。

```
double div = value1 / value2;
if (0 < div && div < SOME_UPPER_SENSIBLE_LIMIT) {
   // division was ok.
   System.out.printf("%.4f", div); // print with rounding. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:45:13.893

改用这个。

```
 if(BigDecimal.ZERO.compareTo(value1) != 0 && BigDecimal.ZERO.compareTo(value2) != 0) 
  {
     ....
  } 
```

`equals`不管用。

检查此项： `public boolean equals(Object x)` 将此 BigDecimal 与指定的 Object 进行比较是否相等。与 compareTo 不同，此方法仅当两个 BigDecimal 对象的值和比例相等时才认为它们相等（因此，通过此方法进行比较时，2.0 不等于 2.00）。

# php - 在其值中引用数组键

> ID：14232147
> 
> 赞同：1
> 
> 时间：2013-01-09T09:38:30.543
> 
> 标签：php, arrays, key-value

我知道这似乎应该通过设计来避免，但我们只是说它非常需要：是否可以在初始化时引用属于某个值的键？

这是我想象的（不完全是我需要它的情况，但关键也是原始的）：

```
$array = array(25 => "My key is " . $this->key); 
```

我需要这个，因为数组键用于每个值。实际上，该值是另一个数组，该数组具有使用第一个数组键的值。就像我在评论中说的那样，我想让它保持干燥。这样做没问题，但我想把它做好；）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T09:41:57.460

如果您自己编写数组，则可以将键值放入数组值中，例如：

```
$array = array(25 => "My key is 25"); 
```

如果您已经有一个数组，您可以使用 a`foreach`并将所有键添加到它的值中：

```
foreach($array as $key => $value) {
    $array[$key] = sprintf('%s %s', $value, $key);
} 
```

或者，如果您只想拥有现有数组的键数组，则可以使用[array_flip](http://php.net/array_flip)来维护 key=>value，但要翻转键和值。或者，如果您只想要一个键数组，您可以使用[array_keys 。](http://php.net/array_keys)

做你想要的：在某个地方初始化一个数组，不要在它的值上添加任何键，你可以实现[ArrayAccess](http://php.net/ArrayAccess)，[Countable](http://php.net/Countable)并具有：

```
public function offsetGet($offset) {
    return isset($this->container[$offset]) 
                ? $this->container[$offset] . ' ' . $offset 
                : null;
} 
```

或类似的东西。但在这种情况下，您需要一个包含此数组的变量作为您的`ArrayAccess`实现实例。并且根据此类的使用情况，您可能需要实现更多接口。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:44:00.970

不，在定义值时无法引用键。除了可能编写一个将它嵌入到字符串中的预处理器。但这仅适用于原始值。

# java - OAuth：如何在java中按字典字节值排序对字符串进行排序

> ID：14232151
> 
> 赞同：0
> 
> 时间：2013-01-09T09:38:46.820
> 
> 标签：java, oauth, 2-legged

嗨，我正在尝试从 google apis 获取请求令牌。为了获取请求令牌，我必须通过字符串的 Java 代码段中的字典字节值排序来对参数字符串进行排序

```
String datastring=URLEncoder.encode("oauth_version", "UTF-8")+"="+URLEncoder.encode("1.0", "UTF-8");

  datastring+="&"+URLEncoder.encode("oauth_nonce", "UTF-8")+"="+URLEncoder.encode(System.currentTimeMillis()+"","UTF-8");

  datastring+="&"+URLEncoder.encode("oauth_timestamp", "UTF-8")+"="+URLEncoder.encode(System.currentTimeMillis()/1000+"","UTF-8");

    datastring+="&"+URLEncoder.encode("oauth_consumer_key","UTF-8")+"="+URLEncoder.encode("iriteshmehandiratta.appspot.com","UTF-8");

    datastring+="&"+URLEncoder.encode("oauth_signature_method","UTF-8")+"="+URLEncoder.encode("RSA-SHA1", "UTF-8"); 

    datastring+="&"+URLEncoder.encode("oauth_signature", "UTF-8")+"="+URLEncoder.encode(myrsakey, "UTF-8");

datastring+="&"+URLEncoder.encode("oauth_callback","UTF-8")+"="+URLEncoder.encode("https://www.iriteshmehandiratta.appspot.com/authsub","UTF-8");

datastring+="&"+URLEncoder.encode("scope","UTF-8")+"="+URLEncoder.encode("http://www.google.com/calendar/feeds","UTF-8"); 
```

我对查询字符串的参数进行了编码，现在我必须按字典顺序对数据字符串进行排序，以便将发布请求发送到 URL [https://www.google.com/accounts/OAuthGetRequestToken](https://www.google.com/accounts/OAuthGetRequestToken) 任何人都可以帮助如何在 Java 中按字典顺序对这个字符串进行排序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T09:47:05.167

使用 Java [`TreeMap`](http://docs.oracle.com/javase/6/docs/api/java/util/TreeMap.html)。这将允许您将 OAuth 参数用作键，然后将值用作您指定的值。

我建议您**先将**所有参数添加到 中`TreeMap`，然后迭代以`Set<Entry<String, String>>`构建您的 URL 查询字符串。

状态规范`TreeMap`：

> 地图根据其键的自然顺序或`Comparator`在地图创建时提供的排序，具体取决于使用的构造函数。

# c# - C# 中的查找替换模式

> ID：14232152
> 
> 赞同：0
> 
> 时间：2013-01-09T09:38:48.447
> 
> 标签：c#, regex, string

我有一个复杂的情况，我需要解析一个很长的字符串。我必须在字符串中寻找一个模式并用另一个模式替换该模式。我知道我可以简单地使用`find/replace`方法，但我的情况有点不同。

我有一个包含以下模式的字符串

```
#EPB_IMG#index-1_1.jpg#EPB_IMG

#EPB_IMG#index-1_2.jpg#EPB_IMG

#EPB_IMG#index-1_3.jpg#EPB_IMG

#EPB_IMG#index-1_4.jpg#EPB_IMG 
```

我希望它格式化为

```
#EPB_IMG#index-1_1.jpg|index-1_2.jpg|index-1_3.jpg|index-1_4.jpg#EPB_IMG 
```

我不太了解`Regex`并寻求帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-09T09:47:33.047

正则表达式是矫枉过正：

```
var parts = s.Split(new string[] { "#EPB_IMG", "#", "\n", "\r" }, StringSplitOptions.RemoveEmptyEntries);
var result = string.Join("|", parts);

Console.WriteLine("#EPB_IMG#" + result + "#EPB_IMG"); // prints your result. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:58:42.880

```
var result = "#EPB_IMG" + Regex.Matches(inputString, @"#EPB_IMG(.+)#EPB_IMG")
               .Cast<Match>()
               .Select(m => m.Groups[1].Value)
               .Aggregate((f, f2) => f + "|" + f2) + "#EPB_IMG"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T09:46:35.583

也许是这样的：

表达：`\w+#(?<Image>(.+)\.jpg)#\w+`

替代品：`${Image}`

结果：`string.Format("#EPB_IMG#{0}#EPB_IMG", string.Join("|", listOfMatches))`

* * *

**注意：** 正则表达式测试：[http ://regexhero.net/tester/](http://regexhero.net/tester/)

结果未经测试，但应该可以工作！

# ios - 使用带有 OAuth 2.0 的 Google API 在 iPhone 中进行 gmail 登录

> ID：14232154
> 
> 赞同：7
> 
> 时间：2013-01-09T09:38:53.110
> 
> 标签：ios, oauth, gmail, google-api

我从 Google 找到了一项服务，可以访问`Google APIs`各种 Google 服务。我可以在 iPhone 中建立一个项目并为 iOS 应用程序（通过`OAuth2.0`）和本机应用程序创建 API 访问。我想为我的 iPhone 应用程序使用本机 API。它的 API 给了我电子邮件、全名、名字、姓氏、google_id、性别、dob、profile_image。我如何在我的 iPhone 应用程序中使用这些，任何可用的示例应用程序和片段？

请帮我。

这是我的代码：

```
-(void) loadGmail_Login
{
    NSString *keychainItemName = nil;
    if ([self shouldSaveInKeychain]) {
        keychainItemName = kKeychainItemName;
    }

    // For GTM applications, the scope is available as
    NSString *scope = @"http://www.google.com/m8/feeds/";

    // ### Important ###
    // GTMOAuthViewControllerTouch is not designed to be reused. Make a new
    // one each time you are going to show it.

    // Display the autentication view.
    GTMOAuthAuthentication *auth;
    auth = [GTMOAuthViewControllerTouch authForGoogleFromKeychainForName:kKeychainItemName];

    GTMOAuthViewControllerTouch *viewController = [[[GTMOAuthViewControllerTouch alloc]
                                                    initWithScope:scope
                                                    language:nil
                                                    appServiceName:keychainItemName
                                                    delegate:self
                                                    finishedSelector:@selector(viewController:finishedWithAuth:error:)] autorelease];

    // You can set the title of the navigationItem of the controller here, if you want.
    // Optional: display some html briefly before the sign-in page loads
    NSString *html = @"<html><body bgcolor=silver><div align=center>Loading sign-in page...</div></body></html>";
    [viewController setInitialHTMLString:html];

    [[self navigationController] pushViewController:viewController animated:YES];

}

- (void)viewController:(GTMOAuthViewControllerTouch *)viewController
      finishedWithAuth:(GTMOAuthAuthentication *)auth
                 error:(NSError *)error
{
    if (error != nil)
    {
        // Authentication failed (perhaps the user denied access, or closed the
        // window before granting access)
        NSLog(@"Authentication error: %@", error);
        NSData *responseData = [[error userInfo] objectForKey:@"data"]; // kGTMHTTPFetcherStatusDataKey
        if ([responseData length] > 0) {
            // show the body of the server's authentication failure response
            NSString *str = [[[NSString alloc] initWithData:responseData
                                                   encoding:NSUTF8StringEncoding] autorelease];
            NSLog(@"%@", str);
        }

        [self setAuthentication:nil];
    }
    else
    {
        // save the authentication object
        [self setAuthentication:auth];

        // Just to prove we're signed in, we'll attempt an authenticated fetch for the
        // signed-in user
        [self doAnAuthenticatedAPIFetch];
    }

}

- (void)doAnAuthenticatedAPIFetch
{
    NSString *urlStr;

    // Google Contacts feed
    //
    //    https://www.googleapis.com/oauth2/v2/userinfo
    urlStr = @"http://www.google.com/m8/feeds/contacts/default/thin";

    NSURL *url = [NSURL URLWithString:urlStr];
    NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url];
    [mAuth authorizeRequest:request];

    NSError *error = nil;
    NSURLResponse *response = nil;
    NSData *data = [NSURLConnection sendSynchronousRequest:request
                                         returningResponse:&response
                                                     error:&error];
    if (data) {
        // API fetch succeeded
        NSString *str = [[[NSString alloc] initWithData:data
                                               encoding:NSUTF8StringEncoding] autorelease];
        NSLog(@"API response: %@", str);

        GGCXml_Adaptor *localAlphabetXMLParser = [[GGCXml_Adaptor alloc] init];
        [localAlphabetXMLParser processBooksXML:data];
        [localAlphabetXMLParser release];
        //        [self updateUI];

    } else {
        // fetch failed
        NSLog(@"API fetch error: %@", error);
    }
}

- (void)setAuthentication:(GTMOAuthAuthentication *)auth {
    [mAuth autorelease];
    mAuth = [auth retain];
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-11T20:38:59.740

首先，您需要从 Google API 获取令牌，对于这第一步，您必须遵循本教程，在此链接的末尾有用于从 google API 获取令牌的 iOS 的完整源代码

[http://technogerms.com/login-with-google-using-oauth-2-0-for-ios-xcode-objective-c/](http://technogerms.com/login-with-google-using-oauth-2-0-for-ios-xcode-objective-c/)

然后在下一步中，您必须将该令牌发送到 Google API 以请求用户数据，我只需要第一步所以我正在分享我的搜索

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-10T10:14:21.107

## 试试这个教程和源代码链接

..这对我来说很好。

**1.教程参考：** [http ://technogerms.com/login-with-google-using-oauth-2-0-for-ios-xcode-objective-c/](http://technogerms.com/login-with-google-using-oauth-2-0-for-ios-xcode-objective-c/)

**2\. API参考：** [https ://code.google.com/apis/console/](https://code.google.com/apis/console/)

**3\. 源码：** [https ://github.com/emysa341/Login-with-gmail-google-g--using-oath-2.0-protocol/archive/master.zip](https://github.com/emysa341/Login-with-gmail-google-g--using-oath-2.0-protocol/archive/master.zip)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-08T10:56:24.117

我认为这将帮助其他任何人按照以下步骤将 gmail 与您的应用程序集成。

**1.将以下类添加到您的项目中。**

GTMHTTPFetcher.h，GTMHTTPFetcher.m，GTMOAuth2Authentication.h，GTMOAuth2Authentication.m，GTMOAuth2SignIn.h，GTMOAuth2SignIn.m，GTMOAuth2ViewControllerTouch.h，GTMOAuth2ViewControllerTouch.m，GTMOAuth2ViewTouch.xib，SBJSON.h，SBJSON.m

您将在这里获得这些课程：[https ://github.com/jonmountjoy/Force.com-iOS-oAuth-2.0-Example](https://github.com/jonmountjoy/Force.com-iOS-oAuth-2.0-Example)

**注意**：如果您在 ARC 环境下工作，则必须为以下文件禁用 ARC：
GTMHTTPFetcher.m、GTMOAuth2Authentication.m、GTMOAuth2SignIn.m、GTMOAuth2ViewControllerTouch.m

要在 Xcode 4 中禁用源文件的 ARC，请在 Xcode 中选择项目和目标。在目标“Build Phases”选项卡下，展开 Compile Sources 构建阶段，选择库源文件，然后按 Enter 打开编辑字段，并键入 -fno-objc-arc 作为这些文件的编译器标志。

**2.添加以下框架**

```
security.framework , systemConfiguration.framework 
```

**3\. 将您的应用注册到 google api 控制台...。这里：** [https ://code.google.com/apis/console](https://code.google.com/apis/console)

然后转到 ApiAccess 部分，为 iOS 应用程序创建客户端 ID。然后您将获得 clientID、ClientSecret 和 RedirectUrl

****4。现在是编码的时候了。. . .****
在您的控制器中创建一个登录按钮并为其设置操作。在这里，当用户单击按钮时，会调用 SignInGoogleButtonClicked 方法。

```
//import GTMOAuth2Authentication , GTMOAuth2ViewControllerTouch

#define GoogleClientID    @"paster your client id"
#define GoogleClientSecret @"paste your client secret"
#define GoogleAuthURL   @"https://accounts.google.com/o/oauth2/auth"
#define GoogleTokenURL  @"https://accounts.google.com/o/oauth2/token"

-(void) SignInGoogleButtonClicked
{

 NSURL * tokenURL = [NSURL URLWithString:GoogleTokenURL];

    NSString * redirectURI = @"urn:ietf:wg:oauth:2.0:oob";

    GTMOAuth2Authentication * auth;

    auth = [GTMOAuth2Authentication authenticationWithServiceProvider:@"google"
                                                             tokenURL:tokenURL
                                                          redirectURI:redirectURI
                                                             clientID:GoogleClientID
                                                         clientSecret:GoogleClientSecret];

    auth.scope = @"https://www.googleapis.com/auth/plus.me";

    GTMOAuth2ViewControllerTouch * viewcontroller = [[GTMOAuth2ViewControllerTouch alloc] initWithAuthentication:auth
                                                                                                authorizationURL:[NSURL URLWithString:GoogleAuthURL]
                                                                                                keychainItemName:@"GoogleKeychainName" delegate:self
                                                                                                finishedSelector:@selector(viewController:finishedWithAuth:error:)];

    [self.navigationController pushViewController:viewcontroller animated:YES];

}

//this method is called when authentication finished

- (void)viewController:(GTMOAuth2ViewControllerTouch * )viewController finishedWithAuth:(GTMOAuth2Authentication * )auth error:(NSError * )error
{

    if (error != nil) {

        UIAlertView * alert = [[UIAlertView alloc] initWithTitle:@"Error Authorizing with Google"
                                                         message:[error localizedDescription]
                                                        delegate:nil
                                                        cancelButtonTitle:@"OK"
                                                        otherButtonTitles:nil];
        [alert show];
    }
    else
    {

         UIAlertView * alert = [[UIAlertView alloc] initWithTitle:@"Alert !"
                                                         message:@"success"
                                                        delegate:nil
                                                        cancelButtonTitle:@"OK"
                                                        otherButtonTitles:nil];
        [alert show];

    }
} 
```

# ios - 数组中的数组 NSXML 解析器 IOS

> ID：14232157
> 
> 赞同：0
> 
> 时间：2013-01-09T09:39:04.100
> 
> 标签：ios, nsxmlparser

```
<events>
        <status>OK</status>
        <name>20121203</name>
        <descripcion></descripcion>
        <url_IOS></url_IOS>

        <printers>
            <coordenadas_LAT>40.44702054203392</coordenadas_LAT>
            <coordenadas_LON>-3.703991174697876</coordenadas_LON>
        </printers>

        <printers>
            <coordenadas_LAT>40.448416693004596</coordenadas_LAT>
            <coordenadas_LON>-3.7036800384521484</coordenadas_LON>
        </printers>

    </events> 
```

==== 大家好，我有这个 XML，我正在解析：

```
 - (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qualifiedName attributes:(NSDictionary *)attributeDict
    {
        // the start of a 'booth' element is been encountered
        if([elementName isEqualToString:@"events"])
        {
            self.tmpEvent = [[PublicPrivateEvent alloc] init];
        }

    }
    - (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string
    {

        currentElementValue = (NSMutableString *) [string stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
    }
    - (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName
    {
       if ([elementName isEqualToString:@"coordenadas_LAT"]) {

                tmpEvent.latitude =currentElementValue;
        }
        if([elementName isEqualToString:@"coordenadas_LON"])
        {
            tmpEvent.longtitude = currentElementValue ;

        }
        if([elementName isEqualToString:@"description"])
        {
            tmpEvent.description = currentElementValue;

        }

        if([elementName isEqualToString:@"url_IOS"])
        {
            tmpEvent.imgurlios6 = currentElementValue;

        }

        if([elementName isEqualToString:@"printers"])
        {

            [printers addObject:tmpEvent];
             currentElementValue = nil;
        }
        if([elementName isEqualToString:@"status"])
        {
            [events addObject:tmpEvent];
            currentElementValue = nil;
        }

    } 
```

=== 我有 2 台打印机，但是当我试图获得这 2 个坐标时，我只获得了最后一个坐标两次？问题是什么。我哪里错了你能帮帮我吗？提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-27T22:06:28.763

是的。我曾是。下面是我的解决方案。希望有所帮助。

```
- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qualifiedName attributes:(NSDictionary *)attributeDict
{

    // the start of a 'booth' element is been encountered
    if([elementName isEqualToString:@"evento"])
    {
        self.tmpEvent = [[PublicPrivateEvent alloc] init];
        self.dictionaryPrinters = [[NSMutableDictionary alloc] init];

    }

}
- (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string
{

    currentElementValue = (NSMutableString *) [string stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
}
- (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName
{
   if ([elementName isEqualToString:@"coordenadas_LAT"]) {

       [self.dictionaryPrinters setValue:currentElementValue forKey:@"coordenadas_LAT"];
       tmpEvent.latitude =currentElementValue;

    }
    if([elementName isEqualToString:@"coordenadas_LON"])
    {
        [self.dictionaryPrinters setValue:currentElementValue forKey:@"coordenadas_LON"];
        tmpEvent.longtitude = currentElementValue ;

    }
    if([elementName isEqualToString:@"description"])
    {
        tmpEvent.description = currentElementValue;

    }
    if([elementName isEqualToString:@"url_imagen_evento_LDPI"])
    {
        tmpEvent.imgurlldp = currentElementValue;

    }
    if([elementName isEqualToString:@"nombre"])
    {
        tmpEvent.name = currentElementValue;

    }
    if([elementName isEqualToString:@"url_imagen_evento_MDPI"])
    {
        tmpEvent.imgurlmdp = currentElementValue;

    }

    if([elementName isEqualToString:@"url_imagen_evento_HDPI"])
    {
        tmpEvent.imgurlhdp = currentElementValue;

    }
    if([elementName isEqualToString:@"url_imagen_evento_XHDPI"])
    {
        tmpEvent.imgurlxhdp = currentElementValue;

    }
    if([elementName isEqualToString:@"url_imagen_evento_IOS5"])
    {
        tmpEvent.imgurlios5 = currentElementValue;

    }
    if([elementName isEqualToString:@"url_imagen_evento_IOS6"])
    {
        tmpEvent.imgurlios6 = currentElementValue;
    }

    if([elementName isEqualToString:@"impresora"])
    {
        [printers addObject:[self.dictionaryPrinters copy]];

    }
    if([elementName isEqualToString:@"status"])
    {
        [events addObject:tmpEvent];
        currentElementValue = nil;
    } 
```

# python - AWS 和 Python 线程可扩展性

> ID：14232158
> 
> 赞同：0
> 
> 时间：2013-01-09T09:39:05.150
> 
> 标签：python, multithreading, amazon-web-services

我有一个在本地服务器上运行的服务，使用[Python 线程](http://docs.python.org/2/library/threading.html)库编写。把它想象成一种网络爬虫。它使用 50 个线程。我想将它部署在[Amazon Web Services](http://en.wikipedia.org/wiki/Amazon_Web_Services)云上并扩大规模，因此它使用更多线程。

简单地说，我有两个[队列](http://docs.python.org/2/library/queue.html#module-Queue)：`Qinput`带有 URL 和`Qoutput`带有页面内容。线程从中挑选 URL `Qinput`，获取网页内容并将其放入`Qoutput`

问题：我只是将线程数增加到 500、5,000 或 50,000 并且 AWS + Python 将处理它就足够了吗？在 AWS 上移植多线程服务时，我应该期望该服务无缝运行还是应该注意一些“标准”设计缺陷？

我知道[Global Interpreter Lock](http://en.wikipedia.org/wiki/Global_Interpreter_Lock)虽然它在这里不应该是一个问题，因为线程的主要任务是在抓取/抓取页面时在解释器外部调用

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T12:14:23.153

任何单个实例都有其限制。您可能会在您的实例中产生相当多的线程，特别是如果您[选择较大的](http://aws.amazon.com/ec2/instance-types/)线程。但是你会在额外的线程上得到减少的回报，直到它不再帮助你获得更多的性能。

但是，如果您希望系统的扩展超出单个实例的限制，最好能够在多个实例上运行您的系统。那么你的决定只是操作性的，而不是技术性的。我认为如果你在 AWS 环境中运行，它允许你几乎无穷无尽的操作资源，你应该考虑一下。

您还可以查看[SQS](http://aws.amazon.com/sqs/)，它基本上是一个分布式队列系统。它将允许您根据需要同步尽可能多的实例的工作。

# iphone - 试图在 UIPanGestureRecognizer 上移动 UIImageView

> ID：14232159
> 
> 赞同：0
> 
> 时间：2013-01-09T09:39:05.487
> 
> 标签：iphone, ios, objective-c, uigesturerecognizer, uiviewanimation

嗨，伙计们，我正在尝试使用 UIPanGestureRecognizer 上的以下代码移动 UIImageView

```
 CGPoint pointMove;
 pointMove.x = holderView.center.x + (currentPoint.x - lastPoint.x);
 pointMove.y = holderView.center.y + (currentPoint.y - lastPoint.y);

 holderView.center = pointMove;

 lastPoint = currentPoint; 
```

但这会导致移动不顺畅。请帮我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T09:51:07.463

我有一个使用拖动图像的最佳示例`UIPanGestureRecognizer`

请下载此演示并检查它：-

[https://github.com/elc/iCodeBlogDemoPhotoBoard](https://github.com/elc/iCodeBlogDemoPhotoBoard)

希望对你有帮助

这是一些相同的问题，请访问链接：-

[使用 UIPanGestureRecognizer 拖动 + 旋转触摸下车](https://stackoverflow.com/questions/10181255/drag-rotation-using-uipangesturerecognizer-touch-getting-off-track)

[使用平移手势交换图像](https://stackoverflow.com/questions/11794731/swapping-images-using-pan-gesture)

[如何使用 UIPanGestureRecognizer 移动对象？iPhone/iPad](https://stackoverflow.com/questions/6672677/how-to-use-uipangesturerecognizer-to-move-object-iphone-ipad)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T09:53:14.047

尝试在您的代码中更改此设置。

```
 CGPoint translation = [gestureRecognizer translationInView:[holderView superview]];

    [holderView setCenter:CGPointMake([piece center].x + translation.x, [piece center].y + translation.y)]; 
```

我希望这能解决你的问题

# html - How can I code CSS to make Table like?

> ID：14232167
> 
> 赞同：0
> 
> 时间：2013-01-09T09:39:24.797
> 
> 标签：html, css

I want to make the Tags list just like this below.
I want to use CSS instead of using Table tag.
How can I do this?

```
Tags: Apple Banana Melon Strawberry Kiwi Orange 
      Pineapple Carrot Onion Tomato Bacon Sandwitch
      SoyBeans Pork Beef Chicken 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T09:43:02.360

Use `display:table-cell`

**HTML**

```
<div class="table">
  <div class="td">tags</div>
  <div class="td">Apple Banana Melon Strawberry Kiwi Orange Pineapple Carrot Onion Tomato Bacon Sandwitch SoyBeans Pork Beef Chicken </div>
</div> 
```

**CSS**

```
.table{display:table-row; width:350px; }
.td:first-child{width:10px; }
.td{display:table-cell;  padding:10px; width:320px} 
```

**[LIVE DEMO](http://jsfiddle.net/8msyW/3/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T09:48:02.087

You can do it like this:

HTML:

```
<div class="left">
    Tags:
</div> 
<div class="right">
    Apple Banana Melon Strawberry Kiwi Orange 
    Pineapple Carrot Onion Tomato Bacon 
    Sandwitch SoyBeans Pork Beef Chicken 
</div> 
```

CSS:

```
.left, .right
{
color:#2B91AF;
}

.left
{
  float: left;
  width: 30px; //adjust this width according to your needs
  margin-right: 10px; //adjust this margin according to your needs
}

.right
{
  float: left;
  width: 400px; //adjust this width according to your needs
} 
```

Here is a fiddle just because it's nice: [http://jsfiddle.net/VQjGW/](http://jsfiddle.net/VQjGW/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T09:56:58.023

For something like this I would advice using a Definition List. You can read a great article on this here: [http://css-tricks.com/utilizing-the-underused-but-semantically-awesome-definition-list/](http://css-tricks.com/utilizing-the-underused-but-semantically-awesome-definition-list/)

After that it should be easy enough to use css and position the elements like in your example .

# c# - 如何更改日期格式和文化？

> ID：14232172
> 
> 赞同：4
> 
> 时间：2013-01-09T09:39:30.860
> 
> 标签：c#, asp.net, culture

我需要将字符串的文化更改为阿拉伯语。

这段代码：

```
<%# Eval("NewsDate","{0:  dddd   dd / MMMM / yyyy }").ToString() %> 
```

将向我展示这些结果：1994 年 5 月 1 日星期日

我试着用阿拉伯语显示它，所以它看起来像这样：الاحد 01 -مايو - 1994

```
<%# Eval("NewsDate","{0:  dddd   dd / MMMM / yyyy }").ToString("{0}:",System.Globalization.CultureInfo.CreateSpecificCulture("ar-KW")) %> 
```

我将此行添加到我的 web.config ：

```
<globalization culture="ar-KW" uiCulture="ar-KW"/> 
```

但它不工作！

请问有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:04:26.857

试试这个，让我知道它是否可以？

```
protected string returnDate(DateTime dt)
{

    System.Globalization.CultureInfo calture = new System.Globalization.CultureInfo("ar-KW");
    System.Globalization.DateTimeFormatInfo dtf = calture.DateTimeFormat;
    dtf.Calendar = new System.Globalization.HijriCalendar(); 
    dtf.ShortDatePattern = "dd/MM/yyyy";
    dtf.MonthDayPattern = "MMMM";
    return dt.ToString("dd/MMMM/yy", dtf);
} 
```

和

然后调用这个函数

```
<%# Eval("NewsDate", returnDate(NewsDate) %> 
```

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:59:11.853

如果需要，您可以更改当前线程的文化，这样您就不必为每次调用都这样做。

```
Thread.CurrentThread.CurrentCulture = New CultureInfo("th-TH", False) 
```

# javascript - 单选按钮更改触发两次

> ID：14232174
> 
> 赞同：0
> 
> 时间：2013-01-09T09:39:51.977
> 
> 标签：javascript, jquery, model-view-controller

我有一组单选按钮。当单选按钮发生变化时，会触发一个事件。检查是否选择了某个单选按钮，如果是，则显示一个文本框。

```
<div class="row">
     <div class="span3">
          <label>@Html.RadioButtonFor(model => model.HearAboutUs, "radWebsite", new { @id = "radWebsite" }) Website</label>
          <label>@Html.RadioButtonFor(model => model.HearAboutUs, "radFromEmployee", new { @id = "radFromEmployee" }) An employee</label>
          <label>@Html.RadioButtonFor(model => model.HearAboutUs, "radEvent", new { @id = "radEvent" }) At an event</label>
          ...
          <label>@Html.RadioButtonFor(model => model.HearAboutUs, "radOther", new { @id = "radOther" }) Other</label>
     </div>
     <div class="span3">
          @Html.ValidationMessageFor(model => model.HearAboutUs)
     </div>
</div> 
```

剧本：

```
$('input:radio[name="HearAboutUs"]').change(function () {
    $('input[type=radio].input-validation-error').parent().removeClass('error-label');

    if ($('#radOther').is(':checked')) {
        if ($('#HearAboutUsDescription').is(':hidden')) {
            $('#HearAboutUsDescription').show("blind");
        }
    } else {
        if ($('#HearAboutUsDescription').is(':visible')) {
            $('#HearAboutUsDescription').hide("blind");
            $('#HearAboutUsDescription').val('');
        }
    }
}); 
```

这很好用！但是......这是一个部分页面，当用户分别按下下一个/后退时，它被隐藏和取消隐藏。按next后，然后返回。隐藏文本框的脚本以某种方式被调用了两次！？！但是，不是在显示时。主索引页面上的下一个/后退代码：

```
$('#nextBtn').click(function () {
    $('#panel1').hide("", function () {
        $('#panel2').show("blind");
        $('#backBtn').show();
    });
});

$('#backBtn').click(function () {

    if ($('#panel2').is(":visible")) {
        $('#headerTitle').text("Your Details");
        $('#panel2').hide("", function() {
            $('#panel1').show("blind");
            $('#backBtn').hide();
        });

    }
    if ($('#panel3').is(":visible")) {
        $('#headerTitle').text("About Your Home");
        $('#panel3').hide("", function() {
            $('#panel2').show("blind");
        });
    }
    if ($('#panel4').is(":visible")) {
        $('#headerTitle').text("Water Use In The House");
        $('#panel4').hide("", function() {
            $('#panel3').show("blind");
            $('#nextBtn').show();
            $('#nextBtn').html("Next");
        });
    }
}); 
```

关于我可能做错了什么的任何想法？我对此有点生气，呵呵：）谢谢

编辑 = 刚刚注意到我将下一个 btn 粘贴了两次，替换为后退按钮。按钮也在索引页面上，而不是部分页面上。

# android - Android：tabhost中的水平滚动

> ID：14232178
> 
> 赞同：1
> 
> 时间：2013-01-09T09:39:56.290
> 
> 标签：android, tabs, scroll, android-tabhost

我以这种方式在我的活动中创建了一个标签主机：

```
mTabHost = getTabHost();
mTabHost.addTab(mTabHost.newTabSpec("Phone").setIndicator("TELEFONO", iconContact).setContent(R.id.linear1));
mTabHost.addTab(mTabHost.newTabSpec("Maps").setIndicator("MAPPE", iconMap).setContent(R.id.scroll2));
mTabHost.addTab(mTabHost.newTabSpec("Cam").setIndicator("WEBCAM", iconWebcam).setContent(R.id.scrollWebcam)); //metto il tab per le webcam
mTabHost.addTab(mTabHost.newTabSpec("Setting").setIndicator("IMPOSTAZ.", iconImpostaz).setContent(R.id.scrollImp));
mTabHost.setCurrentTab(0); 
```

但是现在需要的标签数量越来越多，所以我需要水平滚动标签。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T09:47:19.717

这个库正是您正在寻找的：

[https://github.com/JakeWharton/Android-ViewPagerIndicator](https://github.com/JakeWharton/Android-ViewPagerIndicator)

# java - 如何将外部 SqliteDatabase 连接到 Android 应用程序？

> ID：14232181
> 
> 赞同：1
> 
> 时间：2013-01-09T09:40:00.840
> 
> 标签：java, android, database, sqlite, external

这是我的问题。我在名为 SqliteDbBrowser 的程序中创建我的文本数据库，之后我想将它放入 android 的 /assets/ 文件夹中并将其加载到应用程序中。

所有教程都假设您没有任何数据库，并且您从应用程序中干净地创建它，然后填充它。

我已经将数据放入我的数据库并且不想创建新的。

这是一些人的教程[http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/](http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/)它以某种方式工作，但它并不完美，有没有其他方法可以解决这个问题? 只使用 SQLiteOpenHelper 不混合东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-08-28T13:51:01.730

```
public void getDataBaseData() {
        // /PawnStorescopy.db
        if (!new File("/data/data/" + this.getPackageName()
                + "/PawnStorescopy.sqlite").exists()) {
            try {
                FileOutputStream out = new FileOutputStream("data/data/"
                        + this.getPackageName() + "DatabaseName.sqlite");
                InputStream in = getAssets().open("DatabaseName.db");
                byte[] buffer = new byte[1024];
                int readBytes = 0;

                while ((readBytes = in.read(buffer)) != -1)
                    out.write(buffer, 0, readBytes);

                in.close();
                // out.close();
            } catch (IOException e) {
            }
        }

        SQLiteDatabase sqliteDB = SQLiteDatabase.openOrCreateDatabase( 
                "/data/data/" + this.getPackageName()
                        + "/DatabaseName.sqlite", null);

        Cursor cursor = sqliteDB.rawQuery("SELECT * FROM TableName", null);

        if (cursor.moveToFirst()) {
            do {
                ////Get Data
            } while (cursor.moveToNext());

            imageFilter(listDatabase);
        }

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:51:15.677

您提供链接的示例运行良好，但最佳做法是在您的 android 应用程序中构建您的数据库，因此您可以将准备好的数据库 DLL 与数据作为插入语句导出，将这些插入语句添加到文件中，让您说raw 文件夹，在创建数据库后，您可以读取插入语句并执行它们以插入数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T09:47:50.447

I don't see the problem. I used that same example and it worked. In my project I had to check and, eventually, load the missing tables on the internal DB.

The DB will not be erased, unless you state so.

Therefore adding new tables will not erase any pre-existing ones.

Anyway, you said 'it somehow work's but it's not perfect', what do you mean? It either copies the tables or it doesn't. Right?

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T10:19:26.943

首先将您创建的数据库放入您的资产文件夹中。

将以下 Java 文件添加到您的项目中

```
package com.app.ourforms.database;

import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.util.ArrayList;
import java.util.Vector;

import android.content.Context;
import android.database.Cursor;
import android.database.SQLException;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import android.util.Log;

public class DBConnect extends SQLiteOpenHelper {
    ArrayList<String> arraylistUrl;
    public int GetCursor;

    public DBConnect(Context context, String db_name) {
        super(context, db_name, null, 2);

        if (db != null && db.isOpen())
            close();

        this.myContext = context;
        DB_NAME = db_name;

        try {
            createDataBase();
            openDataBase();
        } catch (IOException e) {
            // System.out.println("Exception in creation of database : "+
            // e.getMessage());
            e.printStackTrace();
        }

    }

    public void createDataBase() throws IOException {
        // boolean dbExist = checkDataBase();

        boolean dbExist = databaseExist();

        if (dbExist) {
            // System.out.println("Database Exist");
        } else {
            this.getReadableDatabase();

            try {
                copyDatabase();
            } catch (IOException e) {
                throw new Error("Error copying database");
            }
        }
    }

    private void copyDatabase() throws IOException {
        InputStream input = myContext.getAssets().open(DB_NAME);
        String outputFileName = DB_PATH + DB_NAME;
        OutputStream output = new FileOutputStream(outputFileName);

        byte[] buffer = new byte[1024];
        int length;
        while ((length = input.read(buffer)) > 0) {
            output.write(buffer, 0, length);
        }

        // Close the streams
        output.flush();
        output.close();
        input.close();
        // System.out.println(DB_NAME + "Database Copied !");
    }

    @Override
    public void onCreate(SQLiteDatabase db) {

    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {

    }

    public void openDataBase() throws SQLException {
        // Open the database
        String myPath = DB_PATH + DB_NAME;
        db = SQLiteDatabase.openDatabase(myPath, null,
                SQLiteDatabase.OPEN_READWRITE);
    }

    public boolean isOpen() {
        if (db != null)
            return db.isOpen();
        return false;
    }

    @Override
    public synchronized void close() {
        if (db != null)
            db.close();
        super.close();
    }

    public boolean databaseExist() {
        File dbFile = new File(DB_PATH + DB_NAME);
        return dbFile.exists();
    }

    private boolean checkDataBase() {
        SQLiteDatabase checkDB = null;
        try {
            String myPath = DB_PATH + DB_NAME;
            // System.out.println("My Pathe is:- " + myPath);
            // System.out.println("Open");
            checkDB = SQLiteDatabase.openDatabase(myPath, null,
                    SQLiteDatabase.OPEN_READWRITE);
            // System.out.println("checkDB value:" + checkDB);
            // System.out.println("My Pathe is:- " + myPath);
        } catch (Exception e) {
            // database does't exist yet.
        }

        if (checkDB != null) {
            // System.out.println("Closed");
            checkDB.close();
            // System.out.println("My db is:- " + checkDB.isOpen());
        }

        return checkDB != null ? true : false;
    }

    public Cursor execCursorQuery(String sql) {
        Cursor cursor = null;
        try {
            cursor = db.rawQuery(sql, null);
            GetCursor = cursor.getCount();
            Log.i("Inside execCursorQuery try", sql);
        } catch (Exception e) {
            Log.i("Inside execCursorQuery exception", e.getMessage());
        }
        return cursor;
    }

    public void execNonQuery(String sql) {
        try {
            db.execSQL(sql);
            // Log.d("SQL", sql);
        } catch (Exception e) {
            // Log.e("Err", e.getMessage());
        } finally {
            // closeDb();
        }
    }

    // ****************** Declare all the global variable
    // ****************************//

    private Context myContext;
    public String DB_PATH = "data/data/com.app.ourforms/databases/"; // path
    // of
    // your
    // datbase
    public static String DB_NAME = "OurForms.sqlite";// your database
                                                        // name
    @SuppressWarnings("unused")
    private static String ASSETS_DB_FOLDER = "db";
    private SQLiteDatabase db;

    public Vector<ArrayList<String>> getQuestion(String Query) {
        Vector<ArrayList<String>> alldata = new Vector<ArrayList<String>>();
        ArrayList<String> Question = new ArrayList<String>();
        ArrayList<String> Option1 = new ArrayList<String>();
        ArrayList<String> Option2 = new ArrayList<String>();
        ArrayList<String> Option3 = new ArrayList<String>();
        ArrayList<String> Option4 = new ArrayList<String>();
        ArrayList<String> Option5 = new ArrayList<String>();
        ArrayList<String> correct = new ArrayList<String>();
        ArrayList<String> correctness = new ArrayList<String>();
        ArrayList<String> Description = new ArrayList<String>();

        Cursor alldata_ques = execCursorQuery(Query);

        // GetCursor = alldata_ques.getCount();

        if (alldata_ques != null) {
            Log.e("Cursor length", "" + alldata_ques.getCount());
            GetCursor = alldata_ques.getCount();
            if (alldata_ques.getCount() > 0)

                while (alldata_ques.moveToNext()) {
                    Question.add((alldata_ques.getString(alldata_ques
                            .getColumnIndex("Question"))));
                    Option1.add(alldata_ques.getString(alldata_ques
                            .getColumnIndex("A")));
                    Option2.add(alldata_ques.getString(alldata_ques
                            .getColumnIndex("B")));
                    Option3.add(alldata_ques.getString(alldata_ques
                            .getColumnIndex("C")));
                    Option4.add(alldata_ques.getString(alldata_ques
                            .getColumnIndex("D")));
                    Option5.add(alldata_ques.getString(alldata_ques
                            .getColumnIndex("E")));
                    correct.add(alldata_ques.getString(alldata_ques
                            .getColumnIndex("Answer")));
                    correctness.add(alldata_ques.getString(alldata_ques
                            .getColumnIndex("Correctness")));
                    Description.add(alldata_ques.getString(alldata_ques
                            .getColumnIndex("Description")));
                }
            alldata.add(Question);
            alldata.add(Option1);
            alldata.add(Option2);
            alldata.add(Option3);
            alldata.add(Option4);
            alldata.add(Option5);
            alldata.add(correct);
            alldata.add(correctness);
            alldata.add(Description);
            // Log.d("VECTORSIZE", String.valueOf(alldata.size()));
        }

        return alldata;
    }

    public Vector<ArrayList<String>> getQuestions(String Query) {
        Vector<ArrayList<String>> alldata = new Vector<ArrayList<String>>();
        ArrayList<String> Question = new ArrayList<String>();
        ArrayList<String> Option1 = new ArrayList<String>();
        ArrayList<String> Option2 = new ArrayList<String>();
        ArrayList<String> Option3 = new ArrayList<String>();
        ArrayList<String> Option4 = new ArrayList<String>();
        ArrayList<String> Option5 = new ArrayList<String>();
        ArrayList<String> correct = new ArrayList<String>();
        ArrayList<String> Description = new ArrayList<String>();

        Cursor alldata_ques = execCursorQuery(Query);

        if (alldata_ques != null) {
            Log.e("Cursor length", "" + alldata_ques.getCount());
            if (alldata_ques.getCount() > 0)
                GetCursor = alldata_ques.getCount();
            while (alldata_ques.moveToNext()) {
                Question.add((alldata_ques.getString(alldata_ques
                        .getColumnIndex("Question"))));
                Option1.add(alldata_ques.getString(alldata_ques
                        .getColumnIndex("A")));
                Option2.add(alldata_ques.getString(alldata_ques
                        .getColumnIndex("B")));
                Option3.add(alldata_ques.getString(alldata_ques
                        .getColumnIndex("C")));
                Option4.add(alldata_ques.getString(alldata_ques
                        .getColumnIndex("D")));
                Option5.add(alldata_ques.getString(alldata_ques
                        .getColumnIndex("E")));
                correct.add(alldata_ques.getString(alldata_ques
                        .getColumnIndex("Answer")));
                Description.add(alldata_ques.getString(alldata_ques
                        .getColumnIndex("Description")));
            }
            alldata.add(Question);
            alldata.add(Option1);
            alldata.add(Option2);
            alldata.add(Option3);
            alldata.add(Option4);
            alldata.add(Option5);
            alldata.add(correct);
            alldata.add(Description);
            // Log.d("VECTORSIZE", String.valueOf(alldata.size()));
        }

        return alldata;
    }
} 
```

在上面的代码中根据您的项目更改以下行：

```
 public String DB_PATH = "data/data/YOUR_PACKAGE_NAME/databases/"; // path of your datbase

 public static String DB_NAME = "OurForms.sqlite";// your database Name 
```

在您的活动中编写以下代码第一次将您的数据库复制到应用程序。

```
// For Database Copy
        myPrefs = getSharedPreferences("myPrefs", 0);

        // sharedPreferences = PreferenceManager
        // .getDefaultSharedPreferences(getApplicationContext());

        Data.FIRST_TIME_LAUNCH = myPrefs.getBoolean("FIRST_TIME_LAUNCH", true);

        if (Data.FIRST_TIME_LAUNCH) {

            Log.i(TAG, "FIRST TIME*************************");
            dbConnect = new DBConnect(getApplicationContext(),
                    "OurForms.sqlite");
            SharedPreferences.Editor editor = myPrefs.edit();
            editor.putBoolean("FIRST_TIME_LAUNCH", false);
            editor.commit();
        } 
```

希望它会帮助你。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-08-27T04:35:03.367

按照这个链接： [https ://github.com/jgilfelt/android-sqlite-asset-helper](https://github.com/jgilfelt/android-sqlite-asset-helper)

然后，

1.  将 yourSqliteDb.db 添加到 assets/databases 的文件夹中。如果不存在，请创建文件夹。assets/databases/yourSqliteDb.db 如何创建资产文件夹： [http ://code2care.org/2015/create-assets-folder-in-android-studio/](http://code2care.org/2015/create-assets-folder-in-android-studio/)

2.  创建 SQLiteAssetHelper 类为：

    ```
    public class MyDatabaseHelper extends SQLiteAssetHelper {

    private static final String DATABASE_NAME = "yourSqliteDb.db";
    private static final int DATABASE_VERSION = 1;

    public MyDatabase(Context mContext)
    {
        super(mContext, DATABASE_NAME, null, DATABASE_VERSION );
    }

    public Cursor getItems()
    {
        SQLiteDatabase db = getReadableDatabase();
        Cursor c = db.rawQuery("Select * from items", null);
    //items is a column name in your table in database
        c.moveToFirst();
        return c;
    } 
    ```

    }

3.  现在在 MainActivity 或任何你需要从数据库中读取数据的地方，

    ```
     MyDatabaseHelper myDbHelper = new MyDatabaseHelper(this);
    SQLiteDatabase db = myDbHelper.ReadableDatabase();
    String items = getResult(1); //number value from database table

     public String getResult(int id)
    {
        String name = null;
        try
        {
            Cursor c = null;
            c = db.rawQuery("select item from items where _id="+id, null);
        c.moveToFirst();
        name = c.getString(c.getColumnIndex("item"));
        c.close();
    }
    catch(Exception e)
    {
        e.printStackTrace();
    }
    return name;
      } 
    ```

# scroll - javafx HTMLEditor 滚动窗格在空格键上滚动

> ID：14232183
> 
> 赞同：6
> 
> 时间：2013-01-09T09:40:08.423
> 
> 标签：scroll, javafx, html-editor

我在 ScrollPane 中有一个 VBox，其中包含一个 HTMLEditor 和其他东西。

当我每次点击空格键时在 HTMLEditor 中键入文本时，我会在编辑器中按预期得到一个空格，但 Scrollpane 也会向下滚动。首先，我通过将 EventFilter 添加到 Scrollpane 并使用 KEY_PRESSED 事件来解决此问题。但现在我需要 HTMLEditor 中的这个事件。

所以我的问题是：是否有任何标志告诉滚动窗格不要在 KeyCode.SPACE 上滚动，或者有没有办法绕过滚动窗格将输入焦点/键事件仅路由到 HTMLEditor？或者一种仅在滚动窗格上过滤此事件的方法？

您也可以使用 javafx Scene Builder 重现这一点：

Scrollpane->VBox（比 Scrollpane 大，所以出现滚动条）->2*HTMLEditor，在窗口中预览，点击空格键。

* * *

已解决：向 HTMLEditor 添加了一个 EventFilter，它使用 KEY_PRESSED 上的 KeyCode.SPACE。

```
htmlEditor.addEventFilter( KeyEvent.KEY_PRESSED, new EventHandler<KeyEvent>() {
    @Override
public void handle(KeyEvent event) {

    if (event.getEventType() == KeyEvent.KEY_PRESSED){
        // Consume Event before Bubbling Phase, -> otherwise Scrollpane scrolls
        if ( event.getCode() == KeyCode.SPACE ){ 
            event.consume();
        }
    }
    }
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T16:59:34.100

我刚刚遇到了类似的问题。我所做的是将过滤后的事件直接传递给我的事件处理程序方法，然后再使用它。对于您的情况，它看起来像这样（假设您有一个名为 onKeyPressed() 的 KeyEvent 处理程序方法）：

```
htmlEditor.setOnKeyPressed(new EventHandler<KeyEvent>() {@Override public void handle(KeyEvent t) { onKeyPressed(t); }});

scrollPane.addEventFilter(KeyEvent.KEY_PRESSED, new EventHandler<KeyEvent>() {
@Override
public void handle(KeyEvent t) {
    if(t.getCode() == KeyCode.SPACE) {
        onKeyPressed(t);
        t.consume();
    }
} 
```

});

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-02T21:25:37.080

创建您自己的扩展 HTMLEditor 的小部件并为按下的事件添加一个侦听器。

```
setOnKeyPressed(event -> {
    if (event.getCode() == KeyCode.SPACE  
            || event.getCode() == KeyCode.TAB ) {
        // Consume Event before Bubbling Phase, -> otherwise Scrollpane scrolls
        event.consume();
    }
}); 
```

# c++ - 用大括号初始化标量

> ID：14232184
> 
> 赞同：12
> 
> 时间：2013-01-09T09:40:12.887
> 
> 标签：c++, c, initialization, language-lawyer, list-initialization

在 C 和 C++ 中，可以使用大括号初始化数组和结构：

```
int a[] = {2, 3, 5, 7};
entry e = {"answer", 42}; 
```

然而，在[2007 年的一次演讲中](https://www.youtube.com/watch?v=-OioZ78jnlM)，Bjarne 提到这种语法也适用于标量。我尝试过这个：

```
int i = {7}; 
```

它确实有效！允许使用大括号初始化标量的基本原理是什么？

注意：我特别*不是*在谈论 C++11 统一初始化。这是很好的旧 C89 和 C++98。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T09:41:45.527

> 允许使用大括号初始化标量的基本原理是什么？

`int`是 POD。所以大括号初始化是允许的`int`（并且对于所有内置类型），因为它使初始化语法与其他 POD*一致。*

此外，我猜想 C++11 统一初始化语法背后的任何*基本原理*也（部分）适用于 C++03 允许的这种语法。只是 C++03 没有将其扩展为包括非 pod 类型，例如标准容器。

我可以看到这个初始化在 C++03 中很有帮助的地方。

```
template<typename T>
void f()
{
    T  obj = { size() } ; //T is POD: built-in type or pod-struct
    //code
} 
```

现在可以实例化`struct`它以一个合适的成员开头，以及任何算术类型：

```
struct header
{ 
    size_t size; //it is the first member
    //...
};

f<header>(); //body becomes : header obj = { size(); }; which is fine
f<size_t>(); //body becomes : size_t obj = { size(); }; which is fine 
```

另请注意，POD，无论是结构类型还是内置类型，也可以统一初始化为：

```
header h = header(); //value-initialized
int    i = int();    //value-initialized 
```

所以我相信*一个*原因是一致性！

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-09T09:54:34.417

基本原理未提及，但来自[2005 C++ 标准草案](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2005/n1905.pdf)，**8.5 Initializers [dcl.init]**，第 14 条

如果 T 是标量类型，则形式的声明 `T x = { a };` 等价于 `T x = a;`

请注意，C++ 98 标准仅允许大括号初始值设定项用于复制初始化`T x = { a }`，而不是直接初始化`T x { a }`，仅`T x(a)`适用于直接初始化。

**更新**：另见这个[问题](https://stackoverflow.com/questions/3462513/gcc-warning-braces-around-scalar-initializer)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T10:20:33.793

C++ 可能从 C 继承了这一点。在 C 中，主要原因是具有独特的初始化程序语法，特别是对于默认初始化程序。在 C 中，默认初始化程序是`{0}`.

# iphone - iOS 上的 Facebook apprequest 实施 - 接受的请求是打开应用商店，而不是我的应用

> ID：14232186
> 
> 赞同：0
> 
> 时间：2013-01-09T09:40:17.713
> 
> 标签：iphone, ios, objective-c, facebook

[在我的应用程序中，我已经实现了从这个 url http://developers.facebook.com/docs/howtos/link-to-your-native-app-ios-sdk/](http://developers.facebook.com/docs/howtos/link-to-your-native-app-ios-sdk/)引用的 apprequest

我的问题是，当我向我的朋友发送 apprequest 时，他收到通知并单击通知，然后将其重定向到他下载应用程序的 iTunes 应用程序 URL。完成此过程后，我再次向我的朋友发送 apprequest，我的朋友像以前一样收到通知并单击此通知，但它重定向到 iTunes 未启动已安装的应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T19:16:37.640

您是否在应用的 plist 文件中正确配置了 URL 方案？[请参阅iOS SDK 3.1“入门”指南的](https://developers.facebook.com/docs/getting-started/facebook-sdk-for-ios/3.1/)第 5 步，`FacebookAppID`了解有关如何`URL types`在`.plist`

否则，Facebook 应用程序无法检测到您的应用程序已安装在设备上，而是直接转到 App Store

# json - Knockout.js 绑定到以 @ 为前缀的 json 对象 memebr

> ID：14232187
> 
> 赞同：0
> 
> 时间：2013-01-09T09:40:21.417
> 
> 标签：json, knockout.js, xml-serialization

我已经使用 JSON.Net 将一些 XML 转换为 Json，然后使用 Knockout.js 绑定到一个视图。

我遇到的问题是我的 XML 属性以 json 表示，前缀为 @，在 Knockout.js 中被视为非法字符。

我的视图模型具有以下内容：

```
self.titles = ko.computed(function () {
     var str = self.searchForText().toLowerCase();

     return jsonString.AutoPolicy.Policy.filter(function (el) {                           
             return el['@id'].toLowerCase().indexOf(str) == 0;
     });
}, self); 
```

和我的html：

```
 <div id="searchResultsDiv" class="sectionDiv">             
         <div data-bind="foreach: titles">                         
            <div data-bind="text: @id, click: $parent.isSelected, event : { dblclick: $parent.openFileDblClick }"></div>                                                             
         </div>   
    </div> 
```

如何绑定到属性？是否有转义键或从视图模型返回的替代方法？

编辑

我已经修改了我的视图模型以添加一个可以绑定到的元素：

```
 // bind a list to json data **NEEDS TO VE ALL TITLES**
 self.titles = ko.computed(function () {
      var str = self.searchForText().toLowerCase();                      
         jsonString.AutoPolicy.Policy['@id']

         return jsonString.AutoPolicy.Policy.filter(function (el) {
            el.id = el['@id'];               
            return el['@id'].toLowerCase().indexOf(str) == 0;
         });
      }, self); 
```

这给出了预期的结果，但有更好的方法吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:48:56.447

尝试这样的事情：

```
<div data-bind="text: $data['@id']"></div> 
```

# ios - UIViewController 和 UIView 中的 touches 方法

> ID：14232191
> 
> 赞同：0
> 
> 时间：2013-01-09T09:40:36.303
> 
> 标签：ios, objective-c, drawing, touches, touchesmoved

我正在开发 iPad 应用程序。我只包含一个大小为 500wx500h`UIViewController`的自定义。`UIView`

我在 the`UIViewController`和 custom`UIView`中都实现了 touches 方法，以便`UIViewController`在我们触摸 custom 周围时调用 touches 方法，`UIView`并在我们触摸它内部时调用 custom `UIView`touches 方法。

UIViewController touchesMoved ：

```
- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch *touch = [touches anyObject];
    CGPoint point = [touch locationInView:self.view];

    NSLog(@"TEST"); // Added during edition
    if (!CGRectContainsPoint(self.drawingView.frame, point)) {
        NSLog(@"UIVIEWCONTROLLER");
    } 
```

}

自定义 UIView 触摸 Moved ：

```
- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {
    NSLog(@"CUSTOM VIEW");
} 
```

当我触摸自定义`UIView`移动手指时，`CUSTOM VIEW`会记录下来，直到我移开屏幕上的手指。另一方面，当我在自定义 UIView 之外进行触摸`UIVIEWCONTROLLER`时，在 touchesMoved 方法中只调用了一次。

我错过了什么吗？

**编辑：**我在 UIViewController touchesMoved 方法中添加了一个日志。当我在自定义视图中触摸时，它会在所有触摸阶段记录测试。但是当我触摸外面时，我会得到同样的行为。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T09:55:53.227

将 ExclusiveTouch 属性添加到您的视图以禁用多点触控

```
your view.exclusiveTouch=YES; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:09:06.143

您的 self.view 可能会拦截触摸并处理它们，因此它们不会到达视图控制器。您可以尝试做两件事中的任何一件（或两者都做），看看它是否有效：

1.  `self.view.exclusiveTouch = NO;`

2.  `self.view.userInteractionEnabled = NO;`

我也会尝试打电话`[super touchesMoved: touches withEvent: event];`

希望能帮助到你。

# model-view-controller - 如何在 ExtJS MVC 中通过引用获取存储？

> ID：14232193
> 
> 赞同：4
> 
> 时间：2013-01-09T09:40:38.220
> 
> 标签：model-view-controller, extjs

在 ExtJS MVC 控制器中，我们有`stores`一个 Stores 数组的属性。

ExtJS 自动为每个 store 生成 getter 函数（`this.getUsersStore`for `Users`store 等）

但是，如果我们的商店位于文件夹层次结构的第二级并且名称为 ，我们应该怎么做`shop.Users`？

这类商店有自动吸气剂吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-09T09:53:09.427

那得到处理。在您的示例中，您得到一个名为`getShopUsersStore()`

getter 创建器为每个点拆分并连接每个大写的字符串。

# java - 将 Java 小程序参数保存到会话或 cookie 中

> ID：14232197
> 
> 赞同：1
> 
> 时间：2013-01-09T09:40:49.253
> 
> 标签：java, session, cookies, applet

我有一个简单的问题，但由于在需要帮助之前我从未使用过小程序：我有一个需要用户登录的 Java 小程序。登录后，我想将登录参数（uname 和 pass）保存到会话或 cookie，所以下次用户启动我的小程序时，登录可以是自动的。有没有办法从 Java 小程序保存/读取会话和 cookie 以及如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T11:03:26.347

看一下这个

[http://www.java-gaming.org/index.php?topic=24016.0](http://www.java-gaming.org/index.php?topic=24016.0)

[http://docs.oracle.com/javase/tutorial/deployment/doingMoreWithRIA/accessingCookies.html](http://docs.oracle.com/javase/tutorial/deployment/doingMoreWithRIA/accessingCookies.html)

可能会有所帮助 谢谢

# microsoft-dynamics - Navision 6.0(CC) 中 Try-Catch 的替代方案 [会员呼叫失败]

> ID：14232198
> 
> 赞同：1
> 
> 时间：2013-01-09T09:40:50.337
> 
> 标签：microsoft-dynamics, navision, dynamics-nav

尝试在 Navision 中打印文档时，我们收到错误消息： ![提供的错误信息](../Images/747b98e6edcf69322ff04170623c3ae1.png)

翻译：此消息适用于 C/AL 程序员：对成员 ActivePrinter 的调用失败。Microsoft Word 返回以下消息：打印机错误。

此行发生错误：

```
wrdApp.ActivePrinter := InteractLogEntry."Printer Name"; 
```

InteractLogEntry 是一个列表，其中包含本地系统上安装的每台打印机。

我的问题：如何处理这个异常（Navision 不支持通过 try-catch 处理异常）

我可以使用 if-else 语句来解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-30T08:45:23.317

经典客户端中最好的 try/catch 替换是将崩溃代码放入单独代码单元的 OnRun 部分。

然后，您可以使用 if 子句从另一个对象（代码单元、表单、报告等）调用代码

```
IF NOT MyCrashyCodeunit.RUN THEN BEGIN
  // Errror handling here
END 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-07-27T09:45:35.150

自 Dynamics NAV 2016 以来，有一种替代方法可以调用 Codeunit 并评估其返回值。

引入了 Try Functions（参见函数的属性），可以设置为任何函数。当调用该函数并（！）评估其布尔返回值时，错误被抑制，因此返回 false。

更多信息：[https ://docs.microsoft.com/en-us/dynamics-nav/handling-errors-by-using-try-functions](https://docs.microsoft.com/en-us/dynamics-nav/handling-errors-by-using-try-functions)

**重要信息：**

> 由于 try 函数对数据库所做的更改不会回滚，因此不应在 try 函数中包含数据库写入事务。默认情况下，Microsoft Dynamics NAV Server 配置会阻止您执行此操作。如果 try 函数包含数据库写入事务，则会发生运行时错误。

# mysql - 为什么我的 JOIN 增加/可能乘以查询中的 SUM？

> ID：14232199
> 
> 赞同：2
> 
> 时间：2013-01-09T09:40:50.053
> 
> 标签：mysql, sql, join

我正在尝试加入三个表。

第一个表**`transactions`**包含学生获得的“积分”的详细信息。这里的相关字段是`Recipient_ID`（学生获得分​​数）。

![交易表](../Images/5f76b56b21f1035a51b74d35a10d09bf.png)

第二个表**`purchases`**包含学生购买的“奖励”的详细信息。这里的相关字段是`Student_ID`和`Reward_ID`。

![采购表](../Images/b3fc599b23ddee661f78864159c4a027.png)

最终表格**`rewards`**详细说明了购买的奖励。这里的相关字段是`Reward_ID`，`Cost_to_User`（学生为用于订购该`GROUP_CONCAT`功能的每个奖励支付的价格）和`Title`。

![奖励表](../Images/e2d54c62a680f4ad6b2f1bc07eaafaf5.png)

* * *

我正在使用的查询如下：

```
SELECT
  t.Recipient_ID AS `ID` ,
  SUM( t.Points ) AS `Points Earned`,
  SUBSTRING_INDEX( GROUP_CONCAT(DISTINCT r.Title ORDER BY r.Cost_to_User DESC SEPARATOR ', '),', ',3 ) AS `Rewards`
FROM  `transactions` t
LEFT JOIN `purchases` p 
   ON t.Recipient_ID = p.Student_ID
LEFT JOIN `rewards` r 
  ON p.Reward_ID = r.Reward_ID
WHERE t.`Recipient_ID` 
  IN ( 90128, 90163, 33888, 34240, 137674 )
GROUP BY  t.`Recipient_ID` 
```

* * *

**由于某种原因**，`Points Earned`输出非常错误。**如果我删除`LEFT JOIN`on `purchases`，`Points Earned`输出是正确**的。

是什么让我的`SUM`命令发疯了？

* * *

**编辑**：请注意，我需要这些`LEFT JOIN`命令，因为我想显示所有学生，包括那些没有购买任何东西的学生。[在这篇文章](https://stackoverflow.com/questions/14221133/which-join-type-do-i-use-to-display-null-values-in-this-query)中找到了更多细节。

* * *

提前致谢，

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T10:16:19.323

问题是您从带有连接的事务表中获取多条记录。您可以在事务表上使用子查询，它应该可以解决此问题：

```
SELECT t.`ID` ,
  t.`Points Earned`,
  SUBSTRING_INDEX( GROUP_CONCAT(DISTINCT r.Title ORDER BY r.Cost_to_User DESC SEPARATOR ', '),', ',3 ) AS `Rewards`
FROM
(
  select t.Recipient_ID AS `ID`, sum(t.Points) AS `Points Earned`
  from `transactions` t
  group by t.Recipient_ID
) t
LEFT JOIN `purchases` p 
   ON t.`ID` = p.Student_ID
LEFT JOIN `rewards` r 
  ON p.Reward_ID = r.Reward_ID
WHERE t.`ID` 
  IN ( 90128, 90163, 33888, 34240, 137674 )
GROUP BY  t.`ID` 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!2/1797a/7)

奇怪的总数`points`来自表的连接。`Recipient_ID = Student_ID`由于您仅在两个表中都有记录时才加入表，因此您将获得笛卡尔数的结果。因此，如果表中有 3 条学生`transactions`记录，表中有 3 条记录，`purchases`则结果将显示该学生的 9 条记录，这会改变总数。

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!2/1797a/17)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:50:01.013

尝试`INNER JOIN`

```
SELECT
    t.Recipient_ID AS `ID` ,
    SUM( t.Points ) AS `Points Earned`,
    SUBSTRING_INDEX( GROUP_CONCAT(DISTINCT r.Title ORDER BY r.Cost_to_User DESC SEPARATOR ', '),', ',3 ) AS `Rewards`
FROM  `transactions` t
LEFT JOIN `purchases` p 
ON t.Recipient_ID = p.Student_ID
INNER JOIN `rewards` r 
ON p.Reward_ID = r.Reward_ID
WHERE t.`Recipient_ID` 
IN ( 90128, 90163, 33888, 34240, 137674 )
GROUP BY  t.`Recipient_ID` 
```

# mysql - 删除mysql中以前的数据

> ID：14232202
> 
> 赞同：0
> 
> 时间：2013-01-09T09:41:12.857
> 
> 标签：mysql, database

我有一个数据库，其中每小时定期填充表。现在数据量增长了很多。我只希望存储 10 天的数据。每天过去后，所有其余部分都会自动删除。

我怎么能在mysql中做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T09:44:31.420

多种选择..

写一个`cron job`来做这件事。（使用 PHP/ASP/JSP——无论你在使用什么）

`Event`在mysql中安排一个

```
CREATE EVENT `event_name`
ON SCHEDULE schedule
[ON COMPLETION [NOT] PRESERVE]
[ENABLE | DISABLE | DISABLE ON SLAVE]
DO BEGIN
    DELETE * FROM tablename WHERE date < CURRENT_DATE - INTERVAL 10 DAY
END; 
```

欲了解更多信息，请访问[http://www.sitepoint.com/how-to-create-mysql-events/](http://www.sitepoint.com/how-to-create-mysql-events/)

否则有`trigger`INSERT 并相应地删除记录（这里的问题是所有插入触发器都会被调用）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:45:07.860

```
CREATE EVENT 'eventname' ON 
SCHEDULE EVERY 24 HOUR STARTS '2013-01-09 10:00:00' 
ON COMPLETION NOT PRESERVE ENABLE 
COMMENT 'Clears out old data table each day.'
 DO 
      delete * from tablename WHERE fieldwithdateofinput < CURRENT_DATE - INTERVAL 10 DAY 
```

这将使事件每 24 小时触发一次，从日期 2013-01-09 10:00:00 开始，假设您有一个记录输入时具有注册日期的字段（fieldwithdateofinput）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-04T09:10:45.120

您有 2 个选项。

**1.事件调度器**

首先创建表并创建事件以对删除 3 周前的记录执行删除查询。

```
CREATE EVENT `ex1` ON SCHEDULE
EVERY 1 DAY
ON COMPLETION NOT PRESERVE
ENABLE
COMMENT ''
DO BEGIN
DELETE FROM table WHERE DATEDIFF(NOW(),TimeStampColumn) > 10

END
//for 3 weeks 
```

注意：旧版本的 mysql 没有事件调度器

**2.创建cron作业**

文件 1.sql

```
DELETE FROM table WHERE DATEDIFF(NOW(),TimeStampColumn) > 10 
```

**安排这个命令：**

mysql -uusername -ppassword < /path/to/file1.sql

# java - 为什么 java.lang.Object.getClass() （和反射）比平时慢？

> ID：14232206
> 
> 赞同：11
> 
> 时间：2013-01-09T09:41:30.740
> 
> 标签：java, reflection, jvm, jvm-hotspot

我们遇到了一些奇怪的 JVM 性能问题。

我们有一个大且有些不透明的 GUI 组件（Actuate Formula 1 电子表格）。

如果我们从 Event Dispatch Thread 初始化所有代码（如您所愿），我们会发现代码运行速度要慢得多（拖动鼠标选择单元格，有明显的滞后）。

如果我们第一次在主启动器线程中初始化它，然后才开始在 EDT 中使用它，它会运行得更快。

当我使用分析器查看为什么它执行缓慢时，一直占用的方法调用是：

*   java.lang.Object.getClass()
*   java.lang.reflect.Array.newInstance(Class, int)
*   java.lang.Class.getComponentType()
*   java.lang.Thread.currentThread()

我们在 Windows 7（JDK 附带的那个）上使用 64 位 Sun Hotspot JVM。

有谁知道为什么上述方法的执行速度可能比平时慢得多？

我在想这可能与加载类的顺序有关……这是一个合理的理论吗？有谁知道我可以诊断为什么这些方法调用可能需要很长时间的任何其他方法？

我附上了分析器的两个屏幕截图。在这两种情况下，我所做的只是在分析器运行时在电子表格单元格周围拖动鼠标。所以它只是更新了 GUI 组件，并没有做太多其他事情。

第一个是在名为“releaseLock()”的方法中花费大量时间。出于某种原因，这需要很长时间，因为“getComponentType()”需要的时间比平时要长得多。

![释放锁](../Images/037cbbe9e761fcabd021dc931bd2aab4.png)

第二个是在我进行“hack”以消除“releaseLock()”的成本之后 - 但现在由于 getClass() 和 currentThread() 花费的时间比正常时间长得多，它现在只是在“getLock()”中花费了很多时间：

![获取锁](../Images/8a904159526642039f4281c31fa3008f.png)

但重要的是，如果我只是更改代码初始化的顺序，这些代码都不会花费很长时间来执行（它甚至根本不会出现在分析器中）。

如果我要优化 getLock() 应用程序仍然执行得慢得多。问题似乎确实是诸如 getClass() 之类的方法花费的时间太长。没有办法弥补这一点 - getClass() 在太多地方被调用！

即使没有运行分析器，性能差异也很明显。

另请记住，我们无法更改任何此代码 - 它是一个外部组件。挑战在于解释为什么代码在某些情况下的执行速度比其他情况下要慢得多。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T19:05:43.543

您可以尝试在负载下对应用程序进行多个混合（java+native） [jstack -m线程转储。](http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstack.html)

这可能会给`Object.getClass()`.

另请参阅[如果分析器不是答案，我们还有哪些其他选择？](https://stackoverflow.com/questions/4387895/if-profiler-is-not-the-answer-what-other-choices-do-we-have).

另请查看[JVM 在 GC 中花费时间时线程转储是什么样的](https://stackoverflow.com/a/14084408/603516)。因为通常的 JVM 线程转储可能并不总是完全准确，因为它们只发生在[安全点](http://blog.ragozin.info/2012/10/safepoints-in-hotspot-jvm.html)上。

# python - Xcode 中的 LLDB Python 脚本

> ID：14232208
> 
> 赞同：6
> 
> 时间：2013-01-09T09:41:37.580
> 
> 标签：python, xcode, scripting, lldb

我刚刚发现了 LLDB 的[这个](https://lldb.llvm.org/use/python.html)方便的特性，它允许我编写 Python 脚本，当我在 LLDB 中的断点上时可以访问框架中的变量。但是我在 Xcode (v4.5.2) 中使用它时遇到了一些问题。首先，我找不到任何地方说明我应该将这些 Python 脚本保存在哪里，以便我可以从 LLDB 中的命令行导入它们。其次，在我输入`script`LLDB 后，键盘输入有点错误：退格键不会删除屏幕上的字符，而是有效地将其从命令中删除。所以打字`primt<bsp><bsp><bsp>int`有效意味着`print`，但它仍然像`primtint`在终端上一样出现。这只是美学，但它很烦人！

谁能指出一些 Xcode 特定的资源来使用 Python 和 LLDB？

编辑：[这](http://www.innerexception.com/2012/09/lldb-custom-object-summaries.html)是另一个有趣的链接，它说您可以使用 Python 为使用 Python 的变量创建自定义摘要，但我找不到与此相关的任何内容。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-10T01:24:43.077

不幸的是，在 Xcode、lldb 和 Python 解释器之间，交互式控制台存在一些问题。请在[http://bugreport.apple.com/](http://bugreport.apple.com/)上提交错误报告- 我不知道是否已经有关于此特定问题的错误报告，尽管这里的一般问题是已知的。如果您正在探索交互式 python 脚本界面，您可能需要使用命令行 lldb 工具；效果更好。

我将所有用于 lldb 的 python 脚本放在`~/lldb`. 在我的`~/.lldbinit`文件中，我将它们作为来源。例如，我`~/lldb/stopifcaller.py`有

```
import lldb

# Use this like
# (lldb) command script import ~/lldb/stopifcaller.py
# (lldb) br s -n bar
# (lldb) br comm add --script-type python -o "stopifcaller.stop_if_caller(frame, 'foo')" 1

def stop_if_caller(current_frame, function_of_interest):
  thread = current_frame.GetThread()
  if thread.GetNumFrames() > 1:
    if thread.GetFrameAtIndex(1).GetFunctionName() != function_of_interest:
      thread.GetProcess().Continue() 
```

如果这是我想要的，我会将其放入`command script import`我的文件中以自动加载它。`~/.lldbinit`这个特定的例子在断点 #1 中添加了一个 python 命令——当 lldb 在断点处停止时，它将查看调用函数。如果调用函数不是`foo`，它将自动恢复执行。本质上，断点 1 只会在 foo() 调用 bar() 时停止。请注意，Xcode 4.5 lldb 可能存在问题`command script import ~/...`——您可能需要输入主目录（`/Users/benwad/`或其他）的完整路径。我记不清了——Xcode 4.5 有一些波浪线扩展问题已经修复了一段时间。

您可以`~/.lldbinit`直接将简单类型摘要添加到您的。例如，如果我正在调试 lldb 本身，`ConstString`对象通常只有一个我感兴趣的字段，即 m_string ivar。所以我有

```
type summary add -w lldb lldb_private::ConstString -s "${var.m_string}" 
```

或者如果是类型`addr_t`，我总是希望将其格式化为十六进制，所以我有

```
type format add -f x lldb::addr_t 
```

如果您想向 lldb 添加新命令，您将拥有一个类似的 python 文件`~/lldb/sayhello.py`，

```
import lldb

def say_hello(debugger, command, result, dict):
  print 'hello'

def __lldb_init_module (debugger, dict):
  debugger.HandleCommand('command script add -f sayhello.say_hello hello') 
```

你会把它加载到lldb中

```
(lldb) comma script import  ~/lldb/sayhello.py
(lldb) hello
hello
(lldb) 
```

大多数情况下，当您添加用 python 编写的命令时，您将使用`shlex`和`optparse`库，以便命令可以进行选项解析，并且您将添加一个`__doc__`字符串 - 我省略了这些内容以保持示例简单。

# c# - 在页面上显示电话号码以在 Lync 中加载呼叫

> ID：14232210
> 
> 赞同：0
> 
> 时间：2013-01-09T09:41:39.443
> 
> 标签：c#, html, asp.net-mvc-3, lync

我有一个应用程序，其中包含一个显示人们电话号码的网页。

例如。0115 987 6543

我想做的是将电话号码显示为自动加载 Microsoft Lync 客户端的链接。

有什么办法可以做到吗？

谢谢，大卫

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T09:45:37.410

[我设法在一个关于如何禁用这样的事情的线程中找到了答案。](https://stackoverflow.com/questions/6728521/disable-lync-click-to-call-detecting-numbers-in-a-web-page)

有一种[标准化的方法](https://stackoverflow.com/questions/6728521/disable-lync-click-to-call-detecting-numbers-in-a-web-page)来标记电话号码以与 VOIP/拨号程序兼容。它使用带有协议的标准`A`锚点。`tel:`这不仅具有禁用 Lync 的侵入式标记的双重效果，而且还为知道如何拨打号码 (Skype) 和移动设备（iOS 和 Android）的任何设备提供更好的支持。

```
<p>For help, please call <a href="tel:1-800-555-1234">1-800-555-1234</a>.</p> 
```

现在 Lync 用户仍然可以单击该链接，这将提示他们使用 Lync“打开”它，无论他们使用哪种浏览器（我已确认与 IE9、Firefox 和 Chrome 兼容）。这给我的印象是两全其美：与用户的电话应用程序兼容，而不会破坏您的标记和布局。

# linux - 在 CVS 中是否有可能：“如果没有写入日志，则不允许客户端提交”？

> ID：14232211
> 
> 赞同：0
> 
> 时间：2013-01-09T09:41:44.303
> 
> 标签：linux, version-control, cvs, rhel

我是 CVS 的新手。我们最近开始使用 CVS 进行版本控制。我们在 RHEL 系统上使用 SmartCVS 作为 CVS 客户端。

如果我的团队成员没有在日志消息框中输入任何内容，是否有可能无法提交？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T09:52:38.533

使用钩子，如此[处](http://www.pragmaticautomation.com/cgi-bin/pragauto.cgi/Monitor/LettingCVSPullTheTrigger.rdoc/style/print)所述，在

> 编写预提交过滤器

部分。

只是出于好奇——如果有 git、mercurial 甚至 SVN，你为什么要使用 CVS？

# database - 将 Firebird 数据库转发到另一个网络

> ID：14232213
> 
> 赞同：5
> 
> 时间：2013-01-09T09:41:44.240
> 
> 标签：database, networking, firebird

通过将两个商店应用程序与一个数据库连接起来，我遇到了一个问题。问题是他们在两个不同的网络中......

假设我们有**网络 A**：

```
192.168.1.10 = Master Instance -> uses fdb -> localhost:3065
192.168.1.20 = Other Instance  -> uses fdb -> 192.168.1.10:3065 
```

现在我有了第二个新**网络 B**：

```
192.168.1.5  = Other Instance  -> uses fdb -> 192.168.1.10:3065 
```

所以问题是我无法将实例配置为使用外部 IP，它只能使用内部范围。

有没有办法将主实例转发到网络 B？

我已经尝试过使用 Hamachi，但它非常不稳定..

感谢您的帮助：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T07:20:30.167

首先 Ping 他们彼此.. 如果可行，那么问题出在 Firebird 实例上（默认情况下它是禁用的），现在我可以假设你在同一个网络中.. 你会 ping所有的网络都非常顺利，所以问题将出在火鸟上。或者在第二种情况下告诉我子网掩码...或者用“192.168.1.10/24...25”之类的网络位写你的 IP。 ...26" 然后我可以告诉你问题是什么......希望这能解释

# php - 是否可以在 PHP 的数组中定义变量字段名称？

> ID：14232216
> 
> 赞同：0
> 
> 时间：2013-01-09T09:41:49.473
> 
> 标签：php, arrays

我需要在数组中推送值，但是这个数组总是有不同数量的元素，其中一些是编号的，我希望有类似的东西：

```
{"idWeb":223,"category":"animals","questionText":"have you got animals?","howManyAnswers":2,"answerText1":"yes","risid1":43,"answerText2":"no","risid2":44} 
```

例如，对于这个数组，变量名应该是 answertext1 和 answertext2。

所以一次，我会有这样的事情：

```
$arrayname['answertext'.$a] = "some sentence string"; 
```

这样对吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T09:53:10.660

是的，它是正确的..例如

```
$arr = array( 'a1'=>12,'a2'=>32,'a3'=>22,'a3'=>33 );
$x=1;
print_r($arr['a'.$x]); 
```

这将输出 12。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:00:29.943

是的，在 PHP 的关联数组中使用 vars 作为键名是没有问题的，例如：

```
$a = 1;
$b = 2;

$arrayname['answertext'.$a] = "some sentence string A";
$arrayname['answertext'.$b] = "some sentence string B";

echo $arrayname['answertext'.$a] . "<br/>"; //"some sentence string A"
echo $arrayname['answertext1'] . "<br/>"; //"some sentence string A"

echo $arrayname['answertext'.$b] . "<br/>"; //"some sentence string B"
echo $arrayname['answertext2'] . "<br/>"; //"some sentence string B" 
```

要使用 array( ) 创建关联数组，请使用 => 符号将索引与值分开：

```
$array = array(
    "foo" => "bar",
    "bar" => "foo",
);

// a partir de PHP 5.4
$array = [
    "foo" => "bar",
    "bar" => "foo",
]; 
```

要构造一个空数组，不向 array() 传递任何参数：

```
$addresses = array(  ); 
```

有关数组的更多信息：http: [//oreilly.com/catalog/progphp/chapter/ch05.html](http://oreilly.com/catalog/progphp/chapter/ch05.html)

# vb.net - 出现“无法翻译部分或全部身份参考”之类的错误

> ID：14232217
> 
> 赞同：1
> 
> 时间：2013-01-09T09:41:53.490
> 
> 标签：vb.net, vb.net-2010

使用 vb.net 设置文件夹权限。但是我在我的代码中遇到了上面提到的错误。这里我附上了代码。有人帮我解决该特定行中的错误吗？

```
Dim FolderPath As String = "D:\Account\HA\" 'Specify the folder here                 
Dim UserAccount As String = mailid.ToString() & "\" & pwd
Dim FolderInfo As IO.DirectoryInfo = New IO.DirectoryInfo(FolderPath)
Dim FolderAcl As New DirectorySecurity
FolderAcl.AddAccessRule(New FileSystemAccessRule(UserAccount, FileSystemRights.FullControl, AccessControlType.Deny))            
FolderInfo.SetAccessControl(FolderAcl 
```

在第 5 行出现错误。

# iphone - 在 iPhone 的快捷键上启动应用程序

> ID：14232219
> 
> 赞同：0
> 
> 时间：2013-01-09T09:41:59.450
> 
> 标签：iphone, ios, objective-c

我想使用长按音量键或其他按键序列等快捷键来启动我的应用程序。iPhone真的可以吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T09:48:06.660

Answer is simply no.

Apple won't allow you to do this.

They won't allow you to integrate your application with their hardware interface.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:53:42.400

如果您只想对您控制的设备执行此操作，那么您可以通过越狱来实现。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T09:50:29.587

不，这对于启动应用程序是不可能的。

即使在应用程序中苹果不希望您使用硬件按钮，相机应用程序也有例外。

这是一个线程，其中包含在应用程序中使用的详细信息： [使用音量按钮作为输入](https://stackoverflow.com/questions/10458438/ios-use-the-volume-buttons-as-input)

# c# - 为什么我不能在 int 的 switch 语句中使用条件作为案例？

> ID：14232220
> 
> 赞同：-1
> 
> 时间：2013-01-09T09:42:10.650
> 
> 标签：c#, c, switch-statement

我有这个代码

```
int a = 0 ;
int b =2;
switch (a)
{ 
    case  a <= b: //<--error 
        //Do something
        break;
    default:
        break;

} 
```

我知道这可以用 if else 语句来完成，但我很好奇，为什么它在 switch case 语句中不起作用？

这可以在“C”编程中完成吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T09:42:53.583

你不能在 switch case 中给出表达式，你必须`constant`在 case 中给出值而不是表达式。

> switch 语句是一个控制语句，它通过将控制权传递给其主体中的一个 case 语句来处理多个选择和枚举

[您可以在此处](http://msdn.microsoft.com/en-us/library/06tc147t%28v=vs.80%29.aspx)阅读有关 switch的更多信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T09:47:19.443

a <= b 是`bool`表达式，但`a`is `int`。

同样根据[http://msdn.microsoft.com/en-us/library/06tc147t(v=vs.90).aspx](http://msdn.microsoft.com/en-us/library/06tc147t(v=vs.90).aspx)每个案例标签指定一个常量值。在您的情况下是表达式，而不是常量。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T09:46:40.423

该语言被设计为需要恒定的大小写值有几个原因，包括：

(1) 确保不能有重叠的范围（并且可以在编译时检查）。(2) 使 switch 语句具有极高的性能。(3) 更熟悉 C++ 程序员（在早期，他们是 C# 新用户的很大一部分）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T09:43:48.477

因为在某些情况下，您应该指定 a 的可能值，而不是条件。

# android - XML 中的按钮比 PNG 中的大得多

> ID：14232221
> 
> 赞同：0
> 
> 时间：2013-01-09T09:42:15.300
> 
> 标签：android, xml, png

有人为我的应用程序进行了设计。他向我发送了所有相互分离的图层（按钮、背景等）。他首先向我发送了 .png 文件中的整个布局，几天前所有的东西都分开了（大小相同），但是当我添加一个按钮时比他先发给我的 png 文件大得多（即使它们的大小相同）。我有 2 个屏幕，您可以在其中看到问题：

[http://i.imgur.com/NP0Vs.png](http://i.imgur.com/NP0Vs.png)

[http://i.imgur.com/AFNAk.png](http://i.imgur.com/AFNAk.png)

所以我的设计师从第一张.png（第一张图片）中取出了按钮，他把它剪下来，我把它添加到我的设计中（第二张图片）。任何人都知道如何从第一个 .png 文件中将相同大小的按钮正确地添加到我的设计中？

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T09:47:01.993

您的设计师应该将多种尺寸的图像交给您。他应该以多种画布尺寸进行总体设计，以匹配您想要支持的手机。如果您想支持大量设备，您可以使用 Google 的大小和 DPI 存储桶，如此[处所述](http://developer.android.com/guide/practices/screens_support.html)

一个不太合适的方法可能是在你的 xml 中添加一个硬大小到 .

如果屏幕截图代表了真实的设计，那么最好是看看用可绘制的 XML 来创建它，因为它非常基本，这将为您的应用程序节省一些空间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:57:43.570

Android 没有使用 png 作为按钮图像，而是内置了 9-patch 系统来处理图形的大小调整：http: [//developer.android.com/guide/topics/graphics/2d-graphics.html#nine-patch](http://developer.android.com/guide/topics/graphics/2d-graphics.html#nine-patch)，这在风格上类似于一些网站背景的绘制方式。

Android 也有它自己的 9-patch 创建器与 sdk 捆绑在一起：http: [//developer.android.com/tools/help/draw9patch.html](http://developer.android.com/tools/help/draw9patch.html)，所以编辑朋友的 png 文件很容易，然后将 9-patch 应用到按钮。

然后，您可以根据需要在应用程序中更改按钮大小，背景将随您的按钮缩放

# windows-8 - 当应用程序崩溃时，promise 会发生什么？

> ID：14232223
> 
> 赞同：2
> 
> 时间：2013-01-09T09:42:34.877
> 
> 标签：windows-8, microsoft-metro, winjs

我正在使用 Javascript (WinJS) 为 Windows 8 Metro 开发应用程序。

假设我有以下代码：

```
Windows.Storage.ApplicationData.current.localFolder.createFileAsync("test.dat", Windows.Storage.CreationCollisionOption.replaceExisting)
    .done(
        /* write some data to the file here */)

var x = null;
x.prop = 1; 
```

很明显，前面的代码会在 x.prop = 1 行崩溃。 createFileAsync Promise 会发生什么？

做一个简单的调试测试会产生这样一个事实，即即使应用程序崩溃，Promise 也会完成，但我可以确定情况总是如此，并且文件将被创建和写入吗？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T01:31:07.273

我认为如果应用程序崩溃，您无法确定 Promise 是否会完成。如果返回 Promise 的操作完成得足够快，它可能会完成。但是，如果您正在寻找保证，我认为您不会得到保证。

我建议进行防御性编码，这样如果未创建文件，您可以在下次运行应用程序时创建它。

当然，最重要的是，您应该进行适当的异常处理，以确保应用不会因为一个简单的异常而崩溃。

有关开发 Windows 应用商店应用程序的更多信息，请查看[生成应用程序](http://bit.ly/gd30tolaunch)。

# ruby-on-rails - Rails：模型没有表，表没有模型

> ID：14232225
> 
> 赞同：-1
> 
> 时间：2013-01-09T09:42:39.990
> 
> 标签：ruby-on-rails, ruby

一个模型没有表，一个表没有模型

例子：

*一个名为**User**的模型，但没有**users 表**...一个名为**products**的表，但没有**Product***模型。

在上述情况下，我们可以从 User.rb 访问产品数据吗？.. 如果可以，如何？

干杯!

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:31:42.877

出于多种原因，我会创建一个模型`products`……但是，如果您真的想这样做，我认为您可以使用原始 SQL 查询：

就像是：`ActiveRecord::Base.connection.select_all('SELECT * FROM products')`

我希望它有帮助...

# android - sencha2 与 phonegap 的 android 构建失败集成

> ID：14232226
> 
> 赞同：0
> 
> 时间：2013-01-09T09:42:41.993
> 
> 标签：android, cordova, mobile, sencha-touch

我正在将 sencha touch2 与 android 的 phonegap 集成。我已经在我的本地主机中成功创建了一个示例应用程序。现在我正在尝试按照本教程将它与 android 的 phonegap 集成

[http://andidog.de/blog/2012/06/packaging-a-sencha-touch-2-application-with-phonegap-for-android/](http://andidog.de/blog/2012/06/packaging-a-sencha-touch-2-application-with-phonegap-for-android/)

**到目前为止我做了什么**

1.  创建新的煎茶应用程序（AndroidSencha）
2.  在 AndroidSencha 侧创建了一个新的文件夹名称 android。
3.  使用 eclipse 在 android 中创建了一个项目。
4.  在 app.json 中将记录器：'no' 更改为 'false'。
5.  将 cordova-2.1.0.js 复制到根文件夹到 sencha（我在 windows 上使用 phonegap2.1.0）
6.  添加
    "js": [ { "path": "cordova-2.1.0.js" }, 到 app.json

当我在命令提示符下尝试“sencha app build testing -d android/assets/www”时。我收到“构建失败”消息

我不能从这里继续..

请帮忙..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-12T00:51:55.907

您应该使用最新版本的 Sencha Touch (2.1) 和 Sencha Cmd。

# c# - 关于通用方法的术语

> ID：14232228
> 
> 赞同：1
> 
> 时间：2013-01-09T09:42:43.023
> 
> 标签：c#, generics, terminology

我正在寻找一个描述类型的术语，它将在泛型方法的显式实现中替换。

我的场景是这样的：

我很高兴与一个名叫肯特的家伙结对编程。Kent 写了一个有问题的泛型方法的显式实现，我想告诉他他做错了。

```
public void Foo<______> (______ buzz) 
{
    buzz.Bar();
} 
```

所以我说：“嘿 Kent，你应该把那个***_***改成MyClass”

有人可以帮我用听起来更聪明的东西代替这个**__吗？**也许是“TargetType”、“ExplicitType”或“thingamagig”？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-09T09:43:31.750

术语是[“泛型类型参数”](http://msdn.microsoft.com/en-us/library/0zk36dx2.aspx)。

> 在泛型类型或方法定义中，类型参数是客户端在实例化泛型类型的变量时指定的特定类型的占位符。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T09:45:44.963

它是一个“通用类型参数”。从[MSDN 介绍到 C# 泛型](http://msdn.microsoft.com/en-us/library/ms379564%28v=vs.80%29.aspx)：

> **什么是泛型**
> 
> 泛型允许您在不影响类型安全、性能或生产力的情况下定义类型安全的类。您只需将服务器作为通用服务器实现一次，同时您可以声明并使用任何类型的服务器。为此，请使用 < 和 > 括号，将泛型类型参数括起来。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T09:45:02.840

它调用[通用类型参数](http://msdn.microsoft.com/en-us/library/0zk36dx2%28v=vs.80%29.aspx)

A**`Generic type parameters`**是客户端在实例化泛型类型的变量时指定的特定类型的占位符。

> .NET 中的泛型允许您重用代码以及为实现它所付出的努力。

```
public void Foo<T> (T buzz) 
{
    buzz.Bar();
} 
```

在上面的示例中，一个 generic `Foo` `of Type "T"`，其中`T`由调用者提供。

# c# - 使用反射从 bin 文件夹加载多个 dll

> ID：14232229
> 
> 赞同：-1
> 
> 时间：2013-01-09T09:42:43.037
> 
> 标签：c#, reflection, dll

我正在编写一个应用程序，其中我需要所有 commandId 的集合。这些存在于多个 dll 中。我可以访问 bin 文件夹。

我使用了反射，并且能够一次为一个 dll 执行此操作

```
Assembly a = System.Reflection.Assembly.LoadFrom(@"T:\Bin\Commands.dll");

IEnumerable<Type> types = Helper.GetLoadableTypes(a);
foreach (Type type in types)
{
    FieldInfo ID = type.GetField("ID");

    if (ID != null)
    {
        string fromValue = (ID.GetRawConstantValue().ToString());

        ListFromCSFiles.Add(fromValue);
    }
} 
```

我的问题是我需要从所有 dll 中获取所有 ID。Bin 文件夹还包含 dll 以外的文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T09:51:10.790

听起来您只需要遍历目录中的 dll。

您还需要确保您没有加载已加载的程序集。

例如：

```
 string bin = "c:\YourBin";

    DirectoryInfo oDirectoryInfo = new DirectoryInfo( bin );

    //Check the directory exists
    if ( oDirectoryInfo.Exists )
    {
       //Foreach Assembly with dll as the extension
       foreach ( FileInfo oFileInfo in oDirectoryInfo.GetFiles( "*.dll", SearchOption.AllDirectories ) )
       {

                        Assembly tempAssembly = null;

                        //Before loading the assembly, check all current loaded assemblies in case talready loaded
                        //has already been loaded as a reference to another assembly
                        //Loading the assembly twice can cause major issues
                        foreach ( Assembly loadedAssembly in AppDomain.CurrentDomain.GetAssemblies() )
                        {
                            //Check the assembly is not dynamically generated as we are not interested in these
                            if ( loadedAssembly.ManifestModule.GetType().Namespace != "System.Reflection.Emit" )
                            {
                                //Get the loaded assembly filename
                                string sLoadedFilename =
                                    loadedAssembly.CodeBase.Substring( loadedAssembly.CodeBase.LastIndexOf( '/' ) + 1 );

                                //If the filenames match, set the assembly to the one that is already loaded
                                if ( sLoadedFilename.ToUpper() == oFileInfo.Name.ToUpper() )
                                {
                                    tempAssembly = loadedAssembly;
                                    break;
                                }
                            }
                        }

                        //If the assembly is not aleady loaded, load it manually
                        if ( tempAssembly == null )
                        {
                            tempAssembly = Assembly.LoadFile( oFileInfo.FullName );
                        }

                        Assembly a = tempAssembly;
       }

     } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:54:29.663

尝试使用`Directory.GetFiles`. 之后，根据[http://msdn.microsoft.com/en-us/library/ms173100.aspx](http://msdn.microsoft.com/en-us/library/ms173100.aspx)确定程序集并为每个程序集使用您的方法。

# c - 写入数据后使用系统转换文件

> ID：14232231
> 
> 赞同：0
> 
> 时间：2013-01-09T09:42:50.763
> 
> 标签：c, file-io

在 C 程序中将文件从 ascii 转换为 ebcdic 时遇到问题。我的程序所做的是

```
1\. open a file for writing and write required data
2\. close the file pointer `fclose(fp)`
3\. using system function convert

cmd="dd infile=oldfile outfile=newfile conv=ebcdic 
```

目前程序执行后，转换后的文件没有任何数据。

```
#define CMD_FORMAT "dd if=%s of=%s conv=ebcdic"
int ascii2ebcdic(char * in, char *out)
{
    char cmd[1000];
    sprintf(cmd,CMD_FORMAT,in,out);
    if(system(cmd) ==0 )
        return 0;
    else
        return 1;
}

int main()
{
    FILE *fp;
    fp=fopen("ascii","w+");
    fprintf(fp,"ASCII data123\n");
    fclose(fp);
    ascii2ebcdic("ascii","ebcdic");
    return 0;
 } 
```

当前文件 ebcdic 没有任何数据（0字节）。当我在 bash 控制台中运行相同的命令时，数据正在被转换。

如果我做错了什么或者我错过了什么，有人可以指出。请不要介意我模糊的描述。

# java - 下载文件时如何在春季动态设置 res.setContentType("application/xls")

> ID：14232233
> 
> 赞同：1
> 
> 时间：2013-01-09T09:42:52.583
> 
> 标签：java, jsp, spring-mvc, download

我想下载服务器本身可用的文件

`AppName\resources\attachemnts\file.extension(this can be anything)`我从网上得到了代码，以下是相同的。

```
@RequestMapping(value = "/fileDownload", method = RequestMethod.GET)
        public void handleFileDownload(@RequestParam("fileLocation") String fileLocation,HttpServletResponse res) {
            try {

                URL url = getClass().getResource(fileLocation);
                File f = new File(url.toURI());
                System.out.println("Loading file "+fileLocation+"("+f.getAbsolutePath()+")");
                if (f.exists()) {
                    res.setContentType("application/xls");
                    res.setContentLength(new Long(f.length()).intValue());
                    res.setHeader("Content-Disposition", "attachment; filename=Test.xls");
                    FileCopyUtils.copy(new FileInputStream(f), res.getOutputStream());
                } else {
                    System.out.println("File"+fileLocation+"("+f.getAbsolutePath()+") does not exist");
                }
            } catch (Exception e) {
                System.out.println(e.getMessage());
            }
        } 
```

我必须设置`res.setContentType("application/xls");`动态，因为文件类型每次都会不同。

如何获取文件类型？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T14:02:57.277

为了确定文件的类型，您可以使用任何检查[文件的魔法数字](http://en.wikipedia.org/wiki/File_format#Magic_number)并返回其文件类型的库。例如：

*   [jMimeMagic](http://sourceforge.net/projects/jmimemagic/)。
*   [哑剧工具](http://sourceforge.net/projects/mime-util/)
*   [阿帕奇蒂卡](http://tika.apache.org/)

另请参阅相关问题：

*   [在 Java 中识别文件类型](https://stackoverflow.com/questions/4583463/identifying-file-type-in-java)
*   [是否有与 unix 中的文件命令等效的 java 库](https://stackoverflow.com/questions/2729038/is-there-a-java-library-equivalent-to-file-command-in-unix)

# frameworks - 进行集成测试java时用于测试框架的webdriver

> ID：14232236
> 
> 赞同：0
> 
> 时间：2013-01-09T09:42:54.497
> 
> 标签：frameworks, webdriver

我是硒学习的新手，我想知道你们在进行集成测试时使用的是哪种。我的意思是，您如何在 Excel 中管理您的测试用例？还是以其他方式？...以及如何以非常直接的方式（如图表）显示您的测试结果？我搜索了一些他们使用ant+Junit+webdriver的文章，还有其他的吗？

谢谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T12:07:46.593

那么Maven-TestNG-WebDriver是创建框架的有效方式之一。[**您可以在此处**](http://www.viaboxxsystems.de/start-your-webtests-with-selenium2-maven-testng-now)找到详细信息。基于此的框架设置已准备好 CI 集成。

另一个不错的选择是 FitNesse，它提供基于 wiki 的测试管理/执行。虽然将其集成到 CI 服务器并不容易。FitNesse 有基于 Web 服务器的 wiki，可以帮助您集中自动化测试套件。**[在此处](http://veera-myseleniumblog.blogspot.in/2012/01/fitnesse-and-selenium.html)**和**[FitNesse 教程](http://fitnesse.org/FrontPage.FitNesseTutorials)**中查看

像 JBehave 这样的 BDD 框架也可以与 selenium 集成。我不会推荐 excel（这对于 Silktest 和 QTP 之类的工具很有用）在文本文件和/或 wiki 上维护它是非常有效和有效的选择。同样，这完全是我的观点，您可能会发现 poi 库比我更有帮助。

# python - Python - 为什么在另一个实例方法中调用此实例方法时不需要括号？

> ID：14232237
> 
> 赞同：3
> 
> 时间：2013-01-09T09:42:55.393
> 
> 标签：python, python-2.7

我知道这是一个菜鸟问题，但我试图弄清楚为什么“self.update_count”在从“create_widget”方法调用时不需要括号。我一直在寻找，但找不到原因。

请帮忙。

```
# Click Counter
# Demonstrates binding an event with an event handler

from Tkinter import *

class Skeleton(Frame):
   """ GUI application which counts button clicks. """
   def __init__(self, master):
       """ Initialize the frame. """
       Frame.__init__(self, master)
       self.grid()
       self.bttn_clicks = 0 # the number of button clicks
       self.create_widget()

   def create_widget(self):
       """ Create button which displays number of clicks. """
       self.bttn = Button(self)
       self.bttn["text"] = "Total Clicks: 0"
       # the command option invokes the method update_count() on click
       self.bttn["command"] = self.update_count
       self.bttn.grid()

   def update_count(self):
       """ Increase click count and display new total. """
       self.bttn_clicks += 1
       self.bttn["text"] = "Total Clicks: "+ str(self.bttn_clicks)

# main root = Tk() root.title("Click Counter") root.geometry("200x50")

app = Skeleton(root)

root.mainloop() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T09:45:28.783

```
self.update_count() 
```

将是对该方法的调用，所以

```
self.bttn["command"] = self.update_count() 
```

将方法的结果存储在`self.bttn`. 然而，

```
self.bttn["command"] = self.update_count 
```

没有括号将*方法本身*存储在`self.bttn`. 在 Python 中，方法和函数是可以传递、存储在变量中等的对象。

作为一个简单的例子，考虑以下程序：

```
def print_decimal(n):
    print(n)

def print_hex(n):
    print(hex(n))

# in Python 2.x, use raw_input
hex_output_wanted = input("do you want hex output? ")

if hex_output_wanted.lower() in ('y', 'yes'):
    printint = print_hex
else:
    printint = print_decimal

# the variable printint now holds a function that can be used to print an integer
printint(42) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T09:47:41.370

This is not a function call but a reference storage inside a dictionary:

```
self.bttn["command"] = self.update_count 
// stores reference to update_count inside self.bttn["command"]
// invokable by self.bttn["command"]() 
```

Most probably the Button object has the capability of calling this method upon certain interaction.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T09:46:56.070

它不是从该方法调用的。它使用对函数的引用，该按钮稍后会在单击时调用该函数。您可以将其视为一个函数的名称，它是对该函数中代码的引用；调用您应用 () 运算符的函数。

# pthreads - 需要关于 pthread 同步的建议/建议（结合使用条件变量和屏障）

> ID：14232240
> 
> 赞同：0
> 
> 时间：2013-01-09T09:43:01.347
> 
> 标签：pthreads, condition-variable, synchronisation, barrier

我有以下情况：

我把一个任务分成几个阶段，每个阶段有几个线程做实际的工作，后期的线程需要等待当前阶段的所有线程完成。

例如：

线程 1、2、3 正在执行第一步中的工作

线程 4、5、6 正在执行第二步中的工作

线程 7、8、9 正在执行第三步……

每个步骤中的线程都是独立的，但它们需要等待上一步中的线程完成。

这是我想要实现的方法：

1.  在当前步骤的每个线程中，等待表示当前步骤是否可以启动的条件
2.  一旦可以开始当前步骤，所有线程都开始工作，并在屏障上等待此步骤中的所有线程完成
3.  此步骤中的所有线程完成后，在下一步线程正在等待的条件变量上广播

这有意义吗？这里有什么明显的错误吗？

我被多线程程序的高级语言结构宠坏了，使用 pthread API 对我来说很痛苦。在这里，我需要一些关于此用例中最佳实践的建议？非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T09:47:48.593

对于对这个问题感兴趣的人。我已经实施了一个可行的解决方案。我认为这应该是*yohjp*评论的典型并行/并发问题：

```
1 "Pipelined" tasks
2 "Join" on each of the stage 
```

我使用了一组 [num_stage] pthread 屏障和一组 [num_stage+1] (pthread_cond_t, pthread_mutex_t) 对。因为在主线程中，它将使用另外一个条件变量来启动。

如果有人想要示例代码，请通过电子邮件与我联系，因为这是一项作业的一部分，我无法将代码发布到 github。

这是我第一个使用原始 pthread api 的非试用多线程程序，相当愉快的体验:)

# android - 如何将会话保存到手机中？

> ID：14232243
> 
> 赞同：2
> 
> 时间：2013-01-09T09:43:05.330
> 
> 标签：android, facebook, session, sharedpreferences

目前，我的会话始终为空，假设捆绑不会为空。

```
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_splash_scene);
    this.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);

    RelativeLayout rLayout = (RelativeLayout) findViewById(R.id.splashbg);
    rLayout.setBackgroundResource(R.drawable.default_bg);

    Settings.addLoggingBehavior(LoggingBehavior.INCLUDE_ACCESS_TOKENS);

    Session session = Session.getActiveSession();

    if (session == null) {
        if (session == null) {
            session = new Session(this);
        }
        Session.setActiveSession(session);
    }

    session = Session.getActiveSession();
    if (session.getState().equals(SessionState.CREATED_TOKEN_LOADED)) {
        session.openForRead(new Session.OpenRequest(SplashScene.this)
                .setCallback(statusCallback));
    } else {
        updateView();
    }
}

@Override
public void onBackPressed() {
    // disable back button by overriding it
}

@Override
public void onStart() {
    super.onStart();
    Session.getActiveSession().addCallback(statusCallback);
}

@Override
public void onStop() {
    super.onStop();
    Session.getActiveSession().removeCallback(statusCallback);
}

@Override
public void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    Session.getActiveSession().onActivityResult(this, requestCode,
            resultCode, data);
}

@Override
protected void onSaveInstanceState(Bundle outState) {
    super.onSaveInstanceState(outState);
    Session session = Session.getActiveSession();
    Session.saveSession(session, outState);
}

private class SessionStatusCallback implements Session.StatusCallback {
    @Override
    public void call(Session session, SessionState state,
            Exception exception) {
        if (session.isOpened()) {
            GlobalFunction.token = session.getAccessToken();
            IsExistMember checkmember = new IsExistMember();
            checkmember.execute();
        }
    }
}

private void updateView() {
    Session session = Session.getActiveSession();
    if (!session.isOpened() && !session.isClosed()
            && session.getState() != SessionState.OPENING) {
        OpenRequest open = new OpenRequest(this)
                .setCallback(statusCallback);
        List<String> permission = new ArrayList<String>();
        permission.add("email");
        open.setPermissions(permission);
        session.openForRead(open.setCallback(statusCallback));
    } else {
        Session.openActiveSession(this, true, statusCallback);
        // Intent intent = new Intent(SplashScene.this, WelcomeScene.class);
        // startActivity(intent);
        // finish();
    }

} 
```

如何将会话保留在手机中，下次运行此应用程序时无需创建新会话。

我正在检查这个会话`Activity`。如果存在，则继续进行其他活动以使用 facebook 登录并将捆绑包保存到手机中。

根据教程，它被教导用 an 做所有事情，`Activity`但我想在不同的`Activity`.

有类似的东西`sharedpreference`，我认为它与 iOS 相同`appdelegate`吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T18:46:48.993

您总是需要创建一个新的会话。但是，如果用户之前已授权您的应用，则 sessionState 将为 CREATED_TOKEN_LOADED，并且当您调用 openForRead 时，没有用户交互（它只是使用保存的凭据静默打开）。

为什么你不想创建一个新的 Session 实例？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:58:35.387

使用`onRestoreInstanceState`和`onSaveInstanceState`回调来存储您的值（状态变量）并在下次启动时恢复它们。

要了解这些是如何工作的，请查看 android 活动生命周期。 [http://developer.android.com/training/basics/activity-lifecycle/recreating.html](http://developer.android.com/training/basics/activity-lifecycle/recreating.html)

# java - 单次后台线程，避免加入？

> ID：14232247
> 
> 赞同：0
> 
> 时间：2013-01-09T09:43:22.560
> 
> 标签：java, multithreading

简单的问题，这段代码是否有效，并且不会留下任何类型的资源泄漏：

```
 // code...
    final int delaySecs = 60;
    new Thread(new Runnable() {
        @Override
        public void run() {
            try {
                Thread.sleep(delaySecs * 1000);
                // code to do whatever delayed single-shot action
            } catch (InterruptedException ex) { /* skip action */ }
        }
    }).start();
    // more code... 
```

如果它无效，我应该使用这样的`Thread`子类来启用`setDaemon(true)`调用：

```
class DaemonThread extends Thread {
    public DaemonThread(Runnable target) {
        super(target);
        setDaemon(true);
    }
} 
```

或者是其他东西？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T10:02:34.307

Java 从 1.5 开始就为您的用例提供了特定的支持，因此最好建议您使用它：

```
ScheduledExecutorService s = Executors.newScheduledThreadPool(1);
s.schedule(new Runnable() { ...my task, no Thread.sleep()... },
   1, TimeUnit.MINUTES);
s.shutdown(); 
```

这将实现适当的延迟并在之后进行清理。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-09T09:45:51.890

为什么不实例化`Thread`, 调用`setDaemon()`它然后调用 via `start()`？我认为您不需要`Thread`子类。

例如

```
Thread t = ...
t.setDaemon(true);
t.start(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T09:58:04.253

最好的方法是将任何应该执行的逻辑包装到 Runnable 中，并将执行留给 ExecutorService。

Executor 将负责停止/重用线程（如果有）

```
MyRunnable runnable = new MyRunnable();
ExecutorService executor = Executors.newFixedThreadPool(1);   
executor.execute(runnable); 
```

这样您就可以将程序逻辑与执行/生命周期管理分开。执行器还能够处理线程中的异常/中断。这将允许您在不打开新线程的情况下重新启动后台逻辑。

# android - 在android中动态添加数据到ListView

> ID：14232258
> 
> 赞同：2
> 
> 时间：2013-01-09T09:43:50.450
> 
> 标签：android, android-listview, listadapter

我有一个已经包含数据列表的列表视图。

我想要实现的是，当我单击其中一个 ListItem 时，我想在单击的项目下方添加另一组数据集。

```
protected void onListItemClick(ListView l, View v, int position, long id) {
    if (position == 0) {
        /* 
         * 
         * want to add another bunch of data just below postion 0!!!
         * 
        */
    }
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-09T09:51:31.827

您可以[将](http://developer.android.com/reference/android/widget/ArrayAdapter.html#insert%28T,%20int%29)数据插入与列表视图一起使用的适配器中，然后`notifyDataSetChanged()`在适配器上调用以更新列表视图。您应该使用 ArrayAdapter（或其子类）能够将对象动态添加到列表视图。

```
((ArrayAdapter)listView.getAdapter()).insert(object, index);
((ArrayAdapter)listView.getAdapter()).notifyDataSetChanged(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T09:51:42.093

看看[ExpandableListView](http://developer.android.com/reference/android/widget/ExpandableListView.html)

[另一个教程](http://androidtrainningcenter.blogspot.be/2012/07/android-expandable-listview-simple.html)

# php - 如何从 php MongoCursor 返回 JSON 数据

> ID：14232261
> 
> 赞同：12
> 
> 时间：2013-01-09T09:43:58.567
> 
> 标签：php, mongodb

我正在使用 PHP 连接 MongoDB。我的代码如下。

```
// connect
$m = new MongoClient($con_string); // connect to a remote host at a given port
$db = $m->main;

$customers = $db->customer->find(); 
```

我想将 $customers 集合作为 json 文档返回到我的 HTML。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-01-09T09:59:36.940

您可以通过以下两种方式执行此操作：

```
echo json_encode(iterator_to_array($customers)); 
```

或者您可以手动滚动浏览它：

```
foreach($customers as $k => $row){
    echo json_encode($row);
} 
```

每个 MongoDB 对象都应该`__toString()`正确实现其方法以恢复值的表示。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-01-09T10:00:04.253

这也将起作用。你也可以自定义你的json。

```
 $arr = array();

    foreach($customers as $c)
    {
        $temp = array("name" => $c["name"], "phone" => $c["phone"], 
                                            "address" => $c["address"]);
        array_push($arr, $temp);
    }

    echo json_encode($arr); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-06-23T07:55:43.977

其他答案有效，但很高兴知道生成的 JSON 将具有以下形式（在此示例中，我为您的客户使用假设的“名称”字段）：

```
{
    "5587d2c3cd8348455b26feab": {
        "_id": {
            "$id": "5587d2c3cd8348455b26feab"
        },
        "name": "Robert"
    },
    "5587d2c3cd8348455b26feac": {
        "_id": {
            "$id": "5587d2c3cd8348455b26feac"
        },
        "name": "John"
    }
} 
```

因此，如果您不希望 Object`_id`成为每个结果对象的键，您可以将`false`参数添加到`iterator_to_array`. 您的代码将是：

```
echo json_encode(iterator_to_array($customers, false), true); 
```

这会产生与

```
$result = Array();
foreach ($customers as $entry) {
    array_push($result, $entry);
}
echo json_encode($result, true); 
```

这是一个 JSON 对象数组

```
[
    {
        "_id": {
            "$id": "5587d2c3cd8348455b26feab"
        },
        "name": "Robert"
    },
    {
        "_id": {
            "$id": "5587d2c3cd8348455b26feac"
        },
        "name": "John"
    }
] 
```

# batch-file - 读取文本文件后更改文件夹名称的批处理代码

> ID：14232263
> 
> 赞同：0
> 
> 时间：2013-01-09T09:44:03.997
> 
> 标签：batch-file, cmd, rename, directory, findstr

这个网站的好人[通过从文本文件中读取行在批量更改文件夹名称时给我这个代码](https://stackoverflow.com/a/14184726/1012053)

```
@echo off
pushd "your root location"  
for /f "tokens=1* delims=:" %%A in (  
'findstr /srbc:"SMTP_Email_Address  *type=SZ  *[^ ][^ ]*@[^ ][^ ]*\.[^ ][^ ]*  *SMTP_Email_Address" filel.txt^|sort /r'  
) do if exist "%%A" for %%F in ("%%A\..") do (  
  for /f "tokens=3" %%N in ("%%B") do ren "%%~fF" "%%N"  
)  
popd 
```

代码完美地找到了这段代码

`SMTP_Email_Address type=SZ name@company.com SMTP_Email_Address`

我想要代码找到这个

```
<SMTP_Email_Address type="SZ">abc@abc.com</SMTP_Email_Address> 
```

**由于这个标志> <“”代码不起作用**

并通过在里面的文本文件中找到的电子邮件更改文件夹名称

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T15:01:59.577

只要相关的 XML 行的格式与您指定的完全一致，则以下内容将起作用。但这是有风险的，因为 XML 的格式可能会改变并且仍然有效，但它会破坏这段代码。批处理不是解析 XML 的好选择，除非您确切知道 XML 的格式。

*编辑 - 这个原始代码大部分工作，但它有两个问题：*

*1）排序操作会导致使用错误的匹配地址行。它应该使用第一个找到的匹配行。*

*2) 脚本可能会尝试重命名根位置。Windows 不允许这样做，因为您的批处理脚本将其当前目录设置为该位置。*

```
@echo off
pushd "your root location"
for /f "tokens=1,3 delims=:<>" %%A in (
  'findstr /srbc:"<SMTP_Email_Address .*>[^ ][^ ]*@[^ ][^ ]*\.[^ ][^ ]*</SMTP_Email_Address>" file1.txt^|sort /r'
) do if exist "%%A" for %%F in ("%%A\..") do ren "%%~fF" "%%B"
popd 
```

*下面的代码已被修复以正确使用第一个匹配的地址行。它也不会尝试重命名根位置。但是，如果任何进程当前依赖于该位置，则其他重命名可能会失败。*

```
@echo off
setlocal
pushd "YourRootLocation"
set "search=<SMTP_Email_Address .*>[^ ][^ ]*@[^ ][^ ]*\.[^ ][^ ]*</SMTP_Email_Address>"
for /f "eol=: delims=" %%A in (
  'findstr /srmbc:"%search%" file1.txt^|sort /r'
) do for /f "tokens=2 delims=<>" %%B in (
  'findstr /rbc:"%search%" "%%A"'
) do if exist "%%A" for %%F in ("%%A\..") do if "%%~fF" neq "%CD%" (
  echo ren "%%~fF" "%%B"
  ren "%%~fF" "%%B"
)
popd 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:04:18.500

我想我理解这个问题。您需要使用插入符号 (^) 转义特殊字符，例如替换

```
"SMTP_Email_Address  *type=SZ  *[^ ][^ ]*@[^ ][^ ]*\.[^ ][^ ]*  *SMTP_Email_Address" 
```

和

```
"^<SMTP_Email_Address  *type=^"SZ^"^>  *[^ ][^ ]*@[^ ][^ ]*\.[^ ][^ ]*  *^<^/SMTP_Email_Address^>" 
```

# sql-server - 将 SQL Server 数据复制到另一个服务器上的另一个数据库

> ID：14232267
> 
> 赞同：0
> 
> 时间：2013-01-09T09:44:25.560
> 
> 标签：sql-server, ssms

我在客户的服务器上安装了 SQL Server 数据库。

我的笔记本电脑上有一个完全相同的数据库模式，使我能够在不在现场时处理事情。

但是，我需要将客户数据库中的实际数据复制到笔记本电脑上的副本中，以便测试一些东西。

最简单的方法是什么？

客户服务器和我的笔记本电脑没有连接（尽管我可以通过 VPN 访问客户的服务器）所以我不相信我可以用 TSQL 做到这一点。

有没有办法从 SSMS 导出然后导入我的笔记本电脑数据库？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T09:48:54.677

`Backaup` your database and then `restore` on another server.

From MSDN:

> **RESTORE** If the database being restored does not exist, the user must have CREATE DATABASE permissions to be able to execute RESTORE. If the database exists, RESTORE permissions default to members of the sysadmin and dbcreator fixed server roles and the owner (dbo) of the database (for the FROM DATABASE_SNAPSHOT option, the database always exists).
> 
> RESTORE permissions are given to roles in which membership information is always readily available to the server. Because fixed database role membership can be checked only when the database is accessible and undamaged, which is not always the case when RESTORE is executed, members of the db_owner fixed database role do not have RESTORE permissions.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:04:51.813

您可以使用`Generate Script`任务：

[http://blog.sqlauthority.com/2009/07/29/sql-server-2008-copy-database-with-data-generate-t-sql-for-inserting-data-from-one-table-to-另一张桌子/](http://blog.sqlauthority.com/2009/07/29/sql-server-2008-copy-database-with-data-generate-t-sql-for-inserting-data-from-one-table-to-another-table/)

您还可以使用以下命令复制所有数据库`Copy Databse`：

[http://www.mssqltips.com/sqlservertip/1792/upgrading-to-sql-server-2008-using-copy-database-wizard/](http://www.mssqltips.com/sqlservertip/1792/upgrading-to-sql-server-2008-using-copy-database-wizard/)

或`Export data`：

[http://blog.winhost.com/exporting-sql-server-data-with-import-and-export-wizard/](http://blog.winhost.com/exporting-sql-server-data-with-import-and-export-wizard/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T09:50:03.663

另一种选择是设置数据复制。[在此处](http://msdn.microsoft.com/en-us/library/ms151198.aspx)查看详细信息

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T09:50:20.407

既然您提到可以通过 VPN 连接，您可以使用 将数据从一台服务器复制到另一台服务器`INSERT INTO...SELECT`，例如

```
INSERT INTO server2.database.dbo.tableName (col1, ..., colN)
SELECT col1, ..., colN
FROM server2.database.dbo.tableNam 
```

或使用`Backup and Restore`SSMS 中的功能

*   [备份和恢复操作方法主题 (SQL Server Management Studio)](http://msdn.microsoft.com/en-us/library/ms189621%28v=sql.100%29.aspx)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-09T09:49:13.727

对于类似的情况，我所做的是将客户数据库脱机（分离），将文件复制到我的笔记本电脑，然后将数据库重新连接回客户服务器。

使用 SSM 并右键单击数据库并单击分离。可以肯定的是，没有人在积极地处理数据库。还要确保您知道 mdf 文件的位置并且可以访问它。分离后，复制文件。然后转到 SSMS，右键单击“数据库”并选择“附加”。再次选择 mdf 文件，您将在客户的服务器上恢复数据库。

您可以将在上述步骤中复制的 mdf 文件附加到您自己的服务器实例中。

另一种方法是在您的笔记本电脑上进行备份和恢复。

# c++ - 拦截双击

> ID：14232269
> 
> 赞同：1
> 
> 时间：2013-01-09T09:44:42.103
> 
> 标签：c++, qt, plugins, qt-creator

我正在为 QtCreator 开发一个插件，我想知道当用户双击项目下导航窗格中列出的文件之一时，我如何拦截双击？
![在此处输入图像描述](../Images/c64c6a56f638b333a1df899b08a9c851.png)

# java - 使用库中的片段（android）

> ID：14232271
> 
> 赞同：3
> 
> 时间：2013-01-09T09:44:41.840
> 
> 标签：java, android, user-interface, fragment

所以我正在构建一个库，我决定在其中将一些基本行为重新组合到一个片段中，这样最终用户就不必重写大量代码来构建一个总是做同样事情的 UI。问题是，如果我的库有资源（布局文件），它将生成一些 .java 文件（如 R.java），我似乎无法将其包含在库中。实际上，当我使用由库项目创建的 .jar 时，我可以访问它的所有功能，但是在尝试为片段充气时它会崩溃，因为它找不到应该包含其布局的 R.java 文件。

所以我一直在做一些研究，但我不知道应该如何将片段的 UI 导入库项目中。我的第一个想法是用纯 Java 代码创建 UI，但这是一个令人难以置信的痛苦......

感谢您的帮助和关注 :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:47:07.427

我的第一条评论我只是想知道您是否开始在最终项目中编写片段并在中途决定将其更改为库项目。忽略那个。

现在回答你的问题：

我可能错了，但我想这与 ActionBarSherlock 是一个项目而不是 .jar 文件的原因相同。

总结起来很简单：通过 R.... 访问的东西必须一起编译。这意味着它不能位于单独的 .jar 中，但如果您将其作为库导入并与最终软件一起编译，它应该可以正常工作。

# ruby-on-rails - HABTM - 未定义的方法

> ID：14232272
> 
> 赞同：0
> 
> 时间：2013-01-09T09:44:44.260
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rails-activerecord

我正在尝试在我的 Rails 应用程序中创建一个简单的书签功能。

这是我的模型：

```
# post.rb
class Post < ActiveRecord::Base
  has_and_belongs_to_many :collections
end

# collection.rb
class Collection < ActiveRecord::Base
  has_and_belongs_to_many :posts
end

# collections_posts.rb
class CollectionsPosts < ActiveRecord::Base
end 
```

`post`现在我正在尝试写一个非常简单的东西 - 在and之间添加一个关系`collection`：

```
post = Post.find(1)
collection = Collection.find(1)
collection.posts << collection 
```

这段代码给了我以下错误：

```
undefined method `posts' for #<ActiveRecord::Relation:0x00000100c81da0> 
```

我不知道为什么没有`posts`方法，因为我有很多以完全相同的方式定义的其他关系并且它们运行良好，尽管它们不是 HABTM。

你能告诉我我的代码有什么问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:16:01.980

我认为你真的可以让你的 collect_post 方法更简单，这样的东西应该可以工作：

```
def collect_post(post, collection_title = 'Favourites')

  # Find a collection by its name
  collection = Collection.find_by_name(title: collection_title) # this will return a collection object and not an ActiveRecord::Relation

  # if there is no such collection, create one!
  if collection.blank?
    collection = Collection.create user: self, title: collection_title
  end

  collection.posts << post

end 
```

请注意，可能有更好的方法可以做到这一点，但它比您最初所做的更短，并且应该修复您的原始错误

# ios - 如何在导航栏上添加 UIView？

> ID：14232273
> 
> 赞同：15
> 
> 时间：2013-01-09T09:44:48.673
> 
> 标签：ios, objective-c, uiview, uinavigationbar

`UINavigationBar`我需要像`UIView`这里一样覆盖

![http://screencast.com/t/ZKXNFcAzVu](../Images/6544bce3b2c8e3ec86676ea06e92b936.png)

除了使用带有按钮的自定义 UIView 作为导航栏之外，有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-04-12T16:21:06.970

您可以将子视图添加到应用程序的基本视图

```
[[[UIApplication sharedApplication] keyWindow] addSubview:vMyCustomUIView]; 
```

为了确保它仅在您的视图控制器可见时显示，您可以在`viewDidAppear`和`viewDidDisappear`委托方法中添加和删除它。这是一个显示与它们重叠的蓝色框的示例。

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view from its nib.    
    vTestView = [[UIView alloc] initWithFrame:CGRectMake(10.0f,
                                                         10.0f,
                                                        100.0f,
                                                        100.0f)];
    vTestView.backgroundColor = [UIColor blueColor];
}

-(void)viewDidAppear:(BOOL)animated
{
    [[[UIApplication sharedApplication] keyWindow] addSubview:vMyCustomUIView];
}
-(void)viewDidDisappear:(BOOL)animated
{
    [vMyCustomUIView removeFromSuperview];
} 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-04-12T16:29:05.447

使用方法：

```
- (void)bringSubviewToFront:(UIView *)view 
```

所以在你的情况下，这将是：

```
[navigationBar addSubview:myRibbon];
[navigationBar bringSubviewToFront:myRibbon]; 
```

也不要忘记，通过这种方式，您的功能区将不会完全显示，除非您这样做：

```
navigationBar.clipsToBounds = NO; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T06:51:00.793

我隐藏 NavigationBar 并添加了 UIView 。它看起来与导航栏相同。然后添加更多带有红色书签的 UIView。除此之外，它还可以单独为触摸书签设置动画。

如果我以这种方式添加书签：[navigationBar addSubview:myRibbon]; 它隐藏在一半大小上

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-01-10T06:42:07.533

这是我的实现方式，希望对您有所帮助..

```
 override func viewWillAppear(_ animated: Bool) {
    let testView = UIView(frame: .zero)
    testView.backgroundColor = .black
    testView.layer.cornerRadius = 10
    testView.translatesAutoresizingMaskIntoConstraints = false
    self.navigationController?.navigationBar.addSubview(testView)
    NSLayoutConstraint.activate([
      testView.widthAnchor
        .constraint(equalToConstant: 50),
      testView.heightAnchor
        .constraint(equalToConstant: 70),
      testView.topAnchor
        .constraint(equalTo: (self.navigationController?.navigationBar.topAnchor)!),
      testView.trailingAnchor
        .constraint(equalTo: (self.navigationController?.navigationBar.trailingAnchor)!, constant: -20)
      ])
    self.customView = testView
  }

  // i dont need to display the overlay in every page
  // so i remove it everytime i navigate to a new page
  override func viewWillDisappear(_ animated: Bool) {
    super.viewWillDisappear(animated)
    self.customView.removeFromSuperview()
  } 
```

[![导航栏覆盖](../Images/2691d2840699c27c7a14fdea03e6005c.png)](https://i.stack.imgur.com/NlgZK.png)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-08-22T20:07:11.533

这是一个 Swift 3 的答案

```
UIApplication.shared.keyWindow?.addSubview(menuView) 
```

# couchdb - Ubuntu 12.0.4 LTS 上的 CouchDB：停止并重新启动

> ID：14232276
> 
> 赞同：14
> 
> 时间：2013-01-09T09:44:56.390
> 
> 标签：couchdb

我正在评估 CouchDB 的特定要求，而且我是 CouchDB 的新手。

我已经使用包安装安装了 Couch DB，它在安装时启动并监听端口 5984。

现在我想停止并重新启动。我尝试了各种选择，但都没有奏效。

选项1

> sudo service couchdb stop （这根本不会停止）
> 
> sudo netstat -lpn 显示一个进程正在监听 5984

选项 2

> sudo -i -u couchdb /etc/init.d/couchdb start

**这是提示输入我不知道的密码（当然）。**

我知道在安装时会创建一个名为 couchdb 的新用户。 **该用户的默认密码是多少？**

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-07-27T11:11:34.093

首先，您只需要重新启动 Ubuntu。如果 CouchDB 在安装后运行，据我所知，它是不可能杀死它的。重新启动后，您可以使用
`sudo service couchdb stop`
然后
`sudo service couchdb start`.

其次，首次安装CouchDB时没有密码，所以我认为它提示您的事实是一个错误。你可以去

```
http://localhost:5984/_utils 
```

然后单击屏幕右下角的“修复此”链接，其中显示“管理员方”，以设置第一个密码。

有关更多信息，请参阅[CouchDB：权威指南](http://guide.couchdb.org/index.html)。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-11-07T05:07:40.800

我遇到了同样的问题，并在 CouchDB 文档中发现[了这一点](http://docs.couchdb.org/en/1.6.1/api/server/common.html#post--_restart "重启 CouchDB 实例")：要重新启动服务器，您必须在`<server>/_restart`以管理员用户身份进行身份验证时对特殊 URL 执行 POST。

卷曲示例：

```
curl -X POST http://localhost:5984/_restart -H"Content-Type: application/json" 
```

**注意：** [CouchDB 2.0+ 不再支持此方法](https://github.com/apache/couchdb/issues/1047)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T14:37:22.003

我认为您必须以 root 身份执行此操作。rc 脚本将根据需要切换到沙发用户

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-07-19T08:55:22.863

**我在/opt/couchdb/etc/local.ini**文件中创建了一个新用户

```
[admins]
;admin = mysecretpassword
myNewUsername = myNewPassword 
```

然后我重新启动了 Ubuntu，回到 Ubuntu 后我运行了：

```
sudo service couchdb stop
sudo service couchdb start 
```

然后我使用以下命令登录了 couchdb：

```
http://localhost:5984/_utils/index.html#login 
```

我使用 mynewusername 和 mynewpassword 登录，然后运行验证安装：

```
http://localhost:5984/_utils/index.html#/verifyinstall 
```

然后它起作用了，但是在我重新启动ubuntu后，local.ini中的密码没有加密。但它在以下位置被加密：

```
http://localhost:5984/_utils/index.html#_config/couchdb@127.0.0.1 
```

我期待它会在文件中被加密

# c - 对 for 循环和字符串常量感到困惑。给一个字符串常量超出它所能容纳的范围。

> ID：14232277
> 
> 赞同：1
> 
> 时间：2013-01-09T09:45:00.500
> 
> 标签：c, linux

我是一个 C 初学者，今天我遇到了一个困扰了我几个小时的问题，我减去了出现问题的子句。

我用`Archlinux(gcc)`.

```
#include <stdio.h>

#define SIZE 10

int main()
{
    char s[SIZE]; 
    int i;
    for (i = 0; i < SIZE; )
        s[i++] = 'm';
    s[i++] = '\n';
    s[i] = '\0';
    printf("%s/D\n", s, i);

    return 0;
} 
```

它工作没有错误。

输出为**mmmmmmmmmm 11**。

删除了一条线。`s[i++] = '\n'`;

```
#include <stdio.h>

#define SIZE 10

int main()
{
    char s[SIZE]; 
    int i;
    for (i = 0; i < SIZE; )
        s[i++] = 'm';
    s[i] = '\0';
    printf("%s %d\n", s, i);

    return 0;
} 
```

“i”变成了0。输出：**mmmmmmmmmm 0**

但是一旦用 Cent OS(gcc) 编译。

“i”没有变成0。

回到`Archlinux`. 我进入了另一行。`int a = i", to reference i;`

```
#include <stdio.h>

#define SIZE 10

int main()
{
    char s[SIZE]; 
    int i;
    for (i = 0; i < SIZE; )
        s[i++] = 'm';
    s[i] = '\0';
    int a = i;
    printf("%s/D\n", s, i);

    return 0;
} 
```

而这一次“i”没有变成0。

我是新手，有大神告诉我这是怎么回事？

如果这只是我犯的一些愚蠢的错误，请告诉我，我将删除该帖子。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T09:47:40.400

C arrays are zero-based so valid indices in your example are [0..SIZE-1]. At the end of your loop, `i==SIZE`. You then write to `s[SIZE]` which is one element beyond the end of your array. This has undefined consequences.

In your test, `&s[SIZE] == &i` so you write to `i` in both cases. In the first case, the ascii value of `'\n'` happens to be what you expected for `i` so you don't notice the bug. In the second case you get luckier, reset `i` to 0 and spot the array overflow.

The fix is to exit your loop one iteration sooner, leaving space for the null terminator in your char array

```
for (i = 0; i < SIZE-1; )
//                  ^^ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:54:05.050

此处数组的 theSize 定义为 10，但在 for 循环结束时，您尝试将其分配在第 11 位，这就是出现这种未定义行为的原因。

```
#include <stdio.h>

#define SIZE 10

int main()
{
    char s[SIZE]; 
    int i;
    for (i = 0; i < SIZE; )
        s[i++] = 'm';
    s[i] = '\0'; // here after end of your loop you are assigning a[10]='\0' that is makin it as undefined behaviour.
    int a = i;
    printf("%s/D\n", s, i);

    return 0;
} 
```

# javascript - 使用 JSON 从 Youtube 获取信息在 FIREFOX 中不起作用

> ID：14232286
> 
> 赞同：0
> 
> 时间：2013-01-09T09:45:28.853
> 
> 标签：javascript, json, youtube, youtube-api

我正在尝试通过`JSON`. 此代码在 Chrome 中运行良好，但在 Firefox 中无法运行。我的代码如下：

```
function test(url){

  var youtube_id = url.replace(/^[^v]+v.(.{11}).*/,"$1");
  var video_id= youtube_id;
    $.get('http://gdata.youtube.com/feeds/api/videos/'+video_id+'?v=2&alt=json', function(data) {
    var title = data.entry.title.$t;
    var description = data.entry.media$group.media$description.$t;
    var thumbnail = data.entry.media$group.media$thumbnail[0].url; // URL of the image

   document.writeln(thumbnail);
   document.writeln(description);// Use these variables somewhere
});
} 
```

在此先感谢 - 任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-16T20:59:15.040

您需要为 ajax 请求指定数据类型，以便它在 Firefox 和 chrome 中工作。Chrome 会自动为您的成功回调解析 JSON，而 firefox 不会。

所以：

```
function test(url){

  var youtube_id = url.replace(/^[^v]+v.(.{11}).*/,"$1");
  var video_id= youtube_id;
    $.get('http://gdata.youtube.com/feeds/api/videos/'+video_id+'?v=2&alt=json', function(data) {
    var title = data.entry.title.$t;
    var description = data.entry.media$group.media$description.$t;
    var thumbnail = data.entry.media$group.media$thumbnail[0].url; // URL of the image

   document.writeln(thumbnail);
   document.writeln(description);// Use these variables somewhere
}, "json");
} 
```

为我工作。

这是一个适用于 chrome 和 firefox 的 jsfiddle：http: [//jsfiddle.net/8dyWr/1](http://jsfiddle.net/8dyWr/1)

和get方法签名：

```
jQuery.get( url [, data ] [, success(data, textStatus, jqXHR) ] [, dataType ] ) 
```

来自：[http ://api.jquery.com/jQuery.get/](http://api.jquery.com/jQuery.get/)

# jquery - 滑块到达最后一个图像时停止

> ID：14232288
> 
> 赞同：1
> 
> 时间：2013-01-09T09:45:32.433
> 
> 标签：jquery

我正在使用`cycle2`插件。在此，我想在滑块到达滑块中的最后一个图像后停止缩略图中的滑块。就像，它在以前的链接中工作。在上一个链接中，当第一张图片显示在浏览器中时，它不会消失。

同样，我想在浏览器中显示的最后一张图像中停止滑块移动。任何人都可以帮忙吗？

请参阅此[小提琴](http://jsfiddle.net/D5UzG/)中的示例。

# c++ - 如何在 C++ 中为同一个类定义不同的类型

> ID：14232293
> 
> 赞同：85
> 
> 时间：2013-01-09T09:45:37.933
> 
> 标签：c++, types

我希望有几种类型共享相同的实现，但在 C++ 中仍然是不同的类型。

为了用一个简单的例子来说明我的问题，我想为 Apples、Oranges 和 Bananas 创建一个类，它们都具有相同的操作和相同的实现。我希望它们具有不同的类型，因为由于类型安全，我想避免错误。

```
class Apple {
     int p;
public:
     Apple (int p) : p(p) {}
     int price () const {return p;}
}

class Banana {
     int p;
public:
     Banana (int p) : p(p) {}
     int price () const {return p;}
}

class Orange ... 
```

为了不重复代码，看起来我可以使用基类 Fruit 并从中继承：

```
class Fruit {
     int p;
public:
     Fruit (int p) : p(p) {}
     int price () const {return p;}
}

class Apple: public Fruit {};
class Banana: public Fruit {};
class Orange: public Fruit {}; 
```

但是，构造函数不是继承的，我必须重写它们。

是否有任何机制（类型定义、模板、继承......）可以让我轻松地拥有具有不同类型的同一个类？

* * *

## 回答 #1

> 赞同：120
> 
> 时间：2013-01-09T09:50:53.817

一种常见的技术是拥有一个类模板，其中模板参数仅用作唯一标记（“标记”）以使其成为唯一类型：

```
template <typename Tag>
class Fruit {
    int p;
public:
    Fruit(int p) : p(p) { }
    int price() const { return p; }
};

using Apple = Fruit<struct AppleTag>;
using Banana = Fruit<struct BananaTag>; 
```

请注意，标记类甚至不需要定义，*声明*一个唯一的类型名称就足够了。这是有效的，因为该标签实际上在模板中的任何地方都*使用过。**您可以在*模板参数列表中声明类型名称（@Xeo 的提示）。

`using`语法是 C++11 。如果你被 C++03 困住，请改写：

```
typedef Fruit<struct AppleTag> Apple; 
```

* * *

如果通用功能占用大量代码，不幸的是，这会在最终可执行文件中引入大量重复代码。这可以通过有一个实现功能的公共基类来防止，然后有一个从它派生的特化（你实际实例化的）。

不幸的是，这需要您重新实现所有不可继承的成员（构造函数、赋值......），这本身会增加一点开销——所以这只对大型类有意义。这里适用于上面的例子：

```
// Actual `Fruit` class remains unchanged, except for template declaration
template <typename Tag, typename = Tag>
class Fruit { /* unchanged */ };

template <typename T>
class Fruit<T, T> : public Fruit<T, void> {
public:
    // Should work but doesn’t on my compiler:
    //using Fruit<T, void>::Fruit;
    Fruit(int p) : Fruit<T, void>(p) { }
};

using Apple = Fruit<struct AppleTag>;
using Banana = Fruit<struct BananaTag>; 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2013-01-09T09:51:57.997

使用模板，并使用每个水果的*特征*，例如：

```
struct AppleTraits
{
  // define apple specific traits (say, static methods, types etc)
  static int colour = 0; 
};

struct OrangeTraits
{
  // define orange specific traits (say, static methods, types etc)
  static int colour = 1; 
};

// etc 
```

然后有一个`Fruit`在这个特征上键入的类，例如。

```
template <typename FruitTrait>
struct Fruit
{
  // All fruit methods...
  // Here return the colour from the traits class..
  int colour() const
  { return FruitTrait::colour; }
};

// Now use a few typedefs
typedef Fruit<AppleTraits> Apple;
typedef Fruit<OrangeTraits> Orange; 
```

可能有点矫枉过正！;)

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2013-01-09T09:49:20.137

*   C++11 将允许构造函数继承：[使用 C++ 基类构造函数？](https://stackoverflow.com/q/8093882/1175253)
*   否则，您可以使用模板来实现相同的目的，例如`template<class Derived> class Fruit;`

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-01-16T07:00:26.940

还有[BOOST_STRONG_TYPEDEF](http://www.boost.org/doc/libs/1_52_0/libs/serialization/doc/strong_typedef.html)。

# android - 如何用flurry计算移动应用用户的平均“杀戮分数”

> ID：14232297
> 
> 赞同：1
> 
> 时间：2013-01-09T09:45:44.780
> 
> 标签：android, ios, mobile, flurry

假设我正在开发一款必须杀死僵尸的手机游戏。我想使用 Flurry Analytics 来跟踪普通用户杀死的僵尸数量。我问是因为我想建立一个应用内购买来允许用户购买更多子弹，但首先我需要知道免费提供多少子弹，这取决于普通用户杀死多少僵尸（我已经知道每个僵尸需要 5 发子弹）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T03:12:16.943

在这种情况下，您可以使用自定义事件来了解用户杀死了多少僵尸。

你知道 Flurry 上的事件吗？请参阅以下链接以获取更多信息-

[http://support.flurry.com/index.php?title=Analytics/GettingStarted/Events](http://support.flurry.com/index.php?title=Analytics/GettingStarted/Events)

您可以设置一个事件“僵尸被杀”

每当用户杀死僵尸时，您基本上都可以调用 logEvent。

一旦你设置了这个事件，Flurry 将报告以下指标 -

1.  平均事件数
2.  每个会话的平均事件
3.  每个用户的平均事件

这有帮助吗？如果您需要更多信息，请通过 support@flurry.com 与我们联系

# javascript - THREE.js - 如何在体积渲染中查看对齐切片？

> ID：14232298
> 
> 赞同：2
> 
> 时间：2013-01-09T09:45:49.243
> 
> 标签：javascript, three.js, webgl

我成功地使用 THREE.js 从平面构建了一个卷堆栈，但是一旦平面与观察平面正交（逻辑上），它们就会隐藏起来。我怎样才能避免这种情况；切片如何视图对齐？JSFiddle[在这里](http://jsfiddle.net/WVTvM/)

```
function init() {
  scene = new THREE.Scene();

  camera = new THREE.PerspectiveCamera( 45, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 1000 );
  camera.position.x = 0;
  camera.position.y = 20;
  camera.position.z = 1000;
  //camera.rotation.x = 45 * (Math.PI / 180);
  scene.add( camera );

  geometry = new THREE.PlaneGeometry(640, 352);

  for ( var i = 34; i <= 511; i ++ ) {
    var texture = THREE.ImageUtils.loadTexture( 'bodyslice/' + i + '.jpg' );
    console.info(texture);
    texture.magFilter = THREE.NearestFilter;
    texture.minFilter = THREE.NearestFilter;

    var material = new THREE.MeshBasicMaterial( { map: texture, opacity: 0.05,             transparent: true, depthTest: false} );
    var plane = new THREE.Mesh(geometry, material);

    plane.position.y = 300 - i;
    plane.rotation.x = 90 * Math.PI / 180;
    plane.doubleSided = true;

    scene.add( plane );
  }

  renderer = new THREE.WebGLRenderer({ antialias: false });
  renderer.setSize( SCREEN_WIDTH, SCREEN_HEIGHT );
  container.appendChild(renderer.domElement);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T13:39:01.370

如果我理解正确，您不能简单地重新对齐切片，因为纹理切片之间的空白空间是......嗯......是空的 - 所以你需要弥补一些纹理数据来填补这个空白。旋转平面会使切片纹理表示的 3D 图像变得一团糟。

一种解决方案是在三个维度上创建切片/纹理/平面（水平切片、垂直切片和深度切片以使其真正起作用）。这样，当您从与一组切片正交的方向查看体积时，您将面对另一组平面。我不知道它是否有帮助，有点难以解释，但如果你考虑二维的代码，你的平面可以被认为是一组平行线。但是你需要一个网格..

其他选择是从纹理数据中提取单个像素，并将它们渲染为 3D 立方体、面向相机的平面，或者可能最有效地渲染为粒子。每个粒子代表一个像素，并从纹理切片中读取颜色。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T14:10:11.797

`side: THREE.DoubleSide`添加有点帮助： [http](http://jsfiddle.net/WVTvM/1/) : //jsfiddle.net/WVTvM/1/

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-08-27T19:00:47.850

通过使用`lookAt()`所有 object3d 实例共享的函数，您可以使用以下代码行将切片作为一个整体对象对齐：

```
volume.lookAt(camera.position); 
```

假设切片和相机的名称分别是卷和相机。

PS您需要将所有切片保留在一组中才能正常工作。

# hadoop - 自定义 InputFormat，hadoop c++ 管道

> ID：14232301
> 
> 赞同：3
> 
> 时间：2013-01-09T09:45:58.790
> 
> 标签：hadoop

我想使用 hadoop c++​​ 管道来创建我的 may/reduce 代码。并且输入数据是二进制的，我想自定义输入格式来控制 getSplits 逻辑......但我不确定这是否是一个可能的解决方案。我尝试在 cli 中分配我的自定义 inputformat 类，但未能运行。

```
../bin/hadoop pipes -conf testframework.xml -input input -output output -inputformat TestInputFormat.class 
```

我得到以下错误：

```
Exception in thread "main" java.lang.ClassNotFoundException: TestInputFormat.class
        at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
        at java.lang.Class.forName0(Native Method)
        at java.lang.Class.forName(Class.java:247)
        at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:812)
        at org.apache.hadoop.mapred.pipes.Submitter.getClass(Submitter.java:372)
        at org.apache.hadoop.mapred.pipes.Submitter.run(Submitter.java:421)
        at org.apache.hadoop.mapred.pipes.Submitter.main(Submitter.java:494) 
```

那有意义吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-18T12:33:05.893

我认为你的问题只是最后的 .class 。但是，如果您已经尝试删除它。你可以试试我为解决这个问题所做的。我打包成一个 .jar ( `jar cf libJar.jar packageName`)。我使用 -libjars 来引用它，并且`-inputformat packageName.TestInputFormat`. 我希望这有帮助。

**编辑 1**

另一种方法是使用`-D mapred.input.format.class=packageName.TestInputFormat`

# c# - 在 sql server 2005、2008、2012 上使用 smo 收集数据库

> ID：14232305
> 
> 赞同：2
> 
> 时间：2013-01-09T09:46:08.957
> 
> 标签：c#, sql-server, smo, database-backups

我正在尝试使用 smo 获取数据库集合，如下所示：

```
var server = GetDatabaseServer();

DatabaseCollection databaseCollection = server.Databases;

foreach (Database database in databaseCollection)
{
    if (String.Equals(database.Name, databseName, 
        StringComparison.OrdinalIgnoreCase))
    {
        if (database.IsSystemObject == false && 
            database.IsMirroringEnabled == false)
        {
            if (IsTimeForBackup(database.LastBackupDate)) 
                Backup(database, server, backupDirectory);
            break;
        }    
    }
} 
```

如果 SqlServer 是 2005 或 2008，这将起作用。如果我尝试连接到 2012 的实例，当我检查 database.IsMirroringEnabled 时出现异常：

指数数组的边界之外。

> 堆栈跟踪是：在 Microsoft.SqlServer.Management.Smo.PropertyCollection.LookupID(String propertyName, PropertyAccessPurpose pap) 在 Microsoft.SqlServer.Management 的 Microsoft.SqlServer.Management.Smo.SqlPropertyMetadataProvider.PropertyNameToIDLookupWithException(String propertyName, PropertyAccessPurpose pap)。 Smo.PropertyCollection.GetValueWithNullReplacement(String propertyName, Boolean throwOnNullValue) 在 Microsoft.SqlServer.Management.Smo.PropertyCollection.GetValueWithNullReplacement(String propertyName) 在 Microsoft.SqlServer.Management.Smo.Database.get_IsSystemObject() 在 RBC.StockManagement.CommunicationService.DatabaseBackup .BackupDatabase(String databseName, String backupDirectory) 在 D:\Work\Trunk\RBC.StockManagement\RBC.StockManagement.CommunicationService\DatabaseBackup.cs:line 85

我要备份的数据库是从 SqlServer 2005 创建的，我的操作系统在 x64 架构上运行。2005（开发者版）、2008（速成版）和2012（速成版）这三个实例都在同一台计算机上。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T10:43:03.920

从[这篇 MSDN 文章](http://msdn.microsoft.com/en-us/library/dd206977.aspx)中可以看出，SQL Server 2012 附带了新的 SMO DLL，如果您尝试使用旧的连接到 2012 实例，它将无法工作。

> 必须删除旧版本 SQL Server 中对 SMO dll 的引用，并且必须包含对 SQL Server 2012 提供的新 SMO dll 的引用。
> 
> 至少，您将参考以下内容：
> 
> *   Microsoft.SqlServer.ConnectionInfo
>     
>     
> *   微软.SqlServer.Smo
>     
>     
> *   Microsoft.SqlServer.Management.Sdk.Sfc

[这篇相关的 Connect 文章](http://connect.microsoft.com/SQLServer/feedback/details/666386)特别提到了您尝试连接的错误 - 所以我猜这是同一个问题。MS在那里说他们不会更新旧的以允许他们连接到2012，所以我想更新到新的SMO DLL是你最好的选择。

来自常规 SO 贡献者 Aaron bertrand：

> 微软关于前向兼容性（不会修复）和后向兼容性（Denali SSMS 将能够管理 2000、2005、2008、2008 R2）的官方立场见此项目： [http ://connect.microsoft.com/SQLServer/feedback /详细信息/622441](http://connect.microsoft.com/SQLServer/feedback/details/622441)

（Denali 是 2012 年发布之前的代号，以防你不知道）。

# java - `BufferedInputStream.available()` 是否可以安全地获取已收到的字节？

> ID：14232306
> 
> 赞同：1
> 
> 时间：2013-01-09T09:46:09.493
> 
> 标签：java, sockets, tcp

我想`BufferedInputStream istream`从`Socket`. 数据首先包含一个字节`n`（8 位无符号整数），然后`n`是包含实际消息的字节（二进制格式，而不是字符串）。所以我写了以下代码（未测试）：

```
public byte[] getNextMessageBytes() throws IOException {
    // Make sure the "length" byte is ready to be read
    if (this.istream.available() < 1) {
        return null;
    }

    // Peek 1 byte
    this.istream.mark(1);
    int length = this.istream.read();

    // -1 == EOF
    if (length < 0) {
        throw new EOFException();
    }

    // reset the marked byte
    this.istream.reset();

    // If all bytes available...
    // NOTE the 'length' byte is still in the stream
    if (this.istream.available() > length) {

        // Peek the bytes...
        this.istream.mark(length + 1);
        // Skips the 'length' byte
        this.istream.skip(1);

        byte[] data = new byte[length];
        int recv = this.istream.read(data, 0, length);
        if (recv == length) {
            this.istream.mark(0);
            return data;
        }
        // -1 == EOF
        if (recv < 0) {
            throw new EOFException();
        }
        this.istream.reset();
    }
    return null;
} 
```

这段代码基本上是先读取长度`n`字节。然后如果`istream.available()`指示可用的全长，它将尝试读取一定数量的字节，如果成功，则返回字节数组。

的[文档`BufferedInputStream.available()`](http://docs.oracle.com/javase/7/docs/api/java/io/BufferedInputStream.html#available%28%29)：

> 返回可以从此输入流中读取（或跳过）的字节数的*估计值*，而不会被下一次调用此输入流的方法*阻塞。*下一次调用可能是同一个线程或另一个线程。单次读取或跳过这么多字节不会阻塞，但可能会读取或跳过更少的字节。

“可以不阻塞地读取的字节”可以解释为“套接字已经接收到的字节”吗？实际上会`istream.available()`返回比已经接收到的数据**少的**数字（即一些尚未发送到缓冲区的数据）？

或者启动一个线程来继续阻塞读取并将消息推送到队列/列表/向量/数组列表/其他任何东西实际上是一个更好的主意吗？（需要同步）

我的应用程序需要是实时的（充其量，但毫秒级的延迟作为娱乐程序基本上是可以接受的），所以我很担心。该程序大多不完整，所以我还不能尝试。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T23:13:46.813

> “可以不阻塞地读取的字节”可以解释为“套接字已经接收到的字节”吗？

那是它可以被解释的*唯一方式。*

> istream.available() 实际上会返回比已经接收到的数据更少的数字（即一些尚未发送到缓冲区的数据）吗？

即使是待处理的数据，它也可以返回从零开始的任何内容。在 SSLSockets 上，它总是返回零。

但是，您不需要调用它，也不需要所有复杂的代码。只需在阻塞模式下读取流，并使用多个线程。

# jpa - java.lang.NoSuchMethodError: javax.persistence.EntityManager.getMetamodel()

> ID：14232307
> 
> 赞同：0
> 
> 时间：2013-01-09T09:46:15.187
> 
> 标签：jpa, glassfish, openxava

如何使用带有 Glassfish 2.2 的 OpenXava 4.6 修复此错误：

```
javax.servlet.ServletException: java.lang.NoSuchMethodError: javax.persistence.EntityManager.getMetamodel()Ljavax/persistence/metamodel/Metamodel 
```

尝试从浏览器访问我的测试模块时出现此错误。

```
http://localhost:8080/testmod/xava/module.jsp?application=testmod&module=test 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T10:20:53.380

在我的情况下，使用带有 glassfishESBv22 的 openxava 4.6 给了我错误 java.lang.NoSuchMethodError: javax.persistence.EntityManager.getMetamodel... 所以当我将服务器更改为使用 OX4.6 的默认 tomcat 捆绑包时，它工作正常。这意味着这是 glassfish 服务器的问题...最后我使用了最新的 glassfish 服务器 v3.1.2，它也运行良好。所以问题解决了......只有将服务器更改为最新的才是解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T13:12:19.520

OpenXava 4.6 使用 JPA2，而您正在使用的应用程序服务器使用 JPA1。如果您需要使用旧的应用程序服务器，您可以配置类加载器，以便使用 JPA 引擎包含您的 OpenXava 应用程序。

# silverlight-4.0 - 子窗口内容中的页面

> ID：14232313
> 
> 赞同：0
> 
> 时间：2013-01-09T09:46:43.210
> 
> 标签：silverlight-4.0, childwindow

我是 Silverlight 及其控件的新蜜蜂，目前我正在对子窗口进行实验，所以目前这是我的场景，我通过在我的项目中添加一个子窗口项来创建一个子窗口，为了使用它我创建了一个像下面这样的对象

```
ChildWindow1 obj_ChildWindow1 = new ChildWindow1() 
```

通常我们分配我们在相应子窗口中创建的内容，但我通过创建一个新的 xaml 页面来将不同的 xaml 页面附加到其内容，如下所示

```
Page2 obj_page2 = new Page2();
obj_ChildWindow1.Content = obj_page2 
```

因此，我在 Childwindow 中存在的 page2 上所做的任何控制和功能，直到现在一切都按照我的猜测正常工作，但是如何在 page2 中触发某些事件后关闭子窗口，如何去做？

第二点是如何设置 Page2 相对于 ChildWindow 的大小

提前致谢.......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:17:49.797

得到了答案，但我认为这不是正确的方法，我发送了 childwindow 的对象，我在 page2 的构造函数中收到了它，然后使用它关闭了 Childwindow

# android - 尝试在android中解析xml文件时出现ResourceNotFoundException

> ID：14232315
> 
> 赞同：0
> 
> 时间：2013-01-09T09:46:48.217
> 
> 标签：android, android-resources

我正在尝试解析 xml 文件并从中提取数据以显示在我的 android 应用程序中。xml文件如下：

```
<?xml version="1.0" encoding="UTF-8"?>
<record>
<study id="1">
    <topic>SAX Parser</topic>
    <content>Learn how to parse XML using SAXParser</content>
    <author>Pete Houston</author>
    <date>02-Oct-2011</date>
</study> 
```

该文件存储在 res/raw 文件夹中。android 活动调用一个函数，该函数试图读取 xml 文件并对其进行解析以检索数据，然后将其存储到 Study 类型的对象（由我定义）中。然后该对象由函数返回。

我的代码的骨架结构如下：

```
public class XmlParserActivity extends Activity {
Study study=null;
protected void onCreate(Bundle savedInstanceState) {
//...android code and some variable initializations
    try{
    study = parseXml(getResources().openRawResource(R.raw.record));
    }catch(Exception e){
        e.printStackTrace();
        finish();
    }
}
public Study parseXml(InputStream is){
    //code for parsing the input stream
    return study;
} 
```

当我在模拟器中启动应用程序时，它会崩溃并产生 android.content.res.ResourcesNotFoundException。我访问 xml 文件的方式有问题吗？还是我需要在 AndroidManifest.xml 文件中设置一些权限？我已经搜索了这个站点和其他站点，但没有找到一个令人满意的解决我的问题的方法。任何指导将不胜感激。

日志信息：

```
01-09 15:49:55.801: I/Process(1152): Sending signal. PID: 1152 SIG: 9
01-09 15:50:04.174: E/Trace(1198): error opening trace file: No such file or directory(2)
01-09 15:50:04.992: W/ResourceType(1198): No package identifier when getting value for resource number 0x00000001
01-09 15:50:05.002: D/AndroidRuntime(1198): Shutting down VM
01-09 15:50:05.002: W/dalvikvm(1198): threadid=1: thread exiting with uncaught exception (group=0x40a13300)
01-09 15:50:05.012: E/AndroidRuntime(1198): FATAL EXCEPTION: main
01-09 15:50:05.012: E/AndroidRuntime(1198): java.lang.RuntimeException: Unable to start activity   ComponentInfo{com.example.androidxmlparser/com.example.androidxmlparser.XmlParserActivity}: android.content.res.Resources$NotFoundException: String resource ID #0x1
01-09 15:50:05.012: E/AndroidRuntime(1198):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059)
01-09 15:50:05.012: E/AndroidRuntime(1198):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
01-09 15:50:05.012: E/AndroidRuntime(1198):     at android.app.ActivityThread.access$600(ActivityThread.java:130)
01-09 15:50:05.012: E/AndroidRuntime(1198):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
01-09 15:50:05.012: E/AndroidRuntime(1198):     at android.os.Handler.dispatchMessage(Handler.java:99)
01-09 15:50:05.012: E/AndroidRuntime(1198):     at android.os.Looper.loop(Looper.java:137)
01-09 15:50:05.012: E/AndroidRuntime(1198):     at android.app.ActivityThread.main(ActivityThread.java:4745)
01-09 15:50:05.012: E/AndroidRuntime(1198):     at java.lang.reflect.Method.invokeNative(Native Method)
01-09 15:50:05.012: E/AndroidRuntime(1198):     at java.lang.reflect.Method.invoke(Method.java:511)
01-09 15:50:05.012: E/AndroidRuntime(1198):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
01-09 15:50:05.012: E/AndroidRuntime(1198):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
01-09 15:50:05.012: E/AndroidRuntime(1198):     at dalvik.system.NativeStart.main(Native Method)
01-09 15:50:05.012: E/AndroidRuntime(1198): Caused by: android.content.res.Resources$NotFoundException: String resource ID #0x1
01-09 15:50:05.012: E/AndroidRuntime(1198):     at android.content.res.Resources.getText(Resources.java:229)
01-09 15:50:05.012: E/AndroidRuntime(1198):     at android.widget.TextView.setText(TextView.java:3620)
01-09 15:50:05.012: E/AndroidRuntime(1198):     at com.example.androidxmlparser.XmlParserActivity.onCreate(XmlParserActivity.java:34)
01-09 15:50:05.012: E/AndroidRuntime(1198):     at android.app.Activity.performCreate(Activity.java:5008)
01-09 15:50:05.012: E/AndroidRuntime(1198):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
01-09 15:50:05.012: E/AndroidRuntime(1198):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)
01-09 15:50:05.012: E/AndroidRuntime(1198):     ... 11 more 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:48:05.800

您正在尝试访问无法找到的字符串资源。

正如马特泰勒建议的那样，您应该检查活动的第 34 行，并找出哪个字符串资源是错误的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:51:56.777

除了提琴手对您的问题的评论之外，我刚刚看到了我认为的问题：

您的 xml 文件只需要包含：

```
<study id="1">
    <topic>SAX Parser</topic>
    <content>Learn how to parse XML using SAXParser</content>
    <author>Pete Houston</author>
    <date>02-Oct-2011</date>
</study> 
```

您可以使用以下方式访问它： `getResources().openRawResource(R.raw.<xml file name (without.xml)>);`

例如，如果它被调用`xmldata.xml`，你会使用`R.raw.xmldata`

# html - 在视差滚动布局上使用模式框时隐藏覆盖

> ID：14232316
> 
> 赞同：3
> 
> 时间：2013-01-09T09:46:48.420
> 
> 标签：html, css, z-index, css-transitions, parallax

我正在设计一个同时使用视差滚动和模态框的网站。当您打开其中一个模式框时，我使用 jQuery 和 CSS 向弹出窗口的 DIV 元素添加一个类，使其不透明度从 0 变为 100；我正在使用过渡使这看起来很漂亮。当您关闭该框时，jQuery 会剥离该类以将不透明度设置回 0。

为了使模态框更具可读性，我在它们后面放置了一个覆盖层（实际上是一个包含 DIV），它使用 100% 的宽度和高度覆盖屏幕其余部分的透明度。当盒子打开时，我也使用相同的技巧将它的不透明度从 0 变为 100，反之亦然。

问题在于，即使在不透明度为 0 时，叠加层仍然在某些屏幕“上方”，呈现链接和文本可查看但不可选择。当要隐藏叠加层时，我尝试将 Z-Index 设置为 0 和 -1，但是因为视差滚动（我使用的是自定义版本的 SCRN 模板，供参考[http://rodrigob.com /themes/scrn/](http://rodrigob.com/themes/scrn/) ) 使用相对、固定和绝对定位，Z-Index 仅适用于某些站点。

作为一种解决方法，使用 Visibility:Hidden 设置覆盖的样式（与 Display:None 一样，但出于可访问性的原因我想避免这种情况），但这不能通过转换来管理，所以当模式关闭时，它就会消失而不是很好地淡出。

有没有办法解决？我认为在从 100 不透明度过渡到 0*之后*将可见性设置为隐藏会起作用，但我不知道如何做到这一点，如果它甚至可以做到的话。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-15T15:31:00.557

用于`setTimeout`在叠加层出现后启动动画，在动画结束后隐藏叠加层

显示覆盖：

```
// show the overlay (in whatever manner you like) BEFORE the animation starts
// opacity is 0
$('#overlay').show();
setTimeout(function() {
  // fade in the opacity AFTER the overlay is there
  $('#overlay').addClass('opaque');
}, 0); 
```

隐藏覆盖：

```
// fade out the opacity BEFORE the overlay goes away
$('#overlay').removeClass('opaque');
setTimeout(function() {
  // hide the overlay (in whatever manner you like) AFTER the animation is done
  // opacity is 0
  $('#overlay').hide();
}, 250); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T15:12:43.397

在叠加层上设置“不透明度：100”或“可见性：隐藏”实际上并没有删除叠加层。你想要做的是删除元素。

从概念上讲，覆盖仍然存在。它就像你的内容上方的玻璃，你可以看到但你不能触摸，隐形的覆盖玻璃仍然存在。[这就像用windex](http://www.youtube.com/watch?v=iqKS-hkhhh4&feature=youtu.be&t=16s)清洗过的超透明玻璃窗 那个家伙是用户试图点击覆盖下方的那些链接。

您想要做的是从 DOM 中删除元素或在转换后将其设置为“显示：无”。

我将使用的跨浏览器的最佳解决方案是在动画之后设置 display: none 。

```
$(".overlay").animate({"opacity": "0"}, function(){
    $(this).hide();
    // OR REMOVE it
    // $(this).remove();
}); 
```

就我个人而言，我喜欢将我的模态包装在一个容器中，并给它一个固定的位置，然后将容器与隐藏的模态内容一起移除，但这就是我。

我也喜欢 jeffery 的花哨的 css 过渡结束方法，如果你想喜欢 css3，但需要注意的是你可能必须检测你必须听哪个供应商前缀。

**以下是供应商前缀的过渡结束：**

```
var transitionEnd = {
  'WebkitTransition' : 'webkitTransitionEnd'
  ,  'MozTransition'    : 'transitionend'
  ,  'OTransition'      : 'oTransitionEnd'
  ,  'msTransition'     : 'transitionend'
  ,  'transition'       : 'transitionend'
} 
```

*您必须编写一些东西来检测哪个与用户相关。*

```
$(".overlay").on(transitionEnd, function() {
    $(this).hide();
    // OR REMOVE it
    // $(this).remove();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-21T21:36:21.693

我认为您可以使用 z-index，并且您无需寻找解决方法。您可能唯一需要的是将布局放在 DOM 树的更高位置。不看你的代码很难说，但如果你可以去类似的东西

```
<body>
    <div id="everyting-else">
       ...
    </div>
    <div id="overlay"/>
</body> 
```

然后给#everyting-else 2 的z-index 和#overlay 1 的z-index，这应该适用于“everything-else”的内容，因为它们处于不同的堆叠上下文中。

是否在 div 内使用“相对、固定和绝对定位”都没关系

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T12:29:29.813

jQuery 的函数 animate 接受一个回调函数，该函数在动画完成时执行。例子：

```
$('.overlay').animate({
    opacity: 0
}, 300 /* animation duration in ms */, function () {
    // This will execute when the animation is complete
    $(this).css({
        visibility: 'hidden'
    });
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-16T10:29:42.157

您可以在不透明度转换之后侦听要设置的[转换结束](https://stackoverflow.com/a/2794186/311572)事件。`visibility: hidden`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-16T14:55:54.847

仅`opacity`将元素放在无法定位的上下文中，`z-index`因为该元素必须与布局中的其他元素混合（[W3C](http://www.w3.org/TR/css3-color/#transparency)）。

进一步考虑的是，只有`opacity`or的元素`visibility`不会从布局流中提取，因此即使不可见，它们仍然占据其位置和大小，这将防止到达不可见元素下面的每个元素（禁止点击，按钮不可点击，等等）。

要解决您的问题，您需要设置`display`为`none`. 这样，元素将是不可见的，并且不再占用布局流中的空间。

# ember.js - Ember-Router：从递归路径动态创建状态

> ID：14232322
> 
> 赞同：4
> 
> 时间：2013-01-09T09:47:04.103
> 
> 标签：ember.js, ember-router

我需要一种让 ember 路由器路由到递归路径的方法。

```
For Example:
/:module
/:module/:submodule
/:module/:submodule/:submodule
/:module/:submodule/:submodule/... 
```

这可以用 Embers 路由器完成吗？如果可以，怎么做？

我一直在寻找例子，撕开源头，我几乎得出了结论，这是不可能的。

在上一个问题中，有人向我指出了一种手动获取 url 并将其拆分的方法，但我一直坚持创建路由器解析的状态。

截至目前，在我的项目中，我目前只使用 Ember.HashLocation 来设置我自己的状态管理器。

之所以需要这样做，是因为模块定义存储在数据库中，并且可以在任何给定点递归地添加子模块的子模块。所以我试图让应用程序引擎处理更改。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T13:52:52.407

您在数据库中的子模块是否没有唯一 ID？在我看来，与其在路径中表示您的层次结构，不如直接转到适当的模块或子模块。当然层次结构仍然在您的数据模型中，但它不应该*在*您的路由方案中表示。只需使用：

```
/module/:moduleId
/submodule/:submoduleId 
```

并且不要对路线中的层次结构进行编码。我知道这样做可能很自然，但可能没有技术原因。

如果您的子模块*没有*唯一 ID，则可能会更难一些...您可以通过将祖先 ID 连接在一起（例如，使用下划线）来构建唯一 ID，这类似于拆分 URL，但可能更简洁一些. 我会说 Ember/Ember Data 似乎不太容易与具有复合键的实体一起使用——如果一切都有一个简单的数字键，一切都会变得更容易（任何想与我争论的人，请向我解释如何！）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:50:52.957

你的意思是这样的：

```
App.Router.map(function(match) {
  match('/posts').to('blogPosts');
  match('/posts/:blog_post_id').to('showBlogPost');
}); 
```

# android - Android 在某些设备中发送捕获的图像会旋转 90 度

> ID：14232328
> 
> 赞同：3
> 
> 时间：2013-01-09T09:47:36.440
> 
> 标签：android, android-intent, android-camera, android-image, android-camera-intent

我正在开发一个 Android 应用程序。在我的应用程序中，我必须捕获图像并将该图像发送到服务器。在某些设备中，捕获的图像以 90 度旋转发布在服务器中。我在 stackoverflow 和其他一些网站上搜索了修复。我得到了解决方案..我全部使用了例如：

```
Uri selectedImage = data.getData();

File imageFile = new File(selectedImage.toString());
ExifInterface exif;
try {
exif = new ExifInterface(imageFile.getAbsolutePath());

int orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_NORMAL);

switch(orientation) {
case ExifInterface.ORIENTATION_ROTATE_90:

rotate=90;

    break;
    case ExifInterface.ORIENTATION_ROTATE_180:

    rotate=180;
 break;
            } 
```

但不幸的是，我总是在每个设备中都得到方向 0。即使在 90 度旋转的图像设备中。

请帮助解决我的问题的朋友。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:44:46.140

你用：

```
int orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_NORMAL); 
```

因此，您发送 defaultValue ExifInterface.ORIENTATION_NORMAL。也许您的 exif 没有属性 TAG_ORIENTATION（或 ORIENTATION_UNDEFINED）并且您获得了默认值？

尝试：

```
int orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, -1); 
```

看看你得到了什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T07:19:38.090

我使用以下代码解决了我的问题。

```
private int getImageOrientation(){
    final String[] imageColumns = { MediaStore.Images.Media._ID, MediaStore.Images.ImageColumns.ORIENTATION };
    final String imageOrderBy = MediaStore.Images.Media._ID+" DESC";
    Cursor cursor = getContentResolver().query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,
            imageColumns, null, null, imageOrderBy);

    if(cursor.moveToFirst()){
        int orientation = cursor.getInt(cursor.getColumnIndex(MediaStore.Images.ImageColumns.ORIENTATION));
        rotate=orientation;
        System.out.println("orientation==="+orientation);
        cursor.close();
        return orientation;
    } else {
        return 0;
    }
} 
```

谢谢亲爱的朋友们的回复...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-02-03T05:12:08.323

请检查您的图像是否以 270 度旋转，将其添加到您的 switch 语句中

```
switch(orientation) 
{
case ExifInterface.ORIENTATION_ROTATE_90:
rotate=90;

break;
case ExifInterface.ORIENTATION_ROTATE_180:

rotate=180;
break;
case ExifInterface.ORIENTATION_ROTATE_270:

rotate=270;
break;
} 
```

# delphi - 使用自定义组件

> ID：14232329
> 
> 赞同：1
> 
> 时间：2013-01-09T09:47:37.937
> 
> 标签：delphi, components, custom-component, delphi-xe3, world-of-warcraft

我正在制作一个与魔兽世界有关的应用程序。保持简短；你可以选择赋予你特定技能的天赋，在我的应用程序中我添加了一个天赋计算器。在这里你可以挑选天赋，每个天赋都有描述。与所有法术和物品一样，这会在工具提示中显示。例如，请查看[此处](http://eu.battle.net/wow/en/tool/talent-calculator#d!)并将鼠标悬停在其中一个人才上。

所以我也想制作这些工具提示。为此，我按照 2 个指南创建了一个自定义组件

[指南1在这里](http://www.delphidabbler.com/tips/74)

[指南2在这里](http://delphi.about.com/library/bluc/text/uc080701a.htm)

现在我根据面板制作了我的组件。制作了一个软件包并安装了它，一切正常。它还在设计时显示在组件列表中。然后我将它拖到我的表单上，它会自动包含在用途中......当我尝试运行/构建/编译我的应用程序时，我收到一个错误，它说： `Cannot resolve unit name 'Tooltip'` 我不知道如何解决这个问题。

有很多教程向您展示如何制作自定义组件，但没有一个涉及这个问题。难道我做错了什么？

任何建议都将非常受欢迎:)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T16:15:16.727

您必须设置通用`library path`和`search path`.

从 IDE 菜单打开`Tools\Options`

步行至`Environment Options\Delphi Options\Library`

1.  编辑`Library Path`并添加包含组件编译库（`.dcu`文件）的路径**或**包含组件源文件的路径

2.  编辑`Search Path`并添加包含组件源文件的路径（这是可选的，但在调试时很有用）

您必须对将使用您的组件的所有平台重复这些步骤。但是如果你把它`library path`放到编译的库中，你必须确保`.dcu`平台的正确性。

# php - laravel 多对多获取数据

> ID：14232332
> 
> 赞同：0
> 
> 时间：2013-01-09T09:47:43.640
> 
> 标签：php, laravel

我正在尝试使用多对多关系根据用户角色构建菜单。laravel 是我的第一个 php 框架，我正面临这个问题

```
Unhandled Exception

Message:

SQLSTATE[42S22]: Column not found: 1054 Unknown column 'user_role.created_at' in 'field list'

SQL: SELECT `roles`.*, `user_role`.`id` AS `pivot_id`, `user_role`.`created_at` AS `pivot_created_at`, `user_role`.`updated_at` AS `pivot_updated_at`, `user_role`.`user_id` AS `pivot_user_id`, `user_role`.`role_id` AS `pivot_role_id` FROM `roles` INNER JOIN `user_role` ON `roles`.`id` = `user_role`.`role_id` WHERE `user_role`.`user_id` = ?

Bindings: array (
  0 => 1,
) 
```

**用户迁移：**

```
<?php
class Users {

public function up()
{
    Schema::create('users', function($table){
        $table->engine = 'InnoDB';
        $table->increments('id');
        $table->string('username', 128);
        $table->string('password', 128);
        $table->string('firstname', 128);
        $table->string('lastname', 128);
        $table->date('dob');
        $table->string('phone')->nullable();
        $table->text('image')->nullable();
        $table->timestamps();
    });

    DB::table('users')->insert(array(
        'username' => 'admin',
        'password' => Hash::make('admin'),
        'firstname' => 'asdf',
        'lastname' => 'zxcv',
        'dob' => '1990-02-23',
        'phone' => '935735367'
    ));

}

function down()
{
    Schema::drop('users');
}

} 
```

**角色迁移：**

```
<?php

class Role {

    public function up()
    {
        Schema::create('roles', function($table){
            $table->engine = 'InnoDB';
            $table->increments('id');
            $table->string('lable', 60);
            $table->string('url', 128)->default("#");
            $table->integer('parent')->default("0");
            $table->integer('level')->default("0");
            $table->integer('sort')->default("0");
            $table->integer('published')->default("0");
        });

    }

    public function down()
    {
        Schema::drop('roles');
    }

} 
```

**角色用户**

```
<?php

class Access {

    public function up()
    {
        Schema::create('role_user', function($table){
            $table->engine = 'InnoDB';
            $table->increments('id');
            $table->integer('user_id')->unsigned();
            $table->integer('role_id')->unsigned();
            $table->foreign('user_id')->references('id')->on('users');
            $table->foreign('role_id')->references('id')->on('roles');
        });

    }

    public function down()
    {
        Schema::drop('role_user');
    }

} 
```

**用户模型：**

```
<?php 
class User extends Basemodel{
    public static $table = 'users';
    public static $timestamps = true;
    public static $rules = array(
        'username' => 'required|min:3|alpha',
        'password' => 'required|min:3|alpha'
    );

    public function roles()
    {
        return $this->has_many_and_belongs_to('Role');
    }

    public static function menu(){
        $roles = User::find(1)->roles()->get();
        return $roles;
    }
} 
```

**好榜样**

```
<?php 
class Role extends Eloquent{
    public static $table = 'roles';

} 
```

**控制器：**

```
<?php

class Home_Controller extends Base_Controller {
public $restful= true;

public function get_index()
{
    return View::make('home.index')
        ->with('title','App Index')
        ->with('menu',User::menu());
} 
```

有人可以指导我该怎么做吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T10:50:10.193

乍一看，表中缺少时间戳列`user_role`。如果添加两列；`created_at`并`updated_at`放在桌子上并将它们设置为`datetime`它应该为您解决它！

同样从外观上看，您的`roles`表也没有上述这些时间戳。您应该添加这些或`public static variable`在`Role`模型中设置 a 以声明它们不存在。你可以通过写来做到这一点`public static $timestamps = false`

# java - How should I override the equals method of an API class?

> ID：14232333
> 
> 赞同：1
> 
> 时间：2013-01-09T09:47:46.130
> 
> 标签：java, overriding, wrapper

I am using the Vector2 class of the libGDX API, and if I want to check the equality of two vectors I have to do the following:

```
Vector2 vectA = new Vector2(0, 1);
Vector2 vectB = new Vector2(1, 1);

if (vectA.x == vectB.x && vectA.y == vectB.y) {
   return true;
} 
```

This is very uncomfortable and I am thinking about creating an equals() method for this scenario. Which should be the better to do:

1.  Creating a wrapper for the Vector2 class with an equals(Vector2) method
2.  Creating an EqualUtil class with an equals(Vector2, Vector2) method

The first would look better (in my opinion), but it may not be a 'nice' solution while the other is much cleaner but also a bit simplistic. Different ideas also welcome.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T09:50:13.367

是的你应该。

在我看来，最好创建一个 Wrapper（并且您还应该覆盖`hashCode()`以匹配新行为）。

这样做不仅会产生更具可读性的代码，而且还允许您使用集合，例如 a[`HashSet`](http://docs.oracle.com/javase/6/docs/api/java/util/HashSet.html)或其他依赖于`equals()`行为的方法。

这在逻辑上也很有意义，因为您正在尝试创建一个提供特定对象数据的方法 - 有什么更好的方法来显示它而不是作为*实例方法*来做呢？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T09:58:01.760

我将继续，覆盖类中的方法`equals()`和方法。`hashCode()``Vector2`

来自 Joshua Bloch**项目 -9**

> 覆盖 equals 时始终覆盖 hashCode

编辑：

向下滚动到第 45 [页 第 45 页：Item-9](http://books.google.co.in/books?id=Ft8t0S4VjmwC&printsec=frontcover&dq=effective%20java&hl=en&sa=X&ei=bj_tUMynCImnrAfrvIDgCA&ved=0CD0Q6AEwAA#v=snippet&q=equals&f=false)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T10:39:46.727

```
public interface CheckObject(){

  public abstract boolean and(CheckObject checkobject);
}

public abstract class AbstractObject()
    implements CheckObject
{

    public AbstractObject()
    {
    }

public abstract boolean and(CheckObject checkobject);
 protected void beforeObjectChecked(Object obj)
        throws IllegalArgumentException
    {
    }

public class EqualUtil extends AbstractObject {

private int point1;
private int point2;
}
protected EqualUtil(int point1,int point2){

this.point1=point1;
this.point1=point2;
}
public  boolean and(CheckObject checkobject){
    beforeObjectChecked(checkobject);
    return(this.getPoint1()==checkobject.getpoint1() && this.getPoint2()==checkobject.getpoint2()));

}

public int getPoint1() {
    return point1;
}

public void setPoint1(int point1) {
    this.point1 = point1;
}

public int getPoint2() {
    return point2;
}

public void setPoint2(int point2) {
    this.point2 = point2;
} 
```

现在您可以从主类中使用它

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T09:55:56.663

当原始设计者出于某种原因没有包含新行为时，Wrapper 是一种很好且易于理解的方式来添加新行为。鉴于原始 API 类只使用 java.lang.object equals 方法，创建包装器对我来说似乎是一个明智的选择。

# jquery - widgetVar 不能在 p:fileUpload 中使用

> ID：14232334
> 
> 赞同：3
> 
> 时间：2013-01-09T09:47:47.687
> 
> 标签：jquery, file-upload, jsf-2, primefaces, widget

我想在选择错误类型的文件时删除错误消息。我点击了链接[http://forum.primefaces.org/viewtopic.php?f=3&t=23853](http://forum.primefaces.org/viewtopic.php?f=3&t=23853)。

```
<p:fileUpload fileUploadListener="#{userProfileUpdateController.upload}"         
    widgetVar="fileuplaodWgt"                     
    allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
    description="Select Images"
    update="userPhoto"
    mode="advanced"/> 
```

我进口`<h:outputScript name="library.js" library="script"></h:outputScript>`

在 library.js 中

```
$(document).ready(function(){
   alert(fileuplaodWgt);
   fileuplaodWgt.buttonBar.find("button.cancel").bind("click", function(e){
   clearInvalidFileMsg();
    });
});

function clearInvalidFileMsg(){
    fileuplaodWgt.uploadContent.find("tr.ui-state-error").remove();
 } 
```

在上面写完之后，我的页面中没有显示文件上传。当我跟踪我的 library.js 文件时，我发现**fileuplaodWgt ReferenceError: fileuplaodWgt is not defined**。我在 Mozilla 和 chrome 中尝试过。他们都没有显示我的文件上传。你能帮我解决我的问题吗？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T11:45:16.973

PrimeFaces 也通过`$(function())`. 包含命令的`<script>`内容直接在组件之后呈现。因此，如果您在小部件 var one*之前*`$(document).ready()`被调用，那么它将找不到小部件 var，因为它稍后会被初始化。您需要确保在渲染组件*后*调用您的。其中一种方法是将脚本重新定位到 HTML 的末尾。*`$(document).ready()`*`<body>``target="body"`**

 **```
<h:outputScript name="library.js" library="script" target="body" /> 
```

这样，当到达文档末尾时，脚本会被加载和初始化，因此*在*所有小部件 var 初始化之后。

另一种方法是使用`$(window).load()`而不是`$(document).ready()`，但这很笨拙并且可能更慢，因为它仅在加载文档中引用的所有图像时才调用。

* * *

**与具体问题无关**，您使用资源`library`的方式不正确。请仔细阅读[JSF资源库是干什么用的，应该如何使用？](https://stackoverflow.com/questions/11988415/what-is-the-jsf-resource-library-for-and-how-should-it-be-used)并使用

```
<h:outputScript name="script/library.js" target="body" /> 
```

顺便说一句，您在小部件 var 名称中还有一个令人不安的错字，与问题没有进一步的关系。是*上传*，不是*上传*。**

# php - Open cart failed to load english language

> ID：14232335
> 
> 赞同：1
> 
> 时间：2013-01-09T09:47:48.277
> 
> 标签：php, opencart

I am new to open cart. I have uploaded a store from local to live but it says the following error

> Notice: Error: Could not load language english! in /home7/neotjans/public_html/EBook/system/library/language.php on line 39

I have checked and uploaded the `english.php` file to `catalog/language/english` as it was mentioned in another tutorial but the error is still there.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T09:50:30.807

我也有同样的问题。您只是缺少`catalog/language/english/english.php`. 从默认文件中获取并上传回来。它将解决问题。

如果这对您不起作用，请按照此处的第二种方法

1.  复制 web_payment_software.php`file from admin\language\english\payment`
2.  粘贴到您的语言文件夹。`Sample: admin\language\vietnamese\payment`

注意：`web_payment_software.php`在`"admin\language\english\payment"`OpenCart 1.5.1.3 版本的文件夹中。下载完整包复制它！

# java - "You are not authorized..." when importing a DXL file

> ID：14232336
> 
> 赞同：0
> 
> 时间：2013-01-09T09:47:47.817
> 
> 标签：java, security, import, xpages, lotus-domino

I have a problem with a java based DXL import.

We want to maintain properties files via our Java framework. I am working with a temporary file on my filesystem (I am working on a local server). I am exporting the new properties file to my filesystem, generate a DXL file in the same folder and then try to import the DXL into my database.

I have done several options of the importer and we are creating the stream and the importer with sessionAsSignerWithFullAccess. The code is signed with the ID of the Server Admin who has Full Access to everything.

When importing the DXL I receive only the error message "DXL Import Operation failed", the error log of the importer says I am not authorized to perform this operation.

Do you have any idea what could be the problem? From my point of view I can't give my User any more rights on the server.

Here is the code for the import function:

```
private void importDXLFile(String filepath) {
    String dxlPath = filepath.replaceAll(".properties", ".dxl");
    DxlImporter importer = null;
    Stream stream = null;

    System.out.println("dxlPath: " + dxlPath);

    try {           
        stream = BCCJsfUtil.getCurrentSessionAsSignerWithFullAccess(FacesContextEx.getCurrentInstance()).createStream();
        if (!stream.open(dxlPath, "ISO-8859-1")) {
            System.out.println("Cannot read " + dxlPath + " from server");
        }
        System.out.println("User: " + BCCJsfUtil.getCurrentSessionAsSignerWithFullAccess(FacesContextEx.getCurrentInstance()).getEffectiveUserName());
        importer = BCCJsfUtil.getCurrentSessionAsSignerWithFullAccess(FacesContextEx.getCurrentInstance()).createDxlImporter();
        importer.setReplaceDbProperties(false);
        importer.setReplicaRequiredForReplaceOrUpdate(false);
        importer.setDesignImportOption(DxlImporter.DXLIMPORTOPTION_REPLACE_ELSE_CREATE);
        importer.setInputValidationOption(DxlImporter.DXLVALIDATIONOPTION_VALIDATE_NEVER);
        importer.setExitOnFirstFatalError(false);
        importer.importDxl(stream.readText(), BCCJsfUtil.getCurrentDatabase());

        stream.close();
    } catch (NotesException e) {
        e.printStackTrace();
        try {
            System.out.println("Log: " + importer.getLog());
            System.out.println("LogComment: " + importer.getLogComment());

        } catch (NotesException e1) {
            // TODO Auto-generated catch block
            e1.printStackTrace();
        }

    }
} 
```

As you can see I tried several options, hoping it would change anything, but it is always the same error message. The generated DXL seems valid, as we can import it manually with Ytria.

I hope someone has an idea. Any help would be appreciated.

Thanks in advance.

Matthias

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T10:18:59.423

请检查您的 ACL 设置：“最大 Internet 名称和密码”设置为“管理员”还是“设计师”？

# jsf - How to bind dynamic content using ?

> ID：14232339
> 
> 赞同：10
> 
> 时间：2013-01-09T09:47:49.420
> 
> 标签：jsf, jsf-2, primefaces, media, dynamic-content

I use the `<p:media>` to display static PDF content.

```
<p:media value="/resource/test.pdf" 
         width="100%" height="300px" player="pdf">  
</p:media> 
```

How can I change it to display dynamic content?

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-09T11:04:51.290

就像在中一样`<p:graphicImage>`，`value`属性可以指向返回的 bean 属性`StreamedContent`。这只需要一个特殊的 getter 方法，原因在以下关于使用`<p:graphicImage>`数据库中的动态资源的答案中有详细说明：[使用 p:graphicImage 和 StreamedContent 显示来自数据库的动态图像](https://stackoverflow.com/questions/8207325/display-image-from-database-with-pgraphicimage/12452144#12452144)。

在您的特定示例中，它看起来像这样：

```
<p:media value="#{mediaManager.stream}" width="100%" height="300px" player="pdf">
    <f:param name="id" value="#{bean.mediaId}" />
</p:media> 
```

和

```
@ManagedBean
@ApplicationScoped
public class MediaManager {

    @EJB
    private MediaService service;

    public StreamedContent getStream() throws IOException {
        FacesContext context = FacesContext.getCurrentInstance();

        if (context.getCurrentPhaseId() == PhaseId.RENDER_RESPONSE) {
            // So, we're rendering the HTML. Return a stub StreamedContent so that it will generate right URL.
            return new DefaultStreamedContent();
        } else {
            // So, browser is requesting the media. Return a real StreamedContent with the media bytes.
            String id = context.getExternalContext().getRequestParameterMap().get("id");
            Media media = service.find(Long.valueOf(id));
            return new DefaultStreamedContent(new ByteArrayInputStream(media.getBytes()));
        }
    }

} 
```

# c++ - Setting pre build event for nmake through command line in Qt

> ID：14232351
> 
> 赞同：0
> 
> 时间：2013-01-09T09:48:08.887
> 
> 标签：c++, qt, compiler-construction, build, nmake

I am using Qt creator configured with tool chain Microsoft Windows SDK for Windows 7 for building project. I am using third party libraries of ITK 4.3.0 which I manually added to .pro file of Qt project, it needs pre build event to build project. My problem is:

**1\. For build as I am using `nmake` (not `jom.exe`) I want to involve a pre build event using macro `$(NOINHERIT)` but I don't know how to involve it while running `nmake` through command line?**

**2\. I know how to set `nmake` for `Qt` creator but not how to set any pre build event using macro. I also know how to set `nmake` with release/debug configuration in Qt but not with macro.**

I hope if I get answer of 1st then I may try some tricks in Qt creator which may help to solve 2nd problem.

# javascript - 显示沿谷歌地图点行进的距离

> ID：14232353
> 
> 赞同：1
> 
> 时间：2013-01-09T09:48:11.480
> 
> 标签：javascript, maps

**这个演示链接**

[**带有单个符号的演示**](http://jsfiddle.net/q6eqV/1/)

如上所述，我在谷歌地图上显示点。

我想计算沿路径行进的距离。

不是按起点和终点计算，而是按行进路径计算。

如何使用谷歌计算距离来做到这一点。

我使用了计算距离示例

```
<meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
<style type="text/css">
    html {
        height: 100%
    }

    body {
        height: 100%;
        margin: 0px;
        padding: 0px
    }

    #map_canvas {
        height: 100%;
    }
</style>
<script type="text/javascript"
        src="http://maps.google.com/maps/api/js?libraries=geometry&sensor=false&v=3.3">
</script>
<script type="text/javascript">

    var g = google.maps;
    function initialize() {
        var latlng = new g.LatLng(62.397, 12.644);
        var myOptions = {
            zoom: 4,
            center: latlng,
            mapTypeId: g.MapTypeId.ROADMAP
        };
        var map = new g.Map(document.getElementById("map_canvas"), myOptions);
        registerMapDragHandler(map);
    }

    function registerMapDragHandler(aMap) {

        var map = aMap;

        g.event.addListener(map, 'click', function(event) {
            createLineBeingDragged(map, event.latLng);
        });

        function createLineBeingDragged(map, pos) {
            var line = new g.Polyline({map: map, path: [pos, pos]});
            g.event.addListener(map, 'mousemove', function(event) {
                line.getPath().setAt(1, event.latLng);
            });
            g.event.addListener(line, 'click', function(event) {
                g.event.clearListeners(map, 'mousemove');
                g.event.clearListeners(line, 'click');
                createMarkersForLine(map, line);
            });

            function createMarkersForLine(map, line) {
                var startMarker = createMarker(line, 0);
                var endMarker = createMarker(line, 1);
                startMarker.nextMarker = endMarker;
                endMarker.previousMarker = startMarker;
            }

            function createMarker(line, pathPos) {
                var position = line.getPath().getAt(pathPos);
                var marker = new g.Marker({map: map, position: position, visible: true, flat: true, draggable: true, raiseOnDrag: false});

                // Marker functions
                marker.getPathIndex = function() {
                    if (this.previousMarker != null) {
                        return this.previousMarker.getPathIndex() + 1;
                    } else {
                        return 0;
                    }
                }

                marker.startDrag = function(pos) {
                    if (!marker.previousMarker || !marker.nextMarker) {
                        line.getPath().insertAt(marker.getPathIndex(), pos);
                        var newMarker = createMarker(line, marker.getPathIndex());
                        if (marker.nextMarker) {
                            newMarker.previousMarker = marker;
                            newMarker.nextMarker = marker.nextMarker;
                            newMarker.nextMarker.previousMarker = newMarker;
                            marker.nextMarker = newMarker;
                        } else {
                            newMarker.nextMarker = marker;
                            newMarker.previousMarker = marker.previousMarker;
                            newMarker.previousMarker.nextMarker = newMarker;
                            marker.previousMarker = newMarker;
                        }
                    }
                }

                marker.beingDragged = function() {
                    line.getPath().setAt(marker.getPathIndex(), marker.getPosition());
                }

                // Listeners
                g.event.addListener(marker, 'dragstart', function(event) {
                    marker.startDrag(event.latLng);
                });

                g.event.addListener(marker, 'drag', function(event) {
                    marker.beingDragged();
                });

                g.event.addListener(marker, 'click', function(event) {
                    var length = g.geometry.spherical.computeLength(line.getPath()) / 1000;
                    var infoWindow = new g.InfoWindow(
                    {
                        content: "<ul><li>Line length: " + length.toFixed(2) + " km</li>"+
                                "<li>Latitude: " + marker.getPosition().lat().toFixed(6) + "</li>"+
                                "<li>Longitude: " + marker.getPosition().lng().toFixed(6) + "</ul>"
                    });
                    infoWindow.open(map, marker);
                });

                return marker;
            }
        }
    }
</script> 
```

如果我为此示例添加 google 库 js，则会出现加载多个 google 库的错误。

如果我没有包含这个库，它会给出未定义计算长度的错误。

**我想集成计算到我提供的演示链接的距离的功能..**

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:31:34.003

这是你修改的

[**演示链接**](http://jsfiddle.net/8qeND/1/)

您必须将以下内容添加到 html

```
<script type="text/javascript" src="http://maps.google.com/maps/api/js?libraries=geometry&sensor=false&v=3.3"> 
```

并遵循 javascript

```
polyline = new google.maps.Polyline(polylineoptns);
var length = google.maps.geometry.spherical.computeLength(polyline.getPath());
alert(length); 
```

愿这对你有用..

# magento - Magento：从后端模块通过shell执行一个php文件

> ID：14232356
> 
> 赞同：0
> 
> 时间：2013-01-09T09:48:21.430
> 
> 标签：magento

我创建了一个带有后端菜单项的自定义模块。如何让我的自定义菜单项通过 shell（使用 php -f 文件名）执行 php 文件？

我正在使用 Magento 1.6.2 版

感谢帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T13:59:54.800

您可以使用 php 函数`exec()`，`system()`或`passtru()`在您的控制器操作中使用，该操作链接在菜单项上。

# visual-studio - 更改手机编辑器分辨率？

> ID：14232358
> 
> 赞同：0
> 
> 时间：2013-01-09T09:48:25.673
> 
> 标签：visual-studio, windows-phone-7, visual-studio-2012, windows-phone-8

在项目的 xaml 视图中，如何更改代表代码的手机的分辨率？

手机用作控件的拖放功能，它是否在某处设置了分辨率。Windows Phone 8 目前有三种分辨率；800x480、1280x720 和 1280x768。

我知道模拟器可以以不同的分辨率启动，但我的情况是我的 CPU 不支持这个，我直接在我的 Lumia 920 (1280x768) 上调试。我不知道应用程序在 800x480 中的样子。

但它是一个简单的应用程序，预览就足够了。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-09T09:57:47.927

您需要打开设备窗口：设计 -> 设备窗口

在显示部分下，您可以选择显示尺寸（3 个可用）。

此外，您可以通过禁用设备窗口中的“Chrome”选项并将页面的 d:DesignHeight 和 d:DesignWidth 设置为所需的分辨率来测试任何其他分辨率。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:56:21.377

我遇到了问题，经过大量时间搜索 google 和 stackoverflow，我认为无法更改设计器窗口的分辨率。但是，也许这个链接可以帮助你，当我遇到这个问题时，它帮助了我：

[WP8 模拟器屏幕尺寸](https://stackoverflow.com/questions/13470605/wp8-emulator-screen-size)

它指的是模拟器，但解释了如何缩放应用程序 UI 以匹配不同的设备分辨率。希望能帮助到你！

# php - Group by Similar 2 fields in php and result with total count?

> ID：14232359
> 
> 赞同：2
> 
> 时间：2013-01-09T09:48:26.110
> 
> 标签：php, mysql, while-loop

How to Group two Similar fields in php?

I tried with GROUP BY DATE(bill.date) , bill.agent_id but it is not working for me

Table Structure 1: [http://i.stack.imgur.com/yvBF0.jpg](http://i.stack.imgur.com/yvBF0.jpg) (table name is bill_agents )
Table Structure 2: [http://i.stack.imgur.com/38tKh.jpg](http://i.stack.imgur.com/38tKh.jpg) (table name is bill )

Current Result

```
+---------+----+----+----+-----+----+
|         |  1 |  2 |  3 |   4 |  5 |
+---------+----+----+----+-----+----+
| Agent 1 | 35 |  0 |  0 |   0 |  0 |
| Agent 2 |  0 | 10 |  0 |   0 |  0 |
| Agent 1 |  0 |  0 | 12 |   0 |  0 |
| Agent 3 |  0 |  0 |  0 | 100 |  0 |
| Agent 6 |  0 |  0 |  0 |   9 |  0 |
| Agent 2 |  0 |  0 |  0 |   9 | 14 |
+---------+----+----+----+-----+----+ 
```

1,2,3,4,5 .... are the days from date

**But I want To get Like The Following**

```
+---------+----+----+----+-----+----+----+
|         |  1 |  2 |  3 |   4 |  5 |total
+---------+----+----+----+-----+----+----+
| Agent 1 | 35 |  0 | 12 |   0 |  0 |47  |
| Agent 2 |  0 | 10 |  0 |   0 | 14 |28  |
| Agent 3 |  0 |  0 |  0 | 100 |  0 |100 |
| Agent 6 |  0 |  0 |  0 |   9 |  0 | 9  |
+---------+----+----+----+-----+----+----+ 
```

Php Code pasted below that I am using now .

```
<table width="100%" border="1" cellspacing="4" cellpadding="1">
  <tr>
    <td>&nbsp;</td>
     <?php
for ($i=01; $i<=31; $i++)
  {?>
    <td><?php echo $i; ?></td>
    <?php

  }
?>
    <td>Total</td>
  </tr>
  <?php 

    $query4 = "SELECT bill.agent_id, bill.date, SUM(bill.amount + bill.cheque) AS total, bill_agents.id,bill_agents.name ".
          "FROM bill, bill_agents ".
          "WHERE bill.agent_id = bill_agents.id AND YEAR(date)  = YEAR(CURDATE()) AND MONTH(date) = MONTH(CURDATE()) ". 
          "GROUP BY bill.agent_id , DATE(bill.date)   ".

              // "GROUP BY bill.agent_id , DATE(bill.date)  ".
              "ORDER BY bill.date ASC";

    $result4 = mysql_query($query4) or die('Error, query failed1'); 
    if  (mysql_num_rows($result4)>0){
    mysql_data_seek($result4, 0);   

?>
  <?php $total_1 = 0;  while($row4 = mysql_fetch_array($result4, MYSQL_ASSOC)){?>
  <?php $date =    $row4['date'];

    $var = $date;
    $date = date("d-m-Y", strtotime($var) );
    $date=substr($date, 0, -8); 

    echo $date;

    ?>
  <tr>
    <td><?php echo $row4['name']; ?></td>
    <?php
for ($i=01; $i<=31; $i++)
  {?>
    <td><?php if ($date == $i) echo $row4['total']; ?></td>
    <?php

  }
?>
    <td></td>
  </tr>
  <?php } } ?>
  <tr>
    <td colspan="31"></td>
    <td>Total</td>
    <td></td>
  </tr>
</table> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:08:04.193

因为我不知道我是否理解您的问题，这里有一个简短的示例，可以为您指明正确的方向：

```
$query4 = "SELECT bill.agent_id, "
        . "       bill.date, "
        . "       SUM(bill.amount + bill.cheque) AS total, "
        . "       bill_agents.id, "
        . "       bill_agents.name "
        . "FROM bill, bill_agents "
        . "WHERE bill.agent_id = bill_agents.id "
        . "AND YEAR(date) = YEAR(CURDATE()) "
        . "AND MONTH(date) = MONTH(CURDATE()) "
        . "GROUP BY bill.agent_id, DATE(bill.date)   "
        . "ORDER BY bill.date ASC";

$result4 = mysql_query($query4) or die('Error, query failed1');
if (mysql_num_rows($result4) > 0) {
    mysql_data_seek($result4, 0);

    $agents = array();
    while (true == ($row4 = mysql_fetch_assoc($result4))) {
        $agents[$row4['agent_id']][$row4['date']] = $row4;
    } 

    var_dump($agents);
} 
```

查看输出，看看您是否可以进一步使用该`$agents`变量。

# node.js - Getting error while using http in node.js

> ID：14232361
> 
> 赞同：1
> 
> 时间：2013-01-09T09:48:32.003
> 
> 标签：node.js

Below is the error getting while calling http get request

```
events.js:66
throw arguments[1]; // Unhandled 'error' event
^
Error: getaddrinfo ENOENT
at errnoException (dns.js:31:11)
at Object.onanswer [as oncomplete] (dns.js:123:16) 
```

PFB my code throwing the error

```
var options = {
host: 'http://xyz.com',
port: 80,
path : 'test?query=' + escape(req.params.searchTerm) + '&offset=0&hits=500',
method: 'GET',
headers: {
Cookie : "session=" + session
}
};

console.log("Start");
var x = http.request(options,function(subRes){
console.log("Connected");
subRes.on('data',function(data){
console.log("===================data===" +util.inspect(data));
});
});

x.end(); 
```

Any ideas, why this error ?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T09:55:53.717

`ENOENT`是指示名称解析未返回任何结果的错误。您将主机名指定为`http://xyz.com`，但主机名中不允许使用冒号。你要：

```
var options = {
    host: 'xyz.com', 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T09:53:46.220

您将主机指定为`http://xyz.com`，它应该只是`xyz.com`。

此值用于解析您尝试使用 DNS 连接的主机的 IP 地址。

# android - How to get the fragment Id from the clicked view or how to identify which part is clicked in from one of 4parts(divide screen into 4 equal parts)?

> ID：14232362
> 
> 赞同：0
> 
> 时间：2013-01-09T09:48:36.177
> 
> 标签：android, android-fragments, onclicklistener

I have to design an application for tablet. Due to the fact that space availability in that, I have decided to use fragment. Have to split the screen into four parts. Each part displays news title and description. When I click any one part from that 4 part, I have to get the corresponding fragment ID. How can I get it.

In my layout I have given frame layout, and added fragment dynamically using the fragment manager.

> ```
> ralativLayout_Id.setOnClickListener(new View.OnClickListener() {
>   public void onClick(View v) {    
>       ///Here I need to get the clicked part's fragment ID. Or have to find out  which part clicked using any way.
>       Toast.makeText(getActivity(), "Clicked " + news_title, Toast.LENGTH_SHORT).show();                  
>       ///Have to show the selected news in the whole screen need to call another activity for that.           }
> }); 
> ```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T12:37:00.257

> 我必须为平板电脑设计一个应用程序。由于其中的空间可用性，我决定使用片段。必须将屏幕分成四个部分。每个部分显示新闻标题和描述。当我单击这 4 个部分中的任何一个部分时，我必须获取相应的片段 ID。我怎么才能得到它。

`View`您可以选择使用该方法向 Android 附加一条额外的信息`setTag()`（并使用 检索它`getTag()`）。因此，在您的片段中，您可以执行以下操作：

```
// set as the tag for the view the Fragment's id
ralativLayout_Id.setTag(getId());
ralativLayout_Id.setOnClickListener(new View.OnClickListener() {
  public void onClick(View v) { 
      //retrieve the fragment's id   
      Integer fragmentId = (Integer) v.getTag();
      // now you have the fragment's id
      ///Here I need to get the clicked part's fragment ID. Or have to find out  which part clicked using any way.
      Toast.makeText(getActivity(), "Clicked " + news_title, Toast.LENGTH_SHORT).show();                  
      ///Have to show the selected news in the whole screen need to call another activity for that.           }
}); 
```

# scala - Hazelcast sort IMap (Scala)

> ID：14232363
> 
> 赞同：3
> 
> 时间：2013-01-09T09:48:39.730
> 
> 标签：scala, sorting, map, hazelcast

I'm using hazelcast IMap[String,Any] in my application. When printing the map it should be sorted by the keys.

Is there a nice way to sort the IMap by key (other than sort the keys locally and print by the sorted keys)?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:05:11.737

由于`IMap`扩展了常规`java.util.Map`，您可以使用 a [`scala.collection.immutable.TreeMap`](http://www.scala-lang.org/api/current/index.html#scala.collection.immutable.TreeMap)，它始终按键排序。

```
println(TreeMap() ++ imap) 
```

这显然不是免费的，因为您`IMap`每次想要打印它时都需要对其进行迭代和排序。

# javascript - Flash in Win8 Store app using JavaScript + html5

> ID：14232364
> 
> 赞同：1
> 
> 时间：2013-01-09T09:48:41.510
> 
> 标签：javascript, html, flash, windows-8, windows-store-apps

I use JavaScript + html5 for create Win8 Store app. I need to open .swf file in my app. Swf file is downloading from our server on boot time. Swf file is local after boot. I wonder if it is possible to embed a flash control in a app? I tried but it seems it doesn't work... (have tried iframe too) I try to open swf file in Metro IE by this code:

```
> var file = 'flashobject.html';
>             Windows.ApplicationModel.Package.current.installedLocation.getFileAsync(file).then(function
> (file) {
>                 var options = new Windows.System.LauncherOptions();
>                 options.displayApplicationPicker = true;
> 
>                 Windows.System.Launcher.launchFileAsync(file, options).then(function (success) {
>                     if (success) {
>                         // Yay!
>                         console.log('Success');
>                     } else {
>                         // FROWN :(
>                         console.log('Failure');
>                     }
>                 });
>             }); 
```

This Html code:

```
 <body>
        <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab">
            <param name="autoplay" value="false">
            <param name="movie" value="candles_Pp.swf">
            <object class="iehide" type="application/x-shockwave-flash" data="flashobject_files/candles_.swf">
                <param name="controller" value="true">
                <param name="autoplay" value="false">   
                <param name="pluginurl" value="http://get.adobe.com/flashplayer/">          
                <a href="http://www.yourwebskills.com/files/examples/candles_Pp.swf">Your browser is not able to handle this media here so use this link to play the file in an external application </a>
            </object>
        </object>
</body> 
```

Is there any way to open swf file, mayby there any api for convert swf to html at boot time.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T09:50:58.913

用于渲染用 javascript 编写的 Win8 Store 应用程序的 IE10 模拟器不支持任何插件。您需要将您的 swf 转换为可接受的`HTML5 video`格式 ( `.mp4`) 并使用`HTML5 video`标签播放视频。

# function - Issue with defining and executing the function in Python

> ID：14232365
> 
> 赞同：0
> 
> 时间：2013-01-09T09:48:46.937
> 
> 标签：function, python-2.7, beautifulsoup

Data which I am scraping using the beautiful soup contains one category of device name, device names contains `Colors` mentioned in them eg. Lumia 800 Black. I want to create a new column which contains this color.

I want to search the device name for any color against a list of colors & if color is present in that device name I want to remove that color from device name and put it in new column named Color.

I am using below referred code to accomplish this, I am creating a function named `color` and trying to search the device name string for presence of color and if present I am trying to feed that color to new variable named color_column. But my output csv is not returning any values at all. It is empty.

Please check the referred code below:

```
# -*- coding: cp1252 -*-
import csv
import urllib2
import sys
import urllib
import time
import mechanize
import cookielib
from bs4 import BeautifulSoup
from itertools import islice
colors = ["Black","Gray"]

def color(arg):
    for colors_1 in colors:
        if arg.find(colors_1) == -1:
            return color_column == ""
        return color_column == colors_1

url = 'http://www.t-mobile.com/shop/phones/default.aspx?shape=smartphones'
user_agent = 'Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1;Trident/5.0)'
values = {
'Phones':'MBBDevice',
'__ASYNCPOST':'true',
'__EVENTARGUMENT':'',
'__EVENTTARGET':'pgrTop$lnkPageShowAll',
'__LASTFOCUS':'',
'__VIEWSTATE':'/wEPDwULLTE1NTE5NDk1ODIPFgIeEEN1cnJlbnRQYWdlSW5kZXgCARYCAgEPZBYCAgEPZBYCAgEPZBYCZg9kFgICAQ9kFhgCCg9kFgJmD2QWAmYPZBYCZg8UKwACZDKJBAABAAAA/////wEAAAAAAAAADAIAAABfVE1vYmlsZS5XZWIuVE1vYmlsZURvdENvbS5VSS5XZWJDb250cm9scywgVmVyc2lvbj0xLjAuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPW51bGwFAQAAAEFUTW9iaWxlLldlYi5UTW9iaWxlRG90Q29tLlVJLldlYkNvbnRyb2xzLkJyZWFkQ3J1bWJJdGVtQ29sbGVjdGlvbgEAAAATQ29sbGVjdGlvbkJhc2UrbGlzdAMcU3lzdGVtLkNvbGxlY3Rpb25zLkFycmF5TGlzdAIAAAAJAwAAAAQDAAAAHFN5c3RlbS5Db2xsZWN0aW9ucy5BcnJheUxpc3QDAAAABl9pdGVtcwVfc2l6ZQhfdmVyc2lvbgUAAAgICQQAAAACAAAABQAAABAEAAAABAAAAAkFAAAACQYAAAANAgUFAAAAN1RNb2JpbGUuV2ViLlRNb2JpbGVEb3RDb20uVUkuV2ViQ29udHJvbHMuQnJlYWRDcnVtYkl0ZW0DAAAABV90ZXh0BF91cmwJX3Nob3dMaW5rAQEAAQIAAAAGBwAAAARIb21lBggAAAAAAQEGAAAABQAAAAYJAAAAGVNtYXJ0cGhvbmVzICYgQ2VsbCBQaG9uZXMGCgAAAAtzaG9wL3Bob25lcwELZAIMD2QWAgIDDxYCHgxIdG1sT3ZlcnJpZGUFkwI8aW1nIHN0eWxlPSJGTE9BVDogcmlnaHQ7IENVUlNPUjogcG9pbnRlciEgaW1wb3J0YW50IiBvbmNsaWNrPSJqYXZhc2NyaXB0OnBvcFVwKCAnL3RlbXBsYXRlcy9wb3B1cC5hc3B4P1BBc3NldD1TaHBfUGhuX3NoaXBwaW5nRGV0YWlscycsICczNDAnLCAnNTY4JywgJzQ1JywgJzMwJywgJzAnLCAnMCcsICcxJyApIiBhbHQ9IkZyZWUgU2hpcHBpbmcgb24gYWxsIGNlbGwgcGhvbmVzIGFuZCBkZXZpY2VzLiIgc3JjPSIuLi9pbWFnZXMvZnJlZV9zaGlwcGluZy1iYW5uZXIuZ2lmIiAvPmQCDg8PFgIeB1Zpc2libGVoZGQCGA9kFgJmD2QWAmYPZBYCZg9kFggCAQ9kFgICAQ8QDxYEHgdDaGVja2VkaB4HRW5hYmxlZGgWAh4LbWFrZWVuYWJsZWQFBWZhbHNlZGRkAgUPZBYCAgEPEA9kFgIfBQUEdHJ1ZWRkZAIHD2QWAgIBDxAPZBYCHwUFBHRydWVkZGQCCQ9kFgICAQ8QD2QWAh8FBQR0cnVlZGRkAhoPZBYCZg9kFgJmD2QWAmYPZBYEAgMPZBYCAgEPEA9kFgIfBQUEdHJ1ZWRkZAIFD2QWAgIBDxAPFgIeBFRleHQF2AU8dGFibGUgaGVpZ2h0PSIxNSIgY2VsbHNwYWNpbmc9IjAiIGNlbGxwYWRkaW5nPSIwIiB3aWR0aD0iNzciIGJvcmRlcj0iMCI+CiAgICAgIDx0Ym9keT4KICAgICAgICA8dHI+CiAgICAgICAgICA8dGQgY2xhc3M9InJlZnVyYmlzaGVkIj5SZWZ1cmJpc2hlZDwvdGQ+CgogICAgICAgICAgPHRkIGNsYXNzPSJyZWZ1cmJpc2hlZCI+CiAgICAgICAgICAgIDxkaXYgb25tb3VzZW92ZXI9ImphdmFzY3JpcHQ6ZGlzcENPQkRlc2MoKTsiIHN0eWxlPSJGTE9BVDogbGVmdCIgb25tb3VzZW91dD0iamF2YXNjcmlwdDpoaWRlQ09CRGVzYygpOyIgcnVuYXQ9InNlcnZlciI+CiAgICAgICAgICAgICAgPGltZyBzcmM9Ii9pbWFnZXMvaWNvbl9oZWxwLmdpZiIgLz4gPGRpdiBjbGFzcz0idG9vbHRpcCIgaWQ9ImRpdkNPQkRlc2NyaXB0aW9uIiBzdHlsZT0iRElTUExBWTogbm9uZSI+CiAgICAgIDxkaXYgY2xhc3M9InRvb2x0aXAtYnRtLWJrZyI+CiAgICAgICAgPGRpdiBjbGFzcz0idG9vbHRpcC1jb250YWluZXIiPgogICAgICAgICAgR2V0IGEgZ3JlYXQgdmFsdWUgb24gYSBsaWtlLW5ldyBwaG9uZQogICAgICAgICAgPGJyIC8+CiAgICAgICAgICAgd2l0aCBhIDkwLWRheSB3YXJyYW50eS4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L3RkPgogICAgICAgIDwvdHI+CiAgICAgIDwvdGJvZHk+CiAgICA8L3RhYmxlPhYCHwUFBHRydWVkZGQCIA8WAh4Fc3R5bGUFDmRpc3BsYXk6YmxvY2s7FgJmD2QWAmYPZBYCZg9kFgYCAw9kFgICAQ8QD2QWAh8FBQR0cnVlZGRkAgUPZBYCAgEPEA9kFgIfBQUEdHJ1ZWRkZAIHD2QWAgIBDxAPZBYCHwUFBHRydWVkZGQCKg9kFgJmD2QWAmYPZBYEZg8PFgIfAmcWAh4HT25DbGljawUKQ2xlYXJJRFMoKWQCAQ8PZBYCHwgFCkNsZWFySURTKClkAi4PZBYCZg9kFgJmD2QWAgIKD2QWCAIBDw8WAh8CaGRkAgMPFgIeCl9QYWdlQ291bnQCBBYGAgIPFgIfAmhkAgcPD2QWAh8HBQxkaXNwbGF5Om5vbmVkAggPDxYCHwJnZGQCBw8WAh8JAgQWBgICDxYCHwJoZAIIDw9kFgIfBwUMZGlzcGxheTpub25lZAIJDw8WAh8CZ2RkAgsPFgIfAmhkAjAPFgIeE0Ntc0NvbGxlY3Rpb25TdHJpbmdlZAI0D2QWAmYPZBYCZg9kFgQCAQ8WAh4MQ21zQXNzZXROYW1lBRVUb3V0X0ZBUV9EZXZBbGxQaG9uZXNkAgQPFgIfCgUPdG91dF9odG1sX2xvZ2luZAI2D2QWBGYPZBYCZg9kFgJmDxYCHwJoZAIBD2QWAmYPZBYCZg8WAh8LBRJzaHBfcGhuX2xlZ2FsTm90ZXNkAjgPDxYCHhxUaXRsZXBvcHVwUGxhbkNoYW5nZVJlcXVpcmVkZWQWBAIPDxYCHwJoZAITDxYCHwJoZBgBBR5fX0NvbnRyb2xzUmVxdWlyZVBvc3RCYWNrS2V5X18WNAUJTUJCRGV2aWNlBQ1QcmVQYWlkUGhvbmVzBQ1QcmVQYWlkUGhvbmVzBSFyZXBQcmljZVJhbmdlJGN0bDAwJGNoa1ByaWNlUmFuZ2UFDmNoa05ld0Fycml2YWxzBQ9jaGtXZWJPbmx5RGVhbHMFEmNoa1dlYk9ubHlQcm9kdWN0cwUPY2hrTmV3Q29uZGl0aW9uBQZjaGtDT0IFFnJlcFR5cGVzJGN0bDAwJGNoa1R5cGUFFnJlcFR5cGVzJGN0bDAyJGNoa1R5cGUFFnJlcFR5cGVzJGN0bDA0JGNoa1R5cGUFFnJlcFR5cGVzJGN0bDA1JGNoa1R5cGUFFnJlcFR5cGVzJGN0bDA2JGNoa1R5cGUFDGNoa0FuZHJvaWRPUwUPY2hrQmxhY2tCZXJyeU9TBQhjaGtXaW5PUwUgcmVwRmVhdHVyZUZpbHRlciRjdGwwMCRjaGtGaWx0ZXIFIHJlcEZlYXR1cmVGaWx0ZXIkY3RsMDEkY2hrRmlsdGVyBSByZXBGZWF0dXJlRmlsdGVyJGN0bDAyJGNoa0ZpbHRlcgUgcmVwRmVhdHVyZUZpbHRlciRjdGwwMyRjaGtGaWx0ZXIFIHJlcEZlYXR1cmVGaWx0ZXIkY3RsMDQkY2hrRmlsdGVyBSByZXBGZWF0dXJlRmlsdGVyJGN0bDA1JGNoa0ZpbHRlcgUgcmVwRmVhdHVyZUZpbHRlciRjdGwwNiRjaGtGaWx0ZXIFIHJlcEZlYXR1cmVGaWx0ZXIkY3RsMDckY2hrRmlsdGVyBSByZXBGZWF0dXJlRmlsdGVyJGN0bDA4JGNoa0ZpbHRlcgUgcmVwRmVhdHVyZUZpbHRlciRjdGwwOSRjaGtGaWx0ZXIFIHJlcEZlYXR1cmVGaWx0ZXIkY3RsMTAkY2hrRmlsdGVyBSByZXBGZWF0dXJlRmlsdGVyJGN0bDExJGNoa0ZpbHRlcgUgcmVwRmVhdHVyZUZpbHRlciRjdGwxMiRjaGtGaWx0ZXIFIHJlcEZlYXR1cmVGaWx0ZXIkY3RsMTMkY2hrRmlsdGVyBSByZXBGZWF0dXJlRmlsdGVyJGN0bDE0JGNoa0ZpbHRlcgUgcmVwRmVhdHVyZUZpbHRlciRjdGwxNSRjaGtGaWx0ZXIFIHJlcEZlYXR1cmVGaWx0ZXIkY3RsMTYkY2hrRmlsdGVyBSdyZXBNYW51ZmFjdHVyZXJzJGN0bDAwJGNoa01hbnVmYWN0dXJlcnMFJ3JlcE1hbnVmYWN0dXJlcnMkY3RsMDEkY2hrTWFudWZhY3R1cmVycwUncmVwTWFudWZhY3R1cmVycyRjdGwwMiRjaGtNYW51ZmFjdHVyZXJzBSdyZXBNYW51ZmFjdHVyZXJzJGN0bDA0JGNoa01hbnVmYWN0dXJlcnMFJ3JlcE1hbnVmYWN0dXJlcnMkY3RsMDUkY2hrTWFudWZhY3R1cmVycwUncmVwTWFudWZhY3R1cmVycyRjdGwwNiRjaGtNYW51ZmFjdHVyZXJzBSdyZXBNYW51ZmFjdHVyZXJzJGN0bDA3JGNoa01hbnVmYWN0dXJlcnMFJ3JlcE1hbnVmYWN0dXJlcnMkY3RsMDgkY2hrTWFudWZhY3R1cmVycwUabXJwUGhvbmVzJGN0bDAwJGNoa0NvbXBhcmUFGm1ycFBob25lcyRjdGwwMiRjaGtDb21wYXJlBRptcnBQaG9uZXMkY3RsMDQkY2hrQ29tcGFyZQUabXJwUGhvbmVzJGN0bDA2JGNoa0NvbXBhcmUFGm1ycFBob25lcyRjdGwwOCRjaGtDb21wYXJlBRptcnBQaG9uZXMkY3RsMTAkY2hrQ29tcGFyZQUabXJwUGhvbmVzJGN0bDEyJGNoa0NvbXBhcmUFGm1ycFBob25lcyRjdGwxNCRjaGtDb21wYXJlBRptcnBQaG9uZXMkY3RsMTYkY2hrQ29tcGFyZQUabXJwUGhvbmVzJGN0bDE4JGNoa0NvbXBhcmVnDy0KUN8keEvS5/wEmJXssTUSNw==',
'ctl09':'ctl13|pgrTop$lnkPageShowAll',
'ddlSort':'0',
'hdnBlackBerryID':'3c2c3562-aa1c-4fe4-a0ca-da5dd8e4bd84',
'hdnCapCode':'',
'hdnDeviceId':'',
'hdnFeature':'',
'hdnFeatureNames':'',
'hdnFilter':'',
'hdnIsPricingOptionLockedB':'false',
'hdnLocationParameter':'',
'hdnManufacturer':'',
'hdnManufacturerID':'',
'hdnManufacturerNames':'',
'hdnOtherFilters':'',
'hdnPageIndex':'',
'hdnPriceRange':'',
'hdnPriceRangeText':'',
'hdnProductType':'GSM',
'hdnSelectedDeviceId':'',
'hdnSelections':'',
'hdnSortFilter':'0',
'hdnTitle':'',
'hdnType':'smp,',
'hdnTypeNames':'Smartphone|',
'popupPlanChangeRequired$hdnDeviceID':'',
'popupPlanChangeRequired$hdnFamilyID':'',
'popupPlanChangeRequired$hiddenImagePath':'',
'repTypes$ctl05$chkType':'on',
'txtSelectedDevices':'0',
'txtSelectedFeatures':'0'}
headers = { 'User-Agent' : user_agent }
data = urllib.urlencode(values)
req = urllib2.Request(url, data, headers)
response = urllib2.urlopen(req)
page = response.read()
soup = BeautifulSoup(page)

with open('tmob_colortest.csv', 'wb') as csvfile:
    spamwriter = csv.writer(csvfile, delimiter=',')
    items = soup.findAll('div', {"class": "phonename"}, text = colors)
    prices = soup.findAll('p', {"class": "totalitemprice"})
    for item, price in zip(items, prices):
        textcontent = u' '.join(islice(item.stripped_strings, 0, 2, 1))
        textcontent2 = u' '.join(price.stripped_strings)
        name_1 = unicode(textcontent).encode('utf8').replace('Nexus 4','LG Nexus 4').replace(' T-Mobile Refurbished Device','').replace('â„¢','').replace('Â®','').replace(' Â›','').replace("NEW! ","").replace(" Web-only offer -- now thru Thu 1/3/13","").replace(" Web-only offer!","").strip()
        oem = list(name_1)
        pos = oem.index(' ')
        if name_1.find('Refurbished')== -1:
            name= name_1
            refur = "N"
        else:
            name = name_1.replace("Refurbished","").replace(" -","")
            refur = "Y"        
        spamwriter.writerow(["US", "T-Mobile",
                             name[0:pos],name,refur,color_column,
                             "24 Months","$",unicode(textcontent2).encode('utf8').replace("FREE","0").replace('$','')]) 
```

Please help me to solve this issue and pardon my ignorance as I am new to coding.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T12:00:45.780

你从来没有真正使用过你的功能，所以`color_column`永远不会被填满。

您要做的是让您的函数将更改后的产品名称和检测到的颜色作为两个单独的值返回：

```
def handle_color(arg):
    for col in colors:
        if col.lower() not in arg.lower():
            continue
        # color found, remove it from arg (case insensitively)
        start = arg.lower().index(col.lower())
        arg = arg[:start] + arg[start + len(col):]
        return arg, col
    # No matching color found, return arg unchanged and an empty value for the color
    return arg, '' 
```

现在您所要做的就是调用此函数并将它的返回值解压缩为您的 CSV 的两个变量：

```
 name, color_column = handle_color(name) 
```

并且`color_column`将是一个空值或匹配的颜色（现在从 中删除`name`）。

# html - Problems displaying custom cyrillic font with font-face

> ID：14232366
> 
> 赞同：2
> 
> 时间：2013-01-09T09:48:47.780
> 
> 标签：html, css, fonts

I used fontsquirrel generator to generate font-face contents for Thonburi and Thonburi bold fonts. They display fine in English, but not in Cyrillic (Russian). Instead the site displays Times New Roman as default fallback font. I used advanced settings to specifically include cyrillic characters in font files. Kindly check: [http://www.mastersofbackgammon.net/site/index_ru.html](http://www.mastersofbackgammon.net/site/index_ru.html) You can even see that Latin characters are displayed in Thonburi, while Russian is TNR.

It displays fine in English version: [http://www.mastersofbackgammon.net/site](http://www.mastersofbackgammon.net/site)

Do you have any ideas what could be the root of this problem and how to resolve this?

It displays fine at home, but there I have the fonts installed on Windows. Whenever I open site for the first time on another computer, the RU version gets the Times New Roman font and not Thonburi.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T11:30:04.297

页面上指定的 Thonburi 和 Thonburi Bold 字体没有西里尔字母（我使用 OTMaster Light 进行了检查）。这解释了为什么西里尔字母使用后备字体显示，默认情况下通常是 Times New Roman。

[要使用FontSquirrel 生成器](http://www.fontsquirrel.com/fontface/generator)生成足够的字体文件，请选择“专家...”，然后在“子集”中，选择“自定义子集”和所需语言或“无子集”。“基本子集”中的默认设置，仅包括“西方语言”！

PS 这个问题最初是因为[在某些情况下字体在西里尔文中显示不正确而](https://stackoverflow.com/questions/14181499/font-not-displaying-correctly-in-cyrillic-on-some-occasions/14186297#14186297)被问到的，因为“过于本地化”而被关闭。所以我复制了我的答案和添加的评论。

PS2。它在家工作的原因是 CSS 代码包含`src: local(Thonburi), url("fonts/thonburi-webfont.ttf")`，优先选择本地安装的字体，显然也包含西里尔字母。

# css - 具有透明背景图像和底部绝对定位的 Windows Phone IE 移动错误

> ID：14232372
> 
> 赞同：3
> 
> 时间：2013-01-09T09:49:18.230
> 
> 标签：css, web-applications, windows-phone, ie-mobile

我对 WP IE 有 2 个问题：

*   透明背景图像在其透明边框上有伪影
*   绝对定位到页面底部的 div 在浏览器导航栏和页面底部之间留下约 5px 的空白间隙

请注意，我使用 div 而不是 img 来处理HDPI 设备（iPhone 4+、iPad3+、Android Galaxy S3、WP8 Lumia 920...）的[CSS Retina 图像替换](http://coding.smashingmagazine.com/2012/08/20/towards-retina-web/)。使用 img，伪影消失了。

HTML：

```
 <div class="header-left"></div>
    <div class="footer-left"></div> 
```

CSS：

```
.header-left {
    position: absolute;
    top:0;
    left:0;
    background-image: url('../img/bkg_header_left.png');    
    background-size: 92px 79px; 
    width: 92px;
    height: 79px;       
}

.footer-left{
    position:absolute;  
    bottom:0;
    left:0;
    background-image: url('../img/bkg_footer_left.png');
    background-size: 315px 50px;
    width:315px;
    height:50px;    
}

/*  DPI specific CSS
 *  retina image replacement */ 
@media only screen and (-Webkit-min-device-pixel-ratio: 1.5),
    only screen and (-moz-min-device-pixel-ratio: 1.5),
    only screen and (-o-min-device-pixel-ratio: 3/2),
    only screen and (min-device-pixel-ratio: 1.5) {

    .header-left {
        background-image: url('../assets/bkg_header_left@2x.png');
    }

    .footer-left{
        background-image: url('../assets/bkg_footer_left@2x.png');
    }
} 
```

基于 HTML5 样板的简单示例页面（即包括用于规范化/重置的 CSS）： http: [//file.rspreprod.fr/wp-ie-bugs/index.html](http://file.rspreprod.fr/wp-ie-bugs/index.html)

对于没有 Windows Phone 的用户，以下是 WP7.5 上的结果截图：

![捕获](../Images/e456408c526964658f62b8eb122a9d41.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T17:39:22.763

关于白色边框 -*看起来*您的`<body>`or`<html>`标记应用了`margin`or`padding`设置。如果这些标签中的任何一个也有定位，例如`position: relative`- 您可以很容易地看到这种行为。

原因是它`position: absolute`实际上总是*相*对于最近的*定位 parent*。有关这方面的更多信息，请查看[这篇精彩的文章](http://css-tricks.com/absolute-positioning-inside-relative-positioning/)。

如果这实际上是问题所在 - 您可以尝试以下潜在修复：

```
html, body { margin: 0; padding: 0; } 
```

这将去除页面边缘周围的间距，并希望使您的内容与浏览器边缘齐平。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T16:07:09.863

好的，因此可以使用以下方法解决图像伪影： background-repeat:no-repeat;

依旧看着那白色的缝隙，不知为何是身体的错，我想不通。

# c# - /r 在每个单词之后

> ID：14232374
> 
> 赞同：0
> 
> 时间：2013-01-09T09:49:26.237
> 
> 标签：c#, filestream, streamreader, streamwriter

所以，我正在创造一个“刽子手”游戏，用文字编辑器将你自己的文字放入游戏中。我有一个表单，它打开一个文本文件并在多行文本框中显示内容。之后，用户可以编辑文本框。如果您按“保存”，则文本框中的内容将保存到文本文件中。

现在，一切正常，阅读和写作。但是现在如果我想玩我的单词，它总是比我输入的单词长。我通过调试发现我的程序以某种方式在每个单词后面添加了“/r”。例如，如果我在 wordeditor 中输入“Test”，游戏会将其用作“Test/r”。我认为这是 wordeditor 中的错误，所以这里是代码：

```
namespace Hangman
{
  public partial class WordEditor : Form
  {
    public WordEditor()
    {
      InitializeComponent();
      using (StreamReader sr = new StreamReader(new FileStream("C:\\Users\\tstadler\\Desktop\\Hangman.txt", FileMode.Open)))
      {
        string[] Lines = sr.ReadToEnd().Split(new string[] { Environment.NewLine }, StringSplitOptions.RemoveEmptyEntries);
        for (int i = 0; i < Lines.Length; i++)
        {
          textBox1.Text += Lines[i] + Environment.NewLine;               
        }
      }     
    }

private void saveToolStripMenuItem_Click(object sender, EventArgs e)
    {
      string[] words = textBox1.Text.Split('\n');
      FileStream overwrite = new FileStream("C:\\Users\\tstadler\\Desktop\\Hangman.txt", FileMode.Create);
      using (StreamWriter file = new StreamWriter(overwrite))
      {
        for (int i = 0; i < words.Length; i++)
        {
          file.Write(words[i] + Environment.NewLine);
        }
      }

  MessageBox.Show("Words saved. ");
} 
```

谁能告诉我他是否认识到错误？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T09:52:07.557

在任何地方插入你使用的新行`Environment.NewLine`- 除了一行：

```
string[] words = textBox1.Text.Split('\n'); 
```

这导致在Windows 系统上由`\n`while分割的字符串`Environment.NewLine`组成。`\r\n`因此，在拆分后，`\r`剩余部分位于字符串的末尾。

要解决该问题，只需将上面提到的行替换为

```
string[] words = textBox1.Text.Split(new string[] { Environment.NewLine }); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T09:59:23.047

使用[`File.ReadAllLines`](http://msdn.microsoft.com/en-us/library/s2tte0y1.aspx)：

> 打开一个文本文件，读取文件的所有行，然后关闭文件：
> 
> 行定义为一系列字符，后跟回车`\r`、换行`\n`或回车后紧跟换行。

和[`File.WriteAllLines`](http://msdn.microsoft.com/en-us/library/92e05ft3.aspx)：

> 创建一个新文件，将指定的字符串数组写入文件，然后关闭文件。

样本：

```
string[] lines = File.ReadAllLines("filePath");

File.WriteAllLines("filePath", textBox.Text.Split(new[] {Environment.NewLine})); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:03:19.163

您的解决方案是正确的，但非常冗长：

[File.ReadAllLines](http://msdn.microsoft.com/pl-pl/library/system.io.file.readalllines.aspx) ;

和

[File.WriteAllText](http://msdn.microsoft.com/en-us/library/system.io.file.writealltext%28v=VS.80%29.aspx) ;

所以你的阅读部分将是：

```
textBox1.Text = string.Join(Environment.NewLine, 
       File.ReadAllLines(filePath).Where(x=>!string.IsNullOrWhiteSpace(x))); 
```

和写

```
 File.WriteAllText(filePath,textBox1.Text); 
```

# ios - 我如何解决电晕中的导演问题

> ID：14232376
> 
> 赞同：0
> 
> 时间：2013-01-09T09:49:29.170
> 
> 标签：ios, coronasdk

```
local function connectedToServer(event)

    client:send("connected")
    cleanAll()

    function a()
        director:changeScene( "PlayerClient" )
    end
    timer.performWithDelay( 1000, a() ,1) 

end
Runtime:addEventListener("autolanConnected", connectedToServer) 
```

这是我的代码行，在第一次更改场景时出现问题，`director:changeScene( "PlayerClient" )` 它运行良好，但在第二次运行时，当我暂停游戏或输赢后，我返回菜单，然后再次开始游戏，该行有错误`director:changeScene( "PlayerClient" )`。有谁能够帮我？

错误是

```
2013-01-09 14:51:25.871 Corona Simulator[478:707] Runtime error
    ...arooqi/Desktop/Crazy Candy 5 Jan 2013 5/director.lua:1060: attempt to call method 'insert' (a nil value)
stack traceback:
    [C]: in function 'insert'
    ...arooqi/Desktop/Crazy Candy 5 Jan 2013 5/director.lua:1060: in function 'changeScene'
    ...arooqi/Desktop/Crazy Candy 5 Jan 2013 5/wifigame.lua:276: in function 'a'
    ...arooqi/Desktop/Crazy Candy 5 Jan 2013 5/wifigame.lua:278: in function <...arooqi/Desktop/Crazy Candy 5 Jan 2013 5/wifigame.lua:269>
    ?: in function 'dispatchEvent'
    .../Farooqi/Desktop/Crazy Candy 5 Jan 2013 5/Client.lua:373: in function '_listener'
    ?: in function <?:534>
    ?: in function <?:229> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T10:04:33.207

尝试这个 ：

```
timer.performWithDelay(1000,function () direcor:changeScene( "PlayerClient" ) end) 
```

代替：

```
function a()
   direcor:changeScene( "PlayerClient" )
end

timer.performWithDelay(1000,a(),1) 
```

# android - 解密图片和图库查看

> ID：14232377
> 
> 赞同：1
> 
> 时间：2013-01-09T09:49:37.313
> 
> 标签：android, encryption, android-image

在我的应用程序中，我将*图像*从**相机**存储到私人文件夹并被加密。现在我想将解密后的图像显示到画廊，它不应该存储在任何地方。

画廊的代码是

```
 public class DisplayImage extends Activity{

    private Uri[] mUrls;
    String[] mFiles=null;
    private final String KEY = "abc";
    ImageView imv;
     List<String> tFileList = new ArrayList<String>();
        byte [] decrpt;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.gridview);

        imv = (ImageView)findViewById(R.id.ImageView01);
        Gallery g = (Gallery) findViewById(R.id.examplegallery);
        g.setAdapter(new ImageAdapter(this, ReadSDCard()));

        g.setOnItemClickListener(new OnItemClickListener() {
            public void onItemClick(AdapterView<?> parent,
              View v, int position, long id) {

                System.out.println("Positi"+position);
                List<String> FileList = tFileList;

                 Bitmap bm = BitmapFactory.decodeFile(
                          FileList.get(position).toString());
                  imv.setImageBitmap(bm);

            }
        });
        }

        private List<String> ReadSDCard()
        {

         //It have to be matched with the directory in SDCard
         File f = new File("sdcard/data/crak");

         File[] files=f.listFiles();

         for(int i=0; i<files.length; i++)
         {
          File file = files[i];
          /*It's assumed that all file in the path are in supported type*/
          tFileList.add(file.getPath());
         }
         return tFileList;
        }

        public class ImageAdapter extends BaseAdapter {
        int mGalleryItemBackground;
        private Context mContext;
        private List<String> FileList;

        public ImageAdapter(Context c, List<String> fList) {
            mContext = c;
            FileList = fList;
            TypedArray a = obtainStyledAttributes(R.styleable.GalleryTheme);
            mGalleryItemBackground = a.getResourceId(
            R.styleable.GalleryTheme_android_galleryItemBackground,0);
            a.recycle();
        }

        public int getCount() {
            return FileList.size();
        }

        public Object getItem(int position) {
            return position;
        } 

        public long getItemId(int position) {
            return position;
        }

        public View getView(int position, View convertView,
          ViewGroup parent) {
            ImageView i = new ImageView(mContext);

            Bitmap bm = BitmapFactory.decodeFile(
              FileList.get(position).toString());
            ByteArrayOutputStream baos = new ByteArrayOutputStream();
            bm.compress(Bitmap.CompressFormat.JPEG, 100, baos);
            byte[] data = baos.toByteArray();

        try {
            CryptClass simpleCrypto = new CryptClass();

            decrpt = simpleCrypto.decrypt(KEY, data);
        } catch (Exception e) {
            e.printStackTrace();
        }
        Bitmap bitmapimage = BitmapFactory.decodeByteArray(decrpt, 0, decrpt.length); 
            i.setImageBitmap(bitmapimage);

            i.setLayoutParams(new Gallery.LayoutParams(150, 100));
            i.setScaleType(ImageView.ScaleType.FIT_XY);
            i.setBackgroundResource(mGalleryItemBackground);

            return i;
        }
        }
} 
```

还有用于解密的java文件，

```
 private  byte[] decrypt(byte[] raw, byte[] encrypted) throws Exception {
    SecretKeySpec skeySpec = new SecretKeySpec(raw, "AES");
        Cipher cipher = Cipher.getInstance("AES");
    cipher.init(Cipher.DECRYPT_MODE, skeySpec);
    byte[] decrypted = cipher.doFinal(encrypted);
        return decrypted;
} 
```

但它正在显示`null pointer exeption`。我该如何解决。

logcat 错误消息

```
 01-09 15:32:25.882: E/AndroidRuntime(17863): FATAL EXCEPTION: main
  01-09 15:32:25.882: E/AndroidRuntime(17863): java.lang.NullPointerException
  01-09 15:32:25.882: E/AndroidRuntime(17863):  at c     com.example.security.DisplayImage$ImageAdapter.getView(DisplayImage.java:110)
 01-09 15:32:25.882: E/AndroidRuntime(17863):   at android.widget.AbsSpinner.onMeasure(AbsSpinner.java:192)
01-09 15:32:25.882: E/AndroidRuntime(17863):    at android.view.View.measure(View.java:8313)
 01-09 15:32:25.882: E/AndroidRuntime(17863):   at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138) 
```

# javascript - Codemirror 中的垂直（或块）选择

> ID：14232383
> 
> 赞同：2
> 
> 时间：2013-01-09T09:50:00.053
> 
> 标签：javascript, selection, codemirror

有没有办法像在 ace 编辑器中那样通过按 alt 并拖动来在 codemirror 中进行垂直选择？

先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-06-02T06:06:46.477

Codemirror 4.2 now includes vertical selection when holding the alt key while dragging to select text. Try it on any of the demos: [http://codemirror.net/](http://codemirror.net/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T15:20:49.400

还没有。有关一些相关讨论，请参阅[https://github.com/marijnh/CodeMirror/issues/778](https://github.com/marijnh/CodeMirror/issues/778)。

# uicollectionview - iOS 6.0 UICollectionView - 多次添加相同的单元格

> ID：14232388
> 
> 赞同：4
> 
> 时间：2013-01-09T09:50:08.903
> 
> 标签：uicollectionview

在使用集合视图时，在 cellforItemAtIndexPath 中，新的单元格实例被多次（在另一个之上）添加到同一位置/框架，即使正确的重用标识符被传递给“dequeueReusableCellWithReuseIdentifier:forIndexPath:”

上面提到的单元格是 UICollectionViewCell 的子类，并且包含带有适当框架的 UITextField。当滚动和文本字段是第一响应者时，会发生上述问题。

请让我知道解决该问题的任何指示。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T09:52:20.773

这可能是一个`UICollectionView`与我已经提交的[装饰视图](http://openradar.appspot.com/radar?id=2550401)相关的错误。只要您的单元格是不透明的，它就不会影响您的界面

有可能（虽然，imo，不太可能）这是正确的行为，`UICollectionView`并且它使用那些额外的单元格进行界面定位。无论如何，这个问题似乎没有装饰视图那么明显，它会添加几十个装饰视图副本。只要它不影响您的应用程序，我会说与它一起生活。

# angularjs - AngularJS 中作用域的继承

> ID：14232397
> 
> 赞同：6
> 
> 时间：2013-01-09T09:50:35.497
> 
> 标签：angularjs

在父控制器范围内，我已定义`selectedItem`设置为“x”。然后在子范围内，我`selectedItem`使用 ngModel 定义：

```
<div ng-app>
  <div ng-controller="CtrlA">
       <div ng-controller="CtrlB">
         <select ng-model="selectedItem" ng-options="item for item in items">
         </select>
      </div>
  </div>
</div>

function CtrlA($scope) {
    $scope.selectedItem = 'x';
    $scope.items = ['x', 'y'];
}

function CtrlB($scope) {} 
```

加载页面时，`selectedItem`按预期正确设置为“x”。当我选择“y”时，`selectedItem`在 CtrlB $scope 中按预期给出“y”。

但是当我`$scope.selectedItem`在`CtrlA`范围内检查时（使用 AngularJS 的batarang），它给出了 'x' 。

jsFiddle：http: [//jsfiddle.net/sudhh/GGKjp/2/](http://jsfiddle.net/sudhh/GGKjp/2/)

预览页面：[http](http://fiddle.jshell.net/sudhh/GGKjp/2/show/light/) : //fiddle.jshell.net/sudhh/GGKjp/2/show/light/（用于使用 angularjs batarang 进行检查）

为什么范围`$scope.selectedItem`内`CtrlA`没有更新为“y”？解释是什么？

我不喜欢在父范围内使用事件或`rootScope`更新`selectedItem`（出于学习目的）。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-09T11:37:34.913

如果您尝试绑定到在父作用域上声明的原语，则子作用域中的 selectedItem 将有效地隐藏父作用域中的同名属性。

在这种情况下，有 3 个选择

1.  在模型的父对象中定义对象，然后在子对象中引用该对象的属性：ref.selectedItem
2.  使用 $parent.selectedItem （并非总是可能，但比 1 更容易。如果可能的话）
3.  在父范围上定义一个函数，并从子级调用它，将原始值传递给父级（并非总是可能）

有关它的更多信息，请访问[https://github.com/angular/angular.js/wiki/The-Nuances-of-Scope-Prototypal-Inheritance](https://github.com/angular/angular.js/wiki/The-Nuances-of-Scope-Prototypal-Inheritance)

[您可以在http://jsfiddle.net/sudhh/XU2rP/1/](http://jsfiddle.net/sudhh/XU2rP/1/)使用第一种方法找到更新的小提琴

```
function CtrlA($scope) {
  $scope.items = ['x', 'y'];
  $scope.ref = {
    selectedItem: 'x'
  };
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:01:30.737

我注意到在类似的情况下[AngularJS](http://en.wikipedia.org/wiki/AngularJS)不能`selectedItem`正常观看。我发现的唯一方法是使用数组`selectedItem`中的条目进行初始化。`items`尝试以下操作：

```
function CtrlA($scope) {
    $scope.items = ['x', 'y'];
    $scope.selectedItem = $scope.items[0];
} 
```

# java - 扩展实现某些包含泛型的类的类的 ArrayList 不起作用？

> ID：14232404
> 
> 赞同：0
> 
> 时间：2013-01-09T09:50:52.097
> 
> 标签：java, class, generics, arraylist

有人知道为什么这不起作用吗？

```
public class ArrayList<E extends EXTDBinterface<T>> 
    extends java.util.ArrayList<E> implements List<E>,
    RandomAccess, Cloneable, java.io.Serializable {} 
```

Eclipse 抱怨 T 没有被解析为一个类型......是否不可能为扩展类型扩展 ArrayList 类`EXTDBinterface<T>`？关键是我想`T`在课堂上使用，但遗憾的是只有这样才有效：

```
public class ArrayList<E extends EXTDBinterface> 
    extends java.util.ArrayList<E> implements List<E>,
    RandomAccess, Cloneable, java.io.Serializable {} 
```

但是如何在运行时获得泛型类型`T`... `EXTDBinterface`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T09:58:18.553

First doesn't work cause you didn't set type `T`. Also you don't need to extend and implement all stuff again cause ArrayList has had this yet. Write, for example:

```
class ArrayList<T,E extends EXTDBinterface<T>> 
extends java.util.ArrayList<E>{} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:51:53.047

> 如何在运行时获取 EXTDBinterface 的泛型类型 T

鉴于 Java 使用[类型擦除](http://docs.oracle.com/javase/tutorial/java/generics/erasure.html)，你不能这样做。如果您需要实际类型，则必须将其传入（通常作为`Class`-typed 参数）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T09:52:04.543

您必须定义`T`为类的类型参数

```
public class ArrayList<T, E extends EXTDBinterface<T>> 
    extends java.util.ArrayList<E> implements List<E>,
    RandomAccess, Cloneable, java.io.Serializable {} 
```

# c# - 内存不足，无法创建 Excel 工作簿

> ID：14232409
> 
> 赞同：2
> 
> 时间：2013-01-09T09:51:00.150
> 
> 标签：c#, asp.net, excel

我的原始代码：

```
 Excel.Application xlErrorApp;
    Excel.Workbook xlErrorWorkBook;
    Excel.Worksheet xlErrorWorkSheet;
    object misValue = System.Reflection.Missing.Value;
    xlErrorApp = new Excel.Application();
    xlErrorWorkBook = xlErrorApp.Workbooks.Add(); // -> error
    xlErrorWorkSheet = (Excel.Worksheet)xlErrorWorkBook.Worksheets.get_Item(1); 
```

第 6 行出现错误。

错误信息：

> 由于内存或磁盘空间不足，应用程序 Microsoft Excel 无法打开或保存文档。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:03:27.670

您使用的是哪个库？

我已经说过了，但实际上微软目前不推荐也不支持任何无人值守、非交互式客户端应用程序或组件（包括 ASP、ASP.NET、DCOM 和 NT 服务）的 Microsoft Office 应用程序自动化，因为 Office在此环境中运行 Office 时，可能会出现不稳定的行为和/或死锁。

我建议您寻找像 Open Office XML 这样的免费库或像 Aspose 这样的非免费库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:10:01.930

这个怎么样：

```
Microsoft.Office.Interop.Excel.ApplicationClass excel = new Microsoft.Office.Interop.Excel.ApplicationClass();
Microsoft.Office.Interop.Excel.Workbook workbook = excel.Workbooks.Open(fileName, Type.Missing, Type.Missing, Type.Missing, Type.Missing,
                Type.Missing, Type.Missing, Type.Missing, Type.Missing,
                Type.Missing, Type.Missing, Type.Missing, Type.Missing,
                Type.Missing, Type.Missing); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T10:10:19.747

[`Workbooks.Add()`](http://msdn.microsoft.com/en-us/library/microsoft.office.interop.excel.workbooks.add.aspx)来自*MSDN*的方法；

```
Parameters
Template
Type: System.Object 
```

> 可选对象。确定如何创建新工作簿。如果此参数是指定现有 Microsoft Excel 文件名称的字符串，则使用指定文件作为模板创建新工作簿。如果此参数是常量，则新工作簿包含指定类型的单个工作表。可以是以下 XlWBATemplate 常量之一：xlWBATChart、xlWBATExcel4IntlMacroSheet、xlWBATExcel4MacroSheet 或 xlWBATWorksheet。如果省略此参数，Microsoft Excel 将创建一个带有许多空白工作表的新工作簿（工作表的数量由 SheetsInNewWorkbook 属性设置）。

如果您尝试创建新工作簿，请尝试这样；

```
Workbook newWorkbook = this.Application.Workbooks.Add(missing); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-09T11:34:08.820

很抱歉我之前找不到链接。我使用了 EPPlus 支持。[http://epplus.codeplex.com](http://epplus.codeplex.com)

感谢您尝试提供帮助！

# bash - 在bash中按函数参数grep文本

> ID：14232414
> 
> 赞同：1
> 
> 时间：2013-01-09T09:51:11.777
> 
> 标签：bash

有一个文件名为`pkg_list`

```
a-1.2b-1.tar.gz
c-2.5b-1.tar.gz
a xx-1.4.txz
a$xx-1.4.txz
中文-3.txz
xx-3.2-2.tar.gz
xxy-1.3.tar.gz 
```

我的 bash 函数可以输入像“xx”这样的包名

```
pkg_find() { # <pkg_name> as $1
  grep "^$1-[0-9]*" pkg_list
}
pkg_find xx # wish it return xx-3.2-2.tar.gz 
```

我知道我不能将 $1 直接传递给 pkg_find，正确的方法是什么？

[已解决] 在这种情况下，因为 $1 用双引号括起来，我发现即使是正则表达式元字符也可以作为参数传递。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T09:55:46.947

你在做什么在我看来是对的。

什么不工作？

我尝试了您问题中的代码，并`pkg_find xx`显示“xx-3.2-2.tar.gz”——您说这是您希望的输出。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:37:48.207

可以*直接*传到`$1`_`pkg_find`

```
pkg_find() { # <pkg_name> as $1
  grep "^$1-[0-9]*" pkg_list
}
pkg_find "$1" 
```

在主体中，`$1, $2, ..`是[脚本参数](http://www.gnu.org/software/bash/manual/bashref.html#Positional-Parameters)，您可以从命令行或其他调用脚本中获得。在[shell 函数](http://www.gnu.org/software/bash/manual/bashref.html#Shell-Functions)中，它们指的是函数参数。

当您在命令行上调用它时

```
sh pkg_find.sh xx 
```

你会得到

> xx-3.2-2.tar.gz

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:04:05.510

您的代码和您的问题在我看来似乎要求不同的东西，您想要/两者之一：

*   传递函数参数：将参数[传递给 Bash 函数](https://stackoverflow.com/q/6212219/1955371)
*   从函数返回一个字符串：[shell脚本函数返回一个字符串](https://stackoverflow.com/q/11758368/1955371)

脚本顶层的 $1、$2 等是脚本参数；在函数中，它们被设置为函数参数，如果没有参数，则取消设置。

# java - 如何关闭被阻止的 SSLSocket？

> ID：14232420
> 
> 赞同：1
> 
> 时间：2013-01-09T09:51:35.267
> 
> 标签：java, jsse

我有一个需要关闭所有连接的选项的 Java 服务器。作为其中的一部分，我在每个客户端套接字上调用 close()。我遇到的问题是这个调用有时会无限期地阻塞。

我只能通过模拟数百个用户来重现这一点，因此很难确定，但我怀疑当该套接字在写入时被阻塞时会发生这种情况。

我在另一个问题中读到，在套接字上调用 shutdownOutput() 会有所帮助，但 SSLSocket（我正在使用）不支持它。

还有其他方法吗？排队等待写入的任何数据是否被发送并不重要——我只需要终止连接。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T10:12:11.137

在对我自己的应用程序进行广泛测试之后，我或许能够对此有所了解。我观察到的现象如下：

当从并发*B*关闭一个在 A中打开并在*A中处理的**Java* 时，调用有时会阻塞，直到 A 中的下一个*，*然后返回指示。在对in *B*的异步调用和对*A*的任何调用之间，*A*可以成功地对该套接字执行操作。`SSLSocket``Thread` *`Thread` *`close()``read()``Thread` *`EOF``close()``Thread` *`read()``Thread` **`write()`******

 ***我现在认为，只有在*A*发起的呼叫完成之前`Thread` *B*执行了才会出现这种情况。之后，异步关闭似乎没有问题。`close()``startHandshake()``Thread` *`SSLSocket`*

 *这给我们留下了如何解决问题的问题。显然，一些基于状态的行为会有所帮助。

如果可以忍受*B*`close()`中的异步延迟，那么之前调用似乎工作得很好，因为它使*B*等到*A*准备好 SSL 会话。*但是，这可能会导致每个套接字的延迟，并且如果在A*开始使用套接字之前没有在*B*中执行，也可能会导致额外的工作量。`Thread` *`getSession()``close()`**`close()``Thread`***

 ***一个更好但不那么简单的解决方案是使用两个单向标志。*A*`handshakeDone`将使用一个 ( ) 来指示 SSL 握手已完成（ *B*没有非阻塞 API 方法可以找出这一点）。*B*将使用另一个 ( )来指示套接字应该关闭。**`toBeClosed`**

 ****A*将`toBeClosed`在握手完成后进行检查。*B*将调用`close()`if`handshakeDone`为 false 或`toBeClosed`以其他方式设置。

*请注意，要成功， A*和*B*中都需要有原子块。我将把具体的实现（与上述算法相比可能进行了优化）留给你。

但是，在其他情况下，`close()`对 SSL 套接字的异步调用可能会出现异常。**********

# lisp - 学习 Lisp。似乎无法从一个函数中获取值并在另一个函数中使用它

> ID：14232433
> 
> 赞同：0
> 
> 时间：2013-01-09T09:52:08.367
> 
> 标签：lisp, common-lisp, let

我正在尝试在列表中找到最大数量，然后对其进行处理：

```
(defun maxList (l)
    (if (= (length l) 1)
            (first l)
        (if (> (first l) (maxList (rest l)))
            (first l)
            (maxList (rest l))
        );if
    );if
);defun

(defun try-let (l)
    (let (a (maxList l))
    (print a)
    );let
);defun 
```

但是它打印 null，但 maxList 有效。我究竟做错了什么 ？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T09:55:35.703

您缺少一对括号：

```
(let ((a (maxList l))) 
```

这是因为`let`需要一个绑定列表，如

```
(let ((a 1) (b 2) (c 'foo))
  expr) 
```

所以在这种情况下，你必须传递一个包含绑定的单元素列表`(a (maxList l))`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T10:14:39.183

```
(defun maxList (l)
  (if (= (length l) 1) 
```

打电话`LENGTH`不是个好主意。它遍历整个列表。

```
 (first l)
    (if (> (first l) (maxList (rest l)))
        (first l)
      (maxList (rest l))))) 
```

上面调用`MAXLIST`了两次。也许这里 a`LET`有用？功能怎么样`MAX`？

如果你编译你的函数，Common Lisp 系统会报错。

```
CL-USER 35 > (defun try-let (l)
               (let (a (maxList l))
                 (print a)))
TRY-LET

CL-USER 36 > (compile 'try-let)
;;;*** Warning in TRY-LET: MAXLIST is bound but not referenced 
```

这说明 Lisp 编译器认为`MAXLIST`是一个变量。出了点问题。接下来查看`LET`.

请参阅[特殊运算符 LET、LET*](http://www.lispworks.com/documentation/HyperSpec/Body/s_let_l.htm)

```
let ({var | (var [init-form])}*) declaration* form* => result* 
```

这表示它是变量列表或（变量initform）列表。所以你可以看到你错过了让它成为一个列表。您刚刚编写了一个绑定。

# scala - 如何让这段代码更实用

> ID：14232434
> 
> 赞同：2
> 
> 时间：2013-01-09T09:52:10.183
> 
> 标签：scala, functional-programming, refactoring

我是 Scala 和函数式编程的新手。我正在尝试通常的初学者应用程序和脚本（显然使用了一些过度技术）

无论如何，我有一个计算器的代码，它接受参数和一个开关来指示要在参数上使用的操作。

```
object Main {
    def main(args: Array[String]): Unit = {

        var calc = calculate( "" , _:List[Int])
        var values:List[Int] = List()

        if(args.size < 1) println("No arguments supplied") else{
            args collect {_ match{
                    case arg if arg.contains("-") => {
                            if(values.size>0){
                                calc(values)
                                values = List()}
                            calc = calculate( arg , _:List[Int])
                        }
                    case arg => {
                            try{
                                val value=arg.toInt
                                values = values ::: List(value)
                            }catch{case e:NumberFormatException=>println("\nError:Invalid argument:\""+arg+"\"\nCannot convert to Integer.\n")}
                    }
                }
            }
            calc(values)
        }
    }

    def sum(values:List[Int]) { println("The sum is:"+(values.foldLeft(0)((sum,value) => sum + value))) }

    def subtract(values:List[Int]) {
        val initial:Int = values(0)

        var total:Int = 0
        for(i <- 1 until values.size){
            total = total + values(i)
        }
        val diff:Int = initial - total
        println("The difference is:"+diff)
    }

    def calculate(operation:String,values:List[Int]) = operation match {
        case "-sum" => sum(values)
        case "-diff" => subtract(values)
        case _ => println("Default operation \"Sum\" will be applied");sum(values)
    }
} 
```

id 喜欢查找是否有更好的方法的一些要点就像删除 try catch 语句。

编写此应用程序的更好方法将非常受欢迎。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T10:06:27.483

这个怎么样？

```
object Main extends App {
    require(args.size > 0, "Please, supply more arguments")

    @annotation.tailrec
    def parseArguments(arguments: List[String], operation: String, values: List[Int]() = Nil) {
        if(values.nonEmpty) calculate(operation, values)
        arguments match {
            case op::unprocessed if op.startsWith("-") => parseArguments(unprocessed, op)
            case maybeNumber::unprocessed => {
                val newValues = try {
                    maybeNumber.toInt::values
                } catch {
                    case _: NumberFormatException => 
                        println("\nError:Invalid argument:\""+maybeNumber+"\"\nCannot convert to Integer.\n")
                        values
                }             
                parseArguments(unprocessed, operation, newValues)   
            }
            case Nil => //done processing, exiting
        }
    }

    parseArguments(args.toList, "")

    def diff(values:List[Int]) = {
        val initial::tail = values
        val total = tail.sum
        initial - total
    }

    def calculate(operation:String, values:List[Int]) = operation match {
        case "-sum"  => println("The sum is " + values.sum)
        case "-diff" => println("The difference is: " + diff(values))
        case _       => 
                        println("""Default operation "Sum" will be applied""")
                        sum(values)
    }
} 
```

# javascript - 如何在 jquery 中的 foreach 之后插入最后一项？

> ID：14232435
> 
> 赞同：2
> 
> 时间：2013-01-09T09:52:12.067
> 
> 标签：javascript, jquery, settimeout

我正在获取一些 json 并将其返回，为每个对象创建一个新的 div。我现在正在尝试添加一个最终的 div（不是来自 json），它只是说“这可能是你的！”。

我试图插入

```
$('section#fans').append('<div class="fan">new div</div>'); 
```

或它的几个变体（之后，appendChild 等）并且无法让它按我的意愿执行。目前它添加了一个新的 div，但在 foreach 开始之前，它不遵循 foreach 所做的fadeIn 延迟模式。

我怎样才能让它在 foreach 之后添加具有相同效果的 div。作为一个最终的div？好像它属于 json，尽管它不会是与以前相同的模板。

```
function get_fans(){

    $.ajax('http://localhost/facebook_app/selectFans/', {
        type : 'get',
        dataType: 'json',
        success : function (data) {
            $.each(data, function(index) {setTimeout(function(){

                var first_name = data[index].first_name;
                var location = data[index].location;
                var imagePath = data[index].image_path;

                var d = $('<div class="fan"><img src="http://localhost/uploads/' + imagePath + '" width="170" height="160" />' + first_name + ', ' + location +'</div>');
                $('section#fans').append(d);
                d.hide();
                d.fadeIn('50');

                }, 250*(index +1));

            });

            $('section#fans').append('<div class="fan">new div</div>');

        },
    });
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T09:56:13.413

您的“最终”插入会立即完成，而其他插入会在超时后完成。

你可以更换

```
$('section#fans').append('<div class="fan">new div</div>'); 
```

和

```
setTimeout(function(){
    $('#fans').append('<div class="fan">new div</div>');
}, 250*(data.length +2)); 
```

这样最后的插入将在所有其他插入完成后完成。

旁注：不要使用`$('section#fans')`but `$('#fans')`。这会更快，因为 jQuery 将使用 fast`document.getElementById`函数。

# javascript - 在 jCookie 中保存可拖动 div 的位置/位置

> ID：14232437
> 
> 赞同：1
> 
> 时间：2013-01-09T09:52:20.867
> 
> 标签：javascript, jquery, cookies

我的网站上有一个工具栏，可以拖动。但是，如果用户刷新/离开当前页面，工具栏将返回其起点。我尝试了几件事，比如将 X/Y 位置保存在 cookie 中，但没有成功（由于缺乏 jQuery/Javascript 知识）。

这是我迄今为止尝试过的：

```
$(document).ready(function() {

var postoolbar = $.jCookies({ get : 'postoolbar' });//Get toolbar position

$(function() {
    $( "#toolbar" ).css("margin-left", $('#posX > span').text(xPos));
    $( "#toolbar" ).css("margin-top", $('#posy > span').text(yPos));
});

//Draggable toolbar
$(function() {
    $( "#toolbar" ).draggable(
        {
            drag: function(){
                var offset = $(this).offset();
                var xPos = offset.left;
                var yPos = offset.top;
                $('#posX > span').text(xPos);
                $('#posY > span').text(yPos);
            },

            stop: function(event, ui) {

                $.jCookies({ //Create location toolbar cookie
                    name : 'postoolbar',
                    value : { xPos : $('#posX > span').text(xPos), yPos : $('#posY > span').text(yPos)},
                    hours: 3
                });

            }

        }

  );

});

}); 
```

检索 cookie：

```
var postoolbar = $.jCookies({ get : 'postoolbar' });//Get toolbar position 
```

停止我的可拖动 jQuery。

我也很确定我做错了 CSS。

我希望你能帮助我:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:04:11.003

从您的评论来看，您似乎没有安装 jCookie 扩展。

你可以从[GitHub](https://github.com/tomgrohl/jQuery-plugins/tree/master/jcookie/script)下载。您应该将`jquery.jcookie.min.js`文件保存在服务器上并在加载 jQuery 后立即加载它。

看起来这个扩展是为 jQuery 1.6.2 设计的，所以如果它被加载，但你仍然看到错误，尝试匹配你的 jQuery 版本。

设置 cookie 时，应从 .text() 中删除 xPos 和 yPos 变量。这是因为您已经设置了这些值，您现在只想读取它们。

```
value : { xPos : $('#posX > span').text(), yPos : $('#posY > span').text()} 
```

检索 cookie 后，您将需要使用 cookie 数据来设置菜单位置，例如。

```
$( "#toolbar" ).css("margin-left", postToolbar.xPos + 'px');
$( "#toolbar" ).css("margin-top", postToolbar.yPos + 'px'); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-09T12:11:50.373

我已经让它工作了，但是没有使用 jCookies。

[http://www.quirksmode.org/js/cookies.html](http://www.quirksmode.org/js/cookies.html)

```
$(document).ready(function() {

var ReadxPos = readCookie('Cookie_Toolbar_PosX')
var ReadyPos = readCookie('Cookie_Toolbar_PosY')
$( "#toolbar" ).css("margin-left", ReadxPos + 'px');
$( "#toolbar" ).css("margin-top", ReadyPos + 'px');

//Draggable toolbar
$(function() {
    $( "#toolbar" ).draggable(
        {
            drag: function(){
                var offset = $(this).offset();
                var xPos = offset.left;
                var yPos = offset.top;
                $('#posX > span').text(xPos);
                $('#posY > span').text(yPos);
            },

            stop: function(event, ui) {
              var offset = $(this).offset();
              var xPos = offset.left;
              var yPos = offset.top;
              createCookie('Cookie_Toolbar_PosX', xPos, 0)
              createCookie('Cookie_Toolbar_PosY', yPos, 0)
            }

        }

  );

});
}); 
```

# android - 如何增加android虚拟设备最大堆大小？

> ID：14232440
> 
> 赞同：7
> 
> 时间：2013-01-09T09:52:30.110
> 
> 标签：android, size, heap-memory, emulation

我想用 Eclipse 增加 android 虚拟设备映射堆大小。我尝试在 Eclipse AVD 管理器中将 Max VM 应用程序堆大小设置为 128，但它不起作用`Runtime.getRuntime().maxMemory()/(1024*1024);`，无论设置的堆大小如何，该行始终返回 48。设备内存大小设置为 512。选定的目标是 Android 4.1.2（API 级别 16）。此外，我已经`android:largeHeap="true"`在清单文件中设置了。

最大堆大小是否有限制（128MiB 多吗？），还是有另一个文件要编辑或参数要设置？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T05:58:46.463

在清单文件中添加大堆

```
<application

        android:icon="@drawable/example"
        android:label="@string/app_name" 
        android:largeHeap="true">

      ......
      ......

</application> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T09:57:05.613

为此，在 Eclipse 中，转到“调试配置”。您可以在“调试”图标下的下拉菜单中找到它。选择“目标”，然后选择要启动的首选模拟器目标。然后在“其他模拟器命令行选项”下添加：

-分区大小 128

然后关闭模拟器（并删除所有设备），并单击调试图标，这将启动您选择的首选模拟器。这很重要：Eclipse 需要启动调试器，而不是 AVD。

请注意，大小 (128) 以兆字节为单位。

也看看这里：http: [//viralpatel.net/blogs/jvm-java-increase-heap-size-setting-heap-size-jvm-heap/](http://viralpatel.net/blogs/jvm-java-increase-heap-size-setting-heap-size-jvm-heap/)

或者：在 VM 选项中增加 AVD RAM 和最大 VM 应用程序堆大小：转到 Window-->AVD Manager-->Virtual Devices-->Edit。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-23T05:38:45.473

使用以下代码。我认为这会对您有所帮助：

```
VMRuntime.getRuntime().setMinimumHeapSize(4 * 1024 * 1024); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-10-16T17:08:59.100

您不能动态增加堆大小。

您可以通过在清单中使用 android:largeHeap="true" 来请求使用更多，但您可能不会获得比正常更多的堆大小，因为它只是一个请求。

此外，您可以使用本机内存，因此您实际上绕过了堆大小限制。

这里有一些关于它的帖子：

*   [如何将位图缓存到本机内存中](https://stackoverflow.com/questions/17900732/how-to-cache-bitmaps-into-native-memory)

*   [JNI位图操作，用于帮助避免使用大图像时的OOM](https://stackoverflow.com/questions/18250951/jni-bitmap-operations-for-helping-to-avoid-oom-when-using-large-images)

这是我为它制作的图书馆：

*   [https://github.com/AndroidDeveloperLB/AndroidJniBitmapOperations](https://github.com/AndroidDeveloperLB/AndroidJniBitmapOperations)

# javascript - 创建多个滚动条

> ID：14232443
> 
> 赞同：1
> 
> 时间：2013-01-09T09:52:38.247
> 
> 标签：javascript, jquery

我在创建多个滚动条时遇到问题。

```
<html>
<head>
  <script> 
   document.observe('dom:loaded',function(){

var scrollbar = new Control.ScrollBar('scrollbar_content','scrollbar_track');

$('scroll_down_50').observe('click',function(event){
    scrollbar.scrollBy(-50);
    event.stop();
    alert('hey');
});

$('scroll_up_50').observe('click',function(event){
    scrollbar.scrollBy(50);
    event.stop();
});

$('scroll_top').observe('click',function(event){
    scrollbar.scrollTo('top');
    event.stop();
});

$('scroll_bottom').observe('click',function(event){
    //to animate a scroll operation you can pass true
    //or a callback that will be called when scrolling is complete
    scrollbar.scrollTo('bottom',function(){
        if(typeof(console) != "undefined")
            console.log('Finished scrolling to bottom.');
    });
    event.stop();
});

$('scroll_second').observe('click',function(event){
    //you can pass a number or element to scroll to
    //if you pass an element, it will be centered, unless it is
    //near the bottom of the container
    scrollbar.scrollTo($('second_subhead'));
    event.stop();
});

$('scroll_third').observe('click',function(event){
    //passing true will animate the scroll
    scrollbar.scrollTo($('third_subhead'),true);
    event.stop();
});

$('scroll_insert').observe('click',function(event){
    $('scrollbar_content').insert('&lt;p><b>Inserted: ' + $('repeat').innerHTML + '</b>&lt;/p&gt;');
    //you only need to call this if ajax or dom operations modify the layout
    //this is automatically called when the window resizes
    scrollbar.recalculateLayout();
    event.stop();
});

    });}
  </script>
</head>
<body>
 <div id="groups">
                        <p style="font-family: arial; font-size:13px; font-weight:bold; color: grey; text-align:center;">My Groups</p>
                        <div id="scrollbar_container">
                            <div id="scrollbar_track"><div id="scrollbar_handle"></div></div>  
                            <div id="scrollbar_content">  <!-- Groups Nmaes-->
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g1.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Heye sup</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g2.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Sale anywhere?</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g1.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Marriage :)</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g2.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Happy b'day divya!</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g1.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">New year plans?</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g2.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Wassup???</span></span></a>
                            <!--    <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g2.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Wassup???</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g2.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Wassup???</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g2.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Wassup???</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g2.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Wassup???</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g2.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Wassup???</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g2.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Wassup???</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g2.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Wassup???</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g2.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Wassup???</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g2.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Wassup???</span></span></a>
                             --></div>
                        </div>
                    </div>
                        <div id="follow">
                        <p style="font-family: arial; font-size:14px; font-weight:bold; color: grey; text-align:center;">Follow Alerts<br/><span style="font-size:11px; font-weight:400;">(Updates of people whom you follow)</span></p>
                        <div id="scrollbar_container">
                        <div id="scrollbar_track"><div id="scrollbar_handle"></div></div>
                            <div id="scrollbar_content">  <!-- Groups Nmaes-->
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g1.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Sanjeev Kapoor</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g2.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Shehnaz Hussain</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g1.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Sonia Gandhi</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g2.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Shobha De</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g1.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">A R Rahman</span></span></a>
                                <a href="http://google.co.in"><span id="g1"><img alt="image" src="images/g2.png" id="group_img" style="vertical-align:middle"/><span style="vertical-align:middle">Dr Jayanti Reddy</span></span></a>
                            </div>
                        </div>
                    </div>
</body>
</html> 
```

我能够获得“组”div 的滚动条，但无法获得“关注”div 的滚动条。有人能建议我哪里出错吗？有人能解释一下 javascript 中 document.observe('dom:loaded',function()) 的工作原理吗？

# haskell - 如何分别制作接口和实现文件？

> ID：14232444
> 
> 赞同：1
> 
> 时间：2013-01-09T09:52:52.207
> 
> 标签：haskell

我想在 Haskell 中分别制作接口（类或实例）和实现文件，如下所示：

file1：（用于接口）

```
X 类
   funcX1 = doFuncX1
   funcX2 = doFuncX2
   ……

实例 Y 其中
   funcY1 = doFuncY1
   funcY2 = doFuncY2
   ...

```

文件2：（用于实施）

```
doFuncX1 = ...
doFuncX2 = ...
doFuncY1 = ...
...

```

当必须在 file2 中导入 file1 时，我该怎么做，反之亦然？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T09:59:22.097

在 Haskell 中你不需要任何如此繁琐的分离。只需在模块导出列表`module Foo ( X(..) ... ) where ...`（`dist`黑线鳕文档。`.h`这比讨厌的 eg和`.cpp`需要手动保持同步的文件方便得多。

但是，当然，没有什么能阻止您将实现放在单独的非公共文件中。你只是不需要为此做“反之亦然”的导入，只需要一个带有必要数据类型声明的公共文件。例如

*   `Public.hs`：

    ```
    module Public(module Public.Datatypes) where

    import Public.Datatypes
    import Private.Implementations

    instance X Bar where { funcX1 = implFuncX1; ... } 
    ```

*   `Public/Datatypes.hs`：

    ```
    module Public.Datatypes where

    data Bar = Bar { ... }
    class X bar where { funcX1 :: ... } 
    ```

*   `Private/Implementations.hs`：

    ```
    module Private.Implementations(implFuncX1, ...) where

    import Public.Datatypes

    implFuncX1 :: ...
    implFuncX1 = ... 
    ```

但通常最好将所有内容都放入`Public.hs`.

# javascript - 是否可以通过地图 API 向自定义地图添加地标？

> ID：14232445
> 
> 赞同：1
> 
> 时间：2013-01-09T09:52:53.130
> 
> 标签：javascript, google-maps-api-3

我要做的是通过 JS API 渲染地图，然后使用绘图控件功能，向地图添加地标，最后将地标位置保存在某处。这样下一个地图渲染可以显示以前保存的地标。我虽然我的地标可以保存在谷歌地图的公共/私人地图中，但我没有找到办法。这是可能的还是我必须将我的地标保存在我的数据库或我的融合表中？

# axapta - 通过 SQLDataReader.get_Item() 检索值

> ID：14232447
> 
> 赞同：0
> 
> 时间：2013-01-09T09:53:06.090
> 
> 标签：axapta, dynamics-ax-2012

我正在尝试通过以下代码访问外部 sql 表。访问按预期工作，但如果必须转换数据类型以进行进一步处理，我在处理这些值时遇到问题。

以下代码可以作为 ax 中的作业执行：

```
static void Job1(Args _args)
{
    str serverName;
    str catalogName;
    str ConnectionString;
    str sqlQuery;

    System.Data.SqlClient.SqlConnectionStringBuilder connectionStringBuilder;
    System.Data.SqlClient.SqlConnection connection;
    System.Data.SqlClient.SqlCommand command;
    System.Data.SqlClient.SqlParameterCollection parameterCollection;
    System.Data.SqlClient.SqlDataReader dataReader;
    ;
    new InteropPermission( InteropKind::ClrInterop ).assert();

    sqlQuery = "SELECT TOP 10 * FROM PRODROUTE";

    serverName = SysSQLSystemInfo::construct().getLoginServer();
    catalogName = SysSQLSystemInfo::construct().getloginDatabase();
    connectionStringBuilder = new System.Data.SqlClient.SqlConnectionStringBuilder();
    connectionStringBuilder.set_DataSource(serverName);

    connectionStringBuilder.set_IntegratedSecurity(true);
    connectionStringBuilder.set_InitialCatalog(catalogName);
    ConnectionString = connectionStringBuilder.get_ConnectionString();

    connection = new System.Data.SqlClient.SqlConnection(ConnectionString);
    command = new System.Data.SqlClient.SqlCommand(sqlQuery);
    command.set_Connection(connection);

    try
    {
        connection.Open();
        try
        {
            dataReader = command.ExecuteReader();

            while(dataReader.Read())
            {
                //info( dataReader.get_Item( "PRODID" )); // ok
                //info( dataReader.get_Item( "LEVEL" )); // not working
                info ( int2str( dataReader.GetInt32( 23 ))); // not working
                //info( any2str(dataReader.get_Item( "LEVEL" ))); // not working
            }
            dataReader.Dispose();
        }
        catch 
        {
            dataReader.Dispose();
        }
        catch(Exception::CLRError)
        {
            dataReader.Dispose();
        }
        connection.Dispose();
    }
    catch
    {
        connection.Dispose();
    }
    catch(Exception::CLRError)
    {
        connection.Dispose();
    }
    command.Dispose();
    CodeAccessPermission::revertAssert();
} 
```

有四个代码行可以访问数据：

```
//info( dataReader.get_Item( "PRODID" )); // ok
//info( dataReader.get_Item( "LEVEL" )); // not working
info ( int2str( dataReader.GetInt32( 23 ))); // not working
//info( any2str(dataReader.get_Item( "LEVEL" ))); // not working 
```

如您所见，只有一行不会引发错误，因为字段的数据类型适合所需的操作。信息记录只是一个例子。如果我尝试将数据分配给 ax-table-fields，则会出现同样的问题。投射 via`int2str()`等`any2str()`也不起作用。

那么处理数据读取以进行进一步处理的正确方法是什么？

**@edit：**错误消息

Fehler während der Verarbeitung: E​​lementtyp für Variablenzuweisung ungültig。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T16:45:13.137

我刚刚尝试直接在 SSMS 中运行您的查询，发现 sql server 上的实际表中不存在 LEVEL 字段，但有一个名为“LEVEL_”的字段（这是我表上的第三个字段）。

此外，这谈到 any2str 没有做你期望它做的事情，但我认为这不是你检索 LEVEL 字段的问题。 [http://abraaxapta.blogspot.com/2012/02/kernel-function-madness-any2str.html](http://abraaxapta.blogspot.com/2012/02/kernel-function-madness-any2str.html)

# javascript - 为什么 JQuery 不会触发添加的事件监听器？

> ID：14232448
> 
> 赞同：1
> 
> 时间：2013-01-09T09:53:05.950
> 
> 标签：javascript, jquery, web, event-handling

我已经认识到，添加的事件处理程序`addEventListener`不受 `$.trigger`. 这个问题的特殊原因是，我有几个自己创建的 html 元素，它们在不使用外部库（仅纯 js）的情况下实现了一些逻辑。现在在我的主项目中，我想使用这些控件，并且还有像 jQuery 这样的外部库。例如，现在我想`element.addEventListener("event", function)`用`$(element).trigger("change")`.

**结果：什么都没发生**

当我使用这样的代码时，仅触发事件：

```
event = document.createEvent("HTMLEvents");
event.initEvent("change", true, true);
event.eventName = 'change';
element.dispatchEvent(event); 
```

另一方面...事件处理程序与 jQuery 一起添加，其中也由自定义创建的事件触发。

现在神奇的问题：为什么？

您可以在以下 jsfiddle 中找到一个小示例。[http://jsfiddle.net/UYyXv/3/](http://jsfiddle.net/UYyXv/3/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T08:37:17.003

[我从 jquery 论坛](http://forum.jquery.com/topic/why-jquery-doesn-t-trigger-added-eventlistener#14737000003888849)得到了解释。

> jQuery 事件比原生事件高一个级别。触发器伪造一个 jQuery 事件。如果你想伪造一个本地事件，你需要按照你在问题中写的那样调用它。
> 
> 简单的答案，不要使用本机事件。
> 
> JΛ̊KE

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:58:54.817

你为什么不试试

```
$(SELECTOR).change(function(e){
    e.preventDefault();
    //***DO STUFF HERE***
})
```

# python - 2D 图像投影到 3D 体积

> ID：14232451
> 
> 赞同：0
> 
> 时间：2013-01-09T09:53:13.567
> 
> 标签：python, image-processing, 3d, 2d

我正在寻找一个库、示例或类似的东西，它允许我加载一组对象的 2D 投影，然后将其转换为 3D 体积。

例如，我可以有 6 张小玩具的图片，程序应该允许我将其视为 3D 体积并最终保存它。我需要转换的对象与圆柱体非常相似（因此程序不必“理解”它是什么类型的对象）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:22:28.493

你可以说几件事，我认为自由软件中目前都不存在（但我可能错了），并且它们在实现难度上有所不同：

首先，“3D 体积”并没有明确定义您想要什么。没有一种方法可以存储此信息。一种常用的方法（对于计算机游戏和动画）是将其存储为带有纹理的网格。获取纹理很容易：你有照片。创建网格可能非常困难，具体取决于您想要什么。

你说你的物体看起来像一个圆柱体。如果您只想将图像拼接在一起并将它们作为纹理粘贴到圆柱形网格上，那应该是可能的。如果您知道拍摄图像的角度，拼接将更加容易。

然而，大多数人想要的真正酷的事情是创建任何网格，而不仅仅是一个圆柱体，基于拼接“错误”（源于视差效应，因此包含有关图片深度的信息）。我知道 Autodesk（AutoCAD 的制造商）为此提供了一个基于 Web 的工具（名为 123-something），但他们不允许您将其放入自己的程序中；你必须使用他们的界面。因此，获得结果很好，但不能作为您自己的程序的基础。

获得网格后，您将需要一个查看器（不是先查看，稍后保存；反之亦然）。您应该能够使用任何 3D 绘图程序，例如 Blender 可以查看（和编辑）许多文件类型。

# jquery - this.elem.prop 不是函数

> ID：14232465
> 
> 赞同：14
> 
> 时间：2013-01-09T09:53:50.203
> 
> 标签：jquery

我需要选择列出的州（例如印度）下的所有城市。我全选：

```
<input type="checkbox" class="selectall" /> Select All 
```

然后出现以下错误：

> this.elem.prop 不是函数

这是我的代码：

```
jQuery('.selectall').click(function() {
    stop = false;
    jQuery(this).closest('div').nextAll().each( function() {
        elem = jQuery(this).find('input');
        console.log(elem);
        if (stop || elem.hasClass('selectall')) {
            stop = true;
            return;
        }
        else
            elem.prop("checked", true);
    });
}); 
```

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-01-09T09:57:54.677

该`prop()`方法仅在 jQuery 1.6 中添加。在以前的版本中，您应该使用`attr()`.

```
elem.attr("checked", true); 
```

请注意其他答案，`elem`它已经是在此行上定义的 jQuery 对象：`elem = jQuery(this).find('input');`因此，`prop()`如果 jQuery 版本支持该方法，则该方法将可用。

* * *

更新

要切换复选框，请使用：

```
if (stop || elem.hasClass('selectall')) {
    stop = true;
    return;
}
else
    elem.prop("checked", !elem.is(':checked')); // toggle the checkbox 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-21T14:22:01.117

您的 JQuery 版本必须低于 v1.6。请参阅以下 JQuery 文档链接，该链接指出“prop”函数仅从 v1.6 开始添加。

[http://api.jquery.com/prop/](http://api.jquery.com/prop/)

所以你的问题的解决方案是使用“attr”函数而不是“prop”。

显然， attr 检索属性（这是 HTML 元素的初始 String 值），而 prop 检索属性（可以是 DOM 操作值，可以是任何类型，例如字符串、布尔值等）。阅读以下 Stackoverflow 链接，了解有关两者区别的更详细说明。

[.prop() 与 .attr()](https://stackoverflow.com/questions/5874652/prop-vs-attr?lq=1)

# jquery - ColdFusion：查询到 JSON

> ID：14232479
> 
> 赞同：8
> 
> 时间：2013-01-09T09:55:18.303
> 
> 标签：jquery, json, coldfusion

我有一个查询，我想将其转换为 JSON 对象。

在我的查询中，有一个字符串（例如`"0000"`or `"0001"`）。不幸的是，在调用 之后`SerializeJSON`，String 是一个数字（`0`, `1`, ...）。

使用 jQuery 调用函数时出现错误，因为 JSON 对象无效。引号失败：

```
{
   "COLUMNS": ["Test1","Test2","Test3"],
   "DATA": [ ["AA ",0000,"testestest"] ]
} 
```

我已经尝试了很多东西。你能帮助我吗？

这是我的代码：

```
<cffunction name="getData" access="remote" returntype="any" returnformat="JSON">
    SQL....

    <cfset result = SerializeJSON(result)>

    <cfreturn result>
</cffunction> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-09T11:49:05.483

This a ColdFusion 9 bug which had been registered in the Adobe ColdFusion (Bug ID 83638). You can upgrade your ColdFusion to ColdFusion 9.0.1 to resolve this issue. You need to just install the hot fix.

Visit the following URL for installing the hot fix.

[http://helpx.adobe.com/coldfusion/kb/cumulative-hotfix-1-chf1-coldfusion.html](http://helpx.adobe.com/coldfusion/kb/cumulative-hotfix-1-chf1-coldfusion.html)

This fix is already added in ColdFusion 10.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-09T18:42:39.527

虽然不完全相同，但[这里有一篇文章](https://stackoverflow.com/questions/14149398/how-can-i-use-angularjs-and-a-serializejson-cfquery)，我询问了关于将查询序列化为 json 以与 AngularJS 一起使用，这可能会有所帮助

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-09T10:11:35.267

此功能可能会有所帮助：[http ://www.davidosomething.com/blog/fix-cf-serializejson-number-conversion](http://www.davidosomething.com/blog/fix-cf-serializejson-number-conversion)

或者，使用这种方法： [http ://www.ghidelli.com/2008/12/19/tricking-serializejson-to-treat-numbers-as-strings](http://www.ghidinelli.com/2008/12/19/tricking-serializejson-to-treat-numbers-as-strings)

您可以修改您的查询，以便它选择列并同时附加一些前导空格，例如

```
<cfquery>
  SELECT ' ' + Test2 AS yourColumn 
```

# entity-framework - .include 在以下查询中不包括真的

> ID：14232481
> 
> 赞同：2
> 
> 时间：2013-01-09T09:55:25.397
> 
> 标签：entity-framework, include

```
var diaryEntries = (from entry in repository.GetQuery<OnlineDiary.Internal.Model.DiaryEntry>()
                               .Include("DiaryEntryGradeChangeLog")
                               .Include("DiaryEntryAction")
                                           join diary in repository.GetQuery<OnlineDiary.Internal.Model.OnlineDiary>()                                           
                                           on entry.DiaryId equals diary.Id
                                           group entry
                                           by diary
                                           into diaryEntriesGroup
                                           select new { Diary = diaryEntriesGroup.Key,
                                               DiaryEntry = diaryEntriesGroup.OrderByDescending(diaryEntry => diaryEntry.DateModified).FirstOrDefault(),
                                           }); 
```

此查询不包括“DiaryEntryGradeChangeLog”和“DiaryEntryAction”导航属性，此查询有什么问题？

我已经从查询中删除了联接并按照下面的方法进行了更正，但它仍然没有填充任何内容

```
var diaryEntries = from entry in repository.GetQuery<OnlineDiary.Internal.Model.DiaryEntry>()
                                   .Include("DiaryEntryGradeChangeLog").Include("DiaryEntryAction")
                                   .Where(e => 1 == 1)
                                       group entry
                                       by entry.OnlineDiary
                                       into diaryEntryGroups
                                       select 
                                       new { DiaryEntry = diaryEntryGroups.OrderByDescending(diaryEntry => diaryEntry.DateModified).FirstOrDefault() }; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:26:15.037

它不会。`Include`仅当查询的形状不改变时才有效（按设计）。如果您使用此查询，它将起作用，因为查询的形状仍然相同（`OnlineDiary.Internal.Model.DiaryEntry`）：

```
var diaryEntries = (from entry in repository.GetQuery<OnlineDiary.Internal.Model.DiaryEntry>()
                           .Include("DiaryEntryGradeChangeLog")
                           .Include("DiaryEntryAction"); 
```

但是，一旦您使用手动连接、分组或投影 ( `select new { }`)，您就改变了查询的形状，所有`Include`调用都将被跳过。

编辑：

您必须使用这样的东西（未经测试）来获取相关数据：

```
var diaryEntries = from entry in repository.GetQuery<OnlineDiary.Internal.Model.DiaryEntry>()
                   group entry by entry.OnlineDiary into diaryEntryGroups
                   let data = diaryEntryGroups.OrderByDescending(diaryEntry => diaryEntry.DateModified).FirstOrDefault()
                   select new { 
                       DiaryEntry = data,
                       GradeChangeLog = data.DiaryEntryGradeChangeLog,
                       Action = data.DiaryEntryAction
                   }; 
```

或任何类似的查询，您手动填充投影到匿名或未映射类型的关系的属性。

# php - PHP排序数组与键值

> ID：14232483
> 
> 赞同：0
> 
> 时间：2013-01-09T09:55:34.147
> 
> 标签：php, sorting

我正在用键值对数组进行排序。使用以下数组，我需要按**site_category**对其进行排序，并且我需要像这样的输出

例子：

```
Shopping
   Amazon
Social
   Amoeblo
   American express 
```

数组值为

```
(
    [0] => stdClass Object
        (
            [site_id] => 1
            [site_name] => Amazon
            [site_img] => http://localhost/faves/resource/img/sites/icon/amazon.png
            [site_category] => Shopping
        )

    [1] => stdClass Object
        (
            [site_id] => 2
            [site_name] => Ameblo
            [site_img] => http://localhost/faves/resource/img/sites/icon/ameblow.png
            [site_category] => Social
        )

    [2] => stdClass Object
        (
            [site_id] => 3
            [site_name] => American Express
            [site_img] => http://localhost/faves/resource/img/sites/icon/americanexpress.png
            [site_category] => Social
        )

) 
```

有什么建议可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T10:00:17.790

[几乎是按子值排序php多维数组](https://stackoverflow.com/questions/4508145/sort-php-multidimensional-array-by-sub-value)的副本

```
function cmp($a, $b) {
        return $a->site_category - $b->site_category;
}
usort($arr, "cmp"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T10:18:58.227

您可以使用 foreach 和 ksort

让 $your_array 成为你上面提到的数组

```
$res_array    = array();
foreach($your_array as $val){
   $res_array[$val->site_category][] = $val->site_name;
}
ksort($res_array);

print_r($res_array); 
```

或者在 php 中搜索 multisort 来解决你的问题:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-27T13:25:52.823

```
$tmp = array();
$i = 0;

for($i=0;$i<count($carriers);$i++){

    for($j=$i+1;$j<count($carriers);$j++){

        if($carriers[$i]['price']>$carriers[$j]['price']){

            $tmp = $carriers[$i];
            $carriers[$i] = $carriers[$j];
            $carriers[$j] = $tmp;
        }
    }
}       
return $carriers; 
```

`$carriers`这将通过它的价格键对您的数组进行排序。

# php - 将 Typo3 后端模块显示为列表

> ID：14232486
> 
> 赞同：2
> 
> 时间：2013-01-09T09:55:39.220
> 
> 标签：php, typo3, typoscript

我在 Typo3 中创建了一个后端模块，它显示在 Web 模块下。**相反，我想将我的模块数据库记录显示为与在web>list 模块**中显示相同的列表。

 **我已经在我的模块索引页面中提供了一个代码。

```
t3lib_utility_Http::redirect(t3lib_BEfunc::getModuleUrl('web_list', array(), '', TRUE) . '&' . $query); 
```

但它仅显示来自根目录的内容列表。它的路径显示为

> 路径：新的 TYPO3 站点 [0]。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-26T19:16:40.343

您不能在列表模块中“发送”模块的显示。

您必须使用`ExtJS`组件来生成数据的显示，**例如**模块列表。**

# google-api - 从 Google Drive 下载 pdf 格式的文件

> ID：14232487
> 
> 赞同：1
> 
> 时间：2013-01-09T09:55:44.743
> 
> 标签：google-api, google-drive-api

我必须下载所有 Google 驱动器文件。我正在尝试按照此 [获取下载网址](https://developers.google.com/drive/v2/reference/files/get#examples)并将此代码用于 pdf 网址我正在使用下载网址

```
file.getDownloadUrl() 
```

但是当我要求下载或转换为流时，它会抛出错误 404：未找到。

我想念的地方..一些身份验证问题或其他一些东西......下载我正在使用这样......

```
InputStream tempstream = Temp.downloadFile(service, file); 
```

和

```
private static InputStream downloadFile(Drive service, File file) {
if (file.getDownloadUrl() != null && file.getDownloadUrl().length() > 0) {
  try {
      //download url is  : "https://doc-0s-9k-docs.googleusercontent.com/docs/securesc/6rpci9p5rgc1ards1udmrkv5oparm1a2/eoas3kt0uj6afg559kiugg3d6fftlere/1357740000000/06400000604443042302/18001816663358798513/0B2tdn0tkhMowTFVyRzYzaGhWeTQ?h=16653014193614665626&e=download&gd=true" 
    HttpResponse resp =
        service.getRequestFactory().buildGetRequest(new GenericUrl(file.getDownloadUrl()))
            .execute();
    return resp.getContent();
  } catch (IOException e) {
    // An error occurred.
    e.printStackTrace();
    return null;
  }
} else {
  // The file doesn't have any content stored on Drive.
  return null;
} 
```

}

下载网址请帮助...我觉得有些我无法通过正确的身份验证调用方法....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T14:48:43.123

您必须确保：

1.  您的服务已获得授权
2.  您的下载 URL 是新的（因为它们已过期）

否则你的代码是正确的。欲了解更多信息：

[https://developers.google.com/drive/manage-downloads](https://developers.google.com/drive/manage-downloads)

# c# - 文本框中的文本保存在记事本中

> ID：14232489
> 
> 赞同：-4
> 
> 时间：2013-01-09T09:55:49.370
> 
> 标签：c#

谁能帮帮我吗？我是 C# 新手。我在 TextBox1 中写文本，当我单击“打开”按钮时，我喜欢将文本保存在记事本中。？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T09:59:46.477

您可以使用[`File.WriteAllText`](http://msdn.microsoft.com/en-us/library/system.io.file.writealltext.aspx)允许您将一些文本写入新文件的方法。例如：

```
string text = textBox1.Text + textBox2.Text;
File.WriteAllText(@"c:\file.txt", text); 
```

# matlab - openCL中CPU和GPU处理数据的区别

> ID：14232490
> 
> 赞同：3
> 
> 时间：2013-01-09T09:55:49.077
> 
> 标签：matlab, opencl, mex

我有一些使用几个大型 MEX 函数的 matlab 代码，我想通过使用 openCL 来加快速度（我正在使用 openCL API 用 openCL 代码替换 MEX 函数的部分代码）。我已经将一小部分代码翻译成 openCL 内核，但我已经面临困难。

在 GPU 上执行后得到的矩阵的某些元素与调用原始 MEX 函数时得到的矩阵的对应元素不同，并且误差小于 0.01。这会导致最终结果中出现一个小错误，但我担心当我翻译更多代码时错误会累积。

这可能与 CPU 和 GPU 的计算精度不同有关。有谁知道如何确保相同的精度？我在 Ubuntu 12.04 上运行 64 位 matlab R2012b。我使用的硬件是 Intel Core2 Duo E4700 和 NVIDIA GeForce GT 520。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T11:01:30.680

如果您将代码从在 CPU 上使用双精度（64 位）fp 数修改为使用单精度（32-位）GPU 上的 fp 数。

我不会将这种差异称为错误，而是在使用浮点数的计算机上进行算术运算的产物。您在纯 CPU 代码上获得的结果已经与任何理论上的“真实”结果不同。数值计算的大部分艺术是在整个计算期间保持理论计算和实际计算之间的差异足够小（不管这意味着什么）。这需要比我现在更多的时间和空间来扩展它，但是由于缺乏对浮点算术是什么和不是什么的理解而产生的惊喜是关于 SO 的丰富问题来源。这些问题的一些答案非常有启发性。 [这](https://stackoverflow.com/questions/588004/is-javascripts-floating-point-math-broken)应该让你开始。

如果您注意在 CPU 和 GPU 上使用相同的精度，那么您报告的差异可能由浮点运算的非交换性来解释：在浮点运算中，不能保证`(a+b)+c == a+(b+c)`. 操作顺序很重要；如果您正在进行任何 SIMD，我敢打赌这两个实现的操作顺序并不相同。即使你没有，你做了什么来确保 GPU 和 CPU 上的操作顺序相同？

至于你应该怎么做，这取决于你。您可以（尽管我个人不推荐）编写自己的例程来在 GPU 上执行双精度 fp 算术。如果您选择这样做，请期待与 GPU 承诺的大部分加速说再见。

更好的做法是确保您的单精度软件为您的目的提供足够的准确性。例如，在我工作的世界中，我们从环境中进行的原始测量通常不准确到超过 3 位有效数字，因此我们的代码产生的任何结果在大约 3 sf 之后都无效。因此，如果我可以将错误保持在第 5 个和更低的 s-fs 中，那就足够了。

`double`不幸的是，从您的角度来看，通过全局替换和重新编译不一定能保证从单精度计算中获得足够的准确性`float`，您可能（通常会）需要实现不同的算法，这些算法需要更多时间来保证更高的准确性和随着计算的进行，它们不会漂移太多。同样，您将失去一些 GPU 承诺的速度优势。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T10:01:03.897

一个常见的问题是，浮点值保存在 80 位 CPU 寄存器中，而不是每次都被截断和存储。在这些情况下，额外的精度会导致偏差。因此，您可以检查您的编译器提供了哪些选项来解决此类问题。查看发布和调试版本的差异也很有趣。

# java - 日期传递给 json

> ID：14232495
> 
> 赞同：0
> 
> 时间：2013-01-09T09:55:56.720
> 
> 标签：java, jquery, json

我使用 jQuery DataTable，并且在类中有字段：

```
public class Test {
private Date date;
...
} 
```

我想传递给 JavaScript 对象测试，但日期为 dd.mm.yyyy。我已经提交了毫秒。我怎样才能做到这一点？我使用 JSON

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:12:53.407

这取决于您用于序列化 Test 类的 JSON API。无论如何，我相信所有 API 都能够在字段级别应用自定义格式化程序/转换器。在此格式化程序/转换器中，您可以将您的 java`Date`对象转换`String`为所需格式。

例如[XStream](http://xstream.codehaus.org/)（我最喜欢的 JSON API）提供了可以实现的转换器。[在此处](http://xstream.codehaus.org/converter-tutorial.html)查看示例 （请参阅**日期转换器**部分）。

如果你使用杰克逊，你可以检查[这个答案](https://stackoverflow.com/a/5269988/579580)和[这个例子](http://loianegroner.com/2010/09/how-to-serialize-java-util-date-with-jackson-json-processor-spring-3-0/)。

还有许多其他 JSON API（JAXB 等），但 IMO XStream 更容易上手。

# ios - 应用内购买，如何获取处于“等待审核”状态的产品

> ID：14232497
> 
> 赞同：1
> 
> 时间：2013-01-09T09:56:04.677
> 
> 标签：ios, in-app-purchase, app-store-connect

我已经发布了应用，并为应用内购买添加了新产品。现在状态是“等待审核”。如何以编程方式获取产品状态？

我知道，如果您尝试购买此产品，则会收到错误代码 0。但我需要在用户开始购买之前检查我所有的产品 ID。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-27T16:25:31.957

如果您使用的是 Xcode 或 Application Loader，则您已经安装了 Transporter（Apple 的命令行工具）。您可以在以下位置找到它：/Applications/Xcode.app/Contents/Applications/Application Loader.app/Contents/MacOS/itms/bin

Transporter 有一个查找模式，允许您检索应用程序的当前元数据，并将在设置的目的地创建一个 App Store 包。

在终端应用程序中键入以下命令（导航到安装 Transporter 的目录）： $ iTMSTransporter -m lookupMetadata -u [iTunes Connect 用户名] -p [iTunes Connect 密码] -vendor_id [App SKU] -destination [应用程序的目标路径商店包] -subitemtype InAppPurchase -subitemids [requested_purchase_ID]

如果您有几个产品要检查。在 subitemids 中设置 purchase_IDs 逗号分隔列表。

# css - 顶部和底部 v-align 在同一个容器中

> ID：14232500
> 
> 赞同：0
> 
> 时间：2013-01-09T09:56:14.213
> 
> 标签：css, responsive-design

我有以下 HTML & CSS

```
<div class="menus">
    <a href="#">A</a>
    <a href="#">B</a>
    <a href="#">C</a>
    <a href="#">D</a>
    <a href="#">E</a>
    <a href="#">F</a>
</div> 
```

```
.menus a
{
    height: 2em;
    display: inline;
    float: left;
    width: 4em;
    margin: 0.3em;
} 
```

我试图将前三个链接放在顶部，最后三个放在“菜单”容器的底部，如下所示：

![在此处输入图像描述](../Images/6ddefffffa202bede53e6737555f7cc8.png)

按照[HTML 的答案： Top and Bottom v-align in same container](https://stackoverflow.com/questions/9728159/html-top-and-bottom-v-align-in-same-container)，我尝试将前三个和后三个放入自己的容器中，但随后它们失去了宽度

```
header .menus .firstThree
{
    position: absolute;
    top: 0;
}

header .menus .lastThree
{
    position: absolute;
    bottom: 0;
} 
```

![在此处输入图像描述](../Images/b72e08b3d5f26ef64aac8fb54f4235dc.png)

我什至尝试过使用:nth-child，但是它们都堆叠在一起:(

```
header .menus a:nth-child(1),
header .menus a:nth-child(2),
header .menus a:nth-child(3)
{
    position: absolute;
    top: 0;
} 
```

我需要一个绝对垂直位置之类的东西，但需要一个相对水平位置.. :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T15:57:06.193

我得到了它的工作：

```
header .menus a:nth-child(1),
header .menus a:nth-child(2),
header .menus a:nth-child(3)
{
    position: absolute;
    top: 0;
}

header .menus a:nth-child(2)
{
    margin-left: ...
}

header .menus a:nth-child(3)
{
    margin-left: ...
}

header .menus a:nth-child(4),
header .menus a:nth-child(5),
header .menus a:nth-child(6)
{
    position: absolute;
    bottom: 0;
}

header .menus a:nth-child(5)
{
    margin-left: ...
}

header .menus a:nth-child(6)
{
    margin-left: ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:18:21.307

使用菜单 div 中的 ul 和 li 元素，然后使用 css 设置 div 的高度和宽度，然后使用相对于 li 的位置。

请记住，如果您使用绝对位置，那么您将为每个元素设置样式。

谢谢，

沙鲁克

# c# - Windows Phone 上的分页数据/无限滚动

> ID：14232501
> 
> 赞同：1
> 
> 时间：2013-01-09T09:56:15.040
> 
> 标签：c#, windows-phone-7, windows-phone-8

我想知道 WindowsPhone Listbox 控件上是否有其他分页数据的解决方案。我习惯于通过手动检查滚动条位置来分页数据，当它到达屏幕末尾时，会加载更多数据。

我想问一下，是否有任何其他解决方案（更好）这样做（WP7 或 WP8）。我提到的解决方案与编写大量代码（自定义事件、滚动侦听器等）有关。我认为，可能有一个更简单的解决方案，因为 WindowsPhone sdk 8.0 已经发布......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-13T22:52:28.327

WP8 无限滚动的关键是 LongListSelector 控制和处理两个事件：

ItemRealized（加载项）和 ItemUnrealized（删除项）。

此事件会根据检测到的静态模板大小（高度）自动引发。这是一个完全自动的按需操作。引擎“知道”何时应该获取新项目或删除旧项目。

基本的：

1.  您必须手动设置模板大小。否则，同时加载的项目的数量是不可预测的。例如，如果您的模板中有图像，则它不会算作空间，除非它具有特定的高度。
2.  List 项的 ContentPresenters 似乎可以回收。因此，如果您从代码更改一个项目模板，您可以神奇地获得另一个项目的新模板！;) 所以...如果您需要两个或更多，请记住您的 ItemTemplates 并在每个 ItemRealized 事件上设置它。
3.  卸载 BitmapImage 数据非常有问题。如果您的项目模板中有 Image，您应该在 ItemUnrealized 事件中手动释放它缓存。并且还通过将 Image.Source 设置为 null 来销毁和重置绑定。并将原始源 BitmapImage 设置为具有最小 decodepixelwidth/height 的新的小型源（您不能将其设为空）。我发现这是对抗内存泄漏的唯一方法。这是详细信息[https://stackoverflow.com/a/14225871/1449841](https://stackoverflow.com/a/14225871/1449841)
4.  数据虚拟化的绑定集合可以随心所欲（百万即可）。因此，您应该绑定该集合一次，您唯一的业务将是通过提到的事件加载和卸载项目数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:02:57.467

您可以使用`HorizontalCompression`and的 VisualStatesGroups `VerticalCompression`，这样您就可以检测到您何时位于`ListBox`.

自从 Mango 以来就一直存在这种情况，因此它不是 WP8 的新功能，但绝对听起来比您当前的“hacky”事件处理程序解决方案更好。

[在 MSDN 博客上阅读它 - “Windows Phone Mango 更改，列表框：如何检测压缩（滚动结束）状态？”](http://blogs.msdn.com/b/slmperf/archive/2011/06/30/windows-phone-mango-change-listbox-how-to-detect-compression-end-of-scroll-states.aspx)

如果您不想更改控件，`LongListSelector`可以在[Windows Phone Toolkit](http://phone.codeplex.com/)中找到（注意这是 WP8 中的原生工具），这[肯定是解决问题的更好方法](http://blogs.windows.com/windows_phone/b/wpdev/archive/2012/10/01/how-to-create-an-infinite-scrollable-list-with-longlistselector.aspx)，链接文章中提到这是新的方法来做旧文章对 Mango 的看法。

# ios6 - 将 Yelp 商业照片应用到 Apple Maps 等 iPhone 应用程序中

> ID：14232502
> 
> 赞同：0
> 
> 时间：2013-01-09T09:56:15.750
> 
> 标签：ios6, foursquare, photos, yelp

我很好奇人们如何模仿 Apple Map 的 iOS6 方法来显示 Yelp 照片。例如，当用户搜索并点击一个商家时，地图会显示来自 Yelp 的该场所图片集中的照片的旋转幻灯片。照片显示淡入/淡出过渡。

有谁知道如何实现这个？此外，是否可以使用foursquare API 提供相同的方法/功能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T21:47:48.147

**Yelp API 不会让你（只有第一张图片可用），但**如果你在哪里使用他们的 API，你可以获取业务 yelp url 并从实际页面中抓取图片，但这将涉及大量维护和我不知道这会干扰他们的条款（合法吗？）

# css - CSS - 自定义光标在 Firefox 中看起来很糟糕

> ID：14232503
> 
> 赞同：5
> 
> 时间：2013-01-09T09:56:17.830
> 
> 标签：css

我很难让 Firefox 以我想要的方式显示我的自定义光标。它在 Chrome 中就像一个魅力（在 IE 中根本不是......），但在 Firefox 中它看起来像非常糟糕的 gif 图像。不得不说，它是透明的.cur。我会很高兴得到任何帮助。

铬：![在此处输入图像描述](../Images/78018fb44007719ba7dc484c92f4182a.png) 火狐：![在此处输入图像描述](../Images/27a46022018920a3fa87d8f8af38b670.png)

这是它的CSS代码：

```
#productImg TD IMG:hover {cursor: url('images/cursor.cur') 16 16, auto;} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T10:02:28.787

抱歉，这不是答案，但我没有足够的荣誉来发布到评论部分。你能否展示你用来让 .png 工作的 CSS 以及你的文件结构（即文件是相对于 .css 文件还是源元素？）。我无法让 .cur 或 .png 在 FF 中工作，尽管它们在其他浏览器中工作正常。我一直在遵循这篇文章中的建议，这对于除 FF 之外的其他浏览器来说似乎很好。

[http://beradrian.wordpress.com/2008/01/08/cross-browser-custom-css-cursors/](http://beradrian.wordpress.com/2008/01/08/cross-browser-custom-css-cursors/)

仅供参考，我正在尝试将其应用于 BODY 标签（这并不重要）。FF 可以识别 Firebug 和 Inspector 中的 CSS，尽管 Inspector 报告该值为 Auto。当我手动将属性设置为测试 Div/Class 时，FF 只是删除了该属性。当前代码如下。

光标：url(img/cursors/tinyGreen.cur)，url(../img/cursors/tinyGreen.png)，url(../img/cursors/tinyGreen.cur)，默认；

# sharepoint - programmatically get children of folder sharepoint

> ID：14232504
> 
> 赞同：0
> 
> 时间：2013-01-09T09:56:18.517
> 
> 标签：sharepoint, sharepoint-2010, document-library, sharepointdocumentlibrary

I have been asked to retrieve the contents of a document library and display them on a webpage with links to download using MVC. I can retrieve all the documents from the library with no issue. However when the documents are stored within subfolders in my document library my links only open the folder.

My document library structure is

*   Document Library
*   Document 1
*   Document 2
*   Document 3
    *   Folder 1
        *   Document 4
    *   Folder 2
        *   Document 5

I need to be able to get the child documents from within the folders and not just the documents within the document library.

Here is my code:

```
namespace SharePointMVC.Controllers
{
    [HandleError]
    public class HomeController : Controller
    {
        public ActionResult Index()
        {
            DefaultModel model = new DefaultModel();
            List<DocumentModel> documents = new List<DocumentModel>();
            List<FolderModel> folders = new List<FolderModel>();
            List<object> itemModels = new List<object>();

            using (ClientContext context = new ClientContext("MYSPSITE"))

            {
                List list = context.Web.Lists.GetByTitle("MYDOCUMENTLIBRARY");
                context.Load(list);
                CamlQuery query = new CamlQuery();
                query.ViewXml = "<View/>";
                ListItemCollection listitems = list.GetItems(query);

                context.Load(list);
                context.Load(listitems);
                context.ExecuteQuery();

                foreach (ListItem listItem in listitems)
                {
                    IEnumerable<object> items = ProcessListItems(listItem);
                    itemModels.AddRange(items);
                }

                model.Documents = documents;
            }

            return View(model);
        }

        public IEnumerable<object> ProcessListItems(ListItem listItem)
        {
            List<object> items = new List<object>();
            if (listItem.FileSystemObjectType == FileSystemObjectType.Folder)
            {
                FolderModel FolderModel = new FolderModel();
                foreach (ListItem childListItem in listItem.childItems)
                {
                    IEnumerable<object> childItems = ProcessListItems(childListItem);
                }
                items.Add(FolderModel);
            }
            else
            {
                DocumentModel documentModel = new DocumentModel();
                items.Add(documentModel);
            }
        }

        public ActionResult About()
        {
            return View();
        }
    }
} 
```

Any help will be greatly appreciated!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T14:47:02.333

Try changing `query.ViewXml = "<View/>";` to `query.ViewXml = "<View Scope=\"Recursive\"/>";`

This tell SharePoint to return items from all folders. If you want folder information returned as well, change Recursive to RecursiveAll.

# jquery - 具有相同类的所有元素都受点击功能影响

> ID：14232508
> 
> 赞同：1
> 
> 时间：2013-01-09T09:56:29.960
> 
> 标签：jquery, html, css

如何修改影响在我的 Jquery 中具有相同类的所有元素的代码以仅对我想要的 html 元素（.divCollapsilble）产生点击效果

[这是我的网站](http://jedllenado.byethost7.com/collapsible/)，显示了下面我的代码的效果

我的脚本.js：

```
// JavaScript Document
  $(document).ready(function(){
  $('.divCollapsible').hide();
  $('.divToggle').click(function(){
  var location = $(this).parent().parent();

    $('.divCollapsible').slideToggle('slow');
  });
}); 
```

我该如何实施

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-09T10:01:05.210

像这样更改代码

```
$(document).ready(function(){
  $('.divCollapsible').hide();
  $('.divToggle').click(function(){
    $(this).next(".divCollapsible").slideToggle('slow');
  });
}); 
```

[**演示**](http://jsfiddle.net/PBbmf/1/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-09T09:59:34.873

`$(this).siblings('.divCollapsible').slideToggle('slow');`应该做。这样，您只针对您的`.divToggle`with 类的兄弟姐妹，`.divCollapsible`而不是页面上的所有可折叠元素。

# ruby - 哪个版本的 Jruby 支持 IPv6？

> ID：14232515
> 
> 赞同：1
> 
> 时间：2013-01-09T09:56:49.240
> 
> 标签：ruby, jruby, ipv6

我们现在使用的是 JRuby 1.7.x，它支持 IPv6。

我想知道在哪里可以找到明确描述每个版本的 Jruby 是否支持 IPv6。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T16:12:54.253

正如已经指出的，JRuby 依赖于底层技术（JVM、Ruby 库以及 IPv6 名称服务器等）来支持 IPv6。您还可以快速检查您是否拥有所需的一切：

```
$ jruby -S irb
jruby-1.7.1 :001 > RUBY_DESCRIPTION
 => "jruby 1.7.1 (1.9.3p327) 2012-12-20 fffffff on Java HotSpot(TM) 64-Bit Server VM 1.7.0_10-b18 [darwin-x86_64]" 
jruby-1.7.1 :002 > require 'resolv'
 => true 
jruby-1.7.1 :003 > Resolv.getname('2001:4860:4860::8888')
 => "google-public-dns-a.google.com" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T12:57:46.070

我认为这与 JRuby 无关。从我读到的关于你正在运行的JVM。Java Release 1.5.0 已经有几年的历史了，它声明 Java 透明地支持 IPv6，所以 JRuby 也应该这样做：

[http://docs.oracle.com/javase/1.5.0/docs/guide/net/ipv6_guide/index.html#using](http://docs.oracle.com/javase/1.5.0/docs/guide/net/ipv6_guide/index.html#using)

# c++ - 将字符串列表输出到 ostream

> ID：14232517
> 
> 赞同：1
> 
> 时间：2013-01-09T09:56:59.433
> 
> 标签：c++, iostream, ostream

我想将字符串值列表输出到 ostream。

我可以为此声明和实现重载函数：

```
ostream& operator<< (ostream &out, const list<string> &in); 
```

...然后像这样写

```
cout << value; 
```

...但至少有两种可能的方式来转储字符串列表：每行一个字符串或一行中的所有字符串由空格分隔（或者可能是其他分隔符）。

是否可以通过流控制来改变转储功能的行为？

我想写一些类似的东西：

```
list<string> lst;
...
cout << print_as_multiline() << lst; 
```

... 和：

```
list<string> lst;
...
cout << print_as_one_line() << set_separator (", ") << lst; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-12T23:33:55.970

有几个选项： - 编写多个函数或以分隔符作为参数的函数。- 将分隔符附加到流中。您可以使用 iostream 的`xalloc()`函数来分配自定义属性槽（它应该只分配一次，然后应用于所有流）。然后，您可以使用流的`iword()`和`pword()`成员函数来访问附加的信息。还有一个您可以挂钩的事件，因此当流被销毁时会调用自定义函数。如果有必要，使用它来释放动态分配的内容。- 创建一个所谓的分面来处理列表格式。此构面附加到流的语言环境。

我的建议：选择第一个选项，它是最简单和最直接的选项。如果您需要在一个地方确定格式但实际上在完全不同的地方使用它，请使用第二个。在考虑第三个选项之前，请阅读 Langer&Kreft C++ IOStreams and Locales。;)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:18:48.543

我有个主意……你能测试一下吗？在你的操作符 << 实现文件中创建一个全局的、静态的？？变量字符串分隔符 = def sep (", ")。

在你的<<中使用它，（在返回重置到def sep之前？-你的决定）

创建一个类 set_separator，构造函数的实现与 <<. 在此构造函数中，将 Separator 设置为参数。

为类 set_separator 定义一个新的运算符 <<，什么都不做，只返回流。

与多行输出类似。

# perforce - Perforce - 我如何知道工作区是否有最新的修订文件？

> ID：14232518
> 
> 赞同：2
> 
> 时间：2013-01-09T09:57:01.563
> 
> 标签：perforce

我`p4 have file.c`在我的工作区和另一个同事的工作区中为同一个分支做了一个。我的修订显示为#5，同事的修订显示为#4。即使在他这样做之后，他的 rivision 仍然是＃4 `p4 sync -f file.c`。仍然我不明白这种不匹配的原因 - （`p4 sync -f`应该带来最新版本，即 #5）。

问题是，有人如何确认他们的文件是否是 perforce 服务器中可用的最新版本。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T12:04:58.317

`p4 sync -n`您可以使用或`p4 changes "...#>have"`在工作空间根中检查新更改。

`p4 sync`调用或打开文件时未获得新更改的可能原因`p4 sync -f`是（那时您必须解决它）。

# jquery - jquery对话框没有出现

> ID：14232520
> 
> 赞同：1
> 
> 时间：2013-01-09T09:57:13.120
> 
> 标签：jquery, html, dialog

我的页面应该发布一个对话框，说明要使用的一组准则。一个 php 脚本识别哪个（s）并相应地创建 div（s）。

然后我做一个简单的`$(document).ready( function() { $("#guidelines").dialog();})`

内部文本 (TEXT HERE) 显示为 html 半秒钟然后“消失”。

使用 Firefox 的 Inspect Element 3D View 我可以看到对话框在那里，它刚刚变得不可见（http://imgur.com/R5vx9 - 指南对话框位于红色框内）。

通过下面的代码，您可以看到设置了“显示：块”，并且我确保包含指向 css 的链接。

我检查了不同工作表是否存在任何冲突的 css 参数，但到目前为止还没有发现。

这是html

```
<div aria-labelledby="ui-id-1" role="dialog" tabindex="-1" style="outline: 0px none; z-index: 1001; position: relative; height: auto; width: auto; top: 300px; left: 0px; display: block;" class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-draggable">
    <div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix">
        <span class="ui-dialog-title" id="ui-id-1">Guidelines</span>
        <a role="button" class="ui-dialog-titlebar-close ui-corner-all" href="#">
            <span class="ui-icon ui-icon-closethick">close</span>
        </a>
    </div>
    <div scrollleft="0" scrolltop="0" style="width: auto; min-height: 20px; height: auto;" class="ui-dialog-content ui-widget-content" id="guidelines">
        TEXT HERE
    </div>
</div> 
```

对此有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:06:26.407

试试下面：

```
$("#guidelines").dialog(
{
    autoOpen: true,
    show: "blind",
    hide: "explode",
    closeOnEscape: false,
    close : function()
    {
        $( this ).dialog( "close" );
    },
    buttons:
    {
        "YES": function()
        {
            ajax_call(href);
        },
        "NO": function()
        {
            $( this ).dialog( "close" ).dialog('destroy').remove();
            return false;
        }
    }
});
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:08:11.263

我知道 autoOpen 属性默认设置为“true”，但以下代码可能会对您有所帮助

$('#guidelines').dialog('open');

对话框函数初始化后调用

# iphone - 在 NSString 中搜索模式

> ID：14232521
> 
> 赞同：0
> 
> 时间：2013-01-09T09:57:20.567
> 
> 标签：iphone, objective-c, pattern-matching, nsregularexpression

我想在字符串中搜索模式。在下面的代码中，模式字符串 '*' 可以是任何字符。

我从[这里](https://stackoverflow.com/questions/9268795/search-in-a-nsstring-for-words-that-begin-with-specific-text-and-end-with-a)得到了这个示例代码，但它对我不起作用。

```
NSString *string;
NSString *pattern;
NSRegularExpression *regex;

string = @"img=img_1.png or it can be img=img.png";
pattern = @"img=*.png";

regex = [NSRegularExpression
         regularExpressionWithPattern:pattern
         options:NSRegularExpressionCaseInsensitive
         error:nil];

NSArray *matches = [regex matchesInString:string
                                  options:0
                                    range:NSMakeRange(0, [string length])];

NSLog(@"matches - %@", matches);

for (NSTextCheckingResult *match in matches)
{
    NSRange range = [match rangeAtIndex:1];
    NSLog(@"match: %@", [string substringWithRange:range]);
} 
```

我希望 optput 字符串为 img_1.png & img.png

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T09:59:50.093

将您的模式更改为：

```
pattern = @"img=(.*?).png"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:27:42.120

这种模式可以很好地工作：

```
NSString *pattern = @"(img=img[\\S]*\\.png)"; 
```

比赛是：

```
0 : {0, 13} - img=img_1.png
1 : {27, 11} - img=img.png 
```

* * *

**或者**

用另一种模式：

```
NSString *pattern = @"(img[^=][\\S]*png)"; 
```

比赛是（没有*img=*部分）：

```
0 : {4, 9} - img_1.png
1 : {31, 7} - img.png 
```

# google-apps-script - 无法访问（保存）我的电子表格 Google 应用脚本

> ID：14232523
> 
> 赞同：0
> 
> 时间：2013-01-09T09:57:22.387
> 
> 标签：google-apps-script

我有一个与 Google Apps 脚本关联的 Google 电子表格（通过表单填写）。

现在，电子表格包含太多单元格，我无法再加载它（服务器超时）。

我对数据不感兴趣，但我真的很想检索脚本（源代码）。不幸的是，我知道的唯一方法是先加载电子表格:-(

（复制文档会超时，脚本不会被复制。）

有什么建议吗？

问候，

雷米。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:29:46.157

创建另一个脚本，该脚本制作原始电子表格的副本以备份数据，然后通过脚本清除原始电子表格。

但是，这似乎是一个应该向[Google 电子表格论坛报告的问题](http://productforums.google.com/forum/#!categories/docs/spreadsheets)

这是一个示例代码，它将电子表格备份为副本并清除原始电子表格

```
function backupDataAndClear(){
  var sourceSS = SpreadsheetApp.openById('ID_OF_ORIGINAL_SS');
  var newSS = sourceSS.copy('Backup SS');
  var sourceSheets = sourceSS.getSheets();
  for(var i in sourceSheets){
    sourceSheets[i].clear();
  }
} 
```

# java - 如何在 TextView 中设置格式化的 JSON 响应字符串？

> ID：14232524
> 
> 赞同：11
> 
> 时间：2013-01-09T09:57:33.047
> 
> 标签：java, android, json, textview

如何显示格式类似于的 JSON 响应字符串`https://jsonformatter.org/json-parser`？

例如：**如何在 textview 中显示以下代码？**

```
{
    "age":100,
    "name":"mkyong.com",
    "messages":["msg 1","msg 2","msg 3"]
} 
```

PS：最好是彩色格式。

简而言之 ..

1.如何格式化和显示JSON字符串？
2.如何格式化和显示Java代码？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-01-09T11:55:19.537

我编写了以下实用方法来格式化和缩进（还没有颜色）：

```
public static String formatString(String text){

    StringBuilder json = new StringBuilder();
    String indentString = "";

    for (int i = 0; i < text.length(); i++) {
        char letter = text.charAt(i);
        switch (letter) {
            case '{':
            case '[':
                json.append("\n" + indentString + letter + "\n");
                indentString = indentString + "\t";
                json.append(indentString);
                break;
            case '}':
            case ']':
                indentString = indentString.replaceFirst("\t", "");
                json.append("\n" + indentString + letter);
                break;
            case ',':
                json.append(letter + "\n" + indentString);
                break;

            default:
                json.append(letter);
                break;
        }
    }

    return json.toString();
} 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2018-08-09T18:17:44.300

更简单的方法，有`toString`一种带有缩进空间参数的方法`JSONObject`，

可以这样使用：

```
JSONObject jsonObject = new JSONObject(jsonString);
textView.setText(jsonObject.toString(4));// 4 is number of spaces for indent 
```

同样适用于`JSONArray`

参考 ：

[https://developer.android.com/reference/org/json/JSONObject#toString(int)](https://developer.android.com/reference/org/json/JSONObject#toString(int))

[https://alvinalexander.com/android/android-json-print-json-string-human-readable-format-debugging](https://alvinalexander.com/android/android-json-print-json-string-human-readable-format-debugging)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-12-09T11:19:03.593

@suhas_sm 建议的方法很棒，但如果键或值包含特殊字符之一，例如“{”，则无法正确缩进。

我的解决方案（基于 suhas_sm 的方法）：

```
public static String formatString(String text){

    StringBuilder json = new StringBuilder();
    String indentString = "";

    boolean inQuotes = false;
    boolean isEscaped = false;

    for (int i = 0; i < text.length(); i++) {
        char letter = text.charAt(i);

        switch (letter) {
            case '\\':
                isEscaped = !isEscaped;
                break;
            case '"':
                if (!isEscaped) {
                    inQuotes = !inQuotes;
                }
                break;
            default:
                isEscaped = false;
                break;
        }

        if (!inQuotes && !isEscaped) {
            switch (letter) {
                case '{':
                case '[':
                    json.append("\n" + indentString + letter + "\n");
                    indentString = indentString + "\t";
                    json.append(indentString);
                    break;
                case '}':
                case ']':
                    indentString = indentString.replaceFirst("\t", "");
                    json.append("\n" + indentString + letter);
                    break;
                case ',':
                    json.append(letter + "\n" + indentString);
                    break;
                default:
                    json.append(letter);
                    break;
            }
        } else {
            json.append(letter);
        }
    }

    return json.toString();
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-09T10:04:02.147

你想解析它还是简单地显示原始 JSON 响应？如果是前者：

[如何在 Android 中解析 JSON](https://stackoverflow.com/questions/9605913/how-to-parse-json-in-android)

如果要对其进行格式化，可以手动进行：

例子：

{"J":5,"0":"N"}

* * *

首先删除“{,}”，将这个数组 '"J":5,"0":"N"' 拆分为 ',' 然后为着色检查一个值是否有引号并相应地选择。只是一个简单的字符串操作。

然后输出：

*   {
*   带有着色的数组项的 foreach 循环
*   }

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-09T12:06:24.643

您可以使用[XStream](http://xstream.codehaus.org/index.html)，这是一个将对象序列化为 XML 并再次返回的库。
但它也可以用于 JSON，请看这里[XStream JSON 教程](http://xstream.codehaus.org/json-tutorial.html)
更多库可以在这里找到[http://www.json.org/](http://www.json.org/)

**编辑**
要在 HTML 中显示，您可以使用 Javascript： [JSON.stringify 函数 (JavaScript)](http://msdn.microsoft.com/en-us/library/ie/cc836459%28v=vs.94%29.aspx)

```
var jsonText = JSON.stringify(myJson, null, '\t'); \\ uses tab indent
document.write(jsonText); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-05-04T08:44:54.893

您可以使用 ObjectMapper。

首先是你将你的字符串转换为一个对象，然后做这样的事情。

```
String prettyJson = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(object); 
```

结果。

```
{
    "age":100,
    "name":"mkyong.com",
    "messages":["msg 1","msg 2","msg 3"]
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-05-17T07:02:27.377

您可以使用此方法来美化 JSON。（只是对@Rahul Tiwari 的回答的补充）

```
private String prettifyJson(String jsonString) {
    JSONObject jsonObject = null;

    try {
        jsonObject = new JSONObject(jsonString);
    } catch (JSONException ignored) {
    }

    try {
        if (jsonObject != null) {
            return jsonObject.toString(4);
        }
    } catch (JSONException ignored) {
    }

    return "empty";
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-01-23T13:28:32.567

我知道这为时已晚，但这是我最近写的一个解决方案。这将帮助您格式化已经部分格式化的 JSON 字符串。我在此处发布此内容的原因是，当我有一个部分格式化的输入 JSON 时，上述解决方案不起作用。

干得好。[https://gist.github.com/rahulrvp/d10d6bea0e0b87883da5b8ce21f96c81](https://gist.github.com/rahulrvp/d10d6bea0e0b87883da5b8ce21f96c81)

# html - 我们如何在 IE 中水平对齐 CSS 框

> ID：14232526
> 
> 赞同：0
> 
> 时间：2013-01-09T09:57:40.333
> 
> 标签：html, css

我需要在我的网页中水平排列三个 CSS 框。我尝试使用 webkit 和 mozilla box orient 和 align 属性来做到这一点。

```
-webkit-box-orient:horizontal;
-webkit-box-pack:center;
-webkit-box-align:center; 
```

此代码在 Mozilla Firefox 中运行良好，但在 IE 中无法运行。我需要水平对齐盒子的方法。代码必须支持所有网络浏览器。请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T17:26:48.223

所有网络浏览器都支持的代码是我们都希望的：3

到目前为止，大多数主流浏览器已经开始实现*一些*CSS3 特性，更具体地说，IE 还没有实现 box-orient 特性，所以你无法真正得到所有主流浏览器的支持。网络浏览器。作为一个建议，如果你正在使用响应式设计的渐进式网站，你应该只考虑使用 CSS3。如果您想这样做，我建议使用[modernizr来帮助您。](http://modernizr.com/)

否则，您应该坚持使用经过验证的真实方法，例如`inline`和`float`或*可能*是表格布局。

* * *

我为您采样了一些示例[JSFiddle](http://jsfiddle.net/TCKmD/)的屏幕截图，使用[browsershots](http://browsershots.org/)作为基准工具，以了解不同解决方案的外观。JSFiddle 示例包括

*   `box-orient: horizontal;`
*   `float: left;`
*   `display: inline-block;`
*   表布局

我只拍摄了最新版本的浏览器截图，但您可以通过自己的比较进行更广泛的比较。

无论如何，[这里是 JSFiddle](http://jsfiddle.net/TCKmD/)，这里是截图 ![比较](../Images/e3d1336c017a197c69d6a5baf380488d.png)

如您所见，似乎所有主要浏览器及其许多版本都支持的方法是`float`和`inline-block`. 表格也可以，但我建议仅在您有数据要显示时才使用表格，它并不真正用于设计和布局。

[请注意，IE8 和 IE9 之间的唯一区别是背景颜色，因为我使用的是`:nth-child()`伪，所以实际上没有任何实际区别。而且 IE7 不知道是什么`inline-block`，所以如果你有一个渐进式站点，只需将其更改为`inline`.]

这些是唯一可以为您水平对齐框的解决方案（据我所知）。

# maven - 使用 maven jar 插件将非 Java 文件和资源文件包含到 test-jar

> ID：14232528
> 
> 赞同：7
> 
> 时间：2013-01-09T09:57:44.530
> 
> 标签：maven

我想包含脚本文件作为使用 maven 打包测试文件的一部分。我可以使用下面的插件配置但是配置和 jython 文件文件没有打包在测试 jar 中

```
 <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-jar-plugin</artifactId>
            <version>2.2</version>
            <executions>
                <execution>
                    <goals>
                        <goal>test-jar</goal>
                    </goals>
                    <configuration>
                        <includes>
                            <include>**/config/*</include>
                            <include>**/jython/*</include>
                        </includes>
                    </configuration>
                </execution>
            </executions>
        </plugin>
    </plugins> 
```

无论如何要在 test-jar 中包含不在 src/test/java 和 src/test/resources 中的文件？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-09T10:22:55.517

使用以下命令指定其他测试资源文件夹：

```
<build>
    <testResources>
        <testResource>
            <directory>src/test</directory>
            <includes>
                <include>**/config/*</include>
                <include>**/jython/*</include>
            </includes>
        </testResource>
    </testResources>
</build> 
```

然后，您应该会发现 maven-jar-plugin 不需要任何配置。

也可以使用 build-helper-maven-plugin。请参阅：[Maven - 在执行测试时将目录添加到类路径](https://stackoverflow.com/questions/1324767/maven-add-directory-to-classpath-while-executing-tests)

# drupal - 在 Drupal 7 中显示页面点击

> ID：14232529
> 
> 赞同：1
> 
> 时间：2013-01-09T09:57:46.323
> 
> 标签：drupal, drupal-7

我有一个 Drupal 站点，允许用户注册并添加他们自己的内容。我正在尝试创建每周向用户发送电子邮件的内容，并向他们显示统计信息，例如有多少人查看了您的内容等。我打开了统计模块并检查了计数内容视图。我将热门内容块移动到正确的区域，但它不会只显示最受欢迎的内容页面的点击次数。我希望能够显示点击次数。我还想知道是否有一种以编程方式打印页面点击数的方法，所以我可以这样做。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T14:35:09.823

查看统计模块的[文档](http://api.drupal.org/api/drupal/modules!statistics!statistics.module/)。您可以使用[statistics_get($nid)](http://api.drupal.org/api/drupal/modules!statistics!statistics.module/function/statistics_get/7)函数来获取节点的视图总数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:22:38.180

试试谷歌分析报告模块。由于数据库写入量巨大，统计模块对性能影响很大。

# string - matlab 字符串向量/数组处理（乘法 u 和 str2num）

> ID：14232531
> 
> 赞同：3
> 
> 时间：2013-01-09T09:57:47.750
> 
> 标签：string, matlab, vector, matrix-multiplication

我想了解这是否真的正确，或者这可能是 matlab 中的问题。

我通过以下方式创建一个字符串向量/数组：

```
>>a=['1','2';'3','4'] 
```

它返回：

```
 a =
    12
    34 
```

现在我想将内容从字符串转换为数字并将其与数字相乘：

```
>>6*str2num(a) 
```

结果如下所示：

```
 a =
    72
    204 
```

我不明白为什么逗号分隔的元素（字符串）将被连接而不是分开处理。如果您使用数字而不是字符串，它们将被分开处理。然后它看起来像这样：

```
>> a=[1,2;3,4]

a =
     1     2
     3     4

>> 6*a

ans =
     6    12
    18    24 
```

我希望得到同样的结果。有任何想法吗 ？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T10:09:03.650

您是否阅读过有关[如何在 MATLAB 中进行字符串处理的](http://www.mathworks.com/help/matlab/ref/strings.html)信息？

基本上，多个字符串只能存储为（字符串的）列向量。如果尝试存储为行向量，它们将被连接起来。这就是为什么要连接字符串`'1'`和`'2'`以及`'3'`和`'4'`。另请注意，这只有在所有结果字符串的长度相同时才有可能。

我不确定您要做什么，但是如果要将字符串存储为矩阵（即一行中的多个字符串），请考虑将它们存储在单元格数组中，例如：

```
>> A = {'1', '2'; '3', '4'}

A = 
    '1'    '2'
    '3'    '4'

>> cellfun(@str2num, A)

ans =
    1     2
    3     4 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:27:51.677

我会说使用@EitanT 建议的单元格数组可能是您的最佳解决方案。

但是，可以通过手动插入空格和排列字符数来处理字符串（或者更确切地说是字符）。

例如

```
>> a=['1 2';'3 4'] 
```

生产

```
a =

1 2
3 4 
```

并使用

```
>> 6*str2num(a) 
```

生产

```
ans =

     6    12
    18    24 
```

矩阵和字符串之间的转换使用

```
b=[1,2;3,10000];
num2str(b) 
```

空格会自动插入，并且字符会正确排列。这产生

```
ans =

1      2
3  10000 
```

# android - 如何知道被点击的按钮 id 是什么 - android

> ID：14232534
> 
> 赞同：3
> 
> 时间：2013-01-09T09:57:54.833
> 
> 标签：android

我在我的应用程序中创建了 3 个按钮，单击这些按钮将转到方法 giveClue。

```
<ImageButton
        android:id="@+id/imageButton1"
        android:layout_width="24dp"
        android:layout_height="22dp"
        android:layout_alignTop="@+id/lifeButtonsLbl"
        android:layout_toLeftOf="@+id/ImageButton2"
        android:src="@drawable/icon"
        android:onClick="giveClue" />

    <ImageButton
        android:id="@+id/ImageButton2"
        android:layout_width="24dp"
        android:layout_height="22dp"
        android:layout_alignTop="@+id/imageButton1"
        android:layout_toLeftOf="@+id/ImageButton3"
        android:src="@drawable/icon" 
        android:onClick="giveClue"/>

    <ImageButton
        android:id="@+id/ImageButton3"
        android:layout_width="24dp"
        android:layout_height="22dp"
        android:layout_alignRight="@+id/frameLayout1"
        android:layout_alignTop="@+id/ImageButton2"
        android:src="@drawable/icon"
        android:onClick="giveClue" /> 
```

注意：我不想使用不同的方法

活动课：

```
public void giveClue(View view) {
        gameAdapter.giveClue(game);
    } 
```

我的问题是我想禁用被点击的按钮。我不想为每个按钮使用不同的方法。是否可以确定单击了哪个按钮，以便我可以禁用它。

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T10:00:20.797

检查方法并将其与 R.id.imageButton1 等进行比较。通常使用 switch-case 完成`view.getId()`:)`giveClue`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:01:55.240

由于`view`您作为[onClick](http://developer.android.com/reference/android/view/View.OnClickListener.html#onClick%28android.view.View%29)的参数获得的代表被单击的视图，因此您可以调用`setEnabled(false)`以禁用该按钮。

```
public void giveClue(View view) {
    ((Button)view).setEnabled(false);  // disable button
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:00:53.803

在 XML 中有一个 Tag 的属性

```
android:tag="" 
```

您可以为所有三个按钮添加标签，并使用该标签相应地处理它们

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T10:01:23.237

像那样..

```
public void giveClue(View view) {
    if( b1.getId() == view.getId() ){
      // it was the first button
    }
    else if( b2.getId() == view.getId() ){
      // it was the second button
    }
  } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-09T10:02:21.427

来自：[Android OnClickListener - 识别一个按钮](https://stackoverflow.com/questions/3320115/android-onclicklistener-identify-a-button)

您将以一种简单的方式学习做到这一点的方法是：

```
public class Mtest extends Activity {
  Button b1;
  Button b2;
  public void onCreate(Bundle savedInstanceState) {
    ...
    b1 = (Button) findViewById(R.id.b1);
    b2 = (Button) findViewById(R.id.b2);
    b1.setOnClickListener(myhandler1);
    b2.setOnClickListener(myhandler2);
    ...
  }
  View.OnClickListener myhandler1 = new View.OnClickListener() {
    public void onClick(View v) {
      // it was the 1st button
    }
  }
  View.OnClickListener myhandler2 = new View.OnClickListener() {
    public void onClick(View v) {
      // it was the 2nd button
    }
  }
} 
```

或者，如果您只使用一个 clicklistener，您可以执行以下操作：

```
View.OnClickListener myOnlyhandler = new View.OnClickListener() {
  public void onClick(View v) {
      if( b1.getId() == ((Button)v).getId() ){
          // it was the first button
      }
      else if( b2.getId() == ((Button)v).getId() ){
          // it was the second button
      }
  }
} 
```

不过，我不建议这样做，因为您必须为`if`您使用的每个按钮添加一个。这很难维持。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-09T10:02:32.987

让你的班级实现“View.OnClickListener”，比如

```
public class MyActivity extends Activity implements View.OnClickListener {

Button button1, button2, button3;

@Override
public void onCreate(Bundle bundle) {
    super.onCreate();

    ...

    button1 = (Button) findViewById(R.id.button1);
    button2 = (Button) findViewById(R.id.button2);
    button3 = (Button) findViewById(R.id.button3);

    button1.setOnClickListener(this);
    button2.setOnClickListener(this);
    button3.setOnClickListener(this);
    }

     @Override
      public void onClick(View v) {
       switch(v.getId()) {
         case R.id.button1:
       // do stuff;
       break;
       case R.id.button2:
       // do stuff;
       break;
   ...
       }
      } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-09T10:12:08.873

实现以下一种方法，该方法获取布局的子对象的 id

```
public static void ButtonBar(final Activity a) {
    //if linear instantiate LinearLayout, if RelativeLayout instantiate RelaytiveLayout
   final LinearLayout ll = (LinearLayout) a.findViewById(R.id.your_layout_id);
      for (int i = ll.getChildCount() - 1; i >= 0; i--) {

        View v = ll.getChildAt(i);

        v.setOnClickListener(new View.OnClickListener() {

            public void onClick(View v) {

                switch (v.getId()) {
                case R.id.ImageButton1:
                    //disable here
                    break;
                case R.id.ImageButton2:
            //disable here                      
            break;
                    case R.id.ImageButton3:
            //disable here                      
            break;

                }}});
    }
  } 
```

在 giveClue 方法中只需调用上述方法..

```
public void giveClue(View view) {
       ButtonBar(this);
          // gameAdapter.giveClue(game);

} 
```

我认为这可能有效..

# jquery - 这个条件有用吗？

> ID：14232536
> 
> 赞同：0
> 
> 时间：2013-01-09T09:57:57.227
> 
> 标签：jquery, conditional-statements

```
var docH = $(document).height(),
    viewPortH = $(window).height(),
    wrapper = $("section"),
    valRight = wrapper.css("right");

  if (docH > viewPortH && valRight != w3) {
    wrapper.stop().animate({
      "right": -w3
    }, 700);
  } 
```

`valRight != w3`我想知道拥有第二个条件（`w3`在文档前面定义）是否有用（在性能方面）。假设没有它，代码可以完美运行，但我认为它可能有用：

当 jQuery 读取这个并看到文档比窗口高时，即使`right`值已经是，它也会执行该函数，`-w3`这会导致一些不必要的开销。我想通过额外的条件来解决这个问题。但在这种情况下它有用吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:02:15.620

A`!=`对两个数字比排队不必要的动画帧要快得多。

但是，您可以通过以下方式节省更多时间；

```
var wrapper = $("section"),
    valRight = wrapper.css("right");

if (valRight != w3) {
  var docH = $(document).height(),
    viewPortH = $(window).height();

  if (docH > viewPortH) {
    wrapper.stop().animate({
      "right": -w3
    }, 700);
  }
} 
```

...因为您将`height()`在事件中停止不必要的 jQuery 对象和计算`valRight != (-?)w3`。

# c# - 使用数据集问题更新数据库表

> ID：14232538
> 
> 赞同：0
> 
> 时间：2013-01-09T09:58:01.447
> 
> 标签：c#, .net, dataset, sqlcommand, sqldataadapter

我试图用数据集更新我的数据库表。我有一个可以编辑并导入数据集的本地 excel 文件。然后我想使用这个数据集和更新的数据来更新我的数据库表。这是我的代码：

```
public void UpdateDatabase(DataSet data, string tableName)
{
    string connectionString = ConfigurationManager.ConnectionStrings["TestDbOnBrie"].ConnectionString;
    using (SqlConnection connection = new SqlConnection(connectionString))
    {
        try
        {
            connection.Open();
            using (SqlDataAdapter adapter = new SqlDataAdapter("SELECT * FROM dbo.TransportSchedule_Customer;", connection))
            {
                SqlCommand selectCmd = new SqlCommand("SELECT * FROM dbo.TransportSchedule_Customer", connection);
                adapter.SelectCommand = selectCmd;
                SqlCommand updateCmd = new SqlCommand("UPDATE dbo.TransportSchedule_Customer SET Alias=@Alias, DeliveryDays1=@DeliveryDays1, DeliveryHours1=@DeliveryHours1, DeliveryType1=@DeliveryType1, DeliveryDays2=@DeliveryDays2, DeliveryHours2=@DeliveryHours2, DeliveryType2=@DeliveryType2, DeliveryDays3=@DeliveryDays3, DeliveryHours3=@DeliveryHours3, DeliveryType3=@DeliveryType3,  DistanceToDealer=@DistanceToDealer WHERE AdrID=@AdrID AND CustID=@CustID", connection);
                SqlCommand insertCmd = new SqlCommand("INSERT INTO dbo.TransportSchedule_Customer (CustID, Alias, AdrID, DeliveryDays1, DeliveryHours1, DeliveryType1, DeliveryDays2, DeliveryHours2, DeliveryType2, DeliveryDays3, DeliveryHours3, DeliveryType3, DistanceToDealer)" +
                    "VALUES (@CustID, @Alias, @AdrID, @DeliveryDays1, @DeliveryHours1, @DeliveryType1, @DeliveryDays2, @DeliveryHours2, @DeliveryType2, @DeliveryDays3, @DeliveryHours3, @DeliveryType3, @DistanceToDealer)", connection);

                //insertCmd.Parameters.Add("@CustID", SqlDbType.VarChar, 50, "CustID");
                //insertCmd.Parameters.Add("@AdrID", SqlDbType.Int, 50, "AdrID");
                //insertCmd.Parameters.Add("@Alias", SqlDbType.VarChar, 50, "Alias");

                //insertCmd.Parameters.Add("@DeliveryDays1", SqlDbType.VarChar, 50, "DeliveryDays1");
                //insertCmd.Parameters.Add("@DeliveryHours1", SqlDbType.VarChar, 50, "DeliveryHours1");
                //insertCmd.Parameters.Add("@DeliveryType1", SqlDbType.VarChar, 50, "DeliveryType1");

                //insertCmd.Parameters.Add("@DeliveryDays2", SqlDbType.VarChar, 50, "DeliveryDays2");
                //insertCmd.Parameters.Add("@DeliveryHours2", SqlDbType.VarChar, 50, "DeliveryHours2");
                //insertCmd.Parameters.Add("@DeliveryType2", SqlDbType.VarChar, 50, "DeliveryType2");

                //insertCmd.Parameters.Add("@DeliveryDays3", SqlDbType.VarChar, 50, "DeliveryDays3");
                //insertCmd.Parameters.Add("@DeliveryHours3", SqlDbType.VarChar, 50, "DeliveryHours3");
                //insertCmd.Parameters.Add("@DeliveryType3", SqlDbType.VarChar, 50, "DeliveryType3");

                //insertCmd.Parameters.Add("@DistanceToDealer", SqlDbType.VarChar, 50, "DistanceToDealer");
                //adapter.InsertCommand = insertCmd;

                updateCmd.Parameters.Add("@CustID", SqlDbType.VarChar, 50, "CustID");
                updateCmd.Parameters.Add("@AdrID", SqlDbType.Int, 50, "AdrID");
                updateCmd.Parameters.Add("@Alias", SqlDbType.VarChar, 50, "Alias");

                updateCmd.Parameters.Add("@DeliveryDays1", SqlDbType.VarChar, 50, "DeliveryDays1");
                updateCmd.Parameters.Add("@DeliveryHours1", SqlDbType.VarChar, 50, "DeliveryHours1");
                updateCmd.Parameters.Add("@DeliveryType1", SqlDbType.VarChar, 50, "DeliveryType1");

                updateCmd.Parameters.Add("@DeliveryDays2", SqlDbType.VarChar, 50, "DeliveryDays2");
                updateCmd.Parameters.Add("@DeliveryHours2", SqlDbType.VarChar, 50, "DeliveryHours2");
                updateCmd.Parameters.Add("@DeliveryType2", SqlDbType.VarChar, 50, "DeliveryType2");

                updateCmd.Parameters.Add("@DeliveryDays3", SqlDbType.VarChar, 50, "DeliveryDays3");
                updateCmd.Parameters.Add("@DeliveryHours3", SqlDbType.VarChar, 50, "DeliveryHours3");
                updateCmd.Parameters.Add("@DeliveryType3", SqlDbType.VarChar, 50, "DeliveryType3");

                updateCmd.Parameters.Add("@DistanceToDealer", SqlDbType.VarChar, 50, "DistanceToDealer");
                adapter.UpdateCommand = updateCmd;

                adapter.Update(data, "1");
            }
        }
        catch (Exception exception)
        {
            Console.WriteLine("ERROR in UpdateDatabase() method. Error Message : " + exception.Message);
        }
        finally
        {
            if (connection.State == System.Data.ConnectionState.Open)
            {
                connection.Close();
            }
        }
    }
} 
```

我的问题是，当我只使用更新命令时，我得到了这个错误：

**当传递带有新行的 DataRow 集合时，更新需要有效的 InsertCommand。**

当我同时使用更新命令和插入命令时，我收到此错误：

**违反主键约束“PK_TransportSchedule_Customer”。无法在对象“dbo.TransportSchedule_Customer”中插入重复键。**

我在想它认为数据集表行是新行并且必须插入，但实际上不是。这些行存在于数据库中，并且只有其中一些被更新。

有人知道该怎么做吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T11:36:19.450

好吧，我自己发现了如何做到这一点。这就是我的方法的结果。这很完美。它仅更新文件 Dataset 和数据库中的 Dataset 中存在且具有不同数据的行。

我的方法：

```
 public void UpdateDatabase(DataSet data, string custID)
        {
            DataTable fromdatabase = new DataTable();
            DataTable fromFile = data.Tables[0];

            string connectionString = ConfigurationManager.ConnectionStrings["TestDbOnBrie"].ConnectionString;
            using (SqlConnection connection = new SqlConnection(connectionString))
            {
                try
                {
                    connection.Open();
                    string sqlCmd = "SELECT * FROM dbo.TransportSchedule_Customer WHERE CustID = '" + custID + "';";
                    SqlCommand command = new SqlCommand(sqlCmd, connection);
                    using (SqlCommand updateCmd = new SqlCommand("UPDATE dbo.TransportSchedule_Customer SET DeliveryDays1=@DeliveryDays1, DeliveryHours1=@DeliveryHours1, DeliveryType1=@DeliveryType1, DeliveryDays2=@DeliveryDays2, DeliveryHours2=@DeliveryHours2, DeliveryType2=@DeliveryType2, DeliveryDays3=@DeliveryDays3, DeliveryHours3=@DeliveryHours3, DeliveryType3=@DeliveryType3,  DistanceToDealer=@DistanceToDealer WHERE Alias=@Alias AND CustID=@CustID", connection))
                    {
                        using (SqlDataAdapter adapter = new SqlDataAdapter(command))
                        {
                            adapter.UpdateCommand = updateCmd;
                            adapter.Fill(fromdatabase);
                            updateCmd.Parameters.Add("@CustID", SqlDbType.VarChar, 50, "CustID");
                            updateCmd.Parameters.Add("@Alias", SqlDbType.VarChar, 50, "Alias");

                            updateCmd.Parameters.Add("@DeliveryDays1", SqlDbType.VarChar, 50, "DeliveryDays1");
                            updateCmd.Parameters.Add("@DeliveryHours1", SqlDbType.VarChar, 50, "DeliveryHours1");
                            updateCmd.Parameters.Add("@DeliveryType1", SqlDbType.VarChar, 50, "DeliveryType1");

                            updateCmd.Parameters.Add("@DeliveryDays2", SqlDbType.VarChar, 50, "DeliveryDays2");
                            updateCmd.Parameters.Add("@DeliveryHours2", SqlDbType.VarChar, 50, "DeliveryHours2");
                            updateCmd.Parameters.Add("@DeliveryType2", SqlDbType.VarChar, 50, "DeliveryType2");

                            updateCmd.Parameters.Add("@DeliveryDays3", SqlDbType.VarChar, 50, "DeliveryDays3");
                            updateCmd.Parameters.Add("@DeliveryHours3", SqlDbType.VarChar, 50, "DeliveryHours3");
                            updateCmd.Parameters.Add("@DeliveryType3", SqlDbType.VarChar, 50, "DeliveryType3");

                            updateCmd.Parameters.Add("@DistanceToDealer", SqlDbType.VarChar, 50, "DistanceToDealer");

                            for (int i = 0; i < fromdatabase.Rows.Count; i++)
                            {
                                int Resultcompare = 0;
                                Resultcompare += string.Compare(fromdatabase.Rows[i]["DeliveryDays1"].ToString(), fromFile.Rows[i]["DeliveryDays1"].ToString());
                                Resultcompare += string.Compare(fromdatabase.Rows[i]["DeliveryHours1"].ToString(), fromFile.Rows[i]["DeliveryHours1"].ToString());
                                Resultcompare += string.Compare(fromdatabase.Rows[i]["DeliveryType1"].ToString(), fromFile.Rows[i]["DeliveryType1"].ToString());

                                Resultcompare += string.Compare(fromdatabase.Rows[i]["DeliveryDays2"].ToString(), fromFile.Rows[i]["DeliveryDays2"].ToString());
                                Resultcompare += string.Compare(fromdatabase.Rows[i]["DeliveryHours2"].ToString(), fromFile.Rows[i]["DeliveryHours2"].ToString());
                                Resultcompare += string.Compare(fromdatabase.Rows[i]["DeliveryType2"].ToString(), fromFile.Rows[i]["DeliveryType2"].ToString());

                                Resultcompare += string.Compare(fromdatabase.Rows[i]["DeliveryDays3"].ToString(), fromFile.Rows[i]["DeliveryDays3"].ToString());
                                Resultcompare += string.Compare(fromdatabase.Rows[i]["DeliveryHours3"].ToString(), fromFile.Rows[i]["DeliveryHours3"].ToString());
                                Resultcompare += string.Compare(fromdatabase.Rows[i]["DeliveryType3"].ToString(), fromFile.Rows[i]["DeliveryType3"].ToString());

                                Resultcompare += string.Compare(fromdatabase.Rows[i]["DistanceToDealer"].ToString(), fromFile.Rows[i]["DistanceToDealer"].ToString());
                                if (Resultcompare == 0)
                                {

                                    //do nothing
                                }
                                else
                                {

                                    fromdatabase.Rows[i]["DeliveryDays1"] = fromFile.Rows[i]["DeliveryDays1"];
                                    fromdatabase.Rows[i]["DeliveryHours1"] = fromFile.Rows[i]["DeliveryHours1"];
                                    fromdatabase.Rows[i]["DeliveryType1"] = fromFile.Rows[i]["DeliveryType1"];

                                    fromdatabase.Rows[i]["DeliveryDays2"] = fromFile.Rows[i]["DeliveryDays2"];
                                    fromdatabase.Rows[i]["DeliveryHours2"] = fromFile.Rows[i]["DeliveryHours2"];
                                    fromdatabase.Rows[i]["DeliveryType2"] = fromFile.Rows[i]["DeliveryType2"];

                                    fromdatabase.Rows[i]["DeliveryDays3"] = fromFile.Rows[i]["DeliveryDays3"];
                                    fromdatabase.Rows[i]["DeliveryHours3"] = fromFile.Rows[i]["DeliveryHours3"];
                                    fromdatabase.Rows[i]["DeliveryType3"] = fromFile.Rows[i]["DeliveryType3"];

                                    fromdatabase.Rows[i]["DistanceToDealer"] = fromFile.Rows[i]["DistanceToDealer"];
                                    adapter.Update(fromdatabase);
                                }

                            }

                        }
                    }
                }
                catch (Exception exception)
                {
                    Console.WriteLine("ERROR in UpdateDatabase() method. Error Message : " + exception.Message);
                }
                finally
                {
                    if (connection.State == System.Data.ConnectionState.Open)
                    {
                        connection.Close();
                    }
                }
            }
        } 
```

如果您需要帮助，请发表评论。

# java - Java：RandomAccessFile 模式“rws”与“rwd”？

> ID：14232539
> 
> 赞同：14
> 
> 时间：2013-01-09T09:58:02.203
> 
> 标签：java, file-io, metadata, java-io

[`RandomAccessFile`构造函数](http://docs.oracle.com/javase/6/docs/api/java/io/RandomAccessFile.html#mode)接受一个`mode`指定文件应该如何打开的字符串。

我对`"rws"`和`"rwd"`模式之间的区别感到困惑。

这是[文档](http://docs.oracle.com/javase/6/docs/api/java/io/RandomAccessFile.html#mode)状态：

> "rws" 与 "rw" 一样，为读取和写入而打开，并且还要求对文件内容**或元数据**的每次更新都同步写入底层存储设备。
> 
> "rwd" 像 "rw" 一样打开读写，并且还要求对文件内容的每次更新都同步写入底层存储设备。
> 
> [...]
> 
> “rwd”模式可用于减少执行的 I/O 操作的数量。使用“rwd”只需要更新要写入存储的文件内容；使用“rws”需要更新文件的内容和要写入的元数据，这通常需要至少一个低级 I/O 操作。

...并且没有解释是什么`metadata`意思。这是否意味着`"rws"`更新文件系统上*最后修改的时间戳*，而`"rwd"`不是？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-09T10:04:27.203

> 这是否意味着“rws”会更新文件系统上最后修改的时间戳，而“rwd”不会？

rws 刷新文件的内容和文件的修改日期。

rwd 刷新文件的内容，但在文件关闭之前修改日期可能不会改变。

rw 仅在您告诉它时刷新，并且在您关闭文件之前不会更改修改日期。

顺便说一句，rwd 的写入速度比 rw 慢得多，而 rws 又慢了。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-09T10:20:10.260

[FileChannel API http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html](http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html)中有一些关于文件元数据的信息

```
...The file may also have some associated metadata such as access permissions, content type, and last-modification time... 
```

此外，`FileChannel.force(boolean metadata)`API 提供了有关 rws 和 rwd 之间区别的更多信息（尽管从未提及名称）

# android - Android上的折纸/手风琴效果

> ID：14232540
> 
> 赞同：-3
> 
> 时间：2013-01-09T09:58:03.610
> 
> 标签：android, accordion, folding

谁能告诉我有没有教程可以在 Android 移动设备上实现类似的效果？

[GIF 图片](https://github.com/xyfeng/XYOrigami/blob/master/Demo/Demo.gif)

[Youtube 视频](http://www.youtube.com/watch?v=ltomVYPaV34)

我在网上看过，但我什至不知道这个效果叫什么？搜索折纸返回折纸应用程序，搜索手风琴返回，嗯，手风琴应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-11T12:58:17.230

对于手风琴效果，您可以查看这个 github 库：[Android Accordion View](https://github.com/hamsterready/android-accordion-view#android-accordion-view)

[并在这里](http://developer.android.com/training/implementing-navigation/nav-drawer.html)查看如何使用 DrawerLayout

请给我一些反馈

希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-05T11:12:32.507

可能这个 github 库可以帮助你：[https ://github.com/7heaven/bitmapMesh](https://github.com/7heaven/bitmapMesh)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-20T07:55:11.780

你能看看这个网站吗？Quartz Composer Tools 导出 android 或 ios 代码。

[http://facebook.github.io/origami/](http://facebook.github.io/origami/)

你可以浏览 github gist。 [https://gist.github.com/mustafasevgi/d49c31467053e80a9012](https://gist.github.com/mustafasevgi/d49c31467053e80a9012)

# iphone - 如何通过基于回合的api游戏中心连接两个玩家？

> ID：14232542
> 
> 赞同：2
> 
> 时间：2013-01-09T09:58:05.170
> 
> 标签：iphone, ios, game-center, multiplayer

我正在尝试使用回合制游戏中心 api 制作回合制游戏，但我遇到了这个问题。我有两部 iPhone，当我尝试通过游戏中心视图连接时，每次它都会为 iphone 1 和 iphone 2 创建新匹配。但是当我尝试真正的游戏 api 时，然后匹配连接这两个 iphone。在回合制版本中，开始时会显示“正在开始游戏...”，但在实际游戏中会先显示“正在寻找玩家...”。

如何解决？

我正在学习和尝试我在 ray wenderlich 网站上购买的 iOS 5 教程中的示例（spinningyarn - 回合制游戏中心）。

# locale - 默认区域设置上的 ZF2 CurrencyFormat 不起作用

> ID：14232543
> 
> 赞同：0
> 
> 时间：2013-01-09T09:58:07.150
> 
> 标签：locale, zend-framework2, number-formatting

在我的应用程序中，我使用服务语言。在我的 module.php 中，我通过以下方法设置用户的语言环境：

```
$translator = $e->getApplication()->getServiceManager()->get('translator');
$translator ->setLocale(\Locale::acceptFromHttp($_SERVER['HTTP_ACCEPT_LANGUAGE']))
            ->setFallbackLocale($this->setDomainLocale()); 
```

在这个应用程序上有运行服务器 domain.tdl（不同的语言）所以我在我的后备中使用一个函数来设置每个域的后备语言环境，无论如何......

我想使用currencyFormat，但我无法将它与用户的语言环境一起使用。我尝试了下面的代码，有无 '\Locale::getDefault())'; 像“1509053”这样的数字应该返回为“€ 1.509.053.00”或“，”取决于语言环境，我只得到“€ 1509053.00”。

```
$this->plugin("currencyformat")->setCurrencyCode("EUR")->setLocale(\Locale::getDefault()); 
```

\Locale::getDefault() 的输出

```
string(11) "en_US_POSIX" 
```

module.php $translator 的输出

```
 class Zend\I18n\Translator\Translator#193 (8) { protected $messages => array(0) { } 
protected $files => array(0) { } protected $patterns => array(1) { 'default' => array(1) { [0] => array(3) { 'type' => string(7) "gettext" 'baseDir' => string(119) "..../module/.../config/../language" 'pattern' => string(5) "%s.mo" } } } protected $remote => array(0) { } protected $locale => string(35) "nl-NL,nl;q=0.8,en-US;q=0.6,en;q=0.4" protected $fallbackLocale => string(5) "nl_NL" protected $cache => NULL protected $pluginManager => NULL } 
```

希望有人能让我朝着正确的方向前进:) Thnx

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T14:56:18.297

使用函数 '\Locale::getDefault();' 我们需要先设置 '\Locale::setDefault(language_code);' $translate->setLocale 没有设置 Locale::getDefault();。

# sql - 需要使用类似字符串中的选择查询的输出来构建查询

> ID：14232544
> 
> 赞同：0
> 
> 时间：2013-01-09T09:58:07.900
> 
> 标签：sql

任何人都可以帮助我使用like来构建查询：需要从传递acct_nbrof的表中获取like标签中的另一个选择查询

我期待的查询是这样的：

```
select * from unbld_usage_sum where event_data like '%**(select sbscrp_id from sbscrp_asgm where acct_nbr='0032581922')**%'; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:06:04.387

查询如何：

```
select *
from  
  unbld_usage_sum T1 INNER JOIN sbscrp_asgm T2
      ON T1.event_data = '%' + T2.sbscrp_id + '%'
where   
   T2.acct_nbr='0032581922' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:01:51.053

select * from unbld_usage_sum where event_data like '%'+(select sbscrp_id from sbscrp_asgm where acct_nbr='0032581922')+'%';

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:45:56.727

另一种方式：

```
declare @searchkey nvarchar(200)
set @searchkey = (select sbscrp_id from sbscrp_asgm where acct_nbr='0032581922')
select * from unbld_usage_sum where event_data like '%' + @searchkey + '%' 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T10:00:12.437

加入两个表，

```
select  a.*, b.*
from    unbld_usage_sum a
        INNER JOIN sbscrp_asgm b
            ON a.event_data = b.sbscrp_id
where   b.acct_nbr='0032581922' 
```

# java - 是否有相当于 Apache Commons CircularFifoBuffer 的番石榴？

> ID：14232548
> 
> 赞同：19
> 
> 时间：2013-01-09T09:58:25.157
> 
> 标签：java, collections, guava, apache-commons

我需要一种数据结构，它可以按 FIFO 顺序有效地缓冲特定数量的元素。

正如[这个问题](https://stackoverflow.com/questions/5498865/size-limited-queue-that-holds-last-n-elements-in-java)中提到的，Apache Commons 有一个 CircularFifoBuffer，但遗憾的是它没有被通用化。[存在一些](https://github.com/megamattron/collections-generic) [分叉](http://wiki.apache.org/commons/Collections/GenericCollections)，但我不确定它们的维护状态。

由于 Guava 是满足我收藏需求的首选图书馆，我想知道：Guava 有没有好的替代品？如果没有，我是否应该在我的项目中实现它，基于 Apache Commons 的 CircularFifoBuffer？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-05-06T07:41:57.980

启动 Guava 15.0 - 您可以使用[EvictingQueue](https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/EvictingQueue.java)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-09T10:28:43.597

我在 Guava 中没有看到类似的东西，但是[`ForwardingQueue`](https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/collect/ForwardingQueue.html)围绕一个[`ArrayDeque`](http://docs.oracle.com/javase/7/docs/api/index.html?java/util/ArrayDeque.html)你检查容量的地方如何`add()`，`offer()`等等。`remove()`如果它已经满了旧条目呢？

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-09T11:44:30.497

如果您想将 Apache Collections 与泛型一起使用（并且它包含工作类） ，那么[带有泛型的 Commons-Collections](http://sourceforge.net/projects/collections/)（[maven 链接）是一种方法。](http://mvnrepository.com/artifact/net.sourceforge.collections/collections-generic/4.01)`CircularFifoBuffer<E>`

另一方面，正如@FrankPavageau 所说，您可以使用自己的`ForwardingQueue`实现。一种天真的方法（有进一步优化的地方）将是这样的：

```
static class BoundedQueue<E> extends ForwardingQueue<E> {

  private final Queue<E> delegate;
  private final int capacity;

  public BoundedQueue(final int capacity) {
    this.delegate = 
        new ArrayDeque<E>(capacity); // specifying initial capacity is optional
    this.capacity = capacity;
  }

  @Override
  protected Queue<E> delegate() {
    return delegate;
  }

  @Override
  public boolean add(final E element) {
    if (size() >= capacity) {
      delegate.poll();
    }
    return delegate.add(element);
  }

  @Override
  public boolean addAll(final Collection<? extends E> collection) {
    return standardAddAll(collection);
  }

  @Override
  public boolean offer(final E o) {
    return standardOffer(o);
  }

} 
```

用法：

```
final BoundedQueue<Integer> boundedQueue = new BoundedQueue<Integer>(3);
boundedQueue.add(1);
System.out.println(boundedQueue); // [1]
boundedQueue.add(2);
System.out.println(boundedQueue); // [1, 2]
boundedQueue.add(3);
System.out.println(boundedQueue); // [1, 2, 3]
boundedQueue.add(4);
System.out.println(boundedQueue); // [2, 3, 4]
boundedQueue.addAll(Arrays.asList(5, 6, 7, 8));
System.out.println(boundedQueue); // [6, 7, 8]
((Queue<Integer>) boundedQueue).offer(9);
System.out.println(boundedQueue); // [7, 8, 9] 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-01-09T10:32:56.307

[Java`ArrayBlockingQueue`](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ArrayBlockingQueue.html)提供了一个固定大小的循环缓冲区。

# wpf - 更改值的数据网格样式行颜色

> ID：14232561
> 
> 赞同：1
> 
> 时间：2013-01-09T09:59:32.890
> 
> 标签：wpf, datagrid, colors, styles

我正在寻找一种方法来更改`Color`WPF 中的完整行`DataGrid`。我的实现需要配置信息，我想让用户明白某个值已更改。我希望默认`Color`值为黑色，但在值更改时显示红色。

我有一个属性 ，`IsChanged`它反映了我希望使用的项目的`Style`状态`Row`。

有没有办法实现这一目标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:02:27.793

我建议您在为真`DataTrigger`时使用 a 来设置背景。 就像是：`IsChanged`

```
<Style>
  <Style.Triggers>
    <DataTrigger Binding="{Binding IsChanged}" Value="true">
      <Setter Property="Background" Value="#FFFF0000" />
    </DataTrigger>
  </Style.Triggers>
</Style> 
```

您还需要将 IsChanged 属性设置为[依赖属性](http://msdn.microsoft.com/en-gb/library/ms752914.aspx)以允许绑定到它。

# android - 实现 Android 自定义标签栏

> ID：14232562
> 
> 赞同：0
> 
> 时间：2013-01-09T09:59:33.160
> 
> 标签：android

我需要在 android 设备中开发这个布局，我在设计中使用了一个 tabview 和三个选项卡。TabWidget 需要位于屏幕底部，而且我需要一种方法来为 tabwidget 开发这种布局。

![在此处输入图像描述](../Images/9363fc01814be0342e52c52f6b488e01.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:03:02.133

只需尝试以这种方式获取`TabWidget`屏幕底部的 ：

> ```
> <?xml version="1.0" encoding="utf-8"?>
>  <TabHost xmlns:android="http://schemas.android.com/apk/res/android"
>     android:id="@android:id/tabhost"
>     android:layout_width="fill_parent"
>     android:layout_height="fill_parent">
> <LinearLayout
>     android:layout_width="fill_parent"
>     android:layout_height="fill_parent"
>     android:orientation="vertical">
>     <FrameLayout
>         android:id="@android:id/tabcontent"
>         android:layout_width="fill_parent"
>         android:layout_height="fill_parent"
>         android:layout_weight="1" />
>     <TabWidget
>         android:id="@android:id/tabs"
>         android:layout_width="fill_parent"
>         android:layout_height="wrap_content"
>         android:gravity="center|center" 
>         android:tabStripEnabled="false"/>        
> </LinearLayout> 
> ```

# java - Log4j2 - 如何配置 JDBC Appender？

> ID：14232566
> 
> 赞同：1
> 
> 时间：2013-01-09T09:59:39.320
> 
> 标签：java, logging, jdbc, log4j, log4j2

是否可以在 log4j v2 中配置 JDBC appender？

* * *

在 log4j v1.2.9 中这样做没有问题，但我在 log4j2 文档中没有找到任何关于此的信息。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-17T11:14:52.277

从 beta4（以及即将发布的 beta5）开始，没有 JDBC appender。

我建议您在邮件列表中请求此功能，或者在您的功能请求中提交[JIRA 。](https://issues.apache.org/jira/browse/LOG4J2)

* * *

更新：beta7（2013 年 6 月）增加了对 JDBC、JPA 和 NoSQL 数据库 Appender 的支持。

# android - Android：是否可以通过编程方式强制停止和清除应用程序的数据？

> ID：14232569
> 
> 赞同：0
> 
> 时间：2013-01-09T09:59:46.810
> 
> 标签：android, kill-process

我试图以编程方式杀死一个应用程序，就像Android在内存过载时所做的那样。我在stackoverflow本身中搜索了许多关于杀死应用程序的帖子，最后都说用户不可能在某个时间点做时间，但可以通过遵循标准来完成，例如一旦移动完成活动并最后调用**killProcess(pid) fn**。

我的怀疑是杀死一个应用程序是强制停止它并清除它所拥有的数据。是否可以通过编程方式执行这些操作？如果是这样，我们可以以编程方式实现杀戮过程..

问候，

迪帕克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:27:31.850

您可以通过它的名称停止任何其他正在运行的应用程序，如下所示：

```
ActivityManager am = (ActivityManager) context.getSystemService(Activity.ACTIVITY_SERVICE);
am.killBackgroundProcesses(appPackageName); 
```

此代码将在 API8 或更高版本中工作。

“干净的数据”是什么意思？如果您的意思是释放当前正在运行的进程使用的内存 - 它将自动完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T10:49:21.977

我可以获得以编程方式清除应用程序数据的解决方案。当我们单击**Settings->Application->Manage Application->App Name**中的 Clear Data 按钮时，我可以通过**反映用于清除数据的方法**来实现它。 .我从android源中找到了那个方法..

 ****笔记：**

clear data fn 仅清除数据，但不会在 4.0+ 中强制停止应用程序，但应用程序在清除 2.3 中的数据时也会强制停止。

感谢您的回复

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:16:07.187

是的，你可以用一条线来做。但是您的设备需要先植根

```
android.os.Process.killProcess(pid); 
```**

# java - 获取在java文件中设置的速度文件中的属性

> ID：14232573
> 
> 赞同：0
> 
> 时间：2013-01-09T09:59:55.800
> 
> 标签：java, spring, spring-mvc

我已将控制器中的属性设置为：

```
request.setAttribute("imageMap", s); 
```

`s`定义为：

```
String s = ChartUtilities.getImageMap("imageMap", info); 
```

我正在访问 vm 文件中的 imageMap，`$imageMap`但我没有得到想要的结果。请告诉我哪里出错了。谢谢

# javascript - 如何在uiautomation中将字符串转换为整数？

> ID：14232576
> 
> 赞同：0
> 
> 时间：2013-01-09T10:00:11.383
> 
> 标签：javascript, ui-automation, ios-ui-automation

我正在从文本字段中提取一个值（使用 .value()），然后我想向它添加一个数字，以便我可以检查具有上述组合结果的另一个值。目前，当我向它添加数字时，它会被附加到它上面。例如，如果值为 55，我将数字 1 添加到它，所以结果是 551 而不是 56。这是因为它是作为字符串然后附加它，所以有人知道在 javascript 中将字符串转换为整数的方法为 UI 自动化？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:02:33.287

Javascript 提供了[parseInt()](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/parseInt)函数用于将字符串转换为整数。

```
var strNum = "3";
var num = parseInt(strNum,10);
(typeof num == "number") ? alert("Is a number"):alert("Not a Number"); 
```

# android - android图像库交换不起作用

> ID：14232582
> 
> 赞同：1
> 
> 时间：2013-01-09T10:00:26.467
> 
> 标签：android, image, gallery, image-gallery, android-gallery

我是安卓新手。我正在使用 Intent 显示全屏图像并在图像之间滑动。代码如下：

（我正在使用网格来显示图像，一旦我单击网格中的图像，我就会调用意图）

```
Gridview_sponsor = (GridView) findViewById(R.id.gridViewSponsor);

Gridview_sponsor
                    .setOnItemLongClickListener(new OnItemLongClickListener() {

                        public boolean onItemLongClick(AdapterView<?> arg0,
                                View arg1, int pos, long id) {
                            AlertDialog diaBox = AskOption(imagesName.get(pos)
                                    .toString());
                            diaBox.show();

                            return true;
                        }
                    });
            Gridview_sponsor.setOnItemClickListener(new OnItemClickListener() {
                public void onItemClick(AdapterView<?> arg0, View arg1,
                        int position, long arg3) {
                    Intent intent = new Intent(Intent.ACTION_VIEW);
                    intent.setDataAndType(
                            Uri.parse("file://" + imagesName.get(position)),
                            "image/*");
                    startActivity(intent);

                }
            }); 
```

以前它工作正常。但是在卸载现有应用程序后它会停止交换。

在上面的代码`imagesName.get(position)`中包含我分配给`ACTION_VIEW`意图的图像路径。但它只是全屏显示图像并放大，缩小功能工作正常。但图像没有从该文件夹中滑动

# python - 用numpy插入一个角度的旋转

> ID：14232588
> 
> 赞同：5
> 
> 时间：2013-01-09T10:00:34.883
> 
> 标签：python, optimization, numpy, rotation

我有*一点*

```
x = ..
y = ..
p = np.matrix([[x],[y]]) 
```

**我希望以d**度为增量围绕原点旋转该点以获得**N = 360/d**个点。例如，我想象以下功能。

```
points = interpolate360(d, p) 
```

点的形状应为 (2,N)

我可以在循环中使用新的旋转矩阵为每个旋转执行代码，然后将结果连接起来，但我希望有某种矢量化解决方案。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-09T14:42:43.983

在大多数情况下，使用 numpy`matrix`可能不是最好的主意。解决问题的一种方法是创建一个 3D 数组，其中`[n, :, :]`保存`n`第 -th 角度的旋转矩阵。你不能有 3D `matrix`，所以如果你混合数组和矩阵类型并且仍然想依赖`*`做矩阵乘法，它会变得混乱。如果您坚持使用数组，并`np.dot`以可预测的方式处理矩阵乘法，则以下代码可以很好地工作。它实际上也需要 a `matrix`，但首先将其转换为`ndarray`：

```
def interpolate360(d, p):
    p = np.array(p)
    angles = np.arange(0, 2 * np.pi, d * np.pi / 180)
    sin = np.sin(angles)
    cos = np.cos(angles)

    rot_matrices = np.empty((angles.shape[0], 2, 2))
    rot_matrices[..., 0, 0] = cos
    rot_matrices[..., 0, 1] = -sin
    rot_matrices[..., 1, 0] = sin
    rot_matrices[..., 1, 1] = cos

    return np.dot(rot_matrices, p) 
```

如以下示例所示，如果您的输入是一维行向量、二维单列向量或包含多个列向量的二维数组，则此方法有效：

```
>>> interpolate360(90, [0, 1])
array([[  0.00000000e+00,   1.00000000e+00],
       [ -1.00000000e+00,   6.12323400e-17],
       [ -1.22464680e-16,  -1.00000000e+00],
       [  1.00000000e+00,  -1.83697020e-16]])
>>> interpolate360(90, [[0], [1]])
array([[[  0.00000000e+00],
        [  1.00000000e+00]],

       [[ -1.00000000e+00],
        [  6.12323400e-17]],

       [[ -1.22464680e-16],
        [ -1.00000000e+00]],

       [[  1.00000000e+00],
        [ -1.83697020e-16]]])
>>> interpolate360(90, [[1, 0], [0, 1]])
array([[[  1.00000000e+00,   0.00000000e+00],
        [  0.00000000e+00,   1.00000000e+00]],

       [[  6.12323400e-17,  -1.00000000e+00],
        [  1.00000000e+00,   6.12323400e-17]],

       [[ -1.00000000e+00,  -1.22464680e-16],
        [  1.22464680e-16,  -1.00000000e+00]],

       [[ -1.83697020e-16,   1.00000000e+00],
        [ -1.00000000e+00,  -1.83697020e-16]]]) 
```

# select - SimplecartJs - 选择尺寸不适用于 ie 8

> ID：14232589
> 
> 赞同：0
> 
> 时间：2013-01-09T10:00:48.803
> 
> 标签：select, internet-explorer-8, simplecart

我在使用 SimplecartJS 时遇到了与 Internet Explorer 8 的兼容性问题：

我可以选择尺寸：（shop.php）

```
<select class="item_Size">
    <option value="15 x 10 cm">15 x 10 cm - 2€&lt;/option>
    <option value="15 x 21 cm">15 x 21 cm - 3€&lt;/option>
    <option value="21 x 29,7 cm">21 x 29,7 cm - 5€&lt;/option>
    <option value="21 x 29,7 cm encadré">21 x 29,7 cm encadré - 20€&lt;/option>
</select> 
```

和一个小的 JS 脚本来设置大小的价格：（script.js）

```
simpleCart.bind( 'beforeAdd' , function( item )
{
    if( item.get( 'size' ) == '15 x 10 cm' )
    {
        item.price( '2' );
    }
    else if( item.get( 'size' ) == '15 x 21 cm' )
    {
        item.price( '3' );
    }
    else if( item.get( 'size' ) == '21 x 29,7 cm' )
    {
        item.price( '5' );
    }
    else if( item.get( 'size' ) == '21 x 29,7 cm encadré' )
    {
        item.price( '20' );
    }
}); 
```

它在 Firefox、Safari 等中完美运行，但在 ie 8 中无法正常运行（未在 ie 7 中测试）。

我已经尝试在 JS 脚本 (item.price(20);) 中不围绕 item.price 值使用简单的引号，但没有任何变化。

有人有想法帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T11:40:31.710

好的，伙计们，我做到了！我不知道语法是否正确，我认为它可以最小化，但它适用于 IE 8。我希望它可以帮助某人：

```
if ( $.browser.msie )
{
    $('.item_add').click(function()
    {
        var id_du_select_photo_ie = this.id;
        var selecteur = 'selec' + id_du_select_photo_ie;
        var selectionne = ' option:selected';
        var valeur_select_photo_ie = $('#selec' + id_du_select_photo_ie + selectionne).val();       
        simpleCart.bind("beforeAdd", function(item)
        {
            if(valeur_select_photo_ie == "15 x 10 cm")
            {
                item.price(2);
                item.set( "size" , valeur_select_photo_ie );
            }
            else if(valeur_select_photo_ie == "15 x 21 cm")
            {
                item.price(3);
                item.set( "size" , valeur_select_photo_ie );
            }
            else if(valeur_select_photo_ie == "21 x 29,7 cm")
            {
                item.price(5);
                item.set( "size" , valeur_select_photo_ie );
            }
            else if(valeur_select_photo_ie == "21 x 29,7 cm encadré")
            {
                item.price(20);
                item.set( "size" , valeur_select_photo_ie );
            }
        });
    });
}

if ( !$.browser.msie )
{
    simpleCart.bind("beforeAdd", function(item)
    {   
        if(item.get("size") == "15 x 10 cm")
        {
            item.price(2);
        }
        else if(item.get("size") == "15 x 21 cm")
        {
            item.price(3);
        }
        else if(item.get("size") == "21 x 29,7 cm")
        {
            item.price(5);
        }
        else if(item.get("size") == "21 x 29,7 cm encadré")
        {
            item.price(20);
        }
    });
} 
```

;-)

# mysql - 来自不同表的 2 个主键作为另一个表中的一个外键

> ID：14232600
> 
> 赞同：1
> 
> 时间：2013-01-09T10:01:25.950
> 
> 标签：mysql

是否可以将 2 个不同表中的 2 个主键组合成另一个表中的 1 个外键？我有一个名为 product_food 的表，以 food_id 作为主键，product_drinks 以 drink_id 作为主键，然后我想在我的订单表中将 food_id 和 Drink_id 作为外键组合为 product_ID？那可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:17:40.030

您不应该将其用作主键；定义不同的 Product_Id 主键。

如果需要食品饮料产品的唯一性，只需将 Food_Id 和 Drink_id 两列添加到 products 表中，并将它们设置为外键，并在它们上添加唯一索引，这样就无法添加新产品，由相同的食物-饮料元组。

这足以满足您最初的需求吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:19:01.157

从我的脑海中，有很多方法可以解决它：

1.  您在同一张表中获取食物和饮料，使用相同的 id，它们可能使用不同的字段。
2.  您制作具有唯一 ID 的餐桌产品，并使食品和饮料具有产品 ID。
3.  在 orders 表上创建可以为空的外键 food_id、drink_id 并可能添加另一个字段来指示您将使用哪个字段。

# freebase - 问答 (QA) 是否已与 Freebase 一起用作知识库？

> ID：14232603
> 
> 赞同：2
> 
> 时间：2013-01-09T10:01:32.510
> 
> 标签：freebase, mql

之前有没有在使用 Freebase 作为知识库的问答机上做过任何工作？我在网上搜索了这个，但没有得到任何实质性的东西。有没有人知道这个领域的任何工作，其中输入是一个非结构化的问题并且 QA 引擎利用 Freebase 来提供答案？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T19:56:42.757

[查看我们 Mendeley 小组中有关问答](http://www.mendeley.com/groups/585641/freebase/papers/added/0/tag/question+answering/)的论文，了解人们如何使用 Freebase 数据进行问答。那里有一篇论文涵盖了 Tom 提到的 IBM Watson 项目。

我还在 FreebaseApps.com 上做了一个小问答演示，你可以在这里试试：

[http://answers.freebaseapps.com/?q=what+is+the+population+of+paris](http://answers.freebaseapps.com/?q=what+is+the+population+of+paris)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T19:31:46.373

这听起来不像是一个编程问题，但据报道，IBM 的 Jeopardy-playing Watson 使用了 Freebase（以及许多其他信息来源），而英国的 TrueKnowledge 将其用作一种输入。

# vcf-vcard - Google CardDAV 更改 vCard UID

> ID：14232604
> 
> 赞同：1
> 
> 时间：2013-01-09T10:01:42.803
> 
> 标签：vcf-vcard, uid, carddav

我正在将 Google CardDAV 与我的 webApplication 集成。当我对新的 vCard 进行 PUT 操作时，有时会遇到一个奇怪的问题。
如果 vCard 包含 UID 并且 UID 是 GUID，Google 会将 vCard UID 更改为 16 字符 UID。

例如：这是我原来的电子名片

> BEGIN:VCARD
> 版本:3.0
> N:Pinch;David;;;
> FN:David Pinch修订
> 版:2013-01-09T09:26:34Z
> UID: **6c34bedcf256408780d8ffe269ec2b3b**
> END:VCARD

所以我把它放到谷歌 CardDAV 中，放到当前的 url 中：

> [https://www.google.com/m8/carddav/principals/__uids__/myusername@gmail.com/lists/default/6c34bedcf256408780d8ffe269ec2b3b](https://www.google.com/m8/carddav/principals/) _

结果还可以，而且联系人确实是在 Google 通讯录上创建的。
但是：
如果“现在”我从同一个 URL 检索当前的 vCard，我有以下响应。

> BEGIN:VCARD
> 版本:3.0
> N:Pinch;David;;;
> FN:David Pinch版本
> :2013-01-09T09:44:25Z
> UID: **716212e795884e43**
> END:VCARD

可以看到 UID 已经改变并从原来的传递过来了

> UID：6c34bedcf256408780d8ffe269ec2b3b

至

> UID：716212e795884e43

奇怪的是，如果我用以下请求检索卡

> [https://www.google.com/m8/carddav/principals/__uids__/myusername@gmail.com/lists/default/716212e795884e43](https://www.google.com/m8/carddav/principals/) _

我有完全相同的响应，就像 vCard 引用了两个不同的路径 URL。

但是，当我从 CardDAV 检索联系人列表时，这将返回第二个 URL。
如果我没有创建带有 GUID 而是 16 字符 UID 的 vCard，似乎 Google 接受了这一点，但有时它会改变，所以我不能确定卡片的唯一性。
一种解决方法似乎是在每次 PUT 后重新下载 vCard，但这会导致我想避免的重要负载。

我对 iCloud CardDAV 使用相同的程序，但没有发生这种情况。
任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-03-26T18:24:41.650

当您将 vCard 放入 Google CardDAV 时，它将重新创建一个新的 vCard V3.0 并处理发布的原始数据，包括数据丢失和您描述的 UID/URI 路径更改。

除了 UID 更改 Google CardDAV 还有其他问题

*   数据丢失
*   拒绝有效的电子名片
*   缓慢（每次写入操作 10-20 秒）

    以下 Google CardDAV 压力测试文章中的更多详细信息： [https ://evertpot.com/google-carddav-issues/](https://evertpot.com/google-carddav-issues/)

在 2018 年仍然看到这些失败后，我的建议是：最好使用 Google 的 Contacts API 而不是 CardDAV 实现。

# c# - 从 XML 将节点反序列化为 double[][] 我有一个包含矩阵值的 XML 文件（来自某处），我希望将其作为 double[][] 对象进入我的代码。XML 包含表节点，看起来像标准的序列化 double[][] 对象：

<el type="System.Double">0.0 问问题 问问题 2013-01-09T10:01:44.933 268 次 This question shows research effort; it is useful and clear 0 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. 我有一个包含矩阵值的 XML 文件（来自某处），我希望将其作为 double[][] 对象进入我的代码。XML 包含表节点，看起来像标准的序列化 double[][] 对象：</el>

<el type="System.Double">0.005</el><el type="System.Double">0.001</el><el type="System.Double">0.007</el><el type="System.Double">-0.012</el>

<el type="System.Double">0.033</el><el type="System.Double">-0.146</el><el type="System.Double">-0.008</el><el type="System.Double">0.006</el>

<el type="System.Double">-0.002</el><el type="System.Double">-0.004</el><el type="System.Double">-0.004</el><el type="System.Double">-0.003</el>

<el type="System.Double">0</el><el type="System.Double">0</el><el type="System.Double">0</el><el type="System.Double">0</el>

由于不是整个 XML 都采用这种形式，因此我只将这些节点提取为 XmlNode（因为 XElements 没有 InnerXml）。让我们称之为myMatrixXmlNode。然后，我尝试将其放入 MemoryStream 中，然后从中反序列化： var deserializer = new XmlSerializer(typeof(double[][])); var myMatrix = (double[][])deserializer.Deserialize(new MemoryStream(Encoding.UTF8.GetBytes(myMatrixXmlNode.InnerXml))); 这给了我一个 was not expected.错误，我还没有找到解决方案。我对此感到非常恼火。 您不能使用标准 Xml 序列化程序将此 Xml 反序列化为double[][]. double[][]Xml 序列化的格式如下： <arrayofarrayofdouble xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><arrayofdouble><double>1</double></arrayofdouble> <arrayofdouble><double>2</double></arrayofdouble></arrayofarrayofdouble> 您可以尝试使用 LinqToXml 手动解析 thos Xml 或将其转换为相应的格式。 c#.netmultidimensional-arraydeserializationxml-namespaces 4 2 回答 2 This answer is useful 2 可能最好使用 XDocument 来解析它，如下所示：- var d = XDocument.Parse(testXml); var r = d.Element("table"); var listOfDoubleArrays = new List<double[]>(); foreach (var outerArrayItem in r.Elements()) { double[] arr = new double[r.Elements().Count()]; int i = 0; foreach (var innerArrayItem in outerArrayItem.Elements()) { arr[i] = System.Convert.ToDouble(innerArrayItem.Value); i++; } listOfDoubleArrays.Add(arr); } double[][] result = listOfDoubleArrays.ToArray(); 于 2013-01-09T11:35:03.950 回答 This answer is useful 1 您不能使用标准 Xml 序列化程序将此 Xml 反序列化为double[][]. double[][]Xml 序列化的格式如下： <arrayofarrayofdouble xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><arrayofdouble><double>1</double></arrayofdouble> <arrayofdouble><double>2</double></arrayofdouble></arrayofarrayofdouble> 您可以尝试使用 LinqToXml 手动解析 thos Xml 或将其转换为相应的格式。 于 2013-01-09T10:22:01.047 回答 Related 1 wpf - 使用 wpf 如何为弹出窗口内的按钮启用“输入”按键 2 php - Magento 日志中的数组到字符串转换错误 2 java - 如何删除特定标记之前的所有内容，包括字符串中的标记 1 android - 上一行没有更多空间时如何在新行上显示对象 3 wpf - 如何以编程方式将选项卡项目添加到棱镜中的选项卡控件 2 iphone - UITextField 的键盘类型 4 javafx - JavaFx 在按下 esc 时关闭窗口？ 1 android - 从android源代码构建 4 android - 如何创建一个负数选择器 3 facebook-like - 如何使用 Webdriver 点击 Facebook Like 按钮 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：14232605
> 
> 赞同：0
> 
> 时间：
> 
> 标签：c#, .net, multidimensional-array, deserialization, xml-namespaces

我有一个包含矩阵值的 XML 文件（来自某处），我希望将其作为 double[][] 对象进入我的代码。XML 包含表节点，看起来像标准的序列化 double[][] 对象：

```
<table type="System.Double[][]"><table type="System.Double[]"><el type="System.Double">0.005</el><el type="System.Double">0.001</el><el type="System.Double">0.007</el><el type="System.Double">-0.012</el></table><table type="System.Double[]"><el type="System.Double">0.033</el><el type="System.Double">-0.146</el><el type="System.Double">-0.008</el><el type="System.Double">0.006</el></table><table type="System.Double[]"><el type="System.Double">-0.002</el><el type="System.Double">-0.004</el><el type="System.Double">-0.004</el><el type="System.Double">-0.003</el></table><table type="System.Double[]"><el type="System.Double">0</el><el type="System.Double">0</el><el type="System.Double">0</el><el type="System.Double">0</el></table></table> 
```

由于不是整个 XML 都采用这种形式，因此我只将这些节点提取为 XmlNode（因为 XElements 没有 InnerXml）。让我们称之为`myMatrixXmlNode`。然后，我尝试将其放入 MemoryStream 中，然后从中反序列化：

```
var deserializer = new XmlSerializer(typeof(double[][]));
var myMatrix = (double[][])deserializer.Deserialize(new MemoryStream(Encoding.UTF8.GetBytes(myMatrixXmlNode.InnerXml))); 
```

这给了我一个`<table xmlns=''> was not expected.`错误，我还没有找到解决方案。我对此感到非常恼火。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T11:35:03.950

可能最好使用 XDocument 来解析它，如下所示：-

```
 var d = XDocument.Parse(testXml);
    var r = d.Element("table");

    var listOfDoubleArrays = new List<double[]>();
    foreach (var outerArrayItem in r.Elements())
    {
        double[] arr = new double[r.Elements().Count()];
        int i = 0;
        foreach (var innerArrayItem in outerArrayItem.Elements())
        {
            arr[i] = System.Convert.ToDouble(innerArrayItem.Value);
            i++;
        }
        listOfDoubleArrays.Add(arr);
    }
    double[][] result = listOfDoubleArrays.ToArray(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:22:01.047

您不能使用标准 Xml 序列化程序将此 Xml 反序列化为`double[][]`.

`double[][]`Xml 序列化的格式如下：

```
<ArrayOfArrayOfDouble xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'     xmlns:xsd='http://www.w3.org/2001/XMLSchema'>
  <ArrayOfDouble>
    <double>1</double>
  </ArrayOfDouble>
  <ArrayOfDouble>
    <double>2</double>
  </ArrayOfDouble>
</ArrayOfArrayOfDouble> 
```

您可以尝试使用 LinqToXml 手动解析 thos Xml 或将其转换为相应的格式。</double[]>

# mysql - MySQL 代码到 postgres

> ID：14232609
> 
> 赞同：0
> 
> 时间：2013-01-09T10:01:53.437
> 
> 标签：mysql, psql

你好，我想知道如何在 postgres 中做这样的事情。我知道 postgres 不支持 interjoin 数据库。但我相信有一些方法。

```
UPDATE lportal.layoutset l, lportal2.layoutset l2 
SET l.themeId = l2.themeId 
WHERE l.layoutSetId = l2.layoutSetId; 
```

谢谢你们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T11:16:10.770

PostgreSQL 不支持跨数据库查询。你可以用[dblink](http://www.postgresql.org/docs/current/static/dblink.html)解决这个问题，但它真的不是很好。

如果可能，重组以在单个*数据库中使用多个**模式*。

# android - 在 Android 中请求 GSM/UMTS 位置更新

> ID：14232612
> 
> 赞同：1
> 
> 时间：2013-01-09T10:02:05.860
> 
> 标签：android, telecommunication, umts

让我总结一下我的问题以及我想要实现的目标。

我有一部搭载 Android 2.3.3 的索尼爱立信 X10i 手机。我意识到有时我的手机没有接听电话，即使它表明完全覆盖。我在 MSC/VLR 中检查了自己，它表明我已注册并且我的手机当前处于活动状态（并且也没有 IMSI DETACH 标志），所以它应该可以正常工作（只有最后一个激活日期有点旧~几小时，这也可以很好，没有短信/呼叫/位置更新），正如我之前提到的，手机表示完全覆盖，而且它似乎在网络上。但是当我试图打电话给它时，我只到达了语音信箱。在 MSC/VLR 中，我看到呼叫没有寻呼响应原因，但电话什么也没做。我尝试使用其他软件版本（4.0.3 ICS），但结果相同。但我没有注意到不同手机（相同类型）的类似行为。抱歉，总结太长了。

所以因为我上面描述的，我正在尝试编写一个应用程序/服务，它将在 15-20 分钟内执行 GSM/UMTS 位置更新，但我在 中找不到任何类型的程序`android.telephony.gsm.GsmCellLocation`，`android.telephony.TelephonyManager`这将为我做这件事。
我的另一个担忧是 *`getState()/setStateOutOfService()/ setState()`*来自 ServiceState 类的程序……它们似乎并没有真正起作用。例如，当我第一次调用*getState()*时，我总是会返回**STATE_OUT_OF_SERVICE**，这是不正确的……当我将状态设置为`STATE_POWER_OFF`or`STATE_IN_SERVICE`时，至少我*`getState()`*之后会返回该状态，但手机对此无能为力。（甚至没有表示超出范围等……）

欢迎提出任何建议/意见。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T10:30:48.010

我也多次看到这个问题（与您的制造商相同的两部手机）。根据您的问题，我了解到您想强制手机发送 MM 定期位置更新（无论如何它都应该发送）。

这太低级了，您无法直接在编程界面中强制执行此操作。移动性管理程序是电话堆栈的一部分，在 3GPP TS 24.008 中有详细规定，可从 www.3gpp.org 获得。第 4.2.2 段定义了手机应该何时发送这些位置更新。

唯一的另一件事是尝试通过间接方式强制手机进入发送位置更新的状态。您可以通过尝试手动选择另一个网络来做到这一点。如果成功，然后您手动重新选择您的家庭网络，那么您将触发位置更新。如果它被拒绝并回退到其家庭网络，那么我认为也会触发位置更新。但这也会产生很小的成本——在进行网络扫描时使用电池，在扫描和进行手动网络选择时会浪费时间。（我个人的经验是，丢失的电话发生的频率不足以证明这一点。）

# c++ - 编译外部库时涉及增量 (C1073) 编译的错误

> ID：14232613
> 
> 赞同：8
> 
> 时间：2013-01-09T10:02:10.360
> 
> 标签：c++, compiler-errors, visual-studio-2012

我需要从 VS2008 项目中使用 DirectX 编译一个外部库。我已将其转换为 VS2012 项目，但该项目无法编译。

我在许多文件中收到以下错误：

```
> fatal error C1073: Internal error involving incremental compilation 
(compiler file 'f:\dd\vctools\compiler\cxxfe\sl\p1\c\p0io.c', line 865) 
```

这个错误是什么意思？

文件是什么`p0io.c`？我没有同名的文件（也没有`f://`磁盘）

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-05-13T06:58:07.057

对于 VS2010，禁用配置属性 | C/C++ | 代码生成 | “最小重建”避免了错误。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T14:33:17.013

您将看到`__FILE__`MSVC 编译器中的宏生成的输出。F: 驱动器是 Redmond 的构建机器上用于存储源代码的驱动器。 `dd`指 DevDiv，是 Microsoft 的服务器和工具部门的一个分支，负责开发工具产品，如 MSVC。文件名中的`p0`给出了编译器崩溃的提示，p0 是预处理器传递。因此，宏可能存在某种问题。尽管这`io`暗示了文件的问题。

没有可查看的代码，所以我只能推荐 C1073 的文档化解决方法。使用 Project + Properties、C/C++、General、Debug Information Format 设置禁用增量编译。将其从 /ZI 的默认值更改为 /Zi 并重建您的项目。确保首先手动删除构建目录中的任何 .pch 文件。希望您现在会收到错误消息，提示您的代码为何使编译器急转直下。解决这些问题，如果运气好的话，您可以重新打开 /ZI。

如果您仍然遇到问题并且您使用 VS2012 重现此问题，那么您可以在 connect.microsoft.com 提交错误报告。他们需要您的项目副本来重现问题。如果您不能等待或使用旧版本，请致电 Microsoft 支持。

# android - 触摸时停止滚动列表

> ID：14232614
> 
> 赞同：1
> 
> 时间：2013-01-09T10:02:11.867
> 
> 标签：android, scroll

触摸视图时如何停止滚动？我正在使用一个**警报对话框**，其中动态数据正在添加。但是在单击视图时它不会停止滚动。所以我觉得很难选择一个项目。任何人都可以帮助 **没有使用 Listview**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T12:55:26.267

试试这个代码：

```
YourList.setOnTouchListener(new View.OnTouchListener() {

public boolean onTouch(View v, MotionEvent event) {
  return (event.getAction() == MotionEvent.ACTION_MOVE);
}
}); 
```

# entity-framework - 使用 Code First Fluent Api 忽略此 [] 属性？添加了“项目”列

> ID：14232615
> 
> 赞同：1
> 
> 时间：2013-01-09T10:02:13.940
> 
> 标签：entity-framework, c#-4.0, ef-code-first, multilingual

[编辑：现在可以在https://bitbucket.org/moerie/multilanguagestring](https://bitbucket.org/moerie/multilanguagestring)获得完整的源代码

我已经实现了一个名为 MultilingualString 的类，它可以将字典序列化为 XML 并保存到数据库中。

（参见此处的来源：[https](https://gist.github.com/4491990) ://gist.github.com/4491990 ）

这实际上是 IDictionary 的一个实现，但我实际上并没有将它添加到我的类中，因为它似乎会导致实体框架出现问题。

这个类的用法如下：

假设类 Product 定义如下：

```
public class Product
{
    public int Id { get; set; }

    public virtual MultilingualString Description { get; set; }

    public virtual MultilingualString Name { get; set; }
} 
```

然后您可以执行以下操作：

```
 // make some products
        var product1 = new Product
        {
            Id = 1,
            Name = new MultilingualString(),
            Description = new MultilingualString()
        };
        product1.Name["fr"] = "Produit 1";
        product1.Description["fr"] = "Déscription 1";
        product1.Name["nl"] = "Produkt 1";
        product1.Description["nl"] = "Omschrijving 1"; 
```

无论如何，因为我只想要 Id 和 Xml 值，所以我做了一个 EntityTypeConfiguration：

```
public class MultilingualStringConfiguration: EntityTypeConfiguration<MultilingualString>
{
    public MultilingualStringConfiguration()
    {
        Ignore(m => m.Count);
        Ignore(m => m.Keys);
        Ignore(m => m.Values);
        Ignore(m => m.IsReadOnly);
    }
} 
```

当我运行此代码时，将创建 MultilingualStrings 表，如下所示：

```
CREATE TABLE [dbo].[MultilingualStrings](
    [Id] [int] IDENTITY(1,1) NOT NULL,
    [Value] [nvarchar](max) NULL,
    [Item] [nvarchar](max) NULL,
 CONSTRAINT [PK_dbo.MultilingualStrings] PRIMARY KEY CLUSTERED 
(
    [Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO 
```

如您所见，实体框架添加了一个名为“Item”的属性，我怀疑这是因为 MultilingualString 中的以下属性：

```
 /// <summary>
    /// Gets or sets the element with the specified key. 
    /// </summary>
    /// <returns>
    /// The element with the specified key.
    /// </returns>
    /// <param name="key">The key of the element to get or set.</param><exception cref="T:System.ArgumentNullException"><paramref name="key"/> is null.</exception><exception cref="T:System.Collections.Generic.KeyNotFoundException">The property is retrieved and <paramref name="key"/> is not found.</exception><exception cref="T:System.NotSupportedException">The property is set and the <see cref="T:System.Collections.Generic.IDictionary`2"/> is read-only.</exception>
    public string this[string key]
    {
        get
        {
            if (ContainsKey(key))
                return Translations[key];
            return string.Empty;
        }
        set
        {
            Translations[key] = value;
            UpdateValue();
        }
    } 
```

这是允许我的 MultilingualString 属性用作字典的属性，但遗憾的是我似乎无法从 EntityTypeConfiguration 访问此属性。

我怎么能忽略这个属性？提前致谢。

PS 对于那些对 MultilingualString 类感兴趣的人，请注意，您将需要 LinqKit 库（特别是 AsExpandable() 和 Compile() 函数来使用此类执行 Linq 查询。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T12:32:53.120

您有权编辑 MultilingualString 吗？尝试在给您带来麻烦的属性顶部添加注释 [NotMapped]。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T09:12:05.457

完整源代码：

[https://bitbucket.org/moerie/multilanguagestring](https://bitbucket.org/moerie/multilanguagestring)

由于这个 MultilingualString 实际上是一个属性，我试图通过将 MultilingualString 映射到 String 属性来解决我的问题。然后我可以告诉实体框架不要完全映射我的 MultilingualString 属性。

这是我现在的产品类：

```
public class Product
{
    private MultilingualString _description;
    private MultilingualString _name;

    [Key]
    [DatabaseGenerated(DatabaseGeneratedOption.None)]
    public int Id { get; set; }

    public virtual string DescriptionXml
    {
        get { return Description.Value; }
        set { Description.Value = value; }
    }

    public virtual string NameXml
    {
        get { return Name.Value; }
        set { Name.Value = value; }
    }

    [NotMapped]
    public virtual MultilingualString Description
    {
        get { return _description ?? (_description = new MultilingualString()); }
        set { _description = value; }
    }

    [NotMapped]
    public virtual MultilingualString Name
    {
        get { return _name ?? (_name = new MultilingualString()); }
        set { _name = value; }
    }
} 
```

这也严重简化了我的数据库。

是的，我找不到一个流畅的 API 解决方案来解决我原来的问题，但是这个解决方法非常好。

# postgresql - 如何使用 postgres 以优化的方式更新大表

> ID：14232621
> 
> 赞同：0
> 
> 时间：2013-01-09T10:02:26.217
> 
> 标签：postgresql

我正在使用postgresql。我有一张包含大约 1000 万条记录的表。我需要使用序列更新表中的一列说“a”。此列需要按照另一列“b”的顺序进行更新。因此，对于任何两个记录 r1 和 r2，如果 r1 的“a”值小于 r2 的“a”值，则 r1 的“b”值必须小于 r2 的“b”值。

我正在使用这样的东西：

```
UPDATE table 
SET col1 = nextval('myseq') 
WHERE key IN (SELECT key 
              FROM table 
              ORDER BY col2); 
```

key 是表的主键。

但这需要太多时间。任何人都可以帮助我以优化的方式进行操作。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:06:16.437

根本不要使用更新。

像这样使用 SELECT INTO：

```
SELECT *, nextval('myseq') AS col1
INTO new_table
FROM 
(
    SELECT *
    FROM table
    ORDER BY key
) AS sorted 
```

然后用新表替换旧表。您必须重新创建所有索引并加强主键。

Postgres 不会替换它更新的每一行，它会为该行添加第二个条目并弃用旧条目。因此，如果您要进行数百万次更新，访问速度会非常慢。更换整张桌子通常是您的最佳选择。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:32:50.617

尝试类似：

```
UPDATE table t
SET col1 = t2.new_col1 
FROM (SELECT t2.key, nextval('myseq') as new_col1
      FROM table t2
      ORDER BY t2.col2) t2 
WHERE t1.key = t2.key; 
```

或者更好的是：

```
UPDATE table t
SET col1 = t2.new_col1 
FROM (SELECT t2.key, 
             row_number() OVER (ORDER BY t2.col2) as new_col1
      FROM table t2) t2 
WHERE t1.key = t2.key; 
```

# html - JqueryMobile 在图标图像旁边放置输入文本

> ID：14232626
> 
> 赞同：0
> 
> 时间：2013-01-09T10:02:38.760
> 
> 标签：html, css, jquery-mobile

我是 jquery mobile 和 css 的新手。

请参阅我的 jsfiddle.net/mapsv3/kWJRw/1/，如果我在左侧使用图标，输入文本会变得很奇怪，我看不到输入文本的结尾。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:09:49.997

只需更改文本框的宽度，使其不会溢出。这里：

```
 <input style="width: 100%"  name="" id="txtEmail" placeholder="your email" value="" type="email"/> 
```

例如，您可以将宽度设置为 80%：

```
<input style="width: 80%"  name="" id="txtEmail" placeholder="your email" value="" type="email"/> 
```

它看起来像这样：

[http://jsfiddle.net/kWJRw/4/](http://jsfiddle.net/kWJRw/4/)

# c# - 以编程方式将 WP8 设备连接到蓝牙耳机

> ID：14232627
> 
> 赞同：1
> 
> 时间：2013-01-09T10:02:41.383
> 
> 标签：c#, .net, bluetooth, windows-phone-8

我正在尝试使用存储在 NFC 标签上的一些信息将 Windows Phone 8 手机与通用蓝牙耳机连接起来。至于蓝牙部分，应该可以找到配对的设备，它们是活动的，使用

```
PeerFinder.AlternateIdentities["Bluetooth:Paired"] = "";
var peers = await PeerFinder.FindAllPeersAsync(); 
```

并打电话

> 等待 socket.ConnectAsync(peer.HostName, serviceName);

连接到特定设备。但是，我无法获得`serviceName`. 根据文档，设备应该返回广告服务`PeerInformation.ServiceName`，但我只得到空白字符串。

是否有一些解决方法来获取支持的服务（蓝牙配置文件）的名称？我特别需要使用 A2DP 配置文件连接 bt 设备，但我无法获得（甚至在互联网上找到）正确的服务名称字符串。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T15:13:37.963

`ConnectAsync`打开一个套接字供调用程序发送/接收数据。这不是您想要的，而是您希望操作系统连接到耳机服务。在 Win32 中，`BluetoothSetServiceState`但我不知道等效的“现代”API。

同样在 Win32 中，可以使用`BluetoothAuthenticateDeviceEx`这会导致配对，*并**可能*连接耳机服务——如果由 NFC 通道提供，则使用完整的带外身份验证。同样，我不知道有什么等价物。

我想有可能对任意端点（例如`"15"`）执行 ConnectAsync 会导致配对开始，然后配对完成并启用耳机服务...... ConnectAsync 调用本身将失败，但这是我们感兴趣的副作用在。也许值得一试。

大概您是从 NFC 通讯获取耳机设备的设备地址？如果是这样，您可以创建要在Peter 描述`HostName`的方法中使用的对象：http: [//peterfoot.net/PersistBluetoothAddressesOnWindowsPhone8.aspx](http://peterfoot.net/PersistBluetoothAddressesOnWindowsPhone8.aspx)`ConnectAsync`

# bytecode - 虚拟机等隔离环境中的变量和指针

> ID：14232628
> 
> 赞同：0
> 
> 时间：2013-01-09T10:02:43.543
> 
> 标签：bytecode, vm-implementation, compiler-construction

我想知道像*Java这样的编程语言如何在**Java Virtual Machine*和它自己的*Byte-Code*这样的隔离环境中处理*变量*和/或*指针*。

 **高度赞赏汇编或二进制等效项中的示例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:06:38.437

我建议您阅读一些 Java 的实际工作原理。

Java 没有指针，它有在纯 Java 中无法检查的引用。Java 中引用的一个重要区别是它们

*   可随时更改，恕不另行通知
*   不必是内存中的直接地址。它可以被编码。例如，允许 32 位引用访问最多 32 GB 的内存。

它像任何其他语言一样具有变量，但您无法获得对它们的引用。

字节码是 Java 代码的字面翻译，除非您对 Java 有深入的了解，否则阅读它不太可能比阅读 Java 代码更有用。注意：JVM 将其编译为本机代码，因此大部分时间它并不是实际运行的代码。**

# vba - VBA：将日期复制到文本中。国家格式问题

> ID：14232629
> 
> 赞同：1
> 
> 时间：2013-01-09T10:02:47.890
> 
> 标签：vba, date, format

我对 VBA 中的日期复制/粘贴有一个小问题。我想将以 dd/mm/yyyy 格式显示的日期转换为文本。我的 Excel 有英文的原始设置。

我试过了：

```
Selection.NumberFormat = "@" 
```

但它以 mm/dd/yyyy 格式返回文本。有谁知道如何保持 dd/mm/yyyy 格式？我试图更改我的范围的“区域设置”参数，但它不起作用。

非常感谢，文森特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:07:29.247

我刚看到一个类似的问题....您可以格式化您的日期，

`Format(urdate_intext, "dd/mm/yyyy")`

Excel 根据您计算机中的区域设置执行此操作。如果您想更改区域设置，请查看以下内容：[Excel Date Format changed after running code](https://stackoverflow.com/questions/14229010/excel-date-format-changed-after-running-code/14232417#14232417)。

嘿顺便说一句，你不必选择一个范围来使用它。:) 将范围设置为范围对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-20T12:39:47.303

Range 对象中有一个名为“Text”的属性。它获取电子表格中可见的内容。然后，您可以将其存储在字符串变量中并将其粘贴到先前格式化为文本的单元格中（可能是循环中的相同单元格）。这样你就可以：

```
Dim tt as string
tt = ActiveCell.Text
Selection.NumberFormat = "@"
Selection.Value = tt 
```

您可能只在日期 <13 的日期使用了另一个解决方案，因为它将一天作为月份。

# linq-to-sql - 长期存在的 Linq2Sql DataContext 是否曾经删除对跟踪对象的引用？

> ID：14232631
> 
> 赞同：3
> 
> 时间：2013-01-09T10:02:53.893
> 
> 标签：linq-to-sql

我们继承了一些使用 Linq2Sql 的代码，并且我们刚刚发现数据上下文的一个实例存储在一个定义为私有的类成员中。由于一旦创建了该类，就会在 Web 应用程序中使用此类，因此将创建数据上下文的实例并将其分配给静态成员 - 从而生成数据上下文的实例，该实例现在将由该类的所有实例使用（所以对于所有用户来说，这本身就是一个潜在的问题）而且数据上下文的实例现在将在 Web 应用程序的持续时间内存在（因为它保存在静态类成员中）。

忽略最初做出的错误设计决策，我的问题是读入数据上下文的数据会发生什么？我知道 NHibernate 中的会话保留对它读取/创建的任何对象的引用，以便它可以跟踪更改等，并且会话可以缓慢增长和增长并且永远不会清除，除非你隐含地告诉它。Linq2Sql 是否做类似的事情，所以如果 Web 应用程序永远存在（没有回收），这个 linq2Sql 上下文会慢慢增长，直到机器内存不足，或者它可能通过满足传入请求读取整个数据库？据我了解，上下文通常不像缓存，它会删除自身“过期”的项目，或者当达到内存限制时，开始删除最少使用的项目。因为它的作用，我不 不认为数据上下文能够做到这一点？有没有人有过这方面的经验，或者确认我的理解，或者提供一个参考来展示长期存在的数据上下文可以做些什么来阻止这种情况的发生。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T15:21:54.670

是的，如果其属性设置为，`DataContext`它将跟踪它已读取的对象。默认情况下启用。如果已经处于跟踪状态，则不能将 的值更改为 false 。`ObjectTrackingEnabled``true``ObjectTrackingEnabled``DataContext`

`ObjectTrackingEnabled`当我们只是进行读取而不打算进行任何更改时，我们设置为 false。`SubmitChanges`当`ObjectTrackingEnabled`设置为 false时，您无法调用。

我希望这会有所帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-01T10:19:58.430

是的，a`DataContext`将保留对曾经与之关联的所有对象的引用。*可能*是已删除的对象将从缓存中删除，否则它会保留它们，无论它会花费多少内存。

根据架构和数据集的大小，工作进程有时会耗尽内存并崩溃。唯一的补救措施是禁用对象跟踪（通过`ObjectTrackingEnabled`）或重构代码，以便它使用单个`DataContext`请求，或者（不推荐）定期回收应用程序范围的`DataContext`.

# ruby - 如何在 ruby 项目中包含库？

> ID：14232635
> 
> 赞同：2
> 
> 时间：2013-01-09T10:02:56.507
> 
> 标签：ruby, ffmpeg, video-streaming, jruby

我安装了`rvideo`.

```
gem install rvideo
aptitude install ffmpeg 
```

我在阅读手册时使用 rvideo 编写了以下内容。

```
#!/usr/bin/env ruby

file = RVideo::Inspector.new(:file => "/home/user/r/input.mp4")
file.fps        # => "29.97" 
file.duration   # => "00:40:23.4" 

transcoder = RVideo::Transcoder.new

recipe = "ffmpeg -i $input_file$ -ar 22050 -ab 64 -f flv -r 29.97 -s"
recipe += " $resolution$ -y $output_file$"
recipe += "\nflvtool2 -U $output_file$"
begin
transcoder.execute(recipe, {:input_file => "/home/user/r/input.mp4",
:output_file => "/home/user/r/output.flv", :resolution => "640x360"})
rescue TranscoderError => e
puts "Unable to transcode file: #{e.class} - #{e.message}"
end

transcoder.original     # RVideo::Inspector object
transcoder.processed    # RVideo::Inspector object 
```

当我做：

```
$ ruby hw.rb 
```

我得到：

```
first.rb:3: uninitialized constant RVideo (NameError) 
```

在手册中，我找到了这段代码：

```
require 'test/unit/assertions'
include Test::Unit::Assertions
puts assert_equal nil == nil, nil.nil? 
```

如何在我的案例中包含 rvideo 库？我怎么知道图书馆的路径？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:34:04.337

```
#!/usr/bin/env ruby

require 'rubygems'
require 'rvideo'

file = RVideo::Inspector.new(:file => "/home/user/r/input.mp4")
file.fps        # => "29.97" 
file.duration   # => "00:40:23.4" 

# rest of the code follows 
```

# java - 获取 jcifs.smb.SmbException：复制产品时句柄无效

> ID：14232637
> 
> 赞同：4
> 
> 时间：2013-01-09T10:03:11.833
> 
> 标签：java, jcifs

我已经编写了代码来从 java 中的 smb 服务器复制*.dmg、* .exe 文件。我正在使用 JCIFS 库来复制产品，虽然它在复制 dmg 文件时工作正常，但在复制 Windows 产品时返回一个奇怪的错误并崩溃。

> jcifs.smb.SmbException：句柄无效。在 jcifs.smb.SmbTransport.checkStatus(SmbTransport.java:563) 在 jcifs.smb.SmbTransport.send(SmbTransport.java:663) 在 jcifs.smb.smb.SmbSession.send(SmbSession.java:238)。 SmbTree.send(SmbTree.java:119) 在 jcifs.smb.SmbFile.send(SmbFile.java:775)

有谁知道它为什么会发生，我能做些什么来防止它？

# jquery - Knockoutjs 动态模板并将 jquery 效果应用于可见性转换

> ID：14232638
> 
> 赞同：2
> 
> 时间：2013-01-09T10:03:16.327
> 
> 标签：jquery, jquery-ui, knockout.js, knockout-mvc

我成功地使用淘汰赛 js 动态模板来显示不同的视图，具体取决于用户是否单击以查看项目的更多详细信息。

基本代码如下：

```
<div data-bind="template : {name: GetView , foreach: DisplayableItems}"></div>
<script type="text/html" id="SimpleView">
<div class="entry list">
    <h1>Simple View </h1>
    <a  data-bind="click:ToggleDisplayMode">Expand</a>
</div>
</script>
<script type="text/html" id="DetailView">
<div class="entry list">
    <h1>Detail View </h1>
    <a  data-bind="click:ToggleDisplayMode">Collapse</a>
</div>
</script>

ViewModel = function () {
var self = this ;

self.ToggleDisplayMode = function() {

    self.DisplayMode() == 'simple' ? self.DisplayMode('detail') : self.DisplayMode('simple');
};

self.GetView = function (contentItem) {

    if (contentItem.DisplayMode() == "simple")
        return "SimpleView";
    else
        return "DetailView";
 };
}

ContentItem = function() {
var self = this;

self.DisplayMode =  ko.observable("simple"); 
} 
```

这非常有效，并且可以根据某人是否想查看简单视图或详细视图在显示不同视图之间切换。

我想做的是使用 jqueryui 效果库应用一些过渡效果，以便详细视图向下滑动等。

我想知道如何/是否可以拦截可见性切换的方式，以便我可以对此应用一些效果。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T14:47:55.423

一种选择是使用[此处](http://knockoutjs.com/documentation/template-binding.html#note_4_using_afterrender_afteradd_and_beforeremove)`afterRender`描述的模板绑定回调。

实际上，我通常更喜欢对这种类型的事物使用自定义绑定。有关自定义绑定的文档在[此处](http://knockoutjs.com/documentation/custom-bindings.html)，我的帖子在此处显示了一些常见[示例](http://www.knockmeout.net/2011/07/another-look-at-custom-bindings-for.html)。

在您的情况下，自定义绑定可能很简单：

```
ko.bindingHandlers.slideVisible = {
  init: function(element, valueAccessor) {
      var duration = ko.utils.unwrapObservable(valueAccessor());
      $(element).hide().slideDown(duration); 
  }
}; 
```

该`init`函数仅在第一次绑定元素时运行，并且在您的情况下，当模板更改元素时再次呈现元素。这只会立即隐藏元素，然后将其向下滑动。

示例：http: [//jsfiddle.net/rniemeyer/mEAJR/](http://jsfiddle.net/rniemeyer/mEAJR/)

# api - 如何通过使用带有 magento api 的访问令牌来获取客户详细信息

> ID：14232639
> 
> 赞同：0
> 
> 时间：2013-01-09T10:03:15.610
> 
> 标签：api, magento, access-token

我正在使用[Magento REST 身份验证 api](http://www.magentocommerce.com/api/rest/authentication/oauth_authentication.html)，因为我正在获取访问令牌和密钥

通过使用此访问令牌，我需要获取客户 ID 和客户详细信息。

首先，如何获取客户详细信息，例如客户 ID、客户名称等。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:10:53.663

要获取客户详细信息，请使用

```
 http://magentohost/api/rest/customers 
```

获取特定 id 的客户是

```
http://magentohost/api/rest/customers/:customerId 
```

欲了解更多信息，请查看[这里](http://www.magentocommerce.com/api/rest/Resources/resource_customers.html)

# algorithm - 用于在恒定时间内推送、弹出和出列操作的自定义数据结构

> ID：14232640
> 
> 赞同：0
> 
> 时间：2013-01-09T10:03:16.823
> 
> 标签：algorithm, data-structures

我在一次采访中问过这个问题。再现它。

**编写自定义 DS，其中 Push()、Pop() 和 Dequeue() 操作将在恒定时间内完成。例如输入是 1,2,3,4 然后我们调用 pop()，应该返回 4。如果我们调用 dequeue，应该返回 1。O(1) 中的所有内容。**

我已经回答了，但不确定这是否是最好的空间复杂性。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-09T10:04:37.657

[双向链表](http://en.wikipedia.org/wiki/Doubly_linked_list)可以提供。

`dequeue()`通过同时指向 head 和 tail 的指针，您可以有效地实现两者`pop()`( `O(1)`)。

类似于以下内容：（假设垃圾收集语言和简化版本，不是空/空安全）：

```
push(e):
  n = new Node(e)
  last.next = n
  n.previous = last
  last = n       
pop():
  e = last.value
  last.previous.next = null
  last = last.previous
  return e
dequeue():
  e = head.value
  head = head.next
  head.previous = null
  return e 
```

关于空间复杂度：
解决方案是`Theta(n)`空间，很容易看出任何亚线性解决方案都无法存储所有数据 - 并且在某些情况下会失败。

# excel - 从多个工作表中添加和减去数据

> ID：14232642
> 
> 赞同：0
> 
> 时间：2013-01-09T10:03:23.177
> 
> 标签：excel, excel-formula, excel-2007, sumifs

我在 Microsoft Excel 2007 中有一个 Excel 工作表，其中有四个项目（A、B、C、D）的条目不是按特定顺序排列的，并且上述四个项目中的任何一个都可以定期添加数量。这基本上称为**INWARD**。

现在在**向外**，我有一个类似的过程以非顺序方式发生。

第三张表称为 MASter，其中每个项目（A、B、C、D）都有一个最终可用的库存，基本上是`=(inward-outward)`. 我想创建一个系统，如果在任何后续日期将四个项目中的任何一个添加到内部，则应通过添加数量来更新库存清单。并且一旦有任何外在的相同材料应该被扣除。

我该怎么做以上？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-26T16:36:14.330

你没有提到你的布局，但下面的原则应该适合：

![SO14232642 示例](../Images/f45ba6c21d7485d9d46f0dd003b59f25.png)

和

```
=SUMIFS(INWARD!B:B,INWARD!A:A,A1)-SUMIFS(outward!B:B,outward!A:A,A1) 
```

在 MAster 的 B1 中并复制下来。

# windows-phone-7 - 将 LINQ 元素作为参数传递给另一个 .xaml wp7

> ID：14232644
> 
> 赞同：0
> 
> 时间：2013-01-09T10:03:41.823
> 
> 标签：windows-phone-7

是否可以将 LINQ 查询的结果作为参数发送到 WP7 中的另一个 .xaml 文件。如果是，那么您能否通过示例进行解释。提前致谢

这是我的代码

```
XDocument xml = XDocument.Load("VideoContent.xml");
var content = from query in xml.Descendants("Video") where (string)query.Element("Clip") == parameter 
              select new Video() { File = (string)query.Element("File") } 
```

现在我需要使用 NAvigationService 将 File 中的字符串传递给另一个 .xaml。

PS 我对 WP7 和 LINQ 很陌生

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:36:34.990

如果要传递字符串值，可以将其作为 Navigation 参数传递。

```
NavigationService.Navigate(new Uri("/NewPageName.xaml?file="+content.First().File, UriKind.Relative)); 
```

然后在新页面的 OnNavigatedTo 处理程序中，像这样获取“文件”字符串值

```
protected override void OnNavigatedTo(System.Windows.Navigation.NavigationEventArgs e)
    {
        string file; //declare this before the page constructor

        NavigationContext.QueryString.TryGetValue("file", out file);
    } 
```

# iphone - 在应用程序 iOS 的整个视图中更改标签和 UIImageview 图像的字体颜色

> ID：14232645
> 
> 赞同：0
> 
> 时间：2013-01-09T10:03:42.847
> 
> 标签：iphone, uiimageview, themes, uilabel

我正在尝试根据条件更改应用程序的主题（UILabel 字体颜色和 UIImageview 的图像）。

我正在检查一个条件，如果它是 0，则应用程序中的整个标签应该是红色，否则它应该是蓝色以及 UIImageview 图像。

有2组图像。根据情况，我还需要更改图像。

任何人都给我一些想法开始..

谢谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:41:32.047

在所有视图控制器的`viewWillAppear`方法中，遍历子视图，如果视图是类型，`UILabel`则更改文本颜色。同样对于`UIImageView`

```
for (UIView *child in view.subviews)
{
    if([child isKindOfClass:[UILabel class]])
    {
        UILabel *lbl = (UILabel*)child;
        lbl.textColor = [UIColor redColor];
    }
} 
```

我没有尝试过，但认为这应该工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:08:37.343

`UILabel`您可以添加一个应该具有该方法的类别

```
-(UIColor *)labelColor {

  //depend on ur condition, return the color
} 
```

在所有标签声明中，将字体颜色设置为

```
lbl.textColor = [lbl labelColor]; 
```

同样对于`UIImageView`。

**更新：**

通过 Xcode 创建一个 Cocoa-Touch Objective C 类别类型的新文件。

您可以将文件命名为`UILabel+Color`，界面将类似于

```
@interface UILabel (Color)
-(UIColor *)labelColor;
@end 
```

在 .m 文件中，实现顶部所述的方法。

有关类别的更多信息，请参阅本[教程](http://macdevelopertips.com/objective-c/objective-c-categories.html)和[Apple 文档](http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/CustomizingExistingClasses/CustomizingExistingClasses.html#//apple_ref/doc/uid/TP40011210-CH6-SW2)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:22:40.383

最好的方法是创建一个单例类，您将在其中创建/更改标签/图像/按钮的属性，任何 UI 对象。

您只需为每个 UI 对象访问此类的方法，然后就完成了。无需一次又一次地编写多行代码。:)

# plone - Funnelweb 错误安装 transmogrify.webcrawler

> ID：14232647
> 
> 赞同：3
> 
> 时间：2013-01-09T10:03:45.797
> 
> 标签：plone, plone-funnelweb

我正在尝试为最新版本的 plone (4.2.x) 安装 funnelweb 插件。我已经在 3 台不同的计算机上尝试过，并且在所有计算机上都出现了同样的错误。错误粘贴在下面：

```
magiq@magiq-VirtualBox:~/Plone/zinstance$ bin/buildout 
Getting distribution for 'transmogrify.webcrawler>=1.1'.
error: README.rst: No such file or directory
An error occured when trying to install transmogrify.webcrawler 1.2\. Look above this message for any errors that were output by easy_install.

While:
  Installing.
  Getting section unifiedinstaller.
  Initializing part unifiedinstaller.
  Getting section funnelweb.
  Initializing section funnelweb.
  Installing recipe funnelweb.
  Getting distribution for 'transmogrify.webcrawler>=1.1'.
Error: Couldn't install: transmogrify.webcrawler 1.2

*************** PICKED VERSIONS ****************
[versions]
BeautifulSoup = 3.2.1
charm = 1.0b4
funnelweb = 1.1.1
mr.migrator = 1.0.1
transmogrify.htmlcontentextractor = 1.0
transmogrify.ploneremote = 1.3
transmogrify.siteanalyser = 1.3
xlrd = 0.8.0

*************** /PICKED VERSIONS *************** 
```

有没有人解决过这个问题？提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:46:59.517

作者犯了一个打包错误，并没有`README.rst`在分发中包含该文件。

*更新*：[版本 1.2.1](http://pypi.python.org/pypi/transmogrify.webcrawler/1.2.1)已发布，修复了此问题。再次尝试安装。

为了将来参考，当您遇到此类问题时，您可以`transmogrify.webcrawler`在您的部分中固定到特定版本（例如 1.1）`[versions]`：

```
[versions]
transmogrify.webcrawler = 1.1 
```

或用于`mr.developer`获取开发版本：

```
[buildout]
# assumption: you already have mr.developer in your buildout
auto-checkout += transmogrify.webcrawler

[sources]
transmogrify.webcrawler = git git://github.com/collective/transmogrify.webcrawler.git 
```

我提交了一个[错误报告](https://github.com/collective/transmogrify.webcrawler/issues/4)让作者知道；希望很快会有一个固定版本可用。

# android - ListView 自定义背景颜色

> ID：14232650
> 
> 赞同：3
> 
> 时间：2013-01-09T10:03:54.537
> 
> 标签：android, listview

我需要在我的`ListView`（`ArrayAdapter`用来填充它）中有偶数行作为白色和奇数行 sd gray。我不能使用`layouts`不同`background`颜色的不同，因为如果我这样做，选择不起作用。我所做的只是使用我的这段代码`getView()`来检查行是奇数还是偶数，并根据条件应用背景：

```
if (position % 2 == 0) {
convertView.setBackgroundDrawable(getResources().getDrawable(R.drawable.dark_item_background));} 
```

但这并没有按预期工作，因为唯一的第一个可见行具有正确的背景颜色。滚动到底部后（我假设是因为回收机制），我的行为很奇怪，不明白为什么。这是我对第一项的内容（正确的情况）：

![在此处输入图像描述](../Images/624b062c61a4cda9270596f2deae940e.png)

这是滚动后的内容：

![在此处输入图像描述](../Images/eb9a761daa91c0cfb8cc49bc218c98b4.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T10:10:16.127

In`getView()`对象被重用以获得更好的性能。这就是为什么你会得到这种奇怪的行为。要解决您的问题，只需添加 if - else

```
if (position % 2 == 0) {
   convertView.setBackgroundDrawable(getResources().getDrawable(R.drawable.dark_item_background));
} else {
   convertView.setBackgroundDrawable(getResources().getDrawable(R.drawable.light_item_background));
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:07:25.440

我认为您需要首先为任何重用的转换视图设置默认颜色，因为转换视图已经可以有深色背景。所以它会是这样的：

```
convertView.setBackgroundDrawable(getResources().getDrawable(R.drawable.light_item_background));
if (position % 2 == 0) {
    convertView.setBackgroundDrawable(getResources().getDrawable(R.drawable.dark_item_background));
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T10:09:28.543

您还需要设置 ELSE 原因，否则由于重用机制，所有背景都会变黑。

```
if (position % 2 == 0) {
   convertView.setBackgroundDrawable(getResources().getDrawable(R.drawable.dark_item_background));
} else {
   convertView.setBackgroundDrawable(getResources().getDrawable(R.drawable.light_item_background));
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-09T10:09:59.230

我认为您需要将列表视图行的背景设置如下：

> ```
> if (position % 2 == 0) { 
> ```
> 
> convertView.setBackgroundDrawable(getResources().getDrawable(R.drawable.dark_item_background));
> }
> else
> { convertView.setBackgroundDrawable(getResources().getDrawable(R.drawable.light_item_background));
> }

# c++ - 将基类的对象转换为派生类

> ID：14232656
> 
> 赞同：4
> 
> 时间：2013-01-09T10:04:05.390
> 
> 标签：c++, oop, inheritance, polymorphism, smart-pointers

几天前我问了一些[关于继承的澄清](https://stackoverflow.com/questions/14157661/how-shall-i-use-derived-classes-with-vectors-and-shared-pointers "我的老问题，已经回答了")，我仍在努力理解这个概念。这是后续问题，因为我仍然面临问题。

在我的项目中，我有 2 种类型的对象，手和脸，它们都继承自基类 BodyPart。BodyPart 是这样的：

```
class BodyPart
{
  public:
  typedef boost::shared_ptr<BodyPart> BodyPartPtr;

  BodyPart();
  virtual ~BodyPart();

  private:
  int commonMember1;
  double commonMember2;

  public:
  int commonMethod1();
  int CommonMethod2();
} 
```

而 Hand 是这样的：

```
class Hand : public BodyPart
{
  public:
  Hand();
  ~Hand();

  private:
  int numFingers;
  double otherVar;

  public:
  int getNumFingers();
  void printInfo();
} 
```

我还有一个 BodyPart 元素的向量

```
std::vector<BodyPart::BodyPartPtr> cBodyParts; 
```

由手或头对象组成。在上一个问题中，有人告诉我这种方法很有意义，我只需要使用 boost 从基类转换为派生类`static_pointer_cast`

现在，现在的问题是，对于向量中的某些对象，我不知道它们是`Hand`or `Head`，所以在我的代码中的某个时刻，我可以在`cBodyParts`一些元素中包含一些`Hand`元素，一些`Head`元素以及一些`BodyPart`元素。经过一些进一步的分析，我能够正确地将后者分类为`Hand`or`Head`并相应地修改向量中的元素，但我不知道如何制作它。我应该删除案例类元素并创建一个具有相同属性的派生类元素吗？在这种情况下我应该避免继承吗？

在此先感谢您的帮助

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T10:32:59.287

编辑：我增加了示例以使它们更清晰。

在演员表上接力通常是糟糕设计的标志。演员有他们的位置，但这看起来不是。

你需要问问自己你想对存储在`cBodyParts`. 当然，你会用 a`Hand`或 a做不同的事情`Head`，但你可能会以某种方式抽象它们：这就是虚函数的作用。因此，除了您已经为您的类编写的内容之外，您只需要在其中添加一个虚拟函数：

```
class BodyPart
{
  // Same as you wrote, plus:
public:
  virtual void InitialisePart() = 0; // Pure virtual: each body part must say how to process itself
  virtual void CalibrateJoints() {} // Override it only if the body part includes joints
}

class Head : public BodyPart
{
  // Same as you wrote, plus:
public:
  virtual void InitialisePart() {
    // Code to initialise a Head
  }
  // Since a Head has no joints, we don't override the CalibrateJoints() method
}

class Hand : public BodyPart
{
  // Same as you wrote, plus:
public:
  virtual void InitialisePart() {
    // Code to initialise a Hand
  }
  virtual void CalibrateJoints() {
    // Code to calibrate the knuckles in the hand
  }
} 
```

然后你不再需要任何演员表。例如：

```
for (BodyPart::BodyPartPtr part : cBodyParts) {
  part->InitialisePart();
  part->CalibrateJoints(); // This will do nothing for Heads
} 
```

如您所见，根本没有演员表，一切都会正常工作。该方案是可扩展的；如果您后来决定需要其他继承自 的类`BodyPart`，只需编写它们，您的旧代码就会正常工作：

```
class Torso : public BodyPart
{
public:
  virtual void InitialisePart() {
    // Code to initialise a Torso
  }
  // The Torso has no joints, so no override here for CalibrateJoints()

  // Add everything else the class needs
}

class Leg : public BodyPart
{
public:
  virtual void InitialisePart() {
    // Code to initialise a Leg
  }
  virtual void CalibrateJoints() {
    // Code to calibrate the knee
  }

  // Add everything else the class needs
} 
```

现在您不需要更改您之前编写的代码：`for`上面的循环将与 and`Torso`或`Leg`它的 find 一起正常工作而无需更新。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T11:08:50.850

髋骨连接到大腿骨...

我认为你有所有身体部位的复合体，也许是一个`Body`班级。

你想让身体做什么？

*   渲染自己
*   序列化
*   输出它的体积、边界框或其他一些指标
*   重新定位自己以响应输入
*   响应逆运动物理模型

这份名单可能会继续下去。如果你确切地知道你想要`Body`做什么，你可以将该函数放在`BodyPart`基类中，并`Body`迭代所有连接的身体部分的复合层次结构，`render`例如调用。

另一种方法是使用 a `Visitor`，这是一种有效地将方法动态添加到静态继承层次结构的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:10:37.943

正如Kerrek SB 指出的那样，这根本不可行，但是为了回答实际问题，[`dynamic_cast`](http://en.wikipedia.org/wiki/Dynamic_cast)这就是您要寻找的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T10:13:30.520

使用虚函数，它们会大大简化你的问题。

否则，您可以添加一些方法来区分不同的类型。但是，*只有在您无法以其他方式执行此操作时才执行此操作*，即您无法通过虚拟函数执行此操作。

示例 1：

```
// in BodyPart; to be reimplemented in derived classes
virtual bool isHand() const { return false; }
virtual bool isHead() const { return false; }

// in Hand (similar to what will be in Head)
bool isHand() const { return true; }

// How to use:
BodyPart::pointer ptr = humanBodyVector[42]; // one item from the array
if(ptr->isHand())
    processHand(/*cast to hand*/)
else if(ptr->isHead())
    // ... 
```

示例 2：让派生类处理强制转换

```
// in BodyPart; to be reimplemented in derived classes
virtual Hand* toHand() const { return 0; }
virtual Head* toHead() const { return 0; }

// in Hand (similar to what will be in Head)
Hand* toHand() const { return this; } 
```

# javascript - Parse.com Javascript 使用 facebook 注销

> ID：14232660
> 
> 赞同：0
> 
> 时间：2013-01-09T10:04:21.913
> 
> 标签：javascript, facebook, parse-platform

我无法在我的 parse.com 应用程序中让登录的 facebook 用户注销。下面的代码有什么问题？

```
function logOff() {
    function thisSuccess(e) {
        console.log(1);
    }
    function thisError(e) {
        console.log(0);
    }
    var u = Parse.User.current();
    Parse.FacebookUtils.unlink(u, {success: thisSuccess,error: thisError});
    u.logOut();
} 
```

我到处搜索，我得到的最好的回应是链接到用户的 facebook 帐户也需要取消链接 - 我不完全确定是否如此。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-11T00:02:39.487

所有你需要的是`Parse.User.logOut();`

不要取消链接 Facebook 帐户，因为该用户将无法再次登录。下次他们尝试使用 Facebook Parse 登录时，将为他们创建一个新用户。

# jquery - 在 IE8 中使用 jQuery 更改 href 属性

> ID：14232661
> 
> 赞同：1
> 
> 时间：2013-01-09T10:04:22.477
> 
> 标签：jquery, internet-explorer, internet-explorer-8, href

在我正在处理的项目中，我需要动态更改 -Tag的`href`值。`<a>`

所以我正在使用这样的东西：

```
var link = '/foo' // Some calculation to determine the correct link.
$('div.button-export a').attr('href', link); 
```

它适用于所有浏览器，当然除了 IE8。它只是忽略了该`.attr()`方法或存在错误或什么。我需要为 IE8 修复这个问题，我需要快速修复它。

你知道 IE8 到底发生了什么以及如何解决这个问题吗？

**更新：完整代码**

```
var exportLink = jQuery('div.button-export a').first();

// TODO: SHOULD DO THIS WITH THE getExtent() METHOD
var data = {
    box:[
        GRD.mapController.map.extent.xmin,
        GRD.mapController.map.extent.ymin,
        GRD.mapController.map.extent.xmax,
        GRD.mapController.map.extent.ymax
    ],
    sr:GRD.mapController.map.extent.spatialReference.wkid,
    layer:GRD.mapController.shownCountryLayer,
    layerNoRegions:GRD.mapController.shownCountryLayerNoRegions,
    urlRegions:encodeURIComponent(GRD.mapController.config.country),
    urlCountry:encodeURIComponent(GRD.mapController.config.countryNoRegions)
};

exportLink.prop('href', Routing.generate('api_export_report_pdf', { "id":CI.report.cid, "data":JSON.stringify(data) })).show(); 
```

**更新** 抱歉造成混乱。当然，我使用了正确的选择器。我只是稍微改了一下。还是不行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:28:38.647

我认为这：

```
$('button.export a').attr('href', link); 
```

应该是这样的：

```
$('div.button-export a').attr('href', link); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:52:16.813

最后我能够检测到问题。没有真正的错误，IE 8的开发者工具中解析的DOM-Tree没有更新，所以我不得不手动刷新它......

链接也不起作用，因为里面有一个按钮，而 IE8 似乎在 -Tag`<button>`内部有问题`<a>`。

对不起所有的混乱。

# ember.js - 是否可以使用 ember.js 定期通知观察者计算属性？

> ID：14232665
> 
> 赞同：0
> 
> 时间：2013-01-09T10:04:28.680
> 
> 标签：ember.js

我正在尝试实现以下简单用例：让 ember 模板定期显示当前时间。我找到了一种方法，但我怀疑有更好/更简单的方法。这是我所做的：

1.  在我的控制器中，我有一个dirtyFlag 属性。我用它作为触发观察者通知的技巧（因此是我的模板）。

2.  当应用程序准备就绪时，我启动一个计时器来定期**更改**dirtyFlag 属性的值。

我想避免使用 dirtyFlag 属性，本质上我想知道是否有一种方法可以表达类似*currentTime 计算属性上的所有观察者应该更新并获取此属性的新值*。

```
var App = Ember.Application.create({
    ready: function() {
        setInterval(function() {
            console.info("Updating clock (" + new Date() + ")");
            App.theClockController.set('dirtyFlag', new Date());    
        }, 1000)
    }
});

App.ClockController = Ember.ObjectController.extend({
    dirtyFlag: null,
    currentTime: function() {
        return new Date();
    }.property('dirtyFlag')
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T13:50:29.330

我建议使用标准属性来存储缓存的时间值，然后根据需要绑定到它。例如：

```
App = Ember.Application.create({
  ready: function() {
      setInterval( function() {
            console.info("Updating clock (" + new Date() + ")");
            App.set('currentTime', new Date());
      }, 1000)
  }
});

App.ClockController = Ember.Controller.extend({
  currentTimeBinding: Ember.Binding.oneWay('App.currentTime')
}); 
```

有关工作示例，请参见此 jsfiddle：http: [//jsfiddle.net/nzLyh/1/](http://jsfiddle.net/nzLyh/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:27:18.073

我找到了另一种方法（但不确定它是否是最好的）。我调用 propertyWillChange 和 propertyDidChange 方法：

```
var App = Ember.Application.create({
    ready: function() {
        console.info("Preparing the timer...");
        setInterval(function() {
            console.info("Updating clock (" + new Date() + ")");
            App.theClockController.propertyWillChange('currentTime');
            App.theClockController.propertyDidChange('currentTime');
        }, 1000)
    }
}); 
```

# inno-setup - 在一个安装程序中执行多个安装程序/exe？

> ID：14232670
> 
> 赞同：5
> 
> 时间：2013-01-09T10:04:53.330
> 
> 标签：inno-setup, nsis

我希望软件安装程序在一个安装程序完成安装后执行另一个 exe/安装程序。无论使用哪个安装程序（NSIS、Inno Setup 等）来制作它，我都只想这样做。

甚至可能吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T10:25:25.940

您可以只使用`[RUN]`section with `parameters`and standard 或 custom `Checks`。记住关于设置prioripriate `Flags`-`waituntilterminated`使安装程序脚本等到一个启动完成它的操作，然后启动下一个。

例子：

```
[Files]
Source: "C:\MyInstallers\*"; DestDir: "{tmp}"; 
Flags: createallsubdirs recursesubdirs deleteafterinstall ignoreversion uninsremovereadonly 

[Run]
Filename: "{tmp}\dotnetfx35.exe"; Parameters: "/q"; 
Flags: waituntilterminated skipifdoesntexist; 
StatusMsg: "Instalacja bibliotek Microsoft .NET Framework 3.5 SP1..."; 
OnlyBelowVersion: 0,6.2.8400; Check: NET35

Filename: "{tmp}\vcredist_x86.exe"; Parameters: "/Q"; 
Flags: waituntilterminated skipifdoesntexist; 
StatusMsg: "Instalacja bibliotek Microsoft Visual C++ 2008 (x86)..."; 
Check: not Is64BitInstallMode

Filename: "{tmp}\vcredist_x64.exe"; Parameters: "/Q"; 
Flags: waituntilterminated skipifdoesntexist; 
StatusMsg: "Instalacja bibliotek Microsoft Visual C++ 2008 (x64)..."; 
Check: Is64BitInstallMode

Filename: "{tmp}\directx\DXSETUP.exe"; Parameters: "/silent"; 
Flags: waituntilterminated skipifdoesntexist; 
StatusMsg: "Instalacja bibliotek Microsoft DirectX..."

Filename: "{app}\{#MyAppExeName}"; WorkingDir: "{app}\"; 
Flags: nowait postinstall runascurrentuser skipifsilent; 
Description: "{cm:LaunchProgram,{#StringChange(MyAppName, '&', '&&')}}" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T11:13:03.827

国家安全局：

```
Section
InitPluginsDir ; $pluginsdir is a folder in %temp%, it is deleted for you when the installer ends
SetOutPath $PluginsDir

File "child1.exe"
ExecWait '"$PluginsDir\child1.exe" /foo "/bar" /baz'
Delete "$PluginsDir\child1.exe" ; Optional, might be a good idea if the file is large...

File "child2.exe"
ExecWait '"$PluginsDir\child2.exe"'

SetOutPath $Temp ; Don't lock $PluginsDir
SectionEnd 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-11T23:09:20.037

在 innosetup 中，您还可以使用 ShellExec-Function 进行另一个安装。有了它，您可以定义它是否应该在前面，以及主安装是否应该等到这个子安装完成。

这是一个简短的示例，我在代码部分中开始安装 sqltools

```
 if ShellExec('',INSTALL_FOLDER + '\FPS\contributed\sqlncli_x64.msi', '' ,'',SW_HIDE,ewWaitUntilTerminated,ResultCode) then
    begin
      Log('executed sql native client with result code ' + IntToStr(ResultCode) + ' this means ' + SysErrorMessage(ResultCode));
    end
  else
    begin
      showError(CustomMessage('SQLNATIVE_CLIENT_ABORTED') + SysErrorMessage(ResultCode));
    end; 
```

# php - 调用未定义的函数 curl_init()，但它已启用

> ID：14232677
> 
> 赞同：2
> 
> 时间：2013-01-09T10:05:18.173
> 
> 标签：php, curl, wamp

我有 WAMP，我正在运行 PHP 5.3.13 和 Apache 2.2.22。

我通过勾选 php_curl 启用了扩展。我已经重新启动了我的电脑。

我的代码说：

```
Fatal error: Call to undefined function curl_init() 
```

有人认为可能出了什么问题吗？

我的 phpinfo 没有说任何关于 curl 的内容，但在 phpini 中它说：

;扩展=php_bz2.dll

扩展=php_curl.dll 。

调用它的代码在这里：

```
class ***** {
  public static $oauth, $debug, $logger, $session_manager, $last_response;
  protected static $url, $client_id, $client_secret, $secret, $ch, $headers;

  const GET = 'GET';
  const POST = 'POST';
  const PUT = 'PUT';
  const DELETE = 'DELETE';

  public static function setup($client_id, $client_secret, $options = array('session_manager' => '*****Session')) {
  // Setup client info
  self::$client_id = $client_id;
  self::$client_secret = $client_secret;

  // Setup curl
  self::$url = empty($options['api_url']) ? 'https://api.*****.com:443' : $options['api_url'];
  self::$debug = false;
  self::$ch = curl_init(); 
```

此代码来自可信赖的 API。我为不需要分享的单词加了星标。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T12:20:44.617

在此处将 ext 文件夹中的 dll 文件替换为正确的版本：

[http://www.anindya.com/php-5-4-3-and-php-5-3-13-x64-64-bit-for-windows/](http://www.anindya.com/php-5-4-3-and-php-5-3-13-x64-64-bit-for-windows/)

我使用的是win 8 64bit，所以我的版本是：

[http://www.mediafire.com/?0hm40owj08y68p7](http://www.mediafire.com/?0hm40owj08y68p7)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:08:22.603

在 php.ini 文件中查找这一行：

`;extension=php_curl.dll`

如果它在那里，删除**;** 从头开始然后重新启动服务器并重试。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:27:15.953

您是否偶然使用了 64 位版本的 wampserver？

64 位版本或 Apache 版本/PHP 版本的某些组合存在问题（似乎）

如果你去[wampserver 主页](http://www.wampserver.com/en)的下载部分，你可以下载不同的 Apache / PHP 版本来测试，直到你找到一个可以工作的。

[我在此之前已经回答过此类问题](https://stackoverflow.com/a/11733864/1207346)。希望它可以对情况有所了解。

从我的另一个答案：

> 几天前我自己遇到了这个问题，我可以解决它的唯一方法是安装 apache 插件版本 2.2.9 和 php 插件版本 5.3.1

# java - 如何在java中的路径config.getServletContext（）.getRealPath（“/”）中下载并在jsp页面上显示上传的图像

> ID：14232680
> 
> 赞同：0
> 
> 时间：2013-01-09T10:05:23.700
> 
> 标签：java

我上传的图像存储在`.metadata`Eclipse 创建的文件夹中。如何找回它们？它显示“找不到页面错误-404”

```
itemName = item.getName();
File savedFile = new File(config.getServletContext().getRealPath("/")+"image\\"+itemName);
item.write(savedFile); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:10:28.130

可能`.metadata`没有放在你的war文件中。将它放在`WebContent`,`WebSource`或类似名称的文件夹下（我不知道您的项目设置是什么，但您会找到它）。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-09T10:10:44.557

您的代码应该将您的文件写入您的 webapp。如果您从 Eclipse 运行它，那么 webapp 可能位于 .metadata 文件夹中，但它仍然应该像任何其他 webapp 一样工作。

静态资源直接由服务器管理，你根本不需要做任何事情。

下载文件后（您的代码似乎没问题），图像将在 URL 中可用

```
 http://yourserver[:yourport]/yourwebapp/image/itemName  (including the file extension) 
```

# ios - 使用 iOS Facebook SDK 发布到朋友墙

> ID：14232683
> 
> 赞同：3
> 
> 时间：2013-01-09T10:05:34.350
> 
> 标签：ios, facebook, facebook-graph-api, ios6

> **可能重复：**
> [Facebook API：在朋友墙上发帖](https://stackoverflow.com/questions/10773030/facebook-api-post-on-friend-wall)

我正在尝试将消息发布在朋友墙上。但它不适用于我下面的代码，

```
 NSMutableDictionary* params = [NSMutableDictionary dictionary];
 [params setObject:@"Some text" forKey:@"user_message_prompt"];
 [params setObject:@"another text" forKey:@"action_links"];

 [facebook requestWithGraphPath:@"****FB ID here *****/feed" andParams:params andHttpMethod:@"POST" andDelegate:self]; 
```

我尝试了很多方法来解决它，但找不到解决方案。请让我知道我在代码中做错了什么。我需要快速帮助来解决。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:12:39.573

这就是我将消息推送到朋友 Facebook 墙上的方式：

在您的 .h 文件中：

```
#import "FBConnect.h"
#import "FBRequest.h"
#import "FBLoginButton.h"

....

Facebook* _facebook;
NSArray* _permissions;

...

@property (readonly) Facebook *facebook; 
```

在您的 .m 文件中：

```
@synthesize facebook = _facebook; 
```

在`viewDidLoad`：

```
_permissions =  [[NSArray arrayWithObjects:@"user_photos",@"user_videos",@"publish_stream",@"offline_access",@"user_checkins",@"friends_checkins",@"email",@"user_location" , @"read_stream", @"read_friendlist",nil] retain];
_facebook = [[Facebook alloc] initWithAppId:kAppId];

SBJSON *jsonWriter = [[SBJSON new] autorelease];
static NSString* kAppId = @"your app key";

NSDictionary* actionLinks = [NSArray arrayWithObjects:[NSDictionary dictionaryWithObjectsAndKeys:@"your title",@"text",@"http://itunes.apple.com/us/app/facts!/id434894484?l=de&ls=1&mt=8",@"href", nil], nil];

NSString *actionLinksStr = [jsonWriter stringWithObject:actionLinks];
NSDictionary* attachment = [NSDictionary dictionaryWithObjectsAndKeys:
                                    @"Title of the post", @"name",
                                    @"Caption of the post", @"caption",
                                    @"Some description", @"description",
                                    nil];

NSString *attachmentStr = [jsonWriter stringWithObject:attachment];

NSMutableDictionary* params = [NSMutableDictionary dictionaryWithObjectsAndKeys:
                                       kAppId, @"api_key",
                                       @"Share on Facebook",  @"user_message_prompt",
                                       actionLinksStr, @"action_links",
                                       attachmentStr, @"attachment",
                                       @"your friends id", @"to",
                                       nil];

[_facebook dialog: @"stream.publish" andParams:params andDelegate:self]; 
```

**一件事必须清楚。只有当他确实在您的好友列表中时，您才能发布到好友墙，否则将无法正常工作。我在我的个人资料上测试了代码并且它有效！**

# ruby-on-rails - 任何适用于不同前缀的替代“引导”宝石？

> ID：14232685
> 
> 赞同：3
> 
> 时间：2013-01-09T10:05:43.477
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, rubygems

当我尝试使用'bootstrap-sass'，'2.1'编写“bootstrap”应用程序时，遵循一些rails教程，我收到此错误消息。

```
different prefix: "C:/" and "D:/{directory}/app/assets/stylesheets"
  (in D:/Projects/Rails/loginlayout/app/assets/stylesheets/custom.css.scss) 
```

在`stylesheets`目录中，我只有一个 css 文件`/custom.css.scss`包含：

```
@import "bootstrap"; 
```

我确实意识到这[是一个错误](https://github.com/thomas-mcdonald/bootstrap-sass/issues/96)，我需要将我的贵重物品移到 C:/ 并且它应该可以工作。但是我们还有其他替代的“宝石”选择吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T15:48:49.850

我通过在包含我的 Ruby 安装到具有相同文件夹结构的项目的驱动器上创建符号链接解决了这个问题。

例如，我的项目位于“G:\project\web”，所以我在“D:\project\web”上创建了指向该文件夹的符号链接。

当我从提到的项目符号链接（在 D:\ 而不是 G: 上）启动本地开发服务器时，bootstrap-sass 适用于该项目而没有问题。

# servlets - EJB（本地/无状态）JDNI 查找

> ID：14232686
> 
> 赞同：0
> 
> 时间：2013-01-09T10:05:50.177
> 
> 标签：servlets, jndi, local, lookup, stateless

我四处寻找有关这方面的信息，但奇怪的是找不到。

我想知道这一点：是否必须为 @Local/@Stateless bean 做任何特定的事情才能出现在 JNDI 中？我原以为这或多或少是自动的。但是列出 InitialContext 什么都没有，真的什么都没有。

我正在使用此代码转储 JNDI 信息：

```
 System.out.println("========== jndi ============");

        InitialContext initialContext;
        try {
            initialContext = new InitialContext();
            //Get all the names in the initial context
            NamingEnumeration children = initialContext.list("");

            while(children.hasMore()) {
                NameClassPair ncPair = (NameClassPair)children.next();
                System.out.print(ncPair.getName() + " (type ");
                System.out.println(ncPair.getClassName() + ")");
            }
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        System.out.println("========== jndi. ============"); 
```

此代码在 servlet 处理程序中运行。我在 Tomcat 7 上执行此操作。

# visual-c++ - 如何使用 SetWindowHookEx() 挂钩 windows xp 应用程序

> ID：14232689
> 
> 赞同：0
> 
> 时间：2013-01-09T10:06:13.067
> 
> 标签：visual-c++

使用 win32 API 和动态链接库 (dll) 在我的控制台应用程序或其他任何地方编写回调函数

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:37:16.930

我发现本教程很有用：http: [//www.codeproject.com/Articles/1037/Hooks-and-DLLs](http://www.codeproject.com/Articles/1037/Hooks-and-DLLs)。

基米

# jquery - 如果在标签上单击鼠标，如何选中复选框

> ID：14232693
> 
> 赞同：0
> 
> 时间：2013-01-09T10:06:25.777
> 
> 标签：jquery, asp.net

我有一个标签名称为 lblName，一个复选框名称为 chkId。如果我点击 lblName 那么我想检查 chkId 的值。为此，我正在使用以下代码，但它不起作用。

```
<!DOCTYPE html>
<html>
<head>
<script>
 $(document).ready(function() {

$("[#name]").click(function() {
    $('#' + $(this).attr("chkId")).prop('checked',      
 function(i, oldVal) { return !oldVal; });
});

});
</script>
</head>

 <body>
<label id="lblName" runat= "server">Name</label>
<asp:CheckBox ID="="chkId" runat="server"/></body>
</html> 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T10:08:25.810

此功能不需要 javascript。试试这个：

```
<asp:Label AssociatedControlID="CheckBox1" runat="server">Name</asp:Label>
<asp:CheckBox ID="CheckBox1" runat="server"/> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T10:09:15.403

您不需要任何 javascript - 将复选框放在`label`元素内。然后，当单击标签本身时，浏览器会将检查放入控件中。

```
<label id="lblName" runat= "server">
    Name
    <asp:CheckBox ID="chkId" runat="server"/>
</label> 
```

此外，您的示例中似乎存在很多语法错误 - 这些只是拼写错误吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:08:11.910

看来你在这里有一个错误：

```
<asp:CheckBox ID="="chkId" runat="server"/></body> 
```

删除`="`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T10:10:33.143

```
<script type="text/javascript">

$(document).ready(function() {

$("#lblName").click(function() {
    $('#chkId').prop('checked',true);
});

});

</script> 
```

# java - 是否有可能通过使用 Guice 来拦截这样的方法？

> ID：14232695
> 
> 赞同：1
> 
> 时间：2013-01-09T10:06:28.060
> 
> 标签：java, dependency-injection, guice

这是我在这里的第一篇文章，祝大家有愉快的一天:)

我创建了一个名为“验证”的注释

```
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.METHOD)
public @interface Validate {
    Class<? extends MethodInterceptor>[] value();
} 
```

然后在需要拦截的方法之前装饰它。

```
@Validate({OneInterceptor.class, TwoInterceptor.class})
public void doPost(HttpServletRequest req, HttpServletResponse resp) {
    //Do something
}

OneInterceptor implements MethodInterceptor {.....}  TwoInterceptor implements MethodInterceptor{....} 
```

有没有可能通过使用 Guice 来绑定这样的拦截器？我只想让 Guice 在运行时动态绑定这些拦截器。谢谢大家！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T22:29:48.173

正如 mlk 所指出的，您可以编写一个 MethodInterceptor 来执行此操作，尽管没有理由提到所提到的验证器也必须是 MethodInterceptor ——事实上，这样可能会更容易，因为您不必担心`proceed()`.

如果此代码无法编译，请原谅我，但它应该为您指明正确的方向：

```
public interface RequestValidator {
  void validate(HttpServletRequest req) throws ValidationError;
}

public class ValidationModule extends AbstractModule {
  @Override public void configure() {
    bindInterceptor(Matchers.any(), Matchers.annotatedWith(Validate.class), 
        new ValidateInterceptor());
  }
}

public class ValidateInterceptor implements MethodInterceptor {
  @Override public Object invoke(MethodInvocation invocation) throws Throwable {
    Method method = invocation.getMethod();
    Validate validate = method.getAnnotation(Validate.class);
    if (validate == null) {
      throw new IllegalStateException(
          "ValidateInterceptor installed on non-@Validate method");
    }
    for (Class<? extends RequestValidator> validatorClass : validate.value()) {
      RequestValidator validator = validatorClass.newInstance();
      validator.validate((HttpServletRequest) invocation.getArguments()[0]);
    }
    return invocation.proceed();
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T12:35:08.333

你为什么要这样做？为什么不创建两个注释？

我不相信你可以直接做，但你可以写一个在方法注释`MethodInterceptor`中执行s 的方法。`MethodInterceptor`但是，为什么？

# c - 当普通字符无符号时计数 UTF8 中的字符

> ID：14232698
> 
> 赞同：2
> 
> 时间：2013-01-09T10:06:38.123
> 
> 标签：c, unsigned-char

在 UTF8 中，我使用这个函数来计算字符（不是字节）：

```
int schars(const char *s)
{
    int i = 0;

    while (*s) {
        if ((*s & 0xc0) != 0x80) i++;
        s++;
    }
    return i;
} 
```

这是否适用于 plain`char`的实现`unsigned char`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T10:16:01.867

它在未签名时和`char`已签名时一样有效。

在有符号 2 的补码表示和无符号表示中，UTF8 代码单元的第 8 位和第 7 位`10`当且仅当代码单元*不是*代码点的第一个代码单元时。因此，您为每个代码点的第一个代码单元计算 1。

`int`不保证是一个足够大的类型来包含每个字符串中的字符数，但我假设你不在乎;-)

“字符”可能是一个模棱两可的术语。此代码计算 Unicode 代码点，这与可显示字符（“字形”）不同。有时多个代码点代表一个字素，例如当组合标记用于重音时。了解 Unicode 字符串中有多少个代码点的唯一实际用途是计算编码为 UTF-32 时它将占用多少字节。如果您小心，您可以确保唯一需要处理“字符”的代码是字体引擎，以及一些复杂的操作，例如 Unicode 规范化和字符编码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T10:15:48.770

它应该。

您只使用二元运算符，并且无论底层数据类型是有符号还是无符号，它们的功能都相同。唯一的例外可能是`!=`运算符，但您可以用 a 替换它`&`，然后用 a 来包含整个事物`!`，ala：

```
!((*s & 0xc0) & 0x80) 
```

然后你只有二元运算符。

[您可以通过检查ANSI C 标准](http://flash-gordon.me.uk/ansi.c.txt)的第 3.3.10 节来验证字符是否提升为整数，该节规定“每个操作数 [按位与] 都应具有整数类型。”

**编辑**

我修改我的答案。根据 ANSI C 标准的 3.3，有符号的位运算与无符号的位运算不同：

> 一些运算符（一元运算符 ~ 和二元运算符 << 、 >> 、 & 、 ^ 和 | 统称为按位运算符）应具有整数类型的操作数。这些运算符返回的值取决于整数的内部表示，因此具有符号类型**的实现定义方面**。

[事实上，对有符号整数执行按位运算在这里](https://www.securecoding.cert.org/confluence/display/seccode/INT13-C.+Use+bitwise+operators+only+on+unsigned+operands)被列为可能的安全漏洞。

在 Visual Studio 编译器中，有符号和无符号的处理方式相同（参见[此处](http://msdn.microsoft.com/en-us/library/dxda59dh.aspx)）。

正如[这个 SO question](https://stackoverflow.com/questions/8385824/bytewise-reading-of-memory-signed-char-vs-unsigned-char)所讨论的，最好使用`unsigned char`按字节读取内存和操作内存。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T10:13:56.573

是的，它会的。

`*s`将`int`在计算发生之前提升。因此，您的代码相当于：

```
if (((int) *s & 0xC0) != 0x80) i++; 
```

即使`char`未签名，上述内容也将起作用。

# php - 将脚本创建的列表中的值连接到一个字段中

> ID：14232700
> 
> 赞同：0
> 
> 时间：2013-01-09T10:06:44.603
> 
> 标签：php, javascript

如何在脚本创建的列表中连接文本字段中的数据，其中文本字段名称将始终彼此相同？请允许我解释一下：

我有一系列点被添加到使用 javascript 创建的列表中。这是创建列表的脚本：

```
var src = this.parentNode;
var field = $('<input type="text" id="savedpoints" name="savedpoints">').attr({'value': $(src).data('dbId')});
var but = $('<button>').append('&nbsp;&nbsp;Remove&nbsp;&nbsp;');
var newItem = $('<li>').append(field).append($(src).data('marker').title);
newItem.append('&nbsp;').append(but);
$(but).click(poi.removeItem);
$(poi.saveList).append(newItem); 
```

因此，有些项目被添加到列表中，旁边有一个按钮，如果不再需要它们，可以将它们从列表中删除。此列表完美运行。

我需要将值添加到表单底部的文本字段（例如，name="allpoints"），该字段连接此列表中的字段值（标记为“savedpoints”的文本字段，属性为“dbId” ) 转换成一个字符串（例如“6, 7, 10, 13, 14,...”等），每当从列表中删除或添加项目时。我无法弄清楚这可能如何工作！

有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:13:27.947

我会将事件处理程序添加到删除按钮的共同祖先并添加按钮，这会在触发时完全重建“所有点”的内容：

```
$(commonParent).on('click', 'button.remove, button.add', function () {
    $('[name="allpoints"]').val($('[name="savedpoints"]').map(function () {
        return $(this).val();
    }).join(", "));
}); 
```

...如果您愿意，您只能在列表中添加/删除相关元素，但您会明白要点。

请注意，在我的示例中，您需要将一个类添加到您的删除`<button>`（我称之为`remove`），以及您的“添加”按钮。

# java - 使用 MyBatis 获取 LONGBLOB 作为字节数组

> ID：14232703
> 
> 赞同：3
> 
> 时间：2013-01-09T10:06:53.723
> 
> 标签：java, ibatis, mybatis

我在一个项目中使用 MyBatis，我有一个从 MySQL 数据库中的 LONGBLOB 字段获取数据的查询。我希望得到一个字节数组（`byte[]`）的结果，所以我试试这个：

```
<select id="fetchData" resultType="_byte[]" parameterType="_long">
    select blobData from Table where id = #{id}
</select> 
```

但是，这不起作用。我收到以下错误：

```
java.lang.ClassCastException: [B cannot be cast to [Ljava.lang.Object;
    at org.apache.ibatis.binding.MapperMethod.convertToArray(MapperMethod.java:146)
    at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:129)
    at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:90)
    at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:40) 
```

有些东西告诉我我应该指定一个类型处理程序（`BlobTypeHandler`？），还是什么？但是在哪里以及如何？

* * *

我应该提到，通过为字节数组创建包装类并使用结果映射来解决这个问题没有问题：

```
<resultMap type="BlobData" id="BlobDataMap">
    <constructor>
        <idArg javaType="_long" column="id" />
        <arg javaType="_byte[]" column="blobData" />
    </constructor>
</resultMap> 
```

我仍然想知道是否有一种更优雅的方式不涉及创建包装类。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:55:55.547

在我的项目中，我们以这种方式使用 blob：

我们为我们使用的类定义了一个结果映射：

```
<resultMap class="SomeClass" id="SomeClassResultMap">
    <result property="classByteAttribute" column="blobData" />
    <result property="classIdAttribute" column="id" />
</resultMap> 
```

在 select 语句中我们使用这个结果映射

```
<select id="selectStatement" resultMap="SomeClassResultMap" parameterClass="Integer">
    SELECT * FROM EXAMPLETABLE where id=#id#
</select> 
```

执行后，blob 位于字节数组中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-31T21:04:32.310

正如 duffy 所建议的，将结果作为字节数组获取的唯一方法是：

## Mybatis 3.1.+

定义一个结果映射

```
<resultMap class="MyClass" id="MyClassMap">
    <result property="myByteArray" column="MYBINARY " />
</resultMap>

<select id="selectStatement"  resultMap="MyClassMap">
        SELECT MYBINARY FROM EXAMPLETABLE
</select> 
```

但，

## Mybatis 3.0.5版本

```
<select id="selectStatement"  resultType="_byte[]">
    SELECT MYBINARY FROM EXAMPLETABLE
</select> 
```

这是一个奇怪的回归，因为 mybatis 无法应用正确的 ( `BlobTypeHandler`) TypeHandler，并且无法在`select`标签上指定 TypeHandler。

# directory - 设置文件夹访问时出错？

> ID：14232705
> 
> 赞同：0
> 
> 时间：2013-01-09T10:07:02.940
> 
> 标签：directory, vb.net-2010

出现错误“无法翻译部分或全部身份参考

在第 8 行出现错误

```
Dim FolderPath As String = "D:\Account\HA\" 'Specify the folder here
Dim UserAccount As String = mailid.ToString() & "\" & pwd
Dim objDirectoryInfo As DirectoryInfo = Nothing
Dim objDirectorySecurity As DirectorySecurity = Nothing
Dim objRule As FileSystemAccessRule = Nothing

objDirectoryInfo = New DirectoryInfo(FolderPath)
objDirectorySecurity = objDirectoryInfo.GetAccessControl
objRule = New FileSystemAccessRule(UserAccount, FileSystemRights.ReadPermissions, AccessControlType.Allow)
objDirectorySecurity.AddAccessRule(objRule)
objDirectoryInfo.SetAccessControl(objDirectorySecurity) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T23:04:33.500

试试我为你做的这些改变......

```
 Public Sub AddDirectorySecurity(ByVal FolderPath As String, ByVal Account As String, ByVal Rights As FileSystemRights, ByVal ControlType As AccessControlType)

 ' Create a new DirectoryInfoobject.
    Dim objDirectoryInfo As New DirectoryInfo(FolderPath)

    ' Get a DirectorySecurity object that represents the current security settings.
    Dim objDirectorySecurity As DirectorySecurity = objDirectoryInfo.GetAccessControl()

     ' Add the FileSystemAccessRule to the security settings. 
    objDirectorySecurity .AddAccessRule(New FileSystemAccessRule(Account, Rights, ControlType))

    ' Set the new access settings.
    objDirectoryInfo .SetAccessControl(dSecurity)

 End Sub 
```

试一试，让我知道它对你有用吗？

谢谢！

# jakarta-ee - 两个浏览器同时查询在Brow2中给出Brow1的resultSet

> ID：14232708
> 
> 赞同：1
> 
> 时间：2013-01-09T10:07:12.530
> 
> 标签：jakarta-ee, synchronization, resultset, thread-synchronization

我正在使用**相同的用户登录凭据**并连接**相同的 DB**在两个不同的浏览器（Brow1 和 Brow2）中登录 JavaEE Web 应用程序。登录后，我正在执行来自 Java 的查询以在 resultSet 中获取一个 excel 文件。如果我同时在两个浏览器中触发查询，我会在 Brow2 中获得 Brow1 的结果集，而 Brow1 会引发空异常错误。

在分析记录器时，我发现 brow1 和 brow2 具有不同的会话 ID。我也尝试过同步，但这不是一种有效的方式并且需要更多时间。

我有没有错过什么。有没有其他方法可以解决这个问题。请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:10:35.177

如果您使用不同的浏览器；在服务器上创建不同的会话。虽然如果您在同一个浏览器上使用不同的选项卡；所有这些选项卡共享相同的会话，因为所有这些选项卡共享存储 cookie 的相同浏览器缓存。

独立请求在 Web 服务器上创建独立线程，并在应用服务器上独立处理。所以，现在归结为应用层，如果这两个独立的线程试图访问相同的数据，它们是如何处理的。如果您可以添加您所做的事情；我能想到可能出了什么问题；但我们需要在应用程序级别修复它。

# ios - 使用 iOS 地理围栏跟踪多个（20 多个）位置

> ID：14232712
> 
> 赞同：32
> 
> 时间：2013-01-09T10:07:26.003
> 
> 标签：ios, location, cllocationmanager, geofencing

iOS 应用程序使用地理围栏来通知用户预定义的附近位置。允许应用程序错过某个位置（用户没有收到有关附近位置的通知），但希望保持较低的丢失率。

实现这一点的一种方法是开始监视重大更改位置，`startMonitoringSignificantLocationChanges`并且每次触发“位置更改”事件时，查找报告位置半径 500m 内的位置。

让我担心的是每次发生重大位置变化并影响电池时都需要对附近区域执行查询。

另一种方法是注册位置，`startMonitoringForRegion`但 Apple 对同时跟踪的区域数量设置了（合理的）限制，即 20 个，而我们有超过 20 个位置。因此需要对跟踪区域进行某种动态更新，但我仍然不确定什么是最好的方法。

关于如何做到这一点的任何想法，以保持低电池消耗，同时降低位置丢失率？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-03-08T09:47:02.477

由于在这个问题上没有太多活动，我将描述我们目前如何解决这个问题。

我们将新区域的重新加载与重大位置变化 (SLC) 事件联系起来。当 SLC 发生时，我们会检查 20 个应该被“地理围栏”的相邻区域。为了找到最近的 20 个区域，我们只需根据以下公式近似 1'' 的纬度和经度：

> 纬度：1 度 = 110.54 公里
> 
> 经度：1 度 = 111.320 * cos（纬度）公里

并且只需检查设备当前位置的边界正方形以获取监控区域的中心（请参阅：[使用纬度/经度 + 公里距离进行简单计算？](https://stackoverflow.com/questions/1253499/simple-calculations-for-working-with-lat-lon-km-distance)）

因此，例如，如果 (10N,10E) 是设备的当前位置，我们从边界正方形开始，顶点在 (10-1',10-1'), (X-10',10+1') , (10+1',10+1'), (10+1',10-1') （在纬度 (10N,10E) 处，一个纬度/经度分钟大约为 1,85 公里）。

如果有 20 个（或几乎 20 个）-我们将它们注册为地理围栏并等待下一个 SCL。如果更少/更多，只需增加/减少边界矩形的大小并重复搜索。

您可以调整此搜索算法以获得更好的性能，但此处描述的算法已经可以完成这项工作。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-07T13:19:21.360

您可以为包含所有当前监控位置的“元地理围栏”保留一个位置。当用户离开此地理围栏时，应用程序将收到通知。然后应用程序可以自我更新并停止跟踪最远的区域并开始跟踪附近的新区域。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2016-01-06T21:46:13.387

我想我会添加另一个选项，以便在您的应用程序中使用 20 多个地理围栏。这种方式已经在我们的应用程序中运行了很长时间，并且使用`CLLocation`了内置的方法。

```
- (void)locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray *)locations {
    if (locations.count > 0) {
        CLLocation *location = locations[0];

        NSMutableArray *sortedFences = [[NSMutableArray alloc] init];

        // add distance to each fence to be sorted
        for (GeofenceObject *geofence in enabledFences) {
            // create a CLLocation object from my custom object
            CLLocationCoordinate2D coordinate = CLLocationCoordinate2DMake(geofence.latitude, geofence.longitude);
            CLLocation *fenceLocation = [[CLLocation alloc] initWithLatitude:coordinate.latitude longitude:coordinate.longitude];
            // calculate distance from current location
            CLLocationDistance distance = [location distanceFromLocation:fenceLocation];
            // save distance so we can filter array later
            geofence.distance = distance;
            [sortedFences addObject:geofence];
        }

        // sort our array of geofences by distance and add we can add the first 20

        NSSortDescriptor *sortByName = [NSSortDescriptor sortDescriptorWithKey:@"distance" ascending:YES];
        NSArray *sortDescriptors = [NSArray arrayWithObject:sortByName];
        NSArray *sortedArray = [sortedFences sortedArrayUsingDescriptors:sortDescriptors];

       // should only use array of 20, but I was using hardcoded count to exit

        for (GeofenceObject *geofence in sortedArray) {
            CLLocationCoordinate2D coordinate = CLLocationCoordinate2DMake(geofence.latitude, geofence.longitude);
            CLLocationDistance radius = geofence.radius;
            NSString *ident = geofence.geofenceId;

            CLCircularRegion *fenceRegion = [[CLCircularRegion alloc] initWithCenter:coordinate radius:radius identifier:ident];
            fenceRegion.notifyOnEntry = geofence.entry;
            fenceRegion.notifyOnExit = geofence.exit;
            [locationController.locationManager startMonitoringForRegion:fenceRegion];
        }
    }
} 
```

希望这将帮助某人或引导他们走上正确的道路。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-09-25T09:02:34.117

如果您担心对每个重大位置更改执行邻近检查，您可以使用空间索引/搜索方法（如[R-trees](http://en.wikipedia.org/wiki/R-tree)或[R*-tree](http://en.wikipedia.org/wiki/R%2a_tree)）来减少每次位置更改所需的比较次数，因为这些搜索算法将过滤掉（可能很大）空间上不相关的区域。这应该会减少执行接近检查所需的时间/电池电量。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2016-04-21T12:25:33.233

我知道这篇文章已经过时了，但对于那些想要做类似事情的人来说，[Skyhook](http://www.skyhookwireless.com/products/context-accelerator)提供了对无限数量的场地进行地理围栏的能力。

来自他们的营销：Skyhook 的上下文加速器使应用程序开发人员和广告商能够通过简单的 Web 界面立即将无限地理围栏部署到任何品牌链（如 CVS）或场所类别（如便利店）。使用与 Skyhook 第一方定位网络相同的专利技术，上下文加速器 SDK 可以管理设备上的这些活动地理围栏，而不受操作系统限制，从而实现无限地理围栏。

# java - 在不迭代的情况下添加 ArrayList

> ID：14232717
> 
> 赞同：0
> 
> 时间：2013-01-09T10:07:42.230
> 
> 标签：java, arrays, arraylist

我想创建一个`ArrayList<Float>`长度为 350 的。我这样做了：

```
x = new ArrayList<Float>(350); 
```

不，我希望这个数组在每个点都有“零”浮点值。我可以做这个：

```
for (int i = 0; i< 350 ; i++){
            x.add((float) 0.0);
} 
```

所以我的问题是是否有另一种方法可以在不迭代的情况下做同样的事情。我想要最少的迭代来提高效率。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-09T10:09:39.657

如果您想要效率，我不会使用`ArrayList`或`Float`在这里。我不建议使用，`float`即使它的精度很差，除非你真的知道你在做什么。

我建议你使用一个双精度数组。

```
double[] x = new double[350]; // all 0.0 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T10:15:42.040

java 的`Collections`类对此有一个很好的实用程序：[`nCopies`](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#nCopies%28int,%20T%29). 请注意，这会创建一个不可变列表，但它完全符合您的要求:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:10:33.303

从java[文档](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/ArrayList.html)：

```
ArrayList(int initialCapacity) 
          Constructs an empty list with the specified initial capacity. 
```

请注意，列表仍然是**空**的，因此您必须一一添加元素。只是容量发生了变化。

我建议您构造另一个集合，例如一个数组，然后使用该构造函数初始化列表：

```
ArrayList(Collection<? extends E> c) 
          Constructs a list containing the elements of the specified collection, in the order they are returned by the collection's iterator. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T10:14:04.997

正如彼得所说，使用数组。如果你想在数组列表中使用它，你可以使用下面的代码。这将创建一个包含 100 个整数的数组列表，每个整数的值为 42

```
 Integer[] a = new Integer[100];
 Arrays.fill(a, 42);
 List<Integer> l = new ArrayList<Integer>(Arrays.asList(a));
 for (Integer integer : l) {
      System.out.println(integer);
 } 
```

您可以轻松地将其修改为 Float 类型并分配您想要的任何初始值。

# php - 十进制货币格式

> ID：14232718
> 
> 赞同：1
> 
> 时间：2013-01-09T10:07:53.227
> 
> 标签：php, numbers, format, money-format

如何在不爆炸数字或字符串的情况下将所有数字转换为 xx、xx 十进制格式？喜欢;

```
8,9 --> 8,90

8,99 --> 8,99

12,1 --> 12,10

129,9 --> 129,90 
```

任何想法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-09T10:09:59.263

您可以使用[number_format](http://php.net/number_format)，例如：

```
$n = 2.1;
echo number_format($n, 2, ','); // 2,10 
```

如果您的输入中有逗号作为小数分隔符，您可以将值转换为浮点数：

```
$number = floatval(str_replace(',', '.', str_replace('.', '', $string_number))); 
```

`str_replace('.', '', $string_number)`用于删除千位分隔符。 `str_replace(',', '.', ... )`用于用点替换逗号。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-09T10:23:21.723

如果您`intl`启用了扩展，则该问题的最佳方法 (IMO) 将在此问题的公认答案中给出：[PHP: unformat money](https://stackoverflow.com/questions/5139793/php-unformat-money)

> 您可以使用
> 
> *   [`NumberFormatter::parseCurrency`- 解析货币数字](http://php.net/manual/en/numberformatter.parsecurrency.php)
> 
> 手册中的示例：
> 
> ```
> $formatter = new NumberFormatter('de_DE', NumberFormatter::CURRENCY);
> var_dump($formatter->parseCurrency("75,25 €", $curr)); 
> ```
> 
> 给出：`float(75.25)`
> 
> 请注意，默认情况下不启用[intl 扩展。](http://php.net/manual/en/book.intl.php)请参阅[安装说明](http://php.net/manual/en/intl.installation.php)。

之后，您将获得一个浮点值和格式，使用`number_format()`.

如果您没有该扩展名，请查看此问题中的正则表达式方法：[清理货币字符串的快速方法](https://stackoverflow.com/questions/6662105/what-a-quick-way-to-clean-up-a-monetary-string/6662356#6662356)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T10:09:44.177

`$money = number_format($number, 2, ",", ","); // $number must be a float, i.e 8.8`

如果您的输入必须使用逗号作为小数分隔符，请也这样做：

```
$money = "20,2";
$fixed_money = floatval(str_replace(",", ".", $money));
echo number_format($fixed_money, 2, ",", ","); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T10:19:56.813

str_pad 将添加缺少的零

```
$val = '1008,95';
$len = strpos($val, ',') + 3;
$newval = str_pad($val, $len, '0', STR_PAD_RIGHT);
echo "Value: " . $newval . "<br>"; 
```

不过，您必须确保您的值不超过两位小数

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-08-18T13:59:12.550

我制作了一个作曲家包，它可以根据您显示的货币来处理这些事情。

[https://packagist.org/packages/votemike/money](https://packagist.org/packages/votemike/money)

如果您还输入国家/地区，它将以当地方式格式化货币（带或不带逗号以及正确的小数位数）

```
$money = new Money(99.50, 'JPY');
$money->format(); //¥100 
```

因此，如果您只是创建一个新的货币对象，其中包含您想要显示的金额和您正在显示它的货币，那么在该对象上调用 ->format() 应该会给您您正在寻找的结果。

# iphone - 在视图导航的 UITableView 中显示数据

> ID：14232720
> 
> 赞同：1
> 
> 时间：2013-01-09T10:08:04.270
> 
> 标签：iphone, ios, uitableview, uinavigationcontroller

我有 2 个视图 - view1 和 view2，一个用于输入数据，另一个用于显示输入的数据。我能够在标签中的 view2 中显示输入的数据。但是如何在 UITableView 中显示数据。以下是我显示数据的代码：

view2.m

```
@synthesize details; //details is an object of NSMutableArray.
    - (void)viewWillAppear:(BOOL)animated {
    [super viewWillAppear:animated];

    textLabel.text = self.name;
    lblCity.text = self.city;
    lblGender.text = self.gender;

}
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return [details count];
}
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *simpleTableIdentifier = @"SimpleTableItem";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:simpleTableIdentifier];

    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:simpleTableIdentifier];
    }

    cell.textLabel.text = [details objectAtIndex:indexPath.row];
    //cell.imageView.image = [UIImage imageNamed:@"creme_brelee.jpg"];
    return cell; 
```

我调试并发现`cellForRowAtIndexPath`从未调用过。

我哪里错了？我该如何解决？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:17:20.517

您需要创建一个显示数据的 NSMutableArray，`UITableViewCell`如下所示，不要忘记在**.h**文件中声明 UITableView 委托，并在您的**xib**`<UITableViewDataSource,UITableViewDelegate>`中连接您的 UITableView IBOutlet并连接委托：

 **```
- (void)viewDidLoad
{
    [super viewDidLoad];
    arrCategorisation=[[NSMutableArray alloc] initWithObjects:@"DataOne",@"DataTwo",@"DataThree", @"DataFour",@"DataFive",nil];
}

#pragma mark - Table view data source

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    // Return the number of sections.
    return 1;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return arrCategorisation.count;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    NSString *CellIdentifier =[NSString stringWithFormat:@"%d",indexPath.row];
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];

            cell.textLabel.text=[arrCategorisation objectAtIndex:indexPath.row];

    }

    // Configure the cell...

    return cell;
}

#pragma mark - Table view delegate

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{

} 
```

您的表加载数据，例如：-

![在此处输入图像描述](../Images/d8fa94bca1fda93fde3fb366c721c324.png)**

# testflight - TestFlight 服务器错误

> ID：14232722
> 
> 赞同：1
> 
> 时间：2013-01-09T10:08:04.613
> 
> 标签：testflight, ipad-mini

我使用 Titanium SDK 开发了一个 iOS 应用程序。当我尝试在使用 TestFlight 的设备上运行它时，该应用程序无法在 iOS 6.0.2 的 iPad mini 上安装，显示错误：

```
This is testflight server error. Please try after sometime. 
```

谁能告诉我实际的问题是什么？

# wpf - 使用 Slider 制作媒体播放器时间线

> ID：14232725
> 
> 赞同：2
> 
> 时间：2013-01-09T10:08:09.833
> 
> 标签：wpf, slider

我正在使用`Slider`显示媒体时间线。在播放媒体时，我使用以下代码行更新侧边栏值：

```
 void SoundTime_Tick(object sender, EventArgs e)
  {
    SliderBar.Value = GetCurrentTimePosation();
  } 
```

但是 `SliderBar.ValueChanged`每次调用此事件时，我都无法用鼠标更改时间线位置：（当我更改它时，它会返回`GetCurrentTimePosation()`时间）

```
 void SeekToMediaPosition(object sender, RoutedPropertyChangedEventArgs<double> e)
    {
           media.setpos((uint)e.NewValue);
    } 
```

任何想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T10:25:53.917

我得到了答案：根据[seek-bar-for-media-element-in-wpf](http://www.c-sharpcorner.com/uploadfile/dpatra/seek-bar-for-media-element-in-wpf/)，我必须添加两个事件`Slider`

```
Thumb.DragStarted="sliderTime_DragStarted"
Thumb.DragCompleted="sliderTime_DragCompleted" 
```

并在拖动时禁用我的计时器。

完整答案：[seek-bar-for-media-element-in-wpf](http://www.c-sharpcorner.com/uploadfile/dpatra/seek-bar-for-media-element-in-wpf/)

# android - Android Lint 限制语言以检查缺失的翻译

> ID：14232728
> 
> 赞同：24
> 
> 时间：2013-01-09T10:08:13.063
> 
> 标签：android, android-lint

我的应用程序仅支持 2 种语言 - 英语和德语。所以我有这样的语言字符串文件夹结构：

> 我的项目/res/values/strings.xml
> 
> myproject/res/values-de/strings.xml

当我运行 Lint 检查时，我收到许多关于缺少语言的警告，我的应用程序不需要支持：

> "some_string" 不翻译为 af, am, ar, be, bg, ca, cs, da, el, en-rGB, es, es-rUS, et, fa, fi, fr, hi, hr, hu, in , 它, iw, ja, ko, lt, lv, ms, nb, nl, pl, pt, pt-rPT, ro, ru, sk, sl, sr, sv, sw, th, tl, tr, uk, vi , zh-rCN, zh-rTW, zu

此警告使您很难理解哪些字符串未翻译成德语。我必须查看每个警告并搜索“de”符号以了解该字符串没有翻译成德语。

所以我的问题很简单——**我怎样才能告诉 Lint 只检查 2 种语言**？

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-02-21T22:36:51.120

**更新**：您可以限制 Gradle 导入的语言！Cyril Mottier 指出，您可以指定您支持的资源。

> > 从 Android Gradle 插件 0.7 开始，您可以将有关应用程序处理的配置的信息传递给构建系统。这要归功于 resConfig 和 resConfigs 风格和默认配置选项。下面的 DSL 防止 aapt 打包与应用管理的资源配置不匹配的资源：

```
defaultConfig {
    // ...
    resConfigs "en", "de", "fr", "it"
} 
```

更多信息在这里[将您的 APKs 放在 Diet](http://cyrilmottier.com/2014/08/26/putting-your-apks-on-diet/)和[Android](http://tools.android.com/tech-docs/new-build-system)上（在页面上搜索 resConfig）

* * *

看来，如果您将项目添加到构建路径中，则已添加到这些项目中的任何和所有语言都将渗透到您的项目中。例如“google-play-services_lib”项目，它为我“支持”的项目添加了 40 多种语言。这就是我得到疯狂的 lint 错误（类似于上面的错误）的原因，即使我只有一个默认和西班牙语（values-es）资源文件夹。

解决方案是简单地从外部/导入项目中删除您不支持的资源文件/文件夹。在我删除了 google-play-services_lib 项目中除 values/values-es 文件夹之外的所有文件夹后，非目标语言的 lint 警告消失了。请务必保留资源文件的备份，以防您想在以后添加对这些语言/地区的支持。

希望这可以帮助。我把头敲在桌子上，在 SO 和谷歌上打了几天，试图弄清楚如何表达这个问题。然后我终于意识到我的两个都有翻译的项目，图书馆项目之间有什么区别。

我确实希望有一种方法可以告诉项目我只支持语言 x/y/z 并让它忽略其余的。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-21T10:02:39.877

这里同样的问题。

我创建了一个错误报告，请随意给它加星标

[http://code.google.com/p/android/issues/detail?id=50525](http://code.google.com/p/android/issues/detail?id=50525)

这发生在 ADT 21.1 版本之后。

我不知道它的解决方法（编辑：我以前虽然找到了解决方法，但我查看了错误的文件，ups）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-11T12:25:34.240

由于包含谷歌图书馆服务，我有同样的问题......

这是我的解决方案，目前：

1.  删除所有包含的库
2.  应用棉绒
3.  纠正错误
4.  再次添加所有库

# android - 安卓硬件调试

> ID：14232730
> 
> 赞同：1
> 
> 时间：2013-01-09T10:08:19.250
> 
> 标签：android, linux, debugging, hardware

我最近买了一台平板电脑。它是**SysTrade 的 Plug 10.1**（本地公司的中国产品）。它具有合理的 CPU 和相当不错的 GPU，所以我认为硬件调试我的应用程序会很棒。但是，此功能似乎不适用于我的设备...

一开始我缺少所需的**供应商 ID**，因此在给 SysTrade 打了几次电话后，我收到了一个。但是该代码不起作用。所以我写了一个小应用程序，得到了所有 2 字节的数字，我将它们复制粘贴到*/etc/udev/rules.d/51-android.rules*。问题是**adb**仍然看不到我的设备。重要的是我的**HTC Wildfire**被成功识别，因此规则编写得很好。

我不知道谁拥有这款平板电脑，所以我无法检查是否所有插头或只有我的插头受到影响。任何想法将不胜感激......

PS。我正在 Linux (Ubuntu 12.10) 上开发。PS2。当我将设备连接到 PC 时，它显示硬件调试已打开，但**adb**看不到我的设备。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T11:04:15.033

我已经成功地解决了这个问题而无需生根设备。唯一需要的操作是在**~/.android/adb_usb.ini**中为设备供应商手动添加一个条目。

通常它应该基于*/etc/udev/rules.d/51-android.rules*由*android update adb*命令生成，但似乎这个应用程序失败了。重要的是，vendorid 必须以十六进制数字特定格式给出，即：**0x(2-BYTE HEX)**例如**0x2207**。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:28:01.270

尝试在 root 上运行 adb。

如果这不起作用，您仍然可以尝试 root 设备（这可能会使保修失效）并使用 adbWifi 之类的应用程序。我使用后者进行调试，它可以工作：我可以在我的 M-tech aTAB7t 上运行我的应用程序。

# c# - 使用 C# 在 ASP.net 中的图像按钮 OnClientClick() 事件问题

> ID：14232731
> 
> 赞同：1
> 
> 时间：2013-01-09T10:08:19.273
> 
> 标签：c#, javascript, asp.net

我有一个网页（第一个窗口）。在该页面中，我有一个图像按钮，该按钮具有 OnClientClick 事件。在那种情况下，我将 javascript 方法称为`OpenHelpWindow()`ie

```
OnClientClick ="OpenHelpWindow()" 
```

现在，每当我单击该图像按钮时，javascript 方法中的事件`(OpenHelpWindow())`都会触发，它会打开新帮助 Web 窗口。它工作正常，但问题是，当我按 Enter 键时，事件也会触发并显示帮助窗口。

现在我想在按下 Enter 键时停止打开第二个窗口（帮助窗口）。

我该如何解决这个问题？

我的第一个 Web 窗口图像按钮的代码是，

# .aspx 代码

```
.
.
<asp:ImageButton ImageUrl="~/Images/help.png" runat="server" ID="ibtnHelp"
                                AlternateText="Help" ToolTip="Help"  OnClientClick="OpenHelpWindow()" />
.
. 
```

# OpenHelpWindow() 的 Javascript 代码是

```
function OpenHelpWindow()
{
var newWin = null;
try
 {
    newWin = window.open("../Common/OpenHelpUrl.aspx");
    newWin.focus();
    return false;
 }
finally
 {
    newWin = null;
 }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T10:16:07.603

Your`ImageButton`是表单的默认按钮，这意味着当用户按下 Enter 时，该按钮会自动“按下”。这是标准的 ASP.NET 行为。

您可以通过将以下属性添加到您的`<ImageButton.../>`标签来更改此设置：

```
UseSubmitBehavior="False" 
```

祝你好运！

**编辑**

如果这不起作用（它应该！），那么您可以通过在表单中​​添加一个不可见的虚拟按钮来欺骗浏览器：

```
<asp:Button ID="dummy" runat="server" Text="" OnClientClick="return false;" style="display:none;"/> 
```

然后添加`defaultButton="dummy"`到您的`<form />`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-18T08:01:38.417

无效的回发或回调参数。使用配置或页面中的 <%@ Page EnableEventValidation="true" %> 启用事件验证。出于安全目的，此功能验证回发或回调事件的参数是否源自最初呈现它们的服务器控件。如果数据有效且符合预期，请使用 ClientScriptManager.RegisterForEventValidation 方法注册回发或回调数据以进行验证。

# jquery - 带有自定义标题的中继器中的 Nivo 滑块

> ID：14232740
> 
> 赞同：0
> 
> 时间：2013-01-09T10:09:07.280
> 
> 标签：jquery, asp.net, nivo-slider

我有一个客户是一家旅行社，他总是提供特别优惠，并希望在幻灯片的首页上发布这些特别优惠。图片应该是埃菲尔铁塔，右边的标题应该是一个包含更多信息的框，如标题、价格、可能的日期和按钮。所以这些优惠总是会发生变化，由客户来管理。现在问题是我想让它在中继器中工作。图片正在正确更改，但标题没有移动。它被设置在数据源中的第一个元素上，它就这样被卡住了。我已经尝试了一个小例子，所以我会在这里发布：

```
public partial class TestPage : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
        List<BindRepeater> source = new List<BindRepeater>
            {
                new BindRepeater {Pic = "Images/TestSlideshow/nemo.jpg", Text = "Text 5", OfferID = 1},
                new BindRepeater {Pic = "Images/TestSlideshow/walle.jpg", Text = "Text 2", OfferID = 2},
                new BindRepeater {Pic = "Images/TestSlideshow/up.jpg", Text = "Text 3", OfferID = 3},
                new BindRepeater {Pic = "Images/TestSlideshow/toystory.jpg", Text = "Text 4", OfferID = 4}
            };

        rptPic.DataSource = source;
        rptPic.DataBind();

        rptCaption.DataSource = source;
        rptCaption.DataBind();
    }

}

public class BindRepeater
{
    public int OfferID { get; set; }
    public string Pic { get; set; }
    public string Text { get; set; }
} 
```

和

```
<div class="slider-wrapper theme-default">
        <div id="slider" class="nivoSlider">
            <asp:Repeater ID="rptPic" runat="server">
                <ItemTemplate>
                    <div>
                        <asp:HiddenField runat="server" ID="OfferID" />
                        <img src='<%# Eval("Pic") %>' alt="" title='<%# String.Format("#htmlDiv{0}",Eval("OfferID")) %>' />
                    </div>
                </ItemTemplate>
            </asp:Repeater>
        </div>
    </div>
    <asp:Repeater runat="server" ID="rptCaption">
        <ItemTemplate>
            <div id='<%# String.Format("htmlDiv{0}",Eval("OfferID")) %>' class="nivo-html-caption">
                <asp:Label runat="server" ID="lbl" Text='<%# Eval("Text") %>' CssClass="label_blue15"></asp:Label>
            </div>
        </ItemTemplate>
    </asp:Repeater>            <script type="text/javascript">
            $(window).load(function () {
                $('#slider').nivoSlider({
                    effect: 'random', // Specify sets like: 'fold,fade,sliceDown'
                    animSpeed: 500, // Slide transition speed
                    pauseTime: 5000, // How long each slide will show
                    startSlide: 0, // Set starting Slide (0 index)
                    directionNav: true, // Next & Prev navigation
                    controlNav: true, // 1,2,3... navigation
                    controlNavThumbs: false, // Use thumbnails for Control Nav
                    pauseOnHover: true, // Stop animation while hovering
                    manualAdvance: false // Force manual transitions
                });
            });
        </script> 
```

*htmlcaption* div 会有更多的东西，比如标签、按钮。这只是一个假人。在这个阶段，标题没有动画，我想以某种方式使它在图像发生变化时，从数据源中获取具有正确*OfferID*所需的文本。或者也许还有另一种方法？我还尝试了一个包含图像和标题的中继器，也没有工作。

谢谢

稍后编辑：我已经更改了代码，也为字幕创建了一个中继器，并尝试将 img 标题设置为字幕中继器内 div 的 id。我得到的只是图片滑动和标题停留在第一个，永远不会改变到下一个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T10:05:54.730

ok, I managed to find the answer. The way to do it with two repeaters is the one above, and the fix to the upper code is that I forgot to give values to the OfferID in the datasource. I will edit that too and then the above code is good to run.

# java - 哪些是我们可以在我们的应用程序中使用的云服务，它需要存储最大大小为 5 mb 的小文件

> ID：14232741
> 
> 赞同：0
> 
> 时间：2013-01-09T10:09:09.363
> 
> 标签：java, google-app-engine, file-upload, amazon-web-services, cloud

我正在开发一个需要存储小文件（图像、word doc、ppts 和 pdf）的应用程序

我想使用云服务，它可以让我在不关心磁盘空间和其他东西的情况下做到这一点。

1.  它应该已经为它构建了一个 Java api，或者一个简单的 Restful 服务。
2.  成本不是大问题，性能才是。

更具体地说，哪个更好：亚马逊或谷歌云存储？也欢迎任何比这些更好的。

这不是最好的，我想了解这些云服务的优缺点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T12:46:17.383

我只能回答谷歌应用引擎。有 3 个可能的选项：

*   App Engine 数据存储（高复制数据存储）[1]
*   App Engine Blobstore [2]
*   谷歌云存储 [3]

**数据存储**速度很快，但大小限制为 1mb，这对于您的文件来说太小了。

App Engines **Blobstore**可能就是您要搜索的内容。您可以保存许多文件并在可接受的时间内访问它们。

**谷歌云存储**速度较慢，但​​功能更多。您必须检查是否需要此功能，如果不需要，请改用 Blobstore。

我选择了 Cloud Storage，但我的程序很慢，因为 GAE 和 GCS 之间的读/写时间很慢。我必须编写一个带有缓存的异步保存任务来加速我的应用程序（这仅在 GAEs 后端可用）。

[1] [https://developers.google.com/appengine/docs/java/datastore/overview](https://developers.google.com/appengine/docs/java/datastore/overview)

[2] [https://developers.google.com/appengine/docs/java/blobstore/overview](https://developers.google.com/appengine/docs/java/blobstore/overview)

[3] [https://developers.google.com/appengine/docs/java/googlestorage/overview](https://developers.google.com/appengine/docs/java/googlestorage/overview)

# html - CSS 响应式叠加图像

> ID：14232751
> 
> 赞同：1
> 
> 时间：2013-01-09T10:09:37.813
> 
> 标签：html, image, css, responsive-design

我有两张需要相互重叠的图像。图像还必须具有响应性，因此具有百分比宽度和高度。

```
<div class="container">
    <img src="res/bigger.png/>
    <img src="res/smaller.png class="icon"/>
</div>

.container {
  width:100%;
  height:100%;
  background-color:blue;
  postion:relative;
}
.container img {
   max-width:100%;
   max-heihgt: 100%;
   height: auto;
   width: auto;
}
.icon {
   position: relative;
   top: -70%;
   left: 20%;
   z-index: 50;
   width: 10% !important;
   height: auto !important;
} 
```

由于两个图像在重新调整大小时不具有相同的比例，因此位于较大图像顶部的较小图像将失去其相对于较大图像的位置。重新调整页面大小时，如何保持较小图像相对于较大图像的位置？
这个问题的一个例子可以在这里找到[http://jsfiddle.net/5YQFV/](http://jsfiddle.net/5YQFV/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:22:22.973

怎么样，不是使用两个图像，而是用这样的容器替换最大的图像

```
<div class="the-gang">
  <img src="res/smaller.png" />
</div> 
```

然后将容器的位置设置为`position:relative`但较小图像的位置`position:absolute`像这样

```
.the-gang{
  position:relative;
  width:100px;
  height:75px;
}

.the-gang img{
  position:absolute;
  top:10px;
  left:10px;
} 
```

这样，最小的图像将始终保留在您放置的位置，因为绝对位置将相对于它的容器。可能的缺点是您必须设置父容器的最小高度和宽度，但优点是它将完全在 CSS 中完成，无需使用 javascript。

# php - 从 Smarty PHP 循环 (JQuery) 中的选择中获取选项值

> ID：14232759
> 
> 赞同：0
> 
> 时间：2013-01-09T10:09:53.817
> 
> 标签：php, javascript, jquery, smarty

所以我需要附加和取消附加包含所选选项值的 div，问题是首先显示选择值的方法是 via。一个使用 Smarty PHP 模板的 for-each 循环，我找不到任何关于如何使用它来实现它的文档。

**我尝试过的：**正如您将在下面看到的，我尝试在模板文件中创建一个 JavaScript 变量，但它只返回所选第一个选项的值。我无法弄清楚为什么我只能从循环中获取第一个值。

例如，如果我在选择“A”和“B”中有两个项目，则在选择值选项时，我总是只会收到“A”作为值。

**Smarty 模板代码：**

```
<select class="my_select" name="vlans_{$NetworkDTO->id}[]">
    {foreach from=$arrNetworkDTO item=NetworkDTO name=arr}
    <option class="addOvmCardList" id="addNameDisk{$strIdTpl}" value="{$NetworkDTO->name|escape}">{$NetworkDTO->name}</option>
    {/foreach}
</select> 
```

**jQuery代码：**

```
$('a.addListOVM').click(function(){

    $(".my_select").change(function() {

        $('.addCardOVM').append(
              '<div class="divform"><label>' + $(this).val() + '</label>' +
              '<a href="">-</a></div>'
                );              
    });                             

}); 
```

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:28:21.087

```
<select id="my_select">
  {foreach from=$arrNetworkDTO item=NetworkDTO}
   <option value="{$NetworkDTO->name|escape}">{$NetworkDTO->name}</option>
  {/foreach}
</select>

<script>
  $("#my_select").change(function() {
    $(".addCardOVM").append("<div>" + $(this).val() + "</div>")
  });
</script> 
```

**编辑：**要在按钮单击时获取选定选项的值：

```
$('a.addListOVM').click(function(){

        $('.addCardOVM').append(
              '<div class="divform"><label>' + $(".my_select:selected").val() + '</label>' +
              '<a href="">-</a></div>'
                );

}); 
```

# java - JTable - UI 在许多插入时冻结

> ID：14232760
> 
> 赞同：0
> 
> 时间：2013-01-09T10:09:57.627
> 
> 标签：java, swing, concurrency, jtable, event-dispatch-thread

我有一个 GUI 应用程序，它有几个选项卡，每个选项卡都承载一个`JTable`. 我的 UI 类在 EDT 上运行的以下代码中处理来自控制器的事件：

```
private void processAnalysisResult(AnalysisResult generatedValue) {
    LimitType limit = generatedValue.getMetric().getLimit();
    String limitName = limit.getName();
    int index = tabs.indexOfTab(limitName);
    Component component = tabs.getComponentAt(index);
    JScrollPane scrollPane = (JScrollPane) component;
    JTable table = (JTable) scrollPane.getViewport().getView();
    AnalysisResultTableModel model = (AnalysisResultTableModel) table.getModel();
    model.addRow(generatedValue);
    }
} 
```

每秒有几千个新生成的结果，我将其降低到大约 10k。即使具有相对较低的值，应用程序也会冻结大约 10-20 秒来处理来自 Jtable 的 UI 更新。该`addRow`方法在插入每一行时调用`fireTableRowsInserted`mewthod，但这会那么慢吗？

编辑：这是处理事件的代码（从后台处理线程异步调用）：

```
 controller.addAnalysisGenerationListener(new GeneratedValueListener<AnalysisResult>() {
        @Override
        public void valueGenerated(final GeneratedValueEvent<AnalysisResult> event) {
            processEDT(new Runnable() {
                @Override
                public void run() {
                    processAnalysisResult(event.getGeneratedValue());
                }
            });
        }
    });

private void processEDT(Runnable runnable) {
    if (EventQueue.isDispatchThread()) {
        runnable.run();
    } else {
        SwingUtilities.invokeLater(runnable);
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-09T10:27:13.617

是的，它可以那么慢。10k不是一个低数字。正如您已经注意到的那样，`addRow()`调用`fireTableRowsInserted()`反过来通知视图发生了更改并刷新视图（但在这种情况下，用户看不到它，因为 EDT 正忙于处理下一个结果）。一种解决方案是`processAnalysisResult()`在后台线程上执行并通过将最后一行 ( `model.addRow(generatedValue);`)传递给 EDT 来更新模型`SwingUtilities.invokeLater()`。也许它不会更快，但至少 GUI 不会冻结 20 秒。当然，您也可以使用`SwingWorker`专用于此类任务的。此外，您可以尝试批量更新模型（例如，一次将每 100 个结果添加到 EDT 上的模型中），这样可以最大限度地减少屏幕闪烁。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-09T10:32:41.090

猜猜 AnalysisResultTableModel 是 DefaultTableModel 的实例？

尝试添加批量 addRows() 方法，而不是一个一个添加。addRow() 调用方法

```
public void insertRow(int row, Vector rowData) {
    dataVector.insertElementAt(rowData, row);
    justifyRows(row, row+1);
    fireTableRowsInserted(row, row);
} 
```

尝试实现这样的事情

```
public void insertRows(int row, Vector<Vector> rowsData) {
    for () {
        dataVector.insertElementAt(rowData, row);
        justifyRows(row, row+1);
    }

    fireTableRowsInserted(row, row+rowsData.size());
} 
```

# ruby-on-rails - 时区偏移选择

> ID：14232764
> 
> 赞同：0
> 
> 时间：2013-01-09T10:10:03.680
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, timezone

如果有任何帮助器或方法，可以为我提供带有时区偏移的选择，这将在其视图中仅生成数字，例如（`<option value="-6">-6</option>`）

我试过`<%= time_zone_select :time_zone, ActiveSupport::TimeZone.us_zones %>`了，但这只为我提供了字符串信息，这对我不起作用。

PS我即将切换到options_for_select

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:23:55.357

没有这样的内置 Rails 助手，但很容易实现`options_for_select`

```
options_for_select(ActiveSupport::TimeZone.us_zones.map {|zone| zone.utc_offset / 3600}.uniq) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:47:43.660

这是我是如何做到的

```
<%= collection_select :prefix, :suffix, ActiveSupport::TimeZone.us_zones, :utc_offset, :name, 
      {:selected => -21600}%> 
```

# javascript - HTML5：从画布编码 8 位灰度 JPEG

> ID：14232765
> 
> 赞同：2
> 
> 时间：2013-01-09T10:10:03.263
> 
> 标签：javascript, html, html5-canvas, jpeg, webgl

有没有一种简单的方法可以使用 Web 浏览器客户端技术（html5/canvas/webgl/javascript）从 Canvas 编码 8 位灰度 JPEG？

是否有任何现成的 javascript 库可以在没有任何图像处理知识的情况下使用？除了 Flash，浏览器插件不是一个选项。但如果可以的话，我不喜欢 Flash。

请不要推荐有助于实现此类库的算法或任何链接。

详细信息：实际上，我想使用 HTML5 File API 读取本地 jpeg 图像文件，而不是将其转换为 8 位灰度 jpeg，而不是将其上传到服务器。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T02:20:15.993

alphaJPEG[方法](http://jackadam.github.io/2010/alpha-jpegs/)使用两个图像：一个普通的 PNG-24 和一个带有 alpha 通道的 PNG-24。它会生成具有透明度的 8 位 JPEG。请改用[反 alpha 蒙版](http://kaioa.com/node/104)来生成灰度 8 位 JPEG。

```
<head>
  <style>img[data-alpha-src]{visibility: hidden;}</style>
</head>
<body>
  <img src="image.jpg" data-alpha-src="alpha.png" />
  <!--...-->
  <script src="ajpeg.js"></script>
</body> 
```

ajpeg.js

```
(function() {

  var create_alpha_jpeg = function(img) {

    var alpha_path = img.getAttribute('data-alpha-src')
    if(!alpha_path) return

    // Hide the original un-alpha'd
    img.style.visiblity = 'hidden'

    // Preload the un-alpha'd image
    var image = document.createElement('img')
    image.src = img.src
    image.onload = function () {

      // Then preload alpha mask
      var alpha = document.createElement('img')
      alpha.src = alpha_path
      alpha.onload = function () {

        var canvas = document.createElement('canvas')
        canvas.width = image.width
        canvas.height = image.height
        img.parentNode.replaceChild(canvas, img)

        // For IE7/8
        if(typeof FlashCanvas != 'undefined') FlashCanvas.initElement(canvas)

        // Canvas compositing code
        var context = canvas.getContext('2d')
        context.clearRect(0, 0, image.width, image.height)
        context.drawImage(image, 0, 0, image.width, image.height)
        context.globalCompositeOperation = 'xor'
        context.drawImage(alpha, 0, 0, image.width, image.height)

      }
    }
  }

  // Apply this technique to every image on the page once DOM is ready
  // (I just placed it at the bottom of the page for brevity)
  var imgs = document.getElementsByTagName('img')
  for(var i = 0; i &lt; imgs.length; i++)
    create_alpha_jpeg(imgs[i])

})();

In the head element I linked to FlashCanvas:

<!--[if lte IE 8]><script src="flashcanvas.js"></script><![endif]-->

... and I threw in this to avoid a flicker of the un-alpha’d JPEG: 
```

**参考**

*   [使用 HTML5 的 Canvas 元素模拟有损 RGBA 图像](http://kaioa.com/node/104)

*   [Alpha JPEG](http://jackadam.github.io/2010/alpha-jpegs/)

*   [Chrome 中的 GPU 加速合成](https://www.chromium.org/developers/design-documents/gpu-accelerated-compositing-in-chrome)

*   [适用于 Chrome 操作系统的原生单副本纹理上传](https://software.intel.com/en-us/articles/native-one-copy-texture-uploads-for-chrome-os-on-intel-architecture-enabled-by-default)

# php - array_push() 和 $array[] 之间的区别 =

> ID：14232766
> 
> 赞同：118
> 
> 时间：2013-01-09T10:10:03.600
> 
> 标签：php, arrays, push

在 PHP 手册中，（[array_push](http://php.net/manual/en/function.array-push.php)）说..

> 如果您使用**array_push()**向数组添加一个元素，最好使用**$array[] =**因为这样就没有调用函数的开销。

例如 ：

```
$arr = array();
array_push($arr, "stackoverflow");
print_r($arr); 
```

对比

```
$arr[] = "stackoverflow";
print_r($arr); 
```

我不明白为什么会有很大的不同。

* * *

## 回答 #1

> 赞同：155
> 
> 时间：2013-01-09T10:13:34.390

当您在 PHP 中调用函数（例如`array_push()`）时，调用会产生开销，因为 PHP 必须查找函数引用，找到它在内存中的位置并执行它定义的任何代码。

using`$arr[] = 'some value';`不需要函数调用，并且直接将添加实现到数据结构中。因此，当添加大量数据时，使用`$arr[]`.

* * *

## 回答 #2

> 赞同：44
> 
> 时间：2013-01-09T10:24:02.397

您可以使用 array_push 一次将 1 个以上的元素添加到数组中，

例如 `array_push($array_name, $element1, $element2,...)`

其中 $element1, $element2,... 是要添加到数组的元素。

但是如果您想一次只添加一个元素，那么应该首选其他方法（即使用 $array_name[]）。

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2013-01-09T10:15:55.850

不同之处在于下一行“因为这样没有调用函数的开销”。

> `array_push()`如果第一个参数不是数组，将引发警告。这与`$var[]`创建新数组的行为不同。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2013-01-09T10:13:15.873

如果可能，您应该始终使用`$array[]`，因为正如框所述，函数调用没有开销。因此它比函数调用快一点。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-01-09T10:20:10.003

[array_push](http://php.net/manual/en/function.array-push.php) — 将一个或多个元素压入数组末尾

记下“**一个或多个元素到最后**”的话，使用`$arr[]`你必须获得数组的最大大小

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2014-09-25T12:59:51.960

说明： 1.第一个在数组中声明变量。

2.第二个array_push方法用于推入数组变量中的字符串。

3.finally它会打印结果。

4.第二种方法是直接将字符串存入数组。

5.使用 print_r 方法将数据打印在数组值中。

这两个是一样的

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2017-10-13T21:02:23.170

两者都是相同的，但是 array_push 在它的参数中创建一个循环，该参数是一个数组并执行 $array[]=$element

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-06-29T15:28:21.860

我知道这是一个旧答案，但可能有助于其他人知道两者之间的另一个区别是，如果您必须在每个循环中向数组添加超过 2/3 的值，则使用起来会更快：

```
 for($i = 0; $i < 10; $i++){
          array_push($arr, $i, $i*2, $i*3, $i*4, ...)
     } 
```

代替：

```
 for($i = 0; $i < 10; $i++){
         $arr[] = $i;
         $arr[] = $i*2;
         $arr[] = $i*3;
         $arr[] = $i*4;
         ...
     } 
```

编辑 - 忘记关闭`for`条件括号

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2018-04-11T19:39:02.213

没有人说，但是 array_push 只将一个元素推送到数组的末尾，其中 $array[index] 可以在任何给定的索引处插入一个值。巨大差距。

# android - GCM 演示应用程序不考虑失败的应用程序服务器注销？

> ID：14232769
> 
> 赞同：1
> 
> 时间：2013-01-09T10:10:11.403
> 
> 标签：android, google-cloud-messaging

查看 GCM 包附带的 gcm-demo-client 示例应用程序，我注意到使用了以下模式：

```
GCMRegistrar.checkDevice(this);
GCMRegistrar.checkManifest(this);
final String regId = GCMRegistrar.getRegistrationId(this);
if (regId.equals("")) {
    // Register application with GCM
} else {
    // Device is already registered on GCM, check server.
    if (GCMRegistrar.isRegisteredOnServer(this)) {
        // Skip registration.
    } else {
        // Try to register again on server
    }
} 
```

但是，如果由于某种原因，应用程序先前已成功注册到 GCM 和应用程序服务器，然后成功地从 GCM 注销但没有从应用程序服务器注销，那么应用程序将尝试在应用程序服务器上重新注册而不先注销，正确的？所以模式不应该更像：

```
GCMRegistrar.checkDevice(this);
GCMRegistrar.checkManifest(this);
final String regId = GCMRegistrar.getRegistrationId(this);
if (regId.equals("")) {
    // Check if device was previously registered with application server
    if (GCMRegistrar.isRegisteredOnServer(this)) {
        // Unregister on application server
    }
    // Register application with GCM
} else {
    // Device is already registered on GCM, check server.
    if (GCMRegistrar.isRegisteredOnServer(this)) {
        // Skip registration.
    } else {
        // Try to register again on server
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T16:12:07.967

您可以这样做，但由于注销是（或应该是）异步事件，您必须触发特殊的注销，然后在完成后向 GCM 注册。

所以像：

```
if (regId.equals("")) {
    // Check if device was previously registered with application server
    if (GCMRegistrar.isRegisteredOnServer(this)) {
        // Unregister on application server and trigger GCM registration
    } else {
        // Register application with GCM
    }
} 
```

我不确定您是否应该担心，因为如果相同的设备再次注册，因为 GCM 提供的注册 ID 可能相同，这对您的应用程序服务器来说应该没什么大不了的。但是，如果不是下次您发送消息时，GCM 应该通过返回[规范的 Id](http://developer.android.com/google/gcm/adv.html#canonical)为您解决问题。

如果您先从应用程序服务器成功注销，您也只能从 GCM 注销。

# initialization - ABAP“SUPPLY”：如何使用数据提供功能模块？

> ID：14232770
> 
> 赞同：2
> 
> 时间：2013-01-09T10:10:14.590
> 
> 标签：initialization, deadlock, abap

在SUPPLY自动生成的功能模块中，可以看到如下注释：

```
* General Notes
* =============
* A common scenario for a supply method is to aquire key
* informations from the parameter <parent_element> and then
* to invoke a data provider.
* A free navigation thru the context, especially to nodes on
* the same or deeper hierachical level is strongly discouraged,
* because such a strategy may easily lead to unresolvable
* situations!!
*
** data declaration
*  DATA lt_nod TYPE wd_this->Elements_nod.
*  DATA ls_nod LIKE LINE OF lt_nod.
** @TODO compute values
** e.g. call a data providing **FuBa** 
```

我了解浏览具有相关供应功能但尚未初始化的节点的危险 - 这基本上会导致死锁。

我想知道什么是**FuBa**或**数据提供者**以及如何使用它 - 我发现的所有示例都只以微不足道的方式为节点提供数据，而不是解决这个问题。

这是注册节点以稍后更新的某种方式......还是......不知道？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T10:34:35.763

在这种情况下，**数据提供者**不是一个技术术语，它只是一些提供您想要添加到上下文中的数据的编码。无论是什么可能取决于您的应用程序上下文 - 从本地或远程功能模块或方法调用，对您的辅助类的调用，甚至 - 如果您真的想采用不良编码习惯 - 到直接数据库访问。

**FuBa**是**Funktionsbaustein** = 功能模块的缩写。

# c - 从数组中打印随机选择

> ID：14232772
> 
> 赞同：0
> 
> 时间：2013-01-09T10:10:16.350
> 
> 标签：c, arrays, function, loops, while-loop

我正在研究一个从给定数组中选择随机数并将它们打印到标准输出的函数。这些数字不应重复，选择的数字与数组一起提供给函数。我有一个单独的函数测试文件和一个头文件。一切都编译得很好，但是当我运行程序时，我在 pickNumbers 函数中挂断，没有打印任何内容，我什至不知道是否选择了任何内容。

```
#include <stdio.h>
#include <stdlib.h>
#include "head.h"

//program that picks random numbers from the given array
int alreadyPicked(int choices[], int choice);

void pickNumbers(int myArray[],int max)
{
  // delcare/initilize variables
  int i;
  int choices[max];
  int length = sizeof(myArray)/sizeof(myArray[0]);
  // seed rand
  srand(time(NULL));

  // pick a random choice until that given number of choices is reached
  // to make sure non repeat run against alreadyPicked function
  for (i=0; i <= max; i++) {
    do{
      choices[i] = (rand() % max);
    }while (alreadyPicked(choices, choices[i]) == TRUE);
  }

  for (i=0; i <= max; i++) {
     printf("%d", myArray[choices[i]]);
  }
  printf("\n"); 
}

int alreadyPicked(int choices[], int choice)
{
  int i;
  int answer = FALSE;
  for (i=0; i <= (sizeof(choices)/sizeof(choices[0])); i++) {
    if(choices[i] == choice)
      answer = TRUE;
  }
  return answer;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:14:02.277

也许

```
for (i=0; i <= max; i++) { 
```

一定是：

```
for (i=0; i < max; i++) { 
```

和

```
 for (i=0; i <= (sizeof(choices)/sizeof(choices[0])); i++) { 
```

一定是：

```
 for (i=0; i < (sizeof(choices)/sizeof(choices[0])); i++) { 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T22:47:31.157

在您的第一个“for”循环中，您有一个嵌套的 while/do。你在你的for循环中增加“i”，而不是你应该在while/do中增加变量，否则它将永远挂起执行这样的循环，因为“i”永远不会增加。

代替：

```
for (i=0; i <= max; i++) { 
```

经过：

```
for (i=0; i < max;) { 
```

并替换：

```
 choices[i] = (rand() % max); 
```

经过：

```
 choices[i++] = (rand() % max); 
```

这样，您可以确保“i”正在递增。此外，您的构造“i<=max”也不正确，因为您从 0 开始，使用 David RF 所做的方式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-13T06:45:06.770

除了前面提到的错误循环测试之外，死循环的原因是`alreadyPicked()`你将新的选择索引与 中的每个选择索引进行比较`choices[]`，包括未初始化的和*新的本身*；因此，`alreadyPicked()`总是返回 TRUE。我建议改为调用`alreadyPicked()`to

```
alreadyPicked(choices, i) 
```

及其实施

```
int alreadyPicked(int choices[], int choice)
{
  for (int i = 0; i < choice; i++)
    if (choices[i] == choices[choice])
      return TRUE;
  return FALSE;
} 
```

# javac - 如何在 Windows 7 上设置 java 7 编译器

> ID：14232774
> 
> 赞同：0
> 
> 时间：2013-01-09T10:10:26.047
> 
> 标签：javac, java-7

我已经在我的机器上安装了 java 7。

`java -version`表明：

> Java 版本“1.7.0_09”
> Java(TM) SE 运行时环境（构建 1.7.0_09-b05）
> Java HotSpot(TM) 64 位服务器 VM（构建 23.5-b02，混合模式）

`javac -version`显示

> javac 1.6.0_10

当我尝试使用 Ant 构建应用程序时，它显示“建议升级编译器”错误

如何更新 javac 的路径以指向 java 7，我的`JAVA_HOME`和`PATH`变量分别包含 C:\Program Files\Java\jdk1.7.0_09 和 C:\Program Files\Java\jdk1.7.0_09\bin。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:45:09.780

尝试以下方法之一：

1）更改路径。在 windows 路径之前设置 JAVA_HOME。这是因为在windows文件夹下，有一个java.exe会重定向到最后安装的jre。

2) 注册。键 HKEY_LOCAL_MACHINE->SOFTWARE->JAVASOFT->Java Runtime Environment 包含 windows 文件夹中的 java.exe 重定向到的最后安装版本。如果你把它改成你想要的版本，一切都应该没问题。

# linux - R-Forge 包检查错误。linux平台的包依赖

> ID：14232779
> 
> 赞同：1
> 
> 时间：2013-01-09T10:10:37.330
> 
> 标签：linux, r, cran, r-forge

我`R CMD check`在 R-forge 存储库中遇到了一个错误。当它检查 windows 和 mac 平台时，它不会给出错误，除了一个关于维护者的注释。但是，它不能正确检查 Linux 平台并给我以下错误。由于这个错误，我无法将我的包裹提交给 cran。请帮助我如何解决问题。

```
BcDiag log file (check_x86_64_linux)

Sun Dec 30 16:15:16 2012: Checking package BcDiag (SVN revision 7) ...
* using log directory ‘/mnt/building/build_2012-12-30-16-05/RF_PKG_CHECK/PKGS/BcDiag.Rcheck’
* using R version 2.15.2 Patched (2012-12-14 r61333)
* using platform: x86_64-unknown-linux-gnu (64-bit)
* using session charset: UTF-8
* checking for file ‘BcDiag/DESCRIPTION’ ... OK
* this is package ‘BcDiag’ version ‘1.0’
* checking CRAN incoming feasibility ... NOTE
Maintainer: ‘Aregay Mengsteab ’
New submission
* checking package namespace information ... OK
* checking package dependencies ... ERROR
Packages required but not available:  ‘isa2’ ‘fabia’
Packages suggested but not available for checking:  ‘isa2’ ‘fabia’ 
```

问候，
迈克。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:44:58.497

这可能是 R-Forge 构建服务器的问题；我对另一个包有同样的问题，其中一个依赖项不再可用，但它在 CRAN 上可用并且在那里构建/检查 OK。我的包在 Linux 上检查正常，但在 R-Forge 上没有。当我将它提交给 CRAN 时，它也通过了他们的检查。

随着 R 的最后一个版本的更改要发布，包库需要重新构建。这可能与 R-Forge 上的问题有关？

无论如何，建议您提交支持票或发送电子邮件至 R-Forge 团队进行查询。如果该软件包在您自己的计算机上构建/检查 OK，那么提交给 CRAN 可能是安全的。如果您想更加确定，也许将包提交给 Uwe Ligge 的[WinBuilder](http://win-builder.r-project.org/)服务以获得独立的编译/构建/检查。如果一切正常，那么您可以合理地确定您的包裹可以提交给 CRAN。

# .net - 使用 COM Dll 设置 Windows 安装程序

> ID：14232787
> 
> 赞同：1
> 
> 时间：2013-01-09T10:10:46.693
> 
> 标签：.net, com, windows-installer, setup-project, winforms-interop

这是一个与 NITGEN FINGKEY（指纹扫描仪）COM NBioBSPCOMLib.dll 连接的 Windows 窗体应用程序。我添加了他们的 dll 作为生成 \obj\Debug\Interop.NBioBSPCOMLib.dll 的参考。Project->Build->Platform 目标在 x86 中。创建设置向导时，我按照以下步骤操作：

1.  确保应用程序针对正确的 x86 平台。
2.  创建设置向导项目时，不要包含源文件和调试文件。
3.  创建设置向导项目后，右键单击创建的项目并单击属性。
4.  单击先决条件，然后在指定先决条件的安装位置中选择“从与我的应用程序相同的位置下载先决条件”。单击确定。
5.  在目标机器上的文件系统中，添加特殊文件夹并选择“程序文件文件夹”。
6.  单击应用程序文件夹，右键单击 Primary output from (appname) (Active)，然后选择“Create shortcut from primary output from appname”。重新命名文件。然后将 n 拖放到“程序文件文件夹”。
7.  执行 #6 而是将 n 拖放到用户桌面。
8.  执行#6，而是将 n 拖放到用户的程序菜单。
9.  右键单击应用程序文件夹并选择属性。为 AlwaysCreate 选择 true。
10.  对程序文件文件夹、用户桌面和用户程序菜单执行 #8。
11.  在应用程序文件夹中右键单击并选择添加文件。选择 interop.NBioBPSCOMlib.dll 并将其属性寄存器设置为 vsdrfCOM。
12.  在应用程序文件夹中右键单击并选择添加文件。选择 NBioBSPCOMLib 并将其属性寄存器设置为 vsdrfCOM。
13.  构建项目。

当我在 Windows 7 中安装它时，该应用程序可以工作。但是当我在 XP SP 3 中安装它时，我得到一个“试图读取或写入受保护的内存。这通常表明其他内存已损坏。” 例外。

我添加 COM dll 的方式有问题吗？

**更新**

我将应用程序移植到 .NET Framework 4.0。我添加了 dll 作为参考，设置了嵌入式互操作类型：true。创建了安装程序，而无需在 Application 文件夹中手动添加 dll。现在我收到此错误：“system-runtime-interopservices-comexception-0x80040154”。我从其他帖子中发现：[链接](https://stackoverflow.com/questions/4663994/system-runtime-interopservices-comexception-0x80040154)不在注册表中，但是指纹的驱动程序安装程序不应该做这部分吗？

我尝试在 dll 上手动执行 regsvr32，但它只会说应用程序遇到问题并需要关闭。当我取消注册 dll 时，comexception 返回。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T11:53:03.990

是的，安装程序日志非常冗长:) 但您只需在其中搜索“NBioBSPCOMLib”，您就会看到他在用它做什么。在您的情况下，它有点奇怪，该文件放在 C:\Program Files\Wikonec\LTODoctorVerify\Interop.NBioBSPCOMLib.dll 中（参见第 1024 和 1025 行），但稍后当我们想要注册它时，路径“file:// /C:/Users/Jemuel/Documents/Visual Studio 2010/Projects/fingerprint/FingerPrintValidate/bin/Debug/Interop.NBioBSPCOMLib.dll”（第 1124 行）。如果我认为windows7是你的开发电脑而winXP是没有visual studio的测试机，我是对的？

# android - 移动简单应用，拖放

> ID：14232792
> 
> 赞同：-1
> 
> 时间：2013-01-09T10:11:01.263
> 
> 标签：android, mobile, drag-and-drop

我不想问问题，但我根本没有任何解决方案。

我没见过这样的问题。我决定在移动平台（android 和 iOS）上编写应用程序，但没有找到。

1.  大量的教程和文档
2.  大量样品
3.  大量的库和框架

但什么也没找到……我受够了，仍在寻找移动 Web 应用程序和桌面之间的区别。我想写一个简单的拖放计算器，搜索并找到了phonegap + jQM。首先，我安装了 eclipse + ADT + cordova 并创建了项目。当我开始写作时，我决定使用 jQuery（因为我需要拖放效果），突然发现我需要 applaud 插件等等……据我所知，applaud 应用程序和原生 phonegap 应用程序是不同的。当我搜索时，我发现 phonegap + jQM 是 Web 应用程序，需要 NET 才能启动应用程序。我不想编写网络应用程序，我只想要 3 - 4 行来理解正在发生的事情......移动设备中的网络和客户端应用程序有什么区别，以及我如何编写简单的拖放计算器而不是 WEB。我真的厌倦了这些教程和文档，我只需要正确的开始方式，然后我会自己做。该死，我累了……

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T01:41:43.487

Web 应用程序是在移动浏览器中运行的 HTML5、JavaScript、CSS 应用程序，通常发布在 Web 服务器上，但在某些情况下可以在没有网络连接的设备上本地运行。

本地应用程序下载并安装在移动设备上，并且必须发布到某种外部应用程序商店。还有一些混合应用程序结合了这两种特性。

本机和混合应用程序可以更完整地访问设备平台，并且比 Web 应用程序性能更高，但需要更专业的语言技能（Objective C、Java、C#）。

Web 应用程序可以像在移动设备上显示的网站一样简单，并且需要更广泛使用的技能，例如 HTML、JavaScript 和 CSS。

没有指定拖放计算器的要求，但我建议一个非常简单的网络应用程序可以满足您的需求。

这篇 IBM 文章对您来说可能有点矫枉过正，但它也恰好讨论了离线 Web 应用程序选项。[http://www.ibm.com/developerworks/web/library/wa-offlineweb/index.html](http://www.ibm.com/developerworks/web/library/wa-offlineweb/index.html)

# html - 如果我为此使用列表标签，我该如何用 CSS 编写？

> ID：14232793
> 
> 赞同：-2
> 
> 时间：2013-01-09T10:11:03.423
> 
> 标签：html, css

我想像下面这样制作标签列表。
然后我想使用 CSS 和列表标签。

我怎样才能做到这一点？

```
Tags: Apple Banana Melon Strawberry Kiwi Orange 
      Pineapple Carrot Onion Tomato Bacon Sandwitch
      SoyBeans Pork Beef Chicken 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:15:40.540

[http://jsbin.com/ojives/2](http://jsbin.com/ojives/2)

```
<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>JS Bin</title>
<style>
    h1 { font-weight: normal; font-size: 100%; }
    aside { display: table; }
  aside h1 span:after { content: ":"; }
    aside h1,
    aside ul { display: table-cell; }
    aside li { display: inline; }
</style>
</head>
<body>
  <aside>
    <h1><span>Tags</span></h1>
    <ul>
        <li>Apple
        <li>Banana
        <li>Melon
        <li>Strawberry
        <li>Kiwi
        <li>Orange 
        <li>Pineapple
        <li>Carrot
        <li>Onion
        <li>Tomato
        <li>Bacon
        <li>Sandwitch
        <li>SoyBeans 
        <li>Pork
        <li>Beef
        <li>Chicken 
    </ul>
  </aside>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-09T10:24:27.933

你应该首先结束你的`< li >`标签。

其次，为你写一个属性`<asid>`是：`width : 360px;`to be like you want

# javascript - 主干.js 阻止路由执行

> ID：14232794
> 
> 赞同：0
> 
> 时间：2013-01-09T10:11:05.023
> 
> 标签：javascript, model-view-controller

是否可以仅使用路由器来阻止路由执行`backbone.js`？

我知道每个路由都有一个回调方法，我可以在其中检查是否允许路由，我只是看不到如何根据视图模型上的属性（canNavigate）阻止执行。

我还希望这适用于未指定为路由的 url（`sammy.js`不能这样做，骨干可以这样做吗？）。例如：

`#/contact`打开路由时`contact`，会调用 viewmodel ' ' 上的 active 方法。当导航`#/contact`到任何其他 url`#/page1`时，`/page2`或者`google.com` 我希望调用联系人视图模型上的 canNavigate 方法。如果返回 false，则应阻止到 url 的路由并显示一条消息（我不需要显示消息等的代码，如果可能，只需使用主干.js 代码）。

这可能`backbone.js`吗？如果没有，哪个其他框架（除了`sammy.js`我们已经尝试过这个）可以解决问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-30T14:47:01.530

在 Backbone 中，我发现在路由之前/之后检查事物的唯一方法是扩展 Router.route。感觉不是很干净，因为您必须从源代码中复制和编辑，但这是我找到的唯一方法。在 Backbone 默认代码 (1.0.0) 下面和注释之间是您需要的自定义代码：

```
 Backbone.Router.prototype.route = function(route, name, callback) {
    if (!_.isRegExp(route)) route = this._routeToRegExp(route);
    if (_.isFunction(name)) {
      callback = name;
      name = '';
    }
    if (!callback) callback = this[name];
    // here custom code
    callback = _.wrap(callback, _.bind(function(cb) {
      console.log('before');
      _.bind(cb, this)();
      console.log('after');
    }, this));
    // finish custom code
    var router = this;
    Backbone.history.route(route, function(fragment) {
      var args = router._extractParameters(route, fragment);
      callback && callback.apply(router, args);
      router.trigger.apply(router, ['route:' + name].concat(args));
      router.trigger('route', name, args);
      Backbone.history.trigger('route', router, name, args);
    });
    return this;
  }; 
```

请注意`_.wrap`，`_.bind`这`this`也是您在使用路由器时所期望的。否则我得到一个“这是未定义的”错误。

现在您可以在您的路线触发之前/之后挂钩您的支票。在受影响的路由器中，您可以加载您的视图并执行您需要的任何操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:39:11.467

如果您编写路由器扩展，那么每个框架都是可能的。这可能比问这个问题花费的时间更少。我不知道它是否在主干中支持，我会检查代码。

这是您正在寻找的方法：

```
route: function(route, name, callback) {
  if (!_.isRegExp(route)) route = this._routeToRegExp(route);
  if (!callback) callback = this[name];
  Backbone.history.route(route, _.bind(function(fragment) {
    var args = this._extractParameters(route, fragment);
    callback && callback.apply(this, args);
    this.trigger.apply(this, ['route:' + name].concat(args));
    Backbone.history.trigger('route', this, name, args);
  }, this));
  return this;
}, 
```

如您所见，它只是运行回调，并没有阻止任何内容。

例如，您可以通过以下方式扩展它：

```
var RouteError(message) {
    this.name = "RouteError";
    this.message = (message || "");
}
RouteError.prototype = Error.prototype;

var MyRouter = function (){
    Backbone.Router.apply(this, arguments);
};
MyRouter.prototype = Object.create(Backbone.Router.prototype);
MyRouter.prototype.constructor = MyRouter;
_.extend(MyRouter.prototype, {
    route: function(route, name, callback) {
      if (!_.isRegExp(route)) route = this._routeToRegExp(route);
      if (!callback) callback = this[name];
      Backbone.history.route(route, _.bind(function(fragment) {
        var args = this._extractParameters(route, fragment);
        try {
            callback && callback.apply(this, args);
        }
        catch(e)
        {
            if (e instanceof RouteError)
                return this;
            else
                throw e;
        }
        this.trigger.apply(this, ['route:' + name].concat(args));
        Backbone.history.trigger('route', this, name, args);
      }, this));
      return this;
    },
}); 
```

或者这样：

```
var loadUrl = Backbone.History.prototype.loadUrl;
Backbone.History.prototype.loadUrl = function (fragmentOverride){
    try {
        loadUrl.apply(this, arguments);
    }
    catch (e){
        if (e instanceof RouteError)
            return ;
        else
            throw e;
    }

}; 
```

（我没有检查任何这些......）

所以我不认为这在 Backbone 中是原生支持的......

# android - 更新后无法访问eclipse

> ID：14232795
> 
> 赞同：1
> 
> 时间：2013-01-09T10:11:04.913
> 
> 标签：android, eclipse

嗨，我最近更新了 Eclipse，但更新后它要求我现在重新启动我收到以下错误并且无法访问它。

**这是错误日志。**

```
 !SESSION 2013-01-09 15:20:18.897 -----------------------------------------------
    eclipse.buildId=v21.0.0-531062
    java.version=1.7.0_10
    java.vendor=Oracle Corporation
    BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
    Framework arguments:  -product com.android.ide.eclipse.adt.package.product
    Command-line arguments:  -os win32 -ws win32 -arch x86 -product com.android.ide.eclipse.adt.package.product

    !ENTRY org.eclipse.osgi 2 0 2013-01-09 15:20:42.773
    !MESSAGE One or more bundles are not resolved because the following root constraints are not resolved:
    !SUBENTRY 1 org.eclipse.osgi 2 0 2013-01-09 15:20:42.773
    !MESSAGE Bundle reference:file:plugins/org.eclipse.pde.ds.ui_1.0.200.v20120530-1435.jar was not resolved.
    !SUBENTRY 2 org.eclipse.pde.ds.ui 2 0 2013-01-09 15:20:42.773
    !MESSAGE Missing required bundle org.eclipse.jdt.core_[3.3.0,4.0.0).
    !SUBENTRY 1 org.eclipse.osgi 2 0 2013-01-09 15:20:42.773
    !MESSAGE Bundle reference:file:plugins/org.eclipse.emf.edit.ui_2.7.0.v20120123-1045.jar was not resolved.
    !SUBENTRY 2 org.eclipse.emf.edit.ui 2 0 2013-01-09 15:20:42.773
    !MESSAGE Missing required bundle org.eclipse.ui.workbench_[3.7.0,4.0.0).
    !SUBENTRY 1 org.eclipse.osgi 2 0 2013-01-09 15:20:42.773
    !MESSAGE Bundle reference:file:plugins/org.eclipse.equinox.p2.ui.importexport_1.0.1.v20110818-1344.jar was not resolved.
    !SUBENTRY 2 org.eclipse.equinox.p2.ui.importexport 2 0 2013-01-09 15:20:42.773
    !MESSAGE Missing required capability Require-Capability: osgi.ee; filter="(|(&(osgi.ee=JavaSE)(version=1.5))(&(osgi.ee=JavaSE)(version=1.4))(&(osgi.ee=CDC/Foundation)(version=1.1)))".
    !SUBENTRY 1 org.eclipse.osgi 2 0 2013-01-09 15:20:42.773
    !MESSAGE Bundle reference:file:plugins/org.eclipse.jdt.debug.ui_3.6.100.v20120530-1425.jar was not resolved.
    !SUBENTRY 2 org.eclipse.jdt.debug.ui 2 0 2013-01-09 15:20:42.773
    !MESSAGE Missing required bundle org.eclipse.jdt.core_[3.8.0,4.0.0).

.
.
.
.
.
.
.
.

    !ENTRY org.eclipse.osgi 4 0 2013-01-09 15:20:43.119
    !MESSAGE Application error
    !STACK 1
    java.lang.RuntimeException: Application "org.eclipse.ui.ide.workbench" could not be found in the registry. The applications available are: org.eclipse.ant.core.antRunner, org.eclipse.cdt.codan.core.application, org.eclipse.cdt.core.GeneratePDOM, org.eclipse.equinox.app.error, org.eclipse.equinox.p2.director, org.eclipse.equinox.p2.garbagecollector.application, org.eclipse.equinox.p2.publisher.InstallPublisher, org.eclipse.equinox.p2.publisher.EclipseGenerator, org.eclipse.equinox.p2.publisher.ProductPublisher, org.eclipse.equinox.p2.publisher.FeaturesAndBundlesPublisher, org.eclipse.equinox.p2.reconciler.application, org.eclipse.equinox.p2.repository.repo2runnable, org.eclipse.equinox.p2.repository.metadataverifier, org.eclipse.equinox.p2.artifact.repository.mirrorApplication, org.eclipse.equinox.p2.metadata.repository.mirrorApplication, org.eclipse.equinox.p2.updatesite.UpdateSitePublisher, org.eclipse.equinox.p2.publisher.UpdateSitePublisher, org.eclipse.equinox.p2.publisher.CategoryPublisher, org.eclipse.update.core.standaloneUpdate, org.eclipse.update.core.siteOptimizer, org.eclipse.equinox.p2.installer.application, org.eclipse.help.base.infocenterApplication, org.eclipse.help.base.helpApplication, org.eclipse.help.base.indexTool, org.eclipse.pde.build.Build, org.eclipse.pde.junit.runtime.uitestapplication, org.eclipse.pde.junit.runtime.legacytestapplication, org.eclipse.pde.junit.runtime.coretestapplication, org.eclipse.pde.junit.runtime.coretestapplicationnonmain, org.eclipse.pde.junit.runtime.nonuithreadtestapplication.
        at org.eclipse.equinox.internal.app.EclipseAppContainer.startDefaultApp(EclipseAppContainer.java:248)
        at org.eclipse.equinox.internal.app.MainApplicationLauncher.run(MainApplicationLauncher.java:29)
        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)
        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
        at java.lang.reflect.Method.invoke(Unknown Source)
        at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)
        at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)
        at org.eclipse.equinox.launcher.Main.run(Main.java:1438) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-11T06:27:52.770

嗨，如果您有另一个没有更新的 eclipse 副本，那么将该文件夹复制到您使用 eclipse 的位置，这应该可以解决您的问题。插件也将在那里，只有错误会消失，您可以访问 eclipse。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:22:00.040

更新JDT ie java development kit.我觉得不兼容你新的eclipse.java版本可能是3.8.0或者4.0.0

# c# - 如何检查列默认约束是否存在？

> ID：14232796
> 
> 赞同：2
> 
> 时间：2013-01-09T10:11:30.010
> 
> 标签：c#, sql-server-2008, dataset, default-constraint

我想检查该列是否已具有默认约束，或者不仅具有表名和列名数据。有了该记录数，我们可以创建约束。

我们是否有任何其他属性来检查数据集中该列是否存在约束？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:20:43.000

查询

```
select COLUMN_DEFAULT 
from INFORMATION_SCHEMA.COLUMNS
where TABLE_NAME = @tableName
and COLUMN_NAME = @columnName 
```

将返回为列指定的默认值（`null`如果未定义默认值）

* * *

**更新：**

以下查询还将检索约束的名称：

```
select 
    dc.name,
    dc.definition
from sys.default_constraints dc
join sys.objects o
    on o.object_id = dc.parent_object_id
join sys.columns c
    on o.object_id = c.object_id
    and c.column_id = dc.parent_column_id
where o.name = @tableName
and c.name = @columnName 
```

如果没有返回行，则没有在列上定义默认约束。

# php - MySQL 通过 PHP 查询到 XML

> ID：14232797
> 
> 赞同：0
> 
> 时间：2013-01-09T10:11:32.527
> 
> 标签：php, mysql, sql, xml

我的课程有这个 PHP，我想使用服务器端编程以 XML 格式动态生成带有两个表的订单详细信息的挂单。当我尝试运行它时，我收到一个错误（如下），我相信它来自查询。我是新手，想不通。一些帮助将不胜感激！谢谢！

> XML 解析错误：文档元素后出现垃圾 位置：hxxp://xxxx/xxxx/pending_details.php 第 2 行，第 1 列：

```
<?php

$con = mysql_connect("localhost", "root", "");
if (!$con) {
    die('Could not connect: ' . mysql_error());
}
mysql_select_db("eshop");

$query = "select product.name,order_details.quantity, order.date from product.id inner join order on order_details.order_id=order.id inner join product on order_details.product_id=product.id inner join customer on order.cust_id=costumer.id WHERE order.pending=>1";
$res = mysql_query($query);

$xml = new XMLWriter();

$xml->openURI("php://output");
$xml->startDocument();
$xml->setIndent(true);

$xml->startElement('pendings');

while ($row = mysql_fetch_assoc($res)) {
    $xml->startElement("order");

    $xml->writeAttribute('name', $row['product.name']);
    $xml->writeAttribute('quantity', $row['order_details.quantity']);
    $xml->writeAttribute('date', $row['order.date']);
    $xml->writeAttribute('pending', $row['order.pending']);

    $xml->endElement();
}

$xml->endElement();

header('Content-type: text/xml');
$xml->flush();
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:13:37.287

尝试仅使用这样的名称访问该行

```
$xml->writeAttribute('name', $row['name']);
$xml->writeAttribute('quantity', $row['quantity']);
$xml->writeAttribute('date', $row['date']);
$xml->writeAttribute('pending', $row['pending']); 
```

# python - 正则表达式匹配特定的 xml - Python 中的部分

> ID：14232805
> 
> 赞同：1
> 
> 时间：2013-01-09T10:12:09.873
> 
> 标签：python, regex

我想匹配以下标记

```
<text link="no">
    ...
</text> 
```

唯一重要的是我想将带有 link="no" 的文本元素作为属性以及里面的任何内容进行匹配。

我正在使用 python，目前我有以下不工作的正则表达式：

```
'<text [^<]*link="no"[^<]*>[.\t\n\r\xa0]*</text>[ \t\n\r\xa0]*' 
```

因此，我正在考虑该文本可能具有其他属性。

帮助将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:23:51.273

使用 XML Parser（如[libxml2](http://xmlsoft.org/python.html)或[lxml](http://codespeak.net/lxml/)或[py-dom-xpath](http://code.google.com/p/py-dom-xpath/)）和 XPath，如：

```
//text[@link="no"] 
```

# extjs - 如何将 extjs 输出发送到 Yii 控制器操作

> ID：14232807
> 
> 赞同：0
> 
> 时间：2013-01-09T10:12:14.873
> 
> 标签：extjs, yii, output

我在 extjs+ Yii 工作。我在 Yii 中进行服务器端设计，在 extjs 中进行客户端设计。我正在 extjs 中创建多项选择题。现在单击按钮，我想将 json 格式的 questionPaperId 发送到我的 Yii 操作。那么如何将 extjs 输出发送到 yii 框架控制器动作呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T07:56:56.220

您是否尝试过在标准控制器中对标准操作进行发布操作？就这么简单，只需要使用ajax调用，如果你想重定向它们，让ajax调用返回一些东西，然后用extjs重定向。

在您的控制器中只需检查 $_POST，它就像任何其他操作一样工作，只是如果您想通过 GET 调用 ajax，它只会在收到 $_POST 或 $_GET 时触发

# python - 带有 SSL 的 Python SMTP 服务器：握手错误

> ID：14232813
> 
> 赞同：0
> 
> 时间：2013-01-09T10:12:48.977
> 
> 标签：python, ssl, smtpd

我使用 lib secure_smtpd 创建 SMTP 服务器。当我生成证书并将其用于 SSL 连接时，我捕获了异常（为了测试，我使用 Opera 邮件客户端和 The Bat！）：

```
SSLError: _ssl.c:489: The handshake operation timed out 
```

当我测试使用 python 脚本时，一切正常：

```
smtpObj = smtplib.SMTP_SSL('localhost',2000)
smtpObj.set_debuglevel(1)
smtpObj.login('testuser', '111111')

msg = MIMEMultipart('alternative')
msg['Subject'] = "my subj SSL"
msg['From'] = sender
msg['To'] = "username@site.com"
msg.attach(MIMEText("Hello world!",'html'))
smtpObj.sendmail(sender, [toemail], msg.as_string()) 
```

有人可以帮助解决握手问题吗？我使用 python 2.7.3

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:27:33.637

您如何在 Opera 和 The Bat 中配置 SMTP！? 有 SSL 模式（您似乎使用），所有连接都包含在 SSL/TLS 中，还有 STARTTLS 模式，其中连接是普通的，但在客户端发出 STARTTLS 命令后启动 SSL/TLS 交换。

# c++ - 如何调用 std::exception_ptr 上的 what()

> ID：14232814
> 
> 赞同：37
> 
> 时间：2013-01-09T10:12:50.123
> 
> 标签：c++, exception, c++11

这是我的代码。

```
try
{
// code throws potentially unknown exception
}
catch (...)
{
    std::exception_ptr eptr =  std::current_exception();
        // then what ?
} 
```

理想情况下，如果它是 std::exception，我想获取与异常关联的字符串。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2016-05-14T05:03:35.287

> // 然后呢？

这是什么：

```
#include <exception>
#include <stdexcept>
#include <iostream>
#include <string>

std::string what(const std::exception_ptr &eptr = std::current_exception())
{
    if (!eptr) { throw std::bad_exception(); }

    try { std::rethrow_exception(eptr); }
    catch (const std::exception &e) { return e.what()   ; }
    catch (const std::string    &e) { return e          ; }
    catch (const char           *e) { return e          ; }
    catch (...)                     { return "who knows"; }
}

int main()
{
    try { throw std::runtime_error("it's success!"); }
    catch (...) { std::cerr << "Here is WHAT happened: " << what() << std::endl;  }

    try { throw 42; } catch (...) { std::cerr << "and now what: " << what() << std::endl;  }
} 
```

它打印的内容：

```
Here is WHAT happened: it's success!
and now what: who knows 
```

[http://coliru.stacked-crooked.com/a/1851d2ab9faa3a24](http://coliru.stacked-crooked.com/a/1851d2ab9faa3a24)

所以这允许进入`what`包罗万象的条款。

但是如果嵌套了异常怎么办？？？这是什么：

```
std::string what(const std::exception_ptr &eptr = std::current_exception());

template <typename T>
std::string nested_what(const T &e)
{
    try         { std::rethrow_if_nested(e); }
    catch (...) { return " (" + what(std::current_exception()) + ")"; }
    return {};
}

std::string what(const std::exception_ptr &eptr)
{
    if (!eptr) { throw std::bad_exception(); }

    try { std::rethrow_exception(eptr); }
    catch (const std::exception &e) { return e.what() + nested_what(e); }
    catch (const std::string    &e) { return e          ; }
    catch (const char           *e) { return e          ; }
    catch (...)                     { return "who knows"; }
} 
```

使用[此处](http://en.cppreference.com/w/cpp/error/nested_exception)的示例：

```
#include <fstream>

...

// sample function that catches an exception and wraps it in a nested exception
void open_file(const std::string& s)
{
    try {
        std::ifstream file(s);
        file.exceptions(std::ios_base::failbit);
    } catch(...) {
        std::throw_with_nested( std::runtime_error("Couldn't open " + s) );
    }
}

// sample function that catches an exception and wraps it in a nested exception
void run()
{
    try {
        open_file("nonexistent.file");
    } catch(...) {
        std::throw_with_nested( std::runtime_error("run() failed") );
    }
}

int main()
{
    try { throw std::runtime_error("success!"); }
    catch (...) { std::cerr << "Here is WHAT happened: \"" << what() << '\"' << std::endl;  }

    try { run(); }
    catch (...) { std::cerr << "what happened for run: \""  << what() << '\"' << std::endl;  }
} 
```

打印的内容：

```
Here is WHAT happened: "success!"
what happened for run: "run() failed (Couldn't open nonexistent.file (basic_ios::clear))" 
```

[http://coliru.stacked-crooked.com/a/901a0c19297f02b5](http://coliru.stacked-crooked.com/a/901a0c19297f02b5)

但是如果递归太深怎么办？如果堆栈溢出怎么办？优化了什么：

```
#include <typeinfo>

template <typename T>
std::exception_ptr get_nested(const T &e)
{
    try
    {
        auto &nested = dynamic_cast<const std::nested_exception&>(e);
        return nested.nested_ptr();
    }
    catch (const std::bad_cast &)
        { return nullptr; }
}

#if 0 // alternative get_nested
    std::exception_ptr get_nested()
    {
        try                                    { throw                ; }
        catch (const std::nested_exception &e) { return e.nested_ptr(); }
        catch (...)                            { return nullptr       ; }
    }
#endif

std::string what(std::exception_ptr eptr = std::current_exception())
{
    if (!eptr) { throw std::bad_exception(); }

    std::string whaaat;
    std::size_t num_nested = 0;
    next:
    {
        try
        {
            std::exception_ptr yeptr;
            std::swap(eptr, yeptr);
            std::rethrow_exception(yeptr);
        }
        catch (const std::exception &e) { whaaat += e.what()   ; eptr = get_nested(e); }
        catch (const std::string    &e) { whaaat += e          ; }
        catch (const char           *e) { whaaat += e          ; }
        catch (...)                     { whaaat += "who knows"; }

        if (eptr) { whaaat += " ("; num_nested++; goto next; }
    }
    whaaat += std::string(num_nested, ')');
    return whaaat;
} 
```

相同的内容：

```
Here is WHAT happened: "success!"
here is what: "run() failed (Couldn't open nonexistent.file (basic_ios::clear))" 
```

[http://coliru.stacked-crooked.com/a/32ec5af5b1d43453](http://coliru.stacked-crooked.com/a/32ec5af5b1d43453)

**UPD**

类似的功能可以在 C++03 中通过使用允许`throw`在 catch 块之外重新出现异常的技巧来实现：[https ://stackoverflow.com/a/3641809/5447906](https://stackoverflow.com/a/3641809/5447906)

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2013-01-09T10:15:41.390

```
try
{
   std::rethrow_exception(eptr);
}
catch (const std::exception& e)
{
   std::cerr << e.what() << std::endl;
} 
```

[http://en.cppreference.com/w/cpp/error/exception_ptr](http://en.cppreference.com/w/cpp/error/exception_ptr)

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2013-01-09T10:30:40.533

在您的情况下，使用`std::current_exception`似乎有点过头了，因为您似乎不想存储或复制以`std::exception_ptr`供以后处理（这是它的唯一意图，它无助于以任何方式获取有关未知异常的其他信息）。如果您只想处理 a 的情况`std::exception`，那么简单的情况如何：

```
try
{
    // code throws potentially unknown exception
}
catch (const std::exception &e)
{
    std::cerr << e.what() << '\n';  // or whatever
}
catch (...)
{
    // well ok, still unknown what to do now, 
    // but a std::exception_ptr doesn't help the situation either.
    std::cerr << "unknown exception\n";
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-09T10:30:32.390

在我看来，这不是最好的解决方案，但似乎有效。

```
try
{
// code throws potentially unknown exception
}
catch (const std::exception& e)
{
   std::cerr << e.what() << std::endl;
}
catch (...)
{
    std::exception_ptr eptr =  std::current_exception();
        // then what ?
    LogUnknownException();
} 
```

感谢 ForEveR 的初始解决方案，但我不确定是否要在 catch 块内再次抛出。

# jquery - 如何在两个表格行之间插入另一个表格行？

> ID：14232815
> 
> 赞同：2
> 
> 时间：2013-01-09T10:12:50.263
> 
> 标签：jquery, class, html-table

```
<table>
 <tr>
  <td>Row 1 Column1</td>
  <td>Row 1 Column2</td>
 </tr>
 <tr class="dynamicRows">
  <td>Row 2 Column1</td>
  <td>Row 2 Column2</td>
 </tr>
 <tr class="dynamicRows">
  <td>Row 3 Column1</td>
  <td>Row 3 Column2</td>
 </tr>
 <tr>
  <td>Row 5 Column1</td>
  <td>Row 5 Column2</td>
 </tr>
</table> 
```

这是表结构。我想在行下方插入

```
<tr class="dynamicRows">
 <td>Row 4 Column1</td>
 <td>Row 4 Column2</td>
</tr> 
```

在第三行之后，我想在类的末尾通过 Jquery 插入新的行元素`"dynamicRows"`。请帮我解决这个问题。

这段代码运行良好。

```
$('table tr.categories:last').after(returnData); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T10:16:19.090

```
var block = '<tr class="dynamicRows">'+
                '<td>Row 4 Column1</td>'+
                '<td>Row 4 Column2</td>'+
            '</tr>';

$('.dynamicRows').last().after(block); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T10:36:20.337

这是一个工作示例[http://jsfiddle.net/MUdQY/1/](http://jsfiddle.net/MUdQY/1/)

我在这里也发布了部分解决方案，以更好地解释这里发生的事情：

```
$('#sometrigger').click(function(){
    var newrow = '<tr class="dynamicRows">\
    <td>Row 4 Column1</td>\
    <td>Row 4 Column2</td>\
    </tr>';
    $(newrow).insertAfter($('table tr.dynamicRows:last'));
}); 
```

1.  我们将新行存储在 JS 变量中。您将不得不以某种方式构建此字符串。
2.  使用 jquery insertAfter 方法，该方法将调用者插入到所选元素之后。
3.  最重要的是，选择器将获取对标记为 dynamicRows 类的最后一行的引用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T10:21:01.773

尝试这个

```
$('table tbody>tr:last').after('<tr><td>Row 6 Column1</td><td>Row 6 Column2</td></tr>'); 
```

这将在表的最后追加另一行

[小提琴](http://jsfiddle.net/fcefp/1/)在这里

# oracle - 如何在 Oracle APEX 中设置从一页到另一页的超链接

> ID：14232819
> 
> 赞同：1
> 
> 时间：2013-01-09T10:12:59.107
> 
> 标签：oracle, oracle-apex

我是 Oracle APEX 的新手。我的要求是设置从一页到另一页的超链接。

目前我在第 1 页的报告中显示 4 列。报告如下所示，

调查回复 Count_of_Cities City_Name

AB Y 2 伦敦，芝加哥 AB N 3 德里，孟买，钦奈 AC Y 1 伦敦 AC N 4 东京，香港，班加罗尔，海得拉巴

但是修改后的要求是当用户单击 Count_of_Cities 的值时，我需要在另一个页面（即第 2 页）中显示 City_name。即如果用户单击 3，则在第 2 页中的值应如下所示 DELHI MUMBAI CHENNAI

如果我点击 4，页面中的值应该如下所示，

东京 香港 班加罗尔 海得拉巴

目前在第 1 页中，我隐藏了 City_Name 并在 Count_of_Cities 上创建了一个超链接。单击 Count_of_Cities 时，它导航到第 2 页。但 City_Name 的值未正确显示。

请建议我如何在第 2 页显示 City_Name 值？

如果您需要任何其他信息，请告诉我。

编辑：980540 2013-01-09 2:02 AM

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T19:06:32.493

如果我理解正确，您在第一页上有一份报告，并且您希望使用 Count_Of_Cities 上的列链接移动到第二页并保存 City_Name 的状态以在第 2 页上使用。

您目前如何尝试将值转移到第 2 页？

1) 在第 2 页上创建一个名为 P2_CITY_NAME 或类似名称的隐藏项目。

2) 在第 1 页，打开报告下的“报告列”分支并双击 Count_Of_Cities 列（或双击报告，单击报告属性选项卡，然后单击 Count_Of_Cities 旁边的铅笔/编辑图标。

3）滚动到列链接区域，并设置

```
Target=Page in this Application
Page=2
Item1=P2_CITY_NAME
Value=#Count_Of_Cities# 
```

如果这不起作用，请告诉我当您将鼠标悬停在 Count_Of_Cities 中的列链接上时指向的 URL。

# android - 在android上向sqlite数据库添加多行时出错

> ID：14232821
> 
> 赞同：1
> 
> 时间：2013-01-09T10:13:14.057
> 
> 标签：android, android-sqlite

当我尝试向 sqlite 数据库添加多行时发生错误。单排没有问题。此外，该应用程序因此在三星 Galaxy s2 上崩溃，但不是在 nexus 上。

下面是创建表的代码：

```
 private static final String DATABASE_CREATE = "create table "
        + TABLE_AWARDS + "(" + COLUMN_ID
        + " integer primary key autoincrement, " + COLUMN_TITLE
        + " text not null, " + COLUMN_DESCRIPTION + " text not null, "
        + COLUMN_TYPE + " integer not null, " + COLUMN_ACHIEVED
        + " integer not null " + ");"; 
```

以及将行插入表中的代码：

```
 private static final String DATABASE_INSERT = "INSERT into  awards (title, description, type, achieved) VALUES "
        + "('Speed maximum', 'Stay', 1 , 0),"
        + "('Speed maximum', 'under 130 km/h', 2 , 0);"; 
```

根据你给我的stackoverflow问题的答案，语法应该是：

```
private static final String DATABASE_INSERT = "INSERT into  'awards' "+
        "SELECT 'Speed maximum' AS 'title', 'under 150 km/h' AS 'description', 1 AS 'type', 0 AS 'achieved'"
            +" UNION SELECT 'Speed maximum', 'under 130 km/h', 2 , 0"
            +" UNION SELECT 'Speed maximum', 'under 100 km/h', 3 , 0"; 
```

但这也不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T12:17:38.237

在 Eclipse 中进入调试模式，在查询后放置一个断点，并在运行时查看 DATABASE_INSERT 之类的字符串的值，将其发布到此处，或者您可以在此处查看错误本身。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T12:24:13.543

1.  Please try change the names of columns.
2.  To insert best solution is using insertOrThrow method (read in internet).
3.  Please give me your full code of class extensing SQLiteOpenHelper.
4.  Give logcat log please.

# drupal - 删除有机群组人员列表中的分页

> ID：14232823
> 
> 赞同：0
> 
> 时间：2013-01-09T10:13:16.173
> 
> 标签：drupal, drupal-7, hook, organic-groups

我必须删除管理员页面中的分页`group/node/[nid]/admin/people`。有可能吗？

我正在使用开发模块来查看表单结构和`hook_alter_form`.

我很感激任何指导。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T15:34:08.503

您可以在 Views UI 中进行配置。

1.  确保**Views UI**模块在`/admin/modules#views`

2.  去`/admin/structure/views/view/og_members_admin/edit/default`

3.  在*Pager > User pager*下，单击*完整*链接。

4.  确保选中*“显示所有项目”的单选按钮。*

5.  单击**应用**并**保存**视图。

那应该这样做。

# php - 来自数据库的自定义 PHP URL

> ID：14232825
> 
> 赞同：0
> 
> 时间：2013-01-09T10:13:25.737
> 
> 标签：php, database, url, mod-rewrite, permalinks

我在创建一个简单的数据库时遇到了问题，我希望你能给我一些帮助；）。

问题 ：

我需要创建一个包含优惠（例如酒店、假期等）的数据库，这完全没有问题。我们想要做的是使每个条目都可以使用作者自己选择的单个 url 进行自定义。例如，我们有一个概述页面 (overview.php)，其中列出了所有报价。现在我想单击第一个报价“Mallorca”，例如它继承了 id 50。动态 URL 类似于“detail.php?id=50”，但我想从我的单个字段中重写它们作者在创建条目时指定的数据库，如下所示：

```
Offer Name
Offer Date
Offer Price
URL (which can be anything, also blabla.htm) 
```

然后应该使用 URL 字段为每个报价创建自定义的单个 URL - 例如 detail.php?id=50 将变为 mydomain.com/offers/mallorca.htm

我知道可以咨询 mod_rewrite，但我还没有弄清楚如何将它结合起来使用我数据库中的字段。

有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:25:17.863

只是让您想到或反弹的想法：

1.  如果您让作者自由输入他们自己的 URL，您将必须实现对 URL 唯一性的控制，同时在具体报价的 URL 部分真正唯一之前不让用户保存数据
2.  更简单的方法是只拥有类似的 URL `mydomain.com/offers/50/`- 它看起来仍然更好，而实现花费的时间更少
3.  最后，您必须将重写规则写入您的 .htaccess，而结果取决于您将采用的方式（从第 1 点或第 2 点开始）：
    *   1：`RewriteRule ^/offers/(.*)$ detail.php?url=$1 [L, QSA]`
    *   2：`RewriteRule ^/offers/(.*)/$ detail.php?id=$1 [L, QSA]`

如果您选择第一个选项（您想要的那个），您还必须通过提供的 URL 部分查找报价，在第二个选项中您通过 ID 查找。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:20:33.600

你可以重写如下：

```
RewriteRule ^/offers/(*.)$ detail.php?url=$1 
```

`detail.php`然后，您必须通过它的 url 和指定的 url GET 参数在文件中找到您的报价

# spring - 在 Spring 3.2 上为 JUnit 设置会话属性

> ID：14232833
> 
> 赞同：7
> 
> 时间：2013-01-09T10:13:39.153
> 
> 标签：spring, junit, spring-test-mvc

我在为测试设置会话属性时遇到问题。我正在使用 MockMvc 来测试对控制器的调用。会话模型上有一个成员属性（代表已登录的人）。SessionModel 对象作为会话属性添加。我期待它在 ModelMap 参数中填充到下面的 formBacking 方法，但 ModelMap 始终为空。

控制器代码在通过 webapp 运行时可以正常工作，但在 JUnit 中则不行。知道我做错了什么吗？

这是我的 JUnit 测试

```
@Test
  public void testUnitCreatePostSuccess() throws Exception {

    UnitCreateModel expected = new UnitCreateModel();
    expected.reset();
    expected.getUnit().setName("Bob");

    SessionModel sm = new SessionModel();
    sm.setMember(getDefaultMember());

    this.mockMvc.perform(
        post("/units/create")
        .param("unit.name", "Bob")
        .sessionAttr(SessionModel.KEY, sm))
        .andExpect(status().isOk())
        .andExpect(model().attribute("unitCreateModel", expected))
        .andExpect(view().name("tiles.content.unit.create"));

  } 
```

这是有问题的控制器

```
@Controller
@SessionAttributes({ SessionModel.KEY, UnitCreateModel.KEY })
@RequestMapping("/units")
public class UnitCreateController extends ABaseController {

  private static final String CREATE = "tiles.content.unit.create";

  @Autowired
  private IUnitMemberService unitMemberService;

  @Autowired
  private IUnitService unitService;

  @ModelAttribute
  public void formBacking(ModelMap model) {

    SessionModel instanceSessionModel = new SessionModel();
    instanceSessionModel.retrieveOrCreate(model);

    UnitCreateModel instanceModel = new UnitCreateModel();
    instanceModel.retrieveOrCreate(model);
  }

  @RequestMapping(value = "/create", method = RequestMethod.GET)
  public String onCreate(
      @ModelAttribute(UnitCreateModel.KEY) UnitCreateModel model, 
      @ModelAttribute(SessionModel.KEY) SessionModel sessionModel) {

    model.reset();

    return CREATE;
  }

  @RequestMapping(value = "/create", method = RequestMethod.POST)
  public String onCreatePost(
      @ModelAttribute(SessionModel.KEY) SessionModel sessionModel,
      @Valid @ModelAttribute(UnitCreateModel.KEY) UnitCreateModel model, 
      BindingResult result) throws ServiceRecoverableException {

    if (result.hasErrors()){
      return CREATE;
    }

    long memberId = sessionModel.getMember().getId();

    long unitId = unitService.create(model.getUnit());
    unitMemberService.addMemberToUnit(memberId, unitId, true);

    return CREATE;
  }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T20:56:17.500

为您的测试类添加`@WebAppConfiguration`注释并自动装配以下内容。（`WebApplicationContext`和`MockHttpSession`）

```
@RunWith(SpringJUnit4ClassRunner.class)
@WebAppConfiguration
@ContextConfiguration({ "classpath:springDispatcher-servlet.xml" })
public class MySessionControllerTest {
    @Autowired WebApplicationContext wac; 
    @Autowired MockHttpSession session;

    private MockMvc mockMvc;

    @Before
    public void setup() {
        this.mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();
    }

    @Test
    public void testUnitCreatePostSuccess() throws Exception {
        UnitCreateModel expected = new UnitCreateModel();
        expected.reset();
        expected.getUnit().setName("Bob");

        SessionModel sm = new SessionModel();
        sm.setMember(getDefaultMember());
        session.setAttribute(SessionModel.KEY, sm);
        this.mockMvc.perform(
            post("/units/create")
            .session(session)
            .param("unit.name", "Bob")
            .andExpect(status().isOk())
            .andExpect(model().attribute("unitCreateModel", expected))
            .andExpect(view().name("tiles.content.unit.create"));

  }
} 
```

# c# - 在业务层中有 [DataContract] 标记的类是一个糟糕的设计吗？

> ID：14232836
> 
> 赞同：2
> 
> 时间：2013-01-09T10:13:45.170
> 
> 标签：c#, .net, wcf, datacontract

我需要使用一个代表发送到我的 REST WCF 服务的客户端请求的类。

但我也想将此请求传递给我在业务层中的方法。（目前它是 WCF 服务的一部分）

在业务层中有 [DataContract] 标记的类是一个糟糕的设计吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:22:24.917

我发现这是一个有用的答案。基本上，您的 POCO 可以在`DataContractSerializer`不添加`[DataContract]`属性的情况下进行序列化。

[https://stackoverflow.com/a/14185417/1099260](https://stackoverflow.com/a/14185417/1099260)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T10:46:03.593

正如我在评论中所说：

如果您对此感觉不好，请引入由该类实现的接口并在您的业务层中使用它。请注意，DataContract 属性只是序列化引擎的标记。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:27:04.670

如果另一种选择是将合同几乎复制到不同的“BL 类”，只是为了让您对不将 DataContracts 发送到某个层感觉更好 - 我会说不要 - 发送 DataContract。

此外，“请求”、“命令”和“数据传输对象”并不是严格意义上的“外观”对象（或模式）。您可以在 DAL API 中使用请求对象（我假设是分层架构），以简化方法签名并启用未来的重构，对吗？那么为什么不在所有层中使用相同的请求对象呢？

如果存在与实际 DataContract 属性有关的部署问题（我想不出任何问题），那就另当别论了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T10:40:05.543

如果将来您需要 REST WCF 客户端请求服务的不同接口并且您无法控制消费客户端，那么如果您的 BL 严重依赖 WCF 合同类，您可能会遇到问题。您可能很难在不破坏 BL 的情况下修改服务接口，或者在不破坏与客户的接口的情况下修改 BL。

如果以上都不适用于你，我会说继续@Rahal 在他的评论中所说的话（我已经 +1 了他）。

# c# - GridView中更新事件后无限循环

> ID：14232837
> 
> 赞同：0
> 
> 时间：2013-01-09T10:13:54.970
> 
> 标签：c#, asp.net, gridview

我面临一个非常奇怪的问题，不知道该怎么说。但会尽力而为。

我有一个网格视图，其中包含文件上传控件，并且在调用 Update 事件时文件存储在 DB 中。文件上传代码被编写为一个函数，一旦单击更新按钮就会调用该函数。

现在一切都很好，就像当我单击更新时，文件在数据库中更新，但页面进入无限循环，似乎正在处理某些内容。一段时间后，会出现一个对话框，在其中我可以选择下载格式文档中的整个网页已上传（不知道为什么，此对话框如何出现），但页面仍在循环中并正在处理中。我已经检查了我的代码一百次，但仍然找不到问题。

任何解决方案都将受到欢迎。提前致谢。

上传文件代码

```
rotected void UploadDoc(object sender, EventArgs e)
    {
        int i = 0;

        foreach (GridViewRow row in GVTaskCompDept.Rows)
        {
            if ((row.RowState & DataControlRowState.Edit) > 0)
            {
                FileUpload FU = (FileUpload)GVTaskCompDept.Rows[i].Cells[8].FindControl("FileUpload1");

                string filePath = FU.PostedFile.FileName;
                string filename = Path.GetFileName(filePath);

                if (filePath != null && filePath != "")
                {
                    FileStream fs = new FileStream(filePath, FileMode.Open, FileAccess.Read);
                    BinaryReader br = new BinaryReader(fs);
                    Byte[] bytes = br.ReadBytes((Int32)fs.Length);
                    br.Close();
                    fs.Close();

                    string ext = System.IO.Path.GetExtension(FU.FileName).TrimStart(".".ToCharArray()).ToLower();
                    string name = System.IO.Path.GetFileName(FU.FileName);

                    // string ContentType = "";
                    if (ext == "doc" || ext == "docx")
                        ContentType = "application/vnd.ms-word";
                    else if (ext == "xlx" || ext == "xlsx" || ext == "xls")
                        ContentType = "application/vnd.ms-excel";
                    else if (ext == "jpeg" || ext == "jpeg")
                        ContentType = "image/jpeg";
                    else if (ext == "pdf")
                        ContentType = "application/pdf";

                    (Session)["Data"] = bytes;
                    (Session)["Name"] = name;
                    (Session)["Type"] = ContentType;
                }
                else
                {
                    (Session)["Data"] = null;
                    (Session)["Name"] = null;
                    (Session)["Type"] = null;
                }
            }
            i += 1;
        }
    } 
```

RowUpdating 事件就像

```
 protected void GVTaskCompDept_RowUpdating(object sender, GridViewUpdateEventArgs e)
    {          
            GridViewRow gvrow = GVTaskCompDept.Rows[e.RowIndex];
            Session["rowindex"] = e.RowIndex;
            UploadDoc(null, null);              

     //---Some Code-----//       

            {
                DSTaskCompliance.UpdateParameters["UploadDocTitle"].DefaultValue = (Session)["Name"].ToString();
                DSTaskCompliance.UpdateParameters["UploadDocType"].DefaultValue = (Session["Type"]).ToString();
            }
 //-------Some Code---------//
 DSTaskCompliance.Update();
            DSTaskCompliance.DataBind();            
    } 
```

现在在数据源更新事件中，我将会话变量与其他代码部分一起传递以将其更新到数据库中

```
protected void DSTaskCompliance_Updating(object sender, SqlDataSourceCommandEventArgs e)
    {
        e.Command.Parameters["@UploadDocContent"].Value = Session["Data"];
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T05:53:36.633

最后，我终于可以找到解决我的问题的方法了。这只是一个小错误。在上面的代码中，每当上传特定类型的文件时，我都指定了特定的“ContentType”。例如：对于 word 文件，它是 application/vnd.ms-word。

无需指定这一点，因为我发现代码自己找到类型并将其存储在 DB 中。我不需要。由于将其指定为应用程序，它总是倾向于以正在上传的格式下载文件。

非常感谢大家的支持！！！！！！:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:46:20.443

你这样的代码没有意义。不管怎样，`UploadDoc`代码最有可能在下面一行抛出异常：

```
FileStream fs = new FileStream(filePath, FileMode.Open, FileAccess.Read); 
```

filePath 是客户端路径（在非 IE 浏览器中只能是文件名），尝试在服务器上打开必然会在生产场景中失败。它可能在客户端/服务器都是同一台机器的开发环境中工作。

就您的具体问题而言，我怀疑页面的另一部分 - 您在页面中是否有任何代码试图显示/下载上传的文档？显然，您是否尝试通过在 Visual Studio 等中设置断点来调试该问题

# javascript - ExtJS 中的插件和组件之间的主要区别是什么？

> ID：14232846
> 
> 赞同：2
> 
> 时间：2013-01-09T10:14:12.147
> 
> 标签：javascript, extjs, extjs4

extjs 中的插件和组件之间的主要区别是什么？我应该什么时候实现和使用一些行为作为一个类，什么时候作为一个插件？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-09T10:24:47.790

嗯，这更像是一个概念问题，而不是任何编程问题。但可以用两句话来回答：

*   插件在创建时修改或扩展组件的行为，而无需扩展整个类
*   插件可以混合使用，这意味着一个组件可以包含许多插件，这些插件允许您实例化许多组件实例，其中每个实例可能具有不同的行为，但都使用相同的组件类

**就像提到[的@A1rPun](https://stackoverflow.com/users/1449624/a1rpun)**

> 插件允许我们创建**可重用**的代码，这些代码将在实例化期间或**之后**修改或添加组件的外观和行为。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:32:18.940

*   ExtJS 中的组件提供基本的、必需的功能。有许多可用的组件，如文本框、组合框、网格、树、面板等。

*   组件也可以在不使用插件的情况下使用。

*   插件为现有组件添加更多功能和/或外观。例如，ExtJS 有网格组件，我们
    可以在其中插入“拖放”插件。网格组件也可以在
    没有拖放的情况下使用。

*   如果不使用组件，插件就不能独立使用。

# javascript - 在自定义方法中使用 .element(element) 时，jQuery 验证失败

> ID：14232847
> 
> 赞同：3
> 
> 时间：2013-01-09T10:14:13.707
> 
> 标签：javascript, jquery, validation, jquery-validate

我有一个自定义规则，应该通过验证这个依赖的其他输入来检查一些依赖关系。当我对所有其他输入进行类似验证时，似乎都被忽略了。

这是我的自定义验证规则：

```
jQuery.validator.addMethod("checkDependencies", function (value, element) {
  var valid1 = jQuery('form#add-lottery-form').validate().element('#input-1');
  var valid2 = jQuery('form#add-lottery-form').validate().element('#input-2');

  if (valid1 && valid2) {
    return true;
  } else {
    return false;
  }

}, 'dependencie error'); 
```

我创建了一个 jsfiddle 来显示我的问题：http:
[//jsfiddle.net/AQcrW/](http://jsfiddle.net/AQcrW/)

重现步骤：

1.  在 input4 中输入一些内容（此输入是具有自定义规则“checkDependencies”的输入）[JavaScript 部分中的第 1 行]
2.  由于 JS 第 2 行和第 3 行中的调用，显示 input1 和 input2 上的错误
3.  在 input1 和 input2 中插入正确的值
4.  点击提交
5.  !!认识到 input3 没有经过验证!!

重新运行小提琴

1.  点击提交
2.  所有字段都按预期进行验证

这是我的错还是 jQuery 验证中的错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T12:12:19.340

经过一些调试和概述插件代码后，我找到了解决问题的方法。我扩展了验证器插件，使其能够调用内部 .check(element) 函数。这个函数只返回真/假。它不是一个完美的解决方案，因为它在表单提交时做了两次，但至少到目前为止它有效..所以这是我添加的代码：

**不需要代码 - 阅读编辑！**

```
jQuery.extend(jQuery.validator.prototype, {
    check: function (element)
    {
        return this.check(element);
    }
}); 
```

这是工作的fidde： http:
[//jsfiddle.net/HrPRL/](http://jsfiddle.net/HrPRL/)

跟随我的想法，也许看看即将到来的讨论：
[https ://github.com/jzaefferer/jquery-validation/issues/579](https://github.com/jzaefferer/jquery-validation/issues/579)

**编辑：**
我意识到现在我*很酷的*jQuery 扩展没有任何效果..
因为 .check() 方法是原型对象的一部分，你已经*可以*访问它了。所以不需要上面的代码。

**编辑2：**
这就是我最终得到的。它正在工作，但我认为可以优化一些东西。
有更好的想法吗？
[http://jsfiddle.net/HrPRL/6/](http://jsfiddle.net/HrPRL/6/)
我完成了.. 这足以满足我的意图：http: [//jsfiddle.net/HrPRL/8/](http://jsfiddle.net/HrPRL/8/)

# mysql - MySQL 中的 Damerau–Levenshtein 距离算法作为函数

> ID：14232851
> 
> 赞同：3
> 
> 时间：2013-01-09T10:14:20.683
> 
> 标签：mysql, algorithm, levenshtein-distance

有谁知道 Damerau–Levenshtein 距离算法的 MySQL 实现作为一个存储过程/函数，它将单个指定的字符串作为参数并在特定表的特定字段中查找字符串的模糊匹配？

我找到了各种比较两个指定字符串并计算距离的过程/函数代码示例，但首先这只是 Levenshtein 距离算法，而不是 Damerau-Levenshtein 算法，其次，我不想比较两个字符串但是在我选择的字段中找到与我指定的字符串相似的模糊匹配项。

我基本上是在尝试在 MySQL 中组合一个模糊关键字搜索器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-05T15:45:44.440

[Github](https://github.com/rapid2k1/damlev)正在进行修改 Sean Collins 代码的开发，使其支持 UTF-8 并且不区分大小写。

例子：

```
mysql> select damlevlim('camión', 'çamion', 6);

+--------------------------------------+
| damlevlim('camión', 'çamion', 6) |
+--------------------------------------+
|                                    0 |
+--------------------------------------+
1 row in set (0.00 sec) 
```

这在进行模糊匹配时特别有用。

```
mysql> select word,damlevlim(word, 'camion') as dist from wordslist where damlevlim(word, 'camion', 7)<1 limit 2;

+--------+------+
| word   | dist |
+--------+------+
| camión |    0 |
| camios |    1 |
+--------+------+
2 row in set (0.00 sec) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T12:46:40.223

在[MySQL Levenshtein 和 Damerau-Levenshtein UDF 中](http://samjlevy.com/mysql-levenshtein-and-damerau-levenshtein-udfs/)，您有该算法的多个实现。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-01-31T22:38:58.167

这似乎是一个老话题，但是如果有人寻找 Damerau-Levenshtein 距离的 MYSQL 实现，这里是我自己的实现（基于在本网站其他地方找到的一个简单的 Levenshtein），它适用于长度小于 255 个字符的字符串. 第三个参数可以设置为 FALSE 以检索基本的 Levenshtein 距离：

```
CREATE FUNCTION levenshtein( s1 VARCHAR(255), s2 VARCHAR(255), dam BOOL)
RETURNS INT
DETERMINISTIC
BEGIN
    DECLARE s1_len, s2_len, i, j, c, c_temp, cost INT;
    DECLARE s1_char, s2_char CHAR;
    -- max strlen=255
    DECLARE cv0, cv1, cv2 VARBINARY(256);
    SET s1_len = CHAR_LENGTH(s1), s2_len = CHAR_LENGTH(s2), cv1 = 0x00, j = 1, i = 1, c = 0;
    IF s1 = s2 THEN
        RETURN 0;
    ELSEIF s1_len = 0 THEN
        RETURN s2_len;
    ELSEIF s2_len = 0 THEN
        RETURN s1_len;
    ELSE
        WHILE j <= s2_len DO
            SET cv1 = CONCAT(cv1, UNHEX(HEX(j))), j = j + 1;
        END WHILE;
        WHILE i <= s1_len DO
            SET s1_char = SUBSTRING(s1, i, 1), c = i, cv0 = UNHEX(HEX(i)), j = 1;
            WHILE j <= s2_len DO
                SET c = c + 1;
                SET s2_char = SUBSTRING(s2, j, 1);
                IF s1_char = s2_char THEN
                    SET cost = 0; ELSE SET cost = 1;
                END IF;
                SET c_temp = CONV(HEX(SUBSTRING(cv1, j, 1)), 16, 10) + cost;
                IF c > c_temp THEN SET c = c_temp; END IF;
                SET c_temp = CONV(HEX(SUBSTRING(cv1, j+1, 1)), 16, 10) + 1;
                IF c > c_temp THEN SET c = c_temp; END IF;
                IF dam THEN
                    IF i>1 AND j>1 AND s1_char = SUBSTRING(s2, j-1, 1) AND s2_char = SUBSTRING(s1, i-1, 1) THEN
                        SET c_temp = CONV(HEX(SUBSTRING(cv2, j-1, 1)), 16, 10) + 1;
                        IF c > c_temp THEN SET c = c_temp; END IF;
                    END IF;
                END IF;
                SET cv0 = CONCAT(cv0, UNHEX(HEX(c))), j = j + 1;
            END WHILE;
            IF dam THEN SET CV2 = CV1; END IF;
            SET cv1 = cv0, i = i + 1;
        END WHILE;
    END IF;
    RETURN c;
END 
```

# java - JDeveloper ADF Mobile - javax.crypto - 无法找到策略文件

> ID：14232852
> 
> 赞同：2
> 
> 时间：2013-01-09T10:14:29.430
> 
> 标签：java, oracle-adf, jdeveloper, jdk1.4, javax.crypto

我正在尝试在使用 ADF Mobile 开发的移动应用程序中加密一些安全信息。我正在使用“javax.crypto.Cipher”。根据我的理解，ADF Mobile 将它自己的 JVM 与应用程序的 apk/ipa 一起打包用于部署目的。但在部署过程中，我们面临以下问题

```
java.lang.ExceptionInInitializerError
at java.lang.Class.runStaticInitializers(Unknown Source)
at javax.crypto.Cipher.a(Unknown Source)
at javax.crypto.Cipher.getInstance(Unknown Source)

Caused by: java.lang.SecurityException: Cannot set up certs for trusted CAs
01-08 16:10:19.758: D/CVM(769): at javax.crypto.SunJCE_b.<clinit>(Unknown Source)
01-08 16:10:19.768: D/CVM(769): ... 14 more
01-08 16:10:19.768: D/CVM(769): Caused by: java.lang.SecurityException: Cannot locate    policy or framework files!
01-08 16:10:19.768: D/CVM(769): at javax.crypto.SunJCE_b.g(Unknown Source)
01-08 16:10:19.768: D/CVM(769): at javax.crypto.SunJCE_b.f(Unknown Source)
01-08 16:10:19.768: D/CVM(769): at javax.crypto.SunJCE_t.run(Unknown Source) 
```

在以下行： Cipher cipher = Cipher.getInstance("AES/CBC/PKCS5Padding");

这些政策文件将在哪里？如何检查它们是否存在？

任何帮助将不胜感激。如果您需要更多信息，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T10:39:06.173

看起来像 Sun JCE 提供程序中的问题，并且与 ADF 无关。`$JRE_HOME/lib/jce.jar`我可以通过替换来在 jdk 1.4_2.19 和 JCE 1.2.2 中重现`jce1_2_2.jar`. 在这种情况下，得到

```
Exception in thread "main" java.lang.ExceptionInInitializerError
    at javax.crypto.Cipher.a(DashoA6275)
    at javax.crypto.Cipher.getInstance(DashoA6275)
    at Test.main(Test.java:22)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:324)
    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)
Caused by: java.lang.SecurityException: Cannot set up certs for trusted CAs: java.security.PrivilegedActionException: java.net.MalformedURLException: no protocol: US_export_policy.jar
    at javax.crypto.SunJCE_b.<clinit>(DashoA6275)
    ... 8 more 
```

作为解决方法，您可以使用 BouncyCastle 提供程序（返回原始文件`$JRE_HOME/lib/jce.jar`并删除与 中的所有 SunJCE 相关的内容`$JRE_HOME/lib/ext`）。

```
public class Test {
    static {
        Security.addProvider(new BouncyCastleProvider());
    }
    public static void main(String[] args) throws Exception {
        try {
            Cipher cipher = Cipher.getInstance("AES/CBC/PKCS5Padding", "BC");
        } catch (Exception ex) {
            ex.printStackTrace();
        }
    }
} 
```

# mysql - 有没有一种简单的方法可以转换为 PDO

> ID：14232853
> 
> 赞同：2
> 
> 时间：2013-01-09T10:14:32.547
> 
> 标签：mysql, postgresql, pdo

在我的网站上，我同时使用了 postgresql 和 mysql 数据库

我想转换为 PDO，因为我被告知 PHP 将很快删除旧的 mysql_ 函数，我认为这意味着 pg_ 函数也会消失。

我只用过：

pg_connect/mysql_connect & mysql_select_db pg_query/mysql_query pg_result/mysql_result pg_numrows/mysql_numrows （用于检查是否有结果，或遍历结果集） pg_fetch_array

我有数以千计的查询并且不喜欢遍历每一个的想法。

是否可以通过对我的代码进行全局更改来实现 PDO？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T13:00:13.560

> 这是否意味着我可以在此期间进行全局更改 mysql=mysqli ？

那么答案有点复杂，可以分为两部分。让我们先来看看这个问题：
实际上有两个可能的原因来改变你的代码。

1.  mysql 扩展的弃用过程。
2.  使您的代码更安全地抵御 SQL 注入。

对于第一个，这实际上并不是一个紧急的原因。它将在尚未发布的版本中弃用，并在未知版本中删除。因此，要解决任何麻烦，您需要一个 PHP 版本并删除 mysql 支持。根据我的经验，新版本在共享主机上的移动速度很慢，你还有 7 到 10 年的时间。

由于第二个原因，简单的批量搜索和替换根本没有用。
因此，我不会匆忙选择这个选项，而是逐步重构，最终用更好的版本替换旧代码。

# c++ - 使用 QByteArray 中的 libjpeg 加载 jpeg 图像纹理

> ID：14232856
> 
> 赞同：1
> 
> 时间：2013-01-09T10:14:35.610
> 
> 标签：c++, qt, jpeg, libjpeg, qbytearray

嗨，我有一个从 QNetworkReply 获得的 jpeg 图像的 QByteArray。我到处都能看到从文件中读取并解压缩的 jpeg 图像，

```
FILE * infile;
......
if ((infile = fopen(filename, "rb")) == NULL) 
{
     fprintf(stderr, "can't open %s\n", filename);
     exit(1);
}
jpeg_stdio_src(&cinfo, infile);
jpeg_read_header(&cinfo, 0);
jpeg_start_decompress(&cinfo); 
```

然后

```
while (scan lines remain to be read)
      jpeg_read_scanlines(...); 
```

但是我如何从 QByteArray 而不是文件/stdio 流中读取它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:16:57.923

采用

```
void jpeg_mem_src(j_decompress_ptr cinfo, unsigned char * inbuffer,
              unsigned long insize); 
```

代替`jpeg_stdio_src`

```
 QByteArray qarr;

 jpeg_decompress_struct cinfo;
 jpeg_mem_src(&cinfo, qarr.data(), qarr.size());
 jpeg_read_header(&cinfo, TRUE);
 jpeg_start_decompress(&cinfo);

 /// etc.. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T11:11:41.657

您不需要使用外部 jpeg 库：

```
QByteArray array;
// read data into array here;

QPixmap image;
image.loadFromData(array); 
```

应该足够了。Qt 将自动检测图像格式。如果您动态编译应用程序，请记住分发 Qt jpeg 插件。

# python - 匹配两个几乎相似的字符串（python）

> ID：14232858
> 
> 赞同：0
> 
> 时间：2013-01-09T10:14:38.370
> 
> 标签：python, regex

在一个文件中，我可以有以下两种字符串格式之一：

```
::WORD1::WORD2= ANYTHING
::WORD3::WORD4::WORD5= ANYTHING2 
```

这是我想出的正则表达式：

```
::(\w+)(?:::(\w+))?::(\w+)=(.*)

regex.findall(..)

[(u'WORD1', u'', u'WORD2', u' ANYTHING'),
 (u'WORD3', u'WORD4', u'WORD5', u' ANYTHING2')] 
```

我的第一个问题是，为什么`u''`在匹配第一个字符串时我会得到这个空？

我的第二个问题是，有没有更简单的方法来编写这个正则表达式？这两个字符串非常相似，除了有时我有这个额外的`::WORD5`

我的最后一个问题是：大多数时候我之间只有一个词，`::`所以这就是为什么`\w+`就足够了，但有时我可以得到诸如此类的东西`2-WORD2`......`3-2-WORD2`出现了这个`-`。如何将其添加到`\w+`?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:27:40.483

最后一个问题：

```
[\w\-]+ 
```

解释：

> ***`\w`*** 匹配任何单词字符。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:22:00.447

捕获的组始终包含在`re.findall`结果中，即使它们不匹配任何内容。这就是为什么你得到一个空字符串。如果您只想获取分隔符之间的内容，请尝试`split`代替`findall`：

```
a = '::WORD1::WORD2= ANYTHING'
b = '::WORD3::WORD4::WORD5= ANYTHING2'

print re.split(r'::|= ', a)[1:] # ['WORD1', 'WORD2', 'ANYTHING']
print re.split(r'::|= ', b)[1:] # ['WORD3', 'WORD4', 'WORD5', 'ANYTHING2'] 
```

作为对评论的回应，如果“任何事情”都可以，那么使用字符串函数比使用正则表达式更容易：

```
x, y = a.split('= ', 1)
results = x.split('::')[1:] + [y] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:18:45.433

对于你最后一个问题，你可以做类似的事情（接受字母、数字和“-”）

```
[a-zA-Z0-9\-]+ 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T10:48:06.163

根据 thg435 的答案，您可以拆分为“=”，然后执行完全相同的操作，例如

```
left,right = a.split('=', 1)
answer = left.split('::')[1:] + [right] 
```

# python - python将字符串添加到数组中每个元素的开头

> ID：14232860
> 
> 赞同：1
> 
> 时间：2013-01-09T10:14:40.990
> 
> 标签：python

在下面我有一个数组，其中每个元素都应该在开头添加一个字符串而不是追加，我该怎么做

```
 a=["Hi","Sam","How"]
 I want to add "Hello" at the start of each element so that the output will be

 Output:

 a=["HelloHi","HelloSam","HelloHow"] 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T10:15:20.540

这适用于字符串列表：

```
a = ['Hello'+b for b in a] 
```

这也适用于其他对象（使用它们的字符串表示）：

```
a = ['Hello{}'.format(b) for b in a] 
```

例子：

```
a = ["Hi", "Sam", "How", 1, {'x': 123}, None]
a = ['Hello{}'.format(b) for b in a]
# ['HelloHi', 'HelloSam', 'HelloHow', 'Hello1', "Hello{'x': 123}", 'HelloNone'] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:19:19.893

或者您可以使用`map`：

```
map('Hello{0}'.format,a) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T10:16:05.323

```
a=["Hi","Sam","How"]
a = ["hello" + x for x in a]
print a 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T10:19:12.743

另外的选择：

```
>>> def say_hello(foo):
...   return 'Hello{}'.format(foo)
... 
>>> map(say_hello,['hi','there'])
['Hellohi', 'Hellothere'] 
```

# jquery - 使用 jquery 过滤

> ID：14232861
> 
> 赞同：1
> 
> 时间：2013-01-09T10:14:56.000
> 
> 标签：jquery, html

我有一组部门；

```
<div id="people">
  <div>
    <p>Joe Blogs</p>
    <img src=".." />
  </div>
  <div>
    <p>Jane Doe</p>
    <img src=".." />
  </div>
</div> 
```

我希望能够有一个输入文本框，当输入它时，它将搜索分区（在 p 标签中），如果字符串部分或全部匹配，它将显示分区，否则隐藏所有不匹配师。

我将如何最好地使用 jQuery 来解决这个问题？

非常感谢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:40:17.370

根据列表的大小，[:contains 选择器](http://api.jquery.com/contains-selector/)做得很好。

[演示](http://jsfiddle.net/mplungjan/LFSQS/)

```
$(function() {
  $("#filter").on("keyup",function() {
    var val = $(this).val();
    var people = $("#people > div");
    if (val=="") people.show();
    else {
      people.hide()
      $("#people > div:contains('"+val+"')").show();
    }
  });
}); 
```

顺便说一句，这是区分*大小写的对于敏感方法**中*的巧妙案例，请看这里[https://stackoverflow.com/a/4936066/295783](https://stackoverflow.com/a/4936066/295783)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:22:41.867

[演示](http://jsfiddle.net/arvind07/UQzcS/)

[参考](http://www.webspeaks.in/2012/09/live-text-search-highlight-using.html)

```
var results = [];
$("#people p").each(function(){
   results.push($(this).text());
});

jQuery('#filter').on('keyup', function(event){
    var term = jQuery(this).val();
    var htm = '';
    jQuery('#result').empty().hide();

    //Keys with codes 40 and below are special (enter, arrow keys, escape, etc.), Key code 8 is backspace.
    if(event.keyCode > 40 || event.keyCode <91  || event.keyCode == 8 ||
      event.keyCode == 20 || event.keyCode == 16 || event.keyCode == 9 ||
      event.keyCode == 37 || event.keyCode == 38 || event.keyCode == 39 ||
      event.keyCode == 40) {
        for(x in results){
            var match = results[x];
            if(match.toLowerCase().indexOf(term.toLowerCase()) != -1){
                var o = '<b><u>'+term+'</u></b>';
                var a = match.replace(term, o);
                htm += '<li>'+a+'</li>';
            }
        }
        var output = '<ol>' + htm + '</ol>';
        if (htm.length > 0) {
            jQuery('#result').show().append(output);
        }
    }
    if(term.length == 0){
        jQuery('#result').empty().hide();
    }
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T10:42:36.823

最好使用 javascript 对象过滤数据（您从服务器获取数据，过滤它们并使用模板引擎（jsrender 或其他任何东西）显示）。

对于您的示例，它可能如下所示：

```
var timer,
    items = $('#people > div');

var refreshFilter = function(txt) {
    clearTimeout(timer);
    timer = setTimeout(function() {
        var showItems = items.find("p:contains('" + txt + "')").closest('div').show();
        items.not(showItems).hide();
    }, 200);
};

$('#search').keyup(function () {
    refreshFilter(this.value);
}); 
```

演示：http: [//jsfiddle.net/rptgf/](http://jsfiddle.net/rptgf/)

# android - android：在Activity中getLocation并让子片段检索它

> ID：14232862
> 
> 赞同：0
> 
> 时间：2013-01-09T10:14:57.340
> 
> 标签：android, android-location, android-fragmentactivity

我有一个带有**ActionBar**功能的**FragmentActivity**，它承载 4 个片段。每个片段都是一个基本上对我列表中的结果进行不同排序的片段（例如，基于评级、价格、距离等）`LocateMe`**`ListView`**

 **我的问题是，我如何编写我的代码，以便在**FragmentActivity**`LocateMe`中完成位置管理（例如检索、更新），而当按下按钮时，片段只使用这个位置来执行创建时的任何数据调用或对列表进行排序.

**如果我在每个片段中都有LocationManager**来处理位置，那肯定感觉不对，除非我不知道如何做正确的事情。

谢谢你们。:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:24:58.483

恕我直言，“最干净”的方式是通过接口和注册侦听器

创建两个接口：

```
public interface LocationListener{
    public void onLocationAvailable(/* whatever data you want to pass */ );
}
public interface LocationListenersRegistry{
    public void addLocationListener(LocationListener listener);
    public void removeLocationListener(LocationListener listener);
} 
```

然后你让你的活动实现`LocationListenersRegistry`和你的片段实现`LocationListener`

在您的活动中`private ArrayList<LocationListener>`，您将根据添加/删除方法添加和删除侦听器。每次您的活动接收到新数据时，它都应该对其进行处理，然后将其传递给数组上的所有侦听器。

在您应该从活动中注册和注销自己的片段上`onPause`，`onResume`如下所示：

```
onResume(){
    super.onResume();
    ((LocationListenersRegistry)getActivity()).addLocationListener(this);
}

onPause(){
    super.onPause();
    ((LocationListenersRegistry)getActivity()).removeLocationListener(this);
} 
```

**编辑：**

您的活动实现了 LocationListenersRegistry，然后将具有以下代码：

```
public class MyActivity extends Activity implements LocationListenersRegistry {

private ArrayList<LocationListener> listeners = new ArrayList<LocationListener>();
public void addLocationListener(LocationListener listener){
       listeners.add(listener);
}
public void removeLocationListener(LocationListener listener){
    listeners.remove(listener);
} 
```

然后每当用户单击菜单按钮时：

```
 for(LocationListener l:listeners)
         l.onLocationAvailable(/* pass here the data for the fragment */); 
```

并且您的片段将实现 LocationListener

```
 public class MyFragment extends Fragments implements LocationListener{
      public void onLocationAvailable( /* receive here the data */){
           // do stuff with your data
       } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-08T12:14:35.340

我想建议对 Budius 的答案进行改进。

您可以使用已经在 J​​ava 中实现并且可用于 Android 的观察者模式，而不是创建这些接口。

```
public class MyFragment extends Fragment implements Observer {
     @Override
     public void onResume() {
         super.onResume();
         myLocationServices.addObserver(this);
     }
    @Override
    public void onPause() {
         super.onPause();
         myLocationServices.deleteObserver(this);
    }
    @Override
    public void update(Observable observable, Object data) {
         // do stuff with your data
    } 
```

}

我创建了一个单独的类来封装数据（我使用了作为 Google Play SDK 一部分并在 Google IO 2013 中引入的 Location Client，但您可以使用经典的 LocationManager 实现。我仍在学习：P）：

```
public class MyLocationServices extends Observable implements
    GooglePlayServicesClient.ConnectionCallbacks,
    GooglePlayServicesClient.OnConnectionFailedListener, LocationListener {
    @Override
    public void onLocationChanged(Location location) {
         Location mBestReading;
         //Obtain the location. Do the staff
         //And notify the observers
         setChanged();
         notifyObservers(mBestReading);
    } 
```

}**

# performance - 如何使用 watir-webdriver 性能 gem 通过黄瓜测量 yaml 文件中的页面加载时间？

> ID：14232865
> 
> 赞同：0
> 
> 时间：2013-01-09T10:15:03.500
> 
> 标签：performance, cucumber, yaml, watir-webdriver

我想测量加载页面的时间。我使用 watir-webdriver 性能 gem 和这段代码：

```
5.times do
  @b.goto ("#{@host}")    
  puts "Load Time: #{@b.performance.summary[:response_time]/1000.000} seconds."
end 
```

但现在我需要生成 yalm 文件，该文件收集 cucumber-test 的时间信息以供我统计。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T15:28:35.750

```
def write_to_file(p)
  File.open('performance.txt', 'a') {|file| file.write("#{p} - #{@b.performance.summary[:response_time]/1000.000} seconds\n") }
end

@page = "google.com"
write_to_file(@page) 
```

# html - 将文本垂直居中对齐 - 在所有 IE 中

> ID：14232868
> 
> 赞同：0
> 
> 时间：2013-01-09T10:15:09.320
> 
> 标签：html, css, stylesheet

我在 Div 中有一个文本控件。我想将文本垂直居中放置在 div 中。

div 具有以下样式：

```
 display: table-cell;
 vertical-align: middle;
 text-align: Left;
 font-size: 14px;
 height: 80px;
 padding: 0 15px 0 15px;
 overflow: hidden; 
```

问题：

它在 IE8 中按预期对齐文本，但在 IE7 和 IE6 中失败。

无论如何要修复它，所以它在所有 IE 中都可以正常工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:51:44.420

将行高和位置添加到类

```
line-height: 80px;
position: absolute; 
```

最后你的 CSS 看起来像：

```
display: table-cell;
vertical-align: middle;
font-size: 14px;
height: 80px;
padding: 0 15px 0 15px;
overflow: hidden;
border: 1px solid;
line-height: 80px;
position: absolute; 
```

参考**[现场演示](http://jsfiddle.net/SivaCharan/4qnwk/2/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:52:24.557

试试 line-height: 80px，我认为它会起作用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:22:04.277

利用

```
position:relative top:50% top:-50% 
```

对于 6/7 ，这可能会有所帮助！

# windows - 部署 Windows CE 6 应用程序时出现错误：找不到文件或程序集系统 system.data.sqlserverce

> ID：14232870
> 
> 赞同：0
> 
> 时间：2013-01-09T10:15:17.400
> 
> 标签：windows, visual-studio-2008, c#-3.0, windows-ce

我正在将旧版 C# 移动应用程序部署到 Windows CE 6 设备上。

该应用程序在 Visual Studio 2008 中编译并部署到设备上，但在设备上运行我的应用程序时出现错误：

> 找不到文件或程序集名称“System.Data.SqlServerCe，版本 = 3.0.3600.0，culture=neutral，PublicKeyToken=3B3235DF1C802AD3”或其依赖项之一”。

这个应用程序（你可能已经猜到了）使用 SQL Server Compact，我尝试了各种方法来运行应用程序（在设备上重新安装 SQL Server compact 等），但没有任何乐趣。

我还尝试更改**app.config**文件以重新映射此缺少的依赖项：

```
<dependentassembly>
    <assemblyidentity name="System.Data.SqlServerCe" culture="neutral" publickeytoken="3be235df1c8d2ad3" />
    <bindingredirect  newVersion="3.5.0.0" oldVersion="3.0.3600.0" />
 </dependentassembly> 
```

但我仍然遇到同样的问题。

# amazon-web-services - Eclipse Virgo 3.0.2 在 AWS 亚马逊实例上自动关闭

> ID：14232875
> 
> 赞同：1
> 
> 时间：2013-01-09T10:15:24.517
> 
> 标签：amazon-web-services, osgi, eclipse-virgo

我在带有 Ubuntu 10.02 LT 版本的 AWS Amazon 实例上安装了 Eclipse Virgo 3.0.2

问题是带有我的自定义捆绑包的 Eclipse Virgo 可以正确启动，但在几分钟或几小时内，Virgo 实例会自动停止。

我使用`virgo`脚本来启动实例，但进行了这些更改，以便为 VM 保留更多内存以进行启动：

```
# set VM menory for konekti
JAVA_OPTS="-XX:PermSize=256M -XX:MaxPermSize=256M -Xmx1024M -Xms512m"
export JAVA_OPTS 
```

`virgo`当实例开始关闭时，我只粘贴日志：

```
[2013-01-08 21:59:12.550] INFO  System Bundle Shutdown       o.e.v.kernel.dmfragment.internal.ApplicationContextShutdownBean   Setting timeout to 0 for proxy 'org.springframework.osgi.service.importer.support.OsgiServiceProxyFactoryBean@865620' of application context 'OsgiBundleXmlApplicationContext(bundle=org.springframework.osgi.extender, config=bundleentry://110.fwk7578443/META-INF/spring/extender/kernel-dmfragment-context.xml): startup date [Tue Jan 08 19:39:15 UTC 2013]; root of context hierarchy' 
[2013-01-08 21:59:12.551] INFO  System Bundle Shutdown       o.e.v.kernel.dmfragment.internal.ApplicationContextShutdownBean   Setting timeout to 0 for proxy 'org.springframework.osgi.service.importer.support.OsgiServiceProxyFactoryBean@28979b' of application context 'OsgiBundleXmlApplicationContext(bundle=org.eclipse.virgo.kernel.deployer.dm, config=osgibundle:/META-INF/spring/*.xml): startup date [Tue Jan 08 19:39:15 UTC 2013]; root of context hierarchy' 
[2013-01-08 21:59:12.551] INFO  System Bundle Shutdown       o.e.v.kernel.dmfragment.internal.ApplicationContextShutdownBean   Setting timeout to 0 for proxy 'org.springframework.osgi.service.importer.support.OsgiServiceProxyFactoryBean@f96b40' of application context 'OsgiBundleXmlApplicationContext(bundle=org.eclipse.gemini.web.tomcat, config=osgibundle:/META-INF/spring/*.xml): startup date [Tue Jan 08 19:39:17 UTC 2013]; root of context hierarchy' 

... 

[2013-01-08 21:59:16.498] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.workshoptrack.view.web.form_0.0.1.SNAPSHOT, BundleEvent STOPPED 
[2013-01-08 21:59:16.498] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.com.vaadin.addons.openlayerswrapper_1.2.0 [276]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.498] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.com.vaadin.addons.openlayerswrapper_1.2.0, BundleEvent STOPPED 
[2013-01-08 21:59:16.498] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.com.vaadin.addons.localtiontextfield_1.2.1 [275]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.498] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.com.vaadin.addons.localtiontextfield_1.2.1, BundleEvent STOPPED 
[2013-01-08 21:59:16.498] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.com.vaadin.addons.customfield_1.0.0 [274]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.499] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.com.vaadin.addons.customfield_1.0.0, BundleEvent STOPPED 
[2013-01-08 21:59:16.499] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.konekti.view.web.form_0.0.1.SNAPSHOT [273]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.499] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.konekti.view.web.form_0.0.1.SNAPSHOT, BundleEvent STOPPED 
[2013-01-08 21:59:16.499] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.com.vaadin.addons.splitbutton_0.0.1.SNAPSHOT [272]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.499] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.com.vaadin.addons.splitbutton_0.0.1.SNAPSHOT, BundleEvent STOPPED 
[2013-01-08 21:59:16.499] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.com.vaadin.addons.sliderlayout_0.0.1.SNAPSHOT [271]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.499] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.com.vaadin.addons.sliderlayout_0.0.1.SNAPSHOT, BundleEvent STOPPED 
[2013-01-08 21:59:16.500] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.com.vaadin.addons.formbinder_2.1.2 [270]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.500] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.com.vaadin.addons.formbinder_2.1.2, BundleEvent STOPPED 
[2013-01-08 21:59:16.500] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.com.vaadin.addons.confirmdialog_1.1.1 [269]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.500] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.com.vaadin.addons.confirmdialog_1.1.1, BundleEvent STOPPED 
[2013-01-08 21:59:16.500] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.com.vaadin.addons.buttongroup_1.2.0 [268]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.500] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.com.vaadin.addons.buttongroup_1.2.0, BundleEvent STOPPED 
[2013-01-08 21:59:16.500] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.konekti.view.addon_0.0.1.SNAPSHOT [267]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.501] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.konekti.view.addon_0.0.1.SNAPSHOT, BundleEvent STOPPED 
[2013-01-08 21:59:16.501] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.konekti.view.kernel_0.0.1.SNAPSHOT, Service 526, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:16.501] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.konekti.view.kernel_0.0.1.SNAPSHOT [266]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.501] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.konekti.view.kernel_0.0.1.SNAPSHOT, BundleEvent STOPPED 
[2013-01-08 21:59:16.502] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.konekti.report_0.0.1.SNAPSHOT [264]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.502] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.konekti.report_0.0.1.SNAPSHOT, BundleEvent STOPPED 
[2013-01-08 21:59:16.502] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.workshoptrack.knowledge.service.impl_0.0.1.SNAPSHOT [263]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.502] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.workshoptrack.knowledge.service.impl_0.0.1.SNAPSHOT, BundleEvent STOPPED 
[2013-01-08 21:59:16.502] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.workshoptrack.knowledge.service.api_0.0.1.SNAPSHOT [262]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.502] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.workshoptrack.knowledge.service.api_0.0.1.SNAPSHOT, BundleEvent STOPPED 
[2013-01-08 21:59:16.503] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.konekti.knowledge.service.impl_0.0.1.SNAPSHOT [261]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.503] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.konekti.knowledge.service.impl_0.0.1.SNAPSHOT, BundleEvent STOPPED 
[2013-01-08 21:59:16.503] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.konekti.knowledge.service.api_0.0.1.SNAPSHOT [260]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.503] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.konekti.knowledge.service.api_0.0.1.SNAPSHOT, BundleEvent STOPPED 
[2013-01-08 21:59:16.503] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.konekti.knowledge_0.0.1.SNAPSHOT, Service 517, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:16.504] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.konekti.knowledge_0.0.1.SNAPSHOT [259]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.504] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.konekti.knowledge_0.0.1.SNAPSHOT, BundleEvent STOPPED 
[2013-01-08 21:59:16.504] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.workshoptrack.service.impl_0.0.1.SNAPSHOT [258]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.504] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.workshoptrack.service.impl_0.0.1.SNAPSHOT, BundleEvent STOPPED 
[2013-01-08 21:59:16.504] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.workshoptrack.service.api_0.0.1.SNAPSHOT [257]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.504] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.workshoptrack.service.api_0.0.1.SNAPSHOT, BundleEvent STOPPED 
[2013-01-08 21:59:16.505] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.konekti.service.sensor.impl_0.0.1.SNAPSHOT [256]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.505] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.konekti.service.sensor.impl_0.0.1.SNAPSHOT, BundleEvent STOPPED 
[2013-01-08 21:59:16.505] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'com.thingtrack.konekti.service.sensor.api_0.0.1.SNAPSHOT [255]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:16.505] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.thingtrack.konekti.service.sensor.api_0.0.1.SNAPSHOT, BundleEvent STOPPED 
[2013-01-08 21:59:16.505] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'org.springframework.web.servlet_3.0.5.RELEASE [254]' has stopped. Removing its related tracking state. 

... 

[2013-01-08 21:59:21.327] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.equinox.ds_1.3.0.v20110124-0830, BundleEvent STOPPED 
[2013-01-08 21:59:21.327] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.springframework.osgi.extender_1.2.1, Service 57, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.327] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'org.springframework.osgi.extender_1.2.1 [30]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:21.327] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.springframework.osgi.extender_1.2.1, BundleEvent STOPPED 
[2013-01-08 21:59:21.327] INFO  System Bundle Shutdown       org.eclipse.virgo.kernel.core.internal.BundleStartTracker         Bundle 'org.eclipse.virgo.kernel.agent.dm_3.0.2.RELEASE [28]' has stopped. Removing its related tracking state. 
[2013-01-08 21:59:21.327] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.kernel.agent.dm_3.0.2.RELEASE, BundleEvent STOPPED 
[2013-01-08 21:59:21.327] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.kernel.core_3.0.2.RELEASE, Service 69, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.328] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.kernel.core_3.0.2.RELEASE, BundleEvent STOPPED 
[2013-01-08 21:59:21.328] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.repository_3.0.2.RELEASE, Service 54, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.328] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.repository_3.0.2.RELEASE, Service 55, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.328] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.repository_3.0.2.RELEASE, Service 97, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.328] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.repository_3.0.2.RELEASE, Service 53, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.328] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.repository_3.0.2.RELEASE, BundleEvent STOPPED 
[2013-01-08 21:59:21.328] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.springsource.org.apache.commons.httpclient_3.1.0, BundleEvent STOPPED 
[2013-01-08 21:59:21.328] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle com.springsource.org.apache.commons.codec_1.3.0, BundleEvent STOPPED 
[2013-01-08 21:59:21.329] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.util.parser.manifest_3.0.2.RELEASE, BundleEvent STOPPED 
[2013-01-08 21:59:21.329] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.util.math_3.0.2.RELEASE, BundleEvent STOPPED 
[2013-01-08 21:59:21.329] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.util.io_3.0.2.RELEASE, BundleEvent STOPPED 
[2013-01-08 21:59:21.329] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.util.common_3.0.2.RELEASE, BundleEvent STOPPED 
[2013-01-08 21:59:21.329] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.equinox.event_1.2.100.v20110110, Service 52, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.329] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.equinox.event_1.2.100.v20110110, BundleEvent STOPPED 
[2013-01-08 21:59:21.329] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.util.osgi_3.0.2.RELEASE, Service 51, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.330] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.util.osgi_3.0.2.RELEASE, BundleEvent STOPPED 
[2013-01-08 21:59:21.330] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 43, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.330] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 61, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.330] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 63, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.330] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 65, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.330] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 67, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.330] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 64, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.330] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 45, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.330] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 66, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.330] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 42, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.331] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 47, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.331] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 39, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.331] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 44, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.331] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 46, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.331] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 38, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.331] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 68, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.331] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 37, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.331] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 41, ServiceEvent UNREGISTERING 
[2013-01-08 21:59:21.331] INFO  SGiLogServiceListener@1049d3 org.osgi.service.log.LogService                                   Bundle org.eclipse.virgo.medic.core_3.0.2.RELEASE, Service 62, ServiceEvent UNREGISTERING 
```

您看到里面有任何错误，只有 INFO 日志，AWS 关闭了我的实例，但这可能吗？
有谁知道发生了什么？虚拟机是关闭我的实例还是处女座的任何错误？

此致

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-20T10:56:31.933

您需要在启动时启动 virgo，如果您从 SSH 启动它，它会在您关闭 SSH 连接后被杀死。见类似[https://gist.github.com/tarelli/4369545](https://gist.github.com/tarelli/4369545)

# c# - 提交表单后生成随机数和字符串

> ID：14232880
> 
> 赞同：0
> 
> 时间：2013-01-09T10:15:34.940
> 
> 标签：c#, asp.net

我创建应用程序获胜表单，在提交所有详细信息后生成随机数和字符串。生成随机数后，将其保存在 SQL 数据库中。所以告诉我如何生成随机数和随机字符串的组合。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:17:15.057

您应该使用[GUID](http://msdn.microsoft.com/en-us/library/system.guid.newguid.aspx)而不是生成随机数和字符串。这也将是独一无二的。

```
string val  = Guid.NewGuid().ToString(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:22:25.633

为什么不使用会话 ID 而不是生成随机数

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:17:38.893

这里

```
using System;
using System.Text;

public string RandomString (Random r, int len)
{
    string str
         = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890";
    StringBuilder sb = new StringBuilder();

    while ((len--)> 0)
        sb.Append(str[(int)(r.NextDouble() * str.Length)]);

    return sb.ToString();
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T10:19:00.290

使用`DateTime.Now.Ticks.ToString()`或`DateTime.Now.ToFileTime().ToString()`生成随机数。

# mysql - MySql - 在排行榜查询中预测用户排名

> ID：14232887
> 
> 赞同：0
> 
> 时间：2013-01-09T10:15:49.377
> 
> 标签：mysql, rank, leaderboard

根据其他用户的喜好和我的其他参数，我有一个用户烹饪排行榜。每个用户可以在排行榜中拥有许多菜肴。

这个排行榜是实时显示的。我总是再次查询它以向我的客户展示最新数据。

现在我想创建一个选项来向我的用户显示他在板上的菜肴，并且我想告诉他他们在什么地方。

如何预测我的所有用户菜肴在排行榜中的排名？

# facebook - Wordpress "download_url" SSL 验证

> ID：14232888
> 
> 赞同：0
> 
> 时间：2013-01-09T10:15:54.717
> 
> 标签：facebook, wordpress, ssl

是的，所以我一直在使用 Facebook API 并且可以确认图像在那里，我正在尝试将其导入 Wordpress 以将其附加到帖子中。

这是我确定问题所在的代码。

```
if (!empty($image)){
                $fql ="SELECT src_big FROM photo WHERE pid = \"$image\"";
                $fql = urlencode($fql);
                $feedurl = "https://graph.facebook.com/fql?q=$fql&access_token=$page_at";
                $feed=file_get_contents($feedurl);
                $feed = json_decode($feed);
                $image = $feed->data[0]->src_big;

                $tmp = download_url( $image );
                $desc = "SocialHub Facebook Image";
                $file_array['name'] = 'Facebook Image '.$postid;
                $file_array['tmp_name'] = $tmp;
                if ( is_wp_error( $tmp ) ) {
                    @unlink($file_array['tmp_name']);
                    $file_array['tmp_name'] = '';
                    echo $tmp->get_error_message();
                }
                // do the validation and storage stuff
                $id = media_handle_sideload( $file_array, $postid, $desc );
                // If error storing permanently, unlink
                if ( !is_wp_error($id) ) {
                    set_post_thumbnail( $postid, $id );
                }else{
                    echo $id->get_error_message().'<br>';
                }
            } 
```

但是运行时我收到错误消息：

```
SSL certificate problem, verify that the CA cert is OK. Details: error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed 
```

如果有人能想到一种方法来下载没有 SSL 证书错误的 facebook 图像，那将不胜感激。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-12-12T02:36:46.503

这是一个更彻底的解决方法。

```
add_filter( 'https_local_ssl_verify', '__return_false' );
add_filter( 'https_ssl_verify', '__return_false' ); 
```

另请参阅： [https ://wordpress.stackexchange.com/questions/72529/filter-any-http-request-uri](https://wordpress.stackexchange.com/questions/72529/filter-any-http-request-uri)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:55:37.743

没关系，回答我自己的问题；facebook 作为所有有和没有 SSL 的图像，所以必须简单地添加：

```
$image = str_replace('https://','http://',$image); 
```

使用 download_url() 函数之前

# asp.net - 同一主机名下的多个站点可能吗？

> ID：14232892
> 
> 赞同：2
> 
> 时间：2013-01-09T10:16:01.870
> 
> 标签：asp.net, routing, sitecore, sitecore6

**更新：**这个问题是由别名引起的。请看下面我的回答。

我正在尝试在 Sitecore 6.5 中实现一个多站点环境，如下所示：

![站点核心树](../Images/035dbb8f6a1b777cdbe8b5c84ae99afc.png)

如您所见，“Corporate”文件夹下有一个主站点，“Microsites”文件夹下有几个子站点。我遇到的问题是我需要子站点存在于同一个域中。例如：

*   mysite.com/（主站点）
*   mysite.com/subsite（子网站 1）
*   mysite.com/subsite2（子网站 2）

到目前为止，这是我在我的网站集中配置它的方式：

```
<sites>
    ...
    <site name="subsite" hostName="mysite.com" virtualFolder="/subsite" physicalFolder="/subsite" rootPath="/sitecore/content/microsites/subsite" startItem="/home" ...
    <site name="subsite2" hostName="mysite.com" virtualFolder="/subsite2" physicalFolder="/subsite2" rootPath="/sitecore/content/microsites/subsite2" startItem="/home" ...
    <site name="website" hostName="mysite.com" virtualFolder="/" physicalFolder="/" rootPath="/sitecore/content/corporate/" startItem="/home" ...
    ...
</sites> 
```

在大多数情况下，Sitecore 能够仅根据 virtualFolder 路径成功地将我传送到子站点。但是，我遇到的问题是，如果我的子站点中的项目与我在公司主站点中的名称相同，Sitecore 将始终尝试从公司主站点加载该项目。

例如，假设我有一个名为**About**的项目，它作为主站点的子站点以及我的一个子站点中存在。通过导航到**mysite.com/subsite/about**，URL 将保持不变，但是，Sitecore 将从主站点提供 About 页面。如果该项目在子站点的树中称为**AboutUs ，则一切正常。**

关于如何解决此问题的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T13:28:30.013

让我试一试：

```
<sites>

<site name="subsite" hostName="mysite.com" virtualFolder="/" physicalFolder="/subsite" rootPath="/sitecore/content/microsites/subsite" startItem="/subsite" ...

<site name="subsite2" hostName="mysite.com" virtualFolder="/" physicalFolder="/subsite2" rootPath="/sitecore/content/microsites/subsite2" startItem="/subsite2" ...

<site name="website" hostName="mysite.com" virtualFolder="/" physicalFolder="/" rootPath="/sitecore/content/corporate/" startItem="/home" ...

</sites> 
```

*我没有在我的本地机器上尝试过这个代码，因为我需要在我的本地网站上创建这个结构。

试试这个，请告诉我。

参考：[http ://sdn.sitecore.net/SDN5/Articles/Administration/Configuring%20Multiple%20Sites/Adding%20New%20Site/Examples.aspx](http://sdn.sitecore.net/SDN5/Articles/Administration/Configuring%20Multiple%20Sites/Adding%20New%20Site/Examples.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T17:48:02.383

好的，谜团解开了……哇。

事实证明，我的站点配置是正确的，但是，我为大多数指向主站点的第一级项目（例如**关于）设置了****别名。**删除它们解决了问题。如果您仔细阅读这个问题，非常感谢您抽出宝贵的时间。

# ios - 移动和旋转 UIButton

> ID：14232893
> 
> 赞同：1
> 
> 时间：2013-01-09T10:16:04.507
> 
> 标签：ios, objective-c, uikit

我有一个 UIbutton。我希望它从 A 点移动到 B 点。在移动时，该按钮必须进行完整的 360 度旋转。

在某些事件之后，我希望 UIButton 回到它的位置，这次是反向旋转。

我写了这段代码，但是没有用。我看到按钮以意想不到的方式旋转。我在这里想念什么？

移动：

```
 [UIView animateWithDuration:0.3 animations:^{

        CGAffineTransform rotate360AntiClockWise = CGAffineTransformMakeRotation(M_PI_2);

        CGRect initialFrame = button.frame;
        [button setTransform:rotate360AntiClockWise];
        [button setFrame:CGRectMake(initialFrame.origin.x - 140.0, initialFrame.origin.y, initialFrame.size.width, initialFrame.size.height)];

    }]; 
```

回到原来的位置

```
 [UIView animateWithDuration:0.4 animations:^{
        CGAffineTransform rotate360ClockWise = CGAffineTransformMakeRotation(-M_PI_2);

        [button setFrame:originalFrame]; //for movement 
        [button setTransform:rotate360ClockWise];

    }];

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:46:54.273

我目前无法尝试，但如果我记得正确使用框架会在应用转换时出现问题。您是否尝试过设置按钮的中心？

```
[button setCenter:newCenter] 
```

`newCenter`对应的在哪里`CGPoint`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:47:02.690

在不弄乱视图的变换矩阵的情况下进行旋转和变换的最简单方法是：

*   将按钮放置在具有相同帧大小且原点为 0|0 的视图 (moveView) 内

*   当你想旋转时，旋转按钮

*   当你想移动按钮时，翻译 moveView

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:57:21.863

请分三步完成

```
CGAffineTransform matOne = CGAffineTransformMakeTranslation(x_offset, y_offset);
CGAffineTransform matTwo = CGAffineTransformMakeRotation(M_PI_2);
CGAffineTransform matResult = CGAffineTransformConcat(matOne, matTwo);
// Finally
[button setTransform:matResult]; 
```

我希望这可以帮助你。请确保 Concat 将 matOne 作为第一个参数。

这也是另一个问题的可能重复： [translation after rotation view using CGAffine](https://stackoverflow.com/questions/4320491/translation-after-rotation-view-using-cgaffine)

# r - 基于匹配第四列的第三列将一列中的值替换为另一列

> ID：14232899
> 
> 赞同：3
> 
> 时间：2013-01-09T10:16:14.270
> 
> 标签：r, replace

我正在使用以下示例：

```
Original     Modified     New_Orig     New
1            2            1            0
2            4            1            0
3            6            4            0
4            8            5            0
5            10           5            0
6            12           5            0
7            14           5            0
8            16           5            0
9            18           9            0
10           20           10           0 
```

我想用if中的值替换中`New`的值与中的任何值匹配。`Modified``New_Orig``Original`

理想情况下`New`将如下所示：

```
New
2  
2
8
10
10
10
10
10
18
20 
```

非常感谢任何帮助。

亲切的问候，

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-09T10:39:06.363

在这里，创建了一个新列`New`：

```
within(dat, New <- Modified*(New_Orig == Original))

   Original Modified New_Orig New
1         1        2        1   2
2         2        4        1   0
3         3        6        4   0
4         4        8        5   0
5         5       10        5  10
6         6       12        5   0
7         7       14        5   0
8         8       16        5   0
9         9       18        9  18
10       10       20       10  20 
```

**更新**

匹配值并从中选择适当的值`Modified`：

```
within(dat, New <- Modified[match(New_Orig, Original)])

   Original Modified New_Orig New
1         1        2        1   2
2         2        4        1   2
3         3        6        4   8
4         4        8        5  10
5         5       10        5  10
6         6       12        5  10
7         7       14        5  10
8         8       16        5  10
9         9       18        9  18
10       10       20       10  20 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T10:31:17.207

由于@rcs 给出了我会给出的确切答案，我想我会向您展示创建此“新”列的另一种方法，而不是将其初始化为全零。

```
data <- data.frame(Original = 1:10,
                   Modified = seq(2, 20, 2),
                   New_Orig = c(1, 1, 4, 5, 5, 
                                5, 5, 5, 9, 10))
within(data, {
    New <- ifelse(Original == New_Orig, Modified, 0)
})
#    Original Modified New_Orig New
# 1         1        2        1   2
# 2         2        4        1   0
# 3         3        6        4   0
# 4         4        8        5   0
# 5         5       10        5  10
# 6         6       12        5   0
# 7         7       14        5   0
# 8         8       16        5   0
# 9         9       18        9  18
# 10       10       20       10  20 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T10:26:57.403

尝试以下操作：

```
v <- dat$New_Orig==dat$Original # this gives a logical vector,
                                # you could also use which(dat$New_Orig==dat$Original)
                                # to obtain the indices
dat[v, "New"] <- dat[v, "Modified"] 
```

# delphi - XE2和Delphi 2009之间的unicode文本文件输出不同？

> ID：14232900
> 
> 赞同：11
> 
> 时间：2013-01-09T10:16:16.280
> 
> 标签：delphi, unicode, utf-8

当我尝试下面的代码时，与 D2009 相比，XE2 中的输出似乎有所不同。

```
procedure TForm1.Button1Click(Sender: TObject);
var Outfile:textfile;
    myByte: Byte;

begin
  assignfile(Outfile,'test_chinese.txt');
  Rewrite(Outfile);

  for myByte in TEncoding.UTF8.GetPreamble do write(Outfile, AnsiChar(myByte));
  //This is the UTF-8 BOM

  Writeln(Outfile,utf8string('总结'));
  Writeln(Outfile,'°C');
  Closefile(Outfile);
end; 
```

在 Windows 8 PC 上使用 XE2 编译会出现写字板

?? C

txt十六进制代码：EF BB BF 3F 3F 0D 0A B0 43 0D 0A

在 Windows XP PC 上使用 D2009 编译会出现写字板

约°C

txt十六进制代码：EF BB BF E6 80 BB E7 BB 93 0D 0A B0 43 0D 0A

我的问题是为什么它会有所不同，如何使用旧的文本文件 I/O 将中文字符保存到文本文件中？

谢谢！

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-01-09T18:21:37.510

从 XE2 开始，[`AssignFile()`](http://docwiki.embarcadero.com/Libraries/XE2/en/System.AssignFile)有一个可选`CodePage`参数设置输出文件的代码页：

```
function AssignFile(var F: File; FileName: String; [CodePage: Word]): Integer; overload; 
```

`Write()`并且`Writeln()`两者都有支持`UnicodeString`和`WideChar`输入的重载。

因此，您可以创建一个将其代码页设置为 的文件，`CP_UTF8`然后`Write/ln()`在将 Unicode 字符串写入文件时自动将其转换为 UTF-8。

缺点是您将无法再使用`AnsiChar`值写入 UTF-8 BOM，因为单个字节将被转换为 UTF-8，因此无法正确写入。您可以通过将 BOM 编写为单个 Unicode 字符（它实际上是 - `U+FEFF`）而不是单个字节来解决此问题。

这适用于 XE2：

```
procedure TForm1.Button1Click(Sender: TObject);
var
  Outfile: TextFile;
begin
  AssignFile(Outfile, 'test_chinese.txt', CP_UTF8);
  Rewrite(Outfile);

  //This is the UTF-8 BOM
  Write(Outfile, #$FEFF);

  Writeln(Outfile, '总结');
  Writeln(Outfile, '°C');
  CloseFile(Outfile);
end; 
```

话虽如此，如果您想要 D2009 和 XE2 之间更兼容和更可靠的东西，请`TStreamWriter`改用：

```
procedure TForm1.Button1Click(Sender: TObject);
var
  Outfile: TStreamWriter;
begin
  Outfile := TStreamWriter.Create('test_chinese.txt', False, TEncoding.UTF8);
  try
    Outfile.WriteLine('总结');
    Outfile.WriteLine('°C');
  finally
    Outfile.Free;
  end;
end; 
```

或者手动执行文件 I/O：

```
procedure TForm1.Button1Click(Sender: TObject);
var
  Outfile: TFileStream;
  BOM: TBytes;

  procedure WriteBytes(const B: TBytes);
  begin
    if B <> '' then Outfile.WriteBuffer(B[0], Length(B));
  end;

  procedure WriteStr(const S: UTF8String);
  begin
    if S <> '' then Outfile.WriteBuffer(S[1], Length(S));
  end;

  procedure WriteLine(const S: UTF8String);
  begin
    WriteStr(S);
    WriteStr(sLineBreak);
  end;

begin
  Outfile := TFileStream.Create('test_chinese.txt', fmCreate);
  try
    WriteBytes(TEncoding.UTF8.GetPreamble);
    WriteLine('总结');
    WriteLine('°C');
  finally
    Outfile.Free;
  end;
end; 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-09T10:50:07.423

你真的不应该再使用旧的文本 I/O。

无论如何，您可以使用 TEncoding 来获取 UTF-8 TBytes，如下所示：

```
procedure TForm1.Button1Click(Sender: TObject);
var Outfile:textfile;
    Bytes: TBytes;
    myByte: Byte;
begin
  assignfile(Outfile,'test_chinese.txt');
  Rewrite(Outfile);

  for myByte in TEncoding.UTF8.GetPreamble do write(Outfile, AnsiChar(myByte));
  //This is the UTF-8 BOM

  Bytes := TEncoding.UTF8.GetBytes('总结');
  for myByte in Bytes do begin
    Write(Outfile, AnsiChar(myByte));
  end;

  Writeln(Outfile,'°C');
  Closefile(Outfile);
end; 
```

我不确定是否有更简单的方法将 TBytes 写入文本文件，也许其他人有更好的主意。

**编辑：**

对于纯二进制文件（`File`而不是`TextFile`类型），可以使用`BlockWrite`.

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-01-09T12:58:13.477

有几个迹象可以告诉您在处理 Unicode 时什么时候出错了。在您的情况下，您`?`在生成的输出文件中看到“”：当您尝试将某些内容从 Unicode 转换为代码页并且目标代码页不能代表请求的字符时，您会得到问号。

查看十六进制转储，很明显（计算行终止符）问号是将两个汉字保存到文件中的结果。这两个字符被转换为正好两个问号。这告诉您`Writeln()`决定为您提供帮助并将文本从 UTF8（Unicode 表示）转换为您的本地代码页。Delphi 团队可能决定这样做，因为旧的 I/O 例程不应该与 UNICODE 兼容。由于您正在使用旧的 I/O 例程编写 UTF8 字符串，因此他们通过将其转换为您的代码页来帮助您。您可能不欢迎伸出援助之手，但这并不意味着这样做是错误的：它是无证领域。

既然您现在知道为什么会发生这种情况，您就知道该怎么做才能阻止它。让`WriteLn()`您知道您正在发送不需要转换的内容。您会发现这并不是特别容易，因为 Delphi XE2 显然“帮助您”无论您做什么。例如，像这样的东西不只是改变字符串类型，它转换为 AnsiString，通过代码页转换例程得到问号：

```
AnsiString(UTF8String('Whatever Unicode')); 
```

因此，如果您需要单线解决方案，您可以尝试转换例程，如下所示：

```
function FakeConvert(const InStr: UTF8String): AnsiString;
var N: Integer;
begin
  N := Length(InStr);
  SetLength(Result, N);
  Move(InStr[1], Result[1], N);
end; 
```

然后，您将能够：

```
Writeln(Outfile,FakeConvert('总结')); 
```

它会做你所期望的（我在发布之前确实尝试过！）

当然，这个问题的唯一正确答案是，因为您一直升级到 Delphi XE2：

# 停止使用已弃用的 I/O 例程，转移到基于 TStream

# node.js - 在 Mongoose ODM 中通过唯一属性查找嵌入文档

> ID：14232902
> 
> 赞同：0
> 
> 时间：2013-01-09T10:16:19.177
> 
> 标签：node.js, mongodb, mongoose

我们有这个计划：

```
var SubsetSchema = new mongoose.Schema({
    number: {
        type: Number,
        index: true,
        unique: true,
    },
    name: String,
});

var RootSchema = new mongoose.Schema({
    name: String,
    subsets: [SubsetSchema],
});

mongoose.model('collection', RootSchema);
var Root = module.exports = mongoose.model('collection'); 
```

`Subset`我将如何在整个集合中搜索单个文档`number = 3`？

我不清楚。在上述模式的情况下，`number`在整个集合或每个`Root`文档中是唯一的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T14:09:13.907

您可以在查询中使用[点表示法并在投影中使用](http://docs.mongodb.org/manual/core/document/#dot-notation)[`$`位置运算符](http://docs.mongodb.org/manual/reference/operators/#_S_)将输出过滤为仅匹配的`subsets`元素，如下所示：

```
Root.findOne({'subsets.number': 3}, {_id: 0, 'subsets.$': 1}, ...); 
```

关于你的第二个问题，将在整个集合中强制执行为唯一，但（违反直觉）仍然允许在*同一个*文档`number`中多次存在。 *`Root`*

# python - python中变量定义的意外行为

> ID：14232904
> 
> 赞同：1
> 
> 时间：2013-01-09T10:16:21.917
> 
> 标签：python, numpy

> **可能重复：**
> [变量赋值和修改（在python中）](https://stackoverflow.com/questions/6793872/variable-assignment-and-modification-in-python)

我刚刚注意到 python 中的变量赋值有一些我没想到的行为。例如：

```
import numpy as np
A = np.zeros([1, 3])
B = A

for ind in range(A.shape[1]):
    A[:, ind] = ind
    B[:, ind] = 2 * ind
print 'A = ', A
print 'B = ', B 
```

输出

A = [[ 0\. 2\. 4.]]

B = [[ 0\. 2\. 4.]]

在我期待的时候：

A = [[ 0\. 1\. 2.]]

B = [[ 0\. 2\. 4.]]

如果我将“B = A”替换为“B = np.zeros([1, 3])”，那么我做对了。我无法在 Ipython 终端中重现意外结果。我在 SciTE 3.1.0 中使用 F5 键运行代码得到了该结果。我在 Win7 中使用 Python(x, y) 2.7.2.3 发行版。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:24:02.660

```
B = A 
```

生成并指向同一个对象`A`。`B`这就是为什么它们将同时更改。

采用

```
B = A.copy() 
```

它将按预期工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:27:08.003

在您的代码中，`B`只是 的另一个名称`A`，因此当您更改一个时，您会更改另一个。这是 Python 中可变对象的常见“问题”。使用 numpy 数组，您可以使用该`copy()`函数。

但是，这也发生在可变容器上，例如列表或字典。为避免这种情况，您可以选择以下之一：（取决于可变的复杂性）

```
B = A[:]  #makes a copy of only the first level of the mutable
B = copy(A)  #same as above, returns a 'shallow copy' of A
B = deepcopy(A)  #copies every element in the mutable, on every level 
```

请注意，要使用`copy`和`deepcopy`函数，您需要从标准模块中导入它们`copy`。

另见：[这个问题](https://stackoverflow.com/q/2612802/1907098)

# python - 没有名为 pages.urls 的模块

> ID：14232905
> 
> 赞同：0
> 
> 时间：2013-01-09T10:16:22.650
> 
> 标签：python, django, ubuntu

我正在尝试安装 Django Gerbi-CMS 并且没有运气。我已经完成了几次安装，但没有到达任何地方。当我运行服务器时，我收到错误：

`No module named pages.urls`

当我安装它时，它告诉我它已正确安装。但是我查看了 python2.7/site-packages 并且页面不在那里。

我前段时间安装在现有站点上，除了页面和其他未显示在上述目录中的依赖项之外，我看不出有什么不同。

我运行安装包的最后一个命令是：

```
$ sudo pip install django-page-cms 
```

就像我说的那样已安装，但我的站点包中没有显示任何内容。

链接到网站 - [http://packages.python.org/django-page-cms/installation.html](http://packages.python.org/django-page-cms/installation.html)

设置：

```
INSTALLED_APPS = (
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.sites',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'django.contrib.admin',
    'django.contrib.admindocs',
    #'authority',
    'pages',
    'south',
    'blog',
) 
```

网址：

```
if settings.DEBUG:
urlpatterns += patterns('',
    # Trick for Django to support static files (security hole: only for Dev environement! remove this on Prod!!!)
    url(r'^media/(?P<path>.*)$', 'django.views.static.serve', {'document_root': settings.MEDIA_ROOT}),
    url(r'^admin_media/(?P<path>.*)$', 'django.views.static.serve', {'document_root': settings.ADMIN_MEDIA_ROOT}),
)
 urlpatterns += patterns('',      
(r'^', include('pages.urls')),
) 
```

如果您需要任何其他信息，请告诉我。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:48:37.293

您是否将应用程序包含在您的 settings.py 文件中名为

```
INSTALLED_APPS = (
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.admin',
    'django.contrib.sites',
    'mptt',
    'tagging',
    'pages',      # You have to include it here      
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T12:41:12.507

经过几次安装过程后，我发现因为我使用的是“sudo”，所以它安装在服务器上而不是 virtualenv 内！

因此，当您安装应用程序时，您需要在没有 sudo 的情况下安装它，否则它将安装在 virtualenv 之外！

# python - Python从应用于集合中元素的函数创建结果的联合

> ID：14232906
> 
> 赞同：1
> 
> 时间：2013-01-09T10:16:24.503
> 
> 标签：python, set, union

我正在尝试创建一个集合，其中包含一个函数返回的所有结果，该函数应用于集合中的每个元素。以下代码片段有望澄清：

```
results = set()    
for node in nodes:
    results = set.union(results, foo(node)) 
```

虽然代码完成了我想要的，但我相信它可以重写得更好、更简洁。由于我必须多次重复此构造，因此非常感谢任何帮助。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T10:19:18.497

```
results = set()    
for node in nodes:
    results.update(foo(node)) 
```

或者

```
results = set.union(*[foo(node) for node in nodes]) 
```

如果`nodes`可以为空，则使用它来确保它不会引发异常：

```
results = set.union(set(), *[foo(node) for node in nodes]) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:20:39.057

我认为您的解决方案还可以，除了您可以使用`|=`运算符进行集合联合：

```
results = set()    
for node in nodes:
    results |= set(foo(node)) 
```

或者您可以将所有结果收集在一个列表中，并将其转换为最后设置一次（如果您不期望大量数据）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:21:38.090

也许使用`reduce`

```
results = reduce(lambda x,y: set.union(x,y), [foo(x) for x in nodes]) 
```

# ios - 并发操作、NSOperationQueue 和异步 API 所需的说明

> ID：14232908
> 
> 赞同：3
> 
> 时间：2013-01-09T10:16:38.570
> 
> 标签：ios, objective-c, asynchronous, nsoperation, nsoperationqueue

这是一个两部分的问题。希望有人能给出完整的答案。

`NSOperation`s 是强大的对象。它们可以是两种不同的类型：非并发或并发。

第一种是同步运行的。您可以通过将非并发操作添加到`NSOperationQueue`. 后者为您创建一个线程。结果在于以并发方式运行该操作。唯一需要注意的是此类操作的生命周期。当它的`main`方法完成时，它就会从队列中移除。当您处理异步 API 时，这可能是一个问题。

现在，并发操作呢？来自苹果文档

> 如果要实现并发操作（即相对于调用线程异步运行的操作），则必须编写额外的代码来异步启动操作。例如，您可能会生成一个单独的线程、调用异步系统函数或执行其他任何操作来确保 start 方法启动任务并立即返回，并且很可能在任务完成之前返回。

这对我来说几乎是很清楚的。它们异步运行。但是您必须采取适当的措施来确保他们这样做。

我不清楚的是以下内容。医生说：

> 注意：在 OS X v10.6 中，操作队列会忽略 isConcurrent 返回的值，并始终从单独的线程调用操作的 start 方法。

它的真正含义是什么？**如果我在 a 中添加并发操作会发生什么`NSOperationQueue`？**

然后，在这篇文章[并发操作](http://www.dribin.org/dave/blog/archives/2009/05/05/concurrent_operations/)中，并发操作用于通过`NSURLConnection`（以异步形式）下载一些 HTTP 内容。操作是并发的并包含在特定队列中。

```
UrlDownloaderOperation * operation = [UrlDownloaderOperation urlDownloaderWithUrlString:url];
[_queue addOperation:operation]; 
```

由于`NSURLConnection`需要一个循环来运行，作者`start`在主线程中分流了该方法（所以我想将操作添加到它产生的队列中）。以这种方式，主运行循环可以调用包含在操作中的委托。

```
- (void)start
{
    if (![NSThread isMainThread])
    {
        [self performSelectorOnMainThread:@selector(start) withObject:nil waitUntilDone:NO];
        return;
    }

    [self willChangeValueForKey:@"isExecuting"];
    _isExecuting = YES;
    [self didChangeValueForKey:@"isExecuting"];

    NSURLRequest * request = [NSURLRequest requestWithURL:_url];
    _connection = [[NSURLConnection alloc] initWithRequest:request
                                                  delegate:self];
    if (_connection == nil)
        [self finish];
}

- (BOOL)isConcurrent
{
    return YES;
}

// delegate method here... 
```

我的问题如下。**这个线程安全吗？**运行循环侦听源，但调用的方法在后台线程中调用。我错了吗？

**编辑**

根据 Dave Dribin 提供的代码，我自己完成了一些测试（参见[1](http://www.dribin.org/dave/blog/archives/2009/05/05/concurrent_operations/)）。正如您所写，我注意到`NSURLConnection`在**主线程**中调用了 的回调。

好的，但现在我仍然很困惑。我会试着解释我的怀疑。

为什么在**并发**操作中包含在主线程中调用其回调的异步模式？将方法分流`start`到主线程允许在主线程中执行回调，那么队列和操作呢？我在哪里可以利用 GCD 提供的线程机制？

希望这很清楚。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-11T23:51:17.450

这是一个很长的答案，但简短的版本是您所做的一切都很好并且线程安全，因为您已强制操作的重要部分在主线程上运行。

您的第一个问题是，“如果我在 NSOperationQueue 中添加并发操作会发生什么？” [从 iOS 4 开始](http://developer.apple.com/library/ios/#qa/qa1712/_index.html)，`NSOperationQueue`在幕后使用 GCD。当您的操作到达队列顶部时，它会被提交给 GCD，GCD 会管理一个私有线程池，该线程池会根据需要动态增长和收缩。GCD 分配其中一个线程来运行`start`您操作的方法，并保证该线程永远不会成为主线程。

当该`start`方法在并发操作中完成时，没有什么特别的事情发生（这就是重点）。无论调用线程如何，队列都将允许您的操作永远运行，直到您设置`isFinished`并执行正确的 KVO willChange/didChange 调用。`YES`通常，您会调用一个方法`finish`来执行此操作，看起来就像您拥有的那样。

所有这一切都很好，但是如果您需要观察或操作运行您的操作的线程，则需要注意一些事项。要记住的重要一点是：*不要乱用 GCD 管理的线程*。你不能保证它们会超过当前的执行帧，你也绝对不能保证后续的委托调用（即 from `NSURLConnection`）会在同一个线程上发生。事实上，他们可能不会。

在您的代码示例中，您已分流`start`到主线程，因此您无需过多担心后台线程（GCD 或其他）。当您创建`NSURLConnection`它时，它会在当前运行循环上调度，并且它的所有委托方法都将在该运行循环的线程上调用，这意味着在主线程上启动连接可以保证它的委托回调也发生在主线程上。从这个意义上说，它是“线程安全的”，因为除了操作本身之外，后台线程上几乎没有实际发生任何事情，这实际上可能是一个优势，因为 GCD 可以立即回收线程并将其用于其他用途。

让我们想象一下，如果你不强制`start`在主线程上运行，而只是使用 GCD 给你的线程会发生什么。如果它的线程消失了，比如当它被 GCD 回收到它的私有池中时，运行循环可能会永远挂起。有一些技术可以使线程保持活动状态（例如添加一个空的`NSPort`），但它们不适用于 GCD 创建的线程，仅适用于您自己创建的线程并且可以保证其生命周期。

这里的危险在于，在轻负载下，您实际上可以在 GCD 线程上运行运行循环并认为一切都很好。一旦你开始运行许多并行操作，尤其是当你需要在飞行中取消它们时，你将开始看到永远不会完成也永远不会释放的操作，从而导致内存泄漏。如果您想完全安全，则需要创建自己的专用`NSThread`并保持运行循环永远运行。

在现实世界中，做你正在做的事情并在主线程上运行连接要容易得多。管理连接消耗的 CPU 非常少，并且在大多数情况下不会干扰您的 UI，因此完全在后台运行连接几乎没有什么好处。主线程的运行循环总是在运行，你不需要去搞乱它。

但是，可以`NSURLConnection`使用上述专用线程方法完全在后台运行连接。例如，查看[JXHTTP](https://github.com/tumblr/JXHTTP/)，特别是[JXOperation](https://github.com/tumblr/JXHTTP/blob/master/JXHTTP/JXHTTPOperation.m)和[JXURLConnectionOperation类](https://github.com/tumblr/JXHTTP/blob/master/JXHTTP/JXURLConnectionOperation.m)

# jquery - 使用jquery获取动态创建的文本框的值

> ID：14232910
> 
> 赞同：4
> 
> 时间：2013-01-09T10:16:43.680
> 
> 标签：jquery, each

我很难获得动态附加文本框的值。我正在使用该`$.each`函数根据其`id`在`id`.

```
<input type="text"  id="student_grde_G[1]" >
<input type="text"  id="student_grde_G[2]" >
<input type="text"  id="student_grde_G[3]" >

<input type="button" id="save_grade_button" class="button" value="Save Grades"> 
```

jQuery：

```
$('#save_grade_button').click(function (){
    $.each($('#student_grde_G[]'), function(i, item) {
        var grade =  $('#student_grde_G['+i+']').val();
        alert(grade);
    });
}); 
```

这行不通。谁能告诉我如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T10:22:23.130

一般来说，最好为它使用一个类，因为 id 是一个唯一标识符，你不应该在其中使用数组。如果您想在发布后在服务器端处理它们，您最好这样做：

```
<input type="text" class="studentGrade"  id="student_grde_G_1" name="studentGrade[]" >
<input type="text" class="studentGrade"  id="student_grde_G_2" name="studentGrade[]" >
<input type="text" class="studentGrade"  id="student_grde_G_3" name="studentGrade[]" >

<input type="button" id="save_grade_button" class="button" value="Save Grades"> 
```

并为您的脚本

```
$('#save_grade_button').click(function (){

         $('.studentGrade').each(function() {
           var grade =  $(this).val();
           alert(grade);
         });

     }); 
```

**编辑：从 jQuery 1.7 开始**，你应该用[.on()绑定你的事件](http://api.jquery.com/on/)

```
$('#save_grade_button').on('click', function (){
   $('.studentGrade').each(function() {
      var grade =  $(this).val();
      alert(grade);
   });
}; 
```

或者如果保存按钮也将是动态的

```
$(document).on('click', '#save_grade_button', 'gradeSaveClick' function (){
   $('.studentGrade').each(function() {
      var grade =  $(this).val();
      alert(grade);
   });
}; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T10:18:53.107

您可以只使用 item 参数：

```
$('#save_grade_button').click(function (){
     $('input[type=text]').each(function(i, item) {
         var grade =  $(item).val();
         alert(grade);
     });
 }); 
```

或者结合@Adil的答案：

```
$('#save_grade_button').click(function (){
     $('[id^=student_grde_G]').each(function(i, item) {
         var grade =  $(item).val();
         alert(grade);
     });
 }); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-09T10:20:34.873

为所有文本框“student_grde”添加了一个新类

```
<input type="text"  class="student_grde" id="student_grde_G[1]" >
      <input type="text" class="student_grde" id="student_grde_G[2]" >
      <input type="text" class="student_grde" id="student_grde_G[3]" >

      <input type="button" id="save_grade_button" class="button" value="Save Grades"> 
```

和 jquery

```
$('#save_grade_button').click(function (){
    $.each($('.student_grde'), function(i, item) {
        var grade =  $('#student_grde_G['+i+']').val();
        alert(grade);
    });
}); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-09T10:21:41.317

您为 each 使用的选择与您的想法不符。[] 用于匹配元素的属性。

例如，'$("img[alt]")' 选择所有具有 alt 属性的 img 标签，$("img[alt=foo]")' 选择所有 alt 属性值为 foo 的 img 标签。

我建议使用一个类而不是将输入元素更改为

```
<input type="text" class="grades" id="student_grde_G[2]" > 
```

然后将jQuery更改为

```
$('#save_grade_button').click(function (){
    $.each($('grades'), function() {
        var grade =  $(this).val();
        alert(grade);
    });
}); 
```

你的使用`i`忽略了最后一个元素。索引 (i) 从零开始，因此 i 的第一个值为 0（在您的示例中将不选择任何内容），最后一个是元素的计数减一，导致最后一个元素永远不会被选中。

但是，由于当前元素可以`this`在提供给每个元素的函数中访问，因此如果您对函数进行上述更改，则无需担心任何“off by one”错误

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-09T10:18:23.137

您没有带有 id 的元素`student_grde_G[]`使用通配符`starts`。

**[现场演示](http://jsfiddle.net/rajaadil/akuXV/)**

```
$('#save_grade_button').click(function () {
  $.each($('[id^=student_grde_G]'), function (i, item) {
    var grade = $(this).val();
    alert(grade);
  });
}); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-09T10:22:09.877

如果您想为输入坚持使用前缀 id，您可以使用 jquery 通配符选择器。此外，您可以简单地使用传递给函数的项目，而不是使用 jquery 选择器来检索等级的值。如前所述，向输入添加一个类可能是一种更有效的方法。

```
$('#save_grade_button').click(function (){

   $.each($("input[id^='student_grde_G']"), function(i, item) { //uses wildcard selector

      var grade =  $(item).val();  //Use item instead of selector
          alert(grade);
      });
 }); 
```

示例：http: [//jsbin.com/axenuj/1/edit](http://jsbin.com/axenuj/1/edit)

# sql - SQL查询比较（ON子句或WHERE子句中的连接条件）

> ID：14232912
> 
> 赞同：2
> 
> 时间：2013-01-09T10:16:49.860
> 
> 标签：sql, database, oracle, join, left-join

[示例数据的 SQL 小提琴链接](http://sqlfiddle.com/#!4/c3902/24/13)

基本上我的疑问是，如果我们在**LEFT OUTER JOIN的****ON**子句中指定条件，或者我们在**WHERE** 子句中使用空检查指定条件，是否相同？

 ******表架构：**

```
Create table App(ID number , STATUS varchar2(10));
Create table App_Child(child_id number ,
                       STATUS varchar2(10),
                       ID number ); 
```

**查询 1**

```
SELECT a.ID AS appID, a.STATUS AS appSTATUS,
b.child_id AS acOWNID,b.STATUS AS acSTATUS, b.id AS acID
 FROM App  a LEFT OUTER JOIN App_Child b ON (a.id=b.id AND b.STATUS <> 'disabled')  WHERE a.ID = ?; 
```

**查询 2**

```
SELECT a.ID AS appID, a.STATUS AS appSTATUS,
b.child_id AS acOWNID,b.STATUS AS acSTATUS, b.id AS acID
 FROM App  a LEFT OUTER JOIN App_Child b ON (a.id=b.id)  WHERE a.ID = ? AND (b.STATUS IS NULL OR b.STATUS<>'disabled'); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T10:25:27.607

**结果和可读性**都不一样。

*   当您在`on`子句中编写条件时，您将包含 App 中的所有行。
*   当您在`where`子句中编写条件时，您会从结果中过滤行：

在您的情况下，`App`与带有 b.STATUS='disabled' 的 App_Child 相关的行将**被过滤**

这是一个示例：

```
INSERT INTO App VALUES(1,'active');

INSERT INTO App_Child VALUES(3,'disabled',1);

SELECT a.ID AS appID, a.STATUS AS appSTATUS,
b.child_id AS acOWNID,b.STATUS AS acSTATUS, b.id AS acID
 FROM App  a LEFT OUTER JOIN App_Child b 
      ON (a.id=b.id AND b.STATUS <> 'disabled')  
WHERE a.ID = 1;

--- has results ---

SELECT a.ID AS appID, a.STATUS AS appSTATUS,
b.child_id AS acOWNID,b.STATUS AS acSTATUS, b.id AS acID
 FROM App  a LEFT OUTER JOIN App_Child b ON (a.id=b.id)  
WHERE a.ID = 1 AND (b.STATUS IS NULL OR b.STATUS<>'disabled');

-- don't has results -- 
```****

# c# - ArrayList 内部实现

> ID：14232914
> 
> 赞同：2
> 
> 时间：2013-01-09T10:16:52.197
> 
> 标签：c#, .net, arraylist, language-implementation, principles

希望这不是重复的。

在任何事情之前，我知道 ArrayList 不是最好的选择，但这只是好奇。

简单地说，我想知道 ArrayList 的实现。我查看并发现它使用数组进行存储。

对于数组，当你有：

```
int [] arr; 
```

arr 指向数组的第一个元素，因为它是整数类型，编译器知道跳转到哪里：

```
arr[2] => arr value + 2 * typeof(int) = address of arr[2] 
```

现在，由于 ArrayList 是无类型的，我想知道编译器如何确定下一项在哪里。我猜想有一个开销告诉数据是什么，以便编译器可以执行指针算术。

因此，ArrayList 应该比任何其他类型化集合慢得多，因为它不能只跳转到数据，因为它需要知道之前的内容。这与 LinkedList 非常相似。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-09T10:22:36.203

`ArrayList`仅包含对对象的*引用*，而不是对象本身。所有引用的大小都相同，因此不存在问题。

引用的内部类型肯定是`object`.

对于值类型的泛型数组，实际值存储在数组中，并且按照您的描述使用元素的大小。如果将值类型放入 an 中`ArrayList`，它将被装箱到一个对象中，并且对该对象的引用存储在`ArrayList`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T10:22:17.320

对于 的数组`struct`，每个元素的大小是已知的。

对于引用类型的数组，该数组存储对实际对象的引用（指针），这些对象存在于堆中。

指针的大小也是已知的：x86 上为 4 字节，x64 上为 8 字节。

因此，指针运算总是简单快捷。

在 的情况下`ArrayList`，内部存储是 a `object[]`，因此该实现对于存储值类型并不是最佳的，因为它们也将被装箱并存储在堆中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-02-07T04:29:34.887

好的，你问 arrayList 的实现是什么，这里是： [arraylist.cs](http://referencesource.microsoft.com/#mscorlib/system/collections/arraylist.cs)

直接来自微软。这是 Roslyn 的实现。

# c# - 检查 CheckedListBox？

> ID：14232916
> 
> 赞同：0
> 
> 时间：2013-01-09T10:17:12.820
> 
> 标签：c#, winforms, checkbox

检查是否在`CheckedListBox`. 我正在申请注册电影，我需要从`CheckedListBox`. 如果未选中任何内容，`MessageBox`应该会出现一个告诉您*您需要为电影选择流派。*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:23:09.293

您可以简单地使用该[`SelectedIndex`](http://msdn.microsoft.com/en-us/library/system.windows.forms.listbox.selectedindex.aspx)属性：

```
if(checkListBoxGenre.SelectedIndex == -1)
{
    MessageBox.Show("You need to select a Genre for the movie.");
} 
```

另一种选择是使用获取 ListBox 中当前选定项的文本的[`Text`属性。](http://msdn.microsoft.com/en-us/library/system.windows.forms.listbox.text.aspx)

```
if(checkListBoxGenre.Text.Length == 0)
{
    MessageBox.Show("You need to select a Genre for the movie.");
} 
```

这只是可读性和个人喜好的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:20:06.883

你应该检查`CheckedItems`或`CheckedIndices`属性，这取决于你需要什么

```
CheckedListBox cl = new CheckedListBox();

if (cl.CheckedIndices.Count == 0)
{
    MessageBox.Show("You need to select a Genre for the movie.");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:20:51.627

```
if(checkedListBox1.CheckedItems.Count != 0)
{
   // If so, loop through all checked items and print results.
}
else
{
    MessageBox.Show("You need to select a Genre for the movie.");
} 
```

# iphone - 在应用程序进入后台之前执行 UI 操作

> ID：14232928
> 
> 赞同：0
> 
> 时间：2013-01-09T10:17:51.750
> 
> 标签：iphone, ios, mpmovieplayercontroller, mpmovieplayer

我想在应用程序进入后台之前执行一些 UI 操作..

```
UIApplicationDidEnterBackgroundNotification 
```

只是没有削减它..我有一个**MPMoviePlayerController**流式传输 m3u8 文件，我需要在应用程序进入后台之前暂停此视频，主要是因为..
如果我在视频播放时点击主页按钮并进入又是前景..

视频的缓冲流丢失了，视频以错误的方式播放，奇怪的是这只发生在 iPhone 而不是 iPad 上..
所以我希望解决这个问题并在视频进入后台**之前暂停视频..**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T11:49:43.683

这`UIApplicationWillResignActiveNotification`似乎正是您正在寻找的。

参考：http: [//developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIApplication_Class/Reference/Reference.html](http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIApplication_Class/Reference/Reference.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T10:28:14.033

请看一下这个[应用程序代表](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIApplicationDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intfm/UIApplicationDelegate/applicationDidEnterBackground%3a)

或者您甚至可以在应用程序进入后台后在有限时间内执行任务

[**在这里查看**](https://developer.apple.com/library/ios/#documentation/iphone/conceptual/iphoneosprogrammingguide/ManagingYourApplicationsFlow/ManagingYourApplicationsFlow.html)

# regex - 正则表达式中的自定义单词边界

> ID：14232931
> 
> 赞同：5
> 
> 时间：2013-01-09T10:18:06.447
> 
> 标签：regex

我正在尝试使用正则表达式匹配单词，但遗憾的是单词边界字符 (\b) 没有包含足够我喜欢的字符，所以我想添加更多。（在那种精确的情况下，“+”字符）

这是我曾经拥有的（它是 C#，但不是很相关）：

```
string expression = Regex.Escape(word);
Regex regExp = new Regex(@"\b" + expression + @"\b", RegexOptions.IgnoreCase); 
```

这个特殊的正则表达式与“C++”不匹配，我认为这真是太糟糕了。因此，我尝试以这种方式在字符类中使用 \w 字符以及 + 字符：

```
string expression = Regex.Escape(word);
Regex regExp = new Regex(@"(?![\w\+])" + expression + @"(?![\w\+])", RegexOptions.IgnoreCase); 
```

但是现在，什么都没有匹配……我有什么遗漏吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-09T10:42:57.853

（无需`+`在字符类中转义）

问题是您首先使用否定的lookahead，而您应该使用否定的lookbehind。尝试：

```
@"(?<![\w+])" + expression + @"(?![\w+])" 
```

# amazon-web-services - AWS EC2 扩展添加磁盘空间 redhat

> ID：14232932
> 
> 赞同：0
> 
> 时间：2013-01-09T10:18:20.277
> 
> 标签：amazon-web-services, amazon-ec2, redhat

我想增加**AWS**上 EC2 磁盘空间的大小。
我有连接到此卷 的**Redhat AMI。**

增加空间（不丢失数据）的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T12:00:07.160

[您可以将EBS](http://aws.amazon.com/ebs/)附加到它。

这是一个基于网络的磁盘，您可以创建它然后将其附加到实例。您可以稍后将其分离并再次附加到此实例或其他实例。您还可以将此磁盘的快照作为备份或从中创建新的 EBS。

# android - 在 VideoView 中播放视频时出现不清楚的错误

> ID：14232937
> 
> 赞同：2
> 
> 时间：2013-01-09T10:18:37.630
> 
> 标签：android, android-mediaplayer, android-videoview

我正在尝试在 VideoView 中播放视频（通过 uri），有时会出现以下错误：

> E/MediaPlayer(15861): 错误 (1, -2147483648)
> D/MediaPlayer(15861): 无法在客户端打开文件，尝试服务器端
> W/MediaPlayer(15861): mediaplayer 因未处理的事件而消失

我发现代码的“列表”可以在以下源代码中找到： [https](https://github.com/android/platform_external_opencore/blob/master/pvmi/pvmf/include/pvmf_return_codes.h)
://github.com/android/platform_external_opencore/blob/master/pvmi/pvmf/include/pvmf_return_codes.h （感谢线程[完整列表MediaPlayer 错误代码](https://stackoverflow.com/questions/13046753/complete-list-of-mediaplayer-error-codes)）

但这并没有让事情变得更清楚，-2147483648 什么都没有，我得到的 1 是正数，在这个来源中它说错误代码是负数。

此线程中报告了同样的事情：[Playing youtube video in a videoview](https://stackoverflow.com/questions/11929871/playing-youtube-video-in-a-videoview)，尽管他没有询问此错误的含义（也没有得到任何帮助的答案）。

有人知道这个错误的含义吗？
谢谢。

* * *

编辑

我正在尝试显示 youtube 视频，流的 url 取自[http://www.youtube.com/get_video_info?&video_id=VIDEO_ID](http://www.youtube.com/get_video_info?&video_id=VIDEO_ID)并且它是异步完成的。当结果回来时，这是我正在使用的代码：

```
activity.runOnUiThread(new Runnable() {
    @Override
    public void run() {
        setVideoURI(videoStream);
    }
}); 
```

这是由扩展 VideoView 的类执行的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:25:53.123

1 代表 `MEDIA_ERROR_UNKNOWN`. -2147483648 是一个神话有关详细信息，
请参阅[文档](http://developer.android.com/reference/android/media/MediaPlayer.html#MEDIA_ERROR_UNKNOWN)。
尝试播放无效 url 时会发生这种错误。假设您没有使用第三方库。

# unix - Powershell - 更改 UNIX ANSI 文件编码并生成 CRLF

> ID：14232940
> 
> 赞同：2
> 
> 时间：2013-01-09T10:18:45.440
> 
> 标签：unix, powershell, encoding, newline

我在 Windows 中使用 Powershell 将 Unix 生成的文件中的 '£'​​ 替换为 '$'。问题是输出文件在每一行的末尾都有 CRLF，而不是原来的 LF。当我在 Notepad++ 中查看原始文件时，状态栏告诉我它是 Unix ANSI，我想保持这种格式并在每行末尾添加 LF。我尝试了所有编码选项都没有成功，我也尝试过 Set-Content 而不是 od Out-File。我的代码是：

```
$old = '£'
$new = '$'
$encoding = 'UTF8'
(Get-Content $fileInfo.FullName) | % {$_ -replace $old, $new} | Out-File -filepath $fileInfo.FullName -Encoding $encoding 
```

感谢您的帮助杰米

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-09T10:43:42.410

@Keith Hill 为此制作了一个 cmdlet，`ConvertTo-UnixLineEnding`您可以在 [Powershell 社区扩展中找到它](http://pscx.codeplex.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-03-27T04:37:48.720

我意识到这是一个非常古老的问题，但是当我遇到类似的问题并认为我会分享对我有用的东西时，我偶然发现了它。这可能会在未来帮助其他编码人员，而无需第三方 cmdlet。

读取 Unix 格式文件时，即使用 LF 行终止符，而不是 CRLF Windows 样式行终止符，只需在**Get-Content**命令中的文件名后使用**-Raw**参数，然后以**STRING**编码类型输出，尽管 UTF8 编码可能有相同的结果 STRING 符合我的要求。

 ****我遇到问题的特定命令是读取模板文件，替换一些变量然后输出到新文件。原始模板是 Unix 样式，但输出是 Windows 样式，直到添加 -Raw 参数，如下所示。请注意，这是我使用的从批处理文件调用的 powershell 命令，因此它的格式。

```
powershell -Command "get-content master.template -Raw | %%{$_ -replace \"@MASTERIP@\",\"%MASTERIP%\"} | %%{$_ -replace \"@SLAVEIP@\",\"%SLAVEIP%\"} | set-content %MYFILENAME%-%MASTERIP%.cfg -Encoding STRING" 
```

我使用 Notepad++ 来检查结果文件的格式，这在我的案例中起到了作用。****

# javascript - Javascript 加密

> ID：14232958
> 
> 赞同：2
> 
> 时间：2013-01-09T10:19:34.333
> 
> 标签：javascript, html, security, encryption

我需要一个简单的 javascript 函数，允许我使用密钥加密 textarea 数据（密钥是存储为散列会话变量的用户密码，由 PHP 打印到字段中）

我本质上希望在用户单击表单中的按钮时对 textarea 数据进行加密。

编辑：显然似乎有些模棱两可。我不想拦截该数据的人是 MITM。基本上，javascript 函数用于在数据发送之前对其进行加密。这是一个源模型

```
function encrypt()
 {
   var key = <?php echo $_SESSION[password]; ?>;
   encrypts(getElementbyID['content'].value, key)
 } 
```

然后在服务器端

```
function decrypt()
{
   $key = $_SESSION[password];
   decrypts($_POST[data], key);
 } 
```

我只需要一个加密+解密算法谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-09T12:57:36.397

根据您的操作，使用**HTTPS**可能会更好。

如果无法使用 HTTPS，则需要非对称加密来确保安全。看看[jscryptolib](http://code.google.com/p/jscryptolib/)。它支持像 RSA 这样的公钥加密。您需要将公钥发送到客户端，加密消息并使用服务器上的私钥对其进行解码。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-09T10:25:16.913

你为什么想这么做？

如果您需要保护用户的输入，**请使用 HTTPS 作为传输机制。**

浏览器上的脚本加密很容易被操纵和拦截。也许如果您使用公钥算法并且只在您所说的隐藏字段中传输公钥，您可以防止窥探阅读内容，但即使这样，第三方也很容易在不被发现的情况下修改您的 HTTP 流量的内容.

弱安全根本就没有安全。

# c# - 从 Windows 窗体应用程序向 EXE 传递多个参数

> ID：14232960
> 
> 赞同：1
> 
> 时间：2013-01-09T10:19:35.470
> 
> 标签：c#, winforms, process, inputstream, windows-applications

我有一个 app.exe 应用程序要求输入**输入路径**字符串，一旦我输入，它就会要求**输出路径**字符串......现在当我输入时，app.exe 执行一些操作

我需要从我的窗口窗体应用程序中传递这些路径我看到了很多这样的问题，但无法实现我所需要的，因为我从未使用过流程和 Stream Reader 或 Writer 请提供任何帮助......示例将不胜感激......谢谢你..

```
 string input = @"C:\Documents and Settings\pankaj\Desktop\My File\greetingsfreinds.ppt";
        string output = @"C:\Documents and Settings\pankaj\Desktop\test";
        Process process = new Process();
        process.StartInfo.FileName = @"C:\Program Files\Wondershare\MyApp\app.exe";
        process.StartInfo.UseShellExecute = false;
        process.StartInfo.CreateNoWindow = false;
        process.StartInfo.RedirectStandardInput = true;
        process.Start();
        process.WaitForExit(3000);
        process.Close(); 
```

* * *

好的，我试过了，但是它给出了一些异常 **StandardOut 没有被重定向或者进程​​还没有开始**......我的代码是

```
 string input = @"C:\Documents and Settings\pankaj\Desktop\My File\greetingsfreinds.ppt";
        string output = @"C:\Documents and Settings\pankaj\Desktop\test";
        Process process = new Process();
        process.StartInfo.FileName = @"C:\Program Files\Wondershare\MyApp\app.exe";
        process.StartInfo.UseShellExecute = false;
        process.StartInfo.CreateNoWindow = false;
        process.StartInfo.RedirectStandardInput = true;
        process.StartInfo.Arguments = input + ";" + output;
        process.Start();
        string Strout = process.StandardOutput.ReadToEnd();
        process.WaitForExit();
        process.Close(); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-09T10:20:45.993

您可以为此使用[ProcessStartInfo.Arguments 。](http://msdn.microsoft.com/en-us/library/system.diagnostics.processstartinfo.arguments.aspx)

```
 Process process = new Process()
    process.StartInfo.FileName = @"C:\Program Files\Wondershare\MyApp\app.exe";
    process.StartInfo.UseShellExecute = false;
    ....
    process.Arguments = input + " " + output; 
```

# android - Android：按钮 OnClickListener 不起作用

> ID：14232961
> 
> 赞同：8
> 
> 时间：2013-01-09T10:19:40.063
> 
> 标签：android, onclick, switch-statement, listener, case

我创建了这个活动，一旦按下按钮，我就可以打开一个新活动。

但是 OnClickListener 似乎没有工作。

我是否声明按钮错误？

有人可以出去吗？

```
public class Menu extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.menu);

    View loginbutton = findViewById(R.id.butlogin);
    loginbutton.setOnClickListener(this);

    View recordbutton = findViewById(R.id.butrecordts);
    recordbutton.setOnClickListener(this);

    View viewbutton = findViewById(R.id.butviewts);
    viewbutton.setOnClickListener(this);

    View projectsbutton = findViewById(R.id.butprojects);
    projectsbutton.setOnClickListener(this);

}

public void onClick(View v){

    switch(v.getId())
    {
    case R.id.butlogin:
    {
        //open login screen
        Intent i = new Intent(this, login.class);
        startActivity(i);
        break;
    }
    case R.id.butrecordts:
    {
        break;
    }
    case R.id.butviewts:
    {
        break;
    }
    case R.id.butprojects:
    {
        break;
    }

    }
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-09T10:22:16.060

是的，问题出在按钮的声明中，写下面的代码而不是你的代码，它会解决你的问题。

```
public class Menu extends Activity implements OnClickListener{

    Button loginbutton, recordbutton, viewbutton, projectsbutton;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.menu);

        loginbutton = (Button) findViewById(R.id.butlogin);
        loginbutton.setOnClickListener(this);

        recordbutton = (Button) findViewById(R.id.butrecordts);
        recordbutton.setOnClickListener(this);

        viewbutton = (Button) findViewById(R.id.butviewts);
        viewbutton.setOnClickListener(this);

        projectsbutton = (Button) findViewById(R.id.butprojects);
        projectsbutton.setOnClickListener(this);

    }

    public void onClick(View v){

        switch(v.getId())
        {
            case R.id.butlogin:
            {
                //open login screen
                Intent i = new Intent(this, login.class);
                startActivity(i);
                break;
            }
            case R.id.butrecordts:
            {
                break;
            }
            case R.id.butviewts:
            {
                break;
            }
            case R.id.butprojects:
            {
                break;
            }

        }
    }
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-09T10:21:42.920

您忘记`onClickListener`在您的活动中实施。

实施它然后尝试:)

```
public class Menu extends Activity implements onClickListener 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T10:24:15.953

您刚刚忘记`onClickListener`在您的活动中实施：

> public class Menu extends Activity implements OnClickListener { <----查看这一行 .................... }

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T10:24:31.603

尝试更改此行

```
 View loginbutton = findViewById(R.id.butlogin); 
```

到

```
 Button  loginbutton = (Button)findViewById(R.id.butlogin); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-09T10:26:06.130

```
 View.OnClickListener myhandler1 = new View.OnClickListener() {
    public void onClick(View v) {
     // the 1st button
     }
    }
    View.OnClickListener myhandler2 = new View.OnClickListener() {
    public void onClick(View v) {
     //the 2nd button
     } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-09T10:27:45.677

你必须像这样声明你的按钮：

```
Button loginbutton = (Button)findViewById(R.id.butlogin);
    loginbutton.setOnClickListener(this);

    Button recordbutton = (Button)findViewById(R.id.butrecordts);
    recordbutton.setOnClickListener(this);

    Button viewbutton = (Button)findViewById(R.id.butviewts);
    viewbutton.setOnClickListener(this);

    Button projectsbutton = (Button)findViewById(R.id.butprojects);
    projectsbutton.setOnClickListener(this); 
```

# activemq - mule3 sftp：输入端点编码

> ID：14232963
> 
> 赞同：1
> 
> 时间：2013-01-09T10:19:56.557
> 
> 标签：activemq, mule

我想知道，是否可以强制骡子“转换”它正在读取的文件的编码？假设该文件放在某个 sftp 区域，然后由以下人员读取：

```
<sftp:inbound-endpoint connector-ref= .... encoding="Cp1252"> 
```

这真的行不通...

如果 sftp 区域上的文件是“UTF8 without BOM”（ANSI 为 UTF-8），是否可以将其转换为读取文件的普通旧 ANSI 编码？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T17:33:07.920

Mule 不会为您执行此转换。

a 接收到的消息的有效负载`sftp:inbound-endpoint`是 a `java.io.InputStream`，因此您可以创建一个自定义转换器来读取此流，执行编码转换并输出另一个输入流或字节数组。

# angularjs - angularjs - $route.parent 发生了什么

> ID：14232965
> 
> 赞同：0
> 
> 时间：2013-01-09T10:20:01.523
> 
> 标签：angularjs

试图模仿这个小提琴[http://jsfiddle.net/W2C45/6/](http://jsfiddle.net/W2C45/6/)

但是当我打电话时

```
$route.parent(this); 
```

我收到错误

TypeError: Object # has no method 'parent'

我认为这是因为小提琴使用的是 0.9.. 而我使用的是 1.3.0。

0.9 doco 以这种方式描述了 $route 的父方法......

```
 * Sets a scope to be used as the parent scope for scopes created on route change. If not
     * set, defaults to the root scope. 
```

完成这项工作的“1.3”方式是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T12:38:51.403

实际上范围是“原型”继承的。这意味着所有作用域都会自动继承它们所在作用域的所有属性。

那么你能描述一下你想要得到什么功能吗？

这是[Plnkr 的来源](http://plnkr.co/edit/V7Vm5YIEZ8scoLbxJIc4?p=preview)，您的 Fiddle 在 1.0.3 中重写

# dojo - 如何使用 dojox.grid.DataGrid (Dojo 1.8) 显示来自 REST 服务的 JSON 数据？

> ID：14232966
> 
> 赞同：2
> 
> 时间：2013-01-09T10:20:01.933
> 
> 标签：dojo, dojox.grid.datagrid, dijit.tree

我有休息服务，它在下面产生 JSON 数据：

```
{
"root": {
    "branches": [
        {
            "branch_addr": "string",
            "branch_telp": "string",
            "branch_loc": "string",
            "branch_dept_it": {
                "branch_dept_it_employees": {
                    "properties": [
                        {
                            "content": "string",
                            "attr": "emp_id"
                        },
                        {
                            "content": "string",
                            "attr": "emp_name"
                        },
                        {
                            "content": "string",
                            "attr": "emp_pos"
                        }
                    ],
                    "branch_dept_it_code": "string"
                }
            },
            "branch_dept_finance": {
                "branch_dept_finance_employees": {
                    "properties": [
                        {
                            "content": "string",
                            "attr": "emp_id"
                        },
                        {
                            "content": "string",
                            "attr": "emp_name"
                        },
                        {
                            "content": "string",
                            "attr": "emp_pos"
                        }
                    ],
                    "branch_dept_finance_code": "string"
                }
            },
            "branch_name": "Mars",
            "branch_id": "MarsID"
        },
        {
            "branch_addr": "string",
            "branch_telp": "string",
            "branch_loc": "string",
            "branch_dept_it": {
                "branch_dept_it_employees": {
                    "properties": [
                        {
                            "content": "string",
                            "attr": "emp_id"
                        },
                        {
                            "content": "string",
                            "attr": "emp_name"
                        },
                        {
                            "content": "string",
                            "attr": "emp_pos"
                        }
                    ],
                    "branch_dept_it_code": "string"
                }
            },
            "branch_dept_finance": {
                "branch_dept_finance_employees": {
                    "properties": [
                        {
                            "content": "string",
                            "attr": "emp_id"
                        },
                        {
                            "content": "string",
                            "attr": "emp_name"
                        },
                        {
                            "content": "string",
                            "attr": "emp_pos"
                        }
                    ],
                    "branch_dept_finance_code": "string"
                }
            },
            "branch_name": "VENUS",
            "branch_id": "venusID"
        },
        {
            "branch_addr": "string",
            "branch_telp": "string",
            "branch_loc": "string",
            "branch_dept_it": {
                "branch_dept_it_employees": {
                    "properties": [
                        {
                            "content": "string",
                            "attr": "emp_id"
                        },
                        {
                            "content": "string",
                            "attr": "emp_name"
                        },
                        {
                            "content": "string",
                            "attr": "emp_pos"
                        }
                    ],
                    "branch_dept_it_code": "string"
                }
            },
            "branch_dept_finance": {
                "branch_dept_finance_employees": {
                    "properties": [
                        {
                            "content": "string",
                            "attr": "emp_id"
                        },
                        {
                            "content": "string",
                            "attr": "emp_name"
                        },
                        {
                            "content": "string",
                            "attr": "emp_pos"
                        }
                    ],
                    "branch_dept_finance_code": "string"
                }
            },
            "branch_name": "Mercury",
            "branch_id": "mercuryID"
        }
    ],
    "regions": {
        "region_data": {
            "properties": [
                {
                    "content": "string",
                    "attr": "reg_id"
                },
                {
                    "content": "string",
                    "attr": "reg_name"
                },
                {
                    "content": "string",
                    "attr": "reg_loc"
                }
            ],
            "region_name": "Galaxy"
        }
    },
    "other": {
        "other_data": {
            "properties": [
                {
                    "content": "string",
                    "attr": "reg_id"
                },
                {
                    "content": "string",
                    "attr": "reg_name"
                },
                {
                    "content": "string",
                    "attr": "reg_loc"
                }
            ],
            "region_name": "Galaxy"
        }
    }
},
"tree": {
    "tree_var1": "string",
    "tree-var2": "string",
    "tree-var3": "string"
}
} 
```

当我检查控制台浏览器时，RESTful 服务已经通过 JsonRestStore 中定义的特定查询正确获取。

如何在 dojox.grid.DataGrid / dijit.tree (Dojo 1.8) 中根据上述格式显示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-11T20:59:48.190

它并不完美，但它可以工作（经过测试）：

```
// your data
var data = {"root":{"branches":[{"branch_addr":"string","branch_telp":"string","branch_loc":"string","branch_dept_it":{"branch_dept_it_employees":{"properties":[{"content":"string","attr":"emp_id"},{"content":"string","attr":"emp_name"},{"content":"string","attr":"emp_pos"}],"branch_dept_it_code":"string"}},"branch_dept_finance":{"branch_dept_finance_employees":{"properties":[{"content":"string","attr":"emp_id"},{"content":"string","attr":"emp_name"},{"content":"string","attr":"emp_pos"}],"branch_dept_finance_code":"string"}},"branch_name":"Mars","branch_id":"MarsID"},{"branch_addr":"string","branch_telp":"string","branch_loc":"string","branch_dept_it":{"branch_dept_it_employees":{"properties":[{"content":"string","attr":"emp_id"},{"content":"string","attr":"emp_name"},{"content":"string","attr":"emp_pos"}],"branch_dept_it_code":"string"}},"branch_dept_finance":{"branch_dept_finance_employees":{"properties":[{"content":"string","attr":"emp_id"},{"content":"string","attr":"emp_name"},{"content":"string","attr":"emp_pos"}],"branch_dept_finance_code":"string"}},"branch_name":"VENUS","branch_id":"venusID"},{"branch_addr":"string","branch_telp":"string","branch_loc":"string","branch_dept_it":{"branch_dept_it_employees":{"properties":[{"content":"string","attr":"emp_id"},{"content":"string","attr":"emp_name"},{"content":"string","attr":"emp_pos"}],"branch_dept_it_code":"string"}},"branch_dept_finance":{"branch_dept_finance_employees":{"properties":[{"content":"string","attr":"emp_id"},{"content":"string","attr":"emp_name"},{"content":"string","attr":"emp_pos"}],"branch_dept_finance_code":"string"}},"branch_name":"Mercury","branch_id":"mercuryID"}],"regions":{"region_data":{"properties":[{"content":"string","attr":"reg_id"},{"content":"string","attr":"reg_name"},{"content":"string","attr":"reg_loc"}],"region_name":"Galaxy"}},"other":{"other_data":{"properties":[{"content":"string","attr":"reg_id"},{"content":"string","attr":"reg_name"},{"content":"string","attr":"reg_loc"}],"region_name":"Galaxy"}}},"tree":{"tree_var1":"string","tree-var2":"string","tree-var3":"string"}};

// generate unique IDs
function generateUuid() {
	return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
		var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);
		return v.toString(16);
	});
}

// generically transforms JS object to array with hierarcy
function ObjectToTreeArr(obj, rootName) {
	var arr = [];

	function processObject(obj, parentId) {
		for (fieldName in obj) {
			var treeElement = {
				id: generateUuid(),
			};

			if  (parentId) {
				treeElement.parent = parentId;
			} else {

			}

			var fieldVal = obj[fieldName];

			if (typeof fieldVal  === 'object') {
				treeElement.name = fieldName;
				processObject(fieldVal, treeElement.id);

				//if (fieldVal instanceof Array) {// Array
				//	
				//} else {// Object
				//
				//}
			} else {
				treeElement.name = fieldName+": "+fieldVal;
			}
			arr.push(treeElement);
		}

	}

	var namedObj = {};
	namedObj[rootName] = obj;

	processObject(namedObj, null);

	return arr;
}

// transform data object into array form
var newData = ObjectToTreeArr(data, "dummyRoot");

require([
    "dojo/_base/window", "dojo/store/Memory",
    "dijit/tree/ObjectStoreModel", "dijit/Tree",
    "dojo/domReady!"
], function(win, Memory, ObjectStoreModel, Tree){

    // Create  store
    var myStore = new Memory({
        data: newData,
        getChildren: function(object){
            return this.query({parent: object.id});
        }
    });

    // Create the model
    var myModel = new ObjectStoreModel({
        store: myStore,
        query: {name: "dummyRoot"}
    });

    // Create the Tree.
    var tree = new Tree({
		showRoot: false,
        model: myModel
    });
    tree.placeAt(win.body());
    tree.startup();
});
```

```
<html>

<head>

<script src="http://ajax.googleapis.com/ajax/libs/dojo/1.10.1/dojo/dojo.js"
            data-dojo-config="async: true"></script>

<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.10.1/dijit/themes/claro/claro.css">
</head>
<body class="claro">

</body>
</html>
```

# css - 页面顶部的空白 - 仅限 Firefox - 仅限 1 页

> ID：14232971
> 
> 赞同：2
> 
> 时间：2013-01-09T10:20:10.293
> 
> 标签：css, html, firefox

仅在 Firefox 中，我的页面顶部有一个很大的空白。奇怪的是网站的其他页面的行为与预期一样。我检查了所有元素并比较了代码，但没有发现任何问题。

该网页是[http://www.veema.co.uk](http://www.veema.co.uk)

我发现了另一个有点相似的主题： [页面顶部的空白（Firefox 特定）](https://stackoverflow.com/questions/10747517/white-space-on-top-of-page-firefox-specific) ，但没有为我的问题找到任何答案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T10:26:59.853

请添加这个 css 属性，它很容易解决或者请使用 clearfix [http://www.webtoolkit.info/css-clearfix.html](http://www.webtoolkit.info/css-clearfix.html)

```
.container {
    overflow: auto;
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-09T10:31:01.077

空间是因为`margin-top: 60px;`样式表**css/style.css**在第 29 行。

# reactiveui - 无法加载文件或程序集'system.core version=2.0.5.0

> ID：14232972
> 
> 赞同：13
> 
> 时间：2013-01-09T10:20:18.217
> 
> 标签：reactiveui

我试图在使用 Prism的**WPF应用程序中使用**[ReactiveUI 。](http://www.reactiveui.net/)**我使用NuGet**安装了这些包，但只是在**ModuleCatalog**的初始化期间添加了导致标题中指定的异常的引用。

 ********编辑：**

正如 Pierre Arnaud 指出的那样，问题是 Microsoft.Bcl.Async 无法解析 System.Core 版本 2.0.5.0。

自从我第一次发布这个问题以来，我们搬到了 Visual Studio 2012。同样的问题仍然存在，我什至无法安装 Pierre 建议的修复程序，因为我现在已经安装了 .Net 4.5。该项目仍以 .Net 4.0 为目标。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-08-12T05:24:50.790

请安装[KB2468871](http://support.microsoft.com/kb/2468871)，解决`Microsoft.Bcl.Async`无法解析`System.Core`2.0.5.0 版本的问题。

另请参阅[异步目标包知识库](http://blogs.msdn.com/b/bclteam/p/asynctargetingpackkb.aspx)中的**第 8 期**。

以下是针对 x86 和 x64 环境的修复程序的直接下载链接：

*   [http://download.microsoft.com/download/2/B/F/2BF4D7D1-E781-4EE0-9E4F-FDD44A2F8934/NDP40-KB2468871-v2-x86.exe](http://download.microsoft.com/download/2/B/F/2BF4D7D1-E781-4EE0-9E4F-FDD44A2F8934/NDP40-KB2468871-v2-x86.exe)
*   [http://download.microsoft.com/download/2/B/F/2BF4D7D1-E781-4EE0-9E4F-FDD44A2F8934/NDP40-KB2468871-v2-x64.exe](http://download.microsoft.com/download/2/B/F/2BF4D7D1-E781-4EE0-9E4F-FDD44A2F8934/NDP40-KB2468871-v2-x64.exe)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T18:30:37.853

这不会发生在我身上。NuGet 是否有可能添加了 SL5 DLL 作为对您项目的引用？******

# gnuplot - Gnuplot：绘制残差

> ID：14232973
> 
> 赞同：2
> 
> 时间：2013-01-09T10:20:33.023
> 
> 标签：gnuplot

我正在尝试绘制最小二乘法的可视化。最后它应该是这样的： ![剩余的](../Images/454180e92db203bff05ebad16c53b9e4.png)

现在我有数据点和拟合曲线（在我的例子中是一条直线，称为 f(x)）。我缺少的是残差（在链接中，残差是绿线）。含义：我想从每个数据点开始画线，垂直于拟合线。

我的 data.txt 看起来像这样（缩写）

```
1, 3
2, 4
3, 6
4, 3 
```

我的 gnuplot 命令是：

```
f(x) = a*x +b  + 1e-9
fit f(x) 'data.txt' u 1:2  via a, b
plot 'data.txt' with points title 'data',  f(x) 
```

到目前为止，我只设法将残差作为脉冲使用

```
plot 'data.txt' with points title 'data',  '' using 1:($2 - f($1)) w impulse, f(x) 
```

但就像那样，从 y=0 开始，向上向下，它们不在拟合线 f(x) 和数据点之间。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T12:30:37.497

我想你在这里寻找`errorbars`：

```
 plot 'data.txt' with points title 'data',\
      f(x) notitle,\
      'data.txt' u ($1):(f($1)):(f($1)):2 w yerrorbars title 'residuals' 
```

还有`errorlines`你可以使用基本相同的样式：

```
 plot 'data.txt' with points title 'data',\
      'data.txt' u ($1):(f($1)):(f($1)):2 w yerrorlines title 'residuals' 
```

但在这种情况下，线 ( `f(x)`) 的绘制方式与绘制残差的方式相同。

# ios - 如何在ios应用程序编码中获取图像大小

> ID：14232978
> 
> 赞同：1
> 
> 时间：2013-01-09T10:20:38.480
> 
> 标签：ios, objective-c, uiimage, nsdate

我从 imageGallery 中检索了一张图片。现在我想知道图像的文件大小，以 KB 为单位。我该怎么做呢？请指导我。有可能找到吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-09T10:23:14.783

是的，你可以得到尺寸。试试下面的代码：

```
NSData *imgData = [[NSData alloc] initWithData:UIImageJPEGRepresentation((image), 0.5)];
int imageSize   = imgData.length;
NSLog(@"size of image in KB: %f ", imageSize/1024.0); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T10:27:26.037

```
 BOOL isPNG = [[yourImgPath lowercaseString] isEqualToString:@"png"];

    NSData *imageData = isPNG ?
    UIImagePNGRepresentation(img) :
    UIImageJPEGRepresentation(img, 0);

    int imageSize   = imageData.length;
    NSLog(@"size of image in KB: %f ", imageSize/1024.0); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T10:34:21.070

试试这个：

```
NSString *imagePath=[[NSBundle mainBundle]pathForResource:@"images" ofType:@"jpeg"];
UIImage *image=[[UIImage alloc]initWithContentsOfFile:imagePath];

NSError *error;
NSDictionary *fileAttributes = [[NSFileManager defaultManager] attributesOfItemAtPath:imagePath error:&error];
NSNumber *fileSizeNumber = [fileAttributes objectForKey:NSFileSize];
long long fileSize = [fileSizeNumber longLongValue];
NSLog(@"size of image is : %fKB ", fileSize/1024.0); 
```

# c# - 在选项卡的 PreviewMouseDown 事件上添加 MessageBox 后，选项卡不导航

> ID：14232987
> 
> 赞同：0
> 
> 时间：2013-01-09T10:21:14.907
> 
> 标签：c#, wpf, messagebox

我有一个带有两个选项卡（A，B）的 WPF 选项卡控件。`Clicked`由于TabItem 上没有事件，因此我`previewMouseDown`在 Tab B 上添加了一个事件，并且`messageBox`会显示一个事件。但是，在我关闭消息框后，我的应用程序将无法导航到选项卡 B。任何人都可以帮助我吗？

C# 代码片段：

```
 private void MyTabB_PreviewMouseDown(object sender, MouseButtonEventArgs e)
    {
        MessageBox.Show("Please login");
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T11:08:04.250

您可以使用 TabControlSelectionChanged 事件。

由于您知道登录的选定选项卡说索引 0，因此在 MessageBox 之后更改选定选项卡，即类似这样

```
MyTabB_SelectionChanged(object sender, SelectionChangedEventArgs e)
{
     TabControl tc= ((TabControl)sender;
     if(tc.SelectedIndex == tc.Items.IndexOf(A/*Login tab*/))
      {
         MessageBox.Show("Login")
         tc.SelectedIndex = tc.Items.IndexOf(B);
      }
} 
```

这意味着每当您选择 A 时，您都会弹出 MessageBox，然后您登录。

或者，为什么不在 A 中放置带有 ClickedEvent 的按钮或任何控件，然后在单击时更改 tc.SelectedIndex。

# c - 比较C中的两个字符串？

> ID：14232990
> 
> 赞同：31
> 
> 时间：2013-01-09T10:21:31.503
> 
> 标签：c, string, comparison

此代码不起作用，因为没有进行比较。为什么？

所有名字都过去了`if`。

```
printf("Enter Product: \n");
scanf("%s", &nameIt2);
printf("Enter Description: \n");
scanf("%s", &descriptionI);
printf("Enter Quantity: \n");
scanf("%d", &qtyI);
printf("Enter Order Quantity: \n");
scanf("%s", &ordqtyI);

while (fscanf(fp4, "%s %s %d %s\n", &namet2, &description2, &qty2, &ordqty2) != EOF){
    if(namet2 != nameIt2)
        fprintf(fpt2, "%s %s %d %s\n", &namet2, &description2, qty2, &ordqty2);
} 
```

* * *

## 回答 #1

> 赞同：68
> 
> 时间：2013-01-09T10:23:19.330

要比较两个 C 字符串 ( `char *`)，请使用[`strcmp()`](http://linux.die.net/man/3/strcmp). 该函数`0`在字符串相等时返回，因此您需要在代码中使用它：

```
if (strcmp(namet2, nameIt2) != 0) 
```

如果您（错误地）使用

```
if (namet2 != nameIt2) 
```

您正在比较两个字符串的指针（地址），当您有两个不同的指针时它们是不相等的（在您的情况下总是如此）。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2014-08-11T18:08:30.090

`strcmp()`要比较 2 个字符串，请使用使用头文件的内置函数`string.h`

```
if(strcmp(a,b)==0)
    printf("Entered strings are equal");
else
    printf("Entered strings are not equal"); 
```

或者您可以像这样编写自己的函数：

```
int string_compare(char str1[], char str2[])
{
    int ctr=0;

    while(str1[ctr]==str2[ctr])
    {
        if(str1[ctr]=='\0'||str2[ctr]=='\0')
            break;
        ctr++;
    }
    if(str1[ctr]=='\0' && str2[ctr]=='\0')
        return 0;
    else
        return -1;
} 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-01-09T10:23:15.180

您当前正在比较两个字符串的地址。

使用[strcmp](http://linux.die.net/man/3/strcmp)比较两个 char 数组的值

```
 if (strcmp(namet2, nameIt2) != 0) 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-01-09T10:24:39.977

您尝试在这里比较指针，而不是指向的内容（即您的角色）。

您必须使用`memcmp`或`str{,n}cmp`来比较内容。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-01-09T11:27:16.833

数组的名称表示起始地址。`namet2`两者的起始地址`nameIt2`不同。所以等于 ( `==`) 运算符检查地址是否相同。对于比较两个字符串，更好的方法是使用`strcmp()`，或者我们可以使用循环逐字符比较。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-01-09T10:24:06.127

您需要使用`strcmp`：

```
strcmp(namet2, nameIt2) 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-12-28T17:23:57.047

要回答您问题中的 WHY：

因为相等运算符只能应用于简单的变量类型，例如`float`s、`int`s 或`char`s，而**不能**应用于更复杂的类型，例如**结构或数组**。要确定两个字符串是否相等，您必须逐个字符显式地比较两个字符串。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-08-02T19:00:09.567

```
if(strcmp(sr1,str2)) // this returns 0 if strings r equal 
    flag=0;
else flag=1; // then last check the variable flag value and print the message 

                         OR

char str1[20],str2[20];
printf("enter first str > ");
gets(str1);
printf("enter second str > ");
gets(str2);

for(int i=0;str1[i]!='\0';i++)
{
    if(str[i]==str2[i])
         flag=0;
    else {flag=1; break;}
}

 //check the value of flag if it is 0 then strings r equal simple :) 
```

# matlab - 图像骨架公式

> ID：14232991
> 
> 赞同：0
> 
> 时间：2013-01-09T10:21:32.220
> 
> 标签：matlab, image-processing

为了得到图像的骨架，我找到了这个公式，

```
 Sk(X) = [(X ⊖ kB)] − [(X ⊖ kB) ◦ B] 
```

我在这里不明白的是公式中的 - 符号。例如，如果我使用 Matlab，并且图像变成了矩阵，我是否应该理解我必须执行矩阵 - 矩阵 ...？非常感谢你。

编辑：符号：⊖表示侵蚀◦表示侵蚀然后扩张k表示侵蚀次数

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T14:13:14.177

当你处理数字时，`a - b`意味着减法。当您处理集合时，`A - B`也意味着减法，它的另一种表示是`A \ B`（集合差异）。如果您的集合`A`由`{x1, x2, x3, x4}`和表示`B = {x3, x4}`，则`A - B = {x1, x2}`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T14:36:20.163

是的，它确实意味着`matrix - matrix`。这是标准的 [矩阵减法](http://en.wikipedia.org/wiki/Matrix_addition)。在 Matlab 中，如果您有矩阵`A`和`B`，则矩阵减法很简单`A - B`。

# wpf - 如何根据 targetTypes 修改旧的命名样式以具有不同的设置器？

> ID：14232994
> 
> 赞同：1
> 
> 时间：2013-01-09T10:21:40.197
> 
> 标签：wpf, xaml, styles

我有这个命名风格

```
<Style x:Key="validationSupport" TargetType="{x:Type Control}">
    <Setter Property="Margin" Value="5,2,14,2" />
    ...OMISSIS...
    <Style.Triggers>
        ...OMISSIS...
        <DataTrigger Binding="{Binding DataContext.ActiveWorkspace.Editable, RelativeSource={RelativeSource  AncestorType=Window}}" Value="False">
            <Setter Property="IsEnabled" Value="False" />
        </DataTrigger>
    </Style.Triggers>

</Style> 
```

我将它广泛用于 TextBoxes、ComboBoxes、DatePickers 等，因此我将所有这些元素的超类 Control 用作 TargetType。

现在我想使用“Control”没有的特定属性来区分 dataTrigger 内的设置器。似乎我必须创建具有不同名称的不同样式，每个样式用于我想要区分的每个 targetType，但这样我必须更改使用它的所有元素中的样式名称。有没有更聪明的方法来实现这个目标？我不想去修改我拥有的每个 xaml 文件。

第一次回答后更新

我试图将以下设置器放入数据触发器中：

```
<Setter Property="Background" Value="#FFECECF8" />
<Setter Property="CheckBox.IsEnabled" Value="False" />
<Setter Property="DatePicker.IsEnabled" Value="False" />
<Setter Property="ComboBox.IsEnabled" Value="False" />
<Setter Property="TextBox.IsReadOnly" Value="True" /> 
```

不幸的是，测试给出了奇怪的结果。尽管前缀应将其应用程序限制为 CheckBoxes、DatePickers 和 ComboBoxes，但也为 TextBoxes 设置了**IsEnabled属性。**

我的最终需要是使某些控件内容不可更改，避免与禁用控件相关的难以阅读的颜色。从以前的研究中，我了解到更改“禁用”控件的颜色并不是一件容易的事，并且涉及到控件模板的重新定义。所以我想应用 IsReadOnly 和 Background 的组合，但它不适用于上述问题。事实上，CheckBoxes、DatePickers 和 ComboBoxes 只能使用**IsEnabled**属性使其不可更改。我错过了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T21:11:38.043

有办法，但我必须警告你——**这远非最佳实践，应该避免**

WPF 允许您使用所需的类型作为属性的前缀。这样，如果您将样式应用于不从前缀类型继承的控件 - 设置器将被忽略。

```
<Style x:Key="validationSupport" TargetType="{x:Type Control}">
    <Setter Property="Margin" Value="5,2,14,2" />
    ...OMISSIS...
    <Style.Triggers>
        ...OMISSIS...
        <DataTrigger Binding="{Binding DataContext.ActiveWorkspace.Editable, RelativeSource={RelativeSource  AncestorType=Window}}" Value="False">
            <Setter Property="IsEnabled" Value="False" />
            <Setter Property="Button.Background" Value="Red" />
        </DataTrigger>
    </Style.Triggers>
</Style> 
```

[对此进行广泛测试，因为我怀疑它可能会造成内存泄漏。]

# jquery - 打开fancybox的链接在ios中不起作用

> ID：14232999
> 
> 赞同：0
> 
> 时间：2013-01-09T10:21:59.603
> 
> 标签：jquery, ios, fancybox, fancybox-2

我在 ipad 和 iphone 上使用 fancybox 时遇到问题。应该打开灯箱的链接有时没有响应。链接 css 已重置，灯箱未显示。在桌面浏览器上它工作正常。

我认为这与屏幕大小、ios 设备上的缩放级别以及fancybox 如何确定盒子的大小和位置有关。我注意到，如果我重新加载页面，链接有时会起作用。放大后链接不再起作用。

我没有选择，任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T22:23:42.087

这既不是 iOS 问题，也不是花式问题。

除了您的验证问题，例如

```
Mismatch between Public and System identifiers in the DOCTYPE declaration 
```

...因为你有：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
```

......当你应该有：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
```

...（如果您能看到不同之处）您的[http://creator.nl/script/javascript.js](http://creactor.nl/script/javascript.js)文件中还有一些使 fancybox 与 iOS 发生冲突的行：

```
var myLinks = document.getElementsByTagName('a');
for(var i = 0; i < myLinks.length; i++){
   myLinks[i].addEventListener('touchstart', function(){this.className = "hover";}, false);
   myLinks[i].addEventListener('touchend', function(){this.className = "";}, false);
} 
```

我不是 iOS 专家，所以我不能告诉你如何重写这些行，但如果你隔离它们，那么 fancybox 就可以正常工作。

我对您的网站做了一个小清理，包括设置正确的 DOCTYPE 和重新组织脚本顺序，并注释掉上面的那些行，fancybox 工作正常（在我的 iPad 中）。

检查**[JSFIDDLE](http://jsfiddle.net/LG8hu/show/lite/)**