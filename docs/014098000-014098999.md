# StackOverflow 问答 14098000-14098999

# php - 如何使用 php sdk 检索 facebook 收件箱

> ID：14098005
> 
> 赞同：2
> 
> 时间：2012-12-31T05:54:58.647
> 
> 标签：php, facebook

好的，事情就是这样，我整天都在搜索facebook文档和谷歌搜索，但没有任何功能结果。

我的目标是创建一个应用程序，让我可以检索和发送 facebook 消息，就像 facebook messenger 应用程序一样，我已经在 heroku 中托管了我的半功能代码，并且能够请求从登录到的用户那里读取数据的权限应用程序。

我可以使用 facebook php sdk 和以下代码行检索登录用户的一些信息（在这种情况下是我自己的帐户）：

```
//the facebook object is created
$facebook = new Facebook(array(
'appId'  => AppInfo::appID(),
 'secret' => AppInfo::appSecret(),
 'sharedSession' => true,
 'trustForwarded' => true,
 ));

 $user_id = $facebook->getUser();
 if ($user_id) {
 try {
   // Fetch the viewer's basic information
    $basic = $facebook->api('/me');
 } catch (FacebookApiException $e) {
     // If the call fails we check if we still have a user. The user will be
     // cleared if the error is because of an invalid accesstoken
if (!$facebook->getUser()) {
  header('Location: '. AppInfo::getUrl($_SERVER['REQUEST_URI']));
  exit();
     }
  }

   // This fetches some things that you like . 'limit=*" only returns * values.
  // To see the format of the data you are retrieving, use the "Graph API
   // Explorer" which is at https://developers.facebook.com/tools/explorer/
   $likes = idx($facebook->api('/me/likes?limit=4'), 'data', array());

  // This fetches 4 of your friends.
   $friends = idx($facebook->api('/me/friends?limit=4'), 'data', array());

   // And this returns 16 of your photos.
   $photos = idx($facebook->api('/me/photos?limit=16'), 'data', array()); 
```

直到这里我有三个数组“喜欢”“朋友”和“照片”，我可以通过将它们放在一个 foreach 循环中并使用 idx() 方法（我不确定它的功能是什么）来轻松地回显它们像这样：

```
 <section id="samples" class="clearfix">
  <h1>Examples of the Facebook Graph API</h1>

  <div class="list">
    <h3>A few of your friends</h3>
    <ul class="friends">
      <?php
        foreach ($friends as $friend) {
          // Extract the pieces of info we need from the requests above
          $id = idx($friend, 'id');
          $name = idx($friend, 'name');
      ?>
      <li>
        <a href="https://www.facebook.com/<?php echo he($id); ?>" target="_top">
          <img src="https://graph.facebook.com/<?php echo he($id) ?>/picture?type=square" alt="<?php echo he($name); ?>">
          <?php echo he($name); ?>
        </a>
      </li> 
```

当我尝试获取用户收件箱中的所有消息时出现问题（请注意，我确实有权获取它们），我使用以下代码来询问它们：

```
 $messages = $facebook->api('/me/inbox'); 
```

但它似乎返回了很多嵌套数组，我无法从中获取任何可用数据。我一直在尝试使用 foreach 方法，就像其他方法一样，但它唯一呼应的是每次都是“Array”。

刚才我在 $messages 对象上使用了 var_dump 方法，它显示了数组的嵌套层次结构，但是我仍然不确定如何从那里获取信息，这里有一些回显字符串：

```
array(25) { [0]=> array(6) { ["id"]=> string(13) "[idnumbersIcantshow]" ["to"]=> array(1) { ["data"]=> array(2) { [0]=> array(2) { ["name"]=> string(12) "MyName" ["id"]=> string(10) "idnumbersIcantshow" } [1]=> array(2) { ["name"]=> string(9) "TheOtherPersonName" ["id"]=> string(10) "idnumbersIcantshow" } } } ["updated_time"]=> string(24) "2012-12-31T05:35:28+0000" ["unread"]=> int(0) ["unseen"]=> bool(false) ["comments"]=> array(2) { ["data"]=> array(25) { [0]=> array(4) { ["id"]=> string(16) "idnumbersIcantshow" ["from"]=> array(2) { ["name"]=> string(9) "TheOtherPersonName" ["id"]=> string(10) "idnumbersIcantshow" } ["message"]=> string(24) "Message That Was Sent That I wont show" ["created_time"]=> string(24) "2012-10-13T04:11:24+0000" } [1]=> array(4) { ["id"]=> string(16) "idnumbersIcantshow" ["from"]=> array(2) { ["name"]=> string(9) "TheOtherPersonName" ["id"]=> string(10) "idnumbersIcantshow" } ["message"]=> string(53) "Another Message Sent which I wont show either" ["created_time"]=> string(24) "2012-10-13T04:11:41+0000" } [2]=> array(4) { ["id"]=> string(16) "idnumbersIcantshow" ["from"]=> array(2) { ["name"]=> string(12) "MyName" ["id"]=> string(10) "idnumbersIcantshow" } ["message"]=> string(45) "More private bla bla bla" ["created_time"]=> string(24) "2012-10-13T04:12:24+0000" } [3]=> array(4) { ["id"]=> string(16) .... and it keeps going with all my conversations 
```

我怎样才能把这些信息变成这样漂亮的简单变量：

```
&conversationParticipantsArray
$messagesArray
  {
   $from
   &message
  } 
```

我想主要检索该数据。这是我不太有用的 foreach 代码：

```
foreach($messages as $message)
  {
?>
  <div id="messages">

<?php echo var_dump($message);?>

  </div> 
```

希望你能帮助我，谢谢。

# android - 无法在 Ui Automator 中运行 adb 命令

> ID：14098009
> 
> 赞同：1
> 
> 时间：2012-12-31T05:55:36.103
> 
> 标签：android, adb, ui-automation

我无法在 UI Automator 中运行 adb 命令。当我使用运行 adb 命令时

```
Runtime r=Runtime.getRuntime().exec("adb devices"); 
```

我收到以下错误：

```
Error executing exec: Command:(adb services), Working Directory null, environment=null 
```

我真的需要在我的 UI Automator 中运行 adb 命令

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-19T06:42:11.170

UIAutomater 脚本在设备外壳而不是系统终端中运行。尝试修改命令以在设备外壳中执行。

# javascript - 使用 java 脚本从文本文件中读取内容

> ID：14098011
> 
> 赞同：0
> 
> 时间：2012-12-31T05:55:54.120
> 
> 标签：javascript, html, javascript-events

我正在尝试使用 javascript 读取文本文件并在 html 文件中显示内容。它的工作原理是我创建了浏览按钮来选择文本文件，但我想从固定路径文件中读取内容。在这个程序中，我不想使用文件路径，而是从路径中读取文件，例如 -D:/new文件夹/abc.text

我正在使用以下代码。

```
 <html>
 <input type="file" id="fileinput"/>
 <script type="text/javascript">
 function readSingleFile(evt) {
 var f = evt.target.files[0]; 
 if (f) {
 var r = new FileReader();
 r.onload = function(e) { 
 var contents = e.target.result;
 document.write("the contents of the file are<br>");
 document.write(contents);
  }
   r.readAsText(f);
  } else { 
   alert("Failed to load file");
  }
 }
  document.getElementById('fileinput').addEventListener('change',readSingleFile,false);
  </script>
   </html> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T05:59:06.240

> ...但我想从固定路径读取内容

你不能，不是在网络浏览器上，使用标准，并访问本地文件系统。允许浏览器读取用户专门为页面识别的文件与允许浏览器读取它想要的任何文件之间存在巨大差异。*如果不使用 ActiveX、Flash、签名*的 Java 小程序等机制（这将触发安全性），您根本无法执行后者。File API 需要一个文件`input`元素作为起点是有原因的。

# object - 如何将模型对象嵌入到另一个模型对象中

> ID：14098013
> 
> 赞同：1
> 
> 时间：2012-12-31T05:56:08.583
> 
> 标签：object, backbone.js, set, backbone-model

我正在尝试使用以下代码创建一个包含另一个模型对象的模型对象

```
//create a question object to be embedded
question = new Onethingaday.Models.Question()
question.set({id:"123456"},{text:"xxxx"},{slug:"xxxx"})

//create the main muse object which contains the question object
muse = new Onethingaday.Models.Muse()
muse.set({question:question.toJSON()}) 
```

我期望收到的缪斯模型结构如下：

![在此处输入图像描述](../Images/ded450a2f2b7a2cc8993b9e092458cd6.png)

但是，我得到的是以下结构

![在此处输入图像描述](../Images/9db7bdf5c22467a0d5e2db1eecef1ac1.png)

与预期结果相比，我似乎得到了另一层“问题：对象”。

如何设置对象以获得预期的结果？还是我需要操纵结果以删除附加层？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:49:55.700

首先，这并不像你认为的那样：

```
question.set({id:"123456"},{text:"xxxx"},{slug:"xxxx"}) 
```

设置`id`为`"123456"`，将其`{text:"xxxx"}`视为 的选项[`set`](http://backbonejs.org/#Model-set)，并忽略`{slug:"xxxx"}`。你想说这个：

```
question.set({
    id:   "123456",
    text: "xxxx",
    slug: "xxxx"
}); 
```

设置三个属性。

到了真正的问题。[默认`toJSON`](http://backbonejs.org/docs/backbone.html#section-33)是这样的：

```
return _.clone(this.attributes); 
```

所以你必须使用改变`toJSON`来包含`question`键的东西，而不是简单地返回属性对象。你可以用股票 Backbone 试试这个：

```
var M1 = Backbone.Model.extend({});
var M2 = Backbone.Model.extend({});

var m1 = new M1;
m1.set({ a: 'b', c: 'd' });

var m2 = new M2;
m2.set({ m1: m1.toJSON() });

console.log(m2.attributes); 
```

你会在控制台中看到这个：

```
m1: Object
    a: "b"
    c: "d" 
```

看不到额外的命名空间。演示：http: [//jsfiddle.net/ambiguous/9ptgq/](http://jsfiddle.net/ambiguous/9ptgq/)

因此，您或您正在使用的某些库已更改`toJSON`，您必须考虑到这一点：​</p>

```
var muse = new Onethingaday.Models.Muse()
muse.set(question.toJSON()); 
```

你可以看看有什么`console.log(question.toJSON())`要说的，以确认`toJSON`是错误的。

# wpf - UI 未更新 INotifyPropertyChanged

> ID：14098015
> 
> 赞同：2
> 
> 时间：2012-12-31T05:56:28.550
> 
> 标签：wpf, inotifypropertychanged

我有一个绑定到 ListBox 的类：

```
class FolderFM : INotifyPropertyChanged
{
    public FolderFM(string path)
    {
        this.Folder = new DirectoryInfo(path);
        this.Name = Folder.Name;
    }

    private string name;
    private DirectoryInfo folder;
    private ObservableCollection<FileInfo> matchingFiles;

    ...

    public ObservableCollection<FileInfo> MatchingFiles 
    {
        get { return matchingFiles; }
        set
        {
            matchingFiles = value;
            FireWhenPropertyChanged("MatchingFiles");
        }
    }

    public event PropertyChangedEventHandler PropertyChanged;
    protected void FireWhenPropertyChanged(string property)
    {
        PropertyChangedEventHandler handler = PropertyChanged;
        if (handler != null)
        {
            handler(property, new PropertyChangedEventArgs(property));
        }
    }
} 
```

XAML 代码：

```
<ListBox Name="lstFolders" ItemsSource="{Binding}" Style="{StaticResource FolderBoxStyle}">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition Width="25" />
                            </Grid.ColumnDefinitions>
                            <Label Content="{Binding Path=Name}" FontWeight="Bold" FontSize="13" />
                            <Button Content="{Binding Path=MatchingFiles, Converter={StaticResource lcc}}" Grid.Column="1" FontWeight="Bold" Foreground="Red" />
                        </Grid>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox> 
```

发生更新的代码隐藏：

```
private void btnAnalyze_Click(object sender, RoutedEventArgs e)
    {
        List<FileInfo> remainingFiles = files;
        foreach (FolderFM currentFolder in folders)
        {
            currentFolder.MatchingFiles = new ObservableCollection<FileInfo>();
            string folderName = currentFolder.Folder.Name;
            string[] splitName = folderName.Split(' ');
            for (int i = 0; i < remainingFiles.Count; i++)
            {
                if (remainingFiles[i] == null)
                    continue;
                FileInfo fileName = remainingFiles[i];
                string searchedName = fileName.Name;
                matchScore = 0;
                int searchCount = 0;
                foreach (string part in splitName)
                {
                    if (part.Length < 3 || part == "the")
                        continue;
                    matchScore += searchedName.Contains(part) ? 1 : 0;
                    searchCount += 1;
                }
                if (matchScore == searchCount)
                {
                    string destination = System.IO.Path.Combine(currentFolder.Folder.FullName, fileName.Name);
                    if (File.Exists(destination))
                        continue;
                    Directory.Move(fileName.FullName, destination);
                    currentFolder.MatchingFiles.Add(remainingFiles[i]);
                    //lstFolders.Items.Refresh();
                    remainingFiles[i] = null;
                }
            }
        }
        populateFiles();
    } 
```

附加的 Converter 接受 ObservableCollection 并将它的 Count 作为字符串返回。

应用程序正常工作并且值正在更新，但更改未反映在 UI 上。

但是，当我打电话时： lstFolders.Items.Refresh(); UI 得到更新。

我错过了什么/做错了什么？

我看了几个问题，例如： [WPF Binding with INotifyPropertyChanged 不更新](https://stackoverflow.com/questions/3073085/wpf-binding-with-inotifypropertychanged-does-not-update) 但无法解决这个问题。

**编辑：**

此方法正在分配 DataContext：

```
private void populateFolders()
    {
        folders = getFolders(selectedFolder.FullName);
        lstFolders.ItemsSource = folders;
    }

private List<FolderFM> getFolders(string path)
    {
        List<FolderFM> d = new List<FolderFM>();
        foreach (string folder in Directory.GetDirectories(path))
        {
            d.Add(new FolderFM(folder));
        }
        return d;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T15:47:38.027

而不是创建一个新的`ObservableCollection`，只需将其替换为`.Clear()`. 它应该可以解决问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-05T17:21:38.390

将我的评论转换为答案：

尝试直接绑定到 MatchingFiles.Count。

# android - EditText 不显示键盘

> ID：14098016
> 
> 赞同：23
> 
> 时间：2012-12-31T05:56:49.500
> 
> 标签：android, android-layout

我有一个 FragmentActivity，它在 EditText 和一个按钮上方加载一个带有 ListView 的 RelativeLayout。我似乎无法以任何方式显示键盘。当我触摸它或将焦点放在它上面时，什么也没有发生。当我自动请求焦点时，什么也没有发生。如何让键盘显示？这不应该是自动的吗？我想模拟 GTALK 的聊天输入。

activity_contact_chat.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/contact_detail_container"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:descendantFocusability="blocksDescendants"
android:orientation="horizontal" >

    <Button
        android:id="@+id/details_record_button"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_alignParentRight="true"
        android:layout_alignTop="@+id/chat_message_input"
        android:text="Send" />

   <EditText
       android:id="@+id/chat_message_input"
       android:layout_width="wrap_content"
       android:layout_height="wrap_content"
       android:layout_alignParentBottom="true"
       android:layout_alignParentLeft="true"
       android:layout_toLeftOf="@+id/details_record_button"
       android:ems="10"
       android:gravity="top|left"
       android:hint="@string/message_hint"
       android:lines="1"
       android:maxLines="10"
       android:paddingRight="10dp"
       android:paddingTop="10dp"
       android:scrollbars="vertical" >

    </EditText>

    <ListView
        android:id="@+id/messages_list"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_above="@+id/chat_message_input"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:background="#000000" >

    </ListView>

</RelativeLayout> 
```

联系聊天片段：

```
import android.database.Cursor;
import android.net.Uri;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v4.app.LoaderManager;
import android.support.v4.content.CursorLoader;
import android.support.v4.content.Loader;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;

public class ContactChatFragment extends Fragment implements LoaderManager.LoaderCallbacks<Cursor>{

    ListView messageList;
    Long contact_id;
    String contact_UUID, contact_name;

    private static final int CONTACT_CHAT_LOADER = 0x11;
    MessageListAdapter adapter;

    private static final String STATE_ACTIVATED_POSITION = "activated_position";
    private int mActivatedPosition = ListView.INVALID_POSITION;

    public static final String EXTRA_CONTACTID = "item_id";
    String contact_rowID;
    @Override
    public void onCreate(Bundle savedInstances) {
        super.onCreate(savedInstances);

        if (getArguments().containsKey(EXTRA_CONTACTID)) {
            contact_rowID = getArguments().getString(EXTRA_CONTACTID);
            //Let's get the contact
            String projection[] = { DBHelper.CONTACTS_ROWID, DBHelper.CONTACTS_UUID, DBHelper.CONTACTS_NAME, DBHelper.CONTACTS_PUBLIC_KEY };
            Cursor contactCursor = getActivity().getContentResolver().query(Uri.withAppendedPath(ContactProvider.CONTENT_URI, String.valueOf(contact_rowID)),projection, null, null, null);
            if (contactCursor.moveToFirst()) {
                contact_id = contactCursor.getLong(contactCursor.getColumnIndex(DBHelper.CONTACTS_ROWID));
                contact_UUID = contactCursor.getString(contactCursor.getColumnIndex(DBHelper.CONTACTS_UUID));
                contact_name = contactCursor.getString(contactCursor.getColumnIndex(DBHelper.CONTACTS_NAME));
            }
        }

        adapter = new MessageListAdapter(getActivity(), null, 0);
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        View rootView = inflater.inflate(R.layout.activity_contact_chat, container, false);
        messageList = (ListView) rootView.findViewById(R.id.messages_list);

        messageList.setAdapter(adapter);
        getLoaderManager().initLoader(CONTACT_CHAT_LOADER, null, this);

        /*
        TextView empty = new TextView(getActivity());
        empty = (TextView) messageList.getEmptyView();
        empty.setText(R.string.chat_no_messages);
        empty.setVisibility(View.GONE);
        ((ViewGroup) messageList.getParent()).addView(empty);       
        messageList.setEmptyView(empty);
        */

        EditText message_input_text = (EditText) rootView.findViewById(R.id.chat_message_input);
        message_input_text.clearFocus();

        Button message_input_button = (Button) rootView.findViewById(R.id.details_record_button);
        message_input_button.setOnClickListener(new OnClickListener() {
            public void onClick(View v) {
                Toast.makeText(getActivity(), "Hi!",Toast.LENGTH_SHORT).show();
            }
        });

        return rootView;
    }

    @Override
    public void onSaveInstanceState(Bundle outState) {
        super.onSaveInstanceState(outState);
        if (mActivatedPosition != ListView.INVALID_POSITION) {
            // Serialize and persist the activated item position.
            outState.putInt(STATE_ACTIVATED_POSITION, mActivatedPosition);
        }
    }

    @Override
    public Loader<Cursor> onCreateLoader(int id, Bundle args) {
        String[] projection = {DBHelper.MESSAGES_ROWID, DBHelper.MESSAGES_CONTENT, DBHelper.MESSAGES_CONTENT_LOCATION, DBHelper.MESSAGES_LOCATION, DBHelper.MESSAGES_READ_DATE, DBHelper.MESSAGES_UUID_FROM, DBHelper.MESSAGES_UUID_TO};
        CursorLoader cursorLoader = new CursorLoader(getActivity(), MessageProvider.CONTENT_URI, projection, null, null, null);
        return cursorLoader;
    }
    @Override
    public void onLoadFinished(Loader<Cursor> loader, Cursor cursor) {
        adapter.swapCursor(cursor);
    }
    @Override
    public void onLoaderReset(Loader<Cursor> loader) {
        adapter.swapCursor(null);
    }

} 
```

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2012-12-31T06:08:02.597

只需删除

```
android:descendantFocusability="blocksDescendants" 
```

在主要的相对布局中。您将在 Edittext.BlockDescendants 中获得焦点，这将阻止子布局获得焦点。检查[http://developer.android.com/reference/android/view/ViewGroup.html#attr_android:descendantFocusability](http://developer.android.com/reference/android/view/ViewGroup.html#attr_android:descendantFocusability)

* * *

## 回答 #2

> 赞同：34
> 
> 时间：2012-12-31T06:07:53.120

当 Activity 获得焦点时，您可以使用任何一种方法来显示软键盘，

您可以将以下代码添加到 Layout xml 中的 EditText，

```
android:focusable="true"
android:focusableInTouchMode="true" 
```

此外，您可以在代码中将其设置为，

```
getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE); 
```

或者，

```
 InputMethodManager im = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);
 im.showSoftInput(edittext, 0); 
```

# c# - cSharp c#中的这段代码是什么意思

> ID：14098021
> 
> 赞同：-8
> 
> 时间：2012-12-31T05:57:16.927
> 
> 标签：c#, mysql, crystal-reports

我正在尝试使用 Csharp 语言创建 Crystal Report，我在本网站上找到了如何使用 C# 创建 Crystal Replort 的课程

[http://www.codeproject.com/Articles/14029/How-to-Create-a-Crystal-Report-using-C-and-MySQL](http://www.codeproject.com/Articles/14029/How-to-Create-a-Crystal-Report-using-C-and-MySQL)

但是当我尝试理解代码时，我不理解某些行以及如何将其更新到我的情况

完整的按钮代码

```
private void button2_Click(object sender, EventArgs e)
{
    Mydb mysqlclass = new Mydb();
    mysqlclass.conncting();

    // here is error under fahad.conncting.createcommand();
    MySqlCommand cmd = mysqlclass.connection.CreateCommand();
    cmd.CommandText = "SELECT * FROM admin ";
    mysqlclass.connection.Open();
    MySqlDataAdapter adap = new MySqlDataAdapter(cmd);
    MySqlDataReader dataReader = cmd.ExecuteReader();

    // Create a Dataset and using DataAdapter to fill it 
    adap = new MySqlDataAdapter(); 
    adap.SelectCommand = cmd;
    CustomerDS custDB = new CustomerDS();
    custDB.Clear();
    adap.Fill(custDB, "Customers"); 

    // Create a CrystalReport1 object 
    CrystalReport1 myReport = new CrystalReport1();
    // Set the DataSource of the report 
    myReport.SetDataSource(custDB);
    // Set the Report Source to ReportView 
    crystalReportViewer1.ReportSource = myReport; 
} 
```

你能解释一下这意味着什么剂量以及如何根据我的情况改变它吗，谢谢

这是我不明白的

```
CustomerDS custDB = new CustomerDS();
custDB.Clear();
adap.Fill(custDB, "Customers"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:09:34.803

我猜你得到的东西类似于“已经有一个与当前连接关联的开放阅读器”，是吗？如果是这样，请参阅答案的第二部分。

* * *

> 这是我不明白的
> 
> ```
> CustomerDS custDB = new CustomerDS();
> custDB.Clear();
> adap.Fill(custDB, "Customers"); 
> ```

第一行很简单，只是创建了一个看起来像“类型化数据集”的新空实例，它与*客户*有关。这条线告诉我的主要事情是，无论出于何种原因，有人仍在使用`DataSet`. 怜悯他们——他们不知道自己在做什么。

第二行就像它听起来的那样；见智能感知：

> 通过删除所有表中的所有行来清除任何数据的 System.Data.DataSet。

这行告诉我的主要事情是，写它的人忘记了他们*只是创建了它*，而且它还不包含任何数据。

第三行使用*数据适配器*从名为“Customers”的表中填充`custDB`数据（但是！前面的代码指示它使用一个非常具体的选择命令，该命令实际上查看名为“admin”的表）。

* * *

如果我们改为查看标记为`// here is error`...的代码

```
MySqlCommand cmd = mysqlclass.connection.CreateCommand();
cmd.CommandText = "SELECT * FROM admin ";
mysqlclass.connection.Open();
MySqlDataAdapter adap = new MySqlDataAdapter(cmd);
MySqlDataReader dataReader = cmd.ExecuteReader(); 
```

*这将执行 SQL 查询以通过读取器*API（仅向前的行数据流）从名为“admin”的表中获取所有值，但随后完全忽略该读取器。它不会在任何地方使用它。最值得注意的是，它也不*消耗*数据，也不处置阅读器。这告诉我的主要事情是作者已经忘记了他们在做什么。那个开放的阅读器会引起问题。删除行：

```
MySqlDataReader dataReader = cmd.ExecuteReader(); 
```

另外：查看`using`声明。

# core-data - iCloud 超时。（使用 iCloud + Core Data + Magical Record

> ID：14098022
> 
> 赞同：8
> 
> 时间：2012-12-31T05:57:17.713
> 
> 标签：core-data, ios6, icloud, magicalrecord

我开始了一个应用程序测试以使用`Core Data`和`iCloud`（使用 Magical Records）。经过一番配置`Provisioning Profiles`和授权的麻烦后，该应用程序终于运行了。一段时间后，应用程序崩溃并抛出此消息::

```
2012-12-31 03:42:07.079 iCloudTest[252:1103] -[PFUbiquitySafeSaveFile waitForFileToUpload:](268): CoreData: Ubiquity:  <PFUbiquityPeerReceipt: 0x1cd5a420>(0)
permanentLocation: <PFUbiquityLocation: 0x1cd57b30>: /private/var/mobile/Library/Mobile Documents/MA5BADG5AW~com~gazapps~iCloudTest/mobile.4088E03C-763E-5A81-BB1B-64CABAFA73E3/com.gazapps.iCloudTest/v8GumdiUYmkE0aO9iGtPTPHX07qqWk7kRytsQwHKjwU=/receipt.0.cdt
safeLocation: <PFUbiquityLocation: 0x1cd57a80>: /private/var/mobile/Library/Mobile Documents/MA5BADG5AW~com~gazapps~iCloudTest/mobile.4088E03C-763E-5A81-BB1B-64CABAFA73E3/com.gazapps.iCloudTest/v8GumdiUYmkE0aO9iGtPTPHX07qqWk7kRytsQwHKjwU=/mobile.4088E03C-763E-5A81-BB1B-64CABAFA73E3.0.cdt
currentLocation: <PFUbiquityLocation: 0x1cd57a80>: /private/var/mobile/Library/Mobile Documents/MA5BADG5AW~com~gazapps~iCloudTest/mobile.4088E03C-763E-5A81-BB1B-64CABAFA73E3/com.gazapps.iCloudTest/v8GumdiUYmkE0aO9iGtPTPHX07qqWk7kRytsQwHKjwU=/mobile.4088E03C-763E-5A81-BB1B-64CABAFA73E3.0.cdt

kv: (null)

Safe save failed for file, error: Error Domain=NSCocoaErrorDomain Code=512 "The file upload timed out." UserInfo=0x1cd5b7d0 {NSLocalizedDescription=The file upload timed out.}
2012-12-31 03:42:07.083 iCloudTest[252:1103] +[MagicalRecord(ErrorHandling) defaultErrorHandler:](0xe5ac0) Error: The file upload timed out.
2012-12-31 03:42:07.085 iCloudTest[252:1103] +[MagicalRecord(ErrorHandling) defaultErrorHandler:](0xe5ac0) Error Message: The file upload timed out.
2012-12-31 03:42:07.086 iCloudTest[252:1103] +[MagicalRecord(ErrorHandling) defaultErrorHandler:](0xe5ac0) Error Domain: NSCocoaErrorDomain
2012-12-31 03:42:07.087 iCloudTest[252:1103] +[MagicalRecord(ErrorHandling) defaultErrorHandler:](0xe5ac0) Recovery Suggestion: (null)
2012-12-31 03:42:07.089 iCloudTest[252:907] *** Terminating app due to uncaught exception 'NSRangeException', reason: '*** -[__NSArrayI objectAtIndex:]: index 0 beyond bounds for empty array'
*** First throw call stack:
(0x3a7702a3 0x3465f97f 0x3a6bae8d 0xdd453 0x38a6311f 0x38a624b7 0x38a671bd 0x3a743f3b 0x3a6b6ebd 0x3a6b6d49 0x38a842eb 0x338f62f9 0xd101d 0x37f22b20)
libc++abi.dylib: terminate called throwing an exception 
```

我使用这种方法来设置核心数据堆栈：

```
[MagicalRecord setupCoreDataStackWithiCloudContainer:@"XXXXXXXX.com.gazapps.iCloudTest" localStoreNamed:@"PersonDB.sqlite"]; 
```

有人遇到过这个问题吗？

```
Enviroment:
OSX 10.8.2,
Xcode 4.5.2,
app -> iOS 6,
device -> iPhone 4S 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-31T18:33:22.037

是的，比我想回忆的还要多。

这意味着 Core Data 的内部无法以某种晦涩和无证的方式连接到 iCloud。没有恢复路径或修复方法 - 您只需稍后再试即可。这些错误不是来自 Magical Record 或您的代码，而是内部核心数据/iCloud 故障。

事情是这样的：**这并不意味着你做错了什么。**随之而来的结果是，**您无法修复它**。将 iCloud 与 Core Data 一起使用时，*有时会发生这种情况*，您只需要处理它。提交一个错误并向任何你相信的神祈祷，他们总有一天会修复它。带有 iCloud 的 Core Data 从根本上说是不稳定的，你遇到了最令人抓狂的部分之一。

**有时**再次尝试通话会有所帮助。但是 Magical Record 返回`void`，因此检测代码中的故障并不像您希望的那么简单。

在测试期间，从 iCloud 中删除应用程序的所有数据以开始清理*可能会有所帮助。*您在 iOS 中的设置 --> iCloud --> 存储和备份 --> 管理存储 -->（您的应用程序名称）-> 编辑 --> 全部删除。还请务必查看[http://developer.icloud.com/](http://developer.icloud.com/)以查看云中存在的内容。此外，当您遇到问题时，请务必从设备中删除您的应用程序，以免旧数据存在。

# prestashop - 如何在 prestashop 中获取当前控制器名称？

> ID：14098023
> 
> 赞同：5
> 
> 时间：2012-12-31T05:57:20.783
> 
> 标签：prestashop

如何在 prestashop 1.5 中获取当前控制器名称？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-11-08T11:01:09.440

在您的 smarty 模板文件 (.tpl) 中，使用此代码获取控制器名称。

```
{* Example URL Example.com/index.php?id_category=4&controller=category}

{assign var='controllerName' value=$smarty.get.controller}

{$controllerName} 
```

或者

```
{$smarty.get.controller} 
```

Smarty 有[保留变量](http://www.smarty.net/docsv2/en/language.variables.smarty.tpl#mainContent)

[请参阅此处的详细文档](http://www.makarandmane.com/coding/get-current-controller-name-prestashop-template/)。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-02T09:53:51.813

尝试使用它：`Context::getContext()->controller`

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2014-02-27T21:29:35.287

一个直接的解决方案

```
$controller_name = Tools::getValue('controller'); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-02T10:40:28.657

get_class($this) 或将其写入您的前端控制器，您将在所有 tpl 文件中拥有控制器名称 self::$smarty->assign('currentController', get_class($this));

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-06-17T04:41:49.473

最简单，最干净的方法是

```
$this->controller_name 
```

# iphone - 如何检查预处理器宏中的条件？

> ID：14098030
> 
> 赞同：-4
> 
> 时间：2012-12-31T05:57:53.290
> 
> 标签：iphone, ios, macros

> **可能重复：**
> [如何仅为 iOS 6 导入社交框架？](https://stackoverflow.com/questions/14002304/how-to-import-social-framework-only-for-ios-6)

需要检查预处理器宏中的条件。

```
#define SYSTEM_VERSION_EQUAL_TO(v)                  ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] == NSOrderedSame)
#define SYSTEM_VERSION_GREATER_THAN(v)              ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] == NSOrderedDescending)
#define SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(v)  ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] != NSOrderedAscending)
#define SYSTEM_VERSION_LESS_THAN(v)                 ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] == NSOrderedAscending)
#define SYSTEM_VERSION_LESS_THAN_OR_EQUAL_TO(v)     ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] != NSOrderedDescending)

/*
 *  Usage
 */

if (SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(@"6.0"))
{
#import <Social/SLServiceTypes.h>
#import <Social/SLRequest.h>
#import <Social/Social.h>
#import <Social/SocialDefines.h>
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:48:07.107

如前所述，`#import`是一个编译时指令——所有预处理器指令（以 开头的东西`#`）都是。因此，您似乎在这里尝试做的事情不会像您期望的那样工作。

只要您只使用最新的 SDK 构建，您就不需要有条件地`#import`标头 - 无论您构建的目标 iOS 版本如何，最新的标头都可供您使用。

如果您的代码需要在不同的 SDK 版本下构建——例如，如果您有一个队友的机器无法运行最新的 Xcode，那就是条件导入的时候了。但由于这是编译时的事情，您需要针对您的 SDK 版本进行编译时检查，而不是运行时检查。使用类似的东西：

```
#if __IPHONE_OS_VERSION_MAX_ALLOWED >= __IPHONE_6_0
// building with iOS 6 SDK, safe to import Social framework
#endif 
```

不过，如果您希望您的代码使用较旧的 SDK*构建，您只需要这样做。*

如果您希望您的应用程序在较旧的 iOS 版本上*运行*，但又想有条件地使用新的 iOS 功能，那么您就需要运行时检查。您还需要使用[弱链接](https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/cross_development/Using/using.html#//apple_ref/doc/uid/20002000-SW6)。然而，即便如此，Apple 还是建议您避免检查版本号——最好检查您需要的特定功能。例如，如果你想使用 Social 框架，弱链接整个框架[（即使其成为 Optional）](https://developer.apple.com/library/ios/recipes/xcode_help-project_editor/Articles/AddingaLibrarytoaTarget.html#//apple_ref/doc/uid/TP40010155-CH17-SW1)，然后在使用之前检查你想要的类是否存在：

```
if ([SLComposeViewController class] {
    SLComposeViewController *vc = [SLComposeViewController composeViewControllerForServiceType:SLServiceTypeTwitter];
    // ...
} 
```

为什么要避免版本号检查？好吧，假设您在尝试使用社交框架 API 之前检查了高于 5.1 的 iOS 版本……然后假设 Apple 发布了另一个 5.1.x 更新以修复安全漏洞。现在，您的应用程序认为它在具有社交框架的版本上，尝试使用它，崩溃并在 App Store 上给您带来差评。如果您检查 6.0 怎么办……那么 Apple 可能会改变他们对轴系原始 iPad 用户的想法，并发布至少让我们拥有*一些*iOS6 功能的 5.x 更新，包括社交？现在您的应用程序不会崩溃，但它也不会让您的用户拥有新的 iOS 功能——再次获得一星评价。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T06:07:53.077

您不能在运行时导入文件。`imports`在编译时工作。由于上述宏正在使用将在运行时计算值的方法，因此我认为您尝试实现的任何目标都不可能

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T06:02:43.820

结构非常简单：`#IF ... #ENDIF`

以下是一些有用的链接： [First](http://msdn.microsoft.com/en-us/library/fyscbeay%28v=vs.80%29.aspx) , [Second](http://gcc.gnu.org/onlinedocs/cpp/If.html) , [Third](http://en.wikipedia.org/wiki/C_preprocessor)

# ruby - FactoryGirl 中的 build 和 create 方法有什么区别？

> ID：14098031
> 
> 赞同：105
> 
> 时间：2012-12-31T05:57:55.010
> 
> 标签：ruby, factory-bot

[Factory Girl 的介绍](https://github.com/thoughtbot/factory_girl/blob/master/GETTING_STARTED.md)`FactoryGirl.build()`描述了和之间的区别`FactoryGirl.create()`：

```
# Returns a User instance that's not saved
user = FactoryGirl.build(:user)

# Returns a saved User instance
user = FactoryGirl.create(:user) 
```

我仍然不明白两者之间的实际区别。有人可以举一个例子，你想使用一个而不是另一个吗？谢谢！

* * *

## 回答 #1

> 赞同：136
> 
> 时间：2013-01-04T21:03:01.120

该`create()`方法保留模型的实例，而该`build()`方法仅将其保留在内存中。

就个人而言，我`create()`仅在确实需要持久性时才使用该方法，因为写入数据库会使测试耗时。

例如

我创建用户进行身份验证，`create()`因为我的身份验证引擎查询数据库。

要检查模型是否具有属性，该`build()`方法将执行此操作，因为不需要数据库访问。

```
it{Factory.build(:user).should respond_to(:name)} 
```

## 更新

“有一个例外，当你建立关联时，构建实际上是‘创造’，即你的关联不再存在于内存中而是持续存在。记住这一点”——Shakes

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2013-08-01T19:51:59.937

Using`FactoryGirl.build(:factory_name)`不会持续到 db 并且不会调用`save!`，因此您的 Active Record 验证将不会运行。这要快得多，但验证可能很重要。

使用`FactoryGirl.create(:factory_name)`将持续到数据库并调用 Active Record 验证。这显然较慢，但可以捕获验证错误（如果您在测试中关心它们）。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2018-05-04T10:00:52.417

`FactoryGirl.create()`将为它创建新的对象和关联（如果工厂有的话）。它们都将保存在数据库中。此外，它将触发模型和数据库验证。回调`after(:build)`，`after(:create)`将在工厂保存后调用。也`before(:create)`将在工厂保存之前调用。

`FactoryGirl.build()`不会保存对象，但如果工厂有关联，仍会向数据库发出请求。它只会触发关联对象的验证。`after(:build)`工厂建好后会调用回调。

请注意，在大多数情况下，最好使用测试模型以`build_stubbed`获得更好的性能。[在此处](https://kolosek.com/factory-girl-build-vs-build_stub)阅读更多相关信息。

# java - 将字符串添加到字符串数组

> ID：14098032
> 
> 赞同：102
> 
> 时间：2012-12-31T05:58:11.857
> 
> 标签：java

我是 Java 新手，所以我需要一点帮助

我有

```
String [] scripts = new String [] ("test3","test4","test5"); 
```

我想将新字符串（string1，string2）添加到这个数组（脚本）中，例如

```
String string1= " test1"
String string2 = "test2" 
```

我想在 init 中而不是在后期添加新字符串

我该怎么做？

* * *

## 回答 #1

> 赞同：154
> 
> 时间：2012-12-31T06:01:19.877

您无法在 java 中调整数组的大小。

一旦声明了数组的大小，它就保持固定。

相反，您可以使用`ArrayList`具有动态大小的，这意味着您不必担心它的大小。如果您的数组列表不足以容纳新值，那么它将自动调整大小。

```
ArrayList<String> ar = new ArrayList<String>();
String s1 ="Test1";
String s2 ="Test2";
String s3 ="Test3";
ar.add(s1);
ar.add(s2);
ar.add(s3);

String s4 ="Test4";
ar.add(s4); 
```

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2012-12-31T06:01:29.207

首先，这里的代码，

```
string [] scripts = new String [] ("test3","test4","test5"); 
```

应该

```
String[] scripts = new String [] {"test3","test4","test5"}; 
```

请阅读有关[数组的本教程](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html)

第二，

数组是固定大小的，所以你不能在上面的数组中添加新的字符串。您可以覆盖现有值

```
scripts[0] = string1; 
```

（或者）

创建具有大小的数组，然后继续添加元素直到它满了。

如果您想要可调整大小的数组，请考虑使用[ArrayList](http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html)。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2012-12-31T06:06:06.987

你必须写下一些方法来创建一个临时数组，然后像这样复制它

```
public String[] increaseArray(String[] theArray, int increaseBy)  
{  
    int i = theArray.length;  
    int n = ++i;  
    String[] newArray = new String[n];  
    for(int cnt=0;cnt<theArray.length;cnt++)
    {  
        newArray[cnt] = theArray[cnt];  
    }  
    return newArray;  
} 
```

或**ArrayList**将有助于解决您的问题。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-12-31T08:42:45.207

由于许多建议更好的解决方案的答案是使用 ArrayList。ArrayList 大小不固定，易于管理。

它是 List 接口的可调整大小的数组实现。实现所有可选列表操作，并允许所有元素，包括 null。除了实现 List 接口之外，该类还提供了一些方法来操作内部用于存储列表的数组的大小。

每个 ArrayList 实例都有一个容量。容量是用于存储列表中元素的数组的大小。它总是至少与列表大小一样大。随着元素被添加到 ArrayList，它的容量会自动增长。

*请注意，此实现不同步。*

```
ArrayList<String> scripts = new ArrayList<String>();
scripts.add("test1");
scripts.add("test2");
scripts.add("test3"); 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-12-31T06:06:12.567

由于 Java 数组包含固定数量的值，因此在这种情况下，您需要创建一个长度为 5 的新数组。更好的解决方案是使用***ArrayList***并简单地***将***字符串添加到数组中。

例子：

```
ArrayList<String> scripts = new ArrayList<String>();
scripts.add("test3");
scripts.add("test4");
scripts.add("test5");

// Then later you can add more Strings to the ArrayList
scripts.add("test1");
scripts.add("test2"); 
```

# android - 在哪里可以找到适用于 Android 的 XML 文档？

> ID：14098037
> 
> 赞同：0
> 
> 时间：2012-12-31T05:59:02.060
> 
> 标签：android, xml

有没有地方可以找到适用于 Android 的 XML 文档？例如，当我想查找 XML 属性时，我使用 Google 找到它并最终出现在此网页上：http: [//developer.android.com/guide/topics/resources/menu-resource.html](http://developer.android.com/guide/topics/resources/menu-resource.html)

现在是否有一个包含所有可用文档的页面，类似于 Javadoc 网页或 XML 属性的[http://developer.android.com/reference/packages.html ？](http://developer.android.com/reference/packages.html)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T06:11:55.533

如果您想查找特定小部件的**xml 属性**，您始终可以在 api 部分中选择 android.widget，并且您始终可以在以下部分中选择特定的子项（例如，我选择了 TextView） . **因此，您可以在XML 属性**表中查看相应的 xml 属性。请参考[我](http://developer.android.com/reference/android/widget/TextView.html)在示例中描述的内容。

它也以明确的方式解释了该特定属性的特征。希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T06:05:29.983

Android 没有为 XML 交互设置任何特定的 API。您可以简单地查看 XML 的 Java 文档：http: [//docs.oracle.com/javase/1.4.2/docs/api/javax/xml/parsers/package-summary.html](http://docs.oracle.com/javase/1.4.2/docs/api/javax/xml/parsers/package-summary.html)

# c# - 在服务器端访问 Label 的值

> ID：14098049
> 
> 赞同：0
> 
> 时间：2012-12-31T06:00:50.140
> 
> 标签：c#, javascript, html

我在客户端有一个标签。它的值由 javascript 更新。现在我想在服务器端访问这个更新的值。但是，由于该值是在客户端计算的，因此我没有在服务器端获得此更新值。我可以使用隐藏字段获得这个更新的值。但是除了使用隐藏字段之外，还有什么不同的方法可以访问标签值......？

```
if (isNaN(tot)) {
    document.getElementById('lbltotIntk').value = "0";
} else { 
    document.getElementById('lbltotIntk').innerText = tot.toFixed(2);   
    document.getElementById('<%=hdnIntTot.ClientID %>').value = tot.toFixed(2); 
} 
```

当我使用： lbltotIntk.text 我没有得到任何更新的值。你可以在这里看到我在这里使用了隐藏字段。但我不想使用它。有没有其他方法可以访问标签值..？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T06:11:25.473

标签控件是只读控件...如果执行回发，您不能从客户端覆盖它并保持其值。

所以最好的解决方案是添加一个隐藏字段并设置值，然后从服务器端访问它。

隐藏字段是很好的解决方案，但如果在这种情况下网页中有 30 个标签，则 30 个隐藏字段是开销。另一种选择是在文本框上使用 css

```
 .textBox
   {
   background-color:Transparent;
   border: none;
   } 
```

并将文本框的属性 ReadOnly 设置为 true。现在文本框看起来像标签..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T06:09:58.713

不，如果您在客户端更改某些内容，您将不会在服务器端获得更新的值。

因为在服务器端，值是从中获取的，`ViewState`但是当我们在客户端更改某些内容时，`ViewState`不会相应地更改。所以我们得到旧值。这就是使用隐藏字段的原因。这个问题不仅出现在标签上，其他服务器控件也会出现这个问题。

# python - 即使文件存在也没有文件错误

> ID：14098063
> 
> 赞同：1
> 
> 时间：2012-12-31T06:02:37.060
> 
> 标签：python, python-2.6

我收到以下错误。我实际上可以从下面给出的 buid 根目录中看到“build/envsetup.sh”，但我不断收到此错误。

以下行有什么问题吗？

```
 makecommand=Popen(['source build/envsetup.sh'],stderr=PIPE)" 
```

* * *

BUILD_ROOT_DIR /local/mnt/workspace/AU

```
Traceback (most recent call last):
  File "test.py", line 266, in <module>
    main()
  File "test.py", line 263, in main
    cherrypick(base_change,SCRIPT_ROOT)
  File "test.py", line 204, in cherrypick
    makebuild(change)
  File "test.py", line 97, in makebuild
    makecommand=Popen(['source build/envsetup.sh'],stderr=PIPE)
  File "/usr/lib/python2.6/subprocess.py", line 633, in __init__
    errread, errwrite)
  File "/usr/lib/python2.6/subprocess.py", line 1139, in _execute_child
    raise child_exception
OSError: [Errno 2] No such file or directory 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T06:09:50.563

当您调用 Popen 时，您可以传递一个字符串命令，也`shell=True`可以传递一个列表。您应该尝试将命令更改为：

```
makecommand=Popen(['source', 'build/envsetup.sh'],stderr=PIPE) 
```

*我只评论 Popen 的使用，而不是与您正在运行的实际命令相关的任何内容。*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-31T06:15:32.847

尝试添加附加参数：shell=True

代码：

```
 makecommand=Popen('source build/envsetup.sh',stderr=PIPE, shell=True) 
```

python[文档](http://docs.python.org/2/library/subprocess.html#module-subprocess)中有一个免责声明，根据程序的上下文，这可能会导致安全问题。

IMO，您可能应该将 stdout 和 stderr 都通过管道传输到单独的变量并使用通信方法来调用命令。您将能够更轻松地处理输出和错误。

代码：

```
 cmd_out, cmd_err = Popen('source build/envsetup.sh', stdout=PIPE, stderr=PIPE, shell=True).communicate() 
```

祝你好运！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T06:09:55.237

`source`是内置的shell，而不是可执行文件。试试`"sh build/envsetup.sh"`吧。还有jdi所说的。

# java - Java Jung 不兼容的类型转换

> ID：14098064
> 
> 赞同：1
> 
> 时间：2012-12-31T06:02:38.573
> 
> 标签：java, casting, jung, vertex

我正在尝试遍历一组顶点。顶点是我创建的自定义类。这是我尝试遍历顶点的尝试：

```
bCentral2 = new BetweennessCentrality<MyVertex, MyEdge>(g2);

for(MyVertex v : g2.getVertices())
{
    v.setCentrality(bCentral2.getVertexScore(v));
} 
```

我得到的错误来自该行：`MyVertex v : g2.getVertices()`并且消息是：

```
incompatible types
  required: graphvisualization.MyVertex
  found:    java.lang.Object 
```

因此，我尝试转换为 an`ArraryList<MyVertex>`并收到此错误消息：

```
Exception in thread "main" java.lang.ClassCastException: java.util.Collections$UnmodifiableCollection cannot be cast to java.util.ArrayList 
```

1.  如何遍历我的一组顶点？
2.  最终目标是设置每个顶点的中心性

以下是我的 MyVertex 类代码：

```
public class MyVertex 
{
    int vID;                    //id for this vertex
    double centrality;          //centrality measure for this vertex

    public MyVertex(int id)
    {
        this.vID = id;
        this.centrality=0;
    }

    public double getCentrality()
    {
        return this.centrality;
    }

    public void setCentrality(double centrality)
    {
        this.centrality = centrality;
    }

    public String toString()
    {
        return "v"+vID;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:08:36.680

我猜`g2.getVertices()`返回一个集合。所以你可以将你`Collection`的转换`ArrayList`为：

```
ArrayList<MyVertex> ll = new ArrayList<>(g2.getVertices()) 
```

这是[文档](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#ArrayList%28java.util.Collection%29)

# android - 如何实现内存缓存？

> ID：14098065
> 
> 赞同：1
> 
> 时间：2012-12-31T06:02:42.667
> 
> 标签：android, android-memory

我是android的初学者。我想在我的应用程序中使用内存缓存将图像存储在内存缓存中，并在这些图像不需要在缓存中时清除它！任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:06:28.053

你可以使用[Wea​​kHashMap](http://docs.oracle.com/javase/6/docs/api/java/util/WeakHashMap.html)来实现一个简单的缓存方法。它的元素将被垃圾收集，因此如果您的应用程序用完它的堆，那么它将被释放，但直到您可以在内存中拥有图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-13T19:21:07.110

内存缓存是java的功能，不是Android的。

导入 java.util.*

然后使用 List、Map、ArrayList 和 HashMap 构建内存映射对象的名称/值配对数组，并将其存储为 hashmap。然后，您可以通过 hashmap 访问（读取/删除/更新）内存中的对象。

如果您需要保存内存对象以供将来实例化（例如通过应用程序停止和启动），那么您才需要将数据写入外部存储（可能是图像和所有），并根据需要再次读取。

但是，在大多数情况下，您正在构建本地内存缓存，因为您刚刚检索到数据并希望其他类现在或不久的将来处理它。如果您的应用程序因为重新启动而无法找到数据，或者由于内存限制而不再在内存中，那么最好再次检索数据，而不是依赖可能过时的缓存文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T06:15:05.973

请使用以下代码并让我知道。

```
public class MyApplication extends Application {
    private static MyApplication instance;

    @Override
    public void onCreate() {
        super.onCreate();
        instance = this;
    }

    public static MyApplication getInstance() {
        return instance;
    }

    public void clearApplicationData() {
        File cache = getCacheDir();
        File appDir = new File(cache.getParent());
        if (appDir.exists()) {
            String[] children = appDir.list();
            for (String s : children) {
                if (!s.equals("lib")) {
                    deleteDir(new File(appDir, s));
                    Log.i("TAG", "**************** File /data/data/APP_PACKAGE/" + s + " DELETED *******************");
                }
            }
        }
    }

    public static boolean deleteDir(File dir) {
        if (dir != null && dir.isDirectory()) {
            String[] children = dir.list();
            for (int i = 0; i < children.length; i++) {
                boolean success = deleteDir(new File(dir, children[i]));
                if (!success) {
                    return false;
                }
            }
        }

        return dir.delete();
    }
} 
```

# php - PHP 中可用的轻量级包系统

> ID：14098071
> 
> 赞同：0
> 
> 时间：2012-12-31T06:03:14.493
> 
> 标签：php, plugins, installation

在**我的工具包**中，我希望实现附加组件的自动安装。我需要维护依赖关系以及与集中式 API 交互、执行更新等等。

我想我可能会自己开发这个，但如果我已经有一个**轻量级**和灵活的系统可以构建，我宁愿这样做。请建议那里是否有任何东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T06:08:48.860

Composer 可能是一个很好的解决方案：

[http://getcomposer.org/](http://getcomposer.org/)

# android - 将参与者添加到 XMPP 聊天室

> ID：14098075
> 
> 赞同：9
> 
> 时间：2012-12-31T06:03:59.733
> 
> 标签：android, xmpp, chatroom, multi-user

我想在我的应用程序中实现群聊，为此我使用 MUC 聊天室来实现它。

在这里，我想向房间添加成员列表（我有 JID）。我想在内部将它们添加到列表中的所有成员中。我如何在不邀请他们的情况下添加他们。

添加成员后，我想实现一个功能，即每当聊天室的用户发消息或聊天时，它都应该传递给所有其他用户。

主要问题是如何将成员添加到聊天室

代码：

```
private void createRoom(){

        MultiUserChat privateRoom = new MultiUserChat(connection, "testGroup@conference.abc.com");
        try {
            privateRoom.join("gaurav","123456");
            privateRoom.sendConfigurationForm(new Form(Form.TYPE_SUBMIT));
            System.out.println("Room Created!!!");

            Message message = new Message("testGroup@conference.abc.com", Message.Type.normal);
            message.setBody("Happy User");

            privateRoom.sendMessage(message);

        } catch (XMPPException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-05-30T11:53:25.420

[XEP-0045](http://xmpp.org/extensions/xep-0045.html)不包含强制让客户端成为聊天室参与者的场景。虽然您可以向联系人发送邀请（直接发送给用户，或通过 MUC 服务器），但联系人实际上不会加入聊天室，直到联系人的客户端请求加入聊天室。

因此，将用户添加到聊天室而不邀请他们需要用户客户端的特殊支持。可能，客户端可以修改为自动接受来自受信任联系人的聊天室邀请。

# android - 从 sdcard 读取大 xml 文件的效率如何？

> ID：14098077
> 
> 赞同：0
> 
> 时间：2012-12-31T06:04:31.560
> 
> 标签：android, xml, performance

我有一个很大的 XML 文件（6000 行，1.4MB）存储在`/mnt/sdcard`文件夹中。我想从 XML 文件中读取一个节点，以从我的 Android 应用程序中的文件中获取版本。

既然文件很大，而且存储在 sdcard 中，那么读取 XML 会不会降低性能呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:10:51.910

是的，读取和解析 1.4 MB 的 XML 需要一些时间（根据我的经验，我估计需要 0.1 到 2 秒）。多少取决于你如何做，是否可以接受取决于你认为可以接受的内容。我建议自己进行基准测试。

此外，使用 SAX 之类的解析器，一旦你有数据就可以停止读取。这样，如果版本通常在开头，则不需要读取和解析整个文件。如果你知道版本总是第一行，性能可能会非常好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T07:01:49.957

如果您只需要读取一个节点，为什么不使用[`XPath`](http://developer.android.com/reference/javax/xml/xpath/XPath.html)？

与使用 SAX 或 DOM 进行解析相比，它可能会也可能不会提供性能加速（您需要自己针对您的案例对其进行基准测试），但它可能会简化您的代码。

# android - android.view.View 无法转换为 com.zhangxaochen.mysensor.MyView

> ID：14098079
> 
> 赞同：0
> 
> 时间：2012-12-31T06:05:02.387
> 
> 标签：android, custom-controls

我正在尝试在我的 xml 文件中添加自定义视图，代码如下：

```
 <View
    android:id="@+id/myView"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_below="@+id/radioGroupSensorRate"
    android:layout_centerHorizontal="true"
    class="com.zhangxaochen.mysensor.MyView" /> 
```

但随后出现运行时异常：

```
12-31 12:29:20.033: E/AndroidRuntime(4432): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.zhangxaochen.mysensor/com.zhangxaochen.mysensor.MyGravitySensor}: java.lang.ClassCastException: android.view.View cannot be cast to com.zhangxaochen.mysensor.MyView 
```

MyView 类已经在我的 java 文件中定义了，我知道`<com.packageName.ClassName attrs... />`添加自定义小部件的方法确实有效，但我听到有人说第二种方法就像上面那样`<View class='com.zhangxaochen.mysensor.MyView' .../>`，我尝试过，然后失败了。谁能告诉我如何解决这个问题？还是那句话是假的？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T05:57:33.127

解决了~

第二种方式： `<View class="packagename.ClassName" .../>`

不起作用只是因为标签'View'被大写，它*应该*是小写的：'view'......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T06:14:50.463

如下创建您的自定义`Xml`视图

```
 <com.zhangxaochen.mysensor.MyView
    android:id="@+id/myView"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_below="@+id/radioGroupSensorRate"
    android:layout_centerHorizontal="true"
    /> 
```

# layout - 如何将emacs返回到qwerty键盘布局？

> ID：14098082
> 
> 赞同：0
> 
> 时间：2012-12-31T06:05:20.717
> 
> 标签：layout, emacs

我已将 Emacs 输入布局更改为希伯来语。现在，当我尝试将其返回为英文时，我得到的是 devorak 布局而不是 qwerty 布局。我尝试了其他布局，例如 UTF-8 或 ascii，没有任何更改。那我怎么退货呢？

**编辑：**
我曾经`C-x RET C-\`改变布局

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T06:14:35.160

切换到另一个布局`C-x RET C-\`实际上会进入一种特殊模式，其中备用布局处于活动状态，因此“正常”布局在该模式下不可用。相反，只使用 . 关闭模式`C-\`。您应该看到模型行发生了变化。

# javascript - 试图通过for循环为一个对象声明多个特征

> ID：14098086
> 
> 赞同：0
> 
> 时间：2012-12-31T06:05:32.397
> 
> 标签：javascript, object

嘿，所以我开始学习 Javascript，但我在处理对象时遇到了一些麻烦。我正在尝试创建一个包含多个侧面的形状类。使用这些边，它可以创建更多特征，因此它可以存储点位置的坐标。我现在拥有的是一个正在接受大小的类，我想使用一个 for 循环来创建存储位置的“属性”。只是为了学习目的，我将它们设置为 0，看看是否有可能做到这一点。任何对对象的澄清将不胜感激。

```
function Shape(size) {
    this.size = size
    for(var i=0; i<size; i++){ //tries to create the properties
        //this[i].posX: 0;
        //this[i].posY = 0;
    }
} 
```

理想情况下，我想访问它们，所以它是这种格式：

```
var triangle = new Shape(3);
triangle[0].posX = 100; // So essentially I could set this to 100, the integer in the [] would represent a side.
triangle[0].posY = 100; // etc ... for the rest of the sides 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T06:19:41.750

试试下面的代码。那是你要的吗？

```
function Shape(size) {
    var arr = new Array(size);

    for(var i=0; i <size; i++){ //tries to create the properties
        arr[i] = {
             posX: 0,
             posY: 0
        };
        //arr[i] = {};
        //arr[i].posX = 0;
        //arr[i].posY = 0;
    }

    return arr;
} 
```

现在你可以这样做：

```
var triangle = new Shape(3);
triangle[0].posX = 100; // So essentially I could set this to 100, the integer in the [] would represent a side.
triangle[0].posY = 100; // etc ... for the rest of the sides 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T06:20:24.340

由于形状可以有可变数量的边，我建议创建一个***点数***组作为 Shape 类的属性。

```
function Shape(size) {
    this.size = size;
    this.point = new Array();//stores an Array of Points
    for(var i=0; i<size; i++){
        this.point[i] = new Point(0, 0);
    }
}

function Point(x, y){
    this.posX = x || 0;
    this.posY = y || 0;
}; 
```

这样，您可以使用以下代码创建三角形：

```
// Creates a triangle with the points at (100, 100), (0, 0), and (0, 0)
var triangle = new Shape(3);
triangle.point[0].posX = 100;
triangle.point[0].posY = 100; 
```

我希望这有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T06:13:45.693

我很难理解你的问题/问题是什么。但在我看来，Javascript 并不像 C# 或 VB.NET 或类似语言那样真正支持“属性”。您的解决方案是使用两种格式的
方法： 1\. 设置值的方法。
2\. 返回值的方法。
所以你的类应该有类似以下 4 种方法：

```
setPosX(var posx)
getPosX()
setPosY(var posy)
getPosY() 
```

然后你只需创建一个数组：

```
var triangles = new Array(); 
```

并通过 for 循环给出您的值：

```
function Shape(size) {
        for(var i=0; i<size; i++){ //tries to create the properties
            triangles[i].setPosX(0); // or any other value
            triangles[i].setPosY(0);
        }
    } 
```

另请注意，此函数将在类结构之外。希望这可以帮助 ;）

# eclipse - 手动下载 maven-resources-plugin:2.5

> ID：14098093
> 
> 赞同：1
> 
> 时间：2012-12-31T06:06:19.267
> 
> 标签：eclipse, maven, maven-2, m2eclipse

我正在使用 Maven 2.2.0 和 Eclipse Juno。我正在尝试将现有的 Maven 项目之一导入工作区。

我收到以下错误。

```
Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.5
Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.5 
```

我想手动下载那个插件“maven-resources-plugin”。

任何人都可以建议如何手动下载插件并避免此错误。我检查了 pom.xml（我也有它的依赖项）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T06:49:40.077

您不需要手动下载插件。该插件存在于[中央存储库](http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-resources-plugin/2.5/)中，因此 Maven 应该能够下载它。

您是否禁用了中央仓库？您是否位于阻止访问某些远程服务器的防火墙后面？

或者，也许您在本地确实有插件，但文件已损坏。

无论如何，要安装它，只需下载[`pom`](http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-resources-plugin/2.6/maven-resources-plugin-2.6.pom)和[`jar`](http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-resources-plugin/2.6/maven-resources-plugin-2.6.jar)，然后使用[maven-deploy-plugin](http://maven.apache.org/plugins/maven-deploy-plugin/)安装[文件](http://maven.apache.org/plugins/maven-deploy-plugin/usage.html#The_deploy%3adeploy-file_Mojo)。

# asp.net-mvc-4 - 想用 asp.net 解析深度 MVC 路由

> ID：14098098
> 
> 赞同：1
> 
> 时间：2012-12-31T06:06:29.053
> 
> 标签：asp.net-mvc-4, asp.net-mvc-routing

我想解析如下所示的路线：

http//../Session/2012/101

其中 2012 是 2012 年，101 是会话 ID。

我希望控制器获取参数（int year,int sessionId）

有人可以告诉我我的路线会是什么样子吗？我知道如果它是 ../Session/101 （基本控制器）的简单案例会是什么样子，但我不确定如何在那里获得年份。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:13:34.397

您可以从[此处](https://stackoverflow.com/questions/14048900/parameters-in-url-in-asp-net-mvc/14049041#14049041)的类似问题中查看我的回答。

> 在您`Global.asax.cs`的`RegisterRoutes`方法下，您可以尝试添加：

```
routes.MapRoute("MyNewRoute", "Session/{year}/{session}", 
    new { /* Your default route */
        controller = "Blah",
        action = "Blah",
        year = 2012,
        session = 1
    }); 
```

# python - 爱因斯坦在 Scala 中的谜题

> ID：14098102
> 
> 赞同：-5
> 
> 时间：2012-12-31T06:07:04.180
> 
> 标签：python, scala

> **可能重复：**
> [Scala 中的斑马拼图](https://stackoverflow.com/questions/14090600/zebra-puzzle-in-scala)

这两天这个问题一直困扰着我。

解决此类难题的 Scala 方法是什么？我尝试在下面的 Scala 中实现 python 中显示的嵌套 for 循环，但它不起作用。循环已经在第二个约束上给了我 0 个结果。这可能是因为我刚接触 Scala 并且错过了一些细节。

如果有人有任何想法，请帮助我可怜的灵魂，谢谢。

![在此处输入图像描述](../Images/86e5aa0da2a0a536f2ea70c2176bb31d.png)

这是我的代码，

```
 val houses = List(1, 2, 3, 4, 5)
  val orderings = houses.permutations
  val List(first, _, middle, _, _) = houses

  def imright(h1: Int, h2: Int) = h1 - h2 == 1

  def nextto(h1: Int, h2: Int) = math.abs(h1 - h2) == 1

  for (List(red, green, ivory, yellow, blue) <- orderings if imright(green, ivory))
    for(List(englishman, spaniard, ukrainian, japanese, norwegian) <- orderings;
      if englishman == red; 
      if norwegian == first) println(orderings.length) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T10:08:22.273

```
 val houses = List(1, 2, 3, 4, 5)
  val orderings = houses.permutations.toList
  val List(first, _, middle, _, _) = houses

  def imright(h1: Int, h2: Int) = h1 - h2 == 1

  def nextto(h1: Int, h2: Int) = math.abs(h1 - h2) == 1

  for (List(red, green, ivory, yellow, blue) <- orderings if imright(green, ivory))
    for(List(englishman, spaniard, ukranian, japanese, norwegian) <- orderings
      if (englishman == red)
    ) println(Map(
      "englishman" -> englishman
      ,"red" -> red
      ,"norwegian" -> norwegian
      ,"first" -> first
    )) 
```

# php - 为什么与 PHP 表单连接后我的字符串之间有空格？

> ID：14098103
> 
> 赞同：0
> 
> 时间：2012-12-31T06:07:06.253
> 
> 标签：php, forms, post, concatenation

这真的很奇怪，因为我检查了我连接的两个字符串在 HTML 源代码中它们之间没有空格。但是，当 PHP 解析我`update.php`文件中的文本时，它会返回`string1 string2`而不是`string1string2`预期的输出。

什么地方出了错？

**更新.php**

```
<?php

    $string1 = $_POST['string1'];
    $string2 = $_POST['string2'];
    $filename = str_replace(" ", "", substr($string1, 14))
        . str_replace(" ", "", substr($string2, 11));

    echo $filename;
?>

$_POST['string1'] = Exchange Name: Osaka;
$_POST['string2'] = Stock Name: 20; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T06:15:59.633

```
$string1 = "Exchange Name: Osaka";
$string2 = "Stock Name: 20";
$pattern = '/[\W]/i'; // you can add extra conditions to handle other chars as well
$replacement = "";

echo preg_replace($pattern, $replacement, $string1)
    . preg_replace($pattern, $replacement, $string2); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-31T06:11:14.923

可能尝试使用修剪而不是替换。

```
 trim(substr($string1,14)); 
```

希望有帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-31T06:14:58.247

填充文件名后，您可以使用

```
$filename = str_replace(" ", "", $filename); 
```

但考虑到我们还没有弄清楚问题出在哪里，这不是一个合适的解决方案，它只是一个修复。所以首先找到问题，这样你就知道它为什么会发生

然后以某种方式从发布这些值的表单中获取换行符。尝试这个

```
$filename = str_replace("\r", "", $filename);
$filename = str_replace("\n", "", $filename); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-31T06:32:32.727

我通过使用以下方法解决了它：

```
echo str_replace(PHP_EOL, '', $filename); 
```

# android - SeekBar 不更新，Toast.makeTake 在退出应用程序时不停止

> ID：14098109
> 
> 赞同：0
> 
> 时间：2012-12-31T06:08:05.310
> 
> 标签：android, seekbar, android-alertdialog

我通过在 Dialog Alert 中使用 SeekBar 创建应用程序来更改 TextSize。当我使用 seekBar 时，TextSize 将更改并按 Toast 显示字体编号。但是，当对话框关闭时。吐司仍然有效并增加演出次数。当我按 home 或退出应用程序时，它不会停止并继续运行。我哪里错了。我怎样才能解决这个问题。代码很简单。非常感谢大家。

这是我的代码。

```
 public void ShowDialog() {
    final AlertDialog.Builder popDialog = new AlertDialog.Builder(this);
    final SeekBar seek = new SeekBar(this);

    seek.setMax(100);

    popDialog.setIcon(R.drawable.conp);
    popDialog.setTitle(R.string.menu_settings);
    popDialog.setView(seek);

    seek.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {
        public void onProgressChanged(SeekBar seekBar, int progress,
                boolean fromUser) {

            subtitles.setTextSize(progress);

            Toast.makeText(ShowMan.this, "your textsize :" + String.valueOf(progress), Toast.LENGTH_LONG).show();
        }

        public void onStartTrackingTouch(SeekBar arg0) {
            // TODO Auto-generated method stub

        }

        public void onStopTrackingTouch(SeekBar seekBar) {
            // TODO Auto-generated method stub

        }
    });

    // Button
    popDialog.setPositiveButton("OK",
            new DialogInterface.OnClickListener() {
                public void onClick(DialogInterface dialog, int which) {
                    dialog.dismiss();
                }
            });

    popDialog.create();
    popDialog.show();

} 
```

我想正常使用这个 SeekBar 增加和减少 TextSize。请帮我。哦……还有一件事。我的老师说“不要使用对话主题”。T_T

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T06:16:19.013

你可以给 toast`Toast.LENGTH_SHORT`或给一个**毫秒**使用，如下所示`Toast.LENGTH_SHORT="some value"`

```
 Toast.makeText(ShowMan.this, "your textsize :" + String.valueOf(progress), Toast.LENGTH_SHORT).show();
 Toast.makeText(ShowMan.this, "your textsize :" + String.valueOf(progress), 2000).show(); 
```

# sql - 计算gpa sql

> ID：14098114
> 
> 赞同：0
> 
> 时间：2012-12-31T06:08:54.843
> 
> 标签：sql, join, count, group-by, sum

计算表中学生的 SGPA，公式为特定学生在特定学期注册的每门课程的 3*gradepoint 总和除以课程数。

我有一个名为 All_Registration 的表，其中包含如下字段和数据

```
╔════════════╦═════════════╦════════╦════════════╗
║ STUDENT_ID ║  SEMESTER   ║ COURSE ║ GRADEPOINT ║
╠════════════╬═════════════╬════════╬════════════╣
║ i090170    ║ Fall 2000   ║    200 ║ 3.67       ║
║ i090170    ║ Fall 2000   ║    201 ║ 2.67       ║
║ i090170    ║ Fall 2000   ║    203 ║ 2          ║
║ i090170    ║ Fall 2000   ║    205 ║ 4          ║
║ i090170    ║ Fall 2000   ║    209 ║ 3.67       ║
║ i090170    ║ Fall 2000   ║    211 ║ 3          ║
║ i090170    ║ spring 2000 ║    200 ║ 3.67       ║
║ i090170    ║ spring 2000 ║    201 ║ 2.67       ║
║ i090170    ║ spring 2000 ║    203 ║ 2          ║
║ i090170    ║ spring 2000 ║    205 ║ 4          ║
║ i090170    ║ spring 2000 ║    209 ║ 3.67       ║
╚════════════╩═════════════╩════════╩════════════╝ 
```

注意：学生可以在学期学习多门课程，即 5 或 6

我所做的是我计算了编号。学生在一个学期所修的课程

```
select abc
from
(
    select Student_Id,Semester, count(distinct Courses) as abc
    from All_Registration B
    group by Student_Id,Semester
)A; 
```

这将返回学生在一个学期中学习的不同课程的数量

现在我想计算SGPA。我想查询可以为每个学生的每个学期执行以下操作：

> “所有课程的总和（一门课程的成绩点* 3））/该学生每学期的课程数量”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:19:09.943

尝试这个，

```
select sum(Gradepoint*3)/count (distinct course) as gpa
from All_Registration group by Student_Id,Semester 

or

select (3*sum(Gradepoint))/count (distinct course) as gpa
from All_Registration group by Student_Id,Semester 
```

样本结果：

```
GPA
36927.03
12049.02 
```

**注意：我没有包括您的所有数据。所以这个结果会和你预期的不同**

# [SQL 小提琴演示](http://sqlfiddle.com/#!4/fb27c/6)

# html - 将 CSS 悬停菜单转换为单击以进行响应式设计

> ID：14098115
> 
> 赞同：0
> 
> 时间：2012-12-31T06:09:01.190
> 
> 标签：html, css, menu, click, hover

我想为移动视图制作菜单，而在移动设备上不使用鼠标悬停菜单，如果用户触摸或单击该菜单，我需要展开子菜单。

HTML：

```
<div id="cssmenubox">
<ul id="cssmenu">
<li><a href="#">Home</a></li>
<li><a href="#">Gallery</a>
<ul>
<li><a href="#">Single</a></li>
<li><a href="#">Story</a></li>
<li><a href="#">Monotone</a></li>
</ul>
</li>
<li><a href="#">Post</a>
<ul>
<li><a href="#">News</a></li>
<li><a href="#">Blog</a></li>
<li><a href="#">Quotes</a></li>
</ul></li>
<li><a href="#">About</a></li>
</ul>
</div>​ 
```

这是我的 CSS 示例，我需要将“悬停”更改为“单击”以进行移动视图。

```
#cssmenubox { width: auto; height:auto; }
ul#cssmenu {
list-style: none !important;
margin: auto;
padding: 0;
width: 100%;
height: 75px;
display: block;
background-color: #fff !important;
}
ul#cssmenu ul { 
display: block; 
}
ul#cssmenu li {
font-size: 32px;
margin: auto;
list-style: none !important;
height: 75px;
display: block;
width:100%;
display:block;
}
ul#cssmenu li:first-child {
}

ul#cssmenu a {
display: block;
text-decoration: none;
font-weight:normal;
height: 75px;
color: #000;
}
ul#cssmenu a:hover {
color: #0090D3;
height: 75px;
}
ul#cssmenu li > ul { display:none; }
ul#cssmenu li:hover ul { 
display: block;
font-size: 14px;
}
ul#cssmenu li:hover ul li {
display:block;
width:auto;
height:auto;
}
ul#cssmenu li > ul > li { 
display:block;
}
ul#cssmenu li > ul > li {
background-color:#fff;
z-index:2;
position:relative;
height:75px;
}
ul#cssmenu li:first-child {
}​ 
```

示例：http: [//jsfiddle.net/mVBXM/](http://jsfiddle.net/mVBXM/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T11:32:38.330

你为什么不尝试媒体查询？采用

```
@media only screen and (max-width: 480px) {
     /* Your CSS code comes here */
} 
```

确保覆盖移动视图中不需要的所有属性。这样，桌面视图的 CSS 不会影响移动视图。

据我所知，CSS 中没有可用的 click 伪类。所以你需要使用Javascript来做到这一点。检查此链接以获取更多详细信息。

[http://www.w3.org/TR/CSS2/selector.html](http://www.w3.org/TR/CSS2/selector.html)

# asp.net - ASP.NET：部署后，我自己的 ThreadPool 线程没有被终止，CPU 被 100% 使用

> ID：14098118
> 
> 赞同：1
> 
> 时间：2012-12-31T06:09:16.353
> 
> 标签：asp.net, iis, appdomain, producer-consumer, blockingcollection

我有一个在 IIS 7、.NET 4 上运行的 ASP.NET 应用程序，它偶尔需要与另一个 Web 服务通信（触发并忘记样式通知）。到目前为止，我曾经`Thread`为每个我发现非常无效的通知触发一个（由于创建新线程的成本很高）。

出于这个原因，我开始使用`BlockingCollection<>`容器来跟踪需要处理的通知，并`Application_Start`使用此代码启动 3 个消费者来处理此队列：

```
Task.Factory.StartNew(Consumer.Create(sessionBuilder), TaskCreationOptions.LongRunning);
Task.Factory.StartNew(Consumer.Create(sessionBuilder), TaskCreationOptions.LongRunning);
Task.Factory.StartNew(Consumer.Create(sessionBuilder), TaskCreationOptions.LongRunning); 
```

其中 sessionBuilder 只是一个提供数据库会话的对象。

消费者看起来像这样：

```
public static class Consumer
{
    private static readonly ILog log = LogManager.GetLogger(typeof(Consumer));

    public static Action Create(ISessionBuilder sessionBuilder)
    {
        return () =>
        {                
            while (true)
            {
                try
                {
                    if (RequestQueue.Requests.IsCompleted)
                        return;                        

                    var request = RequestQueue.Requests.Take();
                    Process(sessionBuilder, request);
                }
                catch (Exception e)
                {
                    log.Error("Exception caught in the consumer's thread", e);
                }
            }
        };
    }

    // The processing methods
    //
} 
```

虽然这似乎工作正常，但只要我将新版本的应用程序部署到 IIS，服务器的 CPU 就开始被我的`w3wp`进程使用 99%。这绝对是我使用 BlockingQueue 带来的，在改变之前它并没有这样。

为了弄清楚 CPU 时间到底花在哪里，我让[WMemoryProfiler](http://wmemoryprofiler.codeplex.com/)和 WinDbg 随时查看所有托管线程的堆栈跟踪的捕获。

通过这种方式，我发现在我的进程 100% 使用 CPU 的那一刻，我有 17 个消费者线程正在运行，它们都将时间花在以下方面：

```
[GCFrame: 0000000012b2df58]
[HelperMethodFrame_1OBJ: 0000000012b2e048] System.Threading.Monitor.ObjWait(Boolean, Int32, System.Object)
System.Threading.SemaphoreSlim.WaitUntilCountOrTimeout(Int32, Int64, System.Threading.CancellationToken)
System.Threading.SemaphoreSlim.Wait(Int32, System.Threading.CancellationToken)
System.Collections.Concurrent.BlockingCollection`1[[System.__Canon, mscorlib]].TryTakeWithNoTimeValidation(System.__Canon ByRef, Int32, System.Threading.CancellationToken, System.Threading.CancellationTokenSource)
System.Collections.Concurrent.BlockingCollection`1[[System.__Canon, mscorlib]].TryTake(System.__Canon ByRef, Int32, System.Threading.CancellationToken)
System.Collections.Concurrent.BlockingCollection`1[[System.__Canon, mscorlib]].Take()
AppServer.Core.Queue.Consumer+<>c__DisplayClass1.b__0()
System.Threading.Tasks.Task.Execute()
System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object, Boolean)
System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
System.Threading.Tasks.Task.ExecuteEntry(Boolean)
System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object, Boolean)
System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object)
System.Threading.ThreadHelper.ThreadStart(System.Object)
[GCFrame: 0000000012b2eae8]
[DebuggerU2MCatchHandlerFrame: 0000000012b2eed0]
[ContextTransitionFrame: 0000000012b2f068]
[DebuggerU2MCatchHandlerFrame: 0000000012b2f290] 
```

所以，很明显，我在这里有一个问题。消费者不会在 AppDomain 卸载时终止（在部署后第一个 HTTP 请求到达时立即发生）。

* * *

1) 为什么消费者没有被终止？我以为那`AppDomainUnloadException`是为了。

2）我是否应该有一些全局取消令牌，我会发出信号（但什么时候？）并让当前消费者知道他们的时间已经结束？或者这里推荐的模式是什么？

3) 17 个线程在上面显示的调用堆栈中花费时间充分利用 CPU 是否正常？或者，更确切地说，调用`Take()`可以`BlockingCollection<>`同时将这么多线程置于这种情况下是否正常？

# c# - 到 IIS 的网站管理工具

> ID：14098127
> 
> 赞同：0
> 
> 时间：2012-12-31T06:10:05.870
> 
> 标签：c#, asp.net, iis

我是 IIS 和 asp.net 的新手。起初，我用 Asp.net 网站管理工具创建了登录页面，当我在 VS2008 中调试时它可以工作。

我在 IIS 上打开了窗口功能。然后我将登录页面发布到本地主机，一切正常，除了我无法登录我的登录页面。任何人都可以帮我解决这个问题？？

我尝试添加虚拟目录（C:\Windows\Microsoft.NET\Framework\v4.0.30319\ASP.NETWebAdminFiles）并将其转换为应用程序，但它仍然不起作用。

当我浏览到“http://localhost/WebSiteAdmin/”时
，它有我：

配置错误

说明：处理服务此请求所需的配置文件期间发生错误。请查看下面的具体错误详细信息并适当地修改您的配置文件。

解析器错误消息：无法识别的属性“targetFramework”。请注意，属性名称区分大小写。

源错误：

```
Line 1:  <configuration>
Line 2:      <system.web>
Line 3:          <compilation targetFramework="4.5" />
Line 4:          <membership>
Line 5:              <providers> 
```

源文件：C:\Windows\Microsoft.NET\Framework\v4.0.30319\ASP.NETWebAdminFiles\web.config 行：3

版本信息：Microsoft .NET Framework 版本：2.0.50727.5466；ASP.NET 版本：2.0.50727.5456

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:21:44.993

将您的目标框架更改为 4.0：-

```
Line 1:  <configuration>
Line 2:      <system.web>
Line 3:          <compilation targetFramework="4.0" />
Line 4:          <membership>
Line 5:              <providers> 
```

还将您的`AppPool`开关更改为 4.0。

检查此内容以了解如何逐步切换到 4.0：-[如何在 IIS 7、Windows 7 上将 ASP.NET 4.0 添加为应用程序池](https://stackoverflow.com/questions/4890245/how-to-add-asp-net-4-0-as-application-pool-on-iis-7-windows-7)

# language-agnostic - 为什么要区分表达式和语句

> ID：14098129
> 
> 赞同：4
> 
> 时间：2012-12-31T06:10:12.893
> 
> 标签：language-agnostic, functional-programming, procedural-programming

在许多（实际上我曾经使用过的）函数式语言中，语句和表达式之间没有区别，每个代码块的最后一个值是块的“返回值”。另一方面，通常不被认为是纯粹功能性的语言通常会引入这种区别。

作为我所说的一个例子，下面的 python 代码打印`None`：

```
def foo():
    5 + 5
print(foo()) 
```

而方案代码打印`10`

```
(define (foo) (+ 5 5))
(display (foo)) 
```

显然，我对喜欢一种风格而不是另一种风格的人的主观答案不感兴趣，而是客观原因。

对我来说，这种区别似乎使语言的语法和实现更加复杂（一个不太明显的例子是 c++ 标准中针对模板和 void 类型的必要例外，或者引入了“shortcut if statements”，就像`?`在 c - 影响的语言）没有真正的好处 - 但很可能有一个原因，即使是新的现代语言仍然具有这种区别。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-31T12:43:39.420

无处不在的副作用。

如果您使用的是纯函数式语言，那么一切都是表达式。甚至返回类似的“语句” `()`（可能通过它们的类型来区分，例如`IO ()`.

然而，大多数编程语言默认允许在任何地方或任何地方产生效果，因此排序成为关键，因此您需要使用特殊的语法来为计算机排序语句，通常用分号分隔。

这不是纯表达式的情况，它可以以保留表达式语义的任何顺序进行评估。

副作用动作被认为是特殊的表达式，它们具有特殊的语法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-31T06:40:54.830

首先，让我说我认为你在问两个，也许更多，不同的问题：“为什么有些表达在句法上与其他表达不同？” 和“为什么要对它们进行排序的语义是什么？”

对于你的第一个问题：我从我读过的很多东西中得到的感觉是，语句*是*表达式，但是在所有情况下都不能作为子表达式出现的一类受限的表达式，例如，

```
x = 4
y = (x += 1) 
```

上面的 python 代码将产生语法错误，因为语句出现在预期（不受限制的）表达式的地方。我将语句与副作用、排序和命令式风格联系起来。我不知道您是否认为编程风格是对您问题的主观回答（风格本身当然是主观的）。

我也很想听听其他人对这个问题的看法。

对于第二个问题：语义有时是任意决定的，但目标是合理的语义，不同的语言设计者只是在最合理（或最预期）上有所不同。令我惊讶的是，如果控制在 Python 中到达函数体的末尾，它会返回 None，但这些是语义。设计人员必须回答类似的语义问题，例如“while 循环的类型应该是什么？” 和“如果 if 语句没有 else 分支，它的类型应该是什么？在语法上应该在哪里允许这样的语句（如果这样的 if 语句是语句序列中的最后一个语句，可能会出现问题）？”

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T21:06:15.937

问题是，“为什么新语言仍然有语句而不是表达式？”，对吗？

编程语言设计解决不同的问题，例如

1.  简单的语法，
2.  简单的实现，
3.  简单语义

属于更具理论性的设计目标和

1.  生成的编译代码的执行速度
2.  编译速度
3.  执行程序的资源消耗
4.  易于使用（例如易于阅读）

属于更实用的...

这些设计目标没有明确的定义，例如简短的语法不一定是结构最清晰的，那么哪个更简单？

（考虑到你的例子）

为了易于使用或代码可读性，语言设计者可能会要求您在函数产生的值（或者更确切地说是表达式）前面写“return”。这是一个回报声明。如果你可以省略“return”，它仍然是隐含的，它仍然可以被视为一个 return 语句（它在代码中不会那么明显）。如果将其视为表达式，则这意味着替换语义，例如 Scheme，但可能不是 Python。从句法的角度来看，区分需要“return”的语句和表达式是有意义的。

查看机器代码（我没有做太多，所以我可能错了）在我看来只有语句，没有表达式。

例如你的例子：

```
ld r1, 5
ld r2, 5
add r3, r1, r2
ret r3 
```

（显然，我正在编造这个）

So for people that like to think in terms of how a (von Neumann) CPU core actually operates, or who want to simplify compilation for such a target architecture, statements are the way.

There is also the particular 'evil' (as in non-functional) assignment statement. It is required for expressing terminating loops without recursion. According to Dijkstra, loops have simpler semantics than recursion (ref. E.W. Dijkstra, "A Discipline of Programming" 1976). A loop executes faster and consumes less storage than recursion. Unless your language optimizes for tail recursion (like Scheme).

# python-2.7 - Python：如何从字符串中只删除第一个单词

> ID：14098130
> 
> 赞同：11
> 
> 时间：2012-12-31T06:10:30.410
> 
> 标签：python-2.7

输入字符串如下所示：

```
line = "Cat Jumped the Bridge" 
```

输出应该是“跳桥”。

我试过了

```
s2 = re.match('\W+.*', line).group() 
```

但它返回

```
Traceback (most recent call last):
  File "regex.py", line 7, in <module>
    s2 = re.match('\W+.*', line).group()
AttributeError: 'NoneType' object has no attribute 'group' 
```

所以显然这场比赛失败了。

感谢您的任何建议。乔

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-12-31T06:57:17.663

Python 的[split](http://docs.python.org/2/library/stdtypes.html#str.split)有一个可选的第二个参数称为`maxsplit`，用于指定最大的拆分数量：

```
line = "Cat Jumped the Bridge"
s2 = line.split(' ', 1)[1] 
```

引用文档`str.split`：

> 返回字符串中单词的列表，使用 sep 作为分隔符字符串。如果给定 maxsplit，则最多完成 maxsplit 拆分

所以解释一下这段代码： `str.split(' ', 1)`创建一个包含两个元素的列表：第一个元素是第一个单词（直到它到达一个空格），第二个元素是字符串的其余部分。为了只提取字符串的其余部分，我们使用`[1]`来指示第二个元素。

注意：如果您担心有多个空格，请`None`用作 的第一个参数`str.split`，如下所示：

```
line = "Cat Jumped the Bridge"
s2 = line.split(None, 1)[1] 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-31T06:16:33.953

如果你不依赖于正则表达式，你可以这样做：

```
In [1]: line = "Cat Jumped the Bridge"

In [2]: s2 = ' '.join(line.split()[1:])

In [3]: s2
Out[3]: 'Jumped the Bridge' 
```

`line.split()`获取字符串并将其拆分为空格，返回一个包含每个单词作为项目的列表：

```
In [4]: line.split()
Out[4]: ['Cat', 'Jumped', 'the', 'Bridge'] 
```

从该列表中，我们使用第二个元素（跳过第一个单词）及其之后的所有内容`[1:]`：

```
In [5]: line.split()[1:]
Out[5]: ['Jumped', 'the', 'Bridge'] 
```

然后最后一部分是使用 将它们连接在一起`join`，这里我们使用空格字符将列表中的所有字符串“连接”回一个字符串：

```
In [6]: ' '.join(line.split()[1:])
Out[6]: 'Jumped the Bridge' 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-12-31T06:17:09.283

您还可以使用`.partition()`：

```
>>> line = "Cat Jumped the Bridge"
>>> word, space, rest = line.partition(' ')
>>> word
'Cat'
>>> space
' '
>>> rest
'Jumped the Bridge' 
```

要解决您现在拥有的问题，请添加一个捕获组并使用`\w`而不是`\W`（它们是相反的）：

```
>>> re.match(r'(\w+)', line).group()
'Cat' 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-12-31T06:13:32.333

可以更简单：

```
line = "Cat Jumped the Bridge"
s2 = " ".join(line.split()[1:]) 
```

使用正则表达式：

```
line = "Cat Jumped the Bridge"
s2 = re.sub('^\S+\s+', '', line) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-01-21T06:23:48.203

Or.........

```
words = ["Cat", "Cool", "Foo", "Mate"]
sentence = "Cat Jumped the Bridge"

for word in words:
    if word in sentence:
        sentence = sentence.replace(word, "", 1)
        break 
```

Otherwise....

```
sentence = "Cat Jumped the Bridge"

sentence = sentence.split(" ")
sentence.pop(0)
sentence = " ".join(sentence) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-02-10T02:17:47.663

```
def delete_first_word(p):
    letter = 0
    for e in p:
        if e[0] == " ":
            return line[letter + 1:]
        else:
            letter = letter + 1
line = "Cat Jumped the Bridge"
print delete_first_word(line) 
```

# c++ - SFINAE，演绎与实例化

> ID：14098131
> 
> 赞同：6
> 
> 时间：2012-12-31T06:10:41.370
> 
> 标签：c++, standards

这段代码无法在大多数编译器中编译，但起初我直觉地希望 SFINAE 能保护我：

```
typedef void (*A)();

template < typename T >
struct a_metafun { typedef typename T::type type; };

template < typename T >
typename a_metafun<T>::type f(T) {}

template < typename T>
void f(T(*)()) {}

int main() { f(A()); } 
```

我至少可以通过两种方式解决这个问题：

1.  将“metafun”f() 的定义更改为：

    `template < typename T > typename T::type f(T) {}`

2.  定义`a_metafun`这样它分析`T`并有一个类型，如果`T`有一个，如果没有，则没有......但是以任何一种方式实例化都没有错误：

    ```
    BOOST_MPL_HAS_XXX_TRAIT_DEF(type)

    typedef < template T, bool = has_type<T>::value >
    struct a_metafun { };

    typedef < template T >
    struct a_metafun<T, true> { typedef typename T::type type }; 
    ```

在查看 14.8.2 (C++03) 时，我觉得它准确地指定了 SFINAE 可以应用的条件。有更好的地方看吗？已经推导出的模板的实例化失败，即使在推导另一个模板期间，似乎也不会包含在此列表中。

我用来解释什么是非法的另一个方向是 a_metafun 的推断已经发生，并且它的内部实例化是导致错误的原因。SFINAE 在实例化期间不适用，而仅在演绎期间适用，还是我错了？但是，在第二种情况下， a_metafun 被正确地实例化并且格式正确，但它内部根本没有“类型”定义，这意味着尝试实例化它的模板由于替换而失败。

基本上我想知道标准中的哪些内容指定了我正在目睹的行为。我尝试过的每个编译器都会抱怨，甚至是喜剧。我认为他们这样做是正确的，我只是不完全确定为什么。

那么，专家们......这是什么？为什么类型的实例化，即使在 f() 中的推导上下文中也会导致错误而不是 SFINAE 排除？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T06:42:18.827

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-31T06:14:09.280

*SFINAE*不会在那里保护你，错误发生*在*类型扣除之后。但是，这应该有效：

```
template < typename T, typename Type = typename T::type >
struct a_metafun { typedef Type type; }; 
```

通过访问`T::type`默认模板参数，我们可以在替换时发生这种情况，此时*SFINAE*会启动。

**编辑：**在考虑了更多之后，我不确定您当前的实施为什么会失败。我认为是因为`a_metafun` *有*一个成员类型`type`，它会导致编译错误；如果`a_metafun`根本没有成员类型，情况会有所不同`type`。

# spring - java.sql.SQLException：无法解析捆绑包 deadbeef-face-babe-cafe-babecafebabe

> ID：14098134
> 
> 赞同：0
> 
> 时间：2012-12-31T06:10:58.213
> 
> 标签：spring, jakarta-ee, repository, jackrabbit, jcr

我正在尝试创建 JCR 存储库。我正在使用 Tomcat 7 和 jdk 6 以及 jar 作为：

```
commons-collections-3.2.1.jar
commons-dbcp-1.3.jar
commons-io-2.2.jar
commons-pool-1.5.4.jar
concurrent-1.3.4.jar
jackrabbit-api-2.5.2.jar
jackrabbit-core-2.5.2.jar
jackrabbit-jcr-commons-2.5.2.jar
jackrabbit-spi-2.5.2.jar
jackrabbit-spi-commons-2.5.2.jar
jcr-2.0.jar
log4j-1.2.14.jar
log4j-over-slf4j-1.6.4.jar
lucene-core-4.0.0.jar
postgresql-8.2-504.jdbc4.jar
slf4j-api-1.6.4.jar
xercesImpl-2.8.1.jar
xmlParserAPIs-2.0.2.jar 
```

我的服务器的 Context.xml 文件：

```
<Resource 
            name="jcr/repository" 
            auth="Container"
            type="javax.jcr.Repository"
            factory="org.apache.jackrabbit.core.jndi.BindableRepositoryFactory"
            configFilePath="C:/comrep/fiplrepository/repository.xml"
            repHomeDir="C:/comrep/fiplrepository/repository"></Resource> 
```

我的 Servlet 类：

```
1)...InitialContext inc = new InitialContext();
2)...Context context = (Context) inc.lookup("java:comp/env");
3)...Object repository = context.lookup("jcr/repository");//This line gives error... 
```

第 3 行）给出了一个错误：

```
javax.jcr.RepositoryException: org.apache.jackrabbit.core.state.ItemStateException: failed to read bundle (stacktrace on DEBUG log level): deadbeef-face-babe-cafe-babecafebabe: java.sql.SQLException: Failed to parse bundle deadbeef-face-babe-cafe-babecafebabe
    at org.apache.jackrabbit.core.version.InternalVersionManagerImpl.<init>(InternalVersionManagerImpl.java:208)
    at org.apache.jackrabbit.core.RepositoryImpl.createVersionManager(RepositoryImpl.java:492)
    at org.apache.jackrabbit.core.RepositoryImpl.<init>(RepositoryImpl.java:311)
    at org.apache.jackrabbit.core.RepositoryImpl.create(RepositoryImpl.java:589)
    at org.apache.jackrabbit.core.jndi.BindableRepository.createRepository(BindableRepository.java:141)
    at org.apache.jackrabbit.core.jndi.BindableRepository.init(BindableRepository.java:117)
    at org.apache.jackrabbit.core.jndi.BindableRepository.<init>(BindableRepository.java:106)
    at org.apache.jackrabbit.core.jndi.BindableRepositoryFactory.getObjectInstance(BindableRepositoryFactory.java:52)
    at org.apache.naming.factory.ResourceFactory.getObjectInstance(ResourceFactory.java:143)
    at javax.naming.spi.NamingManager.getObjectInstance(Unknown Source)
    at org.apache.naming.NamingContext.lookup(NamingContext.java:843)
    at org.apache.naming.NamingContext.lookup(NamingContext.java:154)
    at org.apache.naming.NamingContext.lookup(NamingContext.java:831)
    at org.apache.naming.NamingContext.lookup(NamingContext.java:168)
    at com.willcode4beer.demo.jcr.JcrDemoServlet.doPost(JcrDemoServlet.java:33)
    at com.willcode4beer.demo.jcr.JcrDemoServlet.doGet(JcrDemoServlet.java:22)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source)
Caused by: org.apache.jackrabbit.core.state.ItemStateException: failed to read bundle (stacktrace on DEBUG log level): deadbeef-face-babe-cafe-babecafebabe: java.sql.SQLException: Failed to parse bundle deadbeef-face-babe-cafe-babecafebabe
    at org.apache.jackrabbit.core.persistence.pool.BundleDbPersistenceManager.loadBundle(BundleDbPersistenceManager.java:902)
    at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundleCacheMiss(AbstractBundlePersistenceManager.java:766)
    at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundle(AbstractBundlePersistenceManager.java:749)
    at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.exists(AbstractBundlePersistenceManager.java:560)
    at org.apache.jackrabbit.core.version.InternalVersionManagerImpl.<init>(InternalVersionManagerImpl.java:162) 
```

我的 repository.xml 文件包含：

```
<Repository>
    <FileSystem class="org.apache.jackrabbit.core.fs.local.LocalFileSystem">
        <param name="path" value="${rep.home}/repository" />
    </FileSystem><!-- security configuration -->
    <Security appName="Jackrabbit">
        <AccessManager
            class="org.apache.jackrabbit.core.security.SimpleAccessManager">
        </AccessManager>
        <LoginModule class="org.apache.jackrabbit.core.security.SimpleLoginModule">             
            <param name="anonymousId" value="anonymous" />
        </LoginModule>
    </Security>
    <Workspaces rootPath="${rep.home}/workspaces"
        defaultWorkspace="default" />
    <Workspace name="${wsp.name}">
        <FileSystem class="org.apache.jackrabbit.core.fs.db.DbFileSystem">
        <param name="driver" value="org.postgresql.Driver"/>
          <param name="url" value="jdbc:postgresql://myPort/DMS"/>
          <param name="user" value="postgres" />
          <param name="password" value="pass" />
          <param name="schema" value="postgresql"/>
          <param name="schemaObjectPrefix" value="pm_ws_${wsp.name}_"/>
    </FileSystem>
        <PersistenceManager class="org.apache.jackrabbit.core.persistence.pool.PostgreSQLPersistenceManager">
          <param name="driver" value="org.postgresql.Driver"/>
          <param name="url" value="jdbc:postgresql://myPort/DMS"/>
          <param name="user" value="postgres" />
          <param name="password" value="pass" />
          <param name="schema" value="postgresql"/>
          <param name="schemaObjectPrefix" value="pm_ws_${wsp.name}_"/>
           <param name="externalBLOBs" value="false"/>
        </PersistenceManager>
        <SearchIndex class="org.apache.jackrabbit.core.query.lucene.SearchIndex">
            <param name="path" value="${wsp.home}/index" />
        </SearchIndex>
    </Workspace><!-- Configures the versioning -->
    <Versioning rootPath="${rep.home}/version">
        <FileSystem class="org.apache.jackrabbit.core.fs.local.LocalFileSystem">
            <param name="path" value="${rep.home}/version" />
        </FileSystem>
        <PersistenceManager class="org.apache.jackrabbit.core.persistence.pool.PostgreSQLPersistenceManager">
          <param name="url" value="jdbc:postgresql://myPort/DMS"/>
          <param name="user" value="postgres" />
          <param name="password" value="pass" />
          <param name="schema" value="postgresql"/>
          <param name="schemaObjectPrefix" value="pm_vs_"/>
        </PersistenceManager>       
    </Versioning>
    <SearchIndex class="org.apache.jackrabbit.core.query.lucene.SearchIndex">
        <param name="path" value="${rep.home}/repository/index" />
    </SearchIndex>
</Repository> 
```

在我的存储库路径中，我可以看到存储库文件夹已生成，并且在我的数据库中创建了命名表。那么这里出了什么问题，我在这里改变了什么，该程序将运行。另外，我如何为 RMI 配置以便我的其他应用程序可以调用此存储库？请帮帮我，我上周就卡在这里了。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T08:38:30.193

你确定lucene核心版本吗？在我看来，Jackrabbit 2.5.2 适用于 Lucene 3.6 而不是 4.0，因此这可能是您的新错误的原因。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-02T14:59:07.233

“无法读取包：deadbeef-face-babe...”消息是存储库不一致的症状。您可能会发现 Adob​​e CQ5 知识库中的这些文章很有帮助：[修复“jcr:system”节点](http://dev.day.com/content/kb/home/Crx/Troubleshooting/FixTheJcrSystemNode.html)和[一致性检查](http://dev.day.com/docs/en/cq/current/deploying/upgrading/consistency-check.html)。

# android - 如何在 Android 安装时将大文件保存在外部存储上？

> ID：14098135
> 
> 赞同：1
> 
> 时间：2012-12-31T06:11:10.397
> 
> 标签：android, installation

我正在创建一个使用[MapsForge](http://code.google.com/p/mapsforge)库来显示地图的 Android 应用程序。MapsForge 中的地图视图显示来自大文件的数据。一旦这个文件存在，它只会被读取，而永远不会被编辑。

在开发过程中，我手动将文件复制到外部存储。

如何让apk包含这个文件，并确保在安装APP时，这个文件会被写入外部存储？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T06:16:04.790

如果 APK 包含该文件，并且您将其写入外部存储，那么它将在 APK 和外部存储中。你不希望出现这种情况。

您想要：

*   首次运行应用程序时通过 HTTP 下载文件
*   使用[APK 扩展文件](http://developer.android.com/google/play/expansion-files.html)

# python - Python Twitter 搜索 OAuth 帮助 - tweepy

> ID：14098137
> 
> 赞同：0
> 
> 时间：2012-12-31T06:11:22.490
> 
> 标签：python, search, twitter, oauth, tweepy

我想我错过了什么，需要有人打我的头。

```
import sys
import tweepy
import urllib
import simplejson
from pprint import pprint

CONSUMER_KEY = '----'
CONSUMER_SECRET = '----'
ACCESS_KEY = '----'
ACCESS_SECRET = '----'

auth = tweepy.OAuthHandler(CONSUMER_KEY, CONSUMER_SECRET)
auth.set_access_token(ACCESS_KEY, ACCESS_SECRET)
api = tweepy.API(auth)

rate = api.rate_limit_status()
print rate["remaining_hits"]

print api.me().name

search = urllib.urlopen("https://api.twitter.com/1.1/search/tweets.json?q=+arsenal&page=1")

dict = simplejson.loads(search.read())

pprint(dict) 
```

OAuth 有效，我可以使用 tweepy API 返回我的 rate_limit_status 并打印我的名字。然后我想使用搜索 API v1.1（tweepy 的 api.search() - 实现没有 OAuth 的旧搜索）并得到一个“错误的身份验证数据”错误。

我认为我对 OAuth 的理解是非常不正确的——我假设一旦获得访问令牌，我就可以进行授权调用。通过运行上面的代码，我认为那是错误的 - 有人可以帮我使用 OAuth 执行 API1.1 搜索 - 我需要随请求一起发送什么？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T06:15:55.753

您无需使用 OAuth 进行 Twitter 搜索。打电话

```
search = urllib.urlopen("https://search.twitter.com/search.json?q=+arsenal&page=1") 
```

顺便说一句，当您调用 Twitter API 时，`urllib.urlopen`您没有传递任何 OAuth 凭据，因此如果端点需要身份验证，您将收到错误消息。如果您查看 Tweepy 的源代码，它必须发送 Twitter 每次调用所需的凭据。

# php - 如何从 php 将字符串值传递给我用 C# 编写的 Web 服务？

> ID：14098144
> 
> 赞同：1
> 
> 时间：2012-12-31T06:12:28.367
> 
> 标签：php, .net, soap, nusoap

我想调用一个用asp.net(C#)编写的soap web服务。实际上，web方法将一个字符串作为参数并返回一些字符串作为输出。

在客户端（PHP）中，我使用**nusoap**访问 Web 服务。

这是调用我的网络服务的 php 代码...

```
<?php

require_once('nusoap/lib/nusoap.php');
$wsdl="http://localhost/suppliers.asmx?WSDL";
$param=array('name'=>'saran');

$client = new soapclient($wsdl,'wsdl');
echo $client->call('ShowSuppliers',$param);
?> 
```

但是当我运行这段代码时，回显语句只是在浏览器中显示**Array ......**

我不知道这里有什么问题......

但是当我尝试遵循这样的 Broncha 方法时，它运行良好......

我没有直接使用 echo 语句，而是这样尝试

```
$result=$client->call('ShowSuppliers',$param);

foreach($result as $key => $value)
{
  echo $value;
} 
```

这两个有什么区别...

请指导我摆脱这个问题......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T08:10:28.327

$client->call('ShowSuppliers',$param); 为您返回一个 Array 元素，因此每当您回显一个数组元素时，它都会被视为在浏览器中写入的 Array。要打印一个数组，您可以使用 print_r(array name) 或 var_dump(array name);。

在下一个代码中，您将使用 foreach 循环，因此它将数组元素解析为键和值对。

请不要使用 call('ShowSuppliers',$param); 因为 call 功能已被弃用，请参阅链接[http://php.net/manual/en/soapclient.call.php](http://php.net/manual/en/soapclient.call.php)

而是使用soapCall函数请看链接[http://php.net/manual/en/soapclient.soapcall.php](http://php.net/manual/en/soapclient.soapcall.php)

由于该功能已弃用，因此以后可能会产生问题。

# android - 过滤 logcat 输出

> ID：14098147
> 
> 赞同：3
> 
> 时间：2012-12-31T06:13:10.980
> 
> 标签：android, filter, logcat

我知道有很多这样的问题，但我确信我的情况有点不同。

我知道如何为不同的应用程序创建过滤器，但问题是我的 logcat 似乎正在打印很多 opengl 和其他消息，如“JpgDecHal”、“Input”、“Posix”等。

我只想要我放入代码中的 Log.d（或 .whatever）语句，而不是所有其他内容。

我如何确保我只得到我想要的而不是这个？在大多数其他手机上一切都很好。

以下是显示的几行（我不需要）：

```
12-31 10:56:33.921: D/IPCThreadState(2360): [DN #5] BR_CLEAR_DEATH_NOTIFICATION_DONE     cookie 0xcad6e8
12-31 10:56:54.367: D/My Id(2360): hassan@yopmail.com
12-31 10:56:54.370: I/System.out(2360): [socket][21] connection     /192.168.1.142:80;LocalPort=33289(20000)
12-31 10:56:54.370: I/System.out(2360): [CDS]connect[/192.168.1.142:80] tm:20
12-31 10:56:54.371: D/Posix(2360): [Posix_connect Debug]Process com.nettech.Socialcommunity :80 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T07:07:06.120

除了所有其他建议；这是一个 NOT RegEx，它将向您显示除 () 中列出的项目之外的所有内容：

```
tag:^((?!InputEventConsistency|memalloc|Resources|global|Facade[B|U]|dalvik|skia|szipinf|APACHE).)*$ 
```

当然，您需要选择自己的条款。这些只是我放入过滤器的项目的示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T06:43:44.490

在所有 Log 语句中使用唯一标签，然后仅按该标签过滤。这样，即使您的应用程序的进程有其他记录的语句（如 OpenGL 等），您也只会获得带有该标记的语句。

就像是：

```
Log.d("MySuperUniqueTag", "My Message"); 
```

然后在 eclipse filer 中使用 LogCat：

```
tag:MySuperUniqueTag 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T06:46:00.523

在您的应用程序的 classTAG 的过滤器中，这将确保只有来自您的应用程序的日志才会出现在 LogCat 窗口中。

在 Logcat 搜索栏的右侧，有一个小框（默认情况下）`verbose`上面有名称。单击该框时，将名称更改为`debug`。这将确保只有 Log.d 语句会出现在 LogCat 窗口中。

我希望这有帮助。

# signalr - SignalR 连接 ID

> ID：14098149
> 
> 赞同：0
> 
> 时间：2012-12-31T06:13:16.970
> 
> 标签：signalr

即使页面刷新，我也试图保留我的连接 ID。我在客户端保存了一个 cookie，但是在尝试检索它时，request.Cookies.Count 为 0。

这是接口实现：

```
public class ConnectionFactory : IConnectionIdPrefixGenerator
{
    public string GenerateConnectionIdPrefix(IRequest request)
    {
        if (request.Cookies["signalrconnid"] != null)
        {
            return request.Cookies["signalrconnid"].Value;
        }

        return Guid.NewGuid().ToString();
    }
} 
```

这是从 Start() 函数调用的：

```
 GlobalHost.DependencyResolver.Register(typeof(IConnectionIdPrefixGenerator), () => new ConnectionFactory()); 
```

这是客户端：

```
function setCookie(cName, value, exdays) {
    var exdate = new Date(2013,1,1,0,0,0,0);
    var c_value = escape(value) + ((exdays == null) ? "" : "; expires=" + exdate.toUTCString ());
    document.cookie = cName + "=" + c_value;
} 
```

（不要介意日期）

我看过很多关于它的帖子，但我不明白有什么区别。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T20:02:33.710

正如@Chris Moutray 指出的那样，最好不要以这种方式使用 ConnectionId 。如果我站在你的立场上，我会在客户端上创建一个 SessionId，将其存储在 cookie 或[会话存储](http://www.w3schools.com/html/html5_webstorage.asp)中，传递该 sessionId 而不是 connectionId，然后将其用作长期会话和短期会话之间的适当映射术语连接。（使用 UserId 作为映射的问题是用户可以同时从多个位置登录。）

# struts2 - Struts 2 Ajax url 和 div 标签不适用于 struts 文件标签

> ID：14098154
> 
> 赞同：2
> 
> 时间：2012-12-31T06:13:53.537
> 
> 标签：struts2, dojo

在 Jsp 页面上，我正在检索基于先前列表选择的列表，用于使用 struts 2 url 和 struts dojo 标签 div

```
<s:url id="d_url" action="employDivisionAction"/>
<sx:div showLoadingText="false"  id="details1" href="%{d_url}"  theme="ajax"      listenTopics="show_division" onchange="show_Department()" formId="frm_demo"/> 
```

在js文件中调用了这个函数

```
function show_Department()
{
   dojo.event.topic.publish("show_department");
} 
```

一切正常我能够检索列表但是当我尝试使用时出现问题

```
<s:file/> 
```

jsp中的标签。当我包含上述标签时，ajax 功能停止工作。任何想法为什么它不起作用任何指导都会有所帮助。

完整的jsp代码

```
<s:form name="employee" action="AddEmployee" method="POST" theme="css_xhtml" enctype="multipart/form-data" id="frm_demo" >

       <table align="center" cellspacing="10px">
                      <tr>

                 <td align="left">  <s:text name="global.empno"/> </td>
                 <td align="left">  <s:textfield name="employeeNo" value="%{employee.employeeNo}"  onkeypress="return inputLimiter(event,'NameCharactersAndNumbers')"/> </td>
                 <td align="left"> <s:text name="global.fnm"/> </td>
                <td align="left"> <s:textfield name="firstName" value="%{employee.firstName}" onkeypress="return inputLimiter(event,'NameCharacters')"/> </td>
                     </tr>
                <tr>
                    <td><s:file name="Image"/></td>
                </tr>    

                <tr>
                    <td align="left"> <s:text name="Company"/> </td>

                    <td align="left"><s:select name="currentCompany" id="companyList" headerKey="" headerValue="Select" list="companyList" onchange="show_branch()"/></td>  

                    <td align="left"> <s:text name="Branch"/> </td>
                    <td align="left">
                    <div ><s:fielderror fieldName="branchName" /></div>
                    <s:url id="d_url" action="employBranchAction"/>
                    <sx:div  showLoadingText="false" name="branchDiv" id="details" href="%{d_url}"  theme="ajax" listenTopics="show_branch" onchange="show_division()" formId="frm_demo"/>
                    </td>

                </tr>

                <tr>
                    <td align="left"> <s:text name="Division"/> </td>
                    <td align="left">
                    <div ><s:fielderror fieldName="divisionName" /></div>
                    <s:url id="d_url" action="employDivisionAction"/>
                    <sx:div showLoadingText="false"  id="details1" href="%{d_url}"  theme="ajax" listenTopics="show_division" onchange="show_Department()" formId="frm_demo"/>
                    </td>
                    <td align="left"> <s:text name="Department"/> </td>
                    <td align="left">
                    <div><s:fielderror fieldName="departmentName"  /></div>
                    <s:url id="d_url" action="employDepartmentAction"/>
                    <sx:div showLoadingText="false"  id="details2" href="%{d_url}"  theme="ajax" listenTopics="show_department" onchange="show_Section()" formId="frm_demo"/>
                    </td>
                </tr> 

                <tr>
                    <td align="left"> <s:text name="Section"/> </td>
                    <td align="left">
                    <div><s:fielderror fieldName="sectionName"  /></div>
                    <s:url id="d_url" action="employSectionAction"/>
                    <sx:div showLoadingText="false"  id="details3" href="%{d_url}"  theme="ajax" listenTopics="show_section" onchange="show_Unit()" formId="frm_demo"/> 
                    </td>
                    <td align="left"> <s:text name="Unit"/> </td>
                    <td align="left">
                    <div ><s:fielderror fieldName="unitName" /></div>
                    <s:url id="d_url" action="employUnitAction"/>
                    <sx:div showLoadingText="false"  id="details4" href="%{d_url}"  theme="ajax" listenTopics="show_unit" onchange="show_Position()" formId="frm_demo"/>
                    </td>
                </tr>

                <tr>
                    <td align="left"> <s:label value="Position"/> </td> 
                    <td align="left">
                    <div><s:fielderror fieldName="positionName" /></div>
                    <s:url id="d_url" action="employPositionAction"/>
                    <sx:div showLoadingText="false"   id="details5" href="%{d_url}"  theme="ajax" listenTopics="show_position"  formId="frm_demo"/>     
                    </td>

                </tr>

                </table>

                <s:set name="webFramework" value="%{employee.employeeID}"/>
                    <table align="center" cellspacing="20px">
                    <tr> 
                        <s:if test="#webFramework==0">
                        <td align="left"> <s:submit  value="Add" cssClass="buttonSmall" onclick="return validateEmployee();"/> </td>
                        </s:if>
                        <s:if test="#webFramework>0">
                        <td align="left"> <s:submit name="update" cssClass="buttonSmall" value="Update"/> </td>
                        </s:if> 
```

```
 </tr>  
                    </table>

                </s:form> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T08:08:19.640

添加`<s:file/>`（即，一旦呈现，它是一个`<input type="file"/>`）到页面，需要表单内容类型`multipart/form-data`而不是默认的（即`application/x-www-form-urlencoded`）。

因此，您*应该*添加`enctype="multipart/form-data"`表单的属性；

但是，也就是说，如果您尝试使用 AJAX 上传文件，这是不可能的（根据[这个 SO answer](https://stackoverflow.com/questions/2320069/jquery-ajax-file-upload)，最终可以使用 XHR2 上传 AJAX。）；

最好的办法是在单独的页面/选项卡/表单中管理文件上传，而不是在同一个 AJAX 调用中。

* * *

编辑：你的`<sx:div />`内部有相同的形式`<s:file />`，它指的是`frm_demo`带有`formId`参数的形式。

根据[文档](http://struts.apache.org/2.3.4/docs/dojo-div.html)，formId 属性指定

> 其字段将被序列化并作为参数传递

然后，当您尝试发布 dojo AJAX 请求时，您将尝试序列化所有表单元素，包括 File 元素。Java 文件不能立即序列化，尤其是 AJAX 库；是空的还是不使用都没关系`<s:file />`：它与您发布的形式相同，那么它会导致问题；移动`<s:file />`到另一个表单（即使在同一页面中），它也会起作用。

最初的解决方案是正确的，现在我们有了解释:)

[文档](http://www.w3.org/TR/html401/interact/forms.html#h-17.13)

PS：Dojo 使用 XHRPOST 发布数据，无法发送二进制数据（如上所述，现在可以使用 jQuery 和 XHR2）。

请注意，自 2.1 以来，Struts 已弃用 Dojo... 最新版本建议将 jQuery 作为 AJAX 库（但不包括在内，因此选择权在您身上）

# php - php设置计时器然后调用一个函数

> ID：14098168
> 
> 赞同：0
> 
> 时间：2012-12-31T06:15:06.083
> 
> 标签：php, timer, youtube

我有一个 youtube 视频，它的持续时间以秒为单位，我想为该视频设置一个计时器，一旦完成，然后调用一个具有不同视频的函数。到目前为止，我所拥有的是：

```
$ytvidid = 'qasCLgrauAg';
$ytdataurl = "http://gdata.youtube.com/feeds/api/videos/". $ytvidid;
$feedURL = $ytdataurl;
$sxml = simplexml_load_file($feedURL);
$media = $sxml->children('http://search.yahoo.com/mrss/');
// get <yt:duration> node for video length
$yt = $media->children('http://gdata.youtube.com/schemas/2007');
$attrs = $yt->duration->attributes();
$length = $attrs['seconds']; 
```

在此示例中返回 16 秒，所以我尝试过：

```
usleep($length * 1000000);
flush();
loadnext();

function loadnext(){
    //heres my next video
} 
```

出于某种原因，这不起作用..我做错了什么吗？我也尝试过 javascript window.setInterval(...) 但这在下一个视频加载时重置间隔也不起作用。任何帮助深表感谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:17:34.273

对于`16 seconds`延迟，您必须使用

```
usleep($length * 1000000);  // 1000000 == 1 second 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T06:21:19.537

由于您处理的是秒（而不是微秒），因此您可以考虑使用[`sleep`](http://php.net/manual/en/function.sleep.php)而不是[`usleep`](http://php.net/manual/en/function.usleep.php).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-05T23:45:52.853

好的，经过几个小时的阅读，我发现我想要完成的事情不能用 php 的 sleep 或 usleep 函数来完成。所以我终于让它与 javascript 一起工作：

```
<script type="text/javascript">
var id = 1;
next(id);
var t;
function setValue(time, rowid)
{

    id = rowid;
    t = setInterval(cleartime, time * 1000);    
}

function cleartime()
{
    clearInterval(t);
    next(parseInt(id, 10));
}
function next(id){
    //this gets values and calls the setValue function again        
}
</script> 
```

# php - 使用包含（'' ) 与在 php 中使用类

> ID：14098171
> 
> 赞同：1
> 
> 时间：2012-12-31T06:15:26.427
> 
> 标签：php

在我的项目中，我必须为各种目的创建很多 php 函数。我的问题是哪种方法更适合我的项目

1.  分离 .php 文件中的函数并根据需要包含它们，或者
2.  绑定类内的函数并使用这些类，如面向对象的方法

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:19:41.907

在许多情况下，过程编程很好。为了使用它而在php中使用OOPS是没有用的。

但是恕我直言，您使用 OOP 来保持代码干燥和清洁。如果您的大多数功能都与相同的东西相关（例如购物车），最好将它们分组。

如果您要使用**继承**或**多态性**或设置属性并且几乎没有东西`private`，那么最好在那里使用 OOP 方法。

这在很大程度上取决于他们执行什么样的功能。

这里的问题可能是代码组织而不是决定选择过程或面向对象的编程方法。将函数组织到单独的源文件中可能是这里需要的，而不是放弃编写程序的过程方法

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T06:17:44.433

单独的类文件，因此您可以更轻松地重用您的代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T06:20:39.800

第二种方法将使其他开发人员的代码健壮且易于理解，以作为我作为开发人员的未来优先和最佳方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-31T07:08:55.063

如果函数属于同一类别，则对函数进行分组是一件好事。否则，使用基于类别的类对函数进行分组。

# android - 如何在 Eclipse IDE 中集成 unity3d？

> ID：14098178
> 
> 赞同：5
> 
> 时间：2012-12-31T06:16:10.277
> 
> 标签：android, eclipse, eclipse-plugin, unity3d

我是新手`Unity3d`，无法上手如何整合`Unity3d with Eclipse IDE`？

实际上我需要使用 Unity3d 在 android 中创建游戏。

我提到[了这一点](http://docs.unity3d.com/Documentation/Manual/android-GettingStarted.html)，但从那开始，我无法完全了解如何整合它。

谁能给我提供如何集成它的步骤？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T07:01:39.490

请参阅下面的这些链接。在第一个链接中，有一个分步过程如何将统一与 eclipse..
[http://www.rbcafe.com/Softwares/Unity/Documentation/Manual/Android-Integrating%20Unity%20With%20Eclipse .html](http://www.rbcafe.com/Softwares/Unity/Documentation/Manual/Android-Integrating%20Unity%20With%20Eclipse.html)
[将 Unity 与 Eclipse 集成 - 如何遵循“官方”教程的说明？](https://stackoverflow.com/questions/9022207/integrating-unity-with-eclipse-how-to-follow-the-official-tutorials-instruc)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-04-24T14:46:34.113

你不需要 Eclipse 来制作安卓游戏。访问此链接以学习团结

[http://unity3d.com/learn/tutorials/modules](http://unity3d.com/learn/tutorials/modules)

当您为统一制作 android 插件时，您需要 eclipse 或 android studio

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-12T15:37:24.050

从内部统一按文件/构建设置/android/然后检查google android项目复选框并选择要导出项目的文件夹。

之后，统一会将您的项目导出为 android 项目。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-10T07:27:06.950

在 Unity 中：文件 -> 构建设置。平台，选择安卓。选中复选框“Google Android 项目”。构建它。

你会得到一个 Google Android Project 然后用 Eclipse 打开它

# jquery - 在 jQuery 中存储用户偏好

> ID：14098185
> 
> 赞同：0
> 
> 时间：2012-12-31T06:16:37.207
> 
> 标签：jquery

我的广告系统有以下代码：

```
 function showandhide()
 {
    if ($('.showandhide').html() == 'show ads')
    {
       $('.showandhide').html("show ads");
       $('.ads').hide();
    }
    else 
    {
       $('.showandhide').html("hide ads");
       $('.ads').show();
    }
 } 
```

代码非常简单。它在我的网站上隐藏和显示广告。问题是它不存储用户偏好。我该如何存储它们？有没有不使用数据库的快速方法？我不想创建代码来将信息存储到我的数据库中，只是为了隐藏和显示广告。还有其他快速解决方案吗？也许在 jQuery 中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T06:29:04.440

如果您尝试临时存储详细信息，可以将其保存在会话中。为此，您可以使用[`jquery ajax`](http://api.jquery.com/jQuery.ajax/)..

```
$.ajax({
   url: '/update-session.php',
   data:"detail="+detail,
   type: 'post',
   success:function(data){
       // if you care. 
   }
}); 
```

**服务器端**

```
$_SESSION['pageX'] = $_POST['detail']; 
```

**添加**

为了检查会话变量是否存在

检查此链接 php [Session_id_registered](http://php.net/manual/en/function.session-is-registered.php)

并且您只想在单击按钮时保存会话。你可以通过使用[jquery click 事件](http://api.jquery.com/click/)..

希望这可以帮助！！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T06:26:25.783

[jStorage](http://www.jstorage.info/)允许您将 JavaScript 对象存储在用户的 Web 浏览器中。它适用于最新的浏览器和旧版本的 IE。

如果您需要从服务器端代码访问首选项数据，请考虑使用[jQuery Cookie 插件](https://github.com/carhartl/jquery-cookie)来设置 cookie 。缺点是设置 cookie 会稍微增加带宽使用，因为浏览器必须为每个 HTTP 请求发送它。

这两种方法都允许您避免将数据存储在服务器上的数据库中。

# checkbox - Extjs 4 网格：添加复选框列而不附加到数据字段

> ID：14098187
> 
> 赞同：3
> 
> 时间：2012-12-31T06:16:52.073
> 
> 标签：checkbox, grid, extjs4

我需要在我的 Extjs 网格中有一个带有未分配数据字段的复选框的列。我已经尝试过 checkColumn 插件，但它仅在我为其分配数据字段时才有效。

我的意思是它适用于以下代码：

```
{header: 'Business Call?',dataIndex: 'business', width: 55, xtype: 'checkcolumn'} 
```

但对于这段代码，它只显示一个复选框，但不可点击：

```
{header: 'Set Business Call', width: 55, xtype: 'checkcolumn'} 
```

我想要发生的是，当用户勾选复选框时，我需要对相应的数据库行进行一些操作。这可能与 Extjs 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T06:48:58.727

你打算用可点击的复选框做什么？如果它只是您试图拦截的单击行为，那么指定 dataIndex 有什么害处？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T20:51:28.617

请记住，您应该将复选框的图片添加到来自 extjs-->resources-->images-->default-->grid 的图像中

```
{
 xtype: 'checkcolumn',
 header: 'Capital City',
 dataIndex: 'CapitalCity',
 editor: {
          xtype: 'checkbox',
          cls: 'x-grid-checkheader-editor'
          }
} 
```

# c++ - 如何从变量中删除特定字符串

> ID：14098191
> 
> 赞同：0
> 
> 时间：2012-12-31T06:17:15.103
> 
> 标签：c++

我正在为我自己的个人使用为 python 编写一个简单的 IDE，并且在 writeFile 函数上，我可以选择输入命令 endl 来开始一个新行，它工作正常；但是，当我查看它生成的文件时，它会在新行之前打印 endl 。那么有什么办法可以从变量中删除“endl”并防止它被写入文件。

```
 void writeFile()
    {
         ofstream fos("data.py");
         string data;
         bool done = false;
         string temp;
         cout << "Enter Some Data. Enter s to stop." << endl;
         while(!done)
         {
             cin >> data;
             if(data == "s")
             {
                 done = true;
             }
             else if(data == "endl")
             {
                   fos << data + "\n";
             }
             else if(data != "s" && data != "endl")
             {
                   fos << data + " ";
             }
         }
         fos.close();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T06:47:39.187

之所以在`endl`文件中打印，是因为您在检查. 你可以试试这个：`data``fos``endl or new line`

```
void writeFile()
{
 ofstream fos("data.py");
 string data;
 bool done = false;
 string temp;
 cout << "Enter Some Data. Enter s to stop." << endl;
 while(!done)
 {
     cin >> data;
     if(data == "s")
     {
         done = true;
     }
     else if(data == "endl")
     {
           fos <<"\n";
     }
     else if(data != "s" && data != "endl")
     {
           fos << data + " ";
     }
 }
 fos.close();
} 
```

# php - PHP Rand() 工作不一样导致不同的 rand () 变量..

> ID：14098192
> 
> 赞同：0
> 
> 时间：2012-12-31T06:17:19.227
> 
> 标签：php, random

我有这个代码：

```
$im = glob($directory . "*.html");
$last = end($im );
$hongi= rand(2, $last); 
```

这不起作用，因为 rand () 期望参数 2 起作用，并且该参数是一个字符串。

可以使 rand () 与可变参数一起使用吗？

在此先感谢您的帮助。

编辑：

更好地解释这段代码：

我有数千个文件，每个文件名都是一个数字。

我在一个数组中提取这些文件的名称。

我使用 end() 获取最后一个值。

使用 $hongi 获得介于“2”和数组最后一个值之间的随机值。

**所以随机值永远不会超过数组的最后一个值。**

我有一个非常基本的错误，因为我得到了这样的文件路径：

../motor/sector1/17001400300120110111900.html ../motor/sector1/17001400300120110111920.html ../motor/sector1/17001400300120110111930.html ../motor/sector1/170101140030.html

所以我这样做

```
$im = glob($directory . "*.html");
$last = end($im );
$numl = substr($last,24,-5);
$hongi= rand(2, $num1); 
```

那很好，但是我这样做了：

```
 $hongi= rand(2, $num1);
 $hongi1= rand(2,$num1);
 $hongi2= rand(2, $num1);
$hongi3= rand(2, $num1);
 $hongi4= rand(2, $num1); 
```

但是所有“hongi”变量都是相同的结果。为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T06:24:13.470

如果您希望使用字符串进行随机选择，则需要将它们放入数组中并进行 Array shuffle。

```
shuffle($array_of_filenames);
echo $array_of_filenames[0]; 
```

更多示例： http: [//php.net/manual/en/function.shuffle.php](http://php.net/manual/en/function.shuffle.php)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-31T06:20:50.973

类型转换可能会有所帮助：

```
$hongi= rand(2, (int)$last); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-31T06:28:23.950

如果你想得到一个随机的文件名，首先，你使用`rand()`不正确。最小值和最大值之间需要 2 个整数。您为 max 提供的值是文件路径，而不是整数。你想要`count()`$im，并使用它：

```
$im = glob($directory . "*.html");
$last = count($im);
$hongi= rand(2, $last - 1); // -1 because arrays start at 0
$random_file = $im[$hongi]; 
```

# jquery - 使用 css 和 Jquery 的水平多级菜单

> ID：14098195
> 
> 赞同：0
> 
> 时间：2012-12-31T06:17:43.470
> 
> 标签：jquery, html, css, horizontallist

我正在尝试制作一个在此[示例](http://energycell.co.uk/about.html)中显示的简单水平列表菜单，到目前为止，我已将 List & CSS 复制到[jsFiddle](http://jsfiddle.net/7uWyf/)（[新示例更新](http://jsfiddle.net/sxDbu/14/)），但它似乎无法以类似的方式工作。我找不到可以查看和复制的类似示例。

我将不胜感激这方面的帮助。

```
<ul>
<li><a  href="index.html">Home</a></li>
<li><a  href="about.html">About</a></li>
<li><a  href="services.html">Services</a>
    <ul>
      <li><a  href="graphic-design.html">Graphic Design</a></li>
       <li><a href="web-design.html">Web Design</a></li>
      <li><a href="multimedia.html">Multimedia</a></li>
      <li><a href="exhibitions.html">Exhibitions</a></li>
       <li><a href="trademarketing.html">Trade Marketing</a></li>
    </ul>
</li>
<li><a href="work.html">Work</a></li>
<li><a href="clients.html">Clients</a></li>
<li><a href="wordpress">Blog</a></li>
<li><a href="contact.html">Contact</a></li>
</ul> 
```

CSS

```
nav#mainnav ul {
    bottom: 57px;
    height: 0;
    list-style: none outside none;
    margin: 0;
    padding: 0;
    position: absolute;
    right: 0;
}
nav ul {
    list-style: none outside none;
}
ol, ul {
    color: #242320;
    font-size: 0.8em;
    font-weight: bold;
    line-height: 1.3em;
    margin: 10px 40px;
}
ul {
    margin-left: 30px;
} 
```

**更新：**

我可以使它作为水平菜单工作，但是一段时间后我无法淡出子菜单我该怎么做[示例更新](http://jsfiddle.net/sxDbu/14/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:43:07.563

试试这个：http: **[//jsfiddle.net/7uWyf/8/](http://jsfiddle.net/7uWyf/8/)**

```
$('ul li').hover(function() { // hover on main li
  $('ul', this).show(); // if this will have an ul, will show it
}, function() {
  $('ul', this).hide(); // when mouse is out anywhere in doc area will hide it.
}); 
```

# c# - 反序列化为动态加载的类

> ID：14098198
> 
> 赞同：0
> 
> 时间：2012-12-31T06:17:52.940
> 
> 标签：c#, xml-serialization

我必须在 XML 下反序列化。但我必须将传感器数据存储到动态加载的类中。我怎样才能做到这一点？

**XML 格式**

```
 <Root>
        <Sensor id="0" Channel="1000">
            <SensorName>RM-T</SensorName>
            <SensorValue>148.00</SensorValue>
        </Sensor>
        <Sensor id="1" Channel="1001">
            <SensorName>SAT1</SensorName>
            <SensorValue>148.00</SensorValue>
        </Sensor>
    </Root> 
```

**存储反序列化数据的主类**

```
[Serializable]
[XmlRoot(ElementName = "Root")]
public class Controller
{        
    public List<Sensor> SensorList
    {
        get;
        set;
    }       
} 
```

**传感器类**

```
 public abstract class Sensor
    {
        String SensorName { get; set; }
        String SensorValue { get; set; }   
        public abstract override String ToString();     
    } 
```

**常规传感器类**

```
 public class RegularSensor : Sensor
    {

        public override string ToString()
        {
           //Implementation goes here
        }
    } 
```

在反序列化期间，我需要将传感器数据加载到 RegularSensor 类我该怎么做？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-12-31T06:43:05.887

这适合你吗：

```
 public class RegularSensor : Sensor
    {
        Sensor mySensor = new Sernsor();
        public override string ToString()
        {
           //Implementation goes here
        }
    } 
```

然后在函数中反序列化这个对象'mySensor'。你可以获得所有数据。

# sap-erp - 无需文档即可获取有关屏幕字段的技术信息

> ID：14098204
> 
> 赞同：4
> 
> 时间：2012-12-31T06:19:03.607
> 
> 标签：sap-erp, dynpro

在 SAP ERP GUI 中，对于报告选择标准：当没有为该字段维护文档时，如何获取与屏幕字段关联的技术信息？

通常，当有该字段的文档时，我可以在该字段处于焦点时按 F1。这将打开帮助窗口。在帮助窗口中，有一个技术信息按钮。按下它将弹出一个对话框，其中包含与屏幕字段相关的更多技术细节。如果没有为该领域维护文档，我如何获取此信息？

TIA，马丁

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-02T13:54:37.047

有时选择屏幕字段和对象根本不显示文档窗口，而只是显示信息消息：

```
No documentation available 
```

在这种情况下，一个技巧是使用报表的变体屏幕。在报告选择屏幕打开的情况下，键入[ctrl](/questions/tagged/ctrl "显示标记为“ctrl”的问题") + [s](/questions/tagged/s "显示标记为“s”的问题")进入变量屏幕，然后按下`Technical Name`按钮切换所有选择屏幕字段的技术名称的显示。

这只会为您提供特定于该报告的内部参数名称。要查找有关参数字段的更多信息，您仍然需要查看 ABAP 代码以了解它是如何定义的。

# wpf - 从 WPF 开始 - 一般问题

> ID：14098207
> 
> 赞同：0
> 
> 时间：2012-12-31T06:19:28.023
> 
> 标签：wpf, templates, radio-button

我现在开始学习 WPF，我也开始使用 Blend，所以我有一些初学者问题：

1 - 我想知道“简单”控件和常规控件之间的区别，例如 SimpleButton 和 Button 之间的区别。

2 - 我想制作自己的 RadioButton，但由于功能相同而且我只是改变它的外观，我想我只需要为 RadioButton 制作一个新模板，对吧？

3 - 我正在创建的 RadioButton 是一个灰色正方形，里面有黑色文本和一个用于 RadioButton 选择指示的黑色项目符号。我想我只需要更改 RadioButtons 的背景色，但我在 Blend 中找不到该选项。它在哪里？

非常感谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T08:40:20.453

1-您指的是简单的样式？
2-是的，你是对的
3-在原始模板中，“点”是由可见性设置的，你可以对背景做同样的事情

```
<Trigger Property="IsChecked" Value="true">
     <Setter Property="Visibility" TargetName="Dot" Value="Visible"/>
</Trigger> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-16T12:28:11.027

1 - 我没听懂，你说的简单控制是什么意思，让我知道更多细节

2-是的，您需要为单选按钮创建一个控件模板，它将编辑逻辑树并更改外观。

3 - 如果您真的想更改单选按钮的背景颜色，请转到您创建的控件模板并应用单选按钮的背景属性。

# asp.net - java.lang.IllegalArgumentException：无效的 IPv4 格式 J2me Midp 2.0 和 Asp.net 4.0 版

> ID：14098209
> 
> 赞同：1
> 
> 时间：2012-12-31T06:19:48.437
> 
> 标签：asp.net, java-me, ksoap2, midp

我必须通过 j2me 应用程序 MIDP-2.0 访问 IIS Asp.net 4.0 版服务。相同的 J2me 代码可以访问 Asp.net 2.0 版服务。

我无法弄清楚我必须在我的 J2me 代码中进行哪些更改以及在何处进行更改？为此谷歌了很多，但没有得到任何解决方案。我的代码如下：

```
 public String loginVerification(String userId, String pwd){
        String Method_Name = "mLogin";
        //String Method_Name = "LoginCheck";
        try{
        SoapObject request = new SoapObject(Constants.NAMESPACE_URL, Method_Name);
        request.addProperty("userid", userId);
        request.addProperty("password", pwd);
        SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
        envelope.dotNet = true;
        envelope.setOutputSoapObject(request);
        HttpTransport ht = new HttpTransport(Constants.LOGIN_URL);
        ht.debug = true;
        ht.call(Constants.NAMESPACE_URL+Method_Name, envelope); // getting error here
        SoapPrimitive result = (SoapPrimitive) envelope.getResponse();
        return result.toString();
        }catch(IOException e){
            return e.getMessage().toString();
        }catch(XmlPullParserException e){
            return e.getMessage().toString();
        }

    } 
```

我正在使用 Ksoap2-j2me-core 2.12 jar 来访问 Asp 服务。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-03T09:08:13.743

对 URL 进行了更改，我的问题得到了解决。网址就像“http://anup.abc.com/mService/someService.asmx”

将其替换为“http://121.211.23.123/mService/someService.asmx”并得到输出。

# zend-framework - 如何从索引视图显示 zend 框架上的图像？

> ID：14098211
> 
> 赞同：2
> 
> 时间：2012-12-31T06:19:50.717
> 
> 标签：zend-framework, zend-view

我是zend框架的新手。我正在尝试从索引视图中显示图像。下面是我的代码：

```
<?php         
echo "Student List";
//$this->headTitle($this->title);
?>
<p><a href="<?php echo $this->url(array('controller'=>'index', 
        'action'=>'add'));?>">Add new student</a></p>
<table>
<tr>
    <th>Name</th>
    <th>Email</th>
    <th>Photo</th>
    <th>&nbsp;</th>
</tr>
<?php foreach($this->students as $student) : ?>
<tr>
    <td><?php echo $this->escape($student->name);?></td>
    <td><?php echo $this->escape($student->email);?></td>
    <td><img src='opt/lampp/htdocs/framework/zf-tutorial/project.png' alt='sdfsd'></td>
    <td>
        <a href="<?php echo $this->url(array('controller'=>'index', 
            'action'=>'edit', 'id'=>$student->id));?>">Edit</a>
        <a href="<?php echo $this->url(array('controller'=>'index', 
            'action'=>'delete', 'id'=>$student->id));?>">Delete</a>
    </td>
</tr>
<?php endforeach; ?>
</table> 
```

它只显示替代文本而不是图像。请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:34:37.313

如果您使用默认文件夹结构，请尝试以下操作：

创建一个文件夹`images`。将您的图像放入`project.png`您的`public`文件夹（public/images/project.png）。

在您的视图脚本中使用 baseUrl Viewhelper：

```
<img src="<?php echo $this->baseUrl() . '/images/project.png' ?>" alt='sdfsd'/> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T06:42:12.530

如果您想在 PHP 代码中访问图像文件夹内容，请使用此

```
<img src="<?php echo $this->baseUrl()?>/images/project.png" /> 
```

如果你想在你的 javascript 中访问图像而不是在你的`layout.phtml`

```
 <script type="text/javascript">
       var config = {baseUrl: '<?php echo $this->baseUrl() ?>'};
   </script> 
```

现在您可以像这样访问图像文件夹内容

```
<img src="'+config.baseUrl+'/images/project.png" /> 
```

# android - 如何以编程方式防止在android中安装/卸载应用程序？

> ID：14098214
> 
> 赞同：2
> 
> 时间：2012-12-31T06:20:26.213
> 
> 标签：android, uninstallation

是否可以以编程方式阻止在 android 中安装/卸载应用程序？如果可能的话，我该如何为我的儿童应用程序执行此操作。我无法获得有用的答案。非常感谢任何帮助。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T06:30:18.183

没有 API 可以做这样的事情

但是 - 您可以开发自己的定制启动器

[Android - 创建自定义启动器](https://stackoverflow.com/questions/7107010/android-creating-custom-launcher)，并以此限制用户查看或仅执行您想要的操作。例如 - 当您实现显示所有应用程序的主屏幕时 - 当您实现卸载功能时 - 打开一些对话框要求输入密码..

您还需要 root 设备，以实现隐藏系统栏 - 以防止用户访问设置。隐藏状态栏有点棘手，需要运行 linux 命令。例如，在蜂窝中你可以这样做 - [http://android.serverbox.ch/?p=306](http://android.serverbox.ch/?p=306)

stock-rom 附带的内置默认启动器不提供此类功能，但我相信您可以在 Google Play 中找到一些提供此类功能的自定义启动器。安装启动器并重新启动设备后 - 您可以将他定义为默认启动器 - 即使您的孩子将重新启动设备 - 他们也只能访问自定义启动器。

作为一名 Android 开发人员，如果还没有人开发过这样的启动器，我会感到非常惊讶，因为对于开发启动器应用程序的人来说，这是一个非常简单的开发功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-01-25T16:32:19.277

从 Android Lollipop (5) 开始，[DevicePolicyManager](https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html) API 允许[配置文件所有者](https://source.android.com/devices/tech/admin/managed-profiles)管理员或[设备所有者](https://source.android.com/devices/tech/admin/managed-profiles)管理员隐藏和阻止卸载托管应用程序。将您的管理应用程序配置为配置文件所有者或设备所有者后，使用以下 API：

*   [setUninstallBlocked](https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#setUninstallBlocked(android.content.ComponentName,%20java.lang.String,%20boolean))：这允许定义一个不能从设备中删除的包名称。只有配置文件/设备所有者才能启用/禁用此标志。
*   [setApplicationHidden](https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#setApplicationHidden(android.content.ComponentName,%20java.lang.String,%20boolean))：这允许定义将隐藏的包名称，这意味着它将完全禁用并从启动器中消失。请注意，隐藏应用程序不会将其卸载，管理员始终可以取消隐藏它并使用其所有用户数据完全恢复应用程序。

在配置文件所有者管理员的情况下，这两个 API 将仅适用于配置文件管理的即时应用程序（设置工作配置文件后，大多数应用程序被克隆并具有 2 个实例 - 用户即时和配置文件即时）。

* * *

共享系统 uid ( [android:sharedUserId="android.uid.system" ) 的系统应用程序可以通过直接调用](https://stackoverflow.com/questions/17222535/create-system-application)[IPackageManager 接口](http://androidxref.com/5.0.0_r2/xref/frameworks/base/core/java/android/content/pm/IPackageManager.aidl#451)来使用相同的功能，而无需成为配置文件/设备所有者。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T06:39:15.090

如果您想在孩子不知情的情况下执行此操作，您可以不时检查他/她手机中安装的应用程序并卸载不需要的应用程序。请参阅 Install apps silently 中接受的答案[，并授予 INSTALL_PACKAGES 权限](https://stackoverflow.com/questions/5803999/install-apps-silently-with-granted-install-packages-permission)。您应该使用设备系统证书对您的应用进行签名。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-12-31T06:30:11.487

是的，可以以编程方式执行此操作。从下面的代码中，您可以使用意图来执行此操作。安装APK：

```
 Intent intent = new Intent(Intent.ACTION_VIEW);
 intent.setDataAndType(apkUri, "application/vnd.android.package-archive");
 startActivity(intent); 
```

卸载 APK：

```
 Intent intent = new Intent(Intent.ACTION_DELETE, Uri.fromParts("package",
 getPackageManager().getPackageArchiveInfo(apkUri.getPath(), 0).packageName,null));
 startActivity(intent); 
```

希望它会帮助你。谢谢。

# c# - 如何从 .bak 文件恢复 C# windows 应用程序中的 .mdf 数据库

> ID：14098218
> 
> 赞同：-1
> 
> 时间：2012-12-31T06:20:38.857
> 
> 标签：c#, visual-studio-2008

我正在使用 smo 使用这种编码，但什么也没发生。

```
 Restore res = new Restore();
        res.Devices.AddDevice(@"D:\Shivam.bak", DeviceType.File);
        BackupDeviceItem bkpDevice = new BackupDeviceItem(@"\\hqsqlbkup1\VN\Shivam.bak", DeviceType.File);
        res.Database = "ShivamDb";
        res.Action = RestoreActionType.Database;
        res.RelocateFiles.Add(new RelocateFile("Shivam", @"+ System.Windows.Forms.Application.StartupPath +\\Shivam.mdf"));
        res.RelocateFiles.Add(new RelocateFile("Shivam_log", @"System.Windows.Forms.Application.StartupPath + \\Shivam_log.ldf"));

        res.ReplaceDatabase = true;
        MessageBox.Show("Restore complited"); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T06:32:48.247

好的，我看到你创建了一个恢复，初始化了很多 - 但是你在哪里告诉它执行那个？调用 SqlRestore 以实际执行还原在哪里？

不，如果不调用相应的方法，初始化恢复类 (SMO) 不会神奇地执行操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T06:41:42.280

您必须调用 Restore 类的 SqlRestore 或 SqlRestoreAsyc 方法来恢复您的数据库！

在以下链接中，您可以找到有关备份和还原操作的好示例：[http ://www.mssqltips.com/sqlservertip/1849/backup-and-restore-sql-server-databases-programmatically-with-smo/](http://www.mssqltips.com/sqlservertip/1849/backup-and-restore-sql-server-databases-programmatically-with-smo/)

# mysql - 将 MySQL 转换为 Doctrine Query Builder。IF 和 CONCAT 的问题。或另一种选择子查询的方法

> ID：14098219
> 
> 赞同：25
> 
> 时间：2012-12-31T06:20:42.640
> 
> 标签：mysql, symfony, doctrine, doctrine-orm

我的类别有一个表，每个类别都有 id、name 和 parent_id。

```
Select IF(a.parent_id IS NULL, a.name, CONCAT((SELECT b.name FROM category b WHERE b.id = a.parent_id), " / ", a.name) ) as n, a.id, a.parent_id
FROM category a
ORDER BY n 
```

我想把它转换成我的 Doctrine2 Query Builder

```
 $em = $this->getDoctrine()->getEntityManager();
    $qb = $em->createQueryBuilder();
    $q = $qb
            ->select("c.id")
            ->addSelect(
                "IF(c.parent_id IS NULL, c.name, CONCAT((" .
                $em->createQueryBuilder()
                   ->select("t.name")
                   ->from("MyBundle:Category", "t")
                   ->getQuery()->getDQL() .
                "), \" / \", c.name) )"
            )
            ->from("MyBundle:Category", "c");
    echo $q->getQuery()->getSQL();
    exit; 
```

类似的东西，但我不能使用`IF`, 和`CONCAT`.

* * *

## 回答 #1

> 赞同：58
> 
> 时间：2013-01-01T01:41:05.653

好的，我找到了解决方案。

您可以使用`CASE`而不是`IF`. 看看这个，但是当我使用我的字段时，`CASE`我不能：`CONCAT`

```
$em = $this->getDoctrine()->getEntityManager();
$qb = $em->createQueryBuilder();
$q = $qb
      ->select("c.id")
      ->addSelect("CASE WHEN (c.parent IS NULL) THEN c.name ELSE 'something' END")
      ->from("MyBundle:Category", "c")
      ->leftJoin("c.parent", "t");

echo $q->getQuery()->getSQL(); 
```

另一个解决方案是创建自己的 DQL 函数，像这样`IF`使用它：

```
$em = $this->getDoctrine()->getEntityManager();
$qb = $em->createQueryBuilder();
$q = $qb
      ->select("c.id")
      ->addSelect("IF(c.parent IS NULL, c.name, CONCAT(CONCAT(t.name, ' / '), c.name))")
      ->from("MyBundle:Category", "c")
      ->leftJoin("c.parent", "t");

echo $q->getQuery()->getSQL(); 
```

要创建此 IF，您可以访问此链接并学习：[http ://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/dql-doctrine-query-language.html#adding-your -自己的功能到 dql 语言](http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/dql-doctrine-query-language.html#adding-your-own-functions-to-the-dql-language)

我将在这里发布我的 IF 课程和 config.yml 以帮助其他人。这是 IfFunction 类（我从[https://github.com/beberlei/DoctrineExtensions/blob/master/src/Query/Mysql/IfElse.php](https://github.com/beberlei/DoctrineExtensions/blob/master/src/Query/Mysql/IfElse.php)获得）：

```
<?php
namespace MyName\MiscBundle\Doctrine\ORM\Query\AST\Functions;

use Doctrine\ORM\Query\AST\Functions\FunctionNode;
use Doctrine\ORM\Query\Lexer;

/**
 * Usage: IF(expr1, expr2, expr3)
 * 
 * If expr1 is TRUE (expr1 <> 0 and expr1 <> NULL) then IF() returns expr2;
 * otherwise it returns expr3\. IF() returns a numeric or string value,
 * depending on the context in which it is used. 
 * 
 * @author  Andrew Mackrodt <andrew@ajmm.org>
 * @version 2011.06.19
 */
class IfFunction extends FunctionNode
{
    private $expr = array();

    public function parse(\Doctrine\ORM\Query\Parser $parser)
    {
        $parser->match(Lexer::T_IDENTIFIER);
        $parser->match(Lexer::T_OPEN_PARENTHESIS);
        $this->expr[] = $parser->ConditionalExpression();

        for ($i = 0; $i < 2; $i++)
        {
            $parser->match(Lexer::T_COMMA);
            $this->expr[] = $parser->ArithmeticExpression();
        }

        $parser->match(Lexer::T_CLOSE_PARENTHESIS);
    }

    public function getSql(\Doctrine\ORM\Query\SqlWalker $sqlWalker)
    {
        return sprintf('IF(%s, %s, %s)',
            $sqlWalker->walkConditionalExpression($this->expr[0]),
            $sqlWalker->walkArithmeticPrimary($this->expr[1]),
            $sqlWalker->walkArithmeticPrimary($this->expr[2]));
    }
} 
```

之后，您需要像这样更新您的 config.yml（刚刚添加了最后 3 行）：

```
doctrine:
    dbal:
        driver:   "%database_driver%"
        host:     "%database_host%"
        port:     "%database_port%"
        dbname:   "%database_name%"
        user:     "%database_user%"
        password: "%database_password%"
        charset:  UTF8

    orm:
        auto_generate_proxy_classes: "%kernel.debug%"
        auto_mapping: true
        dql: #ADDED THIS LINE
            string_functions: #ADDED THIS LINE
                IF: MyName\MiscBundle\Doctrine\ORM\Query\AST\Functions\IfFunction #ADDED THIS LINE 
```

谢谢

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-08-03T12:42:14.177

您还可以结合`CASE`和`CONCAT`：

```
$q = $this->createQueryBuilder('a')
    ->select('a.id')
    ->addSelect('CASE WHEN(a.parent IS NULL) THEN \'\' else CONCAT(:variable, a.name, \'string\') END as name')
    ->setParameter('variable', $variable)
    ... ; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T09:53:10.810

假设您在 Category 中有一个名为“parent”的关系，这会更好吗？：

```
$em = $this->getDoctrine()->getEntityManager();
$qb = $em->createQueryBuilder();
$q  = $qb
      ->select("c.id")
   ->addSelect("IF (c.parent_id IS NULL, c.name, CONCAT(t.name, ' / ', c.name))"
        ->from("MyBundle:Category", "c")
    ->leftJoin("c.parent t"));

echo $q->getQuery()->getSQL(); 
```

# perl - 用于 ssh 到 linux 机器的 Perl 脚本

> ID：14098221
> 
> 赞同：-1
> 
> 时间：2012-12-31T06:20:53.960
> 
> 标签：perl

> **可能重复：**
> [如何在 Perl 脚本中 ssh？](https://stackoverflow.com/questions/2848725/how-can-i-ssh-inside-a-perl-script)

请让我知道是否有任何方法可以编写 perl 脚本来登录 linux 机器并执行命令。

这里的问题是我需要使用 Perl - 5.6.1 版本，其中没有可用的 SSH 模块

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T13:09:53.740

我尝试了一个程序，它可以工作。

希望你也可以通过修改来使用它。

```
#!/usr/bin/perl

use strict;

system('ssh krishna\@host\.com'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T06:25:39.570

如果可用，您始终可以使用 system() 调用来运行 ssh 客户端（使用公钥身份验证）。如果您使用的是 Windows，您可能需要检查是否可以使用一些 PuTTY 命令行选项来执行此操作。

如果它不是一个常量值，请确保正确转义系统调用以避免 shell 注入。

# mysql - 将参数传递给 MySQL 脚本

> ID：14098222
> 
> 赞同：22
> 
> 时间：2012-12-31T06:20:57.367
> 
> 标签：mysql

我有一个名为的 MySQL 脚本文件`query1.sql`，其中包含：

```
select * FROM $(tblName) LIMIT 10; 
```

我在 MySQL 控制台中，如何将参数传递给脚本？这不会转发变量：

```
mysql> \. query1.sql -v tblName=Users 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-12-31T07:08:36.080

您可以使用[用户变量](http://dev.mysql.com/doc/refman/5.6/en/user-variables.html)来实现您描述的行为。当您将变量用作模式标识符而不是数据值时，您必须使用准备好的语句，以便您可以动态地组合查询。

`query1.sql`：

```
SET @query = CONCAT('Select * FROM ', @tblName, ' LIMIT 10');
PREPARE stmt FROM @query;
EXECUTE stmt;
DEALLOCATE PREPARE stmt; 
```

调用为

```
mysql> SET @tblName = 'Users'; \. query1.sql 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2014-10-16T15:37:39.600

来自vidyadhar 的命令行调用对我有用，但只做了一个小的修改：

```
mysql -u root -p -e"set @temp=1; `cat /home/mysql/Desktop/a.sql`" 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2012-12-31T07:17:32.367

这可能对你有用

```
mysql -u root -p -e"set @temp=1;" < /home/mysql/Desktop/a.sql 
```

和

```
mysql> set @temp=some_value;
mysql> source file.sql 
```

这几乎与您的问题相似，只需尝试一下

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-01-03T00:03:40.053

对于 bash 脚本：

```
tblName=$1 
searchFor="%something%"

echo "select * FROM $tblName LIMIT 10;
      select * From $tblName where somecolumn like '$searchFor';
" | mysql 
```

对于 powershell：

```
$tblName="MyTable"
$searchFor="%something%"

"select * FROM $tblName LIMIT 10;
  select * From $tblName where somecolumn like '$searchFor';
" | mysql 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-10-17T15:37:45.850

上面@user4150422 的答案几乎对我有用，但`cat`给了我权限问题，所以我不得不使用一个轻微的替代方案。奇怪的`source`命令也不能代替 cat 工作，但`\.`确实

```
mysql -u root -p -e"set @temp=1; `\. /home/mysql/Desktop/a.sql`" 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-05-19T19:06:33.550

通过 mysql 变量使用 bash 变量的高级解决方案，例如`@tblName`将值插入特定表：

核心文件 insert.preps 包括程序*准备好的语句*（SET > PREPARE > EXECUTE > DEALLOCATE）：

```
SET @query = CONCAT("INSERT INTO ", @tblName, " (id, time, file, status) VALUES (?, ?, ?, ?)");
PREPARE stmt FROM @query;
SET @id = '0';
EXECUTE stmt USING @id, @time, @file, @status;
DEALLOCATE PREPARE stmt; 
```

*`SET @id = '0';`在文件中预定义，因为`id`通常是`INT AUTO_INCREMENT PRIMARY KEY`. 它将`id`为所有行自动分配正确的。

在 shell 或 bash 脚本中使用变量调用它：

```
mysql --defaults-extra-file=<(echo $'[client]\npassword='"$db_password") --user=$db_user $db_name -e "
     SET @tblName = '$table';
     SET @time = '$timeStamp';
     SET @file = '$file';
     SET @status = '$status';
`cat /path/to/insert.preps`" 
```

# xperf - 比较 Windows 中的两个 ETL 跟踪文件

> ID：14098224
> 
> 赞同：1
> 
> 时间：2012-12-31T06:21:31.027
> 
> 标签：xperf

我有一个带有自定义 ETW 日志记录的应用程序。我使用 XPERF 收听这些频道并打开 ETL 跟踪进行分析。

是否有任何工具可以帮助我直接比较 2 个 ETL 文件？我希望能够衡量我正在做的修复的影响。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T16:12:02.093

我不知道这样的工具。但是您可以将数据转储到 txt 文件中并在那里比较数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-13T04:25:58.327

8.1 版的 WPA 允许您比较两个 ETL 文件。您可以在此处查看有关新功能的更多详细信息：

[http://randomascii.wordpress.com/2013/10/28/new-version-of-xperfupgrade-now/](http://randomascii.wordpress.com/2013/10/28/new-version-of-xperfupgrade-now/)

我没有经常使用它，但在我的简短实验中，它似乎确实有效。

Microsoft 关于比较跟踪的文档写得很好，您绝对应该阅读它，因为跟踪比较的某些方面并不明显。

# java - 在带有协议缓冲区的项目中使用 Proguard 有什么特点？

> ID：14098225
> 
> 赞同：6
> 
> 时间：2012-12-31T06:21:32.670
> 
> 标签：java, obfuscation, protocol-buffers, proguard

我有一个使用 Google 协议缓冲区的项目。一旦我尝试用 ProGuard 混淆它，似乎 protobuf 会导致问题。

我自己的所有课程都打包到`mybuildedclasses.jar`. 谷歌代码打包成`protbuf.jar`

```
mybuildedclasses.jar
protobuf.jar
other external jars 
```

之后我试图混淆`mybuildedclasses.jar`. 配置文件与此[类似](https://stackoverflow.com/a/7511926/1360074)。最终所有的罐子都被包装在另一个胖罐子里。

我运行程序，一旦尝试发送消息，就会打印这种异常。

```
 Caused by: java.lang.RuntimeException: Generated message class "org.mypackage.messages.Control$MessageControlHandCard$Builder" missing method "getCardId".
        at com.google.protobuf.GeneratedMessage.getMethodOrDie(GeneratedMessage.
java:1366)
        at com.google.protobuf.GeneratedMessage.access$1(GeneratedMessage.java:1
361)
        at com.google.protobuf.GeneratedMessage$FieldAccessorTable$SingularField
Accessor.<init>(GeneratedMessage.java:1502)
        at com.google.protobuf.GeneratedMessage$FieldAccessorTable.<init>(Genera
tedMessage.java:1441)
        at org.mypackage.Control$1.assignDescriptors(SourceFile:32
20)
        at com.google.protobuf.Descriptors$FileDescriptor.internalBuildGenerated
FileFrom(Descriptors.java:300)
        at org.evogame.common.messages.Control.<clinit>(SourceFile:3278)
        ... 60 more
Caused by: java.lang.NoSuchMethodException: org.evogame.common.messages.Control$
MessageControlHandCard$Builder.getCardId()
        at java.lang.Class.getMethod(Class.java:1622)
        at com.google.protobuf.GeneratedMessage.getMethodOrDie(GeneratedMessage.
java:1364) 
```

和

```
 Exception in thread "AWT-EventQueue-0" java.lang.ExceptionInInitializerError
        at org.mypackage.messages.Control$MessageControlGameRequest.interna
lGetFieldAccessorTable(SourceFile:527)
        at com.google.protobuf.GeneratedMessage.getAllFieldsMutable(GeneratedMes
sage.java:105)
        at com.google.protobuf.GeneratedMessage.getAllFields(GeneratedMessage.ja
va:153)
        at com.google.protobuf.TextFormat$Printer.print(TextFormat.java:229)
        at com.google.protobuf.TextFormat$Printer.access$2(TextFormat.java:226)
        at com.google.protobuf.TextFormat.print(TextFormat.java:69)
        at com.google.protobuf.TextFormat.printToString(TextFormat.java:116)
        at com.google.protobuf.AbstractMessage.toString(AbstractMessage.java:87) 
```

如果我不混淆，那么一切都会完美。**那么具体应该如何配置`-keep`Google Protocol Buffers 相关代码的选项呢？**

我已经尝试生成消息文件，但它给出了相同的例外。

```
-keep public class org.mypackage.messages.* {
 } 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-02T06:58:02.953

看起来这可能只是包装未对齐的问题。看看错误：

```
 Caused by: java.lang.RuntimeException: Generated message class 
     "org.mypackage.Control$MessageControlHandCard$Builder" 
      missing method "getCardId".
 ... 
```

就是这样`org.mypackage.Control`。

现在看看你的 Proguard 配置：

```
-keep public class org.mypackage.messages.* {
} 
```

那是使用`org.mypackage.messages`，其中不包括`org.mypackage.Control`.

现在大概这些不是您*真正的*包名称 - 但如果它们具有代表性，听起来您需要更改`.proto`文件以在包中发出类`org.mypackage.messages`而不是`org.mypackage`. （您可以改为更改您的 Proguard 配置，但听起来那样会太多。）

或者，您可以只使用继承树。我自己不是 Proguard 用户，但从[示例](http://proguard.sourceforge.net/index.html#manual/examples.html)来看，您可能想要：

```
-keep public class * extends com.google.protobuf.GeneratedMessage 
```

我希望无论包如何，它都能在您的所有协议缓冲区类上工作。您*可能会*发现 protobuf 期望在“顶级”类中还有其他字段/方法。

编辑：进一步查看文档，您可能需要：

```
-keep public class * extends com.google.protobuf.GeneratedMessage { *; } 
```

或者

```
-keep public class * extends com.google.protobuf.GeneratedMessageLite { *; } 
```

以保护所有成员。还有其他“保留”选项正在查看而不是`-keep`，例如`-keepnames`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-22T10:06:27.073

我更喜欢指定字段名称而不是保留整个类成员，这会产生更小的输出。

```
-keepclassmembers your.class.name {
  int sampleIntField;
  String sampleStringField;
} 
```

# java - 在方法重载的情况下，返回类型有何不同？

> ID：14098226
> 
> 赞同：-4
> 
> 时间：2012-12-31T06:21:32.810
> 
> 标签：java

在方法重载的情况下，如果在同一个类中使用了两个具有相同变量数、不同数据类型和不同返回类型的方法，在调用方法时，如果我们只传递两个值，那么执行哪个方法如果它没有被执行，我们会得到什么错误？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-31T06:29:28.233

在决定调用哪个方法时忽略返回类型。仅考虑参数类型。请参阅[JLS #8.4.9](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.9)。

# iphone - iTunes 视频列表

> ID：14098229
> 
> 赞同：1
> 
> 时间：2012-12-31T06:21:54.287
> 
> 标签：iphone, objective-c, itunes

是否有任何 API 或某些权限来获取 iTunes 视频列表。这样我们就可以使用自己的应用程序查看该视频。

我已经尝试通过谷歌上的很多请求找到答案，但没有成功！

所以，我想知道这是否可能，如果可以，如何？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T06:56:44.310

您需要解析此站点中的 RSS 提要。

www.apple.com/rss

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-03T19:00:36.263

更好的是，iTunes 提供的 RSS 提要更能满足您的需求：

[http://itunes.apple.com/rss](http://itunes.apple.com/rss)

您可以将结果缩小到特定国家/地区，获得多达 300 个结果，必要时甚至可以按类型过滤。

更多信息可以在这里找到：

[http://www.apple.com/itunes/affiliates/resources/blog/introduction---rss-feed-generator.html](http://www.apple.com/itunes/affiliates/resources/blog/introduction---rss-feed-generator.html)

# rpm - 从 rpm 安装 RPM

> ID：14098230
> 
> 赞同：2
> 
> 时间：2012-12-31T06:22:05.783
> 
> 标签：rpm, rpmbuild, rpm-spec

我正在尝试从一个 RPM 安装中安装多个 RPM。我已将规范文件放入 %post 部分中，我使用命令安装了另一个 rpm。

```
 %post
 rm -f /var/lib/rpm/__db.0*
 rpm --rebuilddb
 rpm -ivh xyz.rpm 
```

但是当安装主 RPM 时，它会为另一个 rpm 安装获得锁定而不是释放。所以它会给出以下警告并停止安装过程。然后无限等待。所以任何解决方案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-01T07:30:48.517

如果我正确理解您的问题，您应该使用[Requires 标签](http://www.rpm.org/max-rpm/s1-rpm-depend-manual-dependencies.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-12-30T17:07:13.520

所以不会让我对以前的答案附加评论，但我想强调一件事：

您在 %post 期间执行 rpm-i 的计划不会奏效。从架构上讲，由于您提到的确切原因，它不会发生：rpm 锁定 RPMdb，它这样做是为了防止竞争条件和一些损坏。因此，您将需要找到另一种解决方案。

有一个解决方案，到目前为止，Requires: bit 就是其中之一。我知道您想在当前的 rpm 之后安装您的 xyz rpm，但没有“安装后”，因为没有后要求，原因与我们使用“转到”而不是“来自”的原因相同。

因此，使用 Requires: 标签。如果您的订购不完美，仅使用您的 abc.rpm 取决于 xyz.rpm，或 xyz.rpm 取决于 abc.rpm，请构建第三个“虚拟”RPM，它不提供有效负载但需要它们两者：至少，最后一个解决方案将确保安装这两个软件包。

虽然其他人都推荐了 Requires: 标签，并在 %post 中讨论了 rpm-i 的替代方案，但我没有找到任何人直接在 %post 中解决使用 rpm 的可能性；我想确保 OP 知道在不久的将来，拟议的计划没有发挥作用的潜力。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-05-06T11:44:45.790

你可以`rm -rf /var/lib/rpm/.rpm.lock`在你的 %post 脚本中做

# php - 在此代码中显示语法错误

> ID：14098231
> 
> 赞同：-5
> 
> 时间：2012-12-31T06:22:07.203
> 
> 标签：php

我在 WAMP 服务器中测试了这段代码

```
<?php
    $conn = mysql_connect ("localhost", "root","")  or die (mysql_error());
    mysql_set_charset('utf8',$conn);
    mysql_select_db ("movedb");

    $values = new Array();
    $i = 0;
    $text = $_POST['jam'];
    $arrayText = explode(" ", $text);
    foreach($arrayText as $val) {
        $query = mysql_query("SELECT * FROM WORD WHERE ENGLISH = '$val'");
        while($r = mysql_fetch_array($query)) {
            $values[$s] = $r['SINHALA'];
            $i++;
        }
    }

    foreach($values as $val) {
        echo $val.' ';
    }
?> 
```

但显示此错误

```
Parse error: syntax error, unexpected 'Array' (T_ARRAY) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T06:24:22.790

只用这个

```
$values = array(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-31T06:25:28.850

```
 $values[$s] = $r['SINHALA']; 
```

这应该是

```
$values[$i] = $r['SINHALA']; 
```

和

```
$values = []; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-31T06:27:58.390

**$s**既没有初始化也没有增加，它没有被使用。您需要更正**$s**。让它**$i**。

改变 ：

```
$values[$s] = $r['SINHALA']; 
```

至

```
$values[$i] = $r['SINHALA']; 
```

# python - Python NetworkX MatplotLib DiGraph 查找路径长于两个的所有树

> ID：14098233
> 
> 赞同：1
> 
> 时间：2012-12-31T06:22:45.710
> 
> 标签：python, tree, matplotlib, networkx

我在 csv 文件中有类似于以下内容的数据：

```
a,b,50
b,c,60
b,e,25
e,f,20
z,n,10
x,m,25
v,p,15 
```

我正在尝试使用 NetworkX 和 Matplotlib 来绘制数据，但是我的 csv 有很多行/节点，无法从图表中获得任何意义。

这是我用来绘制代码的重要部分：

```
import networkx as nx
import matplotlib.pyplot as plt

G = nx.DiGraph()

f = open("test_data.csv", "r")

for line in f:
    node1, node2, weight1 = line.split(",")
    G.add_edge(node1, node2)

nx.draw(G)
plt.show() 
```

对于此示例数据，我最终得到以下图表：

![样本图](../Images/e7a1dbad237375bcb829999484d0f1bb.png)

从这个小样本中，很容易看出一些节点 ([z,n],[x,m][v,p]) 是只有两个节点的树。我想检测并消除这些，因为我只关心大于两个节点的树。我敢肯定有很多方法可以做，任何人都可以提出建议或举个例子吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:41:55.227

对于您的特定情况，请尝试遍历边列表并查询图形是否目标节点本身有邻居（例如，目标是另一个边中的源）。如果目标不包含其他邻居，则满足您的条件。

代码：

```
for src, trg in G.edges():
    if G.neighbors(trg) == []:
        G.remove_edge(*(src,trg)) # Need the * to unpack the edge nodes 
```

G 应该只包含边 (a, b), (b, e)：（见下面的 ipython 输出）

```
In [35]: G.edges()
Out[35]: [('a', 'b'), ('b', 'e')] 
```

祝你好运！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T10:04:17.460

您可以使用 networkX bellman_ford 方法来查找比给定最小值更长的路径。为此，您需要权重设置为-1 的有向图（或图）G。

以下代码基于[此线程](https://groups.google.com/forum/?fromgroups=#!topic/networkx-discuss/diQPfyVmRPI)。

```
import networkx as nx
import matplotlib.pyplot as plt

data = (('a','b',50), ('b','c',60), ('b','e',25),
        ('e','f',20), ('z','n',10), ('x','m',25),
        ('v','p',15))

G = nx.DiGraph()
for node1, node2, weight1 in data:
    G.add_edge(node1, node2, weight=-1)

min_lenght = 2
F = nx.DiGraph()   #filtered graphs

# check all edges with bellman_ford
for u, v in G.edges():
    vals, distances = nx.bellman_ford(G, u)
    if min(distances.values()) < - min_lenght:
        for u, v in vals.items():
            if v:
                F.add_edge(v, u)

nx.draw(F)
plt.show() 
```

这将产生唯一符合要求的图表：

![在此处输入图像描述](../Images/472160c2fec3132b2c2b3bc2ee2b9bd0.png)

请注意，这是确定具有最长路径（就距离而言）的图形的一般方法的简化。因此，如果您创建包含权重的图表，您可以在更改权重的符号后应用 bellman ford：

```
G = nx.DiGraph()
for node1, node2, weight1 in data:
    G.add_edge(node1, node2, weight=weight1)

min_lenght = 100  

H = nx.DiGraph(G)  # intermediate graph
# change sign of weights
for u, v in H.edges():
    H[u][v]['weight'] *= -1

# check all edges with bellman_ford
for u, v in G.edges():
    vals, distances = nx.bellman_ford(H, u)
    if min(distances.values()) < - min_lenght:
        #--- whatever ---- 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-31T07:45:35.300

我不知道 nx API，所以我不会使用 G digraph 对象来解决这个问题，而是只使用 dict

```
import networkx as nx
import matplotlib.pyplot as plt

G = nx.DiGraph()

f = open("test_data.csv", "r")

blocs_by_node = {}
for line in f:
    node1, node2, weight1 = line.split(",")
    if node1 not in blocs_by_node and node2 not in blocs_by_node :
        bloc = [node1, node2]
        blocs_by_node[node1] = bloc
        blocs_by_node[node2] = bloc
    elif node1 not in blocs_by_node and node2 in blocs_by_node :
        bloc = blocs_by_node[node2]
        bloc.append(node1)
        blocs_by_node[node1] = bloc
    elif node1 in blocs_by_node and node2 not in blocs_by_node :
        bloc = blocs_by_node[node1]
        bloc.append(node2)
        blocs_by_node[node2] = bloc
    elif blocs_by_node[node1] is not blocs_by_node[node2] :
        bloc = blocs_by_node[node1]
        for node in blocs_by_node[node2] :
            bloc.append(node)
            blocs_by_node[node] = bloc

f.close()

f = open("test_data.csv", "r")

for line in f:
    node1, node2, weight1 = line.split(",")
    if len(blocs_by_node[node1]) > 2 :
        G.add_edge(node1, node2)

f.close()

nx.draw(G)
plt.show() 
```

我读取了两次文件，您可以通过将值存储在列表中来重构代码以读取一次。

顺便说一句，我希望该示例的解决方案包含：

```
[('a', 'b'), ('b', 'c'), ('b', 'e'), ('e', 'f')] 
```

# django - Django: extra 301 MOVED PERMANENTLY 减慢它的速度。没有重定向

> ID：14098237
> 
> 赞同：0
> 
> 时间：2012-12-31T06:23:06.910
> 
> 标签：django, django-urls

在我的网页 JS 我做：

```
window.location = /xxx/forum/topics/threads?topicid=0 
```

在我的网址中，我有：

```
url(r'^([^//]*)/forum/topics/threads/$', showThreads), 
```

showThreads 返回一个 render_to_response。没有重定向。

当我查看网络选项卡时，我看到名称/路径和状态：

```
threads
/xxx/forum/topics                 301 Moved permanently

www.mysite.com
/xxx/forum/topics/threads         200 OK 
```

为什么它把它分成两个调用（或者不管它们是什么）？如果我将 url 直接复制到地址栏中，那么它只会显示第二个调用。更重要的是，进行两次调用而不是一次调用似乎将其减慢了 100 毫秒。不是 100% 确定较慢的速度。每次都有点不同。

我没有任何网址

```
url(r'^([^//]*)/forum/topics/$', yy),
url(r'^([^//]*)/forum/$', yy), 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T15:40:35.817

您的配置文件中可能有“APPEND_SLASH = True”。它将执行 301 重定向到相同的 URL，但末尾带有斜杠。

# zend-framework - 在 Zend Framework 中获取模块名称，bootstrap.php

> ID：14098238
> 
> 赞同：0
> 
> 时间：2012-12-31T06:23:11.777
> 
> 标签：zend-framework

我在 bootstrap.php 中有路线，女巫包含：

```
protected function _initRoutes()

{
        $router->addRoute(
            'default',
            new Zend_Controller_router_Route('/:lang/:module/:controller/:action/*',
                array('lang'=>'fa',
                        'module' => ':module',
                        'controller'=>'index',
                        'action'=>'index',
                    )
                )
        );
} 
```

但是，当我使用此行时，它不会替换模块名称，而是返回 %3module 女巫是 :module 的 url 编码：

```
$this->url(array('controller'=>'index','action'=>'index'),'default',true) ; 
```

我应该怎么做才能从请求的 URL 中获取模块名称，女巫在 _initRoutes() 中不起作用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T06:50:30.387

用这个

```
$router->addRoute(
            'default',
            new Zend_Controller_router_Route('/:lang/:module/:controller/:action/*',
                array('lang'=>'fa',
                        'module' => 'default', //set the default module
                        'controller'=>'index',
                        'action'=>'index',
                    )
                )
        ); 
```

仅供参考：[手动](http://framework.zend.com/manual/1.12/en/zend.controller.router.html#zend.controller.router.routes.standard)

或者

否则将模块名称传递给 url 助手，

```
$module = $this->getRequest()->getModuleName();
$this->url(array('module'=>$module,'controller'=>'index','action'=>'index'),'default',true) ; 
```

# php - php curl突然的行为

> ID：14098241
> 
> 赞同：2
> 
> 时间：2012-12-31T06:23:14.587
> 
> 标签：php, ssl, curl

我正在使用 php curl 从 youtube 获取数据。有两个卷发。首先 curl 成功执行并从 youtube 检索访问令牌。第二卷曲使用此 oauth 令牌并检索用户信息。但它显示出意想不到的行为。有时它工作得非常好，但通常它会显示错误消息`SSL Connection Timeout`。

如果代码有问题，那么为什么它有时会起作用代码是

```
$url_userInfo =  'https://gdata.youtube.com/feeds/api/users/default?access_token='.$_SESSION['yt_access_token'].'&v=2&alt=json';    
$curl = curl_init();
$header[0] = "Accept: text/xml,application/xml,application/json, text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5";
$header[] = "Cache-Control: max-age=0";
$header[] = "Connection: keep-alive";
$header[] = "Keep-Alive: 300";
$header[] = "Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7";
$header[] = "Accept-Language: en-us,en;q=0.5";
$header[] = "Pragma: ";

curl_setopt($curl, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.13) Gecko/20080311 Firefox/2.0.0.13');

curl_setopt($curl, CURLOPT_HTTPHEADER, $header); 
curl_setopt($curl, CURLOPT_REFERER, 'http://www.google.com');
curl_setopt($curl, CURLOPT_ENCODING, 'gzip,deflate');
curl_setopt($curl, CURLOPT_AUTOREFERER, false);
curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($curl, CURLOPT_CONNECTTIMEOUT, 20);
curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($curl, CURLOPT_URL, $url_userInfo);

curl_setopt($curl, CURLOPT_TIMEOUT, 20);

curl_setopt($curl, CURLOPT_HTTPAUTH, CURLAUTH_ANY); //needed for SSL

$content = curl_exec($curl);
echo curl_error($curl);
curl_close($curl);
$res = json_decode($content);

print_r($res); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T06:34:23.787

尝试这个：

```
$url_userInfo =  'https://gdata.youtube.com/feeds/api/users/default?access_token='.$_SESSION['yt_access_token'].'&v=2&alt=json';
$content = file_get_contents($url_userInfo);
$res = json_decode($content);
print_r($res); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T06:46:32.380

您的连接可能需要很长时间才能从您的管中传输数据。所以要么你可以增加 curl_setopt($curl, CURLOPT_TIMEOUT, 20); 根据您的需要，或者您可以在失败时重新卷曲它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-31T07:00:51.817

您的标题中缺少一些信息。将访问令牌指定为 Authorization: Bearer HTTP 请求标头的值。同时删除`CURLOPT_CONNECTTIMEOUT`和`CURLOPT_TIMEOUT`选项。在[此](https://developers.google.com/youtube/2.0/developers_guide_protocol_oauth2#OAuth2_Calling_a_Google_API)之后，卷曲应该是：

```
$ch = curl_init("http://gdata.youtube.com/feeds/api/videos/".$vid."?alt=json&v=2&access_token=".$token);

curl_setopt($ch, CURLOPT_HTTPHEADER, array('Authorization: OAuth '.$token));
curl_setopt($ch, CURLOPT_HTTPHEADER,  array('Content-length: 0'));
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($ch, CURLOPT_POST, false);

$output = curl_exec($ch);

$http_response_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);

curl_close($ch);

$result = json_decode($output, true);
echo "<pre>"; print_r($result); echo "</pre>"; 
```

# mysql - mysql新用户访问被拒绝

> ID：14098242
> 
> 赞同：19
> 
> 时间：2012-12-31T06:23:19.553
> 
> 标签：mysql

刚开始用mysql。我使用 root 登录并按照在线参考创建一个新用户：

```
mysql> CREATE USER 'abc'@'%' IDENTIFIED BY '111111';
mysql> GRANT ALL PRIVILEGES ON *.* TO 'abc'@'%' WITH GRANT OPTION; 
```

然后我退出并尝试使用新用户登录：

```
mysql --user=abc --password=111111 mysql 
```

但收到一条错误消息：

> 用户 'abc'@'localhost' 的访问被拒绝（使用密码：YES）

我错过了什么吗？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-12-31T06:26:09.430

运行它来工作

```
FLUSH PRIVILEGES 
```

一旦您为您的用户提供了所需的权限，您将需要 FLUSH 权限才能完成设置并使新设置生效。为此，请在 SQL 命令提示符下运行此命令：

**[编辑]**
如果你也想从 localhost 连接，你应该创建另一个帐户。

> 必须拥有“用户”的两个帐户才能以“用户”身份从任何地方连接。如果没有 localhost 帐户，当“用户”从本地主机连接时，由 mysql_install_db 创建的 localhost 的匿名用户帐户将优先。因此，“用户”将被视为匿名用户。这样做的原因是匿名用户帐户具有比 'user'@'%' 帐户更具体的主机列值，因此在用户表排序顺序中更早。)

仅供参考：[http ://dev.mysql.com/doc/refman/5.5/en/adding-users.html](http://dev.mysql.com/doc/refman/5.5/en/adding-users.html)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2021-02-18T20:27:02.343

就我而言，问题出在密码上。在使其包含较少量的特殊字符后，它开始工作。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2021-02-07T16:23:02.007

通常这对我有用：

**登录到 MySQL**

```
mysql -u root -p 
```

**创建 MySQL 用户**

```
CREATE USER 'username'@'ip' IDENTIFIED BY '*password*'; 
```

**允许该用户完全控制**

```
GRANT ALL PRIVILEGES ON * . * TO 'username'@'ip'; 
```

**重新加载权限表**

```
FLUSH PRIVILEGES; 
```

**离开 MySQL 界面**

```
exit; 
```

**允许从特定 ip 到端口 3306 的外部访问**

```
sudo ufw allow from ip to any port 3306 
```

**转到 MySQL 配置文件**

```
sudo nano /etc/mysql/mysql.conf.d/mysqld.cnf 
```

**允许 MySQL 寻找外部连接**

改变：

```
bind-address            = 127.0.0.1 
```

至：

```
bind-address            = 0.0.0.0 
```

在 MySQL 8+ 中，此行不存在，如果有，请添加它

**重启 MySQL**

```
sudo systemctl restart mysql 
```

但是，由于某种原因，我仍然遇到“用户拒绝访问”的问题，所以如果有人可以通过解决我的问题来扩展我的答案，那将是惊人的。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2018-05-05T14:38:20.407

将主机从 '%' 更改为 'localhost' 对我有用。

但是我不知道为什么。

记得“刷新特权”；

我正在使用*mysql Ver 15.1 Distrib 10.1.32-MariaDB，用于 Linux (x86_64)，使用 readline 5.1*

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2021-10-13T20:29:21.620

如果您使用 Docker 映像运行 MySQL 版本 8 或更高版本，则应降级该版本。我尝试了 MYSQL 5.7 映像，然后我能够从远程网络连接到用户（不是 root）。

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2015-10-28T08:33:15.203

就是这个。

```
grant all privileges on *.* to `root`@`%` identified by 'chnagethepasswordhere'; 
flush privileges;
--helps to excute store procedure as root user

GRANT EXECUTE ON PROCEDURE mbu4u.ratingProcedure TO 'root'@'ip.ip.ip.ip' identified by 'changepasswordheere';

GRANT ALL ON mbu4u.* TO root@'ip.ip.ip.ip' IDENTIFIED BY 'changepassword'; 
```

# dantheman @祝你有美好的一天！

# mysql - SQL 仅选择存在多个关系的行

> ID：14098243
> 
> 赞同：17
> 
> 时间：2012-12-31T06:24:03.157
> 
> 标签：mysql, sql, select

给定一个父表'parent'

```
╔═══════════╦══════════╗
║ PARENT_ID ║   NAME   ║
╠═══════════╬══════════╣
║         1 ║ bob      ║
║         2 ║ carol    ║
║         3 ║ stew     ║
╚═══════════╩══════════╝ 
```

以及父级和（此处未指定）属性表之间的多对多关系表“rel”

```
╔═══════════╦═══════════╗
║ PARENT_ID ║  PROP_ID  ║
╠═══════════╬═══════════╣
║         1 ║         5 ║
║         1 ║         1 ║
║         2 ║         5 ║
║         2 ║         4 ║
║         2 ║         1 ║
║         3 ║         1 ║
║         3 ║         3 ║
╚═══════════╩═══════════╝ 
```

如何选择具有*所有*指定关系集的所有父母？例如，使用样本数据，我怎样才能找到同时拥有属性 5 和 1 的所有父母？

* * *

编辑：同样的问题，但要求*完全*匹配： [SQL 仅选择存在精确多重关系的行](https://stackoverflow.com/questions/14113267/sql-select-only-rows-where-exact-multiple-relationships-exist)

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-12-31T06:26:43.393

这称为**[关系除法](http://www.simple-talk.com/sql/t-sql-programming/divided-we-stand-the-sql-of-relational-division/)**

```
SELECT  a.name
FROM    parent a
        INNER JOIN rel b
            ON a.parent_ID = b.parent_ID
WHERE   b.prop_id IN (1,5)
GROUP BY a.name
HAVING COUNT(*) = 2 
```

*   [SQLFiddle 演示链接](http://sqlfiddle.com/#!2/8c357/1)

**更新 1**

如果没有对每个强制执行*唯一约束*，则在这种情况下需要。`prop_id``parent_id``DISTINCT`

```
SELECT  a.name
FROM    parent a
        INNER JOIN rel b
            ON a.parent_ID = b.parent_ID
WHERE   b.prop_id IN (1,5)
GROUP BY a.name
HAVING COUNT(DISTINCT b.prop_id) = 2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T06:32:25.783

我刚刚看到这个似乎适合这种情况的不同问题的[解决方案：](https://stackoverflow.com/a/11648013/213042)

```
 SELECT distinct parent_id
 FROM rel as T1
 INNER JOIN rel as T2
 ON T1.parent_id = T2.parent_id
 WHERE T1.prop_id = '1' and T2.prop_id = '5' 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-31T06:39:13.717

我已将您的表格写入 CTE，如果您需要帮助以适应您的目的，请告诉我。

```
;WITH MyTable AS
(
    SELECT   parent_id = 1
            ,prop_id = 5    UNION ALL
    SELECT 1,1              UNION ALL
    SELECT 2,5              UNION ALL
    SELECT 2,4              UNION ALL
    SELECT 2,1              UNION ALL
    SELECT 3,1              UNION ALL
    SELECT 3,3              
)
,Eval AS
(
    SELECT   parent_id
            ,PropEval   = SUM(CASE WHEN prop_id IN (1,5) THEN 1 ELSE 0 END)
    FROM MyTable
    GROUP BY parent_id
)
SELECT parent_id
FROM Eval
WHERE PropEval = 2 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-31T06:29:55.207

将您的第一个表命名为 a，第二个表命名为 b

```
SELECT parent_id FROM prop b1 
WHERE prop_id=1 and 
EXISTS (SELECT parent_id FROM prop b2 
        WHERE b2.parent_id=b1.parent_id AND b2.prop_id=5) 
```

# c# - .Net VS2010 上的多项目调试

> ID：14098244
> 
> 赞同：1
> 
> 时间：2012-12-31T06:24:04.730
> 
> 标签：c#, .net, visual-studio-2010, debugging, breakpoints

我在一个 C# 解决方案下运行三个项目，它运行良好。
项目 A 是使用 B 和 C 的主要项目。
项目 B 和 C 先编译，然后是 A。A
添加了对 B 和 C 项目的引用。（不是 dll）
我想在项目 B 和 C 中放置断点，以便我可以在其运行时进行跟踪。

B 和 C 上的第一次断点工作正常。
从下一次尝试开始，所有断点都变灰了。
（下一次尝试意味着停止正在运行的解决方案并再次运行它。Shft+F5 -> F5）
似乎只有在编译 B 和 C 后一次，断点才能正常工作。

重复编译 B 和 C 既麻烦又浪费时间。
谁能告诉我如何使 B 和 C 上的断点始终正常工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T06:29:08.040

我相信您正在禁用断点，因为您的其他项目没有与您的主项目一起构建。确保您必须将所有项目设置为在配置管理器下构建。右键单击解决方案并选择配置管理器。在那里检查您要与主项目一起构建的所有项目。**`Debug`**确保在配置管理器的配置下选择

# .net - 从 ListBox 中拖放多个项目

> ID：14098249
> 
> 赞同：0
> 
> 时间：2012-12-31T06:24:38.983
> 
> 标签：.net, wpf, vb.net, listbox, listboxitem

我有一个`ListBox`，我希望能够单击多个项目，然后拖到另一个程序中。我可以让它对单个对象正常工作。我只是不能让它工作超过1。

[我用 SelectionMode Multiple 从 ListBox 中](https://stackoverflow.com/questions/1553622/wpf-drag-drop-from-listbox-with-selectionmode-multiple)查看了WPF Drag & drop但它完全让我难过（尝试使用它，但它没有用，我不明白。）

我当前的 Drag 'n' Drop 代码如下。

```
<ListBox.ItemContainerStyle>
    <Style TargetType="{x:Type ListBoxItem}">
        <EventSetter Event="MouseDoubleClick" Handler="ListBoxItemDClick"/>
        <EventSetter Event="MouseDown" Handler="ReferenceList_PreviewMouseLeftButtonDown"/>
        <EventSetter Event="MouseMove" Handler="ReferenceList_PreviewMouseMove"/>
        <EventSetter Event="MouseUp" Handler="ReferenceListMouseUp"/>
        <Style.Triggers>
            ...
        </Style.Triggers>
    </Style>
</ListBox.ItemContainerStyle>

Private Sub ListBoxItemDClick(sender As Object, e As MouseButtonEventArgs) 'DoubleClick
    Dim PW As MainWindow = Window.GetWindow(MainPage)
    If PW IsNot Nothing Then
        Dim selite As ListBoxItem = DirectCast(ReferenceList.ItemContainerGenerator.ContainerFromItem(ReferenceList.SelectedItem), ListBoxItem) 
        PW.NewItem = False
        PW.EditItem = ReferenceList.SelectedItem
        PW.ChangeSlide(sender, 1)
    End If
End Sub

Private Sub ReferenceList_PreviewMouseLeftButtonDown(sender As Object, e As MouseButtonEventArgs) 'Mouse Down on ListBoxItem
    Dim PW As MainWindow = Window.GetWindow(MainPage)
    StartPoint = e.GetPosition(Nothing)
    PW.Resizing = False
End Sub

Private Sub ReferenceListMouseUp(sender As Object, e As MouseButtonEventArgs) 'Mouse Up on ListBoxItem
    Dim PW As MainWindow = Window.GetWindow(MainPage)
    StartPoint = e.GetPosition(Nothing)
    PW.Resizing = True
End Sub

Private Sub ReferenceList_PreviewMouseMove(sender As Object, e As MouseEventArgs) 'MouseMove on ListBoxItem
    Dim PW As MainWindow = Window.GetWindow(MainPage)
    If PW.Resizing = False Then
        If ReferenceList.SelectedItems.Count = 1 Then
            Dim MousePosition As Point = e.GetPosition(Nothing)
            Dim Difference As Vector = StartPoint - MousePosition
            Dim StopDrop As Boolean = False
            Dim LBITEM As ListBoxItem = DirectCast(sender, ListBoxItem)
            If e.LeftButton = MouseButtonState.Pressed AndAlso (Math.Abs(Difference.X) > SystemParameters.MinimumHorizontalDragDistance Or Math.Abs(Difference.Y) > SystemParameters.MinimumVerticalDragDistance) Then
                PW.TempItem = LBITEM.DataContext
                Dim FN As String = PW.TempItem.PropLastName & ", " & PW.TempItem.PropFirstName.Substring(0, 1)
                Dim TT As String = PW.TempItem.PropTitle
                Dim YR As String = PW.TempItem.PropYear.ToString
                Dim ReferenceText As String = FN & " " & YR & ", " & TT
                Dim DragData As DataObject = New DataObject(DataFormats.StringFormat, ReferenceText)
                If DragData IsNot Nothing And StopDrop = False Then
                    DragDrop.DoDragDrop(sender, DragData, DragDropEffects.Copy)
                End If
            End If
        Else
            Dim TotalReference As String = "Reference Data"
            For Each ITEM As Object In ReferenceList.SelectedItems
                Dim MousePosition As Point = e.GetPosition(Nothing)
                Dim Difference As Vector = StartPoint - MousePosition
                Dim StopDrop As Boolean = False
                If e.LeftButton = MouseButtonState.Pressed AndAlso (Math.Abs(Difference.X) > SystemParameters.MinimumHorizontalDragDistance Or Math.Abs(Difference.Y) > SystemParameters.MinimumVerticalDragDistance) Then
                    PW.TempItem = ITEM
                    Dim FN As String = PW.TempItem.PropLastName & ", " & PW.TempItem.PropFirstName.Substring(0, 1)
                    Dim TT As String = PW.TempItem.PropTitle
                    Dim YR As String = PW.TempItem.PropYear.ToString
                    Dim ReferenceText As String = FN & " " & YR & ", " & TT
                    If TotalReference Is "Reference Data" Then
                        TotalReference = ReferenceText
                    Else
                        TotalReference = ReferenceText & vbCr & ReferenceText
                    End If
                End If
                Dim DragData As DataObject = New DataObject(DataFormats.StringFormat, TotalReference)
                If DragData IsNot Nothing And StopDrop = False Then
                    DragDrop.DoDragDrop(sender, DragData, DragDropEffects.Copy)
                End If
            Next
        End If
    End If
End Sub 
```

变量：

```
PW.Resizing (Boolean on MainWindow that determines whether window is resizing (True/False)
PW.TempItem (Declared on MainWindow as: Public TempItem as Reference 'Reference is my own class like a Student or such class to store data)
Private StartPoint As Point
ReferenceList is the ListBox containing all the ListBoxItems. 
```

如果我需要提供更多详细信息，请告诉我。我无法判断拖动多个项目的代码有什么问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-03T07:06:55.807

没关系，我发现了我的错误。我替换了这一行：

```
TotalReference = ReferenceText & vbCr & ReferenceText 
```

有了这条线：

```
TotalReference = TotalReference & vbCr & ReferenceText 
```

现在一切正常！

# c# - TaskFactory.FromAsync 与 BeginGetRequestStream/EndGetRequestStream 挂起

> ID：14098258
> 
> 赞同：4
> 
> 时间：2012-12-31T06:25:55.340
> 
> 标签：c#, asynchronous, windows-phone-8

`responseObject`我有一个这样的方法，在使用 Task.Factory.FromAsync()声明时挂起

```
private async Task<string> post(string url, string postdata)
        {
            var request = WebRequest.Create(new Uri(url)) as HttpWebRequest;
            request.Method = "POST";

            // this works
            Task<Stream> requestStream = Task<Stream>.Factory.FromAsync(request.BeginGetRequestStream, request.EndGetRequestStream, request);
            var sw = new StreamWriter(requestStream.Result);
            byte[] data = Encoding.UTF8.GetBytes(postdata);
            await requestStream.Result.WriteAsync(data, 0, data.Length);

            // this hangs
            Task<WebResponse> responseObject = Task<WebResponse>.Factory.FromAsync(request.BeginGetResponse, request.EndGetResponse, request); // Hangs here
            // Doesn't get to here
            var responseStream = responseObject.Result.GetResponseStream();
            var sr = new StreamReader(responseStream);
            string received = await sr.ReadToEndAsync();

            return received;
} 
```

如果我手动运行 Begin/End 方法，它工作正常，如下所示：

```
 request.BeginGetRequestStream(async ar =>
        {
            var requestStream = request.EndGetRequestStream(ar);
            using (var sw = new StreamWriter(requestStream))
            {
                byte[] data = Encoding.UTF8.GetBytes(postdata);
                await requestStream.WriteAsync(data, 0, data.Length);
            }

            request.BeginGetResponse(async a =>
            {
                HttpWebResponse response = (HttpWebResponse)request.EndGetResponse(a);
                var responseStream = response.GetResponseStream();
                using (var sr = new StreamReader(responseStream))
                {
                    string received = await sr.ReadToEndAsync();
                }

            }, null);
        }, null); 
```

但是，在这种情况下，ReadToEndAsync() 在单独的线程上运行，并且我希望该方法返回结果，这是不可能的，因为该方法在 BeginGetResponse 回调完成之前返回。

在这一点上，我认为我做的非常错误并且完全错误的方式，所以任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-31T07:45:38.623

首先：不要在异步方法中使用“.Result”。这将阻止正在运行您的方法的线程。请改用“await”，以便在获取结果时线程跳回您的方法。

您的代码的问题是您打开了一个请求流，但您从不关闭它。那么它应该什么时候完成您的请求并发送它呢？它总是期望有更多的输入，直到请求超时运行。此外，您还没有设置内容类型和内容长度。

```
private async Task<string> post(string url, string postdata)
    {
        var request = WebRequest.Create(new Uri(url)) as HttpWebRequest;
        request.Method = "POST";

        byte[] data = Encoding.UTF8.GetBytes(postdata);
        request.ContentLength = data.Length;

        using (var requestStream = await Task<Stream>.Factory.FromAsync(request.BeginGetRequestStream, request.EndGetRequestStream, request))
        {
            await requestStream.WriteAsync(data, 0, data.Length);
        }

        WebResponse responseObject = await Task<WebResponse>.Factory.FromAsync(request.BeginGetResponse, request.EndGetResponse, request);
        var responseStream = responseObject.GetResponseStream();
        var sr = new StreamReader(responseStream);
        string received = await sr.ReadToEndAsync();

        return received;
} 
```

# linux - 无法从 Windows 资源管理器连接到 WebDAV，但可以从 IE 连接？

> ID：14098264
> 
> 赞同：1
> 
> 时间：2012-12-31T06:26:26.950
> 
> 标签：linux, windows-7, webdav

我无法连接到`WebDAV`已通过 Internet Explorer 成功连接到的 Windows Explorer 中的服务器位置。

有谁知道这是什么原因？

我可以达到 Windows 要求我提供凭据的地步，但是当我输入正确的用户名/密码组合时，它不会进行身份验证。
为什么会这样？

# c# - 媒体元素和进度条 Windows phone

> ID：14098266
> 
> 赞同：0
> 
> 时间：2012-12-31T06:26:35.890
> 
> 标签：c#, windows-phone-7, xaml, windows-phone-8, mediaelement

我想播放声音，并在每个声音下方显示一个进度条由于我的 VM 中的这一点，我正在显示当前进度：（来源：[http ://dotnet.dzone.com/articles/playing-media-content-窗户](http://dotnet.dzone.com/articles/playing-media-content-windows)）

```
player.CurrentStateChanged += player_CurrentStateChanged;
[...]
 void player_CurrentStateChanged(object sender, RoutedEventArgs e)
    {
        var mediaPlayer = sender as MediaElement;
        if (mediaPlayer != null && mediaPlayer.CurrentState == MediaElementState.Playing)
        {
            var duration = mediaPlayer.NaturalDuration.TimeSpan.TotalSeconds;
            ThreadingHelper.ExecuteAsyncAction(() =>
                {
                    do
                    {
                        ThreadingHelper.ExecuteOnUiThread(() =>
                        {
                            Progress = mediaPlayer.Position.TotalSeconds * 100 / duration;
                        });
                        Thread.Sleep(10);
                    } while (IsPlaying);
                });
        }
    } 
```

和 xml：

```
<!--TITLE-->
                <TextBlock Text="{Binding Sound.Libelle}"
                           Style="{StaticResource PhoneTextNormalStyle}"
                           TextWrapping="Wrap"/>

            <ProgressBar Height="20" Width="400" Value="{Binding Progress}"></ProgressBar> 
```

进度条显示正确，问题是当我播放第二个声音时，由于与我的 Progress 属性绑定，第一个进度条也会更新。

我不知道如何防止这种行为，欢迎任何想法。

编辑：我忘了提到只有当我在播放第一个声音时开始另一个声音时才会发生这种行为。我的第一个声音停止，第二个开始，但两个进度条都更新了

EDIT2：更多代码：

```
 private void PlaySong()
    {
        MediaElement player = null; // get the media element from App resources
        if (Application.Current.Resources.Contains("MediaPlayer"))
        {
            player = Application.Current.Resources["MediaPlayer"] as MediaElement;
        }
        if (player != null)
        {
            if (IsPlaying)
            {
                player.Stop();
                player.MediaEnded -= player_MediaEnded;
                player.CurrentStateChanged -= player_CurrentStateChanged;
            }
            else
            {
                player.Source = new Uri(Sound.Link, UriKind.Relative);
                player.Play();
                player.MediaEnded += (o, args) => player_MediaEnded(player, args);
                player.CurrentStateChanged += player_CurrentStateChanged;
                IsPlaying = true;
            }
        }            
    } 
```

这是我的`PlaySong()`方法`onClick`，它获取`MediaPlayer`我的 app.xaml 中定义的唯一值。它根据当前的声音状态播放或停止。

这是我的 xaml，它是`<ListBox>`绑定到 SoundViewModel 的 ObservableCollection 的控件的模板

```
<Button x:Name="SoundButton"
                Command="{Binding PlaySongCommand}"
                HorizontalAlignment="Stretch"
                Style="{StaticResource EmptyButtonStyle}">
            <StackPanel Margin="12,0,0,12">

                <!--TITLE-->
                <TextBlock Text="{Binding Sound.Libelle}"
                           Style="{StaticResource PhoneTextNormalStyle}"
                           TextWrapping="Wrap"/>

            <ProgressBar Height="20" Width="400" Value="{Binding Progress}"></ProgressBar>
        </StackPanel>
        <!-- LONG HOLD GESTION-->
        <toolkit:ContextMenuService.ContextMenu>
            <toolkit:ContextMenu Name="AllsoundMenu" IsZoomEnabled="True">
                <toolkit:MenuItem Header="Add to favorite" 
                                      Command="{Binding AddToFavoriteCommand}" />
                <toolkit:MenuItem Header="Add as a ringtone" Command="{Binding AddToRingtoneCommand}" />
            </toolkit:ContextMenu>
        </toolkit:ContextMenuService.ContextMenu>
    </Button> 
```

所以一个 ProgressBar/Sound 并且只有一个`MediaElement`在应用程序中。希望这可以帮助您看得更清楚。

也许我不只有一个`MediaElement`，但以这种方式实施似乎是正确的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:12:38.657

我认为您应该尝试在声音未运行时从“播放器”对象中删除处理程序。我希望它会有所帮助。像这样：

```
 void player_CurrentStateChanged(object sender, RoutedEventArgs e)
    {
        var mediaPlayer = sender as MediaElement;
        if (mediaPlayer != null && mediaPlayer.CurrentState == MediaElementState.Playing)
        {
            var duration = mediaPlayer.NaturalDuration.TimeSpan.TotalSeconds;
            ThreadingHelper.ExecuteAsyncAction(() =>
                {
                    do
                    {
                        ThreadingHelper.ExecuteOnUiThread(() =>
                        {
                            //A list of values ， nowPlay means that the sound you are playing
                            ProgressList[nowPlay] = mediaPlayer.Position.TotalSeconds * 100 / duration;
                        });
                        Thread.Sleep(10);
                    } while (IsPlaying);
                });

        }
    } 
```

xml:

```
 <Grid x:Name="ContentPanel" Grid.Row="1" Margin="12,0,12,0">
        <phone:LongListSelector x:Name="MainLongListSelector" Margin="0,0,-12,0" ItemsSource="{Binding ProgressList}" SelectionChanged="MainLongListSelector_SelectionChanged">
            <phone:LongListSelector.ItemTemplate>
                <DataTemplate>
                  <StackPanel Margin="0,0,0,17">
                        <ProgressBar Height="20" Width="400" Value="{Binding Values}"/>
                  </StackPanel>
                </DataTemplate>
            </phone:LongListSelector.ItemTemplate>
        </phone:LongListSelector>
    </Grid> 
```

视图模型：

```
public class Progress : INotifyPropertyChanged
    {
        int _values;
        public int Values
        {
            get
            {
                return _values;
            }
            set
            {
                if (value != _values)
                {
                    _values = value;
                    NotifyPropertyChanged("Values");
                }
            }
        }

        public event PropertyChangedEventHandler PropertyChanged;
        private void NotifyPropertyChanged(String propertyName)
        {
            PropertyChangedEventHandler handler = PropertyChanged;
            if (null != handler)
            {
                handler(this, new PropertyChangedEventArgs(propertyName));
            }
        }
    }

 public class MainViewModel : INotifyPropertyChanged
    {
        List<Progress> _progress = new List<Progress>();
        int _values = 100;
        public MainViewModel()
        {
            this.Items = new ObservableCollection<ItemViewModel>();
            _progress.Add(new Progress());
            _progress.Add(new Progress());
            _progress[0].Values = 50;
            _progress[1].Values = 100;

        }
     ...
     } 
```

# php - 运行脚本后正在清除 PHP 会话

> ID：14098269
> 
> 赞同：0
> 
> 时间：2012-12-31T06:27:33.720
> 
> 标签：php, session

当用户访问我网站上的某个页面时，下面的脚本会运行一次。这完美地工作，但由于某种原因，在它运行一次后，会话被清除并设置为“0”。

会话名称是“user_zip”，这是以某种方式清除会话的代码。

```
$user_zip_query = "SELECT * FROM dev_cities WHERE city_zip = '".$_SESSION['user_zip']."'";
$user_zip = mysql_query($user_zip_query);
$userziprow = mysql_fetch_assoc($user_zip);
$state = $userziprow['city_state'];
$county = $userziprow['city_county'];
$city = $userziprow['city_name']; 
```

知道是什么原因造成的吗？

会话在包含此代码的包含类文件中启动...

```
 public function __construct() {

        include_once("includes/userconfig.php");                  // include database constants        

        if ($this->checkDatabase()) {                   // check for database connection

            session_start();                            // create session 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:29:01.737

您的代码在会话中有引号，引号也被取消会话的引号包围，将其更改为：

```
$uzip = $_SESSION['user_zip'];
//highly recommend use add SQL injecton prevention here how ever
$user_zip_query = mysql_query("SELECT * FROM dev_cities WHERE city_zip = '$uzip'") or die(mysql_error());

$row = mysql_fetch_assoc($user_zip_query);
$state = $row['city_state'];
$county = $row['city_county'];
$city = $row['city_name']; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T06:37:09.520

使用 session 我们需要做的是

1 开始会话

   该`session_start()`函数必须出现在标签之前：

2 存储会话变量，如

    `$_SESSION['bla']=blabla;`

3 销毁会话

     要删除一些会话数据，您可以使用`unset()`或`session_destroy()`功能。

**好读**

1.  [**会话处理**](http://php.net/manual/en/book.session.php)
2.  [**PHP 安全指南：会话**](http://phpsec.org/projects/guide/4.html)

* * *

**笔记**

1.  整个**`ext/mysql`**PHP 扩展提供了所有以 mysql_ 为前缀的函数，[从 PHP v5.5.0 开始正式弃用，](http://php.net/manual/en/changelog.mysql.php)并将在未来删除。所以使用`PDO`或者`MySQLi`

**好读**

1.  [不推荐使用 mysql 扩展并将在将来删除：请改用 mysqli 或 PDO](https://stackoverflow.com/questions/13944956/the-mysql-extension-is-deprecated-and-will-be-removed-in-the-future-use-mysqli/13944958#comment19236631_13944958.)

# webdriver - 我的脚本每次都没有成功运行。有时运行后它会成功运行 1 次，下次我再次运行时它会失败

> ID：14098274
> 
> 赞同：0
> 
> 时间：2012-12-31T06:28:05.127
> 
> 标签：webdriver, selenium-webdriver

我的脚本每次都没有成功运行。有时运行后它会成功运行 1 次，下次我再次运行时它会失败。包示例；

```
import java.io.FileInputStream;
import java.io.FileOutputStream;
import jxl.Sheet;
import jxl.Workbook;
import jxl.write.Label;
import jxl.write.WritableSheet;
import jxl.write.WritableWorkbook;
import java.util.Iterator;
import java.util.Set;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.ie.InternetExplorerDriver;

public class Script1 
{
public static void main(String args[])throws Exception
{
    //Take the data from input xls file
    FileInputStream fi =new FileInputStream("D:\\selenium_test\\Object 
       Repositoty\\Input\\Login1.xls");
    Workbook wb = Workbook.getWorkbook(fi);
    Sheet sh = wb.getSheet(0);

    //Create the Result xls file
    FileOutputStream fo = new FileOutputStream("D:\\selenium_test\\Object   
  Repositoty\\Output\\Login_Results1.xls");
    WritableWorkbook wwb = Workbook.createWorkbook(fo);
    WritableSheet ws = wwb.createSheet("Results", 0);
    Thread.sleep(20000);

    String msg = "";

    WebDriver driver = new InternetExplorerDriver();
    driver.get("https://www.700creditsolution.com");
    driver.manage().window().maximize();
    Set<String> windowids = driver.getWindowHandles();
    Iterator<String> iter= windowids.iterator();
    for (int i = 1; i < sh.getRows(); i++)
    {   
    while(iter.hasNext())
    {
        System.out.println("Main Window ID : "+iter.next());
    }
    driver.findElement(By.id("lgnLogin_UserName")).clear();
    driver.findElement(By.id("lgnLogin_UserName")).sendKeys(sh.getCell(0, 
    i).getContents());
    driver.findElement(By.id("lgnLogin_Password")).clear();
    driver.findElement(By.id("lgnLogin_Password")).sendKeys(sh.getCell(1, 
  i).getContents());
    driver.findElement(By.id("lgnLogin_LoginButton")).click();
    Thread.sleep(5000L);

    windowids = driver.getWindowHandles();
    iter= windowids.iterator();
    String main_windowID=iter.next();
    String tabbed_windowID=iter.next();
    System.out.println("Main Window ID :" +main_windowID);
    Thread.sleep(2000);
    //switch over to pop-up window
    driver.switchTo().window(tabbed_windowID);

    System.out.println("Pop-up window Title : "+driver.getTitle());
    driver.findElement(By.xpath("//*[@id='BtnClose']")).click();
    Thread.sleep(1000);
    driver.switchTo().window(main_windowID);
    msg= driver.findElement(By.xpath("//table[@id='lgnLogin']/tbody/tr/td/table
  /tbody/tr[4]/td")).getText();
    System.out.println(msg);
    Thread.sleep(2000);

//  driver.get("https://www.700creditsolution.com");
//  Thread.sleep(2000);

    for (int j = 0; j < sh.getColumns(); j++) 
    {
        Label lab=new Label(j,i,sh.getCell(j, i).getContents());    
        ws.addCell(lab);
        Label result = new Label(2,i, msg);
        ws.addCell(result); 
        String c2String = sh.getCell(2, i).getContents().toString();
        if(c2String.equalsIgnoreCase(msg))
        {
            Label status=new Label(3,i,"Pass");
            ws.addCell(status);
        }
        else
        {
            Label status=new Label(3,i,"Fail");
            ws.addCell(status);
        }
    }
    }

    Label un=new Label(0,0,"User ID");
    Label pw=new Label(1,0,"Password");
    Label rs=new Label(2,0,"Results");
    Label st=new Label(3,0,"Status");
    ws.addCell(un);
    ws.addCell(pw);
    ws.addCell(rs);
    ws.addCell(st);
            wwb.write();
            wwb.close();

    driver.quit();

}   
} 
```

请尽快帮助我解决这个问题。在我的系统中我有windows7，IE9。我的应用程序最好只在 IE 中支持。帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:08:52.303

您在代码中没有处理任何异常。

运行脚本，如果失败，请尝试理解异常，为什么会生成异常并正确处理，重复此操作，直到处理完所有异常。谢谢。

# ruby-on-rails - 使用carrierwave和fog将文件上传到S3时缺少要求

> ID：14098275
> 
> 赞同：3
> 
> 时间：2012-12-31T06:28:16.597
> 
> 标签：ruby-on-rails, amazon-s3, carrierwave, fog

我得到了这个错误`Missing required arguments: aws_access_key_id, aws_secret_access_key`。这看起来很奇怪，因为我已经在 initializers 文件夹中添加了carrierwave.rb。**当我使用aws-sdk**时，访问/密钥可以完美运行

 **```
CarrierWave.configure do |config|
  config.fog_credentials = {
    provider: "AWS",
    aws_access_key_id: ENV["PUB-KEY"],
    aws_secret_access_key: ENV["SEC-KEY"]
  }
  config.fog_directory = ENV["mybucket"] 
end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:55:38.673

这是我工作的样子：

```
CarrierWave.configure do |config|
  config.fog_credentials = {
    :provider               => 'AWS',
    :aws_access_key_id      => ENV['S3_KEY'],
    :aws_secret_access_key  => ENV['S3_SECRET'],
    :region                 => 'us-east-1'
  }
  config.fog_directory  = ENV['S3_BUCKET']
end 
```

对于生产，我添加了键`S3_KEY`和。对于开发和测试，我使用了一个文件中的初始化程序：`S3_SECRET``S3_BUCKET``.gitignore`

```
# .gitignore
/config/initializers/app_environment_variables.rb 
```

并在初始化程序中

```
# config/initializers/app_environment_variables.rb

ENV['S3_KEY'] = "********************"
ENV['S3_SECRET'] = "**************************..."
ENV['S3_BUCKET'] = "**********-dev" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-08T10:06:03.453

生产和开发配置不同。您还需要将 AWS 密钥用于开发。

我刚刚从

```
config/environments/production.rb 
```

至

```
config/environments/development.rb 
```

一切正常。**

# javascript - Jquery 加载更多关于滚动速度的内容

> ID：14098281
> 
> 赞同：0
> 
> 时间：2012-12-31T06:29:05.620
> 
> 标签：javascript, jquery

我对下面的代码有一点问题，它工作正常，但是，唯一的问题是，当有人在数据尚未加载的情况下向下滚动几次时，它会产生问题，例如两次加载相同的数据或跳过某些部分等。任何帮助将不胜感激，以控制此速度。

```
var num = 0;
$(window).scroll(function(){ 
    if ($(window).scrollTop() == $(document).height() - $(window).height()){
        num = num + 20;
            $.get('load_data.php?load=' + num, function(data){ 
                $('#result').append(data);
        }); 
    }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:34:17.720

一个可能的解决方案是在航路点上设置一个标志。

```
var flag = false;
var num = 0;
$(window).scroll(function(){ 
    if ($(window).scrollTop() == $(document).height() - $(window).height()){      
        if(!flag){
            num += 20;
            $.get('load_data.php?load=' + num, function(data){ 
                 $('#result').html(data);
                 flag = true;
            });
        }
    }
}); 
```

这只会触发加载的数据一次。这可以在页面上特定点的航点处触发。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T07:05:58.963

这解决了它。

```
<script type='text/javascript'>
var num = 0;
var a = 1;
$(window).scroll(function(){ 
if ($(window).scrollTop() == $(document).height() - $(window).height()){

    if (a == 1) {
        a = 2;
        num = num + 20;
                $.get('load_data.php?url=<?php echo $url; ?>&load=' + num, function(data){ 
                        $('#result').append(data);
                         flag = true;
                         a = 1;
                });
    }

}
});
</script> 
```

# jquery - 如何在 jsPlumb 中找到未连接的端点？

> ID：14098285
> 
> 赞同：0
> 
> 时间：2012-12-31T06:29:17.353
> 
> 标签：jquery, jsplumb

在我的应用程序中，我在一个模块中使用 jsPlumb lib，有没有办法找出未连接的端点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-28T10:35:08.467

由于[API Document](http://jsplumb.org/apidocs/files/jquery-jsPlumb-1-3-16-all-js.html#jsPlumb%201.3.16)中没有获取所有端点的函数，因此您需要获取所有具有端点的元素并检查其端点是否有连接：

```
var elem = $('.havingEndpoint'); // get elements having endpoint based on its class
var emptypoints=[],k=0;          //consists of all empty endpoint objects which can be used to manipulate them
for(var i=0;i<elem.length;i++)   // for all elements having endpoints iterate
{
     var eps=jsPlumb.getEndpoints($(elem[i]));  //get all endpoints of element
     for(var j=0;j<eps.length;j++)
     {
          if(eps[j].connections.length==0)    // check no. of connections
               emptypoints[k++]=eps[j];       //if true add to emptypoints array
     }
 }
 console.log("no. of empty points: "+ k); 
```

# html - 谷歌地图在 IE 中不显示

> ID：14098286
> 
> 赞同：3
> 
> 时间：2012-12-31T06:29:17.993
> 
> 标签：html, css, google-maps, internet-explorer-8

我正在尝试在另一个 div 元素中显示谷歌地图，旁边有一个表单。

该代码与 Firefox 和 Chrome 完美配合，但在 IE 8 中它不显示 Google 地图。

```
<html>
<head>
<script type ="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
<script src="http://code.jquery.com/jquery-1.8.3.min.js" type="text/javascript"></script>
<style type="text/css">

body{
font-family:"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif;
font-size:12px;
height:100%;
}
p, h1, form, button{border:0; margin:0; padding:0;}

.spacer{clear:both; height:1px;}
/* ----------- My Form ----------- */
.myform{
margin:0 auto;
width:350px;
padding:6px;
}

/* ----------- stylized ----------- */
#stylized{
border:solid 2px #b7ddf2;
background:#ebf4fb;
}
#stylized h1 {
font-size:14px;
font-weight:bold;
margin-bottom:8px;
}
#stylized p{
font-size:11px;
color:#666666;
margin-bottom:20px;
border-bottom:solid 1px #b7ddf2;
padding-bottom:10px;
}
#stylized label{
display:block;
font-weight:bold;
text-align:right;
width:120px;
float:left;
}
#stylized .small{
color:#666666;
display:block;
font-size:11px;
font-weight:normal;
text-align:right;
width:120px;
}
#stylized select{
float:left;
font-size:12px;
padding:4px 2px;
border:solid 1px #aacfe4;
width:180px;
margin:2px 0 20px 10px;
}
#stylized input{
float:left;
font-size:12px;
padding:4px 2px;
border:solid 1px #aacfe4;
width:180px;
margin:2px 0 20px 10px;
}
#stylized button{
clear:both;
margin-left:120px;
width:120px;
height:31px;
background:#666666 url(img/button.png) no-repeat;
text-align:center;
line-height:31px;
color:#FFFFFF;
font-size:11px;
font-weight:bold;
}
</style>
<script type="text/javascript">
      var myMap, myCenter, myVessel, myInfo;
      var markers = new Array();
      var temperatureData = new Array();
      var current = 0;

/*      window.createMap = function () {
         DoCreateMap();
         window.showMap();
      };

      window.showMap = function () {
         google.maps.event.trigger(myMap, 'resize');
         myMap.setCenter(myCenter);
         myInfo.open(myMap, myVessel);
      };

      $(document).ready(function () {
         if (null == myMap) {
            var s = document.createElement("script");
            s.type = "text/javascript";
            s.src = "https://maps-api-ssl.google.com/maps/api/js?v=3&sensor=true&callback=createMap";
      $("head").append(s);
      } else {
            window.showMap();
      }
      });
*/
      function DoCreateMap() {
        myCenter = new google.maps.LatLng(52.381450, 4.663004);
        //myCenter = new google.maps.LatLng(9.1105671, -79.695602);
        var myOptions = {zoom: 5,
                        center: myCenter,
                        mapTypeId: google.maps.MapTypeId.ROADMAP
                        }
        myMap = new google.maps.Map(document.getElementById("vesselmap"), myOptions);
      }

   </script>
</head>
<body onload="DoCreateMap();">
<div id="container" style="overflow:hidden;width:100%;height:75%;">
  <div id="inner" style="overflow:hidden;width:100%;">
     <div id="vesselmap" style="float:left;width:70%;height:75%;display:block;">
     </div>
     <div style="float:left;width:30%;height:75%;">
        <div id="stylized" class="myform">
            <h1>Route with Temperature</h1>
            <p>See Maximum and Minimum Temperature on a route.</p>
            <label>Source Port
            <span class="small">Select Starting Port</span>
            </label>
            <select name="source_port" id="source_port">
                <option value="Rotterdam, Netherland">Rotterdam, Netherland</option>
            </select>
            <label>Destination Port
            <span class="small">Select Destination Port</span>
            </label>
            <select name="dest_port" id="dest_port">
                <option value="Bangkok, Thailand">Bangkok, Thailand</option>
            </select>
            <label>Date
            <span class="small">Select Date of Journey</span>
            </label>
            <input type="text" id="datepicker" />
            <button type="submit" id="submit">See Route</button>
        </div>
     </div>
</div>
</div>

</body>
</html> 
```

我没有收到任何 javascript 错误。我什至验证了 CSS 并没有遇到任何问题。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:34:15.627

那是因为你给了`height:75%`你的地图 div，但它的父`<div id="inner"` 级没有高度属性。

给你的`div id='inner'`（% 或 px）一个高度值，它应该可以工作。

# asp.net - 删除asp.net中SqlDatasource中的参数

> ID：14098287
> 
> 赞同：1
> 
> 时间：2012-12-31T06:29:20.370
> 
> 标签：asp.net, parameters, sqldatasource

我有一个`Gridview`与`SqlDataSource`数据相关的。
我有`Edit`并`Delete`内置了功能。我已经通过`Stored Procedure`了`SelectCommand`。

现在我想删除记录并同时更新另一个表，现在我不知道如何传递删除参数的值`DeleteCommand`

我还添加了`DataKeyNames`我提供的字段（即`Primary Key and Auto Increment`），但这也不起作用。虽然删除它只是说，`Deleting is Supported, because no DeleteCommand is Specified`。

我也尝试为删除任务创建一个`StoredProcedure`，但我的 StoredProcedure 需要有一些参数，以便我可以更新另一个表中的记录。

谁能告诉我如何传递 Delete 参数的值。

**使用 SqlDataSource 标记更新**

```
<asp:SqlDataSource ID="StudAllotmentDataSource" runat="server" 
    ConnectionString="<%$ ConnectionStrings:SiteSqlServer %>" 
    SelectCommand="user_GetStudAllotment" SelectCommandType="StoredProcedure" DeleteCommand="user_DeleteAllottedStudBook" DeleteCommandType="StoredProcedure">
   <DeleteParameters>
        <asp:Parameter Name="BookCode" Type="String" /> 
        <asp:Parameter Name="Quantity" Type="String" /> 
    </DeleteParameters>
</asp:SqlDataSource> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:31:38.567

您是否将 DeleteCommand 指定为 sqlserverdatasource 中的存储过程？

# python - Python Autobahn websocket

> ID：14098289
> 
> 赞同：0
> 
> 时间：2012-12-31T06:29:21.910
> 
> 标签：python, websocket, autobahn

Python 能做的所有事情都给我留下了深刻的印象。我想知道的是我是否可以实现一个可以调用 JavaScript 函数的 Python 脚本。

我使用的 Python 代码正在检测 NFC 卡并读取唯一 ID。目前，我使用 Java 小程序与 HTML 页面进行交互。我认为 Python 在这方面更轻、更好。

我尝试的是一个简单的高速公路脚本 server.py 和一个 index.html 文件。

在 server.py 脚本中，我实现了此代码，但它不起作用..

```
#! /usr/bin/env python

from sys import stdin, exc_info
from time import sleep

from smartcard.CardMonitoring import CardMonitor, CardObserver
from smartcard.util import *
import sys

from twisted.internet import reactor
from twisted.python import log
from twisted.web.server import Site
from twisted.web.static import File

from autobahn.websocket import WebSocketServerFactory, \
                               WebSocketServerProtocol, \
                               listenWS

class EchoServerProtocol(WebSocketServerProtocol):

   # a simple card observer that prints inserted/removed cards
    class printobserver(CardObserver):
        """A simple card observer that is notified
        when cards are inserted/removed from the system and
        prints the list of cards
        """

        def update(self, observable, (addedcards, removedcards)):
            for card in addedcards:
                print "+Inserted: ", toHexString(card.atr)
        #call javascript function with <toHexString(card.atr)> 
            for card in removedcards:
                print "-Removed: ", toHexString(card.atr)
        #call javascript function with <toHexString(card.atr)> 

    try:
        print "Insert or remove a smartcard in the system."
        print "This program will exit in 10 seconds"
        print ""
        cardmonitor = CardMonitor()
        cardobserver = printobserver()
        cardmonitor.addObserver(cardobserver)

        sleep(10)

        # don't forget to remove observer, or the
        # monitor will poll forever...
        cardmonitor.deleteObserver(cardobserver)

        import sys
        if 'win32' == sys.platform:
            print 'press Enter to continue'
            sys.stdin.read(1)

    except:
        print exc_info()[0], ':', exc_info()[1]

if __name__ == '__main__':

   if len(sys.argv) > 1 and sys.argv[1] == 'debug':
      log.startLogging(sys.stdout)
      debug = True
   else:
      debug = False

   factory = WebSocketServerFactory("ws://localhost:9000",
                                    debug = debug,
                                    debugCodePaths = debug)

   factory.protocol = EchoServerProtocol
   factory.setProtocolOptions(allowHixie76 = True)
   listenWS(factory)

   webdir = File(".")
   web = Site(webdir)
   reactor.listenTCP(8080, web)

   reactor.run() 
```

在索引文件中有一个 JavaScript 函数

```
function NFCid(msg) {
  alert(msg);
} 
```

如何在 server.py 中调用此函数

```
NFCid(toHexString(card.atr)) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-03T12:51:52.257

通常可以建立一个 WebSocket 连接，将数据从运行 web（sockets）服务器的 Python 进程传送到 JavaScript 函数。但是，您必须从 JavaScript 显式设置 WebSocket 连接并让它连接到服务器进程。然后，您可以将通过 WebSocket 连接（例如来自 Python）的任何数据传递给任何 JavaScript 函数。

# android - Android 编程：在 OS 版本 4.1.1 上拒绝蓝牙连接

> ID：14098291
> 
> 赞同：3
> 
> 时间：2012-12-31T06:29:23.633
> 
> 标签：android

在 android 应用程序中，我们使用蓝牙连接与一些医疗设备。

为此，我们使用了以下代码

```
BluetoothDevice zee = BluetoothAdapter.getDefaultAdapter().getRemoteDevice(bluetoothAddress);
Method m = (Method) zee.getClass().getMethod("createRfcommSocket",new Class[] { int.class });
result = (BluetoothSocket) m.invoke(zee, Integer.valueOf(1)); 
```

或某些情况，如果上面的代码失败，那么我们使用下面的代码

```
String bluetooth_address="";
bluetooth_address=bluetoothAddress;
BluetoothDevice zee = BluetoothAdapter.getDefaultAdapter().getRemoteDevice(bluetooth_address);
result = zee.createRfcommSocketToServiceRecord( getSerialPortUUID() ); 
```

这两个代码在 4.0 android OS 下都可以正常工作。

但在 Android OS 4.1.1 上，它现在遇到了“<code>Connection Refused”之类的问题。

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:26:39.633

4.2 版和大概 4.1.1 版中的蓝牙存在问题。在 4.2.1 版中，它们已得到解决。检查[http://crave.cnet.co.uk/mobiles/android-4-2-1-update-brings-back-december-fixes-bluetooth-50009859/](http://crave.cnet.co.uk/mobiles/android-4-2-1-update-brings-back-december-fixes-bluetooth-50009859/)。在 4.2.1 中尝试

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T06:09:04.167

谢谢大家，我通过调用不安全的 RF comm Socket 解决了这个问题

```
String bluetooth_address="";
bluetooth_address=bluetoothAddress;
BluetoothDevice zee = BluetoothAdapter.getDefaultAdapter().getRemoteDevice(bluetooth_address);
//result = zee.createRfcommSocketToServiceRecord( getSerialPortUUID() );
result = zee.createInsecureRfcommSocketToServiceRecord(getSerialPortUUID()); 
```

# ruby-on-rails - 无法使用 Devise 注册新用户：“nil:NilClass 的未定义方法 `[]'”

> ID：14098292
> 
> 赞同：0
> 
> 时间：2012-12-31T06:29:24.780
> 
> 标签：ruby-on-rails, ruby-on-rails-3, devise, ruby-on-rails-3.2

我正在使用 MongoDB 和 Mongoid，但在让用户注册时遇到问题。每当我尝试注册时，我都会得到以下信息：

> **设计中的 NoMethodError::RegistrationsController#create**
> 
> `undefined method '[]' for nil:NilClass`

错误中的应用程序跟踪是空的，所以我不确定从哪里开始寻找我的错误。

如果其中任何一个有帮助：

*   [用户.rb](http://pastebin.com/NdS5rBk6)
*   [new.html.erb](http://pastebin.com/f5cmtBc7)，表单注册页面
*   [路线.rb](http://pastebin.com/dDrj81GW)
*   [请求参数](http://pastebin.com/RHprBu8G)
*   [框架错误跟踪](http://pastebin.com/T2W54iGg)（应用程序跟踪为空）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:18:00.510

可能您正在使用 Ruby 1.9.2 和 Mongoid 3+，如果是这样，您需要根据[Mongoid docs](http://mongoid.org/en/mongoid/docs/tips.html#ruby)升级到 1.9.3 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T06:55:47.777

在[new.html.erb的第 37 行](http://pastebin.com/f5cmtBc7)

```
<div class="form-actions">
  <%= f.submit nil, :class => 'btn btn-primary' %>
</div> 
```

这是造成问题的原因吗？( `f.submit nil`)

# magento - 如何在 magento 1.7 中编辑订单而不创建新订单

> ID：14098294
> 
> 赞同：1
> 
> 时间：2012-12-31T06:29:31.477
> 
> 标签：magento, edit

有没有办法在 Magento 中编辑订单而不从 Magento 管理员创建新订单？我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-31T09:18:37.777

除非您自定义 Magento 否则，当您在管理员中编辑订单时，Magento 会创建一个新订单。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T11:53:01.233

管理员中有编辑订单的扩展：http: [//www.magentocommerce.com/magento-connect/true-edit-orders.html](http://www.magentocommerce.com/magento-connect/true-edit-orders.html)

它的付费扩展。你可以使用它，它工作得很好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-12T14:35:57.733

你可以试试这个插件：

[http://www.magentocommerce.com/magento-connect/extended-orders.html](http://www.magentocommerce.com/magento-connect/extended-orders.html)

它可以让您在 Magneto 中编辑任何订单，而无需创建新订单。

# javascript - 如何在两个 div 之间的 contenteditable div 中设置插入符号/光标位置

> ID：14098303
> 
> 赞同：6
> 
> 时间：2012-12-31T06:30:48.103
> 
> 标签：javascript, dom, range, contenteditable, mouse-cursor

考虑以下内容可编辑的 div。

```
<div contenteditable="true">
<div>bold text</div><div>bold text</div>
</div> 
```

如果我将光标定位在两个 div 之间并开始输入，文本会以粗体显示，而不是在两个 div 之间插入新的文本节点。如果您回到家并尝试在第一个 div 前面键入一些内容，也会发生同样的情况。它成为第一个 div 的一部分。

如果我检查从选择返回的范围的 startContainer，我会得到其中一个 div 的内容，而不是我期望的空文本节点。

```
$( '#EDITABLE' ).focus();

var selection = window.getSelection();

var range = document.createRange();

var div = $('#div2').get(0);

range.setStartBefore(div);
range.collapse(true);

selection.removeAllRanges();
selection.addRange(range);

// cursor should now be between div1 and div2

range = window.getSelection().getRangeAt(0);

console.log("range object returned is: ", range);

// type something into the content editable div. why is it coming
// up bold since the cursor should be between the divs? it's 
// positioning the cursor at the end of the previous div. I want to
// target the spot between the divs. how?
```

```
div.content {
  display: inline-block;
  font-weight: bold;
}
```

```
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<div contenteditable="true" id="EDITABLE">
  <div class="content" id="div1">Content for div1</div>
  <div class="content" id="div2">content for div 2</div>
</div>
```

原jsfiddle：http: [//jsfiddle.net/9ZZpX/3/](http://jsfiddle.net/9ZZpX/3/)

问题是为什么会发生这种情况？如何选择 div 之间的位置，以便当我输入内容时它不会加粗？（显然我可以添加一个空格来解决这个问题，但这很丑陋。）

如果您在状态更新框中输入@mention 并按 HOME，您可以在 Facebook 上看到此功能正常工作。如果您键入文本将不会突出显示。

我唯一能想到的就是拦截按键并以编程方式插入文本节点，但这看起来很难看。

我疯狂地搜索，找不到任何说明这应该如何工作的参考资料。显然有些东西我不明白，而且这方面的文档确实很缺乏。

（我也想做的是检测光标何时要进入这些 div 之一并跳过它。如果两个 div 彼此相邻，则光标会跳入其中一个 div 并且它搞砸了作品。）

有关我正在尝试做的事情的更多信息：http: [//a-software-guy.com/2012/12/the-horrors-of-cursor-positioning-in-contenteditable-divs/](http://a-software-guy.com/2012/12/the-horrors-of-cursor-positioning-in-contenteditable-divs/)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-31T17:02:28.850

浏览器对此不一致。Firefox 将允许您将插入符号定位在比大多数浏览器更多的位置，但 WebKit 和 IE 都对有效插入符号位置有明确的想法，并将修改您添加到选择中的范围以符合最近的有效位置。这确实是有道理的：具有不同的文档位置，因此对于相同的视觉插入符号位置的行为会让用户感到困惑。然而，这是以开发人员的不灵活为代价的。

这在任何地方都没有记录。当前的[选择规范](http://dvcs.w3.org/hg/editing/raw-file/tip/editing.html#selections)对此一无所知，主要是因为当浏览器实现其选择 API 时不存在规范，并且当前规范没有统一的行为来记录。

一种选择是`keypress`按照您的建议拦截事件，尽管当用户使用编辑或上下文菜单粘贴内容时这将无济于事。另一种方法是使用鼠标和键事件来跟踪选择，创建具有例如零宽度空格字符的元素以放置插入符号，并在必要时将插入符号放置在这些元素中。正如你所说，丑陋。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-01T16:02:06.210

我的回答只是对蒂姆回答的补充，它是全面的。

AFAIK Facebook 不使用可编辑的内容。状态框由一个简单的 textarea 和其下方的 div 层组成，它们在其上为刻痕呈现蓝色矩形。

虽然，即使他们这样做了，情况也会不同，因为 nick 将是一个内联元素，幸运的是，内联元素的情况更简单:)。

关于在人迹罕至的地方定位插入符号 - 在 CKEditor 我们遇到了同样的问题。有很多地方用户不能移动插入符号。[我们决定使用一个名为Magic-line](http://ckeditor.com/demo#magic-line)的插件来解决这个问题。正如您在演示中看到的，我们完全绕过了选择问题，我认为这是解决此问题的最佳方法。它非常有用，在 CKEditor 4.0.1 中（并且已经在[master](https://github.com/ckeditor/ckeditor-dev)上）也可以完全通过击键访问。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-19T11:48:18.020

您可以做的另一件事是使用 Mutation Observer 来捕获突变，然后在事后修复它们。在我的用例中，我很幸运每个元素都有预定义的文本。当突变观察者触发时，我只是将更改的文本移动到适当的元素之前或之后的新文本节点。这似乎比其他选项容易得多，因为观察者会触发对字符数据的所有更改，并且它还具有所有更改的正确记录，这与 keypress 事件不同。

# python - 如何在lxml中获取html的源代码？

> ID：14098304
> 
> 赞同：5
> 
> 时间：2012-12-31T06:31:00.463
> 
> 标签：python, lxml

```
import urllib
import lxml.html
down='http://blog.sina.com.cn/s/blog_71f3890901017hof.html'
file=urllib.urlopen(down).read()
root=lxml.html.document_fromstring(file)
body=root.xpath('//div[@class="articalContent  "]')[0]
print body.text_content() 
```

当我运行代码时，我得到的是文本内容，我怎样才能得到它的 html 源代码，而不是文本内容？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-31T07:00:06.667

利用

```
html = lxml.html.tostring(node) 
```

请：首先阅读您正在使用的工具的基本文档。

# android - 在android中重新排序布局后数据不显示

> ID：14098307
> 
> 赞同：0
> 
> 时间：2012-12-31T06:31:25.947
> 
> 标签：android, android-layout

我创建了一个布局，其中包含父级作为滚动视图->线性布局（垂直方向），它有 13 个文本视图。当我尝试重新排序 textview 时，数据没有显示。我也没有收到任何错误消息。

```
 <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="#EAEAEA"
        android:orientation="vertical"
        android:paddingBottom="5sp"
        android:paddingLeft="10dp"
        android:scrollbars="vertical" >

        <TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/ors_id"
            android:textColor="#372c24" />

        <TextView
            android:id="@+id/orsid"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="5dip"
            android:layout_marginTop="5dip"
            android:singleLine="true"
            android:textStyle="bold" />

        <TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/ors_jobtitle"
            android:textColor="#372c24" />

        <TextView
            android:id="@+id/orsjobtitle"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="5dip"
            android:layout_marginTop="5dip"
            android:singleLine="true"
            android:textStyle="bold" />

        <TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/ors_requestdate"
            android:textColor="#372c24" />

        <TextView
            android:id="@+id/orsRequestDate"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="5dip"
            android:layout_marginTop="5dip"
            android:singleLine="true"
            android:textStyle="bold" />

        <TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/ors_requestorname"
            android:textColor="#372c24" />

        <TextView
            android:id="@+id/orsRequestorName"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="5dip"
            android:layout_marginTop="5dip"
            android:singleLine="true"
            android:textStyle="bold" />

        <TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/ors_requestorteam"
            android:textColor="#372c24" />

        <TextView
            android:id="@+id/orsReqestorTeam"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="5dip"
            android:layout_marginTop="5dip"
            android:singleLine="true"
            android:textStyle="bold" />

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal" >

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="@string/request_type"
                android:layout_marginRight="10dp"
                android:textColor="#372c24" />

            <TextView
                android:id="@+id/viewdetailsors"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:clickable="true"
                android:text="@string/view_details"                    
                android:textColor="#31B1E0" />
        </LinearLayout>

        <TextView
            android:id="@+id/orsReqestorType"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="5dip"
            android:layout_marginTop="5dip"
            android:singleLine="true"
            android:textStyle="bold" />

        <TextView
            android:id="@+id/lblorsBackFillEmployee"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/back_fill_emp"
            android:textColor="#372c24"
            android:visibility="gone" />

        <TextView
            android:id="@+id/orsBackFillEmployee"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="5dip"
            android:layout_marginTop="5dip"
            android:scrollHorizontally="false"
            android:textStyle="bold"
            android:visibility="gone" />

        <TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/requester_comments"
            android:textColor="#372c24" />

        <TextView
            android:id="@+id/orsReqestorComments"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="5dip"
            android:layout_marginTop="5dip"
            android:scrollHorizontally="false"
            android:textStyle="bold" />

        <TextView
            android:id="@+id/lblorsTeamHeadComments"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/team_head_comments"
            android:textColor="#372c24"
            android:visibility="gone" />

        <TextView
            android:id="@+id/orsTeamHeadComments"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="5dip"
            android:layout_marginTop="5dip"
            android:scrollHorizontally="false"
            android:textStyle="bold"
            android:visibility="gone" />

        <TextView
            android:id="@+id/lblorsDivisionHeadComments"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/division_head_comments"
            android:textColor="#372c24"
            android:visibility="gone" />

        <TextView
            android:id="@+id/orsDivisionHeadComments"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="5dip"
            android:layout_marginTop="5dip"
            android:scrollHorizontally="false"
            android:textStyle="bold"
            android:visibility="gone" />

        <TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/ors_expiredate"
            android:textColor="#372c24" />

        <TextView
            android:id="@+id/orsExpireDate"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="5dip"
            android:layout_marginTop="5dip"
            android:singleLine="true"
            android:textStyle="bold" />

        <TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/comments"
            android:textColor="#372c24" />

        <EditText
            android:id="@+id/ManagerComments"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="5dip"
            android:layout_marginTop="5dip"
            android:gravity="top|left"
            android:inputType="textMultiLine"
            android:lines="2"
            android:maxLength="199"
            android:text="@string/approved" />
    </LinearLayout>
</ScrollView> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:20:49.330

您输入的代码缺少滚动视图标记和属性 [在开头]。我没有评论权限[对不起，黑客评论，我将删除该帖子]。

# iphone - 在 iPhone 上具有重复图案填充的 HTML5 Canvas

> ID：14098309
> 
> 赞同：1
> 
> 时间：2012-12-31T06:31:36.860
> 
> 标签：iphone, canvas

我正在开发一个 HTML5 画布应用程序，其中包含我用图像填充的形状。它是一个框架工具，用于构建和预览自定义框架。

在台式机/笔记本电脑上一切都很好，但是当我切换到 iOS 设备时，我得到了以下奇怪的行为。

有时，在我用来填充形状的图像重复的边界处会出现一条细白线。

请参阅以下 JSFiddle：http: [//jsfiddle.net/3TVSy/3/](http://jsfiddle.net/3TVSy/3/)

HTML：

```
<canvas id="canvas2" width="100" height="500" style="vertical-align:top"></canvas>
<canvas id="canvas1" width="300" height="2000" style="vertical-align:top"></canvas> 
```

​ Javascript：

```
jQuery(function($){
    var $canvas = $('#canvas1'),
        $canvas2 = $('#canvas2'),
        scale = {scale: 0.21688837478311163, x: 0, y: 0},
        side = {
            fillStyle: '#222',
            x1: 0,
            x2: 266,
            x3: 266,
            x4: 0,
            y1: -4.610666666666667,
            y2: 261.38933333333335,
            y3: 1538.898666666667,
            y4: 1804.898666666667,
        }
    ;

    $canvas.createPattern({
        source: "http://vps5960.inmotionhosting.com/~romamo5/wp-content/uploads/2012/12/286-ft.jpg",
        repeat: "repeat-y",
        // Draw frame when pattern loads
        load: function(ptrn){
            side.fillStyle = ptrn;
            $canvas.clearCanvas()
                .drawLine(side)
            ;
            $canvas2.clearCanvas()
                .scaleCanvas(scale)
                .drawLine(side)
            ;
    }
});    

});​ 
```

小提琴有两个版本的画布。较大的不缩放，较小的缩放。该工件仅出现在较小的工件上（并且仅出现在实际的 iOS 设备上，而不是模拟器上）。您可以在较小的画布上看到大约 90% 的细白线。

我必须缩放图像，所以不缩放不是一种选择。我还注意到，如果我将小提琴中的比例因子四舍五入到小数点后三位，那么工件就会消失。问题是，如果我进行舍入，我的框架工具真的开始在后续方面搞砸了，所以舍入也真的不是一种选择。

我正在使用 jCanvas 进行绘图，但我不怀疑这是问题所在。它只是所有本机画布方法的包装器。（编辑：确认，即使不使用 jCanvas 也会出现工件 - 请参阅[http://jsfiddle.net/3TVSy/5/](http://jsfiddle.net/3TVSy/5/)）

有没有其他人看到/解决了这个问题？这是iOS浏览器中的错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-05T03:55:14.717

我在 iOS6 的 safari 上也看到过同样的问题。重复图像之间出现间隙。在我看来，仅当图案图像的宽度/高度（不是原始图像大小，而是应用比例后的大小）为十进制数并且其第一个小数位小于 5（这意味着 [X. 0 < n < X.5]

我没有任何解决方案，但我可以通过以下逻辑检测到问题：

```
var scaledWidth = img.width * scale,
    scaledHeight = img.height * scale,
    decimalPartOfWidth = scaledWidth - (scaledWidth | 0),
    decimalPartOfHeight = scaledHeight - (scaledHeight | 0);

if ((decimalPartOfWidth > 0 && decimalPartOfWidth < 0.5)
    ||
    (decimalPartOfHeight > 0 && decimalPartOfHeight < 0.5)) {
  ; // The issue will occur.
} else {
  ; // The issue will not occur.
} 
```

下面粘贴的是我用来重现该问题的代码。

```
<!DOCTYPE html>
<html>
  <body>
    <div id="status"></div>
    <div>
      <canvas width="480px" height="400px"></canvas>
    </div>
    <script>
      var canvas = document.getElementsByTagName('canvas')[0],
          ctx = canvas.getContext('2d'),
          stats = document.getElementById('status'),
          img = new Image(),
          doDrawImage = function (pScale) {
            var txt = 'scale = ' + pScale + ', w = ' + (img.width * pScale);
            stats.innerHTML = txt;
            ctx.save();
            ctx.transform(pScale, 0, 0, pScale, 0, 0);
            ctx.fillStyle = ctx.createPattern(img, 'repeat');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.beginPath();
            ctx.rect(0, 0, canvas.width, canvas.height);
            ctx.fill();
            ctx.restore();
            console.log(txt + ' : ' + canvas.toDataURL());
          };

      img.src = 'pattern.png';
      img.onload = function () {
        var scale = 1.00,
            onTimeout = function () {
              if (scale < 2.00) {
                doDrawImage(scale);
                scale += 0.01;
                setTimeout(onTimeout, 1000);
              }
            };
        onTimeout();
      };
    </script>
  </body>
</html> 
```

IMO 最好的解决方案是将背景颜色设置为与图案图像相同的颜色；p

# hibernate - 如何在 HQL 中执行联接

> ID：14098313
> 
> 赞同：0
> 
> 时间：2012-12-31T06:32:39.947
> 
> 标签：hibernate

我有两张表 Course 和 Subject 都是多对多的关系。

第三个表是**Course_Subject**。

我必须执行 `join`以获取所有课程。

我试图加入表格，如：

```
hqlQuery="FROM Course c inner join fetch  c.Course_Subject as  s where c.id=s.courseId and s.subjectId=:subjectId"; 
```

但它正在显示`NullpointerException`。

请给我建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T07:51:35.210

HQL 查询使用实体及其关联。从不表和他们的列。它知道哪些表和列实体链接在一起，因此您无需在连接查询中重复它。要获取具有给定主题的所有课程，您只需要

```
select c from Course c
inner join c.subjects s
where s.id = :subjectId 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:20:24.730

检查这个

```
hqlQuery="select c.field1,c.field2,s.field1 from Course c 
         inner join c.course_subject as s"; 
```

但是你为什么需要这个？默认情况下，您可以通过以下映射来获取课程的主题

```
cource.getSubjects(); 
```

# ruby-on-rails - 使用 apache 和乘客在同一个 dns 上部署多个 rails 应用程序

> ID：14098317
> 
> 赞同：0
> 
> 时间：2012-12-31T06:33:15.007
> 
> 标签：ruby-on-rails, amazon-ec2, apache2, uri, passenger

我已经在我的 ec2 服务器中设置了 apache + 乘客。当我尝试

```
 http://ec2-***-***-***-**.ap-*-1.compute.amazonaws.com/ 
```

输出：

```
 It works!

    This is the default web page for this server.

    The web server software is running but no content has been added, yet. 
```

接下来是

```
 ec2-***-***-***-**.ap-*-1.compute.amazonaws.com is mapped to a dns, say myserver.com 
```

现在我想在这里运行多个 rails 应用程序，就像我有 app1、app2 和 app3 rails 应用程序一样。

myserver.com/app1、myserver.com/app2 和 myserver.com/app3 应该加载各自的应用程序。我在下面查看了一些教程

```
 Deploying Rails with Sub URI: or creation of symlinks 
```

但无法得到清晰的认识。有人可以指点我一些教程或给出一些基本的理解。

乘客版本是 3.0.18

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:41:18.537

你应该看看[文档](http://www.modrails.com/documentation/Users%20guide%20Apache.html#RailsBaseURI)。

它使用 RailsBaseURI。

示例配置

```
<VirtualHost *:80>
    ServerName www.phusion.nl
    DocumentRoot /websites/phusion
    <Directory /websites/phusion>
        Allow from all
    </Directory>

    RailsBaseURI /rails                   # 
    <Directory /websites/phusion/rails>   # 
        Options -MultiViews               # 
    </Directory>                          # 
</VirtualHost> 
```

# php - 在php中创建匿名对象

> ID：14098319
> 
> 赞同：2
> 
> 时间：2012-12-31T06:33:35.047
> 
> 标签：php, class, object

```
include('Property.php');
$obj = new Property ();
$obj->price = 2500.00;
$obj ['address_primary'] = '100 Main St';
$obj->state = 'VA';
echo 'Address :: ', $obj->address_primary, ' ', PHP_EOL;
echo 'City, State, Zip :: ', $obj ['state']; 
```

请有人向我解释一下，从拥有这个：$obj = new Property () 我们可以创建/初始化或拥有：$obj ['address_primary'] 并能够回应这个：$obj->address_primary

抱歉，我尽量解释这个问题。谢谢各位的回答！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:44:06.200

你应该能够改变

```
$obj ['address_primary'] = '100 Main St'; 
```

至

```
$obj->address_primary = '100 Main St'; 
```

你也必须改变

```
echo 'City, State, Zip :: ', $obj ['state']; 
```

至

```
echo 'City, State, Zip :: ', $obj->state; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T06:38:39.190

您正在尝试将属性作为数组元素访问。您需要扩展 ArrayObject。[http://php.net/manual/en/class.arrayobject.php](http://php.net/manual/en/class.arrayobject.php)来做到这一点。否则不要混合对象和数组。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T06:47:28.480

> 文件 'Property.php'
> 添加属性
> $address_primary = "";
> $defaultAddress = "这是要测试的临时地址";
> 函数 __construct($primaryAddress = ""){
>   this->address_primary = (strlen(trim($primaryAddress)) > 0)？
>   $primaryAddress :$defaultAddress;  
> }

# java - 在java中将int数组元素的最低有效位替换为0的代码

> ID：14098320
> 
> 赞同：-1
> 
> 时间：2012-12-31T06:33:36.207
> 
> 标签：java

```
int argb = img.getRGB(x, y);

int rgb[] = new int[] {
    ((argb >> 16) & 0xff),    //red
    (argb >> 8) & 0xff ,     //green
    (argb) & 0xff     //blue
}; 
```

这个数组，我想从零替换每个元素的最低有效位？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:37:57.253

它不是像`... & 0xFE`代替那样简单`0xFF`吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T06:38:43.603

以下代码可能对您有所帮助。尝试这个。
for (int i = 0; i < rgb.length; ++i) { rgb[i] &= 0xffffffffe; }

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T07:01:47.060

试试这个方法。

```
 int i = 33;
    System.out.printf("%d\n%32s\n", i, Integer.toBinaryString(i));

    i = (i >> 1) << 1;   // this does the job.

    System.out.printf("%d\n%32s\n", i, Integer.toBinaryString(i)); 
```

（我之前的回复其实是不正确的）

# shell - 如何将字符串分成shell参数？

> ID：14098327
> 
> 赞同：4
> 
> 时间：2012-12-31T06:34:32.957
> 
> 标签：shell, zsh

我在 ZSH 中有这个测试变量：

```
test_str='echo "a \" b c"' 
```

我想把它解析成两个字符串的数组`("echo" "a \" b c")`。

即`test_str`按照外壳本身的方式阅读，并返回一组参数。

请注意，我不希望分割空白或类似的东西。这实际上是关于将任意复杂的字符串解析为 shell 参数。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-31T09:13:58.773

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-01T13:39:28.817

问题的措辞暗示了一个更简单的（？）答案。要设置 shell 参数，请使用`set`：

```
#!/bin/sh

test_str='echo "a \" b"'
eval set $test_str
for i; do echo $i; done 
```

这设置 `$1`为`echo`和`$2`。当然有风险，但这是便携的。当然，它不会分配给数组，但您可以按正常方式使用。`a " b``eval``sh``$@`

# asp.net - 强制用户在应用程序启动时进行选择

> ID：14098330
> 
> 赞同：1
> 
> 时间：2012-12-31T06:34:49.437
> 
> 标签：asp.net, asp.net-mvc

在我的`ASP.net` `MVC 3`（基于 nopcommerce 的）应用程序中，我需要确保用户从列表中选择他的位置，并且此选择存储在会话中以进行动态价格计算。因为，可能有多个入口点（主页、搜索结果、来自 Google 索引页面等）。我想确保在用户尝试查看任何产品时立即将位置选择（可能是弹出窗口）呈现给用户可能有价格的页面。对于给定的会话，这必须是一次性选择。

`Application_BeginRequest`执行检查特定会话变量是否存在的最佳事件处理程序 ( ??) 是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T06:39:36.870

您可以使用操作过滤器检查会话中的值，如果该位置尚未存储，则重定向到视图。捕获后，您可以重定向回原始视图。

就像是：

```
public class CheckLocationAttribute : ActionFilterAttribute
{
    public override void OnActionExecuting(ActionExecutingContext filterContext)
    {
        var location = filterContext.HttpContext.Session["Location"];

        if (string.IsNullOrWhiteSpace(location))
        {
            // store the requested URL for use once location has been chosen
            filterContext.Controller.TempData["ReturnToUrl"] = filterContext.HttpContext.Request.Url;

            // redirect to location choice view
            filterContext.Result = new RedirectResult(VirtualPathUtility.ToAbsolute("~/Location/Choose"));
        }
    }
} 
```

然后在需要时在控制器/操作中使用此属性：

```
public class SomeController : Controller
{
    [CheckLocation]
    public ActionResult Index()
    {
        // location has been checked so continue

        return View();
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T06:42:17.983

您可以使用操作过滤器来全局检查会话变量。但是，如果您想在某些页面上显示选择 UI 而无需重定向，您可能最好使用带有支持它的操作的局部视图（例如，Html.RenderAction()）。

在您希望向用户展示此选择 UI 的任何视图中调用 RenderAction 助手。该操作将检查会话变量。根据会话变量是否存在，为操作设置一些模型值并部分设置为真/假。然后让局部视图检查该模型值并相应地显示选择 UI（即，如果值指示用户需要进行选择，则显示弹出窗口）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T06:49:56.070

在控制器的操作中，您可以检查：

```
if(HttpContext.Current.Session["Shown"] == null){
    HttpContext.Current.Session["Shown"] = true;
    // turn on a flag for client to know it should show popup
} 
```

# javascript - 如何在 iOS Safari 中获取触摸坐标

> ID：14098331
> 
> 赞同：3
> 
> 时间：2012-12-31T06:34:54.913
> 
> 标签：javascript, jquery, html, mobile-safari

我正在使用下面的代码来获取 iOS Safari 中的触摸坐标

```
$('#touchable').bind('touchstart', function(e){

        alert(e.touches[0].pageX);
        alert(e.touches[0].pageY);
} 
```

但是当我测试它时，我无法获得坐标。这段代码是获取触摸坐标的正确方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T06:42:30.620

# ruby-on-rails - rails 在集成测试中设计经过身份验证的路由

> ID：14098332
> 
> 赞同：3
> 
> 时间：2012-12-31T06:35:01.447
> 
> 标签：ruby-on-rails, devise, integration-testing

我想测试应用程序中的每条路由，并了解到我应该在集成测试中这样做：[Where to test routes in ruby​​ on rails](https://stackoverflow.com/questions/5290245/where-to-test-routes-in-ruby-on-rails)

但是我收到以下错误：

```
NoMethodError: undefined method `authenticate?' for nil:NilClass
/usr/local/Cellar/ruby/1.9.3-p194/lib/ruby/gems/1.9.1/gems/devise-2.1.2/lib/devise/rails/routes.rb:286:in `block in authenticated' 
```

网上有说在集成测试中不能使用 Devise::TestHelpers -- [Devise Google Group](https://groups.google.com/forum/?fromgroups=#!topic/plataformatec-devise/QPOzZ1n6mfg) , [Devise Github page](https://github.com/plataformatec/devise#test-helpers)

* * *

**如何测试如下路线？**

```
# config/routes.rb

devise_for :users

authenticated :user do
  root to: 'static#home'
end

root to: 'static#landing' 
```

我正在运行测试单元测试`$ rake test:integration`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-01T18:58:43.407

Devise::TestHelpers 通过将事物直接放入会话中来工作。使用 Capybara 运行集成测试时，您无权访问服务器端会话。您只需访问浏览器即可。

在我们的应用程序中，我们的集成测试使用这样的辅助方法，通过用户界面与 Devise 交互：

```
def authenticate(user, password = nil)
  password ||= FactoryGirl.attributes_for(:user)[:password]
  visit new_user_session_path
  fill_in 'email', with: user.email
  fill_in 'password', with: password
  click_on 'Login'
  expect(current_path).to eq welcome_path
end 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-25T10:35:59.827

**集成测试**对于您的应用程序工作流程很重要。他们可以更清楚地说明您的**URL 定义。**

查看 的[帖子](https://github.com/plataformatec/devise/wiki/How-To%3a-Controllers-and-Views-tests-with-Rails-3-%28and-rspec%29)，`nicholaides`其中解释了此错误的原因以及经过身份验证的路由中的解决方案。

问题仍然是：

Devise 有自己的方法，你不能在 ruby​​ 中使用**Devise::TestHelpers**。那么如何测试呢？那么你需要以某种方式包含**Devise::TestHelpers**。

好吧，如果您使用的是 RSpec，您可以将以下内容放入名为 的文件中`spec/support/devise.rb`：

```
RSpec.configure do |config|
  config.include Devise::TestHelpers, :type => :controller
end 
```

这[在此处](https://github.com/plataformatec/devise)指定。

**但是等等............**再一次，你可能会遇到同样的问题`Test::Unit`。

然后？

因此，您只需将设计测试助手添加到**test/test_helper.rb**。

```
class ActiveSupport::TestCase
  include Devise::TestHelpers
end 
```

# css - 造型师 Css 边框创建

> ID：14098341
> 
> 赞同：2
> 
> 时间：2012-12-31T06:36:08.527
> 
> 标签：css, border

是否可以使用css创建像流动图像一样的边框？任何提示将不胜感激

![http://i.stack.imgur.com/rGwQ6.png](../Images/1eabef83cb64d7e55561fc42c6e8b646.png)

![在此处输入图像描述](../Images/ddef7c075cfaf7bbd613e473a8eeb53c.png)

```
#sidebar h4, #sidebar-alt h4 {
    background:url('images/widget-title-bg.png'); 
    color: #333333;
    font-size: 22px;
    font-family: Arial, sans-serif;
    font-weight: normal; 
    margin: 0 0 10px 0; 
    padding: 7px 0px 11px 0px; 
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:04:29.550

编辑：根据您的评论进行了一些更改。尝试：

```
<h1 id="progress">
    <i></i>Recent Posts
</h1>​
#progress {
    display: block;
    max-width: 200px;
    min-width: 150px;
    position: relative;
    margin: 50px auto 0;
    padding: 0 3px;
    border-bottom: 10px solid #ECECEC;
    font: bold 26px 'Dancing Script', cursive;
}
#progress i {
    display: block;
    position: absolute;
    width: .8em;
    height: 10px;
    left: 0;
    bottom: -10px;
    background-color: #4287F4;
}​ 
```

[http://jsfiddle.net/userdude/z45QJ/4/](http://jsfiddle.net/userdude/z45QJ/4/)

我不是这种`position`操作的忠实拥护者，但是所有浏览器都应该几乎相同地支持和显示这一点，唯一可能的问题是字体的显示在不同的浏览器中可能略有不同。但是，IE7-9 应该可以很好地解释其他所有内容。

* * *

太糟糕了整个 wuuurld 不在 WebKit 上：

```
<div id="progress"></div>​

#progress {
    width: 300px;
    height: 10px;
    border: none;
    background-color: #ECECEC;
    border-left: solid #4287F4;
    box-shadow:inset 2px 0 white;
    -webkit-animation: slide 10s linear infinite;
}
@-webkit-keyframes slide {
    from {
        border-left-width: 0;
        width: 300px;
    } to {
        border-left-width: 300px;
        width: 0;
    }
}​ 
```

[http://jsfiddle.net/userdude/z45QJ/1](http://jsfiddle.net/userdude/z45QJ/1)

它可以调整为双向。但是，它仅适用于 WebKit 浏览器（Chrome、Safari [?]）。如果没关系，请告诉我，我会添加回程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T07:05:52.077

有四种方法可以做到这一点。[我在这个 JSFiddle 中演示了四种方式](http://jsfiddle.net/YyQk9/)，这里有一些解释。

如果您不确定，请使用方法 B。

# 方法A

方法 A 的优点是它是最兼容的，但缺点是它需要额外的 HTML。基本上，您为外部 div 提供蓝色边框，为内部 div 提供白色边框。您的 HTML 将如下所示：

```
<div class="methodA">
    <div class="container">
        Method A
    </div>
</div> 
```

您的 CSS 将如下所示：

```
.methodA {
    border-left: 10px solid blue;
}
.methodA .container {
    height: 100%;
    border-left: 10px solid white;
} 
```

# 方法B

方法 B 的优点是没有额外的 HTML，但缺点是[它在 9 版本之前的 IE 中不起作用](http://caniuse.com/#feat=css-boxshadow)。

```
.methodB {
    border-left: 10px solid blue;
    -webkit-box-shadow: inset 10px 0 white;
    -moz-box-shadow: inset 10px 0 white;
    box-shadow: inset 10px 0 white;
} 
```

[您可以使用CSS3 PIE](http://css3pie.com/documentation/getting-started/)缓解 IE 的兼容性问题，这使得框阴影在 Internet Explorer 中表现（以及其他 CSS3 功能）。

# 方法 C 和 D

[这个 JSFiddle](http://jsfiddle.net/YyQk9/)展示了另外两种方法，我不会详细描述，但是......

*   方法 C 使蓝色边框成为阴影。结果，它可以“覆盖”其他元素，并且还可以更改元素的大小。我不喜欢这个解决方案，但它可能对你有用。它还存在方法 B 的兼容性问题。
*   方法 D 在元素内部放置两个 div：一个用于蓝色边框，一个用于右边框。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-31T08:04:08.410

它并不复杂，也不需要额外的 HTML。

```
h4:after {
    display:block;
    content: '';
    height:4px;
    width: 1px;
    border:0px solid #ececec;
    border-left-width: 10px;
    border-left-color:#4287F4;
    border-right-width: 90px;
}​ 
```

[http://jsfiddle.net/N27CH/](http://jsfiddle.net/N27CH/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-31T08:22:54.300

检查此链接访问 (http://jsfiddle.net/qD4zd/1/)。看看有没有帮助。这告诉你梯度的应用。看看它是如何完成的。另外为什么不直接使用您想要的图像作为边框。查看 Css 中的“渐变”。这可能会回答你的问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-04T12:14:05.333

我研究了 HTML5 中“canvas”标签的一些用法。这是关于梯度规范的大量信息，并且比传统的 HTML4 更具可读性。所以对于这个问题，我还想请提问者查看 HTML5 中的“画布”标签。检查下面的链接。

```
 Link: http://html5center.sourceforge.net/Using-Unprefixed-CSS3-Gradients-in-Modern-Browsers

    Link: http://www.sendesignz.com/index.php/web-development/111-how-to-create-gradient-and-shadow-effect-in-html5-canvas 
```

第二个链接更棒。干杯。：）

# java - 我的 AVD 不会运行我的应用程序

> ID：14098345
> 
> 赞同：0
> 
> 时间：2012-12-31T06:37:05.930
> 
> 标签：java, android, avd

我在我的 AVD 中测试我的应用程序，而 AVD 不再将 apk 上传到设备。它曾经可以工作，我已经重新安装了 eclipse 和 android SDK，但它没有运行该应用程序。有什么建议让它工作吗？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T06:48:18.977

有一种解决方法，但还有一点工作，对我来说，我认为它很好，在你在 Eclipse 上运行/构建之后，/bin 文件夹中有一个 apk 文件。我曾经将那个 .apk 复制到我的 microsd 并安装并重新安装以供您在旅途中进行比较。

# mysql - 高效考勤管理系统的数据库架构

> ID：14098346
> 
> 赞同：4
> 
> 时间：2012-12-31T06:37:07.783
> 
> 标签：mysql, database, database-design, architecture, schema

我正在为学校开发一个出勤系统，该系统将同时满足员工和学生的需求。

当前的数据库架构是

`attendance`桌子

```
id - primary key for this table
daydate  int(11) - stores timestamp of current day
timing_in varchar(18) - Start time for institution
timing_out - Closing time for institution
status - Status for the day, can be working day - 1 or holiday - 2 
```

然后是员工和学生的不同表格，用于存储实际出勤值。

对于员工，考勤存储在`attendance_staff`. 数据库架构是

```
attendance_id - foreign key, references attendance table
staff_id - id of staff member, references staff master table
time_in - stores in timing of a staff member
time_out - stores out timing of a staff member
status - attendance status - can be one among the list, like present, absent, casual leave, half day, late mark, on duty, maternity leave, medical leave etc 
```

对于员工，我在表中存储了当前和不存在的条目。

现在必须将学生的出勤率包括在内。

由于每天的状态已经存储在`attendance`表中，我们可以不将每个学生的当前值存储在学生出勤表中。

就像，学生出勤表将仅存储在特定日期不存在的那些日子的条目。

的架构`attendance_student`将是

```
attendance_id - references attendance table
student_id - references student table
status - will be leave / absent etc other than present. 
```

使用外部联接从考勤表中计算当前天数是否有效？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T19:55:22.800

您不需要外部联接来计算学生的出勤率。您可以简单地计算出勤表中的记录（一次，因为它对所有学生都是一样的），然后从您的学生出勤表中选择以获取缺勤。

如果您希望通过外部连接来计算出勤率，您可以。如果您在出勤表主键和从学生出勤表到出勤表的外键上有一个索引，那么它的效率可能会更高。

# cocoa - 在可可应用程序中从一个窗口传递到另一个窗口的值

> ID：14098348
> 
> 赞同：0
> 
> 时间：2012-12-31T06:37:49.613
> 
> 标签：cocoa

我是可可的新手.. 任何人都可以说如何将值从一个窗口传递到另一个我试过但***windowController*** 不允许创建其他类的实例

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T06:47:55.440

将一个值传递给另一个 Window ??

Window 只是一个视图，您传递模型的值，而不是视图的值。

因此，每当您需要传递值时，都可以使用

1.  通知

2.  代表

3.  共享课堂。

# python - 使用 `object` 实例化自定义类

> ID：14098351
> 
> 赞同：-2
> 
> 时间：2012-12-31T06:37:57.550
> 
> 标签：python

这是我的哈哈课

```
class  haha(object):
  def  theprint(self):
    print "i am here"

>>> haha().theprint()
i am here
>>> haha(object).theprint()
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: object.__new__() takes no parameters 
```

为什么`haha(object).theprint()`输出错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T18:35:34.947

这个你的轻微变化的例子`haha`可能会帮助你了解正在发生的事情。我已经实现[`__init__`](https://stackoverflow.com/questions/625083/python-init-and-self-what-do-they-do)了，所以你可以看到它何时被调用。

```
>>> class haha(object):
...   def __init__(self, arg=None):
...     print '__init__ called on a new haha with argument %r' % (arg,)
...   def theprint(self):
...     print "i am here"
... 
>>> haha().theprint()
__init__ called on a new haha with argument None
i am here
>>> haha(object).theprint()
__init__ called on a new haha with argument <type 'object'>
i am here 
```

如您所见，`haha(object)`最终`object`作为参数传递给`__init__`. 由于您尚未实施`__init__`，因此您收到错误，因为默认值`__init__`不接受参数。如您所见，这样做没有多大意义。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T18:39:40.083

您在实例化时将继承与初始化类混淆了。

在这种情况下，对于您的类声明，您应该这样做

```
class  haha(object):
    def  theprint(self):
        print "i am here"

>>> haha().theprint()
i am here 
```

因为 haha​​(object) 意味着 haha​​ 继承自 object。在 python 中，不需要这样写，因为默认情况下所有类都继承自 object。

如果您有一个接收参数的**init**方法，则需要在实例化时传递这些参数，例如

```
class  haha():
    def __init__(self, name):
        self.name=name
    def theprint(self):
        print 'hi %s i am here' % self.name

>>> haha('iferminm').theprint()
hi iferminm i am here 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T15:16:11.793

`class haha(object):`表示`haha`继承自`object`. 从基本上继承`object`意味着它是一个新样式的类。

调用`haha()`会创建一个 的新实例，`haha`从而调用*构造函数*，该构造函数将是一个名为 的方法`__init__`。但是，您没有，因此使用不接受任何参数的默认构造函数。

# codeigniter - CodeIgniter 路由问题

> ID：14098352
> 
> 赞同：1
> 
> 时间：2012-12-31T06:38:00.600
> 
> 标签：codeigniter

我正在尝试这样做：[http://domain.com/foo/username](http://domain.com/foo/username)和[http://domain.com/foo/username/baz](http://domain.com/foo/username/baz)但我无法弄清楚如何使用路由使其工作。 php

这是我在 routes.php 中的内容

```
$route['foo/(:any)'] = foo_controller/index/$1;
$route['foo/(:any)/baz'] = 'foo_controller/baz/$1'; 
```

这是我的 foo_controller.php

```
class Foo_Controller {
    function _construct() {}

    function index() {
        $username = strtolower($this->uri->segment('2'));

        ...
    }

    function baz() {}
} 
```

当我转到 /foo/username/baz 时，我得到的是它只是加载索引方法。

请帮忙？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T09:08:54.210

切换并使用双引号：

```
$route['foo/(:any)/baz'] = "foo_controller/baz/$1";
$route['foo/(:any)'] = "foo_controller/index/$1"; 
```

和控制器方法：

```
function index($username = false) {
     $username = strtolower($username);

    ...
}

function baz($username = false) {
     $username = strtolower($username);

    ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T09:01:50.507

```
$username 
```

必须在 baz 方法和路由中：

```
$route['foo/baz/(:any)'] = 'foo_controller/baz/$1'; 
```

我认为**/foo/username/baz**是错误的 uri。

** 我英语不好。

# php - MediaWiki 中 AuthPlugin 上下文中的“域”是什么？

> ID：14098353
> 
> 赞同：5
> 
> 时间：2012-12-31T06:38:36.580
> 
> 标签：php, authentication, mediawiki

我正在为 MediaWiki编写自己的[AuthPlugin ，并参考官方提供](http://www.mediawiki.org/wiki/AuthPlugin)[的文档](http://svn.wikimedia.org/doc/classAuthPlugin.html)和[代码](http://svn.wikimedia.org/viewvc/mediawiki/trunk/phase3/includes/AuthPlugin.php?view=markup)。关于**domain**有几个功能：

```
AuthPlugin::domainList()
// Get a list of domains (in HTMLForm options format) used.

AuthPlugin::getDomain()
// Get the user's domain.

AuthPlugin::setDomain($domain)
// Set the domain this plugin is supposed to use when authenticating. 
```

但是，我不明白什么是**domain**，它应该是什么？AuthPlugin 扩展的作者希望它是什么，而不是在默认 MW 配置中具有任何意义？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T16:19:32.990

这主要用于 LDAP 插件；如果您的身份验证系统没有可能需要从中选择的多个域的概念，那么您无需担心。

# sql-server - 使用 STIntersect 查找几何线与几何多边形相交后的长度

> ID：14098356
> 
> 赞同：4
> 
> 时间：2012-12-31T06:38:47.457
> 
> 标签：sql-server, geometry, spatial, intersect

```
SQL SERVER 2012 
```

`STIntersect`在我使用与多边形几何相交后，我需要找到一条线的几何长度。
例如，我有一条 7731 米长的线，然后我`STIntersect`将它与一组多边形相对，我需要找出每个多边形中线的长度。

输出表看起来像

```
ReferenceID    PolygonID   LineID   Length
12324          3234        24661    1635
12325          3233        24652     663
12326          3236        24653     256
12327          3365        24634     165 
```

当前使用此但无法返回几何图形或长度

```
insert [VMS_OBS_LINES_INTERSECT] (CA_Reference_Key, STAT_AREA,WATERS,GNMFSAREA, Grid_ID, Length)select l.CA_Reference_Key,g.stat_area,g.waters, g.GNMFSAREA , g.Grid_ID, g.shape.STIntersection(l.shape).STLength()
FROM GRID_AREA_SQL g, VMS_OBS_COMBINE_LINES_AI l
WHERE g.shape.STIntersects(l.shape) = 1; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T18:28:23.373

```
declare @g geometry, @l geometry;

select @g = geometry::STGeomFromText('POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))', 0), --10x10 box
       @l = geometry::STGeomFromText('LINESTRING( -10 -10 , 20 20 )', 0); --a line that will go through the corners of the box

select @g.STIntersection(@l).STLength(); 
```

# android - 当我在android中@主屏幕时收听摇晃事件

> ID：14098357
> 
> 赞同：0
> 
> 时间：2012-12-31T06:38:57.103
> 
> 标签：android, shake

[我从这个](https://stackoverflow.com/questions/2317428/android-i-want-to-shake-it)实现了抖动事件。

1.  但是我怎样才能在主屏幕上收听抖动事件呢？

2.  是否有任何广播接收器或者我必须为监听震动事件创建服务？

我找到[了如何检查我当前是否在主屏幕上](https://stackoverflow.com/questions/7062405/how-to-check-if-i-am-currently-on-home-screen)以获取主屏幕焦点，但仅适用于默认设置。如果我有自定义主页启动器，那么我如何识别该启动器。Manifest 是否有任何启动器应用程序的标识？？？

需要帮助。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T06:39:43.857

您必须创建一个`Service`侦听抖动事件的函数。

# redis - 使用redis，如何根据一段时间内的登录次数来识别活跃用户？

> ID：14098358
> 
> 赞同：3
> 
> 时间：2012-12-31T06:39:09.737
> 
> 标签：redis

有人告诉我 redis 是为分析而生的，我遇到了一些位图使用案例。它们在根据是/否（0/1）进行计数时很有用，但我找不到一种有效的方法来计算过去 10 天内至少登录 4 次的用户数量。因为 redis 在内存中运行，我尝试使用位图来跟踪每个用户的登录标志，并在我的笔记本电脑上使用 bitcount 到文件管理器，需要一分钟才能从大约 400 万用户的登录活动中返回计数。

有没有办法解决这个问题？我猜我的节点redis客户端和redis服务器之间的往返可能是问题，我会尝试批处理命令或lua脚本看看它是否有效。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T09:52:25.040

我认为您需要使用带有用户 ID 值和得分时间戳的 SortedSets。当用户登录时，该用户的分数（时间戳）更新为当前。比您可以获取最后登录的用户（ZREVRANGE）或在某个日期时间范围（ZRANGEBYSCORE）之间登录的用户

# blackberry - 如何在 RIM Blackberry 中上传图像

> ID：14098359
> 
> 赞同：1
> 
> 时间：2012-12-31T06:39:11.877
> 
> 标签：blackberry, blackberry-eclipse-plugin, blackberry-jde

我想在 RIM Blakcberry 中上传图像。我有像这样的网址

```
http://server/myproject/json.php?action=image 
```

和参数

```
imageField= binary / byte data
imagePath= "userImage" 
```

我参考[这个链接。](https://stackoverflow.com/questions/7793354/upload-image-to-server-from-blackberry)

但我无法上传图片。有人知道吗？？非常感谢。。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-12-31T11:38:20.867

请参阅[“问题：如何将文件上传到服务器”](http://supportforums.blackberry.com/t5/Java-Development/Problem-How-to-upload-file-to-server/td-p/1865901)线程以了解如何通过服务器上传文件。

# nosql - 为社交网络建模 Azure 表存储的有效方法

> ID：14098362
> 
> 赞同：0
> 
> 时间：2012-12-31T06:39:14.297
> 
> 标签：nosql, azure-table-storage

我在 SQL Server 中有这样的表

**用户**

*   用户 ID（唯一）
*   姓名
*   年龄

**朋友们**

*   用户身份
*   朋友ID

**话题**

*   用户身份
*   学科

可能有数千个用户。表中还有其他几个属性。

我可以查询以获得以下答案。

1.  给我用户“汤姆”的所有朋友。
2.  给我“汤姆”创建的所有主题。
3.  给我汤姆的朋友创建的所有主题中包含“abc”的主题。

如果我要在 Azure 表存储中执行此操作，我该如何构建我的表？我已经经历了[这个](http://msdn.microsoft.com/en-us/library/windowsazure/hh508997.aspx)，[我](http://msdn.microsoft.com/en-us/magazine/ff796231.aspx)希望有人在建模 Azure 表存储方面有更多经验，以提供一些见解..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T06:59:24.327

1和2很简单。您创建两个 Azure 表 - 由用户 ID 索引的朋友和主题（在键中包含用户 ID）。

Azure 表的第三个要困难得多，尤其是“在主题中包含'abc'”部分。

Azure 表不支持全文搜索。基本上，只有使用精确键或使用“startswith”运算符才能有效地检索值（或值范围）。就像“给我所有键等于'键值'的记录”。或“给我所有键大于'键下限'且小于'键上限'的记录”。

也可以通过记录的任何非关键字段使用'startswith'进行过滤，但这会涉及表扫描并且效率不高。用“包含”做类似的过滤是不可能的。

所以我认为你需要在这里有全文搜索支持的东西。

# wordpress - li tab浮动错误

> ID：14098364
> 
> 赞同：0
> 
> 时间：2012-12-31T06:39:30.017
> 
> 标签：wordpress, user-interface, tabs, html-lists

我附上了我如何查看的图像。我试图修复浮动。但我无法正确对齐直线。请帮助我。

这里的 li 看起来如何 [http://digibrush.net/mclarens/where-to-buy/][1]

**HTML**

```
<ul class="tabs-shortcode-list">
  <li ui-state-default ui-corner-top ui-tabs-selected ui-state-active ><a href="#A-0" >A</a></li>
  <li ui-state-default ui-corner-top><a href="#B-1" >B</a></li>
  <li ui-state-default ui-corner-top><a href="#C-2" >C</a></li>
  <li ui-state-default ui-corner-top><a href="#D-3" >D</a></li>
  <li ui-state-default ui-corner-top><a href="#E-4" >E</a></li>
  <li ui-state-default ui-corner-top><a href="#F-5" >F</a></li>
</ul> 
```

**CSS**

```
.tabs-shortcode.ui-tabs {
zoom:1;
clear:both;
background:#FFF;
padding:0;
margin:0;
}

.tabs-shortcode.ui-tabs-nav {
list-style:none!important;
padding:.2em 0 0!important;
margin: 0!important;
}
.tabs-shortcode .ui-tabs-nav:after{
visibility: hidden;
display: block;
font-size: 0;
content: " ";
clear: both;
height: 0;
}
* html .tabs-shortcode  .ui-tabs-nav          { zoom: 1;
} /* IE6 */
*:first-child+html .tabs-shortcode .ui-tabs-nav { zoom: 1;
} /* IE7 */

.tabs-shortcode .ui-tabs-nav li {
position:relative;
float:left;
border:1px solid #CCC;
background:#EEE;
list-style:none!important;
z-index: 100;
padding:0;
 }

 .tabs-shortcode.ui-tabs .ui-tabs-nav li.ui-tabs-selected {
background:#FFF;
color:#111;
 }

 .tabs-shortcode .ui-tabs-nav li:before {
content:"";
 }

 .tabs-shortcode .ui-tabs-nav li a {
float:left;
text-decoration:none;
padding:4px 10px;
color:#333;
border:none!important;
 }

 .tabs-shortcode.ui-tabs .ui-tabs-nav li.ui-tabs-selected a,
 .tabs-shortcode.ui-tabs .ui-tabs-nav li.ui-state-disabled a,
 .tabs-shortcode.ui-tabs .ui-tabs-nav li.ui-state-processing a {
cursor: default;
  }

  .tabs-shortcode .ui-tabs-nav li a,
  .tabs-shortcode.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-selected a {
cursor:pointer;
  }

.tabs-shortcode .ui-tabs-panel {
display:block;
border-width:0;
background:none;
}

.tabs-shortcode .ui-tabs-hide {
display:none!important;
}

.tabs-shortcode.ui-tabs-panel {
clear:both;
}

/* Position Top */
 .tabs-shortcode-top .ui-tabs-nav{
border-bottom: 1px solid #CCC;
 }
 .tabs-shortcode-top .ui-tabs-nav li.ui-tabs-selected {
padding-bottom:1px!important;
border-bottom:0;
margin:1px .3em -1px 0!important;
 }
 .tabs-shortcode-top .ui-tabs-nav li {
border-bottom-width:0!important;
margin:1px .3em 0 0!important;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:29:32.857

问题出在 .ui-tabs-nav 上。注释这个类中的所有 css。这将使菜单显示为垂直。现在用另一个类名编写你自己的 css。用 HTML 中的新类替换 ui-tabs-nav

# ruby-on-rails - Rails：webrick在浏览器显示页面之前呈现页面后的长时间延迟（mac开发机器）

> ID：14098371
> 
> 赞同：3
> 
> 时间：2012-12-31T06:40:37.757
> 
> 标签：ruby-on-rails

有没有人对 Rail 开发页面显示不规律地减速和加速有任何经验（页面在控制台显示整个页面已呈现后 15-20 秒出现）。

我的开发环境是 Mac (Lion) 上的 rails 3.0.17、WEBrick 1.3.1、ruby 1.9.2，以及用于开发数据库的 Postgres v11（Heroku 提供的应用程序）。

最近，我注意到加载页面时出现了一些很长的延迟……有时 15 到 20 秒，并且延迟与页面的复杂性完全无关，给定的页面可能会快速加载几次，然后加载缓慢。几分钟可能会很糟糕，然后消失一个小时。

无论页面加载速度是慢还是快，rails 日志总是显示页面渲染得相当快......我会看到类似“Completed 200 OK in 486ms”但随后浏览器可能会说“等待本地主机”再等 15显示页面前几秒。

似乎不依赖于浏览器（FF 或 Safari 的行为相同）。

似乎与更新代码库无关。我正在测试一些 UI 元素，一切都很顺利，然后突然有几个页面挂了 15-120 秒。

即使在我将 gem 'rails-dev-boost' 添加到开发中的 Gemfile 之后，仍然会发生。

我还添加到我的开发机器 gem 'http_logger' 以记录对 S3 等外部 http 请求的调用，但不认为这是一个因素（延迟通常发生在不访问外部 API 的页面上）。

我的布局有几个外部 .js 依赖项，例如[http://static.twilio.com/libs/twiliojs/1.0/twilio.min.js](http://static.twilio.com/libs/twiliojs/1.0/twilio.min.js)，但我已将其添加到布局的底部，所以我会（大概) 如果被延迟，仍然可以快速查看页面内容。（此外，它可能被我的浏览器缓存了）。

当然我试过重启机器，经过验证的活动监视器对于 CPU 和内存使用来说似乎是正常的。当时间机器做它的事情时，它似乎没有关联。

更多信息：根据下面 AKG 评论中的建议，我使用了 Firebug 的 Web 控制台，并且大多数情况下，样式表会以几毫秒的速度加载，但是当速度变慢时，我发现大多数样式表会出现 8-20 秒的延迟...这表明 webrick 未能及时提供页面？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-08-16T00:54:48.963

可能是在调用渲染之后但在发送响应之前执行错误/缓慢的中间件。我最近遇到了这个问题，在某些情况下暂停超过 1 分钟，而罪魁祸首竟然是`Bullet`gem，它旨在帮助我们检测 N+1 个查询。我删除了中间件，问题就消失了！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:15:12.360

我有几次同样的问题。我切换到Mongrel。这自动解决了问题。但是，我在 Rails 2.3.8 中得到了这个。

# android - 在gridview中拉伸imageview

> ID：14098373
> 
> 赞同：5
> 
> 时间：2012-12-31T06:40:48.350
> 
> 标签：android, android-layout, gridview, imageview

我的 gridview 中的图像没有拉伸。

我怎样才能拉伸它？

这是我的。

![在此处输入图像描述](../Images/90330ecc687d1cf4e3c279d90b066b13.png)

这就是我要的

![在此处输入图像描述](../Images/f9be65acc41796997cca2e29b5b495ee.png)

网格视图

```
<ScrollView
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent" >

        <LinearLayout
            android:id="@+id/layout2"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:background="@drawable/bg_base"
            android:orientation="vertical" >

            <com.camitss.mcolle.ScrollableGridView
                android:id="@+id/grid_all"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:columnWidth="110dp"
                android:gravity="center"
                android:horizontalSpacing="10dp"
                android:numColumns="auto_fit"
                android:padding="5dp"
                android:verticalSpacing="10dp" />
        </LinearLayout>
    </LinearLayout>
</ScrollView> 
```

GridView 项

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="@drawable/card_base"
android:orientation="vertical" >

<!-- Green Image -->
<ImageView
    android:id="@+id/category_card"
    android:layout_width="105dp"
    android:layout_height="105dp"
    android:layout_centerInParent="true" />

<!-- Picture -->
<ImageView
    android:id="@+id/imageView1"
    android:layout_width="95dp"
    android:layout_height="95dp"
    android:layout_centerInParent="true" /> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-31T06:55:47.303

试试这个

```
<!-- Picture -->

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="95dp"
        android:layout_height="95dp"
        android:layout_centerInParent="true"
        android:scaleType="fitXY"
        android:adjustViewBounds="true" /> 
```

# visual-c++ - 如何在 Visual C++ 中将 unsigned char 转换为 LPCTSTR？

> ID：14098379
> 
> 赞同：0
> 
> 时间：2012-12-31T06:41:04.883
> 
> 标签：visual-c++, pointers, casting, bytearray

```
BYTE name[1000]; 
```

在我的`visual c++`项目中，有一个`name`使用`BYTE`数据类型定义的变量。如果我没有错，那么`BYTE`就相当于`unsigned char`。现在我想将其转换`unsigned char *`为`LPCTSTR`.

我该怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T06:44:38.760

`LPCTSTR`被定义为`char const*`或者`wchar_t const*`基于是否`UNICODE`被定义。

*   如果`UNICODE`已定义，则需要使用. 将*多字节字符串*转换为*宽字符字符串*`MultiByteToWideChar`。

*   如果`UNICODE`没有定义，一个简单的转换*就*足够了：`static_cast< char const* >( name )`.

这假设这`name`是一个以*空结尾的 c-string*，在这种情况下定义它`BYTE`是没有意义的。你应该使用`CHAR`or `TCHAR`，这取决于你是如何操作的`name`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T10:31:56.937

您还可以直接将“名称”变量分配给 CString 对象，例如：

```
CString strName = name; 
```

然后你可以调用 CString 的 GetBuffer() 或者最好是 GetString() 方法，这更好地得到 LPCTSTR。优点是 CString 类将自动为您执行所需的任何转换。无需担心 Unicode 设置。

```
LPCTSTR pszName = strName.GetString(); 
```

# iphone - ios在json文件中添加项目数

> ID：14098385
> 
> 赞同：0
> 
> 时间：2012-12-31T06:41:38.007
> 
> 标签：iphone, xcode, json, ipad

嗨，我正在使用下面的代码创建一个 JSON 请求，并且它运行良好：

```
for (int i=0; i<= [urls count]-1; i++) {
    self.items=[[NSMutableDictionary alloc] init];
    [self.items setObject:[names objectAtIndex:i] forKey:@"results"];
    [self.items setObject:[urls objectAtIndex:i] forKey:@"URL"];
    [self.list addObject:_soccerList];
}

NSError *error;
NSData *jsonData = [NSJSONSerialization dataWithJSONObject:_list
                                                   options:0
                                                     error:&error];

self.results=[NSJSONSerialization
                           JSONObjectWithData:jsonData
                           options:0
                           error:&error]; 
```

但是，我想将此标头添加到我要添加项目计数的 JSON 请求中。你们中的任何人都知道我该怎么做吗？

```
{
"resultCount":50,
"results": [

/// json content 

]
} 
```

我会非常感谢你的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T06:48:10.317

你可以这样做：

```
NSDictionary *dict = [[NSDictionary alloc] initWithObjectsAndKeys:@"50", @"resultCount", _list1, @"results", nil];

NSData *jsonData = [NSJSONSerialization dataWithJSONObject:dict
                                                   options:0
                                                     error:&error]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T07:06:41.043

在添加 _soccerList 行之前的 for 循环中，添加以下行

```
 NSDictionary *dic=[[NSDictionary alloc] initWithObjectsAndKeys:[self.items count],@"resultCount",nil];
 [self.list addObject:dic]; 
```

# java - 进行并发测试时，应用程序日志文件会丢失大多数日志信息

> ID：14098392
> 
> 赞同：0
> 
> 时间：2012-12-31T06:42:17.500
> 
> 标签：java, logging, concurrency, log4j

我使用 JMeter 对 Web 应用程序进行并发测试。

环境：linux，JMeter 2.6，tomcat 6.0.35，log4j 1.2.14，

我使用我公司的appender，它扩展了RollingFileAppender，它用于根据不同的用户和登录ip创建相应的日志文件，例如user1-233.111-app.log.20121112

我将JMeter的线程数设置为50，然后运行jmeter脚本来测试web app，tomcat/logs中有50个日志文件，但是还有下一个问题：

1.  每个日志文件都遗漏了大部分日志信息，例如 user1-233.111-app.log.20121112 只有一行信息，但它应该有很多日志信息

2.  user1 的日志文件包含 user2 的日志信息，例如在 user1-233.111-app.log.20121112 中，有一些行如 - INFO [user2] ..........

没有user1-233.111-app.log.20121112.1、user1-233.111-app.log.20121112.2等

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T09:50:25.280

这肯定是您的文件附加程序扩展类中的一个错误。在此处显示代码，以便您获得答案。

# twisted - 运行 Twisted 教程和 twistd

> ID：14098396
> 
> 赞同：1
> 
> 时间：2012-12-31T06:42:27.520
> 
> 标签：twisted

我是 python 新手，我正在阅读扭曲的教程。使用twistd我得到以下错误：

```
sudo twistd -y /home/michael/Desktop/twisted_example.tac --syslog
[sudo] password for michael: 
Traceback (most recent call last):
  File "/usr/local/bin/twistd", line 4, in <module>
    import pkg_resources
  File "/usr/lib/python2.7/dist-packages/pkg_resources.py", line 2707, in <module>
    working_set.require(__requires__)
  File "/usr/lib/python2.7/dist-packages/pkg_resources.py", line 686, in require
    needed = self.resolve(parse_requirements(requirements))
  File "/usr/lib/python2.7/dist-packages/pkg_resources.py", line 584, in resolve
    raise DistributionNotFound(req)
pkg_resources.DistributionNotFound: Twisted==12.0.0 
```

正如其他一些帖子所建议的那样，我解决了一些软件包依赖项和 libxslt1-dev 的安装，但这并没有解决问题。

我真诚地希望这不是一个笨拙的愚蠢问题，但我不太了解 python 系统，如果有任何建议，我将不胜感激

毫米

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T17:16:28.690

你有`/usr/local/bin/twistd`和`/usr/lib/python2.7/`。

这表明您在系统上安装了*未打包*的 Twisted。这可能与 Twisted 的打包安装相冲突。

您通常应该避免在 Linux 系统上安装未打包的软件。如果您确实安装了未打包的软件，则不应将其安装在诸如此类的系统位置`/usr/local`（尽管传统上这是安装此类软件的位置）。相反，将其安装在您的主目录中 - 并且不要**以**root 身份安装它。

你的 Linux 供应商打包软件是有原因的——很难用一千个不同的人制作的软件构建一个系统并让它真正工作。打包过程让上游人员有机会测试不同的配置，然后将工作配置冻结成可以在您的计算机上完全复制的形式。

至于你的系统出了什么问题的细节，我猜你已经安装了 setuptools（或分发），并且你从一个 tarball 安装了 Twisted 12.0.0，作为 root，使用`setup.py`. `twistd`这在 /usr/local/bin 中安装了一个 setuptools-infested 版本。这个版本`twistd`需要 Twisted 12.0.0（这不是`twistd`它自己的特性，setuptools 引入了它）但是它会找到 /usr/lib/python2.7/dist-packages 中的任何 Twisted 版本，然后失败.

细节实际上可能有点不同，因为您问题中的回溯实际上并没有包含足够的信息来真正了解您的系统是如何设置的。

解决方案是删除安装在 /usr/local 中的所有 Twisted 相关文件，并改用系统提供的 Twisted 包。如果该版本不够新，那么您可能需要升级您的 Linux 发行版或找到由第三方提供的更新的 Twisted 打包版本（例如[https://launchpad.net/~twisted-dev/+archive/ ppa](https://launchpad.net/~twisted-dev/+archive/ppa)用于 Ubuntu）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T08:47:02.470

你必须安装 python-pkg-resources 包

# asp.net-mvc-4 - RenderAction 部分视图缓存在后退按钮 Asp.Net MVC 上

> ID：14098400
> 
> 赞同：0
> 
> 时间：2012-12-31T06:42:49.593
> 
> 标签：asp.net-mvc-4

我有一个带有部分视图的 div，我使用 RenderAction() 渲染它。我正在使用 Asp.Net MVC 4.0。

我的问题是，它只发生在 IE（版本 9）上，当我转到其他页面并单击 IE 上的后退按钮时，部分视图不会呈现。部分视图部分为空白。即使在 Firefox 上，也不会调用 Action，但至少会呈现 Partial View（它不是空白的）

有什么解决办法吗？

**更新**

```
 @foreach (var item in Model)
 {    
         <article style="margin-top: 10px;">
             <h5>
                 @item.Title
             </h5>
             <span >
                 <time>
                     @item.FromDateMonth
                 </time>-
             <time>
                 @item.ToDateMonth
             </time>
             </span>
             <div style="margin-top:10px;">
                 @Html.Label("Notes:", new { @style = "color: #000000; font-size: 13px; font-weight: bold; line-height: 16px;" })
                 <span style="color: #000000; font-size: 13px; font-weight: normal; line-height: 16px;">
                     @item.Notes
                 </span>
             </div>

         </article> 
```

# iphone - 构建成功但黑屏

> ID：14098403
> 
> 赞同：-1
> 
> 时间：2012-12-31T06:43:25.053
> 
> 标签：iphone, xcode

构建过程很好，但后来我得到一个黑屏。我尝试在应用程序委托中放置一个断点，但它似乎没有运行。

会是什么呢？

这是我的 didFinishLaunchingWithOptions 方法：

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    //Init Airship launch options
    NSMutableDictionary *takeOffOptions = [[[NSMutableDictionary alloc] init] autorelease];
    [takeOffOptions setValue:launchOptions forKey:UAirshipTakeOffOptionsLaunchOptionsKey];

    // Create Airship singleton that's used to talk to Urban Airship servers.
    // Please populate AirshipConfig.plist with your info from http://go.urbanairship.com
    [UAirship takeOff:takeOffOptions];
    // Register for notifications
    [[UAPush shared] registerForRemoteNotificationTypes:(UIRemoteNotificationTypeBadge |                                UIRemoteNotificationTypeSound | UIRemoteNotificationTypeAlert)];

    [[UIApplication sharedApplication] registerForRemoteNotificationTypes:
    (UIRemoteNotificationTypeBadge | UIRemoteNotificationTypeSound | UIRemoteNotificationTypeAlert)];

    usersData = [PlayersData sharedInstance];
    //[usersData cleanUserDefauts];  // --- use to clean user defaults

    self.window = [[[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]] autorelease];
    // Override point for customization after application launch.

    self.loadingPageVC = [[LoadingPage alloc] initWithNibName:@"LoadingPage" bundle:nil];
    self.window.rootViewController = self.loadingPageVC;

    [self.window makeKeyAndVisible];

    ConnectionManager *connectionManager = [ConnectionManager sharedInstance];
    NSLog(@"Connection statement: %@",[connectionManager checkConnection]);
    if ([[connectionManager checkConnection] isEqualToString:@"connected with wifi"] || [[connectionManager checkConnection] isEqualToString:@"connected with wwan"] ) {
    [connectionManager getLocation];
    }
    return YES;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T09:11:53.810

好的！这解决了。

显然，与我一起工作的人改变了一个简单的词，这把一切都搞砸了……</p>

他`appDelegate`继承了 from`UIApplication`而不是 from `UIResponder`。

现在它起作用了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T06:47:39.887

有时（很少）XCode 的行为会有所不同。如果真的很奇怪，我会做以下事情。

1.  做一个干净的构建
2.  在模拟器中删除您的应用并重新构建
3.  重新启动模拟器并再次构建
4.  关闭 XCode 并重新打开它
5.  最坏的情况是重新启动系统

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T06:53:48.493

无需重新启动任何东西。只需按照下面给出的步骤，您将实现您想要的。

```
 1\. Go to /Users/<MAC_NAME>/Library/Application Support/iPhone Simulator/<SIMULATOR_VERSION>, delete all & run app 
```

享受编程！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-31T07:01:47.380

我认为您可能已将您的 xib 名称从 更改 `ViewController`为`LoadingPage`。

如果是这样，那么您必须从您的 .xib 中委派它。从右上角。喜欢，

![在此处输入图像描述](../Images/5162abea249a9cc92e8cfebaa59b13e6.png)

我刚刚给出了我的意见，这可能是您的解决方案。如果你成功了另一个，请告诉我.....:)

# java - 找不到类异常：java.lang.ClassNotFoundException：com.mysql.jdbc.Driver？

> ID：14098404
> 
> 赞同：-2
> 
> 时间：2012-12-31T06:43:37.750
> 
> 标签：java, jdbc, driver, mysql-connector

> **可能重复：**
> [com.mysql.jdbc.Driver 在构建路径中找不到 mysql 连接器](https://stackoverflow.com/questions/12920265/com-mysql-jdbc-driver-not-found-with-mysql-connector-in-buildpath)

我正在将 MySQL 数据库连接到 Java 程序。当我运行我的程序时，我收到了这个错误

> 找不到类异常：java.lang.ClassNotFoundException：com.mysql.jdbc.Driver

对于这条线

> 尝试{ Class.forName("com.mysql.jdbc.Driver").newInstance();

所以有什么问题？我将连接器放在项目文件中。是正确的还是应该在另一个位置？

操作系统 Windows XP、Eclipse 4.0、mysql 连接器 5.1.22

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T06:58:37.110

JAR 文件需要添加到项目类路径中。

```
First Right click on you Eclipse Project,  Project --> Build Path --> Configure Build Path. Under Libraries tab, click Add Jars or "Add External JARs". 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T07:46:28.657

在过去五年左右的任何时候，您甚至都不需要那行代码。删了就行

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T06:47:00.527

jar 文件应该在您的类路径中。如果您通过 IDE 创建了项目，请确保将 jar 添加到构建路径中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-31T06:47:35.857

您必须在项目的构建路径中包含连接器 jar 文件。在 Eclipse 项目属性对话框中，转到“Java Build Path”并在“Libraries”选项卡中添加 jar 文件

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-31T06:52:26.833

jar 应该包含在您的类路径中。在您的 IDE 中，配置您的构建路径并在您的库部分中添加所需的 jar。

# html - 页脚不粘在底部

> ID：14098412
> 
> 赞同：0
> 
> 时间：2012-12-31T06:44:52.993
> 
> 标签：html, css, jsp, sticky-footer

我正在处理struts2应用程序。当我处理jsp页面时发生了一个问题，当页面内容较少时，页脚浮动在内容下方，这看起来很糟糕。但是当内容超过页面时，它会自动浮动到底部.这对我来说没问题。任何帮助将不胜感激...

CSS中用于页脚的代码是......

```
#footer {
    height:41px;
    background:url(../images/main-bg.png) repeat-x;
    width: 100%;
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-31T07:46:52.183

对于粘性页脚（始终位于页面底部，无论页面高度如何），请使用`position: fixed;`

```
 #footer {
     height:41px;
     background:url(../images/main-bg.png) repeat-x;
     position: fixed;
     bottom: 0;
     width: 100%;
   } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T08:40:48.357

如果您正在寻找使页脚始终在不受滚动影响的浏览器窗口上可见，那么`position:fixed`就可以了。但是，当内容更多并且您需要滚动并且页脚仍然停留在与内容重叠的查看区域时，这看起来会很糟糕。一个干净的解决方案是将页脚标记移到包装器 div 之外。像这样的东西应该很好：

[**示例演示**](http://jsfiddle.net/NZTTf/3/)

**CSS-**

```
html, body {
    height: 100%;
}
#wrapper {
    background-color:yellow;
    height: 90%; //sharing the height between wrapper and footer
    margin:0px;
}
#footer {
    background-color:green;
    height: 10%;
    min-height:20px;
    max-height:40px;
} 
```

# youtube-api - safeSearch 过滤视频，但它不是 ip 限制。它是一个错误吗？

> ID：14098416
> 
> 赞同：0
> 
> 时间：2012-12-31T06:45:14.033
> 
> 标签：youtube-api

我是否尝试过[http://gdata.youtube.com/feeds/api/users/t_vuWv0C8mbjQAe-5RKKrQ/uploads?v=2&start-index=1&max-results=50&prettyprint=True&safeSearch=none](http://gdata.youtube.com/feeds/api/users/t_vuWv0C8mbjQAe-5RKKrQ/uploads?v=2&start-index=1&max-results=50&prettyprint=True&safeSearch=none)， http: [//gdata.youtube.com /feeds/api/users/t_vuWv0C8mbjQAe-5RKKrQ/uploads?v=2&start-index=1&max-results=50&prettyprint=True&safeSearch=moderate](http://gdata.youtube.com/feeds/api/users/t_vuWv0C8mbjQAe-5RKKrQ/uploads?v=2&start-index=1&max-results=50&prettyprint=True&safeSearch=moderate) , [http://gdata.youtube.com/feeds/api/users/t_vuWv0C8mbjQAe-5RKKrQ/uploads ?v=2&start-index=1&max-results=50&prettyprint=True&safeSearch=strict](http://gdata.youtube.com/feeds/api/users/t_vuWv0C8mbjQAe-5RKKrQ/uploads?v=2&start-index=1&max-results=50&prettyprint=True&safeSearch=strict)

结果被过滤，仅返回 1 个视频。

但是，如果我删除**safeSearch**参数 [http://gdata.youtube.com/feeds/api/users/t_vuWv0C8mbjQAe-5RKKrQ/uploads?v=2&start-index=1&max-results=50&prettyprint=True](http://gdata.youtube.com/feeds/api/users/t_vuWv0C8mbjQAe-5RKKrQ/uploads?v=2&start-index=1&max-results=50&prettyprint=True)，我可以获得很多视频。

我不认为这与 ip 限制有关，提要没有返回**yt$state**和类似““此视频在您所在地区不可用。”。我可以在浏览器上播放具有相同 ip 的所有视频。它与限制参数无关，[http](http://gdata.youtube.com/feeds/api/users/t_vuWv0C8mbjQAe-5RKKrQ/uploads?v=2&start-index=1&max-results=50&prettyprint=True&restriction=127.0.0.1&safeSearch=none) ://gdata.youtube.com/feeds/api/users/t_vuWv0C8mbjQAe-5RKKrQ/uploads?v=2&start-index=1&max-results=50&prettyprint=True&restriction=127.0.0.1&safeSearch=none仍然返回 1 个视频。

我的问题是，究竟是什么限制导致 safeSearch 过滤我的结果，如果不是 ip 限制，还有什么？18+ 视频？

![仅返回一个视频](../Images/a16c5842028c540139de59ff3af1976e.png)

![更多视频返回](../Images/9deb4d56887bdbd4e4f39ada8a4df7fe.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T22:07:08.067

You're getting back different results because your first set of queries all go against the search index, and your other query goes against the backend database. This is explained in more detail at [http://apiblog.youtube.com/2012/03/keeping-things-fresh.html](http://apiblog.youtube.com/2012/03/keeping-things-fresh.html)

# php - 无法在 joomla 2.5 中将数据存储到数据库中

> ID：14098420
> 
> 赞同：1
> 
> 时间：2012-12-31T06:45:59.260
> 
> 标签：php, mysql, joomla2.5, joomla-extensions

我尝试了很多方法将我的数据插入到 joomla 数据库中，但它不起作用。尽管我已经阅读了其他 stackoverflow 成员之前提出的问题，但它仍然没有解决我的问题，并且还试图了解 joomla 官方网站，但一切都是徒劳的。以下是我的代码： -

```
defined( '_JEXEC' ) or die( 'Restricted access' );

   $app =& JFactory::getDocument();
   $page_title = $app->getTitle();

    $name = $_POST['name'];
    $class = $_POST['class'];

   $db =& JFactory::getDBO();
   echo $query = "INSERT INTO ' k2store'.'os0fr_jd'('id','name', 'class')
                  VALUES ('','$name','$class')";
                  mysql_query($query);
   $db->setQuery( $query );
   $db->query(); 

?>
<form action="index.php" method="post" name="adminForm">
<input type="hidden" name="option" value="com_sms" />
<input type="hidden" name="view" value="Sms" />
<input type="hidden" name="task" value="" />
<input type="hidden" name="boxchecked" value="0" />
Name:&nbsp;<input type="text" name="name">
Class:&nbsp;<input type="text" name="class">
<input type="submit" value="Register" name="register">
</form> 
```

请帮助我了解我的错误，任何帮助将不胜感激...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T04:18:18.733

所以最后我设法找到了它的解决方案。以下是更新的代码：-

```
 <?php
/**
 *
 * @file        $Id: default.php 0.0.2 2012-12-28 00:00:00 Joydeep Banerjee $
 * @package        School Mangement System 
 * @version     0.0.2
 * @description Simple School Management System component for joomla 2.5
 * @copyright      Copyright Â© 2012 - All rights reserved.
 * @license          GNU General Public License v2.0
 * @author          Joydeep Banerjee
 * @author mail    joy@vividtechno.com
 * @website          http://www.indiawebsitedesigndevelopment.com
 *
 **/

  // No direct access
  defined( '_JEXEC' ) or die( 'Restricted access' );
       $app =& JFactory::getDocument();
       $page_title = $app->getTitle();

       echo $name = $_POST['name'];
       echo $class = $_POST['class'];

       $db =& JFactory::getDBO();
echo $query = "INSERT INTO `#__jd` (`id`,`name`, `class`)
    VALUES ('','$name', '$class');";
$db->setQuery( $query );
$db->query(); 
?>
<form action="index.php" method="post" name="adminForm">
<input type="hidden" name="option" value="com_sms" />
<input type="hidden" name="view" value="Sms" />
<input type="hidden" name="task" value="" />
<input type="hidden" name="boxchecked" value="0" />
Name:&nbsp;<input type="text" name="name">
Class:&nbsp;<input type="text" name="class">
<input type="submit" value="Register" name="register">
</form> 
```

主要问题是我忘记在名称中加上 '' 在 $name 和 $class 中，这是 Nicarus（Stackoverflow 成员）所说的。谢谢回复..：）

# javascript - 浏览器如何在其历史记录中存储访问页面的位置？

> ID：14098422
> 
> 赞同：0
> 
> 时间：2012-12-31T06:46:02.627
> 
> 标签：javascript, firefox, firefox-addon, xul, xulrunner

我正在尝试创建自己的后退/前进按钮，因此我尝试将访问过的页面存储在 javascript 数组中，但我发现很难在数组中维护访问过的页面位置。

谁能告诉，浏览器以哪种格式存储历史中访问过的页面位置以及在按下后退/前进按钮时如何访问这些位置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:10:15.033

[如何实现浏览器等后退功能](https://stackoverflow.com/questions/6869476/how-to-implement-back-and-forward-functionality-like-browser)

这个链接也谈到了同样的事情。浏览器保存数据的方式可能无法直接使用，但链接所涉及的解决方案应该足以满足您的需求。

只是一个补充：[http ://www.forensicswiki.org/wiki/Internet_Explorer_History_File_Format](http://www.forensicswiki.org/wiki/Internet_Explorer_History_File_Format)

# c# - 以字节为单位获取 C# 列表的大小

> ID：14098428
> 
> 赞同：1
> 
> 时间：2012-12-31T06:47:02.117
> 
> 标签：c#, visual-studio-2010, list, byte

我在visual studio 2010 c#下有一个windows应用程序

我创建了一个`book`具有 3 个字段（、、、`name`）`writingDate`名称的`author`类

我创建另一个名称`book`为`book`( `List<book>`)的类

当我检索`books`类数据时，我需要知道它**的字节大小**

我怎样才能做到这一点？

**注意：**我尝试`Marshal.SizeOf(books)`但发生此错误

```
"Type 'System.Collections.Generic.List`1[books]' cannot be marshaled as 
an unmanaged structure; no meaningful size or offset can be computed." 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-31T06:58:50.720

没有以字节为单位获取列表大小的好方法。主要问题是 - 你需要什么尺寸？您是否担心内存消耗？在将列表传输到某个地方时，您是否担心网络带宽？

如果内存消耗让您担心，您可能有数以百万计的书籍条目。在这种情况下，我希望加载时间比其他任何事情都重要得多，因此您可以只加载部分列表并完全解决内存问题。

如果是网络带宽，你需要序列化列表（基本上是转换成字节流），然后你可以知道流有多长。当您流式传输它时，您将选择（可能是隐式地）字符串的字符编码，这可能是这里最重要的因素。

# iphone - bool _WebTryThreadLock(bool), 0xae8d250 错误

> ID：14098429
> 
> 赞同：-1
> 
> 时间：2012-12-31T06:47:17.097
> 
> 标签：iphone, ios, multithreading, dispatch-async

bool _WebTryThreadLock(bool), 0xae8d250: 试图从主线程或web线程以外的线程获取web lock。这可能是从辅助线程调用 UIKit 的结果。现在崩溃...

我的代码

```
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{[self.navigationController pushViewController:aController animated:YES];
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:23:12.073

尝试`performSelectorinMainThread:`

# ios - ios中的Json值失败

> ID：14098434
> 
> 赞同：-2
> 
> 时间：2012-12-31T06:47:43.433
> 
> 标签：ios, json

您好，我正在解析 JSON 格式的 URL，出现如下错误

```
JSONValue failed. Error trace is: (
    "Error Domain=org.brautaset.JSON.ErrorDomain Code=5 \"Unescaped control character '0xa'\" UserInfo=0x1d224220 {NSLocalizedDescription=Unescaped control character '0xa'}",
    "Error Domain=org.brautaset.JSON.ErrorDomain Code=3 \"Object value expected for key: Location\" UserInfo=0x1d2242d0 {NSUnderlyingError=0x1d224260 \"Unescaped control character '0xa'\", NSLocalizedDescription=Object value expected for key: Location}",
    "Error Domain=org.brautaset.JSON.ErrorDomain Code=3 \"Expected value while parsing array\" UserInfo=0x1d224310 {NSUnderlyingError=0x1d2242f0 \"Object value expected for key: Location\", NSLocalizedDescription=Expected value while parsing array}",
    "Error Domain=org.brautaset.JSON.ErrorDomain Code=3 \"Object value expected for key: GetIssues\" UserInfo=0x1d224350 {NSUnderlyingError=0x1d224330 \"Expected value while parsing array\", NSLocalizedDescription=Object value expected for key: GetIssues}" 
```

但是，如果我在浏览器中点击相同的 URL，它会完美运行。请指导我哪里出错了。

我的 json 输出是

```
{"GetIssues": [{ "PhotoUrl" : "http://city311.smartletmanager.com/city311/uploads/Sideways_SWS_122_154.jpg", "IssueName" : "Sidewalk Construction Permit", "Comments" : "N/A", "Location" : "Rajiv Gandhi Salai Tamil Nadu India", "Status" : "Not Fixed", "issueSubmittedDate" : "2012-12-28 12:40:20" },{ "PhotoUrl" : "http://city311.smartletmanager.com/city311/uploads/Environment_ENV_123_287.jpg", "IssueName" : "Dust Complaint", "Comments" : "N/A", "Location" : "Rajiv Gandhi Salai Tamil Nadu India", "Status" : "Not Fixed", "issueSubmittedDate" : "2012-12-28 12:52:35" },{ "PhotoUrl" : "http://city311.smartletmanager.com/city311/uploads/Transport_TRP_124_342.jpg", "IssueName" : "Resources for passengers with disabilities and taxi drivers", "Comments" : "Tug", "Location" : "Ggj", "Status" : "Fixed", "issueSubmittedDate" : "2012-12-28 14:14:56" }]} 
```

如果我尝试在获取 json 值之前打印字符串。我得到了 json 格式的输出：

```
{"GetIssues":
            [{ "PhotoUrl"       : "http://city311.smartletmanager.com/city311/uploads/Sideways_SWS_122_154.jpg",
                "IssueName"     : "Sidewalk Construction Permit",
                "Comments"      : "N/A",
                "Location"          : "Rajiv Gandhi Salai
Tamil Nadu
India",
                "Status"            : "Not Fixed",
                "issueSubmittedDate"    : "2012-12-28 12:40:20"
           },{ "PhotoUrl"       : "http://city311.smartletmanager.com/city311/uploads/Environment_ENV_123_287.jpg",
                "IssueName"     : "Dust Complaint",
                "Comments"      : "N/A",
                "Location"          : "Rajiv Gandhi Salai
Tamil Nadu
India",
                "Status"            : "Not Fixed",
                "issueSubmittedDate"    : "2012-12-28 12:52:35"
           },{ "PhotoUrl"       : "http://city311.smartletmanager.com/city311/uploads/Transport_TRP_124_342.jpg",
                "IssueName"     : "Resources for passengers with disabilities and taxi drivers",
                "Comments"      : "Tug",
                "Location"          : "Ggj",
                "Status"            : "Fixed",
                "issueSubmittedDate"    : "2012-12-28 14:14:56"
           },{ "PhotoUrl"       : "http://city311.smartletmanager.com/city311/uploads/Transport_TRP_125_620.jpg",
                "IssueName"     : "Resources for passengers with disabilities and taxi drivers",
                "Comments"      : "Ryffhdugdjstiin",
                "Location"          : "Rajiv Gandhi Salai
Tamil Nadu
India",
                "Status"            : "Not Fixed",
                "issueSubmittedDate"    : "2012-12-31 00:17:18"
           },{ "PhotoUrl"       : "http://city311.smartletmanager.com/city311/uploads/Sideways_SWS_126_736.jpg",
                "IssueName"     : "Sidewalk Construction Permit",
                "Comments"      : "Drrtg",
                "Location"          : "Rajiv Gandhi Salai
Tamil Nadu
India",
                "Status"            : "Not Fixed",
                "issueSubmittedDate"    : "2012-12-31 00:18:26"
           },{ "PhotoUrl"       : "http://city311.smartletmanager.com/city311/uploads/Transport_TRP_127_84.jpg",
                "IssueName"     : "Blocked Sidewalk or Street Complaint",
                "Comments"      : "Erttyyyy",
                "Location"          : "Rajiv Gandhi Salai
Tamil Nadu
India",
                "Status"            : "Not Fixed",
                "issueSubmittedDate"    : "2012-12-31 00:19:04"
           },{ "PhotoUrl"       : "http://city311.smartletmanager.com/city311/uploads/Transport_TRP_128_642.jpg",
                "IssueName"     : "Sidewalk Repair Protest",
                "Comments"      : "Qwerty",
                "Location"          : "Rajiv Gandhi Salai
Tamil Nadu
India",
                "Status"            : "Not Fixed",
                "issueSubmittedDate"    : "2012-12-31 00:19:35"
           },{ "PhotoUrl"       : "http://city311.smartletmanager.com/city311/uploads/Transport_TRP_129_359.jpg",
                "IssueName"     : "Resources for passengers with disabilities and taxi drivers",
                "Comments"      : "Werttyy",
                "Location"          : "Rajiv Gandhi Salai
Tamil Nadu
India",
                "Status"            : "Not Fixed",
                "issueSubmittedDate"    : "2012-12-31 00:20:18"
           },{ "PhotoUrl"       : "http://city311.smartletmanager.com/city311/uploads/Transport_TRP_130_914.jpg",
                "IssueName"     : "Snow or Ice on Roadway/Sidewalks",
                "Comments"      : "Rtyygguhh",
                "Location"          : "Rajiv Gandhi Salai
Tamil Nadu
India",
                "Status"            : "Not Fixed",
                "issueSubmittedDate"    : "2012-12-31 00:20:50"
           },{ "PhotoUrl"       : "http://city311.smartletmanager.com/city311/uploads/Transport_TRP_131_983.jpg",
                "IssueName"     : "Pedestrian Signal with Walk and Don’t Walk Displaying.",
                "Comments"      : "Rt",
                "Location"          : "Rajiv Gandhi Salai
Tamil Nadu
India",
                "Status"            : "Not Fixed",
                "issueSubmittedDate"    : "2012-12-31 00:21:23"
           },{ "PhotoUrl"       : "http://city311.smartletmanager.com/city311/uploads/Transport_TRP_132_11.jpg",
                "IssueName"     : "Dirty yard or alley complaints",
                "Comments"      : "Truth",
                "Location"          : "Rajiv Gandhi Salai
Tamil Nadu
India",
                "Status"            : "Not Fixed",
                "issueSubmittedDate"    : "2012-12-31 00:21:54"
           },{ "PhotoUrl"       : "http://city311.smartletmanager.com/city311/uploads/Transport_TRP_133_33.jpg",
                "IssueName"     : "Improper Disposal",
                "Comments"      : "Ttyyu",
                "Location"          : "Rajiv Gandhi Salai
Tamil Nadu
India",
                "Status"            : "Not Fixed",
                "issueSubmittedDate"    : "2012-12-31 00:22:23"
           },{ "PhotoUrl"       : "http://city311.smartletmanager.com/city311/uploads/Transport_TRP_134_40.jpg",
                "IssueName"     : "Snow or Ice on Roadway/Sidewalks",
                "Comments"      : "Ytterbium",
                "Location"          : "Rajiv Gandhi Salai
Tamil Nadu
India",
                "Status"            : "Not Fixed",
                "issueSubmittedDate"    : "2012-12-31 00:22:56"
           },{ "PhotoUrl"       : "http://city311.smartletmanager.com/city311/uploads/Transport_TRP_135_689.jpg",
                "IssueName"     : "Illegal Parking",
                "Comments"      : "N/A",
                "Location"          : "Rajiv Gandhi Salai
Tamil Nadu
India",
                "Status"            : "Not Fixed",
                "issueSubmittedDate"    : "2012-12-31 00:31:17"
           }]} 
```

但是给了之后

```
NSArray *issueDetailsAry = [json JSONValue];
//objectForKey:@"GetIssues"];
     NSLog(@"issueDetailsAry %@",issueDetailsAry); 
```

我得到的输出为

```
-JSONValue failed. Error trace is: (
    "Error Domain=org.brautaset.JSON.ErrorDomain Code=5 \"Unescaped control character '0xa'\" UserInfo=0x8356b20 {NSLocalizedDescription=Unescaped control character '0xa'}",
    "Error Domain=org.brautaset.JSON.ErrorDomain Code=3 \"Object value expected for key: Location\" UserInfo=0x8357850 {NSUnderlyingError=0x8356b70 \"Unescaped control character '0xa'\", NSLocalizedDescription=Object value expected for key: Location}",
    "Error Domain=org.brautaset.JSON.ErrorDomain Code=3 \"Expected value while parsing array\" UserInfo=0x83578a0 {NSUnderlyingError=0x8356a90 \"Object value expected for key: Location\", NSLocalizedDescription=Expected value while parsing array}",
    "Error Domain=org.brautaset.JSON.ErrorDomain Code=3 \"Object value expected for key: GetIssues\" UserInfo=0x8357930 {NSUnderlyingError=0x83578f0 \"Expected value while parsing array\", NSLo 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T08:19:19.157

我通过将 /n 替换为 json 字符串中的空字符串来解决此问题

```
NSString *json = [[NSString alloc]init];

json = [NSString stringWithContentsOfURL:url encoding:NSUTF8StringEncoding error:nil];
json = [json stringByReplacingOccurrencesOfString:@"\n" withString:@""]; 
```

// NSLog(@"json %@",json); NSArray *issueDetailsAry = [[json JSONValue]objectForKey:@"GetIssues"];

现在我得到了输出。这个问题是因为服务器端换行符。

# php - 在javascript中动态检索已分配的文本框值

> ID：14098445
> 
> 赞同：0
> 
> 时间：2012-12-31T06:49:24.037
> 
> 标签：php, javascript

我在 PHP 中有一个如下所示的表单：

```
<?php
   $txtVal1 = "value1";
?>
<script type="text/javascript">
 function post_data(){
   alert(document.getElementById("text1").value);
 }
</script>
<form method="post" action="">
<input type="text" value="<?php echo $txtVal1;?>" id="text1"/>
<input type="button" value="Post" onclick="post_data()"/>
</form> 
```

我的问题是，每当我单击“发布”按钮时，我都会收到一条警报消息，即“value1”。这可以。但是现在，如果我将文本框的值从 UI 更改为其他值，我仍然会得到旧值。是否有任何解决方案来获取更改的值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T06:54:22.073

您的页面在加载第一个 php 值分配时，然后运行所有值，这就是问题所在。您更改为上述一项分配值`$txtVal1 = "value1";`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T06:59:22.717

试试这个。这行得通。检查您的 php 值是否正确放置值

```
 <script type="text/javascript">
 function post_data(){
   alert(document.getElementById("text1").value);

 }
</script>

<form method="post" action="">
<input type="text" id="text1"/>
<input type="button" value="Post" onclick="post_data()"/>
</form> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T06:59:37.420

```
<pre>
<?php <br/>
   $txtVal1 = "value1";<>
?>
<script type="text/javascript">
 function post_data(){
   alert(document.getElementById("text1").value);
 }

 function test(val){
    document.getElementById("text1").value = val;
 }
</script>
<form method="post" action="">
<input type="text1" value="<?php echo $txtVal1;?>" onChange="test(this.value)" id="text1"/>
<input type="button" value="Post" onclick="post_data()"/>
</form> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-31T07:15:08.593

试试这个[jQuery 小提琴](http://jsfiddle.net/yG39B/)

这可能是矫枉过正，但它的工作原理。StackOverflow 不喜欢指向 jsfiddle 的链接？

```
$("#submit").click(function(){
    alert($("#text1").val());
}); 
```

# android - 打开资产数据库文件时出现 java.lang.NullPointerException

> ID：14098447
> 
> 赞同：1
> 
> 时间：2012-12-31T06:49:35.040
> 
> 标签：android, nullpointerexception

我在资产文件夹中有一个数据库文件。当我尝试从 DBHelper 类打开这个文件时，它会`"java.lang.NullPointerException"`在下面的行中抛出 copyDataBase() 方法，

```
myInput = myContext.getAssets().open(DB_NAME,AssetManager.ACCESS_STREAMING); 
```

**在我的活动中：**

```
private AssetsDBHelper db;
@Override
    protected void onStart() {
        super.onStart();
        db = new AssetsDBHelper(this);
    }

    @Override
    protected void onStop() {
        super.onStop();
        if(db!=null)
        {
            db.close();
        }
    } 
```

**AssetsDBHelper 类：**

```
public class AssetsDBHelper extends SQLiteOpenHelper {

    public static final String DB_PATH ="/data/data/com.innodea.money/databases/";
    public static final String DB_NAME ="stocksdb";
    public static final int DB_VERSION = 1;
    public static final String TABLE_STOCKS = "stocks";
    public static final String COL_ID="_id";
    public static final String COL_SYMBOL="symbol";
    public static final String COL_NAME="name";
    public static final String COL_EXCHANGE="exchange";

    private Context myContext;
    private SQLiteDatabase myDataBase;

    public AssetsDBHelper(Context context) {
        super(context, DB_NAME, null, DB_VERSION);
        Log.i("AssetsDBHelper","AssetsDBHelper constructor");

        Log.i("AssetsDBHelper","before createDataBase");
        try {
            createDataBase();
            Log.i("AssetsDBHelper","after createDataBase");
        } catch (IOException e) {
            e.printStackTrace();
        }
        this.myContext = context;
    }

    public void createDataBase() throws IOException {
        Log.i("AssetsDBHelper","inside createDataBase");
        boolean dbExist = checkDataBase();

        Log.i("AssetsDBHelper","dbExist->"+dbExist);
        if (!dbExist) {
            Log.i("AssetsDBHelper","dbExist not exist.So get database from assets");
            this.getReadableDatabase();
            // close up the database after we have created it.
            this.close();

            try {
                copyDataBase();
            } catch (IOException e) {
                throw new Error("Error copying database");
            }

        }
    }

    private boolean checkDataBase() {

        SQLiteDatabase checkDB = null;
        try {
            String myPath = DB_PATH + DB_NAME;
            checkDB = SQLiteDatabase.openDatabase(myPath, null,SQLiteDatabase.OPEN_READONLY);
        } catch (SQLiteException e) {
            // database does't exist yet.
        }

        if (checkDB != null) {
            checkDB.close();
        }
        //Return true if DB exists,else return false
        return checkDB != null ? true : false;
    }

    private void copyDataBase() throws IOException {
        Log.i("AssetsDBHelper","inside copyDatabase");

        // Open your local db as the input stream
        InputStream myInput=null;
        // Open the empty db as the output stream
        OutputStream myOutput=null;

        try {
            Log.i("AssetsDBHelper","1");
            myInput = myContext.getAssets().open(DB_NAME,AssetManager.ACCESS_STREAMING);
            Log.i("AssetsDBHelper","2");

            File dir = new File(DB_PATH);
            dir.mkdirs();
            Log.i("AssetsDBHelper","3");

            // Path to the just created empty db
            String outFileName = DB_PATH + DB_NAME;
            Log.i("AssetsDBHelper",outFileName);
            myOutput = new FileOutputStream(outFileName);
            Log.i("AssetsDBHelper","4");
            // transfer bytes from the inputfile to the outputfile
            byte[] buffer = new byte[1024];
            Log.i("AssetsDBHelper","5");
            int length;
            while ((length = myInput.read(buffer)) > 0) {
                Log.i("AssetsDBHelper","6");
                myOutput.write(buffer, 0, length);
            }
            Log.i("AssetsDBHelper","write to "+outFileName);
        } catch (Exception e) {
            e.printStackTrace();
            Log.i("AssetsDBHelper","copyDatabase error->"+e.toString());
        }
        finally
        {
            // Close the streams
            if(myOutput!=null)
            {
                myOutput.flush();
                myOutput.close();
            }

            if(myInput!=null)
            {
                myInput.close();
            }
        }
    }

    public SQLiteDatabase openDataBase() throws SQLException {
        // Open the database
        String myPath = DB_PATH + DB_NAME;
        try {
            myDataBase = SQLiteDatabase.openDatabase(myPath, null,SQLiteDatabase.OPEN_READONLY);
            Log.i("AssetsDBHelper", "Database Opened");
        } catch (Exception e) {
            e.printStackTrace();
            Log.i("AssetsDBHelper", "Database not Opened.Error->"+e.toString());
        }
        return myDataBase;
    }

    @Override
    public synchronized void close() {
        if (myDataBase != null)
            myDataBase.close();
        super.close();
    }

    public Cursor getWordMatches(String query, String[] columns) {
        String selection = COL_SYMBOL + " MATCH ?";
        String[] selectionArgs = new String[] {query+"*"};
        return query(selection, selectionArgs, columns);
    }

    private Cursor query(String selection, String[] selectionArgs, String[] columns) {
        SQLiteQueryBuilder builder = new SQLiteQueryBuilder();
        builder.setTables(TABLE_STOCKS);

        Cursor cursor=null;
        try {
            cursor = builder.query(openDataBase(),columns, selection, selectionArgs, null, null, null);

            if (cursor == null) {
                return null;
            } else if (!cursor.moveToFirst()) {
                cursor.close();
                return null;
            }
        } 
        catch (SQLException e) {
            e.printStackTrace();
        }
        return cursor;
    }

    @Override
    public void onCreate(SQLiteDatabase db) {

    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        // TODO Auto-generated method stub

    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T06:52:43.187

`myContext`执行获得异常的语句时尚未分配。因此，像这样向上移动作业：

```
public AssetsDBHelper(Context context) {
    super(context, DB_NAME, null, DB_VERSION);
    this.myContext = context;
    // ...etc... 
```

# c++ - C++ 链表不会停止增长

> ID：14098452
> 
> 赞同：0
> 
> 时间：2012-12-31T06:50:46.130
> 
> 标签：c++, list, pointers

我正在尝试编写一个函数，该函数使用双向链表计算第 N 个斐波那契数，但由于某种原因，当我编译和运行链表并没有停止增长时，它会一遍又一遍地添加 1 个数字而没有结束。

这应该是 SSCCE：

```
#include <iostream>
using namespace std;

class node {
    public:
        int value;
        node* previous;
        node* next;
};//node

class number {
    public:
        node* start;
        node* end;
        node* add (int value);
        void show (int K);
        number ();
        void destroy ();

        void copy (number gg1);
        void addition (number gg1, number gg2, int K);

        void fibonacci (int K, int times);

};//number

number::number () {
    start = NULL;
    end = NULL;
}

int power (int K) {
    int L = 1;
    for (int i = (K-1); i > 0; i--) {
        L = L*10;
    }
    return L;
}

int checksize (int value) {
    int counter = 0;
    while (value != 0) {
        value = value / 10;
        counter += 1;
    }
    return counter;
}

void number::show (int K) {
    node* current;
    cout << "\nValue:" << endl;
    if (start == NULL) {
        cout << "\nNothing\n" << endl;
    }
    if (start != NULL) {
        current = start;
        while (current != NULL) {
            if (current->value == 0) {
                for (int i = 0; i < K; i++) {
                    cout << "0";
                }
            cout << "\n";
            }
            else {
                int size = checksize (current->value);
                for (int j = size; j < K; j++) {
                    cout << "0";
                }
            cout << current->value << endl;
            }
            current = current->next;
        }   
    }
    //cout << "\n";
}

int main () {
    number gg1;
    number gg2;
    number gg3;
    const int K = 5;

    gg1.fibonacci (K, 10);
}

node* number::add(int value) {   
        node* currentcode;                   
        if (start == NULL){                    
            currentcode = new node;      
            start = currentcode;               
            end = currentcode;            
            currentcode->next =  NULL;    
            currentcode->previous = NULL;    
            currentcode->value = value;
            return currentcode;
        }
        if (start != NULL) {                    
            currentcode = new node;    
            currentcode->next = NULL;   
            end->next = currentcode;  
            currentcode->previous = end;  
            end = currentcode;          
            currentcode->value = value;
            return currentcode;
        }
         return NULL;
}

void number::addition (number gg1, number gg2, int K) {
    int value1, value2, value3;
    int carry = 0;
    node* current1;
    node* current2;
    current1 = gg1.start;
    current2 = gg2.start;
    while (current1 != NULL || current2 != NULL) {
        if (current1 != NULL && current2 !=NULL) {
            value1 = current1->value;
            value2 = current2->value;
            value3 = value1 + value2 + carry;
            current1 = current1->next;
            current2 = current2->next;
        }
        else if (current1 == NULL && current2 != NULL) {
            value3 = current2->value + carry;
            current2 = current2->next;
        }
        else if (current1 != NULL && current2 == NULL) {
            value3 = current1->value + carry;
            current1 = current1->next;
        }

        checksize(value3);
        if (value3 > power(K)) {
            value3 = value3 - 10*(power(K));
            carry = 1;
        }
        else 
            carry = 0;

        add(value3);

        if ((current1 == NULL && current2 == NULL) && (carry == 1))
            add(1);
    }
}

void number::destroy () {
    node* current;
    node* current2;
    if (start != NULL) {
        current = start;
        current2 = current->next;
        while (current2 != NULL) {
            delete current;
            current = current2;
            current2 = current->next;
        }
        delete current;
    }
}   

void number::fibonacci (int K, int times) {
    number g1;
    number g2;
    number g3;
    destroy ();

    g1.add (1);
    g2.add (1);

    g3.addition (g1, g2, K);
    g2.copy(g1);

    g1.show(K);
    g2.show(K);

        //g1.copy(g3);

        //g1.show(K);
        //g2.show(K);
        //g3.show(K);

        //g3.addition (g1, g2, K);
        //g3.show(K);
        //g2.copy(g1);
        //g1.copy(g3);

    /*for (int i = 0; i < 2; i++) {
        g3.addition (g1, g2, K);
        g3.show(K);
        g2.copy(g1);
        g1.copy(g3);
    }*/

    copy(g3);
}

void number::copy (number gg1) {
    int value;
    destroy ();
    node* current = gg1.start;
    while (current != NULL) {
        value = current->value;
        add(value);
        current = current->next;
    }
} 
```

每当我运行斐波那契函数时，它都会在终端中给我无穷无尽的 1。*数字*类只是一个基本的双向链接指针列表。

添加功能独立工作得很好，副本也是如此。事实上，在此之前一切都运行良好。使用 for 循环很容易完成该功能，但这个错误阻止了我这样做。有谁知道我的错误是什么？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:42:22.347

现在，您有无效的内存访问，因为调用`delete`每个节点`destroy()`并不会将内存清空，而只会将内存标记为空闲。

建议修正：

```
void number::destroy () {
    node* current;
    node* current2;
    if (start != NULL) {
        current = start;
        current2 = current->next;
        while (current2 != NULL) {
            delete current;
            current = current2;
            current2 = current->next;
        }
        delete current;
    }
    start = NULL; // so you can't access the now non-existing list anymore.
    end = NULL;
} 
```

* * *

评论：

*   根据广泛采用的约定，类名应该是大写的。
*   您不应该在复制和添加函数中按值传递类，而是通过 const-ref。
*   在这种情况下更好地使用`operator=`而不是`copy`. `copy`可以是`copy_from`or `copy_to`，调用函数`copy`是模棱两可的，真的。
*   尽可能最好使用 for 循环。
*   `Node`不是类而是结构体，最好称其为结构体。

新代码也可以如下所示：

```
Number& Number::operator=(const Number& n)
{
  destroy();
  for(Node* current = gg1.start; current; current = current->next)
    add(current->value);
}

void Number::destroy() 
{
    Node* temp;
    for(Node* current = start; current; current = current->next, delete temp)
      temp = current;
    start = NULL;
    end = NULL;
} 
```

# c - 在c中打印带有双变量的字符

> ID：14098453
> 
> 赞同：0
> 
> 时间：2012-12-31T06:50:57.170
> 
> 标签：c, printf

```
#include<stdio.h>
#include<math.h>
int main()
{
    char sign1='-',sign2='-' ;

    double x=-1,y=4,radius=9;

        if(x<0.0)
        {
            sign1='+';
            x=x*-1;
        }
        if(y<0.0) {
            sign2='+';
            y=y*-1;
        }

        printf("(x %c %.3lf)^2 + (y %c %.3lf)^2=%.3lf^2\n",x,sign1,y,sign2,radius);//here doesn't print the values of sign1 and sign2

        printf("%c %c\n",sign1,sign2);//here prints properly;

    return 0;
} 
```

在我的代码中，第一个`printf`函数无法正常工作。它应该打印`(x + 1.000)^2 + (y - 4.000)^2 = 9.000^2`，但我得到的输出是

```
(x   0.000)^2 + (y   0.000)^2 = 9.000^2 
```

为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T06:52:59.093

## `printf`不是类型安全的！

传递给的实际类型`printf`和为其指定的格式说明符中的任何不匹配都会导致**未定义的行为**。

`sign1`并使用未定义行为中的结果`sign2`声明。`char``%f`

* * *

你把参数的顺序弄乱了`printf`，

```
printf("(x %c %.3lf)^2 + (y %c %.3lf)^2=%.3lf^2\n",x,sign1,y,sign2,radius); 
```

应该：

```
printf("(x %c %.3lf)^2 + (y %c %.3lf)^2=%.3lf^2\n",sign1,x,sign2,y,radius); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T06:55:48.733

将此行更正为

```
printf("(x %c %.3lf)^2 + (y %c %.3lf)^2=%.3lf^2\n",sign1,x,sign2,y,radius); 
```

# php - 使用 DFS 查找两个节点之间的所有路径

> ID：14098462
> 
> 赞同：1
> 
> 时间：2012-12-31T06:52:08.983
> 
> 标签：php, graph, nodes, depth-first-search

在过去的几天里，我一直在尝试找到一种方法来计算两个节点之间的所有非循环路径。我一直在使用广度优先搜索和深度优先搜索。我相当肯定两者都可以完成这项任务。但是，我一直在努力研究如何调整下面的 DFS 代码以找到两个节点之间的所有可能路径。我尝试了一些不同的事情（记住数组中的节点，递归），但我没有正确实现它们并且无法输出可能的路径。

最终，我想返回一个数组数组，其中包含两个选定节点之间的所有可能路径。我可以做任何简单的修改来完成这个吗？下面的代码是我目前正在使用的。

```
function init(&$visited, &$graph){
  foreach ($graph as $key => $vertex) {
    $visited[$key] = 0;
  }
}

/* DFS args
$graph = Node x Node sociomatrix
$start = starting node
$end = target node (currently not used)
$visited = list of visited nodes
$list = hold keys' corresponding node values, for printing path;
*/

function depth_first(&$graph, $start, $end, $visited, $list){

  // create an empty stack
  $s = array();

  // put the starting node on the stack
  array_push($s, $start);

  // note that we visited the start node
  $visited[$start] = 1;

  // do the following while there are items on the stack
  while (count($s)) {

    // remove the last item from the stack
    $t = array_pop($s);

    // move through all connections
    foreach ($graph[$t] as $key => $vertex) {

      // if node hasn't been visited and there's a connection
      if (!$visited[$key] && $vertex == 1) {

        // note that we visited this node
        $visited[$key] = 1;

        // push key onto stack
        array_push($s, $key);

        // print the node we're at              
        echo $list[$key];                   
      }             
    }           
  }
}

// example usage
$visited = array();
$visited = init($visited, $sym_sociomatrix);
breadth_first($sym_sociomatrix, 1, 3, $visited, $list); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T21:58:52.247

假设您有一个框架/库来创建图形数据结构并遍历它，如果您得到一个循环，您可以进行回溯深度优先搜索并提前返回。如果存储起始节点的路径，则循环检测很容易。在 C 风格的伪代码中（抱歉不知道 PHP，或者它是否能够递归）：

```
void DFS(Vertex current, Vertex goal, List<Vertex> path) {
  // avoid cycles
  if (contains(path, current)
     return;

  // got it!
  if (current == goal)) {
     print(path);
     return;
  }

  // keep looking
  children = successors(current); // optionally sorted from low to high cost
  for(child: children)          
      DFS(child, add_path(path, child));      
} 
```

然后你可以把它称为`DFS(start, goal, List<Vertex>(empty))`

# selenium - Selenium Webdriver 需要很长时间才能运行

> ID：14098466
> 
> 赞同：1
> 
> 时间：2012-12-31T06:52:49.297
> 
> 标签：selenium, selenium-webdriver

Webdriver 运行时间比 ide 为什么要长，有没有办法在已经打开的 Firefox 浏览器中执行我的 Web 驱动程序示例，因为我是 Webdriver 的新手，我需要好的教程，请分享你所拥有的任何示例......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T08:31:53.723

最好的方法是在工作中工作并在工作中学习。编写一个简单的代码，理解它，增加复杂性并找出解决方法。

教程只能帮助您入门。为此，一个好的起点可以是[http://seleniumhq.org/docs/03_webdriver.jsp](http://seleniumhq.org/docs/03_webdriver.jsp)。使用那里的示例代码开始。

其他好的资源是： [http ://code.google.com/p/selenium/wiki/GettingStarted](http://code.google.com/p/selenium/wiki/GettingStarted)

[http://code.google.com/p/selenium/wiki/NextSteps](http://code.google.com/p/selenium/wiki/NextSteps)

不，你不能在已经打开的浏览器中执行你的测试。

希望能帮助到你。

# c# - 我想在 asp.net 和 C# 中使用 WCF 一次添加多个图像和其他数据

> ID：14098467
> 
> 赞同：0
> 
> 时间：2012-12-31T06:52:55.943
> 
> 标签：c#, asp.net, wcf

我是新手`WCF`，我想从客户那里`Upload Multiple Images at a time`使用，`WCF`

场景是：我有 20 个问题，每个问题可能有 0 到 2 张图像，所以我必须请求服务来保存所有数据，有哪些可能的方法来让它正确？

我试图从过去两天开始，但我可以一次插入一张图片....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T09:10:11.950

您必须为每个图像添加流转换并将详细信息添加到列表中。

在客户端。

```
 Stream stream = (Stream)openDialog.File.OpenRead();
                    byte[] bytes = new byte[stream.Length];
                    stream.Read(bytes, 0, (int)stream.Length);
                    BitmapImage bmi = new BitmapImage();
                    using (MemoryStream ms = new MemoryStream(bytes))
                    {
                        bmi.SetSource(ms);
                        newRow.Thumbnail = bmi;
                } 
```

在您的服务方面

```
 string filePath = ConfigurationManager.AppSettings.Get("ImageUploadPath");

                          if (!Directory.Exists(filePath))
                          {
                              Directory.CreateDirectory(filePath);
                          }

                          filePath = filePath + "\\" + picture.FileName + "." + picture.FileType;

                          if (picture.FileName != string.Empty)
                          {
                              fileStream = File.Open(filePath, FileMode.Create);
                              writer = new BinaryWriter(fileStream);
                              writer.Write(picture.FileStream);
                          } 
```

# bash - “INSTALL=y sh”的管道参考

> ID：14098469
> 
> 赞同：1
> 
> 时间：2012-12-31T06:53:07.200
> 
> 标签：bash, makefile, sh, piping

我来到了[这个](https://github.com/visionmedia/git-extras#installation)

对 shell 使用以下命令：

```
curl https://raw.github.com/visionmedia/git-extras/master/bin/git-extras | INSTALL=y sh 
```

结果是：

```
mkdir: cannot create directory `/share': Permission denied
make: *** [install] Error 1
No manual entry for git-extras 
```

我很想知道“安装”的这个管道，我简短的谷歌搜索我只在这个 github 中找到了这个例子。我想知道它是如何运行的`sudo`以及对这种管道的参考。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:00:07.943

```
INSTALL=y sh 
```

表示在环境变量设置为的情况下运行`sh`程序。您可以按如下方式使用 sudo：`INSTALL``y`

```
curl https://raw.github.com/visionmedia/git-extras/master/bin/git-extras | sudo INSTALL=y sh 
```

# iphone - ios6中UISplitView的旋转

> ID：14098470
> 
> 赞同：4
> 
> 时间：2012-12-31T06:53:13.807
> 
> 标签：iphone, ios, objective-c, ios6, uisplitviewcontroller

我已经`SplitView`在我的应用程序中实现了。

我的应用程序适用于 ios 5 和 ios 6。

在 ios 5 中使用方法

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation 
```

旋转工作正常。

但在 ios 6 中，roataion 方法不调用。我已经为 ios 6 尝试了以下方法；

```
- (BOOL)shouldAutorotate
{
    return YES;
}

- (NSInteger)supportedInterfaceOrientations
{
    return UIInterfaceOrientationMaskAll;
} 
```

我还搜索并尝试了 ios 6 的其他轮换方法，但它们没有用。

我想同时支持 ios 5 和 ios 6 的旋转。

我怎样才能做到这一点？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-21T10:29:08.010

请在 AppDelegate 中重写此方法：

```
- (NSUInteger)application:(UIApplication *)application supportedInterfaceOrientationsForWindow:(UIWindow *)window{

    return UIInterfaceOrientationMaskAll;//或要求
}

```

# mysql - mysql查询网站访问者数量

> ID：14098475
> 
> 赞同：3
> 
> 时间：2012-12-31T06:53:46.707
> 
> 标签：mysql, sql, hit-count

我有一张表来存储网站访问者数量

```
id   date          ip            
-----------------------------
1    1-1-2012     195.165.1.2
2    1-1-2012     195.165.1.3
3    12-2-2012    195.165.1.8 
```

我想要一个mysql查询来获取当年每个月的计数

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T06:56:55.197

看到您的`DATE`专栏，我假设您将日期保存为`VARCHAR`

```
SELECT  MONTHNAME(STR_TO_DATE(date, '%c-%e-%Y')) `monthName`, COUNT(*) totalCount
FROM    tableName
WHERE   YEAR(STR_TO_DATE(date, '%c-%e-%Y')) = YEAR(CURDATE())
GROUP BY  MONTHNAME(STR_TO_DATE(date, '%c-%e-%Y')) 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!2/347fa/8)

其他来源

*   [STR_TO_DATE()](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_str-to-date)
*   [年（）](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_year)
*   [CURDATE()](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_curdate)
*   [月名()](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_monthname)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T06:58:07.570

```
"select month(date),count(distinct ip) from visitors where date>='$y-01-01' and date<'$y-12-31' group by 1" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T06:58:33.543

SELECT YEAR(date) YEAR,MONTHNAME(date) MONTH,count(id) TOTAL FROM table_name GROUP BY YEAR(date),MONTH(date)

查询是这样的，因为来自同一 IP 的不同人可能会访问

# c# - 加密可在其他计算机上使用的文件的安全方法

> ID：14098476
> 
> 赞同：0
> 
> 时间：2012-12-31T06:53:46.957
> 
> 标签：c#, visual-studio-2010, security, encryption, hash

可以说我的程序是防病毒程序。还可以说我有一个名为“Signatures.dat”的文件。它包含要扫描的病毒列表。我想加密该文件，使其可以通过任何计算机上的防病毒软件打开，但用户无法看到该文件的内容。

我将如何完成这项任务？

我在看像 DPAPI 这样的东西，但我认为这在我的情况下不起作用，因为它基于用户的设置。我需要我的解决方案是通用的。

我有一种加密方法，但是我不确定如何存储密钥。我知道将它存储在我的代码中确实不安全，所以我现在真的不确定该怎么做。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-31T07:00:31.160

您希望用户的计算机能够读取该文件，并且您希望用户的计算机无法读取该文件。如您所见，这是一个矛盾，无法解决。

您正在实施的基本上是一个 DRM 方案。如果不使用 TPM（不，这在现实中不起作用，甚至不要考虑它），您根本**无法使其安全**。您可以使用混淆来尽可能难以对其进行逆向工程并检索密钥。您可以将部分密钥存储在服务器上并在线检索（基本上就像 EA 对他们的游戏所做的那样）等，但您可能只会让您的产品难以为合法用户使用，而任何*真正*想要的人仍然会能够获得密钥，从而获得文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T11:20:13.937

在您的示例中，您是在尝试验证文件的完整性（以确保它没有被修改），还是隐藏内容？

如果您试图隐藏内容，那么正如最终所说的那样，您不能。

如果你想验证文件没有被修改，你可以通过哈希来做到这一点。您似乎没有混淆这两个用例，但有时人们认为您使用加密来确保文件没有被篡改。

您最好的选择可能是使用这两种方法 - 加密文件以阻止随意浏览器，但要知道这并不能真正阻止任何有足够时间的人。然后使用您的服务器验证文件的哈希值（使用 https，并确保您验证证书指纹）。这将确保即使有人破解了您的加密，文件也不会被修改。

# c# - 监听远程计算机端口

> ID：14098478
> 
> 赞同：-3
> 
> 时间：2012-12-31T06:53:51.597
> 
> 标签：c#, port, listen

我想要一个控制台应用程序（C#）来监听远程计算机上的套接字端口。我想在我的计算机上运行该应用程序并希望它监听远程计算机上的端口，我有该远程计算机的 IP、端口、用户、密码信息。我可以这样做吗？

我知道如何监听本地计算机上的端口，我有一个控制台应用程序（充当服务器），它一直在监听我的计算机端口（如端口 8001），每当有请求时，它就会检测到它，满足要求并发送响应给客户。我想要同样的东西，但想把听众放在其他电脑上。

请告诉我是否可以监听远程计算机的端口，如果可以，请提供指导。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:46:37.270

> 我可以这样做吗？

不，您必须在远程计算机上安装并运行该应用程序。由于您已经在该计算机上拥有管理权限，这对您来说不是太大的问题。

# facebook - 使用 api 显示所有 facebook 状态？

> ID：14098480
> 
> 赞同：1
> 
> 时间：2012-12-31T06:54:14.717
> 
> 标签：facebook, facebook-graph-api

我正在尝试掌握 facebook API。我希望能够检索我发布的所有状态。最终我想检索我发布的所有状态，看看谁喜欢每个状态。因为我的最终目标是看看这个女孩喜欢我的多少状态。（是的，我有一个 facebook 跟踪者，我正在尝试使用我的编程技能来跟踪它，哈哈。）

现在我已经设置了 facebook api，我可以获取我的基本个人资料信息，但我被困在那里。我尝试在这里和网络上搜索，但没有用，我不确定它们是否过时了。

到目前为止，这只是为了显示我的基本信息（不包括 facebook.php、API Key 和 Secret Key 等典型内容）：

```
$user_profile = $facebook->api('/me');
print_r($user_profile); 
```

因此，如果有人能告诉我如何获取我的状态更新，那就太好了！然后我只需要弄清楚如何从每个状态中提取喜欢...

干杯

**编辑：** 我做了更多研究并查看了 facebook 开发人员文章。到目前为止，我有这个：

```
$get_status = $facebook->api('/me?fields=statuses');
print_r($get_status); 
```

当我在 Facebook 的 Graph API Explorer 中使用“/me?fields=statuses”时，它会显示我的所有状态，但是当我在我试图开始工作的脚本上的 PHP 中使用它时，它只会显示我的 facebook ID（我'我登录下）。为什么会这样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:28:17.310

```
$Status = $facebook->api('/me/feed/');
print_r($Status); 
```

# ajax - 具有 AJAX 调用的 CasperJS 单击事件

> ID：14098483
> 
> 赞同：2
> 
> 时间：2012-12-31T06:54:41.220
> 
> 标签：ajax, screen-scraping, phantomjs, casperjs

我正在尝试通过使用带有 phantomJS 1.7.0 的 CasperJS 模拟事件来从站点获取数据。

我能够模拟正常的点击事件并选择事件。但我的代码在以下情况下失败：

当我单击远程页面上的按钮/锚点等时，单击远程页面会启动 AJAX 调用/JS 调用（取决于程序员如何实现该页面。）。

在 JS 调用的情况下，我的代码有效并且我得到了更改的数据。但是对于发起 AJAX 调用的点击，我没有得到更新的数据。

为了调试，我尝试获取元素容器的页面源（之前和之后），但我没有看到代码发生任何变化。

我尝试将等待时间设置为 10 秒到 1 毫秒的范围，但这并不反映行为的任何变化。

下面是我的一段点击代码。我正在使用一组 CSS 路径，它表示要单击的元素。

```
/*Click on array of clickable elements using CSS Paths.*/
fn_click = function(){
casper.each(G_TAGS,function(casper, cssPath, count1) 
                    {
                            casper.then ( function() {
                            casper.click(cssPath);

                            this.echo('DEBUG AFTER CLICKING -START HTML ');
                            //this.echo(this.getHTML("CONTAINER WHERE DETAILS CHANGE"));
                            this.echo('DEBUG AFTER CLICKING -START HTML');
                            casper.wait(5000, function() 
                                                    {   

                                                        casper.then(fn_getData);
                                                    } 
                                    );
                            });     
                    });
}; 
```

更新：

我尝试使用 phantomJS 的远程调试选项来调试上面的脚本。它不工作。我在窗户上。我也会尝试在 Ubuntu 上运行远程调试。

请帮我。我将不胜感激这方面的任何帮助。

更新：

请查看以下代码作为示例。

```
https://gist.github.com/4441570 
```

点击前和点击后的内容是一样的。

我点击标签下提供的排序选项（投票/活动等）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T19:35:53.620

我今天遇到了同样的问题。我找到了这篇文章，它让我朝着 jQuery 的方向前进。

经过一些测试，我发现该网页上已经加载了一个 jQuery。（虽然是一个很旧的版本）

在此之上加载另一个 jQuery 会破坏任何 js 调用，以及执行 Ajax 调用的链接。

为了解决这个问题，我找到了[http://api.jquery.com/jQuery.noConflict/](http://api.jquery.com/jQuery.noConflict/)

我在我的代码中添加了以下内容：

```
 this.evaluate(function () { jq = $.noConflict(true) } ); 
```

以前分配给 $ 的任何内容都将以这种方式恢复。您注入的 jQuery 现在在“jq”下可用。

希望这对你们有帮助。

# google-apps-script - 创建程序化触发器会静默失败

> ID：14098487
> 
> 赞同：1
> 
> 时间：2012-12-31T06:55:04.947
> 
> 标签：google-apps-script

任何人都可以在这段代码中看到任何错误

```
 // make new ssheet
  var payablesNewDoc=SpreadsheetApp.getActiveSpreadsheet().copy(newName); // NB  undocumented function

  // Create onEdit trigger for the new Spreadsheet
var onEditTrigger = ScriptApp.newTrigger("onChange")
      .forSpreadsheet(payablesNewDoc)
      .onEdit()
      .create();

  Logger.log(onEditTrigger.getHandlerFunction());  // logs "onChange"
  Logger.log(onEditTrigger.getEventType());        // logs "ON_EDIT" 
```

它运行没有错误，两条日志消息似乎表明触发器已创建。但是，当我打开新电子表格并进行编辑时，什么都不会触发，脚本编辑器也不会显示任何声明的触发器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:01:37.370

在这个线程[上 有没有办法在另一个谷歌文档电子表格中安装“编辑触发器”？](https://stackoverflow.com/questions/11157721/is-there-any-way-to-install-an-on-edit-trigger-in-another-google-docs-spreadsh?rq=1)

我读到“虽然可以为另一个电子表格添加 onEdit 触发器，但触发器将始终属于创建它的脚本，并且只能在创建它的脚本中运行函数。- Eric Koleda Jun 30 at 0:05”

也许这就是解释？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T16:02:38.327

因为在这种情况下，您似乎正在制作主机工作表和脚本的副本，所以`onEdit`可以将其添加为模板脚本中的简单触发器，即这样定义的函数：`function onEdit() { // do stuff }`.

此函数将与电子表格本身一起复制。

```
function onEdit() {
  // This function being present will automatically add an onEdit trigger
  // It can act as a parent for calling any other functions
  // e.g. onChange() as per your example
} 
```

如果您可能有许多相同脚本的副本浮动，您可以进行一项改进，您可以调用托管在其他地方的库中的处理程序函数，以将触发的代码保存在一个地方。如果您在打开开发模式的情况下将[外部脚本附加为库](https://developers.google.com/apps-script/guide_libraries#useLibrary)，该库也将附加到您对原始电子表格制作的任何副本。这将允许您修改触发的代码，而无需打开所有副本

制作一个带有处理函数的独立 GS 脚本，该函数将复制您最初希望触发的函数，因此您需要通过 Id 传递活动工作表：

```
function editFunction(event) {
  try {
    var range = event.source.getActiveSheet().getActiveSelection();
    return  "cells "      + range.getA1Notation()        + \
           " changed to " + range.getValues().toString() + \
           " in \""       + event.source.getName()       + \
           "\" by "       + Session.getEffectiveUser();
  } catch (err) {
    return err;
  }
} 
```

然后在您的模板电子表格中将外部脚本添加为库（例如命名`EditLibrary`）。

在您的简单`onEdit()`函数中，只需调用库函数而不是内联的任何内容；将事件详细信息作为参数传递。

```
function onEdit() {
  Browser.msgBox(EditLibrary.editFunction(eventObject));
} 
```

这应该可以满足您的需要，而无需使用 triggerBuilder 并允许您稍后修改代码。

# c++ - Qt 5 开箱即用的 HTML 模板

> ID：14098488
> 
> 赞同：3
> 
> 时间：2012-12-31T06:55:11.813
> 
> 标签：c++, windows, qt, template-engine

我想使用一些模板引擎在 qt 5 中生成 html 文件。有一个 www.grantlee.org 但我无法编译它（ `Could NOT find QtCore.`出现错误）

Windows 上是否有任何可以进行 html 模板化的 qt 5 构建库？

编辑：有人为 qt 5 编译了 grantlee 吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T13:08:08.657

~~它不是开箱即用的，但我选择使用 QCTemplate 表单[http://code.google.com/p/qctemplate/](http://code.google.com/p/qctemplate/)~~

我用“qt-mustache”做了它[http://kdemonkey.blogspot.com/2012/08/qt-mustache-templating-library.html](http://kdemonkey.blogspot.com/2012/08/qt-mustache-templating-library.html)

# java - 从文本编辑器编写 Java

> ID：14098498
> 
> 赞同：0
> 
> 时间：2012-12-31T06:56:44.210
> 
> 标签：java, tomcat, web, text-editor

作为一个项目，我想为服务器端代码使用 Java 构建一个个人网站。我对 Java 很陌生，想知道是否可以使用简单的文本编辑器编写 Java，将文件上传到 Apache Tomcat 中相应的 JS 和 HTML 文件所在的文件目录（仅用于练习目的），然后通过 HTML 文件运行 Web 项目。

我一直通过 LAMP 使用 php 来执行此操作，并希望 Java 也能以这种方式工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:03:15.293

是的，很有可能。即使没有 IDE 的帮助您可能会觉得有点困难，但这应该没有任何区别。将文件转换为适当的类文件并上传，应该这样做

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:29:27.607

虽然我同意上述答案。但是您也可以使用热部署插件，例如 mvn:jetty 插件，用于热部署您的网站，但为此它需要是 maven 项目。grails 和许多其他框架也内置了此功能。

# android - Android ListView 自定义标头

> ID：14098507
> 
> 赞同：2
> 
> 时间：2012-12-31T06:57:54.577
> 
> 标签：android, listview, drag-and-drop, scrollview

我有一个自定义列表视图，它可以重新排列（拖放）并且显然可以滚动。我需要用这个列表视图添加一个自定义标题，它应该随着列表滚动。

我已经尝试使用自定义标题布局“listView.addHeaderView(header)”。但是在列表重新排列期间标题变得混乱。所以我不想使用 addHeaderView(...)。

我还尝试将作为 LinearLayout 的活动布局放入 ScrollView 中并按照此处的建议展开列表 -[如何将 ListView 放入 ScrollView 而不折叠？](https://stackoverflow.com/questions/3495890/how-can-i-put-a-listview-into-a-scrollview-without-it-collapsing). 但是，滚动似乎很慢，并且 ScrollView 在重新排列列表项时产生了问题。

那么有没有其他方法可以达到这个效果呢？我更喜欢布局中的一些解决方案。

我在Android UI方面相当缺乏经验。提前致谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-31T07:15:14.243

您可以使用以下代码将标题视图添加到列表中，

```
View header = getLayoutInflater().inflate(R.layout.header, null); 
ListView listView = getListView();  
listView.addHeaderView(header);  
setListAdapter(new ArrayAdapter<String>(this, android.R.layout.simple_list_item_single_choice,android.R.id.text1, names)); 
```

但是为此，您需要为 Header View 定义层，检查这个[Link Android ListActivity with a header or footer](http://www.samcoles.co.uk/mobile/android-listactivity-with-a-header-or-footer/)

**编辑-**根据评论，我想提一下，在`ListView`内部使用 a 不是一个好习惯`ScrollView`。到目前为止，我发现最好的解决方案是添加`HeaderView`到您的`ListView`. 如果 OP 可以提及他面临的问题，那就更好了`HeaderView`

如果你想要一个可滚动的标题，你绝对应该使用 HeaderView。但是如果你想在 ListView 上方有一个静态标题，你可以使用 TextView 作为 ListView 的 Heading。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:11:46.343

如果您不希望列表具有水平滚动视图，因此您可以创建具有水平线性布局（与列表布局相同）的 Xml 布局，然后将其包含在列表视图布局的顶部，但如果您希望它水平 srcollable，那么您有两个选择：一个是您提到的 addheader 视图，第二个是自定义 ScrollView，您可以[在这里找到一个好的解决方案](https://stackoverflow.com/questions/3948934/synchronise-scrollview-scroll-positions-android)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T07:03:12.533

你可以在布局中添加静态标题我的意思是你上面有滚动视图的布局为静态标题添加线性布局通过[这个问题](https://stackoverflow.com/questions/12257221/adding-header-to-multicolumn-listview-in-android) 它会帮助你

# drop-down-menu - 如何使用 iMacros 提取动态下拉表单？

> ID：14098508
> 
> 赞同：1
> 
> 时间：2012-12-31T06:58:05.170
> 
> 标签：drop-down-menu, vbscript, imacros

我正在寻找使用 填写动态下拉表单`iMacros`。使用常规表单，我能够成功循环使用 VBS，并能够根据我填写下拉表单的方式提取信息。

但是，我试图从一个网站中提取字段 2 中的选项值根据您在字段 1 中选择的内容完全改变。（即 `"<option value="">"`更改）。

我在循环这个时遇到了麻烦，因为当你使用,或属性时`iMacro function`不起作用 。（我都试过了）。`#``$``%``CONTENT`

# c# - 如何在不使用 EntityDataSource 的情况下将 EntityFramework 与 Asp.Net 一起使用？

> ID：14098511
> 
> 赞同：0
> 
> 时间：2012-12-31T06:58:14.980
> 
> 标签：c#, asp.net, entity-framework

我需要将 EntityFramework 与 Asp.Net 一起使用。

我在[这里阅读了微软提供的教程](http://www.asp.net/web-forms/tutorials/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-3)

在该教程中，我学会了将 EF 与 EntityDataSource 一起使用。但是我想在不使用 EntityDataSource 的情况下进行 DB 操作，而我想使用 c# 代码，并且我想遵循一些结构，例如，

1.  Asp.Net WebSite（前端视图和进程）
2.  数据访问层（连接）
3.  BusinessLogicLayer（数据库进程）

我希望自己创建和使用模型，我不想只是将数据源引用到 Gridview 并显示，我想用 c# 编写代码隐藏操作。. .

有人告诉我在哪里可以找到示例，或者如果有人知道这意味着请回答我，几乎没有解释（因为我是初学者）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:03:49.677

您可以直接将实体框架对象分配为数据源。[在msdn](http://msdn.microsoft.com/en-us/library/vstudio/bb738469%28v=vs.100%29.aspx)看这篇文章

- 编辑 -

这是更适合您的参考：http: [//www.codeproject.com/Articles/43367/ADO-NET-Entity-Framework-as-Data-Access-Layer](http://www.codeproject.com/Articles/43367/ADO-NET-Entity-Framework-as-Data-Access-Layer)

# android - libGL.so导致普通用户无法在archlinux上启动android模拟器，但由root用户工作

> ID：14098512
> 
> 赞同：2
> 
> 时间：2012-12-31T06:58:23.813
> 
> 标签：android, archlinux

libGL.so 导致普通用户无法在archlinux上启动android模拟器，但由root用户工作。

请参考以下日志：

```
xx@vm-arch:/opt/android-sdk/tools$ LIBGL_DEBUG=verbose emulator-arm -avd xtest

libGL: screen 0 does not appear to be DRI2 capable
libGL: XF86DRIGetClientDriverName: 1.0.0 vboxvideo (screen 0)
libGL: OpenDriver: trying /usr/lib/xorg/modules/dri/tls/vboxvideo_dri.so
libGL: OpenDriver: trying /usr/lib/xorg/modules/dri/vboxvideo_dri.so
drmOpenDevice: node name is /dev/dri/card0
drmOpenDevice: open result is 10, (OK)
drmOpenByBusid: Searching for BusID pci:0000:00:02.0
drmOpenDevice: node name is /dev/dri/card0
drmOpenDevice: open result is 10, (OK)
drmOpenByBusid: drmOpenMinor returns 10
drmOpenByBusid: Interface 1.4 failed, trying 1.1
drmOpenByBusid: drmGetBusid reports pci:0000:00:02.0
libGL error: Calling driver entry point failedlibGL error: reverting to software direct rendering
libGL error: failed to load driver: 
libGL: OpenDriver: trying /usr/lib/xorg/modules/dri/tls/swrast_dri.so
libGL: OpenDriver: trying /usr/lib/xorg/modules/dri/swrast_dri.so
libGL: Can't open configuration file /home/qt/.drirc: No such file or directory.
libGL: Can't open configuration file /home/qt/.drirc: No such file or directory.
libGL: Can't open configuration file /home/qt/.drirc: No such file or directory 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T02:03:14.003

该问题是由在 Virtualbox 选项中选中“3D 加速”引起的。

取消选中该选项后，问题就消失了。

感谢您的关注。

# ios - 需要应用内购买

> ID：14098515
> 
> 赞同：0
> 
> 时间：2012-12-31T06:58:40.657
> 
> 标签：ios, iphone, in-app-purchase, appstore-approval

我想创建一个将在 App Store 上显示为免费的应用程序，但在打开它时，用户需要进行应用程序内购买才能访问任何内容。我正在阅读 App Store Review Guidelines，但我不确定 Apple 是否允许这样做，因为除非订阅，否则用户将无法在应用程序上看到任何内容。

我需要这个的原因是因为我的客户希望应用程序以每年 0.99 美元的价格出售，我认为这不能通过仅通过价格层设置来完成。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:22:05.883

您可以做的是在用户购买应用程序内购买之前将应用程序的演示作为一项功能展示。只是一个额外的屏幕。这样苹果就不会拒绝它。

另一种选择是：如果您有登录名/密码应用程序，您可以告诉苹果您的应用程序需要登录才能提供任何功能，前提是您的应用程序内的内容与登录相关。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T07:24:53.780

创建仅限会员的应用程序。

您必须登录才能使用该应用程序（您可以给苹果一个测试帐户）

然后您可以在自己的服务器上管理会员资格。或者允许他们使用应用内购买进行注册。

（同时启用用户登录和应用内购买以获得用户登录，然后您可以给苹果一个不需要购买的“测试”帐户）

他们无论如何都会测试您的应用内购买，因此请确保您遵循重新激活应用内购买的所有规则，这样如果用户回来并重新加载他们的购买并且他们还有 2 个月的时间，您可以确定应用仍然允许他们.

只要您不尝试从应用程序接受信用卡，并使用他们的应用内购买系统，您应该没问题。

如果您想让用户从您的服务器购买他们的帐户，您不能允许从应用程序购买。然而，登录可以在没有购买的情况下启用应用程序（测试帐户应该），但在应用程序购买中应该允许他们将购买附加到他们使用的帐户。

我想我现在漫无边际，所以我希望那是足够的澄清。

# python - 如何在我的 ubuntu 11.10 中使用 opencv + python 检测红球

> ID：14098516
> 
> 赞同：0
> 
> 时间：2012-12-31T06:58:42.030
> 
> 标签：python, image-processing, opencv, ubuntu-11.10

最近我在 ubuntu 11.10 中安装了 opencv。我打算用python在opencv中做一个简单的项目。该项目是使用python从图像中检测红球。我是python和opencv的新手。你能帮我做这个项目吗？您能否建议一个类似的例如代码。

提前致谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-31T07:37:50.393

你可以这样做：

1.  使用 cvtColor() 函数将图像转换为 HSV 平面
2.  使用 inRange() 函数从中提取红色
3.  使用 erode() 和 dilate() 函数应用腐蚀和膨胀以避免噪声
4.  使用 findContours() 函数查找轮廓
5.  使用 drawContours() 函数绘制轮廓。

您可以在下面的链接中找到一个代码，该代码跟踪视频中的黄色和蓝色。您可以根据自己的目的对其进行修改。**[跟踪蓝色和黄色](https://github.com/abidrahmank/MyRoughWork/blob/master/roughnote/jay_abid_works/jay_abid_1.py)**

另请访问以下链接以获得更好的解释：**[跟踪彩色对象](http://www.aishack.in/2010/07/tracking-colored-objects-in-opencv/)**

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-31T07:34:57.317

***霍夫变换***可以帮助你。

OpenCV C 库提供 cvHoughCircles 来检测圆圈。

[cvHoughCircles](http://www.adaptive-vision.com/en/technical_data/documentation/filters/FeatureDetection/cvHoughCircles.html)

而python包装器是`cv.HoughCircles`

# android - Android表面canvas.drawRect有衰减阴影效果

> ID：14098521
> 
> 赞同：1
> 
> 时间：2012-12-31T06:59:19.193
> 
> 标签：android, surfaceview, android-4.2-jelly-bean

`rect`我正在编写一个在 SurfaceView 上使用自定义绘制的 Android 应用程序，当我移动对象（当前为 a ）时，我得到了衰减的阴影效果。以下是我的部分代码。

```
 canvas = _surfaceHolder.lockCanvas(null);
    if (canvas != null) {
        synchronized (_surfaceHolder) {
        // Starts of actual drawing code
            if (paintFg != null) {
                canvas.drawARGB(55, 55, 55, 55);
                canvas.drawRect(x, y, x+100, y+100, paintFg);
                }
            }
        }
    } 
```

当我改变 x 和 y 时，盒子被绘制在其他地方，但现有的地方有衰减的效果。我想禁用它。

顺便说一句，我正在使用 JellyBean 在 Galaxy S3 上进行测试。不确定 ProjectButter 是否会导致这种情况，我已经尝试过使用旧手机。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:08:34.943

我发现如果我改变`canvas.drawARGB(55, 55, 55, 55);`它`canvas.drawRGB(0, 0, 0);`可以解决问题。但我仍然不确定是什么原因。有人愿意指出吗？

# java - 在 Netbeans 之外运行 jar 文件时无法访问图像文件

> ID：14098524
> 
> 赞同：3
> 
> 时间：2012-12-31T06:59:29.323
> 
> 标签：java, swing, packages, embedded-resource, imageicon

```
lblImage = new javax.swing.JLabel();
lblImage.setIcon(new javax.swing.ImageIcon("E:..path...png")); 
```

我像这样添加了文件。我知道运行 jar 文件时它没有访问路径。帮助我如何将图像文件导入 Netbeans 中的 java 项目。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-31T07:05:23.340

推荐的方法是将图像放在`resource`文件夹中并按如下方式使用：

```
jLabel1.setIcon(new ImageIcon(getClass().getResource("/path/to/image.png"))); 
```

阅读更多：[NetBeans 文档](http://netbeans.org/kb/docs/java/gui-image-display.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T07:51:48.403

在src文件夹中创建图片文件夹，将图片放入文件夹并给出创建图片图标对象的相对路径

```
 jLabel1.setIcon(new ImageIcon(getClass().getResource("/image/img1.jpg"))); 
```

然后重建jar。它将访问jar中的图像

# javascript - 动态添加的网格的内存释放不工作

> ID：14098527
> 
> 赞同：5
> 
> 时间：2012-12-31T06:59:39.180
> 
> 标签：javascript, memory-leaks, webgl, three.js

我有一个**Mesh**实例，它使用**TubeGeometry**作为它的路径。**当我对TubeGeometry**实例所基于的基础曲线进行更改时，我将从场景中移除网格，然后创建一个新的。

场景更新得很好，但内存正在爆炸，这告诉我，一旦移除的网格离开场景，我就没有正确地释放它。

这是我试图用来解除分配的代码：

```
$.each(parent.children, function (idx, obj) {
  parent.remove(obj);
  renderer.deallocateObject(obj);
  obj.deallocate();
}); 
```

我将**网格**放入其中`parent`的**Object3D**是哪里，并且是**WebGLRenderer**的一个实例。**`renderer`**

 *****谁能告诉我我做错了什么以及如何正确地做到这一点？*

[这是我当前示例的**Plunk**。](http://plnkr.co/edit/2pJcit?p=preview)相关代码在**scene.js**文件第 76-86 行。请注意，该示例使用的是**r53**。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T10:15:57.053

您不会取消分配使用的几何图形

```
$.each(parent.children, function (idx, obj) {
  parent.remove(obj);
  renderer.deallocateGeometry(obj.geometry);
  renderer.deallocateObject(obj);
  obj.geometry.deallocate();
  obj.deallocate();
}); 
```****

# android - 当 span 数量增加时，应用程序会变慢

> ID：14098528
> 
> 赞同：5
> 
> 时间：2012-12-31T06:59:40.207
> 
> 标签：android, performance, html

增加 android 应用程序中的 span 数量会导致反应缓慢的问题让我感到沮丧！如果有任何其他方法可以使应用程序加速？

在我的应用程序中，如果我按下虚拟键盘，则会将一个新的跨度（例如图片跨度）添加到 edittext 中。起初，它是快速和及时的。但是当跨度超过 300 时，当我继续输入时，我的应用程序的反应很慢。尤其是当我在文本前面插入 span 时，将它带入文本会花费 1 分钟以上。

以下描述了我如何将跨度添加到我的文本中：

```
//if a key is pressed, insert a new span in the front of text:
SpanItem item = new SpanItem(xxxx);
editable.insert(0, "r"); //r will be replaced by item.
editable.setSpan(item, 0, 1, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE; 
```

你有什么好的方法来提高应用程序的速度吗？非常感谢！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-10T19:00:28.787

在 Google 上快速搜索 Spannable 将我带到[http://developer.android.com/reference/android/text/Spannable.Factory.html](http://developer.android.com/reference/android/text/Spannable.Factory.html)。工厂通常用于处理资源管理和重用。我假设您的 SpanItem 实现了 Spannable，如果是这样，请使用 Factory 这将解决您的问题。

# ruby - 覆盖 Ruby String 类方法

> ID：14098530
> 
> 赞同：0
> 
> 时间：2012-12-31T06:59:51.767
> 
> 标签：ruby, inheritance

我是 Ruby 新手，正在尝试解决这个问题：

```
class SuperString < String
    def size
        "The Size: " + super.size.to_s
    end
end

a = SuperString.new("My String")
b = String.new("My String")
puts a.size
puts b.size 
```

输出是：

```
"The Size: 8"
9 
```

为什么一个是 8，另一个是 9？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T07:29:48.687

与`SuperString.new("My String").size`,

*   `super`调用超类的方法，就是`String#size`，会返回`9`，就是字符串的长度`"My String"`。
*   接下来，`9.size`将返回`8`，这是用于表示 的字节数`Fixnum`。
*   最后，`8.to_s`将返回`"8"`。

与`String.new("My String").size`,

*   `size`将返回`9`，这是字符串的长度`"My String"`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T06:35:33.507

这是因为您在方法 .super 上调用了方法 .size，.super 调用了您的类 SuperString 的超类（在本例中为 String ），用于与您当前定义的方法同名的方法。

通过在 super 上调用 .size 您实际上是在 super 的返回值上调用 .size （这是“我的字符串”的大小，即 9 ）。

这是您要执行的方法

 `````
class SuperString < String

  def size
    "The Size: " + super.to_s
  end

end

a = SuperString.new("My String")
b = String.new("My String")

a.size # => "The Size: 9"
b.size # => 9 
````  `* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T07:10:11.037

```
an_string = "My String"

class SuperString < String
    def size
        x = super
        p x
        y = x.size
        p y
        z = y.to_s
        p z
        "The Size: " + z
    end
end

a = SuperString.new an_string
b = String.new an_string

puts a.size
p a
puts b.size
p b 
```

输出

```
9
8
"8"
The Size: 8
"My String"
9
"My String" 
```

所以我尝试了：

```
Ezekiels-MacBook-Pro:/Users/tehgeekmeister| irb
1.9.3p327 :001 > 9.size
 => 8 
1.9.3p327 :002 > 8.size
 => 8 
1.9.3p327 :003 > 7.size
 => 8 
1.9.3p327 :004 > 256.size
 => 8 
1.9.3p327 :005 > 1000000000000000000000000000.size
 => 12 
```

基本上，8 是表示大小的整数的大小。它使用 8 个字节。=P``

# file-io - 在 Octave 中使用 textscan()... 如何正确格式化？

> ID：14098533
> 
> 赞同：1
> 
> 时间：2012-12-31T07:00:25.107
> 
> 标签：file-io, formatting, octave, numeric

我在磁盘上有一个数据集，我正在逐行读取，我想将其中一列数据转换为浮点向量（范围为 0-23.99999）（那天）。

数据如下所示：

```
2010/01/01,00:00:00.979131, 27.4485,  51.9362, 14.8,  6
2010/01/01,00:00:01.021977, 27.5149,  51.9375, 16.0,  6
2010/01/01,00:00:01.074032, 27.4797,  51.9446, 14.5, 10
2010/01/01,00:00:01.663689, 25.8441,-152.8141, 14.6,  6
2010/01/01,00:00:01.639541, 25.8744,-152.6122,  1.5,  5
2010/01/01,00:00:02.232099, -2.2447,  11.5023, 18.8,  6
2010/01/01,00:00:02.256351, -0.8135,  27.3139, 17.7,  5
2010/01/01,00:00:02.306734, -2.7797,  28.5109, 26.0,  5
2010/01/01,00:00:02.620765, 25.6656,-154.2029, 26.2,  9
2010/01/01,00:00:02.658495, 25.6698,-154.2157, 23.0,  6
2010/01/01,00:00:02.731266, -5.7106, 126.4517,  3.6,  5
2010/01/01,00:00:02.787495, -5.7138, 126.5210, 24.4,  8
2010/01/01,00:00:02.811636, -3.2453, 124.6919, 21.1,  8 
```

第 2 列（例如，00:00:00.979131）很有趣，我想做类似的事情

```
setenv GNUTERM 'x11';
fid = fopen('myfile.txt', 'r');
m = textscan(fid, '%d%d%d%d/%d%d/%d%d, %d%d:%d%d:%d%f, %f, %f, %f, %d');
mx = m(:, 5); %here, I would expect to grab 14.8, 16.0, etc
my = m(:, 2) / 24.0; %here, all data from timestamp column (00:00:00.979131, for ex)
plot(mx, my); 
```

问题是我传递给`textscan`我的数据的字符串格式错误。该数字的格式为“时：分：秒”，以军用时间表示。如何访问/转换 vars 的值`mx`，或者`my`？

谢谢，jml

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-31T23:28:59.573

的输出`textscan`是一个元胞数组。如果您在答案中使用该命令：

```
m = textscan(fid, '%d/%d/%d %d:%d:%f %f %f %f %d', 'delimiter', ','); 
```

然后得到14.9、16.0、14.5的垂直向量：

```
MyNinthField = m{9};

MyNinthField =
14.8000
16.0000
14.5000
14.6000
 1.5000
18.8000
17.7000
26.0000
26.2000
23.0000
 3.6000
24.4000
21.1000 
```

然后，获取时间戳（从一天开始的秒数）：

```
Hours = double(m{4});
Minutes = double(m{5});
Seconds = m{6}; 
```

`Seconds` `double`不需要for ，因为`m{6}`已经是`double`. 然而，`m{4}`和`m{5}`都是`int32`。

要以秒为单位获取一天中的时间，您只需要：

```
TimeOfDayInSeconds = 3600*Hours+60*Minutes+Seconds;

TimeOfDayInSeconds =
0.97913
1.02198
1.07403
1.66369
1.63954
2.23210
2.25635
2.30673
2.62077
2.65849
2.73127
2.78749
2.81164 
```

如果您没有从`int32`to进行类型转换`double`，Octave 会将值截断为整数。然而，MATLAB 甚至不允许整数和双精度数组之间的和。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T21:24:09.167

看起来您可以执行以下操作：

```
m = textscan(fid, '%d/%d/%d %d:%d:%f %f %f %f %d', 'delimiter', ','); 
```

...虽然它有效，但它将我想要的时间格式 var 放入 var 的多个部分。有总比没有好。如果有人对之后如何连接这些变量有建议，我很乐意阅读更多。谢谢！

# java - java - 如何将Java对象发送到java中的两个mxml文件之间？

> ID：14098540
> 
> 赞同：0
> 
> 时间：2012-12-31T07:01:38.710
> 
> 标签：java, apache-flex, mxml

我正在使用 Flex + java .. 因为我有两个 Sub mxml 文件 Sub1.mxml 和 Sub2.mxml

Sub1.mxml 代码..

```
[Bindable] private var editTimetableVO:TimetableVO;
        public function forwardToCreateEvent(event:MouseEvent):void
        {
            editTimetableVO = new TimetableVO();
editTimetableVO=editDataGrid.selectedItem as TimetableVO;//editDataGrid is DataGrid id
                Alert.show("value   "+editTimetableVO.startDate);
            } 
```

听到警报是打印一些日期，这很好......然后是我的第二个 Mxml 文件......

Sub2.mxml 代码..

```
public var myEditEvent:Sub1 = new Sub1();
private var timetableVO:TimetableVO = new TimetableVO();

    //  private var editTimetableVO:TimetableVO = new TimetableVO();
        protected function init(event:FlexEvent):void
        {
            Alert.show("Show");
            timetableVO=myEditEvent.editDataGrid.selectedItem as TimetableVO;

            Alert.show("value "+timetableVO.startDate);

        } 
```

但在那个时候警报不打印......他们是否有任何其他方式可以访问`editTimetableVO`Sub1.mxml 到 Sub2.mxml 文件......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T08:00:26.547

尝试创建一个modelLocator（单例类并将“editTimetableVO”的引用放在该文件中）。这样，在整个应用程序生命周期中只存在一个“editTimetableVO”变量实例，因为您已将此变量声明为 Bindable，因此应用程序中任何地方发生的更改都会立即反映出来。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T08:09:41.167

```
package
{
public class ModelLocator{
    public static var instance:ModelLocator;

    public var editTimetableVO:*;

    public function ModelLocator(instance:SingletonEnforcer){}

    public static function getInstance():ModelLocator{
        if(!instance){
            instance = new ModelLocator(new SingletonEnforcer());
        }
        return instance;
    }
}

}class SingletonEnforcer{}

// sub1.mxml
[Bindable]private var model:ModelLocator = ModelLocator.getInstance();
    public function forwardToCreateEvent(event:MouseEvent):void
    {
        model.editTimetableVO = new TimetableVO();
        model.editTimetableVO=editDataGrid.selectedItem as     TimetableVO;//editDataGrid is DataGrid id
        Alert.show("value   "+model.editTimetableVO.startDate);
        }

// Sub2.mxml
[Bindable]private var model:ModelLocator = ModelLocator.getInstance();
    protected function init(event:FlexEvent):void
    {
        Alert.show("Show");
        model.timetableVO=myEditEvent.editDataGrid.selectedItem as TimetableVO;

        Alert.show("value "+model.timetableVO.startDate);

    } 
```

# ruby-on-rails - Rails应用程序中的正则表达式匹配

> ID：14098544
> 
> 赞同：0
> 
> 时间：2012-12-31T07:01:47.133
> 
> 标签：ruby-on-rails, ruby, regex, redmine

我有以下字符串需要用 rails 中的空字符替换。遵循了许多教程和文档。请帮助我实现这一目标。

细绳：

```
/home/<someword>/dbdumps/backup.sql 
```

替换为：

```
backup 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:09:37.110

要从路径中获取文件名，我会使用[File#basename](http://www.ruby-doc.org/core-1.9.3/File.html#method-c-basename)

```
File.basename('/home/<someword>/dbdumps/backup.sql', '.sql')   
#=> 'backup' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:06:50.307

如果“someword”是唯一改变你甚至不需要正则表达式的东西。认为

```
path = "/home/<someword>/dbdumps/backup.sql" 
```

然后

```
path.split("/").last.split(".").first 
```

返回

```
=> "backup" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T07:08:08.133

最简单的解决方案是 gsub（字符串替换），如下所示：

```
string = "home/<someword>/dbdumps/backup.sql"
new_string = string.gsub(%r{home/(.*)/dbdumps/backup.sql}, 'backup' ) 
```

这是一个字符串替换的简单示例。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-31T07:39:11.953

> 在 Rails 应用程序中，我执行 Net:SSH:start() 并运行 ssh.exec!('ls /home/ */dbdumps/* .sql')。我正在将输出发送到一个字符串，然后我必须显示文件列表。为此，我将输出转换为字符串并尝试执行 gsub。这是正确的方法吗？

我不会认为它很漂亮（简单的代码，没有错误检查，带有请求的循环），但这样的事情可以为你完成这项工作。这取决于您是否希望仅使用备份名称或完整路径。

```
ssh.exec!("ls -l /home/") do |channel, stream, data|
  directories << data if stream == :stdout
end

directories.each do |dir|
  ssh.exec!("ls -l /home/" + dir + "dbdumps") do |channel, stream, data|
    backup_names << /home/" + dir + "/" + data if stream == :stdout
  end 
end 
```

希望这可以帮助

# c# - 根据 Combobox1 选定项填充 ComboBox2

> ID：14098546
> 
> 赞同：0
> 
> 时间：2012-12-31T07:01:51.407
> 
> 标签：c#

我是一名学生，也是编程新手，我有两个组合框，combobox1 和 combobox2 combobox1 包含诺基亚、三星、htc 等移动公司，combobox2 包含三星、s3 等移动型号，我想对我的意思的两个组合框进行排序当我点击combobox1中的诺基亚时，诺基亚的所有型号都应该在combobo2列表中可见，所以我决定使用外键关系

```
 Manufacturer -table
        - manufacturerid (primary key)
        - name

         Model -table
        - modelid (primary key)
        - manufacturerid (foreign key to manufacturer)
         - name 
```

数据示例：

制造商表

```
 manufacturerid name
     -------------- ----------
    1              Nokia
    2              Samsung
    3              HTC 
```

型号表

```
 modelid manufacturerid name
     ------- -------------- ----------
     1       1              C7
     2       1              Lumia 900
     3       1              Lumia 920
     4       2              Galaxy S II
     5       2              Galaxy S III
     6       3              Desire X
     7       3              Windows Phone 8X
     8       3              One S 
```

我希望如果我在第一个组合框中选择诺基亚，那么第二个组合框将选择所有制造商 ID = 1 的型号，使用什么？我怎样才能做到这一点？私下我正在使用

```
 private void comboBox4_SelectedIndexChanged(object sender, EventArgs e)
  {
     comboBox3.Text = "";
   if ("samsung" == comboBox4.SelectedItem.ToString())
      {
           comboBox3.DataSource = table1BindingSource;
           comboBox3.ValueMember = "samsung";
           comboBox3.DisplayMember = "samsung";
      }
   if ("htc" == comboBox4.SelectedItem.ToString())
      {
         comboBox3.DataSource = table1BindingSource;
         comboBox3.ValueMember = "htc";
          comboBox3.DisplayMember = "htc";
       }
  } 
```

但是每次添加新模型时我都必须更新三星字符串，所以我决定使用表格以便我可以更新它

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:12:22.227

包括一个从数据库中检索数据的函数，如下所示

```
public DataTable Select(String sqlQuery)
   {       
       con.Open();
       SqlDataAdapter adapter = new SqlDataAdapter(sqlQuery,con);
       DataTable table = new DataTable();
       adapter.Fill(table);
       con.Close();
       return table;
   } 
```

并在`Page_Load`事件

```
protected void Page_Load(object sender, EventArgs e)
{
   if(!Page.IsPostBack)
     {
      String sqlQuery="select manufacturerid,name From Manufacturertable";

      comboBox4.DataSource = cls.Select(sqlQuery);
      comboBox4.DataTextField = "name";
      comboBox4.DataValueField = "manufacturerid";
      comboBox4.DataBind();
   }
 } 
```

并且`SelectedIndexChanged`如果发生`comboBox4`

```
protected void comboBox4_SelectedIndexChanged(object sender, EventArgs e) {
    String sqlQuery="select modelid,name From Modeltable where manufacturerid="+ Convert.ToInt16(comboBox4.SelectedValue.ToString());

    comboBox3.DataSource = cls.Select(sqlQuery);
    comboBox3.DataTextField = "name";
    comboBox3.DataValueField = "modelid";
    comboBox3.DataBind();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-31T07:13:28.253

在第一个组合框`SelectedIndexChanged`事件（制造组合框）上获取选择`manufacturerid` ，然后触发此查询以填充其他组合框，即（模型）

`Select modelid,name from modeltable where manufactuerid=@combox1Value`

**代码背后** 的东西像这样，我只是在没有IDE的情况下写了这段代码看看，可能需要一些修改

```
private void monufactureComobobox_SelectedIndexChanged(object sender, EventArgs e)
{

 string fecthManufacturerID= manufactureComobobox.selectedItem;
 DataTable dtModel = new DataTable();
 dtModel= ModelComboPopulate(fecthManufacturerID);
 ModelcomboBox.DataSource = dtModel;
 ModelcomboBox.ValueMember = "modelid";
 ModelcomboBox.DisplayMember = "name";

}

public DataTable ModelComboPopulate(string ID)
{
 DataSet ds = new DataSet();
 using (SqlConnection con = new SqlConnection(connection))
 {
    string myquery="Select modelid,name from modeltable where manufacturerid=@combox1Value";
    SqlCommand cmd = new SqlCommand(myquery, con);
    SqlDataAdapter dap = new SqlDataAdapter();
    dap.SelectCommand = cmd;
    cmd.Parameters.Add("@combox1Value", SqlDbType.NVarChar, 15).Value = ID;
    dap.Fill(ds);
    return ds.Tables[0];
  }

} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-31T07:42:56.667

使用`DataSet`or`DataTable`存储这两个表，然后将字符串填充到列表字符串中`strArr`。如下所示：（*至少逻辑应该有效*）

```
List<string> strArr = new List<string>();
strArr.Items.Clear();
for(int intSubCount = 0; intSubCount < dtTable2.Rows.Count;intSubCount++)
{
   if(MyComboBox.Text.Equals(dtTable2.Rows[intSubCount]["modelid"].ToString()))
   {
       strArr.Add(dtTable2.Rows[intSubCount]["name"].ToString());
   }
}
//
comboBox3.DataSource = strArr; 
```

**要不然**

简单的方法是使用`DataView`

```
 DataView dv =  dtTable1.defaultView;
  dv.RowFilter("modelid = '" + myComboBox.Text + "'");
  //use DataView to populate the Second ComboBox. 
```

# objective-c - 在目标 c 中从弹出窗口导航到弹出窗口

> ID：14098547
> 
> 赞同：0
> 
> 时间：2012-12-31T07:01:53.077
> 
> 标签：objective-c

我正在`Objective C`使用`xcode`和`SUP 2.1.3`作为后端。我对这项技术非常陌生。我创建了一个以主细节作为设计模板的项目。在详细视图中，我使用弹出窗口来显示一些细节。而且我还有那边的一个按钮。当我单击此按钮时，我必须转到`UIView`弹出窗口本身的下一个。

为此，我又创建了两个`UIViewControllers`（viewController1 和 viewController2）。在详细视图中，我编写了弹出窗口的代码，例如，

```
 -(void)popupAgain
    {
        ViewController1 *viewController = [[ViewController1 alloc] initWithNibName:@"ViewController1" bundle:nil];

        viewController.modalPresentationStyle = UIModalPresentationFormSheet;
        [self presentModalViewController:viewController animated:YES];
        [viewController release];
    } 
```

我在那个弹出窗口中放了一个按钮，我正在调用下一个 popupAgain 函数来获取 viewController2 之类的

```
 -(IBAction)next:(id)sender
    {
        [self popupAgain];
    }

 -(void)popupAgain
    {
        ViewController2 *viewController_new = [[ViewController2 alloc] initWithNibName:@"ViewController2" bundle:nil];

        viewController_new.modalPresentationStyle = UIModalPresentationFormSheet;
        [self presentModalViewController:viewController animated:YES];
        [viewController_new release];
    } 
```

现在的问题是，当我单击下一个按钮时，我必须关闭第一个弹出窗口并显示第二个。但即使我正在编写代码 [self dissmissModalViewControllerAnimated:YES]; 我也无法关闭第一个弹出窗口；在下一个按钮的操作中，例如，

```
-(IBAction)next:(id)sender
{
    [self dissmissModalViewControllerAnimated:YES]; 
    [self popupAgain];
} 
```

请任何人帮我解决这个问题。或者您对此有任何其他想法吗？我对这项技术非常陌生。非常感谢您提前提供的任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T18:42:42.537

见这里：http: [//developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/ModalViewControllers/ModalViewControllers.html#//apple_ref/doc/uid/TP40007457-CH111-SW1](http://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/ModalViewControllers/ModalViewControllers.html#//apple_ref/doc/uid/TP40007457-CH111-SW1)

关闭呈现的视图控制器

当需要关闭呈现的视图控制器时，首选的方法是让呈现的视图控制器关闭它。换句话说，只要有可能，呈现视图控制器的同一个视图控制器也应该负责解除它。尽管有几种技术可以通知呈现视图控制器其呈现的视图控制器应该被解除，但首选技术是委托。有关详细信息，请参阅“使用委托与其他控制器通信”。</p>

# azure - FailedRequestTracing 模块无法在 azure 中创建目录

> ID：14098549
> 
> 赞同：2
> 
> 时间：2012-12-31T07:02:18.977
> 
> 标签：azure

我尝试使用本地运行我的 Azure 站点`SDK1.8`。在事件查看器中出现以下错误。

`'\\?\C:\Users\Shree\AppData\Local\dftmp\Resources\eb8b9108-45c8-4933-8e47-50be3a36cbd9\directory\DiagnosticStore\FailedReqLogFiles\Web\deployment18(154).App.Azure.App_IN_0_Web\'. No logs will be generated until this condition is corrected......`

在浏览器中我得到一个错误：

```
403 - Forbidden: Access is denied. 
```

在 .csdef 文件中我`physicalDirectory`这样使用。

```
 <Site name="Web" physicalDirectory="..\..\..\dec31">
        <Bindings>
          <Binding name="Endpoint1" endpointName="Endpoint1" />
        </Bindings>
  </Site> 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:34:33.353

我解决了这个问题。这不是`.csdef`文件的问题。它是我的问题`web.config`

文件。有一个框架工作冲突。所以我修改了`web.config`它的工作。

# oop - 我应该使这些方法非静态吗

> ID：14098550
> 
> 赞同：2
> 
> 时间：2012-12-31T07:02:19.717
> 
> 标签：oop, design-patterns, static

我只是通过构建图书馆管理系统的虚拟项目来练习 Java OOP 概念。

最初我有 Book、Customer、Administrator 的类（与 Customer、Administrator 扩展抽象用户类）然后我创建了列表类 BookCollection、CustomerCollection，它们在 ArrayList 中保存上述类的实例列表（有一段时间不处理数据库）和在相应的 ArrayList 上执行添加、删除、排序方法（**只有一个内联问题：如果我在开始处理数据库时将 ArrayList 相关代码替换为数据库操作，并且每个 xyzCollection 都处理数据库中的 xyzTable，这将是一个好的设计实践**）

主要问题：由于我之前认为我只需要维护跨应用程序的书籍、客户列表，因此我将 ArrayLists 设为静态。另外，我写了足够多的静态方法：addXyz、deleteXyz、searchXyz、sortXyz 方法但是现在我意识到，为了搜索客户或书籍，我可能（或者应该）返回与名称匹配的列表，这意味着我必须返回另一个 ArrayList，它应该是 xyzCollection 的一个实例，但是我不能在这些 xyzCollection 中使用 ArrayList，因为它在所有实例之间是静态共享的。

最初似乎我需要共享 ArrayList，但现在我怀疑我最初的决定。什么应该是正确的？：

*   我是否应该使 ArrayList 和相应的方法非静态并在调用时进行任何相应的代码更改
*   或者我应该返回 ArrayList 而不是 XyzCollection

在代码设计方面什么会更好？或者我在使它们全部静止时犯了明确的错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:15:59.423

我假设您在从数据库中获取数据后正在创建收藏书籍/客户。正如您所说，它是一个图书馆管理系统，这意味着多个用户可以同时使用它。并且每个请求都将独立于其他请求（如典型的分布式系统）。

**所以建议你使用普通类而不是 static**。您可以使用静态来管理实用程序，例如与数据库的连接，但不能用作书籍/客户列表等占位符。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:13:07.120

在我的想法中，使用数据库会很容易，然后使用数组列表的概念。与使用数组一样，您必须使其共享，以便可以访问值。因为我不知道你制作它的概念设计，所以认为它只是一种意见。

# sql - 当我已经有一个 UPDATE 语句时，为什么在我的插入语句中需要一个 WHERE 子句？

> ID：14098551
> 
> 赞同：-7
> 
> 时间：2012-12-31T07:02:27.323
> 
> 标签：sql

当我已经有一个 UPDATE 语句时，为什么在我的 INSERT 语句中需要一个 WHERE 子句？如果我有一个带有 WHERE 子句的 UPDATE 语句，为什么我需要一个带有 WHERE 子句的 INSERT 语句，反之亦然？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:10:39.043

`INSERT`语句没有 where 子句。的基本语法`INSERT`如下：

```
INSERT INTO tableName (ColumnNames1, ....) VALUES (Values1, ....) 
```

只有当您从 select 的结果中插入时才会使用`INSERT`have子句。声明，例如`WHERE``INSERT INTO ...SELECT`

```
INSERT INTO tableName (ColumnNames1, ....)
SELECT ColumnNames1, ....
FROM tableNameN
WHERE .... 
```

语句在`INSERT`表上插入或添加新记录，而`UPDATE`语句**仅编辑**表上记录的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:10:43.040

> 当我已经有一个 UPDATE 语句时，为什么在我的插入语句中需要一个 WHERE 子句？

好吧，鉴于 INSERT 不支持 WHERE 子句……您的语句只能用以下方式回答：阅读一本关于 SQL 的初学者书籍，因为您不需要在 INSERT 语句中使用 WHERE 子句。

# design-patterns - 数据绑定是否仅用于 UI？

> ID：14098554
> 
> 赞同：3
> 
> 时间：2012-12-31T07:03:02.627
> 
> 标签：design-patterns, data-binding

我知道数据绑定通常用于视图和模型之间的绑定。所以它经常用于 UI。但是，同样的数据绑定技术也可以在非 UI 上下文中使用。

通过数据绑定在非 UI 类和对象之间绑定属性是可接受的还是不好的做法？例如，两个普通对象可能希望它们的属性同步。在这种情况下使用数据绑定是否合理且可以接受？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T22:54:56.470

这是一个非常好的问题。

一般来说，我不认为数据绑定是一种同步形式。这个想法已经存在了很长时间，但真正让它爆炸的是早期尝试做动态 Web 应用程序的效率非常低。90 年代后期的一项指标研究表明，三分之一的程序员时间都花在了将数据库中的数据提取到表单上，然后转换从用户那里获得的输入，并将其推回数据库。不久之后，您开始看到许多以数据绑定为核心的框架，例如 JSF。

如果您有需要同步的对象，通常如果它们具有相同的结构，那么您只是在做序列化事物时会做的事情：编码/解码。如果你看一下 Objective-C 中的 NSCoding 协议，你会看到一种非常简单的方法，但它隐藏了一个巧妙的设计：编码器/解码器只处理属性，所以实体不知道它们是否是以 JSON 或 XML 格式或写入数据库。您可以进入一个具有巨大域模型的大型项目，并在一个下午添加 JSON 支持。

Java 世界的趋势是追逐神奇的自动脱水机/再脱水机的梦想。因为 Java 支持反射，所以很自然地：“嘿，我可以去获取所有属性并将它们写出来，然后再将它们读回。” 用这两种方法做了很多工作，我再也不会做反射了。编码协议方法的忠实拥护者。

因此，如果您最简单的情况只是从远程编码解码到服务器化身（在必须支持共享数据库中的共享状态的移动应用程序中很常见），那么您可以将其建模为在一侧编码和解码的对象另一方面，坦率地说，它们可以用不同的语言进行编码/解码。

Typically synchronization quickly turns into other questions, like 'what if I want to send just the new things?' I did a large mobile app where we did a serious synchronizer and I thought afterwards that I was stunned there were no serious projects to do language agnostic synchronization with all the semantic varieties implied by updates, diffs, versions, etc.

If your graphs are not identical, you will want an Adapter in between. This is another thing that I think makes the argument for encoders quite convincingly because the Adapter has to stand between the two types and perform a mapping, which, like most things, can get very complex. The manipulation of the sides is easier in the encoder scheme than the Reflection one.

One of the interesting things about Adapters is whether you imagine them to be active, or part of a static building process. I tend to think of them as the latter, with the Mediator as the active version of the same thing: two sides that need to be kept ignorant of each other, but must be brought into a scheme of cooperation.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T20:53:12.553

当然是可以接受的。你可以在 mvc 中经常找到它，但它不仅限于 UI。例如模板。jasper 报告使用它来生成 pdf 文件、excel 等。spring 将 java 类和对象绑定到 xml 配置。当编译器无法帮助您时，您总是可以这样做

但我认为这个概念仅在静态类型语言中是明确的。当你没有类型并且你做“鸭子打字”时，这是一个大数据绑定

# php - 搜索sql查询

> ID：14098555
> 
> 赞同：1
> 
> 时间：2012-12-31T07:03:10.123
> 
> 标签：php, sql

我正在做我的大学项目，发现真的很有趣。

我想知道搜索引擎的算法是如何建立起来的，因为它也纠正了拼写错误。

我想实现同样的事情。

例如，我有三个要搜索的东西名称、电子邮件和电话。

如果其中一个用户名是 john miller 并且我搜索 john miller 它应该会显示结果，即使是 Jon miler。同样对于电子邮件 john@gmaiw.com 应该显示 john@gmail.com

我想知道这可能吗？？？它的算法是什么。类似查询似乎并不适用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:05:52.763

可能您正在寻找类似的 SQL 语句，请通过以下链接 - [http://dev.mysql.com/doc/refman/5.0/en/pattern-matching.html](http://dev.mysql.com/doc/refman/5.0/en/pattern-matching.html)

# php - 当包含在“”之间时，包含 variable_1、variable_2、variable_3 的正确 PHP 方法是什么

> ID：14098558
> 
> 赞同：-1
> 
> 时间：2012-12-31T07:03:18.400
> 
> 标签：php, syntax, indexing, while-loop

我在 while 循环中收到以下错误：

解析错误：语法错误，意外的 T_ENCAPSED_AND_WHITESPACE，期待 T_STRING

```
$index=1;
while ($index <= 100):

fwrite($outfile, $_POST[\'"variable_" . $index\']);
fwrite($outfile, "\r");

$index = $index + 1;
endwhile;
fclose($outfile);
?> 
```

包含 variable_1、variable_2、variable_3 而不会出现语法错误的正确方法是什么？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:10:53.893

```
fwrite($outfile, implode("\r", array_values($_POST))); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:06:32.520

```
$x = "variable_$index";
fwrite($outfile, $_POST[$x]); 
```

我也会考虑在这里使用 for 循环。

```
// Assuming you open $outfile somewhere prior to this
for ( $i = 1; $i <= 100; $i++ ) {
    $x = "variable_$i";
    fwrite($outfile, $_POST[$x]);
    fwrite($outfile, "\r");
} 
fclose($outfile); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T07:07:34.673

看起来您的引号混淆了 - 您不需要 \' 部分：

`$_POST["variable_" . $index]`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-31T07:07:40.053

有错误`single`和`double`引号

```
fwrite($outfile, $_POST["'variable_" . $index."'"]); 
```

# full-text-search - ElasticSearch - 有没有办法检索多个结果集或 fascets 的顶级结果？

> ID：14098560
> 
> 赞同：2
> 
> 时间：2012-12-31T07:03:29.083
> 
> 标签：full-text-search, elasticsearch

我很好奇是否有办法查询 ElasticSearch，以便它返回各种 fascets 的最佳结果。例如，假设我们有一些用户在写推文，

```
user: kimchy
user_eye_color: blue
tweet: elasticsearch training early bird discounts

# Lots of other message from blue eye color users mentioning 'bird'

user: lord_oliver
user_eye_color: amber-green
tweet: vanquished and consumed the twitter bird. today is a good day. 
```

如果有足够多的`blue`眼睛用户（或比 更常见的其他颜色`amber-green`）在推文中提到“鸟”，则搜索“鸟”将永远不会出现 Oliver 勋爵的推文，即使 Oliver 勋爵的推文得分相当高。

这是一个问题，因为 [在这个假设的例子中]，我想展示来自不同用户的结果。当前的一种解决方案是在眼睛颜色上添加刻面，

```
facets:
  eye_color:
    terms: {"field": "user_eye_color"} 
```

然后执行多个过滤搜索。然而，这似乎相当低效。

**问题**`user_eye_color=amber-green`：在ElasticSearch中是否有任何方法可以返回多个结果集，或者通过从不同方面（在本例中为

我为什么要这样做的理由是有时很难对所有搜索结果进行总排序（浮点分数）。假设所有`amber-green`眼睛颜色的用户碰巧都是猫，他们写了不同类型的文档（推文）。与其试图强制所有 cat 编写的文档与所有文档完全一致，我想要帕累托最优文档——那些在`X`-eye-color 类别中最优的文档。然后我可以做更明智的后过滤，例如，如果没有什么好东西，就丢弃 cat 编写的文档，否则对结果进行某种明智的交错。降低某种分数乘数 [基于眼睛颜色] 可能不太有效。

如果您不喜欢我的玩具示例（或其卑鄙的讽刺），请考虑您拥有具有不同文档类型的索引的情况，例如推文和 FBI 报告...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T15:53:33.837

现在可以使用[top hits aggregation](https://www.elastic.co/blog/top-hits-aggregation)来完成。

# jquery - 使用 live() 时无法获取属性新值

> ID：14098561
> 
> 赞同：0
> 
> 时间：2012-12-31T07:03:41.240
> 
> 标签：jquery

在下面的代码中，我使用 jquery 更新数据模式值。该值来自服务器。

所以现在如果它是“阻止”，当我单击它时，如果服务器上一切顺利，它将是“解除阻止”。

它更新为“取消阻止”。我可以在 Mozilla 中使用开发工具看到这一点。但是当我再次单击它时，我仍然得到旧值。不是新的。

我在这里做错了什么，我该如何做对？

```
<span class="mod-user" data-mode="Block" data-handle="3">Block</span> 
```

我的jQuery：

```
$('.mod-user').live('click', function() {

    var mode        = $(this).data("mode");
    var userHandle  = $(this).data("handle");
    var handle  = 'mode='+mode+'&handle='+userHandle;

    if(handle){

            // ajax call
            $.ajax({
                type: "GET",
                 url: "/modset/",
                data: handle,
            dataType: "json",
               cache: false,

                beforeSend: function(html) {

                    $('.mod-user[data-handle="'+userHandle+'"]').empty();
                    $('.mod-user[data-handle="'+userHandle+'"]').html('Wait..');

                    },
               success: function(preData){

                    if (preData["success"] == false){

                        delete preData["success"];

                    }else if (preData["success"] == true)
                    {

                        delete preData["success"];

                        $(this).html('');

                        alert(preData['response']);

                        $('.mod-user[data-handle="'+userHandle+'"]').html(preData['response']);
                        $('.mod-user[data-handle="'+userHandle+'"]').attr('data-mode',preData['response']);

                    }else{
                        alert('Error');
                    }

              },
            });
            }
        return false;
    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:10:27.113

在这条线上：

```
$('.mod-user[data-handle="'+userHandle+'"]').attr('data-mode',preData['response']); 
```

您正在使用 .attr()。您应该始终使用 .data() 。

# jquery - 如何在 jquery 中多次更改文本？

> ID：14098566
> 
> 赞同：2
> 
> 时间：2012-12-31T07:04:11.333
> 
> 标签：jquery

我刚刚进入 jquery，我非常喜欢它。

目前，我正在尝试创建以下看似简单的场景：文本显示在屏幕上，每次单击主要内容时，文本都会淡入淡出到一组不同的文本。

现在，当它从一个文本转换到另一个文本时，我已经能够实现这一点，但由于某种原因，我无法在其中链接任何其他内容。任何提示将不胜感激！

这是HTML：

```
<div id="mainContent">
    <h3 id="bodyText">This is the original text</h>
</div> 
```

这是脚本：

```
$(document).ready(function() {
    $('#mainContent').click(function () {
        $('#bodyText').fadeOut(function () {
            $(this).text("This is the new text!").fadeIn();
        });
    });
}); 
```

*编辑：

也许“链”不是正确的术语 - 我只是试图允许用户通过单击主屏幕来更改屏幕上的文本一定次数（几乎就像在 powerpoint 中的基本幻灯片中的幻灯片之间导航）内容区。感谢您迄今为止的所有回答和建议，我正在研究如何实施您的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:12:29.683

在这种情况下，您需要阅读有关事件冒泡的信息，点击事件不会在 DOM 树中冒泡。您必须改用[.live()](http://api.jquery.com/live)。但在最新版本的 jQuery[`.live()`中已被弃用](http://liveisdeprectaed.com/)，因此您必须使用[.on()](http://api.jquery.com/on)事件。就重复这一点而言，你必须通过这个循环，这可以通过[`.each()`](http://api.jquery.com/each)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:13:03.863

您可以简单地在单击时添加淡出效果，并使用 $.ajax 从 PHP 页面获取不同的文本并将其显示为淡入效果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T07:18:04.737

这可能会帮助你

```
$('#mainContent').unbind('click'); Or you can have livequery() instead. 
```

......................

```
$(document).ready(function() {
    $('#mainContent').click(function () {
        $('#bodyText').fadeOut(function () {
            $(this).text("This is the new text!").fadeIn();
            $('#mainContent').unbind('click');
            // Or what ever binding you want to add.
        });
    });
}); 
```

# python - 使用 lxml 删除 xml 标签

> ID：14098573
> 
> 赞同：0
> 
> 时间：2012-12-31T07:05:09.867
> 
> 标签：python, lxml, python-2.6

我想从文件“new.xml”中删除xml标签，并根据打印语句放置数据。

我尝试过：

```
 from lxml import etree

    tree = etree.parse("C:\\Users\\name\\Desktop\\new.xml")
    root = tree.getroot()      
    for text in root.iter():
      print text.text 
```

XML 代码是：

```
<connection>
<rhel>

<runscript>y</runscript>
<username>useranme</username>
<password>passw</password>
<store>None</store>
<port>2</port>
<host>192.168.73.56</host>
<logdirectory>logs</logdirectory>
</rhel>

</connection> 
```

我得到以下输出：

```
yes
username
passw
None
2
192.168.73.56
logs 
```

但我想将其打印为：

```
is it a new connection: yes
username: username
password: passw
value: none
connections: 2
host: 192.168.73.56
log dir : logs 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:50:26.243

您需要根据 XML 文件的结构进行解析。为此，您可以循环遍历子项，并查看每个子项的标签名称和文本。

```
from lxml import etree

tree = etree.parse("test.xml")
root = tree.getroot()

connections = []
for node in root.findall('rhel'): # for all the 'rhel' nodes, children of the root 'connections' node
    connections.append({info.tag: info.text for info in node}) # Construct a dictionary with the (tag, text) as (key, value) pair.

print connections

for conn in connections:
    print '='*20
    print """is it a new connection: {runscript}
username: {username}
password: {password}
value: {store}
connections: {port}
host: {host}
log dir : {logdirectory}""".format(**conn) 
```

你这样做的方式，你可以尝试：`repr(root)`. 您将得到正在打印的内容。但不推荐，原因有很多：

1.  不能保证输出与您现在的顺序一致。
2.  这不是 XML 文件的结构。
3.  有很多空白行，预计会是这样。
4.  这不是你解析 XML 的方式:)

希望能帮助到你。

**更新**：

您可以使用`connections.append(dict((info.tag, info.text) for info in node))`Python<2.7 代替另一行。我猜在此之前不支持这种表示法。

或者，最终，您可以这样做：

```
c = {}
for info in node:
    c[info.tag] = info.text
connections.append(c) 
```

此外，如果在 Python 2.6 上，我猜该格式也可能不起作用。用旧的字符串格式替换它：

```
 print """is it a new connection: %(runscript)s
username: %(username)s
password: %(password)s
value: %(store)s
connections: %(port)s
host: %(host)s
log dir : %(logdirectory)s""" % conn 
```

# php - 由于 php 页面中的无限循环，服务器出现问题

> ID：14098582
> 
> 赞同：-2
> 
> 时间：2012-12-31T07:06:11.223
> 
> 标签：php

我在一个 php 网站上工作，我上传了一个包含无限循环的 php 文件（我没有注意到）。上传该文件后，服​​务器被挂起，现在我无法连接到服务器。如何解决这个问题.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T07:08:42.243

它应该在 60 秒后消失，除非您更改或取消了时间限制。否则，如果您具有 shell 访问权限，则可以终止该进程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:14:46.953

过了时限，它肯定会死。但是，如果您在服务器上**重新启动/重置**webserver 和 php 的服务。它会得到解决。

# c++ - MPI and DLL(SO) functions

> ID：14098584
> 
> 赞同：1
> 
> 时间：2012-12-31T07:06:30.130
> 
> 标签：c++, windows, cluster-computing, hpc

New to MPI, currently I dont have a super computer (yet) to play with, one thing I dont know is, how is DLL/SO handled in cluster computing? Can we use DLL/SO the same way we used them on a PC?

Why there are so few supercomputer that support Windows HPC OS instead of Linux? Currently I think programming software on windows is much easier thanks to visual studio, but too bad it looks like for cluster-computing, linux is the first choice at the moment.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T10:16:48.890

To add to what you've already been told in the comments to your question:

a) I think that one part of the reason for Linux's dominance in the world of supercomputing is that it is open-source. Once you've developed the hardware for your 10^6-CPU behemoth you might want to tweak the o/s a bit to optimise it for the particularly cool features you've designed and built in.

b) If you like developing under Visual Studio but want to run your codes on a supercomputer you can do what I do: develop code under Visual Studio and run code on a supercomputer. (Actually, my employers don't really have a supercomputer, just a very large cluster or two but *meh*.)

I have a desktop PC with twin quad-core CPUs, an installation of VS, the Intel Fortran compiler and a variety of Intel libraries such as the MKL. I also have an installation of the Intel MPI development kit and run-time for the PC so I can run MPI programs on my PC while I develop them.

Then, when I want to move the codes into production, I `make` them on the cluster (where we have the same compiler and libraries) and away they go. We stick rigidly to language standards, so we don't build in portability problems.

So, I don't see why you should have to ditch Visual Studio if you want to work on supercomputer codes. Sure, you'll need to acquire some familiarity with `make` and a programmer's editor on the Linux side of things, but they're no more difficult to come to terms with than their equivalents once were for you on Windows.

# html - 如何仅使用单个类将此内联 CSS 转换为外部 CSS？

> ID：14098587
> 
> 赞同：0
> 
> 时间：2012-12-31T07:06:43.970
> 
> 标签：html, css

我有一些要求，需要使用 my-control 类[jsfiddle](http://jsfiddle.net/pgfUT/1/)将给定的内联 css 元素转换为外部 css ，

```
 <div class="control my-control">
        <div style="float: left;">
            <div style="padding-left: 3px; padding-top: 3px;">
                <div style="float: left;">Title:</div>
                <div style="float: left; padding-left: 12px"></div>
                <div style="clear: both"></div>
            </div>
            <div style="padding-left: 3px; padding-top: 3px;">
                <div style="float: left;">Lyrics:    </div>
                <div style="float: left; padding-left: 3px">
                    <div style="overflow: hidden; width: 180px; white-space: nowrap;" class="lyric-content"></div>
                </div>
                <div style="clear: both"></div>
            </div>
        </div>
        <div style="float: right; border-left: 1px solid black;">
            <img src="Content/Images/play.png" style="height: 50px;"></div>
    </div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:18:16.133

[http://jsfiddle.net/pgfUT/4/](http://jsfiddle.net/pgfUT/4/)

```
.control.my-control {
    overflow: hidden;
    display: block;
    border: 1px solid black;
    margin: 15px;
    width: 300px;    
}

.control.my-control > div {
    float: left;    
}

.control.my-control > div + div {
    float: right;
    border-left: 1px solid black;    
}

.control.my-control > div + div > img {
    height: 50px;
}

.control.my-control > div > div {
    padding-left: 3px;
    padding-top: 3px;
}

.control.my-control > div > div > div {
    float: left;
}

.control.my-control > div > div > div:last-child {
    float: none;
    clear: both;
}

.control.my-control > div > div > div + div {
    padding-left: 12px;
}

.control.my-control > div > div + div > div + div {
    padding-left: 3px;
}

.control.my-control > div > div > div > div.lyric-content {
    overflow: hidden;
    width: 180px;
    white-space: nowrap;
} 
```

​</p>

# php - 重定向到一个网站两次

> ID：14098593
> 
> 赞同：0
> 
> 时间：2012-12-31T07:07:36.840
> 
> 标签：php, css, screen-scraping, output

我正在网站上建立字典。我调用原始站点 (www.rae.es) 的术语定义，并将它们的 css 更改为我自己的一个。这是代码：

```
<?php
    $word = $_REQUEST['word'];

    $url = "http://lema.rae.es/drae/srv/search?val={$word}";

    $css = <<<EOT

    <style type="text/css">
    @font-face {
                font-family: 'brannboll_fetregular';
                src: url('brannbollfet-webfont.eot');
                src: url('brannbollfet-webfont.eot?#iefix') format('embedded-opentype'),
                    url('brannbollfet-webfont.woff') format('woff'),
                    url('brannbollfet-webfont.ttf') format('truetype'),
                    url('brannbollfet-webfont.svg#brannboll_fetregular') format('svg');

                }

    .a
       {
        color: #ffe200;
        margin-top:20px !important;
       }
    .f
       {
         margin-left:20px !important;
         margin-top:10px;
         font-size: 200%;
         color: #ffe200;
         font-family: 'brannboll_fetregular';

       }
    .o
       {
         font-size: 80%;
         color: #ffe200;
         margin-left:10px;
         font-family: 'Belgrano', serif;
        }
    .q {
        margin-left:10px;
        font-family: 'Belgrano', serif;
        }
    .k {
        margin-left:10px;
        font-family: 'Belgrano', serif;
        }
    .p {

        font-family: 'Belgrano', serif;
        }     
    img
        {
        visibility:hidden;
         }

    </style>
    EOT;

    $data = file_get_contents($url);
    $data = str_replace('<head>', $css.'</head>', $data);
    $data = str_replace('<span class="f"><b>.</b></span>', '', $data);
    echo '<div id="result1"
      style="
      top: 77%;
      left: 55%;
      overflow:scroll; 
      width:400px; 
      height:300px;
      border: 1px solid #000000;
      border-radius: 15px;
      background-opacity: 0.5;
      background: #047C8F;
      -webkit-border-radius: 15px;
      -moz-border-radius: 15px;
      box-shadow: inset 0px 3px 13px #000000;
      -moz-box-shadow:
                   0px 3px 13px rgba(000,000,000,0.5),
                   inset 0px 0px 13px rgba(0,0,0,1);
      -webkit-box-shadow:
                   0px 3px 13px rgba(000,000,000,0.5),
                   inset 0px 0px 13px rgba(0,0,0,1);
     ">
     '.$data.' 
     </div>';
        ?> 
```

现在，有时，对于一些话，建议会出现。例如：[http](http://lema.rae.es/drae/?val=casa) ://lema.rae.es/drae/?val=casa 。如果您搜索“casa”，您将提出 3 条建议。现在，如果在我的站点中单击这些超链接，我将被重定向到错误页面。所以，我现在解决方案掌握在 php 手中，我只是不知道从哪里开始。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T09:15:54.237

如果您查看从[http://lema.rae.es/drae/?val=casa](http://lema.rae.es/drae/?val=casa)获得的 HTML ，您会发现您的建议链接是相对链接：

> <a href="搜索?id=wHzIYMmRVDXX2tX1bpuy">

在将它们发送给用户之前，您应该将它们更改为绝对链接。你可以这样做：

> <?php $data = preg_replace('/(搜索?[\d\w]+)/','http://lema.rae.es/drae/srv/\1', $data)

更好的解决方案是使用 DOMParser 解析来自服务器的响应，并使用 CSS 选择器或 xpath 来查找链接并重写它们的 href 属性。看看[DOMCrawler Symfony 组件](http://symfony.com/doc/current/components/dom_crawler.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:12:26.057

该链接指向您的服务器上显然不存在的文件。您可以编写一些东西来处理对文件的请求（例如，使用 mod_rewrite 重写或 nginx“位置”），或者在将 HTML 发送给用户之前扫描返回的 HTML 代码以查找这些链接并修复它们。

你确定你做的是合法的吗？看起来您正在复制另一个网站的内容并将其作为您自己的内容传递出去。除非网站明确允许，否则您绝对**不**应该这样做。

# android - EditText 提示不会消失

> ID：14098597
> 
> 赞同：4
> 
> 时间：2012-12-31T07:07:48.570
> 
> 标签：android, android-listview

问题：在可以处理我的两个窗格`Fragment`容器的设备上，两个窗格显示一个列表视图和选定的视图并排显示，`EditView android:hint`在输入文本时隐藏。但是，在摩托罗拉 XOOM 和 Nexus 7 上，`android:hint`插入文本时不会消失.

更新：我已经弄清楚了`ListView`调整大小活动的问题。由于重绘，它只显示`ListView`没有调整大小。但是，我`EditText`不隐藏的问题`android:hint`仍然存在。我现在添加了我的问题的更新图像以及下面的更新代码。除非其他人认为它适合删除，否则我将保留旧的东西以作记录。：

![更新照片](../Images/034a920dcdc7a910e2cc3af7aeac9a6e.png)

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/contact_detail_container"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal" >

        <ImageButton
            android:id="@+id/chat_camera_button"
            style="android:selectableItemBackground"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentBottom="true"
            android:layout_alignParentLeft="true"
            android:background="?android:attr/selectableItemBackground"
            android:src="@drawable/camera_button" />

        <ImageButton
            android:id="@+id/chat_text_button"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentBottom="true"
            android:layout_toLeftOf="@+id/chat_record_button"
            android:background="?android:attr/selectableItemBackground"
            android:src="@drawable/send_text_button" />

        <ImageButton
            android:id="@+id/chat_record_button"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentBottom="true"
            android:layout_alignParentRight="true"
            android:background="@android:color/transparent"
            android:focusableInTouchMode="true"
            android:longClickable="true"
            android:paddingLeft="10dp"
            android:paddingRight="10dp"
            android:src="@drawable/mic_disabled" />

       <EditText
           android:id="@+id/chat_message_text"
           android:layout_width="wrap_content"
           android:layout_height="wrap_content"
           android:layout_alignParentBottom="true"
           android:layout_toLeftOf="@+id/chat_text_button"
           android:layout_toRightOf="@+id/chat_camera_button"
           android:ems="10"
           android:hint="@string/message_hint"
           android:inputType="textMultiLine|textCapSentences"
           android:maxLines="3"
           android:minLines="1" />

        <ListView
            android:id="@+id/messages_list"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_above="@+id/chat_message_text"
            android:layout_alignParentLeft="true"
            android:layout_alignParentTop="true"
            android:paddingLeft="5dp"
            android:paddingRight="5dp"
            android:stackFromBottom="true"
            android:transcriptMode="alwaysScroll" />

</RelativeLayout> 
```

更新 [旧]：这似乎只适用于我在家测试的 Droid RAZR。我已经测试过 3\. 其他人在 Droid RAZR 上有问题吗？

我试图让我的列表视图和编辑文本在用户输入更多行（最多 3 行）时重新调整大小。但是，由于某种原因，提示并没有消失，列表视图也没有重新调整大小。

此外，当文本在里面时，我的 Edit-text 中使用的 android:hint 不会消失。

这是错误图像的示例（忽略发送按钮，我不再重新调整大小）

想要的人的图像：http: [//i.stack.imgur.com/e7FJJ.png](https://i.stack.imgur.com/e7FJJ.png)

```
Black - ListView

White - EditText + Button

Green - Text inside EditText 
```

以下是我的 XML：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/contact_detail_container"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal" >

        <Button
            android:id="@+id/details_record_button"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentBottom="true"
            android:layout_alignParentRight="true"
            android:text="Send" />

       <EditText
           android:id="@+id/chat_message_input"
           android:layout_width="wrap_content"
           android:layout_height="wrap_content"
           android:layout_alignParentBottom="true"
           android:layout_alignParentLeft="true"
           android:layout_toLeftOf="@+id/details_record_button"
           android:ems="10"
           android:hint="@string/message_hint"
           android:paddingRight="10dp"
           android:paddingTop="10dp"
           android:inputType="textMultiLine"
           android:minLines="1"
           android:maxLines="3"
           android:textColor="#00FF00"/>

        <ListView
            android:id="@+id/messages_list"
            android:layout_width="match_parent"
            android:layout_height="fill_parent"
            android:layout_above="@+id/chat_message_input"
            android:layout_alignParentLeft="true"
            android:layout_alignParentTop="true"
            android:background="#000000" />

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-11-19T16:00:23.200

就我而言，发生这种情况是因为我膨胀了相同布局的多个层。例如，我在我的活动中这样做`onCreate`：

```
setContentView(R.layout.activity_login); 
```

同时也在我的片段中这样做：

```
View view = inflater.inflate(R.layout.activity_login, container, false);
...
return view; 
```

这将创建 2 个完全重叠的控件。因此，当您在控件中键入文本时`EditText`，您只需将其键入到其中一个控件中。因此，其中一个显示您键入的文本，而另一个为空且未聚焦的文本正确显示了提示。

因此，解决方案是从活动或**所有**片段中删除布局。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-03T21:38:20.480

将 TextWatcher 添加到您的 editText 中，然后当您看到文本不等于“”时，将提示文本设置为“”

```
et1.addTextChangedListener(new TextWatcher() {
        @Override
        public void onTextChanged(CharSequence s, int start, int before, int count) {

            // TODO Auto-generated method stub
        }

        @Override
        public void beforeTextChanged(CharSequence s, int start, int count, int after) {

            // TODO Auto-generated method stub
        }

        @Override
        public void afterTextChanged(Editable s) {

            // MAKE CHANGES TO YOUR EDITTEXT HINT TEXT HERE
        }
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-02-24T19:26:15.370

只是安装 APK 和启动应用程序的多次迭代会导致此问题。卸载模拟器或设备中的APP，应该可以解决问题。

您可以尝试按下后退按钮并重新启动应用程序，以确保您没有多个片段实例。

# entity-framework - 多对多关系不保存

> ID：14098600
> 
> 赞同：21
> 
> 时间：2012-12-31T07:07:58.257
> 
> 标签：entity-framework, many-to-many

我有两个具有相当标准的多对多关系的实体，它们是在 EF 5 Code First 中创建的。这些是服务和服务项目。Service 实体包含一个 ServiceItem 集合，ServiceItem 包含一个服务集合。我可以毫无问题地创建、更改数据并将数据保存到任一实体的基本属性。当我尝试将 ServiceItem 添加到 Service 或将 Service 添加到 ServiceItem 时，它似乎可以工作，但没有保存任何内容。我已经验证创建了所有正确的数据库表，包括带有交叉键的 ServiceItemService 表。添加项目时，数据库 ServiceItemService 表没有任何条目。没有错误，其他一切似乎都运行良好。

我有点难过，可以使用一些帮助。以下是课程。

服务类；

```
public class Service
{
    //Default constructor
    public Service()
    {
        //Defaults
        IsActive = true;
        ServicePeriod = ServicePeriodType.Monthly;
        ServicePeriodDays = 0;

        ServiceItems = new Collection<ServiceItem>();
    }

    public int ServiceID { get; set; }
    public string Title { get; set; }
    public string Description { get; set; }
    public ICollection<ServiceItem> ServiceItems { get; set; }
    public string TermsOfService { get; set; }
    public ServicePeriodType ServicePeriod { get; set; }
    public int ServicePeriodDays { get; set; }
    public bool IsActive { get; set; }
} 
```

ServiceItem 类；

```
public class ServiceItem
{
    public ServiceItem()
    {
        IsActive = true;
    }

    public int ServiceItemID { get; set; }
    public string Title { get; set; }
    public string Description { get; set; }
    public ICollection<Service> Services { get; set; }
    public string UserRole { get; set; }
    public bool IsActive { get; set; }

} 
```

这是我在尝试调试此问题时所做的 Fluent 映射。添加此映射之前和之后发生了相同的问题。

```
 public DbSet<Service> Services { get; set; }
    public DbSet<ServiceItem> ServiceItems { get; set; }

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        modelBuilder.Entity<Service>()
           .HasMany(p => p.ServiceItems)
           .WithMany(r => r.Services)
           .Map(mc =>
           {
               mc.MapLeftKey("ServiceItemID");
               mc.MapRightKey("ServiceID");
               mc.ToTable("ServiceItemService");
           });
    } 
```

这是我用来保存 Service 项目的代码，该项目在 Service.ServiceItems 集合中包含 2-3 个 ServiceItems。我已仔细验证 ServiceItems 是否在正确的集合中。

```
 db.Entry(dbService).State = EntityState.Modified;
                db.SaveChanges(); 
```

dbService 对象似乎没有受到任何影响。ServiceItems 仍在正确的集合中，但没有对 ServiceItemService 数据库表进行更新。任何建议都会非常受欢迎。

-谢谢

* * *

## 回答 #1

> 赞同：68
> 
> 时间：2012-12-31T13:59:28.277

预计不会发生任何事情。

您要更改或添加的是*实体*`Service`和`ServiceItem`. 但是您不能通过将实体的状态设置为 来操纵关系`Modified`。这只会更新标量和复杂属性，但不会更新导航属性（= 关系）。（例如将`Service`实体的状态设置为`Modified`将`Service.Title`和`Service.Description`等标记为已修改，并确保将这些属性保存到数据库中。但它不关心 的内容`Service.ServiceItems`。）

您可以通过将状态设置为来更改*关系*的唯一例外`Modified`是*外键关联*。这些是在模型实体中公开了外键属性的关联，它们只能发生在一对多或一对一关联中。多对多关系始终是*独立关联*，这意味着它们永远不会在实体中具有外键属性。（因为 FK 在连接表中，但连接表不是实体，并且对模型类“隐藏”。）

有一种方法可以直接操纵多对多关联的关系，但它需要深入了解`ObjectContext`它`RelationshipManager`- 在我看来 - 非常先进和棘手。

在多对多关联中添加和删除关系条目的通常且直接的方法是*在实体附加*到上下文时向集合添加项目和从集合中删除项目。EF 的更改跟踪机制将识别您所做的更改，并在您调用时生成相应的 INSERT、UPDATE 和 DELETE 语句`SaveChanges`。

确切的过程取决于您是否还想保存`Service`和/或`ServiceItem`作为新实体，或者您是否只想添加现有实体之间的关系。这里有一些例子：

*   `service`应该插入，所有`serviceItem`s 都应该插入，并且实体之间的关系也应该插入到连接表中：

    ```
    using (var context = new MyContext())
    {
        var service = new Service();
        var serviceItem1 = new ServiceItem();
        var serviceItem2 = new ServiceItem();
        service.ServiceItems.Add(serviceItem1);
        service.ServiceItems.Add(serviceItem2);

        context.Services.Add(service);

        context.SaveChanges();
    } 
    ```

    添加对象图的“根”`service`就足够了，因为 EF 将识别图中的所有其他实体都未附加到上下文并假定它们必须插入到数据库中。

*   `service`已经存在并且不应该被插入，所有`serviceItem`s 都应该被插入并且实体之间的关系也应该被插入到连接表中：

    ```
    using (var context = new MyContext())
    {
        var service = new Service { ServiceID = 15 };
        context.Services.Attach(service);

        var serviceItem1 = new ServiceItem();
        var serviceItem2 = new ServiceItem();
        service.ServiceItems.Add(serviceItem1);
        service.ServiceItems.Add(serviceItem2);

        context.SaveChanges();
    } 
    ```

    EF 在此处识别（当`SaveChanges`被调用时）`service`已连接但其他实体未连接。没有 INSERT`service`发生，但`serviceItem1/2`将与关系条目一起插入。

*   `service`已经存在并且不应该被插入，所有`serviceItem`的 s 已经存在并且不应该被插入，但是实体之间的关系应该被插入到连接表中：

    ```
    using (var context = new MyContext())
    {
        var service = new Service { ServiceID = 15 };
        context.Services.Attach(service);

        var serviceItem1 = new ServiceItem { ServiceItemID = 23 };
        context.ServiceItems.Attach(serviceItem1);

        var serviceItem2 = new ServiceItem { ServiceItemID = 37 };
        context.ServiceItems.Attach(serviceItem2);

        service.ServiceItems.Add(serviceItem1);
        service.ServiceItems.Add(serviceItem2);

        context.SaveChanges();
    } 
    ```

*   为了完整性：如何*删除*现有实体之间的关系？

    ```
    using (var context = new MyContext())
    {
        var service = context.Services
            .Include(s => s.ServiceItems) // load the existing Items
            .Single(s => s.ServiceID == 15);

        var serviceItem1 = service.ServiceItems
            .Single(s => s.ServiceItemID == 23); // query in memory, no DB query
        var serviceItem2 = service.ServiceItems
            .Single(s => s.ServiceItemID == 37); // query in memory, no DB query

        service.ServiceItems.Remove(serviceItem1);
        service.ServiceItems.Remove(serviceItem2);

        context.SaveChanges();
    } 
    ```

    连接表中将服务 15 与 serviceItem 23 和 37 链接的两个关系行将被删除。

`Attach`或者，您可以从数据库中加载现有实体，而不是调用。它也将起作用：

```
var service = context.Services.Single(s => s.ServiceID == 15); 
```

现有`ServiceItem`的 s 也是如此。

# cuda - SIMT 和 SIMD 中的控制流发散

> ID：14098602
> 
> 赞同：7
> 
> 时间：2012-12-31T07:08:15.080
> 
> 标签：cuda, sse, simd

我正在阅读[这](https://rads.stackoverflow.com/amzn/click/com/0124159923)本书来深入研究 CUDA 的概念。在其中一章中，它介绍了 SIMT 的概念，它说

> 与 SSE 相比，SIMT 中控制流发散的选项还简化了程序员使用额外指令来处理控制流的要求。

我知道这个声明是基于 SSE 工作于 SIMD 实现技术和 CUDA 线程工作于 SIMT 原理的事实，但任何人都可以使用一些示例详细说明/解释这句话。提前致谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-31T08:56:44.940

使用 SIMD，如果您有一个例程需要以与其他元素不同的方式处理某些元素，那么您需要明确处理屏蔽操作，以便它们仅应用于正确的元素。使用 CUDA 的 SIMT 架构，您可以在每个线程上获得控制流的*错觉*，因此您不需要显式屏蔽操作 - 当然，这仍然发生在“幕后”，但程序员的负担减轻了。

示例：假设您要将所有负元素设置为零。在 CUDA 中：

```
if (X[tid] < 0)
    X[tid] = 0;    // NB: CUDA core steps through this instruction but only executes
                   //     it if the preceding condition was true 
```

在 SIMD (SSE) 中：

```
__m128 mask = _mm_cmpge_ps(X, _mm_set1_ps(0));  // generate mask for all elements >= 0
X = _mm_and_ps(X, mask);                        // clear all elements which are < 0 
```

# php - 单个数据库中的多个类似应用程序

> ID：14098606
> 
> 赞同：0
> 
> 时间：2012-12-31T07:08:36.213
> 
> 标签：php, mysql, codeigniter

我正在使用codeigniter。我仅限于 1 个 mysql 数据库。

如果我有一个包含许多表的 Web 应用程序供 1 家公司使用。我会像这样访问它：

[http://www.abc.com/login](http://www.abc.com/login)

[http://www.abc.com/member/sales.php](http://www.abc.com/member/sales.php)

如果我想在同一个数据库中为其他公司使用同一个应用程序，我应该如何进行？以及如何使用 codeigniter 访问它？我似乎无法弄清楚。非常感谢您的指导。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:22:11.343

我想在您的情况下，codeignitor 仅仅是一个开发框架，因此尝试创建一个带有公司名称的单独表，并使用公司表的 PID 来识别与公司相关的所有记录。

或者，如果创建模式不是问题，而不是 codeignitor 为您提供一次连接多个数据库的工具，请通过以下链接 -

[“连接到多个数据库”](http://www.codeignitor.com/user_guide/database/connecting.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:26:10.260

尝试使用公司名称的前缀创建一个表名，这将使表名也清晰......在代码中，您可以轻松地识别带有前缀的名称。

# javascript - 加载 .js 文件时如何执行 js 函数调用？

> ID：14098609
> 
> 赞同：0
> 
> 时间：2012-12-31T07:08:51.210
> 
> 标签：javascript, jquery

我有以下函数调用：

```
Layout.Controls.sidebar(Button.Add);
Layout.Controls.sidebar(Button.Init);
Layout.Controls.printScreen(Button.Add);
Layout.Controls.theme(Button.Add);
Layout.Controls.theme(Button.Init); 
```

我将调用放在 .js 文件中。但是我怎样才能做到这一点，以便在加载 .js 文件时执行这些调用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:41:02.000

您使用元素放入页面的所有脚本都会`<script>`在可用时按顺序执行。

对于内联脚本 ( `<script>alert(1);</script>`) 或从外部文件导入的脚本 ( `<script src="somefile.js"></script>`) 也是如此。

您不必做任何特别的事情：您在外部 js 文件中的代码将在加载后立即执行。

# javascript - 在单独的 div 中更改鼠标悬停图像上的两个 div 内容

> ID：14098613
> 
> 赞同：0
> 
> 时间：2012-12-31T07:08:54.627
> 
> 标签：javascript, jquery, html, mouseover, getelementbyid

我正在尝试使用带有链接的按钮图像更改两个（预览）`div`元素。`mouseover`

其中一个预览 div 将显示一张图片，我希望将其链接到特定网站

button-image`mouseover`在 CSS 中也有一个函数类。

我可能会补充说，将有多个图像来使用这个函数，每个图像都有一个自己的 div 和一个类，我认为这在语义上不正确，因为它应该在使用排序列表时（但我稍后会担心）

另外我想补充一下，我是脚本新手，但渴望学习。

on `mouseout`or`click`不重要，当前（预览）内容可能保持与 last 一样`mouseover`。

目前，预览 div 内容的更改是通过将 document.getElementById 添加到锚点并将 img 分别添加到每个按钮，如以下混乱代码中所述，但我正在寻找一种更简洁的方法，例如使用 javascript 或 jquery 并使用 vars 和使预览图像可点击并链接到预览站点 **[编辑：]此代码确实可以使预览图像成为链接[/编辑]**

如果我可以从外部文件加载每个预览图像和文本，那就太好了

```
<div class="btn">

 <a href="http://www.previewed_site.com" target="_blank"
 onmouseover="document.getElementById('preview_text_content')
 .innerHTML = 'a short preview description here';">

  <img onmouseover="document.getElementById('preview_img_content')
  .innerHTML = '<a href=\'http://www.previewed_site.com\'>
  <img src=\'preview.jpg\' /></a>';" src="btn.png" width="100px"
  height="40px" alt="mysite.com" /> 

 </a>
</div> 
```

btn mouseover 的 CSS （就像我想要的那样工作，但在此处添加以供参考）：

```
.btn {
    position relative;
    overflow: hidden;
    z-index: 1;
    top: 5px;
    width: 100px;
    height:40px;
}
.btn a { 
    display:block; 
    width:100px; 
    height:40px; 
    z-index: 100;
}
.btn a:hover { 
    background: url(btn_hover.png);
} 
```

一些建议或一些示例代码的链接将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:30:39.127

给你..使用jquery ...

**HTML**

```
<div class="btn">
   <a href="http://www.previewed_site.com" target="_blank" >
     <img src="btn.png" width="100px" height="40px" alt="mysite.com" /> 
   </a>
</div> 
```

使用 jquery，您可以在选定元素上使用[鼠标悬停](http://api.jquery.com/mouseover/)功能。选择器的 jquery 文档在[这里](http://api.jquery.com/category/selectors/)

**查询**

```
$(document).ready(function(){   //recommened you to use script inside document.ready always
$(".btn  a").mouseover(function(){  //selecting element with "<a>" tag inside an element of class "btn"
     $('#preview_text_content') .html('a short preview description here'); //getting an element with an id "preview_text_content" and repalcing its html with jquery html() ;
})

$(".btn  img").mouseover(function(){
  $('#preview_img_content').html('<a href=\'http://www.previewed_site.com\'><img src=\'preview.jpg\' /></a>'); //similar as above

});
}); 
```

* * *

**更新**

动态加载图像 n 文本...使用[数据属性](http://ejohn.org/blog/html-5-data-attributes/)

**HTML**

```
//first image
<a href="http://www.previewed_site.com" target="_blank" data-text_content="a short preview description here">
   <img src="btn.png" width="100px" height="40px" alt="mysite.com" data-img_content="preview.jpg"/>
</a>
//second image
<a href="http://www.previewed_site.com" target="_blank" data-text_content="a short preview description here 2">
   <img src="btn.png" width="100px" height="40px" alt="mysite.com" data-img_content="preview2.jpg"/>
</a> 
```

**查询**

```
$(document).ready(function(){   
  $(".btn  a").mouseover(function(){  
   $('#preview_text_content') .html($(this).data('text_content')); 
 })

$(".btn  img").mouseover(function(){ 
   var imgContent='<a href=\'http://www.previewed_site.com\'><img src=\''+$(this).data('img_content') +'\' /></a>';
   $('#preview_img_content').html(imgContent); 

 });
}); 
```

* * *

**或者**

您始终可以使用功能来清除代码并使其易于理解..

**HTML**

```
<div class="btn">

 <a href="http://www.previewed_site.com" target="_blank" onmouseover="linkMouseoverFunction()">

  <img onmouseover="imgMouseoverFunction()" src="btn.png" width="100px" height="40px" alt="mysite.com" /> 
```

**JAVASCRIPT**

```
 function linkMouseoverFunction()
 {
    document.getElementById('preview_text_content').innerHTML = 'a short preview description here';
 }

function imgMouseoverFunction()
{
   document.getElementById('preview_img_content').innerHTML = '<a href=\'http://www.previewed_site.com\'><img src=\'preview.jpg\' /></a>';
} 
```

# python - 在 os.path.isdir 中附加两个变量

> ID：14098620
> 
> 赞同：1
> 
> 时间：2012-12-31T07:09:52.593
> 
> 标签：python

我正在尝试附加两个变量 BUILD_ROOT_DIR 和 W_ROOT 并检查此目录是否存在，如果不引发标志...在附加时遇到以下语法错误..这里有什么问题？

```
if(os.path.isdir(BUILD_ROOT_DIR + W_ROOT))
    raise

    if(os.path.isdir(BUILD_ROOT_DIR + W_ROOT))
                                            ^
SyntaxError: invalid syntax 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T07:15:34.120

您需要一个冒号来结束`if`语句（不需要括号）：

```
if os.path.isdir(BUILD_ROOT_DIR + W_ROOT):
    raise 
```

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2012-12-31T07:18:05.790

上帝给了你 ':' 来结束一个*if*子句，他还告诉你：把这个 Python 教程放在你的枕头下，然后在睡觉前通宵阅读。

[http://docs.python.org/2/tutorial/controlflow.html#if-statements](http://docs.python.org/2/tutorial/controlflow.html#if-statements)

# java - 如何解决socketClosed异常

> ID：14098621
> 
> 赞同：-1
> 
> 时间：2012-12-31T07:09:59.887
> 
> 标签：java, network-programming

我正在实现一个简单的聊天应用程序。服务器必须监听多个客户端，并且服务器必须将一个客户端输入的数据发送给连接到该服务器的所有客户端。我已经通过以下代码实现了这一点。出乎意料的是，我得到了**java.net.SocketException: socket closed**。任何人都可以解决此异常并告诉我必须在哪里修改代码以将数据发送给所有客户端。

**客户端.java**

```
 import java.io.*;
 import java.net.*;
 import java.util.*;
 class Client {
    public static void main(String args[]) {
       try {
        InetAddress addr = InetAddress.getByName("172.26.45.132");
        Socket skt = new Socket(addr, 1234);
        PrintWriter out  = new PrintWriter(skt.getOutputStream(),true);
        BufferedReader br = new BufferedReader(new InputStreamReader(skt.getInputStream()));
        Scanner sc = new Scanner(System.in);
        String msg="";
         while (msg!="exit") {
         msg= sc.next();
         out.println(msg);
         System.out.println("from Server"+br.readLine());
}
     br.close();
out.close();
  }
  catch(Exception e) {
     System.out.print("Whoops! It didn't work!\n");
  }
 }
 } 
```

**服务器.java**

```
 import java.io.*;
   import java.net.*;
   class Server {
 public static ListenClient clients[] = new ListenClient[3];
public static int clientCount = 0;
 public static void main(String args[]) {
  try {
     ServerSocket srvr = new ServerSocket(1234);
     Socket skt;
     System.out.print("Server has connected!\n");
     while(clientCount < 3){
    skt = srvr.accept();
    clients[clientCount] = new ListenClient(skt,clientCount);
    Thread t = new Thread(clients[clientCount]);
    clientCount++;
    t.start();
     }
  }
  catch(Exception e) {
System.out.println(e);
     System.out.print("Whoops! It didn't work!\n");
  }
    }
 }

   class ListenClient extends Server implements Runnable{
Socket sc;
int id;
ListenClient(Socket sc, int id){
    this.sc=sc;
    this.id = id;
}
public void run(){
    try{
        BufferedReader br = new BufferedReader(new InputStreamReader(sc.getInputStream()));
        String msg="";
        while((msg=br.readLine())!=null)   
          {   
             PrintWriter clientsOut;
           for(int j = 0 ; j<=clientCount-1; j++){
            clientsOut = new PrintWriter(clients[j].sc.getOutputStream(),true);
            clientsOut.println(msg);
            clientsOut.close();
          }
         }
    }
    catch(Exception e){
        System.out.println(e);
    }
} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:22:43.857

SocketClosedException 表示*您*已经关闭了套接字，然后继续使用它。关闭输入或输出流会关闭套接字和另一个流。因此，在读取输入的循环内关闭输出是没有意义的。

# javascript - 像在 jQuery 中浏览文件之类的东西

> ID：14098622
> 
> 赞同：1
> 
> 时间：2012-12-31T07:10:07.950
> 
> 标签：javascript, jquery, jquery-selectors, jquery-events

我想创建一个页面，比如浏览文件。现在我有这个问题：我在这个页面中有一些链接，它们是文件夹和文件，还有一个“打开”按钮。我希望当用户按下一个键时，选择以该字符开头的第一个链接（文件/文件夹）。我还希望当用户双击每个链接或单击每个链接并按“打开”按钮时，我会显示所选文件夹的内容，或者如果这是文件，我希望关闭窗口。现在我想知道如何理解单击“打开”按钮时选择了哪个项目？

```
<script type="text/javascript">
        function func(id){
            var label = $('<label/>').text(id).appendTo($('#div_for_labels'));
            $('#div_show').html('waiting...').load('learning/?ajax=true&path='+id);
        }

        $('openButton').click(function(e){
            e.preventDefault();
            ???
        })
    </script>

            <div id="div_for_labels"></div>
            <div id="div_show">
            {% for f_name, f_type in list %}
                    {% if f_type == 'folder' %}
                        <p><a ondblclick="func(this.id)" id="{{ f_name }}" class="res"><img src="/media/img/folder.jpeg">{{ f_name }}</a></p>
                    {% else %}
                        <p><a ondblclick="func(this.id)" id="{{ f_name }}" class="res"><img src="/media/img/file.jpeg">{{ f_name }}</a></p>
                    {% endif %}
            {% endfor %}
            </div>
            <div>
                <input type="submit" id="openButton" value="Open">
            </div> 
```

我不知道我应该在“打开”按钮上写什么脚本来了解选择了哪个项目并将其 id 发送到我的视图？

编辑：
我的views.py：

```
def learning(request):
    if request.is_ajax():
            if 'path' in request.GET:
                # receives list
                return render_to_response("path.html",{'list': list})
            else:
                # receives list
                return render_to_response("learningPath.html",{'list': list}) 
```

第一次进入“learning.html”页面，其中包含标签的 div 和“打开”按钮。其他时候，由于防止标签和“打开”按钮重复 div，它转到“path.html”，其中仅包含：

```
{% for f_name, f_type in list %}
                        {% if f_type == 'folder' %}
                            <p><a ondblclick="func(this.id)" id="{{ f_name }}" class="res"><img src="/media/img/folder.jpeg">{{ f_name }}</a></p>
                        {% else %}
                            <p><a ondblclick="func(this.id)" id="{{ f_name }}" class="res"><img src="/media/img/file.jpeg">{{ f_name }}</a></p>
                        {% endif %}
                {% endfor %} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:28:38.133

不要混合 HTML 和 JavaScript，只要用 jQuery 做所有事情。

```
<script type="text/javascript">
$(function() {
   var _loadFile = function(file) {
     if (file.type == 'folder') {
       var label = $('<label/>').text(file.name).appendTo($('#div_for_labels'));
       $('#div_show').html('waiting...').load('learning/?ajax=true&path='+file.name);
     } else {
        // load file here
     }
   };

   var _selectedFile = null;  // nothing selected;

   // using '#div_show' as relative parent, fetch all 'a.res' elements...
   $('a.res', $('#div_show')).live({  // bind now and any future elements
       dblclick: function() {
           var $this = $(this);
           _loadFile($this.data('file'));
       },
       click: function() {
           var $this = $(this);
           $('#div_show a.res.file-selected').removeClass('file-selected'); // remove old selection (if any)
           $this.addClass('file-selected');

           _selectedFile = $this.data('file');
       }
   });

   $('openButton').click(function(e){
      e.preventDefault();

      if (_selectedFile) {
         _loadFile(_selectedFile);
      } else {
         alert("No file selected");
      }
   })
});
</script>

<div id="div_for_labels"></div>
<div id="div_show">
   {% for f_name, f_type in list %}
       <p><a data-file="{'name':'{{ f_name }}', 'type':'{{ f_type }}'}" class="res"><img src="/media/img/{{ f_type }}.jpeg">{{ f_name }}</a></p>
   {% endfor %}
</div>
<div>
   <input type="submit" id="openButton" value="Open">
</div> 
```

**注意**：我假设`f_type`是`folder`or `file`。

****编辑****

您的`path.html`文件应该只包含上面提到的 HTML 块：

```
{% for f_name, f_type in list %}
   <p><a data-file="{'name':'{{ f_name }}', 'type':'{{ f_type }}'}" class="res"><img src="/media/img/{{ f_type }}.jpeg">{{ f_name }}</a></p>
{% endfor %} 
```

# clojure - Clojure 字符串拆分导致 IllegalArgumentException

> ID：14098623
> 
> 赞同：0
> 
> 时间：2012-12-31T07:10:08.577
> 
> 标签：clojure

CLOJURE

大家好，我是clojure的新手。我想用拆分字符串更新我的记录。

```
(defrecord Learning [Name Age Gender])
(def person [:Name :Age :Gender])

(let person 
(clojure.string/split "John,12,Male" #",")) 
```

我能够拆分字符串，但它会引发异常 `IllegalArgumentException let requires a vector for its binding in ShipDataRecord:1 clojure.core/let (core.clj:3965)`

有人可以解释一下我应该如何去做吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T08:47:02.367

看来你错过了很多。

首先，你使用`def`了错误的方式。clojure 中的所有变量都是不可变的。所以，在你定义了一些变量之后，你不能改变它的值，但是你可以在任何本地上下文中使用新值重新绑定它`let`。

其次，您对 let 的使用不正确。尝试阅读[Clojure 文档](http://clojuredocs.org/clojure_core/clojure.core/let)：

```
(let [x 1]
     x) 
```

`let`通过将一些变量与新值绑定来创建新的上下文。`[x 1]`意味着您将值 1 绑定到变量 x。但在`let`x 之外不会改变。

你想做的是：

```
(defrecord Learning [Name Age Gender])

(def person
  (apply ->Learning
         (clojure.string/split "John,12,Male" #","))) 
```

# sql-server - 无法循环 FOR XML AUTO 结果

> ID：14098635
> 
> 赞同：0
> 
> 时间：2012-12-31T07:10:49.903
> 
> 标签：sql-server, xml, xslt, xslt-1.0

我正在通过存储过程从数据库中获取一些数据，并且我正在使用 FOR XML AUTO 来获取这些数据。查询是这样的

```
WHERE ITEMNUMBER=@itemid AND DATASET = @dataset FOR XML AUTO, ELEMENTS) AS filters 
```

结果 xml 是

```
 <filters extra="filters">
    <ISP_WebItem>
      <FILTER>Type</FILTER>
      <FILTERNAME>Matematik</FILTERNAME>
      <UNITCODE></UNITCODE>
    </ISP_WebItem>
    <ISP_WebItem>
      <FILTER>Strømkilde</FILTER>
      <FILTERNAME>Solceller</FILTERNAME>
      <UNITCODE></UNITCODE>
    </ISP_WebItem>
  </filters> 
```

现在我的问题是，当我尝试在我的 xslt 中循环这个结果时，我无法得到任何结果。我的 XSLT 代码是这样的

```
 <xsl:variable name="filt" select="msxsl:node-set(filters)"/>   
<xsl:for-each select="$filt/ISP_WebItem">   
  <xsl:copy-of select="FILTER"/>
</xsl:for-each> 
```

我在我的 'filt' 变量中正确获取了过滤器 xml，但是 for each 循环永远不会正确执行。当我尝试在我的代码中放置断点时，我注意到代码执行永远不会进入循环内部，这意味着

```
 <xsl:for-each select="filt/ISP_WebItem"> 
```

这段代码永远无法满足。对于额外信息，此过滤器节点是大型 XML 数据的一部分，此数据中的所有其他节点都正常工作（即我可以循环或对它们进行任何操作）。任何人都可以提出任何可能的原因。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:37:56.117

XSLT 有两个问题。首先，**filt**是一个变量，因此您需要在它前面加上一个 $ 来表示这一点，否则 XSLT 将寻找一个名为**filt的元素**

```
<xsl:for-each select="$filt/ISP_WebItem"> 
```

其次，在您的 XML 示例中，**FILTER**是一个元素，但您的**xsl:copy-of**语句正在寻找一个名为“FILTER”的属性。你应该这样做

```
<xsl:copy-of select="FILTER"/> 
```

但是，如果它是一个属性，请将其保留为`<xsl:copy-of select="@FILTER"/>`

例如，此 XSLT 可以工作

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:msxsl="urn:schemas-microsoft-com:xslt" extension-element-prefixes="msxsl">
   <xsl:output method="xml" indent="yes"/>
   <xsl:template match="/">
      <xsl:variable name="filt" select="msxsl:node-set(filters)"/>
      <xsl:for-each select="$filt/ISP_WebItem">
         <xsl:copy-of select="FILTER"/>
      </xsl:for-each>
   </xsl:template>
</xsl:stylesheet> 
```

事实上，如果你只是想复制元素，而不是别的，你可以删除**xsl:for-each**并将其简化为

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:msxsl="urn:schemas-microsoft-com:xslt" extension-element-prefixes="msxsl">
   <xsl:output method="xml" indent="yes"/>
   <xsl:template match="/">
      <xsl:variable name="filt" select="filters"/>
      <xsl:copy-of select="$filt/ISP_WebItem/FILTER"/>
   </xsl:template>
</xsl:stylesheet> 
```

但是，我不太确定您是否需要在这种情况下使用**节点集**（尽管我猜您只是展示了一个简化的代码示例，所以可能在其他地方有必要）。

以下也将起作用

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:msxsl="urn:schemas-microsoft-com:xslt" extension-element-prefixes="msxsl">
   <xsl:output method="xml" indent="yes"/>
   <xsl:template match="/">
      <xsl:for-each select="filters/ISP_WebItem">
         <xsl:copy-of select="FILTER"/>
      </xsl:for-each>
   </xsl:template>
</xsl:stylesheet> 
```

**编辑：**如果您仍然遇到问题，请尝试以下其中一种表达方式。

```
<xsl:for-each select="$filt//ISP_WebItem"> 
```

# mysql - 设置表选项中缺少的自动增量值

> ID：14098637
> 
> 赞同：0
> 
> 时间：2012-12-31T07:10:57.403
> 
> 标签：mysql, phpmyadmin

我想将自动增量值设置为某个值。

我使用 phpMyAdmin 来管理数据库。

但是在子标题表选项下的操作选项卡中缺少该字段。

表结构如下

```
CREATE TABLE IF NOT EXISTS `users` (
  `uid` int(10) unsigned NOT NULL COMMENT 'Primary Key: Unique user ID.',
  `name` varchar(60) NOT NULL DEFAULT '' COMMENT 'Unique user name.',
  `pass` varchar(128) NOT NULL DEFAULT '' COMMENT 'User’s password (hashed).',
  `mail` varchar(254) DEFAULT '' COMMENT 'User’s e-mail address.',
  `theme` varchar(255) NOT NULL DEFAULT '' COMMENT 'User’s default theme.',
  `signature` varchar(255) NOT NULL DEFAULT '' COMMENT 'User’s signature.',
  `signature_format` varchar(255) DEFAULT NULL COMMENT 'The filter_format.format of the signature.',
  `created` int(11) NOT NULL DEFAULT '0' COMMENT 'Timestamp for when user was created.',
  `access` int(11) NOT NULL DEFAULT '0' COMMENT 'Timestamp for previous time user accessed the site.',
  `login` int(11) NOT NULL DEFAULT '0' COMMENT 'Timestamp for user’s last login.',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT 'Whether the user is active(1) or blocked(0).',
  `timezone` varchar(32) DEFAULT NULL COMMENT 'User’s time zone.',
  `language` varchar(12) NOT NULL DEFAULT '' COMMENT 'User’s default language.',
  `picture` int(11) NOT NULL DEFAULT '0' COMMENT 'Foreign key: file_managed.fid of user’s picture.',
  `init` varchar(254) DEFAULT '' COMMENT 'E-mail address used for initial account creation.',
  `data` longblob COMMENT 'A serialized array of name value pairs that are related to the user. Any form values posted during user edit are stored and are loaded into the $user object during user_load(). Use of this field is discouraged and it will likely disappear in a future...',
  PRIMARY KEY (`uid`),
  UNIQUE KEY `name` (`name`),
  KEY `access` (`access`),
  KEY `created` (`created`),
  KEY `mail` (`mail`),
  KEY `picture` (`picture`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='Stores user data.'; 
```

但是对于同一服务器中的其他数据库，我可以看到这个选项。

有人可以告诉它为什么丢失吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:18:20.563

我不知道是否可以通过*操作*添加 auto_increment，但是如果您转到表的*结构*，请在要更改的列上选择*更改*，有一个名为 a_i 的复选框，表示 auto_increment。检查并按*保存*，您的列将具有 auto_increment。

# python - Python - 描述符“split”需要一个“str”对象但收到一个“unicode”

> ID：14098638
> 
> 赞同：10
> 
> 时间：2012-12-31T07:11:19.933
> 
> 标签：python

呃，我有现成的代码，我确信它确实有效，但我收到以下错误：

> TypeError：描述符“split”需要一个“str”对象但收到一个“unicode”

这就是整个定义：

```
def assemblePacket(self, type):
    ipSplit = str.split(self.serverVars[0], '.')

    packet = 'SAMP'
    packet += chr(int(ipSplit[0]))
    packet += chr(int(ipSplit[1]))
    packet += chr(int(ipSplit[2]))
    packet += chr(int(ipSplit[3]))
    packet += chr(self.serverVars[1] & 0xFF)
    packet += chr(self.serverVars[1] >> 8 & 0xFF)
    packet += type

    return packet 
```

这就是问题所在：

```
ipSplit = str.split(self.serverVars[0], '.') 
```

我确定这不是因为代码，我之前尝试过（相同的脚本）并且它有效。不知道为什么现在没有。这个“unicode”让我觉得我必须改变“str.split”，但是嗯。等待意见:)

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-12-31T07:56:55.330

正如@Abe 提到的，这里的问题是，您正在使用[str.split](http://docs.python.org/2/library/stdtypes.html#str.split)来拆分`unicode`导致失败的类型的对象。

三个选项供您选择

1.  在这种特殊情况下，您可以简单地调用`split()`对象的方法。这将确保无论对象 ( `str`, `unicode`) 的类型如何，方法调用都会正确处理它。
2.  您也可以调用`unicode.split()`. 这适用于`unicode`字符串，但对于`non-unicode`字符串，这将再次失败。
3.  最后，您可以导入[字符串](http://docs.python.org/2/library/string.html#module-string)模块并调用[string.split](http://docs.python.org/2/library/string.html#string.split)函数。此函数将`split()`函数调用转换为方法调用，因此`split()`无论对象类型如何，您都可以透明地调用。当您将`split()`as 回调 esp 用于类似的函数时，这很有用`map()`

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-12-31T07:14:23.813

问题是这`str.split`是`str`类的方法，但正在为`unicode`类的对象调用。直接调用该方法，`ipSplit = self.serverVars[0].split('.')`使其适用于任何具有方法的东西（包括`str`and `unicode`）`split`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-10-19T10:41:22.417

使用`isdigit`. 如果您处于类似的解决方案中，您可以尝试类似的`try`-`except`块

```
try:
    output += filter(str.isdigit, some_string)
except TypeError:
    output += filter(unicode.isdigit, some_string) 
```

# sql-server - 从数据库中打开文件以在 asp.net mvc 中进行编辑

> ID：14098647
> 
> 赞同：0
> 
> 时间：2012-12-31T07:12:33.803
> 
> 标签：sql-server, asp.net-mvc

我需要打开一个存储在数据库中的文件以进行编辑，当我保存文档时它应该被保存回数据库中。例如，如果一个word文件存储在数据库中，我想打开它并编辑它，然后通过ctrl+s再次保存。我知道使用“文件”方法可以打开它。但是如何将编辑后的文件存储回数据库而无需再次上传。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:26:22.173

您可以使用关系数据库映射器，例如[NHibernate](http://nhforge.org/)，因为您使用[关系数据库](http://en.wikipedia.org/wiki/Relational_database)来存储这些文件。

然后您只需附加实体，这些实体将在数据库中更新

```
SubmitChanges() 
```

称呼。

虽然，我强烈建议研究[面向文档的数据库](http://en.wikipedia.org/wiki/Document-oriented_database)。

# android - Android Java TCP 客户端服务器文件传输

> ID：14098648
> 
> 赞同：3
> 
> 时间：2012-12-31T07:12:34.700
> 
> 标签：android, tcpclient

编辑* 我在客户端服务器上成功了。现在我正在两个模拟器之间传输文件。该文件确实在模拟器之间传输，但我注意到收到的文件大小与原始文件不同。例如，A.jpg 大小为 900KB，但接收到的文件小于 900KB。我检查了文件传输大小，发现传输时丢失了一些数据（字节）。这是怎么回事？

这是代码：

客户端（发送文件）

```
File myFile = new File ("/mnt/sdcard/Pictures/A.jpg");
FileInputStream fis = new FileInputStream(myFile);
OutputStream os = socket.getOutputStream();
int filesize = (int) myFile.length();

byte [] buffer  = new byte [filesize];
     int bytesRead =0;
     while ((bytesRead = fis.read(buffer)) > 0) {
     os.write(buffer, 0, bytesRead);
//Log display exact the file size
     System.out.println("SO sendFile" + bytesRead);
     }
     os.flush();
     os.close();
     fis.close();
     Log.d("Client", "Client sent message");
     socket.close(); 
```

服务器（接收文件）

```
FileOutputStream fos = new FileOutputStream("/mnt/sdcard/Pictures/B.jpg");
@SuppressWarnings("resource")
BufferedOutputStream bos = new BufferedOutputStream(fos);
InputStream is = clientSocket.getInputStream();

byte[] aByte = new byte[1024];
int bytesRead;
while ((bytesRead = is.read(aByte)) != -1) 
{
     bos.write(aByte, 0, bytesRead);
//Log display few parts the file size is less than 1024\. I total up, the lost size caused the file received is incomplete
     System.out.println("SO sendFile" + bytesRead);
 }
clientSocket.close(); 
```

*编辑 2

当我浏览谷歌时，我发现 .read(buffer) 不能保证读取文件的完整大小（字节）。因此，接收到的文件总是丢失一些字节（如空格、空字符）。为了解决这个问题，首先发送文件大小通知接收方，然后才开始传输文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:20:08.803

`NetworkOnMainThreadException` 发生是因为您必须使用[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)

`NullPointerException`发生是因为您尝试使用`PrintWriter`Sockets 的结果。由于您对 Sockets 一无所知，因此您会收到此错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:15:35.467

[`NetworkOnMainThreadException`](http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html)告诉你你做错了什么。

您需要将网络内容放入单独的线程（`AsyncTask`或类似线程）中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T07:24:56.010

您不能在 Android 的主线程上调用任何服务器操作。在 Android OS 4.0 及更高版本中，这将直接导致**NetworkOnMainThreadException**。您有 2 个选择：

1）要么使用**AsyncTask**调用您的每个服务器操作。

2）或使用**用户定义的线程**进行任何类型的服务器操作。

我也在为这个异常而苦苦挣扎，只在4.0以上的OS版本的设备中，所以你不能忽视Android的这些小需求。

# javascript - 无法以编程方式扩展 liferay 会话

> ID：14098654
> 
> 赞同：0
> 
> 时间：2012-12-31T07:12:54.490
> 
> 标签：javascript, ajax, session, liferay

我一直在寻找一种解决方案，当我在我的页面上进行 AJAX 调用时，我可以使用它来扩展 liferay 会话。我发现我们可以使用 Liferay.session.extend() 来扩展 liferay 会话。这是我[在执行 AJAX 调用时在 Liferay 的扩展会话中发现的](https://stackoverflow.com/questions/9509960/extend-session-of-liferay-when-performing-ajax-call)

但我无法调用扩展方法，在控制台中我收到错误 Liferay.session 未定义。

会有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T13:25:59.433

如果您在 JSP 中进行调用，则可以在标签内进行调用，`<aui:script>`如下所示：

```
<aui:script use="liferay-session">
    Liferay.session.extend();
</aui:script> 
```

或者

```
<aui:script use="liferay-session">
    function myCustomSessionExtend() {
        Liferay.session.extend();
    }
</aui:script> 
```

* * *

或者，如果您使用的是**单独的 javascript 文件**( `*.js`)，那么我认为以下内容应该有效：

```
AUI().use('liferay-session', function(A) {
    Liferay.session.extend();
}); 
```

或者

```
function myCustomSessionExtend() {

    AUI().use('liferay-session', function(A) {
        Liferay.session.extend();
    });

} 
```

从 Liferay 6.0 开始，Liferay 使用 Alloy UI 作为默认的 javascript 库。Alloy UI 具有**沙盒**（`AUI().use (function(A) { ... });`创建沙盒，即对象的隔离区域）和**模块化**（仅在需要时加载模块，因此`liferay-session`使用 Alloy UI 创建的此类模块）的概念。

有关更多信息，您可以查看[此博客](http://www.liferay.com/web/nathan.cavanaugh/blog/-/blogs/alloyui-working-with-elements-and-events)和[此文档](http://www.liferay.com/c/document_library/get_file?groupId=14&folderId=11324913&name=175608 "合金UI介绍")。

希望这将有助于解决您的问题。

# git - 什么是远程存储库上的 Git 链接

> ID：14098657
> 
> 赞同：0
> 
> 时间：2012-12-31T07:13:16.097
> 
> 标签：git, command-line, ssh, git-remote

我是新手`git`。我一直在努力使 git push 到我的远程存储库。我有一个带有 cPanel 的网站。我可以`ssh`访问并且我使用了来自[cPanel 论坛](http://forums.cpanel.net/f391/installing-git-294411.html)的命令。

我使用这一系列步骤安装`git`到我的远程服务器，该服务器与最新`git`版本完美安装：

```
cd ~
wget http://git-core.googlecode.com/files/git-1.7.9.2.tar.gz
tar zxvf git-1.7.9.2.tar.gz
cd git-1.7.9.2
./configure --prefix=/home/$USER
make
make install
echo 'PATH=$PATH:$HOME/bin' >> $HOME/.bashrc
source $HOME/.bashrc 
```

我现在唯一的问题是，我放入`git`命令行的链接是什么，或者`tortoisegit`当我想要克隆、推送和拉取时？

来自 github 的示例：`git@github.com:username/try_git.git`

我认为适用于我的情况的示例：`name@website.com:directory/gitrepo.git`

更具体地说，以下代码行的作用是：

```
echo 'PATH=$PATH:$HOME/bin' >> $HOME/.bashrc
source $HOME/.bashrc 
```

我在我的域服务器上安装了 git，我也没有 root 访问权限，这就是我使用上面链接中的安装过程的原因。但是，当我尝试从我认为是文件路径的地方推送或克隆时，它不断给我以下错误：

```
Using username "git-upload-pack 'nathan".
Access denied
Access denied
Access denied
Access denied

fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.

git did not exit cleanly (exit code 128) (36910 ms @ 12/31/2012 8:03:02 AM) 
```

这可能是由使用 tortoiseGit 引起的吗？

我可能会问的另一个问题是，从仅安装了 git 的远程服务器克隆、推送或拉取的命令行示例是什么？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:25:35.470

尝试在您的代码中设置以下链接模式：

```
https://username@github.com/directory/projectname.git 
```

# meteor - 流星中的模板重用

> ID：14098662
> 
> 赞同：2
> 
> 时间：2012-12-31T07:14:06.567
> 
> 标签：meteor, handlebars.js

我正在尝试在我的 Meteor 应用程序中重用一些控制元素。我想要以下两个模板来切换不同表单的可见性和提交。

```
<template name='addControl'>
  <img class='add' src='/images/icon-plus.png' />
</template>

<template name='okCancelControl'>
  <img class='submit' src='/images/icon-submit.png' />
  <img class='cancel' src='/images/icon-cancel.png' />
</template> 
```

我将在另一个中调用这些模板：

```
<template name='insectForm'>
  {{#if editing}}
    <!-- form elements -->
    {{> okCancelControl}}
  {{else}}
    {{> addControl}}
  {{/if}}
</template> 
```

`editing`是一个`Session`布尔值。

**连接控件以显示、隐藏和“提交”表单的好方法是什么？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T02:10:40.073

主要问题是从控制模板（“提交”事件触发的地方）中找到 addInsect 模板（数据所在的地方）。这是我所做的：

首先，控件：

```
<template name='addControl'>
  <section class='controls'>
    <span class="add icon-plus"></span>
  </section>
</template>

<template name='okCancelControl'>
  <section class='controls'>
    <span class="submit icon-publish"></span>
    <span class="cancel icon-cancel"></span>
  </section>
</template> 
```

现在是javascripts。他们只是在单击时调用回调。

```
Template.addControl.events({
  'click .add': function(event, template) {
    if (this.add != null) {
      this.add(event, template);
    }
  }
});

Template.okCancelControl.events({
  'click .cancel': function(event, template) {
    if (this.cancel != null) {
      this.cancel(event, template);
    }
  },
  'click .submit': function(event, template) {
    if (this.submit != null) {
      this.submit(event, template);
    }
  }
}); 
```

`#with`然后我使用把手的块助手连接回调。

```
<template name='addInsect'>
  {{#with controlCallbacks}}
    {{#if addingInsect}}
      <section class='form'>
        {{> insectErrors}}
        <label for='scientificName'>Scientific Name <input type='text' id='scientificName' /></label>
        <label for='commonName'>Common Name <input type='text' id='commonName' /></label>
        {{> okCancelControl}}
      </section>
    {{else}}
      {{> addControl}}
    {{/if}}
  {{/with}}
</template> 
```

以及创建与此表单相关的回调的相应 javascript。

```
Session.set('addingInsect', false);

Template.addInsect.controlCallbacks = {
  add: function() {
    Session.set('addingInsect', true);
    Session.set('addInsectErrors', null);
  },
  cancel: function() {
    Session.set('addingInsect', false);
    Session.set('addInsectErrors', null);
  },
  submit: function() {
    var attrs, errors;
    attrs = {
      commonName: DomUtils.find(document, 'input#commonName').value,
      scientificName: DomUtils.find(document, 'input#scientificName').value
    };
    errors = Insects.validate(attrs);
    Session.set('addInsectErrors', errors);
    if (errors == null) {
      Session.set('addingInsect', false);
      Meteor.call('newInsect', attrs);
    }
  }
};

Template.addInsect.addingInsect = function() {
  Session.get('addingInsect');
};

Template.addInsect.events = {
  'keyup #scientificName, keyup #commonName': function(event, template) {
    if (event.which === 13) {
      this.submit();
    }
  }
}; 
```

在提交回调中我不得不使用`DomUtils.find`而不是`template.find`因为`template`是 okCancelControl 的一个实例，而不是 addInsect。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T12:38:19.763

你可以用`Session`这个。您只需要一个模板助手，它返回一个`boolean`标志，指示您是否正在编辑表单字段。并根据此模板助手设置的 Session 值操作 DOM。

假设您有一个文本输入，现在当您在其中输入文本时，将 Session 标志设置为`true`. 这将触发帮助程序返回 true `flag`，基于此，您的两个模板之一将在 DOM 中呈现。

`isEditing`是每当您更改 Session 值时触发的助手。这个辅助函数是这里的主要部分，它根据您设置的会话值返回真/假。

```
 Template.insectForm.isEditing = function(){
    if(Session.get('isEditing')){
     return true;
    }
    else{
     return false;
    }
 } 
```

请记住在启动时将 Session 设置`false`为：

```
$(document).ready(function(){
    Session.set('isEditing', false);
}) 
```

这将在 html 中呈现默认值`add template`，现在当您单击添加时，您需要显示另一个模板，为此，将 Session 设置为 true 为：

```
'click .add' : function(){
    Session.set('isEditing', true);
} 
```

因此，当您单击 CANCEL 时，将会话设置为`false`，这将`isEditing`返回`false`并显示默认值`add template`。

因此，您的完整 html 将如下所示：

```
<template name='insectForm'>    
  {{#if isEditing}}
    <!-- form elements -->
    <input type="text" id="text" value="">
    {{> okCancelControl}}
  {{else}}
    {{> addControl}}
  {{/if}}
</template>

<template name='addControl'>
  <img class='add' src='/images/icon-plus.png' />
</template>

<template name='okCancelControl'>
  <img class='submit' src='/images/icon-submit.png' />
  <img class='cancel' src='/images/icon-cancel.png' />
</template> 
```

**[更新]**

要获取模板的实例，您需要在表示模板的事件处理程序中传递附加参数。

因此，将您的事件处理程序更新为：

```
Template.insectForm.events = {
   'click .submit' : function(event, template){
      //your event handling code
   }
} 
```

该参数`template`是事件源自的模板的实例。

请注意，尽管事件从`okCancelControl`模板内的图像触发，但参数仍将包含`insectForm`模板的实例。这是因为我们将事件处理程序称为`Template.insectForm.events = {}`.

另请参阅[此答案](https://stackoverflow.com/questions/13931196/meteor-template-find-is-undefined/13945912#13945912)以获取模板实例。

# javascript - 在 post ajax 请求中传递代码文本

> ID：14098668
> 
> 赞同：1
> 
> 时间：2012-12-31T07:14:41.263
> 
> 标签：javascript, ajax, http-post

我正在使用纯 javascript 代码，并且正在使用 XMLHttpRequest 发送一个 post ajax 请求。我有一个带有 php 代码的文本变量（多行）。

如何将此变量传递给请求？（问题是新行和一些符号，如&）

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T07:34:54.723

您可以使用此示例并根据需要对其进行自定义

```
$.ajax({
  type: "POST",
  url: "some.php",
  data: { name: "John", location: "Boston" }
}).done(function( msg ) {
  alert( "Data Saved: " + msg );
}); 
```

您可以查看此页面以获取更多详细信息 [http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

------------ 这是 Java 脚本代码 --------------

```
var xmlhttp;
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
              xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
              xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.open("POST","ajax_test.php",true);
xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
xmlhttp.send("fname=Henry&lname=Ford"); // here you can send data 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:43:47.613

您需要使用[`encodeURIComponent`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/encodeURIComponent)javascript 函数对它们进行编码。例如：

```
var dataToPost = 'param1=' + encodeURIComponent(value1) + 
                 '&param2=' + encodeURIComponent(value2) + 
                 '&param3=' + encodeURIComponent(value3); 
```

现在这些值可以包含任何字符。它们将经过正确的 url 编码并且可以安全地与请求一起作为 POST 或 GET 发送。

# ruby-on-rails - rails 删除了 public/index.html，但它仍然显示为默认值，忽略根路由

> ID：14098669
> 
> 赞同：0
> 
> 时间：2012-12-31T07:14:43.873
> 
> 标签：ruby-on-rails, ruby, railstutorial.org

这可能有点傻，但在命名根路由后，我确实删除了默认的 public/index.html 文件。这是我的配置/routes.rb：

```
FirstApp::Application.routes.draw do    
  root to: 'static_pages#home'    
  match '/help', to: 'static_pages#help'    
  match '/about', to: 'static_pages#about'    
  resources :microposts    
  resources :users    
end 
```

只需学习 Rails 教程，就会发生这种情况。根肯定存在，因为`root_path`变量被创建并在 rspec 测试中使用。默认页面仍然显示，我不知道为什么......它应该没有什么可关闭的？这是rails服务器本身的问题吗？删除 index.html 文件后，我可能需要对其进行重置/重新配置？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:27:34.010

尝试重新启动服务器，并将其从版本控制中删除（如果它处于生产模式，它就在那里。）

```
$ ^C
$ rails server 
```

使用 git：

```
$ git rm public/index.html
# re-deploy 
```

# javascript - 存储和恢复事件处理程序

> ID：14098673
> 
> 赞同：4
> 
> 时间：2012-12-31T07:14:56.037
> 
> 标签：javascript, jquery, events, handler

请帮助修复我的功能，存储一个元素的事件并删除它们，然后重新安装；

不知道问题出在哪里，函数只会删除元素的事件，不会恢复。

请帮忙修复。

HTML

```
<a href="#" id="a">a</a>
<a href="#" id="b">b</a>​ 
```

JS

```
$("#a").hover(function(){alert("test")});

$("#b").click(function(){
    Test_Handle('#a');
}

function Test_Handle(id) {
         target = $(id);
        if($.hasData(target.get(0))){    //  if the elment has event || target = element
            target[0].event_name = [];
            target[0].event_handler = [];

            events = $._data(target.get(0), 'events');  // take all events of the element

            $.each(events, function(event_name, event_handler){ 
                target[0].event_name.push(event_name);
                target[0].event_handler.push(event_handler);
            });  //store the events

            target.off();  // delete the events
        }else{    // has the elment no event
            for(var i=0; i < target[0].event_handler.length; i++){
                target.on(target[0].event_name[i], target[0].event_handler[i]);
            }  // re-store the events

            target[0].event_name = [];
            target[0].event_handler = [];  //reset
        }
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T10:54:40.617

您几乎明白了，当您遍历事件时`event_handler`，实际上是该事件的处理程序数组（一个事件可以附加许多处理程序）。因此，您需要为每个事件将这些处理程序保存在一个数组中，以便稍后重新附加它们。

[试试这个](http://jsfiddle.net/JELsT/4/)：

```
function Test_Handle(id) {
    target = $(id);
    events = $._data(target[0], 'events');
    if(events!=undefined){   
        target[0].event_name = [];
        target[0].event_handler = [];        
        $.each(events, function(event_name, event_handler){
            target[0].event_name.push(event_name);
            var _handlers=[];
            for(var i=0;i<event_handler.length;i++){
                _handlers.push(event_handler[i].handler);
            }
            target[0].event_handler.push(_handlers);          
        });  //store the events
        target.off();  // delete the events
    }else{    // has the elment no event
        for(var i=0; i < target[0].event_handler.length; i++){
            for(var ii=0;ii<target[0].event_handler[i].length;ii++){
                target.on(target[0].event_name[i], target[0].event_handler[i][ii]);
            }          
        }  // re-store the events
        target[0].event_name = [];
        target[0].event_handler = [];  //reset
    }
}

$("#a").hover(function(){alert("test")});

$("#b").click(function(){
    Test_Handle('#a');
}); 
```

​</p>

[JSFiddle 示例](http://jsfiddle.net/JELsT/4/)

# android - 为字符串添加样式

> ID：14098675
> 
> 赞同：0
> 
> 时间：2012-12-31T07:15:03.500
> 
> 标签：android, textview, android-styles

我可以在 strings.xml 文件中的 textview 中添加样式吗？我的样式如下..

```
<style name="text_searching">
    <item name="android:text">dummy</item>
     <item name="android:textSize">28sp</item>

    <item name="android:background">@drawable/buttonbarbackground</item>
   <!--  <item name="android:textColor">#ff999999</item> -->
    <item name="android:textStyle">normal</item> 
```

我在strings.xml中分配了这种样式如下..

```
<string name="text">@style/text_searching</string> 
```

是否正确...如果有人知道请告诉我..提前谢谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:21:20.973

你在做什么是正确的。尽管习惯上将`style`s 放在一个名为*styles*的文件中。其中的所有 xml 文件`values`都属于同一`resources`类型，因此编译器并不关心您将每个定义放在哪里。另一方面，人类确实...

要将此样式添加到`TextView`您将执行的操作：

```
<TextView style="@style/text_searching" .../> 
```

我不确定您要在那里做什么`<string ...>`，但这不是 a `TextView`，是 a `string`。

**更新：**我*想*我知道你实际上想要做什么，它与`TextView`s 无关。不，你不能那样做。您可以在一定程度上使用简单的 HTML 标签来定义文本大小、颜色等；那么你将不得不使用`getText`而不是`getString`让它来处理 HTML 标签。

但是在任何情况下都不`string`会有背景，那是完全错误的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-08-04T11:50:04.450

使用可扩展的字符串：

```
TextView textView = (TextView) findViewById(R.id.text_view);
SpannableString spString = new SpannableString("Background text");
spString.setSpan(new BackgroundColorSpan(Color.GREEN), 5, spString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
textView.setText(spString); 
```

有关详细信息，请参阅[本教程](https://way2androidtutorials.blogspot.in/2017/08/spannablestring-is-class-its-extends.html)。

# java - 如何从主窗口切换到弹出窗口？

> ID：14098679
> 
> 赞同：5
> 
> 时间：2012-12-31T07:15:17.277
> 
> 标签：java, selenium, webdriver, modal-dialog

我不是在谈论诸如警报、确认或提示对话框之类的弹出窗口。在应用程序中，如果我单击按钮弹出窗口就会打开。我无法将 WebDriver 切换到弹出窗口。

> 我尝试使用 getWindowHandles() 但它只返回主窗口句柄。
> 
> 我也试过 switchTo.window("windowname") 但它没有用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T11:26:59.440

与 javascripts 警报不同，模块化窗口通常是同一个 DOM 的一部分。唯一使它们与页面其余部分不同的是它们位于不同的**框架**中。

尝试查看此模块化窗口是否位于框架或 iframe 标记内。如果任何父级是框架或 iframe，那么您必须先将上下文更改为该框架，然后才能在模态窗口上执行任何操作。

所以找到框架做一个`driver.switchTo().frame()`然后对你想要的元素执行动作。操作完成后，很可能会将您带回主页。用于`driver.switchTo().defaultContent()`将焦点带回主页。

**[这个](https://stackoverflow.com/questions/10879206/how-to-switch-between-frames-in-java-using-webdriver)**SO 问题会很有帮助。

如果这不起作用，查看页面或其 HTML 会很有帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-17T15:14:59.187

```
//handle of the master window before clicking the link
String master = driver.getWindowHandle();

driver.findElement(By.linkText("Click me")).click();

//logic for waiting for the popup, checking the size to become greater than 1 or breaking after sometime to avoid the infinite loop.
int timeCount = 1;

do
{
   driver.getWindowHandles();
   Thread.sleep(200);
   timeCount++;
   if ( timeCount > 50 ) 
   {
       break;
   }
}
while ( driver.getWindowHandles().size == 1 );

//Assigning the handles to a set
Set<String> handles = driver.getWindowHandles();
//Switching to the popup window.
for ( String handle : handles )
{
    if(!handle.equals(master))
    {
         driver.switchTo().window(handle);
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T11:16:00.690

你在使用页面对象吗？

如果你正在使用它，你需要在弹出窗口出现后找到元素，因为如果在你第一次打开页面时它们不可见，initElements 不会初始化它们。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T04:35:12.060

**假设您谈论的是 javascript 警报。**

```
final Alert a = driver.switchTo().alert(); 
a.accept(); 
```

或者

[直接执行JavaScript来处理alert](http://code.google.com/p/selenium/wiki/FrequentlyAskedQuestions#Q:_How_do_I_execute_Javascript_directly?)

和

[也许等待警报出现](https://stackoverflow.com/questions/6751433/selenium-2-webdriver-check-that-text-exists-before-calling-alert-gettext)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-11T06:35:30.083

根据 webdriver，此问题已在 2.16 中修复，但仍无法正常工作 [支持 window.ShowmodalDialog](http://code.google.com/p/selenium/issues/detail?id=284#c52)

您可以使用**Java Robot 类**来处理这种情况。

**例子 ：**

```
Wait(5000); // Wait for model pop, 
    int keyInput[] =
    {
      KeyEvent.VK_S, KeyEvent.VK_E, KeyEvent.VK_L, KeyEvent.VK_E,
      KeyEvent.VK_N, KeyEvent.VK_I, KeyEvent.VK_U, KeyEvent.VK_M,
    };   

    Robot robot = new Robot();

    robot.keyPress(KeyEvent.VK_TAB);
    robot.keyPress(KeyEvent.VK_TAB);

    for (int i = 0; i < keyInput.length; i++)
    {    
      robot.keyPress(keyInput[i]);
      robot.delay(100);    
    }  

    robot.delay(1000); 
    robot.keyPress(KeyEvent.VK_TAB);
    robot.delay(1000);
    robot.keyPress(KeyEvent.VK_TAB);
    robot.delay(1000);
    robot.keyPress(KeyEvent.VK_TAB);

    robot.delay(1000);
    robot.keyPress(KeyEvent.VK_ENTER); // Save Btn 
```

事件之间的延迟是必要的，否则您将错过事件。

# php - 动态获取数据表中 $aColumns 数组中的列名

> ID：14098680
> 
> 赞同：4
> 
> 时间：2012-12-31T07:15:20.087
> 
> 标签：php, json, codeigniter, jquery-plugins, jquery-datatables

首先，我会提到我想要实现的目标。我正在使用 PHP 的 CodeIgniter 框架。我的数据库中有 5 个表，我想通过单击显示页面上的按钮以 Datatables 格式显示它们。我使用服务器端处理 php 作为数据源。因此，起初我编写了仅以 Datatable 格式显示一个表的代码，并且成功了。现在我想在按钮单击事件中一次显示 5 个表格。但是 $aColumns 长度应该等于 HTML 表中定义的列数。现在考虑分数表，它有 4 列 student_id、exam_id、subject_id 和 mark_achieved。现在另一个表是分支，只有 2 列 branch_id 和 branch_name。所以我不能动态地增加或减少 HTML 中的标签，所以我很困惑。我也在使用这个[来源](https://github.com/blake-nouribekian/codeigniter-datatables)创建数据表。你可以在这里查看我的 getTable() 函数[。](https://stackoverflow.com/questions/14081026/issue-in-creating-datatable-with-codeigniter/14081695#comment19486992_14081695)

jQuery：

```
$(document).ready(function()
{
$('#datatable').dataTable({
    "sPaginationType":"full_numbers",
    "bJQueryUI":true,
    "bProcessing": true,
    "bServerSide": true,
    "sServerMethod": "GET",
    "sAjaxSource": "datatable/getTable",
    "iDisplayStart": 0,
    "iDisplayLength": 10,
    "aLengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],
    "aaSorting": [[0, 'asc']],
    "aoColumns": [
        { "bVisible": true, "bSearchable": true, "bSortable": true },
        { "bVisible": true, "bSearchable": true, "bSortable": true },
        { "bVisible": true, "bSearchable": true, "bSortable": true },
        { "bVisible": true, "bSearchable": true, "bSortable": true }
        ]
})

$('input[type=button]').bind('click', function(){
        var param = $(this).attr('id');
            data = param + '=1';

        $.ajax({
            type: 'POST',
            url: 'datatable', 
            data: data                
        }).done(function( data ) { 
            console.log(data);
            $('#display_area').html(data); 
        });
    })
    }); 
```

HTML：

```
<script type="text/javascript" src="../js/jquery.js"></script>
<script type="text/javascript" src="../js/javascript.js"></script>
<script type="text/javascript" src="../js/jquery.dataTables.min.js"></script>
</head>
<body id="dt_example">
<form action="" method="post">
<input type="button" id="display_branch" name="display_branch" value="Display Branch Table" >
<input type="button" id="display_marks" name="display_marks" value="Display Marks Table" >
</form>   
<div id="container">
<div id="demo">
<table id="datatable" cellpadding="0" cellspacing="0" border="0" width="100%">
<thead>
    <tr>
        <th>Student ID</th>
        <th>Exam ID</th>
        <th>Subject ID</th>
        <th>Marks Achieved</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
</tbody>
<tfoot></tfoot>
</table>
</div>
<div class="spacer"></div>
</div>
</body>
</html> 
```

为了动态获取列，我在 datatable.php 中进行了如下所示的更改，但它不起作用。这里有什么问题，或者我应该尝试其他方法？

```
 if(isset($_POST['display_marks']))
    {
        $aColumns = array('student_id', 'exam_id', 'subject_id', 'marks_achieved');
        $sTable = 'marks';
    }
    if(isset($_POST['display_branch']))
    {
        $aColumns = array('branch_id', 'branch_name');
        $sTable = 'branch';
    } 
```

**编辑：** user1190992 发布的解决方案有效，但整个方法发生了变化。并且我想清理列的标题。显示“branch_id”而不是我想显示分支 ID。我怎样才能进行这种消毒？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T16:37:22.580

这是从 JSON 数据动态创建 HTML 的一种非常简单的方法。它虽然不使用服务器端处理。

JavaScript

```
$(document).ready(function() {
    $(".abutton").click(function() {
        $('#myDatatable_wrapper').detach(); //Remove existing table
        var table = '<table id="myDatatable" class="table"><thead><tr>';
        $.ajax({
            url: 'dt.php',
            data: "table_id="+$(this).attr("id"),
            type: "POST",
            success: function (data) {
                $.each(data.aoColumns, function(key, value) {
                    table += "<th>"+value+"</th>";
                });
                table += "</tr></thead><tbody>";
                $.each(data.aaData, function(key, row) {
                    table += "<tr>";
                    $.each(row, function(key, fieldValue) {
                        table += "<td>"+fieldValue+"</td>";
                    });
                    table += "</tr>";
                });
                table += '<tbody></table>';
                $('.container').html(table);
                $('#myDatatable').dataTable();
            },
            dataType: "json"
        });
    });
}); 
```

PHP

```
$table_id = filter_input(INPUT_POST, "table_id", FILTER_SANITIZE_STRING);
$dbconn = mysqli_connect("localhost", "username", "password");

if($table_id == "table1") {
    $sql_query = mysqli_query($dbconn, 'SELECT * FROM display_branch');
}
else {
    $sql_query = mysqli_query($dbconn, 'SELECT * FROM display_marks');
}

if(mysqli_num_rows($sql_query) == 0) {
    echo "Check your ID";
    exit(1);
}
$data = array();
$data['aaData'] = array();
while($row = mysqli_fetch_assoc($sql_query)) {
    $data['aaData'][] = $row;
}

$data['aoColumns'] = array();
while($finfo = mysqli_fetch_field($sql_query)) {
    $data['aoColumns'][] = $finfo->name;
}
echo json_encode($data); 
```

HTML

```
<button id="table1" class="abutton">Table 1</button><br /><button id="table2" class="abutton">Table 2</button>
<div class="container"></div> 
```

希望这可以帮助。

# javascript - 如何在 Visual Studio 2012 中从 Javascript 嵌入或调用 HTML 页面？

> ID：14098685
> 
> 赞同：-1
> 
> 时间：2012-12-31T07:15:52.050
> 
> 标签：javascript, html, visual-studio-2012

我正在尝试在 Visual Studio 2012 中制作一个 Grid 应用程序，为此我想从一个单独的 home.html 文件开始，而不是使用 default.html 页面。在 home.html 中，我使用了一个小的描述段落，我希望将一些文本（单词）链接到应用程序中的其他页面。如何链接这些页面？

我在变量中使用了内容描述，例如

```
var groupDIntro = " This is introduction page. We will start with some programming"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:22:49.900

将您的描述放在一个段落中，并将链接包装在`a`标签中。像这样的东西：

```
<p>
    This is an <a href="/intro">introduction</a> page. We will start with some <a href="/programming">programming</a>.
</p> 
```

它将在 HTML 文件中呈现为：

这是[介绍](/intro)页面。我们将从一些[编程开始](/programming)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:31:08.460

您有两个选择，您可以使用框架将内容链接到任何页面并查看嵌入的内容，或者您​​可以在 jquery 中使用 ajax 函数

```
$.get('ajax/test.html', function(data) {
  $('div.result').html(data);
  alert('Load was performed.');
}); 
```

# ruby-on-rails - Rails 2 中的 URL 重定向

> ID：14098688
> 
> 赞同：0
> 
> 时间：2012-12-31T07:16:10.677
> 
> 标签：ruby-on-rails, ruby

在我的 rails 应用程序中，出于某种原因，我必须将我的 URL 重定向到所需的 URL。

这就是我的配置设置`routes.rb`.

`map.connect 'sample/:action/:id.:format', :controller => 'test'`

1.  当 url 为[http://example.com/sample](http://example.com/sample)时，它​​会很好地重定向。它`Test`采用控制器索引方法。

2.  当 url 为[http://example.com/sample/displayname?id=10](http://example.com/sample/displayname?id=10)时，它会转到`Test`控制器并搜索`displayname`方法。显然它不存在，所以我收到了“ `undefined`”错误消息。
    在这里，即使 URL 是（[http://example.com/sample/displayname?id=10](http://example.com/sample/displayname?id=10)），我也想要它足够去`Test`控制器的索引方法。

3.  同样在地址栏中我想要 URL 掩码。如果我点击[http://example.com/sample/](http://example.com/sample/) 它应该重定向 & 在地址栏中[http://example.com/test](http://example.com/test)。

我如何使用 Rails-2 应用程序（Rails 版本 2.3.9）做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:23:10.097

首先，我不建议这样做。它违背了在 Rails 中如何完成事情的惯例，这往往会导致痛苦。

（至于我的建议？只是以不同的方式构建您的网址。如果您按照 rails 的简单方式做事，那么您会很开心地使用它。否则，您的生活将充满痛苦和折磨。）

但是，如果你真的想要，看起来你不能在 rails 中做正则表达式路由。我以为你可以，但我没有看到任何迹象表明你可以。然而，你能做的是……

```
def method_missing
  index
end 
```

Put that in the controller you want to have this behavior. It'll do what you want, but it also might hide other errors. In any case, don't say I didn't warn you. This seems like a bad idea...

As for the redirect, a `before_filter` in the test controller will do that.

```
before_filter :redirect_if_wrong_path

def redirect_if_wrong_path
  if request.path =~ /\/sample/
    redirect_to request.path.sub('/sample', '/test')
  end
end 
```

# ruby-on-rails - 如何在一种类型的用户和模型之间建立关系？

> ID：14098689
> 
> 赞同：1
> 
> 时间：2012-12-31T07:16:28.337
> 
> 标签：ruby-on-rails, ruby-on-rails-3

所以我有一个`Vendor`和一个`User`。用户可以具有以下多种角色之一：`superadmin`、`admin`、`vendor`、`user`。

我的`Vendor`模型本质上是一个“商店”。

我希望具有该角色的用户拥有`vendor`模型的一个实例`Vendor`。但并非所有用户都拥有该模型的实例`Vendor`。

在我的`Vendor`模型中，我有这个：

```
belongs_to :owner, :class_name => "User",
    :foreign_key => "user_id" 
```

但我不确定如何处理该`User`模型，因为不是每个`User`人都会有一个或多个供应商。

我该如何处理？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:34:13.947

我会这样做：

```
User

has_one :store

Store

belongs_to :user 
```

并且只让作为供应商的用户创建商店。在商店控制器

```
before_filter :authenticate_vendor!

def authenticate_vendor!
  # redirect unless user is vendor
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T07:33:24.587

我建议研究 Ryan Bates 的[CanCan](https://github.com/ryanb/cancan) gem，尤其是[这个功能](https://github.com/ryanb/cancan#2-check-abilities--authorization)。这应该有助于您建立角色并控制 Vendor 对象的权限。

就关联而言，您仍然应该`has_many vendors`从用例的声音中使用，然后从控制器控制访问。

# android - 通过后按键解除 PopUpWindow

> ID：14098700
> 
> 赞同：0
> 
> 时间：2012-12-31T07:18:08.723
> 
> 标签：android, android-layout

我创建了一个包含以下属性的 popUpwindow：

```
 popupWindow.setBackgroundDrawable(new BitmapDrawable());
    popupWindow.setFocusable(true);
    popupWindow.setOutsideTouchable(false); 
```

在提到这一点之后，在 popUpWindow 之外单击时也会关闭 popUpwindow。谁能告诉我可以做些什么来避免这种情况。而且我在popUpwindow中播放了一首音乐，但是当它播放时，我无法增加或减少相同的音量。当 popUpwindow 处于焦点时，我无法访问媒体音量控件。我已经读过，如果有覆盖方法 onKeydown / up 那么 setVolumeControlsStream(AudioManager.Stream_Music) 将不起作用。但是我已经使用 keyDown 方法来处理 backpress rest 我正在返回 return super.onKeyDown(keyCode, event);

请提出解决此问题的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:24:33.447

尝试这个

```
 @Override
public boolean dispatchTouchEvent(MotionEvent ev) {
    Rect dialogBounds = new Rect();
    getWindow().getDecorView().getHitRect(dialogBounds);

    if (!dialogBounds.contains((int) ev.getX(), (int) ev.getY())) {

        return false;
    }else{
        return super.dispatchTouchEvent(ev);
    }

} 
```

愿这对你有所帮助。我用它来避免在对话框外单击时关闭对话框。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:49:05.033

将焦点设置**`false`**为弹出窗口。它将避免`popUpwindow`在`popUpWindow`.

```
popupWindow.setFocusable(false); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T08:05:25.120

```
Try this-
put below line end of your class
@Override
    public void onBackPressed() {
        if (popupWindow != null)
            popupWindow.dismiss();
        else
            super.onBackPressed();
        finish();
    } 
```

# android - 异步服务调用需要暂停

> ID：14098703
> 
> 赞同：2
> 
> 时间：2012-12-31T07:18:31.273
> 
> 标签：android, android-service

我希望这不是太胡说八道。我已经实现了一个异步网络服务调用，因为我不希望手机/应用程序/用户界面在等待数据时锁定......但是我不希望程序继续执行它现在正在做的事情并崩溃.

我的应用程序从服务请求数据，服务返回一个 xml 文档。当服务正在生成文档时，我的程序继续执行并在到达代码正在查找文件的部分时崩溃……那还不存在。

所以我需要知道在这种情况下一个人在java中是如何/做什么的？在 C# 中，我知道该怎么做。这是异步调用的代码，请随时指出其中的任何问题。

```
public class DataExchangeServiceClient
{
private static final String BASE_URL = "http://www.icyarmtesting.com/";

private static AsyncHttpClient client = new AsyncHttpClient();

public static void get(String url, RequestParams params, AsyncHttpResponseHandler responseHandler) 
{
    client.get(getAbsoluteUrl(url), params, responseHandler);
}

public static void post(String url, RequestParams params, AsyncHttpResponseHandler responseHandler) 
{
      client.post(getAbsoluteUrl(url), params, responseHandler);
  }

  private static String getAbsoluteUrl(String relativeUrl) 
  {
      return BASE_URL + relativeUrl;
  }

} 
```

然后是实现......是的，我知道它现在是硬编码的。

```
protected static boolean GetExerciseData() throws JSONException
{
    RequestParams params = new RequestParams();
    params.put("Action", "");
    params.put("ProgramID", "8008009");
    params.put("UserName", "joex");
    params.put("Password", "dude!");

    DataExchangeServiceClient.get("liftdataexchange.xamlx", params, new JsonHttpResponseHandler()
    {
        @Override
        public void onSuccess(JSONArray timeline)
        {
            try
            {
            JSONObject firstEvent = (JSONObject) timeline.get(0);
            String XML_DOC_String = firstEvent.getString("text");
            }
            catch(JSONException jse)
            {

            }
            //send it off to become a document
        }
    });

    return true;

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:28:01.873

您的问题有不同的解决方案。但最好的方法是使用 Android 服务。我将解释更多你的选择。

*   你可以开始一个新的[线程](http://docs.oracle.com/javase/tutorial/essential/concurrency/runthread.html)
*   您可以使用[AyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)（更多 Android）
*   您可以使用[加载器](http://neilgoodman.net/2011/12/26/modern-techniques-for-implementing-rest-clients-on-android-4-0-and-below-part-1/)
*   您可以使用[服务](http://www.youtube.com/watch?feature=player_embedded&v=xHXn3Kg2IQE)

我是一个致力于这个主题的图书馆的合著者：[RoboSpice](https://github.com/octo-online/robospice)。这是一个[信息图表](https://github.com/octo-online/robospice/blob/master/gfx/RoboSpice-InfoGraphics.jpg)，解释了为什么使用服务是最好的方法。这就是我们在 RoboSpice 中所做的事情，我们坚信这是执行长时间运行的后台任务（例如从 Web 下载数据）的最佳方式。

更多 RoboSpice 提供了不同的模块来帮助您执行 REST 请求，例如[Spring Android](http://www.springsource.org/spring-android)模块、[Google Http Java 客户端](http://code.google.com/p/google-http-java-client/)模块（或[Retrofit](https://github.com/square/retrofit)，即将发布）。

我鼓励你转向这个库，它会为你处理很多复杂的后台任务。

# asp.net-mvc-2 - webservise asp.net mvc2 响应

> ID：14098704
> 
> 赞同：1
> 
> 时间：2012-12-31T07:18:53.413
> 
> 标签：asp.net-mvc-2

几天来，我一直在绞尽脑汁思考如何处理新的需求。

我有两个网站。第一个让用户填写一个应用程序。第二个网站是用于管理用户应用程序的内部网站。我需要开发一个“网络服务”，将应用程序数据从网站 1 发送到网站 2。我以前从未做过网络服务，我对从哪里开始有点困惑。我一直在网上阅读各种示例，但它们似乎都只是构建 Web 服务的起点……没有具体示例。

那么对于发布数据网站 1，我的控制器方法会是什么样子？那会是什么样子？指向网站 2 的方法中是否存在某种形式的重定向？

提前感谢您的帮助。:)

# wpf - 如何在wpf的listView内动态生成的文本框中设置tabindex

> ID：14098710
> 
> 赞同：1
> 
> 时间：2012-12-31T07:20:01.823
> 
> 标签：wpf, listview, gridview, textbox, tabindex

我们从 XML 定义（不是 XAML）构建我们的用户界面，但在下面我们使用 WPF 来呈现 UI。也就是说，在运行时，我们基于 XML 定义创建 WPF UI。

```
<ListView ItemsSource="{Binding}" Width="400px" IsSynchronizedWithCurrentItem="True" HorizontalAlignment="Left" Name="ListView" 
              ScrollViewer.VerticalScrollBarVisibility="Disabled" ScrollViewer.HorizontalScrollBarVisibility="Disabled"  Grid.ColumnSpan="3" 
              SelectionChanged="ListView_SelectionChanged" BorderThickness="0" IsTabStop="False">

                <ListView.View>
                    <GridView x:Name="grid">
                        <GridViewColumn  Width="100px"> 
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Path=ModuleName}"  Width="100px" Foreground="Black" />
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                        <GridViewColumn  Width="200px">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBox Text="{Binding Path=ModuleUserCount, TargetNullValue=''}" MaxLength="6" Name="txtModuleUserCount" KeyDown="txtModuleUserCount_KeyDown" MinWidth="180" MaxWidth="200" BorderBrush="Gray"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>       
                 </ListView.View>
            </ListView> 
```

我通过 XML SO UI 生成 4 个模块，`TextBox`在这些动态`TextBox`tabIndex 中有四个不起作用。我试过`KeyboardNavigation.TabNavigation="Cycle"`了，但它不起作用。如何使标签导航适用于此布局？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-03T11:33:56.037

我知道为时已晚，但我想回答。我有同样的问题。我尝试了以下方法，它解决了我的问题：设置：

```
KeyboardNavigation.TabIndex="10" 
```

`ListView`或您本身需要的任何值。

# sql - 在单个查询中查找两个不相关表中的计数

> ID：14098711
> 
> 赞同：0
> 
> 时间：2012-12-31T07:20:05.240
> 
> 标签：sql, postgresql, join, count, aggregate-functions

以下查询用于计算单个查询中两个不相关表中的行数。

```
 With t1 as (Select 1 
              Union Select  2 
              Union Select 3),
  t2 as (Select 'A' 
         Union Select 'B')

  Select (Select count(*) from t1), (Select count(*) from t2) 
```

有没有更好的方法来避免选择查询中的两个选择语句。

输出应该是

```
3 2 
```

任何特定于 Postgres 的构造也可以。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T11:51:52.900

### 简单正确

首先，您可以使用*表达式*[`VALUES`](http://www.postgresql.org/docs/current/interactive/sql-values.html)而不是更冗长的`UNION ALL SELECT`.
如果数据类型不是默认数据类型，`integer`并且`text`..

其次，a`FULL OUTER JOIN`完全没有意义。它所做的只是让你的查询变慢。如果任何行在另一个表中有多个匹配项，则它会在计数中相乘。

```
WITH t1(col1, col2) AS (VALUES (1, 1),   (2, 2),   (3, 3))
    ,t2(col1, col2) AS (VALUES (1, 'A'), (2, 'B'), (2, 'C'))  -- 2nd row for "2"
SELECT count(t1.*), count(t2.*)
FROM t1
FULL OUTER JOIN t2 USING (col1); 
```

产量：

```
4   3 
```

这是*错误*的。

```
WITH t1(col2) AS (VALUES (1),   (2),   ( 3))
    ,t2(col2) AS (VALUES ('A'), ('B'), ('C'))
SELECT (SELECT count(*) FROM t1) AS t1_ct
      ,(SELECT count(*) FROM t1) AS t2_ct; 
```

产量：

```
3   3 
```

这是*正确*的，除了更简单更快。
诚然，`row_number()`新应用，不可能有欺骗。但这只是浪费时间。

### 表现

大桌子的计数相对较慢。如果您不需要*确切的*计数但可以接受估计，您可以非常快速地得到这个：

```
SELECT reltuples::bigint AS estimate
FROM   pg_class
WHERE  oid = 'myschema.mytable'::regclass; 
```

我在这里引用[手册](http://www.postgresql.org/docs/current/interactive/catalog-pg-class.html)：

> 它由 VACUUM、ANALYZE 和一些 DDL 命令（如 CREATE INDEX）更新。

[此相关答案中的更多详细信息。](https://stackoverflow.com/a/7945274/939860)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T11:31:50.173

计数是一项极其昂贵的操作（就 CPU 负载而言）。尽量避免。如果您需要在没有任何条件的情况下获取表的总行数，一些 RDBMS 提供了一种解决方法，例如使用 MSSQL，它是这样的：

```
select SUM(row_count) as Total_Rows
 from sys.dm_db_partition_stats
where object_name(object_id) = 'YourTableName' 
  and index_id < 2 
```

另一种方法是在单独的表中维护您的计数，例如，如果您需要按某个值分组的总数。您将使用触发器增加和减少计数。如果您（例如）必须一直在主窗体上显示计数（活跃用户、每个区域的活跃帖子等），建议您这样做。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-12-31T10:07:57.510

通过添加 row_number 列并进行完全外连接来引入两个表之间的关系。

```
 With t1 as (Select 1 as Col1, 1 
              Union Select  2, 2 
              Union Select 3, 3),
  t2 as (Select -1 as Col1, 'A' 
         Union Select -2, 'B')

  Select count(t1.*), count(t2.*) from t1 full outer join t2 on t1.Col1 = t2.Col1 
```

# css - css 替代 javascript 定位

> ID：14098712
> 
> 赞同：-1
> 
> 时间：2012-12-31T07:20:07.307
> 
> 标签：css

当其他事件发生时，我有以下 javascript 用于定位元素：

```
$('div.arrow').css('top', @$().offset().top - 20) 
```

以上工作，但我很好奇是否可以使用纯 css 获得相同的效果？

我只需要担心现代浏览器，所以不用担心遗留的 IE 问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:26:45.003

应该非常兼容：

```
div.arrow {
    position: relative;
    top: -20px;
} 
```

如果 上已经有一个`position`属性`div.arrow`，则不需要再次指定它，除非它是`position: static`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T09:48:18.580

您想要引起这种变化的具体行动是什么？

有效地“操作” CSS 更改的唯一方法是复选框 hack - 但是如果您希望在单击某物时简单地更改元素的位置（例如），您可以让 click 事件给出一个“活动”类"到有问题的元素。

例如;

```
div.arrow { regular: styles here; }
div.arrow.active { 
    position: relative;
    top: -20px;
} 
```

不过老实说，您的方式可能已经是最有效的了，尤其是当它是 onClick 事件时。

# iphone - 洗牌数组重复一个值

> ID：14098717
> 
> 赞同：1
> 
> 时间：2012-12-31T07:20:34.763
> 
> 标签：iphone, ios6, nsmutablearray

在这里，我使用以下代码对 NSMuttable 数组进行洗牌，而洗牌数组只重复一个值，其余的一切正常，我应该做哪些改变来洗牌而不重复？

```
words = [[NSMutableArray alloc] initWithObjects:@"1", @"2", @"3",@"4", nil] ;
NSUInteger count = [words count];

for (int i = 0; i < count; i++)
   {
    NSInteger nElements = count - i;
    NSInteger n = (arc4random() % nElements) + i;
    NSLog(@"n val %d i val %d",i,n);
    [words exchangeObjectAtIndex:i withObjectAtIndex:n];
   } 
```

NSlog 输出

```
2012-12-31 12:49:05.730 quizer[1607:c07] n val 0 i val 0
2012-12-31 12:49:05.731 quizer[1607:c07] n val 1 i val 3
2012-12-31 12:49:05.731 quizer[1607:c07] n val 2 i val 2
2012-12-31 12:49:05.732 quizer[1607:c07] n val 3 i val 3 
```

请帮我解决

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:53:31.913

这段代码可以帮助你，

shuffle 数组只包含 0 到 TOTAL_NUMBER（您的数组大小）之间的每个数字一次。

您可以从中洗牌现有的阵列。

```
@synthesize alreadyGeneratedNumbers;//this is a mutableArray.

int TOTAL_NUMBER=5;//size of array

-(int)generateRandomNumber{
    int low_bound = 0;
    int high_bound = TOTAL_NUMBER;
    int width = high_bound - low_bound;
    int randomNumber = low_bound + arc4random() % width;
    return randomNumber;
}

-(IBAction)randomNumbers:(UIButton *)sender
{

    NSMutableArray *startArray=[NSMutableArray arrayWithObjects:@"1",@"2",@"3",@"4",@"5", nil];

    NSMutableArray *shuffle = [NSMutableArray new];

    BOOL contains=YES;
    while ([shuffle count]<5) {
        NSNumber *generatedNumber=[NSNumber numberWithInt:[self generateRandomNumber]];
        //NSLog(@"->%@",generatedNumber);

        if (![alreadyGeneratedNumbers containsObject:generatedNumber]) {
            [shuffle addObject:generatedNumber];
            contains=NO;
            [alreadyGeneratedNumbers addObject:generatedNumber];
        }
    }
    if ([alreadyGeneratedNumbers count] >= TOTAL_NUMBER) {
        NSLog(@"\nOne shuffel ended.....what to reshuffle");
        [alreadyGeneratedNumbers removeAllObjects];
    }

    NSMutableArray *shuffledArray=[NSMutableArray new];
    for (NSNumber *index in shuffle) {
        [shuffledArray addObject:[startArray objectAtIndex:[index integerValue]]];
    }
    NSLog(@"Shuffled array = %@",shuffledArray);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:26:35.683

要从您的 中删除重复项`NSMutableArray`，

```
// Removing duplicate entry from array
NSArray *copy = [words copy];
NSInteger index = [copy count] - 1;
for (id object in [copy reverseObjectEnumerator])
{
    if ([words indexOfObject:object inRange:NSMakeRange(0, index)] != NSNotFound)
    {
        [words removeObjectAtIndex:index];
    }
    index--;
}
[copy release]; 
```

**您可以在每次添加对象时检查它。**

# search - 在包含复选框的列表字段中搜索

> ID：14098719
> 
> 赞同：1
> 
> 时间：2012-12-31T07:20:50.740
> 
> 标签：search, blackberry, checkbox, checkboxlist, listfield

我想在任何 android 设备的通讯簿中实现类似的功能，并在列表中添加复选框。但我想在 BlackBerry 中实现它，并且必须从**OS 4.5+**提供支持。

屏幕应包含用于搜索名称的搜索文本字段。文本框下方应该是一个列表字段，其中包含带有名称的复选框。

当我在搜索字段中键入时，添加或删除每个字母时，我的列表应显示相关名称，并且我应该能够选中或取消选中这些名称。此外，当我输入下一个名称时，之前选中的名称应保持选中状态。最后，我希望将所有选中的联系人存储在一个向量中。

# ms-access - 在 access 2007 和 VB6 中创建区分大小写的登录

> ID：14098725
> 
> 赞同：1
> 
> 时间：2012-12-31T07:21:34.090
> 
> 标签：ms-access, vb6, ms-access-2007, vba

我在用户名和密码字段下的 Access 2007 表中保存了一条记录。现在我想检查是否在 VB6 文本框中输入了正确的大小写，以验证访问表中的用户名和密码。请在这方面帮助我。谢谢

萨法拉兹

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T11:58:56.230

[StrComp](http://office.microsoft.com/en-ie/access-help/strcomp-function-HA001228914.aspx)可能适合：

```
Sub TestMatch()
    'string1 is less than string2    -1
    'string1 is equal to string2      0
    'string1 is greater than string2  1
    'string1 or string2 is Null      Null

    Debug.Print StrComp("ABC", "AB", vbBinaryCompare)  ''=  1
    Debug.Print StrComp("ABC", "abc", vbBinaryCompare) ''= -1
    Debug.Print StrComp("ABC", "ABC", vbBinaryCompare) ''=  0
    Debug.Print StrComp(Null, "ABC", vbBinaryCompare)  ''= Null

End Sub 
```

另请参阅：http: [//support.microsoft.com/kb/209674](http://support.microsoft.com/kb/209674)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T09:42:22.337

您可能会收到一些使用**RegEx**的帖子，而不是我真正使用的内容，因此此功能可以帮助您确定两个字符串是否匹配并且区分大小写。

```
Public Function ExactMatch(varFirst As Variant, varSecond As Variant) As Boolean

Dim inti As Integer

    'Initialise to False and amend to True if function passes
    ExactMatch = False

    'Initial checks before proceeding (Null?, Length mismatch?)
    If IsNull(varFirst) And IsNull(varSecond) Then
        ExactMatch = True
        Exit Function
    ElseIf IsNull(varFirst) And Not IsNull(varSecond) Then
        Exit Function
    ElseIf Not IsNull(varFirst) And IsNull(varSecond) Then
        Exit Function
    End If

    If Len(CStr(varFirst)) <> Len(CStr(varSecond)) Then Exit Function

    'Begin
    For inti = 1 To Len(CStr(varFirst))
        If Asc(Mid(varFirst, inti, 1)) <> Asc(Mid(varSecond, inti, 1)) Then Exit Function
    Next

    ExactMatch = True

End Function 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T17:20:20.393

我看到人们抛出各种花哨的字符串比较代码和函数......我很困惑，为什么不只比较两个变量呢？

变量`strUserName_Entered`和`strPassword_Entered`由用户和变量输入`strUserName_DB`并`strPassword_DB`从数据库加载。

```
If strUserName_Entered = strUserName_DB AND strPassword_Entered = strPassword_DB Then
    ' Everything is OK, entered username/password combination is exactly the same as the one from DB
Else
    ' Username/password combination do not match

End If 
```

如果您特别想区分用户何时输入正确的用户名/密码但在错误的情况下，那么您可以使用它

```
If strUserName_Entered = strUserName_DB AND strPassword_Entered = strPassword_DB Then
    ' Everything is OK, entered username/password combination is exactly the same as the one from DB
Else If UCase(strUserName_Entered) = UCase(strUserName_DB) AND UCase(strPassword_Entered) = UCase(strPassword_DB) Then
    ' Username/password combination match, but at least one or more characters is/are in a wrong case

Else
    ' Username/password combination do not match (not the case error)

End If 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-01T04:12:57.967

我终于有了答案：

```
Connection

Set rs = New ADODB.Recordset
Qry = "SELECT Password FROM Login WHERE UserName = '" & Text1.Text & "'"
rs.Open Qry, Con, adOpenDynamic, adLockOptimistic
If Not rs.EOF Then
    If rs(0) = Text2.Text Then     
       msgbox"OK"
       exit sub      
    Else
       MsgBox "Invalid Username or Password", vbInformation, "Login..."

    End If
Else
    MsgBox "Invalid Username or Password", vbInformation, "Login..." 
End If 
```

享受编码

# jquery - JQuery 就绪功能在文档加载后重置页面

> ID：14098731
> 
> 赞同：1
> 
> 时间：2012-12-31T07:22:29.503
> 
> 标签：jquery, html

我正在尝试使用 jquery 从文本文件中加载 div 的 html。我目前正在 document.ready 中调用我的函数。它工作一瞬间，然后页面重置回原始 html。为什么它不保持从文本文件加载的方式。

我的代码是：

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script src="/ckeditor/ckeditor.js"></script>    
<script>
             $(document).ready(function(){  
             $("body").click(function(event){
                var data = CKEDITOR.instances.content.getData();
                $.post("save.php", { param: data } );       
            });
             var linkToTextFile = 'testFile.txt';
            $.get(linkToTextFile, function(data){
               $('div.content').html(data);
            }); 
           });
    </script> 
```

它似乎与CKeditor有关。如果我删除它的所有引用，它工作正常。

# android - 从 ArrayList 传递数据 到Android中的其他活动？

> ID：14098732
> 
> 赞同：-2
> 
> 时间：2012-12-31T07:22:29.733
> 
> 标签：android, list, listview, android-intent, arraylist

> **可能重复：**
> [帮助传递 ArrayList 和 parcelable Activity](https://stackoverflow.com/questions/5819238/help-with-passing-arraylist-and-parcelable-activity)

我已经尝试使用`putExtra()`但无济于事。

当我使用`putExtra()`时，出现语法错误。唯一的方法（似乎）是将所选的整个数据转换为字符串。但问题是，我只需要显示部分数据而不是全部。因此我认为这不是办法。

我想做的是发送一个`ArrayList`数据。第一个活动是程序在数组中搜索数据的地方，第二个活动是显示部分数据的地方。

我需要发送`onClick()`. `ListView`我需要数据在`ArrayList<Item>`.

在任何人回答或评论这个问题之前，请先看看我的声誉。因此，我想你知道我是新人。在投票之前考虑到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T09:27:34.510

假设你有一个这样的类，它实现`Parcelable`：

```
public class CustomParcelableClass implements Parcelable {
    public String string;
    public int i;

    @Override
    public int describeContents() {
        return hashCode();
    }

    @Override
    public void writeToParcel(Parcel dest, int flags) {
        dest.writeInt(i);
        dest.writeString(string);
    }

            private Item(Parcel in) {
             string= in.readString();
            }
} 
```

你做一个`Intent`这样的：

```
ArrayList<CustomParcelableClass> myParcelableList = 
          new ArrayList<CustomParcelableClass>();
myParcelableList.add(...);
...
yourIntent.putParcelableArrayListExtra(LIST, myParcelableList); 
```

`LIST`类似的东西在哪里：

```
public static final String LIST = "LIST"; 
```

并在您的第二堂课中，以类似的方法，通过类似的行`onNewIntent(Intent i)`检索您的`ArrayList`

```
ArrayList<CustomParcelableClass> myParcelableList = 
        i.getExtras().getParcelableArrayList(LIST); 
```

我不知道为什么这不适合你。

# tivoli - Tivoli 日志文件监控 - 要排除的正则表达式

> ID：14098734
> 
> 赞同：0
> 
> 时间：2012-12-31T07:22:47.163
> 
> 标签：tivoli

如果在两个论坛上发布问题是不对的，我很抱歉。

我们使用**Tivoli**来监视我们的日志文件。`log4j`日志级别设置为，并且`ERROR`Tivoli 将针对这些语句提出票证。但我们**不**希望 Tivoli 提出一些已知问题。有没有办法指定某些语句需要被忽略？

当前正则表达式：`[/var/tmp/abc.log;ERROR(.*);error found: RegExp1]`

这是非常通用的。对于已知问题，我们需要排除某些框架错误（Hibernate / Mule）。有没有办法指定使用正则表达式？

谢谢， 米顿

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T04:39:32.830

If you are using the LO Agent you can configure situation formula based on regular expression to fit your needs.

Below the LO Agent User Guide [http://pic.dhe.ibm.com/infocenter/tivihelp/v15r1/topic/com.ibm.itm.doc_6.2.3fp1/logfileagent623fp2_user.pdf](http://pic.dhe.ibm.com/infocenter/tivihelp/v15r1/topic/com.ibm.itm.doc_6.2.3fp1/logfileagent623fp2_user.pdf)

Take a look at the "Log File RegEx Statistics attribute group" section:

> The Log File RegEx Statistics attribute group contains information that shows the statistics of the log file regular expression search expressions. Regular expressions can be used to filter records or to define records. This attribute group shows information about both types. When the Result Type attribute value is INCLUDE or EXCLUDE, the filter is used to filter records;

Hope this helps

I don't have the reputation yet to post a comment but I'd have liked to ask if you are using the Tivoli Log File Agent (lo) of the Unix Log Agent (ul) before answering.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-28T13:15:52.693

如果您的问题仍然是实际的......这里是 LogAgent 的文档 - [http://www-01.ibm.com/support/knowledgecenter/SS4EKN_7.2.0.2/com.ibm.itm.doc_6.3/logfile/klo_fileformat_specs。 htm](http://www-01.ibm.com/support/knowledgecenter/SS4EKN_7.2.0.2/com.ibm.itm.doc_6.3/logfile/klo_fileformat_specs.htm)

您可以将新的 Regex 指定为 DISCARDED，并且使用此 regex 计算的所有记录都不会被 ITM Events 捕获。

> 如果您使用特殊的预定义事件类*DISCARD*作为事件类，则任何匹配关联模式的日志记录都将被丢弃，并且不会为它们生成任何事件。例如： REGEX *DISCARD* 作为模式匹配，没有任何内容写入不匹配日志。匹配的日志文件状态记录包括这些丢弃的事件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-14T16:58:22.260

顺便提一句

```
[/var/tmp/abc.log;ERROR(.*);error found: RegExp1] 
```

可能会更好

```
[/var/tmp/abc.log;ERROR([^;]*);error found: RegExp1] 
```

.* 是贪婪的，最好尽可能避免

# css - 使用jQuery时如何删除Safari中的默认按钮突出显示

> ID：14098735
> 
> 赞同：59
> 
> 时间：2012-12-31T07:22:46.180
> 
> 标签：css, jquery-ui

我注意到在 OS X 上的 Safari 下，我的默认 jQuery 按钮周围似乎有一个蓝色的发光高亮。[刚刚检查并在jQuery UI 演示页面](http://jqueryui.com/dialog/#modal-message)上发生了同样的事情。

![Safari下的默认按钮突出显示](../Images/9ce062f1538300766bf1580e705880a9.png)

在我同一台机器上的 Firefox 下，它看起来像这样

![在此处输入图像描述](../Images/3f9d3335e33288690b1e92e37619e8d2.png)

谁能告诉我在 Safari 下我能做些什么来删除它？我仍然喜欢默认行为。

* * *

## 回答 #1

> 赞同：122
> 
> 时间：2012-12-31T07:26:06.963

要删除任何浏览器可能作为默认操作应用的输入的任何突出显示，您始终可以将`outline:none`其用于其 css。在你的情况下，它是一个`button`元素。所以这应该工作：

```
button {
    outline: none;
} 
```

[虽然不建议删除 CSS 轮廓。](http://a11yproject.com/posts/never-remove-css-outlines)因为它不利于可访问性。（感谢罗宾克劳斯提到这一点）

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-12-31T07:28:28.733

尝试使用这个

在 CSS 中：

```
-webkit-tap-highlight-color: rgba(0,0,0,0); 
```

在 Javascript 中：

`document.addEventListener("touchstart", function(){}, true`);

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-12-31T07:25:22.010

```
*{
    outline: none;
}

.blah{
    outline-color: blue;
} 
```

这不会影响现有的。( `.blah`) 这也适用于谷歌浏览器。

***现场演示：http:*** [//jsfiddle.net/DerekL/TUbjc/](http://jsfiddle.net/DerekL/TUbjc/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-31T07:33:38.817

这个按钮实际上定义了一个大纲属性。你必须覆盖它。如果您在 Firebug 中检查它，您将看到此按钮的以下 CSS 声明：

```
.ui-dialog .ui-dialog-buttonpane button{outline:none;} 
```

# solr - 如何使用 dataimporthandler 中的参数调用存储过程

> ID：14098736
> 
> 赞同：2
> 
> 时间：2012-12-31T07:22:46.447
> 
> 标签：solr, dataimporthandler

嗨，谁能告诉我如何使用 db-config.xml 文件中的参数调用存储过程。

**我有一个以日期时间**为参数的存储过程，它返回在指定参数之后创建或修改的行。

在尝试从 dataimporthandler 调用该存储过程时，我没有成功。

我的 db-config.xml 如下所示

```
<dataConfig>
<dataSource type="JdbcDataSource" name="ds-1" driver="com.microsoft.sqlserver.jdbc.SQLServerDriver" url="jdbc:sqlserver://DataBaseURL;databaseName=DBtest" user="sa" password="MyPassword" readOnly="True" />
<document>
    <entity dataSource="ds-1" name="JobSeekerDetails" query="exec [SP_GetAllJobSeekerDetails] '${dih.last_index_time}'"
            deltaImportQuery="exec [SP_GetAllJobSeekerDetails] '${dih.last_index_time}'"
            deltaQuery="exec [SP_GetAllJobSeekerDetails] '${dih.last_index_time}'">

        <field column="FName" name="FName" />
        <field column="LName" name="LName" />
        <field column="Exp_year" name="Exp_year" />
        <field column="Exp_Month" name="Exp_Month" />
        <field column="INDUSTRY" name="INDUSTRY" />         
        <field column="DESIREDPOSITION" name="DESIREDPOSITION" />
        <field column="ROLE_NAME" name="ROLE_NAME" />
        <field column="PHONE_NUMBER" name="PHONE_NUMBER" />
        <field column="COUNTRY_NAME" name="COUNTRY_NAME" />
        <field column="STATE_NAME" name="STATE_NAME" />
        <field column="CITY_NAME" name="CITY_NAME" />
        <field column="POSTAL_CODE" name="POSTAL_CODE" />

    </entity>
</document>
</dataConfig> 
```

请帮助我找出我在哪里做错了。

我也尝试过在查询参数中不使用**exec**关键字。

提前致谢。

# iphone - UIToolbar 在 ios 5.0 和 ios 6.0 模拟器上显示不同的颜色

> ID：14098743
> 
> 赞同：0
> 
> 时间：2012-12-31T07:23:14.730
> 
> 标签：iphone, ios, uisearchbar, uitoolbar, uitoolbaritem

我为我的 UIToolBar 设置了 tintcolor。它在 ios 6.0 中正确显示，但在 ios 5.0 模拟器上显示为黑色。我的代码在这里

```
originalBounds = mysearchBarBarItem.customView.bounds;
mySearchBar.bounds = CGRectMake(0,0,215,44);
myTopToolbar.tintColor = [UIColor colorWithPatternImage:[UIImage imageNamed:NAVIGATION_BAR_BACKGROUND]];
myTopToolbar.barStyle = UIBarStyleDefault;

mySearchBar.barStyle = UIBarStyleDefault;
mySearchBar.tintColor = [UIColor colorWithPatternImage:[UIImage imageNamed:NAVIGATION_BAR_BACKGROUND]];

[myTopToolbar setItems:toolBarItemsArray animated:YES]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:43:45.293

您可以使用`UIAppearance`（适用于 iOS 5.0 及更高版本）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-31T07:39:26.337

我不知道这是否会有所作为，但您可以尝试更改分配条形样式和颜色的顺序。尝试：

```
myTopToolbar.barStyle = UIBarStyleDefault;   
myTopToolbar.tintColor = [UIColor colorWithPatternImage:[UIImage imageNamed:NAVIGATION_BAR_BACKGROUND]]; 
```

更改 tintcolor 后分配样式可能会重置颜色。

**编辑**

为什么这只会影响 ios5 而不会影响 ios6 我不知道。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-31T07:44:37.710

尝试在您的应用程序委托实现类中执行此操作，这将更改整个应用程序的工具栏和搜索栏颜色

用于设置搜索栏的色调

```
[[UISearchBar appearance] setTintColor:[UIColor colorWithPatternImage:[UIImage imageNamed:NAVIGATION_BAR_BACKGROUND]]]; 
```

或者

```
[[UISearchBar appearance] setTintColor:[UIColor colorWithRed:102/255.0 green:102/255.0 blue:102/255.0 alpha:1]]; 
```

用于设置工具栏的色调

```
[[UIToolbar appearance] setTintColor:[UIColor colorWithPatternImage:[UIImage imageNamed:NAVIGATION_BAR_BACKGROUND]]; 
```

或者

```
[[UIToolbar appearance] setTintColor:[UIColor colorWithRed:102/255.0 green:102/255.0 blue:102/255.0 alpha:1]]; 
```

用于设置背景图像

```
[[UIToolbar appearance] setBackgroundImage:[UIImage imageNamed:@"bgtoolbar.png"] forToolbarPosition:UIToolbarPositionAny barMetrics:UIBarMetricsDefault]; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-31T07:41:50.847

尝试设置颜色属性

```
myTopToolbar.tintColor = [UIColor redColor]; 
```

如果这在 iOS6 和 iOS5 中都可以正常工作，那么问题应该出在图像中。

**编辑** 检查这个问题

[iphone:UIToolbar 设置为 tint color 在 iOS 5 和 ios6 模拟器上的行为不同？](https://stackoverflow.com/questions/12833628/iphoneuitoolbar-when-set-to-tint-color-behaves-differently-on-ios-5-and-ios6-si)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-31T08:55:37.660

我已经解决了。刚刚将图像转换为 RGB 值并像这样设置。

```
myTopToolbar.tintColor = [UIColor colorWithRed:139/256.0 green:0/256.0 blue:0/256.0 alpha:1.0]; 
```

# xml - 为什么选择目标命名空间？

> ID：14098745
> 
> 赞同：2
> 
> 时间：2012-12-31T07:23:25.867
> 
> 标签：xml, xsd, xml-namespaces, xsd-validation

首先，我知道有一个类似的线程试图回答相同的问题。但对我来说不幸的是，这并不能消除混乱。

所以这又是一个问题：

为什么我们需要在 xml 模式文档中指定 targetNamespace？
我们可以在一个 instanceDocument 中定义多个命名空间并将这些命名空间关联到相应的模式文档。targetNamespace 的需求在哪里出现？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T08:02:17.863

targetNamespace 是将分配给您正在创建的模式的命名空间。它是实例用来访问它声明的类型的命名空间。在以下代码中，模式将分配给命名空间`http://www.somewebsite.com/Something`

```
 <schema xmlns="http://www.w3.org/2001/XMLSchema"   
targetNamespace="http://www.somewebsite.com/Something/Foo">  
...  
</schema> 
```

在 XML 文档实例中，您通过 xmlns 属性声明将要使用的名称空间。例如：

```
<purchaseOrder xmlns="http://www.somewebsite.com/Something/Foo"  
xmlns:addr="http://www.somewebsite.com/Something/Foo/addr">  
  <accountName>Shanita</accountName>  
  <accountNumber>123456</accountNumber>  
  <addr:street>20 King St</addr:street>  
</purchaseOrder> 
```

这里的默认命名空间是`http://www.somewebsite.com/Something/Foo`，它引用了之前创建的模式。此命名空间适用于声明它的元素及其子元素，除非它们带有前缀。在示例中，所有元素都属于默认命名空间，除了`addr:street`. 既然是前缀，就属于addr命名空间( `xmlns:addr="http://www.somewebsite.com/Something/Foo/addr`")

# mysql - 在 mysql 查询中使用 min、max 和 avg

> ID：14098746
> 
> 赞同：5
> 
> 时间：2012-12-31T07:23:29.473
> 
> 标签：mysql, sql

我有一张像下面这样的桌子。

我想要在单个查询中的最小、最大和平均成本产品的 product_id。

```
CREATE TABLE productlist(product_id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
                         cost INT);                             

INSERT INTO productlist(cost)
                 VALUES('2450'),
                       ('2200'),
                       ('2580'),
                       ('2405'),
                       ('3500'),
                       ('1500'),
                       ('1800'),
                       ('1520'),
                       ('1740'),
                       ('1940'),
                       ('2940'),
                       ('1250'),
                       ('1290'),
                       ('1390'),
                       ('2900'); 
```

输出：

```
Min    12
Max    5
Avg    2093 
```

我尝试了下面的一个，但它不起作用。

```
SELECT product_id, MIN(cost) as mincost
  FROM productlist
 GROUP BY product_id
 ORDER BY mincost ASC
 LIMIT 0,1
 UNION
SELECT product_id, max(cost) as maxcost
  FROM productlist
 GROUP BY product_id
 ORDER BY maxcost DESC
 LIMIT 0,1 
```

我该怎么做

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:33:18.067

```
select product_id, cost
from productlist where cost = (SELECT max(cost)from productlist)
union
select product_id, cost
from productlist where cost = (SELECT min(cost)from productlist)
union
select product_id, cost
from productlist where cost = (SELECT x.cost from productlist x, productlist y
GROUP BY x.cost
HAVING SUM(SIGN(1-SIGN(y.cost-x.cost))) = (COUNT(*)+1)/2) 
```

这使用中位数，在每种情况下都返回产品 ID

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T07:33:55.927

```
select 'Min', product_id 
from productlist
where cost = (select min(cost) from productlist)
UNION 
select 'Max', product_id
from productlist
where cost = (select MAX(cost) from productlist)
UNION 
select 'Avg', round(AVG(cost),0) as Avg
from productlist 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-31T07:35:43.867

你想要的输出不是你写的查询你需要尝试这个以获得所需的输出

```
select 'Min', product_id 
from productlist
where cost = (select min(cost) from productlist)
UNION 
select 'Max', product_id
from productlist
where cost = (select MAX(cost) from productlist)
UNION 
select 'Avg', floor(AVG(cost)) as Avg
from productlist 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-31T07:32:41.153

这完全回答了您的问题，但应该注意的是，它需要 3 次表扫描才能找到此数据。此外，问题中的示例表明平均值从 2093.67被[截断为 2093。](http://dev.mysql.com/doc/refman/5.5/en/mathematical-functions.html#function_truncate)[用round](http://dev.mysql.com/doc/refman/5.5/en/mathematical-functions.html#function_round)替换它可能会更好。

[SQL小提琴](http://sqlfiddle.com/#!2/bb224/30)

```
SELECT concat('Min ', product_id) 
  FROM productlist
 WHERE cost = (SELECT min(cost) from productlist)
UNION ALL
SELECT concat('Max ', product_id) 
  FROM productlist
 WHERE cost = (SELECT max(cost) from productlist)
UNION ALL
SELECT concat('Avg ', truncate(avg(cost), 0)) 
  FROM productlist 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-31T07:26:43.267

这是选择所有产品

```
 SELECT 
          max(cost), MIN(cost), AVG(cost)
    FROM 
          productlist
    GROUP BY
          product_id 
```

这里并不完全需要 GROUP BY。但似乎你是初学者，谷歌搜索会帮助你。

对于你的问题，试试这个。

```
SELECT 
          (select CONCAT(product_id, '-', cost) from  productlist group by product_id order by cost DESC limit 1) as MAX,
          (select CONCAT(product_id, '-', cost) from  productlist group by product_id order by cost ASC limit 1) as MIN,
          (select avg(cost) from  productlist) as AVG
FROM 
           productlist limit 1 
```

# reflection - 如何使用反射按名称获取包常量值？

> ID：14098757
> 
> 赞同：2
> 
> 时间：2012-12-31T07:25:11.223
> 
> 标签：reflection, go

这是一个有一些常量的包。

```
package object

type Languaege int

const (
    Javascript Languaege = iota
    C
    Cpp
    Shell
) 
```

//==========================================

如果我知道它的名称，如何获取类型 Language 的值？

```
package main
func GetConstByName(name String) {
    ....
}
lang := GetConstByName("Shell") 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-31T08:39:40.817

`Language`如果您想保持`const`整数类型，我认为您只能手动完成。

这就是我要做的——让 Language 实现[Stringer](http://golang.org/pkg/fmt/#Stringer)，这意味着你也可以打印它。然后您可以反转`languageMap`以将语言字符串转换为`Language`

[游乐场链接](http://play.golang.org/p/_6TTwGDJRX)

```
package main

import "fmt"

type Language int

const (
    Javascript Language = iota
    C
    Cpp
    Shell
)

var languageMap = map[Language]string{
    Javascript: "Javascript",
    C:          "C",
    Cpp:        "Cpp",
    Shell:      "Shell",
}

func (l Language) String() string {
    return languageMap[l]
}

var languageMapReverse map[string]Language

func NewLanguage(languageName string) Language {
    if languageMapReverse == nil {
        languageMapReverse = make(map[string]Language)
        for l, name := range languageMap {
            languageMapReverse[name] = l
        }
    }
    return languageMapReverse[languageName]
}

func main() {
    fmt.Printf("C is %d: %s: %d\n", C, C, NewLanguage("C"))
    fmt.Printf("Shell is %d: %s: %d\n", Shell, Shell, NewLanguage("Shell"))
} 
```

这输出

```
C is 1: C: 1
Shell is 3: Shell: 3 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-12-31T08:04:15.070

你试图滥用反射。在这种情况下，幸运的是，它不会起作用。如果要将字符串键*映射*`map[string]someValueType`到某些关联值，请改用 a 。

# jquery - JQuery：点击不起作用

> ID：14098759
> 
> 赞同：0
> 
> 时间：2012-12-31T07:25:12.167
> 
> 标签：jquery

这很奇怪，但点击事件不起作用。代码没有错误，我用的是Firebug。

```
 $('#tri1').on('click', function () {
        alert("foo");
    }); 
```

请参阅[JSFiddle 的文档](http://jsfiddle.net/ejAYp/1/)。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T07:30:11.497

它看起来像`#tri1`被 覆盖`#text1`。尝试这个：

```
 $('#text1').on('click', function () {
            alert("Sasa");
        }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T08:12:58.977

```
 Try this

$('#TextWrapper div').on('click', function () {
                alert("foo");
            }); 
```

# mongodb - 是否可以在 Mongodb MapReduce 中进行 Reduce-Side Join

> ID：14098761
> 
> 赞同：0
> 
> 时间：2012-12-31T07:25:23.153
> 
> 标签：mongodb, mapreduce

我读到 Hadoop 框架支持像 Reduce-Side、Replicated 和 Composite 连接这样的连接。Mongodb 中的这些连接是否有任何形式的支持？

对我来说，用例是每个记录的用户都有一组事件及其发生。样本是

```
{_id: uniqueEventId, event: login, userId: abc} 
```

还有另一个包含有关用户的详细信息的集合，并且用户的属性不固定。示例文档是

```
{_id: abc, city: "SF", state: CA, customfield1: value1...} 
```

我需要的结果是事件、userId 的聚合，还需要填充用户详细信息。样本，

```
{userId: abc, event: login, count:23, city: SF, state: CA} 
```

这样我就可以根据具有最大登录事件和类似查询的州或城市进行查询。

我考虑将用户文档作为事件文档的一部分嵌入，但如果用户属性发生变化，我需要从字面上更新所有事件集合，这将是巨大的。

我查看了从此[链接](http://tebros.com/2011/07/using-mongodb-mapreduce-to-join-2-collections/)合并两个集合的方法，但这并不完全有用，因为我需要运行reduce函数的键是复合键（userId + event）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T09:14:52.767

I would like to note this JOIN cannot be used in realtime to your app and by doing it you are breaking MongoDB, however, yes; there is a way to map-reduce a JOIN.

In your first MR that gets the:

```
{_id: abc, city: "SF", state: CA, customfield1: value1...} 
```

You just emit this row and write it to a new collection. Then in your second MR where you get:

```
{userId: abc, event: login, count:23, city: SF, state: CA} 
```

You make `userId` actually `_id`:

```
var map = function(){
    emit(this.userId, {this.event, //etc});
} 
```

Or a compound key:

```
var map = function(){
    emit({o: this.userId, e: this.event}, {this.event, //etc});
} 
```

Then you reduce as normal but change the command, or rather call, to the server so that the `out` option within the MR actually points to the result of your first MR adding a `reduce` or `merge` command on the `out` option to make the two collections join on duplicate `_id`s:

```
db.col.mapreduce( map, reduce, { out: {merge:collection_from_first_mr} }) 
```

That is basically how it works.

Going back to my first notice at the start of this answer. This is not SQL JOINs and they should not be treated as such. The JS engine is:

*   Slow
*   Single threaded
*   Not actually MongoDB or Server-side, it is actually a built in JS engine to MongoDB

If the collection gets out of control or this command is run in realtime to your app you could easily see performance problems of other JavaScript (remember it is single threaded) that needs to run on your server does productive stuff.

### Edit

> so that I can query based on state or city which has max login events and similar kind of queries.

Wouldn't the login occur in that city though? So maybe the login row should contain a city and state field. This won't need updating and sound kind of odd that it would since that login would happen there, not anywhere else so:

> I need to update literally all of the events collection which will be huge.

Becomes obsolete since the login event will not need updating because it happened in the state/city it was recorded in which is correct.

So I would actually go for a schema of:

```
{_id: uniqueEventId, event: login, userId: abc, state: '', city: ''} 
```

And aggregate on that.

# android - 如何在 andengine opengl 2.0 中使用剪辑？？？

> ID：14098762
> 
> 赞同：2
> 
> 时间：2012-12-31T07:25:23.957
> 
> 标签：android, andengine

嗨，我是 andengine 的新手，我想剪辑屏幕的某些部分，但我不知道该怎么做。帮帮我.. 我正在使用 Andengine EGL 2.0。我在论坛中找到了一些答案，但都是针对 EGL1.0 但我使用的是 EGL2.0。

# javascript - 重定向一个 urls 域，但不是结束（结束含义 /index.html）

> ID：14098765
> 
> 赞同：0
> 
> 时间：2012-12-31T07:25:35.777
> 
> 标签：javascript, redirect

我会告诉你我的意思。因此，假设我有网址 www.url1.com，并且我将域更改为 www.url2.com，但是在大量其他网站上仍有指向我网站的链接，这些网站仍然指向 url1.com/post/12345678 和 url1。 com/post/91029323 等。我仍然拥有这两个域，但我需要 url1.com/post/1 和 url1.com/post/9 重定向到 url* *2* *.com/post/1 和 url* *2* * .com/post/9 代替。

你明白我在说什么吗？

现在这些不是真正的网站，它们是由 tumblr 托管的博客，但有相同的区别。我想我已经弄清楚了代码，但它似乎不起作用。

```
<html>
    <head>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script language="javascript" type="text/javascript">
       function myFunction()
        {
        var permalink = document.URL;
        var newlink = permalink.replace("url1","url2");
        window.location.replace(newlink);
        }
    </script>
</head>
    <body onload="myFunction()">
        come ooon redirect already
    </body>
</html> 
```

出于某种原因，它在编辑博客主题时可以在预览中使用（它是 html 代码旁边的 iframe（tumblr 事物）），但不适用于博客本身。

如果有一种更简单的方法来做到这一点（请仅使用 javascript jquery（除非它是 html 或 css（可能不是 css））其他一切都对我不起作用）请告诉我我有时会忘记提前谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T08:31:59.217

利用

```
window.location = newlink; 
```

# c# - 在 winforms 中立即导航表单

> ID：14098766
> 
> 赞同：0
> 
> 时间：2012-12-31T07:25:52.673
> 
> 标签：c#, winforms

我正在通过 c# winforms 开发一个项目。我在表单之间导航时遇到问题。

我正在使用经典的表单导航。

当我单击主表单上的按钮时，将打开一个新表单，上面有很多项目。

这是我使用的代码。

```
frmMuayAnaEkran frm = new frmMuayAnaEkran();
frm.ShowDialog(); 
```

所以问题是表单创建太慢了。真的，打开需要 8-10 秒。我该如何解决这个问题？这是我要打开的表单屏幕：http: [//j.mp/VRMyby](http://j.mp/VRMyby)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T07:30:33.027

我想问题出在您在表单构造函数或 FormCreated 事件中执行一些昂贵的操作。也许您正在查询数据库或一些远程服务。您可能会考虑以下几点：

*   在后台线程上执行昂贵的操作。例如，您可以使用[BackgroundWorker](http://msdn.microsoft.com/en-us/library/system.componentmodel.backgroundworker.aspx)。这不会使数据显示得更快，它只会提供更好的用户体验，因为表单会立即显示，数据会稍后显示，不会阻塞主 UI
*   优化昂贵的操作。例如，如果您正在执行 SQL 查询，您可能希望通过 SQL 分析器查看这些查询是否可以以某种方式进行优化。令人难以置信的是，通过在某些列上放置索引可以使 SQL 查询运行得更快。如果您正在执行 HTTP 请求以获取数据，您可能会考虑是否可以减少这些请求的数量 - 通常最好发送更少的请求以通过网络返回更多数据，而不是发送许多带有小数据的请求。
*   您可以将昂贵操作的结果缓存在内存中，以便用户下次打开相同的表单时，他不需要等待太多时间来检索这些结果。
*   根据应用程序的架构和导航工作流程，您可以在用户实际导航到表单之前开始预加载一些数据。当然，这应该在后台线程上再次完成，以避免冻结主工作线程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T07:50:59.973

假设您在表单加载时有以下事情要做：

```
void LoadStartupItemsAndDataBlahBlah(object sender, DoWorkEventArgs e)
{
    int s = 0;
    for (int i = 0; i < 1000; i++)
        for (int j = 0; j < 1000; j++)
            for (int k = 0; k < 1000; k++)
               s++;
    MessageBox.Show(s.ToString());
} 
```

如果您在表单加载中调用此方法

```
private void Form5_Load(object sender, EventArgs e)
{
    Stopwatch t = new Stopwatch();
    t.Start();
    LoadStartupItemsAndDataBlahBlah(null,null);
    t.Stop();
    this.Text = string.Format("[{0}] mili-seconds", t.ElapsedMilliseconds);
} 
```

您的表单在大约 5 秒（5000 毫秒）后运行，并显示一个消息框`1000000000`

但是如果你在后台运行该方法

```
private void Form5_Load(object sender, EventArgs e)
{
    BackgroundWorker bg = new BackgroundWorker();
    bg.DoWork += new DoWorkEventHandler(LoadStartupItemsAndDataBlahBlah);
    Stopwatch t = new Stopwatch();
    t.Start();
    bg.RunWorkerAsync();
    t.Stop();
    this.Text = string.Format("[{0}] mili-seconds", t.ElapsedMilliseconds);
} 
```

您的表单在大约 0-1 毫秒内加载得非常快，并且在 5 秒内消息框将到达并显示它的值`1000000000`

# php - Codeigniter 显示 404 未找到页面。

> ID：14098772
> 
> 赞同：0
> 
> 时间：2012-12-31T07:26:16.887
> 
> 标签：php, codeigniter, lamp

好吧，我的 Codeigniter 页面中有一个奇怪的问题。我有一个控制器类`books.php`

```
> <?php
> //echo 'Hello';
> class Books extends CI_Controller{
>     function __construct() {
>         parent::__construct();
>     }
>     
>     
>     function main()
>     {
>         $this->load->view('main_view');
>     }
>     
>     function input()
>     {
>         $this->load->view('input_view');
>     } } ?> 
```

现在，如果我将浏览器指向`http://localhost/CodeIgniter/index.php/books`它，则会显示Now 如果我在类声明上方`404 Page not found.`添加一个，它会显示 hello 并在页面顶部和该行之后出现相同的 404 错误。这是由于权限问题。有权限。`echo 'Hello';``books.php``777`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:27:57.513

```
> <?php
> //echo 'Hello';
> class Books extends CI_Controller{
>     function __construct() {
>         parent::__construct();
>     }
>     
>     
>     function index()
>     {
>         $this->load->view('main_view');
>     }
>     
>     function input()
>     {
>         $this->load->view('input_view');
>     } } ?> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-31T07:35:21.530

访问时：

> [http://www.example.com/CodeIgniter/index.php/books](http://www.example.com/CodeIgniter/index.php/books)

默认路由器实际上会加载

> [http://www.example.com/CodeIgniter/index.php/books/index](http://www.example.com/CodeIgniter/index.php/books/index)

因此它正在寻找**索引**方法。

尝试添加方法或调用您定义的方法之一：

```
http://localhost/CodeIgniter/index.php/books/main
http://localhost/CodeIgniter/index.php/books/input 
```

此外，您应该避免对您的文件拥有 777 权限。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-31T07:30:05.507

您缺少该`index()`功能。请参阅其用户指南中的[CodeIgniter URL](http://ellislab.com/codeigniter/user-guide/general/urls.html)主题以了解有关其基于分段的方法的更多信息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-31T07:28:59.323

请在您的 books.php 中创建一个索引函数，或者只是为了测试，只需将主函数签名重命名如下 -

函数索引（）

> ```
> {
>     $this->load->view('main_view');
> } 
> ```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-31T07:32:18.967

请尝试以下代码

```
<?php
> //echo 'Hello';
> class Books extends CI_Controller{
>     public function index() {
>         echo "check";
>     }
>     
>     
>     function main()
>     {
>         $this->load->view('main_view');
>     }
>     
>     function input()
>     {
>         $this->load->view('input_view');
>     } } ?> 
```

# templates - 在 Dreamweaver 模板中隐藏组件链接

> ID：14098775
> 
> 赞同：7
> 
> 时间：2012-12-31T07:26:25.347
> 
> 标签：templates, dreamweaver, tridion

Dreamweaver 模板使用以下代码生成组件链接。如果组件链接没有登录页面，是否可以通过隐藏实际文本的方式进行设置？

```
 <a tridion:href="@@Component.ID@@">@@Component.Fields.Title@@</a> 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-31T08:36:21.317

`tridion:textonfail="False"`如果链接无法解析（没有登录页面），您可以使用属性： 隐藏文本。默认值为**真**

# asp.net - Post Redirect 在未保存状态的情况下获取最佳实践

> ID：14098776
> 
> 赞同：0
> 
> 时间：2012-12-31T07:26:25.783
> 
> 标签：asp.net, asp.net-mvc, web

众所周知，保存状态的 POST 请求应遵循 PRG 模式。

但是当某些业务验证失败并决定不将状态保存为 POST 请求的一部分时，我们需要遵循 PRG 还是只返回视图（在 ASP.NET MVC 的情况下）

这方面的最佳做法是什么。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:33:18.367

PRG 模式用于[避免重复提交表单](http://en.wikipedia.org/wiki/Post/Redirect/Get)。在涉及影响用户的“状态”更改（从信用卡中扣除，订单提交）的情况下，最好遵循这种模式。

所以即使在服务端业务验证失败的情况下，用户刷新页面的问题依然存在，那为什么不在这种场景下也使用PRG呢？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:36:09.360

如果验证失败，只需重新显示相同的视图。如果验证成功，您修改服务器上的某些状态并执行重定向。

# jquery - 以前的“jQuery div 对周围元素进行动画处理”的变体

> ID：14098783
> 
> 赞同：0
> 
> 时间：2012-12-31T07:26:49.653
> 
> 标签：jquery, jquery-animate, clone, overlap

我想扩展[这个](https://stackoverflow.com/questions/4590225/jquery-div-animate-over-surrounding-elements)较早的问题，特别是[这个](https://stackoverflow.com/questions/4590225/jquery-div-animate-over-surrounding-elements/4590354#4590354)答案，它在那里有效，但不适用于我的情况。我想为 div 设置动画并让它与周围的 div 重叠（而不是取代它们），并且 <不同>div 将具有结构化内容</不同>。

根据我的情况调整的上一个答案的代码是：

```
<style>
  .thumb { width:100px; height:100px;  background-color:red; margin:1em; }
</style>
<body>
  <div style="width:270px">
    <div class="thumb">
      <h2>1.2</h2>
    </div>
    <div class="thumb">
      <h2>2.2</h2>
    </div>
  </div>
</body>

$(function() {
  $(".thumb").bind("mouseover", function() {
    var n = $(this).clone();
    var of = $(this).offset();
    n.css({position:'absolute', top: of.top, left: of.left, margin: 0})
      .appendTo("body")
      .animate({
        width:200,
        height:200
      });
    n.bind("mouseout", function() {
      $(this).stop(true).remove();
    });
  });
}); 
```

并且可以在[http://jsbin.com/ukinig/1/edit进行测试](http://jsbin.com/ukinig/1/edit)

问题：当鼠标悬停在 div.thumb 上时，它的动画效果很好，但如果指针悬停在子 h2 上，据我了解，事件再次触发，再次传播到父 div.thumb 并导致动画重复。移入和移出 h2 会导致动画重复。

我尝试阻止事件从 div.thumb 的任何子级传播： $('.thumb').find('*').bind('mouseover',function(){ return false; });

但在我的情况下不起作用，因为周围的 div 完全被其内容覆盖，所以动画永远不会被触发。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T08:04:47.033

首先，如果您的项目允许，我建议使用最新的 jQuery 版本（即 1.8.3）。

我已经通过使用`mouseenter`和`mouseleave`事件实现了正确的大小调整。看看：[http](http://api.jquery.com/mouseenter/) ://api.jquery.com/mouseenter/ 它说：

> mouseenter 事件在处理事件冒泡的方式上与 mouseover 不同。如果在这个例子中使用了 mouseover，那么当鼠标指针移动到 Inner 元素上时，将触发处理程序。这通常是不受欢迎的行为。

您的代码如下所示：

```
$(function() {
  $(".thumb").on("mouseenter", function() {
    var n = $(this).clone();
    var of = $(this).offset();
    n.css({position:'absolute', top: of.top, left: of.left, margin: 0})
      .appendTo("body")
      .animate({
        width:200,
        height:200
      });

    n.on("mouseleave", function() {
      $(this).stop(true).remove();
    });
  });

}); 
```

# graph - 强制节点位于另一个节点的正下方

> ID：14098784
> 
> 赞同：8
> 
> 时间：2012-12-31T07:26:55.203
> 
> 标签：graph, graphviz, dot

我有一个从左到右排列的图表。但是，此图中的某些元素我希望相对于另一个节点进行定位。例如，如果我有这个图表：

```
digraph "Test" {
    rankdir = "LR"
    A -> B
    B -> C
    D -> B
    note -> B

    note [ shape="house" ]
}; 
```

它呈现如下：

![正常 DOT 布局](../Images/171445424385368d0b38ce6601b0a9b6.png)

但是，我希望“注释”节点始终直接位于它指向的节点下方，如下图（手动创建）图：

![所需的 DOT 布局](../Images/3f33ca746c800a8a3b522371b15cfb01.png)

我尝试过使用具有不同属性和摆弄属性的子图进行试验，`rankdir`但未能成功，因为我只在 DOT 上玩了几天。`rank``constraint`

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-31T15:24:31.060

您可以在定义边之前枚举节点，然后通过将它们放在*子图中将节点**约束*到与节点`B`相同的等级：`note`

 *```
digraph "Test" {
    rankdir = "LR"
    A;D;
    {rank=same; note; B;}
    C;

    A -> B
    B -> C
    D -> B
    B -> note [dir=back]

    note [ shape="house" ]
}; 
```

请注意，为了让 node`note`低于 node `B`，我必须反转边缘方向并添加`dir=back`以正确绘制箭头。

![图形输出](../Images/124e84565c91ae8c50c7366fce30aced.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-31T07:55:20.230

移动节点的一般技术是创建不可见的边缘。在您的情况下，您可以创建一个边缘 from `A`to `note`，将其标记为不可见，然后将边缘 from `note`to标记`B`为非约束：

```
A -> note [style="invis"];
note -> B [constraint=false]; 
```*

# oop - 如何为 OO 场景建模

> ID：14098785
> 
> 赞同：0
> 
> 时间：2012-12-31T07:26:55.373
> 
> 标签：oop, design-patterns

我经常遇到类似这样的场景：

对层次结构建模的容器业务类。

参与此层次结构并由上述类聚合的业务类。

让我给你举个例子。

A`Map`有国家。现在`Map`应该知道每个国家在哪里`Country`，因为除了包含所有国家之外，它的主要职责是了解每个国家的位置和接近度。从这个角度来看，`isNeighbour(Country A, Country B)`诸如此类的功能似乎是对`Map`. 然而，每个国家也应该提供一种方法来知道一个国家是否在附近。说`spain.isNeighbour(italy)`。这确实很有用。现在，如果我不想重复功能和责任，我应该采取什么方法？

我正在研究的当前示例是针对我的大学的，每门课程都需要其他课程，并且还会阻止下一级课程。专业是包含所有课程并规定哪一门课程先于哪一门课程的专业。假设我想增加一门课程对另一门课程的依赖，例如，要学习微积分 2，你需要微积分 1……我应该去`calculus.addRequired(calculus2)`然后将它传递给主要对象，或者也许`computerScience.addRequired(calculus1, calculus2)`……

我不想同时拥有这两种选择，因为对我来说这似乎会导致错误，但同时我希望每门课程都能够回答其要求。我真的不知道如何正确分配责任。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:39:42.060

第一件事是，互相打电话没有问题。

你可以有

```
boolean Map.isNeighbour(Country A, Country B) { return A.isNeighbour(B); } 
```

或者

```
boolean Country.isNeighbour(Country other) { return map.isNeighbour(this, other); } 
```

其次似乎需要参考全球地图。首先使 Map 看起来像简单的外观。

第二件事是你说它是持久的。创建一个服务也可能是个好主意，它将使用相关参数查询数据库。这可以是 Map 或一些存储库服务。这也将允许您仅使用实体的身份（例如 countryId）而不是完整对象进行查询。

我相信这两种解决方案都没有更好或更坏。唯一不同的是其他开发人员期望方法位于何处。但是当我想到它时，这将意味着 Map 将承担 Country 的所有责任，从而破坏 SRP，特别是如果它不是对 country 方法的调用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T08:08:48.110

我会将`isNeighbour()`方法放入`Country`. `Country`将包含邻居地图。然后容器可以在相关国家实例上调用此方法。

这样逻辑由国家维护，容器简单地委托给他们回答问题。

在课程的情况下，专业 1 中的课程 2 可能需要课程 1，但专业 2 中不需要。在这种情况下，我将介绍另一个类，例如 CourseInMajor，它将包含给定专业中给定课程的必修课程。

# objective-c - 当行中的单元格被删除之前如何动态更改 UITableViewCell 的标签？

> ID：14098786
> 
> 赞同：1
> 
> 时间：2012-12-31T07:26:58.230
> 
> 标签：objective-c, ios, uitableview

更新：我已经解决了这个问题，方法是重新标记剩余的单元格，方法是在 for 循环中循环遍历它们，每次将 indexpath 的行递增到剩余的数据量。

我有一个包含 2 个部分的 UITableView。一节是固定的。另一部分动态变化，用户单击按钮并添加新行。这些单元格包含三个用户可以编辑的文本框（标记为 1、2 和 3）。此部分中的行是可编辑的，用户可以滑动和删除。所有这些功能目前都运行良好。这是用户界面：

![在此处输入图像描述](../Images/24ba2a0220aef38227e31a9e80f890e2.png)

当我尝试更新数据源时，无法正常工作。我使用一个数组，其中包含一个名为“ReceiptItem”的自定义类的对象。当用户在单元格中编辑其中一个 UITextField 时，我正在更新“ReceiptItem”中的相应属性。我目前正在使用标签来跟踪正在编辑的单元格和文本字段。

我识别正在编辑的单元格和文本字段的代码是：

```
- (void)textFieldDidEndEditing:(UITextField *)textField{
    //find the cell and textfield that just ended editing
    int row = textField.superview.tag;
    int column = textField.tag;

    ReceiptItem *itemToBeUpdated = [[ReceiptItem alloc]init];
    itemToBeUpdated = [receiptItemsArray objectAtIndex:row];

    //update the receiptItem
    switch (column) {
        case 1:
            //quantity text field
            itemToBeUpdated.quantityValue = [textField.text doubleValue];
            break;
        case 2:
            //item text field
            if ([textField text].length == 0) {
                itemToBeUpdated.itemName = @"Blank";
            }
            else{
                itemToBeUpdated.itemName = [textField text];
            }
            break;
        case 3:
            //price text field
            itemToBeUpdated.priceValue = [textField.text doubleValue];
            break;
    } 
    [receiptItemsArray replaceObjectAtIndex:row withObject:itemToBeUpdated];
} 
```

我遇到问题的地方是当一行被删除时。我从我的数据源中删除了相应的对象，我的数组计数减一。如果我随后尝试在已删除单元格下方的单元格中编辑文本字段，则会收到“outofbounds”错误，因为该单元格的标记现在大于数组的计数。它发生在这一行（从上面）：

```
itemToBeUpdated = [receiptItemsArray objectAtIndex:row]; 
```

我试图弄清楚如何a）更好地跟踪单元格，b）在删除单元格时重新标记单元格或c）其他内容。有什么答案吗？如果需要，我可以在我的单元格被删除的地方发布代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T08:07:32.600

我猜你在 cellForRowAtIndexPath 的方法中标记 textField if (cell == nil) like，

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
static NSString *CellIdentifier = @"Cell";
            UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

            if (cell == nil) {
                 cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier]
yourTextField.tag = indexPath.row;            
            }
} 
```

在 if 块之外进行标记，这样当您删除一行并重新加载数据时，您的 textField 将获得如下所示的新标签：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
    {
    static NSString *CellIdentifier = @"Cell";
                UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

                if (cell == nil) {
                     cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier]

                }
yourTextField.tag = indexPath.row;
return cell;
    } 
```

# gis - PostGIS中多面体和多边形之间的区别

> ID：14098793
> 
> 赞同：14
> 
> 时间：2012-12-31T07:27:43.977
> 
> 标签：gis, polygon, postgis, esri

`point`和 和有什么不一样`multipoint`？`linestring`和`multilinestring`？`polygon`和`multipolygon`？在 PostGIS 中

定义“多重”形状背后的秘密是什么？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-12-31T08:49:10.947

“多”的意思是，这种类型的几个对象被“组合”在一起成为单个对象。例如，想象一下菲律宾。那个国家由许多岛屿组成——你不能用单个多边形来绘制它；并且将它存储为几个不同的数据库行会很不方便，每个行都包含一个多边形。

# javascript - 无法使用 javascript 获取当前日期时间

> ID：14098801
> 
> 赞同：2
> 
> 时间：2012-12-31T07:28:16.863
> 
> 标签：javascript, datetime

```
var now = new Date();
var dateString = now.getMonth() + "-" + now.getDate() + "-" + now.getFullYear() + " "
+ now.getHours() + ":" + now.getMinutes() + ":" + now.getSeconds(); 
```

这里月份显示不正确。

例如，如果输出是 12 月，它会打印 11 月

`now.getMonth() +1`将显示正确的月份。

我正在寻找更好的方法。

我的应用程序必须在两个单选按钮之间进行选择。第一个选项应返回当前系统日期和时间，其他返回从 jsp 中选择的日期和时间。在选择这两个选项中的任何一个时，它应该以特定格式将日期返回给控制器。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T07:35:20.873

[`getMonth()`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date/getMonth)根据定义返回从 0 到 11 的月份。

如果你不习惯这个，你可以改变一个`Date`对象的原型：

```
Date.prototype.getFixedMonth = function(){
    return this.getMonth() + 1;
}

new Date().getFixedMonth(); //returns 12 (December)
new Date("January 1 2012").getFixedMonth //returns 1 (January) 
```

但这根本不推荐。

* * *

## 另一种方法

如果你愿意，你也可以这样做：

```
Date.prototype._getMonth = Date.prototype.getMonth;
Date.prototype.getMonth = function(){       //override the original function
    return this._getMonth() + 1;
}

new Date().getMonth(); //returns 12 (December)
new Date("January 1 2012").getMonth //returns 1 (January) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-31T07:31:48.643

`getMonth()`应该将月份作为从 0 到 11 的索引返回（0 是一月，11 是十二月）。所以，你得到的是预期的返回值。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-31T07:52:22.427

这是功能

```
 function GetTime_RightNow() {
        var currentTime = new Date()
        var month = currentTime.getMonth() + 1
        var day = currentTime.getDate()
        var year = currentTime.getFullYear()
        alert(month + "/" + day + "/" + year)
    } 
```

# javascript - 如何为其他网站创建嵌入代码

> ID：14098802
> 
> 赞同：26
> 
> 时间：2012-12-31T07:28:22.257
> 
> 标签：javascript, html, embed

我有一个工作门户服务，其他用户可以将其用于他们的网站和博客。他们从我的网站复制嵌入代码，将其粘贴到他们的网站并在他们的网页上显示工作板。如何创建这个嵌入代码任何人都可以帮助我。

这是示例 monster.com 发布者[网站](http://publisher.monster.com/Widgets/View-Code.aspx)。

单击获取示例代码按钮。

```
<div id="MonsterJobSearchResultPlaceHolderIy8AAA_e_e" class="xmns_distroph"></div>
<script type="text/javascript">
(function() {
  var oScript = document.createElement('script');
  oScript.type = 'text/javascript';
  oScript.async = true;
  oScript.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'publisher.monster.com/Services/WidgetHandler.ashx?WidgetID=EAAQgDMlA5vzabXFzuv86ZpLpA--&Verb=Initialize';
  var oParent = document.getElementsByTagName('script')[0];
  oParent.parentNode.insertBefore(oScript, oParent);
})();
</script>
<a id="monsterBrowseLinkIy8AAA_e_e" class="monsterBrowseLink fnt4" href="http://jobsearch.monster.com/browse/">View More Job Search Results</a> 
```

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-12-31T08:20:11.713

有**很多**方法可以达到你的目标。由于您没有明确说明您的需求，我只提供一个简单的示例：

```
<script type='text/javascript' charset='utf-8'>     
   var iframe = document.createElement('iframe');       
   document.body.appendChild(iframe);

   iframe.src = 'URL OF CONTENT YOU WANT TO PROVIDE';       
   iframe.width = 'THE WIDTH YOU WANT';
   iframe.height = 'THE HEIGHT YOU WANT';
</script> 
```

1.  根据您的需要修改代码
2.  在您的 html 中转义此代码
3.  玩得开心你的真棒嵌入式小部件！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-09-01T04:33:07.607

如何在 .cs 中使用 Javascript 创建嵌入

> 注意：localhost:3197/website/js/embed/form.js'; // 给出你的 js 路径
> 
> FormBuilder(921,'MjEzNjkxMjU='); 在此方法中，第一个参数给出您的表单高度，第二个参数给出您的表单名称或 ID。有id是编码格式

```
StringBuilder sb = new StringBuilder();
    sb.Append("<script type='text/javascript'>");
    sb.Append("(function(d, t) { var s = d.createElement(t), options = {");
    sb.Append("'async':true };");
    sb.Append("s.src = ('https:' == d.location.protocol ? 'https://' : 'http://') + 'localhost:3197/website/js/embed/form.js';");
    sb.Append("s.onload = s.onreadystatechange = function() {");
    sb.Append("var rs = this.readyState; if (rs) if (rs != 'complete') if (rs != 'loaded') return;");
    sb.Append("try { frm = new FormBuilder("+Form Height+",'"+FormId+"');frm.initialize(options);frm.display(); }");
    sb.Append("catch (e) {}};");
    sb.Append("var scr = d.getElementsByTagName(t)[0], par = scr.parentNode; par.insertBefore(s, scr);");
    sb.Append("})(document, 'script');</script>");

    txtjavascript.Value = sb.ToString();  // text box name 
```

创建嵌入脚本后简单易用的方法将此脚本粘贴到您要在其他页面中显示的位置之后

> (function(d, t) { var s = d.createElement(t), options = {'async':true }; s.src = ('https:' == d.location.protocol ?'https:// ' : 'http://') + 'localhost:3197/website/js/embed/form.js'; s.onload = s.onreadystatechange = function() {var rs = this.readyState; if (rs) if (rs != 'complete') if (rs != 'loaded') return; try { frm = new FormBuilder(921,'MjEzNjkxMjU='); frm.initialize(options); frm.display(); }catch ( e) {}}; var scr = d.getElementsByTagName(t)[0], par = scr.parentNode; par.insertBefore(s, scr);})(document, 'script');

之后在你的 js 文件中创建这样的函数并创建 iFrame 并创建查询字符串，您可以在其中从数据库中获取表单。

```
function FormBuilder(fHeight, formid) {

    var iframe = document.createElement('iframe');
    iframe.style = "height:" + fHeight + "px; width:100%; border:none";
    iframe.setAttribute('allowTransparency', true);
    iframe.frameBorder = "0";
    iframe.scrolling = "no";
    iframe.src = "http://localhost:3197/form/show-form?id="+ formid;
    document.body.appendChild(iframe);
} 
```

# wpf - WPF：将命令添加到通过绑定菜单项自动生成

> ID：14098810
> 
> 赞同：10
> 
> 时间：2012-12-31T07:29:01.103
> 
> 标签：wpf, mvvm, binding, command

使用 MVVM。我创建了单独的菜单“最近的文件”，它从绑定中获取其项目。它看起来像这样：

![在此处输入图像描述](../Images/f4fe1cb7420ece1339248fd518c0be06.png)

```
 <MenuItem Header="_Recent files" ItemsSource="{Binding RecentFiles, Converter={StaticResource RecentFilesToListOfStringsConverter}, Mode=OneWay}" >
        </MenuItem> 
```

现在，我想将命令添加到每个自动生成的项目中，它应该将路径作为命令参数并通过单击执行导入文件操作。

您能否建议如何以 MVVM 方式完成？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-12-31T07:54:22.380

再次，我自己找到了解决方案。我试图以错误的方式输入命令，如下所示，但它不起作用：

```
 <MenuItem Header="_Recent files" ItemsSource="{Binding RecentFiles, Converter={StaticResource RecentFilesToListOfStringsConverter}, Mode=OneWay}" >
            <MenuItem.ItemContainerStyle>
                <Style TargetType="{x:Type MenuItem}">
                    <Setter Property="Command" Value="{Binding ImportRecentItemCommand}" />
                </Style>
            </MenuItem.ItemContainerStyle>
        </MenuItem> 
```

这是正确的方法。还是不明白它是怎么工作的，必须深入学习WPF！

```
 <MenuItem Header="_Recent files" ItemsSource="{Binding RecentFiles, Converter={StaticResource RecentFilesToListOfStringsConverter}, Mode=OneWay}" >
            <MenuItem.ItemContainerStyle>
                <Style TargetType="{x:Type MenuItem}">
                    <Setter Property="Command" Value="{Binding DataContext.ImportRecentItemCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type MenuItem}, AncestorLevel=1}}" />
                </Style>
            </MenuItem.ItemContainerStyle>
        </MenuItem> 
```

**编辑：最终版本**

XAML：

```
 <MenuItem Header="_Recent files" ItemsSource="{Binding RecentFiles, Converter={StaticResource RecentFilesToListOfStringsConverter}, Mode=OneWay}" >
            <MenuItem.ItemContainerStyle>
                <Style TargetType="{x:Type MenuItem}">
                    <Setter Property="Command" Value="{Binding DataContext.ImportRecentItemCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type MenuItem}, AncestorLevel=1}}" />
                    <Setter Property="CommandParameter" Value="{Binding}" />
                </Style>
            </MenuItem.ItemContainerStyle>
        </MenuItem> 
```

ViewModel：使用 MVVM Light Toolkit，RelayCommand 从那里开始：

```
 private ICommand _importRecentItemCommand;

        public ICommand ImportRecentItemCommand
        {
            get { return _importRecentItemCommand ?? (_importRecentItemCommand = new RelayCommand<object>(ImportRecentItemCommandExecuted)); }
        }

        private void ImportRecentItemCommandExecuted(object parameter)
        {
            MessageBox.Show(parameter.ToString());
        } 
```

享受

# entity-framework - 父类别在实体框架延迟加载模式下始终为空

> ID：14098813
> 
> 赞同：1
> 
> 时间：2012-12-31T07:29:28.043
> 
> 标签：entity-framework, lazy-loading

它加载类别，但始终使用 null 父级。我想获取具有给定 ID 的层次结构类别。

```
public static Category GetCategory(System.Guid ID, ActionLinkInfo AInfo)
        {
            Category category = null;

            using (TIKSN.STOZE.Data.StozeContext DContext = new Data.StozeContext())
            {
                var cats = from cat in DContext.Categories where cat.ID == ID select cat;

                foreach (Data.Category Cat in cats)
                {
                    category = new Category(Cat, Cat.Parent == null ? null : GetCategory(Cat.Parent.ID, AInfo), AInfo);
                }
            }

            return category;
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:34:33.617

试试这个：

```
var cats = from cat in DContext.Categories.Include("Parent") where cat.ID == ID select cat; 
```

或者您可以更改模型，将其`ParentID`作为整数包含在`Category`类中：

```
public class Category {

    /* (...) */

    public int ParentID { get; set; }

    [ForeignKey("ParentID")]
    public Category Parent { get; set; }
} 
```

有了它，您无需从数据库`Cat.ParentID`加载整个对象即可获得。`Parent`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-05T10:19:39.347

解决方案是明确要求加载父母。

```
public static Data.Entity.Category GetCategory(long ID)
    {
        Data.Entity.Category category;

        using (Data.StozeContext DContext = new Data.StozeContext())
        {
            var categories = from SingleCategory in DContext.Categories.Include("Parent") where SingleCategory.ID == ID select SingleCategory;

            category = categories.Single();
        }

        return category;
    } 
```

# c - 任何人都可以解释以下结构

> ID：14098819
> 
> 赞同：2
> 
> 时间：2012-12-31T07:30:13.213
> 
> 标签：c, linux-kernel

linux内核中以下结构的用途是什么？我需要知道它，因为我需要在这个结构中添加一个变量。

```
static const struct modversion_info ____versions[] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T08:17:46.050

它包括模块引用的符号及其校验和，当插入模块时，检查这些符号以确保为正在运行的内核编译模块。

在 Ubnutu`kernel-headers`包中包含这个文件，其中包含内核导出的所有符号及其校验和，如果你也编译了自己的内核，你应该能够找到这个文件

```
usr/src/linux-headers-2.6.38-generic/Module.symvers 
```

请注意，我不确定您要做什么，但您不应该在模块中添加符号，当您编译模块时，会为您生成此结构。

# android - 无法将缩略图加载到 ListView

> ID：14098821
> 
> 赞同：5
> 
> 时间：2012-12-31T07:30:34.780
> 
> 标签：android, listview, gallery

我目前正在尝试制作一个简单的图片库，例如现在已弃用的 Android `Gallery`。从这个图库中，用户还可以通过从图库中选择一个图像来导航到一个简单的图像编辑器。经过大量谷歌搜索后，我设法找到了一个`HorizontalListView` [正是](http://www.dev-smart.com/?p=34)我需要的。最初，通过将图像作为压缩位图插入到我的文件夹中，我取得了很大的成功。然而，从那时起，我在[Google I/O 上找到了这个视频](http://www.youtube.com/watch?v=gbQb1PVjfqM&list=PL46069800A957F535&index=10)，他们在其中创建了一个图片库和一个图片编辑器；类似于我正在尝试创建的内容。然而，我的应用程序和他们的应用程序之间有两个主要区别：

*   他们将 a`GridView`用于他们的画廊，而我使用上述`HorizontalListView`
*   我试图仅从指定的目标路径加载图像，而不仅仅是 SD 卡上的所有图像。

到目前为止，我无法调整他们的代码以适应我的代码，因为没有图像加载到我的画廊中。与视频一样，我使用 AsyncTask 加载缩略图：

```
 private class ThumbnailAsyncTask extends AsyncTask<Long, Void, Bitmap>
    {
        //The ImageView we will be adding the thumbnail to
        private final ImageView mTarget;

        public ThumbnailAsyncTask(ImageView target)
        {
            mTarget = target;
        }

        @Override
        protected Bitmap doInBackground(Long... params) 
        {
            final long photoID = params[0];

            final Bitmap result = MediaStore.Images.Thumbnails.getThumbnail(
                    getContentResolver(), photoID, MediaStore.Images.Thumbnails.MINI_KIND, null);

            return result;
        }

        @Override
        protected void onPreExecute()
        {
            mTarget.setTag(this);
        }

        @Override
        protected void onPostExecute(Bitmap result)
        {
            if (mTarget.getTag() == this) 
            {
                mTarget.setImageBitmap(result);
                mTarget.setTag(null);
            }
        }   
} 
```

我正在为图库中的图像使用 CursorAdapter：

```
 private class PhotoAdapter extends CursorAdapter
   {
    public PhotoAdapter(Context context)
    {
        super(context, null, false);
    }

    @Override
    public View newView(Context context, Cursor cursor, ViewGroup parent) 
    {
        return LayoutInflater.from(context).inflate(R.layout.list_item, parent, false);
    }

    @Override
    public void bindView(View view, Context context, Cursor cursor) 
    {
        final long photoId = cursor.getLong(cursor.getColumnIndex(BaseColumns._ID));

        final ImageView imageView = (ImageView) view.findViewById(android.R.id.icon);

        /* 
         * Cancel any pending thumbnail task, since this view is now bound
         * to new thumbnail
         */
        final ThumbnailAsyncTask oldTask = (ThumbnailAsyncTask) imageView.getTag();

        if (oldTask != null) 
            oldTask.cancel(false);    

        /* 
         * If we arrived here, either cache is disabled or cache miss, so we
         * need to kick task to load manually
         */
        final ThumbnailAsyncTask task = new ThumbnailAsyncTask(imageView);
        imageView.setImageBitmap(null);
        imageView.setTag(task);
        task.execute(photoId);
    }
} 
```

使用以下 CursorLoader

```
 final LoaderCallbacks<Cursor> mCursorCallbacks = new LoaderCallbacks<Cursor>() 
            {
                @Override
                public Loader<Cursor> onCreateLoader(int id, Bundle args) 
                {
                    final String[] columns = {BaseColumns._ID};
                    return new CursorLoader(NewProjectActivity.this,
                            Uri.fromFile(new File(mTargetPath)), columns, null, null,
                            MediaStore.Images.Media.DATE_ADDED + " DESC");
                }

                @Override
                public void onLoadFinished(Loader<Cursor> loader, Cursor data) 
                {
                    mAdapter.swapCursor(data);
                }

                @Override
                public void onLoaderReset(Loader<Cursor> loader) 
                {
                    mAdapter.swapCursor(null);
                }
            };

    getLoaderManager().initLoader(LOADER_CURSOR, null, mCursorCallbacks); 
```

关于为什么我的图像都没有加载的任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T12:41:19.213

这里的基本问题是，`bindView()`方法不等待 asynctask 的结果。当某些内容发生更改时，您需要通知您的列表视图。

您可以进行以下更改。

1）更改`task.execute(photoId);`此设置`task.execute(photoId).get();`将强制您的`bindView()`方法等到您获得图像。这种方法是不可取的，但它会帮助您了解确切的问题。

**或者**

2) 在`onPost()`of 中`asynctask`，使列表视图的旧内容无效并尝试用新内容重新加载它。

```
mAdapter.notifyDataSetChanged();
mAdapter.notifyDataSetInvalidated(); 
```

**或者**

3）我个人建议您先通过更改代码结构完成所有网络操作（即获取图像），然后尝试使用预取数据设置您的适配器。这不是一个完美的解决方案，但它适用于我的情况。

# wpf - 创建图像文件时出错

> ID：14098825
> 
> 赞同：0
> 
> 时间：2012-12-31T07:31:29.483
> 
> 标签：wpf, image, c#-4.0, user-controls

我有一个用户控件库，它将用作另一个窗口的自定义工具提示，用户控件包含引用目录的图像刷的 ImageSource。在窗口内，我有另一个类，它将生成一个图像文件到与 imagebrush 相同的目录。

但是我在运行后得到一个错误。调用堆栈仅包含外部代码。'对与指定绑定约束匹配的'WpfApplication2.MainWindow'类型的构造函数的调用引发了异常。行号“4”和行位置“9”

这是我的片段。

UserControl1.xaml

```
 <UserControl.Resources>
    <Style TargetType="Rectangle">
        <Setter Property="Fill">
            <Setter.Value>
                <ImageBrush  ImageSource="C:\Users\user\Desktop\wpf\WpfApplication2\WpfApplication2\Images/QR.png" Stretch="Fill" />
            </Setter.Value>
        </Setter>
    </Style> 
</UserControl.Resources> 
```

显示窗口.xaml

```
 xmlns:myToolTip="clr-namespace:WpfControlLibrary2;assembly=WpfControlLibrary2"

 <myToolTip:UserControl1 Visibility="Collapsed" x:Name="customToolTip" Width="468" Height="700" /> 
```

二维码编码器.cs

```
 public QrCodeEncodercs(string encodeString)
    {
        QrEncoder qrEncoder = new QrEncoder(ErrorCorrectionLevel.H);
        QrCode qrCode = new QrCode();
        //const string encodeString = "123";
        qrEncoder.TryEncode(encodeString, out qrCode);

        Renderer renderer = new Renderer(11, System.Drawing.Brushes.Black, System.Drawing.Brushes.White);
        renderer.CreateImageFile(qrCode.Matrix, @"C:\Users\user\Desktop\wpf\WpfApplication2\WpfApplication2\Images\QR.png\Images\QR.png",
            ImageFormat.Png);

    } 
```

显示窗口.xaml.cs

当我运行上面类的构造函数时。上面提到的错误发生了。

```
qce = new QrCodeEncodercs(videoName); 
```

究竟发生了什么？有什么指导吗？提前致谢。

编辑**_ __** _InnerException

```
 InnerException: System.Runtime.InteropServices.ExternalException
   HResult=-2147467259
   Message=A generic error occurred in GDI+.
   Source=System.Drawing
   ErrorCode=-2147467259
   StackTrace:
        at System.Drawing.Image.Save(String filename, ImageCodecInfo encoder, EncoderParameters encoderParams)
        at Gma.QrCodeNet.Encoding.Windows.Controls.Renderer.CreateImageFile(BitMatrix matrix, String fileName, ImageFormat imageFormat)
        at WpfApplication2.DisplayWindow.QrCodeEncodercs(String encodeString) in c:\Users\user\Desktop\wpf\KinectREAL\WpfApplication2\WpfApplication2\DisplayWindow..xaml.cs:line 127
        at WpfApplication2.DisplayWindow.PopulateVideoListAndFirstVideo() in c:\Users\user\Desktop\wpf\KinectREAL\WpfApplication2\WpfApplication2\DisplayWindow..xaml.cs:line 157
        at WpfApplication2.DisplayWindow..ctor() in c:\Users\user\Desktop\wpf\KinectREAL\WpfApplication2\WpfApplication2\DisplayWindow..xaml.cs:line 79
        at WpfApplication2.MainWindow..ctor() in c:\Users\user\Desktop\wpf\KinectREAL\WpfApplication2\WpfApplication2\MainWindow.xaml.cs:line 45
   InnerException: 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T09:51:38.813

这些`Generic error in GDI+`例外有时可能很神秘。我过去遇到的一个原因是图像文件的扩展名不正确（例如：保存为 GIF 扩展名的 JPG）。我的第二个猜测是您要保存到的文件路径中的文件名无效。目录是否存在？

如果该文件正在使用中，您可以将其复制到一个临时目录`File.Copy`并使用`Path.GetTempFilename()`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T15:18:58.260

经过一番尝试，我设法解决了问题，并且到目前为止有效。再次感谢。

```
 System.Windows.Media.Imaging.BitmapImage bi = new System.Windows.Media.Imaging.BitmapImage();
        bi.BeginInit();
        bi.UriSource = new   Uri(@"C:\Users\user\Desktop\wpf\WpfApplication2\WpfApplication2\Images\QR.png", UriKind.RelativeOrAbsolute);
        bi.CacheOption = System.Windows.Media.Imaging.BitmapCacheOption.OnLoad;
        bi.EndInit();

        image.Source = bi; 
```

# android - 在构建 boot2gecko 时没有规则来制作目标`NOTICE-TARGET-STATIC_LIBRARIES-lib_driver_cmd_bcmdhd

> ID：14098833
> 
> 赞同：2
> 
> 时间：2012-12-31T07:32:34.273
> 
> 标签：android

在为 d2att 构建 boot2gecko 时，我得到了

```
target Strip: libssl (out/target/product/d2att/obj/lib/libssl.so)
make: *** No rule to make target 
     `NOTICE-TARGET-STATIC_LIBRARIES-lib_driver_cmd_bcmdhd',

 needed by `out/target/product/d2att/system/bin/wpa_supplicant'. 
         Stop.
make: *** Waiting for unfinished jobs.... 
```

我收到的错误是

```
out/target/product/d2att/obj/STATIC_LIBRARIES/
lib_driver_cmd_bcmdhd_intermediates/lib_driver_cmd_bcmdhd.a 
does not exit, 
```

所以我构建了 cm9 并将该文件夹中的文件复制过来。

我怎样才能解决这个问题？

另外，我怎样才能使用预建的 wpa_supplicant 呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-07T19:36:14.730

获取已编译的 wpa_supplicant 并更改 wpa_supplicant 的模块生成文件以使用`$(BUILD_PREBUILT)`并指定 wpa_supplicant 的二进制文件。那应该避免这个问题。您只需要调整构建系统中定义模块的位置即可使其正常工作。

# drupal - 在 url 过滤中使用同一级别的两个词汇表的术语

> ID：14098835
> 
> 赞同：0
> 
> 时间：2012-12-31T07:32:57.000
> 
> 标签：drupal

我有两个词汇表（**Man 和 Woman**）及其相关术语。

这些术语也用作内容类型**Men 和 Women**中的字段。现在我想在上下文过滤器的帮助下按内容类型过滤内容，并按视图模块（带有名称 **库**的自定义视图）过滤这些词汇表的术语，如下所示：

```
http://mysite.com/gallery/content-type/(Man or Woman)'s terms 
```

像这样的东西：

```
1 - http://mysite.com/gallery/men/jean
2 - http://mysite.com/gallery/women/jean 
```

第一个 url “jean” 词用于词汇 Man，第二个 url “jean” 词用于词汇 Woman。

我应该添加 3 个过滤器，一个用于内容类型，一个用于女性术语，一个用于男性术语。但是这两个 Man 和 Woman 词汇应该以 1 **%**过滤。

我知道通过使用这种路径**gallery/%/%**应该完成工作，**但是**从url 中第二个**%**中的两个词汇表的术语过滤是我的问题。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T15:49:09.047

如果您使用使用“tid from term name”进行验证的分类过滤器，则视图将无法区分 url #1 和 #2 中的“jean”。

解决这个问题的快速而肮脏的方法是使用两个视图：gallery/men/% 和 gallery/women/%。

除了它们的术语过滤器之外，它们将是相同的，您可以将其设置为通过适当的词汇表进行验证。（它们的内容类型的常规过滤器也会有所不同。）

解决此问题的编程方法将涉及使用第一个上下文过滤器作为第二个的输入，以便您可以通过词汇来限制。例如，像

```
$vocabulary = $view->args[0];  // assuming this is the machine name
$term = taxonomy_get_term_by_name($view->args[1], $vocabulary);

return (!empty($term)) ? $term->tid : 0; 
```

# c++ - 在 Xcode 上使用 C++ 创建文件

> ID：14098836
> 
> 赞同：5
> 
> 时间：2012-12-31T07:33:04.883
> 
> 标签：c++, xcode, macos, file

这应该在我的项目目录中创建一个名为“tuna.txt”的文件。当我运行它时，它编译成功，但是没有创建文件。我在使用 xcode 的 Mac 上。我已经在我的计算机上搜索了可能已创建它的其他地方，但似乎根本没有创建该文件。关于为什么它不起作用的任何想法？

```
#include <iostream>
#include <fstream>
using namespace std;
int main(void){
    ofstream file;
    file.open("tuna.txt");

    file << "I love tuna and tuna loves me!\n";
    file.close();
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-31T07:42:59.667

我向您保证，除非错误（您没有检查），否则会创建一个文件。从 IDE 运行时，Xcode 倾向于使用最终的 build-dir 作为当前工作目录。您可以通过编辑活动方案来更改此设置。

1.  单击主工具栏上 STOP 按钮右侧的项目框
2.  选择编辑方案
3.  在左侧窗格列表中选择“运行”子方案。
4.  选择选项选项卡，
5.  选中“使用自定义工作目录”复选框
6.  将工作目录设置为您*知道*的某个位置（例如您的项目根文件夹）。

注意：如果您愿意，您也可以在此处设置任何命令行参数（位于“参数”选项卡上，而不是“选项”选项卡上）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-29T01:23:31.700

在*Products*文件夹中（在Xcode IDE 左侧*Navigator选项卡的**Project Navigator*中），您将找到可执行文件。单击可执行文件。

 *如果尚未显示，请确保显示了 Xcode IDE 右侧的*Utilities选项卡，并选择了**显示文件检查*器。

在*检查*器中，您将看到显示可执行文件路径的*完整路径*，并且在其末尾会有一个箭头。单击此箭头将打开*Finder*窗口到该位置，在这里您还应该看到所有文本文件和从程序中创建的其他文件。

PS。使用搜索时找不到 tuna.txt 文件的原因是它与可执行文件一起位于隐藏文件夹中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-31T07:46:46.170

首先，您必须检查文件是否已`opened/created`存在。然后你应该搜索文件。很可能该文件尚未创建。这是代码：

```
#include <iostream>
#include <fstream>
using namespace std;

int main(void){

ofstream file;
file.open("tuna.txt");
if(file.is_open())
{
   file << "I love tuna and tuna loves me!\n";
    file.close();
}
else
   cout<< "No file has been created!\n";

  return 0;
} 
```

由于您没有给出打开函数的绝对路径。请参阅代码文件所在的文件夹。很可能该文件将在那里。*

# java - 在哪里可以找到 jasperreports-javaflow-3.7.4.jar 源代码？

> ID：14098840
> 
> 赞同：0
> 
> 时间：2012-12-31T07:33:25.173
> 
> 标签：java, jasper-reports

我在 sourceforge.net 和 google 中搜索以获取 jasperreports-javaflow-3.7.4 版本的源代码，但找不到。我在哪里可以获得下载源文件的链接？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:53:56.847

它应该在这里：[jasperreports-3.7.4-project.tar.gz](http://sourceforge.net/projects/jasperreports/files/archive/jasperreports/JasperReports%203.7.4/jasperreports-3.7.4-project.tar.gz/download)

# php - 如何在 php 中从产品名称生成其他语言的 SEF url

> ID：14098841
> 
> 赞同：1
> 
> 时间：2012-12-31T07:33:25.010
> 
> 标签：php, magento, url, sef

我想为产品形成一个 SEF url。例如，如果产品名称是 Sony Ericcsson K550 ，我的 url 将是 sony-ericcsson-k550。但是对于土耳其语、俄语和中文等其他语言，如果我们以这些特定语言输入产品名称，我想做同样的事情（形成产品 url），而不使用另一个字段来获取英文产品名称。

我已经用俄语检查了magento，当我输入俄语时，它需要俄语文本作为产品名称，并以不同的方式用英语形成产品网址。

例如，在 magento 中，我将产品名称添加为“Новые, Xbox 360 Slim, любой модификации”，它形成了如下网址。privet-jeto-ispytanij-produkta

怎么可能？如何在普通的php中做到这一点？谁能帮我？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T09:15:04.593

You can specify the product URL key at a store view level. Russian, turkish, etc are store views. When you edit the product you can change the scope:

*   Choose Store View (top - left corner)
*   Put the value you need in the field: URL Key
*   Save

Using php, you need to specify the storeId:

```
Mage::app()->setCurrentStore(STORE_ID);
$product
->setUrlKey('your-url-key-at-a-store-view-level')
->save() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-07T13:47:02.343

默认情况下，magento 不支持 URL 键中的非拉丁字符，但 Magento 连接上有一个扩展，名为“Magendev 的 URL 键大师”，它允许您在 URL 键中使用几乎任何语言的任何字符，这更 SEF。

它还可以通过两次单击以安全快捷的方式自动生成和替换基于产品名称的新 URL 密钥和旧的混乱 URL 密钥。

看看这些视频：

[http://magendev.com/urlkeymaster-doc/urlkeymaster-introduction.html](http://magendev.com/urlkeymaster-doc/urlkeymaster-introduction.html) [http://magendev.com/urlkeymaster-doc/urlkeymaster-auto-generate.html](http://magendev.com/urlkeymaster-doc/urlkeymaster-auto-generate.html)

# php - 使用ajax和php在同一页面上按链接过滤并按下拉菜单排序

> ID：14098843
> 
> 赞同：0
> 
> 时间：2012-12-31T07:33:27.267
> 
> 标签：php, ajax

我是这个网站的新手，php 和 ajax。我试过寻找解决方案，但只能找到部分解决方案。这就是我想要做的，我有一个包含 2 个链接（品牌和型号）和 2 个下拉列表（排序方式和 ASC/DESC）的页面。当用户点击 Make 链接时，页面刷新并显示 Make 的所有汽车（即所有丰田汽车）。如果点击车型，它将刷新显示所有车型的页面（即所有凯美瑞）。如果用户还点击排序依据（即年份），则需要显示品牌/型号并按年份排序。ASC/DESC 也是如此。我从该站点找到了一些示例代码来执行排序依据部分，但不知道如何使其他下拉列表和链接正常工作。这是我到目前为止所拥有的......请帮助！谢谢！

```
inventory.php

<script type="text/javascript">
function changeContent(strOrderBy, strMake)  
{  
    alert(strOrderBy + " " + strMake");
    if (strOrderBy=="")
    {
        // if blank, we'll set our innerHTML to be blank.
        document.getElementById("content").innerHTML="";
        return;
    } 
    if (window.XMLHttpRequest)
    { // code for IE7+, Firefox, Chrome, Opera, Safari
        // create a new XML http Request that will go to our generator webpage.
        xmlhttp=new XMLHttpRequest();
    }
    else
    {  // code for IE6, IE5
        // create an activeX object
        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
    }
    // on state change
    xmlhttp.onreadystatechange=function()
    {
        // if we get a good response from the webpage, display the output
        if (xmlhttp.readyState==4 && xmlhttp.status==200)
        {
        document.getElementById("content").innerHTML=xmlhttp.responseText;
        }
    }
    // use our XML HTTP Request object to send a get to our content php. 
    xmlhttp.open("GET","getinventory.php?orderby="+strOrderBy+"&make="+strMake, true);
    xmlhttp.send();
}
</script>

<body>

    <div class="colrecNav4">Sort By:&nbsp;
        <select name="sort" id="sort" onchange="changeContent(this.value, ???)">
            <option value="year">Year</option>
            <option value="trim">Trim</option>
            <option value="price">Price</option>
            <option value="miles">Miles</option>
        </select>&nbsp;&nbsp;
        <select name="dir" id="dir" onchange="changeContent(this.value)">
            <option value="asc">Ascending</option>
            <option value="desc">Descending</option>
        </select>
    </div>
    <?php
        //reading data from the database
        echo '<div class="makemodel"><a href="#" id="byMake">' . $makeFromDb . '</a></div>';
        echo '<div class="makemodel"><a href="#" id="byModel">' . $modelFromDb . '</a></div>';
    ?>
    <script>
    $(".makemodela").bind("click", function(event){
            var div_id=$(this).attr("id");
    $.ajax({
        type:'POST',
        url: 'getinventory.php',
        success: function(data){
            changeContent($('#sort').val(), div_id);
        }
    });
    });
    </script>
....
</body>

getinventory.php 
<?php
...
    $sql = "SELECT * FROM inventory ORDER BY " . $_REQUEST['orderby'];  
    $result = mysql_query($sql);  

    while (...) {
    echo "results...."
    }
?> 
```

专家：所以我向 changeContent 函数添加了另一个参数，更新了代码，现在当我单击 Make 或 Model 链接时，我可以在 changeContent 函数中看到警报消息中的值。但我只能第一次看到。在那之后，它什么也做不了。有人可以帮忙吗？谢谢！

编辑：所以我在 sortby 下拉列表之后的 inventory.php 页面

```
<?php
    $make_results = $db->get_results("SELECT * FROM tblmake ORDER BY Make");
    foreach ($make_results as $make_result) {
        echo '<div class="makemodel"><a href="#" id="' . $make_result->Make . '">' . $make_result->Make . '</a></div>
    ....
    //similar for model link
?>
<script>
$(".makemodel a").bind("click", function(event){
        var div_id=$(this).attr("id");
        $.ajax({
            type:'POST',
            url: 'getinventory.php',
            success: function(data){
                changeContent($('#sort').val(), div_id);
            }
        });
    });
</script> 
```

和我的 getinventory.php 页面

```
$orderby = $_REQUEST['orderby'];        
$make = $_REQUEST['make'];

    $search_results = $db->get_results("SELECT qry WHERE MAKE=" . $make . " ORDER BY " . $orderby)
    //display results
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:44:04.560

在任何 onChange 事件中，排序依据或排序列都将由您的 AJAX 调用传递。您需要传递两个参数，并且在每次更改更改时，您还需要检查其他下拉列表的值，以便可以构建有效的 MySQL 查询。

喜欢`ORDER BY year DESC`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-03T05:44:26.453

您可以使用 jquery 中的“.change”函数从下拉列表中获取值的更改并通过

使用 ajax 将该值添加到您的 getinventory.php 并在其中创建一个 html 页面

getinventory.php 取决于值并在成功后包含该结果

检查下面的代码

```
$("#dir").change(function(){

  var selectedValues = $("#sort").val();

  $.post("http://localhost/getinventory.php/orderby/"+selectedValues,function(data){

    $("#yourdiv").html(data); // Here data consits of the html page 

  });

}); 
```

# c++ - 在 C++ 中乘以链表

> ID：14098844
> 
> 赞同：1
> 
> 时间：2012-12-31T07:33:31.733
> 
> 标签：c++, list, pointers

我正在编写一个程序，该程序允许用户执行大数的算术运算，这些运算是使用双向链表构造的。到目前为止，我已经制作了一个加法函数，但现在我正在尝试制作一个用于乘法的函数，但我真的想不出什么好东西。我正在考虑这样做：

假设有 2 个数字，1000 和 2000|0000（| 表示组成数字的不同节点之间的间隔）。如果将数字相乘，您将得到 200|0000|0000。我可以创建一个函数，首先将 2 个节点相乘，然后将其划分为更小的节点。之后它将乘以下一个节点，检查最后一个节点的大小，如果还有空间，则将一部分添加到该节点并将剩余部分放入下一个节点。但是，如果一个数字小于另一个数字怎么办？然后你会把它乘以一个未定义的数字。这个方法有什么“未来”吗？或者我应该寻找另一个（我做了一些研究，但到目前为止没有发现任何有用的东西）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T07:42:32.870

如果性能对您不重要，您可以使用“高中方法”。首先实现一个将一个数字乘以一个数字的方法，然后开始将其中一个数字乘以另一个数字（也为每个结果结果添加一个偏移量），然后将这些数字相加。就像是：

```
123 x 456 =
         738
+       615
       492
______________
       56088 
```

用链表实现这一点应该不会太难。

# android - onTabReselected 用于操作栏选项卡在不需要时被调用

> ID：14098847
> 
> 赞同：0
> 
> 时间：2012-12-31T07:33:46.660
> 
> 标签：android, tabs, android-actionbar

我从[这里按照操作栏选项卡的说明进行操作](http://developer.android.com/guide/topics/ui/actionbar.html#Tabs)

我希望用户在重新选择选项卡时能够滚动回列表视图的顶部。

我把`listView.setSelection(0)`onTabReselected(Tab,FragmentTransaction) 方法放在里面。
当我重新单击已选择的选项卡时，它按预期工作。

但是这个函数在我没想到的时候也被调用了。
我开始一项新活动。当我回到原始活动（使用选项卡）时，调用 onTabReselected 函数。

如何区分这两种情况，以便在从另一个活动返回时不滚动列表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T03:43:39.117

意外调用 onTabReselected 是因为我`setSelectedNavigationItem`调用了 onResume。

问题解决了。

# c# - 类之间的 XSD 关系，+ 层次关系

> ID：14098848
> 
> 赞同：1
> 
> 时间：2012-12-31T07:33:53.573
> 
> 标签：c#, xml, xsd

我有一些以下格式的 xml，其中组状态可以是定义状态中定义的真假状态，也可以使用具有其中一个值的另一个组。

如何将 xsd 用于此关系约束 - 使用 ID 和 IDref 求解定义和组名，但如何约束组的值实际上是组中定义的值？

还有什么方法可以区分ID，如果使用定义，值应该是真/假字符串。如果使用另一个组状态应该是其定义的状态之一？

```
 <Definitions>
    <Definition Name="Name1"/>
    <Definition Name="Name2"  />
  </Definitions>

  <ValueGrps>
    <Group Name="grp1">
      <ComplexState Name="state1">
        <State Name="Name1" Value="true" />
        <State Name="Name2" Value="true" />
      </ComplexState>
      <ComplexState Name="state2">
        <State Name="Name1" Value="false" />
        <State Name="Name2" Value="true" />
      </ComplexState>
    </Group>
    <Group Name="grp2">
      <ComplexState Name="state1">
        <State Name="grp1" Value="state1" />           
      </ComplexState>
    </Group>      
  </ValueGrps> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T19:37:40.813

单独的 XSD 1.0 在这里无法为您提供帮助。您可以肯定地应用 Schematron；有一个适用于 .NET 的 XSLT 1.0 实现（因为您已指示 C#）。

XSD 1.1 内置了对您需要的支持。但是，XSD 1.1 在 .NET 上的支持很差，因为您要么购买 Saxon 的 EE for NET，要么使用 IKVM 在 .NET 上“移植”XercesJ（我已经完成了它并且它有效）。在开放环境中，让其他人使用 XSD 1.1 模式会遇到问题。

如果这是一个新设计，我可能还会更改一些设计......例如，`State`引用组与`State`引用定义不同 - 然后我将为不同的引用类型定义不同的内容模型。我也会放弃 ID/IDREF 以支持 key(unique)/keyref。我在下面附上了一个示例，它可以与提供的 XML 一起使用。

```
<?xml version="1.0" encoding="utf-8"?>
<!--XML Schema generated by QTAssistant/XML Schema Refactoring (XSR) Module (http://www.paschidev.com)-->
<xsd:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <xsd:element name="root">
    <xsd:complexType>
      <xsd:sequence>
        <xsd:element name="Definitions">
          <xsd:complexType>
            <xsd:sequence>
              <xsd:element maxOccurs="unbounded" name="Definition">
                <xsd:complexType>
                  <xsd:attribute name="Name" type="xsd:string" use="required" />
                </xsd:complexType>
              </xsd:element>
            </xsd:sequence>
          </xsd:complexType>
        </xsd:element>
        <xsd:element name="ValueGrps">
          <xsd:complexType>
            <xsd:sequence>
              <xsd:element maxOccurs="unbounded" name="Group">
                <xsd:complexType>
                  <xsd:sequence>
                    <xsd:element maxOccurs="unbounded" name="ComplexState">
                      <xsd:complexType>
                        <xsd:sequence>
                          <xsd:element maxOccurs="unbounded" name="State">
                            <xsd:complexType>
                              <xsd:attribute name="Name" type="xsd:string" use="required" />
                              <xsd:attribute name="Value" type="xsd:string" use="required" />
                            </xsd:complexType>
                          </xsd:element>
                        </xsd:sequence>
                        <xsd:attribute name="Name" type="xsd:string" use="required" />
                      </xsd:complexType>
                    </xsd:element>
                  </xsd:sequence>
                  <xsd:attribute name="Name" type="xsd:string" use="required" />
                </xsd:complexType>
              </xsd:element>
            </xsd:sequence>
          </xsd:complexType>
        </xsd:element>
      </xsd:sequence>
    </xsd:complexType>
    <xsd:key name="PK_1">
        <xsd:selector xpath="Definitions/Definition|ValueGrps/Group"/>
        <xsd:field xpath="@Name"/>      
    </xsd:key>
    <xsd:keyref name="FK_1" refer="PK_1">
        <xsd:selector xpath="ValueGrps/Group/ComplexState/State"/>
        <xsd:field xpath="@Name"/>
    </xsd:keyref>
  </xsd:element>
</xsd:schema> 
```

# java - 在我的应用上为每个用户创建一个图表

> ID：14098853
> 
> 赞同：1
> 
> 时间：2012-12-31T07:34:23.630
> 
> 标签：java, android, eclipse, datetime, achartengine

我正在尝试为添加到我的应用程序中的每个用户创建一个图表。此图表将在`21 Dec 2012`x 轴上以这种格式显示日期和从 30 到 30000 的数字。假设这是第 1 天，用户添加他们每小时的卡路里燃烧率，我希望将该信息放入图表中。第二天，我希望他们能够计算他们每小时的卡路里消耗率并将其存储到图表中。有点像将其附加到图表中。公共类图扩展活动{

```
private XYMultipleSeriesDataset mDataset;
private XYMultipleSeriesRenderer mRenderer;
List<double[]> values = new ArrayList<double[]>();
private GraphicalView mChartView;
private TimeSeries time_series;
String gotCal;
Double[] thisDou;
Double convert;

Date date;

// chart container
private LinearLayout layout;

@Override
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    layout = (LinearLayout) findViewById(R.id.chart);

    SharedPreferences calStuff = getSharedPreferences("Calories", 0);

    if (calStuff != null) {

        gotCal = calStuff.getString("This Cal", null);
        System.out.println(gotCal);
    }

    convert = Double.parseDouble(gotCal);

    // create dataset and renderer
    mDataset = new XYMultipleSeriesDataset();
    mRenderer = new XYMultipleSeriesRenderer();
    //mRenderer.setAxisTitleTextSize(16);
    //mRenderer.setChartTitleTextSize(20);
    //mRenderer.setLabelsTextSize(15);
    //mRenderer.setLegendTextSize(15);
    //mRenderer.setPointSize(3f);

    XYSeriesRenderer r = new XYSeriesRenderer();
    r.setColor(Color.GREEN);
    r.setFillPoints(true);
    r.setPointStyle(PointStyle.DIAMOND);
    //r.fillPoints(true);

    r.setFillBelowLine(true);

    mRenderer.addSeriesRenderer(r);
    mRenderer.setZoomButtonsVisible(true);
    mRenderer.setXTitle("Date");
    mRenderer.setYTitle("Calories Burned Per Hour");
    //mRenderer.setClickEnabled(true);
    r.setDisplayChartValues(true);
    mRenderer.setSelectableBuffer(20);
    mRenderer.setApplyBackgroundColor(true);
    mRenderer.setBackgroundColor(Color.BLACK);
    mRenderer.setGridColor(Color.CYAN);
    //mRenderer.setChartTitle("LOOOOOL");
    //mRenderer.setYLabels(12);
    mRenderer.setPanEnabled(true, true);
    //mRenderer.setPanEnabled(true);

    time_series = new TimeSeries("test");

    mDataset.addSeries(time_series);

    fillData();

    //time_series.add(date, Double.parseDouble(gotCal));

    mChartView = ChartFactory.getTimeChartView(this, mDataset, mRenderer,
            "dd MMM yyyy");

    if (mChartView == null)
        mChartView.repaint();

    layout.addView(mChartView);
}

private void fillData() {
    long value = new Date().getTime() - 3 * TimeChart.DAY;
    for (int i = 0; i < gotCal.length(); i += convert) {
        //date = new Date(value + i * TimeChart.DAY / 31);
        time_series.add(new Date(value + i * TimeChart.DAY / 20), i);
    }
} 
```

它仅适用于一个用户，所以当我尝试从具有不同信息的不同用户访问图表时，没有图表，这是为什么呢？另外，如何将图表专门保存给该用户？任何帮助都非常感谢，谢谢。

# python - 从 python 代码中提取算法/伪代码

> ID：14098854
> 
> 赞同：-3
> 
> 时间：2012-12-31T07:34:23.213
> 
> 标签：python, algorithm, pseudocode

我正在寻找在 R 中实现 pLSI 算法。我找到了这个[python 代码](http://cs.gmu.edu/~pwang7/code/pLSI.py)，但我被困在几个地方，比如第 #8 行`for termID, value in docTermDic[docID].iteritems():`。在这种情况下，我不明白如何在 for 循环中同时实现 termID 和 value，以及 docTermDic[docID].iteritems() 是什么。

是否有任何工具可以用来提取算法或伪代码，以便我自己编写代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T08:20:36.497

> 是否有任何工具可以用来提取算法或伪代码，以便我自己编写代码？

好吧，python 被设计成看起来像某种伪代码。看起来你要问的东西会扫描你的大脑，以便找到你不理解的东西并解释给你。我想它不存在。

对于有关字典的问题的特定部分：

```
for termID, value in docTermDic[docID].iteritems() : 
```

这将遍历字典中的所有对（键，值），并影响键和值。你不能在所有语言中都这样做。如果您的语言无法做到这一点，只需执行以下操作：

```
for termID in docTermDic[docID].keys() :
    value = docTermDic[docID][termID] 
```

遍历所有键，并作为第一条指令影响值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:36:48.003

相关答案：

[dict.items() 和 dict.iteritems() 有什么区别？](https://stackoverflow.com/questions/10458437/python-what-is-the-difference-between-dict-items-and-dict-iteritems)

[为什么在 python 中遍历字典时必须调用 .iteritems() ？](https://stackoverflow.com/questions/3744568/why-do-you-have-to-call-iteritems-when-iterating-over-a-dictionary-in-python)

一个简单的谷歌搜索告诉你 iteritems() 给你一个 dict 的迭代器：检查[这个](http://docs.python.org/2/tutorial/datastructures.html)

# ios - 如何使用 iPhone SDK 创建动态 UITableView 单元格

> ID：14098855
> 
> 赞同：0
> 
> 时间：2012-12-31T07:34:24.340
> 
> 标签：ios, iphone, xcode, uitableview

在我的应用程序中，我`UITableView`固定了第一个单元格和最后三个单元格的内容。但是在这些单元格之间的内容根据数组计数和内容而有所不同。

**例如：** ***第一个单元格 + 数组计数 + 最后三个单元格***。

数组计数始终不同。正如我上面解释的那样，如何制作表格视图。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T08:09:11.837

//第一个单元格的工作代码+[动态数组]+最后三个固定单元格

```
 #import "tableTOViewController.h"

@interface tableTOViewController ()

@end

@implementation tableTOViewController

- (void)viewDidLoad
{
 myArray=[[NSArray alloc] init];
 myArray=[NSArray arrayWithObjects:@"Aman",@"Atul",@"Karan",@"Yen",@"Chan",@"Lee", nil];

 lastFixedArray=[[NSArray alloc] init];
 lastFixedArray=[NSArray arrayWithObjects:@"Snakes",@"Food",@"Drink", nil];

    tblView.delegate=self;
    tblView.dataSource=self;
    [super viewDidLoad];
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
 return [myArray count]+4;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
 static NSString *cellIdentifier=@"cellIdentifier";
 UITableViewCell *cell=[tableView dequeueReusableCellWithIdentifier:cellIdentifier];

 if (cell==nil) {
  cell=[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier];
 }

 if (indexPath.row==0) 
  cell.textLabel.text=@"First Cell";
 else if (indexPath.row>[myArray count])
  cell.textLabel.text=[lastFixedArray objectAtIndex:([indexPath row]-[myArray count]-1)];
 else
  cell.textLabel.text=[myArray objectAtIndex:indexPath.row-1];

 return cell;
}

@end 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-31T09:55:12.877

如果要将子视图添加到最后三个单元格，则可以使用以下条件

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
 static NSString *cellIdentifier=@"cellIdentifier";
 UITableViewCell *cell=[tableView dequeueReusableCellWithIdentifier:cellIdentifier];

 if (cell==nil) {
  cell=[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier];
 }

 if (indexPath.row==0) 
  cell.textLabel.text=@"First Cell";
 else if (indexPath.row>[myArray count])
 {
  int k=([indexPath row]-[myArray count]-1);

  switch (k) {
   case 0:
    [cell.contentView addSubview:thirdLastView];
    break;
   case 1:
    [cell.contentView addSubview:secondLastView];
    break;
   case 2:
    [cell.contentView addSubview:lastView];
    break;
  }
    cell.textLabel.text=[lastFixedArray objectAtIndex:k];
 }
 else
  cell.textLabel.text=[myArray objectAtIndex:indexPath.row-1];

 return cell;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-31T08:06:47.423

在您的`numberOfRows`方法中，返回值为

```
4 + [array count]; 
```

在`cellForRowAtIndexPath`做一个开关`indexPath.row`并相应地填充您的单元格内容。

# javascript - 在 Safari 上通过地理位置查找当前位置

> ID：14098858
> 
> 赞同：3
> 
> 时间：2012-12-31T07:34:51.260
> 
> 标签：javascript, html, windows-7, safari, geolocation

我在 Windows 7 上有一个 Safari 浏览器，

在我的网站中，我使用 Geolocation 来查找当前位置

在 Chrome 和 FireFox 中有效

在 Safari 中它崩溃了。

我读到 Safari 不支持**没有 Wifi**的地理位置，有解决方案吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T07:57:43.930

对于某些人来说，Wifi 上的 Safari 似乎并不是最准确的地理定位方法。

至于 Safari 崩溃，您应该设置一个超时，以便脚本有办法在不崩溃的情况下失败。让它回退到错误处理程序。

以下可能有帮助 { maximumAge: 600000, timeout: 8000 }

此外，您可以先测试一些演示，看看使用不同的浏览器会得到什么结果。

[http://html5demos.com/geo](http://html5demos.com/geo) W3C - [http://dev.w3.org/geo/api/spec-source.html](http://dev.w3.org/geo/api/spec-source.html)

它可能会导致 Safari 出现问题，因为它们使用不同的服务。您可能还需要打开该功能才能首次使用它。尝试在 Safari 中启用定位服务。转到首选项-> 安全并选中“允许网站询问位置信息”。另外，确保系统偏好设置->安全没有选中“禁用定位服务”。

# javascript - 保持服务的初始化，直到所有的承诺都得到解决

> ID：14098862
> 
> 赞同：18
> 
> 时间：2012-12-31T07:35:17.347
> 
> 标签：javascript, angularjs

如果我们给出一个包含 Promise 的 resolve 对象，`routeProvider`我们可以持有 `routing`它会等到所有的承诺都得到解决。但是，我在应用程序的初始化中找不到方法。

除了`angular.module("app", []).run(function (){ //init app })`a `$resource`or `$http`which 是异步的，应用程序可以在解决依赖项（承诺）之前完成初始化，这将创建一个`race condition`. 我们不希望那样。

所以问题是，有没有一种方法可以保持 a 的初始化，`service`直到所有给定的承诺都得到解决？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-31T11:06:45.950

我见过类似的问题。一个队友采用的一个有点优雅的解决方案是结合 RequireJS 和它的 domReady 模块：

```
define(['require', 'angular', 'app','routes', 'pendingServices'], 
      function (require, ng, app, pendingServices) {

  /* place operations that need to initialize prior to app start here
   * using the `run` function on the top-level  module
   */
  app.run(pendingServices.init)

  require(['domReady!'], function (document) {
      /* everything is loaded...go! */
      ng.bootstrap(document, ['mainModule']);
  });

}); 
```

在 init 方法中，您可以执行所有预加载（并等待所需的承诺）。我当然有兴趣听到其他解决方案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-05T08:50:44.723

只是在此处考虑负载，但是如何仅声明 1 条“捕获所有”路线开始，并在该路线提供者中，保持路线的加载，直到您完成所需的一切。（使用解决和承诺）。

然后，完成后，注册剩余的路线，并重新加载原始路线。这一次，应该注册一个更具体的处理程序，它会绕过你的“catch all”初始化程序。

你怎么看，有什么问题吗？

# netty - 带有 LineBasedFrameDecoder 的 netty 3.6.0 运行时错误

> ID：14098865
> 
> 赞同：1
> 
> 时间：2012-12-31T07:35:23.867
> 
> 标签：netty

升级到 netty 3.6.0。试图更换

DelimiterBasedFrameDecoder 和 LineBasedFrameDecoder 建议在网站上发布。出现以下运行时错误。有什么建议么。??

使用的代码。

```
ChannelPipeline pipeline = pipeline();
pipeline.addLast("framer", new LineBasedFrameDecoder(Integer.MAX_VALUE)); 
```

运行时错误

```
java.lang.NoSuchMethodError: org.jboss.netty.handler.codec.frame.LineBasedFrameDecoder.extractFrame(Lorg/jboss/netty/buffer/ChannelBuffer;II)Lorg/jboss/netty/buffer/ChannelBuffer;
at org.jboss.netty.handler.codec.frame.LineBasedFrameDecoder.decode(LineBasedFrameDecoder.java:95)
at org.jboss.netty.handler.codec.frame.FrameDecoder.callDecode(FrameDecoder.java:422)
at org.jboss.netty.handler.codec.frame.FrameDecoder.messageReceived(FrameDecoder.java:303)
at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268)
at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255)
at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:84)
at org.jboss.netty.channel.socket.nio.AbstractNioWorker.processSelectedKeys(AbstractNioWorker.java:471)
at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:332)
at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
at java.lang.Thread.run(Thread.java:722) 
```

# wordpress - 仅在主程序中运行函数，不在侧边栏中运行

> ID：14098875
> 
> 赞同：0
> 
> 时间：2012-12-31T07:37:01.700
> 
> 标签：wordpress, function

我有一个函数，我为我的函数使用了钩子“get_comment_author_link”。现在我只想在主页中运行该功能。但不是在侧边栏中。wordpress中是否有任何功能可以限制侧边栏中的功能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T11:12:39.663

侧边栏通常是一个单独的 php 文件，它使用“get_template_part”或“get_sidebar”包含在模板中。我找不到合适的过滤器，所以你可能不得不想出另一种方法来完成这项任务。

# c - 如何确定参数在clang中有一个类型声明符

> ID：14098876
> 
> 赞同：1
> 
> 时间：2012-12-31T07:37:01.653
> 
> 标签：c, llvm, clang

我使用 clang 进行一些代码分析。现在我在下面有一个功能

```
void func(p) 
```

一些编译器将处理`p`为整数。我想知道如何确定是否`p`有类型声明符？

# android - 尝试将传递给函数的数据与数据库中的数据进行比较时，Where 子句不起作用

> ID：14098877
> 
> 赞同：1
> 
> 时间：2012-12-31T07:37:21.387
> 
> 标签：android, sqlite, android-sqlite

我正在尝试比较两个值；一个在数据库中，另一个传递给数据库类中包含查询的方法。当我尝试运行时，应用程序崩溃。

发送数据的代码：

```
projectdatabase db = new projectdatabase(this); 
    String gotid = db.getProjectName(id); 
```

执行查询的数据库类中的方法代码：

```
public String getProjectName(String id) {                   

    String[] columns = new String[] {PROJECT_NAME,KEY_ROWID};
    Cursor c = projectDatabase.query(DATABASE_TABLE, columns, KEY_ROWID + "=" + id, null, null, null, null);
    String result = "";

    int iID = c.getColumnIndex(PROJECT_ID);

    for(c.moveToFirst(); !c.isAfterLast(); c.moveToNext()) {
        result = result + c.getString(iID);
    }

    return result;
} 
```

我的 where 子句有什么问题吗？

编辑：

阿拉什回答后实施的代码：

```
public String getProjectName(String id) {                   

    String[] columns = new String[] {PROJECT_NAME,KEY_ROWID};
    Cursor c = projectDatabase.query(DATABASE_TABLE, columns, KEY_ROWID + "=" + id, null, null, null, null);
    String result = "";

    if(c.moveToFirst())
    {
       int iName = c.getColumnIndex(PROJECT_NAME);

       for(c.moveToFirst(); !c.isAfterLast(); c.moveToNext()) {
            result = result + c.getString(iName);
        }
    }

    return result;
} 
```

原木猫：

```
12-31 15:25:15.193: W/dalvikvm(2134): threadid=1: thread exiting with uncaught   
exception (group=0x409c01f8)
12-31 15:25:15.257: I/dalvikvm(2134): threadid=3: reacting to signal 3
12-31 15:25:15.355: E/AndroidRuntime(2134): FATAL EXCEPTION: main
12-31 15:25:15.355: E/AndroidRuntime(2134): java.lang.RuntimeException: Unable to start    
activity ComponentInfo{com.kk.project/com.kk.project.ViewProjectDetails}:  
java.lang.NullPointerException
12-31 15:25:15.355: E/AndroidRuntime(2134):     at  
android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1956)
12-31 15:25:15.355: E/AndroidRuntime(2134):     at 
android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)
12-31 15:25:15.355: E/AndroidRuntime(2134):     at 
android.app.ActivityThread.access$600(ActivityThread.java:123)
12-31 15:25:15.355: E/AndroidRuntime(2134):     at 
android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)
12-31 15:25:15.355: E/AndroidRuntime(2134):     at 
android.os.Handler.dispatchMessage(Handler.java:99)
12-31 15:25:15.355: E/AndroidRuntime(2134):     at   
android.os.Looper.loop(Looper.java:137)
12-31 15:25:15.355: E/AndroidRuntime(2134):     at 
android.app.ActivityThread.main(ActivityThread.java:4424)
12-31 15:25:15.355: E/AndroidRuntime(2134):     at  
java.lang.reflect.Method.invokeNative(Native Method)
12-31 15:25:15.355: E/AndroidRuntime(2134):     at 
java.lang.reflect.Method.invoke(Method.java:511)
12-31 15:25:15.355: E/AndroidRuntime(2134):     at  
com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
12-31 15:25:15.355: E/AndroidRuntime(2134):     at  
com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
12-31 15:25:15.355: E/AndroidRuntime(2134):     at  
dalvik.system.NativeStart.main(Native Method)
12-31 15:25:15.355: E/AndroidRuntime(2134): Caused by: java.lang.NullPointerException
12-31 15:25:15.355: E/AndroidRuntime(2134):     at  
com.kk.project.projectdatabase.getProjectName(projectdatabase.java:123)
12-31 15:25:15.355: E/AndroidRuntime(2134):     at   
com.kk.project.ViewProjectDetails.onCreate(ViewProjectDetails.java:19)
12-31 15:25:15.355: E/AndroidRuntime(2134):     at   
android.app.Activity.performCreate(Activity.java:4465)
12-31 15:25:15.355: E/AndroidRuntime(2134):     at   
android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
12-31 15:25:15.355: E/AndroidRuntime(2134):     at   
android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1920) 
```

12-31 15:25:15.355: E/AndroidRuntime(2134): ... 11 更多

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:44:29.380

在使用游标列来避免 NPE 之前，请始终检查游标中是否包含行：

代替 ：

```
int iID = c.getColumnIndex(PROJECT_ID); 
```

利用 ：

```
if(c.MoveToFirst())
{
   int iID = c.getColumnIndex(PROJECT_ID);
} 
```

编辑：您的光标选择列中没有“PROJECT_ID”列

第二次编辑：

使用 Like This 来获取 Cursor 的内容：

```
String T = c.getString(c.getColumnIndex(KEY_Your_STRING));
Int I = c.getInt(c.getColumnIndex(KEY_Your_INTEGER)) 
```

并且您已将 Project_Name 分配给 Integer 值！

# iphone - iPhone：使用 SBJSON Parser 进行 JSON 解析会出错

> ID：14098879
> 
> 赞同：0
> 
> 时间：2012-12-31T07:37:32.453
> 
> 标签：iphone, json, nsdictionary, sbjson

嗨，我正在制作一个 iPhone 应用程序，我正在从 JSON 格式的 Web 服务获得响应。我正在使用 SBJSON Parser 来解析我的数据。

我在尝试解析数据时遇到错误。

我参考了以下链接，但没有一个有帮助：

[如何处理'[<__NSCFString 0x2f1730> valueForUndefinedKey:]：这个类不是键值编码兼容键$oid'错误](https://stackoverflow.com/questions/8754860/how-to-handle-nscfstring-0x2f1730-valueforundefinedkey-this-class-is-no)

[NSCFString 0x2749a0 valueForUndefinedKey 此类不符合键数据的键值编码](https://stackoverflow.com/questions/11394064/nscfstring-0x2749a0-valueforundefinedkey-this-class-is-not-key-value-coding-comp)

有什么问题？

任何帮助表示赞赏。

**代码：**

```
 NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL: [NSURL URLWithString: @"<MyWebserviceURL>"]];

    /* Following function is used to convert and concate json string with url and create query string to exicute to the server.*/
    [request addValue: @"application/json; charset=utf-8" forHTTPHeaderField:@"Content-Type"];
    [request addValue: @"application/json; charset=utf-8" forHTTPHeaderField:@"Accept"];
    NSString *msgLength = [NSString stringWithFormat:@"%d", [soapMessage length]];
    [request addValue: msgLength forHTTPHeaderField:@"Content-Length"];
    [request setHTTPMethod:@"POST"];
    [request setHTTPBody: [soapMessage dataUsingEncoding:NSUTF8StringEncoding]];

    NSData *returnData = [NSURLConnection sendSynchronousRequest:request returningResponse: nil error: nil];

    /* This string will convert all the data format to string format and store it.*/
    NSString *myString = [[NSString alloc] initWithData:returnData encoding:NSUTF8StringEncoding];
    NSLog(@"getresponse:%@",myString);
    /* This string will used get json value and split the value starting from "d".*/
    //NSDictionary *d = [[myString JSONValue] objectForKey:@"d"];
    NSLog(@"[myString JSONValue]: %@",[[myString JSONValue] class]);
    NSDictionary *d = [[myString JSONValue]  valueForKey:@"d"];  //  <----- ERROR IS SHOWN HERE 
```

**控制台日志显示：**

```
 getresponse:{"d":{"__type":"<CompanyName>.<AppName>.BusinessLogic.RegisterWebservice","ErrorObject":{"__type":"<CompanyName>.<AppName>.BusinessLogic.Error","ErrorMessage":"","ErrorCode":0},"AttendeeCredentials":{"__type":"<CompanyName>.<AppName>.BusinessLogic.AttendeeCredential","UserID":"abcd","Password":"abcd"},"ServerDeviceSN":"PKKPAPPKAPPKAPK090"}}
    [myString JSONValue]: __NSCFString

    *** Terminating app due to uncaught exception 'NSUnknownKeyException', reason: '[<__NSCFString 0xc384f30> valueForUndefinedKey:]: this class is not key value coding-compliant for the key d.'
*** First throw call stack:
(0x2eaa012 0x2b1ae7e 0x2f32fb1 0x13aa5ed 0x13168db 0x131688d 0xf6aef 0xf64b9 0xfecef 0xfe834 0x13490d5 0x1349034 0x950d8ed9 0x950dc6de)
libc++abi.dylib: terminate called throwing an exception 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T18:41:37.933

您需要使用 NSDictionary 方法`-objectForKey:`而不是 Key-Value-Coding 方法`-valueForKey:`。这些*不是*（总是）可以互换的。

# c++ - 基本的 OpenGL 程序崩溃，但可以使用 gdb

> ID：14098884
> 
> 赞同：1
> 
> 时间：2012-12-31T07:38:09.090
> 
> 标签：c++, c, opengl

我复制了 OpenGL 参考指南中的第一个程序，这是一个非常基本的 GLUT OpenGL 程序。

我正在使用 Code::Blocks IDE 并在 Ubuntu 12.10 上运行。

我正在使用带有 fglrx 驱动程序的 ATI Mobile Radeon 4670。

我正在使用此代码来确保我的环境正常工作。这是代码：

```
#include <GL/glut.h>
#include <stdlib.h>

void display(void)
{
    glClear(GL_COLOR_BUFFER_BIT);

    glBegin(GL_POLYGON);
        glVertex3f(0.25,0.25,0.0);
        glVertex3f(0.75,0.25,0.0);
        glVertex3f(0.75,0.75,0.0);
        glVertex3f(0.25,0.75,0.0);
    glEnd();

    glFlush();
}

void init(void)
{
    glClearColor(0.0,0.0,0.0,0.0);
    glMatrixMode(GL_PROJECTION);
    glLoadIdentity();
    glOrtho(0.0,1.0,0.0,1.0,-1.0,1.0);
}

int main(int argc, char** argv)
{
    glutInit(&argc,argv);
    glutInitDisplayMode(GLUT_SINGLE | GLUT_RGB);
    glutInitWindowSize(250,250);
    glutInitWindowPosition(100,100);
    glutCreateWindow("hello");
    init();
    glutDisplayFunc(display);
    glutMainLoop();
    return 0;
} 
```

我认为这是我可以运行并希望能够编译的最简单的代码。`include/`在对and`lib/`目录（`/usr/include`和）进行了一番讨论之后`/usr/lib/x86_64-linux-gnu`，我设法让它编译没有错误。

当从 Code::Blocks 内或使用终端运行时，我得到一个分段错误。出现一个窗口的阴影，但随后它被破坏并且程序退出。

真正奇怪的部分是当我尝试调试它时。从 Code::Blocks 中选择“调试”或在命令行上自己使用 gdb（运行`gdb <program>`然后`run`），它运行得很好。没有遇到任何错误或问题，并且按预期执行。

这让我很难弄清楚问题出在哪里。我让 gdb 检查生成的核心文件是否正常执行，但它所说的只是

```
Program terminated with signal 11, Segmentation fault.
#0  0x00007f9ee3a5815c in ?? () 
```

真正的大帮助。有任何想法吗？我的配置可能有问题，所以请走开。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T08:03:03.403

我不确定，因为我从未使用过 glut，但[这个](http://davidwparker.com/2011/07/22/opengl-screencast-hello-world-glut/)网站似乎建议像这样调用 glutInitDisplayMode

glutInitDisplayMode(GLUT_RGB | GLUT_DOUBLE);

当你这样称呼它时

glutInitDisplayMode(GLUT_SINGLE | GLUT_RGB);

比较两者让我想知道您是否应该切换您的两个参数？

编辑：
别管我，我被智障了。当然，这些不是 2 个参数 >< 它们只是 OR'd。现在是早上 9 点，我还没睡，请原谅我的愚蠢：<

# jquery - svg 图像未在 jquery 手风琴中显示

> ID：14098886
> 
> 赞同：1
> 
> 时间：2012-12-31T07:38:24.590
> 
> 标签：jquery, html, svg, knockout.js, d3.js

我正在使用 jquery 手风琴。我在里面插入了一张桌子。在该表中有两列。第一列将显示一个 svg 元素，第二列将显示文本。我已经使用 knockoutjs 绑定了文本数据，它工作正常。但是如何将 svg 元素与第一列绑定。我想最好通过 d3js 绑定 svg 元素，但任何其他方式也将不胜感激

```
<table id="AccordionTable">
    <tbody data-bind="foreach:Items">
        <tr>
            <td data-bind="I Want to bind here an svg element dynamically"></td>
            <td data-bind="text:Name" style="padding-left: 15px"></td>
        </tr>
    </tbody>
</table> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T13:25:28.713

您想使用[自定义绑定](http://knockoutjs.com/documentation/custom-bindings.html)。我使用带有 Knockout 的 Raphael.js 做了类似的事情

```
<td data-bind="createSvg: parameter"></td>

ko.bindingHandlers.createSvg = {
init: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext)
{
    var options =
        {
            strokeWidth: 5,
            boxBackgroundColour: $('.navbar-inner').css('background-color'),
            positiveFeed: '#00bb00',
            negativeFeed: '#bb0000'
        };
    var substation = new Substation(element, options);
    viewModel.Substation = substation;
},
update: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext)
{
    ko.utils.unwrapObservable(viewModel.LastUpdated);
    if ($(element).is(':visible'))
    {
        var substation = viewModel.Substation;
        if (viewModel.RtuUserData)
        {
            substation.set(element, viewModel);
        }
    }
} 
```

};

调用一次 init 方法来创建它，然后每次更新我的视图模型上的 LastUpdated 属性时调用 update 方法。

# magento - 如何在 Magento 中切换到其他商店视图？

> ID：14098889
> 
> 赞同：1
> 
> 时间：2012-12-31T07:38:49.143
> 
> 标签：magento

我在 magento 中创建了另一个网站、商店和商店视图。 ![在此处输入图像描述](../Images/7fc8bb290a1288090de44f9adb35da82.png) 现在我不知道其他商店视图的链接是什么。我想要链接或商店切换器运行良好。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T12:04:50.783

您可以通过带有参数 ___store= 的链接轻松更改商店视图

喜欢：example.com/?___store=french

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:46:27.783

检查本教程。这可能对您有帮助。

[http://www.magentocommerce.com/wiki/multi-store_set_up/multiple_website_setup_with_different_document_roots](http://www.magentocommerce.com/wiki/multi-store_set_up/multiple_website_setup_with_different_document_roots)

[http://inchoo.net/ecommerce/magento/how-to-set-multiple-websites-with-multiple-store-views-in-magento/](http://inchoo.net/ecommerce/magento/how-to-set-multiple-websites-with-multiple-store-views-in-magento/)

# javascript - 数学：我需要标准化一些条形图

> ID：14098895
> 
> 赞同：0
> 
> 时间：2012-12-31T07:39:49.553
> 
> 标签：javascript, math

我正在生成条形图。生成所述图表的数据范围很广，这意味着图表的某些区域总是很低，而某些区域超出图表。

将其“标准化”为某个数字（例如 200）的数学原理是什么，所以大的值越大，它们就会缩小，而较小的值会增加？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-02T02:58:58.070

如果您正在谈论实际更改数据以用于显示目的，那么有一些基本方法可以使值更接近目标值。最简单的方法是使用该值进行加权平均：`A' = (1-α)*A + α*B`其中 alpha 是介于 0 和 1 之间的权重，A 是图表上的数字，B 是目标值。

例如，如果您尝试“标准化”`200`并且您的数字分别`100 120 200 220 400`插入 A、200 和 0.5 用于 alpha，您会得到`150 160 200 210 300`

您可以选择不同的 alpha 来调整要将数据拉伸到目标值的程度。0.9 等较高的数字将更多地拉伸数据，而 0.1 等较低的数字将更少地拉伸数据。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-31T08:27:52.983

我不知道你是否愿意读一点，但我发现 d3.js 框架的缩放教程（http://d3js.org/）是对可视化缩放部分的非常扎实的介绍：

[http://alignedleft.com/tutorials/d3/scales/](http://alignedleft.com/tutorials/d3/scales/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-02T03:18:28.910

对于从零开始的图表：计算您的值的最大值，然后为每个条显示：

```
barHeight[i] = (maxBarHeight*value[i])/maxVal; 
```

如果您希望图表基于最小值而不是零，您可能仍希望图表在最小值附近的条形高度具有非零高度。所以计算最小值，并显示：

```
 barHeight[i] = minBarHeight + 
         (maxBarHeight - minBarHeight ) * (value[i] - minVal) / ( maxVal - minVal ); 
```

（ Rq ：如果 minVal 为零或“接近”零，则设置 minVal = minBarHeigth = 0 并且您有第一种情况）

# javascript - 在页面加载时检索元素的值以用于 JQuery 函数

> ID：14098897
> 
> 赞同：1
> 
> 时间：2012-12-31T07:40:13.560
> 
> 标签：javascript, jquery, ajax, onload

我正在尝试编写一个函数，该函数将在更新名字和姓氏字段时更新表单的 URL slug 字段。但*仅*当页面加载时 slug 为空时。

当对名字/姓氏字段进行任何更改时，我已成功更新 slug。我只是不太清楚如何将更新限制在 slug 字段的值开始为空的情况下。

我遇到的一个问题是表单是通过 AJAX 加载的，所以如果我在页面加载时测试 slug 字段的长度，它总是会返回空。

关于如何编辑它的任何想法？

```
var FirstName = jQuery('input#FirstName').attr('value').replace(/[^\w]/gi, '');
var LastName = jQuery('#LastName').attr('value').replace(/[^\w]/gi, '');
jQuery('#URLName').attr('value', FirstName + "_" + LastName); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:48:04.067

如果表单是通过 AJAX 调用加载的，并且您需要测试该表单中的值，那么您需要挂钩加载表单的 AJAX 代码，并在 AJAX 调用完成后调用您的代码。

为了让我们就如何挂钩 AJAX 调用向您提供建议，我们需要查看 AJAX 代码。

如果您不能挂接到 AJAX 调用并且您愿意实施一些 hack，那么您可以在页面加载时开始轮询页面`setInterval()`并继续直到表单的元素在页面中，然后停止间隔然后检查表格。

# php - 如何删除 PHP 中的某些尾随字符？

> ID：14098899
> 
> 赞同：1
> 
> 时间：2012-12-31T07:40:29.313
> 
> 标签：php, parsing, latex

我正在尝试用 PHP 制作 LaTeX 解析器，并且我想删除某些尾随的新行（`\\`符号）。

但问题是，如果它在其他所有内容之前，我只想删除新行（双反斜杠）。

就像，我想删除`\\`以下示例中的第一个：

```
\\3+6=9 
```

但不是这个`\\`：

```
3+\\6=9 
```

我怎样才能用 PHP 做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:41:46.600

采用`trim`

```
$arr = trim('your_string','\\'); 
```

工作示例[http://codepad.viper-7.com/OaYxWG](http://codepad.viper-7.com/OaYxWG)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T07:43:41.617

在 php 中使用修剪

```
i.e.,

trim("string","\\"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-31T10:48:24.567

您可以执行以下操作

```
$a = "\\aaaaa";

if (substr($a, 0, 1) === '\\') { 
    echo trim($a,'\\');     
 } 
```

它将回显“aaaaa”。希望这可以帮助

# android - 在 Android 中创建动态变量

> ID：14098900
> 
> 赞同：0
> 
> 时间：2012-12-31T07:40:37.710
> 
> 标签：android, arraylist

我有多个字符串，例如 st1、st2、st3、st4、st5、st6、st7。现在我想使用它的计数器（在我的情况下为 int i）通过 for 循环动态获取该字符串。像 "st"+ i ，但 android 不接受它，所以我应该怎么做才能动态获取字符串。有关更多信息，这里是代码块

```
String image1 = cData.getString(cData.getColumnIndex("fld_image_url1"));
String image2 = cData.getString(cData.getColumnIndex("fld_image_url2"));
String image3 = cData.getString(cData.getColumnIndex("fld_image_url3"));
String image4 = cData.getString(cData.getColumnIndex("fld_image_url4"));
ArrayList<String> imagesArray = new ArrayList<String>();

 //for adding the string in the arraylist dynamically
for(int i=1;i<=4;i++){
    if("image"+i!=null){
        imagesArray.add(String.valueOf("image"+ i));    
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-31T07:42:54.950

怎么样：

```
List<String> imagesArray = new ArrayList<String>();
for (int i = 1; i <= 4; i++) {
    String image = cData.getString(cData.getColumnIndex("fld_image_url" + i));
    if (image != null) {
        imagesArray.add(image);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T07:43:28.020

如果您想动态地从游标中获取值，请将您的代码更改为：

```
 //for adding the string in the arraylist dynamically
for(int i=1;i<=4;i++){

        int count = cData.getColumnIndex("fld_image_url"+i));
        if(count != -1)
         imagesArray.add(cData.getString(count)); 
} 
```

# jquery - 在 WordPress 中使用 jQuery 在所选元素后附加链接

> ID：14098902
> 
> 赞同：1
> 
> 时间：2012-12-31T07:40:51.210
> 
> 标签：jquery, wordpress

我想在我的 WordPress 博客上使用此代码，但它不起作用：

```
 (function ($) {
    $.fn.extend({
      raw: function (options) {
        this.defaultOptions = {
          className: 'raw-link',
          eventBased: true
        };
        var settings = $.extend({}, this.defaultOptions, options);
        return this.each(function () {
          var $this = $(this),
            data = 'data:;base64,' + unescape(btoa($this.text()));
          if (settings.eventBased) {
            $link = $('<a href="#" class="' + settings.className + '">Raw</a>');
            $this.after($link);
            $link.on('click', function (e) {
              e.preventDefault();
              window.open(data);
            });
          } else {
            $this.after('<a href="' + data + '" target="_blank" class="' +
                          settings.className + '">Raw</a>');
          }
        });
      }
    });
  })(jQuery);
  jQuery(document).ready(function () {
    $('pre').raw();
  }); 
```

它的作用是在`pre`选定元素后附加一个链接，单击该链接时，将在新窗口中打开此类 pre 的原始代码。

我通过将代码添加到我现有的 JavaScript 文件、在`header.php`文件中以及创建一个新的 JS 文件来尝试它，但仍然没有工作。

代码是正确的，我在jsFiddle上测试过。只是不能在 WordPress 中工作。

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T08:30:04.663

Wordpress 通常以 noConflict 模式加载 jQuery，`$` 在这种情况下无法通过简写访问 jQuery。

改变这个：

```
jQuery(document).ready(function () {
    $('pre').raw();
  }); 
```

到

```
jQuery(document).ready(function () {
    jQuery('pre').raw();
  }); 
```

或者

```
jQuery(document).ready(function ($) {
    $('pre').raw();
  }); 
```

# sublimetext2 - 如何将文本粘贴到原始文本的左侧，如ultraedit列模式

> ID：14098903
> 
> 赞同：1
> 
> 时间：2012-12-31T07:40:59.770
> 
> 标签：sublimetext2

我有以下原文：

```
a:1
b:2
c:3
d:4 
```

我想将下面的内容粘贴到原始文本区域的右侧

```
a:5
b:7
e:10 
```

结果应该是：

```
a:1   a:5
b:2   b:7
c:3   e:10
d:4 
```

通过ultraedit columnn模式很容易完成。但是如何在崇高的情况下快速做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T09:49:11.023

您可以使用[列选择](http://www.sublimetext.com/docs/2/column_selection.html)。

转到第一行的末尾，并根据需要多次按`ctrl`+ `shift`+ `down`（或在 Windows 和 Linux 上为`ctrl`+ `alt`+ ）。`down`然后添加您需要的空格数，并粘贴您的文本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-06T14:04:11.883

![Sublime Text 2 技巧 shift+ctrl+L 分割线](../Images/16291f60061e82c551985dd896dc1094.png) Sublime Text 2 技巧 shift+ctrl+L 分割线

# visual-studio-2012 - 部署项目选项在 Visual Studio 2012 中的 SharePoint 2013 项目的项目级别不可用

> ID：14098909
> 
> 赞同：4
> 
> 时间：2012-12-31T07:42:06.610
> 
> 标签：visual-studio-2012, sharepoint-2013

我最近将我的 SharePoint 2010 解决方案升级到了 SharePoint 2013，并在同一过程中将解决方案也升级到了 Visual-Studio 2012。

我观察到的一件事是我在每个 SharePoint 项目级别都没有“部署”选项。在进一步挖掘时，我注意到“deloy”选项可用于解决方案下的所有项目，但不适用于任何文件夹下的项目。

例如，我附上了显示包含两个项目的解决方案结构的图像。正如所见，“部署”选项不适用于文件夹下的项目。

![在此处输入图像描述](../Images/1495f0d6e9e938a02aef30b5ff82c3f9.png)

这是一个错误还是 VS 中有什么设置可以使这项工作？

-沙拉特

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-25T13:10:50.410

这是错误的定义。

另请参阅[http://social.technet.microsoft.com/Forums/en-US/sharepointgeneral/thread/199f8fdb-afbd-4c40-b28c-beba6fc41fbf/](http://social.technet.microsoft.com/Forums/en-US/sharepointgeneral/thread/199f8fdb-afbd-4c40-b28c-beba6fc41fbf/)

更新 2 - 仍然没有修复。

编辑：有趣的事实。如果您选择两个或更多项目 - 部署选项会重新出现 -.-

# javascript - codeigniter 中的组合框

> ID：14098911
> 
> 赞同：0
> 
> 时间：2012-12-31T07:42:15.560
> 
> 标签：javascript, codeigniter, combobox

如果选择了城市，我想显示成本。
表格是这样的：

```
id |  city    |   cost  |
1  |  NY      |   1000  |
2  |  Chicago |   2000  | 
```

以下是我尝试过但失败的代码：

控制器

```
function order()
{
................................
$data['result']=$this->order_model->get_kota()->result();
$this->load->view('order_view',$data);
} 
```

模型

```
function get_kota()
{
return $this->db->get('kota');
} 
```

看法

```
<select>
<?php foreach($result as $data)
{ ?>
<option value='<?php echo $data->id_kota?>'><?php echo $data->city?></option><?php }?>
</select>

//if i select option then form input automatically show cost???
<input type='text'><?php echo $data->cost?></input> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T07:52:51.837

将结果集保存在 JavaScript 变量中，如下所示：

```
var results = <?php echo json_encode($result); ?>; 
```

然后，响应选择框的 change 事件，通过搜索 city id`results`并在输入字段中填写相应的 cost

这些方面的东西：

```
$("select").change(function(){
   id = $(this).val();
   for (i=0;i<results.length;i++) {
   if (results[i].id==id) {
   $("input").val(results[i].cost);
    }
   }
}); 
```

在这种情况下，恕我直言，AJAX 请求是多余的，因为已经从服务器获取了整个数据。

# jakarta-ee - Jboss 5.0.GA 服务器未在调试模式下启动

> ID：14098933
> 
> 赞同：0
> 
> 时间：2012-12-31T07:44:40.397
> 
> 标签：jakarta-ee, jboss

我发现了一个非常奇怪的场景，我的 JBOSS 服务器没有在 DEBUG 模式下启动它需要太多时间，并且在指定为 TIMEOUTS 的时间之后它会完全停止。奇怪的事情与控制台上的 sysouts 有关，控制台上的最后一项总是相同的，如下所示。

```
13:00:43,983 INFO  [TomcatDeployment] deploy, ctxPath=/mdmapp
13:00:44,062 INFO  [[/mdmapp]] Initializing Spring root WebApplicationContext
13:00:44,062 INFO  [ContextLoader] Root WebApplicationContext: initialization started
13:00:44,108 INFO  [XmlWebApplicationContext] Refreshing Root WebApplicationContext: startup date [Mon Dec 31 13:00:44 GMT+05:30 2012]; root of context hierarchy
13:00:44,202 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
13:00:44,233 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from class path resource [com/vin/mdm/utility/UtilityContext.xml]
13:00:44,233 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from class path resource [com/vin/mdm/adapter/AdapterContext.xml]
13:00:44,249 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from class path resource [com/vin/mdm/repository/RepositoryContext.xml]
13:00:44,280 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from class path resource [com/vin/mdm/service/ServiceContext.xml]
13:00:44,280 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from class path resource [com/vin/mdm/web/WebContext.xml]
13:00:44,437 INFO  [DefaultListableBeanFactory] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@28e2a0c: defining beans [hibernateMySql,entity,user,masterHier,userRepository,entityRepository,masterHierRepository,nodeVO,workFlowMaster,workFlowDetail,workflowDao,ruleEngineDao,roleRepository,roleMaster,roleInstanceMapping,roleModuleMapping,instMstDaoImpl,configDao,clientDao,config,taskScreenDAO,userDto,userManager,entityManager,masterHierManager,workflowManager,workflowDTO,nodeDTO,ruleEngineManager,ruleDto,baseRuleDto,roleManager,roleDto,codeWriterManagement,sysconfigManager,configDto,taskScreenManager,userAuth,entityAction,jsonEntityAction,userAction,jsonUserAction,ruleEngineAction,roleModuleAction,jsonRoleModuleAction,codeWriterAction,sysConfigAction,testAutoCompleter]; root of factory hierarchy
13:00:44,515 INFO  [Environment] Hibernate 3.3.1.GA
13:00:44,515 INFO  [Environment] hibernate.properties not found
13:00:44,530 INFO  [Environment] Bytecode provider name : javassist
13:00:44,530 INFO  [Environment] using JDK 1.4 java.sql.Timestamp handling
13:00:44,624 INFO  [Configuration] configuring from resource: /com/vin/mdm/repository/hmysql.cfg.xml
13:00:44,624 INFO  [Configuration] Configuration resource: /com/vin/mdm/repository/hmysql.cfg.xml
13:00:44,640 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/dao/user/User.hbm.xml
13:00:44,702 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.dao.user.User -> user_master
13:00:44,733 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/dao/entity/Entity.hbm.xml
13:00:44,749 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.dao.entity.Entity -> entity_master
13:00:44,749 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/vo/ParameterMaster.hbm.xml
13:00:44,749 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.vo.ParameterMaster -> parameter_master
13:00:44,749 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/vo/RoleInstanceMapping.hbm.xml
13:00:44,749 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.vo.RoleInstanceMapping -> role_instance_mapping
13:00:44,827 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/vo/WorkflowDetail.hbm.xml
13:00:44,827 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.vo.WorkflowDetail -> workflow_detail
13:00:44,827 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/vo/RoleModuleMapping.hbm.xml
13:00:44,843 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.vo.RoleModuleMapping -> role_module_mapping
13:00:44,843 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/vo/WorkflowMaster.hbm.xml
13:00:44,843 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.vo.WorkflowMaster -> workflow_master
13:00:44,843 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/vo/ModuleMaster.hbm.xml
13:00:44,858 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.vo.ModuleMaster -> module_master
13:00:44,858 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/vo/RoleMaster.hbm.xml
13:00:44,858 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.vo.RoleMaster -> role_master
13:00:44,858 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/vo/MenuMaster.hbm.xml
13:00:44,858 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.vo.MenuItem -> menu_items
13:00:44,858 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/vo/MenuRoleMapping.hbm.xml
13:00:44,874 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.vo.MenuRoleMapping -> menu_role_mapping
13:00:44,874 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/dao/ruleEngine/InstanceMaster.hbm.xml
13:00:44,874 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.dao.ruleEngine.InstanceMaster -> instance_master
13:00:44,874 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/dao/ruleEngine/RuleDetail.hbm.xml
13:00:44,874 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.dao.ruleEngine.RuleDetail -> rule_detail
13:00:44,874 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/dao/ruleEngine/InstanceHierLevelMaster.hbm.xml
13:00:44,890 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.dao.ruleEngine.InstanceHierLevelMaster -> instance_hier_level_master
13:00:44,890 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/dao/ruleEngine/InstanceHierLevelDetail.hbm.xml
13:00:44,921 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.dao.ruleEngine.InstanceHierLevelDetailVO -> instance_hier_level_detail
13:00:44,921 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/dao/ruleEngine/ModelRuleDetail.hbm.xml
13:00:44,937 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.dao.ruleEngine.ModelRuleDetail -> model_rule_detail
13:00:44,937 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/dao/client/ClientConfiguration.hbm.xml
13:00:44,937 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.dao.client.ClientConfiguration -> client_master
13:00:44,937 INFO  [Configuration] Reading mappings from resource : com/vin/mdm/repository/dao/ruleEngine/FieldRuleDetail.hbm.xml
13:00:44,937 INFO  [HbmBinder] Mapping class: com.vin.mdm.repository.dao.ruleEngine.FieldRuleDetail -> field_detail
13:00:44,937 INFO  [Configuration] Configured SessionFactory: null
13:00:44,983 INFO  [DriverManagerConnectionProvider] Using Hibernate built-in connection pool (not for production use!)
13:00:44,983 INFO  [DriverManagerConnectionProvider] Hibernate connection pool size: 20
13:00:44,983 INFO  [DriverManagerConnectionProvider] autocommit mode: false
13:00:44,983 INFO  [DriverManagerConnectionProvider] using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://192.168.1.223:3306/mdmdb
13:00:44,983 INFO  [DriverManagerConnectionProvider] connection properties: {user=mdmuser, password=mdm123}
13:00:45,358 INFO  [SettingsFactory] RDBMS: MySQL, version: 5.5.28-enterprise-commercial-advanced
13:00:45,358 INFO  [SettingsFactory] JDBC driver: MySQL-AB JDBC Driver, version: mysql-connector-java-5.1.6 ( Revision: ${svn.Revision} )
13:00:45,390 INFO  [Dialect] Using dialect: org.hibernate.dialect.MySQLDialect
13:00:45,390 INFO  [TransactionFactoryFactory] Using default transaction strategy (direct JDBC transactions)
13:00:45,390 INFO  [TransactionManagerLookupFactory] No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
13:00:45,390 INFO  [SettingsFactory] Automatic flush during beforeCompletion(): disabled
13:00:45,390 INFO  [SettingsFactory] Automatic session close at end of transaction: disabled
13:00:45,390 INFO  [SettingsFactory] JDBC batch size: 15
13:00:45,390 INFO  [SettingsFactory] JDBC batch updates for versioned data: disabled
13:00:45,390 INFO  [SettingsFactory] Scrollable result sets: enabled
13:00:45,390 INFO  [SettingsFactory] JDBC3 getGeneratedKeys(): enabled
13:00:45,390 INFO  [SettingsFactory] Connection release mode: auto
13:00:45,405 INFO  [SettingsFactory] Maximum outer join fetch depth: 2
13:00:45,405 INFO  [SettingsFactory] Default batch fetch size: 1
13:00:45,405 INFO  [SettingsFactory] Generate SQL with comments: disabled
13:00:45,405 INFO  [SettingsFactory] Order SQL updates by primary key: disabled
13:00:45,405 INFO  [SettingsFactory] Order SQL inserts for batching: disabled
13:00:45,405 INFO  [SettingsFactory] Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
13:00:45,405 INFO  [ASTQueryTranslatorFactory] Using ASTQueryTranslatorFactory
13:00:45,405 INFO  [SettingsFactory] Query language substitutions: {}
13:00:45,405 INFO  [SettingsFactory] JPA-QL strict compliance: disabled
13:00:45,405 INFO  [SettingsFactory] Second-level cache: enabled
13:00:45,405 INFO  [SettingsFactory] Query cache: disabled
13:00:45,405 INFO  [SettingsFactory] Cache region factory : org.hibernate.cache.impl.NoCachingRegionFactory
13:00:45,405 INFO  [SettingsFactory] Optimize cache for minimal puts: disabled
13:00:45,405 INFO  [SettingsFactory] Structured second-level cache entries: disabled
13:00:45,405 INFO  [SettingsFactory] Echoing all SQL to stdout
13:00:45,405 INFO  [SettingsFactory] Statistics: disabled
13:00:45,405 INFO  [SettingsFactory] Deleted entity synthetic identifier rollback: disabled
13:00:45,405 INFO  [SettingsFactory] Default entity-mode: pojo
13:00:45,405 INFO  [SettingsFactory] Named query checking : enabled
13:00:45,483 INFO  [SessionFactoryImpl] building session factory
13:00:46,046 INFO  [SessionFactoryObjectFactory] Not binding factory to JNDI, no JNDI name configured 
```

在这些行之后，什么都没有，它只是挂起并停止，而在正常运行模式下它工作正常..

有需要的请指教。

这是前 50 行...

```
13:08:44,430 INFO  [ServerImpl] Starting JBoss (Microcontainer)...
13:08:44,446 INFO  [ServerImpl] Release ID: JBoss [Morpheus] 5.0.1.GA (build: SVNTag=JBoss_5_0_1_GA date=200902232048)
13:08:44,446 INFO  [ServerImpl] Bootstrap URL: null
13:08:44,446 INFO  [ServerImpl] Home Dir: C:\jboss-5.0.1.GA
13:08:44,446 INFO  [ServerImpl] Home URL: file:/C:/jboss-5.0.1.GA/
13:08:44,446 INFO  [ServerImpl] Library URL: file:/C:/jboss-5.0.1.GA/lib/
13:08:44,446 INFO  [ServerImpl] Patch URL: null
13:08:44,446 INFO  [ServerImpl] Common Base URL: file:/C:/jboss-5.0.1.GA/common/
13:08:44,446 INFO  [ServerImpl] Common Library URL: file:/C:/jboss-5.0.1.GA/common/lib/
13:08:44,461 INFO  [ServerImpl] Server Name: default
13:08:44,461 INFO  [ServerImpl] Server Base Dir: C:\jboss-5.0.1.GA\server
13:08:44,461 INFO  [ServerImpl] Server Base URL: file:/C:/jboss-5.0.1.GA/server/
13:08:44,461 INFO  [ServerImpl] Server Config URL: file:/C:/jboss-5.0.1.GA/server/default/conf/
13:08:44,461 INFO  [ServerImpl] Server Home Dir: C:\jboss-5.0.1.GA\server\default
13:08:44,461 INFO  [ServerImpl] Server Home URL: file:/C:/jboss-5.0.1.GA/server/default/
13:08:44,461 INFO  [ServerImpl] Server Data Dir: C:\jboss-5.0.1.GA\server\default\data
13:08:44,461 INFO  [ServerImpl] Server Library URL: file:/C:/jboss-5.0.1.GA/server/default/lib/
13:08:44,461 INFO  [ServerImpl] Server Log Dir: C:\jboss-5.0.1.GA\server\default\log
13:08:44,461 INFO  [ServerImpl] Server Native Dir: C:\jboss-5.0.1.GA\server\default\tmp\native
13:08:44,461 INFO  [ServerImpl] Server Temp Dir: C:\jboss-5.0.1.GA\server\default\tmp
13:08:44,461 INFO  [ServerImpl] Server Temp Deploy Dir: C:\jboss-5.0.1.GA\server\default\tmp\deploy
13:08:46,883 INFO  [ServerImpl] Starting Microcontainer, bootstrapURL=file:/C:/jboss-5.0.1.GA/server/default/conf/bootstrap.xml
13:08:49,430 INFO  [VFSCacheFactory] Initializing VFSCache [org.jboss.virtual.plugins.cache.CombinedVFSCache]
13:08:49,430 INFO  [VFSCacheFactory] Using VFSCache [CombinedVFSCache[real-cache: null]]
13:08:49,680 INFO  [CopyMechanism] VFS temp dir: C:\jboss-5.0.1.GA\server\default\tmp
13:08:49,695 INFO  [ZipEntryContext] VFS force nested jars copy-mode is enabled.
13:08:52,102 INFO  [ServerInfo] Java version: 1.6.0_20,Oracle Corporation
13:08:52,102 INFO  [ServerInfo] Java Runtime: Java(TM) SE Runtime Environment (build 1.6.0_20-b02)
13:08:52,102 INFO  [ServerInfo] Java VM: Oracle JRockit(R) R28.1.0-123-138454-1.6.0_20-20101014-1351-windows-ia32,Oracle Corporation
13:08:52,102 INFO  [ServerInfo] OS-System: Windows XP 5.1,x86
13:08:52,117 INFO  [JMXKernel] Legacy JMX core initialized
13:08:54,633 INFO  [ProfileServiceImpl] Loading profile: default from: org.jboss.system.server.profileservice.repository.SerializableDeploymentRepository@23fc3d8(root=C:\jboss-5.0.1.GA\server, key=org.jboss.profileservice.spi.ProfileKey@143b82c3[domain=default,server=default,name=default])
13:08:54,633 INFO  [ProfileImpl] Using repository:org.jboss.system.server.profileservice.repository.SerializableDeploymentRepository@23fc3d8(root=C:\jboss-5.0.1.GA\server, key=org.jboss.profileservice.spi.ProfileKey@143b82c3[domain=default,server=default,name=default])
13:08:54,633 INFO  [ProfileServiceImpl] Loaded profile: ProfileImpl@24ce5f4{key=org.jboss.profileservice.spi.ProfileKey@143b82c3[domain=default,server=default,name=default]}
13:09:01,507 INFO  [WebService] Using RMI server codebase: http://localhost:8083/
13:09:11,991 INFO  [NativeServerConfig] JBoss Web Services - Stack Native Core
13:09:11,991 INFO  [NativeServerConfig] 3.0.5.GA
13:09:34,366 INFO  [JMXConnectorServerService] JMX Connector server: service:jmx:rmi://localhost/jndi/rmi://localhost:1090/jmxconnector
13:09:34,584 INFO  [MailService] Mail Service bound to java:/Mail
13:09:36,584 WARN  [JBossASSecurityMetadataStore] WARNING! POTENTIAL SECURITY RISK. It has been detected that the MessageSucker component which sucks messages from one node to another has not had its password changed from the installation default. Please see the JBoss Messaging user guide for instructions on how to do this.
13:09:36,600 WARN  [AnnotationCreator] No ClassLoader provided, using TCCL: org.jboss.managed.api.annotation.ManagementComponent
13:09:36,850 INFO  [TransactionManagerService] JBossTS Transaction Service (JTA version) - JBoss Inc.
13:09:36,850 INFO  [TransactionManagerService] Setting up property manager MBean and JMX layer
13:09:37,334 INFO  [TransactionManagerService] Initializing recovery manager
13:09:37,709 INFO  [TransactionManagerService] Recovery manager configured
13:09:37,709 INFO  [TransactionManagerService] Binding TransactionManager JNDI Reference
13:09:37,725 INFO  [TransactionManagerService] Starting transaction recovery manager
13:09:38,647 INFO  [Http11Protocol] Initializing Coyote HTTP/1.1 on http-localhost%2F127.0.0.1-8080
13:09:38,647 INFO  [AjpProtocol] Initializing Coyote AJP/1.3 on ajp-localhost%2F127.0.0.1-8009
13:09:38,647 INFO  [StandardService] Starting service jboss.web
13:09:38,647 INFO  [StandardEngine] Starting Servlet Engine: JBoss Web/2.1.2.GA
13:09:38,694 INFO  [Catalina] Server startup in 114 ms
13:09:38,725 INFO  [TomcatDeployment] deploy, ctxPath=/web-console
13:09:40,522 INFO  [TomcatDeployment] deploy, ctxPath=/invoker
13:09:40,615 INFO  [TomcatDeployment] deploy, ctxPath=/jbossws
13:09:40,756 INFO  [RARDeployment] Required license terms exist, view vfszip:/C:/jboss-5.0.1.GA/server/default/deploy/jboss-local-jdbc.rar/META-INF/ra.xml
13:09:40,772 INFO  [RARDeployment] Required license terms exist, view vfszip:/C:/jboss-5.0.1.GA/server/default/deploy/jboss-xa-jdbc.rar/META-INF/ra.xml
13:09:40,787 INFO  [RARDeployment] Required license terms exist, view vfszip:/C:/jboss-5.0.1.GA/server/default/deploy/jms-ra.rar/META-INF/ra.xml
13:09:40,818 INFO  [RARDeployment] Required license terms exist, view vfszip:/C:/jboss-5.0.1.GA/server/default/deploy/mail-ra.rar/META-INF/ra.xml
13:09:40,865 INFO  [RARDeployment] Required license terms exist, view vfszip:/C:/jboss-5.0.1.GA/server/default/deploy/quartz-ra.rar/META-INF/ra.xml
13:09:41,022 INFO  [SimpleThreadPool] Job execution threads will use class loader of thread: main
13:09:41,053 INFO  [QuartzScheduler] Quartz Scheduler v.1.5.2 created.
13:09:41,053 INFO  [RAMJobStore] RAMJobStore initialized.
13:09:41,053 INFO  [StdSchedulerFactory] Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
13:09:41,053 INFO  [StdSchedulerFactory] Quartz scheduler version: 1.5.2
13:09:41,053 INFO  [QuartzScheduler] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
13:09:41,318 INFO  [ConnectionFactoryBindingService] Bound ConnectionManager 'jboss.jca:service=DataSourceBinding,name=VDSS-DS' to JNDI name 'java:VDSS-DS'
13:09:41,428 INFO  [ConnectionFactoryBindingService] Bound ConnectionManager 'jboss.jca:service=DataSourceBinding,name=VinMetro' to JNDI name 'java:VinMetro'
13:09:41,475 INFO  [ConnectionFactoryBindingService] Bound ConnectionManager 'jboss.jca:service=DataSourceBinding,name=VinMDM-DS' to JNDI name 'java:VinMDM-DS'
13:09:41,568 INFO  [ConnectionFactoryBindingService] Bound ConnectionManager 'jboss.jca:service=DataSourceBinding,name=VinMMS-DS' to JNDI name 'java:VinMMS-DS'
13:09:44,146 INFO  [ConnectionFactoryBindingService] Bound ConnectionManager 'jboss.jca:service=DataSourceBinding,name=DefaultDS' to JNDI name 'java:DefaultDS'
13:09:44,975 INFO  [ServerPeer] JBoss Messaging 1.4.1.GA server [0] started
13:09:45,193 INFO  [ConnectionFactory] Connector bisocket://localhost:4457 has leasing enabled, lease period 10000 milliseconds
13:09:45,193 INFO  [ConnectionFactory] org.jboss.jms.server.connectionfactory.ConnectionFactory@3f1bbb4 started
13:09:45,240 INFO  [QueueService] Queue[/queue/ExpiryQueue] started, fullSize=200000, pageSize=2000, downCacheSize=2000
13:09:45,240 WARN  [ConnectionFactoryJNDIMapper] supportsFailover attribute is true on connection factory: jboss.messaging.connectionfactory:service=ClusteredConnectionFactory but post office is non clustered. So connection factory will *not* support failover
13:09:45,240 WARN  [ConnectionFactoryJNDIMapper] supportsLoadBalancing attribute is true on connection factory: jboss.messaging.connectionfactory:service=ClusteredConnectionFactory but post office is non clustered. So connection factory will *not* support load balancing
13:09:45,240 INFO  [ConnectionFactory] Connector bisocket://localhost:4457 has leasing enabled, lease period 10000 milliseconds
13:09:45,240 INFO  [ConnectionFactory] org.jboss.jms.server.connectionfactory.ConnectionFactory@3ef1969 started
13:09:45,240 INFO  [ConnectionFactory] Connector bisocket://localhost:4457 has leasing enabled, lease period 10000 milliseconds
13:09:45,240 INFO  [ConnectionFactory] org.jboss.jms.server.connectionfactory.ConnectionFactory@3ef1985 started
13:09:45,240 INFO  [QueueService] Queue[/queue/DLQ] started, fullSize=200000, pageSize=2000, downCacheSize=2000
13:09:45,803 INFO  [ConnectionFactoryBindingService] Bound ConnectionManager 'jboss.jca:service=ConnectionFactoryBinding,name=JmsXA' to JNDI name 'java:JmsXA'
13:09:45,834 INFO  [TomcatDeployment] deploy, ctxPath=/
13:09:45,912 INFO  [TomcatDeployment] deploy, ctxPath=/jmx-console
13:09:46,006 INFO  [TomcatDeployment] deploy, ctxPath=/mdmapp 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:04:10.137

根据日志，服务器或任何类型的配置都没有问题，实际问题出在服务器引导期间加载的休眠模块。所以去掉Hibernate相关的错误后服务器正常启动了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T13:23:17.460

嘿发布您的起始日志（前 50 行）。

*发布您的 JAVA_OPTS

如果您从命令行运行服务器并使用 linux，请尝试此操作：-

**export JAVA_OPTS='-Xdebug -Xrunjdwp:transport=dt_socket,address=8789,server=y,suspend=n'**

然后从同一个控制台运行服务器

或者

您可以将 run.sh/run.bat 中的 JAVA_OPTS 设置为 **JAVA_OPTS='-Xdebug -unjdwp:transport=dt_socket,address=8789,server=y,suspend=n'**

# c++ - 如何清除设备上下文？

> ID：14098935
> 
> 赞同：-1
> 
> 时间：2012-12-31T07:45:06.673
> 
> 标签：c++, winapi, device

我不确定这是否可行。但基本上我需要的要点是，我的 Win32 程序中的一堆东西在 WM_PAINT 期间通过设备上下文被绘制到 hWnd。然后通过一个单独的函数，我通过 SAME DC 将更多内容吸引到 hWnd。不幸的是，由于我使用相同的 DC，在 WM_PAINT 期间绘制的内容仍保存在 DC 中，因此随后通过我的函数再次复制。

我需要做的是在 WM_PAINT 的末尾或函数的开头清除我的设备上下文的内容，这样这些东西就不会被复制两次。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T08:06:40.717

每当您需要`WM_PAINT`在`HWND`.`WM_PAINT`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T07:59:36.580

为什么你不能在 WM_PAINT 处理程序中完成整个绘图？在第二个绘图中你如何绘制？可能是使用 GetDC 来获取设备上下文并进行绘制，对吧？问题是，当您在 WM_PAINT 处理程序之外绘制时，它会在窗口需要重新绘制时被擦除，并且 WM_PAINT 绘制胜过基于 GetDC 的绘制，除非您使用位图来保留当前上下文的内容

# javascript - 课后人数增加到最大值的功能

> ID：14098936
> 
> 赞同：2
> 
> 时间：2012-12-31T07:45:08.203
> 
> 标签：javascript, jquery

每次调用此函数时，我都希望进行类更改（数量不断增加）。

我目前已经尝试过这个：

```
function(i) { 
    if(i < 16) {
        $("#elm").removeClass("cls-" + (i));
        i++;
        $("#elm").addClass("cls-" + (i++));
    } else {}
} 
```

jQuery 新手，所以我不确定要修复什么：/ 谢谢！！！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T07:48:32.620

```
function upOne(i) { 
    if(i < 16) {
            $("#elm").removeClass("cls-" + (i));  //if the number is always increasing by 1
            $("#elm").removeClass(); //if you want to remove everything

            $("#elm").addClass("cls-" + (++i));  //add 1 to i
    }
} 
```

干得好。这将删除最后一个数字，并添加新的（下一个）数字。

演示：http: [//jsfiddle.net/DerekL/XLfPX/](http://jsfiddle.net/DerekL/XLfPX/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T08:02:34.053

尝试这个..

```
function functionName(i) {   //you missed your function's name
  if(i < 16) {
    $("#elm").removeClass(); // this removes the whole class of that element
    i++;
    $("#elm").addClass("cls-" + (++i));  //this adds the class
  } else {
      //do your stuff here
   }
} 
```

# asp.net-mvc-4 - 最新的 MVC 表单身份验证

> ID：14098953
> 
> 赞同：0
> 
> 时间：2012-12-31T07:47:04.163
> 
> 标签：asp.net-mvc-4, visual-studio-2012, asp.net-membership, simplemembership

我正在尝试使用 VS2012 和 MVC4 实现 asp.net 成员资格（表单版本）。我已经使用 aspnet_regsql.exe 创建了数据库表，现在我想配置 web.config，以便可以在 Visual Studio 中运行“asp.net 配置”实用程序。看来我可能需要使用“简单会员”。这是正确的，我在哪里可以获得关于如何配置我需要的任何一个的说明？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T07:50:51.060

默认情况下，ASP.NET MVC 4 使用 SimpleMembership 提供程序，它是完整提供程序的轻量级版本。它没有公开完整版的所有功能。

您要使用的成员资格提供程序在`<membership>`您的 web.config 部分中配置。

因此，例如，如果您想配置完整的成员资格提供程序（如 MVC 3 中使用的那样）：

```
<membership defaultProvider="DefaultMembershipProvider">
    <providers>
        <add name="DefaultMembershipProvider" 
             type="System.Web.Providers.DefaultMembershipProvider, System.Web.Providers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" 
             connectionStringName="DefaultConnection" 
             enablePasswordRetrieval="false" 
             enablePasswordReset="true" 
             requiresQuestionAndAnswer="false" 
             requiresUniqueEmail="false" 
             maxInvalidPasswordAttempts="5" 
             minRequiredPasswordLength="6" 
             minRequiredNonalphanumericCharacters="0" 
             passwordAttemptWindow="10" 
             applicationName="/" 
         />
    </providers>
</membership> 
```

# ant - 如何列出指定目录中的所有 zip 文件？

> ID：14098955
> 
> 赞同：1
> 
> 时间：2012-12-31T07:47:16.223
> 
> 标签：ant, fileset

我正在尝试检索目录中存在的所有 zip 文件的列表。

我有一个`${src}`包含一些 zip 文件的目录，我正在使用以下代码

```
<target name="test">  
<dirset id="dist.contents" dir="${src}" includes="*.zip"/>  
<property name="prop.dist.contents" refid="dist.contents"/>  
<echo message="${prop.dist.contents}" />  
</target> 
```

但它只回显null。

我也试过`includes="*"`，但没有任何区别。

我正在使用 Ant 1.7.0 版。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T08:01:10.107

如[文档中所述](http://ant.apache.org/manual/Types/dirset.html)：

> DirSet 是一组目录。

所以既然你想要 zip*文件*，你应该使用 FileSet。

# php - 使用 HIPHOP 编译 PHP

> ID：14098957
> 
> 赞同：1
> 
> 时间：2012-12-31T07:47:31.730
> 
> 标签：php, c++, linux, hiphop

这里的任何人都可以为我提供一个关于使用 HipHop 编译 PHP 的好教程吗？我看到了[这个链接](https://github.com/facebook/hiphop-php/wiki/running-hiphop)。但我无法理解 linux 命令。我在 Windows 中开发了应用程序。我无法在 linux 中运行这些命令
`$HPHP_HOME/src/hphp/hphp test.php`
这个命令给了我错误 bash command not found。在我得到的源代码中，我在文件夹中
没有任何名称，这是里面的方法吗？？？`hphp``hphp``main.cpp`

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-31T08:19:13.177

> 这里的任何人都可以为我提供一个关于使用 HipHop 编译 PHP 的好教程吗？[...] 我无法理解 linux 命令。

HipHop 和配套/继任者 HHVM 适用于尝试解决特定性能边缘情况的高级用户。普通的 PHP 开发人员永远不会从 HipHop 提供的任何东西中受益。事实上，在许多情况下，您可以通过[简单的性能分析和目标优化](http://talks.php.net/show/digg)以及字节码缓存（如 APC）来获得同样多的性能优势。

如果您不了解运行它所需的命令，那么您就不属于应该尝试使用它的用户类别。相反，打破你的分析工具，因为它们对你来说更有价值。

* * *

已澄清实际意图是使用 HipHop 作为 PHP 代码保护机制。这是一个更糟糕的主意！

*   HipHop 旨在作为应用程序服务器运行。也就是说，它*包含*一个 Web 服务器。
*   HipHop 二进制文件*很大*，通常大于 500 MB。它们不适合重新分配。
*   HipHop 内存使用明显大于二进制。
*   HipHop 旨在并旨在在专用于该任务的机器上运行。

它不是为了那个目的......*一切*都可以反编译。这包括为该任务设计的商业产品 ionCube 和 Zend Guard。只需要一点时间或金钱，你的资源就是我的。防止知识产权盗窃的最佳方法是获得好的许可证和好的律师，而不是让代码*更难*运行的技术解决方案。

# c# - C# 动态和 COM 对象

> ID：14098958
> 
> 赞同：3
> 
> 时间：2012-12-31T07:47:34.943
> 
> 标签：c#, .net, dynamic, .net-4.0

[从这里](http://www.developerfusion.com/article/9789/c-40-goes-dynamic-a-step-too-far/)

> 当您开始考虑 C# 与外部和非本地对象（尤其是 COM 对象）的关系时，动态类型的一个非常大的优势就出现了。在这种情况下，使用 COM IDispatch 接口解析动态类型，这反过来意味着您可以使用“原始”COM 对象，即无需主互操作程序集 (PIA)。由于许多 COM 对象广泛使用变体类型，它可以存储许多标准数据类型中的任何一种，因此能够使用动态类型代替变体是一个很大的简化。

*我已经知道如何在 C# 中使用动态，但是 - 我想知道它是如何完成的。（通常使用 COM）*

查看*Office COM 对象模型*示例：

```
(Excel.Range)excel.Cells[1,1]).Value= "some string" 
```

*必须包括*演员表，因为`PIA`使用对象类型来表示变体

现在（2010 ...），动态可以通过以下方式完成：

```
excel.Cells[1,1].Value= "some string" 
```

**但**

对象可以通过实现来提供其绑定语义`DynamicObject`

如 ：

```
public class MyClass: DynamicObject
{
  public override bool TryInvokeMember (  InvokeMemberBinder binder, object[] args, out object result)
    {
      ...
    }
} 
```

所以我的问题：

MS `[changed] or [added code] or [now-inherit-DynamicObject]` COM 对象是否允许`excel.Cells[1,1].Value= "some string"`工作？

他们是否重建了整个机制？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-31T08:24:06.783

不，秘诀就是这里的 COM。这仅通过 2 个接口和 5 个方法完成。第一个是 IUnknown，一个由所有 COM 对象实现的接口。它有3种方法：

*   AddRef()，增加 COM 对象的引用计数。这是一个内存管理功能，只要计数不为零，对象就会保持活动状态。存储指向 COM 对象的指针需要调用 IUnknown.AddRef()。

*   Release()，递减引用计数。与 AddRef 相反，当不再使用接口指针时必须调用。当计数达到零时释放 COM 对象。这个函数是在使用 Office 的 .NET 代码中臭名昭著地使用 Marshal.ReleaseComObject() 背后的核心原因。它通常由 COM 包装器的终结器调用。

*   QueryInterface()，要求 COM 对象返回一个指向另一个接口的指针。在这个问题的范围内，这就是 C# 获取 IDispatch 接口指针的方式。

IDispatch 接口是实现动态绑定的接口，大致相当于DynamicObject。它有 4 种方法，其中 2 种在这种情况下很重要：

*   GetIDsOfNames()，将名称转换为数字，即*dispid*。这就是 C# 程序中的标识符如何与 COM 对象上的方法或属性名称匹配的方式。

*   Invoke()，调用属性getter/setter的COM方法，使用dispid

这是大局，如果您想了解有关这些接口的更多信息，请使用 MSDN 库。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-31T08:25:19.113

DLR（这是动态关键字提供的接口）使用“绑定器”与适当的动态对象进行交互（有 C# 绑定器、VB 绑定器、COM 绑定器等）。COM 绑定器是一个单独的组件，它使用“传统”COM 互操作，它没有被替换，仍然可以在没有动态的情况下使用。它针对 .NET 4.0 进行了增强，但不仅仅针对动态。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-31T07:50:34.623

您可以使用`dynamic`任何类型。`DynamicObject`只有当您希望*您的*类提供动态接口时，您才需要派生自。

以下行有效，无需 DateTime 从 DynamicObject 继承：

```
dynamic myDate=DateTime.Now; 
```

**编辑**

至于 COM+ 如何支持动态绑定——它一直都支持。事实上，文档准确地解释了这是如何完成的。

COM 始终通过 IDispatch 接口支持其自己的动态绑定，其工作方式与 DynamicObject 大致相似。IDispatch 允许对象响应对特定接口及其支持的方法的查询。

`dynamic`可以将 IDispatch 接口用于没有类型库或代理的原始 COM 对象。在其他情况下， `dynamic`将调用代理方法而不通过 IDispatch 接口。

COM 中的动态绑定引入了性能损失，因为提取特定接口并调用其方法需要多次调用。在 VB6 时代，人们试图通过使用类型库来最小化或消除动态绑定的使用。这也是对 .NET 的合理建议。

# php - 我需要特定产品类型的自定义选项卡，而不是所有产品类型

> ID：14098960
> 
> 赞同：7
> 
> 时间：2012-12-31T07:47:38.923
> 
> 标签：php, magento, magento-1.6

我想为我的自定义产品类型添加新的自定义选项卡，例如图像“价格 - 尺寸”

我已尝试来自此[链接 1](http://magento.roars.in/add-custom-tabs-to-the-magento-product-admin/add-custom-tabs-to-the-magento-product-admin/)和[链接 2](http://www.magentocommerce.com/wiki/5_-_modules_and_development/0_-_module_development_in_magento/installing_custom_attributes_with_your_module?do=show)的代码，但它在所有产品类型添加/编辑上显示选项卡

[我的问题与此](https://stackoverflow.com/questions/8366291/magento-how-to-add-a-custom-tab-under-product-information-in-the-admin-panel)相同，但想使用编码来做到这一点

![在此处输入图像描述](../Images/53d385f4f5cde41e52bee58262e513c8.png)

**mysql4-install-0.1.0.php**

```
$installer = $this;
$installer->startSetup();
$installer->addAttribute('catalog_product', 'limits', array(
    'group'             => 'Price - Size',
    'type'              => 'varchar',
    'frontend'          => '',
            'backend'           => 'custproduct/entity_attribute_backend_limit',
    'label'             => 'Limit',
    'input'             => 'text',
    'class'             => '',
    'source'            => '',
    'global'            => Mage_Catalog_Model_Resource_Eav_Attribute::SCOPE_GLOBAL,
    'visible'           => true,
    'required'          => false,
    'user_defined'      => true,
    'default'           => '1',
    'searchable'        => false,
    'filterable'        => false,
    'comparable'        => false,
    'visible_on_front'  => true,
    'unique'            => false,
    'apply_to'          => My_Custproduct_Model_Product_Type::TYPE_CustomProduct_PRODUCT, //also try 'custproduct'
    'is_configurable'   => false
));
$installer->addAttributeGroup('catalog_product', 'Default','Price - Size', 40);
$installer->addAttributeToSet('catalog_product','Default', 'Price - Size', 'limits');

$fieldList = array('price','special_price','special_from_date','special_to_date',
    'minimal_price','cost','tier_price','weight','tax_class_id');

 foreach ($fieldList as $field) {
    $applyTo = explode(',', $installer->getAttribute('catalog_product', $field, 'apply_to'));
    if (!in_array('custproduct', $applyTo)) {
        $applyTo[] = 'custproduct';
        $installer->updateAttribute('catalog_product', $field, 'apply_to', join(',', $applyTo));
    }
}
$installer->endSetup(); 
```

添加了属性“限制”，但它显示在所有产品类型上，我只需要我的自定义产品类型（custproduct）。

**感谢回复 我的问题现在解决了**

`$fieldList`刚刚在数组中添加了“限制”

```
$fieldList = array('price','special_price','special_from_date','special_to_date',
    'minimal_price','cost','tier_price','weight','tax_class_id', 'limits'); 
```

谢谢！！！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-08T11:16:30.853

Magento 非常灵活，因此有多种方法可以达到预期的效果。唯一的问题是确定**最好的方法**，即找到最可靠和最有效的方法。

这里可以推荐两种方法。选择取决于所需功能的技术细节，在最初的问题中没有说明：

1.  自定义选项卡将仅包含基本字段，用于输入产品数据
2.  自定义选项卡将包含高级字段和/或 javascript 和/或其他自定义 HTML 标记

让我们看看这两种情况的解决方案。

## #1。该选项卡将仅包含基本字段，用于输入产品数据

在这种情况下，使用 Magento 的属性机制就足够了。它允许为产品创建属性（字段），仅将它们应用于某些产品类型，并将字段分成组（选项卡）。

这就是脚本的样子。

**<module_dir>/sql/install-1.0.0.0.php**

```
<?php
/* @var $installer Mage_Catalog_Model_Resource_Setup */
$installer = $this;

// Add attribute
$allowedProductTypes = array(
    Mage_Catalog_Model_Product_Type_Grouped::TYPE_CODE,
    Mage_Downloadable_Model_Product_Type::TYPE_DOWNLOADABLE,
);

$installer->addAttribute(Mage_Catalog_Model_Product::ENTITY, 'attribute_for_tab', array(
    'label'             => 'Attribute For Tab',
    'apply_to'          => implode(',', $allowedProductTypes),
    'type'              => 'varchar',
    'input'             => 'text',
    'default'           => '',
    'global'            => Mage_Catalog_Model_Resource_Eav_Attribute::SCOPE_GLOBAL,
    'user_defined'      => true,
    'visible'           => true,
    'required'          => false,
    'searchable'        => false,
    'filterable'        => false,
    'comparable'        => false,
    'visible_on_front'  => false,
    'unique'            => false,
    'is_configurable'   => false
));

// Add group
$installer->addAttributeGroup(Mage_Catalog_Model_Product::ENTITY, 'Default', 'My Attribute Tab');

// Add attribute to set and group
$installer->addAttributeToSet(Mage_Catalog_Model_Product::ENTITY, 'Default', 'My Attribute Tab', 'attribute_for_tab'); 
```

随意[下载此方法的简单模块示例：“attribute_tab.zip”](https://dl.dropbox.com/u/17950262/so/magento/product_tab/attribute_tab.zip)

## #2。自定义选项卡将包含高级字段和/或 javascript 和/或其他自定义 HTML 标记

在这种情况下，选项卡应该创建为通常的 Magento 块。并通过布局注入到 Tabs 渲染器中。

自定义选项卡块**<module_dir>/Block/Adminhtml/Catalog/Product/Edit/Tab/Custom.php**

```
<?php
class Zerkella_CustomTab_Block_Adminhtml_Catalog_Product_Edit_Tab_Custom
    extends Mage_Adminhtml_Block_Widget implements Mage_Adminhtml_Block_Widget_Tab_Interface
{
    /**
     * Class constructor
     *
     */
    public function __construct()
    {
        parent::__construct();
        $this->setTemplate('zerkella_customtab/catalog/product/edit/tab/custom.phtml');
    }

    /**
     * Get tab label
     *
     * @return string
     */
    public function getTabLabel()
    {
        return Mage::helper('zerkella_customtab')->__('My Custom Tab');
    }

    /**
     * Get tab title
     *
     * @return string
     */
    public function getTabTitle()
    {
        return Mage::helper('zerkella_customtab')->__('My Custom Tab');
    }

    /**
     * Check if tab can be displayed
     *
     * @return boolean
     */
    public function canShowTab()
    {
        $allowedProductTypes = array(
            Mage_Catalog_Model_Product_Type_Grouped::TYPE_CODE,
            Mage_Downloadable_Model_Product_Type::TYPE_DOWNLOADABLE,
        );
        $productType = $this->_getProduct()->getTypeId();

        return in_array($productType, $allowedProductTypes);
    }

    /**
     * Retrieve product
     *
     * @return Mage_Catalog_Model_Product
     */
    protected function _getProduct()
    {
        return Mage::registry('current_product');
    }

    /**
     * Check if tab is hidden
     *
     * @return boolean
     */
    public function isHidden()
    {
        return false;
    }
} 
```

布局文件**app/design/adminhtml/default/default/layout/zerkella_customtab.xml：**

```
<?xml version="1.0"?>
<layout>
    <adminhtml_catalog_product_new>
        <reference name="product_tabs">
            <action method="addTab">
                <name>my_custom_tab</name>
                <block>zerkella_customtab/adminhtml_catalog_product_edit_tab_custom</block>
            </action>
        </reference>
    </adminhtml_catalog_product_new>
    <adminhtml_catalog_product_edit>
        <reference name="product_tabs">
            <action method="addTab">
                <name>my_custom_tab</name>
                <block>zerkella_customtab/adminhtml_catalog_product_edit_tab_custom</block>
            </action>
        </reference>
    </adminhtml_catalog_product_edit>
</layout> 
```

**注意：**如果具有自定义选项卡的产品类型是固定的，那么您可以将它们静态放在布局文件中，而不是在块的`canShowTab()`方法中动态检查它们。

这是此类示例案例的布局文件，当具有自定义选项卡的产品类型已修复且仅包含可下载的**app/design/adminhtml/default/default/layout/zerkella_customtab.xml 时：**

```
<?xml version="1.0"?>
<layout>
    <adminhtml_catalog_product_downloadable>
        <reference name="product_tabs">
            <action method="addTab">
                <name>my_custom_tab</name>
                <block>zerkella_customtab/adminhtml_catalog_product_edit_tab_custom</block>
            </action>
        </reference>
    </adminhtml_catalog_product_downloadable>
</layout> 
```

剩下的很简单——你输入的所有内容都`zerkella_customtab/catalog/product/edit/tab/custom.phtml`将呈现在选项卡中。

您可以[下载此方法的简单模块示例：“custom_tab.zip”](https://dl.dropbox.com/u/17950262/so/magento/product_tab/custom_tab.zip)

* * *

此外，我不建议使用类重写来实现任务。上述方法涵盖了开发人员的所有需求。使用重写是没有意义的。虽然重写是一个强大的功能，它允许在 Magento 中做任何事情，但它有两个限制：

*   一个类只能被一个模块重写
*   如果您的系统中有重写的类，则需要做更多的工作才能将 Magento 升级到更新的版本

建议的方法遵循在 Magento 中自定义产品选项卡的自然方式，因此最好选择其中一个。

祝你的商店好运:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-31T08:10:37.773

你应该使用一个参数`apply_to`

```
$productTypes = array(
    Mage_Catalog_Model_Product_Type::TYPE_SIMPLE,
    Mage_Catalog_Model_Product_Type::TYPE_BUNDLE,
    Mage_Catalog_Model_Product_Type::TYPE_CONFIGURABLE,
    Mage_Catalog_Model_Product_Type::TYPE_VIRTUAL
);

$productTypes = join(',', $productTypes);
$globalScope = Mage_Catalog_Model_Resource_Eav_Attribute::SCOPE_GLOBAL;
$installer->addAttribute(
Mage_Catalog_Model_Product::ENTITY, 'artist_id',
array(
     'global'                  => $globalScope,
     'visible'                 => false,
     'required'                => false,
     'user_defined'            => true,
     'default'                 => '',
     'apply_to'                => $productTypes, // <-- apply_to
     'visible_on_front'        => false,
     'used_in_product_listing' => false,
     'type'                    => 'int', //backend_type

)
); 
```

..并将属性添加到属性集中

```
$setup->addAttributeToSet(
    'product_catalog',
    %ATTRIBUTE_SET%,
    %ATTRIBUTE_GROUP%,
    'testing_attribute'
); 
```

要获取产品的默认属性集，请使用以下代码：

```
$productDefaultAttributeSet = $installer->getDefaultAttributeSetId(Mage_Catalog_Model_Product::ENTITY); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-03T09:41:26.290

我认为要获得您想要的行为，您需要重写 Mage_Adminhtml_Block_Catalog_Product_Edit_Tabs 类

在那里，_prepareLayout() 方法创建了所有选项卡，即：

```
 foreach ($groupCollection as $group) {
    ...
    $this->addTab('group_'.$group->getId(), array(
        'label' => Mage::helper('catalog')->__($group->getAttributeGroupName()),
        'content'   => $this->_translateHtml(
                          $this->getLayout()
                               ->createBlock($this->getAttributeTabBlock(),
                                   'adminhtml.catalog.product.edit.tab.attributes')
                               ->setGroup($group)
                               ->setGroupAttributes($attributes)
                               ->toHtml()),
            ));
    } 
```

在该方法中，您可以使用变量 $product 来检查产品类型。因此，请检查您的属性的特定组名称和您的产品类型，如果它与您想要的方式匹配，则仅添加相应的选项卡。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T20:00:27.243

**后端新组**

这是在后端创建新的“组”选项卡的代码：

```
$installer = $this;
$productAttributesSetup = new Mage_Eav_Model_Entity_Setup('core_setup');
$installer->startSetup();

// this is the line you need 
$productAttributesSetup->addAttributeGroup('catalog_product', 'Attribute Set', 'Name of Group');
$installer->endSetup(); 
```

**仅限特殊产品**

要让它仅出现在某些产品上，请按照以下步骤操作：

1.  创建一个新的属性集（基于您已经使用的属性集）
2.  将自定义选项卡/组添加到此新属性集
3.  所有特殊产品（您希望包含此选项卡）都应使用此新属性集

**让定制产品在购物车中工作**

Inchoo 创建了一个“自定义产品”模块，我建议您将您的代码与他们的代码进行比较。

这是他们模块（和文章）的链接：

[http://incho.net/ecommerce/magento/how-to-create-a-new-product-type-in​​-magento/](http://inchoo.net/ecommerce/magento/how-to-create-a-new-product-type-in-magento/)

# android - 如何从代码中执行 onTouch 事件？

> ID：14098963
> 
> 赞同：4
> 
> 时间：2012-12-31T07:48:29.540
> 
> 标签：android, events, touch-event

使用`myObject.performClick()`我可以从代码中模拟点击事件。

是否存在这样的`onTouch`事件？我可以从 Java 代码中模仿触摸动作吗？

**编辑**

这是我的`onTouch`听众。

```
 myObject.setOnTouchListener(new View.OnTouchListener() {
        @Override
        public boolean onTouch(View view, MotionEvent motionEvent) {
            // do something
            return false;
        }
    }); 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-12-31T08:05:07.753

这应该可以工作，在这里找到：[如何在 Android 中模拟触摸事件？](https://stackoverflow.com/questions/4396059/how-to-simulate-a-touch-event-in-android/7001356)：

```
// Obtain MotionEvent object
long downTime = SystemClock.uptimeMillis();
long eventTime = SystemClock.uptimeMillis() + 100;
float x = 0.0f;
float y = 0.0f;
// List of meta states found here: developer.android.com/reference/android/view/KeyEvent.html#getMetaState()
int metaState = 0;
MotionEvent motionEvent = MotionEvent.obtain(
    downTime, 
    eventTime, 
    MotionEvent.ACTION_UP, 
    x, 
    y, 
    metaState
);

// Dispatch touch event to view
view.dispatchTouchEvent(motionEvent); 
```

有关获取 MotionEvent 对象的更多信息，这是一个很好的答案：[Android：如何创建 MotionEvent？](https://stackoverflow.com/questions/5867059/android-how-to-create-a-motionevent)

编辑：并获取视图的位置，对于`x`和`y`坐标，使用：

```
int[] coords = new int[2];
myView.getLocationOnScreen(coords);
int x = coords[0];
int y = coords[1]; 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2018-03-16T11:11:31.587

一种执行点击动作事件的简单方法

```
View view;
view.setPressed(true);
view.setPressed(false); 
```

# image - 使用 Imagemagick，如何裁剪出白色背景？

> ID：14098965
> 
> 赞同：4
> 
> 时间：2012-12-31T07:48:37.223
> 
> 标签：image, image-processing, imagemagick, image-manipulation

假设我有一个充满标志的目录（大约 200 个）。每个标志都有这个边框......上下12px，左右1px......像这样：

![在此处输入图像描述](../Images/0c184624b21012f0d7ab5a30dc62516e.png)

我如何使用 imagemagick 来喜欢...从 64x64 到 60x40 裁剪每一个 .PNG 图像

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-31T08:03:52.517

你有自动裁剪：`mogrify -trim flag.png`. 如果它没有达到您想要的效果，请使用裁剪：（`mogrify -crop 60x40+2+12 flag.png`即剩下*2 个*像素）。

# c# - 我的横幅出现在 Visual Studio 中，但在我上传 site.master 时没有出现。为什么是这样？

> ID：14098969
> 
> 赞同：0
> 
> 时间：2012-12-31T07:48:56.453
> 
> 标签：c#, asp.net, master-pages, blogengine.net

我的根目录中有一个 site.master，我的 /blog/ 目录中有一个 site.master。

我想修改 /blog/ 目录中的 site.master 以使我的网站看起来尽可能统一。因此，我首先将横幅放入编码中，这在 Visual Studio 中看起来很棒。

但是当我上传编辑后的 ​​site.master 时，虽然网站图标出现了，但横幅完全消失了——就像它不存在一样。

我在 /blog/site.master 中的编码是这样的：

```
<link rel="shortcut icon" href="~/favicon.ico" />
<link rel="icon" type="image/gif" href="~/img/RTN_favicon.GIF" />
<link rel="stylesheet" href="style-min.css" type="text/css" />
</head>
<body>
<form runat="Server" class="body">
<div id="header">
    <asp:Image ID="HyperLink1" runat="server" ImageUrl="~/img/RTN_banner.jpg" 
    Style="height: 250px; width: 960px;" NavigateUrl="~/" />
    &nbsp;<p>
        <a href="<%=Utils.AbsoluteWebRoot %>">
            <%=BlogSettings.Instance.Name %>
        </a>
    </p>
    <span>
        <%=BlogSettings.Instance.Description %></span>
</div> 
```

在 VS 中，RTN_banner 出现了，但是当我上传这个时，就好像没有横幅——甚至没有 960 x 250 的空白空间！但是我的**图标**出现了。有人知道为什么我不能让 RTN_banner 出现吗？感谢您的任何指导！

**编辑：** 这是我的 /blog/site.master 横幅的属性图片。奇怪的是，“已**启用**”没有任何行为，就像我所有其他图片一样。在我的根 site.master 中，有一个行为设置为“ **true** ”……我不知道这是否是问题所在。

![横幅属性](../Images/aeeb9fd55eb0032dcf19e0b2a8ea6a9b.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T08:40:12.877

图像文件应该是项目的一部分，并且有一个选项告诉 Visual Studio 将文件包含在输出包中。

图像文件位于`~/img/RTN_banner.jpg`根据您的代码。如果查看此文件的属性，可以将*Build Action*设置为*Content*。这样，图像文件将被复制到您的服务器并在线显示。

您可以在此处找到此属性的 MSDN 文档：[文件属性](http://msdn.microsoft.com/en-us/library/0c6xyb66%28v=vs.110%29.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T08:45:05.393

这可能是VS中的一个错误，但我注意到这段代码：

```
 <asp:Image ID="HyperLink1" runat="server" ImageUrl="~/img/RTN_banner.jpg" 
Style="height: 250px; width: 960px;" NavigateUrl="~/" /> 
```

这是我插入图像时工具箱插入代码的内容。/blog/img/RTN_anner.jpg 不存在；它没有出现在我的根目录/img/RTN_banner.jpg 中。

我刚刚通过输入图像的绝对路径解决了这个问题，现在一切正常。

```
 <asp:Image ID="HyperLink1" runat="server" 
     ImageUrl="http://domain.org/img/RTN_banner.jpg" Style="height: 250px; 
     width: 960px;" NavigateUrl="~/" /> 
```

# c# - RhinoMocks 在方法未被调用时返回值

> ID：14098970
> 
> 赞同：2
> 
> 时间：2012-12-31T07:49:00.960
> 
> 标签：c#, rhino-mocks

我想做以下...

在调用方法之前，某个属性必须始终返回值 x 在调用方法之后，某个属性必须始终返回值 y

我熟悉 RhinoMocks 中的 WhenCalled 方法，它允许我在方法被调用后设置返回值，但我想不出在调用之前设置返回值的方法。到目前为止，我有以下代码......

```
counter.Expect(n => n.IncreaseCounter())
   .WhenCalled(i => counter.Expect(n => n.GetCounter)
   .Return(Y).Repeat.Any()); 
```

这可能吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T13:49:32.487

有两种解决方案可以解决问题：

1.  使用`WhenCalled()`：

    ```
    var counter = MockRepository.GenerateStub<ICounter>();

    int cnt = 1;

    counter
        .Stub(c => c.GetCounter)
        .Return(0)
        .WhenCalled(invocation => { invocation.ReturnValue = cnt; });

    counter
        .Stub(c => c.IncreaseCounter())
        .WhenCalled(invocation => { ++cnt; }); 
    ```

2.  使用使用`Do()`处理程序

    ```
    var counter = MockRepository.GenerateStub<ICounter>();

    int cnt = 1;

    counter
        .Stub(c => c.GetCounter)
        .Do((Func<int>)(() => cnt));

    counter
        .Stub(c => c.IncreaseCounter())
        .Do((Action)(() => ++cnt)); 
    ```

这两种情况的想法都是一样的：最初`GetCounter`返回`1`. 每次`IncreaseConter()`调用都会增加返回的值`GetCounter`。

PS
如果你不打算做断言，`counter`那么它可能适合用`Stub()`而不是用`Expect()`. 有关详细信息，请参见例如[此问题](https://stackoverflow.com/questions/463707/what-are-the-differences-between-mocks-and-stubs-on-rhino-mocks)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-31T14:20:10.347

只需在模拟方法的回调中为属性设置新的返回值：

```
Mock<IFoo> fooMock = new Mock<IFoo>();
fooMock.Setup(foo => foo.Property).Returns(1);
fooMock.Setup(foo => foo.Method())
       .Callback(() => fooMock.Setup(x => x.Property).Returns(42)); 
```

模拟属性将返回`1`，直到调用模拟方法。然后它的返回值将被设置为`42`. 所有对模拟属性的进一步调用都将返回`42`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-14T14:29:42.240

基于亚历山大的解决方案......以下是我正在寻找的......

```
var counter = MockRepository.GenerateStub<ICounter>();

int x = 1;
int y = 2;
int cnt = x;

counter
    .Stub(c => c.GetCounter)
    .Return(0)
    .WhenCalled(invocation =>
    {
        invocation.ReturnValue = cnt;
        cnt = y;
    }); 
```

# javascript - 为什么这指的是窗口对象？

> ID：14098977
> 
> 赞同：0
> 
> 时间：2012-12-31T07:50:20.550
> 
> 标签：javascript

```
 var x = 5,
    o = {
        x: 10,
        doIt: function doIt(){
            var x = 20;
            setTimeout(function(){
                alert(this.x);
            }, 10);
        }
    };
o.doIt(); 
```

为什么要提到这个`window object rather than o`。我在`object o`上下文中，所以它应该打印我 10 对吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-31T07:52:38.717

匿名函数在 10ms 后执行，此时执行上下文不在`o`。

查看[JavaScript 闭包如何工作的答案？](https://stackoverflow.com/questions/111102/how-do-javascript-closures-work)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T07:54:41.080

要使此警报 20，请更改`this.x`为 simple `x`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T08:02:46.003

```
var x = 5,
    o = {
        x: 10,
        doIt: function doIt(){
            var x = 20;
            setTimeout(function(){
                alert(this.x);
            }, 10);
        }
    };
o.doIt(); 
```

传入的所有函数`setTimeout()`都在`global scope`. 该值为 5，因为 this.x 与 window.x 相同

# ruby-on-rails - Rails Edge/4 'require' 出错：无法加载此类文件 -- thread_safe

> ID：14098983
> 
> 赞同：3
> 
> 时间：2012-12-31T07:50:58.903
> 
> 标签：ruby-on-rails, ruby, rbenv

按照此处的说明让应用程序在 Rails Edge 上运行以测试 Rails 4： [使用 Edge 生成 Rails 应用程序的最佳方法是什么？](https://stackoverflow.com/questions/346720/what-is-the-best-way-to-generate-a-rails-app-using-edge) 以及 [如何创建 Edge rails 应用程序？](https://stackoverflow.com/questions/3821077/how-to-create-edge-rails-application)

但是遇到这个错误：

```
`require': cannot load such file -- thread_safe (LoadError) 
```

使用命令：

```
rails new Edge --edge --skip-bundle --database=postgresql --skip-test-unit --skip-index-html 
```

Rails master bin dir 的结帐正在我的路上。

我将 rbenv 与 ruby​​ 1.9.3p327 一起使用。

我已经清除了所有已安装的 gem，只是运行 bundler。

Rails 3.2.9 在我的系统上运行良好，有一个正在积极开发的应用程序。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-31T11:01:40.600

问题是没有安装 rails gems（通过 ruby​​gems 安装时，依赖关系会自动解决。

见[https://github.com/rails/rails/pull/8589](https://github.com/rails/rails/pull/8589)

需要进入克隆的 rails 目录并运行“bundle install”，这将拉入必要的 gem。

# asp.net - WCF 错误：此服务的元数据发布当前已禁用

> ID：14098992
> 
> 赞同：0
> 
> 时间：2012-12-31T07:52:23.313
> 
> 标签：asp.net, .net, wcf, c#-4.0, web-config

我想发布一个带有 basicHttpBinding 配置的 Web 服务。我正在使用 basicHttpBinding 配置来增加 65536 字节的默认消息大小。我遇到的问题是，当我使用如下所示的 web.config 设置时，出现错误：

> 此服务的元数据发布当前已禁用。

我的主要目标是能够增加默认消息大小并能够将二进制文件保存在数据库中，因此欢迎任何其他配置，但是我试图使其尽可能简单以避免进一步的问题。

你能发现我的配置有什么问题吗？Service.config 代码如下..

```
<system.serviceModel>
    <bindings>
      <basicHttpBinding>
        <binding name="basicHttpEndpointBinding" closeTimeout="01:01:00"
          openTimeout="01:01:00" receiveTimeout="01:10:00" sendTimeout="01:01:00"
          allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard"
          maxBufferSize="2147483646" maxBufferPoolSize="2147483646" maxReceivedMessageSize="2147483646"
          messageEncoding="Mtom" textEncoding="utf-8" transferMode="StreamedRequest"
          useDefaultWebProxy="true">
          <readerQuotas maxDepth="2147483646" maxStringContentLength="2147483646" maxArrayLength="2147483646"
            maxBytesPerRead="2147483646" maxNameTableCharCount="2147483646" />
          <security mode="None">
            <transport clientCredentialType="None" proxyCredentialType="None"
              realm="" />
            <message clientCredentialType="UserName" algorithmSuite="Default" />
          </security>
        </binding>
      </basicHttpBinding>
    </bindings>
     <services>
        <service name="WITSService.WITSService"  behaviorConfiguration="DragDrop.Service.ServiceBehavior" >
            <endpoint address="" binding="basicHttpBinding" bindingConfiguration="basicHttpEndpointBinding" contract="DragDrop.Service.IService">
                <identity>
                    <dns value="localhost"/>
                </identity>
            </endpoint>
            <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange"/>
        </service>
    </services>
    <!--<services>
      <service name="WITSService.WITSService">
        <endpoint address="" binding="basicHttpBinding" contract="WITSService.WITSService">
          <identity>
            <dns value="localhost" />
          </identity>
        </endpoint>
        <endpoint address="mex" binding="basicHttpBinding" contract="IMetadataExchange" />
      </service>
    </services>-->

    <behaviors>
      <serviceBehaviors>
        <behavior name="DragDrop.Service.ServiceBehavior">
          <serviceMetadata httpGetEnabled="true"/>
          <serviceDebug includeExceptionDetailInFaults="false"/>
          <dataContractSerializer maxItemsInObjectGraph="2147483646"/>
        </behavior>
      </serviceBehaviors>
    </behaviors>

    <serviceHostingEnvironment multipleSiteBindingsEnabled="true" />
  </system.serviceModel>
  <system.webServer>
    <security>
      <requestFiltering>
        <requestLimits maxAllowedContentLength="500000000" />
      </requestFiltering>
    </security>
    <modules runAllManagedModulesForAllRequests="true" />
  </system.webServer> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T08:16:02.207

将此配置放在您的 web.config 中。

```
<?xml version="1.0"?>
<configuration>
  <system.web>
    <httpRuntime executionTimeout="4800" maxRequestLength="2097150"/>
    <compilation debug="true"/>
  </system.web>
  <system.serviceModel>
    <bindings>
      <basicHttpBinding/>
      <customBinding>
        <binding name="LargeSilverlight" closeTimeout="00:21:00" openTimeout="00:20:00" receiveTimeout="00:20:00" sendTimeout="00:50:00">
          <textMessageEncoding maxReadPoolSize="2147483647" maxWritePoolSize="2147483647">
            <readerQuotas maxDepth="2147483647" maxStringContentLength="2147483647" maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647"/>
          </textMessageEncoding>
          <httpTransport maxBufferPoolSize="2147483647" maxReceivedMessageSize="2147483647" maxBufferSize="2147483647"/>
        </binding>
      </customBinding>
    </bindings>
    <client/>
    <!--SERVICE-->
    <services>
      <service name="WITSService.WITSService" behaviorConfiguration="SilverlightWCFLargeDataApplication">
        <endpoint address="" binding="customBinding" bindingConfiguration="LargeSilverlight" behaviorConfiguration="SilverlightWCFLargeDataApplication" contract="DragDrop.Service.IService"/>
      </service>
    </services>
    <!--BEHAVIOR-->
    <behaviors>
      <serviceBehaviors>
        <behavior name="SilverlightWCFLargeDataApplication">
          <serviceMetadata httpGetEnabled="true"/>
          <serviceDebug includeExceptionDetailInFaults="false"/>
          <dataContractSerializer maxItemsInObjectGraph="2147483647"/>
        </behavior>
      </serviceBehaviors>
      <endpointBehaviors>
        <behavior name="SilverlightWCFLargeDataApplication">
          <dataContractSerializer maxItemsInObjectGraph="2147483647"/>
        </behavior>
      </endpointBehaviors>
    </behaviors>
  </system.serviceModel>
  <system.webServer>
    <security>
      <requestFiltering>
        <requestLimits maxAllowedContentLength="500000000"/>
      </requestFiltering>
    </security>
    <modules runAllManagedModulesForAllRequests="true"/>
  </system.webServer>
</configuration> 
```

# android - 如何使用 Universal image Loader 在本地加载资源

> ID：14098993
> 
> 赞同：14
> 
> 时间：2012-12-31T07:52:24.897
> 
> 标签：android, universal-image-loader

我想知道如何使用[nostra13 / Android-Universal-Image-Loader](https://github.com/nostra13/Android-Universal-Image-Loader)在本地显示图像，即来自可绘制文件夹以及内存缓存。我想将它与 ViewPager 一起使用。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-01-01T10:05:00.400

要从资产和可绘制对象中加载图像，您应该`ExtendedImageDownloader`从示例项目中获取（此类还不是库的一部分）并将其设置为配置。

**UPD：自****UIL v1.8.0**以来，加载本地资源（来自可绘制、资产、内容提供者）开箱即用。

见[`README`](https://github.com/nostra13/Android-Universal-Image-Loader/blob/master/README.md)：

```
String imageUri = "assets://image.png"; // from assets
String imageUri = "drawable://" + R.drawable.image; // from drawables (only images, non-9patch) 
```

注意：`drawable://`仅在您确实需要时使用！始终考虑加载可绘制对象的本机方式——`ImageView.setImageResource(...)`而不是使用`ImageLoader`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-06-09T06:29:09.813

***每当从资源（@runtime）动态***加载多个图像而不是更喜欢这些图像时：

```
String imgUri = "drawable://" + getResources().getIdentifier(imgName, "drawable", getActivity().getPackageName()); 
```

这里，**imgName** = 资源中图像的名称

# php - 在 Windows SDK 上进行高效的 PHP 调试需要哪些库？

> ID：14098995
> 
> 赞同：0
> 
> 时间：2012-12-31T07:52:30.483
> 
> 标签：php, windows, debugging, sdk, libraries

我刚刚安装了用于 php 调试的 Windows SDK。但是现在我对为其设置哪些库感到有些困惑。我去了[https://wiki.php.net/internals/windows/libs](https://wiki.php.net/internals/windows/libs)但有很多，这个问题对我来说不清楚......我只想做一个普通的调试，比如看看哪些方法是在脚本执行时调用等。有人可以给我一个建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T08:14:30.770

您链接的页面讨论了*从头开始编译 PHP*所需的库。它不讨论您感兴趣的事情，即：

> 我只想做一个普通的调试，比如观察脚本执行时调用了哪些方法等

为此，您只需要[xdebug](http://xdebug.org/download.php)，它甚至为您提供预编译的二进制文件。您还需要一个[支持 DBGp](http://xdebug.org/docs-dbgp.php)的 IDE，这是一种由许多调试包和 IDE 使用的调试协议。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T08:29:01.477

我发现 xDebug 最适合我。它有助于跟踪您的代码等等。我使用[PhpStorm](http://www.jetbrains.com/phpstorm/)作为我的 IDE。只需在您的 PhpStorm 中[配置](http://www.jetbrains.com/phpstorm/webhelp/configuring-xdebug.html)xDebug。

# android - 安卓中的模拟跟踪

> ID：14098996
> 
> 赞同：1
> 
> 时间：2012-12-31T07:52:32.590
> 
> 标签：android

我正在做一个关于 sim 跟踪的应用程序，但无法获得结果

这是主要活动

```
public class MainActivity extends Activity {

String FILENAME = "old_file.txt";
int simstatus;
String simNo;
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

     TelephonyManager tManager = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);

        if (simstatus != TelephonyManager.SIM_STATE_ABSENT) {
            System.out.println("--------SIM Present:" + simstatus);
            simNo = tManager.getSimSerialNumber();
            FileOutputStream fos;
            try {
                fos = openFileOutput(FILENAME, Context.MODE_PRIVATE);
                fos.write(simNo.getBytes());
                System.out.println("---------Data written to files is:"
                        + simNo);
                fos.close();
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    }
} 
```

接收者

```
public class SimDataReciever extends BroadcastReceiver {
    @Override
    public void onReceive(Context context, Intent intent) {
        if ("android.intent.action.BOOT_COMPLETED".equals(intent.getAction()))  {   
            System.out.println("Reciever Started");
            Intent CompareSimServiceIntent = new Intent(context,demo.class); 
            context.startService(CompareSimServiceIntent);  
        }
    }
} 
```

和服务..

```
String FILENAME = "old_file.txt";

    @Override
    public IBinder onBind(Intent intent) {
        // TODO Auto-generated method stub
        return null;
    }

    public int onStartCommand(Intent intent, int flags, final int startId) {

         Timer timer = new Timer();
            timer.schedule(new TimerTask() {
                @Override
                public void run() {
                    //run your service

//                   Toast.makeText(this, "Service Started", Toast.LENGTH_LONG).show();
                    TelephonyManager tManager = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);
                    try {
                        FileInputStream fis = openFileInput(FILENAME);
                        InputStreamReader in = new InputStreamReader(fis);
                        BufferedReader br = new BufferedReader(in);
                        String data = br.readLine();
                        System.out.println("---Data Read From File is:" + data);
                        String newsiminfo = tManager.getSimSerialNumber();
                        System.out.println("---New SIM no is:" + newsiminfo);
                        if (data.equals(tManager.getSimSerialNumber())) {
                            System.out.println("------Old sim Present:");
//                          Toast.makeText(this, "Old SIM", Toast.LENGTH_LONG).show();

                        } else {
//                          Toast.makeText(this, "New SIM", Toast.LENGTH_LONG).show();
                            SmsManager smsMngr = SmsManager.getDefault();
                            String destinationaddress = "8281306132";
                            String scAddress = null;
                            String text = "New Sim Is Inserted In Your Device";
                            PendingIntent sentIntent = null;
                            PendingIntent deliveryIntent = null;
                            smsMngr.sendTextMessage(destinationaddress, scAddress, text,
                                    sentIntent, deliveryIntent);
                            System.out.println("-----SMS Send");
                        }

                    } catch (Exception e) {

                    }
                }
            }, 1*60*1000);

        return startId;
    }

} 
```

请帮助我找到解决方案....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T08:26:45.403

在从事同类项目时，我发现了类似的问题。

设备重启后我也无法跟踪 sim。我在这里发现的问题是我在设备重启后立即调用了 sim 跟踪。但是系统加载资源需要 15 到 20 秒。设备重新启动后，SIM 卡没有立即启动，因此我的接收器无法跟踪 sim 卡。

因此，我在设备重启后将 sim 跟踪延迟了 20 秒。尝试延迟 sim 跟踪并检查它是否有效。

**编辑-** 您的接收器应该是这样的，

```
public class SimDataReciever extends BroadcastReceiver {
    @Override
    public void onReceive(Context context, Intent intent) {
            System.out.println("Reciever Started");
            Log.d("BOOT COMPLETE","Receiver Called");
            Intent CompareSimServiceIntent = new Intent(context,demo.class); 
            context.startService(CompareSimServiceIntent);  
    }
} 
```

并在清单文件中，用此替换您的代码，

```
 <receiver android:name=".SimDataReciever" 
         android:enabled="true" 
         android:exported="false">
        <intent-filter>
            <action android:name="android.intent.action.BOOT_COMPLETED"/>
        </intent-filter>
    </receiver> 
```

现在，检查消息是否显示在 logcat 中。