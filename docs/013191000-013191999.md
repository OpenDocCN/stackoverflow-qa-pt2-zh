# StackOverflow 问答 13191000-13191999

# iphone - 如何从 ios 中的 iphone 应用程序将 Sqlite 数据库文件上传到服务器

> ID：13191005
> 
> 赞同：3
> 
> 时间：2012-11-02T07:21:40.993
> 
> 标签：iphone, sqlite

在我的 iphone 应用程序中，我使用 sqlite3 来创建数据库。现在我想在我的服务器上备份一个数据库文件。

那么如何将我的sqlite db文件从我在iphone中的应用程序上传到服务器？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-02T08:54:36.903

我会将 sql 数据库读入 JSON 对象，然后通过 URL 将其上传到服务器，该 URL 沿[此堆栈溢出答案](https://stackoverflow.com/questions/9941598/how-to-get-json-code-into-mysql-database)的行调用 PHP 脚本！

下面是一些包装成 JSON 的 mySQL 数据的示例：

```
{database:{"col1":"56","col2":"85","col3":"some_text"},
{"col1":"57","col2":"86","col3":"next row"} } 
```

有关 Apple 开发文档中 JSON 有效负载的更多信息，请点击此处[JSON](http://developer.apple.com/library/mac/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ApplePushService/ApplePushService.html)

从 iOS5.x 开始，Apple 现在包含一些 JSON 辅助类，请参阅[NSJSONSerialization 类参考](https://developer.apple.com/library/ios/#documentation/Foundation/Reference/NSJSONSerialization_Class/Reference/Reference.html)以及 Twitter 示例应用程序。

我过去曾将这个 SBJson 框架用于 iOS [SBJson](http://stig.github.com/json-framework/)

# android - 在设备上查找正确的 android 版本

> ID：13191007
> 
> 赞同：0
> 
> 时间：2012-11-02T07:21:45.187
> 
> 标签：android

```
 if (Build.VERSION.SDK_INT > Build.VERSION_CODES.GINGERBREAD) {
        //--incompatible code--
    } else {
        //--compatible code--
    } 
```

该条件在 Gingerbread 上遇到不兼容的代码。是否`Build.VERSION.SDK_INT`代表实际设备版本？还是编译应用程序的 SDK 版本？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T07:32:41.953

这是一个静态成员，在应用程序第一次执行时被赋值。

```
public static final int SDK_INT = SystemProperties.getInt("ro.build.version.sdk", 0); 
```

SystemProperties.getInt() 成员函数在您的目标设备上运行，并且在您编译应用程序时未确定。

根据官方指南，您应该在检测api版本时使用 >= 而不是 >，即

```
if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) { 
```

因为主要版本之间可能存在次要版本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T07:32:40.830

问题是GB有2个代码：

`Build.VERSION_CODES.GINGERBREAD`-> API 9

和

`Build.VERSION_CODES.GINGERBREAD_MR1`-> API 10

作为`minSdkVersion`manifest = 10 中的 API，那么我应该使用`Build.VERSION_CODES.GINGERBREAD_MR1`.

# c# - 在c#中使用split获取字符串

> ID：13191009
> 
> 赞同：0
> 
> 时间：2012-11-02T07:22:02.067
> 
> 标签：c#, string

`Metal_In`给出我必须提取`Metal`部分的字符串

我现在正在执行以下操作：

```
DropDownList ddl = ctrl as DropDownList;
if(ddl != null)
{
    ddl.ID = ddl.ID.Split('_')[1].ToString();   
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T07:23:56.087

而不是索引`1`使用索引`0` *（它可以以更好的方式完成）*。最后你也不需要`ToString`，因为它已经是一个字符串。

```
dl.ID = ddl.ID.Split('_')[0].ToString(); 
```

您可以在使用 index 和 .ToString 之前检查数组长度

```
string[] tempArray = ddl.ID.Split('_');
if(tempArray.Length > 0)
    ddl.ID = tempArray[0]; 
```

`ddl.ID.Split('_')[1]`会给你字符串的第二部分，即`In`. 记住数组索引以`0`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T07:26:42.977

使用字符串 Metal_In，调用`Split`（下面的分解示例）。

```
string[] elems = ddl.ID.Split('_');

// elems contains two elements
// 0 - Metal
// 1 - in 
```

要获取 Metal 的值，使用下标 0 来获取第一个元素。

```
string firstPart = elems[0]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T07:31:01.633

由于可以假设Metal word存在于原始字符串中，

```
var item = ddl.Id.Split('_)[0] 
```

否则，请选择 Habib 的答案。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-02T07:48:31.947

您可以使用`FirstOrDefault`，它将处理数组问题。

```
ddl.ID = ddl.ID.Split('_').FirstOrDefault(); 
```

如果数组为空，它将返回 null。

# algorithm - 在 1-NN 图中找到连通分量的快速方法？

> ID：13191010
> 
> 赞同：6
> 
> 时间：2012-11-02T07:22:10.150
> 
> 标签：algorithm, graph-theory, directed-graph

首先，我得到了一个 N*N 距离矩阵，对于每个点，我计算了它的最近邻，所以我们有一个 N*2 矩阵，看起来像*这样*：

> ```
> 0 -> 1  
> 1 -> 2  
> 2 -> 3  
> 3 -> 2  
> 4 -> 2  
> 5 -> 6  
> 6 -> 7  
> 7 -> 6  
> 8 -> 6  
> 9 -> 8 
> ```

第二列是最近邻居的索引。所以这是一种特殊的有向图，每个顶点只有一个出度。

当然，我们可以先将 N*2 矩阵转换为标准的图表示，然后执行 BFS/DFS 得到连通分量。

但是，鉴于这个特殊图表的特点，还有其他快速的方法来完成这项工作吗？

我将不胜感激。

**更新：**

我在[这里为这种](https://gist.github.com/4002163)*情况* 实现了一个简单的算法。

看，我没有使用联合查找算法，因为数据结构可能会让事情变得不那么容易，而且我怀疑这是否是我案例中最快的方法（我的意思是实际上）。

您可能会争辩说 _merge 过程可能很耗时，但如果我们在分配新标签的同时将边缘交换到连续位置，合并可能会花费很少，但它需要另外 N 个空间来跟踪原始索引。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-02T07:57:33.653

给定边列表查找连通分量的最快算法是[union-find](http://en.wikipedia.org/wiki/Disjoint-set_data_structure)算法：对于每个节点，如果您找到长度为至少2，向上重新连接底部节点。

这肯定会在线性时间内运行：

```
- push all edges into a union-find structure: O(n)
- store each node in its set (the union-find root)
    and update the set of non-empty sets: O(n)
- return the set of non-empty sets (graph components). 
```

由于边列表几乎已经形成了一个联合查找树，因此可以跳过第一步：

```
for each node
- if the node is not marked as collected
-- walk along the edges until you find an order-1 or order-2 loop, 
   collecting nodes en-route
-- reconnect all nodes to the end of the path and consider it a root for the set.
-- store all nodes in the set for the root.
-- update the set of non-empty sets.
-- mark all nodes as collected.
return the set of non-empty sets 
```

第二种算法也是线性的，但只有一个基准才能判断它是否真的更快。union-find 算法的优势在于它的优化。这将优化延迟到第二步，但完全删除了第一步。

如果你加入最近邻计算的联合步骤，你可能会挤出更多的性能，然后在第二遍收集集合。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T17:48:33.390

由于每个节点只有一个出边，您可以一次只遍历一个边，直到到达您已经访问过的顶点。出度为 1 意味着此时任何进一步的遍历只会将您带到您已经去过的地方。该路径中遍历的顶点都在同一个组件中。

在您的示例中：

```
0->1->2->3->2, so [0,1,2,3] is a component
4->2, so update the component to [0,1,2,3,4]
5->6->7->6, so [5,6,7] is a component
8->6, so update the compoent to [5,6,7,8]
9->8, so update the compoent to [5,6,7,8,9] 
```

您可以只访问每个节点一次，因此时间为 O(n)。空间是 O(n)，因为您只需要每个节点的组件 ID 和组件 ID 列表。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-05-04T18:01:57.360

如果你想按顺序进行，你可以使用加权快速联合和路径压缩来完成。复杂度 O(N+Mlog(log(N)))。检查这个链接。这是伪代码 .honoring @pycho 的话

`

```
 public class QuickUnion
    {
    private int[] id;

    public QuickUnion(int N)
    {
         id = new int[N];
         for (int i = 0; i < N; i++) id[i] = i;
    }

    public int root(int i)
    {
         while (i != id[i])
         {
             id[i] = id[id[i]];
             i = id[i];
         }
         return i;
    }

    public boolean find(int p, int q)
    {
        return root(p) == root(q);
    }

    public void unite(int p, int q)
    {
        int i = root(p);
        int j = root(q);
        id[i] = j;
    }

    } 
```

` @reference [https://www.cs.princeton.edu/~rs/AlgsDS07/01UnionFind.pdf](https://www.cs.princeton.edu/~rs/AlgsDS07/01UnionFind.pdf)

如果要并行查找连接的组件，可以使用指针跳转和带路径压缩的加权快速联合将渐近复杂度降低到 O(log(log(N)) 时间。检查此链接

[https://vishwasshanbhog.wordpress.com/2016/05/04/efficient-parallel-algorithm-to-find-the-connected-components-of-the-graphs/](https://vishwasshanbhog.wordpress.com/2016/05/04/efficient-parallel-algorithm-to-find-the-connected-components-of-the-graphs/)

# java - 找不到 JNI_OnLoad 跳过 init()：没有这样的文件或目录

> ID：13191014
> 
> 赞同：2
> 
> 时间：2012-11-02T07:22:20.257
> 
> 标签：java, java-native-interface

我正在使用 java 进行 ndk，但在 logcat 中出现这些错误。

```
11-02 12:36:43.582: E/Trace(717): error opening trace file: No such file or    
    directory (2)
11-02 12:36:43.902: D/dalvikvm(717): Trying to load lib   
    /data/data/com.example.hellojni/lib/libhello-jni.so 0x411e35b8
11-02 12:36:43.918: D/dalvikvm(717): Added shared lib 
    /data/data/com.example.hellojni/lib/libhello-jni.so 0x411e35b8
11-02 12:36:43.918: D/dalvikvm(717): No JNI_OnLoad found in 
    /data/data/com.example.hellojni/lib/libhello-jni.so 0x411e35b8, skipping init
11-02 12:36:43.953: W/dalvikvm(717): Invalid indirect reference 0x2a00b9e0 in 
    decodeIndirectRef
11-02 12:36:43.953: E/dalvikvm(717): VM aborting
11-02 12:36:43.953: A/libc(717): Fatal signal 11 (SIGSEGV) at 0xdeadd00d (code=1),  
    thread 717 (xample.hellojni) 
```

我的 java 和本地代码是这样的。我想在本地空间中执行两个数组元素的添加。

JAVA代码

```
package com.example.hellojni;

import android.app.Activity;
import android.widget.TextView;
import android.os.Bundle;

 public class HelloJni extends Activity{

public native double[] additionfromJNI(double[] array1,double[] array2);

double matrix1[] = new double[4];
double matrix2[] = new double[4];
double matrix3[] = new double[4];
String matrix4 = "";

  /** Called when the activity is first created. */

@Override
  public void onCreate(Bundle savedInstanceState)
  {
    super.onCreate(savedInstanceState);
    TextView  tv = new TextView(this);
    for(int i=0;i<4;i++){

        matrix1[i]=1.0;
        matrix2[i]=2.0;

}
matrix3= additionfromJNI(matrix1,matrix2);

   for(int i=0;i<4;i++){

    matrix4= matrix4+ Double.toString(matrix3[i])+",";

  }

    tv.setText(matrix4);
    setContentView(tv);
  }

  static {
    System.loadLibrary("hello-jni");
  }

 } 
```

本机代码

```
#include <string.h>
#include <jni.h>

jdoubleArray
Java_com_example_hellojni_HelloJni_additionfromJNI
( JNIEnv* env,jobject thiz,  jdoubleArray  mat1 ,jdoubleArray mat2 )
{

jboolean isCopy1;
jboolean isCopy2;
jsize length= 16;

jint i=0;
jdouble *result;

 jdouble* srcArrayElems1 = (*env)->GetDoubleArrayElements(env,mat1, &isCopy1);
        jint n = (*env) -> GetArrayLength(env,mat1);

 jdouble* srcArrayElems2 = (*env)->GetDoubleArrayElements(env,mat2, &isCopy2);

   for(i=0; i<n; i++){

       result[i]=srcArrayElems1[i]+srcArrayElems2[i];

   }

   if (isCopy1 == JNI_TRUE) {

       (*env) -> ReleaseDoubleArrayElements(env,mat1, srcArrayElems1,     
         JNI_ABORT);

   }

   if (isCopy2 == JNI_TRUE) {

       (*env) -> ReleaseDoubleArrayElements(env,mat2, srcArrayElems2,  
            JNI_ABORT);

   }

     return result;

        } 
```

谁能帮我解决这些问题...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T07:33:03.623

你不能返回 jdouble。您必须使用 NewDoubleArray 创建一个 jdoubleArray 对象，然后从您的 jdouble 设置值。

顺便说一句，标题并不能反映您的实际问题。JNI_OnLoad 没有被调用，因为您还没有定义一个，但这不是错误。它被记录为 D，这是一条调试消息。

# javascript - 传递给系统调用的数据区域太小”

> ID：13191015
> 
> 赞同：11
> 
> 时间：2012-11-02T07:22:21.490
> 
> 标签：javascript, email, outlook

Outlook 电子邮件是否有一定的字符串大小。我有以下代码给我一个错误

> 传递给系统调用的数据区域太小

然而，这似乎只发生在我的消息正文大于正常时

```
document.location.href = "mailto:" + emailAddress + "?subject=my msgs Relief&body=" + escape(message); 
```

如果我要删除代码，那么它不会显示此消息。所以它似乎与电子邮件正文中的字符数有关。请建议。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-10-25T14:45:17.430

我最近遇到了这个确切的问题。问题是不同的浏览器（和不同的电子邮件客户端）对使用邮件到链接可以在它们之间传递的数据量有限制。

例如，Internet Explorer 中的最大 URL 长度为 2,083 个字符 ( [MS KB Link](http://support.microsoft.com/kb/208427) )。如果您的链接的总长度（包括主题、地址和正文）超过此值，您将收到此错误。

为了解决这个问题（因为我们必须支持 IE），我在生成链接后使用了这个 kludge：

```
var mailto_link = 'mailto:'+addresses+'?subject='+subject+'&body='+body_message;
win = window.open(mailto_link.substr(0,2000),'emailWindow'); 
```

这并不完美，但在极少数情况下，用户尝试生成大量通知电子邮件时，他们会首先得到礼貌的警告，期间提醒，并在事件发生后得到通知。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-06-21T20:54:53.243

它可能会失败，因为某些电子邮件客户端不接受空格作为 href 的一部分，因此您需要对它们进行 URI 编码（转义），因此它们变为 %20。

**尝试这个：**

`document.location.href = "mailto:" + emailAddress + "?subject=my%20msgs%20Relief&body=" + escape(message);`

# php - php strtotime和日期问题

> ID：13191026
> 
> 赞同：0
> 
> 时间：2012-11-02T07:23:34.513
> 
> 标签：php, date, strtotime

我正在尝试在一个类中使用`strtotime`和`date`函数来将天数添加到由 3 个后变量组成的日期，`$month,$day,$year`但我不知道我做错了什么。日期从函数生成的表单提交并传递给`strtotime`.

```
<?php
//Set vars
$month=$_POST['month'];
$day=$_POST['day'];
$year=$_POST['year'];

//Initalize class
$init=new Some_Class();
$init->setVars($month,$day,$year);

class Some_Class{

    private $someVar;
    private $month;
    private $day;
    private $year;

    public function setVars($var1,$var2,$var3) {
        $this->month=$var1;
        $this->day=$var2;  
        $this->year=$var3;
    }

    function __construct() { 

    }

    function setDate(){
        $start=date("Y")-50;
        $end=date("Y"); 

        $months=array('','January','February','March','April','May',
        'June','July','August', 'September','October','November','December');

        // Month dropdown
        $this->someVar='<select name="month">';

        for($i=1;$i<=12;$i++){
           $this->someVar.="<option value='".str_pad($i, 2, '0', STR_PAD_LEFT)."'>$months[$i]</option>";
        }
        $this->someVar.="</select> ";

        // Day dropdown
        $this->someVar.='<select name="day">';
        for($i=1;$i<=31;$i++){
           $this->someVar.="<option $selected value='".str_pad($i, 2, '0', STR_PAD_LEFT)."'>$i</option>";
        }
        $this->someVar.="</select> ";

        // Year dropdown
        $this->someVar.='<select name="year">';

        for($i=$start;$i<=$end;$i++){      
          $this->someVar.="<option value='$i'>$i</option>";
        }
        $this->someVar.="</select> ";

        return $this->someVar;
    }

    function setDays(){
        $this->someVar['date']=strtotime(implode('-', array($this->year,$this->month,$this->day)));
        $this->someVar['new_date']=strtotime('+42 day',$this->someVar['date']);
        return $this->someVar;  
    }
}

$setDate=$init->setDate();?>
<form action="<?php $_SERVER['REQUEST_URI'];?>" method="post">

  <?php echo $setDate;?>

  <input type="submit" value="submit" name="Submit"/> 
</form>
<?php 
if(isset($month,$day,$year)){
    $setDays=$init->setDays();
    echo date('M d, Y',$setDays['new_date']);
}
?> 
```

如果我打印 post 变量，我可以确认它们正在被发送，但我无法弄清楚为什么我没有从`setDays()`.

有任何想法吗？

**编辑：**

```
function setDays() {
        $this->someVar = array();
        $this->someVar['date']=strtotime(implode('-', array($this->year,$this->month,$this->day)));
        $this->someVar['new_date']=strtotime("+42 day",$this->someVar['date']);
        return $this->someVar;  
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T07:41:08.720

你应该试试这个：

```
$this->someVar['date']=strtotime(implode('-', array($this->year,$this->month,$this->day)));
$this->someVar['new_date']=$this->someVar['date'] + 42 * 24 * 60 * 60; 
```

据我所知，`strtotime()`可用于添加这样的天数：

```
$date = strtotime('Y-m-d', time() . " +42 day"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T07:56:52.973

我重建了您的一些代码，因为它以某种方式给出了错误。很可能您的变量`someVar`，在将其用作数组之前应将其声明为数组。

```
 <?php
 //Set vars
 $month=$_POST['month'];
 $day=$_POST['day'];
 $year=$_POST['year'];

 //Initalize class
 $init=new Some_Class();
 $init->setVars($month,$day,$year);

 class Some_Class{

     private $someVar;
     private $month;
     private $day;
     private $year;

     public function setVars($var1,$var2,$var3) {
         $this->month=$var1;
         $this->day=$var2;  
         $this->year=$var3;
     }

     function __construct() { 

     }

     function setDate(){
         $start=date("Y")-50;
         $end=date("Y"); 

         $months=array('','January','February','March','April','May',
    'June','July','August', 'September','October','November','December');

         // Month dropdown
         $this->someVar='<select name="month">';

         for($i=1;$i<=12;$i++)
         {
            $this->someVar.="<option value='".str_pad($i, 2, '0', STR_PAD_LEFT)."'>$months[$i]</option>";
         }
         $this->someVar.="</select> ";

         // Day dropdown
         $this->someVar.='<select name="day">';
         for($i=1;$i<=31;$i++)
         {
            $this->someVar.="<option value='".str_pad($i, 2, '0', STR_PAD_LEFT)."'>$i</option>";
         }
         $this->someVar.="</select> ";

         // Year dropdown
         $this->someVar.='<select name="year">';

         for($i=$start;$i<=$end;$i++)
         {      
           $this->someVar.="<option value='$i'>$i</option>";
         }
         $this->someVar.="</select> ";

         return $this->someVar;
     }

     function setDays(){
    $array_date = array();
         $array_date['date'] = implode('-', array($this->year,$this->month,$this->day));echo implode('-', array($this->year,$this->month,$this->day)); var_dump($array_date);
         $array_date['new_date'] = strtotime($array_date['date'].' +42 day');
         return $array_date;  
     }
 }

 $setDate=$init->setDate();?>
 <form action="<?php $_SERVER['REQUEST_URI'];?>" method="post">

   <?php echo $setDate;?>

   <input type="submit" value="submit" name="Submit"/> 
 </form>
 <?php 
 if(isset($month,$day,$year)){
     $setDays=$init->setDays();
     echo date('M d, Y',$setDays['new_date']);
 }
 ?> 
```

# java - imageview出现在模拟器中但不在测试手机上

> ID：13191029
> 
> 赞同：3
> 
> 时间：2012-11-02T07:23:48.230
> 
> 标签：java, android, imageview, emulation

我有一个简单的应用程序，它显示一个表格，下面显示一个带有图像的图像视图，该图像根据在表格上单击的行而变化。它在模拟器上工作并显示正常，但是当我将它安装在我的测试手机上时它没有显示。我的代码在这里：

```
package com.coreservlets.widgets;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.widget.ImageView;
import android.widget.TableRow;
import com.welly.keychords.R;

public class keya extends Activity
{
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.keya);
    }

    public void rowClick(View view) {
        ImageView imagev = (ImageView) findViewById(R.id.imageView1);
        switch(view.getId()) {
        case R.id.one:
           imagev.setImageResource(R.drawable.achord);
            break;
        case R.id.two:
            imagev.setImageResource(R.drawable.bminor);
             break;
        case R.id.three:
            imagev.setImageResource(R.drawable.csharpdbminor);
             break;
        case R.id.four:
            imagev.setImageResource(R.drawable.dchord);
             break;
        case R.id.five:
            imagev.setImageResource(R.drawable.echord);
             break;
        case R.id.six:
            imagev.setImageResource(R.drawable.fsharpgbminor);
             break;
        case R.id.seven:
            imagev.setImageResource(R.drawable.gsharpdim);
             break;
        }
    }
} 
```

我的 xml 代码在这里：

```
<?xml version="1.0" encoding="utf-8"?>
<TableLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="#FF909090"
    android:stretchColumns="1" >

    <TableRow
    android:id="@+id/one"
    android:onClick="rowClick">

        <TextView
            android:layout_margin="2dip"
            android:layout_marginRight="2dip"
            android:background="#0000ff"
            android:padding="3dip"
            android:text="I" />

        <TextView
            android:layout_margin="2dip"
            android:layout_marginLeft="1dip"
            android:background="#0000ff"
            android:gravity="center"
            android:padding="3dip"
            android:text="A"
           />
    </TableRow>

    <TableRow
        android:id="@+id/two"
    android:onClick="rowClick">

        <TextView
            android:layout_column="0"
            android:layout_margin="2dip"
            android:background="#0000ff"
            android:padding="3dip"
            android:text="II" />

        <TextView
            android:layout_margin="2dip"
            android:background="#0000ff"
            android:gravity="center"
            android:padding="3dip"
            android:text="Bm" />
    </TableRow>

    <TableRow
        android:id="@+id/three"
    android:onClick="rowClick">

        <TextView
            android:layout_column="0"
            android:layout_margin="2dip"
            android:background="#0000ff"
            android:padding="3dip"
            android:text="III" />

        <TextView
            android:layout_margin="2dip"
            android:background="#0000ff"
            android:gravity="center"
            android:padding="3dip"
            android:text="C#m" />
    </TableRow>

    <View
        android:layout_height="2dip"
        android:background="#FF909090" />

    <TableRow android:background="#0000ff" >
    </TableRow>

    <TableRow
        android:id="@+id/four"
    android:onClick="rowClick">

        <TextView
            android:layout_margin="2dip"
            android:background="#0000ff"
            android:padding="3dip"
            android:text="IV" />

        <TextView
            android:layout_margin="2dip"
            android:background="#0000ff"
            android:gravity="center"
            android:padding="3dip"
            android:text="D" />
    </TableRow>

    <View
        android:layout_height="2dip"
        android:background="#FF909090" />

    <TableRow
        android:id="@+id/tableRow1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" >
    </TableRow>

    <TableRow
        android:id="@+id/five"
    android:onClick="rowClick">

        <TextView
            android:layout_margin="2dip"
            android:layout_marginRight="2dip"
            android:background="#0000ff"
            android:padding="3dip"
            android:text="V" />

        <TextView
            android:layout_margin="2dip"
            android:layout_marginLeft="1dip"
            android:background="#0000ff"
            android:gravity="center"
            android:padding="3dip"
            android:text="E" />
    </TableRow>

    <TableRow
        android:id="@+id/six"
    android:onClick="rowClick">

        <TextView
            android:layout_margin="2dip"
            android:layout_marginRight="2dip"
            android:background="#0000ff"
            android:padding="3dip"
            android:text="VI" />

        <TextView
            android:layout_margin="2dip"
            android:layout_marginLeft="1dip"
            android:background="#0000ff"
            android:gravity="center"
            android:padding="3dip"
            android:text="F#m" />
    </TableRow>

    <TableRow
        android:id="@+id/seven"
    android:onClick="rowClick">

        <TextView
            android:layout_margin="2dip"
            android:layout_marginRight="2dip"
            android:background="#0000ff"
            android:padding="3dip"
            android:text="VII" />

        <TextView
            android:layout_margin="2dip"
            android:layout_marginLeft="1dip"
            android:background="#0000ff"
            android:gravity="center"
            android:padding="3dip"
            android:text="G#dim" />
    </TableRow>

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="114dp"
        android:background="#000000"
        android:maxLines="10"
        android:text="The relative minor of the Major key of A is F#m. The 12 bar blues progression in A is: \n A | A | A | A | D | D | A | A | E | D | A | E" />

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="wrap_content"
        android:layout_height="match_parent"
        android:background="#ffffff" />

</TableLayout> 
```

imageview 的代码就在 xml 布局的底部。关于如何调试它的任何帮助？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T07:39:28.623

这只是一个猜测，因为可能还有其他可能出错的地方 - 您是否在正确的资源文件夹中有可绘制对象？也许您在与模拟器相对应的`drawable-mdpi`或文件夹中有图像，而不是在与设备相对应的文件夹中。`drawable-ldpi``drawable-hdpi`

要进行测试，建议您创建一个`drawable`文件夹（不带任何限定符）并将所有可绘制文件复制到该文件夹​​并检查您是否看到`ImageView`.

**更新：**

使用[hierarchyviewer](http://developer.android.com/tools/help/hierarchy-viewer.html)检查 UI 元素的属性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T12:30:37.573

我通过将图像更改为 png 格式并将它们缩小 50% 来解决它。不知道为什么会这样，但确实如此！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-24T13:12:50.047

也许有点老了，但这个线程仍然帮助了我。我有同样的问题。在模拟器上，我的图像 JPG 完美显示。但是在我的手机上没有显示图像。

当我在 ImageView 上添加背景颜色时，我确实在手机上看到了颜色，但没有图像。

然后我缩小图像，从大约 2000 像素宽度到 1000 像素宽度。瞧……图像是可见的。

似乎有最大的图像分辨率。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-02T07:32:42.643

图像视图根本没有显示吗？它似乎被切断了吗？尝试将 android:weight="1.0" 或您想要的任何数字设置为 imageview 或将整个内容放在滚动视图中。如果它被切断，这将解决问题。

还有另一个建议...

尝试将整个表格布局包装在线性布局中，并在最后拉出您的文本视图和图像视图。我不是 100% 确定，但我认为你只应该在表格布局内有表格行......但是因为它在模拟器上工作，所以不太确定。

-编辑-

试试这个（把你的textview和imageview放在一个tablerow中）......它可能会起作用。

```
<TableRow>
 <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="114dp"
        android:background="#000000"
        android:maxLines="10"
        android:text="The relative minor of the Major key of A is F#m. The 12 bar blues progression in A is: \n A | A | A | A | D | D | A | A | E | D | A | E" />
</TableRow>

<TableRow>
    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="wrap_content"
        android:layout_height="match_parent"
        android:background="#ffffff" />
</TableRow> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-02T07:33:50.907

在滚动视图中包含 xml 中的所有视图（布局本身除外）。也许你的手机屏幕高度不是太大。

# c# - 如何在工厂中使用通用接口

> ID：13191034
> 
> 赞同：3
> 
> 时间：2012-11-02T07:24:18.763
> 
> 标签：c#, design-patterns, generics

我有一个工厂，它有一些用于生成报告的具体子类（.txt、.csv、.xls）我想让具体类的接口是通用的，以便我可以传入不同类型的参数（而不是 DataTable我需要使用 DataSet 或其他一些类实例作为参数）。这是我的界面。

```
interface IReportCreator
{
    bool Create(DataTable dt);
} 
```

我将界面设置为通用界面……就像下面的界面一样

```
interface IReportCreator<T>
{
    bool Create(T args);
} 
```

现在我的问题是如何从工厂返回通用接口我以前的工厂代码

```
class Factory
{
    static IReportCreator  GetReportCreator(string type)
    {
        IReportCreator reportCreator = null;
        if(type == "txt")
            reportCreator = new TextCreator(); 

        if(type == "csv")
            reportCreator = new CSVCreator();
    } 
} 
```

而在cient .. 我这样称呼 IReportCreator repCreator = Factory.GetReportCreator("txt"); repCreator.Create(// arg); // 这里的参数我需要把它变成泛型类工厂 { // 我不知道如何在这里返回接口.. }

任何帮助将不胜感激..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T07:28:29.897

```
interface IReportCreator<T>
{
  bool Create(T t);
}

class Factory
{
   public IReportCreator<T> Create<T>();
}

var factory = new Factory();
var reportCreator = factory.Create<DataTable>(); 
```

# python - 在python中捕获完整的URL

> ID：13191035
> 
> 赞同：2
> 
> 时间：2012-11-02T07:24:19.903
> 
> 标签：python, bottle

我正在使用 Bottle 开发应用程序。当我收到 GET 请求时如何获得完整的查询字符串。

我不想使用单个参数来捕捉，例如：

```
param_a = request.GET.get("a","") 
```

因为我不想修复 URL 中的参数数量。

如何获取请求的url的完整查询字符串

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-02T07:30:49.493

您可以使用该属性[`request.query_string`](http://bottlepy.org/docs/dev/api.html#bottle.BaseRequest.query_string)来获取整个查询字符串。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T07:32:04.990

如果单个 . 有多个值，请使用[`request.query`](http://bottlepy.org/docs/dev/api.html#bottle.BaseRequest.query)or 。`request.query.getall(key)``key`

例如，`request.query.a`将返回`param_a`您想要的。`request.query.b`将返回参数 for`b`等等。

如果您只需要查询字符串，则可以使用@halex 的答案。

# c# - 不一致的可访问性问题

> ID：13191036
> 
> 赞同：0
> 
> 时间：2012-11-02T07:24:20.337
> 
> 标签：c#

我收到以下错误：

```
Inconsistent accessibility: parameter type 'RR.DAL.LINQSqlCLient.StaticReport' is less accessible than method 'RR.BLL.AuditTrail.InsertStaticReportAudit(RR.DAL.LINQSqlCLient.StaticReport, string)'    
D:\My Projects\ASP Projects\Development\RapidReportTool\Working Directory\App_Code\BLL\AuditTrail.cs 
```

这是我的代码：

```
public static void InsertStaticReportAudit(StaticReport staticReport, string filterString)
{
    if (System.Web.HttpContext.Current.Session["AuditTrail"] != null)
    {
        AuditTrail CurrAuditTrail = (AuditTrail)System.Web.HttpContext.Current.Session["AuditTrail"];

        AuditTrailReports auditTrailReport = new AuditTrailReports();
        auditTrailReport.ID = AuditTrailReports.Insert(CurrAuditTrail.ID, staticReport.ID, filterString, DateTime.Now, true);

        System.Web.HttpContext.Current.Session["AuditTrailReport"] = auditTrailReport;
    }
} 
```

参数StaticReport类：

```
partial class StaticReport
{
    public bool BelongsToReportCategory(int reportCategoryID)
    {
        //If there is an entry StaticReport_ReportCategories junction table,
        //then this static report belongs to the report category

        RapidReportDataContext db = new RapidReportDataContext();
        var query = from sr_sc in db.StaticReport_ReportCategories
                               where sr_sc.StaticReportID == this.ID && sr_sc.ReportCategoryID == reportCategoryID
                               select sr_sc;

        if (query.Count() > 0)
            return true;
        else
            return false;
    }
} 
```

不知道为什么我会收到这个错误。请帮忙。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T07:26:40.553

字面意思是：类型`StaticReport`不是公共的。

由于它是一个部分类，您可能需要查看两个声明，“主”声明应该使用`public`修饰符。

默认访问级别是`internal`并且您不能在公共方法的签名中使用内部类型。打电话是不可能的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T07:29:32.777

`InsertStaticReportAudit`您有一个带有 type 参数的公共方法`StaticReport`。此类型**不**公开。程序集之外的调用者将无法调用该方法，这就是编译器不接受它的原因。

你必须`StaticReport`公开或`InsertStaticReportAudit`不公开。

# java - 如何在使用java与正则表达式进行比较时删除不匹配的数据

> ID：13191038
> 
> 赞同：0
> 
> 时间：2012-11-02T07:25:06.320
> 
> 标签：java, regex

希望做得好..我正在尝试删除不匹配的数据，同时使用 java 与正则表达式进行比较。我的要求是这样的。我的正则表达式是：

```
([A-Z]{5}[0-9]{4}[A-Z])(XM|XD|EM|ED)([0-9]{3})(_PRA_)([0-9]{3}) 
```

它应该接受这样的字符串：

```
SHIVA1234AXM123_PRA_123 
```

但是在这种情况下，如果我给出任何东西`aaSHIVA1234AXM123_PRA_123aa`（或）`SHIVA1234AXccccM123_PRA_123`像这种方法应该给出`aaaa`（或）`cccc`这样。我尝试了以下代码：

```
public class ExpressionDemo {
    public static void main(String[] args) {
        String regex = "([A-Z]{5}[0-9]{4}[A-Z])(XM|XD|EM|ED)([0-9]{3})(_PRA_)([0-9]{3})";
        Pattern p = Pattern.compile(regex);

        String str="SHIVA1234AXM123_PRA_123";
        Matcher m = p.matcher(str);  
        System.out.println(m.groupCount());

        for(int i=1;i<=m.groupCount();i++)
        {
            int start=0;
            int end=0;
            System.out.println("count "+i);
            if(m.lookingAt())
            {
                System.out.println(m.group(i));
                System.out.println("start of group"+m.start(i));
                System.out.println("end of group"+m.end(i));
                start=m.start(i);
                end=m.end(i);
                m.reset();
            }
            else
            {
                System.out.println("ELSE");
                System.out.println(start);
                System.out.println(end);
            }
        }
    }
} 
```

这是针对正面案例，但我需要针对虚假案例。它应该是通用的任何表达式--->字符串。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T07:42:44.543

因此，在“否定情况”中，您有一个可能被另一个字符串“中断”的连续字符串（字符之间没有空格），并且您想要匹配该“中断器”字符串，对吗？

我能想到的唯一方法是在每个“有效”字符之间捕获所有连续的非空白字符。这将是非常非常丑陋的：

```
(\S*?)[A-Z](\S*?)[A-Z](\S*?)[A-Z](\S*?)[A-Z](\S*?)[A-Z](\S*?)[0-9](\S*?)[0-9](\S*?)[0-9](\S*?)[0-9](\S*?)[A-Z](\S*?)(?:X|E)(\S*?)(?:M|D)(\S*?)[0-9](\S*?)[0-9](\S*?)[0-9](\S*?)_(\S*?)P(\S*?)R(\S*?)A(\S*?)_(\S*?)[0-9](\S*?)[0-9](\S*?)[0-9](\S*)
^^^^^^     ^^^^^^     ^^^^^^     ^^^^^^     ^^^^^^     ^^^^^^     ^^^^^^     ^^^^^^     ^^^^^^     ^^^^^^     ^^^^^^       ^^^^^^       ^^^^^^     ^^^^^^     ^^^^^^     ^^^^^^ ^^^^^^ ^^^^^^ ^^^^^^ ^^^^^^ ^^^^^^     ^^^^^^     ^^^^^^     ^^^^^ 
```

如果我数对了，这里有 24 个捕获组。将它们全部连接起来！

**编辑**

顺便说一句，您可以使用`\d`而不是`[0-9]`保存几个字符：

```
(\S*?)[A-Z](\S*?)[A-Z](\S*?)[A-Z](\S*?)[A-Z](\S*?)[A-Z](\S*?)\d(\S*?)\d(\S*?)\d(\S*?)\d(\S*?)[A-Z](\S*?)(?:X|E)(\S*?)(?:M|D)(\S*?)\d(\S*?)\d(\S*?)\d(\S*?)_(\S*?)P(\S*?)R(\S*?)A(\S*?)_(\S*?)\d(\S*?)\d(\S*?)\d(\S*)
^^^^^^     ^^^^^^     ^^^^^^     ^^^^^^     ^^^^^^     ^^^^^^  ^^^^^^  ^^^^^^  ^^^^^^  ^^^^^^     ^^^^^^       ^^^^^^       ^^^^^^  ^^^^^^  ^^^^^^  ^^^^^^ ^^^^^^ ^^^^^^ ^^^^^^ ^^^^^^ ^^^^^^  ^^^^^^  ^^^^^^  ^^^^^ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T07:32:30.183

您必须使用`if (m.matches())`or - 在其他情况下 - `while (m.find())`。

例如，要查看前面可能添加的内容，请在该位置添加`(.*)`。

```
//              1   2                      3
String regex = "(.*)([A-Z]{5}[0-9]{4}[A-Z])(XM|XD|EM|ED)([0-9]{3})(_PRA_)([0-9]{3})";

Matcher m = p.matcher(str);
if (m.matches()) {
    System.out.println("Extra in front: '" + m.group(1) + "'");
} 
```

# excel - Excel，使用 VBA 与用户窗体交互

> ID：13191040
> 
> 赞同：1
> 
> 时间：2012-11-02T07:25:10.500
> 
> 标签：excel, vba, user-interface, automation

我有一百个可以生成不同类型报告的 Excel 程序。这些程序包含用户表单，在生成报告之前需要用户登录数据库或指定其他详细信息。现在，用户需要手动输入这些信息来生成报告。

我想知道有什么方法可以使用 VBA 来自动化报告生成过程。例如，我需要一个程序来打开另一个工作簿，输入用户名密码并按 Enter。

我想知道 Sendkeys 功能是否可以帮助我这样做？

# eclipse - 使用Eclipse CDT代码分析工具构建插件

> ID：13191042
> 
> 赞同：1
> 
> 时间：2012-11-02T07:25:19.733
> 
> 标签：eclipse, plugins, static-analysis, abstract-syntax-tree, eclipse-cdt

我想构建一个插件，使用 CDT 中的 AST 等工具，对 c++ 源代码文件执行静态代码分析。有谁知道我可以看看类似的东西吗？我在哪里可以找到一个很好的教程来帮助我做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T22:01:09.530

（我指的是旧文档，因为新 CDT 文档是来自 help.eclipse.org 的 MIA）

1.  看起来，要访问 AST，您应该从[CoreModelUtil::findTranslationUnit(IFile)开始](http://help.eclipse.org/indigo/topic/org.eclipse.cdt.doc.isv/reference/api/org/eclipse/cdt/core/model/CoreModelUtil.html#findTranslationUnit%28IFile%29)
2.  确保检查 Codan - 它是用于静态代码分析的框架。您可以从 org.eclipse.cdt.codan.core.checker 扩展点开始。

我真的建议从克隆 CDT 存储库并将 CDT 源添加为项目开始 - CDT 本身几乎是使用 CDT API 的唯一示例。

# cocoa-touch - 了解捆绑包框架和库

> ID：13191045
> 
> 赞同：3
> 
> 时间：2012-11-02T07:25:35.960
> 
> 标签：cocoa-touch, cocoa, frameworks, bundle, libraries

我正在开发 ios B2B 应用程序，我有几个关于应用程序模块化的问题。

首先，我需要了解捆绑包和框架之间的主要区别。何时使用捆绑包以及何时使用框架。

另一个问题是。bundle 是否可以在其中包含 .framework ，反之亦然。

是否可以为 ios 应用程序创建插件并动态加载它们，如果是，那么它应该是什么？捆绑框架或库？

库是否可以包含资源文件？

是否可以创建资源包和动态库，然后在运行时动态加载它们。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T11:46:25.483

> 是否可以为 ios 应用程序创建插件并动态加载它们，如果是，那么它应该是什么？捆绑框架或库？

不

> 库是否可以包含资源文件？

不

> 是否可以创建资源包和动态库，然后在运行时动态加载它们。

不

*   **Bundle**是 Directory 的一种，一个文件夹。框架是一个捆绑包。应用程序也是如此，插件也是如此。

*   **静态库**是一个单一的文件代码存档，您可以在构建时编译到您的应用程序中

*   **动态库**是可以在运行时加载的单个文件代码存档
*   **框架**是与其他东西捆绑在一起的动态库
*   **插件**是与其他东西捆绑在一起的动态库

Xcode 构建选项“Bundle”的意思是“将编译后的动态库放在一个 Bundle 中”——这就是你想要创建插件时所做的事情。

静态库是在 iOS 上模块化代码的唯一选择。

桌面上..

通常，框架用于在多个应用程序之间共享代码和资源。您希望您的应用程序的行为就像代码实际编译到其中一样。您希望加载透明地发生，并且您不想做任何特殊的事情来使用其中包含的方法、函数等。

插件（包含已编译代码和资源的捆绑包）用于可选的、动态加载的代码，例如，您可以选择加载或不加载的软件扩展。您希望仔细构建您的应用程序，使其不依赖于插件，但如果您在运行时手动定位并加载它，它会获得新的行为。

框架和插件非常相似，但框架具有严格的文件布局，以便于定位和加载代码和资源。使用插件，这些工作是您的责任，因此您可以根据需要构建 Bundle 内容。

因为在 OSX（但不是 iOS）上的 Cocoa 中加载代码非常容易，框架可以包含插件，这些插件包含包含更多框架的框架等。

[在 iOS 上，有些人将静态库与资源一起放在 Bundles 中，并称它们为 Frameworks](https://stackoverflow.com/questions/4065052/how-to-build-a-framework-or-library-for-other-developers-the-secure-way)。这没有真正框架的所有优点和所有缺点。

# networking - FTP可以有多个TCP连接用于多个并行文件传输

> ID：13191052
> 
> 赞同：14
> 
> 时间：2012-11-02T07:26:30.333
> 
> 标签：networking, tcp, ftp

从 : (http://www.pcvr.nl/tcpip/ftp_file.htm) 读取 FTP 协议规范。我遇到了这个“FTP 与我们描述的其他应用程序不同，因为它使用两个 TCP 连接来传输文件”。我的问题是，FTP 是否可以有多个 TCP 连接用于多个并行文件传输，例如我可以通过两个 TCP 连接并行传输两个文件，这是定制还是标准化的问题？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-11-02T13:09:27.587

虽然理论上可以使 FTP 服务器支持多个并发传输，但[RFC](http://www.faqs.org/rfcs/rfc959.html)或任何已知的实现都不支持它。

该块是一个简单的块，因为*控制*连接在接收到传输请求后，在数据传输完成之前不返回最终状态或接受新命令。因此，尽管您可以将另一个传输请求排队，但在当前传输请求完成之前，它实际上不会被服务器处理。

如果您想要多个文件传输，只需使用不同的程序或命令行窗口多次登录 FTP 服务器，并让每个人启动传输。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-02T07:33:03.940

不，它不能。FTP 使用控制连接发送命令和在文件传输或目录列表检索期间存在的数据连接，仅此而已。

有关更多信息，您可以查阅[RFC 959](http://www.faqs.org/rfcs/rfc959.html)，它定义了 FTP 协议的规范。

# objective-c - 向下钻取应用程序中的主页按钮

> ID：13191053
> 
> 赞同：1
> 
> 时间：2012-11-02T07:26:31.620
> 
> 标签：objective-c, ios, uiview, uibuttonbaritem

我正在编写一个具有 3-4 级向下钻取的 iOS 应用程序。在第二个、第三个……等等视图中，我想在导航栏上添加一个主页按钮，一旦按下它就会带你回到根视图控制器，即第一个屏幕。

我已经使用情节提要添加了一个按钮，并且只想实现 - (void) homeButtonpressed:(id)sender 函数，以便显示我的第一个视图。

此外，如果这是某种内置功能（例如后退按钮），那就太好了，因为我需要在我所有的子视图中编写这段代码。

有人可以帮我吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T07:36:44.323

您可以使用以下代码弹出到 rootview

`[self.navigationController popToViewController: [self.navigationController.viewControllers objectAtIndex: 0] animated: YES]`;

或者

```
[self.navigationController popToRootViewControllerAnimated:YES]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T07:35:45.120

制作一个视图控制器数组弹出堆栈上除根视图控制器之外的所有视图控制器并更新显示。

```
- (NSArray *)popToRootViewControllerAnimated:(BOOL)animated

[self.navController popToRootViewControllerAnimated:(BOOL)animated]; 
```

# android - 如何更新暂停活动的文本视图

> ID：13191059
> 
> 赞同：1
> 
> 时间：2012-11-02T07:26:49.993
> 
> 标签：android, android-activity

我在广播接收器中接收意图（在清单中声明），我通过我的“MainActivity”接收的 b'cst 意图“记录”其详细信息，其接收器更新文本视图的内容并在 MainActivity 中注册代码。

我想知道是否有办法让 MainActivity 文本视图的内容保持更新，即使 MainActivity 没有“焦点”（即另一个活动已经开始）。我很欣赏 MainActivity 的 b'cast 接收器将在暂停时取消注册，但我觉得应该有办法做到这一点。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T07:41:06.353

您应该在活动的“onResume”上执行所有这些操作，就在它到达前台时。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T07:44:38.657

一种解决方案是在接收器内使用处理程序，并且您在活动中调用静态方法...在该方法中您可以更新或您需要对文本视图执行的任何操作...

# xml - 如何使用 XML::Twig 获取带有其他标签的标签内容？

> ID：13191062
> 
> 赞同：2
> 
> 时间：2012-11-02T07:27:29.273
> 
> 标签：xml, perl, xml-twig

```
#!/usr/bin/perl

use strict;
use warnings FATAL => 'all';
use 5.010;

use XML::Twig;

sub get_xml_from_data {
    my @lines = <DATA>;
    my $xml = join "", @lines;

    return $xml;
}

sub main {
    my $xml = get_xml_from_data();

    my $xt = XML::Twig->new();
    $xt->parse($xml);
    my $root= $xt->root;

    # output 1
    say $root->first_child('element')->sprint;
    # It will print:
    #
    #   <element>
    #           Some content with <b>some</b> <i><b>other</b></i> tags.
    #        </element>

    # output 2
    say $root->first_child('element')->text;
    # It will print:
    #
    #        Some content with some other tags.

    # But I need the output:
    #
    #           Some content with <b>some</b> <i><b>other</b></i> tags.

}

main();

__DATA__
<root>
    <element>
        Some content with <b>some</b> <i><b>other</b></i> tags.
    </element>
</root> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:25:01.057

您正在寻找的方法是`inner_xml`.

# c++ - 如何在 C++ 中删除 BSTR 类型的变量

> ID：13191069
> 
> 赞同：0
> 
> 时间：2012-11-02T07:27:46.760
> 
> 标签：c++, visual-studio-2010, bstr

下面的代码是我的结构和包含结构引用的类。

```
typedef struct MESSAGE
{
    int MessageType;
     BSTR Name;
    _bstr_t TimeStampIs;
} MESSAGE, *PMESSAGE;

typedef struct MESSAGENODE
{
    PMESSAGE Message;
    MESSAGENODE* pNext;
} MESSAGENODE, *PMESSAGENODE;

class Message
{
private:
    PMESSAGENODE        MessageQueueFront;
    PMESSAGENODE        MessageQueueBack;
public:
    bool AddMessageToQueue(PMESSAGE Message);
    void DeleteMessageQueue(void){
    PMESSAGE pMess;
    while((pMess = GetMachineMessage()) != NULL)
    {
        if((pMess->DialysisDataIs))
        SysFreeString(pMess->Name.Detach());
        delete pMess;
}
}m;

int main()
{
PMESSAGE Message;
    Message = new MESSAGE;
    Message->Name=L"ABC";
    Message->TimeStampIs=L"25252";
    m.AddMessageToQueue(Message);
    m.DeleteMessageQueue();
    return 0;
} 
```

> 当我编译上面的代码时，我在 DeleteMessageQueue 函数中收到以下错误
> 
> 错误 C2451：'_bstr_t' 类型的条件表达式是非法的 错误 C2228：'.Detach' 的左侧必须有类/结构/联合

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T07:44:44.900

有几件事，首先是你的错误

```
SysFreeString(pMess->Name.Detach()); 
```

`Message::Name`是一个原始 BSTR 指针，我向您保证它没有名为`Detach()`. 然而`_bstr_t`，课堂确实如此。将您的结构更改为：

```
typedef struct MESSAGE
{
    int MessageType;
    _bstr_t Name;
    _bstr_t TimeStampIs;
} MESSAGE, *PMESSAGE; 
```

完成后，您可以完全删除`SysFreeString()`调用，因为现在 Name 和 TimeStampIs 都是智能指针，并且会在对象销毁时自动释放。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-02T07:45:52.790

像这样

```
SysFreeString(pMess->Name); 
```

但是没有充分的理由在这样的代码中使用 BSTR。编写自己的链表类也没有任何充分的理由。用简单的方法来做（正如 selbie 指出的，这不是你代码中唯一的错误），我建议`std::wstring`使用`std::list`.

```
#include <string>
#include <list>

struct MESSAGE
{
    int MessageType;
    std::wstring Name;
    std::wstring TimeStampIs;
};

class Message
{
private:
    std::list<MESSAGE> queue;
public:
    ...
}; 
```

最大的优势是你什么都不需要`delete`。所以所有这些问题都消失了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T07:45:19.487

更改此行：

```
SysFreeString(pMess->Name.Detach()); 
```

对此：

```
SysFreeString(pMess->Name);
pMess->Name = NULL; 
```

但这不是你唯一的问题......

此外，这条线是完全错误的：

```
Message->Name=L"ABC"; 
```

您正在将 WCHAR* 分配给 BSTR。在您通过 SysFreeString 发布它之前，无论出于何种目的和目的，它都可以正常工作。（这可能会崩溃。）

按如下方式分配您的字符串：

```
pMess->Name = SysAllocString("ABC"); 
```

_bstr_t 是一个有用的字符串类，它内部包含一个 BSTR。在转换为/从本机 WCHAR* 字符串转换时，它会为您处理所有 SysAllocString/SysFreeString 调用。因此，将它用于 Name 就像将它用于 TimeStampIs 一样。

# cakephp - CakePHP 默认布局，无法将值传递给 default.ctp

> ID：13191073
> 
> 赞同：0
> 
> 时间：2012-11-02T07:28:10.650
> 
> 标签：cakephp, cakephp-2.0

我有一个页面网站，在主页上（布局/default.ctp）我有 2 个表单，订阅和联系表单，它们由联系人控制器控制。使用 $this->set('some_val', 'test'); 我可以从 AppController 设置值，但不能从联系人控制器设置值，我如何将联系人控制器的值设置为在 default.ctp 中可用，除了会话？

```
public function beforeFilter() {
    parent::beforeFilter();
    //pr('beforeFilter'); // i was testing is this happening or not
    //exit();
    $tester = 'test';
    $this->set(compact('tester'));
} 
```

在 default.ctp 我只是 pr($this->viewVars); 确保我有测试仪值，但它总是空的。

这是如何在一个页面设计中实现多个控制器的正确方法吗？

另一个问题是有一个地方/功能可以检查当前请求是否发布，我想检查每个请求是什么？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T13:22:57.423

不确定我是否理解正确，但听起来您可能需要多个布局：

```
class CarsController extends AppController
{
  public function index($page)
  {
    /* Your logic */

    if ( $page == 'other' ) {
      $this->render('view', 'layout');
    } else {
      $this->render('view-other', 'layout-other');
    }
  }
} 
```

有关更多信息，我建议您查看：[http ://api20.cakephp.org/class/controller#method-Controllerrender](http://api20.cakephp.org/class/controller#method-Controllerrender)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T12:37:08.287

试试 echo $tester；默认情况下，它应该可用。

如果请求是发布的，您将在 $this->data 中有数据。

# photoshop - 在 Photoshop 中捕获撤消/重做事件

> ID：13191079
> 
> 赞同：2
> 
> 时间：2012-11-02T07:28:50.817
> 
> 标签：photoshop

我正在创建一个 Photoshop 插件和一个弹性面板。我需要在 Photoshop 中捕获撤消/重做事件并向 flex 发送通知。但我无法捕获撤消/重做事件。

谁能指导我如何在我的插件中捕获这些事件？

谢谢

# java - ANDROID 使用分享意图分享到 facebook、twitter 等

> ID：13191083
> 
> 赞同：0
> 
> 时间：2012-11-02T07:29:03.903
> 
> 标签：java, android, eclipse, android-intent, share

我通过网络搜索并使用共享意图找到了此共享到 facebook、twitter 或电子邮件。这个共享意图是假设有那些 facebook、twitter 图标可供选择共享吗？当我在模拟器中运行时，它写道没有应用程序可以运行此操作。是无法在模拟器中运行共享还是我的代码没有完全完成。

**下面是我的代码**

```
btnShare.setOnClickListener(new View.OnClickListener() {
        public void onClick(View view) {
                Intent sharingIntent = new Intent(Intent.ACTION_SEND);
                sharingIntent.setType("plain/text");
                sharingIntent.putExtra(android.content.Intent.EXTRA_TEXT,
                        "This is the text that will be shared.");
                startActivity(Intent.createChooser(sharingIntent,
                        "Share via"));
        }
    }); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T07:43:16.540

模拟器没有安装可以处理共享意图的应用程序。因此不会显示任何应用程序。如果您手头没有 Android 设备，您可以尝试将 Amazon Appstore 或[Androidpit](http://www.androidpit.com/)市场应用程序下载到您的模拟器，并通过这些市场安装共享应用程序。

# r - R中的网格包

> ID：13191091
> 
> 赞同：4
> 
> 时间：2012-11-02T07:30:03.097
> 
> 标签：r, rcpp, cgal, point-cloud-library, lidar

我正在寻找一个`R`可以提供与 Airborne-Laster-Scanning (ALS)-data 和多边形网格交互的框架的包。我想它很容易`RCPP`用于接口：

## 图书馆

*   [开放网格](http://www.openmesh.org/)
*   [库拉斯](http://www.liblas.org/)
*   [点云](http://www.pointclouds.org/)
*   [CGAL](http://www.cgal.org/)
*   [网状实验室](http://meshlab.sourceforge.net/)

## 要求的功能

仅举几例：

*   Mesh-Lidar-交互
    *   根据 ALS 细化/粗化三角网格
    *   从 ALS 插入海拔高度
*   在网格中注入点/线/孔
*   网格简化
*   以不同的网格格式读取和写入 ( `.stl,.2dm`, ...)

PS：我也会对`julia`or中的实现感兴趣`haskell`。

# .net - 如何使用 Visual Studio 在 iis 上托管 wcf Web 服务

> ID：13191093
> 
> 赞同：0
> 
> 时间：2012-11-02T07:30:09.537
> 
> 标签：.net, wcf, iis

我对网络服务不是很清楚。我创建了一个 Web 服务，并使用 Visual Studio 中的发布选项将其托管在 IIS 上。有什么方法可以仅从 IIS 管理器在 IIS 上托管我的应用程序（不使用 Visual Studio）。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-02T07:34:29.553

您无需使用 Visual Studio 中的发布功能来部署服务。大致你需要做的是：

1) 在您希望托管服务的 IIS 管理器中创建网站。确保您的应用程序池正在运行正确版本的 .Net 框架。

2）将您的二进制文件复制到 /bin 相对于您网站的根目录。

3) 将您的 web.config、.asmx、.svc 和其他需要的文件复制到您的网站根目录。

# assembly - 如何使用 jr 指令创建跳转表？

> ID：13191094
> 
> 赞同：-2
> 
> 时间：2012-11-02T07:30:11.617
> 
> 标签：assembly, mips, mips32

C++ 程序

```
 # include < iostream >
 # include <string >

 using namespace std;

 int main ()
 {
 int resistance ; // in Ohms
 string partNum ; // Part Number

 cout << " Enter resistance : " << endl ;
 cin >> resistance ;
 switch ( resistance )
 {
 case 3 : partNum = " OD30GJE "; break ;
 case 10 : partNum = " OD100JE "; break ;
 case 22 : partNum = " OD220JE "; break ;
 default : partNum = "No match "; break ;
 }    
 cout << " Part number : " << partNum << endl ;    
 return 0;
 } 
```

将 C 代码转换为 MIPS 汇编代码，为您的代码添加匹配最近电阻的能力。请务必使用 jr 指令进行 switch 语句。让您的代码从用户那里获取电阻作为输入，并在控制台上显示电阻的相应或最接近的零件编号。

Mips 汇编代码

```
.data
int_value: .space 20
.align 2
input:  .asciiz "Enter resistance.\n"       # declaration for string variable, 
string1:    .asciiz "OD30GJE\n" # declaration for string variable, 
string2:    .asciiz "OD100JE\n"
string3:    .asciiz "OD220JE\n"
string11:   .asciiz "No Match\n"
string12:   .asciiz "Enter resistance\n"
    .text
main:
li $v0, 4
la $a0, input                   # print for input 
syscall

la      $t0, int_value
li  $v0, 5          # load appropriate system call code into register $v0;

syscall             # call operating system to perform operation
sw  $v0, int_value      # value read from keyboard returned in register $v0;
                        # store this in desired location
lw  $s1, 0($t0)
condition1:
slt $t1, $s1, $zero # if $s1 < 0 $t1 = 1 else $t1 = 0
beq $t1, $zero, condition2 # if $t1 = 0; InvalidEntry 
bne $t1, $zero, invalid_entry

condition2:
sgt $t1, $s1, -1 # if $s1 > -1 then $t1 = 1 else $t1 = 0
beq  $t1, $zero, invalid_entry # if $t1 = 0; InvalidEntry 
sgt $t1, $s1, 9 # if s1 > 9 t1 = 1 else $t1 = 0 
bne $t1, $zero, condition3 # if $t1 does not equal = 0; condition3 

li  $v0, 4              
la  $a0, string1
syscall
j exit

condition3:
sgt $t1, $s1, 9 # if $s1 > 9 then $t1 = 1 else $t1 = 0
beq  $t1, $zero, invalid_entry # if $t1 = 0; InvalidEntry 
sgt $t1, $s1, 21 # if s1 > 21 t1 = 1 else $t1 = 0 
bne $t1, $zero, condition3 # if $t1 does not equal = 0; condition3 

li  $v0, 4              
la  $a0, string2
syscall
j exit

invalid_entry:
li  $v0, 4              
la  $a0, string11
syscall
j exit
exit:
li $v0, 10 # v0<- (exit)
syscall 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T23:44:22.447

下面展示如何制作一个跳转表。假设跳转表内的偏移量`$s1.` `$s1`必须是4的倍数（即字节偏移量）。

**此代码未经测试！**

```
 . . . .
        b       1f            # jump past the jump table
        nop                   # branch delay slot
        # table of jump addresses
JTAB:   .word LABEL1
        .word LABEL2
        .word LABEL3
1:      la      $t0, JTAB     # load start address of the jump table
        add     $t0, $t0, $s1 # add offset to table address
        lw      $t1, 0($t0)   # load the address stored at JTAB + $s1
        jr      $t1           # and jump to that address
        nop                   # branch delay slot
LABEL1: # do something
        b       2f            # break
        nop
LABEL2: # do something else
        b       2f            # break
        nop
LABEL3: # do a different thing
        b       2f            # break
        nop
2:      # after the end of the "case statement" 
```

# iphone - 当我单击视图控制器中显示的列表标签中的特定标签时，将标签文本削减到下一个视图

> ID：13191096
> 
> 赞同：0
> 
> 时间：2012-11-02T07:30:44.730
> 
> 标签：iphone, uibutton, uilabel

我正在尝试将特定标签的文本从标签列表中解析到标签中的`UIScrollView`下一个视图中。但是这些标签文本来自`NSMutableArray`. 我试过了，但我只得到了参考的最后一个值，`NSMutableArray`请参阅以下代码：请建议我将做什么

```
-(void)dataPrinting
 {
int t= 60;

NSLog(@"%@",totalData);

for (int i = 0; i < [totalData count]; i++)
{

    pplname=[[UILabel alloc]initWithFrame:CGRectMake(10, t, 200, 30)];
    pplname.backgroundColor=[UIColor clearColor];
    pplname.text=[totalData objectAtIndex:i];
    pplname.textColor=[UIColor redColor];

    [scrollView addSubview:pplname];

    UIButton *button=[UIButton buttonWithType:UIButtonTypeCustom];
    //initWithFrame:CGRectMake(10, t, 200, 40) ];
    button.frame=CGRectMake(10, t, 200, 40);
    [button addTarget:self 
               action:@selector(nextview)
     forControlEvents:UIControlEventTouchUpInside];
    [scrollView addSubview:button];

           t=t+40;
  }

[scrollView setContentSize:CGSizeMake(scrollView.frame.size.width, t+2)];
[aview stopAnimating];

  }
-(IBAction)nextview
 {
   Details *detailsPage=[[Details alloc]initWithNibName:@"Details" bundle:nil];
    for (int i = 0; i < [totalData count]; i++)
  {        

   detailsPage.pplName=[totalData objectAtIndex:i];

 }

 [self presentModalViewController:detailsPage animated:YES];

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T07:43:11.683

给标签以获取标签的特定名称只需用您的代码替换我的波纹管代码......

```
-(void)dataPrinting
     {
    int t= 60;

    NSLog(@"%@",totalData);

    for (int i = 0; i < [totalData count]; i++)
    {

        pplname=[[UILabel alloc]initWithFrame:CGRectMake(10, t, 200, 30)];
        pplname.backgroundColor=[UIColor clearColor];
        pplname.text=[totalData objectAtIndex:i];
        pplname.tag = i;
        pplname.textColor=[UIColor redColor];

        [scrollView addSubview:pplname];

        UIButton *button=[UIButton buttonWithType:UIButtonTypeCustom];
        //initWithFrame:CGRectMake(10, t, 200, 40) ];
        button.frame=CGRectMake(10, t, 200, 40);
        button.tag = i;
        [button addTarget:self 
                   action:@selector(nextview)
         forControlEvents:UIControlEventTouchUpInside];
        [scrollView addSubview:button];

               t=t+40;
      }

    [scrollView setContentSize:CGSizeMake(scrollView.frame.size.width, t+2)];
    [aview stopAnimating];

      }
    -(IBAction)nextview:(id)sender
     {
       UIButton *btnTemp = (UIButton*)sender;
       Details *detailsPage=[[Details alloc]initWithNibName:@"Details" bundle:nil];

       detailsPage.pplName=[totalData objectAtIndex:btnTemp.tag];

     [self presentModalViewController:detailsPage animated:YES];

    } 
```

# mysql - Mysql报错码1293是什么原因

> ID：13191101
> 
> 赞同：5
> 
> 时间：2012-11-02T07:31:13.207
> 
> 标签：mysql

这是mysql错误1293的消息：

> SQL 错误 (1293)：表定义不正确；在 DEFAULT 或 ON UPDATE 子句中只能有一个带有 CURRENT_TIMESTAMP 的 TIMESTAMP 列

mysql 的原因是什么，只允许每个表在 DEFAULT 或 ON UPDATE 子句中有一个 TIMESTAMP 列。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-02T09:59:51.330

只有一个 TIMESTAMP 字段可以默认为“现在”我首先应该说，如果您尝试使用 CURRENT_TIMESTAMP 或“默认现在”定义多个 MySQL TIMESTAMP 字段，不幸的是，这很糟糕，您不能在 MySQL 中这样做 **尝试创建这样的表时，我刚刚收到此 MySQL TIMESTAMP 错误：**

```
create table users (
    id int unsigned auto_increment not null primary key,
    username varchar(50) not null unique,
    password varchar(40) not null,
    email_address varchar(128) not null unique,
    email_sent timestamp not null,
    last_login timestamp not null default now()
    ) ENGINE = InnoDB; 
```

当我第一次解决这个问题时，我认为 MySQL 需要在任何其他 TIMESTAMP 字段之前声明“CURRENT_TIMESTAMP (default now)”字段，所以**我这样解决了我的问题：**

```
create table users (
   id int unsigned auto_increment not null primary key,
   username varchar(50) not null unique,
   password varchar(40) not null,
   email_address varchar(128) not null unique,
   last_login timestamp not null default now(),
   email_sent timestamp not null
 ) ENGINE = InnoDB; 
```

# iphone - AFHTTPclient 的编译器警告

> ID：13191107
> 
> 赞同：19
> 
> 时间：2012-11-02T07:31:47.323
> 
> 标签：iphone, ios, ios6, afnetworking

我是 AFNetworking 的新手，我正在运行一个简单的应用程序来了解 AFNetworking 的工作原理。我正在关注 MobileTuts 上的本教程：http: [//mobile.tutsplus.com/tutorials/iphone/ios-sdk_afnetworking/](http://mobile.tutsplus.com/tutorials/iphone/ios-sdk_afnetworking/)。我能够让应用程序使用这些信息运行，但我有这两个警告。

这两个警告是：

1.  #warning “项目中未找到 SystemConfiguration 框架，或未包含在预编译头文件中。网络可达性功能将不可用。”

2.#warning "CoreServices 框架未在项目中找到，或未包含在预编译头中。在多部分请求中上传文件时，自动 MIME 类型检测将不可用。"

我已经包含了 SystemConfiguration 和 CoreServices 框架，但这些警告仍然存在......

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2012-11-02T08:03:52.070

在“YOURPROJECTNAME-Prefix.pch”文件中包含此代码

```
#import <SystemConfiguration/SystemConfiguration.h>
#import <MobileCoreServices/MobileCoreServices.h> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-06-12T07:02:08.793

就我而言，我开始在 obj-c 项目中使用 swift，我必须将以下两个标头添加到我的`<project_name>-Bridging-Header.h`文件中：

```
#import <SystemConfiguration/SystemConfiguration.h>
#import <MobileCoreServices/MobileCoreServices.h> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T08:15:48.330

您需要将这些框架添加到您的项目中。这是你如何做到的

[如何在 Xcode 4 中“添加现有框架”？](https://stackoverflow.com/questions/3352664/how-to-add-existing-frameworks-in-xcode-4)

# ajax - 无法在 ajax 重新渲染上显示 deployJava 按钮

> ID：13191111
> 
> 赞同：1
> 
> 时间：2012-11-02T07:32:13.603
> 
> 标签：ajax, jsf-2, primefaces, java-web-start, deployjava

我无法在 ajax 重新渲染上显示 deploy-java 按钮

```
<h:form id="deployJavaForm" rendered="#{myBean.shouldRender}">
<h:outputScript library="js" name="http://java.com/js/deployJava.js" target="head" />
<script type="text/javascript">
    deployJava.createWebStartLaunchButton('blah.jnlp', '1.7.0');
</script>
</h:form> 
```

什么时候

```
myBean.shouldRender == true 
```

并且表单已更新，唯一显示的内容（在白页上）是 deployJava 按钮，请求被挂起。如果在初始请求中 shouldRender 为 true，则页面和按钮会正确显示。我正在使用 primefaces 以防万一。

我想要做的是让按钮正确显示，无论它是 ajax 重新呈现的一部分还是完整的初始请求。

更新：我做了功课并创建了一个仍然重现问题的最小示例。无论脚本声明是在头部还是在正文中，我似乎仍然遇到同样的问题（我在资源/js中有deployJava.js的副本）

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
<h:head>
    <!-- <script type="text/javascript" src="http://java.com/js/deployJava.js" />-->
</h:head>
<h:body>
    <h:outputScript library="js" name="deployJava.js" target="head" />
    <h:form id="djForm">
        <script type="text/javascript">
            deployJava.createWebStartLaunchButton(
                    'test.jnlp', '1.7.0');
        </script>
        <p:commandButton value="update" update="djForm" />
    </h:form>
</h:body>
</html> 
```

编辑：（specialgems）下面的测试给出了与之前观察到的相同的问题。

```
<h:outputScript>
deployJava.createWebStartLaunchButton(
                'test.jnlp', '1.7.0');
</h:outputScript> 
```

编辑：添加图片![问题看起来像这样](../Images/1246619271e1d3ecd6fab43446bbcb08.png)

单击更新按钮后，仅呈现 deployJava 按钮并加载页面

编辑（丹尼尔）：成功和完成时都给出相同的行为:(

```
<h:form id="djForm">
    <h:outputScript>
        function abcefg() {
            deployJava.createWebStartLaunchButton('test.jnlp', '1.7.0');
        }
    </h:outputScript>
<p:commandButton value="update" update="djForm" onsuccess="abcefg()" />
</h:form> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-11T09:52:02.013

除了使用我评论中描述的 js 和 css 可见性之外，您还可以编写自己的复合按钮组件。使用 Firebug，您可以调查 deployJava.createWebStartLaunchButton 脚本生成的标记并自己静态添加它。所以你的组件可能是：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:composite="http://java.sun.com/jsf/composite">
<head>
<title>deployJava Button component</title>
</head>
<body>

    <composite:interface>
        <composite:attribute name="version" required="true"
            type="java.lang.String" />
        <composite:attribute name="url" required="true"
            type="java.lang.String" />
    </composite:interface>

    <composite:implementation>
        <a onmouseover="window.status=''; return true;"
            href="javascript:if (!deployJava.isWebStartInstalled(&quot;#{cc.attrs.version}&quot;)) {if (deployJava.installLatestJRE()) {if (deployJava.launch(&quot;#{cc.attrs.url}&quot;)) {}}} else {if (deployJava.launch(&quot;#{cc.attrs.url}&quot;)) {}}"><img
            border="0" src="//java.com/js/webstart.png" /></a>
    </composite:implementation>
</body>
</html> 
```

所以你的页面将是：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:comps="http://java.sun.com/jsf/composite/comps"
    xmlns:p="http://primefaces.org/ui">
<h:head>
    <!-- <script type="text/javascript" src="http://java.com/js/deployJava.js" />-->
</h:head>
<h:body>
    <h:outputScript library="js" name="deployJava.js" target="head" />
    <h:form id="djForm">
       <comps:deployJavaButton version="1.7.0" url="test.jnlp" rendered="#{myBean.shouldRender}" />

        <p:commandButton value="update" update="djForm" />
    </h:form>
</h:body>
</html> 
```

主要思想是避免两次或多次执行按钮创建脚本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T23:30:43.900

可能使用 h:panelGroup 而不是 h:form 会有所帮助。像这样的东西：

```
<h:form id="djForm">
  <h:panelGroup rendered="#{myBean.shouldRender}">
    <script type="text/javascript">
        deployJava.createWebStartLaunchButton(
                'test.jnlp', '1.7.0');
    </script>
  </h:panelGroup>
  <p:commandButton value="update" update="djForm" />
</h:form> 
```

# sql - SQL查询最近日期的计数值

> ID：13191127
> 
> 赞同：0
> 
> 时间：2012-11-02T07:33:48.637
> 
> 标签：sql, sql-server

我需要一个返回ff的查询：

1.  从每个名称中的最新日期开始计数
2.  如果 Count from the latest Date 的值为 -1，那么它将返回最新 Date 之前的 Date 的计数
3.  如果最新日期的计数值为-1，另一个日期为-1。然后返回 0
4.  如果最新日期的计数值为 -1 且没有该名称的其他日期。然后返回 0

示例表：

```
ID  Name  Date         Count
1   Adj   09/29/2012   2
2   Adj   09/30/2012   4
3   Ped   09/29/2012  -1
4   Ped   09/30/2012   5
5   Mel   09/29/2012   3
6   Mel   09/30/2012  -1
7   Rod   09/30/2012   7
8   Ney   09/30/2012  -1
9   Jin   09/29/2012  -1
10  Jin   09/30/2012  -1 
```

期望的输出：

```
Name   Count
Adj    4
Ped    5
Mel    3
Rod    7
Ney    0
Jin    0 
```

我对如何在 SQL 中处理这个问题感到非常困惑，因为我只知道简单的查询。

关于如何对此进行查询的任何想法？谢谢。

顺便说一句，我很抱歉我忘了包括这个。我正在使用 SQL Server 2000。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-02T07:39:30.787

试试这个

[**SQL 提琴示例**](http://sqlfiddle.com/#!3/8650b/14)

```
select A.name, isnull(T.[Count], 0) as [Count]
from (select distinct T.name from table1 as T) as A
    outer apply 
    (
        select top 1 T.[Count]
        from table1 as T
        where T.name = A.name and T.[Count] <> -1 
        order by T.[date] desc
    ) as T
order by A.name asc 
```

**更新**：对于 SQL 2000，您可以使用这样的查询

[**SQL 2000 的**SQL FIDDLE 示例****](http://sqlfiddle.com/#!3/8650b/14)

 **```
select A.name, isnull(T1.[Count], 0) as [Count]
from 
(
    select T.name, max(case when T.[Count] <> -1 then T.[date] else null end) as [date]
    from table1 as T
    group by T.name
) as A
    left outer join table1 as T1 on T1.name = A.name and T1.[date] = A.[date] 
```

but it relies on suggestion that you have unique constraint on `name, [date]` columns

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T07:53:42.533

an other one

```
Select * from
(
Select Test.name,[Count]
from TEST
Join(
Select name, MAX(Date) as Date from TEST  
where [Count]<>-1
Group by Name) a
on a.Name=test.Name and a.Date=Test.Date
UNION 
Select Distinct name,0 from test o where not Exists(Select * from test where name=o.Name and [count]<>-1)
) res
order by Name 
```**

# mysql - mysql 一对多 rquery

> ID：13191131
> 
> 赞同：0
> 
> 时间：2012-11-02T07:34:23.343
> 
> 标签：mysql, sql, one-to-many

表：lead_salesperson

```
------------------------
id    | sp_id   |  phone
------------------------
0     | 1       |  12345678
1     | 1       |  87654321 
```

表：产品属性

```
------------------------------------------------
product  | sp_id    |  phone    | activity_name
------------------------------------------------
0        | 1        |  12345678 | vm
1        | 1        |  12345678 | DNC
2        | 1        |  87654321 | SCB 
3        | 1        |  77654321 | SCB 
```

```
Select DISTINCT(l.phone) as phone 
  from lead_salesperson as l 
  join lead_activity as ls 
  on (ls.phone=l.phone) && (ls.year_make=l.year_make) && (ls.make=l.make) 
 where l.sp_id=$sp_id and ((ls.act_name!='DNC') OR (ls.act_name!='DNC_AUTO')) 
```

所以输出应该是`87654321,77654321`

我正在尝试获取所有没有 DNC 或 DNC_AUTO 的电话号码 ...leadactivity 可以有多行连接到lead_salesperson 中的一行。如果即使其中一行（电话）在活动名称中具有 DNC 或 DNC _AUTO，那么我不希望该电话成为结果集的一部分任何想法......如何解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T07:42:04.713

我认为您可以使用定义要排除的电话的子查询来解决此问题：

```
select distinct phone
from lead_activity as ls
where act_name in ('DNC', 'DNC_AUTO') 
```

现在，您可以将此查询用作条件：

```
select distinct
    l.phone as phone
from
    lead_salesperson as l
where
    phone not in (
        select distinct phone 
        from lead_activity as ls 
        where act_name in ('DNC', 'DNC_AUTO')) 
```

希望这可以帮助你

# hibernate - 时间戳和夏令时的休眠和 Oracle 问题

> ID：13191134
> 
> 赞同：5
> 
> 时间：2012-11-02T07:34:53.387
> 
> 标签：hibernate, jpa, timezone

我正在尝试使用定义将数据添加到 oracle 11g 数据库中的表中。

```
CREATE TABLE FOO_TIME_TEST  
(ID      NUMBER(20) NOT NULL, TIME    TIMESTAMP(6),
 CONSTRAINT FOO_TIME_TEST_PK   PRIMARY KEY (ID) USING INDEX);

CREATE UNIQUE INDEX "foo_time_test_idx" ON "FOO_TIME_TEST" (TIME) 
```

使用 Joda 时间的 Hibernate/JPA 映射如下

```
@Type(type = "com.foo.PersistentDateTime")
@Column(name = "TIME")
public DateTime getTime() {
    return time;
} 
```

映射类 PersistentDateTime 相关位

```
public void nullSafeSet(PreparedStatement preparedStatement, Object value, int index) throws SQLException {
    if (value == null) {
        Hibernate.TIMESTAMP.nullSafeSet(preparedStatement, null, index);
    } else {
        Hibernate.TIMESTAMP.nullSafeSet(preparedStatement, ((DateTime) value).toDate(), index);
    }
}

public int[] sqlTypes() {
    return new int[] { Types.TIMESTAMP, };
} 
```

编写的代码是这样的，它在使用 plusTime() 的循环中，但我将它隔离到这两个调用中。

```
{
    DateTime time = new DateTime(2012, 10, 28, 0, 0, DateTimeZone.UTC);
    FooTest data = new FooTest();
    data.setTime(time);
    em.persist(data);
    System.out.println(time + " " + time.getMillis() / 1000 / 60 / 60);
}

{
    DateTime time = new DateTime(2012, 10, 28, 1, 0, DateTimeZone.UTC);
    FooTest data = new FooTest();
    data.setTime(time);
    em.persist(data);
    System.out.println(time + " " + time.getMillis() / 1000 / 60 / 60);
} 
```

输出

```
2012-10-28T00:00:00.000Z 375384
2012-10-28T01:00:00.000Z 375385

19:23:42,081  WARN JDBCExceptionReporter:100 - SQL Error: 1, SQLState: 23000
19:23:42,081 ERROR JDBCExceptionReporter:101 - ORA-00001: unique constraint (Foo.foo_time_test_idx) violated 
```

我尝试删除唯一索引，然后代码成功但数据库中的两行是相同的：

```
ID  Time
1   28-OCT-12 01.00.00.000000000 AM
2   28-OCT-12 01.00.00.000000000 AM 
```

启用休眠跟踪后，似乎显示两个不同的日期被展平为相同的值。

```
Hibernate: insert into FOO_TIME_TEST (ID, TIME) values (?, ?)
07:38:54,217 TRACE TimestampType:151 - binding '2012-10-28 01:00:00' to parameter: 22
Hibernate: insert into FOO_TIME_TEST (ID, TIME) values (?, ?)
07:38:54,217 TRACE TimestampType:151 - binding '2012-10-28 01:00:00' to parameter: 22 
```

确实需要 ojdbc-6.jar 的源代码来进一步调试...

我通过下载 11.2.0.2.0 的 ojdbc6_g.jar 并将类路径以及 -Doracle.jdbc.Trace=true 选项（如此处建议）和自定义 java util log.properties 启用了[更多](http://docs.oracle.com/cd/B28359_01/java.111/b31224/diagnose.htm)调试

这会在每次绑定调用后提供附加信息，在这两种情况下都会显示 01:00 值。

```
Nov 2, 2012 8:20:21 AM oracle.jdbc.driver.OraclePreparedStatementWrapper setTimestamp
TRACE_30: 3C322E7D Enter: 22, 2012-10-28 01:00:00.0
Nov 2, 2012 8:20:21 AM oracle.jdbc.driver.OraclePreparedStatement setTimestamp
FINE: 3C322E7D Public Enter: 22, 2012-10-28 01:00:00.0
Nov 2, 2012 8:20:21 AM oracle.jdbc.driver.OraclePreparedStatement setTimestampInternal
FINER: 3C322E7D Enter: 22, 2012-10-28 01:00:00.0 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T09:58:44.390

当您使用时区存储时间时，我建议使用 TIMESTAMP(3) WITH TIME ZONE 类型。

 `````
CREATE TABLE TIME_TABLE
(
  YOUR_TIME TIMESTAMP(3) WITH TIME ZONE,
  TIME_ZONE  VARCHAR (64 BYTE),
) 
````  `对于休眠映射，请使用 Joda 类 org.joda.time.contrib.hibernate.PersistentDateTimeTZ，下面是 XML 映射片段。

 `````
<property name="yourTime" type="org.joda.time.contrib.hibernate.PersistentDateTimeTZ">
    <column name="YOUR_TIME" />
    <column name="TIME_ZONE" />
</property> 
````  `我不熟悉基于注释的 Hibernate 映射，但我认为它看起来像（我没有尝试过）：

 `````
@Type(type = "org.joda.time.contrib.hibernate.PersistentDateTimeTZ")
@Columns(columns = { @Column(name = "YOUR_TIME"), @Column(name = "TIME_ZONE") })
public DateTime getYourTime() {
        return yourTime;
} 
````  `我希望这有帮助。

PS 我不认识您正在使用的 Joda DateTime 构造函数：它似乎没有 Seconds 和 Milliseconds 参数。``````

# java - 一次使用 google guava 和 google 集合时出现异常

> ID：13191140
> 
> 赞同：2
> 
> 时间：2012-11-02T07:35:40.750
> 
> 标签：java, dependencies, resolve

我的 java 代码依赖于 2 个库 A 和 B

A 依赖于 GoogleCollections B 依赖于 GoogleGuava r10；

```
Now when i build  my code everything works fine.But when i run i get following exception

java.lang.NoSuchMethodError: com.google.common.collect.ImmutableList.copyOf([Ljava/lang/Object;)Lcom/google/common/collect/ImmutableList;
    at com.abc.Pqr$Builder.withXYZ(ExponentialBackoffRetryPolicy.java:329) 
```

我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T07:38:27.623

如果你幸运的话.. 仅包含包含您所依赖的 ImmutableList 的 GoogleCollections 的最新版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:08:38.447

Google Collections 已被弃用并移至 Guava。*从 A 中排除它。使用 Maven，您可以使用项目*POM中依赖项标记下方的排除标记来执行此操作：

```
 <dependency>
        <groupId>org.project</groupId>
        <artifactId>library-a</artifactId>
        <version>[version]</version>
        <exclusions>
            <exclusion>
                <!-- whatever the correct values are -->
                <artifactId>google-collections</artifactId>
                <groupId>google-collections</groupId>
            </exclusion>
        </exclusions>
    </dependency> 
```

# magento - Magento 如何从用户那里获取每个产品的输入

> ID：13191143
> 
> 赞同：0
> 
> 时间：2012-11-02T07:35:47.090
> 
> 标签：magento, e-commerce, checkout

我正在研究magento。现在，在此每个产品中都需要包含输入字段（下拉列表、单选按钮）的表单，客户将在其中输入他们的值，并且应该与该产品一起存储以供结帐和稍后打印。

主要是每个产品都将具有用户输入的所有值应该为该产品存储

我该如何处理，请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T10:31:28.220

您可以在产品信息下创建自定义变体和选项（您在创建产品时获得此选项）

# scrum - 设计任务应该是用户故事吗？

> ID：13191145
> 
> 赞同：3
> 
> 时间：2012-11-02T07:36:04.340
> 
> 标签：scrum, user-stories

我试图弄清楚何时使用用户故事是合适的。总是与否？

例如，考虑一个团队从头开始工作，比如电影票预订服务。为该功能想出用户故事很容易，例如：“作为最终用户，我希望能够浏览在 X 影院放映的电影”等等。

但在实现这些之前，需要设计系统：必须设计架构，必须设计数据库，为 GUI 和业务逻辑选择技术。

这些任务应该如何出现在 backlog 中？它们也应该是用户故事吗？如果是这样，他们如何遵守 INVEST 助记符？它们并不单独为最终用户提供任何东西，但是在实现任何功能之前都需要它们。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-02T10:10:46.903

> 但在实现这些之前，需要设计系统：必须设计架构，必须设计数据库，为 GUI 和业务逻辑选择技术。

不太同意。由于故事是一个功能，它几乎需要架构的每一层来实现故事，同时构建架构。检查 Alistair Cockburn 的[步行骨架](http://alistair.cockburn.us/Walking+skeleton)定义。

## 关于问题

您可以将大多数故事定义为“作为用户......”作为故事可能具有 UI 工作的功能。因此，为了清楚起见，您可以将故事分成子任务。尽管有些工作很难在 INVEST 用户故事中呈现。例如错误，技术。部门等等。它们仍然以特殊类型的故事（错误、技术故事）的形式呈现。您无法在 Demo 上展示它们，但是您可能会提到。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T16:06:09.667

`(...) before those can be implemented, the system needs to be designed: Architecture must be designed, database must be designed, technologies chosen for the GUI and business logic. (...)`

不完全是。例如，您不需要为实现冲刺、特定版本或任何给定时间的功能而设计的整个数据库。你*可能*需要一些共同点。

这是敏捷的一位美女（与瀑布相比）生活的地方，欢迎变化。

**现在，回答您的问题：**意识到用户故事中的*角色*不一定是最终客户的角色。可能是您的开发人员、系统管理员等。因此：

```
AS A server administrator,
I WANT to upgrade our webserver
SO THAT it will handle better the memory consumption 
```

因此，您可以~~要求~~说服您的 PO 在待办事项列表中添加或优先考虑用户故事（或多个），以便为未来的发展奠定基础。**但是，在创建此类故事时，请再次记住*响应变化*的敏捷价值。**

* * *

附言

保持产品待办列表清晰和可访问，并在 PO 和开发团队之间提供适当的交互也很重要。这应该由 Scrum Master 指导。

这样，团队可以从技术角度提供更好的反馈/警告 PO，一个故事如何相互影响，以及为什么故事 X 应该在故事 Y 之前完成。

# magento - 在 magento 中设置 memcache 会话后的登录问题

> ID：13191147
> 
> 赞同：1
> 
> 时间：2012-11-02T07:36:23.650
> 
> 标签：magento, login, memcached

进行以下更改后，管理员和客户无法登录 magento：我通过使用以下行编辑本地 xml 在 magento 中启用了 memcache 会话

```
 <session_save><![CDATA[memcache]]></session_save>
    <session_save_path><![CDATA[tcp://XX.XX.XX.XX:11212?persistent=0&weight=2&timeout=10&retry_interval=10]]></session_save_path>
    <!--session_save><![CDATA[files]]></session_save--> 
```

之后我从管理员清除了magento缓存，之后我无法重新登录到管理面板，也无法从前端登录。

这个问题有什么解决办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-03T06:48:29.430

重新启动 mem-cached(server) 后它工作正常

# excel - 如何在不使用剪贴板的情况下从 Excel 复制到 Word？

> ID：13191157
> 
> 赞同：0
> 
> 时间：2012-11-02T07:36:56.943
> 
> 标签：excel, ms-word, vsto, clipboard, copy-paste

我编写了一个 C# 应用程序，它使用 Excel.Range.CopyPicture 或 Excel.Range.Copy 方法将 Excel 工作簿的单元格区域复制为 Microsoft Word 文档中的图像。但是处理大型 Excel 文件可能需要一些时间，如果用户在此过程中在其他应用程序中使用剪贴板，我的应用程序可能会崩溃。我想知道是否有一种方法可以在不使用剪贴板的情况下将 Excel 单元格范围复制为 Word 文档中的图像，以避免此类问题。

谢谢你的帮助，朱利安

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T13:41:40.300

像您正在做的那样将图像复制到剪贴板，然后立即将该图像保存为代码中的图像怎么样？这样，您仍然可以使用旧程序并在内部存储图像 - 不再依赖剪贴板。

我在本周早些时候提出的一个问题中做了完全相同的事情 - 查看我发布的解决方案： [在 WebBrowser 控件中控制 Excel](https://stackoverflow.com/questions/13144756/control-excel-within-webbrowser-control)

只需根据需要使用图像，因为您已将其存储在内部，并尽快将其设置为空，以节省内存。

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T07:53:44.803

有一个解决方案，我很久以前就使用过：将数据复制到新工作表并将该工作表另存为 pdf，然后从 pdf 中提取图片，然后将该图片另存为新文件。在Word中，使用addpicture方法从磁盘加载文件...很笨拙，但是很可靠....

# html - Float left 在 ipod、android 智能手机等移动设备中不起作用

> ID：13191159
> 
> 赞同：1
> 
> 时间：2012-11-02T07:37:19.163
> 
> 标签：html, css, ipod, smartphone

浮动左“li”在 ipod、android 设备中不起作用。但它在笔记本电脑/台式机的所有主要浏览器中都能完美运行。代码在这里：

```
<ul class="clsvideos clearfix">
<li>
    <div class="home-thumb">
        <div class="home-play-container">
            <div class="play-button-hover">
                <div class="movie-entry yt-uix-hovercard">
                    <div class="tooltip">
                        <a href="/index.php/component/deentube/player/Education-Travel/Abdul-Basit-reciting-Surah-Infitar" class="info_hover"><img class="yt-uix-hovercard-target" src="http://img.youtube.com/vi/pF6Yq7DrJKA/1.jpg" border="0" width="140" height="83" title=""> </a>
                        <div class="Tooltipwindow clearfix">
                            <img src="http://video.muslimbackyard.com/templates/videoplus/images/tip.png" class="tipimage">
                            <div class="clearfix"><span class="clstoolleft">Category : </span><span class="clstoolright">Education &amp; Travel</span></div>

                            <span class="clsdescription">Description : </span><p>Abdul Basit reciting Surah Infitar - amazing tajweed! mash'Allah!</p><div class="clearfix"> <span class="clstoolleft">Rating : </span>                                                                    <div class="clstoolright ratingvalue ratethis1 fivepos1"></div>                                                            
                                <div class="clearfix"><span class="clstoolleft"> Views:</span>                                                                        <span class="clstoolright">58                                                                        </span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="show-title-container">
                <a href="/index.php/component/deentube/player/Education-Travel/Abdul-Basit-reciting-Surah-Infitar" class="show-title-gray info_hover">Abdul Basit reciting Surah Infitar </a>
            </div>
            <span class="video-info">  <a href="/index.php/component/deentube/category/Education-Travel">Education &amp; Travel                                                                    </a> </span>
            <div class="video-info clearfix">
                <div class="clsratingvalue"><span class="ratethis1 fivepos1 "></span></div>
                <div class="clsvideosviews">58 Views</div>
            </div>
        </div>
    </div></li>
<li>
    <div class="home-thumb">
        <div class="home-play-container">
            <div class="play-button-hover">
                <div class="movie-entry yt-uix-hovercard">
                    <div class="tooltip">
                        <a href="/index.php/component/deentube/player/Sports-Gaming/How-the-Bible-Led-Me-to-Islam-The-Story-of-a-Former-Christian-Youth-Minister-Joshua-Evans" class="info_hover"><img class="yt-uix-hovercard-target" src="http://img.youtube.com/vi/IYMKQKSV0bY/1.jpg" border="0" width="140" height="83" title=""> </a>
                        <div class="Tooltipwindow clearfix">
                            <img src="http://video.muslimbackyard.com/templates/videoplus/images/tip.png" class="tipimage">
                            <div class="clearfix"><span class="clstoolleft">Category : </span><span class="clstoolright">Sports &amp; Gaming</span></div>
                            <span class="clsdescription">Description : </span><p>How the Bible Led Me to Islam: The Story of a Former Christian Youth Minister - Joshua Evans</p><div class="clearfix"> <span class="clstoolleft">Rating : </span>                                                                    <div class="clstoolright ratingvalue ratethis1 fourpos1"></div>                                                            
                                <div class="clearfix"><span class="clstoolleft"> Views:</span>                                                                        <span class="clstoolright">41                                                                        </span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="show-title-container">
                <a href="/index.php/component/deentube/player/Sports-Gaming/How-the-Bible-Led-Me-to-Islam-The-Story-of-a-Former-Christian-Youth-Minister-Joshua-Evans" class="show-title-gray info_hover">How the Bible Led Me to Islam: The ... </a>
            </div>
            <span class="video-info">  <a href="/index.php/component/deentube/category/Sports-Gaming">Sports &amp; Gaming                                                                    </a> </span>
            <div class="video-info clearfix">
                <div class="clsratingvalue"><span class="ratethis1 fourpos1 "></span></div>
                <div class="clsvideosviews">41 Views</div>
            </div>

        </div>
    </div></li> 
```

对应的CSS是：

```
.clsvideos li:first-child {
width: 140px;
float: left;
padding: 14px 10px 0 0;
display: block;
}
.clsvideos li {
height: 155px;
width: 140px;
padding: 14px 10px 0 9px;
border-right: 1px dotted #CFCFCF;
border-bottom: 1px dotted #CFCFCF;
float: left;
} 
```

直播网址：http: [//video.muslimbackyard.com/](http://video.muslimbackyard.com/)

注意：在智能手机中打开该站点并停止。请注意热门视频、最近视频部分的设计问题。你会知道问题出在哪里。

最早等待解决方案

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:10:32.993

实际上问题是，开发人员没有关闭“li”中的最后一个“div”，这导致了这个错误......

“所以在编写核心 php 时要小心前端代码”。这就是我对开发人员的建议。

# symfony - 如何以 symfony2 形式订购相关的推进模型

> ID：13191167
> 
> 赞同：3
> 
> 时间：2012-11-02T07:38:10.527
> 
> 标签：symfony, propel

我正在使用 symfony2 形式和推进。我在如何从推进模型中订购相关实体时遇到了麻烦。

下面的抽象代码取自[http://www.propelorm.org/cookbook/symfony2/mastering-symfony2-forms-with-propel.html](http://www.propelorm.org/cookbook/symfony2/mastering-symfony2-forms-with-propel.html)，它显示了如何将它们关联在一起。我想知道如何订购它们。

```
$builder->add('author', 'model', array(
    'class' => 'Acme\LibraryBundle\Model\Author',
)); 
```

例如，如果在我的作者表中有列名称、年龄、....应该如何按名称排序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:30:00.840

```
$builder->add('author', 'model', array(
    'class' => 'Acme\LibraryBundle\Model\Author', 
    'query' => \Acme\LibraryBundle\Mode\AuthorQuery::create()->orderByName()
)); 
```

# android - Sqlite Android中的斜体/粗体字体

> ID：13191172
> 
> 赞同：1
> 
> 时间：2012-11-02T07:38:41.303
> 
> 标签：android, database, android-sqlite

我正在开发使用 sqlite 数据库的应用程序。我成功地以各种语言存储字符串并从数据库中获取。

但我的问题是**我想以粗体或斜体形式存储它。**

可能吗 ？？如果是，那么我怎样才能做到这一点？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T07:44:05.430

使用 html 格式化字符串。
当您想显示它们时，请使用`Html.fromhtml( your string)`
Eg

```
 String myboldstring = <b>boldy</b>
 textView.setText(Html.fromhtml(myboldstring)); 
```

是你想要的吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:06:16.993

作为 LazyN 解决方案的替代方案，我建议您考虑为这种上下文使用标准的*[降价](http://en.wikipedia.org/wiki/Markdown)***语言（就像堆栈溢出**一样）。有几个优点：

1.  在网络上广泛使用，因此您的用户可能会了解如何使用它。

2.  从无法注入恶意 HTML/javascript 的意义上说，安全性要高得多；一旦您按照 LazyN 的建议允许任何 HTML，这很难防止

3.  存储/导出/导入等都很简单，因为它都是合法的文本字符串

# actionscript-3 - 我如何在 Flex 中找到该字符串包含超过 6 次的字符？

> ID：13191173
> 
> 赞同：0
> 
> 时间：2012-11-02T07:38:46.370
> 
> 标签：actionscript-3, apache-flex, flex4, flash-builder

我想实现一个算法/验证。如何确定一个字符串在 Flex 中是否包含超过 6 次的特定字符？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:34:58.133

有两种方法，我能想到：

1.  像这样使用[RegExp](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/RegExp.html?filter_flash=cs5&filter_flashplayer=10.2&filter_air=2.6)和[.replace()](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/String.html#replace%28%29)：

    ```
    var ch:String = "a";    //Character, that must be checked
    var text:String = "This is an example to show how many times '"+ch+"' occured.";
    //Matches non-`ch` characters
    var regexp:RegExp = new RegExp("[^"+ch+"]","g");   
    //Replacing non-`ch` characters with empty string
    var timesOccured:Number = text.replace(regexp,"").length;  
    trace(text, ": " ,timesOccured ); 
    ```

2.  像这样使用[RegExp](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/String.html#replace%28%29)和[.match()](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/String.html#match%28%29)：

    ```
    var ch:String = "a";    //Character, that must be checked
    var text:String = "This is an example to show how many times '"+ch+"' occured.";
    //Matches `ch` characters
    var regexp:RegExp = new RegExp(ch,"g");
    var matches:Array = text.match(regexp);
    var timesOccured:Number = 0;
    //`matches` can be 'null', so we are performing additional check
    if( matches ){   
        timesOccured = matches.length;
    }
    trace(text, ": " ,timesOccured ); 
    ```

现在，当您拥有 时`timesOccured`，您可以轻松地进行验证：

```
if( timesOccured > 6 ){
   //Do some stuff
}else{
   //Do other stuff
} 
```

**警告：**如果您`ch`是正则表达式的特殊字符，如`.`, `+`, `(`, `]`, `\`, 等...，您需要在将其传递给变量之前对其进行*转义：*`regexp`

```
ch = ch.replace(new RegExp("[.*+?|()\\[\\]{}\\\\]", "g"), "\\$&"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-02T13:49:33.243

正则表达式的更简单替代方法如下：

```
var str:String = "This is an example to show how many...";
//find occurrences for character 'a'

trace("Ocurrences:" + str.split('a').length-1); 
```

# wpf - 我应该在这里使用 Geometry.Freeze 吗？

> ID：13191174
> 
> 赞同：1
> 
> 时间：2012-11-02T07:38:48.837
> 
> 标签：wpf, geometry, shapes

当 WPF 项目被冻结时，文档说它无法更改。我只是不太确定在这种情况下*“变化”*是什么意思。

例如，如果我创建一个形状的实例然后冻结它，即使它被冻结，是否可以执行旋转或平移之类的操作？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-02T08:25:32.540

### 简短的回答：

一旦对象被冻结，您就不能修改它的任何属性。这递归地适用。

### 更长的答案：

首先，[Shape](http://msdn.microsoft.com/en-us/library/system.windows.shapes.shape.aspx)类（以及因此 Path、Ellipse、Rectangle 等）是不可冻结的。

但是假设您谈论的是可冻结的[Geometry](http://msdn.microsoft.com/en-us/library/system.windows.media.geometry.aspx)，那么一般答案是**否定**的，因为尝试修改冻结对象的属性是不可能的。例如下面的代码会抛出异常

```
var geo = new LineGeometry();
geo.Freeze();
// InvalidOperationException:
geo.Transform = new TranslateTransform(10, 10); 
```

并且冻结是递归的，所以**不可能**像这样欺骗系统：

```
var tx = new TranslateTransform(10, 10);
var geo = new LineGeometry();
geo.Transform = tx;
geo.Freeze();
// InvalidOperationException:
tx.X = 20; 
```

* * *

但是，回到你最初关于形状的问题，它是由几何构造的（但不是从它们派生的）。

您可以冻结形状的几何形状，并仍然对该形状应用变换。这是有效的，因为变换是在形状对象上，而不是在可冻结对象上：

```
var geo = new LineGeometry(new Point(0,0), new Point(10,10));
geo.Freeze();
var myShape = new Path { Data = geo };
// This is fine, even though the geometry is frozen
myShape.RenderTransform = new TranslateTransform(10, 10); 
```

# internet-explorer - 为什么我的网页不能仅与 IE 正确对齐？

> ID：13191176
> 
> 赞同：0
> 
> 时间：2012-11-02T07:38:57.333
> 
> 标签：internet-explorer, cross-browser

我已经使用 twitter bootstrap 创建了一个网页，该网页适用于除 Internet Explorer 9 之外的所有浏览器。对于这个问题，我用谷歌搜索了一个线索，可以通过按 F12 来使用 IE 的开发人员工具。在使用该开发人员工具时，我将文档模式从 quirks 更改为 IE 标准 9 和 8，这给了我与我要求的格式完全相同的输出，或者我们可以说哪个给我的输出与其他浏览器给我的一样。

所以我的问题是：这是我需要在我的 phtml 页面中做的改变吗？

我已经尝试过更改 Doctype，但它对我不起作用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T03:55:13.823

在你的页眉中试试这个

```
<!-- this meta tag is used to force IE9 to work with HTML5 and CSS3 -->
<meta http-equiv="X-UA-Compatible" content="IE=9" /> 
```

当然，`<!DOCTYPE html>`

# scala - 如何对 playframework 2 应用程序进行单元测试

> ID：13191180
> 
> 赞同：2
> 
> 时间：2012-11-02T07:39:10.037
> 
> 标签：scala, playframework-2.0

> **可能的重复：**
> [播放中的模拟对象[2.0]](https://stackoverflow.com/questions/10053424/mock-objects-in-play2-0)

我正在学习 Scala 和 playframework，同时开发一个简单的应用程序。一件事让我很沮丧。我有很强的 C# 背景，并且习惯于用经典术语进行单元测试——模拟底层服务并只测试给定类中的代码。

问题是 - 如何对 Scala 编写的 playframework 应用程序进行单元测试？playframework 手册提出的测试方式 - 是一种集成测试，这很好，但不是我需要的东西。特别是 - 如何模拟数据访问层？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-03T23:26:30.390

当您无法通过在测试之前在应用程序中加载太多依赖项来隔离测试时，通常需要创建模拟对象。当您在 Play 2.X 中测试您的数据访问层时，您没有这个限制。因此，您需要做的就是使用 Specs2`Specification`并使用`FakeApplication(additionalConfiguration = inMemoryDatabase()`

然后可以像这样编写完整的测试：

```
class ProjectSpec extends Specification {

  "Project model" should {

    "be created with id and name" in {
      running(FakeApplication(additionalConfiguration = inMemoryDatabase())) {
        val beforeCount = Project.count
        val project = Project.create(Project("Test name", "Test description"))
        project.id must beSome
        project.name must equalTo("Test name")
        Project.count must equalTo(beforeCount + 1L)
      }
    }
  }
} 
```

# c - 将数组分配给函数宏

> ID：13191181
> 
> 赞同：0
> 
> 时间：2012-11-02T07:39:16.740
> 
> 标签：c, arrays, function, macros

我最近遇到了下面的代码，其中宏定义如下

```
unsigned char cbuf[10];
#define pbuf() (&cbuf[0]) 
```

谁能解释一下`#define`（宏观定义）行中正在做什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T07:41:56.507

当代码包含`pbuf()`时，预处理器（在实际编译之前运行）将其替换为`(&cbuf[0])`，基本上改变了提供给实际编译器的源代码。

因此，宏的目的是提供 cbuf 变量的第一个元素的地址（该变量在当前范围内，因为预处理器实际上只是在不知道上下文的情况下进行“字符串替换”）。这有点多余，因为数组的名称也是它的第一个元素的地址......

换句话说，无论你在哪里使用`pbuf()`，直接写`cbuf`。

# jquery - jqGrid 提交后

> ID：13191183
> 
> 赞同：3
> 
> 时间：2012-11-02T07:39:26.683
> 
> 标签：jquery, json, validation, http, jqgrid

我正在返回一个名为**insertStatus**的 JSON 值，我想从**aftersubmit**函数中获取它，如下所示：

```
var addOptions = 

      { 
          closeOnEscape: true,
          width:500,
          url: 'addMember', 
          savekey: [true, 13],
          afterSubmit : function(response, postdata) 
          { 
              alert(response.insertStatus);
          },
          resize : false,
          closeAfterAdd: true
      }; 
```

但我只会显示消息“未定义”。

我试图将 InsertStatus 的值作为 JSON 获取，因为该值会告诉我新记录的插入是否已成功保存到数据库中。如果我无法从这里获取 JSON 值，也许我应该采用另一种方法？

我之前将 errorText 用于另一个任务，我没有返回 JSON 值，而是返回了带有自定义错误消息的 HTTP 错误状态。哪个是最好的方法？即使第二种方法更好，我也很想知道第一种方法的答案。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-02T08:40:25.130

jqGrid的表单编辑模块使用`complete`回调`jQuery.ajax`而不是典型的`success`回调（见[源码](https://github.com/tonytomov/jqGrid/blob/v4.4.1/js/grid.formedit.js#L709-729)）。所以`afterSubmit`回调的第一个参数（`response`参数）是对象，在 jqGrid 文档中将被命名为`jqXHR`. 它是`XMLHttpRequest`. 所以你应该使用`responseText`属性来访问来自服务器的普通响应。如果服务器返回`insertStatus`编码为 JSON 字符串的对象，那么您必须先解析 JSON 字符串`response.responseText`，然后才能获取`insertStatus`属性。对应的代码`afterSubmit`大概如下：

```
afterSubmit: function (response, postdata) {
    var res = $.parseJSON(response.responseText);
    if (res && res.insertStatus) {
        alert(res.insertStatus);
    }
    // you should don't forget to return
    //     return [true, ""];
    // in case of successful editing and return
    //     return [true, "", newId];
    // with the Id of new row generated from the server
    // if you would use reloadAfterSubmit: false
    // option of editGridRow
} 
```

# iphone - 如何将 Xcode 项目转换为静态库或框架？

> ID：13191193
> 
> 赞同：14
> 
> 时间：2012-11-02T07:40:24.247
> 
> 标签：iphone, objective-c, frameworks, static-libraries

我有一个项目，我需要将其作为框架导入到其他项目中，就像我们如何导入 Coredata 框架、Quartzcore 等一样。如何实现？如何将我的项目编译成可以导入其他项目的库或框架？请说明步骤。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T07:58:28.107

[https://github.com/jverkoey/iOS-Framework](https://github.com/jverkoey/iOS-Framework)试试这个链接来创建框架和资源包触摸静态库项目。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-02T08:10:35.337

如果你想编译一个像 UIKit.framework 这样的“标准”框架，试试这个[Universal Framework iPhone iOS](http://db-in.com/blog/2011/07/universal-framework-iphone-ios-2-0/)

别的

1.  创建一个名为“TestPlugin”的新项目并选择类型“Cocoa touch Static Library”。在这里，您将有一个目标“TestPlugin.a”。
2.  添加新目标。在项目设置的左角，名称为：'Add Target'。在“OS X”的“框架和库”中选择“捆绑”。这是您的第二个目标，名为“TestPluginBundle.bundle”。
3.  在您的 TestPlugin.a 目标的“构建短语”设置中，添加一个新的“目标依赖项”。这将首先生成 .bundle 文件，然后生成 .a 文件。
4.  将所有“原始”项目的文件（不包括 main.m 和 .xcodeproj 文件）复制并添加到 TestPlugin 项目。
5.  在 TestPluginBundle 的“构建阶段”设置中，将所有 .xib .png(maybe .jpg) 文件添加到“编译源”。将空间资源（如 .wav、.gif 和 .html）添加到“复制捆绑资源”。
6.  将所有从主包加载资源的代码替换为从 TestPluginBundle 加载资源。也许你想为 UIImage 添加一个类别，因为你想使用`imageNamed:`这样你就可以使用`[UIImage testPluginImageNamed:@"small.png"]`. 在您的项目中进行替换并添加相关的头文件很容易。以 .xib 文件为例：

    ```
    - (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
    {
        //self = [super initWithNibName:nibNameOrNil bundle:[NSBundle mainBundle]];
        // you need to define a method to get the bundle 'TestPluginBundle.bundle', here I used '[TestPlugin TestPluginBundle]'
        self = [super initWithNibName:nibNameOrNil bundle:[TestPlugin TestPluginBundle]];
        ...
    } 
    ```

7.  在此之后将 .a 文件和 .bundle 文件添加到另一个项目。在另一个项目中，您需要再次添加相关框架。

我已经成功地将这种方法用于我的工作。

# cordova - 如何通过phonegap在Facebook活动上上传照片？

> ID：13191197
> 
> 赞同：5
> 
> 时间：2012-11-02T07:40:47.573
> 
> 标签：cordova

我正在研究 Phonegap 。

现在我正在使用这个： -

```
$.post("https://graph.facebook.com/"+Event_Id, { 
     "Photos":uri,
     "access_token": fbAccessToken
},
function(data){

    Some code here

}, "json"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-11T13:38:06.543

我知道无法上传单张照片的痛苦。经过不眠之夜和几天的研究，我终于让它与科尔多瓦文件传输插件一起工作

首先添加插件：`cordova plugin add org.apache.cordova.file-transfer`

然后，使用此代码（请注意，我使用的是 angular.js。不要使用用户承诺或使用 rsvp 或 Q 之类的库来做出承诺）：

```
function postImage(fileURI, message) {

    var deferred = $q.defer();

    var win = function (r) {

        deferred.resolve(r);
    }

    var fail = function (error) {

        deferred.reject(error);
    }

    var options = new FileUploadOptions();
    options.fileKey = "file";
    options.fileName = 'name_of_photo_' + Math.round((+(new Date()) + Math.random()));
    options.mimeType = "image/jpg";

    var params = new Object();
    params.access_token = "your facebook access token ;)";
    params.message = message;
    params.no_story = false;

    options.params = params;

    var ft = new FileTransfer();
    ft.upload(fileURI, "https://graph.facebook.com/v2.0/me/photos", win, fail, options);

    return deferred.promise;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T08:01:32.240

也许试试这个方法，它对我有用：（imageData 必须是图像的二进制表示）

```
function PostImageToFacebook(authToken, filename, mimeType, imageData)
{
    if (imageData != null)
    {
        //Prompt the user to enter a message
        //If the user clicks on OK button the window method prompt() will return entered value from the text box. 
        //If the user clicks on the Cancel button the window method prompt() returns null.
        var message = prompt('Facebook', 'Enter a message');

        if (message != null)
        {
            // this is the multipart/form-data boundary we'll use
            var boundary = '----ThisIsTheBoundary1234567890';

            // let's encode our image file, which is contained in the var
            var formData = '--' + boundary + '\r\n'
            formData += 'Content-Disposition: form-data; name="source"; filename="' + filename + '"\r\n';
            formData += 'Content-Type: ' + mimeType + '\r\n\r\n';
            for (var i = 0; i < imageData.length; ++i)
            {
                formData += String.fromCharCode(imageData[ i ] & 0xff);
            }
            formData += '\r\n';
            formData += '--' + boundary + '\r\n';
            formData += 'Content-Disposition: form-data; name="message"\r\n\r\n';
            formData += message + '\r\n'
            formData += '--' + boundary + '--\r\n';

            var xhr = new XMLHttpRequest();
            xhr.open('POST', 'https://graph.facebook.com/me/photos?access_token=' + authToken, true);
            xhr.onload = xhr.onerror = function() {
            };
            xhr.setRequestHeader("Content-Type", "multipart/form-data; boundary=" + boundary);
            xhr.sendAsBinary(formData);
        }
    }
} 
```

希望这可以帮助 ！再见 ！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-08T11:14:25.253

我希望这会有用。通过仅在 javascript 的帮助下将照片上传到 FB，您可以使用以下方法。这里需要的东西是imageData（这是base64格式的图像）和mime类型。

```
try{
        blob = dataURItoBlob(imageData,mimeType);
}catch(e){console.log(e);}
var fd = new FormData();
fd.append("access_token",accessToken);
fd.append("source", blob);fd.append("message","Kiss");
try{
   $.ajax({
        url:"https://graph.facebook.com/" + <<userID received on getting user details>> + "/photos?access_token=" + <<user accessToken>>,
        type:"POST"
        data:fd,
        processData:false,
        contentType:false,
        cache:false,
        success:function(data){
            console.log("success " + data);
        },
        error:function(shr,status,data){
            console.log("error " + data + " Status " + shr.status);
        },
        complete:function(){
            console.log("Ajax Complete");
        }
    });

}catch(e){console.log(e);}

function dataURItoBlob(dataURI,mime) {
    // convert base64 to raw binary data held in a string
    // doesn't handle URLEncoded DataURIs

    var byteString = window.atob(dataURI);

    // separate out the mime component

    // write the bytes of the string to an ArrayBuffer
    //var ab = new ArrayBuffer(byteString.length);
    var ia = new Uint8Array(byteString.length);
    for (var i = 0; i < byteString.length; i++) {
        ia[i] = byteString.charCodeAt(i);
    }

    // write the ArrayBuffer to a blob, and you're done
    var blob = new Blob([ia], { type: mime });

    return blob;
} 
```

# android - 如何更新除进度条以外的适配器？

> ID：13191204
> 
> 赞同：1
> 
> 时间：2012-11-02T07:41:12.887
> 
> 标签：android, adapter

我有一个自定义适配器来在 gridview 中显示一些图像。

```
public class CustomAdapter extends BaseAdapter {

    private Context context;

    ArrayList<String> list = null;

    public CustomAdapter (Context context, ArrayList<String> list) {
        this.context = context;
        this.list = list;
    }

    l
    public int getCount() {
        return list.size();
    }

    public Object getItem(int paramInt) {
        return paramInt;
    }

    public long getItemId(int paramInt) {
        return paramInt;

    }

    public View getView(int position, View child, ViewGroup parent) {
        String string= list.get(position);
        Bitmap bitmap = null;
        LayoutInflater inflater = LayoutInflater.from(context);
        View view = inflater.inflate(R.layout.grid_item, null);
        RelativeLayout parentLayout = (RelativeLayout) view
                .findViewById(R.id.parentLayout);

        ImageView iView = (ImageView) view.findViewById(R.id.imageView);
        final ProgressBar progress = (ProgressBar) view.findViewById(R.id.progress);

        if (string != null) {
            bitmap = BitmapFactory.decodeFile(string);
        } else {
            bitmap = BitmapFactory.decodeResource(context.getResources(),
                    R.drawable.img_loading);
        }
        iView.setImageBitmap(bitmap);
        iView.setTag(position);

        return view;
    }

} 
```

这是GridView的适配器。选择GridView项时，它会下载相应的文件，并且ProgressBar使可见。但是当我调用 notifyDatasetChanged() 时，进度条保持其初始状态。

即使调用 notifyDatasetChanged()，我如何保持/显示进度条的状态/进度？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T07:55:12.017

当您执行 notifyDatasetChanged() 时 - 为列表中的所有可见项目调用 getView。你的进步被破坏了，因为它是一个新的观点。一项优化可能是使用 convertView 并检查（通过列表中的字符串值）convertedView 是否与以前的视图相同。当您在大多数情况下不移动列表时，convertView 应该是完全相同的视图，您可以进行更改并返回它。这将是相同的progressBar，因此不会丢失进度。为了使它在所有情况下都能正常工作，您应该记住所有当前下载项目的进度，例如（字符串的哈希图、整数所以 name->progress）并在 getView 方法中获取当前进度。

```
getView(...){
   String string= list.get(position);
   Integer progress = map.get(string);
   if (progress != null){
      final ProgressBar progress = (ProgressBar) view.findViewById(R.id.progress);
      progress.setProgress(progress);
   }
   ....
} 
```

PS。在您的代码中，我看到：

```
public View getView(int position, View child, ViewGroup parent) 
```

getView 中的第二个参数不是“子”而是“convertView” - 用于优化列表。主要思想是只有在 convertView 为空时才应该为视图充气，否则应该更新并使用它。这总是从屏幕上消失的视图。

编辑：我忘了一件事。我想在下载过程中你会更新进度条。您的下载器任务保留对他更新的 ProgressBar 的引用。您将需要给他您的新进度条或保存他正在使用的进度条（例如 HashMap String -> ProgressBar 而不是 Integer）并以某种方式在您的 getView 方法中使用它。例如 addChild... 当您确保这始终是 ProgressBar 的同一个实例时 - 一切都会正常工作:)

# parsing - Python解析错误消息函数

> ID：13191210
> 
> 赞同：0
> 
> 时间：2012-11-02T07:42:15.933
> 
> 标签：parsing, function, parameter-passing

下面的代码是我在许多 SO 资深人士的帮助下创建的：

该代码采用输入的数学表达式并将其拆分为运算符和操作数以供以后使用。我创建了两个函数，拆分的解析函数和错误函数。我遇到了错误函数的问题，因为它不会显示我的错误消息，而且我觉得在代码运行时该函数被忽略了。如果输入这样的表达式，则应打印错误：3//3+4 等。其中有两个运算符一起，或者整个表达式中有两个以上的运算符，但错误消息不打印。我的代码如下：

```
def errors():

    numExtrapolation,opExtrapolation=parse(expression)
    if (len(numExtrapolation) == 3) and (len(opExtrapolation) !=2):
        print("Bad1")
    if (len(numExtrapolation) ==2) and (len(opExtrapolation) !=1):
        print("Bad2")

def parse(expression):
    operators= set("*/+-")
    opExtrapolate= []
    numExtrapolate= []
    buff=[]
    for i in expression:
        if i in operators:
            numExtrapolate.append(''.join(buff))
            buff= []
            opExtrapolate.append(i)
            opExtrapolation=opExtrapolate
        else:
            buff.append(i)
    numExtrapolate.append(''.join(buff))
    numExtrapolation=numExtrapolate
    #just some debugging print statements
    print(numExtrapolation)
    print("z:", len(opExtrapolation))
    return numExtrapolation, opExtrapolation

    errors() 
```

任何帮助，将不胜感激。请不要引入比此处已有代码更高级的新代码。我正在寻找解决我的问题的方法......不是大的新代码段。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T10:58:36.583

errors() 函数在 parse() 返回后被调用，因为它出现在 parse() 的主体中。希望这是一个错字。

对于这个特定的输入，numExtrapolate 附加了一个空缓冲区，因为 / 和 / 之间没有操作数。这使得它的长度为 4 并且您对 Bad1 的检查失败。所以放一张这样的支票

```
 if buff:
     numExtrapolate.append(''.join(buff)) 
```

# c++ - 如何使用用户的输入停止程序的某个部分？

> ID：13191221
> 
> 赞同：2
> 
> 时间：2012-11-02T07:42:58.147
> 
> 标签：c++

我正在制作一个计算成绩的程序。我想知道如何根据用户的输入停止程序的某个部分。下面是我正在开发的程序。如果用户输入“完成”，我如何停止程序？另外，我不一定要使用“完成”来退出程序。我最初打算使用 -1，但我遇到了一个问题，我必须制作一个健壮的程序，其中不接受 < 0 和 > 100 的值。

```
 int grade;
   a=b=c=d=f=0;

   do
   {
      cout << "Enter a grade or enter done to stop. ";

      if (grade >= 90 && grade <= 100)
          {a++;}
      if (grade >= 80 && grade < 90)
          {b++;}
      if (grade >= 70 && grade < 80)
          {c++;}
      if (grade >= 60 && grade < 70)
          {d++;}
      if (grade >= 0 && grade < 60)
          {f++;}

   } while (grade != 'done'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T07:45:24.933

只做一个返回0？此外，除非您覆盖 = 运算符或其他内容，否则您不能执行 Grade = 'done'。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T07:53:03.850

要求用户输入**整数值**的最简单方法，它**超出了您希望**他输入的值范围（例如 -1）。“完成后 - 输入 -1”。
此外，如果`(grade = 'done')`-*分配*在这里，比较使用**operator==**，即

// 如果（等级 == '完成'）

或者您可以使用以下方法：

```
do
   {
      cout << "Enter a grade or enter done to stop. ";
      // first try to get string from user (which he/she enters when done)
      string str;
      cin >> str;
      if (str == "done") // if done was entered - exit from the loop
         break;
      // else clear fail bit in stream object and read int value
      cin.clear();
      cin >> grade;

      if (grade >= 90 && grade <= 100)
          {//a++;}
      if (grade >= 80 && grade < 90)
          {//b++;}
      if (grade >= 70 && grade < 80)
          {//c++;}
      if (grade >= 60 && grade < 70)
          {//d++;}
      if (grade >= 0 && grade < 60)
          {//f++;}

   } while (grade != 'done'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T07:57:12.567

首先，"grade" 是 int 类型，所以你不能将 int 转换为 *char，如果你希望 "grade" 是 int，那么你可以使用 -1 退出。或者如果你想用“done”退出，grade 可以是 char[5]，你可以使用 atoi() 将字符串转换为整数进行检查，并使用 strcmp() 将“grade”与“done”进行比较。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-02T07:57:27.623

您已经编写代码来输入字符串。然后，您可以测试字符串是否等于“完成”。如果不是，则将字符串转换为整数，然后您可以检查您的成绩界限。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-02T08:00:11.477

如果你真的想使用数字和字符串，我建议使用 stringstreams。这是一个例子：

```
string Text = "456";//string containing the number
int Result;//number which will contain the result

stringstream convert(Text); // stringstream used for the conversion initialized with the  contents of Text

if ( !(convert >> Result) )//give the value to Result using the characters in the string
    Result = 0;//if that fails set Result to 0
//Result now equal to 456 
```

[来源链接](http://www.cplusplus.com/forum/articles/9645/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-02T08:05:14.657

首先，单引号表示字符文字，双引号表示以空字符结尾的字符串（2.14 左右）。

`if(grade = 'done')`将永远是真的，编译器应该向你发出警告，告诉你你没有做你认为你正在做的事情，你正在分配它然后检查它是否是真的，它永远都是。

而且您正在尝试将整数分配给字符串。

这似乎是家庭作业，所以我不会写它，但你需要从标准输入中获取一个字符串，然后解析它，例如它是一个整数还是字符串，对该数据的行为。要终止，您可以调用`exit`、中断循环或从函数返回。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-16T11:35:27.997

您可以将输入作为字符串，如果第一个字符不是数字则打破循环，否则将字符串转换为整数：

```
#include<iostream>
#include<string>
#include<cctype>
#include<cstdlib>

using namespace std;

int main() {
    int grade;
    string input;
    int a, b, c, d, f;
    a=b=c=d=f=0;

    do
    {
        cout << "Enter a grade or enter done to stop: ";
        cin >> input;
        cout << endl;
        if(!isdigit(input[0])) {
            break;
        } else {
            grade = atoi(input.c_str());
        }

        if (grade >= 90 && grade <= 100)
          {a++;}
        if (grade >= 80 && grade < 90)
          {b++;}
        if (grade >= 70 && grade < 80)
          {c++;}
        if (grade >= 60 && grade < 70)
          {d++;}
        if (grade >= 0 && grade < 60)
          {f++;}

    } while (1==1);

    cout << "a = " << a << endl;
    cout << "b = " << b << endl;
    cout << "c = " << c << endl;
    cout << "d = " << d << endl;
    cout << "f = " << f << endl;

    getchar();
    return 0;
} 
```

# php - 如何解决函数 sql_regcase() 在 php 中被弃用的问题

> ID：13191222
> 
> 赞同：1
> 
> 时间：2012-11-02T07:43:04.543
> 
> 标签：php, mysql

大家好，我已经编写了以下程序来保护应用程序。但执行后，我收到以下错误检查这里 PHP 代码

[http://pastebin.com/cgG5ezeg](http://pastebin.com/cgG5ezeg)

输出 ：

```
已弃用：函数 sql_regcase() 在第 6 行的 /home/admin/public_html/test/protect.php 中已弃用

警告：mysql_real_escape_string() [function.mysql-real-escape-string]：第 9 行 /home/admin/public_html/test/protect.php 中用户 'root'@'localhost' 的访问被拒绝（使用密码：否）

警告：mysql_real_escape_string() [function.mysql-real-escape-string]：无法在第 9 行的 /home/admin/public_html/test/protect.php 中建立到服务器的链接

```

以及请建议我更安全的方式！

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T07:46:52.010

关于 sql_regcase 函数：它在 PHP V5.3.0 中已被弃用，不应再使用。

[查看 PCRE 扩展。](http://www.php.net/manual/en/book.pcre.php)

**注意：不推荐使用 mysql_* 函数，因此请使用 pdo 或 mysqli**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T09:54:08.583

不要使用不推荐使用的函数。

第二个警告是由于数据库连接失败。您在数据库密码的位置设置了“否”。更改此设置并提供您的数据库密码。它会起作用的。

# javascript - 在 JavaScript 中使用 if 子句查询刷新的 UpdatePanel

> ID：13191224
> 
> 赞同：1
> 
> 时间：2012-11-02T07:43:06.993
> 
> 标签：javascript, asp.net, updatepanel

我在 UpdateProgress-Control 中有一个与 ModalPopupExtender 相结合的图像。要在网站加载时打开扩展器，我使用以下 Javascript：

```
<script type="text/javascript">
    Sys.WebForms.PageRequestManager.getInstance().add_beginRequest(showPopup);
    Sys.WebForms.PageRequestManager.getInstance().add_endRequest(hidePopup);

    function showPopup(sender, args) {
        var ModalControl = '<%= ModalPopupExtender1.ClientID %>';
        $find(ModalControl).show();
    }

    function hidePopup(sender, args) {
        var ModalControl = '<%= ModalPopupExtender1.ClientID %>';
        $find(ModalControl).hide();
    }
</script> 
```

这工作正常，但扩展器现在打开每个请求。它仅应在特定的 UpdatePanel 被强制刷新 (UpdatePanelMain) 时打开。我怎样才能在 Javascript 中做到这一点，例如： if(postbackelement == UpdatePanelMain) 之类的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T07:47:15.737

要获取 UpdatePanels id 并找到您赢得运行的 ID，您可以使用以下`args.get_postBackElement().id`函数：

```
function showPopup(sender, args) {
     // get the Post ID and compare it with the one you let run
     if(args.get_postBackElement().id == "<%=UpdatePanelMain.ClientID%>")
     {
       var ModalControl = '<%= ModalPopupExtender1.ClientID %>';
       $find(ModalControl).show();
     }
} 
```

类似问题： [How to get Id update panel that initial a request in javascript](https://stackoverflow.com/questions/10041169/how-to-get-id-update-panel-that-initial-a-request-in-javascript/10041337#comment12845818_10041337)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:48:59.217

所以这个解决方法就是我正在寻找的。感谢 Aristos 的提示。

```
var UpdPanelsIds = args.get_updatePanelsToUpdate();

if (UpdPanelsIds[0] != "") {
    if (UpdPanelsIds[0] != "ctl00$cpMain$UpdatePanelMenue" || args.get_postBackElement().id == '<%= refreshButton.ClientID %>') {
        var ModalControl = '<%= ModalPopupExtender1.ClientID %>';
        $find(ModalControl).show();
    }
} 
```

任何结论性的如何使这段代码“更好”一点？

# functional-testing - QTP 中的关联库不起作用

> ID：13191229
> 
> 赞同：3
> 
> 时间：2012-11-02T07:43:25.853
> 
> 标签：functional-testing, qtp

我是 QTP 的新手，刚开始使用它。我在一些函数库中编写了一个类定义，并且还创建了一个测试，如下所示：

```
Class ExcelFileReader
Public default Function Init(pathToExcel)
   Dim objFSO
   Dim result
   Set objFSO = CreateObject("Scripting.FileSystemObject")

   If objFSO.FileExists(pathToExcel) Then
            Rem File Found
            Dim objExcel
            Set objExcel = CreateObject("Excel.Application")
            objExcel.Workbooks.open(pathToExcel)

       Else
            REM File not found
            result = vbOk
            While result <> vbCancel
                result = Msgbox ("Unable to Locate the file", 5, "Error")
            Wend
            ExitAction(1)
       End If
End Function 
```

结束类

测试：

```
 Dim objExcelReader : Set objExcelReader = New ExcelFileReader
objExcelReader.Init("D:\mytest.xlsx") 
```

我已将功能库与测试相关联，但在测试中的第 2 行仍然出现错误，说明未找到类定义。此外，如果我在同一个文件“test”中复制完整的代码，那么事情就会按预期工作。

提前致谢 ：）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-02T12:04:15.603

类在您的库中具有本地范围。您必须使用公共功能构建它们以使它们公开可用：

```
Public Function new_ExcelFileReader()
    Set new_ExcelFileReader = new ExcelFileReader
End Function

Class ExcelFileReader
    Sub Class_Initialize
        MsgBox "Present!"
    End Sub
End Class 
```

在您的另一个库中：

```
Dim objExcelReader : Set objExcelReader = New_ExcelFileReader
objExcelReader.Init("D:\mytest.xlsx") 
```

Protip：您可以将初始化参数传递给您的构造函数。

**编辑**

根据要求：如何传递构造函数参数。只需将它们添加到您的构造函数中：

```
Public Function new_ExcelFileReader2(filepath, sheetname)
    Set new_ExcelFileReader2 = new ExcelFileReader
    new_ExcelFileReader2.Init(filepath, sheetname)
End Function

' And the call:
Set myExcelFileReader = new_ExcelFileReader2("C:\temp\tempExcel.xlsx", "sheet1") 
```

在我的实现中，有时我有相同的对象，但是由多个构造函数“配置”。在您的情况下，您可能有 a `new_ExcelFileReader`、 a`new_CSVFileReader`和 a`new_TabDelimitedReader`都指向同一个对象，但配置不同。

`me`另一种修饰代码的方法是通过 init 函数返回对象（使用关键字）。这将导致如下代码：

```
Class ExcelFileReader

    private filepath_
    public function Init(filepath)
        filepath_ = filepath
        Set Init = me
    end function

End Class

Set myExcelFileReader = new ExcelFileReader.Init("C:\temp\tmpExcel.xlsx") 
```

使用构造函数，您可以通过返回对象然后调用`Init`函数来使用它。

```
Public Function new_ExcelFileReader()   ' this is the same as the first function
    Set new_ExcelFileReader = new ExcelFileReader
End Function

Set myExcelFileReader = new_ExcelFileReader.Init("C:\temp\tmpExcel.xlsx") 
```

# actionscript-3 - 如何在flex中的日期字段上应用屏蔽？

> ID：13191230
> 
> 赞同：1
> 
> 时间：2012-11-02T07:43:30.613
> 
> 标签：actionscript-3, apache-flex, air, flex4.5, flashbuilder4

如何`datefield`在flex中应用遮罩？就像我在其中输入文本时`datefield`应该转换为`MM/DD/YYYY`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T10:47:44.530

设置事件中的**`formatString`**属性`DateField``change`

```
<mx:Script>
            <![CDATA[
                import mx.events.*;

                private function dateChanged(event:Event):void
                {
                    dateField1.formatString = "MM/DD/YYYY";
                }
            ]]>
</mx:Script>

<mx:DateField id="dateField1" change="dateChanged(event)" /> 
```

# css - 如何在不使用 dispaly:table-cell 的情况下调整两个相邻单元格的高度

> ID：13191233
> 
> 赞同：0
> 
> 时间：2012-11-02T07:43:49.387
> 
> 标签：css

任何人都可以帮助这个.. 我想使用 div 标签调整两个相邻的单元格高度，而不使用 display:table-cell。请尽可能尽快回复..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T09:55:18.300

我不相信你可以用简单的 CSS 做你想做的事情。

我建议使用像这样的 jQuery Equal Heights 插件：

[http://www.jainaewen.com/files/javascript/jquery/equal-height-columns.html](http://www.jainaewen.com/files/javascript/jquery/equal-height-columns.html)

您只需将 jQuery 和插件加载到您的页面上，然后像这样使用它：

```
$('.myCLASSorIDorWHATEVER').equalHeightColumns(); 
```

希望有帮助。

# php - 使用 ajax、jquery 和 php、codeigniter 将数据推送到 html 列表进行搜索

> ID：13191234
> 
> 赞同：1
> 
> 时间：2012-11-02T07:43:57.893
> 
> 标签：php, jquery, ajax, search

首先，我想向你们展示我正在尝试做的事情。
我正在尝试使用 AJAX、jquery 和 php 在我的应用程序中创建搜索功能，至于我使用 Codeigniter 的框架，但不一定是 CI，这可能与所有类似（我想）。

我有这段代码来观察`focus`和`blur`事件。

```
$("#searchbox").on({
    keyup : debounce(function(){
        MSI.Interface.search();
        },350,false),
    blur  : function(){
        $("#search_results").hide();
        }
}); 
```

我还没有完成它，这就是为什么这个`blur`事件只有`.hide()`. 我想不出还有什么要包括的，也许重新设置`html`它`#search_results`以使其空白，但我不知道这是否合理。

**第一个问题：**您认为更合理的解决方案是什么？

正如您在前面的代码中看到的，我有去抖动功能，只是为了防止服务器上的每个字符请求，我想知道这是否正确。

然后我有这个`search`功能

```
search : function() {
    var keyword = $("#searchbox").val();
    if (keyword == '') {
    } else {
        $.ajax({
            url : MSI.variables.base_url + 'search',
            type: 'POST',
            data: {
                keyword : keyword
            },
            dataType : 'json',
            success: function(output) {
                $.each(output, function() { 
                    $.each(this, function(key, value){
                        $("#search_results").show().prepend("<p>"+value+"</p>");
                    });
                });
            }
        });
    }
} 
```

使用该代码，脚本将能够将内容添加到`#search_results div`.

**第二个问题：**您认为什么是更好的解决方案？

# android - 使用 NFC 创建联系人

> ID：13191238
> 
> 赞同：0
> 
> 时间：2012-11-02T07:44:24.637
> 
> 标签：android, nfc, contact

你能帮我写一个应用程序，在点击 NFC 贴纸时写入姓名、手机和电子邮件等数据。一旦用户读取 NFC，它应该打开保存到联系人选项并预先填写所有数据。

我正在使用 NDEF 纯/文本格式。我是否朝着正确的方向前进？

干杯，伊什瓦尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-03T19:57:31.227

没有真正需要为此编写应用程序。当点击带有 MIME 类型“text/vcard”的 NDEF 消息和根据[vCard 标准](http://en.wikipedia.org/wiki/VCard)格式化的有效负载数据的 NFC 标签时，vCard 数据将自动导入到联系人应用程序中。

# asp.net-mvc - 使用 ASP.NET MVC 缓存清单中的校验和

> ID：13191240
> 
> 赞同：1
> 
> 时间：2012-11-02T07:44:31.407
> 
> 标签：asp.net-mvc, asp.net-mvc-3, html

我有基于 ASP.NET MVC 的带有缓存清单的移动 Web 应用程序。此缓存清单包括 javascript、css 源和页面本身：

```
CACHE MANIFEST

# version 56517bc4-bb5d-fe72-fb2e-812379ceb0df

CACHE:
/Styles/site.css
/images/flags-euro.png
/mypage1
/mypage2 
```

我想根据每个文件的内容计算校验和以维护 cache.manifest 版本控制（用于浏览器端的自动站点更新）。静态文件很容易做到：读取文件内容并计算校验和。

但是如何为页面做呢？我需要通过请求该页面并计算校验和来获取页面内容。任何想法如何用 ASP.NET MVC 做到这一点？

# datagrid - 是否可以在 jeasyui 数据网格中的 validType 中使用多个验证器？

> ID：13191241
> 
> 赞同：0
> 
> 时间：2012-11-02T07:44:34.193
> 
> 标签：datagrid, validation, jquery-easyui

是否可以在 jeasyui datagrid validatebox validType 中使用多个验证器？

如果有，我可以举一个例子吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T10:48:48.193

从 .1.3.2 版开始提供用于验证框 validtype 的多个验证器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-19T06:44:16.333

这是你的html输入框

```
<input name="email" class="easyui-validatebox" data-options="required:true,validType:['validEmail','isUniqueEmail[\'#user_id\']']"> 
```

这些是您的验证功能：

```
 $.extend($.fn.validatebox.defaults.rules, {
        // email address vallidation for uniqueness.
        isUniqueEmail: {                
            validator: function(value,param){
                   // code for unique email validation
                });
                return respond;
            },
            message: 'Email must be unique.'
        },
        // Eamil validation.
        validEmail: {               
                   // Code for valid email.
            },
            message: 'Enter valid email.'
        },
    }); 
```

# jquery - 表单的动态设置动作属性在 Firefox 中不起作用

> ID：13191246
> 
> 赞同：0
> 
> 时间：2012-11-02T07:45:01.250
> 
> 标签：jquery, html, firefox

我正在通过以下行设置 Form 标签的 action 属性

```
 $("#divIsInternational span").bind('click', function() {
    $('#action').val('bypcgDestination');
    var SelectedItem = $(this).attr("id");
    if (SelectedItem.toString() == "Domestic") {
        $(this).removeClass().addClass("domestic selected");
        $(this).siblings().removeClass("selected");

        $("#toDefaultPage").attr("action", "home/domestic");
    }
    else {
        $(this).removeClass().addClass("international selected");
        $(this).siblings().removeClass("selected");

        $("#toDefaultPage").attr("action", "home/international");
    }

    $("#isDomesticInMaster").val(SelectedItem);

    $("#toDefaultPage").submit();

}); 
```

它在 chrome 中运行良好，但在 Firefox 中运行良好，我无法找到问题，因为 Firefox 控制台也没有显示一些错误消息

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T07:50:07.173

如果选择器`#toDefaultPage`是表单元素，那么您应该可以使用 jQuery 的内置`.submit()`-function ：[http ://api.jquery.com/submit/](http://api.jquery.com/submit/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-03T06:51:16.180

我想分享我在这里面临的问题，实际上我被赋予了一个隐藏字段的 id 作为操作。通过它我无法设置表单标签的操作字段。所以问题是 id =“action”的隐藏字段。

# android - 从应用程序发送whatsapp消息

> ID：13191252
> 
> 赞同：0
> 
> 时间：2012-11-02T07:45:43.850
> 
> 标签：android

android中有没有办法直接从我自己的应用程序发送whatsapp消息？我希望用户选择一个 whatsapp 联系人，然后让我的应用发送 whatsapp 消息

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T09:28:34.703

这是不可能的。

WhatsApp 是第三方服务，您不能让它发送消息。充其量，您可以使用共享意图，该意图将创建一个选择器，用户可以从中选择 WhatsApp。这并不能保证消息会被发送，但这是您能做的最好的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T18:19:04.713

也许您可以尝试向 whatsapp 发送“意图”，例如 GoogleMap 共享位置

# android - 如何'A' UNITY3D apk 文件 android 'B' 应用程序数据交换

> ID：13191260
> 
> 赞同：1
> 
> 时间：2012-11-02T07:46:21.123
> 
> 标签：android

创建安卓应用程序。

 “A” apk 文件和 B 数据通信的其他应用程序。

为了提供数据“A”的android apk 文件Unity3D 文件和应用程序通过B 数据将能够运行。

写文章是因为他们不知道如何使用我的Android应用程序... 鼓励您让我们知道链接或网站的描述关于这个问题的一些信息或示例。

# javascript - 共享后的 FB.ui javascript 重定向在 SSL 上的 IE8 上不起作用

> ID：13191261
> 
> 赞同：0
> 
> 时间：2012-11-02T07:46:34.043
> 
> 标签：javascript, facebook, facebook-javascript-sdk

```
FB.ui({
            method: 'feed',
            name: 'Help set the record straight!',
            link: 'http://www.facebook.com/nothingbeatsbeef/app_545512565475443',
            picture: 'http://cs.apps2.pixolut.com/rsrc/509309abe46cea93eefec36a',
            caption: '',
            description: 'No longer will Aussies be taunted with &lsquo;Throw another shrimp on the barbie&rsquo;. Sign the petition to get the ad that started it all remade with the RIGHT line &lsquo;throw another steak on the barbie&rsquo;.'
        },function(response){
            if (response && response.post_id) {
                 setTimeout(function(){self.location.href = '/load/preview/page/50908acbe46c03d72dcc26b6';}, 2000); 
            } else {
                 setTimeout(function(){self.location.href = '/load/preview/page/50908acbe46c03d72dcc26b6';}, 2000); 
            }
        }); 
```

出于某种原因，这个 javascript 在 facebook 分享之后重定向它在 SSL 上的 IE8 上不起作用。有谁知道为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-03T03:38:32.020

出于某种原因，这只是在虚拟机上使用 IE8。没有它很好。

# sql-server - 创建 xml 模式集合的 fractionDigits 限制最大值

> ID：13191263
> 
> 赞同：4
> 
> 时间：2012-11-02T07:46:43.383
> 
> 标签：sql-server, xsd

我正在尝试通过“创建 xml 架构集合”语句将第三方 XSD 方案加载到我的 SQL Server 2008

有一个基于“xs:decimal”的复杂类型，但有限制：

```
 <xs:totalDigits value="31"/>
        <xs:fractionDigits value="14"/> 
```

XSD 内部。

并且 SQL Server 返回错误

```
Msg 6960, Level 16, State 2, Line 2
Component 'NAME' is outside of allowed range. Maximum for 'fractionDigits' is 10 and maximum number of digits for non fractional part is 28 
```

但我仍然能够创建一个类型为“numeric(31,14)”的变量

我在 w3c 文档和 MSDN 中都没有发现任何限制。您能否指导我查看有关此限制的一些文档。也许我可以用一些服务包或设置来修复它。

SQL Server 版本：Microsoft SQL Server 2008 (SP3) - 10.0.5500.0 (X64) Sep 21 2011 22:45:45 版权所有 (c) 1988-2008 Microsoft Corporation Enterprise Edition (64-bit) o​​n Windows NT 6.1 (Build 7601:服务包 1)

* * *

我在 MSDN 上找到了答案（[http://msdn.microsoft.com/en-us/library/ms190665(v=sql.100).aspx](http://msdn.microsoft.com/en-us/library/ms190665%28v=sql.100%29.aspx)）

> SQL Server 不支持可变精度小数。xs:decimal 类型表示任意精度的十进制数。最低限度符合标准的 XML 处理器必须支持至少为 totalDigits=18 的十进制数。SQL Server 支持 totalDigits=38，但将小数位数限制为 10。所有 xs:decimal 实例值都由服务器在内部使用 SQL 类型 numeric (38, 10) 表示。

他们映射 xs:decimal 不是*数字*类型，而是*十进制*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T04:52:02.217

我在 MSDN 上找到了答案（[http://msdn.microsoft.com/en-us/library/ms190665(v=sql.100).aspx](http://msdn.microsoft.com/en-us/library/ms190665%28v=sql.100%29.aspx)）

> SQL Server 不支持可变精度小数。xs:decimal 类型表示任意精度的十进制数。最低限度符合标准的 XML 处理器必须支持至少为 totalDigits=18 的十进制数。SQL Server 支持 totalDigits=38，但将小数位数限制为 10。所有 xs:decimal 实例值都由服务器在内部使用 SQL 类型 numeric (38, 10) 表示。

他们映射 xs:decimal 不是*数字*类型，而是*十进制*

# jpos - ISO 服务器如何支持并发请求？

> ID：13191267
> 
> 赞同：2
> 
> 时间：2012-11-02T07:46:55.773
> 
> 标签：jpos

我通过使用 ASCII 通道和 ASCII 打包器并监听端口并响应 ISO 请求来实现 ISO SERVER。

我怎样才能让我的服务器接受并发请求并发送响应。

请

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-10-22T09:25:24.343

如果您使用的是 Q2，只需部署 QServer 并设置其默认值为 0 和 100 的 minSessions 和 maxSessions。
这里处理并发请求的示例 jPOS 服务器：http: [//didikhari.web.id/java/jpos-client-receive -响应特定端口/](http://didikhari.web.id/java/jpos-client-receive-response-specific-port/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T19:25:37.207

`ISOServer`与线程池一起使用，因此您可以开箱即用地接受并发请求。每个套接字连接都由它自己的线程处理。所以，我认为你所要做的就是`ISORequestListener`为你分配一个来`ISOServer`实际处理你的传入消息。

这是从 jPOS 指南中获取的测试程序：

```
 public class Test implements ISORequestListener {
    public Test () {
      super();
    }

    public boolean process (ISOSource source, ISOMsg m) {
       try {
           m.setResponseMTI ();
           m.set (39, "00");
           source.send (m);
       } catch (ISOException e) {
           e.printStackTrace();
       } catch (IOException e) {
           e.printStackTrace();
       }
       return true;
    }

    public static void main (String[] args) throws Exception {
        Logger logger = new Logger ();
        logger.addListener (new SimpleLogListener (System.out));
        ServerChannel channel = new XMLChannel (new XMLPackager());
        ((LogSource)channel).setLogger (logger, "channel");
        ISOServer server = new ISOServer (8000, channel, null);
        server.setLogger (logger, "server");
        server.addISORequestListener (new Test ());

        new Thread (server).start ();

    }
} 
```

# jquery - 如何在JPlayer中获取歌曲的时长

> ID：13191271
> 
> 赞同：5
> 
> 时间：2012-11-02T07:47:30.637
> 
> 标签：jquery, jplayer

```
function intilizePlayer(){ 
    $("#jquery_jplayer_1").jPlayer({
        ready: function (event) {
            $(this).jPlayer("setMedia", {
                oga:song
            });
            songDuration = $(this).jPlayer.status.duration;
        },
        ended: function (event) {
                $(this).jPlayer("play");
        },
        swfPath: "swf",
        supplied: "oga"
    }).bind($.jPlayer.event.play, function() {
        $(this).jPlayer("pauseOthers");
    });
} 
```

在这里，我尝试获取歌曲的持续时间。但它说“未定义”。除此之外，我在调用上述函数后尝试使用以下内容。

```
var duration = $("#jquery_jplayer_1").data("jPlayer").status.duration; 
```

然后持续时间变为0。如何获得真正的持续时间？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-02T08:02:31.597

```
function intilizePlayer(){ 
    $("#jquery_jplayer_1").jPlayer({
        ready: function (event) {
            $(this).jPlayer("setMedia", {
                oga:song
            });
        },
        ended: function (event) {
                $(this).jPlayer("play");
        },
        loadeddata: function(event){ // calls after setting the song duration
            songDuration = event.jPlayer.status.duration;
        },
        swfPath: "swf",
        supplied: "oga"
    }).bind($.jPlayer.event.play, function() {
        $(this).jPlayer("pauseOthers");
    });
} 
```

# ruby-on-rails - 在 Rails 中连接两个实体

> ID：13191273
> 
> 赞同：0
> 
> 时间：2012-11-02T07:47:54.523
> 
> 标签：ruby-on-rails, migration, rails-activerecord

我有两个实体：问题和项目，我需要将它们连接在一起。在 model/issue.rb 我有：

```
class Issue < ActiveRecord::Base
   attr_accessible :description, :estimate, :label, :status, :title
   belongs_to :project
   validates :title, :presence => true
   validates :estimate, :numericality => {:greater_than_or_equal_to => 0.1}
end 
```

在模型/project.rb 中：

```
class Project < ActiveRecord::Base
   attr_accessible :description, :title
   has_many :issues, :dependent => :destroy
end 
```

现在，我需要在一些（选定的）项目下创建问题。我知道项目 ID，但我在问题控制器中不知道。你能告诉我，我该怎么办吗？我需要一些新的迁移或控制器吗？谢谢

编辑

红宝石 1.8.7

导轨 1.9.3

耙 0.9.2.2

我进行了新的迁移：

```
def self.up
add_column :issues, :project_id, :integer, :null => false
end 
```

但问题表中没有 project_id 列。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:25:40.367

看

> [http://gowithfoss.wordpress.com/2012/02/23/create-nested-form-in-rails-3-1](http://gowithfoss.wordpress.com/2012/02/23/create-nested-form-in-rails-3-1)

/这应该可以帮助你。

它是宝石嵌套形式，可以解决您的问题

# .net - 如何理解 Sub 或 Set？

> ID：13191275
> 
> 赞同：3
> 
> 时间：2012-11-02T07:48:00.573
> 
> 标签：.net, vb.net, visual-studio

我是 VB.NET 2012 (Visual Studio 2012) 的新手。

我想知道如何理解以下错误消息？

```
 'Return' statement in a Sub or a Set cannot return a value. 
```

重点是“子或集”。

如果有兴趣，我正在尝试通过多种方式打印出消息。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-02T07:57:27.963

> 如何理解 Sub 或 Set？

A`Sub`是一个没有返回值的方法：

```
Sub DoSomething()
    …
End Sub 
```

（与 a 不同`Function`，它是一个有返回值的方法。）

A`Set`是属性的设置器：

```
Property X() As String
    Get
        Return SomeValue
    End Get
    Set(Value As String)
        SomeValue = Value
    End Set
End Property 
```

与属性 getter 和函数不同，`Sub`s 和`Set`ters 不返回值，因此不能包含`Return X`语句（它们*可以*包含过早退出方法而不返回值的裸`Return`函数，相当于`Exit Sub`or `Exit Property`）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T07:50:34.960

您必须在 a或 a中有一个`Return`语句，并且您正在尝试返回一个值。你不能那样做。`Sub``Set`

```
Sub Something
    Return 1 ' Error
End Sub 
```

如果你需要返回一个值，那么你需要一个函数：

```
Function Something As Integer
    Return 1 ' Ok
End Function 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T07:54:19.930

您不能在 Sub 中返回某些内容，但可以在 Function 中返回。

看这里：

[http://msdn.microsoft.com/en-us/library/d03wadb1(v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/d03wadb1(v=vs.80).aspx)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-02T08:05:28.980

在 Sub 中，您可以有一个 Return 语句，但不能有“带值”，即：

```
Sub MySub()
  Return ' this is OK. It is optional (you do not HAVE to have a Return in a Sub).
End Sub 
```

但

```
Sub MySub()
  Return 3 ' this is WRONG
End Sub 
```

在 Property_SET 中，您不能有任何 Return 语句。（另一方面，在 Property_GET 中，您必须有一个带有符合属性类型的值的 Return 语句。

```
Property MyProperty() As Integer
  Get
    ' do all kinds of stuff
    Return 3 ' Returns as integer-type value
  End Get
  Set(value as Integer)
    ' do stuff
    Return ' WRONG
    Return 3 ' also WRONG
  End Set
End Property 
```

# c++ - 未初始化的数据和 memcpy

> ID：13191277
> 
> 赞同：2
> 
> 时间：2012-11-02T07:48:25.587
> 
> 标签：c++, char

Mike Miller 在[240 中说。未初始化的值和未定义的行为](http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_active.html#240)：

> 3.9.1 [basic.fundamental] 中的措辞经过精心设计，允许使用 unsigned char 访问未初始化的数据，这样 memcpy 等就可以用 C++ 编写而没有未定义的行为

这是什么意思？为什么要访问未初始化的数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T10:29:21.810

当您复制`struct`包含填充的 a 时，`memcpy`也会复制填充。通常，填充是未初始化的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T07:59:52.707

这意味着仍然可以访问未由对象构造函数初始化的内存（这是用于 C++ 的方式）。我们可以使用*无符号字符*（或字节）来指向原始内存块。

对象是您应该处理的，但您仍然可以按原样查看内存。

# java - ajax 喜欢使用 java 代码从 servlet 向 jsp 发布或获取请求

> ID：13191280
> 
> 赞同：0
> 
> 时间：2012-11-02T07:48:38.000
> 
> 标签：java, jsp, servlets

我有一个 servlet 和一个 jsp 文件。

每当加载 servlet 时，servlet 需要一些只能在 JSP 中创建的实例（在这种情况下）。所以，我正在考虑在加载 servlet 后立即从 servlet 对 jsp 文件进行一些请求，这样我就可以在 servlet 中获取实例。我怎样才能做到这一点 ？

在 python 中，我们可以使用 urllib2 和 requests 库非常轻松地发送 get 或 post 请求。不能使用 java 吗？

在 python 中，我们可以使用这样的请求：

```
 r = requests.get('url') 
```

就是这样，我们从 url 获取所需的数据到我们的变量 'r' 中，所以我们可以使用它。java中有没有类似的库？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T07:54:19.667

我认为这也不可能是一个好方法，对servlet进行依赖注入会很好。

# c# - AutoResetEvent 由于某种原因不起作用

> ID：13191281
> 
> 赞同：-2
> 
> 时间：2012-11-02T07:48:49.170
> 
> 标签：c#, multithreading, events, autoresetevent

**upd**我发现 AutoResetEvent 按预期工作。看来我在里面的某个地方有异常`CalculateAndNotify`。所以这个问题不再是关于 AutoResetEvent 了。但是，如果您可以建议如何更好地计算 HFT 软件中的索引 - 欢迎发表评论。

==================================================== ============================= 我在我的班级的完整列表下面添加。有两种重要的方法。`Calculate`每次`InstrumentUpdated`调用都会重新计算索引值。

```
class CompositeIndex : CustomIndex
{
    //private Tuple<Instrument, double>[] _instrumentsWithWeight;
    //private int[] _instrumentIds;
    //private double[] _ammounts;
    //private double[] _cachedProduct; // one thread writes here and another thread reads. so need to use "Volatile"
    //private volatile bool _initialized;

    //AutoResetEvent are = new AutoResetEvent(false);

    //public CompositeIndex(string indexId, Tuple<Instrument, double>[] instrumentsWithWeight)
    //    : base(indexId, GetInstruments(instrumentsWithWeight))
    //{
    //    _instrumentsWithWeight = instrumentsWithWeight;
    //    _instrumentIds = new int[_instrumentsWithWeight.Count()];
    //    _ammounts = new double[Commons.Constants.MAX_INSTRUMENTS_NUMBER_IN_SYSTEM];
    //    _cachedProduct = new double[Commons.Constants.MAX_INSTRUMENTS_NUMBER_IN_SYSTEM];

        Task.Factory.StartNew(() =>
                {
                    while(true)
                    {
                        if (_initialized)
                        {
                            break;
                        }
                        Thread.Sleep(1000);
                    }
                    while (true)
                    {
                        are.WaitOne();             // hangs here!
                        CalculateAndNotify();
                    }
                }
            , TaskCreationOptions.LongRunning);
    }

    //private static List<Instrument> GetInstruments(Tuple<Instrument, double>[] instrumentsWithWeight)
    //{
    //    List<Instrument> result = new List<Instrument>();
    //    for (int i = 0; i < instrumentsWithWeight.Count(); i++)
    //    {
    //        result.Add(instrumentsWithWeight[i].Item1);
    //    }
    //    return result;
    //}

    //protected override void Calculate()
    //{
    //    double result = 0;
    //    for (int i = 0; i < _instrumentIds.Count(); i++)
    //    {
    //        int instrumentId = _instrumentIds[i];
    //        // we assign 0 weself so this comparision is OK
    //        double cachedProduct = Volatile.Read(ref _cachedProduct[instrumentId]);
    //        if (cachedProduct == 0)
    //        {
    //            Value = null;
    //            return;
    //        }
    //        result += cachedProduct;
    //    }
    //    Value = result;
    //}

    //private object _initializeLock = new object();

    //private bool Initialize()
    //{
    //    lock (_initializeLock)
    //    {
    //        if (_initialized)
    //        {
    //            return true;
    //        }
    //        for (int i = 0; i < _instrumentsWithWeight.Count(); i++)
    //        {
    //            Instrument instrument = _instrumentsWithWeight[i].Item1;
    //            double weight = _instrumentsWithWeight[i].Item2;
    //            _instrumentIds[i] = instrument.Id;
    //            _ammounts[instrument.Id] = weight;
    //        }
    //        _initialized = true;
    //        return true;
    //    }
    //}

    public override void InstrumentUpdated(Instrument instrument)
    {
        //if (!_initialized)
        //{
        //    if (!Initialize())
        //    {
        //        return;
        //    }
        //}
        //int instrumentId = instrument.Id;
        //bool useSecurityInsteadOfOrderBook = instrument.GateId == 1;

        //decimal? value;
        //if  (useSecurityInsteadOfOrderBook)
        //{
        //    InstrumentInfo ii = Markets.GetInstrumentInfo(instrument);
        //    value = ii.MedianOrAskOrBid;
        //} else
        //{
        //    Glass glass = Markets.GetGlass(instrument);
        //    value = glass.MedianOrAskOrBid;
        //}

        //if (value == null)
        //{
        //    Volatile.Write(ref _cachedProduct[instrumentId], 0);
        //}
        //else
        //{
        //    Volatile.Write(ref _cachedProduct[instrumentId], ((double)value) * _ammounts[instrumentId]);
        //}
        are.Set();      // called many times!
    }

} 
```

我添加了一些跟踪并注意到：一个线程挂在`are.WaitOne()`. 尽管另一个线程`are.Set()`多次调用第一个线程并没有被释放。为什么？我的代码有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:12:06.963

```
 public override void InstrumentUpdated(Instrument instrument)
 {
    //your code
    // are.Set - do not need

    Task.Factory.StartNew(CalculateAndNotify, TaskCreationOptions.LongRunning);
 } 
```

你应该改变`CalculateAndNotify`

```
 protected void CalculateAndNotify()
 {
     if (Monitor.TryEnter(someObject))
     {
         try
         {
             // your code
         }
         finally
         {
             Monitor.Exit(someObject);
         }
     }
 } 
```

那可能会做你想做的事

# asp.net-mvc-4 - 在 Web api 控制器中调用 Post 和 Delete 方法

> ID：13191283
> 
> 赞同：0
> 
> 时间：2012-11-02T07:48:55.387
> 
> 标签：asp.net-mvc-4, asp.net-web-api

我是这个主题 MVC4 和 Web api 的新手。我的问题可能是基本的，但对我有帮助。我使用 (http://localhost:3668/api/values) 和 (http://localhost:3668/api/values/3) 来调用方法`get`并`get(int id)`执行。但不知道如何`delete`在 api 控制器中调用 Post 和方法，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T07:59:59.467

如果您单击表单按钮，将检测到帖子。从 C# 代码中，您可以执行类似的操作

```
HttpWebRequest request = (HttpWebRequest)WebRequest.Create("http://localhost:3668/api/values/3");
request.Method = "DELETE"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T07:56:05.170

您不能只将地址打入您喜欢的浏览器。一个灵活的开发和调试解决方案是一个命令行工具，比如 curl ( [http://curl.haxx.se/](http://curl.haxx.se/) )，它能够发送 HTTP GET、POST、PUT、DELETE 等。

为了从您的应用程序中使用 api，这一切都取决于您的客户端技术。如果您正在制作基于浏览器的应用程序，您可以使用 xmlhttprequest 发送 GET、POST、PUT、DELETE 请求。如果您需要服务器到服务器的通信，您可以使用[System.Net.WebClient](http://msdn.microsoft.com/en-us/library/system.net.webclient%28v=vs.80%29.aspx)。

# java - 如何将 JSONObject 从 doInBackground() 方法返回到 AsyncTask 上的 onPostExecute() 方法？

> ID：13191285
> 
> 赞同：5
> 
> 时间：2012-11-02T07:49:00.653
> 
> 标签：java, android

在 Android 应用程序中，我想从`doInBackground()`一个方法到另一个方法返回 JSONObject `onPostExecute()`。
这是代码：

```
private class AddAsyncTask extends AsyncTask<String, Void, String>
     {
         JSONObject jsonObjRecv;
         String result;

    @Override
    protected JSONObject doInBackground(JSONObject... params) {
        AssetObj assetObj = new AssetObj();
        assetObj.setAssetName(txtname.getText().toString());
        assetObj.setMobileNo(txtmobile.getText().toString());
        assetObj.setOwnerId(myApp.getOwnerId());
        assetObj.setStartTime(startTime.getText().toString());
        assetObj.setEndTime(endTime.getText().toString());
        assetObj.setInterval(interval.getText().toString());
        JSONObject jsonObjRecv = SyncService.AddNewAssetRequest(assetObj);
        return jsonObjRecv;
     }
     protected void onPostExecute(JSONObject obj){
                    if(obj != null)
                    {
                        //do something
                    } 
```

我试过这个代码我得到了错误。`doInBackground()`是否可以从方法到方法返回 JSONObject `onPostExecute()`？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-02T07:54:07.170

**编辑：**

这可以帮助你，

```
private class AddAsyncTask extends AsyncTask<String, Void, JSONOnject>
 {
     JSONObject jsonObjRecv;
     String result;

@Override
protected JSONObject doInBackground(String... params) {
    AssetObj assetObj = new AssetObj();
    assetObj.setAssetName(txtname.getText().toString());
    assetObj.setMobileNo(txtmobile.getText().toString());
    assetObj.setOwnerId(myApp.getOwnerId());
    assetObj.setStartTime(startTime.getText().toString());
    assetObj.setEndTime(endTime.getText().toString());
    assetObj.setInterval(interval.getText().toString());
    JSONObject jsonObjRecv = SyncService.AddNewAssetRequest(assetObj);
 }
 protected void onPostExecute(JSONObject obj){
            if(obj != null)
            {
                //do something
            } 
```

这里很清楚，

```
private class AddAsyncTask extends AsyncTask<What type of input you need to pass to doInBackground(), Void, What type of return value you need to return to onPostExcute()> 
```

可能您不需要更改方法声明中的返回值和参数。

只需创建以下行

```
private class AddAsyncTask extends AsyncTask<String, Void, JSONOnject> 
```

这些方法将根据您在中提到的参数和返回类型自动创建

```
private class AddAsyncTask extends AsyncTask<String, Void, JSONOnject> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-02T07:54:00.963

作为`AsyncTask<T1, T2, T3>`传递`T3`_`JSONObject`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-02T07:54:43.367

好的，现在仔细看看这个，

```
private class AddAsyncTask extends AsyncTask<String, Void, String> 
```

在您的 AsyncTask 中，第三个参数是`String`所以将其更改为`JSONObject`.

像，

```
private class AddAsyncTask extends AsyncTask<String, Void, JSONObject> 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-02T07:55:05.940

代替

```
private class AddAsyncTask extends AsyncTask<String, Void, String> 
```

改成

```
private class AddAsyncTask extends AsyncTask<String, Void, JsonObject> 
```

实际代码

```
private class AddAsyncTask extends AsyncTask<String, Void, JSONOnject>
 {
     JSONObject jsonObjRecv;
     String result;

@Override
protected JSONObject doInBackground(JSONObject... params) {
    AssetObj assetObj = new AssetObj();
    assetObj.setAssetName(txtname.getText().toString());
    assetObj.setMobileNo(txtmobile.getText().toString());
    assetObj.setOwnerId(myApp.getOwnerId());
    assetObj.setStartTime(startTime.getText().toString());
    assetObj.setEndTime(endTime.getText().toString());
    assetObj.setInterval(interval.getText().toString());
    JSONObject jsonObjRecv = SyncService.AddNewAssetRequest(assetObj);
 }
 protected void onPostExecute(JSONObject obj){
            if(obj != null)
            {
                //do something
            }
}
} 
```

AsyncTask < 参数、进度、结果 >

1.  Params，执行时发送给任务的参数类型。
2.  进度，在后台计算期间发布的进度单元的类型。
3.  Result，后台计算结果的类型

# hadoop - 在 cloudera 演示 cdh3u4 上运行 mapreduce 作业（航空公司数据示例）

> ID：13191286
> 
> 赞同：0
> 
> 时间：2012-11-02T07:49:15.217
> 
> 标签：hadoop, mapreduce, hdfs, cloudera

我正在做 Jeffrey Breen 的 R-Hadoop 教程（2012 年 10 月）。目前，我尝试填充 hdfs，然后运行 ​​Jeffrey 在他的 RStudio 教程中发布的命令。不幸的是，我遇到了一些麻烦：

**更新**：我现在将数据文件夹移动到：（ `/home/cloudera/data/hadoop/wordcount` 对于航空公司数据也是如此）当我运行 populate.hdfs.sh 时，我得到以下输出：

```
[cloudera@localhost ~]$ /home/cloudera/TutorialBreen/bin/populate.hdfs.sh
mkdir: cannot create directory /user/cloudera: File exists
mkdir: cannot create directory /user/cloudera/wordcount: File exists
mkdir: cannot create directory /user/cloudera/wordcount/data: File exists
mkdir: cannot create directory /user/cloudera/airline: File exists
mkdir: cannot create directory /user/cloudera/airline/data: File exists
put: Target /user/cloudera/airline/data/20040325.csv already exists 
```

然后我尝试了 RStudio 中的命令，如教程中所示，但最后出现错误。有人可以告诉我我做错了什么吗？

```
> if (LOCAL)
+ {
+   rmr.options.set(backend = 'local')
+   hdfs.data.root = 'data/local/airline'
+   hdfs.data = file.path(hdfs.data.root, '20040325-jfk-lax.csv')
+   hdfs.out.root = 'out/airline'
+   hdfs.out = file.path(hdfs.out.root, 'out')
+   if (!file.exists(hdfs.out))
+     dir.create(hdfs.out.root, recursive=T)
+ } else {
+   rmr.options.set(backend = 'hadoop')
+   hdfs.data.root = 'airline'
+   hdfs.data = file.path(hdfs.data.root, 'data')
+   hdfs.out.root = hdfs.data.root
+   hdfs.out = file.path(hdfs.out.root, 'out')
+ }
> asa.csvtextinputformat = make.input.format( format = function(con, nrecs) {
+   line = readLines(con, nrecs)
+   values = unlist( strsplit(line, "\\,") )
+   if (!is.null(values)) {
+     names(values) = c('Year','Month','DayofMonth','DayOfWeek','DepTime','CRSDepTime',
+                       'ArrTime','CRSArrTime','UniqueCarrier','FlightNum','TailNum',
+                       'ActualElapsedTime','CRSElapsedTime','AirTime','ArrDelay',
+                       'DepDelay','Origin','Dest','Distance','TaxiIn','TaxiOut',
+                       'Cancelled','CancellationCode','Diverted','CarrierDelay',
+                       'WeatherDelay','NASDelay','SecurityDelay','LateAircraftDelay')
+     return( keyval(NULL, values) )
+   }
+ }, mode='text' )
> mapper.year.market.enroute_time = function(key, val) {
+   if ( !identical(as.character(val['Year']), 'Year')
+        & identical(as.numeric(val['Cancelled']), 0)
+        & identical(as.numeric(val['Diverted']), 0) ) {  
+     if (val['Origin'] < val['Dest'])
+       market = paste(val['Origin'], val['Dest'], sep='-')
+     else
+       market = paste(val['Dest'], val['Origin'], sep='-')
+     output.key = c(val['Year'], market)
+     output.val = c(val['CRSElapsedTime'], val['ActualElapsedTime'], val['AirTime'])
+     return( keyval(output.key, output.val) )
+   }
+ }
> reducer.year.market.enroute_time = function(key, val.list) {
+   if ( require(plyr) )  
+     val.df = ldply(val.list, as.numeric)
+   else { # this is as close as my deficient *apply skills can come w/o plyr
+     val.list = lapply(val.list, as.numeric)
+     val.df = data.frame( do.call(rbind, val.list) )
+   }   
+   colnames(val.df) = c('crs', 'actual','air')
+   output.key = key
+   output.val = c( nrow(val.df), mean(val.df$crs, na.rm=T),
+                   mean(val.df$actual, na.rm=T),
+                   mean(val.df$air, na.rm=T) )
+   return( keyval(output.key, output.val) )
+ }
> mr.year.market.enroute_time = function (input, output) {
+   mapreduce(input = input,
+             output = output,
+             input.format = asa.csvtextinputformat,
+             output.format='csv', # note to self: 'csv' for data, 'text' for bug
+             map = mapper.year.market.enroute_time,
+             reduce = reducer.year.market.enroute_time,
+             backend.parameters = list(
+               hadoop = list(D = "mapred.reduce.tasks=2")
+             ),
+             verbose=T)
+ }
> out = mr.year.market.enroute_time(hdfs.data, hdfs.out)
Error in file(f, if (format$mode == "text") "r" else "rb") : 
  cannot open the connection
In addition: Warning message:
In file(f, if (format$mode == "text") "r" else "rb") :
  cannot open file 'data/local/airline/20040325-jfk-lax.csv': No such file or directory
> if (LOCAL)
+ {
+   results.df = as.data.frame( from.dfs(out, structured=T) )
+   colnames(results.df) = c('year', 'market', 'flights', 'scheduled', 'actual', 'in.air')
+   print(head(results.df))
+ }
Error in to.dfs.path(input) : object 'out' not found 
```

太感谢了！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T22:32:43.883

首先，它看起来像命令：

```
/usr/bin/hadoop fs -mkdir /user/cloudera/wordcount/data 
```

被分成多行。确保按原样输入。

另外，据说本地目录`data/hadoop/wordcount`不存在。验证您是否从正确的目录运行此命令，并且您的本地数据在您期望的位置。

# excel - 在 A 列中查找某些内容，然后在 Excel 2010 中显示该行的 B 值

> ID：13191287
> 
> 赞同：6
> 
> 时间：2012-11-02T07:49:50.213
> 
> 标签：excel, excel-2010

基本上我的问题是我在excel的一个单元格中有一个字符串，然后我需要查看该字符串是否存在于另一行（不是一个单元格而是整行）中，如果是，则在同一行中打印另一个单元格的内容但在另一列。

我将举一个基本的例子：

```
Title      Answer
Police       15
Ambulance    20
Fire         89 
```

现在我需要扫描标题列，例如“警察”，然后在单元格中填充答案下的值（在本例中为 15）。

我不能说`IF(A2="Police";B2;""`因为我需要扫描整个标题列。

我已经尝试使用`IF(COUNTIF(A$2:A$100;"Police");`which 扫描 A2 到 A100 的内容以查找字符串 Police，并且知道如何使它打印一个常量（只是在 ; 之后放一些东西）但无法弄清楚如何使该“常量”成为一个变量，根据在找到的行上。因此，如果`COUNTIF`在单元格中找到警察，`A44`那么我的公式的答案将是`B44`，就像它在单元格中找到警察一样，`A62`那么我的公式应该显示`B62`

我希望这是有道理的，并且有人可以帮助我:)

请注意，我使用的是 excel 2010 并且需要一个普通公式，因为我不能为此文档使用脚本。

编辑：

这是我到目前为止所拥有的，请注意我使用的电子表格比我在问题中的“简单”示例要复杂得多......

```
=IF(ISNUMBER(FIND("RuhrP";F9));LOOKUP(A9;Ruhrpumpen!A$5:A$100;Ruhrpumpen!I$5:I$100);"") 
```

这显示`"RuhrP"`在每个答案中`"RuhrP"`找到的位置，`F9`而不是我想要的答案，它应该是在`RuhrPumpen!I$5:I$100`单元格索引与找到的`A`coloum 相同的位置`A9`找到的答案。再次抱歉，我想不出更好的措辞来表达它的复杂性。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-02T13:50:06.723

我注意到你建议了这个公式

`=IF(ISNUMBER(FIND("RuhrP";F9));LOOKUP(A9;Ruhrpumpen!A$5:A$100;Ruhrpumpen!I$5:I$100);"")`

.....但`LOOKUP`在这里不合适，因为我假设你想要一个完全匹配（LOOKUP 不能保证并且查找范围中的数据也必须排序），所以`VLOOKUP`或者`INDEX/MATCH`会更好......你可以也使用 IFERROR 来避免 IF 功能，即

`=IFERROR(VLOOKUP(A9;Ruhrpumpen!A$5:Z$100;9;0);"")`

注意：VLOOKUP 总是在“表数组”的第一列中查找查找值（A9），并从“表数组”的第 n 列返回一个值，其中 n 由 col_index_num 定义，在本例中为 9

INDEX/MATCH 有时更灵活，因为您可以显式定义查找列和返回列（并且返回列可以在查找列的左侧，这在 VLOOKUP 中不是这种情况），所以看起来像这样：

`=IFERROR(INDEX(Ruhrpumpen!I$5:I$100;MATCH(A9;Ruhrpumpen!A$5:A$100;0));"")`

INDEX/MATCH 还允许您更轻松地从不同列返回多个值，例如通过在 A9 前面使用 $ 符号和查找范围 Ruhrpumpen!A$5:A$100，即

`=IFERROR(INDEX(Ruhrpumpen!I$5:I$100;MATCH($A9;Ruhrpumpen!$A$5:$A$100;0));"")`

可以拖动此版本以从 I 列、J 列、K 列等获取连续值......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T08:22:57.767

假设

源数据范围为 A1:B100。
查询单元格是 D1（在这里您将输入警察或消防）。
结果单元格为 E1

E1 中的公式 =`VLOOKUP(D1, A1:B100, 2, FALSE)`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-02T10:28:04.577

我想出了这样的数据设计：

主表：A 列：泵代码（数字）

B 列：公式显示工作表“Ruhrpumpen”中的相应行

```
=ROW(Pump_codes)+MATCH(A2;Ruhrpumpen!$I$5:$I$100;0) 
```

公式有“;” 而不是“，”，它也应该是德语符号。如果不是，请更换。

C 列：公式显示“Ruhrpumpen”A 列中的数据，该数据来自 B 列中的公式找到的行

```
=INDIRECT("Ruhrpumpen!A"&$B2) 
```

D 列：公式显示“Ruhrpumpen”B 列中的数据，该数据来自由 B 列中的公式找到的行：

```
=INDIRECT("Ruhrpumpen!B"&$B2) 
```

表'Ruhrpumpen'：

A栏：某台泵的一些数据

B列：更多数据

I 列：泵代码。列表的开头包括主表 B 列中的公式使用的定义名称“Pump_codes”。

电子表格示例：[http ://www.bumpclub.ee/~jyri_r/Excel/Data_from_other_sheet_by_code_row.xls](http://www.bumpclub.ee/~jyri_r/Excel/Data_from_other_sheet_by_code_row.xls)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-23T15:55:56.910

伙计们很有趣的是，我们中的许多人在使用带有 Match 或 Hlookup 的 Vlookup/Index 时都面临查找值复制的问题......第一项将在 loopkup 数组中匹配....所以这里是你们所有人的解决方案...

例如

在 A 列中，我们有一个名为 company.. 的字段。

```
Column A                             Column B            Column C

Company_Name                         Value        
Monster                              25000                              
Naukri                               30000  
WNS                                  80000  
American Express                     40000  
Bank of America                      50000  
Alcatel Lucent                       35000  
Google                               75000  
Microsoft                            60000  
Monster                              35000  
Bank of America                      15000 
```

现在，如果您查找上面的数据集，您会看到重复性在第 10 行和第 11 行的公司名称中。因此，如果您输入 vlookup，数据将首先出现..但是如果您使用以下公式，您可以使您的查找值唯一，并且可以轻松选择任何数据而不会有任何争议或面临任何问题

将公式放在 C2 中`A2&"_"&COUNTIF(A2:$A$2,A2)`........................结果将分别`Monster_1`用于第一个行项目和第 10 行和第 11 行............`Monster_2, Bank of America_2`给你现在去吧，您拥有独特的价值，所以现在您可以轻松选择任何数据..

干杯！！！阿尼尔·达万

# c# - 无法使用存储过程在 ASP.NET 中将输入字符串转换为 Int64

> ID：13191292
> 
> 赞同：0
> 
> 时间：2012-11-02T07:50:11.747
> 
> 标签：c#, asp.net, stored-procedures

我已经使用 MS-Sql 中的存储过程来插入特定页面，它工作正常，但我还需要其他页面相同的存储过程，它发现我的错误。

```
protected void btnsubmitt_Click(object sender, EventArgs e)
{
    ArrayList arParameters = ReturnParameter();
    DataSet dsInsertProfile = objadmin.GetGridData(arParameters,                    objconstant.sSP_INSERT_PROFILE);

    if (int.Parse(dsInsertProfile.Tables[0].Rows[0].ItemArray[0].ToString()) == 0)
    {
        pnlProfile.Visible = false;
        pnlThank.Visible = true;
        lblThank.Text = "Your profile have been successfully saved.";
    }

    else
    {
        lblThank.Text = "Your profile is not saved, please try again later.";
    }

}
public ArrayList ReturnParameter()
{
    Int64 email = Convert.ToInt64(txtemail.Text.ToString());
    ArrayList arSample = new ArrayList();
    Object[] c_email_id = new Object[3] { "@strEmailID", "varchar", email};
     arSample.Add(c_email_id);
     return arSample;
}
  public DataSet GetGridData(ArrayList dbArray, string sSpName)
    {
        DataSet dsDataSet = new DataSet();
        dsDataSet = datamanager.GetGridData(dbArray, sSpName);
        return dsDataSet;
    }
    public static DataSet GetGridData(ArrayList dbArray, string sSpName)
    {
        DataSet dsDataSet = new DataSet();
        SqlConnection cn = createConnection();
        SqlCommand cmd = new SqlCommand();
        cmd.CommandType = CommandType.StoredProcedure;
        cmd.CommandText = sSpName;

        object objPrMtrName;
        object objSqlType;
        object objPrMtrVal;
        int i;
        for (i = 0; i < dbArray.Count; i++)
        {
            objPrMtrName = ((object[])(dbArray[i]))[0];
            objSqlType = ((object[])(dbArray[i]))[1];
            objPrMtrVal = ((object[])(dbArray[i]))[2];
            cmd.Parameters.Add(objPrMtrName.ToString(), GetSqlDataType(objSqlType.ToString())).Value = objPrMtrVal;
        }
        cmd.Connection = cn;
        try
        {
            SqlDataAdapter adp = new SqlDataAdapter(cmd);
            adp.Fill(dsDataSet);
            return dsDataSet;
        }
        catch (Exception ex)
        {
            throw ex;
        }
        finally
        {
            cn.Close();
            cn.Dispose();
        }
    } 
```

我的商店程序

```
ALTER Procedure [dbo].[spInsert_profile]
(  @strEmailID varchar(200)

)
 AS
BEGIN
    DECLARE @intEmail INT
SET @intEmail = (SELECT COUNT(*) FROM gdt_Users WHERE [c_email_id]=@strEmailID)        
IF @intEmail = 0
 BEGIN

       Insert into gdt_Users([c_email_id],[d_modified_dttm],[d_created_dttm])values(@strEmailID,GETDATE(),GETDATE())

 SELECT @intEmail
  END
ELSE
    BEGIN
        SELECT @intEmail

    END
END 
```

在这里，我遇到了一个问题。它抛出了一个异常

```
ERROR: Failed to convert parameter value from string to Int64 
```

所以，我添加了这段代码

```
Int64 email = Convert.ToInt64(txtemail.Text.ToString()); 
```

在数组列表`returnparameter()`方法中。然后，它抛出了那个异常

```
ERROR: Input string was not in correct format 
```

我该如何解决这个问题？你能帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T07:52:21.290

在您的代码中，我只能在一个地方找到 Convert.ToInt64

```
Int64 email = Convert.ToInt64(txtemail.Text.ToString()); 
```

您不会将有效数字传递给 Convert.ToInt64( 因为`txtemail`将有字符串而不是数字。您应该在 txtemail 中提供一个数字或使用正确的文本框将字符串转换为 int64。

> 请记住 Convert.ToInt64( 仅当字符串为数字时才将字符串转换为数字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:48:30.950

您的存储过程期望`varchar(200)`其`String`长度等于 200，因此电子邮件应该是字符串而不是数字。例如 yourname@someemail.com 是一个字符串。我只是好奇，是什么让你想到的是`int64`。它应该是

```
string email = txtemail.Text; 
```

您在此处的代码表明`email`应该使用字符串`"varchar"`

```
string email = txtemail.Text; //change your code to this
ArrayList arSample = new ArrayList();
Object[] c_email_id = new Object[3] { "@strEmailID", "varchar", email}; 
```

# c++ - typedef 在 CUDA 中无法识别

> ID：13191293
> 
> 赞同：0
> 
> 时间：2012-11-02T07:50:27.033
> 
> 标签：c++, cuda

我正在尝试将 cpp 文件转换为 .cu 文件。但是，编译器会报告 cpp 中所有 typedef 和静态函数的错误。它也不会检测范围解析运算符并为它们报告错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T09:58:28.033

CUDA 对预处理器宏的扩展方式进行了一些重大更改，因为它多次通过预处理器运行代码以扩展 CUDA 结构并分离主机和设备代码。这可能会破坏现有的大型代码库。

在这种情况下（甚至对于新编写的项目），我的一般策略是将所有现有代码保留在 .cpp 文件中，并且只将尽可能少的代码移动到 .cu 文件中。我只是将 .cu 文件和 .cpp 文件中所需的 typedef 和定义移动到单独的头文件中，然后围绕 CUDA 调用和内核启动编写小型包装函数，然后从现有的 .cpp 文件中调用它们。

# php - PHP：将参数传递给方法时命名参数？

> ID：13191298
> 
> 赞同：0
> 
> 时间：2012-11-02T07:51:15.053
> 
> 标签：php, function, methods, naming-conventions, parameter-passing

一些语言允许我们在将参数传递给方法时命名参数，例如：

```
private static function hello(a, long, list = 0, of = 0, parameters = 0)
{
    ...
}

self::hello(a=1, long=2, list=3, of=4); 
```

在某些情况下，它肯定会简化阅读代码。php中是否有类似的功能？

我能想象的最简单的结构是：

```
self::hello(/*a*/ 1, /*long*/ 2, /*list*/ 3, /*of*/ 4); 
```

[offtopic]Love Obj C...**需要**命名参数：`[self helloA:1 long:2 list:3 of:4];`[/offtopic]

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:53:04.833

PHP**不提供这样的功能**，但它可以在很大程度上被伪造。我刚写了这个东西。不是 100% 测试，但如果使用正确，它会工作。

**如何使用它的**示例：****

 **```
call_user_func_args(function($a1, $a2, array $a3 = null, $a4 = null){
    var_dump(func_get_args());
}, array(
    'a1'    => 1,
    'a3'    => null,
    'a2'    => 2,
));
// Output
array (size=3)
  0 => int 1
  1 => int 2
  2 => null 
```

它在类前面使用，因为它是用于**PHP 5.3 或更高版本**`\`的命名空间代码。删除以尝试在 5.2 中使用它，但不能保证。**`\`**

 **这是代码：

```
/**
* Calls a function with named arguments.
* Just written and quite tested. If you find bugs, please provide feedback and I'll update the code.
* In a sane usage scenario, it will work. If you try your best, you might break it :)
* If true, $ValidateInput tries to warn you of issues with your Arguments, bad types, nulls where they should not be.
* 
* @copyright Claudrian
* @param callable $Callable
* @param array $Arguments
* @param bool $ValidateInput
* @return mixed
*/
function call_user_func_args($Callable, array $Arguments, $ValidateInput = false){
    // Make sure the $Callable is callable
    if(!is_callable($Callable)){
        trigger_error('$Callable is not a callable.', E_USER_WARNING);
        return false;
    }

    // No arguments, no game
    if(empty($Arguments)){
        return call_user_func($Callable);
    }

    // Validate the input $Arguments
    array_change_key_case($Arguments, CASE_LOWER);
    foreach($Arguments as $ArgumentName => $ArgumentValue){
        if(empty($ArgumentName) or is_numeric($ArgumentName)){
            trigger_error('$Arguments cannot have numeric offsets.', E_USER_WARNING);
            return false;
        }
        if(!preg_match('~^[a-z_][a-z0-9_]*$~', $ArgumentName)){
            trigger_error('$Arguments contains illegal character offsets.', E_USER_WARNING);
            return false;
        }
    }

    // Get access to the function
    try {
        $Reflector = new \ReflectionFunction($Callable);
    } catch(\Exception $Exception){
        trigger_error($Exception->getMessage(), E_USER_WARNING);
        return false;
    }

    // If function has not arguments, just call it but it's stupid
    $RequiredParameterCount = $Reflector->getNumberOfRequiredParameters();
    $ParameterCount = $Reflector->getNumberOfParameters();
    if(!$ParameterCount){
        return call_user_func($Callable);
    }

    // Prepare the $Parameters
    $Parameters = array();
    $PresetParameters = array();
    foreach($Reflector->getParameters() as $Parameter){
        $LowerName = strtolower($Name = $Parameter->getName());
        $Argument = ($Available = array_key_exists($Name, $Arguments)) ? $Arguments[$Name] : null;
        $Default = ($IsDefault = $Parameter->isDefaultValueAvailable()) ? $Parameter->getDefaultValue() : null;
        $Parameters[$LowerName] = array(
            'Name'              => $Name,
            'Offset'            => $Parameter->getPosition(),
            'Optional'          => $Parameter->isOptional(),
            'Nullable'          => $Parameter->allowsNull(),
            'Reference'         => $Parameter->isPassedByReference(),
            'Array'             => $Parameter->isArray(),
            'Defaultable'       => $IsDefault,
            'Default'           => $Default,
            'Available'         => $Available,
            'Provided'          => $Available ? $Argument : $Default,
        );
    }

    // Pop pointless nulls (from the last to the first)
    end($Parameters);
    while($Parameter = current($Parameters)){
        if(!$Parameter['Nullable'] or !$Parameter['Optional'] or !is_null($Parameter['Provided'])){
            break;
        }
        array_pop($Parameters); // Pop trailing null optional nullable arguments
        prev($Parameters); // Move one back
    }

    // Prepare the final $Arguments
    $Arguments = array();
    foreach($Parameters as $Name => $Parameter){
        if($ValidateInput){
            if(is_null($Parameter['Provided']) and !$Parameter['Nullable']){
                trigger_error("Argument '{$Name}' does not accept NULL.", E_USER_NOTICE);
            }
            if($Parameter['Array'] and !is_array($Parameter['Provided'])){
                if(!$Parameter['Nullable'] and is_null($Parameter['Provided'])){
                    trigger_error("Argument '{$Name}' should be an array.", E_USER_NOTICE);
                }
            }
            if(!$Parameter['Available'] and !$Parameter['Optional'] and !$Parameter['Defaultable']){
                trigger_error("Argument '{$Name}' is not optional and not provided.", E_USER_NOTICE);
            }
        }
        // Stoe this in the final $Arguments array
        $Arguments[] = $Parameter['Provided'];
    }
    // Invoke the actual function
    return $Reflector->invokeArgs($Arguments);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:04:15.533

你可以做

```
$a=1;
$long=2;
$list=3;
$of=4;
self::hello($a, $long, $list, $of); 
```

其他方式，将是使用 setter 在你打招呼之前设置对象中的值。尽管在您的示例中，它是一种私有方法...

您在这里的参考应该是[http://www.php.net/manual/en/functions.arguments.php](http://www.php.net/manual/en/functions.arguments.php)****

# objective-c - 我如何为 IOS 简化这个目标 C 代码？

> ID：13191301
> 
> 赞同：1
> 
> 时间：2012-11-02T07:51:33.057
> 
> 标签：objective-c, ios, xcode

我是开发新手，有时我会编写一些非常奇怪的代码。例如，在这种情况下，我制作了一个滚动视图，用于显示从 1 到 40 的水平数字列表。每个数字都是一个按钮。我不希望当用户点击一个数字时，这个按钮的背景图像会改变，当他点击另一个时，新按钮的背景也会改变（但第一个按钮会回到他的初始状态）。就像在标签栏上...

为此，我编写了 40 次相同的代码（每个按钮）：

```
- (IBAction)Bouton1:(id)sender  {

UIImage *buttonImageOn = [UIImage imageNamed:@"fond-footer-motif-rollover.png"];
UIImage *buttonImageOff = [UIImage imageNamed:@"fond-footer-motif.png"];
[sender setBackgroundImage:buttonImageOn forState:UIControlStateNormal];

[_button2 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button3 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button4 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button5 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button6 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button7 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button8 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button9 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button10 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button11 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button12 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button13 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button14 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button15 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button16 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button17 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button18 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button19 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button20 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button21 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button22 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button23 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button24 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button25 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button26 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button27 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button28 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button29 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button30 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button31 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button32 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button33 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button34 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button35 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button36 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button37 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button38 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button39 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button40 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
}

- (IBAction)Bouton2:(id)sender {  

UIImage *buttonImageOn = [UIImage imageNamed:@"fond-footer-motif-rollover.png"];
UIImage *buttonImageOff = [UIImage imageNamed:@"fond-footer-motif.png"];
[sender setBackgroundImage:buttonImageOn forState:UIControlStateNormal];

[_button1 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
//[_button2 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button3 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button4 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button5 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button6 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button7 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button8 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button9 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button10 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button11 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button12 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button13 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button14 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button15 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button16 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button17 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button18 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button19 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button20 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button21 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button22 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button23 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button24 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button25 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button26 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button27 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button28 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button29 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button30 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button31 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button32 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button33 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button34 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button35 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button36 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button37 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button38 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button39 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
[_button40 setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
} 
```

因此，当我单击一个按钮时，它会更改所有其他按钮.. 我怎样才能编写更好的代码？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:05:18.290

首先，您可以将所有按钮连接到相同的`IBAction`，因此您不需要编写 40 次动作。为了更简化它，你可以做某事。像这样：

您可以将所有按钮连接到`IBOutletCollection`假设我们称之为修改您的代码，如下所示`allButtons`：`NSArray`

```
- (IBAction)buttonTouched:(id)sender  {

    UIImage *buttonImageOn = [UIImage imageNamed:@"fond-footer-motif-rollover.png"];
    UIImage *buttonImageOff = [UIImage imageNamed:@"fond-footer-motif.png"];

    for (UIButton *button in self.allButtons)
    {  
        [button setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
    }

    [sender setBackgroundImage:buttonImageOn forState:UIControlStateNormal];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T08:07:00.707

您可以定义一个数组来存储按钮：

```
@property (strong, nonatomic) NSMutableArray *buttons; 
```

然后初始化数组并在其中动态存储按钮：

```
self.buttons = [[NSMutableArray alloc] init];
for (int i = 0; i < 40; i++) {
   // ...
   Button *button = [[Button alloc] initWithFrame:frame];
   button.tag = i;
   [self.buttons addObject:button];
} 
```

稍后，您可以通过标签（索引）访问任何按钮：

```
int index = 25;
Button *button = [self.buttons objectAtIndex:index]; 
```

in 按钮告诉用户单击了哪个按钮，`tag`例如，当您将手势识别器或触摸事件挂接到按钮时。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T07:59:56.593

我会给每个按钮一个标签。按钮编号 1 获取标签 1（不要使用标签 0！。如果您想使用零索引标签，请使用 10000 到 100039），按钮编号 40 获取标签 40

```
- (void)configureViewForActivatedButtonNumber:(NSInteger)activeButtonNumber {
    UIImage *buttonImageOn = [UIImage imageNamed:@"fond-footer-motif-rollover.png"];
    UIImage *buttonImageOff = [UIImage imageNamed:@"fond-footer-motif.png"];
    for (NSInteger i = 1; i <= 40; i++) {
        UIButton *button = [self.scrollView viewWithTag:i];
        if (i != activeButtonNumber) {
            [button setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
        }
        else {
            [button setBackgroundImage:buttonImageOn forState:UIControlStateNormal];
        }       
    }
}

- (IBAction)buttonPressed:(UIButton *)sender {
    NSInteger buttonTag = sender.tag;
    [self configureViewForActivatedButtonNumber:buttonTag];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-02T08:01:12.970

将项目放入数组中。然后你可以遍历每个项目并设置背景图像。

```
UIImage *buttonImageOn = [UIImage imageNamed:@"fond-footer-motif-rollover.png"];
UIImage *buttonImageOff = [UIImage imageNamed:@"fond-footer-motif.png"];

NSArray *buttons = @[sender, _button2, _button3, _button4, _button5, _button6, _button7];
for (UIButton *button in buttons) {
    [button setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-02T08:22:11.307

这是我的版本：

```
for (id subview in self.view.subviews) {
    if ([subview isKindOfClass:[UIButton class]]) {
        [(UIButton *)subview setBackgroundImage:buttonImageOff forState:UIControlStateNormal];
    }
} 
```

当然，如果在循环内部进行检查，您很可能需要其他一些东西。您可以决定为视图上的所有按钮设置一个数字的标签 ID。您可以在 Interface Builder 中轻松做到这一点，方法是选择所有按钮，然后在此处设置标签。

这个版本非常快并且有效

# php - PHP - 在“===”中首先评估什么？类型或值相等？

> ID：13191302
> 
> 赞同：3
> 
> 时间：2012-11-02T07:51:43.043
> 
> 标签：php

我们有一个比较运算符，它有一个运算符'==='。有人可以指导，首先评估的是“类型”还是价值平等？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-02T07:56:07.280

## 先输入

首先是类型检查。*如果不*先将它们都转换为相同的类型，就不可能比较不同类型的变量。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-02T07:56:18.887

我认为它是类型，因为`===`没有转换就相等，但有时值的编码相同，如“0”和“false”。As 0 !== false 我认为首先测试的是类型。

根据[源代码](https://github.com/php/php-src/blob/master/Zend/zend_operators.c)：

```
ZEND_API int is_identical_function(zval *result, zval *op1, zval *op2 TSRMLS_DC) /* {{{ */
{
  Z_TYPE_P(result) = IS_BOOL;
  if (Z_TYPE_P(op1) != Z_TYPE_P(op2)) {
     Z_LVAL_P(result) = 0;
     return SUCCESS;
  }
  /*then value check*/ 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-02T07:57:54.083

当然是类型，通常当您使用`==`运算符时，

1.  它将首先检查类型，如果它们不同，它将其中一个转换为相同，
2.  然后它将检查值是否相等，

所以总是首先评估**类型。**

**编辑**

**参考** 下面的artragis答案是`is_identical_function`php 5.4.8的完整源代码（感谢artragis）

```
ZEND_API int is_identical_function(zval *result, zval *op1, zval *op2 TSRMLS_DC) /* {{{ */
    {
        Z_TYPE_P(result) = IS_BOOL;
        if (Z_TYPE_P(op1) != Z_TYPE_P(op2)) {
            Z_LVAL_P(result) = 0;
            return SUCCESS;
        }
        switch (Z_TYPE_P(op1)) { // here it will check the Type and below it will check the value
            case IS_NULL:
                Z_LVAL_P(result) = 1;
                break;
            case IS_BOOL:
            case IS_LONG:
            case IS_RESOURCE:
                Z_LVAL_P(result) = (Z_LVAL_P(op1) == Z_LVAL_P(op2));
                break;
            case IS_DOUBLE:
                Z_LVAL_P(result) = (Z_DVAL_P(op1) == Z_DVAL_P(op2));
                break;
            case IS_STRING:
                Z_LVAL_P(result) = ((Z_STRLEN_P(op1) == Z_STRLEN_P(op2))
                    && (!memcmp(Z_STRVAL_P(op1), Z_STRVAL_P(op2), Z_STRLEN_P(op1))));
                break;
            case IS_ARRAY:
                Z_LVAL_P(result) = (Z_ARRVAL_P(op1) == Z_ARRVAL_P(op2) ||
                    zend_hash_compare(Z_ARRVAL_P(op1), Z_ARRVAL_P(op2), (compare_func_t) hash_zval_identical_function, 1 TSRMLS_CC)==0);
                break;
            case IS_OBJECT:
                if (Z_OBJ_HT_P(op1) == Z_OBJ_HT_P(op2)) {
                    Z_LVAL_P(result) = (Z_OBJ_HANDLE_P(op1) == Z_OBJ_HANDLE_P(op2));
                } else {
                    Z_LVAL_P(result) = 0;
                }
                break;
            default:
                Z_LVAL_P(result) = 0;
                return FAILURE;
        }
        return SUCCESS;
    } 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-11-02T07:59:03.507

操作员检查内部对象 id 是否相同。说，你有 2 个 class Foo { var $bar = 0} 的实例，即使对象是相同的类型，并且具有相同的值，它们也不是同一个对象，因此 === 将返回 false。

对于原语，类型和值都必须完全相同。顺序无所谓。这是逻辑与。

# html - 带有页眉、页脚和多个 100% 最小高度内容列的 CSS 布局

> ID：13191306
> 
> 赞同：4
> 
> 时间：2012-11-02T07:51:58.483
> 
> 标签：html, css

这就是我想要实现的目标：

[![预期结果](../Images/a1918c9c7d0ed5c2e5e2ca8fb6eaf95e.png)](https://i.stack.imgur.com/xiOn6.png)

*   即使内容没有垂直填充视口，页脚也应该留在屏幕底部。
*   内容列的边框应始终为 100% 内容高度。由于列的数量和宽度会因页面而异，因此无法使用背景图像到假列边框。
*   当所有内容都可见时不应该有滚动条（示例 1）。
*   解决方案应该是所有的 HTML/CSS，没有 JS。
*   最低浏览器支持应为 IE9+ 和最新桌面版本的 Firefox、Chrome、Safari、Opera；没有怪癖模式。
*   页眉/页脚/内容的宽度始终是固定的（因此页眉和页脚不需要放置在内容区域内）。页眉和页脚的高度也是固定的。

我尝试了[Fluid Width Equal Height Columns](https://css-tricks.com/fluid-width-equal-height-columns/)和[这个粘性页脚示例](https://web.archive.org/web/20161118224005/http://ryanfait.com:80/resources/footer-stick-to-bottom-of-page/)中的技术，但无法同时满足所有要求。任何提示表示赞赏。

编辑：到目前为止，我所做的最远的是模仿在 webkit 浏览器中正常工作但在 IE9 和 Opera 中不能正常工作的表格。[看这里的小提琴](https://jsfiddle.net/xLTJp/)。

HTML：

```
<div class="table outer">
    <div class="row header">
        <div class="cell">header</div>
    </div>
    <div class="row content">
        <div class="cell">
            <div class="table inner">
                <div class="row">
                    <div class="cell">content 1</div>
                    <div class="cell">content 2</div>
                    <div class="cell">content 3</div>
                </div>
            </div>
        </div>
    </div>
    <div class="row footer">
        <div class="cell">footer</div>
    </div>
</div> 
```

CSS：

```
html, body {
    height: 100%;
}
.table {
    display: table;
    min-height: 100%;
    height: 100%;
}
.table.outer {
    width: 500px;
    margin: 0 auto;
}
.row {
    display: table-row;
}
.cell {
    display: table-cell;
}
.header, .footer {
    height: 25px;
    background-color: #999;
}
.content {
    background-color: #eee;
}
.table.inner {
    width: 100%;
    min-height: 100%;
    height: 100%;
}
.table.inner .cell {
    width: 33%;
    border-right: 1px dashed #c00;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-02T13:03:04.843

虽然不是语义上理想的解决方案，但我能找到实现所有规定要求的唯一方法是回到 90 年代并使用表格进行布局。

[看这里的小提琴](http://jsfiddle.net/wGtcF/)。

HTML：

```
<!DOCTYPE html>
<html>    
<head>
    <meta charset="utf-8">
</head>
<body>
    <table class="outer">
        <tr>
            <td class="header" colspan="3">header</td>
        </tr>
        <tr class="content">
            <td>content1</td>
            <td>content2</td>
            <td>content3</td>
        </tr>
        <tr>
            <td class="footer" colspan="3">footer</td>
        </tr>
    </table>
</body>
</html> 
```

CSS：

```
html, body {
    height: 100%; margin: 0;
}
.outer {
    min-height: 100%;
    height: 100%;

    width: 500px;
    margin: 0 auto;
}
.header, .footer {
    height: 25px; background-color: #999;
}
.content td {
    width: 33%;
    background-color: #eee;
    border-right: 1px dashed #c00;
    vertical-align: top;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:00:34.423

试试这个 ：

```
#footer {
   position:fixed;
   left:0px;
   bottom:0px;
   height:30px;
   width:100%;
}

/* IE 6 */
* html #footer {
   position:absolute;
   top:expression((0-(footer.offsetHeight)+(document.documentElement.clientHeight ? document.documentElement.clientHeight : document.body.clientHeight)+(ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop))+'px');
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-08T14:23:01.777

如果有人感兴趣，我想出了一个使用 jQuery（而不是表）的解决方案。

[http://benpearson.com.au/web-development/3-column-fluid-layout-with-header-sticky-footer-and-100-percent-height-columns/](http://benpearson.com.au/web-development/3-column-fluid-layout-with-header-sticky-footer-and-100-percent-height-columns/)

# java - startsWith(String) 方法和数组

> ID：13191312
> 
> 赞同：3
> 
> 时间：2012-11-02T07:52:24.440
> 
> 标签：java, arrays, startswith

我必须取一个字符串并将该字符串转换为 piglatin。piglatin有三个规则，其中之一是：

*如果英语单词以元音开头，则返回英语单词 + "yay" 用于 piglatin 版本。*

所以我诚实地尝试这样做，希望得到一个错误，因为 startsWith() 方法接受一个字符串作为参数，而不是一个数组。

```
 public String pigLatinize(String p){
    if(pigLatRules(p) == 0){
        return p + "yay";
    }
}

public int pigLatRules(String r){
    String vowel[] = {"a","e","i","o","u","A","E","I","O","U"};
    if(r.startsWith(vowel)){
        return 0;
    }        
} 
```

但如果我不能使用数组，我将不得不做这样的事情

```
if(r.startsWith("a")||r.startsWith("A")....);
     return 0; 
```

并测试每一个不包括 y 的元音，这会占用大量空间，就我个人而言，我认为它看起来相当混乱。

在我写这篇文章时，我正在考虑以某种方式通过迭代对其进行测试。

```
 String vowel[] = new String[10];
 for(i = 0; i<vowel[]; i++){
     if(r.startsWith(vowel[i]){
         return 0;
     } 
```

我不知道这种迭代尝试是否有意义。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T07:59:38.467

将所有这些字符放入 HashSet 中，然后执行查找以查看字符是否有效并相应地返回 0。

请通过一些关于 HashSet 插入/查找的示例。它应该是直截了当的。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T13:49:54.613

你的代码：

```
String vowel[] = new String[10];
for(i = 0; i<vowel[]; i++){
    if(r.startsWith(vowel[i]){
        return 0;
     }
} 
```

实际上非常接近应该工作的解决方案（假设您实际上在数组中放置了一些值）。

您需要在其中输入什么值，正如您提到的，您可以使用元音的所有可能值填充数组。那些当然是

```
String[] vowel={"a","A","e","E","i","I","o","O","u","U"}; 
```

现在你有了这个，你想在数组上循环（如你所计算的那样）并进行检查：

```
public int pigLatRules(String r){
    final String[] vowels={"a","A","e","E","i","I","o","O","u","U"};
    for(int i = 0; i< vowels.length; i++){
        if(r.startsWith(vowels[i])){
             return 0;
         }
    }
    return 1;
} 
```

不过，您可以对此进行一些改进。有些是最佳实践，有些只是选择，有些是性能。

至于最佳实践，您当前正在从此函数返回一个 int 。您最好将此函数的结果更改为布尔值（如果您没有遇到它们，我建议您查找它们）。

至于你说你不喜欢有一个包含大写和小写元音的数组的选择。这里有一些信息。字符串上有很多方法[http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html)其中之一是 toLowerCase() 你可以猜到小写整个字符串. 如果您对传递给您的函数的工作执行此操作，您将需要执行的检查量减少一半。

您还可以进入更多内容，但这只是一点点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T08:00:45.467

将所有元音放在一个字符串中，抓住您正在测试的单词中的第一个字符，然后查看您的字符是否在所有元音的字符串中。

# php - 具有不同字段集的记录的数据库设计

> ID：13191314
> 
> 赞同：4
> 
> 时间：2012-11-02T07:52:56.130
> 
> 标签：php, mysql, database-design, application-design

# 问题

**1)** 我正在寻找一种合适的方式来设计 Web 应用程序，特别是数据库模式，这样我就可以拥有一个包含给定服务的所有核心字段的基表，然后根据服务的类型，我将需要一组额外的字段与服务相关联。

我需要以这样一种方式执行此操作，即执行搜索将是直截了当的并提供合理的性能。我可能正在查看某种类型的全文搜索，但最多只有 5 个应用程序并发用户。

我对该应用程序的最终目标是能够在整个数据库中搜索任何给定的关键字并返回所有相关记录。我最初希望将每种服务类型的设置字段拆分为具有自己列的单独表，但我认为这样做可能会导致更复杂的搜索查询（许多 JOIN）或更多查询要运行每次搜索。

对于提出的任何解决方案，您能否具体说明您认为这很合适的原因？

**2）** 我的另一个问题（希望在下面变得清楚）是我的设计目前包含一个“服务类型”表，我将在其中定义每个产品的核心类型，然后每个服务都是给定产品的“实例” .

我的问题是，如果我同时拥有产品和服务类型表，我感觉可能最终会重复大多数事情。因此，避免这种重复是我在设计中试图实现的另一个主要目标。

# 更多细节

我目前正在编写一个自定义 Web 应用程序，用于跟踪基于每个客户提供的服务，不仅用于开票（计费周期、开始/结束日期、价格），还用于记录这些服务（关联的用户帐户、IP地址、实物资产等）。

每项服务都基于一个“产品”表，该表定义了基本产品的名称、价格、计费期限、描述等……我们可以有多个相同类型的产品（例如，对于给定产品的不同计划类型）。例如，我们有以下产品：

*   共享虚拟主机计划一
*   共享虚拟主机计划二
*   共享虚拟主机计划三
*   专用服务器计划
*   虚拟专用服务器方案一
*   虚拟专用服务器计划二

现在我遇到的问题是，我们有许多对任何给定服务都通用的字段，但我们也有许多字段会发生变化，具体取决于被跟踪的服务的“类型”。根据服务的类型，我将显示所有服务的基本表单，以及用于添加/编辑等的适当表单......

例如，我们有以下服务类型，每个产品（如上所示）都与这些核心服务类型之一相关：

*   共享虚拟主机
*   专用主机
*   虚拟专用主机
*   ADSL
*   ...

# 我可能的解决方案

## 当前解决方案 - 多个表

目前，在我的数据库中，我有：

**服务类型**

*   ServiceTypeID INT PK
*   类型 VARCHAR(40)

**产品**

*   产品ID INT PK
*   名称 VARCHAR(40)
*   说明文字
*   价格小数
*   BillingDuration INT
*   TypeID INT (FK ServiceTypes.ServiceTypeID)

**服务**

*   服务ID INT PK
*   ProductID INT (FK: Product.ProductID)
*   名称 VARCHAR(40)
*   说明文字
*   价格小数
*   BillingDuration INT
*   主动位
*   开始日期日期时间
*   结束日期 DATETIME

这些是任何服务的主表，然后我有扩展属性的附加表：

**服务ADSLInfo**

*   ServiceADSLInfoID INT PK
*   ServiceID INT (FK: Service.ServiceID)
*   FNN VARCHAR(10)
*   用户名 VARCHAR(20)
*   密码 VARCHAR(20)
*   LocationID INT (FK: Locations.LocationID)
*   ModemAssetID INT (FK: Assets.AssetID)

**服务虚拟服务器信息**

*   ServiceVirtualServerInfo INT PK
*   ServiceID INT (FK: Service.ServiceID)
*   服务器名称 VARCHAR(20)
*   IPAddress INT (FK: IPAddresses.AddressID)
*   HostServer INT (FK: Assets.AssetID)
*   用户名 VARCHAR(20)
*   密码 VARCHAR(20)

**ServiceSharedHostingInfo**

*   ServiceSharedHostingInfoID INT PK
*   ServiceID INT (FK: Service.ServiceID)
*   主机名 VARCHAR(50)
*   HostServer INT (FK: Assets.AssetID)
*   DiskSpaceQuota INT
*   带宽配额 INT

## 其他解决方案 - 单表

我正在考虑将所有与服务相关的信息存储在一个表中，而不管服务的类型如何，并且如果该特定服务不需要它们，则只需将这些值设置为 NULL。

*   服务ID INT PK
*   ProductID INT (FK: Product.ProductID)
*   名称 VARCHAR(40)
*   说明文字
*   价格小数
*   BillingDuration INT
*   主动位
*   开始日期日期时间
*   结束日期 DATETIME
*   用户名 VARCHAR(20)
*   密码 VARCHAR(20)
*   FNN VARCHAR(10)
*   LocationID INT (FK: Locations.LocationID)
*   AssetID INT (FK: Assets.AssetID)
*   ...

我觉得这在搜索方面也可能是一个更容易使用的解决方案，因为为了服务任何与服务相关的数据，我可以在单个表上使用全文搜索，而不用担心将记录连接在一起。

我在这里主要担心的是我最终会得到一个包含 30 多列的表，这似乎会变得非常混乱。另一件事是它并没有解决我的两个问题，因为我仍然需要核心 serviceTypes 表来确定我需要为任何给定搜索使用哪些字段 - 因此仍然与我的产品表有一些重叠。

我想知道是否无法避免与产品表的某种程度的重叠？

## 实体-属性-值模型

我也考虑过这个设计。总的来说，我觉得这对我来说太过分了，因为我不需要事情变得*那么*灵活和动态。根据服务类型，我们将需要一组字段，但是我们需要收集的每种核心服务类型的数据我看不到很快会发生变化，所以这可以是静态的。

在我看来，实现这种级别的灵活性所需的应用程序逻辑对于它带来的好处来说太复杂了。

必须根据从数据库中查询的字段类型等来确定要显示的 HTML 表单字段的类型……听起来很痛苦。

如果我可以提供任何进一步的细节，请告诉我！我希望一切都清楚。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:44:12.397

我认为这一切都取决于您对前进的设想，尤其是在新服务进入系统的情况下，所有这些都是有效的方法，但都有利有弊。

使用第一种方法，您可以获得更干净的主表，但是对于每个服务，您必须创建一个单独的表，对于新服务，您必须继续这样做，对于您的应用程序，这可能会增加一些复杂性，因为每个服务都需要自己的一组用于提取数据的查询（不确定您的架构是什么，所以是在黑暗中刺伤。我个人觉得这最终会受到伤害。

非规范化表方法更容易查询，但是您可能会创建一个怪物表，其中包含针对某些类型的大量不必要的数据。稍微不同的方法可能是添加通用字段，即 10 个称为 numX 的字段（其中 x 是 1 到 10），其中包含数字，10 个称为 textx 等等，我认为销售人员使用这种方法为客户定制字段。

键值字段方法就像你说的最灵活，但是你失去了类型识别之类的东西，至少数据库中的所有内容都需要是相同的类型。

这取决于您的应用程序的性质，5 个并发用户的性能不应该是问题，所以也许应该易于实施。通用方法大纲（销售人员方法）可能适用于此，并可能涵盖您的其他服务向前发展并为您提供一点未来证明，但这取决于您设想的变化量。

如果更改要保持一致，则加载具有不同字段的服务等，键/值方法可能是您最好的选择，但在那个阶段您也可以查看一些 nosql 方法，因为它们可能适合这里的账单，但 mysql 会仍然有效，只是开始讨论。

**更新**

同意评论，如果您不打算对服务进行过于频繁的更改，我会跳过 noSQL，因为它会增加您的开发的复杂性，这可能不会使您受益。

如前所述，服务类型可能不会发生太大变化，那么我认为非规范化的通用方法可能对您有用。这样，您的应用程序可以有一个服务区域，并且您可以将其他属性视为“自定义字段”并根据需要添加。这样你的应用程序是通用的。一个不幸的副作用是，您将不得不通过某种逻辑在您的应用程序中以某种方式对其进行管理，以测试它是否存在，并且您必须提取所有字段，无论它们是否已填充，对于您目前的需求，可能不是一个巨大的权衡。

通用方法的示例（非常非常简单）示例。

![在此处输入图像描述](../Images/ee5d88aed3b9228711d5eb62d4e60f8b.png)

*   通用字段是所有服务共享的主要字段。

**这可能会使搜索变得有点痛苦，因为您可能（取决于机制）必须在搜索中包含所有字段**

# php - Symfony2 和提交机智 JavaScript：如何获取 html 内容

> ID：13191316
> 
> 赞同：1
> 
> 时间：2012-11-02T07:53:03.260
> 
> 标签：php, javascript, json, post, symfony

我在 Symfony2 项目中有一个表格，我需要提交表格。第一个想法是使用 ajax 提交，但问题是这不会通过 symfony2 所需的验证，并且我收到 CSRF 错误消息（请参阅我之前的问题：[Symfony2：CSRF 令牌无效。请尝试重新提交表单](https://stackoverflow.com/questions/13154035/symfony2-the-csrf-token-is-invalid-please-try-to-resubmit-the-form)） .

感谢@Elnur 的回答，我现在可以使用 $post 提交表单，但还有另一个问题。

使用 Ajay，我得到了一个 html 响应，并且我能够将此响应分配给一个 HTML 元素：

```
$.ajax({
    type: "POST",
    async: true,
    url: href,
    cache: false,
    dataType: "json",
    success: function(data) {
        $("#content .contentwrap .itemwrap").html( data.content );
    }
}); 
```

这是我得到的回复：

```
<div class="item item-last">
<h1>Create Affiliation</h1>
        <div class="error">
        <ul><li>The CSRF token is invalid. Please try to resubmit the form</li></ul>
        <ul><li>The Affiliation should not be blank</li></ul>

    </div>

</div>
<div class="item item-last">
<form action="/app_dev.php/user/submission/affiliation/create/4a0ad9f8020c5cd5712ff4c4c8921b32?ajax=no" method="POST" class="authorForm" >
    <div style="float:left;">
        <table width="100%" cellspacing="0" cellpadding="0">
            <tr>
                <td>
                    <label for="submissionAffiliationForm_affiliation" class=" required">Affiliation</label>
                </td>
                <td>
                    <input type="text" id="submissionAffiliationForm_affiliation" name="submissionAffiliationForm[affiliation]" required="required"    size="40" />
                </td>
            </tr>
            <tr>
                <td>
                    &nbsp;
                </td>
                <td>
                    <div class="button button-left button-cancel">
                        <img src="/bundles/sciforumversion2/images/design/new/button-red.png"/>
                        <a href="/app_dev.php/user/submission/author/edit/4a0ad9f8020c5cd5712ff4c4c8921b32/0" class="submission_link">cancel</a>
                    </div>
                    <div style="float: left;">&nbsp;</div>
                    <div class="button button-left button-cancel">
                        <img src="/bundles/sciforumversion2/images/design/new/button.png"/>
                        <input type="submit" name="login" value="submit" />
                    </div>
                    <div style="clear: both;"></div>
                </td>
            </tr>
        </table>
    </div>

    <input type="hidden" id="submissionAffiliationForm__token" name="submissionAffiliationForm[_token]" value="de9690f61f0ee5f30fdcc5152f44e76787f34bbb" />

</form>
</div> 
```

但是现在，当使用 post 时：

```
$.post($this.attr('action'), $this.serialize(), function (data) {
    $("#content .contentwrap .itemwrap").html( data );
}); 
```

我不再收到 HTML 而是 JSON 格式的响应，我不知道如何从中提取正确的信息。

这是我从帖子中得到的回复：

```
{"responseCode":400,"errors":false,"submitted":false,"content":"<!DOCTYPE html>\n<html>\n    <head>\n        <meta http-equiv=\"Content-Type\" content=\"text\/html; charset=utf-8\" \/>\n        <meta http-equiv=\"refresh\" content=\"1;url=\/app_dev.php\/user\/submission\/4a0ad9f8020c5cd5712ff4c4c8921b32\" \/>\n\n        <title>Redirecting to \/app_dev.php\/user\/submission\/4a0ad9f8020c5cd5712ff4c4c8921b32<\/title>\n    <\/head>\n    <body>\n        Redirecting to <a href=\"\/app_dev.php\/user\/submission\/4a0ad9f8020c5cd5712ff4c4c8921b32\">\/app_dev.php\/user\/submission\/4a0ad9f8020c5cd5712ff4c4c8921b32<\/a>.\n    <\/body>\n<\/html>","notice":""} 
```

这是控制器的外观：

```
$em         = $this->getDoctrine()->getEntityManager();
    // get the user object
    $user       = $this->get('security.context')->getToken()->getUser();
    $submission = $em->getRepository('SciForumVersion2Bundle:Submission')->findOneBy( array("hash_key"=>$hash_key) );
    $author     = $em->getRepository('SciForumVersion2Bundle:SubmissionAuthor')->findOneBy( array("id"=>$author_id, "hash_key"=>$hash_key) );
    if( $author == null ) {
        $author = new SubmissionAuthor();
        $author->setPerson( new Person() );
    }

    $enquiry    = new Affiliation();
    $formType   = new SubmissionAffiliationFormType();
    $form       = $this->createForm($formType, $enquiry);

    $request    = $this->getRequest();
    $valid      = true;
    $error      = '';
    if( $request->get('cancel') == 'yes' ) return $this->redirect($this->generateUrl('SciForumVersion2Bundle_user_submission', array("key"=>$submission->getHashKey())));
    if ($request->getMethod() == 'POST' && $request->get('ajax') == 'no') {

        $form->bindRequest($request);

        if ($valid = $form->isValid()) {

            if( $valid ) {

                $em->persist($enquiry);
                $em->flush();

                $uAff = new UserAffiliation();
                $uAff->setUserId( $user->getId() );
                $uAff->setAffiliationId( $enquiry->getId() );
                $uAff->setUser( $user );
                $uAff->setAffiliation( $enquiry );
                $em->persist($uAff);
                $em->flush();

                // Redirect - This is important to prevent users re-posting
                // the form if they refresh the page
                return $this->redirect($this->generateUrl('SciForumVersion2Bundle_user_submission', array("key"=>$submission->getHashKey())));
            }
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T08:25:48.390

您的问题是您正在返回一个全新的 HTML 内容。
您只需要返回您的 JS 可以理解并按照您想要的方式处理的信息。

```
use Symfony\Component\HttpFoundation\Response; 
```

SF 中的此类允许您返回纯内容。

这是一种使用它的方法。

```
if ($valid) {
    $data = array(
        'success' => true,
        'responseCode' => 307, /* Redirect Temp */
        'redirectURI' => $this->generateUrl('SciForumVersion2Bundle_user_submission', array("key"=>$submission->getHashKey())),
        'message' => '<h3>You\'re about to be redirected...</h3>'
    );
} else {
    $data = array(
        'success' => false,
        'responseCode' => 400, /* Bad Request */
        'message' => '<h3 class="error">Cannot send form<br>* Field NAME is empty</h3>'
    );
}
$json = json_encode($data);
/* Response($data,$statusCode,$additionnalHeaders) */
return new Response($json,200,array('Content-Type'=>'application/json')); 
```

然后在你的 JS

```
$.ajax({
    url: "uri/to/controller",
    type: "POST",
    data: values, /* Sent data */
    cache: false,
    success : function(data,e,xhr){
        if (xhr.status == 200) {
            if (data.responseCode == 200) { /* Success, just a message */
                $("#content .contentwrap .itemwrap")
                    .addClass("success")
                    .html(data.message);
            } else if (data.responseCode == 307) { /* Redirection */
                $("#content .contentwrap .itemwrap")
                    .addClass("success")
                    .html(data.message);
                setTimeout(function(){
                    $(window).attr("location",data.redirectURI);
                },3000);
            } else if (data.responseCode == 400) { /* Invalid Form */
                $("#content .contentwrap .itemwrap")
                    .addClass("error")
                    .html(data.message);
            } else { /* Could not understand Response Code */
                $("#content .contentwrap .itemwrap")
                    .html("<h3>Technical issue occured. Please come back later.</h3>");
            }
        } else {
            $("#content .contentwrap .itemwrap")
                .html("<h3>Technical issue occured. Please come back later.</h3>");
        }
    }
}) 
```

您可以想象要传递的任何参数`$data`

我使用`HTTP/1.1`代码与 Javascript*对话*
，但你可以使用任何你想要的东西 例如：

```
'action' => 'redirect'
'youAreGoingTo' => 'printAwesomeMessage' 
```

JS

```
if (data.action == 'redirect')

if (data.youAreGoingTo == 'printAwesomeMessage') 
```

# android - 安卓usb与PC通讯

> ID：13191317
> 
> 赞同：0
> 
> 时间：2012-11-02T07:53:04.227
> 
> 标签：android, linux, usb

如何实现Android usb与Linux代码的通信。我使用 libusb 库，并引用里面的代码。但它不能交流。电脑码和手机码任何一个都可以。谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:13:11.830

我认为您正在尝试在您的 android 设备和 PC 之间移动一些文件。一个更简单的实现方法是使用 adb 接口来做到这一点。您可以创建一个批处理文件或 shell 脚本来执行您想要在 android 设备上执行的操作。

# c# - 'tblX' 上的属性 'x' 无法设置为 'null' 值。您必须将此属性设置为“Int16”类型的非空值

> ID：13191320
> 
> 赞同：0
> 
> 时间：2012-11-02T07:53:18.527
> 
> 标签：c#, database, linq, entity-framework, types

```
List<tblX> messages = (from x in db.tblX where x.msg_id == id_id 
                           || x.name == firstName  select x).ToList(); 
```

我得到错误：

> 'tblX' 上的属性 'x' 无法设置为 'null' 值。您必须将此属性设置为“Int16”类型的非空值。

我在 db 中有一个属性 msg_blocked，它可以为空且为整数。我知道我需要进行转换，但我不使用它或在我的 linq 中的任何地方都不需要它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T08:15:21.437

似乎您对 tblX 的类定义与数据库表示不匹配，因此要么修改您的类以接受可为空的值，要么只是投影出所需的字段：

```
List<tblX> messages = (from x in db.tblX 
                   where (x.msg_id == id_id || x.name == firstName)
                   select new tblX
                   {
                    //required fields
                    msg_id = x.msg_id,
                    name = x.name,
                    ...
                   }).ToList(); 
```

`select x` 附录：你遇到这个问题的原因是在你把它翻译成一个 `select new tblX` 项目到所有可用字段时的幕后 。提供的代码更明确，并指定要查询然后投影到的字段。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T07:57:10.320

```
List<tblX> messages = (from x in db.tblX 
                       where (x.msg_id == id_id || x.name == firstName) && 
                              x.msg_blocked != null
                       select x).ToList(); 
```

# oracle - 已注册 Oracle 10g portlet 但无法放置

> ID：13191322
> 
> 赞同：0
> 
> 时间：2012-11-02T07:53:26.427
> 
> 标签：oracle, oracle10g, portlet

我正在使用 Oracle Portal 10.1.2.3.0 并使用 JDeveloper 部署了一个 portlet 应用程序，它说它成功了。

我也可以看到应用程序部署在正确的 OC4J 容器实例中。

当我登录到门户网站时，我可以看到这个 portlet 的提供者注册记录。

1.  登录门户
2.  单击任意页面上的编辑
3.  单击导航器
4.  单击提供程序选项卡
5.  点击注册提供商
6.  在我之前部署的 portlet 上单击 Edit Registration
7.  单击连接选项卡
8.  我看到提供者 URL：someserver/publications-dev/providers
9.  我可以访问该 URL 并查看以下输出：

    恭喜！您已成功到达您的提供商的测试页面。识别 Portlet... PublicationsNewsPortlet PublicationsNewsDetailPortlet PublicationsNewsDetailListPortlet PublicationsCareersPortlet PublicationsCareersDetailPortlet PublicationsCareersDetailListPortlet 识别组件版本... ptlshare.jar 版本：10.1.2.0.2 pdkjava.jar 版本：10.1.2.0.2

然而，当我尝试将 portlet 添加到页面时，搜索 portlet 名称“Careers Widget Portlet”或“PublicationsCareersPortlet”什么也没有发现。这在 provider.xml 中定义：

```
<name>PublicationsCareersPortlet</name>
<title>Careers Widget Portlet</title> 
```

谁能给我一个提示我可能会错过什么？Providers Test Paqe 如何声明它可以识别 portlet 但我无法将它们添加到页面中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-12T01:49:36.313

原来注册存在问题 - 由于某种原因我无法取消注册提供程序：此提供程序不可删除。(WWC-43169)。

相反，我创建了一个新的注册，它现在可以工作了。

# c#-2.0 - 如何刷新主窗体上的不同控件

> ID：13191323
> 
> 赞同：1
> 
> 时间：2012-11-02T07:53:28.353
> 
> 标签：c#-2.0

我有一个 Windows 窗体应用程序，窗体上不同数量的控件是 WPF 用户控件。我已将元素主机控件放在 Windows 窗体上，这是在启动时加载我的用户控件。

我想要的是在主页上的某个时间加载和刷新不同数量的用户控件。因为我需要加载新数据。

# android - 如何改变系统亮度？

> ID：13191336
> 
> 赞同：1
> 
> 时间：2012-11-02T07:54:40.270
> 
> 标签：android

我想使用我的应用程序更改系统亮度。但是，一旦我退出该应用程序。亮度再次重置为默认值。为了永久更改亮度设置，我该怎么做？我尝试了几种方法，但所有方法都只能在我的应用程序没有关闭之前工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T09:00:34.147

此代码是用于更改 android 设备的 brigtness 的复杂工作。

```
Settings.System.putInt(this.getContentResolver(), Settings.System.SCREEN_BRIGHTNESS, 20);

    WindowManager.LayoutParams lp = getWindow().getAttributes();
    lp.screenBrightness =0.2f;// 100 / 100.0f;
    getWindow().setAttributes(lp);

    startActivity(new Intent(this,RefreshScreen.class)); 
```

还给清单文件以下权限

```
<uses-permission android:name="android.permission.WRITE_SETTINGS"/> 
```

# java - 如何在 java 类中使用 sling 对象

> ID：13191347
> 
> 赞同：2
> 
> 时间：2012-11-02T07:56:00.683
> 
> 标签：java, jsp, servlets, sling

如何在 java 类（Servlet）中使用 sling 对象，我可以在 jsp 文件中使用它。我们可以在java文件中使用它吗？像这样在 Java 类中：

```
sling.getService(LoginServiceClient.class) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:38:03.157

我相信您正试图`LoginServiceClient`在某个 servlet 中获取 OSGi 服务 ( )。如果您的 servlet 也由 OSGi 管理（因此它带有`@Component`注释），那么您可以使用依赖注入来获取您想要的任何服务：

```
@Component(immediate = true)
@Service
@Properties({
    @Property(name = ServletResolverConstants.SLING_SERVLET_PATHS, value = "/my/servlet/path"),
    @Property(name = ServletResolverConstants.SLING_SERVLET_METHODS, value = { HttpConstants.METHOD_GET })
})

public class MyServlet extends SlingSafeMethodsServlet {
    @Reference
    LoginServiceClient loginServiceClient;
...
} 
```

所有这些注释都由[Maven SCR 插件](http://felix.apache.org/site/apache-felix-maven-scr-plugin.html)处理。

# android - Android JellyBean 网络媒体问题

> ID：13191350
> 
> 赞同：12
> 
> 时间：2012-11-02T07:56:11.473
> 
> 标签：android, android-4.2-jelly-bean

我有一个应用程序正在播放在公共 URL 上可用的 MP3 文件。不幸的是，服务器不支持流式传输，但 Android 使用户体验完全可以接受。

除了 JellyBean 之外，这一切都适用于所有平台。在请求 MP3 时，JB 请求 Range-Header 10 次。只有在第 10 次尝试之后，它似乎才恢复到旧的行为。[看起来这个已经报告的问题](https://code.google.com/p/android/issues/detail?id=35790)。

我发现了另一个[SO 线程](https://stackoverflow.com/questions/11606146/android-media-player-how-to-disable-range-request-broken-audio-streaming-on)，其中推荐的解决方案是使用*Tranfer-Encoding: chunked* header。但就在下面有一条评论说这不起作用。

目前我无法控制提供上述响应标头，但在我能够做到这一点之前，我想在客户端寻找替代方案。（即便如此，我只能返回一个包含从 0 到 Content-Length - 1 的索引的 Content-Range。例如 Content-Range：字节 0-3123456/3123457）。

我试图做的是通过以下方式在客户端实现伪流：

1.  打开 MP3 的输入流。
2.  使用 JLayer 解码传入的字节。[我在这个链接](http://mindtherobot.com/blog/624/android-audio-play-an-mp3-file-on-an-audiotrack/)上找到了解码。
3.  将解码后的数组字节发送到已经可播放的 stream_mode AudioTrack。

可以在那里找到进行解码的代码，我只对其进行了修改，因此它将接收一个 InputStream：

```
public byte[] decode(InputStream inputStream, int startMs, int maxMs) throws IOException {
        ByteArrayOutputStream outStream = new ByteArrayOutputStream(1024);

        float totalMs = 0;
        boolean seeking = true;

        try {
            Bitstream bitstream = new Bitstream(inputStream);
            Decoder decoder = new Decoder();

            boolean done = false;
            while (!done) {
                Header frameHeader = bitstream.readFrame();
                if (frameHeader == null) {
                    done = true;
                } else {
                    totalMs += frameHeader.ms_per_frame();

                    if (totalMs >= startMs) {
                        seeking = false;
                    }

                    if (!seeking) {
                        // logger.debug("Handling header: " + frameHeader.layer_string());
                        SampleBuffer output = (SampleBuffer) decoder.decodeFrame(frameHeader, bitstream);

                        if (output.getSampleFrequency() != 44100 || output.getChannelCount() != 2) {
                            throw new IllegalArgumentException("mono or non-44100 MP3 not supported");
                        }

                        short[] pcm = output.getBuffer();
                        for (short s : pcm) {
                            outStream.write(s & 0xff);
                            outStream.write((s >> 8) & 0xff);
                        }
                    }

                    if (totalMs >= (startMs + maxMs)) {
                        done = true;
                    }
                }
                bitstream.closeFrame();
            }

            return outStream.toByteArray();
        } catch (BitstreamException e) {
            throw new IOException("Bitstream error: " + e);
        } catch (DecoderException e) {
            throw new IOException("Decoder error: " + e);
        }
    } 
```

我请求时间块中的解码字节：从 (0, 5000) 开始，所以我将首先播放一个更大的数组，然后我请求跨越一秒钟的下一个字节数组：(5000, 1000), ( 6000、1000）、（7000、1000）等

解码速度足够快，并且在另一个线程中完成，一旦解码的字节数组可用，我将使用阻塞队列将其写入在另一个线程中播放的 AudioTrack。

问题是播放不流畅，因为块在轨道中不连续（每个块都是连续的，但添加到 AudioTrack 会导致播放马虎）。

总结一下：

1.  如果您遇到了这个 JellyBean 问题，您是如何解决的？
2.  如果你们中的任何人尝试了我的方法，我在上面的代码中做错了什么？如果这是您使用的解决方案，我可以发布其余代码。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T01:51:29.310

看起来您正在尝试开发自己的流媒体类型。这可能会导致播放出现块状或中断，因为您必须尝试连续的信息管道，而不会耗尽要读取的字节。

基本上，您必须考虑普通流媒体客户端处理的所有情况。例如，有时某些块可能会在传输过程中丢失或丢失；有时音频播放可能会赶上下载；cpu 开始滞后，影响播放；等等等等

如果你想继续沿着这条路走下去，需要研究的是滑动窗口实现，它本质上是一种抽象技术，试图保持网络连接始终活跃和流畅。你应该可以通过谷歌找到几个例子，这里是一个开始的地方：[http ://en.wikipedia.org/wiki/Sliding_window_protocol](http://en.wikipedia.org/wiki/Sliding_window_protocol)

编辑：在解决此问题之前，一种可能对您有所帮助的解决方法是将 SDK <16 的源代码`MediaPlayer.java`和`AudioManager.java`来自 SDK <16 的源代码包含到您的项目中，看看是否能解决问题。如果您没有源代码，您可以使用 SDK 管理器下载它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T01:28:13.217

AudioTrack 本质上是从 docs( `Will block until all data has been written to the audio mixer.`) 中屏蔽的。我不确定您是否在同一线程中读取文件并写入 AudioTrack；如果是这样，那么我建议您为 AudioTrack 启动一个线程。

# jquery - 在jquery中使用name vs id有什么好处

> ID：13191356
> 
> 赞同：16
> 
> 时间：2012-11-02T07:56:51.367
> 
> 标签：jquery

```
<input type ="button" name="buttonsel" id="buttonse1"/> 
```

`$("#buttonse1")`VS`$("[name=buttonse1]")`

jquery中使用name和id有什么好处

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-02T07:58:25.000

**编辑**

*   name= 中的名称在表单中必须是唯一的。id= 中的名称在整个文档中必须是唯一的。
*   JavaScript 需要唯一的名称，但是这里已经有太多的文档没有唯一的 name= 名称，所以 W3 人发明了要求唯一的 id 标签。不幸的是，旧的浏览器不理解它。因此，您的表单中需要两种命名方案。

在此处查看完整的详细信息：http: [//mindprod.com/jgloss/htmlforms.html#IDVSNAME](http://mindprod.com/jgloss/htmlforms.html#IDVSNAME)

* * *

Id 可以识别元素的唯一性。

有效的 html 包含每个元素的唯一 ID。

```
<input type ="button" name="buttonsel" id="buttonse1"/>
<input type ="button" name="buttonsel" id="newbutton"/>//valid for both id and name
<input type ="button" name="buttonsel" id="buttonse1"/>//not valid as id repeated but name is valid even if repeated 
```

但是您可以为可能无法不均等地找到元素的多个项目赋予相同的名称。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-02T07:58:08.463

按 ID 选择仍然比 jquery 中的名称更快。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-02T08:10:39.457

好的，`$("#")`与 JS 原生相比`document.getElementById()`速度较慢，但​​它是您能找到的最快的 jQuery 选择器。但不要在意速度。`#`很简单`#`，你的 DOM 中只有一个，对吗？

访问属性总是较慢，如果我们考虑到我们计划`name`像我们正在处理的那样使用`classes`并且我们计划拥有 1000 多个具有相同名称的元素....如果这是您所关心的，那么您可以进行一些速度测试.

无论如何，如果您已经拥有一个 ID，并且您知道该 ID 是*哇！*比你告诉我 1 为什么不使用它的原因？:)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-02T08:09:06.587

如果您正在使用，`id`那么您将只选择 1 个元素，如果您已经找到一个元素，JS 将停止寻找另一个元素。

通过使用`name`in`$('[name="something"]')`你可以拥有超过 1 个元素。jQuery 将在每个 HTML 节点中查找`name="something"`. 并且`name`属性仅对`input`元素有效（即使您可以在其他元素中使用它）。此外，可以有多个具有`name`属性的有效元素（例如：`<input type="radio"/>`和`<input type="checkbox"/>`）。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-02T08:03:01.863

`ID`是独特的。所有 HTML 元素都支持`ID`属性。在 jQuery 中，使用`id`选择器比使用更快`name`

`NAME`不是唯一的，多个元素可以共享相同`name`的 . `NAME`属性仅适用于`a`,`form`和`input`元素。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-02T08:03:33.597

最重要的是，您会发现在选择器中使用#id 会*快得多*。看这里：

[http://www.componenthouse.com/jQuery-Performance-analysis-of-selectors-td20.html](http://www.componenthouse.com/jQuery-Performance-analysis-of-selectors-td20.html)

其次，与在选择器中使用名称不同，HTML 元素上的 ID 将确保一定程度的唯一性。

# ios - 如何禁用 SLComposeViewController（Facebook、Twitter、...）的完成声音？

> ID：13191365
> 
> 赞同：1
> 
> 时间：2012-11-02T07:57:40.623
> 
> 标签：ios, facebook, twitter, slcomposeviewcontroller

有谁知道如何在 iOS 中禁用 SLComposeViewController 的完成声音？

在用户向例如 Facebook 或 Twitter 发布消息后播放声音。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-28T09:24:57.360

您可以执行以下操作：

使 SLComposeViewController 在按下“发送”时不发送推文。并手动发送推文。

1.递归遍历所有视图并找到“发送”按钮

```
// UIButton with width 50px
- (UIButton *)tweetSendButton:(UIView *)view
{
    for (UIView * subview in view.subviews)
    {
        if ([subview isKindOfClass:[UIButton class]]
            && subview.bounds.size.width == 50)
        {
            return (UIButton *)subview;
        }
        UIButton * button = [self tweetSendButton:subview];
        if (button) return button;
    }
    return nil;
}

...
UIButton * sendButton = [self tweetSendButton:_tweetController.view]; 
```

2\. 移除目标 SLComposeViewController 的所有动作

```
NSArray * actions = [sendButton actionsForTarget:_tweetController forControlEvent:UIControlEventTouchUpInside];
for (NSString * action in actions)
    [sendButton removeTarget:_tweetController action:NSSelectorFromString(action) forControlEvents:UIControlEventTouchUpInside]; 
```

3.为UIControlEventTouchUpInside事件添加自己的动作

```
[sendButton addTarget:self action:@selector(sendCustomTweet:) forControlEvents:UIControlEventTouchUpInside]; 
```

4\. 当按下“发送”按钮时，使用此方法获取文本和帐户（如有必要）：

```
....
UITextView * textView = [self tweetTextView:self.tweetController.view];
UIButton * accountButton = [self twitterAccountButton:self.tweetController.view];

NSString * tweetText = textView.text;
NSString * tweetAccount = [accountButton.titleLabel.text substringFromIndex:1]; // skip @ char
.... 
```

5\. 以下是这些方法：

```
// Single UITextView
- (UITextView *)tweetTextView:(UIView *)view
{
    for (UIView * subview in view.subviews)
    {
        if ([subview isMemberOfClass:[UITextView class]])
            return (UITextView *)subview;
        UITextView * textView = [self tweetTextView:subview];
        if (textView) return textView;
    }
    return nil;
}

// UIButton witch starts from @
- (UIButton *)twitterAccountButton:(UIView *)view
{
    for (UIView * subview in view.subviews)
    {
        if ([subview isKindOfClass:[UIButton class]])
        {
            UIButton * button = (UIButton *)subview;
            if (button.titleLabel.text && [button.titleLabel.text rangeOfString:@"@"].location == 0)
                return button;
        }
        UIButton * button = [self twitterAccountButton:subview];
        if (button) return button;
    }
    return nil;
} 
```

6.手动发送推文

```
- (void)sendTweet:(NSString *)text fromAccount:(NSString *)account withArtwork:(UIImage *)artwork
{
    // Create an account store object.
    ACAccountStore *accountStore = [[ACAccountStore alloc] init];

    // Create an account type that ensures Twitter accounts are retrieved.
    ACAccountType *accountType = [accountStore accountTypeWithAccountTypeIdentifier:ACAccountTypeIdentifierTwitter];

    // Request access from the user to use their Twitter accounts.
    [accountStore requestAccessToAccountsWithType:accountType withCompletionHandler:^(BOOL granted, NSError *error) {
        if(!granted) return;

        // Get the list of Twitter accounts.
        NSArray *accountsArray = [accountStore accountsWithAccountType:accountType];

        // For the sake of brevity, we'll assume there is only one Twitter account present.
        // You would ideally ask the user which account they want to tweet from, if there is more than one Twitter account present.
        for(ACAccount *twitterAccount in accountsArray)
        {
            if (account && ([account compare:twitterAccount.username options:(NSCaseInsensitiveSearch)] != 0))
                continue;

            // Create a request, which in this example, posts a tweet to the user's timeline.
            // This example uses version 1 of the Twitter API.
            // This may need to be changed to whichever version is currently appropriate.
            NSString * method = artwork ? @"update_with_media" : @"update";
            NSURL * url = [NSURL URLWithString:[NSString stringWithFormat:@"https://api.twitter.com/1.1/statuses/%@.json",method,nil]];
            TWRequest *postRequest = [[TWRequest alloc] initWithURL:url parameters:@{@"status":text} requestMethod:TWRequestMethodPOST];

            // Set the account used to post the tweet.
            [postRequest setAccount:twitterAccount];

            if (artwork)
            {
                NSData * data = UIImageJPEGRepresentation(artwork, 0.8);
                [postRequest addMultiPartData:data withName:@"media" type:@"JPG"];
            }

            // Perform the request created above and create a handler block to handle the response.
            [postRequest performRequestWithHandler:^(NSData *responseData, NSHTTPURLResponse *urlResponse, NSError *error) {
                if (urlResponse.statusCode == 200)
                {
                    NSLog(@"Tweet sent successfully!");
                }
                else
                {
                    NSDictionary * json = [NSJSONSerialization JSONObjectWithData:responseData
                                                                          options:kNilOptions
                                                                            error:&error];
                    NSLog(@"Tweet sending failed with error: %@", json);
                }                    
            }];
        }
    }];
} 
```

# asp.net - 需要 Asp .Net 中的在线考试系统

> ID：13191366
> 
> 赞同：0
> 
> 时间：2012-11-02T07:57:50.477
> 
> 标签：asp.net

我想创建一个在线考试系统，学生可以参加考试，下面会有选项（在单选按钮中），他/她可以使用 Asp .Net 选择作为答案。在这个过程中，下一个和上一个应该正常工作。请在此参考中向我建议一些想法或代码。

谢谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T12:23:36.077

以下是您可以从中获得在线考试系统想法的链接。

[http://onlineexam.codeplex.com/](http://onlineexam.codeplex.com/) \

[http://ooes.codeplex.com/](http://ooes.codeplex.com/)

# sql - 带有 (NOEXPAND) 和 SSAS 多维数据集的索引视图

> ID：13191372
> 
> 赞同：1
> 
> 时间：2012-11-02T07:58:25.800
> 
> 标签：sql, sql-server-2008-r2, ssas, indexed-view

我已经设置了一个索引视图，我打算将其用作 SSAS 多维数据集的数据源视图。索引视图看起来像这样：

```
create view vw_indexed1 with schemabinding
as

select 
key1, 
key2, 
count_big(*) as bigcount 
from
table1
group by
key1, 
key2, 
GO

CREATE UNIQUE CLUSTERED INDEX [PX_vw_indexed1] ON [dbo].[vw_indexed1] 
(
key1, 
key2, 
)WITH 
(PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = ON, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
GO 
```

现在，当我去`select * from vw_indexed1`的时候，它需要很长时间，大概是因为它试图扩展基础表中的索引，所以我会使用`select * from vw_indexed1 with (noexpand)`，它的执行就像直接在具有聚集索引的表上进行选择一样。

我的问题是：如果我将此视图用作 SSAS 项目的 DSV，它是否会尝试每次都使用底层索引？如果是这样，我怎么能强迫它考虑`vw_indexed1`一个有自己索引的表？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-04T16:21:20.380

有点。您可以通过让 DSV 指向本身是 select * from vw_indexed1 语句的视图来强制解决问题。

但它可能没有选择它的原因是因为 SQL Server 引擎本身就是决定是否使用索引视图的引擎。即使您的 DSV 可能已经指向它，它所做的只是向表和/或索引视图发送查询。事实上，您可以将您的 DSV 指向基础事实表，并且如果您查看分析器跟踪，在某些情况下，即使您指定了表本身，它也会选择索引视图。

有关此工作原理的更多详细信息，请查看白皮书 Analysis Services ROLAP for SQL Server Data Warehouses，网址为[http://msdn.microsoft.com/en-us/library/ff956108(v=sql.100).aspx](http://msdn.microsoft.com/en-us/library/ff956108(v=sql.100).aspx)

# c# - 单选按钮文本没有隐藏

> ID：13191373
> 
> 赞同：0
> 
> 时间：2012-11-02T07:58:25.890
> 
> 标签：c#, razor

我的代码：

```
<div class="rdoTest">@Html.RadioButton("rdoTest", "Test", new { @onchange = "rdoReportTypeChange(this,true,true)" })&nbsp;Test
</div> 
```

我用了`var rdoTest =$('#rdoTest');rdoTest.hide();`

只有单选按钮隐藏，但文本 ( `Test`) 没有隐藏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:41:30.347

Seems you set a class rdoTest on the radiobutton, but in your jquery you query for a an id?

```
$('.rdoTest').hide(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:38:33.967

下一步可能是你想做的：

```
var rdoTest =$('.rdoTest');rdoTest.hide(); 
```

符号 # 表示按 Id 选择，但您想按类名选择。

# iphone - 如何在 CustomTableView 中显示 ipad 库视频

> ID：13191380
> 
> 赞同：0
> 
> 时间：2012-11-02T07:58:49.980
> 
> 标签：iphone, ios, ios5

我想从 ipad 视频库中获取所有视频列表并显示在表格视图控制器中，然后在应用程序中播放。可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:40:19.683

[This Developer.apple documentation](http://developer.apple.com/library/ios/#documentation/AudioVideo/Conceptual/CameraAndPhotoLib_TopicsForIOS/Articles/PickinganItemfromthePhotoLibrary.html) explains how to use an **image picker controller** and delegate for browsing and choosing saved pictures and movies. If the standard media browsing UI does not suit your needs, you can create a fully custom solution with UIKit and the Assets Library framework

**Media types** To specify whether the image picker controller displays saved movies, still images, or both, set the mediaTypes property to an array containing identifiers for the desired types. The valid values for elements of the array are kUTTypeImage and kUTTypeMovie.

**Presenting the media browser interface full screen on iPhone or iPod touch**

```
 -(BOOL) startMediaBrowserFromViewController: (UIViewController*) controller

               usingDelegate: (id <UIImagePickerControllerDelegate,

                                   UINavigationControllerDelegate>) delegate {

    if (([UIImagePickerController isSourceTypeAvailable:

                 UIImagePickerControllerSourceTypeSavedPhotosAlbum] == NO)

            || (delegate == nil)

            || (controller == nil))

        return NO;

    UIImagePickerController *mediaUI = [[UIImagePickerController alloc] init];

    mediaUI.sourceType = UIImagePickerControllerSourceTypeSavedPhotosAlbum;

    // Displays saved pictures and movies, if both are available, from the

    // Camera Roll album.

     mediaUI.mediaTypes = [[NSArray alloc] initWithObjects: (NSString *) kUTTypeMovie, nil];

    // Hides the controls for moving & scaling pictures, or for

    // trimming movies. To instead show the controls, use YES.

    mediaUI.allowsEditing = NO;

    mediaUI.delegate = delegate;

    [controller presentModalViewController: mediaUI animated: YES];

    return YES;

}

- (IBAction) showSavedMediaBrowser {

    [self startMediaBrowserFromViewController: self

                                    usingDelegate: self];

} 
```

**Delegate method for picked media**

```
- (void) imagePickerController: (UIImagePickerController *) picker

            didFinishPickingMediaWithInfo: (NSDictionary *) info {
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-03T15:42:56.490

对的，这是可能的。

您可以使用以下代码获取所有视频的资产 url：

```
NSMutableArray* assetURLs = [[NSMutableArray alloc] init];

ALAssetsLibrary *library = [[ALAssetsLibrary alloc] init];

void (^assetEnumerator)( ALAsset *, NSUInteger, BOOL *) = ^(ALAsset *result, NSUInteger index, BOOL *stop)
{
    if(result != nil)
    {
        if([[result valueForProperty:ALAssetPropertyType] isEqualToString:ALAssetTypeVideo])
        {
            [assetURLs addObject:[result valueForProperty:ALAssetPropertyURLs]];

            NSLog(@"result is:%@",result);
            NSURL *url= (NSURL*) [[result defaultRepresentation]url]; 

            [library assetForURL:url
                     resultBlock:^(ALAsset *asset)
             {
                      // do stuff here
             }
             failureBlock:^(NSError *error){ NSLog(@"test:Fail"); } ]; 
        } 
    }
}; 
```

您可以使用资产 url 来获取该视频。之后创建视频的缩略图并将其显示在 tableView 中。您还可以使用资产 url 播放视频：

资产网址将如下所示：`assets-library://asset/asset.m4v?id=100&ext=m4v`

```
NSString *urlAddress = @"assets-library://asset/asset.m4v?id=100&ext=m4v";
NSURL *movieURL= [NSURL URLWithString:urlAddress];
MPMoviePlayerController *mp = [[MPMoviePlayerController alloc] initWithContentURL: movieURL]; 
```

更多参考：

1.  [资产库](http://developer.apple.com/library/ios/#documentation/AssetsLibrary/Reference/ALAsset_Class/Reference/Reference.html)
2.  [MPMoviePlayer控制器](http://developer.apple.com/library/ios/#documentation/mediaplayer/reference/MPMoviePlayerController_Class/Reference/Reference.html)

# android - 触摸停止在列表视图上滚动不起作用

> ID：13191382
> 
> 赞同：1
> 
> 时间：2012-11-02T07:59:13.990
> 
> 标签：android, listview, scroll

假设我的 listView 中有 100 个项目。当我上下滚动时，我尝试触摸以停止滚动。但这是行不通的。它滚动直到到达第一个滚动触摸的项目。

是电话问题还是我的应用缺少一些实现？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T09:48:58.617

公共类 OnTouchListner 实现 OnTouchListener{

```
 @Override
    public boolean onTouch(View v, MotionEvent event) {
         if(event.getAction()==MotionEvent.ACTION_DOWN)  
             {
                businessResultListView.smoothScrollBy(0, 0); 
                return true;

            }  
         return false;
    }
 } 
```

并称之为：

businessResultListView.setOnTouchListener(new OnTouchListner());

# php - Jquery 验证唯一电子邮件地址的更新

> ID：13191383
> 
> 赞同：0
> 
> 时间：2012-11-02T07:59:22.193
> 
> 标签：php, javascript, jquery-validate

我希望 jquery 验证数据库中唯一电子邮件地址的更新。

文本框电子邮件中的示例默认加载值是 abc@test.com

在数据库中是 abc@test.com,fff@test.com, ddd@test.com

如果用户输入 abc@test.com 那么它将返回 true （可以保存数据）

如果使用类型 fff@test.com 或 ddd@test.com 则返回 false（已经存在）

当用户在文本框中加载默认数据（abc@test.com）时我的问题无法将其保存到数据库中，

除了我在文本框电子邮件上丢失了 foucs 然后它可以成功保存

编码

```
<?php
//MySQL class: http://mbe.ro/2009/08/30/fast-and-easy-php-mysql-class/
require('../shared/db-class.php');
$email = $_REQUEST["email_address"];
//$email = 'test@gmail.com'; // Just for testing.
$validate = new mysql();
$checkemail = $validate->query("SELECT * FROM users WHERE email_address = '$email'");
if (count($checkemail) == 1){
$valid = "false";
} else {
$valid = "true";
}
echo $valid;
?>

// jQuery
// FORM VALIDATION
$('#form').validate({
rules:{
first_name: "required",
last_name: "required",
email_address: {
required: true,
email: true,
remote: "email-check.php"
}
},messages:{
email_address: {
remote: jQuery.format("{0} is already in use!")
}
}

}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:14:51.467

我认为没有一种有效的方法可以满足您的要求。您可能无法在前面验证电子邮件的唯一性，但您可以创建一个新的 ajax 来验证服务器中的电子邮件唯一性。并且 jquery validate 仅用于前面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:40:03.017

Try to start jQuery validation on blur or on focusout only.

# android - 在android中将数据发布到webview

> ID：13191384
> 
> 赞同：8
> 
> 时间：2012-11-02T07:59:28.120
> 
> 标签：android

有谁知道如何使用 post 方法在 webview 中传递值？

```
engine = (WebView) findViewById(R.id.web_engine);

engine.setWebViewClient(new WebViewClient() {

    @Override
    public void onPageFinished(WebView view, String url) {
        super.onPageFinished(view, url);
    }

    @Override
    public void onPageStarted(WebView view, String url, Bitmap favicon) {
        super.onPageStarted(view, url, favicon);
    }

    @Override
    public boolean shouldOverrideUrlLoading(WebView view, String url) {
        return super.shouldOverrideUrlLoading(view, url);
    }
});

engine.getSettings().setJavaScriptEnabled(true);
engine.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);
engine.loadUrl(url+"?ref=api&uname="+id+"&pass="+pass); 
```

这是我使用 get 方法发送数据的方式，我想使用 Post 方法。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-11-02T08:20:48.653

试试这个

```
String url = "http://www.example.com";
String postData = "username=my_username&password=my_password";
webview.postUrl(url,EncodingUtils.getBytes(postData, "BASE64")); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T08:01:40.180

用于[`postUrl`](http://developer.android.com/reference/android/webkit/WebView.html#postUrl%28java.lang.String,%20byte%5B%5D%29)在`WebView`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-08T07:15:13.690

使用 postUrl 方法来发布数据。更多细节[关注这个](http://glorious-arvind.blogspot.in/2012/11/webview-posturl-postdata.html)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-04-06T17:42:10.727

使用 Base64.encode 更好：

```
String url = "http://www.example.com";
String postData = "username=my_username&password=my_password";
webview.postUrl(url,Base64.encode(postData.getBytes(), Base64.DEFAULT)); 
```

在某些情况下效果更好：

```
String url = "http://www.example.com";
postData = "username="+URLEncoder.encode("my_username", "UTF-8")+"&password="+URLEncoder.encode("my_password", "UTF-8");
 webview.postUrl(url,postData.getBytes()); 
```

# c# - Watin：如何隐藏 FileDownloadHandler 窗口？

> ID：13191393
> 
> 赞同：1
> 
> 时间：2012-11-02T08:00:12.850
> 
> 标签：c#, .net, watin

我正在使用 watin 从 Internet 自动下载文件，但是我可以隐藏 ie 窗口但不能隐藏 FileDownloadHandler 窗口

我使用以下内容隐藏即：

```
 ie.ShowWindow(WatiN.Core.Native.Windows.NativeMethods.WindowShowStyle.Hide); 
```

这里我如何创建下载窗口：

```
var fileDownloadHandler = new FileDownloadHandler(file.FullName);
ie.AddDialogHandler(fileDownloadHandler); 
```

如何隐藏下载对话框？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-21T09:25:45.597

我用另一个函数解决了这个问题，你只需设置 URL，保存路径和所有工作，你看不到任何弹出窗口。在课堂上添加这个

```
[DllImport("urlmon.dll", CharSet = CharSet.Auto, SetLastError = true)]
static extern Int32 URLDownloadToFile(Int32 pCaller, string szURL, string szFileName, Int32 dwReserved, Int32 lpfnCB); 
```

和这个功能

```
 int lwhdr = URLDownloadToFile(0, Link, FilePath, 0, 0); 
```

# c++ - 在 Visual Studio 中使用子项目

> ID：13191394
> 
> 赞同：1
> 
> 时间：2012-11-02T08:00:19.600
> 
> 标签：c++, c, visual-studio-2010, visual-studio

我很习惯 Linux 开发和 Makefile，不久前开始使用（Windows 和）Visual Studio。

我想要做的是（我认为）很简单，但我似乎无法找到如何使用 Visual Studio 来做到这一点。

我必须编写一个应用程序，我可以将其分成几个独立的子部分。我想逐步工作，并创建几个项目，这些项目与一个主文件一起最终成为我的完整项目。

我基本上想要的是能够编写一个小项目，有一个 main 以便我可以对其进行全面测试，并将其用作下一个项目的依赖项。在这种情况下，较小的 main 将被停用（或者我可以评论它），我只需更改启动项目。如果我在编写更大的软件时发现子集中的错误，我可以更改启动项目并以较小的规模解决它。

好吧，这就是我整天用 Python 和 Java 做的事情。

我试图在我的项目中创建新项目，但我总是遇到链接问题，我的主要项目知道子项目中的文件，但不知道较小的文件等。.

那么，我可以在某个地方找到以这种方式工作的指南吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:09:46.420

对于单个项目：

每个单独的项目属性表都有一个 C++ 选项页面。您可以在此处以逗号分隔的形式指定“附加包含目录”。

同样，链接器应该有一个属性表，您可以在其中指定“附加包含依赖项”和它所依赖的库的名称。

对于主可执行文件的链接器依赖项：

转到那个主项目，转到它的属性，转到公共属性并选择“框架和参考”。这应该为您提供解决方案中所有项目的列表。继续添加它们，Visual Studio 应该会自动为您添加正确的链接器标志。

抱歉，现在无法访问计算机，否则会提供确切的步骤。Visual Studio 有时会变得很棘手，但一旦你使用它，你就会对它能为你做的事情感到惊讶。就个人而言，我喜欢它。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T09:55:13.913

感谢 Vaibhav，我找到了解决方案：

我不得不 ：

*   将子项目类型更改为 lib 而不是 exe
*   在主项目中添加子项目作为项目依赖项（这只是设置构建顺序）
*   注释掉我的子项目的主要部分，只保留一个活动。
*   在主项目的include repos中添加各个子项目的include目录，以便编译器可以找到头文件
*   添加通用目录作为链接器的依赖项（在这种情况下，它不是子项目的调试/发布文件夹，而是整个项目的输出目录）。
*   在主项目链接器的附加依赖项中添加子项目的lib文件的名称。

为了简单起见，VS2010 的项目依赖能力只是改变了项目的构建顺序。. . 我想念日食。

如果我发现错误并想测试子项目，我必须：

*   将启动项目更改为我要更改的子项目。
*   取消注释相应的 main
*   将项目类型更改为 exe 而不是 lib 以便能够编译它。

调试，然后再次执行所有操作以继续处理我的主项目。很无聊，你不觉得吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T13:31:07.247

看起来您正在尝试进行手动单元测试。使用类似[Google.Test](http://code.google.com/p/googletest/wiki/Documentation)的东西。您需要为每个库制作测试项目。

我们有包含静态库项目的目录。另一个包含测试项目的目录。每个测试解决方案都包含一个 exe 项目和几个现有的 lib 项目。每个项目都配置了依赖项。您不需要手动设置链接器的其他依赖项（路径是邪恶的，lib 文件的输出目录将从项目设置中获取），用鼠标右键打开项目属性，公共属性，添加新引用并选择 lib 项目。您只需要设置其他包含目录。

当您发现新的错误时 - 只需打开有错误的库的测试项目，添加导致错误的代码，修复它，然后开心（有时运行所有测试）。甚至更好地使用[TDD](http://en.wikipedia.org/wiki/Test-driven_development)。

# forms - 根据其他实体的 ID 和 ID 编辑我的实体

> ID：13191395
> 
> 赞同：0
> 
> 时间：2012-11-02T08:00:30.690
> 
> 标签：forms, symfony, twig, symfony-2.1

我想根据 Twig 表单中的测试 ID 编辑我的类别实体并将其绑定到数据库，当我打开我的编辑时，它会向我显示我编辑它们的表单，但它们不绑定数据库中的 id 测试，我可以'不明白为什么，可能是我写错了:(我的控制器：

```
 class DefaultController extends Controller
 {
 function editAction($id)
{

   $em = $this->getDoctrine()->getEntityManager();
   $test = $em->getRepository('LadelaOdeskTesterBundle:Test')->find($id);

    if (!$test) {
        throw $this->createNotFoundException('Unable to find Advertiser entity.');
    }
     return array(
        'test' => $test,
    );

}
 /**

 * @Route("/new/{id}/update",  name="test.update",  requirements={"id" = "\d+"})
 * @Method("Post")
 * @Template("LadelaOdeskTesterBundle:Default:edit.html.twig")
 */ 
```

公共函数 updateAction($id) {

```
 $test = 
     $this->getDoctrine()->getRepository('LadelaOdeskTesterBundle:Test')->find($id);

    if (!$test) {
        throw $this->createNotFoundException('Unable to find Test entity.');
    }

  $success = 0;

     $categoryList = array_map('trim', $this->getRequest()->get('category-new'));
       $currentCats = $test->getCategories();
      foreach ($currentCats as $current){
     $test->removeCategorie($current);
     }
     $em = $this->getDoctrine()->getEntityManager();
    foreach ($categoryList as $category) {
      if (!empty($category)) {
        $categoryName = new Category();       
        $categoryName->setName($category);
          $categoryName->setTest($test);
        $test->addCategorie($categoryName);        
        $em->persist($categoryName);            

        $success = ' Category ' . $category . ' was created';             
          }           
       }
   $em->flush();
         return $this->redirect($this->generateUrl('test.edit',array('id' => $id)));

  return array(
        'test' => $test,
    );
}
 } 
```

我的树枝文件：

```
{% extends '::base.html.twig' %}

{% block body %}
{#<div class="wrap">#}
<ul id="breadcrumb">
 <li><a href="{{path('homepage')}}" title="Home"><img src="{{ \
 asset('bundles/ladelaodesktester/images/home.png') }}" alt="Home" class="home" 
 /></a>    </li>

  <li> Please add data to new test </li>
  </ul>
  <h2>Edit Test </h2>
  {% for test in tests %}
  <form action="{{ path('test.update',{'id': test.id }) }}" method="post">
        Category 1<input type="text" name="category-new[]" >
        <div id="customWidget">
            <div id="colorSelector1"><div style="background-color: #00ff00"></div>  
    </div>
            <div id="colorpickerHolder1"></div>
        </div>

        Category 2<input type="text" name="category-new[]" ><br>
        Category 3<input type="text" name="category-new[]" ><br>
        Category 4<input type="text" name="category-new[]" ><br>
        Category 5<input type="text" name="category-new[]" ><br>
        Category 6<input type="text" name="category-new[]" ><br>
        Category 7<input type="text" name="category-new[]" ><br>
        Category 8<input type="text" name="category-new[]" ><br>
        Category 9<input type="text" name="category-new[]" ><br>

        <input type="submit" value="Add">
   </form>
   {% endfor %}
  </div>
   <a href="{{ path('test.new')}}">Back to Test</a>
 {#</div>#}
  {% endblock %}
 {% block javascripts %}
{{ parent() }}
<script src="{{ asset('bundles/ladelaodesktester/js/new.js') }}" 
type="text/javascript"></script>
<script src="{{ asset('bundles/ladelaodesktester/js/colorpicker.js') }}" 
type="text/javascript"></script>
{% endblock %} 
```

类别实体：

```
class Category
{
/**
 * @var integer $id
 *
 * @ORM\Column(name="id", type="integer")
 * @ORM\Id
 * @ORM\GeneratedValue(strategy="AUTO")
 */
private $id;

/**
 * @var string $name
 *
 * @ORM\Column(name="name", type="string", length=255)
 */
private $name;

/**
 * @var string $color
 *
 * @ORM\Column(name="color", type="string", length=255)
 */
private $color;

  /**
 * @var Category category
 *
 * @ORM\ManyToOne(targetEntity="Test",inversedBy="categories")
 * @ORM\JoinColumn(name="test_id", referencedColumnName="id")
 *
 */
protected $test;

public function __construct()
{
      $this->color = 'rgb(255,255,0)';      
}

/**
 * Get id
 *
 * @return integer
 */
public function getId()
{
    return $this->id;
}

/**
 * Set name
 *
 * @param string $name
 * @return Category
 */
public function setName($name)
{
    $this->name = $name;

    return $this;
}

/**
 * Get name
 *
 * @return string
 */
public function getName()
{
    return $this->name;
}

/**
 * Set color
 *
 * @param string $color
 * @return Category
 */
public function setColor($color)
{
    $this->color = $color;

    return $this;
}

/**
 * Get color
 *
 * @return string
 */
public function getColor()
{
    return $this->color;
}

/**
 * Set test
 *
 * @param Ladela\OdeskTesterBundle\Entity\Test $test
 * @return Category
 */
public function setTest(\Ladela\OdeskTesterBundle\Entity\Test $test )
{
    $this->test = $test;

    return $this;
}

/**
 * Get test
 *
 * @return Ladela\OdeskTesterBundle\Entity\Test 
 */
public function getTest()
{
    return $this->test;
}
} 
```

测试实体：

```
class Test
{
/**
 * @var integer $id
 *
 * @ORM\Column(name="id", type="integer")
 * @ORM\Id
 * @ORM\GeneratedValue(strategy="AUTO")
 */
 private $id;

 /**
 * @var string $name
 *
 * @ORM\Column(name="name", type="string", length=255)
 */
 private $name;

 /**
  * @var \DateTime $created_at
 *
 * @Gedmo\Timestampable(on="create")
 * @ORM\Column(name="created_at", type="datetime")
 */
private $created_at;

/**
 * @Gedmo\Slug(fields={"name"})
 * @ORM\Column(length=128,unique=true)
 */
private $slug;

/**
 * @ORM\ManyToMany(targetEntity="Question")
 * @ORM\JoinTable(name="test_questions",
 *      joinColumns={@ORM\JoinColumn(name="test_id", referencedColumnName="id")},
 *      inverseJoinColumns={@ORM\JoinColumn(name="question_id", 
    referencedColumnName="id")}
 *      )
 * @var Collection $questions
 **/
protected $questions;

/**
 * @ORM\ManyToMany(targetEntity="Result")
 * @ORM\JoinTable(name="test_results",
 *      joinColumns={@ORM\JoinColumn(name="test_id", referencedColumnName="id")},
 *      inverseJoinColumns={@ORM\JoinColumn(name="result_id", 
  referencedColumnName="id")}
 *      )
 * @var Collection $results
 **/
protected $results;

/**
 * @ORM\OneToMany(targetEntity="Category", mappedBy="test")
 */
private $categories;

/**
 * @var \DateTime $updated_at
 *
 * @Gedmo\Timestampable(on="update")
 * @ORM\Column(name="updated_at", type="datetime")
 */
private $updated_at;

public function __construct()
{
    $this->questions = new \Doctrine\Common\Collections\ArrayCollection();
    $this->categories = new \Doctrine\Common\Collections\ArrayCollection();
}

/**
 * Get id
 *
 * @return integer
 */
public function getId()
{
    return $this->id;
}

/**
 * Set name
 *
 * @param string $name
 * @return Test
 */
public function setName($name)
{
    $this->name = $name;

    return $this;
}

public function getSlug()
{
    return $this->slug;
}

/**
 * Get name
 *
 * @return string
 */
public function getName()
{
    return $this->name;
}

/**
 * Set created_at
 *
 * @param \DateTime $createdAt
 * @return Test
 */
public function setCreatedAt($createdAt)
{
    $this->created_at = $createdAt;

    return $this;
}

/**
 * Get created_at
 *
 * @return \DateTime
 */
public function getCreatedAt()
{
    return $this->created_at;
}

/**
 * Set updated_at
 *
 * @param \DateTime $updatedAt
 * @return Test
 */
public function setUpdatedAt($updatedAt)
{
    $this->updated_at = $updatedAt;

    return $this;
}

/**
 * Get updated_at
 *
 * @return \DateTime
 */
public function getUpdatedAt()
{
    return $this->updated_at;
}

/**
 *
 */
public  function getQuestions()
{
    return $this->questions;
}

public function addQuestion( Question $question )
{
    $this->questions[] = $question;
}

/**
 * Set slug
 *
 * @param string $slug
 * @return Test
 */
public function setSlug($slug)
{
    $this->slug = $slug;

    return $this;
}

/**
 * Remove questions
 *
 * @param Question $questions
 */
public function removeQuestion( Question $questions)
{
    $this->questions->removeElement($questions);
}

/**
 * Add results
 *
 * @param Result $results
 * @return Test
 */
public function addResult(Result $results)
{
    $this->results[] = $results;

    return $this;
}

/**
 * Remove results
 *
 * @param Result $results
 */
public function removeResult(Result $results)
{
    $this->results->removeElement($results);
}

/**
 * Get results
 *
 * @return Collection
 */
public function getResults()
{
    return $this->results;
}

public function countResults()
{
    return $this->results->count();
}

public function countQuestions()
{
    return $this->questions->count();
}

/**
 * Add categories
 *
 * @param Ladela\OdeskTesterBundle\Entity\Category $categories
 * @return Test
 */
public function addCategorie(\Ladela\OdeskTesterBundle\Entity\Category $categories)
{
    $this->categories[] = $categories;

    return $this;
}

/**
 * Remove categories
 *
 * @param Ladela\OdeskTesterBundle\Entity\Category $categories
 */
public function removeCategorie(\Ladela\OdeskTesterBundle\Entity\Category $categories)
{
    $this->categories->removeElement($categories);
}

/**
 * Get categories
 *
 * @return Doctrine\Common\Collections\Collection 
 */
public function getCategories()
{
    return $this->categories;
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T12:27:56.867

在 foreach 循环中 > 如果您从未将 $test 添加到类别对象。添加这个：

```
$categoryName->setTest($test); 
```

foreach 循环应如下所示：

```
$em = $this->getDoctrine()->getManager(); // <---- Changed this
foreach ($categoryList as $category) {
    if (!empty($category)) {
        $categoryName = new Category();
        $categoryName->setName($category);
        $categoryName->setTest($test);

        $em->persist($categoryName);

        $success = ' Category ' . $category . ' was created';

    } else {
        $success = 'Test category-new may not be empty';
    }
}
$em->flush(); // <---- Changed this 
```

在 foreach 循环之前添加：

```
$currentCats = $test->getCategories();
foreach ($currentCats as $current){
    $test->removeCategorie($current);
} 
```

**最后编辑：**

不要为类别设置测试，而是添加要测试的类别，如下所示：

```
$em = $this->getDoctrine()->getManager();
foreach ($categoryList as $category) {
    if (!empty($category)) {
        $categoryName = new Category();
        $categoryName->setName($category);
        $categoryName->setTest($test);
        $test->addCategorie($categoryName); // <---- This is added

        $em->persist($categoryName);

        $success = ' Category ' . $category . ' was created';

    } else {
        $success = 'Test category-new may not be empty';
    }
}
$em->flush(); 
```

# c# - 我应该将代码放在哪里以在 C# 中的窗体上调整大小/重新定位控件？

> ID：13191396
> 
> 赞同：1
> 
> 时间：2012-11-02T08:00:33.750
> 
> 标签：c#, winforms

我正在使用 Windows 窗体，我想编写一些代码来更改窗体上每个控件的布局，无论何时滚动或调整大小。我认为在完成表格绘制之前必须有一个标准的方法来做到这一点。

**编辑：**表单上有一个 DataGridView。每当更改列宽或移动水平滚动条时，我都想更改布局。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:03:44.343

覆盖表单中的这两种方法：

```
protected override void OnResize(EventArgs e)
{
    base.OnResize(e);
}

protected override void OnScroll(ScrollEventArgs se)
{
    base.OnScroll(se);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:13:42.900

> 每当**滚动**或调整大小时

请准确。

你期望改变大小？
滚动发生在哪里？（在表格中，在列表框或其他中）

如果要在表单调整大小中更改布局，可以在 Form.Resize 事件处理程序中进行。

要滚动表单，请使用`ScrollEventArgs`

看看这些问题。

[滚动](https://stackoverflow.com/questions/2749846/how-to-detect-scrolling-up-or-down)

[表单调整大小事件 - MSDN](http://msdn.microsoft.com/en-us/library/system.windows.forms.form.resizebegin.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T08:09:37.957

如果将对象放在`TableLayoutPanel`. 该控件的作用与 HTML 表格非常相似，但并不完全如此。

看看下面的链接如何使用`TableLayoutPanel`：

[TableLayoutPanel 类 (System.Windows.Forms)](http://msdn.microsoft.com/en-us/library/system.windows.forms.tablelayoutpanel.aspx)

# javascript - 我可以将多个 js javascript 文件合并到一个文件中吗

> ID：13191400
> 
> 赞同：0
> 
> 时间：2012-11-02T08:01:01.790
> 
> 标签：javascript, jquery

我正在使用 jquery fileupload 插件，它加载了 7-8 个 js 文件。现在其他开发人员也在现场工作，有时会造成混乱，很难找到在哪里使用了哪个 js 文件。

所以我在想我是否可以将 7 个文件合并到一个文件中，这样我就可以知道那是我的文件

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:07:04.983

试试这个来编译你的 javascript 文件或代码。

[http://closure-compiler.appspot.com](http://closure-compiler.appspot.com)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:40:43.770

I use [Rake](http://rake.rubyforge.org/) to compile Javascript (and SASS to CSS, as well). It minifies the files in a unique JS. It's written in Ruby, but it's easy to configure and it works very fine.

But if more developers are working on the same code, another good idea I strongly suggest is to to use a SVN (sub-version control system), as [TortoiseSVN](http://tortoisesvn.net/) or [Git](http://git-scm.com/). This will allow many developers to work on the same source files, without losing any change.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T08:26:30.760

虽然在这种特殊情况下可能有点矫枉过正，但可能值得一试[grunt](http://gruntjs.com)。它可以让您在处理文件时将文件分成多个文件，并在任何文件更改时根据需要编译、缩小并将它们组合成单个/文件组，同时还允许您定义负载你的代码的顺序。

它在您第一次运行时需要进行一些设置（稍后您可以将其用作模板），但极大地改进了组合/缩小文件的过程，并且还支持处理[coffescript](http://coffeescript.org)和[sass](http://sass-lang.com)等，以及为你的代码。

# perl - 使用子例程和参考的 Perl 2x2 数组添加

> ID：13191401
> 
> 赞同：0
> 
> 时间：2012-11-02T08:01:02.987
> 
> 标签：perl

我在 Perl 中的问题是：使用匿名列表定义 2x2 数组。将数组传递给子例程并将它们相加。返回对 sum 数组的引用并打印程序主要部分的值。

我的脚本是：

```
#!/usr/bin/perl

use strict;

use warnings;

my @array = ([1,2],[4,5]); 

my $refarray = \@array;

print sumarray($refarray);

sub sumarray

{

 $refarray = shift;

 foreach (@{$refarray})

 {

  $refarray = ($refarray[0]->[0]+$refarray[1]->[0],$refarray[0]->[1]+$refarray[1]->[1]);

 }

 return $refarray;

} 
```

我哪里错了？请帮忙。提前致谢。

```
I am getting the output as 0. 
```

如果我使用`use strict;`，`use warnings;`我将收到错误消息

```
Global symbol "@refarray" requires explicit package name at line 23.
Global symbol "@refarray" requires explicit package name at line 23.
Global symbol "@refarray" requires explicit package name at line 23.
Global symbol "@refarray" requires explicit package name at line 23.
Execution aborted due to compilation errors. 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T08:21:45.950

您的代码几乎没有问题：-

*   首先，在你的 for 循环中，你正在修改你`$refarray`不应该做的参考。
*   第二，`$refarray[0]->[0]`不会编译。由于`$refarray`是对数组的引用，因此您应该使用箭头使用它的第一个元素： - `$refarray->[0][0]`，或者您需要在使用您使用的方式之前取消引用它： - `$$refarray[0]->[0]`。

话虽如此，我认为你应该`subroutine`用这个替换你的： -

```
use strict;
use warnings;

my @array = ([1,2],[4,5]); 
my $refarray = \@array;

my $sum = sumarray($refarray);
print $sum->[0], $sum->[1];

sub sumarray {
    my $ref = shift;
    return [$ref->[0][0] + $ref->[1][0], $ref->[0][1] + $ref->[1][1]];
} 
```

**输出**： -

```
5 7 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-02T08:11:13.177

试试这个：

```
#!/usr/bin/perl -w

my $r = sumarray([1,2],[3,4]);
print $r->[0], " ", $r->[1], "\n";

sub sumarray {
    my ($a, $b) = @_;
    return [
        $a->[0]+$b->[0],
        $a->[1]+$b->[1]
    ];
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-02T09:56:05.703

它可以通过列表操作**sum**（来自核心模块[List::Util](http://p3rl.org/List%3a%3aUtil)）和[**map**](http://p3rl.org/map)的组合非常简单地表示。

## 代码

```
#!/usr/bin/env perl
use strict;
use warnings;
use feature 'say';
use List::Util 'sum';

sub sum_square {
    my @arrays = @_;
    return [ map {sum @$_} @arrays ];
}

say join ', ' => @{ sum_square([1,2], [4,5]) }; 
```

**输出**：

```
3, 9 
```

由于这是 Perl，它可以以更紧凑的方式表达。

## 缩写

```
sub sum_square { [ map {sum @$_} @_ ] }
say join ', ' => @{ sum_square([1,2], [4,5]) }; 
```

## 缩写²

```
say join ', ' => map {sum @$_} [1,2], [4,5]; 
```

## 编辑：反过来求和

如果函数应该是列总和而不是行总和，则此修改应该可以解决问题（迭代第一个数组的索引）：

```
sub sum_square {
    my @arrays = @_;
    return [ map { my $i = $_;          # $i: all indices of the first array
        sum map $_->[$i] => @arrays     # sum over all $i-th values of @arrays
    } 0 .. $#{$arrays[0]} ];
} 
```

输出：

```
5, 7 
```

# jquery - JQuery Full Calendar 控件有没有限制？

> ID：13191407
> 
> 赞同：0
> 
> 时间：2012-11-02T08:01:25.373
> 
> 标签：jquery, fullcalendar

我在销售人员应用程序中使用完整的日历，我在日历上显示数据时遇到问题。我有大量数据要显示在日历上。

我想知道我们可以在日历中或在日历上的特定日期显示的事件数量是否有任何限制？

# stata - 重命名包含特定字符串的变量

> ID：13191408
> 
> 赞同：0
> 
> 时间：2012-11-02T08:01:33.203
> 
> 标签：stata

我有一个包含相同字符串“test”的变量列表。如何将所有这些变量重命名为例如 var1-var20，其中 20 是变量的数量。顺序在这里并不重要。我尝试安装包“renvars”，并做了以下

```
renvars *test* \ var1-var20 
```

但这不起作用。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T21:24:11.187

如果您使用的是 Stata 12，我认为您应该能够：

```
rename (*test*) var#, addnumber 
```

查看此链接（特别是规则 #18）：[http ://www.stata.com/help.cgi?rename+group](http://www.stata.com/help.cgi?rename+group)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T17:06:56.210

为了获得更多帮助，我们需要错误以及它是如何失败的。`*test*` *应该*是有效的`varlist`，并且如果每个 varlist （左侧和右侧`\`）中有相同数量的变量，它*应该可以*工作。

以下对我有用。

```
* generate some variables that fit the description
clear
local i = 0
foreach pre in ho ak {
    forvalues j = 1/10 {
        local ++i
        generate `pre'_icd`i' = ""
    }
}

* rename variables that match pattern
renvars *icd* \ var1-var20 
```

`*icd*`也许比您预期的更多变量匹配？

# javascript - 如何检查文本框中放置的文本位置？

> ID：13191409
> 
> 赞同：0
> 
> 时间：2012-11-02T08:01:36.853
> 
> 标签：javascript, xul, unobtrusive-javascript

我有一个带有字符串的文本框，并且想检查用户是否在文本框字符串之间或文本框字符串的末尾放置了文本。是否有任何 Javascript 函数可以执行此任务？我试过了`createTextRange()`，`setSelectionRange()`但没有任何效果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:23:14.240

**HTML**

```
<input type="text" id="myTextInput" value="test" />​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​ 
```

**JS**

```
var myInput = document.getElementById('myTextInput');
var defaultValue = myInput.value;

myInput.addEventListener("input", function () { 

    var index = myInput.value.indexOf(defaultValue, 0);
    if(index == 0)
        alert('The text has been added at the end of the original string');
    else if(index == -1)
        alert('The text has been added inside the original string');
    else
        alert('The text has been added in the front of the original string');

}, false); 
```

[**演示**](http://jsfiddle.net/CdryJ/1/) ​</p>

# asp.net - 超链接和responce.redirect

> ID：13191413
> 
> 赞同：1
> 
> 时间：2012-11-02T08:02:07.090
> 
> 标签：asp.net, html

我是 asp.net 的新手，我需要知道

后面带有 response.redirect 的按钮有什么区别

和一个超链接？他们让你俩都进入页面，但一个是服务器端，另一个不是

这是唯一的区别吗

以及何时最好使用其中之一

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T08:07:50.360

超链接在浏览器中呈现指向给定 NavigateUrl 的链接。当用户点击它时，浏览器直接转到目的地。

带有重定向的按钮会呈现一个使用 javascript 进行回发的按钮。当用户单击它时，将回发到同一页面，并指示浏览器使用 Response.Redirect 转到另一个 URL。

主要区别在于第二个解决方案再次加载相同的页面，而第一个解决方案直接进入目的地。使用按钮，您可以在重定向之前运行一些代码，或者根据回发中的信息重定向到不同的 URL。因为它在加载目标页面之前加载原始页面，所以它有点慢。

通过超链接，访问者将看到超链接指向的位置。使用按钮您看不到这一点。因此，超链接对搜索引擎来说更好，因为它们会跟随超链接而不是按钮。

如果您事先知道 URL，并且不想在用户单击某些内容时运行额外的代码，请使用超链接。否则，使用按钮。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:06:11.127

超链接是一个链接，当您单击它时，它会将您重定向到同一选项卡或新选项卡中的某个位置。

在 response.sendredirect() 的情况下，用户的浏览器将根据您的业务逻辑重定向到服务器发送的链接。（该链接可能属于其他域）。

希望有帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T08:08:56.870

超链接控件 这是用于导航到 NavigateURL 属性中指定的另一个页面的服务器控件。超链接控件不公开任何服务器端事件。

Response.Redirect 方法 此方法用于从代码导航到另一个页面。您可以使用此方法从 Linkbutton 或 ImageButton 控件导航。

# java - 如何在 Java 中显示/隐藏没有任何动画（例如淡入淡出）的软键盘？

> ID：13191414
> 
> 赞同：7
> 
> 时间：2012-11-02T08:02:07.623
> 
> 标签：java, android

有什么方法可以立即显示或隐藏软键盘，而无需任何动画？在 Cyanogenmod 10 中，它会显示褪色动画。

* * *

## 回答 #1

> 赞同：-4
> 
> 时间：2012-11-02T08:05:26.157

试试这样

```
InputMethodManager imm = (InputMethodManager)getSystemService(Context.
                                                    INPUT_METHOD_SERVICE);
    imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(), 0);
    imm.showSoftInputFromInputMethod(getCurrentFocus().getWindowToken(), 0); 
```

# javascript - 下载 URL 在浏览器地址栏中粘贴/输入时有效，但在 href 或 window.open 或 Location 中无效

> ID：13191422
> 
> 赞同：1
> 
> 时间：2012-11-02T08:02:56.880
> 
> 标签：javascript

为什么在浏览器地址栏中粘贴/输入时下载 URL 有效，但如果我有包含此代码的 html 文件，则在 href 或 window.open 或 Location 中无效

```
<html>
<head>
    <script type="text/javascript" language="JavaScript">
        function clickedButton()
        {
        window.location = 'http://s1.mihandownload.com/2012/Feisal/October/JetBrains_WebStorm_5.0.2_www.MihanDownload.com.rar'
        }
    </script>
</head>
<body>
    <input type="button" value="Login" onClick="clickedButton()"/>
</body>
 </html> 
```

并通过双击我的下载链接打开它但是如果我在本地主机或服务器中加载页面我的链接不起作用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T16:46:10.220

如果您通过双击运行此代码，我会使用 Chrome，但如果我们在 Web 服务器中运行此代码，当我将代码复制到 html 文件并单击它时，它不起作用，地址栏中的 URL 更改考试“文件：/// C:/Users/User/Desktop/index.html" 它工作正常，但如果我在 IIS 中运行此页面，页面将无法正常工作并且下载不会启动

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:31:20.010

该代码在我的浏览器（Chrome）中运行良好。你使用的是什么浏览器？

# javascript - 动态添加新 div 但点击事件不适用于新 div

> ID：13191425
> 
> 赞同：1
> 
> 时间：2012-11-02T08:03:04.313
> 
> 标签：javascript, jquery

我试图制作一个按钮，以便当我点击它时它会在它之后创建一个新按钮，然后当我点击下一个/新按钮时它会在它自己之后创建一个按钮，但点击事件仅适用于第一个按钮，你能帮助？

这是我的小提琴 = [http://jsfiddle.net/hyeFB/](http://jsfiddle.net/hyeFB/)

```
// $(document).ready(function () {

    var myDiv = '<div class="myButton">myButton</div>';

     $('#c').append(myDiv);

     $('.myButton').click(function () {

         $(this).after(myDiv);

     });

 //});​ 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-02T08:05:10.207

尝试使用`on`

```
var myDiv = '<div class="myButton">myButton</div>';

 $('#c').append(myDiv);

 $('body').on('click', '.myButton',function () {
     $(this).after(myDiv);
 }); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-02T08:05:14.970

```
// $(document).ready(function () {

    var myDiv = '<div class="myButton">myButton</div>';

     $('#c').append(myDiv);

     $('.myButton').live(function () {

         $(this).after(myDiv);

     });

   // Or Use delegation
  $('body').delegate('.myButton','click',function () {

         $(this).after(myDiv);

     });

 //}); 
```

会做的伎俩。[http://api.jquery.com/live/](http://api.jquery.com/live/)了解更多信息。

请注意，`live`从 jquery 1.7 开始已弃用，因此上述答案对于 1.7+ 来说是更正确的答案

# android-layout - 如何使用动态加载的不同尺寸图像创建 Android Google Play 的 Grid View，如 Widget

> ID：13191426
> 
> 赞同：7
> 
> 时间：2012-11-02T08:03:05.170
> 
> 标签：android-layout, android-ui, google-play

![在此处输入图像描述](../Images/de6dfa65eb369fa2ff5399fa00a3eb82.png)

![在此处输入图像描述](../Images/29fa893cf6f9c1c1e94bc915e3095626.png)

嗨
，我附上了两个应用程序图像，它们具有网格视图，例如具有不同图像高度和宽度的小部件，动态加载，我需要创建相同类型的 UI，如果有人指导我开始，我会很高兴。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-07T10:55:16.110

之前有人问过类似的问题，[这](https://stackoverflow.com/a/10703676/1320263)就是答案。

开发人员使用[**Bucket List Adapter**](https://github.com/rzsombor/bucket-list-adapter)来创建类似 google play 的列表视图。

# c# - C# 泛型方法声明

> ID：13191429
> 
> 赞同：0
> 
> 时间：2012-11-02T08:03:28.540
> 
> 标签：c#, generics, inheritance

我尝试创建的泛型方法的签名存在问题。

课程如下：

```
public class MarketDataRepository : IRepository
{
    MarketWatchEntities _dbContext = new MarketWatchEntities();

    public MarketDataRepository(){}

    public MarketDataRepository(MarketWatchEntities dbContext)
    {
        _dbContext = dbContext;
    }

    public IEnumerable<T> GetMarketData<T>(DateTime startDateTime, DateTime endDateTime ) where T : MarketDataPoint
    {
        return _dbContext.MarketDataPoints.Where(x => x.ReferenceDateTime >= startDateTime && x.ReferenceDateTime <= endDateTime).ToList();
    }
}

public interface IRepository
{
    IEnumerable<T> GetMarketData<T>(DateTime startDateTime, DateTime endDateTime) where T : MarketDataPoint;
} 
```

附加信息：
`MarketWatchEntities`扩展`DbContext`（由实体框架生成）。

我得到这个编译时异常：

```
Cannot implicitly convert type 'System.Collections.Generic.List<MarketWatcher.Domain.MarketDataPoint>' to 'System.Collections.Generic.IEnumerable<T>'. An explicit conversion exists (are you missing a cast?) 
```

基于我限制`T`从`MarketDataPoint`. 所以，我想我可以返回一个`IEnumerable`of `MarketDataPoint`。

任何有关上述问题以及我应该做什么的指示将不胜感激！

**解决方案**（谢谢大家）：

```
public class MarketDataMarketDataRepository : IMarketDataRepository
{
    MarketWatchEntities _dbContext = new MarketWatchEntities();

    public MarketDataMarketDataRepository(){}

    public MarketDataMarketDataRepository(MarketWatchEntities dbContext)
    {
        _dbContext = dbContext;
    }

    public IQueryable<T> GetMarketData<T>(DateTime startDateTime, DateTime endDateTime ) where T : MarketDataPoint
    {
        return _dbContext.MarketDataPoints.Where(x => x.ReferenceDateTime >= startDateTime && x.ReferenceDateTime <= endDateTime).OfType<T>();
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-02T08:08:22.827

这不起作用的原因是因为`T`可以*比*.`MarketDataPoint`

如果您有`S`派生自的类`MarketDataPoint`并且有人调用，那么当您所拥有的只是 s 的集合时，`GetMarketData<S>`您如何给他们一个？`IEnumerable<S>``MarketDataPoint`

编辑：正如马特本人指出的那样，您可以链接一个调用`OfType<T>()`，它将清除非`T`元素*并*返回正确类型的`IEnumerable`.

```
return _dbContext.MarketDataPoints
    .Where(
        x => x.ReferenceDateTime >= startDateTime &&
        x.ReferenceDateTime <= endDateTime)
    .OfType<T>()
    .ToList(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:10:41.080

如果您遵循错误并手动转换它`IEnumerable<T>`？

```
public IEnumerable<T> GetMarketData<T>(DateTime startDateTime, DateTime endDateTime) where T : MarketDataPoint
{
    return (IEnumerable<T>)_dbContext.MarketDataPoints.Where(x => x.ReferenceDateTime >= startDateTime && x.ReferenceDateTime <= endDateTime).ToList();
} 
```

问题是`IEnumerable<MarketDataPoint>`不一样`IEnumerable<T>`。

# utf-8 - 在 CUI 应用程序中读取文件时，WINE 错误处理 UTF-8

> ID：13191431
> 
> 赞同：1
> 
> 时间：2012-11-02T08:03:41.067
> 
> 标签：utf-8, wine

一个简单的 CUI 应用程序 (MITLM) 读取一个文本文件并输出一个文本文件。它没有考虑到 Unicode，但处理 UTF-8 就好了（因为那是 UTF-8 的美妙之处）。但是，在 WINE 下运行时，非 ASCII 字符会变得混乱。这可能是什么原因？由于 MITLM 是开源的，我已经为 Linux 重新编译了它，它运行良好，但我仍然很好奇。

# css - 所有浏览器的边框半径？

> ID：13191438
> 
> 赞同：8
> 
> 时间：2012-11-02T08:04:05.560
> 
> 标签：css

我用

```
-webkit-border-radius: 5px;    
border-radius: 5px; 
-moz-border-radius:5px;
-khtml-border-radius:5px; 
```

对于边界半径，但该代码块在某些浏览器（当然是 Internet Explorer）中不起作用。我尝试使用 .htc 但没有成功。

我怎样才能使`border-radius`所有浏览器都支持它？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-02T08:05:45.403

IE9+、Firefox 4+、Chrome、Safari 5+ 和 Opera 支持border-radius 属性，因为它是CSS3 属性。语法是：

```
border-radius: 1-4 length|% / 1-4 length|%; 
```

示例 1

```
border-radius:2em; 
```

相当于：

```
border-top-left-radius:2em;
 border-top-right-radius:2em;
 border-bottom-right-radius:2em;
 border-bottom-left-radius:2em; 
```

示例 2

```
border-radius: 2em 1em 4em / 0.5em 3em; 
```

相当于：

```
border-top-left-radius: 2em 0.5em;
 border-top-right-radius: 1em 3em;
 border-bottom-right-radius: 4em 0.5em;
 border-bottom-left-radius: 1em 3em; 
```

[在此处查看](http://jonraasch.com/blog/css-rounded-corners-in-all-browsers)有关边界半径的更详细说明以及提示和技巧。

# asp.net - 这在 ASP.NET 中可行吗？更改页面上的数据而不重新加载页面

> ID：13191439
> 
> 赞同：0
> 
> 时间：2012-11-02T08:04:05.563
> 
> 标签：asp.net, pageload

我希望页面中的表格填充与页面上的图片对应的数据。用户必须点击他想要更多信息的图片。我这样做的方法是将图像制作成图像按钮，使按钮存储会话变量并重定向回同一页面，然后读取会话变量并用于填充表格。是否可以在不重新加载页面的情况下获得相同的结果？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:08:00.283

从你的问题我可以猜到你正在使用网络表单。

是的，在 ASP.NET 中是可能的，看看[**UpdatePanel**](http://msdn.microsoft.com/en-us/library/bb386454%28v=vs.100%29.aspx)控件，它完全符合您的要求。

# mpi - 如何将 cgroup 用于 MPI 程序

> ID：13191441
> 
> 赞同：1
> 
> 时间：2012-11-02T08:04:17.587
> 
> 标签：mpi, torque, cgroups

由于 MPI 进程是由 mpirun/mpiexec 调用的，而不是由资源管理器或调度程序（torque/maui）调用的，那么如何使用 cgroup 来隔离每个 MPI 进程的内存和 cpuset 使用情况，注意我们不能修改 MPI 库（openmpi /mpich2)，但是可以修改资源管理器和调度器，谢谢。

# hadoop - Hadoop Libjars 的位置

> ID：13191445
> 
> 赞同：0
> 
> 时间：2012-11-02T08:05:06.200
> 
> 标签：hadoop, hdfs

我在集群上运行 hadoop 作业，并在运行 hadoop 作业时使用 -libjars 选项传递一些 jars。我不确定在哪里可以找到集群上的这些 jar。这些罐子是否从本地机器复制到集群的另一件事。我在哪里可以找到集群上的这些罐子

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:45:21.177

根据[Hadoop - 权威指南](http://shop.oreilly.com/product/0636920021773.do)

> 将指定的 JAR 文件从本地文件系统（或任何文件系统，如果指定了方案）复制到作业跟踪器使用的共享文件系统（通常是 HDFS），并将它们添加到 MapReduce 任务的类路径。此选项是传送作业所依赖的 JAR 文件的有用方式。

因此，指定的文件从本地文件系统复制到 HDFS，然后复制到类路径中的映射器/减速器节点。另外，这些文件被复制了mapreduce.client.submit.file.replication的次数，默认为10次。之所以复制超过3次，是因为文件必须分发到所有需要的节点。

# objective-c - 如何调整 UITableViewCell 的 imageview 的大小

> ID：13191446
> 
> 赞同：0
> 
> 时间：2012-11-02T08:05:08.210
> 
> 标签：objective-c

在 UITableViewCell 上有默认的 imageview，我们可以在 Cell 上设置图像。现在我想调整或重新构建 UITableCell 的默认图像视图。我使用了以下代码，但没有任何效果。我知道如果我们使用自定义 imageView 是可能的。但我想为单元格的默认图像视图做。

```
[cell.imageView setFrame:CGRectMake(10, 10, 45, 45)]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T12:01:34.153

您不能更改默认值`UIImageView`的大小`UITableViewCell`，因为它是只读的。相反，您可以创建自己的`UITableViewCell`或添加`UIImageView`为您想要的任何大小的子视图

# jquery - 来自数据库的 Jquery UI 自动完成

> ID：13191457
> 
> 赞同：0
> 
> 时间：2012-11-02T08:05:56.853
> 
> 标签：jquery, mysql, ajax, json, autocomplete

我正在尝试将 jquerys 自动完成与我的数据库一起使用，但我无法弄清楚如何从我的 php 脚本中返回数据作为自动完成的选项。

这是我目前基于另一个论坛帖子的内容：

```
$('input#transferto').autocomplete({
                source: function(request, response)
                {
                    alert('{"term": "'+request.term+'", "mode": "ENTITY_AUTOCOMPLETE"}');
                    $.ajax({
                        url: SYSTEM_ROOT+'/assets/controllers/global.php',
                        data: 'dataString={"term": "'+request.term+'", "mode": "ENTITY_AUTOCOMPLETE"}',
                        success: function(data)
                        {
                            //alert(data);
                            //data = $.parseJSON(data) ;
                            response($.map(data, function(item) {
                                return{
                                    label: item.user_login_name,
                                    value: item.user_id
                                }
                            }))
                        }
                    })
                },
                minLength: 3,
                datatype: 'json',
                cache: false,
                delay: 500, 
```

在我的 php 文件中：

```
if($mode == 'ENTITY_AUTOCOMPLETE')
{
    $query = trim(strip_tags($JSON->term));
    $q = $query.'%' ;
    $result = $dbh->prepare("SELECT id, name FROM entity_details WHERE name LIKE ?") ;
    $result->execute(array($q)) ;

    //$data = '{' ;
    //while($row = $result->fetch(PDO::FETCH_ASSOC)) {
        //foreach($row as $key => $val)
            //$data .= '"'.$key.'": "'.rawurldecode($val).'", ' ;
    //}
    //$data = substr($data, 0, strlen($data)-2).'}' ;
    $data = $result->fetchAll(PDO::FETCH_ASSOC) ;
    echo print_r($data) ;
} 
```

如您所见，我尝试只返回一个数组并尝试 JSON，但无济于事。

我如何使它工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-05T16:39:33.963

你读过文档吗？[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

`url: SYSTEM_ROOT+'/assets/controllers/global.php',`

1) SYSTEM_ROOT 根是什么？你没有在任何地方定义这个。

`data: 'dataString={"term": "'+request.term+'", "mode": "ENTITY_AUTOCOMPLETE"}',`

2）您传递数据字符串的方式是不必要的。正如 jquery 文档指定的那样，如果还不是字符串，则将其转换为查询字符串并附加到 GET 请求的 url。如果你使用一个对象，它必须是一个键/值对。同时，您正在尝试将查询字符串中的对象作为字符串填充。

`if($mode == 'ENTITY_AUTOCOMPLETE')`

3）在这一行上，您的访问`$mode`未定义/声明。通常，您会使用 GET 请求进行检查，`$_GET['mode']`但在您的情况下，它不会在那里，因为您已经弄乱了您传递的数据（在 2 中提到）

**打开 NET 面板并检查控制台是否存在要调试的错误。**

# perl - Perl：一次读取一个字节的二进制文件

> ID：13191462
> 
> 赞同：7
> 
> 时间：2012-11-02T08:06:13.317
> 
> 标签：perl, file, input, binary, byte

我正在编写一个工具，它需要一次读取一个字节的二进制文件，处理每个字节，并可能根据处理的值采取一些行动。但是由于某种原因，Perl 获得的值与文件中的数据不同。我正在使用与此类似的代码（为简洁起见，已删除，但这仍然存在问题）：

```
#!/usr/bin/perl
use strict;

my $bytesToProcess = 16;
my $fileName = 'datafile.bin';

print "Processing $bytesToProcess bytes...\n";

open FILE, "<:raw", $fileName or die "Couldn't open $fileName!";

for my $offset (0 .. $bytesToProcess - 1)
{
    my $oneByte;
    read(FILE, $oneByte, 1) or die "Error reading $fileName!";
    printf "0x%04X\t0x%02X\n", $offset, $oneByte;
}

close FILE; 
```

输入值（数据文件的前 16 个字节）：`50 53 4D 46 30 30 31 35 00 00 70 00 07 3F 10 00`

输出：

```
Processing 16 bytes...
0x0000  0x00
0x0001  0x00
0x0002  0x00
0x0003  0x00
0x0004  0x00
0x0005  0x00
0x0006  0x01
0x0007  0x05
0x0008  0x00
0x0009  0x00
0x000A  0x00
0x000B  0x00
0x000C  0x00
0x000D  0x00
0x000E  0x00
0x000F  0x00 
```

知道这里出了什么问题吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-02T08:19:26.223

`read`以 char 形式返回字节`"\x50"`，而不是数字`0x50`。`printf`将行更改为

```
printf "0x%04X\t0x%02X\n", $offset, ord $oneByte; 
```

另一种选择是使用`unpack 'c', $oneByte`.

# php - 正则表达式模式和可选匹配

> ID：13191465
> 
> 赞同：1
> 
> 时间：2012-11-02T08:06:36.920
> 
> 标签：php, regex, preg-match-all

我对正则表达式模式和可选匹配有疑问。基本上，我尝试从包含工作时间的字符串中提取信息，可能是以下 3 种形式：

```
$d1 = 'Fr: 9-12;';
$d2 = 'Mo: 9-12 und 15-18; alle 14 Tage spez. Migräneberatung bis 20 Uhr;';
$d3 = 'Mo: 9-12; alle 14 Tage spez. Migräneberatung bis 20 Uhr;';

$regex = '
    /
        (Mo|Di|Mi|Do|Fr|Sa|So)+:          # day follow by colon
            \s+?                          # a optional space
        (\d+)\-(\d+)                      # time from - to
        (?:\s+?und\s+?(\d+)\-(\d+))       # optional time from - to
            ;                               
        (?:([^;]+))                       # optional addt info
    /x';

$rc = preg_match_all($regex, $d2, $m);

print_r($m); 
```

字符串`$d2`工作没有问题，我得到了所有预期的匹配项，但字符串`$d1`并不`$d3`匹配。我尝试使用第二个时间部分和附加信息文本进行可选分组，但它不起作用。我得到的是空匹配。我看不到缺陷...

我想`preg_match_all`用来获取所有出现的上述子字符串，因为它是周一到周日每天的一个大字符串，上面的子字符串以`$d1 - $d3`每天的形式出现。我不知道我是否也可以使用分号作为这个子字符串结束标记，这就是为什么我尝试将它与`([^;]+)`. 如果这不起作用，我可以选择另一个分隔符来标记一天子字符串的结束，然后先拆分大字符串并在循环中匹配子字符串。

我很感激任何提示！在此先感谢您的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:16:06.020

我在这里可能错了，但这似乎有效：

```
$regex = '
    /
        (Mo|Di|Mi|Do|Fr|Sa|So):           # day follow by colon
            \s+?                          # a optional space
        (\d+)\-(\d+)                      # time from - to
        (?:\s+?und\s+?(\d+)\-(\d+))?      # optional time from - to
            ;
        (?:([^;]+))?                      # optional addt info
    /x'; 
```

刚刚为可选元素添加了可选性（问号）。

# hadoop - 如何为hadoop流指定分区器

> ID：13191468
> 
> 赞同：1
> 
> 时间：2012-11-02T08:07:00.740
> 
> 标签：hadoop, mapreduce, hadoop-streaming, hadoop-partitioning

我有一个自定义分区器，如下所示：

```
import java.util.*;
import org.apache.hadoop.mapreduce.*;

public static class SignaturePartitioner extends Partitioner<Text,Text>
{
    @Override
    public int getPartition(Text key,Text value,int numReduceTasks)
    {
        return (key.toString().Split(' ')[0].hashCode() & Integer.MAX_VALUE) % numReduceTasks;
    }  
} 
```

我设置了hadoop流参数，如下所示

```
 -file SignaturePartitioner.java \
 -partitioner SignaturePartitioner \ 
```

然后我得到一个错误：找不到类。

你知道有什么问题吗？

此致，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-04-07T05:52:30.300

我遇到了同样的问题，但经过大量研究后设法解决了。

根本原因是 streaming-2.6.0.jar 使用 mapred api 而不是 mapreduce api。另外，实现 Partitioner 接口，而不是扩展 Partitioner 类。以下对我有用：

```
import java.io.IOException;
 import org.apache.hadoop.io.Text;
 import org.apache.hadoop.mapred.Partitioner;
 import org.apache.hadoop.mapred.JobConf;`

public class Mypartitioner implements Partitioner<Text, Text> {`

public void configure(JobConf job) {}
 public int getPartition(Text pkey, Text pvalue, int pnumparts)
    {
      if (pkey.toString().startsWith("a"))
       return 0;
      else  return 1 ;
    }
  } 
```

编译 Mypartitioner，创建 jar，然后，

```
bin/hadoop jar share/hadoop/tools/lib/hadoop-streaming-2.6.0.jar
-libjars /home/sanjiv/hadoop-2.6.0/Mypartitioner.jar
-D mapreduce.job.reduces=2
-files /home/sanjiv/mymapper.sh,/home/sanjiv/myreducer.sh
-input indir -output outdir -mapper mymapper.sh
-reducer myreducer.sh -partitioner Mypartitioner 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:35:54.880

> -file SignaturePartitioner.java -partitioner SignaturePartitioner

-file 选项将使文件在 Hadoop 框架所需的所有节点上可用。它需要指向类名而不是 Java 文件名。

# php - CSS & Regex，切换填充或边距属性的值

> ID：13191473
> 
> 赞同：0
> 
> 时间：2012-11-02T08:07:17.597
> 
> 标签：php, css, regex, margin, padding

我有 CSS 代码，我想在其中找到填充 - 或 - 边距属性（它有 4 个值）并用右值切换左值：
例如`padding: 1px 2px 3px 4px;`
- 像这样 -
`padding: 1px 4px 3px 2px;`
我如何使用正则表达式和 PHP 来实现这一点？:-)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:19:52.167

尝试这个：

```
preg_replace(
    '/padding:\s*?(\d*px)\s*(\d*px)\s*(\d*px)\s*(\d*px)\s*?;/i',
    'padding: $1 $4 $3 $2;',
    $css
); 
```

## 解释

`\s`匹配一个空格

`\d`匹配一个数字

`\d*px`将匹配任何后跟“px”的数字

# ios - collectionView:viewForSupplementaryElementOfKind:atIndexPath: 仅使用 UICollectionElementKindSectionHeader 调用

> ID：13191480
> 
> 赞同：16
> 
> 时间：2012-11-02T08:08:10.067
> 
> 标签：ios, ios6

我有一个集合视图，我希望每个部分都有页眉和页脚。我正在使用默认的流布局。

我有自己的子类，我在视图控制器`UICollectionReusableView`的方法中为页眉和页脚注册了每个子类。`viewDidLoad`

我已经实现了该方法`collectionView:viewForSupplementaryElementOfKind:atIndexPath:`，但是对于每个部分，它只被称为`kind`being `UICollectionElementKindSectionHeader`。因此我的页脚甚至没有被创建。

任何想法为什么会发生这种情况？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-02T08:43:13.990

看来我必须`footerReferenceSize`为集合视图布局设置。奇怪的是我不必对标题这样做。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2017-09-11T08:40:00.007

（使用 Swift 3.1、Xcode 8.3.3）
**首先**，注册 header 的类或 nib

```
collectionView.register(ShortVideoListHeader.self, forSupplementaryViewOfKind: UICollectionElementKindSectionHeader, withReuseIdentifier: "header") 
```

**二**、设置`headerReferenceSize`；或者，您可以`headerReferenceSize`在 collectionView 的委托中返回

```
override func viewWillLayoutSubviews() {
    super.viewWillLayoutSubviews()
    (collectionView.collectionViewLayout as? UICollectionViewFlowLayout)?.headerReferenceSize = CGSize(width: view.bounds.width, height: 156)
} 
```

**第三**，编写自己的头类，例如，

```
class ShortVideoListHeader: UICollectionReusableView {
    let titleLabel = UILabel()

    override init(frame: CGRect) {
        super.init(frame: frame)

        addSubview(titleLabel)
    }

    required init?(coder aDecoder: NSCoder) {
        fatalError("init(coder:) has not been implemented")
    }

    override func layoutSubviews() {
        super.layoutSubviews()
        titleLabel.sizeToFit()
        titleLabel.frame.origin = CGPoint(x: 15, y: 64 + (frame.height - 64 - titleLabel.frame.height) / 2) // navigationBar's height is 64
    }
} 
```

**第四**，在collectionView的dataSource方法中返回你的header实例，

```
func collectionView(_ collectionView: UICollectionView, viewForSupplementaryElementOfKind kind: String, at indexPath: IndexPath) -> UICollectionReusableView {
    switch kind {
    case UICollectionElementKindSectionHeader:
        let header = collectionView.dequeueReusableSupplementaryView(ofKind: UICollectionElementKindSectionHeader, withReuseIdentifier: "header", for: indexPath) as! ShortVideoListHeader
        header.titleLabel.text = title
        header.setNeedsLayout()
        return header

    default:
        return UICollectionReusableView()
    }
} 
```

顺便说一句，[Apple 的 Document](https://developer.apple.com/documentation/uikit/uicollectionviewdatasource/1618037-collectionview)回答了如何隐藏节标题。

> 此方法必须始终返回有效的视图对象。如果您在特定情况下不想要补充视图，则您的布局对象不应为该视图创建属性。或者，您可以通过将相应属性的 hidden 属性设置为 YES 或将属性的 alpha 属性设置为 0 来隐藏视图。要在流布局中隐藏页眉和页脚视图，您还可以设置这些视图的宽度和高度为 0。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-10-16T02:27:02.450

我发现了一些代码也许可以帮助你

```
- ( UICollectionReusableView * ) collectionView : ( UICollectionView * ) collectionView viewForSupplementaryElementOfKind : ( NSString * ) kind atIndexPath : ( NSIndexPath * ) indexPath
{
    UICollectionReusableView * reusableview = nil ;

    if ( kind == UICollectionElementKindSectionHeader )
    {
        RecipeCollectionHeaderView * headerView = [ collectionView dequeueReusableSupplementaryViewOfKind : UICollectionElementKindSectionHeader withReuseIdentifier : @ "HeaderView" forIndexPath : indexPath ] ;
        NSString * title = [ [ NSString alloc ] initWithFormat : @ "Recipe Group #%i" , indexPath.section + 1 ] ;
        headerView.title.text = title;
        UIImage * headerImage = [ UIImage imageNamed : @ "header_banner.png" ] ;
        headerView.backgroundImage.image = headerImage;

        reusableview = headerView;
    }
    if ( kind == UICollectionElementKindSectionFooter )
    {
        UICollectionReusableView * footerview = [ collectionView dequeueReusableSupplementaryViewOfKind : UICollectionElementKindSectionFooter withReuseIdentifier : @ "FooterView" forIndexPath : indexPath ] ;

        reusableview = footerview;
    }

    return reusableview;
} 
```

# backbone.js - Backbone.js - 不查看

> ID：13191497
> 
> 赞同：0
> 
> 时间：2012-11-02T08:09:59.273
> 
> 标签：backbone.js, backbone-views

我一直在按照一些教程将视图与模型绑定到主干.js，但是当我在模型上设置新属性时，我的视图并没有改变。

我目前正在从控制台工作，并将“tr”附加到“table”。设置 的新属性后，仅当我重新附加时才会出现更改。

下面的代码：

```
window.ListView = Backbone.View.extend({

tagName:"tr",
template: _.template("<td><%= first%></td><td><%= last%></td><td><%= sex%></td><td><%= height></td><td><%= weight%></td>"),

initiliaze: function(){
    _.bindAll(this, 'render');
    this.model.bind('change', this.render, this);
    this.template = template.html;

},

render:function () {
    this.$el.html(this.template(this.model.toJSON()));
    return this;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T13:17:49.993

删除该行`this.template = template.html`，您的代码可以正常工作

```
window.ListView = Backbone.View.extend({

tagName:"tr",

template: _.template("<td><%= first%></td><td><%= last%></td><td><%= sex%></td><td><%= height></td><td><%= weight%></td>"),

initiliaze: function(){

    _.bindAll(this, 'render');
    this.model.bind('change', this.render, this);
    //this.template = template.html;
},

render:function () {

    this.$el.html(this.template(this.model.toJSON()));
    return this;
} 

}); ` 
```

# c# - 在 web 服务会话超时更改值不起作用

> ID：13191498
> 
> 赞同：-2
> 
> 时间：2012-11-02T08:10:01.203
> 
> 标签：c#, asp.net, web-services

Web服务中的会话超时无法正常工作，出现异常

```
[WebMethod(EnableSession = true)]
public void resetsession()
{
  Session.Timeout = 1000;
} 
```

```
Request format is unrecognized for URL unexpectedly ending in '/resetsession'. 
```

  任何人都可以调查这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:36:01.683

我不知道您使用的是哪个 .NET 版本，但我记得很久以前就遇到过这个问题，所以您的[HTTP GET 和 HTTP POST 可能被禁用](http://support.microsoft.com/default.aspx?scid=kb;en-us;819267)了？

然后解决方案是将其添加到您的 web.config 中：

```
<configuration>
    <system.web>
    <webServices>
        <protocols>
            <add name="HttpGet"/>
            <add name="HttpPost"/>
        </protocols>
    </webServices>
    </system.web>
</configuration> 
```

也许你的 web.config 中也需要这个：

```
<system.webServer>
  <handlers>
    <add name="ScriptHandlerFactory" verb="*" path="*.asmx" preCondition="integratedMode" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"/>
    <add name="ScriptResource" preCondition="integratedMode" verb="GET,HEAD" path="ScriptResource.axd" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
  </handlers>
</system.webServer> 
```

发现[这篇文章](http://www.violato.net/blog/net/97-request-format-is-unrecognized-for-url-unexpectedly-ending-in-mymethodname)有更多信息。

# objective-c - UINavigationController UIToolBar 没有出现在我的视图中

> ID：13191501
> 
> 赞同：0
> 
> 时间：2012-11-02T08:10:12.327
> 
> 标签：objective-c, ios, xcode

我的 UINavigationController 包含一个带有 3 个 UIBarBottomItems 的 UIToolBar - 它都在情节提要中进行了拖放设计。我希望这个 UIToolbar 在我的所有视图中共享。因此，我已设置检查“显示工具栏”。但是当我运行它时，UIToolBar 在我的所有视图中都是空的。这可能是什么原因？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-27T02:06:51.660

我意识到这是一个旧线程，但我已经为此苦苦挣扎了几个小时，终于弄清楚出了什么问题。这很简单，所以我想我会分享。`[self.navigationController setToolbarHidden:NO];`我在 viewDidLoad中调用。问题是 viewDidLoad 在视图控制器被推送到 navigationController 之前被调用，所以 self.navigationController 是 nil。我将代码移到 viewWillAppear: 方法，它工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:39:19.957

select your initial view controller in the storyboard and embed it in navigation controller. now all your pages should have the navigation bar.. if u manually dragged dropped the previous bars when u run the program it'll show both... You'll have to remove the old ones and then modify the new one as required.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T08:17:46.673

UINavigationController 有默认工具栏。你可以使用它。您可以使用以下代码

```
[self.navigationController setToolbarHidden:NO]; 
```

在最顶层的视图控制器和

```
[self setToolbarItems:items]; 
```

在所有视图控制器中，其中 items 是该视图控制器工具栏项的 NSArray。

# c++ - c ++从向量中删除值在区间内的项目

> ID：13191507
> 
> 赞同：4
> 
> 时间：2012-11-02T08:10:43.007
> 
> 标签：c++, stl, containers

有没有一种方便的方法可以从值在特定间隔内的向量（或另一个 stl 容器）中删除项目？

例如：我得到了一个带有浮点值的向量

```
1.1 1.3 2.2 3.2 4.1 5.2 5.1 1.1 8.0 2.1 
```

和 0.2 的增量，这将导致以下结果

```
1.1 2.2 3.2 4.1 5.1 8.0 
```

从而删除增量中的所有“重复”项目并将其中一个值保留在该范围内。可以假设这些值是“聚集的”，它们之间的差异大于 3*delta。只应保留集群的一个值（平均值），应删除集群中的所有其他值。

当然，可以用嵌套循环进行迭代，但这似乎很复杂，因为迭代器的变化，所以我想到了一种更方便的方法。例如，我找到了 remove_if，但这个函数不能“比较”。

感谢您的建议。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-02T08:34:05.557

您可以`std::unique`与谓词一起使用：

```
template <typename It, typename Predicate>
It unique(It first, It last, Predicate pred); 
```

最常用的形式不`std::unique`带谓词，只是从序列中删除重复项。但是您可以编写一个实现您的过滤器（在您的情况下，使用间隙比较两个值）并且您已设置。就像是：

```
bool CompareWithGap(double a, double b)
{
  return abs(a - b) <= 0.2;
} 
```

并用它来调用`std::unique`：

```
auto it = std::unique(v.begin(), v.end(), CompareWithGap); 
```

`v`您的向量（或任何其他序列）在哪里。

编辑：忘了提到你需要在使用之前对序列进行排序`std::unique`。如果这不是一个选项，您必须编写自己的算法。

第二次编辑：为了完成，正如 Christian Rau 在他的评论中指出的那样，您现在可以使用其中的`erase`方法擦除从序列中删除的项目：

```
v.erase(it, v.end()); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-02T08:14:51.543

您的问题实际上很复杂，因为“范围内的值之一”没有明确定义。例如给定

1.1 1.2 1.3

你想保留哪个？大概是*第一个*，即1.1。好的，现在怎么样

0.9 1.1 1.3

按照第一条规则，我们保留 0.9 和 1.3，但我们可以只保留 1.1。我认为的问题是 0.9 和 1.3 是否“重复”？我认为您对这一点的定义不够好。

这种情况下，1.1 1.2 1.3 1.4 1.5 1.6 怎么样？所有值都在一个其他值的 0.2 范围内，但并非所有值都在每个其他值的 0.2 范围内。那么它们都是重复的吗？或者你需要把它们分开吗？如果是这样，它们应该如何拆分，也许选择 1.1 和 1.4？

所以我认为，除非您更准确地定义您的问题，否则您实际上不可能编写代码或我们来帮助您。

您可能想查看[不相交集数据结构](http://en.wikipedia.org/wiki/Disjoint-set_data_structure)。取决于您正在尝试做什么，这可能是解决此问题的最有效方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T08:14:05.950

您可以在迭代现有向量并填充所需数据的同时创建一个新向量吗？然后，您可以删除旧向量并返回对新向量的引用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-02T08:31:11.947

如果您想要保留第一项（因此，如果您有 0.9、1.1 和 1.3，则保留 0.9 和 1.3），那么您的谓词应该是一个类。

理想情况下，您的课程应如下所示：

```
class IsWithinRange
{
   std::set< double > values;
   double tolerance;

public:
   explicit IsWithinRange( double tol ) : tolerance( tol )
   {
   }

   bool operator()( double val )
   {
       std::set< double >::iterator iter = values.lower_bound( val );
       if( iter != values.end() )
       {
           if( *iter - val < tolerance )
           {
              return false;
           }
       }
       if( iter != values.begin() )
       {
          --iter;
          if( val - *iter < tolerance )
          {
              return false;
          }
       }
       values.insert( val );
       return true;
    }
}; 
```

这应该作为函子谓词类起作用，`std::remove_if`但它可能会复制内部 std::set 的次数比您希望的次数多，因此您可以尝试“优化”它，如果您觉得需要的话。（使用集合创建它，虽然这很麻烦，您也可以指定 remove_if 的第三个模板参数来指示引用而不是依赖推导）。请注意，谓词 operator() 是非常量的。

# java - Hibernate 无法将具有字段之一的实体保存为枚举

> ID：13191508
> 
> 赞同：2
> 
> 时间：2012-11-02T08:10:50.250
> 
> 标签：java, hibernate, enums

这是例外 - [pastebin](http://pastebin.com/9sNVjeRQ)

```
Caused by: java.sql.SQLException: Unknown Parameter: 13
    at com.google.cloud.sql.jdbc.ParameterMetadata.getParameterType(ParameterMetadata.java:45)
    at org.hibernate.type.EnumType.nullSafeSet(EnumType.java:121)
    at org.hibernate.type.CustomType.nullSafeSet(CustomType.java:155)
    at org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2705)
    at org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2682)
    at org.hibernate.persister.entity.AbstractEntityPersister$4.bindValues(AbstractEntityPersister.java:2863)
    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
    ... 111 more 
```

枚举在我的休眠映射中-

```
<property name="userStatus" column="user_status" insert="true" update="true" index="true">
  <type name="org.hibernate.type.EnumType">
    <param name="enumClass">com.tutorial.enums.UserStatus</param>
    <param name="type">12</param>
  </type>
</property>
<property name="userType" column="user_type" insert="true" update="true" index="true">
  <type name="org.hibernate.type.EnumType">
    <param name="enumClass">com.tutorial.enums.UserType</param>
    <param name="type">12</param>
  </type>
</property> 
```

我的实体有 UserType 和 UserStatus 作为枚举。Hibernate 无法正确转换枚举。我是否应该切换回休眠 3，因为在另一个项目中（使用休眠 3）我有自己的自定义类型并且它工作得很好。我现在正在使用休眠 4.1.7。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-05T22:33:34.077

添加

```
<param name="useNamed"></param> 
```

它应该可以正常工作。

```
<property name="userType" column="user_type" insert="true" update="true" index="true">
   <type name="org.hibernate.type.EnumType">
     <param name="enumClass">com.tutorial.enums.UserType</param>
     <param name="type">12</param>
     <param name="useNamed"></param>
   </type>
</property> 
```

编辑：

```
<param name="useNamed"></param> 
```

必须在那里，但是如果您将其留空，则枚举将被序列化为序数，如果您在数据库上进行手动工作，这不是很有帮助，所以如果您想获取名称，那么它必须是

```
 <param name="useNamed">true</param> 
```

# css - CSS 布局和边框问题

> ID：13191509
> 
> 赞同：-1
> 
> 时间：2012-11-02T08:10:50.643
> 
> 标签：css, html, layout

我在网页中遇到了一些奇怪的布局/定位问题。它主要与浮动的项目和不正确流动的容器边框有关。我试过清除和溢出：自动，隐藏，但它仍然不起作用。

提前非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T09:06:59.840

添加以下CSS

```
.explore-inner:after{
    content: '.';
display: block;
overflow: hidden;
visibility: hidden;
font-size: 0;
line-height: 0;
width: 0;
height: 0;
clear:both; 
```

}

因为“ul”有浮动它需要在“explore-inner”类之后被清除

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T09:09:06.463

实际上你已经使用`floating`了你的`child div's`不是`cleared`你的`parent div's`所以我已经把它给了`overflow:hidden`你的父母`div`所以它现在工作正常......

所以你可以`css`用我的更新你的，我希望这对你有用：-

**CSS**

```
.explore-inner {
    background: url("../images/inner-bg.png") repeat-x scroll 0 0 transparent;
    border-top: 1px solid #EBEBEA;
    overflow: hidden;
}
#team-message {
    background: url("../images/outer-bg.png") repeat-x scroll 0 0 transparent;
    clear: both;
    overflow: hidden;
    padding: 10px;
    width: 940px;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T08:49:11.057

添加`overflow: auto;`到`.explore-inner`

```
.explore-inner {
border: 1px solid #EBEBEA;
background: url(../images/inner-bg.png) repeat-x;
overflow: auto;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-02T08:50:52.540

您的`<ul>`物品有浮动，这未正确清除。就在你有一个`<ul>`项目之后`.explore-inner``clear: both;`

# android - 在eclipse中安装adt时出错

> ID：13191510
> 
> 赞同：0
> 
> 时间：2012-11-02T08:10:51.667
> 
> 标签：android, adt

我正在 eclips galileo.but 中安装 adt 插件，但出现以下错误-

```
Cannot complete the install because one or more required items could not be found.
Software being installed: Android Development Tools 20.0.3.v201208082019-427395    (com.android.ide.eclipse.adt.feature.group 20.0.3.v201208082019-427395)
Missing requirement: Android Development Tools 20.0.3.v201208082019-427395 (com.android.ide.eclipse.adt.feature.group 20.0.3.v201208082019-427395) requires 'org.eclipse.core.runtime 3.6.0' but it could not be found 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:15:29.750

似乎是在说您没有预期的 Eclipse 核心运行时。

解决此问题的一种简单方法是启用“安装新软件”对话框页面上的“在安装过程中联系所有更新站点以查找所需软件”复选框，这应该会自动下载 ADT 工作所需的所有其他软件。

否则，将需要查看 Eclipse 官方存储库以查找并安装运行时。

**编辑：**

啊，它找不到3.6运行时的原因是伽利略是3.5。新的 ADT 版本只能在 3.6(Helios) 及更高版本上运行。

[ADT 插件要求](http://developer.android.com/tools/sdk/eclipse-adt.html/ "ADT 插件要求")

*   ADT 20.0.3 需要 Eclipse Helios（版本 3.6.2）或更高版本。

安装 Helios 或更高版本，它应该可以正常工作。

Eclipse Classic 的最新版本是 Juno，您可以从[这里](http://www.eclipse.org/downloads/packages/eclipse-classic-421/junosr1/ "朱诺")下载。

# javascript - 访问网格中的不同复选框

> ID：13191511
> 
> 赞同：1
> 
> 时间：2012-11-02T08:11:05.697
> 
> 标签：javascript, asp.net

我有一个带有两个复选框列的网格。我想为每一列单独计数。我无法单独访问它们。这是我尝试过的：

```
function CountChkBxCancel() {
    function CountChkBx() {  
        for (var i = 0; i < document.forms[0].length; i++) {
        if (document.forms[0].elements[i].checked) {
            numChecked = numChecked + 1;
        }
    }
    document.getElementById('<%=lblConfirmationCount.ClientID %>').value = numChecked;
    CountChkBxCancel();
    if (numChecked > 0) {
        document.getElementById('<%=lblConfirmationCount.ClientID %>').innerHTML = numChecked;
    }else {
        document.getElementById('<%=lblConfirmationCount.ClientID %>').innerHTML = '0';
    }
} 
```

网格中两个复选框列的此 ID

```
<ItemTemplate>
    <%-- <asp:Label ID="Label6" runat="server"> <%#         Container.DataItemIndex + 1 %></asp:Label> --%>
    <asp:CheckBox ID="chkNominee" runat="server" onclick="CountChkBx()" />
</ItemTemplate>
<ItemTemplate>
    <asp:CheckBox ID="chkCancel" runat="server" onclick="CountChkBxCancel()" />
</ItemTemplate> 
```

如何访问这些不同 ID 的复选框计数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T11:43:35.340

```
 function CountChkBx() {
                    var confirmCount = 0;
        var cancelCount = 0;
        Parent = document.getElementById('<%= this.gvNominationList.ClientID %>');
        for (i = 1; i < Parent.rows.length; i++) {
            var tr = Parent.rows[i];
            //                var td = tr.firstChild;
            //                var item = td.firstChild;
            var td1 = tr.childNodes[0];
            var td2 = tr.childNodes[1];
            var item1 = td1.childNodes[0].firstChild;
            var item2 = td2.childNodes[0].firstChild;

            if (item1.type == "checkbox") {
                if (item1.checked)
                    confirmCount = confirmCount + 1;
            }

            if (item2.type == "checkbox") {
                if (item2.checked)
                    cancelCount = cancelCount + 1;
            }

        }
        document.getElementById('<%=lblConfirmationCount.ClientID %>').innerHTML = confirmCount;
        document.getElementById('<%=lblCancelCount.ClientID %>').innerHTML = cancelCount;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:35:52.963

```
 <script type="text/javascript">
      function CountChkBx(checkBox) {
           var checked = 0;
           var checkBoxes = document.getElementsByClassName(checkBox.parentNode.className);
           for (var i = 0; i < checkBoxes.length; i++) {
                if (checkBoxes[i].getElementsByTagName("INPUT")[0].checked) {
                     checked++;
                }
           }

           var label = null;
           switch (checkBox.parentNode.className) {
                case "cbNominee":
                     label = document.getElementById("<%= lblConfirmationCount.ClientID %>");
                     break;
                case "cbCancel":
                     label = document.getElementById("<%= lblCancelCount.ClientID %>");
                     break;
           }

           if (label) {
                label.innerHTML = checked.toString();
           }
      }
 </script>

 <asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="false" >
      <Columns>
           <asp:TemplateField>
                <ItemTemplate>
                     <asp:CheckBox ID="chkNominee" runat="server" CssClass="cbNominee" onclick="CountChkBx(this)" />
                </ItemTemplate>
           </asp:TemplateField>
           <asp:TemplateField>
                <ItemTemplate>
                     <asp:CheckBox ID="chkCancel" runat="server" CssClass="cbCancel" onclick="CountChkBx(this)" />
                </ItemTemplate>
           </asp:TemplateField>
      </Columns>
 </asp:GridView>
 <br />
 Confirmed: <asp:Label runat="server" ID="lblConfirmationCount" />
 <br />
 Canceled: <asp:Label runat="server" ID="lblCancelCount" /> 
```

# iphone - 如何通过 AVFoundation 更改视频捕获的大小设置

> ID：13191515
> 
> 赞同：9
> 
> 时间：2012-11-02T08:11:17.150
> 
> 标签：iphone, ios, avfoundation

我创建了一个录制视频并将其上传到服务器的应用程序，但是以非常高分辨率录制的视频，我想降低其分辨率，我在互联网上了解了 AVCaptureSessionPreset640x480，但我不知道如何使用它。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-11-02T08:21:48.910

`sessionPreset`您可以使用该属性更改分辨率。会话预设的默认值`AVCaptureSessionPresetHigh`适用于高质量的视频和音频输出。

您可以设置会话预设，如：

```
[self.yourSession setSessionPreset:AVCaptureSessionPresetLow]; 
```

> **会话预设**
> 
> 一个常数值，指示输出的质量级别或比特率。**@property(nonatomic, copy) NSString *sessionPreset 讨论**
> 
> 您可以使用此属性自定义输出的质量级别或比特率。有关 sessionPreset 的可能值，请参阅“视频输入预设”。默认值为 AVCaptureSessionPresetHigh。
> 
> 您可以在会话运行时设置此值。
> 
> **您只能在以下情况下设置预设`canSetSessionPreset`：为该预设返回 YES。**可用性
> 
> ```
> Available in iOS 4.0 and later. 
> ```
> 
> 在 AVCaptureSession.h 中声明

**会话预设的可能值为：**

> **视频输入预设**
> 
> `sessionPreset` 使用属性定义捕获设置预设的常量。
> 
> NSString *const AVCaptureSessionPresetPhoto;
> 
> NSString *const AVCaptureSessionPresetHigh;
> 
> NSString *const AVCaptureSessionPresetMedium;
> 
> NSString *const AVCaptureSessionPresetLow;
> 
> NSString *const AVCaptureSessionPreset352x288;
> 
> NSString *const AVCaptureSessionPreset640x480;
> 
> NSString *const AVCaptureSessionPreset1280x720;
> 
> NSString *const AVCaptureSessionPreset1920x1080;
> 
> NSString *const AVCaptureSessionPresetiFrame960x540;
> 
> NSString *const AVCaptureSessionPresetiFrame1280x720;

**常量细节：**

> **AVCaptureSessionPresetPhoto**
> 
> ```
> Specifies capture settings suitable for high resolution photo quality output.
> 
> Available in iOS 4.0 and later.
> 
> Declared in AVCaptureSession.h. 
> ```
> 
> **AVCaptureSessionPresetHigh**
> 
> ```
> Specifies capture settings suitable for high quality video and audio output.
> 
> Available in iOS 4.0 and later.
> 
> Declared in AVCaptureSession.h. 
> ```
> 
> **AVCaptureSessionPresetMedium**
> 
> ```
> Specifies capture settings suitable for output video and audio bitrates suitable for sharing over WiFi.
> 
> Available in iOS 4.0 and later.
> 
> Declared in AVCaptureSession.h. 
> ```
> 
> **AVCaptureSessionPresetLow**
> 
> ```
> Specifies capture settings suitable for output video and audio bitrates suitable for sharing over 3G.
> 
> Available in iOS 4.0 and later.
> 
> Declared in AVCaptureSession.h. 
> ```
> 
> **AVCaptureSessionPreset352x288**
> 
> ```
> Specifies capture settings suitable for CIF quality (352x288 pixel) video output.
> 
> Available in iOS 5.0 and later.
> 
> Declared in AVCaptureSession.h. 
> ```
> 
> **AVCaptureSessionPreset640x480**
> 
> ```
> Specifies capture settings suitable for VGA quality (640x480 pixel) video output.
> 
> Available in iOS 4.0 and later.
> 
> Declared in AVCaptureSession.h. 
> ```
> 
> **AVCaptureSessionPreset1280x720**
> 
> ```
> Specifies capture settings suitable for 720p quality (1280x720 pixel) video output.
> 
> Available in iOS 4.0 and later.
> 
> Declared in AVCaptureSession.h. 
> ```
> 
> **AVCaptureSessionPreset1920x1080**
> 
> ```
> Specifies capture settings suitable for 1080p quality (1920x1080 pixel) video output.
> 
> Available in iOS 5.0 and later.
> 
> Declared in AVCaptureSession.h. 
> ```
> 
> **AVCaptureSessionPresetiFrame960x540**
> 
> ```
> Specifies capture settings to achieve 960x540 quality iFrame H.264 video at about 30 Mbits/sec with AAC audio.
> 
> QuickTime movies captured in iFrame format are optimal for editing applications.
> 
> Available in iOS 5.0 and later.
> 
> Declared in AVCaptureSession.h. 
> ```
> 
> **AVCaptureSessionPresetiFrame1280x720**
> 
> ```
> Specifies capture settings to achieve 1280x720 quality iFrame H.264 video at about 40 Mbits/sec with AAC audio.
> 
> QuickTime movies captured in iFrame format are optimal for editing applications.
> 
> Available in iOS 5.0 and later.
> 
> Declared in AVCaptureSession.h. 
> ```

请参考：[AVCaptureSession](http://developer.apple.com/library/ios/#DOCUMENTATION/AVFoundation/Reference/AVCaptureSession_Class/Reference/Reference.html)

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-11-02T08:21:15.270

```
if ([self.captureSession canSetSessionPreset:AVCaptureSessionPreset640x480]) {
    [self.captureSession setSessionPreset:AVCaptureSessionPreset640x480];
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-05-25T06:26:09.140

**2019**斯威夫特 5

```
var session : AVCaptureSession?

self.session!.sessionPreset = AVCaptureSession.Preset.medium; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-10-18T00:47:20.037

对于 Swift 2.2 和 3.0：

```
captureSession.sessionPreset = AVCaptureSessionPreset640x480 
```

不幸的是，这没有设置为枚举，因此它目前缺乏类型安全性，因为 sessionPreset 是一个`String`.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-09-06T03:49:38.277

使用其中之一很重要：

```
NSString *const AVCaptureSessionPresetHigh;
NSString *const AVCaptureSessionPresetMedium;
NSString *const AVCaptureSessionPresetLow; 
```

这样您就不会遇到不支持您的特定规格的手机。除非你每次都写代码来检查。

# java - 在 StringTokenizer 中为空内容赋值

> ID：13191516
> 
> 赞同：2
> 
> 时间：2012-11-02T08:11:32.670
> 
> 标签：java, string, stringtokenizer

我必须从由管道分隔的字符串组成的文件中读取输入

```
A|UK|2|1
B||3|1

StringTokenizer st = new StringTokenizer(data,"|");

String id=st.nextToken();
String country=st.nextToken();
String count=st.nextToken();
String flag=st.nextToken(); 
```

对于文件的第二行，有一个空内容，如果没有内容，我想分配“”字符串，我如何使用 nextToken 做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-02T08:24:35.240

我建议你使用 split ，它会毫无例外地工作

```
String yourstring = "B||3|1";
String [] arr = yourstring.split("\\|");

String id=arr[0];
String country=arr[1];
String count=arr[2];
String flag=arr[3]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-02T08:28:30.463

一种解决方案是使用三参数构造函数

```
StringTokenizer(String str, String delim, boolean returnDelims) 
```

`true`作为第三个参数传递。这样，StringTokenizer 将分隔符作为标记提供给您，因此您可以检查空字段，只需检查两个或多个连续的分隔符。

# c# - 通过第一个表的元素访问第二个表的属性

> ID：13191517
> 
> 赞同：0
> 
> 时间：2012-11-02T08:11:33.683
> 
> 标签：c#, database, linq, entity-framework

我有两个有关系的表。它们被称为 tblX 和 tblY。

```
var x = (from v in db.tblX select v).First(); 
```

现在 x 具有以下属性：

```
x.name
x.id
x.tblY 
```

tblY 具有以下属性：idY、nameY。

在我使用上面的 linq 语句之后，我可以在不进行连接的情况下访问 idY。我可以访问 x.tblY.idY 和 x.tblY.nameY。如果我这样访问它们可以吗？这是一个很好的编程习惯吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:31:16.873

tblY 的属性将被延迟加载。除非您对大量 tblX 对象重复执行此操作，否则这很好。比您可能考虑的急切加载。

相关：[实体框架 - 使用包含/急切加载和延迟加载有什么区别？](https://stackoverflow.com/questions/3505170/entity-framework-whats-the-difference-between-using-include-eager-loading-and)

# yii - 对于每个请求，Yii 应用程序中都会生成一个新会话

> ID：13191518
> 
> 赞同：1
> 
> 时间：2012-11-02T08:11:35.233
> 
> 标签：yii

我知道我要么跳过了某些东西，要么错误地配置了会话，但 Yii 会话对我不起作用。我花了很多时间进行调试和搜索，但没有得到任何具体的答案。

如文档和互联网教程中所述，我已将我的应用程序会话配置如下：

```
'components'=>array(
    'user'=>array(
    // enable cookie-based authentication
    'allowAutoLogin'=>true,
    ),
    'session' => array (
    'sessionName' => 'Site Session',
    'class'=>'CHttpSession',
    'useTransparentSessionID'   =>($_POST['PHPSESSID']) ? true : false,
    'autoStart' => 'true',
    'cookieMode' => 'allow',
    'timeout' => 300
), 
```

但是，每次我向服务器发送请求时，我都会得到一个新的会话对象。我通过 验证了相同的`echo "Session id: ".Yii::app()->session->sessionID;`，每次它给我不同的 id。由于这种行为，我之前在会话中添加的变量也无法访问。

请提供一些指示，我已经花了 4 个多小时进行调试和寻找解决方案。非常感谢您提前提供的任何指示。

谢谢

~塔伦

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:45:43.003

很可能只是您的会话名称中有一个空格。

我刚刚对我的工作 Yii 实例进行了快速测试，将会话名称更改为其中包含一个空格，并且会话的 cookie 值似乎每次都在更改。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-14T05:42:51.157

请在此 url [http://php.net/manual/en/function.session-name.php阅读 php 会话名称文档](http://php.net/manual/en/function.session-name.php)

它清楚地提到会话名称应仅包含字母数字字符。它也应该包含至少一个字母（会话名称也不能将其所有字符都作为数字）。否则每次都会生成一个新的会话 ID。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-30T04:00:16.653

* * *

chrome 44和chrome 47的bug，更新到51就ok了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-09-19T03:08:40.187

请注意，因为我在 Yii2 中遇到了这个问题。我有一个`COOKIE_DOMAIN`通过 php-fpm config 设置的常量，它用于错误的域名，导致会话重置。确保将其设置为“.example.com”（包括开头的 . 以支持您的所有主机名）

```
'components'=>[
    'session' => [
            'class' => 'yii\web\DbSession',
            'cookieParams' => [
                'path' => '/',
                'domain' => COOKIE_DOMAIN, // <<<--- check this 
                'secure' => true,
            ],
            'writeCallback' => function($session){
                return [
                    'user_id' => Yii::$app->user->id
                ];
            },
            'sessionTable' => 'session', // session table name. Defaults to 'session'.
        ],
...
] 
```

# sql - SQL Server：行到列

> ID：13191522
> 
> 赞同：0
> 
> 时间：2012-11-02T08:12:15.337
> 
> 标签：sql, sql-server, tsql

样本数据

```
 date     | num | name | value
 01012012 |  1  |    A |  20
 01012012 |  1  |    B |  30
 01012012 |  2  |    C |  40 
```

希望喜欢这个

```
 date     | num |  A |  B |  C
 01012012 |   1 | 20 | 30 | --
 01012012 |   2 | -- | -- | 40 
```

*   名字不固定可以允许很多名字

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:18:30.373

像这样的东西怎么样

```
DECLARE @Table TABLE(
        date DATETIME,
        num INT,
        name VARCHAR(20),
        value FLOAT
)
INSERT INTO @Table SELECT '20121201',1,'A',20
INSERT INTO @Table SELECT '20121201',1,'B',30
INSERT INTO @Table SELECT '20121201',2,'C',40

SELECT  *
FROM    (
            SELECT  date,
                    num,
                    name,
                    value
            FROM    @Table
        ) t
PIVOT   (
            SUM(Value) FOR name IN ([A],[B],[C])
        ) p 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!3/d41d8/5660)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-02T08:22:21.260

对于动态列，您需要使用动态 SQL

[**SQL 提琴示例**](http://sqlfiddle.com/#!3/6f0e4/4)

```
declare
    @cols nvarchar(max),
    @stmt nvarchar(max)

select @cols = isnull(@cols + ', ', '') + '[' + Name + ']' from table1

select @stmt = '
    select *
    from table1 as T
        pivot 
        (
            max(T.value)
            for name in (' + @cols + ')
        ) as P'

exec sp_executesql  @stmt = @stmt 
```

如果您不需要动态列数，则可以使用普通 SQL，例如

```
select *
from table1 as T
    pivot 
    (
        max(T.value)
        for name in ([A],[B],[C])
    ) as P 
```

# jquery - 获取有关特定表“td”元素的信息

> ID：13191529
> 
> 赞同：0
> 
> 时间：2012-11-02T08:13:09.237
> 
> 标签：jquery, html-table

我有一张 10 X 8 的桌子。

每行有 8 列，即 8 个 td 元素。行中的每个 td 都有一个不同的类。当我单击该行中的任何其他 td 时，是否可以获得该行中第一个**td元素的信息。**

基本上我在每行的第 2 列到第 8 列上创建一个 jquery onclick 事件。当我单击此列中的任何一个（**td**）时，它应该获取信息，即..，列 1 的 id 或 class 或 name 属性。我需要这个在服务器端代码上发送它。

- 谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:14:56.663

是的。从单击的元素中，您可以通过 导航到该行[`closest`](http://api.jquery.com/closest)，然后您可以使用or找到`td`具有相关类的（可能在您有嵌套表的情况下）：[`find`](http://api.jquery.com/find)[`children`](http://api.jquery.com/children)`children`

```
function clickHandler(e) {
    var cell = $(e.target).closest('tr').children('td.foo');
    // ...
} 
```

或者，如果您*总是*想要第*一个* `td`：

```
var cell = $(e.target).closest('tr').children('td').first(); 
```

`td`如果将该处理程序分配给表中的任何一个，分配给 ，或者`tr`实际上分配给整个，那么该处理程序将起作用。`tbody``table`

[实例](http://jsbin.com/usegih/1)| [来源](http://jsbin.com/usegih/1/edit)

JavaScript：

```
jQuery(function($) {

  // Put the handler on the tbody
  $("#target").click(clickHandler);

  function clickHandler(e) {
    var td = $(e.target).closest('tr').children('td').first();
    display("The text of the first <code>td</code> in that row is: " + td.text());
  }

  function display(msg) {
    $("<p>").html(String(msg)).appendTo(document.body);
  }

}); 
```

HTML：

```
<table>
  <tbody id="target">
  <tr>
    <td class="one">This is one in row 0</td>
    <td class="two">This is two in row 0</td>
    <td class="three">This is three in row 0</td>
  </tr>
  <tr>
    <td class="one">This is one in row 1</td>
    <td class="two">This is two in row 1</td>
    <td class="three">This is three in row 1</td>
  </tr>
  <tr>
    <td class="one">This is one in row 2</td>
    <td class="two">This is two in row 2</td>
    <td class="three">This is three in row 2</td>
  </tr>
  </tbody>
</table> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T08:16:05.383

基本上你可以这样：

```
$('td.column2-8').click(function()
{
var firstTdData = $(this).parent().children('td:first').html();
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-02T08:23:34.897

```
$('td').click( function(){
    var $elem = $(this).parent('tr').children('td:first');
    var elem_id = $elem.prop('id'); // or $elem.attr('id');
    .... // for class, name, etc.
}); 
```

# android - BnCameraService 中的字符“n”和 BpCameraService 中的“p”是什么意思？

> ID：13191534
> 
> 赞同：1
> 
> 时间：2012-11-02T08:13:36.710
> 
> 标签：android

BnCameraService 中的字符“n”和 BpCameraService 中的“p”是什么意思？

我认为'n'是指“native”。

是对的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:21:16.943

它与派生它们的[BpInterface 和 BnInterface](https://github.com/keesj/gomo/wiki/AndroidNativeBinder)相同。

Bn = 基本本机
Bp = 基本代理

# c# - 如何一键删除Visual Studio当前文档中的所有C#方法/属性/字段“摘要”注释（以///开头）？

> ID：13191542
> 
> 赞同：15
> 
> 时间：2012-11-02T08:14:38.263
> 
> 标签：c#, visual-studio

如何删除所有 C# 方法/属性/字段“摘要”注释

（以 开头`///`）

在 Visual Studio 的当前文档中一枪？

换句话说，转换这个：

```
/// <summary>
/// Very stupid comment generated with very stupid tool
/// </summary>
protected void MyMethod
{

} 
```

进入这个：

```
protected void MyMethod
{

} 
```

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-11-02T08:28:49.910

怎么样

*   `Ctrl`+`H`用于快速更换
*   标记`Use`：`Regular expressions`
*   `Find what`在表达式后面的字段中输入`^.*\/\/\/.*$\n`（很快 - 与`///`模式一致）
*   `Replace with`将字段留空
*   确保您`Look in`在`Current Document`
*   点击`Replace All`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-03-17T07:53:39.770

正则表达式模式`^.*\/\/\/ ?<summary>.*\n(?:^.*\/\/\/.*$\n)*`在这种情况下会更合适，因为它会一次匹配整个摘要注释。

*   `^.*\/\/\/ ?<summary>.*\n`- 匹配`/// <summary>`文本行（斜线后有可选空格）
*   `(?:)+`- 非捕获组，重复零次或多次
*   `^`- 行首
*   `.*`- 任何字符
*   `\/\/\/`- 三个斜线
*   `.*`- 任何字符
*   `$`- 行结束
*   `\n`- 换行符

# tridion - 处理 RTF 字段的特殊字符

> ID：13191543
> 
> 赞同：1
> 
> 时间：2012-11-02T08:14:39.113
> 
> 标签：tridion, tridion-2011

我们确实从 Tridion 5.3 升级到了 Tridion 2011 SP1。

在 Tridion 5.3 中，我们使用的是 VBScript 模板，作为此次升级的一部分，我们将现有的 VBScript 模板转换为复合组件模板。我们面临下面提到的两个关于 RTF 字段内容的问题。

问题 1：在我们现有的 RTF 字段内容中，我们在多个位置有空标签/HTML 标签。例如。`<a name="Contact" id="Contact"></a>` 当我们使用复合组件模板（Tridion 2011 SP1 环境）发布内容时，上面提到的锚标记正在转换为`<a name="Contact" id="Contact" />`. 这破坏了现有的 javascript 功能。为了克服这个问题，我们编写了 C# 函数来查找空标签并用`&nbsp;`like替换内部文本，`<a name="Contact" id="Contact">&nbsp;</a>`然后一切正常。但是在 CT 级别为每个 RTF 字段调用此函数是一项很大的活动，因为我们有编号 Component Tempate。有没有更好的方法来做到这一点。

问题 2：在同一个 RTF 字段中，我们有类似的内容`&#160;`（可能是编辑从网络或其他地方复制粘贴），所以当我们尝试发布页面或组件时，它会因错误而失败。JScriptException：表达式值未终止的字符串常量。

是否有任何默认的 TBB 可以帮助解决问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:49:55.937

**问题一：**

您还可以使用**Filtering XSLT**在组件保存时修改您的 RTF 内容。

这样，您可以将任何空标签替换`<tag></tag>`为`<tag>&nbsp;</tag>`组件保存，并且不需要对模板进行任何进一步的更改。

**问题 2：**

`&#160;`看起来像一个编码`&nbsp;`，见字符代码：[http ://www.escapecodes.info/](http://www.escapecodes.info/)

也许您可以使用过滤 xslt 或 C# TBB 用正确的 html 编码替换此字符代码

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-22T10:09:52.477

由于您已经具有将内联封闭锚标签转换为其中包含不间断空格的锚标签的功能，您可以考虑在页面模板中使用此功能，而不是在每个组件模板中使用它；这将需要更少数量的模板来更改...

您可能还需要考虑用正确闭合的锚标记替换内联闭合锚标记，而无需实际插入额外的空格。

下面是一个 C# 片段，您可以在 TBB 中使用它来替换内联封闭锚标记：

```
Item outputItem = package.GetByName(pcakge.OutputName);
package.Remove(outputItem);
string outputString = Regex.Replace(outputItem.GetAsString(), "(<a[^>]*?)/>", "$1></a>", RegexOptions.Singleline);
outputItem.SetAsString(outputString);
package.PushItem(Package.OutputName, outputItem); 
```

您可以将其扩展为也替换   与   但这不应该引起任何问题，如   是 HTML 中的有效转义序列（Tridion RTF 字段本质上是 XML，这可能是   出现而不是  ... 的原因）。

# powershell - 为什么“更多”在此处的 PowerShell 帮助 cmdlet 中不起作用？

> ID：13191548
> 
> 赞同：1
> 
> 时间：2012-11-02T08:15:00.473
> 
> 标签：powershell, powershell-3.0

我想在 PS 中逐页查看帮助内容。

我试试| 更像：

帮助 about_Debuggers|更多

但仍然无法正常工作，我会立即获得大量信息。

是否有另一种方法或正确的方法来实现这一目标？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T09:14:55.867

'help' 是一个函数，它封装了一个通过`Get-Help`管道传输到`more`实用程序的调用。所以默认情况下你应该得到分页输出。

当您执行命令时，您实际上发送了两次调用“更多”的输出。也就是说，无论哪种方式，它都对我有用。v3 上的睾丸。仅仅执行你会得到什么：

```
help about_Debuggers 
```

# python - 使用漂亮的汤从给定的 html 结构中解析一个 href

> ID：13191550
> 
> 赞同：1
> 
> 时间：2012-11-02T08:15:08.537
> 
> 标签：python, beautifulsoup

我有以下给定的html结构

```
<li class="g">
 <div class="vsc">    
  <div class="alpha"></div>
  <div class="beta"></div>
  <h3 class="r">
   <a href="http://www.stackoverflow.com"></a>
  </h3>
 </div>
</li> 
```

**上面的 html 结构不断重复，使用BeautifulSoup**和**Python**从上面的 html 结构中解析所有链接（stackoverflow.com）的最简单方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:56:40.517

[BeautifulSoup 4](http://www.crummy.com/software/BeautifulSoup/bs4/doc/)使用 CSS 选择器提供了一种方便的方法来实现这一点：

```
from bs4 import BeautifulSoup
soup = BeautifulSoup(html)
print [a["href"] for a in soup.select('h3.r a')] 
```

这还具有通过上下文限制选择的优点：它仅选择那些是具有类 r 的 h3 节点的子节点的锚节点。

只需调整选择器即可轻松省略约束或选择最适合需要的约束；请参阅[CSS 选择器文档](http://www.crummy.com/software/BeautifulSoup/bs4/doc/#css-selectors)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T08:21:48.037

使用 Petri 提出的 CSS 选择器可能是使用 BS 的最佳方式。但是，我不能阻止自己推荐使用`lxml.html`and `xpath`，它非常适合这项工作。

测试`html`：

```
html="""
<html>
<li class="g">
<div class="vsc"></div>    
<div class="alpha"></div>
<div class="beta"></div>
<h3 class="r">
<a href="http://www.correct.com"></a>
</h3>
</li>
<li class="g">
<div class="vsc"></div>    
<div class="alpha"></div>
<div class="beta"></div>
<h3 class="r">
<a href="http://www.correct.com"></a>
</h3>
</li>
<li class="g">
<div class="vsc"></div>    
<div class="gamma"></div>
<div class="beta"></div>
<h3 class="r">
<a href="http://www.incorrect.com"></a>
</h3>
</li>
</html>""" 
```

它基本上是一个单线：

```
 import lxml.html as lh
    doc=lh.fromstring(html)
    doc.xpath('.//li[@class="g"][div/@class = "vsc"][div/@class = "alpha"][div/@class = "beta"][h3/@class = "r"]/h3/a/@href')

    Out[264]:
    ['http://www.correct.com', 'http://www.correct.com'] 
```

# tabs - 在侧边栏小部件中显示摘录功能在帖子和页面中不起作用

> ID：13191560
> 
> 赞同：1
> 
> 时间：2012-11-02T08:15:58.783
> 
> 标签：tabs, widget, sidebar

我在侧边栏的选项卡小部件中添加了显示摘录代码。它只在主页中起作用。当我去发布页面和其他页面时，侧边栏小部件在这些页面中不起作用。

“阅读更多”可以在主页侧边栏正确显示。但它们不会显示在其他页面上。

我的博客：[www.smehub.com.hk](http://www.smehub.com.hk)

我在 tabs_widget.php 添加的代码：

```
<span class="block-meta"><?php the_time(get_option('date_format')); ?>, <?php comments_popup_link(); ?></span><p><?php echo string_limit_words(get_the_excerpt(), 34); ?></p><a href='<?php the_permalink(); ?>' title='<?php the_title(); ?>' class="readmore"><?php _e('Read More'); ?> <span class="block-arrows">&raquo;</span></a> 
```

非常感谢！

# bash - Ubuntu shell脚本出现错误

> ID：13191564
> 
> 赞同：0
> 
> 时间：2012-11-02T08:16:26.647
> 
> 标签：bash, shell, ubuntu

我正在开发简单的 shell 脚本，它将我当前的所有目录文件复制到将存在于当前工作目录中的**备份目录中。****现在，当我在if**中传递一个以上的条件时，我得到了错误。

```
#!/bin/bash
filename=nx.pdf
for i in *;
 do
 echo $i;
 if [ $i == backup || $i == $filename ] ; then
    echo "Found backup."
 else
 echo "Part 2"
 cp -rf $i backup
 fi
 done 
```

我收到错误

```
asd.sh: line 6: [: missing `]'
asd.sh: line 6: ==: command not found
Part 2
deployee.sh
asd.sh: line 6: [: missing `]'
asd.sh: line 6: ==: command not found
Part 2 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:17:52.357

您应该在“”中引用 $i。否则，您会收到带有空格的文件名的语法错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T08:23:50.267

比较运算符是 =（在 POSIX 中定义）。但是 == 也适用于某些 shell。像这样的东西应该工作：

```
if [ $i = backup ] || [ $i = $filename ] ; then 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-02T08:27:56.717

为了能够在条件下使用`||`和`&&`，您必须使用双方括号：

```
if [[ $i == backup || $i == $filename ]] ; then 
```

# c# - IIS进程回收

> ID：13191566
> 
> 赞同：0
> 
> 时间：2012-11-02T08:16:59.750
> 
> 标签：c#, asp.net-mvc, iis, application-pool, recycle

我已阅读[MSDN 文章（链接）](http://msdn.microsoft.com/en-us/library/ms525803.aspx)，其中介绍了有关 IIS 进程回收的内容，结果证明

> 新进程在旧工作进程停止之前启动，然后将请求定向到新进程。

但是，当我阅读那篇文章的下一部分时，我看到了这一点：

> 多实例的发生：在多实例中，一个进程的两个或多个实例同时运行。根据应用程序池的配置方式，可以运行多个工作进程实例，每个实例都可能加载和运行相同的应用程序代码。重叠回收的发生是多实例化的一个示例，就像 Web 园一样，其中两个或多个进程为应用程序池提供服务，而不管回收设置如何。
> 
> 如果您的应用程序无法在多实例环境中运行，您必须为一个应用程序池仅配置一个工作进程（这是默认值），如果正在使用应用程序池回收，则禁用重叠回收功能。

所以，我有点困惑。

一方面，**当所有的 Web 请求立即永久地被定向**到新的流程实例时，我可以接受。另一方面，本文建议我根本不要使用回收，以防我的应用程序引用上面的“**无法在多实例环境中运行**”。这意味着，在我看来，请求可能是作为一个或另一个流程实例的流程，这是我的应用程序逻辑所不允许的。

我想知道的是，如果有任何机会，任何机会，IIS 可能会走得如此糟糕并崩溃我的应用程序，还是我不应该担心它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T14:57:05.243

IIS 默认会定期回收；这是正常且健康的行为（释放系统资源）。IIS 只会暂时为同一个应用程序运行多个进程。在回收时，新流程将启动，而原始流程将仅运行到当前活动完成或超时期限到期。如果您担心会话状态，请查看状态服务器（SQL 是首选方法）。我有几篇关于这个问题的帖子，但请查看此[链接](http://msdn.microsoft.com/en-us/library/ms178586%28v=vs.100%29.aspx)。

# ruby-on-rails - 如果参数为大写，如何在 Rails 路由中进行 301 重定向？

> ID：13191569
> 
> 赞同：1
> 
> 时间：2012-11-02T08:17:23.683
> 
> 标签：ruby-on-rails, seo, routes, http-status-code-301, actioncontroller

如何根据条件在 routes.rb 中进行 301 重定向，如果某些参数为大写，则重定向到小写 URL。

我知道我可以使 URL 不区分大小写，但这不是我想要的。

例如，如果用户点击此 URL /Company/XYZ 或 /company/Xyz

他应该被重定向到/company/xyz

这甚至可以使用 301 重定向还是我必须使用 302 重定向。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T13:21:13.150

我不知道如何在 中执行此操作`routes.rb`，但我也不确定这是否适合它。我会把它放到控制器动作中。就像是：

```
class CompaniesController < ApplicationController

  def show
    company_id = params[:id]
    if company_id =~ /\A[[:upper:]]+\z/
      redirect_to company_path(company_id.downcase), status: :moved_permanently
    end
    # Handle normal process flow.
  end

end 
```

如果您愿意，您可以设置 a`before_filter`并更通用地处理访问单个记录的所有情况（`show`, `edit`, `update`）。`ApplicationController`如果您想对所有模型执行此操作，您甚至可以放入一个过滤器。

# objective-c - GPUImage 相当于 cv::findContours

> ID：13191570
> 
> 赞同：13
> 
> 时间：2012-11-02T08:17:29.033
> 
> 标签：objective-c, image-processing, opencv, gpuimage

我的应用在二进制图像上使用 opencv 的 cv::findContours。我现在需要让它成为实时的。GPUImage 有一个 cannyedge 过滤器，但我找不到与 findContours 相关的任何内容。GPUImage 是否有任何与 findContours 非常相似的东西？如果没有，有人可以提出替代方案吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-08-30T09:52:05.147

2015 年曾报道过这方面的一个问题。 [https://github.com/BradLarson/GPUImage/issues/2094](https://github.com/BradLarson/GPUImage/issues/2094)

该问题的答案表明 GPUImage 目前不提供任何此类替代方案。因此，最好的猜测可能是将 GPUImage 的 Canny 或 Sobel 边缘检测的输出输入到 GPUImage 框架之外的轮廓确定操作中。

# mongodb - MongoDB：断言 15934 错误

> ID：13191571
> 
> 赞同：0
> 
> 时间：2012-11-02T08:17:30.283
> 
> 标签：mongodb, heroku

我使用 Heroku 作为我的部署并尝试转储我的本地 MongoDB 然后 mongorestore 它但我得到一个我无法得到的错误：

```
assertion: 15934 JSON object size didn't match file size 
```

我搜索了所有内容，发现最接近的是 github 中的 mongodb 源代码。

有谁知道为什么会发生这个错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:51:33.367

15934 断言错误表明文件大小与构成该文件的 JSON 对象的实际大小不匹配。这可能来自在尝试恢复文件之前编辑文件 - 例如，如果您从文件中手动删除了字段，您将看到此错误。

`mongoexport`如果您使用/ ，您应该注意的一件事`mongoimport`是它不会为您处理索引。这意味着您需要在导入完成之前或之后自行创建索引。之前创建它们可能会导致导入需要更长的时间才能运行。

# c# - 如何在 C# 代码隐藏中获取 html 视频的当前时间？

> ID：13191572
> 
> 赞同：0
> 
> 时间：2012-11-02T08:17:34.107
> 
> 标签：c#, javascript

我在 ASP.NET 页面中添加了视频控件。

```
<video controls id="movie" width="610" height="344" runat="server" preload="">
</video> 
```

Javascript版本如下：

```
var v = $("#<%=movie.ClientID%>");
var video = v.get()[0]; 
```

我可以在 Javascript 中使用下面的行获取当前时间。

```
video.currentTime 
```

如何从后面的代码中获取它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:23:04.550

您需要使用 Javascript 获取它并将其提交给代码隐藏：

```
$.get("passVideoTime.aspx?time=" + video.currentTime); 
```

或使用回发：

```
<asp:UpdatePanel runat="server" ID="UpdatePanel">
    <ContentTemplate>
        <asp:HiddenField Id="VideoTime"  runat="server"/>
        <asp:Timer runat="server" Enabled="true" Interval="1000" ID="Timer" />
    </ContentTemplate>
</asp:UpdatePanel> 
```

```
<script>
    $('form').submit(function () {
        $('#<%= VideoTime.ClientId %>').val(video.currentTime);
        return true;
    });
</script> 
```

编辑：回发示例并没有真正起作用，因为回发不会导致 form.submit。在更新面板更新之前更新一些东西并不容易。

# iphone - 如何从 iPhone/Ipad 中的图像中识别人脸？

> ID：13191573
> 
> 赞同：2
> 
> 时间：2012-11-02T08:17:36.943
> 
> 标签：iphone, ios, core-graphics, image-recognition, face-recognition

我想创建一个可以识别人脸的应用程序，如果没有检测到人脸，它将返回正确的消息。

是否有任何框架或类用于我们从图像中识别人脸

![在此处输入图像描述](../Images/85a830d72dbf32605a2392489db72bf9.png)

![在此处输入图像描述](../Images/985b41b01f924b209156ce9ca3bc913c.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-02T08:24:10.687

[请从这里](http://maniacdev.com/2011/11/tutorial-easy-face-detection-with-core-image-in-ios-5/)检查代码。我想它会帮助你。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-02T08:21:15.537

[OpenCV](http://opencv.org/)似乎确实有一个[人脸识别 API](http://opencv.willowgarage.com/wiki/FaceRecognition)。[您可以在此处](http://code.google.com/p/ios-face-detection/)找到更多信息。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-02T08:31:48.730

试试[CIDetector](http://developer.apple.com/library/ios/#documentation/CoreImage/Reference/CIDetector_Ref/Reference/Reference.html)和谷歌它找到更多细节。这是Apple的框架，工作正常！

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-11-02T08:32:14.117

您可以从 ios 5 api 实现这一点，这里是示例代码，您可以下载它 [http://maniacdev.com/FaceDetectionExample.zip](http://maniacdev.com/FaceDetectionExample.zip)

# ruby-on-rails - 如何从一个模型验证另一个模型中一个字段的存在

> ID：13191576
> 
> 赞同：1
> 
> 时间：2012-11-02T08:18:05.243
> 
> 标签：ruby-on-rails, ruby

我有一个模型PunchingRequest 和一个模型PunchingInformation，在PunchingInformation 我有两个字段，punch_in_time 和punch_out_time。当且仅当punch_in_time 或punch_out_time 中至少有一个包含值时，我想在冲压请求表中插入记录。我有一个包含与 PunchingRequest 和 PunchingInformation 相关的字段的表单。我怎样才能强加这个验证？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:37:27.207

使用这样的自定义验证：

```
validate :presence_of_punch_in_time_or_punch_out_time

def presence_of_punch_in_time_or_punch_out_time
  # Use PunchingInformation.where(...)
  # or this.your_object_relation_with_punching_information
  # to get the other model row.
  errors[:base] << "Wrong punching information" unless row.punch_in_time || row.punch_out_time
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:31:47.417

您可以在 PunchingRequest 模型中编写自定义验证，例如

```
validate :validate_punching_information

def validate_punching_information
  errors[:base] << 'Either punch in or punch out should be present' if self.punching_information.punch_in_time.nil? && self.punching_information.punch_out_time.nil?
end 
```

我假设 PunchingRequest 和 PunchingInformation 是一对一相关的

# java - 在 Java 中使用 JAXB 序列化树结构

> ID：13191577
> 
> 赞同：2
> 
> 时间：2012-11-02T08:18:06.740
> 
> 标签：java, xml, serialization, tree, jaxb

所以我有一棵树实现了我的自定义树结构，更不像这样：

树类：

```
@XmlRootElement
public class Tree {

   Set<? extends TreeNode> nodes;
   @XmlElement
   Set<? extends TreeNode> getNodes() {...}
} 
```

抽象节点：

```
public abstract class Node {
   Set<? extends Node> children;
   private String name;

   @XmlAttribute
   public String getName() {...}
   @XmlElement
   public abstract Set<? extends Node> getChildren();

} 
```

组（可能包含组和实体）：

```
@XmlRootElement(name = "group")
public class Group extends Node {

    private final Set<Group> groups = new HashSet<Group>();
    private final Set<Entity> entities = new HashSet<Entity>();
    public Set<Group> getGeoups() { ... }
    public Set<Entity> getEntities() { ... }
} 
```

节点：

```
@XmlRootElement(name = "entity")
public class Entity extends Node {

    public Set<DashboardNode> getChildren() {
        return Collections.<DashboardNode> emptySet();
    }
} 
```

我的问题是，JAXB 不对组和实体使用不同的名称。我想得到类似的结果：

```
<tree>
   <node>
       <group>
            <group>
                <entity/>
            </group>
       </group>
   </node>
   <node>
       <group>
           <entity/>
       </group>
       <group>
       </group>
       <entity/>
   </node>
</tree> 
```

我得到了这个：

```
<tree>
   <node>
       <children>
            <children>
                <children/>
            </children>
       </children>
   </node>
   (...)
</tree> 
```

如果我在 getChildren() 方法上删除我的抽象节点类中的注释，我只会收到这个：

```
<tree>
   <node>
   </node>
  <node>
   </node>
</tree> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:36:35.640

看看`@XmlElements`注释，将其中一个合适的添加到 children 属性中`Node`应该可以实现您所追求的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T09:29:07.407

问题是您的组“是一个”节点。当序列化程序遇到一个既有“孩子”又有“组”的对象时该怎么办？

完全避免java继承可能会更好。

实际上，您在[sic]上没有`@XMLElement`注释，或者...`getGeoups()``getEntities()`

# asp.net-mvc - 如何在单选按钮更改时在 MVC 3.0 razor 中发布表单

> ID：13191583
> 
> 赞同：0
> 
> 时间：2012-11-02T08:18:48.237
> 
> 标签：asp.net-mvc, asp.net-mvc-3, razor

我想在点击表单帖子时激活和非活动用户帐户。我在用

```
 @using (Ajax.BeginForm("SetStatus", "Home", null, new AjaxOptions() { HttpMethod = "Post" }, null))
                            {
                                  if (res.Status == 1)
                                  { 

                                        <span class="userStatusSpan statusActive"><input type="radio" name="status" value="1" checked="checked" />Active</span>
                                        <span class="userStatusSpan statusInactive"><input type="radio" name="status" value="0"  />Inactive</span>
                                  }
                                  else
                                  {
                                         <span class="userStatusSpan statusActive"><input type="radio" name="status" value="1" />Active</span>
                                        <span class="userStatusSpan statusInactive"><input type="radio" name="status" checked="checked" value="0"  />Inactive</span>

                                  }
                          } 
```

谁能告诉我如何在复选框更改时发布表格？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-02T09:10:49.047

您可以在单选按钮的下面调用 javascript 函数 onclick 事件。

```
 <script type="text/javascript">
      function submitform()
      {
        document.myform.submit();
      } 
    </script> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-02T08:30:58.307

在我看来，在这种情况下最好使用普通的 jQuery ajax 帖子。您可以在此处找到一些示例：[选中复选框时提交表单 - 教程](https://stackoverflow.com/a/2421510/157666)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T11:25:05.553

就去 document.formid.submit();

# plone - 使用 zopyx.tinymceplugins.imgmap 克隆图像映射错误

> ID：13191586
> 
> 赞同：1
> 
> 时间：2012-11-02T08:19:05.957
> 
> 标签：plone, imagemap, kss

我正在使用克隆 4.2。我需要在我的应用程序中管理图像映射，所以我安装了以下产品： http: [//pypi.python.org/pypi/zopyx.tinymceplugins.imgmap](http://pypi.python.org/pypi/zopyx.tinymceplugins.imgmap)。本产品使用 TinyMCE 编辑图像并添加链接。

安装此产品后，我注意到我现在在编辑内容类型时无法查看 TinyMCE 控件。查看浏览器的错误控制台，我注意到我的所有 *.kss 都无法读取。这是为所有 *.kss 文件显示的错误：

```
Error: The stylesheet http://localhost:8082/plone/portal_kss/My%20CMS%20theme/++resource++tinymce.kss/tinymce.kss was not loaded because its MIME type, "text/plain", is not "text/css".
Source File: http://localhost:8082/plone/folder-test/image-maps-test/page-with-imagemap/edit
Line: 0 
```

我不明白为什么 MIME 类型应该有错误。任何人都知道如何解决这个问题？

此外，我得到以下信息：

```
GET http://localhost:8082/plone/portal_javascripts/My%20CMS%20theme/plugins/imgmap/editor_plugin.js 500 (Internal Server Error) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T14:33:10.047

只是为了回答我自己的问题：

我打开了产品的 skins.xml 文件

（即zopyx.tinymceplugins.imgmap-0.3.1/zopyx/tinymceplugins/imgmap/profiles/default/skins.xml）

这是它的样子：

```
<?xml version="1.0"?>
<object name="portal_skins" allow_any="False" cookie_persistence="False">

 <object name="zopyx_tinymceplugins_imgmap"
    meta_type="Filesystem Directory View"
    directory="zopyx.tinymceplugins.imgmap:skins/zopyx_tinymceplugins_imgmap"/>

 <skin-path name="Plone Default">
  <layer name="zopyx_tinymceplugins_imgmap"
     insert-after="custom"/>
 </skin-path>

 <skin-path name="Sunburst Theme">
  <layer name="zopyx_tinymceplugins_imgmap"
     insert-after="custom"/>
 </skin-path>

</object> 
```

该产品似乎已针对特定主题。

现在，我的应用程序有一个自定义主题，即 MyCustomTheme。当我检查我的 portal_skins

**站点 > Zope 管理界面 > portal_skins > 属性**

我注意到“Sunburst Theme”确实在“ `zopyx_tinymceplugins_imgmap`Plone Default”和“Sunburst Theme”中包含了皮肤层，但不在我的“MyCustomTheme”中。它在`custom`图层之后添加了它。

所以我继续手动添加`zopyx_tinymceplugins_imgmap`MyCustomTheme，就在`custom`图层之后。

这设法修复它，我现在可以查看我的 TinyMCE 控件。我相信一定有更好的方法让它发挥作用。

希望这对将来的人有所帮助。

**更新：**请参阅[此](https://stackoverflow.com/questions/13227481/overriding-skins-xml-of-another-product)以获得更好的解决方案。

# java - Java中的文件处理替代方案

> ID：13191588
> 
> 赞同：-1
> 
> 时间：2012-11-02T08:19:24.693
> 
> 标签：java, file-handling

我想知道 java 是否提供了任何方法来实现下面所述的程序而无需文件处理。

假设我想为医院病人记录或电话簿制作一个程序，我可以在其中添加、删除和编辑病人姓名、NIC 号码和电话号码。制作这样一个带有文件处理的程序会很困难。

我知道这是一个愚蠢的问题，但我是 Java 新手。

问候

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-02T08:20:37.317

你所描述的听起来像一个数据库。数据库可帮助您存储、检索和修改数据。它通常比你（或我）用文件实现它做得更好。数据库并非严格用于在线使用，您只需在本地计算机上安装一个即可。

`JBDC`是您应该用于谷歌搜索的术语

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-02T08:30:25.020

您绝对应该使用数据库管理系统。一种简单的方法是将[SQLite](http://www.sqlite.org/)与[SQLiteJDBC](http://www.xerial.org/trac/Xerial/wiki/SQLiteJDBC) JDBC 驱动程序一起使用。SQLite 是用于嵌入式系统的流行 DBMS，SQLiteJDBC 使其在 Java 中易于使用。此配置易于设置，不需要运行任何数据库服务器；您的程序将完全独立。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-11-02T09:16:33.997

如果您从第一原则描述数据库，我会说您最好先学习以“文件”方式进行操作。

一旦您学会了如何读取和写入文件，如果您想要（非常）简单的键/值存储，您可以使用 java.util.Properties，它提供了非常简单的文件读取/写入操作。

BDB 是另一个“纯 java”选项，它将为您提供直接的 jvm 键/值存储，而无需学习如何设置/运行外部 DMBS。

# python - 我如何为 M2M Django 进行分页

> ID：13191594
> 
> 赞同：5
> 
> 时间：2012-11-02T08:19:52.837
> 
> 标签：python, django, django-admin

```
class Movie(models.Model):
    title= models.CharField(max_length=100,)
    votes=models.IntegerField(null=True)
    year=models.IntegerField(null=True)
    aspect_ration=models.CharField(max_length=50,)
    mpaa=models.CharField(max_length=200,)
    rating =models.CharField(max_length=20,)
    imdbid=models.CharField(max_length=50,)
    top_250_rank=models.IntegerField(null=True)
    cover_url=models.CharField(max_length=500,)
    plot_outline=models.TextField(blank=True, null=True)
    summary= models.TextField(blank=True, null=True)
    pub_date = models.DateTimeField(null=True, blank=True,default=datetime.today())
    akas_id = models.ManyToManyField('Akas', verbose_name=u'Akas ID',related_name="Akas_M2M_Movie")

class Akas(models.Model):
     name=models.CharField(max_length=500,)
     def __unicode__(self):
        return u'%s' % (self.name)
     class Meta:
         verbose_name = 'Other Movie Title'
         verbose_name_plural = 'Other Movie Titles'
    db_table = 'Akas' 
```

在“Akas”表中，我有 2225188 条记录，因此“更改”视图需要很长时间才能加载此字段。解决此问题的解决方案是什么？我可以为 m2m 小部件进行分页吗？

任何人都可以帮助解决这个问题吗？在 admin.py 我使用 filter_horizo​​ntal = ['Akas',] ![显示 Aka 表的波纹管的图像](../Images/61d55506048604e9479ec667698950fe.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:41:12.423

It's much better to use a custom widget than the default widget for Many-to-many fields or even Foreign Key fields in this case. Since you have a huge number of `Akas` instances, the HTML page itself becomes very large and hence takes time to load.

You can create a custom widget on your own, with pagination. Although my suggestion is that you use an auto-complete widget. You can look for existing django packages [here](http://www.djangopackages.com/grids/g/auto-complete/) and use the one which suits your needs. The basic idea here would be to use ajax requests to dynamically get data from server instead of loading everything at once.

# git - Git：如何在推送之前查看文件的更改-而不是差异，最终版本

> ID：13191595
> 
> 赞同：1
> 
> 时间：2012-11-02T08:19:57.187
> 
> 标签：git, version-control

上下文是，我使用 git 对文件添加了一些更改，`add -p`并且由于 git 呈现补丁的方式，我不能确定结果会不会好。我希望看到该文件，就好像我已提交，然后推送，然后其他人拉取了该文件。不是差异，我只想查看文件的最终版本。我需要保留对当前文件的更改，至少可以说，对该文件的任何破坏都会令人烦恼！

我能想到的唯一方法是：

*   提交更改。
*   把剩下的藏起来。
*   如果有任何问题，那么要么回滚提交，要么添加更多提交并压缩它。

回滚的主要问题是我必须再次完成所有添加。挤压也可能是有问题的——如果我能在提交之前看到一个分段的文件会更容易。这是可能的，还是有另一种“简单”的方法？（请不要神秘，Git 对我来说已经太神秘了，不能为此而深究！）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-02T08:26:04.957

您可以使用`git cat-file`.

```
$ git add -p my_file.c
$ git cat-file blob HEAD:my_file.c 
```

请注意，路径是相对于存储库顶部的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T08:32:31.190

如果您没有义务通过命令行，您可以使用“git gui”，它可以让您暂存您喜欢的代码块，同时为您提供最终结果的预览。

# r - x 或 y 轴标签中的千位分隔符

> ID：13191601
> 
> 赞同：27
> 
> 时间：2012-11-02T08:20:46.723
> 
> 标签：r, ggplot2, axis-labels

我想在 y 轴上有漂亮的标签。例如，我更喜欢 1,000 而不是 1000。如何在 ggplot 中执行此操作？这是一个最小的例子：

```
x <- data.frame(a=c("a","b","c","d"), b=c(300,1000,2000,4000))
ggplot(x,aes(x=a, y=b))+
               geom_point(size=4) 
```

感谢您的任何提示。

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2012-11-02T21:55:39.893

使用这些`scales`软件包，一些格式选项变得可用：逗号、美元、百分比。请参阅 中的示例`?scale_y_continuous`。

我认为这可以满足您的要求：

```
library(ggplot2)
library(scales)

x <- data.frame(a=c("a","b","c","d"), b=c(300,1000,2000,4000))

ggplot(x, aes(x = a, y = b)) + 
  geom_point(size=4) +
  scale_y_continuous(labels = comma) 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2017-11-24T00:57:57.673

使用任何具有基本`format()`功能的角色美化数千人：

示例 1（逗号分隔）。

```
format(1000000, big.mark = ",", scientific = FALSE)
[1] "1,000,000" 
```

示例 2（空格分隔）。

```
format(1000000, big.mark = " ", scientific = FALSE)
[1] "1 000 000" 
```

**`format()`使用匿名函数应用于ggplot 轴标签：**

```
ggplot(x, aes(x = a, y = b)) +
        geom_point(size = 4) +
        scale_y_continuous(labels = function(x) format(x, big.mark = ",",
                                                       scientific = FALSE)) 
```

# java - GUI 面板动作监听器

> ID：13191605
> 
> 赞同：0
> 
> 时间：2012-11-02T08:21:06.450
> 
> 标签：java, swing, validation, jpanel, jbutton

我有一个游戏应用程序，我需要在其中输入一个文件，文件解析后，我可以单击一个按钮开始，游戏（位于中心面板中）开始。我有一个顶部面板（fileBrowserPanel，我在其中浏览文件系统的文件）并且该面板具有浏览、开始按钮。当我点击开始时，游戏应该开始运行。这是我的代码：

```
public BallWorld() 
    {
        setLayout(new BorderLayout());

        //File browser for INI file
        JPanel fileBrowserPanel = new fileBrowserPanel();
        add(fileBrowserPanel,BorderLayout.NORTH);
        fileBrowserPanel.add(jbtStart);

        //Ball container
        if(filePathField.getText().equals(" "))
        {
            JOptionPane.showMessageDialog(null, "Please input the XML file","Information", JOptionPane.INFORMATION_MESSAGE);        
        }

        jbtStart.addActionListener(new ActionListener()
        {public void actionPerformed(ActionEvent e)
        {
            if(filePathField.getText().equals(" "))
            {
                JOptionPane.showMessageDialog(null, "Please input the XML file","Information", JOptionPane.INFORMATION_MESSAGE);        
            }

            else
            {
                JPanel ballContainer = new BallContainer(filePathField.getText());
                add(ballContainer,BorderLayout.CENTER);
            }

        }
        });

    } 
```

问题是只有当我调整窗口大小时，中心面板中的游戏才会显示。我不太明白。有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:30:30.990

在构造函数的末尾调用 validate()

# android - android中的ActionBar API

> ID：13191607
> 
> 赞同：1
> 
> 时间：2012-11-02T08:21:10.227
> 
> 标签：android, android-actionbar

我是 android 新手，我正在尝试使用 ActionBar。我已阅读文档，其中仅说明如果您使用大于 3.0 的 android（我认为），则默认使用它。我还下载了一些示例代码并构建它，当它按照它应该运行的方式运行时（意味着出现 actionBar）。为了运行它，我必须导入另一个项目以便它可以正确编译。你知道我如何有效地使用 actionBar API ?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:23:51.493

[http://actionbarsherlock.com](http://actionbarsherlock.com)上的ActionBarSherlock是一个 Android 库，用于使用 3.0+ 上的本机 ActionBar 和 3.0 之前的第三方库来实现操作栏设计模式。

如果你想要例子检查[这个](https://github.com/johannilsson/android-actionbar)

# javascript - 无法使用带有 for 循环的 jquery 读取 json 数据

> ID：13191611
> 
> 赞同：0
> 
> 时间：2012-11-02T08:21:23.060
> 
> 标签：javascript, json

我有一个数据对象，里面有带有 json 数据的数据对象。这是看起来的样子。文件名是`data.js`

```
var data = 
[
{
    title: 'this is title one',
    commit: 'this is commit'
},
{
    title: 'this is title two',
    commit: 'this is commit'
},
{
    title: 'this is title three',
    commit: 'this is commit'
},
{
    title: 'this is title four',
    commit: 'this is commit'
},
{
    title: 'this is title five',
    commit: 'this is commit'
},
{
    title: 'this is title six',
    commit: 'this is commit'
},
{
    title: 'this is title seven',
    commit: 'this is commit'
}
] 
```

这是我的代码

```
for (var i = 0; i < data.length; i++) { 
                $(container).load(view, function () {
                    console.log(data[i].title);
                    li.append('<img src="../images/profile.png" alt="Profile photo" />');
                    li.append('<span class="commit">' + data[i].title + '</span>');
                    li.append('<p><a href="#" class="comment">' + data.commit + '</a></p>');
                    li.append('<section class="clear"></section>');
                    $('#home ul').append(li);
                });
            } 
```

现在我在控制台中收到此错误

```
Cannot read property 'title' of undefined 
```

上面的错误在这一行

```
li.append('<span class="commit">' + data[i].title + '</span>'); 
```

如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:26:11.683

好吧，data.js 并不是真正的 json。

首先从 load() 切换到 getJSON()

```
$.getJSON(view, function(data) { }) 
```

接下来删除该行

```
var data = 
```

只要有json内容。jQuery 会将 JSON 分配给参数数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:26:59.980

您的 json 数组包含错误。

您可以在此处验证您的 json [http://json.parser.online.fr/](http://json.parser.online.fr/)

必须是这样：

```
{
"title": ["this is title one", "this is title two", "this is title three", "this is title four", "this is title five", "this is title six", "this is title seven" ]
,
"commit": [ "this is commit", "this is commit", "this is commit", "this is commit", "this is commit", "this is commit", "this is commit" ]
} 
```

# php - preg_replace_callback 与 PHP 5.2.17

> ID：13191613
> 
> 赞同：0
> 
> 时间：2012-11-02T08:21:30.140
> 
> 标签：php, preg-replace-callback

我有这段代码，它在 PHP 5.3 及以后的版本中运行良好，但我需要从 5.2.17 开始运行它，请任何人帮助我。

```
$data = array('title'=>'some title', 'date'=>1350498600, 'story'=>'Some story');

$template = "#title#, <br>#date(d)#<br> #date(m)#<br>#date(Y)#<br> #story#"; 

$result = preg_replace_callback('/#(\w+)(?:\\((.*?)\\))?#/', function ($match) use($data) {
$value = "";
$dataMatch = $data[$match[1]];
if (!isset($dataMatch)) {
    // undefined variable in template throw exception or something ...
} else {
    $value = $dataMatch;
}

if (! empty($match[2]) && $match[1] == "date") {
    $value = date($match[2], $value);
}

return $value;
}, $template);

echo $result; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:36:22.247

首先命名您的替换函数并在回调之前定义它，记住要照顾`$data`全局，因为它不会被 preg_replace 传递

```
function my_replace_function($match){
    global $data;
    $value = "";
    $dataMatch = $data[$match[1]];
    if (!isset($dataMatch)) {
        // undefined variable in template throw exception or something ...
    } else {
        $value = $dataMatch;
    }

    if (! empty($match[2]) && $match[1] == "date") {
        $value = date($match[2], $value);
    }

    return $value;
} 
```

现在只需以字符串形式使用它的名称：

```
$result = preg_replace_callback('/#(\w+)(?:\\((.*?)\\))?#/','my_replace_function', $template); 
```

# c# - Global.asax Application_Start 获取操作 URL / RedirectToAction？

> ID：13191614
> 
> 赞同：0
> 
> 时间：2012-11-02T08:21:33.440
> 
> 标签：c#, asp.net-mvc-3, routes, global-asax

在应用程序启动时，我正在根据存储在 web.config 中的值检查程序集中的应用程序版本。如果版本不同，我想触发默认安装程序。

所以我需要得到一个 Action 路线。但这似乎不可能，因为 HttpContext 为空？我的“HomeController”中有一个名为“Install”的操作

有什么想法可以让我从 Application_Start 获得 RedirectToAction 或类似的工作吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:25:46.520

[根据 IIS 博客](http://mvolo.com/iis7-integrated-mode-request-is-not-available-in-this-context-exception-in-applicationstart)，您将无法在应用程序启动时访问请求。

之前已在 SO 上讨论过此问题的后果

[全局 ASAX - 获取服务器名称](https://stackoverflow.com/questions/1790457/global-asax-get-the-server-name)

[请求在此上下文中不可用](https://stackoverflow.com/questions/2518057/request-is-not-available-in-this-context)

对于您的情况，您是否可以直接从全局调用安装代码而无需执行操作？

# javascript - 如何删除钛表视图中的选定行？

> ID：13191615
> 
> 赞同：1
> 
> 时间：2012-11-02T08:21:35.553
> 
> 标签：javascript, titanium, tableview, titanium-mobile

我使用表格视图对钛进行了简单的应用。我在左侧有一些带有复选框的自定义行。这是我的代码：

```
 var pickingData = [];

    for (var i = 0; i<25; i++){
        var row = Ti.UI.createTableViewRow({
            className:'forumEvent', // used to improve table performance
            backgroundSelectedColor:'cyan',
            layout:'vertical'
        });

        if (Titanium.Platform.osname === 'android'){
            var checkbox = Ti.UI.createSwitch({
                style:Ti.UI.Android.SWITCH_STYLE_CHECKBOX,
                value:false,
                left:10
            });
            row.add(checkbox);
        }

        var rndMatNo = (randomInt(50000)+10000) //randomInt is my random number function
        var lblMatNo = Ti.UI.createLabel({
            realValue:rndMatNo,
            text:'Mat No : ' + rndMatNo,
            font:{fontFamily:'Arial', fontSize:DefaultFontSize, fontWeight:'bold'},
            left:10,
            color:'#222'
        });
        row.add(lblMatNo);

        pickingData.push(row);
    }

    var tempPickingTable =  Titanium.UI.createTableView({
        data:pickingData,
        editable: Titanium.Platform.osname === 'iphone' ? true : false,
        name:'Picking table'
    });

    tempPickingTable.addEventListener('longclick',function(e){
        for (var i=0, length=tempPickingTable.data[0].rows.length;i<length;i++){
            if (tempPickingTable.data[0].rows[i].children[0].value === true){
                tempPickingTable.deleteRow(i); //Still error when i'm using delete row because index out of bound
            }

        }
    }); 
```

我想要的只是在选中时根据复选框删除行。我试过循环每一行并选中复选框，然后删除该行，但它仍然给我错误索引超出范围。

有谁知道该怎么做？提前致谢..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T08:52:21.123

`TableView`从Android中删除行存在一些错误。您可以尝试创建一个包含除已检查行之外的所有行的新数据数组，然后再次为 tableview 设置数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-04T03:21:46.950

您正在遍历数组并删除行，这会修改数组，因此您会越界是有道理的。您是否尝试过向后迭代？

```
tempPickingTable.addEventListener('longclick',function(e){
    for (var i=tempPickingTable.data[0].rows.length;i>=0;i--){
        if (tempPickingTable.data[0].rows[i].children[0].value === true){
            tempPickingTable.deleteRow(i);
        }
    }
}); 
```

# c# - String.Format 函数不起作用

> ID：13191619
> 
> 赞同：3
> 
> 时间：2012-11-02T08:21:46.433
> 
> 标签：c#, asp.net, string, string-formatting

这似乎是一个非常愚蠢的问题，但我还没有设法解决它。这是代码：

```
private string[] ConvertToCurrency(string[] costs)
{
    int count = costs.Length;

    for (int i = 0; i < count - 1; i++)
    {
        costs[i] = String.Format("{0:C}", costs[i]);
    }

    return costs;
} 
```

我希望输出应该是我存储在我的字符串数组中的数字将被格式化为货币，但是当它们从另一端出来时它们完全没有变化。

我不知道为什么会这样，并且尝试了其他一些方法来格式化它，但没有。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-02T08:24:24.913

您应该这样做，`{0:C}`用于货币格式，它将适用于数值。

```
costs[i] = String.Format("{0:C}", Convert.ToDecimal(costs[i])); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-02T09:20:44.873

完整解释：

当您`{0:C}`的字符串中有类似的项目时，该`C`部分是格式字符串。引用[文档](http://msdn.microsoft.com/en-us/library/xh1dzhdx.aspx)：

> 如果`formatString`存在，则格式项引用的参数 **必须实现**`IFormattable`接口（我的*重点）*

一个`IFormattable`像`double`或`decimal`有[一个重载](http://msdn.microsoft.com/en-us/library/system.iformattable.tostring.aspx)的对象`ToString`接受一个字符串，这可能是`"C"`你的情况。所以它翻译成类似`yourFormattableThing.ToString("C", null)`.

但是，当您查看[的文档时`string`](http://msdn.microsoft.com/en-us/library/system.string.aspx)，您会发现 a `string`（如您的`costs[i]`）不是`IFormattable`，并且 a`string`不具有`ToString`采用格式字符串的 a 。所以你违反了我上面引用的“必须实施”。

`String.Format`选择忽略您的`C`部分，而不是引发异常。

所以这是你对出了什么问题的解释。

现在，为了使事情正常进行，如果您的字符串确实是一个数字，请将其转换/解析为`IFormattable`类似`decimal`or的对象`double`，然后`"C"`在数字类型上使用格式字符串。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T08:28:27.030

这是因为参数`string[] costs`类型是字符串，所以它不会像您期望的那样格式化数字。您必须将参数类型更改为数字（int、long、float、double 等），或者您必须在格式化之前将值转换为数字类型。

```
var val = Convert.ToInt32(costs[i]);
costs[i] = String.Format("Value is: {0:C}", val); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-09-12T19:52:32.037

```
public static class StringExtensions
{
    /// <summary>
    /// Formats a string using the string.Format(string, params object[])
    /// </summary>
    /// <param name="helper">The string with the format.</param>
    /// <param name="args">The value args.</param>
    /// <returns>The formatted string with the args mended in.</returns>
    public static string Mend(this string helper, params object[] args) => string.Format(helper, args);

} 
```

// 用法："零：{0}，一：{1}，二：{2}".Mend("0", "1", "2");

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-11-02T08:43:30.043

基于先前的答案，这似乎是介绍 linq 的理想场所：

```
private IEnumerable<String> ConvertToCurrency(IEnumerable<String> costs)
{
 return costs.Select(c => String.Format("{0:C}", Convert.ToDecimal(c)));
} 
```

所以在这种情况下，它仍然可以以完全相同的方式在数组上工作，但使逻辑可以访问列表/队列等......如果你想急切地`ToArray()`在选择后执行添加一个。

# c# - 如何在 C# 中动态卸载程序集

> ID：13191622
> 
> 赞同：0
> 
> 时间：2012-11-02T08:21:59.887
> 
> 标签：c#, .net-assembly

我正在尝试在我的 C# 应用程序中加载和卸载程序集，但我无法卸载程序集，也无法动态替换已卸载的程序集。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-02T08:26:46.443

您无法卸载程序集。一旦它在那里，JIT 就不可能分解它编译的所有代码。

但是，您可以将其加载到单独的 AppDomain 中，并在完成后拆除该 AppDomain。

# virtualbox - 虚拟盒库导出

> ID：13191626
> 
> 赞同：1
> 
> 时间：2012-11-02T08:22:21.120
> 
> 标签：virtualbox

我已经为 Ubuntu 来宾成功安装了 Vbox 来宾添加。来宾添加安装了一组库。VboxOGL.so 就是其中之一

我的观察： 1\. 32 位 Ubuntu 客户机上可用的 VBoxOGL.so 导出 OpenGL 调用（例如 glEnable 等） 2\. 64 位 Ubuntu 客户机上可用的 VBoxOGL.so 导出 glx 调用并且没有 OpenGL 调用。

为什么会出现上述差异？

我的意图是使用 VBoxOGL.so 中的 OpenGL 接口来运行 OpenGL 演示。这有可能吗？只安装了来宾添加，我可以为 OpenGL 演示实现硬件加速图形吗？如何确认相同？

# java - 子框架调用父框架。代码设计

> ID：13191629
> 
> 赞同：1
> 
> 时间：2012-11-02T08:22:38.107
> 
> 标签：java, swing, constructor, jframe, jdialog

我有一个代码设计问题。让我解释一下场景，然后是问题。我在下面有 2 个面板 ![在此处输入图像描述](../Images/f7dbf1370d64ee994813f022fba90f1e.png)

基本上，单击开始的第一个面板会打开第二个面板。在选择文件时的第二个面板上（背景蓝色）。该文件需要在第一个面板的编辑器窗格中打开。

问题是：这样做的好习惯是什么。我的两个面板都是单独的类。目前，第二个面板保持对第一个面板的引用。并在选择时调用第一类的相应方法以输出 csv。这是一个糟糕的设计。子框架应该如何刷新父框架的一个方面？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:29:52.630

*   使用`JDialog(parent, modal)`而不是`JFrame`，可能取决于模态

*   只创建`JDialog`一次，将此容器重用于来自父级的另一个事件

*   `JDialog.setDefaultCloseOperation(JDialog.HIDE_ON_CLOSE)`，那么接下来的每一个动作都只是`setVisible(true/false)`包裹在`invokeLater()`

*   然后返回（检查内容是否更改，更改回父级

*   您可以通过用户操作进行验证`JOptionPane("DYW to save changes ??"))`

# iphone - 来自 NSString 的 NSData 原样

> ID：13191632
> 
> 赞同：0
> 
> 时间：2012-11-02T08:23:03.443
> 
> 标签：iphone, objective-c, ios, ios6

嘿，我正在尝试将文本转换为 ASCII，然后将其存储在服务器上，然后当我取回它时，我想将文本解码回 NSString

我已经使用以下代码在随机应用程序上进行测试.. 但在这里我将 NSdata 作为全局变量，所以它工作正常..

问题是我如何在 NSData 变量中获取从服务器返回的值 NSString，以便我可以将其转换回我编码的文本。

```
.h

@interface passTestViewController : UIViewController
{
    NSString *text;
    NSData *d;
} 
```

.m

```
- (IBAction)eButton:(id)sender {
    text = [NSString stringWithFormat:@"%@%@%@",@"!",[_textField text],@"!"];

    d=[[NSString stringWithFormat:@"%@",text] dataUsingEncoding:NSASCIIStringEncoding];
    text = [NSString stringWithFormat:@"%@",d];

    [_label setText:text];
}

- (IBAction)dButton:(id)sender {

    NSString *dString = [[NSString alloc] initWithData:d encoding:NSASCIIStringEncoding];
    dString = [dString stringByReplacingOccurrencesOfString:@"!" withString:@""];
    [_label setText:dString];
} 
```

我需要把它送到 NSData。我通过 JSON 将它发送到我的服务器，然后当我取回它时......我将它作为字符串......我需要的是

```
NSData *d = stringThatIGetBackFromJson; 
```

所以我可以通过转换它

```
NSString *dString = [[NSString alloc] initWithData:d encoding:NSASCIIStringEncoding]; 
```

获取用户输入的原始字符串。

我在编码后得到的字符串也有符号和空格.. '<' '>' 和 ' ' 它不会通过 url 所以我所做的是删除空格和 < > thru

```
myString = [myString stringByReplacingOccurrencesOfString:@" " withString:@""];
myString = [myString stringByReplacingOccurrencesOfString:@"<" withString:@""];
myString = [myString stringByReplacingOccurrencesOfString:@">" withString:@""]; 
```

所以现在我要回来的只是像“40786d61646f6f2131323334216b6d646f616f”这样的数字......这周围有吗？比较我只是检查文本的编码并按照相同的步骤进行比较，然后比较 if isEqualTo，但我希望恢复文本以便能够在应用程序上发布。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-02T08:37:38.187

尝试以下**三种**方法将**NSString 转换为 NSData**

> **1** .`NSData* data = [yourString dataUsingEncoding:NSUTF8StringEncoding];`
> 
> **2** .`NSData* data=[yourString dataUsingEncoding: [NSString defaultCStringEncoding] ];`
> 
> **3** .`NSData* data = [yourString dataUsingEncoding:NSUTF8StringEncoding];
> data = [data subdataWithRange:NSMakeRange(0, [data length] - 1)];`

如果数据不是**空终止的**，

```
NSString* myString = [[NSString alloc] initWithData:nsDataString
                                         encoding:NSUTF8StringEncoding] ; 
```

如果数据以**空值结尾**

```
NSString* myString = [NSString stringWithUTF8String:[nsDataString bytes]]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T09:07:54.390

尝试更改`NSASCIIStringEncoding`为`NSUTF8StringEncoding`

# networking - 如何模拟传入的 tcp 数据包？

> ID：13191635
> 
> 赞同：0
> 
> 时间：2012-11-02T08:23:05.680
> 
> 标签：networking, tcp, simulation

我创建了一个简单的应用程序来监听某些传入的 TCP 消息

我可以编写一些代码来手动发送 TCP 消息，但我想知道是否有更简单的方法来发送“假”传入的 TCP 消息。我搜索了一下，但我没有找到一个简单的方法来做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:25:09.980

如果您的应用程序有一个简单的文本协议，您可以只使用`telnet localhost port`. 否则查看`netcat`

# c - Windows 中 Eclipse 上的 OpenCV242

> ID：13191636
> 
> 赞同：0
> 
> 时间：2012-11-02T08:23:06.710
> 
> 标签：c, eclipse, opencv

我想使用 OpenCV2.4.2 。我尝试了一个简单的程序来测试它是否可以在这里工作是代码：

```
#include "stdlib.h"
#include "stdio.h"
#include "math.h"
#include "cv.h"
#include "highgui.h"
int main(int argc, char *argv[])
{
// Nothing but create a window
  cvNamedWindow("mainWin", CV_WINDOW_AUTOSIZE);
  cvMoveWindow("mainWin", 100, 100);
  cvWaitKey(0);
  return 0;
} 
```

wenn 我尝试构建并运行它，我从 Eclipse 收到以下错误消息：

```
fatal error: opencv2/core/core_c.h: No such file or directory
line 63, external location:      D:\opencv\include\opencv\cv.h C/C++ Problem

Symbol 'CV_WINDOW_AUTOSIZE' could not be resolved   source.c    line 18 Semantic Error 
```

任何想法为什么它不起作用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:43:58.660

因为编译器不知道 opencv 头文件的位置。

# opengl - 显示列表不起作用

> ID：13191639
> 
> 赞同：0
> 
> 时间：2012-11-02T08:23:20.307
> 
> 标签：opengl

我有一些这样的代码

```
 glNewList(displist_boxy, GL_COMPILE);

      for(int i=0; i<scene_max; i++)
      {
        DrawAABox( sceneGL[i].x,
                sceneGL[i].y,
                sceneGL[i].z,
                10,10,10
                 );
      }

     glEndList(); 
```

DrawAABox 绘制 6 个四轴对齐的框（使用 glBegin glNormal GlVertexx ... glEnd）它在立即模式下工作，但是当我尝试像上面那样构建一个显示列表时，然后调用它没有效果的列表（没有画框）应该工作或者这不应该工作（我不太了解它）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:58:49.917

显示列表将块内完成的所有 OpenGL 操作提炼`glNewList/glEndList`成一组**恒定**的命令，然后在调用显示列表时执行这些命令（带有`glCallList`）。这意味着列表创建中的每个*“动态”*代码都被编译到列表中。所以当你调用你的盒子时，你的盒子将使用`sceneGL[i]`你建立列表时的任何位置。实际上，您将只有一个恒定数量的框，即`scene_max`构建列表时的任何数量。因此，如果您在初始化代码中执行此操作，`scene_max`可能在哪里`0`，则不会绘制任何内容。

想一想，在构建这个列表时，驱动程序可能会做什么？只需记录所有调用的 OpenGL 命令（并可能将它们转换为某种压缩和优化的格式）以供以后提交，或者在运行时神奇地从最终可执行文件中获取已执行的机器代码（及其整个周围的上下文）并以某种方式存储它以调用您的每个操作之间做了`glNewList/glEndList`（无论如何，与立即执行相比，这不会有太大的性能提升）？

**编辑：**作为旁注，宁愿使用 VBO 来*预先记录*几何图形，与显示列表相比，它可能会丢失一些功能，例如状态更改记录，但会给您其他功能，例如动态数据更新。同样，显示列表的实现完全取决于实现，可能不会比 VBO 等更快。同样，它们已被弃用（这也可能说明现代硬件上的糟糕/缓慢的实现，因为驱动程序并不倾向于很好地优化很少使用的路径）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T09:01:45.103

要创建显示列表，您必须首先创建并绑定目标 OpenGL 上下文。如果您碰巧在 OpenGL 上下文之前调用的代码中初始化了显示列表，则以后不会显示任何内容。

还有 Christian Rau 在[https://stackoverflow.com/a/13192138/524368中告诉你的内容](https://stackoverflow.com/a/13192138/524368)

附带说明：您根本不应该使用显示列表。它们已经被弃用了大约 10 年（OpenGL-2 最初计划取消显示列表），而 OpenGL-3 在五年后继续使用它。

请改用 VBO 和 VAO。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-02T08:45:04.430

您似乎错过了为`displist_boxy`变量生成 UID。这是它的外观。

```
coAxis := glGenLists(1);
glNewList(coAxis, GL_COMPILE);
  glBegin(GL_TRIANGLES);
    ...
  glEnd;
glEndList; 
```

用法如下：

```
glCallList(coAxis); 
```

# algorithm - 二进制计数器摊销分析

> ID：13191641
> 
> 赞同：0
> 
> 时间：2012-11-02T08:23:35.537
> 
> 标签：algorithm, analysis, amortized-analysis

我猜你已经知道，如果数组中的所有条目都从 0 开始，并且在每一步我们将计数器增加 1（通过翻转 0 和 1），那么 k 增量的摊销成本为 O(k)。

但是，如果数组以 n 开头会发生什么？我认为 k 增量的复杂性现在可能是 O(log(n) + k)，因为在开始时 1 的最大数量是 log(n)。

有什么建议么 ？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:51:04.960

你说的对。有不止一种方法可以证明这一点，其中之一是具有势函数。[此链接](http://en.wikipedia.org/wiki/Potential_method)（和许多其他链接）解释了潜在的方法。但是，教科书通常要求势函数的初始值为0。我们针对不是的情况进行概括。

对于二进制计数器，计数器的势函数是设置为 1 的位数。当您递增时，您花费 k+1 时间将 k 个 1 翻转为 0，将一个 0 翻转为 1。势能减少 k-1。所以这个增量的摊销时间 = ActualTime+(PotentialAfter-PotentialBefore) = k+1-(k-1) = 2（常数）。

现在查看维基百科链接中的“摊销时间与实际时间之间的关系”部分。

```
TotalAmortizedTime = TotalActualTime + SumOfChangesToPotential 
```

由于 SumOfChangesToPotential 是可伸缩的，因此它等于 FinalPotential-InitialPotential。所以：

```
TotalAmortizedTime = TotalActualTime + FinalPotential-InitialPotential 
```

这使：

```
TotalActualTime = TotalAmortizedTime - FinalPotential + InitialPotential <= TotalAmortizedTime + InitialPotential 
```

因此，正如您所说，从 n 开始的 k 个增量序列的总时间为 O(log n + k)。

# iphone - 我可以在 ImageView 上放一个按钮吗？

> ID：13191654
> 
> 赞同：-4
> 
> 时间：2012-11-02T08:24:24.440
> 
> 标签：iphone, objective-c, ios, ipad

如何在 imageView 上放置一个圆形矩形按钮，

我的图像视图：`self.view addSubview:myImage`

**更新**

感谢大家！这些真的对我有帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:26:40.107

```
UIButton *myButton=[UIButton buttonWithType:UIButtonTypeRoundedRect];
myButton.frame=CGRectMake(10,20,30,40); // set the size of the button here
[myImage addSubview:myButton];
[self.view addSubView:myImage]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-02T08:32:47.583

```
 UIImageView *contentView = [[UIImageView alloc] initWithFrame:CGRectMake(10,10,200,200)];
[contentView setImage:[UIImage imageNamed:@"helloworld.png"]];

UIButton *b=[[UIButton alloc] init];    
b.center=CGPointMake(160, 240);
[b setImage:[UIImage imageNamed:@"icon.png"] forState:UIControlStateNormal];
[b addTarget:self action:@selector(showMenu) forControlEvents:UIControlEventTouchUpInside];
[contentView addSubview:b];

// Provide support for auto-rotation and resizing
contentView.autoresizesSubviews = YES;
contentView.autoresizingMask = (UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight);

contentView.userIntractionEnabled = YES;
[self.view addSubView:contentView]; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-02T08:45:36.407

您可以在添加 imageView 后添加`UIButton`（使用 type `buttonWithType:UIButtonTypeCustom`） 。`UIView`

```
 UIImageView *imgview=[[UIImageView alloc]init];
  imgview.backgroundColor=[UIColor blackColor];
  imgview.contentMode=UIViewContentModeScaleToFill;
  UIButton *theButton=[UIButton buttonWithType:UIButtonTypeCustom];
  theButton.tag=i;
  [theButton addTarget:self action:@selector(buttonClicked:) 
  forControlEvents:UIControlEventTouchDown];
  imgview.frame = CGRectMake(x, y, 95, 115);
  [self.view addSubview:imgview];
  theButton.frame = CGRectMake(x, y, 95, 115);
  [imgview addSubview:theButton]; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-02T08:26:58.980

添加 imageView 后，只需在 View 中添加 UIButton（类型为 RoundedRectType）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-02T09:30:13.673

您可以将其添加为

```
UIButton *button=[UIButton buttonWithType:UIButtonTypeRoundedRect];
myButton.frame=CGRectMake(....); // specify the frame of the button as per your requirement
[imageView addSubview:myButton];
imageView.userInteractionEnabled=YES;` 
```

您需要将图像视图的用户交互设置`TRUE`为默认交互为`FALSE`.

# cmake - CMake: How to pack a target/file into multiple packages in Linux?

> ID：13191663
> 
> 赞同：6
> 
> 时间：2012-11-02T08:24:58.607
> 
> 标签：cmake

I'm working on a project which generates quite a few executables, libraries and configs, they need to be packed into different packages for deployment. The problem is, the inclusion of those targets/files is not mutual exclusive. One target/file can belong to multiple packages.

I'm using CMake 2.8.9 and trying CPack. I know it's kind of doable with install types. But my platform is Ubuntu, so on Archives/Debs are acceptable and they don't seem to support that.

With components/groups/parent groups it seems only possible to pack one target/file into one component/group.

Is there any way out of this?

Thanks

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-27T14:06:24.743

Why not use components? If I got it right, you want to generate more then one deb from your project.

I am achieving that like this:

```
SET(CPACK_DEB_COMPONENT_INSTALL 1)

INSTALL(TARGETS buildA DESTINATION lib/myproj COMPONENT main)
INSTALL(TARGETS buildB DESTINATION include/myproj COMPONENT dev) 
```

When I call `make package` I get two deb's with the suffixes `main` and `dev` containing only what I specified with the INSTALL() statements.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-12T06:24:20.880

Well, I'll answer it myself for convinience of late comers: from CMake mail list, I got the answer: with cmake 2.8.9 or earlier (so far), run CPack multiple times with different component settings. That's a bit adhoc but does the job.

# c - 从配置文件中读取

> ID：13191667
> 
> 赞同：0
> 
> 时间：2012-11-02T08:25:04.987
> 
> 标签：c, file-io, fgets

我正在从一个简单的配置文件中读取路径，并使用 C 语言将其存储到 char 数组中。我想出了一种方法来做到这一点，但是在检索路径末尾没有附加空格的情况下遇到了问题。请帮助我找到更好的方法。

```
char* webroot(){
 FILE *in = fopen("conf", "rt");
 char buff[1000];
 fgets(buff, 1000, in);
 printf("first line of \"conf\": %s\n", buff);
 fclose(in);

 return buff;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:31:59.667

它不是末尾的空白字符序列，而是换行符，因为[`fgets()`](http://en.cppreference.com/w/c/io/fgets)它包含在返回的缓冲区中：将 the 替换`\n`为空终止符：

```
/* fgets() will not read the new-line if
   there is not sufficient space in the buffer
   so ensure it is present. */
char* nl_ptr = strrchr(buff, '\n');
if (nl_ptr) *nl_ptr = '\0'; 
```

由于明显的换行，它可能看起来好像有一系列空白字符`stdout`，但这是由于 . 读取的换行符的存在`fgets()`。

`[]`打印字符串时，我发现将字符串放入其中以使字符串的内容更清晰很有用：

```
printf("first line of \"conf\": [%s]\n", buff); 
```

这将使通过获得的换行符的存在`fgets()`更加明显。

请注意，该函数`webroot()`正在返回局部变量的地址`buff`：这是一个错误并且是未定义的行为。一个新的缓冲区需要动态分配，`strdup()`如果可用`malloc()`，或者不使用`strcpy()`：

```
return strdup(buff); 
```

的调用者`webroot()`必须`free()`返回值。`NULL`如果发生故障，则安排返回。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T08:27:56.703

您可以使用`fscanf(fp, "%s", buff)`读取没有空格的字符串。为了防止缓冲区溢出，请添加一个限制`fscanf(fp, "%999s", buff)`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T08:28:54.520

您是否尝试过使用 fscanf？

```
fscanf(in, "%s", buff); 
```

# jquery - jqGrid 只显示 10 行

> ID：13191671
> 
> 赞同：0
> 
> 时间：2012-11-02T08:25:21.573
> 
> 标签：jquery, json, jqgrid, filtering

我对这个问题很困惑，因为我是 jqGrid 的新手。我的数据只显示 10 行。这是我的剧本；

```
jQuery("#list").jqGrid({
    url:'dounfinish.php?q=1',
    datatype: 'json',
    mtype: 'POST',
    closeafteredit:true,
    colNames:['id','Date', 'Line','Model','Lotno','Qty','PIC'],
    colModel :[ 
            {name:'id', index:'id', hidden:true, width:55}, 
            {name:'Date', index:'Date', width:90, editable:true, search:true, stype:'text',searchoption:{sopt:['cn']}}, 
            {name:'Line', index:'Line', width:80, editable:true, search:true, stype:'text',searchoptions:{sopt:['cn']}},
            {name:'Model', index:'Model', width:180, editable:true, search:true, stype:'text',searchoption:{sopt:['cn']}},
            {name:'Lotno', index:'Lotno', width:80, editable:true, search:true, stype:'text',searchoption:{sopt:['cn']}}, 
            {name:'Qty', index:'Qty', width:80, editable:true, search:true, stype:'text',searchoptions:{sopt:['cn']}},
            {name:'PIC', index:'PIC', width:180, editable:true, search:true, stype:'text',searchoption:{sopt:['cn']}}
            ],
//      pager: jQuery('#pager'),
    gridview:true,
    pager: '#pager',
    width: '100%',
    height: '100%',
    rowNum:10,
    rowList:[10,20,30],
    sortname: 'Date',
    sortorder: "desc",
    viewrecords: true,
    loadonce: true,
//      imgpath: 'themes/basic/images',
    caption: 'DAILY CHECK QTY',
    editurl:'process3.php',
    prmNames:{oper:'action',editoper:'editbaldefect',id:'def_id'}
}); 
```

像这样的情况：

```
loadonce: true result View 1 - 10 of 10 --> column filter can work.
loadonce: false result View 1 - 10 of 3500 --> column filter not working. 
```

为什么？？

* * *

在开发者工具展上：

```
{"page":1,"total":33223,"records":"332222","rows":[]} 
```

但在php页面出现： ![enter image description here](../Images/274ecc916744ba4f757fef9870d0c37a.png)

* * *

更新

我的 jqgrid 使用`datetype : json`并且还需要`loadonce : true`。我已经尝试过这样的：

1.  更改 loadonce : false --> 结果显示所有记录但不能使用工具栏过滤器
2.  更改 loadonce : true --> 结果只显示 10 条记录，但工具栏过滤器可以工作
3.  loadonce : true, rowNum: 50 --> 数据只显示 50 (next button disable)
4.  在 phpmyadmin 检查查询 --> 结果所有数据都可以显示（查询确定）
5.  使用另一个表（好的）-> 结果仍然不起作用
6.  使用另一个页面然后附加 jqgrid --> 仍然不起作用

why jqgrid just retrieve 10 records only however this table actually have 100.000 records? and why just this table whereas another table can work.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-02T10:26:48.793

jqGrid was designed originally to be able to fill grid with server based data. The option `loadonce: true` was introduced later. So if you don't use `loadonce` (or if you use `loadonce: false`) **the server is responsible for paging, sorting and filtering of the data**. Every time if the user click on the column header to sort the data by the column or if the user fill searching toolbar the new request to the server will be sent. If the user change the number of rows per page (choose other value as 10 in the pager) the new request to the server will be also send. The options `page`, `rows`, `sidx`, `sord`, `_search` and typically `filters`. Default names of parameters which will be sent to the server can be chaneged by `prmNames` option of jqGrid (see [the documentation](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3aoptions)).

I personally use always `stringResult: true` option of `filterToolbar`. The format of `filters` parameter in the case is the same as for Advanced Searching (see [here](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3aadvanced_searching#options)).

If you use `loadonce: true` then jqGrid get the data from the server only **once**. So the server should return **all data** in the response independent on the `rows` parameter of jqGrid. The server should only sort the data correctly. The properties `page`, `total` and `records` from the server response will be *ignored*. The corresponding values will be recalculated based on the data from `rows`.

If you use `loadonce: true` then jqGrid change `datatype` to `"local"` after the first loading of data. So all later requests for sorting, paging and filtering of data will be implemented *locally* without any additional request to the server.

So if you use `loadonce: true` and the server return 10 rows of data then jqGrid display `"View 1 - 10 of 10"` because it found only 10 rows in the server response.

# css - CSS 菜单在 IE8 中不起作用

> ID：13191674
> 
> 赞同：3
> 
> 时间：2012-11-02T08:25:27.737
> 
> 标签：css, drop-down-menu, internet-explorer-8

请有人帮忙。我检查了所有主题，但我看不出我的代码有什么问题：

这是下面的菜单，所有的 CSS。

我还更改了标题以反映我发现的以前没有修复的帖子。

```
/* =Menu
-------------------------------------------------------------- */

#access {
background: #240E04; /* Show a solid color for older browsers */
background: -moz-linear-gradient(#471B07, #0C0401);
background: -o-linear-gradient(#471B07, #0C0401);
background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#471B07), to(#0C0401));  /* older webkit syntax */
background: -webkit-linear-gradient(#471B07, #0C0401);
font-family: TradeGothicCondensedNo18;
clear: both;
display: block;
float: left;
margin-left: 10px;
width:97.5%;
}
#access ul {
font-size: 18px;
text-transform: uppercase;
list-style: none;
margin: 0 0 0 0em;
padding-left: 0px;
padding-top: -50px;
}
#access li {
float: left;
position: relative;
}
#access a {
color: #eee;
display: block;
line-height: 2em;
padding: 0 0.8em;
text-decoration: none;
}
#access ul ul {
-moz-box-shadow: 0 3px 3px rgba(0,0,0,0.2);
-webkit-box-shadow: 0 3px 3px rgba(0,0,0,0.2);
box-shadow: 0 3px 3px rgba(0,0,0,0.2);
display: none;
float: left;
margin: 0;
position: absolute;
top: 2em;
left: 0;
width: 220px;
z-index: 99999;
}
#access ul ul ul {
left: 100%;
top: 0;
}
#access ul ul a {
background: #170802;
border-bottom: 1px dotted #ddd;
color: #fff;
font-size: 18px;
font-weight: normal;
height: auto;
line-height: 1.4em;
padding: 5px 5px;
width: 350px;
border: solid;
border-width: thin;
border-color: #170802;
 }
#access li:hover > a,
#access ul ul :hover > a,
#access a:focus {
background: #7A330E;
}
#access li:hover > a,
#access a:focus {
background: #f9f9f9; /* Show a solid color for older browsers */
background: -moz-linear-gradient(#7A330E, #170802);
background: -o-linear-gradient(#7A330E, #170802);
background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#7A330E), to(#170802)); /* Older webkit syntax */
background: -webkit-linear-gradient(#7A330E, #170802);
color: #ffffff;
 }
#access ul li:hover > ul {
display: block;
}
#access .current-menu-item > a,
#access .current-menu-ancestor > a,
#access .current_page_item > a,
#access .current_page_ancestor > a {
font-weight: bold;
}

#footer {
background-color: #000000;
width: 97.5%;
height: 20px;
float: left;
clear: both;
margin-left: 10px;
margin-top: -0px;
font-family: 'Arial';
line-height: normal; 
font-size: 11px;
text-align: center;
color: #ffffff;
padding-top: 0.5%;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T11:52:06.013

不要将您的更改`nav`为`div`. 问题是 IE8 和更早版本不允许您设置 HTML5 标签的样式。

使用 HTML5Shiv 使 IE<9 支持 HTML5 标签。

[http://code.google.com/p/html5shiv/](http://code.google.com/p/html5shiv/)

并包括这个标签：

```
<!--[if lt IE 9]>
<script src="dist/html5shiv.js"></script>
<![endif]--> 
```

来自维基百科：

> HTML5Shiv 是一种 JavaScript 解决方法，由 Sjoerd Visscher 发现，用于在 9 版之前的 Internet Explorer 版本中启用 HTML5 元素的样式，它不允许在没有 JavaScript 的情况下为未知元素设置样式。

编辑：另外，由于您使用的是 HTML5 标签，您应该将您的 DOCTYPE 更改为：

`<!DOCTYPE html>`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T09:11:09.757

嗨，现在更改为您的`html code`

`nav`标签更改为`div`

像这样

变成

```
 <nav role="navigation" id="access">
// here some code of your html
</nav> 
```

**这**

```
 <div role="navigation" id="access">
// here some code of your html
</div> 
```

因为这个`nav`标签不支持你的`ie8`因为你正在使用`HTML 4.0`这个标签是支持`HTML5`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-16T11:34:25.493

> ie8及以下版本不支持nav标签

你必须用 div 标签替换 nav 标签

**像**

```
<nav>
Your Menu code here ...
</nav> 
```

希望它会起作用

# ios - 在哪里可以找到 Apple 的新命令行交付工具 Transporter？

> ID：13191678
> 
> 赞同：16
> 
> 时间：2012-11-02T08:25:41.560
> 
> 标签：ios, in-app-purchase, metadata, app-store-connect

我收到了来自 Apple 的以下电子邮件：

> 您现在可以
> 使用 Apple 的命令行交付工具 Transporter 将您的应用程序的应用内购买和游戏中心元数据交付到 App Store。要使用 Transporter 交付
> ，您必须使用 App Store 包，这些包是包含您应用的应用内购买和游戏中心元数据和资产的目录。
> 
> 您还可以使用 Transporter 来查找现有应用程序的元数据，以便
> 以正确的 XML 格式检索数据。这可以帮助您熟悉
> XML 格式，并更轻松地更新您的应用内购买和游戏中心
> 元数据。
> 
> 要了解有关 App Store 包的更多信息，包括如何创建它们，请参阅可从 iTunes Connect 上
> 的“管理您的应用程序”模块下载的应用程序元数据规范文档。
> 
> 有关下载和安装 Transporter 的更多信息，请参阅可从 iTunes Connect 上
> 的管理您的应用程序模块下载的 Transporter 用户指南。

我想以 XML 形式查看我们的元数据，但无论是在 iTunes Connect 还是在开发者中心，我都找不到任何下载该工具的链接。这个工具在哪里？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-11-02T08:34:25.420

iTunes Connect 上的“Transporter 快速入门指南”中说明了以下内容：

> ## 安装运输工具
> 
> 如果您的系统上不存在 Transporter，您必须下载并安装它。
> 
> 如果您安装了 Xcode 或 Application Loader，请在应用程序本身中查找 Transporter：
> 
> ### Xcode
> 
> /Applications/Xcode.app/Contents/Applications/Application Loader.app/Contents/MacOS/itms/bin
> 
> ### 应用加载器
> 
> /Developer/Applications/Utilities/Application Loader.app/Contents/MacOS/itms/bin
> 
> 如果您没有安装Transporter，请单击[此链接下载 Transporter 。](https://itunesconnect.apple.com/transporter/1.7.6/iTMSTransporter_1.7.6.pkg.gz)解压，双击安装包（iTMSTransporter_1.7.6.pkg），按照出现的说明进行操作。

# c# - “名称在当前上下文中不存在”错误

> ID：13191683
> 
> 赞同：3
> 
> 时间：2012-11-02T08:25:56.500
> 
> 标签：c#

我正在用 C# 为游戏服务器编写一个 rcon 消息工具。但是我遇到了一个错误：

> “当前上下文中不存在名称‘m’”

现在你在屏幕上大喊 NOOB！是的，我承认我是；我几乎没有真正的编码经验。

我玩过 MFC C++ 和 OpenGL，我是一个相当受人尊敬的 cod modder “脚本是 gsc 松散地基于 c++”所以我希望我能快速学习，基本上我尝试访问 b 的实例。在主循环之外，但它给了我错误：

> 当前上下文中不存在名称 b

所以我创建了一个新的消息函数，在一个新实例中开始一个新的连接。然后我尝试了在另一个函数中的访问，`stopmessages()`但我仍然得到错误。

对不起，新手的问题。我已经用谷歌搜索了很长时间，但我只是不明白。

这是我的代码——它`Nini.dll`用于访问配置文件和`BattleNET.dll`访问游戏的 rcon——

```
#region

using System;
using System.Net;
using System.Text;
using BattleNET;
using Nini.Config;
#endregion

namespace BattleNET_client
{

internal class Program
{

   private static  void Main(string[] args)
    {
        bool isit_ok = true;

        Console.OutputEncoding = Encoding.UTF8;
        Console.Title = "rotceh_dnih's DayZ servermessages";
        BattlEyeLoginCredentials loginCredentials = GetLoginCredentials();
        Console.Title += string.Format(" - {0}:{1}", loginCredentials.Host, loginCredentials.Port);
        IBattleNET b = new BattlEyeClient(loginCredentials);
        b.MessageReceivedEvent += DumpMessage;
        b.DisconnectEvent += Disconnected;
        b.ReconnectOnPacketLoss(true);
        b.Connect();

        while (true)
        {
            startmessages();
            string cmd = Console.ReadLine();

            if (cmd == "exit" || cmd == "logout" || cmd == "quit")
            {
                Environment.Exit(0);
            }

            if (cmd == "restart")
            {
                stopmessages();
            }
            if (cmd == "startstuff")
            {
                startmessages();
            }

            if (b.IsConnected())
            {
                if (isit_ok)
                {

                }
                isit_ok = false;
                b.SendCommandPacket(cmd);
            }
            else
            {
                Console.WriteLine("Not connected!");
            }
        }
    }

    private static BattlEyeLoginCredentials GetLoginCredentials()
    {

        IConfigSource source = new IniConfigSource("server/admindets.ini");
        string serverip = source.Configs["rconlogin"].Get("ip");
        int serverport = source.Configs["rconlogin"].GetInt("port");
        string password = source.Configs["rconlogin"].Get("rconpwd");
        var loginCredentials = new BattlEyeLoginCredentials
                                   {
                                       Host = serverip,
                                       Port = serverport,
                                       Password = password,
                                   };          
        return loginCredentials;
    }

   public static void startmessages()
    {
       BattlEyeLoginCredentials loginCredentials = GetLoginCredentials();
        IBattleNET m = new BattlEyeClient(loginCredentials);
        m.MessageReceivedEvent += DumpMessage;
        m.DisconnectEvent += Disconnected;
        m.ReconnectOnPacketLoss(true);
        m.Connect();

        IConfigSource messagesource = new IniConfigSource("messages/servermessages.ini");

        int messagewait = messagesource.Configs["timesettings"].GetInt("delay");
        string[] messages = messagesource.Configs["rconmessages"].Get("messages1").Split('|');
    //    for (;;)
      //  {

            foreach (string message in messages)
            {
                Console.WriteLine(message);
                 m.SendCommandPacket(EBattlEyeCommand.Say,message);
                 System.Threading.Thread.Sleep(messagewait * 60 * 1000); 

            }
     //   }

    }

   public static void stopmessages()
   {

       m.Disconnect();
   }

    private static void Disconnected(BattlEyeDisconnectEventArgs args)
    {
        Console.WriteLine(args.Message);
    }

    private static void DumpMessage(BattlEyeMessageEventArgs args)
    {
        Console.WriteLine(args.Message);
    }
}
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-02T08:29:42.293

您需要将声明`m`放入类范围：

```
internal class Program
{

    // declare m as field at class level
    private static IBattleNET m;

    private static  void Main(string[] args)
    {
        ....
    }

    public static void startmessages()
    {
       BattlEyeLoginCredentials loginCredentials = GetLoginCredentials();

        // JUST SET THE VALUE HERE
        m = new BattlEyeClient(loginCredentials);
        m.MessageReceivedEvent += DumpMessage;
        m.DisconnectEvent += Disconnected;
        m.ReconnectOnPacketLoss(true);
        m.Connect();

        IConfigSource messagesource = new IniConfigSource("messages/servermessages.ini");

        int messagewait = messagesource.Configs["timesettings"].GetInt("delay");
        string[] messages = messagesource.Configs["rconmessages"].Get("messages1").Split('|');
    //    for (;;)
      //  {

            foreach (string message in messages)
            {
                Console.WriteLine(message);
                 m.SendCommandPacket(EBattlEyeCommand.Say,message);
                 System.Threading.Thread.Sleep(messagewait * 60 * 1000); 

            }
     //   }

    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T08:30:40.917

stopmessages() 方法将无法访问 m，因为变量 m 仅存在于 startmessages() 方法中

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T08:29:54.333

移动声明`IBattleNET m`

到`main`函数之外并使其成为静态：

```
static IBattleNet b; 
```

然后在你的`main`你只是做`m = new BattlEyeClient(loginCredentials);`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-02T08:30:00.687

`m`是在静态方法的范围内声明的，`startmessages`但是你试图`stopmessages`在它不在范围内的地方使用它。您应该将变量移动到类范围，并将其定义为静态（因为您的方法是静态的）。

希望您的客户端应用程序是单线程的，否则您还需要考虑线程安全问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-02T08:31:22.550

你可以做的是在你声明你的类之后，所以在 static void main 声明你的 m 值之前

```
internal class Program
{
    IBattleNET m; 
```

然后在 startMessages 方法中添加

```
m = new BattlEyeClient(loginCredentials); 
```

这将使 m 值可用于类中的所有方法

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-02T08:31:38.480

我假设 m 应该指的是这个：

```
IBattleNET m = new BattlEyeClient(loginCredentials); 
```

在方法中`startmessages()`。您需要做的是在方法主体之外声明 IBattleNET m：

```
static IBattleNET m;
public static void startmessages()
{
    //etc 
```

# xslt - XSL 转换后输出 XML 中的 EOF（文件结尾）expexted 错误

> ID：13191698
> 
> 赞同：0
> 
> 时间：2012-11-02T08:27:18.843
> 
> 标签：xslt, xslt-1.0, eof

XSL 转换后，输出 XML 中出现“EOF Exexted”错误。问题：我需要用这个 XSLT 做什么才能获得正确的输出？

输入 XML：

```
<RowSet>
<Row>
     <msg_id>1</msg_id>
     <doc_id>1</doc_id>
     <doc_version>1</doc_version>
  </Row>
  <Row>
     <msg_id>2</msg_id>
     <doc_id>1</doc_id>
     <doc_version>2</doc_version>
  </Row>
    <Row>
     <msg_id>3</msg_id>
     <doc_id>1</doc_id>
     <doc_version>3</doc_version>
  </Row>
      <Row>
     <msg_id>4</msg_id>
     <doc_id>2</doc_id>
     <doc_version>1</doc_version>
  </Row>
<RowSet> 
```

XSLT：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:key name="kRowByDocId" match="Row" use="doc_id"/>

 <xsl:template match="/*">
    <xsl:apply-templates select=
      "Row[generate-id()=generate-id(key('kRowByDocId', doc_id)[1])]"/>
 </xsl:template>

 <xsl:template match="Row">
     <xsl:for-each select="key('kRowByDocId',doc_id)">
      <xsl:sort select="doc_version" data-type="number" order="descending"/>

      <xsl:if test="position() = 1"><xsl:copy-of select="."/></xsl:if>
     </xsl:for-each>
 </xsl:template>
</xsl:stylesheet> 
```

我现在得到的输出（带有EOF错误）：

```
<Row>
   <msg_id>3</msg_id>
   <doc_id>1</doc_id>
   <doc_version>3</doc_version>
</Row>
<Row>
   <msg_id>4</msg_id>
   <doc_id>2</doc_id>
   <doc_version>1</doc_version>
</Row> 
```

正确的输出必须是这样的：

```
 <RowSet>
    <Row>
     <msg_id>3</msg_id>
     <doc_id>1</doc_id>
     <doc_version>3</doc_version>
   </Row>
      <Row>
     <msg_id>4</msg_id>
     <doc_id>2</doc_id>
     <doc_version>1</doc_version>
  </Row>
  <RowSet> 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:54:10.833

这很简单。如果你想输出一个**Rowset**元素，你只需要在你的模板中输出一个匹配根元素的元素

```
<xsl:template match="/*">
   <RowSet>
      <xsl:apply-templates select="Row[generate-id()=generate-id(key('kRowByDocId', doc_id)[1])]"/>
   </RowSet>
</xsl:template> 
```

或者，如果您不想对**RowSet**元素进行硬编码，则可以使用**xsl:copy**复制根元素的任何内容：

```
<xsl:template match="/*">
   <xsl:copy>
      <xsl:apply-templates select="Row[generate-id()=generate-id(key('kRowByDocId', doc_id)[1])]"/>
   </xsl:copy>
</xsl:template> 
```

# forms - 在 Form_Unload 之前执行文本框的 LostFocus 方法

> ID：13191701
> 
> 赞同：3
> 
> 时间：2012-11-02T08:27:33.547
> 
> 标签：forms, vba, ms-access, controls, ms-access-2010

我目前正在使用 MS Access VBA 进行编程。我有一个带有文本框的表单。我正在文本框的 LostFocus 事件上执行一些代码。

但是，当我使用鼠标关闭表单并单击表单右上角的关闭按钮时，将光标放在文本框中，我注意到 LostFocus 事件在 Form_Unload 事件之前执行。

有没有办法避免这种情况？

另外，我在哪里可以找到事件的优先级？或者 VBA 中的优先级是如何确定的？

**编辑：**

我的确切应用是这样的。我在 MS Access 中有一个表单，用于接受用户的登录凭据。

![在此处输入图像描述](../Images/30d88f3a6c06f1b94aa6050d855678ed.png)

我想禁用密码和登录按钮的文本框，直到输入有效的用户名。我在 onLostFocus 事件中检查用户名是否有效。现在，考虑一个在用户名文本框中没有输入任何内容就关闭此表单的情况。在这种情况下，onLostFocus 事件会在 Form_Unload 事件之前执行。

但是，对于正常操作，我需要 onLostFocus 事件，因为在该事件中我启用了密码文本框和登录按钮。

能不能有别的办法？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T09:48:58.113

失去焦点事件通常不是代码的最佳事件。你有使用它的具体原因吗？如果是这样，您将需要在执行中添加条件。

Access 表单的事件顺序为：

> 退出 → 失焦
> 
> 如果您正在关闭表单，则 Exit 和 LostFocus 事件发生在与关闭表单相关的事件（例如 Unload、Deactivate 和 Close）之前，如下所示：
> 
> Exit（控件）→ LostFocus（控件）→ Unload（表单）→ Deactivate（表单）→ Close（表单）

-- [http://office.microsoft.com/en-ie/access-help/order-of-events-for-database-objects-HP005186761.aspx](http://office.microsoft.com/en-ie/access-help/order-of-events-for-database-objects-HP005186761.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-03T05:40:21.743

"*我在 onLostFocus 事件中检查用户名是否有效。* "

在用户名文本框的更新后事件中进行验证...当用户名值更改时，根据需要启用/禁用密码文本框。

您最初可以在表单加载时禁用密码文本框，假设表单加载时用户名文本框为空。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T12:26:41.877

如果您正在向其中插入数据的控件，则使用 onDirty 或 onChange 可能更适合您正在做的事情。有很多比 onLostFocus 更好的选择。如果不了解任何具体内容，就很难知道如何更具体地帮助您。我会说只是在 Event 上尝试另一个，因为由于 onLostFocus 的性质，不可能为这种意外情况做好准备。

# login - 使用不同的直接页面登录

> ID：13191712
> 
> 赞同：1
> 
> 时间：2012-11-02T08:28:51.073
> 
> 标签：login, login-control, login-script, login-page

请帮我处理这段代码，这里是登录模型的代码（mlogin.php）

```
<?php if(! defined('BASEPATH')) exit (" No direct script access allowed");

class Mlogin extends CI_Model{

public function cek_db(){

    $this->db->where('id_user', $this->input->post('username'));
    $this->db->where('password', $this->input->post('pass'));
    $query = $this->db->get('user');

    if($query->num_rows == 1){
        RETURN true;
    } 
} 

function cek_page(){
    $uname = $this->input->post('username');

    $jenis_user = $this->db->select("`jenis_user` FROM `user` WHERE id_user = '".$uname."' ");

    if($jenis_user == 'member'){
           RETURN "1";
    }else if($jenis_user == 'agen komunitas'){
           RETURN "2"; 
    }else if($jenis_user == 'agen non-komunitas'){
           RETURN "3";
    }else{
           RETURN null;
    }
}
}

?> 
```

这是登录控制器

```
<?php if(! defined('BASEPATH')) exit('No direct script access allowed');

class Login_control extends CI_Controller{

public function cek_user() {

    $this->load->model('mlogin');
    $query = $this->mlogin->cek_db();
    if($query){
        RETURN 'yes';
    }else{
        RETURN 'no';
    }
}

public function user_masuk() {
   if($this->cek_user() == 'yes'){
       $data['id_user'] = $this->input->post('username');
       $data['password'] = $this->input->post('pass');           

       $this->load->model('mlogin');
       $ju = $this->mlogin->cek_page();

       $data_session = array('id_user'=> $data['id_user'], 'jenis_user' => $ju);
       $this->session->set_userdata($data_session);

       if($ju == '1'){
           $this->load->view('welcome_message1');
       }else if($ju == '2'){
           $this->load->view('welcome_message2');    
       }else if($ju == '3'){
           $this->load->view('welcome_message3');
       }else{
           //ERROR
           echo "ERROR";
       } 

   }else if($this->cek_user() == 'no'){
        echo "Anda belum terdaftar menjadi MEMBER / AGEN";
   }else{
       echo"LOGIN GAGAL....";
   }

}

public function logout(){
    $this->session->sess_destroy();
    redirect('view/index');
    echo "anda telah berhasil logout";
 }

}

?> 
```

结果总是“错误”

# javascript - 在数字/数字和字母/字符之间添加空格

> ID：13191714
> 
> 赞同：2
> 
> 时间：2012-11-02T08:28:55.053
> 
> 标签：javascript, split, space, digits, letters

我有这样的代码

```
(function($, window, document, undefined) {
    $.fn.quicksearch = function (target, opt) {

        var timeout, cache, rowcache, jq_results, val = '', e = this, options = $.extend({ 
            delay: 100,
            selector: null,
            stripeRows: null,
            loader: null,
            noResults: '',
            bind: 'keyup',
            onBefore: function () { 
                return;
            },
            onAfter: function () { 
                return;
            },
            show: function () {
                this.style.display = "";
            },
            hide: function () {
                this.style.display = "none";
            },
            prepareQuery: function (val) {
                return val.toLowerCase().split(' ');
            },
            testQuery: function (query, txt, _row) {
                for (var i = 0; i < query.length; i += 1) {
                    if (txt.indexOf(query[i]) === -1) {
                        return false;
                    }
                }
                return true;
            }
        }, opt);

        this.go = function () {

            var i = 0, 
            noresults = true, 
            query = options.prepareQuery(val),
            val_empty = (val.replace(' ', '').length === 0);

            for (var i = 0, len = rowcache.length; i < len; i++) {
                if (val_empty || options.testQuery(query, cache[i], rowcache[i])) {
                    options.show.apply(rowcache[i]);
                    noresults = false;
                } else {
                    options.hide.apply(rowcache[i]);
                }
            }

            if (noresults) {
                this.results(false);
            } else {
                this.results(true);
                this.stripe();
            }

            this.loader(false);
            options.onAfter();

            return this;
        };

        this.stripe = function () {

            if (typeof options.stripeRows === "object" && options.stripeRows !== null)
            {
                var joined = options.stripeRows.join(' ');
                var stripeRows_length = options.stripeRows.length;

                jq_results.not(':hidden').each(function (i) {
                    $(this).removeClass(joined).addClass(options.stripeRows[i % stripeRows_length]);
                });
            }

            return this;
        };

        this.strip_html = function (input) {
            var output = input.replace(new RegExp('<[^<]+\>', 'g'), "");
            output = $.trim(output.toLowerCase());
            return output;
        };

        this.results = function (bool) {
            if (typeof options.noResults === "string" && options.noResults !== "") {
                if (bool) {
                    $(options.noResults).hide();
                } else {
                    $(options.noResults).show();
                }
            }
            return this;
        };

        this.loader = function (bool) {
            if (typeof options.loader === "string" && options.loader !== "") {
                 (bool) ? $(options.loader).show() : $(options.loader).hide();
            }
            return this;
        };

        this.cache = function () {

            jq_results = $(target);

            if (typeof options.noResults === "string" && options.noResults !== "") {
                jq_results = jq_results.not(options.noResults);
            }

            var t = (typeof options.selector === "string") ? jq_results.find(options.selector) : $(target).not(options.noResults);
            cache = t.map(function () {
                return e.strip_html(this.innerHTML);
            });

            rowcache = jq_results.map(function () {
                return this;
            });

            return this.go();
        };

        this.trigger = function () {
            this.loader(true);
            options.onBefore();

            window.clearTimeout(timeout);
            timeout = window.setTimeout(function () {
                e.go();
            }, options.delay);

            return this;
        };

        this.cache();
        this.results(true);
        this.stripe();
        this.loader(false);

        return this.each(function () {
            $(this).bind(options.bind, function () {
                val = $(this).val();
                e.trigger();
            });
        });

    };

}(jQuery, this, document)); 
```

我试图弄清楚在哪里以及如何在数字和字母之间进行拆分/添加空格。导致某些人键入例如“ip1500”，脚本无法将输入与“ip 1500”之类的元素匹配。我的问题是我是一个 js 初学者。

我一直在尝试，但我无法让它发挥作用。我也试过[这个](https://stackoverflow.com/questions/8270784/how-to-split-a-string-between-letters-and-digits-or-between-digits-and-letters)

我找到了这个地方，我认为可以在这里完成，所有内容都被“”（空格）分开：

```
prepareQuery: function (val) {
    return val.toLowerCase().split(' ');
    }, 
```

如果有人可以帮助我，那就太好了。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-02T10:07:21.780

如果你想要“123abc345def”到“123 abc 345 def”。替换功能可能会有所帮助。代码是这样的。

```
var str = "123abc345def";
str = str.replace(/(\d+)/g, function (_, num){
    console.log(num);
    return ' ' + num + ' ';
});
str = str.trim(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-02T09:33:06.883

您链接的代码不起作用主要是因为它使用了与 javascript 不同的编程语言。从理论上讲，它应该可以工作，但是 javascript 不支持正则表达式lookbehinds（目前）..

相反，我重写了这段代码：

```
prepareQuery: function (val) {
function isNotLetter(a){
return (/[0-9-_ ]/.test(a));
}

var val=val.toLowerCase().split("");
var tempArray=val.join("").split("");
var currentIndex=1;

for (var i=0;i<val.length-1;i++){
if (isNotLetter(val[i]) !== isNotLetter(val[i+1])){
tempArray.splice(i+currentIndex, 0, " ");
currentIndex++;
}
}
return tempArray.join("");
} 
```

由于您是 javascript 新手，我将解释它的作用。

1.  它声明了一个函数`prepareQuery`来检查一个字符串是否包含一个字母[这可以移动到其他地方]
2.  然后它拆分`val`为一个数组并将内容复制`val`到`tempArray`
3.  声明了一个索引（稍后解释）
4.  制作了一个循环，该循环遍历中的每个字符`val`
5.  该`if`语句检测当前字符（`val[i]`由循环设置）是否与它旁边的字符（`val[i+1]`）相同。
6.  如果其中一个与另一个不同（即当前字符是字母，而下一个不是），则`tempArray`在该“索引”处添加一个空格
7.  索引递增并用作#6 中的偏移量
8.  循环结束，将“数组”连接成一个字符串并输出结果。

演示： [http](http://jsbin.com/ebitus/1/edit) ://jsbin.com/ebitus/1/edit（JSFiddle 已关闭....）

**编辑：** 对不起，但我完全误解了你的问题......你没有提到你正在使用“[快速搜索](https://github.com/riklomas/)”和 jQuery。在这种情况下，我假设您有一个具有名称的元素列表，并且您想使用插件搜索它们......匹配用户查询（如果没有空格）的更简单的方法是剥离搜索表中的空间以及查询本身 - 尽管原始的反向方法将起作用（只是效率不高）[又名：扩展用户的查询]

在这种情况下，从搜索表和用户输入中剥离空间将是更好的方法

```
 prepareQuery: function (val) {
        return val.toLowerCase().replace(/ /ig,'').split(" ");
    },
    testQuery: function (query, txt, _row) {
        txt=txt.toLowerCase().replace(/ /ig,'');
    for (var i = 0; i < query.length; i += 1) {
        if (txt.indexOf(query[i]) === -1) {
            return false;
        }
    }
    return true; 
```

}

演示：http: [//jsfiddle.net/q9k9Y/3/](http://jsfiddle.net/q9k9Y/3/)

**编辑2：**

您的真正意图似乎是在您的网站上创建功能齐全的搜索功能，而不仅仅是在字母和数字之间添加空格。有了这个，我建议使用[Quicksilver](http://static.railstips.org/orderedlist/demos/quicksilverjs/jquery.html)。我很想制定一个算法来扩展 quickSearcher 但目前我不能（时区）。相反，我建议使用 Quicksilver

[http://jsbin.com/oruhet/12/](http://jsbin.com/oruhet/12/)

# c++ - 视觉工作室挂在 BSC 创作上

> ID：13191717
> 
> 赞同：0
> 
> 时间：2012-11-02T08:29:07.263
> 
> 标签：c++, compilation, visual-studio-2012, freeze

最近，Visual Studio 已经花费了很长时间（完全重建大约需要 7-10 分钟）为其正在构建的可执行文件生成一个 .bsc 文件。

可执行文件已经构建（只需要大约一分钟），但是在完全创建此 BSC 文件之前它不会运行/调试它。

它是什么，为什么要花这么长时间，没有它有没有可能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T06:19:05.577

可以通过转到项目属性 -> C/C++ -> 浏览信息 -> 将*“启用浏览信息”*设置为**No**来禁用 BSC 文件。

# php - Magento：获取用户选择的国家

> ID：13191720
> 
> 赞同：1
> 
> 时间：2012-11-02T08:29:21.027
> 
> 标签：php, javascript, magento

我有一段代码可以创建国家的下拉列表

```
<div class="input-box">
   <?php $_countries = Mage::getResourceModel('directory/country_collection')->loadData()->toOptionArray(false) ?>
   <?php if (count($_countries) > 0): ?>
      <select name="country" id="country" onchange="print()">
         <option value=""> </option>
         <?php foreach($_countries as $_country): ?>
                <option value="<?php echo $_country['value'] ?>">
                    <?php echo $_country['label'] ?>
                </option>
             <?php endforeach; ?>
      </select>
   <?php endif; ?>
</div> 
```

我不知道如何获得用户选择的国家。你能帮我么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:49:18.933

```
<div class="input-box">
<?php $_countries = Mage::getResourceModel('directory/country_collection')->loadData()->toOptionArray(false) ?>
<?php if (count($_countries) > 0): ?>
  <select name="country" id="country" onchange="showCountry(this)">
     <option value=""> </option>
        <option value="<?php echo $_country['value'] ?>" <?php echo $select; ?> >
            <?php echo $_country['label'] ?>
        </option>
     <?php endforeach; ?>       </select>
 <?php endif; ?>
</div>

function showCountry​(ele){
  alert(ele.value);
}  ​ 
```

# android - 从图库中删除所有图像

> ID：13191721
> 
> 赞同：0
> 
> 时间：2012-11-02T08:29:20.470
> 
> 标签：android, memory, bitmap, android-gallery

我正在使用这个库访问[https://github.com/kilaka/ImageViewZoom](https://github.com/kilaka/ImageViewZoom) 我在画廊的活动“A”中显示图像并转到下一个活动“b”。活动“b”做一些任务从 sqlite 数据库中检索数据。并进入下一个活动“c”。

活动“c”再次在画廊中显示图像，但这里画廊做错了。它使用活动“A”图像在图库中附加图像。

在这里做任何方式，所以当我去另一个活动时，我会删除所有画廊图像，这样我的新画廊就不会附加图像。

请高手看看 谢谢

# php - 检查哪个用户在 PHP 中登录

> ID：13191731
> 
> 赞同：0
> 
> 时间：2012-11-02T08:30:02.427
> 
> 标签：php, android, xcode, login

我是 php 新手，我在 iPhone 上制作了一个应用程序，每个用户都有一个用户名和密码，用户可以注册。我想知道是否有很多用户，如何查看哪个用户已登录？

当用户登录时，将显示他们的信息。

我目前正在使用

```
if ($id == 1)
{
   //command
}
if ($id == 2)
{
   //command
}
else
   //command 
```

有没有一种可能的方法来检查哪个用户登录而不必执行 if else 语句？

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:39:26.227

I suggest you to keep last user action time in database. Then select users, which did last action, for example, in last 10 minutes and track them as online users.

# android - Android ImageView 使用旧图像而不是 XML 文件中指定的新图像

> ID：13191735
> 
> 赞同：0
> 
> 时间：2012-11-02T08:30:25.280
> 
> 标签：android, android-layout, android-imageview, android-xml

我有一个由 a`ImageView`和 a组成的布局`TextView`。我最近将`android:src`ImageView 更改为新的可绘制对象，但是当我在模拟器或设备上构建和运行应用程序时，它会显示旧图像而不是我在 XML 布局中指定的新图像。我不明白为什么引用没有更新，而 android 正在使用图像的旧引用。

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="@drawable/list_selector"
    android:orientation="horizontal"
    android:padding="3dip" >

    <ImageView
        android:id="@+id/playImage"
        android:layout_width="35dip"
        android:layout_height="35dip"
        android:src="@drawable/play_icon" />

    <TextView
        android:id="@+id/playlistName"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerVertical="true"
        android:textColor="@color/black"
        android:maxLines="1"
        android:layout_toRightOf="@+id/playImage"
        android:paddingLeft="5dp"
        android:textStyle="bold"
        android:text="Unamed" />
 </RelativeLayout> 
```

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:33:44.127

在这种情况下，我刷新项目文件夹，清理项目。如果这些不起作用，那么我将关闭并打开项目。Eclipse 多次表现得很奇怪。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:57:29.277

我犯了一个愚蠢的错误。我还在自定义适配器中设置 ImageView 图像，这覆盖了 XML ImageView 默认图像。我从适配器中删除了设置图像 src 的代码，这解决了问题

# java - Vaadin 上传组件 receiveUpload() 方法

> ID：13191737
> 
> 赞同：0
> 
> 时间：2012-11-02T08:30:30.463
> 
> 标签：java, vaadin

我想在 vaadin 上传一个录制的文件。我正在使用 vaadin 的上传组件。但问题是我不想显示文件对话框，而是想触发事件以从我自己的按钮上传组件。我编写了一个由 Upload 组件扩展的类并调用它的 fireUploadSuccess() 方法，该事件被成功触发。但是我想手动调用 receiveUpload() 方法，我的意思是从我自己的按钮触发一些事件来调用这个方法。有解决的朋友吗？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-09T09:55:22.167

通常，在基础Upload Class 中，调用fireUploadSuccess() 时，通常会调用附加类的uploadSucceeded 方法。

如果你真的改变了方法，你可能忘记了`super()`声明？

如果可以的话，你能否给我们看一个你修改过的课程的例子

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-01T08:24:37.993

这是我使用的一个过程。

我创建了一个名为 MyFileReceive 的自定义类，它实现了文件`Receiver`接口。`Upload.java`在那里我覆盖了该方法`receiveUpload()`并在收到上传的文件时做了我想做的事情。将 MyFileReceiver 类的实例放入 Upload 类的构造函数中。希望它会工作..

```
 public class MyUI extends UI{
       private MyUI.MyFileReceiver receiver = new MyUI.MyFileReceiver();
       private Upload upload;
       protected void init(VaadinRequest vaadinRequest) {
            .............
            .......................
            upload = new Upload(null, receiver);
            upload.addSucceededListener((SucceededEvent event) -> {
            //Do what you want to do
    });
    public class MyReceiver implements Receiver {
        @Override
        public OutputStream receiveUpload(String filename, String mimeType) {
        //do what you want to do when receive upload
        }
    }
} 
```

# python - Python：Tkinter 多个小部件充当一个

> ID：13191739
> 
> 赞同：2
> 
> 时间：2012-11-02T08:30:35.927
> 
> 标签：python, user-interface, tkinter

我有这个问题：使用循环创建的多个 Tkinter 小部件充当一个单独的小部件。例如 - 如果我创建 4 个 Scale 元素，它们都充当一个 - 如果我选择一个滑块 - 所有滑块都被选中。OptionMenu 也是如此，尽管按钮没有问题。

示例代码：

```
def frame4Gui( self ):

    for i in range( 0, 4 ):
        self . guiElements[ 'Scale' + str( i ) ] = Scale( 
            self . guiElements[ 'LabelFrame4' ],
            variable = self . scaleText[ i ] )

    self . guiElements[ 'Scale0' ] . grid( row = 0, column = 0 )
    self . guiElements[ 'Scale1' ] . grid( row = 0, column = 1 )
    self . guiElements[ 'Scale2' ] . grid( row = 1, column = 0 )
    self . guiElements[ 'Scale3' ] . grid( row = 1, column = 1 )

    self . createBack( self . guiElements[ 'LabelFrame4' ], 2 )
    #Set Up frame4 Gui 
    self . openFrame( 4, 1 ) 
```

**更新**

这就是我创建 scaleText 变量的方式：

```
self . scaleText = self . appendValue( 4, DoubleVar( ) )

def appendValue( self, bound, value ):
    emptyList = [ ]
    for i in range( 0, bound ):
        emptyList . append( value )
    return emptyList 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T10:33:01.207

您显示的代码中缺少的基本部分是您创建所有变量的位置 ( `self.scaleText[i]`)。我的猜测是您最终将相同的变量分配给所有`scaleText[i]`'s.

**编辑**您确实对所有小部件使用相同的控制变量。这里：

```
self . scaleText = self . appendValue( 4, DoubleVar( ) ) 
```

您创建一个`DoubleVar`对象并将其传递给`appendValue()`函数，该函数将它的 4 个副本存储在一个列表中。因此，您的小部件共享相同的控制变量，从而一致地移动。

对于不熟悉 Python/Tkinter 的人来说，这种效果可能看起来违反直觉，所以这里有一个非常简短的解释：

*   在 Python 中，对象是通过引用传递的，因此在将对象分配给变量（或将其传递给函数）时，您只需创建对现有对象的新引用。
*   更改`Tkinter`变量会导致与之关联的任何小部件（如果有）相应地更改其当前状态。（事实上​​，有一种通用[机制](http://effbot.org/tkinterbook/variable.htm)允许在访问 TCL/Tk 变量时接收通知）。

# wpf - WPF：控制自定义控件中的焦点

> ID：13191740
> 
> 赞同：3
> 
> 时间：2012-11-02T08:30:38.780
> 
> 标签：wpf, focus, controls

我正在开发一个自定义控件（比如 BoxControl），其中包含许多控件，例如文本框、几个按钮等。

我将连续拥有许多 BoxControl，并且在通过选项卡导航时，我希望它的行为类似于 BoxControl 获得焦点时，它总是将焦点传递给它的文本框，当它的文本框失去焦点时，整个 BoxControl 失去焦点并通过将焦点移到下一个 BoxControl。

有什么想法怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T08:34:54.920

您需要添加一个事件处理程序来`BoxControl`处理 GotFocus 事件，然后将焦点放在其文本框上。

您还需要向文本框的 LostFocus 事件添加一个事件处理程序，然后您可以引发一个自定义事件，`BoxControl`以便它的控制器可以知道必须将焦点传递给下一个`BoxControl`

希望能帮助到你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-14T14:22:52.287

您可以`Focusable`通过自定义控件模板中的 Setter 将属性设置为 false。无论是在控件上还是在里面的各种元素上。

# jquery - ajax 无法在 iPad 上运行

> ID：13191744
> 
> 赞同：1
> 
> 时间：2012-11-02T08:31:00.370
> 
> 标签：jquery, ajax, ipad, safari

我有一个表格：

```
<form id="orderForm" onsubmit="return prepareOrder(this);" action='@ConfigurationManager.AppSettings["EpayLogonUrl"]' method="POST">
         <input type="hidden" name="Signed_Order_B64" value="">
         <input type="hidden" name="email" size="50" maxlength="50" value="@Model.Email">
         <input type="hidden" name="appendix" value="@Model.AppendixInfo">
         <button class="wiz_button" type="submit" disabled="disabled">
         <span><span id="buy_button_name">Buy</span></span></button>
</form> 
```

和一个函数 PrepareOrder

```
function prepareOrder(form) {
    var selectedPayWay = $('.pay_cont.selected').data('way');
    var result;
    $.ajax({
        type: 'POST',
        url: '/Pay/CreateOrder',
        data: { payWay: selectedPayWay },
        success: function (response) {
            if (response.IsSuccess) {
                switch (selectedPayWay) {
                    case payWay.Terminal:
                        showBookingInfo(response.BookingId, response.ExpiredDate);
                        result = false;
                        break;
                    case payWay.Epay:
                        $("input[type=hidden][name=Signed_Order_B64]").val(response.SignedString);
                        $("input[type=hidden][name=appendix]").val(response.AppendixString);
                        result = true;
                        break;
                }

            } else {
                toastr.options.timeOut = 10000;
                toastr.info(response.Message);
                result = false;
            }
        },
        error: function () {
            result = false;
        },
        async: false
    });

    return result;
} 
```

问题是`CreateOrder`没有调用新的 ipad (Safari) 操作。在桌面浏览器上，它工作正常。控制台中没有错误。我试图在之后添加警报：

```
success: function (response) { 
```

像那样：

```
success: function (response) {
alert(response.IsSuccess) 
```

并`alert`返回我`true`。为什么？如果`CreateOrder`没有被调用。我还将日志记录添加到`CreateOrder`操作中，并且没有输出字符串。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:49:28.950

Safari 和/或 Ipad 支持非常强大的缓存。我的应用程序中也遇到了同样的问题。尝试将以下属性添加到您的控制器（甚至是基本控制器）：

```
[OutputCache(NoStore = true, Duration = 0)] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-29T14:52:00.530

看起来这个 iOS Safari 问题仅在某些版本中重现。对我来说，带有 iOS 6.0.1 的 iPad 有这种冗余缓存，但在 6.1.2 上没有。作为一种解决方法，我使用虚假数据来强制 Safari 不查看其缓存：

```
$.ajax({
    type: 'POST',
    url: '/Pay/CreateOrder',
    data: { payWay: selectedPayWay, fakeDataToAvoidCache: new Date()},
    success: function (response) {
               //logic goes here
    }); 
```

基本上，根据规范，Safari 缓存 POST 请求，该请求不能被缓存，这很奇怪。

# timeout - 嵌套调用带有@Transactional 注释的方法和超时传播

> ID：13191749
> 
> 赞同：2
> 
> 时间：2012-11-02T08:31:19.463
> 
> 标签：timeout, spring-transactions

在方法中调用带有注释的方法时，我无法找出事务系统的行为，该方法带有`@Transactional(propagation=Propagation.REQUIRED, timeout=2)`注释`@Transactional(propagation=Propagation.REQUIRES_NEW, timeout=10)`。

内部事务的超时是什么？为什么？

我们使用 Spring 3.0 和 Hibernate 3。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-03-14T17:14:17.153

嵌套方法 (2) 中的超时被忽略，因为它将加入同一个事务。没有“内部交易”。

# java - jsp中检查参数是否有效

> ID：13191753
> 
> 赞同：1
> 
> 时间：2012-11-02T08:31:26.000
> 
> 标签：java, jsp, vxml

我只想检查传递给jsp的参数是否为空或不使用httpcontext，所以我怎么能做到这一点

```
case_yr = Integer.parseInt(request.getParameter("case_yr"));
sub_type_int =Integer.parseInt(request.getParameter("sub_type_int"));
String case_num = request.getParameter("case_num");
String lang_mode = request.getParameter("lang_mode");
String mobile_no = request.getParameter("caller_id");
String dialled_id = request.getParameter("dialled_id"); 
```

我想上面的值是否有效我正在将值从 xml 页面提交到 jsp 页面并在 jsp 中使用`request.getparameter()`

所以请告诉如何检查值是否为空，并且没有 sevlet 只有 vxml 页面和 jsp 页面

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:40:47.260

You can use following code to check for valid parameter.

```
String value = request.getParameter("case_yr")
if(value != null)
   case_yr = Integer.parseInt(value );

String value1 = request.getParameter("sub_type_int");
if(value1 != null)
   sub_type_int =Integer.parseInt(value1 ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:40:55.170

Use JSTL

```
<c:if test="${not empty case_num}">
    case_num is NOT empty or null.
</c:if> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T08:37:43.173

如果您想检查请求属性是否是`null`，只需检查它们是否是`null`这种方式

```
String case_num = request.getParameter("case_num");
if(case_num!=null){
    //do your logic
 }
 else {
  System.out.println("case_num is null");
  }
 int number ;
String num = request.getParameter(num);
 if(num!=null){
     number = Integer.parseInt(num);
   }
 else {
  System.out.println("case_num is null");
  } 
```

# jquery - JQuery 选项卡：动态添加选项卡导致页面重新加载

> ID：13191754
> 
> 赞同：0
> 
> 时间：2012-11-02T08:31:26.687
> 
> 标签：jquery, tabs

我已经实现了单击一个链接，该链接动态添加一个选项卡，但会导致整个页面重新加载。有谁知道是什么原因？

```
$(document).ready(function() {
 var tabObj = $("#tabs").tabs({
 add: function(event, ui) {
             //select newely opened tab
             tabObj.tabs('select',ui.index);

         }, collapsible: true, cache: true});
 // , fx: {opacity: "toggle", duration: "normal"}

 //Dynamic add tab
 $("#assignee").click(function(){
 //alert("FFFFFFFF");
 tabObj.tabs("add", "#noc","NOC");
 //tabObj.tabs("select", "#noc"); 
 }); 

}); 
```

请帮忙。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T09:05:32.147

`return false;`后面加一个`tabObj.tabs("add", "#noc","NOC");`

这应该会奏效。未测试。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T08:33:45.540

```
$("#assignee").click(function(e){

    e.preventDefault();

    tabObj.tabs("add", "#noc","NOC");

}); 
```

# javascript - 将日期对象插入 json

> ID：13191756
> 
> 赞同：0
> 
> 时间：2012-11-02T08:31:34.330
> 
> 标签：javascript, json, date, amcharts

我有这个`json`我需要使用`amCharts`折线图，

```
 var chartData = [{
            date: "2009/10/2",
            value: 5,
            name: 5
        }, {
            date: "2009/10/3",
            value: 15,
            name: 5

        }, {
            date: "2009/10/4",
            value: 13,
            name: 10
        }, {
            date: "2009/10/5",
            value: 17,
            name: 30
        }, {
            date: "2009/10/6",
            value: 15,
            name: 5
        }, {
            date: "2009/10/7",
            value: 19,
            name: 5
        }]; 
```

为了兼容，`amCharts`我需要将日期值分配为 Date 对象，所以我通过以下函数进行了操作，

```
 function parseDate(){

            for( var i = 0; i < chartData.length; ++i ) {
                var dateArray = chartData[i]["date"].split("/");

                chartData[i]["date"] =  new Date(Number(dateArray[0]), Number(dateArray[1])-1, Number(dateArray[2]));
                window.alert(chartData[i]["date"]);//for debugging purposes
            }
            return chartData;
        } 
```

但我仍然得到一个没有线条的空图.. :( 但如果我按如下方式对 json 进行硬编码，

```
 var chartData = [{
            date: new Date(2009, 10, 2),
            value: 5,
            name: 5
        }, {
            date: new Date(2009, 10, 3),
            value: 15,
            name: 5

        }, {
            date: new Date(2009, 10, 4),
            value: 13,
            name: 10
        }, {
            date: new Date(2009, 10, 5),
            value: 17,
            name: 30
        }, {
            date: new Date(2009, 10, 6),
            value: 15,
            name: 5
        }, {
            date: new Date(2009, 10, 7),
            value: 19,
            name: 5
        }]; 
```

图表已显示，请帮我解决这个问题。

非常感谢 ：）

**编辑：生成图形的代码（仅供参考）**

```
 AmCharts.ready(function () {

            parseDate();

            // SERIAL CHART    
            chart = new AmCharts.AmSerialChart();
            chart.pathToImages = "../amcharts/images/";
            chart.zoomOutButton = {
                backgroundColor: '#000000',
                backgroundAlpha: 0.15
            };
            chart.dataProvider = chartData;
            chart.categoryField = "date";

            // listen for "dataUpdated" event (fired when chart is inited) and call zoomChart method when it happens
            chart.addListener("dataUpdated", zoomChart);

            // AXES
            // category                
            var categoryAxis = chart.categoryAxis;
            categoryAxis.parseDates = true; // as our data is date-based, we set parseDates to true
            categoryAxis.minPeriod = "DD"; // our data is daily, so we set minPeriod to DD
            categoryAxis.dashLength = 2;
            categoryAxis.gridAlpha = 0.15;
            categoryAxis.axisColor = "#DADADA";

            var i = 0;
            for (var key in chartData[0]) {
                if (key != 'date') {
                    var valueAxis = new AmCharts.ValueAxis();
                    valueAxis.offset = i * 40;
                    valueAxis.dashLength = 4;
                    valueAxis.axisColor = "#FF6600";
                    valueAxis.axisAlpha = 0;
                    chart.addValueAxis(valueAxis);

                    // GRAPH
                    var graph = new AmCharts.AmGraph();
                    graph.valueAxis = valueAxis; // we have to indicate which value axis should be used
                    graph.type = "line";
                    graph.title = "infection # " + i;
                    graph.valueField = key;

                    graph.customBullet = "images/star.gif"; // bullet for all data points
                    graph.bulletSize = 14; // bullet image should be a rectangle (width = height)
                    graph.customBulletField = "customBullet"; // this will make the graph to display custom bullet (red star)
                    chart.addGraph(graph);
                }
                i = i + 1;
            }

            // CURSOR
            var chartCursor = new AmCharts.ChartCursor();
            chartCursor.cursorPosition = "mouse";
            chart.addChartCursor(chartCursor);

            // SCROLLBAR
            var chartScrollbar = new AmCharts.ChartScrollbar();
            chart.addChartScrollbar(chartScrollbar);

            // LEGEND
            var legend = new AmCharts.AmLegend();
            legend.marginLeft = 110;
            chart.addLegend(legend);

            // WRITE
            chart.write("chartdiv");
        }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:38:31.457

尝试这个：

```
function parseDate() {
  for( var i = 0; i < chartData.length; ++i )
    chartData[i]["date"] =  new Date(chartData[i]["date"]);
  return chartData;
} 
```

# c# - 添加服务参考和内部/公共访问级别

> ID：13191758
> 
> 赞同：0
> 
> 时间：2012-11-02T08:31:40.833
> 
> 标签：c#, asp.net, service-reference

我有两个 wcf 服务，我用我的 api 在库中不透明。在库中，我添加了对这些服务的引用，并将访问级别设置为内部，因为我只希望我的自定义 api 在使用此库的客户端中可见。不幸的是，我可以将所有类的访问级别设置为内部，没有任何例外。我想将两个枚举设置为公开，因为我将它用作我的 api 中的参数。如果我在生成的类中手动将 internal 更改为 public（通过添加服务引用），每次我想更新服务引用时，我必须记住手动将这两个枚举从 internal 更改为 public。可以自动完成吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:46:43.420

您不能在调用服务时公开自己的公共枚举并将其转换为服务引用的枚举吗？

不鼓励更改生成的代码，只是针对您现在遇到的问题。

# android - Android Sherlock 操作栏兼容性问题

> ID：13191767
> 
> 赞同：1
> 
> 时间：2012-11-02T08:31:59.213
> 
> 标签：android, android-actionbar, actionbarsherlock

我正在使用 Sherlock 操作栏来防止操作栏的兼容性问题，但我的问题不适用于 android 3.0 或更高版本，这是我的屏幕快照..

在安卓 2.2

![返回版本](../Images/285cbb66ac8a8193f712b0351d6bb438.png)

现在这很好，我喜欢它..但是当我在 AVD 4.0 上运行它时，它看起来像这样

![在此处输入图像描述](../Images/c87180c490729cf2712a2e205cb14b96.png)

当我按下菜单按钮时，会显示显示的弹出列表。

那么如何在更高版本上做同样的行为呢？

这是我的 oncreateOptionmenu 方法..（从哪个菜单膨胀）

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {

    getSupportMenuInflater().inflate(R.menu.main_menu, menu);

    return super.onCreateOptionsMenu(menu);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T09:01:46.813

我认为问题在于您的模拟器的配置。Android 4.0 的模拟器不应该有硬件返回按钮，而是应该在屏幕上有三个软件按钮（返回、主页、使用的应用程序），我的猜测是，如果设备具有菜单按钮，则操作栏将摆脱溢出图标并在按下硬件按钮时显示溢出菜单。

尝试配置没有硬件按钮的模拟器。为此创建一个新的模拟器并在硬件字段中单击新建。现在选择 Hardware Back/Home 键并选择 no 作为值。

如果您在此模拟器上没有得到正确的行为，请从该模拟器发布屏幕截图，为我们提供进一步的线索。

# sql - 如何从一张唱片中制作两张唱片？

> ID：13191768
> 
> 赞同：1
> 
> 时间：2012-11-02T08:31:59.180
> 
> 标签：sql, sql-server, stored-procedures

我有以下记录：

```
Id    Date          MondayMorning  MondayEvening  TuesdayMorning, and so on
1   2012-01-01          2               3   
2   2012-01-01          2               2 
```

我想将记录 1 分成两条记录，因为 mondaymorning 和 mondayevening 的状态不一样。如果状态相同，则什么也不做。

我期望的结果：

```
Id    Date          MondayMorning  MondayEvening  TuesdayMorning
1   2012-01-01          2               NULL          2
1   2012-01-01          NULL            3             2
2   2012-01-01          2               2 
```

请记住，其他日子也可能有所不同。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-02T08:48:49.503

我不完全理解您需要的输出，但以下脚本将为您提供表中的所有记录，然后是 MondayMorning 和 MondayEvening 不匹配的所有记录。

```
SELECT * FROM table
UNION ALL
SELECT * FROM table WHERE table.MondayMorning <> table.MondayEvening 
```

@Ahmet 试试这个来获得列中的 NULL

```
SELECT id
    ,date
    ,MondayMorning
    ,(CASE WHEN table.MondayEvening <> table.MondayMorning THEN NULL ELSE MondayEvening END) AS MondayEvening
    ,TuesdayMorning
    ,(CASE WHEN table.TuesdayEvening <> table.TuesdayMorning THEN NULL ELSE TuesdayEvening END) AS TuesdayEvening
FROM table 

UNION ALL 

SELECT id
    ,date
    ,NULL AS MondayMorning
    ,MondayEvening
    ,NULL AS TuesdayMorning
    ,TuesdayEvening
FROM table
WHERE table.MondayMorning <> table.MondayEvening
OR table.TuesdayMorning <> table.TuesdayEvening 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-02T08:59:12.747

由于您没有指定所需的输出，因此我提出了以下内容。让我们知道您的实际输出

```
Declare @t Table(Id int identity,[Date] Datetime,MondayMorning Int,MondayEvening Int)
Insert Into @t Select '2012-01-01',2,3 Union All Select '2012-01-01', 2,2

;With Cte As
(Select
    Id ,
    [Date],
    MondayMorning,
    MondayEvening,
    [Status] = Case When MondayMorning = MondayEvening Then '0' Else '1' End
From @t)
Select Id,[Date],MondayMorning,MondayEvening From Cte Where [Status] = 0
Union All
Select Id,[Date],MondayMorning,Null From Cte Where [Status] = 1
Union All
Select Id,[Date],Null,MondayEvening From Cte Where [Status] = 1 
```

![在此处输入图像描述](../Images/ff4e490c16c5dda32ba5d358971aa8bc.png)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-02T08:47:06.540

```
select id, date, mondaymorning as monday from yourtable
union
select id, date, mondayevening as monday from yourtable 
```

（默认情况下，联合将删除重复项）

或更笼统地说

```
select distinct id, [date], value from yourtable
unpivot 
(value for day in (mondaymorning, mondayevening, ....)) u 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2016-12-22T03:53:38.547

```
Select * from empmas where compcd=1 and empcd =0001 connect by level <=2; 
```

检索员工 0001 详细信息并创建两条该检索记录的记录。

# xml - 如何使用 xsl 从 xml 中删除属性？

> ID：13191771
> 
> 赞同：0
> 
> 时间：2012-11-02T08:32:16.107
> 
> 标签：xml, xslt

我想从我的 xml 文件中删除不必要的属性。我知道我们可以通过 xsl 删除。但我不知道该怎么做。我在互联网上搜索我无法得到预期的结果。

这是当前我的 xml 输出

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<rsm:Invoice xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
xmlns:rsm="http://www.ita.org/" 
xmlns:ccts="urn:un:unece:uncefact:documentation:standard:CoreComponentsTechnicalSpecification:2" 
xmlns:udt="urn:un:unece:uncefact:data:standard:UnqualifiedDataType:2" 
xmlns:qdt="urn:un:unece:uncefact:data:standard:QualifiedDataType:2" 
xmlns:ram="urn:un:unece:uncefact:data:standard:ReusableAggregateBusinessInformationEntity:2" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.ita.org/ Invoice_20.xsd">
  <rsm:HeaderExchangedDocument>
    <ram:ID xmlns:ram="http://www.ita.org/">103004</ram:ID>
    <ram:TypeCode xmlns:ram="http://www.ita.org/">Invoice</ram:TypeCode>
    <ram:IssueDateTime xmlns:ram="http://www.ita.org/">2014-01-01</ram:IssueDateTime>
    <ram:CopyIndicator xmlns:ram="http://www.ita.org/">Original</ram:CopyIndicator>
    <ram:CustomsID xmlns:ram="http://www.ita.org/" />
    <ram:HeaderInformation xmlns:ram="http://www.ita.org/" />
    <ram:SummaryInformation xmlns:ram="http://www.ita.org/" />
  </rsm:HeaderExchangedDocument>
  <rsm:SpecifiedLogisticsConsignment>
    <ram:IncludedSupplyChainConsignment xmlns:ram="http://www.ita.org/">
      <ram:BorderCrossingLogisticsTransportMovement>
        <ram:ModeCode>1</ram:ModeCode>
        <ram:Mode>Sea</ram:Mode>
        <ram:ID />
      </ram:BorderCrossingLogisticsTransportMovement>
    </ram:IncludedSupplyChainConsignment>
  </rsm:SpecifiedLogisticsConsignment>
</rsm:Invoice> 
```

我想得到以下格式

```
<?xml version="1.0" encoding="UTF-8"?>
<rsm:Invoice xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
xmlns:rsm="http://www.ita.org/" 
xmlns:ccts="urn:un:unece:uncefact:documentation:standard:TechnicalSpecification:2" 
xmlns:udt="urn:un:unece:uncefact:data:standard:UnqualifiedDataType:2" 
xmlns:qdt="urn:un:unece:uncefact:data:standard:QualifiedDataType:2" 
xmlns:ram="urn:un:unece:uncefact:data:standard:ReusableAggregateBusinessInformationEntity:2" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.ita.org/ Invoice_20.xsd">
  <rsm:HeaderExchangedDocument>
    <ram:ID>103004</ram:ID>
    <ram:TypeCode>Invoice</ram:TypeCode>
    <ram:IssueDateTime>2014-01-01</ram:IssueDateTime>
    <ram:CopyIndicator>Original</ram:CopyIndicator>
    <ram:CustomsID/>
    <ram:HeaderInformation/>
    <ram:SummaryInformation/>
  </rsm:HeaderExchangedDocument>
  <rsm:SpecifiedLogisticsConsignment>
    <ram:IncludedSupplyChainConsignment>
      <ram:BorderCrossingLogisticsTransportMovement>
        <ram:ModeCode>1</ram:ModeCode>
        <ram:Mode>Sea</ram:Mode>
        <ram:ID />
      </ram:BorderCrossingLogisticsTransportMovement>
    </ram:IncludedSupplyChainConsignment>
  </rsm:SpecifiedLogisticsConsignment>
</rsm:Invoice> 
```

我可以在 xslt 中做什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T13:24:26.110

好吧，ram:ID 正在作为命名空间“http://www.ita.org/”中的一个元素输出，您希望它作为命名空间“urn:un:unece:uncefact:data:standard:”中的一个元素： ReusableAggregateBusinessInformationEntity:2"

因此，无论生成什么代码，都将其置于错误的命名空间中，需要修复；你还没有显示你的代码，所以我们不能告诉你哪里错了。

用谷歌搜索答案的麻烦在于，如果你不理解所用语言的概念，你会用谷歌搜索错误的东西。您的问题不是删除属性，而是更正元素名称。暂时忘记 google，也忘记编码，而是阅读一本关于 XSLT 的好书。

# xpath - Umbraco：如何使用 uQuery 按属性值获取节点？

> ID：13191774
> 
> 赞同：0
> 
> 时间：2012-11-02T08:32:27.170
> 
> 标签：xpath, umbraco

也许有人可以提供帮助，这是一种将 xPath 表达式组合起来通过其属性值查询节点的方法吗？

我有一个具有自定义属性“ItemId”的节点。我需要这样的东西：

```
uQuery.GetNodesByXPath("//* [@itemId = '<someId>']") 
```

提前谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T15:27:47.960

" `//*`" 会给你所有节点，所以 " `//*[@itemId = '<someId>']`" 要求给你所有节点的属性正好等于 " `<someId>`"，你不能把它作为有效属性。

因此，如果您有`<myNode someId='my Id value'></myNode>`，请尝试`//*[@itemId='someId']` 但请记住，这将为您提供具有该特定属性 ID 的任何节点。

我不确定这是否是您要查找的内容，但请发布您的 XML 或您正在抓取的内容的片段，因为这将清除任何灰色区域。

# c++ - 在 Windows 7 上连接到高于 10 的 COM 端口时出现无效句柄错误

> ID：13191777
> 
> 赞同：3
> 
> 时间：2012-11-02T08:31:03.867
> 
> 标签：c++, winapi, windows-7, serial-port

我开发了一个简单的串行端口应用程序，它适用于低于 10 的 COM 端口（COM9、COM8、... COM1）。但是当我的设备连接到高于 10 的端口（例如 COM11）时，它无法连接并且我得到一个 INVALID_HANDLE。我的代码是：

```
comport = CreateFileA(comPortName.toAscii(), GENERIC_READ|GENERIC_WRITE,
                      FILE_SHARE_READ|FILE_SHARE_WRITE, NULL, OPEN_EXISTING, 0, NULL);

if(comport == INVALID_HANDLE_VALUE)
{
    //Write exception code here
    connectionStatus = CONNECTION_STATUS_DISCONNECTED;
} 
```

我的代码有什么问题？有什么解决办法吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-02T08:40:11.900

要访问 COM 端口 >= 10，您可以使用驱动程序的符号链接。例如，对于 COM10，它是`\\\\.\\COM10`.

你试一试：

```
comport = CreateFileA("\\\\.\\COM10", GENERIC_READ|GENERIC_WRITE,
                  FILE_SHARE_READ|FILE_SHARE_WRITE, NULL, OPEN_EXISTING, 0, NULL);

if(comport == INVALID_HANDLE_VALUE)
{
    // Write exception code here
    connectionStatus = CONNECTION_STATUS_DISCONNECTED;
} 
```

当然，这也适用于小于 10 的 COM 端口。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-02T08:41:47.193

您需要在 COM 端口名称前添加“\\.\”，因此它应该类似于：

```
 CreateFileA("\\\\.\\COM10", ... ) 
```

来源：*[HOWTO：指定大于 COM9 的串行端口](http://support.microsoft.com/kb/115831)*

# regex - 在 .htaccess 中使用可变参数重定向并通过

> ID：13191778
> 
> 赞同：1
> 
> 时间：2012-11-02T08:32:33.597
> 
> 标签：regex, .htaccess, redirect

我无法确定正确的条目以放入我的 .htaccess 文件中。

我想做的是：

**1) 允许对某些文件类型的所有请求正常工作。（即 jpg|gif|png|css|js|ico）**

这将允许网页中包含的所有文件正常工作。

**2）所有对“登录”的请求都被重定向到登录页面，带有参数。例如**

```
/login
/Login        (different case)
/login/
/login/index.py
/login/scipt/index.py
/login?id=1&attr=foobar
/login/index.py?mode=1&attr=foobar?name=Billy
/login/scipt/index.py?index=999
/login/?anotherparam=value      (basically, the parameter list can vary) 
```

应该全部重定向到：

```
/login.py 
```

那些带有 GET 参数的，应该重定向到：

```
/login.py?(copied list of parameters without these brackets) 
```

**3) 其他所有内容都应重定向到根目录（即'/'），保留所有参数。例如**

```
/NotAPage.html
/NotAFolder/
/NotAFolder/NotAPage.html
/NotAPage.html?v=1&k=2
/NotAFolder/?a=2
/NotAFolder/NotAPage.html?a=99&b=55&c=99   (again, the parameter list can vary) 
```

应该全部重定向到：

```
/ 
```

那些带有 GET 参数的，应该重定向到：

```
/?(copied list of parameters without these brackets) 
```

* * *

到目前为止，我已经做到了这一点：

```
#Make PY (Python) files executable outside of CGI-BIN
AddHandler cgi-script .py
Options +ExecCGI

# Turn on URL rewriting engine
RewriteEngine On

# Allow these file types to pass through untouched
RewriteCond %{REQUEST_URI} !\.(jpg|gif|png|css|js|ico)$
# Redirect all other requests to index.py
RewriteRule (.*) index.py [L,PT] 
```

我相信，它正在让所有东西（除了后缀列表）重定向到 index.py，带有参数，但它还没有做我需要的一切。

谁能指出我正确的方向？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T19:03:56.857

```
AddHandler cgi-script .py
Options +ExecCGI

RewriteEngine On

RewriteCond %{REQUEST_URI} !\.(jpg|gif|png|css|js|ico)$ [NC]
RewriteCond %{REQUEST_URI} !^login [NC]
RewriteRule . index.py [QSA,PT]

RewriteCond %{REQUEST_URI} !\.(jpg|gif|png|css|js|ico)$ [NC]
RewriteCond %{REQUEST_URI} ^login [NC]
RewriteRule . login.py [QSA,PT] 
```

该`PT`标志暗示`L`标志：将停止重写以便将请求传递到下一个处理阶段。

请注意，该`PT`标志隐含在每个目录的上下文中，例如`<Directory>`节或`.htaccess`文件中。避免这种情况的唯一方法是重写为`-`.

# ruby-on-rails - 资产管道的主题支持

> ID：13191779
> 
> 赞同：4
> 
> 时间：2012-11-02T08:32:36.597
> 
> 标签：ruby-on-rails, ruby

我有以下项目结构：

```
/app
/config
/db
...
/themes
  /default
    /assets
      /images
      /stylesheets
      /...
    /views
      /...
  /theme1
   /assets
     /...
   /views
     /... 
```

默认情况下应使用“默认”主题:)。'theme1' - 应该覆盖任何，例如 logo.png 或 view (application.erb)。

它应该以这种方式工作：如果不存在，请尝试从“theme1”获取资产 - 从“默认”使用。

视图非常简单：

```
self.prepend_view_path ::ActionView::FileSystemResolver.new(theme_view_path_for(name))
self.prepend_view_path ::ActionView::FileSystemResolver.new(default_theme_path) 
```

但我无法用资产解决它。

```
config.assets.paths << "#{Rails.root}/themes/default/assets/stylesheets"
config.assets.paths << "#{Rails.root}/themes/default/assets/images"
config.assets.paths << "#{Rails.root}/themes/default/assets/javascript" 
```

这会像往常一样添加资产，例如可以使用 url 'assets/logo.png' 访问资产，但我需要一个前缀 - “assets/theme1/logo.png”。此外，如果“theme1”没有通过“assets/theme1/logo.png”url 覆盖 logo.png，则应该返回“默认”主题徽标。（类似于上面的视图）。

我已经尝试过themes_for_rails - 但它不适合，因为它们覆盖了整个资产结构（自己的服务控制器等）。

此外，能够挂钩资产解析会很棒，例如，当访问 logo1.png 时，应该可以使用我的控制器提供它并从数据库中返回它。

感谢您的任何建议，我会在完成后分享结果。

基里尔·萨雷金

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T18:08:55.723

默认情况下，第一级的文件夹将被 Rails 中的 Sprocket 忽略。您可以在默认应用程序中验证这一点，您会看到编译后的文件缺少初始的 javascripts/images/ 或 stylesheets/ 文件夹。

对您来说更好的结构是：

```
/themes
  /stylesheets
    /default
    /theme1
  /images
    /default
    /theme1 
```

然后像这样添加目录：

```
config.assets.paths << "#{Rails.root}/stylesheets"
config.assets.paths << "#{Rails.root}/images" 
```

想要引用主题中的文件？

```
= image_tag("#{theme_name}/background.png")
= stylesheet_tag("#{theme_name}/application.css") 
```

那应该行得通。

# jquery - 隐藏一个隐藏元素......有多糟糕？

> ID：13191783
> 
> 赞同：8
> 
> 时间：2012-11-02T08:32:55.043
> 
> 标签：jquery, hide

隐藏隐藏元素有多糟糕？

所以，假设元素`#myelement`是隐藏的，我做了一个`$('#element').hide()`. 那不好吗？我应该先检查它是否可见吗？

谢谢！

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-11-02T08:37:03.360

jQuery 检查元素是否可见并仅在可见时隐藏：[https ://github.com/jquery/jquery/blob/master/src/css.js#L78](https://github.com/jquery/jquery/blob/master/src/css.js#L78)

```
 } else if ( !values[ index ] && !isHidden( elem ) ) {
        jQuery._data( elem, "olddisplay", curCSS( elem, "display" ) );
    } 
```

因此，您不需要执行额外的检查。任何手动检查都会使性能（实际上是可读性）变差。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-02T08:47:21.453

如果可以选择

```
$("my-element").hide(); 
```

和

```
if(!$("my-element").is(":visible")) {
    $("my-element").hide();
}) 
```

为了可读性起见，仅使用第一行要简单得多（更好？）。jQuery 会检查你是否这样做。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T08:36:44.950

如果隐藏已经隐藏的元素，则不会发生任何事情。

它“坏”的唯一方法是它正在执行不需要执行的代码。

您可以使用 is() 检查它是否隐藏：

```
if(!$("my-element").is(":visible")) {
    $("my-element").hide();
}) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-02T08:43:53.960

仅`hiding`对于元素，您不需要检查该元素是否已经`hidden`存在，但是如果您有类似的情况，例如该元素是否显示，则执行其他操作，则可以使用

```
if ($('your-element').is(':hidden')) {
$('your-element').show();
} else {
//do something else
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-02T09:14:06.303

最好在隐藏元素之前检查元素的可见性。

```
 $('#element').hide(); 
```

它会在 Internet Explorer(IE9) 中引起一些问题。某些时间页面将无法正确加载。页面上会遗漏一些内容。

下面的代码要好得多。

```
if(!$("#myelement").is(":visible")) {
    $("#myelement").hide();
}) 
```

# haskell - Haskell Random 无法构造无限类型：a1 = IO a1

> ID：13191784
> 
> 赞同：4
> 
> 时间：2012-11-02T08:33:00.460
> 
> 标签：haskell, random, io

我想用 Haskell 生成一个包含 26 个随机整数的列表，总和为 301。我写了以下内容：

```
import System.Random

f 1 sum = [sum]
f n sum = m : (f (n-1) (sum-m))
    where m = randomRIO (0,sum) 
```

但它无法编译！我对IO感到困惑！

```
Occurs check: cannot construct the infinite type: a1 = IO a1
In the first argument of `(:)', namely `m'
In the expression: m : (f (n - 1) (sum - m))
In an equation for `f':
    f n sum
      = m : (f (n - 1) (sum - m))
      where
          m = randomRIO (0, sum) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-02T08:58:10.020

在这种情况下，错误消息有些令人困惑，但关键是您需要在`IO`monad 中工作，因为它使用`randomRIO`which is in `IO`，并且（根据设计）无法`IO`从非代码运行`IO`代码。

```
f 1 sum = return [sum]
f n sum = do
  x  <- randomRIO (0, sum)
  xs <- f (n - 1) (sum - x)
  return (x : xs) 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-02T09:15:20.213

除了锤子写的内容之外，如果您编写`f`函数所需的类型，错误消息会变得更加清晰：

```
f :: Int -> Int -> [Int]
f 1 sum = [sum]
f n sum = m : (f (n-1) (sum-m))
    where m = randomRIO (0,sum) 
```

给出错误：

```
Couldn't match expected type `Int' with actual type `IO Int'
    In the first argument of `(:)', namely `m'
    In the expression: m : (f (n - 1) (sum - m))
    In an equation for `f':
        f n sum
          = m : (f (n - 1) (sum - m))
          where
              m = randomRIO (0, sum)
Failed, modules loaded: none. 
```

这几乎可以准确地告诉您出了什么问题-即`m`具有类型`IO Int`而不是`Int`

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-11-02T17:52:42.437

正如其他人指出的那样，您的算法不会给出均匀分布的输出。

获得统一输出的一种简单方法是：

*   生成从到（含）`n-1`范围内的随机数`0``sum`
*   在随机数列表中插入`0`和`sum`
*   对结果列表进行排序
*   返回排序列表中连续值之间的差异列表

例子：

*   假设我们想要四个总和为 100 的整数，我们从 RNG 请求三个随机值，它给了我们`[72,33,43]`
*   我们插入`0`和`100`排序列表，给出`[0,33,43,72,100]`
*   我们计算差异`[33-0, 43-33, 72-43, 100-72]`
*   结果将是`[33,10,29,28]`

在哈斯克尔：

```
randomsWithSum :: (Num n, Ord n, Random n) => Int -> n -> IO [n]
randomsWithSum len sum =
    do b <- sequence $ take (len-1) $ repeat $ randomRIO (0,sum)
       let sb = sort (sum:b) in
           return $ zipWith (-) sb (0:sb) 
```

对于您的示例，您可以将其称为`randomsWithSum 26 (301::Int)`

这同样适用于浮点类型，例如`randomsWithSum 4 (1::Double)`

* * *

**编辑**交换了参数，因此`26 `randomsWithSum` 301`正如其名称所暗示的那样。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-02T11:06:08.173

根据 demas 的评论，我试图调整你的算法。我们可能希望每个`n`数字都与所有其他数字“相同”，因此我们将尝试直到得到正确的总和。也许有更好的方法。

```
-- f 0 rng = return []
-- f n rng = randomRIO (0,rng) >>= (\x-> fmap (x:) $ f (n-1) rng)

g n sumval = 
  let s = 2*sumval `div` n  -- expected value upto z is probably z/2,
      h i = do              --              if all are equally likely
              xs <- sequence $ replicate n (randomRIO (0,s))
              if sum xs == sumval 
                then return (xs, i)       -- i is number of attempts
                else h (i+1)
  in h 1

-- test:
Prelude System.Random> g 26 301
([15,23,15,0,13,8,23,11,13,19,5,2,10,19,4,8,3,9,19,16,8,16,18,4,20,0],2)
Prelude System.Random> g 26 301
([20,14,3,6,15,21,7,9,2,23,22,13,2,0,22,9,4,1,15,10,20,7,18,1,18,19],12)
Prelude System.Random> g 26 301
([4,3,4,14,10,16,20,11,19,15,23,18,10,18,12,7,3,8,4,9,11,5,17,4,20,16],44)
Prelude System.Random> g 26 301
([6,6,22,1,5,14,15,21,12,2,4,20,4,9,9,9,23,10,17,19,22,0,10,14,6,21],34)
Prelude System.Random> g 26 301
([20,9,3,1,17,22,10,14,16,16,18,13,15,7,6,3,2,23,13,13,17,18,2,2,8,13],169) 
```

# java - 如何使用 solrj 获取 solr termVectorComponent 结果

> ID：13191787
> 
> 赞同：0
> 
> 时间：2012-11-02T08:33:11.210
> 
> 标签：java, solr, solrj, tf-idf

我正在尝试编写此查询；

```
localhost/solr/tvrh/?q=queryString&version=2.2&indent=on&tv.tf_idf=true 
```

使用 solrj。

我想得到下面的 tf 和 idf 值；

```
<lst name="doc-40797">
<str name="uniqueKey">test20508</str>
<lst name="content">
<lst name="98">
<double name="tf-idf">0.002304147465437788</double>
</lst>
<lst name="apaan">
<double name="tf-idf">0.16666666666666666</double>
</lst>
<lst name="aryadea">
<        double name="tf-idf">1.0</double>
</lst>
<lst name="chelsea">
<double name="tf-idf">0.005208333333333333</double>
</lst>
<lst name="gua">
<double name="tf-idf">0.05555555555555555</double>
</lst>
<lst name="osa">
<double name="tf-idf">0.004662004662004662</double>
</lst>
<lst name="pegangı">
<double name="tf-idf">0.5</double>
</lst>
<lst name="rt">
<double name="tf-idf">1.4009526478005044E-4</double>
</lst>
<lst name="vs">
<double name="tf-idf">0.0030581039755351682</double>
</lst>
</lst>
</lst>
<str name="uniqueKeyFieldName">id</str>
<lst name="doc-40746">
<str name="uniqueKey">test20457</str>
<lst name="content">
<lst name="075">
<double name="tf-idf">0.027777777777777776</double>
</lst>
<lst name="9">
<double name="tf-idf">9.76657876745776E-5</double>
</lst>
<lst name="atlético">
<double name="tf-idf">0.045454545454545456</double>
</lst>
<lst name="co">
<double name="tf-idf">1.1130899376669635E-4</double>
</lst>
<lst name="http">
<double name="tf-idf">1.034233116144379E-4</double>
</lst>
<lst name="jorna">
<double name="tf-idf">0.25</double>
</lst>
<lst name="lh">
<double name="tf-idf">0.07142857142857142</double>
</lst>
<lst name="ngn">
<double name="tf-idf">0.5</double>
</lst>
<lst name="osa">
<double name="tf-idf">0.004662004662004662</double>
</lst>
<lst name="puntuaciones">
<double name="tf-idf">1.0</double>
</lst>
<lst name="t">
<double name="tf-idf">7.038783698176955E-5</double>
</lst>
<lst name="vavelco">
<double name="tf-idf">0.2</double>
</lst>
<lst name="vía">
<double name="tf-idf">0.03125</double>
</lst>
</lst>
</lst>
<str name="uniqueKeyFieldName">id</str> 
```

到现在;

```
 SolrQuery query = new SolrQuery(queryString);
        query.setQueryType("/tvrh");
        query.setParam("tv.tf_idf", true);
        QueryResponse response = server.query(query); 
```

我已经编写了查询，我认为我需要 QueryResponse 对象，我认为这是真的。但我不知道接下来使用`solrj`.

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T11:51:29.753

你几乎在那里：

```
QueryResponse qr = server.query(query);
TermsResponse resp = qr.getTermsResponse(); 
```

TermsResponse对象包含术语向量分量输出[。](http://lucene.apache.org/solr/4_0_0/solr-solrj/org/apache/solr/client/solrj/response/TermsResponse.html)不确定它是否包含所有信息。

# javascript - 在按键 SlickGrid 上调用自定义方法

> ID：13191790
> 
> 赞同：0
> 
> 时间：2012-11-02T08:33:48.923
> 
> 标签：javascript, jquery, slickgrid

我正在使用 slickgrid 来显示某些数据。如何将自定义方法添加到 slickgrid 行？

例如：我想在按下回车键时打开带有当前行数据的模式框。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-02T17:00:59.313

您可以订阅`onKeyDown`网格中的事件来检查这一点。就像是：

```
grid.onKeyDown.subscribe(function(e) {
   if (e.which == 13) {
      // open modal window
   }
}); 
```

让我知道这是否有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T09:36:30.187

如果我很好地满足了您的要求，请尝试此代码，

```
createInvoiceDetailsTable : function () {
    var gridOptions, gridColumns;

    gridColumns = [
        {id:'ean_code', name:'EAN', field:'ean_code', width:125, cssClass: 'grid-cell'},
        {id:'description', name:'Product Description', field:'description', width:250, formatter:opr.invoice.productGridDescriptionFormatter, cssClass: 'grid-cell'},
        {id:'qty', name:'Qty', field:'qty', width:40, , formatter:UpdateQtyBtnFormatter},
    ];

    gridOptions = {
        editable: true,
        autoEdit: true,
        enableAddRow: false,
        enableCellNavigation: true,
        asyncEditorLoading: false,
        enableColumnReorder: false,
        rowHeight: 35
    };

    dataView = new Slick.Data.DataView();
    invoiceProductGrid = new Slick.Grid($('#invoice_details_grid_div'), dataView , gridColumns, gridOptions);

    function UpdateQtyBtnFormatter (row, cell, value, columnDef, dataContext) {
        return '<input type="button" style="width:30px; height:30px;" class="update_invoice_product_qty" id="' + value + '" value="Q"/>';
}
} 
```

使用此类`update_invoice_product_qty`名称，您可以编写事件。

如果这不是您的要求，请分享您之前尝试过的一些代码或程序。

# android - 打开设备上安装的任何应用程序时执行任务？

> ID：13191792
> 
> 赞同：1
> 
> 时间：2012-11-02T08:33:50.617
> 
> 标签：android, service, broadcastreceiver

我希望过滤设备上安装的应用程序，以便使用该设备的人无法打开任何应用程序，而不是几个基本应用程序......或者我希望当他/她打开任何应用程序密码时会被询问...... ..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:44:06.943

这是一个更底层的任务。我想您将不得不root设备，或者构建自己的系统映像并将其安装在您的设备上。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-28T09:45:58.820

通过在后台读取“Logcat”日志，我们可以检测到其他应用程序的启动；作为任何锁定应用程序的工作。

# ruby-on-rails - 嵌套资源和限制创建的路由 :only 和 :except

> ID：13191798
> 
> 赞同：11
> 
> 时间：2012-11-02T08:34:32.657
> 
> 标签：ruby-on-rails, ruby-on-rails-3, routes, nested-resources, nested-routes

大家好，

有人可以帮助我使用嵌套资源及其最佳实践。

我想将我的`:events`路线限制为只有`:show`and `:index`，这是正确的做法吗？

```
resources :events do
    resources :registrations, :except => [:index]
end

resources :events, :only => [:index, :show] 
```

这是最好的方式还是更多 Rubyist 处理此类事情的方式？我已经添加了两行，`resources :events`或者有没有办法将它们全部组合在一个块中？

提前致谢。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-11-02T08:45:32.380

是的。您可以将其组合在一个块中，例如：

```
resources :events, only: [:index, :show] do
    resources :registrations, except: :index
end 
```

# mysql - 如何在将标准日期存储为（'Ymd H：i：s'）的mysql数据库中搜索当前日期？

> ID：13191799
> 
> 赞同：1
> 
> 时间：2012-11-02T08:34:42.863
> 
> 标签：mysql, date, select

我将标准日期（使用这种格式： ('Ymd H:i:s') ）存储在 mysql 数据库中，现在我想选择将此标准日期与当前日期匹配的记录，换句话说，我想选择 standard_date 所在的行字段显示今天的日期。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:37:19.210

用于`DATE()`剥离日期时间列中的时间。`CURDATE()`返回当前日期。

```
SELECT *
FROM   tableName
WHERE  DATE(standard_date) = CURDATE() 
```

*   [**SQLFiddle 演示**（*DATE() 与没有 DATE()*）](http://sqlfiddle.com/#!2/8a943/4)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:37:09.343

只需使用：

```
select * from mytable where date(standard_date) = curdate(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T08:37:17.033

```
select * from tablename where date = CURDATE() 
```

> CURDATE() 返回当前日期。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-02T08:38:11.893

如果您使用 DATE 类型，请使用[CURDATE()](http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_curdate)函数 -

```
SELECT * FROM table WHERE date_field = CURDATE() 
```

如果您使用 DATETIME 类型，请使用 CURDATE() 函数和[DATE()](http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_date)函数从日期时间值获取日期部分 -

```
SELECT * FROM table WHERE DATE(date_time_field) = CURDATE() 
```

# android - 如何将 MultiAutoCompleteTextView 中的结果设置为来自 Web 源而不是静态或 DB 结果？

> ID：13191804
> 
> 赞同：3
> 
> 时间：2012-11-02T08:34:54.477
> 
> 标签：android, android-widget, autocompletetextview

我有一个带有 MultiAutoCompleteTextView 的应用程序，我需要将结果设置为来自 Web 源 JSON/XML 或任何格式，我该如何执行它，或者更清楚我在创建自己的自定义适配器时需要更改什么自动完成？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T09:26:41.330

好的，我在这里找到了一种方法：

这是我的布局：

activity_main.xml

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <Button
        android:id="@+id/button1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="135dp"
        android:text="Button" />

    <MultiAutoCompleteTextView
        android:id="@+id/multiAutoCompleteTextView1"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="5dp"
        android:completionThreshold="1"
        android:ems="10" >

        <requestFocus />
    </MultiAutoCompleteTextView>

</RelativeLayout> 
```

这是主要活动，这是从linkedin JSON获取技能的示例

```
import android.os.AsyncTask;
import android.os.Bundle;
import android.app.Activity;
import android.text.Editable;
import android.text.TextWatcher;
import android.util.Log;
import android.view.Menu;
import android.view.View;
import android.widget.MultiAutoCompleteTextView;
import android.widget.Button;
import android.widget.Toast;
import android.widget.ArrayAdapter;
import java.util.ArrayList;
import java.util.List;

import org.apache.http.client.HttpClient;
import org.apache.http.client.ResponseHandler;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.BasicResponseHandler;
import org.apache.http.impl.client.DefaultHttpClient;
import org.json.JSONArray;
import org.json.JSONObject;

public class MainActivity extends Activity {

    public MultiAutoCompleteTextView MultiAutocomplete1;
    public String data;
    public List<String> suggest;
    public ArrayAdapter<String> aAdapter;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        suggest = new ArrayList<String>();
        // multiAutoCompleteTextView1
        MultiAutocomplete1 = (MultiAutoCompleteTextView) findViewById(R.id.multiAutoCompleteTextView1);

        // MultiAutocomplete1.setAdapter(adapter);
        MultiAutocomplete1
                .setTokenizer(new MultiAutoCompleteTextView.CommaTokenizer());

        MultiAutocomplete1.addTextChangedListener(new TextWatcher() {

            public void afterTextChanged(Editable editable) {
                // TODO Auto-generated method stub

            }

            public void beforeTextChanged(CharSequence s, int start, int count,
                    int after) {
                // TODO Auto-generated method stub

            }

            public void onTextChanged(CharSequence s, int start, int before,
                    int count) {
                String newText = s.toString();
                String[] parts = newText.split(",");
                if(parts[parts.length -1].length() > 1){                    
                    new getJson().execute( parts[parts.length -1] );
                }
            }

        });

        // button1
        final Button btn1 = (Button) findViewById(R.id.button1);
        btn1.setOnClickListener(new View.OnClickListener() {
            public void onClick(View v) {
                Toast.makeText(
                        MainActivity.this,
                        String.valueOf("Your Input : "
                                + MultiAutocomplete1.getText().toString()),
                        Toast.LENGTH_SHORT).show();
            }
        });
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

    class getJson extends AsyncTask<String, String, String> {

        @Override
        protected String doInBackground(String... key) {
            String newText = key[0];
            newText = newText.trim();
            newText = newText.replace(" ", "+");
            try {
                HttpClient hClient = new DefaultHttpClient();
                HttpGet hGet = new HttpGet("http://www.linkedin.com/ta/skill?query="+newText);

                ResponseHandler<String> rHandler = new BasicResponseHandler();
                data = hClient.execute(hGet, rHandler);
                suggest = new ArrayList<String>();
                JSONObject jobj = new JSONObject(data);
                JSONArray jArray = jobj.getJSONArray("resultList");
                for (int i = 0; i < jArray.length(); i++) {
                    String SuggestKey = jArray.getJSONObject(i).getString("displayName");
                    suggest.add(SuggestKey);
                }

            } catch (Exception e) {
                Log.w("Error", e.getMessage());
            }
            runOnUiThread(new Runnable() {
                public void run() {
                    aAdapter = new ArrayAdapter<String>(
                            getApplicationContext(),
                            android.R.layout.simple_dropdown_item_1line,
                            suggest);
                    MultiAutocomplete1.setAdapter(aAdapter);
                    aAdapter.notifyDataSetChanged();
                }
            });

            return null;
        }

    }

} 
```

# javascript - 如何更新我的 MVC 3 站点中的图像？

> ID：13191806
> 
> 赞同：3
> 
> 时间：2012-11-02T08:34:57.650
> 
> 标签：javascript, jquery, asp.net-mvc-3, image, pageload

我的 MVC3 网站中有图像，它们必须每 30 秒更新一次。因为图像每 30 秒更新一次即时服务器。所以我试图用 JQuery 来更新它，比如：

```
<div id="galerie">
    <ul>
        <li>
            <img id = "img1" class = "img1" alt="Image 7" src="@Url.Content("Content/Images/Image_7.jpg")"/>
            Image 7
        </li>
        <li>
            <img id = "img2" class = "img2" alt="Image 5" src="@Url.Content("Content/Images/Image_5.jpg")"/>
            Image 5
        </li>

</div> 

<script type="text/javascript"> 
     function UpdateImages() { 
         $.get('@Url.Action("Details","Display", new { id = "test" } )', function (data) {
             $('#main').replaceWith(data);
         }); 
     } 
    function myFunction() {
        setInterval(UpdateImages, 30000);
    }
</script> 
```

但问题是图像仍未更新。他们需要再次页面加载。不是吗？所以我想知道如何用 JS 触发 Pageload 事件？或者有没有其他解决方案？谢谢你

马立克布尔库特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T17:57:59.223

众所周知，JQuery.get() 可以缓存数据。考虑改用 JQuery.ajax() 并设置 cache: false。使用 .ajax()，您将可以更好地控制您的代码。

```
function UpdateImages() { 
    $.ajax({
        type: "GET",
        url: '@Url.Action("Details","Display")',
        data: 'id=test',
        cache: false,
        success: function(data){
            $('#main').replaceWith(data);
        },
        error: function(data){
            alert("error");
        }
    });
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T08:48:28.783

如果图像的 URL 没有改变，浏览器将假定它在缓存中的图像仍然是正确的。

在 JS 中触发重新加载很容易：

```
document.location.href = document.location.href; 
```

对 href 属性的每次更改都会触发页面重新加载，即使该值没有更改。

为了确保图像实际上再次从服务器加载，您可能必须随它们一起发送适当的 Cache-Headers。

或者，如果您不希望页面重新加载而只是替换图像，则可以将随机参数附加到图像 URL：`../image1.jpg?p=121799595`这将强制浏览器查询服务器。

**编辑**：或者，您可以通过 MVC 操作传递图像，以确保每次都获得新副本：

```
public FileStreamResult StreamImage(string fileName)
{
  // todo: Check whether the file actually exists and is an image
  string path = AppDomain.CurrentDomain.BaseDirectory + "images/";
  return File(new FileStream(path + fileName, FileMode.Open), "image/jpeg", fileName);
} 
```

# html - Yii 框架 - 渲染没有表单标签的 CActiveForm

> ID：13191807
> 
> 赞同：1
> 
> 时间：2012-11-02T08:35:19.413
> 
> 标签：html, ajax, forms, yii

在我的下一个应用程序中，我想通过 AJAX 将 CActiveForms 动态加载到其他 CActiveForms 中。

因此，我创建了不同的表单视图，如下所示：

```
$form = $this->beginWidget('CActiveForm', [...] 
```

但它总是呈现标签。这导致嵌套形式：

```
<form id="form1">
    <form id="form2">
    </form>
</form> 
```

如何防止 CActiveForm 为 form2 呈现表单标签？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:51:31.567

我认为`CActiveForm`s 本身不可能。但是，您可以创建自己的小部件，它继承自它。然后就可以重写`init()`and`run()`方法，`echo CHtml::endForm();`去掉340`echo CHtml::beginForm`行和328行的on。

但是，您的结果可能是混合的，很多 Javascript 和样式等依赖于具有某些设置的父表单等。

# android - 插入SQLite数据库android

> ID：13191816
> 
> 赞同：13
> 
> 时间：2012-11-02T08:35:59.600
> 
> 标签：android, insert, android-sqlite

我是安卓新手。我在数据库中的插入语句遇到了一些问题，当我运行应用程序时，值没有被插入。请有人可以帮助..

```
public class DatabaseAdapter extends SQLiteOpenHelper {
// Database attributes
public static final String DB_NAME = "MoneyManagerSystemTr";
public static final int DB_VERSION = 1;

// Table attributes

public static final String TABLE_ACCOUNT = "account_table";

//Account Table
public static final String KEY_BANKNAME ="bankname";
public static final String KEY_TYPE = "type";
public static final String KEY_ACCNUM = "accnum";
public static final String KEY_BALANCE = "balance";
public static final String KEY_EXPIRYDATE = "expirydate";

@Override
public void onCreate(SQLiteDatabase db) {

    String AccountTable = "create table if not exists " + TABLE_ACCOUNT + " ( " + BaseColumns._ID + " integer primary key autoincrement, " 
            + KEY_BANKNAME + " text not null, "
            + KEY_TYPE + " text, "
            + KEY_ACCNUM + " text, "
            + KEY_BALANCE + " text, "
            + KEY_EXPIRYDATE + " text);";

    db.execSQL(AccountTable);

String ROW1 = "INSERT INTO " + TABLE_ACCOUNT + " Values ('Cash','','',0, '');";
    db.execSQL(ROW1);

    String ROW2 = "INSERT INTO " + TABLE_ACCOUNT + " Values ('Bank Account','','',0, '');";
    db.execSQL(ROW2);

    String ROW3 = "INSERT INTO " + TABLE_ACCOUNT + " Values ('Credit Card','','',0, '');";
    db.execSQL(ROW3); 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-11-02T08:42:29.603

您可以使用`ContentValues`插入到您的数据库中。

```
SQLiteDatabase db = this.getWritableDatabase();
ContentValues values = new ContentValues();
values.put(COL_NAME, VALUE); 
values.put(COL_NAME, VALUE);

// Inserting Row
db.insert(YOUR_TABLE, null, values); 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-11-02T08:42:20.823

从您的插入语句中删除分号并在 0 附近添加引号：

```
String ROW1 = "INSERT INTO " + TABLE_ACCOUNT + " ("
              + KEY_BANKNAME + ", " + KEY_TYPE + ", "
              + KEY_ACCNUM + ", " + KEY_BALANCE + ", "
              + KEY_EXPIRYDATE + ") Values ('Cash', '', '', '0', '')";
db.execSQL(ROW1); 
```

更好的是，请注意[execSQL()](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#execSQL%28java.lang.String%29)的建议并改用[insert()](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#insert%28java.lang.String,%20java.lang.String,%20android.content.ContentValues%29)。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2014-09-02T11:17:10.063

1) 数据库助手

```
public class DatabaseHelper extends SQLiteOpenHelper {
public static final String TAG = "DatabaseHelper";
public static final String DATABASE_NAME = "test.db";

public static final String TABLE_NAME_2 = "updates";

private Context context;
public static final String Trigger = "fk_insert_state";
public static final int DATABASE_VERSION = 2;

public static final String TABLE_2_CREATE = "Create table "
        + TABLE_NAME_2
        + " (_id integer primary key autoincrement, w_id text, title text, des text, date_text text, image_url text, video_url text,link text, con_type text, con_source text, timestamp integer, UNIQUE (_id) ON CONFLICT REPLACE)";

private static DatabaseHelper databasehelper;

public static DatabaseHelper getInstance(Context context) {
    if (databasehelper == null)
        databasehelper = new DatabaseHelper(context);
    return databasehelper;

}

public DatabaseHelper(Context context) {
    super(context, DATABASE_NAME, null, DATABASE_VERSION);
    this.context = context;

}

@Override
public void onCreate(SQLiteDatabase db) {

    db.execSQL(TABLE_2_CREATE);

}

@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
    Util.customLog("Upgrade "
            + "Database has been updraded but we have'nt do anything");
}

 } 
```

2)数据库操作

```
 import android.content.ContentValues;

 public interface DatabaseOperation {
 public long insert(Object object);
 public int update(Object object);
 public int delete(Object object);
 ContentValues getContentValues(Object object);
 } 
```

3)数据类

```
public class UpdateData {

private int _id;
private String w_id;
private long timestamp;

public UpdateData(int _id, String w_id,  long timestamp) {
    super();
    this._id = _id;
    this.w_id = w_id;
    this.timestamp = timestamp;

}

public String getW_id() {
    return w_id;
}

public void setW_id(String w_id) {
    this.w_id = w_id;
}

public long getTimestamp() {
    return timestamp;
}

public void setTimestamp(long timestamp) {
    this.timestamp = timestamp;
}

public UpdateData() {
    super();
}

public String TableName() {
    return "updates";
}

public int get_id() {
    return _id;
}

public void set_id(int _id) {
    this._id = _id;
}

} 
```

4)DataImpl

```
 import android.content.ContentValues;
 import android.content.Context;
 import android.database.Cursor;
 import android.database.sqlite.SQLiteDatabase;

public class UpdateImpl implements DatabaseOperation {
SQLiteDatabase database;

public UpdateImpl(Context context) {
    DatabaseHelper databasehelper = DatabaseHelper.getInstance(context);
    database = databasehelper.getWritableDatabase();

}

@Override
public long insert(Object object) {
    UpdateData table = (UpdateData) object;
    long result = database.insert(table.TableName(), null,
            this.getContentValues(object));
    return result;
}

public void insertAll(ArrayList<UpdateData> objects){
    database.beginTransaction();
    for (UpdateData object : objects) {
        UpdateData table = object;
        database.insert(table.TableName(), null,
                this.getContentValues(object));
    }
    database.setTransactionSuccessful();
    database.endTransaction();
}

@Override
public int update(Object object) {
    UpdateData table = (UpdateData) object;
    String[] whereArgs = { String.valueOf(table.get_id()) };
    return update(object, "_id = ?", whereArgs);
}

public int update(Object object, String whereClause, String[] whereArgs) {
    UpdateData table = (UpdateData) object;
    int result = database.update(table.TableName(),
            this.getContentValues(object), whereClause, whereArgs);
    Util.customLog("Update Result - " + result);
    return result;
}

@Override
public int delete(Object object) {
    UpdateData table = (UpdateData) object;
    String[] whereArgs = { String.valueOf(table.get_id()) };
    int result = database.delete(table.TableName(), "_id = ?", whereArgs);
    Util.customLog("Delete Result - " + result);
    return result;
}

@Override
public ContentValues getContentValues(Object object) {
    UpdateData table = (UpdateData) object;
    ContentValues contentValues = new ContentValues();
    // contentValues.put("_id", table.get_id());
    contentValues.put("w_id", table.getW_id());
    contentValues.put("timestamp", table.getTimestamp());

    return contentValues;

}

public List getAll() {
    List<UpdateData> itemList = new ArrayList<UpdateData>();

    String[] columnArray = { "_id,w_id , timestamp" };
    Cursor cursor = database.query(DatabaseHelper.TABLE_NAME_2,
            columnArray, "con_type=" + "'"+type+"' AND con_source="+"'"+source+"'", null, null, null, "timestamp DESC", null);

    if (cursor.getCount() > 0) {
        cursor.moveToFirst();
        do {
            UpdateData table = new UpdateData();
            table.set_id(cursor.getInt(cursor.getColumnIndex("_id")));
            table.setW_id(cursor.getString(cursor.getColumnIndex("w_id")));
            table.setTimestamp(cursor.getLong(cursor
                    .getColumnIndex("timestamp")));

            itemList.add(table);
        } while (cursor.moveToNext());
        cursor.close();
    } else {
        Util.customLog("getAll - No value found");
    }
    return itemList;
}
public void deletess(String Id)
{
    try {

        database.delete(DatabaseHelper.TABLE_NAME_2, "cat_id="+Id, null);
    }
    catch(Exception e) {

    }
}

public int getCount_CatNomiid(String w_id,String nomi_id) {
    int res = 0;
    String[] columnArray = { "_id, cat_id, nomi_id ,status" };
    Cursor cursor = database.query(DatabaseHelper.TABLE_NAME_2,
            columnArray, "cat_id=" + "'" + w_id + "' AND nomi_id=" + "'"+ nomi_id + "'", null, null, null,
            null);
    if ((cursor != null) && (cursor.getCount() > 0)) {
        cursor.moveToFirst();
        res = res + 1;
    } else {
        res = 0;
    }
    if (cursor != null) {
        cursor.close();
    }
    return cursor.getCount();
}

public String deletestatus(String cat_id, String nomi_id) {
    String result = "Suceesfully Updated Status of notify";
    String qry = "'" + cat_id + "' AND nomi_id=" + "'"+ nomi_id + "'";
    Cursor cursor = database
            .rawQuery("delete " + DatabaseHelper.TABLE_NAME_2 + ""
                    + " where cat_id=" + qry, null);
    if (cursor.getCount() > 0) {
        cursor.moveToFirst();
    }
    cursor.close();
    return result;
}

public String updatestatus(int id) {
    String result = "Suceesfully Updated Status of notify";
    String qry = "'" + id + "'";
    Cursor cursor = database.rawQuery("update "
            + DatabaseHelper.TABLE_NAME_2 + " SET status=" + "'" + "Y" + "'"
            + " where _id=" + qry, null);
    Util.customLog("updatequery: " + "update "
            + DatabaseHelper.TABLE_NAME_2 + " SET status=" + "Y"
            + " where _id=" + id);
    if (cursor.getCount() > 0) {
        cursor.moveToFirst();
    }
    cursor.close();
    return result;
}

public void deleteAll() {
    try {
        database.delete(DatabaseHelper.TABLE_NAME_2, null, null);
        database.delete("sqlite_sequence", null, null);
    } catch (Exception e) {
        e.printStackTrace();
    }
}

}

public String updatedata2(ContentValues cv, int pass_id) {
    String result = "Successfully Updated Status of notify";

    String qry = "'" + pass_id + "'";

    database.update(DatabaseHelper.TABLE_NAME_02, cv, "w_id" + "=" + qry,
            null);

    return result;
}

 ContentValues cv = new ContentValues();
                cv.put("is_like", "N");
                AlbumsPhotosImpl albmImpl = new AlbumsPhotosImpl(
                        FullPhotoAlbumActivity.this);
                albmImpl.updatedata2(cv,
                        Integer.parseInt(photo_id_array.get(

                        position).toString())); 
```

5）Web服务响应

```
 protected class GetJury extends AsyncTask<String, String, String> {

    @Override
    protected void onPreExecute() {
        super.onPreExecute();

        // pDialog.setMessage("Please wait...");
        // pDialog.setIndeterminate(false);
        // pDialog.setCancelable(true);
        // pDialog.show();
    }

    @Override
    protected String doInBackground(String... params) {

        String android_id = Secure.getString(getContentResolver(),
                Secure.ANDROID_ID);
        String w = "";

        HttpClient httpclient = new DefaultHttpClient();

        HttpPost httppost = new HttpPost(Constant.SERVER);

        try {

            List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(
                    2);

            nameValuePairs.add(new BasicNameValuePair("f", "functionname"));
             nameValuePairs.add(new BasicNameValuePair("xyz",
             xyz));

            httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

            HttpResponse response1 = httpclient.execute(httppost);

            w = EntityUtils.toString(response1.getEntity());

            // pDialog.dismiss();

        } catch (Exception e) {

            Log.v("error", e + "");
            e.printStackTrace();
        }

        return w;
    }

    @Override
    protected void onPostExecute(String jsonText) {

        try {
            long time = System.currentTimeMillis();
            Log.i("TIME_S", time + "");
            JSONObject jobject = new JSONObject(jsonText);

            String status = jobject.getString("status");

            if (status.equals("1")) {

               JSONArray event_json2 = new JSONArray();
                try {
                    event_json2 = jobject.getJSONArray("result");
                } catch (Exception e) {

                }

                // JSONObject jsonObject = jobject.getJSONObject("result");

                //for (int j = 0; j < event_json2.length(); j++) {

                //  JSONObject jsonObject = event_json2.getJSONObject(j);

                //}

                JSONObject event_json_res = new JSONObject();
                try {
                    event_json_res = jobject.getJSONObject("results");
                } catch (Exception e) {

                }

                JSONObject event_json_votedata = new JSONObject();
                try {
                    event_json_votedata = event_json_res.getJSONObject("votedata");
                } catch (Exception e) {

                }   

                UpdateImpl updateimpl = new UpdateImpl(SplaceActivity.this);
                updateimpl.deleteAll();

                Log.i("TIME_DB_RESET_DONE", time + "");
                // updates
                ArrayList<UpdateData> updateDataToBeInserted = new ArrayList<UpdateData>();
                Iterator<String> keys = event_json_updates.keys();
                while (keys.hasNext()) {

                    String i = keys.next();
                    JSONObject jsona = event_json_updates.getJSONObject(i);

                    String timestamp = jsona.getString("timestamp");

                    updateDataToBeInserted.add(new UpdateData(0, "0",Long.parseLong(timestamp)));

                }
                updateimpl.insertAll(updateDataToBeInserted);

            } else if (status.equals("0")) {

                // Util.show_error_dialog(LoginActivity.this,
                // "Username and Password does not match");

                // Util.show_error_dialog(context,
                // "Oops, something went wrong. Please try again after sometime.");
            }

            // pDialog.dismiss();

        } catch (Exception e) {

            Log.v("error", e + "");
            // pDialog.dismiss();
            Log.e("GetBearerTokenTask", "Error:" + e.getMessage());
        }
    }
    } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-02T08:38:58.033

更改此行。**在引号中给出 0**

您声明`KEY_BALANCE`为文本，但您在此字段中输入整数值。那就是你得到错误

```
 public long insert_table(String BANKNAME,String TYPE,
            String ACCNUM, String BALANCE,
            String EXPIRYDATE) {

    this.insertStmt.bindString(1, BANKNAME);
    this.insertStmt.bindString(2, TYPE);
    this.insertStmt.bindString(3, ACCNUM);
    this.insertStmt.bindString(4, BALANCE);
    this.insertStmt.bindString(5, EXPIRYDATE);

    return this.insertStmt.executeInsert();

    } 
```

在您尝试插入值的地方调用此方法

```
DataHelper dh = new DataHelper(this);
dh.insert_table("Bank Account","","","0",""); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-07-30T16:24:57.683

尝试理解这段代码将帮助您更好地理解：

```
package com.example.lalit.myapplication;

import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import android.text.method.HideReturnsTransformationMethod;
import android.util.Log;
import android.widget.Toast;

import java.sql.PreparedStatement;
import java.sql.SQLException;
import java.util.Currency;

/**
 * Created by lalit on 7/30/2015.
 */
public class HotOrNot {

  public final static String KEY_ROWID="_id";
    public final static String KEY_NAME="persion_name";
    public final static String KEY_HOTNESS="persion_hotness";
    public final static String KEY_SUB="OS";

    public final static String DATABASE_NAME="HotOrNotdb";
    public final static String DATABASE_TABLE="peopleTable";
    public final static int DATABASE_VERSION=1;

    public static Dbhelper ourHelper;
    public final Context ourContext;
    public SQLiteDatabase ourDatabase;

    private static final String DATABASE_CREATE = "create table peopleTable(_id integer primary key autoincrement, "
            + "persion_name text not null, persion_hotness text not null);";

    public class Dbhelper extends SQLiteOpenHelper{
         public Dbhelper(Context context)
         {
             super(context,DATABASE_NAME,null,DATABASE_VERSION);
         }

        @Override
        public void onCreate(SQLiteDatabase db) {
            db.execSQL(DATABASE_CREATE);

         /*   db.execSQL("CREATE TABLE" + DATABASE_NAME +"("+
             KEY_ROWID +"INTEGER PRIMARY KEY AUTOINCREMENT,"+
             KEY_NAME  +"TEXT NOT NULL,"+
             KEY_HOTNESS+"TEXT NOT NULL);"*/

             //);

        }

        @Override
        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
             db.execSQL("DROP TABLE IF EXIST "+DATABASE_TABLE);
              onCreate(db);

        }

    }
    public HotOrNot(Context c)
    {
        ourContext=c;
    }

    public HotOrNot open() throws SQLException
    {
        ourHelper=new Dbhelper(ourContext);
        ourDatabase=ourHelper.getWritableDatabase();
        return this;
    }
   public void close()
   {
        ourHelper.close();
   }
 public long createEntry(String name,String hotness)
 {
     ourDatabase.execSQL("INSERT INTO peopleTable (persion_name,persion_hotness) VALUES('Lalit','Kushwah')");
     ContentValues cv=new ContentValues();
      cv.put(KEY_NAME,name);
      cv.put(KEY_HOTNESS,hotness);

      return ourDatabase.insert(DATABASE_TABLE,null,cv);

 }
    public String getData()
    {
        String[] col=new String[]{KEY_ROWID,KEY_NAME,KEY_HOTNESS};
        Cursor c=ourDatabase.query(DATABASE_TABLE,col,null,null,null,null,null);
        String result="";
        int irow=c.getColumnIndex(KEY_ROWID);
        int iname=c.getColumnIndex(KEY_NAME);
        int ihot=c.getColumnIndex(KEY_HOTNESS);

        for(c.moveToFirst();!c.isAfterLast();c.moveToNext())
        {
           result=result+c.getString(irow)+"  "+c.getString(iname)+"  "+c.getString(ihot)+ "\n";

        }

        return result;
    }
} 
```

# iphone - IOS 应用程序中的 Revmob 广告

> ID：13191819
> 
> 赞同：2
> 
> 时间：2012-11-02T08:36:14.027
> 
> 标签：iphone, integration, ios, revmob

我正在尝试将 Revmob Ads 集成到我的 iPhone 应用程序中，但是在两到三次之后，我在控制台中收到超时消息，之后即使我将 NSlog 放在委托函数中也没有任何反应。

谁能帮我解决超时问题？我正在使用全屏广告。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T17:39:21.153

通常，由于您的设备缺少广告或与他们的服务器连接超时，您不会收到任何广告。

如果您的设备没有广告，您可以强制使用[测试模式](http://sdk.revmob.com/ios#testing-mode)显示广告：

```
[RevMobAds startSessionWithAppID:@"your AppID"];
[RevMobAds session].testingMode = RevMobAdsTestingModeWithAds; 
```

如果您的问题首先是超时，您需要检查您的互联网连接是否正常。这种超时是一个临时问题，应该会在几分钟内消失，如果此问题仍然存在，我建议联系 revmob。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-26T12:01:54.890

```
[RevMobAds startSessionWithAppID:@"Your Id"];
[RevMobAds session].testingMode = RevMobAdsTestingModeWithAds; 
```

# php - 当服务器落后于 HTTP 身份验证时与 DynamoDB API 通信

> ID：13191820
> 
> 赞同：0
> 
> 时间：2012-11-02T08:36:20.050
> 
> 标签：php, authentication, amazon-web-services, amazon-dynamodb

所以我最近在身份验证后面放置了一个开发服务器，这意味着任何想要进入该域的人都需要提供用户名和密码或获得 401。

我正在帮助在 Unity3d 中构建游戏，为了与该服务器进行通信，我只提供如下 url：

```
https://username:password@/host/url/here 
```

出于开发目的，它可以工作。

我做了一些移动，似乎 DynamoDB（通过 PHP SDK 完成）表现不佳，我想知道是否是因为开发服务器落后于身份验证，如果这是一个问题，如何允许与亚马逊互动。

干杯!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T13:10:55.800

根据我对您的问题的理解，您的应用程序如下所示：

```
 authentication
         layer
           |
 incoming  |     +--------+  outgoing
   HTTP    |     |        |  DDB call
-----------+---->+ Server +------------>
           |     |        |
           |     +--------+ 
           | 
```

也就是说，您对传入的 HTTP 请求进行身份验证。当您的应用程序向 DynamoDB 发出调用时，它充当客户端而不是服务器。假设您的客户端位于防火墙后面。没有什么能阻止他向您的服务器发出请求并获得响应。当您的服务器调用 DynamoDB 时，同样的推理也适用于您的服务器。

因此，如果 DynamoDB PHP SDK 出现问题，应该与 API 调用本身无关。

# caching - 清漆排除网址

> ID：13191828
> 
> 赞同：4
> 
> 时间：2012-11-02T08:36:55.140
> 
> 标签：caching, varnish

我有一个目前可以工作的清漆 3.xx 服务器。Varnish 正在缓存我网站的登录页面。

www.mysite.com/staff

但它可能有不同的 url，具体取决于工作人员的链接，例如

www.mysite.com/staff/index.php?/Tickets/Ticket/View/222200

我的清漆配置文件设置如下，以排除缓存员工页面，但它不起作用，因为它正在缓存登录页面，并且在我重新启动清漆以清除它的缓存之前它不会登录。

```
sub vcl_recv {
    # Allow purge only from internal users
    if (req.request == "PURGE") {
        if (!client.ip ~ internal_net) {
            error 405 "Not allowed.";
        }
        return (lookup);

    # Exclude the following
    if (req.url ~ "^/login\.php" ||
      req.url ~ "^/search\.php" ||
      req.url ~ "^/admin(.*)" ||
      req.url ~ "^/admin(.*)" ||
      req.url ~ "^/search(.*)" ||
      req.url ~ "^/visitor(.*)" ||
      req.url ~ "^/staff(.*)" ||
      req.url ~ "^/staff\.php"
    )  {
        return(pass);

    }

    if (req.http.cookie ~ "vb(.*)" ||
        req.http.cookie ~ "bb(.*)" ||
        req.http.cookie ~ "SWIFT_(.*)" ||
        req.url ~ "\?(.*\&)?s=[a-fA-F0-9]{32}(\&|$)" ||
        req.http.cookie ~ "bb_password") {

        return(pass);
    } else {
        unset req.http.cookie;
    }
} 
```

您是否有另一种方法可以排除整个目录并使其不被缓存？IE：来自 /staff 的所有内容，无论后缀是什么，都不得缓存

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T10:59:07.230

排除应该按照您实现它的方式完美地工作。但是，如果您粘贴的代码是您的实际 VCL，那么您在 PURGE 部分中有一个打开的 if() 语句。

```
 sub vcl_recv {
        # Allow purge only from internal users
        if (req.request == "PURGE") {
                if (!client.ip ~ internal_net) {
                        error 405 "Not allowed.";
                }
                return (lookup);

# Exclude the following 
```

应该读

```
 sub vcl_recv {
        # Allow purge only from internal users
        if (req.request == "PURGE") {
                if (!client.ip ~ internal_net) {
                        error 405 "Not allowed.";
                }
                return (lookup);
        }

# Exclude the following 
```

Varnish 不应该接受无效的 VCL，所以如果你的实际 VCL 中不存在错误，请用你的整个 VCL 更新问题。

# codeigniter - CI 中的错误处理

> ID：13191837
> 
> 赞同：1
> 
> 时间：2012-11-02T08:37:22.870
> 
> 标签：codeigniter, logging

我阅读了[错误处理](http://codeigniter.com/user_guide/general/errors.html)，但如果我使用`log_message('debug', 'Hi I m in Cart Controller');`或`log_message('info', 'Hi I m in Cart Controller');`它不记录任何消息，但仅适用于`log_message('error', 'Hi I m in Cart Controller');`

知道我的错误是什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:41:47.820

You have to set the log threshold in `app/config/config.php`:

```
/*
|--------------------------------------------------------------------------
| Error Logging Threshold
|--------------------------------------------------------------------------
|
| If you have enabled error logging, you can set an error threshold to 
| determine what gets logged. Threshold options are:
| You can enable error logging by setting a threshold over zero. The
| threshold determines what gets logged. Threshold options are:
|
|   0 = Disables logging, Error logging TURNED OFF
|   1 = Error Messages (including PHP errors)
|   2 = Debug Messages
|   3 = Informational Messages
|   4 = All Messages
|
| For a live site you'll usually only enable Errors (1) to be logged otherwise
| your log files will fill up very fast.
|
*/
$config['log_threshold'] = 2; 
```

# c# - 使用 xaml 在 windows 8 应用程序中从页面导航到另一个页面时添加进度条

> ID：13191840
> 
> 赞同：0
> 
> 时间：2012-11-02T08:37:29.093
> 
> 标签：c#, xaml, windows-8, navigation, progress-bar

我正在开发一个 Windows 8 应用程序，我想在从一个页面导航到另一个页面时添加一个进度条，因为用户必须等待才能从服务器加载数据。谁能提供我需要在 XAML 和 C# 中添加的代码？应该使用进度条的什么属性或事件？

//XAML 页面

```
 <common:LayoutAwarePage
    x:Name="Hub1"
    x:Class="App1.GroupedItemsPage1"
    DataContext="{Binding DefaultViewModel, RelativeSource={RelativeSource Self}}"
    IsTabStop="false"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:App1"
    xmlns:data="using:App1.Data"
    xmlns:common="using:App1.Common"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Page.BottomAppBar>
        <AppBar>
            <Grid>
                <Button x:Name="Content_Hub"  Height="64" Margin="45,10,0,10" Width="145" Content="CONTENT HUB" FontSize="12" FontFamily="Segui" Click="Content_Hub_Click"/>
                <Button x:Name="MARKET_RESEARCH"  Height="64" Margin="220,10,0,10" Width="145" Content="MARKET RESEARCH" FontSize="12" FontFamily="Segui" Click="MARKET_RESEARCH_Click"/>
                <Button x:Name="LEAD_CONVERSION"  Height="64" Margin="400,10,0,10" Width="145" Content="LEAD CONVERSION" FontSize="12" FontFamily="Segui"/>
                <StackPanel x:Name="RightPanel" Orientation="Horizontal" Grid.Column="1" HorizontalAlignment="Right">
                    <Button x:Name="Help" Style="{StaticResource HelpAppBarButtonStyle}" Tag="Help"/>
                    <StackPanel.ChildrenTransitions>
                        <TransitionCollection>
                            <AddDeleteThemeTransition/>
                        </TransitionCollection>
                    </StackPanel.ChildrenTransitions>
                </StackPanel>
            </Grid>
        </AppBar>
    </Page.BottomAppBar>

    <Page.Resources>

        <!--
            Collection of grouped items displayed by this page, bound to a subset
            of the complete item list because items in groups cannot be virtualized
        -->
        <CollectionViewSource
            x:Name="groupedItemsViewSource"
            Source="{Binding Groups}"
            IsSourceGrouped="true"
            ItemsPath="TopItems"
            d:Source="{Binding AllGroups, Source={d:DesignInstance Type=data:DataSource, IsDesignTimeCreatable=True}}"/>

    </Page.Resources>

    <!--
        This grid acts as a root panel for the page that defines two rows:
        * Row 0 contains the back button and page title
        * Row 1 contains the rest of the page layout -->

   <Grid Style="{StaticResource LayoutRootStyle}">
        <Grid.RowDefinitions>
            <RowDefinition Height="140" />
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Button x:Name="backButton" Click="GoBack" IsEnabled="{Binding Frame.CanGoBack, ElementName=Pageroot}" Style="{StaticResource BackButtonStyle}" Margin="36,0,0,36" Grid.Row="0"/>
            <StackPanel x:Name="Header" Grid.Row="0" Grid.Column="1" >
                <StackPanel Orientation="Horizontal">
                    <Image HorizontalAlignment="Left" Height="Auto" Margin="35,30,0,0" VerticalAlignment="Top" Width="202" Source="Assets/ACE-Logo.png"></Image>
                </StackPanel>
            </StackPanel>
        </Grid>
        <ProgressRing x:Name="progressBar" VerticalAlignment="Top" />
        <!-- Horizontal scrolling grid used in most view states -->
       <SemanticZoom Name="Zoom" Grid.Row="1">
           <SemanticZoom.ZoomedInView>
       <GridView
            x:Name="itemGridView"
            AutomationProperties.AutomationId="ItemGridView"
            AutomationProperties.Name="Grouped Items"
            Grid.Row="1"
            Margin="0,-3,0,0"
            Padding="116,0,40,46"
            ItemsSource="{Binding Source={StaticResource groupedItemsViewSource}}"
            ItemTemplate="{StaticResource Standard250x250ItemTemplate}"
            SelectionMode="None"
            IsItemClickEnabled="True"
            ItemClick="ItemView_ItemClick">

                    <GridView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <VirtualizingStackPanel Orientation="Horizontal"/>
                        </ItemsPanelTemplate>
                    </GridView.ItemsPanel>
                    <GridView.GroupStyle>
                        <GroupStyle>
                            <GroupStyle.HeaderTemplate>
                                <DataTemplate>
                                    <Grid Margin="1,0,0,6">
                                        <Button
                                    AutomationProperties.Name="Group Title"
                                    Content="{Binding Title}"
                                    Style="{StaticResource TextButtonStyle}" 
                                    />
                                    </Grid>
                                </DataTemplate>
                            </GroupStyle.HeaderTemplate>
                            <GroupStyle.Panel>
                                <ItemsPanelTemplate>
                                    <VariableSizedWrapGrid Orientation="Vertical" Margin="0,0,80,0"/>
                                </ItemsPanelTemplate>
                            </GroupStyle.Panel>
                        </GroupStyle>
                    </GridView.GroupStyle>
                </GridView>
             </SemanticZoom.ZoomedInView>
            <SemanticZoom.ZoomedOutView>
                <GridView x:Name="ZoomedOutGV"  VerticalAlignment="Center">
                    <GridView.ItemTemplate>
                        <DataTemplate>
                            <StackPanel> 
                                <TextBlock Text="{Binding Group.Title}" Width="200" Height="200" Foreground="Blue"/>
                            </StackPanel>
                         </DataTemplate>
                    </GridView.ItemTemplate>
                  <GridView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            </StackPanel>
                        </ItemsPanelTemplate>
                    </GridView.ItemsPanel>
            </GridView>
            </SemanticZoom.ZoomedOutView>
       </SemanticZoom>

       <!--   Vertical scrolling list only used when snapped -->
         <ListView
            x:Name="itemListView"
            AutomationProperties.AutomationId="ItemListView"
            AutomationProperties.Name="Grouped Items"
            Visibility="Collapsed"
            Margin="0,135,0,0"
            Padding="10,0,0,60"
            ItemsSource="{Binding Source={StaticResource groupedItemsViewSource}}"
            ItemTemplate="{StaticResource Standard80ItemTemplate}"
            SelectionMode="None"
            IsItemClickEnabled="True"
            ItemClick="ItemView_ItemClick" Grid.RowSpan="2">

            <ListView.GroupStyle>
                <GroupStyle>
                    <GroupStyle.HeaderTemplate>
                        <DataTemplate>
                            <Grid Margin="7,7,0,0">
                                 <Button
                                    AutomationProperties.Name="Group Title"
                                    Content="{Binding Title}"

                                    Style="{StaticResource TextButtonStyle}"/>
                            </Grid>
                        </DataTemplate>
                    </GroupStyle.HeaderTemplate>
                </GroupStyle>
            </ListView.GroupStyle>
        </ListView>

        <VisualStateManager.VisualStateGroups>

            <!-- Visual states reflect the application's view state -->
            <VisualStateGroup x:Name="ApplicationViewStates">
                <VisualState x:Name="FullScreenLandscape"/>
                <VisualState x:Name="Filled"/>

                <!-- The entire page respects the narrower 100-pixel margin convention for portrait -->
                <VisualState x:Name="FullScreenPortrait">
                    <Storyboard>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="backButton" Storyboard.TargetProperty="Style">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PortraitBackButtonStyle}"/>
                        </ObjectAnimationUsingKeyFrames>

                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="itemGridView" Storyboard.TargetProperty="Padding">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="96,0,10,56"/>
                        </ObjectAnimationUsingKeyFrames>
                    </Storyboard>
                </VisualState>

                <!--
                    The back button and title have different styles when snapped, and the list representation is substituted
                    for the grid displayed in all other view states
                -->
                <VisualState x:Name="Snapped">
                    <Storyboard>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="backButton" Storyboard.TargetProperty="Style">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource SnappedBackButtonStyle}"/>
                        </ObjectAnimationUsingKeyFrames>
                        <!--<ObjectAnimationUsingKeyFrames Storyboard.TargetName="pageTitle" Storyboard.TargetProperty="Style">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource SnappedPageHeaderTextStyle}"/>
                        </ObjectAnimationUsingKeyFrames>-->

                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="itemListView" Storyboard.TargetProperty="Visibility">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="Visible"/>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="itemGridView" Storyboard.TargetProperty="Visibility">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="Collapsed"/>
                        </ObjectAnimationUsingKeyFrames>
                    </Storyboard>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>
    </Grid>
</common:LayoutAwarePage>

//C# Page
using App1.Data;
using App1.DataService;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using Windows.Foundation;
using Windows.Foundation.Collections;
using Windows.UI.Xaml;
using Windows.UI.Xaml.Controls;
using Windows.UI.Xaml.Controls.Primitives;
using Windows.UI.Xaml.Data;
using Windows.UI.Xaml.Input;
using Windows.UI.Xaml.Media;
using Windows.UI.Xaml.Navigation;

// The Grouped Items Page item template is documented at http://go.microsoft.com/fwlink/?LinkId=234231

namespace App1
{
    /// <summary>
    /// A page that displays a grouped collection of items.
    /// </summary>
    public sealed partial class GroupedItemsPage1 : App1.Common.LayoutAwarePage
    {
        public GroupedItemsPage1()
        {
            this.InitializeComponent();
        }

        /// <summary>
        /// Populates the page with content passed during navigation.  Any saved state is also
        /// provided when recreating a page from a prior session.
        /// </summary>
        /// <param name="navigationParameter">The parameter value passed to
        /// <see cref="Frame.Navigate(Type, Object)"/> when this page was initially requested.
        /// </param>
        /// <param name="pageState">A dictionary of state preserved by this page during an earlier
        /// session.  This will be null the first time a page is visited.</param>
        protected override void LoadState(Object navigationParameter, Dictionary<String, Object> pageState)
        {
            // TODO: Create an appropriate data model for your problem domain to replace the sample data

                var sampleDataGroups = DataSource.GetGroups((String)navigationParameter);
                this.DefaultViewModel["Groups"] = sampleDataGroups;

                var tracks = groupedItemsViewSource.View.CollectionGroups;
                (Zoom.ZoomedOutView as GridView).ItemsSource = tracks;

           // GetSectors();

        }
          /// <summary>
        /// Invoked when an item within a group is clicked.
        /// </summary>
        /// <param name="sender">The GridView (or ListView when the application is snapped)
        /// displaying the item clicked.</param>
        /// <param name="e">Event data that describes the item clicked.</param>

        /*protected async override void LoadState(Object navigationParameter, Dictionary<String, Object> pageState)
        {

            var client = new DataServiceSoapClient();
            var sectors = await client.GetSectorsAsync(1);
            this.DefaultViewModel["sectors"] = sectors;

        }*/

        void ItemView_ItemClick(object sender, ItemClickEventArgs e)
        {
            // Navigate to the appropriate destination page, configuring the new page
            // by passing required information as a navigation parameter
            var itemId = ((DataItem)e.ClickedItem).UniqueId;
            this.Frame.Navigate(typeof(GroupDetailPage1), itemId);
        }

        private void Content_Hub_Click(object sender, RoutedEventArgs e)
        {
            Frame.Navigate(typeof(App1.GroupedItemsPage1));
        }

        private void MARKET_RESEARCH_Click(object sender, RoutedEventArgs e)
        {
            Frame.Navigate(typeof(App1.SamplePage));
        }

        }

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T09:22:20.357

在 LoadState 中异步加载数据。在获取数据显示内容网格并隐藏进度条后，将 ProgressBar（或 ProgressRing）可见性设置为可见并隐藏主内容网格。

```
protected async override void LoadState(Object navigationParameter, Dictionary<String, Object> pageState)
{
  ProggressBarVisible(true);
  try
  {
    MainContentGrid.Visibility = Visibility.Collapsed;       
    this.DataContext = await MyDataSource.GetData(navigationParameter);
  }
  finally
  {
    ProggressBarVisible(false);
    MainContentGrid.Visibility = Visibility.Visible;
  }
}

private void ProggressBarVisible(bool visible)
{
  ProgressRingLoad.Visibility = visible ? Visibility.Visible : Visibility.Collapsed;
  ProgressRingLoad.IsActive = visible;
} 
```

空页面的 XAML 应该是这样的：

```
<common:LayoutAwarePage
    x:Name="pageRoot"
    x:Class="WindowsStorePlayground.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:WindowsStorePlayground"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

  <Grid Background="{StaticResource ApplicationPageBackgroundThemeBrush}">

    <Grid x:Name="MainContentGrid">
      <!-- page content goes here -->
    </Grid>

    <ProgressRing x:Name="ProgressRingLoad" Visibility="Collapsed"></ProgressRing>

  </Grid>
</common:LayoutAwarePage> 
```

顺便提一句。要获取 LoadState，您应该使用 LayoutAwarePage

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T09:25:39.233

如果您正在加载数据`async`而不是将其添加到您的函数中

```
private async void LoadDataAsync()
{
//progressbar start
progressBar.IsIndeterminate = true;

//Some async calls

//other stuff

//stop progressbar
progressBar.IsIndeterminate = false;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T08:55:04.897

您的问题是您在页面构造函数、 OnNavigatedTo 事件或 Loaded 事件中获取数据。显示页面的所有块。所以你必须找到另一个解决方案。我在那里看到两个：

1.稍后加载您的数据。延迟加载，您可以显示带有进度或类似的页面

```
 <ProgressRing x:Name="PrgRing" IsActive="True" Visibility="Collapsed"/> 
```

在你的 OnNavigatedTo-handler

```
PrgRing.Visibility = Visibility.Visible; 
```

然后加载您的数据，完成后，显示并设置

```
PrgRing.Visibility = Visibility.Collapsed; 
```

2.使用中间的页面，加载您的数据并显示进度。

XAML：

```
<ProgressRing x:Name="PrgRing" IsActive="True" Visibility="Collapsed"/> 
```

C＃

```
//load the data and then
this.rootFrame.Navigate(typeof(TargetPage)); 
```

# php - 我如何在 Facebook 活动部分发布我的应用活动

> ID：13191846
> 
> 赞同：0
> 
> 时间：2012-11-02T08:37:52.620
> 
> 标签：php, facebook, facebook-php-sdk

我正在开发 facebook 应用程序，我想在 facebook 活动部分发布可能的应用程序活动。

我正在使用此代码

```
 try {
        $params = array(
            'message'       =>  "Hurray! This works :)",
            'name'          =>  "This is my title",
            'caption'       =>  "My Caption",
            'description'   =>  "Some Description...",
            'link'          =>  "http://stackoverflow.com",
            'picture'       =>  "http://i.imgur.com/VUBz8.png",
        );

        $post = $facebook->api("/$user/feed","POST",$params);

    }
    catch (FacebookApiException $e) {
       $result = $e->getResult();
    } 
```

这是有效的，但在 facebook 墙上显示消息。我希望在 facebook 活动部分显示消息。任何知道这件事的人请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-05T05:14:45.460

[Facebook 开发者文档](https://developers.facebook.com/docs/opengraph/actions/)描述了这个过程，从那里你会发现你需要为你将要使用和使用的命名空间定义操作：

```
$facebook->api('/me/{namespace}:{action-type-name}'); 
```

`{namespace}`您的应用程序的命名空间在哪里，并且是您在应用程序的 OpenGraph 部分下的[开发人员管理面板](https://developers.facebook.com/apps/)`{action-type-name}`中定义的操作。

# android - APK signed with a certificate that is not yet valid

> ID：13191854
> 
> 赞同：29
> 
> 时间：2012-11-02T08:38:38.053
> 
> 标签：android, google-play

I'm trying to publish an app to google play, and it won't allow me, it says:

```
You uploaded an APK signed with a certificate that is not valid. 
You need to sign tour APK with certificate that is currently valid. 
```

Screenshot:

![enter image description here](../Images/2ccb0a77cc19c65cb9e6370bc666b4c0.png)

How do I remedy this error?

* * *

## 回答 #1

> 赞同：58
> 
> 时间：2012-11-02T09:44:55.137

Solved it by changing the system date of my computer. I set it to today - 2 days and created a new keystore, tried to upload and it worked.

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-03-14T21:01:01.323

I ran into this gotcha but my solution was different. My system time was valid, but maybe it was several minutes off. Anyway if you run into this message but appear to have a correct system time, here are two things I did which worked

1.  Wait several minutes (e.g. search stackoverflow for this)
2.  Rename the .apk.

Then try to upload again. It just worked for me the second time.

Another issue I ran into was `ant release` reporting that the keystore was tampered with or my password was incorrect when I [signed](http://developer.android.com/tools/publishing/app-signing.html) my app. All I did was retry a second time and `ant release` just went through.

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-07-10T08:41:15.317

I solved this problem by waiting ~14 hours. Then the upload worked without changing anything in the apk. Hope this can help someone.

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2014-01-03T08:55:27.283

I ended up fixing this issue by fixing the time zone in my clock settings.

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2016-05-26T19:29:51.893

Changing the days in your system will not fix it. This problem is your windows (or other OS) timezone.

Correct your time zone:

[![enter image description here](../Images/21e467a6b75612d8d7a2c815cc8f66d5.png)](https://i.stack.imgur.com/va1bM.png) [![enter image description here](../Images/dee925c10c12ae05c9f2d61041073e4b.png)](https://i.stack.imgur.com/7gHf0.png)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-11-01T20:22:59.193

just wait a minute or two in most cases. The time is probably just slightly off.

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-10-06T16:44:34.880

I can't say the others are incorrect but they're mostly describing the same thing. The time stamp used when signing your APK was not "correct" for whichever Google uses to validate. Therefore you create signed packages in the past or future from Googles perspective, most likely future as the message indicates future tense "is not valid *yet*"

It's impossible to give a fixed amount of time by which we all must update our clocks by so what worked best for me was to **just wait until it works**.

# python - Python。龙卷风。非阻塞 xmlrpc 客户端

> ID：13191858
> 
> 赞同：2
> 
> 时间：2012-11-02T08:39:00.167
> 
> 标签：python, xml-rpc, tornado, xmlrpclib

基本上我们可以通过以下方式调用 xmlrpc 处理程序：

```
import xmlrpclib
s = xmlrpclib.ServerProxy('http://remote_host/rpc/')
print s.system.listmethods() 
```

在龙卷风中，我们可以像这样集成它：

```
import xmlrpclib
import tornado.web

s = xmlrpclib.ServerProxy('http://remote_host/rpc/')

class MyHandler(tornado.web.RequestHandler):
    def get(self):
        result = s.system.listmethods() 
```

我有以下一些新手问题：

1.  会`result = s.system.listmethods()`阻止龙卷风吗？
2.  是否有任何非阻塞 xmlrpc 客户端？
3.  我们怎样才能实现`result = yield gen.Task(s.system.listmethods)`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-11T01:04:02.370

1.是的，它会阻止龙卷风，因为 xmlrpclib 使用阻塞 python 套接字（原样）

2.不是我知道的，但我会提供一个解决方案，你可以保留 xmlrpclib 但让它异步

3.我的解决方案不使用tornado gen。

好的，所以当你在做网络并且需要编写异步代码时，一个有用的库是 gevent，它是一个非常好的高质量库，我会推荐给每个人。

为什么它好用又好用？

*   您可以以同步的方式编写异步代码（这样很容易）
*   你所要做的就是用一条简单的线来做猴子补丁：

    从 gevent 导入猴子；猴子.patch_all()

使用龙卷风时，您需要知道两件事（您可能已经知道）：

*   Tornado 仅在充当 HTTPServer 时支持异步视图（异步视图不支持 WSGI）
*   异步视图需要自行终止响应，您可以使用 self.finish() 或 self.render()（调用 self.finish()）

好的，这是一个示例，说明您需要与 tornado 进行必要的 gevent 集成：

```
# Python immports
import functools

# Tornado imports
import tornado.ioloop
import tornado.web
import tornado.httpserver

# XMLRpc imports
import xmlrpclib

# Asynchronous gevent decorator
def gasync(func):
    @tornado.web.asynchronous
    @functools.wraps(func)
    def f(self, *args, **kwargs):
        return gevent.spawn(func, self, *args, **kwargs)
    return f

# Our XML RPC service
xml_service = xmlrpclib.ServerProxy('http://remote_host/rpc/')

class MyHandler(tornado.web.RequestHandler):
    @gasync
    def get(self):
        # This doesn't block tornado thanks to gevent
        # Which patches all of xmlrpclib's socket calls
        # So they no longer are blocking
        result = xml_service.system.listmethods()

        # Do something here

        # Write response to client
        self.write('hello')
        self.finish()

# Our URL Mappings
handlers = [
   (r"/", MyHandler),
]

def main():
    # Setup app and HTTP server
    application = tornado.web.Application(handlers)
    http_server = tornado.httpserver.HTTPServer(application)
    http_server.listen(8000)

    # Start ioloop
    tornado.ioloop.IOLoop.instance().start()

if __name__ == "__main__":
    main() 
```

所以试试这个例子（显然适应你的需要），你应该很高兴。

不需要编写任何额外的代码，gevent 完成了修补 python 套接字的所有工作，因此它们可以异步使用，同时仍然以同步方式编写代码（这是一个真正的好处）。

希望这可以帮助 ：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-24T09:13:19.190

我不这么认为。因为 Tornado 有自己的 ioloop，但是 gevent 的 ioloop 是 libevent。所以 gevent 会阻止 Tornado 的 ioloop。

# ios5 - 将 cordova 1.9.0 (iOS) 升级到 cordova 2.1.0 并更新现有项目以使用 2.1.0

> ID：13191859
> 
> 赞同：1
> 
> 时间：2012-11-02T08:39:07.273
> 
> 标签：ios5, cordova, ios6, xcode4.5

我通过执行以下操作卸载了cordova 1.9.0：

要卸载：

1.  移除 Xcode Preferences -> Source Trees 中的 PHONEGAPLIB 值

2.  删除 ~/Documents/PhoneGapLib 文件夹

3.  删除 ~/Library/Application Support/Developer/Shared/Xcode/Project Templates/PhoneGap 文件夹

4.  删除“~/Library/Application Support/Developer/Shared/Xcode/Templates/Project Templates/Application/PhoneGap-based Application.xctemplate”或“~/Library/Developer/Xcode/Templates/Project\ Templates/Application/PhoneGap -based\ Application.xctemplate" 文件夹

5.  删除 /Users/Shared/PhoneGap/Frameworks/PhoneGap.framework 文件夹删除 ~/Library/Frameworks/PhoneGap.framework 符号链接

然后我按照升级指南：http: [//github.com/apache/incubator-cordova](http://github.com/apache/incubator-cordova) ios/blob/master/guides/Cordova%20Plugin%20Upgrade%20Guide.md 和[http://docs.phonegap.com/en/ 2.1.0/guide_upgrading_ios_index.md.html](http://docs.phonegap.com/en/2.1.0/guide_upgrading_ios_index.md.html) **项目构建时没有错误**，但是当我尝试运行时：在带有 iOS 5.1.1 的 iPhone 上出现此错误：

```
ERROR: Start Page at 'www/index.html' was not found. 
```

在装有 iOS 6.0 的 iPhone 上出现此错误：

```
Failed to load webpage with error: The requested URL was not found on this server. 
```

无论我删除唯一的外部链接还是所有 javascript 源，无论我手动添加 www 文件夹，还是任何可以在 Internet 上找到的内容，这些错误都是持续存在的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-05T06:18:33.067

显然这个问题是在科尔多瓦 1.4 中首先注意到的，我遵循了这个解决方案[http://www.tricedesigns.com/2012/02/16/linked-source-files-across-phonegap-projects-on-osx/](http://www.tricedesigns.com/2012/02/16/linked-source-files-across-phonegap-projects-on-osx/) 问题是Xcode 看不到 www 文件夹。

# javascript - 显示以前隐藏的 div 时格式丢失

> ID：13191860
> 
> 赞同：0
> 
> 时间：2012-11-02T08:39:08.813
> 
> 标签：javascript, html, onclick

因此，当您单击现有 div 时，我的网页会显示一个新 div。这个隐藏的 div 与现有的可见 div 具有完全相同的格式，但是当它出现时，所有的格式都丢失了，我不知道为什么。这是代码：

```
<div id="visible" class="visibleDiv" onclick="expandItem()">
   Stuff here
</div>

<div id="invisible" class="hiddenDiv">
    Stuff here
</div> 
```

这是我的 JavaScript：

```
function expandItem() {

if (document.getElementById("invisible").style.display == '') {
    document.getElementById("invisible").style.display = 'block';

} 
```

任何帮助是极大的赞赏！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T09:05:23.067

尝试这个

```
<div id="visible" class="visibleDiv" onclick="expandItem()">
    Stuff here
</div>
<div id="invisible" style="display:none;" class="hiddenDiv">
    Stuff here
</div> 
```

并在javascript中进行更改

```
function expandItem() {
if (document.getElementById("invisible").style.display == 'none') {
    document.getElementById("invisible").style.display = 'block';

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T09:42:44.887

是的，这应该获取解决方案

```
function expandItem() {
if (document.getElementById("invisible").style.display == 'none' || document.getElementById("invisible").style.display == '') {
    document.getElementById("invisible").style.display = 'block';

} 
```

这条线

```
document.getElementById("invisible").style.display == '' 
```

是无关紧要的，要执行的主要代码是

```
document.getElementById("invisible").style.display == 'none' 
```

# qt - 如何对 C++ 中的 QML 按钮单击做出反应

> ID：13191863
> 
> 赞同：5
> 
> 时间：2012-11-02T08:39:15.963
> 
> 标签：qt, qml, blackberry-10, blackberry-cascades

我试图通过挂钩到我的 QML 中按钮的 clicked() 插槽，从我的 C++ 代码启动不同的 QML 页面，但它不起作用。

```
 Button {
        objectName: btnLogin
        text: qsTr("Login")
        id: btnLogin
    } 
```

和 C++

```
QObject *newButton = root->findChild<QObject*>("btnLogin");
QObject::connect(newButton, SIGNAL(clicked()), this, SLOT(loginClick())); 
```

我的 hpp 文件中的插槽：

```
 public slots:  
    void loginClick(); 
```

而我的点击方法：

```
void GConnectBB::loginClick() {
    int i = 0;

    Button *newButton = root->findChild<Button*>("btnLogin");
    if (newButton)
        newButton->setProperty("text", "New button text");
}

QObject *newButton = root->findChild<QObject*>("btnLogin"); 
```

当我通过调试器检查时为空。我对 C++ 非常生疏，对 Qt 完全陌生，请温柔:) 我做错了什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-02T10:02:17.393

您应该用引号将对象名称括起来：

```
Button {
    objectName: "btnLogin"
    ...
    ...
} 
```

# yii - 如何将 mysql 查询转换为 Yii CDbCriteria 对象？

> ID：13191864
> 
> 赞同：0
> 
> 时间：2012-11-02T08:39:17.237
> 
> 标签：yii

我有一个模型`Reporter`。

```
public function relations() {
    return array(
        'video' => array(self::HAS_MANY, 'Video', 'reporter_id'),
    );
} 
```

我有一个mysql查询`Reporter->search()`方法：

```
SELECT t.*, COUNT(t1.id) AS 'reports'
FROM reporter AS t
LEFT JOIN video AS t1 ON t.id = t1.reporter_id  
GROUP BY t.id
ORDER BY t.name 
```

怎么写成`CDbCriteria`to use with `CActiveDataProvider`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T09:31:23.140

要将该查询写入 CActiveDataProvider 的条件，您需要从 CDbCriteria 设置以下属性：

[选择](http://www.yiiframework.com/doc/api/1.1/CDbCriteria#select-detail)、 [加入](http://www.yiiframework.com/doc/api/1.1/CDbCriteria#join-detail)、 [分组](http://www.yiiframework.com/doc/api/1.1/CDbCriteria#group-detail)和 [排序](http://www.yiiframework.com/doc/api/1.1/CDbCriteria#order-detail)。

然后，您可以在创建新的 CActiveDataProvider 对象时设置它们，如下所示：

```
$dataProvider=new CActiveDataProvider('Reporter', array(
    'criteria'=>array(
        'select'=>'`t`.*, count(`t1`.`id`) as `reports`',
        'join'=>'LEFT JOIN `video` AS `t1` ON `t`.`id` = `t1`.`reporter_id`',
        'group'=>'`t`.`id`',
        'order'=>'`t`.`name`',
    ),
)); 
```

可以在此处找到可与 CDbCriteria 一起使用的属性和方法的完整列表：[CDbCriteria 类参考](http://www.yiiframework.com/doc/api/1.1/CDbCriteria)

# sql - 分组和加入 (DB2)

> ID：13191869
> 
> 赞同：0
> 
> 时间：2012-11-02T08:39:31.647
> 
> 标签：sql, join, group-by, db2

我现在对 SQL 语句有一点问题。我需要以某种方式在 Join 中按条件获取一个组。好吧，现在我知道这不起作用，但大多数情况下都有办法做到这一点，我希望你们能给我一个关于如何做到这一点的线索。

陈述：

```
SELECT 
   btst.Ordnungsbegriff AS BBNR,
   COUNT(vp.KVNR) 
   FROM T_Betriebsstaette btst
      JOIN T_VERSICHERUNGSZEIT vz
         ON vz.BETRIEBSNUMMER = btst.Ordnungsbegriff
         AND vz.VALIDTO = date('2999-12-31')
         AND vz.PERSONENKREIS = 'Beschäftigte'
         AND vz.BEITRAGSGRUPPEKV_IID > 0
         AND vz.PERSONENGRUPPENSCHLUESSEL IN (101, 102, 103, 118, 119)
         JOIN T_VERSICHERTEPERSON vp
            ON vp.OID = vz.VERSPERS_VERSPERSON_ID
            AND ('1' = '0' or '1' = '1' and (vp.VIPKENNZEICHEN is null or  NOT vp.VIPKENNZEICHEN is null and vp.VIPKENNZEICHEN  NOT  in (5, 6))) 
```

Group By Clause 我必须进入那里：

```
GROUP BY vz."VALIDTO", vz."BETRIEBSNUMMER" 
```

我并不是真正的 SQL 专家。希望你们能帮我一点忙。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:45:35.680

使用`group by`子句时，子句中的任何元素都`select`必须在`group by`子句中，或者是聚合函数（sum、max 等）

所以

```
SELECT 
   btst.Ordnungsbegriff AS BBNR,
   COUNT(vp.KVNR) 
   FROM 

   ...
GROUP BY vz."VALIDTO", vz."BETRIEBSNUMMER", btst.Ordnungsbegriff 
```

# android - Android: Get the element triggering an onclick event

> ID：13191870
> 
> 赞同：3
> 
> 时间：2012-11-02T08:39:35.350
> 
> 标签：android, dynamic, onclick

Here is my Code:

```
ImageButton ibtnCherry;
ImageButton ibtnSelected;
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.setup);

    ibtnCherry = (ImageButton)findViewById(R.id.ibtnCherry);

    ibtnCherry.setOnClickListener(this);
} 
```

onClick:

```
@Override
public void onClick(View view) {
    ibtnSelected = ??????????;
    Intent sdintent = new Intent(Intent.ACTION_PICK);
    sdintent.setType("image/*");
    sdintent.setAction(Intent.ACTION_GET_CONTENT);
    startActivityForResult(sdintent, GlobaleVariablen.SD_REQUEST);
} 
```

My Problem is, that I need something like "ibtnSelected = ibtnCherry" in the row with the questionmarks, but dynamically, so when another button (e.g. ibtnTmp) fires the same onClick event, ibtnTmp is saved in ibtnSelected.

Is there any chance to get the element in the onClick event that fires it?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:48:31.893

只要使用`ibtnSelected = view;`就足够了。:-)

# c# - XmlDocument from XML string that contains custom namespaces causes XmlException?

> ID：13191871
> 
> 赞同：1
> 
> 时间：2012-11-02T08:39:38.330
> 
> 标签：c#, .net, xml-parsing, xml-namespaces, xmlexception

I need to create an XmlDocument partly by using old XML and partly by creating new. The problem is that the old XML contains custom namespaces and I can't seem to be able to use them as I get an XmlException. I've tried to add the namespace to many different places but I can't get over the Exception!

The Exception

```
System.Xml.XmlException was unhandled by user code
    Message='my' is an undeclared prefix. Line 1, position 42.
    Source=System.Xml 
```

My Code

```
XmlDocument doc = new XmlDocument();
XmlSchema schema = new XmlSchema();
schema.Namespaces.Add("my", "http://foobar.com/");
doc.Schemas.Add(schema);
XmlDeclaration dec = doc.CreateXmlDeclaration("1.0", "UTF-8", null);
doc.AppendChild(dec);

XmlElement root = doc.CreateElement("root");
root.SetAttribute("xmlns:my", "http://foobar.com/");
doc.AppendChild(root);

foreach (var item in GetItems())
{
    XmlElement elem = doc.CreateElement("item");
    elem.SetAttribute("id", item.id);

    // Append body to elem
    XmlElement body = doc.CreateElement("body");
    body.InnerXml = item.Body; // Here is where I get the exception

    elem.AppendChild(body);

    // Append elem to root
    root.AppendChild(elem);
} 
```

Input from Item.Body is similar to

```
<aaa><bbb my:attr="55">Foo</bbb></aaa> 
```

I expected the output to be similar to

```
<?xml version="1.0" encoding="utf-8"?>
<root my:attr="http://foobar.com/">
  <item id="12345">
    <body>
        <aaa>
            <bbb my:attr="55">Foo</bbb>
        </aaa>
    </body>
  </item>
</root> 
```

I'm open to alternatives to using this method. After I create the XmlDocument I prettyprint it, validate it against a schema and then push it out for the user to see.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T09:29:20.950

以下是一种解决方法，我能想到的最好的方法是：

```
 XNamespace  my = "http://foobar.com/";

 var doc = new XDocument(new XElement("root", 
                new XAttribute(XNamespace.Xmlns +  "my", my)));

 var body = new XElement("body");
 doc.Root.Add(new XElement("item", new XAttribute("id", 12345), body));

 string innerItem = @"<aaa><bbb my:attr=""55"">Foo</bbb></aaa>";       
 string itemWrap = @"<wrap xmlns:my=""http://foobar.com/"">" + innerItem + "</wrap>";

 XElement item = XElement.Parse(itemWrap);
 body.Add(item.Element("aaa"));

 Console.WriteLine(doc); 
```

# ubuntu - Error Installing OpenCV-2.4.3 on Ubuntu

> ID：13191874
> 
> 赞同：4
> 
> 时间：2012-11-02T08:39:59.713
> 
> 标签：ubuntu, opencv, cuda, cmake

When I try to cmake to OpenCv-2.4.3 on Ubuntu,I get this Error:

> CMake Error: The following variables are used in this project, but they are set to NOTFOUND. Please set them or make sure they are set and tested correctly in the CMake files: CUDA_nvcuvid_LIBRARY (ADVANCED)

And then ,I disabled "with_cuda" option at CMakeLists.txt .After that,I get this warning:

> The source directory is the same as binary directory. "make clean" may damage the source tree

I don't have "makefile" at my build folder ,so I cannot install OpenCV-2.4.3.

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-06T15:27:17.927

我刚刚解决了这个问题。操作系统：Linux Mint 13 / 64 位，CUDA 5.0。它也应该适用于 Ubuntu。

问题是您需要创建一个`libnvcuvid.so`位于`/usr/lib/nvidia-current/`from的链接`/usr/lib/`。

请在终端中执行：

```
su -c 'ln -s /usr/lib/nvidia-current/libnvcuvid.so /usr/lib/libnvcuvid.so && ln -s /usr/lib/nvidia-current/libnvcuvid.so.1 /usr/lib/libnvcuvid.so.1' 
```

生成文件没有错误。我还要补充一点，您不应该将 apt-get 用于 OpenCV，因为存储库包含旧版本的库。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-02T18:03:57.300

你在哪里进行了**make clean**？

如果您正确地遵循[文档](http://opencv.willowgarage.com/wiki/InstallGuide)，您可以看到建议创建一个文件夹来存储将要编译的所有内容。

通常，您通过执行

```
mkdir build 
```

逐步遵循**[本指南](http://opencv.willowgarage.com/wiki/InstallGuide%20%3a%20Debian)**应该没有任何问题。

如您所见，cmake 命令是：

```
cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local -D BUILD_PYTHON_SUPPORT=ON -D BUILD_EXAMPLES=ON .. 
```

最后的 .. 非常重要，因为这意味着您应该在要构建所有内容的目录中执行命令。

如果您直接将 cmake 运行到源目录中，您可能需要解压缩包并重新开始 ;)。

您更改 CUDA 的变量是对的，尤其是在您没有 NVidia 图形卡的情况下。

您指示的最后一条消息是警告，而不是错误。你可以按照我之前说的来解决它。

如果你只想使用 OpenCV，而不是为它开发，你可能会像 Barnabas 所说的那样直接使用你的包管理器。

在这种情况下，[请按照他的链接](https://help.ubuntu.com/community/OpenCV)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T17:38:35.703

我认为这可能是在 Ubuntu 上安装 OpenCV 的一种更简单快捷的方法： [使用 apt-get 安装 OpenCV](https://help.ubuntu.com/community/OpenCV)。
（您不必自己编译。）

# android - Google Play services: How to handle devices that do not have Google Play?

> ID：13191875
> 
> 赞同：28
> 
> 时间：2012-11-02T08:40:01.550
> 
> 标签：android, cyanogenmod, google-play-services, lock-in

[Google Play services](https://developers.google.com/android/google-play-services/) is an Android library whose goal is to provide:

*   OAuth 2.0 authentication
*   Google+ sign-in
*   Google+ +1 button
*   various other goodies

If I were to use it (for instance because I want Google+ sign-in), what would happen to users whose device does not have Google Play? (Nook, Cyanogenmod, China Mobile, old devices, [maybe Huawei?](https://en.wikipedia.org/wiki/Huawei#U.S._business_restriction), etc)

**QUESTION:** Will my app become incompatible with such devices? Will it be displayed as compatible but then crash, or not work?
Is there a best practice to keep this in mind when using Google Play services?

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2016-01-22T09:53:40.557

```
GooglePlayServicesUtil.isGooglePlayServicesAvailable(android.content.Context) 
```

已弃用！

利用：

```
 GoogleApiAvailability api = GoogleApiAvailability.getInstance();
        int code = api.isGooglePlayServicesAvailable(activity);
        if (code == ConnectionResult.SUCCESS) {
           // Do Your Stuff Here
        } else {
           AlertDialog alertDialog =
                 new AlertDialog.Builder(activity, R.style.AppCompatAlertDialogStyle).setMessage(
                       "You need to download Google Play Services in order to use this part of the application")
                       .create();
           alertDialog.show();
        } 
```

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2012-11-02T09:37:19.790

If the feature from Google Play Services is essential for your app there would be no way to get your App working.

You can check if the services are enabled from within your app with [`GooglePlayServicesUtil.isGooglePlayServicesAvailable(android.content.Context)`](https://developers.google.com/android/google-play-services/reference/com/google/android/gms/common/GooglePlayServicesUtil#isGooglePlayServicesAvailable%28android.content.Context%29)
which returns `ConnectionResult.SUCCESS` if Play Services is available.

You can now try to convince the user to install it (if possible) or disable the feature that is using the service.

As the Google Play Services is not a feature declared in the manifest your app should install fine on any device but may crash later on if you are using the APIs without checking if they are available.

You can try the behaviour with the emulator. Just create an AVD without the Google APIs and put your App on it.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-05-15T07:40:27.920

如果您的应用使用 Google 登录或 Firebase 云消息传递等 GMS 功能，那么它在没有 GMS 的设备上将无法正常运行。如果设备支持 GMS，建议您使用 GMS；否则，请使用 HMS（华为移动服务）。

请参考以下链接：

*   检查[GMS 是否可用](https://developers.google.com/android/reference/com/google/android/gms/common/GoogleApiAvailability.html#isGooglePlayServicesAvailable(android.content.Context))
*   [HMS 概述](http://%20https://developer.huawei.com/consumer/en/hms)
*   [华为帐号套件](https://developer.huawei.com/consumer/en/hms/huawei-accountkit)

因此，您可以在支持 GMS 的设备上使用 Google+ 登录；否则，请使用华为帐号登录。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2014-05-21T07:05:05.147

如果您以某种方式需要使用 Play 服务，或者如果您维护一个调用 Play 服务的旧版应用程序，那么我建议您使用以下策略：

1.  在应用启动时，检查 Play Services 是否可用
2.  如果不可用，请将 Play 服务调用重定向到 microG

[microG](https://microg.org/)是 Google Play 服务的开源实现。
它缺乏许多功能，但正在积极开发中。许多功能仍然是存根。

对于位置服务，还有[LOST](https://github.com/mapzen/LOST)，它是 Google Play 服务位置 API 的替代品。

您的应用程序可能无法完美运行，但至少比崩溃要好。

当然，最好的办法是从一开始就不要使用 Google Play 服务。

# mysql - 为什么递归查询比 join 和 group by 更快？

> ID：13191878
> 
> 赞同：3
> 
> 时间：2012-11-02T08:40:10.993
> 
> 标签：mysql, sql

我正在使用 MySQL 服务器 5.5 并具有下一个数据库结构

```
 -- -----------------------------------------------------
    -- Table `mydb`.`User`
    -- -----------------------------------------------------
    CREATE  TABLE IF NOT EXISTS `mydb`.`User` (
      `id` INT NOT NULL ,
      `Name` VARCHAR(45) NOT NULL ,
      PRIMARY KEY (`id`) )
    ENGINE = InnoDB;

    -- -----------------------------------------------------
    -- Table `mydb`.`Payments`
    -- -----------------------------------------------------
    CREATE  TABLE IF NOT EXISTS `mydb`.`Payments` (
      `id` INT NOT NULL ,
      `Amount` DOUBLE NOT NULL ,
      `User` INT NOT NULL ,
      PRIMARY KEY (`id`) ,
      INDEX `fk_Payments_User` (`User` ASC) ,
      CONSTRAINT `fk_Payments_User`
        FOREIGN KEY (`User` )
        REFERENCES `mydb`.`User` (`id` )
        ON DELETE NO ACTION
        ON UPDATE NO ACTION)
    ENGINE = InnoDB;

    -- -----------------------------------------------------
    -- Table `mydb`.`Extras`
    -- -----------------------------------------------------
    CREATE  TABLE IF NOT EXISTS `mydb`.`Extras` (
      `id` INT NOT NULL ,
      `ExtraAmount` DOUBLE NOT NULL ,
      PRIMARY KEY (`id`) ,
      INDEX `fk_Extras_Payments1` (`id` ASC) ,
      CONSTRAINT `fk_Extras_Payments1`
        FOREIGN KEY (`id` )
        REFERENCES `mydb`.`Payments` (`id` )
        ON DELETE NO ACTION
        ON UPDATE NO ACTION)
    ENGINE = InnoDB; 
```

问题是：为什么这个查询

```
 SELECT u.*, sum(`amount`),sum(`ExtraAmount`)
    FROM `user` AS `u`
    LEFT JOIN payments AS p ON u.id = p.`user`
    INNER JOIN extras AS e ON p.id = e.id
    WHERE `Name` = 'abc'
    GROUP BY `Name` 
```

比这个慢

```
 SELECT *, IFNULL((SELECT sum(`amount`)
                      FROM payments AS p
                      WHERE u.id = p.`user`),0) AS `TotalAmount`,
              IFNULL((SELECT sum(`ExtraAmount`)
                      FROM payments AS p
                      INNER JOIN extras AS e ON p.id = e.id
                      WHERE p.`User` = u.id),0) AS `sum2`
    FROM `user` AS `u`
    WHERE `Name` = 'abc' 
```

即使在空 DB（0.0001-0002s，不多，但仍然）上也存在差异。但是，如果您用 50k 条记录填充每个表，差异会更加明显。

从我的角度来看，第二个查询执行更多的子查询，所以它应该工作得更慢。

有人可以为我解释一下吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-02T09:17:45.190

不同之处在于，在您的第二个内部查询中`(SELECT sum(`amount`) FROM payments AS p WHERE u.id = p.`user`)`，mysql 使用索引，与第一个查询相比，其中元素是在没有索引的情况下确定的。使用[explain](http://dev.mysql.com/doc/refman/5.5/en/explain-extended.html)您将能够查看执行计划、涉及的行数以及子查询是否使用索引。

请参阅[sqlFiddle](http://www.sqlfiddle.com/#!2/f745f/1)（注意额外的列）以了解您的方案的执行计划。

# c# - 如何在中继器中的每一行之后强制换行

> ID：13191882
> 
> 赞同：0
> 
> 时间：2012-11-02T08:40:25.543
> 
> 标签：c#, asp.net, repeater

> **可能重复：**
> [每行repeater绑定5个item](https://stackoverflow.com/questions/11327902/bind-5-items-in-each-row-of-repeater)

我正在使用`Repeater`控件为我显示某些元素。
这些元素采用表格格式，每个元素都包含在自己的`panel`标签中。

用户可以根据自己的选择从这些元素中添加/删除变量，从而扩展/收缩 div 框。

截至目前，该应用程序在一行上显示 3 个 div 框，然后在新行上启动一个新的 div 框。

不幸的是，如果上一行的 div 框展开，它会与下一行的 div 框混淆。

有没有办法`<br />`在转发器控件的每一行之后强制执行？

* * *

下图将有助于说明我的意思。

![之前和之后](../Images/645b8eee545580287cd3eb9528e12919.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:47:27.787

这不是服务器端问题。

你应该使用**CSS**。

首先，在每 3 或 4 个项目之后创建`<div runat="server">`和分配一个 CSS 类。`line-break`这可以使用中继器的`ItemDataBound`事件。

稍后，在您的 CSS 样式表中，对CSS 类使用`clear: both`规则。`.line-break`

`div`最后，当一些人的高度比其他人高时，这应该避免不良影响。

**更新**

我猜你正在申请`float: left`你的`<div />`元素。

# entity - Entity in entity relationship diagram

> ID：13191883
> 
> 赞同：0
> 
> 时间：2012-11-02T08:40:32.030
> 
> 标签：entity, entity-relationship

According to [wikipedia](https://en.wikipedia.org/wiki/Entity%E2%80%93relationship_model) "An entity may be defined as a thing which is recognized as being capable of an **independent existence** and which can be uniquely identified". I don't get this independent existance because I've been given examples of entities such as "fees" or a "house sale", you can't have fees without taking a "class" and no "house sale" without having a house. Where am I confused?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:46:46.633

我同意你的看法——我认为**独立存在**并没有增加太多的定义。

最好将实体视为您可能希望存储有关信息的东西，例如

```
order
order history
customer
supplier
order item
address
address history 
```

NB 实体永远不会多元化

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:50:35.890

根据您文章的德语版本，实体可以描述为现实世界中的“对象”，可以用某些属性来描述。
例如，驾照可以是一个实体，即使它相当抽象，因为它可以用属性来描述。

# sql - PostgreSQL中的分层总和

> ID：13191885
> 
> 赞同：11
> 
> 时间：2012-11-02T08:40:39.427
> 
> 标签：sql, postgresql, common-table-expression

这是我在 PostgreSQL 中遇到的问题的简化版本。

我有下表**A**：

**[ ID** *整数* **| 数值** *数字(10,2)* **| 父** *整数* **]**

其中 'PARENT' 是对列 ID 的自引用 FK。

表定义为：

```
CREATE TABLE A(ID INTEGER IDENTITY, VALUE NUMERIC(10,2), PARENT INTEGER)                                    
ALTER  TABLE A ADD CONSTRAINT FK FOREIGN KEY (PARENT) REFERENCES A(ID) 
```

这个简单的表允许定义任意深度的树数据结构。现在我需要编写一个 SQL（我不喜欢使用服务器端 PL-SQL）来报告每个节点，它下面的子树“挂起”的总值。例如，使用下表：

```
|  ID  | VALUE | PARENT |
-------------------------
|   1  | NULL  | NULL   |
|   2  | 3.50  |    1   |
|   3  | NULL  | NULL   |
|   4  | NULL  |    3   |
|   5  | 1.50  |    4   |
|   6  | 2.20  |    4   | 
```

我应该得到以下结果集：

```
| ID  |  Total-Value-of-Subtree |
|  1  |                  3.50   |
|  2  |                  3.50   |
|  3  |                  3.70   |
|  4  |                  3.70   |
|  5  |                  1.50   |
|  6  |                  2.20   | 
```

简单来说，您可以假设只有叶节点有值，非叶节点在**VALUE**列中始终具有**NULL值。**有没有办法在 SQL 中做到这一点，甚至使用 PostgreSQL 特定的扩展？

 *** * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-02T09:04:10.013

在 PostgreSQL 中，您可以使用递归 CTE（通用表表达式）在查询中遍历树。

以下是文档的两个相关链接：

*   [句法](http://www.postgresql.org/docs/current/interactive/sql-select.html#SQL-WITH)
*   [例子](http://www.postgresql.org/docs/current/interactive/queries-with.html)

**编辑**

由于不需要子选择，它在更大的数据集上可能比 Arion 的查询运行得更好。

```
WITH RECURSIVE children AS (
    -- select leaf nodes
    SELECT id, value, parent
        FROM t
        WHERE value IS NOT NULL
    UNION ALL
    -- propagate values of leaf nodes up, adding rows 
    SELECT t.id, children.value, t.parent
        FROM children JOIN t ON children.parent = t.id
)
SELECT id, sum(value) 
    FROM children 
    GROUP BY id   -- sum up appropriate rows
    ORDER BY id; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-02T09:02:56.233

也许是这样的：

```
WITH RECURSIVE CTE
AS
(
    SELECT
        t.ID,
        t.VALUE,
        t.PARENT
    FROM
        t
    WHERE NOT EXISTS
        (
            SELECT NULL FROM t AS t2 WHERE t2.PARENT=t.ID
        )
    UNION ALL
    SELECT
        t.ID,
        COALESCE(t.VALUE,CTE.VALUE),
        t.PARENT
    FROM
        t
        JOIN CTE
            ON CTE.PARENT=t.ID
)
SELECT
    CTE.ID,
    SUM(CTE.VALUE)
FROM
    CTE
GROUP BY
    CTE.ID
ORDER BY 
    ID; 
```

这将从没有孩子的孩子开始。然后上树去找父母。结果将是这样的：

```
1   3.50
2   3.50
3   3.70
4   3.70
5   1.50
6   2.20 
```**

# arrays - 在 numpy 数组中搜索 numpy 数组

> ID：13191887
> 
> 赞同：3
> 
> 时间：2012-11-02T08:40:46.760
> 
> 标签：arrays, search, numpy

我需要查找一个 numpy 数组是否在其他 numpy 数组中，但它似乎与 python 列表不同。我试图在 numpy 文档和互联网中搜索这个问题，但没有回答。这是一个例子：

`import numpy as np`

 ````
m1=np.array([[1,2,3],[5,3,4]])
m2=np.array([5,4,3])
m2 in m1
True
m3=[[1,2,3],[5,3,4]]
m4=[5,4,3]
m4 in m3
False 
````  `在 numpy 中，我得到 True，但在 Python 列表中，我得到 False。是否有任何 numpy 函数可以完成这项工作？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-03T02:31:02.337

要获得与列表相同的行为`in`，您可以执行以下操作：

```
any(np.all(row == m2) for row in m1) 
```

这会在 python 中的行上循环，这并不理想，但它应该可以工作。

要了解 numpy 发生了什么，[以下是 numpy 邮件列表中 Robert Kern](http://www.mail-archive.com/numpy-discussion@scipy.org/msg31578.html)`in`的语义描述：`in`

> 它可以追溯到 bool(some_array) 的 Numeric 语义，如果任何元素不为零，则该语义为 True。就像 Python 中的任何其他可迭代容器一样，`x in y`基本上可以
> 
> ```
> for row in y:
>    if x == row:
>        return True
> return False 
> ```
> 
> 沿 y 的第一个轴迭代并通过布尔相等进行比较。在 Numeric/numpy 的情况下，这种比较被广播。这就是 [3,6,4] 起作用的原因，因为有一行 3 在第一列。[4,2,345] 不起作用，因为 4 和 2 不在这些列中。
> 
> 可能，在转换到 numpy 的 bool(some_array) 引发异常的语义期间，这应该被认为是一个错误。 `scalar in array`对于 ND 数组，可能应该按原样工作，但是应该明确说明几种不同的可能语义`array in array` ，就像 bool(some_array)。`

# php - 如何重新格式化表格

> ID：13191892
> 
> 赞同：0
> 
> 时间：2012-11-02T08:41:02.943
> 
> 标签：php, html

我有一个非常简单的问题，我有一张桌子

```
while($row=mysql_fetch_array($result)){
echo "</td><td>";
echo $row['partnumber'];
echo "</td><td>";
echo $row['quantity'];
echo "</td><td>";
}
echo "</table>"; 
```

它显示数据，但是我希望将零件编号显示在彼此的顶部，并且数量在右侧，我该如何做到这一点？我已经玩了一段时间了，但还没有找到解决方案，也没有能够自己纠正它。我提前为提出这种口径的问题道歉。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T08:44:21.523

将您的行包含在内`<tr>`

```
echo '<table>';
while($row=mysql_fetch_array($result)){
    echo "<tr><td>" . $row['partnumber'] . "</td><td>" . $row['quantity'] . "</td></tr>";
}
echo "</table>"; 
```

# javascript - Safari on iPad won't stop requesting animation frames

> ID：13191894
> 
> 赞同：0
> 
> 时间：2012-11-02T08:41:18.053
> 
> 标签：javascript, ios, html, safari, requestanimationframe

I am encountering a strange situation with Safari on iPad. I do have a spritesheet-based animation sequence that you can play in a "ping-pong" manner: you click once, it plays forward until its last frame, you click back, it plays backwards again until it reaches frame 1.

The JS I use for that looks like:

```
$('.pingpong').each(function(){

    var step = parseInt($(this).width(), 10);
    var frames = parseInt($(this).data('frames'), 10);
    var img = $(this).find('img');
    var running = false;
    $(this).data('playForward', true);

    $(this).bind(interaction, function(){ //interaction is tap on mobiles and click on desktops

        if (!running){

            running = true;
            var lastExecution = new Date().getTime();
            var counter = 1;

            function pingpong(){

                var now = new Date().getTime();

                if (now - lastExecution >= (1000 / config.fps)){ //animation is supposed to run at 12fps

                    img.css('margin-left', $(this).data('playForward') ? '+=' + step + 'px' : '-=' + step + 'px');
                    counter++;
                    lastExecution = new Date().getTime();

                }

                if (counter != frames){

                    requestAnimationFrame(pingpong);

                } else {

                    $(this).data('playForward', !($(this).data('playForward'))); //this change of direction is triggered on iOS as well strangely enough
                    running = false;

                }

            }

            pingpong();

        }

    });

}); 
```

This works perfectly fine in all desktop browsers, yet Safari on the iPad won't stop requesting animation frames, the animation will "overflow" until the image is long gone (via its margin), but when I log the number or `requestAnimationFrame` calls (I am using the Paul Irish shim btw - yet it makes no difference if I use `webkitRequestAnimationFrame`) I can see that the recursive `pingpong` calls never stop in iOS (on the desktop they do). Also, trying to `cancelAnimationFrame` the `id` of my calls makes no difference.

Is my understanding of `requestAnimationFrame` flawed or am I missing something different here? Is there a difference in the `new Date().getTime()` behavior on the iPad? I am currently with a `setInterval` based solution, but I am really completely ridiculed by this behavior so I thought someone might now where I am wrong here?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T10:42:25.823

尝试以下操作：

```
$('.pingpong').each(function(){

var step = parseInt($(this).width(), 10);
var frames = parseInt($(this).data('frames'), 10);
var img = $(this).find('img');
var running = false;
$(this).data('playForward', true);

$(this).bind(interaction, function(){ //interaction is tap on mobiles and click on desktops

    if (!running){

        running = true;
        var lastExecution = new Date().getTime();
        var counter = 1;

        function pingpong(){

            var now = new Date().getTime();

            if (now - lastExecution >= (1000 / config.fps)){ //animation is supposed to run at 12fps

                img.css('margin-left', $(this).data('playForward') ? '+=' + step + 'px' : '-=' + step + 'px');
                counter++;
                lastExecution = new Date().getTime();

            }

            if (counter < frames){
                requestAnimationFrame(pingpong);
            } else {
                $(this).data('playForward', !($(this).data('playForward'))); //this change of direction is triggered on iOS as well strangely enough
                running = false;
            }

        }

        pingpong();

    }

}); 
```

});

# search - Lucene index searching

> ID：13191895
> 
> 赞同：0
> 
> 时间：2012-11-02T08:41:22.327
> 
> 标签：search, lucene, indexing

I am using Lucene indexing for the first time. I have some documents in Hindi and English and I create index on the content of document.When I search the index I get result from all the documents even if my query is some english word it returns hindi document also. I have added the code below.please tell me where I am dong wrong.

```
 IndexSearcher searcher = new IndexSearcher(directory);
        QueryParser parser = new QueryParser("Content", analyzer);

        while (condition)
        {
            Search(text, searcher, parser);

        }

        searcher.Close();
        private static void Search(string text, IndexSearcher searcher, QueryParse parser)
    {
        Query query = parser.Parse(text);

        Hits hits = searcher.Search(query);
        int results = hits.Length();

        for (int i = 0; i < results; i++)
        {
            Lucene.Net.Documents.Document doc = hits.Doc(i);

            string show = doc.ToString();

            float score = hits.Score(i);

            /* insert doc id in database table*/

            } 
```

Thanks all

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T15:24:02.227

首先，我会使用[Luke](http://code.google.com/p/luke/)来检查我的查询语法是否正确。然后我会检查行为不端的英语单词是否是印地语单词的同形异形词（即与印地语单词拼写相同的英语单词）。

如果您想阻止搜索英文搜索词时出现印地语文档，您需要标记每个文档是英文还是印地语，然后在搜索查询中指定该标记。在查询解析器语法中，这可能如下所示：

```
ENGLISHSEARCHTERMS +(language:English) 
```

（所有印地语文档的语言字段设置为“印地语”，所有英语文档的语言字段设置为“英语”）。

# matlab - 保存循环结果

> ID：13191902
> 
> 赞同：0
> 
> 时间：2012-11-02T08:42:13.183
> 
> 标签：matlab, loops, save

我有一个简单的问题，但我不知道如何解决。

我想处理文件夹中的所有文件，并且我想将输出值写在矩阵的单独行上。直接文件夹并获取文件列表及其名称后

```
filePattern=fullfile( myPath,'*.txt') 
```

我应用了一个“循环”。为了将结果保存在每个文件的每一行，这就是我正在做的，但它不起作用（代码适用于一个文件，而不是所有文件）。

```
text= {baseFileName, result2b, result3b, result4b, result5b}; 
```

有什么不对？

提前致谢！问候，

艾玛

PD）

```
myPath = 'C:\SP\';
% if ~isdir(myPath)
%   errorMessage = sprintf('Error: The following folder does not exist:\n%s', myFolder);
%   uiwait(warndlg(errorMessage));
%   return;

    a= dir (fullfile(myPath,'*.DIM')); % 
    fileNames = { a.name };

 filePattern=fullfile( myPath,'*.txt');
 txtFiles= dir(filePattern);    
   for k = 1:length(txtFiles)
    baseFileName=txtFiles(k).name;
    fullFileName= fullfile(myPath,baseFileName);

fid=fopen(fullFileName, 'r+');
    for i = 1:18
    m{i} = fgetl(fid);
    end
     result2 = m{18};
     result2b= result2([12:19]);

(...) 
```

**编辑：**

我添加了一个关于我的变量的屏幕截图。是否可能因为 txtFiles 错误？

![在此处输入图像描述](../Images/3bbc626b71be4ba9549e941f482bbcb1.png)

# xml - 使用 XSLT 为 Excel 转换现有 XML

> ID：13191907
> 
> 赞同：0
> 
> 时间：2012-11-02T08:42:26.757
> 
> 标签：xml, xslt

我需要更改现有的 xml 以便从中制作一个 excel 表。

我需要更改的xml：

```
<rows>
  <row>
    <cell image="blank.gif">Row1</cell>
    <cell>1</cell>
    <cell>2</cell>
    <cell>3</cell>
    <cell>4</cell>
    <cell>5</cell>
    <cell>6</cell>
    <cell>7</cell>
    <row>
      <cell image="blank.gif">Row1_1</cell>
      <cell>8</cell>
      <cell>9</cell>
      <cell>10</cell>
      <cell>11</cell>
      <cell>12</cell>
      <cell>13</cell>
      <cell>14</cell>
    </row>
    <row>
      <cell image="blank.gif">Row1_2</cell>
      <cell>15</cell>
      <cell>16</cell>
      <cell>17</cell>
      <cell>18</cell>
      <cell>19</cell>
      <cell>20</cell>
      <cell>21</cell>
    </row>
  </row>
  <row>
    <cell image="blank.gif">Row2</cell>
    <cell>22</cell>
    <cell>23</cell>
    <cell>24</cell>
    <cell>25</cell>
    <cell>26</cell>
    <cell>27</cell>
    <cell>28</cell>
  </row>
</rows> 
```

我当前的 XSLT：

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:msxsl="urn:schemas-microsoft-com:xslt" exclude-result-prefixes="msxsl">
  <xsl:output method="xml" indent="yes"/>

  <xsl:template match="rows">
    <xsl:element name="sheetData">
      <xsl:apply-templates select="row"></xsl:apply-templates>
    </xsl:element>
  </xsl:template>

  <xsl:template match="row">
    <xsl:variable name="rowID">
      <xsl:number value="position()" format="1"/>
    </xsl:variable>
    <xsl:element name="row">
      <xsl:attribute name="r">
        <xsl:value-of select="$rowID"/>
      </xsl:attribute>

      <xsl:for-each select="*">
        <xsl:element name="c">
          <xsl:variable name="colID">
            <xsl:number value="position()" format="A"/>
          </xsl:variable>
          <xsl:attribute name="r">
            <xsl:value-of  select="concat(string($colID),string($rowID))"/>
          </xsl:attribute>
          <xsl:attribute name="t">
            <xsl:text>inlineStr</xsl:text>
          </xsl:attribute>
          <xsl:element name="is">
            <xsl:element name="t">
              <xsl:value-of select="."/>
            </xsl:element>
          </xsl:element>
        </xsl:element>
      </xsl:for-each>

    </xsl:element>
  </xsl:template>

</xsl:stylesheet> 
```

我的转换输出：

```
<sheetData>
 <row r="1">
  <c r="A1" t="inlineStr">
      <is>
      <t>Row1</t> 
      </is>
  </c>
  <c r="B1" t="inlineStr">
      <is>
      <t>1</t> 
      </is>
  </c>
  <c r="C1" t="inlineStr">
      <is>
      <t>2</t> 
      </is>
  </c>
  <c r="D1" t="inlineStr">
      <is>
      <t>3</t> 
      </is>
  </c>
  <c r="E1" t="inlineStr">
      <is>
      <t>4</t> 
      </is>
  </c>
  <c r="F1" t="inlineStr">
      <is>
      <t>5</t> 
      </is>
  </c>
  <c r="G1" t="inlineStr">
      <is>
      <t>6</t> 
      </is>
  </c>
  <c r="H1" t="inlineStr">
      <is>
      <t>7</t> 
      </is>
  </c>
  <c r="I1" t="inlineStr">
      <is>
      <t>Row1_1891011121314</t> 
      </is>
  </c>
  <c r="J1" t="inlineStr">
      <is>
      <t>Row1_215161718192021</t> 
      </is>
  </c>
  </row>
  <row r="2">
  <c r="A2" t="inlineStr">
      <is>
      <t>Row2</t> 
      </is>
  </c>
  <c r="B2" t="inlineStr">
      <is>
      <t>22</t> 
      </is>
  </c>
  <c r="C2" t="inlineStr">
      <is>
      <t>23</t> 
      </is>
  </c>
  <c r="D2" t="inlineStr">
      <is>
      <t>24</t> 
      </is>
  </c>
  <c r="E2" t="inlineStr">
      <is>
      <t>25</t> 
      </is>
  </c>
  <c r="F2" t="inlineStr">
      <is>
      <t>26</t> 
      </is>
  </c>
  <c r="G2" t="inlineStr">
      <is>
      <t>27</t> 
      </is>
  </c>
  <c r="H2" t="inlineStr">
      <is>
      <t>28</t> 
      </is>
  </c>
 </row>
</sheetData> 
```

以及生成的 excel 文档的屏幕截图： ![截屏](../Images/392261a5b7723a1f2991d552a2943a7b.png)

所以我的问题是我需要像 Row1 和 Row2 一样显示它们的嵌套行

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T09:13:34.833

我认为您要说的是，即使行元素是嵌套的，您也希望输入 XML 中的每一**行在输出中都有一个单独的行。**

首先，您需要替换此行

```
<xsl:for-each select="*"> 
```

有了这个...

```
<xsl:for-each select="cell"> 
```

这将确保在当前行中仅输出**单元格**元素，并且不会处理嵌套的**行元素。**

然后，在您创建了仅包含**单元格元素的****行**元素后，您可以查找嵌套的**行**元素以输出这些

 ****```
<row>
   <!-- Process Cells -->
</row>
<xsl:apply-templates select="row"/> 
```

请注意，没有真正需要使用**xsl:element**来输出静态命名元素，只需直接写出元素即可。您的代码也可以通过使用属性值模板来创建属性来整理，而不是使用**xsl:attribute**

尝试以下 XSLT：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
   <xsl:output method="xml" indent="yes"/>

   <xsl:template match="rows">
      <sheetData>
         <xsl:apply-templates select="row"/>
      </sheetData>
   </xsl:template>

   <xsl:template match="row">
      <xsl:variable name="rowID">
         <xsl:number level="any" format="1"/>
      </xsl:variable>
      <row r="{$rowID}">
         <xsl:for-each select="cell">
            <xsl:variable name="colID">
               <xsl:number value="position()" format="A"/>
            </xsl:variable>
            <c t="inlineStr" r="{string($colID)}{string($rowID)}">
               <is>
                  <t>
                     <xsl:value-of select="."/>
                  </t>
               </is>
            </c>
         </xsl:for-each>
      </row>
      <xsl:apply-templates select="row"/>
   </xsl:template>
</xsl:stylesheet> 
```

当应用于您的 XML 时，将输出以下内容

```
<sheetData>
   <row r="1">
      <c t="inlineStr" r="A1">
         <is>
            <t>Row1</t>
         </is>
      </c>
      <c t="inlineStr" r="B1">
         <is>
            <t>1</t>
         </is>
      </c>
      <c t="inlineStr" r="C1">
         <is>
            <t>2</t>
         </is>
      </c>
      <c t="inlineStr" r="D1">
         <is>
            <t>3</t>
         </is>
      </c>
      <c t="inlineStr" r="E1">
         <is>
            <t>4</t>
         </is>
      </c>
      <c t="inlineStr" r="F1">
         <is>
            <t>5</t>
         </is>
      </c>
      <c t="inlineStr" r="G1">
         <is>
            <t>6</t>
         </is>
      </c>
      <c t="inlineStr" r="H1">
         <is>
            <t>7</t>
         </is>
      </c>
   </row>
   <row r="2">
      <c t="inlineStr" r="A2">
         <is>
            <t>Row1_1</t>
         </is>
      </c>
      <c t="inlineStr" r="B2">
         <is>
            <t>8</t>
         </is>
      </c>
      <c t="inlineStr" r="C2">
         <is>
            <t>9</t>
         </is>
      </c>
      <c t="inlineStr" r="D2">
         <is>
            <t>10</t>
         </is>
      </c>
      <c t="inlineStr" r="E2">
         <is>
            <t>11</t>
         </is>
      </c>
      <c t="inlineStr" r="F2">
         <is>
            <t>12</t>
         </is>
      </c>
      <c t="inlineStr" r="G2">
         <is>
            <t>13</t>
         </is>
      </c>
      <c t="inlineStr" r="H2">
         <is>
            <t>14</t>
         </is>
      </c>
   </row>
   <row r="3">
      <c t="inlineStr" r="A3">
         <is>
            <t>Row1_2</t>
         </is>
      </c>
      <c t="inlineStr" r="B3">
         <is>
            <t>15</t>
         </is>
      </c>
      <c t="inlineStr" r="C3">
         <is>
            <t>16</t>
         </is>
      </c>
      <c t="inlineStr" r="D3">
         <is>
            <t>17</t>
         </is>
      </c>
      <c t="inlineStr" r="E3">
         <is>
            <t>18</t>
         </is>
      </c>
      <c t="inlineStr" r="F3">
         <is>
            <t>19</t>
         </is>
      </c>
      <c t="inlineStr" r="G3">
         <is>
            <t>20</t>
         </is>
      </c>
      <c t="inlineStr" r="H3">
         <is>
            <t>21</t>
         </is>
      </c>
   </row>
   <row r="4">
      <c t="inlineStr" r="A4">
         <is>
            <t>Row2</t>
         </is>
      </c>
      <c t="inlineStr" r="B4">
         <is>
            <t>22</t>
         </is>
      </c>
      <c t="inlineStr" r="C4">
         <is>
            <t>23</t>
         </is>
      </c>
      <c t="inlineStr" r="D4">
         <is>
            <t>24</t>
         </is>
      </c>
      <c t="inlineStr" r="E4">
         <is>
            <t>25</t>
         </is>
      </c>
      <c t="inlineStr" r="F4">
         <is>
            <t>26</t>
         </is>
      </c>
      <c t="inlineStr" r="G4">
         <is>
            <t>27</t>
         </is>
      </c>
      <c t="inlineStr" r="H4">
         <is>
            <t>28</t>
         </is>
      </c>
   </row>
</sheetData> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-21T08:50:29.627

您可以做的另一件事是按原样导入 XML。

1.  切换到 XML-map（开发工具，xml 源，[xml 映射应该在右侧打开]）
2.  全部删除
3.  然后你可以用右键选择“添加”将数据输入到Excel工作表中****

# jquery - Wordpress 中的 jQuery 自动完成错误

> ID：13191910
> 
> 赞同：1
> 
> 时间：2012-11-02T08:42:38.923
> 
> 标签：jquery, wordpress, autocomplete

我正在尝试在 wordpress 中实现自动完成功能，但出现以下错误：

> **致命错误：在第9**行的 >'...get_airports.php' 中调用未定义的方法 stdClass::get_results()

 **以下是我的代码：

```
html: <input type="text" name="airports" id="airports" />

php: global $wpdb;

$q = strtolower($_GET["q"]);
if (!$q) return;

$wpdb->iata_airport_codes = $wpdb->prefix . "iata_airport_codes"; 
$airport_list_db = $wpdb->
get_results("SELECT * FROM `wp_iata_airport_codes` WHERE `airport` LIKE '%$q%' LIMIT   0,15");

foreach($airport_list_db as $airports){

 echo $airports->airport . "\n";

}

js: jQuery(document).ready(function() {
$("#airports").autocomplete("get_airports.php", {
    width: 230,
    matchContains: true,
    selectFirst: false
});
 }); 
```

任何帮助将不胜感激thanx。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-27T09:28:56.387

你应该插入

```
require_once('wp-blog-header.php'); 
```

当您想在不属于 WordPress 插件且不存在于主题的 functions.php 的文件中使用*$wpdb时，在您的代码之前。*

[顺便说一句，如果您为 AJAX 请求创建自定义处理程序](http://codex.wordpress.org/Plugin_API/Action_Reference/wp_ajax_%28action%29)会更好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T08:42:30.770

解决了！！！我使用 mysql_connect 直接连接到 db，然后使用 mysql_fetch_array($result, MYSQL_ASSOC) 循环并显示结果。那行得通，但仍然不知道错误来自哪里，可能是因为我将 'get_airports.php' 放在了 wordpress 之外的站点根目录中。感谢所有的帮助。**

# vb.net - 如何知道浏览器是否真的浏览完毕

> ID：13191916
> 
> 赞同：2
> 
> 时间：2012-11-02T08:43:07.377
> 
> 标签：vb.net, events, event-handling, browser, geckofx

我通常会通过 DocumentCompleted 事件了解浏览器是否已完成加载。

但最近，当我尝试像[http://youtube.com](http://youtube.com)这样的网站时，documentcompleted 事件不止一次触发。我放置了 console.writeline 来检查发生了什么

```
Private Sub mybrowser_Navigating(ByVal sender As Object, ByVal e As Gecko.GeckoNavigatingEventArgs) Handles mybrowser.Navigating
    Console.WriteLine("navigating " + e.Uri.AbsoluteUri)
End Sub

Private Sub mybrowser_Navigated(ByVal sender As Object, ByVal e As Gecko.GeckoNavigatedEventArgs) Handles mybrowser.Navigated
    Console.WriteLine("navigated " + e.Uri.AbsoluteUri)
End Sub

Private Sub mybrowser_DocumentCompleted(ByVal sender As Object, ByVal e As System.EventArgs) Handles mybrowser.DocumentCompleted
    Console.WriteLine("document " + mybrowser.Document.Url.AbsoluteUri)
End Sub 
```

结果是（用[http://youtube.com](http://youtube.com)测试）

```
navigating http://youtube.com/
navigated http://www.youtube.com/
document http://www.youtube.com/
navigating http://www.google.com/pagead/drt/ui
navigated wyciwyg://0/http://www.youtube.com/
navigating wyciwyg://0/http://www.youtube.com/
document http://www.youtube.com/
navigating about:blank
document http://www.youtube.com/
document http://www.youtube.com/ 
```

如您所见，该站点多次重定向和触发导航事件，包括缓存、google pagead 站点和 about:blank(???)。每个导航事件都将由 documentcompleted 事件结束。

那么，如果我只想知道浏览器何时真正完成了对网站的浏览，无论有多少重定向，我应该听什么事件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T22:46:48.000

不确定旧版本，但在 GeckoFx 的 12.0 版本中，有两个有用的属性：

*   忙
*   IsAjax忙

您可以通过检查以下两个属性来确定浏览器是否已完成加载文档和所有内容：

```
if (geckofx.IsBusy || geckofx.IsAjaxBusy)
{
    // still busy, not finished yet
}
else
{
    // finished
} 
```

示例是 C#，抱歉。但是您可能比我更好地将它转换为 VB.NET。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-07-21T20:00:37.580

在 VB.net 中添加此事件处理程序和例程

```
Sub PageLoaded_Event(ByVal sender As Object, ByVal e As Gecko.Events.GeckoDocumentCompletedEventArgs) Handles GeckoWebBrowser1.DocumentCompleted
    PageLoaded = True
End Sub

Sub WaitForNav()
    While PageLoaded = False
        Application.DoEvents()
    End While
    PageLoaded = False
End Sub 
```

然后在每次 geckowebbrowser.navigate(www...) 调用 WaitForNav 之后。

希望这对其他人有帮助

# java - string.replaceAll 的问题

> ID：13191921
> 
> 赞同：4
> 
> 时间：2012-11-02T08:43:32.080
> 
> 标签：java

我只是想`\\` 用`\\\\`

下面是程序，但它正在终止

```
String path="\\dctmadmin\\Human Resource\\Training\\Procedures\\Formalities\\Legalities\\Material";         

long start = System.currentTimeMillis();
// replace this string \\ with \\\\
String formatedPath = path.replaceAll("\\\\", "\\\\\\\\");
System.out.println(" string after formatting using replaceAll = "+formatedPath);
long end = System.currentTimeMillis();
System.out.println(" time take in milli seconds for String.replaceAll = "+Long.toString(end-start) ); 
```

请让我知道我正在做的错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T08:57:40.043

对于不需要正则表达式功能的文字字符串替换，您应该使用它，`replace`而不是`replaceAll`因为它更简单、更高效。

```
// replace single backslash with double
String formatedPath = path.replace("\\", "\\\\"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T08:57:24.443

你真正的字符串只包含一个\。测试

```
System.out.println("\\dctmadmin\\Human Resource\\Training\\Procedures\\Formalities\\Legalities\\Material"); 
```

因此，如果在 System.out.println("your string".replaceAll(...)); 时返回 double \\，则您的 replaceAll 运行正常

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-02T08:58:07.140

试试看

```
String path = 
    "\\dctmadmin\\Human Resource\\Training\\Procedures\\Formalities\\Legalities\\Material";

long start = System.currentTimeMillis();
// replace this string \\ with \\\\

String formatedPath = path.replaceAll("\\\\", "\\\\\\\\\\\\\\\\");

System.out.println(" string after formatting using replaceAll = " + 
                   formatedPath);

long end = System.currentTimeMillis();

System.out.println(" time take in milli seconds for String.replaceAll = " + Long.toString(end - start));

System.out.println(" path  "+formatedPath); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-02T08:54:46.380

在你的字符串中，当你说 \ 它实际上意味着 \ 被另一个 \ 转义，因此它正在正确替换它。

```
String path="\\dctmadmin\\Human Resource\\Training\\Procedures\\Formalities\\Legalities\\Material";

         System.out.println("String before: "+ path);
        long start = System.currentTimeMillis();
        // replace this string \\ with \\\\

          String formatedPath = path.replaceAll("\\\\", "\\\\\\\\");

          System.out.println(" string after formatting using replaceAll = "+formatedPath); 
```

我得到的输出

```
 String before:  \dctmadmin\Human Resource\Training\Procedures\Formalities\Legalities\Material

     string after formatting using replaceAll = \\dctmadmin\\Human Resource\\Training\\Procedures\\Formalities\\Legalities\\Material
     time take in milli seconds for String.replaceAll = 2 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-02T09:08:37.010

你做对了。在 Java 中字符串`\\`代表一个反斜杠，在正则表达式中它是非字符串转义。

```
 String formatedPath = path.replaceAll("\\\\", "\\\\\\\\");
    System.out.println("path         = " + path);
    System.out.println("formatedPath = " + formatedPath); 
```

给

```
path         = \dctmadmin\Human Resource\Training\Pr...s\Form...s\L...s\Material
formatedPath = \\dctmadmin\\Human Resource\\Training\\Pr..s\\Form...s\\Material 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-02T09:09:20.757

的输出

```
string after formatting using replaceAll = \\dctmadmin\\Human Resource\\Training\\Procedures\\Formalities\\Legalities\\Material 
```

是正确的。看起来它没有改变，因为您忽略了原始中的“\”被转义的事实:)

# php - 重定向循环（仅在在线服务器上，但不在本地主机上）

> ID：13191924
> 
> 赞同：0
> 
> 时间：2012-11-02T08:43:43.037
> 
> 标签：php, .htaccess, redirect, infinite-loop

我用 php、sql、html 和 CSS 制作了一个网站。当我在本地主机上运行这个站点时，一切都运行良好。但是当我将它（并自动添加一个 .htaccess 文件）上传到在线服务器时，它给了我一个重定向循环错误。我的页面的重定向结构如下：

**索引.php：**

-form one with "button" tags (not input type: button) --> post method: page1.php

- 使用“按钮”标签形成两个（不是输入类型：按钮）--> 发布方法：page2.php

- 带有“按钮”标签的形式三（不是输入类型：按钮）--> 发布方法：page3.php

**page1.php：**

-php/sql 处理（在数据库中插入变量，计算它们，...）

-header(location: index.php)（即在其他php代码之后自动执行）

**page2.php：**

-php/sql 处理（在数据库中插入变量，计算它们，...）

-header(location: index.php)（即在其他php代码之后自动执行）

**page3.php：**

- 标题的即时运行（位置：index.php）；

重新加载页面

感谢所有帮助，

Bibbox3

# asp.net - GridView 自动调整大小

> ID：13191926
> 
> 赞同：0
> 
> 时间：2012-11-02T08:43:54.990
> 
> 标签：asp.net, .net, gridview

我在 asp 中有一个 GridView，它会不断调整自身的大小。我可以以某种方式修复 GridView 的大小，使其不这样做吗？尽管 GridView 中的数据具有相同的长度或更小，但它会不断缩小自身

我的 asp 代码：

```
 <asp:GridView ID="Grid" runat="server" AllowPaging="True" PageSize="18" OnPageIndexChanging="Grid_PageIndexChanging"
            ForeColor="Black" GridLines="Both" Width="991px" Height="600px" RowStyle-HorizontalAlign="Center"
        BackColor="White" BorderColor="#999999" BorderWidth="1px" 
            AutoGenerateColumns="False" style="margin-left: 9px">
            <Columns>
                <asp:TemplateField HeaderText="RequestID">
                <ItemTemplate>
                <a target = "_blank" href="www.danx/default?request=<%# Eval("request")%>"><%# Eval("request")%></a>
                </ItemTemplate>
                </asp:TemplateField>
                <asp:TemplateField HeaderText="Barcode">
                <ItemTemplate>
                <a target = "_blank" href="www.danx/default?barcode=<%# Eval("barcode")%>"><%# Eval("barcode")%></a>
                </ItemTemplate>
                </asp:TemplateField>
                <asp:BoundField DataField="adrid" HeaderText="AdrID" SortExpression="AdrID" />
                <asp:BoundField DataField="name" HeaderText="Navn" SortExpression="Name" />
                <asp:BoundField DataField="street" HeaderText="Vej" SortExpression="Street" />
                <asp:BoundField DataField="houseno" HeaderText="Husnr" 
                    SortExpression="HouseNo" />
                <asp:BoundField DataField="postal" HeaderText="Postnr" 
                    SortExpression="Postal" />
                <asp:BoundField DataField="city" HeaderText="By" SortExpression="City" />
                <asp:BoundField DataField="country" HeaderText="Land" 
                    SortExpression="Country" />
                <asp:TemplateField HeaderText="Lokation">
                <ItemTemplate>
                <a target = "_blank" href="https://maps.google.dk/maps?q=<%# Eval("latitude")%>,<%# Eval("longitude")%>"><%# Eval("latitudetxt")%></a>
                </ItemTemplate>
                </asp:TemplateField>
                <asp:BoundField DataField="date" HeaderText="ReceivedDate" 
                    SortExpression="ReceivedDate" />

            </Columns>
            <FooterStyle BackColor="#CCCCCC" />

<RowStyle HorizontalAlign="Center"></RowStyle>

            <SelectedRowStyle BackColor="#000099" Font-Bold="True" ForeColor="White" />
            <PagerStyle BackColor="#999999" ForeColor="Blue" HorizontalAlign="Center" />
            <HeaderStyle BackColor="DarkGray" Font-Bold="True" ForeColor="Black" />
            <AlternatingRowStyle BackColor="LightGray" />
            <SortedAscendingCellStyle BackColor="#F1F1F1" />
            <SortedAscendingHeaderStyle BackColor="#808080" />
            <SortedDescendingCellStyle BackColor="#CAC9C9" />
            <SortedDescendingHeaderStyle BackColor="#383838" />
</asp:GridView> 
```

你能帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T09:04:02.827

由于您为 gridview 使用固定宽度（991px），因此列会随着它们的内容变大而缩小/调整。您可以做的一件事是为您不想调整大小的那些列提供固定宽度（以 % 或固定）。例如

```
<ItemTemplate>
<a target = "_blank" href="www.danx/default?request=<%# Eval("request")%>"><%# Eval("request")%></a>
</ItemTemplate> 
```

您还可以增加 GridView 的大小以轻松容纳列，例如，`100%`如果容器大于 991 像素，则将其设置为

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T09:44:26.510

这可能与单元格中的数据太长而没有空格有关吗？您可以随时使用

```
td{word-wrap:break-word;} 
```

或确保您有空格。

甚至使用列的样式，明确设置宽度

```
<asp:TemplateField HeaderText="RequestID" HeaderStyle-CssClass="setWidthClass">
                <ItemTemplate>... 
```

甚至

```
 <asp:TemplateField HeaderText="RequestID" ItemStyle-Width="100"> 
```

当然，这可能与此无关。

# android - 避免内部类android的内存泄漏

> ID：13191927
> 
> 赞同：2
> 
> 时间：2012-11-02T08:43:56.453
> 
> 标签：android

我很难过。我似乎无法弄清楚如何在 android 中正确创建新的侦听器以避免内存泄漏。我是否会使用带有对外部类的 SoftReference 的静态内部类（因为我需要访问外部类变量）？或者我应该做这样的事情：

```
setScrollListener(new ScrollListner {

//methods here.

}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T08:56:26.520

仅当 Scrolllistener 是从您的活动之外的某些内容中引用时，才会发生内存泄漏。

如果您在代码中使用滚动侦听器，则侦听器将保留对您的引用 Activity 因为它是一个匿名类。但是对您的听众的唯一引用将来自该活动引用的视图。一旦活动完成，垃圾收集器可以立即清理整个内存。

# c# - 在 C# (ASP.NET 4.0) 中处理多维 POST 数据

> ID：13191932
> 
> 赞同：1
> 
> 时间：2012-11-02T08:44:09.310
> 
> 标签：c#, html, asp.net-mvc, asp.net-mvc-4, http-post

我创建了一个具有动态行和列的矩阵类型表单。单元格包含需要由 C#（MVC4、ASP.NET 4）处理的输入字段。表格看起来像这样（简化）：

```
<form action="~/Administration/PriceMatrix" method="post">
    <input type="text" name="Prices[1][0][1]" value="15.00" />
    <input type="text" name="Prices[1][0][2]" value="12.50" />
    <input type="text" name="Prices[1][1][1]" value="10.00" />
    <input type="text" name="Prices[1][1][2]" value="7.50" />
</form> 
```

匹配的控制器仍然是空的：

```
[HttpPost]
public ActionResult PriceMatrix(object form)
{

} 
```

当我使用时`Request.Form`，我当然可以访问所有值，但它们不会（反）序列化为数组。所以我不能这样做：`Request.Form["Prices"][0]`或类似的事情。相反，我只能使用它们的全名访问它们：`Request.Form["Prices[1][0][1]"]`(=15.00)。当然，我可以循环遍历数组并拆分`Key`每个值，但我想以其他方式进行。我试图`object form`用另一种类型或包含列表等的自定义对象替换，但到目前为止还没有运气。

有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:49:50.993

您需要将值作为自定义类型。我建议您将表单序列化为 JSON，然后在服务器端以您喜欢的任何方式访问序列化的表单。

# iphone - 故事板奇怪的控制器视图框架起源

> ID：13191941
> 
> 赞同：3
> 
> 时间：2012-11-02T08:45:02.053
> 
> 标签：iphone, ios, xcode, cocoa

我遇到了一个关于 Xcode-s 故事板的奇怪问题。

我的板上有很多视图控制器，出于某种原因，它们的所有视图原点都不是 0。所有 x 原点都是 160，y 原点是 240。

![这是视图控制器的视图之一](../Images/f6612b9b3fa1e44252c16cafb5f3939b.png)

所有的视图看起来仍然在左上角..

奇怪的是，大多数视图控制器的子视图似乎也有错误的坐标。

![这是一个顶视图子视图](../Images/e4c901ab34de6f53332c11e3724aa64e.png)

有谁知道这里可能是什么问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-02T08:52:03.857

这里的问题是，`X`在您的示例中不是左上角引用而是居中。只需单击检查器（原点）左上角的点，您应该会看到“正确”的值。![在此处输入图像描述](../Images/e34fa95f05d51b851bfa526cc34df549.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:50:06.900

选择视图控制器，然后转到 Attribute Inspector 将大小设置为“FreeForm”

# java - 如何在 trie 中找到最长的单词？

> ID：13191942
> 
> 赞同：5
> 
> 时间：2012-11-02T08:45:02.617
> 
> 标签：java, algorithm, tree, trie

我无法理解 trie 的概念。从“trie”维基百科条目中，我有这张照片： ![在此处输入图像描述](../Images/f1d4a80aaee131751ece5426833568b4.png)

如果我没看错的话，trie 中的所有叶节点都会拼出整个单词，并且所有父节点都包含通向最终叶节点的字符。所以，如果我有一个名为 DigitalTreeNode 的类定义为

```
public class DigitalTreeNode {
       public boolean isAWord;
       public String wordToHere; (compiles all the characters in a word together)
       public Map<String, DTN> children;
} 
```

如果我想实现一个返回 trie 中最长单词的方法，它是否只涉及在每个叶节点处查找最长单词？我将如何实现一种方法，例如：

```
public static String longestWord (DigitalTreeNode d); 
```

我猜它涉及设置一个最长的字符串变量，递归地遍历每个节点并检查它是否是一个单词，如果它是一个单词并且它的长度大于最长的变量，那么 long = newWordLength 。但是，我不确定 Map 孩子如何适应。我如何使用上述方法在任何 trie 中找到最长的单词？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-02T08:53:16.823

叶节点通常不包含整个字符串（尽管它们可以），在 trie 中很多时候，叶节点只包含一个“$”符号来表示这是字符串的结尾。

要在树中找到最长的单词，您可以在树上使用[BFS ，首先找到“最后一个”叶子。](http://en.wikipedia.org/wiki/Breadth-first_search)“最后一个叶子”是从 BFS 队列中弹出的最后一个元素（在弹出后，BFS 的算法以空队列停止）。
要从这片叶子中获取实际单词，您需要从叶子向上回到根。[该线程](https://stackoverflow.com/questions/9590299/how-can-i-find-the-actual-path-found-by-bfs)讨论了如何完成。

这个解是`O(|S| * n)`，其中`|S|`是字符串的平均长度，`n`是 DS 中的字符串数。

如果您可以操纵 trie DS，我认为它可以做得更好（但这似乎不是这个问题的问题）

**伪代码：**

```
findLongest(trie):
  //first do a BFS and find the "last node"
  queue <- []
  queue.add(trie.root)
  last <- nil
  map <- empty map
  while (not queue.empty()):
     curr <- queue.pop()
     for each son of curr:
        queue.add(son)
        map.put(son,curr) //marking curr as the parent of son
     last <- curr
  //in here, last indicate the leaf of the longest word
  //Now, go up the trie and find the actual path/string
  curr <- last
  str = ""
  while (curr != nil):
      str = curr + str //we go from end to start   
      curr = map.get(curr)
  return str 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-12-21T12:56:03.930

另一种方法是添加一个布尔值来表示它是否是单词的结尾和实际的单词，如下所示：

```
 public class TrieNode {
        private HashMap<Character, TrieNode> children = new HashMap<>();
        private boolean endOfWord;
        private String actualWord;
        //setter getter
} 
```

在插入时，如果它是单词的结尾，则将布尔值设置为 true 并且实际单词

```
 public void insert(String insert) {
        HashMap<Character, TrieNode> parent = root.getChildren();
        TrieNode child = null;
        for (Character c : insert.toCharArray()) {
            child = parent.containsKey(c) ? parent.get(c) : new TrieNode();
            parent.put(c, child);
            parent = child.getChildren();

        }
        if (child != null) {
            child.setEndOfWord(true);
            child.setActualWord(insert);
        }
    } 
```

最后获取它，你只需做一个 BFS 搜索，一旦你有了那个节点，你就得到了你正在寻找的实际单词。

```
 public TrieNode findLongest() {
        LinkedList<TrieNode> queue = new LinkedList();
        queue.push(root);
        TrieNode current = null;
        while (!queue.isEmpty()) {
            current = queue.pop();
            if (current.getChildren() != null) {
                for (TrieNode children : current.getChildren().values()) {
                    queue.push(children);
                }
            }
        }
        System.out.println(current.getActualWord()); // check here
        return current;
    } 
```

# android - 在 Android 中禁用后退按钮（不工作）

> ID：13191946
> 
> 赞同：1
> 
> 时间：2012-11-02T08:45:11.313
> 
> 标签：android

```
package com.my.app ;

import java.io.ByteArrayOutputStream;
import java.io.File;
import java.io.FileOutputStream;
import java.io.FileWriter;
import java.io.IOException;
import java.net.URLEncoder;
import java.util.Arrays;
import java.util.Comparator;

import com.my.app .R;

import android.app.Activity;
import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.Bitmap.CompressFormat;
import android.net.Uri;
import android.os.Bundle;
import android.os.Environment;
import android.provider.MediaStore;
import android.util.Base64;
import android.util.Log;
import android.widget.ImageView;
import android.widget.Toast;

public class ImageInfo extends Activity {

    private static final int CAMERA_PIC_REQUEST = 1111;
    private ImageView mImage;

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        mImage = (ImageView) findViewById(R.id.camera_image);
        //1
        Intent intent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
        startActivityForResult(intent, CAMERA_PIC_REQUEST);
    }

    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        if(resultCode != RESULT_CANCELED)   {
            if(requestCode == CAMERA_PIC_REQUEST){

                Bitmap thumbnail = (Bitmap) data.getExtras().get("data");
                //  mImage.setImageBitmap(thumbnail);
                //3
                ByteArrayOutputStream bytes = new ByteArrayOutputStream();
                thumbnail.compress(Bitmap.CompressFormat.JPEG, 100, bytes);
                //4
                File file = new File("data/data/com.my.app /photo.jpg");
                File myDir=new File("data/data/com.my.app /");
                try {
                    String encodedPhotoImage;

                    file.createNewFile();
                    FileOutputStream fo = new FileOutputStream(file);
                    //5
                    fo.write(bytes.toByteArray());
                    fo.close();
                    deleteLatest() ;

                    byte[] photoImgBytes=readPhotoFile();
                    ByteArrayOutputStream bao1 = new ByteArrayOutputStream();

                    Bitmap bitmapPhoto = BitmapFactory.decodeByteArray(photoImgBytes, 0, photoImgBytes.length);
                    bitmapPhoto.compress(Bitmap.CompressFormat.JPEG, 100,bao1);
                    byte[] by = bao1.toByteArray();

                    String by1 = Base64.encodeToString(by, 0);
                    encodedPhotoImage =  URLEncoder.encode(by1);
                    file.delete();

                    if (!myDir.exists()) {
                        myDir.mkdirs();
                    }
                    File encryptedFile=new File("data/data/com.my.app /photo.txt");
                    encryptedFile.createNewFile();
                    FileWriter writer = new FileWriter(encryptedFile);
                    writer.append(encodedPhotoImage);
                    writer.close();
                    //Base64.encodeToString(ba1, Base64.DEFAULT);
                    Intent intent=new Intent(ImageInfo.this,Info.class);
                    startActivity(intent);
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

            }
        }
    }

    private byte[] readPhotoFile(){         
        String url="data/data/com.my.app /photo.jpg";
        Log.e("","Image is"+url);
        Bitmap bm = BitmapFactory.decodeFile(url);
        ByteArrayOutputStream baos = new ByteArrayOutputStream();  
        bm.compress(Bitmap.CompressFormat.JPEG, 100, baos);
        byte[] b = baos.toByteArray(); 
        return b;
    }

    @Override
    public void onBackPressed() {
        // do nothing.
    }

    private void deleteLatest() {
        File f = new File(Environment.getExternalStorageDirectory() + "/DCIM/Camera" );
        File [] files = f.listFiles();
        Arrays.sort( files, new Comparator<Object>()
                {
            public int compare(Object o1, Object o2) {
                if (((File)o1).lastModified() > ((File)o2).lastModified()) {
                    return -1;
                } else if (((File)o1).lastModified() < ((File)o2).lastModified()) {
                    return 1;
                } else {
                    return 0;
                }
            }

                });
        files[0].delete();
    }
} 
```

这是我的java文件。我已经使用禁用了后退按钮

```
public void onBackPressed() {
        // do nothing.
    } 
```

但是当在应用程序中按下后退按钮时，整个屏幕变黑。请找到屏幕截图![在此处输入图像描述](../Images/4a4c058d89c4bab5bb29d8575648cd03.png)。该应用程序挂起并且可以通过任务管理器终止它然后重新启动它来访问它的唯一方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T08:53:42.057

试试这个代码来禁用后退按钮

```
@Override
    public boolean onKeyDown(int keyCode, KeyEvent event) 
    {
        if(keyCode==KeyEvent.KEYCODE_BACK)
        {
            return true;
        }
        else
        {
            return super.onKeyDown(keyCode, event);
        }
    } 
```

[从相机捕获图像并在活动中显示](https://stackoverflow.com/questions/5991319/capture-image-from-camera-and-display-in-activity)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T08:53:15.177

我看不出您的后退按钮禁用有问题。但是还有另一个问题可能会导致您在应用程序的 UI 线程中执行文件 IO 的部分问题。

Android 有一个 UI 线程来完成 UI 的所有绘制。如果您通过将大文件写入磁盘或从磁盘读取位图来阻止此线程，则手机 UI 将冻结并且在完成繁重的工作之前不会对用户输入做出反应。

我建议阅读这篇关于[响应](http://developer.android.com/guide/practices/responsiveness.html)性的文章，以了解更多关于不阻塞 UI 线程的信息。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-02T08:53:24.957

您只能在自己的应用程序中拦截 BackButton！如我所见，您正在启动某种 CameraApp，它应该为您挑选一张照片。您无法控制 CameraActivity 的 BackButton。您的屏幕有一个 ImageView，但您从未为其设置位图。BackButton 的禁用是有效的，因为您不能离开屏幕而必须通过 TaskManager “杀死”它。BackButton 在您的 Activity 中没有任何功能。

# php - Symfony1.4 的 open_basedir() 警告

> ID：13191947
> 
> 赞同：0
> 
> 时间：2012-11-02T08:45:15.173
> 
> 标签：php, symfony-1.4, open-basedir

经常浏览我的网站我可以看到这个 php 警告：

> `Warning: is_readable(): open_basedir restriction in effect. File(/var/www/vhosts/<my site>/httpdocs/apps/frontend/modules/.sf/config/config_handlers.yml) is not within the allowed path(s): (/var/www/vhosts/<my site>/httpdocs/:/tmp/) in /var/www/vhosts/<my site>/httpdocs/lib/vendor/symfony/lib/config/sfConfigCache.class.php on line 305`

真正的问题是谷歌正在用那个警告索引我的页面......

如标题中所述，我使用的是 Symfony 1.4.18。我该如何解决？

它是一个 Symfony 错误，还是一种我可以绕过的 PHP 限制？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:55:27.913

> 真正的问题是谷歌正在用那个警告索引我的页面......

在您的生产服务器上，您应该始终拥有`display_errors = Off`.

1.  打开你的 php.ini 文件。
2.  添加 display_errors = Off
3.  重启阿帕奇

opendir：限制PHP可以打开的文件到指定的目录树，包括文件本身。

检查这个答案： [open_basedir 限制生效。文件（/）不在允许的路径内：](https://stackoverflow.com/questions/1846882/open-basedir-restriction-in-effect-file-is-not-within-the-allowed-paths)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T09:07:12.427

这是一个网络服务器问题，因为您试图访问不同虚拟主机上的数据。您需要将位置添加到 open_basedir。您应该在 /var/www/vhosts//config/vhosts.conf 下找到一个配置文件。您可以添加要访问的新位置或禁用 open_basedir 限制。要添加新位置，只需编辑 open_basedir 部分（示例）：

```
php_admin_value open_basedir "/var/www/vhosts/domain.com/httpdocs:/tmp:/new/path/comes/here" 
```

但在生产性使用中，您应该禁用打印错误。他们应该去例如日志文件。

# c++ - 调用构造函数而不将其分配给任何变量 c++

> ID：13191951
> 
> 赞同：6
> 
> 时间：2012-11-02T08:45:25.317
> 
> 标签：c++, constructor

这可能是一个非常愚蠢的问题，但我什至不知道我应该写什么来寻找答案。我什至不确定我给的标题是否正确。

如果我有这样的构造函数：

```
CError(const std::string& msg) { showMessage(msg) } 
```

我想这样称呼它......

```
CError("some message"); 
```

...一切正常，但是当在某个变量中指定字符串时，我收到一个错误“类 CError 的默认构造函数不存在”：

```
std::string str = "some message";
CError(str); 
```

当我这样写时，它可以工作：

```
std::string str = "some message";
CError err(str); 
```

但我只是不需要这个`err`对象。

谁能解释我为什么不能只调用构造函数本身？

提前感谢您的答案。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-02T08:52:59.400

该行`CError(str);`被解析为`CError str;`，它定义了一个新变量`str`。我的编译器以不同的方式失败，这使得问题更加明显：`redefinition of 'str' with a different type`.

解决此问题的一个简单方法是强制转换对象：

```
(void)CError(str); 
```

然而，迫切的问题是：为什么要这样做？如果您不打算以任何方式使用构造的对象，为什么不简单地将其设为静态成员函数，甚至只是一个普通的旧自由函数？

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-02T08:57:49.070

该语句`CError(str);`被解读为定义`str`类型的对象`CError`；它等效于`CError str;`但带有`str`括号的名称。

要解决此问题，您也可以将类型名称括起来：`(CError)(str);`. 这会强制将语句读取为函数转换表达式；你可以等效地写`(CError) str;`甚至`static_cast<CError>(str);`.

在 C++11 中，您可以使用通用初始化语法来编写`CError{str};`.

# ruby - 在内部使用 RSpec

> ID：13191953
> 
> 赞同：1
> 
> 时间：2012-11-02T08:45:32.783
> 
> 标签：ruby, rspec

我正在处理的另一个项目需要一个特定的文件夹结构，我想编写一个程序来测试正确的结构。

我认为最好的方法是在 RSpec 中编写该结构的规范，然后让程序运行测试但自定义输出。我的问题是，我不知道从哪里开始！如何从另一个 ruby​​ 应用程序触发 RSpec 测试并捕获输出？

谢谢！

# c++ - 使用智能指针时是否需要阻塞赋值运算符和复制构造函数？

> ID：13191961
> 
> 赞同：0
> 
> 时间：2012-11-02T08:46:05.820
> 
> 标签：c++, operator-overloading, smart-pointers, copy-constructor

我已经在几个地方看到过这样的建议：要么定义你自己的赋值运算符/复制构造函数，要么通过将它们声明为私有来阻止默认值。

但是，我能找到的唯一危险是创建指针副本的问题，这些指针以后可能是悬空指针。

在现代 C++ 中，指针很少见，大多数类只使用智能指针（例如来自 boost 或来自 C++11 中的 std 库）。是否仍然需要为没有原始指针的类声明赋值运算符和复制构造函数？

主要是：不这样做有什么危险？会发生什么样的意外行为？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T08:52:14.223

不是没有必要隐藏这些运算符。`std::unique_ptr`已经是不可复制的（你只能移动它）。和其他类型 -`std::shared_ptr`将增加内部引用计数，因为它有方法`std::weak_ptr`所以什么都不做。`lock`您可以在此处阅读更多[信息（Boost 库）](http://www.boost.org/doc/libs/1_51_0/libs/smart_ptr/smart_ptr.htm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T08:27:20.340

这在[什么是三法则？](https://stackoverflow.com/questions/4172722/what-is-the-rule-of-three)

在以下网站上也有一个很好的解释：

> [我可以信任编译器生成的复制构造函数和赋值运算符吗？](http://www.informit.com/guides/content.aspx?g=cplusplus&seqNum=368)
> 
> 编译器生成的代码是您最好的朋友，前提是您遵守良好的 OO 实践并了解规则。如第一部分所述，编译器生成的复制构造函数和赋值运算符执行用户声明的数据成员的成员方式复制。通过将低级数据类型（例如原始指针和字符数组）替换为高级标准库对应的 std::tr1::shared_ptr 和 std::string，您不仅可以消除与手动资源相关的繁重错误管理，您还保证编译器生成的复制构造函数和赋值运算符将做正确的事情。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-02T08:50:50.663

不定义自己的赋值运算符/复制/移动构造函数的危险在于可能出现意外行为。这些操作很容易在您不知情的情况下被调用，从而导致意外行为。在这种情况下，将它们声明为私有将导致编译错误。

另请注意，并非所有地方都使用智能指针。有更多受限环境（例如内核、嵌入式等）通常没有 STL 或 boost。

# cordova - 是否可以使用 Symfony2 和 PhoneGap 开发 Web 应用程序？

> ID：13191967
> 
> 赞同：2
> 
> 时间：2012-11-02T08:46:43.450
> 
> 标签：cordova

我打算用html5和js的解决方案创建一个web应用程序，是否可以使用像Symfony2这样的PHP框架结合PhoneGap来做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-03T11:11:21.170

如果您只想使用 PhoneGap 和 symfony 制作客户端应用程序，那么答案是否定的，因为 phonegap 和 symfony 在很多方面都是两种不同的技术。

如果您打算制作一个客户端/服务器应用程序，答案是当然！

您可以创建两个子项目：

1.  symfony2（php/mysql/apache...）中的服务器，带有restful api（xml/json/html...）
2.  phonegap (javascript/html5/css3) 中与服务器交互的客户端执行客户端的职责

# c# - 使用绑定列表时将空白行添加到我的 DataGridView

> ID：13191970
> 
> 赞同：1
> 
> 时间：2012-11-02T08:47:05.500
> 
> 标签：c#, datagridview

我有一个`DataGridView`可以将测试数据添加到我的数据网格视图但是当我想手动输入任何内容（通过文本框和下拉框）时，我只是在我的数据网格视图中添加了一个空白行

这是我的代码：这是进入手动输入数据的表单

```
private void button1_Click(object sender, EventArgs e)
{
    frmAddReptile frmAddReptile = new frmAddReptile();

    frmAddReptile.ShowDialog();
    _ReptileList.Add(_Reptile);
} 
```

然后，在那个表格上，我有

```
internal Reptile _Reptile;
private void button1_Click(object sender, EventArgs e)
{
    _Reptile = new Reptile();
    _Reptile.Name = txtName.Text;
    _Reptile.Country = Convert.ToString(cbxCountry.SelectedItem);
    _Reptile.Province = Convert.ToString(cbxProvince.SelectedItem);
    _Reptile.Town = Convert.ToString(cbxTown.SelectedItem);
    _Reptile.Collector = txtCole.Text;
    _Reptile.Length = Convert.ToInt32(txtLen.Text);
    _Reptile.Coordinates =txtCo.Text;
    _Reptile.Weight = Convert.ToInt32(txtwe.Text);
    _Reptile.Date = Convert.ToString(dtpDate.Value.ToShortDateString());

    this.Close();    
} 
```

然后，单击按钮后，只有一个黑色行添加到我的数据网格视图中。

好的，我现在知道是否将所有内容添加到它工作的同一个窗口中（添加到数据网格视图）

```
private void button1_Click(object sender, EventArgs e)
    {
        _Reptile = new Reptile();
        _Reptile.Name = txtName.Text;
        _Reptile.Country = Convert.ToString(cbxCountry.SelectedItem);
        _Reptile.Province = Convert.ToString(cbxProvince.SelectedItem);
        _Reptile.Town = Convert.ToString(cbxTown.SelectedItem);
        _Reptile.Collector = txtCole.Text;
        _Reptile.Length = Convert.ToInt32(txtLen.Text);
        _Reptile.Coordinates =txtCo.Text;
        _Reptile.Weight = Convert.ToInt32(txtwe.Text);
        _Reptile.Date = Convert.ToString(dtpDate.Value.ToShortDateString());
        _ReptileList.Add(_Reptile);

    } 
```

这就是我现在所拥有的，但我怎样才能让它以不同的形式添加数据，这与它有什么关系`internal Reptile _Reptile;`吗？

# django - 如何从“http://myname.disqus.com/latest.rss”获取 rss 提要到我的 django 博客？

> ID：13191975
> 
> 赞同：0
> 
> 时间：2012-11-02T08:47:27.113
> 
> 标签：django, rss, disqus

我想显示来自 disqus 的最新 3 条评论并将它们链接到它们所属的帖子。我进行了一些研究，他们通常会解释如何创建 rss 提要，但我想获取 rss 数据。当我打开这个 rss 时，我看到这样的 xml：

```
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
<channel>

<title>unicrow - Latest Comments</title>
<link rel="http://api.friendfeed.com/2008/03#sup" href="http://disqus.com/sup/all.sup#forumcomments-e63e6ca0" type="application/json" xmlns="http://www.w3.org/2005/Atom"/>
<link>http://unicrowblog.disqus.com/</link>
<description/>
<atom:link href="http://unicrowblog.disqus.com/comments.rss" rel="self"/>
<language>en</language>
<lastBuildDate>Thu, 01 Nov 2012 10:54:23 -0000</lastBuildDate>

<item>
<title>Re: http://box:8005/post/git-flow/</title>
<link>http://box:8005/post/git-flow/#comment-697865561</link>
<description>&lt;p>hjkgjfgtk&lt;/p></description>
<dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">kripton1</dc:creator>
<pubDate>Thu, 01 Nov 2012 10:54:23 -0000</pubDate>
</item>
...
</channel>
</rss> 
```

我想在我的 django 项目中使用这个 xml。如何获取这个 xml RSS 提要？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T10:10:22.457

只是为了澄清，我以前没有这样做过，但我认为研究[这个链接](http://wiki.python.org/moin/RssLibraries)会有所帮助。您可以解析 xml 并为您的项目形成一个 HttpResponse。希望这可以引导您走向正确的方向。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T14:40:40.323

我找到了解决方案。我像那样在python中做了xml解析器

```
file = urllib2.urlopen('http://unicrowblog.disqus.com/latest.rss')
    data = file.read()
    file.close()
    dom = parseString(data)
    lists = []

    for i in range(1,4):
        xmlTag = dom.getElementsByTagName('description')[i].toxml()
        xmlData=xmlTag.replace('<description>&lt;p&gt;','').replace('&lt;/p&gt;</description>','')
        xmlDateTag = dom.getElementsByTagName('pubDate')[i].toxml()
        xmlDate=xmlDateTag.replace('<pubDate>','').replace('</pubDate>','')
        xmlLinkTag = dom.getElementsByTagName('link')[i+1].toxml()
        xmlLink=xmlLinkTag.replace('<link>','').replace('</link>','')

        data = {'xmlData':xmlData,'xmlDate':xmlDate,'xmlLink':xmlLink}
        lists.append(data) 
```

我接受了 3 条最新评论，并在这样的模板中使用它：

```
{% for list in lists %}
    <li>
       <span>{{list.xmlData|slice:":80"}}...</span>
       <span>→ <a href="{{list.xmlLink}}">Devamı</a></span>
       <span class="time">{{list.xmlDate}}</span>
    </li>
{% endfor %} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-12T15:30:54.793

使用此代码它会自动从 Disqus 检索数据并显示

```
<div id="recentcomments" class="dsq-widget"><script type="text/javascript" src="http://YOURBLOG.disqus.com/recent_comments_widget.js?num_items=5&hide_avatars=1&avatar_size=50&excerpt_length=10"></script></div> 
```

不要忘记提及您的博客名称来代替您的***博客***。

# php - 通过 list() 在 for 循环中创建数组？

> ID：13191979
> 
> 赞同：0
> 
> 时间：2012-11-02T08:47:38.820
> 
> 标签：php, arrays

$$我有一堆文本文件，我想最终分解成数组，但由于文本文件的数量是通过用户输入动态选择的，我不能只一个一个地初始化它们，而是选择一个 for 循环。

例如，我有三个文本文件包含以下内容（请原谅 \n，假设它是一个换行符）：

> 文件 1.txt = 1 \n 2 \n 3
> 
> 文件 2.txt = 6 \n 2 \n 7
> 
> 文件 3.txt = 9 \n 1 \n 9

我尝试的代码：

```
<?php
    for ($i = 1; $i <= 3; $i++) {
        list($line1[$i], $line2[$i], $line3[$i]) = file("public_html/texts/file".$i.".txt");
?> 
```

这显然不起作用，但我不知道为什么。最后，结果应该是：

```
$line1[1] = 1
$line2[1] = 2
$line3[1] = 3
$line1[2] = 6
$line2[2] = 2
$line3[2] = 7
$line1[3] = 9
$line2[3] = 1
$line3[3] = 9 
```

我该怎么做呢？

编辑; 固定错字。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:53:20.437

您的代码中有错误，请参阅：

```
file("public_html/texts/file".&i.".txt");
                              ^-- TYPO HERE 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T08:52:06.467

```
for($i = 1; $i <= 3; $i++) {

    $lines = file('public_html/texts/file' . $i . '.txt');

    $line1[] = $lines[0];
    $line2[] = $lines[1];
    $line3[] = $lines[2];
} 
```

# java - 使用 dom4j 添加命名空间和命名空间前缀

> ID：13191981
> 
> 赞同：2
> 
> 时间：2012-11-02T08:48:09.780
> 
> 标签：java, xml-parsing, xml-namespaces, dom4j

我正在使用 dom4j 更新一个 xml，如下所示。

```
 SAXReader reader = new SAXReader();
document = reader.read( xmlFileName ); 
```

但它从元素中删除了所有命名空间，所以想手动添加，但是当我尝试以下代码时它不起作用。

```
 Element e1 = root.addElement("jmsProducer");   
    e1.addNamespace("AEService", "http://www.tibco.com/xmlns/aemeta/services/2002"); 
```

我的 xml 看起来像

```
 <AEService:jmsProducer objectType="endpoint.JMSPublisher" name="Pub1EndPoint">  
    <AEService:wireFormat>aeXml</AEService:wireFormat> 
```

哪个 sud 看起来像

```
 <AEService:jmsProducer xmlns:AEService="http://www.tibco.com/xmlns/aemeta/services   /2002" objectType="endpoint.JMSPublisher" name="Pub1EndPoint">
    <AEService:wireFormat>aeXml</AEService:wireFormat> 
```

任何帮助都是高度赞赏的。敲了两天尝试使用documentfactory方法仍然没有用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-07-17T17:52:24.533

我意识到这是一个旧线程，并且在编写答案时 dom4j 可能没有足够的命名空间功能，但看起来 dom4j 现在可以使用我使用的版本（1.6.1）轻松完成此任务. 我来这里寻求有关如何使用 dom4j 构建命名空间感知 XML 的帮助，发布我的 Java 代码（以在原始帖子中构建 XML 片段）以防它帮助某人。

这是构建它的Java代码。

```
Document xmldoc = DocumentHelper.createDocument();
Namespace aeServiceNs = new Namespace("AEService",
  "http://www.tibco.com/xmlns/aemeta/services/2002");
Element root = xmldoc.addElement(new QName("jmsProducer", aeServiceNs))
                     .addAttribute("objectType", "endpoint.JMSPublisher")
                     .addAttribute("name", "Pub1EndPoint");
Element wireformat = root.addElement(new QName("wireFormat", aeServiceNs))
                         .setText("aeXml");
OutputFormat outputFormat = OutputFormat.createPrettyPrint();
XMLWriter xmlwriter = new XMLWriter(System.out, outputFormat);
xmlwriter.write(xmldoc); 
```

产生这个输出：

```
<?xml version="1.0" encoding="UTF-8"?>

<AEService:jmsProducer 
    xmlns:AEService="http://www.tibco.com/xmlns/aemeta/services/2002" 
    objectType="endpoint.JMSPublisher" name="Pub1EndPoint">
  <AEService:wireFormat>aeXml</AEService:wireFormat>
</AEService:jmsProducer> 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T09:22:45.733

我建议你转储 dom4j 并使用 JAXB 或 StAX。如果您不能这样做，请尝试以下操作（我没有对此进行验证，因此将后续问题作为评论发布）

```
Namespace ns = new Namespace("AEService","http://www.tibco.com/xmlns/aemeta/services/2002")
document.add(ns); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-27T21:26:54.777

我发现为了正确设置命名空间，需要在整个节点层次结构上递归设置。

这两种方法可以解决问题：

```
 /**
    * Recursively sets the namespace of the element and all its children.
    */
   private void setNamespaces( Element elem, Namespace ns ) {
      setNamespace( elem, ns );
      setNamespaces( elem.content(), ns );
   }

   /**
    * Recursively sets the namespace of the List and all children if the
    * current namespace is match
    */
   private void setNamespaces( List l, Namespace ns ) {
      Node n = null;
      for ( int i = 0; i < l.size(); i++ ) {
         n = ( Node ) l.get( i );

         if ( n.getNodeType() == Node.ATTRIBUTE_NODE ) {
            (( Attribute ) n).setNamespace( ns );
         }
         if ( n.getNodeType() == Node.ELEMENT_NODE ) {
            setNamespaces( ( Element ) n, ns );
         }
      }
   } 
```

然后我可以像这样添加命名空间：

```
setNamespaces( ( Element ) xml.selectSingleNode( "/root/settings" ),
                  new Namespace( "", "http://www.penvision.se/printprocessor" ) ); 
```

希望这可以帮助

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-08-16T12:15:57.037

我可以通过以下步骤在子元素而不是根元素处添加命名空间：

1.  使用创建的文档中的 xpath 找到节点。

2.  创建名称空间前缀名称和值。

3.  将元素添加到节点中，如下所示：

    ```
    Document document = DocumentHelper.createDocument();
    Element documentRoot = null;

    Element created = null;

    Node parentNode = null;
    documentRoot = DocumentHelper.createElement();
    parentNode = documentRoot.selectSingleNode("parentXPath");
    Namespace ns = new Namespace("name","value");
    created = ((Element) parentNode).addElement(new QName("elementName",ns1)); 
    ```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-02-03T15:56:23.147

使用库*dom4j:2.1.1*

初始化文档后：

```
SAXReader reader = new SAXReader();
reader.getDocumentFactory().setXPathNamespaceURIs(ImmutableMap.of("x", "DAV:"));
Document doc = reader.read(new StringReader(xmlContent));
doc.getRootElement().selectNodes("//x:response") 
```

`x:`我可以在 XPath 表达式的名称空间前加上前缀。

注意：不允许使用空的命名空间。您需要指定一个前缀。

# .net - 启动 Click-Once 应用程序时出错。无法启动应用程序。联系供应商

> ID：13191984
> 
> 赞同：2
> 
> 时间：2012-11-02T08:48:23.307
> 
> 标签：.net, winforms, visual-studio, clickonce, full-trust

我们在客户的 clickonce 安装中遇到了一个奇怪的问题。这是一个完全信任的 winforms 应用程序。

我们的应用程序在 Windows 7 计算机上正确安装并且用户可以使用它。使用一天或几个小时后，clickonce 部署目录中的应用程序 exe 以及一些 DLL 也会丢失。

用户无法再使用桌面快捷方式运行应用程序，并且他收到“启动 Click-Once 应用程序时出错。应用程序无法启动。请联系供应商。”

我们通过清除 Apps\2.0 clickonce 缓存多次尝试卸载并重新安装应用程序。但是，每次我们都有同样的问题。

我们还尝试在同一台机器上创建一个新用户并在新用户下安装软件。但是，新用户也有同样的问题。

我们怀疑病毒活动。不幸的是，病毒防护没有提及任何可疑活动。另一个病毒防护人员的扫描显示没有威胁。

关于可能导致此行为的任何线索。正在运行的 exe 会从安装位置消失。

该应用程序在其他计算机上运行良好。

谢谢你，马尼什。

# php - 样式下拉居中选择 chrome 和 firefox 中的标签的选项

> ID：13191985
> 
> 赞同：1
> 
> 时间：2012-11-02T08:48:24.243
> 
> 标签：php, html, css

我有一个我设置样式的下拉列表，但我仍然不明白为什么文本在 chrome 和 Firefox 中总是以不同的方式对齐。我尝试`text-align:center;`在我的css上添加，firefox使选择列表居中但不垂直居中，而在chrome中它并没有居中，但至少它的垂直对齐是居中的。这是它当前的输出（删除了文本对齐中心部分）：

火狐渲染： ![在此处输入图像描述](../Images/d9da88f84d2509b237357d6754bc7929.png)

铬渲染： ![用于镀铬](../Images/2e66a9134b256763d69bec633625750c.png)

到目前为止，这是我的 CSS 代码：

下拉列表的 div 容器：

```
.container {
 background-color:#424141;
 border:1px solid #424141;
 width:280px;
  height:40px;
  font-size:13pt;
  font-weight:bold;
  padding-right: -20px;
  border-radius: 10px;
  -moz-border-radius: 10px;
  -webkit-border-radius: 10px;
} 
```

和下拉：

```
.dropdown  {
 background-color:#424141;
  border:1px solid #424141;
  position:absolute;
  color: #000000;
  width:280px;
  height:40px;
  font-size:13pt;
  font-weight:bold;
  border-radius: 10px;
  -moz-border-radius: 10px;
  -webkit-border-radius: 10px;
} 
```

这是添加`text-align:center;`下拉类后的结果：

![结果 2](../Images/1b4c5112631b5b5aed7c1d7407f7b42e.png)

在 chrome 中，它与上面相同。

这是此的html代码。好吧，它在一张桌子里，我想我可以跳过另一部分：

```
<tr>
    <td><p class="titles">City</p></td>
    <td><div class="container"><select name="city" tabindex="16" class="dropdown">
        <?php foreach ($cities as $city1): ?>

            <option <?php echo "value='".$city1['city']."'"; if($city1['city']==$city){echo "selected='selected'";} ?>>
        <?php echo $city1['city']; ?>
            </option>

        <?php endforeach ?>
        </select></div></td>
</tr> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:53:54.023

您尝试做的事情不能使用 HTML/CSS 跨浏览器完成，因为 HTML/CSS 规范实际上并没有说明应该如何将 CSS 或样式应用于表单元素。实际上，您可以使用 javascript 编写自己的下拉列表：

html:

```
<div id="search_result_fake_container">
    <input id="search_result_fake" value="- All Categories -">
    <div id="search_result_fake_div"></div>
</div>
<div id="search_result_present_list">
    <div class="search_result_list_item" id="search_result_item_1" style="text-align:center;">item1</div>';
    <div class="search_result_list_item" id="search_result_item_2" style="text-align:center;">item2</div>';
    <div class="search_result_list_item" id="search_result_item_3" style="text-align:center;">item3</div>';
</div> 
```

js：

```
<script type="text/javascript">
    $(document).ready(function () {
        $("#search_result_fake_div").live("click", function () {
            $("#search_result_present_list").show("fast");
        });

        $("#search_result_present_list").live("mouseleave", function () {
            $("#search_result_present_list").hide();
        });

        $(".search_result_list_item").live("click", function () {
            $("#search_result_fake").val($(this).html());
            $("#search_result_present_list").hide();
        });
    })
</script> 
```

CSS：

```
#search_result_fake {
    -moz-box-sizing: border-box; /* for Firefox */
    -webkit-box-sizing: border-box; /* for Safari $ Chrome */
    box-sizing: border-box; /* for IE $ Opera */
    padding-left: 5px;
    width: 100%;
    font-size: 90%;
    outline: none;
    -moz-border-radius: 15px;
    -webkit-border-radius: 15px;
    border-radius: 15px;
    height: 100%;
}

#search_result_fake_div {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    top: 0;
    cursor: pointer;
}

#search_result_present_list {
    display: none;
    position: absolute;
    text-align: left;
    top: 85px;
    left: 65%;
    font-size: 90%;
    overflow: auto;
    background-color: #eae7e7;
    border: #6f6f6f solid 1px;;
    height: 190px;
    width: 23%;
    z-index: 4;
} 
```

css 是复制粘贴，但我希望你明白我的意思

# php - 如何使用 php graph Api 保存 facebook 个人资料图片

> ID：13191993
> 
> 赞同：4
> 
> 时间：2012-11-02T08:48:49.070
> 
> 标签：php, facebook, facebook-graph-api

我正在使用这个 curl 类来保存文件 -->

```
class CurlHelper
{
  /**
   * Downloads a file from a url and returns the temporary file path.
   * @param string $url
   * @return string The file path
   */
  public static function downloadFile($url, $options = array())
  {
    if (!is_array($options))
      $options = array();
    $options = array_merge(array(
        'connectionTimeout' => 5, // seconds
        'timeout' => 10, // seconds
        'sslVerifyPeer' => false,
        'followLocation' => false, // if true, limit recursive redirection by
        'maxRedirs' => 1, // setting value for "maxRedirs"
        ), $options);

    // create a temporary file (we are assuming that we can write to the system's temporary directory)
    $tempFileName = tempnam(sys_get_temp_dir(), '');
    $fh = fopen($tempFileName, 'w');

    $curl = curl_init($url);
    curl_setopt($curl, CURLOPT_FILE, $fh);
    curl_setopt($curl, CURLOPT_CONNECTTIMEOUT, $options['connectionTimeout']);
    curl_setopt($curl, CURLOPT_TIMEOUT, $options['timeout']);
    curl_setopt($curl, CURLOPT_HEADER, false);
    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, $options['sslVerifyPeer']);
    curl_setopt($curl, CURLOPT_FOLLOWLOCATION, $options['followLocation']);
    curl_setopt($curl, CURLOPT_MAXREDIRS, $options['maxRedirs']);
    curl_exec($curl);

    curl_close($curl);
    fclose($fh);

    return $tempFileName;
  }
}

    $url = 'http://graph.facebook.com/shashankvaishnav/picture';
$sourceFilePath = CurlHelper::downloadFile($url, array(
  'followLocation' => true,
  'maxRedirs' => 5,
)); 
```

上面的代码会给我 $sourceFilePath 变量中的临时 url 现在我想将该图像存储在我的图像文件夹中。我被困在这里......请帮助我......提前谢谢你。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-11-02T08:58:24.013

有一个非常简单的选择：

```
$url = 'http://graph.facebook.com/shashankvaishnav/picture';
$data = file_get_contents($url);
$fileName = 'fb_profilepic.jpg';
$file = fopen($fileName, 'w+');
fputs($file, $data);
fclose($file); 
```

那时你甚至不需要任何其他东西。

或者如果`file_get_contents`被禁用（通常不是），这也应该有效：

```
$ch = curl_init();
curl_setopt ($ch, CURLOPT_URL, 'http://graph.facebook.com/shashankvaishnav/picture');
curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1);
$data = curl_exec($ch);
curl_close($ch);
$fileName = 'fb_profilepic.jpg';
$file = fopen($fileName, 'w+');
fputs($file, $data);
fclose($file); 
```

编辑：这不再可能，因为您不能再使用用户名进行 API 调用。在使用 Facebook API 而非用户名授权用户后，您必须使用（App Scoped）ID。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T09:01:58.517

```
$filename = 'abcd.jpg';    
$to = 'image/'.$filename;
if(copy($sourceFilePath,$to))
echo 'copied';
else
echo 'error'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T09:09:41.027

```
$fbprofileimage = file_get_contents('http://graph.facebook.com/senthilbp/picture/'); 
file_put_contents('senthilbp.gif', $fbprofileimage); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-02T11:48:07.313

```
$profile_Image = 'http://graph.facebook.com/shashankvaishnav/picture';
$userImage = $picturtmp_name . '.jpg'; // insert $userImage in db table field.
$savepath = '/images/';
insert_user_picture($savepath, $profile_Image, $userImage);

function insert_user_picture($path, $profile_Image, $userImage) {
  $thumb_image = file_get_contents($profile_Image);
  $thumb_file = $path . $userImage;
  file_put_contents($thumb_file, $thumb_image);
} 
```

# xmpp - XMPPFramework 中的多个帐户

> ID：13191995
> 
> 赞同：1
> 
> 时间：2012-11-02T08:48:59.750
> 
> 标签：xmpp, xmppframework

我是 XMPPFramework 的新手，我尝试对其进行调查。所以我有一个问题。XMPPFramework 可以支持多账号登录吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:10:41.343

是的，只需使用多个 XMPPStream 实例，每个帐户一个。

# c++ - 构造具有两个成员的类

> ID：13191998
> 
> 赞同：3
> 
> 时间：2012-11-02T08:49:20.757
> 
> 标签：c++, constructor, c++11

假设我们有以下内容：

(1)`C`有两个成员`X1 x1`和的类`Y1 y1`。
(2)`C`没有默认构造函数，但有构造函数`C(Z)`。
(3) 一个`X1`没有默认构造函数，但是有构造函数的类`X1(X2)`。
(4) 一个`Y1`没有默认构造函数，但是有构造函数的类`Y1(Y2)`。
(5) 一个函数`f(Z)`，它返回`std::pair<X2, Y2>`

让我们说`f(z) -> std::pair<X2, Y2>{x2,y2}`。

我如何编写该`C`成员`X1 x1 == X1(x2)`和`Y1 y1 == Y1(y2)`构建后的类？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-02T09:05:23.103

在 C++11 中，您可以添加一个委托构造函数`C`：

```
class C {
  X1 x1; Y1 y1;
public:
  C(Z z): C(f(Z)) {}
private:
  C(std::pair<X2, Y2> p): x1(p.first), x2(p.second) {}
}; 
```

如果您不能使用委托构造函数，唯一的方法是将成员移动到帮助类`B`并编写`C`继承自`B`并添加构造函数 from `Z`：

```
struct B {
  X1 x1; Y1 y1;
  B(std::pair<X2, Y2> p): x1(p.first), x2(p.second) {}
};
class C: private B {
  public:
  C(Z z): B(f(Z)) {}
}; 
```