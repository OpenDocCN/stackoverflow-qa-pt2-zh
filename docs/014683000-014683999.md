# StackOverflow 问答 14683000-14683999

# vba - 在 MS Excel 的默认浏览器 (Chrome) 中打开选定的 URL

> ID：14683001
> 
> 赞同：1
> 
> 时间：2013-02-04T08:35:33.477
> 
> 标签：vba, excel

我有一个包含大约 1200 个 URL 的 Excel 文件。

我有一个宏可以单次打开这些 URL，但我意识到这会使系统变慢并且可能也不可能。

所以我想对脚本进行一些更改以仅在选定的单元格中打开 URL（比如说 20），例如，如果我选择 Cell A1:A20 并运行宏，它应该在我的默认浏览器中打开它们，一旦我完成了我的操作，我将选择下一个 20 并再次运行宏。

这是我的宏，请告诉我如何更改为仅在选定的单元格上工作

```
Sub Open_Hyperlinks()
    Dim i, LastRow
    LastRow = Range("A" & Rows.Count).End(xlUp).Row
    For i = 1 To LastRow
        If Cells(i, "A").Hyperlinks.Count > 0 Then
            Cells(i, "A").Hyperlinks(1).Follow
        End If
    Next
End Sub 
```

高度赞赏帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T08:39:17.910

如果您的单元格已经作为超链接输入，请使用：

```
子 Open_SelectedHyperlinks()
    调暗 c 作为范围
    如果不是类型选择是范围然后退出子
    对于 Selection.Cells 中的每个 c
        如果 c.Hyperlinks.Count > 0 那么 _
            c.超链接(1).Follow
    下一个
结束子

```

否则，这将跟随所有单元格，即使它们没有作为超链接输入：

```
子 Open_SelectedTextlinks()
    调暗 c 作为范围

    如果不是类型选择是范围然后退出子
    对于 Selection.Cells 中的每个 c
        如果 c.Hyperlinks.Count = 0 那么
            ActiveSheet.Hyperlinks.Add Anchor:=c, _
                Address:="http://" & c.Value '根据你的单元格内容，去掉"http://" & 部分
        万一
        c.超链接(1).Follow
    下一个
结束子

```

# jquery - 将json字符串转换为json对象？

> ID：14683005
> 
> 赞同：1
> 
> 时间：2013-02-04T08:35:43.253
> 
> 标签：jquery

我有以下 json 字符串：

```
{"nick":"person1", "text":"hello "} 
```

我想把它转换成一个对象来访问每个变量。

我尝试了以下方法：

```
var obj = $.parseJSON(text);
alert(obj.nick); 
```

其中 text 是 json 字符串。

这给出了错误“非法字符”。

但是，如果我复制并粘贴字符串本身并将其插入到 parseJSON 函数中，它就可以工作..

有什么想法可能是错的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T08:37:43.653

```
var object = {"nick":"person1", "text":"hello "};
console.log(object.nick); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T08:37:54.793

你有没有在你的 var 值周围加上引号？

```
var text = '{"nick":"person1", "text":"hello "}'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T08:45:40.813

试试这个：

```
 var text = '{"nick":"person1", "text":"hello "}';
  var obj = $.parseJSON(text);
  alert(obj.nick); 
```

这是简单的json：

```
 {"nick":"person1", "text":"hello "} 
```

使其字符串用单引号括起来：

```
'{"nick":"person1", "text":"hello "}' 
```

# javascript - Jquery，日历：如何获取值？

> ID：14683006
> 
> 赞同：0
> 
> 时间：2013-02-04T08:35:54.640
> 
> 标签：javascript, html, jquery, calendar, jquery-events

我正在使用这个日历：http: [//javascriptcalendar.org/](http://javascriptcalendar.org/)

选择特定的日期。它工作正常。当用户从日历中选择一天时，我希望在 div 中显示一条消息，该消息也将包含这一天。但是，即使我已经尝试过 Javascript 和 jQuery 事件：`onclick`, `onchange`, `select`，`keyup`我也无法让它工作。这些事件只有在选择了我用键盘按一个字符的那一天后才有效。

你能帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T08:39:35.107

这是插件网站的示例。

```
g_calendarObject.setOnSelectedDelegate(function(){
        var obj = g_calendarObject.getSelectedDay();

        alert("a date was just selected and the date is : " + obj.day + "/" + obj.month + "/" + obj.year);
}); 
```

我相信您可能已经看到了，也许您可​​以制作一个 jsfiddle，然后我可能会提供更好的帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T08:46:49.100

试试这个代码

```
<input type="text" id="dt">
    <div id="showdate" style="display:none">
    </div>
    <script>
    $("#dt").change(function() {
    $("#showdate").css("display", "block");
    var txt=$(this).val();
    $('#showdate').text(txt);

    });
    </script> 
```

# c++ - Xcode 分配给 cast 是非法的，不支持左值转换？

> ID：14683007
> 
> 赞同：1
> 
> 时间：2013-02-04T08:35:55.687
> 
> 标签：c++, xcode

为什么我会收到此错误消息？在我的旧编译器上它编译得很好，但在我的新编译器上它给了我一个错误：

> 错误：分配给强制转换是非法的，不支持左值强制转换

它指向的代码是这一行：

```
*((PWORD)pbyTmp)++ = (WORD)(((a_pw[0][i] * a_dX[0]) + (a_pw[1][i] * a_dX[1])) * a_dY[0] + 0.5); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T08:41:47.940

您的“新编译器”是正确的。这不是有效的 C++。

强制转换`(PWORD)`创建一个临时的并导致一个*右值*表达式，你不能分配任何东西；操作员`++`分配一些东西。

在赋值的左侧放置一个漂亮、友好的*左值表达式（即命名变量）。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T08:47:05.117

问题不在于（句法）分配；它是后增量（当然在其语义中包括赋值）。

代码的预期效果可能是：

```
*((PWORD)(pbyTmp++)) = ... 
```

也就是说，在强制转换表达式中移动后增量。

另一方面，您的旧编译器*可能*会丢弃后增量，从而导致：

```
*((PWORD)pbyTmp) = ... 
```

要判断其中哪些是有意的和正确的，您必须充分理解代码的意图（这在您提供的片段中并不明显），或者检查旧编译器的汇编输出以了解如何它解释了代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:03:29.750

问题是：

```
((PWORD)pbyTmp)++ 
```

你可能希望这个增量`pbyTmp`指向下一个`WORD`。相反，增量将应用于转换产生的临时对象，保持`pbyTmp`不变。但是，为了防止此类错误引起的细微错误，该语言不允许在需要左值的地方使用临时*变量*，因此会出现错误。

据推测，您的旧编译器没有正确诊断错误，而是给出了某种未定义的行为。

您应该将转换后的指针放入正确类型的变量中：

```
PWORD * pword = reinterpret_cast<PWORD>(pbyTmp);
*pword++ = whatever;
pbyTmp = reinterpret_cast<WHATEVER_pbyTMP_IS>(pword); 
```

或者，如果您真的讨厌必须维护您的代码的人，请转换为（*左值*）引用：

```
*((PWORD&)pbyTmp)++ = whatever; 
```

或者，更好的是，将类型更改`pbyTmp`为它所指向的正确类型。

# c++ - 如何在生产者-消费者场景中使用 Boost 条件变量？

> ID：14683008
> 
> 赞同：1
> 
> 时间：2013-02-04T08:35:58.420
> 
> 标签：c++, multithreading, boost-thread, producer-consumer, condition-variable

编辑：下面

我有一个线程负责从缓冲区中的设备流式传输数据。此外，我有 N 个线程对该数据进行一些处理。在我的设置中，我希望流媒体线程从设备中获取数据，并等待 N 个线程完成处理，然后再获取新数据或达到超时。N 个线程应该等到新数据被提取后再继续处理。我相信如果我不希望 N 个线程在缓冲区上重复处理并且如果我希望处理所有缓冲区而不跳过任何缓冲区，那么这个框架应该可以工作。

仔细阅读后，我发现条件变量正是我所需要的。我遵循了教程和其他堆栈溢出问题，这就是我所拥有的：

全局变量：

```
boost::condition_variable cond;
boost::mutex mut; 
```

成员变量：

```
std::vector<double> buffer
std::vector<bool> data_ready       // Size equal to number of threads 
```

数据接收器循环（1个线程运行）：

```
while (!gotExitSignal())
{
    {
        boost::unique_lock<boost::mutex> ll(mut);
        while(any(data_ready))
            cond.wait(ll);
    }

    receive_data(buffer);

    {
        boost::lock_guard<boost::mutex> ll(mut);
        set_true(data_ready);
    }

    cond.notify_all();
} 
```

数据处理循环（N个线程运行这个）

```
while (!gotExitSignal())
{
    {
        boost::unique_lock<boost::mutex> ll(mut);
        while(!data_ready[thread_id])
            cond.wait(ll);
    }

    process_data(buffer);

    {
        boost::lock_guard<boost::mutex> ll(mut);
        data_ready[thread_id] = false;
    }
    cond.notify_all();
} 
```

这两个循环在它们自己的同一个类的成员函数中。变量buffer是成员变量，所以可以跨线程共享。

接收者线程将首先启动。data_ready 变量是一个大小为 N 的 bool 向量。如果数据已准备好处理，则 data_ready[i] 为真，如果线程已处理数据，则为假。如果 data_ready 的任何元素为真，则函数 any(data_ready) 输出真，否则输出假。set_true(data_ready) 函数将 data_ready 的所有元素设置为 true。接收线程将检查是否有任何处理线程仍在处理。如果没有，它将获取数据，设置 data_ready 标志，通知线程，并继续循环，该循环将在开始处停止，直到处理完成。处理线程将检查它们各自的 data_ready 标志是否为真。一旦为真，处理线程将进行一些计算，将其各自的 data_ready 标志设置为 0，然后继续循环。

如果我只有一个处理线程，程序运行良好。一旦我添加了更多线程，我就会遇到处理输出是垃圾的问题。此外，由于某种原因，处理线程的顺序很重要；换句话说，我启动的最后一个线程将输出正确的数据，而之前的线程将输出垃圾，无论处理的输入参数是什么（假设有效参数）。我不知道问题是由于我的线程代码还是我的设备或数据处理设置有问题。我尝试在处理和接收步骤中使用 couts，并且使用 N 个处理线程，我看到了应该的输出：

```
receive data
process 1
process 2
...
process N
receive data
process 1
process 2
... 
```

条件变量的使用是否正确？可能是什么问题呢？

编辑：我遵循了 fork 的建议并将代码更改为：

数据接收器循环（1个线程运行）：

```
while (!gotExitSignal())
{
    if(!any(data_ready))
    {
        receive_data(buffer);
        boost::lock_guard<boost::mutex> ll(mut);
        set_true(data_ready);
        cond.notify_all();
    }       
} 
```

数据处理循环（N个线程运行这个）

```
while (!gotExitSignal())
{
    // boost::unique_lock<boost::mutex> ll(mut);
    boost::mutex::scoped_lock ll(mut);
    cond.wait(ll);

    process_data(buffer);

    data_ready[thread_id] = false;
} 
```

它工作得更好一些。我使用了正确的锁吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T08:43:03.190

我没有阅读您的全部故事，但如果我快速查看代码，我会发现您使用错误的条件。条件就像一个状态，一旦你将一个线程设置为等待状态，它就会放弃 cpu。因此，您的线程将有效地停止运行，直到其他一些进程/线程通知它。

在您的代码中，您有一个 while 循环，每次检查数据时都会等待。那是错误的，它应该是 if 而不是一段时间。但话又说回来，它不应该在那里。数据检查应该在其他地方进行。并且您的工作线程在完成工作后应该将自己置于等待状态。

您的工作线程是消费者。生产者是提供数据的人。我认为更好的构造是进行线程检查是否有数据并通知工作人员。

伪代码：

```
//producer
while (true) {

    1\. lock mutex
    2\. is data available
    3\. unlock mutex

    if (dataAvailableVariable) {
        4\. notify a worker
        5\. set waiting condition
    }
}

//consumer
while (true) {
    1\. lock mutex
    2\. do some work
    3\. unlock mutex
    4\. notify producer that work is done
    5\. set wait condition
} 
```

您还应该注意一些线程需要处于活动状态以避免死锁的事实，这意味着所有线程都处于等待状态。

我希望这对你有一点帮助。

# ruby-on-rails - 当http请求时rails ssl localhost没有响应

> ID：14683009
> 
> 赞同：1
> 
> 时间：2013-02-04T08:36:00.483
> 
> 标签：ruby-on-rails, ssl, localhost, webrick

我想在 localhost:9292 上运行 rails 服务器，并且在使用 http:// 访问时效果很好。但是，当我使用 https:// 访问时，总是会导致此错误：

> 证书：数据：版本：1 (0x0) 序列号：e8:ca:87:ac:95:da:40:6e 签名算法：sha1WithRSAEncryption 颁发者：C=ID，ST=java，L=bandung，O=gramediana， OU=gramediana, CN=gramediana/emailAddress=ihsan.husnul@kiranatama.com 有效期不早于：2013 年 2 月 4 日 08:14:20 GMT 不晚于：2014 年 2 月 4 日 08:14:20 GMT 主题：C=ID，ST= java，L=bandung，O=gramediana，OU=gramediana，CN=gramediana/emailAddress=ihsan.husnul@kiranatama.com 主题公钥信息：公钥算法：rsaEncryption 公钥：（1024 位）模数：00:e2 :40:95:b2:99:b6:88:2e:f2:bb:a5:f3:73:6b:b4:4d:f4:93:ea:8a:3e:b6:cb:f1:31:b5 :8b:44:79: 18:e4:20:9e:19:d1:3d:fa:6e:ba:d4:09:a5:02:07: f0:c1:ab:ff:13:af:50:d4:59:f3:0d:ea: d4:0a:d6:8c:40:b7:e7:01:7b:c5:c9:f3:4f:72:76:60:8e:59:49:d1:ab:9d:74:38:d2: 0e:61:88:64:a7:a8:1e:2d: 2d:8e:b1:c4:f6:48:48:8f:b2:22:8f:1f:4f:39:18: b5:04: db:fb:3e:a7:8a:15:7f:e9:0c:35:f1:7c:79: 36:81:33:16:66:00:35:f5:57 指数：65537 (0x10001) 签名算法：sha1WithRSAEncryption ad:cd:64:b3:6d:a2:fb:b7:97:8a:05:54:38:f1:12:83:2a:5b: bc:42:82:2c:95:bf :90:5e:22:ee:8f:29:a1:34:39:d3:f1:3d: b9:8b:6f:86:39:b3:6e:85:32:04:d1:9c:b0 :5b:ff:fc:76:73: 3c:09:4c:9a:67:83:53:a7:14:c9:40:10:8e:e9:35:57:4e:e1: 52:28 :07:39:6f:da:6a:d6:17:5e:26:4c:37:1b:bc:f3:97:a0:a4:13:64:9d:02:38:7b:02:12:50:a9:89:80:eb:19:74:b9:60: 5b:17:d8:94:25:ea:e3: 80:e3:21:43:13:a1:98:72:a2:0c:34:93:cc [2013-02-04 15:29:05] 信息 WEBrick::HTTPServer#start:pid=11446 端口= 9292 [2013-02-04 15:29:14] 错误 OpenSSL::SSL::SSLError: SSL_accept returned=1 errno=0 state=unknown state: http request /home/ihsan/.rvm/rubies/ruby-1.9。 3-p125/lib/ruby/1.9.1/openssl/ssl-internal.rb:164:in在在 `accept' [2013-02-04 15:29:15] ERROR OpenSSL::SSL::SSLError: SSL_accept returned=1 errno=0 state=unknown state: http request /home/ihsan/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/openssl/ssl-internal.rb:164:in` 接受' [2013-02-04 15:29:15] 错误 OpenSSL::SSL::SSLError: SSL_accept returned=1 errno=0 state=unknown state: http request /home/ihsan/.rvm/rubies/ruby-1.9 .3-p125/lib/ruby/1.9.1/openssl/ssl-internal.rb:164:in `accept' [2013-02-04 15:29:25] ERROR OpenSSL::SSL::SSLError: SSL_accept SYSCALL returned=5 errno=0 state=unknown state /home/ihsan/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/openssl/ssl-internal.rb:164:in` 接受'

在这种情况下，我很累。来人帮帮我。:(

# ios - phonegap FBConnect Plugins 一些步骤麻烦

> ID：14683019
> 
> 赞同：0
> 
> 时间：2013-02-04T08:36:36.010
> 
> 标签：ios, cordova, phonegap-plugins, fbconnect

我开始使用 phonegap 开发 iphone 应用 >>

我之前使用过 phonegap 用于 android 应用程序> 以及用于 android 的 fbconnect 但对于 ios 我无法配置它>> 我经历了许多来自 stackoverflow 的教程和问题>

我正在关注本教程 [https://github.com/davejohnson/phonegap-plugin-facebook-connect/](https://github.com/davejohnson/phonegap-plugin-facebook-connect/)

> > 一切顺利，但步骤 11 到 14 >> 和最后一个 ios URL SCHEME

这就是让我感到困惑的步骤，我无法完成这些步骤>>如果我在没有这些步骤的情况下编译>>它会给出以下错误>>

> 错误：Cordova/CDV.h：没有这样的文件或目录

@Geeniewanted :: 这是屏幕 ![在此处输入图像描述](../Images/0bf4c040a245737fca1a7f59248059e2.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T11:50:05.583

对于 11。如果您单击项目导航器中的顶级“ `phonegapFacebookApplication`”（左侧带有蓝色 x 代码项目图标），那应该会在主中心窗口上显示所有项目设置。在那里你会找到一个标签，上面写着“ `Build Phases`”，在其中，你会找到一个选项来添加 Link binaries with Libraries。@Geeniewanted 很好地写出了上述问题的解决方案。

我应该警告您，如果您使用的是最新的 PhoneGap Build 或 Cordova，您会注意到不再有 Cordova.plist。那是因为在 PhoneGap 2.3.0 中，他们已将其更改为“ `config.xml`”。所以你必须在那里添加你的插件。

我建议您按照 Facebook-Dev 的视频教程在 x 代码中设置您的 Facebook iOS SDK：[https ://developers.facebook.com/docs/getting-started/facebook-sdk-for-ios/3.1 /＃项目](https://developers.facebook.com/docs/getting-started/facebook-sdk-for-ios/3.1/#project)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T12:59:41.953

您可以使用以下链接来使用 childbrowser 插件和 facebook [http://www.drewdahlman.com/meusLabs/?p=88#comment-1544](http://www.drewdahlman.com/meusLabs/?p=88#comment-1544)

可以将其更新为新的 inappbrowser

# android - 在 Android 中阅读 PDF 的最佳方式是什么？

> ID：14683021
> 
> 赞同：0
> 
> 时间：2013-02-04T08:36:56.227
> 
> 标签：android

我想在我的应用程序中阅读 PDF，那么最好的方法是什么？

*   PDF到图像转换和显示。
*   使用 PDF 阅读器直接 PDF 读取表单服务器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T08:58:07.130

有一组库和 sdk 可用于在 android 中阅读 pdf。

[http://www.qoppa.com/android/pdfsdk/](http://www.qoppa.com/android/pdfsdk/)

[http://code.google.com/p/droidreader/](http://code.google.com/p/droidreader/)

[https://github.com/jblough/Android-Pdf-Viewer-Library](https://github.com/jblough/Android-Pdf-Viewer-Library)

# javascript - 带有 Internet Explorer 8 的 JavaScript

> ID：14683023
> 
> 赞同：-1
> 
> 时间：2013-02-04T08:37:08.070
> 
> 标签：javascript, internet-explorer, browser

```
var id = data.rslt;
var element = id.attr("crawlLocation");
if (element.indexOf("\\") != -1){
var toSearch = element.substring(0,element.lastIndexOf("\\"));
toSearch = "\"" + toSearch + "\"";
}
var stringContent = getInnerHTML('selectedCustodiansForIngestDiv');
if(stringContent.indexOf(toSearch) == -1){
  //This loop works fine on Firefox but not in IE8
}

function getInnerHTML(elmtId) {
var innerHTML = "";
if ($gElem(elmtId) != null) {
    innerHTML = document.getElementById(elmtId).innerHTML;
}
return innerHTML;
} 
```

在上面的代码中，该`indexOf`方法的 if 条件在 IE8 中无法正常工作，但在其他浏览器中可以正常工作。

在 IE8 中，即使`toSearch`在 string 中找到 in 的内容`stringContent`，它也会进入循环内部。

我不确定问题出在`indexOf`方法上还是代码中的其他地方。让我知道解决此问题的方法！谢谢！

**更新**

我刚刚在调试时注意到，在 IE 中，toSearch 变量显示为“\”D:\company\“”而不是“D:\company”（在 mozilla 和其他浏览器中）。

有什么想法可以克服这个吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T08:43:35.043

正如您在此[兼容性表](http://kangax.github.com/es5-compat-table/)中看到的，它在 IE8 中不可用。

您可以考虑使用 RegEx 或查看 MDN 的回退：

*   [`indexOf`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/indexOf#Compatibility)
*   [`lastIndexOf`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/lastIndexOf#Compatibility)

# jsp - 使用 Struts2 更改页面的行为

> ID：14683027
> 
> 赞同：1
> 
> 时间：2013-02-04T08:37:28.280
> 
> 标签：jsp, struts2

我正在使用 Struts2 编写网页。

我的需要是仅当 Action 类（即`sectionHidden`）的布尔属性设置为时才在表中显示一行`false`。为此，我编写了以下代码：

```
<s:if test="sectionHidden"><tr id="sectionTitle" style="display: none;"></s:if>
<s:else><tr id="sectionTitle"></s:else>
    <td>This is the section title</td>
</tr> 
```

我认为这不是最好的方法，还有其他更好的方法吗？（我想避免写两次相关的html代码`tr`）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:03:19.027

根据您的需求，

如果要裁剪它，请使用一个`<s:if>`来绘制（或不绘制）行，如 AleksandrM 答案中的那样；

相反，如果您想隐藏它，但又希望它在页面中（例如，稍后使用 javascript 显示它，或在源代码中查看它），您可以使用 an`<s:if>`来应用（或不应用）隐藏状态：

```
<tr id="sectionTitle" <s:if test="sectionHidden">style="display: none;"</s:if>>
   <td>This is the section title</td>
</tr> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T08:49:10.903

嗯......只使用一个怎么样`<s:if>`：

```
<s:if test="!sectionHidden">
  <tr id="sectionTitle">
    <td>This is the section title</td>
  </tr>
</s:if> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-04T09:02:43.317

如果标签以下面的示例为例，您可以使用提供的 struts2 测试任何值

```
<s:if test="anyBooleanValue">
 I am returning TRUE.<br/>
 </s:if>
 <s:else>
 I am returning FALSE.<br/>
 </s:else>

 <!-- For String Value -->
 <s:if test="%{myStringValue!=null}">
 String is not null<br/>
 </s:if>
 <s:elseif test="%{myStringValue==null}">
 String is null<br/>
 </s:elseif>
 <s:else>
 String is null<br/>
 </s:else>

 <!-- For Object Value -->
 <s:if test="%{checkArrayList.size()==0}">
 Object Size is Zero<br/>
 </s:if>
 <s:else>
 Object Size is not a Zero<br/>
 </s:else> 
```

在您的情况下，下面的代码将做正确的工作

```
 <%@ taglib prefix="s" uri="/struts-tags" %>
 <html>
<head>
</head>

<body>
<h1>Struts 2 If, Else, ElseIf tag example</h1>

<s:set name="sectionHidden" value="false"/>

    <table>

        <tr id="sectionTitle" style="display:<s:if test="sectionHidden">none</s:if><s:else>block</s:else>">
              <td>This is the section title</td>
        </tr>
    </table>
</body>
</html> 
```

# c++ - 防止 McAfee Dlls 注入

> ID：14683029
> 
> 赞同：2
> 
> 时间：2013-02-04T08:37:32.783
> 
> 标签：c++, windows, hook, dll-injection, mcafee

我有一个在 WinSock 模块（发送和接收函数）上做一些内联钩子的过程。在装有 McAfee 的机器上，我可以看到两个 dll 被注入到我的进程中：

*   hipi.dll
*   hipqa.dll

两者也可能对这些功能进行内联挂钩，并且我会遇到冲突和不需要的行为。是否有阻止/卸载这些 dll 的选项，以免它们干扰？

10 倍，盖伊

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-29T11:28:13.447

实现DLL注入（Hooking）的场景有很多，顺便说一句，你必须更多地了解每个方法背后的东西是如何工作的，最常见的是使用CreateRemoteThread() API函数，然后你必须在每个进程上注入你的安全DLL并挂钩/重定向/拒绝对 CreateRemoteThread() 的任何调用或任何“危险”的 API 调用。

PS：但请记住：

> 用户模式挂钩永远不会成为以任何安全方式应用额外安全检查的选项。如果你只想“沙箱化”一个专用进程，你很了解，而进程实际上并不了解 EasyHook，这可能会成功！但永远不要尝试编写任何基于用户模式挂钩的安全软件。它不会起作用的，我向你保证……</p>

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-29T18:35:00.587

我曾经不得不处理类似的事情。阅读他们自己的钩子组件存根，这样您就可以弄清楚如何以一种在您的钩子之后链接到他们的钩子的方式进行钩子。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:31:39.113

最简单的解决方案是解开受影响的函数。我不得不做同样的事情来解决一些戴尔垃圾软件。尽管它需要对 x86 汇编有所了解，但它并不太难。您必须禁用 DEP，使修补后的代码可写，找到原始指令，然后将它们复制回来。找到原始说明可能意味着拆卸补丁。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-04T09:32:46.463

另一种选择是简单地将它挂在不同的地方。例如，改为挂钩 IAT，然后当您完成所需的任何操作时，将执行转发回真正的函数，然后它将通过 McAfee 的挂钩。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-04T09:20:43.143

您有 2 个选项。

1.  为您的进程添加一个排除项，以便 McAfee 不会尝试扫描它。我不使用 McAfee 的产品，但我认为这将是一个相对简单的过程。
2.  卸载迈克菲

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-12-20T15:13:43.073

我想 McAfee 正在从内核模式执行 DLL 注入。他们可能会找到 KeServiceDescriptorTable 的地址（由 NTOSKRNL 在 32 位系统上导出，并且其地址在 64 位环境中由 KiSystemServiceRepeat 泄露 -> 接近由 IA32_LSTAR 模型特定寄存器找到的 KiSystemCall64），然后从服务表，或者他们使用 KeInitializeApc 和 KeInsertQueueApc（均由 NTOSKRNL 导出）进行 APC 注入（自定义 NtQueueApcThread 包装器）。考虑到他们是拥有大量资源的安全供应商，这将是合乎逻辑的，我怀疑他们会从用户模式注入。

他们可能正在滥用 PsSetCreateProcessNotifyRoutineEx 或 PsSetLoadImageNotifyRoutineEx 来检测新进程的创建。第一个不如后者好，后者更适合过滤 NTDLL.DLL，因为它是加载到每个单独进程中的第一个模块，并且表示该进程实际上已经正确启动并且即将准备好执行它自己的代码（在加载 Windows 模块之后，并且因为 McAfee 需要等待诸如 kernel32.dll 之类的 Win32 模块加载，否则如果他们在注入的模块中完全使用 Win32 API，则会导致进程崩溃）。

您可以尝试拦截 LdrInitializeThunk 或 KiUserApcDispatcher，但老实说，您无能为力。无论您做什么，McAfee 都会找到一种方法注入您的进程，因为它们可以从内核模式进行控制。如果您通过驱动程序的各种内核模式回调开发进程保护，它们将使用通过 ntoskrnl.exe 的模式匹配扫描定位的非导出例程或不调用回调通知 API 的导出例程绕过它。如果你在本地修补远程攻击者在你自己的进程中本地调用的线程创建/APC 例程，他们会找到防止这种情况并绕过它的方法（例如，将你进程地址空间中的修补例程修补回原始，注入，然后重新修补字节）。

如果您想停止具有 McAfee 特权的安全软件，那您就是在玩火。这类似于 Anti-Cheat 无法阻止具有内核模式访问权限的游戏黑客，并且采取严厉措施甚至标记当今启用的调试模式/测试模式。

# ruby-on-rails - 在 Ubuntu 10.04 中安装 Rails 时出错

> ID：14683035
> 
> 赞同：0
> 
> 时间：2013-02-04T08:37:55.290
> 
> 标签：ruby-on-rails, permissions, installation

首先，我使用脚本为多用户安装了 rvm

```
 \curl -L https://get.rvm.io | sudo bash -s stable 
```

我将用户添加到 rvm 组。

rvm 似乎工作正常。所以我安装了 ruby​​ 1.9.3 并将 1.9.3 设置为默认值

现在我尝试使用命令安装rails

```
 gem install rails 
```

它似乎工作正常，但是在获取 json-1.7.6.gem 时发生错误。

```
 ERROR:  Error installing rails:
 ERROR: Failed to build gem native extension.

 /usr/local/rvm/rubies/ruby-1.9.3-p374/bin/ruby extconf.rb
 creating Makefile

 make
 sh: make: Permission denied

 Gem files will remain installed in /usr/local/rvm/gems/ruby-1.9.3-p374/gems/json-1.7.6 for inspection.
 Results logged to /usr/local/rvm/gems/ruby-1.9.3-p374/gems/json-1.7.6/ext/json/ext/generator/gem_make.out 
```

所以我认为这与许可有关，所以我尝试了

```
 sudo gem install rails 
```

但随后发生此错误。

```
 sudo: gem: command not found 
```

我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:23:14.450

使用 sudo 如下..

```
sudo gem install rails 
```

更新答案：

我们的`$PATH`变量需要包含 Ruby 的 bin 目录的确切路径。将目录添加到`PATH`不包括它的子文件夹。尝试通过以下方式添加 bin 目录：

```
export PATH=$PATH:/home/adam/.gem/ruby/1.8/bin 
```

或者，如果您使用 sudo 安装了 gem：

```
export PATH=$PATH:/usr/lib/ruby/gems/1.8/bin 
```

您可能希望将其添加到您的`.bashrc`文件中，这样您就不必在每次打开新 bash 时手动设置它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T08:47:20.903

您可以使用它`rvmsudo`来运行 sudo 命令。但是你真的应该`Gemfiles`使用`Bundler`.

# javascript - 在 Google 地球中加载/刷新 3d 模型

> ID：14683040
> 
> 赞同：2
> 
> 时间：2013-02-04T08:38:27.820
> 
> 标签：javascript, internet-explorer, google-earth

我在**网络开发中使用****谷歌地球**，但我面临一个奇怪的情况，这是来自谷歌代码游乐场的简单代码，它将**3D 模型**加载到谷歌地球中，如果我刷新页面它不会加载模型再次， [http://savedbythegoog.appspot.com/?id=7f8638b214605a2327af223c613a6ae13874416b](http://savedbythegoog.appspot.com/?id=7f8638b214605a2327af223c613a6ae13874416b)

 ****有什么办法可以解决。

我面临在 32 位 XP 机器中加载**Internet Explorer 8**中的 3D 模型的另一个问题，IE8 不会在谷歌地球中加载 3D 模型，您可以查看给出的链接。我也在下面发布js代码。

**请帮忙**

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1  /DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<title>Google Earth API Sample</title>
<script src="http://www.google.com/jsapi?key=ABQIAAAAuPsJpk3MBtDpJ4G8cqBnjRRaGTYH6UMl8mADNa0YKuWNNa8VNxQCzVBXTx2DYyXGsTOxpWhvIG7Djw" type="text/javascript"></script>
<script type="text/javascript">
  function addSampleButton(caption, clickHandler) {
    var btn = document.createElement('input');
    btn.type = 'button';
    btn.value = caption;

    if (btn.attachEvent)
      btn.attachEvent('onclick', clickHandler);
    else
      btn.addEventListener('click', clickHandler, false);

    // add the button to the Sample UI
    document.getElementById('sample-ui').appendChild(btn);
  }

  function addSampleUIHtml(html) {
    document.getElementById('sample-ui').innerHTML += html;
  }
</script>
<script type="text/javascript">
var ge;

google.load("earth", "1");

function init() {
  google.earth.createInstance('map3d', initCallback, failureCallback);

 // addSampleButton('Create a 3D Model!', buttonClick);
}

function initCallback(instance) {
  ge = instance;
  ge.getWindow().setVisibility(true);

  // add a navigation control
  ge.getNavigationControl().setVisibility(ge.VISIBILITY_AUTO);

  // add some layers
  ge.getLayerRoot().enableLayerById(ge.LAYER_BORDERS, true);
  ge.getLayerRoot().enableLayerById(ge.LAYER_ROADS, true);

  var la = ge.getView().copyAsLookAt(ge.ALTITUDE_RELATIVE_TO_GROUND);
  la.setRange(100000);
  ge.getView().setAbstractView(la);

  create3dModel();

  document.getElementById('installed-plugin-version').innerHTML =
    ge.getPluginVersion().toString();
}

function failureCallback(errorCode) {
}

function create3dModel() {
  // Create a 3D model, initialize it from a Collada file, and place it
  // in the world.

  var placemark = ge.createPlacemark('');
  placemark.setName('model');
  var model = ge.createModel('');
  ge.getFeatures().appendChild(placemark);
  var loc = ge.createLocation('');
  model.setLocation(loc);
  var link = ge.createLink('');

  // A textured model created in Sketchup and exported as Collada.
  link.setHref('http://earth-api-samples.googlecode.com/svn/trunk/examples/' +
               'static/splotchy_box.dae');
  model.setLink(link);

  var la = ge.getView().copyAsLookAt(ge.ALTITUDE_RELATIVE_TO_GROUND);
  loc.setLatitude(la.getLatitude());
  loc.setLongitude(la.getLongitude());

  placemark.setGeometry(model);

  la.setRange(300);
  la.setTilt(45);
  ge.getView().setAbstractView(la);
}

function buttonClick() {
  create3dModel();
}

</script>
  </head>
  <body onload="init()" style="font-family: arial, sans-serif; font-size: 13px; border: 0;">
  <div id="sample-ui"></div>
  <div id="map3d" style="width: 500px; height: 380px;"></div>
  <br>
  <div>Installed Plugin Version: <span id="installed-plugin-version" style="font-weight: bold;">Loading...</span></div>
 </body>
</html> 
```

如果该链接不起作用，请复制代码并将其粘贴到文本文件中并将其重命名为 .html 然后执行它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-05T05:26:34.457

即使我在使用 collada 模型和 Internet Explorer 时也遇到过同样的问题，但您提供的代码在 chrome 和 mozilla 等其他浏览器中运行良好。

查看[此链接](http://www.google.com/earth/yourworldin3d/gallery.html)，但在这种情况下，他们正在加载 kml 文件，而不是使用 javascript 直接将 collada 模型加载到浏览器中。****

# java - 将字符串发送到另一个 Android 应用程序

> ID：14683041
> 
> 赞同：0
> 
> 时间：2013-02-04T08:38:27.273
> 
> 标签：java, android

如何在应用程序之间传递字符串？String 是发送方应用程序中已知的一些字段，并且接收方应用程序需要。两个应用程序都在同一设备上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T08:41:35.163

您可以通过在 URL 中传递字符串值的意图来做到这一点，特别是：http: [//developer.android.com/training/sharing/send.html](http://developer.android.com/training/sharing/send.html)。

得自：[在 Android 应用程序之间传递字符串数据](https://stackoverflow.com/questions/11353195/passing-string-data-between-android-applications)

# qt - 作为守护程序运行时更改了 UI 样式

> ID：14683048
> 
> 赞同：1
> 
> 时间：2013-02-04T08:39:00.513
> 
> 标签：qt, daemon, foreground

我正在尝试使用 Qt 创建一个后台应用程序。

在前台运行和作为守护进程运行在ui上是有区别的。

自 Ubuntu 11.10 以来，样式已更改。

*   在前台运行应用程序时

    ![](../Images/17a252878e0bb12b86a583316b5c715f.png)

*   作为守护进程运行时

    ![](../Images/195b5ed54ac56fb13336f34d917731bf.png)

主文件

```
 #include <QApplication>
    #include "form.h"

    int main(int argc, char* argv[])
    {
        QApplication app(argc, argv);
        Form *pForm = new Form();
        pForm->show();
        return app.exec();
    } 
```

表格.h

```
 #include <QWidget>
    namespace Ui {
        class form;
    }

    class Form : public QWidget
    {
        Q_OBJECT
    public:
        explicit Form(QWidget *parent = 0);
    private:
        Ui::form *ui;
    }; 
```

表单.cpp

```
 #include "form.h"
    #include "ui_form.h"

   Form::Form(QWidget *parent) : QWidget(parent)
      , ui(new Ui::form)
   {
      ui->setupUi(this);
      ui->label->setText(QT_VERSION_STR);
   } 
```

表单.ui

```
<?xml version="1.0" encoding="UTF-8"?>
<ui version="4.0">
 <class>form</class>
 <widget class="QWidget" name="form">
  <property name="geometry">
   <rect>
    <x>0</x>
    <y>0</y>
    <width>400</width>
    <height>300</height>
   </rect>
  </property>
  <property name="windowTitle">
   <string>Form</string>
  </property>
  <widget class="QPushButton" name="pushButton">
   <property name="geometry">
    <rect>
     <x>270</x>
     <y>240</y>
     <width>98</width>
     <height>27</height>
    </rect>
   </property>
   <property name="text">
    <string>PushButton</string>
   </property>
  </widget>
  <widget class="QTabWidget" name="tabWidget">
   <property name="geometry">
    <rect>
     <x>30</x>
     <y>30</y>
     <width>341</width>
     <height>191</height>
    </rect>
   </property>
   <widget class="QWidget" name="tab">
    <attribute name="title">
     <string>Tab 1</string>
    </attribute>
   </widget>
   <widget class="QWidget" name="tab_2">
    <attribute name="title">
     <string>Tab 2</string>
    </attribute>
   </widget>
  </widget>
  <widget class="QLabel" name="label">
   <property name="geometry">
    <rect>
     <x>50</x>
     <y>240</y>
     <width>141</width>
     <height>31</height>
    </rect>
   </property>
   <property name="text">
    <string/>
   </property>
  </widget>
 </widget>
 <resources/>
 <connections/>
</ui> 
```

这只是简单的 UI 来测试。

我认为前台应用程序将“桌面设置”应用为 GUI 样式，但我不知道守护程序应用程序使用哪种样式（右上图）。

为什么风格不一样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T13:15:46.213

为了在任何平台或环境上拥有统一的样式，您需要明确设置应用程序样式：

```
QApplication app(argc, argv);
app.setStyle(new QPlastiqueStyle()); //or similar. 
```

# iphone - 如何在 Iphone 中用英文获取用户所在的城市和国家

> ID：14683051
> 
> 赞同：1
> 
> 时间：2013-02-04T08:39:10.080
> 
> 标签：iphone, ios, reverse-geocoding, clgeocoder

我正在使用以下代码在 Iphone 中获取用户所在的城市和国家/地区。

```
CLLocation *location = // Some location

 [[[CLGeocoder alloc] init] reverseGeocodeLocation:location completionHandler:^(NSArray *placemarks, NSError *error) {}]; 
```

它可以工作，但问题是它以指定的语言返回值。例如，如果用户的当前国家/地区是阿联酋和迪拜市，那么它给我的值为 دبي 和 لإمارات 。我想用英语获得这些值，例如，迪拜和阿拉伯联合酋长国。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T10:09:38.250

使用此代码获取详细信息。

```
#define REVERSE_GEO_CODING_URL @"https://maps.googleapis.com/maps/api/geocode/json?"

    NSString *urlStr = [NSString stringWithFormat:@"%@latlng=%@,%@&sensor=true",REVERSE_GEO_CODING_URL,latitude,longitude];

        DLog(@"%@",urlStr);
        NSURLRequest *request = [[NSURLRequest alloc] initWithURL:[NSURL URLWithString:[urlStr stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]]];
        NSString *json = [BKAPIClient handleConnection:request];
        [request release];
        if (json)
            return (NSMutableDictionary *)[json JSONValue]; 
```

我已经使用沙特阿拉伯的 latlong 对此进行了测试，并返回英文地址作为回报。

看到这个[链接](https://maps.googleapis.com/maps/api/geocode/json?latlng=23.885942,45.079162&sensor=true)它给出了沙特阿拉伯某处的地址。

# android - 如何从 webview 中打开的网页关闭 android webview？

> ID：14683052
> 
> 赞同：1
> 
> 时间：2013-02-04T08:39:17.070
> 
> 标签：android, iphone, mobile, android-webview

我有一个 android 应用程序，我正在 webview 中打开一个网页。

当我在该网页上的流程完成后，我会在该网页中提供一个简单的 html“关闭”链接/按钮。我想通过网页中的操作关闭打开的 webview。

我可以通过 window.close 按钮​​实现这一点吗？请指导我如何通过网页关闭网页/网页视图？

这种方法也适用于 iPhone 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T08:59:29.533

WebView 是您可以滚动自己的 Web 浏览器或简单地在 Activity 中显示一些在线内容的基础。因此，每当您完成显示 webview 的活动时，在这种情况下 webview 将被关闭。有关更多信息，请阅读文档 [http://developer.android.com/reference/android/webkit/WebView.html](http://developer.android.com/reference/android/webkit/WebView.html)

# iphone - 如何使网页适合 UIWebView 以使用 Selenium iPhone 驱动程序进行测试

> ID：14683058
> 
> 赞同：1
> 
> 时间：2013-02-04T08:39:35.307
> 
> 标签：iphone, selenium, uiwebview, mobile-safari, driver

我正在使用 Selenium iPhone 驱动程序在 iPad 模拟器上运行 selenium 测试脚本来测试 Web 应用程序。该应用程序在模拟器内的 UIWebView 中打开。然而，应用程序的顶部（标题、工具栏等）从视图中隐藏。当我向下拖动并按住应用程序的底部时，我能够看到顶部。

1）如何让 UIWebView 使应用程序完全可见？我想这是因为 iPhone 驱动程序源代码中使用的 iPad 模拟器版本与我用来启动应用程序（iOS 6.0）的版本不同。但是我不知道如何进行，因为我对 iOS 开发不够熟悉。

2) 在 UIWebview 中测试是否与在移动 Safari 中测试应用程序相同？有什么方法可以在 iPad 上使用 Selenium 测试移动 Safari 中的应用程序吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T16:08:19.530

我更新了位于 src\resource 的 Ipad 故事板文件。webView 设置 Y 坐标设置为 -84，我将其更改为 0。这可能会有所帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T08:47:11.533

据我了解，您想测试网站，而不是 iphone 应用程序。

然后您可以轻松地在移动 Safari 中打开它并使用书签来全屏查看（如果您希望应用程序全屏显示，则需要以编程方式进行）

# qml - 标签 BlackBerry 10 中的链接

> ID：14683059
> 
> 赞同：1
> 
> 时间：2013-02-04T08:39:57.433
> 
> 标签：qml, blackberry-10

我正在使用 JSON 接收数据并将其放入列表中。有一个标签显示我从 JSON 接收的文本。在某些情况下，文本中有一个链接。默认情况下，您不能单击标签中的链接。有没有办法让链接可以点击？

```
Label {
       text:  "Click here to open browser and get redirected to www.stackoverflow.com";
       } 
```

输出为“单击此处打开浏览器并重定向到 www.stackoverflow.com”，但指向 StackOverflow 的链接不可单击。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T12:59:42.350

使用 TextArea 而不是 Label 并将 property editable 设置为 false，它看起来与 Label 相同。不要忘记将 inputMode 设置为 Text 或 Chat。

```
TextArea {
        text: "http://www.google.com"
        editable: false
        inputMode: TextAreaInputMode.Text
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-04T23:28:48.607

根据[文本样式文档](https://developer.blackberry.com/cascades/documentation/ui/text/styles.html)，您实际上可以在标签本身中使用 HTML 将文本样式设置为链接。但是，如果您要应用任何自己的样式，则需要注意一些怪癖，如此处的 Blackberry 开发人员支持论坛中[所述](http://supportforums.blackberry.com/t5/Cascades-Development/HTML-in-Labels-A-Notice-and-Warning/td-p/2121549)。下面的示例应该可以使用，使用默认样式将链接着色为蓝色，并带有粗体和下划线：

```
Label {
    text: "<html>Click here to open browser and get redirected to <a href='http://www.stackoverflow.com'>www.stackoverflow.com</a></html>"
} 
```

注意：您可能需要设置才能查看所有文本，具体取决于您的布局`multiline: true`。`Label`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-04T10:05:38.547

您应该将 Text.RichText 值分配给标签的“textFormat”属性：

```
import QtQuick 1.1

Rectangle {
  width: 360
  height: 360
  Text {
    text: "Click <a href=\"http://google.com\">here</a>"
    anchors.centerIn: parent
    textFormat: Text.RichText
    onLinkActivated: {
      Qt.openUrlExternally(link)
    }
  }
} 
```

# apache-flex - 如何在 Ubuntu Linux 上使用 Adob e AIR adt 构建 exe？

> ID：14683068
> 
> 赞同：0
> 
> 时间：2013-02-04T08:40:58.437
> 
> 标签：apache-flex, ubuntu, air, air-native-extension

我有一个使用 Maven 在 Ubuntu Linux 上构建的现有应用程序。它有一个服务器部分（Java）、客户端部分（Flex/AIR）和安装程序（Windows 安装程序 + RPM）。现在需要扩展客户端部分以使用本机扩展。为此，您不能再构建一个`.air`，它必须是一个`.exe`。

我想弄清楚我现在如何在 Ubuntu Linux 上构建这个 .exe。

我直接使用一些参数调用 adt.jar 来尝试执行此操作，但出现以下错误：

```
Native extensions are not allowed for the current target 
```

有没有办法使这项工作？

问候，

维姆

# android - android-nexus 7 中不支持邮件应用程序

> ID：14683071
> 
> 赞同：0
> 
> 时间：2013-02-04T08:41:09.810
> 
> 标签：android, email

我想向特定的电子邮件 ID 发送一些消息。我设置了地址并尝试发送消息。它在 Gmail 应用程序中运行良好。但它在邮件应用程序中无法正常工作，尤其是在 Nexus 7（HTC one V 也是）中，这是什么原因？

**源代码**

```
Intent emailIntent = new Intent(android.content.Intent.ACTION_SENDTO);
emailIntent.setType("text/html");   
emailIntent.setData(Uri.parse("mailto:naresh.repalle@shoregrp.com"));
emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, "Price Check Guru Feedback");        
startActivity(Intent.createChooser(emailIntent, "Email:")); 
```

***更新代码***

意图 emailIntent = new Intent(android.content.Intent.ACTION_SENDTO); emailIntent.setType("text/html");

```
 //set the To address and Subject
        try
        {
            String strSubject = URLEncoder.encode("Price Check Guru Feedback","UTF-8");         
            //testing
            emailIntent.setData(Uri.parse("mailto:naresh.repalle@shoregrp.com"+ "?subject=" + strSubject));
        }
        catch (UnsupportedEncodingException e) 
        {
            e.printStackTrace();
        }           
        startActivity(Intent.createChooser(emailIntent, "Email:")); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T08:55:24.900

尽管人们在论坛（以及这里）上散布了所有谣言，但**并非所有 Android 电子邮件应用程序都支持`SENDTO`/`mailto:`和`EXTRA`s**的混合。时期。您选择了一种并非所有应用程序（包括 K-9）都支持的方法，仅此而已。

*似乎*可行的是在 URL 中包含主题和正文，使用`?subject=`和`&body=`，使用`Uri.encode()`。*但是*，请注意标准的 Android 电子邮件客户端 V3.0*会删除`+`此类邮件中的所有标志*，可能是由于解码错误。

*更新：*好的，这不是你的问题；幸运的你。当然，你可以强制系统提供选择器；你没有用谷歌搜索你的问题吗？虽然，如果它没有触发，则意味着用户之前选择了谷歌邮件而不是专有的电子邮件程序。

# javascript - 未注入通过 RequireJS 从 CDN 加载 Angular

> ID：14683072
> 
> 赞同：3
> 
> 时间：2013-02-04T08:41:13.837
> 
> 标签：javascript, angularjs, requirejs

在我的项目中，我想使用 RequireJS 并引导我的应用程序，如下所示：

```
requirejs.config({
baseUrl: 'scripts/vendor',
paths: {
    jquery: [
        'https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min',
        'jquery'
    ],
    angular: [
        'http://ajax.googleapis.com/ajax/libs/angularjs/1.0.4/angular.min',
        'angular'
    ],
    app: '../app'
}
});

require(['require', 'jquery', 'angular', 'app'], function(require, $, angular, app) {
console.log(require);
console.log($);
console.log(angular);
console.log(app);
}); 
```

在我的 index.html 上，只有 RequireJS 是通过 script 标签加载的，其中 RequireJS 加载了上面的代码。什么有效： - 在我的网络监视器中，我可以看到 RequireJS、jQuery、Angular 和应用程序已加载 - 对于 require、jQuery 和应用程序，console.log 消息打印正确

角度对象不知何故未定义。但是，如果我不从 CDN 加载它并使用我的本地加载，它就可以工作！本地文件是一个 RequireJS 包装器，如下所示：

```
define(['/components/angular/angular.min.js'], function () {
    return angular;
}); 
```

如何使用 Angular 的 CDN 完成这项工作？还是这取决于 Angular 的支持？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-05T19:31:24.903

首先，您将“路径”与“垫片”混淆了

路径很好，不要追求“垫片”行为。但是，您需要使您的“路径”正确：

```
paths: {
    jquery: 'https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min',
    // NOTE: angular is "plain JS" file
    angular: 'http://ajax.googleapis.com/ajax/libs/angularjs/1.0.4/angular.min',
    app: '../app'
} 
```

然后，您需要放弃将某些东西归还给您的需求……只需“使用力量，卢克” :) 并期望在您需要时会出现正确的全局变量：

```
require(['jquery', 'app', 'angular'], function($, app, thisValueDoesNotMatter) {
    // you don't need to wrap "require" Just use global
    console.log(require);
    console.log($);
    console.log(app);

    // note, angular is loaded as "plain JavaScript" - not an AMD module.
    // it's ok. It returns "undefined" but we just don't care about its return value
    // just use global version of angular, which will be loaded by this time.
    // because you mentioned it in your dependencies list.
    console.log(window.angular);
}); 
```

# android - 如何获得低于 3.0 版本的 Android 设备的实时流媒体音频？

> ID：14683073
> 
> 赞同：-1
> 
> 时间：2013-02-04T08:41:16.987
> 
> 标签：android, audio, audio-streaming

我用了：

```
player = new MediaPlayer();
    try {
        player.setDataSource(str_stream_url);
        // player.setDataSource("http://cdn.concreteloop.com/wp-content/uploads/2011/01/Jennifer-Lopez-feat.-Pitbull-On-the-Floor.mp3");
    } catch (IllegalArgumentException e) {
        e.printStackTrace();
    } catch (IllegalStateException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }

    player.setOnBufferingUpdateListener(new OnBufferingUpdateListener() {

        public void onBufferingUpdate(MediaPlayer mp, int percent) {
            playSeekBar.setSecondaryProgress(percent);
            Log.i("Buffering", "" + percent);
        }
    }); 
```

它适用于 Android v4.0，但不适用于 Android 2.3.3 ..

我能做些什么？？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T11:52:04.703

我也在 Android 2.3.3 中尝试过这段代码，但它没有用。最后你可以看到错误。

```
Uri myUri = Uri
            .parse("http://46.137.18.79:8000/;stream.nsv&type=mp3&autostart=true");

    player = new MediaPlayer();
    try {
        if (player == null) {
            this.player = new MediaPlayer();
        } else {
            player.stop();
            player.reset();
        }
        player.setDataSource(this, myUri); // Go to Initialized state
        player.setAudioStreamType(AudioManager.STREAM_MUSIC);
        player.setOnPreparedListener(this);
        player.setOnBufferingUpdateListener(this);

        player.setOnErrorListener(this);
        player.prepareAsync();

        Log.d(TAG, "LoadClip Done");
    } catch (Throwable t) {
        Log.d(TAG, t.toString());
    } 
```

02-06 13:49:03.730: E/MediaPlayer(2718): stop 在状态 1 中调用

02-06 13:49:03.730: E/MediaPlayer(2718): 错误 (-38, 0)

02-06 13:49:03.730: D/MediaPlayer(2718): 无法在客户端打开文件，正在尝试服务器端

02-06 13:49:03.870: D/MyMain(2718): LoadClip 完成

谢谢。

# mysql - 一个月后从 mysql innodb 表中删除数据

> ID：14683080
> 
> 赞同：1
> 
> 时间：2013-02-04T08:41:36.740
> 
> 标签：mysql, cron

目前我正在为此使用cron。我想也许可以实施一些程序，从数据库中删除超过一个月的所有数据，但我不确定这是最好的方法。

问题是我们有很多服务器，有很多 cron 进程，由非常少量的东西控制，我们需要让它清晰易管理，这就是为什么我不想有这样的 cron 进程。

我要删除的表中的数据 - 统计数据，每天都会插入大量数据，如果不删除 - 数据库将是令人难以置信的巨大（每天大约 500M，对我们来说这是相当大的数量，500M * 365天数为每年 182.5G）

是否可以使用 mysql 中的某些程序删除数据（可能在添加新行之后）/这是一个好主意吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T08:56:47.267

如果您打算放弃 cron 作业，则始终可以创建一个按预定频率运行的[事件。](http://dev.mysql.com/doc/refman/5.1/en/create-event.html)

无论您做什么，每次添加新行时都删除数据是一个非常糟糕的主意，因为它会减慢您的插入速度并且更有可能使您的表碎片化。

# ruby - 如何将 RVM 用于 ruby 应用程序引擎？

> ID：14683087
> 
> 赞同：0
> 
> 时间：2013-02-04T08:41:48.483
> 
> 标签：ruby, linux, bash, heroku, rvm

我想像heroku一样在rails中制作一个简单的ruby App Engine，我现在正在处理一个问题。

我的想法是：

1.使用rails建立App Engine，使用一个类'App'来处理所有的应用程序。

2.当用户创建一个 ruby​​ 应用程序时，他应该提供它的 git 路径

3.当用户部署它时，我的应用引擎会做这些事情：

*   将 git 克隆到我服务器中的路径（完成
*   使用 RVM 指定用户想要的 ruby​​ 版本并为项目创建 gemdir（这里有一些问题
*   为项目创建一个nginx conf，然后包含它并重新加载nginx（我可以做到

第二步的问题：

这里的代码：

```
 def start_thin
    Dir.chdir(proj_path) do
      system('rvm use ruby-1.8.7-p352@testname --create')
      system('gem env gemdir')
      success = system ('thin start -s3 --socket ' + self.proj_sock)
      if success
        return true
      end
    end
    return false
  end 
```

当代码在这里运行时，日志告诉我“RVM 不是一个函数……blahblah”，我对登录 shell 和非登录 shell 有所了解，然后我尝试通过编辑 .bashrc 来修复它但同样的问题发生了。

如果我忽略它，应用程序将无法部署，因为加载错误：

```
myapp.rb:2:in `require': cannot load such file -- sinatra (LoadError) 
```

如果我在该应用程序目录中打开一个终端，我可以使用 Thin 启动它。

我想知道如何像在终端中一样运行 cmd，而不会出现所有这些奇怪的问题？或者如何编辑我的方法来修复它？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-05T02:39:08.037

感谢 Casper 和 GhostRider。

用户和 rvm 设置正确。

经过大量的谷歌和测试后，我发现这是不可能的......最后我通过使用 RVM 的 ruby​​ api 而不是运行系统命令来修复它。如 ：

```
require 'rvm'
env = RVM.current
env.gemset.create('app1') 
```

# eclipse - 用于快速编辑命令行参数的 Eclipse 插件/视图

> ID：14683088
> 
> 赞同：5
> 
> 时间：2013-02-04T08:41:51.610
> 
> 标签：eclipse, user-interface, plugins, command-line, ide

在 Eclipse 中，我可以使用`Run | Run Configuration | Arguments`- 来访问我的主类的命令行参数，但这对我来说并不令人满意。我希望能够：

*   始终查看当前设置的参数是什么。
*   能够快速编辑它们，而无需打开任何菜单。

我最不想要的是一个可以放在控制台、历史记录、搜索等旁边的视图。更好的选择是一些带有命令行参数的可编辑栏，粘在某个地方。

是否实现了这样的功能？也许作为插件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-14T16:27:16.317

我们可以让 Eclipse 提示我们输入命令行参数，而不是快速编辑。看到[这个答案](https://stackoverflow.com/a/313292/1593077)。

# php - 如何获取当前类别 ID - OpenCart

> ID：14683090
> 
> 赞同：1
> 
> 时间：2013-02-04T08:41:59.733
> 
> 标签：php, opencart

我想在标题中添加 - if 语句：

```
<?php if (category = 17) { ?>
<meta name="description" content="category 17 description" />
<?php } ?>

<?php if (category = 18) { ?>
<meta name="description" content="category 18 description" />
<?php } ?> 
```

我如何获得当前的类别 ID

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T12:13:15.077

将其放在标题中的代码之前

```
$category = empty($this->request->get['path']) ? 0 : (int) array_pop(explode('_', $this->request->get['path'])); 
```

然后使用`$category`而不是`category`像您在问题中那样使用

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-27T06:21:55.347

如果您只需要类别 id ，它是一个 url 参数“路径”。因此，在 header.tpl 中访问类别 ID 的最佳方式是

```
<?php if(isset($_GET['category_id'])){
  if ($_GET['path'] = 17) { ?>
<meta name="description" content="category 17 description" />
<?php } ?>

<?php if ($_GET['path'] = 18) { ?>
 <meta name="description" content="category 18 description" />
<?php } 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T14:54:07.217

我想最好的方法是`meta description`从`category`控制器中添加，就像这样：

```
$this->document->addMeta($category_info['description']); 
```

只需编辑您的`/catalog/controller/product/category.php`控制器文件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-04T08:50:43.057

您想从哪里获取类别 ID？

是在网址里吗？

然后你必须使用全局 $_GET 变量。

如果网址是

`example.com/index.php?category=2`

你可以得到参数

```
$category= $_GET["category"] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-11-09T13:04:28.563

```
if(isset($this->request->get['path'])) {
    $path = $this->request->get['path'];
    $cats = explode('_', $path);
    $cat_id = $cats[count($cats) - 1];
}
echo $cat_id; 
```

来源：[http ://chandreshrana.blogspot.in/2014/07/get-current-category-in-opencart.html](http://chandreshrana.blogspot.in/2014/07/get-current-category-in-opencart.html)

# python - 如何设置 Gtk.FileChooserWidget 的默认打开路径？

> ID：14683093
> 
> 赞同：3
> 
> 时间：2013-02-04T08:42:09.233
> 
> 标签：python, gtk

如果我通过方法设置当前文件夹`Gtk.FileChooserWidget.set_current_folder()`，第一次打开文件选择器时，它会在用作参数的位置打开`set_current_folder()`

但是，如果我选择一个文件，我重新打开文件选择器，它会在“most_recent_used_files”上打开。

我希望它在最后选择的文件的文件夹路径上打开。

怎么做？

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-05T15:19:28.780

从文档：

> 旧版本的文件选择器文档建议在各种情况下使用 gtk_file_chooser_set_current_folder()，目的是让应用程序建议一个合理的默认文件夹。这不再被认为是一个好策略，因为现在文件选择器能够自己提出好的建议。通常，您应该只在适合使用 gtk_file_chooser_set_filename() 时才使文件选择器显示特定文件夹 - 即，当您执行文件/另存为命令并且您已经在某处保存了文件时。

您可能喜欢也可能不喜欢这种行为的原因。如果您对它是如何产生的感到好奇，请参阅邮件列表中的[文件选择器最近的文件](https://mail.gnome.org/archives/gtk-devel-list/2012-November/msg00040.html)和帮助用户选择在 GNOME wiki 上[放置新文件的位置。](https://live.gnome.org/DocumentCentricGnome/Help%20the%20user%20choose%20a%20place%20to%20put%20a%20new%20file)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-02-07T16:04:21.097

每次设置当前文件夹都对我有用，但这有点棘手。我正在使用 Gtk 3.14 和 Python 2.7。

你必须在重置目录之前获取文件名，否则它会丢失，并且当前目录可能是None，所以你必须检查它。

此代码在 Debian jessie 和 Windows 7 上进行了测试。

```
import os.path as osp

from gi.repository import Gtk

class FileDialog(Gtk.FileChooserDialog):
    def __init__(self, parent, title):
        Gtk.FileChooserDialog.__init__(self, title, parent)
        self.add_button(Gtk.STOCK_CANCEL, Gtk.ResponseType.CANCEL)
        self.add_button(Gtk.STOCK_OPEN, Gtk.ResponseType.OK)

        self.set_current_folder(osp.abspath('.'))

    def __call__(self):
        resp = self.run()
        self.hide()

        fname = self.get_filename()

        d = self.get_current_folder()
        if d:
            self.set_current_folder(d)

        if resp == Gtk.ResponseType.OK:
            return fname
        else:
            return None

class TheApp(Gtk.Window):
    def on_clicked(self, w, dlg):
        fname = dlg()
        print fname if fname else 'canceled'

    def __init__(self):
        Gtk.Window.__init__(self)

        self.connect('delete_event', Gtk.main_quit)
        self.set_resizable(False)

        dlg = FileDialog(self, 'Your File Dialog, Sir.')
        btn = Gtk.Button.new_with_label('click here')
        btn.connect('clicked', self.on_clicked, dlg)

        self.add(btn)
        btn.show()

if __name__ == '__main__':
    app = TheApp()
    app.show()
    Gtk.main() 
```

# android - 如何在 ImageViewTouch 中自动缩放

> ID：14683096
> 
> 赞同：1
> 
> 时间：2013-02-04T08:42:17.330
> 
> 标签：android

我正在使用 ImageViewTouch 库来缩放图像。

```
 <it.sephiroth.android.library.imagezoom.ImageViewTouch
           android:id="@+id/imageweb"
           android:layout_width="fill_parent"
           android:layout_height="fill_parent"
           android:background="@drawable/bg_loading"
           android:scaleType="fitCenter" /> 
```

对于任意图像，我想自动缩放到控件中，这意味着所有图像内容将全屏显示

```
ImageViewTouch img= (ImageViewTouch)findViewById(R.id.imageweb);
imageLocation.zoomTo(2.0f,20);// I want to to auto find default zoom vaule(not default 2.0f) to fill image content into screen. 
```

如何在 ImageViewTouch 中自动缩放？我使用 setFitToScreen(true) 但不成功 谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:54:19.700

我不知道你想要什么，但如果你想缩放一个 imageView，你可以`FitXY`在你的 xml 文件中添加比例

尝试这个

xml文件：

```
<it.sephiroth.android.library.imagezoom.ImageViewTouch
       android:id="@+id/imageweb"
       android:layout_width="fill_parent"
       android:layout_height="fill_parent"
       android:background="@drawable/bg_loading"
       android:scaleType="fitXY" /> 
```

java文件：

```
ImageViewTouch img= (ImageViewTouch)findViewById(R.id.imageweb); 
```

# mysql - 查询每个用户最近登录到当前日期的日期

> ID：14683100
> 
> 赞同：0
> 
> 时间：2013-02-04T08:43:06.510
> 
> 标签：mysql

我想询问一个示例查询，我可以用它来了解每个用户的最新登录日期...**谢谢**

```
+----+---------+------------+-----------+---------------------+
| id | version | first_name | last_name | login_detail        |
+----+---------+------------+-----------+---------------------+
|  1 |       0 | Mark       | Yap2      | 2013-02-01 16:00:23 |
|  2 |       0 | Mark       | Yap2      | 2013-02-01 16:00:38 |
|  3 |       0 | Mark       | Yap2      | 2013-02-04 13:38:41 |
|  4 |       0 | john       | doe       | 2013-02-04 13:50:39 |
|  5 |       0 | Mark       | Yap2      | 2013-02-04 13:59:01 |
|  6 |       0 | Mark       | Yap2      | 2013-02-04 14:04:25 |
|  7 |       0 | john       | doe       | 2013-02-04 14:09:47 |
|  8 |       0 | Mark       | Yap2      | 2013-02-04 14:14:40 |
|  9 |       0 | Mark       | Yap2      | 2013-02-04 14:15:36 |
| 10 |       0 | john       | doe       | 2013-02-04 14:16:11 |
| 11 |       0 | Mark       | Yap2      | 2013-02-04 14:23:38 |
| 12 |       0 | john       | doe       | 2013-02-04 14:26:53 |
| 13 |       0 | john       | doe       | 2013-02-04 15:50:45 |
| 14 |       0 | john       | doe       | 2013-02-04 15:55:53 |
| 15 |       0 | john       | doe       | 2013-02-04 15:59:15 |
| 16 |       0 | john       | doe       | 2013-02-04 16:05:15 |
| 17 |       0 | john       | doe       | 2013-02-04 16:09:54 |
+----+---------+------------+-----------+---------------------+ 
```

对于此示例表...我想获取每个用户的最新登录记录...对于 2 个不同的用户，这些记录的 ID 为 17 和 11

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T08:43:59.007

假设您有一个名为 的表`tableName`，并且有列：`userID`, `last_login`。`MAX`您可以通过使用which is a *Aggregate Function*来了解用户的最新登录日期。

```
SELECT userID, 
       MAX(last_login) most_current_login
FROM   tableName
GROUP  BY userID 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T11:19:14.890

询问：

**[SQLFIDDLE示例](http://sqlfiddle.com/#!2/d376c/1)**

```
SELECT first_name, 
       last_name,
       MAX(login_detail) latest_login_record
FROM   Table1
GROUP  BY first_name, 
          last_name 
```

结果：

```
| FIRST_NAME | LAST_NAME |             LATEST_LOGIN_RECORD |
------------------------------------------------------------
|       john |       doe | February, 04 2013 16:09:54+0000 |
|       Mark |      Yap2 | February, 04 2013 14:23:38+0000 | 
```

# list - Lisp 列表中的不完整输出，# 给出的列表深度超过 4

> ID：14683101
> 
> 赞同：1
> 
> 时间：2013-02-04T08:43:08.343
> 
> 标签：list, lisp, common-lisp, hashtag, lispworks

我正在将 Lispworks 用于学校的项目，但遇到了一些麻烦；听众在输出中给了我一个标签，其中列表的深度大于四。这是一个例子：

```
CL-USER 21 : 5 > '(1(2(3(4(a)))))
(1 (2 (3 (4 #)))) 
```

有什么线索吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-04T09:11:55.050

见变量[`*print-level*`](http://www.lispworks.com/documentation/HyperSpec/Body/v_pr_lev.htm#STprint-levelST)。

```
CL-USER 1 > '(1(2(3(4(a)))))
(1 (2 (3 (4 (A)))))

CL-USER 2 > *print-level*
NIL

CL-USER 3 > (setf *print-level* 3)
3

CL-USER 4 > '(1(2(3(4(a)))))
(1 (2 (3 #))) 
```

Common Lisp 允许以各种方式控制输出。对于列表，例如可以指定输出的最大深度和最大长度。如果您使用长而复杂的列表结构，否则这会产生长输出，这很有用。缺点是您以后无法重新阅读此类缩写输出。

# c++ - 结构指针中的值传递

> ID：14683102
> 
> 赞同：0
> 
> 时间：2013-02-04T08:43:20.877
> 
> 标签：c++, c, struct

我有 5 到 6 年没有在 C、C++ 领域工作过。但现在我要做一个很小的改变（解释如下）。我尝试阅读教程，但只是感到困惑。

下面我的结构包含 2 个属性。我需要创建它的引用并将值传递给这两个属性。

定义结构的文件。

```
//List of includes
typedef struct dscvs {
UPD_TRC(trc_no);
UPD_STS(status);
}dscvs_i; 
```

使用结构变量的文件 // 这里我需要创建一个 dscvs_i 类型的变量，这样我就可以输入 UPD_TRC(trc_no) & UPD_STS(status); 中的值 // 这就是我正在做的

```
dscvs_i *i_updsc;
i_updsc->trc_no = trcno; 
```

但这是抛出错误“错误：表达式必须是可修改的左值”

请建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T08:57:07.373

即使它已编译（由于宏将成员包装在结构中，它似乎没有这样做），这：

```
dscvs_i *i_updsc;
i_updsc->trc_no = trcno; 
```

是无效代码。*在分配某些东西之前*，您不能修改指针`i_updsc`指向的内容，即初始化指针以指向您可以修改的有效内存块。

 *如果您希望使用它，则需要使用以下方法分配动态内存`malloc()`：

```
i_updsc = malloc(sizeof *i_updsc); 
```

然后检查分配是否成功，*然后再*尝试修改它：

```
if(i_updsc != NULL)
{
  i_updsc->trc_no = trcno;
} 
```*

# c++ - 为什么会发生这种意想不到的变量变化？

> ID：14683111
> 
> 赞同：-6
> 
> 时间：2013-02-04T08:44:00.737
> 
> 标签：c++, variables, methods

```
 #include <iostream>
#include <fstream>
using namespace std;
const int maxsize=20;
class IntStack{
private:
    int element[maxsize],topindex;
public:
    IntStack(){topindex=-1;}
    int getTI(){
        return topindex;
    }
    int top(){
        if(topindex==-1)
            exit(-1);
        return element[topindex];
    }
    int top(int *t){
        if(topindex==-1)
            return -1;
        t=&element[topindex];
        return 0;
    }
    int pop(){
        if(topindex==-1)
            exit(-1);
        topindex--;
        return element[topindex+1];
    }
    int pop(int *t){
        if(topindex==-1)
            return -1;
        t=&element[topindex];
        topindex--;
        return 0;
    }
    int push(int e){
        if(topindex==19)
            return -1;
        topindex++;
        element[topindex]=e;
        return 0;
    }
    inline int empty(){return topindex==-1;}
    ostream& print(ostream& o){
        for(int i=0;i<=topindex;i++){
            o<<element[i]<<' ';
        }
        return o;
    }
};
ostream& operator <<(ostream& o,IntStack s){ ostream& operator <<(ostream& o,IntStack &s)
    cout<<s.getTI()<<endl; // prints 2
    while(s.empty()==0){
        o<<"index("<<s.getTI()<<")= "<<s.pop()<<endl; //getTI prints 1.
    }
    return o;
}
int main(){
    IntStack s;
    s.push(5);
    s.push(6);
    s.push(7);
    cout<<s; // the indexes should be 2, 1 , 0 but they are 1 0 -1!
    system("pause");
} 
```

请编译这个，你只需要阅读 getTI() 和 pop() 方法。在运算符 << 重载中，我们看到 s.getTI 的不同值，这很奇怪！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-04T08:46:45.523

```
o<<"index("<<s.getTI()<<")= "<<s.pop()<<endl; //getTI prints 1. 
```

您假设`s.getTI()`在 之前进行了评估`s.pop()`，这不一定是正确的。这些操作数的求值顺序完全没有指定，事实上，我通常看到的模式大致是从右到左的求值。

在单独的代码行上执行`s.getTI()`和`s.pop()`评估。

# android - Google 应用内计费从 V2 迁移到 V3

> ID：14683114
> 
> 赞同：2
> 
> 时间：2013-02-04T08:44:07.700
> 
> 标签：android, in-app-billing

我有一个使用 IAB V2 的现有应用程序，我想将其更新到 V3。我做了一些测试并注意到以下几点：

*当我在新的开发者控制台界面中发布项目时，我可以使用 IAB V3 实施购买它们，但使用 V2 实施我会得到“无法购买此项目”。

*当我在旧的开发者控制台界面中发布项目时，我可以使用 IAB V2 实施购买它们，但使用 V3 实施我得到“无法购买此项目”。

是它的工作方式还是我做错了什么，如果我想迁移到版本 V3，我必须只将项目放在新界面中吗？那些拥有 V2 应用程序的人呢，他们将能够通过项目了吗？

# android - 如何更新购物车选项卡中的项目数量

> ID：14683116
> 
> 赞同：1
> 
> 时间：2013-02-04T08:44:30.373
> 
> 标签：android

我正在制作一个有序系统，其中我向用户提供**两个选项卡，**

*第一个选项卡*选择项目，然后添加到购物车。

*第二个选项卡*可查看用户添加的要购买的项目

**问题：**

每当用户返回菜单选项卡以更新购物车中已存在的商品数量时，无法显示更新的数量，例如：

*旧数量*：2

*新数量*：4

在我的*购物车选项卡*中，我总是*得到 2 [旧数量] 代替数量*，但对我来说，好事是，*每当我更改项目数量时，总金额就会发生变化*。

请告诉我我在哪里失踪以及我在哪里犯了愚蠢的错误......

*ViewCartActivity.Java：*

```
 @Override
    protected void onResume() 
    {
        super.onResume();
        if (Constants.mItem_Detail.size() == 0) 
        {
            return;
        }

        Double mGTotal = Double.parseDouble(Constants.mItem_Detail.get(0).get(SingleProductActivity.KEY_TOTAL));
        for (int i = 1; i < Constants.mItem_Detail.size(); i++) 
        {   
        mGTotal = mGTotal + Double.parseDouble(Constants.mItem_Detail.get(i).get(SingleProductActivity.KEY_TOTAL));
        }
        mGrandTotal = String.valueOf(mGTotal);
        mTxtViewGrandTotal.setText(mGrandTotal);
        myTextVeiwGrandTotal.setText(mGrandTotal);
        mTotal = String.valueOf(Constants.mItem_Detail.size());
        mItems.setText(mTotal);

} 
```

*选项卡.Java：*

```
 @Override
public void onBackPressed() {
    // TODO Auto-generated method stub
    super.onBackPressed();
    Constants.mItem_Detail.clear();

} 
```

# java - 自动添加“this”。实例变量

> ID：14683119
> 
> 赞同：4
> 
> 时间：2013-02-04T08:44:42.143
> 
> 标签：java, intellij-idea, checkstyle

我们已经开始实施 checkstyle 来为开发人员提供一致的代码风格。其中一项检查要求所有实例变量都是使用“this.”引用的。我没有使用“this.”的习惯，因此有数千个需要修复的实例。

是否有可以运行并添加适当代码的工具或 IntelliJ 插件？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-04T08:51:11.223

在eclipse中：Window - Preferences - Java - Editor - Save actions - Configure... - Member access -

在这里，您选中“使用此”复选框。

在每次保存代码时，它都会进行更正。

我刚找到[这个](http://www.vogella.com/articles/Eclipse/article.html#eclipsejavaperspective_views)页面。

对于那些想要有效使用 eclipse 的人来说，阅读永远不会太晚。我想也会有类似于 Netbeans 和其他的东西。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-04T09:13:21.743

> 其中一项检查要求使用“this”引用所有实例变量。

所以'checkstyle'是错误的。

> 我一直没有使用“this”的习惯。

完全正确。这是多余的。对你有益。

> 所以有成千上万的实例需要修复。

所以*你*错了。

您没有*任何*“需要修复”的实例。

不要这样做。这是多余的。不要做多余的工作。没有人愿意为此付钱，他们为什么要付钱呢？修改您的 checkstyle 配置，以免需要它。不要让工具告诉你如何花钱，也不要误以为“开发人员之间一致的代码风格”对于交付工作产品至关重要。它不是，只要代码清晰可维护。我看到在这个问题上浪费的时间和金钱比我想的要多。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-04T09:30:52.970

> 其中一项检查要求所有实例变量都是使用“this”的引用。

IMO，最好的解决方案是与开发团队的其他成员一起提出这个问题，并同意关闭那个*愚蠢*的检查。如果添加冗余`this`关键字可以提高可读性，那么您不得不怀疑阅读代码的人的 Java 技能。

如果他们反击，我会*很想*以此表达我的厌恶：

```
public class SomeClass {
  private String thisName;

  public String getName() {
      return this.thisName;
  }

  public void setName(String notThisName) {
      this.thisName = notThisName;
  }

  // and so on
} 
```

# extjs - 在 ExtJS 中动态创建多个组合框

> ID：14683121
> 
> 赞同：1
> 
> 时间：2013-02-04T08:44:47.883
> 
> 标签：extjs, combobox

我需要创建大约 8 个组合框。我不想是静态的，应该使用 Ext-JS 动态调用它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T13:31:14.973

这段代码动态地创建了几个组合框。我希望这就是你要找的。

```
for (var i=0; i < 8; i++) {
    Ext.create('Ext.form.ComboBox', {
        fieldLabel: 'Combobox '+i,
        store: ['Option1','Option2'], //better to use a dynamic store
        renderTo: Ext.getBody()
    });
}; 
```

# apache - 用 mod-rewrite 重写 URL

> ID：14683123
> 
> 赞同：0
> 
> 时间：2013-02-04T08:44:59.533
> 
> 标签：apache, .htaccess, mod-rewrite

我必须更改我的网址

`http://mysite.com/shtml/home.shtml`

至

`http://mysite.com/home.shtml`

使用 mod 重写。

我试过这样的事情：

```
RewriteRule ^\/shtml\/(.*)$ /$1 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T15:53:52.067

通过启用 mod_rewrite 和 .htaccess `httpd.conf`，然后将此代码放在您`.htaccess`的`DOCUMENT_ROOT`目录下：

```
Options +FollowSymLinks -MultiViews
# Turn mod_rewrite on
RewriteEngine On
RewriteBase /

RewriteRule ^shtml/(.+)$ /$1 [L,R,NC] 
```

# iphone - DYLD 问题 - “原因：找不到图像”

> ID：14683125
> 
> 赞同：0
> 
> 时间：2013-02-04T08:45:09.457
> 
> 标签：iphone, xcode

有史以来最奇怪的 SOB……</p>

当我在 iPhone 上运行我的应用程序时，它运行良好。也在许多其他 iPhone 上。但是当我尝试在我的朋友 iPhone (5.1.1) 上运行它时，它会启动并立即卡住并出现以下错误：

原因：找不到图片

它还说它无法加载 Adsupport 库。难道是5.1.1不支持Adsupport框架？真的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T08:58:48.240

刚刚解决了它，虽然我真的很想要一个答案。我删除了 Adsupport 框架，现在它可以工作了。

我不知道他在说什么形象……真的很奇怪。

5.1.1 使用什么框架来处理这些事情？

# grails - 使用 Grails RabbitMQ 插件时，发送消息时如何设置消息头/属性？

> ID：14683130
> 
> 赞同：0
> 
> 时间：2013-02-04T08:45:31.047
> 
> 标签：grails, rabbitmq, grails-plugin, grails-plugin-rabbitmq

使用插件使用消息时，您可以访问原始消息及其标头/属性。

使用 rabbitSend 方法发送消息时，从文档 ( [http://grails-plugins.github.com/grails-rabbitmq/docs/manual/ref/All%20Classes/rabbitSend.html](http://grails-plugins.github.com/grails-rabbitmq/docs/manual/ref/All%20Classes/rabbitSend.html) ) 中可以看出，您只能设置交换名称、路由密钥和消息正文。

使用 rabbitSend 方法发送消息时如何设置这些标头/属性？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T10:05:33.670

目前，您似乎需要使用底层的 rabbitTemplate.convertAndSend() 方法。插件文档中指向 RabbitTemplate Javadoc 的链接目前已损坏，它应该指向[http://static.springsource.org/spring-amqp/api/org/springframework/amqp/rabbit/core/RabbitTemplate.html](http://static.springsource.org/spring-amqp/api/org/springframework/amqp/rabbit/core/RabbitTemplate.html)

[我在 Grails JIRA http://jira.grails.org/browse/GPRABBITMQ-7](http://jira.grails.org/browse/GPRABBITMQ-7)上找到了使用 rabbitTemplate.convertAndSend() 方法设置消息属性的示例

```
rabbitTemplate.convertAndSend "amq.direct", "work", payload, ({ Message msg ->
    msg.messageProperties.replyTo = new Address("work.reply")
    return msg
} as MessagePostProcessor) 
```

# regex - textpad 正则表达式搜索行首和行尾

> ID：14683132
> 
> 赞同：0
> 
> 时间：2013-02-04T08:45:37.250
> 
> 标签：regex, pattern-matching, textpad

我想使用 Textpad 找到 .java、.jsp 文件中的所有行

```
start of the line is //
end of the line is ; 
```

例如

```
// logger.debug("rowData: "+rowData); 
```

可以在文本键盘中使用正则表达式匹配来完成吗？还是我需要写一个 Perl 程序，请建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T08:48:38.737

将以下正则表达式与多行选项一起使用

```
^\s*//.*?; 
```

# big-o - 证明 n^2 不是 O(n*log(n))？

> ID：14683135
> 
> 赞同：-3
> 
> 时间：2013-02-04T08:45:49.487
> 
> 标签：big-o, proof

仅使用 O() 的定义？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T08:50:45.273

你想计算的极限

```
 (n * log(n)) / (n ^ 2) =
= log(n) / n =
= 0 if n approaches infinity. 
```

因为`log(n)`比 增长慢`n`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T09:06:16.303

你需要用反证法来证明。假设`n^2` **是** `O(n*log(n))`。这意味着根据定义，存在一个有限且非可变的实数`c` ，使得

```
n^2 <= c * n * log(n) 
```

对于每一个大于某个有限数的 n `n0`。

然后你到达了 时的点`c >= n /log(n)`，你推导出为`n -> INF`，`c >= INF`这显然是不可能的。

你得出`n^2` **的结论不是** `O(n*log(n))`

# android - 从顶部向下滑动新布局

> ID：14683136
> 
> 赞同：0
> 
> 时间：2013-02-04T08:45:53.793
> 
> 标签：android, animation, layout, slidedown, sliding

我有一个由活动托管的主要布局（setContentView 方法）。

我在布局中有一个按钮。我希望能够单击此按钮，并且新的布局将从左侧/顶部向下滑动直到屏幕中间。因此，屏幕现在将有两种布局，一种在顶部，另一种在其下方。

这类似于 Android Jelly Bean 中的 UI，您可以在其中使用触摸手势下拉设置布局。

有哪些可能的实现方式？

我尝试过的一种方法：

1.  将向下滑动布局添加到 main.xml，但将其可见性设置为消失
2.  单击按钮时，运行一些代码将布局可见性设置为 VISIBLE 并添加一些动画。
3.  这个实现的结果是，这个布局将把其余的视图向下推，以便为自己有一个“挤压”空间，这不是我打算做的（见上文）

    ```
    <?xml version="1.0" encoding="utf-8"?>
    <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"
        android:paddingBottom="5dp"
        android:paddingTop="5dp" >

        <LinearLayout
            android:id="@+id/PR_slidedown"   <---this is the intended slidedown layout
            android:layout_width="8dp"
            android:layout_height="40dp"
            android:visibility="gone"
            android:orientation="vertical" >
        </LinearLayout>
         .... 
    ```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T17:13:48.580

您的实现部分正确，另一部分是将您的两个布局托管在 FrameLayout 中，以便它们可以相互重叠。在这里搜索 FrameLayout，有很多关于如何使用它的示例。

或者试试[SlidingDrawer](http://developer.android.com/reference/android/widget/SlidingDrawer.html)

# javascript - HTML & Javascript - 在域中的所有网站上包含 javascript

> ID：14683148
> 
> 赞同：5
> 
> 时间：2013-02-04T08:46:52.853
> 
> 标签：javascript, html

您可以在不包含每个 *.html 文件的情况下将 javascript 添加到所需的 *.html 文件中吗？像：

```
<html>
<head>
......<!-- no script-->
</head>
<body>
......<!-- also no script tags-->
</body>
</html> 
```

那么我可以使用一种方法来自动将我想要的 javascript 文件包含在我未来想要的任何 *.html 文件中，而无需`<script>`在我的 html 文件中手动添加标签吗？就像 htaccess 一样，它将域中的所有误导性 url 重定向到 404 页面。

请告诉我是否需要添加任何信息。

*编辑 - 我不想使用 iframe

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T08:54:30.503

那么你所说的概念基本上是php模板。您可以制作单个页眉和页脚，然后您只需更改正文即可。页眉和页脚包含在页面服务器端。

除此之外，可能还有某种自动化程序可以自动手动完成。

# java - 如何访问存储在Java中类似对象数组中的对象的各个值

> ID：14683152
> 
> 赞同：-1
> 
> 时间：2013-02-04T08:47:04.577
> 
> 标签：java, arrays, object

我在尝试使我的编码保持井井有条并尽可能简单时遇到问题。我基本上有一个包含多个值的类似对象数组。我想访问这些单独的值并能够随意修改它们，但似乎无法访问它们。这就是代码基本上看起来的样子......

```
 //In file Champion.java
    package Champions;
    public interface Champion{}

    //In another file ChoGath.java
    package Champions;
    public class ChoGath implements Champion{
    public static double health = 440.0;
    }

    //Yet another file Ahri.java
    package Champions;
    public class Ahri implements Champion{
    public static double health = 380.0;
    }

    //In the main build file LOLChampBuilder.java
    package LOLChampBuilder;
    import Champions.*;
    public class LOLChampBuilder{
        public static Champion[] listOfChampions = {new ChoGath(), new Ahri()};
        public static void main(String args[]){
            //This next line works
            System.out.println(new ChoGath().health);
            //This next line does not work
            System.out.println(listOfChampions[0].health);
        }
    } 
```

还有更多变量等等，但这是基本问题。

ChoGath 和 Ahri 是 Champions 组的成员，每个人都有自己独特的健康价值。我希望能够将它们全部组合到一个数组中以便于获取值，因为我知道 ChoGath（例如）在数组中的位置。

我得到错误`Cannot find symbol 'health' in Champions.Champion`。我已经在 Champion 中创建了值并修复了它（并将其更改为类，然后扩展而不是实现）但是当我去打印时，该值始终为 380.0，因为它是对值 health 的最新编辑在冠军。

我想要它，以便我可以将所有“冠军”组合在一个数组下（因此它们需要是相同的对象类型，即：冠军，**如果我错了，请纠正我**）并访问它们各自的值。我似乎无法做到这一点，所以我不知道我是否需要使用 ArrayList （我从未使用过）或其他东西。现在我知道我可以解决这个问题并将其全部放入一个大文件中，但我正在尝试将多个文件用于组织目的和清洁。想做什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T08:51:54.690

您需要添加`getHealth()`到您的界面。这就是吸气剂的用途。

还要避免使用`static`变量。它们往往会产生编程错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T08:51:48.143

您必须在接口中使用 getter 和 setter 来获得此功能，或者使用基类而不是接口`Champion`，例如：

```
interface Champion
{
    public int getHealth();
    public void setHealth(int health);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-04T08:59:31.003

您需要`health`在界面中有变量。这类似于子类和超类的概念。您不能使用超类类型访问子类的变量，因为所有超类都不是子类（反之亦然）。只有在超类中定义时才能访问它们。如果您在接口中使用健康变量，它必须是最终静态的。所以最好在接口中使用 setter 和 getter 方法来获取值。

> 接口冠军 { public int getHealth(); }

现在在 ChoGath 和 Ahri 类中实现这个方法

# android - 滚动 ListView 和 TextView Android

> ID：14683155
> 
> 赞同：0
> 
> 时间：2013-02-04T08:47:12.390
> 
> 标签：android, android-listview

我想创建一个由以下组成的布局：

*   textview，作为标题
*   列表显示

并且当用户向下/向上滚动时，所有内容一起滚动（不仅在列表视图内）有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T08:49:08.903

为什么不将标题加载到列表视图中，作为顶部项目，并使您的活动扩展 ListActivity？

如果您希望标题的格式不同，您可以在 getView() 方法中指定——

```
if (position == 0) {
   //format title item }
else {
   //format other items 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-04T09:05:02.150

您可以像这样定义您的文本视图：

```
View textView = ((LayoutInflater)Activity.this.getSystemService(Activity.this.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.textview_title, null, false); 
```

然后将其添加为列表视图标题

```
myListView.addHeaderView(textView); 
```

如果要将选择设置为标题视图之后的第一个列表项，您可以使用

```
myListView.setSelectionAfterHeaderView(); 
```

# python - Python 从 gtkEntry 构造一个列表

> ID：14683160
> 
> 赞同：0
> 
> 时间：2013-02-04T08:47:36.987
> 
> 标签：python, gtk, pygtk

我使用 gtk2x，python 2.7.3，我需要根据在 gtkEntry 文本框中输入的值创建一个列表。有什么“简单”的方法可以解决这个问题吗？

全局变量定义：

```
groupID = [] 
```

gtkEntry 框的定义：

```
 <object class="GtkEntry" id="gtkENTRY1">
        <property name="visible">True</property>
        <property name="can_focus">True</property>
        <property name="invisible_char">●&lt;/property>
        <property name="text" translatable="yes">-</property>
        <property name="primary_icon_activatable">False</property>
        <property name="secondary_icon_activatable">False</property>
        <property name="primary_icon_sensitive">True</property>
        <property name="secondary_icon_sensitive">True</property>
      </object> 
```

获取对象：

```
self.gID = builder.get_object("gtkENTRY1") 
```

从对象中获取文本：

```
groupID = self.gID.get_text() 
```

输入的值：

```
value1,value2 
```

需要的输出：

```
list = [value1,value2] 
```

实际输出：

```
list = [v,a,l,u,e,1,v,a,l,u,e,2] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:46:31.943

如果有人想知道并供将来参考，我已经通过 RE 拆分解决了这个问题。像这样的东西：

```
list = re.split(r"\s*[,;]\s*", groupID.strip()) 
```

# c++ - 为什么 QList 没有 resize() 方法？

> ID：14683161
> 
> 赞同：13
> 
> 时间：2013-02-04T08:47:37.207
> 
> 标签：c++, qt, qlist

我只是注意到`QList`没有`resize`方法，`QVector`例如，有一个方法。为什么是这样？有没有等效的功能？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-04T12:59:23.100

好吧，这是更通用的答案，但我希望您能通过比较`QList`了解`QVector`为什么不需要手动扩展容器。

QList 使用内部缓冲区来保存指向元素的指针（或者，如果元素小于指针大小，或者元素是[共享类](http://qt-project.org/doc/qt-4.8/implicit-sharing.html#shared-classes)之一- 元素本身），真实数据将保存在堆上。

在此期间，删除数据不会减少内部缓冲区（空白空间将通过向左或向右移动元素来填充，在开头和结尾留出空间以供以后插入）。

追加项目，like`QVector`将在数组末尾创建额外的新空间，并且由于与 不同`QVector`，实际数据不存储在内部缓冲区中，因此无论项目的大小如何，您都可以在单个指令中创建**大量**`QVector`空间（不像) - 因为您只是将指针添加到索引缓冲区中。

例如，如果您使用 32 位系统（每个指针 4 个字节）并且您在 中存储 50 个项目`QList`，并且每个项目是 1MB 大，`QVector`则缓冲区需要调整为 50MB，并且`QList`只需要分配 的内部缓冲区200B内存。这是您需要调用`resize()`的地方`QVector`，但`QList`没有必要，因为分配小块内存没有问题，因为分配 50MB 内存。

但是，有一个代价，这意味着您有时想要优先`QVector`选择`QList`：`QList`内部缓冲区指向）。如果要添加比指针大的 10000 个项目（因为如果它可以放入指针，它将直接存储在内部缓冲区中），您将需要 10000 次系统调用来为堆上的 10000 个项目分配数据。但是，如果您正在使用`QVector`，并且您调用，则可以在单个 alloc 调用中容纳所有项目 - 因此，如果您需要大量插入或附加，`resize`请不要使用，更喜欢这样做。当然，如果你正在使用`QList``QVector``QList`存储共享类，不需要额外的分配，这再次使得`QList`更合适。

因此，`QList`在大多数情况下更喜欢它：

1.  使用索引访问单个元素，访问项目会更快`QLinkedList`
2.  插入到列表中间只需要移动指针来创建空间，它比移动实际`QVector`数据要快。
3.  无需手动预留或调整空间，因为空的空间会被移到缓冲区的末尾以备后用，并且在数组中分配空间非常快，因为元素非常小，可以分配很多的空间，而不会杀死你的内存空间。

不要在以下场景中使用它，并且更喜欢`QVector`：

1.  如果您需要确保您的数据存储在顺序内存位置
2.  如果您很少在随机位置插入数据，但在末尾或开头追加**大量**数据，这会导致大量不必要的系统调用，您仍然需要快速索引。
3.  如果您正在寻找不会随时间增长的简单数组的（共享）替代品。

最后，请注意：`QList`(and `QVector`) 具有如果大于内部缓冲区的当前大小`reserve(int alloc)`会导致`QList`' 的内部缓冲区增长的功能。`alloc`但是，这不会影响*外部大小*（`QList`将`size()`始终返回列表中包含的元素的确切数量）。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-03-13T17:30:36.547

我认为原因是因为`QList`不需要元素类型具有默认构造函数。因此，没有任何操作`QList`可以创建一个对象，它只复制它们。

但是，如果您真的需要调整 a 的大小`QList`（无论出于何种原因），这里有一个函数可以做到。请注意，它只是一个便利功能~~，并没有考虑到性能~~。

```
template<class T>
void resizeList(QList<T> & list, int newSize) {
    int diff = newSize - list.size();
    T t;
    if (diff > 0) {
        list.reserve(newSize);
        while (diff--) list.append(t);
    } else if (diff < 0) list.erase(list.end() + diff, list.end());
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-05-17T17:09:05.153

wasle 答案很好，但它会多次添加同一个对象。这是一个实用函数，它将为智能指针列表添加不同的对象。

```
template<class T>
void resizeSmartList(QList<QSharedPointer<T> > & list, int newSize) {
    int diff = newSize - list.size();

    if (diff > 0) {
        list.reserve(diff);
        while (diff>0){
            QSharedPointer<T> t = QSharedPointer<T>(new T);
            list.append(t);
            diff--;
        }
    }else if (diff < 0) list.erase(list.end() + diff, list.end());
} 
```

对于没有智能指针的使用，以下内容会将不同的对象添加到您的列表中。

```
template<class T>
void resizeList(QList<T> & list, int newSize) {
    int diff = newSize - list.size();

    if (diff > 0) {
        list.reserve(diff);
        while (diff>0){
            T t = new T;
            list.append(t);
            diff--;
        }
    }else if (diff < 0) list.erase(list.end() + diff, list.end());
} 
```

另请记住，您的对象必须具有默认构造函数（在标头中使用 arg="someValue" 声明的构造函数），否则它将失败。

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2016-01-27T21:40:42.593

只需使用类似的东西

```
QList<Smth> myList;
// ... some operations on the list here
myList << QVector<Smth>(desiredNewSize - myList.size()).toList(); 
```

本质上，到处都有这些 ///方法`to`，`from` `Vector`这使得在必要时以某种手动但微不足道且有效（我相信）的方式调整 Qt 容器的大小变得微不足道。`List``Set()`

另一种（1 或 2 线）解决方案是：

```
myList.reserve(newListSize); // note, how we have to reserve manually
std::fill_n(std::back_inserter(myList), desiredNewSize - myList.size(), Smth()); 
```

-- 那是为面向 STL 的人准备的 :)

有关有效`QList::resize()`可能变得多么复杂的一些背景，请参阅：

*   [bugreports.qt.io/browse/QTBUG-42732](http://bugreports.qt.io/browse/QTBUG-42732)和
*   [codereview.qt-project.org/#/c/100738/1//ALL](http://codereview.qt-project.org/#/c/100738/1//ALL)

# javascript - 如何将 javascript 数组分配给 Ftllist？

> ID：14683162
> 
> 赞同：0
> 
> 时间：2013-02-04T08:47:36.613
> 
> 标签：javascript, jquery, freemarker

我在 javascript 中有一个值列表，变量名称是值 ['1','2','3'] 的**数组**。在这里我想将此数组值分配到**ftl**文件中名为 list 的列表中。实际上我正在尝试通过**js**获取复选框值并分配给一个列表，该列表是**ftl**文件。

帮助我克服这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T19:02:15.550

您必须通过 ajax 调用发送值列表并刷新 div 以显示新结果。由于 freemarker 是一个在服务器上运行以生成 html 页面的模板引擎，因此您将无法向 freemarker 发送任何对象、列表等……如果您愿意，我可以向您展示一个示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T19:08:48.067

FreeMarker 在 JavaScript 在客户端运行之前在服务器上运行，所以你想要的是不可能的。或者至少是你想要的方式，它是。您必须将该数组发布回服务器（使用表单或 AJAX）等。

# mysql - SQL Like 在“/”上崩溃

> ID：14683165
> 
> 赞同：0
> 
> 时间：2013-02-04T08:47:55.443
> 
> 标签：mysql, sql, datetime

我有一个使用 MySQL 数据库的数据类型为 varchar 的列。假设保存在此列中的 Web 表单的值为：`2/4/2013`

我的搜索查询如下：

```
SELECT * FROM tbl WHERE colValue LIKE %2/4/2013% 
```

但是，它正在崩溃。对于任何其他字符串，我都会得到正确的结果。但是，是正斜杠导致它崩溃吗？如何解决这个问题？

问候 ！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-04T08:48:40.270

既然你想选择特定的日期，为什么不使用`=`

```
SELECT * FROM tbl WHERE colValue = '2/4/2013' 
```

但是如果列的数据类型是`DATE`or `DATETIME`，尽管mysql会自动转换它，但使用正确的格式，

```
SELECT * FROM tbl WHERE colValue = '2013-02-04' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T08:51:48.407

对于使用类似运算符，您可以使用 DATEPART() 函数...

```
select * from tbl
where (DATEPART(yy, colValue) = 2013
AND DATEPART(mm, colValue) = 04
AND DATEPART(dd, colValue) = 02) 
```

像这样你可以在 SQL 中做

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T08:50:57.510

对 / 使用转义字符。mysql 转义字符是\。

# php - 这段代码的糟糕表现

> ID：14683166
> 
> 赞同：0
> 
> 时间：2013-02-04T08:47:56.240
> 
> 标签：php, mysql, performance, codeigniter

我正在使用 codeigniter 和 mysql，我正在尝试从 mssql 服务器获取一些数据并更新到我的系统。它很慢。如果我做错了什么，请告诉我..

```
class systemupdate extends MY_Controller{

    function systemupdate() {      
        return parent::MY_Controller();
    }

    function index(){
        $message = '';                                                                                   
        $message = "CRON Information::COMMON INVENTORY SYSTEM: QUANTITY UPDATE FOR TRADE WH STARTED.";
        log_message('info', $message);  
        $this->load->model("cis/sapinventorymodel");
        $objMainResult = $this->sapinventorymodel->FetchDetailsByUnit(420);
        $mainResult = json_decode($objMainResult);
        if((isset($mainResult)) && ($mainResult->results > 0))  
        {
            $this->load->model("cron/systemupdatemodel");
            foreach($mainResult->rows as $main)
            {
                $arrQuantity = '';
                $arrQuantity = $this->systemupdatemodel->FetchTradeWhQuantity($main->number);
                if((isset($arrQuantity)) && (count($arrQuantity) > 0))
                {
                    if((isset($arrQuantity[0]->quantity)) && ($arrQuantity[0]->quantity != NULL)){
                        $objMainResult = $this->sapinventorymodel->SaveTradeWhQuantity($main->a_umber, $main->a_plant,
                                                                                     $main->a_unit,$arrQuantity[0]->quantity);
                    }
                }   
            }
        }
        $message = "CRON Information::COMMON INVENTORY SYSTEM: QUANTITY UPDATE FOR TRADE WH FINSIHED.";
        log_message('info', $message);      
    }   
} 
```

这是模型

```
class systemupdatemodel extends MY_Model {

    function systemupdatemodel() {
        parent::__construct();
        $CI->sapData    =   $this->load->database("sapinventory", TRUE);
        $this->sapData  =   &$CI->sapData;
    }

    function FetchTradeWhQuantity($p_intNumber){

        $query = $this->sapData->query("SELECT quantity FROM master1 WHERE NUMBER = '$p_intNumber'");
            if(($query->num_rows() > 0) && ($query->num_rows() == 1)){
                return $query->result();
            }else
            {
                $query1 = $this->sapData->query("SELECT  quantity FROM master2 WHERE EANNUMBER = '$p_intNumber'");
                if(($query1->num_rows() > 0) && ($query1->num_rows() == 1)){
                    return $query1->result();
                }                   
            }                                       
    }
} 
```

记录总数为 7857，即循环中的许多倍。**sapinventory**是一个 mssql 服务器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T13:47:15.220

`FetchTradeWhQuantity`并`SaveTradeWhQuantity`在这种情况下进行了很多运行。这意味着（可能）每行至少 3 个 mysql 查询。如果您考虑改为通过 1 或 2 个大查询来运行它，您的性能会非常显着提高。

现在这可能是一件容易做的事情，也可能是一件很难做的事情。

例如;

```
function FetchTradeWhQuantity($p_intNumber){ ... } 
```

可能

```
function FetchTradeWhQuantity($p_intNumber) {

    $query = $this->sapData->query("

                           SELECT quantity
                           FROM master 1
                           WHERE NUMBER = '{$p_intNumber}'
                           UNION
                           SELECT quantity
                           FROM master2
                           WHERE EANNUMBER = '{$p_intNumber}'

                                   ");

    if ($query->num_rows() == 1)
        return $query->result();

} 
```

但是你能做的**最好的事情就是***只*用 2-3 个查询来完成所有这些。获取所有数据，使用它们的 ID 并运行`UPDATE`or `INSERT INTO ... ON DUPLICATE KEY UPDATE`。然后服务器只需要连接mysql数据库几次，不必为每一小行与php玩弹球。

# perl - 根据现有列向文件添加列

> ID：14683177
> 
> 赞同：1
> 
> 时间：2013-02-04T08:48:46.190
> 
> 标签：perl, awk, calculated-columns, tsv

我正在尝试修改这样设置的文件：

```
chr start   ref alt 
chr1    18884   C   CAAAA
chr1    135419  TATACA  T
chr1    332045  T   TTG
chr1    453838  T   TAC
chr1    567652  T   TG
chr1    602541  TTTA    T
chr1    614937  C   CTCTCTG
chr1    654889  C   CA
chr1    736800  AC  A 
```

我想修改它：如果列“ref”是一个字符串 >1（即第 2 行），那么我生成 2 个新列，其中：

第一个新列 = 起始坐标-1 第二个新列 = 起始坐标+（参考字符串的长度）+1

因此，第 2 行的输出如下所示：

```
chr1 135419 TATACA T 135418 135426 
```

**或：** 如果 "ref" 中的字符串长度 = 1 并且列 "alt"=长度>1 的字符串（即第 1 行），则

第一个新列 = 起始坐标 第二个新列 = 起始坐标+2

因此，第 1 行的输出将是：

```
chr1 18884 C CAAAA 18884 18886 
```

我在 awk 中尝试过，但没有成功我的 perl 不存在，但这会是最好的方法吗？或者也许在 R 中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:04:03.513

这是使用`awk`. 像这样运行：

```
awk -f script.awk file | column -t 
```

内容`script.awk`：

```
NR==1 {
    next
}

length($3)>1 && length($4)==1 {
    print $0, $2-1, $2+length($3)+1
    next
}

length($3)==1 && length($4)>1 {
    print $0, $2, $2+2
    next
}1 
```

结果：

```
chr1  18884   C       CAAAA    18884   18886
chr1  135419  TATACA  T        135418  135426
chr1  332045  T       TTG      332045  332047
chr1  453838  T       TAC      453838  453840
chr1  567652  T       TG       567652  567654
chr1  602541  TTTA    T        602540  602546
chr1  614937  C       CTCTCTG  614937  614939
chr1  654889  C       CA       654889  654891
chr1  736800  AC      A        736799  736803 
```

或者，这是单线：

```
awk 'NR==1 { next } length($3)>1 && length($4)==1 { print $0, $2-1, $2+length($3)+1; next } length($3)==1 && length($4)>1 { print $0, $2, $2+2; next }1' filem | column -t 
```

* * *

代码应该是不言自明的。脚本末尾的`1`仅启用每行的默认打印（即“1”返回真）。HTH。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-04T09:08:29.337

Perl 解决方案。请注意，您的规范没有提到如果两个字符串的长度都为 1 时该怎么做。

```
#!/usr/bin/perl
use warnings;
use strict;
use feature qw(say);

#use Data::Dumper;
<DATA>; # Skip the header;
while (<DATA>) {
    my ($chr, $start, $ref, $alt) = split;
    my @cols;
    if (1 < length $ref) {
          @cols = ( $start - 1, $start + 1 + length $ref);
    } elsif (1 < length $alt) {
        @cols = ($start, $start + 2);
    } else {
        warn "Don't know what to do at $.\n";
    }
    say join "\t", $chr, $start, $ref, $alt, @cols;
}

__DATA__
chr start   ref alt
chr1    18884   C   CAAAA
chr1    135419  TATACA  T
chr1    332045  T   TTG
chr1    453838  T   TAC
chr1    567652  T   TG
chr1    602541  TTTA    T
chr1    614937  C   CTCTCTG
chr1    654889  C   CA
chr1    736800  AC  A 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:08:12.970

在 perl 中这样做是微不足道的（但在 awk 中也是如此）：

```
#!/usr/bin/perl
while (<>) {
  chmop;
  my ($chr,$start,$ref,$alt)=split(/\s+/,$_);
  if (len($ref) > 1) {
print STDOUT
  "$chr\t$start\t$ref\t$alt\t",
    $start+len($ref)+1,"\n";
  } elsif (len($ref)==1) {
print STDOUT
  "$chr\t$start\t$ref\t$alt\t",
    $start+2,"\n";
  } else {
print STDERR "ERROR: ???\n"; #actually impossible
  }
} 
```

将其粘贴到文件 morecols.pl 中，chmod +x morecols.pl，运行 morecols.pl。（请注意，此代码/说明中有很多假设）。我感觉您的实际问题更多是编程/文本处理，而不是工具或语言。如果是这样，此代码只是权宜之计....

干杯。

# silverlight - 月光VS银光

> ID：14683185
> 
> 赞同：0
> 
> 时间：2013-02-04T08:49:16.833
> 
> 标签：silverlight, moonlight

我是 Silverlight 的新手....

**有人可以解释一下Silverlight**和 **Moonlight**之间的基本区别是什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-05T14:25:39.487

这实际上很简单：

*   Microsoft 开发 .NET 框架并仅针对 Windows 发布
*   Mono 是 .NET 框架的开源版本：换句话说，这是适用于 Windows 和许多其他操作系统的框架 .net，不是由 Microsoft 开发的。[http://www.mono-project.com/Main_Page](http://www.mono-project.com/Main_Page)

Silverlight 和 Moonlight 也有同样的情况：

*   微软为 Windows 和 Mac OS 开发 Silverlight 框架
*   Moonlight 是 Silverlight 框架的开源版本，仅在 linux 上工作，不再维护。[http://www.mono-project.com/Moonlight](http://www.mono-project.com/Moonlight)

这是逻辑，因为 Microsft 自己停止了 Silverlight 的开发。

为了更好地了解如何让多个框架运行相同的源代码，我建议您了解什么是 CLR：[http ://en.wikipedia.org/wiki/Common_Language_Runtime](http://en.wikipedia.org/wiki/Common_Language_Runtime)

在一个美妙的世界中，只要您的目标是相同版本的框架，相同的源代码在 Mono 或 .Net（与 Silverlight / Moonlight 同上）运行时的行为应该完全相同。

希望这足够清楚。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T14:32:04.260

主要区别在于开发环境。Moonlight 为开发人员提供了在 *inx 环境中使用 SharpDevelop 开发 Silverlight（类似）应用程序的方法。（从答案中删除了运行环境）。

# actionscript-3 - 删除定时器事件

> ID：14683186
> 
> 赞同：1
> 
> 时间：2013-02-04T08:49:18.877
> 
> 标签：actionscript-3, function, timer

我有这个循环播放的 flv 视频，并且我有一个在电影运行时播放的随机电影。我需要在播放另一部电影时将`shaker`其禁用或停止该随机循环。谢谢

```
ns.addEventListener(NetStatusEvent.NET_STATUS, NCListener);

function NCListener(e:NetStatusEvent){
if (e.info.code == "NetStream.Play.Stop") {
ns.play("video_2.flv");
shaker(null);
}
};
addEventListener(Event.COMPLETE,shaker);
function shaker (event:Event):void{

var mcArray:Array = [loader.button_01_mc,loader.button_02_mc,loader.button_03_mc,loader.button_04_mc,loader.button_05_mc];
var clipTimer:Timer = new Timer(4000);

clipTimer.addEventListener(TimerEvent.TIMER, playClips);

function playClips(event:TimerEvent):void{

    var i:Number=Math.floor(Math.random() * mcArray.length);
    var movieClipToEdit:MovieClip=mcArray[i] as MovieClip;
    movieClipToEdit.gotoAndPlay (1);
}
clipTimer.start();
}
loader.button_01.addEventListener(MouseEvent.CLICK, play_video_01);
loader.button_01.addEventListener(MouseEvent.ROLL_OVER, play_effect_01);

function play_video_01 (event:MouseEvent){

    ns.play("video_3.flv");
    loader.button_01_mc.gotoAndPlay (41); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T10:07:23.793

试试这个：将计时器向上移出功能。调用所需函数中的停止。

更新 1：恢复对计时器所做的更改并添加单次播放功能，以便只播放一个动画。（不循环播放动画，只是随机播放一个。）

```
ns.addEventListener(NetStatusEvent.NET_STATUS, NCListener);

function NCListener(e:NetStatusEvent){
if (e.info.code == "NetStream.Play.Stop") {
ns.play("video_2.flv");
shaker(null);
}
};
addEventListener(Event.COMPLETE,shaker);
function shaker (event:Event):void{

var mcArray:Array =    [loader.button_01_mc,loader.button_02_mc,loader.button_03_mc,loader.button_04_mc,loader.button_05_mc];

var clipTimer:Timer = new Timer(4000);
clipTimer.addEventListener(TimerEvent.TIMER, playClips);
var refCurrentAnimation:MovieClip;

function playClips(event:TimerEvent):void{

    if(!refCurrentAnimation)
    {
        var i:Number=Math.floor(Math.random() * mcArray.length);
        var movieClipToEdit:MovieClip=mcArray[i] as MovieClip;
        movieClipToEdit.gotoAndPlay (1);
        refCurrentAnimation = movieClipToEdit;
        clipTimer.stop();
    }
}
clipTimer.start();
}
loader.button_01.addEventListener(MouseEvent.CLICK, play_video_01);
loader.button_01.addEventListener(MouseEvent.ROLL_OVER, play_effect_01);

function play_video_01 (event:MouseEvent){

    ns.play("video_3.flv");
    loader.button_01_mc.gotoAndPlay (41);
} 
```

# python - 使用 cron 作业报告 API - Google 应用引擎 python

> ID：14683189
> 
> 赞同：0
> 
> 时间：2013-02-04T08:49:34.510
> 
> 标签：python, google-app-engine, google-reporting-api

我正在尝试连接到报告 api 以获取有关域用户电子邮件使用百分比的一些数据。我想每天将其作为一项 cron 工作来完成，因此我需要一些方法来自动验证为域的管理员，而无需任何管理员交互。

现在我正在使用管理员密码并像这样登录

```
url = 'https://www.google.com/hosted/services/v1.0/reports/ReportingData'

url_login='https://www.google.com/accounts/Clientlogin'

auth_request = urllib.urlencode({'accountType': 'HOSTED','Email': _ADMIN,'Passwd': _PASSW})

login = doPost(url_login, auth_request)

for line in login.split('\n'):    

    array = line.split('=',2)   

    if array[0]=='SID':   

        token = array[1]

_REQUEST_TEMPLATE = ('<?xml version="1.0" encoding="UTF-8"?>\n'    

        '<rest xmlns="google:accounts:rest:protocol"\n'    

        'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n'    

        '  <type>%(type)s</type>\n'

    '  <token>%(token)s</token>\n'

        '  <domain>%(domain)s</domain>\n'

        '  <date>%(date)s</date>\n'

        '  <reportType>daily</reportType>\n'

            '  <reportName>%(reportName)s</reportName>\n'

        '</rest>\n') 
```

但我不想存储管理员的密码。我曾尝试使用 Oatuh 2.0，但似乎我总是需要管理员的交互。

有没有办法使用 consumer_key 和 consumer_secret 来做到这一点？或任何其他选择？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:38:22.773

您必须将 auth cerentials 存储在某处——无论它是 ssl 证书授权、cookie 授权还是用户/通行凭证——它们始终必须可供将要使用它们的脚本/程序使用。如果您不想将它们存储在脚本本身中，您可能希望将它们存储在配置文件中，并让脚本从那里读取它们，存储在变量中并根据需要使用。您甚至可以将它们存储在数据库中，但是您必须存储数据库凭据等等。

# java - 由 0 个元素组成的数组。（爪哇）

> ID：14683193
> 
> 赞同：4
> 
> 时间：2013-02-04T08:50:03.443
> 
> 标签：java

我正在学习 OCA Programmer I Oracle 认证，因此我正在复习考试中可能出现的所有棘手问题。一个是这个：

```
int [] zero = new int[0]; 
```

这样一个在构造函数中声明为 0 的数组在堆中实际会做什么？创建对什么的引用？我已经尝试查看它是否给出 null 并且它没有。（零！= null）通过测试。

你有什么主意吗？提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-04T09:09:21.800

零长度数组仍然是一个数组，内存会分配给这个数组。

1.  数组实现[Object](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Object.html)。Object 是一个具有方法和字段的类。

2.  大小也是内存中的附加字段，指示数组的大小。

3.  还需要用于跟踪垃圾收集对对象的引用的附加信息。

因此，所有这些都需要内存分配。

当这个数组有用时更有趣的问题，阅读这个stackoverflow[问题。](https://stackoverflow.com/questions/1036666/what-is-the-usage-of-array-of-zero-length)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-04T08:52:42.900

> 在堆中实际会做什么？

一个长度为零的 int 数组。

> 创建对什么的引用？

对长度为零的 int 数组的引用。

> 我已经尝试查看它是否给出 null 并且它没有

为什么要呢？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-04T09:08:44.010

Java中的数组是对象。例如它有“长度”变量。以及相关数据。因此，即使您创建一个大小为 0 的数组，也只有数据部分的大小为零。数组对象的其他部分仍然存在。

# javascript - Yii CGridView 过滤器不适用于一列

> ID：14683195
> 
> 赞同：0
> 
> 时间：2013-02-04T08:50:15.453
> 
> 标签：javascript, jquery, filter, yii, cgridview

好的。开始了。我有一个常规的 CGridView 来过滤我的数据。

这是标题： ![CGridView 的头部](../Images/60f7959f9349770c83ebdeedca7d22c8.png)

除“板载”外的所有过滤器都可以正常工作。问题是：它不适用于“序列化”javascript 阶段。所以当 jquery.yiigridview.js 运行这段代码时：

```
$('body').undelegate(inputSelector, 'change').delegate(inputSelector, 'change', function(){
                var data = $(inputSelector).serialize();
                if(settings.pageVar!==undefined)
                    data += '&'+settings.pageVar+'=1';
                $.fn.yiiGridView.update(id, {data: data});
            }); 
```

无论我在文本字段中写入什么，序列化都会返回“Anketa[onboard]=0”。我尝试了所有类型的控件（当我认为这是服务器端问题时）：

```
array(
    'name' => 'onboard',
    'type' => 'raw',
    'value'=>'$data->getOnBoardLabel()',
    //'filter' => CHtml::activeCheckBox($model,'onboard'),
    //'filter' => CHtml::activeDropDownList($model, 'onboard',Lookup::items('onboard')),
    'filter' => CHtml::activeTextField($model,'onboard'),
), 
```

什么都没有改变。它仍然不想发送过滤器的正确值。

伙计们我该怎么办？

谢谢！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:02:25.037

由于`$model->onboard`是您在评论中指定的枚举，因此您可能需要使用下拉列表过滤器。要在其中渲染一个过滤器，`CDataColumn`您必须将其指定为一个数组。所以代码将是

```
array(
    'name' => 'onboard',
    'type' => 'raw',
    'value'=>'$data->getOnBoardLabel()',
    'filter' => Lookup::items('onboard'),
), 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:08:08.897

对不起大家。页面上有另一个 noboard 控件。所以序列化表现得很奇怪。

# jquery - 如何在满足条件的所有元素上进行 Jquery Cycle 循环？

> ID：14683197
> 
> 赞同：0
> 
> 时间：2013-02-04T08:50:30.467
> 
> 标签：jquery, jquery-cycle

我有一个成对的文本图像列表，我希望循环遍历它。如果我没有任何其他特定需求，那也没关系。

但是，如果我希望显示此列表的所有元素而**不是**循环所有元素怎么办？

我尝试了[slideExpr](http://jquery.malsup.com/cycle/slideExpr.html)选项，但我想这不是我的情况。我找不到任何线索，是我遗漏了什么还是没有这个选项？

编辑：

我想要获得的是显示所有四个文本链接，但只有其中两个被选中用于循环，并且只显示循环图像。

HTML：

```
<div id="slideshow">
<img class="presentImage" src="http://jquery.malsup.com/cycle/images/beach1.jpg" width="200" height="200" />
<img class="" src="http://jquery.malsup.com/cycle/images/beach2.jpg" width="200" height="200" />
<img class=""  src="http://jquery.malsup.com/cycle/images/beach3.jpg" width="200" height="200" />
<img class="presentImage" src="http://jquery.malsup.com/cycle/images/beach4.jpg" width="200" height="200" /> 
```

JS：

```
$(document).ready(
    function()
    {  
        var str = '<h2 class="clienti">xxxxx</h2>'+
            '<div id="past_clients" style="padding-top:60px; height:435px;">';
        var titles =
            [   '<div><h3 style="margin-top:0;">yyyyy</h3><a class="client" href="#" style="width:130px; display:block;">&bull; img 1</a></div>',
             '<div><a class="client" href="#">&bull; img2</a></div>',
             '<div><a class="client" href="#">&bull; img3</a></div>',
             '<div><a class="client" href="#">&bull; img4</a></div></div>'
            ];
        $('#slideshow').before(str).cycle({
            fx:     'fade',
            speed:  'fast',
            timeout: 2000,
            slideExpr: '.presentImage',
            pager: '#past_clients',
            pagerAnchorBuilder: function (index) { return titles[index]; }
        });
    }
); 
```

[在这里](http://jsfiddle.net/linuxatico/MEN7Y/39/)你可以找到它：谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:07:57.240

这是一个使用 slideExpr 的示例：

**CSS**

```
img {
    position:relative;
    left:200px;
} 
```

**HTML**

```
<div id="slideshow" class="pics"> 
    <font size="-1"> 
        <img class="test" src="http://jquery.malsup.com/cycle/images/beach1.jpg" width="200" height="200" /> 
        <img src="http://jquery.malsup.com/cycle/images/beach2.jpg" width="200" height="200" /> 
        <img class="test" src="http://jquery.malsup.com/cycle/images/beach3.jpg" width="200" height="200" /> 
    </font> 
</div> 
```

**Javascript**

```
$('#slideshow').cycle({ slideExpr: '.test' }); 
```

和小提琴：http: [//jsfiddle.net/wgN8x/](http://jsfiddle.net/wgN8x/)

我添加了 css 以使图像可见，否则未循环的图像将隐藏在两个图像后面。

**编辑：更新**

刚刚注意到OP已经更新了这个问题。我修改了小提琴以反映关键点：

1.  仅显示循环中的图像（CSS）
2.  必须显示所有锚点 (JS)
3.  锚点应该链接到它们的索引等效图像。IE。即使循环中只有两个图像，第四个锚点也会触发标记中的第四个图像。我不确定这是一个要求，但对我来说很有意义。您可以在小提琴中看到这一点。

这是我的更新：http: [//jsfiddle.net/lnrb0b/MEN7Y/43/](http://jsfiddle.net/lnrb0b/MEN7Y/43/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T08:54:11.430

检查每个 jquery 函数。

[。每个（）](http://api.jquery.com/jQuery.each/)

# javascript - 自定义 JavaScript - 在 chrome 中不起作用

> ID：14683204
> 
> 赞同：0
> 
> 时间：2013-02-04T08:50:59.893
> 
> 标签：javascript

我有一些在 Firefox 中运行良好的自定义 javascript 代码，但是在 chrome 中它似乎根本没有响应，页面位于： [http ://wiki.tf2clan.co.uk/index.php/games/sizes](http://wiki.tf2clan.co.uk/index.php/games/sizes)

我将不胜感激有关为什么 chrome 不喜欢这个和/或任何替代代码片段的任何输入

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:30:42.687

我在过滤器上遇到错误：

> 未捕获的类型错误：无法读取未定义的属性“innerHTML”

### 我做错了什么？

```
for (i=0;i<50;i++)
{
    e = document.getElementsByTagName("tr")[i];
    z = e.innerHTML;
} 
```

*   你不知道你是否总是有 50 个元素。
*   您使用的 innerHTML 不正确
*   `getElementsByTagName`你在每次迭代中调用

### 解决方案：

```
var nodes = document.getElementsByTagName("tr").childNodes;
//Iterating through TR childs 
for(i=0; i<nodes.length; i++) {
    alert(nodes[i]);
} 
```

**替代方案：** 如果您不是 Javascript 专家，我建议使用 jQuery 来管理 DOM 元素，它是跨浏览器并且文档非常丰富。例如，你可以用 jQuery 代替整个`for`循环来做这样的事情：

```
$('tr > td:not(:contains("+filter_text+")')).hide(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T08:55:17.830

请参阅 chrome 开发人员工具了解错误 ctrl+shift+j

# c# - 在 C# 中将 SQL 查询的结果从一个数据库插入另一个数据库

> ID：14683209
> 
> 赞同：1
> 
> 时间：2013-02-04T08:51:14.847
> 
> 标签：c#, sql, database

如何从一个数据库表中获取 select 语句的结果并将其插入到另一个数据库表中 - 使用 C#？

问题是我需要在 C# 代码中使用 2 个不同的连接字符串。这是我到目前为止但没有工作的..

```
 string sCMD_All = "SELECT * FROM table";
        SqlDataAdapter da = new SqlDataAdapter();
        DataSet ds = new DataSet();

        using (SqlConnection myConn = new SqlConnection(ConnectionString))
        {
            using (SqlCommand myCommand = new SqlCommand(sCMD_All, myConn))
            {
                myConn.Open();
                SqlDataReader reader = myCommand.ExecuteReader();
                da.Fill(ds);
                myConn.Close();
            }
        }
        DataTable sqTable = ds.Tables[0];

        //insert into server database
        DataTable newTable = new DataTable();
        newTable = sqTable;
        using (SqlConnection myConn = new SqlConnection(ConnectionString_M))
        {
            string sCMD_I = "INSERT INTO tableNew @newTable";

            using (SqlCommand myCommand = new SqlCommand(sCMD_I, myConn))
            {
                myConn.Open();
                SqlDataReader reader = myCommand.ExecuteReader();
                myConn.Close();
            }
        } 
```

* * *

问题是我需要在 C# 代码中使用 2 个不同的连接字符串。这是我到目前为止但没有工作的..

```
 string sCMD_All = "SELECT * FROM table";
    SqlDataAdapter da = new SqlDataAdapter();
    DataSet ds = new DataSet();

    using (SqlConnection myConn = new SqlConnection(ConnectionString))
    {
        using (SqlCommand myCommand = new SqlCommand(sCMD_All, myConn))
        {
            myConn.Open();
            SqlDataReader reader = myCommand.ExecuteReader();
            da.Fill(ds);
            myConn.Close();
        }
    }
    DataTable sqTable = ds.Tables[0];

    //insert into server database
    DataTable newTable = new DataTable();
    newTable = sqTable;
    using (SqlConnection myConn = new SqlConnection(ConnectionString_M))
    {
        string sCMD_I = "INSERT INTO tableNew @newTable";

        using (SqlCommand myCommand = new SqlCommand(sCMD_I, myConn))
        {
            myConn.Open();
            SqlDataReader reader = myCommand.ExecuteReader();
            myConn.Close(); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-04T08:52:39.177

[**`SELECT ... INTO ...`**](http://msdn.microsoft.com/en-us/library/ms188029%28v=sql.100%29.aspx)与完全限定的表名一起使用`database.schema.object_name`，如下所示：

```
USE DatabaseName;

SELECT *
FROM DatabaseName.schemaname.Tablename
INSERT INTO AnotherDatabase.schemaname.AnotherTablename; 
```

然后您可以使用 ADO.net 或其他 API 从 C# 执行此查询。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T08:54:16.573

```
SqlCommand Data = new SqlCommand("Select * FROM " + DBTableName + " WHERE " + DBColName + " = " + ColumnId + ";", this.con);
SqlDataAdapter SqAdptr = new SqlDataAdapter(Data);
DataSet SqDataset = new DataSet();
SqAdptr.Fill(SqDataset);
DataTable sqTable = SqDataset.Tables[0]; 
```

将此表转移到新的数据表

```
DataTable NewTable = new DataTable();
NewTable = sqlTable; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-15T17:38:16.323

如果您因为权限或性能而不能/不想使用 Linked Server，则在获得 DataTable 对象后，您可以调用以下函数将数据插入到位于不同服务器的第二个数据库中。这个对我有用。

```
CopyDataFromOneToOther(DB2, myDataTable, "tableName");

private static void CopyDataFromOneToOther(String sConnStr, DataTable dt, String sTableName)
{
    using (SqlBulkCopy bulkCopy = new SqlBulkCopy(sConnStr, SqlBulkCopyOptions.TableLock)) {
    bulkCopy.DestinationTableName = sTableName;
    bulkCopy.WriteToServer(dt);
    }                    
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-04T08:54:32.573

```
INSERT INTO [INSERTDATABASE].[dbo].[INSERTTABLE] 
SELECT * FROM [CURRENTDATABASE].[dbo].[CURRENTTABLE] 
```

# ms-access-2007 - 如何在 Access 查询中显示行号，如 SQL 中的 ROW_NUMBER

> ID：14683226
> 
> 赞同：15
> 
> 时间：2013-02-04T08:52:40.770
> 
> 标签：ms-access-2007, row-number

我在 Microsoft Access 中有一个表，我想在 Access 中使用选择查询在列中显示行号，就像`ROW_NUMBER()`在 SQL Server 中使用函数一样。

在 SQL Server 中，我可以使用以下查询：

```
SELECT ROW_NUMBER() OVER (ORDER BY tblUser.UserID) AS NoRow, * 
FROM tblUser 
```

我在访问中使用相同的查询，但出现错误。

你能帮助我吗？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-07-25T03:02:12.053

你可以试试这个查询：

```
Select A.*, (select count(*) from Table1 where A.ID>=ID) as RowNo
from Table1 as A
order by A.ID 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-04T10:23:09.803

使用 MS Access 执行此操作的一种方法是使用子查询，但它没有任何类似的功能：

```
SELECT a.ID, 
       a.AText, 
       (SELECT Count(ID) 
        FROM table1 b WHERE b.ID <= a.ID 
        AND b.AText Like "*a*") AS RowNo
FROM Table1 AS a
WHERE a.AText Like "*a*"
ORDER BY a.ID; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-01-09T12:38:29.577

通过 VB 函数：

```
Dim m_RowNr(3) as Variant
'
Function RowNr(ByVal strQName As String, ByVal vUniqValue) As Long
' m_RowNr(3)
' 0 - Nr
' 1 - Query Name
' 2 - last date_time
' 3 - UniqValue

If Not m_RowNr(1) = strQName Then
  m_RowNr(0) = 1
  m_RowNr(1) = strQName
ElseIf DateDiff("s", m_RowNr(2), Now) > 9 Then
  m_RowNr(0) = 1
ElseIf Not m_RowNr(3) = vUniqValue Then
  m_RowNr(0) = m_RowNr(0) + 1
End If

m_RowNr(2) = Now
m_RowNr(3) = vUniqValue
RowNr = m_RowNr(0)

End Function 
```

用法（无排序选项）：

```
SELECT RowNr('title_of_query_or_any_unique_text',A.id) as Nr,A.*
From table A
Order By A.id 
```

如果需要排序或多个表连接，则创建中间表：

```
 SELECT RowNr('title_of_query_or_any_unique_text',A.id) as Nr,A.*
 INTO table_with_Nr
 From table A
 Order By A.id 
```

# jquery - 查找 div 上方空间的高度

> ID：14683234
> 
> 赞同：1
> 
> 时间：2013-02-04T08:52:54.713
> 
> 标签：jquery, html

我在网页的不同位置有一些具有唯一 ID 的 div。我想找到 div 上方空间的确切高度（直到找到屏幕的起始位置），如下图所示，

![在此处输入图像描述](../Images/431844a9374f69f04f08b11a3c80b5b7.png)

无论如何在jQuery中可以做到这一点？请帮我这样做，

问候，

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-04T08:57:53.707

您可以使用`.offset().top`或`.position().top`：

```
console.log($('div[id]').offset().top); // it give you offset top of the document

console.log($('div[id]').position().top); // gives you the containers position 
                                          // from the top if container is 
                                          // relative positoned. 
```

在小提琴中找到：`[http://jsfiddle.net/zVzBQ/](http://jsfiddle.net/zVzBQ/)`

```
 $('div[id]').each(function () {
    console.log($(this).offset().top);
 }); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-04T08:58:33.777

`offset`如果您希望它们相对于文档，您可以使用：

[http://api.jquery.com/offset/](http://api.jquery.com/offset/)

```
$('#a').offset().top 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-04T08:57:15.363

您可以使用 jQuery 函数位置来获取元素/元素的位置 [http://api.jquery.com/position/](http://api.jquery.com/position/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-04T09:09:04.960

为那些希望在没有 jQuery 的情况下找到此答案的人添加此答案：

```
var distanceTop = document.getElementById( 'elementId' ).offsetTop; 
```

或者，对于那些挑剔的人：

```
var divId = document.getElementById( 'elementId' );
var distanceTop = divId.offsetTop; 
```

# javascript - 我想使用 javascript youtube API 将视频从我的网页上传到 youtube

> ID：14683240
> 
> 赞同：0
> 
> 时间：2013-02-04T08:53:16.853
> 
> 标签：javascript, ajax, youtube-javascript-api

我想使用 javascript youtube API 将视频从我的网页上传到 youtube，但出现“需要用户身份验证”，错误 401。

任何人都可以帮助我使用 javascript 中的一些演示示例，它可以从我的网页上传 youtube 上的视频吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-03-24T00:06:44.620

Google 发布了几个使用 YouTube API 上传视频的 JavaScript 演示示例：

*   [http://code.google.com/p/youtube-api-samples/source/browse/#git%2Fyt-upload-javascript](http://code.google.com/p/youtube-api-samples/source/browse/#git%2Fyt-upload-javascript)
*   [https://developers.google.com/youtube/v3/code_samples/javascript](https://developers.google.com/youtube/v3/code_samples/javascript)
*   [https://developers.google.com/youtube/v3/libraries](https://developers.google.com/youtube/v3/libraries)
*   [https://developers.google.com/youtube/v3/docs/videos/insert](https://developers.google.com/youtube/v3/docs/videos/insert)

那是你要找的吗？

# java - 应用程序线程继续运行

> ID：14683244
> 
> 赞同：1
> 
> 时间：2013-02-04T08:53:50.437
> 
> 标签：java, websphere

我们正在使用`Websphere Work Manager`(CommonJ) 在我们的应用程序中生成线程。我们正在使用默认值`WorkManager`并通过`JNDI`在我们的应用程序中访问它。

```
try {  
    Context ctx = new InitialContext();  
    wm = (WorkManager) ctx.lookup("java:comp/env/wm/App_WORKMANAGER");  
    wm.schedule(this);  
    //threadScheduler = new Thread(this);  
    //threadScheduler.start();  
} catch (Exception e) {  
    // catch the exception  
} 
```

我们继续运行侦听不同队列的线程以检查任何消息并对其进行处理。我们确实收到如下挂起消息，知道可以从管理控制台配置它以停止显示警告/错误或增加挂起检测时间。

> [1/30/13 6:50:38:708 EST] 00000032 ThreadMonitor W WSVR0605W：线程“WorkManager.DefaultWorkManager：2”(00000022) 已活动 708969 毫秒，可能已挂起。服务器中总共有 1 个线程可能被挂起。

现在，如果我们从管理控制台停止应用程序，这些线程不会停止，我们会不断收到 Hung 消息。对于另一个部署，另一组线程加起来就是 Hung 线程数。我在某处读到，如果我们声明线程，`Daemon`那么它们就会停止（）。那么我们`Daemon`可以如下声明线程还是我们也需要覆盖该`release()`方法？我们`release()`现在是空的。

```
public boolean isDaemon() {                        
  return true;  
}  

public void release() {  
 //TODO  
} 
```

一旦应用程序停止，我们如何才能停止应用程序线程的运行？这是一个使用`Struts 1.x`.

我在这里读了两个解释：

1.  [即使在 Websphere 中停止了应用程序后，线程仍会继续运行](https://stackoverflow.com/questions/8659609/thread-keeps-running-even-after-application-has-been-stopped-in-websphere)（因为我没有使用 spring，只是声明`Deamon`就可以了吗？如果我们停止 JVM 本身，这将起作用，只是从控制台停止应用程序无济于事，对吗？）

2.  [Websphere 是否尊重守护线程？](https://stackoverflow.com/questions/9274222/does-websphere-respect-deamon-threads/9274435#9274435)（Sarel Botha 建议的方法是唯一的解决方案，或者我们从控制台进行了一些设置来完成工作。）

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T20:45:11.980

是的，在您的用例中，该`isDaemon`方法应该返回`true`，并且您需要以`release`这样一种方式实现该方法，即它停止在对象的`run`方法中执行的代码`Work`。如果您这样做，那么挂起的线程警告将消失，当应用程序停止时，WebSphere 将调用`release`所有正在运行的对象。`Work`

# android - 将代码中的一些元素添加到其他布局

> ID：14683251
> 
> 赞同：1
> 
> 时间：2013-02-04T08:54:04.067
> 
> 标签：android, android-layout

我有两个类：一个是活动，第二个是扩展 LinearLayout。这是活动代码：

```
public class SecondActivity extends Activity{

    private Button button;
    private ClassTabs tab;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.second_activity);

        Button next = (Button) findViewById(R.id.nextActivity);
        button = new Button(getApplicationContext());
        LayoutInflater inflater = LayoutInflater.from(this);
        tab = (ClassTabs) inflater.inflate(R.id.tab, null);
        tab.addTab(button);

        next.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                Intent intent = new Intent(SecondActivity.this, ThirdActivity.class);
                startActivity(intent);
            }
        });
    }

} 
```

和 xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <com.example.actionbartest.ClassTabs
        android:id="@+id/tab1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        />

    <Button
        android:id="@+id/nextActivity"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Button" 
        android:layout_marginTop="100dp"
        />

</LinearLayout> 
```

这是类扩展 LinearLayout：

```
public class ClassTabs extends LinearLayout{

    Button button;
    public ClassTabs(Context context, AttributeSet attrs) {
        super(context, attrs);

    }
    public ClassTabs(Context context) {
        super(context);

    }
    @Override
    protected void onFinishInflate() {
        super.onFinishInflate();
        ((Activity)getContext()).getLayoutInflater().inflate(R.layout.tabview, this);
        setupViewItems();

    }

    private void setupViewItems() {
        button = new Button(getContext());      
    }

     public void addTab(Button child){
            LinearLayout tab = (LinearLayout) findViewById(R.id.tab);
            tab.addView(child);
     }

} 
```

和 xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/tab"
    android:layout_width="match_parent"
    android:layout_height="40dp"
    android:orientation="horizontal"
    android:background="@color/blue"
   >

</LinearLayout> 
```

现在你可以看到我有方法向这个布局添加一些子元素。我想从活动中向这个布局添加一些按钮。在那个解决方案中，我得到了 nullPointer 异常。在这种情况下，如何使用其他类的方法从活动中添加一些元素`addTab()`？

编辑：这就是我想要的：在这种情况下，我有一个活动“第二个活动”，我想使用“ClassTabs”中的布局。我的 ClassTabs 我想要一个方法，它将按钮添加到在活动中膨胀的布局。我想在布局中使用 ClassTab 中的部分布局运行活动。下一步是从 ClassTab 向这个膨胀的布局添加按钮，但我想在“第二个活动”的代码中这样做。我想在 ClassTab 中有方法来添加按钮，因为我想在其他活动中使用该方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:12:27.763

首先，您不必扩展 LinearLayout 只是为了动态添加子级，只要您不想为它覆盖某个行为，不要扩展它，而是使用普通的 linearLayout 并添加子级使用**addview()**方法。

在您的代码中：

xml

```
<?xml version="1.0" encoding="utf-8"?> 
```

```
<LinearLayout 
    android:id="@+id/layout"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    />

<Button
    android:id="@+id/nextActivity"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Button" 
    android:layout_marginTop="100dp"
    />

  </LinearLayout> 
```

然后在您的活动中：

```
LinearLayout linearLayout;
@Override
public void onCreate(Bundle bundle) {
                 super.onCreate(bundle);
                 linearLayout = (LinearLayou) findViewById(R.layout.linearLayout);    
                } 
```

然后，当您想添加任何视图“TextView / Button .....”时，只需使用：

```
Button button = new Button(this);
..... // modify the button
linearLayout.addChild(button); 
```

# java - 在 Linux 上将 MySQL 字符集更改为 UTF8，以便它可以与 JDBC 一起使用

> ID：14683254
> 
> 赞同：2
> 
> 时间：2013-02-04T08:54:09.820
> 
> 标签：java, mysql, linux, jdbc, utf8mb4

我的应用程序可以部署在 Win\Linux 上，使用 MySQL 5.5，它可以存储不同语言的数据。

我将 MySQL 服务器更改为将以下字符集变量设置为 UTF8：

*   character_set_client
*   字符集连接
*   字符集连接
*   字符集数据库
*   字符集结果
*   character_set_server
*   字符集系统

为此，我在 my.ini 中添加了以下内容：

```
[mysql] 
default-character-set=utf8
[mysqld]
init_connect='SET collation_connection = utf8_unicode_ci'  
init_connect='SET NAMES utf8'
character-set-server=utf8
collation-server=utf8_unicode_ci
skip-character-set-client-handshake 
```

它在 Windows（MySQL 5.5.21 64 位）上运行良好，但是当我的应用程序在 Linux（MySQL 5.5.2 64 位）上运行时，我收到以下错误：

```
com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown character set: 'utf8mb4' 
```

任何人都知道'utf8mb4'来自哪里，我该如何克服这个？

JDBC 驱动程序：'mysql-connector-java-5.1.18-bin'

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T09:04:48.053

您可以添加到您的`connection-url`参数中，例如：

> jdbc:mysql://hostname:3306/dbname?useUnicode=true&characterEncoding=utf8&characterResultSets=utf8

主机名 -> 可以是`localhost`或任何其他主机（您可以使用 ip 地址指定`000.000.0.0`）

# javascript - 输入是否具有“原始值”属性？

> ID：14683256
> 
> 赞同：3
> 
> 时间：2013-02-04T08:54:13.247
> 
> 标签：javascript, jquery, attributes, default-value, html-input

随着对 jQuery 的最新更改，有不同的方法，`.prop()` `.attr()`.

我想知道是否有办法在页面加载时获取输入的原始值？

我知道我可以这样做：

```
$('#input').data('originalValue', $('#input').val()); 
```

然后我可以通过

```
$('#input').data('originalValue'); 
```

但我想，既然我可以说，[找出一个复选框的原始选中状态，](http://jsbin.com/iqugup/2/)我想也许这个值有类似的东西？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-04T08:57:24.533

您可以使用输入元素的[`defaultValue`属性](https://developer.mozilla.org/en-US/docs/DOM/HTMLInputElement)

例如：

```
$('#input')[0].defaultValue 
```

请注意，通过将 jQuery 对象视为数组，我们可以直接访问 DOM 节点及其原​​生属性。

参见[**jsFiddle 演示**](http://jsfiddle.net/mbQ4K/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-04T09:11:14.493

您可以使用[`jQuery.get`](http://api.jquery.com/get/)来获取元素并获取[`.defaultValue`](http://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-26091157)属性：

```
$('#input').get(0).defaultValue 
```

或者[`jQuery.prop`](http://api.jquery.com/prop/)从 jQuery 1.6 开始使用：

```
$('#input').prop("defaultValue"); 
```

对于`defaultChecked`（收音机和复选框）和`defaultSelected`（选项）也是如此。

# jquery - 如何使用 find + filter 返回价格范围？

> ID：14683257
> 
> 赞同：0
> 
> 时间：2013-02-04T08:54:13.953
> 
> 标签：jquery, jquery-ui, jquery-slider, jquery-filter

我有一个项目列表，我只需要返回价格在“min”和“max”价格范围之间的项目。

这是按类别对项目进行排序的完整工作示例，但正如您所见，滑块不会影响价格范围，**以下是完整代码：**

[http://jsfiddle.net/p2jwz/8/](http://jsfiddle.net/p2jwz/8/)

因此，如您所见，这是 .find 和 .filter 代码：

```
 var price = data.find('li').filter(function() {
    var price = parseFloat($(this).data('price'));
   return price >= minPrice && price <= maxPrice;
}); 
```

你能告诉我我做错了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T08:58:54.943

你可能需要

```
var price = data.find('li').filter(function() {
    var price = parseFloat($(this).data('price'));
   return price >= minPrice && price <= maxPrice;
}); 
```

filter() 函数应该返回一个布尔值，指示当前评估的元素是否应包含在返回的集合中。如果您返回价格，则将返回每个不具有价格 === 0 的元素，因为正整数是“真实的”，即当被视为布尔值时评估为 true。

你也有一些看起来像

```
$(document).ready(function(){
...
    $(function(){
        ...
    });
}); 
```

即包装了两个document.ready 函数绑定。我认为您可以简单地删除内部的。您的滑块似乎仍然以某种方式初始化，但这可能仍然会导致一些故障。

您的小提琴中也发生了错误：

> 类型错误：sel.getElement(...) 为空

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T15:52:15.280

最后！我找到了解决方案，您只需使用所有变量调用函数

```
function showProducts($holder, data, minPrice, maxPrice) {

   var $price = data.find('li').filter(function() {
        var $price = parseInt($(this).data("price"), 10);
        return $price >= minPrice && $price <= maxPrice;
    });

            // call quicksand and assign transition parameters
        $holder.quicksand($price, {
            duration: 800,
            easing: 'easeInOutQuad'
        });
        return false;
} 
```

希望有帮助！

# c# - ViewModel 和 Command 之间的通信

> ID：14683259
> 
> 赞同：1
> 
> 时间：2013-02-04T08:54:23.997
> 
> 标签：c#, c#-4.0, mvvm

我正在创建一个小型收银员应用程序，我的**CashViewModel**具有按**Date过滤的****Sales**。

 **现在我添加了一个**历史按钮**来显示按日期分组的销售额（*在窗口中*），然后当用户选择一个日期时，我的**Date**属性发生了变化，所以我将该按钮绑定到了 RelayCommand。

```
 public RelayCommand HistoryCommand
    {
        get
        {
            return _historyCommand
                ?? (_historyCommand = new RelayCommand(
                                      () =>
                                      {
                                          //?????????
                                      }));
        }
    } 
```

**我的问题**在回调操作内部，出于测试原因，**我不想直接从这里调用窗口。**

我应该使用消息传递（如果是，我应该创建一个消息接收器，还是有其他选项？？？）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T08:56:39.887

您可以创建一个 WindowService（它直接调用一个窗口），并将其注入到视图模型中。

例如：

```
public interface IWindowService
{
    Result ShowWindow(InitArgs initArgs);
}

public sealed class WindowService : IWindowService
{
    public Result ShowWindow(InitArgs initArgs);
    {
        //show window
        //return result
    }
}

public class CashViewModel 
{
    private IWindowService m_WindowService;

    public CashViewModel(IWindowService windowService)
    {
        m_WindowService = windowService;
    }

    public RelayCommand HistoryCommand
    {
        get
        {
            return _historyCommand
                ?? (_historyCommand = new RelayCommand(
                                      () =>
                                      {
                                          var result = m_WindowService.ShowWindow(args);
                                      }));
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T08:59:25.520

您可以在那里给出函数名称。

```
private ICommand _historyCommand;
public ICommand HistoryCommand
{
    get { return _historyCommand?? (_historyCommand= new RelayCommand(MyFunction)); }
}

private void MyFunction()
{
     // Function do something.
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:17:01.427

您可以使用[Prism 框架](http://compositewpf.codeplex.com/)[`EventAggregator`](http://msdn.microsoft.com/en-us/library/ff921122%28v=pandp.20%29.aspx)的实现。它使您能够在不了解发送者和/或接收者的情况下发送和接收事件。

当您收到相关事件时，您只需执行相关代码即可显示视图。**

# c# - Linq 扩展方法 SkipWhile 和 lambda exp，c#

> ID：14683264
> 
> 赞同：-3
> 
> 时间：2013-02-04T08:54:33.660
> 
> 标签：c#, linq, lambda

我对这个示例代码有一点误解：

```
int[] numbers = { 5, 4, 1, 3, 9, 8, 6, 7, 2, 0 };

var laterNumbers = numbers.SkipWhile((n, index) => n >= index); 
```

“n”代表一个数组元素。“index”表示元素的索引。

问题：我们如何知道 index 参数准确地表示索引而不是元素本身？

**编辑：**

好，我知道了。SkipWhile 只有 2 个重载，编译器决定使用哪一个，无论输入参数是一个还是两个。

问题表述不当）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:06:56.990

该数组不必是整数数组。例如，如果它是一个字符串数组，那么区别就很明显了，因为您不能以相同的方式使用它们：

```
string[] strings = { "The", "quick", "brown", "fox", "jumps", 
                  "over", "the", "lazy", "dog"};
// in the lambda "n" is a string, and "index" is an integer
var laterStrings = strings.SkipWhile((n, index) => n.Length >= index); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:02:40.550

此扩展方法只有两个重载，不同之处仅在于它们采用的谓词。[一个谓词](http://msdn.microsoft.com/en-us/library/bb549075%28v=vs.100%29.aspx)采用单个值（可枚举中的项目），[另一个](http://msdn.microsoft.com/en-us/library/bb549288%28v=vs.100%29.aspx)采用可枚举中的项目和表示索引的 int。

没有混乱。如果谓词有两个参数，那么第二个是索引。如果您只传递一个参数，那么它必须是可枚举项。

# c# - 当目录表中没有名为“INSTALLDIR”、“INSTALLDIRECTORY”的目录时如何从 MSI 读取安装目录

> ID：14683265
> 
> 赞同：0
> 
> 时间：2013-02-04T08:54:36.353
> 
> 标签：c#, wix, windows-installer

我想阅读 MSI 的安装目录。当目录表中的“INSTALLDIR”、“INSTALLDIRECTORY”或“INSTALLLOCATION”指定安装目录时，我能够读取安装目录。但是许多 msis 不包含“INSTALLDIR”左右。那么如何确定特定msi的安装目录是什么。

是否有任何特定的关键字列表可用于指定安装目录，因为有些 msi 包含 INSTALLDIR，有些包含 INSTALDIRECTORY，有些包含 INSTALLLOCATION。

我正在使用以下代码片段来获取安装目录

```
 DataTable directoryTable;

            directoryTable = this.ReadMsiTableByName(msiFile, "Directory");     // get Directory table of msi specifiec bt msiFile.

            foreach (DataRow row in directoryTable.Rows)
            {
                if (row["Directory"].ToString() == "INSTALLLOCATION" || row["Directory"].ToString() == "INSTALLDIR" || row["Directory"].ToString() == "INSTALLDIRECTORY")
                {
                    installDirectoryPath = row["Directory_Parent"].ToString();
                    break;
                }
            }

            string directory = installDirectoryPath;
            while (directory != "TARGETDIR")
            {
                foreach (DataRow row in directoryTable.Rows)
                {
                    if (row["Directory"].ToString() == directory)
                    {
                        installDirectoryPath = row["Directory_Parent"].ToString() + "//" + installDirectoryPath;

                        directory = row["Directory_Parent"].ToString();
                        break;
                    }
                }
            } 
```

如果 INSTALLDIR 条目不在目录表中，请告知如何获取 MSI 的安装目录。我正在用 C# 编写代码并使用 WiX dll。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T21:11:12.903

因为“INSTALLDIR”、“INSTALLDRECTORY”或“INSTALLLOCATION”不是[标准的 Windows Installer 属性](http://msdn.microsoft.com/En-US/Library/Windows/Desktop/c91119b9-59d5-4a33-91cd-d3ba63659d12)，所以不能保证它们在每个 msi 安装中都存在。

[TARGETDIR](http://msdn.microsoft.com/En-US/Library/Windows/Desktop/279bb9ad-afb6-406e-b74a-8424da177e6f)属性指定安装的根目标目录。TARGETDIR 必须是 Directory 表中一个根的名称。可能只有一个根目标目录。

如果定义了 TARGETDIR 属性，则将目标目录解析为该属性的值。如果未定义 TARGETDIR 属性，则使用 ROOTDRIVE 属性来解析路径。

ROOTDRIVE属性指定安装目标目录的默认驱动器[。](http://msdn.microsoft.com/En-US/Library/Windows/Desktop/aa371372)如果 ROOTDRIVE 未在命令行中设置或未创作到属性表中，则安装程序会设置此属性。

在 MSDN 文档中，请参阅

[目录表](http://msdn.microsoft.com/En-US/Library/Windows/Desktop/aa368295)

[使用目录表](http://msdn.microsoft.com/En-US/Library/Windows/Desktop/aa372452)

[指定目录结构](http://msdn.microsoft.com/En-US/Library/Windows/Desktop/31390138-b1d0-4f0b-9304-6e7c69e6a736)

[更改目录的目标位置](http://msdn.microsoft.com/En-US/Library/Windows/Desktop/aa367852)

# java - Java UDP 数据包大小

> ID：14683267
> 
> 赞同：5
> 
> 时间：2013-02-04T08:54:39.407
> 
> 标签：java, udp, size, packet

在 Java 中，单个 char 是 16 位，2 个字节。这意味着如果我想向服务器发送一个 UDP 数据包，我必须找到字符串的长度（例如）并乘以 2？

```
String string = "My awesome string!";
byte[] buff = new byte[ string.length*2 ];
buff = string.getBytes();
...
packet = new DatagramPacket(buff, buff.length, address, port);
socket.send(packet); 
```

UDP数据包限制呢？65k 一包。例如，如果我想向服务器发送数据文件，我必须发送 65/2k 数据！我将 65 分为 2，buff 限制是多少？65/2 还是 65 kb？

例如：

```
byte[] buff = new byte[ 65000 ]

//file and bufferreader handle
while( ( line = bufferedReader.readLine() ) != null ){
   buff = line.getBytes();
   packet = new DatagramPacket(buff, buff.length, address, port);
   socket.send(packet);
} 
```

我在某处读过我可以发送超过 65k 的数据，因为 IPv4 协议会自动将数据包分成几块，而不是接收器将它们合并。这是真的？

为什么我的缓冲区中有空白？我已经编写了一个客户端和一个服务器应用程序，并且我使用的是 250 大小的缓冲区。如果我要发送一个字，例如“Test”，它有 8 个字节长，我会在“Test”字之后得到一个很长的空白：

```
byte[] buff = new byte[250];
packet = new DatagramPacket(buff, buff.length);
socket.receive(packet);
System.out.println("GET: " + buff); 
```

控制台说：

> 获取：测试.................................................. ......................

（点代表空白）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-04T09:00:14.057

> 这意味着如果我想向服务器发送一个 UDP 数据包，我必须找到字符串的长度（例如）并乘以 2？

不`String.getBytes()`，已经分配了正确长度的正确数组：

```
byte[] buff = string.getBytes(); 
```

然后，`buff.length`包含适当的长度。请注意，长度取决于用于将字符串转换为字节数组的字符集。

附带说明一下，您应该避免使用无参数，`String.getBytes()`因为它使用您平台的默认字符集将 转换`String`为字节数组。更好地明确传递编码：

```
byte[] buff = null;
try {
   buff = string.getBytes("UTF-8");
} catch (UnsupportedEncodingException e) {
   e.printStackTrace();
} 
```

> 我在某处读过我可以发送超过 65k 的数据，因为 IPv4 协议会自动将数据包分成几块，而不是接收器将它们合并。这是真的？

TCP 也是如此。我建议您在您的情况下使用 TCP，而不是 UDP。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-04T08:59:34.780

> 我在某处读过可以发送超过 65k 的数据

不是通过UDP，你不能。IPv4 的绝对最大值为 65507 字节，实际限制为 534 字节。

> 因为 IPv4 协议会自动将数据包分成几部分，而不是接收者将它们合并。这是真的？

是的，但是重装成功只有TCP保证，并没有提高UDP的上限

使用 TCP。

# python - 带有自定义 wx.PyGridCellEditor 的 SEGFAULT

> ID：14683270
> 
> 赞同：1
> 
> 时间：2013-02-04T08:54:59.933
> 
> 标签：python, wxpython, wxwidgets

我正在尝试创建一个允许在运行时更改选项列表的 GridCellChoiceEditor 版本。原因是要呈现的选项是对我的数据进行查询的结果，因此每次使用编辑器时它们可能都会改变。我这样做是为了继承 PyGridCellEditor，但是每当我运行它时，它会在创建编辑器后立即出现段错误。这是我的代码，为了测试使用静态列表和只有一个单元格而进行了简化：

```
import wx
import wx.grid

class ListEditor(wx.grid.PyGridCellEditor):

    def __init__(self, options):
        super(ListEditor, self).__init__()
        self.options = options

    def ApplyEdit(self, row, col, grid):
        grid.SetValue(row, col, self.value)

    def BeginEdit(self, row, col, grid):
        print('begin edit')
        value = grid.GetValue(row, col)
        index = self.options.index(value)
        self.combo.SetOptions(self.options)
        self.combo.SetIndex(index)

    def Create(self, parent, id, evtHandler):
        self.combo = wx.ComboBox(parent, id)
        print('combo created')

    def Clone(self):
        return ListEditor(self.options)

    def EndEdit(self, row, col, grid, oldval, newval):
        if oldval == newval:
            return False
        else:
            self.value = newval
            return True

    def Reset(self):
        pass

    def GetValue(self):
        return 'a'

class F(wx.Dialog):

    def __init__(self):
        super(F, self).__init__(None)
        self.grid = wx.grid.Grid(self, -1, (0, 0), (300, 300))
        self.grid.CreateGrid(1, 1)
        editor = ListEditor(['a', 'b', 'c'])
        self.grid.SetCellEditor(0, 0, editor)

app = wx.App(False)
f = F()
f.Show()
app.MainLoop() 
```

谁能告诉我哪里出错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T17:40:11.817

在您的`Create`方法中，您需要调用`self.SetControl(self.combo)`以让编辑器基类知道什么是真正的控件。您还应该这样做`self.combo.PushEventHandler(evtHandler)`，以设置与网格的正确交互。

# cmd - 如何使用cmd在2个文件夹路径中递归地对文件进行二进制比较？

> ID：14683273
> 
> 赞同：5
> 
> 时间：2013-02-04T08:55:10.347
> 
> 标签：cmd, command-prompt

我需要编写一个脚本，以递归方式对 2 个文件夹中的所有文件进行二进制比较。这2个文件夹是安装文件夹，包含相同的文件，但它们是不同版本的安装文件夹。我需要找出哪些文件（`.dll`, `.lib`, `.exe`）相对于以前的版本发生了变化。

我试过使用`fc`命令

```
fc /b %1\* %2\* > result.txt 
```

但是，它只比较指定文件夹内的文件。我需要递归比较所有文件夹中的所有文件。

我认为这可以通过`for`循环来实现。

```
For /r C:\test\%%f in (*) do @fc /b %%f C:\test\%2\%%~nxf > result.txt 
```

这里的问题是`%%~nxf`它只给出文件名而不是相对路径。

我尝试使用`forfiles`命令：

```
forfiles /s /p C:\test\%1 /m * /c "cmd /c @fc /b %1\@relpath %2\@relpath" 
```

`@relpath`在路径中间引入`.\`，这弄乱了我的完整路径。对此的任何指示都将受到高度赞赏。

请帮忙！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-04T09:08:31.960

这是解决方案需要使用 3rd-party 工具，但它非常有效。

您将需要获得[md5deep](http://md5deep.sourceforge.net/#download) - 它只有 20KB 的可执行文件。

然后，对第一个目录执行它，如下所示：

```
md5deep -l -r dir1 > old.txt 
```

结果保存在`old.txt`其中，如下所示：

```
e7c3fcf5ad7583012379ec49e9a47b28  .\a\file1.bin
2ef76c2ecaefba21b395c6b0c6af7314  .\b\file2.bin
45e19bb4b38d529d6310946966f4df12  .\c\file3.bin
... 
```

然后，针对第二个目录以否定匹配模式运行它：

```
md5deep -l -r -X old.txt dir2 
```

它将打印第二个目录中与原始文件不同的所有文件的校验和和名称。

您还可以在标准校验和模式下针对第二个目录运行它并自己比较结果。

无论如何，我怀疑你是否能侥幸逃脱`cmd`：你将不得不用更高级的语言编写一些东西，比如 C/C++/C#/whatever。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T04:06:50.180

我的最终代码：-

```
@echo off
set count=0
del /f result.txt
subst Y: %1
subst Z: %2
for /r Y: %%f in (*) do (fc /b "%%f" "Z:%%~pnxf" |  find "no diff" >nul
if ERRORLEVEL 1 echo "%1%%~pnxf is different" >> result.txt
set /a count+=1)

subst Y: /D
subst Z: /D

echo Total Files Compared = %count% 
```

一件事，我没有得到，这个脚本没有检查所有差异。一旦发现差异，它就会打印在结果页面上。这正是我想要的。我猜 find 命令逐行作为输入，一旦找不到字符串，它就会退出，尽管我不确定。这是一个非常普遍的问题，但我仍然无法在网上找到解决方案，这就是我在这里发布它的原因。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-04T09:40:01.973

一种解决方法是使用 subst 将路径与驱动器号相关联，然后比较两者。例如：

```
subst Y: "C:\test 1"
subst Z: "C:\test 2"
for /r Y: %%f in (*) do fc /b "%%f" "Z:%%~pnxf"
subst Y: /d
subst Z: /d 
```

希望这可以帮助

编辑：处理 fc 命令输出（长）：

```
setlocal enabledelayedexpansion
subst Y: /d
subst Z: /d
pause
subst Y: "C:\test 1"
subst Z: "C:\test 2"
for /r Y: %%f in (*) do (
  set diff=1&for /f "tokens=1,2,3,4 delims= " %%i in ('fc /b "%%f" "Z:%%~pnxf"') do (
    if "%%i"=="Comparing" (echo.) else (
      if "%%k"=="longer" (echo LONGER   : %%j) else (
        if "%%i"=="FC:" echo NO DIFF  : %%f
        if "%%l"=="" (if "!diff!"=="1" (
          echo DIFFERENT: %%f
          echo %%i %%j %%k
          set diff=2
        ))
      )
    )
  )
)
subst Y: /d
subst Z: /d 
```

# javascript - 通过编写适当的 javascript 函数来简化我的代码

> ID：14683275
> 
> 赞同：0
> 
> 时间：2013-02-04T08:55:14.737
> 
> 标签：javascript, function, parameters

关于将参数传递给下面的函数，我有以下问题。

目前的做法：

当鼠标悬停在两个图像之间时，我就有了过渡效果。我需要每个图像 1 个函数，因为每个图像的路径不同，并且我使用不同的类来区分所有图像。

Javascript：

```
</script>    
    $(function() {
    $(".fade_image1")

    .find("span")
        .hide()
        .end()
        .hover(function() {
            $(this).find("span").stop(true, true).fadeIn();
        }, function() {
            $(this).find("span").stop(true, true).fadeOut();
         });
    });
    $(function() {
    $(".fade_image2")

        .find("span")
        .hide()
        .end()
        .hover(function() {
            $(this).find("span").stop(true, true).fadeIn();
                     }, function() {
            $(this).find("span").stop(true, true).fadeOut();
        });
    });
</script> 
```

HTML：

```
<div>
  <a href="#" class="fade_image1">Image<span></span></a>
</div>
<div>
  <a href="#" class="fade_image2">Image<span></span></a>
</div> 
```

CSS：

```
.fade_image1{
display: inline-block;
position: relative;
text-indent: -9999px;
width: 303px;
height: 605px;
background: url(images/20130128_UK_Colour-Campaign_cropped_02.jpg) no-repeat;
}
.fade_image1 span {
position: absolute;
top: 0; left: 0; bottom: 0; right: 0;
background: url(images/images-rollover/20130128_UK_Colour-Campaign_cropped-rollover_02.jpg) no-repeat;
/*background-position: -50px 0;*/
}
.fade_image2{
display: inline-block;
position: relative;
text-indent: -9999px;
width: 608px;
height: 302px;
background: url(images/20130128_UK_Colour-Campaign_cropped_03.jpg) no-repeat;
}
.fade_image2 span {
position: absolute;
top: 0; left: 0; bottom: 0; right: 0;
background: url(images/images-rollover/20130128_UK_Colour-Campaign_cropped-rollover_03.jpg) no-repeat;
/*background-position: -50px 0;*/
} 
```

所以这是我的问题，如何通过只有 1 个 javascript 函数适用于所有图像来简化这一点？我知道我需要将图像的路径传递给函数，然后我可以使用 JQuery 的 css 东西，但我不知道更多:)

所以请帮助我:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:00:29.500

这应该适合您的需求：

```
$(function() {

    function setupFade(selector) {
        $(selector)
        .find("span")
        .hide()
        .end()
        .hover(function() {
            $(this).find("span").stop(true, true).fadeIn();
        }, function() {
            $(this).find("span").stop(true, true).fadeOut();
        });
    }

    setupFade(".fade_image1");
    setupFade(".fade_image2");

}); 
```

一个`setupFade`函数，但有两个调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:01:09.540

Here are two options:

Just add a class to your images, and use this function:

```
$(function() {
$(".fade_images")
    .find("span")
    .hide()
    .end()
    .hover(
        function() {
            $(this).find("span").stop(true, true).fadeIn();
        }, function() {
            $(this).find("span").stop(true, true).fadeOut();
        }
    );
}); 
```

Added class:

```
<a href="#" class="fade_image1 fade_images">Image<span></span></a> 
```

* * *

**Or**, check for `<a>` tags where the class begins with `"fade_image"`, instead of adding a class to all the images:

```
$(function() {
$('a[class^=fade_image]') //<-- for all <a> tags whom class starts with `fade_img`. use *= instead of ^= if you need to filter for "Contains" instead of "Starts with".
    .find("span")
    // Etc... 
```

# ios6 - 如何在 SLRequest 上使用 signedURLRequest？

> ID：14683280
> 
> 赞同：1
> 
> 时间：2013-02-04T08:55:28.517
> 
> 标签：ios6, nsurlconnection, slrequest

我想在 iOS6 社交框架上使用用户流。

iOS5

```
TWRequest *request = [[TWRequest alloc] initWithURL:[NSURL URLWithString:@"https://userstream.twitter.com/1.1/user.json"] parameters:params requestMethod:TWRequestMethodGET];
[request setAccount:account];
self.connection = [NSURLConnection connectionWithRequest:request.signedURLRequest delegate:self];
[self.connection scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];
[self.connection start]; 
```

iOS6

```
SLRequest* request = [SLRequest requestForServiceType:SLServiceTypeTwitter requestMethod:SLRequestMethodGET URL:[NSURL URLWithString:@"https://userstream.twitter.com/1.1/user.json"] parameters:params];
[request setAccount:account];
self.connection = [NSURLConnection connectionWithRequest:request.signedURLRequest delegate:self];//signedURLRequest cannot use
[self.connection scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];
[self.connection start]; 
```

我想在 iOS6 上使用 signedURLRequest。请帮我：（

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T11:58:05.783

使用 .preparedURLRequest。我终于在概述部分最后一段 的[http://developer.apple.com/library/ios/#documentation/Social/Reference/SLRequest_Class/Reference/Reference.html中找到了它。](http://developer.apple.com/library/ios/#documentation/Social/Reference/SLRequest_Class/Reference/Reference.html)

```
self.connection = [NSURLConnection connectionWithRequest:request.preparedURLRequest delegate:self]; 
```

# solr - 配置 Solr 在搜索停用词或空格时不带任何结果

> ID：14683281
> 
> 赞同：0
> 
> 时间：2013-02-04T08:55:33.510
> 
> 标签：solr, websphere-commerce

我们在 IBM Websphere Commerce v7 中使用 Apache solr 作为嵌入式搜索引擎，在为基于电子商务的应用程序配置 solr 非结构化（内容）搜索时遇到以下问题。最近我们在应用程序中配置了 solr 内容搜索（非结构化搜索）。

每当我们搜索任何停用词（在 stopwords.txt 中提到，例如 - about、between、an、a 等）时​​，它都会从 solr 中获取所有结果。我在管理控制台中检查了 solr Analyzer，搜索字段配置了 StopFilterFactory，因此 Solr 忽略了停用词并将空白字符串作为 solr 查询传递，这会带来所有结果。

但是，根据我们的要求，我们希望配置 solr 以防止在有空查询或输入词是停用词的情况下获取任何结果。

看起来，solr 的默认行为是，在空查询的情况下带来所有结果。

对此主题的任何帮助将不胜感激。

提前谢谢你。

问候，

Jitendriya Dash

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T11:02:22.043

查看[q.alt](http://wiki.apache.org/solr/DisMaxQParserPlugin#q.alt)参数，我相信您已将其配置为“*：*”（匹配所有查询）。

# ios - SocketRocket 在 iOS 5.0 上不工作

> ID：14683285
> 
> 赞同：10
> 
> 时间：2013-02-04T08:55:51.557
> 
> 标签：ios, objective-c, ios5, websocket, socketrocket

我刚刚使用 SocketRocket 制作了一个简单的实时文本聊天应用程序。它在 iOS 6.0 和 5.1 上运行良好，但是当我在连接时尝试在 5.0 上运行它时，出现以下错误...

```
Websocket Failed With Error Error Domain=NSOSStatusErrorDomain Code=-9800 "The
operation couldn’t be completed. (OSStatus error -9800.)"
UserInfo=0x6e506e0 {} 
```

有谁知道这可能意味着什么或如何解决它？我浏览了 github 上的问题，但找不到任何东西，它声称可以在 iOS5+ 上运行。

编辑：补充一下，这是我在模拟器上测试的时候。我没有具有 5.0 的设备，所以我不确定手机是否以同样的方式失败。此外，如果我使用 ws 而不是 wss（加密），它似乎工作正常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T11:04:32.943

已报告此错误与 iOS 的 SSL 身份验证问题有关。一份报告建议从 kCFStreamSocketSecurityLevelTLSv1 更改为 kCFStreamSocketSecurityLevelSSLv3。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-06T03:20:00.877

这在最近对 SocketRocket 的提交中得到了解决：[https ://github.com/square/SocketRocket/issues/77](https://github.com/square/SocketRocket/issues/77)

# php - PHP - 在函数中获取 var

> ID：14683287
> 
> 赞同：0
> 
> 时间：2013-02-04T08:55:57.290
> 
> 标签：php, variables, global-variables

我有一个在类中的函数，我想要一个函数中的 var。我`$this`用来从类中的函数调用 var 。但不知道如何使用参数调用函数。我想`$post['who']['points']`使用外部功能。

**功能**

```
function post_meta_who($post, $class)
        {
            if (isset($post['who'])) {
                $this->output('<SPAN CLASS="'.$class.'-who">');

                if (strlen(@$post['who']['prefix']))
                    $this->output('<SPAN CLASS="'.$class.'-who-pad">'.$post['who']['prefix'].'</SPAN>');

                if (isset($post['who']['data']))
                    $this->output('<SPAN CLASS="'.$class.'-who-data">'.$post['who']['data'].'</SPAN>');

                if (isset($post['who']['title']))
                    $this->output('<SPAN CLASS="'.$class.'-who-title">'.$post['who']['title'].'</SPAN>');

                // You can also use $post['level'] to get the author's privilege level (as a string)

                if (isset($post['who']['points'])) {
                    $post['who']['points']['prefix']='('.$post['who']['points']['prefix'];
                    $post['who']['points']['suffix'].=')';
                    $this->output_split($post['who']['points'], $class.'-who-points');
                }

                if (strlen(@$post['who']['suffix']))
                    $this->output('<SPAN CLASS="'.$class.'-who-pad">'.$post['who']['suffix'].'</SPAN>');

                $this->output('</SPAN>');
            }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:01:39.363

I still don´t understand your question.

If you want to use a variable in the function from outside you should declare it as global

```
global $variable; 
```

If you want to get the return statement you just have to write

```
$result=post_meta_who("example","example"); 
```

Greets

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:09:04.770

```
$obj->post['who']['points'] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:15:57.923

看起来好像需要`$post` [通过引用](http://php.net/manual/en/language.references.pass.php)传入。

为此，将函数声明更改为如下所示：

```
function post_meta_who(&$post, $class) {
    ...
} 
```

与号(&)[通过引用传入变量，](http://php.net/manual/en/language.references.pass.php)因此对方法内部所做的任何更改`$post`都会对方法外部的变量产生影响。

我希望这有助于回答你的问题。

# c# - 如何获取从网站转换的 Web 应用程序的程序集信息

> ID：14683292
> 
> 赞同：0
> 
> 时间：2013-02-04T08:56:21.107
> 
> 标签：c#, asp.net, web-applications

我有一个网站项目，我将其转换为 Web 应用程序，现在我正在尝试显示我的 Web 应用程序的 dll 版本信息。我试过

```
Assembly.GetExecutingAssembly() which returns App_Web_ehipvj25, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null 

Assembly.GetCallingAssembly() which returns system.web assembly

Assembly.GetEntryAssembly() which returns null 
```

来自 的实际版本信息`AssemblyInfo.cs`是 2.0.*

当我创建一个新应用程序并尝试`getExecutingAssembly`方法时，它可以正常工作并显示 myapplicationname **Version=2.0.1213.3432**作为结果，但是在从网站结果**0.0.0.0**转换的应用程序中，什么操作可能导致这种情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T15:46:37.840

我想出了如何获取版本信息

```
System.Reflection.Assembly.Load("assemblyname").GetName().Version.ToString() 
```

# android - 从 R.java 开始，如何找到我在 XML 中声明“@+id/widget”的位置？

> ID：14683303
> 
> 赞同：0
> 
> 时间：2013-02-04T08:57:02.293
> 
> 标签：android, eclipse, android-layout, android-xml, r.java-file

我碰巧在 XML 文件中按id声明**小****部件(**`@+id/widget`

 **通常我会在它们分类良好的地方寻找它们`R.java`。但我看不到声明它们的 XML 文件。而且我必须浏览所有令人讨厌的 XML 文件。

在**right_click-> Open Declaration**上，`R.java`在以下行打开：

`public static final int widget=0x7f090012;`也许这是正常行为但是

我徘徊是否有办法从`R.java`我声明小部件的 XML 文件中获取，例如`@+id/widget`. 或任何其他快速访问方法。

我正在使用[Eclipse，通过 "ADT Bundle" 下载](http://developer.android.com/sdk/index.html)。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-04T09:06:41.760

如果您在 macOS 中按下窗口/命令键，或者如果您在 Windows 中按下 ctrl，则将鼠标指针移动到`@+id/widget`您将看到不同的声明位置，例如：
/![在此处输入图像描述](../Images/cf5bcb31aeab530e1111ab362f7585d7.png)
您将看到不同的 xml 文件，您在其中声明该 ID。只需单击任何 .xml 文件，然后

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T09:03:22.713

在 Eclipse 中，按 Ctrl+H 并键入“@+id/widget”。搜索结果会告诉你所有包含“@+id/widget”的文件......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-04T09:09:23.580

在 Eclipse 环境中

*   点击你的android项目然后Ctrl+H
*   单击文件搜索选项卡
*   类型-->小部件
*   在下一个文本字段中选择文件名模式---> *.xml
*   在范围部分，选择工作区，点击搜索按钮。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-04T09:13:32.663

您也可以从所有 xml 文件的根目录中获取它。

**第 1 步：**选择您的布局文件夹，

![在此处输入图像描述](../Images/7fe3cf7628db6cbcfab87eb808dc4a53.png)

**第 2 步：**按`Control+H`, ![在此处输入图像描述](../Images/def3f1c89e3bd64f992c6cd563c9f7e8.png)

->输入您的搜索关键字，即`widget`//我用过`btnDone`

->选择范围

->点击搜索按钮

**第 3 步：**查看`Search`选项卡中提供的准确结果， ![在此处输入图像描述](../Images/2581fa9da6d62137c9fbacd9a58e89bc.png)

我希望它会有所帮助！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-04T09:03:58.143

使用 Eclipse IDE，在您的 java 代码中按住`CTRL key`并指向鼠标，然后显示一个列表，例如：`id``-Open Deceleration in *`

```
View v = findViewById(R.id.textView1); 
```

按住`ctrl`并将鼠标指向`textView1`。

*如果您使用的是 MAC，请`Command`改用`Ctrl`*

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-04T09:04:35.330

为避免此类问题，最好将您的 id 命名为与 xml 文件名相关联。例如，如果您有 home.xml，则您的 id 以“home_”开头。您不需要通过 R.java。您可以使用 eclipse 进行文件搜索以找到“@+id/widget”。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-04T09:21:45.340

如果在将光标放在 R.java 中的变量名称上时按下 ctrl 按钮，将弹出指向其相应 xml 文件的链接。**

# windows-phone-7 - 无效的跨线程访问 WP7

> ID：14683304
> 
> 赞同：0
> 
> 时间：2013-02-04T08:57:06.177
> 
> 标签：windows-phone-7, dispatcher

我正在使用 Matrix xmppClient 在 WP7 上设置聊天客户端应用程序。在提供错误凭据（用户名/密码）时，抛出无效的跨线程访问异常...我正在使用 Dipatcher.BeginInvoke，如下所示，但仍然是该异常来了..有人可以告诉我需要做些什么来解决这个问题吗？谢谢

```
void xmppClient_OnAuthError(object sender, SaslEventArgs e)
    {           
        Dispatcher.BeginInvoke(() =>
        {
            DisplayEvent("OnAuthError", "authentication failed");
        });
    }

        void DisplayEvent(string evt, string arg1 = null, string arg2 = null)
    {
        var par = new Paragraph();
        par.Inlines.Add(new Run
        {
            Text = evt,
            FontSize = 14,
        });

        if (arg1 != null)
            par.Inlines.Add(new Run
            {
                Text = "\t=>" + arg1,
                FontSize = 14,
            });

        if (arg2 != null)
            par.Inlines.Add(new Run
            {
                Text = "\t=> " + arg2,
                FontSize = 14,
            });

        var rtf = new RichTextBox();
        rtf.Blocks.Add(par);
        stackEvents.Children.Add(rtf);
        ScrollToEnd(scrollEvents);
    } 
```

在 DisplayEvent 方法中没有得到任何异常

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T11:29:28.340

发生无效的跨线程访问异常，通常是从非 UI 线程访问 UI 元素时。在您的 DisplayEvent 方法中可能正在发生这种情况。

在 Dispatcher 中附上 DisplayEvent 的最后 2 行

```
 ...
   rtf.Blocks.Add(par);
   Dispatcher.BeginInvoke(() =>
   {
      stackEvents.Children.Add(rtf);
      ScrollToEnd(scrollEvents);
   }
} 
```

# performance - 浏览器如何处理网站图标下载？

> ID：14683313
> 
> 赞同：2
> 
> 时间：2013-02-04T08:57:55.223
> 
> 标签：performance, browser, download, favicon

在我的个人网站上的浏览器中运行 Yahoo! 的*YSlow*工具后，我注意到了——或者更确切地说，实际上是第一次看到它！- 结果包括我的网站图标。（虽然这看起来有点像“显而易见的部门”类型的问题，但请多多包涵！）

现在网络上有很多关于网站性能的文献：减少 HTTP 请求，创建和优化专用域以提供静态文件，组合文本文件甚至图像文件（在 sprites 中）。然而，很少有关于流行的网络浏览器如何处理网站图标文件的研究。

我不是在寻找有关缓存/静态文件服务/等的实际细节。**我真正想知道的是：“五巨头”浏览器——Chrome/Firefox/IE/Opera/Safari——如何处理网站图标的下载？**

例如：它们是在页面加载之前还是之后下载的？它们是否会对页面下载时间造成性能影响？

# php - 在 PHP 中执行命令返回错误代码 127

> ID：14683319
> 
> 赞同：0
> 
> 时间：2013-02-04T08:58:43.293
> 
> 标签：php, system, execute

我正在尝试执行 cs2cs 命令来转换数据格式。但它总是返回错误代码 127

这是代码片段：

```
$r = system('echo "830404.55 810145.46" | cs2cs +init=epsg:2326 +to +init=epsg:4326 -f %.10f', $result);
//$r = system('sh /var/www/html/et/test.sh', $result); // returns error code 127
echo $r.'<br>'; // print nothing
echo $result.'<br>'; // print 127 
```

1.  `'echo "830404.55 810145.46" | cs2cs +init=epsg:2326 +to +init=epsg:4326 -f %.10f'`在Linux系统中用命令行执行就可以了。

2.  `'/var/www/html/et/test.sh'`在Linux系统中用命令行执行就可以了。

知道为什么会这样吗？我不确定**PHP**或**cs2cs**是否有问题。我认为这可能是由于 cs2cs 无法通过 apache 用户帐户执行。如果是这种情况，如何解决？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:35:48.220

如果我使用 cs2cs 的完整路径，它会起作用：

```
$r = system('echo "830404.55 810145.46" | /usr/bin/cs2cs +init=epsg:2326 +to +init=epsg:4326 -f %.10f', $result); 
```

# c# - .net C#，保护每种方法的最佳实践是什么？

> ID：14683320
> 
> 赞同：3
> 
> 时间：2013-02-04T08:58:45.520
> 
> 标签：c#, asp.net, security, session

我有一个 Web 项目，它有一个处理一些数据操作的业务层。我想通过`Session`在执行方法之前检查是否有活动未结束有效来保护部分或所有方法。

我首先想到使用`Attribute`over class，但我无法正常运行它。由于该类是普通类而不是派生自`System.Web.Page`. 调用所需的 BL 实例时，属性类永远不会运行。此外，某些方法可能不需要有效的会话，因此整个类可能不需要完整的安全性。而且，在方法的每个开头添加一行来检查会话听起来不是很有希望。

如果你问我为什么需要通过方法来保护，我可以这样解释：

*   这是一个网络项目
*   人们可能会从填充它开始，但在那一刻从未保存它
*   屏幕等待大约 30 分钟让我们说
*   会话已经结束
*   用户回到电脑前，点击**保存**按钮，但过程不应该完成

保存操作很容易成为`DELETE`操作或`SELECT`.

由于表格和东西的类型很多，我有`BL.ItemManager`，，`BL.VideoManager`等等`BL.ServiceManager`......所以，这些类中有很多保存，删除和选择方法。

因此，是否有一种巧妙的方法可以通过在运行进程之前检查会话来保护某些方法

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T09:07:44.697

您可以使用面向方面的方法；[PostSharp](http://www.sharpcrafters.com/)可能是一种选择。

您需要做的就是创建一个属性，使用 PostSharp 在方法调用之前注入代码以检查会话是否处于活动状态。就像是;

```
[SessionAlive]
public void SomeMethod() 
```

或者您可以只使用`Session_End`Global.asax 文件中的方法，或者您可以只使用一些 javascript 代码来[强制重定向到登录页面](https://stackoverflow.com/questions/391784/asp-net-session-expiry-redirect-to-login-page)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T09:20:31.127

AOP 是一种很好的技术，可以满足您的要求。您可以使用 PostSharp 和 Castle 的 DynamicProxy。这些框架允许您拦截方法调用，并且您可以在拦截器中进行安全检查。

PostSharp 和 Castle DynamicProxy 之间最大的技术区别是 PostSharp 修改了您的 IL 代码，Castle DynamicProxy 在其中创建类的派生类型，并在运行时为您提供新派生的实例。这意味着，当您反编译使用 PostSharp 的代码时，您会看到其他一些不是用原始 C Sharp 代码编写的代码。

如果您选择 DynamicProxy 方法，您应该通过工厂实例化您的类，但如果您更喜欢 PostSharp，您可以直接使用您的类。您所需要的只是添加一些属性。另一方面，PostSharp 不是免费的。

最后，您可以自己实现一个 DynamicProxy。[这](https://stackoverflow.com/questions/14603683/how-to-know-when-any-method-is-called-in-my-application-code/14604063#14604063)是我编写的一个简单的 DynamicProxy 生成器。您可以在方法调用之前/之后处理错误事件。这只是一个示例代码，如果您打算在重要的应用程序中使用它，您应该更喜欢 Castle。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:11:08.263

另一种可能性是使用 Castle Dynamic 代理 - 用它包装您的服务。动态代理允许您拦截方法调用并用一些通用行为包装它们 - 您可以只拦截您想要的特定方法，并添加会话检查。

与 postsharp 不同，动态代理是免费的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T18:32:30.433

AOP 绝对是解决这个问题的方法。除了其他答案中已经提出的通用 AOP 框架之外，您可能有兴趣知道 .NET 框架包含用于此类安全验证的 AOP 机制。[要使用它，只需创建（并使用）从CodeAccessSecurityAttribute](http://msdn.microsoft.com/en-us/library/system.security.permissions.codeaccesssecurityattribute.aspx)继承的属性，以及可用于验证会话有效性 的[IPermission实现。](http://msdn.microsoft.com/en-us/library/system.security.ipermission.aspx)

# database - 存储季节的数据库设计

> ID：14683335
> 
> 赞同：-1
> 
> 时间：2013-02-04T08:59:49.607
> 
> 标签：database, database-design

我们正在构建一个有目的地的旅行应用程序。我们想要存储一年中某个特定地点的哪些月份适合游览。我们将实施一种搜索模式，用户可以在其中选择一个月，我们应该提供最适合在那个月或几个月内旅行的地方。

我试过什么？

```
places(id, name, ....)

months (id, name)

places_months(id, place_id, month_id) 
```

这是正确的方法还是有任何更聪明的方法来存储和检索相同的内容。

在显示月份时，我还想表明从一月到四月这个地方很适合参观，而不是一月、二月、三月、四月。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T13:19:01.263

在特定月份“好去处”是（a）主观和（b）不是二元决定。

我建议你的“时间表的目的地质量”，你称之为`places_months`结构如下。请注意，我建议一个月使用一个简单的小整数。您不需要仅用于月份名称的代码表。

```
create table places_months
(
  place_id int not null
, start_month tinyint not null
, end_month tinyint not null
, quality tinyint not null  -- Maybe a score from 0 to 5?
, comment varchar(100) null -- Reason why it is particularly bad (or good)
, constraint pk_places_months PRIMARY KEY (place_id,start_month)
, constraint ck_places_months CHECK (start_month<=end_month)
) 
```

使用这样的表格，您可以给出更细致入微的答案。如果您仍想强制执行某种二元决策，您始终可以基于`quality>=3`或类似的方式进行查询。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T09:04:42.087

我有几个建议：

首先（IMO），您应该在 places_months 上使用复合主键，并丢失 id 列。这可确保您始终拥有唯一的值对。对于关于范围而不是月份列表的最后一个请求：当您获得给定地点的月份列表时，可以在 php 中完成。这是一种完全有效的方法。

第二（而不是上面的）你可以包括范围。因此，对于 places_months，您可以使架构如下所示：

```
id, place_id, start_month, end_month
0     1           3           5
1     1           8           8 
```

这意味着在 place_id 1 处，从 3 月到 5 月和 8 月都很好。这将有助于您关于显示范围的最后一个请求（尽管在任何一种情况下这对 php 来说都不难）。

只有2个建议。

# java - 如何检查哪个类调用了方法

> ID：14683338
> 
> 赞同：0
> 
> 时间：2013-02-04T09:00:11.450
> 
> 标签：java

我需要在调用该方法的覆盖方法中获取类的名称

如何做呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T09:04:49.207

```
Throwable t = new Throwable(); 
StackTraceElement[] elements = t.getStackTrace(); 
```

[类 StackTraceElement 有各种方法，如](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/StackTraceElement.html)

```
String calleeMethod = elements[0].getMethodName(); 
String callerMethodName = elements[1].getMethodName(); 
String callerClassName = elements[1].getClassName(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-04T09:06:57.533

您可以使用 获取方法中当前对象的类`this.getClass()`，或使用`Thread.currentThread().getStackTrace()`遍历调用路径。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-04T09:03:55.730

您可以通过以下方式获得课程：

```
class.getMethod("your_over-ridden_method_name").getDeclaringClass(); 
```

例如：

```
System.out.println(class.getMethod("your_over-ridden_method_name") + " declared by " + class.getMethod("your_over-ridden_method_name").getDeclaringClass()); 
```

# android - 使用切换按钮的问题

> ID：14683341
> 
> 赞同：0
> 
> 时间：2013-02-04T09:00:14.417
> 
> 标签：android

我在我的应用程序设置页面中使用了一个切换按钮。问题是，一旦我转动切换按钮`on`并从设置页面退出，然后再次进入设置，它显示切换按钮处于`off`状态。我希望它处于`on`用户打开它之前的状态`off`，即使应用程序已关闭......这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:06:03.367

那是因为你没有保存`ToggleButton`. 用于`SharedPreference`保存`ToggleButton`按钮单击的状态。

检查这个[答案](https://stackoverflow.com/questions/7383752/how-to-save-the-state-of-the-tooglebutton-on-off-selection)。这将帮助你

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T09:06:18.267

您应该使用[SharedPreferences](http://developer.android.com/guide/topics/data/data-storage.html#pref)和`onCheckedChangedListener`.

这是我如何为 CheckBox 处理它的示例（应该等于 ToggleButton，所以它未经测试，但应该可以工作！）：

```
 ToggleButton mToggleButton = (ToggleButton) findViewById(R.id.mToggleButton);
    mToggleButton.setChecked(getSharedPreferences(mSharedPreferences, MODE_PRIVATE).getBoolean("dontShowAgain", false));
    mToggleButton.setOnCheckedChangeListener(new OnCheckedChangeListener() {
        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
            SharedPreferences settings = getSharedPreferences(mSharedPreferences, MODE_PRIVATE);
            SharedPreferences.Editor editor = settings.edit();
            editor.putBoolean("dontShowAgain", isChecked);
            editor.commit();
        }
    }); 
```

# jquery - 使用 jQuery DataTable Grid 创建只读行

> ID：14683343
> 
> 赞同：0
> 
> 时间：2013-02-04T09:00:21.517
> 
> 标签：jquery, jquery-datatables

我正在使用 [Jquery DataTable Grid](http://www.datatables.net)。在这里，我将单元格编辑为： [this Example](http://jquery-datatables-editable.googlecode.com/svn/trunk/events.html)。

现在，如果“引擎版本”列的值为“420”，那么我想将整行设为只读。

请帮帮我。

编辑：

```
 var oTable;
        $(document).ready(function () {
          oTable=  $('#example').dataTable({
                "bProcessing": false,
                "bJQueryUI": true,
                "sAjaxSource": "GetWebAlerts.aspx",
                "sPaginationType": "full_numbers",
                "aLengthMenu": [ 10,25,50,100,200,500 ],
                 "fnDrawCallback": function (oSettings) {
                   if (oSettings.bSorted || oSettings.bFiltered) {
                    if (oSettings.aoColumns[1].bVisible == true) {
                        for (var i = 0, iLen = oSettings.aiDisplay.length; i < iLen; i++) {
                            $('td:eq(0)', oSettings.aoData[oSettings.aiDisplay[i]].nTr).html(i + 1);
                        }
                    }
                }
            },
                "aaSorting": [[3, "desc"]],
                aoColumns: [
                 { "bVisible": false, "bSortable": false, "aTargets": [0] },
               {"sClass" : "left", "bVisible": true, "bSortable": false, "aTargets": [1] },
                 { "bVisible": true, "bSortable": true, "aTargets": [2] },
                 { "bVisible": true, "bSortable": true, "aTargets": [3] },
                 { "bVisible": true, "sType": "num-html","bSortable": false,
                    "fnRender": function (oData, sVal) {

                        if (sVal.indexOf("OVERSPEED") >= 0) {                            
                       return "<span title='Overspeed = " +  oData.aData[8] + " KM/H'>" + sVal + "(" + oData.aData[8] +" KM/H)</span>";                                                        
                       }
                        else if (sVal.indexOf("IDLING") >= 0) {
                            return "<span title='Idling from = " + oData.aData[8].split(";")[0] + " For "+ oData.aData[8].split(";")[1] + " Mins'>" + sVal + "("+ oData.aData[8].split(";")[1]+  " Mins)</span>";
                            }
                         else if(sVal.indexOf("Geofence In") >= 0)
                         {
                            return "<span>" + oData.aData[8] + "- IN</span>";
                         }
                          else if(sVal.indexOf("Geofence out") >= 0)
                         {
                            return "<span>" + oData.aData[8] + "- OUT</span>";
                         }
                        else { 

                        return sVal;                              
                         }
                    }, "aTargets": [4], "asSorting": ["desc", "asc"] },

               { "bVisible": true, "bSortable": true, "aTargets": [5] },
                 { "bVisible": true, "bSortable": true, "aTargets": [6] },
                   { "bVisible": true, "bSortable": true, "aTargets": [7] }

                     ]

                 }).makeEditable({
                                    sUpdateURL: "UpdateWebData.aspx?i=0",
                                    "aoColumns": [
                                         null,
                                           null,
                                           null,
                                           null,

                                           {
                                             indicator: 'Saving reason...',
                                             tooltip: 'Click to select reason',
                                             loadtext: 'loading...',
                                             type: 'select',
                                             onblur: 'submit',
                                             data: "{'1':'Accident','2':'Battery Taken Out','3':'In Workshop','4':'Not In Operation','5':'Signal Lost','6':'Other'}"                                                

                                           },

                                           {

                                           },
                                            null
                                     ],
                                       sDeleteURL: "UpdateWebData.aspx?i=1",
                                       oDeleteRowButtonOptions: {   label: "Remove", 
                                                icons: {primary:'ui-icon-trash'}
                                    },

                                });
                           }); 
```

这是我的代码。如果我的页面 GetWebAlerts.aspx 中的第 5 个 Json 数据为“0”，我想将其设为只读。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:11:02.330

在不查看您的代码的情况下，我将尝试解释如何执行此操作。

在他们输入值的 JS 中，检查输入是否为引擎版本，并且值为 420。如果是，则在该行中添加一个名为 420row 的类。

然后在绑定 on click 以更改为 input 的函数中，将选择器更改为 add `:not('.420row')`。

同样，如果您发布您的代码，或者更好地制作一个 jsfiddle，那么我将能够更好地帮助您。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-19T14:45:03.627

我使用下面的代码使行不可编辑.....通过将 onclick 事件添加到该特定行并根据您想要使其不可编辑的基础添加条件。例如，请参见下面的代码：

```
$('#employee tbody tr')
    .live('click', function() {
        var nTds = $('td', this);
        var designation = $(nTds[4]).text();
            if (designation == "****") {
             alert('Employee designation is **** so cannot update now');
            }
    }); 
```

# javascript - KineticJS 未捕获类型错误：对象# has no method 'drawScene' I'm trying to make a memory match game in HTML5 canvas with kineticJS. But when I click on a card on the stage it gives me an Uncaught TypeError: Objec 问问题 问问题 2013-02-04T09:00:56.710 1682 次 This question shows research effort; it is useful and clear 1 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. I'm trying to make a memory match game in HTML5 canvas with kineticJS. But when I click on a card on the stage it gives me an Uncaught TypeError: Object # has no method 'drawScene' and I can't figure out why. It happened after I added the event listener to the makeCards function and made the clicker() function.  Handling events in VB6: Initialize Here is my question. I have VB6 class FirstClass. In SecondClass i create instance of FirstClass: WithEvents fClass as FirstClass ... Set fClass = New FirstClass Ok. Also in SecondClass I have an event Initialize - this is some event of FirstClass's object (as far as i can understand). But when I paste breakpoint in this event, it doesn't fire. So could you please explain me why I can't go in this event and how the events handling works in VB6 in general. Please, ask questions if my English isn't good for understanding my thoughts Update: Here is property from FirstClass: Private Property Let IRPCAppMode_Application(RHS As Object) Const METHOD_NAME As String = "IRPCAppMode_Application" 'DO NOT TRANSLATE On Error GoTo ErrorHandler Set mApp = RHS Set m_objRPCProject = mApp.Project Set m_objDataSet = m_objRPCProject.CurrentDataSet RaiseEvent Initialize ... I know that mApp object sets only in this line of code, that's all. What i can't understand is how Initialize Event rises in SecondClass and how can we set private property outside of class. Calling of Initialize in SecondClass: Private Sub m_objTestMode_Initialize() Const METHOD_NAME As String = "m_objTestMode_Initialize" 'DO NOT TRANSLATE On Error GoTo ErrorHandler Dim lLoop As Long Set mRPCProject = m_objTestMode.Project SetupAutoSaveTimer SSTab1.Tab = 0 SSTab2.Tab = 0 Set m_objToolManager = m_objTestMode.mApp.ToolManager Set g_objMonDrives = New clsMonDrives Set g_objTrendMonDrives = New clsTrendDrives .... javascripthtml5-canvaskineticjs 4 1 回答 1 This answer is useful 1 这里有几个问题： 不要多次添加图层： var layer = new Kinetic.Layer(); stage.add(layer); 不要尝试重新添加已经添加的动力学对象： function clicker() { var i = this.attrs.id; this.attrs.fill = colorArray[i]; stage.draw(); } 这就是错误的来源：代码只是获取属性，修改一个值，并将其添加到子项中，就好像它是一个动力学对象一样。但事实并非如此。 最后，在初始化所有内容后使其绘制： function _init() { makeCards('MidnightBlue'); stage.draw(); } 于 2013-02-04T09:41:21.113 回答 Related 1 stored-procedures - 摘要查询的奇怪执行时间 0 javascript - 防止 contenteditable div 中不安全的 unicode 字符字符 1 servlets - 手动调用 Servlet-Filter - 注入的 EJB 始终为空 (NullPointerException) 1 php - switch case，没有找到case，但是和其他case类似，给点建议 1 java - MongoDB Tree 查找后代 Java 1 jquery - 检测对 iPhone 上视频元素的触摸 1 ios - iOS，AFNetworking - 带有 JSON 响应的“清除”NSSTring 2 lua - 使用 Blowfish 而不是 AES 的 CMAC 算法 1 jquery-ui - 将 jQuery Datepicker Altfield 分解为 2 个元素 2 c++ - 检查地图是否包含来自另一个地图的所有键 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：14683346
> 
> 赞同：1
> 
> 时间：
> 
> 标签：javascript, html5-canvas, kineticjs

I'm trying to make a memory match game in HTML5 canvas with `kineticJS`. But when I click on a card on the stage it gives me an

```
Uncaught TypeError: Object #<Object> has no method 'drawScene' 
```

and I can't figure out why. It happened after I added the event listener to the `makeCards` function and made the `clicker()` function.

```
<!DOCTYPE HTML>
<html>
 <head>
    <script type="text/javascript" src="../JS/jquery.js"></script>
    <style>
      body {
        background-color: #333;
      }
      #container {
        margin: 0 auto;
        width: 500px;
        height: 500px;
        border-color: red;
        border-style: solid;
        border-width: 2px;
      }
    </style>
 </head>
  <body>
    <div id="container"></div>
    <script src="../JS/kinetic.js"></script>
<script>
//$(document).ready(function() {
var stage = new Kinetic.Stage({
    container: 'container',
    width: 500,
    height: 500,
    id: 'canvas'
});

var layer = new Kinetic.Layer();
var colors = ["Red","Blue","Green","Yellow","Orange",
"Purple","HotPink","Brown","Black","Grey",
"White","Cyan","Lime"];

function shuffle(myArray,nb_picks) {
    for (i = myArray.length-1; i > 1  ; i--) {
        var r = Math.floor(Math.random()*i);
        var t = myArray[i];
        myArray[i] = myArray[r];
        myArray[r] = t;
    }
    return myArray.slice(0,nb_picks);
}

function cardColors() {
    var colorString = [];
    var shuffledColors = shuffle(colors, 13);
    for (var i=0; i <= 9; i++) {
        colorString.push( shuffledColors[i]);
    }
    var a1 = colorString;
    var oldColorString = colorString.concat(a1);
    var newColorString = shuffle(oldColorString, 20);
    return newColorString;
}

var oldColorArray = cardColors();
var colorArray = oldColorArray.slice(0);

function makeCards(color) {
    var k = 0;
    for(var i=0; i <= 400; i += 100 ) {
        for(var j=0; j <= 300; j += 100) { 
            var rect = new Kinetic.Rect({
                x: i+5,
                y: j+5,
                width: 90,
                height: 90,
                fill: color,
                id: k 
              });
            rect.on('click', clicker);
            layer.add(rect);
            stage.add(layer);
            k++;
        }
    }
}
function clicker() {
    var i = this.attrs.id;
    var newRect = this.attrs;
    newRect.fill = colorArray[i];
    layer.add(newRect);
    stage.add(layer);
}
//start gameloop
function _init() {
    makeCards('MidnightBlue');
    //layer.clear();
    //setInterval(function(){ showCards() }, 5000);
    //showCards();
    //layer.clear();

}
_init();
//});
</script>
  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:41:21.113

这里有几个问题：

*   不要多次添加图层：

    ```
    var layer = new Kinetic.Layer();
    stage.add(layer); 
    ```

*   不要尝试重新添加已经添加的动力学对象：

    ```
    function clicker() {
        var i = this.attrs.id;
        this.attrs.fill = colorArray[i];
        stage.draw();
    } 
    ```

    这就是错误的来源：代码只是获取属性，修改一个值，并将其添加到子项中，就好像它是一个动力学对象一样。但事实并非如此。

*   最后，在初始化所有内容后使其绘制：

    ```
    function _init() {
        makeCards('MidnightBlue');
        stage.draw();
    } 
    ```

# events - 在 VB6 中处理事件：初始化

> ID：14683348
> 
> 赞同：0
> 
> 时间：2013-02-04T09:01:03.420
> 
> 标签：events, vb6, event-handling, initialization

这是我的问题。我有 VB6 类`FirstClass`。在`SecondClass`我创建的实例中`FirstClass`：

```
WithEvents fClass as FirstClass

...

Set fClass = New FirstClass 
```

好的。同样在`SecondClass`我有一个事件`Initialize`- 这是`FirstClass`' 对象的一些事件（据我所知）。但是当我在这个事件中粘贴断点时，它不会触发。所以你能解释一下为什么我不能参加这个活动，以及事件处理在 VB6 中是如何工作的。
如果我的英语不能很好地理解我的想法，请提出问题

更新：

这是 FirstClass 的财产：

Private Property Let IRPCAppMode_Application(RHS As Object)

```
Const METHOD_NAME As String = "IRPCAppMode_Application" 'DO NOT TRANSLATE
On Error GoTo ErrorHandler
Set mApp = RHS
Set m_objRPCProject = mApp.Project
Set m_objDataSet = m_objRPCProject.CurrentDataSet

RaiseEvent Initialize 
```

...

我知道mApp对象只在这行代码中设置，仅此而已。我无法理解的是 Initialize Event 如何在 SecondClass 中上升，以及我们如何在课堂之外设置私有财产。在 SecondClass 中调用 Initialize：

```
Private Sub m_objTestMode_Initialize()
    Const METHOD_NAME As String = "m_objTestMode_Initialize" 'DO NOT TRANSLATE
    On Error GoTo ErrorHandler
    Dim lLoop As Long
    Set mRPCProject = m_objTestMode.Project
    SetupAutoSaveTimer
    SSTab1.Tab = 0
    SSTab2.Tab = 0
    Set m_objToolManager = m_objTestMode.mApp.ToolManager
    Set g_objMonDrives = New clsMonDrives
    Set g_objTrendMonDrives = New clsTrendDrives 
```

……

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T21:30:29.680

Initialize 事件已经在您的类中，因此如果您尝试创建自己的事件，它将被忽略。只需将您的代码（摆脱所有自定义事件代码）放入现有的 Initialize 事件中，您就可以了。

每当您创建类的新实例时，都会触发 Initialize 事件。因此，如果您使用 SecondClass 创建 FirstClass 的实例，您需要将 Initialize 事件放入 FirstClass。这样，当您创建 FirstClass 实例时，它将被触发。所以不，SecondClass 的 Class_Initialize 事件不是 FirstClass 的事件，而是 SecondClass 的事件。

# rabbitmq - 在 RabbitMQ 中将消息保存到磁盘，关机后加载

> ID：14683349
> 
> 赞同：1
> 
> 时间：2013-02-04T09:01:06.023
> 
> 标签：rabbitmq

我如何配置将所有插入的消息保存到插入到 RabbitMQ 的磁盘中以防 RabbitMQ 服务器在服务器启动以从磁盘加载消息后停机？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T12:13:31.870

您需要将队列设置为持久，并将消息设置为持久。

```
channel.queueDeclare(<queueName>, true,true,true,null);

channel.basicPublish(<exchangeName>, <routingKey>, MessageProperties.PERSISTENT_BASIC, msg.toBytes()); 
```

# performance - 服务器比较 - 根据规格比较服务器

> ID：14683350
> 
> 赞同：0
> 
> 时间：2013-02-04T09:01:06.450
> 
> 标签：performance, webserver, metrics

我们正忙于创建服务器层次结构管理器（可能不是最伟大的名字）。这样做的目的是确定我们的哪些服务器最适合工作。我们已将以下几点确定为我们希望做出决定的最重要标准：

*   内存
*   操作系统
*   核心数

我们曾考虑包括架构，但是由于我们可能在 x64 服务器中使用的 RAM 量，RAM 的数量也应该能够指示架构。

考虑在不同的操作系统、不同数量的 RAM、不同数量的内核等上运行 3 台可用服务器的示例。我们如何确定哪台服务器是指定为“主”服务器的最佳服务器？我们目前考虑的是创建一个简单的度量标准，其中每个部分（RAM、操作系统和内核）都由 1 中的值表示（其中 1 是我们推荐的要求），并以这种方式比较服务器。这是解决问题的好方法吗？有没有人有更好的想法或知道任何可以提供帮助的工具？

编辑：让我进一步解释。这些服务器基本上只是处理引擎。他们都将与同一个数据库交谈。场景是这样的：我们可以随时删除或添加服务器，例如主服务器，其余的必须在他们之间找出主服务器是谁。当读取主节点时，层次结构应该意识到又有一个新的主节点。我们已经有了这个机制。我的问题是关于指标的。在确定什么是最好的主服务器方面，是否还有其他相关因素需要考虑？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:10:46.803

你的问题太宽泛了，任何人都无法给你一个好的具体答案。这取决于您的数据库、用户数量、频繁运行的查询等等。

例如，如果您有大量长时间运行的查询，那么您可能应该关注更多的核心。

我要考虑的另一件事是存储。您有哪些存储选项？是本地 SATA、SAS、SSD 还是某种网络存储？

无论如何，如果您想要更好的答案，请提供更多信息。

# python - Python: Make a if statement to do something when a certain error is raised?

> ID：14683351
> 
> 赞同：0
> 
> 时间：2013-02-04T09:01:06.770
> 
> 标签：python

I am making a connect4 game on python, and when a column is full, this error is raised when a player puts a piece in the full column. How do I make a if statement to say that if this error is raised, print("Make a valid move?")

```
class ConnectFourGameOverError(Exception):
    '''Raised whenever an attempt is made to make a move after the game is
    already over'''
    pass 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:02:25.350

利用`try/except`

```
try:
    # your code here
except YourError:
    # do something 
```

它的作用是执行一段代码，并“捕获”给定的异常（如果发生）。例如，检查以下代码：

```
try:
    num = raw_input('Enter an number: ')  # user enters something
    num = int(num)  # Python tries to convert it to an integer
except ValueError:  # if the input was invalid
    print 'You didn\'t enter an valid number' 
```

# python - Can i make imported function global in python?

> ID：14683354
> 
> 赞同：1
> 
> 时间：2013-02-04T09:01:15.593
> 
> 标签：python

I have something like this:

```
from CoreTemplate import CoreTemplate 
```

when i want to use the imported function from CoreTemplate Module I need to do like this:

```
CoreTemplate.ifunction() 
```

are there anyway that i can call function without name of the module like this:

```
ifunction() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:53:07.607

应该这样做；

```
from CoreTemplate import CoreTemplate

g = globals()

for atr in dir(CoreTemplate):
    if atr.startswith("_"):
        continue
    g[atr] = getattr(CoreTemplate, atr) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:03:00.160

你可以做

```
from CoreTemplate import CoreTemplate
ifunction = CoreTemplate.ifunction 
```

（注意没有括号）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:07:37.287

```
from CoreTemplate import ifunction

ifunction() 
```

# html - 如何在 Django 中使用 html 框架

> ID：14683358
> 
> 赞同：1
> 
> 时间：2013-02-04T09:01:21.033
> 
> 标签：html, django, frames

我开始使用 Django 构建网页。我期望的是以下内容：

我可能有两个框架，左和右。我在左框中有一个搜索表单。我所期望的是，在我输入搜索关键字后，搜索结果将呈现在正确的框架中。

如果，我只考虑只有一帧的页面与搜索表单，并且在我提交搜索关键字后，搜索结果将呈现在同一页面中。这可能很容易让 render_to_response 显示正确的模板页面。

但是，当我有两个框架时，如前所述，我没有找到在指定目标（正确的框架）上呈现 coorect 模板页面的东西。

或者可能是一个更模糊的问题，假设我们在一页上有两个框架，我在一个（左）框架上有一个引用按钮，有什么办法，当我点击它时，我会刷新两个框架？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:12:21.727

> 如何在 Django 中使用 html 框架

框架是一种客户端技术。Django 没有任何区别。

> 但是，当我有两个框架时，如前所述，我没有找到在指定目标上呈现 coorect 模板页面的东西

```
<form ... target="name_of_frame"> 
```

> 或者可能是一个更模糊的问题，假设我们在一页上有两个框架，我在一个（左）框架上有一个引用按钮，有什么办法，当我点击它时，我会刷新两个框架？

这将涉及 JavaScript（假设您要刷新每个帧的当前表示）。

* * *

框架是一种有问题的技术，并且（iframe 除外）在 HTML 5 中不存在。

大多数框架的使用最好用单个页面替换，其中共享内容（例如上面示例中的表单）被复制（这可以使用 Django 模板完成）并且布局由 CSS 处理。

# java - 在 JNI 中获取并打印出字符串数组

> ID：14683362
> 
> 赞同：0
> 
> 时间：2013-02-04T09:01:44.607
> 
> 标签：java, linux, arrays, string, java-native-interface

我是 JNI 的新手，所以我不知道如何获取字符串数组，我在 stackoverflow 中阅读了很多问题，还阅读了 JNI 程序员指南，但这对我来说很难 :( 很长一段时间后，我想出了这段代码但它没有用

```
class ReadString2 {
    private int i;
    private static String[] StringBuf;
    private native void readS(String[] StringBuf);

    /*Constructor of ReadString*/
    public ReadString2() {
       // StringBuf = "This is exercise number 1";
      StringBuf = new String[5];
      StringBuf[0] = new String("123");
      StringBuf[1] = new String("456");
      StringBuf[2] = new String("789");
      StringBuf[3] = new String("\0");
      StringBuf[4] = new String("\0");
    }
    public static void main(String[] args) {
        ReadString2 p = new ReadString2();

        p.readS(StringBuf);
    }
    static {
        System.loadLibrary("ReadString2");
    }
} 
```

//====================C==================

```
#include <jni.h>
#include <stdio.h>
#include "ReadString2.h"

JNIEXPORT void JNICALL
Java_ReadString2_ReadS(JNIEnv *env,jobject obj, jobjectArray StringBuf)
{

    jsize  stringCount = (*env)->GetArrayLength(env, StringBuf);
    const jbyte *str;
    jstring stringGet;
    int i;

    if (str == NULL) {
        //return NULL;
    }
    for (i = 0; i <= stringCount; i++) {
        stringGet = (*env)->GetObjectArrayElement(env, StringBuf, i);
        str = (*env)->GetStringUTFChars(env, stringGet, NULL);
        printf("%s\n",str);
    }
    (*env)->ReleaseStringUTFChars(env, StringBuf, str);

} 
```

我通过以下方式构建了 ReadString2.h 文件

```
 javah -jni ReadString2 
```

读取String2.class by

```
javac ReadString2.java 
```

ReadString2.so 文件由

```
 cc -I"/usr/lib/jvm/java/include/" -I"/usr/lib/jvm/java/include/linux/" ReadString2.c -o libReadString2.so -shared 
```

并运行

```
java -Djava.library.path=. ReadString2 
```

错误是：

```
Exception in thread "main" java.lang.UnsatisfiedLinkError: ReadString2.readS([Ljava/lang/String;)V
        at ReadString2.readS(Native Method)
        at ReadString2.main(ReadString2.java:19) 
```

那么，我的代码有什么问题？我还有一个问题是，如果任何项目为空，我如何抛出 NullPointerException？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-05T09:10:54.203

最后我发现了我的代码的问题。这是我的错，对不起各位。我用了：

```
Java_ReadString2_ReadS(JNIEnv *env,jobject obj, jobjectArray StringBuf)"{} 
```

代替

```
Java_ReadString2_readS(JNIEnv *env,jobject obj, jobjectArray StringBuf)"{} 
```

读取->读取@@

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:37:46.607

`ReadString2.dll`或者`ReadString2.so`找不到。在 Windows 下，您可以将 dll 放在“当前”目录中，或者 - 更一般地说 - 您应该指定 JVM 的库路径`-Djava.library.path=...`

[如何从 Eclipse 设置 java.library.path](https://stackoverflow.com/questions/957700/how-to-set-the-java-library-path-from-eclipse)

在您的代码中，您必须通过以下方式释放资源：

```
void ReleaseStringChars(JNIEnv *env, jstring string, const jchar *chars); 
```

请注意

```
javah -jni ReadString2 
```

不建立`ReadString2.so`，但只有`ReadString2.h`.

在Linux下，我不知道为什么，`export LD_LIBRARY_PATH=...`也需要。

# jsf-2 - 使用通配符加载 facelet 标记库

> ID：14683363
> 
> 赞同：1
> 
> 时间：2013-02-04T09:01:53.190
> 
> 标签：jsf-2, tomcat6, facelets

我将**JSF 2**与我自己构建的 facelet 标签一起使用，并且我在 taglib 文件中定义了该标签，名为*xxxx.taglib.xml*。该项目分为war模块，在构建时由Maven合并。所以每个项目都有他自己的标签库，我希望将它们全部包含在生成的项目中。那么问题来了，有没有办法使用通配符访问每个 taglib 文件，使用*web.xml*中的单个表达式？与此类似：

```
<context-param>
    <param-name>facelets.LIBRARIES</param-name>
    <param-value>classpath*:**/*.taglib.xml</param-value>
</context-param> 
```

这应该从*/WEB-INF/classes*目录加载每个以*.taglib.xml*结尾的文件，但它不起作用。我正在使用 Tomcat 6。我错过了什么？

 ** * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T12:32:13.000

这不是有效的语法。它必须是 webcontent-relative 路径，用分号分隔。您的项目和模块/构建设置可能并不完全正确。

只需创建一个以 JAR 结尾的独立 Java 项目，`/WEB-INF/lib`并将 taglib 文件放入`/META-INF`文件夹中。JSF 还将扫描每个 JAR（`/WEB-INF/lib`如果有）`/META-INF/*.taglib.xml`，然后自动注册它。为此，您不需要`facelets.LIBRARIES`上下文参数。将 Web 资源（如 XHTML 文件）放在`/META-INF/resources`文件夹中。请注意，这也是 PrimeFaces 等组件库的工作方式。

您可能需要更改 Maven 以修复错误的构建方法。它应该构建模块项目的 JAR 并将它们放入`/WEB-INF/lib`目标 WAR 文件中，并且绝对不会将来自单独项目的松散文件合并/覆盖在一个大`/WEB-INF/classes`文件夹中。

顺便说一句，它`facelets.LIBRARIES`是 Facelets 1.x 特有的，在 JSF 2.x 中已弃用。改用`javax.faces.FACELETS_LIBRARIES`.

### 也可以看看：

*   [具有共享代码的多个 JSF 项目的结构](https://stackoverflow.com/questions/8320486/structure-for-multiple-jsf-projects-with-shared-code/8320738#8320738)*

# c# - 在主机服务器上运行控制台应用程序

> ID：14683364
> 
> 赞同：3
> 
> 时间：2013-02-04T09:02:03.627
> 
> 标签：c#, asp.net, hosting, console-application

我创建了`HttpListener`在某个随机端口上使用该类的 ac# 控制台应用程序。应用监听http post请求，并根据请求的详细信息对mySQL数据库进行一些操作。

此时我希望将此应用程序和数据库上传到主机服务器。最好的做法是什么？

1.  我应该将处理端口 80 上的 http 请求的 .exe 转换为 .aspx 吗？（我的直觉告诉我控制台应用程序会比 .aspx 页面运行得更快，但它可能是错误的）
2.  我应该将其转换为 Windows 服务吗？是否可以？有什么意义吗？如果我这样做，我可以在网络托管服务器上运行它吗？

谢谢您的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T09:09:22.590

最佳实践是 Windows 服务，它在服务器启动时始终运行。只有当您对项目中的页面有请求时，才会运行 Web 项目，因为您有自己的网络服务器，这有点奇怪。

# jquery - 禁用 jQuery UI 组合框

> ID：14683366
> 
> 赞同：0
> 
> 时间：2013-02-04T09:02:08.917
> 
> 标签：jquery, user-interface, combobox

我的页面中有一个组合框[（jQuery UI 自动完成的扩展）](http://jqueryui.com/autocomplete/#combobox)。我想在方法调用中禁用它们（输入字段）。

我尝试了[这个答案](https://stackoverflow.com/questions/7666441/how-to-disable-jquery-ui-combobox)的变体，如

```
 $("#my_selector").next(".ui-combobox").find("input.ui-combobox-input").prop('disabled', true); 
```

但似乎根本没有获取跨度:(。

我设法在 _create() 时设置了输入字段的 ID，直接访问输入字段为

```
 window.console.log("The ID ::" +$('#id_of_InputField_in_Autocomplete').attr('id')); 
```

但这也返回*未定义*

任何输入或禁用该字段的某种方式将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:05:01.483

根据[http://api.jqueryui.com/autocomplete/](http://api.jqueryui.com/autocomplete/)上的 API ，正确的禁用方法是：

```
$(".selector").autocomplete("disable"); 
```

或者

```
$(".selector").autocomplete("option", "disabled", true); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-13T02:46:27.980

尝试这个。

```
$('#my_selector').combobox('disable'); 
```

# validation - 验证另一个控制器的一个 bean (Spring MVC portlet)

> ID：14683374
> 
> 赞同：0
> 
> 时间：2013-02-04T09:02:38.940
> 
> 标签：validation, spring-mvc, portlet

我试图做一些奇怪的事情，但我需要这样做......

我在两个控制器和 2 个验证器中有两个 bean：假设......

```
BeanA {
    private String propertyA;
}

BeanB {
    private String propertyB;
} 
```

为了保存 bean A，我还需要验证 bean B，所以我正在尝试执行以下操作：

```
@RequestMapping(params = ACTION_SAVE_BEAN_A)
public final void doActionSave (@ModelAttribute(value = ServletContextKeys.BEAN_A) BeanA beanA,
        Errors errors, ActionRequest actionrequest, ActionResponse actionResponse, PortletSession portletSession) {

    BeanB beanB = getBeanB();
    validatorBeanB.validate(beanB, errors);
    if (!errors.hasErrors()) {
        //Save beanA
        beanA.save();
    }

} 
```

我的验证器代码：

```
validatorBeanB{

private void validatePropertyB(Errors errors) {
    ValidationUtils.rejectIfEmptyOrWhitespace(errors, PROPERTY_B, BEANB_ERRORS + PROPERTY_B);
      }

   } 
```

但是执行这段代码，我收到一个错误：

```
Caused by: org.springframework.beans.NotReadablePropertyException: Invalid property 'propertyB' of bean class [BeanA]: Bean property 'propertyB' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter? 
```

我理解错误，但我需要找到解决方法来修复它，而且我不能只将 propertyB 放在 beanA 中（实际上，它不仅仅是一个属性，bean 中还有更多......）

有任何想法吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T10:46:06.000

我找到了解决方案。我没有在方法中声明错误（它带有与目标字段关联的 Bean A），而是在验证调用之前创建了一个新错误。就像是：

```
BindingResult errors = new BeanPropertyBindingResult(beanB,"BeanB");

BeanBValidator.validate(beanB, errors); 
```

# ios - 设置自定义 UITextField

> ID：14683381
> 
> 赞同：0
> 
> 时间：2013-02-04T09:03:08.213
> 
> 标签：ios, uitextview

我想创建一个`UITextField`像 image1 中所示的自定义，但我只能创建像 image2 中的框。任何人都可以帮助如何执行这些`UITextField`：

1）在一些空格后设置文本的开始（参见图1）

2）将角设置为圆角矩形（见图1）

![图片1](../Images/c54383367e8c5df0cdd32b75347967cd.png) ![图片2](../Images/015c0f17b4d3e1be174f03f5487c4847.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:07:24.573

看看这两种方法：

```
#import <QuartzCore/QuartzCore.h> //For accessing and modifying layer property of view

//Rounded corners
[textView.layer setCornerRadius:3.0];

//Putting left margin to the textview (set your desired margins)
[textView setContentInset:UIEdgeInsetsMake(<#CGFloat top#>, <#CGFloat left#>, <#CGFloat bottom#>, <#CGFloat right#>)]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:14:56.263

将 Quartzcore 框架添加到您的项目中

导入 QuartzCore/QuartzCore.h

并使用 `[YourtextView.layer setCornerRadius:2.0];`

希望这对你有帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:16:03.210

不要使用 UITextview，而是使用 UITextField。

然后可以将 UITextBorderStyle 设置为 UITextBorderStyleNone，使用圆角矩形图像作为背景。

随时向我发送反馈

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-04T09:18:07.417

首先添加`#import <QuartzCore/QuartzCore.h>`

```
UITextField *YourTextViewName = [[UITextField alloc] initWithFrame:CGRectMake(@"YourSize")];
YourTextViewName.delegate = self;
YourTextViewName.tag = 1;
[self.view addSubview:YourTextViewName];
YourTextViewName.backgroundColor = [UIColor whiteColor];

[[YourTextViewName layer] setBorderColor:[[UIColor lightGrayColor] CGColor]];
[[YourTextViewName layer] setBorderWidth:1.0];
[[YourTextViewName layer] setCornerRadius:10]; 
```

**另一种选择是：**

在 UIImageView 上添加 UITextField ...将 imageView 作为 roundRect 并将 UITextField 放在 imageView 上，UIImageView 的大小很大（不多）然后是 uitextField 并给 uitextfield 背景颜色`clearColor`...比如

```
UIImageView *imgTxtTag = [[UIImageView alloc] initWithFrame:CGRectMake(25, 150, 265, 30)] ;
    [imgTxtTag setImage: [UIImage imageNamed:@"SurfaceBtnBG.png"]];
    [self.scrollView addSubview:imgTxtTag];

UITextField *YourTextViewName = [[UITextField alloc] initWithFrame:CGRectMake(@"33, 150, 249, 30")];
    YourTextViewName.delegate = self;
YourTextViewName.backgroundColor = [UIColor clearColor];
    YourTextViewName.tag = 1;
    [self.view addSubview:YourTextViewName]; 
```

# php - php将文本文件中的数据插入mysql

> ID：14683382
> 
> 赞同：-1
> 
> 时间：2013-02-04T09:03:08.760
> 
> 标签：php, mysql

我有一个文本文件 logfile.txt：

```
2013-01-01 12:01:00    ip:11223344    region:    country:US    bandwidth:123
2013-01-01 12:01:55    ip:22222    region:    country:UK    bandwidth:123
2013-01-01 12:03:12    ip:34566    region:    country:US    bandwidth:123
2013-01-01 12:07:08    ip:123123    region:    country:US    bandwidth:123 
```

如何将其插入到 mysql 中，这些列：

```
ID        |    IP_client    |    country    |    bandwidth 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T09:08:07.693

您可以使用类似的代码，它是一个制表符分隔符：

```
$data = file_get_contents("file.txt");
 $convert = explode("\n", $data); //create array separate by new line
for ($i=0;$i<count($convert);$i++)
{
  //insert record here
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-04T09:17:06.373

```
$text = file_get_contents('file.txt');
$text = explode("\n",$text);
foreach($text as $line)
{
$temp = explode('ip:',$line);
$ip = explode(" ",$temp[1]);

$temp = explode('country:',$line);
$country = explode(" ",$temp[1]);

$temp = explode('bandwidth:',$line);
$bandwidth = explode(" ",$temp[1]);

$sql = "INSERT INTO MY_TABLE (IP_client,country,bandwidth) VALUES ('".$ip[0]."','".$country[0]."','".$bandwidth[0]."')";
mysql_query($sql);
} 
```

# sql - SQL总和

> ID：14683383
> 
> 赞同：6
> 
> 时间：2013-02-04T09:03:12.420
> 
> 标签：sql, select

我的数据库中有 300 条记录，我的结构是这样的

```
State                      values
Queensland                 4554
Queensland                 2343
Queensland                 9890
NSW                        1333 
```

我想检索所有具有状态名称的记录，`Queensland`并且我想将所有具有字段名称值的记录相加，并将总和除以具有状态名称的记录数（计数）。

任何人都可以帮助我实现这一目标的语法吗？

我需要输出为 5595.66 的东西（即 (4454+2343+9890)/3）

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-04T09:04:38.707

```
SELECT State, SUM(values) / (COUNT(*) * 1.0)
FROM   tableName
WHERE  State = 'Queensland'
GROUP  BY State 
```

或者

```
SELECT State, AVG(values * 1.0)
FROM   tableName
WHERE  State = 'Queensland'
GROUP  BY State 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/a81a5/7)

作为旁注，columnName`values`是一个保留关键字。根据您使用的 RDBMS，通过分隔符对其进行转义。像（*反引号*）MySQL，（*括号*）SQL Server 等......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T09:22:57.620

基于

> “我想**检索**州名为“昆士兰”的所有记录..”

您在寻找这个（用于 SQL-Server）吗？[小提琴演示](http://sqlfiddle.com/#!3/3069c/22)

```
select [state], round(avg(value *1.0) over() ,2) avgValue
from T
where [state] ='Queensland'

--Results
state       avgValue
Queensland  5595.67
Queensland  5595.67
Queensland  5595.67 
```

# vhdl - Quartus II - 状态机查看器不显示气泡图

> ID：14683384
> 
> 赞同：0
> 
> 时间：2013-02-04T09:03:13.387
> 
> 标签：vhdl, state-machine, fpga

我使用 Quartus II Web Edition 12.1 和 ModelSim SE 10.1c（不是 Altera 版本）。我已经计划了一个同步的单进程状态机，它有一个重置状态和其他 11 个状态。

成功编译设计后，我可以在 RTL 查看器中看到设计的架构，这里状态机由具有正确输入和输出的特征黄色框表示，但状态机查看器不显示任何气泡-图表：如果我单击“编码”选项卡，所有状态都显示在状态表中，但“转换”部分中没有任何内容。
不报告错误消息。

当项目还很年轻并且状态机没有那么复杂时，状态机查看器可以正确显示气泡图。但是当我开始开发机器并添加一些 if 条件时，气泡图不再显示。

看起来转换气泡图表示对于 Quartus II 来说是一个问题，并且状态机查看器无法显示复杂的状态机。
ModelSim 可以识别状态机并毫无问题地对其进行仿真。

我怎样才能得到我的机器的气泡图？

# php - php后台进程使用shell_exec()

> ID：14683385
> 
> 赞同：0
> 
> 时间：2013-02-04T09:03:13.700
> 
> 标签：php, exec, wamp

> **可能重复：**
> [PHP exec() 作为后台进程（Windows Wampserver 环境）](https://stackoverflow.com/questions/5367261/php-exec-as-background-process-windows-wampserver-environment)

我正在使用 WAMP 服务器来执行我的 php 脚本。

我有一个调用的控制器文件`MainController.php`，其中传递了一个命令行参数。在命令行参数的基础上，每次`e.g. test1.php , test2.php and so on`使用函数执行一个新的单独的 php 脚本。`exec()`

我希望我`MainController.php`不应该等待执行的 php 脚本的响应，`like test1.php`而应该继续进行。

目前我正在使用以下语句在后台执行脚本 `shell_exec('C:\wamp\bin\php\php5.3.13\php.exe test1.php > /dev/null 2>/dev/null &');`

但它给了我一个错误

`The system cannot find the path specified.`

请建议我做错了什么？

# systemc - SystemC 2.3.0 支持建模电源域和抽象调度器

> ID：14683391
> 
> 赞同：2
> 
> 时间：2013-02-04T09:03:31.410
> 
> 标签：systemc

新的 SystemC 库 2.3.0 于 2012 年 7 月发布。据报道，它能够支持诸如电源域和抽象调度器等概念的建模。是否有人检查或研究过 SystemC 2.3.0 如何支持电源域和抽象调度程序的建模？任何参考推荐都表示赞赏！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T23:24:56.607

根据[本网站](https://complex.offis.de/news/90-systemc-230-released)， SystemC [IEEE Std 1666-2011](http://standards.ieee.org/getieee/1666/download/1666-2011.pdf)包括“*新的过程控制扩展，可启用和简化电源域和抽象调度程序的建模*” ！因此，正是这些新的过程控制扩展为功率域/调度器建模提供了原语。

我检查了 SystemC [IEEE Std 1666-2005](https://standards.ieee.org/findstds/standard/1666-2005.html) LRM，事实上，这个`sc_process_handle`类现在有更多的成员函数：`suspend`, `resume`, `disable`and `enable`, `sync_reset_on`and `sync_reset_off`, `kill`and `reset`, `throw_it`。

您可以按照 LRM 中的此示例来实施电源域（例如，通过禁用/启用或重置进程以响应触发电源关闭或上电序列的事件）：

```
struct M1: sc_module
{
   M1(sc_module_name _name)
   {
      SC_THREAD(ticker);
      SC_THREAD(calling);
      SC_THREAD(target);
      t = sc_get_current_process_handle();
   }
   sc_process_handle t;
   sc_event ev;
   void ticker()
   {
      for (;;)
      {
         wait(10, SC_NS);
         ev.notify();
      }
   }
   void calling()
   {
      wait(15, SC_NS);
      // Target runs at time 10 NS due to notification
      t.suspend();
      wait(10, SC_NS);
      // Target does not run at time 20 NS while suspended
      t.resume();
      // Target runs at time 25 NS when resume is called
      wait(10, SC_NS);
      // Target runs at time 30 NS due to notification
      t.disable();
      wait(10, SC_NS);
      // Target does not run at time 40 NS while disabled
      t.enable();
      // Target does not run at time 45 NS when enable is called
      wait(10, SC_NS);
      // Target runs at time 50 NS due to notification
      sc_stop();
   }
   void target()
   {
      for (;;)
      {
         wait(ev);
         cout << "Target awoke at " << sc_time_stamp() << endl;
      }
   }
   SC_HAS_PROCESS(M1);
}; 
```

# asp.net - 客户端 PC 中需要 SQL Server 才能运行在 VB.Net 中创建的软件？

> ID：14683392
> 
> 赞同：0
> 
> 时间：2013-02-04T09:03:34.710
> 
> 标签：asp.net, sql-server, vb.net

我已经使用 SQL Server 2005 创建了一个软件。并且已经创建了安装文件。当我将它安装在我的计算机中时它正在工作。但是当我尝试将它安装在没有 sql server 的其他计算机上时，它无法正常工作，因为它没有找到 sql server。

请帮我。如何在不将 sql server 安装到他们的电脑上的情况下在客户端电脑上运行任何软件？

或者

如果该计算机上未安装 sql server，则通过该设置给我代码可以将 sql server 安装到客户端或任何 pc。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T14:54:24.343

假设您使用 SQL Server 开发了一个 Web 应用程序并创建了一个安装文件，那么您确实需要将 SQL Server 安装到客户端 PC 上，以便您的应用程序能够正常工作和安装。

在您的计算机（我假设它是您的开发机器）中安装您的软件是可行的，因为您已经安装了 SQL Server。

# linux - GIT 服务器的硬件要求（RHEL linux）

> ID：14683399
> 
> 赞同：4
> 
> 时间：2013-02-04T09:04:10.283
> 
> 标签：linux, git, hardware, cpu, git-svn

我正在从 SVN 迁移到 GIT。目前，我的 SVN 服务器托管 30 多个 svn 存储库，可供 1000 多名开发人员 24x7 访问。迁移时，我观察到它使用大量 CPU 并使系统变慢。最终结帐时，命令还`git svn`使用了 25+ gb 空间。

**我想知道 GIT 服务器（RHEL linux）的硬件要求。**
如果 repo 大小以 GB 为单位增加，会有什么影响吗？还是未来 GIT 维护操作的要求？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T10:40:33.220

您可以通过 apache 或 NGiNX 使用 ssh、https（您只需调用[`git-http-backend`智能 http 脚本](https://stackoverflow.com/a/7177044/6309)）。
由于 Git 的分布式特性，要求相当低（服务器主要是 https 或 ssh，本身没有“git 服务器”）。

为授权管理添加[Gitolite](https://stackoverflow.com/questions/13318715/how-do-programs-like-gitolite-work/13320256#13320256)是个好主意。

主要限制是关于 Git 存储库的大小：它们不应该“大”，以便轻松克隆（请参阅“[什么是 git 限制？](https://stackoverflow.com/questions/984707/what-are-the-git-limits/984973#984973) ”）。

每个 Git 存储库最好用于表示一个“组件”（一组连贯的文件表示一个工件，可以是模块、程序、库……），这与 SVN 存储库不同，SVN 存储库可以包含许多同一参考文献中的项目。

# python - 在网络派系上部署一个简单的烧瓶应用程序

> ID：14683415
> 
> 赞同：1
> 
> 时间：2013-02-04T09:04:56.270
> 
> 标签：python, flask, mod-wsgi, webfaction

[我已经按照“无法在 Webfaction 上部署简单的 Flask 应用程序](https://stackoverflow.com/questions/10156591/cant-deploy-a-simple-flask-application-on-webfaction)”中的描述设置了一个示例测试应用程序，以运行一个基本的 web 应用程序。

以下是代码片段和结构：

“在网络派系服务器上”

```
/home/<user>/webapps
ls
>> testapp ( <-- my testapp)
    cd testapp
    >> apache2 htdocs
    cd htdocs
    >> index.py testapp.py 
```

我存储在 htdocs 下的 index.py 文件如下：

```
import sys
testapp = "/home/<user>/webapps/testapp/htdocs"
if not testapp in sys.path:
    sys.path.insert(0, testapp)
from testapp import app as application 
```

我存储在 htdocs 下的 testapp.py 文件如下：

```
from flask import Flask
app = Flask(__name__)
@app.route('/')            
def hello_world():
    return 'Hello World!'

if __name__ == '__main__':
    app.run() 
```

我存储在 /home//webapps/testapp/apache2/conf 下的 httpd.conf 如下：

```
ServerRoot "/home/<user>/webapps/testapp/apache2"
LoadModule dir_module        modules/mod_dir.so
LoadModule env_module        modules/mod_env.so
LoadModule log_config_module modules/mod_log_config.so
LoadModule mime_module       modules/mod_mime.so
LoadModule rewrite_module    modules/mod_rewrite.so
LoadModule setenvif_module   modules/mod_setenvif.so
LoadModule wsgi_module       modules/mod_wsgi.so
LogFormat "%{X-Forwarded-For}i %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-    Agent}i\"" combined
CustomLog /home/<user>/logs/user/access_testapp.log combined
DirectoryIndex index.py
DocumentRoot /home/<user>/webapps/testapp/htdocs
ErrorLog /home/<user>/logs/user/error_testapp.log
KeepAlive Off
Listen 24329
MaxSpareThreads 3
MinSpareThreads 1
ServerLimit 1
SetEnvIf X-Forwarded-SSL on HTTPS=1
ThreadsPerChild 5
WSGIDaemonProcess testapp processes=5 python-path=/home/<user>/webapps/testapp       /lib/python3.1 threads=1
WSGIProcessGroup testapp
WSGIRestrictEmbedded On
WSGILazyInitialization On
WSGIPythonPath /home/<user>/webapps/testapp/htdocs
WSGIScriptAlias / /home/<user>/webapps/testapp/htdocs/index.py
<Directory /home/<user>/webapps/testapp/htdocs>
    AddHandler wsgi-script .py
    ReWriteEngine  on
    RewriteBase /
    WSGIScriptReloading On   
</Directory> 
```

我的域名指向了我在 webfaction 中的项目。默认 index.py 在我按照说明中的说明用新的覆盖之前工作。

以下是我在网络派系控制面板部分中的应用程序的详细信息：

```
testapp
Name    testapp
Label   mod_wsgi 3.4/Python 3.2
Machine     
Web377
Description     
mod_wsgi 3.4/Python 3.2
Port    24329 
```

我检查了用户下的 error_testapp.log 并见下文：

```
[Mon Feb 04 07:45:05 2013] [notice] caught SIGTERM, shutting down
[Mon Feb 04 07:45:10 2013] [notice] Apache/2.2.17 (Unix) mod_wsgi/3.4 Python/3.2.3 configured -- resuming normal operations
[Mon Feb 04 07:57:14 2013] [notice] caught SIGTERM, shutting down
[Mon Feb 04 07:57:19 2013] [notice] Apache/2.2.17 (Unix) mod_wsgi/3.4 Python/3.2.3 configured -- resuming normal operations 
```

尝试从 http:// <user>.webfactional.com/testapp/ 启动应用程序

我收到“站点未配置”消息。

有人可以说明这里可能出了什么问题。这是我第一次使用 Flask 和 webfaction。提前感谢您的时间。如果您需要更多详细信息，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T01:44:29.297

[Flask 目前不支持 Python 3](http://flask.pocoo.org/docs/advanced_foreword/#the-status-of-python-3) - 您需要切换回 Python 2.7.3（或查看 CherryPy 或 Pyramid，因为这两个框架都支持 Python 3）。

# asp.net-mvc - 如何在 MVC Razor 中动态禁用 TextBox？

> ID：14683420
> 
> 赞同：3
> 
> 时间：2013-02-04T09:05:14.210
> 
> 标签：asp.net-mvc, razor

我想在单击复选框后动态禁用/启用文本框。我该怎么做？我正在使用这个：

```
@{
    object addInput = (Model.AddInput) ? null : new { disabled = "disabled" };

 }

@Html.CheckBoxFor(model=> model.AddInput)

@Html.TextBoxFor(model => model.Input.Name, addInput) 
```

但它只适用于开始。单击复选框不会更改任何内容。如何进行一些绑定来自动更改禁用状态？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-04T09:21:48.337

这需要在 javascript 中完成。

```
@{
    object addInput = (Model.AddInput) ? null : new { disabled = "disabled" };

 }

@Html.CheckBoxFor(model=> model.AddInput)

@Html.TextBoxFor(model => model.Input.Name)

<script> 
    $('#AddInput').click(function() {
        var $this = $(this);

        if ($this.is(':checked')) {
            $('#Name').removeAttr("disabled"); 
        } else {
            $('#Name').attr("disabled", "disabled")
        }
    });
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:22:10.400

在单击复选框时添加 jquery 操作并适当地设置状态。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-10-24T07:23:10.573

如果您出于某种原因想要启用它，您还可以使用以下内容：

```
 $('#Name').attr("disabled", false); 
```

# dialog - 如何在 nsis 的 ABORT 消息框中禁用关闭按钮？

> ID：14683424
> 
> 赞同：0
> 
> 时间：2013-02-04T09:05:29.313
> 
> 标签：dialog, nsis

我使用 nsi 脚本来创建 exe 文件。在安装步骤中，我有一个消息框，如果用户想取消安装，则会显示确认对话框。

```
!define MUI_ABORTWARNING "Are you sure want to abort the installation" 
```

它产生以下消息框：

![在此处输入图像描述](../Images/a85c4092dbce0ccfc95727451b788c11.png)

在此消息框中包含消息框上方的禁用 x 关闭按钮。现在我想删除该 [x] 关闭按钮。

[或] 是否有任何其他消息框可用于执行此工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T17:05:43.230

NSIS 使用普通的[MessageBox](http://msdn.microsoft.com/en-us/library/windows/desktop/ms645505%28v=vs.85%29.aspx)并且只允许您控制按钮。关闭意味着取消/否/中止，这是正常的窗口行为......

要更改这一点，您需要实现自定义对话框并重新编译 NSIS。

# ajax - JQPlot：从外部来源绘制系列和标签

> ID：14683425
> 
> 赞同：2
> 
> 时间：2013-02-04T09:05:35.603
> 
> 标签：ajax, json, jqplot

我正在使用 JQPlot 来生成一个从数据库中提取数据的图表，就像这里的示例[http://www.jqplot.com/tests/data-renderers.php](http://www.jqplot.com/tests/data-renderers.php)一样。

该图表工作正常，但目前系列标签是硬编码的。我怎样才能让这个图表也显示数据库中的系列标签，就像系列一样？我假设我需要对包含标签名称的第二个文件进行新调用，但我不确定该怎么做。有任何想法吗？

这是我正在使用的代码：

```
$(document).ready(function(){
var ajaxDataRenderer = function(url, plot) {
    var ret = null;
    $.ajax({
        async: false,
        url: url,
        dataType:'json',
        success: function(data) {
            ret = data;
        }
    });
   return ret;
};
var jsonurl = "./index.php";
$.jqplot.config.enablePlugins = true;
plot1 = $.jqplot('chart1', jsonurl,{
    dataRenderer: ajaxDataRenderer,
    title: 'Annual Balance Summary',
    legend: {show:true, renderer:$.jqplot.EnhancedLegendRenderer},
    seriesDefaults: {lineWidth:4},
    **series:[{label:'Tilikausi 01/2009 - 12/2009'}, {label:'Tilikausi 01/2010 - 12/2010'}, {label:'Tilikausi 01/2011 - 12/2011'}]**, // THIS ARE THE VALUES I WANT TO BRING FROM THE DATABASE
        showMarker:true,
        pointLabels: { show:true },
    axes: {
        xaxis: {pad:1, numberTicks:12, tickInterval: 1, autoscale:true, tickOptions:{formatString:'%d', fontSize:'10pt', fontFamily:'Tahoma', angle:-40, fontWeight:'normal'}}},
        highlighter: {bringSeriesToFront: true}
        });
}); 
```

index.php 的输出 json 数组，如下所示：

```
[[[0,413010.71],[1,431586.96],[2,418659.56],[3,418776.76],[4,409203.91],[5,392167.56],[6,547296.04],[7,529292.86],[8,523009.35],[9,541452.97],[10,535397.58],[11,555497.48],[12,465849.17]],[[0,465849.17],[1,464569.69],[2,468339.1],[3,471005.39],[4,470786.79],[5,472315.46],[6,492847.16],[7,495973.32],[8,520188.21],[9,550497.27],[10,544294.18],[11,559081.4],[12,479558.69]],[[0,479558.69],[1,467694.94],[2,459592.48],[3,476012.25],[4,463623.8],[5,487588.68],[6,445992.44],[7,457935.72],[8,481076.75],[9,498464.53],[10,508681.42],[11,523928.66],[12,548180.15]]] 
```

系列标签的数组应该是这样的：

```
[["Tilikausi 01\/2009 - 12\/2009"],["Tilikausi 01\/2010 - 12\/2010"],["Tilikausi 01\/2011 - 12\/2011"]] // Array of series labels 
```

提前感谢您的回答！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-07T07:47:38.613

我认为这个关键是让 JSON 结构正确，由`index.php`.

目前你正在返回这个：

```
[[[0,413010.71],[1,431586.96],[2,418659.56],[3,418776.76],[4,409203.91],[5,392167.56],[6,547296.04],[7,529292.86],[8,523009.35],[9,541452.97],[10,535397.58],[11,555497.48],[12,465849.17]],[[0,465849.17],[1,464569.69],[2,468339.1],[3,471005.39],[4,470786.79],[5,472315.46],[6,492847.16],[7,495973.32],[8,520188.21],[9,550497.27],[10,544294.18],[11,559081.4],[12,479558.69]],[[0,479558.69],[1,467694.94],[2,459592.48],[3,476012.25],[4,463623.8],[5,487588.68],[6,445992.44],[7,457935.72],[8,481076.75],[9,498464.53],[10,508681.42],[11,523928.66],[12,548180.15]]] 
```

但是你真正需要的是这样的（`values`为了简洁省略了一些元素）：

```
{
    values: [[[0,413010.71],[1,431586.96],[2,418659.56],[3,418776.76], ... [12,548180.15]]],        
    labels: [["Tilikausi2 01\/2009 - 12\/2009"],["Tilikausi2 01\/2010 - 12\/2010"],["Tilikausi2 01\/2011 - 12\/2011"]]
} 
```

棘手的事情是在创建图表时将标签分配给一个系列。这会导致一个问题，因为它实际上意味着必须在创建图形之前进行 Ajax 调用。

鉴于上述结构的 Json，这样的事情应该可以解决问题：

```
$.jqplot.config.enablePlugins = true;
var jsonurl = "./index.php";
//Get the data prior to creating the graph.
var plotData = ajaxDataRenderer(jsonurl);

//plotData.values is now passed in to be the actual data the plot is created from.
plot1 = $.jqplot('chart1', plotData.values, {
    title: 'Annual Balance Summary',
    legend: {show:true, renderer:$.jqplot.EnhancedLegendRenderer},
    seriesDefaults: {lineWidth:4},
    //The series labels can now be supplied.
    series: plotData.labels,
    showMarker:true,
    pointLabels: { show:true },
    axes: {
        xaxis: {pad:1, numberTicks:12, tickInterval: 1, autoscale:true, tickOptions:{formatString:'%d', fontSize:'10pt', fontFamily:'Tahoma', angle:-40, fontWeight:'normal'}}},
        highlighter: {bringSeriesToFront: true}
}); 
```

**编辑：**

您需要做的另一件事是修改`labels`返回的数组。我们仍在使用该`ajaxDataRenderer`功能，因此在您收到数据后，您需要执行以下操作：

```
for(var i = 0; i < data.labels.length; i++) {
    data.labels[i] = { label: data.labels[i][0] };
} 
```

所有这一切都是在您指定标签时创建 jqplot 所期望的那种对象字面量。

**编辑2：**

如果您的 JSON 看起来像：

```
[[["Tilikausi 01\/2009 - 12\/2009"],["Tilikausi 01\/2010 - 12\/2010"],
  ["Tilikausi 01\/2011 - 12\/2011"]],[[[1,-4308.6],[2,-11725.18],[3,-23253.57],
    ...,[10,-85437.15],[11,-10‌​5465.7],[12,-129859.38]]]] 
```

然后它应该仍然可以工作，但是您需要以不同的方式引用事物。而不是`plotData.values`你会拥有`plotData[1]`，而不是`plotData.labels`你会拥有`plotData[0]`。

此外，标签重新排列代码看起来像：

```
for(var i = 0; i < data[0].length; i++) {
    data[0][i] = { label: data[0][i][0] };
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-25T15:28:43.517

读取 javascript 数组中的值，并使用以下代码片段在图例中显示值：

```
legend:{
    show: true,
    location: 'ne',
    placement: "outside",
    labels: companies
} 
```

# java - 将非常大的整数转换为位向量失败

> ID：14683429
> 
> 赞同：0
> 
> 时间：2013-02-04T09:05:57.607
> 
> 标签：java, overflow, biginteger, bit

```
import java.math.BigInteger;
import java.util.ArrayList;

public class Factorial {

    public static int[] bitVector(int n) {
        ArrayList<Integer> bitList = new ArrayList<Integer>();
        BigInteger input = computeFactorial(n);
        System.out.println(input);
        BigInteger[] result = input.divideAndRemainder(new BigInteger(String.valueOf(2)));
        if (result[0].intValue()==0) {return new int[]{result[1].intValue()};}
        else {
            bitList.add(result[1].intValue());
        }
        while(result[0].intValue() != 0) {
            result = result[0].divideAndRemainder(new BigInteger(String.valueOf(2)));
            bitList.add(result[1].intValue());
        }
        int[] array = new int[bitList.size()];
        for (int i=0; i<array.length; i++) {
            array[i]=bitList.get(i).intValue();
        }
        return array;
    }

    public static BigInteger computeFactorial(int n) {
        if (n==0) {
            return new BigInteger(String.valueOf(1));
        } else {
            return new BigInteger(String.valueOf(n)).multiply(computeFactorial(n-1));
        }
    }

    public static void main(String[] args) {
        int[] bitVector = bitVector(35);
        for (int bit: bitVector)
        System.out.print(bit+" ");
        System.out.println();
    }
} 
```

当输入`bitVector`不大于时，上面的代码可以正常工作`35`。但是，当我`36`作为参数传递给`bitVector`时，输出中除了一位之外的所有内容都消失了。

我可能排除了以下原因：

1.  它可能与 BigInteger 类型无关，因为它被设计为永不溢出。

2.  它可能与仅`380M`在运行时使用的程序的内存使用情况无关。

3.  我打印出 的值`computeFactorial(36)`，看起来不错。

那里到底发生了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:18:56.913

所以你想做的是

```
public static String factorialAsBinary(int n) {
    BigInteger bi = BigInteger.ONE;
    for (; n > 1; n--)
        bi = bi.multiply(BigInteger.valueOf(n));
    return bi.toString(2);
}

public static void main(String... args) {
    String fact36 = factorialAsBinary(36);
    for (char ch : fact36.toCharArray())
        System.out.print(ch + " ");
    System.out.println();
} 
```

哪个打印

1 0 0 0 1 0 0 0 1 0 1 0 0 1 1 0 0 0 0 1 0 1 0 1 1 0 0 1 0 1 1 0 1 1 1 1 0 1 1 1 0 1 0 1 0 0 0 0 0 1 1 1 0 1 0 0 0 0 1 0 0 0 1 0 0 0 1 0 0 1 0 1 0 0 0 0 1 1 1 1 1 0 0 1 1 1 1 0 0 1 1 1 0 1 1 0 0 1 1 1 1 1 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0

> 那里到底发生了什么？

你的代码比它需要的复杂得多，这也使得更容易出错和更难理解。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T09:21:02.790

`result[0].intValue()`是错的：

整数值（）：

*将此 BigInteger 转换为 int。这种转换类似于 Java 语言规范中定义的从 long 到 int 的缩小原语转换：如果这个 BigInteger 太大而无法放入 int，则只返回低 32 位。请注意，此转换可能会丢失有关 BigInteger 值的整体大小的信息，并返回带有相反符号的结果。*

在您的情况下，它返回为零的最低 32 位，因此您在第一次划分后返回 0

# javascript - 在给定的 (x,y) 处查找 DOM 中的元素，并在其上触发 jQuery droppable

> ID：14683430
> 
> 赞同：0
> 
> 时间：2013-02-04T09:06:02.057
> 
> 标签：javascript, jquery, html, jquery-ui-droppable

这是一个两部分的问题，我需要一些帮助。

1.  如果我在页面中只有一个 x,y 位置，我怎样才能获得位于页面内该位置的元素`javascript/jQuery`？可能吗？效率的加分点，尽管相对于给定 DOM 的复杂性......
2.  假设它是 a `Droppable element`，我如何触发`Droppable event`它，并将被拖动到该位置的元素传递给它？

非常感谢

# javascript - 如何在jquery中删除一个空元素？

> ID：14683435
> 
> 赞同：1
> 
> 时间：2013-02-04T09:06:29.760
> 
> 标签：javascript, jquery, html

我有一个应用程序，我将值存储在本地存储中。默认情况下，我的第一个值为 null，因此运行代码时出错，因此我想删除第一个元素并继续进程。谁能帮我从列表中删除第一个元素？

我的一段代码如下：

```
var str = localStorage.getItem("appidlist");
var mySplitResult = str.split(",");
for(var i = 0; i < mySplitResult.length; i++) {
   if (.....) {
      .
      .
   }    

} 
```

**str**返回 null , 1,2,3,..... 我希望我的问题很清楚，任何人都可以帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:14:06.453

这也应该有效：

```
var str = localStorage.getItem("appidlist");
var mySplitResult = str.split(",");
mySplitResult.splice(0, 1); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:15:54.270

您可以使用[`.shift()`](http://www.w3schools.com/jsref/jsref_shift.asp).

```
mySplitResult.shift() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:09:15.097

这应该可以解决问题：

```
var str = localStorage.getItem("appidlist");
var mySplitResult = str.split(",").splice(1); // Remove the first item.
for(var i = 0; i < mySplitResult.length; i++) {
    // Stuff
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-04T09:17:04.450

`shift()`我建议您创建一个返回新的干净数组的函数，而不是使用该函数。这甚至可以解决存在多个（并且在任何位置）`null`值的情况。

[您可以使用此解决方案](https://stackoverflow.com/a/281335/1498857)

# javascript - window.onunload() 在 Firefox 中不起作用？在IE中工作？

> ID：14683436
> 
> 赞同：0
> 
> 时间：2013-02-04T09:06:33.990
> 
> 标签：javascript, jquery, javascript-events

谁能告诉我如何在 Firefox 中触发**window.onunload**事件？

我的 Java 脚本是，

```
window.onunload = function () {
        logout();
}; 
```

当我的应用程序关闭时，我需要注销聊天会话。

有任何替代的**Jquery**吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T09:52:37.763

感谢 Jan Hančič。

**通过将异步**输入更改为**同步**调用请求，我得到了 Firefox 中 onunload 的解决方案。

而且它运作良好...

# printing - ghostpcl mswinpr2

> ID：14683442
> 
> 赞同：1
> 
> 时间：2013-02-04T09:07:02.447
> 
> 标签：printing, gdi, ghostscript, printer-control-language

我无法通过 ghostpcl 将 pcl 文件打印到 gdi 打印机。在某些论坛上，建议的解决方案是将 mswinpr2 设置为输出设备。这应该为 Windows 打印机生成 GDI 输出。问题是，ghostpcl 中似乎没有内置 mswinpr2。运行ghostpcl时-？没有列出这样的设备。任何人都可以澄清这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:31:21.383

我不确定您使用的是什么版本，但对我来说，可执行文件称为 pcl6.exe，而不是 ghostpcl。在任何情况下，默认情况下，mswinpr2 设备都不会内置到 PCL 解释器中。虽然它可以与 PCL 解释器一起使用，但这取决于设备的编写方式。如果你想使用它，你必须从源代码构建 GhostPCL。

# javascript - 使用警报时 Javascript 日期显示错误的值

> ID：14683443
> 
> 赞同：0
> 
> 时间：2013-02-04T09:07:02.687
> 
> 标签：javascript

> **可能重复：**
> [javascript 创建日期错误的月份](https://stackoverflow.com/questions/12254333/javascript-is-creating-date-wrong-month)

在我的代码中，我`Date`通过这一行创建：

```
var date = new Date('2012', '01', '20') 
```

然后使用：

```
alert(date); 
```

我得到结果：

![在此处输入图像描述](../Images/afcddccff40e8a9c4dc1a36b9e1b3676.png)

我真的不明白为什么不是一月而不是二月？

jsfiddle：http: [//jsfiddle.net/U5m8N/](http://jsfiddle.net/U5m8N/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:13:22.757

的“月”部分`var date = new Date('2012', '01', '20');`是零索引的。

从 开始计数`0`，你就得到了你的月份。（所以，一月是`0`，二月`1`等）

此外，虽然 JavaScript 确实接受字符串作为参数，但您应该使用整数，如文档所示：

**[日期文档](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date#Parameters)**

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-04T09:12:53.620

Javascript 日期对象的月份为 0 索引。[http://www.w3schools.com/jsref/jsref_obj_date.asp](http://www.w3schools.com/jsref/jsref_obj_date.asp)。一月用 0 代替 1

# xml - 使用 XSLT 将多个 XML 文件附加到单个 .csv 文件

> ID：14683444
> 
> 赞同：0
> 
> 时间：2013-02-04T09:07:04.207
> 
> 标签：xml, xslt

假设我的程序正在处理一些数据，输出是一个 XML 文件。无论如何，我可以将基于我的 XSLT 格式的数据附加到单个 csv 中而不会覆盖以前的数据？

目前我有以下情况

```
试验一：
输出 = a.xml & 在 XSLT 之后，输出 = a.csv，数据为 1,2,3,4,5
试验二：
输出 = b.xml & 在 XSLT 之后，输出 = b.csv，数据为 6,7,8,9,0
```

其实我想要的是：-

```
试验一：
输出 = a.xml & 在 XSLT 之后，输出 = a.csv，数据为 1,2,3,4,5
试验二：
输出 = b.xml & 在 XSLT 之后，输出 = b.csv 和数据（下）
1,2,3,4,5
6,7,8,9,0
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:18:33.833

不确定您的 xml 是什么样的。尝试使用 output method="text" 并为所有元素使用条形空间。

然后对于您希望用逗号分隔的每个元素或属性，使用 xsl 文本。

逗号的文本是这样的：

```
<xsl:text>&#xD;</xsl:text> 
```

# linux - 如何通过文件名获取 NAND 中的真实文件偏移量？

> ID：14683460
> 
> 赞同：0
> 
> 时间：2013-02-04T09:08:09.513
> 
> 标签：linux, file-access, flash-memory, jffs2

使用 linux，我可以使用对 NAND 的原始访问或通过文件系统访问文件。那么，当我需要知道我的文件在 NAND 中的真正位置时，我应该怎么做？我找不到任何提供此功能的实用程序。此外，我无法检测到任何这种可能性，除了用大量“printk”破解内核（我猜这不是好方法）。有人可以启发我吗？（我正在使用 YAFFS2 和 JFFS2 文件系统）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-28T15:47:42.503

您可以使用 复制任何分区`nanddump`。将该分区转储传输到 PC。nandsim*实用*程序可用于在 PC 上挂载分区。

```
modprobe nandsim first_id_byte=0x2c second_id_byte=0xda \
   third_id_byte=0x90 fourth_id_byte=0x95 parts=2,64,64
flash_erase /dev/mtd3 0 0
ubiformat /dev/mtd3 -f rootfs.ubi 
```

此命令模拟具有四个分区的美光 256MB NAND 闪存。如果您只捕获单个分区而不是整个设备，请不要设置部分。您也可以`nanddump`在每个分区上执行，然后将它们全部连接起来。此代码针对具有 UbiFs 分区的**mtd3 。**对于**JFFS2**或**YAFFS2**，您可以在 PC 上尝试`nandwrite`或其他一些合适的刷机工具。

> 如何通过文件名获取 NAND 中的真实文件偏移量？

这些文件可能跨越多个*NAND 扇区*，而且它们几乎从不连续。将文件数据保存在一起并没有太大的优势，因为没有磁盘头需要物理时间来*寻找*。一些闪存的顺序读取效率略高；而其他闪存将为从另一个擦除块读取提供更好的性能。

我会在 MTD 层或文件系统中打开*调试。*在实时系统中，文件的位置可能会随着时间在闪存上迁移，即使它**没有**被写入。这是主动磨损均衡。

# facebook - 我应该修改或删除哪些操作以使我的应用程序为“2013 年 2 月重大变更”做好准备？

> ID：14683462
> 
> 赞同：1
> 
> 时间：2013-02-04T09:08:12.483
> 
> 标签：facebook, action, facebook-opengraph

我们正在 Facebook 上开发一个应用程序，它使用 FB Open Graph API 发布到用户的时间线。我们使用这些操作： ![评论、创建、查找、关注、爱和试穿。](../Images/3173496cb084268c5b85199ae18c5649.png)

今天我收到了一封关于“2013 年 2 月重大变化”的电子邮件提醒 ( [https://developers.facebook.com/roadmap/#february-2013](https://developers.facebook.com/roadmap/#february-2013) )。

问题是我没有弄清楚我需要修改/删除哪些操作才能使我的应用程序兼容。

# c# - 找到第一和第三四分位数

> ID：14683467
> 
> 赞同：6
> 
> 时间：2013-02-04T09:08:38.467
> 
> 标签：c#, math

我想要做的是得到我数字的每一半的中间。所以我已经创建的是一种在此处获取数字中间值（数学中的中位数）的方法；

```
 public static String Find_Median()
    {
        double Size = list.Count;
        double Final_Number = 0;
        if (Size % 2 == 0)
        {
            int HalfWay = list.Count / 2;
            double Value1 = Convert.ToDouble(list[HalfWay - 1].ToString());
            double Value2 = Convert.ToDouble(list[HalfWay - 1 + 1].ToString());
            double Number = Value1 + Value2;
            Final_Number = Number / 2;
        }
        else
        {
            int HalfWay = list.Count / 2;
            double Value1 = Convert.ToDouble(list[HalfWay].ToString());
            Final_Number = Value1;
        }
        return Convert.ToString(Final_Number);
    } 
```

这得到了列表中所有数字的确切中间数字，即使它到达中间它也会做那个数学。我想在双方都这样做；这是一个例子；

```
3 2 1 4 5 6 
```

该列表的中间值（中位数）是 3.5。我想用数学来找到 2，它位于等式的开始和中间。在 IQR 中也称为 Q1。我还想知道如何找到中位数（中间）和结尾之间的中间数，即 5。

![在此处输入图像描述](../Images/3b87ca4f43ca2deb0431c6e5d1c6e97a.png)

IE 所以我可以找到 70,80 和 90 的代码。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-01-09T00:31:17.543

我刚刚遇到了同样的问题，并检查了[Quartile 的维基百科条目](http://en.wikipedia.org/wiki/Quartile)，它比最初出现的要复杂一些。

我的方法如下：（这似乎适用于所有情况，N=1 起）...

```
 /// <summary>
/// Return the quartile values of an ordered set of doubles
///   assume the sorting has already been done.
///   
/// This actually turns out to be a bit of a PITA, because there is no universal agreement 
///   on choosing the quartile values. In the case of odd values, some count the median value
///   in finding the 1st and 3rd quartile and some discard the median value. 
///   the two different methods result in two different answers.
///   The below method produces the arithmatic mean of the two methods, and insures the median
///   is given it's correct weight so that the median changes as smoothly as possible as 
///   more data ppints are added.
///    
/// This method uses the following logic:
/// 
/// ===If there are an even number of data points:
///    Use the median to divide the ordered data set into two halves. 
///    The lower quartile value is the median of the lower half of the data. 
///    The upper quartile value is the median of the upper half of the data.
///    
/// ===If there are (4n+1) data points:
///    The lower quartile is 25% of the nth data value plus 75% of the (n+1)th data value.
///    The upper quartile is 75% of the (3n+1)th data point plus 25% of the (3n+2)th data point.
///    
///===If there are (4n+3) data points:
///   The lower quartile is 75% of the (n+1)th data value plus 25% of the (n+2)th data value.
///   The upper quartile is 25% of the (3n+2)th data point plus 75% of the (3n+3)th data point.
/// 
/// </summary>
internal Tuple<double, double, double> Quartiles(double[] afVal)
{
    int iSize = afVal.Length;
    int iMid = iSize / 2; //this is the mid from a zero based index, eg mid of 7 = 3;

    double fQ1 = 0;
    double fQ2 = 0;
    double fQ3 = 0;

    if (iSize % 2 == 0)
    {
        //================ EVEN NUMBER OF POINTS: =====================
        //even between low and high point
        fQ2 = (afVal[iMid - 1] + afVal[iMid]) / 2;

        int iMidMid = iMid / 2;

        //easy split 
        if (iMid % 2 == 0)
        {
            fQ1 = (afVal[iMidMid - 1] + afVal[iMidMid]) / 2;
            fQ3 = (afVal[iMid + iMidMid - 1] + afVal[iMid + iMidMid]) / 2;
        }
        else
        {
            fQ1 = afVal[iMidMid];
            fQ3 = afVal[iMidMid + iMid];
        }
    }
    else if (iSize == 1)
    {
        //================= special case, sorry ================
        fQ1 = afVal[0];
        fQ2 = afVal[0];
        fQ3 = afVal[0];
    }
    else
    {
        //odd number so the median is just the midpoint in the array.
        fQ2 = afVal[iMid];

        if ((iSize - 1) % 4 == 0)
        {
            //======================(4n-1) POINTS =========================
            int n = (iSize - 1) / 4;
            fQ1 = (afVal[n - 1] * .25) + (afVal[n] * .75);
            fQ3 = (afVal[3 * n] * .75) + (afVal[3 * n + 1] * .25);
        }
        else if ((iSize - 3) % 4 == 0)
        {
            //======================(4n-3) POINTS =========================
            int n = (iSize - 3) / 4;

            fQ1 = (afVal[n] * .75) + (afVal[n + 1] * .25);
            fQ3 = (afVal[3 * n + 1] * .25) + (afVal[3 * n + 2] * .75);
        }
    }

    return new Tuple<double, double, double>(fQ1, fQ2, fQ3);
} 
```

**有很多方法可以计算四分位数：**

`Quartile(array, type=8)`我在这里尽我所能来实现R 文档中描述为 type = 8 的四分位数版本： [https](https://www.rdocumentation.org/packages/stats/versions/3.5.1/topics/quantile) ://www.rdocumentation.org/packages/stats/versions/3.5.1/topics/quantile 。[此处描述](https://robjhyndman.com/hyndsight/sample-quantiles-20-years-later/)的 R 函数的作者更喜欢这种方法，因为它可以在值之间产生更平滑的过渡。但是，R 默认使用方法 7，这与 S 和 Excel 使用的函数相同。

如果您只是在谷歌上搜索答案，而不考虑输出的含义或您想要达到的结果，这可能会给您带来惊喜。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-04T09:20:49.517

在以下列表中运行相同的方法：

```
list1 = list.Where(x => x < Median)
list2 = list.Where(x => x > Median) 
```

`Find_Median(list1)`将返回第一个四分位数， `Find_Median(list2)`将返回第三个四分位数

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-07-10T11:59:18.190

我知道这是一个老问题，所以我争论了一会儿是否应该添加下面的答案，并且由于投票最多的答案与 Excel 四分位数的数字不匹配，我决定在下面发布答案。

当我试图绘制直方图并创建 bin 宽度和范围时，我还需要找到第一和第三四分位数，我使用的是 Freedman–Diaconis 规则，该规则需要知道第一和第三四分位数。我从[迈克的回答](https://stackoverflow.com/a/21009506/1718305)开始。

但是在数据验证过程中，我注意到结果与 Excel 中计算四分位数的方式和使用[Ploltly](https://plot.ly/javascript/)创建的直方图不匹配，所以我进一步挖掘并偶然发现了以下两个链接：

*   [C# 描述性统计类](https://www.codeproject.com/Articles/27340/A-User-Friendly-C-Descriptive-Statistic-Class)
*   [统计](http://highered.mheducation.com/sites/dl/free/0073373605/582608/Chap001.ppt)- 检查幻灯片 12

第二个链接中的幻灯片 12 状态“第 P 个百分位数的位置由 给出`(n + 1)P/100`，其中 n 是集合中的观察数。”

[因此，来自C# Descriptive Statistic Class](https://www.codeproject.com/Articles/27340/A-User-Friendly-C-Descriptive-Statistic-Class)的等效 C# 代码是：

```
 /// <summary>
    /// Calculate percentile of a sorted data set
    /// </summary>
    /// <param name="sortedData"></param>
    /// <param name="p"></param>
    /// <returns></returns>
    internal static double Percentile(double[] sortedData, double p)
    {
        // algo derived from Aczel pg 15 bottom
        if (p >= 100.0d) return sortedData[sortedData.Length - 1];

        double position = (sortedData.Length + 1) * p / 100.0;
        double leftNumber = 0.0d, rightNumber = 0.0d;

        double n = p / 100.0d * (sortedData.Length - 1) + 1.0d;

        if (position >= 1)
        {
            leftNumber = sortedData[(int)Math.Floor(n) - 1];
            rightNumber = sortedData[(int)Math.Floor(n)];
        }
        else
        {
            leftNumber = sortedData[0]; // first data
            rightNumber = sortedData[1]; // first data
        }

        //if (leftNumber == rightNumber)
        if (Equals(leftNumber, rightNumber))
            return leftNumber;
        double part = n - Math.Floor(n);
        return leftNumber + part * (rightNumber - leftNumber);
    } // end of internal function percentile 
```

测试用例（用 Visual Studio 2017 编写）：

```
 static void Main()
    {
        double[] x = { 18, 18, 18, 18, 19, 20, 20, 20, 21, 22, 22, 23, 24, 26, 27, 32, 33, 49, 52, 56 };
        var q1 = Percentile(x, 25);
        var q2 = Percentile(x, 50);
        var q3 = Percentile(x, 75);
        var iqr = q3 - q1;

        var (q1_mike, q2_mike, q3_mike) = Quartiles(x); //Uses named tuples instead of regular Tuple
        var iqr_mike = q3_mike - q1_mike;
    } 
```

结果比较：

您会注意到结果与幻灯片 12中提到的[统计理论相匹配。](http://highered.mheducation.com/sites/dl/free/0073373605/582608/Chap001.ppt)

*   从代码：

[![四分位数比较](../Images/892085995f11c3c70ccaf4bb81026a22.png)](https://i.stack.imgur.com/xCfT9.png)

*   来自 excel（匹配 q1、q2 和 q3 值）

[![excel中的结果相同](../Images/9d5286c9dd7078764ef964027762ed1b.png)](https://i.stack.imgur.com/LO3jg.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-09-11T18:02:58.137

一种可以调整的快捷方式

```
var q3 = table.Skip(table.Length * 3 / 4).Take(1);
var q1 = table.Skip(table.Length * 1 / 4).Take(1); 
```

# python - 我可以在 python 的 webob 中传递 HttpRedirection 或 HttpFound 中的字典吗？

> ID：14683468
> 
> 赞同：1
> 
> 时间：2013-02-04T09:08:38.723
> 
> 标签：python, routes, http-redirect, webob

我正在尝试将字典传递给 HttpRedirect 或 HttpFound 方法，以便我可以在重定向的 url 处使用该字典。

我正在使用路由模块进行 url 连接，并使用cherrypy 和 webob 进行 Https。

我想这样做 return HttpRedirect(location=location, mydict)

其中 HttpRedirect 扩展了 webob 的 HttpFound

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:22:06.187

你有（至少）两种方式

1.  `HttpRedirect(mydict, location=location)`or `HttpRedirect(httpdict=mydict, location=location)`: 明确地将字典作为位置参数或关键字参数传递，然后访问字典
2.  使用更抽象和更灵活的方法来实现类似这样的东西`HttpRedirect(location=location, **kargs)`，然后传递`mydict`do `HttpRedirect(location=location, **mydic)`。

有关位置和关键字参数的简短教程，请阅读[此处](http://agiliq.com/blog/2012/06/understanding-args-and-kwargs/)

# function - php头函数

> ID：14683473
> 
> 赞同：0
> 
> 时间：2013-02-04T09:09:01.587
> 
> 标签：function, redirect, header, timing

我可以使用时间点吗？

就像是：

```
header('refresh:1.5; url=xxx'); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:10:32.993

是的，您可以使用：

```
header('refresh: 2; url=someurl.php'); 
```

时间在哪里`3`，以秒为单位。更多信息`header`可以在[这里](http://php.net/manual/en/function.header.php)找到。

但无论如何，我总是提倡组合以避免某些浏览器出现问题：

*   标题（正如你所做的那样）
*   元标记（在 HTML 头部）
*   JavaScript 超时

使用时，`header`我认为您不能使用像`1.5`. 无论如何，我怀疑任何用户都注意到`2`和`1.5`秒之间的区别。但如果这对您很重要，您可以使用 JavaScript 超时来实现。

**重定向方式**

元标记：

```
<meta http-equiv="refresh" content="2;url=http://www.yourwebsite.com/someurl.php"> 
```

JavaScript：

```
setTimeout(function() {
   window.location = "http://www.yourwebsite.com/someurl.php";
}, 1500); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:11:31.913

标头（“刷新：5；url=wherever.php”）；

参考： http: [//php.net/manual/en/function.header.php](http://php.net/manual/en/function.header.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:11:51.840

是的，你可以，但在任何标头已经发送之前：请记住，header() 必须在发送任何实际输出之前调用，无论是通过普通 HTML 标记、文件中的空白行还是从 PHP。使用 include 或 require 函数或其他文件访问函数读取代码并在调用 header() 之前输出空格或空行是一个非常常见的错误。使用单个 PHP/HTML 文件时也存在同样的问题。 [http://php.net/manual/en/function.header.php](http://php.net/manual/en/function.header.php)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-04T09:13:08.147

如果您需要 1 到 2 秒之间的时间，您可以使用 1.5，正如您在问题中声明的那样。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-04T09:20:29.207

`refresh`不是 HTTP 标准的一部分。它是由 Netscape 引入并由其他浏览器实现的遗留方法。即使它适用于一种浏览器，您也不能确定它适用于所有浏览器。

W3C 不鼓励使用它，有关详细信息，请参阅[此 Wikipedia 文章](http://en.wikipedia.org/wiki/HTTP_refresh)。尤其是“缺点”和“替代方案”部分很有趣。

我更喜欢使用它`header('refresh ...')`：

```
usleep(1500000);
header("Location: xxx"); 
```

这将发送一个干净的 302 重定向，并确保它符合 HTTP 并适用于每个浏览器。

# c# - 如何将数据从 UTF-8 转换为 ISO-8859-1 而没有任何断字符

> ID：14683484
> 
> 赞同：1
> 
> 时间：2013-02-04T09:09:42.560
> 
> 标签：c#, html, encoding, utf-8, iso-8859-1

我尝试使用 UTF-8 编码将 html 数据导出到数据库。但我在数据库中看到一些“断字符”。例如：

在导出 html 数据时

· 一个贡献.....

· 两者之间的选择......

使用 UTF-8 进入数据库。数据中的 (.)midpoint 转换为 (Â.)。我需要通过删除 c# 中的损坏字符将数据显式转换为 ISO-8859-1。有什么办法吗？提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:17:34.817

有一种方法可以指定要调用的方法，以便在编码和解码时处理坏字符。您可以替换其他字符，或引发异常，或提供日志记录等。

有关详细信息，请参阅[GetEncoding()](http://msdn.microsoft.com/en-us/library/89856k4b.aspx)的此重载。

# mysql - 基于标签的 SQL 查询

> ID：14683485
> 
> 赞同：2
> 
> 时间：2013-02-04T09:09:49.160
> 
> 标签：mysql, sql, many-to-many, subquery

自从我执行任何 SQL 以来已经有一段时间了，我不确定这个问题是否有一个简单的解决方案。我也是一个菜鸟。

我正在尝试整理一个图片库，允许用户使用标签来搜索图片，然后单击其他标签来优化搜索并减少结果数量，但我对所涉及的查询有很大的问题。

这是我当前数据库结构的简化版本：

（2个表和一个额外的多对多链接表）

```
CREATE TABLE images(
   image_id INT(12) AUTO_INCREMENT,
   image_name VARCHAR(128),
   PRIMARY KEY(image_id)
)ENGINE= INNODB;

CREATE TABLE tags(
   tag_name VARCHAR(64) NOT NULL,
   PRIMARY KEY(tag_name)
)ENGINE= INNODB;

CREATE TABLE images_tags_link(
   image_id_fk INT(12),
   tag_name_fk VARCHAR(64) NOT NULL,
   PRIMARY KEY(image_id_fk,tag_name_fk),
   FOREIGN KEY(image_id_fk) REFERENCES images(image_id),
   FOREIGN KEY(tag_name_fk) REFERENCES tags(tag_name)
)ENGINE= INNODB; 
```

样本数据：

```
 ===images===
 ___________________________       
| image_id |  image_name    |     
|----------|----------------|     
|     1    |  image_001.jpg |     
|     2    |  image_002.jpg |     
|     3    |  image_003.png |     
|     4    |  image_004.jpg |     
|     5    |  image_005.gif |     
 ---------------------------                                     
 ===tags===                                 
 _______________
|    tag_name   |
|---------------|
| Landscape     |
| Portrait      |
| Illustration  |
| Photo         |
| Red           |
| Blue          |
| Character     |
| Structure     |
 ---------------
===images_tags_link===
 ________________________________
| image_id_fk | tag_name_ fk     |
|-------------|------------------|
|      1      |    Landscape     |
|      1      |    Illustration  |
|      1      |    Blue          |
|      2      |    Blue          |
|      2      |    structure     |
|      2      |    Landscape     |
|      3      |    Illustration  |
|      4      |    Red           |
|      4      |    Portrait      |
|      4      |    Character     |
|      5      |    Blue          |
|      5      |    Photo         |
 -------------------------------- 
```

我的问题是以下查询：

我正在寻找一个可以从具有所有用户列出的标签的 IMAGES 表中选择所有“图像名称”的单个查询，例如，用户可以搜索应该只输出图像名称“图像_001”的“蓝色”和“风景”标签.jpg'和'image_002.jpg'。

===输入===

用户选择的标签：（'蓝色'，'风景'）

===输出===

具有所有列出的标签的图像名称：（'image_001.jpg'，'image_002.jpg'）

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T09:12:42.943

这就是他们所说的[*Relation Division*](http://www.simple-talk.com/sql/t-sql-programming/divided-we-stand-the-sql-of-relational-division/)，这是一种方法：

```
SELECT i.*
FROM Images i 
INNER JOIN
(
   SELECT image_id_fk
   FROM images_tags_link
   WHERE tag_name_fk IN ('Blue' , 'Landscape')
   GROUP BY image_id_fk 
   HAVING COUNT(DISTINCT tag_name_fk) = 2
) t ON i.image_id = t.image_id_fk; 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!2/18422/1)

这会给你：

```
| IMAGE_ID |    IMAGE_NAME |
----------------------------
|        1 | image_001.jpg |
|        2 | image_002.jpg | 
```

这个查询背后的想法是：

```
 GROUP BY image_id_fk 
   HAVING COUNT(DISTINCT tag_name_fk) = 2 
```

在子查询中，这将确保任何图像都有两个标签，如果它只有一个，`COUNT`则将为 0，因此将被淘汰。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T09:16:15.953

2个简单的方法来做到这一点。

以下任一项，具体取决于所需的列、可能的标签数量等。

```
SELECT *
FROM images
INNER JOIN images_tags_link a ON images.image_id = a.image_id_fk AND a.tag_name_fk = 'Blue'
INNER JOIN images_tags_link b ON images.image_id = b.image_id_fk AND b.tag_name_fk = 'Landscape'

SELECT images.image_id, images.image_name, COUNT(*) AS tag_count
FROM images
INNER JOIN images_tags_link a ON images.image_id = a.image_id_fk 
WHERE a.tag_name_fk IN ('Blue', 'Landscape')
GROUP BY images.image_id, images.image_name
HAVING tag_count = 2 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-04T09:18:02.523

这是另一个使用 EXISTS 的示例：

```
SELECT *
FROM Images I
WHERE EXISTS (
   SELECT image_id_fk
   FROM Images_Tags_Link I2 
   WHERE I2.image_id_fk = I.Image_Id
      AND tag_name_fk IN ('Blue' , 'Landscape')
   GROUP BY I2.image_id_fk
   HAVING COUNT(DISTINCT I2.tag_name_fk) > 1) 
```

还有一个使用 IN：

```
SELECT *
FROM Images I
WHERE Image_Id IN (
   SELECT image_id_fk
   FROM Images_Tags_Link I2 
   WHERE I2.image_id_fk = I.Image_Id
      AND tag_name_fk IN ('Blue' , 'Landscape')
   GROUP BY I2.image_id_fk
   HAVING COUNT(DISTINCT I2.tag_name_fk) > 1) 
```

祝你好运。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-04T09:36:06.697

### 试试这个更简单的方法

* * *

> 从 images_tags_link 中选择
> image_name ，其中 tag_name_fk in ('Blue','Landscape')

# asp.net-mvc-3 - MVC3 TextBoxFor 日期为美国格式。想要英国格式

> ID：14683490
> 
> 赞同：0
> 
> 时间：2013-02-04T09:10:21.317
> 
> 标签：asp.net-mvc-3, datetime, model

在我的模型中，我使用两个日期属性，开始日期和结束日期。我已将这两个属性映射到两个 TextBoxFor 文本框。当页面加载时，这两个日期是美国格式，但我希望它是英国格式。

```
 @model UserManager.Models.vw_Group_Model
@{
    ViewBag.Title = "Edit Group";
}
@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)
    <div id="edit-user" style="padding:25px;">
        <fieldset>
            <legend>Edit group details</legend>

            @* <div class="editor-label">
                @Html.LabelFor(model => model.companyId)
            </div>*@
           @* <div class="editor-field">
                @Html.EditorFor(model => model.companyId)  - Non editable
                @Html.ValidationMessageFor(model => model.companyId)
            </div>*@
            <div class="editor-label">
                @Html.LabelFor(model => model.RowType)
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(model => model.RowType, new { @readonly = "readonly" })  - Non editable
                @Html.ValidationMessageFor(model => model.RowType)
            </div>
            <div class="editor-label">
                @Html.LabelFor(model => model.groupName)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.groupName) 
                @Html.ValidationMessageFor(model => model.groupName)
            </div>
            <div class="editor-label">
                @Html.LabelFor(model => model.companyName)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.companyName)  - Non editable
                @Html.ValidationMessageFor(model => model.companyName)
            </div>
          @*  <div id="hiddenSelection">
                @Html.HiddenFor(model => model.selected_company, new { id = "hdnCompany" }) 
                  @Html.HiddenFor(model => model.selected_group, new { id = "hdnGroup" }) 
            </div>*@
            @*<fieldset style="width: 400px; padding-left: 15px;">
                <legend>New company</legend>
                <div id="createuser-companysearch">
                    @{Html.RenderAction("_txtAutocompleteCompanySearch", "GroupManager");}
                </div>
            </fieldset>*@

            @* <fieldset style="width: 400px; padding-left: 15px;">
                <legend>New group</legend>
                <div id="createuser-groupsearch">
                    @{Html.RenderAction("_txtGroupSearchForm", "GroupManager");}
                </div>
            </fieldset>*@
            <div class="editor-label">
                @Html.LabelFor(model => model.StartDate)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.StartDate)
                @Html.ValidationMessageFor(model => model.StartDate)
            </div>
            <div class="editor-label">
                @Html.LabelFor(model => model.EndDate)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.EndDate)
                @Html.ValidationMessageFor(model => model.EndDate)
            </div>
            <div class="editor-label">
                @Html.LabelFor(model => model.IsActive)
            </div>
            <div class="editor-field">
                @Html.CheckBoxFor(model => model.IsActive)
                @Html.ValidationMessageFor(model => model.IsActive)
            </div>
            <p>
                <input type="submit" value="Edit" />
            </p>
            @Html.ValidationSummary()
            <br />
            @Html.ActionLink("Back to Group Manager Dashboard", "Index")
        </fieldset>
    </div>
}
<script type="text/javascript">

    $(document).ready(function () {
//        chkSelection();

        // Non editable fields grey
        $("#oldCompanyName").css("background-color", "gray");
        $("#oldGroupName").css("background-color", "gray");
        $("#RowType").css("background-color", "gray");

        // Assume group name already exists based on it being a value loaded from model
        var valueCompany = $("#oldCompanyName").val();
//        $("#hdnCompany").val(valueCompany);
        $('#selected_company').val(valueCompany);

        var valueGroup = $("#oldGroupName").val();
//        $("#hdnGroup").val(valueGroup);
//        $('#groupName').val(valueGroup);
        $('#txtGroupnameExistsAlf').css("background-color", "#33ff00").val('ALF group does exist');
        $('#txtGroupnameExistsBrad').css("background-color", "#33ff00").val('BRAD group does exist');

        var rowType = $('#RowType').val();
        if (rowType == "ALF") {

            var company = $('#companyName').val();
            $("#company_name").val(company);
            $('#txtCompanynameExistsAlf').css("background-color", "#F7D358").val('Company does exist');

        }
        else {
            var company = $('#companyName').val();
            $("#company_name").val(company);
            $('#txtCompanynameExistsBrad').css("background-color", "#F7D358").val('Company does exist');

        }

    });

</script>

@*
  $("#groupName").autocomplete({
        source: function (request, response) {
            $.ajax({
                url: '@Url.Action("LookUpGroupName", "UserManager")',
                dataType: "json",
                data: {
                    featureClass: "P",
                    style: "full",
                    maxRows: 12,
                    value: request.term
                },
                success: function (data) {
                    response($.map(data, function (item) {
                        //                            alert(item.group);
                        return {
                            label: item.group,
                            value: item.group
                        } // end of return

                    })); // end of response

                }, // end of success
                error: function (jqXHR, textStatus, errorThrown) {
                    alert(textStatus);
                } // end of error
            }); // end of ajax
        },
        minLength: 2,
        select: function (event, ui) { // Assign to hidden values to trigger onchange ajax call.

            $.ajax({
                url: '@Url.Action("GroupnameCheck", "UserManager")',
                dataType: "json",
                data: {
                    featureClass: "P",
                    style: "full",
                    maxRows: 12,
                    value: ui.item.label
                },
                success: function (data) {
                    $.each(data, function (index, value) {
                        if (index == "AlfGroup") {
                            $("#txtGroupnameExistsAlf").val(value);
                            if ($("#txtGroupnameExistsAlf").val() == "Alf Group doesn't exist.") {
                                $("#txtGroupnameExistsAlf").css("background-color", "red");
                            }
                            else {
                                $('#txtGroupnameExistsAlf').css("background-color", "#33ff00");
                            }
                        }

                        if (index == "BradGroup") {
                            $("#txtGroupnameExistsBrad").val(value);
                            if ($("#txtGroupnameExistsBrad").val() == "Brad Group doesn't exist.") {
                                $("#txtGroupnameExistsBrad").css("background-color", "red");
                            }
                            else {
                                $('#txtGroupnameExistsBrad').css("background-color", "#33ff00");
                            }
                        }
                        var selectedVal = $("#groupName").val();
                        $('#hdnGroup').val(selectedVal);

                    });
                }, // end of success
                error: function (jqXHR, textStatus, errorThrown) {
                    alert(textStatus);
                } // end of error
            }); // end of ajax

            $('#hdnGroupAlf').val(ui.item.label);
            $('#hdnGroupBrad').val(ui.item.label);
        },
        open: function () {
            $(this).removeClass("ui-corner-all").addClass("ui-corner-top");
        },
        close: function () {
            $(this).removeClass("ui-corner-top").addClass("ui-corner-all");
        }
    });

    $("#selected_company").autocomplete({
        source: function (request, response) {
            $.ajax({
                url: '@Url.Action("LookUpCompanyName", "GroupManager")',
                dataType: "json",
                data: {
                    featureClass: "P",
                    style: "full",
                    maxRows: 12,
                    value: request.term + ":" + $('#RowType').val()
                },
                success: function (data) {
                    response($.map(data, function (item) {
                        //                            alert(item.group);
                        return {
                            label: item.group,
                            value: item.group
                        } // end of return

                    })); // end of response

                }, // end of success
                error: function (jqXHR, textStatus, errorThrown) {
                    alert(textStatus);
                } // end of error
            }); // end of ajax
        },
        minLength: 2,
        select: function (event, ui) { // Assign to hidden values to trigger onchange ajax call.
            $('#hdnCompany').val(ui.item.label);
        }
    });

    function chkSelection() {
        if($('#RowType').text() == "ALF") {
            $('#companyname-checker-brad').hide();
            $('#groupname-checker-brad').hide();
        }
        else {
            $('#companyname-checker-alf').hide();
            $('#groupname-checker-alf').hide();
        }

    }*@ 
```

**模型**

```
 [Required(ErrorMessage = "Start Date is a required field")]
        //[Display(Name = "Start Date")]
        //[DataType(DataType.Date)]
        //[DisplayFormat(DataFormatString = "{0:dd/MM/yyyy}", ApplyFormatInEditMode = true)]
        public DateTime StartDate { get; set; }

        [Required(ErrorMessage = "End Date is a required field")]
        //[Display(Name = "End Date")]
        //[DataType(DataType.Date)]
        //[DisplayFormat(DataFormatString = "{0:dd/MM/yyyy}", ApplyFormatInEditMode = true)]
        public DateTime EndDate { get; set; } 
```

目前日期在页面上显示如下：

```
01/01/0001 
```

有谁知道如何改变这个？最好是快速修复。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T12:09:59.690

我最终编写了这个 javascript 来拆分日期字符串，然后按照我想要的方式重新排列它。

```
 function dateFormater() {
        var date = $('#StartDate').val()
        var arrDate = date.split("/");
        $('#StartDate').val(arrDate[1] + "/" + arrDate[0] + "/" + arrDate[2]);

        date, arrDate = null;

        date = $('#EndDate').val()
        arrDate = date.split("/");
        $('#EndDate').val(arrDate[1] + "/" + arrDate[0] + "/" + arrDate[2]);
    }; 
```

# java - Adobe Flex 在 Linux(ubuntu 11.04) 中使用 Eclipse helios IDE

> ID：14683494
> 
> 赞同：0
> 
> 时间：2013-02-04T09:10:26.253
> 
> 标签：java, apache-flex, eclipse-plugin, ubuntu-11.04

我是 flex 开发的新手。我下载了 flex4.6 sdk，我想使用 flex 编写一个简单的应用程序。我已经安装了 java 1.7。我的环境详细信息是 IDE 是 eclipse (Helios) 操作系统是 Linux(Ubuntu 11.04) 我尝试使用下面的链接[Example1](http://www.seanhsmith.com/2010/03/29/flex-for-free-setting-up-the-flex-4-sdk-with-eclipse-ide/#related-posts)、[Example2](http://www.dotkam.com/2009/03/29/adobe-flex-in-ubuntu-develop-compile-and-run/)但我无法理解这些示例是如何工作的。请指导我或建议任何有用的链接以便更好地理解

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T11:46:36.243

这个[链接](http://thomas.deuling.org/2011/05/install-flex-sdk-under-ubuntu-linux/)可能对你有帮助。对于我的工作正常，从你的第二个例子而不是

```
# flex SDK home
export FLEX_SDK_HOME=/opt/flex-sdk
alias mxmlc='/usr/lib/jvm/java-6-sun/bin/java -jar "$FLEX_SDK_HOME/lib/mxmlc.jar" +flexlib="$FLEX_SDK_HOME/frameworks" "$@"' 
```

我在用

```
# Make the FLEX compiler available
export PATH=/home/thomas/Software/flex_sdk_4.5/bin:$PATH

# Export the LPS home directory
export LPS_HOME=/home/thomas/Software/OpenLaszlo/lps-root

# Make the LZX compiler available
export PATH=/home/thomas/Software/OpenLaszlo/lps/bin:$PATH 
```

# iphone - 使用 kCVPixelFormatType_420YpCbCr8BiPlanarFullRange 获得灰色视频

> ID：14683496
> 
> 赞同：1
> 
> 时间：2013-02-04T09:10:32.590
> 
> 标签：iphone, ios, cocoa-touch, avcapturesession

我一直在使用 捕获视频，使用`AVCaptureSession`时很好`kCVPixelFormatType_32BGRA`，当我尝试使用`kCVPixelFormatType_420YpCbCr8BiPlanarFullRange`并转换为时`UIImage`，但它（黑白）没有颜色，我检查了一些 SO 问题并进行了如下转换：

```
CVImageBufferRef imageBuffer = CMSampleBufferGetImageBuffer(sampleBuffer);
CVPixelBufferLockBaseAddress(imageBuffer, 0);

width = CVPixelBufferGetWidth(imageBuffer);
height = CVPixelBufferGetHeight(imageBuffer);
bytesPerRow = CVPixelBufferGetBytesPerRow(imageBuffer);

uint8_t *baseAddress = (uint8_t*) CVPixelBufferGetBaseAddress(imageBuffer);
int bytes = height * bytesPerRow;
uint8_t *base = (uint8_t*) malloc(bytes);
memcpy(base,baseAddress,bytes);

CVPlanarPixelBufferInfo_YCbCrBiPlanar *bufferInfo = (CVPlanarPixelBufferInfo_YCbCrBiPlanar *)base;

NSUInteger yOffset = EndianU32_BtoN(bufferInfo->componentInfoY.offset);
NSUInteger yPitch = EndianU32_BtoN(bufferInfo->componentInfoY.rowBytes);

NSUInteger cbCrOffset = EndianU32_BtoN(bufferInfo->componentInfoCbCr.offset);
NSUInteger cbCrPitch = EndianU32_BtoN(bufferInfo->componentInfoCbCr.rowBytes);

uint8_t *rgbBuffer = (uint8_t*) malloc(width * height * 3);
uint8_t *yBuffer = base + yOffset;
uint8_t *cbCrBuffer = base + cbCrOffset;

for(int y = 0; y < height; y++)
{
    uint8_t *rgbBufferLine = &rgbBuffer[y * width * 3];
    uint8_t *yBufferLine = &yBuffer[y * yPitch];
    uint8_t *cbCrBufferLine = &cbCrBuffer[(y >> 1) * cbCrPitch];

    for(int x = 0; x < width; x++)
    {
        uint8_t y = yBufferLine[x];
        uint8_t cb = cbCrBufferLine[x & ~1];
        uint8_t cr = cbCrBufferLine[x | 1];

        uint8_t *rgbOutput = &rgbBufferLine[x*3];

        // from ITU-R BT.601, rounded to integers
        rgbOutput[0] = (298 * (y - 16) + 409 * cr - 223) >> 8;
        rgbOutput[1] = (298 * (y - 16) + 100 * cb + 208 * cr + 136) >> 8;
        rgbOutput[2] = (298 * (y - 16) + 516 * cb - 277) >> 8;
    }
}

// recording started, then get image and put it into the dictionnary
//CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();
CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();

CGContextRef bitmapContext=CGBitmapContextCreate((uint8_t*) rgbBuffer,
                                                 width, height, 8, (width * 4), colorSpace,
                                                 kCGBitmapByteOrder32Little | kCGImageAlphaPremultipliedFirst);

CGImageRef imageRef = CGBitmapContextCreateImage(bitmapContext);

CGColorSpaceRelease(colorSpace);

UIImage * newimage = [UIImage imageWithCGImage:imageRef];

if (gui_status.is_preview_on == true) {

    dispatch_async(dispatch_get_main_queue(), ^{
        if (newimage != nil) {
            // Set image
        }
    });
}

free(base);
CGImageRelease(imageRef);
CGContextRelease(bitmapContext); 
```

但它不起作用，有时在上下文创建中崩溃。

```
 'copy_read_only: vm_copy failed: status 1' 
```

# php - 使用 Propel 到远程数据库的外键

> ID：14683500
> 
> 赞同：2
> 
> 时间：2013-02-04T09:10:33.150
> 
> 标签：php, propel

我对推进中的外键有疑问。我的项目中有 2 个模式与 2 个物理数据库匹配：我的本地数据库（数据库一）和带有一些只读信息的远程数据库（数据库二）

关键是我需要设置一个从 DB One 到 DB 2 的外键，但它不起作用。这是我的模式：

模式 1

```
<database package="dbOne" defaultIdMethod="native" name="dbOne">
  <table name="tableOne">
    <column name="pk_tableOne" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="column_one" type="DOUBLE" required="true"/>
    <foreign-key name="fk_column_one" foreignTable="tableTwo" foreignSchema = "dbTwo">
      <reference local="column_one" foreign="column_two"/>
    </foreign-key>
      </table>
</database> 
```

模式 2

```
<database package="dbTwo" defaultIdMethod="native" name="dbTwo">
  <table name="tableTwo">
    <column name="column_two" type="DOUBLE" primaryKey="true" required="true"/>
</database> 
```

我已经使用两个数据源设置了 runtime/build-conf.xml，在 om/diff 命令期间我收到了这个错误：

> 由于以下原因，目标“om-template”的执行失败：“tableOne”包含不存在的表“dbTwo.tableTwo”的外键

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T16:15:55.510

不幸的是，我认为您无法为不同数据库上的表设置外键引用。如果您查看生成器文件，我们会看到这一行：

在[当前 github 版本](https://github.com/propelorm/Propel/blob/master/generator/lib/model/Table.php)`propel/generator/lib/model/Table.php`中的第 901 行：

```
public function setupReferrers($throwErrors = false)
{
  foreach ($this->getForeignKeys() as $foreignKey) {

    // table referrers
    $foreignTable = $this->getDatabase()->getTable($foreignKey->getForeignTableName());
    if ($foreignTable !== null) {
      ...
    } elseif ($throwErrors) {
      throw new BuildException(sprintf(
        'Table "%s" contains a foreign key to nonexistent table "%s"',
        $this->getName(),
        $foreignKey->getForeignTableName()
      ));
    }
    ...
  }
  ...
} 
```

关键是它所说`$foreignTable = $this->getDatabase()...`的，换句话说，它只适用于对该表自己的数据库的引用。我建议将您的声音添加到[这个 github 问题](https://github.com/propelorm/Propel/issues/191)中，这似乎是您所要求的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-20T09:38:39.957

您不能加入外部数据库。但是：如果您的**数据库支持它**（您需要像 PGSQL 这样的数据库），您可以将表放在同一个数据库中的不同模式中。这为您提供了相同的表分离，但能够应用连接（和设置外键）。

# php - 几何中最近的地标

> ID：14683501
> 
> 赞同：0
> 
> 时间：2013-02-04T09:10:38.793
> 
> 标签：php, javascript, jquery, sql, postgresql

我有一个名为 map_places 的表，其中包含城市或国家信息以及相应的几何图形以及与城市相关的许多其他信息。我的数据库系统是 PostGIS。我的要求是：

我的应用程序的输入将是几何图形，它可能是也可能不是存储在 DB 中的精确几何图形。我需要借助输入几何从表格中找到最近的城市信息。此输入不是由用户提交的，而是由系统提交的。非常感谢任何帮助。

php 中是否有一个最近邻实现可用于此或 SQL 来处理此

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T10:04:19.060

这里的“位置”行是您的项目的坐标（整数或浮点数）。$id - 表“map_places”中所需项目的 ID。此查询的结果将是项目的 ID，该项目的位置与您已传入查询的项目的位置最近

```
SELECT * FROM(
SELECT T2.id, abs(T1.location-T2.location) as DIF
FROM  map_places T1, map_places T2
WHERE T1.id = $id AND T1.id<>T2.id
order by T1.id) as RES
WHERE DIF = (SELECT min(abs(T1.location-T2.location))
FROM  map_places T1, map_places T2
WHERE T1.id=$id AND T1.id<>T2.id) 
```

# android - 在安卓浏览器中使用 iframe ajax

> ID：14683502
> 
> 赞同：0
> 
> 时间：2013-02-04T09:10:40.610
> 
> 标签：android, html, ajax, iframe

我有一个用于 android 应用程序的 html 页面。从这个页面我需要将数据发布到服务器，响应是一个需要下载的附件。为此，我使用了隐藏的 iframe hack。但不幸的是它失败了。谁能解释根本原因？

```

函数下载（）{

    var iframe = document.createElement("iframe");
    //iframe.src = "http://localhost:9080/HttpOptions/MultiPartServlet";
    iframe.style.display = "无";  
    iframe.id = "我的框架";
    document.body.appendChild(iframe);

    var doc = document.getElementById("myframe").contentWindow.document;

    var form = doc.createElement("form");
    form.setAttribute("name", "theForm"); // 给表单一个名字
    form.setAttribute("id", "theForm"); // 给表单一个名字
    form.setAttribute("action", "http://localhost:9080/HttpOptions/MultiPartServlet"); // 给表单一个动作
    form.setAttribute("方法", "post"); // 给表单一个方法

    var par1 = doc.createElement("input");
    par1.setAttribute("name", "theSubmit"); // 给输入一个名字
    par1.setAttribute("类型", "提交"); // 使其成为提交按钮
    par1.setAttribute("值", "提交"); // 给输入一个值

    var par2 = doc.createElement("input");
    par2.setAttribute("name", "name"); // 给输入一个名字
    par2.setAttribute("类型", "文本"); // 使其成为提交按钮
    par2.setAttribute("值", "deepak"); // 给输入一个值

    form.appendChild(par1);
    form.appendChild(par2);

    doc.body.appendChild(form);
    var myframe = document.getElementById('myframe');
    var innerDoc = iframe.contentDocument || iframe.contentWindow.document;

    form.submit();

}

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:57:12.280

`document.domain`在父页面和框架页面中设置为相同的值。

例子：

```
<script type="text/javascript">
document.domain = 'example.com';
</script> 
```

把它放在父页面和框架页面中，问题就会消失。

# javascript - 遍历所有表单元素，无论其类型如何

> ID：14683504
> 
> 赞同：2
> 
> 时间：2013-02-04T09:10:47.723
> 
> 标签：javascript, jquery

我正忙于为我们的一位客户处理表单管理器。总体思路是为各个部门构建表单，我想创建一个微系统来处理表单的验证等，而无需重做太多工作。尽可能自动化。

我的第一个主要任务是我想点击提交按钮，遍历整个表单，并根据特定的凭据和验证规则在表单发送到服务器之前对其进行验证。我看过许多与获取表单中所有输入字段的示例相关的帖子，但我正在寻找一种解决方案，它将遍历整个表单及其内容，然后对所有表单元素（包括选择框、输入框、文本框等）。

我可以单独执行此操作，但我希望从上到下进行验证，因此如果第一个字段是示例选择，下一个是输入字段，它应该从上到下遍历表单，以便我可以据此输出错误。

```
// Sample code:
$(document).ready(function() {
    $("#main_submit").click(function() {
        // Select all of the form fields here and iterate through them ...
    });
}); 
```

```
<form name='test_form' method='POST' action=''>
    <div>
        <label for='title'>Title</label>
        <select name='title'>
            <option value=''>Please select ...</option>
            <option value='MR'>MR.</option>
        </select>
    </div>
    <div>
        <label for='full_name'>Full Name:</label>
        <input name='full_name' type='text' />
    </div>
    .....
</form> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-04T09:19:11.743

使用 jQuery`:input`选择器：

```
jQuery("form :input"); 
```

> 描述：选择所有输入、文本区域、选择和按钮元素。

[http://api.jquery.com/input-selector/](http://api.jquery.com/input-selector/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-04T09:25:04.110

试试这个：

```
//loop through all input elements
$("form :input").each(function(){
    var thevalue = $(this).val();//the value of the current input element
    var thename = $(this).attr('name');//input name
    var thetype = $(this).attr('type');//input type
}); 
```

# sql - 如何根据测量之间的持续时间计算平均值？

> ID：14683507
> 
> 赞同：2
> 
> 时间：2013-02-04T09:10:58.320
> 
> 标签：sql, sql-server-2008, tsql

我有类似这样的数据：

```
Price   DateChanged   Product
10       2012-01-01   A
12       2012-02-01   A
30       2012-03-01   A
10       2012-09-01   A
12       2013-01-01   A
110      2012-01-01   B
112      2012-02-01   B
130      2012-03-01   B
110      2012-09-01   B
112      2013-01-01   B 
```

我想计算平均值，但挑战是：查看第一条记录，价格 10 有效期为一个月，价格 12 有效期为一个月，价格 30 有效期为 6个月。

因此，产品 A (10+12+30+10+12)/5 的基本平均值将导致 14.8，同时考虑持续时间，则平均价格将为 ~20.1。

解决这个问题的最佳方法是什么？我知道我可以创建一个带有 row_number() 的子查询来加入以计算持续时间，但是有更好的方法吗？SQL Server 具有强大的功能，例如 STDistance，那么肯定有这个功能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T10:32:46.963

您要查找的内容称为[weighted average](http://en.wikipedia.org/wiki/Weighted_average)，并且 AFAIK，SQL Server 中没有内置函数可以为您计算它。但是，手动计算并不难。

首先，您需要找到每个数据点的权重，在这种情况下，您需要找到每个价格周期的持续时间。您的数据中可能有一些额外的列可以使查找更容易，但您也可以这样做：

```
SELECT p1.Product, p1.Price, p1.DateChanged AS DateStart,
       isnull(min(p2.DateChanged),getdate()) AS DateEnd
INTO #PricePlanStartEnd
FROM PricePlan p1
  LEFT OUTER JOIN PricePlan p2
    ON p1.DateChanged < p2.DateChanged
    AND p1.Product =p2.Product
GROUP BY p1.Product, p1.Price, p1.DateChanged
ORDER BY p1.Product, p1.DateChanged 
```

这将创建一个`#PricePlanStartEnd`临时表，其中包含每个价格周期的开始和结束。我使用 getdate() 作为当前时间段的结束。如果您只需要计算直到最后一次价格变化的平均值，只需使用`INNER JOIN`而不是`LEFT OUTER JOIN`.

之后，您只需将 (price * period) 的总和除以期间的总长度，即可得到答案。

这是一个[用于计算的 SQL Fiddle](http://www.sqlfiddle.com/#!3/50c9c/29)

此外，当您使用月份时，您必须记住并非所有月份都相同，因此 12 月的价格比 2 月的活跃时间更长。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T10:20:02.263

使用`CTE`和`row_number()`获得每月平均到*最后一个* `dateChanged`。[小提琴演示](http://sqlfiddle.com/#!3/fcd1d0/39)

```
;with cte as (
   select product, dateChanged, price, 
          row_number() over (partition by product order by datechanged) rn
   from x
)
select t1.product, 
sum(t1.price *1.0 * datediff(month, t1.dateChanged,t2.dateChanged))/12 monthlyAvg
from cte t1  join cte t2 on t1.product = t2.product
                         and t1.rn +1 = t2.rn
group by t1.product

--Results
Product MonthlyAvg
A       20.166666
B       120.166666 
```

***或者***，如果您需要最新的*每日*平均值，请使用`LEFT JOIN` [Fiddle-Demo](http://sqlfiddle.com/#!3/fcd1d0/44)；

```
;with cte as (
    select product, dateChanged, price, 
       row_number() over (partition by product order by datechanged) rn
    from x
)
select t1.product, 
sum(t1.price *1.0 * 
   datediff(day, t1.dateChanged,isnull(t2.dateChanged,getdate())))/365 dailyAvg
from cte t1 left join cte t2 on t1.product = t2.product
and t1.rn +1 = t2.rn
group by t1.product

--Results
product dailyAvg
A       21.386301
B       130.975342 
```

# statistics - 我如何证明我的导出方程和蒙特卡罗模拟是等价的？

> ID：14683510
> 
> 赞同：2
> 
> 时间：2013-02-04T09:11:06.380
> 
> 标签：statistics, montecarlo, correctness

我已经导出并实现了一个期望值的方程。为了证明我的代码没有错误，我多次使用蒙特卡罗计算来证明它收敛到与我推导出的方程相同的值。

由于我现在有数据，我该如何可视化呢？这甚至是正确的测试吗？我可以衡量一下我对结果正确的把握程度吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T11:08:14.743

目前尚不清楚可视化数据的含义，但这里有一些想法。

如果您的蒙特卡洛模拟是正确的，那么您的数量的蒙特卡洛估计量就是样本的平均值。您的估计器的方差（平均值与“正确”值的距离）将与您采集的样本数量成反比：只要您采集足够多的样本，您就会任意接近正确答案. 因此，使用中等（如果是单变量，1000 应该足够）样本数量，并查看平均值。如果这与您的理论预期不符，那么您的某个估计中的某个地方就有错误。

如果它们是一维的，您也可以再次使用样本的直方图。直方图中的样本分布应该与您期望的理论分布相匹配。

如果您以与了解期望相同的方式了解方差，您还可以查看样本方差（样本与期望之间的均方差），并检查它是否也匹配。

编辑：在答案中加入更“正式”的内容！

如果 M(x) 是 E[X] 的蒙特卡洛估计量，则作为 n -> inf，abs(M(x) - E[X]) -> 0。M(x) 的方差与n，但它究竟是什么将取决于 M 是 的估计*量*。您可以根据样本的均值和方差为此构建一个特定的测试，以查看您所做的事情是否有意义。每 100 次迭代，您可以计算样本的平均值，并取其与理论 E[X] 之间的差异。如果这减少，您可能没有错误。如果没有，您的理论估计或蒙特卡洛估计量都有问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-05T08:45:08.517

为什么不做一个[简单的 t 检验](http://en.wikipedia.org/wiki/Student%27s_t-test#One-sample_t-test)？从你的理论方程，你有真正的平均值`mu_0`，你的模拟器意味着，`mu_1`。请注意，我们无法计算`mu_1`，我们只能使用平均值/平均值来估计它。所以我们的假设是：

```
H_0: mu_0 = mu_1  and H_1: mu_0 does not equal mu_1 
```

检验统计量是通常[的单样本检验](http://en.wikipedia.org/wiki/Bonferroni_correction)统计量，即

```
T = (mu_0 - x)/(s/sqrt(n)) 
```

在哪里

*   `mu_0`是等式中的值
*   `x`是您模拟器的平均值
*   `s`是标准差
*   `n`是用于计算平均值的值的数量。

在你的情况下，`n`将会很大，所以这相当于一个正常的测试。我们拒绝`H_0`何时`T`大于/小于 (-3, 3)。这相当于 p 值 < 0.01。

一些评论：

1.  你不能“证明”手段是平等的。
2.  您提到要测试许多值。一种可能的解决方案是实现[Bonferroni 类型校正](http://en.wikipedia.org/wiki/Bonferroni_correction)。基本上，您将 p 值减少到：您正在运行的测试数量`p-value/N`在哪里。`N`
3.  使您的样本量尽可能大。由于我们对您的蒙特卡洛模拟中的可变性一无所知，因此不可能说使用`n=....`
4.  当大于/小于 (-3, 3) 时 p 值 < 0.01 的值`T`仅来自正态分布。

# css - 在 Mac 上仅定位 CSS Firefox

> ID：14683512
> 
> 赞同：2
> 
> 时间：2013-02-04T09:11:08.263
> 
> 标签：css, macos, firefox

我的编码中有一些对齐问题。在 Windows 中，所有浏览器似乎都可以。但是当我在 Mac firefox 中检查时，对齐并不完美。我可以通过稍微改变值来修复它。但它应该只适用于 Mac 上的 Firefox。

是否有任何CSS属性或其他东西？

示例：http: [//jsfiddle.net/9chk5/](http://jsfiddle.net/9chk5/)

```
.notes {
display: inline-block;
position: relative;
width: 16px;
height: 16px;
margin: 0 auto;
background: #abc;
}

.search-notes {
font-size: 14px;
color: #484848;
position: relative;
top: -20px;
margin: 0 25px 0 22px;
} 
```

和 HTML

```
<div class="notes" style="top:2px"></div><div class="search-notes">This link is used to get information about the visitors from the google organic search. This link is used to get information about the visitors from the google organic search. This link is used to get information about the visitors from the google organic search. This link is used to get information about the visitors from the google organic search. </div>
    </div> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-04T09:29:52.920

您可以使用类来实现您想要的。嗅出用户的浏览器和操作系统，并为您的特定情况添加一个类。例如`macFirefox`，如果用户在 Mac 上使用 Firefox，则将类应用于 body，然后在 CSS 中使用`.macFirefox .yourClass { /*CSS rules*/ }`.

但是，最好以跨浏览器的方式应用样式。

例如，在您的特定情况下，将样式更改为

```
 .search-notes {
    font-size: 14px;
    color: #484848;
    position:absolute;
    display:inline;
/*  position: relative;
    top: -20px;
    margin: 0 25px 0 22px;  */
} 
```

应该做的伎俩。

**[更新了你的小提琴](http://jsfiddle.net/9chk5/1/)**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-04-01T05:16:38.803

您可以进入未记录的特征查询的灰色区域。这样你就可以只针对 Mac 上的 Firefox：

```
@supports (-moz-osx-font-smoothing: auto) {
  #firefox-on-mac { display: block; }
} 
```

如果您想针对所有 Firefox，除了 Mac 上的，请执行以下操作：

```
@supports (-moz-appearance: none) and (not (-moz-osx-font-smoothing: auto)) {
  #firefox-not-on-mac { display: block; }
} 
```

我故意不使用，因为根据[Firefox 错误 #1035091](https://bugzilla.mozilla.org/show_bug.cgi?id=1035091)`@-moz-document`，它已被禁用供公众使用。

有关实际示例，请参阅[此 codepen](https://codepen.io/anon/pen/EELXEb)。

# javascript - 为什么即使我使用 $('[isEditButton="true"]').on()，我的编辑按钮也只能工作一次？

> ID：14683517
> 
> 赞同：0
> 
> 时间：2013-02-04T09:11:26.253
> 
> 标签：javascript, jquery

这是我的代码，我一直很沮丧地发现问题。

我试着用

```
$('[isEditButton="true"]').on('click', function(){ codes })
or 
$('table tr td').on('click', '[isEditButton="true"]' , function(){ codes }) 
```

但两者都会产生意想不到的结果，编辑按钮只能单击一次。

我搜索了 Jquery 文档并使用了所谓的[Delegated events](http://api.jquery.com/on/)，但是仍然没有用，编辑按钮被单击一次，新注入的按钮也无法自动附加单击事件。

我的在线代码

[http://jsfiddle.net/dennisboys/mAjmU/2/](http://jsfiddle.net/dennisboys/mAjmU/2/)

任何人都可以给我一些关于发生了什么的指示。我对这个问题真的很疯狂。提前感谢任何好心的帮助者！真的需要你们！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:17:39.103

您的`[isEditButton]`元素是动态附加的，因此您需要使用`on`委托处理程序，该父选择器在 DOM 加载时可用。你的第二个例子几乎解决了这个问题，除了`table tr td`元素也被动态附加。试试这个：

```
$('#address_list').on('click', '[isEditButton="true"]', function() {
     // rest of your code...
}); 
```

[**更新的小提琴**](http://jsfiddle.net/RoryMcCrossan/mAjmU/5/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:19:54.403

我做了这个

`$(document).on('click', '[isEditButton="true"]', function() {})`

似乎工作正常。

[http://jsfiddle.net/mAjmU/6/](http://jsfiddle.net/mAjmU/6/)

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-02-04T09:20:32.923

你为什么不用这个

```
if (isset($_POST['isEditButton'])){
    //do some codes 
}
else{
    //do this
} 
```

# html - 仅使用 CSS3 过渡制作丰富的工具提示（或至少，大部分）

> ID：14683524
> 
> 赞同：0
> 
> 时间：2013-02-04T09:11:53.760
> 
> 标签：html, css, css-transitions

我不是 CSS 专业人士，但我正在努力学习。

我有这个小沙箱： ![在此处输入图像描述](../Images/ab48f4c591de02129738b26b8c660517.png)

它基本上是一堆带有一些额外细节的图标，一旦你将鼠标悬停在图标上就会显示出来。

我一直在尝试使用 CSS 来完成这项工作，但到目前为止我的行为不稳定。[代码在这里](http://jsbin.com/arocaj/10/edit)

我想知道我是否可以以某种方式模仿一个丰富的工具提示，以便在图标悬停时打开它，而不改变其他图标的位置。

任何创意，包括基本设计的改变，都将被欣然接受。

我的目标是使用 CSS3 过渡来实现这一点，因此理想的情况是最少甚至没有 JavaScript。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T16:08:00.977

也许你可以使用hint.css，它是一个纯css工具提示

[http://kushagragour.in/lab/hint/](http://kushagragour.in/lab/hint/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-08T07:29:36.790

我认为您需要教程来查看[创建 CSS3 工具提示](http://talkerscode.com/webtricks/create-simple-tooltip-using-css3.php)，主要代码是

```
<a title="Create Simple Tooltip Using CSS3" class="tooltip">Some Sample CSS3 Tooltip</a>

.tooltip
{
 display: inline;
 position: relative;
}
.tooltip:hover:after
{
 background: #333;
 background: rgba(0,0,0,.8);
 border-radius: 5px;
 bottom: 26px;
 color: #fff;
 content: attr(title);
 left: 20%;
 padding: 5px 15px;
 position: absolute;
 z-index: 98;
 width: 220px;
}

.tooltip:hover:before
{
 border: solid;
 border-color: #333 transparent;
 border-width: 6px 6px 0 6px;
 bottom: 20px;
 content: "";
 left: 50%;
 position: absolute;
 z-index: 99;
} 
```

# google-app-engine - 访问 Hello-World Google Cloud Endpoint 服务的 URL 是什么？

> ID：14683530
> 
> 赞同：5
> 
> 时间：2013-02-04T09:12:02.807
> 
> 标签：google-app-engine, google-cloud-endpoints

我在 Eclipse 中使用[此博客文章](http://devthots.blogspot.no/2012/07/building-awesome-android-apps-with.html)`Generate AppEngine BackEnd`中描述的方法生成了一个 Google Endpoint AppEngine 项目。然而，那篇文章*没有*描述什么，官方的谷歌文档描述也很糟糕，我可以在本地访问该服务的 URL 是什么？

 *生成的服务有一个生成的端点，称为 DeviceInfoEndpoint。代码如下所示，以及 web.xml 中的代码。鉴于我在本地端口 8888 上托管，我应该使用哪个 URL 访问 listDeviceInfo()？我尝试了以下方法：

*   `http://localhost:8888/_ah/api/deviceinfoendpoint/v1/listDeviceInfo`=> 404
*   `http://localhost:8888/_ah/spi/deviceinfoendpoint/v1/listDeviceInfo`=> 405 GET 不支持
*   `http://localhost:8888/_ah/spi/deviceinfoendpoint/v1/DeviceInfo`=> 405 获取 (...)
*   `http://localhost:8888/_ah/spi/v1/deviceinfoendpoint/listDeviceInfo`= > 405 获取（...）

DeviceInfoEndpoint.java 的摘录：

```
@Api(name = "deviceinfoendpoint")
public class DeviceInfoEndpoint {

/**
 * This method lists all the entities inserted in datastore.
 * It uses HTTP GET method.
 *
 * @return List of all entities persisted.
 */
@SuppressWarnings({ "cast", "unchecked" })
public List<DeviceInfo> listDeviceInfo() {
    EntityManager mgr = getEntityManager();
    List<DeviceInfo> result = new ArrayList<DeviceInfo>();
    try {
        Query query = mgr
                .createQuery("select from DeviceInfo as DeviceInfo");
        for (Object obj : (List<Object>) query.getResultList()) {
            result.add(((DeviceInfo) obj));
        }
    } finally {
        mgr.close();
    }
    return result;
}
} 
```

Web.xml：

```
<?xml version="1.0" encoding="utf-8" standalone="no"?><web-app xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="2.5" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd">

 <servlet>
  <servlet-name>SystemServiceServlet</servlet-name>
  <servlet-class>com.google.api.server.spi.SystemServiceServlet</servlet-class>
  <init-param>
   <param-name>services</param-name>
   <param-value>com.example.dummyandroidapp.DeviceInfoEndpoint</param-value>
  </init-param>
 </servlet>
 <servlet-mapping>
  <servlet-name>SystemServiceServlet</servlet-name>
  <url-pattern>/_ah/spi/*</url-pattern>
 </servlet-mapping>
</web-app> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-04T21:13:44.523

API 请求路径一般应符合以下要求：

```
http(s)://{API_HOST}:{PORT}/_ah/api/{API_NAME}/{VERSION}/ 
```

如果您对获取/更新/删除特定资源感兴趣，请在末尾添加一个 ID。在您的示例中，这表明您应该查询：

```
http://localhost:8888/_ah/api/deviceinfoendpoint/v1/ 
```

（映射到`list`您提出`GET`请求的时间）。

一般来说，可用的 APIs Explorer 可以`/_ah/_api/explorer`很容易地发现和查询这些 URL。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-02-27T16:01:33.773

您可以通过使用来控制路径：

```
 @ApiMethod(path="listDeviceInfo",  httpMethod = HttpMethod.GET)
    public List<DeviceInfo> listDeviceInfo(){
    //... definition

  } 
```

然后你可以从你的客户端调用它： [http://localhost:8888/_ah/api/deviceinfoendpoint/v1/listDeviceInfo](http://localhost:8888/_ah/api/deviceinfoendpoint/v1/listDeviceInfo)

如果你喜欢发送参数，那么：

```
@ApiMethod(path="listDeviceInfo",  httpMethod = HttpMethod.GET)
        public List<DeviceInfo> listDeviceInfo(@Named("info") String info){
        //... definition

  } 
```

[http://localhost:8888/_ah/api/deviceinfoendpoint/v1/listDeviceInfo?info=holamundo](http://localhost:8888/_ah/api/deviceinfoendpoint/v1/listDeviceInfo?info=holamundo)*

# php - PHP 不会在带有 php-cli 的终端中运行，而是在 apache 服务器中运行

> ID：14683533
> 
> 赞同：-1
> 
> 时间：2013-02-04T09:12:09.190
> 
> 标签：php, bash, ubuntu, crontab

我编写了一个 php 脚本，旨在从终端中的 bash 脚本运行。我安装了 PHP5 php-cli 和 php-pear。PHP 脚本使用浏览器在 apache 服务器中顺利运行，但从终端运行时它什么也不做。我还让它成为可执行文件，对所有人都有读写权限。我会让那个 bash 脚本每 5 分钟在 cron 作业中运行一次。

```
#!/usr/bin/php5 -q
<?php
    $file="/var/www/floods/php/indx.txt";
    $indx=file_get_contents($file);
    $con = mysql_connect("localhost","user","password");
    if(!$con){die('Could not connect: ' . mysql_error());}
    mysql_select_db("smsgw",$con);

    $acc = mysql_query("SELECT * FROM accounts");
    while($fld = mysql_fetch_array($acc)){
        $index[]=$fld['id'];
        $num_reg[]=$fld['num'];
        $loc[]=$fld['location'];    
    }
    if(isset($index)){

    $inbox = mysql_query("SELECT * FROM inbox");
    while($fields=mysql_fetch_array($inbox)){
        $id[]=$fields['id'];
        $num_inbox[]=$fields['number'];
        $smsdate[]=$fields['smsdate'];
        $text[]=$fields['text'];    
    }

    $last_indx=count($id);
    $last_num=count($index);

    for($i=0;$i<$last_num;$i++){
        for($j=(int)$indx;$j<$last_indx;$j++){
            if(strcmp($num_inbox[$j],$num_reg[$i])==0){
                $file_save= $num_reg[$i] . ".txt";
                file_put_contents($file_save,$text[$j]);
            }
        }

    }

    }/*End*/

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:35:52.050

感谢那些评论和帮助的人。终于解决了问题。我应该指定保存文本文件的确切路径。 `$file_save= $num_reg[$i] . ".txt";`应该是这样的 `$file_save="/path/where/to/save". $num_reg[$i] . ".txt";`

# jpa - JPA 合并确实插入新实体而不是更新现有实体

> ID：14683538
> 
> 赞同：0
> 
> 时间：2013-02-04T09:12:39.760
> 
> 标签：jpa, ejb

似乎当我使用 jpa 合并更新现有实体时，它确实插入了具有相同 ID 的实体，而不是更新预期的现有实体。因为插入后，数据库行顺序丢失。但是我仍然有相同 id 的相同实体，Jpa 是否使用插入来更新？我的意思是它是否删除现有实体并使用更新的值再次插入以完成其更新工作。主要混乱是数据库顺序丢失。

这是我的侦听器方法： userService 是我使用 JPA 中的 EJB 类。

```
public void onEditUserOrganization(RowEditEvent event){
    UserOrganization uorg =(UserOrganization) event.getObject();
    try {

    userService.updateUserOrganization(uorg);

    } catch (UserException ex) {
        ex.printStackTrace();
        FacesContext.getCurrentInstance().addMessage(null, new FacesMessage("error)"));
    }finally{
        parentlist = getUserOrganizationParents();
        branchlist = getUserOrganizationBranches();
    }
} 
```

这是我的主要更新方法

```
 @Override
public void updateUserOrganization(UserOrganization org) throws UserException{
    if(org != null && !em.contains(org)){
    try{

        UserOrganization existing = em.find(UserOrganization.class, org.getUorgId());
        existing.setOrgcode(org.getOrgcode());
        existing.setOrgname(org.getOrgname());
        existing.setParent(org.getParent());

    }catch(Exception e){
    throw new UserException("Couldn't update user org with id " + org.getUorgId());
    }
    }
} 
```

这是我的实体类：

```
public class UserOrganization implements Serializable {

private static final long serialVersionUID = 1L;
@Id
@GeneratedValue(strategy = GenerationType.IDENTITY)
@Basic(optional = false)
@NotNull
@Column(name = "uorg_id", nullable = false)
private Integer uorgId;
@Basic(optional = false)
@NotNull
@Column(name = "parent", nullable = false)
private short parent;
@Basic(optional = false)
@NotNull
@Size(min = 1, max = 10)
@Column(name = "orgcode", nullable = false, length = 10)
private String orgcode;
@Basic(optional = false)
@NotNull
@Size(min = 1, max = 150)
@Column(name = "orgname", nullable = false, length = 150)
private String orgname;
@OneToMany(cascade = CascadeType.ALL, mappedBy = "uorgId")
private List<refMain> refList;
@OneToMany(cascade = CascadeType.ALL, mappedBy = "uorgId")
private List<User1> user1List;
@OneToMany(cascade = CascadeType.ALL, mappedBy = "userOrganization")
private List<Bankrelation> relationList;

public UserOrganization() {
}

//getter setters..
    @Override
public boolean equals(Object object) {
    // TODO: Warning - this method won't work in the case the id fields are not set
    if (!(object instanceof UserOrganization)) {
        return false;
    }
    UserOrganization other = (UserOrganization) object;
    if ((this.uorgId == null && other.uorgId != null) || (this.uorgId != null && !this.uorgId.equals(other.uorgId))) {
        return false;
    }
    return true;
}

@Override
public String toString() {
    return "mn.bs.crasmon.model.UserOrganization[ uorgId=" + uorgId + " ]";
} 
```

在 JPA 中进行更新的最佳方法是什么

# image-processing - 在 OpenCV 中围绕图像中心旋转、缩放和平移

> ID：14683539
> 
> 赞同：0
> 
> 时间：2013-02-04T09:12:41.203
> 
> 标签：image-processing, opencv

我真的希望这不会浪费任何人的时间，但我遇到了一个小问题。我可以使用以下方法构造转换矩阵：

```
M = 
s*cos(theta)        -s*sin(theta)       t_x
s*sin(theta)        s*cos(theta)        t_y
0                   0                   1 
```

如果我为 theta、s（比例）和 tx/ty 提供正确的值，然后将此矩阵用作 cv::warpPerspective 的参数之一，则此方法有效。问题在于该矩阵围绕（0,0）像素旋转，而我希望它围绕中心像素（cols / 2，rows / 2）旋转。如何将中心点旋转合并到这个矩阵中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-05T08:54:33.877

两种可能。第一种是使用函数 getRotationMatrix2D ，它将旋转中心作为参数，并为您提供一个 2x3 矩阵。添加第三行，你就完成了。

第二种可能性是构造一个额外的矩阵，在旋转前后平移图片：

```
T = 
1 0 -cols/2
0 1 -rows/2
0 0 1 
```

将您的旋转矩阵 M 与这个相乘以获得总变换 -TMT（例如，使用函数 gemm）并将这个与 warpPerspective 应用。

# c++ - 如何确定 boost::asio::io_service 已经完成了任务？

> ID：14683544
> 
> 赞同：0
> 
> 时间：2013-02-04T09:12:57.240
> 
> 标签：c++, multithreading, boost, boost-asio

我需要建立一个具有调度优先级的线程池：所有正在运行的线程在 CPU 时间和操作系统优先级方面具有相同的优先级，但是当需要选择下一个要完成的任务时，具有最高优先级的线程首先执行。

我决定尝试 boost::asio，因为它有一个看起来不错的线程池。我查看了[asio 文档中的优先处理程序示例，](http://www.boost.org/doc/libs/1_52_0/doc/html/boost_asio/example/invocation/prioritised_handlers.cpp)但我不喜欢它，因为它不限制线程数，而且我必须手动安排任务。我需要的是从队列中获取任务的固定数量的线程，因此我可以在我的应用程序中创建单个池，然后在应用程序生命周期中的任何时间添加任务。

当任务完成时，从 asio::io_service 获得一些通知就足够了；该通知的处理程序可以找到具有最高优先级的下一个任务，并将其发布到服务。

那可能吗？

# javascript - 调整动画以使 div 更频繁地出现

> ID：14683555
> 
> 赞同：0
> 
> 时间：2013-02-04T09:13:37.467
> 
> 标签：javascript, jquery

我正在创建一个打鼹鼠式游戏，用户必须根据上述每次回答问题时随机生成的总和点击正确的数字。我遇到的问题是用户有时必须等待很长时间才能真正出现他们需要的答案，有时需要大约十秒钟才能出现任何内容。我需要动画来让 div 更频繁地出现，但我不知道如何做到这一点。

这是数字 div 的动画属性

```
function randomFromTo(from, to) {
    return Math.floor(Math.random() * (to - from + 1) + from);
}

function scramble() {
    var children = $('#container').children();
    var randomId = randomFromTo(1, children.length);
    moveRandom("char" + randomId);
}

var currentMoving = [];

function moveRandom(id) {
    // If this one's already animating, skip it
    if ($.inArray(id, currentMoving) !== -1) {
        return;
    }

    // Mark this one as animating
    currentMoving.push(id);

    var cPos = $('#container').offset();
    var cHeight = $('#container').height();
    var cWidth = $('#container').width();
    var bWidth = $('#' + id).width();

    var bHeight = $('#' + id).css('top', '395px').fadeIn(100).animate({
        'top': '-55px'
    }, AnimationSpeed).fadeOut(100);

    maxWidth = cPos.left + cWidth - bWidth;
    minWidth = cPos.left;
    newWidth = randomFromTo(minWidth, maxWidth);

    $('#' + id).css({
        left: newWidth
    }).fadeIn(1000, function () {
        setTimeout(function () {
            $('#' + id).fadeOut(1000);

            // Mark this as no longer animating                
            var ix = $.inArray(id, currentMoving);
            if (ix !== -1) {
                currentMoving.splice(ix, 1);
            }
            window.cont++;
        }, 1000);
    });
} 
```

有人可以告诉我如何做到这一点，以便屏幕上一次总是有一定数量的答案，而不是用现在的数字等待很长时间？

小提琴：http: [//jsfiddle.net/xgDZ4/3/](http://jsfiddle.net/xgDZ4/3/)

# sql - SQL Server 2008 计数

> ID：14683556
> 
> 赞同：2
> 
> 时间：2013-02-04T09:13:55.733
> 
> 标签：sql, sql-server, sql-server-2008, count

我创建了一个简单的数据库来存储测试结果，但是我正在努力使用 SQL 计数来汇总我的通过/失败/警告来呈现这个。

这个想法是测试运行（TRID）将有几个测试集（TSID），每个测试集都有几个测试用例（TCID）。

1.  该 TSID 的测试用例总数应该相等
2.  通过的测试用例数量应该相等，所有步骤的 StatusID=1
3.  Fail 应该与 StatusID=2 的 1 个或多个步骤的测试用例数量相等。
4.  警告应该有相同数量的测试用例，1 个或多个 StatusID=3 步骤，但相同的测试用例应该有零失败。如果有一个失败的步骤，那么测试用例应该按照上面的方法失败。

SQL 创建我的结果表的简化示例：-

```
create table Results (StatusID int, TRID int, TSID int, TCID int);

--Test Set 1 / Test Case 1.
INSERT INTO Results VALUES (1, 1, 1, 1)
INSERT INTO Results VALUES (1, 1, 1, 1)
INSERT INTO Results VALUES (1, 1, 1, 1)
--Test Set 1 / Test Case 2
INSERT INTO Results VALUES (1, 1, 1, 2)
INSERT INTO Results VALUES (1, 1, 1, 2)

--Test Set 2 / Test Case 1
INSERT INTO Results VALUES (1, 1, 2, 1)
INSERT INTO Results VALUES (1, 1, 2, 1)
INSERT INTO Results VALUES (1, 1, 2, 1)
--Test Set 2 / Test Case 2
INSERT INTO Results VALUES (1, 1, 2, 2)
INSERT INTO Results VALUES (2, 1, 2, 2)

--Test Set 3 / Test Case 1
INSERT INTO Results VALUES (1, 1, 3, 1)
INSERT INTO Results VALUES (1, 1, 3, 1)
INSERT INTO Results VALUES (1, 1, 3, 1)
--Test Set 3 / Test Case 2
INSERT INTO Results VALUES (1, 1, 3, 2)
INSERT INTO Results VALUES (3, 1, 3, 2)

--Test Set 4 / Test Case 1
INSERT INTO Results VALUES (1, 1, 4, 1)
INSERT INTO Results VALUES (1, 1, 4, 1)
INSERT INTO Results VALUES (1, 1, 4, 1)
--Test Set 4 / Test Case 2
INSERT INTO Results VALUES (3, 1, 4, 2)
INSERT INTO Results VALUES (2, 1, 4, 2)

SELECT * FROM Results 
```

我当前的 SQL（您将看到它为我提供了错误的警告计数：-

```
DECLARE @trid INT
SET @trid = 1

SELECT TRID, TSID,
(SELECT COUNT(DISTINCT TCID) FROM Results WHERE R.TRID = @trID AND R.TSID = TSID) As Total,
(SELECT COUNT(DISTINCT TCID) FROM Results WHERE TRID = @trID AND R.TSID = TSID) - (SELECT COUNT(DISTINCT TCID) FROM Results WHERE TRID = @trID AND R.TSID = TSID AND StatusID = 2) - (SELECT COUNT(DISTINCT TCID) FROM Results WHERE TRID = @trID AND R.TSID = TSID AND StatusID = 3 AND (SELECT COUNT(DISTINCT TCID) FROM Results WHERE TRID = @trID AND R.TSID = TSID AND StatusID = 2) = 0) AS Pass,
(SELECT COUNT(DISTINCT TCID) FROM Results WHERE R.TSID = TSID AND StatusID=2) As Fail,
(SELECT COUNT(DISTINCT TCID) FROM Results WHERE R.TSID = TSID AND StatusID=3) As Warning
FROM Results R
WHERE TRID = @TRID
GROUP BY TRID, TSID 
```

从上面的SQL来看，目前不正确的结果是：-

```
TRID    TSID    Total   Pass    Fail    Warning
1       1       2       2       0       0
1       2       2       1       1       0
1       3       2       1       0       1
1       4       2       1       1       1* 
```

结果应该是......

```
TRID    TSID    Total   Pass    Fail    Warning
1       1       2       2       0       0
1       2       2       1       1       0
1       3       2       1       0       1
1       4       2       1       1       0* 
```

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-04T09:33:16.273

您可以在子查询中计算每个测试用例 (TCID) 的统计信息。然后，外部查询可以计算每个测试集 (TSID) 的统计信息。例如：

```
select  TRID
,       TSID
,       count(*) as Total
,       sum(case when FailSteps = 0 and WarnSteps = 0 then 1 else 0 end) as Pass
,       sum(case when FailSteps > 0 then 1 else 0 end) as Fail
,       sum(case when FailSteps = 0 and WarnSteps > 0 then 1 else 0 end) as Warning
from    (
        select  TRID
        ,       TSID
        ,       TCID
        ,       sum(case when StatusID = 1 then 1 else 0 end) as PassSteps
        ,       sum(case when StatusID = 2 then 1 else 0 end) as FailSteps
        ,       sum(case when StatusID = 3 then 1 else 0 end) as WarnSteps
        from    Results
        group by
                TRID
        ,       TSID
        ,       TCID
        ) as TestCases
group by
        TRID
,       TSID 
```

[SQL Fiddle 上的实时示例。](http://sqlfiddle.com/#!3/71e31/6/0)

# android - 如何将文本到语音输出存储为 WAV 文件？

> ID：14683559
> 
> 赞同：3
> 
> 时间：2013-02-04T09:14:06.497
> 
> 标签：android, text-to-speech, android-mediaplayer

我正在使用以下代码将`Text to Speech`输出存储为我的应用程序中的**wav**文件。我不确定错误在哪里，请您看看并建议我吗？

```
public class MainActivity extends Activity {

Button store, play;
EditText input;
String speakTextTxt;
TextToSpeech mTts;
HashMap<String, String> myHashRender = new HashMap<String, String>();
String tempDestFile ;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    store = (Button) findViewById(R.id.button1);
    play = (Button) findViewById(R.id.button2);
    input = (EditText) findViewById(R.id.editText1);
    store.setOnClickListener(new OnClickListener()  {

        public void onClick(View v) {
            speakTextTxt = "Hello world Hello world Hello world Hello world Hello world Hello world Hello world Hello world Hello world Hello world Hello world";
            HashMap<String, String> myHashRender = new HashMap<String, String>();
            myHashRender.put(TextToSpeech.Engine.KEY_PARAM_UTTERANCE_ID, speakTextTxt);

            String exStoragePath = Environment.getExternalStorageDirectory().getAbsolutePath();

            File appTmpPath = new File(exStoragePath + "/sounds/");
            appTmpPath.mkdirs();

            String tempFilename = "hello.mp3";

            tempDestFile = appTmpPath.getAbsolutePath() + "/" + tempFilename;

            new MySpeech(speakTextTxt);

        }
    });
}

class MySpeech implements OnInitListener
{

            String tts;

    public MySpeech(String tts)
    {
        this.tts = tts;
        mTts = new TextToSpeech(MainActivity.this, this);
    }

    @Override
    public void onInit(int status) 
    {
        Log.v("log", "initi");
        int i = mTts.synthesizeToFile(speakTextTxt, myHashRender, tempDestFile);
        if(i == TextToSpeech.SUCCESS)
        {

          Toast toast = Toast.makeText(MainActivity.this, "Saved "+i,
                Toast.LENGTH_SHORT);
          toast.show();   
        }
        System.out.println("Result : " + i);
    }
  }

 } 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-04T09:35:52.943

参考***Ted Hopp***在这篇[文章中的回答：](https://stackoverflow.com/questions/9713594/how-can-i-save-my-android-tts-output-in-a-wav-file)

重要的方法是[synthesizeToFile](http://developer.android.com/reference/android/speech/tts/TextToSpeech.html#synthesizeToFile%28java.lang.String,%20java.util.HashMap%3Cjava.lang.String,%20java.lang.String%3E,%20java.lang.String%29)。它会将音频写入您指定的设备上的文件中。然后，您可以使用 MediaPlayer 播放该文件，或者您可以使用 adb 命令行工具将其从设备上拉到您的开发系统上，使用命令

**编辑 ：**

试试这个代码，然后检查路径`sdcard/`是否包含文件：`test.wav`

```
HashMap<String, String> myHashRender = new HashMap();
String textToConvert = "this is a demo for saving a WAV file";
String destinationFileName = "/sdcard/test.wav";
myHashRender.put(TextToSpeech.Engine.KEY_PARAM_UTTERANCE_ID, textToConvert);
mTts.synthesizeToFile(textToConvert, myHashRender, destinationFileName); 
```

**编辑 2：**

如果您尝试将波形文件保存到内部存储器（而不是`/sdcard/`文件夹），那么实现此目的的唯一方法是在内部存储器中创建一个世界可写目录，如下所示：

```
context.getDir("soundfiles", Context.MODE_WORLD_WRITEABLE); 
```

然后写到这个目录。

**编辑 3：**

查看您的代码后，您在创建目录和文件时遇到了一些问题：代码应该是这样的：

```
speakTextTxt = "Hello world";
HashMap<String, String> myHashRender = new HashMap<String, String>();
myHashRender.put(TextToSpeech.Engine.KEY_PARAM_UTTERANCE_ID, speakTextTxt);

String exStoragePath = Environment.getExternalStorageDirectory().getAbsolutePath();
Log.d("MainActivity", "exStoragePath : "+exStoragePath);
File appTmpPath = new File(exStoragePath + "/sounds/");
boolean isDirectoryCreated = appTmpPath.mkdirs();
Log.d("MainActivity", "directory "+appTmpPath+" is created : "+isDirectoryCreated);
String tempFilename = "tmpaudio.wav";
tempDestFile = appTmpPath.getAbsolutePath() + File.separator + tempFilename;
Log.d("MainActivity", "tempDestFile : "+tempDestFile);
new MySpeech(speakTextTxt); 
```

我已经在 android 模拟器上对其进行了测试，它工作正常，但是您需要使用设备管理器指定模拟器的 sdCard 的大小，编辑 eumlator，并指定您的 sdcard 的大小：例如 512 Mb。然后你会在路径中找到 wav 文件：`mnt/sdcard/sounds/tmpaudio.wav` 要测试它，只需打开`DDMS perspective`, `File Explorer`，然后将文件导出到你的电脑。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-04T06:01:58.097

您可以使用`synthesizeToFile()`

来自[安卓](http://developer.android.com/resources/articles/tts.html%3a)

```
HashMap<String, String> myHashRender = new HashMap();
String wakeUpText = "Are you up yet?";
String destFileName = "/sdcard/myAppCache/wakeUp.wav";
myHashRender.put(TextToSpeech.Engine.KEY_PARAM_UTTERANCE_ID, wakeUpText);
mTts.synthesizeToFile(wakuUpText, myHashRender, destFileName); 
```

收到合成完成通知后，您可以像播放任何其他音频资源一样播放输出文件`android.media.MediaPlayer.`

为此，您可以使用它

```
mMediaPlayer = new MediaPlayer();
mMediaPlayer = MediaPlayer.create(this,R.raw.button);
mMediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);
mMediaPlayer.start();
mMediaPlayer.setOnCompletionListener(new OnCompletionListener() {                   
    @Override
    public void onCompletion(MediaPlayer mp) {
        mMediaPlayer.stop();
    }
}); 
```

现在你完成了

# iphone - 如何以编程方式更改 iphone 和 ipad 设备设置 -> 电子邮件地址和名称？

> ID：14683561
> 
> 赞同：0
> 
> 时间：2013-02-04T09:14:09.967
> 
> 标签：iphone, ios, cocoa-touch, iphone-developer-program

现在我正在使用 iphone 应用程序。在那个应用程序中，我使用的是谷歌日历。在 iphone、ipad 和 ipod 设备中，我想添加电子邮件地址和姓名。

在我们的设备中转到设置->邮件、联系人、日历->gmail->帐户->。在这里，我们手动编辑邮件地址和名称。

现在我想以编程方式添加这些细节。如果用户输入邮件地址和名称，我想以编程方式设置它。我附上了以上详细步骤的屏幕截图。

![在此处输入图像描述](../Images/3074948edc69c4c8623d615b150a4557.png)

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T13:00:12.597

只需在设置包中为每个字段设置标识符，然后执行以下操作

```
 [[NSUserDefaults standardUserDefaults] setObject:self.name.text forKey:id_name];
  [[NSUserDefaults standardUserDefaults] synchronize]; 
```

其中 value 是用户输入的值，并且 key 已经在设置 ​​bundle identifier(id_name) k 中设置，如果有任何疑问，请告诉我@kannan

# java-me - 使用 J2ME 查找游戏文件夹中的 jar 数量

> ID：14683567
> 
> 赞同：2
> 
> 时间：2013-02-04T09:14:49.040
> 
> 标签：java-me, lwuit

请建议我一种方法来查找手机中已安装应用程序的数量。

也可以找到具有特定名称的已安装应用程序的计数。

例子 ：

1) 如果安装了 AA.jar,bb.jar,cc.jar

```
 it should show count as 3 
```

2) 如果 AA.jar 安装了两次

```
 it should show count as 2 
```

谢谢你，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T13:13:09.730

不能使用 MIDlet 在本地完成。应用程序管理软件 (AMS) 不为其提供 API。

[http://onjava.com/pub/a/onjava/excerpt/j2menut_3/index5.html](http://onjava.com/pub/a/onjava/excerpt/j2menut_3/index5.html)

# c# - 设计模式：阻止用户删除某些配置

> ID：14683572
> 
> 赞同：1
> 
> 时间：2013-02-04T09:15:19.997
> 
> 标签：c#, sql-server, design-patterns

我的应用程序具有配置选项，其中存储应用程序首选项和它正在与之交谈的其他节点的一些网络配置。该应用程序具有调度逻辑，可以使用任何网络配置来执行调度的作业。如果任何用于计划作业的配置，应用程序不应允许删除它。

我正在使用数据库表来存储配置。添加一个布尔值来提及是否正在使用它可以帮助我解决问题，但是实现这个的正确方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:22:40.860

不要在您的解决方案中看到任何问题。保持 smple`boolean`或`bit`值表明该字段是否被使用是完全可以接受的。它在不同的数据库之间也可以很好地扩展（在你决定的那一刻，出于某种原因，改变数据库）。

因为如果您引入一些依赖于数据库的安全策略，以进行权限检查，您将与*该*数据库强耦合。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T09:20:27.997

SQL Server 引擎可以自己处理数据完整性。您只需要设置密钥和删除/更新规则。

看

*   [http://msdn.microsoft.com/en-us/library/ms190765(v=sql.105).aspx](http://msdn.microsoft.com/en-us/library/ms190765(v=sql.105).aspx) - 有关数据完整性的一般信息
*   [http://msdn.microsoft.com/en-us/library/ms177463(v=sql.105).aspx](http://msdn.microsoft.com/en-us/library/ms177463(v=sql.105).aspx) - 如何创建 FOREIGN KEY 约束

这样，您将必须捕获约束违反异常 ( `ConstraintException`) 并通过通知用户来处理它。

注意。正如@Tigran 所说，您的解决方案也没有问题。

# iphone - 如何在 ipad 上按箭头键时隐藏键盘

> ID：14683578
> 
> 赞同：0
> 
> 时间：2013-02-04T09:15:37.963
> 
> 标签：iphone, ipad, keyboard

在 iPad 中，我们有

```
 - (BOOL)textFieldShouldReturn:(UITextField *)textField
{

[textFieldOne resignFirstResponder];
[textFieldTwo resignFirstResponder];
return YES;

} 
```

但我们也可以在箭头键上关闭键盘，这样我们就可以使用箭头键的方法来显示一些东西

这是屏幕截图

![在此处输入图像描述](../Images/23ca101eeaa885aff6a51c43b88b7440.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:22:06.797

在 iPad 上单击“隐藏键盘”按钮时，不会调用任何函数。如果您想在键盘按下时执行任何操作。您可以使用以下功能：

```
- (void)textFieldDidEndEditing:(UITextField *)textField 
```

或者，您可以使用键盘通知，即`UIKeyboardWillHideNotification`.

# c# - 带有递归的 C# 反射

> ID：14683581
> 
> 赞同：5
> 
> 时间：2013-02-04T09:15:47.187
> 
> 标签：c#, reflection, recursion, nested, nested-class

我正在研究 Reflection ，但是在进行递归时我被卡住了。

代码 ：

```
public class User {
  public string Name;
  public int Number;
  public Address Address;    
}

public class Address {
 public string Street;
 public string State;
 public string Country;
} 
```

现在我正在打印这些值。

```
 Type t = user.GetType();  
 PropertyInfo[] props = t.GetProperties(); 
 foreach (PropertyInfo prp in props)  
 {  
   if(!prp.GetType().IsPrimitive && prp.GetType().IsClass) 
   {
     // Get the values of the Inner Class.
     // i am stucked over here , can anyone help me with this.

           Type ty = prp.GetType();
           var prpI = ty.GetProperties();
           //var tp = ty.GetType().;
            foreach (var propertyInfo in prpI)
            {
            var value = propertyInfo.GetValue(prp);
            var stringValue = (value != null) ? value.ToString() : "";
            console.WriteLine(prp.GetType().Name + "." + propertyInfo.Name+" Value : " +stringValue);    
            }
   }
   else
   {    
     var value = prp.GetValue(user);   
     var stringValue = (value != null) ? value.ToString() : "";
     console.writeline(user.GetType().Name + "." + prp.Name+" Value : " +stringValue); 
   }
 } 
```

我想知道如何找出属性是类还是原语。如果它是一个类，则进行递归。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-04T09:45:44.937

首先，如果要访问类型的属性，请确保使用具有属性的类型：

```
public class User {
  public string Name{get;set;}
  public int Number{get;set;}
  public Address Address{get;set;}    
}

public class Address {
 public string Street{get;set;}
 public string State{get;set;}
 public string Country{get;set;}
} 
```

第二，`prp.GetType()`永远回来`PropertyInfo`。您正在寻找`prp.PropertyType`，它将返回属性的类型。

此外，`if(!prp.GetType().IsPrimitive && prp.GetType().IsClass)`不会按照您想要的方式工作，因为`String`eg 是一个类，也不是一个原语。更好用`prp.PropertyType.Module.ScopeName != "CommonLanguageRuntimeLibrary"`。

最后但同样重要的是，要使用递归，您实际上必须将代码放入方法中。

这是一个完整的例子：

```
IEnumerable<string> GetPropertInfos(object o, string parent=null)
{
    Type t = o.GetType();  
    PropertyInfo[] props = t.GetProperties(BindingFlags.Public|BindingFlags.Instance);
    foreach (PropertyInfo prp in props)  
    {  
        if(prp.PropertyType.Module.ScopeName != "CommonLanguageRuntimeLibrary")
        {
            // fix me: you have to pass parent + "." + t.Name instead of t.Name if parent != null
            foreach(var info in GetPropertInfos(prp.GetValue(o), t.Name))
                yield return info; 
        }
        else
        {    
            var value = prp.GetValue(o);   
            var stringValue = (value != null) ? value.ToString() : "";
            var info = t.Name + "." + prp.Name + ": " + stringValue;
            if (String.IsNullOrWhiteSpace(parent))
                yield return info; 
            else
                yield return parent + "." + info; 
        }
    }
} 
```

像这样使用：

```
var user = new User { Name = "Foo", Number = 19, Address = new Address{ Street="MyStreet", State="MyState",  Country="SomeCountry" }    };
foreach(var info in GetPropertInfos(user))
    Console.WriteLine(info); 
```

它会输出

```
User.Name: Foo
User.Number: 19
User.Address.Street: MyStreet
User.Address.State: MyState
User.Address.Country: SomeCountry 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-04T10:04:55.747

首先，除非你真的需要，否则避免使用反射。它很慢，很乱，几乎无法调试（我喜欢它，但那是另一回事）

如果您想转储对象的全部内容，我建议将其转移到对象本身，它们应该知道它们的内部状态。您可以使用 objects`ToString`方法来编写它们的内部状态，或者您可以定义一个接口来显示内部状态

```
interface IStateDisplay
{
   string GetInnerState();
} 
```

并让你的对象实现它。然后显示属性的代码将是

```
Console.WriteLine(user.GetInnerState()); 
```

另一种选择是使用像[AutoMapper](http://automapper.org/)这样的工具，它可以向您隐藏反射的复杂性和复杂性，并公开一个不错的 API 以供使用。

但是，如果您正在学习反射，打印复杂对象的状态是一个很好的练习。朝那个方向的一些指示：

```
public string Name; 
```

不是属性，是字段，所以`type.GetProperties()`不会返回。阅读 C# 属性是什么，以及如何使用和定义它们。最小的属性声明是

```
public string Name {get; set;} 
```

此外，`prp.GetType()`将返回类型的类型信息`PropertyInfo`，而不是它包含的属性的类型。在这种情况下，您需要的是`prp.PropertyType`属性。

接下来，我不认为`Type.IsPrimitive`支票是你想要的。该属性对于 Boolean、Byte、SByte、Int16、UInt16、Int32、UInt32、Int64、UInt64、IntPtr、UIntPtr、Char、Double 和 Single 类型返回 true，对于其他所有类型返回 false。最重要的是`typeof(string).IsPrimitive`返回 false。

同样，我认为`Type.IsClass`支票也不是您想要的。当您使用它时，仅检查属性是值还是引用类型，并且由于值类型 ( `struct`) 也可能非常复杂并且包含它们自己的属性和字段，因此检查没有意义。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:39:13.533

```
 using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Reflection;

namespace Extensions
{
    public static class ObjectExtension
    {
        public static string ToStringProperties(this object o)
        {
            return o.ToStringProperties(0);
        }
    public static string ToStringProperties(this object o, int level)
    {
        StringBuilder sb = new StringBuilder();
        string spacer = new String(' ', 2 * level);
        if (level == 0) sb.Append(o.ToString());
        sb.Append(spacer);
        sb.Append("{\r\n");
        foreach (PropertyInfo pi in o.GetType().GetProperties())
        {
        if (pi.GetIndexParameters().Length == 0)
        {
            sb.Append(spacer);
            sb.Append("  ");
            sb.Append(pi.Name);
            sb.Append(" = ");

            object propValue = pi.GetValue(o, null);
            if (propValue == null)
            {
                sb.Append(" <null>");
            } else {
                if (IsMyOwnType(pi.PropertyType))
                {
                    sb.Append("\r\n");
                    sb.Append(((object)propValue).ToStringProperties(level + 1));
                } else{
                    sb.Append(propValue.ToString());
                }
            }
            sb.Append("\r\n");
        }
    }
    sb.Append(spacer);
    sb.Append("}\r\n");
    return sb.ToString();
}
    private static bool IsMyOwnType(Type t) 
{
    return (t.Assembly == Assembly.GetExecutingAssembly());
}
}
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-10-26T13:37:37.570

谢谢@Sloth，你的代码非常有用。对于那些获得“对象引用未设置为对象实例”的人来说，这是一个轻微的修改。错误。它创建的对象实例为 null 并且还处理数组。必须做更多的工作来处理所有可能的集合类型，但这是一个开始。

```
public static IEnumerable<string> GetPropertInfos(object o, string parent = null)
    {

        Type t = o.GetType();
        //   String namespaceValue = t.Namespace;

        PropertyInfo[] props = t.GetProperties(BindingFlags.Public | BindingFlags.Instance);
        foreach (PropertyInfo prp in props)
        {
            if (prp.PropertyType.Module.ScopeName != "CommonLanguageRuntimeLibrary")
            {
                // fix me: you have to pass parent + "." + t.Name instead of t.Name if parent != null
                object value = prp.GetValue(o);
                if (value == null)
                {

                    value =
                        Activator.CreateInstance(Type.GetType(
                            (prp.PropertyType).AssemblyQualifiedName.Replace("[]", "")));
                }

                var propertInfos = GetPropertInfos(value, t.Name);
                foreach (var info in propertInfos)
                    yield return info;
            }
            else
            {
                var type = GetTypeName(prp);

                var info = t.Name + "." + prp.Name ;
                if (String.IsNullOrWhiteSpace(parent))
                    yield return info;
                else
                    yield return parent + "." + info;
            }
        }
    } 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-02-04T09:47:17.310

您可以使用该[`Type.IsValueType`](http://msdn.microsoft.com/en-us/library/system.type.isvaluetype.aspx)物业。

# c# - asp.net 中的第一个数据 api 证书创建错误

> ID：14683586
> 
> 赞同：7
> 
> 时间：2013-02-04T09:16:02.523
> 
> 标签：c#, asp.net, firstdata

我已经从第一个数据网站下载了权限文件（“1909642928.pem”），并将其放入解决方案文件夹中。尝试从从第一个数据网站下载的权限文件（“1909642928.pem”）为应用程序创建证书文件时，出现错误：

> 该系统找不到指定的文件。

`CryptographicException`：

```
at System.Security.Cryptography.CryptographicException.ThrowCryptogaphicException(Int32 hr)
at System.Security.Cryptography.X509Certificates.X509Utils._QueryCertFileType(String fileName)
at System.Security.Cryptography.X509Certificates.X509Certificate.LoadCertificateFromFile(String fileName, Object password, X509KeyStorageFlags keyStorageFlags)
at System.Security.Cryptography.X509Certificates.X509Certificate..ctor(String fileName)   at System.Security.Cryptography.X509Certificates.X509Certificate.CreateFromCertFile(String filename)
at WebApplication3._Default.Page_Load(Object sender, EventArgs e) in e:\MY_References\TestApps\App\App\Default.aspx.cs:line 20
at System.Web.Util.CalliHelper.EventArgFunctionCaller(IntPtr fp, Object o, Object t, EventArgs e)
at System.Web.Util.CalliEventHandlerDelegateProxy.Callback(Object sender, EventArgs e)     
at System.Web.UI.Control.OnLoad(EventArgs e)
at System.Web.UI.Control.LoadRecursive()
at System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint) 
```

我从以下行收到错误：

```
FDGGWSApiOrderService OrderService = new FDGGWSApiOrderService();

OrderService.Url = @"https://ws.merchanttest.firstdataglobalgateway.com/fdggwsapi/services/order.wsdl";
OrderService.ClientCertificates.Add(X509Certificate.CreateFromCertFile>(("xxx.pem"))); 
```

如果我需要做更多的事情来从权限文件创建证书，请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T19:33:55.220

检查文件的安全权限。如果网络服务器用户无法读取它，它将显示为未找到。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T23:08:14.773

也许尝试使用 Server.MapPath("~/filename") 来定位文件

# java - 哪个是杀死线程的最整洁和/或最有效的方法

> ID：14683591
> 
> 赞同：2
> 
> 时间：2013-02-04T09:16:16.533
> 
> 标签：java, multithreading, concurrency, thread-safety

我有一个任务 x 在一个线程中连续执行，只有当布尔值将其状态更改为 true 时才会停止。我已经阅读了一些内容，并且在杀死下面代码中的线程时，我可以采用 3 种方法。3种方法哪一种有效？如果它们都不是有效或不正确的，请建议一个适当的方法和一些代码供参考。

下面是代码：

```
public class MyTest {

private static class transaction {

     private String param1,param2,param3, param4, param5;

     public transaction (String param1,String param2,String param3,String param4,String param5){
         this.param1=param1;
         this.param2=param2;
         this.param3=param3;
         this.param4=param4;
         this.param5=param5;
     }

     public String getParam1(){
         return this.param1;
     }

     public String getParam2(){
         return this.param2;
     }

     public String getParam3(){
         return this.param3;
     }

     public String getParam4(){
         return this.param4;
     }

     public String getParam5(){
         return this.param5;
     }
}

public static void processBatch(String workerName){

    try{

        java.util.List <transaction> transactions= new java.util.LinkedList<transaction>();
        java.sql.ResultSet dbtrx=Database.db.execQuery((Object)"dbname.procname");

        while(dbtrx.next()){// Takes a snapshot of the pending payments in the table and stores it into the list.
            Object obj=new transaction (dbtrx.getString("col1"), dbtrx.getString("col2"), dbtrx.getString("col3"), dbtrx.getString("col4"), dbtrx.getString("col5"));
            transactions.add((transaction)obj);
            obj=null;
        }

        java.util.Iterator<transaction> iterate= transactions.iterator();

        /* Processes the pending batch payments*/
        while(iterate.hasNext()){
            transaction trx=iterate.next();
            /*Calls posting function here*/
            System.out.println(workerName+":- Param1 : "+trx.getParam1()+" - Param2 : " +trx.getParam2()+
                    " - Param3 : "+ trx.getParam3()+" - Param4 : "+ trx.getParam4()+" - Param5 : "+ trx.getParam5());
            iterate.remove();
        }

        /*cleaning object references*/
        dbtrx=null;
        transactions=null;
        iterate=null;

     }catch(Exception e){
        e.printStackTrace();
     }
}

public static void main(String [] args) throws InterruptedException{
    volatile boolean stop=false;
    Object hold= new Object();
    new Thread("Batch Worker A"){
        @Override 
        public void run(){
            while(true){
                if(stop!=true){
                    processBatch(Thread.currentThread().getName());
                }else{
                    try{
                    Thread.sleep(0);
                    Thread.currentThread().interrupt();
                    }catch(java.lang.InterruptedException e){
                        Thread.currentThread().interrupt(); 
                        break;
                    }
                }
            }
        }}.start();

    new Thread("Batch Worker B"){
        @Override 
        public void run(){
            try{
                while(stop!=true){
                    processBatch(Thread.currentThread().getName());
                }
                Thread.sleep(0);
                Thread.currentThread().interrupt();
            }catch(java.lang.InterruptedException e){
                Thread.currentThread().interrupt(); 
            }
        }}.start();

    new Thread("Batch Worker C"){
        @Override 
        public void run(){
            while(!Thread.currentThread().isInterrupted()){
                if(stop!=true){
                    processBatch(Thread.currentThread().getName());
                }else{
                    Thread.currentThread().interrupt();
                }
            }
        }}.start();
    }
} 
```

}

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-04T09:20:01.770

推荐的方法是使用线程的中断标志来通知线程循环终止。没有理由在一个可以使用的地方使用*两个*标志（`stopped`和中断标志），而且您似乎没有将中断标志用于其他任何事情。

有关更广泛的讨论和示例，请参阅 Java 教程主题[中断。](http://docs.oracle.com/javase/tutorial/essential/concurrency/interrupt.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-04T09:23:00.070

为什么不简单地这样：

```
new Thread("Batch Worker A"){
    @Override 
    public void run() {
        while(!stop){
                processBatch(Thread.currentThread().getName());
            }
        }
    }}.start(); 
```

或者，`Thread.interrupt()`像这样使用：

```
new Thread("Batch Worker A"){
    @Override 
    public void run() {
        while(!interrupted()){
                processBatch(Thread.currentThread().getName());
            }
        }
    }}.start(); 
```

但是你需要保持对所有线程的引用，并将它们全部中断，所以布尔标志可能更简单（一定要让它变得易变）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-04T09:43:31.927

在您的所有示例中，您并没有真正杀死线程，而是在阻止批处理处理更多项目。要了解差异，请注意，当线程位于 processBatch 函数中时，您的任何方法都不会真正停止线程。

有几点需要注意：

*   在当前线程上调用 Interrupt() 毫无意义。中断背后的想法是让外部线程调用它。在您的情况下，您也可以抛出异常，或从 run() 函数返回（这将自动关闭线程）。
*   如果线程在java之外被锁定，即使interrupt()在许多情况下也不能停止线程，例如线程等待IO（如果不使用NIO），包括一个套接字，这是数据库连接，你需要设计一种不同的方式来停止 IO 内的线程（通常通过超时，但还有其他方式）。

如果您的目标只是阻止下一批发生，请使用 Joonas 的代码：

```
new Thread("Batch Worker A"){
@Override 
public void run() {
    while(!stop){
            processBatch(Thread.currentThread().getName());
        }
    }
}}.start(); 
```

如果您的目标是在运行批处理时中断该过程，您也可以这样做：

```
public static void main(String[] args) {
   var t =new Thread("Batch Worker A"){
      @Override 
      public void run() {
         processBatch(Thread.currentThread().getName());
       }
   }.start(); 
   t.interrupt();
} 
```

一般来说，中断是首选方法，使用局部范围变量和匿名类是一个非常糟糕的主意（使用静态变量，或者更好地使用带有函数的注入接口来检查线程是否应该继续）。

# hibernate - 休眠问题：使用 Inheritance:SINGLE_TABLE 和 SecondaryTables 时使用 INSERT 而不是 UPDATE

> ID：14683592
> 
> 赞同：4
> 
> 时间：2013-02-04T09:16:17.790
> 
> 标签：hibernate, inheritance, jpa, single-table-inheritance

我已经使用[SINGLE_TABLE 和 SecondaryTables](https://stackoverflow.com/a/1885037/1469083)实现了继承层次结构。

这可以正常工作，但是当我的辅助表的字段为空（在 Oracle 中 = null）时，对实体的下一次更新会失败，因为 Hibernate 认为它应该在应该更新时插入到表中。例子：

```
CREATE TABLE TASK 
(
   ID NUMBER(10) NOT NULL 
   , TYPE NUMBER(1) NOT NULL 
   , STATUS NUMBER(1) NOT NULL 
, CONSTRAINT TASK_PK PRIMARY KEY  (ID) ENABLE);

CREATE TABLE SUB_TASK 
(
  ID NUMBER(10) NOT NULL 
, TEXT VARCHAR2(4000 CHAR) 
, CONSTRAINT SUB_TASK_PK PRIMARY KEY 
(ID) ENABLE);

ALTER TABLE SUB_TASK
ADD CONSTRAINT SUB_TASK_FK1 FOREIGN KEY
(ID)REFERENCES TASK(ID)ENABLE; 
```

任务.java：

```
@Entity
@Table(name="TASK")
@Inheritance(strategy=InheritanceType.SINGLE_TABLE)
@DiscriminatorColumn(name="TYPE",discriminatorType=DiscriminatorType.INTEGER)
public abstract class Task implements Serializable, Comparable<Task> {

@Id
@Column(nullable = false)
@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = "TASK_GEN")
@SequenceGenerator(name = "TASK_GEN", sequenceName = "SEQ_TASK", allocationSize = 1)
private Long id;

@Column(name = "TYPE", nullable = false, insertable=false, updatable=false)
private int typeCode; 
```

子任务.java

```
@Entity
@DiscriminatorValue("7")
@SecondaryTable(name = "SUB_TASK", pkJoinColumns = {@PrimaryKeyJoinColumn(name = "id", referencedColumnName = "id")})
public class SubTask extends Task implements Serializable {

@Column(name="TEXT", length = 4000, table="SUB_TASK")
@Size(max = 4000)
private String text;

public String getText() {
    return text;
}

public void setText(String text) {
    this.text = text;
} 
```

}

保存以前具有 null SubTask.text 的实体时出现异常：

引起：org.hibernate.exception.ConstraintViolationException: ORA-00001: yksikäsitteistä rajoitetta (SUB_TASK_PK) loukattu

```
at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:128)
at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)
at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125)
at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110)
at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:129)
at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81)
at $Proxy75.executeUpdate(Unknown Source)
at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2965)
at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3028)
at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3350)
at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:140) 
```

我调试了相关的 Hibernate 代码，AbstractEntityPersister.java：

```
 if ( !isInverseTable( j ) ) {

        final boolean isRowToUpdate;
        if ( isNullableTable( j ) && oldFields != null && isAllNull( oldFields, j ) ) {
            //don't bother trying to update, we know there is no row there yet
            isRowToUpdate = false;
        }
        else if ( isNullableTable( j ) && isAllNull( fields, j ) ) {
            //if all fields are null, we might need to delete existing row
            isRowToUpdate = true;
            delete( id, oldVersion, j, object, getSQLDeleteStrings()[j], session, null );
        }
        else {
            //there is probably a row there, so try to update
            //if no rows were updated, we will find out
            isRowToUpdate = update( id, fields, oldFields, rowId, includeProperty, j, oldVersion, object, sql, session );
        }

        if ( !isRowToUpdate && !isAllNull( fields, j ) ) {
            // assume that the row was not there since it previously had only null
            // values, so do an INSERT instead
            //TODO: does not respect dynamic-insert
            insert( id, fields, getPropertyInsertability(), j, getSQLInsertStrings()[j], object, session );
        }

    } 
```

并且看起来第一个 if (“不要费心尝试更新”) 已经完成并且 isRowToUpdate = false，最后一个 if (if (!isRowToUpdate && !isAllNull(fields, j)) 也完成了，所以插入被执行。

我想我可以通过向表 SUB_TASK 添加一个虚拟的非空字段来解决这个问题，但这是我唯一的选择吗？

使用休眠 4.17.final

编辑：希望清楚我在做什么：

```
SubTask s = taskRepository.findOne(42l);
s.setText("dasdsa");
taskRepository.save(s); // OK
s.setText(null); 
taskRepository.save(s); // OK
s.setText("update after null value");
taskRepository.save(s); // exception 
```

我使用 Spring Data 进行持久性，但看起来问题与它无关（我假设使用 vanilla JPA 时会发生同样的事情）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T13:08:00.330

我有一个类似的问题，`@ManyToOne`在辅助表中定义了一个关系。当辅助表有一行引用主表中的实体时，关系列为空并尝试设置值，Hibernate 尝试插入新行而不是更新现有行，从而引发约束冲突异常。

解决方案是使用 annotation `@org.hibernate.annotations.Table(appliesTo="secondary_table", optional=false)`，这使得 Hibernate 更新行。

我不确定辅助表中的行不存在时的行为，但也许它可以解决您的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-21T11:33:33.313

使用@dampudia 解决方案对我有用。

请确保在主表而不是辅助表上添加以下内容。另外，请注意这里使用的 @Table 注释来自 hibernate 而不是 java.persistence。

@org.hibernate.annotations.Table(appliesTo="secondary_table", optional=false)

# css - 想让我的网页分辨率依赖？

> ID：14683595
> 
> 赞同：0
> 
> 时间：2013-02-04T09:16:37.480
> 
> 标签：css, html, screen-resolution

我正在创建一个网站，我在其中创建了单页。页面以 1366 X 768 屏幕分辨率完美显示。

但是，当我以 1024 X 768 分辨率打开同一页面时，按钮和一些文本会下降。

我想以某种方式编写 CSS，以便它在两种分辨率下都可以调整或正常工作。下面的屏幕截图显示了我的问题。

在 1366 X 768 分辨率页面看起来完美！-> [http://i50.tinypic.com/ac6blc.jpg](http://i50.tinypic.com/ac6blc.jpg)

在 1024 X 768 分辨率下某些元素会下降！！！-> [http://i50.tinypic.com/2vxnjva.png](http://i50.tinypic.com/2vxnjva.png)

有人可以查看我的代码并建议我进行更改以使页面在两种分辨率下都正确显示。

非常感谢。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <style type="text/css">
            /*=======Global Styles==========*/
            body {
                font-family:Geordia, serif;
                margin:0;
                padding:0;
            }
            a {
                color:#3E97FB;
            }
            /*==============Container=========*/
            div#container {
                position:relative;
                width:100%;
            }
            #header {
                position:absolute;
                top:5px;
                width:100%;
                background:#FFFFFF;
            }
            /*========Header 1=========*/
            #header1 {
                position:absolute;
                background:url(images/images/headerbg.png) repeat-x;
                width:100%;
                height:111px;
                left: 0px;
                top: 96px;
            }
            #header1 #form {
                float:left;
                margin-left:8%;
                margin-top:8px;
                height:70px;
                width:665px;
            }
            #form .email {
                float:left;
                margin-right:190px;
                font-family:Arial;
                font-size:12px;
                font-weight:bold;
                color:#FFF;
            }
            #form .password {
                float:left;
                margin-right:2%;
                font-family:Arial;
                font-size:12px;
                font-weight:bold;
                color:#FFF;
            }
            .clear {
                clear:both;
            }
            #form .input {
                float:left;
                width:200px;
                padding:7px 7px;
                margin-right:5px;
                width:200px;
                border-bottom: 1px double #171717;
                border-top: 1px double #171717;
                border-left:1px double #333333;
                border-right:1px double #333333;
            }
            #header1 .seprator {
                float:left;
                margin-left:30px;
                background:url(images/images/line.png);
                width:2px;
                height:72px;
                margin-top:15px;
            }
            #header1 .register {
                float:left;
                margin-left:6%;
                margin-top:8px;
                width:280px;
                height:70px;
            }
            .register .noac {
                color:#FFF;
                font-family:"Trebuchet MS";
                font-weight:bold;
                text-align:center;
            }
            .loginbtn {
                float:left;
                display: inline-block;
                width:186px;
                height:40px;
            }
            .advertiserbtn {
                display: inline-block;
                margin:10px;
            }
            .publisherbtn {
                display: inline-block;
                margin:10px;
            }
        </style>
    </head>
    <body>
        <div id="content">
            <div id="header-line"></div>
            <div id="header"></div>
            <!--End header-->
            <div id="header1">
                <div id="form">
                    <div class="email">Email:</div>
                    <div class="password">Password:</div>
                    <div class="clear"></div>
                    <input type="text" class="input" />
                    <input type="text" class="input" />
                    <input type="button" class="loginbtn" value="Login" />
                    <div class="clear"></div>
                </div>
                <!--From Div End -->
                <div class="seprator"></div>
                <div class="register">
                    <div class="noac">Don't have an account yet!</div>
                    <input type="button" class="advertiserbtn"
                    value="Free Register" />
                    <input type="button" class="publisherbtn" value="Premium Registration"
                    />
                </div>
            </div>
            <!--End header1-->
            <div id="footer"></div>
        </div>
        <!--End footer-->
        </div>
        <!--End Content Div-->
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T09:37:51.753

随着屏幕分辨率的增加，使用 CSS 媒体查询来改变元素的大小。这可以多次完成，甚至允许您的元素重新调整大小和重新排序以适应移动/平板电脑/笔记本电脑/桌面屏幕分辨率。这是一个例子：

```
@media screen and (min-width:1024px) {
   .loginbtn {
                float: left;
                display: inline;
                width: 156px;
                height: 40px;
            }
}
@media screen and (min-width:1366px) {
   .loginbtn {
                width: 186px;
            }
} 
```

采用移动优先方法，首先声明您的样式为最小宽度。在断点处更改宽度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:46:28.843

我认为您想要的是页面不会小于特定值。实现这一点的最简单方法是为您提供整个页面一个`min-width`. 如果窗口变小，将出现一个水平滚动条。

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2013-02-04T09:30:41.193

您应该尝试将尺寸指定为百分比，而不是所有 px。

# iphone - 如何在一个视图中显示两个图像 - iphone

> ID：14683600
> 
> 赞同：2
> 
> 时间：2013-02-04T09:17:07.140
> 
> 标签：iphone, ios, objective-c, uiimageview, uiimage

我需要在一个视图中显示两个图像。到目前为止，我只显示了一个图像，但是如何在一个视图中显示两个图像？在 iPhone 上可以吗？如果是这样，你能指导我怎么做吗？

注意：我需要同时显示两个图像。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-05T08:09:08.757

如果要重叠 2 个图像，请粘贴此代码，

```
 UIImage *a = [ your 1st iamge];
        UIImage *b = [ your 2nd iamge];
        UIGraphicsBeginImageContext(a.size);
        [a drawInRect:CGRectMake(0, 0, a.size.width, a.size.height)];
        [b drawInRect:CGRectMake(a.size.width - b.size.width, a.size.height - b.size.height, b.size.width, b.size.height)];
        UIImage *result = UIGraphicsGetImageFromCurrentImageContext();
        UIGraphicsEndImageContext();

        [YourImageView setImage:result]; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-04T09:43:20.193

```
UIImageView *imgView1 = [[UIImageView alloc] initWithFrame:CGRectMake(10, 10, 100, 50)];
UIImageView *imgView2 = [[UIImageView alloc] initWithFrame:CGRectMake(110, 110, 100, 50)];
imgView1.image = [UIImage imageNamed:@"image1.png"];
imgView2.image = [UIImage imageNamed:@"image2.png"];
[self.view addSubview:imgView1];
[self.view addSubview:imgView2]; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-04T09:33:22.563

您可以使用 - 2 个实例`UIImageView`，并根据需要对它们进行布局；- 或子类化并通过覆盖`UIView`绘制 2秒`UIImage``drawInRect:`

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-04T09:38:36.183

```
- (void)displayImages
{
    UIImageView *firstImage = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"yourimage"]];
    firstImage.frame = CGRectMake(0, 0, 100, 100);
    UIImageView *secondImage = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"yourimage"]];
    secondImage.frame = CGRectMake(100, 0, 100, 100);
    [self.view addSubview:firstImage];
    [self.view addSubview:secondImage];
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-04T09:30:03.727

您可以通过`UIImageViews`在视图中添加两个来做到这一点。

如果您已经在显示一个`UIImageView`，那么只需添加另一个并将第二个图像放入该图像中。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-04T09:42:17.680

使用以下代码合并两个图像

```
#import <UIKit/UIKit.h>

@interface UIImage (MyImage)

+ (UIImage*)imageFromView:(UIView*)view;
+ (UIImage*)imageFromView:(UIView*)view scaledToSize:(CGSize)newSize;
+ (UIImage*)imageWithImage:(UIImage*)image scaledToSize:(CGSize)newSize;
+ (void)beginImageContextWithSize:(CGSize)size;
+ (UIImage *)croppedImage:(UIImage *)myImage :(CGRect)bounds;

//masking the image ....

+ (UIImage*) maskImage:(UIImage *)image withMask:(UIImage *)maskImage;

@end 
```

.m 文件

```
#import "UIImage+MyImage.h"

@implementation UIImage (MyImage)

+ (void)beginImageContextWithSize:(CGSize)size
{
    if ([[UIScreen mainScreen] respondsToSelector:@selector(scale)]) {
        if ([[UIScreen mainScreen] scale] == 2.0) {
            UIGraphicsBeginImageContextWithOptions(size, YES, 2.0);
        } else {
            UIGraphicsBeginImageContext(size);
        }
    } else {
        UIGraphicsBeginImageContext(size);
    }
}

+ (void)endImageContext
{
    UIGraphicsEndImageContext();
}

+ (UIImage*)imageFromView:(UIView*)view
{
    [self beginImageContextWithSize:[view bounds].size];
    BOOL hidden = [view isHidden];
    [view setHidden:NO];
    [[view layer] renderInContext:UIGraphicsGetCurrentContext()];
    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();
    [self endImageContext];
    [view setHidden:hidden];
    return image;
}

+ (UIImage*)imageFromView:(UIView*)view scaledToSize:(CGSize)newSize
{
    UIImage *image = [self imageFromView:view];
    if ([view bounds].size.width != newSize.width ||
        [view bounds].size.height != newSize.height) {
        image = [self imageWithImage:image scaledToSize:newSize];
    }
    return image;
}

+ (UIImage*)imageWithImage:(UIImage*)image scaledToSize:(CGSize)newSize
{
    [self beginImageContextWithSize:newSize];
    [image drawInRect:CGRectMake(0,0,newSize.width,newSize.height)];
    UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext();
    [self endImageContext];
    return newImage;
}

+ (UIImage *)croppedImage:(UIImage *)myImage :(CGRect)bounds {
    CGImageRef imageRef = CGImageCreateWithImageInRect(myImage.CGImage, bounds);
    UIImage *croppedImage = [UIImage imageWithCGImage:imageRef];
    CGImageRelease(imageRef);
    CGSize asd =  croppedImage.size;
    return croppedImage;
}

+ (UIImage*) maskImage:(UIImage *)image withMask:(UIImage *)maskImage {

    CGImageRef maskRef = maskImage.CGImage; 

    CGImageRef mask = CGImageMaskCreate(CGImageGetWidth(maskRef),
                                        CGImageGetHeight(maskRef),
                                        CGImageGetBitsPerComponent(maskRef),
                                        CGImageGetBitsPerPixel(maskRef),
                                        CGImageGetBytesPerRow(maskRef),
                                        CGImageGetDataProvider(maskRef), NULL, false);

    CGImageRef masked = CGImageCreateWithMask([image CGImage], mask);

    CGImageRelease(mask);
    CGImageRelease(maskRef);
    return [UIImage imageWithCGImage:masked];

}

@end 
```

# jquery - jQuery 不响应我的点击事件

> ID：14683601
> 
> 赞同：-1
> 
> 时间：2013-02-04T09:17:12.500
> 
> 标签：jquery

```
**DEVELOPMENT.JS**
jQuery(function ($) {
$("#doContact").click(function(e) {
    e.preventDefault();
    alert("ho"); // ---- It doesn't alert ----
    $("#contact-result").html('<img src="<%THEME%>images/loading.gif">');
    var formData = $("#registerForm").serialize();
    $.post("?page=register", formData, function(response)
    {
        if(response.status == 'success')
        {   
            $.modal.close();
            $('#register-success').modal({ opacity:80 });
        }
        else
        {
            $("#register-result").addClass('register-error');
            $("#register-result").html(response.error_message);
        }
    },'json');
});
});

**CONTACTFORM.HTML**
<form id="contactForm" action="#" method="post" class="centered stylish">
        <div id="contact-result">
            <div>
                <p><label for="username" class="label">Adınız:</label>
                <input id="username" placeholder="Adınız..." name="username" maxlength="20" type="text" tabindex="1" class="input" /></p>

                <p><label for="email" class="label">Email: (geri dönüş için gerekli)</label>
                <input id="email" placeholder="Email adresiniz..." name="email" maxlength="70" type="text" tabindex="2" autocomplete="off" class="input"/></p>

                <p><label for="message" class="label">Mesajınız:</label>
                <textarea id="message" placeholder="Mesajınız..." cols="60" rows="10" name="message" maxlength="1000" type="text" tabindex="2" autocomplete="off" class="input"/></p>

                <p>
                    <button id="doContact" class="ui-button button1" type="submit"> 
                        <span class="button-left">
                            <span class="button-right">Mesajımı Gönder</span>
                        </span>
                    </button>
                </p>
            </div>
        </div>
</form> 
```

问题很简单。

jQuery 目前适用于放置在页面加载中的其他 div。（例如导航栏右上角的黄色登录区域）

但是，这个表单是由 AJAX 调用加载的，所以我相信我需要使用类似`delegate`or的函数`live`。不过，我不知道是不是这样。

你能看看吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:19:04.910

更改此行：

```
$("#doContact").click(function(e) { 
```

对此：

```
$("#contactForm").submit(function(e) { 
```

还将按钮：更改`<button id="doContact"`为提交按钮：`<input type="submit">`

**编辑：** 我不确定您是如何尝试完成此操作的，但是我会这样做-这可行：

```
<div id="output"></div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script>
    // 1\. Load the form.html file, and grab the form with an id of '#contactForm'
    // 2\. Insert the form with id '#contactForm' into the div with id '#output'
    // 3\. Submit the form
    $('#output').load('form.html #contactForm', function (html, status, xhr) {
        $('#contactForm').submit(function(e) {
            e.preventDefault();
            alert('Form has been submitted!');
        });
    });
</script> 
```

你的**form.html**

```
<div class="leftArea centered"> 
    <h2>İletişim</h2>
    <form id="contactForm" action="#" method="post" class="centered stylish">
            <div>
                <p><label for="username" class="label">Adınız:</label>
                <input id="username" placeholder="Adınız..." name="username" maxlength="20" type="text" tabindex="1" class="input" /></p>

                <p><label for="email" class="label">Email: (geri dönüş için gerekli)</label>
                <input id="email" placeholder="Email adresiniz..." name="email" maxlength="70" type="text" tabindex="2" autocomplete="off" class="input"/></p>

                <p><label for="message" class="label">Mesajınız:</label>
                <textarea id="message" placeholder="Mesajınız..." cols="60" rows="10" name="message" maxlength="1000" type="text" tabindex="2" autocomplete="off" class="input"/></p>

                <p>
                    <input type="submit" value="Contact Me">
                </p>
            </div>
    </form>
</div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T10:23:08.390

解决方案是：

```
$(document).delegate("#doContact", "click", function(){ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:27:24.273

尝试使用：

```
$("#doContact").live("click",function(e) { 
```

代替

```
$("#doContact").click(function(e) { 
```

这应该适用于 ajax 加载的表单

# image - 如何制作好看的 TextMesh 文本

> ID：14683603
> 
> 赞同：1
> 
> 时间：2013-02-04T09:17:14.080
> 
> 标签：image, unity3d, pixelate

我需要显示好看的文本我生成大文本纹理但文本看起来像素化（（如何解决这个问题？

![在此处查看像素化图像](../Images/a8f18f2f21e46247e5413171e65519e4.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T13:13:30.597

将纹理类型更改为 GUI 并将其格式设置为 TrueColor 选择纹理后，您可以在检查器中找到设置

# c# - 文本框只有数字

> ID：14683604
> 
> 赞同：0
> 
> 时间：2013-02-04T09:17:27.480
> 
> 标签：c#, xaml, c#-4.0, windows-8

我知道有人问了这个问题，但我的代码中还有另一个问题：

```
(e.Key >= Windows.System.VirtualKey.Number0) && 
(e.Key <= Windows.System.VirtualKey.Number9) 
```

它可以工作，但是当我输入`Shift+6`它`&`时，当按 shift 时输入代码将不起作用，但在按下 6 后它可以工作并输入为`&`.

我怎样才能禁用它？我在想一个全局变量，它保留前一个键，如果它是 shift 不键入但它也保持 shift，则不会同时用数字键按下 shift，或者在数字键之前预置 shift。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:26:50.823

你为什么不`TryParse`输入文本，看看它是否`int`而不是验证密钥。

如果您希望保留当前的实现，那么还要检查`Modifier`键以避免出现`Shift+6`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T09:27:34.963

您也可以检查特殊键，例如`Shift`: `Keyboard.Modifiers == ModifierKeys.Shift`。

[http://msdn.microsoft.com/en-us/library/system.windows.input.modifierkeys.aspx](http://msdn.microsoft.com/en-us/library/system.windows.input.modifierkeys.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:37:22.690

最好使用正则[表达式](http://msdn.microsoft.com/en-us/library/system.text.regularexpressions.regex.aspx)来检查用户是否输入了一个数字，因为用户也可以粘贴一个也可以有效的值。

如果您需要匹配多个数字，请使用 "^\d+$"。

请注意，“\d”将匹配 [0-9] 和其他数字字符，如东方阿拉伯数字 ٠١٢٣٤٥٦٧٨٩。使用 "^[0-9]+$" 将匹配限制为仅阿拉伯数字 0 - 9。

您应该检查将文本框中的有效值保留在私有成员中，并且每次更改文本框值时，您必须检查值是否有效，如果有效，则私有成员 = textbox.value，否则 textbox.value = 私有成员，在那如果您的用户将无法输入无效值

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-04T09:28:20.800

你应该使用**PreviewTextInput 。**它在任何其他 textchanged 或任何其他关键事件之前引发，如果你设置

*   **e.Handled**为 True 表示所有即将发生的事件都已处理，包括 (Textchanged,...)，因此它们将被取消。如果
*   **e.Handeled** false 所以一切正常

接下来，您尝试将 e.text （这是新的文本框值）解析为一个 int，如果它为真（文本是一个 int） e.handeled=False 所以 textchanged，.. 继续，否则 e.Handeled=True 什么发生

**注意** 预览事件文本框尚未更改，因此您从 e.Text 检索其值

```
 TextBox mytextblock= new TextBox();
    mytextblock.PreviewTextInput += mytextblock_PreviewTextInput; 
```

里面

```
 void mytextblock_PreviewTextInput(object sender, TextCompositionEventArgs e)
        {
            int val;
            e.Handled = !int.TryParse(e.Text, out val);
        }; 
```

# mysql - 在查询中带有换行符的 sql 注入

> ID：14683606
> 
> 赞同：3
> 
> 时间：2013-02-04T09:17:35.700
> 
> 标签：mysql, newline, sql-injection

所以我知道 SQL 注入攻击的基础知识，以及未清理的条目。所以

```
SELECT id FROM users WHERE username='$username' AND password='$password' 
```

（注意 $password 是散列的）将被击败`$username=x'`or`1=1; --`

一位朋友说，如果你在你的源代码中扔了一个\n 字符，那么你就不能将查询的其余部分注释掉。所以如果你有

```
Select id
from users
where username='$username'
and password='$password' 
```

在php中，然后将其提交给查询，那么即使他们试图注释掉用户名，它也会出错，因为它`and password='$password'`仍然会尝试并被执行。

我试过了，他似乎是对的。所以，我的问题是，虽然你仍然应该清理你的数据库输入，但这是否可以防止这样的攻击，还是有办法绕过它？

我不知道这是否重要，但我在这里专门谈论mysql。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T13:44:00.393

我对此进行了一些尝试，但我根本看不到这种使用换行符的方法有帮助。也许不同版本的 mysql 客户端之间存在一些差异，但是使用 MySQL-ND 添加换行符运行 PHP 似乎无助于发送 username `x' OR 1=1 OR '`，这根本不依赖于`--`评论，这实际上违背了整个目的换行符。

可能还有更简单的方法和其他方法，但至少它似乎很容易被击败。我永远不会相信这样的“聪明的解决方案”。

# javascript - 如何从匿名函数中对同一函数进行 setTimeout 调用？

> ID：14683607
> 
> 赞同：0
> 
> 时间：2013-02-04T09:17:38.390
> 
> 标签：javascript

```
 (function () {
        if (some scripts loaded) {
            otherFunction();
        } else {
            window.setTimeout( "CALL_SELF_AGAIN_HERE" , 100);
        }
    })(); 
```

如何从匿名函数中调用匿名函数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:19:27.243

给它一个标识符：

```
(function named () {
    if (some scripts loaded) {
        otherFunction();
    } else {
        window.setTimeout( named , 100);
    }
})(); 
```

这就是所谓的“命名函数表达式”。标识符仅在它所引用的函数的范围*内。*

不要使用[`arguments.callee`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Functions_and_function_scope/arguments/callee)，因为它已被弃用，并且实际上会在严格模式下引发语法错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:19:34.483

如果您想避免创建任何新的顶级函数名称，您可以将您的代码放在一个本地函数中，该函数为您提供一个函数名称，以便最初执行并传递给`setTimeout()`：

```
(function () {
    function doit() {
        if (some scripts loaded) {
            otherFunction();
        } else {
            window.setTimeout(doit, 100);
        }
    }
    // execute the first time
    doit();
})(); 
```

# python - Djangocrispy-forms 找不到 CSS

> ID：14683614
> 
> 赞同：5
> 
> 时间：2013-02-04T09:18:02.603
> 
> 标签：python, django, django-forms, django-crispy-forms

我正在使用 Django 和 Crispy Forms。我可以让表单正确呈现，但没有出现 CSS 格式。我需要做什么？

我已经添加了

```
CRISPY_TEMPLATE_PACK = 'bootstrap' 
```

到我的`settings.py`档案。

html 文件非常简单：

```
{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block content %}
   {% crispy form %}
{% endblock %} 
```

还需要什么才能使其发挥作用？我知道由于引导文件与crispy_forms 捆绑在一起，因此我不需要在项目的CSS 路径中专门复制和引用它们。这个对吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T10:03:46.737

听起来好像您的 django 实例找不到`static`脆表格的文件。如果您正在运行开发服务器，您是否包含`'crispy_forms'`在内`INSTALLED_APPS`？

如果您正在运行生产服务器，您可能需要确保您的`STATIC_FILES`路径正确并且您最近运行`collectstatic`过。

作者在[这里](http://django-crispy-forms.readthedocs.org/en/latest/install.html#installing-django-crispy-forms)记录了安装过程——你完全遵循了吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-12-10T18:58:27.953

它应该是`{{ form|crispy }}`，不是`{{ crispy form }}`。您正在将表单通过过滤器（这是`|`Django 模板中的功能）。另外，您忘记了`{% csrf_token %}`.

# servlets - Java Web 应用程序 - 部署描述符 - URL 模式映射

> ID：14683615
> 
> 赞同：1
> 
> 时间：2013-02-04T09:18:03.257
> 
> 标签：servlets, web.xml, web-deployment, url-mapping

两个 URL 映射有什么区别： /* 和 / ？

`<servlet-mapping>
<servlet-name>MyServlet</servlet-name>
<url-pattern>/*</url-pattern>
</servlet-mapping>
<servlet-mapping>
<servlet-name>DefaultServlet</servlet-name>
<url-pattern>/</url-pattern>
</servlet-mapping>`

阅读规格后我的理解是：

模式 /* 将强制所有内容通过`MyServlet`.
模式 / 将成为`DefaultServlet`应用程序中的默认 servlet。

两者对我来说几乎意味着相同。请让我知道是否有任何具体区别？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T14:26:06.460

感谢您的链接，通过它们我已经编译了这个答案。让我们看一个样本`web.xml`：

**情况1：**

`<servlet-mapping>
<servlet-name>servlet1</servlet-name>
<url-pattern>*.do</url-pattern>
</servlet-mapping>
<servlet-mapping>
<servlet-name>servlet2</servlet-name>
<url-pattern>/*</url-pattern>
</servlet-mapping>` `

在这种情况下，所有的请求`/context/`，都会调用。`/context/anything``/context/sample.do``servlet2`

**案例二：**

`<servlet-mapping>
<servlet-name>servlet1</servlet-name>
<url-pattern>*.do</url-pattern>
</servlet-mapping>
<servlet-mapping>
<servlet-name>servlet2</servlet-name>
<url-pattern>/</url-pattern>
</servlet-mapping>` `

在这种情况下，请求类似于`/context/`、`/context/anything`调用`servlet2`和`/context/sample.do`将调用`servlet1`。

# windows-services - 运行 Installutil 在共享文件夹上安装 Windows 服务

> ID：14683618
> 
> 赞同：2
> 
> 时间：2013-02-04T09:18:11.577
> 
> 标签：windows-services, installutil

-你好，

我正在尝试从这样的共享文件夹安装 Windows 服务：

```
installutil "\\\10.1.5.120\Path1\Path2\MyService.exe" 
```

并出现此错误：

```
Exception occurred while initializing the installation:
System.IO.FileLoadException: Could not load file or assembly 'file://\\10.1.5.120\Path1\Path2\MyService.exe' or one of its dependencies. Operation is not supported. (Exception from HRESULT: 0x80131515). 
```

installutil 日志文件中没有日志，当我尝试从本地路径安装服务时，它会成功安装。

所以我想知道是否可以从共享路径在电脑上安装 Windows 服务？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-09-16T08:04:23.560

您是否尝试过添加

```
<runtime>
   <loadFromRemoteSources enabled="true" />
</runtime> 
```

在 installutil.exe 所在的 installutil.config 中？

您也可以尝试右键单击 dll 和服务 exe -> 属性 -> 取消阻止。

# javascript - 检查 GoogleMap Canvas 元素是否已经空闲

> ID：14683619
> 
> 赞同：7
> 
> 时间：2013-02-04T09:18:14.550
> 
> 标签：javascript, google-maps-api-3

我的问题很直接。

```
google.maps.event.addListenerOnce(map, 'idle', function() {
    // code
}); 
```

此代码片段将在地图当前**忙于**缩放或平移后触发。不是在它已经空闲的时候。

有没有办法在 if 语句中检查画布的状态？因此，当它已经空闲时，您会在`// code`不添加侦听器的情况下进行操作吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-05T02:33:54.940

没有记录的属性表明地图的空闲状态，但您可以自己实现它。

假设您在地图初始化后立即调用它：

```
google.maps.event.addListener (map, 'idle', function(){
           this.lastBounds=this.getBounds();
}); 
```

然后您可以检查 lastBounds-property 是否等于地图的当前边界：

```
if (map.lastBounds==map.getBounds()){
    //call function immediately
}else{
    //add listener
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-12-26T13:16:53.320

接受答案的解决方案不适用于 v3。Map::getBounds 方法使用边界对象工厂，因此它为每次调用返回一个新对象。因此，与最后一个界限进行比较总是返回 false。

解决方法是使用 'bounds_changed' 事件，如下所示。

```
var isIdle = false; // Initializing the idle flag before the map is created

var map = new google.maps.Map(/* Map initialization arguments */)

map.addListener('idle', function() {
    isIdle = true;
});
map.addListener('bounds_changed', function() {
    isIdle = false;
});

if(isIdle) {
    // Do the idle stuff
} else {
    map.addListenerOnce('idle', function() {
        // Do idle stuff
    });
} 
```

# iphone - 为什么 Facebook 的“赞页面”响应是错误的？

> ID：14683623
> 
> 赞同：-1
> 
> 时间：2013-02-04T09:18:35.270
> 
> 标签：iphone, ios, json, facebook-graph-api, facebook-like

我已经在我的 iPhone 应用程序中实现了 facebook“Page Like”的功能。我正在使用[https://graph.facebook.com/me/likes/18168151511?access_token=xxxxxxxxx](https://graph.facebook.com/me/likes/18168151511?access_token=xxxxxxxxx)链接来点赞 FB 页面。此页面返回一个 json 作为响应。如果页面被喜欢，那么它的响应 json 是这样的

```
{
   "data": [
      {
         "category": "Local business",
         "name": "Sky Zone",
         "id": "xxxxxxxx",
         "created_time": "2013-02-04T07:51:15+0000"
      }
   ],
   "paging": {
      "next": "https://graph.facebook.com/100001965134734/likes?target_id=18168151511&access_token=AAAFJTR2OINoBAKz6HZAYcZCEcLOZCegJnLk0vqPSqxsBOQZC8kb0I6xEYy2GXqsOROicqMMwpMEhZCw8tpZBP2AiAiyQf69vv4EWalZCHRmjwZDZD&limit=5000&offset=5000&__after_id=18168151511"
   }
} 
```

如果页面不受欢迎，则返回一个空的 json。但是对于某些 id，当他们喜欢这个页面时它返回空 json，但它仍然返回空 json。任何帮助plzzzz我真的坚持下去

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:45:32.587

这是一个 facebook 方面的问题，这个问题还没有解决。对于某些 ID，它工作得很好，但对于某些 ID，它在任何一种情况下都返回空。如果我们通过适当的渠道，那么这个链接非常有用[http://www.masteringapi.com/tutorials/facebook-api-check-if-a-user-is-fan-of-a-facebook-page/20/](http://www.masteringapi.com/tutorials/facebook-api-check-if-a-user-is-fan-of-a-facebook-page/20/) 就我而言，我在 iOS 上应用了这个，所以这个链接对我没有太大帮助。最后我只是检查了我的 UIWebView 中的语句。如果用户喜欢这个页面，那么只有 2 种情况的陈述，

> 1.  您和其他 10,000 人喜欢此页面。
> 2.  您、您的朋友姓名、您的朋友姓名和其他 10,000 人喜欢此页面。

因此，如果您对“您和”或“您”进行了罚款，则表示用户喜欢此页面，否则用户不喜欢此页面。

# api - 获取谷歌知识图谱信息

> ID：14683630
> 
> 赞同：1
> 
> 时间：2013-02-04T09:19:05.043
> 
> 标签：api

在 google 中搜索一个人的姓名时，我们可以在右侧看到该人的信息和照片。我浏览了谷歌 API，但找不到此功能的插件。有什么办法可以通过 API 提取这些信息吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-20T10:04:04.110

据我了解，[Google Freebase 项目](https://developers.google.com/freebase/)是 Google 开放知识图谱的接口。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-12-05T12:19:45.267

Freebase 已关闭。如果要提取数据，现在可以使用：[Google Knowledge Graph Search API](https://developers.google.com/knowledge-graph/)。

# c++builder - 在c ++ builder中将组合框添加到listview控件

> ID：14683631
> 
> 赞同：1
> 
> 时间：2013-02-04T09:19:04.577
> 
> 标签：c++builder, vcl

我想创建一个包含 2 列的列表视图。在第一列中，它必须是行号，在第二列中，它应该包含一个组合框。我编写了以下代码，但第二列仅显示“组合”字符串。它不显示任何组合框。怎么了？

```
for (int   i = 0; i < 10; i++) {

TListItem *items;
items= this->ListView1->Items->Add();
items->Caption=IntToStr(i);

items->SubItems->AddObject("combo"+IntToStr(i),(TObject *)this->ComboBox1);

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T11:09:20.390

它没有显示 a`TComboBox`因为您实际上没有将 设置`TComboBox`为 的子控件`TListView`。您所做的只是将`TComboBox`指针存储为与`TListItem`. 这对 UI 没有影响，所以去掉它：

```
for (int i = 0; i < 10; i++)
{
    TListItem *items = ListView1->Items->Add();
    items->Caption = IntToStr(i);
    items->SubItems->Add("combo"+IntToStr(i));
} 
```

要实际显示 的`TComboBox`内部`TListView`，您必须将 分配`TListView`为`Parent`，`TComboBox`然后在需要显示时使用该`SetBounds()`方法来定位和调整大小：`TComboBox`

```
ComboBox1->Parent = ListView1;
...
RECT rect = {0};
ListView_GetSubItemRect(ListView1->Handle, SomeListItem->Index, 1, LVIR_BOUNDS, &rect);
ComboBox1->SetBounds(rect.left, rect.top, rect.right-rect.left, rect.bottom-rect.top);
// update ComboBox1->Items as needed...
ComboBox1->Visible = true;
...
ComboBox1->Visible = false; 
```

话虽如此，您尝试做的事情最好使用`TValueListEditor`组件来处理。根据需要向其中添加项目，然后使用其`ItemProps`属性将每个项目的`TItemProp.EditStyle`属性设置为 ，然后根据需要`esPickList`使用`TValueListEditor.OnGetPickList`事件或`TItemProp.PickList`属性来管理 ComboBox 字符串。

# html - 如何在 Google App Engine 上仅提供静态文件？

> ID：14683637
> 
> 赞同：3
> 
> 时间：2013-02-04T09:19:22.500
> 
> 标签：html, google-app-engine

我用 HTML5 写了一个游戏。在本地，它只有在我运行时才有效：

```
python -m SimpleHTTPServer 
```

然后我打开`localhost:8000`. 所以，只有一堆 .html 和 .js 文件是行不通的。我想把我的游戏放到网上，因为这个 Github (Pages) 是不可能的，因为它不起作用。

这是我需要服务器的代码部分（我确实意识到这`localhost:8000/res/`在 App Engine 上不起作用，我需要更改地址）：

```
var mapFile = new XMLHttpRequest();
var self = this;
mapFile.open("GET", "http://localhost:8000/res/map" + mapNumber.toString() + ".txt", true);

mapFile.onreadystatechange = function() {
  if (mapFile.readyState === 4) {
    if (mapFile.status === 200) {
      self.lines = mapFile.responseText.split("\n");
      self.loadTilesFromLines();
    }
  }
};

mapFile.send(null); 
```

所以，我听说 Google App Engine 可以工作，它支持 Python 并且很受欢迎。现在，我不需要他们文档中的任何东西（写得很好）：

```
import webapp2

class MainPage(webapp2.RequestHandler):
    def get(self):
        self.response.headers['Content-Type'] = 'text/plain'
        self.response.write('Hello, webapp2 World!')

app = webapp2.WSGIApplication([('/', MainPage)],
                              debug=True) 
```

我所需要的只是一个 SimpleHTTPServer，它允许我打开我`index.html`的`my-app.appspot.com`.

我确实尝试了该示例并启动并运行它，但我无法强制我的浏览器打开`index.html`或`src/`什至`res/`.

所以，我什至不确定 Google App Engine 是否支持我在这里想要实现的目标。文档只专注于构建使用 Python 的应用程序，而我在 Python 中需要的只是一个 SimpleHTTPServer，我认为 App Engine 不需要它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T09:52:43.753

是的，这对于您要在这里实现的目标是非常可行的。由于您只想提供静态文件，因此非常简单，您不需要包含任何 Python 代码。

假设您具有以下结构：

```
└── my-game
    ├── app.yaml
    └── static
        ├── index.html
        ├── js
        │   └── script.js
        └── res
            └── map.txt 
```

这`app.yaml`应该是这样的：

```
application: my-app
version: 1
runtime: python27
api_version: 1
threadsafe: yes

handlers:

- url: /
  static_files: static/index.html
  upload: static/index.html

- url: /
  static_dir: static/ 
```

After you're going to install the [Google App Engine SDK](https://developers.google.com/appengine/downloads#Google_App_Engine_SDK_for_Python) (if you didn't do that already), you will be able to run the `dev_appserver.py` command from your terminal. If you have the above structure try to run it using the following:

```
$ dev_appserver.py /path/to/my-game 
```

If everything went smoothly you'll be able to see your `index.html` on `http://localhost:8080`, the `map.txt` on `http://localhost:8080/res/map.txt` and you should be able to figure out the rest.

Note that you could still run your application using the `python -m SimpleHTTPServer` from within the `static` directory and test it on `localhost:8000`.

# android - 获取自定义 ImageView 的背景颜色

> ID：14683642
> 
> 赞同：0
> 
> 时间：2013-02-04T09:19:35.703
> 
> 标签：android, imageview

我确实创建了一个自定义 ImageView。

我正在尝试在构造函数中获取 ImageView 的背景颜色。

```
public class CustomImageView extends ImageView{
    public CustomImageView(Context context, AttributeSet attrs, int defStyle) {
            super(context, attrs, defStyle);

    }
} 
```

如何使用 gainStyledAttributes 获取图像视图的背景颜色？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T10:59:00.063

```
// Set background
TypedArray defaultTypedArray = context.obtainStyledAttributes(attrs, 
                                                new int[] {android.R.attr.background});

int color = defaultTypedArray.getColor(0, Color.TRANSPARENT); 
```

# java - 在不使用 isChangingConfigurations() 的情况下检测 onStop() 方法中的配置更改

> ID：14683644
> 
> 赞同：3
> 
> 时间：2013-02-04T09:19:37.560
> 
> 标签：java, android, api, android-activity

目前我正在使用 API 级别 10 编写 Android 应用程序。我需要检测`onStop()`方法中的配置更改（屏幕旋转）。我不能使用`isChangingConfigurations()`方法，因为它仅在 API 级别 11 或更高版本中可用。

如何在`onStop()`方法中手动检测配置更改？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-04T09:44:51.997

您能否更深入地解释您的问题，因为我在这里看不到案例...我的意思是 onStop()，因为您可以在此处阅读[http://developer.android.com/reference/android/app/Activity.html#onStop( )](http://developer.android.com/reference/android/app/Activity.html#onStop())当您的活动不再对用户可见时被调用。它也永远不会被调用。因此，当您的活动消失时，我看不到您将如何检测任何 UI 行为。

如果您想检测一些 UI 行为，您需要在清单中的活动声明中的 android:configChanges 属性中声明它。您可以在此处查看文档[http://developer.android.com/guide/topics/manifest/activity-element.html](http://developer.android.com/guide/topics/manifest/activity-element.html)

在您的情况下（屏幕旋转），您将需要 android:configChanges="orientation|screenLayout" 方向处理 prehoneycomb 设备中的屏幕旋转和 screenLayout 其余部分。

因此，当您在活动元素中声明并旋转设备时，将调用 onConfigurationChanged() 方法（您应该覆盖该方法），您可以在其中执行操作。活动本身不会被重新创建，并且不会调用 onCreate()。

# asp.net - 如何提高此功能的性能？

> ID：14683645
> 
> 赞同：0
> 
> 时间：2013-02-04T09:19:41.097
> 
> 标签：asp.net, sql, sql-server, vb.net

此函数执行大约需要 1.2 秒。我无法理解为什么？是因为内部连接吗？如果是，那么我该如何提高执行速度？我正在使用 Microsoft 企业库。

```
 Public Shared Function GetDataByInterests(ByVal accountId As Integer) As Object

            Dim details As New List(Of GetIdBasedOnInterest)()
            Dim getIDs As New GetIdBasedOnInterest

            Dim interests As String = ""

            Dim db As SqlDatabase = Connection.Connection

            Using cmdGeneric As DbCommand = db.GetSqlStringCommand("SELECT Interests.InterestName FROM UserInterests INNER JOIN Interests ON UserInterests.InterestID = Interests.InterestID WHERE UserInterests.AccountID=@AccountID")
                db.AddInParameter(cmdGeneric, "AccountID", SqlDbType.Int, accountId)
                Dim dsInterests As DataSet = db.ExecuteDataSet(cmdGeneric)
                For i = 0 To dsInterests.Tables(0).Rows.Count - 1
                    If i = dsInterests.Tables(0).Rows.Count - 1 Then
                        interests = interests & dsInterests.Tables(0).Rows(i).Item(0).ToString
                    Else
                        interests = interests & dsInterests.Tables(0).Rows(i).Item(0).ToString & ","
                    End If
                Next
            End Using
    getIDs.InterestName = interests
            details.Add(getIDs)

            Return details
        End Function 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:54:29.880

在不知道任何基础表及其索引的情况下（这是您应该立即进行的检查），您的循环中有一个明显的问题。
您可以连接字符串，这可能会对程序使用的内存造成很大压力。
字符串连接会导致在内存上分配一个新字符串，因此，如果您的表包含许多行，则效果可能会很明显。

您可以尝试使用[StringBuilder](http://msdn.microsoft.com/en-us/library/2839d5h5%28v=VS.100%29.aspx)

```
Dim interests As new StringBuilder(1024) ' suppose an internal buffer of 1K'
...

If i = dsInterests.Tables(0).Rows.Count - 1 Then
    interests.Append(dsInterests.Tables(0).Rows(i).Item(0).ToString)
Else
    interests.Append(dsInterests.Tables(0).Rows(i).Item(0).ToString & ",")
End If

....

getIDs.InterestName = interests.ToString 
```

当然，如果您的表 (`UserInterests`和`Interests`) 没有在字段上正确索引`InterestID`并且`AccountID`

**编辑：**另一个微优化是删除内部 IF 测试并仅在循环结束后截断结果输出

```
For ....
    interests.Append(dsInterests.Tables(0).Rows(i).Item(0).ToString & ",")
Next
if(interest.Length > 0) interest.Length -= 1; 
```

**编辑**至于您的要求，这是创建唯一索引的示例。语法可能更复杂，并且取决于 Sql Server 版本，但基本上你在 Sql Management Studio 中执行此操作

```
CREATE UNIQUE INDEX <indexname> ON <tablename>
(
   <columntobeindexed>
) 
```

查看 MSDN 上的[CREATE INDEX](http://msdn.microsoft.com/en-US/library/ms188783%28v=SQL.90%29.aspx)语句示例

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T10:24:04.890

1) 在 SQL Server Management Studio 中为您的查询计时。将它与您的 VB 代码隔离开来调整它会容易得多。您还可以运行显示查询计划，它甚至可以建议新的索引。

2）检查您是否定义了相关的主键和索引。

3) 从你的 for 循环中提取常用表达式，以避免一遍又一遍地重新计算相同的东西：

4) 就像史蒂夫说的，使用 StringBuilder

结合这些点：

```
 Dim theTable as ...
            Dim rowCount as Integer
            Dim interests As new StringBuilder(1024)
            Set theTable = dsInterests.Tables(0)
            rowCount = theTable.Rows.Count 
            For i = 0 To rowCount  - 1
                interests.Append(theTable.Rows(i).Item(0).ToString)
                If i <> rowCount - 1 Then
                    interests.Append(",")
                End If
            Next 
```

# c++ - 如何在 iOS 中使用 Opencv 检测嘴唇边缘？

> ID：14683646
> 
> 赞同：7
> 
> 时间：2013-02-04T09:19:43.077
> 
> 标签：c++, ios, xcode, opencv

我是 OpenCV 的新手，所以请帮帮我。我想使用 OpenCV检测**嘴唇边缘。**那么你能给我一些链接和解决方案吗？我已经检查了使用 OpenCV 检测面部和嘴巴的正常程序，但准确性不存在。我已经使用“haarcascade_mcs_mouth”来检测图片中的嘴巴，但结果不是很好。我听说过**AAM**方法，但无法获得任何有关它的文件。请帮我...

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-04T15:59:06.827

嘴唇识别是计算机视觉中的一个问题，尚未完全解决。您一直在使用的类似 haar 的分类器（包含在 OpenCV 中）在人脸识别方面表现良好，但对于嘴唇识别，已经开发了更好的技术。您将不得不构建不同的算法并为您的目的选择更好的算法。由于额外的限制（内存占用、CPU 等），您正在为 iOS 开发这一事实使任务变得更加困难。我为您简要概述了唇形识别的最新技术，以便您可以进一步研究：

识别嘴唇的方法可以分为三大类：

*   **基于图像的技术**：这些技术基于皮肤和嘴唇具有不同颜色的假设。论文[2]是这种方法应用于手语识别的一个例子。[3] 也探索了颜色聚类。它假设图像中有两个像素类：皮肤和嘴唇。例如，如果该人有胡须或正在露出牙齿，则此方法不合适。

*   **基于模型的技术**：这些方法比以前的方法更稳健，因为它们使用有关唇形的先验信息。但是，它们的计算成本更高，因此它们可能不适合在移动设备上实现。AAM（Active Appearance Models）属于这一组，它从人工标注的数据中学习嘴唇的形状。[在维基百科文章](http://en.wikipedia.org/wiki/Active_appearance_model)的“外部链接”部分，您可以看到一些可以移植到 C++/OpenCV 的开源实现和库。

*   **混合技术**：这些方法是基于图像的方法和基于模型的方法的组合。通常，首先将基于颜色的技术应用于图像，以估计唇部区域的位置和大小；然后，将基于模型的技术（如 AAM）应用于感兴趣区域以提取唇部轮廓。[4] 是这种技术的一个例子。

[2] U. Canzler 和 T. Dziurzyk，“基于视频的手语识别的非手动特征提取”。;在 MVA 诉讼中。2002, 318-321

[3] Leung、Shu-Hung、Shi-Lin Wang 和 Wing-Hong Lau。“使用包含椭圆形状函数的模糊聚类进行唇部图像分割。” 图像处理，IEEE Transactions on 13.1 (2004)：51-62。

[4] 布维尔，克里斯蒂安，PY。库伦和泽维尔马尔达格。“基于 ROI 优化和参数模型的无监督嘴唇分割。” 图像处理，2007。ICIP 2007。IEEE 国际会议。卷。4\. IEEE，2007。

# php - 如何使用 MySQL 更新集合

> ID：14683650
> 
> 赞同：0
> 
> 时间：2013-02-04T09:19:49.560
> 
> 标签：php, mysql, set, sql-update

我有一个正在学习的简单、不安全的本地数据库（是的，目前仍在使用 MySQL）我可以在表中查看我的数据库行，然后单击一个编辑按钮，该按钮然后显示在每列中选择的单个记录文本框更新和保存。

这是我的编辑页面的一部分，它显示了五个文本框，我正在尝试使用这些文本框来更新数据库

```
<?php
while ($row=mysql_fetch_array($result))
{
?>
<form action="updateinfo.php" method="post">
<tr>
  <td align="right">Partnumber:</td>
  <td align="left"><input type="text" name="partnumber" value="<?php echo $row['partnumber'];?>"/></td>
</tr> 
```

这是我的更新信息

```
<?php
mysql_connect("localhost","name","password") or die("Error: ".mysql_error()); 
mysql_select_db("toner");

$partnumber  = $_POST['partnumber'];
$description = $_POST['description'];
$vendor      = $_POST['vendor'];
$price       = $_POST['price'];
$quantity    = $_POST['quantity'];
$sql         = "UPDATE inventory SET partnumber ='".$partnumber."',description ='".$description."',vendor ='".$vendor."',price ='".$price."',quantity ='".$quantity."' WHERE partnumber = '".$partnumber ."'";

mysql_query($sql) or die ("Error: ".mysql_error());
echo "Database updated.";
header( "refresh:5;url =toner.php" );
?> 
```

它显示数据库已更新但未进行任何更改，感谢任何帮助，是的，我知道它容易受到注入，我应该使用 PDO 或 MySQLi，但我仍然是初学者，这就是我选择的地方开始学习。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:23:40.293

```
<?php
while ($row=mysql_fetch_array($result))
{
?>
<form action="updateinfo.php" method="post"
<tr>
  <td align="right">Partnumber:</td>
  <td align="left"><input type="text" name="partnumber" value="<?php echo $row['partnumber'];?>"/></td>
</tr> 
```

如果此循环运行 5 次：

1.  您正在创建 5 个不同的表单，但没有`</form>`
2.  您只发布一个字段`partnumber`
3.  在您的 UPDATE 查询中，partnumber 使用相同的 partnumber 进行更新，因此由于没有发布其他字段，因此看不到任何更改

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-04T09:23:12.647

而不是这个

```
<form action="updateinfo.php" method="post"

$sql = "UPDATE inventory SET partnumber ='".$partnumber."',description ='".$description."',vendor ='".$vendor."',price ='".$price."',quantity ='".$quantity."' WHERE partnumber = '".$partnumber ."'"; 
```

用这个 ：

```
<form action="updateinfo.php" method="post">

$sql = "UPDATE inventory SET partnumber ='".$partnumber."',description ='".$description."',vendor ='".$vendor."',price ='".$price."',quantity ='".$quantity."' WHERE partnumber = '".$partnumber."'"; 
```

删除空间`'".$partnumber ."'`

现在试试也许它会帮助你。

# javascript - 事件函数的问题

> ID：14683656
> 
> 赞同：0
> 
> 时间：2013-02-04T09:20:07.320
> 
> 标签：javascript, jquery, html, css, function

我对 jQuery 有一个奇怪的问题。

`<a>`我有一个函数，它在标签的事件上执行。

```
link.click(someAction); 
```

在动作中，我修改了另一个 div 元素，在这里我只是设置了一些 CSS 参数并修改了类。

这按预期工作。

现在，我想`someAction`使用 bool 参数进行扩展。
我想我现在可以按如下方式调用该方法：

```
link.click(function () {
    someAction(true);
}); 
```

不幸的是，这不起作用。我不知道为什么。
该方法被调用，一切都被调用，但 CSS 和类根本没有改变。

然后再次通过调用完全相同的方法`link.click(someAction);`来工作。

谁能告诉我为什么？

* * *

## 这是一些代码

```
var openPopover = function( showOverlay ){
    if (typeof showOverlay === "undefined" || showOverlay === null) showOverlay = true;

    if (showOverlay) {
        // Add transparent overlay
        overlay.show();
}

    // Select popover next to the clicked item
    popover = $(this).next("div.popover");
    // It positioned underneath the clicked item, with the spacing above

    // Display the popover
    popover.show();

    // Reset classes
    popover.removeClass("hide-animation");
    popover.addClass("show-animation");

    var animationEnd = function() {         
        $(overlay).off("webkitTransitionEnd");
        $(overlay).off("oTransitionEnd");
        $(overlay).off("transitionend");
    };

    // Add animation did end observer
    $(overlay).on("webkitTransitionEnd", animationEnd);
    $(overlay).on("oTransitionEnd", animationEnd);
    $(overlay).on("transitionend", animationEnd);

    // Run animations
    popover.addClass("shown");
    overlay.addClass("shown");

    // If the browser doesn't support css3 animations, we call it manually
    if (!supportsCSSAnimations) {
        setTimeout(animationEnd, animationDuration);
    }
  }; 
```

* * *

```
 selectButton.hover(openPopover); // Opens the popover correctly

  selectButton.hover(function () {
    openPopover(true); // Doesn't work
  }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:27:13.743

更改后：

`this`在以下行中，将指向`window`：

```
popover = $(this).next("div.popover"); 
```

而之前，它指向`selectButton`. 尝试：

```
selectButton.hover(function () {
  openPopover.call(this, true);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:25:30.240

确保在单击链接后阻止默认：

```
link.click(function (e) {
    e.preventDefault();
    someAction(true);
}); 
```

# php - 如何处理 PHP 中大于 16 位的值？

> ID：14683658
> 
> 赞同：5
> 
> 时间：2013-02-04T09:20:15.083
> 
> 标签：php

我正在使用 SOAPclient 调用一个方法，该方法（远程外部 SOAP Web 服务）返回一个 19 位数字。我无法控制退回的内容。当我打印这个数字的值时，只有前 16 位数字是准确的。我尝试过类型转换、GMP 等。但是当 php 根据 Web 服务调用的结果将值分配给变量时，看起来完整的 19 位数字已经丢失。所以没有办法检索该值。

```
$client = new SoapClient($sccSystemWSDL);
try{
    $sessionID = $client->logonUser($adminUser,$passWord);
} 
```

在 64 位机器上我没有这个问题。但现在我必须在 32 位机器上运行它，直到现在还没有运气。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-04T09:23:15.263

使用[BCMath](http://php.net/manual/en/intro.bc.php)它允许将数字作为字符串而不是整数处理，因此没有大小限制。此外，您应该将[精度](http://www.php.net/manual/en/ini.core.php#ini.precision)指令增加到更大的数字，例如 20 左右。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T11:50:04.053

Cryptic 对使用 BCMath 的回答很好。或者，您可以使用 phpseclib 的[BigInteger](http://phpseclib.sourceforge.net/math/intro.html)类，它是 BCMath*和*GMP 的包装器，并且还具有自定义 PHP 回退。

存在您遇到的问题是因为 PHP 没有对超过其运行系统的最大整数值的整数的内置支持。相反，它仅限于操作系统支持的内容。对于 32 位系统，这意味着最大整数值为 2^31，而在 64 位系统上，该值为 2^63（保存一位以对值进行符号化，例如指示它是正数还是负数）。

# wordpress - 如何控制 WordPress 二十十二主题中的响应式导航菜单？

> ID：14683659
> 
> 赞同：2
> 
> 时间：2013-02-04T09:20:16.830
> 
> 标签：wordpress, wordpress-theming

在默认的二十一十二主题中，当浏览器/屏幕宽度小于 600 像素并且功能不同时，顶部主菜单会变为一个按钮。我不知道这个替代菜单的代码控制或样式。

[二十二预览](http://wp-themes.com/twentytwelve/?TB_iframe=true&width=1149&height=527)

有人可以帮我找到一种禁用/编辑它的方法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-04T14:34:41.590

这是由 /navigation.js 脚本处理的。

负责此的线路是这样的：

```
<script src="http://wp-themes.com/wp-content/themes/twentytwelve/js/navigation.js?ver=1.0" type="text/javascript"> 
```

您可以在 functions.php 的第 103 行禁用它：

```
 wp_enqueue_script( 'twentytwelve-navigation', get_template_directory_uri() . '/js/navigation.js', array(), '1.0', true ); 
```

像这样评论它：

```
// wp_enqueue_script( 'twentytwelve-navigation', get_template_directory_uri() . '/js/navigation.js', array(), '1.0', true ); 
```

话虽这么说，我真的不明白为什么有人要禁用它，但我想这与问题无关..

**编辑我：**

正如@Lucky Son 正确评论的那样，您应该使用[wp_deregister_script()](http://codex.wordpress.org/Function_Reference/wp_deregister_script)

```
wp_deregister_script( 'twentytwelve-navigation' ) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-17T15:06:33.187

好的，我已经设法弄清楚是什么控制了这个，我不确定它是否完全回答了我原来的问题，但我会分享我现在所知道的......

我相信它主要由主题 style.css 中的媒体查询控制。在本节中`@media screen and (min-width: 600px)`，您将在屏幕/浏览器宽度超过 600 像素时找到导航菜单的样式，一旦宽度低于 600 像素，替代样式由主题 CSS 文件主体中的 CSS 声明控制，在第 578 行附近：`/* Navigation Menu */`。

按钮的外观也设置在`@media screen and (min-width: 600px)`代码下，`.menu-toggle {display: none;}`即它隐藏在 600px 以上，一旦宽度低于 600px，就像以前一样，它会出现（不再设置为 display:none）并使用主体中的样式CSS 文件，在第 602 行附近。

因此，如果您想完全禁用该按钮，您可以将其设置为`.menu-toggle {display: none !important;}`适用于所有屏幕宽度，并且如果您希望主导航菜单的外观保持固定，请确保它也适用于所有屏幕宽度，确保它覆盖所有屏幕宽度下的菜单样式`@media screen and (min-width: 600px)`。您可以通过在媒体查询块之后编写代码来覆盖它。也可以在[此处](https://stackoverflow.com/questions/11425230/override-css-media-queries)找到有关覆盖 CSS 媒体查询的有用答案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-16T19:23:13.650

上述解决方案不起作用。这似乎只是阻止菜单按钮起作用。我正在尝试做的（我假设 OP 也是如此）是防止它添加丑陋的菜单按钮，并且只使用与桌面相同的导航。

我的网站顶部只有三个按钮，可以轻松适应我的移动屏幕，相反，我得到了一个巨大的按钮，可以打开一个巨大的下拉菜单。这有零逻辑。几乎没有二十一十二主题在默认情况下将“留下回复”按钮放在帖子顶部的逻辑。愚蠢的设计师。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-07-04T20:37:10.017

如果你问我最简单的解决方案是添加 min-width: 960px; 在 CSS 中，因此它不会在 960 像素以下调整网站主体的大小。

```
@media screen and (min-width: 600px) {

    .site {
        margin: 0 auto;
        max-width: 960px;
        min-width: 960px;                            --- THIS LINE ADDED
        max-width: 68.571428571rem;
        overflow: hidden;
    } 
```

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2013-02-19T22:56:53.927

应用移动插件并禁用菜单可能是谨慎的。从而允许用户选择。我想这取决于菜单中的元素。

# javascript - Javascript没有正确排序十进制数字

> ID：14683662
> 
> 赞同：2
> 
> 时间：2013-02-04T09:20:26.303
> 
> 标签：javascript, arrays, sorting

我有一些代码可以按字母顺序对名称进行排序。
我遇到的问题是它处理小数的方式。
它订购如下名称（我宁愿它以数字递增）：

```
DOG - 1.0510
DOG - 1.1031
DOG - 11.1792
DOG - 12.0920
DOG - 12.1170
DOG - 2.0186 <-- should be after "DOG - 12.117" ???
DOG - 21.4070
DOG - 22.0790
DOG - 23.0390
CAT - 1.0810
CAT - 1.1071
CAT - 11.1592
CAT - 12.0691
CAT - 12.1718
CAT - 2.0186 <-- again should be after "CAT -12.1718" ???
CAT - 21.1403
CAT - 22.081
CAT - 23.069 
```

我在对象数组中有名称/值，如下所示：

```
var array = [
   {
      "myname":"DOG",
      "value":1.0051
   },
   {
      "myname":"DOG",
      "value":1.1071
   }
]; 
```

这是我从网上找到的片段中使用的代码。

```
function(x, y){
             var xName=x.myname.toLowerCase(), yName=y.myname.toLowerCase()
             if (xName < yName) //string sort ascending
              return -1 
             if (xName < yName)
              return 1
             return 0 //return default value (without sorting)
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:21:18.597

认为问题是您也需要按值排序，但您只按名称排序。
下面应该修复它，它先按字母顺序排序，然后按数字排序。

代码：

```
function(x, y) {
    var parts = {
        x: x.myname.split(' - '),
        y: y.myname.split(' - ')
    };
    if (parts.x[0] == parts.y[0]) // strings are the same
        return parseFloat(parts.x[1]) - parseFloat(parts.y[1]); // sort by number
    return parts.x[0] > parts.y[0] ? 1 : -1; // sort by string
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:44:59.617

我想你几乎明白了。你只是忘了比较数字：

```
function(x, y){
    var xName=x.myname.toLowerCase(), yName=y.myname.toLowerCase();
    if (xName < yName){ //string sort ascending
        return -1 
    }else if (xName < yName){
        return 1
    }else if (x.value < y.value){
        return -1;
    }else if (x.value > y.value){
        return 1;
    }else{
        return 0; // Identical keys
    }
} 
```

# android - 用于显示列表视图的适配器

> ID：14683676
> 
> 赞同：0
> 
> 时间：2013-02-04T09:21:03.480
> 
> 标签：android, layout-inflater, dialog

在我的应用程序中，我有一个类扩展对话框片段。该类显示正常对话框（不是警报对话框）。

1.在对话框中显示一个列表视图。列表视图包含 2 个文本视图，两者都由 2 个字符串数组填充。除了基本适配器之外，我对使用哪个适配器感到困惑

2.如何为对话框充气布局。setView 方法是否仅适用于警报对话框

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:43:51.057

在 Dialog 中使用布局的唯一方法是对其进行子类化：

```
class MyDialog extends Dialog{
public MyDialog(Context context) {
    super(context);
}

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.dialog);

    String[] arr1 = new String[]{"title1", "title2", "title3"};
    String[] arr2 = new String[]{"content1", "content2", "content3"};

    ListView  list = (ListView)findViewById(R.id.list);
    list.setAdapter(new MyAdapter(arr1, arr2));
} 
```

其中 R.layout.dialog 是定义 listView 的布局，我们将设置一个自定义适配器，膨胀包含两个字符串的布局。

```
private final class MyAdapter extends BaseAdapter{
    private String[] mArray1;
    private String[] mArray2;

    public MyAdapter(String[] arr1, String[] arr2) {
        mArray1 = arr1;
        mArray2 = arr2;
    }

    public int getCount() { return mArray1.length; }
    public Object getItem(int position) { return mArray1[position]; }
    public long getItemId(int position) { return 0; }

    public View getView(int position, View convertView, ViewGroup parent) {
        String str1 = mArray1[position];
        String str2 = mArray2[position];
        if(convertView==null){
            LayoutInflater li = getLayoutInflater();
            convertView = li.inflate(R.layout.my_list_cell, null);
        }

        TextView text1 = (TextView)convertView.findViewById(R.id.text1);
        text1.setText(str1);

        TextView text2 = (TextView)convertView.findViewById(R.id.text2);
        text1.setText(str2);

        return convertView;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:34:46.290

如果要使用适配器在对话框中显示数据，可以使用 ListAdapter。它可能是这样的：

```
 ListAdapter adapter = new ArrayAdapter<String>(context, android.R.layout.select_dialog_item, android.R.id.text1, items) {
      public View getView(int position, View convertView, ViewGroup parent) {

      // Do something here

        return view;
      }
    }; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:35:42.977

> 使用哪个适配器而不是基本适配器

=> 没有限制。您可以根据需要使用和自定义任何适配器。例如，您可以使用`ArrayAdapter`eg`ArrayAdapter<JSONObject>`或`ArrayAdapter<String>`.

> 如何为对话框膨胀布局。setView 方法是否仅可用

=> 检查：[如何在警报对话框中扩展包含列表视图的布局？](https://stackoverflow.com/questions/7763506/how-can-inflate-a-layout-containing-listview-in-a-alert-dialog)

# tomcat - 如何将 RESTeasy 中的编码设置为 UTF-8？

> ID：14683677
> 
> 赞同：3
> 
> 时间：2013-02-04T09:21:12.117
> 
> 标签：tomcat, servlets, jax-rs, resteasy

我在 RESTeasy 中编码字符串时遇到问题。问题是无法正确显示中文字母或任何其他非拉丁字符。如果我尝试将它们打印出来（或作为响应发送），我会得到“?????” 反而。我相信 RESTeasy 中的默认编码是 us-ascii。您知道如何将其更改为 UTF-8 吗？也许这个问题还有另一种解决方案？

这是我的代码中的一小段：

```
@POST
@Path("post")
@Consumes(MediaType.MULTIPART_FORM_DATA)
public String uploadData(@MultipartForm DataUploadForm uploadForm) {

...

//the code below is just for the purpose of presentation

String text = "some non-latin alphabet signs here"
System.out.println(text);  // "??????" is printed out

return text; //"??????" is returned
} 
```

我的 resteasy-jaxrs-3.0-beta-2 在 Tomcat 7.0 上运行。

谢谢！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-01-30T22:55:51.093

对于因为问题标题而来到这里的人，这里有一个解决方案。在您的 @Consumes 注释中，尝试将字符集设置为 UTF-8：

```
@Consumes(MediaType.MULTIPART_FORM_DATA+";charset=UTF-8"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-08-31T07:52:19.793

我在将 jaxrs1（球衣）迁移到 resteasy 3.0.17.final 时遇到了同样的问题。

从自定义客户端上传表单/多部分时，客户端确实发送了内容类型，但没有字符集，然后 resteasy 假定为“us-ascii”（根据 MIME RFC，根据文档）。有趣的是，如果根本没有给出内容类型，resteasy 会假设“text/plain; charset=ISO-8859-1”（我假设遵循 http 规范？）。

他们的文档建议使用 RestEasy 自定义拦截器来解决这个问题：

[https://docs.jboss.org/resteasy/docs/3.0.2.Final/userguide/html/Multipart.html#multipart_overwrite_content_type](https://docs.jboss.org/resteasy/docs/3.0.2.Final/userguide/html/Multipart.html#multipart_overwrite_content_type)

但是这个拦截器实际上已被弃用，它宣传使用 jaxrs 2.0 拦截器机制。

长话短说，为了让它以独立于实现的方式工作，你创建了这个类：

```
package x.y.z;
import java.io.IOException;
import javax.ws.rs.WebApplicationException;
import javax.ws.rs.ext.Provider;
import javax.ws.rs.ext.ReaderInterceptor;
import javax.ws.rs.ext.ReaderInterceptorContext;
@Provider
/**
 * If charset not given (form multipart upload), default to UTF-8 and not us-ascii (MIME RFC).
 */
public class RestEasyDefaultCharsetInterceptor implements ReaderInterceptor {
    // Using string value instead of constant to limit references to RestEasy (this should be possible to set through web.xml imo)
    // private static final String RESTEASY_DEFAULT_CHARSET_PROPERTY = org.jboss.resteasy.plugins.providers.multipart.InputPart.DEFAULT_CHARSET_PROPERTY;
    private static final String RESTEASY_DEFAULT_CHARSET_PROPERTY = "resteasy.provider.multipart.inputpart.defaultCharset";
    @Override
    public Object aroundReadFrom(ReaderInterceptorContext ctx) throws IOException, WebApplicationException {
        ctx.setProperty(RESTEASY_DEFAULT_CHARSET_PROPERTY, "UTF-8");
        return ctx.proceed();
    }
} 
```

接下来，将拦截器添加到 web.xml： 现在，我还没有完全理解整个机制，但是您*应该*也可以通过将 charset 参数指定为 content-type 来解决客户端的问题。 `<context-param> <param-name>resteasy.providers</param-name> <param-value>
x.y.z.RestEasyDefaultCharsetInterceptor </param-value> </context-param>`

 ** * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T08:06:38.663

这与 resteasy 或 jax-rs mate 无关。

检查[这个帖子](https://stackoverflow.com/questions/1938370/strange-problem-tomcat-webapp-utf-8-character-cant-display-correctly-after-eac)

您可能需要研究几件事：

1.  如果数据来自 DB，那么您需要确保 DB 中的数据编码正确。
2.  您的 JVM 环境正在使用 utf8 进行编码
3.  这可能是 IDE 的问题，因为 IDE 和您的 tomcat 可能在不同的配置上运行。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-01-20T02:52:15.337

我创建了一个网络过滤器。我不知道这是否是最好的方法，但可以肯定它确实解决了这个问题。

```
@WebFilter(filterName = "CharacterEncodingFilter", urlPatterns = {"/api/*"})
public class CharacterEncodingFilter implements Filter {

public CharacterEncodingFilter() {
}

@Override
public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException 
{      
    // setting the charset
    response.setCharacterEncoding(StandardCharsets.UTF_8.toString());
    chain.doFilter(request, response);
}

} 
```

只需更改*urlPatterns*即可过滤您的 Resteasy 资源。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-01-22T03:34:20.693

这对我有用

```
@Produces(MediaType.APPLICATION_JSON+";charset=UTF-8") 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-08-18T13:29:10.867

如果您的 API 的使用者不能轻易地将字符集设置为 UTF-8（例如：使用 fetch 和 FormData），那么 RestEasy 默认使用美国 ASCII 编码。因此，如果您使用的是非 ascii 字符，它们的编码就会出现乱码。
对我有用的是将输入表单参数视为 byte[] 并自己使用 utf-8 字符集进行字符串转换。

```
@FormParam("data")
private byte[] data; 
```*

# android - （活动再创造）：如何处理建立在无效数据上的 backstack？

> ID：14683678
> 
> 赞同：1
> 
> 时间：2013-02-04T09:21:17.013
> 
> 标签：android, android-activity, android-lifecycle, back-stack

在以下情况下该怎么做：
1\. 应用程序使用了复杂的活动和片段结构
2\. 我返回到同时已（部分或未）销毁的后台应用程序
3\. 它使我返回到最后一个屏幕，该屏幕很深在工作流程中
4\. 我需要它返回到第一个屏幕以重新初始化事物（因为它很复杂并且需要用户交互）

只是为了清楚：
我问**的是如何处理现有的活动堆栈和片段遇到这种情况**。
- 采取的行动：启动 Intent？刚结束？对持有的子结构做些什么然后完成？
- 何时执行 - 立即在 Activity.onCreate*和*片段的空构造函数？或者活动是否足够？
- 如何最好地检测它：到目前为止，我想出的只是：绑定到一个包含必要数据/连接的服务，然后询问它是否已被初始化。但是绑定在 onResume 之后完成。

我不是在问任何与 UI 相关的事情。
我不是要一个只适用于一个特定应用程序的解决方案，所以不要要求代码。
如果您认为这个问题含糊不清，这里有一个单句版本：“**如何解除堆栈并返回到第一个屏幕？** ”

有关详细信息（至少与相关），请参阅[https://stackoverflow .com/questions/14650342](https://stackoverflow.com/questions/14650342)。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:33:21.127

如果您发现您的应用程序处于不一致的状态并且您需要重新开始，最简单的方法是重新启动您的根活动，如下所示：

```
Intent intent = new Intent(this, MyRootActivity.class);
intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
startActivity(intent);
finish(); 
```

这将从任务中清除所有活动并重新启动根活动。

我建议在`onCreate()`活动中这样做。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-23T20:18:02.273

当应用程序在后台并且操作系统想要释放一些内存时。整个 PID 被杀死，这会杀死所有活动。文档对这种行为具有误导性。看到这个帖子

[Android 应用程序内存不足问题 - 尝试了所有方法，但仍然一头雾水](https://stackoverflow.com/questions/7536988/android-app-out-of-memory-issues-tried-everything-and-still-at-a-loss)

hackbod（Android 平台开发人员）在哪里证实了这一点。

当您有多项活动 A、B、C 以及当您的应用程序被杀死并且您想将其恢复时。大多数顶级活动的 onCreate(not null) 将被调用。值得注意的是，当这种情况发生时，您会执行类似的操作

```
onCreate(not null){
   startActivity(new intent)
   finish; 
```

会发生两件事：

1.  startActivity 将启动新活动
2.  完成将关闭当前活动，但它将带回上一个活动（从被杀死的 pid）及其 onCreate(not null)，这只是活动堆栈中的下一个活动。

这可能会导致多个活动实例问题。

前段时间我遇到了类似的问题，最终以丑陋的黑客方式结束，但它奏效了：

要重新启动整个应用程序，我添加了类似的内容

```
onCreate(not null){
   if(launcher activity == null){
      finish();
      return; 
```

在所有活动中。根据其他人的建议，取决于您想要实现的使用标志。希望能给你一些提示。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-04T09:32:56.960

如果您的目标是关闭所有活动并回到您的家庭/主要活动，那么您可以简单地使用：

```
Intent intent = new Intent(getApplicationContext(), Home.class);
intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
startActivity(intent); 
```

这将清除主页上的所有活动并返回主屏幕。

# asp.net-mvc - Telerik 网格导出功能，ToGridModel() 问题

> ID：14683681
> 
> 赞同：0
> 
> 时间：2013-02-04T09:21:29.430
> 
> 标签：asp.net-mvc, telerik, telerik-grid

我已经包含`Telerik.Web.Mvc`了程序集，但仍然无法获得`ToGridModel()`导出功能的方法。以下是有关我的代码的一些详细信息

```
Html.ActionLink(" ", "ExportData", new {..})

public ActionResult ExportData(...)
{

} 
```

代码中的问题

1.  无法使用 IEnumerable xxx 定义变量（给出错误，因为它需要 1 个参数）
2.  无法调用 ToGridModel() 方法。

有人可以指导我该怎么做吗？我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:52:35.937

`using`通过添加指向定义此扩展方法的命名空间的正确指令，确保您已将扩展方法纳入范围：

```
using Telerik.Web.Mvc.Extensions; 
```

# python - 机器学习电子邮件优先级 - Python

> ID：14683690
> 
> 赞同：2
> 
> 时间：2013-02-04T09:22:20.957
> 
> 标签：python, machine-learning, classification, ranking, scikit-learn

我一直在研究一个 Python 编码的优先级电子邮件收件箱，其最终目标是使用机器学习算法将选定的电子邮件标记（或分类）为重要或不重要。我将从一些背景信息开始，然后进入我的问题。

到目前为止，我已经开发了代码来从电子邮件中提取数据并对其进行处理以发现最重要的数据。这是使用以下电子邮件功能实现的：

*   发件人地址频率
*   线程活动
*   收到日期（回复之间的时间）
*   正文/主题中的常用词

我目前拥有的代码根据其重要性对每封电子邮件应用排名（或权重）（值 0.1-1），然后应用“重要”或“不重要”的标签（在这种情况下，这只是 1 或0)。如果等级>0.5，则授予优先级状态。此数据存储在 CSV 文件中（如下所示）。

```
 From           Subject       Body        Date          Rank    Priority 
     test@test.com  HelloWorld    Body Words  10/10/2012    0.67    1
     rest@test.com  ByeWorld      Body Words  10/10/2012    0.21    0
     best@test.com  SayWorld      Body Words  10/10/2012    0.91    1
     just@test.com  HeyWorld      Body Words  10/10/2012    0.48    0
     etc        ………………………………………………………………………… 
```

我有两组电子邮件数据（一组培训，一组测试）。以上适用于我的培训电子邮件数据。我现在正在尝试训练一种学习算法，以便我可以预测测试数据的重要性。

为此，我一直在研究 SCIKIT 和 NLTK。但是，我无法将我在教程中学到的信息转移到我的项目中。对于使用哪种学习算法，我没有特别的要求。这就像应用以下内容一样简单吗？如果是这样怎么办？

```
 X, y = email.data, email.target

   from sklearn.svm import LinearSVC
   clf = LinearSVC()

   clf = clf.fit(X, y)

   X_new = [Testing Email Data]

   clf.predict(X_new) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-05T17:35:05.830

最简单（虽然可能不是最快）的解决方案（*）是使用 scikit-learn 的`DictVectorizer`. 首先，使用 Python 的模块读取每个示例`csv`，并构建一个`dict`包含`(feature, value)`对，同时保持优先级分开：

```
# UNTESTED CODE, may contain a bug or two; also, you need to decide how to
# implement split_words
datareader = csv.reader(csvfile)
dicts = []
y = []

for row in datareader:
    y.append(row[-1])
    d = {"From": row[0]}
    for word in split_words(row[1]):
        d["Subject_" + word] = 1
    for word in split_words(row[2]):
        d["Body_" + word] = 1
    # etc.
    dicts.append(d)

# vectorize!
vectorizer = DictVectorizer()
X_train = vectorizer.fit_transform(dicts) 
```

您现在有一个稀疏矩阵，您可以将`X_train`它与 一起提供`y`给 scikit-learn 分类器。

意识到：

1.  当您想对看不见的数据进行预测时，您必须对其应用相同的过程和*完全相同的`vectorizer`*对象。即您必须`test_dicts`使用上面的循环构建一个对象，然后执行`X_test = vectorizer.transform(test_dicts)`.

2.  我假设您想直接预测优先级。相反，预测“排名”将是一个回归问题，而不是分类问题。一些 scikit-learn 分类器有一种`predict_proba`方法可以产生电子邮件很重要的概率，但你不能训练那些排名靠前的人。

(*) 我是 scikit-learn's 的作者`DictVectorizer`，所以这不是公正的建议。不过，这是从马的嘴里说的:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T21:50:38.953

您可能想查看的另一个库：http: [//pypi.python.org/pypi/textmining/1.0](http://pypi.python.org/pypi/textmining/1.0) （我过去曾使用过它）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T18:29:55.777

您能否演示如何开发代码以从电子邮件中提取数据并对其进行处理以发现最重要的数据。

发件人 地址 频率 线程 活动 收到日期（回复之间的时间） 正文/主题中的常用词

# mysql - MySQL 触发语法错误

> ID：14683693
> 
> 赞同：0
> 
> 时间：2013-02-04T09:22:27.370
> 
> 标签：mysql, triggers

我只是为 MySQL 创建一个触发器。但我收到以下错误。

> ERROR 1064 (42000)：您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的“END”附近使用正确的语法

下面是我创建触发器的代码。

```
DROP TRIGGER IF EXISTS user_contact_after_insert;
DELIMITER //
CREATE TRIGGER `user_contact_after_insert`
AFTER INSERT ON `forum_user`
  FOR EACH ROW
  BEGIN
    INSERT INTO `user_contact` (email) VALUES (LCASE(NEW.FIRST_NAME NEW.LAST_NAME+'@gmail.com'));
  END;
DELIMETER ; 
```

这里我有两张桌子`forum_user`& `user_contact`。在`forum_user`表中，我有四列，如`ID`, `first_name`, `last_name`，`Date`在`user_contact`表中我有两列`ID`& `email`。

现在在这里我想创建触发器，当一行将插入到 forum_user 表中时，该触发器将在 user_contact 表中插入一行，其中最近的值来自`first_name`& `last_name`。

我在这段代码中做错了什么吗？任何帮助都将是可观的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:24:29.433

改变`DELIMITER`和使用`CONCAT`

```
DROP TRIGGER IF EXISTS user_contact_after_insert;

DELIMITER // 

CREATE TRIGGER `user_contact_after_insert` 
AFTER INSERT ON `forum_user` 
FOR EACH ROW 
BEGIN 
    INSERT INTO `user_contact` (email) 
    VALUES (LCASE(CONCAT(NEW.FIRST_NAME, NEW.LAST_NAME,'@gmail.com'))); 
END//    --- <<=== HERE

DELIMITER ; 
```

# eclipse - 使用 eclipse cdt 中的 gdb 调试子进程

> ID：14683695
> 
> 赞同：2
> 
> 时间：2013-02-04T09:22:28.983
> 
> 标签：eclipse, debugging, shell, gdb, eclipse-cdt

正如问题所示，我现在面临一个问题，一个服务器进程将派生一个子进程，我想调试子进程。任何人都知道如何使用 gdb 从 eclipse CDT 执行此操作？

顺便说一句：这个子进程可能是从一个可执行/shell 脚本中产生的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:11:14.243

我的工作环境是 RHEL6-64bit EclipseJuno+CDT gdb7.5，我想调试通过 fork/exec 生成的子进程，而不需要对子进程进行任何额外的工作。

我的步骤如下： 1\. 从 eclipse 附加或启动父进程 2\. 使用 eclipse 中的 gdb 控制台确保通过符号加载符号文件 3\. 添加捕获点以捕获 exec 事件 catch exec 4\. 运行程序当它命中执行点 5\. 在 Eclipse 中通过 gdb 控制台添加断点

***注意：千万不要通过eclipse添加断点，否则gdb会崩溃***

然后您将在子进程中遇到断点！貌似，这是gdb7.5的一个bug！

# javascript - 在 ComboBox 中输入新值

> ID：14683698
> 
> 赞同：1
> 
> 时间：2013-02-04T09:22:41.650
> 
> 标签：javascript, extjs, extjs4, extjs4.1, extjs4.2

我正在尝试开发一个组合框，该组合框允许用户输入要查找的值，如果列表中缺少它，它会被虚拟化为新值（我曾考虑将图像留给该字段​​），此外还会导致字段绑定到分配给它的模型的另一个属性。

此外，用户应该能够清除组合值。

我从使用[这个人提供的类](https://stackoverflow.com/questions/13830537/extjs4-add-an-empty-option-in-a-combobox/13835193#13835193)开始，并使用所需的设置对其进行了扩展。我设法防止了导致“x”触发器连续隐藏的问题，但我无法管理用户输入 - 选择 - 设置 - 清除（按表单设置值）之间的区别

这是我到目前为止的一个片段

```
Ext.define('Ext.ux.form.field.InputCombo', {
    extend: 'Ext.form.field.ComboBox',
    alias: 'widget.inputcombo',

    trigger2Cls: 'x-form-clear-trigger',

    newRecordFieldname: null, // the name if this value is new
    originName: null, 

    initComponent: function () {
        var me = this;

        me.addEvents(
            /**
            * @event beforeclear
            * @param {Combo} Combo The combo that triggered the event
            */
            'beforeclear',
            /**
            * @event beforeclear
            * @param {Combo} Combo The combo that triggered the event
            */
            'clear'
        );

        me.callParent(arguments);

        me.on('specialkey', this.onSpecialKeyDown, me);
        me.on('afterrender', function () { 
            me.onShowClearTrigger(false); 
        }, me);

        this.on('change', function() {
            this.createdRecord(this);
        });
        this.on('select', function() {
            this.onSetExisting(this);
        });
    },

    createdRecord: function(ref) {
        ref.newRecord = true;
        ref.selectedRecord = false;
        ref.originName = ref.name;
        ref.name = ref.newRecordFieldname;
        ref.style = 'background:url(../resources/themes/images/default/dd/drop-add.gif) no-repeat left center;'; // does not work
    },

    setExisting: function(ref) {
        ref.newRecord = false;
        ref.selectedRecord = true;
        ref.style = '';
        ref.name = ref.originName;
    },

    /**
        * @private onSpecialKeyDown
        * eventhandler for special keys
        */
    onSpecialKeyDown: function (obj, e, opt) {
        if ( e.getKey() == e.ESC ) {
            this.clear();
        }
    },

    onShowClearTrigger: function (show) {
        var me = this;

        if (show) {
            me.triggerEl.each(function (el, c, i) {
                if (i === 1) {
                    el.setWidth(el.originWidth, false);
                    el.setVisible(true);
                    me.active = true;
                }
            });
        } else {
            me.triggerEl.each(function (el, c, i) {
                if (i === 1) {
                    el.originWidth = el.getWidth();
                    if (el.originWidth !== 0) { // prevent double hide
                        el.setWidth(0, false);
                        el.setVisible(false);
                        me.active = false;
                    }
                }
            });
        }
        me.updateLayout();
    },

    /* lines remoced. see linked answer */
}); 
```

我没有设法开始工作（以及我需要帮助的地方）是显示新记录的图像，并且无论我是否首先输入内容并清除或设置值，该字段的行为方式相同，选择一个值等等。通过知道该领域的行为安静不同或根本不起作用。

此外，它应该与即将发布的 4.2 版本兼容。不知道这是否重要。

任何帮助表示赞赏！

# javascript - 我的 javascript 不是从第一个实例开始在 IE 中运行，而是在我打开开发人员工具后运行

> ID：14683702
> 
> 赞同：-1
> 
> 时间：2013-02-04T09:22:55.593
> 
> 标签：javascript, jquery, internet-explorer

我有一个关于 JS 的问题。带有 的幻灯片`.animate()`，似乎适用于所有浏览器，除了任何版本的 IE。这是一个演示： http: [//mamar2.monline.dk/lindvedmarine/business.php](http://mamar2.monline.dk/lindvedmarine/business.php)

谁能明白这是为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:27:03.933

您可能会调用`console.log`IE 开发人员工具提供的，并且在开发人员工具未运行时不存在。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-04T09:29:52.817

正如我从源代码中看到的`console.log`那样，您的脚本中有语句。如果我没有错，如果开发人员工具关闭`console`，则不存在。`IE`因此，请尝试注释掉这些语句或使用下面的脚本。

```
// Avoid `console` errors in browsers that lack a console.
(function() {
    var method;
    var noop = function noop() {};
    var methods = [
        'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',
        'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',
        'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',
        'timeStamp', 'trace', 'warn'
    ];
    var length = methods.length;
    var console = (window.console = window.console || {});

    while (length--) {
        method = methods[length];

        // Only stub undefined methods.
        if (!console[method]) {
            console[method] = noop;
        }
    }
}()); 
```

从 FF 中查看您的页面源代码。你会看到几条红线，你会发现你没有打开/关闭你的 html。这与您的问题无关，但可能会在功能中增加更多问题。

# c# - Web 浏览器控件无法获取文本

> ID：14683705
> 
> 赞同：1
> 
> 时间：2013-02-04T09:22:58.933
> 
> 标签：c#, .net, webbrowser-control

我正在尝试获取网页的源代码并将其保存到richtextbox，并且该网络浏览器控件导航到新的 URL。但我得到一个空白的富文本框。这是我的代码：

```
private void button1_Click(object sender, EventArgs e)
    {
        timer1.Enabled = true;
        webBrowser2.Navigate("http://www.gmail.com");
    }
private void timer1_Tick(object sender, EventArgs e)
    {
        if(webBrowser2.ReadyState == WebBrowserReadyState.Complete)
        {
            timer1.Enabled = false;
            richTextBox1.Text = webBrowser2.DocumentText;
            webBrowser2.Navigate("new URL");
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:31:44.043

我看到您正在做的事情有两种选择。

1）使用`DocumentCompleted`：

```
private void Form_Load(object sender, EventArgs e) {
    webBrowser.Navigate("www.google.com");
}

private void webBrowser_DocumentCompleted(object sender, WebBrowserDocumentCompletedEventArgs e) {
    richTextBox.Text = webBrowser.DocumentText;
} 
```

2）使用`WebClient`：

```
private void Form_Load(object sender, EventArgs e) {
    using (System.Net.WebClient wc = new System.Net.WebClient()) {
        richTextBox.Text = wc.DownloadString("http://www.google.com");
    }
} 
```

# java - 2战争共享代码

> ID：14683717
> 
> 赞同：4
> 
> 时间：2013-02-04T09:23:57.433
> 
> 标签：java, jakarta-ee, tomcat, jar, war

我需要创建 2 个部署在 tomcat 服务器上的战争应用程序。其中一个应用程序与另一个应用程序具有完全相同的逻辑和代码，但增加了对视图和控制器的更改。

然后 App1 和 App2 将具有相同的代码来访问数据，我不想重复代码。我的想法是创建 2 个 WAR，这些 WAR 文件应该使用可以访问数据库的库或其他项目（我不知道）。

哪种解决方案最适合性能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:34:01.643

如果您想对两个项目使用相同的类，只需简单地创建一个`.jar`包含这些类的文件。然后将其添加`.jar`到您的 Web 项目的类路径中并在两者中使用它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-04T09:52:09.490

**选项1**

如果您正在共享代码（而且它是一大段代码，在上传战争文件时会让您发疯），则可以选择创建一个包含代码的 jar 并将 jar 文件添加到 tomcats library-folder，即

```
${CATALINA_BASE}/lib/
```

请注意，这通常不是您想要轻易做的事情，因为该 jar 文件将可用于 tomcat 上的所有战争文件，从而产生可能的命名空间问题。

**选项 2**

如果与应用程序服务器上的所有项目共享代码不是一个选项，您必须将 jar 文件添加到项目中并将其添加到它的类路径中（如果您将 jar 添加到

```
${PROJECT_ROOT}/WebContent/WEB-INF/lib
```

）。

性能方面这并没有真正的区别，因为 tomcat 将加载不是很大的类文件。实例可能是，但部署类型对实例并没有真正的影响。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-04T09:33:08.663

您可以将公共部分提取出来，并将其制成罐子。然后两次战争使用这个罐子作为图书馆。

如果您使用 maven 来构建您的战争，那么构建项目层次结构会更容易。

就像是：

```
parent
 |_common(jar)
 |_war1
 |_war2 
```

# javascript - Javascript 在点击时更改整个 div

> ID：14683720
> 
> 赞同：3
> 
> 时间：2013-02-04T09:23:59.800
> 
> 标签：javascript, jquery, performance

我有一个列出产品的网站。大约有 30 种产品。现在有链接可以转到每个产品的详细信息。我想将它们全部放在一个页面上，并通过 javascript，单击更改特定 div 的内容. 我所知道的是，我可以创建 30 个函数来将 1 个 div 的显示更改为无 ..并显示另一个 ..如何实现这一点..我正在做这样的事情

```
function changeImg2() 
{
 $('#change_content').stop(true, true).fadeOut({ duration: slideDuration, queue: false }).css('display', 'none');
 $('#change_content2').stop(true, true).fadeIn({ duration: slideDuration, queue: false });     
} 
```

这是我拥有的 div 类型

```
<div id="change_content1">
                              <div class="viewport">
        <a id="btn" href="http://www.flickr.com/photos/matt_bango/3479048548/">
            <span class="dark-background">Northern Saw-whet Owl <em>Photo by Matt Bango</em></span>
            <img src="images/HAND HELD POWER CUTTERS.jpg" alt="Northern Saw-Whet Owl" />
        </a>
    </div>

    <div class="viewport no-margin">
        <a href="http://www.flickr.com/photos/matt_bango/3478879694/">
            <span class="dark-background">Red-shouldered Hawk <em>Photo by Matt Bango</em></span>
            <img src="images/LIGHTING TOWERS.jpg" alt="Red-shouldered Hawk" />
        </a>
    </div>

    <div class="viewport">
        <a href="http://www.flickr.com/photos/matt_bango/3478189088/">
            <span class="light-background">Blue-headed Vireo <em>Photo by Matt Bango</em></span>
            <img src="images/MAGNETIC STAND DRILLS.jpg" alt="Blue-headed Vireo" />
        </a>
    </div>

   <div><input name="back" value="back" id="back_btn1" type="button"></div>
</div> 
```

但是这段代码不行......因为我必须为 30 个 div 重复它。有没有更清洁的方法来实现这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:28:41.033

看起来你需要 on() 函数。这可以像这样实现：

```
jQuery.yourCallback = function () {
  //this here is object, on which triggered event
  //your code may be below
  jQuery(".currentactivediv").removeClass(".currentdiv").hide();
  jQuery(this).addClass(".currentdiv").show();
}
jQuery(".yourdivs").on("click",jQuery.yourCallback); 
```

如果您希望它与链接一起使用，您需要在使用 jQuery(this) 的 DOM 中找到所需的 div。

它是如何工作的：当显示 div 时 - 脚本将 calss .currentactivediv 分配给这个 div。当其他 div 显示时 - 脚本关闭当前 div，从中删除 .currentactivediv 类并将该类分配给新 div，即显示的内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:30:11.213

您可以为所有 div 添加一个类，然后执行类似的操作。这样您就不必编写 30 个函数

```
function changeImg(id) {
    $('.your-divs').stop(true, true).fadeOut({ duration: slideDuration, queue: false });
    $('#change_content'+id).stop(true, true).fadeIn({ duration: slideDuration, queue: false });
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:30:40.257

使用这样的东西：

```
$('.myDiv').click(function() {
    $('.myDiv').hide(); //Or whatever function you like
    $(this).show(); //or whatever function you like
}); 
```

这个想法是它隐藏了所有具有相同类的 div，然后`$(this)`用于操作被单击的单个 div。

您可以通过给它们一个类似的类来定位所有 div，或者如果它们都在父包装器中，则使用类似的东西`$('.parent-wrapper > div')`

回答评论：

`$(this)`当在诸如点击函数之类的事件中使用时，与触发事件的元素有关。在这种情况下，它将是单个 div 上的单击事件，这意味着您可以使用它来操作该 div 而无需定位其他 div。

如上所述，使用类似的类或选择器将允许您定位所有 div，以便您可以将它们作为一个组进行操作。请注意，可能会包含目标 div，因此请在目标 div 之前操作组。

`$(this).siblings()`或者，如果它们与被单击的 div 处于同一级别，即它们是兄弟，则您可以使用它来操作所有其他 div。

# eclipse - XSD 唯一约束不起作用

> ID：14683725
> 
> 赞同：1
> 
> 时间：2013-02-04T09:24:16.133
> 
> 标签：eclipse, xsd, unique-constraint, xsd-validation

XSD 唯一约束似乎对我不起作用。我有以下 XSD：

```
<schema xmlns="http://www.w3.org/2001/XMLSchema" 
    targetNamespace="http://beardedhen.com/form" 
    xmlns:tns="http://beardedhen.com/form" 
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    elementFormDefault="qualified">

<xs:complexType name="OptionListType">
  <xs:sequence>
    <xs:element name="option" minOccurs="1" maxOccurs="unbounded">
      <xs:complexType>
     <xs:attribute name="label" type="xs:string" use="required"/> 
     <xs:attribute name="value" type="xs:string" use="required"/> 
  </xs:complexType>
    </xs:element>
  </xs:sequence>
  <xs:attribute name="name" type="xs:string" use="required"/> 
</xs:complexType>

<xs:element name="OptionList" type="tns:OptionListType">
  <xs:unique name="uniqueOptionListLabel">
<xs:selector xpath="option"/>
    <xs:field xpath="@label"/>
 </xs:unique>
</xs:element>

 </schema> 
```

当我在 Eclipse 和在线验证器中验证下面的 XML 时，没有返回错误：

```
 <OptionList  xmlns="http://beardedhen.com/form" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    name="statusLevels">
    <option label="Critical" value="0"/>
    <option label="Warning" value="1"/>
    <option label="Warning" value="1"/>
    <option label="Warning" value="1"/>
    <option label="Good" value="4"/>
</OptionList> 
```

它看起来很简单，并且有一些我遵循的例子，但这让我发疯！:-)

有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-04T10:40:34.827

在选择器元素的 XPath 表达式中，必须使用前缀“tns”。

```
<xs:selector xpath="tns:option"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-15T23:21:14.227

或者，可以使用 xs:ID 代替 xs:string。另请参阅 xs:IDREF 和 xs:IDREFS。

[http://books.xmlschemata.org/relaxng/ch19-77151.html](http://books.xmlschemata.org/relaxng/ch19-77151.html)

# ruby-on-rails - 无法使用 rails mail gem 在 GMail 收件箱上设置 :DELETE 标志

> ID：14683726
> 
> 赞同：1
> 
> 时间：2013-02-04T09:24:19.867
> 
> 标签：ruby-on-rails, gmail-imap, mail-gem

尝试设置已删除标志时出现此错误；

```
Net::IMAP::NoResponseError (STORE attempt on READ-ONLY folder (Failure)) 
```

运行时抛出错误；

```
connector.uid_store(item_uid, "+FLAGS", [:Deleted]) 
```

这段代码在它之前运行良好；

```
connector.create("TestFolder") unless connector.list('', "TestFolder")
connector.uid_copy(item_uid, "TestFolder") 
```

我一直无法找到原因，特别是因为我可以创建“文件夹”并将项目复制到其中而不会出现问题。我正在使用 ruby​​ 1.9.2、rails 3.2.10、邮件 2.4.4

任何帮助都会真正拯救我的思想。

干杯

~~~~~~~ 编辑邮件默认设置如下；

```
#==> Collect items
case feed.url_type
when "IMAP"
  puts "Trying IMAP retriever for " + feed.url_source
  Mail.defaults do
    retriever_method :imap,
      :address => feed.url_source,
      :port => 993,
      :user_name => feed.user,
      :password => feed.password,
      :enable_ssl => true,
      :read_only => false
  end
  self.add_email_stubs(Mail.find(), feed) 
```

是从这里`connector`拿起的；

```
def add_email_stubs(items, feed)
    Mail.all do |item, connector, item_uid| 
```

并在此处使用（在相同的定义中）；

```
 #==> Move message
  connector.create("Archive") unless connector.list('', "Archive")
  connector.uid_copy(item_uid, "Archive")
  connector.uid_store(item_uid, "+FLAGS", [:Deleted])  <==Error occurs here 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-05T03:29:35.250

已修复...我需要明确选择收件箱，然后才能进行任何 STORE 更改。连接时不能依赖默认的收件箱，即使它看起来像您在收件箱中。

```
connector.uid_copy(item_uid, "Archive")
connector.select("INBOX")   <== Need to explicitly select the INBOX
connector.uid_store(item_uid, "+FLAGS", [:Deleted]) 
```

对于像我这样的螺丝刀猴子来说，这太棘手了！:)

# jpa - 从 EclipseLink 2.1.3 升级到 EclipseLink 2.4 Nightly 后应用程序无法启动

> ID：14683727
> 
> 赞同：0
> 
> 时间：2013-02-04T09:24:22.873
> 
> 标签：jpa, eclipselink

我已将我的 Eclipse IDE 从 Helios 升级到 Juno。我已经更新了我的项目以使用 Juno 附带的最新版本的 EclipseLink，它是 2.4 Nightly（如持久性属性中所示）。我有一个项目本身就是一个 JPA 项目 (ProjectA)，它依赖于另一个 JPA 项目 (ProjectB)。所以实际上，我有一个项目正在与 2 个单独的数据库通信。当我尝试启动在 Tomcat 下运行的 ProjectA 时，出现下面列出的异常。异常中提到的实体都位于依赖项目 - ProjectB 中。我已经重建了两个项目并重新部署。

我想知道 2.4 是否不是从 2.1.3 直接升级，并且我错过了一些升级文档，其中详细说明了我需要对我的 JPA 项目的配置进行的更改。

将 ProjectA 和 ProjectB 都恢复为 EclipseLink 2.1.3，一切正常

为了节省空间，我只列出了其中一个实体的部分例外情况，但对于项目 B 中定义的每个实体，它都会重复。

```
Local Exception Stack: 
Exception [EclipseLink-60] (Eclipse Persistence Services - 2.4.0.v20110816-r9894):   org.eclipse.persistence.exceptions.DescriptorException
Exception Description: The method [_persistence_set_platform_vh] or [_persistence_get_platform_vh] is not defined in the object [com.blackbox.entities.db.PEcuAcronym].
Internal Exception: java.lang.NoSuchMethodException: com.blackbox.entities.db.PEcuAcronym._persistence_get_platform_vh()
Mapping: org.eclipse.persistence.mappings.ManyToOneMapping[platform]
Descriptor: RelationalDescriptor(com.blackbox.entities.db.PEcuAcronym --> [DatabaseTable(pecuacronym)])
at org.eclipse.persistence.exceptions.DescriptorException.noSuchMethodWhileInitializingAttributesInMethodAccessor(DescriptorException.java:1170)
at org.eclipse.persistence.internal.descriptors.MethodAttributeAccessor.initializeAttributes(MethodAttributeAccessor.java:200)
at org.eclipse.persistence.internal.descriptors.MethodAttributeAccessor.initializeAttributes(MethodAttributeAccessor.java:181)
at org.eclipse.persistence.mappings.DatabaseMapping.preInitialize(DatabaseMapping.java:1276)
at org.eclipse.persistence.mappings.ForeignReferenceMapping.preInitialize(ForeignReferenceMapping.java:1127)
at org.eclipse.persistence.mappings.ObjectReferenceMapping.preInitialize(ObjectReferenceMapping.java:1054)
at org.eclipse.persistence.descriptors.ClassDescriptor.preInitialize(ClassDescriptor.java:3571)
at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.initializeDescriptors(DatabaseSessionImpl.java:493)
at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.initializeDescriptors(DatabaseSessionImpl.java:476)
at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.initializeDescriptors(DatabaseSessionImpl.java:435)
at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.postConnectDatasource(DatabaseSessionImpl.java:673)
at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.loginAndDetectDatasource(DatabaseSessionImpl.java:618)
at org.eclipse.persistence.internal.jpa.EntityManagerFactoryProvider.login(EntityManagerFactoryProvider.java:206)
at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:474)
at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getDatabaseSession(EntityManagerFactoryDelegate.java:188)
at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.createEntityManagerImpl(EntityManagerFactoryDelegate.java:277)
at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManagerImpl(EntityManagerFactoryImpl.java:290)
at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:268)
at com.blackbox.dao.JpaBaseDao.findAll(JpaBaseDao.java:50)
at com.blackbox.services.Services.listAllPlatforms(Services.java:70)
at com.blackbox.services.Services.listAllPublishedPlatforms(Services.java:355)
at com.blackbox.x.actions.diagnostics.IdentifyVehicle.prepare(IdentifyVehicle.java:42)
at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:162)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
at com.blackbox.x.interceptors.Log4jMDCInterceptor.intercept(Log4jMDCInterceptor.java:51)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:207)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:190)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
at com.blackbox.x.interceptors.RedirectMessageInterceptor.doIntercept(RedirectMessageInterceptor.java:78)
at com.blackbox.x.interceptors.RedirectMessageInterceptor.intercept(RedirectMessageInterceptor.java:63)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:52)
at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:485)
at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
at org.apache.struts2.dispatcher.ng.filter.StrutsExecuteFilter.doFilter(StrutsExecuteFilter.java:88)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:129)
at com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:77)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareFilter.doFilter(StrutsPrepareFilter.java:82)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)
at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:183)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:105)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:125)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)
at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)
at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:240)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:164)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:462)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:562)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:395)
at org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:306)
at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:323)
at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1719)
at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.NoSuchMethodException: com.blackbox.entities.db.PEcuAcronym._persistence_get_platform_vh()
at java.lang.Class.getDeclaredMethod(Unknown Source)
at org.eclipse.persistence.internal.security.PrivilegedAccessHelper.findMethod(PrivilegedAccessHelper.java:82)
at org.eclipse.persistence.internal.security.PrivilegedAccessHelper.getMethod(PrivilegedAccessHelper.java:283)
at org.eclipse.persistence.internal.helper.Helper.getDeclaredMethod(Helper.java:974)
at org.eclipse.persistence.internal.descriptors.MethodAttributeAccessor.initializeAttributes(MethodAttributeAccessor.java:193)
... 94 more 
```

需要明确的是 - 如果我自己部署 ProjectB，那么它会按预期工作。仅当我部署依赖于 ProjectB 的 JPA 项目 A 时才会出现问题。ProjectA 正确打开它自己的持久性上下文，但不是 ProjectB。

我已按要求附上了persistance.xml。

项目A；

```
<?xml version="1.0" encoding="UTF-8"?>
<persistence version="1.0" xmlns="http://java.sun.com/xml/ns/persistence" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd">
<persistence-unit name="Genesis" transaction-type="RESOURCE_LOCAL">
    <class>com.blackbox.x.entities.SecurityKey</class>
    <class>com.blackbox.x.entities.QualifiedSecurityKey</class>
    <class>com.blackbox.x.entities.User</class>
    <class>com.blackbox.x.entities.Password</class>
    <class>com.blackbox.x.entities.ServiceDefinition</class>
    <class>com.blackbox.x.entities.IdsFunction</class>
    <class>com.blackbox.x.entities.FaultCodeType</class>
    <class>com.blackbox.x.entities.FaultCodeDescription</class>
    <class>com.blackbox.x.entities.VehicleActivityLogEntry</class>
    <class>com.blackbox.x.entities.Recovery</class>
    <class>com.blackbox.x.entities.SingleVehicleLicense</class>
    <class>com.blackbox.x.entities.MultiVehicleLicense</class>
    <class>com.blackbox.x.entities.License</class>
    <class>com.blackbox.x.entities.LicenseGroupMaster</class>
    <class>com.blackbox.x.entities.LicenseGroup</class>
    <class>com.blackbox.x.entities.FunctionGroup</class>
    <class>com.blackbox.x.entities.McodeText</class>
    <class>com.blackbox.x.entities.CCFParameterMaster</class>
    <class>com.blackbox.x.entities.CCFFunctionGroup</class>
    <class>com.blackbox.x.entities.CCFParameterOptionUsage</class>
    <class>com.blackbox.x.entities.CCFAsBuiltIndex</class>
    <class>com.blackbox.x.entities.CCFEditLog</class>
    <class>com.blackbox.x.entities.AsBuiltAnalyzerFileTracker</class>
    <class>com.blackbox.x.entities.CCFParameterOption</class>
    <class>com.blackbox.x.entities.JlrVersionControl</class>

<properties>
        <property name="eclipselink.ddl-generation" value="create-tables"/>
        <property name="eclipselink.jdbc.batch-writing" value="JDBC"/>
        <property name="eclipselink.jdbc.user" value="userId"/>
        <property name="eclipselink.jdbc.password" value="<elided>"/>
        <property name="eclipselink.jdbc.driver" value="com.mysql.jdbc.Driver"/> -->
    </properties>
</persistence-unit> 
```

和项目B；

```
<?xml version="1.0" encoding="UTF-8"?>
<persistence version="1.0" xmlns="http://java.sun.com/xml/ns/persistence" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd">
<persistence-unit name="ids2_develop" transaction-type="RESOURCE_LOCAL">

<description>Eclipse</description>
<provider>org.eclipse.persistence.jpa.PersistenceProvider</provider>
<class>com.blackbox.entities.db.Vw_Ecu</class>
<class>com.blackbox.entities.db.SwimPart</class>
<class>com.blackbox.entities.db.SoftwarePK</class>
<class>com.blackbox.entities.db.Software</class>
<class>com.blackbox.entities.db.ServiceData</class>
<class>com.blackbox.entities.db.PlatformData</class>
<class>com.blackbox.entities.db.Platform</class>
<class>com.blackbox.entities.db.PEcuTextPK</class>
<class>com.blackbox.entities.db.PEcuText</class>
<class>com.blackbox.entities.db.PEcuAcronymPK</class>
<class>com.blackbox.entities.db.PEcuAcronym</class>
<class>com.blackbox.entities.db.PEcu</class>
<class>com.blackbox.entities.db.PBusPK</class>
<class>com.blackbox.entities.db.PBus</class>
<class>com.blackbox.entities.db.Manufacturer</class>
<class>com.blackbox.entities.db.HardwarePK</class>
<class>com.blackbox.entities.db.Hardware</class>
<class>com.blackbox.entities.db.CusCom</class>
<class>com.blackbox.entities.db.CCFParameter</class>
<class>com.blackbox.entities.db.CCFGroup</class>
<class>com.blackbox.entities.db.Bus</class>
<class>com.blackbox.entities.db.BBoxCom</class>
<class>com.blackbox.entities.db.AssemblyPK</class>
<class>com.blackbox.entities.db.Assembly</class>
<class>com.blackbox.entities.db.McodeLookupKey</class>

    <properties>
        <property name="eclipselink.jdbc.password" value="<elided>"/>
        <property name="eclipselink.jdbc.driver" value="com.mysql.jdbc.Driver"/>
        <property name="eclipselink.jdbc.user" value="ids2dbuser"/>
        <property name="eclipselink.jdbc.url" value="jdbc:mysql://localhost:3306/ids2"/> 
        <property name="eclipselink.logging.level" value="WARNING"/>
        <property name="eclipselink.jdbc.cache-statements" value="true"/>
        <property name="eclipselink.jdbc.native-sql" value="false"/>
        <property name="eclipselink.cache.type.Vw_Ecu" value="NONE"/>

    </properties>
</persistence-unit> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T14:42:20.307

似乎是编织问题。看起来对象没有发生编织。确保您已正确启用编织。如果您使用静态编织，请确保您使用 2.4 的静态编织类。

尝试禁用编织以确认问题。还包括您的 persistence.xml。

# linux - 在网站目录内的 linux 上安装 FFmpeg（无 SSH 可用）

> ID：14683729
> 
> 赞同：0
> 
> 时间：2013-02-04T09:24:29.837
> 
> 标签：linux, ffmpeg, installation

我有一个主机，客户无法使用 SSH。只需将文件放在那里就可以以某种方式将 FFmpeg 安装到特定的域文件夹吗？然后我就可以像在 Windows 上那样调用它：

```
exec("C:\server\home\domain.com\ffmpeg\ffmpeg.exe ... "); 
```

那么有没有办法在 Linux 上做同样的事情呢？

谢谢

# javascript - 使用用户名和密码向 https 网站发送 ajax GET 请求

> ID：14683730
> 
> 赞同：-1
> 
> 时间：2013-02-04T09:24:32.677
> 
> 标签：javascript, html, jquery

我想访问一个网站并使用“ajax调用”从中获取锚标签，如下所示：

```
$.ajax({
    url: 'https://www.facebook.com/',
    type: 'GET',
    success: function(res) {
        var headline = $(res.responseText).find('a').text();
        alert(headline);
    }
}); 
```

但我的标题是空白的。但是我尝试使用“http”网站使用相同的代码，它工作正常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:27:51.970

这是因为`https`与 不同`http`，Facebook 就像许多其他网站一样使用 cookie 进行身份验证。您必须先进行身份验证，`https://facebook.com`然后才能取回数据。

# zend-framework - 服务器没有收到 Response / SendRequests

> ID：14683732
> 
> 赞同：0
> 
> 时间：2013-02-04T09:25:01.143
> 
> 标签：zend-framework

我是 Zend2 框架的新人...我遇到了一个我没有跟踪它的错误...

我正在编写一个名为“usertask”的控制器，并在该杉木索引函数中编写了这样的代码

```
public function indexAction() 
{
    $sendRequest = new SendRequests;
    $tableGrid = new DynamicTable();

    $prop = array(
        'customRequest' => 'GET',
        'headerInformation' => array('environment: development', 'token_secret: abc')
    );
    $returnRequest = $sendRequest->set($prop)->requests('http://service-api/usertask');

    $returnData = json_decode($returnRequest['return'],true);        

    $tableGrid->tableArray = $returnData['result'];                
    $dynamicTable = $tableGrid->tableGenerate();                

    $view = new ViewModel(array(
                'usertask' => $dynamicTable
            ));
    //print_r($view);exit;

    return $view;   
} 
```

但它没有列出我的用户任务......而我正在打印 $returnRequest 它给了我类似的错误消息

```
The server don't receive a Response / SendRequests 
```

我的代码中的错误是什么......有人可以建议我......请......我使用“zend2”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T12:48:28.123

抱歉，伙计们，我发现了我的错误......我有很大的代码，但我需要类似的东西

```
public function indexAction() 
{                        
    $view = new ViewModel(array(
            'usertask' => $this->UserTable()->fetchall(),
        ));   

    return $view;   
} 
public function getUserTable()
{
    if (!$this->userTable) {
        $sm = $this->getServiceLocator();
        $this->userTable = $sm->get('User\Model\UserTable');
    }
    return $this->userTable;
} 
```

就是这样......我把它作为用户列表

# javascript - 使用 jQuery Ajax 获取另一个页面的 div 的内容

> ID：14683736
> 
> 赞同：8
> 
> 时间：2013-02-04T09:25:20.173
> 
> 标签：javascript, ajax, jquery

我希望 page.html 对 side.html 的内容进行 ajax 请求并提取其两个 div 的内容。但是，尽管我尝试了一切，但我找不到解析响应的正确方法。

这是side.html：

```
<!DOCTYPE html>
<html>
<head>
<title>Useless</title>
</head>
<body>
<div id="a">ContentA</div>
<div id="b">ContentB</div>
</body>
</html> 
```

这是page.html

```
<!DOCTYPE html>
<html>
<head>
<title>Useless</title>
<script type='text/javascript' src='jquery-1.9.0.min.js'></script>
</head>
<body>
Hello
<script type="text/javascript">
jQuery.ajax({
        url: "side.html",
        success: function(result) {
            html = jQuery(result);

            alert(html.find("div#a").attr("id"));
            alert(html.find("div#a").html());
            alert(html.find("div#a"));

        },
    });
</script>
</body>
</html> 
```

当我访问此页面时，我没有收到任何错误，并且三个 alert() 产生 undefined、undefined 和 [object Object]。我究竟做错了什么？例子是住[在这里](http://xuneo.com/jqueryproblem/)。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-04T10:31:34.493

您需要更改此行：

```
html = jQuery(result); 
```

对此：

```
html = jQuery('<div>').html(result); 
```

实际上，最好将其声明为局部变量：

```
var html = jQuery('<div>').html(result); 
```

**解释**

当你这样做时`jQuery(result)`，jQuery 会拉取元素的子`<body>`元素并返回围绕这些元素的包装器，而不是返回元素的 jQuery 包装器`<html>`，我倾向于同意这会很愚蠢。

在您的情况下，`<body>`sidebar.html 包含几个元素和一些文本节点。因此，返回的 jQuery 对象是这几个元素和文本节点的包装器。

当您使用`.find()`时，它会搜索由您调用它的 jQuery 对象包装的元素的*后代。*在您的情况下，这*不是*`<div id="a">`其中之一，因为它实际上*是*包装器的选定元素之一，并且不能是其自身的后代。

 **通过将其包装在`<div>`您自己的 a 中，您可以将这些元素“向下”推一个级别。当您`.find()`在上面调用我的固定代码时，它会查找该代码的后代，`<div>`因此会找到您的`<div id="a">`.

**评论**

如果您`<div id="a">`不在顶层，即 的直接子级`<body>`，那么您的代码将有效。对我来说，这是不一致的，因此是不正确的行为。`<div>`为了解决这个问题，当 jQuery发挥其`<body>`内容提取魔法时，它应该为您生成容器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-06T14:19:00.760

试试这个 ：

```
$.get(url,function(content) {
    var content = $(content).find('div.contentWrapper').html();
    ...
} 
```**

# c - 处理位图头

> ID：14683737
> 
> 赞同：0
> 
> 时间：2013-02-04T09:25:25.837
> 
> 标签：c, image, bitmap, directx

我有两个关于[BITMAPFILEHEADER](http://msdn.microsoft.com/en-us/library/aa930979.aspx)结构的问题。

*首先*，如果我们制作我们自己版本的该结构，由于[数据结构对齐](http://en.wikipedia.org/wiki/Data_structure_alignment)，分配的内存将是**16 字节**。但是[BITMAPFILEHEADER](http://msdn.microsoft.com/en-us/library/aa930979.aspx)是**14 字节**。为什么会这样？

 ***其次*，正如您已经知道的 Bitmap Header 是 Little-Endianed。因此，当您希望正确访问该值时，您需要将其转换为 Big-Endian。但是，如果您看到[这个问题](https://stackoverflow.com/questions/4993518/arraybyte-to-hbitmap-or-cbitmap)，您会看到接受的答案没有任何作用。你们能解释一下怎么可能吗？

提前谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T10:25:06.947

文件可以有任何类型的对齐方式，位图文件的标题恰好是 14 个字节（更多信息：[http](http://en.wikipedia.org/wiki/BMP_file_format) ://en.wikipedia.org/wiki/BMP_file_format ）。没有规则说所有内容都必须对齐（例外是 SSE 指令，它希望所有内容都对齐）。对齐的数据可以更快地访问，因此建议您对齐数据，但您不必这样做。文件格式也没有对齐它们的数据。

如果要读取值，则需要将其转换为大端，但如果只想创建新位图，则必须以与 BITMAPFILEHEADER 结构中预期的格式相同的格式存储数据，即小端.**

# c# - 使用 MediaElement 播放视频并下载

> ID：14683741
> 
> 赞同：1
> 
> 时间：2013-02-04T09:25:36.200
> 
> 标签：c#, .net, windows-phone-7

我想在 MediaElement 中播放来自网络的视频，同时也下载视频。

我尝试将 Stream 设置为源，但它不起作用。有可能做到吗？

* * *

编辑：

这就是我现在要做的，问题是我想从头开始播放，而不是在我完成下载文件时：

```
 public void StartDownloadFile(string aVideoUrl,string aId)
    {
        this.VideoUrl = aVideoUrl;
        this.id = aId;

        startPlaying = false;

        WebClient webClient = new WebClient();
        webClient.DownloadProgressChanged += new DownloadProgressChangedEventHandler(webClient_DownloadProgressChanged);
        webClient.OpenReadCompleted += new OpenReadCompletedEventHandler(webClient_OpenReadCompleted);
        webClient.OpenReadAsync(new Uri(this.VideoUrl));
    }

    void webClient_OpenReadCompleted(object sender, OpenReadCompletedEventArgs e)
    {
        try
        {
            if (e.Result != null)
            {

                #region Isolated Storage Copy Code
                isolatedStorageFile = IsolatedStorageFile.GetUserStoreForApplication();

                bool checkQuotaIncrease = this.IncreaseIsolatedStorageSpace(e.Result.Length);

                string VideoFile = "VideoCache\\" + this.id + ".wmv";
                isolatedStorageFileStream = new IsolatedStorageFileStream(VideoFile, FileMode.Create, isolatedStorageFile);
                long VideoFileLength = (long)e.Result.Length;
                byte[] byteImage = new byte[VideoFileLength];
                e.Result.Read(byteImage, 0, byteImage.Length);
                isolatedStorageFileStream.Write(byteImage, 0, byteImage.Length);

                #endregion

                callbackFinish();

            }
        }
        catch (Exception ex)
        {
            //MessageBox.Show(ex.Message);
        }
    }

    void webClient_DownloadProgressChanged(object sender, DownloadProgressChangedEventArgs e)
    {
        try
        {
            callbackDidUpdate((double)e.ProgressPercentage);

        }
        catch (Exception ex)
        {
            //MessageBox.Show(ex.Message);
        }
    } 
```

# ios - 为什么我们应该复制块而不是保留？

> ID：14683746
> 
> 赞同：4
> 
> 时间：2013-02-04T09:25:46.633
> 
> 标签：ios, objective-c-blocks, fast-app-switching

我最近在 Facebook 的应用切换中遇到了一个问题。我需要在 Facebook 登录后调用一个块。

首先，当应用程序切换回来时，我的块被破坏了（因为它在堆栈上），所以我决定保留它。但这没有用，我把这个问题搞砸了：/。我在[那个博客](http://pragmaticstudio.com/blog/2010/9/15/ios4-blocks-2)和[这里](https://stackoverflow.com/questions/6065963/do-i-have-to-retain-blocks-in-objective-c-for-ios)找到了一个解决方案。

我的问题很简单：**为什么复制有效而保留无效**？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-04T09:29:24.797

因为当你创建一个块时，没有什么要保留的，因为它不存在于堆中，直到你用`Block_copy`. 这在 WWDC 关于块的讲座中有所介绍。

更多信息： [http ://www.friday.com/bbum/2009/08/29/blocks-tips-tricks/](http://www.friday.com/bbum/2009/08/29/blocks-tips-tricks/)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-04T09:37:46.560

请参阅[我最近](https://stackoverflow.com/a/14650386/474896)对另一个类似问题的回答：

> 默认情况下，块是在堆栈上创建的。这意味着它们只存在于它们被创建的范围内。
> [...]
> 阅读Mike Ash[在 Objective-C 中的堆栈和堆对象，了解有关堆栈与堆的更多信息。](http://www.mikeash.com/pyblog/friday-qa-2010-01-15-stack-and-heap-objects-in-objective-c.html)

# html - 淘汰赛：该事件不会为另一个 viewModel 触发

> ID：14683749
> 
> 赞同：0
> 
> 时间：2013-02-04T09:25:55.277
> 
> 标签：html, events, input, knockout.js

这是一个[jsFiddle](http://jsfiddle.net/69UAT/8/)代码。

我有 6 个输入文本，分为 3+3 两个块。

前三个输入文本按预期工作：即使用户键入内容，它们也会显示相同的文本。

我希望另外三个输入文本具有相同的行为，因此每个块都是独立的。不幸的是，第二个块根本不起作用。我错过了什么？

HTML：

```
<div>
    <!--the first block-->
    <input type="text" data-bind="value:Name, valueUpdate:'afterkeydown'"><br>
    <input type="text" data-bind="value:Name, valueUpdate:'afterkeydown'"><br>
    <input type="text" data-bind="value:Name, valueUpdate:'afterkeydown'">
<br><br><br>
    <!--the second block-->
    <input type="text" data-bind="value:Name2, valueUpdate:'afterkeydown'"><br>
    <input type="text" data-bind="value:Name2, valueUpdate:'afterkeydown'"><br>
    <input type="text" data-bind="value:Name2, valueUpdate:'afterkeydown'">        
</div> 
```

JS：

```
var value="Type here...";
var viewModel={Name:ko.observable(value)};
ko.applyBindings(viewModel);

var value2="Hello John2";
var viewModel2={Name2:ko.observable(value2)};
ko.applyBindings(viewModel2); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:32:30.863

您以错误的方式构建视图模型。

您需要一个具有两个属性的视图模型：

```
var value="Type here...";
var value2="Hello John2";
var viewModel = {
        Name: ko.observable(value),
        Name2: ko.observable(value2)
    };
ko.applyBindings(viewModel); 
```

您可以在文档中阅读更多关于视图模型以及如何使用它们的[信息](http://knockoutjs.com/documentation/observables.html)。

演示：http: [//jsfiddle.net/d9VkK/](http://jsfiddle.net/d9VkK/)

# python - 将对象转换为可能返回 unicode 的字符串的最佳方法是什么？

> ID：14683750
> 
> 赞同：0
> 
> 时间：2013-02-04T09:25:58.813
> 
> 标签：python, string, unicode, non-ascii-characters

我试图应用`str`到一个对象数组，但是这给了我已知的编码错误“无法转换......到字符串”。我应该`unicode`在那个时候使用吗？

# php - 我想要一张地图，其中包含从用户插入的值以及数据库中的值

> ID：14683751
> 
> 赞同：2
> 
> 时间：2013-02-04T09:26:02.123
> 
> 标签：php, javascript, database, google-maps

下面是我的“home.php”代码。我想插入一些与地址相关联的值，将它们（查找并输入从用户插入的地址的纬度和经度）放入数据库和带有标记的地图中。

问题是，当 codeaddress() 执行时，它恰好在之前停止`geocoder.geocode({'address': address},function(results, status) {..}`，我无法将纬度和对数放入我的数据库中，并且在地图中没有标记。

如果我删除该行`<form action="home.php" method="post" width="300px" height="300px">`（当然还有 insertinDb() 的部分，因为现在我没有任何 $_POST 值）codeaddress() 有效，并且我有标记和纬度和经度值。

如果我删除对 codeaddress() 的调用，insertinDB() 就可以工作（当然没有插入 lat 和 lng 值）。

我哪里错了？如果问题中有什么不清楚的地方，请问我。

```
<!DOCTYPE html>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script> 
<HTML>
    <HEAD>
        <script type="text/javascript" src="jquery.js"></script>
        <META NAME="GENERATOR" Content="AlterVista - Editor HTML">
        <title>LowPricePetrol</title>
        <link rel="stylesheet" type="text/css" href="homeformat.css"/>
        <script type="text/javascript"
                src="https://maps.googleapis.com/maps/api/PRIVATEKEY=true">
        </script>
        <script type="text/javascript">
            var geocoder;
            var map;
            var lat_;
            var lng_;

            function initialize() {
                geocoder = new google.maps.Geocoder();
                var latlng = new google.maps.LatLng(41.92, 12.93);
                var mapOptions = {
                  zoom: 6,
                  center: latlng,
                  mapTypeId: google.maps.MapTypeId.ROADMAP
                }
                map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
            }

            function codeAddress() {
                var contentString = '<div id="content">'+
                '<h2 id="firstHeading" class="firstHeading">' + document.getElementById("nome").value + '</h2>'+
                '<div id="bodyContent"><u>Indirizzo</u>: ' + document.getElementById("indirizzo").value + ' ' + document.getElementById("civico").value +'<br><u>Citta</u>: '+ document.getElementById("citta").value
                + '<br><u>Paese</u>: ' + document.getElementById("paese").value + '<br><u>Prezzo Benzina</u>: ' + document.getElementById("prezzoB").value + ' (euro/litro)</div>' + 
                '<u>Prezzo Diesel</u>: ' + document.getElementById("prezzoD").value +
                ' (euro/litro)</div>'+
                '</div>';
                var image = '/img/'+ document.getElementById("nome").value +'.png';
                var infowindow = new google.maps.InfoWindow({content: contentString});
                var ind2_map = document.getElementById("indirizzo").value;
                var civ_map = document.getElementById("civico").value;
                var cit2_map = document.getElementById("citta").value;
                var pae2_map = document.getElementById("paese").value;
                var address = ind2_map + " " + civ_map + ", " + cit2_map + ", "+ pae2_map ;
                alert(address);
                geocoder.geocode({'address': address},function(results, status) {
                    if (status == google.maps.GeocoderStatus.OK) {
                        map.setCenter(results[0].geometry.location);
                        alert(results[0].geometry.location);
                        lat_ =results[0].geometry.location.lat();
                        alert(lat_);
                        lng_ =results[0].geometry.location.lng();
                        alert(lng_);
                        document.getElementById('lat').value = lat_;
                        document.getElementById('lng').value = lng_;
                        var marker = new google.maps.Marker({
                            map: map,
                            icon:image,
                            position: results[0].geometry.location
                        });
                        google.maps.event.addListener(marker, 'click', function() {infowindow.open(map,marker);});
                    }  else {
                        alert("Geocode was not successful for the following reason: " + status);
                    }
                });
            }       
        </script>

        <?php
            function insertInDb() {
                $database = mysql_connect( CONNECTION DB);
                if (!$database) {
                    die('Could not connect: ' . mysql_error());
                }

                mysql_select_db("NAME DB", $database);

                $sql="INSERT INTO Dati(NomeLuogo, Indirizzo, Citta, Paese, PrezzoB, PrezzoD, Lat, Lng)
                VALUES
                ('$_POST[nome]','$_POST[indirizzo]','$_POST[citta]','$_POST[paese]','$_POST[prezzoB]', '$_POST[prezzoD]', '$_POST[lat]', '$_POST[lng]')";

                if (!mysql_query($sql,$database)) {
                    die('Error: ' . mysql_error());
                }
                mysql_close($database);
            }
        ?>

    <script type="text/javascript">
        function check_form(){
            var check_n = document.getElementById("nome").value;
            var check_i = document.getElementById("indirizzo").value;
            var check_civ = document.getElementById("civico").value;
            var check_cit = document.getElementById("citta").value;         
            var check_pa = document.getElementById("paese").value;
            var check_prb = document.getElementById("prezzoB").value;
            var check_prd = document.getElementById("prezzoD").value;
            if(check_n == "" || check_i == ""  || check_cit == ""  || check_pa == ""  || (check_prb == "" && check_prd == "") )
                alert("Tutti i campi con asterisco sono obbligatori (almeno un prezzo va inserito)");
            else{
                codeAddress();
            }
        }
    </script>
    </HEAD>
    <BODY onload="initialize();">
        <div class="titlebox" style="center">
            <img src="/img/Logo.png" alt="LowPricePetrol_Logo"  width="700" height="150" align=%u201Dcenter%u201D />
        </div>

        <?php
            if(isset($_POST["nome"]))
                insertInDb();
        ?>

        <div  class="insertbox" style="center">
            <br/>
            <form action="home.php" method="post" width="300px" height="300px">
                AGGIUNGI LA TUA SEGNALAZIONE
                <br/>
                <label for="nome">Seleziona il gestore:</label><br/>
                <select id="nome" name="nome">
                <option value="" selected="selected">-- seleziona --</option>
                <option value="Eni" id="Eni">Eni</option>
                <option value="Esso" id="Esso">Esso</option>
                <option value="Ip" id="Ip">Ip</option>
                <option value="Q8" id="Q8">Q8</option>
                <option value="Tamoil" id="Tamoil">Tamoil</option>
                <option value="Total" id="Total">Total</option>
                </select><br/>
                Indirizzo: <br/>
                <input type="text" name="indirizzo" id="indirizzo"/> <br/>
                Civico: <br/>
                <input type="text" size="4" name="civico" id="civico"/> <br/>
                Città: <br/>
                <input type="text" name="citta" id="citta"/> <br/>
                Paese: <br/>
                <input type="text" name="paese" id="paese"/> <br/>
                Prezzo benzina (euro/litro): <br/>
                <input type="text" name="prezzoB" size="5" id="prezzoB"/> <br/>
                Prezzo diesel (euro/litro): <br/>
                <input type="text" name="prezzoD" size="5" id="prezzoD"/> <br/>
                <input type="text" id="lat" name="lat"></input>
                <input type="text" id="lng" name="lng"></input>
                <br/>
                <input type="submit" name="invia"  onclick="check_form()"/>
            </form>
        </div>

        <div class="mapbox" id="map_canvas" style="width:700px; height:350px" ></div>
    </BODY>
</HTML> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:35:42.810

地理编码是异步功能。您在获得结果之前被重定向到主页。您应该在收到数据后提交表格。为了实现这个目标，你可以改变

```
<input type="submit" name="invia"  onclick="check_form()"/>` 
```

到

```
<input type="button" name="invia"  onclick="check_form()"/> 
```

和

```
<form action="home.php" method="post" width="300px" height="300px"> 
```

到

```
<form action="home.php" method="post" width="300px" height="300px" name='sform'> 
```

并添加`document.sform.submit`到您`if (status == google.maps.GeocoderStatus.OK) {`的代码部分的末尾。

# c# - 如何通过 LINQ to XML 获取间接后代节点？

> ID：14683758
> 
> 赞同：1
> 
> 时间：2013-02-04T09:26:26.560
> 
> 标签：c#, xml, linq, linq-to-xml

我的 XML 具有以下结构：

```
<?xml version="1.0"?>
<NidanArchiveDS>
<xs:schema id="NidanArchiveDS" targetNamespace="http://tempuri.org/NidanArchiveDS.xsd" xmlns:mstns="http://tempuri.org/NidanArchiveDS.xsd" xmlns="http://tempuri.org/NidanArchiveDS.xsd" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" attributeFormDefault="qualified" elementFormDefault="qualified">
<xs:element name="NidanArchiveDS" msdata:IsDataSet="true" msdata:Locale="ru-RU">
  <xs:complexType>
    <xs:choice minOccurs="0" maxOccurs="unbounded">
      <xs:element name="Settings">
        <xs:complexType>
          <xs:attribute name="ContentTypeName" form="unqualified" type="xs:string" use="required" />
          <xs:attribute name="ListName" form="unqualified" type="xs:string" use="required" />
          <xs:attribute name="DocTypeFieldName" form="unqualified" type="xs:string" />
          <xs:attribute name="DocNumberFieldName" form="unqualified" type="xs:string" />
          <xs:attribute name="DOcDateFieldName" form="unqualified" type="xs:string" />
        </xs:complexType>
      </xs:element>
    </xs:choice>
  </xs:complexType>
  <xs:unique name="Constraint1" msdata:PrimaryKey="true">
    <xs:selector xpath=".//mstns:Settings" />
    <xs:field xpath="@ContentTypeName" />
    <xs:field xpath="@ListName" />
  </xs:unique>
</xs:element>
</xs:schema>
<diffgr:diffgram xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" xmlns:diffgr="urn:schemas-microsoft-com:xml-diffgram-v1">
<NidanArchiveDS xmlns="http://tempuri.org/NidanArchiveDS.xsd">
  <Settings diffgr:id="Settings1" msdata:rowOrder="0" ContentTypeName="CONTENTTYPE 1" ListName="Заявки на оплату" DocTypeFieldName="Имя11" DocNumberFieldName="Имя22" DOcDateFieldName="Имя33" />
  <Settings diffgr:id="Settings2" msdata:rowOrder="1" ContentTypeName="CONTENTTYPE 2" ListName="LST" DocTypeFieldName="Имя44" DocNumberFieldName="Имя" DOcDateFieldName="Имя5555" />

</NidanArchiveDS> 
```

下面是我使用 ContentTypeName="CONTENTTYPE 2" 获取设置的查询

```
docNameFieldName = (from xn in nidanarchiveSettings.Descendants(System.Xml.Linq.XName.Get("Settings"))
                                                        where xn.Attribute(System.Xml.Linq.XName.Get("ContentTypeName")).Value == "CONTENTTYPE 2"
                                                        && xn.Attribute(System.Xml.Linq.XName.Get("ListName")).Value == "LST"
                                                        select xn.Attribute(System.Xml.Linq.XName.Get("DocTypeFieldName")).Value).SingleOrDefault(); 
```

但它给了我一个空字符串。我想知道如何以正确的样式编写查询以具有此属性。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:37:58.860

您忘记了命名空间：

```
XDocument xdoc = XDocument.Load(path_to_xml);
XNamespace ns = "http://tempuri.org/NidanArchiveDS.xsd"; 

var docNameFieldName = 
    (from s in xdoc.Descendants(ns + "Settings")
     where (string)s.Attribute("ContentTypeName") == "CONTENTTYPE 2" &&
           (string)s.Attribute("ListName") == "LST"
     select (string)s.Attribute("DocTypeFieldName")).SingleOrDefault(); 
```

也不要使用`Value`节点的属性。只需将其转换为字符串（或其他类型） - 如果某些节点丢失，它不会引发异常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T10:41:41.557

你可以走 lambda 路线：

```
var docNameFieldName = xdoc.Descendants("Settings")
.First(sett => sett.Attribute("ContentTypeName") == "CONTENTTYPE 2")
.Attribute("DocTypeFieldName").Value; 
```

此外，您可能刚刚发布了部分 XML 片段，但您的`<diffgr:diffgram>`标签未关闭...

# r - 将关键图例添加到 R 中的多直方图

> ID：14683766
> 
> 赞同：11
> 
> 时间：2013-02-04T09:26:49.023
> 
> 标签：r, key, histogram, legend

如何在下图中添加关键图例

![在此处输入图像描述](../Images/ce2cba1f8dad28d867c438ba3dee20a1.png)

我希望在右上角的某个地方有一个关键图例，带有两个短的水平色条，红色的应该说“整形手术出了问题”，蓝色的应该说“德国”。

我使用以下代码来生成绘图：

```
bar2 <- read.table("div/ana-mut[...]/barriers-set-2.dat", sep=" ")
bar2val <- c(bar2$V1, bar2$V2)
bar3 <- read.table("div/ana-mut[...]/barriers-set-3.dat", sep=" ")
bar3val <- c(bar3$V1, bar3$V2)
p1 <- hist(subset(bar2val, bar2val < 30), breaks=30)
p2 <- hist(subset(bar3val, bar3val < 30), breaks=30)
plot(p1, col=rgb(1,0,0,8/9), main="Barrier distribution", xlab="Barrier [kcal/mol]", ylab="Mutant count")
plot(p2, col=rgb(0,0,1,8/9), add=T) 
```

任何提示将不胜感激。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-02-04T09:29:41.057

legend 命令可以解决问题：

```
legend("topright", c("Germany", "Plastic"), col=c("blue", "red"), lwd=10) 
```

要获得两个短的水平彩条，只需使用标准线，但增加线的粗细。正如 Roland 指出的，你也可以使用这个`fill`论点：

```
legend("topright", c("Germany", "Plastic"), fill=c("blue", "red")) 
```

有关`?legend`更多详细信息，请参阅。

![在此处输入图像描述](../Images/c5b7881aa3cc9ba19386f274e625a13a.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-04T10:00:19.707

这是一个替代解决方案（请参阅下面的代码）

![在此处输入图像描述](../Images/b2e176d03cc7d9f860ea633a020848c7.png)

```
# some semi-random data …
df <- structure(list(Germany = c(1L, 3L, 6L, 1L, 2L), Plastic = c(2L, 
5L, 4L, 2L, 3L)), .Names = c("Germany", "Plastic"), class = "data.frame", row.names = c(NA, 
-5L))

# Expand right side of clipping rect to make room for the legend
par(xpd=T, mar=par()$mar+c(0,0,0,4))

# Graph data (transposing the matrix) using heat colors,  
# put 10% of the space between each bar, and make labels  
# smaller with horizontal y-axis labels
barplot(t(df), main="Barrier distribution", xlab="Barrier [kcal/mol]", ylab="Mutant count", 
   col=c("blue", "red"), space=0.1, cex.axis=0.8, las=1,
   names.arg=c("Mon","Tue","Wed","Thu","Fri"), cex=0.8) 

# Place the legend at (4,9) using blue and red
legend(4, 9, names(df), lwd=4, col=c("blue", "red"))

# Restore default clipping rect
par(mar=c(5, 4, 4, 2) + 0.1) 
```

# ruby-on-rails - rspec 说没有路由匹配，但路由在浏览器中有效

> ID：14683773
> 
> 赞同：2
> 
> 时间：2013-02-04T09:27:32.887
> 
> 标签：ruby-on-rails

问题是如此简单，我不知道可能出了什么问题。

我有这个规格：

```
it "/fr/admin/articles/new" do
  expect(:get => "/fr/admin/articles/new").to route_to(:controller => 'articles', :action => 'new')
end 
```

**当我浏览 localhost:3000/fr/admin/articles/new 时，它可以工作！**

但我的测试说：

```
Failure/Error: expect(:get => "/fr/admin/articles/new").to route_to(:controller => 'articles', :action => 'new')
   No route matches "/fr/admin/articles/new"
   # ./spec/routing/articles_routing_spec.rb:6:in `block (2 levels) in <top (required)>' 
```

我的路线.rb：

```
scope '/:locale', :constraints => LocaleConstraint do
  root :to => 'static#home'
  scope '/admin' do
    root :to => 'articles#index'
    resources :articles
  end
end 
```

还有我的 locale_constraint.rb

```
class LocaleConstraint
  def self.matches?(request)
    /(fr|zh)/.match(request.path_parameters[:locale])
  end
end 
```

rake 路由的输出：

```
 ckeditor        /ckeditor                                  Ckeditor::Engine
       admin        /admin(.:format)                           :controller#:action
       login GET    /login(.:format)                           sessions#new
      logout GET    /logout(.:format)                          sessions#destroy
    sessions POST   /sessions(.:format)                        sessions#create
        root        /:locale(.:format)                         static#home
        root        /:locale/admin(.:format)                   articles#index
    articles GET    /:locale/admin/articles(.:format)          articles#index
             POST   /:locale/admin/articles(.:format)          articles#create
 new_article GET    /:locale/admin/articles/new(.:format)      articles#new
edit_article GET    /:locale/admin/articles/:id/edit(.:format) articles#edit
     article GET    /:locale/admin/articles/:id(.:format)      articles#show
             PUT    /:locale/admin/articles/:id(.:format)      articles#update
             DELETE /:locale/admin/articles/:id(.:format)      articles#destroy
        root        /                                          :controller#:action

Routes for Ckeditor::Engine:
        pictures GET    /pictures(.:format)             ckeditor/pictures#index
                 POST   /pictures(.:format)             ckeditor/pictures#create
         picture DELETE /pictures/:id(.:format)         ckeditor/pictures#destroy
attachment_files GET    /attachment_files(.:format)     ckeditor/attachment_files#index
                 POST   /attachment_files(.:format)     ckeditor/attachment_files#create
 attachment_file DELETE /attachment_files/:id(.:format) ckeditor/attachment_files#destroy 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T17:41:01.837

显然，这是 Rails 中的一个错误，请参阅：

[https://github.com/rails/rails/issues/8679](https://github.com/rails/rails/issues/8679)

# html - 使用 Rich:dataTable 和嵌套 Rich:tooltip 时生成错误的 CSS

> ID：14683775
> 
> 赞同：0
> 
> 时间：2013-02-04T09:27:35.683
> 
> 标签：html, css, google-chrome, richfaces

我使用 Richfaces 并拥有一个 Rich:datatable 和嵌套的 rich:tooltip-s。您可以想象生成的 HTML 如下所示：

```
<table style="width: 400px; border: 3px solid #000; caption-side: bottom; border-collapse:collapse;">
  <caption align="bottom">Table 1.1: A record of the fur shed annually by Jennifer's dog Shasta</caption>
  <thead>
    <tr>
      <th>Month</th>
      <th>Fur Shed (mm)</th>
    </tr>
  <thead>
  <tbody style="background-color: #ff3;">
    <tr>
      <td>April</td>
      <td>20</td>
    </tr>
    <tr>
      <td>May</td>
      <td>19</td>
    </tr>
    <tr>
      <td>June</td>
      <td>10</td>
    </tr>
    <tr>
      <td>July</td>
      <td>6</td>
    </tr>
    <tr>
      <td>August</td>
      <td>8</td>
    </tr>
    <tr>
      <td>September</td>
      <td>14</td>
    </tr>
  </tbody>
  <tbody>
<tr>
  <td style="display:none;">
  <script type="text/javascript">
    new RichFaces.ui.DataTable("form1:table1:0:j_idt227",{"ajaxEventOptions":{}} )
  </script>
  </td>
</tr> 
```

这个 html 的问题在于第二个（从 RF 生成）tbody: **td** has *style="display:none;"* 在谷歌浏览器中，这会导致底部边框不显示。

我的问题是：您知道是否有可能找到解决此问题的解决方法？移动**显示：无；**在**tr**或**tbody**级别已经是一个解决方案。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T11:21:07.060

您可以向表格 ( `<f:facet name="footer">`) 添加页脚，该页脚将在隐藏行下呈现，但如果您不想这样做，可以使用以下 CSS：

```
table > tbody > tr:last-child {
    border-bottom: 3px solid #000;
} 
```

这将找到最后一行并在底部添加边框，当然这会影响页面上的每个表格，因此您应该使用一些标识符。另请注意，`:last-child`并非所有浏览器都支持选择器（它在 Chrome 中确实有效）。

其他替代方法是将表格包装在 div 中，但您需要使用 CSS 进行一些操作以使其看起来像您想要的那样。

# sencha-touch-2 - 如何在 sencha touch 的一个字段中设置来自服务器的数据和在另一个存储字段中的硬编码数据

> ID：14683781
> 
> 赞同：1
> 
> 时间：2013-02-04T09:28:19.323
> 
> 标签：sencha-touch-2, sencha-charts

嗨，我正在开发一个图表应用程序，此数据来自服务器，用于系列的 xField 和 yField，但我只想要 yField`s（图表列的数值，例如 10、20、30、55、88）数据从服务器并将 xField（一月、二月、三月、四月、五月、六月、七月、八月、九月、十月、十一月、十二月）数据硬编码到商店中。以便应用程序更快地运行我的应用程序屏幕截图附在[此处。](http://dl.dropbox.com/u/73250761/chartApp.PNG)和我附在[这里的代码](http://dl.dropbox.com/u/73250761/main.txt)

代码文件具有模型、存储和查看代码。如果您看到我附加的应用程序的屏幕截图，我已经用红色四舍五入了我想要硬编码的 xField 的标签。请指导我

# git - git svn 需要很长时间

> ID：14683786
> 
> 赞同：2
> 
> 时间：2013-02-04T09:28:33.717
> 
> 标签：git, git-svn, execution-time

从 SVN 迁移到 GIT 时，`git svn clone ...`命令在 RHEL5、4GB RAM、2-CPU 每个@2.67GHz 上花费了将近 54 小时

有什么办法可以减少 git-svn 克隆时间？

PS： git-svn 结帐数据约为 25+ GB。最终裸 git repo 空间为：939M

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T15:47:55.090

我们的许多用户报告说，在将巨大的 SVN 存储库导入 Git 时， [SubGit的运行速度明显加快。](http://subgit.com/)

如果您使用 Atlassian Stash 管理 Git 存储库，可以使用[SubGit 插件](http://subgit.com/stash/)将 SVN 存储库从 Web UI 转换为 Stash 管理的 Git 存储库。

SubGit 是一个商业软件，但它可以免费导入。只有在使用 Git-SVN 同步功能时才需要付费。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:46:07.370

旧版本的`git-svn`. 请参阅：[恢复 git-svn 克隆](https://stackoverflow.com/questions/2676912/resuming-git-svn-clone)

# javascript - 在meteor.js中处理发布数据的简单方法？

> ID：14683787
> 
> 赞同：5
> 
> 时间：2013-02-04T09:28:38.120
> 
> 标签：javascript, meteor

我需要在我的 meteor.js 应用程序中处理一些 POST 数据，有没有简单的方法可以做到这一点？

非常基本，如果它是一个 PHP 应用程序，我只需要 $_POST 变量。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-05T01:53:47.700

流星路由器

[https://github.com/tmeasday/meteor-router#server-side-routing](https://github.com/tmeasday/meteor-router#server-side-routing)

```
Meteor.Router.add('/items/:id', 'POST', function(id) {
  // update Item Function
  return [200, 'ok'];
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-02T13:06:53.420

如果您只是想拦截 GET 和 POST 数据，然后以快乐的方式发送 Meteor，您可以在服务器上执行类似的操作。

```
if (Meteor.isServer) {

  var connect = Npm.require('connect');
  var app = __meteor_bootstrap__.app;
  var post, get;

  app
    // parse the POST data
    .use(connect.bodyParser())
    // parse the GET data
    .use(connect.query())
    // intercept data and send continue
    .use(function(req, res, next) {
      post = req.body;
      get = req.query;
      return next();
    });

  Meteor.startup(function() {
    // do something with post and get variables
  });

} 
```

**编辑 11/01/13**

我最终为此（为我自己）创建了一个智能包。没有文档，但欢迎您使用它。[https://github.com/johnnyfreeman/request-data](https://github.com/johnnyfreeman/request-data)

要检索`foo`请求变量：

```
RequestData.get('foo') // --> 'bar'
RequestData.post('foo') // --> 'bar' 
```

如果未找到密钥，则这两种方法都会`throw`出现，因此如果变量是可选的`Meteor.Error`，请确保使用带有`try`/的 wrap。`catch`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-05-04T16:11:54.647

您可以在此处使用 Meteor 的`Iron Router`文档[，](https://github.com/iron-meteor/iron-router)因为`Router`（如上所述）已经过时并且可能不再起作用。

```
Router.route('/items/:id', {where: 'server'})
    .get(function () {
        this.response.end('get request\n');
    })
    .post(function () {
        this.response.end('post request\n');
    }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-09-08T09:34:37.840

我正在使用这个包来序列化正文数据：`simple:json-routes`. 这是[链接。](https://atmospherejs.com/simple/json-routes)

这个代码片段可以访问它：

```
WebApp.connectHandlers.use('/api/request', (req, res, next) => {
    console.log(req.body);
}); 
```

# android - 无法为 IcsSpinner 获得所需的背景

> ID：14683789
> 
> 赞同：0
> 
> 时间：2013-02-04T09:28:50.803
> 
> 标签：android, spinner, actionbarsherlock

这是微调器代码：

```
<com.actionbarsherlock.internal.widget.IcsSpinner
    android:id="@+id/mSpinner"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:background="@color/bg_grey" /> 
```

**bg_grey**是第一张图像中的浅灰色背景。

文本视图代码`dropdown_text.xml`：

```
<TextView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/mDropDown"
    android:layout_width="fill_parent"
    android:layout_height="30dp"
    android:background="@android:color/transparent"
    android:padding="2dp"
    android:textColor="@color/text_dark_grey">
</TextView> 
```

在活动中：

```
ArrayAdapter<String> ,Adapter = new ArrayAdapter<String>(mActivity.this, R.layout.dropdown_text, mArray); 
```

Spinner 的 InActive 状态：

![在此处输入图像描述](../Images/8a2d130fbbb24f21a39f0f43aab45fc1.png)

这就是我想要的。但，

Spinner 的活动状态：

![在此处输入图像描述](../Images/8f8a7edcbe0f70050acf5cadd18a2f4b.png)

为什么 DropDown 颜色的背景是深灰色的。我希望它像第一张图片一样是浅灰色的。

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:39:29.617

试试这个 ：

```
ArrayAdapter<String> adapter = new ArrayAdapter<String>(mActivity.this, R.layout.dropdown_text, mArray){

            @Override
            public View getDropDownView(int position, View convertView,
                    ViewGroup parent) {
                TextView tv =  super.getDropDownView(position, convertView, parent);
                //set your own selector for textview background here
                return tv;
            }

            @Override
            public View getView(int position, View convertView, ViewGroup parent) {

                TextView tv =  super.getView(position, convertView, parent);
                //set your own selector for textview background here
                return tv;
            }

        }; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:34:21.113

将 textView 的背景更改为：

`<android:background="@color/bg_grey">`

这并不能解释为什么它是深灰色的，但会修复它。

我在 ListView 上遇到了一些类似的问题，其中项目的背景颜色随机变化。当我更改 ListView 项目的背景颜色时，它们保持不变。对我来说仍然是个谜。

# c++-cli - 使用 gcroot 时出现 System.NullReferenceException

> ID：14683790
> 
> 赞同：0
> 
> 时间：2013-02-04T09:28:52.280
> 
> 标签：c++-cli, command-line-interface, managed, handles

原来这个错误与 gcroot 无关——我粗劣地连接了一些构造函数，并在途中丢失了实例化的对象。

作为记录，以下代码的所有版本在此修复后都可以正常工作，但是添加简单的 Wrapper 类允许您在包装对象上使用 & 和 * 运算符，这是 gcroot 禁止的。我正在使用下面第三个代码块中概述的版本。

* * *

我正在尝试通过 .dll 使用一些测量仪器，但我在实施时遇到了问题。将所有代码写入 main.cpp 并使用这样的对象可以正常工作：

```
#using "M3D_FP_USB.dll"
int main(){
    M3D_FP_USB ^obj = gcnew M3D_FP_USB;
    obj->Connect();
    ...
} 
```

但是，当我将它放入一个类并用 gcroot 包装它时，我在执行时收到“未处理的异常：System.NullReferenceException：对象引用未设置为对象的实例”。

```
class User{       
    ...
public:
    User();
    gcroot<M3D_FP_USB^> obj;
}

User::User(){
    obj = gcnew M3D_FP_USB;
    obj->Connect();
    ...
} 
```

我怀疑 gcroot 或在非托管类中调用它可能会阻止仪器访问 M3D_FP_USB 对象。我尝试添加一个托管的 Wrapper 类，并将 Wrapper 对象的句柄提供给 User 类。但这并没有解决问题。

```
class User{       
    ...
public:
    gcroot<Wrapper^> wobj;
}

ref class Wrapper{
    ...
public:
    M3D_FP_USB^ iobj;
    ...
}

Wrapper::Wrapper(){
    iobj = gcnew M3D_FP_USB;
    iobj->Connect();
    ...
} 
```

我的新代码看起来像这样，但我还不能用仪器测试它。有机会我会更新的。

```
Wrapper::Wrapper(M3D_FP_USB^ obj){
    iobj = obj;
    iobj->Connect();
    ...
}

int main(){
    M3D_FP_USB ^obj = gcnew M3D_FP_USB;
    Wrapper Ex(obj);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T12:04:26.170

如果您管理类并直接声明句柄，是否也会发生异常？喜欢：

```
ref class User
{
public:
    M3D_FP_USB^ obj;

    ...
}; 
```

虽然我不明白为什么它不会像你那样工作......

# android - 路径外部的弯曲文本

> ID：14683791
> 
> 赞同：1
> 
> 时间：2013-02-04T09:28:58.747
> 
> 标签：android

我应该如何沿着弯曲的路径绘制文本，但朝外而不是朝内？我在将文本绘制到曲线上找到了这个[答案](https://stackoverflow.com/questions/8337221/how-to-write-curved-text)，这是我目前使用的方法，但是当倒置时（在圆圈的底部），文本是不可读的。谢谢

![在此处输入图像描述](../Images/b3f23cc94e54200e63c533046f42276f.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T10:52:29.447

我最终使用 quadTo() 绘制了一条路径，然后将画布围绕曲线旋转 180 度以正确绘制它。对于应该由drawtextonpath（）本机支持的东西感觉有点太努力了......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-12-10T10:17:19.790

确实有一种更简单的方法可以实现这一点，在方法中传递一个**负**扫描角就足够了`addArc`，弧线将逆时针绘制:)

# deadlock - 我如何确保我的代码发生了阻塞

> ID：14683792
> 
> 赞同：0
> 
> 时间：2013-02-04T09:29:01.483
> 
> 标签：deadlock, thread-dump

最近我遇到了线程阻塞的情况。

线程转储说以下

```
"TP-Processor338" daemon prio=10 tid=0x00002aaabd753800 nid=0x37ee runnable   [0x0000000046681000]
java.lang.Thread.State: RUNNABLE
at java.net.SocketInputStream.socketRead0(Native Method)
at java.net.SocketInputStream.read(SocketInputStream.java:129)
at java.io.DataInputStream.readFully(DataInputStream.java:178)
at java.io.DataInputStream.readFully(DataInputStream.java:152)
at net.sourceforge.jtds.jdbc.SharedSocket.readPacket(SharedSocket.java:846)
at net.sourceforge.jtds.jdbc.SharedSocket.getNetPacket(SharedSocket.java:727)
- locked <0x00000007486f6530> (a java.util.ArrayList)
at net.sourceforge.jtds.jdbc.ResponseStream.getPacket(ResponseStream.java:466)
at net.sourceforge.jtds.jdbc.ResponseStream.read(ResponseStream.java:103)
at net.sourceforge.jtds.jdbc.ResponseStream.peek(ResponseStream.java:88)
at net.sourceforge.jtds.jdbc.TdsCore.wait(TdsCore.java:3932)
at net.sourceforge.jtds.jdbc.TdsCore.executeSQL(TdsCore.java:1046)
- locked <0x00000007486f8ae8> (a net.sourceforge.jtds.jdbc.TdsCore)
at net.sourceforge.jtds.jdbc.JtdsStatement.executeSQL(JtdsStatement.java:537)
at net.sourceforge.jtds.jdbc.JtdsPreparedStatement.executeUpdate(JtdsPreparedStatement.java:504)
- locked <0x00000007486f8870> (a net.sourceforge.jtds.jdbc.ConnectionJDBC3)
at my.jdbcwrapper.PreparedStatementImpl.executeUpdate(PreparedStatementImpl.java:261)
at my.persistence.media.Media_HJMPWrapper$MediaEntityState.storeChanges(Media_HJMPWrapper.java:1736)
at my.persistence.media.Media_HJMPWrapper.ejbStore(Media_HJMPWrapper.java:228)
at my.persistence.framework.RemoteInvocationHandler.performOther(RemoteInvocationHandler.java:196)
- locked <0x000000069c327028> (a my.persistence.framework.PKSyncUtils$PKSyncObject)
at my.persistence.framework.RemoteInvocationHandler.invoke(RemoteInvocationHandler.java:105)
at $Proxy101.setProperty(Unknown Source) 
```

有大约 200 多个线程在 0x000000069c327028 锁上被阻塞。

PKSyncUtils$PKSyncObject 或其他东西是否可能存在锁定问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:20:08.503

这个问题就解决了。问题出在 JDTS 驱动程序中。

# c# - 使用asp.net mvc webservices从服务器检索视频

> ID：14683795
> 
> 赞同：0
> 
> 时间：2013-02-04T09:29:08.127
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3, c#-4.0

我正在做一个将视频文件存储在服务器中的应用程序。我想使用 Web 服务将视频文件发送回客户端。如何使用 asp.net MVC 框架做到这一点。我正在开发 3.5 版

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:30:25.420

在您的 Web 服务中创建一个将文件加载到流并返回流的方法。

# c++ - 特化模板类以获取指向特定类的指针或指向派生类对象的指针

> ID：14683798
> 
> 赞同：2
> 
> 时间：2013-02-04T09:29:26.500
> 
> 标签：c++, templates, template-specialization

如何专门化一个类模板，以便模板参数可以是类型：指向特定类的指针或指向该特定类型的派生类的指针？不使用Boost可以做到吗？

可能重复： [仅接受某些类型的 C++ 模板](https://stackoverflow.com/questions/874298/c-templates-that-accept-only-certain-types)

我只是想知道答案是否相同，即使我使用的是指向实例的指针。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-04T09:42:43.173

您可以将您的类专门用于指针，然后`std::is_base_of`使用`static_assert`：

```
template <typename T>
class foo;

template <typename T>
class foo<T*>
{
  static_assert(std::is_base_of<Base, T>::value, "Type is not a pointer to type derived from Base");
}; 
```

[看到它在行动](http://ideone.com/FgXz5t)。两者都是 C++11 特性`std::is_base_of`，`static_assert`因此不需要 Boost。

如果由于某种原因你不喜欢`static_assert`，你可以这样做`enable_if`：

```
template <typename T, typename Enable = void>
class foo;

template <typename T>
class foo<T*, typename std::enable_if<is_base_of<Base, T>::value>::type>
{
  // ...
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T09:51:00.927

一种基于某些谓词而不是模式的特化技术是使用额外的默认参数。

```
template <typename T, bool = predicate<T>::value>
class foo {
    // here is the primary template
};

template <typename T>
class foo<T, true>  {
    // here is the specialization for when the predicate is true
}; 
```

您所需要的只是一个适当的谓词。在这种情况下，`std::is_base_of`似乎很合适。它也有一个增强的实现。

# php - 一次循环多次 PHP 数组而不显示相同的数据

> ID：14683799
> 
> 赞同：0
> 
> 时间：2013-02-04T09:29:28.793
> 
> 标签：php, jquery, arrays

我在我的网站上创建了一些 jQuery 功能，而一系列 Facebook 帖子和推文被循环显示在首页上。

我的首页上有 5 个框，我需要 5 个来同时显示这个数组中的随机元素，然后我使用一些 jQuery 循环功能来循环浏览这个数组。唯一的问题是，因为我在这个数组上循环了 5 次（每个框），并且这个数组中只有 20 个项目，它可以显示重复的数据。

为了帮助更多地解释这一点，这里是我的代码：

```
<?php
  $social_feeds = array_merge($tweets_feed, $facebook_feeds);
  $social_feeds_arranged = $tweets_feed_instance->sortArrayItemsByDate($social_feeds);
?>
<div id="social_box_item1" class="social_box_item">
  <?php foreach($social_feeds_arranged as $item) {  ?>
    <a class="item">
      <?php echo $item['text'] ?>
    </a>
  <?php } ?>
</div>
<div id="social_box_item2" class="social_box_item">
  <?php foreach($social_feeds_arranged as $item) {  ?>
    <a class="item">
      <?php echo $item['text'] ?>
    </a>
  <?php } ?>
</div>
<div id="social_box_item3" class="social_box_item">
  <?php foreach($social_feeds_arranged as $item) {  ?>
    <a class="item">
      <?php echo $item['text'] ?>
    </a>
  <?php } ?>
</div>
<div id="social_box_item4" class="social_box_item">
  <?php foreach($social_feeds_arranged as $item) {  ?>
    <a class="item">
      <?php echo $item['text'] ?>
    </a>
  <?php } ?>
</div>
<div id="social_box_item5" class="social_box_item">
  <?php foreach($social_feeds_arranged as $item) {  ?>
    <a class="item">
      <?php echo $item['text'] ?>
    </a>
  <?php } ?>
</div>

<script type="text/javascript">
  jQuery(document).ready(function() {

    jQuery('#social_box_item1').cycle({

    }); 
    jQuery('#social_box_item2').cycle({

    });
    jQuery('#social_box_item3').cycle({

    }); 
    jQuery('#social_box_item4').cycle({

    }); 
    jQuery('#social_box_item5').cycle({

    }); 

  });
</script> 
```

我需要发生的事情是第一个循环将它显示的项目推到数组的后面，所以当第二个循环访问第一个项目时，它不会显示相同的数组项目，与第三个相同，第 4 和第 5 圈。我曾尝试使用 array_push 和 array_shift 来做到这一点，但似乎无法让它工作。

有没有人有任何想法或可以帮助指出我哪里出错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:36:02.590

那时就不需要那些循环了。如果您的意思是这样，您可以一个一个地访问这些数组项。尝试这个：

```
 $social_feeds = array_merge($tweets_feed, $facebook_feeds);
        $social_feeds_arranged = $tweets_feed_instance->sortArrayItemsByDate($social_feeds);

    ?>
    <div id="social_box_item1" class="social_box_item">
        <a class="item">
                <?php echo $social_feeds_arranged[0]['text']; ?>
            </a>
        </div>
    <div id="social_box_item2" class="social_box_item">

            <a class="item">
                <?php echo $social_feeds_arranged[1]['text']; ?>
            </a>                                

    </div>
    <div id="social_box_item3" class="social_box_item">

            <a class="item">
                <?php echo $social_feeds_arranged[2]['text']; ?>
            </a>                                

    </div>
    <div id="social_box_item4" class="social_box_item">

            <a class="item">
                <?php echo $social_feeds_arranged[3]['text']; ?>
            </a>                                

    </div>
    <div id="social_box_item5" class="social_box_item">

            <a class="item">
                <?php echo $social_feeds_arranged[4]['text']; ?>
            </a>                                

    </div> 
```

# intellij-idea - IntelliJ IDEA TestNG 输出控制台清除

> ID：14683800
> 
> 赞同：3
> 
> 时间：2013-02-04T09:29:38.303
> 
> 标签：intellij-idea, testng

我用 3 种测试方法进行了测试。在输出控制台中，我只能看到上次运行测试方法的数据。以前的测试输出被清除。

是否可以查看所有测试方法的输出？

谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-04T12:09:46.713

面板左侧显示一棵测试树，单击根目录可查看所有测试的输出，或单击特定测试以查看其输出。

# sql-server - 是地理半径内的一个点 - SQL Server 2008

> ID：14683804
> 
> 赞同：6
> 
> 时间：2013-02-04T09:29:51.950
> 
> 标签：sql-server, sql-server-2008, sql-server-2008-r2, proximity, sqlgeography

给定以下数据，是否有可能，如果可能，哪种方法是确定第一个表中的位置“Shurdington”是否包含在第二个表中任何位置的给定半径内的最有效方法。

GeoData 列属于“地理”类型，因此可以选择使用 SQL Server 空间功能以及使用纬度和经度。

```
Location      GeoData       Latitude    Longitude
===========================================================
Shurdington   XXXXXXXXXX    51.8677979  -2.113189

ID  Location            GeoData     Latitude    Longitude   Radius
==============================================================================
1000    Gloucester      XXXXXXXXXX  51.8907127  -2.274598   10
1001    Leafield        XXXXXXXXXX  51.8360519  -1.537438   10
1002    Wotherton       XXXXXXXXXX  52.5975151  -3.061798   5
1004    Nether Langwith XXXXXXXXXX  53.2275276  -1.212108   20
1005    Bromley         XXXXXXXXXX  51.4152069  0.0292294   10 
```

非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-04T10:37:29.117

**创建数据**

```
CREATE TABLE #Data (
    Id int,
    Location nvarchar(50),
    Latitude decimal(10,5),
    Longitude decimal(10,5),
    Radius int
)

INSERT #Data (Id,Location,Latitude,Longitude,Radius) VALUES 
(1000,'Gloucester', 51.8907127 ,-2.274598  , 20), -- Increased to 20
(1001,'Leafield', 51.8360519 , -1.537438  , 10),
(1002,'Wotherton', 52.5975151,  -3.061798  , 5),
(1004,'Nether Langwith', 53.2275276 , -1.212108  , 20),
(1005,'Bromley', 51.4152069 , 0.0292294  , 10) 
```

**测试**

将您的兴趣点声明为`POINT`

```
DECLARE @p GEOGRAPHY = GEOGRAPHY::STGeomFromText('POINT(-2.113189 51.8677979)', 4326); 
```

要确定它是否在另一个点的半径内：

```
-- First create a Point.
DECLARE @point GEOGRAPHY = GEOGRAPHY::STGeomFromText('POINT(-2.27460 51.89071)', 4326);
-- Buffer the point (meters) and check if the 1st point intersects
SELECT @point.STBuffer(50000).STIntersects(@p) 
```

将它们组合成一个查询：

```
select  *,
        GEOGRAPHY::STGeomFromText('POINT('+ 
            convert(nvarchar(20), Longitude)+' '+
            convert( nvarchar(20), Latitude)+')', 4326)
        .STBuffer(Radius * 1000).STIntersects(@p) as [Intersects]
from    #Data 
```

给出：

```
Id      Location        Latitude    Longitude   Radius  Intersects
1000    Gloucester      51.89071    -2.27460    20      1
1001    Leafield        51.83605    -1.53744    10      0
1002    Wotherton       52.59752    -3.06180    5       0
1004    Nether Langwith 53.22753    -1.21211    20      0
1005    Bromley         51.41521    0.02923     10      0 
```

回复：效率。通过一些正确的索引，似乎 SQL 的空间索引可以非常快

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T10:43:27.653

You calculate the distance between the two points and compare this distance to the given radius.

For calculating short distances, you can use the formula at [Wikipedia - Geographical distance - Spherical Earth projected to a plane](http://en.wikipedia.org/wiki/Geographical_distance#Spherical_Earth_projected_to_a_plane), which claims to be "very fast and produces fairly accurate result for small distances".

According to the formula, you need the difference in latitudes and longitudes and the mean latitude

```
with geo as (select g1.id, g1.latitude as lat1, g1.longitude as long1, g1.radius,
                    g2.latitude as lat2, g2.longitude as long2
             from geography g1
             join geography g2 on g2.location = 'shurdington'
                               and g1.location <> 'shurdington')
     base as (select id,
                     (radians(lat1) - radians(lat2)) as dlat,
                     (radians(long1) - radians(long2)) as dlong,
                     (radians(lat1) + radians(lat2)) / 2 as mlat, radius
              from geo)
     dist as (select id,
                     6371.009 * sqrt(square(dlat) + square(cos(mlat) * dlong)) as distance,
                     radius
              from base)
select id, distance
from dist
where distance <= radius 
```

I used the `with select`s as intermediate steps to keep the calculations "readable".

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-04T10:43:32.093

If you want to do the maths yourself, you could use Equirectangular approximation based upon Pythagoras. The formula is:

var x = (lon2-lon1) * Math.cos((lat1+lat2)/2); var y = (lat2-lat1); var d = Math.sqrt(x*x + y*y) * R;

In terms of SQL, this should give those locations in your 2nd table that contain your entry in the 1st within their radius:

```
SELECT *
FROM Table2 t2
WHERE EXISTS (
 SELECT 1 FROM Table1 t1
 WHERE 
  ABS (
  SQRT (
    (SQUARE((RADIANS(t2.longitude) - RADIANS(t1.longitude)) * COS((RADIANS(t2.Latitude) + RADIANS(t1.Latitude))/2))) +
    (SQUARE(RADIANS(t1.Latitude) - RADIANS(t2.Latitude)))
    ) * 6371 --Earth radius in km, use 3959 for miles
    )
    <= t2.Radius
) 
```

Note that this is not the most accurate method available but is likely good enough. If you are looking at distances that stretch across the globe you may wish to Google 'haversine' formula.

It may be worth comparing this with Paddy's solution to see how well they agree and which performs best.

# replace - sed 用于解析多行

> ID：14683807
> 
> 赞同：-1
> 
> 时间：2013-02-04T09:29:56.157
> 
> 标签：replace, sed

我正在替换一种多线模式：

```
&lt;/p&gt;
&lt;ul&gt; 
```

使用以下`sed`命令：

```
sed -e 's|&lt;\/p&gt;\n&lt;ul&gt;|\\begin{itemize}|g' 
```

但它似乎并没有正常工作。如何使用`sed`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:37:54.187

假设你有`GNU sed`，你可以使用一个循环：

```
sed ':a; N; $!ba; s|&lt;/p&gt;\n&lt;ul&gt;|\\begin{itemize}|g' file 
```

对于`BSD/OSX sed`，请尝试：

```
sed -e ':a' -e 'N' -e '$!ba' -e 's|&lt;/p&gt;\n&lt;ul&gt;|\\begin{itemize}|g' file 
```

* * *

根据评论，只需在每行开头添加空格：

```
sed ':a; N; $!ba; s| *&lt;/p&gt;\n *&lt;ul&gt;|\\begin{itemize}|g' fileg 
```

# html - 非windows系统中的Segoe UI字体

> ID：14683810
> 
> 赞同：11
> 
> 时间：2013-02-04T09:30:04.853
> 
> 标签：html, css, fonts

我正在开发 Web 应用程序的前端，设计需要使用 Segoe UI 字体。我将此字体用于一些文本区域，但在非 Windows 系统（Mac OS borwsers、Android 等）中，这些文本不会使用 Segoe UI 字体呈现。

谷歌搜索后，我发现微软使用了这种字体。我的问题是。可以只使用前端的字体文件并使用@face-font 将字体包含在前端吗？还是我需要一些许可证或类似的东西？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-04T09:34:42.140

您不能在没有直接联系的情况下从 Microsoft 获得 Segoe UI 的许可，您可以从[Ascender Corp](http://www.ascendercorp.com/font/segoe-ui/)获得从 Microsoft 网页链接到 Segoe UI 的 Mono 字体，但它与 Segoe UI 不同。

我建议[Open Sans](http://www.google.com/webfonts#UsePlace:use/Collection:Open+Sans)作为 Segoe UI 字体的替代品，它非常相似，并且有更多的开放许可可用作 webfont（该链接实际上是 Google 托管的字体版本） - 所以你可以将 Segoe 作为主要字体字体然后回退到非 Windows 7+ 系统上的 Open Sans。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-04T09:35:38.163

从技术上讲，您可以通过 css 嵌入字体，但我认为许可证不允许您合法地这样做。虽然无法立即找到 - msft 的许可始终是一个迷宫。

[你能在Google 网络字体](http://www.google.com/webfonts)或[Typekit](https://typekit.com/)上找到替代字体并使用 instad 吗？他们都有许可证吗？（例如，Open Sans 非常相似）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-08-27T16:28:45.593

如果您使用 CSS，只需调用字体堆栈中的字体。它可以是第一个字体或列出的第二个或第三个字体。每个设备或浏览器都将使用您列表中的字体，因为它们是在系统上找到的。如果您首先放置仅 Mac 字体，Windows 系统将默认使用它找到的安装的第二种或第三种字体。

如果您想自己托管字体，请注意某些设备不支持某些字体，无论如何您仍然需要列出替代字体。检查您的分析以了解正在访问的设备和浏览器的类型。选择最流行的作为您的主要字体，然后按降序添加其他字体。

不能保证任何字体都会实际加载。变量太多，用户总是可以卸载字体或关闭 javascript 和其他可以让网页设计师发疯的废话。

我在我的大多数网站中都使用托管字体和安装字体的组合，尤其是在设计更为关键的时候。

# java - 如果前一个字符没有 \，则用逗号分割字符串

> ID：14683811
> 
> 赞同：1
> 
> 时间：2013-02-04T09:30:04.333
> 
> 标签：java, string

我有一个String，我需要用逗号分割它，但是如果前面的字符是\，那么这部分不应该被分割。

例如从`String str = "first,second\\,third,fourth"`我需要`String[] strs = { "first", "second\\,third", "fourth" }`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:42:57.237

像这样的东西？

```
String str = "first,second\\,third,fourth";
String[] strs = s.split("(?<!\\\\),"); 
```

查看 java.utils.regex.Pattern 文档以获得解释。

# php - 使用phpmail功能增加发送每封邮件的延迟，同时向1000个用户发送邮件

> ID：14683817
> 
> 赞同：1
> 
> 时间：2013-02-04T09:30:33.407
> 
> 标签：php

我想在使用 phpmail() 函数向用户发送每封电子邮件之间添加大约 30 到 60 秒的延迟。我正在从表中获取用户电子邮件数据并使用 while 循环，并且数据库表中有大约 1000 个用户。我希望在重复此 while 循环的语句时有所延迟，以便在该特定用户之后将每封电子邮件发送给下一个用户。我正在使用以下代码：

```
$sql = "select * from users where `user_email` = '$_REQUEST[q]' or `user_name`='$_REQUEST[q]' ";

$rs_results = mysql_query($sql) or die(mysql_error());   

while ($rrows = mysql_fetch_array($rs_results)) {

$fullname = $rrows['full_name'];
$usermailid = $rrows['user_email'];
$username = $rrows['user_name'];

$message =
"Hello $fullname  \n
Welcome to My Site \n
The rest of the message";

mail($usermailid, "Important Message - from Site Admin", $message,
    "From: \"Mysite Admin\" <auto-reply@mysite.com>\r\n" .
     "X-Mailer: PHP/" . phpversion()); 
} 
```

上面的代码一次性将所有电子邮件一起发送给表中的 1000 个用户。我希望在发送每封电子邮件之间应该有 30 到 60 秒的延迟

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:31:54.707

看看： http: [//php.net/manual/en/function.sleep.php](http://php.net/manual/en/function.sleep.php)。php sleep 函数将脚本执行延迟 x 秒。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-07-10T20:14:53.660

您是否将睡眠功能放在循环中？

可能是这样，即使您是，mail() 请求也只是堆积起来，直到脚本完成运行。但这是另一个问题：您的脚本运行时间将是 500 到 1000 分钟 - 比您的服务器可能允许的最大值更长。

但是，使用 cron 功能，您可以让它每分钟唤醒一次并发送一封电子邮件并终止。

# qt - Qt creator 不能包含 opencv 头文件

> ID：14683818
> 
> 赞同：2
> 
> 时间：2013-02-04T09:30:36.087
> 
> 标签：qt, opencv

我已经为 Windows 下载了 qt-5.0.0。

[http://releases.qt-project.org/qt5/5.0.1/qt-windows-opensource-5.0.1-msvc2010_32-x86-offline.exe](http://releases.qt-project.org/qt5/5.0.1/qt-windows-opensource-5.0.1-msvc2010_32-x86-offline.exe)

我在 .pro 文件中添加了 INCLUDEPATH += C:\opencv\build\include 。

Opencv 2.4.3 已经安装。

当我在 qtcreator 中包含头文件时：

```
#include <opencv2/opencv.hpp> 
```

有编译错误：找不到opencv2/opencv.hpp

有任何想法吗 ？？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T05:42:55.840

我找到了解决方案。在 Qt Creator 中，转到左侧窗格中的 Projects ( ctrl+5)，然后转到 Build Environment -> Use System Environment，单击 Details。编辑 LIB 变量。在这里添加。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-04T15:06:03.947

检查事项：

*   真的`C:\opencv\build\include\opencv2\opencv.hpp`存在吗？
*   编译命令（您可以在 Qt Creator“编译输出”窗口中检查）是否在`-IC:\opencv\build\include`编译命令中显示参数？
*   qmake 应该在修改 .pro 文件后自动运行，但为了以防万一（例如从 Build 菜单）手动重新运行它，如第一个答案所建议的那样
*   这不应该对这样的问题产生任何影响，但以防万一：如果您使用“shadow build”（这是一个好主意），请确保源目录中没有任何生成的文件

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T15:11:16.067

正确的头文件是：

```
<opencv2/core/core.hpp>
<opencv2/imgproc/imgproc.hpp>
<opencv2/highgui/highgui.hpp> 
```

… 等等。不推荐使用“opencv.h”的包含！它也不再适用于 QtCreator 自动完成。

解决方案是更新您的源以使用正确的头文件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-08-24T19:20:29.120

对文件进行任何更改后`.pro`，请右键单击`project folder`并单击运行`qmake`。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-11-11T15:30:35.873

好吧，我今晚刚遇到这个问题。幸运的是，经过一段时间后，找到了解决方案。如果您的项目是由 qmake 管理的，并且使用了 Qcreator，则只需转到`Build->Run qmake`，然后构建并运行您的项目。提示，每当您更改`*.pro`文件时，请记住重新运行`Build->Run qmake`，因为这将重新配置您的项目。如果这对你有帮助，请给我一个大拇指：）

# c++ - 使用元编程计算非默认模板参数？

> ID：14683823
> 
> 赞同：4
> 
> 时间：2013-02-04T09:30:48.413
> 
> 标签：c++, templates, metaprogramming, c++03

我有一个接受 1 到 8 个整数参数的模板类。每个参数的允许范围是 0..15。每个参数的默认值 16 允许我检测未使用的参数。

我想将用户提供的参数的数量作为编译时常量。我可以使用模板助手类和许多部分专业化来做到这一点。

我的问题是，我可以使用一些递归元编程来清理它吗？我有什么作品，但感觉它可以在语法上得到改进。

可悲的是，我无法使用可变参数模板和其他任何 c++0x。

```
#include <stdint.h>
#include <iostream>

template<uint8_t p0,uint8_t p1,uint8_t p2,uint8_t p3,uint8_t p4,uint8_t p5,uint8_t p6,uint8_t p7>
struct Counter { enum { COUNT=8 }; };

template<uint8_t p0,uint8_t p1,uint8_t p2,uint8_t p3,uint8_t p4,uint8_t p5,uint8_t p6>
struct Counter<p0,p1,p2,p3,p4,p5,p6,16> { enum { COUNT=7 }; };

template<uint8_t p0,uint8_t p1,uint8_t p2,uint8_t p3,uint8_t p4,uint8_t p5>
struct Counter<p0,p1,p2,p3,p4,p5,16,16> { enum { COUNT=6 }; };

template<uint8_t p0,uint8_t p1,uint8_t p2,uint8_t p3,uint8_t p4>
struct Counter<p0,p1,p2,p3,p4,16,16,16> { enum { COUNT=5 }; };

template<uint8_t p0,uint8_t p1,uint8_t p2,uint8_t p3>
struct Counter<p0,p1,p2,p3,16,16,16,16> { enum { COUNT=4 }; };

template<uint8_t p0,uint8_t p1,uint8_t p2>
struct Counter<p0,p1,p2,16,16,16,16,16> { enum { COUNT=3 }; };

template<uint8_t p0,uint8_t p1>
struct Counter<p0,p1,16,16,16,16,16,16> { enum { COUNT=2 }; };

template<uint8_t p0>
struct Counter<p0,16,16,16,16,16,16,16> { enum { COUNT=1 }; };

template<uint8_t p0,uint8_t p1=16,uint8_t p2=16,uint8_t p3=16,
         uint8_t p4=16,uint8_t p5=16,uint8_t p6=16,uint8_t p7=16>
struct MyClass {

  void printArgCount() {
    std::cout << Counter<p0,p1,p2,p3,p4,p5,p6,p7>::COUNT << std::endl;
  }
};

main() {
  MyClass<4,7,8,12,15,1> foo;

  foo.printArgCount();
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-04T09:44:40.310

为什么不只检查`16`出现的第一个？

```
template <uint8_t p0, ...>
struct Counter {
    enum { COUNT = (p1 == 16 ? 1 : 
                    p2 == 16 ? 2 :
                    p3 == 16 ? 3 :
                    p4 == 16 ? 4 :
                    p5 == 16 ? 5 :
                    p6 == 16 ? 6 :
                    p7 == 16 ? 7 :
                               8
                   ) };
}; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-04T09:46:17.033

您可以这样做，但它仍然不如其他一些使用 c++11 提供的其他解决方案那么漂亮/好：

```
template< uint8_t p0 = 16,uint8_t p1 = 16,uint8_t p2 = 16,uint8_t p3 = 16,uint8_t p4 = 16,uint8_t p5 = 16,uint8_t p6 = 16,uint8_t p7 = 16>
struct Counter 
{ 
    enum { COUNT= int(p0!=16) + int(p1!=16) + int(p2!=16) + int(p3!=16) + int(p4!=16) + int(p5!=16) + int(p6!=16) + int(p7!=16) }; 

    int count() const
    { return  COUNT; }
}; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:42:32.133

您可以递归地设置计数器，如下所示：

```
template<typename>
struct Counter;

template<>
struct Counter<> { static const int COUNT = 0;};

template<typename T, typename... Args>
struct count<T, Args...> //partial specialization
{ static const int value = 1 + count<Args...>::COUNT;}; 
```

# python - Python脚本打印但没有终端

> ID：14683824
> 
> 赞同：-1
> 
> 时间：2013-02-04T09:30:50.367
> 
> 标签：python, shell, unix, background-process

我有一个包含`print`命令的旧 python 脚本。有时我需要在没有关联终端的情况下在后台运行此脚本（我认为）。有时脚本会崩溃。这可能是原因吗？解决方案是什么？

我描述得很糟糕。这是发生的事情：
我从终端窗口运行带有 & 的脚本。它工作正常。然后我关上窗户。它崩溃了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T09:45:58.530

该脚本不会崩溃，但会被关闭终端终止。

您需要使用以下`nohup`命令启动脚本：

```
$ nohup ./myscript.py & 
```

更好（如果您想将输出捕获到标准输出）：

```
$ nohup ./myscript.py > myscript.log & 
```

# c# - 如何连接命令提示符和 Visual Studio 2008？

> ID：14683825
> 
> 赞同：-2
> 
> 时间：2013-02-04T09:30:51.143
> 
> 标签：c#, visual-studio-2008, user-interface, cmd

我是 C# 新手，我正在为 iperf(windows) 创建一个 UI。

由于我无法获得windows版本的源代码，我不得不尝试不同的方法。

我的目标是创建一个 UI，它将命令重定向到命令提示符并获取输出并将其显示回 Visual Studio。

我如何实现这一目标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:32:37.117

建议你去[`Process`](http://msdn.microsoft.com/en-gb/library/system.diagnostics.process.aspx)上课。它将允许您启动一个新进程并重定向输出和错误流。

编辑：

再次阅读后，不清楚为什么要重定向回 Visual Studio。我最初阅读这篇文章是因为您想编写一个 UI 来发送命令并使用 Visual Studio 显示输出，而不是实际显示在 Visual Studio 中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T09:33:35.913

```
Process p = new Process();
p.StartInfo.UseShellExecute = false;
p.StartInfo.RedirectStandardOutput = true;
p.StartInfo.FileName = "your command here";
p.Start();
p.WaitForExit();
string output = p.StandardOutput.ReadToEnd();
p.WaitForExit(); 
```

现在`output`字符串变量保存命令执行的结果。

更多细节[在这里](http://msdn.microsoft.com/en-us/library/system.diagnostics.process.standardoutput.aspx)

# c - 如果我“丢失”了最后一个剩余的指针，我可以访问动态分配的内存吗？

> ID：14683830
> 
> 赞同：-1
> 
> 时间：2013-02-04T09:31:01.983
> 
> 标签：c, memory-leaks, malloc

代码如下：

```
char *p=malloc(200);
p=NULL; 
```

现在我已经 NULLed 了`p`，有什么方法可以再次使用这 200 字节的内存吗？如果没有，我至少可以释放他们吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T09:33:45.260

在调用`p=NULL;` 使用之前`free(p);`

但是在释放内存之前，如果您将指针分配给NULL，它将丢失...

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-04T09:33:18.627

不，你不能把它捐给无人先生，当你这样做的时候，

```
p = NULL; 
```

既然没有人先生是自私的，他不会回报你给他的任何东西。只有当您的程序结束并且您的应用程序运行的进程退出时，他才会将其返回给您的操作系统。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-04T09:39:55.467

您总是需要一个指针来保存内存位置，否则您无法取回它。

```
char *p=malloc(200);
char *p2 = p;
p = NULL;
free(p2); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-04T09:32:49.120

就目前而言，没有办法恢复记忆。您可以防止丢失它，但无法找回它。唯一的选择是退出程序。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-04T09:34:21.327

这只有在您使用垃圾收集器时才有可能，例如[Boehm-Demers-Weiser 收集器](http://www.hpl.hp.com/personal/Hans_Boehm/gc/)。如果不能使用垃圾收集器，则无法回收内存。

当然，如果你`free(p)`在设置之前调用，内存会被回收`p = NULL`，但你已经知道了。

`exec()`此外，如果您或进程退出，操作系统将自动回收内存。

# html - 使用 IP 地址保护远程访问

> ID：14683832
> 
> 赞同：0
> 
> 时间：2013-02-04T09:31:14.397
> 
> 标签：html, security, web, ip, remote-access

我想阻止人们在我家和我父亲家之外访问我的网站。检查连接的 IP 并授予访问权限是个好主意还是很容易被破坏？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T11:02:25.620

正如乔恩·埃格顿（Jon Egerton）已经说过的，只有当您和您父亲家中的 IP 是静态的时，您的方法才有效。

我想到了另外两种检查允许连接的方法。

要求输入用户名和密码的[登录页面。](http://www.phpeasystep.com/phptu/6.html)该示例假设您可以使用 php。

[仅允许安装了证书](http://www.garex.net/apache/)的客户端。该示例假设您正在使用并且您可以更改 Apache 网络服务器的配置。

# c++ - 如何使用 C++ 获取机器 ID

> ID：14683834
> 
> 赞同：0
> 
> 时间：2013-02-04T09:31:28.117
> 
> 标签：c++, winapi

我面临两个问题一个大问题和一个小问题:) 问题＃1：我无法从下面的路径读取机器ID ...我得到我的处理器名称，如intel i7 @2.2ghz，我不知道为什么，我应该得到机器ID，长整数字符串，但我不明白，所以请帮忙

```
 reg_path="SOFTWARE\\Microsoft\\Cryptography";    
  rvalue="MachineGuid";  // data value 
```

我的注册表阅读功能

```
 string read_reg_sz(char rpath[],char rdata[])    // read registery Loaction
{
    REGSAM flag = KEY_WOW64_32KEY or KEY_WOW64_64KEY; 
    char buffer[MAX];   
    char Buffer[MAX];
    DWORD BufSize = _MAX_PATH;
    char dwMHz[MAX];
    DWORD dataType = REG_SZ;       
    HKEY hKey;
    long lError = RegOpenKeyEx(HKEY_LOCAL_MACHINE,rpath,NULL, KEY_READ | KEY_WRITE | flag,&hKey);
    if(lError != ERROR_SUCCESS)
      {// if the key is not found, tell the user why:
           FormatMessage(FORMAT_MESSAGE_FROM_SYSTEM,
                         NULL,
                         lError,
                         0,
                         Buffer,
                         _MAX_PATH,
                         0);
            cout<<"\n reg erro : "<<Buffer;
           return "N/A";
       }
        // query the key:
        RegQueryValueEx(hKey,rdata,NULL,&dataType,(LPBYTE) &dwMHz,&BufSize);
    RegCloseKey(hKey);  // close open handle ....
    cout<<"\n reg data read: "<<dwMHz;
return dwMHz;
} 
```

第二个问题：目前我有可以完全清理回收站的功能:)

```
SHEmptyRecycleBin(NULL, NULL, SHERB_NOCONFIRMATION | SHERB_NOPROGRESSUI | SHERB_NOSOUND); 
```

但我想从回收站中删除单个文件，比如传递文件名

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T10:06:47.860

你真的应该把它作为两个不同的问题发布，但我会尽量回答这两个问题。

# 1\. 获取 MachineGuid

我认为您的问题出在这一行：

```
 // query the key:
    RegQueryValueEx(hKey,rdata,NULL,&dataType,(LPBYTE) &dwMHz,&BufSize); 
```

您应该将其更改为：

```
 // query the key:
    RegQueryValueEx(hKey,rvalue,NULL,&dataType,(LPBYTE) &dwMHz,&BufSize); 
```

顺便说一句，dhMHz 听起来不像是正确的变量名称 - 更改它以反映现实。

另外，你应该有这个：

```
 DWORD BufSize = sizeof(Buffer) - 1; 
```

而且，最好不要同时拥有`buffer`和`Buffer`变量。

# 2.从回收站删除一个文件

根据关于 SHFileOperation 的 Microsoft[文档](http://msdn.microsoft.com/en-us/library/bb762164%28v=vs.85%29.aspx)，您应该只[`DeleteFile`](http://msdn.microsoft.com/en-us/library/aa363915%28v=vs.85%29.aspx)在文件名上使用，例如`C:\$Recycle.Bin\file.txt`：

*   当用于删除文件时，SHFileOperation 将永久删除文件，除非您在 lpFileOp 指向的 SHFILEOPSTRUCT 结构的 fFlags 成员中设置 FOF_ALLOWUNDO 标志。设置该标志会将文件发送到回收站。**如果您想简单地删除文件并保证它没有放入回收站，请使用 DeleteFile**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T11:21:16.147

要从回收站中删除单个文件，使用`SHGetSpecialFolderLocation(CSIDL_BITBUCKET)`或`SHGetKnownFolderIDList(FOLDERID_RecycleBinFolder)`获取回收站的绝对PIDL，然后使用`SHBindToObject()`获取`IShellFolder`它的接口并调用其`ParseDisplayName()`方法将所需文件名转换为相对PIDL，然后使用`SHBindToObject()`获取`IContextMenu`接口文件并调用其`InvokeCommand()`方法来执行文件的“删除”动词。

# tidesdk - 无法使用 python 文件包含运行

> ID：14683835
> 
> 赞同：3
> 
> 时间：2013-02-04T09:31:36.027
> 
> 标签：tidesdk

```
<!DOCTYPE html>
<html>
<head>
  <title>Hello World</title>
  <style type="text/css">
    body {background: #fff;}
  </style>
</head>
<body>
  <h1>Hello World</h1>
    <script type="text/python" src="test.py"/>
      <script type="text/javascript"> 
        window.onload=function(){
            alert("python: " + hello());
        }
    </script>
</body>
</html> 
```

测试.py

```
#!/usr/bin/env python

def hello():
    return "hello" 
```

在 TideSDK 开发中说：[Error] An error occurred while paring Python on page:invalid syntax ,('',2,1,'\r\n')

但这有效！为什么？

```
 <script type="text/python">
    def hello():
        return "hello"
    </script>
      <script type="text/javascript"> 
        window.onload=function(){
            alert("python: " + hello());
        }
    </script> 
```

我是 TideSDK 新手，我的电脑是 WIN7 x86 和 python2.7.3，安装了 TideSDK 1.3.1-beta，我不知道这个问题，请帮助。

我尝试更改 test.py 编码，但无济于事

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T21:05:20.867

我有同样的问题。不幸的是，我还没有找到最好的解决办法。然而，在每个 html 文件中实现源代码对我来说完全不可能。

错误是抱怨行尾。我想像我一样在 Windows 中工作，所以行尾如下：`\r\n`. TideSDK 为外部 python 文件编写了某种解析器，但出于任何原因完全忽略了 windows 行尾（并保持了 unix 风格的行尾）。出现`\r\n`奇怪的无法解析的语法并停止读取文件的其余部分。在他们修复这个故障之前，我只能看到一个选项。将所有外部 python 文件的行尾从 更改`\r\n`为`\n`.

如果它支持新行替换，您可以使用您最喜欢的 IDE 来执行此操作。或者，如果它不支持更改换行符，则可以使用 python 文件替换所有换行符，如下所示：

```
fn = 'main.py'
with file(fn, 'rb') as f:
    data = f.read()
with file(fn, 'wb') as f:
    f.write(data.replace('\r\n', '\n')) 
```

但是，如果您选择第二条路线，则每次保存文件时都将被迫运行此脚本。

如果我找到更好的答案，我会告诉你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T03:10:55.753

我们正在解决这个问题。我们计划与 1.3.2-beta 一起发布的较新的 php 应该可以解决这个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-17T17:32:07.670

我的问题是在 def action() 之前有空行：

我有一个首先出现的导入，但它似乎不喜欢 def 之前的空行

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-05T11:05:10.740

尝试删除 #! python 文件中的行，无论如何它对 TideSDK 并没有真正的用处。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-11-09T02:24:52.570

我在 Windows 上使用 eclipse 时遇到了这个问题。看来 TideSDK python 解释器需要 Unix 样式的行分隔符（即告诉计算机将文本放在新行上的不可打印字符）

Windows 使用两个字符“\r\n”（回车和换行），而 unix 仅使用换行符。因此，如果您在 Widows 上使用文本编辑器，很可能每次您点击“enter”或“return”时它都会插入“\r\n”。

如果您使用 Eclipse 作为文本编辑器，则修复方法是

```
File -> Convert Line Delimiters To 
```

并选择 Unix。

要使文本编辑器对所有新文件执行此操作，请在

```
Window -> Preferences -> General -> Workspace -> New text file line delimiter. 
```

希望这可以帮助

# c# - 从 com 端口 c# 接收某些串行数据

> ID：14683839
> 
> 赞同：0
> 
> 时间：2013-02-04T09:31:44.030
> 
> 标签：c#, serial-port, led

我们需要更改 7-9 年前带来的 LED 面板上的文字。因此，长话短说，我们需要一个应用程序。该面板具有串行连接。所有东西都焊接在一个精装盒子里。面板工作正常，但我们需要更改显示的文本。

现在的问题是，面板显示通过内部温度计测量的温度以及常规文本。我想接收显示的文本和温度，在我的应用程序中更改它然后发回。

显然，我可以在打开串行连接后发送数据`serialPort1.Write(...`并以类似的方式读取，但我不认为面板是用来发送任何数据的。我不知道盒子里有什么，但我相信它是最简单的设备。如果我切开盒子会有帮助吗？是否有我可以阅读的资源来学习如何通过串行连接阅读和更改面板上显示的文本。

**编辑**：我想面板有某种存储空间，因为文本显示没有计算机连接，即使在拔掉电源后也是如此。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:42:43.413

显示的文本可能是从微控制器的板载内存中读取的，您无法通过串行更改它，它由控制器运行的代码控制。

# c# - C# 中枚举的 Tryparse 和 IsDefined

> ID：14683840
> 
> 赞同：4
> 
> 时间：2013-02-04T09:31:51.197
> 
> 标签：c#, .net, enums

我所要做的就是：

找出字符串是否是有效的 Enum 元素，如果是，则返回状态。

例如，如果我有一个枚举，说 Enum_Test 依次由 red、blue、green 作为其值。

现在，如果蓝色是要验证的元素，我使用类似的东西

```
Enum_Test evalue;
if(Enum.TryParse(string_Verify, true, out evalue))  
{
        return true;
} 
```

否则我有另一个选择，

```
if( Enum.IsDefined(typeof(Enum_Test), string_Verify))
{
        return true;
} 
```

以上方法有什么优势和坑？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-04T09:36:43.017

**第一种方法**的优点：不区分大小写：如果你得到`blue`，并且有一个枚举成员`Blue`，一切都会好起来的。

**第二种方法的优点**：它是自记录的：你真的不想*解析*，你想检查是否有一个用给定名称*定义的枚举值。*因此，在第二种情况下，方法的名称更符合您的意图。

也就是说，如果您想要这两个优点，请使用第一种方法并将其封装到一个命名良好的方法中（例如`IsEnumDefinedIgnoreCase`）。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2015-07-27T07:18:57.183

另外，请注意，如果您向 TryParse 方法传递一个包含数字的字符串，例如“123”，则该方法将返回 true。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-04T09:35:47.040

在第一种情况下，如果您的解析成功，那么您将获得枚举值`evalue`。您还传递`true`了忽略大小写参数，因此比较将忽略字符串的大小写。你现在拥有它的方式，它将`true`成功返回并丢弃`evalue`.

在第二个代码中，您只检查枚举是否已定义。

# c - 如何将 ZZ 转换为二进制？

> ID：14683842
> 
> 赞同：2
> 
> 时间：2013-02-04T09:32:08.943
> 
> 标签：c, ntl

我正在使用 NTL 库来实现我的代码，我必须将 ZZ 数字转换为二进制，然后从中获取一个子字符串并将该子字符串转换为十进制。我怎样才能做到这一点？

```
ZZ N;
unsigned char pp[200];
BytesFromZZ(pp,N,NumBits(N)); 
```

上面的代码给了我这个错误：“分段错误（核心转储）”

编辑：上面的代码现在正在工作，但它没有给出八进制字符串，而是返回垃圾值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-26T07:36:23.167

您应该使用 NumBytes，结果是一个反转的字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-09-28T14:52:15.663

`pp`保存字节表示的数组`N`必须分配大小等于`NumBytes(N)`。否则，如果 的长度`pp`小于，则会出现 SegFault `NumBytes(N)`。此外，可能是由于 Intel CPU 的 Little-Endianess，以相反的顺序`pp`表示`N`为字节串。

```
ZZ N;
// assigning whatever value to N
unsigned char* pp = new unsigned char[NumBytes(N)];
BytesFromZZ(pp, N, NumBytes(N)); // pp = byte-representation of N
delete[] pp; 
```

# kineticjs - 图像动力学JS上的文本

> ID：14683845
> 
> 赞同：1
> 
> 时间：2013-02-04T09:32:12.763
> 
> 标签：kineticjs

我有一个问题，如果可以在图像上放置文字。

这是一个简单的例子，它应该是这样的，但没有出现文本。

```
 var canvas = document.getElementById('myCanvas');
  var context = canvas.getContext('2d');
  var x =  0;
  var y = 0;
  var width = 500;
  var height = 500;
  var imageObj = new Image();

  imageObj.onload = function() {
    context.drawImage(imageObj, x, y, width, height);
  };
  imageObj.src = 'http://blaaah';

  context.fillStyle = 'white';

  context.fillText('Hello World!', 150, 100); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T15:12:34.607

请参阅我上面的评论，将您的代码更改为：

正如 bighostkim 所说，它只是需要更改的顺序。

```
 var canvas = document.getElementById('myCanvas');
 var context = canvas.getContext('2d');
 var x =  0;
 var y = 0;
 var width = 500;
 var height = 500;
 var imageObj = new Image();

 imageObj.onload = function() {
      context.drawImage(imageObj, x, y, width, height);

      context.fillStyle = 'white';

        context.fillText('Hello World!', 150, 100);
 };
 imageObj.src = 'http://blaaah'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T15:10:32.650

发生这种情况是因为您的图像是在您的文本写在画布上之后绘制的。这是顺序。

1.  你用回调 onload 定义图像
2.  你写“Hello World”
3.  图像已加载，您在画布上绘制图像

如您所见，您的图像覆盖了文本，这就是您看不到它的原因。

这是工作示例[http://jsfiddle.net/7DU4e/][1]

# android - 如何从 Android 中的 BitmapDrawable 或位图图像中删除白色背景颜色？

> ID：14683846
> 
> 赞同：1
> 
> 时间：2013-02-04T09:32:28.433
> 
> 标签：android, masking, imagefilter

我想像在这个示例图像中一样删除位图中的白色背景颜色。

**这是我的第一次尝试**：

```
BitmapDrawable drawableImg = getImage();
drawableImg.setColorFilter(new PorterDuffColorFilter(Color.WHITE,
PorterDuff.Mode.DST_OUT)); 
```

**第二次尝试**：

通过设置fromBgColor和toBgColor来删除白色范围，但是当我用android透明色替换颜色时，图像变成黑色，代码如下：

```
public static Bitmap getBitmapWithTransparentBG(Bitmap srcBitmap, 
       int fromBgColor, int toBgColor) {
    Bitmap result = srcBitmap.copy(Bitmap.Config.ARGB_8888, true);
    int nWidth = result.getWidth();
    int nHeight = result.getHeight();
    for (int y = 0; y < nHeight; ++y)
        for (int x = 0; x < nWidth; ++x) {
            int nPixelColor = result.getPixel(x, y);
            if (nPixelColor >= fromBgColor && nPixelColor <= toBgColor)
                result.setPixel(x, y, Color.TRANSPARENT);
        }
    return result;
} 
```

**提示**我提示位图不支持透明位，我应该使用 PNG 或 Gif 代替位图，对吗？

**提示 2**事实证明，自 API 级别 1 以来，Android 中的位图使用 Bitmap.Config 枚举来显示透明度。在 Android 的文档中查看此[链接](https://developer.android.com/reference/android/graphics/Bitmap.Config)。

![在此处输入图像描述](../Images/074e541546fabe7b1f0943710348da07.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-07T12:33:39.583

你的形象下面是什么？也许这可能是一个布局问题。您是否尝试过在 xml 中设置 android:background="@android:color/transparent" ？我看到您尝试了 [Android中描述的getBitmapWithTransparentBG：使背景图像中的特定（绿色）颜色透明](https://stackoverflow.com/questions/5155999/android-make-specific-green-color-in-background-image-transparent) 但是您是否也尝试过这个？ [如何在 Android 中更改 Drawable 的颜色？](https://stackoverflow.com/questions/1309629/how-to-change-colors-of-a-drawable-in-android) 关于图像是 jpg 或 png，在加载并将其设置为 imageview（从中获取位图）之后，我已经设法使用两者，并且它允许使用上面引用的 getBitmapWithTransparentBG 函数设置透明度。

# javascript - 在动态创建的元素的 z 索引更改上调试断点

> ID：14683849
> 
> 赞同：1
> 
> 时间：2013-02-04T09:32:35.150
> 
> 标签：javascript, css, debugging, z-index, yui

我正在使用一个创建对话框的 JS 库，但它的核心代码非常庞大和复杂。创建的对话框有一个 CSS 属性`z-index: 2`，而我希望它们使用更大的数字。问题是这个 CSS 在 JS 库运行时直接设置在对话框的 DIV 包装器上（因此由于规则优先，我不能用外部 CSS 文件覆盖它们）。

我想知道 Chrome 开发人员工具或 Firebug 中是否有一种方法可以为给定的动态创建元素的属性更改时设置断点，`z-index`因为我知道它会被分配什么？基本上，断点应该在设置 z-index 之前，所以我可以知道上面示例中数字 2 的来源。`id=""``class=""`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T23:49:24.210

在 Firebug HTML 选项卡中，右键单击一个元素并选择“Break on attribute change”

# visualvm - VisualVM 报告

> ID：14683852
> 
> 赞同：2
> 
> 时间：2013-02-04T09:32:38.880
> 
> 标签：visualvm, jvisualvm

我正在为基于 Web 的应用程序在 JMeter 上执行负载测试，我必须获取 CPU 利用率、内存利用率、线程数。为此，我正在使用 VisualVM。有什么方法可以让我们以 XLS 或 CSV 或我们可以提供给客户的任何其他格式的形式获得报告。

你能帮我解决这个问题吗？或者有没有其他性能工具可以让我们获得 CPU、内存利用率？

——谢谢，Raghu.ch，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-05T13:53:24.730

您可以将[Tracer 插件](https://dzone.com/articles/visualvm-13)与各种探针一起使用。Tracer 可以以 CSV、HTML 或 XML 格式导出数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-07-10T20:23:56.270

使用 Java VisualVM 1.8，您可以从快照生成多种格式中的任何一种，包括 CSV。

[![保存快照输出](../Images/edd2765104976f40676fdc8ea5d1b525.png)](https://i.stack.imgur.com/HY4ay.png)

您的 CSV 文件将如下所示：

```
"Class Name - Live Objects";"Live Bytes [%]";"Live Bytes";"Live Objects"
"char[]";"24.76%";"237499352";"1472791"
"byte[]";"12.27%";"117657848";"80945"
... 
```

对于您提到的具体数据，您似乎需要下载 Tomas Hurka 提到的一个或多个 Tracer 插件。您可以通过工具 -> 插件从 Java VisualVM GUI 执行此操作。

[![下载 Tracer 插件](../Images/e4ad07ad3917dcfbb9055e3efcaefc23.png)](https://i.stack.imgur.com/mpS3u.png)

重新启动工具后，您可以保存为各种格式。

[![保存示踪剂输出](../Images/fe9cb6064381c98d972c11fbc747bef2.png)](https://i.stack.imgur.com/fcNwT.png)

# php - 在搜索框中获取结果

> ID：14683856
> 
> 赞同：0
> 
> 时间：2013-02-04T09:32:55.087
> 
> 标签：php

我在我正在工作的系统上创建了一个搜索工具栏，但它不执行我正在搜索的内容，即使在我的数据库表中找到我搜索的关键字，它也总是不返回任何结果。请帮我分析我的代码，我提前错过或错误的地方。这是我的代码。搜索.php

```
 <form method="post" action="search.php">
     <p><input type="text" name="keywords"><input type="submit" value="Search"></p>
       </form>
       <?php
       include 'connect/func.inc.php';
       if(isset($_POST['keywords'])){
       $suffix = '';
    //trim is for ignoring spaces on the input type text
    $keywords = mysql_real_escape_string(htmlentities(trim($_POST['keywords'])));

    $errors = array();
    if(empty($keywords)){
        $errors[]='Please enter a search keyword';
        }
        else if (strlen($keywords)<0) { 
        //strlen is for the no. of char
        $errors[]='Please three or more characters';
        }else if (search_results($keywords) === false){
        $errors[]='Your search for '.$keywords.' returned no results';
        } 

        if (empty($errors)) {
        //search
        $results = search_results($keywords);
        $results_num = count($results);
        $suffix = ($results_num !=1) ? 's': '';
        echo '<p>Your search for<strong>'. $keywords.'</strong> returned <strong>'. $results_num .'</strong>result',$suffix, '</p>';
        foreach($results as $result) {
        echo '<p><strong>', $result['studId'], '</strong><br>', $result['fname'],  $result['mname'], $result['lname'],'</p>';

        }
            //print_r(search_results($keywords));
        } else {
            foreach($errors as $error) {
            echo $error, '</br>';
                                        }
        }
    }

   ?> 
```

函数.inc.php

```
<?php
include 'db.inc.php';
function search_results($keywords) {
    $returned_results = array();
    $where = "";

    $keywords = preg_split('/[\s]+/', $keywords);
    //preg_split select evry word and ignore many spaces
    $total_keywords = count($keywords);
    foreach($keywords as $key=>$keyword){

        $where .= "`keywords` LIKE '%$keyword%'";   
            if($key != ($total_keywords -1)) {
                $where .= " AND ";
            }
    }
    //echo $where;
        $results = "SELECT `studId`, LEFT(`fname`, 20) as `fname`, LEFT(`lname`, 20) as `lname`, LEFT(`mname`, 20) as `mname` FROM tbl_student WHERE $where";
    //echo $results;

    $results_num = ($results = mysql_query($results)) ? mysql_num_rows($results) : 0;
    if($results_num === 0) {
        return false;
    } else {
    //get info into database
        while ($results_row = mysql_fetch_assoc($results)) { 
            $returned_results[] = array(
            'studId'=> $results_row['studId'], 
            'fname'=> $results_row['fname'], 
            'mname'=> $results_row['mname'], 
            'lname'=> $results_row['lname']);
            }
                return $returned_results;
        }
    }

?> 
```

我的桌子是这样的。tbl_student

```
 studId    fname   mname   lname
  c-1111    peter   jan      yu
  c-1112    jane    trish    li 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T10:12:22.530

从外观上看，您正在引用一个不存在的列。在您的数据库结构中，有一个名为“关键字”的列？我没看到。

从您在原始问题下的评论看来您应该改变

```
$where .= "`keywords` LIKE '%$keyword%'"; 
```

至

```
$where .= "`studId` LIKE '%$keyword%'"; 
```

# java - 如何使用 AsyncHttpClient 启动和停止 Stream

> ID：14683858
> 
> 赞同：1
> 
> 时间：2013-02-04T09:33:08.100
> 
> 标签：java, api, apache-httpclient-4.x

我已经为 twitter 实现了一个 Steaming API。我得到了完美的溪流。但是，我的程序永远不会结束。我尝试了很多组合，但不知道为什么。我在 java 中起诉 Apache AsyncHttpClient。我的目标是启动流，例如 10 秒，获取流，然后优雅地关闭流并退出应用程序（我希望当我的 Main 方法自然结束时会发生这种情况）。这是下面的代码：

```
 ```
public static void main(String[] args) throws Exception
{
    TwitterStreamingHttpClient client = new TwitterStreamingHttpClient();
    Executor ex = Executors.newSingleThreadExecutor();
    ex.execute(client);

    Thread.sleep(5000);
    client.ceaseStream();

    LOG.debug("Keeps running");     
} 
``` 
和这个：

```
 public class TwitterStreamingHttpClient extends DefaultHttpAsyncClient implements Runnable
{
    private final static Logger LOG = LoggerFactory.getLogger(TwitterStreamingHttpClient.class);
    /**
     * @throws IOReactorException
     */
    public TwitterStreamingHttpClient() throws IOReactorException
    {
        super();
        // TODO: parametrize it, load from config file, spring config file?
        this.getCredentialsProvider().setCredentials(new AuthScope("stream.twitter.com", 80),
                new UsernamePasswordCredentials("username", "password"));
        this.start();
    }
    public void initiateStream() throws UnsupportedEncodingException, InterruptedException, ExecutionException
    {

        String requestContent = new String();

        requestContent = "track=NothingFeelsBetterThan";
        Future future = this.execute(HttpAsyncMethods.createPost(
                "[https://stream.twitter.com/1.1/statuses/filter.json](https://stream.twitter.com/1.1/statuses/filter.json)", requestContent,
                ContentType.APPLICATION_FORM_URLENCODED), new TwitConsumer(), null);
        Boolean result = future.get();
        if(result==null)
        {
            LOG.error("Requested to close stream!");
            return;
        }
    }
    public void ceaseStream()
    {
        try
        {
            this.shutdown();
            LOG.info("Shutting down the stream");
        }
        catch (InterruptedException e)
        {
            LOG.debug("InterruptedException {}", e);
        }
    }

```
/*
 * (non-Javadoc)
 * 
 * @see java.lang.Runnable#run()
 */
public void run()
{
    Thread.currentThread().setName("initiateSTream Thread");
    try
    {
        initiateStream();
        Thread.currentThread().interrupt();
    }
    catch (UnsupportedEncodingException e)
    {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    catch (InterruptedException e)
    {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    catch (ExecutionException e)
    {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
} 
``` 我尝试在任何地方添加退货，尽管它可能会有所帮助。但没有运气。有人可以帮我弄这个吗？

**编辑1：**当我使用调试模式时，我可以看到“initiateSTream Thread”线程。主线程消失时仍在运行！

**编辑2（解决方案）：**在主要方法中，我替换了：

```
 Executor ex = Executors.newSingleThreadExecutor();
        ex.execute(client); 
```

和：

```
 Thread thread = new Thread(client);
thread.start(); 
```

现在我的节目在指定的流媒体时间后结束。但为什么？这两种方法有什么区别？！

```

```

# php - 在codeigniter中使用反斜杠创建锚标记href

> ID：14683861
> 
> 赞同：0
> 
> 时间：2013-02-04T09:33:16.823
> 
> 标签：php, codeigniter, url

我想`RXKJ/00000004/2013`在 codeigniter 中传递我的 url。我已经做好了

```
'<a href="'.base_url().'policy/manage/policy/riskDetails/'.urlencode('RXKJ/00000004/2013').'">RXKJ/00000004/2013</a>' 
```

但不工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:41:09.957

您可以使用 base64_encode 对任何变量进行编码，并使用 base64_decode 进行解码............

```
$encoded = base64_encode($variable]);

$decoded = base64_decode($encoded); 
```

您可以找到有关[Base64_encode 的更多信息](http://php.net/manual/en/function.base64-encode.php)

# java - Mongo DB查询：查找存储在mongo中的地图是否包含特定值

> ID：14683866
> 
> 赞同：1
> 
> 时间：2013-02-04T09:33:32.213
> 
> 标签：java, mongodb

我有一个 mongo 集合如下：

```
 {
    "id": "510aec8e8426e96c156a0946",  
    "name": "ABC",
    "categoryToShardMap": null
    },
    {
    "id": "510aecd284268e0f60e547a5",
    "name": "XYZ",
    "categoryToShardMap": {
    "shoes": 1
    },
    {
    "id": "510aecbd84268e0f60e547a4",
    "name": "AAA",
    "categoryToShardMap": {
     "shoes": 3,
     "jeans": 2
     } 
```

我将字段“categoryToShardMap”声明为：

```
 private HashMap<String, Long> categoryToShardMap; 
```

我正在尝试创建一个 REST Api，如果有人提供了 shardId，他应该取回包含它的 mongo 文档。例如：如果我通过 shardId = 3，我应该收到 mongo 文档：

```
 {
    "id": "510aecbd84268e0f60e547a4",
    "name": "AAA",
    "categoryToShardMap": {
    "shoes": 3,
    "jeans": 2
    } 
```

我正在尝试使用java来做到这一点。但我不确定我应该如何使用 mongotemplate 或 DBObject 来查询它。有人可以向我指出一些有关如何查询存储在 mongo 文档中的地图是否包含指定值的示例吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T10:07:31.200

您可以通过操作员执行此`$ne`操作。只需检查该字段是否不为空。

这是一个如何使用 javadriver 实现此目的的示例。

```
new BasicDBObject("categoryToShardMap", new BasicDBObject("$ne", null)); 
```

或者您可以使用 $where 运算符来检查数组的长度。这在以下帖子中进行了解释：

> [查询数组大小大于 1 的文档](https://stackoverflow.com/questions/7811163/in-mongo-db-how-do-i-find-documents-where-array-size-is-greater-than-1)

如果要在地图中查找特定值，可以使用以下命令：

```
DBObject query = BasicDBObjectBuilder.start().add("categoryToShardMap.shoes", 3).get(); // query for getting the documents whose "categoryToShardMap" field contains shoes with value 3 
```

# gnu - Autotools：最终的 make 命令顺序错误

> ID：14683869
> 
> 赞同：0
> 
> 时间：2013-02-04T09:33:44.497
> 
> 标签：gnu, autotools

我使用 GNU Autotools 来构建/配置我的迷你应用程序。

这是我的configure.ac：

```
AC_INIT([Tutorial Program], [1.0])
AM_INIT_AUTOMAKE
AC_PROG_CXX

AC_SUBST([GENERAL_INCD], ["-I../Src"])
AC_SUBST([GENERAL_LIBD], ["-L../../Lib"])

AC_SUBST([SOLCPP_LIBS], ["-lsolcpp -lcfsqp"])

AC_SUBST([FFTWPP_INCD], ["-I../fftw++-1.09"]) 
AC_SUBST([FFTWPP_LIBS], ["../fftw++-1.09/fftw++.o"]) 

PKG_CHECK_MODULES([GSL], [gsl])
PKG_CHECK_MODULES([FFTW3], [fftw3])

AC_CONFIG_FILES([Makefile])
AC_OUTPUT 
```

这是我的 Makefile.am：

```
bin_PROGRAMS = test1        
test1_SOURCES = test1.cpp
test1_CPPFLAGS = $(GENERAL_INCD) $(FFTWPP_INCD) $(GSL_CFLAGS) $(FFTW3_CFLAGS)
test1_LDFLAGS=  $(GENERAL_LIBD) $(FFTWPP_LIBS) $(SOLCPP_LIBS) $(GSL_LIBS) $(FFTW3_LIBS) 
```

问题是当我运行 ./configure 然后 make 时，它​​会尝试执行以下操作：

```
g++  -g -O2 -L../../Lib ../fftw++-1.09/fftw++.o -lsolcpp -lcfsqp -lgsl -lgslcblas -lm   -lfftw3 -lm    -o test1 test1-test1.o  
test1-test1.o 
```

尽管正确的预期命令是以下命令：

```
g++ -O2 test1-test1.o -o test1 -L../../Lib -lsolcpp -lcfsqp ../fftw++-1.09/fftw++.o -lgsl -lgslcblas -lm   -lfftw3 -lm 
```

如何更改 configure.ac 和 Makefile.am ？

非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T11:38:44.657

看来你只是`../fftw++-1.09/fftw++.o`想来，`-lsolcpp -lcfsqp`在这种情况下你只需要在`FFTWPP_LIBS`之后列出`SOLCPP_LIBS`：

```
test1_LDFLAGS = $(GENERAL_LIBD) $(SOLCPP_LIBS) $(FFTWPP_LIBS) $(GSL_LIBS) $(FFTW3_LIBS) 
```

# apache - 如何使用 apache svn 服务器禁用匿名结帐

> ID：14683871
> 
> 赞同：1
> 
> 时间：2013-02-04T09:33:44.837
> 
> 标签：apache, svn

我用 apache 构建了一个 SVN 服务器。它工作正常。

我不想匿名结帐，所以我设置 httpd 喜欢

```
<location /svn>
    DAV svn
    SVNListParentPath Off
    SVNParentPath C:/SVN/
    Satisfy All
    AuthType Basic
    AuthName "Subversion Dir"
    AuthUserFile "C:\Program Files (x86)\Subversion\svn-auth-conf.txt"
    AuthzSVNAccessFile "C:\Program Files (x86)\Subversion\svn-acl-conf.txt"
    Require valid-user
</location> 
```

但我仍然可以通过命令行结帐，例如

```
svn co http://repos test 
```

没有任何用户名和密码

我该怎么做才能解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:57:09.377

1.  您可能已存储此 URL 的凭据
2.  删除-在带有示例的 SVN Book 中`Satisfy`阅读[“一揽子访问控制”](http://svnbook.red-bean.com/en/1.7/svn.serverconfig.httpd.html#svn.serverconfig.httpd.authz.blanket)

    `AuthName ...` `AuthType ...` `AuthUserFile ...` `Require valid-user`

# android - osmdroid入门，mapview只显示网格

> ID：14683872
> 
> 赞同：2
> 
> 时间：2013-02-04T09:33:50.067
> 
> 标签：android, maps, osmdroid, openstreetmap

我打算在我的 android 应用程序中使用 OSM，我决定试试 osmdroid。这是我到目前为止所做的。

1：我下载了 slf4j-android-1.5.8.jar 和 osmdroid-android-3.0.8.jar 并将它们复制到我的 libs 文件夹中，并将它们添加到构建路径中。

2：我的 XML 布局文件代码如下所示。

```
<org.osmdroid.views.MapView
        android:id="@+id/mapview"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        /> 
```

3：我已将所有权限添加到清单中

```
<uses-permission android:name="android.permission.INTERNET"/>
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/> 
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

4：我的 on create 方法看起来像这样

```
protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.mapify);
        mapView = (MapView) findViewById(R.id.mapview);
        mapView.setTileSource(TileSourceFactory.MAPNIK);
        mapView.setBuiltInZoomControls(true);
        mapView.setClickable(true);
        mapController = mapView.getController();
        mapController.setZoom(15);
    } 
```

我的问题是，尽管代码运行良好，但我在模拟器上运行时看不到地图。我已连接到互联网，并且能够在使用谷歌地图视图时查看地图。我浏览了互联网以及stackoverflow中关于同一问题的一些问题。他们中的大多数似乎忘记添加权限或添加 slf4j 来构建路径。我都做过，所以我对自己做错了什么感到茫然。如果您提供一些见解，将不胜感激。

解决了：

我不知道是什么原因，但我重新启动几次后地图会显示。之后，一切似乎都正常。当我尝试新的虚拟设备时，再次发生这种情况。当我关闭并重新启动应用程序几次时，它开始正常工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-14T12:54:04.957

这是一个老问题，但万一有人需要答案。如果模拟器没有外部存储来缓存地图切片，则可能会导致这种情况。我用 SD 卡创建了一个模拟器，解决了 [打开街道地图（osmdroid）显示灰色瓷砖没有在 PC 中映射的问题](https://stackoverflow.com/questions/24655064/open-street-maps-osmdroid-shows-grey-tiles-not-map-in-pc)

# java - 处理 NumberFormatException 的正确方法

> ID：14683881
> 
> 赞同：-1
> 
> 时间：2013-02-04T09:34:22.540
> 
> 标签：java, android, exception, numberformatexception

> **可能重复：**
> [如何处理数字格式异常](https://stackoverflow.com/questions/14683164/how-to-handle-number-format-exception)

我想以 $22,000,420 之类的格式输入数字，一切都很好，但是当我擦除数字时，它显示数字格式异常。

我的xml文件如下：-

```
<EditText
        android:id="@+id/editAmountFinanced"
        style="@style/EditTextInputFinance"
        android:layout_below="@+id/txtCreateNewAccount"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="8dp"
        android:ems="10"
        android:hint="AMOUNT FINANCED"
         android:digits="0123456789.,$"
        android:padding="10dp" /> 
```

我的android java代码如下：-

```
 editAmountFinanced = (EditText)findViewById(R.id.editAmountFinanced);

 editAmountFinanced.addTextChangedListener(new TextWatcher() {

        boolean isEdiging;
        @Override
        public void onTextChanged(CharSequence s, int start, int before,  int count) {
            // TODO Auto-generated method stub

        }

        @Override
        public void beforeTextChanged(CharSequence s, int start, int count,
                int after) {
            // TODO Auto-generated method stub

        }

        @Override
        public void afterTextChanged(Editable s) {
            // TODO Auto-generated method stub
            if(isEdiging) return;
            isEdiging = true;

            String str = s.toString().replaceAll( "[^\\d]", "" );
            double s1 = Double.parseDouble(str);

            NumberFormat nf2 = NumberFormat.getInstance(Locale.ENGLISH);
            ((DecimalFormat)nf2).applyPattern("$ ###,###.###");
            try {

                s.replace(0, s.length(), nf2.format(s1));

                isEdiging = false;
            } catch(NumberFormatException e) {

            }

        }
    }); 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:41:05.617

请在发布问题之前搜索类似的问题，看看这里：[类似的问题](https://stackoverflow.com/questions/5499523/how-to-avoid-number-format-exception-in-java)

在您的情况下，只需将尝试放在双 s1 = 之上，就像这样

```
 double s1 = 0.0;
      try {
           s1 = Double.parseDouble(str);
     } catch(NumberFormatException e) {}
        NumberFormat nf2 = NumberFormat.getInstance(Locale.ENGLISH);
        ((DecimalFormat)nf2).applyPattern("$ ###,###.###");
         s.replace(0, s.length(), nf2.format(s1));

         isEdiging = false; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:41:07.370

我想你会从下面的问答中得到答案

[NumberFormatException - Android](https://stackoverflow.com/questions/6011668/numberformatexception-android)

[lang.NumberFormatException 在 android](https://stackoverflow.com/questions/6206897/lang-numberformatexception-in-android)

# jquery - 如何将所有选项设置为从多个选择框中选择

> ID：14683884
> 
> 赞同：4
> 
> 时间：2013-02-04T09:34:44.263
> 
> 标签：jquery

我有一个 jsp 表单，其中向用户显示了多个选择框，他们可以从中选择多个选项：

```
<td rowspan="4" colspan="1">Team Leaders<br />
    <form:select id="teamLeader" multiple="multiple" size="10" path="teamLeader"/>
</td>
<td rowspan="4" colspan="1">HODs<br />
    <form:select id="teamHod" multiple="multiple" size="10" path="teamHod"/>
</td>
<td rowspan="4" colspan="1">Directors<br />
    <form:select id="teamDir" multiple="multiple" size="10" path="teamDir"/>
</td>
<td rowspan="4" colspan="1">Members<br />
    <form:select id="teamPersons" multiple="multiple" size="10" path="teamPersons"/>
</td> 
```

当用户单击保存时，我希望将所有选择框中的所有选项设置为选中。我可以通过对每个选择框使用一点 jQuery 方法来实现这一点，如下所示：

```
jQuery(document).ready(function () {
    jQuery('#saveButton').click(function () {
        jQuery('#teamPersons').each(function () {
            jQuery('#teamPersons option').attr("selected", "selected");
        });
    });
}); 
```

但是问题是我必须为 4 个选择框中的每一个编写一个方法。有没有更简单的方法来做到这一点，即编写一个 jQuery 方法来将所有选项设置为选中？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-04T09:59:23.703

单击时选择每个项目的最简单方法如下：

`$("select[multiple] option").prop("selected", "selected");`

小提琴示例：http: [//jsfiddle.net/vYzUS/](http://jsfiddle.net/vYzUS/)

在小提琴中，我省略了按钮单击并将 HTML 转换为虚拟 HTML。我还（任意）添加了多个属性，以防您有任何其他*不想*被选中的`select`列表。将您确实要选择的那些包裹在 a 中可能*更*可取，因为它会使选择器有更好的焦点。**`div``id`**

 **我还使用了 -`.prop()`代替`.attr()`-`.prop()`是在 jQuery **1.7**中引入的，专门用于检索/设置属性值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:40:02.950

您不需要为每个选择框编写函数，只需以下代码：

```
jQuery(document).ready(function() {
    jQuery('#saveButton').click(function() {
        jQuery('select.myClass option').attr("selected","selected");
    });
}); 
```

带类的 HTML

```
<td rowspan="4" colspan="1">Team Leaders<br />
    <form:select id="teamLeader" class="myClass" multiple="multiple" size="10" path="teamLeader"/>
</td>
<td rowspan="4" colspan="1">HODs<br />
    <form:select id="teamHod" class="myClass" multiple="multiple" size="10" path="teamHod"/>
</td>
<td rowspan="4" colspan="1">Directors<br />
    <form:select id="teamDir" class="myClass" multiple="multiple" size="10" path="teamDir"/>
</td>
<td rowspan="4" colspan="1">Members<br />
    <form:select id="teamPersons" class="myClass" multiple="multiple" size="10" path="teamPersons"/>
</td> 
```

所以只有选择 myClass 类的框才会被点击。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:40:32.697

这会成功的。因为 jQuery 将通过选择器隐式使用循环。如果您想使其明确为循环，请使用您的方法（IMO 不是必需的）。

你可以这样做。

```
$("#teamPersons option").attr("selected", "selected"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-31T18:18:52.480

您可以通过以下方式全部选择它们：

```
$("select option").prop("selected", "selected"); 
```

或者

```
$("select option").attr("selected", "selected"); 
```

您可以通过以下方式删除所有选定的选项：

```
 $("select option").prop("selected", false); 
```

或者

```
$("select option").attr("selected", false); 
```

或者

```
$("select option").attr("selected", ""); 
```**

# mysql - VB.NET & MYSQL - 选择不同的字段

> ID：14683896
> 
> 赞同：1
> 
> 时间：2013-02-04T09:35:47.930
> 
> 标签：mysql, vb.net

我目前正在研究投票系统项目。我有一个名为“dbName”的mysql数据库和字段

```
`for table "pospresident"
---------------|-------------|---------------- \n
  idCandidate  |  NumOfVote  |  CandidateName  \n
---------------|-------------|---------------- \n
    1          |    20       |      Joe
    2          |    30       |      Carlo
---------------+-------------+----------------

for table "posvpres"

---------------|-------------|----------------
  idCandidate  |  NumOfVote  |  CandidateName 
---------------|-------------|----------------
    1          |    15       |      Anne
    2          |    35       |      Lucas
---------------+-------------+----------------

and so on ...

` 
```

我只想在不同的表格中显示获得最高票数的候选人的所有姓名。我只需要一个关于我的 SELECT 查询应该如何的想法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:38:35.467

用于`UNION ALL`从两个表中获取数据，然后使用`GROUP BY`with`SUM`和`HAVING`仅获取有`MAX`投票权的候选人。像这样的东西：

```
SELECT
  idCandidate,
  CandidateName,
  SUM(NumOfVote) Votes
FROM
(
    SELECT * 
    FROM  pospresident p
    UNION ALL
    SELECT * 
    FROM posvpres v 
) AS t
GROUP BY idCandidate, CandidateName
HAVING SUM(NumOfVote) = (SELECT MAX(NumOfVote) 
                         FROM
                         (
                             SELECT  NumOfVote FROM posvpres
                             UNION ALL
                             SELECT  NumOfVote FROM pospresident 
                         ) t); 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!2/b3c82/3)

这会给你：

```
| IDCANDIDATE | CANDIDATENAME | VOTES |
---------------------------------------
|           2 |         Lucas |    35 | 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:45:05.677

如果我对您的理解正确，您想分别从每个表中进行选择。尝试这样的事情：

```
SELECT idCandidate, 
   CandidateName 
FROM pospresident 
WHERE NumOfVote = (SELECT MAX(NumOfVote) FROM pospresident) 
```

并使用 Mahmoud 提供的小提琴：[http ://www.sqlfiddle.com/#!2/b3c82/4](http://www.sqlfiddle.com/#!2/b3c82/4)

祝你好运。

# java - 使用泛型作为方法参数

> ID：14683897
> 
> 赞同：1
> 
> 时间：2013-02-04T09:35:50.100
> 
> 标签：java, generics

使用泛型类型时遇到问题。IDE 显示以下错误：

```
Cannot select from a type variable 
```

我认为这里有类型擦除的问题，但我认为这里存在一些解决方法......

我的代码：

```
class MyFactory {
  public Object getByClass(Class<?> clazz) {
     ..... 
  }
}

class<T> MyClass {
  private Object myObj = MyFactory.getByClass(T.class);  // HERE ERROR, `Cannot select from a type variable` 
  ...
} 
```

如何解决这个问题呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T09:38:43.983

将对象传递给`Class`构造函数。

```
private final Class<T> clazz;
private Object myObj
public MyClass(Class<T> clazz, MyFactory myFactory) {
    this.clazz = clazz;
    this.myObj = myFactory.getByClass(clazz);
} 
```

# c# - 为什么控件的可见性属性不会立即更新？

> ID：14683901
> 
> 赞同：2
> 
> 时间：2013-02-04T09:35:57.597
> 
> 标签：c#, xaml, controls

我对 UIElement.Visibility 属性有疑问。

单击“StartAll”按钮时，将执行以下代码：

```
private void butStartAllClick(object sender, RoutedEventArgs e)
    {
        butStartAll.Content = "Running";

        LEDInitializing.Visibility = Visibility.Visible;
        lblInitializing.Visibility = Visibility.Visible;

        Init();

        //...rest of code
    } 
```

Init 然后启动一个冗长的初始化例程。我的问题是可见性属性仅在***Init()***方法**结束**时被修改。

 *如何让它立即更新？

我试过像这样使用 Dispatcher：

```
 LEDInitializing.Dispatcher.BeginInvoke(
                System.Windows.Threading.DispatcherPriority.Normal,
                                   new Action(
                                       delegate()
                                       {
                                           LEDInitializing.Visibility = Visibility.Visible;
                                       }
                                       )); 
```

但这并不能解决我的问题。

任何帮助将不胜感激:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T17:40:29.720

通过`Init`在 UI 线程上运行，您可以防止您所做的任何 UI 更改在它完成并`butStartAllClick`退出之前运行。根据您的内容，`Init`您可能只能在单独的线程上运行它（此处为 4.5，`TaskFactory`在 4.0 中使用）：

```
private void butStartAllClick(object sender, RoutedEventArgs e)
{
    butStartAll.Content = "Running";

    LEDInitializing.Visibility = Visibility.Visible;
    lblInitializing.Visibility = Visibility.Visible;

    Task.Run(() =>
    {
        Init();
        //...rest of code
    });
} 
```

如果`Init`或以下代码正在执行任何需要与 UI 交互的操作，那么您需要将其分解并使用 UI 回调来根据需要进行这些更新。4.5 中的`async/await`模式通常是最简单的方法，但您可以在 4.0 中通过手动设置`Task`延续获得相同的效果。*

# c++ - 初始化字符指针

> ID：14683904
> 
> 赞同：-1
> 
> 时间：2013-02-04T09:36:07.483
> 
> 标签：c++, function, pointers, char

我有一个功能

```
ValArgument(char* ptr){
   char str[] = "hello world";
   ptr = &str[0];
} 
```

在这个函数中，我想初始化一个 char 数组并将其添加到 char 指针 ptr 中。我这样调用函数：

```
char* ptr= NULL;
ValArgument(ptr); 
```

返回的指针仍然具有 NULL 值。为什么？我预计指针将指向 char 数组 str[]。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T10:49:15.860

> 返回的指针仍然具有 NULL 值。为什么？

因为您按值传递了指针。这意味着该函数被赋予一个单独的指针副本，并且它对指针所做的任何更改都不会影响调用者的副本。

您可以通过引用传递：

```
void ValArgument(char *& ptr)
//                     ^ 
```

或返回一个值：

```
char * ValArgument(); 
```

> 我预计指针将指向 char 数组 str[]。

不; 一旦你解决了这个问题，它将指向函数返回时被破坏的局部变量的不死外壳。任何使用指针的尝试都会导致未定义的行为。

根据您需要对字符串执行的操作，您可能需要：

*   指向字符串文字的指针，`char const * str = "hello world";`. 请注意，这应该是`const`，因为不能修改字符串文字。
*   指向静态数组的指针，`static char str[] = "hello world";`. 这意味着每个人只共享一个字符串，所以任何修改都会影响到每个人。
*   指向动态分配数组的指针。不要去那里。
*   一个字符串对象，`std::string str = "hello world";`. 这是最不容易出错的，因为它可以像简单值一样传递。

# javascript - 更新表格单元格

> ID：14683905
> 
> 赞同：0
> 
> 时间：2013-02-04T09:36:13.680
> 
> 标签：javascript, jquery, html, ruby-on-rails, json

这是我的 html 表单：

```
<form name="input" action="html_form_action.asp" method="get">
   <input type="checkbox" id="mycheckbox">Don't show me again<br>
   <input type="submit" id="Submit">
</form> 
```

我有一个表，叫做：“mytable”。此表包含：名称（字符串）、框（布尔值）。

我尝试做下一件事：当用户选中 的框时`don't show me again`，我想更新表格的框（假设 id=6 的行）。

ps 表格的框初始化为 False。

所以我必须做类似的事情：

```
$("#submit").click(function() {
    if($("#mycheckbox").is(':checked')) {
        //here I have to update the table in the database
    }
}); 
```

我怎样才能做到这一点？

我找到了 php 的例子，但我不想用 php 来做。

更新：

**根据你的回答，我想用 Ruby-on-rails 来做。**

**我找到了这个：**

```
update_sql = "update mytable set box = TRUE where id = 6"
affected_rows = Job.connection.update(update_sql) 
```

任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:59:53.003

您需要创建一个接受 ajax 请求但首先将 js 更新为此的控制器。

```
# js
$("#submit").click(function() {
  $.ajax({
    url: '/my_tables/' + <id of resource to update>,
    type: 'PUT',
    data: { my_table: { box: $("#mycheckbox").is(':checked') } }
  });
}); 
```

创建一个名为`MyTablesController`

```
# my_tables_controller.rb
class MyTablesController < ActionController::Base
  def update
    @my_table = MyTable.find params[:id]
    @my_table.update_attributes params[:my_table]
    # do something else here like a redirect ...
  end
end 
```

这就是它的要点。如果你不能让它工作，你可能需要从更基础的教程开始。祝你好运！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T09:41:59.173

不幸的是，您需要某种服务器脚本（如 php）与 mySQL 进行通信 :(

[从 JQuery 本地查询 mySQL，无需 PHP 等](https://stackoverflow.com/questions/5102023/query-mysql-natively-from-jquery-without-the-need-for-php-etc)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-04T09:40:32.833

```
$("#submit").click(function() {
    if($("#mycheckbox").is(':checked')) {
        $.ajax({
             url: 'post.php',
             cache: false,
             success: function() {
                  alert("done");
             }
        });
    }
}); 
```

您可以使用`$.ajax`更新数据库中的表。只需创建`post.php`文件并在其中设置一个更新表的查询。

此外，PHP 使用 mysqli 连接到最新版本的数据库。`mysql_`功能已弃用。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-04T09:44:50.603

您可以在服务器上使用您喜欢的任何语言（[甚至是 JavaScript](https://npmjs.org/package/mysql)），但您需要服务器端代码来处理 HTTP 请求（您可以使用[XMLHttpRequest](https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest)从 JavaScript 发出）并与数据库交互。

（注意：“您喜欢的任何语言”受安装的内容或您可以在服务器（或您移动到的服务器）上安装的内容的限制。）

# data-structures - 动态数组 - 删除元素时是否释放内存？

> ID：14683906
> 
> 赞同：0
> 
> 时间：2013-02-04T09:36:21.690
> 
> 标签：data-structures

按照维基百科[动态数组中的文章](http://en.wikipedia.org/wiki/Dynamic_array)

当最后一个空的内存单元被填满时，它会自动以几何级数分配内存，然后将整个数据复制到新数组中。当移除数量大于增加数量的元素时会发生什么？它也会自动释放内存吗？还是让它保持原样？例如在上述维基百科链接右上角的图片中，

![在此处输入图像描述](../Images/902a24451e745ff89e69b0702a4098ed.png)

在最后一步之后 2|7|1|3|8|4| 1 删除了除 2 之外的所有元素。然后会发生什么？它是否分配较小的内存并将全部内容复制到新的内存中？附带问题：如何或什么决定分配给动态数组的初始内存量是多少？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-05T10:47:50.917

您引用的文章回答了您的问题：

“如果其大小低于某个阈值，许多动态数组也会释放一些底层存储，[...]”

真的很值得一读；-)

对于预先知道需要特定大小的情况，一些实现提供了特定方法（“reserve()”，在 C++ 标准库中）。

# php - 您将如何拆分 PHP 项目并继续维护两者？

> ID：14683908
> 
> 赞同：1
> 
> 时间：2013-02-04T09:36:27.270
> 
> 标签：php, git

我有一个 PHP 网站 (A)，我需要将其分成两部分（创建 B）。

B 将具有与 A 的大多数共同特征，很少添加，并且 A 中的很多东西对 B 无用，因此被删除。

我想创建 B 但仍然维护它，同时维护 A，可能是自动的。

我们使用 Git。

建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T16:57:30.433

我经常遇到这种情况，我同时使用 2 种模式来修复它。

首先，由于分支“A”在分支“B”中不需要的东西比相反的要少，我建议确保在“A”中，你添加的任何你不想要部分 B 功能的代码，你应该用语句封装，`if`在分支“A”的情况下总是通过，你将它合并到分支“B”中，但是在分支“B”中，你将你在分支“A”中定义的变量设置为相反的值。如果你还没有这样做，现在就去做，在分支“B”中找到你不想要的所有代码，并将它们封装在一个`if`. 不要忘记，如果您添加的某个功能需要您删除分支“B”的先前功能，`else`

从这里开始，您所做的所有对两个分支都通用的更改都应该转到分支“A”，并将其应用于分支“B”，您转到分支“B”并与“A”合并。如果您继续这样做，您将始终保留在分支“A”中所做的更改，分支“A”将永远不会从分支“B”中获取更改（保持分开），如果您按照我在前面所说的段落中，分支 A 的“错误更改”不会对分支“B”产生任何影响，因为这些`if`语句将产生 false 并且分支“A”的代码位不会运行。

第二种模式是，如果您开始为两个分支创建通用功能，但在分支 B 上，因为您不应该这样做，但可能会这样做，因为它在分支 B 上更容易测试，或者因为您只是忘记切换到分支 A在进行更改之前，那也很好。在这种情况下，您在分支“A”上需要的在分支“B”上所做的所有提交也应该从分支“A”中挑选出来。这意味着如果您在分支“B”上提交 commit1、commit2 和 commit3，但您还需要在“A”上提交，然后您签出到分支“B”并执行以下操作：

```
git cherry-pick commit1 commit2 commit3 
```

这样，您在分支“B”上所做的更改也需要在分支“A”上进行，而且您不会搞砸您的模式，以至于在分支“B”上与分支“A”合并不会给你不需要的改变。

# ios - 将 MKMapView 的一部分渲染为图像

> ID：14683909
> 
> 赞同：6
> 
> 时间：2013-02-04T09:36:32.107
> 
> 标签：ios, mkmapview, uipopovercontroller, mapkit

我有兴趣捕获地图的一部分以创建您在弹出窗口顶部看到的图像。我想我会捕获一个 UIImage，你可以从图钉的坐标开始吗？

谢谢

![苹果地图弹出框](../Images/9865a90f26fa535ce382c0922d1e5f79.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-05T06:01:53.973

你可以尝试这样的事情：

```
- (UIImage*) imageFromView:(UIView*)view rect:(CGRect)rect {
    // capture the full view in an image
    UIGraphicsBeginImageContextWithOptions(view.bounds.size, view.opaque, 0.0);

    [view.layer renderInContext:UIGraphicsGetCurrentContext()];
    UIImage* viewImg = UIGraphicsGetImageFromCurrentImageContext();

    UIGraphicsEndImageContext();

    // crop down to just our desired rectangle, accounting for Retina scale 
    CGFloat scale = [[UIScreen mainScreen] scale];
    CGRect scaledRect = CGRectMake(scale * rect.origin.x, scale * rect.origin.y,
                                   scale * rect.size.width, scale * rect.size.height);
    CGImageRef resultImgRef = CGImageCreateWithImageInRect([viewImg CGImage], scaledRect);
    UIImage* result = [UIImage imageWithCGImage: resultImgRef
                                          scale: 1.0f / scale
                                    orientation: UIImageOrientationUp];

    CGImageRelease(resultImgRef);
    return result;
}

- (IBAction)onButtonTapped:(id)sender {
    // just pick the map's center as the location to capture.  could be anything.
    CLLocationCoordinate2D center = self.map.centerCoordinate;
    // convert geo coordinates to screen (view) coordinates
    CGPoint point = [self.map convertCoordinate:center toPointToView: self.map];

    // make this span whatever you want - I use 120x80 points
    float width = 120.0;
    float height = 80.0;
    // here's the frame in which we'll capture the underlying map
    CGRect frame = CGRectMake(point.x - width / 2.0,
                              point.y - height / 2.0,
                              width, height);

    // just show the captured image in a UIImageView overlay 
    //  in the top, left corner, with 1:1 scale
    UIImageView* overlay = [[UIImageView alloc] initWithImage: [self imageFromView: self.map rect: frame]];
    frame.origin = CGPointZero;
    overlay.frame = frame;
    [self.view addSubview: overlay];
} 
```

该`imageFromView:rect:`方法仅在给定视图中捕获给定的矩形区域，并生成一个`UIImage`.

该`onButtonTapped`方法使用第一种方法捕获我的地图*中心*周围的区域，并将捕获的图像显示在屏幕的左上角。当然，您可以用图钉的坐标替换地图**中心**，使区域宽度/高度随心所欲，然后将生成的图像放入弹出视图中。

这只是一个演示。在将地图平移到我想要的位置后，我在示例应用程序中使用了一个按钮来触发捕获。

## 结果

![在此处输入图像描述](../Images/c012b7e1196228215a72c2d109400995.png)

## 限制

我的代码只是以 1:1 的大小比例显示捕获的矩形。当然，如果您愿意，您可以将捕获的内容`UIImage`放入一个可以随意`UIImageView`缩放的文件中。您可以将图像放大。但是，如果这样做，您将失去图像清晰度。此过程仅对`UIView`. 它不能直接处理地图数据，所以当你放大它（以更大的尺寸显示图像）时，图像不会像你实际放大`MKMapView`.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-11-07T23:11:11.023

你`iOS7`可以使用`MKMapSnapshotter`

# liferay - 登录后将用户重定向到他们的网站

> ID：14683912
> 
> 赞同：1
> 
> 时间：2013-02-04T09:36:56.013
> 
> 标签：liferay, liferay-6

我正在使用 liferay 6.1.1CE。

在我的门户中，我有 3 个社区（站点）

我的问题是，如何在登录门户后将用户重定向到适当的站点（即管理员分配的站点）？

如果每个用户都有一个站点，那么很容易通过门户设置重定向。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-23T11:33:08.743

## 你有两个选择：

**1）您可以将 company.default.home.url 属性设置为过滤器。**

过滤器实现您的逻辑以检测正确的页面以发送重定向。

这是一个设置示例：

*company.default.home.url=/landingPageFilter*

2)使用此门户属性实现[此处](https://www.liferay.com/it/community/wiki/-/wiki/Main/Customizing+the+default+page+after+login)所述的**Liferay 默认登录页面**

*login.events.post*

# javascript - JS 引号字符被剥离

> ID：14683913
> 
> 赞同：2
> 
> 时间：2013-02-04T09:37:03.757
> 
> 标签：javascript, jquery, media-queries, quotation-marks

我正在尝试使用 JS 提取媒体查询内容 css 属性。但是引号似乎被剥离了。请参阅以下内容：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

<script type="text/javascript">

    $(window).load(function() { 

        for(var i = 0; i < document.styleSheets.length; i++){

            for(var j = 0; j < document.styleSheets[i].cssRules.length; j++){

                for(var k = 0; k < document.styleSheets[i].cssRules[j].cssRules.length; k++){

                    var css_text = document.styleSheets[i].cssRules[j].cssRules[k].cssText;

                    console.log('css_text');
                    console.log(css_text);

                }

            }

        }

   });

</script>
<style type="text/css">

    @media screen and (max-width: 960px) {

        body:after{
            content: "hello";   
        }

    }

</style>
</head>
<body style="margin: 0px;">

   some stuff here...

</body>
</html> 
```

以上返回：

```
css_text
body::after { content: hello; } 
```

我希望的回报：

```
css_text
body::after { content: "hello"; } 
```

我正在使用谷歌 Chrome 浏览器。

有什么办法可以保留最初包围你好的引号？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:52:53.067

您需要转义引号。以下链接是一种方法。 [http://magp.ie/2011/01/20/addslashes-and-stripslashes-in-javascript/](http://magp.ie/2011/01/20/addslashes-and-stripslashes-in-javascript/)

所以你会改为写
`console.log(addslashes(css_text))`;

让我知道它是否有效:)

# java - 为 Java EE 6 中的调度程序授予安全权限

> ID：14683914
> 
> 赞同：2
> 
> 时间：2013-02-04T09:37:04.033
> 
> 标签：java, security, jakarta-ee, web-applications, jboss

我正在 Java EE 6 中构建一个 Web 应用程序，该应用程序部署到 JBoss AS 7.1

我在 bean 级别（使用`@RolesAllowed({ "useradmin", "usernormal" })`注释）和前端级别（保护 web.xml 中的 xthtm 页面）使用安全性。

身份验证在 JBoss 中完成，使用其用户管理或 LDAP（只是standalone.xml 中的配置更改）。

整个安全框架运行良好，甚至可以说是太好了……

## 问题

我还有一个使用 Java EE 的调度程序`TimerService`。它可以接受不同类型的作业，可以稍后安排（调度程序的原始功能......）。

当调度程序需要运行使用某些业务逻辑 bean 的作业时，我开始遇到问题，这些业务逻辑 bean 使用`@RolesAllowed`注释进行保护。在这种情况下，安全框架会完成它的工作并拒绝访问调度程序。

## 问题

*   有没有办法以编程方式为包含调度程序的 bean 提供安全特权？

*   是否可以为调度程序伪造一个 http 会话？

*   如果是这样，存储登录名/密码的最佳做法是什么？我想在静态变量中硬编码它们会很糟糕......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T09:40:12.433

看起来您正在寻找类似@RunAs 检查本教程，看看它是否对您有帮助：http: [//docs.oracle.com/cd/E19226-01/820-7627/bnbyr/index.html](http://docs.oracle.com/cd/E19226-01/820-7627/bnbyr/index.html)

# jquery - 像microsoft excel一样的jquery数据表行分组

> ID：14683921
> 
> 赞同：0
> 
> 时间：2013-02-04T09:37:35.653
> 
> 标签：jquery, datatable, row, grouping

我想知道我们是否可以 使用**jquery datatable构建**[这样](https://dl.dropbox.com/u/7020481/image/Codecall%27s%20javascript%20tree%20and%20table%20view%20tutorial%20-%20Google%20Chrome.jpg)的表？！如果可以的话，怎么做？！

 **谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:53:21.023

不，除非您准备好编写自己的自定义插件，否则不可能使用 jquery 数据表进行这种布局。

编辑：

我找到了这样一个自定义插件，但它对行做了你想对列做的事情，也许你可以修改它：[http ://datatables.net/plug-ins/api#fnFakeRowspan](http://datatables.net/plug-ins/api#fnFakeRowspan)**

# asp.net - 运行程序时不显示 GridView

> ID：14683926
> 
> 赞同：1
> 
> 时间：2013-02-04T09:37:56.683
> 
> 标签：asp.net

我有一个与我正在使用 GridView 的任务相关的问题。当我运行我的程序时，GridView 不工作，我无法弄清楚为什么会发生这种情况。我已经配置了我的数据库，那里一切都很好。我真的很感激这方面的一些帮助。

这是我的源代码：

```
<%@ Page Language="C#" MasterPageFile="~/MasterPage.master" AutoEventWireup="true" CodeFile="ProductMaintenance.aspx.cs" Inherits="ProductMaintenance" Title="Untitled Page" %>

<asp:Content ID="Content1" ContentPlaceHolderID="head" Runat="Server">
    <style type="text/css">
        .style2
        {
            width: 125px;
        }
        .style3
        {
            width: 182px;
        }
    </style>
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" Runat="Server">
    <p>
        <h3 style="font-size: larger">Product Maintenance</h3><br />
        <asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False" 
            EnableSortingAndPagingCallbacks="True" Width="664px" 
                        onrowdeleted="GridView1_RowDeleted" onrowupdated="GridView1_RowUpdated">
        </asp:GridView>
        <br />
        <asp:SqlDataSource ID="SqlDataSource1" runat="server" 
            ConnectionString="<%$ ConnectionStrings:TechSupport_DataConnectionString %>" 
            DeleteCommand="DELETE FROM Products WHERE (ProductCode = @Original_ProductCode) AND (Name = @Original_Name) AND (Version = @Original_Version) AND (ReleaseDate = @Original_ReleaseDate)" 
            InsertCommand="INSERT INTO Products(ProductCode, Name, Version, ReleaseDate) VALUES (@ProductCode, @Name, @Version, @ReleaseDate)" 
            SelectCommand="SELECT ProductCode, Name, Version, ReleaseDate FROM Products" 
            UpdateCommand="UPDATE Products SET Name = @Name, Version = @Version, ReleaseDate = @ReleaseDate WHERE (Name = @original_Name) AND (Version = @original_Version) AND (ReleaseDate = @original_ReleaseDate) AND (ProductCode = @original_ProductCode)">
            <DeleteParameters>
                <asp:Parameter Name="Original_ProductCode" />
                <asp:Parameter Name="Original_Name" />
                <asp:Parameter Name="Original_Version" />
                <asp:Parameter Name="Original_ReleaseDate" />
            </DeleteParameters>
            <UpdateParameters>
                <asp:Parameter Name="Name" />
                <asp:Parameter Name="Version" />
                <asp:Parameter Name="ReleaseDate" />
                <asp:Parameter Name="original_Name" />
                <asp:Parameter Name="original_Version" />
                <asp:Parameter Name="original_ReleaseDate" />
                <asp:Parameter Name="original_ProductCode" />
            </UpdateParameters>
            <InsertParameters>
                <asp:Parameter Name="ProductCode" />
                <asp:Parameter Name="Name" />
                <asp:Parameter Name="Version" />
                <asp:Parameter Name="ReleaseDate" />
            </InsertParameters>
        </asp:SqlDataSource>
        <br />
        To add a new product, enter the product information and clck Add product.<br />
        <asp:Label ID="lblError" runat="server" ForeColor="Red"></asp:Label>
        <br />
        <table class="style1">
            <tr>
                <td class="style2">
                    Product code:</td>
                <td class="style3">
                    <asp:TextBox ID="txtProductCode" runat="server"></asp:TextBox>
                </td>
                <td>
                    <asp:RequiredFieldValidator ID="RequiredFieldValidator1" runat="server" 
                        ControlToValidate="txtProductCode" 
                        ErrorMessage="Product code is a required field"></asp:RequiredFieldValidator>
                </td>
            </tr>
            <tr>
                <td class="style2">
                    Name:</td>
                <td class="style3">
                    <asp:TextBox ID="txtName" runat="server"></asp:TextBox>
                </td>
                <td>
                    <asp:RequiredFieldValidator ID="RequiredFieldValidator2" runat="server" 
                        ControlToValidate="txtName" ErrorMessage="Name is a required field"></asp:RequiredFieldValidator>
                </td>
            </tr>
            <tr>
                <td class="style2">
                    Version:</td>
                <td class="style3">
                    <asp:TextBox ID="txtVersion" runat="server"></asp:TextBox>
                </td>
                <td>
                    <asp:RequiredFieldValidator ID="RequiredFieldValidator3" runat="server" 
                        ControlToValidate="txtVersion" ErrorMessage="Version is a required field"></asp:RequiredFieldValidator>
                </td>
            </tr>
            <tr>
                <td class="style2">
                    Release date:</td>
                <td class="style3">
                    <asp:TextBox ID="txtReleaseDate" runat="server"></asp:TextBox>
                </td>
                <td>
                    <asp:RequiredFieldValidator ID="RequiredFieldValidator4" runat="server" 
                        ControlToValidate="txtReleaseDate" 
                        ErrorMessage="Release date is a required field"></asp:RequiredFieldValidator>
                </td>
            </tr>
        </table>
        <br />
        <asp:Button ID="btnAdd" runat="server" Text="Add Product" Width="130px" 
        onclick="btnAdd_Click" />
    </p>
</asp:Content> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:55:34.357

你必须给予`GridView1.DataSource = SqlDataSource1;` ，然后 `GridView1.DataBind();`在`Page_Load`事件中

您要么必须将 AutoGenerateColumns 设置为 true，要么将列提供为 Bound - 或要显示的 TemplateFields。

OR`AutoGenerateColumns="True"`将显示数据并生成列。您可能需要自定义显示的内容。为此，请切换到设计视图，然后您可以编辑 gridview 模板。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T14:40:39.827

由于您设置 AutoGenerateColumns = "False"，因此您需要添加类似的列

```
<Columns>
 <asp:BoundField ....
   .
   .
   .
   .
 </Columns> 
```

否则你必须设置 AutoGenerateColumns = "True"

另一件事：您忘记将 DataSourceID 分配给您的 GridView。

您应该在 GridView 标记内具有以下属性：

```
DataSourceID = "SqlDataSource1" 
```

我希望它对你有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-04T09:44:28.233

一开始做`AutoGenerateColumns = true`

然后，

```
protected void Page_Load(object sender, EventArgs e)
{ 
    GridView1.DataBind();
} 
```

# drupal - 使用drupal 7在同一页面上提交后显示搜索结果

> ID：14683929
> 
> 赞同：0
> 
> 时间：2013-02-04T09:38:04.400
> 
> 标签：drupal, drupal-forms, drupal-search

我想要一个带有一个文本字段和一个提交按钮的表单。当我点击提交在文本字段中输入的数据时，它可以是某个节点的 ID，然后它应该返回带有指向同一节点的链接的节点的 ID。并且数据应显示在显示具有保留值的搜索表单的同一页面中。请不要提供任何替代方案，我想在没有意见的情况下实施。如果可能，请提供实施它的程序。我是 Drupal 定制的新手。需要帮忙。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-05T12:06:34.413

您需要为此创建一个简单的自定义模块

1.  创建你的新模块（[http://drupal.org/node/361112](http://drupal.org/node/361112)）
2.  创建页面并添加表单 ( [http://drupal.org/node/1043838](http://drupal.org/node/1043838) )
3.  在表单提交时，通过给定 ID 检查节点是否存在
4.  加载节点并获取节点 url（或别名）（[在 Drupal 7 中获取节点的 URL](https://stackoverflow.com/questions/8626653/getting-the-url-of-a-node-in-drupal-7)）
5.  显示结果（参见[http://api.drupal.org/api/drupal/developer!topics!forms_api_reference.html/7](http://api.drupal.org/api/drupal/developer!topics!forms_api_reference.html/7)中的 default_value ）

# javascript - 如何在 Java 中编写立即函数调用？提供的 JavaScript 示例

> ID：14683931
> 
> 赞同：0
> 
> 时间：2013-02-04T09:38:11.393
> 
> 标签：javascript, lambda, java-8

如何使用 lambda 将以下 JavaScript 示例转换为 Java 8 中的相应代码。我正在尝试获取 Java 8 lambda。
编造的例子。

```
// js
var isFlag = true,
    name = (function () {
        if (isFlag) return "A";
        else return "B";
    })();
console.log(name);

//outputs: A 
```

我曾尝试用 Java 8 编写它，但语法或某些东西是错误的。请参阅下面的代码。

```
// LambdaTest.java
class LambdaTest {
    public LambdaTest() {
        boolean isFlag = true;
        String name = () -> { //I know this is wrong. It is not an IIFE. But how to write one?
            if (isFlag) return "A";
            else return "B";
        };
        System.out.println(name);
    }
    public static void main(String... args) {
        LambdaTest lt = new LambdaTest();
    }
}

// outputs:
// LambdaTest.java:4: error: incompatible types: String is not a functional interface
//        String name = () -> {
//                      ^
// 1 error 
```

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T02:21:01.203

您必须为 lambda 提供“目标类型”才能转换为功能接口的实例。如果您不想声明该特定类型的变量，则强制转换可以解决问题。然后，调用功能接口的方法。在这种情况下，我推荐`Supplier`，它不带参数并返回类型 T。抽象方法`Supplier`is`get()`所以这就是你所说的。

试试这个：

```
import java.util.function.Supplier;

class LambdaTest {
    public LambdaTest() {
        boolean isFlag = true;
        String name = ((Supplier<String>) () -> {
            if (isFlag) return "A";
            else return "B";
        }).get();
        System.out.println(name);
    }
    public static void main(String... args) {
        LambdaTest lt = new LambdaTest();
    }
} 
```

（从 2013 年 1 月中旬开始使用 JDK8 早期访问版本 73 进行测试。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T10:46:33.770

我不是java程序员，但似乎这样的事情可以解决问题：

```
import java.util.concurrent.Callable;
import java.lang.String;

class LambdaTest {
    public LambdaTest() {
        boolean isFlag = true;
        Callable<String> name = () -> {
            if (isFlag) return "A";
            else return "B";
        };  
        try {
            System.out.println(name.call());
        } catch (Exception e) {
            //cause call can throw exception so we need to handle that
        }   
    }   
    public static void main(String... args) {
        LambdaTest lt = new LambdaTest();
    }   
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-05-20T19:04:30.263

```
String name = ((Supplier<String>) () -> isFlag ? "A" : "B").get(); 
```

不过，不确定这是否是高性能的。

# android - Android - 如何从地图视图中获取地图坐标

> ID：14683933
> 
> 赞同：5
> 
> 时间：2013-02-04T09:38:32.867
> 
> 标签：android, latitude-longitude, android-maps-v2

在我的应用程序中，我使用谷歌地图上的标记来显示地点。但是我一次标记了所有我不想做的可用位置。我想通过获取地图坐标来显示只适合屏幕的地方，如下所示：

![在此处输入图像描述](../Images/e36e1f4a6cd6d20a261cab5b150132a2.png)

我只想通过发送地图的坐标从源中获取此范围内可用的地点。我不确定是否应该从屏幕角落捕获所有 4 坐标？

谁能帮我弄清楚这个？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-04T09:45:03.410

您可以使用以下方法获取它们：

```
 yourMapView.getMap().getCameraPosition(); 
```

这将返回一个[CameraPosition](http://developer.android.com/reference/com/google/android/gms/maps/model/CameraPosition.html)对象。摄像机的坐标由 field **target**给出，缩放级别由 field **zoom**给出。现在您应该能够计算屏幕角的近似坐标。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T09:49:39.093

要随时获取地图的 TopLeft 和 BottomRight 坐标，请使用以下命令：

```
public GeoPoint getCurrentTL(MapView map){
    Projection pr = map.getProjection();
    return pr.fromPixels(0, 0);
}

public GeoPoint getCurrentBR(MapView map){
    Projection pr = map.getProjection();
    return pr.fromPixels(map.getWidth(), map.getHeight());
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-06-01T01:38:12.160

所以，这是一个老问题，但这是一个新的问题。

当地图启动（可见）时，您可以要求可见区域：

```
VisibleRegion vRegion = mMap.getProjection().getVisibleRegion();
LatLng upperLeft = vRegion.farLeft
LatLng lowerRight = vRegion.nearRight; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-10-22T01:03:51.980

另一种方式，我们可以使用**[LatLngBounds](https://developers.google.com/android/reference/com/google/android/gms/maps/model/LatLngBounds)**。它返回***2 个点：东北和西南***。

> VisibleRegion vRegion = mMap.getProjection().getVisibleRegion();
> 纬度西南 = vRegion.latLngBounds.southwest;
> 纬度东北= vRegion.latLngBounds.northeast；

[https://developers.google.com/maps/documentation/android-api/views](https://developers.google.com/maps/documentation/android-api/views)

# ios - iOS - CAShapeLayer 抗锯齿？

> ID：14683934
> 
> 赞同：2
> 
> 时间：2013-02-04T09:38:34.313
> 
> 标签：ios, calayer, antialiasing

我有两个相邻的菱形，我希望它们的边缘无缝地结合在一起。

目前，由于抗锯齿，即使边缘尽可能靠近，背景也会渗出。我不想重叠形状。

有没有人有任何提示？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:45:01.043

你应该能够使用这样的东西。

```
yourLayer.magnificationFilter = kCAFilterNearest; 
```

您需要先导入 QC，但您可能已经有了。

**编辑**

magnificationFilter 增加内容大小时使用的过滤器。

@property(copy) NSString *magnificationFilter 讨论 magnificationFilter 的可能值显示在“缩放过滤器”中。默认值为 kCAFilterLinear。

可用性 **适用于 iOS 2.0 及更高版本。** 在 CALayer.h 中声明

# xml - 我需要从 Xsl 生成的 XML 代码中获取文件名：XSL 表单中的值

> ID：14683937
> 
> 赞同：0
> 
> 时间：2013-02-04T09:38:41.323
> 
> 标签：xml, xslt

从中`<xsl:value-of select="$CashFlowAttach" />`将出现包含数据的 XML 代码，我需要从该值中提取文件名 {例如：值可能是`<p xmlns:Utils="cim:Utils"><a href="resources/Attachment/spend plan.123"><image border="0" width="89px" height="47px" src="resources/Content/images/CIMtrek_spend_plan_123.gif"></image></a></p>`} 我需要值是文件名 = 最后花费计划.123。任何条件都可以在 XSL 表单中进行检查

```
<xsl:choose>
 <xsl:when test="string-length($CashFlowAttach)!=0">
  <xsl:if test="not(contains($CashFlowAttach,'&lt;p xmlns:Utils=&quot;cim:Utils&quot;&gt;'))">
   <a>
    <xsl:attribute name="onclick">ajaxcallingForFileDownload('<xsl:value-of        select="$CashFlowAttach" />')  
    </xsl:attribute>
     <xsl:value-of select="$CashFlowAttach" />
   </a>
  </xsl:if>
 </xsl:when>
</xsl:choose> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T10:09:22.447

我建议将此模板添加到您的 XSLT：

```
 <xsl:template name="GetFileName">
    <xsl:param name="path" />
    <xsl:choose>
      <xsl:when test="contains($path, '/')">
        <xsl:call-template name="GetFileName">
          <xsl:with-param name="path"
                          select="substring-after($path, '/')" />
        </xsl:call-template>
      </xsl:when>
      <xsl:otherwise>
        <xsl:value-of select="$path"/>
      </xsl:otherwise>
    </xsl:choose>
  </xsl:template> 
```

此模板可用于获取路径末尾的文件名。然后你会用这样的东西来调用它：

```
<xsl:variable name="fileName">
  <xsl:call-template name="GetFileName">
     <xsl:with-param name="path"
      select="substring-before(substring-after($CashFlowAttach, 'a href=&quot;'), 
                                  '&quot;')" />
  </xsl:call-template>
</xsl:variable> 
```

# jquery - Ajax 将空 Json 对象发布到 mvc 4 控制器

> ID：14683941
> 
> 赞同：4
> 
> 时间：2013-02-04T09:39:05.430
> 
> 标签：jquery, ajax, asp.net-mvc-4

Jquery ajax 发布请求将 null json 对象发布到 mvc 控制器。知道为什么会这样吗？

干杯

这是我的模型

```
public class CommentModel
    {
       public string EmailAddress { get; set; }
       public string Name { get; set; }
       public int ActivityId { get; set; }
       public string CommentText { get; set; }

    } 
```

控制器

```
 [HttpPost]
        public ActionResult Index(CommentModel commentModel)
        {

            int i = commentModel.ActivityId;
            string k = commentModel.CommentText;

          return View();
        } 
```

jQuery

```
$("#CommentForm").submit(function () {

        var formDataAsJson = GetFormDataAsJson();

        $.ajax({
            url: $(this).attr("action"),
            dataType: 'json',
            type: "POST",
            data: JSON.stringify({ commentModel: formDataAsJson }),
            contentType: 'application/json; charset=utf-8',
            success: function (data) {
                $("#commentsection").append(data);
            }
        })
    });

function GetFormDataAsJson() {

    var emailInput = $("#InputEmailAddress").attr("value");
    var name = $("#InputName").attr("value");
    var comment = $("#some-textarea").attr("value");
    var activityid = parseInt($("#ActivityID").attr("value"));

    var formObject = {
        EmailAddress: emailInput,
        Name: name,
        ActivityId: activityid,
        CommentText:comment
    }

    return formObject;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-04T10:08:04.083

如果您使用强类型助手，mvc 将其转换为您的模型。您不需要创建 js 模型。

强类型视图

```
@model CommentModel
@using (Html.BeginForm("Index", "Home", FormMethod.Post, new { id = "form1" }))
{
    @Html.TextBoxFor(x => x.EmailAddress)
    @Html.TextBoxFor(x => x.Name)
    ...
} 
```

脚本

```
$(function () {
    $('form').submit(function () {
        if ($(this).valid()) {
            $.ajax({
                url: this.action,
                type: this.method,
                data: $(this).serialize(),
                beforeSend: function () {

                },
                complete: function () {

                },
                success: function (result) {

                },
                error: function () {

                }
            });
        }
        return false;
    });
}); 
```

控制器

```
[HttpPost]
public ActionResult Index(CommentModel commentModel)
{
    int i = commentModel.ActivityId;
    string k = commentModel.CommentText;

    return View();
} 
```

[相同的问题和另一个建议](https://stackoverflow.com/questions/5980389/proper-way-to-use-ajax-post-in-jquery-to-pass-model-from-strongly-typed-mvc3-vie)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T10:25:01.073

只需添加：

`return false;`

在提交功能结束时。

# xml - 如何用xsd验证xml的布局

> ID：14683944
> 
> 赞同：-1
> 
> 时间：2013-02-04T09:39:23.177
> 
> 标签：xml, xsd

我想将`xml`文件转换为`xsd`. `xsd`可用于验证 XML 文件的布局。所以我想要给定 xml 的 xslt。是否有任何工具可用于从 xml 生成 xslt。提前谢谢大家。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-05T08:56:03.560

我们可以使用此链接[生成 xsd](http://www.freeformatter.com/xsd-generator.html)或 altova s​​py`xml`以生成`xsd`给定的`xml`.We 可以使用此链接[verify layout of xml](http://www.freeformatter.com/xml-validator-xsd.html) 来验证`xml`生成的布局`xsd`.@iltzortz 答案有很大帮助。

# paypal - 贝宝沙箱错误

> ID：14683947
> 
> 赞同：2
> 
> 时间：2013-02-04T09:39:29.553
> 
> 标签：paypal, sandbox

我已经设置了我以前使用过的贝宝沙盒，没有问题，但现在它给我带来了很多问题，我不知道如何缩小问题范围。

我已经通过贝宝沙箱建立了一个企业，我已经设置了一个个人帐户，我已经编写了我的 ipn 以在购买时运行，我可以使用内置在 IPN 测试工具中的贝宝来运行测试，并且成功返回没有问题。

我遇到的问题是我用我的企业帐户和电子邮件以及我的自定义值创建了一个按钮，但是每次我运行代码进行付款时，我都会收到以下错误。

> 处理您的请求时发生错误。在再次提交之前，请登录并检查您的帐户历史记录以确保交易未完成。

任何人都可以建议缩小问题范围的方法，我正在摸不着头脑....

谢谢

# c# - 在 MVC 中创建具有上下文的控制器时如何省略视图的生成？

> ID：14683949
> 
> 赞同：2
> 
> 时间：2013-02-04T09:39:29.637
> 
> 标签：c#, asp.net-mvc, model-view-controller, scaffolding

我创建了一个 TT 文件，它覆盖了`"ControllerWithContext"`用于自定义生成的控制器的默认 TT。

问题是当我创建一个控制器时，它会在控制器旁边创建一组视图。

有没有办法省略视图的创建，因为我只需要模型？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-05T05:36:51.827

在创建控制器之前重命名您的 CodeTemplates => AddView 文件夹。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-23T12:32:33.863

是的，您总是可以省略代码，您需要做的是，当您创建控制器时，您需要选择选项作为空控制器，而不是选择选项作为具有编辑和更新的控制器。我希望这能解决你的问题。它不会生成不必要的视图文件。

# regex - 正则表达式捕获可变格式字符串上的组

> ID：14683951
> 
> 赞同：0
> 
> 时间：2013-02-04T09:39:44.270
> 
> 标签：regex

我有一个由逗号分隔的 3 字段字符串。有时字符串只能由两个字段组成。我正在尝试捕获此字符串中的第一个字段。以下是字符串的一些示例：

```
string: abc,xyz
string: abc,xyz,323 
regex: (.*),(.*),(.*) 
```

注意：假设这些字段都不能有逗号

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:41:10.997

如果您只是想捕获第一个字段，您不能使用`^([^,]*)`吗？

即从字符串的开头，获取尽可能多的非逗号

编辑：考虑到评论，怎么样`^([^,]+),([^,]+)(?:,([^,]+))?$`？

# twitter-bootstrap - 使用淘汰赛自动显示 twitter 引导模式对话框

> ID：14683953
> 
> 赞同：18
> 
> 时间：2013-02-04T09:39:48.657
> 
> 标签：twitter-bootstrap, knockout.js

当我从列表中选择一个项目时，我需要在单页应用程序中显示用于编辑项目的模式对话框。

问题：我使用`visible`了绑定，但结果很麻烦，而且它不能正常工作，因为它只显示对话框，没有覆盖，并且淡入淡出（如果有的话）不起作用。

html:

```
<div class="modal hide fade" data-bind="visible:selectedItem, with:selectedItem">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3 data-bind="text:name"></h3>
  </div>
  <div class="modal-body">
    <form data-bind="submit:deselectItem">
        <!-- editor for item here -->
    </form>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-bind="click:deselectItem">Close</a>
  </div>
</div> 
```

模型是带有 observableList、obervable selectedItem 和将 selectedItem 设置为 null 的 deselectItem 函数的简单对象。

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2013-02-04T09:39:48.657

正如我所知道的，（可能）最好的方法是创建一个 ko 绑定处理程序，我称之为`showModal`：

```
ko.bindingHandlers.showModal = {
    init: function (element, valueAccessor) {},
    update: function (element, valueAccessor) {
        var value = valueAccessor();
        if (ko.utils.unwrapObservable(value)) {
            $(element).modal('show');
            // this is to focus input field inside dialog
            $("input", element).focus();
        }
        else {
            $(element).modal('hide');
        }
    }
}; 
```

用法是这样的：

```
<div class="modal hide fade" data-bind="showModal:selectedItem, with:selectedItem">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3 data-bind="text:name"></h3>
  </div>
  <div class="modal-body">
    <form data-bind="submit:deselectItem">
        <!-- editor for item here -->
    </form>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-bind="click:deselectItem">Close</a>
  </div>
</div> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-03-07T11:16:15.783

我喜欢 Goran 的简单方法。唯一的问题是，html 在 Bootstrap 3+ 中不起作用。
现在默认启用“隐藏”类，并将其作为模态 div 上的类，将导致 div 不显示。请参阅[http://www.bootply.com/bootstrap-3-migration-guide](http://www.bootply.com/bootstrap-3-migration-guide)
**这有效：**

```
<div class="modal fade" data-bind="showModal:selectedItem, with:selectedItem">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                 <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h3 data-bind="text:TextItem"></h3>
            </div>
            <div class="modal-body">
                <form data-bind="submit:$root.accept">
                    <!-- editor for item here -->
                    <div class="form-group">
                        <label>Text</label>
                        <input type="text" class="form-control" data-bind="value: TextItem" placeholder="Text">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn" data-dismiss="modal">Luk</button>
                <button class="btn" data-bind="click:$root.accept">Gem</button>
            </div>
        </div>
    </div>
</div> 
```

在本例中，click:$root.functionName 将调用 ViewModel 中的一个函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-31T16:07:30.947

如果您应用以下模式，它会变得容易得多：

```
<form class="modal hide fade" data-bind="visible:selectedItem, with:selectedItem, submit:deselectItem">
    ...
</form> 
```

这样，您可以将表单返回到您的提交处理程序中，并可以在那里正确关闭它：

```
deselectItem = function(form){
  ...
  $(form).modal('hide');
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-06-30T11:34:08.350

我已将此自定义绑定处理程序用于引导模式。同样在模态中，我添加了两个时刻日期选择器。但是当我使用这个绑定处理程序时，模式在点击事件上可见，但 datepicker div 也可见

如果我不使用它并使用

```
$('.classname_of_bootstrap_modal').modal('show') 
```

模态工作得很好。

所以，我想在使用这个绑定处理程序时存在一些问题并且无法得到它。

我评论了这个

```
$("input", element).focus(); 
```

这样做时，`datepicker`div 不会自动显示。当我单击它们时它们是可见的，但删除它的问题是如果我单击其中一个`datepicker`，它会关闭引导模式。但它不应该关闭它。

# email - 每次使用 Outlook 2010 加载证书时都会发出安全警报

> ID：14683963
> 
> 赞同：2
> 
> 时间：2013-02-04T09:40:29.130
> 
> 标签：email, outlook, certificate, exchange-server, autodiscovery

每次启动 Microsoft Office 2010 时，我都会收到一条安全警报，提示`autodiscover.xxx.xxx`. 我已按照证书安装向导在我的机器上安装证书，但即使在重新启动应用程序后，我仍然会收到提示。

我必须重新启动机器本身吗？我正在使用 Windows 7。

![安全警告](../Images/0ed21db932daaaf5a2be3320ee9386c0.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-05T21:42:57.640

是的，服务器证书需要更新。但是，该证书似乎也没有 autodiscover.yourdomain.com 的*主题备用名称*条目，这是屏幕截图中显示的第二个问题。

CAS 服务器至少应具有 OWA FQDN（例如 webmail.yourdomain.com）和自动发现（例如 autodiscover.yourdomain.com）。设置证书请求时还有其他注意事项（例如负载均衡器、多个数据中心等）

如果您不管理基础结构，您可以将这些用作参考，或者发送给您的 Exchange 管理员：

*   [http://exchangeserverpro.com/configure-an-ssl-certificate-for-exchange-server-2010](http://exchangeserverpro.com/configure-an-ssl-certificate-for-exchange-server-2010)
*   [http://technet.microsoft.com/en-us/library/dd351044(v=exchg.141).aspx](http://technet.microsoft.com/en-us/library/dd351044(v=exchg.141).aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-26T13:22:11.183

终止 Outlook 安全证书警告

```
[HKEY_CURRENT_USER\Software\Microsoft\Office\14.0\Outlook\AutoDiscover]
add:
   "ExcludeScpLookup" = DWord (32) : 00000001
   "ExcludeHttpsAutoDiscoverDomain" = DWord (32) : 00000001
   "ExcludeSrvRecord" = DWord (32) : 00000001 
```

我已经验证了这一点并且它有效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-09-22T19:42:09.167

我遇到了这个问题，并尝试通过将有效的未过期自签名证书从“证书警告”对话框导入“受信任的根证书颁发机构”来解决它，但是即使它说“导入成功”，证书也没有导入。我通过“Internet 选项/内容/证书/受信任的根证书颁发机构”成功导入了证书，之后我不再收到证书警告（问题已解决）。也许这可以解决您的问题。

# c# - (dd-mm-yyyy) 的正则表达式无法正常工作

> ID：14683968
> 
> 赞同：0
> 
> 时间：2013-02-04T09:40:34.670
> 
> 标签：c#, asp.net

我的 ASP.Net 页面中有一个 RegularExpressionValidator

我使用它来检查有效日期，包括针对 TextBox 控件的闰年。

代码是：

```
<asp:RegularExpressionValidator ID="RegularExpressionValidator1" runat="server"   
ErrorMessage="Enter Valid Date" Display="Dynamic" Font-Bold="true" ForeColor="Red" 
ValidationExpression=
"^(((0[1-9]|[12]\d|3[01])(-|\/)(0[13578]|1[02])(-|\/)((19|[2-9]\d)\d{2}))|((0

[1-9]|[12]\d|30)(-|\/)(0[13456789]|1[012])(-|\/)((19|[2-9]\d)\d{2}))|((0[1-9]|1      
\d|2[0-8])(-|\/)02(-|\/)

((19|[2-9]\d)\d{2}))|(29(-|\/)02(-|\/)((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579]
[26])|   ((16|[2468]

[048]|[3579][26])00))))$" ControlToValidate="txtbdate">  
</asp:RegularExpressionValidator> 
```

所有日期都检查得很好，但日期：09-09-2000 无法检查..

请帮忙..

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:55:45.750

第二条“线”将与之匹配。

我怀疑是正则表达式中的所有换行符导致了这个问题。

```
((0[1-9]|[12]\d|30)(-|\/)(0[13456789]|1[012])(-|\/)((19|[2-9]\d)\d{2})) 
```

你可以在这里测试它：[http ://regexpal.com/](http://regexpal.com/)

对我来说很好。

# android - 如何在android中使LinearLayout中的TextView拖动平滑？

> ID：14683969
> 
> 赞同：7
> 
> 时间：2013-02-04T09:40:36.270
> 
> 标签：android, drag-and-drop, draggable, android-linearlayout, textview

我有一个我无法解决的情况，希望我能从你那里得到一些建议。

情况很简单：我有一个 LinearLayout，其中有一个带有多行文本的 TextView。用户可以拖动 TextView 直到找到他喜欢的位置。真正重要的是 TextView 可以部分超出 LinearLayout （它会出现剪切）。

以下是一些代码示例：

```
 <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="top|center_horizontal"
        android:clipChildren="false"
        android:gravity="center_horizontal|center_vertical"
        android:orientation="vertical" >

        <TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:gravity="center"
            android:textColor="@color/text_color"
            android:textSize="16sp" />
    </LinearLayout> 
```

如您所见，LinearLayout 具有 clipChildren = false 以允许截断文本。对于 textview 我设置了一个触摸监听器

```
txt.setOnTouchListener(new View.OnTouchListener() {
            int initialX = 0;
            int initialY = 0;

            @Override
            public boolean onTouch(View v, MotionEvent event) {
                switch (event.getActionMasked()) {
                case MotionEvent.ACTION_DOWN:
                    initialX = (int) event.getX();
                    initialY = (int) event.getY();
                    break;
                case MotionEvent.ACTION_MOVE:
                            int currentX = (int) event.getX();
                            int currentY = (int) event.getY();
                            LinearLayout.LayoutParams lp = (LinearLayout.LayoutParams) txt.getLayoutParams();

                            int left = lp.leftMargin + (currentX - initialX);
                            int top = lp.topMargin + (currentY - initialY);
                            int right = lp.rightMargin - (currentX - initialX);
                            int bottom = lp.bottomMargin - (currentY - initialY);

                            lp.rightMargin = right;
                            lp.leftMargin = left;
                            lp.bottomMargin = bottom;
                            lp.topMargin = top;

                            txt.setLayoutParams(lp);
                    break;
                default:
                    break;
                }
                return true;
            }
        }); 
```

这是我的问题：如您所见，我已经设置了所有布局参数（右、左、下、上边距）。这是为什么 ？

1）如果我只使用左/上拖动足够平滑但文本被包裹在右边框而不是被剪切。可能是由于正确的 0 边距值。

2）如果我使用所有边距，文本会按我想要的方式剪切，但移动并不流畅，它只是跳动了几个像素。

我怎样才能解决这个问题 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T16:24:33.363

好。这很奇怪。通过将 TextView 插入另一个与初始大小相同的 LinearLayout 中，可以使一切顺利。我不知道为什么。

# sql - H2 获取所有表的行数

> ID：14683971
> 
> 赞同：5
> 
> 时间：2013-02-04T09:40:45.797
> 
> 标签：sql, count, h2

我想知道每个表的总行数。这适用于所有桌子。H2有可能吗？

我在想一张桌子：

```
|表名 | 行大小 |

```

目前我正在使用当前版本 1.3.170 (2012-11-30)。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-04T21:58:53.117

您需要使用用户定义的函数，例如：

```
drop alias count_rows;
create alias count_rows as 
'long countRows(Connection conn, String tableName) 
    throws SQLException {
ResultSet rs = conn.createStatement().
    executeQuery("select count(*) from " + tableName);
rs.next();
return rs.getLong(1); }';
select table_name, count_rows(table_name) count 
from INFORMATION_SCHEMA.TABLES 
where table_schema = 'PUBLIC'; 
```

此代码不考虑架构，仅适用于未加引号的表名。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-02-17T23:44:24.020

试试`SELECT table_name, row_count_estimate FROM INFORMATION_SCHEMA.TABLES WHERE table_schema = 'PUBLIC'`。它会给你一个“估计”，但结果很可能会让你得到你需要的信息。

# php - 无法使用 ajax php jquery 发送电子邮件

> ID：14683972
> 
> 赞同：0
> 
> 时间：2013-02-04T09:41:00.507
> 
> 标签：php, jquery, ajax

我尝试了很多次，访问了很多论坛，但找不到答案。请不要发布它与其他帖子相似。试着帮我解决这个问题。

HTML 表单：

```
<form action="" method="post" id="bookingForm">
<div id="radiobutton">
<input type="radio" name="trip" id="oneway" value="oneway" checked/>&nbsp;Oneway
<input type="radio" name="trip" id="return" value="return"/>&nbsp;Return
</div>
<br/>

From:<input id="boarding" type="text" maxlength="40" class="user_input" size="18" name="boarding" value="Hyderabad"/>
To:<input id="landing" type="text" maxlength="40" class="user_input" size="18" name="landing"/>
<br/><br/><br/>

Onward:<input id="datepick"  name="onward" class="user_input" size="15" />

Return: <input id="datepick2"  name="return" class="user_input" size="15" />
<br/><br/><br/>
Your Name:<input id="pax_name" type="text" name="pax_name"  class="user_input" size="25" maxlength="50"/>
<br/><br/>
Contact number:<input id="pax_contact" type="text" maxlength="14" name="pax_contact" class="user_input" size="25"/>
<br/><br/>
Email:<input id="pax_email" name="pax_email" class="user_input" size="25"/>
<br/><br/>
<center>

<input id="submit" type="button" value="Request" /> 
```

用于发送电子邮件的 process.php：

```
<?php

  $trip=$_POST['trip'];
  $boarding=$_POST['boarding'];
  $landing=$_POST['landing'];
  $onward=$_POST['onward'];
  $return=$_POST['return'];
  $pax_name=$_POST['pax_name'];
  $pax_contact=$_POST['pax_contact'];
  $pax_email=$_POST['pax_email'];

        $to='anvesh@bsbtravels.com,anvifriend@gmail.com';
        $subject='Booking Form Query';
        $body=
              'Name: '.$pax_name."\n".
              'Contact Number: '.$pax_contact."\n".
              'Trip: '.$trip."\n".
              'From: '.$boarding."\n".
              'To: '.$landing."\n".
              'Onward Date: '.$onward."\n".
              'Return Date: '.$return."\n";
        $headers='From: '.$pax_name.'<'.$pax_email.'>';
        mail($to,$subject, $body, $headers)

?> 
```

jQuery代码：

```
$(document).ready(function(){
$('#submit').click(function(){
          var boarding=$('#boarding').val();
          var landing=$('#landing').val();
          var datepick=$('#datepick').val();
          var datepick2=$('#datepick2').val();
          var pax_name=$('#pax_name').val();
          var pax_contact=$('#pax_contact').val();
          var pax_email=$('#pax_email').val();

    if($('#landing').val().length<3 || $('#boarding').val().length<3 || $('#datepick').val().length<3 || $('#pax_name').val().length<3 || $('#pax_contact').val().length<8 || $('#pax_email').val().length<3){

        $('#bookfail').attr('title','Sending Failed!').text('Please Enter valid information. All fields are required').dialog({buttons:{'Ok':function(){
            $(this).dialog('close');
            }},closeOnEscape:true,draggable:false,resizable:false,modal:true});

    }else{
                var VarData='boarding='+boarding+'&landing='+landing+'&datepick='+datepick+'&datepick2='+datepick2+'&pax_name='+pax_name+'&pax_contact='+pax_contact+'&pax_email='+pax_email;
        $.ajax({
           type:'POST',
           url:'process.php',
                   data:VarData,
           success:function(){
           $('#booksuccess').attr('title','Request sent successfully').text('Your request has been sent. We will be in touch soon').dialog({buttons:{'Ok':function(){   $(this).dialog('close');
            }},closeOnEscape:true,draggable:false,resizable:false,modal:true});
           }
           error:function(){
                alert('Oops request sending failed. Please try again');
           }
        });
        }
    });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T09:55:06.293

`success`回拨后您缺少逗号：

```
success:function(){
   ...
}
error:function(){
   ...
} 
```

必须

```
success:function(){
   ...
},// <--
error:function(){
   ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T09:46:26.533

您正在以传统的查询字符串格式发布您的值...将您的值放入 javascript 对象中并通过`stringify`ing 将此对象发送到服务器...

有两种方法可以做到这一点

1]修改你的javascript文件有点像下面

把你所有的价值观都放在一个`javascript`对象中......就像这样

```
var VarData= {
    "boarding" : boarding,
    "landing" : landing,
    "datepick": datepick,
    "datepick2": datepick2,
    "pax_name": pax_name,
    "pax_contact": pax_contact,
    "pax_email": pax_email
} 
```

并将您的通话`data:varData`线路更改为`$.ajax()`

`data: JSON.stringify(varData)`

完成此操作后，您的`PHP`代码将能够捕获`$_POST`数组中的值...

现在您正在构建查询字符串，并且您的`$_POST`数组中没有索引，就像`boarding`所有..

第二种方式...保持`Javascript`原样并修改您的`PHP`代码。喜欢以下

捕获从 javascript 代码发送的数据。并使用`explode`函数来打破字符串`&`

```
$temp = explode("&",$_POST['data']); 
```

`$temp`将是一个数组，因此您需要使用循环遍历它。然后将每个元素分解`$temp`为`=`符号

像

```
$t=explode("=",$temp[$i]); 
```

`$t`将具有您正在寻找的价值，您可以使用它来发送邮件。

# php - 在单个页面上拖放具有多个实例的文件上传器

> ID：14683980
> 
> 赞同：1
> 
> 时间：2013-02-04T09:41:36.007
> 
> 标签：php, jquery, file-upload, drag-and-drop

我需要在单个页面上拖放文件上传选项的多个实例。我搜索但找不到那个。你们中的任何人都可以指导我找到一些有用的资源。

我尝试了许多拖放库。它们都适用于单个拖放实例。但是当我尝试使其适用于多个 g 和拖放实例时。它不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T11:25:52.287

我想这会对你有所帮助。 [https://github.com/valums/file-uploader](https://github.com/valums/file-uploader)

它具有拖放功能并允许多个实例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T10:01:55.497

[jQuery filedrop 插件](https://github.com/weixiyen/jquery-filedrop)应该与同一页面上的多个实例一起使用，只要您多次启动它，为每个实例引用单独的 DOM 元素。

# mysql - 更改数据目录后无法通过套接字连接

> ID：14683981
> 
> 赞同：1
> 
> 时间：2013-02-04T09:41:51.747
> 
> 标签：mysql, database, ubuntu-12.10

尝试启动mysql时出现错误

> ERROR 2002 (HY000): 无法通过套接字 '/var/run/mysqld/mysqld.sock' 连接到本地 MySQL 服务器 (2)

当我尝试按照[本指南](http://www.ubuntugeek.com/how-to-change-the-mysql-data-default-directory.html)重新定位我的 mysql 数据目录时，出现了这个问题。如那里所述，我更改了 mysql 配置中的位置并更新了 AppArmor 配置。

错误消息中提到的位置不存在/为空，尽管我没有更改 mysql 的套接字配置中的任何内容。

这个问题也会导致mysql服务启动失败。

在此先感谢，瑞奇福克斯

# android - 动画在 Android 的三星 Galaxy s3 中不起作用？

> ID：14683987
> 
> 赞同：1
> 
> 时间：2013-02-04T09:42:01.893
> 
> 标签：android, animation

我通过参考以下链接制作动画效果。 [http://www.edumobile.org/android/android-development/custom-popup-window-example/comment-page-1/#comment-1649](http://www.edumobile.org/android/android-development/custom-popup-window-example/comment-page-1/#comment-1649)。

代码 ：

```
 public class TutorialActivity extends Activity implements OnClickListener {

    private static String TAG = TutorialActivity.class.getSimpleName();
    private static final String NULL_STRING = "null";
    private Button mInfoBtn;
    private Animation animShow, animHide;
    private AlertDialog mErrorAlertDialog;
    private boolean isLogOff = false;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.tutorial);
        mInfoBtn = (Button) findViewById(R.id.btn_info);
        mInfoBtn.setOnClickListener(this);      

    }

    @Override
    public void onClick(View v) {

        initPopup();

    }

    /**
     * Used to show the Logoff Popup menu
     */

    private void initPopup() {

        Intent intent = getIntent();

        final PopupPanel popup = (PopupPanel) findViewById(R.id.popup_window);
        popup.setVisibility(View.VISIBLE);

        animShow = AnimationUtils.loadAnimation(this, R.anim.popup_show);
        animHide = AnimationUtils.loadAnimation(this, R.anim.popup_hide);
        popup.startAnimation(animShow);
        final Button closeButton = (Button) findViewById(R.id.btnClose);
        closeButton.setOnClickListener(new View.OnClickListener() {
            public void onClick(View view) {

                popup.startAnimation(animHide);
                popup.setVisibility(View.GONE);

            }
        });

        final Button cancelAppointmet = (Button) findViewById(R.id.btnCancel);
        final Button logoff = (Button) findViewById(R.id.btnLogoff);

        logoff.setOnClickListener(new View.OnClickListener() {
            public void onClick(View view) {

                popup.startAnimation(animHide);
                popup.setVisibility(View.GONE);

            }
        });
        cancelAppointmet.setOnClickListener(new View.OnClickListener() {
            public void onClick(View view) {
                popup.startAnimation(animHide);
                popup.setVisibility(View.GONE);

            }
        });

    }

} 
```

弹出面板.java

```
 public class PopupPanel extends LinearLayout {
    private Paint innerPaint, borderPaint;

    public PopupPanel(Context context, AttributeSet attrs) {
        super(context, attrs);
        init();
    }

    public PopupPanel(Context context) {
        super(context);
        init();
    }

    private void init() {
        innerPaint = new Paint();
        innerPaint.setARGB(225, 0, 0, 0);
        innerPaint.setAntiAlias(true);

        borderPaint = new Paint();
        borderPaint.setARGB(255, 0, 0, 0);
        borderPaint.setAntiAlias(true);
        borderPaint.setStyle(Style.STROKE);
        borderPaint.setStrokeWidth(2);
    }

    public void setInnerPaint(Paint innerPaint) {
        this.innerPaint = innerPaint;
    }

    public void setBorderPaint(Paint borderPaint) {
        this.borderPaint = borderPaint;
    }

    @Override
    protected void dispatchDraw(Canvas canvas) {

        RectF drawRect = new RectF();
        drawRect.set(0, 0, getMeasuredWidth(), getMeasuredHeight());

        canvas.drawRoundRect(drawRect, 5, 5, innerPaint);
        canvas.drawRoundRect(drawRect, 5, 5, borderPaint);

        super.dispatchDraw(canvas);
    }

} 
```

教程.xml

```
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <RelativeLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" >

        <RelativeLayout
            android:id="@+id/heading"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_alignParentTop="true"
            android:background="@drawable/header_bg_short" >

            <Button
                android:id="@+id/btn_info"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentLeft="true"
                android:layout_centerVertical="true"
                android:layout_marginLeft="10px"
                android:background="@drawable/btn_info" >
            </Button>

            <ImageView
                android:id="@+id/iveMailMinder"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_centerInParent="true"
                android:src="@drawable/header_text" />
        </RelativeLayout>

        <ImageView
            android:id="@+id/tutorilaimage"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:layout_below="@id/heading"
            android:scaleType="fitXY"
            android:src="@drawable/tutorial_android3" />
    </RelativeLayout>

    <com.xxx.com.PopupPanel
        android:id="@+id/popup_window"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="bottom"
        android:gravity="left"
        android:orientation="vertical"
        android:visibility="gone" >

        <Button
            android:id="@+id/btnClose"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginLeft="15dp"
            android:layout_marginRight="15dp"
            android:layout_marginTop="10dp"
            android:enabled="false"
            android:text="@string/btn_close_name"
            android:textSize="16sp"
            android:textStyle="bold" />

        <Button
            android:id="@+id/btnLogoff"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginLeft="15dp"
            android:layout_marginRight="15dp"
            android:layout_marginTop="5dp"
            android:enabled="false"
            android:text="@string/btn_logoff_name"
            android:textSize="16sp"
            android:textStyle="bold" />

        <Button
            android:id="@+id/btnCancel"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="5dp"
            android:layout_marginLeft="15dp"
            android:layout_marginRight="15dp"
            android:layout_marginTop="10dp"
            android:text="@string/btn_cancel_name"
            android:textSize="16sp"
            android:textStyle="bold" />
    </com.xxx.com.PopupPanel>

</FrameLayout> 
```

.Code 适用于除**Samsung Galaxy S3**之外的所有设备。

当我单击“信息”按钮时，我正在显示动画。

**观察到在 S3 中，当我长按“信息”按钮时，动画就会出现。正常的点击事件动画不会出现。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T16:09:46.767

如果我将 tragetVersion 设置为 14，那么在更高版本（如果冻豆）中观察到一些 UI 更改。我的意图是不影响 UI，我需要解决这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T09:39:39.140

当我启用“Fource GPU Rendering”时，动画在 S3 中工作。但我需要查看原因

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T10:12:30.367

我遇到了同样的问题，但我通过将清单中的 targetSDk 设置为 14 来修复它

# android - 移动应用程序：在 SQLite 和 SQL Server 2008 之间交换数据

> ID：14683990
> 
> 赞同：0
> 
> 时间：2013-02-04T09:42:21.470
> 
> 标签：android, sql-server-2008, sqlite

我被要求创建一个移动应用程序，该应用程序从 sql server 2008 加载常规数据并将其放入本地 db SQLite 并发送它。作为移动开发的新手，我什至不知道如何进行。如果有人带领我或给我提示，我将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T10:51:39.657

您需要一个 WebService，以便您可以与数据库服务器和 Android 设备进行通信。

开发 Web 服务：它应该具有从数据库服务器获取数据并返回到数据库服务器的逻辑。

在 Android 端，您可以使用 KSoap 来使用 Web 服务。[请在此处查看此示例。](https://stackoverflow.com/questions/3730312/how-to-call-a-php-webservice-from-android-using-ksoap2)

# ios - 用手指使 UIView 可拖动

> ID：14683991
> 
> 赞同：8
> 
> 时间：2013-02-04T09:42:21.980
> 
> 标签：ios, uiview, draggable, uitapgesturerecognizer, touchesmoved

我有，`mainViewController`但我有一个小的`UIView`内部，当您在 中点击 a 时会激活`MKAnnotationView`它`MKMapKit`，所以我需要它`UIView`可以在屏幕的任何部分拖动。

我的应用程序的示例屏幕截图：

![在此处输入图像描述](../Images/3bfba79b1b8935010f939ee0ee817308.png)

圆圈是点的一个例子，我想我可以拖动“小”UIView 的任何点。

我尝试使用`UITapGestureRecognizer`但它不起作用，因为我的代码不够好，而且我无法使其可拖动，因为它只是点击，而不是点击和移动。

我希望你能帮助我。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-04T09:46:08.867

1.  使用`UIPanGestureRecognizer`代替`UITapGestureRecognizer`
2.  设置`userInteractionEnabled = YES`为您的视图
3.  查看这个关于手势识别器的精彩教程：[Touches](http://developer.apple.com/library/ios/#samplecode/Touches/Introduction/Intro.html#//apple_ref/doc/uid/DTS40007435)。有一个很好的拖动视图的例子。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-04T09:54:39.933

[用于创建可拖动和可调整大小的`UIView`这个例子（*带有源代码*）对你非常有用。](https://github.com/spoletto/SPUserResizableView)

并且还阅读了[This Document](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIPanGestureRecognizer_Class/Reference/Reference.html)和[This Document](http://www.icodeblog.com/2010/10/14/working-with-uigesturerecognizers/) This document is related to`UIPanGestureRecognizer`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-04T09:46:38.010

在@borrrden 表扬后编辑

`UIPanGestureRecognizer`适合。在您的处理程序函数中检查它的`state`变量。

```
typedef enum {
   UIGestureRecognizerStatePossible,

   UIGestureRecognizerStateBegan,     // this will be the value on touch
   UIGestureRecognizerStateChanged,   // ~ on drag
   UIGestureRecognizerStateEnded,     // ~ on end of touch event
   UIGestureRecognizerStateCancelled,

   UIGestureRecognizerStateFailed,

   UIGestureRecognizerStateRecognized = UIGestureRecognizerStateEnded
} UIGestureRecognizerState; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-11-23T14:05:57.347

我用它来缩放和拖动我的应用程序中的 UIView。

1）首先确保将以下内容添加到您的实现中，并将出口连接到您的故事板中的视图

```
#import <QuartzCore/QuartzCore.h>

@interface yourclass () {
    BOOL isDragging;
}
@property (weak, nonatomic) IBOutlet UIImageView *outletMainView; // View that contains the view we want to drag
@property (weak, nonatomic) IBOutlet UIImageView *outletRedDot; // The view we want to drag in the main view 
```

当触摸开始时，当用户触摸特定视图时，我会稍微缩放视图，这里是红点

```
// ANIMATE RED DOT WHEN START DRAGING IT
- (void) touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch *touch = [touches anyObject];
    CGPoint touchLocation = [touch locationInView:self.outletMainView];

    CGRect redDotRect = [self.outletRedDot frame];
    if (CGRectContainsPoint(redDotRect, touchLocation)) {
        isDragging = YES;
        NSLog(@"Red Dot tapped!");
        [UIView animateWithDuration:0.2
                              delay:0.0
                            options:UIViewAnimationOptionCurveEaseOut
                         animations:^{
                             self.outletRedDot.transform = CGAffineTransformMakeScale(1.75, 1.75);
                         }
                         completion:^(BOOL finished) {
                         }];
    } else {
        return;
    }
} 
```

2）然后我将视图设置为跟随手指点的点

```
// ANIMATE AND MOVE RED DOT WHEN WE DRAG IT
- (void) touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch *touch = [touches anyObject];
    CGPoint touchLocation = [touch locationInView:self.outletMainView];

    if (isDragging) {
        [UIView animateWithDuration:0.0f
                              delay:0.0f
                            options:(UIViewAnimationOptionBeginFromCurrentState|UIViewAnimationOptionCurveEaseInOut)
                         animations:^{
                             self.outletRedDot.center = touchLocation;
                             NSLog(@"X: %0.2f Y: %0.2f",touchLocation.x-redDotStartCenter.x, redDotStartCenter.y-touchLocation.y);
                         }
                         completion:NULL];
    }
} 
```

3）最后，当拖动结束时，视图被重置为其原始比例

```
// RESET RED DOT WHEN WE STOP DRAGGING
- (void) touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch *touch = [touches anyObject];
    CGPoint touchLocation = [touch locationInView:self.outletMainView];

    CGRect redDotRect = [self.outletRedDot frame];
    if (CGRectContainsPoint(redDotRect, touchLocation)) {
        [UIView animateWithDuration:0.1
                              delay:0.0
                            options:0
                         animations:^{
                             self.outletRedDot.transform = CGAffineTransformMakeScale(1.0, 1.0);
                         }
                         completion:^(BOOL finished) {
                         }];
    }
    isDragging = NO;
} 
```