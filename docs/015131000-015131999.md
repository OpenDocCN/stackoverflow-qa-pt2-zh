# StackOverflow 问答 15131000-15131999

# regex - Powershell：比较基于 2 列的 2 个文件

> ID：15131001
> 
> 赞同：0
> 
> 时间：2013-02-28T08:41:20.263
> 
> 标签：regex, powershell

来自德国的早安，对不起我的英语不好。

我希望有人能帮助我。

我们必须将 2 个 .xls 或 .csv 文档与超过 4000 行进行比较。两份文件的 E 列都有相同的交货单编号。此交货单编号不是唯一的，该编号可以在 E 列中使用多次。每个交货单编号在 D 列中也有多个 Pieces。

如果两个文件中的交货单编号和数量匹配，我们可以忽略并删除该行。比较两个超过 4000 行的文件非常昂贵，所以我希望可以用 Powershell 和正则表达式进行比较。

我的想法：将 xls 转换为 csv 并执行以下操作：阅读行并使用 E 列和 D 列的条目。对于 E 列的每个条目，检查该条目是否存在于第二个文件中。如果条目存在，请检查 D 列是否与 file1 中的相同。如果两个条目匹配，则删除或复制两个文件中的两行。

至少我们有两个没有分配的条目的文件。

这可能吗？

使用 PowerShell 我可以很好地处理，但是使用正则表达式...：/

提前感谢丹尼尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T10:57:02.633

如果您将您的两个值视为复合主键，它似乎可以解决。您说 E 列中的第一个值不一定是唯一的。你能告诉我它的数量是否总是独一无二的？

无论如何，我建议处理这个，只是为了获得一个唯一的 (Col E, col D) 组合列表，你甚至可以只取一个“E，D”格式的字符串，只要 col E 和 col D 不包含逗号。获取此唯一值后，将其放入哈希表中，以格式化的值作为键，并以该键的文件数组作为值。

现在您有一种方法可以有效地查找哪些文件存在于哪些 Col E、Col D 组合中，因此您应该能够根据需要处理您的特定用例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T12:07:25.920

4000 行听起来并不多。试试这个：假设 csv 文件被称为“1.csv”和“2.csv”

```
add-content 3.csv (get-content 1.csv) 
add-content 3.csv (get-content 2.csv) 

import-csv -header A,B,C,D,E,F 3.csv  | 
    group E,D | 
    where { $_.count -eq 1 } | 
    foreach { $_.group } |
    export-csv 3.diff.csv -noTypeInformation 
```

“3.diff.csv”将仅包含唯一记录。

# objective-c - 如何始终使用英语获取用户国家/地区？

> ID：15131011
> 
> 赞同：0
> 
> 时间：2013-02-28T08:41:48.613
> 
> 标签：objective-c, xcode, geolocation

在我的应用程序中，我有一个地理定位系统，可以将用户所在的国家/地区与我的代码中的字符串进行比较。这是类似的东西：

```
if (UserLocation.country == @"Switzerland") {
      //country is Switzerland
} 
```

如果设备的用户语言是英语，则该系统可以正常工作。一些用户报告说它不工作并且他们有德语或意大利语的设备。

如何强制设备始终以英语向我提供国家/地区字符串？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T08:50:03.093

使用自然语言（即我们作为人类说和写的语言）来存储本质上是象征性的信息通常并不理想。

你自己找到了一个很好的例子，当你的软件传播时就会出现，就像世界范围内使用的现代设备一样。

另一个原因可能是即使在同一种语言中，也可能有几种广泛使用的方式来指代同一个“对象”或主题。想想美国，它可以被称为美国、美国、美国，可能还有其他几个名字。或者英国，它被称为英国（UK）和大不列颠（GB）。甚至对于一些简单的对象属性：是`color`还是`colour`？我确信可以找到更多其他语言的例子——特别是如果它们在多个国家使用。

最重要的是，随着时间的推移，自然语言也容易出现拼写错误、打字错误、使用缩写和拼写标准的变化。

因此，更好的解决方案是使用与语言无关的方法。

国家名称的普遍接受做法是使用 ISO 国家代码（“CH”代表瑞士，“DE”代表德国等，以防您使用 2 个字母版本。）

在您的数据库中（可以像 plist 文件一样简单），您将创建一个名为 instance`countrycode`的字段，长度为 2 个字符，其值应为“US”、“CH”、“DE”、“FR”等。遵循 ISO 3166 标准。您也可以使用 3 个字母的 ISO 国家/地区代码，但似乎最常用的是 2 个字母的国家代码。

然后，出于 UI 目的，您将保留另一个表，该表可能是`.strings`用于本地化的文件，其中包含国家/地区的自然语言名称：

```
US = United States;
DE = Germany;
CH = Switzerland;
/* etc. */ 
```

在屏幕上，您可以翻译成自然语言：

```
NSString *isoCountryCode = @"CH"; // Or however you want to set it
NSString *countryName = NSLocalizedString(isoCountryCode, @"Default string if country name not found.");

// Now you can set the country name in human-readable form in the UI
myCountryNameLabel.text = countryName; 
```

在您的其余代码中，即在将数据显示给用户界面之前处理数据的代码，您只使用 ISO 代码来区分国家/地区。有些人将这部分代码称为*业务逻辑*，作为一个简单的示例，它可能看起来像这样：

```
if ( [UserLocation.countryCode isEqualToString: @"CH"] ) {
     // Do things needed for Switzerland
} 
```

国际化是一个广泛的主题，您可以在[此处](https://developer.apple.com/library/ios/#documentation/MacOSX/Conceptual/BPInternational/BPInternational.html)找到 Apple 的iOS 文档。OS X 版本在[这里](https://developer.apple.com/library/mac/#documentation/MacOSX/Conceptual/BPInternational/BPInternational.html)- 但它们将基本相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-04T21:42:50.990

我使用了 Google 地方信息并向该网址发出了请求

```
"https://maps.googleapis.com/maps/api/geocode/json?latlng=\(userLocation.latitude),\(userLocation.longitude)&key=\(self.googlePlacesApiKey)&language=en&result_type=country" 
```

所以它总是给我独立于用户的语言或区域设置的英语结果

您可以使用 result_type 参数更改您收到的信息。完整指南在这里：

[https://developers.google.com/maps/documentation/geocoding/intro#Viewports](https://developers.google.com/maps/documentation/geocoding/intro#Viewports)

# ant - 使用 ivy:retrieve 将组织名称拆分为嵌套文件夹

> ID：15131012
> 
> 赞同：1
> 
> 时间：2013-02-28T08:41:52.167
> 
> 标签：ant, ivy

在 ivy 中，我可以设置检索模式，以便将所有依赖项复制到我想要的地方。

例如：

```
 <ivy:retrieve pattern="${local-maven2-dir}/[organisation]/[module]/[revision]/[module]-[revision].[ext]" conf="compile" type="jar,bundle" sync="true"/> 
```

我想知道是否可以不将组织视为一个文件夹，而是将其视为一组嵌套文件夹，并将 jar 包保存在最深的文件夹（即修订版）中，就像 jar 存储在 maven 默认存储库中一样。

所以，基本上我想把罐子放在像这样的路径中

```
com/yahoo/platform/yui/yuicompressor/2.4.7 
```

不喜欢

```
com.yahoo.platform.yui/yuicompressor/2.4.7 
```

**PS：**涉及 groovy 脚本也可以算作一个有效的解决方案，只是我不知道 groovy 在这里如何参与。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T03:57:55.867

实际上，这很容易，并且已经在[Ivy](http://ant.apache.org/ivy/history/latest-milestone/use/retrieve.html)中记录（请看页面底部附近）。您可以使用`[orgPath]`：

```
<ivy:retrieve conf="compile"
    type="jar,bundle"
    sync="true"
    pattern="${local-maven2-dir}/[orgPath]/[module]-[revision].[ext]"/> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T01:18:04.577

以下示例使用 groovy。

David W. 提供了一个更简单的解决方案，它依赖于 ivy 2.3 中引入的新“orgPath”模式令牌。

# 例子

产生以下输出

```
├── build
│   ├── com
│   │   └── yahoo
│   │       └── platform
│   │           └── yui
│   │               └── yuicompressor
│   │                   └── 2.4.7
│   │                       └── yuicompressor-2.4.7.jar
│   └── rhino
│       └── js
│           └── 1.6R7
│               └── js-1.6R7.jar
├── build.xml
└── ivy.xml 
```

## 构建.xml

```
<project name="demo" default="retrieve" xmlns:ivy="antlib:org.apache.ivy.ant">

    <target name="resolve">
        <ivy:resolve/>
        <ivy:cachepath pathid="build.path" conf="build"/>
    </target>

    <target name="retrieve" depends="resolve">
        <taskdef name="groovy" classname="org.codehaus.groovy.ant.Groovy" classpathref="build.path"/>

        <ivy:artifactproperty conf="compile" name="index.[module].[artifact]" value="[module].[artifact]"/>
        <ivy:artifactproperty conf="compile" name="[module].[artifact].organisation" value="[organisation]"/>
        <ivy:artifactproperty conf="compile" name="[module].[artifact].module" value="[module]"/>
        <ivy:artifactproperty conf="compile" name="[module].[artifact].artifact" value="[artifact]"/>
        <ivy:artifactproperty conf="compile" name="[module].[artifact].revision" value="[revision]"/>
        <ivy:artifactproperty conf="compile" name="[module].[artifact].ext" value="[ext]"/>
        <ivy:artifactproperty conf="compile" name="[module].[artifact].cachefile" value="${ivy.cache.dir}/[organisation]/[module]/jars/[artifact]-[revision].[ext]"/>

        <groovy>
            modules = properties.findAll { it.toString().startsWith("index.") }

            modules.each { key, value ->
                def organisation = properties[value+".organisation"].replace(".","/")
                def module = properties[value+".module"]
                def artifact = properties[value+".artifact"]
                def revision = properties[value+".revision"]
                def ext = properties[value+".ext"]
                def cachefile = properties[value+".cachefile"]

                ant.copy(file:cachefile, tofile:"build/${organisation}/${module}/${revision}/${artifact}-${revision}.${ext}")
            }
        </groovy>
    </target>
</project> 
```

## 常春藤.xml

```
<ivy-module version="2.0">
    <info organisation="com.myspotontheweb" module="demo"/>

    <configurations>
        <conf name="build"   description="Build dependencies"/>
        <conf name="compile" description="Compile classpath"/>
    </configurations>

    <dependencies>
        <!-- build dependencies -->
        <dependency org="org.codehaus.groovy" name="groovy-all" rev="2.1.1" conf="build->default"/>

        <!-- compile dependencies -->
        <dependency org="com.yahoo.platform.yui" name="yuicompressor" rev="2.4.7" conf="compile->default"/>
    </dependencies>

</ivy-module> 
```

# c# - 如何根据 app.config 多次导出一个 MEF 插件？

> ID：15131014
> 
> 赞同：4
> 
> 时间：2013-02-28T08:41:56.497
> 
> 标签：c#, .net, mef

我正在构建一个简单的 MEF 应用程序。我想要实现的是构建一个插件，它可以在同一个组合应用程序中多次注册。插件的注册应该取决于插件配置文件中的设置，但我无法做到这一点。

[编辑]

我的服务器具有 CompositionContainer，需要与 6 个不同的目标（即交通灯控制器）进行通信。对于每个目标，我想添加一个插件。插件逻辑是一样的，所以我只想维护1个插件。每个目标都有自己的网址进行通信（以及其他一些配置项），我希望它们位于（单独的）配置文件中。

我尝试将插件放在子目录中，然后递归地通过这些目录将插件添加到目录中。然而，这不起作用。在子目录中找到的第二个插件将被导入，但这个插件是针对第一个插件的。当循环通过容器 FASTAdapters 时，所有部分似乎都等于第一个。

```
private void Compose()
{
    var catalog = new AggregateCatalog();
    string sDir = AppSettingsUtil.GetString("FASTAdaptersLocation", @"./Plugins");
    foreach (string d in Directory.GetDirectories(sDir))
    {
        catalog.Catalogs.Add(new DirectoryCatalog(d));
    }
    var container = new CompositionContainer(catalog);
    container.ComposeParts(this);
} 
```

我不知道我是否也可以使用 ExportMetadata 属性。似乎必须对 ExportMetadata 属性进行硬编码，但如果可能，我希望从配置文件中读取该属性。

[/编辑]

我的目标是拥有 6 个 ControllerAdapter，每个都针对不同的控制器（阅读：与不同的网络服务器通信）。6 个 ControllerAdapter 中的逻辑是相等的。

我认为复制 ClassLibrary（例如到 1.dll、2.dll 等）并添加配置文件（1.dll.config 等）应该可以解决问题，但不是。

撰写时，我`typeof(FAST.DevIS.ControllerAdapter)`在容器中获得了多个实例，但我不知道如何进一步。

我需要在导出中对 MetaData 做些什么吗？

导入服务器

```
[ImportMany]
public IEnumerable<IFASTAdapter> FASTAdapters { get; set; }

private void Compose()
{
    var catalog = new AggregateCatalog();
    catalog.Catalogs.Add(new DirectoryCatalog(AppSettingsUtil.GetString("FASTAdaptersLocation", Path.GetDirectoryName(Assembly.GetAssembly(typeof(ControllerServer)).Location))));
    var container = new CompositionContainer(catalog);
    container.ComposeParts(this);
} 
```

插件

```
namespace FAST.DevIS.ControllerAdapter
{
   [Export (typeof(IFASTAdapter))]
   public class ControllerAdapter : IFASTAdapter
   {
       ...
   }
} 
```

界面

```
namespace FAST.Common.FastAdapter
{
    public interface IFASTAdapter
    {
        /// Parse plan parameters
        /// 
        //Activator
        bool ParsePlan(PlansContainer plan);
        bool ActivatePlan();
        void Configure(string config);
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-14T09:47:34.777

与使用 MEF 解决方案相比，使用程序集的方式可能更成问题。

你说：

> 6 个 ControllerAdapter 中的逻辑是相等的。

那么是同一个 DLL 只是复制了 6 次到不同的插件目录吗？如果是，那么这就是问题所在。

我模拟了你的方法并运行了一些测试来证明我的想法。该代码实际上与您的代码相同，并从服务器的 bin/plugin 目录的子目录中读取插件。

使用 NUnit 进行简单测试来练习服务器类库：

```
[Test]
public void Compose()
{
    var server = new Server();
    server.Compose();
    Console.WriteLine("Plugins found: " + server.FASTAdapters.Count());
    Console.WriteLine();
    foreach (var adapter in server.FASTAdapters)
    {
        Console.WriteLine(adapter.GetType());
        Console.WriteLine(adapter.GetType().Assembly.FullName);
        Console.WriteLine(adapter.GetType().Assembly.CodeBase);
        Console.WriteLine();
    }
    Assert.Pass();
} 
```

一个插件的测试结果：

```
找到的插件：1

AdapterPlugin.ControllerAdapter
AdapterPlugin，版本=1.0.0.0，文化=中性，PublicKeyToken=null
file:///C:/USERS/GARKIN/DOCUMENTS/VISUAL STUDIO 2012/PROJECTS/MEFADAPTERS/ADAPTERSERVER/BIN/DEBUG/PLUGINS/ADAPTER1/ADAPTERPLUGIN.DLL

```

两个插件的测试结果，使用复制到两个不同插件目录的相同插件程序集（可能是您的情况）：

```
找到的插件：2

AdapterPlugin.ControllerAdapter
AdapterPlugin，版本=1.0.0.0，文化=中性，PublicKeyToken=null
file:///C:/USERS/GARKIN/DOCUMENTS/VISUAL STUDIO 2012/PROJECTS/MEFADAPTERS/ADAPTERSERVER/BIN/DEBUG/PLUGINS/ADAPTER1/ADAPTERPLUGIN.DLL

AdapterPlugin.ControllerAdapter
AdapterPlugin，版本=1.0.0.0，文化=中性，PublicKeyToken=null
file:///C:/USERS/GARKIN/DOCUMENTS/VISUAL STUDIO 2012/PROJECTS/MEFADAPTERS/ADAPTERSERVER/BIN/DEBUG/PLUGINS/ADAPTER1/ADAPTERPLUGIN.DLL

```

如果您为这些 DLL 提供不同的名称，您也会得到完全相同的结果，因为实际上它内部仍然是相同的程序集。

现在我添加第三个插件，但这次是不同的插件程序集：

```
找到的插件：3

AdapterPlugin.ControllerAdapter
AdapterPlugin，版本=1.0.0.0，文化=中性，PublicKeyToken=null
file:///C:/USERS/GARKIN/DOCUMENTS/VISUAL STUDIO 2012/PROJECTS/MEFADAPTERS/ADAPTERSERVER/BIN/DEBUG/PLUGINS/ADAPTER1/ADAPTERPLUGIN.DLL

AdapterPlugin.ControllerAdapter
AdapterPlugin，版本=1.0.0.0，文化=中性，PublicKeyToken=null
file:///C:/USERS/GARKIN/DOCUMENTS/VISUAL STUDIO 2012/PROJECTS/MEFADAPTERS/ADAPTERSERVER/BIN/DEBUG/PLUGINS/ADAPTER1/ADAPTERPLUGIN.DLL

AdapterPlugin2.ControllerAdapter
AdapterPlugin2，版本=1.0.0.0，文化=中性，PublicKeyToken=null
file:///C:/USERS/GARKIN/DOCUMENTS/VISUAL STUDIO 2012/PROJECTS/MEFADAPTERS/ADAPTERSERVER/BIN/DEBUG/PLUGINS/ADAPTER3/ADAPTERPLUGIN2.DLL

```

当然可以正确找到并识别不同的组件。

因此，这一切都归结为 .NET 运行时如何处理程序集加载，这是一个复杂且严格定义的过程，并且对于强名称和弱名称的程序集的工作方式不同。我推荐这篇文章来很好地解释这个过程：[Assembly Load Contexts Subtleties](http://blogs.microsoft.co.il/blogs/sasha/archive/2007/03/06/Assembly-Load-Contexts-Subtleties.aspx)。

在这种情况下，使用 MEF 时，在幕后遵循相同的过程：

1.  .NET 运行时找到第一个弱类型插件程序集并从该位置加载它，MEF 执行它的导出处理。

2.  然后 MEF 尝试使用目录处理它找到的下一个插件程序集，但运行时会看到已加载相同元数据的程序集。所以它使用已经加载的来查找导出并最终再次实例化相同的类型。它根本不触及第二个 DLL。

运行时不可能多次加载同一个程序集。当你想到它时，这是完全有道理的。程序集只是一堆类型及其元数据，一旦加载这些类型就可用，无需再次加载它们。

这可能不完全正确，但我希望它有助于解释问题所在，并且应该清楚为此目的复制 DLL 是没有用的。

现在关于你想要达到的目标。您似乎只需要获取 SAME 适配器插件的多个实例以将它们用于不同的目的，这与乘法 DLL 无关。

要获得多个适配器实例，您可以在您的服务器中定义多个导入并`RequiredCreationPolicy`设置为`CreationPolicy.NonShared`，MEF 将为您相应地实例化：

```
public class Server
{
    [Import(RequiredCreationPolicy = CreationPolicy.NonShared)]
    public IFASTAdapter FirstAdapter { get; set; }

    [Import(RequiredCreationPolicy = CreationPolicy.NonShared)]
    public IFASTAdapter SecondAdapter { get; set; }

    // Other adapters ...

    public void Compose()
    {
        var catalog = new AggregateCatalog();
        var pluginsDir = Path.Combine(AppDomain.CurrentDomain.BaseDirectory, "plugins");
        foreach (string d in Directory.GetDirectories(pluginsDir))
        {
            catalog.Catalogs.Add(new DirectoryCatalog(d));
        }
        var container = new CompositionContainer(catalog);
        container.ComposeParts(this);
    }
} 
```

相应的 NUnit 测试以检查适配器是否已实例化并且它们是不同的实例：

```
[Test]
public void Compose_MultipleAdapters_NonShared()
{
    var server = new Server();
    server.Compose();
    Assert.That(server.FirstAdapter, Is.Not.Null);
    Assert.That(server.SecondAdapter, Is.Not.Null);
    Assert.That(server.FirstAdapter, Is.Not.SameAs(server.SecondAdapter));
} 
```

如果所有这些在某种程度上对您有所帮助，我们还可以查看您希望如何配置以及如何使用 app.config 进行实例化。

# sql-server - SQL Server 2005 - 调查导致 tempdb 变得巨大的原因

> ID：15131021
> 
> 赞同：6
> 
> 时间：2013-02-28T08:42:22.063
> 
> 标签：sql-server, tempdb

我的实例的 tempdb 变得巨大，耗尽了所有可用的磁盘空间并导致应用程序宕机。不得不在紧急情况下重新启动实例。但是，我想调查并深入了解导致临时数据库突然变大的原因。导致这种情况的查询和流程是什么？有人可以帮我提取所需的信息。我知道我不会从 SQL serevr 获得太多历史数据。我确实部署了 Idera SQL 诊断管理器（第三方工具）。任何使用该工具的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-07-30T21:28:15.280

至于事后分析，您可以使用服务器上已安装的工具。对于未来的主动分析，您可以直接在 SQL Profiler 中使用 SQL 跟踪，或使用 SQL 语句查询跟踪。

[sys.fn_trace_gettable](http://msdn.microsoft.com/en-us/library/ms188425.aspx)

[sys.trace_events](http://msdn.microsoft.com/en-us/library/ms189793.aspx)

您还可以使用审计工具来跟踪 SQL Server 实例和数据库上发生的每个事件，例如[ApexSQL Comply](http://www.apexsql.com/sql_tools_comply.aspx)。它还使用 SQL 跟踪、自动配置它们并处理捕获的信息。它跟踪对象和数据访问和更改、登录失败和成功、安全更改等。ApexSQL Comply 将所有捕获的信息加载到集中存储库中。

![在此处输入图像描述](../Images/161d1e2c911eb46eb0101b1d8b858399.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T12:02:23.393

有几个原因可能会导致您的 tempdb 变得非常大。

大量排序——如果这需要比你的 sql server 更多的内存，那么它会将所有临时结果存储在 tempdb 中

DBCC 命令——如果您经常运行 DBCC CheckDB 等命令，这可能是原因。这些函数将其结果存储在 temp db

非常大的结果集——这些也使用临时数据库来正常运行

许多繁重的事务，例如批量插入

查看这篇文章以了解有关如何解决此问题的更多详细信息[http://msdn.microsoft.com/en-us/library/ms176029.aspx 。](http://msdn.microsoft.com/en-us/library/ms176029.aspx)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-17T21:15:08.483

AK2，我们也有 Idera DM 工具。如果您知道您的 tempdb 被大量使用的时间范围，您可以转到 Idera 工具上的 History 以查看当时正在运行的查询以及导致服务器出现问题的原因...在“Tempdb Space used OverTime “您通常会看到一条直线或图表，但在大量使用 tempdb 时，会出现一条直线或一条直线。参考这个时间范围，您可以查看“会话”>“详细信息”，也可以查看确切的查询以及运行查询的人员。

在我们的服务器中，这通常发生在执行大量连接的长查询时。或者当有涉及转储到临时表/表变量的昂贵查询时。希望这会有所帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-03-07T09:29:54.733

您可以使用`SQL Profiler`. 请尝试以下链接

[Sql 探查器](http://technet.microsoft.com/en-us/library/ms181091.aspx)

# asp.net - 在asp.net mvc 4的控制器中创建一个url

> ID：15131022
> 
> 赞同：0
> 
> 时间：2013-02-28T08:42:24.770
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-3, razor, asp.net-mvc-4

我正在尝试向当前注册的用户发送激活邮件。在邮件正文中，我需要发送一个类似[http://example.com/account/activation?username=d&email=g.Now](http://example.com/account/activation?username=d&email=g.Now)的链接，以便在本地机器上进行调试，我手动将其写为 localhost:30995/account/activation?username=d&email=g。但是，当我的端口号改变时，我需要重写它。我在这个网站上尝试[了另一个问题](https://stackoverflow.com/questions/699782/creating-a-url-in-the-controller-net-mvc) ，但是，编译器给出了 url.action 不存在之类的错误。

请给我新的解决方案，因为我对该解决方案感到困惑。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:22:09.107

使用带有`Url.Action`协议参数的重载来生成 URL：

```
Url.Action("Activation", "Account", new { username = "d", email = "g" }, "http") 
```

这会生成一个*绝对*URL 而不是相对 URL。协议可以是“http”或“https”。因此，这将`http://localhost:XXXXX/account/activation?username=d&email=g`在您的本地机器和`http://example.com/account/activation?username=d&email=g`生产环境中返回。

简而言之，这会将您托管应用程序的任何域放在您的 URL 前面；然后，您可以根据需要多次更改您的主机名/端口号/域名。您的链接将始终指向它们来源的主机。那应该可以解决您面临的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T08:45:14.417

尝试使用 IIS / IIS-Express 而不是 Visual Studio 附带的 Casinni Web 服务器。

您可以添加绑定以获得正确的 URL（当然还有主机条目）。

这将避免链接中的端口号。

# wordpress - 如何对齐我的左侧栏

> ID：15131025
> 
> 赞同：0
> 
> 时间：2013-02-28T08:42:36.103
> 
> 标签：wordpress

如何对齐我的侧边栏与标题文本垂直对齐，`"E"`我的主要内容区域有`960px`，我希望它位于中心。

以及如何消除侧边栏和标题之间的间隙，我在 上使用`topmargin="0"`过`sidebar.php`，但它不起作用。

我附上了一个示例图片链接。

[http://i.imgur.com/8EMBqpE.jpg](http://i.imgur.com/8EMBqpE.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:32:03.240

尝试将菜单包装在 div 中并使用 right: 30% 或其他内容。你能做一个工作的例子，所以我可以进一步研究

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T08:55:03.090

这通常可以解决您遇到的问题。在`#wrapper`id 中居中页面。侧边栏将跟随“E”，但可能需要进行一些小的更改。您应该考虑阅读有关 css 的信息 :) 希望这会有所帮助

```
#wrapper {
   margin: 0 auto;
   width: 960px
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T13:33:07.747

如果您的主要内容区域（应该是 id="wrapper" 的 div）的宽度为 960px，那么主 div 内的 div 也应该有一个宽度（但更小），比如说 700px，现在您应该放置 margin: 0 auto; 它会在中间。关于间隙，不要使用topmargin="0"，它是margin-top: 0；但它看起来像它的填充间隙，所以把 padding-top: 0; 我希望你把它写在你的 .css 文件中；) 阅读关于 css 的内容并不难，它很容易而且非常有用。希望我对你有所帮助。

# ruby-on-rails - ruby 中的格式化时间

> ID：15131029
> 
> 赞同：0
> 
> 时间：2013-02-28T08:42:48.917
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我想格式化我的时间以获得这样的东西`Feb, 10th` 我得到了一切，除了`th`日期结束的部分。有什么方法或助手可以帮助我实现这样的事情吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T08:45:37.550

你可以看看`ordinalize`方法。获取 strftime 时间格式的一种简单方法是[http://strftimer.com/](http://strftimer.com/)

```
>> 10.ordinalize # 10th 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T08:54:52.247

您可以使用[邮票](https://github.com/jeremyw/stamp)宝石。

这是我使用戳记的控制台输出：

```
1.9.3p194 :001 > date = Date.new(2013, 1, 1)
=> Tue, 01 Jan 2013 
1.9.3p194 :002 > date.stamp("Feb, 10th")
=> "Jan, 1st" 
1.9.3p194 :003 > date = Date.new(2013, 2, 25)
=> Mon, 25 Feb 2013 
1.9.3p194 :004 > date.stamp("Jan, 1st")
=> "Feb, 25th" 
```

干杯！！:-)

# c# - 收集客户端计算机和浏览器统计信息

> ID：15131030
> 
> 赞同：2
> 
> 时间：2013-02-28T08:42:48.767
> 
> 标签：c#, asp.net, browser, statistics

我们有一个 Web 应用程序，用户可以在其中将文件上传到我们的服务器。我们需要找到以下客户的详细信息，以便我们了解我们的用户群

1.  操作系统与版本
2.  带版本的浏览器

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T08:45:46.923

查看[HttpRequest.Browser](http://msdn.microsoft.com/en-us/library/system.web.httprequest.browser%28v=vs.71%29.aspx)以获取浏览器标识符。有关操作系统的信息，请参阅此[SO 帖子。](https://stackoverflow.com/questions/228256/operating-system-from-user-agent-http-header)

来自上述链接的示例：

```
HttpBrowserCapabilities bc = Request.Browser;
 Response.Write("<p>Browser Capabilities:</p>");
 Response.Write("Type = " + bc.Type + "<br>");
 Response.Write("Name = " + bc.Browser + "<br>");
 Response.Write("Version = " + bc.Version + "<br>");
 Response.Write("Major Version = " + bc.MajorVersion + "<br>");
 Response.Write("Minor Version = " + bc.MinorVersion + "<br>");
 Response.Write("Platform = " + bc.Platform + "<br>");
 Response.Write("Is Beta = " + bc.Beta + "<br>");
 Response.Write("Is Crawler = " + bc.Crawler + "<br>");
 Response.Write("Is AOL = " + bc.AOL + "<br>");
 Response.Write("Is Win16 = " + bc.Win16 + "<br>");
 Response.Write("Is Win32 = " + bc.Win32 + "<br>");
 Response.Write("Supports Frames = " + bc.Frames + "<br>");
 Response.Write("Supports Tables = " + bc.Tables + "<br>");
 Response.Write("Supports Cookies = " + bc.Cookies + "<br>");
 Response.Write("Supports VB Script = " + bc.VBScript + "<br>");
 Response.Write("Supports JavaScript = " + bc.JavaScript + "<br>");
 Response.Write("Supports Java Applets = " + bc.JavaApplets + "<br>");
 Response.Write("Supports ActiveX Controls = " + bc.ActiveXControls + "<br>");
 Response.Write("CDF = " + bc.CDF + "<br>"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T08:47:15.733

对于操作系统，请尝试：

```
Request.Browser.Platform 
```

对于带有版本的浏览器，请尝试：

```
Request.UserAgent 
```

要查看用户代理对应的内容（如果您不确定），请参考[http://www.user-agents.org/index.shtml?moz](http://www.user-agents.org/index.shtml?moz)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T08:45:32.283

检查

[Request.Browser 属性](http://msdn.microsoft.com/en-us/library/system.web.httprequest.browser.aspx)

# python - Mac Lion Python 模块 - 未安装在正确的位置

> ID：15131032
> 
> 赞同：2
> 
> 时间：2013-02-28T08:42:53.820
> 
> 标签：python, macos, osx-lion

我正在尝试升级我的一些 Python 模块 - 特别是：matplotlib、scipy 和 numpy。

我试过使用 macports 和 easy_install，但没有成功。我认为它们被安装在错误的地方..

从 macports 我得到：

```
matty$ port installed
......... snip .........
py27-ipython @0.13.1_0+scientific (active)
py27-matplotlib @1.2.0_1+tkinter (active)
py27-numpy @1.6.2_1 (active)
python27 @2.7.3_1 (active) 
```

据我从 macports 看到的，我安装了 matplotlib 1.2 版和 numpy 1.6 版。但是，当我检查 Python 时，我得到：

```
matty$ python --version
Python 2.7.3

matty$ python
>>> import numpy
>>> print numpy.__version__
1.5.1

>>> import matplotlib
>>> print matplotlib.__version__
1.0.1 
```

使用 easy_install 我得到一些沙盒错误：

```
matty$ sudo easy_install -U numpy
......... snip .........
error: SandboxViolation: open('/dev/null', 'w') {} 
```

我猜某处存在 PATH 错误 - 这是一个猜测！任何帮助深表感谢。

编辑：

```
matty$ which python
/opt/local/bin/python 
```

这是一个链接：

```
matty$ ls -l python
lrwxr-xr-x  1 root  admin  24 27 Feb 13:34 python -> /opt/local/bin/python2.7
matty$ ls -l python2.7
lrwxr-xr-x  1 root  admin  73 22 Oct 21:14 python2.7 ->   
/opt/local/Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7 
```

$Python路径：

```
matty$ echo $PYTHONPATH
/usr/local/scisoft/packages/python/lib/python2.6/site-packages/ 
```

这样做：

```
matty$ export PYTHONPATH=

matty$ python
>>> import numpy
>>> print numpy.__version__
1.6.2
>>> import matplotlib
>>> print matplotlib.__version__
1.2.0 
```

似乎奏效了！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:16:53.303

您将环境变量`$PYTHONPATH`设置为非标准位置（Macports Python 安装目录之外）。

如果您清除`$PYTHONPATH`，那么您的测试将起作用。

一旦您确认了这一点，只需找出在哪里`$PYTHONPATH`设置（可能是`~/.profile`，`~/.bash_profile`或`/etc/profile`）并删除它。

# java - 如何使用 JSTL 在 .jsp 页面中调用 java 方法

> ID：15131033
> 
> 赞同：3
> 
> 时间：2013-02-28T08:42:53.283
> 
> 标签：java, jsp, servlets, jstl

下面是我的java代码：

```
package employees;  
public class showString{    
    public String setSection(){
        String myStr = "Hello";
        return myStr ;
    }
}; 
```

如何`setSection()`使用 JSTL 在我的 jsp 页面中调用方法？我尝试了几种方法，但都没有奏效。

我已经检查过这个页面[如何避免 JSP 文件中的 Java 代码？](https://stackoverflow.com/questions/3177733/how-to-avoid-java-code-in-jsp-files)但不明白如何在 jsp 文件上调用我的方法

这将是一个很大的帮助。谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-28T09:24:53.223

您可以尝试`<jsp:usebean>`调用java bean的方法..检查下面的示例

```
package my;
public class MyBean {

  private String name=new String();

  public String getName() {
  return name;
  }
  public void setName(String name) {
  this.name = name;
  }
  } 
```

在jsp中调用setname方法

```
<jsp:useBean id="mybean" class="my.MyBean" scope="session" >
<jsp:setProperty name="mybean" property="name" value=" Hello world" />
</jsp:useBean> 
```

在jsp中调用getname方法

```
<jsp:getProperty name="mybean" property="name" /> 
```

主要要求是您的方法名称应该从 get 和 set 开始，并附加属性名称

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:08:26.600

`showString`不是方法而是类。你不能“调用”类。如果你想调用`setSection`方法，那么你可以试试`${objectYouCreated.setSection()}`

另请注意，您的代码不遵循 Java 中的大小写约定（类的名称应以大写字母开头），而且我不能 100% 确定末尾的分号是否是有效的 Java 语法，但对我来说真的很奇怪。

# objective-c - 如何修复视图控制器的旋转？

> ID：15131035
> 
> 赞同：0
> 
> 时间：2013-02-28T08:43:00.933
> 
> 标签：objective-c, uiviewcontroller, rotation, uiimagepickercontroller

我的应用程序仅使用横向。我通过 .plist 支持的界面方向修复了它。

但是，我需要使用 UIImagePickerController，它只支持纵向模式。如何在特定的视图控制器中将我的应用程序的旋转旋转为纵向？

任何提示都会非常有帮助！泰！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T08:50:10.047

请参阅博文[iPhone 编程：如何强制您的应用程序以横向模式运行](http://blog.typpz.com/2010/02/12/iphone-programming-how-to-force-your-app-to-run-in-landscape-mode/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:08:03.073

ColinE，你的意思是我应该设置如下？

所有其他视图控制器

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation 
{ 
    return (interfaceOrientation == UIInterfaceOrientationLandscapeRight || UIInterfaceOrientationLandscapeLeft); 
} 
```

并设置portarit页面

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation 
{ 
    return (interfaceOrientation == UIInterfaceOrientationPortrait); 
} 
```

# mysql - 如果其他表中不存在值，如何更新列

> ID：15131039
> 
> 赞同：0
> 
> 时间：2013-02-28T08:43:13.630
> 
> 标签：mysql, sql, join, sql-update

我有一个`board`具有唯一 column`id`和 column的表`hide`。我有另一个表，其中`pins`有一列`board_id`不是唯一的。每个pins.board_id 也在board.id 中，并且可以有多个相同的pins.board_id。

现在我需要检查每个 board.id 以查看它是否存在于任何 pins.board_id 中，如果没有设置`hide`为“1”。我想这样做的方法是连接，但是连接不只是匹配两个表中存在相同值的地方吗？

任何建议表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T08:44:38.987

使用 连接两个表`LEFT JOIN`。包含空值的列`board_id`仅表示它不存在。

```
UPDATE  board a
        LEFT JOIN pins b
            ON a.id = b.board_ID
SET     a.hide = 1
WHERE   b.board_ID IS NULL 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/d4d12/1)

# java - 描述符和签名属性之间的Java内部类不一致？（类文件）

> ID：15131040
> 
> 赞同：8
> 
> 时间：2013-02-28T08:43:18.320
> 
> 标签：java, decompiling, .class-file

我试图了解规范中是否存在 java 描述符和内部类签名之间存在差异的原因。（这里我是直接看class文件的内容，不过我用javap来说明）。

（注意，我在 JDK 1.6.0_33 和 1.7.0_05 上试过这个，*当从 Java 7 中使用 javap 查看时*，两者都有相同的问题- java 6 的 javap 似乎没有显示任何通用签名信息，根据 Sean 在下面的回答。）

更新：感谢那些讨论 - 我的看法是

*   描述符（不包含通用信息）是正确的。
*   签名（它是方法的一个属性，并且确实包含通用信息）不正确。<init> 方法的 SIGNATURE 的相关 ConstPool 条目是“ ConstantUTF8[(Ljava/util/list<TE;>)V] ”
*   Java 6 中的 Javap 不看签名，只看描述符。（我猜！）

万一有人想知道，我没有使用 JAVAP，只是自己查看类文件，我只是使用 javap 来显示它。（因此不太可能是 javap 错误）。

考虑：

```
public class InnerClassTest1 {

  public int getX() {
    return new Inner1(new ArrayList<String>()).getX(4);
  }

  public class Inner1 {
    private final List arg;

    public Inner1(List arg) {
        this.arg = arg;
    }.... 
```

对比

```
public class InnerClassTest2 {

   public int getX() {
      return new Inner1(new ArrayList<String>()).getX(4);
   }

   public class Inner1<E> {
    private final List<E> arg;

    public Inner1(List<E> arg) {
        this.arg = arg;
    }..... 
```

如果您查看内部类中 javap -cs 的输出，它们会出人意料地不同！

公共 org.benf.cfr.tests.InnerClassTest1$Inner1( **org.benf.cfr.tests.InnerClassTest1,** java.util.List); 签名：(Lorg/benf/cfr/tests/InnerClassTest1;Ljava/util/List;)V

对比

公共 org.benf.cfr.tests.InnerClassTest2$Inner1(java.util.List<E>); 签名：(Lorg/benf/cfr/tests/InnerClassTest2;Ljava/util/List;)V

...*使用泛型的那个缺少外部类的隐式参数！*（它正确存在于 InnerClassTest1 中）。

我在类文件文档中找不到任何东西来解释这一点——有人知道为什么会这样吗？

谢谢！

李。

* * *

更新 -

我已将示例文件放在[http://www.benf.org/files/innerClassTest.tgz](http://www.benf.org/files/innerClassTest.tgz "示例文件 (tgz)")

鉴于肖恩在下面的回答，我尝试在 java 6 上使用 javap，我看到两者的输出相同，没有通用信息 - 这让我相信 java 6 的 javap 没有显示完整的签名信息？

我在 1.7.0_05-b06 上使用 javap 得到的确切输出是

```
public class org.benf.cfr.tests.InnerClassTest2$Inner1<E> {
 final org.benf.cfr.tests.InnerClassTest2 this$0;
 Signature: Lorg/benf/cfr/tests/InnerClassTest2;

public org.benf.cfr.tests.InnerClassTest2$Inner1(java.util.List<E>);
 Signature: (Lorg/benf/cfr/tests/InnerClassTest2;Ljava/util/List;)V
 Code:
   0: aload_0       
   1: aload_1       
   2: putfield      #1                  // Field this$0:Lorg/benf/cfr/tests/InnerClassTest2;
   5: aload_0       
   6: invokespecial #2                  // Method java/lang/Object."<init>":()V
   9: aload_0       
  10: aload_2       
  11: putfield      #3                  // Field arg:Ljava/util/List;
  14: return        

public int getX(int);
  Signature: (I)I
  Code:
   0: iconst_2      
   1: ireturn       
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T11:30:47.093

使用上面的代码并使用 JDK 1.6.0_33 我得到以下输出：

```
src\test>javap -c -s InnerClassTest1$Inner1
Compiled from "InnerClassTest1.java"
public class test.InnerClassTest1$Inner1 extends java.lang.Object{
final test.InnerClassTest1 this$0;
  Signature: Ltest/InnerClassTest1;

public test.InnerClassTest1$Inner1(test.InnerClassTest1, java.util.List);
  Signature: (Ltest/InnerClassTest1;Ljava/util/List;)V
  Code:
   0:   aload_0
   1:   aload_1
   2:   putfield        #1; //Field this$0:Ltest/InnerClassTest1;
   5:   aload_0
   6:   invokespecial   #2; //Method java/lang/Object."<init>":()V
   9:   aload_0
   10:  aload_2
   11:  putfield        #3; //Field arg:Ljava/util/List;
   14:  return

public int getX(int);
  Signature: (I)I
  Code:
   0:   iload_1
   1:   ireturn
}

src\test>javap -c -s InnerClassTest2$Inner1
Compiled from "InnerClassTest2.java"
public class test.InnerClassTest2$Inner1 extends java.lang.Object{
final test.InnerClassTest2 this$0;
  Signature: Ltest/InnerClassTest2;

public test.InnerClassTest2$Inner1(test.InnerClassTest2, java.util.List);
  Signature: (Ltest/InnerClassTest2;Ljava/util/List;)V
  Code:
   0:   aload_0
   1:   aload_1
   2:   putfield        #1; //Field this$0:Ltest/InnerClassTest2;
   5:   aload_0
   6:   invokespecial   #2; //Method java/lang/Object."<init>":()V
   9:   aload_0
   10:  aload_2
   11:  putfield        #3; //Field arg:Ljava/util/List;
   14:  return

public int getX(int);
  Signature: (I)I
  Code:
   0:   iload_1
   1:   ireturn

} 
```

唯一的区别是我的实现有（使代码编译）：

```
 public int getX(int i) {
        return i;
    } 
```

以及您的包名称可能不同的事实（org.benf.cfr.tests ？）。

除此之外，我的输出几乎相同。代码中是否还有其他差异可以解释您所看到的内容？根据我对编译过程和类文件的了解，我不希望看到输出有所不同。

好问题 - 有趣的是找出你看到这个的原因

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T13:21:20.107

使用 Javap`InnerClassTest2$Inner1`会给出

```
Compiled from "InnerClassTest2.java"
public class org.benf.cfr.tests.InnerClassTest2$Inner1<E> {
  final org.benf.cfr.tests.InnerClassTest2 this$0;
  public org.benf.cfr.tests.InnerClassTest2$Inner1(java.util.List<E>);
  public int getX(int);
} 
```

用 Krakatau 拆解

```
.version 51 0
.source InnerClassTest2.java
.class super public org/benf/cfr/tests/InnerClassTest2$Inner1
.super java/lang/Object

.field final private arg Ljava/util/List;
.field synthetic final this$0 Lorg/benf/cfr/tests/InnerClassTest2;

.method public <init> : [_13]
    .limit stack 2
    .limit locals 3
    aload_0
    aload_1
    putfield org/benf/cfr/tests/InnerClassTest2$Inner1 this$0 Lorg/benf/cfr/tests/InnerClassTest2;
    aload_0
    invokespecial java/lang/Object <init> ()V
    aload_0
    aload_2
    putfield org/benf/cfr/tests/InnerClassTest2$Inner1 arg Ljava/util/List;
    return
.end method

.method public getX : (I)I
    .limit stack 1
    .limit locals 2
    iconst_2
    ireturn
.end method

.const [_13] = Utf8 (Lorg/benf/cfr/tests/InnerClassTest2;Ljava/util/List;)V 
```

如您所见，Krakatau 输出显示描述符实际上是正确的，但由于某种原因 Javap 没有显示它。关于 Javap 的一件事是它试图安排输出，使其看起来更像 Java。也许这是JDK7中引入的一个新特性，它试图通过隐藏编译器添加的参数来使反汇编的泛型看起来更像Java。不幸的是，这使得 Javap（甚至更多）对于查看真正存在的内容毫无用处。

有趣的收获！

# c# - 将密码更改为 RODC Active Directory

> ID：15131046
> 
> 赞同：0
> 
> 时间：2013-02-28T08:43:37.033
> 
> 标签：c#, .net, active-directory

我正在创建一个 web 部件，我在其中编写代码来更改当前上下文用户的活动目录密码，但我收到此错误：

> 由于限制，无法更改密码：无法从域控制器读取配置信息，原因可能是机器不可用或访问被拒绝。（来自 HRESULT 的异常：0x80070547）

我正在使用`AccountManagement`命名空间，使用`PrincipalContext`/`UserPrincipal`并且它成功连接到 Active Directory，但是当我调用它的 ChangePassword 方法时，它会出错。

管理员说 Active Directory 是只读的，请告诉我如何使用 RODC（只读域控制器）更改 Active Directory 密码

谢谢

# testing - 如何在阿里巴巴 B2B 交易者脚本中使用 Nochex 支付网关测试支付？

> ID：15131047
> 
> 赞同：0
> 
> 时间：2013-02-28T08:43:44.007
> 
> 标签：testing, payment-gateway

我在 Nochex 支付网关中遇到问题，在测试模式下测试支付。

我已设置以下详细信息但无法正常工作。

```
 echo '<form action="https://www.nochex.com/nochex.dll/checkout" name="form1" id="frm1" method="post"><input type="hidden" name="email" value="'.$rowsettings['nochex'].'">';
            echo '<input type="hidden" name="amount" value="'.$rowsettings['goldmemberfee'].'">';
            echo '<input type="hidden" name="ordernumber" value="'.$_SESSION['SellerID'].'">';
            echo '<input type="hidden" name="description" value="Gold Member Update for '.$_SESSION['BusinessEmail'].'">'; 
            echo '<input type="hidden" name ="test_transaction" value="100">';
            echo '<input type="hidden" name ="test_success_url" value= "successurl">';                  
            echo "<input type='hidden' name='returnurl' value='".$rowsettings['url']."/goldmember.php?ncid=".$_SESSION['SellerID']."'>";
            echo "<input type='hidden' name='cancelurl' value='".$rowsettings['url']."/fail.php'>";
            echo "."; 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T08:58:03.833

您使用的是旧版本的 Nochex Checkout，它仍然可以工作，但不是最佳实践。本文档将向您展示如何升级到新的付款页面系统：

[https://esupport.nochex.com/index.php?_m=downloads&_a=viewdownload&downloaditemid=4&nav=0,12](https://esupport.nochex.com/index.php?_m=downloads&_a=viewdownload&downloaditemid=4&nav=0,12)

这基本上是更改表单发布到的地址和一些变量的名称的情况。

您的新表单应如下所示：

```
 echo '<form method="POST" action="https://secure.nochex.com" name="form1" id="frm1">';
    echo '<input type="hidden" name="merchant_id" value="'.$rowsettings['nochex'].'">';
    echo '<input type="hidden" name="amount" value="'.$rowsettings['goldmemberfee'].'">';
    echo '<input type="hidden" name="order_id" value="'.$_SESSION['SellerID'].'">';
    echo '<input type="hidden" name="description" value="Gold Member Update for '.$_SESSION['BusinessEmail'].'">';
    echo '<input type="hidden" name="test_transaction" value="100">';
    echo '<input type="hidden" name="test_success_url" value= "successurl">';
    echo '<input type='hidden' name='success_url' value='".$rowsettings['url']."/goldmember.php?ncid=".$_SESSION['SellerID']."'>';
    echo '<input type='hidden' name='cancel_url' value='".$rowsettings['url']."/fail.php'>';
    echo '</form>'; 
```

# sql - 在用户定义的函数中返回列名而不是值 SQL

> ID：15131048
> 
> 赞同：0
> 
> 时间：2013-02-28T08:43:55.677
> 
> 标签：sql, sql-server-2008-r2, user-defined-functions

我有一个表，其中有 40 多列都存储在 varchar 中。某些列也包含数字或日期的数据。

我有一个用户定义的函数，它将列名和数据类型作为参数，并尝试验证列中的数据。

如果验证失败，它应该返回一条消息说“列名不是数字或缺失”。但是它返回“值不是数字或缺失”。

函数代码为：

```
create function [dbo].[fn_Polaris_Validate_Staging_Data](@ColumnName varchar(max), @TargetValidation varchar(max))
returns varchar(max)
AS
Begin
Declare @Remark varchar(max);
    if(@TargetValidation = 'Standard' and @ColumnName is null)
    BEGIN
        select @Remark = @ColumnName + ' is not provided.'
        return @Remark
    END
    if(@TargetValidation = 'NumericType' and ISNUMERIC(@ColumnName) = 0)
    BEGIN
        select @Remark = @ColumnName + ' is not numeric or not provided.'
        return @Remark
    END
    if(@TargetValidation = 'DateType' and ISDATE(@ColumnName) = 0)
    BEGIN
        select @Remark = @ColumnName + ' is not proper date or not provided.'
        return @Remark
    END
    return isnull(@Remark, '')
END 
```

我的表中有一个名为“备注”的列，用于保存此备注。这是我在更新查询中使用此函数的方式：

```
UPDATE TABLE TABLE1
SET remarks = isnull(remarks,'') +
              function(Interest, 'NumericType') +
              function(Asset, 'Standard') +
              function(Date, 'DateType') 
```

任何帮助将不胜感激。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T12:54:20.463

using`ISNUMERIC(@variable)`仅适用于该@variable 的字符串内容，它不会引用字符串中的任何列名。

```
declare @col as varchar(max)
set @col = '1'
select ISNUMERIC(@col)
= 1

declare @col as varchar(max)
set @col = 'table.id'
select ISNUMERIC(@col)
= 0 - regardless of the type of table.id 
```

也许这会有用？

```
SELECT DATA_TYPE FROM information_schema.columns 
WHERE Table_Name='mytable' and Column_Name='mycolname' 
```

# ruby-on-rails - 竖起大拇指 Gem - 找不到 id=vote_up 的帖子

> ID：15131049
> 
> 赞同：2
> 
> 时间：2013-02-28T08:44:03.623
> 
> 标签：ruby-on-rails

我是 ROR 的新手，我正在努力通过浏览所有 stackoverflow 和 github 页面来解决这个问题，我保证我已经浏览了所有这些页面，但仍然找不到解决我的问题的方法。我希望你们能帮助我。

问题是，在我实现 thumbs_up gem 之后，我在这里按照 Brady 的说明进行操作： [Clarification on how to use "thumbs_up" vote gem with Rails 3](https://stackoverflow.com/questions/4907744/clarification-on-how-to-use-thumbs-up-voting-gem-with-rails-3)

但是我的查看页面会有错误信息：

```
No route matches {:action=>"vote_up", :controller=>"posts", :id=>nil} 
```

我检查了 rake 路线，并且 vote_up_post 路径在那里，所以我试着去

```
http://0.0.0.0:3000/posts/vote_up and this shows up:

ActiveRecord::RecordNotFound in PostsController#show
Couldn't find Post with id=vote_up 
```

这是我的观点 - index.html.erb

```
<%= link_to('vote for this post!', vote_up_post_path(@post), :method => :post) %> 
```

post_controller.rb

```
def vote_up
begin
current_user.vote_for(@post = Post.find(params[:id]))
render :nothing => true, :status => 200
rescue ActiveRecord::RecordInvalid
render :nothing => true, :status => 404
end
end 
```

模型 - user.rb

```
# Include default devise modules. Others available are:
# :token_authenticatable, :confirmable,
# :lockable, :timeoutable and :omniauthable
devise :database_authenticatable, :registerable,
:recoverable, :rememberable, :trackable, :validatable

# Setup accessible (or protected) attributes for your model
attr_accessible :email, :password, :password_confirmation, :remember_me
# attr_accessible :title, :body

acts_as_voter 
```

模型 - post.rb

```
attr_accessible :title, :source, :description, :imageurl, :link

validates :title, presence: true, uniqueness:true, length: { maximum: 70 }
validates :source, presence: true, length: { maximum: 20 }
validates :description, presence: true, length: { maximum: 240 }
validates :imageurl, presence: true
validates :link, presence: true

default_scope order: 'posts.created_at DESC'

acts_as_voteable 
```

路线.rb

```
devise_for :users

resources :posts do
member do
post :vote_up
end
end

devise_scope :user do
get "sign_in", :to => "devise/sessions#new"
get "sign_out", :to => "devise/sessions#destroy"
get "sign_up", :to => "devise/registrations#new"
end

resources :submissions

match '/submit', to: 'submissions#new'
match '/post', to: 'posts#new' 
```

抱歉问了这么愚蠢的问题，非常感谢你们的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T08:57:48.630

你得到的错误

```
No route matches {:action=>"vote_up", :controller=>"posts", :id=>nil} 
```

来自一线

```
<%= link_to('vote for this post!', vote_up_post_path(@post), :method => :post) %> 
```

路由器尝试查找 id 为 nil 的路由，这里您的 id 是“@post”。首先要做的是搜索@post 变量的来源，并检查它是否为零。删除link_to并设置一个简单的

```
<%= @post.inspect %> 
```

就在您的视图顶部会回答您：如果您的页面显示“nil”，@post 未在您的控制器上初始化:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:02:11.223

改变你`routes.rb`有：

```
resources :posts do
  collection do
    get :vote_up
  end
end 
```

错误`Couldn't find Post with id=vote_up`说 the`vote_up`是您的帖子控制器的成员，而不是。

因此，如果您将操作`vote_up`作为**集合**类型而不是**成员**，那么一切都会好起来的。

现在，如果您点击网址：

```
http://0.0.0.0:3000/posts/vote_up 
```

这显示了：

`vote_up`将不再被视为 id。

`ActiveRecord::RecordNotFound`是因为`vote_up`被视为您的帖子模型的成员ID。并试图`vote_up`在您的**帖子模型**中找到作为 id 的记录会给您**找不到记录**，因为它永远不会是您的 id。

# angularjs - 如何使用指令变量和父范围进行双向绑定？

> ID：15131053
> 
> 赞同：1
> 
> 时间：2013-02-28T08:44:12.180
> 
> 标签：angularjs

我想创建一个名为 form-field 的简单指令。指令如下：表单标签、表单输入、表单错误文本框的分组。我的目标是创建一个指令，可以在一行中包含所有这些。

```
 <form-field label="Username:" regex="^[a-z]{5,7}$" constrainsViolationMessage="username should be between 5 and 7 chars" model="username" place-holder="username"> </form-field> 
```

我遇到的问题是我无法将输入变量值绑定到父范围变量。

在小提琴中，绑定到父范围根本不起作用，在 localhost 上，指令变量在父范围变量之后！例如，如果绑定变量为 123，则父范围变量为 12。

[这是一个小提琴，我希望有人能帮助我一些建议。](http://jsfiddle.net/Cuya7/14/)

在本地主机上，问题在于指令范围是父范围之后的一步，下图描述了问题。

![在此处输入图像描述](../Images/6ca5774373b1f6d9b49b6186299a63a0.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T11:29:56.207

好的，我解决了这个问题，看看stevie 的第一条评论。关于第二个问题，如图，好像angular.1.0.2有bug。如果您选择 angular.1.0.2 然后尝试在框中写一些东西，输入框文本是父范围绑定之后的一个字符。切换到 angular.1.0.3 或 angular.1.0.4 一切顺利。

# java - Jsoup从页面解析html标签

> ID：15131055
> 
> 赞同：0
> 
> 时间：2013-02-28T08:44:37.090
> 
> 标签：java, html, parsing, jsoup

我正在尝试解析页面（任何页面动态解析器​​）。代码是

```
Elements title = doc.select("title");
Elements metades = doc.select("meta[name=description]"); 
```

如您所见，我想提取标题标签。

它在几乎每个网站上都可以正常工作，例如hindroid.com 但它无法从 google.com 和 youtube.com 解析标题我认为这是由于两个标签之间没有空格。大多数大型网站在 html 中没有空间以节省带宽。请建议我 - 我想从网站解析 html。

完整代码：

```
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.sql.*;
import java.util.regex.*;

import org.jsoup.Jsoup;
import org.jsoup.helper.Validate;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;

public class post_link extends HttpServlet 
{
@Override
public void doGet(HttpServletRequest request, HttpServletResponse response)
throws IOException, ServletException
{

response.setContentType("text/html");
PrintWriter out = response.getWriter();

try 
{
//out.println("<link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" /><script src=\"http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.6.3.min.js\"></script><script src=\"jquery-social.js\"></script>");
String linktopro = "http://"+request.getParameter("link_topro");
//String linktopro = "http://hinddroid.com";
Document doc = Jsoup.connect(linktopro).userAgent("Mozilla/5.0 (Windows; U; WindowsNT 5.1; en-US; rv1.8.1.6) Gecko/20070725 Firefox/2.0.0.6").timeout(3000).get();
Elements png = doc.select("img[src]");
Elements title = doc.select("title:first-child");
//Elements title = doc.title();
Elements metades = doc.select("meta[name=description]");
Pattern p1 = Pattern.compile("http://.*|.com*?.(com)");

out.println("<script> var myCars=new Array(");

for(Element pngs : png)
{
Matcher m1 = p1.matcher(pngs.attr("src"));
boolean url = m1.matches();
String baseurl = "";
//out.println(url+"");
if(url)
{ baseurl = ""; }
else
{ baseurl = linktopro; }

out.println("\""+baseurl+""+pngs.attr("src")+"\",");
}
out.println("\"\"");
out.println(");</script>");

String outlink = "<div class=\"linkembox\">"+
"<div class=\"linkembox-img\">"+
"<img src=\"http://hinddroid.com/img/logo.gif\" width=\"150\" height=\"120\" />"+
"<br/><div id=\"linkimg-left\"><</div><div id=\"linkimg-right\">></div>"+
"</div>"+
"<div class=\"linkembox-text\">"+
"<div class=\"h\">"+title.html()+"</div><br/>"+
"<div class=\"h1\">"+metades.attr("content")+"</div>"+
"</div>"+
"</div>";
out.println(outlink);
out.print("<script> left(myCars); </script>");

}
catch(Exception ex)
{
out.print(ex);
} 
finally 
{
out.close();
}

}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T00:40:10.277

我执行选择器，没关系。一点问题都没有！

```
public static void main( String[] args ) throws IOException
{
    Document doc = Jsoup.connect("http://facebook.com").get();

    System.out.println("Title: " + doc.title());
    System.out.println("Meta Description: " + doc.select("meta[name=description]").first().attr("content"));

} 
```

使用`google.com`，您只能获得`<title>`，而不是`<meta name=description...`因为它不在 HTML 源代码中。

# menu - 如何在 Eclipse RCP 中的子窗口菜单后添加自定义菜单？

> ID：15131059
> 
> 赞同：0
> 
> 时间：2013-02-28T08:44:49.653
> 
> 标签：menu, eclipse-plugin, eclipse-rcp

*我在“窗口”*菜单下有一个子菜单，我想在它下面添加我的自定义菜单。

我可以使用 menuContribution 的**LocationURI:menu:window?after=additions在***“Window”*菜单下添加我的自定义菜单。

 **问题是使用此行在 ActionBarAdvisor 类上生成子菜单

```
@Override
protected void fillWindowMenu(IMenuManager windowMenu) {
    IWorkbenchWindow window = getActionBarConfigurer().getWindowConfigurer().getWindow();

    windowMenu.add(new GroupMarker(IWorkbenchActionConstants.WB_START));

    IMenuManager perspectiveMenu = new MenuManager(
            lineer.toplulastirma.Messages.ToplulastirmaActionBarAdvisor_4,
            ContributionItemFactory.PERSPECTIVES_SHORTLIST.getId());
    perspectiveMenu.add(ContributionItemFactory.PERSPECTIVES_SHORTLIST.create(window));
    windowMenu.add(perspectiveMenu);

    IMenuManager viewMenu = new MenuManager(lineer.toplulastirma.Messages.ToplulastirmaActionBarAdvisor_5,
                ContributionItemFactory.VIEWS_SHORTLIST.getId());
    viewMenu.add(ContributionItemFactory.VIEWS_SHORTLIST.create(window));
    windowMenu.add(viewMenu);
    windowMenu.add( new Separator());
} 
```

所以我不知道如何访问它的**id**来编辑我的*LocationURI*。

我试过这些：

**menu:window?after=lineer.toplulastirma.Messages.ToplulastirmaActionBarAdvisor_5**

**菜单：lineer.toplulastirma.Messages.ToplulastirmaActionBarAdvisor_5?after=additions**

**menu:viewMenu?after=添加**

**菜单：窗口？之后=viewMenu**

他们没有工作。**

# jquery - Google Analytics 中的折线图

> ID：15131060
> 
> 赞同：0
> 
> 时间：2013-02-28T08:45:04.113
> 
> 标签：jquery, google-visualization

嗨，伙计们最近刚刚学习了 Google 可视化，但遇到了麻烦。目前，绘制的图表与我想要的相比有点小。当我尝试设置`width`and `height`under 选项时，它为我提供了所需的大小，但代价是下面的日期重叠。关于我应该如何解决这个问题的任何想法？

[图表的当前大小](http://postimage.org/image/qsn843n6p/)| [所需的图表大小](http://postimage.org/image/u230wm5g1/)

下面是我的代码：

```
var manWindowWidth = $(window).width() / 1.25; // Gives me 1152
var manWindowHeight = $(window).height() / 1.25; // Gives me 668.8

var options = {
    title: 'Performance',
    pointSize: 5,
    //width: manWindowWidth,
    //height: manWindowHeight,
    hAxis: {title: 'Dates', titleTextStyle: {color: '#FF0000'}},
    vAxis: {title: 'Visits', titleTextStyle: {color: '#FF0000'}},
    tooltip: {trigger: 'hover'}
}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T08:53:47.493

当我遇到同样的问题时，我使文本标签倾斜（就像在你的小图表中一样）。尝试设置`hAxis.slantedText`为 true 和`hAxis.slantedTextAngle`大约 40。

示例代码：

```
var manWindowWidth = $(window).width() / 1.25; // Gives me 1152
var manWindowHeight = $(window).height() / 1.25; // Gives me 668.8

var options = {
    title: 'Performance',
    pointSize: 5,
    width: manWindowWidth,
    height: manWindowHeight,
    hAxis: {title: 'Dates', titleTextStyle: {color: '#FF0000'}, slantedText: true, slantedTextAngle: 40},
    vAxis: {title: 'Visits', titleTextStyle: {color: '#FF0000'}},
    tooltip: {trigger: 'hover'}
}; 
```

编辑：在您的第一个图表中，`hAxis.showTextEvery`自动设置为 3。也尝试使用该值。

# exception - PHPExcel 致命错误：未捕获的异常“异常”，消息“公式错误：意外，”

> ID：15131065
> 
> 赞同：1
> 
> 时间：2013-02-28T08:45:12.123
> 
> 标签：exception, excel-formula, export-to-excel, average, phpexcel

我在谷歌上搜索过，但我找不到任何解决方案。
我想要做的是用 php 从报告中制作一个 excel5 导出文件。

每当我尝试平均时间时，我都会收到以下错误：

```
Fatal error: Uncaught exception 'Exception' with message 'myexcelsheet!F38 -> Formula Error: Unexpected ,' 
```

这是给出错误的公式：

```
=SUM(F9:F36)/COUNTIF(F9:F36, "*" & "<>00:00:00" & "*") 
```

单元格数据类型是时间。使用 COUNT 可以正常工作，但需要忽略 00:00:00 次。

这是包括：

```
require_once("PHPExcel/Classes/PHPExcel.php");
require_once("PHPExcel/Classes/PHPExcel/Writer/Excel5.php");
require_once 'PHPExcel/Classes/PHPExcel/Cell/AdvancedValueBinder.php'; 
```

整个错误：

```
Fatal error: Uncaught exception 'Exception' with message 'myexcelsheet!F38 -> Formula Error: Unexpected ,' in /path/to/PHPExcel/Classes/PHPExcel/Cell.php:293 Stack trace: #0 /path/to/PHPExcel/Classes/PHPExcel/Worksheet.php(702): PHPExcel_Cell->getCalculatedValue() #1 /path/to/PHPExcel/Classes/PHPExcel/Writer/Excel5/Worksheet.php(295): PHPExcel_Worksheet->calculateColumnWidths() #2 /path/to/PHPExcel/Classes/PHPExcel/Writer/Excel5.php(194): PHPExcel_Writer_Excel5_Worksheet->close() #3 /path/to/rep-functions.php(985): PHPExcel_Writer_Excel5->save('/path/t...') #4 /path/to/report.php(462): export_excel(Array, Array, 'report.ph...', Array, Array, Array) #5 {main} thrown in /path/to/PHPExcel/Classes/PHPExcel/Cell.php on line 293 
```

这是我从 testFormula 函数中得到的

```
公式值为=SUM(F9:F36)/COUNTIF(F9:F36,"*" & "00:00:00" & "*")  
期望值未知  
解析器堆栈：-

大批
(
    [0] => 数组
        (
            [类型] => 单元格参考
            [值] => F9
            [参考] => F9
        )

    [1] => 数组
        (
            [类型] => 单元格参考
            [值] => F36
            [参考] => F36
        )
    [2] => 数组
        (
            [类型] => 二元运算符
            [价值] =>：
            [参考] =>
        )

    [3] => 数组
        (
            [type] => 函数 SUM() 的操作数计数
            [值] => 1
            [参考] =>
        )

    [4] => 数组
        (
            [类型] => 功能
            [值] => 总和（
            [参考] =>
        )

    [5] => 数组
        (
            [类型] => 单元格参考
            [值] => F9
            [参考] => F9
        )

    [6] => 数组
        (
            [类型] => 单元格参考
            [值] => F36
            [参考] => F36
        )

    [7] => 数组
        (
            [类型] => 二元运算符
            [价值] =>：
            [参考] =>
        )

    [8] => 数组
        (
            [类型] => 值
            [值] => "*"
            [参考] =>
        )

    [9] => 数组
        (
            [类型] => 值
            [值] => "00:00:00"
            [参考] =>
        )

    [10] => 数组
        (
            [类型] => 二元运算符
            [价值] => &
            [参考] =>
        )

    [11] => 数组
        (
            [类型] => 值
            [值] => "*"
            [参考] =>
        )

    [12] => 数组
        (
            [类型] => 二元运算符
            [价值] => &
            [参考] =>
        )

    [13] => 数组
        (
            [type] => 函数 COUNTIF() 的操作数计数
            [值] => 2
            [参考] =>
        )

    [14] => 数组
        (
            [类型] => 功能
            [值] => COUNTIF(
            [参考] =>
        )

    [15] => 数组
        (
            [类型] => 二元运算符
            [价值] => /
            [参考] =>
        )

)
计算引擎错误：工作表！F38 -> 公式错误：意外，  
评估日志：  
大批    
(  
)  

```

如果您需要更多信息，请与我们联系。

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:10:51.913

使用该函数调试计算引擎：

```
function testFormula($sheet,$cell) {
    $formulaValue = $sheet->getCell($cell)->getValue();
    echo 'Formula Value is' , $formulaValue , PHP_EOL;
    $expectedValue = $sheet->getCell($cell)->getOldCalculatedValue();
    echo 'Expected Value is '  , ((!is_null($expectedValue)) ? $expectedValue : 'UNKNOWN') , PHP_EOL;

     PHPExcel_Calculation::getInstance()->writeDebugLog = true;
    $calculate = false;
    try {
        $tokens = PHPExcel_Calculation::getInstance()->parseFormula($formulaValue,$sheet->getCell($cell));
        echo 'Parser Stack :-' , PHP_EOL;
        print_r($tokens);
        echo PHP_EOL;
        $calculate = true;
    } catch (Exception $e) {
        echo 'PARSER ERROR: ' , $e->getMessage() , PHP_EOL;

        echo 'Parser Stack :-' , PHP_EOL;
        print_r($tokens);
        echo PHP_EOL;
    }

    if ($calculate) {
        try {
            $cellValue = $sheet->getCell($cell)->getCalculatedValue();
            echo 'Calculated Value is ' , $cellValue , PHP_EOL;

            echo 'Evaluation Log:' , PHP_EOL;
            print_r(PHPExcel_Calculation::getInstance()->debugLog);
            echo PHP_EOL;
        } catch (Exception $e) {
            echo 'CALCULATION ENGINE ERROR: ' , $e->getMessage() , PHP_EOL;

            echo 'Evaluation Log:' , PHP_EOL;
            print_r(PHPExcel_Calculation::getInstance()->debugLog);
            echo PHP_EOL;
        }
    }
} 
```

您需要将工作表对象和单元格 ID 作为参数传递，它会生成有关词法分析器和解析器如何评估公式的详细日志

# java - PdfBox：从 bmp 创建 pdf 时的问题

> ID：15131067
> 
> 赞同：3
> 
> 时间：2013-02-28T08:45:13.473
> 
> 标签：java, bitmap, pdfbox

生成 PDF 表单 BMP 时，结果总是古玩。

输入“hellowworld.bmp”

![输入文件：helloworld.bmp](../Images/26417658722253ea78ac1741d754bbec.png)

输出（仅相关部分） ![结果文件](../Images/b2743cfb3915ca4382a1451ee253a96f.png)

*   为什么会有质量损失
*   为什么重复三遍
*   为什么有一个黑色方块（绿框）

下面是我如何测试它：

```
@Test
public final void testWriteSingleBMPtoPDF() throws IOException {
    Assert.assertTrue("File existst", TestFileHelper.getBMP(BMPS.HELLOWORLD).exists());
    Assert.assertTrue("File readable", TestFileHelper.getBMP(BMPS.HELLOWORLD).canRead());
    ArrayList<File> doc = new ArrayList<EncodedPage>();
    doc.add(createPage(BMPS.HELLOWORLD));
    File result = null;
    try {
        result = ConvertPDF.bmpToPDF(doc);
    } catch (COSVisitorException e) {
        e.printStackTrace();
    }
    Assert.assertTrue("File existst", result.exists());
    Assert.assertTrue("File readable", result.canRead());
    System.out.println("Please Check >"+result+"<");
} 
```

这是我的java实现的一部分

```
public static File bmpToPDF(ArrayList<File> inputDoc)
        PDDocument document = new PDDocument();
        String saveTo = "C:\\temp\\" + System.currentTimeMillis() + ".pdf";
        for (File bmpPage : inputDoc) {
            PDPage page = null;
            PDXObjectImage ximage = null;
            page = new PDPage();
            document.addPage(page);
            BufferedImage awtImage = ImageIO.read(bmpPage);
            ximage = new PDPixelMap(document, awtImage);
            PDPageContentStream content = new PDPageContentStream(document, page);
            content.drawImage(ximage, 0, 0);
            content.close();
        }
        document.save(saveTo);
        document.close();
return new File(saveTo) ; 
```

Apache PDFBox 的版本是 1.7.1

# linker - Solaris 10 中的动态库链接问题（32 位和 64 位）

> ID：15131069
> 
> 赞同：0
> 
> 时间：2013-02-28T08:45:20.857
> 
> 标签：linker, 64-bit, solaris, 32bit-64bit, 32-bit

all：
我的 Solaris 中有 2 个动态库：

```
/usr/local/lib/amd64/libhiredis.so (64-bit)
/usr/local/lib/libhiredis.so (32-bit) 
```

我想编译我的 64 位程序，所以我应该链接 /usr/local/lib/amd64/libhiredis.so。

我使用两种方法：

```
/usr/sfw/bin/gcc -m64 -o monitor monitor.c -L/usr/local/lib/amd64 -lhiredis -lpthread -lrt -lsocket -lnsl -lresolv
/usr/sfw/bin/gcc -m64 -o monitor monitor.c /usr/local/lib/amd64/libhiredis.so -lpthread -lrt -lsocket -lnsl -lresolv 
```

但我发现该程序总是与 /usr/local/lib/libhiredis.so（32 位）链接。我不知道原因。

有人可以帮我吗？非常感谢！

最好的问候
南肖

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-02T05:34:03.797

> 但我发现该程序总是与 /usr/local/lib/libhiredis.so（32 位）链接。

不，你**没有**发现。

您发现了其他东西，您将其*误*认为是与 32 位库链接。

# javascript - 检查字符串是否包含换行符

> ID：15131072
> 
> 赞同：31
> 
> 时间：2013-02-28T08:45:35.687
> 
> 标签：javascript, jquery

因此，我必须获取 textarea 的 HTML 并检查它是否包含换行符。我如何查看它是否包含`\n`，因为使用返回的字符串`val()`不包含`\n`并且我无法检测到它。我尝试使用`.split("\n")`但它给出了相同的结果。如何做呢 ？

一分钟，IDK 为什么当我将`\n`textarea 作为值添加时，它会中断并移至下一行。

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2013-02-28T08:47:45.500

HTML 中的换行符不由`\n`or表示`\r`。它们可以以多种方式表示，包括`<br>`元素，或任何跟随另一个（`<p></p><p></p>`例如）的块元素。

如果您使用 a `textarea`，您*可能会*发现`\n`or `\r`(or `\r\n`) 用于换行，因此：

```
var text = $("#theTextArea").val();
var match = /\r|\n/.exec(text);
if (match) {
    // Found one, look at `match` for details, in particular `match.index`
} 
```

[实例](http://jsbin.com/eyaroc/1)| [来源](http://jsbin.com/eyaroc/1/edit)

...但这只是`textarea`s，而不是一般的 HTML 元素。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-02-28T08:49:07.097

```
var text = $('#total-number').text();
var eachLine = text.split('\n');
  alert('Lines found: ' + eachLine.length);
  for(var i = 0, l = eachLine.length; i < l; i++) {
      alert('Line ' + (i+1) + ': ' + eachLine[i]);
  } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2021-01-06T12:09:52.513

你可以简单地使用这个

var numberOfLineBreaks = (enteredText.match(/\n/g)||[]).length;

# c - 指向结构 argv 赋值的指针

> ID：15131073
> 
> 赞同：1
> 
> 时间：2013-02-28T08:45:37.297
> 
> 标签：c, struct, segmentation-fault, memcpy, argv

我一直在尝试分配`argv[x]`给变量指向的结构。我编写了以下代码并遇到分段错误，我知道这是内存违规。我不明白我在哪里犯了错误。这是代码：

```
#include <string.h>
#include <stdlib.h>
#include <errno.h>
#include <stdio.h>
typedef struct somestruct {
   char name[20];
   char surname[20];
   char misc[4056];
} somestruct;

int
main(int argc, char *argv[])
{
   somestruct *pvar;
   pvar = malloc(sizeof(somestruct));
   if (pvar==NULL)
      printf("malloc failed with: %s\n", strerror(errno));
   pvar = (somestruct *)  memset(pvar, 0, sizeof(somestruct));

   memcpy((char *) &(pvar->name), argv[1], 20);
   memcpy((char *) &(pvar->surname), argv[2], 20);
   memcpy((char *) &(pvar->misc), argv[3],4056);

   return 0;
} 
```

先感谢您。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T08:51:30.623

更正您的代码，`&`在 memcpy 中删除：

```
 memcpy((char *) (pvar->name), argv[1], 20);
   memcpy((char *) (pvar->surname), argv[2], 20);
   memcpy((char *) (pvar->misc), argv[3],4056); 
```

此外，您正在应对`pvar`从`argv`. memccpy 的语法是：

```
void *memcpy( void *to, const void *from, size_t count ); 
```

其中`count`字符从数组`from`到数组`to`。

所以

*   memcpy 函数中的第三个参数应该是长度，`argv[i]` *但不是*20、20、4056，
*   还要添加 null `'\0'`。

喜欢：

```
 memcpy((char *) (pvar->name), argv[1], strlen(argv[1]));
   pvar->name[strlen(argv[1]) + 1] = '\0';
   memcpy((char *) (pvar->surname), argv[2], strlen(argv[2]));
   pvar->surname[strlen(argv[2]) + 1] = '\0';
   memcpy((char *) (pvar->misc), argv[3],strlen(argv[3]));
   pvar->misc[strlen(argv[3]) + 1] = '\0'; 
```

# javascript - 覆盖在谷歌地图上的叠加层上

> ID：15131075
> 
> 赞同：1
> 
> 时间：2013-02-28T08:45:40.150
> 
> 标签：javascript, html, google-maps

如何在 Google 地图的叠加层上创建叠加层？

可以在 Google 地图中创建自定义叠加层，我成功地创建了图像叠加层。现在我想在我创建的叠加层上创建另一个叠加层，我该如何继续？

# c# - 在运行时将不同数量的参数传递给 params 方法

> ID：15131088
> 
> 赞同：2
> 
> 时间：2013-02-28T08:46:07.597
> 
> 标签：c#

我有方法`params object[] args`并希望根据条件在运行时传递参数。它可以是零个对象或一、两个对象参数。

如何`params object[] args`在运行时构建？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-28T08:48:47.473

最简单的方法是`List<object>`使用您想要传递的参数填充 a，然后`ToArray()`在调用 vararg 方法之前调用它。`List<T>`可以动态增长，让您根据需要容纳尽可能多的参数。这是一个假设的示例，它传递一个包含七个参数的数组：

```
var args = new List<object>();
args.Add(firstArg);
args.Add(secondArg);
for (int i = 0 ; i != 5 ; i++) {
    args.Add(i);
}
MyMethodWithVarArgs(args.ToArray()); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-28T08:49:42.610

使用一个简单的对象数组...

例如，具有此签名的方法

```
public void DoSomething(params object[] args) 
```

可以这样称呼

```
object[] args = new object[] {"Hello", "World", 123};
DoSomething(args); 
```

可以在运行时轻松构建数组（例如，使用 List）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T09:05:04.073

我可能遗漏了一些东西，但是为什么不能根据您提到的条件直接使用所需的参数直接调用该方法？您不需要将它们放入数组中（除非您已经将它们放入数组中，但是您只需传递数组......）。

例如，给定：

```
public static void Method(params object[] args)
{
} 
```

你可以做：

```
if (condition1)
{
    Method();
}
else if (condition2)
{
    Method("arg");
}
else
{
    Method("arg1", "arg2");
} 
```

# javascript - JS 文本循环按钮

> ID：15131090
> 
> 赞同：-2
> 
> 时间：2013-02-28T08:46:19.827
> 
> 标签：javascript, html, css

[我以http://jsfiddle.net/5NUPn/5/](http://jsfiddle.net/5NUPn/5/)的形式得到了我上一个问题的答案，但是当我将代码放到我的普通 html 页面时，它的播放效果不一样。请让我知道我在哪里做错了...

下面是我的 HTML 中的代码

```
<!DOC html>
<html>
<head>
<script type="text/javascript">
var messages = [
    'Messages for <em>kindergarden</em> class',
    'Message for <em>1st grade</em>',
    'Message for <em>2nd grade</em>',
    'Message for <em>3rd grade</em>',
    'Message for <em>4th grade</em>',
    'Message for <em>5th grade</em>',
    'Message for <em>6th grade</em>'
];

var msgPtr = 0;
var player;
function nextMsg(direction, loop) {
    msgPtr = msgPtr + direction;
    if (msgPtr < 0) { msgPtr = messages.length-1; }
    if (msgPtr > messages.length-1) { msgPtr = 0; }
    document.getElementById('msg').innerHTML = messages[msgPtr];
    if(loop){
        player = setTimeout(function(){ nextMsg(1, true); }, 1000);
    }
}
function toggleMsg()
{
    clearTimeout(player);
}
nextMsg(0, true);

$(function(){
    $('.prev').click(function(){
       clearTimeout(player);
        nextMsg(-1, false);
        $('.playpause').removeClass('playing').addClass('stopped').text('play');
    });
    $('.next').click(function(){
        clearTimeout(player);
        nextMsg(1, false);
        $('.playpause').removeClass('playing').addClass('stopped').text('play');
    });
    $('.playpause').click(function(){
       if($(this).hasClass('stopped'))
       {
           nextMsg(0, true);
           $(this).removeClass('stopped').addClass('playing').text('pause');
       }
        else
        {
            clearTimeout(player);
            $(this).removeClass('playing').addClass('stopped').text('play');
        }
    });
});
</script>

    <style type="text/css">
        em { color:orange; }
        #msg { 
            font-family:monospace; 
            background-color:yellow;
            font-size:1em; 
            border:1px dotted red; 
            overflow:hidden;
        /*float: left;*/
        }
        #buttons { /*float: right;*/ }
    </style>

</head>
<body>
    <div id="msg"></div>
    <div id="buttons">
        <button class="prev">&lt;</button>
        <button class="playpause playing">pause</button>
        <button class="next">&gt;</button>
    </div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:58:45.313

尝试将 Javascript 块移动到 body 元素的底部：

```
<html>
<head>
  <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
  <script src="http://code.jquery.com/jquery-migrate-1.1.1.min.js"></script>
</head>

<body>

  <!-- divs and buttons go here -->

<script>

  // Javascript goes here

</script>

</body>
</html> 
```

# sublimetext3 - 如何将“一行html”格式化为崇高的漂亮文档？

> ID：15131093
> 
> 赞同：10
> 
> 时间：2013-02-28T08:46:24.127
> 
> 标签：sublimetext3

我有一个仅包含一行的 html 源文件，如下所示：

```
<html><head>test</head><body>wow</body></html> 
```

，我想将其格式化如下：

```
<html>
    <head>
        test
    </head>
    <body>
        wow
    </body>
</html> 
```

，我使用了命令：Edit-> Line-> Reindent 但它不起作用。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-28T12:51:52.377

在 Sublime Text 中试试这个：

1.  突出显示第一个标签中的最后一个字符：“ `>`”
2.  使用`Find`> `Quick Add Next`（Mac上的`Command`+或PC上的+ ）`D``Ctrl``D`

您现在将在多个选择中突出显示所有出现，将插入符号移动到标签的末尾并按回车键插入您需要的所有新行。

祝你好运

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-28T13:16:05.677

我的印象是 Sublime 也提供了这种能力。当我发现它不是时，我有了使用正则表达式的想法。尽管 regex 通常被认为不适合解析 XML/HTML，但我发现这种方法在这种情况下是可以接受的。据说 Sublime 也可以通过插件高度定制，所以我认为这将是一种方式。

### 崇高的插件

老实说，我本可以想到[`tidy`](http://www.w3.org/People/Raggett/tidy/)或至少怀疑肯定有插件可以解决您的问题。相反，我最终编写了我的第一个 sublime 插件。我只用你的输入和预期的输出对它进行了测试，它满足了，但它肯定离可靠地工作还很远。但是，我在这里发布它以分享我学到的东西，它仍然是问题的答案。

打开一个*新*`Ctrl+n`的缓冲区*（*示例插件（作为 Python 模块），它为实现子类提供了一个很好的模板。TextCommand 提供对活动缓冲区/当前打开文件的访问。像它的亲戚和一样，它需要覆盖运行方法。**`sublime_plugin.TextCommand``WindowCommand``ApplicationCommand`**

 **[官方 API 参考](http://www.sublimetext.com/docs/2/api_reference.html)建议通过阅读随 Sublime 构建分发并位于`Packages/Default`相对于 Sublime 配置路径的示例源来学习。更多示例可在[网站](http://www.sublimetext.com/docs/plugin-examples)上找到。互联网[上](http://blog.petrockblock.com/2012/05/16/writing-a-plugin-for-sublime-text-2-enhancing-the-matlab-plugin/)还有[更多内容。](http://net.tutsplus.com/tutorials/python-tutorials/how-to-create-a-sublime-text-2-plugin/)

### 处理选定的文本

要为您的问题找到解决方案，我们主要需要访问[`View`](http://www.sublimetext.com/docs/2/api_reference.html#sublime.View)表示活动文本缓冲区的对象。幸运的是，`TextCommand`我们即将实现的子类有一个，我们可以方便地向它询问当前选择的区域及其选择内容，处理符合我们需要的选择文本，然后将选择的文本替换为我们的偏好。

总结一下字符串操作：有四个正则表达式，每个都匹配元素类`<start-tag>`、`<empty-tag/>`和。假设我们所有的标记文本都被这些覆盖，我们将选择中的每一行都放入匹配的子字符串中。然后每行重新对齐这些。完成此操作后，我们通过记住缩进其前身包含开始标记的每一行来应用简单的缩进。包含结束标记的行立即取消缩进。 `</close-tag>``text-node`

使用 Python 正则表达式的[组寻址](http://docs.python.org/2/library/re.html#re.MatchObject.groups)功能，我们可以确定每一行的缩进并相应地对齐下一行​​。事不宜迟，这将导致内部一致的缩进标记，但不考虑选择之外的行。通过将选择扩展到封闭元素，或者至少符合相邻行的缩进级别，可以轻松改善结果。它总是可以使用[默认命令](http://www.sublimetext.com/docs/commands)。

另一件需要注意的事情是将键绑定到插件命令和贡献菜单条目。可能[以某种方式](http://www.sublimetext.com/docs/menus)可能，并且默认值`.sublime-menu`和`.sublime-commands`文件`Packages/Default`至少给出了一个想法。无论如何，这里有一些代码。它必须保存在`Packages/User/whatever.py`Sublime Python 控制台 ( ) 中，并且可以像这样调用：.`Ctrl+`````view.run_command('guess_indentation')`

### 代码

```
import sublime
import sublime_plugin
import re

class GuessIndentationCommand(sublime_plugin.TextCommand):
    def run(self, edit):
        view = self.view
        #view.begin_edit()
        # patterns
        start_tag = '<\w+(?:\s+[^>\/]+)*\s*>'       # tag_start
        node_patterns = [start_tag, 
                        start_tag[:-1]+'\/\s*>',    # tag_empty
                        '<\/\s?\w+\s?>',            # tag_close
                        '[^>\s][^<>]*[^<\s]']       # text_node
        patterns = '(?:{0})'.format('|'.join(node_patterns))
        indentors = re.compile('[ \t]*({0})'.format('|'.join(node_patterns[:1])))
        unindentors=re.compile('[ \t]*({0})'.format(node_patterns[2]))
        # process selected text
        for region in view.sel():
            # if selection contains text:
            if not region.empty():
                selection = view.substr(region)
                expanded = []
                # divide selected lines into XML elements, if it contains more than one
                for line in selection.split('\n'):
                    elements = re.findall(patterns, line)
                    if len(elements)>0:
                        expanded += elements
                    else:
                        expanded.append(line)
                # indent output
                indent=0
                indented = []
                for line in expanded:
                    match = unindentors.match(line)
                    if match:
                        indent = max(0, indent-1)
                    # append line to output, unindented if closing tag
                    indented.append('\t'*indent+line)
                    if match:
                        continue
                    # test for possible indentation candidate
                    # indentation applies to the NEXT line
                    match = indentors.match(line)
                    if match:
                        indent+=1
                # replace selection with aligned output
                view.replace(edit, region, '\n'.join(indented)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:00:17.857

如果它是为了简单的事情，我能够记录一个缩进标签的宏（工具->记录宏），然后保存它并重用这个宏。不确定这是否有帮助。**

# linux - cvs 在单个命令中提交和添加文件

> ID：15131095
> 
> 赞同：1
> 
> 时间：2013-02-28T08:46:25.660
> 
> 标签：linux, version-control, cvs

我正在使用 CVS，我想签入/提交/提交多个文件。还有新文件，我也想添加这些文件以修复相同的错误。

我们如何在单个命令中实现这一点，以便在提交时只有一个评论/提交消息。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T21:17:32.407

当你 cvs 添加文件时，它只*安排文件添加*，它不会将文件添加到存储库或以任何方式修改存储库。当您准备好提交新文件和修改后的文件时，您可以使用单个提交命令执行此操作，该命令随后会将添加的文件和修改的文件提交到存储库，并且只有一个提交注释。

# sql - SQL中的rtf操作

> ID：15131099
> 
> 赞同：0
> 
> 时间：2013-02-28T08:46:35.517
> 
> 标签：sql, firebird, rtf

我必须连接（加入）两个包含 RTF 文档的 blob 字段。是否可以用 SQL 语言执行此操作？

是否可以将 rtf 文档嵌入到另一个 rtf 文档中（很容易）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:21:11.867

Firebird 支持 BLOB 连接，所以是的，您可以连接两个 BLOB 字段。但是，您不会得到想要的结果，因为您不能只将一个 rtf 文件塞入另一个文件的末尾并获得有效的文档。rtf 文件具有一定的结构，您必须仔细合并两个文件中的信息才能获得合并文档。这可以通过 UDF（用户定义函数）来完成，但在客户端程序中可能更容易完成。

# iphone - UICollectionView 报样布局

> ID：15131102
> 
> 赞同：14
> 
> 时间：2013-02-28T08:46:40.463
> 
> 标签：iphone, ios, layout, uicollectionview

UICollectionView 可以灵活地动态呈现如下界面（Newsify for iPhone）吗？

![在此处输入图像描述](../Images/11c8f252b591197b95e9d6ea3bac14f8.png)

还是只能呈现预定义的静态布局？我想根据图像尺寸（hxw）进行布局，比如小图像的小网格和大图像的大网格，所有这些都是在运行时根据我从数据源获得的数据决定的。

编辑：任何关于复杂动态布局的好教程，比如上面的那个？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-28T08:48:38.267

> UICollectionView 可以灵活地动态呈现如下界面（Newsify for iPhone）吗？

是的。

> 任何关于复杂动态布局的好教程，比如上面那个？

GitHub 中有一些不错的，例如：

*   [https://github.com/chiahsien/UICollectionViewWaterfallLayout](https://github.com/chiahsien/UICollectionViewWaterfallLayout)
*   [https://github.com/jayslu/JSPintDemo](https://github.com/jayslu/JSPintDemo)
*   [https://github.com/aceisScope/WaterflowView](https://github.com/aceisScope/WaterflowView)
*   [https://github.com/njdehoog/NHBalancedFlowLayout](https://github.com/njdehoog/NHBalancedFlowLayout)

从其他地方：

*   [http://www.binpress.com/app/pinterest-gridview-for-ios-masonryview/836](http://www.binpress.com/app/pinterest-gridview-for-ios-masonryview/836)

Raywenderlich 还有一系列与此相关的帖子：

*   [http://www.raywenderlich.com/22324/beginning-uicollectionview-in-ios-6-part-12](http://www.raywenderlich.com/22324/beginning-uicollectionview-in-ios-6-part-12)
*   [http://www.raywenderlich.com/22417/beginning-uicollectionview-in-ios-6-part-22](http://www.raywenderlich.com/22417/beginning-uicollectionview-in-ios-6-part-22)

# java - 如何正确模拟可自动关闭的资源？

> ID：15131105
> 
> 赞同：6
> 
> 时间：2013-02-28T08:46:58.517
> 
> 标签：java, mockito

我正在尝试为此编写一个单元测试：

```
try (final DatagramChannel channel = helper.createChannel()) {

...

} 
```

在我的测试中，我模拟了助手（使用 Mockito），并告诉 helper.createChannel() 返回一个模拟通道。

这个测试失败了

```
java.lang.NullPointerException
at java.nio.channels.spi.AbstractInterruptibleChannel.close(AbstractInterruptibleChannel.java:111) 
```

我知道 Java 中的 try-with-resources 工具在退出 try 块时调用 DatagramChannel 中的 close() 方法，但不应该调用模拟 DatagramChannel 中的 close() 方法吗？

调试器告诉我 AbstractInterruptibleChannel 中的 closeLock 为空。

我应该继承 DatagramChannel，覆盖其中的 close() 方法，然后模拟我的子类吗？或者，我是否以更深刻的方式做错了什么（助手模拟返回一个模拟）？

问候， Fredrik Israelsson

测试代码，根据要求：

```
@Mock
private InetAddress peerAddress;
@Mock
private UDPChannelHelper helper;
@Mock
private DatagramChannel channel;

private UDPTransportImpl transport;

@Before
public void setUp() throws Exception {
    MockitoAnnotations.initMocks(this);
    when(helper.createChannel()).thenReturn(channel);
    transport = new UDPTransportImpl(peerAddress, 0, helper);
}

@Test
public void testNormalSubmit() throws Exception {
    transport.submit("Hello");
} 
```

如您所见，我没有为 channel.close() 指定任何行为。我相信我不应该这样做，因为 close() 返回无效。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-28T13:36:24.517

你在嘲笑一个真正的类`DatagramChannel`，扩展`AbstractInterruptibleChannel`。然而，这`AbstractInterruptibleChannel.close`是最终的，Mockito 目前无法模拟最终代码。这就解释了为什么代码中有 NPE。

我必须提醒您，人们普遍认为，模拟您不拥有的类型是不好的做法。我见过人们这样做，几年后当真正的实现发生变化时，他们感到很惊讶，但模拟行为没有改变，所以当他们更新库的版本时，他们错误地认为一切都很好。

尽管如此，如果您想继续这种方式，因为您有正当理由（并且有一些），您可以返回一个模拟接口，就像`Channel`实际 extends一样`Closeable`。或者，您可以使用您需要与之交互的任何其他界面，这些界面存在于`DatagramChannel`. 此外，如果您需要多个界面，只需使用`mock(Channel.class, withSetting().extraInterfaces(...))`.

希望能帮助干杯，布莱斯

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-11-21T22:00:07.607

我遇到了同样的问题，使用 spy(..) 而不是 mock(..) 对我有用。我试图在截断文件时模拟错误，并且我的系统正在相应地处理错误。

```
FileChannel fileChannel = spy(FileChannel.class);
mockStatic(FileChannel.class);
when(FileChannel.open(eq(filePath), eq(StandardOpenOption.WRITE))).thenReturn(fileChannel);
when(fileChannel.truncate(1000L)).thenThrow(new IOException("Unable to truncate file"));

...

// Snippet being tested!
fileChannel = FileChannel.open(filePath, StandardOpenOption.WRITE);
fileChannel.truncate(1000L); // Will throw the exception! 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-02-10T05:18:59.523

撇开您是否应该这样做不谈，解决此问题的一种方法是通过为`closeLock`用于同步千钧一发。

```
private static void fixChannelMock(AbstractInterruptibleChannel mockFileChannel) throws Exception {
    Field closeLockField = AbstractInterruptibleChannel.class.getDeclaredField("closeLock");
    closeLockField.setAccessible(true);
    closeLockField.set(mockFileChannel, new Object());
} 
```

尽管 AbstractInterruptibleChannel 的内部实现可能会发生变化，但请准备好在较小的 Java 版本上修复上述代码。

# php - 如果我通过我的 csv 文件进行搜索，则输出为 serverval 次

> ID：15131111
> 
> 赞同：2
> 
> 时间：2013-02-28T08:47:09.010
> 
> 标签：php, html, csv

如果我在我的表单中输入 Test1 输出是 5x Test1，如果我在我的表单中输入 Test2 输出是 4x Test2 等等。我该如何解决这个问题？

这是我的 csv 文件：

“纳姆”

“测试1”

“测试2”

“测试3”

“测试4”

这是我的搜索表单：

```
<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="test.css">
<title>test</title>
</head>
<body>
    <div id="container">
        <div id="logo"></div>
        <div id="header">
            <h1>Test Test Test</h1>
        </div>
        <div id="menu"></div>
        <div id="content">
            <form action="csv.php" method="post">
                <h3>Voer je naam in:</h3>
                <pre>
                    Naam:           <input type="text" name="Naam"><br>
                                    <input type= submit name="submit" value="Verzenden">
                </pre>
            </form>
        </div>
    </div>
    <div id="footer"></div>
</div>
</body>
</html> 
```

这是输出页面：

```
<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="test.css">
<title>test</title>
</head>
<body>
    <div id="container">
        <div id="logo"></div>
        <div id="header">
            <h1>Test Test Test</h1>
        </div>
        <div id="menu"></div>
        <div id="content">
            <form method="get">
            <?php
            if ( !empty ( $_POST['Naam']) ) {
                $naam = $_POST['Naam'];      
                $file_handle = fopen("Test.csv", "rb");
                $found = false;
                while (!feof($file_handle) ) {
                    $parts = fgetcsv($file_handle,4096,",");
                    $file_arr = preg_split ( "/\n/" , $file_content );
                    foreach ( $file_arr as $item ) {
                        if ( $parts[0] == $naam ) {
                            $found = true;                  
                            $resultaat = $parts[0];
                            }
                        }
                    $parts[0] = ucwords(strtolower($parts[0]));
                    if ( $found ) {
                        Print "Naam: ". $resultaat; echo "<br>";
                        }
                    }
                if ( !$found ) {
                    print "Not found";
                    }
                fclose($file_handle);
                }  
            ?>
        </div>
        <div id="footer"></div>
    </div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T08:50:25.190

如果您发现它添加 `break;`（循环中止），因为您继续处理文件并且`$found`仍然是正确的。

E：

`if ( $found ) {`

`Print "Naam: ". $resultaat; echo "<br>";`

`break;`

`}`

您设置了 $found = true 并且从不重置它。所以它会保持真实，因为文件没有通过每个进一步的循环都会运行到那个`if($found)`statemanet

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T08:56:28.307

我不明白 "$file_arr = preg_split ( "/\n/" , $file_content ); foreach ( $file_arr as $item ) {" 部分的含义

这似乎是以前没有 fgetcsv 的代码实现的一些残留物。

# uml - 如何在 SCL 中实现“泛化”

> ID：15131115
> 
> 赞同：2
> 
> 时间：2013-02-28T08:47:27.857
> 
> 标签：uml, plc

UML 中的*泛化*是否可以在 Simatic SCL 代码（或结构化文本代码）中实现？

UML中*泛化*的定义：

```
A generalisation is a relationship between a morew general classifier and a 
more specific classifier. Each Instance of the specific classifier is also an
indirect instance of the general clasifier. Thus, the specific classifier
inherits the features of the more general classifier.

Features specified for instances of the general classifier are implicitly
specified for instances of the specific classifier. Any constraint applying
to instances of the general classifier also applies to instances of the 
specific classifier. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T11:36:21.770

一般来说，这个问题的答案是否定的，不是真的。PLC 的所有编程方式（梯形图、ST、FBD 等）*通常*只是从实际机器代码中非常轻微地抽象出来。它们更接近于汇编包装器，而不是我们认为的任何现代开发语言。结构化文本更接近于非常原始的 Pascal - 它几乎没有任何面向对象的特性。

这个概念是 PLC 和 PLC 程序员在为它们开发程序时早已习惯了极端微观管理的方法。造成这种情况的原因有很多——有些比其他的更有效。[Scott Whitlock在这里](https://stackoverflow.com/a/1168196/327083)写了一篇很好的文章，概述了其中一些原因。一个重要的问题是，工厂车间的维护人员通常是试图对机器进行故障排除的人，他们可以获得清晰、非抽象的状态机信息，这比需要一个优雅的、最小的公式来处理更有价值系统开发者的自我。

PLC编程是一个无情的实用行业。如果您可以在实用性提高 10% 和优雅性提高 90% 之间做出选择，那么实用的解决方案*总是*会胜出的。

话虽如此 - 有些人在这个领域玩。我建议快速阅读[这篇文章](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.60.2287&rep=rep1&type=pdf&ei=djwvUaKIC-bx0wHqjYHoAw&usg=AFQjCNEHtFU15MJgywFoaDP8dGFI1QXd3A&bvm=bv.43148975,d.dmQ)，了解一些尝试让 ST 像您建议的那样工作的示例。尽管如此，在将这样的任何东西放在真正的工厂中使用需要既安全又可靠地赚钱的真实机器之前，我还是会谨慎行事。

# sql - 没有小时的 SQL 转换日期时间，还有排序问题

> ID：15131116
> 
> 赞同：0
> 
> 时间：2013-02-28T08:47:45.050
> 
> 标签：sql, casting

```
SELECT 

incident.createDate,
LEFT(incident.createDate,11)as EntryDate,
ContactDetails.cityCode,
patient.insurance,

FROM ......

WHERE 
incident.createDate Between Convert(smalldatetime, '01/07/2012', 103) and Convert(smalldatetime, '31/12/2012', 103) 
and servicecharges.serviceid = 31 
and ServiceRequestDescription LIKE '05.06%'
and chargeDescr = 'Ε0 50.01'
and incident.status != 6
order by createDate ASC, contactdetails.cityCode ASC, patient.insurance ASC 
```

作为输出我得到

```
15642     2012-08-03 11:45:07.153       Aug  3 2012         103      15 
```

我想要得到的是

```
15642     2012-08-03      103        15 
```

EntryDate 如上所述投射日期，所以我不想要它。下单也是错误的。它使用日期正确命令输出，但城市代码和保险不正确..

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T08:57:07.667

尝试这个

```
SELECT 
...
CONVERT(Varchar, incident.createDate, 103) as EntryDate,
ContactDetails.cityCode,
patient.insurance,

FROM ...... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:09:05.103

对于 Sql-Server：我认为没有[**直接的格式**](http://msdn.microsoft.com/en-us/library/ms187928.aspx)来获取. 您可以尝试然后得到如下。这里的小[**演示**](http://sqlfiddle.com/#!3/d41d8/9812)。*`ONLY`* `yyyy-mm-dd`*`120/121`**`left 10 characters`*[](http://sqlfiddle.com/#!3/d41d8/9812)

 **```
select left(convert(varchar,incident.createDate,120),10) as EntryDate 
```**

# java - 动态创建的 Swing 组件的侦听器

> ID：15131118
> 
> 赞同：0
> 
> 时间：2013-02-28T08:47:47.717
> 
> 标签：java, swing, jtable

我正在动态创建`jTABLES`. 数量`jTABLES`取决于数据库。

```
while(rset.next())
{
        //Create Scroll Pane
        JScrollPane newScrollPane = new JScrollPane();
        //Create Table
        JTable newTable = new JTable();
        //Add Table to Scroll Pane
        newScrollPane.setViewportView(newTable);
        //Add Scroll Pane to a Tabbed Pane
        jTabbedPane1.addTab(rset.getString(1),newTable);
} 
```

我需要添加`MouseListener`到每个`jTABLE`，它基本上是相同的侦听器，相同的操作。

```
while(rset.next())
{
      //Table Created.....
      newTable.addMouseListener(new MouseListener() {

      @Override
      public void mouseClicked(MouseEvent e) {
           String data = newTable.getValueAt(0,0).toString();
      }
      //More Abstract Methods...

     });
} 
```

Netbeans，强迫我制作新表`final`，据我所知，`final`以后不能更改变量，这里有什么问题吗？我这样做对吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:01:44.157

当您在匿名内部类中使用变量（外部变量）时，必须将其声明为 final。这就是 netbeans 强迫你这样做的原因。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T08:57:12.830

最终变量不能稍后更改，但您需要将最终局部变量更改为`while`循环之外吗？

如果是，则插入一个数组或列表并将引用存储在那里。

final 需要在匿名内部类（您的侦听器）中使用引用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:05:29.723

你可以做些什么来避免最后的问题：

创建另一个实现 MouseListener 的类。

```
class MyMouseListener extends MouseListener {
    JTable table;
    public MyMouseListener(JTable table) {
      this.table = table;
    } 
```

然后在任何方法中使用该表。

```
public void mouseClicked(MouseEvent e) {
   String data = table.getValueAt(0,0).toString();
} 
```

然后将该鼠标侦听器添加到表中。

```
myTable.addMouseListener(new MyMouseListener(myTable)); 
```

# biztalk - 主机实例帐户和 Dynamics Ax 适配器的奇怪行为

> ID：15131120
> 
> 赞同：2
> 
> 时间：2013-02-28T08:47:58.303
> 
> 标签：biztalk, axapta, dynamics-ax-2012, biztalk-2010

我们遇到了我难以理解的行为。

我们有一个接收端口 (WCF)，其中一个接收处理程序 ReceiveHost 在 account1 下运行，一个发送端口（Dynamics Ax 适配器）和一个发送处理程序 SendHost 在 account2 下运行。在适配器属性上，我们将 account2 指定为网关用户和代理用户。

当我们通过 BizTalk 向 Dynamics Ax 发送消息时，我们在 Dynamics 中收到错误消息，指出 account1 不是 Microsoft Dynamics AX 的认可用户。

Axapta 怎么可能知道 account1？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:43:23.857

当用户在 AX 上不存在时会收到此消息。您可以手动创建用户或轻松地将它们从活动目录导入到 AX。它在 TechNet 上有很好的记录：

[http://technet.microsoft.com/en-us/library/aa497043.aspx](http://technet.microsoft.com/en-us/library/aa497043.aspx)

# ios - UICollectionView 仅显示数据集中的第一项

> ID：15131123
> 
> 赞同：5
> 
> 时间：2013-02-28T08:48:11.980
> 
> 标签：ios, core-data, uicollectionview

有两个实体（**Department** <-->> **Employee**）。

这个部门有4名员工。当我获取该部门的所有员工时，我的日志窗口显示：

**CoreData：注释：总提取执行时间：0.0017 秒，4 行。**

一切都很好。

但`UICollectionView`仅显示第一个员工 4 次。例如：

**雇员 1、雇员 1、雇员 1、雇员 1**

代替

**员工 1、员工 2、员工 3、员工 4**

**我觉得cellForItemAtIndexPath**有一些错误：

```
- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"cellRecipe";    
    collectionCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:CellIdentifier forIndexPath:indexPath];

    Employee *emp = [array_ objectAtIndex:indexPath.item];
    cell.name.text = emp.name;
    cell.image.image = emp.thumbImg;

    return cell;
} 
```

**array_**是获取后的**NSMutableArray**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T09:01:28.713

问题在于索引方法尝试此代码。

```
- (NSInteger)numberOfSectionsInCollectionView:(UICollectionView *)collectionView
{
    return  noOfItem/ noOfSection;
}

- (NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section
{
    return noOfSection;
}

- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath
{
     static NSString *CellIdentifier = @"cellRecipe";    
     collectionCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:CellIdentifier forIndexPath:indexPath];
  ;

    Employee *emp = [array_ objectAtIndex:indexPath.section * noOfSection + indexPath.row];
    cell.name.text = emp.name;
    cell.image.image = emp.thumbImg;

    return cell;
} 
```

# ruby-on-rails - Rails 中的 Link_to。链接到显示的自定义

> ID：15131124
> 
> 赞同：0
> 
> 时间：2013-02-28T08:48:14.653
> 
> 标签：ruby-on-rails, routes, link-to

我有一个应用程序，它从数据库中获取文件的路径并将其呈现为 html 并显示。控制器、视图和路由如下所示：

`project/index.html.erb`

```
<p><%= link_to project.title,{:controller => "markdowns" , :action => 'view',       :github_link=>project.github_link},:target=>"_blank"%></p> 
```

`markdown_controller`

```
class MarkdownsController < ApplicationController
  def view
    @markdown=MarkdownsHelper.markdown path
  end

  def path
    File.open(Rails.public_path.to_s+params[:github_link].to_s, "rb").read
  end
end 
```

上述控制器中的 MarkdownsHelper.markdown 方法渲染 .md。

`markdown/view`

```
<%=raw @markdown %> 
```

`routes`

```
resources :projects
match '/GitRepos/'=>'markdowns#view' 
```

## **问题：**

单击 prokects/index 中的标题后显示的链接是**localhost:3000/GitRepos?github_link=%2FGitRepos%2Fbootstrap%2FREADME.md**

但我希望链接显示为**localhost:3000/GitRepos/bootstrap/Readme.md**

其中 bootstrap 是 Project.title 而 Readme.md 是正在读取的文件。另外，我的项目数据库有一个 github_link 属性，它存储**GitRepos/bootstrap/Readme.md**

## 模型

链接会根据项目而变化。Project 模型具有这些属性-> 标题和 github_link。所以项目很多，github_link存储了每个项目的Readme.md文件在本地系统中的路径地址。

# 我的方法

这是我拥有的解决方案，我对 Ruby on Rails 的了解很少。请让我知道是否可以改进这一点。

`project/index.html.erb`

```
 <p><%= link_to project.title,{:controller => "markdowns" , :action => 'view',:title=>project.git_name,:id=>project.git_file},:target=>"_blank" %></p> 
```

`routes`

```
 match 'GitRepos/:title/:id' =>'markdowns#view' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:45:49.610

尝试

```
match '/GitRepos/:github_link'=>'markdowns#view' 
```

# android - 为 Android 构建 Valgrind

> ID：15131126
> 
> 赞同：5
> 
> 时间：2013-02-28T08:48:19.483
> 
> 标签：android, android-ndk, valgrind

使用 ndk-r6 或 ndk-r8d 在 ubuntu 12.04 上构建 valgrind-3.8.1 失败并出现以下错误：

```
...
cc1: Error: not rekognized option "-marm"
priv/main_globals.c:1:0: Error: wrong Value (cortex-a8) for -mtune=switch
... 
```

我的构建脚本：

```
export NDKROOT=/home/stefan/android-ndk-r6-crystax-2
export HWKIND=generic
PATH=$NDKROOT/toolchains/arm-linux-androideabi-4.4.3/prebuilt/linux-x86/bin:$PATH
PATH=$PATH:$NDKROOT/toolchains/arm-linux-androideabi-4.4.3/prebuilt/linux-x86/libexec/gcc/arm-linux-androideabi/4.4.3
export CROSS_COMPILE=arm-linux-androideabi-
export AR=${CROSS_COMPLIE}ar
export LD=${CROSS_COMPLIE}ld
export CC=${CROSS_COMPLIE}gcc
export CXX=${CROSS_COMPLIE}g++
export CPP=${CROSS_COMPLIE}cpp

./autogen.sh CPPFLAGS="--sysroot=$NDKROOT/platforms/android-3/arch-arm -DANDROID_HARDWARE_$HWKIND" CFLAGS="--sysroot=$NDKROOT/platforms/android-3/arch-arm"
./configure --prefix=/data/local/Inst --host=armv7-unknown-linux --target=armv7-unknown-linux --with-tmpdir=/tmp 
```

最后

```
make 
```

:)

有任何想法吗？谢谢

我也接受构建的二进制文件；））

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-10-08T18:21:45.397

有关**如何为 Android (ARM) 构建 Valgrind，**请参阅：[https ://stackoverflow.com/a/19255251/313113](https://stackoverflow.com/a/19255251/313113)

有关**如何通过 Valgrind 运行您的应用程序，**请参阅：[https ://stackoverflow.com/a/19235439/313113](https://stackoverflow.com/a/19235439/313113)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-10T09:56:09.620

按照此页面上的说明进行操作：http: [//valgrind.org/docs/manual/dist.readme-android.html](http://valgrind.org/docs/manual/dist.readme-android.html)

您不会将 valgrind 编译为嵌入到您的应用程序中，而是在您的计算机上编译与 arm 兼容的 valgrind 二进制文件，并与 android-ndk 库链接，然后您可以将 valgrind 发送到设备或模拟器上的某个文件夹中。这大约是 130 Mb 的数据。

请注意，设备必须植根。

然后，无论何时你想用你的 android 应用程序运行 valgrind，你都必须将 valgrind 附加到应用程序。为此，请看这里：[How to start an android app with valgrind](https://stackoverflow.com/questions/9123124/how-to-start-an-android-app-with-valgrind)

# java - Spring MVC 中的 package-info.java

> ID：15131133
> 
> 赞同：3
> 
> 时间：2013-02-28T08:48:35.230
> 
> 标签：java, spring, spring-mvc, spring-portlet-mvc

我刚刚下载了 Pet Clinic 示例（我想将其重写为 Spring Portlet MVC）并且在每个包中都有`package-info.java`类。除了包声明，文件是空的，那么这有什么用？我可以在 Spring Portlet MVC 中安全地省略它吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T08:50:47.167

You can safely delete these but normally from my experience you'd just put a description of what the package is for in a comment in this file.

You can find more info on the Oracle website [here](http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javadoc.html#packagecomment)

# vb.net - 制作在多个事件过程中重复的更简洁代码的标准方法

> ID：15131137
> 
> 赞同：1
> 
> 时间：2013-02-28T08:48:53.407
> 
> 标签：vb.net

我得到了以下信息：

```
Private Sub boldButton_Click(sender As System.Object, e As System.EventArgs) Handles boldButton.Click
    Dim curFont As Font
    Dim newFont As Font
    curFont = rtb.SelectionFont
    If curFont IsNot Nothing Then
        'create the new font
        newFont = New Font(curFont.FontFamily, curFont.Size, curFont.Style Xor FontStyle.Bold)
        'set it
        rtb.SelectionFont = newFont
    End If
    updateView()
End Sub

Private Sub italicButton_Click(sender As System.Object, e As System.EventArgs) Handles italicButton.Click
    Dim curFont As Font
    Dim newFont As Font
    curFont = rtb.SelectionFont
    If curFont IsNot Nothing Then
        'create the new font
        newFont = New Font(curFont.FontFamily, curFont.Size, curFont.Style Xor FontStyle.Italic)
        'set it
        rtb.SelectionFont = newFont
    End If
    updateView()
End Sub

Private Sub underlineButton_Click(sender As System.Object, e As System.EventArgs) Handles underlineButton.Click
    Dim curFont As Font
    Dim newFont As Font
    curFont = rtb.SelectionFont
    If curFont IsNot Nothing Then
        'create the new font
        newFont = New Font(curFont.FontFamily, curFont.Size, curFont.Style Xor FontStyle.Underline)
        'set it
        rtb.SelectionFont = newFont
    End If
    updateView()
End Sub

Private Sub strikethroughButton_Click(sender As System.Object, e As System.EventArgs) Handles strikethroughButton.Click
    Dim curFont As Font
    Dim newFont As Font
    curFont = rtb.SelectionFont
    If curFont IsNot Nothing Then
        'create the new font
        newFont = New Font(curFont.FontFamily, curFont.Size, curFont.Style Xor FontStyle.Strikeout)
        'set it
        rtb.SelectionFont = newFont
    End If
    updateView()
End Sub 
```

对我来说似乎有很多重复——除了操作符后面的一小段代码`Xor`。当事件过程中的代码以这种方式重复时，是否有我应该遵循的标准技术？

只需创建一个方法，每个事件过程使用调用它的按钮的参数以及 'Xor' 后面的变量的 FontStyle 类型的参数来调用它吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:22:39.397

最好的办法是使用一个通用名称的方法，并将所有事件处理程序分配给同一个方法。因此，您希望 sub 的开头行包含；

```
Handles boldButton.Click, italicButton.Click, underlineButton.Click, strikethroughButton.Click 
```

在此之后，使用“发送者”来确定点击了哪个按钮，从而通过正确的字体样式发送。

做到这一点的最好方法是案例陈述。

以下代码应该适合您，并且已最小化为两种方法。

```
Private Sub ButtonClickMethod(sender As System.Object, e As System.EventArgs) Handles boldButton.Click, italicButton.Click, underlineButton.Click, strikethroughButton.Click
   Select sender.text
     Case "boldButton"
        MyMethod(FontStyle.Bold)
     Case "italicButton"
        MyMethod(FontStyle.Italic)
     Case "underlineButton"
        MyMethod(FontStyle.Underline)
     Case "strikethroughButton"
        MyMethod(FontStyle.StrikeOut)
    End Select
End Sub

Private Sub MyMethod(style as FontStyle)

   Dim curFont As Font
   Dim newFont As Font
   curFont = rtb.SelectionFont
   If curFont IsNot Nothing Then
       'create the new font
       newFont = New Font(curFont.FontFamily, curFont.Size, curFont.Style Xor style)
       'set it
       rtb.SelectionFont = newFont
   End If
   updateView()

End Sub 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T08:52:54.937

Create single `Sub` using `FontStyle` as a parameter:

```
Private Sub UpdateButton(style as FontStyle)
    Dim curFont As Font
    Dim newFont As Font
    curFont = rtb.SelectionFont
    If curFont IsNot Nothing Then
        'create the new font
        newFont = New Font(curFont.FontFamily, curFont.Size, curFont.Style Xor style)
        'set it
        rtb.SelectionFont = newFont
    End If
    updateView()
End Sub 
```

And use it in all 3 event handlers:

```
Private Sub boldButton_Click(sender As System.Object, e As System.EventArgs) Handles boldButton.Click
    UpdateButton(FontStyle.Bold)
End Sub

Private Sub italicButton_Click(sender As System.Object, e As System.EventArgs) Handles italicButton.Click
    UpdateButton(FontStyle.Italic)
End Sub

Private Sub underlineButton_Click(sender As System.Object, e As System.EventArgs) Handles underlineButton.Click
    UpdateButton(FontStyle.Underline)
End Sub 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-28T16:16:01.857

只是 Jacoooobley 答案的一个侧面选择，从根本上说，他是正确的，只是一种可以使其更具动态性和通用性的方式。

```
Private Sub ButtonClickMethod(sender As System.Object, e As System.EventArgs) Handles boldButton.Click, italicButton.Click, underlineButton.Click, strikethroughButton.Click
  'This gets us a list of available font styles
  Dim fontStyles = [Enum].GetValues(GetType(FontStyle))
  'This gets a style based on the name (text of a textbox) if it can, if it can't we get `nothing`
  Dim selectedStyle = fontStyles.Cast(Of FontStyle)().FirstOrDefault(Function(x) [Enum].GetName(GetType(FontStyle), x) = sender.Text)
  'Check if this isn't nothing
  If selectedStyle isnot nothing
    'Call `MyMethod`
    MyMethod(selectedStyle)
  end if
End Sub

Private Sub MyMethod(style as FontStyle)

   Dim curFont As Font
   Dim newFont As Font
   curFont = rtb.SelectionFont
   If curFont IsNot Nothing Then
       'create the new font
       newFont = New Font(curFont.FontFamily, curFont.Size, curFont.Style Xor style)
       'set it
       rtb.SelectionFont = newFont
   End If
   updateView()

End Sub 
```

这意味着如果您添加新按钮，则不需要新的案例或方法。

# css - 如何更改水平菜单的样式

> ID：15131139
> 
> 赞同：1
> 
> 时间：2013-02-28T08:48:58.013
> 
> 标签：css

我的任务是做水平菜单。在创建菜单时，我遇到了样式问题。当我们悬停菜单时，它正在跳跃，并且子子菜单根据文本的大小位于不同的位置。我的css文件是

```
 #wrapper {
     width:100%;
     height:500px;
 }
 h2 {
     color:#787878;
 }
 #menu, #menu ul {
     list-style: none;
     //padding: 2px;
 }
 #nav{
     border-bottom: 1px solid #CCCCCC;
     border-spacing: 0;
     display: table;
     float: left;
     height: 25px;
     width: 100%;
 }
 #nav ul {
     margin: 0;
     padding: 0;
 }
 #nav > ul > li:hover {
     background: none repeat scroll 0 0 #FFFFFF;
     border-color: #ccc #ccc #FFFFFF;
     border-style: solid;
     border-width: 1px;
     padding-bottom: 0;
     border-radius:1px;
 }
 .menu-child {
     width:160px;
     display:block !important;

 }
 #nav ul li ul li:hover {
 }
 #nav ul li ul :hover { 
 }
 #menu {
     float: left;
     height: 25px;
 }
 #menu> li {
     float: left;
 }
 #menu li a {
     display: block;
     height: 2em;
     line-height: 2em;
     padding: 0 1.5em;
     text-decoration: none;
 }
 #menu ul {
     position: absolute;
     display: none;
     z-index: 999;
 }
 #menu ul li a { 
 }
 #menu li:hover ul {
     display: block;
 }
 #menu {
     font-family: Arial;
     font-size: 12px;
     //background: #F8F8F8;
 }
 #menu > li > a {
     font-family: Verdana, Arial, sans-serif;
     font-style: normal;
     color:#787878;
     font-weight: bold;
 }
 #menu > li > a:hover {
     color: #000;
 }
 #menu ul {
     background: none repeat scroll 0 0 #FFFFFF;
    border-radius: 0 0 5px 5px;
    margin-top: 1px;
 }
 #menu ul li a {
     color: #000;
 }
 #menu ul li a:hover {
     background: #E0E0E0;
 }
 .logout {
     float:right;
     width:300px;
 }
 .title {
     float:left;
     width:300px;
 }
 #footer {
     width:100%;
     height:100px;
     float:left;
 }
 .subchild-list {
     margin:0;

     position: absolute !important;
     top:0;
     right:-87px;
     //border-color: #ccc #FFFFFF #ccc #FFFFFF;
 }
 .child-list ul {
     display: none !important;
     position: absolute !important;
     z-index: 999 !important;
 }
 .child-list li {
     position:relative !important;

 }
 .child-list li:hover ul {
     display: block !important;
 }

.child-list li{

    border-left:1px solid #C0C0C0; 
    border-right:1px solid #C0C0C0;
}

.child-list ul{
    border-top:1px solid #C0C0C0; 
    border-bottom:5px solid #C0C0C0; 
}

.child-list{
    border-bottom:5px solid #C0C0C0; 
}
.nav-subchild
{
    border-color: #ccc #FFFFFF #ccc #FFFFFF;

} 
```

[您可以从http://jsfiddle.net/ucpcA/1/](http://jsfiddle.net/ucpcA/1/)看到我的代码我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T08:53:14.753

添加到 CSS 中：

```
li {border: 1px solid #fff;} 
```

我在小提琴中尝试过，它解决了“跳跃”

//编辑

主要思想是为顶部 li 元素设置边框，这样当您添加带有颜色的额外边框时，它不会跳转

//编辑2来解决你的第二个问题

为了解决你的第二个问题，把这条线

```
 .subchild-list {
 margin:0;
 right:-150px;
 position: absolute !important;
 top:0; }

#menu ul li  {width: 150px;} 
```

这只是一个示例，因此您将看到它的作用。把你真正需要的 ewidth 放在那里。

# c++ - 多次调用同一个对象的析构函数，结果与标准中描述的不一样

> ID：15131140
> 
> 赞同：-1
> 
> 时间：2013-02-28T08:48:58.983
> 
> 标签：c++, destructor

我使用 MS Visual Studio 2010。

我实现了一个双链表。

**我想知道为什么在调用方法 Clean 之后的 main 函数中，它调用对象的析构函数，在我引用对象之后没有引发错误。**

这是我的一些双链表方法（相对于我的问题）：

```
/*DoubleLinkedList.cpp */  
         DoubleLinkedList::~DoubleLinkedList(void)
        {
        cout << "Destructor invoked" << endl;
        // as for data nodes memory is allocated in heap we have to release it:
        const Node* const_iterator = m_head.m_next;
        while (const_iterator != &m_tail)
        {
            const_iterator = const_iterator->m_next;
            delete const_iterator->m_prev;
        }
    }

void DoubleLinkedList::Clean(void)
{
    cout << "Clean invoked" << endl;

    this->~DoubleLinkedList(); /* According to C++ 11 standart: Once a destructor is invoked for an object, the object no longer exists*/
}

/* main.cpp */
    int main(int argc, char* argv[])
    {
        DoubleLinkedList list;
        Circle c1, c2(MyPoint(1,1),50), c3(MyPoint(2,2),30);
        list.Front(&c1);
        list.Front(&c2);
        list.Front(&c3);
        list.Show();
        list.Sort();
        list.Show();
        list.Clean();
        list.Show(); /* Recall how Clean method is implemented. As list no longer exist, run-time error is expected here, but flow of executon continues and Show, Push_back preforms fine*/
        list.Push_back(&c1);
        list.Push_back(&c2);
        list.Push_back(&c3); 
```

**问题：** **如调用析构函数后的 C++ 11 标准中所述 - 对象不再存在**，为什么在调用析构函数后我仍然能够使用该对象？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:48:18.950

这里要考虑的重要一点是对象的*生命周期*。对象的生命周期必须存在于为该对象分配存储空间的时间内。在分配存储的时间内，许多对象可以一个接一个地存在于单个存储位置。

通常，当一个对象被销毁（通过超出范围或调用`delete`）时，对象的生命周期结束，然后它的内存被释放。但是，当您显式调用析构函数时，您所做的只是结束对象的生命周期。该标准没有定义对象“不存在”，但确实有其生命周期结束的概念。

> 类型对象的生命周期在以下情况下`T`结束：
> 
> *   如果`T`是具有非平凡析构函数（12.4）的类类型，则析构函数调用开始，或者
> *   对象占用的存储空间被重用或释放。

现在，在对象生命周期结束之后和其存储被释放之前的状态下，您只能做一些非常具体的事情。该标准定义了在这种状态下可以对指针和glvalues执行的操作。在你的情况下，`list`是一个glvalue，所以我们将看看它的规则：

> [...] 在对象的生命周期结束之后和对象占用的存储空间被重用或释放之前，可以使用任何引用原始对象的泛左值，但只能以有限的方式使用。[...]如果出现以下情况，该程序具有未定义的行为：
> 
> *   左值到右值的转换（4.1）应用于这样的左值，
> *   glvalue 用于访问非静态数据成员或调用对象的非静态成员函数，或
> *   glvalue 被隐式转换（4.10）为对基类类型的引用，或者
> *   泛左值用作`static_cast`(5.2.9) 的操作数，除非转换最终为 cv`char&`或 cv `unsigned char&`，或
> *   泛左值用作`dynamic_cast`(5.2.7) 的操作数或`typeid`.

第二个列表项适用于此。您有未定义的行为，因为您在对象生命周期结束后访问非静态成员函数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T08:50:49.480

Use object AFTER it's destroyed (i.e. destructor's is called) is UB. UB means undefined behaviour. So...

# actionscript-3 - goToAndaPlay 返回值 .. TT on AIR for Android [加速度计使用]

> ID：15131144
> 
> 赞同：2
> 
> 时间：2013-02-28T08:49:10.803
> 
> 标签：actionscript-3, flash, adobe, accelerometer

[我是 as3 和 adobe flash 上的新手]

我想在 AIR 4 Android 中实现加速度计来为对象设置动画，这是我的文件的描述：-我有 2 帧动画，-1 帧用于菜单 -2 帧用于使用加速度计为对象设置动画，

-当我使用 gotoAndPlay 从第二帧回到第一帧时，我觉得这样的值也可以回到第一帧，

- 然后当我再次进入第二帧时，第二帧的值似乎很奇怪，就像物体移动的速度加倍，

TT 我不知道如何解决它 需要任何人的帮助，谢谢大师。:D

这是 flas 文件[Akselerometer_objek_test的下载链接](https://www.dropbox.com/s/dfxg3dkl1sftc1j/stack%20over%20flow.fla)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T22:17:16.383

看了一下模板，看来你必须先`removeEventListener`打电话`gotoAndPlay();`

在调用之前`gotoAndPlay`，请尝试执行以下操作：

```
fl_Accelerometer.addEventListener(AccelerometerEvent.UPDATE, fl_AccelerometerUpdateHandler);

ball.addEventListener(Event.ENTER_FRAME, moveBall); 
```

用您的 MovieClip 替换球，然后`removeEventListener`为您添加的每个事件再次放置。

# javascript - Royalslider JavaScript slider.next()

> ID：15131145
> 
> 赞同：2
> 
> 时间：2013-02-28T08:49:11.170
> 
> 标签：javascript, jquery, button

我使用 Royalslider，只是想创建一个转到下一个图像的按钮。

这是我的代码：

```
<button id="slider-next">Next</button>

<script id="addJS">jQuery(document).ready(function($) {
  var slider = $('.royalSlider').royalSlider({
    // options...
            keyboardNavEnabled: true,
            navigateByClick: false,
            sliderDrag: false,
            imageScaleMode: 'fill',

}).data('royalSlider');

$('#slider-next').click(function() {
    slider.next();
});  
}); 
```

我错过了什么明显的事情吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T11:43:20.517

尝试删除逗号后`imageScaleMode: 'fill',`

# php - 启用 MongoDB 模块时出错

> ID：15131146
> 
> 赞同：0
> 
> 时间：2013-02-28T08:49:17.500
> 
> 标签：php, mongodb, drupal, drupal-7

我正在尝试将 MongoDB 与 drupal 7 站点一起使用。该数据库远程托管在 mongolab.com 上。

我已经在我的专用服务器上安装了 MongoDB 驱动程序，它会自动添加`extension = "mongo.so"`到我的服务器上`php.ini`。

现在，当我尝试启用 MongoDB 模块时，它给了我这个错误：

> Mongodb 需要安装 PHP MongoDB 扩展。（目前使用的mongodb没有找到）

任何想法为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T16:51:35.847

1) 在您的 phpinfo() 屏幕中，确保配置文件路径和加载的配置文件与您正在编辑的 PHP 文件匹配。如果没有，则找到正确的 php.ini 并添加 mongo.so 扩展名。

2) 在您的 phpinfo() 屏幕中，查看该`extension_dir`值并确认该值`mongo.so`存在于该目录中。如果没有，找到 mongo.so 文件并将其复制到此目录。

3) 重新启动您的网络服务器。

4) 如果仍然无法正常工作，请查看 Web 服务器和 php 日志，以获取有关扩展程序可能无法加载的原因的线索。

# project - 同时编码中的抽象类

> ID：15131149
> 
> 赞同：0
> 
> 时间：2013-02-28T08:49:26.820
> 
> 标签：project, abstract

在我的理解中，抽象类通常用于不同类的一些常用方法以不同方式实现。

在小组项目中是否还有其他用途，以便一个人可以使用其他类的未完成方法并且不会出现找不到函数之类的错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T08:55:43.553

是的，使用类和接口来引用未完成的代码（由其他开发人员并行开发）看起来比仅使用该代码的存根更干净。

这种方法还允许在测试期间更轻松地进行依赖注入，因为通常可以在没有任何特定技巧的情况下替换测试模拟（从抽象类派生或实现约定的接口）。

# c# - 使用 sql bulkcopy 类 c# 在循环中插入数据

> ID：15131156
> 
> 赞同：0
> 
> 时间：2013-02-28T08:49:46.243
> 
> 标签：c#, sqlbulkcopy

我现在有两个数据库，我必须在循环中将数据从一个数据库插入另一个数据库。我知道位 sql 大容量复制，但我不知道如何使用 sql 大容量复制一次插入一个数据。

这是我的表结构

```
CREATE TABLE [CandidateApplication](
 [EmailID] [varchar](300) NOT NULL,
 [Name] [varchar](300) NULL,
 [FileName] [varchar](500) NULL,
 [IsDownloaded] [bit] NOT NULL
) 
```

基本上我需要从一个带有子句的数据库中获取数据`IsDownloaded=0`，然后我需要循环迭代。在循环中，我将从`FileName`字段中获取文件路径并下载该文件。如果文件下载成功，那么我必须将该数据从 db1 保存到 db2 并将字段更新`IsDownloaded=1`到 db1。

我可以使用 sqlbulk 复制类在循环中处理从一个数据库到另一个数据库的数据插入。请建议。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:02:14.250

很简单，伙计：）对不起，我在 VB.net 中的代码希望你不介意

**注意：重要的是数据表和目标表中的数据类型。他们应该是一样的**

1.  从 db1 获取数据，做任何你想做的事情，准备好数据表中的数据
2.  使用此功能将您的数据转储到第二个数据库中

代码：

```
 Public Shared Function BulkSave(ByVal dt As DataTable) As Boolean
    Dim mydb As New CSdatabase
    Try

    Dim connectionString = "Connection String"
    '' so there is no need to map columns. 
        Using bulkCopy As SqlBulkCopy = New SqlBulkCopy(connectionString)
            bulkCopy.BatchSize = 25000
            bulkCopy.BulkCopyTimeout = 300

            bulkCopy.ColumnMappings.Add("EmailID", "EmailID")
            bulkCopy.ColumnMappings.Add("Name", "Name")
            bulkCopy.ColumnMappings.Add("FileName", "FileName")
            bulkCopy.ColumnMappings.Add("IsDownloaded", "IsDownloaded")
            bulkCopy.DestinationTableName = "dbo.CandidateApplication"

            bulkCopy.WriteToServer(dt)
        End Using
    Catch ex As Exception
        Throw ex
    Finally
        'mydb.closeConnection() ' Close your conneciton here
    End Try

    Return True

End Function 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:08:05.680

您不需要逐个迭代插入的数据，只需将集合传递给 WriteToServer() 方法。

一个例子是：

```
HashSet<SomeObject> dataLines = new HashSet<SomeObject>(); 

foreach (var entity in someCollection)
        {
            if(entity == somecondition)
            {
                  dataLines.Add(new SomeObject
                              {
                                  CollectionItem1 = entity.Property1,
                                  CollectionItem2 = entity.Property2,
                                  CollectionItem3 = entity.Property3,
                                  CollectionItem4 = entity.Property4,
                                  CollectionItem5 = entity.Property5,
                                  CollectionItem6 = entity.Property6,
                                  CollectionItem7 = entity.Property7,
                              });
            }
        }
        try
        {
            _context.Connection.Open();
            EntityConnection connection = _context.Connection as EntityConnection;
            SqlConnection sqlConnection = null;
            if (connection != null)
            {
                sqlConnection = connection.StoreConnection as SqlConnection;
            }

            if (sqlConnection != null)
            {

                SqlBulkCopy bulkInsert = new SqlBulkCopy(sqlConnection);
                bulkInsert.DestinationTableName = "SomeTable";
                bulkInsert.ColumnMappings.Add("CollectionItem1", "Column1");
                bulkInsert.ColumnMappings.Add("CollectionItem2", "Column2");
                bulkInsert.ColumnMappings.Add("CollectionItem3", "Column3");
                bulkInsert.ColumnMappings.Add("CollectionItem4", "Column4");
                bulkInsert.ColumnMappings.Add("CollectionItem5", "Column5");
                bulkInsert.ColumnMappings.Add("CollectionItem6", "Column6");
                bulkInsert.ColumnMappings.Add("CollectionItem7", "Column7");
// dataLines is a collection of objects
                bulkInsert.WriteToServer(dataLines.AsDataReader());
                _context.SaveChanges();
            }
        }
        finally
        {
            _context.Connection.Close();
        } 
```

# linux - linux eclipse 远程系统shell

> ID：15131157
> 
> 赞同：0
> 
> 时间：2013-02-28T08:50:02.950
> 
> 标签：linux, eclipse, shell, ubuntu-12.04

我正在尝试通过 Eclipse (Juno) 中的远程系统视图在本地系统 (Ubuntu 12.04) 上运行命令，如下所述：http: //help.eclipse.org/juno/index.jsp?topic=% [2Forg.eclipse .rse.doc.user%2Ftasks%2Ftruncmdsview.html&cp=58_4_0](http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.rse.doc.user%2Ftasks%2Ftruncmdsview.html&cp=58_4_0)

我打开本地shell，但按回车后没有执行任何命令。我错过了一些配置步骤吗？我通过下载和解压缩程序来安装 Eclipse，而不是通过存储库。

# android - 片段未显示预期输出

> ID：15131162
> 
> 赞同：0
> 
> 时间：2013-02-28T08:50:18.123
> 
> 标签：android, android-layout, android-intent

我是 Fragments 的新手，我正在努力解决这个问题。下面是我的代码。为了它。当我运行我的应用程序时，我没有任何错误消息，但我没有得到输出

**MainActivity.java**

```
public class MainActivity extends FragmentActivity{

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

}

} 
```

**MyFragments.java**

```
public class MyFragments extends Fragment {

public MyFragments() {
    // TODO Auto-generated constructor stub
}

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    View view = inflater.inflate(R.layout.fragment_one, container, false);
    return view;
}
} 
```

**fragment_one.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <TextView
    android:id="@+id/textView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="TextView" />

</LinearLayout> 
```

**activity_main.xml**

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:id="@+id/LinearLayout1"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical"
tools:context=".MainActivity" >

<fragment
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/fragment_One"
    android:name="com.benchmark.fragmentsdemo.MyFragments"
    android:layout_width="0dp"
    android:layout_height="fill_parent"
    android:layout_weight="1" />

<fragment
    android:id="@+id/fragment_two"
    android:name="com.benchmark.fragmentsdemo.MyFragments"
    android:layout_width="0dp"
    android:layout_height="match_parent"
    android:layout_weight="2" />

</LinearLayout> 
```

请任何人帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:05:43.263

试试这个：

```
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
      xmlns:tools="http://schemas.android.com/tools"
      android:id="@+id/LinearLayout1"
       android:layout_width="fill_parent"
       android:layout_height="match_parent"
       android:orientation="vertical"
        tools:context=".MainActivity" > 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:08:47.757

您的布局未正确实现。

试试下面的布局。

**activity_main.xml**

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:id="@+id/LinearLayout1"
android:layout_width="match_parent"
android:weightSum="1"
android:layout_height="match_parent"
android:orientation="vertical"
tools:context=".MainActivity" >

<fragment
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/fragment_One"
    android:name="com.benchmark.fragmentsdemo.MyFragments"
    android:layout_width="fill_parent"
    android:layout_height="0dp"
    android:layout_weight="0.5" />

<fragment
    android:id="@+id/fragment_two"
    android:name="com.benchmark.fragmentsdemo.MyFragments"
    android:layout_width="fill_parent"
    android:layout_height="0dp"
    android:layout_weight="0.5" />

</LinearLayout> 
```

父 LinearLayout 的方向是垂直的，您正在制作片段 0dp 的宽度，而不是高度

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:15:01.833

嘿，看看这个关于 Fragments 的教程，有一个逐步创建它的过程，所以它可能对你有用**[点击这里](http://www.vogella.com/articles/AndroidFragments/article.html)**并查看developer.android 提供的**[文档。](http://developer.android.com/training/basics/fragments/creating.html)**

# php - 来自 PHP Echo 的 xCode NSInvalid 参数异常

> ID：15131163
> 
> 赞同：0
> 
> 时间：2013-02-28T08:50:21.187
> 
> 标签：php, objective-c, xcode

我正在尝试编写一个基于`MySQL`数据库的新闻提要系统，我用`PHP`它来回显文章，但是我不断发现新的特殊字符导致

```
'NSInvalidArgumentException', reason: '*** -[NSPlaceholderString initWithFormat:locale:arguments:]: nil argument' 
```

有什么方法可以阻止`PHP`或`Xcode`阻止，我已经使用了替换`PHP`并有一个很大的字符列表，但是它可以工作一段时间，直到有人添加带有新字符的新文章。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T08:54:36.700

尝试使用 php ` [utf8_encode](http://php.net/manual/en/function.utf8-encode.php) php 函数对特殊字符进行编码

# php - Jquery：使用其他页面返回值重新加载主页

> ID：15131164
> 
> 赞同：0
> 
> 时间：2013-02-28T08:50:24.597
> 
> 标签：php, javascript, jquery, ajax

```
mainpage.php, 
loginModal.php, 
signInvalidate.php 
```

我有一个页面有一个按钮，当单击弹出模式对话框时，模式的内容来自使用 jquery .load 的其他页面（loginModal.php），所以现在模式的内容是一个登录表单，使用验证将信息发送到signInvalidate.php 的jquery ajax。我在验证时没有问题，如果它是错误的，它仍然会返回错误，但如果它是正确的信息，我想重新加载主页。我将如何做到这一点？还是 Jquery .load 接受返回 TRUE 值。

例如

签名无效.php

```
$result = $userFunction->checkLogin($useremail, @$password, @$remember, $gotUrl);

if($result == TRUE){

    return TRUE;

} 
```

loginModal.php

```
success: function(msg){

    if(msg == TRUE){

        return true;

    }else{  

        $("#signInOutput").html(msg);

    }

} 
```

主页.php

```
$('#previewOutput').load('modalLogin.php', function(){                        

}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:01:11.567

您可能应该返回一个 JSON 对象，该对象具有您可以检查的已知键（例如`status`）和值（例如`success`）。

在 PHP 方面，您可以使用（假设 5.2+ ）而不是`return TRUE`：

```
print json_encode(array('status' => 'success' )); 
```

如果你需要返回而不是打印，你显然应该改变它。在 Javascript 方面，您只需对其进行 JSON 解码并进行处理：

```
success: function(data) {
  var state = $.parseJSON(data);
  if(state.status == 'success') {
     window.reload();
  }

} 
```

我认为上述内容需要一些修补，但它应该作为一个良好的基础。

**编辑：**固定代码。

# javascript - Testing node application with Mocha and Should

> ID：15131167
> 
> 赞同：1
> 
> 时间：2013-02-28T08:50:38.593
> 
> 标签：javascript, node.js, mocha.js, should.js

I am javascript+node beginner and also relatively new to asynchronous programming style. I am comfortable with Ruby and Rails and now trying to teach myself node.

I am working on a node app where I need to fetch data from Facebook for which I am using the 'facebook-api' node package.

I am using a BDD approach ( newcomer here as well, never used rspec much in ruby) with mocha + should.js.

Here is some of the early code I have written:

**lib/facebook_adapter.js**

```
var raw = require('facebook-api').raw;

function getFacebookData(facebookpage,callback)
{

    raw("GET",facebookpage,[],function(error,data){

        if (error) 
        {
            conosle.log(error);
        }
        else
        {
            var facebook_data = {};
            facebook_data.likes = data.likes;
            facebook_data.talking_about = data.talking_about;
        }

        callback(facebook_data);
    });
}

module.exports = {
    'getFacebookData' : getFacebookData
}; 
```

**test/facebook.test.js**

```
'use strict';

var assert = require('assert')
    ,should = require('should')
    ,facebook_adapter = require('../lib/facebook_adapter');

describe('FacebookAdapter',function(){ 

    it('should fetch the like and followcount for a brand name from Graph API',function(done){

        facebook_adapter.getFacebookData('Edelman', function(facebook_data){

            for ( var prop in facebook_data)
            {
                console.log('meoww');
                facebook_data[prop].should.be.a('number');
            }

        done();
        });
    });
}); 
```

To execute mocha test, I have a makefile in the root directory of the express application. Here is the content:

```
test:
    @./node_modules/.bin/mocha -u tdd
.PHONY: test 
```

Now, when executing the tests, I always end up with the error:

```
․․․meoww
meoww
․․
  ✖ 2 of 4 tests failed:

  1) FacebookAdapter should fetch the like and followcount for a brand name from Graph API:
     Error: global leaks detected: data_array, parsed
      at Runner.checkGlobals (/Users/myth/Learn/Code/Projects/socialindex/node_modules/mocha/lib/runner.js:167:21)
      at Runner.<anonymous> (/Users/myth/Learn/Code/Projects/socialindex/node_modules/mocha/lib/runner.js:58:44)
      at Runner.EventEmitter.emit (events.js:126:20)
      at Runner.uncaught (/Users/myth/Learn/Code/Projects/socialindex/node_modules/mocha/lib/runner.js:466:10)
      at process.Runner.run (/Users/myth/Learn/Code/Projects/socialindex/node_modules/mocha/lib/runner.js:508:10)
      at process.EventEmitter.emit (events.js:126:20)

  2) FacebookAdapter should fetch the like and followcount for a brand name from Graph API:
     Error: global leaks detected: data_array, parsed
      at Runner.checkGlobals (/Users/myth/Learn/Code/Projects/socialindex/node_modules/mocha/lib/runner.js:167:21)
      at Runner.<anonymous> (/Users/myth/Learn/Code/Projects/socialindex/node_modules/mocha/lib/runner.js:58:44)
      at Runner.EventEmitter.emit (events.js:126:20)
      at Runner.uncaught (/Users/myth/Learn/Code/Projects/socialindex/node_modules/mocha/lib/runner.js:466:10)
      at process.Runner.run (/Users/myth/Learn/Code/Projects/socialindex/node_modules/mocha/lib/runner.js:508:10)
      at process.EventEmitter.emit (events.js:126:20) 
```

Why is the test executing twice? I dont also seem to be misusing any globals as well. Why the error?

# java - What is the best java based CSV parser for parsing bank statements?

> ID：15131171
> 
> 赞同：-2
> 
> 时间：2013-02-28T08:50:59.293
> 
> 标签：java, parsing, csv

What is the best CSV java library to parse bank statements. Is there any standard csv format for bank statements? Where can i get the sample files?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T08:53:17.983

我使用 openCSV。

非常易于使用，请参见示例：

[http://opencsv.sourceforge.net/#how-to-read](http://opencsv.sourceforge.net/#how-to-read)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T08:53:55.010

在 csv 中解析银行对账单与解析任何其他 csv 文件一样好。

我总是依赖[OpenCsv](http://opencsv.sourceforge.net/)。

# javascript - 在菜单项单击时使用 Joomla 的 Full Ajax 刷新或加载背景图像

> ID：15131175
> 
> 赞同：1
> 
> 时间：2013-02-28T08:51:11.940
> 
> 标签：javascript, jquery, css, ajax, joomla

单击 Joomla 菜单项后，我试图在后台生成浏览器刷新。

我的问题是我已经在使用 ajax 来处理页面上的内容组件和其他元素以在一个位置刷新，但我需要以这种方式更新这些： - 用户单击菜单项，然后加载新背景和新内容

当我点击 F5 / 刷新页面时，背景通常会发生变化，并且它与活动的 menuItemId 对应；只是要注意ajax根据menuItemID更改URL，但他没有更改需要从css中提取的背景-

我以这种方式使用基于菜单项 ID 的简单 css 背景状态：

html部分

```
<body id="background<?php echo JRequest::getInt( 'Itemid' ); ?>"> 
```

css（101、102、103...114 是菜单项 ID）

```
 #background101{ background:transparent url(../images/1.jpg) no-repeat 100% 100%; }
    #background102 { background:transparent url(../images/2.jpg) no-repeat 100% 100%;}
    #background103 { background:transparent url(../images/3.jpg) no-repeat 100% 100%; } 
```

Joomla 中安装的插件是[FullAjax 插件](http://extensions.joomla.org/extensions/core-enhancements/performance/scripts/13293)

我阅读了有关配置的手册，但没有说明如何根据 menuItemID 刷新页面/站点背景

JavaScript 代码，FullAjax 的参数

```
 FLAX.Filter.add({url:'/', id:fullAjaxId});
 FLAX.Filter.add({query:['task=weblink','task=profile','task=user.login','task=user.logout','task=article.edit'],  type:'nowrap'});
 FLAX.Filter.on('beforewrap', function(o) {
  var id = o.el.getAttribute('id'), regExt = /.+\.(jpg|jpeg|gif|png|mp3|mp4|ogg|ogv|webm|pdf|txt|odf|ods)$/i;
  if(id == ('login-form') || id == ('form-login') || (o.el.href && (regExt.test(o.el.href) || o.el.href.indexOf('#') != -1))){return false;}
 });
 FLAX.directLink();FLAX.Default.sprt_url = '!';
 FLAX.linkEqual['!ax!'+fullAjaxId+'!'] = 'ajx';FLAX.linkEqual['[~q~]'] = '?';
 /* fix for mootools 'domready', uncomment if need */
 /* FLAX.Html.onall('load', function(o){window.fireEvent('domready');}); */ 
```

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T10:38:27.437

它不起作用，因为`<body>`没有更改，您需要在每次 ajax 调用后进行一些编码来更改它。

如果您`Check the active menu item`启用了选项，那么您可以执行以下操作：

```
FLAX.Html.onall('load', function(){
    if(fullAjaxMItems.length){
       //set id using MooTools
       document.id(document.body).set('id', 'background' + fullAjaxMItems[0]);
    }
  }); 
```

如果未启用此选项，则只需在模板`<head>`中添加将保留当前菜单项 ID 的变量，例如：

```
<script>
  var currentItemId = <?php echo JRequest::getInt( 'Itemid' ); ?>;
</script> 
```

然后在插件配置中：

```
FLAX.Html.onall('load', function(){
  if(window.currentItemId){
     //set id using MooTools
     document.id(document.body).set('id', 'background' + currentItemId);
  }
}); 
```

# algorithm - What is the minimum of bytes to encode a number?

> ID：15131176
> 
> 赞同：-4
> 
> 时间：2013-02-28T08:51:12.593
> 
> 标签：algorithm, math

I need to encode a number in range from 0 to 7^20 (integer). I want to use the minimum of bytes to encode a such number. So what is the minimum of bytes to do that? please help me. Thank you so much

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:07:05.417

您需要从 0 编码到 7 ^(20)，这意味着总共有 7 ^(20) + 1 个值。如果没有关于输入的任何信息，您能做的最好的事情是 ⌈log [2] (7 ^(20) + 1)⌉ = 每个数字 57 位。

您可以为每个数字提供 8 个字节，这也很容易解码。但是每个数字浪费了 7 位。

另一种方法是每个数字准确存储 57 位并将这些数字紧密地打包在一起。每个存储的 8 个数字可以节省 7 个字节（因此 8 个数字将占用 57 个字节而不是 64 个字节）。但是，恢复原始数字会稍微复杂一些。

我缺乏知识不允许我谈论任何可以做得更好的方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T08:56:24.923

粗略估计：3 位足以编码 0..7，因此 3 ⋅ 20 = 60 位足以编码 0..7 ^(20)。更准确：⌈log [2] 7 ^(20) ⌉ = 57 位就足够了。

如果要编码的数字均匀分布在此范围内，您将无法做得更好。否则，您可以通过为更常见的数字提供更短的代码来平均做得更好。

# jwplayer - 使用 CloudFront 流式传输到 JWPlayer

> ID：15131177
> 
> 赞同：4
> 
> 时间：2013-02-28T08:51:13.400
> 
> 标签：jwplayer, rtmp, amazon-cloudfront

我遵循以下教程： [http ://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/TutorialStreamingJWPlayer.html](http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/TutorialStreamingJWPlayer.html)

我在 localhost 中托管了我的 html 代码（目前）。我打开播放器，但播放器不播放任何视频。它只是继续旋转（表明它仍在加载）。但是没有任何缓冲或没有其他任何事情发生。

```
<head>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
<script type="text/javascript" src="jwplayer.js"></script>
</head>
<body>
<div id='mediaplayer'>This text will be replaced</div>
<script type="text/javascript">
   jwplayer('mediaplayer').setup({
      flashplayer : 'jwplayer.flash.swf',
      width: '720',
      height: '480',
      file: 'rtmp://sxxxxxx.cloudfront.net/cfx/st/a.mp4'
   });
</script>
</body> 
```

a.mp4 文件已在 S3 存储桶中标记为公开。我还为云前端创建了另一个 http 下载，如果我只是将以下 URL 文件下载下来。

```
http://dxxxxxx.cloudfront.net/a.mp4 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-28T10:59:10.463

您使用的是哪个版本的 JWPlayer？我不确定这是否是问题，但我必须在我的 url 的文件名部分加上前缀`mp4:`，如下所示：

```
'rtmp://sxxxxxx.cloudfront.net/cfx/st/mp4:a.mp4' 
```

如果这不起作用代码，您将代码放在公共 URL 上，以便我们可以帮助您诊断问题？

**3 月 1 日更新**

我查看了您的 JWplayer 设置，看起来不错。

我有一个用于测试的本地 JWPlayer 页面 - 它适用于我从 Amazon CloudFront 获得的 RTMP 流，但一旦切换到您的 RTMP 文件，我就会收到与您相同的错误。

因此，我认为问题必须与您的亚马逊设置有关。可能值得仔细检查文件的权限，或者尝试添加一些其他文件进行测试（我可以看到您已将其公开，但您可能还需要设置一些文件级权限）

# .net - ValidationSummary showing for fields that are not in page

> ID：15131179
> 
> 赞同：3
> 
> 时间：2013-02-28T08:51:19.517
> 
> 标签：.net, asp.net-mvc

I created a login page based on the user model, the user has additional required fields apart from username and password (e.g. e-mail address) but I'm only displaying username and password for login.

The problem is that if I leave username and/or password empty, the ModelState is getting error messages for all fields within the Model class, resulting in misleading validation messages.

The code for the view is:

```
<div class="form-login">
@using (Html.BeginForm())
{
    <h2 class="form-signin-title">Login</h2>
    <div class="editor-label">
        @Html.LabelFor(model => model.Username)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.Username)
        @Html.ValidationMessageFor(model => model.Username)
    </div>

    <div class="editor-label">
        @Html.LabelFor(model => model.Password)
    </div>
    <div class="editor-field">
        @Html.PasswordFor(model => model.Password)
        @Html.ValidationMessageFor(model => model.Password)
    </div>
    <button class="btn btn-medium btn-primary" type="submit">Login</button>
} 
```

The validation summary is part of the _Layout, and is only displayed if the model is not valid.

Is there a way I can show a validation summary for the controls on screen only?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T08:57:05.067

显示验证错误消息是因为 asp.net MVC 验证验证了视图模型。因此，是否在视图中显示字段并不重要，因为模型作为一个整体已经过验证。您应该为此表单使用仅包含显示字段的专用视图模型。

# ios - MFMailComposeViewController get email body

> ID：15131180
> 
> 赞同：4
> 
> 时间：2013-02-28T08:51:20.080
> 
> 标签：ios, xcode, email, mfmailcomposeviewcontroller

I can detect sending in the `MFMailComposeViewController's` delegate method

```
- (void)mailComposeController:(MFMailComposeViewController *)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError *)error 
```

How can i get text of this message?

I need it for analytics.

Thnx

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:07:40.150

我不认为，您可以从委托方法中获取文本。

# java - Signing jar with timestamp and authentication at the timestamp server

> ID：15131185
> 
> 赞同：5
> 
> 时间：2013-02-28T08:51:34.463
> 
> 标签：java, jarsigner, jar-signing

I want to use the timestamp option `-tsa` of the java [jarsigner](http://docs.oracle.com/javase/7/docs/technotes/tools/windows/jarsigner.html) tool. The timestamp service I have in mind requires authentication. For this purpose you get a personalized soft token to identify yourself at the timestamp server.

My question: Is this authentication supported by the jarsigner tool? In other words: does jarsigner support RFC 3161 (Time-Stamp Protocol) *and* RFC 2246 (Authentication)?

There is an option `-tsacert` of the jarsigner. The documentation states:

> If "-tsacert alias" appears on the command line when signing a JAR file then a timestamp is generated for the signature. The alias identifies the TSA's public key certificate in the keystore that is currently in effect. The entry's certificate is examined for a Subject Information Access extension that contains a URL identifying the location of the TSA.

What I am confused by is the wording "a timestamp is generated for the signature". What does this mean? Also the wording "the alias identifies the TSA's public key certificate" is confusing: it seems that it is used to verify the timestamp (because it's a public key) not to identify the requester (because it is not a private key).

Moreover: The certificate with which I want to sign is *not* a soft token but is stored on a smart card. It can not be exported to a keystore. Therefore I have to use the options `-keystore NONE -storetype PKCS11`. I think that for this reason the option `-tsacert alias` can't be used because it needs a real keystore which contains the soft token.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-03-03T14:09:25.997

签名 Jarfile 的有效性受用于签名的证书的有效性限制。

时间戳只能说明 jarfile 的签名时间。

要签署 jarfile，pvtkey 是必须的。对于时间戳，技术上不需要密钥，只需要它的哈希值。

有关更多信息，请参阅下面的链接， [https://www.digistamp.com/technical/how-a-digital-time-stamp-works/](https://www.digistamp.com/technical/how-a-digital-time-stamp-works/)

谢谢你。

# java - Validate each read byte array buffer while reading a file

> ID：15131188
> 
> 赞同：1
> 
> 时间：2013-02-28T08:51:40.947
> 
> 标签：java, file, io, character

I'm trying to read a file using the known 'read' method by the `FileInputStream` class into a certain `byte[]` buffer with a specific size (e.g 1024). Right after filling that buffer I'd like to validate it's characters (lets say one by one) but I don't want to convert it to a String (or use regex) since I might lose data.

Could anyone advice me what's the best way doing that specific validation? *Note: I know I can use `Character.isLetter` and such methods but I'm not sure how to iterate that buffer.*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:06:03.580

我认为这应该涵盖您想要做的事情：

```
byte[] arr = new byte[1024];
int len = System.in.read(arr);
while (len != -1)
{
  for (int i = 0; i < len; i++)
    System.out.println((char)arr[i] + " - " + Character.isLetter((char)arr[i]));
  len = System.in.read(arr);
} 
```

# search-engine - how to understand "what keyword had been searched to find a specific page of my website"?

> ID：15131189
> 
> 赞同：0
> 
> 时间：2013-02-28T08:51:48.927
> 
> 标签：search-engine

I wanna know what keyword was type in search engin textbox that leads the user to my website ... it is pretty easy for google ... because it hold the search parameter in it's querystring and after redireting change it to destination ... (if u right clik on one of the items in google search list and 'Copy link address' you can see that keywords are in 'q' parameter). but for other search engins like yahoo.com, bing.com, volunia.com (and the rest of sites mentioned in this link [http://en.wikipedia.org/wiki/List_of_search_engines](http://en.wikipedia.org/wiki/List_of_search_engines) ) the querystring don't contain the keywords and it directly refer to a site. How can I find the user keywrod in all search engins?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:02:09.677

看看这个（免费注册）

> [http://www.google.co.in/webmasters/](http://www.google.co.in/webmasters/) 和 [http://www.bing.com/toolbox/webmaster](http://www.bing.com/toolbox/webmaster)

我假设你想要一个 API 对吗？Google Analytics 提供 API 来收集、配置和报告用户交互

Clicky Analytics API 也可以帮助您

他们为您提供了正确的方式来获得您想要的其他东西

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T08:53:38.660

注册谷歌分析！！非常易于安装和使用。

# replace - 使用 awk 仅替换一次 $4 和 $5 之间的分隔符

> ID：15131194
> 
> 赞同：2
> 
> 时间：2013-02-28T08:52:03.950
> 
> 标签：replace, sed, awk

我真的是 awk 语言的新手，我对它的强大功能感到惊讶。（我今天发现了这个），因为我有一个这种格式的文件：

```
test1;test2;test3;test4;test5;test6;test7 
```

我需要在一个新文件中输出它并得到这个结果：

```
test1;test2;test3;test4 test5;test6;test7 
```

基本上在 4 到 5 美元之间添加“”。我知道对此有很多问题，但我无法做我想做的事。

我正在测试我在这里某处找到的这段代码：

```
 for (i=1;i<=3;i++)
      printf "%s;", $i

   n = split($0,tmp,/  +/)

   for (i=6;i>=8;i++)
      printf ";%s", tmp[n-i]

   print ""
} 
```

但我得到的输出如下：

```
test1;test2;test3;test4;test5;test6;;; 
```

你能告诉我我做错了什么吗？而且，还有另一种简单的方法，比如 awk 中的单行代码来做到这一点？先感谢您

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T08:58:05.720

我会在这个上使用 sed。基于问题是“替换第 4 个 ; 字符”，您可以使用以下命令：

```
sed 's/;/ /4' <inputfile> 
```

这会将结果输出到标准输出，或者您可以使用“sed -i”来完成它。

见[http://www.gnu.org/software/sed/manual/html_node/The-_0022s_0022-Command.html](http://www.gnu.org/software/sed/manual/html_node/The-_0022s_0022-Command.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-28T08:56:22.647

试试这个 ：

```
echo "test1;test2;test3;test4;test5;test6;test7" | awk -F';' '{
   for (i=1; i<=NF; i++)
        printf "%s%s", $i, (i == 4) ? " " : ";"
}' 
```

## 输出

```
test1;test2;test3;test4 test5;test6;test7 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-28T09:13:16.680

如果您使用的是 GNU awk，则可以使用与*chooban*建议的类似的解决方案：

```
 awk '{ $0=gensub(";", " ", "4") } 1' 
```

最后`1`调用默认块：`{ print $0 }`.

# java - JSP compilation by IDEA

> ID：15131195
> 
> 赞同：2
> 
> 时间：2013-02-28T08:52:05.267
> 
> 标签：java, jsp, intellij-idea

I would like to compile my JSP files when I press compile button at IDEA. Is this possible?

Use case:

I am trying to use Dropwizard with JSP support. JSP support is not available and I have to modify to support it. I have two way to provide support. One of them is using already compiled JSP files. That is why at my development environment I wanted to compile JSP files in case a modification.

# extjs - Why the count of items in a store which is not autoLoad is 0?

> ID：15131196
> 
> 赞同：0
> 
> 时间：2013-02-28T08:52:11.237
> 
> 标签：extjs, extjs4.1

I am using ExtJs 4.1.

I have a Store like this:

```
var predictTargetStore = new Ext.create('Ext.data.Store',{
    autoLoad : false,
    fields: ['label','value'],
    proxy : {
        type : 'ajax',
        reader : {
            type : 'json',
            root : 'predictTargetList'
        }
    }
}); 
```

I will do predictTargetStore.load({url : 'getPredictTargetList.action'}) some time later.after I have done this,the combobox which used predictTargetStore will have choices. but when I try to get one item from the store,I failed.I do like this:

```
predictTargetStore.load({
    url : 'getPredictTargetList.action'
});
var value = predictTargetStore.getAt(0).get('value'); 
```

I find predictTargetStore.getAt(0) is null and predictTargetStore.getCount() is 0. so how can I get one item of the store? thank you very much!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T01:42:11.720

我试过了，下面会做的伎俩：

```
user.load({
    scope: this,

    callback: function(records, operation, success) {
    user.each(function(record) {
        console.log(record.get('name'));
    });
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T12:59:48.340

等待服务器响应：

```
predictTargetStore.load({
    url : 'getPredictTargetList.action',
    callback: function () {
        var value = predictTargetStore.getAt(0).get('value');
    }
}); 
```

有关`callback`功能的详细信息，请[点击此处](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.Operation-cfg-callback)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T15:12:41.590

我遇到了以下代码的类似问题：`

```
Ext.define('MyApp.model.EOrder.Model.TestRequest', {
    extend : 'Ext.data.Model',
    fields : [{
            name : 'testId',
            type : 'int'
        }, {
            name : 'testCode'
        }, {
            name : 'testName'
        }, {
            name : 'price',
            type : 'float'
        }
    ]
});

var testStagingStore = Ext.create('Ext.data.Store', {
        model : 'MyApp.model.EOrder.Model.TestRequest',
        storeId : 'StagingTestRequest',
        autoLoad : false,
        proxy : {
            type : 'ajax',
            url : 'LOINC.json',
            reader : {
                type : 'json',
                root : 'TestRequest'
            }
        },
        listeners : {
            load : function () {
                loadedCount = this.data.getCount();
                console.log('json file loaded. processed records:' + loadedCount);
            }
        }
    });

testStagingStore.load();

console.log(testStagingStore.data.items);    // in chrome "network" console, I know my json file was loaded successfully. But here I get nothing! 
```

`

不确定数据属性是否正确填充。

我相信您也有同样的问题，因为 getAt 将从 data property 检索记录。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-28T09:38:28.937

我认为您需要提及`url`代理内部或者您需要使用`setProxy()`商店上的方法来设置URL。如果不这样做，这些值可能不会被返回。查看 sencha 文档以获取更多信息。

# android - Better option to handle JPEG byte array decoding

> ID：15131201
> 
> 赞同：2
> 
> 时间：2013-02-28T08:52:40.017
> 
> 标签：android, bitmap, android-ndk, jpeg

Given a JPEG Encoded byte array taken from a camera, I need to decode it and display its image (bitmap) in my application. From searching around, I've found that there are two primary ways to go about this: [use NDK Jpeg Decoding library](https://stackoverflow.com/questions/7743511/android-please-advise-a-fast-way-to-decode-jpeg-image) or use [BitmapFactory.decodeByteArray](https://stackoverflow.com/questions/2183808/android-bitmapfactory-decodebytearray-gives-pixelated-bitmap). This is for an experimental embedded device being developed that runs on Android with a built-in camera.

I would greatly prefer to develop the application in SDK not NDK if possible at all, but many people seemed to handle this problem by going straight to NDK, which bugged me a bit.

*   Is there some sort of inherent limitation in BitmapFactory.decodeByteArray that forces you to handle this problem by using libjpeg in NDK (Perhaps speed? Incompatibility?)

Performance isn't a big consideration unless if it takes say more than 45 seconds to decode the image and display it.

This is an important decision I need to make upfront, so I'd appreciate any thoughtful answers. Thank you so much.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T08:57:28.213

这是一个非常好的示例/说明如何在不使用 NDK 的情况下有效地在设备上解码图像：[高效显示位图](http://developer.android.com/training/displaying-bitmaps/index.html)。您可以选择从流或文件中解码位图，这取决于您的需要。但是在我的大多数应用程序中，我都使用相同的方法，并且效果很好。所以我建议你看一下SDK示例。

希望它会帮助你。

# c# - c# interop.word - printout - randomly changed printer settings

> ID：15131204
> 
> 赞同：0
> 
> 时间：2013-02-28T08:53:09.410
> 
> 标签：c#, printing, ms-word, interop, office-interop

I'm having a really weird problem with Interop.

I developed a small program that opens a **Microsoft.Office.Interop.Word.Application** and use it to prints documents:

```
object[] oWordDialogParams = { printerName, true };
string[] argNames = { "Printer", "DoNotSetAsSysDefault" };
object wordBasic = wordApplication.WordBasic;
try
{
  wordBasic.GetType().InvokeMember("FilePrintSetup"
  , BindingFlags.InvokeMethod
  , null
  , wordBasic
  , oWordDialogParams
  , null
  , null
  , argNames);
}
catch (Exception e)
{
  Logger.Instance.Log("failed to set printer");
}
doc.Activate(); 
wordApplication.PrintOut(Background: ref backgroundPrint, FileName: ref sourceFile); 
```

Everything works fine pretty always (I would say 95% of the times), I'm able to see the correct print queue and, most important, the printer settings are **the default printer settings** (i.e.: nothing happens in the printer preferences):

[![ok](../Images/cc0bac839c70ffff75de62b1146b2293.png)](https://i.stack.imgur.com/ETwss.png)

But, in a few cases, the document is passed to the printer without the extension (docx in this case) **and the printer setting are changed (for example the paper size is set to letter)**:

[![notok](../Images/2e4002dbca81550c0b2f9b3fdada59dc.png)](https://i.stack.imgur.com/XC481.png)

Please note that:

*   in my code the *FileName: ref sourceFile* is always correctly set with the extension, but (randomly!) it appears in the print queue without the extension. **When this happens it means also that the printer settings are changed to something not default**.

*   the exact same document reprinted works fine (!)

I'm working with:

*   framework 4.0
*   interop 12.0
*   windows server 2008 R2
*   the printer uses the HP Universal Print Driver

Thank you all for your precious help!

# spring - Servlet 中的请求和会话

> ID：15131210
> 
> 赞同：1
> 
> 时间：2013-02-28T08:53:24.847
> 
> 标签：spring, session, tomcat, servlets

我对网络中的请求和会话有非常简单的问题。当我从具有不同选项卡的同一浏览器或通过新窗口多次请求同一页面页面时，会话 ID 和会话创建时间相同。

这是我从 Internet Explorer 完成的。但是，当使用不同的浏览器（如谷歌浏览器）并访问同一页面时，会出现不同的会话 ID 和会话创建时间。据我了解，http请求是无状态的。

因此，在我的情况下，它在同一浏览器中似乎不是无状态的，因为对于不同的 http 请求，新线程是通过容器创建新的 servlet 来创建的。所以我得出以下结论：

如果请求是从打开不同选项卡的同一浏览器发送的，或者当时通过另一个新窗口发送请求，则请求始终使用相同的线程进行具有相同会话 ID 的 servlet 操作。如果请求是从不同的浏览器发送的，那么新的 http 请求将使用新的会话 ID 发送。所以，我的问题是什么时候它是无状态的？如果请求是从不同的浏览器同时发送的？如果我在春天宣布 `scope="request">`， `scope="session">`那么它也遵循同样的情况吗？如果我的理解有误，请纠正我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:06:05.807

当您的服务器应用程序启动一个新会话时，servlet 容器会向浏览器发送一个`Set-Cookie`带有返回值的标头。`JSESSIONID`浏览器保存该 cookie，并在每次请求时将其发送回服务器，无论您从哪个选项卡发出请求。显然其他浏览器无权访问该 cookie，因此它们将从服务器接收另一个。

当您的服务器收到带有`JSESSIONID`cookie 的请求时，它可以将该请求与之前发出的具有相同 id 的请求相关联。serlvet 容器能够将不同的属性与该 id 相关联，并在请求之间保留这些属性。http session 对象基本上是这些属性的容器，您的服务器应用程序对其具有读/写访问权限。基本上，这就是在其他无状态的 http 协议之上使用 http 会话实现状态的方式。

至于线程：每个请求都可以由任何随机线程处理，因为会话数据不绑定到特定线程。servlet 容器维护着从会话 id 到包含不同属性的会话对象的映射。因此，任何随机线程都可以根据其会话 ID 访问属于当前请求的会话对象。

在 Spring 中，`request`作用域意味着为每个请求新创建一个 bean 实例，而`session`作用域 bean 的生命周期绑定到 http 会话的生命周期。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:07:12.950

**春天**

```
scope="request" 
```

为每个请求创建新的 bean 实例。

```
 scope="session" 
```

为每个会话创建新的 bean 实例。并在整个会话生命周期中维护 bean 实例

[参考this以获得更好的理解](http://static.springsource.org/spring/docs/3.0.0.M3/reference/html/ch04s04.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T09:24:17.227

与浏览器无关，Http 协议是无状态的。State-fullness 是通过 cookie 和 session 实现的。

当从浏览器发送请求时，服务器会创建会话并将唯一的 id 发送回客户端。并且客户端在后续请求中使用此 id(Cookie)，以便服务器可以识别请求并将其与会话相关联。

就请求而言，服务器创建单独的线程来处理每个请求，而不考虑窗口、选项卡或浏览器。但是，每个浏览器只会创建一个会话。

注意：最新的浏览器共享会话和从选项卡发出的请求，或者新窗口将使用相同的会话。Ex 最新的 IE 版本 IE7、IE8 和 IE9 被称为松耦合 IE (LCIE)。检查此以获取更多详细信息[LCIE](http://blogs.msdn.com/b/ie/archive/2008/03/11/ie8-and-loosely-coupled-ie-lcie.aspx)

# google-api - Google API 可以请求有关自身的详细信息吗？

> ID：15131211
> 
> 赞同：0
> 
> 时间：2013-02-28T08:53:27.210
> 
> 标签：google-api

Facebook 应用程序可以请求有关自己的详细信息，这很有帮助，因为我们只需要获取应用程序的 id 和秘密，然后可以从 Facebook 加载其余部分。是否可以对 googles API 访问做同样的事情？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-12T08:03:27.687

似乎不可能用 Google API 进行自省。

# iphone - 使用opengl对图像进行模糊效果绘图

> ID：15131213
> 
> 赞同：1
> 
> 时间：2013-02-28T08:53:42.103
> 
> 标签：iphone, objective-c, opengl-es, core-graphics, cgcontext

[我和这个问题](https://stackoverflow.com/questions/6980402/blur-effect-wet-in-wet-effect-in-paint-application-using-opengl-es)有同样的要求

我现在处于在我的 opengl 视图上设置 UIImage 的情况。下面是我用来设置 uiimage 的完整代码。它还包括绘图代码。使用下面的代码，我可以设置图像并在其上绘图。

当我不在背景中设置图像时，它允许我绘制模糊和平滑的绘图

但是如果我设置背景图像，它会绘制实体图

我想在背景图像上平滑绘图。

我使用了苹果的一些 GLPaint 代码进行绘图。

```
 - (id)initWithCoder:(NSCoder*)coder
{
    CGImageRef      brushImage;
    CGContextRef    brushContext;
    GLubyte         *brushData;
    size_t          width, height;

    if ((self = [super initWithCoder:coder]))
    {
        CAEAGLLayer *eaglLayer = (CAEAGLLayer *)self.layer;
        eaglLayer.opaque = NO;
        eaglLayer.drawableProperties = [NSDictionary dictionaryWithObjectsAndKeys:
                                        [NSNumber numberWithBool:YES], kEAGLDrawablePropertyRetainedBacking,
                                        kEAGLColorFormatRGBA8, kEAGLDrawablePropertyColorFormat,
                                        nil];

        _context = [[EAGLContext alloc] initWithAPI:kEAGLRenderingAPIOpenGLES1];
        if (!_context || ![EAGLContext setCurrentContext:_context])
        {
            return nil;
        }

        {
            brushImage = [UIImage imageNamed:@"Brush.png"].CGImage;

            width = CGImageGetWidth(brushImage);
            height = CGImageGetHeight(brushImage);

            if(brushImage) {
                brushData = (GLubyte *) calloc(width * height * 4, sizeof(GLubyte));
                brushContext = CGBitmapContextCreate(brushData, width, width, 8, width * 4, CGImageGetColorSpace(brushImage), kCGImageAlphaPremultipliedLast);
                CGContextSetLineCap(UIGraphicsGetCurrentContext(), kCGLineCapRound);
                CGContextDrawImage(brushContext, CGRectMake(0.0, 0.0, (CGFloat)width, (CGFloat)height), brushImage);
                CGContextRelease(brushContext);
                glGenTextures(1, &brushTexture);
                glBindTexture(GL_TEXTURE_2D, brushTexture);
                glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);
                glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, width, height, 0, GL_RGBA, GL_UNSIGNED_BYTE, brushData);
                free(brushData);
            }
        }

        // Setup OpenGL states
        glMatrixMode(GL_PROJECTION);
        CGRect frame = self.bounds;
        glOrthof(0, frame.size.width, 0, frame.size.height, -1, 1);
        glViewport(0, 0, frame.size.width , frame.size.height);
        glMatrixMode(GL_MODELVIEW);

        glDisable(GL_DITHER);
        glEnable(GL_TEXTURE_2D);
        glEnableClientState(GL_VERTEX_ARRAY);

        glEnable(GL_BLEND);
        glBlendFunc(GL_ONE, GL_ONE_MINUS_SRC_ALPHA);

        glEnable(GL_POINT_SPRITE_OES);
        glTexEnvf(GL_POINT_SPRITE_OES, GL_COORD_REPLACE_OES, GL_TRUE);
        glPointSize(10);

    }
    return self;
}

  - (void)layoutSubviews
    {
        [EAGLContext setCurrentContext:_context];
        [self destroyFramebuffer];
        [self createFramebuffer];

        if (texture)    {
            [self _updateContent];
            glDeleteTextures(1, &texture);
            texture = 0;
        }
    }

    - (void)_updateContent {
        NSUInteger width = self.frame.size.width;
        NSUInteger height = self.frame.size.height;

        CGFloat texWidth = (1.0 * width)/TEX_SIZE;
        CGFloat texHeight = (1.0 * height)/TEX_SIZE;

        GLfloat verts[12] = {
            0, height,
            width, height,
            width, 0,
            0, height,
            0, 0,
            width, 0
        };

        GLfloat txcoord[12] = {
            0, texHeight,
            texWidth, texHeight,
            texWidth, 0,
            0, texHeight,
            0, 0,
            texWidth, 0
        };

        [EAGLContext setCurrentContext:_context];
        glBindFramebufferOES(GL_FRAMEBUFFER_OES, _viewFramebuffer);
        glVertexPointer(2, GL_FLOAT, 0, verts);
        glTexCoordPointer(2, GL_FLOAT, 0, txcoord);
        glDrawArrays(GL_TRIANGLES, 0, 6);

        glDisableClientState(GL_TEXTURE_COORD_ARRAY);

        glBindRenderbufferOES(GL_RENDERBUFFER_OES, _viewRenderbuffer);
        [_context presentRenderbuffer:GL_RENDERBUFFER_OES];

        glDisable(GL_TEXTURE_2D);
        glDisable(GL_BLEND);

    }

   - (void)setContent:(UIImage*)image
{

    if (image) {
        //        self.isNotEmpty = YES;
        CGImageRef contentImage = image.CGImage;

        [EAGLContext setCurrentContext:_context];

        CGFloat w = CGImageGetWidth(contentImage);
        CGFloat h = CGImageGetHeight(contentImage);

        GLubyte *data = (GLubyte *)calloc(TEX_SIZE * TEX_SIZE * 4, sizeof(GLubyte));

        CGContextRef ctx = CGBitmapContextCreate(data, TEX_SIZE, TEX_SIZE, 8, TEX_SIZE * 4, CGImageGetColorSpace(contentImage), kCGImageAlphaPremultipliedLast);
        CGContextScaleCTM(ctx, 1, -1);
        CGContextTranslateCTM(ctx, 0, -TEX_SIZE);
        CGContextDrawImage(ctx, CGRectMake(0, 0, w, h), contentImage);
        CGContextRelease(ctx);

        if (!texture) {
            glGenTextures(1, &texture);
        }
        glBindTexture(GL_TEXTURE_2D, texture);
        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);
        glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, TEX_SIZE, TEX_SIZE, 0, GL_RGBA, GL_UNSIGNED_BYTE, data);
        free(data);
    } 
    [self setNeedsLayout];        
    glDisable(GL_VERTEX_ARRAY);
} 
```

//在touchedMoved上调用

```
- (void) renderLineFromPoint:(CGPoint)start toPoint:(CGPoint)end
{
    glEnable(GL_BLEND);
    if(1){
        sharedDelegate = [AppDelegate appDelegate];

        static GLfloat*     vertexBuffer = NULL;
        static NSUInteger   vertexMax = 64;
        NSUInteger          vertexCount = 0,
        count,
        i;
        GLenum err;

        glColor4f(1.0, 0.0, 1.0, 1.0);

        // Convert locations from Points to Pixels
        CGFloat scale = self.contentScaleFactor;
        start.x *= scale;
        start.y *= scale;
        end.x *= scale;
        end.y *= scale;

        // Allocate vertex array buffer
        if(vertexBuffer == NULL)
            vertexBuffer = malloc(vertexMax * 2 * sizeof(GLfloat));

        // Add points to the buffer so there are drawing points every X pixels
        count = MAX(ceilf(sqrtf((end.x - start.x) * (end.x - start.x) + (end.y - start.y) * (end.y - start.y)) / kBrushPixelStep), 1);
        for(i = 0; i < count; ++i) {
            if(vertexCount == vertexMax) {
                vertexMax = 2 * vertexMax;
                vertexBuffer = realloc(vertexBuffer, vertexMax * 2 * sizeof(GLfloat));
            }

            vertexBuffer[2 * vertexCount + 0] = start.x + (end.x - start.x) * ((GLfloat)i / (GLfloat)count);
            vertexBuffer[2 * vertexCount + 1] = start.y + (end.y - start.y) * ((GLfloat)i / (GLfloat)count);
            vertexCount += 1;
        }

        if(sharedDelegate.boolIsEraser)
        {
            glColor4f(1.0, 1.0, 1.0, 0.5);
            glBlendFunc( GL_ZERO, GL_ONE_MINUS_SRC_ALPHA);
        }
        // Render the vertex array
        glVertexPointer(2, GL_FLOAT, 0, vertexBuffer);
        glDrawArrays(GL_POINTS, 0, vertexCount);

        if(sharedDelegate.boolIsEraser){
            // at last restore the  mixed-mode
            glBlendFunc(GL_ONE, GL_ONE_MINUS_SRC_ALPHA);
        }

        glBindRenderbufferOES(GL_RENDERBUFFER_OES, _viewRenderbuffer);
        [_context presentRenderbuffer:GL_RENDERBUFFER_OES];

        err = glGetError();
        if (err != GL_NO_ERROR)
            NSLog(@"Error in frame. glError: 0x%04X", err);

    }
} 
```

有什么解决方法可以做到这一点？我快到了我的目标，但严重卡在这里。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T04:06:22.570

我得到了解决方案...

剩下的事情是在我在 opengl 视图中绘制 UIImage 之后，我需要设置我的 opengl 状态。我在初始化画笔纹理时做的同样的事情......

`LayoutSubviews`我只是在方法之后的`_updateContent`方法中添加了下面的代码

```
 // Setup OpenGL states
        glMatrixMode(GL_PROJECTION);
        CGRect frame = self.bounds;
        glOrthof(0, frame.size.width, 0, frame.size.height, -1, 1);
        glViewport(0, 0, frame.size.width , frame.size.height);
        glMatrixMode(GL_MODELVIEW);

        glDisable(GL_DITHER);
        glEnable(GL_TEXTURE_2D);
        glEnableClientState(GL_VERTEX_ARRAY);

        glEnable(GL_BLEND);
        glBlendFunc(GL_ONE, GL_ONE_MINUS_SRC_ALPHA);

        glEnable(GL_POINT_SPRITE_OES);
        glTexEnvf(GL_POINT_SPRITE_OES, GL_COORD_REPLACE_OES, GL_TRUE) 
```

现在这段代码运行良好..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T10:04:14.733

您可以尝试将阴影颜色设置为与描边颜色相同，并将描边模糊半径设置为从您希望模糊延伸的描边边缘的任意点。您可能希望将阴影偏移设置为`CGSizeZero`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T14:48:27.960

[您可以从此链接](http://developer.apple.com/library/ios/samplecode/GLPaint/GLPaint.zip)尝试 openGL 代码

或试试这个

```
CGSize offset;
float blur;//set this variable as per your requirement
offset.width = 10;
offset.height = -10;

CGContextSetShadow(context, offset, blur); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-03T17:53:56.817

您可以使用 CGContextSetBlendMode(context, kCGBlendModeClear) ike 真正的橡皮擦效果

# iphone - 图像沿 y 轴旋转

> ID：15131220
> 
> 赞同：1
> 
> 时间：2013-02-28T08:53:58.357
> 
> 标签：iphone, ios, rotation, uiimage, axis

![在此处输入图像描述](../Images/3e5d39ac2223ca666c4edc48d46aed83.png)

如何让图像沿 y 轴旋转？我尝试使用此代码，但它只是沿图像的 y 轴旋转。

```
imageView.layer.transform = CATransform3DConcat(imageView.layer.transform, CATransform3DMakeRotation(180,0.0,1.0,0.0)); 
```

任何人都可以解决我的问题吗？非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T08:57:03.987

首先平移（图像宽度的一半）然后旋转。

# opencl - 是否可以在 OpenCL 的 clCreateCommandQueue 中使用多个属性

> ID：15131222
> 
> 赞同：0
> 
> 时间：2013-02-28T08:54:23.400
> 
> 标签：opencl

我正在使用 OpenCL。我的工具在启用时不会生成内核统计信息`OUT-OF-ORDER EXEC MODE`。所以我决定使用启用分析，`clCreateCommandQueue`但后来我意识到如何同时使用两个属性？我现在要做的是，我想在启用分析的情况下以异步（乱序执行）模式运行。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-28T16:03:11.213

**clCreateCommandQueue**中的属性 arg是一个位字段。属性常量应该是 OR'ed 在一起：

```
..., CL_QUEUE_OUT_OF_ORDER_EXEC_MODE_ENABLE | CL_QUEUE_PROFILING_ENABLE, ... 
```

# yii - 在 Yii 中使用第三方插件

> ID：15131226
> 
> 赞同：0
> 
> 时间：2013-02-28T08:54:42.490
> 
> 标签：yii

我在 yii 中使用第三方插件，它提供聊天功能，它有自己的数据库和 php 文件来提供功能，

现在我想在视图中使用它，但是简单的包含语句不起作用，我需要将它转换为 yii 还是可以按原样使用它？

```
<?php

session_start();

// Load MySQL DB settings
include_once('config.inc.php');

$_SESSION['username'] = 'Currently logged in users's username from database';
$_SESSION['user_id'] = 'Currently logged in user's id';

?>

//That's it! To print online users, you need to do it like this:

<?php
$users = mysql_query("SELECT id,username FROM ".$sql_table_users." WHERE chat_status='online' AND id!='".$_SESSION['user_id']."'");
if(mysql_num_rows($users) > 0){
    while($user = mysql_fetch_assoc($users)){
        print '<a href="#" alt="'.$user['id'].'|'.$user['username'].'" class="chat_user">'.$user['username'].'</a><br />';
    }
}
?> 
```

这是为我提供的接口插件。插件位置是 /assets/plugin。

我不能对另一个数据库使用直接的 php 查询命令，我想将它与我的数据库分开，加上插件附带的 js 文件调用带有错误 URL 参数的脚本，那么将它合并到我的 yii 应用程序中的最佳方法是什么. 谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T10:51:13.917

You should create a Yii extension that'll wrap your plugin. Then in your view you'll have to call a widget that'll display your chat.

I think this is the best way to do it because using this all your call to the plugin will be performed with the yii strucutre and philosophy. Only your extension will be structured using the chat philosophy.

[Source about creating widgets](http://www.yiiframework.com/doc/guide/1.1/en/extension.create#widget)

# bash - 如何将bash中包含空格的变量作为循环参数传递？

> ID：15131228
> 
> 赞同：2
> 
> 时间：2013-02-28T08:54:52.570
> 
> 标签：bash

美好的一天，我正在创建一个脚本来读取路径的一级子文件夹/目录。脚本是这样的：

```
#loopdir.sh
for i in `ls -d $1`
do
echo $i
done 
```

但是当我尝试使用它来读取 /media/My\ Passport/ 时，它会将参数读取为两个不同的目录：

```
$ ./loopdir.sh /media/My\ Passport/
ls: cannot access /media/My: No such file or directory
Passport/ 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T09:11:31.823

尝试这样做（我的理解是您想列出子目录，对吗？）：

```
for i in "$1"/*; do
    echo "${i%/}"
done 
```

解析`ls`输出是个**坏主意**：它是一种交互式查看文件信息的工具。它的输出是为人类格式化的，并且会导致脚本中的错误。使用 glob 或 find 代替。了解原因： http: [//mywiki.wooledge.org/ParsingLs](http://mywiki.wooledge.org/ParsingLs)

并且（最后但并非最不重要）： **使用更多报价！**它们至关重要。此外，了解 ' 和 " 和 ` 之间的区别。参见[http://mywiki.wooledge.org/Quotes](http://mywiki.wooledge.org/Quotes)和[http://wiki.bash-hackers.org/syntax/words](http://wiki.bash-hackers.org/syntax/words)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T08:55:53.927

您需要`$i`用引号括起来：`echo "$i"`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:32:46.473

不要$i

这将被空间打破

**使用“$i”**

# android - Android服务静默停止

> ID：15131229
> 
> 赞同：1
> 
> 时间：2013-02-28T08:54:52.910
> 
> 标签：android, service, process

我的应用程序使用了一个应该像时钟一样工作的服务——它广播一个滴答声，然后使用处理程序通知自己下一个滴答声。处理程序消息在屏幕关闭时删除，并在屏幕打开时恢复，以避免在暂停时执行任何操作。该服务还以某种速度更新通知。

有时服务只是停止了。我打开屏幕，看到一个非常过时的通知。使用来自服务的数据（通过绑定）的应用程序显示过时的信息。进程列表中没有服务。并且没有错误信息。

服务的`onDestroy()`方法包含一个代码来显示类似“我被杀了，请重新启动我”的通知，但没有显示出来。

我知道我可以`AlarmManager`用来定期重启我的服务，我可能不得不这样做，但如果有任何其他解决方案，我很乐意知道。

有趣的事实：我从来没有在任何模拟器上遇到过这个问题，也没有在我以前的手机（运行 2.2 的摩托罗拉里程碑）上遇到过问题，也没有来自多个三星 Galaxy S（2 和 3）用户的任何投诉。唯一报告该错误的人是 LG 手机的所有者。现在我在 Nexus 4 上遇到了同样的“服务器突然停止”。LG 阴谋？

# dojo - Dojo1.8：从 Button 创建实例时，我无法更新每个 Button 实例的标签

> ID：15131230
> 
> 赞同：0
> 
> 时间：2013-02-28T08:54:59.917
> 
> 标签：dojo

从按钮创建实例时，我无法更新每个 Button 实例的标签。我该如何解决它？或者我不能按如下方式编码吗？

```
registry.byId(new Obj_Button({
   id:'star'+ i,
   label:'Button '+ i, //it will not work, so how to solve it???
}).placeAt(dom.byId('new1'))); 
```

另请参阅我的 jsfiddle - [http://jsfiddle.net/clementyap/sTxbh/42/](http://jsfiddle.net/clementyap/sTxbh/42/)

关于克莱门特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T11:35:21.613

您的小部件需要编码以处理`label`

```
declare("Obj_Button", [_WidgetBase], {

        postMixInProperties: function() {
          if(!this.label)
              this.label = 'New Button Instance';
        },

        buildRendering: function () {
            // create the DOM for this widget
            this.domNode = domConstruct.create("button", {
                innerHTML: this.label
            });
        }
    }); 
```

此外，您可以只实例化小部件，`registry.byId`不需要调用。

# ruby - 如何通过数字索引获取哈希值

> ID：15131234
> 
> 赞同：30
> 
> 时间：2013-02-28T08:55:17.953
> 
> 标签：ruby, hash

有一个哈希：

```
h = {:a => "val1", :b => "val2", :c => "val3"} 
```

我可以参考哈希值：

```
h[:a], h[:c] 
```

但我想通过数字索引来引用：

```
h[0] => val1
h[2] => val3 
```

是否可以？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-02-28T08:57:33.680

`h.values`会给你一个请求的数组。

```
> h.values
# ⇒ [
#  [0] "val1",
#  [1] "val2",
#  [2] "val3"
# ] 
```

**UPD**虽然答案`h[h.keys[0]]`被标记为正确，但我对基准有点好奇：

```
h = {:a => "val1", :b => "val2", :c => "val3"}
Benchmark.bm do |x|
  x.report { 1_000_000.times { h[h.keys[0]] = 'ghgh'} } 
  x.report { 1_000_000.times { h.values[0] = 'ghgh'} }
end  

#
#       user     system      total        real
#   0.920000   0.000000   0.920000 (  0.922456)
#   0.820000   0.000000   0.820000 (  0.824592) 
```

看起来我们正在浪费 10% 的生产力。

* * *

## 回答 #2

> 赞同：35
> 
> 时间：2013-02-28T09:19:58.793

```
h = {:a => "val1", :b => "val2", :c => "val3"}
keys = h.keys

h[keys[0]] # "val1"
h[keys[2]] # "val3" 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-02-28T08:58:21.623

所以你需要数组索引和哈希索引？

如果您只需要第一个，请使用数组。

否则，您可以执行以下操作：

```
h.values[0]
h.values[1] 
```

# c# - SerialPort Write() 发送的字节多于发送缓冲区

> ID：15131236
> 
> 赞同：1
> 
> 时间：2013-02-28T08:55:25.673
> 
> 标签：c#, serial-port, modbus, crc16

我有一个非常奇怪的问题，我正在**传输**一个 105 字节 [] 缓冲区，并在另一端不断**接收**116 字节。

原始数据的最后 2 个字节是**CRC16**

我用于传输的代码是，它永远循环。

```
 static SerialPort sp = null;
    static void Main(string[] args)
    {
         //105 bytes send buffer
        byte[] data = new byte[] {0xa,0x03,0x64,0x0e,0x15,0x00,0x01,0x00,
                                  0x01,0x00,0x06,0x00,0x23,0x00,0x5f,0x00,
                                  0x00,0x00,0x00,0x00,0x7c,0x00,0x00,0x00,
                                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                  0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,
                                  0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,
                                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                  0x00,0x00,0x00,0x25,0xb8,0x00,0x05,0xff,
                                  0x23,0x00,0x00,0x00,0x00,0x00,0xa2,0x00,
                                  0x00,0x02,0x20,0x00,0x04,0x00,0x03,0x00,
                                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                  0x01,0x00,0x00,0x00,0x01,0x00,0x1f,0x00,
                                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xae,
                                  0x1f
        };

        Console.WriteLine("Serial Port Test");
        sp = new SerialPort("COM1", 19200);
        sp.Open();
        if (sp.IsOpen)
        {
            Console.WriteLine("Begining to transmit serial data..");
        }
        for (; ; )
        {
            Thread.Sleep(1000);
            sp.Write(data,0,data.Length);
            sp.DiscardOutBuffer();
        }

        Console.WriteLine("End of transmission");
        Console.ReadKey();
    } 
```

**我在另一边不断得到的是以下 116 个字节（消息以原始CRC**字节结尾是多么奇怪？？）

```
0xa, 0x03, 0x64, 0x0e, 0x15, 0x00, 0x01, 0x00,
0x01, 0x00, 0x06, 0x00, 0x23, 0x00, 0x5f, 0x00,
0x00, 0x00, 0x00, 0x00, 0x7c, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff,
0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x25, 0xb8, 0x00,
0x05, 0xff, 0xff, 0x23, 0x00, 0x00, 0x00, 0x00,
0x00, 0xa2, 0x00, 0x00, 0x02, 0x20, 0x00, 0x04,
0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01,
0x00, 0x1f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0xae, 0x1f, 
```

任何帮助将不胜感激，以解决此问题，

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:29:21.487

我发现了问题，

似乎在 Tibbo 模块上启用了“带内命令”设置，在禁用它后，它停止用额外的 0xFF 字节“填充”0xFF 字节。

非常奇怪，因为它不会对发送大量 0xFF 字节的原始 modbus 从站执行此操作。

# jquery - jQuery Mobile 滑动事件

> ID：15131237
> 
> 赞同：5
> 
> 时间：2013-02-28T08:55:26.233
> 
> 标签：jquery, jquery-mobile

我有一个`<div>`标签，当用户在它上面滑动时，它会记录下来`swipe`。在 jQuery Mobile 中有 3 次滑动 ie和`swipe`，但我只想使用。我想知道的是，当用户在标签上滑动然后记录或者基于用户的滑动方向。可能吗？如果是，那怎么办？`swipeleft``swiperight``swipe``<div>``swipeleft``swiperight`

```
$('.image').on('swipe', function (e) {
    console.log('swipe);
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T09:07:46.273

要记录向左滑动，请使用

```
 $('.image').on('swipeleft', function (e) {
       console.log('swipeleft');
    }); 
```

为权

```
 $('.image').on('swiperight', function (e) {
       console.log('swiperight');
    }); 
```

将其放在代码的函数`$(document).on('pageinit', function() {}`中。

这些事件可以扩展，这是这些事件的默认值

$.event.special.swipe.handleSwipe ：

```
function( start, stop ) {
    if ( stop.time - start.time < $.event.special.swipe.durationThreshold &&
        Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.horizontalDistanceThreshold &&
        Math.abs( start.coords[ 1 ] - stop.coords[ 1 ] ) < $.event.special.swipe.verticalDistanceThreshold ) {

        start.origin.trigger( "swipe" )
            .trigger( start.coords[0] > stop.coords[ 0 ] ? "swipeleft" : "swiperight" );
    }
} 
```

# extjs - Ext4.1 Accordion Layout--折叠项的宽度不够

> ID：15131240
> 
> 赞同：2
> 
> 时间：2013-02-28T08:55:43.150
> 
> 标签：extjs, ext4

组件首次渲染时手风琴项很短。有什么好主意吗？

我用的是chrome浏览器，用IE9好像没问题。

这是 jsfiddle 测试的 url：http: [//jsfiddle.net/xgsZ7/2/](http://jsfiddle.net/xgsZ7/2/)。（可能jsfiddle测试需要再刷新一次才能看到问题）

这是测试代码：只是一个视口和一个呈现手风琴布局的面板。

```
<html >
<head>
<title>test</title>
<script type="text/javascript" src="http://cdn.sencha.io/ext-4.1.1-gpl/ext-all.js"> </script>
<link rel="stylesheet" type="text/css" href="http://cdn.sencha.io/ext-4.1.1-gpl/resources/css/ext-all.css" />
<script language="javascript">
    function createAccordion() {
        var item1 = Ext.create('Ext.Panel', {
          title: 'Accordion Item 1',
          html: '&lt;empty panel&gt;',
          cls:'empty'
        });

        var accordion = Ext.create('Ext.Panel', {
          title: 'Accordion',
          collapsible: true,
          margins:'5 0 5 5',
          region:'west',
          split: true,
          width: 210,
          layout:'accordion',
          items: [item1]
        });
        return accordion;
   }

function createBody() {
    var viewport = Ext.create('Ext.Viewport', {
      layout:'border',
      items:[
          createAccordion()
      ]
    });
}
</script>
</head>
<body>
<script>    
        createBody();
</script>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:30:21.453

使用 Ext.onready 进行渲染可以解决这个问题。( [http://jsfiddle.net/xgsZ7/3/](http://jsfiddle.net/xgsZ7/3/) )

```
<script>       
Ext.onReady(function() {
    createBody();
});
</script> 
```

# email - 如何将邮件主题行聚集到邮件线程？

> ID：15131245
> 
> 赞同：0
> 
> 时间：2013-02-28T08:56:16.937
> 
> 标签：email, search, cluster-analysis, hierarchical-clustering

如果我只有邮件的**主题行**（没有其他标题），是否有一个好的算法（或包）将它们聚集成一组“相关消息”？

带有主题的邮件

*   `Our travel plans`

可能与

*   `Re: Our travel plans`和
*   `Re: Re: Our travel plans`.

到目前为止还不错，但也有

*   `AW: Our travel plans`
*   `Fwd: Our travel plans`
*   `Our travel plans (Forward)`

我想将它们全部**聚集**到一个线程中。`plans`当然，主题为,等的邮件`Re: Our meeting`不应出现在该线程中。我可以很好地实现分层结果——实际上，我有点喜欢那样，因为我希望具有相似内容的邮件有可能彼此“更接近”。

所以，我有很多想法：后缀匹配、前缀树、Levensthein 距离、Q-Gram 配置文件——可能太多了。因此我问自己：“有人已经这样做了吗？”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-02T20:25:50.597

对于序列比较，我使用 Open Refine（以前称为 Google Refine）来尝试聚类算法来微调和识别要使用的算法。它包括密钥冲突（指纹、ngram 和双变音素）和最近邻（levenshtein 距离和通过部分匹配（PPM）预测）。

[https://github.com/OpenRefine/OpenRefine/wiki/Installation-Instructions](https://github.com/OpenRefine/OpenRefine/wiki/Installation-Instructions)

导入数据后，只需使用构面进行聚类。

构面 > 文本构面 > 簇

# c# - 从 asp:DropDownList 中获取 C# 代码中的值，其中填充了 Ajax

> ID：15131246
> 
> 赞同：1
> 
> 时间：2013-02-28T08:56:19.233
> 
> 标签：c#, asp.net, ajax, html-select

在呈现页面之前，我有 2 个 DropDownLists 在 c# 代码中填充。回发页面后，我可以成功获取更改后的值。但是，一个条件是如果第一个 DropDownList 中的值发生变化，我会重新填充第二个下拉列表。我正在使用 Ajax 调用来执行此操作，并且在视觉上一切正常。

问题是，当第二个 DropDownList 通过 Ajax 代码填充的条件出现时，列表项和选定的值在回发时不会在 C# 代码中显示。我读过这不会发生。

DropDownList 有一个`ID="cboMutations"`

我终于使用以下方法完成了这项工作：

```
 Int32 id = 0;
        if (!string.IsNullOrEmpty(Request.Form["ctl00$MainContent$cboMutations"]))
        {
            Int32.TryParse(Request.Form["ctl00$MainContent$cboMutations"], out id);
        } 
```

我的主要问题是：

`ctl00$MainContent$cboMutations`以这种方式引用属性是否安全？

它在开发中工作，但在部署时它会工作吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:09:10.310

Asp.net 对它接受的数据非常严格。asp 下拉列表不允许您发送这样的数据。这确保用户只发送服务器提供的值。

在您的情况下，您正在使用 html 控件并通过 asp.net 的内置安全性。您应该针对恶意用户可能尝试使用输入发送无效数据的情况进行编程`ctl00$MainContent$cboMutations`。

由于您将数据解析为 int，因此恶意用户几乎无能为力。部署时您也应该是安全的。

# c# - 如何将 ListBox 合并到 PropertyGridControl 中？

> ID：15131252
> 
> 赞同：1
> 
> 时间：2013-02-28T08:56:30.570
> 
> 标签：c#, .net, winforms

我在一个应用程序中看到了这一点，只是想知道这是否可以使用 C# 在 winforms 中完成。我没有自定义 PropertyGrid 控件的经验，如果您能在代码上帮助我，我将不胜感激。提前致谢。

截图：

![在此处输入图像描述](../Images/a4fca63637ced8ed3da486658e2b86e3.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T21:07:43.740

有几个步骤可以做到这一点。

**1\. 为您的值定义枚举。**

```
public enum TypeCodes
{
    Baking,
    Barbecuing,
    Blanching,
    Blind_Baking,
    Boiling,
    Broiling,
    Deep_Frying,
} 
```

**2\. 创建具有 List 类型属性的类。**

```
using System.Collections.Generic;
using System.ComponentModel;
using System.Drawing.Design;

namespace PropertyGrid_ListBox_Test
{
    class TestCase
    {
        public TestCase()
        {
            Manufacturer = new List<TypeCodes>();
        }

        [DisplayName("Manufacturer Preparation Type Code")]
        public List<TypeCodes> Manufacturer { get; set; }
    }
} 
```

**3\. 创建 UserControl - TypeCodeSelectionControl 将用于编辑此属性。**

![UserControl 编辑属性值](../Images/7e2afbfec713d95144640294ef35d56e.png)

```
using System;
using System.Collections.Generic;
using System.Windows.Forms;
using System.Windows.Forms.Design;

namespace PropertyGrid_ListBox_Test
{
    public partial class TypeCodeSelectionControl : UserControl
    {
        public List<TypeCodes> List { get; set; }
        private IWindowsFormsEditorService editorService;

        public TypeCodeSelectionControl()
        {
            InitializeComponent();
        }

        private void PrepareListBoxes()
        {
            foreach (string myType in Enum.GetNames(typeof(TypeCodes)))
                listBox1.Items.Add(myType);

            foreach (TypeCodes type_code in this.List)
            {
                string enum_value = Enum.GetName(typeof(TypeCodes), type_code);
                listBox1.Items.Remove(enum_value);
                listBox2.Items.Add(enum_value);
            }
        }

        public TypeCodeSelectionControl(List<TypeCodes> list, IWindowsFormsEditorService editorService)
        {
            InitializeComponent();

            this.List = list;
            this.editorService = editorService;

            PrepareListBoxes();
        }

        private void buttonALL_Click(object sender, EventArgs e)
        {
            //
            // Add all items.
            //
            foreach (object obj in listBox1.Items)
            {
                listBox2.Items.Add(obj);
            }
            listBox1.Items.Clear();
        }

        private void buttonAdd_Click(object sender, EventArgs e)
        {
            //
            // Add selected item.
            //
            string item_to_add = (string)listBox1.SelectedItem;
            listBox1.Items.Remove(item_to_add);
            listBox2.Items.Add(item_to_add);
        }

        private void buttonRemove_Click(object sender, EventArgs e)
        {
            //
            // Remove selected item.
            //
            string item_to_remove = (string)listBox2.SelectedItem;
            listBox2.Items.Remove(item_to_remove);
            listBox1.Items.Add(item_to_remove);
        }

        private void buttonNone_Click(object sender, EventArgs e)
        {
            //
            // Remove all items.
            //
            foreach (object obj in listBox2.Items)
            {
                listBox1.Items.Add(obj);
            }
            listBox2.Items.Clear();
        }

        private void listBox1_SelectedIndexChanged(object sender, EventArgs e)
        {
            //
            // Enable "Add" button only if any of items is selected in the left listbox.
            //
            buttonAdd.Enabled = listBox1.SelectedIndex != -1;
        }

        private void listBox2_SelectedIndexChanged(object sender, EventArgs e)
        {
            //
            // Enable "Remove" button only if any of items is selected in the right listbox.
            //
            buttonRemove.Enabled = listBox2.SelectedIndex != -1;
        }

        protected override void OnVisibleChanged(EventArgs e)
        {
            base.OnVisibleChanged(e);

            //
            // This occures when dropdown UI editor is hiding.
            //
            if (this.Visible == false)
            {
                //
                // Clear previously selected items.
                //
                if (this.List == null)
                {
                    this.List = new List<TypeCodes>();
                }
                else
                {
                    this.List.Clear();
                }

                //
                // Fill the list with currently selected items.
                //
                foreach (string obj in listBox2.Items)
                {
                    this.List.Add((TypeCodes)Enum.Parse(typeof(TypeCodes), obj));
                }
                editorService.CloseDropDown();
            }
        }
    }
} 
```

**4\. 创建 UITypeEditor - TypeCodeEditor 将处理先前创建的 UserControl。**

```
using System;
using System.Collections.Generic;
using System.Drawing.Design;
using System.Windows.Forms.Design;

namespace PropertyGrid_ListBox_Test
{
    class TypeCodeEditor : UITypeEditor
    {
        public override UITypeEditorEditStyle GetEditStyle(System.ComponentModel.ITypeDescriptorContext context)
        {
            return UITypeEditorEditStyle.DropDown;
        }

        public override object EditValue(System.ComponentModel.ITypeDescriptorContext context, IServiceProvider provider, object value)
        {
            IWindowsFormsEditorService editorService = null;
            if (provider != null)
            {
                editorService = provider.GetService(typeof(IWindowsFormsEditorService)) as IWindowsFormsEditorService;
            }

            if (editorService != null)
            {
                TypeCodeSelectionControl selectionControl = new TypeCodeSelectionControl((List<TypeCodes>)value, editorService);
                editorService.DropDownControl(selectionControl);

                value = selectionControl.List;
            }

            return value;
        }
    }
} 
```

**5\. 创建 TypeConverter 以正确显示我们的属性值。**

```
using System;
using System.Collections.Generic;
using System.ComponentModel;

namespace PropertyGrid_ListBox_Test
{
    class TypeCodeTypeConverter : TypeConverter
    {
        public override bool CanConvertFrom(ITypeDescriptorContext context, Type sourceType)
        {
            if (sourceType == typeof(string))
            {
                return true;
            }
            return base.CanConvertFrom(context, sourceType);
        }

        public override object ConvertFrom(ITypeDescriptorContext context, System.Globalization.CultureInfo culture, object value)
        {
            if (value is string)
            {
                List<TypeCodes> list = new List<TypeCodes>();
                string[] values = ((string)value).Split(new char[] { ';' });
                foreach (string v in values)
                {
                    list.Add((TypeCodes)Enum.Parse(typeof(TypeCodes), v));
                }

                return list;
            }
            return base.ConvertFrom(context, culture, value);
        }

        public override bool CanConvertTo(ITypeDescriptorContext context, Type destinationType)
        {
            if (destinationType == typeof(string))
            {
                return true;
            }
            return base.CanConvertTo(context, destinationType);
        }

        public override object ConvertTo(ITypeDescriptorContext context, System.Globalization.CultureInfo culture, object value, Type destinationType)
        {
            if (destinationType == typeof(string))
            {
                List<TypeCodes> list = (List<TypeCodes>)value;
                string result = "";
                foreach (TypeCodes type_code in list)
                {
                    result += Enum.GetName(typeof(TypeCodes), type_code) + "; ";
                }
                return result;
            }
            return base.ConvertTo(context, culture, value, destinationType);
        }
    }
} 
```

**6\. 为属性添加适当的属性，使其可以使用我们的下拉自定义编辑器进行编辑。**

```
using System.Collections.Generic;
using System.ComponentModel;
using System.Drawing.Design;

namespace PropertyGrid_ListBox_Test
{
    class TestCase
    {
        public TestCase()
        {
            Manufacturer = new List<TypeCodes>();
        }

        [DisplayName("Manufacturer Preparation Type Code")]
        [Editor(typeof(TypeCodeEditor), typeof(UITypeEditor))]
        [TypeConverter(typeof(TypeCodeTypeConverter))]
        public List<TypeCodes> Manufacturer { get; set; }
    }
} 
```

**7.享受结果:)。** ![在此处输入图像描述](../Images/de69f1feee7eb848152612ed664952fc.png)

我希望这段代码能帮助您继续编写自己的自定义编辑器。

此处提供完整示例：[https](https://github.com/virious/PropertyGrid_CustomDropDownEditor) ://github.com/virious/PropertyGrid_CustomDropDownEditor 。

# android - android线性布局类android中的实现接口

> ID：15131255
> 
> 赞同：0
> 
> 时间：2013-02-28T08:56:46.470
> 
> 标签：android, interface, android-linearlayout

我正在开发小型 android 应用程序，其中我创建了一个扩展 LinearLayout 的类 abc 和一个活动 xyz。在我的 abc 类中，我以下列方式定义了一个接口

```
public class abc extends LinearLayout {

    private OnclickxitemListener listener1;

    public interface OnclickxitemListener
    {
        public String nil = "nilkash";
        public void onclickxtitem();
    }

    public void setOnxitemSelectedListener(OnclickxitemListener listener) 
    { 
        this.listener1 = listener;  
        Log.i("#######################################", "inside set listener "+listener1);
    } 

    public abc(Context context) 
    {
        super(context);
    }

    @SuppressWarnings("deprecation")
    public void initialiseImages()
    {

        create custome linear view here
        ImageView image_View = (ImageView) parentLayout.findViewById(0);
        image_View.setOnClickListener(new OnClickListener() 
        { 
        @Override
        public void onClick(View v) 
        { 
            String n = listener1.nil;
            Log.i("#################################", "inside click"+n);
            listener1.onclickxitem(); 
        }
        });
    }

} 
```

现在我试图以下列方式从我的活动中使用这个界面。

```
public class xyz extends Activity implements abc.OnclickxitemListener{

    CustomviewActivity cubes;
    @Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    abc widget = new abc(this); 
    widget.setOnxitemSelectedListener(this);

        cubes.initialiseImages();
    }

    @Override
    public void onclickxitem() {

    }

} 
```

现在的问题是，当我在我的类中执行图像单击侦听器时，我能够访问变量值（“字符串 nilkash”），但我无法访问方法`listener1.onclickxitem();`。当我试图获得它时，它给了我空指针异常。

无论我做错了什么。如何解决这个问题呢。需要帮助...谢谢...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T09:57:51.280

好的，我真的对你的代码有点困惑。我会做这样的事情。如果 abc 是我的活动布局文件 xyz.xml 中包 com.test 中的自定义视图

```
<com.test.abc
android:id="@+id/myview"
<!-- You can modify the values below the way you want -->
android:layout_width="300dp"
android:layout_height="300dp"
android:layout_gravity="center"
android:layout_centerHorizontal="true"
android:layout_centerVertical="true"/> 
```

在我的 abc 课上，我会写这样的东西

```
public class abc extends ImageView{

  private OnclickxitemListener listener;

    public interface OnclickxitemListener
    {
      public String nil = "nilkash";
      public void onclickxtitem();
    }

    public void setOnxitemSelectedListener(OnclickxitemListener l )
    {
      listener = l;

    }

     public abc(Context context, AttributeSet attrs)
    {
      super(context, attrs);
      initialize();

    }

    public void initialize()
    {

      this.setImageResource(R.drawable.*name of the image saved in drawable*);

        setOnClickListener(new OnClickListener()
        {

         @Override
     public void onClick(View arg0) 
         {
          // TODO Auto-generated method stub
    notifyListener();
         }

        });
     }

     private void notifyListener()
     {
            if (null!=listener)
            listener.onclickxtitem();
     }
} 
```

最后在你的活动 xyz

```
public class xyz extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState)
    {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.xyz);

        abc myview = (abc)findViewById(R.id.myview);
        myview.setOnxitemSelectedListener(new abc.OnclickxitemListener()
             {
                @Override
                public void onclickxtitem()
                 {

                 }
              });

    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T10:33:59.240

根据您粘贴的代码，您的活动需要为您的 abc 类实现 OnclickxitemListener 以进行回调。从您的活动中删除 onclickxitem，实现 OnclickxitemListener 并让您的 IDE 从接口实现未实现的 onclickxitem 方法。

调用 cubes.initialiseImages(); 由于多维数据集尚未初始化，还会给您一个空指针。您确定要调用 widget.initialiseImages() 吗？

您可以访问 listener1.nil 字符串，因为它已被声明并被赋予了一个值。

# java - 推土机布尔映射 Eclipse 错误

> ID：15131256
> 
> 赞同：2
> 
> 时间：2013-02-28T08:56:50.677
> 
> 标签：java, eclipse, eclipse-plugin, mapping, dozer

我正在使用[推土机](http://dozer.sourceforge.net/)来映射对象。但我收到一条有线错误消息

> 无法读取 com.edfx.adb.persist.entity.Customer 类的活动属性。

在 Eclipse 的推土机映射编辑器中，我在 Eclipse 中安装了推土机插件。这是我的映射：

```
<mapping>
    <class-a>com.edfx.adb.persist.entity.Customer</class-a>
    <class-b>com.edfx.adb.web.dto.CustomerDTO</class-b>

    <field>
        <a get-method="isActive">active</a>
        <b get-method="isActive">active</b>
        <a-hint>java.lang.Boolean</a-hint>
        <b-hint>java.lang.Boolean</b-hint>
    </field>
</mapping> 
```

这`active`是具有类型和类`boolean`的字段。`Customer``CustomerDTO`

我无法删除或隐藏错误消息。也不知道为什么会显示。对于这个错误，Eclipse 在整个项目中显示错误，这是不可取的。

任何信息都会对我很有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T10:19:54.750

我会尝试删除提示。在这种情况下，我认为您不需要它们。但是为了获得最佳解决方案，您可以发布实体和 DTO 的代码。

# javascript - JavaScript是否重新创建返回后的函数

> ID：15131257
> 
> 赞同：4
> 
> 时间：2013-02-28T08:56:51.527
> 
> 标签：javascript

以下代码：

```
a = function(b) {

    return alfa() + b;

    function alfa() {
        return 7;
    }
}

console.log(a(4));
console.log(a(5)); 
```

是否在每次调用 a() 时创建函数 alfa()？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T08:57:50.570

是的，它会的。

*函数声明*和声明的变量`var`都在函数调用时被*提升。*这意味着，无论在函数上下文中的*何处**声明函数声明*，从技术上讲，它始终是预先声明的。

```
a = function(b) {
    return alfa() + b;

    function alfa() {
        return 7;
    }
} 
```

技术上会变成

```
a = function(b) {
    function alfa() {
        return 7;
    }

    return alfa() + b;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T08:58:33.503

> 是否在每次调用 a() 时创建函数 alfa()？

每次都会创建一个新的函数*对象*，是的，并绑定到不同的执行上下文（因此它可以访问创建时`b`传入的值；是调用上下文的“闭包” ，其中它被创造了）。`a``alfa``a`

一个智能的 JavaScript 引擎（如 V8）可以很好地重用底层*代码*，但每次都会创建一个不同的对象。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T09:02:02.283

是的，它会的。每次调用时，都会创建`a`一个新的实例。`alfa`

顺便说一句，在这种情况下，关闭`alfa` *上下文*`a`。这就是我们所说的*闭包*，它允许我们在不同调用之间的函数中保持状态。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-28T09:02:39.770

是的。

您使用的语法是糖：

```
a = function(b) {
    var alfa = function() {
            return 7;
    }
    return alfa() + b;
}

console.log(a(4));
console.log(a(5)); 
```

它使您在`alfa`每次执行时创建和分配更加清晰`a`。

你也可以用这个简单的改变来测试它：

```
a = function(b) {
    return alfa; // let's return the function
    function alfa() {
            return 7;
    }
}
console.log(a(4)==a(4)); // logs false 
```

如果你想避免`alfa`每次都被创建，你可以这样做：

```
a = (function(){
  var alfa = function() {
     return 7;
  }
  return function(b) {
     return alfa() + b; 
  }
})(); 
```

# javascript - 将动画页脚放在其他 div 下

> ID：15131264
> 
> 赞同：1
> 
> 时间：2013-02-28T08:57:16.470
> 
> 标签：javascript, html, css, jquery-animate, footer

所以我想使用 jquery 为我的网页制作一个动画页脚。应该有一个应该触发动画的按钮。我为这一切找到了一个很好的例子，一切都很好，花花公子。除了按钮（包括页脚）有这样的代码，使它粘在你的网络浏览器的底部，而不是页面的底部。我确实[i]不[/i]希望它与页面一起“滚动”，我真的希望它位于我所有其他 div 的下方。我试着把它放在 div 容器中（里面还有我所有的其他 div），但这似乎不起作用。

现在，（经过 2.5 小时的谷歌搜索）我发现它可能/可能/可能与 CSS 中的“绝对”定位有关，所以我尝试切换一些东西，例如给页脚的容器一个相对位置或给它是“溢出：隐藏；” 连同其余的一个左浮动，但似乎没有什么能解决我的问题。（我可能做错了什么，毕竟 CSS 不是很好:-/）

我希望有人能够/愿意提供帮助。

PS这是我使用的示例： [http ://return-true.com/2010/04/jquery-pop-up-footer-version-2/](http://return-true.com/2010/04/jquery-pop-up-footer-version-2/)

这是代码：

Javascript：

```
 jQuery(function($) {
        var open = false;
        $('#footerSlideButton').click(function () {
            if(open === false) {
                $('#footerSlideContent').animate({ height: '300px' });
                $(this).css('backgroundPosition', 'bottom left');
                open = true;
            } else {
                $('#footerSlideContent').animate({ height: '0px' });
                $(this).css('backgroundPosition', 'top left');
                open = false;
            }
        }); 
    }); 
```

HTML：

```
<div id="footerPlacement">
    <div id="footerSlideContainer">
        <div id="footerSlideButton"></div>
            <div id="footerSlideContent">
            <div id="footerSlideText">
                <h3>Hey! I'm a Sliding Footer</h3>
                    <p>What's a Sliding Footer? Well I'm a cool little element which can be hidden from view, and revealed when the user wants to see me.</p>
                    <p>What can you use me for? Well look at all this stuff:</p>
                    <ul>
                        <li>Sales information</li>
                        <li>Important updates</li>
                        <li>Unobtrusive about panel</li>
                        <li>Or just a good ol' footer</li>
                    </ul>
                    <p>There are obviously many other uses, but these are the few useful ones I can think of.</p>
            </div>
        </div>
    </div>
</div> 
```

CSS：

```
#footerPlacement {
    margin-bottom: 0px;
    width: 1000px;
    margin-left: auto;
    margin-right: auto;
}
#footerSlideContainer {
    position: fixed;
    margin-left: 0px;
    bottom:0px;
    width: 1000px;
}
#footerSlideButton {
    background: url('../images/footer/footerbtn.png') top left no-repeat transparent;
    position: absolute;
    top: -55px;
    right: 20px;
    width:50px;
    height:50px;
    border: none;
    cursor: pointer;
}
#footerSlideContent {
    width: 100%;
    height: 10px;
    background: #251b15;
    color: #CCCCCC;
    font-size: 0.8em;
    border: none;
    font-family: DejaVuSansBook, Sans-Serif;
}
#footerSlideText {
    padding: 15px 10px 25px 25px;
} 
```

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:34:35.073

如果您将您的更改`#footerPlacement`为 include `position:relative`，您可以更改`#footerSlideContainer`为 be `position:absolute`，然后您的页脚将位于其上方的任何内容下方。

但是，您需要使内容的最小高度约为 350 像素，以使页脚正常工作，如果您的内容不够长，页脚将不会位于浏览器的底部。

我也添加`overflow:hidden`到`#footerSlideContent`. 我做了一个小提琴来演示：

[http://jsfiddle.net/tc6b8/](http://jsfiddle.net/tc6b8/)

# javascript - Jquery 或 Javascript 检查对象是否存在于 Json 对象集合中

> ID：15131268
> 
> 赞同：6
> 
> 时间：2013-02-28T08:57:36.543
> 
> 标签：javascript, jquery, jquery-plugins

给定一个像这样的 json 字符串：

```
[{"id":28,"Title":"Sweden"},{"id":56,"Title":"USA"},{"id":89,"Title":"England"}] 
```

我需要检查一个对象是否存在，检查所有字段，意思是：

```
{"id":28,"Title":"Sweden"} => exists
{"id":29,"Title":"Sweden"} => doesn't exist 
```

或者

```
{"id":28,"Title":"Sweden"} => exists
{"id":28,"Title":"Sweden2"} => doesn't exist 
```

集合可能有任意数量的对象，并且对象总是有相同数量的属性（id、title）或（id、title、firstName）等。

另外，为了检查现有对象，是否需要将字符串解析为 json 对象集合？

我试过这个：

```
$.map(val, function (obj) {
    if (obj === val)
        alert('in');
    return obj; // or return obj.name, whatever.
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:21:15.830

也许是这样的？

```
 function exists(obj, objs)
    {
        var objStr = JSON.stringify(obj);

        for(var i=0;i<objs.length; i++)
        {
            if(JSON.stringify(objs[i]) == objStr)
            {
                return 1;
            }
        }

        return 0;
    }

    /** some tests **/
    var x = [{"id":28,"Title":"Sweden"},{"id":56,"Title":"USA"},{"id":89,"Title":"England"}];
    var has = {"id":28,"Title":"Sweden"};
    var not = {"id":28,"Title":"Sweden2"};

    /* alerts yes */
    if(exists(has, x)) alert('yes');
    else alert('no');

    /* alerts no */
    if(exists(not, x)) alert('yes');
    else alert('no'); 
```

[http://jsfiddle.net/zdhyf/](http://jsfiddle.net/zdhyf/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:06:45.243

假设您需要一个通用解决方案，而不仅仅是示例，您可以查看 lodash ( [http://lodash.com](http://lodash.com) )，它是此类操作的高性能库，特别是 isEqual 函数 ( [http://lodash.com/文档#isEqual](http://lodash.com/docs#isEqual)）。

或者，您可以扩展上述代码以使用任意值进行检查。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T09:18:33.357

如果您确定集合中对象的属性始终与您正在查找的对象中的顺序相同，则可以搜索子字符串而不是检查对象的存在：

```
var json = '[{"id":28,"Title":"Sweden"},{"id":56,"Title":"USA"},{"id":89,"Title":"England"}]',
obj1 = {"id":28,"Title":"Sweden"},
obj2 = {"id":29,"Title":"Sweden"};

alert(json.indexOf(JSON.stringify(obj1)) >= 0 ? 'Yes' : 'No'); // Yes
alert(json.indexOf(JSON.stringify(obj2)) >= 0 ? 'Yes' : 'No'); // No 
```

# java - 如何将 byteArray 转换为位图图像以显示在 Android 的 imageview 中？

> ID：15131271
> 
> 赞同：0
> 
> 时间：2013-02-28T08:57:42.483
> 
> 标签：java, android

为此，我在我的应用程序中有以下代码，但它什么都不做，并停止应用程序：

```
bmImage.setImageBitmap(BitmapFactory.decodeByteArray(byteImage2, 0, byteImage2.length)); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:01:46.310

像这样试试

```
Bitmap bmp = BitmapFactory.decodeByteArray(byteArray, 0, byteArray.length);
ImageView image = (ImageView) findViewById(R.id.imageView1);

image.setImageBitmap(bmp); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:03:13.030

然后我想你也像这样绘制图像：

```
Paint paint = new Paint(Paint.ANTI_ALIAS_FLAG | Paint.FILTER_BITMAP_FLAG);
canvas.drawBitmap(bmImage, 0, 0, paint); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:09:07.660

尝试这个 ：

```
Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.bg);
ByteArrayOutputStream blob = new ByteArrayOutputStream();
bitmap.compress(CompressFormat.PNG, 95, blob);
byte[] bitmapdata = blob.toByteArray();

Bitmap bmp = BitmapFactory.decodeByteArray(bitmapdata , 0, bitmapdata .length);
ImageView image = (ImageView) findViewById(R.id.ivPhoto);
image.setImageBitmap(bmp); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T09:11:37.123

使用下面的行将字节转换为位图，它对我有用。

```
 Bitmap bmp = BitmapFactory.decodeByteArray(imageData, 0, imageData.length); 
```

您需要将上述行放在循环之外，因为它需要字节数组并转换为位图。

PS :- 这里 imageData 是图像的字节数组

# javascript - BorderLayout EXTJS 的 ManageOverflow

> ID：15131275
> 
> 赞同：1
> 
> 时间：2013-02-28T08:57:50.603
> 
> 标签：javascript, layout, extjs, extjs4.1, border-layout

我想知道 manageOverflow 是否适用于具有边框布局的视口。我的应用程序有一个视口（边框布局）和 4 个容器（2 个北、1 个东和 1 个西）。其中一个容器（东边的那个）是我的主容器，带有布局填充。当我“更改我的页面”时，我会用我的页面容器动态填充这个主容器。

我的问题是：当我放置一个比我的innerHeight（屏幕尺寸）长的网格容器时，会出现一个垂直滚动条，这很好，但也是一个水平滚动条。视口不会使用新大小（没有滚动条的大小）自动重新布局。

manageOverflow 似乎是答案，但是当我将此属性添加到我的布局时，它与属性 reserveScrollbar 的结果相同。

有人已经试过了吗？

编辑：一些测试代码：`

```
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>test</title>

    <script src="http://cdn.sencha.io/ext-4.1.1-gpl/ext-all.js" type="text/javascript"></script>
    <script>
        Ext.application({

            name: 'test',
            launch: function() {

                Ext.create('Ext.container.Viewport', {
                    layout: {
                        type: 'border',
                        manageOverflow: 1
                    },

                    autoScroll:true,

                    items : [{
                        xtype: 'container',
                        region: 'north',
                        height: 150,
                        border: 5,
                        style: {
                            borderColor: 'black',
                            borderStyle: 'solid'
                        }
                    }, {
                        xtype: 'container',
                        region: 'west',
                        width: 150,
                        border: 5,
                        style: {
                            borderColor: 'green',
                            borderStyle: 'solid'
                        }
                    }, {
                        xtype: 'container',
                        region: 'north',
                        height: 150,
                        border: 5,
                        style: {
                            borderColor: 'red',
                            borderStyle: 'solid'
                        }                       
                    }, {
                        xtype : 'container',
                        region : 'center',
                        border: 5,
                        style: {
                            borderColor: 'blue',
                            borderStyle: 'solid'
                        }                       
                    }],
                    renderTo: Ext.getBody()
                });
            }
        });
    </script>
</head>

<body></body> 
```

`

# mysql - INNER JOIN MySQL 空条目

> ID：15131281
> 
> 赞同：1
> 
> 时间：2013-02-28T08:58:10.087
> 
> 标签：mysql, join, inner-join

我得到了三个表，cours、documents 和 cours_document。

我想选择所有没有文件的课程。我试过这个：

```
SELECT cours.id AS cid, cours.name AS cname, DATE_FORMAT(cours.date,"%H:%i") AS cdate, DATE_FORMAT(cours.date,"%a") AS jour,sessions.id AS sid,sessions.name AS sname,sessions.restant,session_cours.session_id,session_cours.cours_id, ISNULL(cours.video_id) AS isVid
FROM cours,sessions,session_cours
INNER JOIN cours_document ON cours.id=cours_document.cours_id AND COUNT(cours_id)=0
WHERE cours.prof_id = :prof_id
AND sessions.prof_id = :prof_id
AND session_cours.cours_id=cours.id
AND sessions.id=session_cours.session_id
AND DATE_FORMAT(cours.date,"%Y-%m-%d") >= :date_min
AND DATE_FORMAT(cours.date,"%Y-%m-%d") <= :date_max
GROUP BY cours.id ORDER BY date ASC 
```

但是这个查询不起作用。SQL告诉我：`Column not found: 1054 Unknown column cours.id in on clause (500 Internal Server Error)`

第一个问题，这个查询可以工作吗？（我的意思是`ON [...] AND COUNT(cours_id)=0`）

而且，为什么会出现这个错误？我的意思是 cours.id 已定义，并且 select, cours 在 FROM 子句中......我尝试使用别名（cid），MySQL 也同样回答我......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:02:53.063

此查询无法工作。您正在尝试 INNER JOIN 一个 count(...) = 0 的表，因此没有要加入的记录！

一个正确的方法是：

```
SELECT cours.id AS cid, cours.name AS cname, DATE_FORMAT(cours.date,"%H:%i") AS cdate, DATE_FORMAT(cours.date,"%a") AS jour,sessions.id AS sid,sessions.name AS sname,sessions.restant,session_cours.session_id,session_cours.cours_id, ISNULL(cours.video_id) AS isVid
FROM cours,sessions,session_cours
WHERE cours.prof_id = :prof_id
AND sessions.prof_id = :prof_id
AND session_cours.cours_id=cours.id
AND sessions.id=session_cours.session_id
AND DATE_FORMAT(cours.date,"%Y-%m-%d") >= :date_min
AND DATE_FORMAT(cours.date,"%Y-%m-%d") <= :date_max
AND (SELECT COUNT(*) FROM cours_document WHERE cours.id=cours_document.cours_id) = 0
GROUP BY cours.id ORDER BY date ASC 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:13:07.033

您可以选择不在 cours_document 表中的所有记录（然后它们没有文档..）

```
SELECT cours.id AS cid, cours.name AS cname, DATE_FORMAT(cours.date,"%H:%i") AS cdate,
DATE_FORMAT(cours.date,"%a") AS jour,sessions.id AS sid,sessions.name AS
sname,sessions.restant,session_cours.session_id,session_cours.cours_id,
ISNULL(cours.video_id) AS isVid
FROM cours,sessions,session_cours
WHERE cours.prof_id = :prof_id
AND sessions.prof_id = :prof_id
AND session_cours.cours_id=cours.id
AND sessions.id=session_cours.session_id
AND DATE_FORMAT(cours.date,"%Y-%m-%d") >= :date_min
AND DATE_FORMAT(cours.date,"%Y-%m-%d") <= :date_max
**and cours.id not in (Select distinct cours_id from cours_document )**
GROUP BY cours.id ORDER BY date ASC 
```

再见！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T09:41:54.493

使用子选择是不必要的，并且通常会导致性能下降。您可以只使用左连接并忽略有匹配记录的记录。

```
SELECT cours.id AS cid, cours.name AS cname, DATE_FORMAT(cours.date,"%H:%i") AS cdate, DATE_FORMAT(cours.date,"%a") AS jour,sessions.id AS sid,sessions.name AS sname,sessions.restant,session_cours.session_id,session_cours.cours_id, ISNULL(cours.video_id) AS isVid
FROM cours
INNER JOIN session_cours ON session_cours.cours_id=cours.id
INNER JOIN sessions ON sessions.id=session_cours.session_id
LEFT OUTER JOIN cours_document ON cours.id=cours_document.cours_id 
WHERE cours_document.cours_id IS NULL
AND cours.prof_id = :prof_id
AND sessions.prof_id = :prof_id
AND DATE_FORMAT(cours.date,"%Y-%m-%d") >= :date_min
AND DATE_FORMAT(cours.date,"%Y-%m-%d") <= :date_max
GROUP BY cours.id 
ORDER BY date ASC 
```

您可能也不应该在这里使用 GROUP BY，但不太确定您想要什么（也许您只是使用它来让 COUNT 工作）。

# python - 关于 super() 函数

> ID：15131282
> 
> 赞同：0
> 
> 时间：2013-02-28T08:58:20.463
> 
> 标签：python, pyqt, maya

我正在使用 QtDesign 创建自己的 UI 并将其转换为 python 版本。因此，在子类化 UI python 文件之后，我编写了一些函数来为 QGraphicsView 实现 mouseEvent。只是一个小问题。如何调用 QGraphicsView 的 super() 函数？

```
class RigModuleUi(QtGui.QMainWindow,Ui_RiggingModuleUI):
    def __init__(self,parent = None):
        super(RigModuleUi,self).__init__(parent = parent)
    self.GraphicsView.mousePressEvent = self.qView_mousePressEvent

    def qView_mousePressEvent(self,event):
        if event.button() == QtCore.Qt.LeftButton:
            super(RigModuleUi,self).mousePressEvent(event) 
```

看起来`super(RigModuleUi,self).mousePressEvent(event)`将返回 QMainWindow 的 mouseEvent，而不是 QGraphicsView。因此，像橡皮筋这样的鼠标的所有其他选项都将丢失。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:11:54.697

我不太确定你期望在这里发生什么。您正在存储*绑定方法*。当它被调用时，它仍然会以`self`存储时的方式被调用。

你`super`的祖先`RigModuleUi`不继承自`QGraphicsView`.

`self.GraphicsView`是一个实例属性的有趣名称；那应该是一个类的名称，还是只是偶然大写？（请遵循[PEP8 命名约定](http://www.python.org/dev/peps/pep-0008/)。）如果您将方法定义为全局函数并将其分配给实例*，*那么您可能会更幸运。

```
def qView_mousePressEvent(self, event):
    if event.button() == QtCore.Qt.LeftButton:
        super(QGraphicsView, self).mousePressEvent(event)

class RigModuleUi(QtGui.QMainWindow, Ui_RiggingModuleUI):
    def __init__(self, parent=None):
        super(RigModuleUi,self).__init__(parent=parent)
        self.GraphicsView.mousePressEvent = qView_mousePressEvent 
```

在这里疯狂猜测；我不知道 PyQt 的类层次结构 :)

# sql - SQL 字符串对匹配

> ID：15131284
> 
> 赞同：0
> 
> 时间：2013-02-28T08:58:21.773
> 
> 标签：sql

我在编写 SQL 查询方面需要帮助。

我有 A 列，它可以携带诸如 "A-01" 、 "B-01"、B-02" 等值...

我有B列，它可以携带“A01”、“B01”、B02”等值......

我想编写一个查询，其中 A 列中的数据是 A-01，B 列是 A01 和

A 列中的数据为 B-01，B 列中的数据为 B01，并且

A 列中的数据为 C-02，B 列中的数据为 C02，依此类推。

我基本上是在所有可能的组合中寻找形成这种对的数据行。

我在这里寻找某种变量字符串匹配。但我不知道这是否可能。

任何帮助/建议表示赞赏。谢谢，-里亚兹

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:04:33.700

我希望这有帮助：

```
SELECT * FROM your_table
WHERE REPLACE(field_a, '-', '') = field_b 
```

# php - 如何修复我的未定义索引：标题

> ID：15131286
> 
> 赞同：0
> 
> 时间：2013-02-28T08:58:23.057
> 
> 标签：php, html, arrays

如何修复我的未定义索引：标题。为什么会这样？我已经尝试定义索引标题但它不起作用

在我使用href之前，它工作得很好。

```
 <td><?= isset($restaurant_result['title']) ? $restaurant_result['title'] : '<span style="color:red">MANGLER</span>'; ?></td> 
```

实现 href 后，我在此语句中得到一个未定义的索引：标题。

```
<td><a href="restaurantoversigt?email=<?php echo $restaurant_result['title']?>"> <?= isset($restaurant_result['title']) ? $restaurant_result['title'] : '<span style="color:red">MISSING</span>'; ?></a></td> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:01:49.443

您缺少 isset 检查使用以下内容：

```
<?php $title = isset($restaurant_result['title']) ? $restaurant_result['title'] : ""; ?>

<td><a href="restaurantoversigt?email=<?php echo $title ?>"> <?= $title != "" ? $title : '<span style="color:red">MISSING</span>'; ?></a></td> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:06:34.847

```
 <?php 
    $title = null;
    if (isset($restaurant_result['title']))
      $title = $restaurant_result['title'];
    ?>

    <td><a href="restaurantoversigt?email=<?php echo $title; ?>"> <?= $title !== null ?  $title : '<span style="color:red">MISSING</span>'; ?></a></td> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T09:03:07.557

尝试这个 ：

```
<?php 
  $title = isset($restaurant_result['title'])?$restaurant_result['title'] :"";
?>
<?php if($title){ ?>
<td><a href="restaurantoversigt?email=<?php echo $title;?>"> <?= $title ?></a></td>
<?php } else {?>
<td><a href="restaurantoversigt?email=<?php echo $title;?>"> <span style="color:red">MISSING</span></a></td>
<?php }?> 
```

注意：在其他情况下会`$title`有空值，所以 href 将是：`restaurantoversigt?email=`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T09:06:36.563

尝试这个：

```
<td><a href="restaurantoversigt?email=<?php echo $restaurant_result['title']?>"> <?php echo isset($restaurant_result['title']) ? $restaurant_result['title'] : '<span style="color:red">MISSING</span>'; ?></a></td> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T09:01:50.520

尝试

```
array_key_exists('title', $restaurant_result) ? $restaurant_result['title'] : '<span style="color:red">MISSING</span>' 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-28T09:01:59.240

`$restaurant_result['title']`未定义。`isset`您之前没有收到错误，因为您在尝试使用它之前检查它是否未定义。

# java - 查询以获取 derby 数据库表中列中的最后一个值

> ID：15131288
> 
> 赞同：0
> 
> 时间：2013-02-28T08:58:32.720
> 
> 标签：java, sql, derby, javadb

我想在 derby db 表的一行中获取最后一个值。有人能帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T17:25:36.973

```
SELECT *
FROM dbo.rawImport
WHERE number= ( select max(number)
                    from dbo.rawImport) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-09T09:48:40.340

如果您想获取最后一个 id（数值），请尝试这个

```
SELECT MAX(COLUMN_NAME)
FROM TABLE_NAME 
```

而已。

如果您想获取最后一行的全部数据，请调用`getRowCount()`方法并选择该引用处的记录。查看代码示例。
**getRowCount() 方法：**

```
public int getRowCount(String tableName) {
        int count = 0;
        try {
            res = st.executeQuery("SELECT COUNT(*) FROM " + tableName);
            while (res.next()) {
                count = res.getInt(1);
            }
        } catch (SQLException ex) {
            ex.printStackTrace();
            JOptionPane.showMessageDialog(null, "Table not found record getting");
        }
        return count;
    } 
```

它将返回一个 int 值，因此将其用作

```
SELECT * FROM TABLE_NAME WHERE ID = getRowCount(TABLE_NAME); 
```

结果是你的最后一条记录。

# java - J2ME Tamil(UniCode) 字符显示

> ID：15131290
> 
> 赞同：0
> 
> 时间：2013-02-28T08:58:34.867
> 
> 标签：java, unicode, java-me, netbeans-7, tamil

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:14:30.887

Square boxes normally mean that the Font is unable to display that character. The encoding is fine, but you need a different Font.

This link explains how to change the Fonts on the emulator: [http://www.devarticles.com/c/a/Java/J2ME-and-Unicode/1/](http://www.devarticles.com/c/a/Java/J2ME-and-Unicode/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-11T07:22:29.377

As with comment proper bitmap file can capable to produce the font on j2me app. [MJbookmaker](https://docs.google.com/file/d/0B8j-6CFq6hsGc3NaaGxBMmVmVGs/edit?usp=sharing) is capable tool which produce desire format for j2me application

# python - spyne SOAP 服务器的 Hello world 示例

> ID：15131293
> 
> 赞同：2
> 
> 时间：2013-02-28T08:58:46.577
> 
> 标签：python, soap, suds, spyne

我正在尝试几个不同的 Python SOAP 服务器库，但我似乎无法让[spyne](http://spyne.io/)的“hello world”示例工作： [https ://github.com/arskom/spyne/blob/master/examples/ helloworld_soap.py](https://github.com/arskom/spyne/blob/master/examples/helloworld_soap.py)

当我运行它时，它会启动一个 SOAP 服务器，我可以在浏览器中成功地查看 WSDL `http://localhost:7789/?wsdl`。但是，当我尝试连接 suds 客户端时，出现异常：

```
Python 2.7.3 (default, Aug  1 2012, 05:14:39) 
[GCC 4.6.3] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> from suds.client import Client
>>> c = Client('http://localhost:7789/?wsdl')
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/home/acordiner/ve/local/lib/python2.7/site-packages/suds/client.py", line 112, in __init__
    self.wsdl = reader.open(url)
  File "/home/acordiner/ve/local/lib/python2.7/site-packages/suds/reader.py", line 152, in open
    d = self.fn(url, self.options)
  File "/home/acordiner/ve/local/lib/python2.7/site-packages/suds/wsdl.py", line 158, in __init__
    self.resolve()
  File "/home/acordiner/ve/local/lib/python2.7/site-packages/suds/wsdl.py", line 207, in resolve
    c.resolve(self)
  File "/home/acordiner/ve/local/lib/python2.7/site-packages/suds/wsdl.py", line 661, in resolve
    self.resolveheaders(definitions, op)
  File "/home/acordiner/ve/local/lib/python2.7/site-packages/suds/wsdl.py", line 725, in resolveheaders
    raise Exception, "message'%s', not-found" % mn
Exception: message's0:SomeObject', not-found 
```

我可能做错了什么？我正在使用 spyne 2.9.4 和 suds 0.4。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-01T11:06:24.520

对于这种混乱，我很抱歉。

您链接到的示例是：[https ://github.com/arskom/spyne/blob/ec2bd6feb89fb36915b7266497c177e4c6f78b83/examples/helloworld_soap.py](https://github.com/arskom/spyne/blob/ec2bd6feb89fb36915b7266497c177e4c6f78b83/examples/helloworld_soap.py)

用来说明一个 suds 的 bug，在[我自己的 suds 版本中](http://github.com/plq/suds)修复，但在主流 suds 中没有。后来我忘记将它恢复到主 Spyne 存储库中。

你可以在[这里找到相关的提交](http://github.com/arskom/spyne/commit/a6117cfba7cbab0bd3aa76bd950e8b31b8ebc15c)。

Suds 无法处理名称空间不同于`targetNamespace`. 您可以通过设置`SomeObject.__namespace__ = 'spyne.examples.hello.soap'`而不是`'aaa'`.

无论如何，您也可以删除在 helloworld 示例中不合适的传出标头声明。

我希望这有帮助。

# c++ - 有没有办法在不使用 LD_PRELOAD 的情况下动态加载共享库？

> ID：15131296
> 
> 赞同：0
> 
> 时间：2013-02-28T08:58:50.947
> 
> 标签：c++, shared-libraries, ld-preload

我正在使用 C++ 应用程序。我想在将任何共享库加载到我的应用程序之前加载要加载的共享库。

一种方法是`LD_PRELOAD`在代码中使用。但是是否可以在不使用的情况下完成上述场景`LD_PRELOAD`？

# breeze - 如何在视图路径中使用 durandal mvc 控制器？

> ID：15131297
> 
> 赞同：0
> 
> 时间：2013-02-28T08:58:51.477
> 
> 标签：breeze, durandal

我有

```
 public ActionResult Index()
        {
            ViewBag.Roles = AccountRepository.GetRoles();
            return PartialView();
        } 
```

那么我如何使用带有 viewPath 的 CreateUserViewModel 是 Account/CreateUser

我是杜兰达尔的新手。谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T17:55:30.607

由于您使用的是 Durandal，我猜您正在尝试水疗中心（我也是）。如果是这样，您真的不需要使用控制器来执行此操作。相反，在页面启动时，将代码的主体与您的主要 js 文件包装在一个

```
@model MvcApplication7.Models.LoginModel

<div id="main-content">
@if (@User.Identity.IsAuthenticated)
{
    ///main app here
}
else
{
    ///authorize/sign up here
}
</div>

@if (@User.Identity.IsAuthenticated)
{
@section scripts {
    @Scripts.Render("~/bundles/duranal")
    @Scripts.Render("~/bundles/etc...")
}
} 
```

这基本上是微风的家伙在他们的微风水疗示例项目中使用的模型，您可以在这里找到[http://www.breezejs.com/spa-template](http://www.breezejs.com/spa-template)

祝你好运！

附言。街上的消息是，约翰爸爸很快就会开设一门关于复数视觉的课程，我敢打赌这将包括杜兰达尔的东西

# mysql - 在类似关闭的mysql中使用\'

> ID：15131300
> 
> 赞同：0
> 
> 时间：2013-02-28T08:59:15.470
> 
> 标签：mysql

{ 当我执行此查询时，它返回空结果，但结果保存在数据库中， `enter code here`名字是 D\'Ami

```
SELECT u.UserFirstName, u.UserLastName, u.UserHasLoginAccess, u.UserEmail
FROM Users u
WHERE u.UserLicenseID =  '1603'
AND TRIM( u.UserEmail ) !=  ''
AND (
u.UserEmail LIKE  "%D\'Ami%"
OR u.UserFirstName LIKE  "%D\'Ami%"
OR u.UserLastName LIKE  "%D\'Ami%"
OR CONCAT_WS(  ' ', u.UserFirstName, u.UserLastName ) LIKE  "%D\'Ami%"
)
LIMIT 0 , 50} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:00:31.270

当您想使用查询搜索单引号时，您必须使用另一个单引号而不是`\`. 例如

```
u.UserEmail LIKE  "%D''Ami%"
OR u.UserFirstName LIKE  "%D''Ami%"
OR u.UserLastName LIKE  "%D''Ami%"
OR CONCAT_WS(  ' ', u.UserFirstName, u.UserLastName ) LIKE  "%D''Ami%" 
```

作为旁注，[`SQL Injection`](http://bobby-tables.com/)如果变量的值（*s*）来自外部，则查询很容易受到攻击。请看下面的文章，了解如何预防。通过使用`PreparedStatements`，您可以摆脱在值周围使用单引号。

*   [如何*防止*PHP 中的 SQL 注入？](https://stackoverflow.com/questions/60174/how-to-prevent-sql-injection-in-php)

# drools - 以编程方式从 Eclipse 中触发 Drools guvnor 中的 drl 规则

> ID：15131301
> 
> 赞同：-1
> 
> 时间：2013-02-28T08:59:15.703
> 
> 标签：drools, drools-guvnor

我是 Drools guvnor 的新手。我以编程方式使用 Rest API（Webclient）创建了一个规则。但我无法从我的日食中触发这条规则。

谁能给我一些代码片段“如何使用rest API以编程方式触发规则”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T12:13:16.690

Guvnor 只是您的规则的容器。类似于存储库的东西。规则永远不会在 Guvnor 内部执行（唯一的例外是测试场景）。您需要做的是使用 REST API 获取您的规则（或包），并使用它们创建一个知识库。你可以在这里获得更多信息：http: [//docs.jboss.org/drools/release/5.5.0.Final/drools-expert-docs/html_single/#d0e2354](http://docs.jboss.org/drools/release/5.5.0.Final/drools-expert-docs/html_single/#d0e2354)

希望能帮助到你，

# google-chrome - 在哪个导航计时阶段网页显示？

> ID：15131302
> 
> 赞同：0
> 
> 时间：2013-02-28T08:59:22.067
> 
> 标签：google-chrome, firefox, browser, navigation-timing-api

[`performance.timing`](https://github.com/w3c/web-performance/#processing-model)存储在网页加载期间发生的各种事件的时间：

[![导航时序概览](../Images/61d647e2074e996c36067b7955120718.png)](https://i.stack.imgur.com/g5yEl.png)
[（来源：[dvcs.w3.org](https://dvcs.w3.org/hg/webperf/raw-file/tip/specs/NavigationTiming/timing-overview.png)）]

我了解到 HTML 标记会被解析，并且既没有“defer”也没有“async”属性的元素在和`<script>`之间同步执行，[然后具有“defer”属性的脚本（即，在](https://html.spec.whatwg.org/multipage/syntax.html#the-end)[**文档完成时执行的脚本列表中的脚本解析**](https://html.spec.whatwg.org/multipage/syntax.html#the-end)[）之前执行](https://html.spec.whatwg.org/multipage/syntax.html#the-end)。然后执行带有属性的元素，[如果有的话](https://html.spec.whatwg.org/multipage/syntax.html#the-end)， before被设置为并在 Window 对象上触发事件。`domLoading``domInteractive`[**`DOMContentLoaded`**](https://html.spec.whatwg.org/multipage/syntax.html#the-end)**`<script>``async``document.readyState``complete``load`**

 **> 旋转事件循环，直到将尽快执行的脚本集和将尽快按顺序执行的脚本列表为空。

我的问题是网页内容何时显示？它们是否在解析 HTML 标签时同时显示？还是在脚本执行阶段？或之后`loadEventEnd`？
加载大页面时，页面显示后加载图标仍然旋转一段时间，浏览器是否在此期间执行脚本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T17:02:55.473

HTML 页面以增量方式显示。显示从`domInteractive`发生的点开始（此时通常还没有所有内容都存在），并且通常在该点之后继续。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-15T00:43:46.550

从 IE9 开始，有一个属性可能对您有用，一个 Microsoft 独有的前缀 NavigationTiming 属性，称为[`window.performance.timing.msFirstPaint`](http://msdn.microsoft.com/en-us/library/ie/ff974719%28v=vs.85%29.aspx). 该属性在第一次绘制页面时公开。

它（还）在其他浏览器中不可用，而且我们还没有看到它们有多大的吸引力，所以我不确定它是否会成为 NavigationTiming 标准的一部分。**

# gnuplot - 无法使用gnuplot更改直方图中的线条颜色

> ID：15131303
> 
> 赞同：1
> 
> 时间：2013-02-28T08:59:22.113
> 
> 标签：gnuplot, graphing

我使用 gnuplot 生成直方图，效果很好，但我无法更改条形图的颜色（不再）。他们只是忽略我设置的值并使用默认值。我正在使用这个 gnuplot 脚本：

```
set terminal png nocrop enhanced font arial 8 size 1024,768
set output '/tmp/output.png'
set border 3 front linetype -1 linewidth 1.000
set boxwidth 0.75 absolute
set style fill solid 1.00 border -1
set grid
set grid layerdefault   linetype 0 linewidth 1.500,  linetype 0 linewidth 1.500
set key outside right top vertical Left reverse enhanced autotitles columnhead nobox
set key invert samplen 4 spacing 1 width 0 height 0
set style histogram rowstacked title  offset character 0, 0, 0
set datafile missing '-'
set style data histograms
set xtics border in scale 1,0.5 nomirror rotate by -45  offset character 0, 0, 0
set xtics ("10" 0.00000,"20" 1.00000,"30" 2.00000,"40" 3.00000,"50" 4.00000,"60" 5.00000,"70" 6.00000,"80" 7.00000,"90" 8.00000,"100" 9.00000)
set title "Multi-Histogram"
set ylabel "Meine Y Achse"
set xlabel "X-Achse"
set yrange [ 0 : 100 ] noreverse nowriteback
set ytics(10,20,30,40,50,60,70,80,90,100)
i = 5

# SETTING COLOR OF BARS
set style line 1 lt 1 lc rgb "green"
set style line 2 lt 1 lc rgb "yellow"
set style line 3 lt 1 lc rgb "red

plot '/tmp/9619555_data.dat' using (100.*$2/$24):(0.5):($2>0?1:2):xtic(1) w boxes lc variable, for [i=2:4] '' using (100.*column(i)/column(5)) title column(i) 
```

这是我的数据文件：

```
X       leicht  mittel  stark   total
1       20      60      20      100
2       10      30      60      100
3       30      35      35      100
4       20      60      20      100
5       90      5       5       100
6       25      25      50      100
7       33      33      34      100
8       10      10      80      100
9       40      20      40      100
10      70      5       25      100 
```

酒吧颜色旁边的所有东西都适合我，......我在风格上做错了什么？

# java - 在java中创建输出文件输出文件时出错

> ID：15131304
> 
> 赞同：1
> 
> 时间：2013-02-28T08:59:38.807
> 
> 标签：java, filenotfoundexception

嗨，我在尝试将文件 FTP 到目标时收到以下错误..

我使用的代码：

```
 final String destinationFile = destinationFolder + inputFile.getName();

 OutputStream output = null;
    try {

        output = new FileOutputStream(destinationFile);

    } catch (Exception e) {
        System.out.println("Error creating output file");
        e.printStackTrace();
    } 
```

例外：

```
java.io.FileNotFoundException: \bsgdata1\dba1\jubair\ftpPDF\TMPAAA6CaWnR.pdf (The system cannot find the path specified)
    at java.io.FileOutputStream.open(Native Method)
    at java.io.FileOutputStream.<init>(Unknown Source)
    at java.io.FileOutputStream.<init>(Unknown Source)
    at com.finacle.pdf.reportgenerator.util.FtpUtil.ftp(FtpUtil.java:96)
    at com.finacle.pdf.reportgenerator.PdfReportGenerator.generate(PdfReportGenerator.java:86)
    at com.finacle.pdf.reportgenerator.PdfReportGenerator.main(PdfReportGenerator.java:35)
Exception in thread "main" java.lang.NullPointerException
    at com.finacle.pdf.reportgenerator.util.FtpUtil.ftp(FtpUtil.java:110)
    at com.finacle.pdf.reportgenerator.PdfReportGenerator.generate(PdfReportGenerator.java:86)
    at com.finacle.pdf.reportgenerator.PdfReportGenerator.main(PdfReportGenerator.java:35) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:11:53.097

似乎文件目录不可访问/可访问。很可能是因为网络/ftp 不可用或路径不正确。如果您可以放置​​整个代码/项目，我可以帮助您调试相同的

# android - 修复列表视图上的 JSONResponse

> ID：15131306
> 
> 赞同：0
> 
> 时间：2013-02-28T08:59:58.527
> 
> 标签：android, json, android-listview, arrays

我想`listview`从我的`JSON`回复中添加行。这是我从中获取`JSON`并在 cosole 中打印它们的代码：

```
HttpClient hClient = new DefaultHttpClient();
        HttpGet hGet = new HttpGet(
                "APIHere");
        ResponseHandler<String> rHandler = new BasicResponseHandler();
        data = hClient.execute(hGet, rHandler);

        JSONObject rootObj = new JSONObject(data);
        JSONObject searchObj = rootObj.getJSONObject("searchdata");
        JSONArray titlesObj = searchObj.getJSONArray("titles");
        JSONArray descsObj = searchObj.getJSONArray("desc");
        JSONArray linksObj = searchObj.getJSONArray("links");

        for (int i = 0; i < titlesObj.length(); i++) {
            String title = titlesObj.getString(i);
            System.out.println("Titles: " + title);
        }

        for (int i = 0; i < descsObj.length(); i++) {
            String desc = descsObj.getString(i);
            System.out.println("Desc: " + desc);
        }

        for (int i = 0; i < linksObj.length(); i++) {
            String link = linksObj.getString(i);
            System.out.println("Link: " + link);
        } 
```

我正在迭代整个`JSONArray`，我可以在控制台中打印它们。现在，我想将这些响应放在列表视图中。我对此一无所知。

任何形式的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T10:19:55.447

```
 HttpClient hClient = new DefaultHttpClient();
    HttpGet hGet = new HttpGet(
            "APIHere");
    ResponseHandler<String> rHandler = new BasicResponseHandler();
    data = hClient.execute(hGet, rHandler);

    JSONObject rootObj = new JSONObject(data);
    JSONObject searchObj = rootObj.getJSONObject("searchdata");
    JSONArray titlesObj = searchObj.getJSONArray("titles");
    JSONArray descsObj = searchObj.getJSONArray("desc");
    JSONArray linksObj = searchObj.getJSONArray("links");

    String[] a = new String[titlesObj.length()];

    String[] b = new String[descsObj.length()];

    String[] c = new String[linksObj.length()];

    for (int i = 0; i < titlesObj.length(); i++) {

    String title = titlesObj.getString(i);

    a[i] = title;

     }

    for (int i = 0; i < descsObj.length(); i++) {

    String desc = descsObj.getString(i);

    b[i] = desc;

    }

    for (int i = 0; i < linksObj.length(); i++) {

    String link = linksObj.getString(i);

   c[i] = link;

   }

  ArrayList<String> al=new ArrayList<String>();

  //if three jsonarrays having same length

  for(i=0;i<linksObj.length();i++)

   {

   al.add(" " +a[i]+" " +b[i]+""+c[i]+"");

   }

   ArrayAdapter<String> adapter=new ArrayAdapter<String>this,android.R.layout.simple_list_item_1,al);

  ListView lv=(ListView)findViewById(R.id.listview);

 lv.setAdapter(adapter);
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:13:05.440

获取数组项并将其显示到列表视图中：

```
ArrayList titles = new ArrayList();
ArrayList descs= new ArrayList();
ArrayList links= new ArrayList();

 for (int i = 0; i < titlesObj.length(); i++) {
        String title = titlesObj.getString(i);
        titles.add(title); 
        System.out.println("Titles: " + title);
    }

    for (int i = 0; i < descsObj.length(); i++) {
        String desc = descsObj.getString(i);
        descs.add(title);
        System.out.println("Desc: " + desc);
    }

    for (int i = 0; i < linksObj.length(); i++) {
        String link = linksObj.getString(i);
        links.add(title);
        System.out.println("Link: " + link);
    } 
```

接下来，您将这个数组列表作为列表视图的源，如下所示：

```
 // Get a handle to the list views

//get your instance of the listview for titles

        ListView lvTitle = (ListView) findViewById(R.id.ListView01);
     lv.setAdapter(new ArrayAdapter<string>((Your activity class).this,
                android.R.layout.simple_list_item_1, titles ));

//get your instance of the listview for descriptions

ListView lvDesc = (ListView) findViewById(R.id.ListView02);
     lv.setAdapter(new ArrayAdapter<string>((Your activity class).this,
                android.R.layout.simple_list_item_1, descs));

//get your instance of the listview for links

ListView lvLinks = (ListView) findViewById(R.id.ListView03);
     lv.setAdapter(new ArrayAdapter<string>((Your activity class).this,
                android.R.layout.simple_list_item_1, links)); 
```

## 编辑

无论我说什么，都应该已经解决了你的问题。但是，我可以看到您正在使用相同的活动与远程服务器通信以获取数据。我建议最好为此创建一个单独的类来返回 json text `data`。然后你可以从你的活动中调用这个类来获取数据并在你的活动中设置列表视图。它将避免您的应用程序中不必要的滞后和强制关闭。

## 更新

您需要为此实现一个自定义适配器。`listitem.xml`您需要根据您的要求使用 Layouts定义单个。然后将其膨胀到列表视图。

按照本[教程](http://www.androidhive.info/2012/02/android-custom-listview-with-image-and-text/)。

样品行：

list_row.xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:background="@drawable/list_selector"
android:orientation="horizontal"
android:padding="5dip" >

<!--  ListRow Left sied Thumbnail product image -->
<LinearLayout android:id="@+id/thumbnail"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:padding="3dip"
    android:layout_alignParentLeft="true"
    android:background="@drawable/image_bg"
    android:layout_marginRight="5dip">

    <ImageView
        android:id="@+id/list_image"
        android:layout_width="50dip"
        android:layout_height="50dip"
        android:src="@drawable/someImage"/>

</LinearLayout>

<!-- Your title-->
<TextView
    android:id="@+id/title"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignTop="@+id/thumbnail"
    android:layout_toRightOf="@+id/thumbnail"
    android:text="Big Title"
    android:textColor="#040404"
    android:typeface="sans"
    android:textSize="15dip"
    android:textStyle="bold"/>

<!-- Your subtitle -->
<TextView
    android:id="@+id/subtitle"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_below="@id/title"
    android:textColor="#343434"
    android:textSize="10dip"
    android:layout_marginTop="1dip"
    android:layout_toRightOf="@+id/thumbnail"
    android:text="Smaller sub title" />

<!-- Rightend info -->
<TextView
    android:id="@+id/duration"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_alignTop="@id/title"
    android:gravity="right"
    android:text="info"
    android:layout_marginRight="5dip"
    android:textSize="10dip"
    android:textColor="#10bcc9"
    android:textStyle="bold"/>

 <!-- Rightend Arrow -->
 <ImageView android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:src="@drawable/arrow"
    android:layout_alignParentRight="true"
    android:layout_centerVertical="true"/>

</RelativeLayout> 
```

这将使您的列表行看起来像：

![在此处输入图像描述](../Images/6f5f34a24f6c1f6d304f204739d84580.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:23:37.097

1.根据您的需要/响应创建一个 POJO

```
public class SearchData {
    private String title;
    private String Description;
    private String link;

    //getter & setter methods for each field
} 
```

2.创建一个`List<SearchData>`对象并通过解析响应来填充它

```
List<SearchData> list = new ArrayList<SearchData>();
//parse JSON array to SearchData object and add it to list
list.add(searchDataObject); 
```

3a。如果您愿意只显示一个标题（即如果简单的布局就足够了）

```
ArrayAdapter<SearchData> adapter = new ArrayAdapter<Product>(this, android.R.layout.simple_list_item_1, list);
listview.setAdapter(adapter); 
```

** 你还需要重写 POJO 的`toString()`方法`SearchData`来返回 title 即

```
public class SearchData {
    ....
    @Override
    public String toString() {
        return title;
    }
} 
```

3b。另一方面，如果您愿意使用自定义布局，那么您需要扩展一个`ArrayAdapter`and override`getView`方法，然后以与我们在步骤 3a 中相同的方式绑定新适配器，除了这次替换`ArrayAdapter`为自定义适配器

资源：

1 按照 Ram Kiran 的建议解析对 ListView 的 JSON 响应：http: [//p-xr.com/android-tutorial-how-to-parse-read-json-data-into-a-android-listview/](http://p-xr.com/android-tutorial-how-to-parse-read-json-data-into-a-android-listview/)

2 自定义 ListView 和使用自定义适配器：[http ://www.ezzylearning.com/tutorial.aspx?tid=1763429](http://www.ezzylearning.com/tutorial.aspx?tid=1763429)

# ios - 在 ARC 上调用 iOS 的 initWithTimeInterval:sinceDate 导致内存泄漏

> ID：15131308
> 
> 赞同：1
> 
> 时间：2013-02-28T09:00:06.827
> 
> 标签：ios, automatic-ref-counting, nsdate

`initWithTimeInterval:sinceDate:`当我打电话时

```
NSDate * newDate = [date initWithTimeInterval:-7*24*60*60 sinceDate:date]; 
```

我遇到内存泄漏。当我像这样修复它时：

```
NSDate * newDate = [[NSDate alloc] initWithTimeInterval:-7*24*60*60 sinceDate:date]; 
```

我认为没有发生内存泄漏。我的问题是为什么前面的描述会导致内存泄漏。它有很强的参考价值吗？或者改变引用计数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:07:19.047

你能显示更多代码吗？你如何在第一个例子中初始化日期？ `initWithTimeInterval:sinceDate:`是一个构造函数，所以如果你已经初始化了数据，你不能`init...`再为这个变量调用任何方法。

# perl - Perl、SAX 和系统实体

> ID：15131310
> 
> 赞同：3
> 
> 时间：2013-02-28T09:00:10.690
> 
> 标签：perl, entity, sax

我需要在 Perl 中解析一个 XML 文件。文件的一部分单独存储，作为系统实体插入。不过，这个问题很常见。但是我无法获得任何信息来解决它。

```
<?xml version="1.0"?>
<!DOCTYPE RootNode [
    <!ENTITY externalContent SYSTEM "ext.txt">
]>
<RootNode xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../release/bin/schenma.xsd">
    &externalContent;
</RootNode> 
```

使用 Pure Perl SAX 解析此文件时，我只获得有关元素和字符的信息。实体作为字符处理。它被引用的文本替换，也被替换为`ext.txt`类似的内部实体。SYSTEM 关键字似乎被忽略了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T15:37:35.320

使用 Pure Perl SAX 是否重要？我已经尝试过[XML::LibXML](http://search.cpan.org/~shlomif/XML-LibXML-2.0014/LibXML.pod)和[XML::Parser](http://search.cpan.org/~msergeant/XML-Parser-2.36/Parser.pm)，它们都正确处理了带有外部实体的 XML。

```
use XML::LibXML;
my $document = XML::LibXML->load_xml(location => 'file.xml');
print $document->toString(); 
```

# java - 如何在 Unix 中分析 Java 服务器进程的线程转储

> ID：15131311
> 
> 赞同：0
> 
> 时间：2013-02-28T09:00:13.813
> 
> 标签：java, unix

我通过在我的 Unix 机器上运行以下命令来获取线程转储：

```
kill -3 <process-id> 
```

线程转储是在日志文件中生成的，但是如何分析数据以了解我的服务器出了什么问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:21:26.550

从阻塞线程和等待监视器的线程开始。
如果有任何死锁，它将在日志的末尾打印。
看看是否存在线程争夺资源的任何情况，并且因为死锁正在发生。
你必须自己做。做一些研究并分析转储。这需要时间，但你可以学习它。

# android - 将列类型从 TEXT 更改为 INTEGER 以存储日期对象

> ID：15131317
> 
> 赞同：1
> 
> 时间：2013-02-28T09:00:35.653
> 
> 标签：android, sqlite

我必须升级具有 SQLite 数据库的 Android 应用程序。在新版本中，我们决定使用 INTEGER（从 开始的秒数）而不是 TEXT（ISO8601 字符串：）`1970-01-01 00:00:00 UTC`来存储对象。`java.util.Date``YYYY-MM-DD HH:MM:SS.SSS`

是否可以更改列类型？或者我应该添加一个新列，然后将日期对象转换为 long，然后删除旧列并最后重命名新列？或者有没有更好/标准的方法来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:08:27.537

我会使用[SQLiteOpenHelper#onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion)](http://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper.html#onUpgrade%28android.database.sqlite.SQLiteDatabase,%20int,%20int%29)，正如你所说：

> 添加一个新列，然后将日期对象转换为 long，然后删除旧列，最后重命名新列

另一方面，您可以将 int 放入具有 TEXT 隶属关系的列中，因为 sqlite 在**大多数情况下**并不真正关心类型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:10:30.627

可能这会帮助你...

CREATE TABLE IF NOT EXISTS **TEMP_TABLE**（id 整数主键自动增量，**col2change 整数不为空**，...）

```
INSERT INTO TEMP_TABLE SELECT * FROM EXISTING_TABLE

DROP TABLE EXISTING_TABLE

ALTER TABLE TEMP_TABLE RENAME TO EXISTING_TABLE 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:16:06.203

实际上，正如@delor 所说，SQLite 几乎是无类型的，请参阅[http://www.sqlite.org/datatypes.html](http://www.sqlite.org/datatypes.html) 您只需一个查询即可更新您的表： `update t set d = strftime('%s', d)`

# mysql - 在 mysql 查询中以逗 号分隔的帖子标题

> ID：15131325
> 
> 赞同：0
> 
> 时间：2013-02-28T09:00:51.100
> 
> 标签：mysql, arrays, wordpress

我知道当我有一个循环时，我可以用逗号分隔帖子标题：

```
<?php           
$medium_posts = new WP_Query ($medium_query);
?>

<span class="archive-list"> 
<?php while ( $medium_posts->have_posts() ) : $medium_posts->the_post(); ?>
<?php echo (($medium_posts->current_post!=0)?'<span class="separator">,</span> ':''); ?><a href="<?php the_permalink() ?>" rel="bookmark"><?php the_title(); ?></a>
<?php endwhile ?>
</span> 
```

但是如果我有一种情况，我有一个 mysql 查询，并且喜欢用逗号分隔帖子标题怎么办？

```
 <?php
    $posts = $wpdb->get_col("
                SELECT $wpdb->posts.*
                FROM $wpdb->posts
                WHERE post_status = 'publish' 
                AND post_type = 'works' 
                AND MONTH(post_date) = '".$month."' 
                AND YEAR(post_date) = '".$year."' 
                ORDER BY post_date DESC");

        $the_posts = array();
        foreach($posts as $post) :
    ?>

<span class="archive-list">
<?php
$the_posts[] = '<a href="' . get_permalink( $post ) . '">' . get_the_title( $post ) . '</a>';
echo implode( ', ', $the_posts ); ?>
</span> 

    <?php endforeach;?> 
```

使用此代码，它开始复制输出中的第一个帖子，如下所示：

> 我的第一个标题 我的第一个标题 我的第二个标题 我的第一个标题 我的第二个标题 我的第三个标题 我的第一个标题

…</p>

如何获得用逗号分隔的标题？像这样：标题1，标题2，标题3

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:06:15.863

你应该使用：

`echo implode( ', ', $the_posts );`

`foreach`循环后。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T10:18:53.327

首先将所有标题存储在一个数组中并使用 implode

```
$titles = array();

// logic to save all titles into this array

$comma_seperated = implode(', ', $titles); 
```

如果可以解决您的问题，您可能可以在 implode 之前尝试 array_unique。

```
$titles = array_unique($titles); 
```

# asp.net - 使用 Asp.Net 重写浏览器页脚中的页面名称

> ID：15131327
> 
> 赞同：0
> 
> 时间：2013-02-28T09:00:53.047
> 
> 标签：asp.net

我在 Asp.Net 网络表单中使用了 URL 重写。所以我的浏览器地址栏将页面显示为**webform1**而不是**webform1.aspx**。

但是，我有一个 Asp.Net Button 控件，它可以回发到同一页面。当我将鼠标光标放在 Button 控件的顶部时，浏览器页脚仍将页面名称显示为**WebForm1.aspx**。

![在此处输入图像描述](../Images/f8f375447a13cc957c10e89d3a683fe2.png)

有没有办法可以将其显示为**webform1**而不是**WebForm1.aspx**？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:07:38.750

您需要在页面加载后使用 Request.RawUrl 将表单操作设置为重写的 URL

所以像这样的东西 -

```
protected void Page_Load(object sender, EventArgs e)  
{  
     form1.Action = Request.RawUrl;  
} 
```

这篇文章更好地解释了它[http://ruslany.net/2008/10/aspnet-postbacks-and-url-rewriting/](http://ruslany.net/2008/10/aspnet-postbacks-and-url-rewriting/)

# extjs - EXT-JS 4x，看不到输出

> ID：15131328
> 
> 赞同：2
> 
> 时间：2013-02-28T09:00:53.283
> 
> 标签：extjs

我对 EXT-Js 非常陌生，我正在尝试在我的 Eclipse IDE 中运行一些示例程序。当我尝试运行以下示例时，我无法在浏览器 (IE9) 中看到任何输出，并且当我检查浏览器控制台时，没有错误。但是当我将相同的代码放入`Ext.onReady`函数中时，我能够看到所需的输出。如果我在这里遗漏了一些东西，谁能给我解释一下...只是想确定这个渲染会做什么（另外，我试图在 html 页面中放置一个 div 并将 div id 赋予`renderto`属性，但是没运气）...

```
Ext.create('Ext.panel.Panel', {
    renderTo: Ext.getBody(),
    width: 400,
    height: 300,
    //layout: 'row',
    title: 'Container Panel',
    items: [
        {
            xtype: 'panel',
            title: 'Child Panel 1',
            height: 100,
            width: '75%',
            html: 'This is chile 1'
        },
        {
            xtype: 'panel',
            title: 'Child Panel 2',
            height: 100,
            width: '75%',
            html: 'This is chile 2'
        }
    ]
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:42:27.973

您并没有真正错过任何东西 -`Ext.onReady`正是进行这种设置的正确位置。它标志着 ExtJS 所需的脚本已加载的时间点。

# c++ - 在 C++ 中修改单个字符串元素

> ID：15131332
> 
> 赞同：1
> 
> 时间：2013-02-28T09:01:01.193
> 
> 标签：c++, arrays, char, int, constants

美好的一天，我对数组有疑问，因为我想更改单个元素。我有这个：

```
int stats[2] = {0,50}; 
```

我希望将此数组放在一个 void 函数中并从第二个元素中减去 10。这是我已经尝试过的：

```
void change(int stats[2]){
stats[1] = atoi(stats[1]) - 10; 
```

我收到的错误是：

```
Invalid conversion from int to const char* 
```

我是 C++ 的初学者，因此非常感谢任何有用的建议。干杯。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-28T09:02:35.980

只需使用`stats[1] = stats[1] - 10`. 这里没有涉及字符串，那么你为什么要使用`atoi`？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:03:45.107

你不需要这个`atoi`功能。`stats[1]`已经是一个`int`. `atoi`用于从“字符串”或字符表示“转换”为 intented 的值`int`。它需要一个 c 字符串或一个以 null 结尾的数组`char`：`const char *`编译器没有找到。使用简单：

```
stats[1] -=10; 
```

# java - 如何使 JFrame（带计时器）从另一个类中打开另一个 JFrame

> ID：15131333
> 
> 赞同：1
> 
> 时间：2013-02-28T09:01:04.543
> 
> 标签：java, swing, jframe, splash-screen, multiple-instances

新来的-我的第一个问题。无论如何，我在这里是因为我想制作一个 JFrame，它的计时时间为 10000 毫秒，我想，然后当它关闭时，它应该打开另一个（在另一个类中）。我已经做了计时器部分，而不是“关闭定时 JFrame，然后打开另一个”部分。

我记得这样做，并找到了答案。它类似于`NewClass.show()`（'NewClass' 是应该打开的类名）然后你输入`OldClass.dispose()`（'OldClass' 是应该关闭的类名）。

到目前为止，这是我的代码：

```
import java.awt.Cursor;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.Graphics;
import java.awt.Image;
import java.awt.Point;
import java.awt.Toolkit;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.image.ImageObserver;
import java.io.File;
import java.io.IOException;

import javax.imageio.ImageIO;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.Timer;

public class SplashScreen extends JPanel {

public SplashScreen() {
 setOpaque(false);
 setLayout(new FlowLayout());
}

public static void main(String[] args) {

    final JFrame frame = new JFrame("Loading game...");
    frame.setSize(800, 600);
    frame.setResizable(false);
    frame.setVisible(true);
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    SplashScreen background = new SplashScreen();
    frame.add(background);

    Timer timer = new Timer(10000, new ActionListener() {
        public void actionPerformed(ActionEvent e) {
            frame.setVisible(false);
            frame.dispose();
           //I want to place my code here so then this class will close, and then the other class will open
        }
    });
    timer.setRepeats(false);
    timer.start();

    Toolkit toolkit = Toolkit.getDefaultToolkit();
    Image image = toolkit.getImage("Waiting.png");
    Point hotSpot = new Point(0,0);
    Cursor cursor = toolkit.createCustomCursor(image, hotSpot, "Cursor");
    frame.setCursor(cursor);

    Dimension dim = Toolkit.getDefaultToolkit().getScreenSize();
    int w = frame.getSize().width;
    int h = frame.getSize().height;
    int x = (dim.width - w) / 2;
    int y = (dim.height - h) / 2;

    frame.setLocation(x, y);

    JButton button = new JButton();

    JPanel panel = new JPanel();

}

public void paint(Graphics g) {
    Image a=Toolkit.getDefaultToolkit().getImage("Splash Screen.gif");
    g.drawImage(a,0,0,getSize().width,getSize().height,this);
    super.paint(g);

    }
} 
```

我没有做第二堂课（这将被称为'LoadingScreen.class'，但我会的，它只会有'JSomethings'或其他任何东西（如JFrame，JPanel等......）

我可以做第二堂课，但我想要的只是在计时器在 10 秒或 10000 毫秒结束后关闭第一堂课，然后自动打开第二堂课。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:21:40.323

尝试将呼叫添加到您的第二堂课，如下所示

```
Timer timer = new Timer(10000, new ActionListener() {
    public void actionPerformed(ActionEvent e) {
        frame.setVisible(false);
        frame.dispose();
       //I want to place my code here so then this class will close, and then the other class will open

       //SplashScreen screen = new SplashScreen();
       //screen.showGUI();
    }
}); 
```

另一个好的做法是`frame.setVisible(true)`在最后调用，这样您就不会在屏幕上发现帧位置有任何漂移。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T11:19:16.857

假设你的第二节课是这样的，

```
public class LoadingScreen extends JFrame   
{    
    public LoadingScreen(String title)  
    {   
        super(title);  
    }

    public void showGUI()   
    {
        //  Do whatever you want
        setSize(500,500);
        setVisible(true);
    }
} 
```

你只需要打电话，

```
LoadingScreen loadScreen = new LoadingScreen("Loading screen....");
loadscreen.showGUI(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-14T20:52:59.283

当您调用 frame.setVisoble(true) 时，您不会收到错误 non static method cannot be referenced from static context？

# c - 在 C 中使用 fread() 分配内存和读取数组的大多数可移植方式

> ID：15131338
> 
> 赞同：2
> 
> 时间：2013-02-28T09:01:29.767
> 
> 标签：c, malloc, fread, calloc

只是想知道`fread()`从 C 中的文件分配内存和数组数据的最合理方法是什么。

首先，一个解释：

```
int32_t longBuffer; 
```

现在，当在 longBuffer 中进行 freading 时，代码可以如下所示：

```
fread(&longBuffer, sizeof(longBuffer), 1, fd); //version 1
fread(&longBuffer, sizeof(int32_t), 1, fd); //version 2 
```

在这两者中，我会说版本 1 更安全，因为如果类型发生`longBuffer`变化（比如说 to `int16_t`），人们不必担心忘记用新类型更新`fread()`'s 。`sizeof()`

现在，对于一个数据数组，代码可以写成：

```
//listing 1
int8_t *charpBuffer=NULL; //line 1
charpBuffer = calloc(len, sizeof(int8_t)); //line 2
fread(charpBuffer, sizeof(int8_t), len, fd); //line 3 
```

然而，这展示了第一个示例中暴露的问题：人们必须担心`sizeof(<type>)`在更改类型时不会忘记同步指令`charpBuffer`（比方说，从`int8_t*`to `int16_t*`）。

所以，有人可能会尝试写：

```
fread(charpBuffer, sizeof(charpBuffer[0]), len, fd); //line 3a 
```

作为一个更安全的版本。这应该有效，因为在第 2 行分配之后，写入`charpBuffer[0]`是完全有效的。

此外，还可以写：

```
fread(charpBuffer, sizeof(*charpBuffer), len, fd); //line 3b 
```

但是，尝试对内存分配做同样的事情，例如：

```
charpBuffer = calloc(len, sizeof(charpBuffer[0])); //line 2a 
```

虽然语法更好，但表现出未定义的行为，因为在这个阶段，将`charpBuffer[0]`结果写入取消引用 NULL 指针。另外，写作：

```
charpBuffer = calloc(len, sizeof(*charpBuffer)); //line 2b 
```

表现出同样的问题。

所以，现在的问题：

1.  代码行“line 2b”和“line 3b”是否正确（忽略此问题的未定义行为）或者我错过了一些技巧，例如“line 2a/3a”和“line 2” /3”？

2.  编写“清单 1”代码但避免任何形式的未定义行为的最安全的方式是什么？

编辑（为了澄清某些方面）：

讨论的方向错了。编译时间与运行时间的问题是一回事（我也想对此有一个标准的保证，但这不是主题）。sizeof(NULL dereferencing) 的未定义行为问题是另一个问题。即使在编译时，我也不相信标准保证不会导致 UB。该标准是否提供任何保证？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:05:19.257

您似乎对`sizeof`运算符有错误的想法。此运算符在编译时进行评估，因此您传递给它的表达式在程序运行时没有机会被评估。

在`sizeof`操作符的上下文中，无论它们是在相应的内存可用之前还是之后使用，它们都是安全的`*charBuffer`。`charBuffer[0]`这只是一种避免键入类型名称的方法，因此减少了重复。

**编辑**

如下所述，`sizeof`在编译时评估的规则有一个明显的例外（尽管它与问题中发布的代码无关）。由于 C 和 C++ 允许可变长度数组作为自动变量，因此应用`sizeof`这些数组实际上可能会涉及一些运行时开销。

关于您对未定义行为的恐惧，我认为没有理由这样做，因为：

```
int vla[n]; // declare a variable-length array of length n

/* The compiler will produce code using the value of n prior to
   declaring the array to compute its size. */
x = sizeof(vla);

/* The space for the array is already available, so the expression 
   *vla is not UB anywhere (except if n is 0). Furthermore, n is 
   not involved in the computation and the operator can be evaluated at 
   compile-time. */
y = sizeof(*vla);

z = sizeof(vla[0]); // same thing 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T10:21:13.243

从 C99 6.5.4.3.2（强调我的）：

> 运算符产生其`sizeof`操作数的大小（以字节为单位），它可以是表达式或带括号的类型名称。大小由操作数的类型决定。结果是一个整数。 **如果操作数的类型是变长数组类型，则计算操作数；否则，不计算操作数，结果是一个整数常量。**

操作数“未评估”意味着访问`sizeof(charBuffer[0])`or是完全安全的`sizeof(*charBuffer)`，因为这些表达式仅用于它们的类型。同一页上的示例 3 继续明确记录`sizeof array / sizeof array[0]`用于计算数组中元素数量的习惯用法，但没有提及或暗示它对空数组无效。

# css - ul li a 不按文本大小调整 li

> ID：15131340
> 
> 赞同：1
> 
> 时间：2013-02-28T09:01:33.610
> 
> 标签：css

有这个菜单：

```
<li id="menu-item-32"><a href="#"><span>Dekanát</span></a>
      <ul>
           <li class="line"><a href="http://****.**/dekanat/farnosti/">Farnosti</a></li>
           <li ><a href="http://****.**/dekanat/duchovne-spravy/">Duchovné správy</a></li>
      </ul>
</li> 
```

但是，如果第二个 li 有最长的文本，是不是这样：

![](../Images/30ba7c179af4756b5737aafb4b17a1ab.png)

（问题在 3-4 2 里！）

它没有设置大小....

CSS：

```
div#top-menu{
height: 36px;
margin-top: 10px;
margin-bottom: 3px;
background-color: #111;
background-image: url("http://****.**/project/wp-lop/wp-content/themes/LOP/img/nav-

bg.png");
}

div#top-menu ul li{
    float: left;
    list-style: none;
    display: block;
    position: relative;
    padding: 0 20px 0 20px;
    border-right: 1px solid #e3d8c4;
    margin-top: 0px;
    height: 36px;
}
div#top-menu ul li:hover{
    background-color: rgba(0,0,0,0.45);
}

div#top-menu ul li:last-child{
    border-right: none;
}

div#top-menu ul li a{
    text-transform: uppercase;
    color: #e3d8c4;
    text-decoration: none;
    display: block;
    font-weight: normal;
    margin-top: 7px;
}
div#top-menu ul li.active a{               
    color: #d99d4d;
}
div#top-menu ul li a:hover{
    color: #d99d4d;
}                                     
div#top-menu ul li a span{
    display: block;
}
div#top-menu ul li ul  { 
    font-size:15px;
    display: none;
    position: absolute;
    top: 36px; 
    left: 0px;
    width: 200px; 
    line-height: 29px;
    text-indent: 0px;
    padding:0px 0px 0px 0px;
    margin:0px; 
    background: #1F1B17;
    /*background-image: -moz-linear-gradient(#515151, #333);
    background-image: -webkit-linear-gradient(#515151, #333);
    background-image: -o-linear-gradient(#515151, #333);
    background-image: -ms-linear-gradient(#515151, #333);
    background-image: linear-gradient(#515151, #333);*/
    /*-webkit-border-radius: 2px;
    border-radius: 2px;*/
    z-index: 80;
}                              
div#top-menu ul li ul li:hover {
    color: #e0a95f;
}
div#top-menu ul li ul li{
    float: none;           
    display: block;
    border-bottom: 1px solid #e3d8c4;;
    border-right: none;
    position: relative;
    height: 29px;
    margin-top: -7px;
    text-transform: none;
} 
```

如何解决？：/谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:07:15.953

```
div#top-menu ul li{
    float: left;
    list-style: none;
    display: block;
    position: relative;
    padding: 5px 20px; /* you can use padding instead of giving height */
    border-right: 1px solid #e3d8c4;
    margin-top: 0px;
    height: 36px; /* you do not need that */
}
div#top-menu ul li ul  { 
    font-size:15px;
    display: none;
    position: absolute;
    top: 36px; 
    left: 0px;
    width: 200px; 
    /*line-height: 29px; also remove*/
    text-indent: 0px;
    padding: 0;
    margin:0px; 
    background: #1F1B17;
    z-index: 80;
} 

div#top-menu ul li ul li{
    float: none;           
    display: block;
    border-bottom: 1px solid #e3d8c4;;
    border-right: none;
    position: relative;
    /*height: 29px; / also remove it from here. */
    margin-top: -7px;
    text-transform: none;
} 
```

我认为这是因为`height`

# google-apps-script - 从 url 访问已发布的 GAS Web 应用程序会返回一个空白页面

> ID：15131344
> 
> 赞同：2
> 
> 时间：2013-02-28T09:01:44.830
> 
> 标签：google-apps-script

考虑创建一个独立的应用程序脚本，我从 Drive 创建了一个 google 应用程序脚本，并将代码放在两个文件 Code.gs 和 ui.html 中，如下所示：

> **代码.gs**

```
function doGet(e) {return HtmlService.createHtmlOutputFromFile('ui');} 
```

> **ui.html**

```
<html><h1>Hello World!</h1></html> 
```

在此之后，我浏览了文件 > 管理版本并完成了那里的步骤。接下来，我发布了脚本并获得了 Web 应用程序 url。问题是当我在浏览器中使用这个 url 时，我只得到一个空白页。但是，当我使用链接测试最新代码时没有问题。这里有什么问题？我错过了什么还是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T11:20:10.827

请仔细检查您的步骤，最终检查发布的版本是否真的是您在此处显示的内容，它**应该可以**工作！

我刚刚在[这里](https://script.google.com/macros/s/AKfycbwcV7kSvV3KTmB1urtHj3BUbokg_PQztNrbfua37LRkcEFyER8/exec)使用您的设置对其进行了测试...

# jquery - jQuery 数字格式 - 如何阻止接受字母？

> ID：15131352
> 
> 赞同：2
> 
> 时间：2013-02-28T09:02:00.557
> 
> 标签：jquery

我使用了这种 [数字格式 jQuery](http://www.teamdf.com/web/jquery-number-format-redux/196/)

用于在键入时用逗号显示数字。但是当我也在框中输入字母时，它也被作为输入。我需要它只接受数字而不接受字母，该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:23:09.687

我想这可能被认为是肮脏的，但不必自己更新插件，只需先过滤键：

$('#bla').on('keypress', function(evt) { var code = evt.which || evt.keyCode;

```
if (code < 57 || code > 127) {
  return;
}

evt.preventDefault(); 
```

}).number(true, 2);

[**演示**](http://jsbin.com/ufupul/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:04:08.007

函数 isNumeric(n) { return !isNaN(parseFloat(n)) && isFinite(n); }

使用此功能检查每个输入

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:09:20.307

参考这篇文章以将文本框限制为仅数字

[数值验证](https://stackoverflow.com/questions/995183/how-to-allow-only-numeric-0-9-in-html-inputbox-using-jquery)

否则，您可以在 keyup 事件上编写自己的正则表达式并验证输入。

快乐编码

# php - 复选框未正确执行

> ID：15131359
> 
> 赞同：0
> 
> 时间：2013-02-28T09:02:12.580
> 
> 标签：php, codeigniter, checkbox

我有一个小的多项选择页面，用户可以在其中回答问题，并且所有答案都存储在数据库中，但是由于某种原因，无论我点击什么答案，代码都可以正确执行，它只会显示 3 个可用选项中的第一个选项。假设我有 3 个答案 apple, pear, window 如果我点击第一个苹果，它会将苹果存储在数据库中，但如果我点击 window 或 pear，它将存储苹果而不是 window 或 pear 任何人都可以在这里帮助我是我的控制器功能：

```
function addanswer() {

    $arrData = array();
    $userid = null;
    if ($this->session->userdata("userid")) {
        $userid = $this->session->userdata("userid");
    }
   if ($this->input->post()) {
        //$arrData["answerid"] = $this->input->post("QID");
        $arrData["questionid"] = $this->input->post("qA");
        if ($this->input->post("qA")) {
            $arrData["answerA"] = $this->input->post("qA");
        }
        if($this->input->post("qB")) {
            $arrData["answerB"] = $this->input->post("qB");
        }
        if($this->input->post("qC")) {
            $arrData["answerC"] = $this->input->post("qB");
        }
        $arrData["userid"] = $userid;
    }
    $viewData['survay_data_id'] = $this->survay->addsurvay($arrData); 
    $this->load->view('survay_view', $viewData);
} 
```

**模型**

```
 <?php

class Survay extends CI_Model {

    function dosurvay($question_id = null) {

        $this->db->select('QID, Question, qA, qB, qC');
        $this->db->from('tblquestions');
        if ($question_id) {
            $this->db->where('QID', $question_id);
        }
        $this->db->limit(1);
        $query = $this->db->get();

        if ($query->num_rows() == 1) {
            return $query->result();
        } else {
            return false;
        }
    }

function addsurvay($arrData) {

    $this->db->insert('tblanswers', $arrData);

    if ($this->db->affected_rows() > 0) {
        return $this->db->insert_id();
    } else {
        return false;
    }
}

}
?> 
```

**看法**

```
 <?php if(isset($survay_data)) : ?>
<form action="http://localhost/Surva/index.php/survaycontroller/addanswer/" name="myform" id="myform" method="post">
   <?php foreach ($survay_data as $survay): ?> 
        <ul>
            <li><h1><?php echo $survay->Question; ?></h1></li> 
            <li><?php echo $survay->qA; ?><input type="checkbox" name="qA" value="<?php echo $survay->qA; ?>"></li>
            <li><?php echo $survay->qB; ?><input type="checkbox" name="qB" value="<?php echo $survay->qB; ?>"></li>
            <li><?php echo $survay->qC; ?><input type="checkbox" name="qC" value="<?php echo $survay->qC; ?>"></li>
            Comments:
            <li><?php echo form_textarea('comment')?></li>
            <li><input type="hidden" name="QID" value="<?php echo $survay->QID; ?>"></li>
            <li><input type="submit" name="btn" value="Answer"></li>
        </ul>
    <?php endforeach; ?>
</form>
<?php endif; ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:11:14.560

在您的 HTML 中，您已分配`$survay->qA`给所有三个复选框值。

```
<input type="checkbox" name="qB" value="<?php echo $survay->qA; ?>"> 
```

核实。这可能会导致问题。

# javascript - JavaScript：如何在页面上旋转/幻灯片显示文本 DIV？

> ID：15131361
> 
> 赞同：1
> 
> 时间：2013-02-28T03:39:39.007
> 
> 标签：javascript

我正在尝试修改下面的脚本以幻灯片/旋转少数文本 DIV。

我需要这些 DIV 按顺序出现：div 1，然后是 div 2，然后是 div 3。每个会出现 5 秒，然后显示下一个 div……但按顺序。

下面的脚本适用于随机 div，但我需要它们按顺序排列：div 1、div 2、div 3... 每次。

代码：

```
<div id="d1" style="display:none;">some text 1</div>
<div id="d2" style="display:none;">some text 2</div>
<div id="d3" style="display:none;">some text 3</div>

<script type="text/javascript">
divs = ['d1','d2','d3'];

function hideDivs() {
    for (var i=0; i<divs.length; i++)
    document.getElementById(divs[i]).style.display = 'none';
}

function showDiv() {
    hideDivs(); //hide them all before we show the next one.
    var randomDiv = divs[Math.floor(Math.random()*divs.length)];
    var div = document.getElementById(randomDiv).style.display = 'block';
    setTimeout(showDiv,500); //set a delay before showing the next div
}

showDiv();
</script> 
```

我正在尝试一个接一个地轮换出 3 个基于文本的 DIV 标签。

*   Div 1 应该出现 5 秒...
*   然后 Div 2 应该出现 5 秒...
*   然后 Div 3 应该出现 5 秒...

我发布的脚本随机轮换出这些 DIV 标签。该脚本有效，但我需要对其进行调整，以便它满足我的需要。

我需要脚本以该顺序显示 div 1、div 2、div 3，而不是随机显示。

我不知道该怎么做。

# android - android模拟器中的Shell命令无响应异常？

> ID：15131362
> 
> 赞同：1
> 
> 时间：2013-02-28T09:02:28.383
> 
> 标签：android, exception, emulation, monkeyrunner

我有一个使用monkeyrunner 制作的脚本。该脚本将安装一个应用程序，对模拟器进行一些按键操作，然后卸载。在某些事情的中间，我得到了**Shell 命令无响应异常**，这将破坏我的脚本。

你知道我做错了什么导致这种异常。这是错误消息

> 130228 16:44:49.210:I [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice] 错误启动命令：monkey --port 12345
> 
> 130228 16:44:49.210:I [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice]com.android.ddmlib.ShellCommandUnresponsiveException
> 
> 130228 16:44:49.210:I [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice] 在 com.android.ddmlib.AdbHelper.executeRemoteCommand(AdbHelper.java:408)
> 
> 130228 16:44:49.210:I [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice] 在 com.android.ddmlib.Device.executeShellCommand(Device.java:453)
> 
> 130228 16:44:49.210:I [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice] 在 com.android.chimpchat.adb.AdbChimpDevice$1.run(AdbChimpDevice.java:105)
> 
> 130228 16:44:49.210:I [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice] 在 java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
> 
> 130228 16:44:49.210:I [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice] 在 java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
> 
> 130228 16:44:49.210:I [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice] 在 java.util.concurrent.FutureTask.run(FutureTask.java:166)
> 
> 130228 16:44:49.210:I [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice] 在 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
> 
> 130228 16:44:49.210:I [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice] 在 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
> 
> 130228 16:44:49.210:I [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice] 在 java.lang.Thread.run(Thread.java:679) 130228 16:46:25.631:我 [main] [com.android.chimpchat.ChimpManager] Monkey 命令：退出。

这是代码

```
def getTimeNow():
    timeStamp = ""
    timeStamp = datetime.now().strftime('%Y-%m-%d %H:%M:%S')
    return timeStamp

def saveScreenshot(screenshot, apkID, Code, path):
    fName = "".join([path, '/', Code, apkID, '.png'])
    screenshot.writeToFile(fName,'png')

def found(screenshot, ScreenshotRef, apkPack):
    Result = "N"
    acceptance = 0.9
    imageCap = ScreenshotRef + 'sshot'

    imageRef = MonkeyRunner.loadImageFromFile(imageCap)

    imageTuple = 78, 447, 547, 64
    #imageTuple = 16, 177, 64, 60
    ref = imageRef.getSubImage(imageTuple)
    y=0

    while y < 1280 - 64:
            imageTuple2 = 78, int(y), 547, 64

            if screenshot.getSubImage(imageTuple2).sameAs(ref, acceptance):
                    detResult = "B"
            uninAppMk(apkPack)
            MonkeyRunner.sleep(15)
            device.press("KEYCODE_ESCAPE", MonkeyDevice.DOWN_AND_UP)
            MonkeyRunner.sleep(15)
            device.press("KEYCODE_HOME", MonkeyDevice.DOWN_AND_UP)
            MonkeyRunner.sleep(15)
            print "Found at points 78," + str(y)
                    break
            y=y+1   
        return Result

def uninAppMk(apkPack):
    device.removePackage(apkPack)
    print "Package Uninstalled."

def writeToLogFile(logFile, Code, apkID, apkName, status, timeStamp):
    logText = "\t".join([Code, apkID, apkName, status, timeStamp, '\n'])

    db = zxJDBC.connect("jdbc:mysql://" + server + ":" + str(portnum) + "/" + schema, username , password, "com.mysql.jdbc.Driver")

    c = db.cursor() 
    mysql_output = c.execute("INSERT INTO table VALUES(?, ?, ?, ?, ?)",(Code, status, timeStamp, apkID , "0"))
    db.commit()
    print "mysql error output => " + str(mysql_output)

    f = open(logFile, "a")
    f.write(logText)
    f.close()

#+++++ ######## START HERE ######## ++++++#
#+++++ Connect to emulator ++++++#
timeout = 120

device = MonkeyRunner.waitForConnection()
MonkeyRunner.sleep(10)

#+++++ Getting CMD parameters ++++++#
apkID = sys.argv[1]
apkName = sys.argv[2]
apkPack = sys.argv[3]

#+++++ Read config file ++++++#
ConfigFileName = os.path.dirname(os.path.realpath(__file__)) + '/config.ini'
cp = ConfigParser.ConfigParser()
cp.read(ConfigFileName)
adbLoc = cp.get('tools','adb')
Code = cp.get('product','prodcode')
outputFolder = cp.get('output','App')
apkPath = cp.get('source','App')
ScreenshotRef = cp.get('source','ScreenshotRef')
logFile = outputFolder + 'logs.txt'

#----------read database section----------#
server = cp.get('database','server')
portnum = int(cp.get('database','port'))
username = cp.get('database','username')
password = cp.get('database','password')
schema= cp.get('database','schema')

#+++++ Check if output folder exist ++++++#
print "All screenshots will be found here " + outputFolder
if not os.path.exists(outputFolder):
    os.makedirs(outputFolder)

#++++++ Test Starts ++++++#

print "APK ID: " + apkID
print "APK Name: " + apkName
print "APK Package Name: " + apkPack
print "APK Path: " + apkPath

apkIns = apkPath  + apkName
print "APK:: " + apkIns 
try:
    device.installPackage(apkIns)
except(SocketException):
    print "~~~~Error installing"
MonkeyRunner.sleep(95)

#++++++ Take screenshot ++++++#
screenshot = device.takeSnapshot()
MonkeyRunner.sleep(10)
timeStamp = getTimeNow()
saveScreenshot(screenshot, apkID, Code, outputFolder)
MonkeyRunner.sleep(3)

#++++++ Check detection ++++++#
status = found(screenshot, ScreenshotRef, apkPack)
if status == 'N':
    uninAppMk(apkPack)

#++++++ Write to log file ++++++#

writeToLogFile(logFile, Code, apkID, apkName, status, timeStamp) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-05-27T08:53:23.403

答案有点晚了，但 MonkeyRunner 可能运行在 Google 的 ddmlib 之上。在 ddmlib 中，在设备上调用的所有 shell 命令的默认超时时间为 5000 毫秒。如果该进程在那 5000 毫秒内没有打印任何内容，则该进程将被关闭并抛出一个 ShellCommandUnresponsiveException。如果您的进程运行时间超过 5000 毫秒，您可能需要优化代码以避免在调用 shell 命令的时间内进行长时间的处理。或者，您可以检查 MonkeyRunner API 以查看是否有任何延长超时的方法。或者您可以简单地以某种方式连续输出到 shell 以防止超时到期。

# mysql - 使用 AES_ENCRYPT 设置列默认值

> ID：15131364
> 
> 赞同：0
> 
> 时间：2013-02-28T09:02:35.200
> 
> 标签：mysql

我一直在寻找答案，但没有找到。

```
'ALTER TABLE table1 ALTER COLUMN name1 SET DEFAULT AES_ENCRYPT("test1","test2")'; 
```

给我一个错误：

> ERROR 1064 (42000)：您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 'AES_ENCRYPT("test1","test2")' 附近使用正确的语法

可以使用`AES_ENCRYPT`这种方式吗？

所以现在的问题是：我在表 A 中有一个字段，其值为 AES_ENCRYPT("test1","test2")

如何在表 B 中获取此内容作为列的默认值，以便使用 AES_DECRYPT(column,"test2") 从表 B 读取时返回“test1”？

我一直在尝试所有可能的方式，但我从未成功过。有人有什么想法吗？

# php - 奇怪的 Twitter 引导行为

> ID：15131366
> 
> 赞同：1
> 
> 时间：2013-02-28T09:02:37.697
> 
> 标签：php, html, css, twitter-bootstrap

我一直在使用 Twitter Bootstrap 构建一个 PHP 网站，但我遇到了一些我无法修复的奇怪行为。我使用循环来创建图像框（下面有一个屏幕截图），但由于某种原因，循环会产生非常奇怪的对齐问题（我试图将它们放在垂直列中）。所有代码如下。如果有人可以帮助或指出我正确的方向，那就太棒了。

```
 foreach ($media->data as $data) {
        $x = $instagram->likeMedia($data->id);
        $usr = $data->caption->from->username;
        echo "<div class=\"span2\">";
        echo "<span style=\"text-align: center;\">";
        echo "<a href=\"{$data->link}\" target=\"_blank\">";
        echo "<div class=\"well\">";
        echo "<img src=\"{$data->images->thumbnail->url}\" alt=\"Loading...\">";
        echo "</a><br /><br /><a rel=\"tooltip\" title=\"Visit {$usr}'s Profile\" class=\"btn btn-primary btn-small\" href=\"http://instagram.com/{$usr}\">View Profile</a><br /></span>";
        echo "</div></div>";
        } 
```

浏览器窗口中的 HTML 代码：http: [//snippi.com/s/dagwl09](http://snippi.com/s/dagwl09)

浏览器中奇怪行为的截图：

![](../Images/fff845baf637b29ff6fe3c9c528b2723.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:15:57.133

Jsfiddle：[带图像的演示](http://jsfiddle.net/shail/TnJ8R/1/show/)

问题是您创建了单行并在其中实现了所有跨度列。网格只能有 12 个列，而您已插入 18 个，因此它们不会以这种方式对齐。其他用户也正确地提到关闭标签以错误的方式关闭。

您的行列应如下所示：

```
 <div class="span2">
<span style="text-align: center;"><a href="http://instagr.am/p/WQok38nelp/" target="_blank">
    <div class="well">
        <img src="http://distilleryimage1.s3.amazonaws.com/8b0f6290815811e2b55e22000a9f09fb_5.jpg" alt="Loading..."></a><br /><br /><a rel="tooltip" title="Visit youtayloratsix's Profile" class="btn btn-primary btn-small" href="http://instagram.com/youtayloratsix">View Profile</a><br/>
    </div>
 </span>
 </div> 
```

您可以按以下方式排列图像

```
<div class="row-fluid">
   <div class="span2"></div>
   <div class="span2"></div>
   <div class="span2"></div>
   <div class="span2"></div>
   <div class="span2"></div>
   <div class="span2"></div>
 </div>
 <div class="row-fluid">
   <div class="span2"></div>
   <div class="span2"></div>
   <div class="span2"></div>
   <div class="span2"></div>
   <div class="span2"></div>
   <div class="span2"></div> 
```

将图像放在 span2 中，一切都应该按预期工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:06:08.623

看起来您的 div 和 span 以错误的顺序打开/关闭，这可能是一个问题。它至少无效的html。

您正在按顺序打开它们`<div>,<span>,<div>`，但正在关闭它们`</span>,</div>,</div>`。

# iphone - 变量在objective-c的其他函数中变为空

> ID：15131368
> 
> 赞同：1
> 
> 时间：2013-02-28T09:02:41.070
> 
> 标签：iphone, ios, objective-c, nsstring

我的 ViewController 中有两个变量。在我的`.h`我这样定义它们。

```
@property (nonatomic, strong) NSString *myLongitude;
@property (nonatomic, strong) NSString *myLatitude; 
```

在我的`.m`我已经合成了它们。像这样。

```
@synthesize myLatitude = _myLatitude;
@synthesize myLongitude = _myLongitude; 
```

然后在函数中`updateLocation`我将这些变量设置如下。

```
 _myLongitude = [[NSString alloc]initWithFormat:@"%f",location.longitude];
   _myLatitude = [[NSString alloc]initWithFormat:@"%f",location.latitude]; 
```

当我在设置这些变量之后记录这些变量时，我得到了正确的值。但是当我在更新函数之后执行的另一个函数中记录值时，这些变量会变为`NULL`. 这是我的日志。

```
 NSLog(@"longitude val is = %@", _myLongitude);
        NSLog(@"latitude val is = %@", _myLatitude); 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:07:06.220

> 然后在函数 updateLocation 中，我将这些变量设置如下。

很明显，这些是类的属性，`updateLocation`不是`alloc`吃和`init`ialise 它们的正确位置。

你应该用 , `viewDidLoad`, `init`, 或类似的方法来做。

如果要重新设置该值，请将其设置为`nil`然后放置新值，而不是这样做。

# java - 休眠一对一映射问题

> ID：15131373
> 
> 赞同：0
> 
> 时间：2013-02-28T09:03:05.033
> 
> 标签：java, hibernate

我正在尝试创建依赖于几个 java 项目的 java web 应用程序。我需要在另一个项目中引用 DTO 类来获取休眠映射文件。但是在使用 tomcat 运行应用程序时，我得到了`persistent class not known:`异常。

我在项目中的 DTO 和 hbm 文件结构如下所示，

1.  common-api/java/src/com/test1/dto/Manager.java（包 - com.test1.dto）

    common-api/java/config/hibernate/manager.hbm.xml

2.  new-api/java/src/com/test2/dto/Depeartment.java（包 - com.test2.dto）

    new-api/java/config/hibernate/department.hbm.xml

部门 DTO 类有一个 Manager 对象作为属性。

```
public Class Department {
    private Manager manager;
} 
```

部门休眠映射文件包含，

```
<hibernate-mapping>

<class name="com.test2.dto.Department" table="department">

    <id name="id" column="id" type="integer">
        <generator class="increment" />
    </id>

    ...

    <one-to-one name="manager" class="com.test1.dto.Manager" cascade="save-update" >
    </one-to-one>

</class> 
```

似乎类属性值没有被hibernate解析。非常感谢你们能建议我为此做些什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:07:04.433

只需在顶层包含所有映射文件`hibernate.cfg.xml`，例如：

```
<hibernate-configuration>
  <session-factory ... >
    <mapping resource="org/hibernate/auction/Item.hbm.xml"/>
    <mapping resource="org/hibernate/auction/Bid.hbm.xml"/>
  </session-factory>
</hibernate-configuration> 
```

请参阅[http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/session-configuration.html#configuration-xmlconfig](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/session-configuration.html#configuration-xmlconfig)

# r - 数据框名称 R

> ID：15131382
> 
> 赞同：1
> 
> 时间：2013-02-28T09:03:26.947
> 
> 标签：r, excel, date, dataframe

`read.cv2()`我通过该函数在 R 中导入了一个 .csv 文件（来自 Excel 2010） 。

我得到一个`dataframe`. 我的专栏名称应该是日期，但我得到类似`X08.03.2013`.

我有几个问题：

1.  如何将这些名称设置为日期格式（行名同上）？
2.  对于列，一旦我得到日期格式，我如何在这些日期上使用条件（如果）？

我希望我已经足够清楚了。感谢您的帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T09:23:22.443

这里有一个小例子供你尝试：

### 编造一些数据并尝试读入

```
# This just creates a CSV in your current working directory to play with
cat("08-03-2013;08-04-2013;08-05-2013\n0,5;0,5;0,5\n0,6;0,6;0,6\n", 
    file = "FunkyNames.csv")
read.csv2("FunkyNames.csv")
#   X08.03.2013 X08.04.2013 X08.05.2013
# 1         0.5         0.5         0.5
# 2         0.6         0.6         0.6
read.csv2("FunkyNames.csv", check.names = FALSE)
#   08-03-2013 08-04-2013 08-05-2013
# 1        0.5        0.5        0.5
# 2        0.6        0.6        0.6 
```

如您所见，使用`read.csv2()`with`check.names = FALSE`可以获取输入文件中的名称。现在，让我们使用它并尝试提取一些数据。

```
temp <- read.csv2("FunkyNames.csv", check.names = FALSE)
## Our first attempt doesn't work
temp$08-03-2013
# Error: unexpected numeric constant in "temp$08"

## Using quotes works
temp$"08-03-2013"
# [1] 0.5 0.6

## The following would work too
## temp$`08-03-2013`
## temp$'08-03-2013' 
```

### 提取某些列的更有效方法

提取某些列的更有效方法是创建 的 的单独向量，`names`使用`data.frame`将它们转换为日期`as.Date`，然后使用该向量从原始`data.frame`. 一些例子：

```
tempCols <- as.Date(names(temp), format = "%m-%d-%Y")
tempCols
temp[tempCols > "2013-08-04"]
#   08-05-2013
# 1        0.5
# 2        0.6
temp[tempCols >= "2013-08-04"]
#   08-04-2013 08-05-2013
# 1        0.5        0.5
# 2        0.6        0.6 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T09:21:41.190

回答你的两个问题。

1.  您使用`check.names=FALSE`参数加载 csv
2.  列名不能是`dates`. 他们需要`characters`。

但是，您可以对列名进行基于字符的搜索，并仅选择满足特定要求的那些列

```
df <- as.data.frame(cbind(sample(10), sample(10)))
names(df) <- c("08.03.2013", "09.03.2013")
df
##    08.03.2013 09.03.2013
## 1           8         10
## 2           3          8
## 3           4          3
## 4           1          9
## 5           5          5
## 6           6          4
## 7          10          6
## 8           9          7
## 9           2          1
## 10          7          2

# Either do character based search using regex
df[, grep("08.03.2013", names(df)), drop = FALSE]
##    08.03.2013
## 1           8
## 2           3
## 3           4
## 4           1
## 5           5
## 6           6
## 7          10
## 8           9
## 9           2
## 10          7

df[, grep("09.03.2013", names(df)), drop = FALSE]
##    09.03.2013
## 1          10
## 2           8
## 3           3
## 4           9
## 5           5
## 6           4
## 7           6
## 8           7
## 9           1
## 10          2

# Or even convert names to Dates and then compare.
df[, as.Date(names(df), format = "%d.%m.%Y") == as.Date("2013-03-08"), drop = FALSE]
##    08.03.2013
## 1           8
## 2           3
## 3           4
## 4           1
## 5           5
## 6           6
## 7          10
## 8           9
## 9           2
## 10          7

df[, as.Date(names(df), format = "%d.%m.%Y") > as.Date("2013-03-08"), drop = FALSE]
##    09.03.2013
## 1          10
## 2           8
## 3           3
## 4           9
## 5           5
## 6           4
## 7           6
## 8           7
## 9           1
## 10          2 
```

# php - 数组仅选择要存储的最后一个值

> ID：15131386
> 
> 赞同：0
> 
> 时间：2013-02-28T09:03:37.447
> 
> 标签：php, arrays, json, loops

[下面的脚本显然使用了http://www.hasoffers.com/wiki/Offer:create](http://www.hasoffers.com/wiki/Offer:create)中记录的 API 。问题有（至少）两部分：a）如何在一个数组中存储多个数据集。b) API 是否接受它....

* * *

当我运行脚本时，它只将最后一个值存储在“数据”中，我怎样才能让它一次存储更多数据？

下面的代码具有例如 2 个值。一种叫LOLO，另一种叫LELE。输出仅显示值 LELE。

这是代码。

```
<?php
header('Content-type: application/json');
$base = 'http://api.hasoffers.com/Api?';

$params = array(
'Format' => 'json'
,'Target' => 'Offer'
,'Method' => 'create'
,'Service' => 'HasOffers'
,'Version' => 2
,'NetworkId' => 'demo'
,'NetworkToken' => '....'
,'data' => array(
        'name' => 'LOLO'
        ,'description' => 'test'
        ,'offer_url' => 'http://google.nl'
        ,'preview_url' => 'http://google.nl'
        ,'expiration_date' => '08-08-2013'

        ,'name' => 'LELE'
        ,'description' => 'test'
        ,'offer_url' => 'http://google.nl'
        ,'preview_url' => 'http://google.nl'
        ,'expiration_date' => '08-08-2013' 
)
);

$url = $base . http_build_query( $params );

$result = file_get_contents( $url );

print_r( json_decode( $result) );
?> 
```

这是输出

```
[request] => stdClass Object
    (
        [Target] => Offer
        [Format] => json
        [Service] => HasOffers
        [Version] => 2
        [Method] => create
        [NetworkId] => demo
        [NetworkToken] => NETU2nzMw8AYS6EGgjFrjGR88GcSiF
        [data] => stdClass Object
            (
                [name] => LELE
                [description] => test
                [offer_url] => http://google.nl
                [preview_url] => http://google.nl
                [expiration_date] => 08-08-2013
            )

    ) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:06:11.057

```
'data' => array(
  array (
    'name' => 'LOLO',
    'description' => 'test',
    'offer_url' => 'http://google.nl',
    'preview_url' => 'http://google.nl'
    'expiration_date' => '08-08-2013'),
  array (
    'name' => 'LELE',
    'description' => 'test',
    'offer_url' => 'http://google.nl',
    'preview_url' => 'http://google.nl',
    'expiration_date' => '08-08-2013')) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:07:35.257

```
,'data' => array( array(
        'name' => 'LOLO'
        ,'description' => 'test'
        ,'offer_url' => 'http://google.nl'
        ,'preview_url' => 'http://google.nl'
        ,'expiration_date' => '08-08-2013'
        ),
        array(
        ,'name' => 'LELE'
        ,'description' => 'test'
        ,'offer_url' => 'http://google.nl'
        ,'preview_url' => 'http://google.nl'
        ,'expiration_date' => '08-08-2013' 
        )
) 
```

您需要将其添加为多维数组，否则它将覆盖具有相同键的元素。请注意 `array (....)`在您的`array`

`array( array(`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:10:07.113

**或者**你可以这样存储

```
$data = array();
$data[0] = array('name' => 'LELE'
    , 'description' => 'test'
    , 'offer_url' => 'http://google.nl'
    , 'preview_url' => 'http://google.nl'
    , 'expiration_date' => '08-08-2013'
);

$data[1] = array('name' => 'LOLO'
    , 'description' => 'test'
    , 'offer_url' => 'http://google.nl'
    , 'preview_url' => 'http://google.nl'
    , 'expiration_date' => '08-08-2013'
);

$params = array(
    'Format' => 'json'
    , 'Target' => 'Offer'
    , 'Method' => 'create'
    , 'Service' => 'HasOffers'
    , 'Version' => 2
    , 'NetworkId' => 'demo'
    , 'NetworkToken' => 'NETU2nzMw8AYS6EGgjFrjGR88GcSiF'
    , 'data' => $data
);

print_r($params); 
```

// 输出

```
Array
(
    [Format] => json
    [Target] => Offer
    [Method] => create
    [Service] => HasOffers
    [Version] => 2
    [NetworkId] => demo
    [NetworkToken] => NETU2nzMw8AYS6EGgjFrjGR88GcSiF
    [data] => Array
        (
            [0] => Array
                (
                    [name] => LELE
                    [description] => test
                    [offer_url] => http://google.nl
                    [preview_url] => http://google.nl
                    [expiration_date] => 08-08-2013
                )

            [1] => Array
                (
                    [name] => LOLO
                    [description] => test
                    [offer_url] => http://google.nl
                    [preview_url] => http://google.nl
                    [expiration_date] => 08-08-2013
                )

        )

) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T10:52:28.793

**a) 如何在一个数组中存储多个数据集。**

```
$fixed_params = array(
 'Format' => 'json'
 ,'Target' => 'Offer'
 ,'Method' => 'create'
 ,'Service' => 'HasOffers'
 ,'Version' => 2
 ,'NetworkId' => 'demo'
 ,'NetworkToken' => '....'
);

$offer_data = array(
array(
        'name' => 'LOLO'
        ,'description' => 'test'
        ,'offer_url' => 'http://google.nl'
        ,'preview_url' => 'http://google.nl'
        ,'expiration_date' => '08-08-2013'
),
array(
        'name' => 'LELE'
        ,'description' => 'test'
        ,'offer_url' => 'http://google.nl'
        ,'preview_url' => 'http://google.nl'
        ,'expiration_date' => '08-08-2013' 
 )
);

// store all results here 
$result = array();

// iterates two times since $offer_data has two elements.
foraech ($offer_data as $offern => $data ){
 // store offer's data into fixed_params['data'] element.
 $fixed_params['data'] = $data;

 $url = $base . http_build_query( $fixed_params );

 $result[] =  json_decode( file_get_contents( $url ));
}

print_r($result); 
```

**b) API 是否接受它....**

据我了解 API，它一次只接受一个创建。见[http://www.hasoffers.com/wiki/Offer:create](http://www.hasoffers.com/wiki/Offer:create)它说：*创建一个新的报价。*

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-05T09:03:46.590

这就是我所做的并且有效

```
<?php

// Bestand openen
if (($file = fopen("test2.csv", "r")) !== FALSE) {
    // Eerste rij van Excel als value gebruiken
    $header = fgetcsv($file, 1000, ";");

    // Een loop door Excel file
    while (($data = fgetcsv($file, 1000, ";")) !== FALSE) {

            // combineer de eerste rij met de gegevens
            $combined = array_combine($header,$data);

            // Connectie maken met Hasoffers bij elke waarden
            $base = 'http://api.hasoffers.com/Api?';

            $params = array(
                'Format' => 'json'
                ,'Target' => 'Offer'
                ,'Method' => 'create'
                ,'Service' => 'HasOffers'
                ,'Version' => 2
                ,'NetworkId' => 'demo'
                ,'NetworkToken' => '.....'
                ,'data' => $combined
            );

            $url = $base . http_build_query( $params );

            $result = file_get_contents( $url );

            // Tijdelijk printen
            print_r( json_encode( $result) );
    }
}
?> 
```

我创建了一个包含 CSV 文件的循环。问题是它只与 hasoffer 连接一次，并且只允许一个值。

# c# - 如何区分 Flags 枚举和普通枚举之间的区别？

> ID：15131387
> 
> 赞同：2
> 
> 时间：2013-02-28T09:03:42.080
> 
> 标签：c#, enums, enum-flags

如果枚举是 a`[Flags] enum`还是常规的，有什么方法可以反射性地测试`enum`？

如果枚举是 Flags 枚举，我需要应用程序的行为略有不同，如果它不是 Flags 枚举。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T09:05:38.020

您可以通过反射测试属性是否存在：

```
System.Attribute[] attrs = System.Attribute.GetCustomAttributes(t);
var isFlags = attrs.Any(attr => attr is FlagsAttribute); 
```

或者：

```
var isFlags = typeof(MyEnum).GetCustomAttributes<FlagsAttribute>().Any(); 
```

请参阅：http: [//msdn.microsoft.com/en-us/library/z919e8tw (v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/z919e8tw(v=vs.80).aspx)

**[操作编辑：]**

这行得通，但语法略有错误。这是对的：

```
var isFlags = myEnum.GetType()
    .GetCustomAttributes(typeof(FlagsAttribute), false).Any(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:05:39.457

可以通过反射获取枚举的属性，看看是否使用了FlagsAttribute。

# c# - 有没有解决方案在现有的网络表单中添加 css 模板，现在有模板？

> ID：15131388
> 
> 赞同：1
> 
> 时间：2013-02-28T09:03:43.233
> 
> 标签：c#, asp.net, css, templates

有没有办法为没有添加 CSS 模板的现有网络表单添加 CSS 模板？

我的代码在下面列出，任何有关如何为站点主控中已存在的表单添加 CSS 模板的指导将不胜感激：

```
 <%@ Page Language="C#" AutoEventWireup="true" CodeBehind="WebForm2.aspx.cs" Inherits="Linkchecker.WebForm2"
    ValidateRequest="false" EnableViewState="false" EnableViewStateMac="false" EnableSessionState="True"
    EnableEventValidation="false" ViewStateEncryptionMode="Never" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>

    <script type="text/javascript">
        function finda() {
            var a = document.getElementsByTagName("a");
            var b = document.getElementById("TextBox1");
            b.value = "";

                        for (var i = 0; i < a.length; i++) {
                            a[i] = a.length.value;

                            if (a[i] == null) {
                                alert("Their is no links");
                            }   
                            else {
                                b.value = b.value + "\r\n\n" + a[i]  ;
                            }

                        }

                        //            window.open("http://www.fillsim.com");
                        window.close();
                     //   window.open("WebForm3.aspx?req=" + b.value);

        }
    </script>
     <script>
         var howLong = 6000;
         t = null;
         function closeMe() {
             t = setTimeout("self.close()", howLong);
         }
   </script>
      <script type = "text/javascript">

     var defaultText = "http://www.example.com";
           function waterMarkText(txt, evt) {
               if (txt.value.length == 0 && evt.type == "blur") {
                   txt.style.color = "red";
                   txt.value = defaultText;
               }
               if (txt.value == defaultText && evt.type == "focus") {
                   txt.style.color = "green";
                   txt.value = "";
               }
       }
</script>

</head>
<body >

    <form id="form1" runat="server">
    Enter the URL:<br />
    <asp:TextBox ID="urltxt" runat="server" Width="402px" Text="http://www.example.com" ForeColor="Gray" onblur = "waterMarkText(this, event);" onfocus = "waterMarkText(this, event);"></asp:TextBox>
    <br />
    <br />
    <asp:Button ID="btnRender" runat="server" Text="Page Render" OnClick="btnRender_Click" />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <asp:Button ID="btn_submit" runat="server" Text="Submit" OnClientClick="javascript:finda();" />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<asp:Button ID="btn_createlink" runat="server"
        Text="Create link" OnClick="btn_createlink_Click" />
    &nbsp;&nbsp;&nbsp;
    <br />
    <br />
    <asp:TextBox ID="TextBox1" runat="server" TextMode="MultiLine" Height="373px" Width="410px"></asp:TextBox>
    &nbsp;&nbsp;&nbsp;&nbsp;
    <asp:TextBox ID="TextBox2" runat="server" Height="371px" TextMode="MultiLine" Width="409px"></asp:TextBox>
    &nbsp;<div class="ab" id="div" runat="server">
        <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <asp:Button ID="Button1" runat="server" onclick="Button1_Click" Text="Clear" 
            Width="71px" />
    </div>
    </form>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:06:14.520

您可以在您的`<head runat="server">`部分添加

```
<link href="Styles/Site.css" rel="stylesheet" type="text/css" />
<style type="text/css">
   .product-bottom-container 
   {
        width: 100%;
        overflow: hidden;
        height: 10px;
        border-top: 1px solid #C41212;            
        background-color: #ECECEC;

   }
</script> 
```

结合它

```
 <%@ Page Language="C#" AutoEventWireup="true" CodeBehind="WebForm2.aspx.cs" Inherits="Linkchecker.WebForm2"
    ValidateRequest="false" EnableViewState="false" EnableViewStateMac="false" EnableSessionState="True"
    EnableEventValidation="false" ViewStateEncryptionMode="Never" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
        <link href="Styles/Site.css" rel="stylesheet" type="text/css" /> 
```

## 编辑 1

**这是一个链接如何在现有页面中添加母版页**
[如何将母版页分配给现有的 .aspx 页面？](https://stackoverflow.com/questions/2273368/how-to-assign-a-master-page-to-a-existing-aspx-page)

# android - ExpandableListView 回调不同步

> ID：15131392
> 
> 赞同：1
> 
> 时间：2013-02-28T09:03:54.217
> 
> 标签：android, listview, synchronization, expandablelistview, expandablelistadapter

我正在扩展 ExpandableListView 以创建自己的列表视图，并且适配器回调以下列方式实现：

```
@Override
public int getGroupCount() {
    return m_FilteredSites.getSize();
}

@Override
public Object getGroup(int i) {
    return m_FilteredSites.get(i);
}

@Override
public View getGroupView(int groupPosition, boolean isExpanded, View convertView, ViewGroup parent) {
    SiteEntity site = (SiteEntity) getGroup(groupPosition);
    //more code ....
} 
```

问题是在调用 getGroupCount 和 getGroupView 之间，m_FilteredSites 集合可能会发生变化（由于在我的情况下使用了过滤器）。有没有办法强制同步或任何其他方法来保持调用之间的数据一致？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:11:56.127

~~您不应该更改[`setAdapter()`](http://developer.android.com/reference/android/widget/ExpandableListView.html#setAdapter%28android.widget.ExpandableListAdapter%29)~~. 相反，您可以构建新的适配器，然后使用该方法对其进行更改，一切都会好起来的。

该视频适用于`ListView`，但也适用于`ExpandableListView`：[Google I/O 2010 - ListView 的世界](http://youtu.be/wDBM6wVEO70)。如果你有时间，我认为值得一看。

* * *

*已编辑*

对不起，我不记得我在哪里学到的。我刚刚重新观看了上面的视频，但找不到那个时刻。我认为`notifyDataSetChanged()`在更改列表中项目的数据时使用，而不是列表本身。现在，如果我没记错的话，你应该这样做：

```
public class SampleAdapter extends BaseExpandableListAdapter {

    private List<List<String>> mData;

    public void updateData(List<List<String>> data) {
        mData = data;
        notifyDataSetChanged();
    }
} 
```

我的意思是您不应该更改`mData`（例如`add()`，`remove()`...）的项目。最好建立新列表并将其分配给`mData`上面的代码。

如果您有[内容提供商](http://developer.android.com/guide/topics/providers/content-providers.html)，您可以使用[`CursorTreeAdapter`](http://developer.android.com/reference/android/widget/CursorTreeAdapter.html)它，它会自动为您管理数据集。我强烈建议使用内容提供商。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T08:38:54.517

现在问题已解决。问题是我在工作线程而不是 UI 线程上更改 m_FilteredSites 集合。Filter 类有 2 个回调： 1\. performFiltering - 在工作线程上执行。2\. publishResults - 在 UI 线程上执行。

最初我在计算过滤器，但也在 performFiltering 方法上修改 m_FilteredSites。解决方法是将更改 m_FilteredSites 集合的实际代码移动到 publishResults 方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:06:43.887

您可以同步自己的代码以顺序访问它而不是同时访问它，例如：

```
ExpandableListView elv;

synchronized(elv) {
    // Do whatever with elv that requires exclusive thread access
} 
```

# paypal-ipn - PayPal IPN 参数包含两个状态字段。我应该使用哪个？

> ID：15131396
> 
> 赞同：2
> 
> 时间：2013-02-28T09:04:07.087
> 
> 标签：paypal-ipn, paypal-adaptive-payments

我正在使用 PayPal 自适应支付 API。我有一个在付款时接收 IPN 回发的脚本。在此脚本中，我需要执行验证，包括检查付款状态是否为`COMPLETED`，[如文档所指定](https://www.paypal.com/uk/cgi-bin/webscr?cmd=p/acc/ipn-info-outside)：

> 确认“payment_status”为“已完成”，因为 IPN 也会针对“待处理”或“失败”等其他结果发送

`payment_status`对于使用不同参数（不是）的自适应付款，文档尚未更新。[我收到的参数记录在这里](https://cms.paypal.com/uk/cgi-bin/?cmd=_render-content&content_ID=developer/e_howto_api_APIPN)，有*两个*状态字段：

> **status**
> 付款的状态。可能的值为：
> 
> CREATED – 收到付款请求；一旦付款被批准，资金将被转移
> COMPLETED – 付款成功
> INCOMPLETE – 对于并行付款，一些转移成功，一些失败，或者对于延迟的链式付款，没有向二级收款人付款
> ERROR – 付款失败，所有尝试转移失败或所有已完成的转账都已成功撤销
> REVERSALERROR – 尝试撤销付款时一个或多个转账失败
> PROCESSING – 付款正在进行中
> PENDING – 付款正在等待处理

和

> **transaction[n].status**
> 交易状态，其中 [n] 是一个从 0 到 5 的数字。对于简单的单收款人付款，此数字将为 0。大于 0 的数字表示以链式和并行方式向特定收款人付款付款。
> 
> 可能的值为：
> 
> 已完成
> 待
> 退款

简而言之，我不知道我应该使用哪一个。*付款状态*还是*交易*状态？

（我会将赌注押在交易状态上，但是当您在请求中有多个交易时（例如，使用链式支付时），我不知道支付状态的目的是什么。再说一次，付款status 有更多可能的值，所以也许这是“整体”状态，应该使用。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T14:11:50.887

您可能想查看 transaction[n].status，这将是一个数组。这是因为通过自适应支付，可以将单个交易拆分为多个交易给不同的商家。

状态只是说api调用通过并成功完成。它被处理了。transaction[n].status 告诉您该调用中每个事务的状态。

# jakarta-ee - 符合 OSGI 的开源 Java EE 门户平台？

> ID：15131398
> 
> 赞同：2
> 
> 时间：2013-02-28T09:04:19.620
> 
> 标签：jakarta-ee, osgi, portal

我需要找到一个兼容 OSGI 的开源 Java EE 门户解决方案（portlet 容器、cms 等）。我只发现 Apache Jetspeed 应该在 2.2.2 版本中具有此功能，但似乎没有得到维护。

不幸的是，没有一个常见的嫌疑人确实支持 OSGI。是否有任何有据可查的文件可以支持它？

我所说的 OSGI 支持是指：

1) 无需重启即可使用 OSGI 规范加载模块

2）（可选）将整个门户安装在 OSGI 兼容应用程序服务器中的 OSGI 容器中的能力

Liferay 确实在当前版本中对 OSGI 有一些支持，但我必须确定有一种方法可以在不重新启动的情况下部署 OSGI 包以及如何去做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T09:14:42.837

一位核心 Liferay 架构师[*最近陈述*](https://www.liferay.com/web/raymond.auge/blog/-/blogs/why-osgi-and-liferay-)了他最终想要基于 OSGi 制作 Liferay 的原因。

他特别指出：

> 就开发而言，我目前的重点几乎是 100% OSGi。一种可用的 OSGi 集成形式将在 6.2 中出现。

由于 6.2 正在开发中并将在今年晚些时候发布，您可能希望从[*SourceForge 档案*](http://sourceforge.net/projects/lportal/files/Liferay%20Portal/)中查看其最新的里程碑（在此答案时为 6.2.0 M4） ，看看您是否可以将您的项目基于它，升级准备好后发布到稳定版本。

# php - 为不同（但相似）的业务程序使用不同的表是一种好习惯吗？

> ID：15131400
> 
> 赞同：5
> 
> 时间：2013-02-28T09:04:26.120
> 
> 标签：php, database, oracle, database-design

有一个非常相似的问题：[用截然不同的需要知道的信息集对产品进行建模并将它们链接到产品线？](https://stackoverflow.com/questions/3357149/modeling-products-with-vastly-different-sets-of-needed-to-know-information-and-l)但我找不到对我有帮助的答案；

上述问答中有人指出[设计数据库来保存不同的元数据信息](https://stackoverflow.com/questions/3241033/designing-database-to-hold-different-metadata-information)，这有一个很好接受的答案，但由于我的程序明确需要搜索功能，我不希望性能受到影响。

* * *

我是一名“技术员”，使用 PHP + Oracle 来跟踪我们公司的销售进度并生成报告。我们的工作流程通常如下所示：

1.  营销人员为我的系统提供准备好的数据集；
2.  一线员工（销售）在我的系统上标记进度；
    *   任何人都可以在系统中搜索结果；
3.  我生成报告给营销人员。

**问题**：

数据集的许多列是相同的（或可以认为是相同的），如下所示：

```
account|customer_name|gender|location|program_segment|... 
```

但是营销部 喜欢提出新想法（并放弃现有想法），因此每个“销售计划（活动）”可能都有自己的数据，例如

对于程序 1，它们可能包含：

```
...|prev_coupon_code|last_usage_amount|... 
```

但是，对于程序 2，它们可能包含：

```
...|is_in_plan_1|is_in_plan_2|... 
```

你明白了。

**不成功的尝试**：

*   为了保存所有数据，我曾经使用具有所有可能属性（列）的“足够长”的表，并保留空白/不必要的属性`NULL`。

    但是现在感觉永远都“不够长”，因为“属性”太多，“销售重点”更多：我为新版系统起草了一个41列的表格，突然他们提出了一个包含不适合的信息的新程序。

*   有人建议我在表格中创建“虚拟列”并在前端“记住”它们的不同含义。这可以适用于多种数据类型，例如`NUMBER(1)`Y/N`DATE`等，但是在谈论 时`VARCHAR2`，我不确定其中有多少就足够了……而且这会使表格看起来“脏”。

**问题：**

沮丧，我现在正在认真考虑为不同的程序使用不同的表格，并使用`UNION`子句生成大报告，以防他们被问到“我们这个月/季节/年的销售情况如何？”

从技术上讲，这是一个好习惯吗？我应该实施吗？

* * *

**编辑**＃1：

澄清一下，一个“销售程序”通常会运行几个月后被放弃，每个运行程序每月至少有一个数据集。

并且可以同时运行多个程序。

**编辑**#2：

那些“程序指定”的列有不同的数量：一个程序可能需要 10 个，而另一个可能只需要 1 个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T10:07:00.753

这是没有正确答案的情况之一，只是一种选择。

我会很高兴使用 XMLType 来保存瞬态数据结构。XML 使我们能够为每个计划定义模式，但使用 XMLType 避免了更改数据库本身的需要。我们可以索引 XPath 查询，因此性能仍然很好。 [了解更多](http://docs.oracle.com/cd/B28359_01/appdev.111/b28369/xdb_indexing.htm)。

一个问题是针对 XML 编写查询有点麻烦，但我认为无论您采用哪种方法，笨拙的查询都将是一个问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:45:36.920

您可能知道也可能不知道可以在 Oracle 中对字符 LOB的**内容进行索引。**您可能会查找 Oracle Intermedia / 多媒体（取决于您的版本）并与您的 DBA 交谈以查看您是否可以使用它。

这样就可以为公共数据项创建一个公共结构——例如活动、开始日期、结束日期等，然后将电子表格/xml 数据/csv 文件转储到 CLOB 字段中。

纯文本索引并不像最初听起来那么难，而且确实非常可爱。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:15:25.477

如果您沿着不同的表格路径走下去，您将永远更改代码以满足不断变化的列等。

一种选择是添加 2 个附加列“campaign_name”、“campaign_value”，并将他们发送给您的列名放在 NAME 列中，将值放在 value 列中。

所以，

```
account|customer_name|.....|campaign_name|campaign_value
'ACC001'|'Frank Burns'|........|'prev_coupon_code'|[value of prev_coupon_code 
```

然后在你的第二个例子中：

```
account|customer_name|.....|campaign_name|campaign_value
'ACC001'|'Frank Burns'|........|'is_in_plan_1'|[value of is_in_plan_1 
```

更新 - 是的，这将涉及更改表格的粒度，以便您为每个广告系列添加一组数据。导入会有所不同，因为您将在那里出现的每个列名的记录联合起来，并且报告需要考虑到粒度变化。

这听起来完全是浪费空间，但如果这些是 Excel 表格，那么性能应该无关紧要。如果是这样，您需要将表格拆分为 - 广告系列、帐户、accounts_campaigns

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T12:49:57.960

在我目前的工作中，我成功使用了以下系统 2 年。

你有一个主表，比如说“报告”，它由所有类型的报告的公共列组成。

id - 主要的，自动增量。

name - 报告的名称。

然后，对于每个特定报告，您都有另一个表，称为“report_marketing”。那里有 report_id 列，即第一个主表的外键。并在此处添加此特定报告的所有特定列。

要获得结果，您只需使用 LEFT JOIN。

如果某些报表共享来自 2 个或更多表的某些列，则您始终可以连接多个列。

以下是您可能有的查询示例：

```
SELECT report.name, report_marketing.ammount FROM report WHERE report.type = 'M'
  LEFT JOIN report_marketing ON report_marketing.report_id = report.id; 
```

# css - 多文件夹组织和引用 CSS

> ID：15131406
> 
> 赞同：0
> 
> 时间：2013-02-28T09:04:40.003
> 
> 标签：css, image, background, directory

好的，所以我正在尝试为网站组织文件目录。它看起来像这样。

```
 - My Blog Site
   - HTML-CSS-DOCUMENTS
     - CSS-MAIN.css
   - BACKGROUND-IMAGES
     - Background.png 
```

但在 CSS 文档中，我似乎无法让它使用图像。

这是我一直在使用的代码

```
background-image:url("My Blog Site\BACKGROUND-IMAGES\Background.png"); 
```

有人可以解决它或告诉我我做错了什么，谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:47:17.070

您需要返回路径并获取图像。像这样的东西：

```
background-image: url('../BACKGROUND-IMAGES/Background.png'); 
```

这里`../`的意思是在道路上倒退一步。并使用`/`而不是`\`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:14:25.897

这应该可以正常工作：

```
background:url('http://mywebsite.com/background-images/background.png'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:53:08.880

您将在您的 CSS 中使用：

```
background-image: url('../BACKGROUND-IMAGES/Background.png'); 
```

您使用 ../ 返回一个目录，然后从该目录链接。

# android - AccountManager：第一次同步有时需要一段时间

> ID：15131409
> 
> 赞同：1
> 
> 时间：2013-02-28T09:04:44.980
> 
> 标签：android, synchronization, accountmanager

我的应用程序使用 accountmanager 同步数据。不使用身份验证。有时（并非总是）当我第一次运行应用程序时，第一次同步需要很长时间。

在这里我如何添加帐户

```
private void ensureSyncAccount() {
    final AccountManager accountManager = AccountManager.get(this);
    String authority = getString(R.string.acc_authority);
    String accountType = getString(R.string.acc_name);
    String accountName = getString(R.string.app_name);

    Account[] existingAccs = accountManager.getAccountsByType(accountType);
    if (existingAccs.length > 0) {
        return;
    }

    Account account = new Account(accountName, accountType);
    if (accountManager.addAccountExplicitly(account, null, null)) {
        ContentResolver.setIsSyncable(account, authority, 1);
        ContentResolver.setSyncAutomatically(account, authority, true);
        ContentResolver.requestSync(account, authority, new Bundle());
        ContentResolver.addPeriodicSync(account, authority, new Bundle(), 60*10);
    }
    else {
        Log.e(LOG_TAG, "Unable to add account");
    }
} 
```

一段时间后，同步开始正常工作。同步死锁的原因是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-30T09:53:09.340

也许问题是你请求同步

```
ContentResolver.requestSync(account, authority, new Bundle()); 
```

然后你添加定期同步

```
ContentResolver.addPeriodicSync(account, authority, new Bundle(), 60*10); 
```

证明它正在等待下一次同步

# postgresql - 编写缩放 postgresql

> ID：15131412
> 
> 赞同：2
> 
> 时间：2013-02-28T09:05:00.097
> 
> 标签：postgresql, scaling, postgresql-9.2, hstore

我有一个非常以写为中心的应用程序，它使用 postgres hstore。我的典型工作流程是 a`SELECT`后跟多个`UPDATE`s 或`INSERT`s（主要是前者）。这通常以每秒约 500 个“任务”的速度发生。

所以我的单个 postgres 实例无法应付。我看到 postgres 服务器是 cpu 绑定的，并且 postgres 进程`UPDATE`一直在运行。磁盘 I/O 看起来很好，我有足够的可用内存（44GB，48GB）。我已经尝试按照[postgres 的 wiki 页面](http://wiki.postgresql.org/wiki/Tuning_Your_PostgreSQL_Server)和 pg_tune 进行调整，但我只需要更高的性能。

我的表格遵循以下设计：

```
 Column   |           Type           |                              Modifiers                              | Storage  | Stats target | Description
------------+--------------------------+---------------------------------------------------------------------+----------+--------------+-------------
 id         | integer                  | not null default nextval('table_id_seq'::regclass) | plain    |              |
 created_at | timestamp with time zone | not null                                                            | plain    |              |
 updated_at | timestamp with time zone | not null                                                            | plain    |              |
 context    | hstore                   | default hstore((ARRAY[]::character varying[])::text[])              | extended |              |
 data       | hstore                   | default hstore((ARRAY[]::character varying[])::text[])              | extended |              | 
```

几乎我所有`UPDATE`的都是这种类型：

```
UPDATE <table> updated_at=<date> WHERE id=<id> 
```

挖掘后，我发现了两个声称有助于提高写入性能的项目：

*   [postgres-xc](http://postgres-xc.sourceforge.net/)
*   [postgres-r](http://postgres-r.org/)

对于我的（相当简单的）工作流程，您会推荐哪个？

（是的，我尝试过 mongo，但是，我错过了 SQL 的查询示意图）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-02T16:04:00.360

首先，我认为您需要更加具体。性能调整非常以事实为中心，没有很多细节（解释计划等）、硬件信息等。我们无法告诉你该怎么做。此外，像 Postgres-XC 这样的东西增加了很多复杂性，尽管它确实有助于提高写入性能。我认为这对你的情况会有所帮助，但你真的想首先优化你拥有的东西（也许聘请某人为你优化它）。

但是，您的帖子中有很多警告标志（这是我认为聘请专业人士可能是个好主意的另一个原因）。在不了解更多信息的情况下，我无法告诉您 Postgres-XC 是否是正确的解决方案。我可以告诉你的是，你将有一个陡峭的学习曲线来实现它。

所以我想通过警告标志，因为它们代表可能的调整点。

1.  `i see that the postgres server is cpu bound and the postgres processes are UPDATEing all the time.` 这很可能是由于信号量和共享内存的争用过多造成的。您可能会发现，如果减少最大连接数，您每秒会处理更多。连接池可能会有所帮助。

2.  您所有有趣的数据都在扩展存储中。这意味着存储和检索时额外的随机磁盘 I/O。除非您对表进行大量顺序扫描，否则您应该让 PostgreSQL 决定要 TOAST 的内容。

3.  我称您声称大多数语句都是一样`UPDATE <table> updated_at=<date> WHERE id=<id>`的，因为当您不更新数据时，可能几乎没有理由将行记录为已更新。这里可能还会发生其他事情。我的猜测是，您也有很多查询更新扩展存储中的内容。这在性能方面可能没什么大不了的，因为您不受 I/O 限制，但它确实会产生 CPU 和磁盘 I/O 的开销。

总的来说，Postgres-XC 是一个很棒的项目，我会推荐它。然而，它给数据库增加了很多复杂性，如果你可以让你的单个实例工作，你可能会发现从长远来看运行起来要便宜得多（简单是金）。

# javascript - 如何在highcharts中引用点击的图例项？

> ID：15131422
> 
> 赞同：1
> 
> 时间：2013-02-28T09:05:21.780
> 
> 标签：javascript, reference, highcharts, legend

我正在为一个项目使用 Highcharts JS，但我不知道如何引用单击的图例项。我想将一个类切换到单击的图例项，以便我可以向活动/禁用的图例项添加不同的样式。

当我使用 legedItemClick 事件时，我看到控制台日志被触发，但我找不到孩子。（可能是因为这指的是系列而不是图例项目）。例子：

```
plotOptions:{
    line:{
        marker:{
            symbol:'circle',
            enabled: false
        },
        events: {
            legendItemClick: function () {
                $(this).addClass('new_class');
                console.log('click click');
                $(this).find('.legend-name').toggleClass('visible_true').toggleClass('visible_false');
                $(this).find('.legend-icon').toggleClass('visible_true').toggleClass('visible_false');
            }
        },
        showCheckbox: false
    }
}, 
```

当我尝试不使用 highcharts 点击事件但在图例项内的跨度上使用 jQuery 点击处理程序时，没有任何反应，甚至不会触发控制台日志。这可能是因为 highcharts 的默认点击处理程序防止冒泡或其他原因。例子：

```
$('body').delegate('.highcharts-legend-item span', 'click', function(){

    console.log('click');

    $(this).find('.legend-name').toggleClass('visible_true');
    $(this).find('.legend-icon').toggleClass('visible_true');
}); 
```

# settings - 雷鸟或android如何自动加载imap设置

> ID：15131423
> 
> 赞同：0
> 
> 时间：2013-02-28T09:05:25.307
> 
> 标签：settings, imap, thunderbird

我想知道是否有一项服务可以为我提供给定电子邮件地址的 imap 设置。如果在您提供电子邮件地址时自动获取 imap 设置，Thunderbird 和 Android 邮件客户端会做得很好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:10:16.760

如果您使用流行的邮件提供商（gmail、hotmail 等），则 imap 设置只是根据电子邮件的域选择的。

如果您有自己的服务器，则无法获取设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T15:06:30.117

要继续 Lauri 的回答，它可以猜测。如果您在@example.com 有电子邮件，它会尝试常见的内容，例如 mail.example.com、imap.example.com、pop.example.com、smtp.example.com。等等。这都是启发式的。

# c# - 在 global.asax MapPageRoute 中使用通配符

> ID：15131425
> 
> 赞同：0
> 
> 时间：2013-02-28T09:05:32.683
> 
> 标签：c#, asp.net, global-asax, asp.net-routing

我希望能够使用 global.asax 文件重定向到页面，而不管特定引用之前有哪些参数（可以忽略参数）。

```
routes.MapPageRoute("ExportToExcel", "Initial/{any}/Number/{of}/{parameters}/ExportToExcel", "~/Views/Excel/ExportToExcel.aspx", true); 
```

我以为我可以使用通配符，例如：

```
routes.MapPageRoute("ExportToExcel", "Initial/*/ExportToExcel.aspx","~/Views/Excel/ExportToExcel.aspx", true ) 
```

这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T13:16:20.683

最后我只制定了 2 条规则，大括号中的参数被忽略，但需要路由硬编码路径。尽管我认为使用正则表达式和 routvaluedictionary 可以根据需要进行更改。

```
routes.MapPageRoute("ExportToExcel", "Initial/{any}/ExportToExcel", "~/Views/Excel/ExportToExcel.aspx", true);
routes.MapPageRoute("ExportToExcel2", "Initial/{any}/Number/ExportToExcel", "~/Views/Excel/ExportToExcel.aspx", true); 
```

# python - 从一行中提取文本：Python 中的正则表达式

> ID：15131429
> 
> 赞同：0
> 
> 时间：2013-02-28T09:05:41.183
> 
> 标签：python, regex

我正在使用 Python 中的正则表达式，我正在为此苦苦挣扎。我在这样一个行的文件中有数据：

```
|person=[[Old McDonald]] 
```

我只想能够`Old McDonald`从这条线中提取出来。

我一直在尝试使用这个正则表达式：

```
matchLine = re.match(r"\|[a-z]+=(\[\[)?[A-Z][a-z]*(\]\])", line)
print matchLine 
```

但它不起作用；`None`是每次的结果。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:08:08.247

构造`[A-Z][a-z]*`不匹配`Old McDonald`。您可能应该使用类似`[A-Z][A-Za-z ]*`. 这是代码示例：

```
import re
line = '|person=[[Old McDonald]]'
matchLine = re.match ('\|[a-z]+=(?:\[\[)?([A-Z][A-Za-z ]*)\]\]', line)
print matchLine.group (1) 
```

输出是`Old McDonald`给我的。如果您需要在字符串中间进行搜索，请使用`re.search`代替`re.match`：

```
import re
line = 'blahblahblah|person=[[Old McDonald]]blahblahblah'
matchLine = re.search ('\|[a-z]+=(?:\[\[)?([A-Z][A-Za-z ]*)\]\]', line)
print matchLine.group (1) 
```

# javascript - 获取 javascript 动态创建的控件状态

> ID：15131431
> 
> 赞同：0
> 
> 时间：2013-02-28T09:05:49.910
> 
> 标签：javascript, asp.net, html

我正在向我的 ASP.NET 表中动态添加一些行，每行中有几个单元格，每个单元格都包含一个动态创建的控件：

```
 var TD = document.createElement('td');
        var spanCheck = document.createElement("span");
        spanCheck.innerHTML = "<input type='checkbox' name='vehicle' value='Car'>mycheck";
        spanCheck.id = "newfoodcheck0";
        spanCheck.onclick = function () {

            if (spanCheck.checked)
                alert('checked');
            else
                alert('unchecked');
        };

        TD.appendChild(spanCheck); 
```

我正在为这个跨度添加一个 onclick 函数（呈现为一个复选框），我想知道它何时被选中，但`if (spanCheck.checked)`不起作用，我总是在我的警报中得到“未选中”，这里出了什么问题？我应该使用 spanCheck.checked 还是应该使用`document.getElementById(spanCheck.id).checked`？我已经测试过了，但再次没有运气！我怎么知道我的复选框是否被选中或知道？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:24:37.980

您正在做的是在 spanCheck 上添加点击事件并检查 spanCheck.checked。然而，checked 属性位于作为 spanCheck 的子元素的 input 元素上。您可能想要这样做：

```
var TD = document.createElement('td');
    var spanCheck = document.createElement("span");
    spanCheck.innerHTML = "<input id='my_input' type='checkbox' name='vehicle' value='Car'>mycheck";
    spanCheck.id = "newfoodcheck0";
    spanCheck.onclick = function () {
            var input = document.getElementById('my_input');
            if (input.checked)
                alert('checked');
            else
                alert('unchecked');
        }; 
```

另外，我认为您还没有将 TD 插入体内。所以在最后一行，你应该使用 appendChild：

```
TD.appendChild(spanCheck);    
document.body.appendChild(TD); 
```

另一件事，您不应该在跨度上附加 onclick 事件。您应该在输入元素上附加相同的内容。下面的代码做同样的事情：

```
var TD = document.createElement('td');
    var spanCheck = document.createElement("span");
    spanCheck.innerHTML = "<input id='my_input' type='checkbox' name='vehicle' value='Car'>mycheck";
    spanCheck.id = "newfoodcheck0";

    TD.appendChild(spanCheck);
    document.body.appendChild(TD);
    var input = document.getElementById('my_input');

    input.onclick = function () {
        if (input.checked)
            alert('checked');
        else
            alert('unchecked');
    }; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:09:57.870

在您的代码中，`spanCheck`不呈现为复选框。它*包含*一个复选框。因此，没有这样的属性`spanCheck.checked`。*但是，*有一个`spanCheck.children[0].checked`属性。

# unity3d - 触发进入是否可以是定向的，即触发进入仅在一侧发生，而不是在unity3d中对撞机的所有侧面？

> ID：15131433
> 
> 赞同：0
> 
> 时间：2013-02-28T09:06:02.593
> 
> 标签：unity3d, transform, collision-detection, unityscript

在我的游戏中，玩家在路径上向前跑会触发对撞机来实例化敌人，当同一玩家朝相反方向进入并触发对撞机时，我不希望玩家实例化敌人。如何实现这一点请帮助..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T10:26:23.327

当我阅读您的问题时，我在这里看到两种可能的情况：

1.  玩家只有在向前移动时才能触发。
2.  玩家只有在来自某个方向时才允许触发。

第一个会很容易。您可以从角色控制器获取移动方向，以查看他是否正在向前移动。例如，您可以尝试使用`Transform.LookAt`它并将其与播放器的旋转进行比较。

第二个处理方式不同。例如，您的触发器可能仅在玩家沿 x 轴向前移动时响应。然后将 X 位置记录为运动循环中的最后一件事。然后将下一帧中的 X 位置与上一帧中的位置进行比较。如果它们之间的差异是积极的，那么你正在朝着积极的方向前进。如果为负，则您的移动方向为负。

# php - 邮件功能在 CodeIgniter 中不起作用

> ID：15131442
> 
> 赞同：0
> 
> 时间：2013-02-28T09:06:17.253
> 
> 标签：php, jquery, ajax

我正在使用 CodeIgniter 发送邮件。数据进入控制器，但问题在于编码。

使用的脚本：

```
$(".alert_button").click(function(){    
   var emailmy= $("#emailmy").val();
    $.ajax({
          url: "<?php echo site_url('home/ForgotEmailValidation'); ?>",
          data: {
              emailmy: emailmy 

          },
         // context: document.body,
          success: function(ret)
          {
              if(ret=="0")
              {
                    $(".login_alert").show();
                    $(".login_ok").hide();  
                    $('#emailmy').focus();
                    return false;
              }
              else  
              {

                      $.post("<?php echo site_url('home/ForgotPasswordMail');?>",{emailmy:emailmy},function(data){

                    });

                    $(".login_ok").show();
                    $(".login_alert").hide();

                    return true;  
              }

          }
    }); 
```

});

控制器：

```
//$randomString  is used for send random string.

 $characters = 'abcdefghijklmnopqrstuvwxyz';
    $randomString = '';
    for ($i = 0; $i < 20; $i++) {
        $randomString .= $characters[rand(0, strlen($characters) - 1)];
    }

    $to = $emailMY;
    $subject = "Reset your password on Pictraveler";
    $message = "Thank you for using Pictraveler.com.<br/>Please go to this page to create your new password.<br/>The link will expire in 24 hours.<br/>[Reset Password]<br/><a herf='http://133.242.3.198/resetpassword/$randomString'>http://www.pictraveler.com/resetpassword?$randomString</a>";
    $from = "someonelse@example.com";
    $headers = "From:" . $from;
    mail($to,$subject,$message,$headers); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:15:31.667

更好地使用 Google SMTP

在您的配置文件夹“email.php”中创建一个配置文件

```
$config['protocol'] = 'smtp';
$config['smtp_host'] = 'ssl://smtp.googlemail.com';
$config['smtp_port'] = '465';
$config['smtp_timeout'] = '30';
$config['smtp_user'] = 'youremail@gmail.com';
$config['smtp_pass'] = 'yourpassword';
$config['charset'] = 'utf-8';
$config['newline'] = "\r\n"; 
```

并以这种方式在您的控制器中发送电子邮件

```
$this->email->clear(TRUE);
$this->email->set_mailtype("html");
$this->email->from($mailFrom, $mailFromName);
$this->email->to($toEmail);
$this->email->subject($emailSubject);
$this->email->message($emailContent);
$this->email->send(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:19:00.343

尝试更换

```
$headers =“发件人：”。$来自;
```

和

```
$headers = "-f:" 。$来自;
```

# jquery - jquery中的级联触发器字段验证

> ID：15131445
> 
> 赞同：0
> 
> 时间：2013-02-28T09:06:26.677
> 
> 标签：jquery, jquery-validate

我有一个带有两个数字输入的表单，比如说 input1 和 input2。

我想要以下验证规则：

*   R1: input2 <= input1 * 0.2（当 input1 或 input2 值改变时触发）
*   R2：输入1 <10

暂时忘记 R2 并查看以下代码：

```
<input id="input1" class="validation1"/>
<input id="input2" class="validation2"/>

$.validator.addMethod("validation2", function (value, element) {
  var v = Globalize.parseFloat(value);
  var l = Globalize.parseFloat($('#input1').val());
  return !l || !v || v <= l*0.2;
}, "Error");
$.validator.classRuleSettings.validation2= { validation2: true };

$.validator.addMethod("validation1", function (value, element) {
  var validator = $("form").validate();
  validator.element($('#input2'));
  return true;
}, "should never be shown");
$.validator.classRuleSettings.validation1= { validation1: true }; 
```

这段代码工作得很好。当 input1 或 input2 更改时，将调用 input2 的验证。

所以让我们通过编辑validation1来添加R2：

```
$.validator.addMethod("validation1", function (value, element) {
  var validator = $("form").validate();
  validator.element($('#input2'));

  var v = Globalize.parseFloat(value);
  return v && v<10;
}, "Input1 must be less than 10"); 
```

此代码按预期工作，但是一旦将 input1 设置为大于 10，它就会变为红色，并且当值更改为 <10 时它也会保持红色。

任何的想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T17:44:18.163

我无法让您的代码在 jsFiddle 中运行：http: [//jsfiddle.net/TcpnH/](http://jsfiddle.net/TcpnH/)

也许您可以构建一个 jsFiddle。

**一些注意事项：**

* * *

**1)** 重要提示：所有输入都**必须**包含一个`name`属性，否则此插件将无法按预期运行。即使您不将它`name`用于 jQuery 中的其他任何内容，它仍然是必需的。

```
<input id="input1" name="input1" class="validation1" /> 
```

* * *

**2）** 如果`input1`必须简单地小于 10，你为什么要为此创建一个全新的方法？只需使用内置的`max`方法/规则。 `max: 10`

* * *

**3）** `$.validator.classRuleSettings.validation1= { validation1: true };` 我在[文档](http://docs.jquery.com/Plugins/Validation)`classRuleSettings`中看不到任何地方，也看不到目的。

通常，自定义方法/规则将作为 a 添加到`class`您已经完成的元素上：

```
<input id="input1" class="validation1" /> 
```

否则，作为规则声明：

```
$('form').validate({
    rules: {
        myfieldname: {
            validation1: true
        }
    }
}); 
```

# android - Android IMEI 绑定音乐文件

> ID：15131446
> 
> 赞同：0
> 
> 时间：2013-02-28T09:06:28.153
> 
> 标签：android

是否有可能开发一个将 IMEI 与音乐文件绑定的应用程序，如果 IMEI 未注册，则不应播放该音乐文件。

核心思想是保护许可文件不转移到其他设备。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:21:04.737

如果您使用流行的文件格式，如 MP3、WAV 等，那么您实施的任何此类保护都只能在您的应用程序中使用。用户仍然可以传输音乐文件并使用其他音乐播放器播放。

但是，您可以开发一种自定义格式，将 IMEI 存储为文件的一部分（尽管出于安全和隐私原因，您应该存储它的哈希值，而不是原始数字）。这种格式的结构必须使除了您的媒体播放器之外没有媒体播放器可以从中读取数据。当然，您还必须为这种格式开发一个解析器，因为 Android 的内置媒体类将无法播放它。

此外，请记住，有许多 Android 设备没有 IMEI，因此您可能需要使用蓝牙/WiFi MAC 地址。此外，您的用户可能会切换设备，突然间他们的音乐将不再播放。

# sql - SQL Server：重新排列主键 ID 以从 1 开始

> ID：15131453
> 
> 赞同：1
> 
> 时间：2013-02-28T09:06:44.403
> 
> 标签：sql, sql-server-2008

```
CREATE TABLE [dbo].[Customer](
    [CusNo] [nvarchar](20) NULL,
    [CusName] [nvarchar](100) NULL,
    [DateIn] [nvarchar](12) NULL,
    [Add1] [nvarchar](255) NULL,
    [TelNoH] [nvarchar](50) NULL,
    [TelNoHP] [nvarchar](11) NULL,
    [DisSR] [nvarchar](50) NULL,
    [DisSL] [nvarchar](50) NULL,
    [DisCR] [nvarchar](50) NULL,
    [DisCL] [nvarchar](50) NULL,
    [DisAR] [nvarchar](50) NULL,
    [DisAL] [nvarchar](50) NULL,
    [ReadSR] [nvarchar](50) NULL,
    [ReadSL] [nvarchar](50) NULL,
    [ReadCR] [nvarchar](50) NULL,
    [ReadCL] [nvarchar](50) NULL,
    [ReadAR] [nvarchar](50) NULL,
    [ReadAL] [nvarchar](50) NULL,
    [PD] [nvarchar](50) NULL,
    [R] [nvarchar](50) NULL,
    [L] [nvarchar](50) NULL,
    [Remarks] [nvarchar](255) NULL,
    [ConSR] [nvarchar](50) NULL,
    [ConSL] [nvarchar](50) NULL,
    [ConCR] [nvarchar](50) NULL,
    [ConCL] [nvarchar](50) NULL,
    [ConAR] [nvarchar](50) NULL,
    [ConAL] [nvarchar](50) NULL,
    [Lens] [nvarchar](50) NULL,
    [Frame] [nvarchar](50) NULL,
    [Amount] [nvarchar](50) NULL,
    [LastUserUpdate] [nvarchar](15) NULL,
    [LastUpdateDate] [nvarchar](max) NULL
) ON [PRIMARY] 
```

我正在使用 Microsoft SQL Server 2008，并且我有一个表`Customer`，其中`CustNo`列是主键。我有大约 30,000 行手动输入`CustNo`的 . 我想更新所有`CustNo`从 1 开始并不断增加 1 直到完成记录。

我必须使用什么 SQL 查询？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:09:12.527

您可以[`ROW_NUMBER`](http://msdn.microsoft.com/en-us/library/ms186734%28v=sql.105%29.aspx)在[CTE](http://msdn.microsoft.com/en-us/library/ms175972.aspx)中使用：

```
WITH CTE AS
(
   SELECT CusNo, RN = ROW_NUMBER() OVER (ORDER BY CusNo)
   FROM dbo.Customer
)
UPDATE CTE SET CusNo = RN 
```

[](http://www.sqlfiddle.com/#!3/50aab6/5/1)**带有简化模型的[**DEMO**](http://www.sqlfiddle.com/#!3/50aab6/5/1)**

 **但我也强烈建议遵循@marc_c 的建议来使用正确的数据类型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T15:43:58.057

> 是的，请遵循 marcs 的建议。还有一件事，确保您的列 cusno 是一个 Identity 列，这样您就不必再经历重新排列它的整个过程。**

# c# - 开放泛型的 DI 绑定是反模式吗？

> ID：15131458
> 
> 赞同：1
> 
> 时间：2013-02-28T09:07:05.350
> 
> 标签：c#, generics, dependency-injection, inversion-of-control, ninject

举个[例子](https://stackoverflow.com/questions/4370515/ninject-bind-generic-repository)：

```
Bind(typeof(IRepository<>)).To(typeof(Repository<>)); 
```

这对 NInject 有效，我的问题是这是否是滥用/反模式。

这样做的问题是您不能拥有 IRepository<> 类型的成员/参数变量，因此拥有此绑定实例的唯一方法是通过具有类型请求的工厂。IE

```
_kernel.Get(typeof(IRepository<>)); 
```

一种可能的探索途径可能是使用动力学；

```
public Foo(IRepository<dynamic> repository)
{} 
```

至少在这里我们有一个注入的构造函数参数，它遵循控制反转。

我之所以问上述问题，是因为我问了[另一个](https://stackoverflow.com/questions/15108358/implementing-a-service-locator-with-injected-variations-of-generic-type)关于开放泛型的问题；在这种情况下，以下...

```
public Foo(IEnumerable<IRepository<dynamic>> allRepoInstancesInjected) 
```

...似乎应该是可能的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T21:17:19.330

我认为您误解了开放通用绑定的工作原理。

您无法解析开放的泛型，`_kernel.Get(typeof(IRepository<>));`这只会引发异常。您也无法获得所有可能的封闭泛型的可枚举。或者您期望`IEnumerable<IList<T>>`返回什么？`IList`与地球上已经实现和将要实现的所有类组合的可枚举？

您可以使用它们来获得指定的封闭泛型。例如，而不是定义应用程序中使用的所有封闭泛型，例如：

```
Bind(typeof(IRepository<Foo>)).To(typeof(Repository<Foo>));
Bind(typeof(IRepository<Bar>)).To(typeof(Repository<Bar>));
Bind(typeof(IRepository<Baz>)).To(typeof(Repository<Baz>)); 
```

你只需定义一次

```
Bind(typeof(IRepository<>)).To(typeof(Repository<>)); 
```

然后您可以将它们作为封闭的通用依赖项

```
ctor(IRepository<Foo> fooRepository) 
```

我没有看到任何反模式 DI 的东西。如果通用存储库是反模式是另一个问题，但不是这个问题的一部分。

并且获得开放泛型的动态确实有效

```
ctor(IRepository<dynamic> dynamicRepository) 
```

# mysql - 合并2个具有相同行的mysql表

> ID：15131460
> 
> 赞同：2
> 
> 时间：2013-02-28T09:07:09.860
> 
> 标签：mysql, sql

我有 2 个具有相同行的 mysql 表，在这两个表上都缺少一些信息，现在我需要将这两个表合并为一个包含完整信息的表。

这是表格的样子：

表格1：

```
Name | Adres       | Postal
------------------------------
Koen | Stationsweg | 
     | Marktplein  | 4342FG 
```

表 2：

```
Name | Adres       | Postal
------------------------------
     | Stationsweg | 4368RT
Bert | Marktplein  | 
```

决赛桌需要如下所示：

```
Name | Adres       | Postal
------------------------------
Koen | Stationsweg | 4368RT
Bert | Marktplein  | 4342FG 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:09:31.490

```
SELECT  MAX(COALESCE(a.Name, b.name)) name,
        a.adres,
        MAX(COALESCE(a.postal, b.postal)) postal
FROM    table1 a
        LEFT JOIN table2 b
            ON a.adres = b.adres
GROUP   BY a.adres 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/28c60c/2)

如果您希望将上述查询的结果插入到另一个表上`table3`，请使用：`INSERT INTO...SELECT`

```
INSERT  INTO table3 (name, adres, postal)
SELECT  MAX(COALESCE(a.Name, b.name)) name,
        a.adres,
        MAX(COALESCE(a.postal, b.postal)) postal
FROM    table1 a
        LEFT JOIN table2 b
            ON a.adres = b.adres
GROUP   BY a.adres 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/10cd4/1)

# sql-server-2008 - 执行计划中的意外统计

> ID：15131462
> 
> 赞同：0
> 
> 时间：2013-02-28T09:07:11.517
> 
> 标签：sql-server-2008

从另一个 mssql 数据库（例如 db1）查询 mssql 数据库（例如 db2）中的视图执行速度非常慢（大约 2 分钟）。db1 和 db2 驻留在同一个 sqlserver 实例中。db2 中的视图用于对其进行查询。由于某些原因，视图无法被索引。似乎在查询计划中使用索引时，实际行数和预期行数差异很大。

但是从 db2 中执行类似的查询运行正常 - 大约 5 秒。实际和预期的行数相似。

重建索引似乎没有反映执行计划的变化（从 db1 查询 db2）。

所以，我的问题是 - 为什么统计数据如此不同？从 db1 运行时，查询优化器可能看不到 db2 的统计信息吗？

# java - 显示动态变化的 JTable 中选定行的值

> ID：15131464
> 
> 赞同：1
> 
> 时间：2013-02-28T09:07:14.853
> 
> 标签：java, swing, netbeans, jtable, jscrollpane

我必须在 Swing 中开发一个前端。我在 Netbeans 中有一个 JFrame，里面有 3 个窗格。

*   JScrollPane 1：它包含一个 JTable
*   JScrollPane 2：它应该显示所选行的字段的值
*   ListPane ：其中包含用户从中选择要显示的表的表列表。

现在，由于 JTable 的内容会根据用户选择的表动态变化（行和列的数量也不同），因此我无法在第三个滚动窗格中拖放 TextBoxes 以显示所选行的值。这会很有帮助如果有人可以建议一种方法或任何指向处理类似问题的问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T10:47:16.633

添加一个[`ListSelectionListener`](http://docs.oracle.com/javase/tutorial/uiswing/events/listselectionlistener.html)到您的`JList`. 从列表中选择特定表时，使用将您的表`setModel()`更改为适合所选表的表。[此处](https://stackoverflow.com/a/8260663/230513)显示了一个相关的使用示例。`TableModel``JTable``setModel()`

# jquery-ui - 如何更改 jquery ui datepicker 位置？

> ID：15131465
> 
> 赞同：16
> 
> 时间：2013-02-28T09:07:15.863
> 
> 标签：jquery-ui

是否可以更改[jQuery UI datepicker](http://jqueryui.com/datepicker/)`top`的`left`位置（获取当前值并更改它们）。请注意，我需要更改位置，而不是像其他示例中那样设置。`margin`

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-02-28T09:12:45.927

是的。由于始终只有一个日期选择器处于活动状态，因此您可以选择活动日期选择器：

```
var $datepicker = $('#ui-datepicker-div'); 
```

并改变它的位置：

```
$datepicker.css({
    top: 10,
    left: 10
}); 
```

**编辑**

哇，棘手的一个。如果您在 中设置 top 或 left 位置`beforeShow`，它会再次被 datepicker 插件覆盖。您必须将 css 更改放入`setTimeout`：

```
$("#datepicker").datepicker({
    beforeShow: function (input, inst) {
        setTimeout(function () {
            inst.dpDiv.css({
                top: 100,
                left: 200
            });
        }, 0);
    }
}); 
```

演示：http: [//jsfiddle.net/BWfwf/4/](http://jsfiddle.net/BWfwf/4/)

解释`setTimeout(function () {}, 0)`：[为什么 setTimeout(fn, 0) 有时有用？](https://stackoverflow.com/questions/779379/why-is-settimeoutfn-0-sometimes-useful)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-05-31T15:32:32.963

如果你真的被卡住了，你可以编辑你的 jquery-ui-[version].custom.js。控制压光机出现位置的函数是：

_findPos: function(obj) { var position, inst = this._getInst(obj), isRTL = this._get(inst, "isRTL");

```
 while (obj && (obj.type === "hidden" || obj.nodeType !== 1 || $.expr.filters.hidden(obj))) {
        obj = obj[isRTL ? "previousSibling" : "nextSibling"];
    }

    position = $(obj).offset();
    return [position.left, position.top];
}, 
```

我有一些自定义代码使用 CSS3 转换根据其宽度放大或缩小页面。这会抛出日历小部件所依赖的屏幕坐标。我在 _findPos 中添加了一些自定义代码来检测和处理缩放级别。修改后的代码如下所示：

```
_findPos: function(obj) {
    var position,
        inst = this._getInst(obj),
        isRTL = this._get(inst, "isRTL");

    while (obj && (obj.type === "hidden" || obj.nodeType !== 1 || $.expr.filters.hidden(obj))) {
        obj = obj[isRTL ? "previousSibling" : "nextSibling"];
    }

    position = $(obj).offset();
    /* Custom Code for Zoom */
    var zoomLevel = 1;
    var minW = 1024;
    if ($(window).width() > minW)
               { zoomLevel = $(window).width() / minW;}
    return [position.left, position.top/zoomLevel];
}, 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-11-27T09:51:26.947

可能是一个老问题，但今天我自己遇到了这个问题，无法得到其他建议。或者修复它（使用`.click(function(){}`）并想添加我的两分钱。

我有一个带有 id 的输入字段`sDate`，单击该字段时会显示日期选择器。

我为解决这个问题所做的就是在该`#sDate`字段中添加一个点击例程。

```
$('#sDate').click(function(){  //CHANGE sDate TO THE ID OF YOUR INPUT FIELD 
    var pTop = '10px';  //CHANGE TO WHATEVER VALUE YOU WANT FOR TOP POSITIONING
    var pLeft = '10px';  //CHANGE TO WHATEVER VALUE YOU WANT FOR LEFT POSITIONING
    $('#ui-datepicker-div').css({'left':pLeft, 'top':pTop});
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-01-19T22:14:25.630

只要您在代码中调用 datepicker 后运行它，您的解决方案就可以工作，我之前尝试调用它但它不起作用，所以我试图了解它是如何为您工作的。

我已经在固定在页面顶部滚动的输入字段的上下文中调整了日期选择器。datepicker 丢失了......这是我在 datepicker 上下文中适应的示例代码，它变得动态固定：

w3schools.com 上的示例：[https ://www.w3schools.com/howto/howto_js_sticky_header.asp](https://www.w3schools.com/howto/howto_js_sticky_header.asp)

HTML：

```
 <div class="padding-16 center" id="resa_nav">
      <div style="margin: 24px 0 0;">
            <label for="date_selector"
            class="text-gray">Choose a date</label>
            &nbsp;
            <input type="text" id="date_selector" name="date_selector" class="padding-small">
       </div>
   </div> 
```

CSS：

```
.sticky {
position: fixed;
top: 0;
width: inherit;
background: white;
box-shadow: 0px 0px 7px 4px #69696969;
} 
```

JS：

```
// init datepicker
$('#date_selector').datepicker();

// When the user scrolls the page, execute myFunction
window.onscroll = function() { myFunction() };

// Get the header
var header = document.getElementById('resa_nav');

// Get the offset position of the navbar
var sticky = header.offsetTop;

// Add the sticky class to the header when you reach its scroll position. Remove "sticky" when you leave the scroll position
function myFunction() {

        if (window.pageYOffset > sticky) {

                // set block sticky
                header.classList.add('sticky');

                // adjust datepicker position
                // attach a namespace for unbind click later in "non-sticky" context
                $('#date_selector').on('click.sticked', function(){

                        var top = '10px';
                        var left = '10px';

                        $('#ui-datepicker-div').css({'left': left, 'top': top});
                });

        }
        else {

                // remove sticky
                header.classList.remove('sticky');

                // unbind the second event 'click' for retrieve the 
                // default of settings in "non-sticky" context
                $('#date_selector').off('click.sticked');
      }
}
// END FUNCTION 
```

希望有所帮助！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-06-02T05:59:31.787

只需为 datepicker 添加如下 css

```
.datepicker {
    top: -150px; 
    /* adjust value as per requirement. if not work try with addin !important*/
} 
```

# events - Ctrl+单击或右键单击使用 Chrome 的网站？

> ID：15131471
> 
> 赞同：2
> 
> 时间：2013-02-28T09:07:26.657
> 
> 标签：events, google-chrome, click

我有一个 Web 应用程序，它在 Firefox 和 IE 上运行良好，但在 Chrome 等 Webkit 浏览器中却不行。

此应用程序使用了两个点击事件，它们不适用于 Chrome：

*   `Ctrl + Left-Click`用于选择表中的记录
*   `Right-Click`用于打开上下文菜单

就像点击事件根本没有被触发......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:27:00.517

## 右键点击：

```
document.body.addEventListener('contextmenu', function(ev) { 
    alert('show your custom context menu'); 
    return false; 
}, false); 
```

* * *

## Ctrl + 左键单击：

```
document.body.addEventListener('click', function(ev) {
    if(ev.ctrlKey) {
        alert('select single table cell');
    }
}, false); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:21:11.153

老实说，最好使用 Jquery，我更喜欢这样的东西来捕捉右键并摆脱浏览器兼容性问题

```
$('#elementtobeClicked').mousedown(function(event) {
    switch (event.which) {
        case 1:
            alert('Left mouse button ?');
            break;
        case 2:
            alert('Middle mouse button ?');
            break;
        case 3:
            alert('Right mouse button ?');
            break;
        default:
            alert('You have a micky mouse !');
    }
}); 
```

或者

```
$('#elementtobeClicked').bind("contextmenu",function(e){
   alert('Context Menu ?');
   return false;
}); 
```

在 jquery 上玩得开心

必须经过 **event.shiftKey && event.ctrlKey**

# c# - 如何在 asp.net c# 上制作真正的 XLS 文件？

> ID：15131472
> 
> 赞同：5
> 
> 时间：2013-02-28T09:07:27.843
> 
> 标签：c#, asp.net, excel

我有这段代码可以在 .xls 文件中将表提取到计算机：

```
// I have a string which contains HTML table codes, named as excelTable

HttpResponse response = HttpContext.Current.Response;
response.Clear();
response.AddHeader("Content-Disposition", String.Format("Attachment;Filename=file.xls", ));
response.Buffer = true;
response.ContentEncoding = System.Text.Encoding.Default;
response.ContentType = "application/vnd.ms-excel";
response.Write(excelTable);
response.End(); 
```

而且我已经看到这不是一个真正的 .xls 文件。我可以在记事本中打开它并查看我的标准 html 表格代码。

现在我明白定义`ContentType`是不够的。那么我还能做些什么来生成纯 .xls 或 .xlsx 文件？或者我是否应该使用 OpenXML、Interop 等 Excel 库？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T09:11:17.840

*实际*的 XLS/XLSX 数据必须发回 - 即使用库（例如[EEPlus](http://epplus.codeplex.com/)）或其他合适来源生成的数据。

这种常见的破解/方法之所以有效，是因为 Excel“知道如何阅读 HTML”。它实际上*并没有*将 HTML 转换为 XSL/XLSX，尽管它可以在Excel 加载后另存为*新的电子表格。*

更改内容类型不会对*数据*产生影响，而是会有效地阻止这种方法的工作：内容类型用于关联将用于打开/读取数据的程序（即 Excel）。

所以是的：要生成*真正的*XLS/XLSX 文档，请使用库。

# phpstorm - PhpStorm 中的多个窗口

> ID：15131476
> 
> 赞同：21
> 
> 时间：2013-02-28T09:07:36.550
> 
> 标签：phpstorm

PhpStorm 中是否可以有多个窗口（对于同一个项目）？如果是，如何？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-02-28T14:27:18.300

PhpStorm 每个项目仅支持一帧。

请注意，您可以将编辑器选项卡拖到主窗口之外，为编辑器创建另一个窗口。如果您愿意，工具窗口面板也可以分离并移动到第二个显示器。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2017-02-22T14:12:02.187

您可以选择`Split Horizontally`或`Split Vertically`从`Windows`菜单！

由于它们非常有用，您可以放置​​两个快捷方式以更轻松地使用它们。我将*option* + *1*用于垂直拆分，将*option* + *shift* + *1*用于水平拆分。

**更新** 2017 版本中，`Split Horizontally`和`Split Vertically`选项位于`Windows`>`Editor Tabs`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-05-30T00:14:23.257

我打算在 Nima Ghaedsharafi 的帖子上添加这个作为评论。'''Split Horizo​​ntally''' 和 '''Split Vertically''' 的路径在版本中看起来是 '''Window > Editor Tabs > Split ...'''。2017.1.4

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-05-31T12:34:22.440

对于那些尝试为水平拆分或垂直拆分按钮添加快捷键的人的注意事项：

从 2017.3.4 开始，您可以通过转到设置 -> 键盘映射 -> 主菜单 -> 窗口 -> 编辑器选项卡 -> 垂直/水平拆分来添加快捷方式。

这仍然适用于版本 2019.2

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-12-29T22:18:55.280

您可以[拆分编辑器窗口](https://www.jetbrains.com/phpstorm/help/splitting-and-unsplitting-editor-window.html) *，但我不确定这是否是您所要求的*。

# c# - 以管理员身份启动进程

> ID：15131481
> 
> 赞同：0
> 
> 时间：2013-02-28T09:07:41.007
> 
> 标签：c#, wpf

我有一个应用程序（称为“启动器”），我可以在其中启动其他应用程序

其中一个应用程序需要管理员权限。如果我尝试从启动器启动它，我会得到一个异常，这表明我需要更高的权限。

从 Launcher 启动应用程序的代码如下所示：

```
try
{
   ProcessStartInfo startInfo = new ProcessStartInfo(PATH, ARGUMENT)
      {
         WorkingDirectory = WORKINGDIRECTORY
      };
   Process.Start(startInfo);
}
catch(Exception ex)
{
   MessageBox.Show(ex.Message);
} 
```

如果我启动启动器一切正常。但我不想每次都以管理员身份启动 Launcher。

如何从非管理员进程以管理员身份启动新进程？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:20:59.660

您的应用程序需要是管理员，或者您需要提供用户名密码。对于用户名/密码方法，请参阅：

[https://groups.google.com/forum/?fromgroups=#!msg/microsoft.public.dotnet.languages.csharp/u5YuEz416R8/1oTRvUUzKj4J](https://groups.google.com/forum/?fromgroups=#!msg/microsoft.public.dotnet.languages.csharp/u5YuEz416R8/1oTRvUUzKj4J)

这有更多您正在寻找的方法，但它不是您可能喜欢的一小段代码。

[Process.Start 使用 UAC 开启不同的凭据](https://stackoverflow.com/questions/2313553/process-start-with-different-credentials-with-uac-on)

否则，将其添加到您的应用清单文件中。

```
 <requestedExecutionLevel level="requireAdministrator" uiAccess="false" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:24:40.120

创建一个具有管理员权限的帐户，然后使用管理员帐户的相应值填充实例上的`UserName`和`Password`属性。`ProcessStartInfo`

# python - 你将如何组织你的数据结构以在 Python 中快速获取最后一个过期项目？

> ID：15131483
> 
> 赞同：0
> 
> 时间：2013-02-28T09:07:47.257
> 
> 标签：python

[我想创建一个以这种方式](https://stackoverflow.com/questions/3927166/automatically-expiring-variable)存储具有到期日期的数据（到期数据的格式可以更改：时间戳、日期对象、时间增量等）的进程。

使用计时器，我希望定期删除已过期的数据。

如果我有一千个有过期日期的元素，我应该使用什么样的数据结构来快速插入、查找和删除？

我的第一个想法是使用 UTC 时间戳和[heapqueue](http://docs.python.org/2/library/heapq.html?highlight=heap#heapq)。性能非常好，但它仍然是 O(log(n))，所以它会随着项目的数量而增加。

redis / memcache 做了什么来为这些操作提供 O(1) ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:14:41.867

基本上有两种方法应该结合起来 - 命中和未命中 + 清理所有数据（以“离线”方式 - 而不是在请求期间）。

在内存

> Memcache 不会在过期时间到期时驱逐密钥，因为这样做是不可能的，同时仍保证 O(1) 操作时间。相反，过期更像是一种说明密钥应该被视为过时的时间。执行 GET 时，Memcache 在返回之前检查密钥的过期时间是否仍然有效。

在 redis 上

> Redis 密钥以两种方式过期：被动方式和主动方式。仅当某些客户端尝试访问密钥并且发现密钥超时时，密钥才会主动过期。当然这还不够，因为有过期的密钥将永远不会被再次访问。无论如何，这些密钥都应该过期，因此 Redis 会定期在设置过期的密钥中随机测试几个密钥。所有已经过期的键都会从键空间中删除。

旁注 - 概率方法万岁

以下是关于[memcache](http://www.memcachier.com/documentation/memcache-user-guide/)和[redis的参考资料](http://redis.io/commands/expire)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T02:41:09.207

您是否按顺序插入具有到期日期的数据？如果是这样，堆队列将比线性队列慢，在线性队列中插入 O(1)，弹出 O(1)。

# css - 使用 css/sass 缩放精灵

> ID：15131485
> 
> 赞同：0
> 
> 时间：2013-02-28T09:08:00.840
> 
> 标签：css, sass, compass-sass

我正在使用 sass 图像精灵和 span 标签来创建图像。我现在在调整这些图像的大小时遇到​​问题。似乎 using`background-size`以某种方式适用于整个精灵图集，而不仅仅是所选精灵。

如何调整精灵图像的大小？

示例代码，我设置这样的精灵：

```
@import "compass/utilities/sprites/sprite-img";
@import "icons/*.png";
@include all-icons-sprites; 
```

然后我将它们与类标签一起使用，或者我创建新类，直接在 scss 文件中提及它们：

```
.more span.right-icon {
  @include icons-sprite('item-more');
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:24:37.340

没有办法解决它 - 图像被视为一个整体，精灵只是逻辑内部指南。

但是，您可以`image-position`根据您`background-size`分别应用的任何更改重新计算 。

# python - Python IP解析

> ID：15131492
> 
> 赞同：2
> 
> 时间：2013-02-28T09:08:18.583
> 
> 标签：python, parsing, ip

我正在使用 SIEM，需要能够从相对较大的文件中解析 IP 地址。他们没有一致的字段，因此“剪切”不是一种选择。我正在使用修改后的 python 脚本来删除除 az AZ 0-9 和句点“。”之外的所有字符。以便可以正确解析文件。问题是这不适用于我的 SIEM 文件。如果我有一个看起来像“192.168.1.2!@#$!@%@$”的文本文件，那很好，它会正确删除我不需要的所有字符，并将 IP 输出到新文件. 问题是，如果文件看起来像这样“192.168.168.168@#$% 这是一个测试”，它会在删除异常字符的第一阶段后不理会它。请帮忙，我不知道为什么会这样。这是我的代码：

```
 #!/usr/bin/python
    import re
    import sys

    unmodded = raw_input("Please enter the file to parse. Example: /home/aaron/ipcheck: ")
    string = open(unmodded).read()
    new_str = re.sub('[^a-zA-Z0-9.\n\.]', ' ', string)
    open('modifiedipcheck.txt', 'w').write(new_str)

    try:
        file = open('modifiedipcheck.txt', "r")
        ips = []
        for text in file.readlines():
            text = text.rstrip()
            regex = re.findall(r'(?:[\d]{1,3})\.(?:[\d]{1,3})\.(?:[\d]{1,3})\.(?:    [\d]{1,3})$',text)
            if regex is not None and regex not in ips:
                ips.append(regex)
         for ip in ips:
            outfile = open("checkips", "a")
            combine = "".join(ip)
            if combine is not '':
                print "IP: %s" % (combine)
                outfile.write(combine)
                outfile.write("\n")
     finally:
            file.close()
            outfile.close() 
```

有人有想法么？提前非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:13:36.777

您的正则表达式以 结尾`$`，这表明它希望该行在该点结束。如果删除它，它应该可以正常工作：

```
regex = re.findall(r'(?:[\d]{1,3})\.(?:[\d]{1,3})\.(?:[\d]{1,3})\.(?:[\d]{1,3})', text) 
```

您还可以进一步简化正则表达式本身：

```
regex = re.findall(r'(?:\d{1,3}\.){3}\d{1,3}', text) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:15:20.730

这就是我认为正在发生的事情。您有一个查找乱码并用空格替换它们的模式。当您有一个 IP 地址后只剩下垃圾时，垃圾会变成空格，然后当您剥离字符串时，空格就消失了，只剩下您想要匹配的地址。

您的模式以 a 结尾，`$`因此它锚定到行尾，因此当地址是行中的最后一件事时，它匹配。

当您有`this is a test`非垃圾字符时，strip 不会删除它们，则`$`意味着 IP 地址不匹配。

# ruby - 为什么 Thor 采用 no_tasks 方法？

> ID：15131493
> 
> 赞同：6
> 
> 时间：2013-02-28T09:08:20.760
> 
> 标签：ruby, thor

或者，更具体地说：我不能只使用私有方法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-01T06:44:02.860

据我了解，Thor 它具有将方法标记为[无任务](http://textmate.rubyforge.org/thor/Thor/Base/ClassMethods.html#M000044)的方法，因为方法是任务的概念与方法的[可见性](http://www.ruby-doc.org/docs/ProgrammingRuby/html/tut_classes.html#S4)概念不同。他们需要有所区别，因为他们从事不同的工作。

该类的子类的每个方法（与其可见性无关）都`Thor`被视为一个任务，除非它被明确标记为无任务。通过控制任务的可见性，您可以控制对该任务的访问，例如，如果您将任务设为私有，则子类或用户不能直接调用它。访问控制与某事是否为任务不同。不是任务的方法不能被 Thor 直接调用，它们不能有[选项](https://github.com/wycats/thor/wiki/Method-Options)。

这里有一个例子来说明。下面`SuperClass`继承了来自的任务`baseTask`和方法。请注意，如果任务被标记为私有，它将不会被继承，但仍会被继承。`this_is_not_a_task``BaseClass``baseTask``SuperClass``this_is_not_a_task`

```
require 'thor'

class BaseClass < Thor
  method_options :force => :boolean, :alias => :string

  desc 'baseTask', 'Base task'
  def baseTask
    puts this_is_not_a_task("base")
  end

  no_tasks do
    def this_is_not_a_task(s)
      s.upcase
    end
  end

  # private :baseTask
end

class SuperClass < BaseClass
  desc 'superTask', 'Super task'
  def superTask
    puts this_is_not_a_task("super")
  end
end

SuperClass.start(ARGV) 
```

# java - 将 Jar 文件与 -classpath JAVA 结合使用

> ID：15131498
> 
> 赞同：0
> 
> 时间：2013-02-28T09:08:31.720
> 
> 标签：java, jar, classpath

我有一个关于编译在 Jar 文件 ( `MyJar.jar`) 中有一些依赖类的类的问题。通过将目录树放在 -classpath 选项中（例如：）`javac -cp MyJar MyClass.java`，将检查所有子目录的类还是只检查目录树中的顶级类？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T10:09:40.820

`-cp`将递归搜索指定的目录：否

当类加载器进入类路径中指定的目录时，它开始使用`package`类所在的子目录作为子目录。如果未指定包，则类加载器将期望它位于目录的直接子项（类文件）下。

它是`-cp`direcoties/jars 和`package name`.

假设您有以下目录结构

```
+ Project
    sayhello.jar
    + dir
        + sub
            + com
                + test
                    SayHelloMain.java 
```

类的代码在哪里`SayHelloMain.java`（**注意包声明**）

```
package com.test;

import miscellaneous.so.SayHello;

public class SayHelloMain {
   public static void main(String[] args) {
       SayHello.sayIt();
   }
} 
```

`sayhello.jar`以及包含该类的 jar 文件`SayHello`

`SayHelloMain`如果在与 java 源文件相同的目录中打开命令行，这就是您必须编译类的方式

```
javac SayHelloMain.java -cp ..\..\..\..\sayhello.jar 
```

或者如果命令行在目录中打开`Project`

```
javac dir\sub\com\test\SayHelloMain.java -cp sayhello.jar 
```

假设您在目录中打开了一个命令行`Project`

这就是您可以运行课程的方式`SayHelloMain`

```
java -classpath dir\sub;sayhello.jar com.test.SayHelloMain 
```

类名必须是**完全限定**的，因此`com.test.SayHelloMain`

命令

```
java -classpath dir;sayhello.jar com.test.SayHelloMain 
```

不会工作，因为`dir`没有递归搜索目录

命令

```
java -classpath dir;sayhello.jar sub.com.test.SayHelloMain 
```

也不会工作，因为没有这样的包`sub.com.test`。包只是在类的包声明中定义的包

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:25:20.913

如果您的目录树代表包，那么您的所有类都将被加载并可用。

例如，下面的类：

```
package my.company.project;

public class MyClass {
    public static void main(String[] args) {}
} 
```

应该在文件夹*my/company/project*中才能使用。

# html - Highcharts addPoint：无法获取属性“addPoint”的值：对象为空或未定义

> ID：15131500
> 
> 赞同：1
> 
> 时间：2013-02-28T09:08:47.750
> 
> 标签：html, highcharts

我写了以下代码：

```
$(function instituciju_sprendimu_priemimo_palyginimas() {
var chart;    
$(document).ready(function () {     
    // Build the chart
    chart = new Highcharts.Chart({
        chart: {
            renderTo: 'container6',
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false
        },
        title: {
            text: 'Institucijų sprendimų priemimo statistika'
        },
        tooltip: {
            pointFormat: '{series.name}: <b>{point.percentage}%</b>',
            percentageDecimals: 1
        },
        plotOptions: {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                    enabled: false
                },
                showInLegend: true
            }
        },
        series: [{
            type: 'pie',
            name: ' ',
            data: []
        }]
    });
    chart.series[0].addPoint(['test1',100]);             
    chart.series[0].addPoint(['test2',200]);
});    
}); 
```

我收到以下错误：

> addPoint：无法获取属性“addPoint”的值：对象为空或未定义。

我知道，我的问题可能很愚蠢，但我只是一个新手。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T11:10:21.420

看看例子： http: [//jsfiddle.net/WyDH8/](http://jsfiddle.net/WyDH8/)效果很好。另外我建议将 addPoint 函数放置在回调 Highcharts 中，这样你就可以避免空对象。

[http://jsfiddle.net/WyDH8/1/](http://jsfiddle.net/WyDH8/1/)

```
 chart = new Highcharts.Chart({ 
       //parameter...
    },function(chart){

            chart.series[0].addPoint(['test1', 100]);
            chart.series[0].addPoint(['test2', 200]);

    }); 
```

# python - 将列表传递给瓶中的模板

> ID：15131501
> 
> 赞同：2
> 
> 时间：2013-02-28T09:08:47.927
> 
> 标签：python, list, wsgi, template-engine, bottle

我有一个列表，其中包含作为元组列表的帖子信息（列表由元组组成），但我遇到了如何将其传递给瓶中模板的问题，我尝试了很多，并检查了 stackoverflow 中的大多数问题，我找不到一个好的和明确的问题。

这是我尝试过的：

```
@route('/v/:name')
def page_viwer(name):
    id=db.searchU('user', name)
    result=db.searchU_forG(id[0][0])
    if len(result)>0:#if we got posts 
        return template('v',post=result) 
```

这是`v.tpl`

```
<html>
%for post in res:
    %for id, title, dec, pic,not_needed in post:
        <h3>{{id}}</h3>
        <h3>{{title}}</h3>
        <h3>{{dec}}</h3>
        <h3>{{pic}}</h3>
        <br/>
%end
</html> 
```

当我尝试这个时，我得到了错误 500 ...当我检查日志时，这就是原因：

`%for id, title, dec, pic in post: TypeError: 'int' object is not iterable`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T09:59:42.380

我已经四处挖掘，发现这很好用而且很棒..

```
<html>

<table>
  %for item in res:
    title:{{item[1]}}
    <br/>
    Decription:{{item[2]}}
    <br/>
    Picture:{{item[3]}}
    <br/>
    posted by:{{item[4]}}
    <br/>
    <br/>
  %end
</table>

</html> 
```

# javascript - 如何在 WebView 和 JavaScript 之间进行通信？

> ID：15131502
> 
> 赞同：3
> 
> 时间：2013-02-28T09:08:58.140
> 
> 标签：javascript, android, sqlite, android-layout, android-webview

我正在开发本机应用程序。我的应用程序有一个`WebView`. 我想记录这个`WebView`组件的*每一个动作*。单击了哪个按钮，拖动了哪个图像。之后，我将记录那些我想存储在 SQLite 中的东西。

所以，我用谷歌搜索并找到`WebAppInterface`了哪些通信 Java 和 JavaScript。但这种交流是不够的。我无法从`WebAppInterface`课堂上发送数据库。

我实际上想问[这个问题](http://youtu.be/HbOtn5VhGZU?t=46m)（分钟`46:00`）。

是否可以？或者，另一种解决方案？

问候，

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-28T09:18:31.693

您应该像这样将javascript界面​​添加到您的webView：

`webView.addJavascriptInterface(new JavascriptInterface(this), "AndroidFunction");`

您应该创建接口类：

```
public class JavascriptInterface{
Context mContext;

    JavascriptInterface(Context c) {
        mContext = c;
    }

    public void save(String action){
        // save to database
    }
} 
```

在网站上，您应该致电：

```
AndroidFunction.save("actionName"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-06-11T16:37:40.457

官方链接：http: [//developer.android.com/reference/android/webkit/WebView.html](http://developer.android.com/reference/android/webkit/WebView.html)

```
 class JsObject {
        @JavascriptInterface
        public String toString() { return "injectedObject"; }
 }
 webView.addJavascriptInterface(new JsObject(), "injectedObject");
 webView.loadData("", "text/html", null);
 webView.loadUrl("javascript:alert(injectedObject.toString())"); 
```

------------------------------------------- 必须 API>17

我的调整，HTML，jsobj.html：

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
            <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
            <head>
                <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                <title>Hello TEST JS</title>
            </head>

            <body style="background: white; font-family: Helvetica">

                <script type="text/javascript">
                document.write(AndroidFunction.show());
                AndroidFunction.save("abc");
                </script>
            </html> 
```

安卓：

```
web.addJavascriptInterface(new JsObject(), "AndroidFunction");

           ...

     class JsObject{
         @JavascriptInterface           
         public void save(String action){
             L.d("action:"+action);
         }

          public String show(){
                 return "Hello Android";
             }
     } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:15:34.700

你有没有看过 PhoneGap 和 Cordova 插件？Cordova 插件在 Java 到 webview 和 webview 到 Java 之间提供了非常强大的通信。并且已经有一些关于记录数据的开源插件，您可以将其嵌入到您的应用程序中。

看看这个链接：[Cordova Plugin](http://cordova.apache.org/docs/en/2.4.0/guide_plugin-development_android_index.md.html#Developing%20a%20Plugin%20on%20Android)

# jquery - 使用带有锚标记触发器的 jquery 使 div 出现

> ID：15131514
> 
> 赞同：0
> 
> 时间：2013-02-28T09:09:23.563
> 
> 标签：jquery, html, css

嘿，所以我想知道如何让网页的一部分向下滑动，露出它后面的另一个 div。我希望这个触发器是点击一个标签（虽然如果这不可能，那么我可以改变它......）

我将如何构建它以及什么 jquery 和 CSS 是合适的？我在 HTML 和 CSS 方面有经验，但在 jquery 方面几乎没有。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:19:57.727

如果您想使用相同的按钮显示和隐藏它，请使用`slideToggle()`而不是 slideDown：

```
$("#link").click(function(){
    $("#div").slideToggle();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:14:23.227

供您玩的简单示例：

```
<a id="myLink">Click me</a>
<div id="mySlider">Tada!</div> 
```

JS：

```
$(function() {
    $('#myLink').click(function() {
        $('#mySlider').slideDown();
    });
}); 
```

[http://jsfiddle.net/samliew/txcbA/](http://jsfiddle.net/samliew/txcbA/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:31:13.250

只需使用 $("#div").slideToggle();

使用在锚标记的点击事件上触发的功能。

```
$(function()
  {
      $('#dropIt').click(function(e)
        {
            e.preventDefault();
            $('.dropdown').slideToggle(2000);
        });
  }); 
```

这是参考：[演示](http://jsfiddle.net/GpCBy)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T09:30:28.790

JS

```
$('.tag').click(function(){
    ($('#top').css("margin-top")=="0px") ? $('#top').animate({marginTop:"100px"},500) : $('#top').animate({marginTop:"0px"},500); 
}); 
```

创建了一个带有工作演示的 jsFiddle - [http://jsfiddle.net/Kh3GE/](http://jsfiddle.net/Kh3GE/)

享受

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T09:18:24.223

您可以在锚标记内使用 onclick 属性，类似于以下内容：

```
<a id="mydiv" onclick=myfunction()>text</a> 
```

然后在 html 文档头部的脚本标签内，定义 myfunction()。myfunction() 将显示嵌套的 div，最初将设置为隐藏 - 可能使用 css。

```
myfunction()
{
    $('#nested_div').show();
} 
```

这是假设嵌套 div 的 id 是“nested_div”。您还必须确保 jquery 库是 1）通过 html 页面链接的，并且 2）位于指定的路径。

希望这可以帮助。

# javascript - jQuery .live、click、bind 等使用哪个

> ID：15131521
> 
> 赞同：2
> 
> 时间：2013-02-28T09:09:38.807
> 
> 标签：javascript, click, jquery

这可能听起来“愚蠢”，但我有一个简单的日历，它像这样加载到页面上：

```
jQuery('#calendar .show_hide').load('plugins/calendar.html', function(){ // do something // }); 
```

这不是问题

日历有 2 个链接，应该滚动浏览月份 - 典型的 next prev 链接。所以在我的加载函数里面我有这个

```
jQuery('#calendar .show_hide').load('plugins/calendar.html', function(){
   jQuery('a.month_change').on('click',function(){  
    jQuery.ajax({
      type: "post",
      data: jQuery(this).attr('href').replace('#',''),
      url:  'plugins/calendar.html',
      success:function(msg){
        jQuery('#calendar .show_hide').html(msg);
                  }
    });
});

}); 
```

其中 a.month_change 是附加到 prev/next 链接的类。Ajax 帖子发送数据并返回 html。到目前为止，一切都很好。

第一次单击 a.month_change 它可以工作，但之后每次都不会加载页面。如果我尝试`.live('click;,function ...`第一次没有任何反应，也没有其他任何反应。

我总是对这些事情感到困惑，这是动态加载页面然后让 ajax 调用/链接等始终有效的正确方法。注意动态加载和ajax接收页面是同一个页面——plugins/calendar.html，JQ版本是jquery-1.9.0

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:11:57.803

Live 自 1.7 起已弃用并在 1.9 中删除，您必须像这样使用它

```
$(document).on('click','selector',function(){

}); 
```

如果你有一个更接近的，你应该使用最接近的静态元素而不是文档。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T09:11:25.750

`live()`已折旧，您应该改用该`on()`功能。

```
$(document).on('click','selector',function(){

}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T09:14:14.847

这里的答案都没有有效地向您展示如何使用它，或者文档，所以你去吧。

```
jQuery(document).on('click', 'a.month_change', function(){ 
    jQuery.ajax({ 
        type: "post", 
        data: jQuery(this).attr('href').replace('#',''), 
        url: 'plugins/calendar.html',             
        success:function(msg){ 
            jQuery('#calendar .show_hide').html(msg); 
        } 
    }); 
}); 
```

我们定位的第一个元素是页面加载期间存在的静态元素，然后是我们希望捕获的事件，然后是应该绑定事件的元素。这是较新版本的 jQuery 中的事件委托。您不需要使用`.live()`, 或`.bind()`.

[这是 jQuery 的 .on() 的文档](http://api.jquery.com/on/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T09:23:06.697

由于其他答案都没有解决您提出的问题：

> 第一次单击 a.month_change 时它可以工作，但之后每次都没有加载页面

那么让我试着解释一下……

您的代码实际上是在进行两个 AJAX 调用，一个来自`.load()`，一个来自`.ajax()`

导致单击事件仅触发一次的问题是因为您要替换`.ajax()`调用成功处理程序中的日历 HTML，`jQuery('#calendar .show_hide').html(msg);`从而替换`a.month_change`您之前绑定单击处理程序的元素。

修复方法是将单击事件绑定移动到页面中*未被*任何 AJAX 调用替换的元素上。

例如在`#calender`元素上：

```
jQuery('#calendar').on('click', 'a.month_change', function(){ ... }); 
```

因此，您可以替换其中的所有内容，`#calendar`并且单击事件仍将被捕获，然后由静态祖先元素上的单击处理程序进行过滤。

正如其他答案所提到的，`.live()`在 v1.9 中已删除，您使用的是正确的`.on()`方法，但只是在错误的位置。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T09:11:27.113

使用`.on()`，因为它也适用于动态添加`DOM`的 .

`.live()`已从新版本中弃用。

[运行测试](http://jsperf.com/bind-vs-live-vs-delegate-vs-on/5)

尝试

```
<script type="text/javascript">

    $(function()
    {
        jQuery('a.month_change').on('click',function()
        {
            jQuery.ajax(
            {
                type: "post",
                data: jQuery(this).attr('href').replace('#',''),
                url:  'plugins/calendar.html',
                success:function(msg)
                {
                    jQuery('#calendar .show_hide').html(msg);
                }
            });
        });

        jQuery('#calendar .show_hide').load('plugins/calendar.html', function()
        {

        });    
    });

</script> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-28T09:16:14.987

我更喜欢并建议您使用`on()`..您可以查看这篇[文章](http://jq4you.blogspot.com/2013/02/jquery-direct-and-delegate-on-event.html)以了解有关`on`直接和委托方法的更多信息....

```
$(document).on('click','yourselector',function{....}); 
```

这将单击事件委托给始终为静态的文档。并找到将事件放在上面的选择器。但是，始终首选使用最接近的静态元素，因为文档性能不佳。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-28T09:17:48.683

`.click`并且`.bind`在页面加载期间与当前存在于 DOM 中的 dom 元素绑定。

`.live`是一种用于为**元素**附加事件的方法，该事件可能**稍后由 Ajax 或 Javascript 填充到 DOM 中**。但是 .live 存在与**性能**相关的重大**问题**。

 **为了克服这一点`$.delegate`，在 DOM Hierarchy 中引入了更好的性能。

使用最新的 Jquery 1.7 或更高版本`.on`，用于将事件绑定到元素（运行时），只要元素将被填充到 DOM 中。它提高了性能然后 .live 您可以在此站点 [http://api.jquery.com/live/](http://api.jquery.com/live/)上获得更多信息，这 将提供给 jQuery 事件绑定的现场

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-02-28T09:11:42.647

最好是使用 Jquery`on`方法。.live() 已从新版本中弃用。

例如；

```
$('#yourElement').on('click',function(){}); 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-02-28T09:12:36.290

尝试

```
$(parentcontainer).on('click',elementtoclick,function(...){....}); 
```

通常以这种方式绑定解决了我对新 HTML 内容的问题**

# java - Android 4.1 和隐藏的“多用户”。在锁定屏幕上需要用户切换器

> ID：15131525
> 
> 赞同：1
> 
> 时间：2013-02-28T09:09:58.863
> 
> 标签：java, android

我有 swither 的活动，但如何将其放入（或替换）锁定屏幕？

当我尝试从 BroadcastReceiver 启动切换器活动时，我收到了 java.lang.RuntimeException。

```
} else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {
    Log.d(Tag, "unLock Screen");
    Intent lsIntent = new Intent(context, LockScreenActivity.class);
    context.startActivity(lsIntent);
} 
```

# github - 将新博客文章推送到 github 时出现“页面构建失败”

> ID：15131526
> 
> 赞同：6
> 
> 时间：2013-02-28T09:10:00.597
> 
> 标签：github, jekyll

我有一个使用 jekyll bootstrap 托管在 github 上的博客。它已经工作了一段时间，但是我最近一次尝试发布新的博客页面，但未能推送到 github：

> 页面构建失败，出现以下错误：
> 
> 页面构建失败
> 
> 有关 Jekyll 故障排除的信息，请参阅 [https://help.github.com/articles/using-jekyll-with-pages#troubleshooting](https://help.github.com/articles/using-jekyll-with-pages#troubleshooting) 如果您有任何问题，请联系 GitHub 支持。

我尝试删除最近添加的帖子，以便与“实时”版本保持一致，并且我已经在`jekyll --safe`本地运行（没有问题）。我可以`jekyll --server`在本地运行和运行该站点，一切都很好，但是当我推送它时，没有任何乐趣。我已经删除了我的 jekyll gems 及其依赖项，并使用与 github 使用的版本匹配的版本重新添加，也没有任何乐趣。

在我恢复删除整个博客并重新开始之前，任何人都可以提出其他尝试吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-05T13:46:21.300

修复。

出于某种原因，我的帖子中的类别被方括号括起来，代表一个集合 - 这不再受支持（可能它从未受支持，但让我侥幸逃脱）。改变了这一点，现在一切正常。

# maven-3 - 目标“复制依赖项”不会复制父 pom

> ID：15131527
> 
> 赞同：2
> 
> 时间：2013-02-28T09:10:04.427
> 
> 标签：maven-3, pom.xml, maven-dependency-plugin, parent-pom

我的项目结构是这样的：

```
* Foo
  - API
  - Core
  - OSGi 
```

所有子项目都将*Foo*定义为它们的父项（父项具有 dependencyManagement）。

另一个团队将使用我的项目。他们只需要我的 API 层，他们无法访问我的 Maven 存储库。

我需要为他们提供我的 API 的所有依赖项，所以我执行了以下 maven 命令：

```
mvn dependency:copy-dependencies -DincludeScope=compile -Dmdep.copyPom
-Dmdep.useRepositoryLayout 
```

依赖插件复制一切都很好，除了父 pom。如何将父 pom.xml 添加到输出文件夹？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-27T07:29:29.223

在此处查看 addParentPoms 选项[http://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html](http://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html)

# asp.net - 报告的级联 HTML 表格

> ID：15131528
> 
> 赞同：1
> 
> 时间：2013-02-28T09:10:06.807
> 
> 标签：asp.net, sql-server

报告的级联 HTML 表格：

我想以如下格式显示客户列表及其各自的产品：

[http://www.codeproject.com/KB/aspnet/MultiNestMDGridview/MultiNestMDGridview.jpg](http://www.codeproject.com/KB/aspnet/MultiNestMDGridview/MultiNestMDGridview.jpg)

一个客户可以拥有多个产品，因此希望在该单个客户详细信息行中显示多个行，如上例所示。

我正在使用 Devexpress 的 ASPxGridView 并且不想使用 Crystal Reports 和 Master Detail Grid 来实现上述目标。

所以请告诉我一些使用 GridView 或使用从传递的数据表转换而来的 HTML 表来实现上述结果的方法。

请帮忙。我被困住了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-01T08:12:02.973

使用**DevExpress XtraReports**解决问题.. !! 尝试了主详细信息网格示例，但 Xtra 报告具有我需要实现的功能..

# android - 带有 ContentObserver 的 AlarmManager

> ID：15131530
> 
> 赞同：-4
> 
> 时间：2013-02-28T09:10:07.940
> 
> 标签：android, android-alarms

我们如何设置一个`AlarmManager`, 为一个`ContentObserver`类 in `PendingIntent`？

可能的方法是：

```
 PendingIntent.getActivity

  PendingIntent.getService

  PendingIntent.getBroadCast 
```

那么，如果可能的话，应该使用哪一个呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:16:00.087

PendingIntent.getBroadCast 是您所遇到问题的正确答案。你可以使用如下

```
Intent alarm_intent = new Intent(getApplicationContext(),
                AlarmReceiver.class);
        // In reality, you would want to have a static variable for the request
        // code instead of 192837
        PendingIntent sender = PendingIntent.getBroadcast(this, 192837,
                alarm_intent, PendingIntent.FLAG_UPDATE_CURRENT);
        Calendar calendar = Calendar.getInstance();
        calendar.setTimeInMillis(System.currentTimeMillis());
        calendar.add(Calendar.MINUTE, 15);
        long interval = 900 * 1000; //
        // Get the AlarmManager service
        AlarmManager am = (AlarmManager) getSystemService(ALARM_SERVICE);
        am.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(),
                interval, sender); 
```

# perl - ActiveState Perl 的 Expect 替代方案

> ID：15131531
> 
> 赞同：3
> 
> 时间：2013-02-28T09:10:15.340
> 
> 标签：perl, expect

根据 Expect perldoc，此模块不适用于 ActiveState Perl。

perldoc 说另一种选择是使用 Cygwin。我真的没有安装这个的选项。

还有其他建议吗？

我需要使用 perl 程序以交互方式控制 powerShell。

您的帮助将不胜感激！！请随便输入！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:17:36.610

请参阅[此 Perlmonks](http://www.perlmonks.org/?node_id=662535)对同一问题的讨论。

它似乎[`IO::React`](http://search.cpan.org/~garrow/IO-React-1.03/React.pm)为可以连接到手柄的任何东西提供了类似的功能（请参阅核心模块[`IO::Handle`](http://perldoc.perl.org/IO/Handle.html)）。

# java - RHEL：JDK 7u15 安装错误

> ID：15131533
> 
> 赞同：2
> 
> 时间：2013-02-28T09:10:22.843
> 
> 标签：java, java-7, rpm, rhel, rhel6

在 Red Hat Enterprise Linux 机器上安装 JDK 7u15 版本时出现以下错误。

我不知道该怎么办？我的意思是对运行我的程序有什么影响？

这些包文件是什么？

```
charsets.pack
deploy.pack
javaws.pack
jsse.pack
localedata.pack
plugin.pack
rt.pack 
```

我已按照 oracle 站点中给出的步骤进行操作：http: [//docs.oracle.com/javase/7/docs/webnotes/install/linux/linux-jdk.html](http://docs.oracle.com/javase/7/docs/webnotes/install/linux/linux-jdk.html)

RHEL 版本：6

这是腻子的确切消息：

```
bash-4.1$ sudo rpm -ivh jdk-7u15-linux-i586.rpm
Preparing...                ########################################### [100%]
   1:jdk                    ########################################### [100%]

    Unpacking JAR files...
     rt.jar...
    Error: Could not open input file: /usr/java/jdk1.7.0_15/jre/lib/rt.pack
     jsse.jar...
    Error: Could not open input file: /usr/java/jdk1.7.0_15/jre/lib/jsse.pack
     charsets.jar...
    Error: Could not open input file: /usr/java/jdk1.7.0_15/jre/lib/charsets.pack
     tools.jar...
    Error: Could not open input file: /usr/java/jdk1.7.0_15/lib/tools.pack
     localedata.jar...
    Error: Could not open input file: /usr/java/jdk1.7.0_15/jre/lib/ext/localedata.pack
     plugin.jar...
    Error: Could not open input file: /usr/java/jdk1.7.0_15/jre/lib/plugin.pack
     javaws.jar...
    Error: Could not open input file: /usr/java/jdk1.7.0_15/jre/lib/javaws.pack
     deploy.jar...
    Error: Could not open input file: /usr/java/jdk1.7.0_15/jre/lib/deploy.pack 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T09:17:03.623

最近我在 Fedora 上遇到了同样的问题。网上查了一下，有讨论过（以后能找到再补充参考），这些都是正常的。似乎安装程序正在尝试打开 *.pack 文件，因为它们已经消失了，因为它们已重命名为 *.jar。由于某些原因，他们没有尝试在任何较新的安装程序中解决此问题。

以下是参考资料：

[http://forums.fedoraforum.org/showthread.php?t=283237](http://forums.fedoraforum.org/showthread.php?t=283237)

[http://wiki.rosalab.ru/en/index.php/Howto_install_proprietary_Java_from_Oracle](http://wiki.rosalab.ru/en/index.php/Howto_install_proprietary_Java_from_Oracle)

[在 linux 中安装 jdk 1.7 时出错](https://stackoverflow.com/questions/13302271/errors-when-installing-jdk-1-7-in-linux)

[http://forums.fedoraforum.org/showthread.php?t=285076](http://forums.fedoraforum.org/showthread.php?t=285076)

# ios - 如何在 iOS 中使用 .frame 属性？

> ID：15131538
> 
> 赞同：0
> 
> 时间：2013-02-28T09:10:42.627
> 
> 标签：ios, frame, pixel, cgrect

当我点击一个按钮时，我正在我的应用程序中调用一个自定义选择器。

选择器看起来像一个气泡，所以我将它指向这样的按钮：

```
thePicker.presentFromRect = button.frame; 
```

我需要选择器从这个按钮向下显示 300 像素。我怎样才能做到这一点？

如何在上述语句中添加 300 像素高度？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:13:14.287

您应该创建一个新框架并编辑其高度属性，如下所示：

```
CGRect frame = button.frame;
frame.size.height += 30;
thePicker.presentFromRect = frame; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:20:10.567

您需要使用：

```
CGRect frame = self.window.frame;
frame.size.height += 30;
thePicker.presentFromRect = frame; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:24:24.203

首先获取按钮的框架，以便能够对其进行处理。然后根据需要更改他的高度，访问**size**属性。最后，将框架重新分配给选择器

```
CGRect buttonFrame = button.frame;
buttonFrame.size.height += 300;
thePicker.presentFromRect = buttonFrame; 
```

# ios - 在 iOS 中显示 unicode 值的错误字符

> ID：15131541
> 
> 赞同：1
> 
> 时间：2013-02-28T09:10:55.463
> 
> 标签：ios

我现在正在使用一个处理 unicode 字符的 iOS 应用程序，但是将 unicode 十六进制值（以及 int 值）转换为字符似乎存在一些问题。

例如，我想获取 Unicode 值为 c491 的字符“đ”，但在此代码之后：

```
NSString *str = [NSString stringWithUTF8String:"\uc491"]; 
```

str 的值不是“đ”而是“쓉”（韩语单词）。

我也用过：

```
int c = 50321; // 50321 is int value of 'đ'
NSString *str = [NSString stringWithCharacters: (unichar *)&c length:1]; 
```

但是上面两段代码的结果是一样的。

我不明白这里有什么问题，请帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:29:24.523

### 简短的回答

要指定`đ`，可以通过以下方式指定（**未经测试**）：

```
@"đ"
@"\u0111"
@"\U00000111"
[NSString stringWithUTF8String: "\u0111"]
[NSString stringWithUTF8String: "\xc4\x91"] 
```

请注意，最后 2 行使用 C 字符串文字而不是 Objective-C 字符串对象文字结构`@"..."`。

作为一个简短的解释，`\u0111`是 Unicode 转义序列`đ`，其中`U+0111`是字符的代码点`đ`。

最后一个示例显示了如何在 C 字符串文字中指定`đ`(which is `c4 91`) 的 UTF-8 编码，然后将 UTF-8 编码中的字节转换为正确的字符。

上面的例子改编自[这个答案](https://stackoverflow.com/questions/4913499/utf8-character-decoding-in-objective-c#4913599)和[这个博客文章](http://blog.ablepear.com/2010/07/objective-c-tuesdays-unicode-string.html)。该博客还涵盖了Unicode 中[基本多语言平面](http://en.wikipedia.org/wiki/Plane_%28Unicode%29)（平面 0）之外的字符的棘手情况。

### Unicode 转义序列（C99 中的通用字符名称）

根据[此博客](http://blog.ablepear.com/2010/07/objective-c-tuesdays-unicode-string.html)¹：

> 在 C99 的 TC2 修正案中，Unicode 转义序列被添加到 C 语言中，并在 Mac OS X 10.5 中被添加到 Objective-C 语言（用于 NSString 文字）中。

[C99 TC2 草案](http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1124.pdf)的第 65 页显示`\unnnn`or `\Unnnnnnnn`where `nnnn`or `nnnnnnnn`are "short-identifier as defined by ISO/IEC 10646 standard"，大致意思是*hexadecimal code point*。注意：

> 通用字符名称不得指定短标识符小于 00A0 的字符，除了 0024 ( `$`)、0040 ( `@`) 或 0060 ( ```)，也不应指定 D800 到 DFFF 范围内的字符。

### 字符集与字符编码

您似乎对代码点`U+0111`和 UTF-8 编码`c4 91`（将字符表示为字节）感到困惑。UTF-8 编码是 Unicode 字符集的编码之一，码位是分配给字符集中字符的数字。[这篇维基百科文章](http://en.wikipedia.org/wiki/Character_encoding)非常清楚地解释了含义上的差异。

> **编码字符集**(CCS) 指定如何使用称为代码点的多个（通常为非负）整数值来表示字符集。[...]
> 
> **字符编码形式**(CEF) 指定将编码字符集的整数代码转换为一组大小有限的整数代码值，这些值有助于在系统中存储，该系统使用固定数量的比特以二进制形式表示数字 [...]

还有其他编码，例如 UTF-16 和 UTF-32，它们可能会给出磁盘上字符的不同字节表示，但由于 UTF-8、UTF-16 和 UTF-32 都是针对 Unicode 字符集的编码，因此代码相同字符的点在所有 3 种编码之间都是相同的。

**脚注**

¹：我认为博客是正确的，但如果有人能找到苹果关于这一点的官方文档，那就更好了。

# c# - C#/XSLT：线性化 XML 部分工作代码

> ID：15131542
> 
> 赞同：5
> 
> 时间：2013-02-28T09:10:55.467
> 
> 标签：c#, xml, xslt

**输入 XML：**

```
<foobar>
          <Comments>
            Reported By:   L &amp; A Q  TESTING, TESTED
            Date of TESTING:   Available
            TESTING  unavailable to resolve Test issue.
            Additional  Comments: Comments

            Had to go   into Testing System and change to the correct notification group. Per sup.
          </Comments>
</foobar> 
```

**XSLT 代码：**

```
<?xml version="1.0"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:strip-space elements="*"/>
    <xsl:output indent="no" omit-xml-declaration="yes"/>
    <xsl:template match="@*|node()">
        <xsl:copy>
            <xsl:apply-templates select="@*|node()"/>
        </xsl:copy>
    </xsl:template>
    <xsl:template match="text()">
        <xsl:value-of select="normalize-space()" />
    </xsl:template>
    <xsl:template match="text()[../*]"/>
</xsl:stylesheet> 
```

**预期输出：**

```
<foobar><Comments>Reported By: L &amp; A Q TESTING, TESTED Date of TESTING: Available TESTING unavailable to resolve Test issue. Additional Comments: Comments Had to go into Testing System and change to the correct notification group. Per sup.</Comments></foobar> 
```

**我得到了什么：**

```
<foobar>
  <Comments>Reported By: L &amp; A Q TESTING, TESTED Date of TESTING: Available TESTING unavailable to resolve Test issue. Additional Comments: Comments Had to go into Testing System and change to the correct notification group. Per sup.</Comments>
</foobar> 
```

**观察：**

尽管 text() 节点中不必要的空格已得到纠正.. 输出 XML 中仍然存在缩进。

理想情况下`strip-space`应该照顾它..在它之上我添加了下面的代码

```
<xsl:template match="text()[../*]"/> 
```

还是没有运气！！的使用

`XPathDocument xpathXmlOrig = new XPathDocument(string_xmlInput);`在我的 C# 代码错误中说 .. strip-space cannot be applied to document which has been loaded!! 所以我正在使用 XMLReader ..

添加 C# 代码以供参考..

```
 XslCompiledTransform xslTransform = new XslCompiledTransform();
        string xslinput = "<?xml version=\"1.0\"?><xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"><xsl:strip-space elements=\"*\"/><xsl:output indent=\"no\" omit-xml-declaration=\"yes\"/><xsl:template match=\"@*|node()\"><xsl:copy><xsl:apply-templates select=\"@*|node()\"/></xsl:copy></xsl:template><xsl:template match=\"text()[not(../*)]\"><xsl:value-of select=\"normalize-space()\" /></xsl:template><xsl:template match=\"text()[../*]\"/></xsl:stylesheet>";

        string strXmlOutput = string.Empty;
        StringWriter swXmlOutput = null;
        MemoryStream objMemoryStream = null;
        swXmlOutput = new StringWriter();
        objMemoryStream = new MemoryStream();

        UTC_Calc obj = new UTC_Calc();
        XsltArgumentList xslArg = new XsltArgumentList();
        ..........
        ........
        XmlReader reader = XmlReader.Create(string_xmlInput, settings);

        XsltSettings xslsettings = new XsltSettings(false, true);
        MemoryStream memStream = new MemoryStream();

        XmlReader rd = XmlReader.Create(new StringReader(xslinput));

        xslTransform.Load(rd);
        xslTransform.Transform(reader, xslArg, objMemoryStream);
        objMemoryStream.Position = 0;
        StreamReader objStreamReader = new StreamReader(objMemoryStream);
        strXmlOutput = objStreamReader.ReadToEnd();
        ..........
        ........

        XmlDocument outputxml = new XmlDocument();
        outputxml.LoadXml(strXmlOutput);
        outputxml.Save(outputfile.FileName); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T10:46:03.280

你能浏览一下你的代码，并寻找`XmlWriterSettings`你提供给你的写流的任何东西吗？仔细检查它是否没有使用缩进输出选项。

如果那里没有这样的东西，也许显式传入`XmlWriterSettings`声明不应该发生格式化会解决这个问题。

```
XmlWriterSettings settings = new XmlWriterSettings();
settings.Indent = false;
/* .... */

var outWriter = XmlWriter.Create(outputstream, settings); 
```

[http://msdn.microsoft.com/en-us/library/system.xml.xmlwritersettings.aspx](http://msdn.microsoft.com/en-us/library/system.xml.xmlwritersettings.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T12:15:24.853

用过的

```
TextWriter writer = File.CreateText(outputfile.FileName);
writer.Write(strXmlOutput);
writer.Close(); 
```

而不是现有的代码：

```
XmlDocument outputxml = new XmlDocument();
outputxml.LoadXml(strXmlOutput);
outputxml.Save(outputfile.FileName); 
```

我想我也理解其中的区别..

XmlDocument( `outputxml.LoadXml, outputxml.Save`)，默认情况下强制缩进..虽然`strXmlOutput`没有任何缩进..

> 我得到了这个修复，参考了 Jake Heidt 的答案。将其标记为社区 wiki，因为这不是我自己的答案。此答案也可以使用更有用的信息进行编辑（如果需要）

# amazon-s3 - 亚马逊 s3 上的限制计数桶

> ID：15131550
> 
> 赞同：0
> 
> 时间：2013-02-28T09:11:17.250
> 
> 标签：amazon-s3, amazon

我想使用 amazon s3 存储桶作为独立文件夹。我可以创建多少限制计数桶？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:31:03.960

我成立了有关**[BucketRestrictions的信息](http://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html)**

> 存储桶归创建它的 AWS 账户所有。**每个 AWS 账户一次最多可以拥有 100 个存储桶。**存储桶所有权不可转让；但是，如果存储桶为空，您可以将其删除。删除存储桶后，该名称可以重用，但由于各种原因，您可能无法重用该名称。例如，其他一些账户可以使用该名称创建存储桶。因此，如果您想使用相同的存储桶名称，请不要删除存储桶。请注意，重用名称可能需要一些时间。

# .net - 在 .NET 中写入日志 - 权限问题

> ID：15131557
> 
> 赞同：1
> 
> 时间：2013-02-28T09:11:41.053
> 
> 标签：.net, windows, winforms, security, permissions

我需要在 .NET Windows 应用程序中编写一些日志文本，然后将该文本显示给用户。

我对在哪里创建日志文件没有具体要求。

最初我将日志文件写在与应用程序相同的文件夹中，但在某些计算机上，应用程序用户无权创建文件......

是否有一种机制可以在具有最低用户权限的某处创建日志（文本）文件？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T09:22:42.673

您可以将其写入当前用户[应用程序数据](http://msdn.microsoft.com/en-us/library/system.environment.specialfolder.aspx)目录。用户应该在那里拥有完全的权限。您可以使用请求路径（在 .NET 中）

```
Environment.GetFolderPath(Environment.SpecialFolder.LocalApplicationData) 
```

这将返回

> C:\文档和设置\用户\应用程序数据\

# jquery - 自动完成 Jquery 文本框 --- > 识别错误

> ID：15131559
> 
> 赞同：0
> 
> 时间：2013-02-28T09:11:42.990
> 
> 标签：jquery

我有一个使用 jquery 的自动完成文本框。

如果用户键入 3 个字符，则显示来自 DB 的列表。我的问题是如果用户键入他自己的东西并提交我需要警告他或触发一些验证消息？

我该怎么做呢 ？

如果用户输入 Own thing 表示 --- 例如

我在数据库中有以下建议列表，例如

Apple Orange Grapes，我不希望用户输入 Gra 或 app 或 DB 中不存在的 tat sort

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:25:11.040

调用自动完成时可以使用`select`和`change`事件处理程序。

例如：

```
$('#autocomplete').autocomplete({
    minLength: 3,
    source: 'getlist.php', // for example
    select: function(event, ui) {
        // the user selected from drop-down
    },
    change: function(event, ui) {
        // the user input his own values..

        // $(this).val(''); // this code will reset the value to blank
    }
}); 
```

# c# - 为从基类 C# 继承的类中的每个方法添加一个可选参数

> ID：15131562
> 
> 赞同：1
> 
> 时间：2013-02-28T09:11:54.893
> 
> 标签：c#, oop

我不知道这是否有可能，但我试图得到的是强制从某个基类继承的开发人员在这个类的每个方法中实现一个特定的参数。

就像是：

```
class SomeClass : BaseClass
{
     public void SomeMethod(bool iAmAForcedParameter = false)
     {

     }
} 
```

这样做的原因是我们有可以从 MVC 项目（这是我们的前端）调用的服务，也可以从其他服务中使用。如果将从前端调用服务，则应在完成所有操作后将更改写入数据库。如果该服务被另一个服务使用，它应该只进行更改（在内存中）而不是将它们写入数据库。

我的另一个想法是确定谁是调用者，如果他来自特定类型，则该方法不应发送数据。但是，我不知道如何做到这一点，或者这是否可能在没有巨大性能影响的情况下实现。

问候并感谢您提前提供的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:14:30.077

> 在这个类的每个方法中实现一个特定的参数。

我认为你只是在类上寻找一个属性，然后你可以检查每个方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:15:26.250

奇怪的是，您的每个方法都有两个职责。我宁愿创建两个派生类。一种具有将数据持久保存到数据库的方法，另一种则不：

```
class SomeInMemoryClass : BaseClass
{
   public override void SomeMethod() {}
}

class SomeSqlClass : BaseClass
{
   public override void SomeMethod() {}
} 
```

无论如何 - 将布尔值传递给方法是一种设计气味。它告诉你的方法做了两件事。最好有两种方法，告诉调用者他们在做什么：

```
void SomeInMemoryMethod()
void SomeSqlMethod() 
```

你不认为它更易于维护吗？

```
void SomeMethod(false) 
```

* * *

**对于您的最后一次编辑：**将对象传递`SomeInMemoryClass`给不应将数据保存到数据库的类型。其他类型应该使用`SomeSqlClass`实例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:18:43.460

我也不明白第二部分。

对于第一项，只需使用

```
public void SomeMethod(bool iAmAForcedParameter) 
```

所以没有可选参数。

如果您想使用可选参数，请使用

```
public void SomeMethod(bool iAmAForcedParameter)
{
    SomeMethodX(iAmAForcedParameter)
}

public void SomeMethodX((bool iAmAForcedParameter = false) 
```

# php - 值未显示在下拉列表中

> ID：15131566
> 
> 赞同：0
> 
> 时间：2013-02-28T09:12:01.603
> 
> 标签：php, html, mysql

我想在 PHP 中编辑一行，其中一个字段是一个下拉列表，它将获取为所选行（能力组）设置的值，但问题是所选选项为空，尽管查询有效并且我也可以使用 print_r 打印值。但是当我把它放在表单中时，它什么也没显示。

我以这种形式使用它：

```
<select  class="edit_competence_group" name="Competence_Group_Edit">
    <?php   
    $r=$this->matchinggroup;
    $Competence_Group=$r['Competence_Group'];
    print_r($this->matchinggroup);
    ?>
    <option selected="selected" value=<?php if (isset ($Competence_Group)) {echo $Competence_Group;}?>></option>
    <?php 
    $arr=$this->distinct_competence_groups;

    foreach ($arr as $row){

        echo "<option value='" .$row['Competence_Group']. "'>" .$row['Competence_Group'] . "</option>";         
    }
    ?>

</select> 
```

获取特定组的查询在一个类中，如下所示：

```
function editCompetence($Competence_id){
    if(is_numeric($Competence_id) && $Competence_id != 0){
        try{
            $this->query = "UPDATE Competences SET
                            Competence_Group=$this->Competence_Group
                            Competence_Class=$this->Competence_class
                            Competence_Description=$this->Competence_Description    
                            WHERE Competence_ID=$this->Competence_id";
            $tulos = $this->suoritaKysely();
            if(TESTITULOSTUS_LUOKKA){   echo 'Editing Competence with ID : '.$this->Competence_id.'<br/>Tulos: '.$tulos.'<br/>';    }

            if($tulos===false){
                return array('tulos'=>false,'viesti'=>'Competence could not be edited'.'<br />');
            }
            else return array ('tulos'=> true, 'viesti'=>'competence was edited'.'<br/>');

        }catch (Exception $e) {
            return array( 'tulos' => false, 'viesti' => _("tietokantavirhe").' :'.$e->getMessage());

        }
    }
} 
```

我在索引文件中调用该函数：

```
if(isset($_REQUEST['edit_id'])){
    echo $_GET['edit_id'];
    $oneC=$hr_object->matchingGroup($_GET['edit_id']);
    $page->assign('matchinggroup', $oneC);} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:22:05.283

尝试这样的事情：

```
<select  class="edit_competence_group" name="Competence_Group_Edit">
    <?php   
    $r=$this->matchinggroup;
    $Competence_Group=$r['Competence_Group'];
    print_r($this->matchinggroup);
   if (isset ($Competence_Group))
     echo '<option value=" '.$Competence_Group.'" selected >your forgot the name here</option>';

    $arr=$this->distinct_competence_groups;

    foreach ($arr as $row){

        echo "<option value='" .$row['Competence_Group']. "'>" .$row['Competence_Group'] . "</option>";         
    }
    ?>

</select> 
```

# linux - >stdout 和 >stdout+stderr 的 Bash 命令

> ID：15131579
> 
> 赞同：1
> 
> 时间：2013-02-28T09:13:11.977
> 
> 标签：linux, bash, sh

在 Linux/bash 下，我想运行一个命令并将标准输出发送到 foo.txt，并将标准输出和标准错误组合到 bar.txt：

```
$ cmd < input.txt  1>foo.txt 1+2>bar.txt   ??? 
```

最简单的方法是什么？

只发送标准输出是：

```
$ cmd > foo.txt 
```

发送两个标准输出/标准错误是：

```
$ cmd &> bar.txt 
```

但是试图结合：

```
$ cmd > foo.txt &>bar.txt 
```

导致 foo.txt 为空。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:15:04.527

您不能同时对输出流进行两次重定向。做你想做的最简单的方法是将输出传送到[tee](http://ss64.com/bash/tee.html)命令。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:16:22.117

以下应该做到这一点：

```
(cmd | tee out.txt) &> both.txt 
```

这将重定向`stdout`到`out.txt`and both `stdout`and `stderr`to `both.txt`。

# jsf - jsf文件下载不起作用

> ID：15131582
> 
> 赞同：3
> 
> 时间：2013-02-28T09:13:16.110
> 
> 标签：jsf, jakarta-ee, jsf-2, icefaces

当我单击`h:commandButton`它时，它会执行该`myBean.dowanlod()`方法，但它不会下载任何文件。这是我在支持 bean 中的方法。没有例外。光标很忙，似乎在等待响应。这种操作是否有任何额外的配置，或者这段代码有什么问题？

```
<h:commandButton value="download" action="#{myBean.download()}" /> 

@ManagedBean
@SessionScoped    
public class MyBean implements Serializable{
   //....

   public String download{

    FacesContext facesContext = FacesContext.getCurrentInstance();
    ExternalContext externalContext = facesContext.getExternalContext();

    String fileName = "test.txt";
    String filePath = "D:\\test.txt"; //externalContext.getRealPath("") + File.separator + fileName;
    File file = new File(filePath);

    externalContext.setResponseHeader("Content-Type", "text/plain");
    externalContext.setResponseHeader("Content-Length", String.valueOf(file.length()));
    externalContext.setResponseHeader("Content-Disposition", "attachment;filename=\"" + fileName + "\"");

    InputStream input = null;
    OutputStream output = null;

    try {
        input = new FileInputStream(file);
        output = externalContext.getResponseOutputStream();
        IOUtils.copy(input, output);
    } catch (FileNotFoundException ex) {
        ex.printStackTrace();
    } catch (IOException ex) {
        ex.printStackTrace();
    } finally {
        IOUtils.closeQuietly(output);
        IOUtils.closeQuietly(input);
    }

    facesContext.responseComplete();
    return null;
  }

  //...
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T12:26:53.813

ICEfaces 有一个奇怪的“[特性](http://www.icesoft.org/wiki/display/ICE/Disabling+Ajax)”，它将所有标准 JSF 隐式转换`<h:commandButton>`为支持 ajax 的命令按钮。但是，无法使用 ajax 下载文件。您需要明确将其关闭。您可以通过嵌套一个`<f:ajax disabled="true">`.

```
<h:commandButton value="download" action="#{myBean.download()}" />
    <f:ajax disabled="true"/>
</h:commandButton> 
```

### 也可以看看：

*   [p:fileDownload 不适用于 h:head](https://stackoverflow.com/questions/14373078/pfiledownload-not-working-with-hhead)
*   [类路径中的 ICEfaces 库可防止在文件下载时弹出“另存为”对话框](https://stackoverflow.com/questions/13420958/ice-faces-libary-in-classpath-prevents-saveas-dialog-from-popping-up/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:44:41.933

以前我有`<h:head>`和`<ice:form>`。此文件下载内容不适用于这些名称空间。只需使用`<head>`并`<h:form>`解决问题。我正在学习JSF，所以我对此一无所知。不知何故，它对我有用。我从[BalusC 的博客](http://balusc.blogspot.com/2006/05/pdf-handling.html)中找到了更好的文件下载教程。如果有人知道或猜到原因，请给出一些想法。

# itext - iText XMLWorker 中文

> ID：15131585
> 
> 赞同：0
> 
> 时间：2013-02-28T09:13:26.187
> 
> 标签：itext

我正在为一个将动态生成的 HTML 文档转换为 pdf 文档的项目评估 itext。XMLWorker 完全符合要求。当我的 HTML 文档包含中文/韩文等字符时，我遇到了麻烦。

我听说在 Itext 中我们可以使用字体而不嵌入它们。我看过 FontSelector 示例，其中 FontSelector 使我们能够使用字体而不嵌入它们。生成的 pdf 提示从 adobe 站点下载语言包，这就是我想要的。

但我不确定这将如何与 XMLWorker 一起使用。任何示例或代码片段都会非常有帮助。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-27T09:22:12.723

[http://www.micmiu.com/opensource/expdoc/itext-xml-worker-cn/](http://www.micmiu.com/opensource/expdoc/itext-xml-worker-cn/) 看了这篇文章，xmlworker不支持中文，所以你应该编辑源代码来支持它

# jquery-mobile - 标题栏下的Jquery Mobile Image

> ID：15131590
> 
> 赞同：1
> 
> 时间：2013-02-28T09:13:45.113
> 
> 标签：jquery-mobile, responsive-design

我正在尝试构建一个在标题栏下具有图像的示例模板。您可以[为此查看迪士尼旧设计的图像](http://www.jqmgallery.com/wp-content/uploads/2012/04/disneyworld-160.jpg)。

此设计在标题下方和页面菜单之前有图像。在这种情况下如何放置图像？

如何在索引页面或任何页面中添加此类图像？我尝试使用背景图像，但效果适用于整个页面，这不是我想要的。我正在尝试在标题下和菜单内容之前获取图像，如示例图像所示。

# c# - 在不使用反射的情况下将内部类型转换为 c# 中的通用名称/值对

> ID：15131591
> 
> 赞同：0
> 
> 时间：2013-02-28T09:13:46.897
> 
> 标签：c#, xml, xml-serialization

我之前曾在这个论坛上发布过一个问题——“将内部类型转换为通用名称/值对列表”。我确实收到了一些很棒的答案，这为我指明了使用反射的方向，我做了一个简短的概念证明，看起来不错。然而，在使用反射、性能等方面存在一些问题。我想知道还有其他方法吗？

请参阅下面的要求大纲：

我们只想获取一个内部类型，检查该字段是否存在于枚举或列表中，如果它被填充，则将其移动到通用名称/值对列表中。这样我们就可以以通用/标准方式发送大量信息，而无需担心添加新字段时会更改架构等。我的问题是如何填充通用结构。

```
[Serializable]
public class Location
    {   
          public string sAddress { get; set; }
          public string sCity { get; set; }
          public int iZipCode { get; set; }
    } 
```

需要转化为：

```
<AttributeList>
  <Attribute>
    <Name>sAddress</Name>
    <Value>123 ABC Street</Value>
    <DataType>string</DataType>
  </Attribute>
</AttributeList> 
```

重复 sCity 和 iZipCode。我能想到的唯一方法（不使用反射）是为内部结构上的每个字段手动编码 - 位对我来说似乎非常无效

任何想法，将不胜感激！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:17:31.163

反射不必非常低效。如果您知道您将一遍又一遍地执行基本相同的代码，您可以从基于反射的成员创建委托。这些将执行*得*更快。查看[`Delegate.CreateDelegate`](http://msdn.microsoft.com/en-us/library/system.delegate.createdelegate.aspx)各种选项（请记住，属性基本上只是一个 get/set 方法对）。

如果您使用的是 .NET 3.5，则可以使用表达式树作为构建委托的一种替代方法。

一旦你得到了基于委托的表单，性能应该是相当合理的。

# algorithm - AS3 只渲染附近的物体

> ID：15131592
> 
> 赞同：2
> 
> 时间：2013-02-28T09:13:49.087
> 
> 标签：algorithm, actionscript-3, flash, apache-flex

我正在开发一款游戏，其中包括在一个大世界中行走，周围有树木、岩石等随机物体

现在我的目标是不让世界上的物体总量影响游戏的速度。这就是为什么我想也许我应该有一个物体数组，每个物体都有自己的位置，然后就用一个循环检查哪些是近/远然后分别使用 addChild/removeChild 我仍然相信这种方法将是一个问题，因为不断通过一个包含大量对象的数组并不是那么好..

所以我想我会问你们……你们将如何处理这项任务？代码示例将不胜感激 在此先感谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:26:25.157

我希望您需要一些数据结构，例如[octree/quadtree](http://en.wikipedia.org/wiki/Octree)，这取决于您的世界是 2D 还是 3D，它们将在世界生成阶段用您的所有静态对象填充。任何动态的东西（怪物等）都会自行移动通过这棵树的节点，并且对于显示，您只需使用半径方法，仅渲染（显示）那些与玩家处于特定树单元距离内的对象。使用这种方法，您只需要在您的玩家越过树单元格之间的边界时更改显示列表，您`removeChild()`对所有那些现在太远的单元格中的对象以及`addChild()`现在在显示范围内的对象执行一个操作。

编辑：更好的是，您可以拥有一个二维数组，其中包含您世界中的对象列表，以及它们的实际位置等，因此四叉树提供的不是可变粒度，您将拥有一个统一的网格，其中每个单元格能够容纳更多而不是单个对象。这个网格比四叉树更容易遍历，因为它自然地保持相邻元素的位置，当你的玩家连续移动通过网格时，这是最需要的。一个例子，主要是伪代码，但可以给你一个关于实际网格是什么样子的提示：

```
class World {
    var GRID:Vector.<Vector.<Vector.<GameObject>>>; // the grid
    const GRAN:int=100; // this many x this many is one GRID cell
    var gridWidth:int;
    var gridHeight:int;
    public function World(w:int,h:int) { // size in pixels, for example. This depends on how you display objects
        gridWidth=1+Math.floor(w/GRAN);
        gridHeight=1+Math.floor(h/GRAN);
        GRID=new Vector.<Vector.<Vector.<GameObject>>>(gridWidth,true); // fixed size, it optimizes performance
        var i:int; var j:int;
        for (i=0;i<gridWidth;i++) {
            GRID[i]=new Vector.<Vector.<GameObject>>(gridHeight,true); // again fixed size
            for (j=0;j<gridHeight;j++) GRID[i][j]=new Vector.<GameObject>(); 
            // ^ variable size, as initially the world is empty, and it will get 
            //filled with stuff dynamically. But we need to allocate the data structure
        }
    }
    public function PlaceObject(ob:GameObject):void {
        // puts an object into grid and assigns it grid position to refer the grid
        var gx:int=Math.floor(ob.x/GRAN);
        var gy:int=Math.floor(ob.y/GRAN);
        ob.gridX=gx;
        ob.gridY=gy;
        GRID[gx][gy].push(ob);
        // error control is absent, but should be.
    }
    public function MoveObject(ob:GameObject):void {
        // called if game engine moves an object. It has its X&Y changed, but grid position must be updated
        var gx:int=Math.floor(ob.x/GRAN);
        var gy:int=Math.floor(ob.y/GRAN);
        if ((ob.gridX==gx)&&(ob.gridY==gy)) return; // this object didn't leave its grid node
        GRID[ob.gridX][ob.gridY].splice(GRID[ob.gridX][ob.gridY].indexOf(ob),1);
        // will break if the object is not in GRID, so integrity check is needed here
        ob.gridX=gx;
        ob.gridY=gy;
        GRID[gx][gy].push(ob);
    }       
    ...
} 
```

等等。在此类之外，您放置一个具有玩家 GRID 位置的渲染器，并按指定半径从 GRID 抓取数据，并将对象放入显示列表中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:56:58.413

如果您不需要您的对象在“视野”之外时保持不变，您可以在玩家视野距离的外部范围内生成它们，这样您就只会循环通过活动对象。当物体离玩家一定距离时，它们会被移除。如果您希望您的对象持久存在，您可以使用一些系统来确定是否需要更新对象；例如，您可以给每个对象一个“区域”属性。玩家区域和与玩家区域相邻的区域中的对象得到更新。那些不相邻的，不需要更新。

# actionscript-3 - 如何在鼠标悬停时更改 mx togglebuttonbar 的文本颜色

> ID：15131593
> 
> 赞同：0
> 
> 时间：2013-02-28T09:13:51.483
> 
> 标签：actionscript-3, apache-flex, flex4, flex3

我想通过更改我想将文本颜色更改为不同的样式来更改翻转时 MX ToggleButtonBar 控件的文本颜色。谁能帮帮我吗。例如，我将鼠标悬停在主页按钮上，颜色的文本应更改为绿色，但不是背景色。

```
<mx:ToggleButtonBar id="toggBar" direction="horizontal" horizontalGap="20" height="100" paddingLeft="60" 
                         horizontalScrollPolicy="off" verticalScrollPolicy="off" selectedIndex="1" 
                         >
        <mx:dataProvider>
            <fx:Object label="Home" id="home"  screenIndex="-1"/>
            <fx:Object label="About" id="about"  screenIndex="1"/>
            <fx:Object label="Contact" id="contact" screenIndex="2"/>
            <fx:Object label="Help" id="help" screenIndex="3"/>
        </mx:dataProvider> 
    </mx:ToggleButtonBar> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:16:36.120

将此添加到元素标记：

```
onmouseover="this.style.color='#123456'" onmouseout="this.style.color='#654321'" 
```

将第一种颜色替换为您要更改的颜色，将第二种颜色替换为正常颜色。

或者将其添加到您的样式表中：

```
#labelid1:hover {color:#123456;}
#labelid2:hover {color:#123456;}
#labelid3:hover {color:#123456;} 
```

最好为每个按钮添加一个类名并使用

```
.labelclassname:hover {color:#123456;} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:53:41.767

您可以使用 mxml hack（或代码中的注释）：

```
 <mx:ToggleButtonBar id="toggBar" direction="horizontal" horizontalGap="20" height="100" paddingLeft="60"
                    color="0x00ff00"
                    horizontalScrollPolicy="off" verticalScrollPolicy="off" selectedIndex="1"

                    <!-- Warning! Better create custom ToggleButtonBar with your logic mouseOver -->
                    mouseOver="{UITextField((event.target).mx_internal::getTextField()).textColor=0xff0000}"
                    >
    <mx:dataProvider>
        <fx:Object label="Home" id="home"  screenIndex="-1"/>
        <fx:Object label="About" id="about"  screenIndex="1"/>
        <fx:Object label="Contact" id="contact" screenIndex="2"/>
        <fx:Object label="Help" id="help" screenIndex="3"/>
    </mx:dataProvider> 
</mx:ToggleButtonBar> 
```

# asp.net-mvc - ASP.NET MVC 4 - 使用编辑器模板的单选按钮列表：模型不完整

> ID：15131595
> 
> 赞同：1
> 
> 时间：2013-02-28T09:14:01.507
> 
> 标签：asp.net-mvc, mvc-editor-templates

我必须在网页上实现多个单选按钮列表（ASP.NET MVC 4）。为此，我使用了编辑器模板。

这是代码：

```
public class Evaluation
{
    public List<Question> Questions { get; set; }

    public Evaluation()
    {
        Questions = new List<Question>();
    }
}

    public class Question
    {
     private string _name;
     private string _translationText;

     public int LocalizationID { get; set; }
     public string Name
     {
        get { return _name; }
        set { _name = value; }
     }
     public string TranslationText
     {
        get
        {
            if (String.IsNullOrEmpty(_translationText))
            {
                return _name;
            }
            else
                return _translationText;
        }
        set { _translationText = value; }
     }
     public List<Answer> Answers { get; set; }
     [Required]
     public int SelectedAnswer { get; set; }
     public int Order { get; set; }

     public Question()
     {
        Answers = new List<Answer>();
     }
 } 
```

**控制器**

```
 [HttpGet]
    public ActionResult Index()
    {
        try
        {
            var evaluation = _service.GetEvaluation();

            return View(evaluation);
        }

    [HttpPost]
    public ActionResult Index(Evaluation model)
    {
        if (!ModelState.IsValid)
        {
          //Save Evaluation 
        }
       retrun View(model);
    } 
```

如果模型无效，那应该在模型的主视图中返回我。但模型并不完整，仅包含 LocalizationID 和 SelectedAnswer 的信息：

**看法**

索引.chtml

```
@model Evaluation

@using (Html.BeginForm())
{
    @Html.ValidationSummary()
    @Html.HiddenFor(x=>x.Questions)

    @Html.EditorFor(x=>x.Questions)

     <p>
        @Html.Raw(Html.GenerateCaptcha())
        @Html.ValidationMessage("recaptcha")
    </p>

    <input type="submit" value="@T("Save_Answer")"/>

    @Html.ValidationMessage("ERROR_SURVEY")
} 
```

在编辑器模板中：

```
 @model Question

<div id="@Model.LocalizationID">
    @Html.HiddenFor(x=>x.LocalizationID)
    <h3>@Model.Order. @Model.TranslationText</h3>

    @if (Model.Order == 1)
    {
        <p>
            @Html.DropDownListFor(b => b.SelectedAnswer,new SelectList(Model.Answers,"LocalizationID","TranslationText"))

        </p> 
    } 
    else
    {
        foreach (var a in Model.Answers)
        {
            <p>
                @Html.RadioButtonFor(b=>b.SelectedAnswer, a.LocalizationID ) @a.TranslationText
            </p>
        }
    }

    @Html.ValidationMessageFor(x=> x.SelectedAnswer)
</div> 
```

因为我是 ASP.NET MVC 的新手，所以我从以下代码中获取了代码：[ASP.NET MVC 3 Radio Button Strongly typed](https://github.com/kshyju/ASP.MVC3-Radio-button-list)

有什么办法可以找回我的模型吗？我需要它来避免刷新我的页面并丢失所选选项。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:29:26.207

您需要在每个 Web 请求上从您的服务重新生成模型，以便填写单向控制器到视图的属性。对于模型的所有往返属性（例如`SelectedAnswer`），您需要映射已发布到生成的视图模型中的新值。

```
[HttpPost]
public ActionResult Index(Evaluation inputModel)
{
   if (ModelState.IsValid)
   {
     //Save Evaluation 
   }

   var outputModel = _service.GetEvaluation();

   for(var i = 0; i < outputModel.Questions.Count; i++)
       outputModel.Questions[i].SelectedAnswer = inputModel.Questions[i].SelectedAnswer;

   return View(outputModel);
} 
```

另一种更高级但更简洁的实现方式是实现自定义模型绑定器`Evaluation`并使用它来填充从您的服务获取的数据。

# javascript - require() 将构造函数的函数转换为原型？

> ID：15131598
> 
> 赞同：0
> 
> 时间：2013-02-28T09:14:05.563
> 
> 标签：javascript, node.js, prototype

只有一种行为`javascript`或特别`node.js' require()`是我想理解的。我已经读过这个：

[在没有 .prototype 的情况下向构造函数添加新属性](https://stackoverflow.com/questions/9582341/adding-new-properties-to-constructor-function-without-prototype)

还有这个：

[将函数放入对象和对其进行原型设计之间的区别？](https://stackoverflow.com/questions/7382727/the-difference-between-putting-functions-into-an-object-and-prototyping-them)

但是，如果您使用`require()` [http://docs.nodejitsu.com/articles/getting-started/what-is-require](http://docs.nodejitsu.com/articles/getting-started/what-is-require)创建新对象，例如：

```
var Ftp = require("jsftp"),
    ftp = new Ftp({
      host: "ftp.mywebsite.com",
    }); 
```

然后说如果你`ftp.getPutSocket()`稍后再做，它实际上是`Ftp.getPutSocket = function() {}`在**jsftp.js**文件中调用原始文件。

现在怎么可能？我想如果你这样做`new Something()`，你只能打电话进去`Ftp.prototype.getPutSocket`。那么`require()`这里有什么魔法吗？

**更新 1：**

所以这与结束无关，`require()`但基本上是一条`function.call(Ftp.prototype)`线。但这怎么给了我错误：

[http://jsfiddle.net/qhoc/7j3Vp/](http://jsfiddle.net/qhoc/7j3Vp/)

```
var Test = function() {
    console.log('aa');
}

(function() {
    this.anotherTest = function() {
        console.log('bb');
    }
}).call(Test.prototype); 
```

**错误：**

```
Uncaught TypeError: Cannot read property 'prototype' of undefined 
```

我试图做与[https://github.com/sergi/jsftp/blob/master/lib/jsftp.js相同的事情](https://github.com/sergi/jsftp/blob/master/lib/jsftp.js)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:35:54.990

何时`getPutSocket`定义（[https://github.com/sergi/jsftp/blob/master/lib/jsftp.js#L620](https://github.com/sergi/jsftp/blob/master/lib/jsftp.js#L620)），`this`实际上是`Ftp.prototype`（参见[https://github.com/sergi/jsftp/blob/master/lib /jsftp.js#L803](https://github.com/sergi/jsftp/blob/master/lib/jsftp.js#L803)）。

所以看起来根本没有定义 Ftp.getPutSocket 。它仅在 上定义`Ftp.prototype`。

### 更新1：

由于 javascript 评估事物的顺序，这失败了。首先是函数，然后是变量赋值。

然而，这有效：

```
function Test() {
    console.log('aa');
}

(function() {
    this.anotherTest = function() {
        console.log('bb');
    }
}).call(Test.prototype); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-02T10:11:57.027

您收到该错误是因为 JavaScript 的[变量提升](http://www.adequatelygood.com/JavaScript-Scoping-and-Hoisting.html)。如果您将代码更改为此：

```
function Test() {
    console.log('aa');
}

(function() {
    this.anotherTest = function() {
        console.log('bb');
    }
}).call(Test.prototype); 
```

它会起作用的。

原因是声明一个函数之间有一些重要的区别

```
function F() {} // Function declaration 
```

和喜欢

```
var F = function() {} // Function expression 
```

在第一个示例中，因为它是一个声明，`F`所以在任何其他表达式之前被解析和评估。这就是为什么您可以执行以下操作：

```
console.log(myFun());

function myFun() {
  return 'Hi there!';
} 
```

即使您在使用函数**后**声明它，它也会起作用。另一方面，如果你想这样写

```
console.log(myFun());

var myFun = function() { // expression
  return 'Hi there!';
} 
```

它不起作用，因为`var`表达式在实际使用后才被执行，因为它是一个表达式（它是赋值表达式的一部分）。

在您的示例中，当`call`评估函数尚未分配时，这就是您得到.`Test.prototype``Test``TypeError`

更多关于此的信息和见解：

*   [http://kangax.github.io/nfe/](http://kangax.github.io/nfe/)
*   [http://www.permadi.com/tutorial/jsFunc/index.html](http://www.permadi.com/tutorial/jsFunc/index.html)

# android - 当在android中禁用所有外部点击时，水平滚动视图在弹出窗口中不起作用

> ID：15131606
> 
> 赞同：1
> 
> 时间：2013-02-28T09:14:28.420
> 
> 标签：android

公共无效完成（查看v）{

```
 // Display settings
    Display display = ((WindowManager) mContext
            .getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();

    // The view to show
    View mView = ((Activity) mContext).getLayoutInflater().inflate(
            R.layout.custom_menu_bottom, null);

    // Create popup window to show
    //mPopupWindow = new PopupWindow(mView, LayoutParams.MATCH_PARENT,
            //LayoutParams.WRAP_CONTENT);
    mPopupWindow = new PopupWindow(mView, LayoutParams.MATCH_PARENT,
            100);
    mPopupWindow.setAnimationStyle(R.style.Animations_MenuAnimation);

    mPopupWindow.setWidth(display.getWidth());
    mPopupWindow.setHeight(display.getHeight()/4);
    mPopupWindow.setOutsideTouchable(true);
       mPopupWindow.setFocusable(true);

 mPopupWindow.setTouchable(true);
    mPopupWindow.setBackgroundDrawable(new BitmapDrawable());

    mPopupWindow.showAtLocation(v, Gravity.BOTTOM, 0, 0);
    mPopupWindow.setContentView(mView);

    int i=0;
    HorizontalScrollView hScrollView=(HorizontalScrollView)mView.findViewById(R.id.horizontal_scroll_view5);
     LinearLayout lowLinearLayout = new LinearLayout(mContext);
    if(moodValue.equalsIgnoreCase("like"))
    {
        for(i=0 ;i<postive_smiley.length;i++)
        {

             final ImageView imageView=new ImageView(mContext);

            //imageView.setImageResource(smiley[i]);
            imageView.bringToFront();

            imageView.setBackgroundResource(postive_smiley[i]);
            lowLinearLayout.addView(imageView);

            imageView.setTag(i);
            imageView.getLayoutParams().height =hScrollView.getLayoutParams().FILL_PARENT;
            imageView.getLayoutParams().width=display.getWidth()/4;

            imageView.setOnClickListener(new OnClickListener() {
                public void onClick(View v) 
                {
                    // TODO Auto-generated method stub
                    int s =(Integer) imageView.getTag();
                    String value=positive_values[s];
                    Toast t = Toast.makeText(mContext, "id is "+s + " choice is "+value, Toast.LENGTH_SHORT);
                    t.show();
                    Done.setMood(value);
                    hide();
                    mContext.finish();

                }
            });
        }
        hScrollView.addView(lowLinearLayout);
    }else
    {
            for(i=0 ;i<negative_smiley.length;i++)
            {

                 final ImageView imageView=new ImageView(mContext);

                   //imageView.setImageResource(smiley[i]);
                   imageView.bringToFront();

                    imageView.setBackgroundResource(negative_smiley[i]);
                    lowLinearLayout.addView(imageView);

                    imageView.setTag(i);
                    imageView.getLayoutParams().height =hScrollView.getLayoutParams().FILL_PARENT;
                    imageView.getLayoutParams().width=display.getWidth()/4;

                    imageView.setOnClickListener(new OnClickListener() {
                        public void onClick(View v) {
                            // TODO Auto-generated method stub
                            int s =(Integer) imageView.getTag();
                            String value=negative_values[s];
                            Toast t = Toast.makeText(mContext, "id is "+s + "choice is"+value, Toast.LENGTH_SHORT);
                            t.show();
                            Done.setMood(value);
                            hide();

                        }
                    });
            }
            hScrollView.addView(lowLinearLayout);
    }

} 
```

当我对我的所有窗口发表评论时，我的`mPopupWindow.setBackgroundDrawable(new BitmapDrawable())`所有窗口都被禁用但问题是在弹出窗口中我设置了图像的数量，`horizontal scroll view`并且有一次在活动中只看到四个图像。但是，当我进行该行注释时，滚动视图不起作用，只有这四个图像可见。我想让我的弹出窗口可滚动并禁用所有其他窗口。

# angularjs - 在将指令模板添加到 AngularJS 的范围之前编译指令模板

> ID：15131607
> 
> 赞同：0
> 
> 时间：2013-02-28T09:14:28.953
> 
> 标签：angularjs, angularjs-directive

我有一个像这样的AngularJS指令：

```
MyDirective = (myService) ->

  templateUrl: 'my-partial.html'

  compile: () ->
    pre: ($scope, $element, $attrs, $controller) ->
      $attrs.$observe 'myDirective', (name) ->
        success = (response) ->
          $scope.entries = response

        failure = () ->
          console.log "Failed to load data for #{name}"

        myService.loadData(name)
        .then success, failure

MyDirective.$inject = ['MyService'] 
```

和部分：

```
<ul>
  <li data-ng-repeat="entry in entries">
    <img src="{{entry.url}}">
  </li>
</ul> 
```

在将其添加到 DOM 之前，如何编译模板，从而用`...src="{{entry.url}}"...`正确的图像替换？`src`

问题是我们在异步调用接收到数据之前收到了一些 404 错误，我们希望避免这些错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:28:37.590

我们遇到的问题是该`templateUrl`属性导致我们的异步数据加载出现问题，因此我们删除了部分并将模板 HTML 添加到我们的父部分中。

第二个问题是我们使用`src`而不是`ng-src`; 后者在将自身重写为属性之前等待分配任何模板值`src`，从而防止 404。

# c# - 如何检查它是否是第一个记录

> ID：15131612
> 
> 赞同：0
> 
> 时间：2013-02-28T09:14:32.870
> 
> 标签：c#, .net

我正在开发一个应用程序，但是卡在一段代码中，我不知道如何弄清楚，当我从数据库加载数据时，我希望每个记录状态都设置为无。

但未能做到这一点。这是我的代码。

```
 [Table(`PROGRAM_OFFER`)]
    public class ProgramOffer : DomainObject
    {
        #region -   [   Properties  ]   -

        private decimal _ProgramOfferId { get; set; }
        [PrimaryKey(`PROGRAM_OFFER_ID`)]
        public virtual decimal ProgramOfferId
        {
            get { return _ProgramOfferId; }
            set
            {
                if (_ProgramOfferId != value)
                {
                    _ProgramOfferId = value;
                    NotifyChanged(`ProgramOfferId`);

                    CheckIfFirstRecord();
                }
            }
        }
        private decimal _ProgramId { get; set; }
        [Column(`PROGRAM_ID`)]
        public virtual decimal ProgramId
        {
            get { return _ProgramId; }
            set
            {
                if (_ProgramId != value)
                {
                    _ProgramId = value;
                    NotifyChanged(`ProgramId`);

                    CheckIfFirstRecord();
                }
            }
        }
        private RecordStatus _CurruntRecordStatus { get; set; }
        public RecordStatus CurruntRecordStatus
        {
            get { return _CurruntRecordStatus; }
            set
            {
                if (_CurruntRecordStatus != value)
                    if (value == RecordStatus.None || _CurruntRecordStatus == RecordStatus.None || _CurruntRecordStatus == 0)
                    {
                        _CurruntRecordStatus = value;
                        NotifyChanged("CurruntRecordStatus");
                    }
            }
        }

        private void CheckIfFirstRecord()
        {
            if (ProgramOfferId > 0 && ProgramId > 0 && TermId > 0 && SemesterId > 0)
                if (CurruntRecordStatus == 0)
                    CurruntRecordStatus = RecordStatus.None;
                else
                    CurruntRecordStatus = RecordStatus.Updated;
        } 

```

`CurrentRecordStatus`这是我的代码，如果这是第一次加载，如何设置为 None，

谢谢

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:16:57.920

在构造函数中设置默认值怎么样？

```
public ProgramOffer()
{
    _CurruntRecordStatus = RecordStatus.None;
} 
```

# python - Sphinx 文档变量

> ID：15131613
> 
> 赞同：7
> 
> 时间：2013-02-28T09:14:34.320
> 
> 标签：python, python-sphinx

我正在为一个新项目编写文档，使用`Sphinx`

但是因为这个项目是新的，它的名字可能会改变，我不想在我的所有文档中替换所有“项目名称”的引用。

所以我想知道是否有办法把一些变量/常数放在上面`Sphinx`。

我知道 上有一个`i18n`功能`Sphinx`，所以我可以使用 gettext 来更改“项目名称”而无需其他任何东西。但我正在寻找一种适当的方法来做到这一点。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-01T08:51:52.907

通过`sphinx`使用配置值来引用项目名称。询问您的项目名称是否`sphinx-quickstart`用于创建 xyour`sphinx`项目。之后您可以通过更改`project`您的项目名称来更改项目名称`conf.py`

您可以通过在`.rst`文件中定义它们来`conf.py`使用文件中的配置值（有关示例，`rst_epilog`请参见此[答案）。](https://stackoverflow.com/a/10042061/1301710)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-02T12:06:01.020

从[狮身人面像文档](http://www.sphinx-doc.org/en/2.0/usage/restructuredtext/basics.html#substitutions)：

> reST 支持“替换”（[ref](http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#substitution-definitions)），它是由`|name|`. 它们被定义为带有显式标记块的脚注，如下所示：
> 
> ```
> .. |name| replace:: replacement *text* 
> ```
> 
> 或这个：
> 
> ```
> .. |caution| image:: warning.png
>          :alt: Warning! 
> ```
> 
> 有关详细信息，请参阅[替换参考 reST](http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#substitution-definitions)。
> 
> 如果您想对所有文档使用一些替换，请将它们放入[`rst_prolog`](http://www.sphinx-doc.org/en/2.0/usage/configuration.html#confval-rst_prolog)或[`rst_epilog`](http://www.sphinx-doc.org/en/2.0/usage/configuration.html#confval-rst_epilog)或将它们放入单独的文件中，并将其包含到您要使用它们的所有文档中，使用`include`指令。（确保为包含文件提供与其他源文件不同的文件扩展名，以避免 Sphinx 将其视为独立文档。）

添加您的“项目变量”`rst_prolog`并使用替换。

# java - el中的会话设置并获取java类

> ID：15131614
> 
> 赞同：1
> 
> 时间：2013-02-28T09:14:36.853
> 
> 标签：java, jsp, session

我们如何使用 EL 在会话中设置值并在 java 类中获取该值，即

```
<c:set var="hai" value="${listfiles[8]}" scope="session" /> 
```

以上是我的jsp中的代码。我在java类中的代码是

```
session.getAttribute("hai"). 
```

这可能与否。还有其他可能的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T10:12:23.560

您可以在 jsp 中使用 scriptlet 设置会话。

```
<%  
List name = request.getParameter("name");
if((name!=null)) 
{
 session.setAttribute("hai",name);
  }
%> 
```

根据您的要求更改代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T10:53:05.943

```
<c:set var="Hai" value="myvalue" />
<c:out value="${sessionScope[Hai]}"/> 
```

看 ：

[https://stackoverflow.com/tags/el/info](https://stackoverflow.com/tags/el/info)

[http://docs.oracle.com/javaee/6/tutorial/doc/bnaim.html](http://docs.oracle.com/javaee/6/tutorial/doc/bnaim.html)

# java - 如何在我的应用程序的登录页面中使用忘记密码

> ID：15131615
> 
> 赞同：0
> 
> 时间：2013-02-28T09:14:40.230
> 
> 标签：java, android

我正在关注本教程[http://www.linuxforu.com/2010/12/android-application-development-playing-with-sqlite-database/](http://www.linuxforu.com/2010/12/android-application-development-playing-with-sqlite-database/)在我的 android 应用程序中使用登录页面，在本教程中没有关于忘记密码，我想在我的应用程序中添加这些功能。MYLogin.java

```
public class UserLoggedInPage extends Activity {

    /* (non-Javadoc)
     * @see android.app.Activity#onCreate(android.os.Bundle)
     */
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.loggedin);
    }

    /* (non-Javadoc)
     * @see android.app.Activity#onBackPressed()
     */
    @Override
    public void onBackPressed() {
        super.onBackPressed();
        Intent i = new Intent(UserLoggedInPage.this, DatabaseActivity.class);
        startActivity(i);
        finish();
    } 
```

xml文件

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/background"
    >
<TextView  
    android:layout_width="fill_parent" 
    android:layout_height="wrap_content" 
    android:text="@string/title"
    android:gravity="center"
    android:textSize="20sp"
    android:textColor="#000000"
    />

    <TableLayout
        android:id="@+id/layout1"
        android:layout_height="wrap_content"
        android:layout_width="fill_parent"
        android:padding="30dp"
    >
        <TableRow
            android:id="@+id/row1"
            android:layout_height="wrap_content"
            android:layout_width="fill_parent"
        >
        <TextView
            android:id="@+id/txtUsername"
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="@string/txtUname"
            android:padding="10dp"
            android:textColor="#000000"
        ></TextView>

        <EditText
            android:id="@+id/editUsername"
            android:layout_height="wrap_content"
            android:layout_width="fill_parent"
            android:layout_weight="0.5"
            android:padding="10dp"
            style="@android:style/Widget.EditText"
            android:textColor="#000000"
        >
        </EditText>
    </TableRow>
    <TableRow
        android:id="@+id/row2"
    >
        <TextView
            android:id="@+id/txtPassword"
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="@string/txtPassword"
            android:padding="10dp"
            android:textColor="#000000"
        ></TextView>

        <EditText
            android:id="@+id/editPassword"
            android:layout_height="wrap_content"
            android:layout_width="fill_parent"
            android:layout_weight="0.5"
            android:padding="10dp"
            style="@android:style/Widget.EditText"
            android:password="true"
            android:textColor="#000000"
        ></EditText>
    </TableRow>
    <TableRow
        android:id="@+id/row3"
        android:layout_gravity="center"
    >
        <Button
            android:id="@+id/buttonLogin"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/buttonLogin"
            android:layout_gravity="center"
            android:layout_weight="1"
        ></Button>
        <Button
            android:id="@+id/buttonNewUser"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/buttonSignUp"
            android:layout_gravity="center"
            android:layout_weight="1"
        ></Button>
    </TableRow>
    <TableRow
        android:id="@+id/row3"
        android:layout_gravity="center"
    >
        <Button
            android:id="@+id/buttonShowAll"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/buttonShowAll"
            android:layout_gravity="center"
            android:layout_weight="1"
        ></Button>
        </TableRow>
    </TableLayout>
</LinearLayout>

****Can anyone tell,how to use forgot password in my application,or give some links or tutorial to learn how to put forgot password in android,i am new to android**** 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:21:49.573

您可以添加其他链接/按钮作为“忘记密码”。单击此按钮，创建新活动，您可以在其中提供一个编辑文本，他可以在其中插入用户名和检查按钮以检查该用户名是否存在于您的数据库中。

检查用户提供的用户名，比较它，显示结果。

# linux - 我的 perl 脚本如何使用 UDev 而不是 HAL 对任意设备做出反应？

> ID：15131616
> 
> 赞同：5
> 
> 时间：2013-02-28T09:14:40.947
> 
> 标签：linux, perl, dbus, device, udev

我想在每次连接时使用一个简单的 Perl 脚本进行一些配置，例如我的蓝牙耳机。我尝试使用[Net::DBus](http://search.cpan.org/~danberr/Net-DBus-0.33.1/lib/Net/DBus.pm)，但我的 OS/DE（Fedora 17、GNOME3）不再使用 HAL。

我真的不想为此安装 HAL，那我该怎么办？到目前为止我的想法：

*   （首选）：使用 DBus；只需收听 UDev 事件而不是`org.freedesktop.Hal`. 问题：我找不到相应的服务，`org.freedesktop.UDisks`似乎只监视磁盘（duh）。UDev 是否​​甚至会为其他设备发送 DBus 消息，如果没有，我可以将其配置为这样做吗？
*   使用 UDev 规则触发另一个脚本。我喜欢将我的脚本放在一个地方，以便轻松过渡到新的操作系统安装，所以我宁愿避免这种情况。
*   我最好只使用[Python 直接收听 UDev](https://stackoverflow.com/a/5111493/2118771)吗？
*   或者我可以使用 Perl 来做到这一点吗？CPAN 搜索“udev”没有任何帮助。

或者我可能完全关闭，UDev 甚至不是我需要的。文档和谷歌在这件事上都没有真正的帮助。一种解决方法是，如果有人知道如何让 GNOME3 默认将音频输出切换到新连接的蓝牙耳机，但我还是想学习这样的脚本。

提前感谢您的任何指点！
一个。

PS：顺便说一下，Google&Co。声称 UDev 获取设备并向 HAL 发送消息，HAL 反过来通知 DBus。绝对不是这种情况，因为 HAL 甚至不再出现在 Fedora Repos 中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-07-13T11:33:11.957

您可以使用 Udev::FFI (cpanm Udev::FFI)

例如：

```
use Udev::FFI;

my $udev = Udev::FFI->new() or
    die "Can't create udev context.";
my $monitor = $udev->new_monitor() or
    die "Can't create udev monitor.";
$monitor->filter_by_subsystem_devtype('usb', 'usb_device');
$monitor->start() or die "Can't start monitor.";

for(;;) {
    if(defined(my $device = $monitor->poll())) {
        my $action = $device->get_action();
        if($action eq 'add') {
            #work with $device
... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-11T07:34:44.973

不，udev 不会自行发送 D-Bus 事件。Xorg、PuslseAudio、udisks等程序直接监听uevents（有些来自内核，有些是udev生成的）。对于许多 uevent 来说，没有任何东西可以将它们反映到 D-Bus 上。

`udevadm monitor`将打印出 uevents 流。这在 Perl 中作为管道很容易阅读。例如，

```
open my $udev, '-|', qw(udevadm monitor);
while (<$udev>) {
    my ($source, $ts, $action, $dev, $sys) = split;
    if ($action eq 'add') {
        # etc. 
```

然而，在大多数发行版上，蓝牙是通过 BlueZ 处理的，BlueZ 提供了一个 D-Bus 接口。例如，如果您对特定设备感兴趣，您可以在众所周知的系统总线名称上监视对象的`org.bluez.Device1.Connected`属性。`/org/bluez/hciX/dev_XX_XX_XX_XX_XX_XX``org.bluez`

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-28T16:40:40.300

你检查过 Device::USB 吗？

[http://metacpan.org/pod/Device::USB](http://metacpan.org/pod/Device::USB)

您可以使用它循环检查您的设备。

它包含开头的示例：[https ://metacpan.org/pod/distribution/Device-USB/dump_usb.pl](https://metacpan.org/pod/distribution/Device-USB/dump_usb.pl)

问候，

# php - 在 PHP 字符串中创建回车符？

> ID：15131619
> 
> 赞同：20
> 
> 时间：2013-02-28T09:14:47.643
> 
> 标签：php, string, carriage-return, whmcs

我们为我们的计费系统编写了一个小的 PHP Hook，它会在下订单时向我们打开一个新的支持票。它的工作原理是“Open Ticket”API 函数需要一个字符串作为消息，但我们无法弄清楚如何在其中放入回车符。

我试过了

```
<p>, <br>, \n, \r\n, etc. 
```

由于它似乎只是完全纯文本，所有这些都只是逐字阅读而不是制成回车符。

有人对如何做到这一点有任何想法吗？ [http://docs.whmcs.com/API:Open_Ticket](http://docs.whmcs.com/API:Open_Ticket)

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2013-02-28T09:16:29.480

回车是`"\r"`. 注意双引号！

我认为您希望`"\r\n"`顺便在您的文本中放置一个换行符，以便它可以在不同的操作系统中正确呈现。

*   麦克：\r
*   Linux/Unix：\n
*   窗口：\r\n

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2015-09-29T13:11:23.820

还有跨平台的 PHP 5.0.2 PHP_EOL 常量！

[堆栈溢出参考](https://stackoverflow.com/a/255531/2152973)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2018-04-24T09:32:50.520

PHP_EOL 返回与平台上的换行符对应的字符串（LF, \n ou #10 sur Unix, CRLF, \n\r ou #13#10 sur Windows）。

```
echo "Hello World".PHP_EOL; 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-28T09:16:39.947

```
$postfields["message"] = "This is a sample ticket opened by the API\rwith a carriage return"; 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2018-03-15T19:03:29.647

我发现添加`<br>`做的是想要的。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-04-20T07:05:28.523

片段 PHP（在控制台*Cloud9*中）：

```
echo "\n";
echo "1: first_srt=1\nsecnd_srt=2\n";
echo "\n";
echo '2: first_srt=1\nsecnd_srt=2\n';
echo "\n";
echo "==============\n";
echo "\n"; 
```

结果输出：

```
 1: first_srt=1
  secnd_srt=2

  2: first_srt=1\nsecnd_srt=2\n
  ============== 
```

1 和 2 之间的区别： **"**与**'**

# php - 单击提交按钮时，下拉选择的值不会更改

> ID：15131627
> 
> 赞同：-4
> 
> 时间：2013-02-28T09:15:17.297
> 
> 标签：php, jquery

我的问题是当我单击提交按钮时，页面中的任何错误都喜欢（需要字段验证），时间选择的下拉值是默认值。但我们的要求是不改变下拉值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:22:41.150

试试这个 ：

注意：选择值`$_REQUEST['test']`与选项中的每个值进行比较

```
<select name="test">
<option value="">Default</option>
<option value="value1" <?php if($_REQUEST['test'] == 'value1'){?> selected="selected" <?php }?>> value1</option>
<option value="value2" <?php if($_REQUEST['test'] == 'value2'){?> selected="selected" <?php }?>> value2</option>
<option value="value3" <?php if($_REQUEST['test'] == 'value3'){?> selected="selected" <?php }?>> value3</option>
<option value="value4" <?php if($_REQUEST['test'] == 'value4'){?> selected="selected" <?php }?>> value4</option>
</select> 
```

# c# - 通过正则表达式仅允许字母和“特殊”字母（éèà 等）

> ID：15131632
> 
> 赞同：6
> 
> 时间：2013-02-28T09:15:30.243
> 
> 标签：c#, regex

我正在尝试匹配一个字符串以查看它是否仅由字母组成。应允许使用各种字母。所以典型的`a-zA-Z`，还有`áàéèó...`等等。

我试图将它与以下正则表达式匹配：`([\S])*`

但这也允许诸如`\/<>*()...`etc 之类的字符。这些显然是不属于名称的字符。当我只想允许字母和“特殊”字母时，正则表达式的外观如何？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-28T09:19:15.690

对于**非 REGEX**解决方案，您可以使用[char.IsLetter](http://msdn.microsoft.com/en-us/library/system.char.isletter.aspx)

[Char.IsLetter 方法](http://msdn.microsoft.com/en-us/library/system.char.isletter%28v=vs.71%29.aspx)

> 指示指定的 Unicode 字符是否归类为字母。

```
string str = "Abcáàéèó";
bool result = str.All(char.IsLetter); 
```

这将给出`false`数字`\/<>*()`等的结果。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-28T09:17:14.167

您可以使用确切说明的字符类：

```
\p{L} 
```

所以正则表达式

```
^\p{L}+$ 
```

如果字符串仅由字母组成，则将匹配。如果您期望组合字符，那么

```
^(\p{L}\p{M}*)+$ 
```

作品。

快速 PowerShell 测试：

```
PS> 'foo','bär','a.b','&^#&%','123','кошка' -match '^\p{L}+$'
foo
bär
кошка 
```

# php - 从mysql数据库中删除行

> ID：15131638
> 
> 赞同：1
> 
> 时间：2013-02-28T09:15:49.743
> 
> 标签：php, mysql, sql, database, sql-delete

我在使用参数从表中删除行时遇到问题。这是代码：

```
if ($dbProductImageIdNumber) {
$ImagesToDeleteNumber = $dbProductImageIdNumber -1 - $numItemImages;
echo "$dbProductImageIdNumber" . ' ';
echo "$numItemImages" . ' ';
echo "$ImagesToDeleteNumber" . ' ';
echo 'Deleting';
mysql_query("DELETE FROM wp_posts
WHERE post_parent = '$dbProductId' ,ID != '$dbProductThumbnail'");
} 
```

问题是这`!=`似乎被错误地理解了，也许我在做语法错误？

将感谢任何帮助。

- - -编辑 - - -

好的，这就是我现在所拥有的：

```
if ($dbProductImageIdNumber) {
$ImagesToDeleteNumber = $dbProductImageIdNumber -1 - $numItemImages;
echo "$dbProductImageIdNumber" . ' ';
echo "$numItemImages" . ' ';
echo "$ImagesToDeleteNumber" . ' ';
echo "$dbProductId" . ' ';
echo "$dbProductThumbnail" . ' ';
mysql_query("DELETE FROM wp_posts
WHERE post_parent = '$dbProductId' AND ID != '$dbProductThumbnail'");
} 
```

示例：我的 $dbProductId 是 '16' 和 $dbProductThumbnail '17'。问题是，为什么这个命令不删除 post_parent 为 '16' 且 ID 不是 17 的任何行？有什么线索吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:17:46.187

它应该是`AND`而不是逗号。

```
DELETE FROM wp_posts
WHERE post_parent = '$dbProductId' AND ID != '$dbProductThumbnail' 
```

作为旁注，[`SQL Injection`](http://bobby-tables.com/)如果变量的值（*s*）来自外部，则查询很容易受到攻击。请看下面的文章，了解如何预防。通过使用`PreparedStatements`，您可以摆脱在值周围使用单引号。

*   [如何*防止*PHP 中的 SQL 注入？](https://stackoverflow.com/questions/60174/how-to-prevent-sql-injection-in-php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:22:10.777

在你的陈述中使用`AND`或`OR``WHERE`

```
DELETE FROM wp_posts
WHERE post_parent = '$dbProductId' AND ID != '$dbProductThumbnail' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:53:08.360

问题不是 != 但问题是您在 post_parent = '$dbProductId' ,ID != '$dbProductThumbnail'" 之间的代码中使用了 "," 而不是 AND

mysql_query("DELETE FROM wp_posts WHERE post_parent = '$dbProductId' ,ID != '$dbProductThumbnail'"); }

因此，正确的语法如下。

从 wp_posts 中删除 post_parent = '$dbProductId' AND ID != '$dbProductThumbnail'

# javascript - requirejs中的模块名称

> ID：15131639
> 
> 赞同：0
> 
> 时间：2013-02-28T09:15:56.160
> 
> 标签：javascript, requirejs

当我使用 requirejs 加载模块时，我是使用模块中定义的文件名还是变量名。

例如在模块定义中`mymodule.js`

```
define( function () {

    var module = 'Hello World!';

    return module;

}); 
```

然后在消费模块中`foo.js`

我叫它：

```
require( [mymodule], function (module) {
    console.log(module);
}); 
```

或者

```
require( [mymodule], function (mymodule) {
    console.log(mymodule);
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T10:05:10.503

从技术上讲，您可以随意调用它，但是仅使用的一个限制`module`是当您有两个模块时您会做什么？`module2`? 命名参数以匹配模块名称会更好（也更常见）：

```
require(['ajaxloader', 'modules/carousel', 'jquery'], function(ajaxloader, carousel, $){

}); 
```

在上面的示例中，您可以看到，即使模块具有路径，仅使用模块名称也是有意义的。并且总是有例外，在这种情况下使用`$`而不是`jquery`.

# java - 无法在 Netbeans 中编辑 GUI

> ID：15131643
> 
> 赞同：2
> 
> 时间：2013-02-28T09:16:04.643
> 
> 标签：java, user-interface, netbeans-7

我正在尝试在 Netbeans 中构建 GUI（我还安装了 Opengl Pack），但每次尝试拖动组件时，都会出现此错误：

```
Cannot load component class javax.media.opengl.GLCanvas 
from JAR file C:\Program Files (x86)\NetBeans 7.3.

The class could not be found. Note the class must be 
compiled and must be part of the sources or dependencies 
of the project where the target GUI form belongs to. 
```

# javascript - url重定向在javascript中不起作用

> ID：15131645
> 
> 赞同：0
> 
> 时间：2013-02-28T09:16:07.513
> 
> 标签：javascript, html

这是html代码

```
<head runat="server">
<title>Untitled Page</title>

<script type="text/javascript">
    function func()
    {
        document.location.href="www.google.com"
    }
</script>

</head>
<body>
    <form id="form1" runat="server">
    <input type="button" runat="server" onclick="func();" />
    </form>
</body>
</html> 
```

重定向不起作用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:16:50.267

因为它应该是`window.location.href`。

**参考：** [https ://developer.mozilla.org/en-US/docs/DOM/window.location](https://developer.mozilla.org/en-US/docs/DOM/window.location)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T09:17:37.117

没有`document.location`。

使用, 或**(** 我更喜欢后者:))`window.location.href``location.href`

# java - Nineoldandroid 库使视图不稳定

> ID：15131652
> 
> 赞同：1
> 
> 时间：2013-02-28T09:16:29.790
> 
> 标签：java, android, viewhelper

```
private void createnewpattern(final String res) {
    final int width, height;
    BitmapDrawable image = null;
    if (res.equals("")) {
        width = bitmap.getWidth();
        height = bitmap.getHeight();
    } else {
        image = (BitmapDrawable) this.getResources().getDrawable(
                getResources().getIdentifier(res, "drawable",
                        getPackageName()));
        width = image.getBitmap().getWidth();
        height = image.getBitmap().getHeight();
    }

    ImageView pattern = new ImageView(this);
    pattern.setId(startingnumber);
    if (res.equals(""))
        pattern.setImageBitmap(bitmap);
    else
        pattern.setImageDrawable(image);
    pattern.setScaleType(ScaleType.FIT_CENTER);

    pattern.setPadding(width / 4, height / 4, width / 4, height / 4);

    final RelativeLayout.LayoutParams patternparam = new RelativeLayout.LayoutParams(
            width * 3 / 2, height * 3 / 2);

    Random random = new Random();
    int rx = random.nextInt((contentimage.getWidth() * 3 / 4)
            - contentimage.getWidth() / 4 + 1) + 0;
    int ry = random.nextInt((contentimage.getHeight() * 3 / 4)
            - contentimage.getHeight() / 4 + 1) + 0;

    if (res.equals(""))
        patternparam.setMargins(GlobalFunction.leftmargin - width / 4,
                GlobalFunction.topmargin - height / 4, 0, 0);
    else
        patternparam.setMargins(rx, ry, 0, 0);

    pattern.setOnTouchListener(new OnTouchListener() {
        @Override
        public boolean onTouch(View view, MotionEvent event) {
            if (isselected.get(view.getId() - 1001)) {

                mScaleDetector.onTouchEvent(event);

                mRotateDetector.onTouchEvent(event);

                mMoveDetector.onTouchEvent(event);

                ImageView imageview = (ImageView) rLayout
                        .findViewById(selectedid);

                ViewHelper.setRotation(imageview, mRotationDegrees);

                ViewHelper.setScaleX(imageview, mScaleFactor);
                ViewHelper.setScaleY(imageview, mScaleFactor);

                ViewHelper.setTranslationX(imageview, mFocusX);
                ViewHelper.setTranslationY(imageview, mFocusY);
            }

            switch (event.getAction() & MotionEvent.ACTION_MASK) {
            case MotionEvent.ACTION_UP:
                if (!isselected.get(view.getId() - 1001)) {
                    for (int j = 0; j < isselected.size(); j++) {
                        isselected.set(j, false);
                        rLayout.findViewById(1001 + j)
                                .setBackgroundDrawable(null);
                    }

                    selectedid = view.getId();
                    isselected.set(view.getId() - 1001, true);
                    view.setBackgroundResource(R.drawable.border);

                    ImageView imageview = (ImageView) view;
                    imageview.setScaleType(ScaleType.FIT_CENTER);
                    imageview.setPadding(width / 4, height / 4, width / 4,
                            height / 4);

                    mScaleFactor = ViewHelper.getScaleX(imageview);

                    mRotationDegrees = ViewHelper.getRotation(imageview);

                    mFocusX = ViewHelper.getTranslationX(imageview);
                    mFocusY = ViewHelper.getTranslationY(imageview);
                }
                break;
            }

            return true;
        }
    });

    patternframe.addView(pattern, patternparam);

    isselected.add(false);
    startingnumber++;

    action4btn.setBackgroundDrawable(GlobalFunction.backgroundselector(
            this, R.drawable.paint_action_4_default,
            R.drawable.paint_action_4_selected));
}

private class ScaleListener extends
        ScaleGestureDetector.SimpleOnScaleGestureListener {
    @Override
    public boolean onScale(ScaleGestureDetector detector) {
        mScaleFactor *= detector.getScaleFactor();
        mScaleFactor = Math.max(0.5f, Math.min(mScaleFactor, 4f));

        return true;
    }
}

private class OnRotationGestureListener implements
        RotationGestureDetector.OnRotationGestureListener {

    @Override
    public boolean OnRotation(RotationGestureDetector rotationDetector) {
        mRotationDegrees -= rotationDetector.getAngle();

        return true;
    }
}

private class MoveListener extends
        MoveGestureDetector.SimpleOnMoveGestureListener {
    @Override
    public boolean onMove(MoveGestureDetector detector) {
        PointF d = detector.getFocusDelta();
        mFocusX += d.x;
        mFocusY += d.y;

        return true;
    }
} 
```

我有这个监听器，但有一些错误。

图像的方向也会旋转。

当我旋转 90 度时，我向上平移 Y，但图像向左平移 X。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-21T19:17:22.213

Sounds like when you rotated 90 the orientation of the view changed as well, so that the Y axis became the X axis that the user sees. Can you provide the Animator code that actually rotates and translates?

# sql - oracle如何创建子分区？

> ID：15131653
> 
> 赞同：0
> 
> 时间：2013-02-28T09:16:35.453
> 
> 标签：sql, oracle, oracle11g, partitioning

现在我开始在 oracle 中学习分区概念。一些我将如何管理分区现在我尝试在 Oracle 中创建子分区。我有这个错误

```
SQL Error: ORA-14160: this physical attribute may not be specified for a table subpartition
14160\. 00000 -  "this physical attribute may not be specified for a table subpartition"
*Cause:    unexpected option was encountered while parsing physical
           attributes of a table subpartition; TABLESPACE is the only valid
           option
*Action:   remove invalid option(s)
*Comment:  this error could have resulted from omission of a
           terminating (right) parenthesis following the list of
           subpartition descriptions 
```

相应的代码是：

```
create table sub_pat_test(emp_name varchar2(30),job_id varchar2(30),hire_date date)
   partition by range(hire_date) subpartition by list(job_id)(
   partition p1 values less than(to_date('01-01-2003','dd-mm-yyyy'))(
    subpartition sp1 values('HR_REP','PU_MAN'),subpartition sp11 values(default)),

   partition p2 values less than(to_date('01-01-2004','dd-mm-yyyy'))(
    subpartition sp2 values('AC_ACCOUNT','FI_ACCOUNT') 
    subpartition sp22 values(default)
   )
    partition p3 values less than(to_date('01-01-2005','dd-mm-yyyy'))(
    subpartition sp3 values('SH_CLERK','ST_CLERK')
    subpartition sp33 values(default)
   ))
   partition p4 values less than(to_date('01-01-2006','dd-mm-yyyy'))(
    subpartition sp4 values('SA_MAN','PU_MAN')
    subpartition sp44 values(default)
   )
   partition p5 values less than(maxvalues)(
    subpartition sp5 values(default)
   )) ; 
```

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:52:28.970

有两个错误 - 缺少逗号，您提到`MAXVALUE`了`maxvalues`

```
create table sub_pat_test(emp_name varchar2(30),job_id varchar2(30),hire_date date)
   partition by range(hire_date) 
   subpartition by list(job_id)(
   Partition P1 Values Less Than(To_Date('01-01-2003','dd-mm-yyyy'))
   (
    Subpartition Sp1 Values('HR_REP','PU_MAN'),
    Subpartition Sp11 Values(Default)
    ),
   Partition P2 Values Less Than(To_Date('01-01-2004','dd-mm-yyyy'))
   (
    subpartition sp2 values('AC_ACCOUNT','FI_ACCOUNT') ,
    Subpartition Sp22 Values(Default)
   ),
    Partition P3 Values Less Than(To_Date('01-01-2005','dd-mm-yyyy'))
    (
    subpartition sp3 values('SH_CLERK','ST_CLERK'),
    subpartition sp33 values(default)
   ),
   Partition P4 Values Less Than(To_Date('01-01-2006','dd-mm-yyyy'))(
    subpartition sp4 values('SA_MAN','PU_MAN'),
    subpartition sp44 values(default)
   ),
   partition p5 values less than(maxvalue)(
    subpartition sp5 values(default)
   )) ; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:48:00.353

子分区/分区定义之间缺少逗号。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-10-09T07:50:29.207

试试这个工作代码..

**每周按日期保存分区，按电台名称按字母顺序进行子分区，以在单独的子分区中记录大量记录。**

```
PARTITION BY RANGE (CREATED_DATE) INTERVAL (numtodsinterval(7, 'DAY')) 
SUBPARTITION BY RANGE(STATION)
    SUBPARTITION TEMPLATE (
        SUBPARTITION SUB_PART_A VALUES LESS THAN ('B%'),
        SUBPARTITION SUB_PART_B VALUES LESS THAN ('C%'),
        SUBPARTITION SUB_PART_C VALUES LESS THAN ('D%'),
        SUBPARTITION SUB_PART_D VALUES LESS THAN ('E%'),
        SUBPARTITION SUB_PART_E VALUES LESS THAN ('F%'),
        SUBPARTITION SUB_PART_F VALUES LESS THAN ('G%'),
        SUBPARTITION SUB_PART_G VALUES LESS THAN ('H%'),
        SUBPARTITION SUB_PART_H VALUES LESS THAN ('I%'),
        SUBPARTITION SUB_PART_I VALUES LESS THAN ('J%'),
        SUBPARTITION SUB_PART_J VALUES LESS THAN ('K%'),
        SUBPARTITION SUB_PART_K VALUES LESS THAN ('L%'),
        SUBPARTITION SUB_PART_L VALUES LESS THAN ('M%'),
        SUBPARTITION SUB_PART_M VALUES LESS THAN ('N%'),
        SUBPARTITION SUB_PART_N VALUES LESS THAN ('O%'),
        SUBPARTITION SUB_PART_O VALUES LESS THAN ('P%'),
        SUBPARTITION SUB_PART_P VALUES LESS THAN ('Q%'),
        SUBPARTITION SUB_PART_Q VALUES LESS THAN ('R%'),
        SUBPARTITION SUB_PART_R VALUES LESS THAN ('S%'),
        SUBPARTITION SUB_PART_S VALUES LESS THAN ('T%'),
        SUBPARTITION SUB_PART_T VALUES LESS THAN ('U%'),
        SUBPARTITION SUB_PART_U VALUES LESS THAN ('V%'),
        SUBPARTITION SUB_PART_V VALUES LESS THAN ('W%'),
        SUBPARTITION SUB_PART_W VALUES LESS THAN ('X%'),
        SUBPARTITION SUB_PART_X VALUES LESS THAN ('Y%'),
        SUBPARTITION SUB_PART_Y VALUES LESS THAN ('Z%'),
        SUBPARTITION SUB_PART_Z_0_9 VALUES LESS THAN (MAXVALUE)
        )   
(
PARTITION OLD_PART_DATA VALUES LESS THAN (TO_DATE('01-AUG-2018', 'dd-mon-yyyy'))
); 
```

*这将根据输入到表中的创建日期记录自动创建分区。*

# django-templates - 如何访问元组项

> ID：15131656
> 
> 赞同：0
> 
> 时间：2013-02-28T09:16:48.730
> 
> 标签：django-templates

*模型.py*

```
class MyModel(models.Model):
    GENDER = (('M',"Male"),('F',"Female"))
    gender = models.CharField(max_length = 1, choices = GENDER) 
```

*模板.html*

```
{% for item in mymodels %}
    {{ item.GENDER[item.gender] }} #HOW TODO?
{% endfor %} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-13T13:48:14.793

[你可以在这里](https://stackoverflow.com/questions/1105638/django-templates-verbose-version-of-a-choice)找到一些答案

我认为最好的办法是使用返回正确值或扩展/编写新过滤器的辅助函数。

# iphone - 需要 XMPP 框架

> ID：15131659
> 
> 赞同：2
> 
> 时间：2013-02-28T09:16:54.313
> 
> 标签：iphone, ios, objective-c, xmppframework

我正在进行 ejabberd 设置，我成功配置了服务器，但是在客户端我们需要 XMPP 框架，

我用谷歌搜索了以下链接

[http://deusty.blogspot.in/2008/08/xmppframework-on-iphone.html](http://deusty.blogspot.in/2008/08/xmppframework-on-iphone.html)

[http://iphone4developer.blogspot.in/2011/07/how-to-add-xmpp-in-your-ios-project.html](http://iphone4developer.blogspot.in/2011/07/how-to-add-xmpp-in-your-ios-project.html)

我下载了 robbiehanson / XMPPFramework 但它抛出了错误，并且一些链接给了我 404 错误（他们删除了）

[我从这个链接（ https://github.com/funkyboy/Building-a-Jabber-client-for-iOS](https://github.com/funkyboy/Building-a-Jabber-client-for-iOS) ）下载了 jabber 客户端，但是 xmpp 框架文件从应用程序中抛出错误（那些已经被删除）

我得到了一个示例，它是 iPhoneXMPP 示例，但它引发了错误，即“**无法连接到服务器。检查 xmppStream.hostName** ”我在 willSecureWithSettings 方法中给出了我的主机名

疑点：

1）请指导我下载正确的 XMPP 框架，没有错误

2)如何配置ejabber客户端？

请指导我

非常感谢提前

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T10:32:03.113

大约 6 个月前，我从这个链接下载了 robbiehanson/XMPPFramework：[https](https://github.com/robbiehanson/XMPPFramework) ://github.com/robbiehanson/XMPPFramework 。我按照[入门](https://github.com/robbiehanson/XMPPFramework/wiki/GettingStarted_iOS)部分中提到的步骤进行操作。它没有抛出任何错误。只需尝试按照这些步骤为您的应用程序设置 xmppframework。

在示例应用程序中，我找到了`setupStream()`启动应用程序时调用的函数。在这个函数中，我正在创建一个 xmppStream 并激活我的应用程序中需要的不同模块。例如

```
xmppStream = [[XMPPStream alloc] init];

    // Activate xmpp modules after creating them

    [xmppReconnect         activate:xmppStream];
    [xmppRoster            activate:xmppStream];
    [xmppvCardTempModule   activate:xmppStream];
    [xmppvCardAvatarModule activate:xmppStream];
    [xmppCapabilities      activate:xmppStream];

    // Add ourself as a delegate to anything we may be interested in

    [xmppStream addDelegate:self delegateQueue:dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0)];

[xmppStream setHostName:XMPPHOST];
[xmppStream setHostPort:5222];

// You may need to alter these settings depending on the server you're connecting to
allowSelfSignedCertificates = NO;
allowSSLHostNameMismatch = NO; 
```

设置流后，您需要像这样进行身份验证：

```
- (BOOL)connect:(NSString *)myJID    //username registered with server
{
    if (![xmppStream isDisconnected]) {
        return YES;
    }

    if (myJID == nil) {
        return NO;
    }

    [xmppStream setMyJID:[XMPPJID jidWithString:myJID]];

    NSError *error = nil;
    if (![xmppStream connect:&error])
    {        
        if(DEBUG)
        {
            NSLog(@"ERROR: Not connected to XMPP Server");
        }
        DDLogError(@"Error connecting: %@", error);
        return NO;
    }
    return YES;
} 
```

该函数将被框架调用并在此处传递密码：

```
- (void)xmppStreamDidConnect:(XMPPStream *)sender
{
    if(sender == xmppStream)
    {
        //DDLogVerbose(@"In xmppStream: %@: %@", THIS_FILE, THIS_METHOD);

        isXmppConnected = YES;

        NSError *error = nil;

        if (![[self xmppStream] authenticateWithPassword:password error:&error])
        {
            DDLogError(@"Error authenticating: %@", error);
        }
    }    
} 
```

现在，如果用户通过身份验证，将调用此函数：

```
- (void)xmppStreamDidAuthenticate:(XMPPStream *)sender
{
    if(sender == xmppStream)
    {
        [self goOnline];
    }
} 
```

goOnline 会将用户的存在发送到服务器：

```
- (void)goOnline
{
    XMPPPresence *presence = [XMPPPresence presence]; // type="available" is implicit
    [xmppStream sendElement:presence];
} 
```

现在您可以发送/接收消息/状态等。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T10:14:16.047

您会在这里找到一个不错的完整教程：http: [//mobile.tutsplus.com/tutorials/iphone/building-a-jabber-client-for-ios-server-setup/](http://mobile.tutsplus.com/tutorials/iphone/building-a-jabber-client-for-ios-server-setup/)

# android-camera - 如何通过 onPreviewFrame 回调更改捕获的 byte[] 帧的方向？

> ID：15131663
> 
> 赞同：9
> 
> 时间：2013-02-28T09:17:06.343
> 
> 标签：android-camera

我尝试了很多次搜索这个问题，但从来没有看到任何令人满意的答案，所以现在我在这里有最后的希望。

我`onPreviewFrame`设置了回调。它提供了`byte[]`具有支持的预览格式（`NV21`具有`H.264`编码类型）的原始帧。

现在，问题是回调总是`byte[]`从固定方向开始给出帧，只要设备旋转它就不会反映到捕获的`byte[]`帧。我已经尝试过`setDisplayOrientation`，`setRotation`但是这些 api 只是反映到预览中，它根本不显示到捕获的`byte []`帧中。

Android 文档甚至说，`Camera.setDisplayOrientation`只影响显示预览，而不影响帧字节：

这不会影响 onPreviewFrame(byte[], Camera)、JPEG 图片或录制的视频传入的字节数组的顺序。

最后有没有办法在任何 API 级别更改`byte[]`框架的方向？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T12:51:32.870

如果您不关心格式，一种可能的方法是使用`YuvImage`类获取 JPEG 缓冲区，使用此缓冲区创建 a`Bitmap`并将其旋转到相应的角度。像这样的东西：

```
@Override
public void onPreviewFrame(byte[] data, Camera camera) {

    Size previewSize = camera.getParameters().getPreviewSize();
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    byte[] rawImage = null;

    // Decode image from the retrieved buffer to JPEG
    YuvImage yuv = new YuvImage(data, ImageFormat.NV21, previewSize.width, previewSize.height, null);
    yuv.compressToJpeg(new Rect(0, 0, previewSize.width, previewSize.height), YOUR_JPEG_COMPRESSION, baos);
    rawImage = baos.toByteArray();

    // This is the same image as the preview but in JPEG and not rotated
    Bitmap bitmap = BitmapFactory.decodeByteArray(rawImage, 0, rawImage.length);
    ByteArrayOutputStream rotatedStream = new ByteArrayOutputStream();

    // Rotate the Bitmap
    Matrix matrix = new Matrix();
    matrix.postRotate(YOUR_DEFAULT_ROTATION);

    // We rotate the same Bitmap
    bitmap = Bitmap.createBitmap(bitmap, 0, 0, previewSize.width, previewSize.height, matrix, false);

    // We dump the rotated Bitmap to the stream 
    bitmap.compress(CompressFormat.JPEG, YOUR_JPEG_COMPRESSION, rotatedStream);

    rawImage = rotatedStream.toByteArray();

    // Do something we this byte array
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-09-24T21:01:01.827

我已经修改了这个[开源 Android Touch-To-Record 库](https://github.com/sourab-sharma/TouchToRecord)的 onPreviewFrame 方法，以进行转置和调整捕获帧的大小。

我在 setCameraParams() 方法中定义了“yuvIplImage”，如下所示。

```
IplImage yuvIplImage = IplImage.create(mPreviewSize.height, mPreviewSize.width, opencv_core.IPL_DEPTH_8U, 2); 
```

这是我的 onPreviewFrame() 方法：

```
@Override
public void onPreviewFrame(byte[] data, Camera camera)
{

    long frameTimeStamp = 0L;

    if(FragmentCamera.mAudioTimestamp == 0L && FragmentCamera.firstTime > 0L)
    {
        frameTimeStamp = 1000L * (System.currentTimeMillis() - FragmentCamera.firstTime);
    }
    else if(FragmentCamera.mLastAudioTimestamp == FragmentCamera.mAudioTimestamp)
    {
        frameTimeStamp = FragmentCamera.mAudioTimestamp + FragmentCamera.frameTime;
    }
    else
    {
        long l2 = (System.nanoTime() - FragmentCamera.mAudioTimeRecorded) / 1000L;
        frameTimeStamp = l2 + FragmentCamera.mAudioTimestamp;
        FragmentCamera.mLastAudioTimestamp = FragmentCamera.mAudioTimestamp;
    }

    synchronized(FragmentCamera.mVideoRecordLock)
    {
        if(FragmentCamera.recording && FragmentCamera.rec && lastSavedframe != null && lastSavedframe.getFrameBytesData() != null && yuvIplImage != null)
        {
            FragmentCamera.mVideoTimestamp += FragmentCamera.frameTime;

            if(lastSavedframe.getTimeStamp() > FragmentCamera.mVideoTimestamp)
            {
                FragmentCamera.mVideoTimestamp = lastSavedframe.getTimeStamp();
            }

            try
            {
                yuvIplImage.getByteBuffer().put(lastSavedframe.getFrameBytesData());

                IplImage bgrImage = IplImage.create(mPreviewSize.width, mPreviewSize.height, opencv_core.IPL_DEPTH_8U, 4);// In my case, mPreviewSize.width = 1280 and mPreviewSize.height = 720
                IplImage transposed = IplImage.create(mPreviewSize.height, mPreviewSize.width, yuvIplImage.depth(), 4);
                IplImage squared = IplImage.create(mPreviewSize.height, mPreviewSize.height, yuvIplImage.depth(), 4);

                int[] _temp = new int[mPreviewSize.width * mPreviewSize.height];

                Util.YUV_NV21_TO_BGR(_temp, data, mPreviewSize.width,  mPreviewSize.height);

                bgrImage.getIntBuffer().put(_temp);

                opencv_core.cvTranspose(bgrImage, transposed);
                opencv_core.cvFlip(transposed, transposed, 1);

                opencv_core.cvSetImageROI(transposed, opencv_core.cvRect(0, 0, mPreviewSize.height, mPreviewSize.height));
                opencv_core.cvCopy(transposed, squared, null);
                opencv_core.cvResetImageROI(transposed);

                videoRecorder.setTimestamp(lastSavedframe.getTimeStamp());
                videoRecorder.record(squared);
            }
            catch(com.googlecode.javacv.FrameRecorder.Exception e)
            {
                e.printStackTrace();
            }
        }

        lastSavedframe = new SavedFrames(data, frameTimeStamp);
    }
} 
```

此代码使用方法“YUV_NV21_TO_BGR”，我从这个[链接中找到](https://groups.google.com/forum/#!topic/javacv/zo_pZPgDRNA)

基本上这种方法是用来解决的，我称之为“Android 上的绿魔问题”。您可以在其他 SO 线程上看到其他 android 开发人员面临同样的问题。在我刚刚对 YuvIplImage 进行转置时添加“YUV_NV21_TO_BGR”方法之前，更重要的是转置、翻转（有或没有调整大小）的组合，结果视频中有绿色输出。这种“YUV_NV21_TO_BGR”方法挽救了这一天。感谢来自上述谷歌群组线程的@David Han。

您还应该知道，onPreviewFrame 中的所有这些处理（转置、翻转和调整大小）都需要很长时间，这会严重影响您的每秒帧数 (FPS) 速率。当我在 onPreviewFrame 方法中使用此代码时，录制视频的结果 FPS 从 30fps 下降到 3 帧/秒。

我建议不要使用这种方法。相反，您可以在 AsyncTask 中使用 JavaCV 对视频文件进行后期录制处理（转置、翻转和调整大小）。希望这可以帮助。

# ios - 情节提要中的 Tab 活动指示器

> ID：15131664
> 
> 赞同：1
> 
> 时间：2013-02-28T09:17:08.117
> 
> 标签：ios, xcode, uitabbarcontroller, storyboard, uiactivityindicatorview

我想将活动指示器添加到使用 ARC 在 STORYBOARD 内构建的选项卡栏。在故事板之前，我已经查看了涉及应用程序委托的方法，但似乎没有为当前的构建安排找到任何东西。

任何指针都会有所帮助

# jquery - 从 jQuery 调用 JavaScript 类的函数

> ID：15131667
> 
> 赞同：0
> 
> 时间：2013-02-28T09:17:27.420
> 
> 标签：jquery

我有一个 JavaScript 类

```
MyClass = function() { }
MyClass.prototype.init = function(param){ }
MyClass.prototype.reset = function() { } 
```

如果我使用它从 HTML 页面调用这些函数`onClick="reset()"`，效果很好。但是如果我从 jQuery 调用这些函数，它就不起作用。请给我建议。来自 jQuery 的示例调用：

```
$(document).ready(
    function()
    {
        app = new MyClass();
        app.init(someid, url,
            "event_handling": {
                "event1":app.reset
            });
    }) 
```

除了上述之外，是否可以添加 CSS 规则，例如：

```
"css_class_names": {
                        style-1: "firstStyle",
                        style-2: "secondStyle"
                    } 
```

如果可能的话，那么我如何将样式应用于具有 ID 的特定元素提前谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:21:00.507

您的问题是，当应用程序调用 event1 时，它将从与您预期不同的上下文中调用 app.reset。换句话说，在您的 app.reset 中，“this”变量不会是您想要的。原因是当你声明`event1: app.reset`它时，它会将 event1 设置为函数 app.reset。

解决方法：

```
"event1": function() { app.reset(); } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:21:23.537

~~你还没有真正显示你的 jQuery 调用，但我猜想：~~实际上，你有，但问题不在于 jQuery 调用。请参阅下面中断下的注释。

假设：

```
$("some selector").click(app.reset); 
```

...您将`app`'s 方法之一作为事件处理程序传递。

它不起作用的原因是在对方法的调用中，`this`不会引用`app`实例，而是引用 DOM 元素。在 JavaScript（目前）中，`this`完全由函数的调用方式定义，而不是在哪里定义。

您可以`this`在调用期间使用 jQuery 的[`$.proxy`函数](http://api.jquery.com/jQuery.proxy/)为函数提供正确的值：

```
$("some selector").click($.proxy(app.reset, app)); 
```

或者，ECMAScript5`Function#bind`为此定义：

```
$("some selector").click(app.reset.bind(app)); 
```

...但这要求您在实现它的引擎上运行，或者您有一个 ES5 垫片。

**或者**，如果您碰巧有一个方便的闭包，则可以使用闭包：

```
$("some selector").click(function() {
    app.reset();
}); 
```

`app`在那里，我们通过在它上面创建一个闭包（我们作为事件处理程序传递的函数）来使用你有变量的事实。

更多（在我的博客上）：

*   [*神话方法*](http://blog.niftysnippets.org/2008/03/mythical-methods.html)
*   [*你必须记住`this`*](http://blog.niftysnippets.org/2008/04/you-must-remember-this.html)

* * *

在您的代码中：

```
$(document).ready(
    function()
    {
        app = new MyClass();
        app.init(someid, url,
            "event_handling": {
                "event1":app.reset
            });
    }) 
```

上述讨论适用于

```
"event1":app.reset 
```

如果稍后您致电`event1()`，`this`则不会`app`。

您可以应用上述修复，如下所示：

`jQuery.proxy`：

```
"event1":$.proxy(app.reset, app) 
```

`Function#bind`：

```
"event1":app.reset.bind(app) 
```

关闭：

```
"event1":function() { app.reset(); } 
```

# django - 延迟限制 http api 调用

> ID：15131671
> 
> 赞同：6
> 
> 时间：2013-02-28T09:17:36.963
> 
> 标签：django, rest, throttling

我正在尝试在我们的 REST API 上实现一些限制。一种[典型的做法](http://django-tastypie.readthedocs.org/en/latest/throttling.html)是在某个阈值之后阻止请求（带有`403`或`429`响应）。但是，我看到[一个 api](http://apidocs.mailchimp.com/api/faq/#faq6)反而增加了**响应的延迟。**

> 当您调用 API 时，我们将查看您在前五分钟期间每秒的平均调用次数 (c/s)。以下是将会发生的事情：
> 
> *   超过 3c/s，我们增加了 2 秒的延迟
>     
>     
> *   超过 5c/s，我们增加了 4 秒的延迟
>     
>     
> *   超过 7c/s，我们增加了 5 秒的延迟

从客户的角度来看，我认为这比返回错误要好。可能发生的最糟糕的情况是你会放慢速度。

我想知道如何在**不对应用服务器产生负面影响的情况下**实现这一点。即为了增加这些延迟，服务器需要保持请求打开，导致它让越来越多的请求处理器保持忙碌，这意味着它对新请求的容量越来越小。

**实现这一目标的最佳方法是什么？**（即，这是否可以在 Web 服务器/负载均衡器上完成，以免对应用程序服务器产生负面影响？是否可以为此添加某种节流层？）

我们使用的是 Django/Tastypie，但问题更多是在架构/概念层面。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-30T18:26:36.243

如果您使用的是同步应用服务器，这是 Django 应用程序最常见的设置（例如带有 default 的 gunicorn `--worker-class sync`），那么在应用程序中添加这样的延迟确实会对性能产生非常糟糕的影响。处理延迟请求的工作人员将在延迟期间被阻止。

但是您可以使用异步应用程序服务器（例如带有“--worker-class gevent”的gunicorn），然后开销应该可以忽略不计。处理延迟请求的工作人员能够在延迟进行时处理其他请求。

在反向代理服务器中执行此操作可能是更好的选择，因为它允许轻松灵活地调整策略。正是这样的事情有[一个外部 nginx 模块](https://github.com/perusio/nginx-delay-module)。

# c# - 在两个联接后面使用 EF 过滤实体而不将整个表带入数据模型

> ID：15131673
> 
> 赞同：1
> 
> 时间：2013-02-28T09:17:45.970
> 
> 标签：c#, sql, entity-framework

考虑以下情况，我有三个表

```
LampPost, columns: Id (PK, int), StreetId (FK, int)
Street,   columns: Id (PK, int), CityId (FK, int)
City,     columns: Id (PK, int), Name (varchar) 
```

通常的情况是每个城市有很多（数万个）灯柱。假设我正在创建一个 LampPost 管理系统，并且我希望能够按城市过滤 LampPost。但我对 City 表的所有了解是它包含上面列出的两列。在一台服务器上，它可能有额外的列，我不关心。桌子街也是如此。

目前我的数据模型中有所有表，它允许查询`context.LampPosts.Where(lp => lp.Street.City.Name == "Paris")`，但我真的很想有另一种方法来完成这个，而不是在整个表中。

我还尝试将表添加到我的数据模型中（我首先使用数据库，在 .NET 4.0 上使用 EF 5）并仅删除不必要的列，但 EF 抱怨未映射的列。

我很确定这可以通过存储过程或某种 executequery 调用来完成，但我对两者都非常不熟悉，所以我问你们，最好的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:21:31.097

一种方法是为表创建视图并仅选择所需的列。然后您可以将视图带入数据模型。

例如，如果您的`City`talbe 看起来像：

```
City (Id, Name, State, Population, Area) 
```

你像这样为它创建一个视图：

```
CREATE VIEW CityView AS
SELECT Id, Name FROM City 
```

如果`Street`看起来像这样：

```
Street (Id, Name, CityId, Length, Width) 
```

（这些列仅用于演示）

您可以创建它的视图，如：

```
CREATE VIEW StreetView AS
SELECT Id, Name, CityId FROM Street 
```

在实体之间导航所需的所有列均可用。

# android - 大公司如何实施卡仿真？

> ID：15131680
> 
> 赞同：0
> 
> 时间：2013-02-28T09:18:21.507
> 
> 标签：android, nfc

我正在写一篇关于 NFC 登机的学校论文，并且对 NFC 操作模式有疑问。我一直在看一些[白皮书](http://www.iata.org/whatwedo/stb/fast-travel/Documents/iata-public-whitepaper-issue1.pdf)（[http://www.nfc-forum.org/resources/white_papers/NFC_in_Public_Transport.pdf，http://www.iata.org/whatwedo/stb/fast-travel/Documents/iata](http://www.nfc-forum.org/resources/white_papers/NFC_in_Public_Transport.pdf) [-public-whitepaper-issue1.pdf](http://www.iata.org/whatwedo/stb/fast-travel/Documents/iata-public-whitepaper-issue1.pdf)），他们似乎都提倡使用卡片模拟，但是当 Android SDK 中不支持卡片模拟时，他们将如何开发例如使用卡片模拟的 Android 应用程序？他们是否与 Google 联系以获得对某些非公共 API 的访问权限？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:33:31.107

与 Google 和/或 Telco 的商业协议。
卡仿真意味着访问安全元素（基于 SIM 或嵌入在移动设备上），但 Google 不允许访问嵌入式元素（通过隐藏相关 API），电信公司也是如此，基于 SIM 卡（电信公司是卡）。我认为他们想要所有的“馅饼”。你可以看看[这里](https://stackoverflow.com/questions/13450182/access-to-google-nexus-4-secure-element-se/13451297#13451297)。

# mysql - 按子句排序的多列 - mysql

> ID：15131682
> 
> 赞同：1
> 
> 时间：2013-02-28T09:18:25.413
> 
> 标签：mysql, sql, sql-order-by

我在表中有两列，比如 LIKE 和 FAVORITES (int value)

见图表：

```
╔════╦══════╦══════════╗
║ ID ║ LIKE ║ FAVORITE ║
╠════╬══════╬══════════╣
║  1 ║   25 ║        9 ║
║  2 ║    5 ║       17 ║
║  3 ║    6 ║        1 ║
║  4 ║   45 ║        0 ║
║  5 ║    3 ║       44 ║
╚════╩══════╩══════════╝ 
```

现在，我想从 SELECT 子句中选择 Maximum Like 和 Favorites ID。我试过了

```
SELECT ID from TABLE WHERE CONDITION ORDER BY LIKE,FAVORITES DESC 
```

但结果显示基于 LIKE DESC 顺序的行。

结果应该是

```
╔════╗
║ ID ║
╠════╣
║  5 ║
║  4 ║
║  1 ║
║  2 ║
║  3 ║
╚════╝ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:20:04.170

我认为您需要添加这两列。例如，

```
SELECT ID
FROM tableName
ORDER BY `LIKE` + FAVORITE DESC 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/4620b/2)

结果：

```
╔════╗
║ ID ║
╠════╣
║  5 ║
║  4 ║
║  1 ║
║  2 ║
║  3 ║
╚════╝ 
```

# c# - 显示未创建的视图

> ID：15131687
> 
> 赞同：0
> 
> 时间：2013-02-28T09:18:45.363
> 
> 标签：c#, asp.net-mvc

**我没有**一个名为`Test`. 但是，控制器中**有一个**`Home`名为`Test`.

一切正常，该`Test`方法被执行并重定向到`Index`代码中给出的视图。但是，在浏览器中，URL 是`../Home/Test`而不是`../Home/Index`. 我没有调用视图`Test`，为什么会显示？我不希望此 URL 显示在浏览器中。我该如何解决这个问题？

看法：

```
 @using (Html.BeginForm("Test", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
{

    <input type="file" name="file" />
    ..// Other code
} 
```

C＃

```
public ActionResult Test(HttpPostedFileBase f)
        {
            var m = new HomeModel();
            ..// Other code goes here
            return View("../Home/Index", m); // Will be returning the Index View
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:24:28.357

如果您使用 MVC 的标准设置，则在浏览器中显示的不是视图，而是方法。然后该方法默认返回视图（但这是可选的）。

所以你需要做的就是将你的测试方法重命名为索引并将 [HttpPost] 放在它上面。

```
 [HttpPost]
    public ActionResult Index(HttpPostedFileBase f)
        {
            var m = new HomeModel();
            ..// Other code goes here
            return View(m);
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:28:04.390

在网址中

> “../首页/测试”

测试是行动，因此它工作正常。

如果您不希望显示此 URL，请将操作“测试”重命名为“索引”并更新其引用

并使用（可选）

```
return View("Index", m) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:49:29.770

```
return View("../Home/Index", m); 
```

这不会将您重定向到`Index`; 它只会显示您的索引*视图*。如果您希望浏览器自动将您的 URL 从更改`/Test`为`/Index`您必须这样做：

```
return RedirectToAction("Index"); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-28T09:22:11.960

试试这个：

```
public ActionResult Test(HttpPostedFileBase f)
{
 var m = new HomeModel();
 ..// Other code goes here
 return RedirectToAction("Index");
} 
```

# python - 在pyqt中禁用系统托盘图标

> ID：15131690
> 
> 赞同：0
> 
> 时间：2013-02-28T09:18:59.320
> 
> 标签：python, pyqt4, system-tray

我有一个应用程序`QtGui.QSystemTrayIcon`和一个 Qmenu。有没有办法禁用和启用它。

我希望在我的应用程序启动时禁用它，以便用户无法访问菜单项。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T12:41:54.230

有`.show()`和`.hide()`方法和一个`.visible`允许显示或隐藏`QSystemTrayIcon`. 那是你要找的吗？

# sql - 将 Excel 公式转换为 SQL

> ID：15131692
> 
> 赞同：2
> 
> 时间：2013-02-28T09:19:05.520
> 
> 标签：sql, excel, tsql

我在 Excel 中有一个公式可以计算两个日期之间有多少个星期天，但我想在 SQL 中做同样的事情，但不知道该怎么做。你能帮我吗？

```
=SUM(INT((WEEKDAY(A1-8,1)+B1-A1)/7))

Declare @From as Datetime 
Declare @To as Datetime 

Set @From = '7 Jan 2013' 
Set @To = '18 Mar 2013' 

SELECT SUM(WEEKDATE(@From-8,1)+ @End-@From)/7)) AS No_Of_Sundays 
FROM TIME 
```

谢谢

韦恩

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:40:05.763

试试这个：

```
SELECT SUM((CASE WHEN DATEPART(dw, @From) = 7 THEN 1 ELSE 0 END) + DATEDIFF(dd, @From, @To) / 7) AS No_Of_Sundays 
```

如您所见，这取决于本地化 -> 在俄罗斯，星期日是第 7 天，所以我们检查第一天是否是星期日

这是另一个解决方案：

```
Declare @From as Datetime 
Declare @To as Datetime 
Declare @sundays as INT

Set @From = '1/02/2013' 
Set @To = '28/02/2013' 
Set @sundays = 0

WHILE (@From <= @To)
BEGIN
    SET @sundays = @sundays + (CASE WHEN DATEPART(dw, @From) = 7 THEN 1 ELSE 0 END)
    SET @From = DATEADD(dd, 1, @From)
END

SELECT @sundays 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T10:36:42.977

如果您使用的是 sql-server 2005 或更高版本，这是一种使用`CTE`. 这是一个**[演示](http://sqlfiddle.com/#!3/d41d8/9935)**

```
declare @From date = '20130107' --'7 Jan 2013' 
declare @To date = '20130318'  --'18 Mar 2013' 

;with CTE as (
  select 0 number , datename(weekday, @from) dName
  union all
  select number+1, datename(weekday,dateadd(day,number+1,@from)) dName
  from CTE 
  where dateadd(day, number + 1,@from) <= @to and
       datename(weekday,dateadd(day,number,@from)) <> 'sunday'
)

select top(1) (datediff(day,@from,@to) - number )/7 + 
               case when number = 0 and dname <> 'sunday' then 0 else 1 end
               sundays
from CTE
order by number desc 
```

# css - 添加多个内联图像跨度

> ID：15131695
> 
> 赞同：0
> 
> 时间：2013-02-28T09:19:16.000
> 
> 标签：css

我有一些教程正在准备中，我想使用箭头图像（向上/向下/向左/向右）来解释用户应该采取的步骤。

所以屏幕结果看起来有点如下：

为了继续，首先选择`[up_arrow_image]`，然后单击`[left_arrow_image]`两次，然后选择`[enter_image]`。最后可能有几百个这样的步骤，所以我想使用内联跨度来显示箭头，而不是直接在 html 中编码它们。我已经能够让它在我的段落的第一个跨度中运行，但这就是它停止的地方。

我的简化 html ：

```
<p>In order to proceed first select <span class="arrow arrow_up"><!-- up --></span>,
then click <span class="arrow arrow_left"><!-- left --></span> twice, 
and select <span class="arrow select"><!-- up --></span></p> 
```

我的CSS现在看起来像这样：

```
.arrow {
   display:inline_block;
   width: 20px; height: 20px;
   padding-left:20px;
   background-image: url(arrow.png);
   background-repeat: no-repeat;
}

.arrow_up {
     background-position: 0px 0px;
}

.arrow_left {
    background-position: 0px -20px;
}

.enter {
     background-position: 0px -40px;
} 
```

我发现上面浏览的大部分内容都在这里，但我肯定忽略了一些东西，因为它并没有真正按照我希望的方式工作。我的第一个箭头出现了，但忽略了休息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:25:22.873

该属性实际上是`inline-block`（不是下划线），只需更改它，您就应该清楚

# javascript - 从脚本/命令行执行浏览器页面/javascript

> ID：15131698
> 
> 赞同：4
> 
> 时间：2013-02-28T09:19:17.833
> 
> 标签：javascript, html, v8, headless-browser

希望这不是一个愚蠢的问题。
我最近对一件我非常好奇的事情有了一个想法。
我是 Node.js 的粉丝（我认为在这里并不相关）和 V8 引擎，但我想知道它是否可以运行浏览器（让它执行 JS）但在内部。

我的意思是创建一个程序（可能使用 V8 引擎），它可以打开一个页面（就像在浏览器中一样）并执行它的 javascript。

例如说我有以下文件托管在 www.mysite.co.uk/home.php

```
<!DOCTYPE html>
<html>
<head>
<script>
function myFunction()
{
//javascript AJAX call to www.mysite.co.uk/ping.php
}
myFunction();
</script>
</head>

<body>
</body>
</html> 
```

ping.php 看起来像：

```
<?php
//connect mysql, database ping and table ping
//it is a single column table with integer value starting on 0
//increment by 1 and update the table 
```

假设我想通过在我的命令行/linux 框中使用某种脚本来执行 Javascript（基本上不使用浏览器）。

所以像：

```
./mybrowser http://www.mysite.co.uk/home.php 
```

甚至：

```
./mybrowser home.php 
```

我觉得这应该是可能的，因为 V8（或不同的 JS 引擎）在技术上应该能够执行 Javascript，但我不知道它是如何在浏览器上下文之外执行的（或者即使它可能）。

有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T09:25:23.477

您可以使用任何 js 引擎来运行 js 脚本，只要它们不依赖 DOM。

您可以从查看以下内容开始：

*   [独立运行 V8 Javascript 引擎](https://stackoverflow.com/questions/1802478/running-v8-javascript-engine-standalone)

编辑：据我了解，您想要一个无头浏览器，这里有一些：

*   HTMLUnit（我用那个进行单元测试）
*   幻影JS
*   僵尸.js

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:27:07.957

使用 Rhino for Java 或 Windows Script Host 在命令行上运行 JavaScript。

```
http://www.mozilla.org/rhino/

http://msdn.microsoft.com/en-us/library/9bbdkx3k%28VS.85%29.aspx 
```

# android - 通过颜色检测进行 Android OpenCV 眼动追踪

> ID：15131700
> 
> 赞同：1
> 
> 时间：2013-02-28T09:19:20.243
> 
> 标签：android, opencv, eye-tracking

我有一个代码可以检测面部，双眼，然后是每只眼睛的瞳孔。现在我想通过使用白色检测来检测每只眼睛的角落。由于我是opencv的新手，请您指导我应该如何执行此操作并为我提供android示例代码？这是我拥有的代码的一部分：

```
for (int i = 0; i < facesArray.length; i++){     
                Rect r = facesArray[i];     
                    Core.rectangle(mGray, r.tl(), r.br(), new Scalar(0, 255, 0, 255), 3);       
                    Core.rectangle(mRgba, r.tl(), r.br(), new Scalar(0, 255, 0, 255), 3);       

                    eyearea = new Rect(r.x +r.width/8,(int)(r.y + (r.height/4.5)),r.width - 2*r.width/8,(int)( r.height/3.0));         
                    Core.rectangle(mRgba,eyearea.tl(),eyearea.br() , new Scalar(255,0, 0, 255), 2);       
                    Rect eyearea_right = new Rect(r.x +r.width/16,(int)(r.y + (r.height/4.5)),(r.width - 2*r.width/16)/2,(int)( r.height/3.0));       
                    Rect eyearea_left = new Rect(r.x +r.width/16 +(r.width - 2*r.width/16)/2,(int)(r.y + (r.height/4.5)),(r.width - 2*r.width/16)/2,(int)( r.height/3.0));            
                    Core.rectangle(mGray,eyearea_left.tl(),eyearea_left.br() , new Scalar(255,0, 0, 255), 2);             
                    Core.rectangle(mRgba,eyearea_right.tl(),eyearea_right.br() , new Scalar(255, 0, 0, 255), 2);       
                    if(learn_frames<5){       
                     //This part detect the pupil of the eyes      
                     teplateR = get_template(mCascadeER,eyearea_right,20);     
                     teplateL = get_template(mCascadeEL,eyearea_left,20);      
                     learn_frames++;      
                   }else{      
                    match_value = match_eye(eyearea_right,teplateR,FdActivity.method);      
                    match_value = match_eye(eyearea_left,teplateL,FdActivity.method);      
                     ;    
                     }     
                       Imgproc.resize(mRgba.submat(eyearea_left), mZoomWindow2, mZoomWindow2.size());        
                        Imgproc.resize(mRgba.submat(eyearea_right), mZoomWindow, mZoomWindow.size());      
                        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-21T14:11:14.407

你需要像 Flandmark 这样的东西来检测角落。见：[http ://cmp.felk.cvut.cz/~uricamic/flandmark/](http://cmp.felk.cvut.cz/~uricamic/flandmark/)

# c# - 在 c# 中返回制表符分隔单词的正则表达式

> ID：15131703
> 
> 赞同：2
> 
> 时间：2013-02-28T09:19:28.493
> 
> 标签：c#, regex

我写了一个代码，返回一个由制表符分隔的单词

```
const string input = "Lorem ipsum        dolor        sit %download%#456 amet, consectetu";

        static void Main(string[] args)
        {

            Regex expression = new Regex("\tw+\t");
            var results = expression.Matches(input);
            foreach (Match match in results)
            {

                Console.WriteLine(match);
            }
            Console.ReadLine();
        } 
```

但是这段代码不能正常工作。提前帮助我
谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-28T09:23:34.583

您现有的代码可以通过制作您的 regex 来修复`[^\t]+`。通过匹配不是制表符的所有内容，您将获得制表符分隔的单词。

但是，您应该真正使用[`Regex.Split`](http://msdn.microsoft.com/en-us/library/8yttk7sy.aspx)它。

```
results = Regex.Split(input, @"\t+"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T09:35:26.723

如果只是标签，为什么要使用正则表达式？只需使用`String.Split`：

```
input.Split(new[] { '\t' }, StringSplitOptions.RemoveEmptyEntries); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:49:52.140

您是否认为字符串中的单词是由制表符分隔的，还是可能有空格？

# c# - C# 简单列表显示的问题

> ID：15131704
> 
> 赞同：3
> 
> 时间：2013-02-28T09:19:40.087
> 
> 标签：c#, winforms, listbox, ienumerable

我正在制作一个动物收容所应用程序，我必须在其中创建一只猫或一只狗，然后创建它并将其添加到列表中。我有一个按钮应该显示列表中的所有动物，另一个按钮应该显示所有狗。当我单击这两个按钮中的一个时，只会出现最后创建的动物。你能给我一些指导吗？

```
 namespace AnimalShelter
    {
    class AnimalShelter
    {
    private string Name;
    private int TelNumber;
    private List<Animal> AnimalList;

    public AnimalShelter(string name, int telnumber)
    {
        this.AnimalList = new List<Animal>();
        this.Name = name;
        this.TelNumber = telnumber;
    }

    public Animal FindAnimal(string id)
    {
        foreach (Animal anim in this.AnimalList)
        {
            if (id == anim.ChipRegistrationNumber)
            {
                return anim;
            }
        }
        return null;
    }

    public bool RemoveAnimal(string id)
    {
        if (id.Length <= 0)
            return false;
        Animal ao = this.FindAnimal(id);
        if (ao == null)
            return false;
        this.AnimalList.Remove(ao);
        return true;
    }

    public bool AddNewAnimal(Animal ao)
    {
        if (ao == null)
            return false;

        if (this.FindAnimal(ao.ChipRegistrationNumber) != null)
            return false;

        this.AnimalList.Add(ao);

        return true;
    }

    public List<Dog> GetAllDogs()
    {
       List<Dog> temp = new List<Dog>();
       foreach (Animal animal in this.AnimalList)
       {
           if (animal.GetType() == typeof(Dog))
               temp.Add((Dog)animal);

       }
       return temp;
    }

    public List<Cat> GetAllCats()
    {
        List<Cat> temp = new List<Cat>();
        foreach (Animal animal in this.AnimalList)
        {
            if (animal.GetType() == typeof(Cat))
                temp.Add((Cat)animal);
        }
        return temp;
    }

    public List<Animal> GetAllAnimals()
    {
        return AnimalList;
    }

    }
} 
```

这是实际的形式，我在其中创建了猫或狗，并有显示所有动物或显示所有狗的按钮！

```
 private void AnimalCreation_Click_1(object sender, EventArgs e)
    {
        string name = tbname.Text;
        string number = tbregno.Text;
        DateTime date = this.DateBroughtIn.Value.Date;
        DateTime lastwalked = this.LastWalked.Value.Date;
        string badhabits = tbbadhabbits.Text;

        if (name.Length <= 0)
        {
            MessageBox.Show("A Name Must Be Given");
        }

        if (number.Length <= 0)
        {
            MessageBox.Show(" A number must be given ");
        }

        if (date > DateTime.Now)
        {
            MessageBox.Show("Invalid date, can not be added");
        }
        else
        {
            Animal a = null;
            if (dog.Checked)
            {

                a = new Dog(number, date, name, lastwalked);
                this.MyAnimalShelter.AddNewAnimal(a);
                MessageBox.Show("Dog Successfully added");
            }
            if (cat.Checked)
            {
                if (badhabits.Length <= 0)
                {
                    MessageBox.Show("Bad Habbits must be filled");
                }
                else
                {
                    a = new Cat(number, date, name, badhabits);
                    this.MyAnimalShelter.AddNewAnimal(a);
                    MessageBox.Show("Cat Successfully added");
                }
            }

        }
    }

    private void AllAnimalsShow_Click(object sender, EventArgs e)
    {
        foreach (Animal animal in MyAnimalShelter.GetAllAnimals())
        {
            listBox1.Items.Clear();
            listBox1.Items.Add(animal);
        }
    }

    private void AllDogsShow_Click_1(object sender, EventArgs e)
    {
        foreach (Animal animal in MyAnimalShelter.GetAllDogs())
        {
            listBox1.Items.Clear();
            listBox1.Items.Add(animal);
        }
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T09:23:31.243

您清除列表的每次迭代，`foreach`因此对于数据结构中的每只动物，您清除列表并添加一只动物。这就是为什么你最终只得到列表中的最后一个动物。

你需要这样做：

```
listBox1.Items.Clear();
foreach (Animal animal in MyAnimalShelter.GetAllAnimals())
{
    listBox1.Items.Add(animal);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T10:23:42.527

这是因为您在 foreach 循环中为每只动物清除了您的列表！您必须在进入循环之前清除它！

```
listBox1.Items.Clear();
foreach (Animal animal in MyAnimalShelter.GetAllAnimals())
{
    listBox1.Items.Add(animal);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:25:03.503

您在and中清除`foreach`循环内的列表。`AllAnimalsShow_Click()``AllDogsShow_Click_1()`

它应该在循环*之前被清除。*

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T09:27:00.063

这是因为在你的你`AllDogsShow_click_1()`调用块`listBox1.Items.Clear()` *内*`foreach`。

把它移到前面`foreach`看看会发生什么。与`AllAnimalsShow_Click()`.

# android - 致命例外：主要的 android 验证

> ID：15131709
> 
> 赞同：0
> 
> 时间：2013-02-28T09:19:59.087
> 
> 标签：android, validation, exception, main, fatal-error

我有一个应用程序，我想在其中添加验证，但是当我只运行验证页面时它工作正常，但是当我使用这个页面时它给了我错误。我想我在添加一个图像按钮时做错了，我通过它调用名称为属性搜索的验证页面。

```
import android.content.Intent;
import android.os.Bundle;
import android.support.v4.app.FragmentActivity;
import android.support.v4.view.ViewPager;
import android.support.v4.view.ViewPager.OnPageChangeListener;
import android.view.View;
import android.widget.Button;
import android.widget.ImageButton; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T10:23:18.517

好吧，堆栈跟踪说`NullPointerException`您的`ViewPagerStyle1Activity`. 看看那条线上的电话，你应该知道罪魁祸首。

您试图`imageButton1`在您的布局中查找`main`，但它实际上位于您的布局`layout_one`中。现在的修复取决于您实际计划对片段执行的操作。您可以通过`ViewPagerStyle1Activity`替换in its'方法将片段布局设置为您的布局。`setContentView(R.layout.main);``setContentView(R.layout.layout_one);``onCreate`

**更新：**也许你应该先阅读一些关于 Android[活动](http://developer.android.com/training/basics/activity-lifecycle/index.html)、[布局](http://developer.android.com/guide/topics/ui/declaring-layout.html)和[片段](http://developer.android.com/guide/components/fragments.html)的内容。这是**非常**基本的东西，如果不学习它，你就不会走得太远。

`findViewById`当然，如果您硬编码以在片段中返回，您将找不到 imageButton1 `null`。

```
private ImageButton findViewById(int imagebutton1) {
    // TODO Auto-generated method stub
    return null;
} 
```

但我觉得你真的不知道你实际上在做什么。

# java - 如何将映射键设置为变量名

> ID：15131711
> 
> 赞同：1
> 
> 时间：2013-02-28T09:20:03.817
> 
> 标签：java, variables, map

在 java 中，我有一个包含某些值的 Map。我想创建一个具有地图键名称的字符串变量。在java中怎么可能？

```
Map<String,String> values=new HashMap<String, String>();
values.put("dataSource", "bloomberg");
values.put("dataProvider", "bloomberg");
values.put("observationTime", "close"); 
```

这是地图。我想用值制作变量：

```
String dataSource="bloomberg";
String dataProvider="bloomberg";
String observationTime="close"; 
```

在java中怎么可能？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:27:13.080

Java 不支持动态变量名。所有变量都必须在编译时存在（这意味着在编译时只生成容器），并且在运行时，根据程序的逻辑简单地分配和更改值。

一些语言支持使用动态名称创建变量，但在 Java 中是不可能的

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-02-28T09:27:02.670

试试这个

```
String dataSourceKey = "dataSource";
String dataSourceValue = "bloomberg";
values.put(dataSourceKey, dataSourceValue); 
```

现在，从地图中读取值时

```
String dataSource = values.get(dataSourceKey); 
```

希望这可以帮助

# neural-network - 神经网络的局部逆

> ID：15131713
> 
> 赞同：7
> 
> 时间：2013-02-28T09:20:04.890
> 
> 标签：neural-network, local, inverse

我有一个具有 N 个输入节点和 N 个输出节点的神经网络，可能还有多个隐藏层和递归，但让我们先忘记这些。神经网络的目标是学习一个 N 维变量 Y*，给定 N 维值 X。假设神经网络的输出是 Y，学习后应该接近 Y*。我的问题是：是否有可能得到输出 Y* 的神经网络的逆？也就是说，我如何获得在放入神经网络时会产生 Y* 的值 X*？（或接近它的东西）

问题的一个主要部分是 N 非常大，通常在 10000 或 100000 的数量级，但是如果有人知道如何为没有重复或隐藏层的小型网络解决这个问题，那可能已经很有帮助。谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-04-15T20:19:33.270

如果你可以选择神经网络使得每一层的节点数相同，并且权重矩阵是非奇异的，并且传递函数是可逆的（例如leaky relu），那么该函数将是可逆的。

这种神经网络简单来说就是矩阵乘法、偏置加法和传递函数的组合。要反转，您只需要以相反的顺序应用每个操作的反转。即取输出，应用逆传递函数，乘以最后一个权重矩阵的逆，减去偏置，应用逆传递函数，乘以倒数第二个权重矩阵的逆，以此类推向前。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T10:03:31.820

这是一个可以用自动编码器解决的[任务](http://en.wikipedia.org/wiki/Autoencoder)。您可能还对可以堆叠形成深度信念网络 ( [DBN ) 的受限玻尔兹曼机 (](http://www.scholarpedia.org/article/Deep_belief_networks) [RBM](http://en.wikipedia.org/wiki/Restricted_Boltzmann_machine) )等生成模型感兴趣。RBM 构建数据 v 的内部模型 h，可用于重建 v。在 DBN 中，第一层的 h 将是第二层的 v，依此类推。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-11-24T10:12:40.883

泽娜是对的。如果您使用双射（可逆）激活函数，您可以逐层反转，减去偏差并取伪逆（如果每层有相同数量的神经元，这也是精确的逆，在一些温和的规则条件下）。重复条件：dim(X)==dim(Y)==dim(layer_i), det(Wi) not = 0

示例： Y = tanh( W2*tanh( W1*X + b1 ) + b2 ) X = W1p*( tanh^-1( W2p*(tanh^-1(Y) - b2) ) -b1 )，其中 W2p和 W1p 分别表示 W2 和 W1 的伪逆矩阵。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-05-25T15:01:22.177

获得期望的 x 并产生期望的 y 的另一种方法是从随机 x（或作为种子的输入）开始，然后通过梯度下降（类似于反向传播的算法，不同之处在于不是找到权重的导数和偏差，你会发现 x 的导数。此外，不需要小批量。）重复调整 x，直到它产生接近所需 y 的 y。这种方法的优点是它允许输入种子（如果不是随机选择，则从 x 开始）。另外，我假设最终的 x 与初始的 x(seed) 有一些相似性，这意味着该算法具有转置能力，具体取决于神经网络应用程序的上下文。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-01-24T03:16:43.127

以下[论文](http://web.mit.edu/profit/PDFS/DuaA.pdf)是对从神经网络中学习到的函数进行反演的案例研究。这是一个来自行业的案例研究，看起来是了解如何解决问题的良好开端。

# java - Thread.sleep(milis) 函数是否使所有线程睡眠？

> ID：15131714
> 
> 赞同：3
> 
> 时间：2013-02-28T09:20:06.297
> 
> 标签：java, multithreading, sleep

我有一个“可运行”类的代码片段是这样的：

```
public void run() {
    //Do some stuff
    while(!someCondition){      
        //Do some stuff
        while(anotherCondition){
            try {
                Thread.sleep(60000);
            }catch (InterruptedException e){
                logger.error(e.getMessage());
                e.printStackTrace();
            }
            //Do some stuff
        }
        threadExecutor = Executors.newCachedThreadPool();
        RunnableClass rc = new RunnableClass();
        Thread rcThread = new Thread(rc);
        rcThread.setDefaultUncaughtExceptionHandler(new SomeUncaughtExHandler());
        threadExecutor.execute(rcThread);
    }
    //Do some stuff     
} 
```

调用是否`Thread.sleep(60000);`会导致所有 RunnableClass 线程休眠？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-28T09:22:12.490

`Thread.sleep()`使*当前线程*休眠。这在[Javadoc](http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#sleep%28long%29)中有详细说明：

> 使当前执行的线程休眠（暂时停止执行）指定的毫秒数，取决于系统计时器和调度程序的精度和准确性。该线程不会失去任何监视器的所有权。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:22:49.903

`Thread.sleep()`只会使调用线程休眠。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T09:57:58.723

`Thread.sleep()`使当前线程休眠；但这有点令人困惑。这就是为什么，现在；建议的方法是使用[TimeUnit](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html#sleep%28long%29) sleep 方法。这个 API 是在 Java SE5 版本中添加的。

```
 TimeUnit.SECONDS.sleep(5); 
```

爪哇文档：

> `Thread.sleep`使用本机执行 a 。这是一种方便的方法，可将时间参数转换为`Thread.sleep`方法所需的形式。

您也可以使用不同的单位，如等`SECONDS`，`MILLISECONDS`以避免在 sleep 方法中传递的参数单位产生任何混淆。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T09:22:46.237

根据手册：

> 使当前正在执行的线程休眠（暂时停止执行）指定的毫秒数

所以不，它不会影响所有线程。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T09:23:12.807

不，只有当前线程休眠。根据文档：

> 使当前正在执行的线程休眠（暂时停止执行）指定的毫秒数

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-28T09:30:24.730

> 线程.sleep(x)

导致**当前线程（睡眠）暂停执行**' **x' ms**。这是使处理器时间可用于应用程序的其他线程或系统上的其他应用程序的有效方法。

# java - 在 Java 中减去日期。夏令时更改

> ID：15131717
> 
> 赞同：0
> 
> 时间：2013-02-28T09:20:15.720
> 
> 标签：java, date

问题是两个日期的减法使我的值加倍。

从 : Thu Nov 29 00:00:00 CET 2012

值 121：至：2013 年 3 月 30 日星期六 00:00:00 CET

值 122：至：2013 年 3 月 31 日星期日 00:00:00 CET

值 122：至：2013 年 4 月 1 日星期一 00:00:00 CEST

值 123：至：2013 年 4 月 2 日星期二 00:00:00 CEST

```
Long today = (To.getTime() - From.getTime()) / (1000 * 60 * 60 * 24); 
```

是否有可能在逻辑上以某种方式避免这种情况？（对不起英语）

# c - 如何解决 gcc 警告中的混乱信息

> ID：15131719
> 
> 赞同：3
> 
> 时间：2013-02-28T09:20:25.997
> 
> 标签：c, gcc-warning, gentoo

我在 64 位 linux(2.6.39-gentoo-r3)，GCC 版本 4.6.3 上编译了我的项目，但是当我编译时，警告包含一些不可读的字符。如下所示：

```
warning: field precision specifier ?.*?.expects argument of type ?.nt?. but argument 6 has type ?.ong int?.[-Wformat]
warning: format ?.u?.expects argument of type ?.nsigned int?. but argument 7 has type ?.ize_t?.[-Wformat]
warning: ignoring return value of ?.ystem?. declared with attribute warn_unused_result [-Wunused-result] 
```

虽然我能猜出乱七八糟的部分，但它们看起来很糟糕。那么有人遇到同样的问题或知道如何解决吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T02:18:21.760

通常 gcc对其输出使用`ASCII`或编码。`UTF-8`检查您的终端以找出它实际配置的编码。

作为一种快速解决方法，尝试以这种方式运行 gcc 命令，看看是否可以看到有效字符（它`ASCII`在此处使用）：

```
LC_ALL=C LANG=C gcc ... 
```

如果这样可以解决问题，那么您的语言环境要么没有正确配置，要么至少不是您想要的。

列出系统支持的所有语言环境：

```
eselect locale list 
```

根据[本](http://www.gentoo.org/doc/en/guide-localization.xml)指南，您需要在 .bashrc 中设置`LC_ALL`和`LANG`变量来配置您的语言环境，从上面的列表中选择一个（我猜你的情况是 en_US.UTF-8）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T04:42:25.410

这个问题终于解决了。我发现是我的 XSHELL 的问题 通过设置 XSHELL 去 UTF8 ，它可以正常工作。感谢大家 ！

# c# - 多线程应用程序中的 GUI 刷新导致异常

> ID：15131721
> 
> 赞同：0
> 
> 时间：2013-02-28T09:20:31.380
> 
> 标签：c#, wpf, multithreading, exception, user-interface

在我的文件搜索应用程序中，我在刷新 GUI 时遇到了问题`(OnPropertyChanged)`

我从所有检查的目录开始：

```
foreach (string folderPath in dirList) {   
    this.Search (fileSearchPattern, folderPath);
} 
```

在这种方法中，我启动了一个后台工作人员......

```
public void Search(string fileSearchPattern, string folderPath)
{
    BackgroundWorker bw = new BackgroundWorker();
    bw.DoWork += BackgroundSearch;
    bw.RunWorkerCompleted += new RunWorkerCompletedEventHandler(BackgroundSearchCompleted);
    bw.RunWorkerAsync(new string[] { fileSearchPattern, folderPath });
} 
```

...我得到当前文件夹路径的文件列表：

```
private void BackgroundSearch(object sender, DoWorkEventArgs e)
{
    e.Result = new HashSet<string>(
        GetFileList(
            (e.Argument as string[])[0],
            (e.Argument as string[])[1]));
} 
```

当我有文件列表时，我会触发一个事件以将项目添加到我的结果数据表中：

```
void BackgroundSearchCompleted(object sender, RunWorkerCompletedEventArgs e)
{
    if (this.ItemsAdded != null)
    {
        // fire event files found:
        this.ItemsAdded(e.Result as HashSet<string>);
    }
}

// ------------------------------------------------------------------------------------------- 
```

这是事件 ItemsAdded 的事件处理程序。在这里，我再次启动后台工作程序以获取所有文件的文件信息：

```
public void AddItems(HashSet<string> fileNames)
{
    if (fileNames.Count > 0)
    {
        lock (this.searchResult)
        {
            this.searchResult.BeginLoadData();
            foreach (string n in fileNames)
            {
                this.searchResult.Rows.Add(
                    new object[] {null, null, null, null, null, null, 
                        n // Filename
                });
            }
            this.searchResult.EndLoadData();
        }

        BackgroundWorker bw = new BackgroundWorker();
        bw.DoWork += BackgroundFileInfo;
        bw.RunWorkerCompleted += new RunWorkerCompletedEventHandler(BackgroundSearchCompleted);
        bw.RunWorkerAsync();
    }
}

private void BackgroundFileInfo(object sender, DoWorkEventArgs e)
{
    lock (this.searchResult)
    {
        foreach (DataRow row in this.searchResult.Rows)
        {
            FileInfo fi = new FileInfo(row["FULL_NAME"].ToString());
            row.BeginEdit();
            row["FILE_NAME"] = fi.Name;
            row["DIRECTORY_NAME"] = fi.DirectoryName;
            row["ATTRIB"] = fi.Attributes;
            row["CREATION"] = fi.CreationTime.ToShortDateString() + " " +
                fi.CreationTime.ToShortTimeString();
            row["LAST_WRITE"] = fi.LastWriteTime.ToShortDateString() + " " +
                fi.LastWriteTime.ToShortTimeString();
            row["LAST_ACCESS"] = fi.LastAccessTime.ToShortDateString() + " " +
                fi.LastAccessTime.ToShortTimeString();
            row.EndEdit();
        }
        this.searchResult.AcceptChanges();
        }
    }
} 
```

完成获取文件信息后，我想刷新我的 GUI，但在这里我得到一个异常“实例为空”（或类似的东西）

```
void BackgroundFileInfoCompleted(object sender, RunWorkerCompletedEventArgs e)
{
    lock (this.searchResult)
    {
        OnPropertyChanged("SearchResult"); // <<== HERE I HAVE AN EXCEPTION!!!
    }
} 
```

这个错误背后的原因可能是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:37:13.330

这可能是因为 OnPropertyChanged("SearchResult") 试图更新某些 dispather 拥有的数据绑定控件。

尝试`Dispather.CurrentDispather.BeginInvoke`

# android - 具有浮点值的 Android 搜索栏

> ID：15131724
> 
> 赞同：0
> 
> 时间：2013-02-28T09:20:46.263
> 
> 标签：android, seekbar

如何在 seekbar 中设置最大值`99,999`和最小值？`0.001`

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-28T09:27:19.133

你不能。SeekBar 小部件仅接受其最大和当前进度的整数。你无法控制最小值，因为它总是如此`0`。

您可以将所需的最大和当前进度值乘以 10 的幂，这样小数就会消失。SeekBar 仍将显示与十进制值相同的进度量，因为进度是`currentValue/maxValue`. 由于您将两者乘以相同的数字，因此比率相等。例如：

```
0.1/10 = 0.01 
```

但是，如果您将 0.1 和 10 乘以 10 以消除小数点，您会得到：

```
1/100 = 0.01 //Same result 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:28:15.980

如果您想设置最大值 99,999 和最小值 0.001，SeekBar 仅采用 int 值，而不是浮点值，那么您可以设置最大值 99,999*100 和最小值 0.001*100，然后您的比率将准确显示。

当您向用户显示百分比时，获取该值并除以 100。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:54:41.573

Seekbar 进度是 int 类型，因此您必须通过除以浮点值来更改进度值，`Progress/1000.0`如下所示。

**这是java代码：**

```
public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) 

{
    edit1=(EditText)findViewById(R.id.edit1);
    float value= (float) (progress / 1000.0);
    edit1.setText((value)+"\n");
} 
```

并且布局你首先尝试它作为`android:max="99"` 进度值将增加**0.001**，因为你需要达到最大值，你可以在编辑文本中看到这些值。

# google-app-engine - 使用 HttpUrlConnection 连接 Amazon S3 时连接被拒绝异常

> ID：15131727
> 
> 赞同：1
> 
> 时间：2013-02-28T09:20:52.257
> 
> 标签：google-app-engine, gwt, amazon-s3, httpurlconnection

我正在使用 gwt 2.5，GAE 1.7.4。我正在尝试连接 Amazon S3 并上传文件，但出现连接拒绝错误。而且我没有从亚马逊教程中找到任何解决方案。我的代码如下：

```
try{

        URL url = new URL("https://temptxt.s3-website-us-east-1.amazonaws.com");

        HttpURLConnection connection = (HttpURLConnection) url.openConnection();
        connection.setRequestMethod("POST");
        connection.setDoOutput(true);
        connection.setDoInput(true);

        String userName = "MyAccessKey".trim();
        String password = "MySecretKey".trim();

        String authString = userName + ":" + password;
        String authStringBase64 = Base64.encodeBase64String(authString.getBytes());
        authStringBase64 = authStringBase64.trim();

        connection.setRequestProperty("Content-type", "text/plain");
        connection.setRequestProperty("Authorization", "AWS" + authStringBase64);

        int responseCode = connection.getResponseCode();
        BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream(), "UTF-8"));
        String decodedString;
        while ((decodedString = in.readLine()) != null) {
            System.out.println("Read Data From Response : " + decodedString);
        }
        in.close();

        if (responseCode == 401) {
            throw new IllegalStateException("Error 401");
        }
    }catch (Exception e) {
        System.out.println("Error : "+e);
    } 
```

# android - Android aws SDK 显示上传进度，不返回传输的字节

> ID：15131728
> 
> 赞同：2
> 
> 时间：2013-02-28T09:20:55.673
> 
> 标签：android, amazon-web-services, amazon-s3

我正在使用 AWS 开发工具包将图像上传到亚马逊服务器，在这里我希望上传进度来更新我的进度条。但我没有得到正在传输的字节数。

这是我的代码：

```
final File image = new File(imagePath);

                s3Client.createBucket(Constants.getPictureBucket());
                // Content type is determined by file extension.
                PutObjectRequest por = new PutObjectRequest(Constants.getPictureBucket(),
                        obj.stackItem.ItemId + ".jpg", image);

                s3Client.putObject(por);

                Log.d("UploadTaskScheduler", "Photo Name: " + obj.stackItem.ItemName);

                por.setProgressListener(new ProgressListener() {
                    int total = 0;

                    @Override
                    public void progressChanged(ProgressEvent pv) {
                        total += (int) pv.getBytesTransfered();
                        Log.d("UploadTaskScheduler", "BytesTransfered: " + total);
                    }

                }); 
```

它打印作为文件名的第一个日志。但是甚至没有打印第二个日志。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T18:50:56.763

查看您的代码后，我注意到您在开始上传后设置了进度侦听器。

您需要在`por.setProgressListener(...);`之前移动`s3Client.putObject(por);`，此时您应该会看到上传进度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-18T15:00:40.203

你可以这样使用。

```
 @Override
        public void onProgressChanged(int id, long bytesCurrent, long bytesTotal) {

            long _bytesCurrent = bytesCurrent;
            long _bytesTotal = bytesTotal;

            float percentage =  ((float)_bytesCurrent /(float)_bytesTotal * 100);
            Log.d("percentage","" +percentage);

            progressbar.setProgress(percentage);
        } 
```

# distributed-computing - FLP 不可能结果证明中存在 0 价和 1 价配置

> ID：15131730
> 
> 赞同：12
> 
> 时间：2013-02-28T09:20:57.633
> 
> 标签：distributed-computing, consensus

在已知的论文[Impossibility of Distributed Consensus with one Faulty Process (JACM85)](http://www.cs.mcgill.ca/~carl/impossible.pdf)中，FLP（Fisher、Lynch 和 Paterson）证明了一个令人惊讶的结果，即没有完全异步的共识协议可以容忍甚至一个未通知的进程死亡。

在引理 3 中，在证明 D 包含 0 价和 1 价配置后，它说：

> 如果在一个*步骤*中一个结果来自另一个，则调用两个配置*邻居*。通过简单的归纳，存在邻居 C₀, C₁ ∈ C 使得 Dᵢ = e(Cᵢ) 是 i 价的，i = 0, 1。

 *我可以遵循整个证明，除非他们声称存在这样的 C₀ 和 C₁。你能给我一些提示吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-06T12:09:12.917

`D``e`（应用于的元素后的可能配置集`C`）包含 0 价和 1 价配置（并且假定不包含二价配置）。

也就是说——`e`将每个元素映射`C`到 0 价或 1 价配置。根据 的定义`C`，必须有一个根元素通过一系列“邻居”关系连接到所有其他元素，因此**必须**存在一个边界点，其中`C`导致 0 价配置的元素`e`与中的元素`C`导致 . 之后的一价配置`e`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-10-28T15:39:46.653

定义一个映射`f`，使得`f(C) = 0`, if`e(C)`是 0 价，否则，`f(C) = 1`, if`e(C)`是 1 价。

因为`e(C)`不可能是二价的，如果我们假设`D`没有二价配置，则`f(C)`只能是 0 或 1。

从树中的初始二价配置开始排列可访问配置，树中必须有两个邻居 C0、C1 `f(C0) != f(C1)`。因为，如果不是，所有`f(C)`都是相同的，这意味着`D`只有所有 0 价配置或所有 1 价配置。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-08-11T03:41:37.063

我曾经走上阅读所有这些论文的道路，却发现这完全是浪费时间。

结果一点也不奇怪。

您提到的论文“[不可能的分布式共识与一个错误的过程]” [1](https://groups.csail.mit.edu/tds/papers/Lynch/jacm85.pdf)

是一长串复杂的数学证明，简单地等同于：

1) 共识是一种确定性状态

2）环境中的一个（或多个）故障系统是非确定性环境

3) 在非确定性环境中永远无法达到确定性状态、行动或结果。

结束。无需进一步思考。

这就是它在学术界之外的现实世界中的运作方式。

如果您希望代理达成共识，则必须添加同步（时序模型）近似构造，以使环境在给定的一组约束内具有确定性。例如简单的结构，如 Timeouts、Ack/Nack、Handshake、Witness，或更复杂的结构。

您希望越接近同步确定性模型，构造就越复杂。假设的同步模型将具有无限复杂的构造。还要记住，在非平凡的分布式系统中永远无法实现完全确定的同步模型。这是因为在任何具有可变初始状态的非平凡动态多变量系统中，在任何时间点都存在无限数量的可能状态、动作和结果。[混沌理论](https://en.wikipedia.org/wiki/Chaos_theory)

考虑一个构造的复杂性，该构造用于检测由于跳数为 21 的路由器中的缓冲区溢出错误而丢弃的 TCP 数据包。以及检测从构造本身丢弃检测信号的相同缓冲区溢出错误的复杂性。*

# ruby-on-rails - 通过 Facebook 登录时在用户时间轴上发布

> ID：15131732
> 
> 赞同：0
> 
> 时间：2013-02-28T09:21:00.930
> 
> 标签：ruby-on-rails, facebook

我有一个应用程序，用户可以通过 Facebook 登录。当他第一次登录时，它会将电子邮件地址存储在我们的数据库中（我们从 Facebook 获得的那个），并向他发送每日通讯邮件。这不是很酷，因为大多数通过 Facebook 登录的用户更愿意将它放在流中而不是邮件中。

这是我的问题：如何通过 API 发布到用户时间线。我找不到手册，还是不可能？

（我正在使用[https://github.com/mkdynamic/omniauth-facebook](https://github.com/mkdynamic/omniauth-facebook)和 rails，但如果可以通过 facebook API，我的问题更笼统）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:45:14.340

您可以使用“koala gem”发布到用户时间线。

这是文档

```
https://github.com/arsduo/koala 
```

# php - Jigoshop 样式问题

> ID：15131734
> 
> 赞同：1
> 
> 时间：2013-02-28T09:21:01.393
> 
> 标签：php, wordpress, wordpress-theming, jigoshop

我试图让 jigoshop 将所有东西都放在我的主容器中，但它似乎无法正常工作。

我的模板如下：

```
<?php get_header(); ?>
<div id="productsidebar"><?php get_sidebar('products'); ?></div>
<div id="contentwrap">

<?php if (have_posts()) : while (have_posts()) : the_post(); ?>
    <div class="post" id="post-<?php the_ID(); ?>">
        <div class="entry">
            <?php the_content('<p class="serif">Read the rest of this page &raquo;</p>'); ?>

            <?php wp_link_pages(array('before' => '<p><strong>Pages:</strong> ', 'after' => '</p>', 'next_or_number' => 'number')); ?>

        </div>
    </div>
    <?php endwhile; endif; ?>
</div><!-- #content -->
<?php get_footer(); ?> 
```

根据 Jigoshops 主题（[http://forum.jigoshop.com/kb/customize-jigoshop/wrap-your-themes-content-for-jigoshop](http://forum.jigoshop.com/kb/customize-jigoshop/wrap-your-themes-content-for-jigoshop)） ，我在我的函数文件中有这个

```
function mytheme_open_jigoshop_content_wrappers()
{
echo '<div id="productsidebar"></div><div id="contentwrap">';
}

function mytheme_close_jigoshop_content_wrappers()
{
echo '</div>';
}

function mytheme_prepare_jigoshop_wrappers()
{
remove_action( 'jigoshop_before_main_content', 'jigoshop_output_content_wrapper', 10 );
remove_action( 'jigoshop_after_main_content', 'jigoshop_output_content_wrapper_end', 10);

add_action( 'jigoshop_before_main_content', 'mytheme_open_jigoshop_content_wrappers', 10 );
add_action( 'jigoshop_after_main_content', 'mytheme_close_jigoshop_content_wrappers', 10 );
}
add_action( 'wp_head', 'mytheme_prepare_jigoshop_wrappers' ); 
```

当我将侧边栏功能放入功能文件时，这显然是错误的。

谁能建议如何最好地做到这一点？

网站是[http://upholstery180degree.co.uk/NewSite/](http://upholstery180degree.co.uk/NewSite/)

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T10:11:12.310

分析代码后，您的函数将按照指定将产品页面放入主容器中。

```
<div id="contentwrap">
    <ul class="products">
    <li class="product first"> 
```

尽管看起来您正在为您的商店页面使用不同的模板，这导致它显示您网站的小部件。您的代码工作正常，我会进入您的产品页面并更改它使用的模板类型，并使其与您的其他页面相同。此外，您不需要侧边栏 div 信息，因为它不是主包装器的一部分。

```
function mytheme_open_jigoshop_content_wrappers()
{
    echo '<div id="contentwrap">';
}

function mytheme_close_jigoshop_content_wrappers()
{
    echo '</div>';
} 
```

# c# - 将数据从选定项目传递到 WinRT 中的视图模型

> ID：15131736
> 
> 赞同：0
> 
> 时间：2013-02-28T09:21:08.200
> 
> 标签：c#, xaml, mvvm-light, winrt-xaml

我目前正在 WinRT 中编写一个应用程序，我需要将列表视图中选定项目的 id 传递回我的视图模型。我的 listview 有一个 Observable 集合作为 itemsource，因此 listview 中的每个项目都会有不同的 id。

我的 Xaml 代码与此类似

```
 <ListView Grid.Column="0" ItemsSource="{Binding VacationOverviewDisplay}"  >
                <WinRtBehaviors:Interaction.Behaviors>
                    <Win8nl_Behavior:EventToCommandBehavior Event="SelectionChanged"   
                                              Command="DetailsCommand"
                                              CommandParameter="{Binding Path=DontKnow, Mode=TwoWay}"/>
                </WinRtBehaviors:Interaction.Behaviors>
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Vertical" >
                            <StackPanel Orientation="Horizontal">
                                <TextBlock VerticalAlignment="Center" FontWeight="Bold" FontFamily="Segoe UI" Text="{Binding VacationStart, Converter={StaticResource StringFormatConverter}, ConverterParameter='{}{0:dd MMM yyyy}' }" Margin="20,0,0,0"></TextBlock>
                                <TextBlock VerticalAlignment="Center" FontWeight="Bold" FontFamily="Segoe UI" Text="{Binding VacationEnd, Converter={StaticResource StringFormatConverter}, ConverterParameter='{}{0:dd MMM yyyy}' }" Margin="20,0,0,0"></TextBlock>
                                <TextBlock x:Name="id" VerticalAlignment="Center" FontWeight="Bold" FontFamily="Segoe UI" Text="{Binding VacationRequestId}" Margin="20,0,0,0"></TextBlock>
                            </StackPanel>
                            <TextBlock Text="{Binding StatusView}" Margin="50,0,0,0"></TextBlock>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Title: " Margin="50,0,0,0"></TextBlock>
                                <TextBlock FontStyle="Italic" Text="{Binding VacationCommentUser}" Margin="5,0,0,0"></TextBlock>
                            </StackPanel>
                        </StackPanel>
                    </DataTemplate>
                </ListView.ItemTemplate>

            </ListView> 
```

我正在使用 WinRTBehaviors 来模仿 EventToCommand 行为，但我不知道如何从列表视图中的项目中获取某个参数返回到我的视图模型。对于 Mvvm，我使用的是 MvvmLight。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:34:28.153

只需在视图模型中创建一个属性，然后将其绑定到列表视图中的 SelectedItem，如下所示：

```
SelectedItem={Binding MyProperty, Mode=TwoWay} 
```

就这样。每当用户更改值时，您的属性都会更新。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:35:35.370

将所选项目绑定到 ViewModel 中的属性

```
<ListView Grid.Column="0" ItemsSource="{Binding VacationOverviewDisplay}" SelectedItem="{Binding SelectedVacation, Mode=TwoWay}"> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T09:43:31.840

您应该用于从中`SelectedValuePath`提取：`Id``SelectedItem`

```
<ListView Grid.Column="0" ItemsSource="{Binding VacationOverviewDisplay}"
                          SlectedValuePath="Id" 
                          SelectedValue="{Binding SelectedVacationId, Mode=TwoWay}"> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T09:34:28.153

```
CommandParameter="{Binding ElementName=MyListBox, Path=SelectedItem}" 
```

（你必须给你的 ListBox 一个 x:Name 值。）

# tcl - TCLOO：如何区分基本类型和对象

> ID：15131741
> 
> 赞同：1
> 
> 时间：2013-02-28T09:21:21.367
> 
> 标签：tcl

如何区分基本类型（如字符串）和 TclOO 中的 ::oo::object？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T07:21:27.657

您可以使用以下方法精确确定值是否是对象的句柄[`info object isa object`](http://www.tcl.tk/man/tcl8.6/TclCmd/info.htm#M68)：

```
if {[info object isa object $thing]} {
    puts "Hey, $thing is an object!"
} 
```

Generally speaking though, Tcl's type system has all values being at least *nominally* strings. More strictly, every value is serializable to a string. Some values have other natures as well (e.g., numbers know about their numeric-ness as well). TclOO object handles are strings, and command names (and hence can be `rename`d), and (of course) object handles.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T12:59:50.213

愚蠢的回答：

```
# Since a normal string is unlikly to be "::oo::object", this will return 1
# if the argument is not ::oo::object
proc is_oo_object args {
    string equals $arg ::oo::object
}

# gettype - higly accurate
proc gettype arg {
    # EIAS
    return "string"
} 
```

简单的答案：你不能。如果有人将对象的名称传递给您，则它是一个字符串。（参见[EIAS](http://wiki.tcl.tk/3018)的 Tcl/Tk wiki ）

如果您检查是否存在具有该名称的命令，您可以尝试猜测它是否是 ::oo::object：

```
if {[llength [namespace which $arg]]} {
    ....
} 
```

这仍然不意味着这是一个 ::oo::object。您可以尝试使用 来检查它`expr {[catch {info object class $arg ::oo::object} res] && $res}`，但谁告诉您有人想`oo::class`作为字符串传递？

# vb.net - 压缩文件时忽略某些文件

> ID：15131752
> 
> 赞同：-2
> 
> 时间：2013-02-28T09:21:53.677
> 
> 标签：vb.net, zip

我在我的项目中使用 dotnetZip，当我压缩文件夹时，我希望某些文件（如 .jpg 或文件夹名或文件名）不压缩。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:38:40.740

这个怎么样

```
 zip.AddSelectedFiles("name != folder1\*.jpg", "folder1", true);
    zip.Save(_zipFileName); 
```

# visual-c++ - 自动更新 Visual C++ 资源文件中的值

> ID：15131755
> 
> 赞同：0
> 
> 时间：2013-02-28T09:21:56.750
> 
> 标签：visual-c++, resources, resource-file

在我的 Visual C++ 6.0 项目中，**MyProject.rc**文件中有一些值，例如

```
BEGIN
    BLOCK "StringFileInfo"
    BEGIN
        BLOCK "040604b0"
        BEGIN
            VALUE "Comments", "My Project comment\0"
            VALUE "CompanyName", "My Company\0"
            VALUE "ProductVersion", "9, 9, 1, 9\0"
            VALUE "SpecialBuild", "Release Version\0"
        END
    END
END 
```

鉴于在调试和错误查找方面浪费了一些时间，我希望编译器通过插入另一个 .dll 库的版本值来更新我的项目资源文件中的任何值，该值由**MyProject**使用。我想使用这个功能，所以我可以看到**MyProject**正在使用的第二个库的版本。有什么方法可以在编译时在**MyProject.rc**中插入另一个库的版本值？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:30:35.957

您可以编写一个简单的程序，获取 dll 版本并编辑 rc 文件，这可以称为预构建步骤。

# html - 无法显示带有 div 的大树结构

> ID：15131756
> 
> 赞同：0
> 
> 时间：2013-02-28T09:21:58.537
> 
> 标签：html, css

在 JSP 页面上，我们使用嵌套的 div 显示了一个树状结构。每个 div 的宽度是在运行时计算的。运行时仅给出“div1”的宽度，其他 div 的宽度在运行时使用它计算。这里，我将其设置为 200px。

```
<div id="div1" style="background-color:#EEEEEE;height:200px;width:200px;float:left;overflow:auto">
    <div id="div2" style="background-color:yellow;height:200px;width:190px;">
        <div id="div3" style="background-color:blue;height:180px;width:180px;"></div>
        <div id="div4" style="background-color:red;height:180px;width:50px;"></div>
    </div>
</div> 
```

现在的问题是“div4”没有附加在“div3”的右侧。它被放置在下一行。因为那个树结构被扰乱了。如果我增加“div2”的宽度，那么它会放在右边，但是对于所有不需要它的情况，水平滚动条都会出现。我注意到 div 的行为是垂直而不是水平放置文本。知道如何使它工作吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:46:00.070

这是你的想法吗？我创建了一个 jsfiddle：http: [//jsfiddle.net/r6sPY/](http://jsfiddle.net/r6sPY/)

只要 div2 的宽度小于 div3 和 div4 的总和，div4 就永远不会附加到 div3 的右侧。但是话又说回来，我不确定这是否是您的想法。

```
<div id="div1" style="background-color:#EEEEEE;height:200px;width:200px;float:left;overflow:auto">
<div id="div2" style="background-color:yellow;height:200px;width:190px;">
    <div id="div3" style="background-color:blue;height:180px;width:130px;float:left;"></div>
    <div id="div4" style="background-color:red;height:180px;width:50px;float:left;"></div>
</div>
</div> 
```

# iphone - 为什么这张图片没有被添加到我的滚动视图中？

> ID：15131757
> 
> 赞同：3
> 
> 时间：2013-02-28T09:21:59.027
> 
> 标签：iphone, ios, objective-c, xcode, cocoa-touch

为什么这张图片没有被添加到我的`UIScrollView`? 正在显示一个白屏：

```
UIImageView *imageView = [[UIImageView alloc] initWithFrame:CGRectMake(self.scrollView.frame.size.width * 1, 0, self.scrollView.frame.size.width, self.scrollView.frame.size.height)];
    imageView.backgroundColor = [UIColor redColor];
    [imageView setImage:[UIImage imageNamed:@"placeholder.png"]];
    [self.scrollView addSubview:imageView];
    self.scrollView.contentSize = CGSizeMake(self.scrollView.frame.size.width * self.urlArray.count, self.scrollView.frame.size.height); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:23:30.410

```
UIImageView *imageView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, self.scrollView.frame.size.width, self.scrollView.frame.size.height)]; 
```

Ans 还提供适当`contentSize`的`UIScrollView`并添加`UIScrollView`到您的`UIView`

# django - Django 覆盖 python site.py 编码

> ID：15131758
> 
> 赞同：1
> 
> 时间：2013-02-28T09:22:02.960
> 
> 标签：django, encoding, python-2.7

我需要从我的 django 项目中将 python site.py 编码覆盖为 utf-8

我已编辑 /lib/python2.7/site.py 并在 setencoding() 函数中将编码更改为 utf-8。但是在每次部署时，这又会变为“ascii”。

我可以在我的项目中设置这个编码吗？

提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T03:09:43.487

我将它包含在 settings.py 中，它工作正常。

```
import sys
encoding='utf-8'
reload(sys)
sys.setdefaultencoding(encoding) 
```

# iphone - 如何从图像中获取单个实体？

> ID：15131768
> 
> 赞同：2
> 
> 时间：2013-02-28T09:22:28.420
> 
> 标签：iphone, ios, image-processing, pattern-matching, artificial-intelligence

我正在使用这张图片。我只想从这张图片中得到人类的部分。我不想要这张图片的背景。

![海报中的一个人的图片](../Images/4285651ff2b215725b43b4da02d12242.png)

这个怎么做？任何逻辑，链接或最好和最简单的方法？

这是我想要[链接](http://www.imageskill.com/tutorials/br/01/br_tut01.html)的东西，但我想要在目标 c

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T10:55:41.193

没有简单快捷的方法可以满足您的要求。首先，您可以学习[如何在 OpenCV 中检测对象](http://docs.opencv.org/doc/tutorials/objdetect/cascade_classifier/cascade_classifier.html#cascade-classifier)。

在此之后，您可以检查来自 OpenCV 源的**haarcascade_fullbody.xml 。**此级联用于检测主体，在文本编辑器中打开它，标题中有附加信息。无论如何，我不确定现有的级联是否适合您的需求。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T09:26:38.637

从 iOS5 及更高版本您可以使用人脸检测 API。通过使用 FaceDetection APi，您可以轻松找到人的脸。参考和示例代码[在这里是链接。](http://maniacdev.com/2011/11/tutorial-easy-face-detection-with-core-image-in-ios-5/)

一切顺利 ！！！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-05T15:26:33.323

对于ios5.1+，使用CIDetector和CIFaceFeature类可以很方便的进行人脸识别。

身体识别，是你需要使用opencv库。苹果尚不支持。

看看这个： http: [//niw.at/articles/2009/03/14/using-opencv-on-iphone/en](http://niw.at/articles/2009/03/14/using-opencv-on-iphone/en)

[使用 OpenCV 人脸检测在 iOS 中裁剪图像](https://stackoverflow.com/questions/14756505/cropping-an-image-in-ios-using-opencv-face-detection)

# logging - 静默安装 - .net 4 先决条件

> ID：15131769
> 
> 赞同：0
> 
> 时间：2013-02-28T09:22:29.070
> 
> 标签：logging, wix, custom-action

如果 .net4 框架不可用，对于静默安装，我需要在日志中添加消息，说明只有安装了 .net4framework 才能继续安装。这是否可以通过可以添加到 InstallExecuteSequence 的标准自定义操作来实现。

在 UI 模式下，我使用 NETFRAMEWORK40FULL 属性来检查 dotnetframework 的存在

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T10:31:58.517

您可以使用自定义操作类型 19 来做到这一点。看起来您离目标仅一步之遥：

```
<CustomAction Id="DotNet4PrerequisiteAssert" Error=".NET 4 is not installed"/>
<InstallExecuteSequence>
    <Custom Action="DotNet4PrerequisiteAssert" After="AppSearch">NOT Installed AND NOT NETFRAMEWORK40FULL</Custom>
</InstallExecuteSequence> 
```

但我不确定你为什么不使用 LaunchCondition 而不是手动自定义操作。它应该在 UI 和静默模式下工作：

```
<PropertyRef Id="NETFRAMEWORK40FULL"/>
<Condition Message='This setup requires the .NET Framework 4.0 client profile installed.' >
    <![CDATA[Installed OR NETFRAMEWORK40FULL]]>
</Condition> 
```

# c++ - 将 cin 的输出分配给变量

> ID：15131772
> 
> 赞同：1
> 
> 时间：2013-02-28T09:22:33.347
> 
> 标签：c++, variables, user-input, getline, cin

我正在尝试学习如何使用 `cin`和`getline`编写我可以在学校使用的纸质评分程序。对于初学者来说这是一个棘手的项目，但它让我知道我需要学习什么，这是我需要做的第一件事。

```
int main()
{
    string grader;
    int x;
    cout << "Who will I be assisting today? ";
    getline (cin, grader);
    cout << "Hello " << grader << ".\n";
    cout << "How manny questions are on the test you will be grading? ";
    getline (cin, x);
    cout << "this is a " << x << "question test graded by" << grader << ".\n";
} 
```

假设我第一个问题回答了 John Doe，然后第二个问题回答了 20。我希望它打印“这是由 John Doe 评分的 20 题测试”
我哪里出错了？我确定这是一个愚蠢的错误，但它困扰着我。我是新手，对我的无知感到抱歉。我会有更多关于这个程序的问题，这些问题与用户输入无关。可以在这里发布这些问题，还是开始新的话题？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:33:58.657

由于您没有说明您的错误是什么，唉，它也可能是缺少包含/命名空间。完整的可运行/可编译程序将是：

```
#include <iostream>
#include <string>

using namespace std;
int main()
{
    string grader;
    int x;
    cout << "Who will I be assisting today? ";
    getline (cin, grader);
    cout << "Hello " << grader << ".\n";
    cout << "How manny questions are on the test you will be grading? ";
    cin >> x;
    cout << "this is a " << x << "question test graded by" << grader << ".\n";
} 
```

无论如何，这将在您输入问题数量后立即关闭（或者您从 shell/cmd 调用您的 exe） - 所以不要怀疑您是否看不到结果。

# c# - 使用表单调整大小调整控件大小

> ID：15131779
> 
> 赞同：10
> 
> 时间：2013-02-28T09:22:43.447
> 
> 标签：c#, winforms, resize, controls

我已经阅读了几个堆栈溢出问题，但没有找到解决问题的好方法。每当调整表单大小时，如何调整控件的大小？当表格变大或变小时，我希望它们变大或变小。

在 Visual Basic 中，使用 form.Zoom 属性很容易做到这一点（当然，它实际上并不需要调整控件的大小，但解决了我需要的问题）。不幸的是，这在 C# winforms 中不可用。

这是我没有运气尝试过的其他一些事情：

```
private void formMain_Resize(object sender, EventArgs e)
{/*
double scale;
this.scaleWidth = (float)this.Width / (float)this.origWidth;
this.scaleHeight = (float)this.Height / (float)this.origHeight;
if (this.scaleHeight > this.scaleWidth)
{
    scale = this.scaleHeight;
}
else
{
    scale = this.scaleWidth;
}

foreach (Control control in this.Controls)
{
    control.Height = (int)(control.Height * this.scaleHeight);
    control.Width = (int)(control.Width * this.scaleWidth);
    this.Refresh();
    //  control.Font = new Font("Verdana", control.Font.SizeInPoints * heightRatio * widthRatio);
}
///////This scaling didnt work for me either
//this.Scale(new SizeF(this.scaleWidth, this.scaleHeight));
//this.Refresh();
*/
} 
```

如果我在另一个堆栈溢出问题上忽略了一个实际*工作*的代码示例，我很乐意看到它，但我发现的那些与上面那些不起作用的类似。

也许我在滥用它，有人可以发布示例代码，以向我们这些不断提出这个问题的人展示如何解决问题。

此外，我尝试使用一些锚/对接工具，认为它们会自动允许它，但它没有。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-03-04T07:01:53.540

最好的选择是使用[`TableLayoutPanel`](http://msdn.microsoft.com/en-us/library/h21wykkx.aspx). 放在`TableLayoutPanel`窗体上，将`Dock`属性设置为`Fill`，创建所需的行和列，并将控件放在单元格内。当然，您需要`Dock/Anchor`在单元格内设置控件，以便它们响应单元格大小的变化。在某些情况下，您可能需要将 a`Panel`放入单元格并将控件放入其中，因为每个单元格只能包含一个控件。您可能还需要在控件上设置[`RowSpan`](http://msdn.microsoft.com/en-us/library/system.windows.forms.tablelayoutpanel.setrowspan.aspx)/ 。[`ColumnSpan`](http://msdn.microsoft.com/en-us/library/system.windows.forms.tablelayoutpanel.setcolumnspan.aspx)

通过使用`TableLayoutPanel`，您可以完全控制如何安排您的控制。您可以为行和列设置绝对大小或百分比大小。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-28T09:25:42.457

使用控件的[锚](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.anchor.aspx)。有一个锚定顶部、底部、左侧和右侧的选项。你可以走了。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-01-29T21:02:15.640

我找到了一个对我来说效果很好的替代解决方案，感谢对该解决方案的任何负面或正面评论。

在不同区域的拆分容器中使用多个拆分容器和拆分容器，我可以分割布局的主要部分，并在其中使用对接和锚定，我能够完全完成我想做的事情 - 它工作得很好。

我要指出我知道有些人在网上提到拆分容器使用大量资源。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-03-19T23:36:55.280

如果您的控件位于组框中，请确保将组框属性设置为调整大小。盒子内的控件由盒子控制。盒子的大小（除非它在另一个盒子里）由表单控制。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-28T09:44:59.907

您在代码中尝试做的是更改控件的大小，这不是很好的方法。通常，在调整表单大小时不应更改按钮和文本框的大小，但它们通常需要移动（更改位置）。一些控件确实需要根据重新调整大小的表单来改变大小，但在大多数情况下只需要一个维度。用于工作区域的中央控件（例如，如果您正在开发绘图工具）应该更改两个维度的大小。所有这一切都可以通过正确设置控件的 Dock 和/或 Anchor 属性来完成。

```
textBox1.Dock = DockStyle.Bottom;
textBox1.Anchor = AnchorStyles.Bottom & AnchorStyles.Left; 
```

使用设计器时，所有这些也可以在“属性”面板中轻松设置。

但如果这对您来说还不够，在极少数情况下，您肯定只想更改控件的位置：

```
textBox1.Location = new Point(newX, newY); 
```

# ember.js - 用 ember 显示崩溃路径

> ID：15131788
> 
> 赞同：14
> 
> 时间：2013-02-28T09:23:07.467
> 
> 标签：ember.js, breadcrumbs, ember-router

我想用 Ember 显示一个崩溃的路径。如何遍历当前路径？

在我看来，有两种方法：

***余烬之路***

*编辑：见下面我的回答*

我使这个问题与显示面包屑的当前状态保持同步。您可以浏览此问题的修订版本以查看历史记录。

这里有几个目标：

1.  监听路由变化
2.  寻找当前路线
3.  显示当前路线列表
4.  显示路线中步骤的工作链接

**控制器**

```
App.ApplicationController = Ember.Controller.extend({
    needs: ['breadcrumbs'],
    currentPathDidChange: function() {
        path = this.get('currentPath');
        console.log('path changed to: ', path);
        this.get('controllers.breadcrumbs').set('content',this.get('target.router.currentHandlerInfos'));
    }.observes('currentPath')
});
App.BreadcrumbsController = Em.ArrayController.extend({}); 
```

**路由器**

```
App.ApplicationRoute = Ember.Route.extend({
    renderTemplate: function() {
        this.render();
        this.render('breadcrumbs', {
            outlet: 'breadcrumbs',
            into: 'application',
            controller: this.controllerFor('breadcrumbs')
        });
    }
}); 
```

**模板**

```
{{! application template }}
<div class="clearfix" id="content">
    {{outlet "breadcrumbs"}}
    {{outlet}}
</div>

{{! breadcrumbs template }}
<ul class="breadcrumb">
  {{#each link in content}}
    <li>
      <a {{bindAttr href="link.name"}}>{{link.name}}</a> <span class="divider">/</span>
    </li>
  {{/each}}
</ul> 
```

目前要解决的问题是：

*   当我转到 URL 时：`#/websites/8/pages/1`面包屑的输出是：（我删除了所有脚本标签占位符

```
<ul class="breadcrumb">
  <li>
    <a href="application" data-bindattr-34="34">application</a> <span class="divider">/</span></li>
  <li>
    <a href="sites" data-bindattr-35="35">sites</a> <span class="divider">/</span>
  </li>
  <li>
    <a href="site" data-bindattr-36="36">site</a> <span class="divider">/</span>
  </li>
  <li>
    <a href="pages" data-bindattr-37="37">pages</a> <span class="divider">/</span>
  </li>
  <li>
    <a href="page" data-bindattr-38="38">page</a> <span class="divider">/</span>
  </li>
  <li>
    <a href="page.index" data-bindattr-39="39">page.index</a> <span class="divider">/</span>
  </li>
</ul> 
```

*   URL 应该是有效的路由
*   菜单现在被硬编码`{{#linkTo}}`到路由中，我试图让它动态化，就像[这里](http://jsfiddle.net/Malkyne/ydTWZ/)一样，但`transitionTo`不会触发`currentPath`-observer

***另一种方法***

大多数与上述相同，但有一些不同之处。面包屑是通过循环`location.hash`而不是从路由器获取的。

**ApplicationController**变为：

```
ApplicationController = Ember.Controller.extend({
    needs: ['breadcrumbs'],
    hashChangeOccured: function(context) {
        var loc = context.split('/');
        var path = [];
        var prev;
        loc.forEach(function(it) {
            if (typeof prev === 'undefined') prev = it;
            else prev += ('/'+it)
            path.push(Em.Object.create({ href: prev, name: it }));
        });
        this.get('controllers.breadcrumbs').set('content',path)
    }
});
ready : function() {
    $(window).on('hashchange',function() {
        Ember.Instrumentation.instrument("hash.changeOccured", location.hash);
    });
    $(window).trigger('hashchange');
} 
```

我们需要在**ApplicationRoute中订阅自定义处理程序**

```
App.ApplicationRoute = Ember.Route.extend({
    setupController: function(controller, model) {
        Ember.Instrumentation.subscribe("hash.changeOccured", {
            before: function(name, timestamp, payload) {
                controller.send('hashChangeOccured', payload);
            },
            after: function() {}
        });
    }
}); 
```

到目前为止，替代方法对我来说效果最好，但这不是一个好方法，因为当您将路由器配置为使用`history`而不是`location.hash`这种方法时，它将不再起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-27T19:33:26.110

根据您当前的面包屑输出，我猜您的路由器有错误。

以下命令应返回带有当前面包屑的数组：

```
App.get('Router.router.currentHandlerInfos'); 
```

您的路由器应该嵌套：

```
this.resource('page 1', function () {
    this.resource('page 2');
}); 
```

您可以在面包屑中使用`#linkTo`而不是`a`标签，您将免费获得活动课程。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-11T16:15:02.393

I came up with a much simpler solution that I posted to the [Ember discourse](http://discuss.emberjs.com/t/router-public-api-for-current-routes-dynamic-breadcrumb/1639/4).

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T13:04:59.420

我找到了一个（*Ember-way*）显示面包屑的解决方案。它基于路由器而不是我的`location.hash`.

# 基础设施

首先，在我们从面包屑数组中添加或删除项目之前，我们需要为面包屑创建基础设施。

## 菜单

在我的 app.js 中，我定义了一个`NavItem`-object。这是所有可导航项目的骨架。我用它来定义我的菜单项，但我们也将它用于面包屑。

```
App.NavItem = Em.Object.extend({
    displayText: '',
    routeName: ''
});
// define toplevel menu-items
App.dashboardMenuItem = App.NavItem.create({
    displayText: 'Dashboard',
    routePath: 'dashboard',
    routeName: 'dashboard'
});
App.sitesMenuItem = App.NavItem.create({
    displayText: 'Websites',
    routePath: 'sites.index',
    routeName: 'sites'
}); 
```

## 控制器

我们需要一个**BreadcrumbsController**来将面包屑放在一个中心位置

```
App.BreadcrumbsController = Em.ArrayController.extend({
    content: []
}); 
```

我的**ApplicationController**依赖于*BreadcrumbsController*

```
App.ApplicationController = Ember.Controller.extend({
    needs: ['breadcrumbs']
}); 
```

**BreadcrumbsView**是*ApplicationView*的子视图

 *## 意见

```
App.ApplicationView = Ember.View.extend({
    BreadcrumbsView: Ember.View.extend({
        templateName: 'breadcrumbs',

        init: function() {
            this._super();
            this.set('controller', this.get('parentView.controller.controllers.breadcrumbs'));
        },
        gotoRoute: function(e) {
            this.get('controller').transitionToRoute(e.routePath);
        },

        BreadcrumbItemView: Em.View.extend({
            templateName:'breadcrumb-item',
            tagName: 'li'
        })
    })
}); 
```

## 模板

在我的**应用程序**模板中，我在出口上方输出面包屑视图

```
{{view view.BreadcrumbsView}}
{{outlet}} 
```

我正在使用 Twitter Bootstrap，所以我的**面包屑**模板标记是

```
<ul class="breadcrumb">
  {{#each item in controller.content}}
      {{view view.BreadcrumbItemView itemBinding="item"}}
  {{/each}}
</ul> 
```

**面包屑**项目模板

```
<a href="#" {{action gotoRoute item on="click" target="view.parentView"}}>
  {{item.displayText}}
</a> <span class="divider">/</span> 
```

# 路由

我们需要响应应用程序中的路由来更新面包屑。

当我的**SitesRoute**（或任何其他顶级路由）被激活时，我们将 NavItem 推送到 Breadcrumbs，但我也想对我的其他顶级路由执行此操作，所以我首先创建一个**TopRoute**

```
App.TopRoute = Em.Route.extend({
    activate: function() {
        this.controllerFor('menu').setActiveModule(this.get('routeName'));
        var menuItem = app.menuItems.findProperty('routeName',this.get('routeName'));
        this.controllerFor('breadcrumbs').get('content').pushObject(menuItem);
    },
    deactivate: function() {
        var menuItem = app.menuItems.findProperty('routeName',this.get('routeName'));
        this.controllerFor('breadcrumbs').get('content').removeObject(menuItem);
    }
}); 
```

我所有的顶级路线都从这条路线延伸，所以面包屑会自动更新

```
App.SitesRoute = App.TopRoute.extend(); 
```

对于更深层次，它的工作原理几乎相同，您所要做的就是使用`activate`and`deactivate`钩子从面包屑中推送/删除对象

```
App.SiteRoute = Em.Route.extend({
    activate: function() {
        var site = this.modelFor('site');
        this.controllerFor('breadcrumbs').get('content').pushObject(app.NavItem.create({
            displayText: site.get('name'),
            routePath: 'site',
            routeName: this.get('routeName')
        }));
    },
    deactivate: function() {
        var site = this.modelFor('site');
        this.controllerFor('breadcrumbs').get('content').removeAt(1);   
    }
}); 
```*

# jquery - JSF ajax 和 jQueryMobile 更新选择菜单

> ID：15131795
> 
> 赞同：1
> 
> 时间：2013-02-28T09:23:26.507
> 
> 标签：jquery, jsf, jquery-mobile, jsf-2

我正在使用 JSF 2.0、jQuery 1.8.2 和 jQueryMobile 1.2.0

我有两个选择菜单，其中第二个菜单的源值取决于第一个选择菜单的选择（值由支持 bean 函数加载）。我的问题是当我在第一个选择菜单中选择选项时，我无法正确更新第二个选择菜单。

```
<h:form id="testForm" prependId="false">
 <h:selectOneMenu id="testValues" value="#{model.testValue}" >
            <f:selectItems
                value="#{bean.getTestValues()}"
                var="object"
                itemLabel="#{object.label}"
                itemValue="#{object.value}" />
            <f:ajax render="testValues2" onevent="initForm"/>
        </h:selectOneMenu>
 <h:selectOneMenu id="testValues2" value="#{model.testValue2}">
          <f:selectItems
                value="#{bean.getTest2Values(model.testValue)}"
                var="object2"
                itemLabel="#{object2.label}"
                itemValue="#{object2.value}" />
 </h:selectOneMenu>
</h:form>
<script type="text/javascript">
  function initForm(){
    $("#testForm").trigger('create');

    };
     </script> 
```

当我这样做时，未正确创建 testValues2 菜单。某事：像这样：

```
<div class="ui-select"> <!-- menuselect before update... -->
     <div>...</div> <!-- here is selected option from testValues2 before update -->
    <div class="ui-select">...</div> <!-- menu with updated values-->
</div> 
```

很明显，我只想在更新后正确显示菜单。我试图通过以下方式刷新第二个选择菜单：

```
$('#testValues2').selectmenu('refresh'); 
```

或者

```
$('#testValues2').selectmenu();
$('#testValues2').selectmenu('refresh'); 
```

但它没有帮助（我有错误`Error: cannot call methods on selectmenu prior to initialization; attempted to call method 'refresh'`：）

此外，我无法通过`<f:ajax render=":testForm"`/> 呈现所有表单，因为表单上有我不想刷新的其他字段。

请帮忙。

# php - PHPMailer 发送失败

> ID：15131796
> 
> 赞同：0
> 
> 时间：2013-02-28T09:23:27.953
> 
> 标签：php, phpmailer

我看到大多数 PHPMailer 问题都使用 IsSMTP()，但我正在使用我昨天在 SO 上找到的一个非常基本的示例（虽然似乎无法在历史中找到链接），但事实并非如此。

```
require_once("class.phpmailer.php");

$email = new PHPMailer();

if (isset($_FILES['upload']['size']))
{
    echo 'file size: '.(basename($_FILES['upload']['size'])* 1024).'<br />';

    if (move_uploaded_file($_FILES['upload']['tmp_name'], $target_path))
    {
        echo "The file ".  basename( $_FILES['upload']['name'])." has been uploaded<br />";
        $email->AddAttachment($target_path);
    }
    else
    {
        echo "There was an error uploading the file, please try again!<br />&nbsp;".basename($_FILES['upload']['error']);
    }
}
else
{
    echo "No file was found for the upload.<br />";
}

$email->To = "me@this.com";
$email->From = $email_from;
$email->FromName = $first_name;
$email->Subject = "Query from website";
$email->Body = $email_message;

//echo "mail built...<br />";

if (!$email->Send())
{
    echo "Mailer error: " . $email->ErrorInfo;
} 
```

我试过发送两次。代码执行良好，最后一条`if`语句返回 true。

我必须使用 IsSMTP() 吗？如果是这样，它是否必须像我在[这里](https://stackoverflow.com/questions/10656532/can-not-send-mail-through-phpmailer)看到的那样通过 SSL 路由？

提前致谢？

**编辑**

我添加了 SMTP 所需的详细信息，如下所示：

```
$email->IsSMTP();
$email->Host = "localhost";
$email->Port = 465;
$email->SMTPAuth = true;
$email->Username   = "bacon";
$email->Password   = "4ndCh33se"; 
```

这似乎没有触发它发送。也仍然没有报告任何错误。

**编辑**

原来有一个错误，我在一个奇怪的地方有一个重定向，阻止我看到它。错误如下：

> 您必须提供至少一个不支持的邮件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T13:32:56.853

最初，添加 IsSMTP() 似乎至关重要，并根据其他答案实施。

然而，所有答案都未能解决难题中缺失的一块。

PHPMailer 至少需要添加 1 个地址，如下所示。我只是在这里使用了与属性中设置的地址相同的地址`To`：

```
$email->To = "me@this.com";
$email->AddAddress("me@this.com"); 
```

完成此操作后，一切正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:32:39.703

```
 $email->To = "me@this.com";
    $email->From = $email_from;
    $email->FromName = $first_name;
    $email->Subject = "Query from website";
    $email->Body = $email_message; 
```

除了你的，我还有以下。也许它有帮助：

```
 $email->IsSMTP();               // set mailer to use SMTP
    $email->Host = "mail.webaddress.com";  // specify main and backup server
    $email->SMTPAuth = true;        // turn on SMTP authentication
    $email->Username = "********";  // SMTP username
    $email->Password = "********";  // SMTP password 
```

我在 class.phpmailer.php 中什么都没改变

### 尝试这个

```
 $email->IsSMTP();               // set mailer to use SMTP
    $email->Host = "mail.webaddress.com";  // specify main and backup server
    $email->SMTPAuth = false;        // turn on SMTP authentication
    $email->Port = 25
    $email->SMTPSecure = "";
    $email->Username = "********";  // SMTP username
    $email->Password = "********";  // SMTP password 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:25:30.770

如果您想通过您发送邮件，`smtp`您需要设置`SMTP`用户名和密码等设置。

而且您还需要添加`IsSMTP()`.

**示例 Gmail SMTP 设置**

```
$this->SwiftMailer->smtpType = 'tls';
$this->SwiftMailer->smtpHost = 'smtp.gmail.com';
$this->SwiftMailer->smtpPort = 587;
$this->SwiftMailer->smtpUsername = 'emailaddress@gmail.com';
$this->SwiftMailer->smtpPassword = 'gmailPassword';

$this->SwiftMailer->sendAs = 'html';
$this->SwiftMailer->from = 'sender@gmail.com';
$this->SwiftMailer->fromName = 'Sender Name';
$this->SwiftMailer->to = "receiver@anything.com";

$this->Email->sendAs = 'html'; 
```

# azure - 从意外删除 azure 表中恢复

> ID：15131800
> 
> 赞同：2
> 
> 时间：2013-02-28T09:23:32.620
> 
> 标签：azure, azure-storage

[http://news.ycombinator.com/item?id=5292591](http://news.ycombinator.com/item?id=5292591)

这种f *** up可以在Azure表中轻松完成-每当我使用Cerebrata时，我都有一种令人不安的感觉，我可能会一键搞砸！

在 azure 存储（表存储和 blob 存储）中进行备份的最佳实践是什么，以便在不幸发生时可以重新修补它。

卡皮尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T12:27:01.083

正如@Sandrino 所说，锁定对生产数据的访问。除了管理生产部署的一两个人之外，不要将存储帐户密钥提供给任何人。如果您*必须*提供表访问权限（例如，对于某种类型的紧急调试），您可以为仅具有查询权限的表生成共享访问签名。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:49:11.443

尽量避免在应用程序之外访问生产数据库、存储帐户等。并设置备份，也用于表存储。

您可以使用[RedGate Cloud Services](http://cloudservices.red-gate.com/)等商业服务。

# android - flurry - 如何查看客户流失率/流失率？

> ID：15131806
> 
> 赞同：0
> 
> 时间：2013-02-28T09:23:46.410
> 
> 标签：android, analytics, flurry

在flurry仪表板上，我们可以在Usage > User Retention下看到留存用户的数量。我想知道流失率/流失率如何。我们如何查看一段时间后停止使用该应用程序的用户数量？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:03:37.440

如果您在应用程序中监控 Usage>Active Users，那将是一个好主意。这将为您提供有关每天/每周/每月有多少唯一用户正在积极使用您的应用程序的信息。

（全面披露：我在 Flurry 的支持团队工作）

# jquery - 我们可以在 fullcalendar 中使用 div 代替 table 吗？

> ID：15131812
> 
> 赞同：3
> 
> 时间：2013-02-28T09:24:01.460
> 
> 标签：jquery, fullcalendar

我需要创建一个日历，其中日期按列从上到下排列。所以我通过 div 更改了表格。砑光机工作正常。但事件显示效果不佳。事件安排在顶角 [一天]。我需要正确显示每一天的事件。并且需要创建新事件。你能帮助我吗？

```
function buildSkeleton(maxRowCnt, showNumbers) {
    var s;
    var headerClass = tm + "-widget-header";
    var contentClass = tm + "-widget-content";
    var i, j,k;
    var table;
    console.log("maxRowCnt:",maxRowCnt);
    console.log("rowCnt:",rowCnt);
    console.log("colCnt:",colCnt);
    s =
        "<div class='main1' id='body' style='width:100%' >";

    for (i=0; i<rowCnt; i++) {//1
        k=100/rowCnt;
        s +=
            "<div class='fc-week" + i + " weeks' style='width:"+ k +"% ;float:left;'>" ;
        for (j=0; j<colCnt; j++) {//7
            s +=
                "<div class='fc-" + contentClass + " fc-day" + (i*colCnt+j) + " weekday'>" + // need fc- for setDayID
                "<span  class='fc- " + headerClass + "'/>"+
                "<div>" +
                (showNumbers ?
                    "<div class='fc-day-number'/>" :
                    ''
                    ) +
                "<div class='fc-day-content'>" +
                "<div style='position:relative'>&nbsp;</div>" +
                "</div>" +
                "</div>" +
                "</div>" ;
        }
        s +=
            "</div >" ;
    }
    s +=
        "</div>";
    table = $(s).appendTo(element);
    console.log("table:",table);
    body = table.find('.main1');
    console.log("body:",body);
    bodyRows = table.find('.weeks');
    console.log("bodyRows:",bodyRows);

    bodyCells = table.find('.weekday');
    console.log("bodyCells:",bodyCells);
    headCells = bodyCells.find('span');
    console.log("headCells:",headCells);
    bodyFirstCells = bodyCells.filter(':first-child');//bodyCells.filter(':first-child');
    console.log("bodyFirstCells:",bodyFirstCells);
    bodyCellTopInners = bodyRows.find('div .fc-day-content div');
    console.log("bodyCellTopInners:",bodyCellTopInners);
    markFirstLast(bodyRows); // marks first+last td's
    bodyRows.addClass('fc-first'); // fc-last is done in updateCells
    dayBind(bodyCells);

    daySegmentContainer =
        $("<div style='position:absolute;z-index:8;'/>")
            .appendTo(element);
} 
```

# jsf-2 - 是否需要在 facelet taglib 2.0 中声明标签？

> ID：15131820
> 
> 赞同：2
> 
> 时间：2013-02-28T09:24:21.147
> 
> 标签：jsf-2, facelets, taglib

我已经阅读了教程： http: [//jsflive.wordpress.com/2011/03/24/custom-component-library/](http://jsflive.wordpress.com/2011/03/24/custom-component-library/)，其中作者正在制作空`.taglib.xml`文件，并且根据教程，标签应该从资源子文件夹。

但是，对我来说，我有例外：

> javax.faces.FacesException：无法获取 myComponent.xhtml 的组件元数据

我必须手动指定每个标签：

```
<tag>
    <tag-name>myComponent</tag-name>
    <source>tags/mylib/myComponent.xhtml</source>
</tag> 
```

我错过了什么吗？标签定义位置会在哪里自动解析？我在**WebSphere 7.0**和**MyFaces 2.0.7**上运行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-30T08:03:33.163

我想你把事情搞混了。在我上面提到的博客文章中，我将复合组件添加到标签库中，如下所示：

```
<facelet-taglib>
  <namespace>http://jsflive.at/taglib</namespace>
  <composite-library-name>jsflive</composite-library-name>
</facelet-taglib> 
```

这将添加资源库的所有复合组件，其名称在`composite-library-name`. 标记名称是按照约定从文件名派生而来的。

相反，您可以为 Facelets 片段指定标签：

```
<tag>
  <tag-name>myComponent</tag-name>
  <source>tags/mylib/myComponent.xhtml</source>
</tag> 
```

这与复合组件无关！这种方法是为 Facelets 片段定义自定义标记的 JSF 2.0 之前的方法。您的代码为引用的 xhtml 文件创建一个标签，该文件可以是任意 Facelets 文件。`taglib.xml`在这种情况下，路径是相对于文件的位置的。

然而，JSF 2.2 将提供一种为特定复合组件指定标签的方法。我的帖子[http://jsflive.wordpress.com/2013/04/06/jsf22-cc-taglib/](http://jsflive.wordpress.com/2013/04/06/jsf22-cc-taglib/)展示了它是如何工作的。

# matlab - datetick 输出参数过多

> ID：15131824
> 
> 赞同：0
> 
> 时间：2013-02-28T09:24:28.937
> 
> 标签：matlab

我有一个包含 900 个条目的时间序列，存储在一个 900x2 矩阵中（第一列是从 excel 转换的日期数字，例如 732994 代表 2006 年 13 月 13 日，第二列是每天的读数）我想用使用`datestr`函数在 x 轴上标出的年份。

这是我的代码段。

```
x=newsgdata(:,1);
x=num2str(x); %converts datenumbers from int to string
dateline=datetick('x','yyyy');
plot(dateline,newsgdata(:,2)) 
```

当我运行此代码时，我收到错误：**错误使用 datetick 输出参数太多。**

我试过运行`plot(datetick('x','yyyy'),newsgdata(:,2))`，但同样的错误不断弹出。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T14:05:41.767

首先，直接绘制vs datenum：

```
plot(newsgdata(:,1), newsgdata(:,2)); 
```

然后，用于`datetick`将标签从 datenums 转换为字符串。

```
datetick('x', 'yyyy') 
```

# razor - foreach 循环遍历视图模型中的不同模型以显示链接

> ID：15131826
> 
> 赞同：1
> 
> 时间：2013-02-28T09:24:32.387
> 
> 标签：razor, asp.net-mvc-4, entity-framework-5

我有两张名为 objects 和 apartments 的表，它们与名为`apartmentID`and的外键“连接” `ObjectID`。我的控制器和模型非常简单：

模型：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;

namespace Projekt.Models
{
    public class WrapperModel
    {

        public IEnumerable<Projekt.Models.objects> Objects { get; set; }
        public IEnumerable<Projekt.Models.apartments> Apartments { get; set; }

    }
} 
```

我的控制器是：

```
using System;
using System.Collections.Generic;
using System.Data;
using System.Data.Entity;
using System.Linq;
using System.Web;
using System.Web.Mvc;
using Projekt.Models;

namespace Projekt.Controllers
{
    public class WrapperController : Controller
    {
        public ActionResult Index()
        {
            WrapperModel wrapperModel = new WrapperModel();
            return View(wrapperModel);
        }
    }
} 
```

我想制作一个使用@foreach 循环的视图：

*   取每个对象的名称，并将名称链接到其`Details.cshtml`页面

*   `Details.cshtml`在“对象”链接旁边显示链接到其页面的公寓 ID 。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:33:02.060

首先初始化你的模型

```
public ActionResult Index()
{
    // db is your DbContext or your entity that is represented your DB.
    YourDbContext db = new YourDbContext();

    WrapperModel wrapperModel = new WrapperModel();
    wrapperModel.Objects = db.Objects; // from your db
    wrapperModel.Apartments = db.Apartments;// from your db

    return View(wrapperModel);
} 
```

看法

```
@model WrapperModel 

@foreach(var item in Model.Objects)
{
    // list items in html elements
    @Html.ActionLink(item.name, "Details", "Controller", new { id = item.id })
}

@foreach(var item in Model.Apartments)
{
    // list items in html elements
    // link to details page
} 
```

控制器细节动作

```
public ActionResult Details(int id){} 
```

尝试类似上面的方法或修改该代码以获得您的预期结果。然后问更具体的问题

# jquery - 按钮单击时的图像 maphilight

> ID：15131832
> 
> 赞同：2
> 
> 时间：2013-02-28T09:24:43.793
> 
> 标签：jquery, html, button, click, maphilight

再会！

直播：http: [//jsfiddle.net/dRz9U/162/](http://jsfiddle.net/dRz9U/162/)

关键是：有一个图像（在房屋的平面图上），每个房间都有两种状态（占用/空闲）。图片按地图区域切割成区域，每个区域都有自己的按钮（取/放）。使用区域应设置为红灯（忙碌）或绿灯（空闲）。找到了一个 jQuery 插件 maphilight，它可以高亮图像的区域，但效果不是很好。用 javascript 以前并不熟悉。

```
$(function() {
$(".areas").buttonset();
});

$(function() {
$('.map').maphilight();
$('#1room, #2room, #3room, #4room, #5room, #6room, #7room').click(function(e) {
    e.preventDefault();
    var $this = $(this);
    var data = $this.mouseout().data('maphilight') || {};
    data.alwaysOn = !data.alwaysOn;
    $this.data('maphilight', data).trigger('alwaysOn.maphilight');
});
});

$(function() {
var $area = $('area');
$area.click(function(){
    var $checkbox = $('#' + $(this).data("areanum"));
    $checkbox.attr('checked', !$checkbox.attr('checked')).button('refresh');
});
$('label').click(function () {
    $area.filter('[data-areanum="' + $(this).attr('for') + '"]').trigger('click');
    return false;
}); 
}); 
```

请帮我纠正以下问题：

1) 只有当您按下相应的按钮时，灯光区域才会起作用。单击区域本身时如何消除背光？

2）当您移动到该区域时，应仅由其边界照亮

还有一个想法，将值区域（占用/空闲）保留到数据库中。即当您单击按钮更改数据库中的值并重新加载页面占用的房间最初以红色突出显示，而免费 - 绿色。我了解它需要为每个区域指定属性 kakoynibud 空闲/忙碌，然后创建标签和字段 id 房间和字段状态房间。我无法弄清楚如何使用已经存在的解决方案来实现它。

请帮我找到正确的解决方案！

# java - 用java对元素进行分组

> ID：15131833
> 
> 赞同：0
> 
> 时间：2013-02-28T09:24:47.590
> 
> 标签：java, grouping

我有

```
b a, 
c b, 
c a, 
d e 
```

对并作为输出想要打印

```
a - group 1, 
b - group 1, 
c - group 1, 
d - group 2, 
e - group 2 
```

您能否提供一些提示，如何使用 java 解决此问题。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:37:58.577

使用 TreeMap<String, Group> ，其中键是元素名称 (a, b ..)，值是组（可以包含组编号以及您需要了解的任何其他信息）。

尝试首先找到该组。如果找不到，请创建一个新组并将其放入地图中。最后，只需遍历条目集以打印键值对。

我不会为您发布代码，因为这看起来像一个家庭作业。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T10:23:02.723

我会用一个`List<Set<String>>`.

对于每一对，扫描您的组数组以查找其中任何一对是否已经在组中。如果是则添加另一个。

将其中一个或另一个添加到组后，您需要进行另一次扫描以查看添加的一个是否存在于另一个组中。如果是，则必须合并两个组。

如果这对中的任何一项都没有找到，那么您就有了一个新组，将两者都添加到其中并将其添加到您的列表中。

这段代码似乎工作：

```
public class Test {
  public static void main(String args[]) {
    new Test().test();
  }
  // Might be better to use a LinkedList here.
  List<Set<String>> groups = new ArrayList<>();

  // Keeps track of what we added and where.
  private static class Added {
    final int where;
    final String what;

    public Added(int where, String what) {
      this.where = where;
      this.what = what;
    }
  }

  // Add if allowed.
  Added add(Set<String> group, int where, String has, String what) {
    if (group.contains(has)) {
      group.add(what);
      return new Added(where, what);
    }
    return null;
  }

  void addPair(String a, String b) {
    // Is ether of the strings in any of the existing groups.
    Added added = null;
    for (int i = 0; added == null && i < groups.size(); i++) {
      Set<String> group = groups.get(i);
      added = add(group, i, a, b);
      if (added == null) {
        added = add(group, i, b, a);
      }
    }
    if (added != null) {
      // Merge any now-joined groups.
      for (int i = added.where + 1; i < groups.size(); i++) {
        Set<String> group = groups.get(i);
        if (group.contains(added.what)) {
          // Join them.
          groups.get(added.where).addAll(group);
          groups.remove(group);
          // There shouldn't be any more.
          break;
        }
      }
    } else {
      // New group - May be better to use a TreeSet here for print order.
      Set<String> group = new HashSet<>();
      group.add(a);
      group.add(b);
      groups.add(group);
    }
  }

  void printGroups(String title) {
    System.out.println(title);
    for (int i = 0; i < groups.size(); i++) {
      System.out.println("Group " + (i + 1) + "=" + groups.get(i));
    }
  }

  public void test() {
    addPair("b", "a");
    addPair("c", "b");
    addPair("c", "a");
    addPair("d", "e");
    printGroups("Test-1");
    addPair("d", "b");
    printGroups("Test-2");
  }
} 
```

它打印：

```
Test-1
Group 1=[b, c, a]
Group 2=[d, e]
Test-2
Group 1=[d, e, b, c, a] 
```

# windows - Signtool：时间戳服务器上的身份验证？

> ID：15131836
> 
> 赞同：1
> 
> 时间：2013-02-28T09:25:01.260
> 
> 标签：windows, visual-studio, code-signing, sign

我想使用时间戳选项`/t`。`/tr`Microsoft Visual Studio [signtool](http://msdn.microsoft.com/de-de/library/8s9b9yaz%28v=vs.90%29.aspx)工具。我想到的时间戳服务需要身份验证。为此，您将获得一个个性化的软令牌，以在时间戳服务器上识别您自己。

我的问题：signtool 是否支持此身份验证？换句话说：signtool 是否支持 RFC 3161（时间戳协议）*和*RFC 2246（身份验证）？

谢谢

# asp.net - 为什么 ScriptManager.RegisterClientScriptBlock 在内容页面中不起作用？

> ID：15131837
> 
> 赞同：2
> 
> 时间：2013-02-28T09:25:02.540
> 
> 标签：asp.net, scriptmanager

我想动态设置 image.imageurl ......但是当页面不在母版页上时，下面的代码才有效。

这是代码：

```
protected void AsyncFileUpload1_UploadedComplete(object sender, AjaxControlToolkit.AsyncFileUploadEventArgs e)
{
    Byte[] bytes = AsyncFileUpload1.FileBytes;
    string base64String = Convert.ToBase64String(bytes, 0, bytes.Length);

    ScriptManager.RegisterClientScriptBlock(this, this.GetType(), "img",
        "top.document.getElementById('Image1').src='data:image/jpg;base64," + base64String + "';",
        true);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:33:32.817

在 the`MasterPage`中`Id`派生自`ContentPlaceHolder`，例如：

```
ctl00$ContentPlaceHolder1$Image1 
```

但是你为什么不简单地使用`Image1.ClientId`呢？

```
ScriptManager.RegisterClientScriptBlock(this, this.GetType(), "img",
    "top.document.getElementById('" + Image1.ClientId + "').src='data:image/jpg;base64," + base64String + "';",
    true); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T12:08:57.027

Tim Schmelter 是正确的，您还可以将控件上的 ClientIDMode 设置为 Static。例如

```
<asp:Image runat="server" ID="Image1" ClientIDMode="Static" /> 
```

MSDN 文档：http: [//msdn.microsoft.com/en-us/library/system.web.ui.control.clientidmode.aspx](http://msdn.microsoft.com/en-us/library/system.web.ui.control.clientidmode.aspx)

# .htaccess - htaccess 301 重定向不起作用

> ID：15131840
> 
> 赞同：0
> 
> 时间：2013-02-28T09:25:07.210
> 
> 标签：.htaccess, rewrite

在我的网站中，我想重定向`http://domain_name.com/blog`到`http://domain_name.com/news`，它也应该符合以下标准

1.  `http://domain_name.com/blog/2012/06/06//blog_title`至`http://domain_name.com/news`

2.  `http://domain_name.com/blog/blog/?cat=2`至`http://domain_name.com/news`

我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:41:58.503

无法测试，但无论如何...

```
RewriteEngine on
RewriteRule /
RewriteRule ^/blog/.*$ /news/ [L,R=301] 
```

# php - foreach 循环后覆盖的数组

> ID：15131847
> 
> 赞同：3
> 
> 时间：2013-02-28T09:25:23.487
> 
> 标签：php, arrays, foreach, overwrite

我正在尝试将包含来自 sql 结果集中的元素的对象推送到数组中。我的代码是这样的：

```
$data = array();
$sql = "SELECT id,type,name,username FROM users";
foreach ($conn->query($sql) as $row) { 
    $this->set_id($row['id']);
    $this->set_type($row['type']);
    $this->set_username($row['username']);
    $this->set_password($row['password']);

    $data[] = $this;
} 
```

我的结果集是正确的，但是在 foreach 循环结束后，我的数组单元格被最后一个记录集中的值覆盖了。例如，如果我有这些结果`{1,'type1','user','pass'}`，`{2,'type2','foo','bar'}`当我`$data`在循环之外打印我的数组时，我只会得到第二个结果集重复两次。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:27:44.967

在实例方法内部，`$this`总是指当前类的实例；在每次循环迭代中，您都会修改实例本身，然后将其添加到`$data`; 但是在分配时不会复制副本，而是添加对同一实例的引用。

最后，您在每个索引处都有一个具有相同对象的数组。

您需要在每次循环迭代中创建您所在的类的新实例：

```
foreach ($conn->query($sql) as $row) { 
    $obj = new self; // create new instance of ourselves

    $obj->set_id($row['id']);
    $obj->set_type($row['type']);
    $obj->set_username($row['username']);
    $obj->set_password($row['password']);

    $data[] = $obj;
} 
```

这是个人建议，但我要么将此代码移动到静态方法中，要么完全移动到单独的类中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:32:07.130

对象不是那样工作的，`$this`它始终是同一个对象，并且您在每次迭代中都对其进行修改。您*可以*使用`$data[] = clone $this;`每次都创建一个新实例，但这是糟糕的类设计，最好将您的类分成两个单独的类。

一个类不应该有一个以上的职责，但你的职责同时充当数据库网关和域模型。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:28:35.180

不管`$this`是什么，它都是对某种对象的引用。因此，当您更新该对象时，保存在数组中的所有引用仍然指向同一个对象。您必须在每个循环中定义一个新对象。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T09:28:48.683

您没有`$this`在迭代开始时创建新对象。在两次迭代中，您都在修改同一个对象，并将其两次添加到数组中。在处理对象时，它们是通过引用传递的，这意味着您不向数组添加副本，而是添加对 $this 变量的引用。也许您应该改为添加`$row`到数组中，但您仍然会覆盖保存到`$this`.

您还可以使用`clone`关键字（参见[手册](http://php.net/clone)）来保存对象的副本。

更多信息： http: [//php.net/manual/en/language.references.php](http://php.net/manual/en/language.references.php)

# iphone - iPhone手指大小和角度压力计算

> ID：15131853
> 
> 赞同：1
> 
> 时间：2013-02-28T09:25:51.830
> 
> 标签：iphone, ios, objective-c, c

对于我在客户端的项目，我想创建新的算法来计算手指大小和屏幕上压力的角度，也许还有更多的细节来创建一个独特的拇指最终根据它来识别人，我愿意使用私有方法/库，因为这不会进入 iTunes，而是用作企业应用程序客户端/服务器模型。有提供一些信息的[GraphicsServices](https://github.com/kennytm/iphone-private-frameworks/blob/master/GraphicsServices)库（看看 GSEvent.h）

在潜入并发明轮子之前，你们中有人做过类似的事情吗？要分享的提示/技巧？也许在 Objective C 级别有方法可以使用？

你们中的任何人都认为他们可以为此事做出贡献并想加入我（并有空闲时间）让我知道。

由于这个客户项目的性质指向下划线的 C 函数，我认为将需要使用 C 的经验。

# javascript - 更改 css 文件中的 div 样式

> ID：15131854
> 
> 赞同：1
> 
> 时间：2013-02-28T09:25:54.490
> 
> 标签：javascript, jquery, css, wordpress

我想在我的插件中使用背景图像更改背景颜色。在 wordpress 中选择单选按钮时。更改 div 的颜色时，它应该更新 css 文件。

我要更新

```
.wrap_div{
    background:#9CF;
    float: left;
    width: 584px;
} 
```

div 样式与下面的样式。

```
 .wrap_div{

            float: left;
            width: 584px;           
        background-image:url(./images/back2.png);    

    } 
```

如何更改我的 css 文件。任何帮助表示赞赏。wrap_div 是用户端 div。我在管理端使用此代码，我希望更改应该出现在用户端。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:30:35.320

您可以将元素更改为另一个类，更改css文件确实不是一个好的选择，从经验中讲......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:33:49.807

您可以使用钩子`<head>`直接在文档中注入样式。[`wp_head`](http://codex.wordpress.org/Plugin_API/Action_Reference/wp_head)

```
function print_styles(){
echo '<style>';
#write PHP code to display your styles here
echo '</style>';
}

add_action('wp_head', 'print_styles'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:37:23.427

创建一个具有 css 结构的 php 文件，您将从服务器更新该文件并将其导入您的 style.css`@import 'css/style.css.php?c=1';`

您的 php 文件应如下所示：

```
<?php

header('Content-Type: text/css');

.wrap_div {
 echo $styles'
}
?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T09:38:23.243

更新你的css文件

```
.wrap_div_radio_change{
margin:0 auto; 
width:410px; 
height:460px; 
background-image:url(./images/back2.png);    
clear:both; 
border:#000000 solid 1px;
} 
```

并使用这个脚本

```
if($('#radio_button').is(':checked')) {//Id of you radio button
   $("#your_div").removeClass('wrap_div');//Id of the div which has the color to change Which will remove the initial clas of the div and the next line add a new class to the div
   $("#your_div").addClass('wrap_div_radio_change');
  } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T09:40:02.873

通过使用 JavaScript，你可以尝试这样的事情：

```
<!DOCTYPE html>
<html>
<body>
    <style type="text/css">
    .red{
        background-color:red;
    }

    .blue{
        background-color:blue;
    }

    .green{
        background-color:green;
    }
    </style>
    <script type="text/javascript">
        function changeColor(color) {
            document.getElementById("wrap_div").setAttribute("class", color.value);
        }
    </script>
    <div id="wrap_div">
    Red <input type="radio" value="red" name="color" onClick="changeColor(this);"><br>
    Blue <input type="radio" value="blue" name="color" onClick="changeColor(this);"><br>
    Green <input type="radio" value="green" name="color" onClick="changeColor(this);">
    </div>
</body>
</html> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-28T09:40:09.203

您想使用以下代码。

```
<script type='text/javascript'>

jQuery(document).ready(function(){

 jQuery('input:radio[name="radioname"]').change(function(){

 jQuery('.wrap_div').css('background','');
 jQuery('.wrap_div').css('background-image','url(./images/back2.png)');
});

});

</script> 
```

还可以使用 .css 添加其他类似的 CSS 样式。

# c# - HttpUtility.HtmlEncode、HttpUtility.HtmlDecode、AntiXSS 库和正确格式化用户输入的输入

> ID：15131855
> 
> 赞同：3
> 
> 时间：2013-02-28T09:26:00.753
> 
> 标签：c#, asp.net, .net, xss

我正在尝试开发一个安全的 Web 应用程序，它可以接受表单数据，将其编码到数据库中以消除跨站点脚本问题，然后在其他网页上很好地格式化它。

表单数据正在使用编码

```
HttpUtility.HtmlEncode('It's my wedding!') 
```

这种工作的一个例子是有人输入“这是我的婚礼！” 进入一个文本框。这将进入格式化为的数据库：

这是我的婚礼！

如果我随后将其从数据库中拉出并使用 .NET 文字控件显示它，它的显示方式与此完全一样，撇号仍然在屏幕上进行编码。

Web 浏览器将 & 解释为 & 符号，将 © 解释为版权符号 - 他们为什么不将代码 ' 解释为撇号？

说我然后使用：

```
HttpUtility.HtmlDecode('It&#39;s my wedding!'); 
```

这将解决我的撇号问题，但是如果我在有人设法将恶意 javascript 注入此字段时使用 HtmlDecode 方法，例如：

```
It's my wedding!<script type="text/javascript">alert('XSS!');</script> 
```

它还将解码编码的 javascript，然后执行攻击。如果是这种情况，为什么我们首先使用 HttpUtility.HtmlEncode() ？

我在[http://wpl.codeplex.com/](http://wpl.codeplex.com/)看到有人使用 Microsoft AntiXss 库，但由于用户无法修改它提供的白名单，它似乎收到了关于其质量和有效性的可怕评论。

你应该怎么做才能安全地编码 HTML 并允许它显示同时仍然防止 XSS 攻击？剥离/编码标签是唯一的解决方案吗？

大家以前是怎么处理的？

谢谢！

卡尔

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T10:57:15.660

好的，这就是我得出的解决方案。

我想保护其他开发人员在不检查他们正在输出的内容的情况下关闭请求验证和输出字段，因此我将使用 HttpUtility.HtmlEncode 方法对输入进行编码。这意味着当其他开发人员吐出这些信息时，它仍然是经过编码的，如果他们希望将内容轻松地扔到 HttpUtility.HtmlDecode 中，那么这是他们的责任。

但是，我将构建一种方法，该方法能够仅转义我在用户输入中经常看到的最基本的格式，这些格式可以被解释为安全的。在我的例子中，这些字符是单引号和双引号。所有其他内容将保持编码状态。如果在现实生活中的用户输入或测试输入中出现了很多我没有解决的特定安全字符，我会追溯将其添加到白名单中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-02T00:06:08.080

你是如何接收数据的？

无论如何，.NET WebForms 基础结构本身应该默认阻止很多这些东西，假设`ValidateRequest`设置为`true`.

`HtmlEncode`应该在输出用户输入的数据时使用（从而防止肮脏）。`HtmlDecode`在这种情况下不来参加聚会。

# jquery - Jquery Clickable Div 不适用于内部 div

> ID：15131857
> 
> 赞同：-4
> 
> 时间：2013-02-28T09:26:15.400
> 
> 标签：jquery, clickable

我有这个标记来使整个 div 可点击。

```
<div class="myBox">
<div class="two">
    <h2> Title</h2>
    <p> This is the description</p>
    <a class="some-button-class" href="http://www.google.com/">check here</a>
</div>
</div> 
```

而这个 JS

```
 $(".myBox").click(function(){
 window.location=$(this).find("a").attr("href"); 
 return false;
}); 
```

而这个CSS

```
.myBox { cursor:pointer;width:200px;height:200px;}
h2 {font-size:28px;}
p { color:#fff }

.two { 
background: #999;
padding:50px;
} 
```

但它不起作用。为什么？！

JSfiddle [http://jsfiddle.net/ryRnU/16/](http://jsfiddle.net/ryRnU/16/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T09:29:19.600

将选择器从“.mybox”更改为“.myBox”

```
$(".myBox").click(function(){
 window.location=$(this).find("a").attr("href"); 
 return false;
}); 
```

更新了您的 jsFiddle（更正了错字并添加了您的示例中缺少的 jQuery）-> [http://jsfiddle.net/ryRnU/17/](http://jsfiddle.net/ryRnU/17/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T09:29:29.780

您`<div>`元素上的类是`myBox`（带有大写 B），但您的选择器是：

```
 $('.mybox') 
```

使用小写 B。选择器区分大小写，因此需要：

```
$('.myBox').click(function() {
    window.location=$(this).find("a").attr("href");
    return false;
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T09:33:44.413

其他答案是正确的，但除了其他答案之外，您还没有设置 jQuery API 与您的小提琴一起使用。

Also, I like to place the jQuery code inside a `$(document).ready(function(){...})` function, to make sure the code is loaded as soon as the document is done loading.

This code should work on any website, with a jquery script imported to it. [http://jsfiddle.net/ryRnU/8/](http://jsfiddle.net/ryRnU/8/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-28T09:39:27.583

Try this.

```
$(document).ready(function(){
     $(".myBox").bind('click', function(){
        console.log($(this));
         window.location=$(this).find("a").attr("href"); 
         return false;
    });
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T09:31:21.597

您的选择器错误，请像这样使用它：

```
$(".myBox").click(function(){
 window.location=$(this).find("a").attr("href"); 
 return false;
}); 
```

# batch-file - 文件夹（包括子目录）和文件在特定日期移动到特定文件夹以进行备份。其余的需要删除

> ID：15131862
> 
> 赞同：2
> 
> 时间：2013-02-28T09:26:41.817
> 
> 标签：batch-file, cmd

这是我第一次在 stackoverflow 上，希望能对我现在正在努力解决的这个特定主题提供一些帮助。我一直在四处寻找，到目前为止没有任何解决方案有帮助。我的问题如下：

我想查看不同的文件夹和子目录，并使用***BATCH***文件移动特定日期的文件，其余文件应删除。这是用于日常维护。

文件夹布局如下，仅作为示例：

```
C:\Batch\Test1  
|Kent  
  |New Folder  
    |New Folder   
      28_02.txt  
|Jordan Hal  
|Wayne Bruce  
  27_02.txt  
  26_02_Backup.txt  
  28_02_Backup.rar 
```

这是我到目前为止的代码：

```
@echo off

for /d %%a in ("C:\Batch\Test1\*") do (  
  for /d %%b in ("C:\Batch\Test1\%%a\*") do (  
    IF NOT EXIST "C:\Batch\Backup\%%~nxa\%%~nxb" MD "C:\Batch\Backup\%%~nxa\%%~nxb"  
    forfiles /p "%%~b" /m *.* /d -02/29/2013 /c "cmd /c move @file  "C:\Batch\Backup\%%~nxa\%%~nxb""  
    RD /s /q "C:\Batch\Test1\%%~nxa" 2>"C:\Batch\Backup\log.txt"  
  )  
)  

pause 
```

它只备份文件夹，而不备份子目录和文件。

提前致谢！;P

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T18:44:19.870

使用[`robocopy`](http://technet.microsoft.com/en-us/library/cc733145%28v=ws.10%29.aspx). 它是为此类任务而设计的。

```
robocopy "C:\Batch\Test1" "C:\Batch\Backup" /s /minage:20130229 
```

# c - 如何检查免费（节点）是否有效

> ID：15131863
> 
> 赞同：1
> 
> 时间：2013-02-28T09:26:48.300
> 
> 标签：c, linked-list, free

这是释放整个链表的代码

```
void free_list(RecordType *list)
{
   RecordType *tempNode;        /* temporary Node to hold on the value of previous node */

   while(list != NULL)          /* as long as the listnode doesn't point to null */
   {
       tempNode = list;         /* let tempNode be listNode in order to free the node */
       list = list->next;       /* let list be the next list (iteration) */
       free(tempNode);          /* free the node! */
   }
} 
```

我认为这段代码本身工作正常（？），但我不知道如何检查。我只应用了这个理论（例如# of frees must = to the # of mallocs）

所以这里有一些我想知道的问题......

1.  这种方法有效吗？
2.  我需要 malloc tempNode 吗？
3.  我在 while 循环之前初始化了 tempNode……但是在我释放之后，tempNode 仍然可以工作……我并没有真正理解那部分

我使用的理论：

1.  # of free() == # of malloc()
2.  您需要一个临时节点来保存当前节点
3.  让当前节点等于下一个节点
4.  使用临时节点释放当前节点

如果我的任何理论听起来是错误的，请解释！

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:28:36.277

> 这种方法有效吗？

是的，假设列表节点都是动态分配的并且之前没有被释放

> 我需要 malloc tempNode 吗？

您不需要在内部分配任何内存，`free_list`但所有列表元素必须先前已动态分配。您只能调用`free`使用`malloc`(或`calloc`)分配的内存

> 我在 while 循环之前初始化了 tempNode……但是在我释放之后，tempNode 仍然可以工作……我并没有真正理解那部分

调用`free`将内存所有权返回给系统。它可能会选择立即重用此内存，也可能会在一段时间内保持不变。没有什么可以阻止您再次访问内存，但读取或写入它的结果是不确定的。

如果您想让客户端代码更难意外访问已释放的内存，您可以将`free_list`其指针更改为 NULL

```
void free_list(RecordType **list)
{
    RecordType *tempNode;
    while(*list != NULL) {
        tempNode = *list;
        list = tempNode->next;
        free(tempNode);
    }
    *list = NULL;
} 
```

如果您还想检查您是否真的释放了所有内存，请考虑使用 valgrind。这将报告任何内存泄漏，并标记某些类型的无效内存访问。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:31:09.893

该方法当然有效 - 但它应该在ing`malloc`之前先 d 。`free`否则它是未定义的行为。

仅当先前已d`malloc()` `tempNode`时才需要。`list``malloc()`

第三部分是未定义的行为。之后`free()`数据可能仍然存在，但被标记为被覆盖。你不能依赖节点一旦它是`free()`d

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T10:28:03.733

检查代码的最佳方法是通过调试器进行交互式跟踪。Linux 上的 KDevelop 中的 Gdb 或 MS Windows 上的 MS Visual Studio 调试器是完美的。我将在此演示中使用后者。

这段代码定义了一个具有三个函数的单向整数列表：ListPush() 将整数添加到列表中，ListPrint() 显示列表内容，ListDestroy() 销毁列表。在 main() 中，我将 3 个整数插入到列表中，打印它们并销毁列表。

```
#include <malloc.h>
#include <stdlib.h>
#include <stdio.h>
typedef struct Node NODE, *PNODE;
typedef struct Node {
    int item;
    PNODE next;
};
PNODE ListPush(PNODE head, int item) {
    PNODE p;
    PNODE n = (PNODE) malloc(sizeof(NODE));
    if ( !n ) exit(1);
    n->next = 0;
    n->item = item;

    if (!head) {
        head = n;
    }
    else {
        for ( p=head; p->next != 0; p=p->next );
        p->next = n;    
    }
    return head;
}

void ListPrint(PNODE head) {
    PNODE p;
    printf("List contents:\n\n");
    for (p=head; p!=0; p=p->next) {
        printf("%d ", p->item ); 
    }
}

void ListDestroy( PNODE head ) {
    PNODE n, c = head;
    if ( !head ) return; 
    do {
        n = c->next;
        free(c);
        c = n;
    } while (c );

}

int main() {
    int i;
    int a[3] = {1,2,3};
    PNODE head = 0;
    for ( i = 0; i<3; ++i ) {
        head = ListPush(head, a[i]);
    }
    ListPrint(head);
    ListDestroy(head);
    return 0;
} 
```

三张附加图片说明了程序的 2 个阶段（MSVS2012 调试器）。

第一个显示 for() 循环完成后相关本地变量的状态。查看头变量并在树上继续。您可以看到三个节点及其内容：分别为整数 1,2 和 3。

第二张图显示了第一次调用 free() 后 ListDestroy() 中的变量。您可以看到 head 指向已释放的内存（红色圆圈），变量 c 中的指针指向在下一个循环中被销毁的下一个节点。

![3次推后](../Images/34cd98d9f8668196311629687b721661.png)

![在第一次调用 free() 之后](../Images/f4449198e513b634504564847f8397d5.png)

# git - Git：创建新分支并推送到远程的有效步骤

> ID：15131864
> 
> 赞同：6
> 
> 时间：2013-02-28T09:26:56.980
> 
> 标签：git, bitbucket

我想出了步骤，但似乎很麻烦，`bitbucket`例如，假设我已经有一个名为`prj`

1.  我从服务器端（bitbucket.com）分支了一个新项目，称为`prj-bz`
2.  从本地我添加添加一个遥控器`git remote add prj-bz https://blah...`
3.  同时从本地我创建了一个名为的新分支`prj-bz`
4.  从本地我打电话`git push prj-bz prj-bz`让本地回购和远程连接。

我查看了一些 git 书籍，但似乎没有一本涵盖这一点。有没有更有效的方法来做到这一点？

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2013-03-05T17:30:22.757

通常，人们通常会做一个或另一个**Fork**或**Branch**。听起来你正在创建一个 repo 的 Fork，然后在 fork 中创建一个具有相同名称的分支。如果您使用拉取请求将数据放回主存储库，则无需同时执行这两项操作。选择以下两个工作流程之一：

*   在 Bitbucket（或其他网站）上分叉 repo
*   克隆仓库`git clone https://bitbucket.org/username/repo-fork.git`
*   在那个叉子上工作`git commit -m "some work done"`，`git push -u origin master`
*   创建一个拉取请求以请求将您的更改放回分支的父级

或者

*   克隆主仓库`git clone https://bitbucket.org/username/repo-fork.git`
*   创建一个新的本地分支`git checkout -b my-branch`
*   在那个分支工作`git commit -m "some work done"`
*   *把树枝*往上推 *`git push -u origin my-branch`*
**   创建拉取请求*

 *使用分支方法，我假设您有权写入主仓库。如果没有，您将要坚持使用 fork 方法。还有更多的工作流程。Bitbucket 也有一个[解释这一点的文档](https://confluence.atlassian.com/display/BITBUCKET/Branch+or+Fork+Your+Repository)，以及[Atlassian 网站上的](http://atlassian.com/git/workflows)一个文档，其中对 Git 工作流程有更深入的了解。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-12-11T08:12:46.293

为了创建新分支，我们将使用：（使用此命令将创建一个新分支，并且分支状态也会随着新创建的分支而改变）

```
git checkout -b branch-name 
```

为了推动更改，我们可以运行以下命令：

```
git add . 
git commit -m "with meaningful comments" 
git push origin branch-name 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T14:42:38.617

好吧，如果在现有的仓库中创建一个新的仓库而不是一个新的分支，你可以只`git clone https://blah <target folder>`替换步骤 2-4。

如果没有，您唯一真正的选择是创建一个简单的脚本，该脚本接受远程名称、分支名称和 git url 作为参数，并使用该信息执行步骤 2-4。*

# java - 如何解决地址无效异常

> ID：15131868
> 
> 赞同：11
> 
> 时间：2013-02-28T09:27:01.113
> 
> 标签：java, jakarta-mail

我们尝试使用`javax.mail`. 在发送邮件时，我们遇到了以下异常：

```
 **sendMail - Message Sending Failed: Invalid Addresses;
    nested exception is: 
javax.mail.SendFailedException: 550 #5.1.0 Address rejected.2013-02-28 13:17:08,236** 
```

可能是什么问题？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-28T09:36:59.167

这意味着接收服务器无法识别电子邮件地址的邮箱（'@'之前的部分）。可能是拼写错误，只是一个不存在的名称，或者甚至可能是接收服务器设置为通过回复代码 550 来拒绝邮件（例如垃圾邮件）。

以下是总结 SMTP 回复代码的众多页面之一，并提供了各种相关 RFC 的链接：[http://www.greenend.org.uk/rjk/tech/smtpreplies.html](http://www.greenend.org.uk/rjk/tech/smtpreplies.html)。

编辑：我需要比评论允许的更多空间来回答你的问题。

@RaghuKing，如果您查看 Javadoc 的`javax.mail.SendFailedException`，您会注意到您可以在这样的异常对象（`catch`块内）上调用 3 个方法：

*   `getInvalidAddresses()`获取无效的地址数组，因此未发送到，
*   `getValidSentAddresses()`获取成功发送此消息的地址数组，以及
*   `getValidUnsentAddresses()`获取有效但未将消息发送到的地址数组。

（显然，如果一个人向多个收件人发送消息，有些可能会成功，有些会失败，但是如果至少有一个失败，则无论成功多少次都会抛出异常。显然，如果您只发送到一个地址，您将仅在这些数组之一中具有该地址，并且它可能*不在 ValidSent*列表中。

这些数组将为您提供如何处理异常的更多信息，具体取决于地址所在的数组类型。这显然取决于您的应用程序，但这些可能是合理的建议：

*   *Invalid Addresses* : 对于列表中的每个无效地址，告诉用户由于地址错误而没有发送消息，并提供更正地址的方法，然后尝试重新发送到正确的地址（如果用户这样做则取消不提供不同的地址）；
*   *有效发送地址*：不要重新发送；
*   *有效的未发送地址*：尝试重新发送到这些地址。由于先前的地址不正确，发送可能在到达这些地址之前停止。

但最终是你必须运用常识，也许在你理解它们之前对你不理解的功能进行一些实验。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2019-09-10T02:49:48.903

此代码可以打印无效地址的日志：

```
 try {
        sender.send(message);
    }catch (MailSendException me){
        detectInvalidAddress(me);
    } 

private void detectInvalidAddress(MailSendException me) {
    Exception[] messageExceptions = me.getMessageExceptions();
    if (messageExceptions.length > 0) {
        Exception messageException = messageExceptions[0];
        if (messageException instanceof SendFailedException) {
            SendFailedException sfe = (SendFailedException) messageException;
            Address[] invalidAddresses = sfe.getInvalidAddresses();
            StringBuilder addressStr = new StringBuilder();
            for (Address address : invalidAddresses) {
                addressStr.append(address.toString()).append("; ");
            }

            logger.error("invalid address(es)：{}", addressStr);
            return;
        }
    }

    logger.error("exception while sending mail.", me);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-10T05:45:28.103

经历过同样的异常。我意识到我无法向未知用户发送电子邮件。经过咨询，我发现我们的 SMTP 服务器不是开放邮件中继服务器，阅读[开放邮件中继](https://en.wikipedia.org/wiki/Open_mail_relay)。

# php - 在数组对象中搜索值

> ID：15131875
> 
> 赞同：0
> 
> 时间：2013-02-28T09:27:17.713
> 
> 标签：php, arrays

我有一个这样的数组。我想要做的是删除重复的条目。我想将数组的值与不同的键进行比较。

例如，数组中的前 2 个元素具有 key `areacode`。3 & 4 有 key `state`。我想比较 and 的值`areacode`并`state`删除重复的条目。也就是说，`0`并且`2`有`state`/ `areacode` `=>'US'`，所以我想删除其中之一。

我该怎么做？

```
Array (
  [0] => stdClass Object
    (
        [areacode] => US
        [id] => 7-CxFsXZBGGCiYlW-NYKFw
        [city] => San Francisco
    )

  [1] => stdClass Object
    (   
        [areacode] => CL
        [id] => 7-CxFsXZBGGCiYlW-NYKFw
        [city] => San Francisco
    )

  [2]=>stdClass Object
    (    
        [state] => US
        [id] => 7-CxFsXZBGGCiYlW-NYKFw
        [city] => San Francisco
    )
  [3]=>stdClass Object
    (    
        [state] => SA
        [id] => 7-CxFsXZBGGCiYlW-NYKFw
        [city] => San Francisco
    )
) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T09:32:38.360

```
$input = array_map("unserialize", array_unique(array_map("serialize", $input))); 
```

试试看；我在这里找到了：[How to remove duplicate values from a multi-dimensional array in PHP](https://stackoverflow.com/questions/307674/how-to-remove-duplicate-values-from-a-multi-dimensional-array-in-php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:29:48.323

使用 array_filter

```
$filtered = array_filter($your_array, function($obj){
  $obj_array = (array)$obj;
  return $obj_array['state'] != 'US';
}); 
```

# php - PHP 输出格式错误的 html 表格

> ID：15131876
> 
> 赞同：0
> 
> 时间：2013-02-28T09:27:17.827
> 
> 标签：php, html-table

我无法将数据回显到 HTML 表中。

结果是这样的：

![错了一个](../Images/ef6dc84d17cfde23308d1006709565d7.png)

但它应该是：

![正确一个](../Images/f003f49ccfd31ddd4b388d43d6e2901c.png)

这是代码。我究竟做错了什么？

```
<?php
    $query = $_POST['query']; 
    $min_length = 1;

    if(strlen($query) >= $min_length){ // if query length is more or equal minimum length then

        $query = htmlspecialchars($query); 
        $query = mysql_real_escape_string($query);         
        $raw_results = mysql_query("SELECT * FROM norse5_proov
            WHERE (`model` LIKE '%".$query."%') OR (`year` LIKE '%".$query."%')") or die(mysql_error());

        if(mysql_num_rows($raw_results) > 0){ // if one or more rows are returned do following

            while($results = mysql_fetch_array($raw_results)){
                echo "<table>";
                echo "<tr>";
                        echo "<td>Model name</td>";
                echo "<td>Year</td>";
                echo "</tr>";
                echo "<td>".$results['mudeli_nimetus']."</td>";

                echo "<td>".$results['soetusaasta']."</td>";
                echo "<br>";
                echo "</table>";
            }

        }
        else{
            echo "No results";
        }

    }
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:29:50.017

问题是您不断为每次迭代输出一个新表。

**您的代码应如下所示：**

```
<?php
$query = $_POST['query']; 
$min_length = 1;

if(strlen($query) >= $min_length){ // if query length is more or equal minimum length then

    $query = htmlspecialchars($query); 
    $query = mysql_real_escape_string($query);         
    $raw_results = mysql_query("SELECT * FROM norse5_proov
        WHERE (`model` LIKE '%".$query."%') OR (`year` LIKE '%".$query."%')") or die(mysql_error());

    if(mysql_num_rows($raw_results) > 0){ // if one or more rows are returned do following

        echo "<table>"; // Start the table
        // Output the table headers
        echo "<tr>";
        echo "<td>Model name</td>";
        echo "<td>Year</td>";
        echo "</tr>";

        while($results = mysql_fetch_array($raw_results)) {
            echo "<tr>";
            echo "<td>".$results['mudeli_nimetus']."</td>";
            echo "<td>".$results['soetusaasta']."</td>";
            echo "<br>";
            echo "</tr>";
        }

        echo "</table>"; // End the table

    }
    else{
        echo "No results";
    }

}
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:28:17.743

只需将`echo "<table>";`第一个`tr`创建语句放在 while 循环的一侧，并在循环`table`完成后关闭，`while`我相信它会起作用。

尝试

```
<?php
    echo "<table><tr><td>Model name</td><td>Year</td></tr>";

    while($results = mysql_fetch_array($raw_results))
    {
        echo "<tr><td>".$results['mudeli_nimetus']."</td><td>".$results['soetusaasta']."</td></tr>";
    }
    echo "</table>";
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:29:53.950

使用此代码，您必须首先启动表，使用 while 循环迭代结果，然后关闭表。

```
echo "<table>";
echo "<tr>";
echo "<td>Model name</td>";
echo "<td>Year</td>";
echo "</tr>";
while($results = mysql_fetch_array($raw_results)){
    echo "<tr>";
    echo "<td>".$results['mudeli_nimetus']."</td>";
    echo "<td>".$results['soetusaasta']."</td>";
    echo "</tr>";         
}
echo "</table>"; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T09:30:53.793

从 while 循环中删除**表**代码并放在外面。

```
echo "<table>";
echo "<tr>";
echo "<td>Model name</td>";
echo "<td>Year</td>";
echo "</tr>";

while($results = mysql_fetch_array($raw_results)){
            echo "<tr>";
            echo "<td>".$results['mudeli_nimetus']."</td>";

            echo "<td>".$results['soetusaasta']."</td>";

            echo "</tr>";
}

echo "</table>"; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T09:35:09.600

替换你的 if 块，使用下面的代码，希望它可以帮助你

如果（mysql_num_rows（$raw_results）> 0）{

```
 echo "<table>";
        echo "<tr>";
        echo "<td>Model name</td>";
        echo "<td>Year</td>";
        echo "</tr>";
    while($results = mysql_fetch_array($raw_results)){
        echo "<tr>";
        echo "<td>".$results['mudeli_nimetus']."</td>";
        echo "<td>".$results['soetusaasta']."</td>";
        echo "</tr>";
    }echo "</table>";
} 
```

# java - Java RMI：服务器和客户端在同一个文件夹中工作良好，在同一台PC的不同文件夹中工作不工作？

> ID：15131879
> 
> 赞同：1
> 
> 时间：2013-02-28T09:27:35.797
> 
> 标签：java, rmi

我是 RMI 新手

我试过这个[例子](http://www.java2all.com/1/5/22/114/Technology/RMI/RMI-Program/RMI-example)。这按预期工作。

Calculator.class
CalculatorImpl.class + CalculatorImpl_Stub.class
CalculatorServer.class
+
CalculatorClient.class

实际上，我打算在两台不同的 PC 上对其进行测试。但不是那样，我开始在同一台 PC 的**两个**不同文件夹中尝试它。

**一个文件夹包含服务器：**
Calculator.class *:interface*
CalculatorImpl.class + CalculatorImpl_Stub.class
CalculatorServer.class

**另一个文件夹包含客户端：**
Calculator.class *：这只是 CalculatorClient.class 上面服务器的 Calculator 接口的*
副本

当我尝试运行的东西服务器运行良好

现在，当我运行客户端时，会打印此错误：

```
java.rmi.UnmarshalException: error unmarshalling return; nested exception is:
        java.lang.ClassNotFoundException: CalculatorImpl_Stub (no security manag
er: RMI class loader disabled)
        at sun.rmi.registry.RegistryImpl_Stub.lookup(Unknown Source)
        at java.rmi.Naming.lookup(Unknown Source)
        at CalculatorClient.main(CalculatorClient.java:12)
Caused by: java.lang.ClassNotFoundException: CalculatorImpl_Stub (no security ma
nager: RMI class loader disabled)
        at sun.rmi.server.LoaderHandler.loadClass(Unknown Source)
        at sun.rmi.server.LoaderHandler.loadClass(Unknown Source)
        at java.rmi.server.RMIClassLoader$2.loadClass(Unknown Source)
        at java.rmi.server.RMIClassLoader.loadClass(Unknown Source)
        at sun.rmi.server.MarshalInputStream.resolveClass(Unknown Source)
        at java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)
        at java.io.ObjectInputStream.readClassDesc(Unknown Source)
        at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)
        at java.io.ObjectInputStream.readObject0(Unknown Source)
        at java.io.ObjectInputStream.readObject(Unknown Source)
        ... 3 more 
```

*   它们在同一个文件夹中运行良好。
*   当它们位于两个不同的文件夹中时出错。

为什么？
如何解决此错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T11:11:00.363

异常中命名的类在客户端 CLASSPATH 上不可用。所以修复它。远程存根和接口以及它们所依赖的一切都必须分发给客户端。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T16:02:34.617

您的主要问题是遵循一个*非常过时*的 RMI 示例。这里有一个提示，如果 RMI 示例包含使用`rmic`（或存根和骨架），请不要使用它。我建议从[sun/oracle 教程](http://docs.oracle.com/javase/tutorial/rmi/index.html)开始。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T16:11:35.350

此问题的最常见原因是调用`UnicastRemoteObject`. [导出对象（远程对象）](http://docs.oracle.com/javase/7/docs/api/index.html?java/rmi/server/UnicastRemoteObject.html)。从文档中您将看到它返回一个实例，`RemoteStub`因此存根类必须可用，这只有在您使用`rmic`.

改为使用`UnicastRemoteObject.exportObject(Remote obj, int port)`。它返回一个接口 ( `Remote`)，并且可以在没有生成最新版本的类的情况下工作。

# jsf - 如何根据条件重新排序 h:selectOneMenu 中的项目

> ID：15131880
> 
> 赞同：0
> 
> 时间：2013-02-28T09:27:37.183
> 
> 标签：jsf, jsf-2

我需要使用 h:selectOneMenu 可以根据 bean 参数显示项目。因此，如果用户具有“管理员”角色，则第一项应为“管理员”，第二项应为“用户”，反之亦然。这是我的代码示例

```
<h:selectOneMenu id="role" value="#{adminBean.role}">
    <h:panelGroup rendered="#{adminBean.role == 'User'}" >
        <f:selectItem itemLabel="User" itemValue="User"/>
        <f:selectItem itemLabel="Admin" itemValue="Admin"/>
    </h:panelGroup>
    <h:panelGroup rendered="#{adminBean.role == 'Admin'}" >
        <f:selectItem itemLabel="Admin" itemValue="Admin"/>
        <f:selectItem itemLabel="User" itemValue="User"/>
    </h:panelGroup>
</h:selectOneMenu> 
```

但是此代码根本不起作用，所选列表完全为空

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T11:16:44.793

这是实现它的一种方法，使用两个`f:selectItem`并根据条件交替它们的值

```
<h:selectOneMenu id="role" value="#{adminBean.role}">
    <f:selectItem itemLabel="#{(adminBean.role == 'User')?'User':'Admin'}" 
        itemValue="#{(adminBean.role == 'User')?'User':'Admin'}"/>
    <f:selectItem itemLabel="#{(adminBean.role == 'User')?'Admin':'User'}" 
        itemValue="#{(adminBean.role == 'User')?'Admin':'User'}"/>
</h:selectOneMenu> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T10:37:40.827

试试这个方法，希望有效

```
<c:set var="role" value="${adminBean.role}"/>
 <c:choose><c:when test="${role eq "User" }" >
   <h:selectOneMenu id="role" value="#{adminBean.role}"  >
           <f:selectItem itemLabel="Admin" itemValue="Admin"/>
           <f:selectItem itemLabel="User" itemValue="User"/>
   </h:selectOneMenu>
</c:when></c:choose> 
```

你可以添加一个类似的条件`Admin`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T11:54:27.553

**PostConstruct 解决方案**

```
<f:selectItems value="#{adminBean.options}"> 
```

.

```
@PostConstruct
public void postConstruct(){
    this.role = loggedInUser.getRole();
    this.options = service.getOptionsByRole(role);
}

public List<SelectItem> getOptions() {
    return options;
} 
```

* * *

**单行 if-else 语句解决方案**

```
<f:selectItems value="#{adminBean.role == 'User' ? adminBean.userOptions : adminBean.adminOptions}"> 
```

* * *

**参数传递解决方案**

```
<f:selectItems value="#{adminBean.getOptionsByRole(adminBean.role)"> 
```

.

```
public List<SelectItem> getOptions(String role) {

    if (role.equals("User")) {
        return userOptions;
    }

    return adminOptions;
} 
```

* * *

**条件 getter 方法（不推荐）**

```
<f:selectItems value="#{adminBean.options"> 
```

.

```
public List<SelectItem> getOptions() {

    if (role.equals("User")) {
        return userOptions;
    }

    return adminOptions;
} 
```

# python - bottle.py URL 路由和反向操作？

> ID：15131882
> 
> 赞同：1
> 
> 时间：2013-02-28T09:27:41.207
> 
> 标签：python, url-routing, bottle

示例 Bottle.py 代码：

```
@route('/show_<name>')
def show(name):
   return '' 
```

我的问题是：

1.  给定一个 URL，我们如何获取视图函数？例如 URL 是`/show_magic`，我需要知道该`show()`函数负责这个请求 URL

2.  给定路由（不是路由器！！）和参数，如何获取 URL？例如，我需要一个名为 reverse 的函数`reverse(default_app().routes[0], name='me') == '/show_me'`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-10-10T08:44:49.160

您可能需要考虑命名路线

```
@route('/show_<item_name>', name='item_show')
def show(item_name):
   return '' 
```

现在给定路由名称和参数如何获取 URL？我们使用 get_url

```
get_url('item_show', item_name='my_item') 
```

[http://nongraphical.com/2012/08/using-bottle-py-in-production/](http://nongraphical.com/2012/08/using-bottle-py-in-production/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-28T11:29:02.140

对于您的第一个问题，请使用[`Bottle.match`](http://bottlepy.org/docs/dev/api.html#bottle.Bottle.match). 给定一个`path`(ie `'/show_magic'`) 和`method`(`GET`或`POST`其他什么)，以下将返回一个包含`Route`对象及其参数的元组：

```
default_app().match({'PATH_INFO': path, 'REQUEST_METHOD': method}) 
```

调用的函数是`Route`对象的[`callback`](http://bottlepy.org/docs/dev/api.html#bottle.Route.callback)或[`call`](http://bottlepy.org/docs/dev/api.html#bottle.Route.call)属性。

对于您的第二个问题，将路由器的`build`方法与路由`rule`和 kwargs 一起使用：

```
default_app().router.build(route.rule, name='me') 
```

这似乎没有记录，但它有效。

# c# - SerialPort.Write(byte[], int, int) 的文档是否具有误导性？

> ID：15131883
> 
> 赞同：1
> 
> 时间：2013-02-28T09:27:42.430
> 
> 标签：c#, .net, serial-port

我问这个以防我错误地使用 SerialPort.Write()。我很确定我没有，但你永远不知道...

[SerialPort.Write(byte[], int, int)](http://msdn.microsoft.com/en-us/library/ms143551.aspx)的文档指出：

> 默认情况下，SerialPort 使用 ASCIIEncoding 对字符进行编码。ASCIIEncoding 将所有大于 127 的字符编码为 (char)63 或 '?'。要支持该范围内的其他字符，请将 Encoding 设置为 UTF8Encoding、UTF32Encoding 或 UnicodeEncoding。

这与[SerialPort.Write(string)](http://msdn.microsoft.com/en-us/library/y2sxhat8.aspx)和[SerialPort.Write(char[], int, int)](http://msdn.microsoft.com/en-us/library/1050fs1h.aspx)文档中的注释相同。

多年来一直如此，但我以前从未真正注意到它。我一直很乐意`SerialPort.Write(byte[], int, int)`发送值高于 0x7f 的二进制数据。我觉得奇怪的是，发送字节数组的文档正在谈论字符。

只是我，还是那里的文档有问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:42:05.527

文档肯定是错误的。如果你反编译`Write(char[], int, int)`你会看到

```
byte[] bytes = this.Encoding.GetBytes(buffer, offset, count);
this.Write(bytes, 0, bytes.Length); // This is the Write(byte[], int, int) method 
```

而该`Write(byte[], int, int)`方法仅包含：

```
this.internalSerialStream.Write(buffer, offset, count, this.writeTimeout); 
```

所以很明显，这种方法没有发生 ASCII 编码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T09:29:06.717

是的，这是误导。（不确定您还想从答案中得到什么。这真的是一个问题吗？）

# wpf - IsMouseOver 上的 WPF 触发器以进行拖放操作

> ID：15131889
> 
> 赞同：7
> 
> 时间：2013-02-28T09:28:05.410
> 
> 标签：wpf, triggers, drag-and-drop, mouseover

我进行了拖放操作，并希望在 ismouseover 属性为 true 时触发图像元素更改其来源。现在我意识到当拖放操作起作用时 ismouseover 属性没有更新。

当拖放处于活动状态时，是否有其他方法可以在鼠标悬停时更改图像源？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-06-27T15:11:59.303

我遇到了同样的问题，最终在我的自定义控件中创建了一个名为 IsDragMouseOver 的新布尔值，并在我的控件模板中引用了它。

在控件后面的代码中，我添加了以下内容：

```
protected override void OnDragEnter(DragEventArgs e)
    {
        base.OnDragEnter(e);
        IsDragMouseOver = true;
    }

    protected override void OnDragLeave(DragEventArgs e)
    {
        base.OnDragLeave(e);
        IsDragMouseOver = false;
    }

    protected override void OnDragOver(DragEventArgs e)
    {
        base.OnDragOver(e);
        IsDragMouseOver = true;
    }

    protected override void OnDrop(DragEventArgs e)
    {
        base.OnDrop(e);
        IsDragMouseOver = false;
    } 
```

希望有帮助。

# javascript - 使用 javascript 重新加载 iframe

> ID：15131897
> 
> 赞同：2
> 
> 时间：2013-02-28T09:28:31.410
> 
> 标签：javascript, jsp, iframe

*   我有一个带有 iframe 的 jsp 页面。

例如：worklist.jsp

```
 <html>
 <head>
 <body>
 <iframe height="15%" marginheight="0px" marginwidth="0px" scrolling="no" src="menuBanner.jsp" style="border:0; padding: 0px; position:absolute;" width="960px">
</iframe>
<div><button data-dojo-type="dijit.form.Button" value="Reload" id="reload"  onclick="reload();">Reload</button></div>
</body></head></html> 
```

*   单击一个按钮，我只需要重新加载 iframe 页面。
*   我尝试了以下脚本，但它重新加载了整个页面（worklist.jsp）

> 函数重载（）{ location.reload（）；}

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:30:47.710

您可以通过将 src 设置为当前 src 来更新/刷新 iframe。

这是一个例子。

```
var test = document.getElementById('iframeId');
test.src = iframe.src; 
```

这种方式适用于跨域。如果 iFrame 位于同一个域中，则评论中的示例就不那么骇人听闻了。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T09:32:06.033

```
function reload( {
  document.getElementById('iFrameID').contentDocument.location.reload(true);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T09:35:39.193

你可以试试：

```
var iframe = document.getElementById('YourIFrameId');
iframe.src = iframe.src + '?c=' + Math.random(); 
```

我认为如果不更改 src 属性，您将无法重新加载 iframe。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T09:47:49.770

你可以这样做。获取 iframe src 并再次分配给 iframe 的 src

```
<script>
function test()
  {
    $('#subpage_frame').attr('src',$('#subpage_frame').attr('src')) ;
  }
</script>

<iframe src="test.com" onload="Loaded();" id="subpage_frame"></iframe>

<button onclick="test();">Refresh button</button> 
```

# vb.net - 在 vb.net 中创建一个简单的“地铁”地图

> ID：15131903
> 
> 赞同：0
> 
> 时间：2013-02-28T09:28:45.063
> 
> 标签：vb.net, statistics, gis

我正在制作一个面向物流的小型地图……我得到了一个包含用户及其当前位置（如车站名称）的数据表，我得到了一张包含所有“车站”和它们之间的路线的图像。

当前的任务是在两个用户可能会面时发出警告（即一个用户与另一个用户相距一两个站点）并进行统计报告（用户访问最多的站点），但我不知道从哪里开始。实现这一点最经济的方法是什么？

我查看了 GIS 软件，但我不知道如何修路——也不会使用它们；有太多不需要的东西，也没有我需要的功能，或者到目前为止我还没有找到它们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T11:46:18.410

你能用 php+JS(jQuery) 和 SQL 来做吗？因为我认为这是更好的方式来做到这一点。就像一个在线应用程序。

但是，如果您真的需要使用 VB.net 执行此操作，我将尝试回答您的问题：

实现这一点（我认为）最经济的方法是在.net中编写自己的函数，例如：

```
Function get_number_of_users_in(stationID)
Function draw_user_in_image(userID)
and all the functions you may need... 
```

在此之后，您可以开始制作带有图形界面的主程序，您可以简单地添加一个计时器来刷新您的计数（图像，带有位置......）

您可以实现一个网格并将您的图像放在上面，这样您就可以像 X,Y 坐标中的一个点一样显示用户。像：

```
******************************
*       Your image           *
* -------------------------- *
* -                        - *
* -     Your grid          - *
* -------------------------- *
****************************** 
```

接下来，您设置固定坐标，例如 Station-1 = [(4,5)]

并在您的主要 prg 中使用以下内容控制位置：

```
If get_user_next_to_station(userID) Then
    msgBox('An user is close to station'&get_station_name(stationID)'!!')
EndIf 
```

很抱歉我在 VB 中可能犯的错误已经有一段时间了，我没有接触这种语言 xD 但这只是为了向您展示如何做到这一点。

好吧，我认为这就是我会这样做的方式，这取决于您以及您在编程方面的时间和技能。希望这对您有所帮助，如果您需要更多帮助，可以问我，没有问题。祝你好运 ！

# ios - 删除附加字符串

> ID：15131906
> 
> 赞同：0
> 
> 时间：2013-02-28T09:28:51.220
> 
> 标签：ios

我有一个带有这样字符串的nsarray，

```
albumname/song42.mp3
albumname/song43.mp3 etc . 
```

我想从上面的数组中删除字符串“专辑名称”和“.mp3”，并将其显示在表格视图中，如下所示，

```
song42
song43 
```

然后在 DidSelectRow 中，我想将字符串“ [http://www.domain.com/albumname/](http://www.domain.com/albumname/) ”和“.mp3”添加到 indepath.row 元素。例如：如果用户在tableview中选择song42，那么它必须创建一个像这样的字符串“ [http://www.domain.com/albumname/song42.mp3](http://www.domain.com/albumname/song42.mp3) ”怎么做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-28T09:33:27.783

[- [NSString stringByDeletingPathExtension]](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/occ/instm/NSString/stringByDeletingPathExtension) <--- 这要删除

[+ [NSString stringWithFormat:]](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/occ/clm/NSString/stringWithFormat:) <--- 这要重新创建

**编辑**我的错误，您首先需要在调用第一种方法之前执行此操作：

```
NSString *lastPath = [string lastPathComponent]; //song43.mp3
NSString *tableString = [lastPath stringByDeletingPathExtension]; //song43 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T09:30:22.760

使用 String 方法`componentsSeparatedByString`首先使用分隔字符串`/`，然后`.`丢弃不需要的字符串。

```
NSString *str="albumname/song42.mp3";
NSArray *mainStrArray = [str componentsSeparatedByString:@"/"]; 

NSArray remainingStrArray=[[mainStrArray objectAtIndex:1]componentsSeparatedByString:@"."];

NSString *result=[remainingStrArray objectAtIndex:0]; //here you have song42 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-28T09:39:06.337

您可以使用`lastPathComponent`和`stringByDeletingPathExtension`方法：

```
NSMutableArray *songs = [NSArray arrayWithCapacity:[sourceArray count]];
for (NSString *filename in sourceArray) {
    [songs addObject:[[filename lastPathComponent] stringByDeletingPathExtension]];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T09:36:55.953

您可以使用，如：

```
NSString *str = @"album name/song43.mp3";

str=[[str componentsSeparatedByString:@"/"][1]componentsSeparatedByString:@".mp3"][0];

NSLog(@"->%@",str); //song43 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T09:38:49.387

```
NSString *file = @"albumname/song42.mp3";
NSString *name = [[[[file componentsSeparatedByString:@"/"] objectAtIndex:1] componentsSeparatedByString:@"."] objectAtIndex:0]; 
```

# php - 导入的产品在 OpenCart 管理面板中不可见？

> ID：15131920
> 
> 赞同：0
> 
> 时间：2013-02-28T09:29:40.653
> 
> 标签：php, mysql, csv, opencart

Benn 已经在这个问题上苦苦挣扎了一段时间。我使用了一个模块将我的产品的 CSV 文件导入到我的 OpenCart 安装中。该模组称为[CSV import Pro](http://opencart.hostjars.com/csv-import-pro)

然后产品在前端可见，我也可以在 db 表中看到它们。我唯一的问题是它们在我的管理面板中不可见，这很奇怪。

有没有人遇到过这个问题？我购买模组的公司在支持模组时并不是最快的。

欢迎所有想法、提示和资源。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-10-04T15:38:26.177

我已经为这个问题苦苦挣扎了很长时间。使用多种语言的导入/导出工具。基本上我只导入了一种语言，它在前端运行良好，我能够看到所有产品，但我只能在后端看到两种产品。我的后端语言是英语，我的前端语言是保加利亚语。它选择了保加利亚语，但除非您的后端也设置为相同的语言，否则您将遇到问题。其他选项也只是填充其他语言列。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T11:12:52.903

不久前我看到了类似的情况，结果发现产品的开始日期和结束日期值缺少可用性。显然我不能保证这是问题所在，但我建议您检查是否为产品设置了每个值。我个人没有使用过 CSV import Pro，但我相信它很受欢迎，可能是由于丢失了无法正确显示的数据

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T23:48:30.283

我正在使用另一个 mod 从 Zencart 数据库中提取并导入 Opencart。所有客户都已导入，但未显示在 Admin 中，尽管可以在 db 表中查看。结果发现 customer_group_id 是 8（大概在 Zencart 中），而 Opencart 中必要的 id 编号是 1。更新 customer_group_id 列以显示 1 而不是 8，并且所有记录都在 Admin 中可见。我通过创建新的客户记录然后将它们与导入的记录进行比较以查看任何差异来发现这一点。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-06-16T07:28:40.880

我有同样的问题，找了几个小时后，我找到了“有罪”表，它是

> produt_to_store

表将您的 product_id 设置为默认商店 id (0)，瞧！

```
INSERT INTO `product_to_store` (`product_id`, `store_id`) VALUES ('58366', '0'); 
```

# c# - 如何在 asp.net mvc 应用程序的 T4 模板中包含程序集

> ID：15131921
> 
> 赞同：0
> 
> 时间：2013-02-28T09:29:44.613
> 
> 标签：c#, asp.net, asp.net-mvc-4, t4

在我的文本模板中，我声明我的文本模板如下

```
<#@ template debug="false" hostspecific="true" language="C#" #>
<#@ output extension=".cshtml" #>

<#@ assembly name="System.Data.Entity" #>
<#@ assembly name="System.Core" #>

<#@ import namespace="System.Linq" #>
<#@ import namespace="System.Collections.ObjectModel" #>
   <#@ assembly name="$(SolutionDir)\MvcTemplateApplication\bin\Debug\MvcTemplateApplication.Dll" #>
 <#@import namespace="MvcTemplateApplication"#> 
```

在上面它给出了以下错误

```
Metadata file could not be found 
```

如何在上述文本模板中包含应用程序的项目 dll？

请帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T12:11:20.667

我不是 100% 确定是否需要这样做，但我们也一直在努力解决这个问题，我可以看到以下差异：

我们不混合`assembly`- 和 -`import`标签，所以我们总是有一组程序集标签，然后是导入标签。像这样：

```
<#@ output extension="gevasys.generated.cs" #>
<#@ Assembly Name="System.Core.dll" #>
<#@ Assembly name="System.Data.Linq.dll" #>
<#@ Assembly name="$(TargetPath)"#> // our own assembly
<#@ import namespace="System" #>
<#@ import namespace="System.IO" #>
<#@ import namespace="System.Diagnostics" #> 
```

其次，我们不导入自己的 DLL 命名空间，而是引用前面带有完整命名空间的类。像这样：

```
var xy = new Company.NS1.NS2.MyOwnClass( ); 
```

也许这也可以帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T07:59:18.903

确保您引用的程序集已构建。听起来很奇怪，但 T4 模板在设计时进行了转换。这意味着，如果您尝试引用的项目尚未构建或您之前已清理过解决方案，则“$(SolutionDir)\MvcTemplateApplication\bin\Debug\MvcTemplateApplication.Dll 中没有 .dll。

其次，MvcTemplateApplication.dll 可能已经过时了！您正在引用最后一次成功的构建，其中可能不包括最后的更改！

如果您想根据项目的类生成代码，我建议您使用 Visual Studio 自动化代码模型。请参阅我对这个 SO 问题的回答：[Design Time Reflection](https://stackoverflow.com/questions/14134016/design-time-reflection/14402269#14402269)

# r - 用图例在 R 中绘制倍数（时间）序列

> ID：15131926
> 
> 赞同：8
> 
> 时间：2013-02-28T09:30:01.910
> 
> 标签：r, time-series

![在此处输入图像描述](../Images/efefe8118de5256183bf422e1f80d313.png)

根据我的数据（参见图片）称为GDP。我想知道如何在一张图中绘制所有国家。而且我想为每个国家/地区获得一个图例，例如每条线不同的颜色或每条线的不同形状。

我知道如何绘制一个系列，例如：

ts.plot(GDP$ALB)

但不知道如何用图例绘制所有系列。

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2015-07-16T14:32:31.013

使用 ts.plot 只需 2 行

```
 ts.plot(time,gpars= list(col=rainbow(10)))
    legend("topleft", legend = 1:10, col = 1:10, lty = 1) 
```

结果：在 R 中绘制带有图例的倍数（时间）序列 ![用图例在 R 中绘制倍数（时间）序列](../Images/6e37f3b2534c7d3fc3e4453d1026d627.png)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-28T09:53:09.600

如果您用于`xts`创建时间序列数据，则可以使用`plot.xts`from `xtsExtra`package 来获得所需的结果

```
#Uncomment below lines to install required packages
#install.packages("xts")
#install.packages("xtsExtra", repos="http://R-Forge.R-project.org")

library(xts)
library(xtsExtra)

head(data)
##              ABC    DEF
## 2007-01-03 83.80 467.59
## 2007-01-04 85.66 483.26
## 2007-01-05 85.05 487.19
## 2007-01-08 85.47 483.58
## 2007-01-09 92.57 485.50
## 2007-01-10 97.00 489.46

plot.xts(data, screens = factor(1, 1), auto.legend = TRUE) 
```

你会得到这样的东西![在此处输入图像描述](../Images/ef449c931be61d0b6bde86da1b843048.png)

如果您想要单独面板中的数据：

```
plot.xts(data, auto.legend = TRUE) 
```

![在此处输入图像描述](../Images/fb12d4e7e9758ad19ee46af878368c20.png)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-02-28T10:16:10.147

从 Jilber 大量借用，我提供了一个轻微的变体。在这里，重点在于处理实际的时间序列对象可能会更好，因为这通常会让您在某种程度上自动获得您可能感兴趣的输出类型。Geektrader 向您展示如何使用“xts”执行此操作" 包，但你也可以用 base R 做一些类似的事情。

这是 Jilber 示例数据的修改版本，我已将其转换为`ts`对象。

```
set.seed(1)
DF <- data.frame(2000:2009,matrix(rnorm(50, 1000, 200), ncol=5))
colnames(DF) <- c('Year', paste0('Country', 2:ncol(DF)))
DF.TS <- ts(DF[-1], start = 2000, frequency = 1)
DF.TS
# Time Series:
# Start = 2000 
# End = 2009 
# Frequency = 1 
#       Country2  Country3  Country4  Country5  Country6
# 2000  874.7092 1302.3562 1183.7955 1271.7359  967.0953
# 2001 1036.7287 1077.9686 1156.4273  979.4425  949.3277
# 2002  832.8743  875.7519 1014.9130 1077.5343 1139.3927
# 2003 1319.0562  557.0600  602.1297  989.2390 1111.3326
# 2004 1065.9016 1224.9862 1123.9651  724.5881  862.2489
# 2005  835.9063  991.0133  988.7743  917.0011  858.5010
# 2006 1097.4858  996.7619  968.8409  921.1420 1072.9164
# 2007 1147.6649 1188.7672  705.8495  988.1373 1153.7066
# 2008 1115.1563 1164.2442  904.3700 1220.0051  977.5308
# 2009  938.9223 1118.7803 1083.5883 1152.6351 1176.2215 
```

现在，这里有两个基本的绘图选项：

```
# Each country in a separate panel, no legends required
plot(DF.TS) 
```

![在此处输入图像描述](../Images/38c725f66d046b6098ed6d86c2cbff57.png)

```
# All countries in one plot... colorful, common scale, and so on
plot(DF.TS, plot.type="single", col = 1:ncol(DF.TS))
legend("bottomleft", colnames(DF.TS), col=1:ncol(DF), lty=1, cex=.65) 
```

![在此处输入图像描述](../Images/6af2a4f6fa8b856f0a023dae816a37c1.png)

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-02-28T09:45:04.010

那这个呢...？

```
> set.seed(1)
> DF <- data.frame(2000:2009,matrix(rnorm(50, 1000, 200), ncol=5))
> colnames(DF) <- c('Year', paste0('Country', 2:ncol(DF)))
> DF # this is how the data.frame looks like:
   Year  Country2  Country3  Country4  Country5  Country6
1  2000  874.7092 1302.3562 1183.7955 1271.7359  967.0953
2  2001 1036.7287 1077.9686 1156.4273  979.4425  949.3277
3  2002  832.8743  875.7519 1014.9130 1077.5343 1139.3927
4  2003 1319.0562  557.0600  602.1297  989.2390 1111.3326
5  2004 1065.9016 1224.9862 1123.9651  724.5881  862.2489
6  2005  835.9063  991.0133  988.7743  917.0011  858.5010
7  2006 1097.4858  996.7619  968.8409  921.1420 1072.9164
8  2007 1147.6649 1188.7672  705.8495  988.1373 1153.7066
9  2008 1115.1563 1164.2442  904.3700 1220.0051  977.5308
10 2009  938.9223 1118.7803 1083.5883 1152.6351 1176.2215
> matplot(DF[,-1], col=1:ncol(DF), type='l', lty=1, ylim=range(DF), axes=FALSE)
> axis(1, 1:nrow(DF), as.character(DF[,1]))
> axis(2)
> box() #- to make it look "as usual"
> legend('topright', names(DF), col=1:ncol(DF), lty=1, cex=.65) 
```

![在此处输入图像描述](../Images/350e45f3961987f9fa69ecb5b6a1b930.png)

# javascript - 可调整大小无法从第二次点击开始

> ID：15131927
> 
> 赞同：0
> 
> 时间：2013-02-28T09:30:08.423
> 
> 标签：javascript, jquery, html

可调整大小无法从第二次单击开始，您能解释一下为什么吗？在下面的代码中，实际上我正在尝试将衬衫和裤子添加到 div 中。当它们被添加时，我必须调整它们的大小，所以我什至添加了调整大小按钮。调整大小第一次起作用，当我们尝试添加另一件衬衫或裤子时。调整大小不起作用。我可以知道原因并帮助我完成这个项目。

```
 <html lang="en">
 <head>
 <title>Outfit Demo</title>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css" />
  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>
  <link rel="stylesheet" href="/resources/demos/style.css" />
<script type="text/javascript">
$(document).ready(function() {
  // sets draggable the elements with id="shirt"
  $('#shirt').draggable({
    cursor: 'move',        // sets the cursor apperance
    containment: '#leftpanel'    // sets to can be dragged only within its parent
  });
  // sets draggable the paragraph inside #trousers
  $('#trousers').draggable({
    cursor: 'move',
    containment: '#leftpanel'      // sets to can be dragged only within its parent
  });

  $('#btn').click(function() {
    // removes all LI with class="cls" in OL
    $('#shirt').resizable({
    cursor: 'move',
    containment: '#leftpanel'      // sets to can be dragged only within its parent
  });
  $('#trousers').resizable({
    cursor: 'move',
    containment: '#leftpanel'      // sets to can be dragged only within its parent
  });
  });
});

  var shirt;
  var pant;
  function selectshirt(src)
  {
  shirt = src;
  path = "<img src=\""+src+"\" height=\"100%\" width=\"100%\"/>";
  invisible("middlepanel");
  visible("rightpanel");

  document.getElementById("shirt").innerHTML=path;
  document.getElementById("cart").style.visibility="visible";
  }
  function selectpants(src)
  {
  pant = src;
  path = "<img class=\"pic1\" src=\""+src+"\" height=\"100%\" width=\"100%\"/>";
  document.getElementById("trousers").innerHTML=path;
  }
  function addtocart()
  {
  alert("Shirt:"+shirt+"\npant:"+pant);
  }
  function changeshirt()
  {
  visible("middlepanel");
  invisible("rightpanel");
  }
  function changepant()
  {
  visible("shirtcontainer");    
  invisible("pantcontainer");
  }
  function visible(containername)
  {
  document.getElementById(containername).style.visibility="visible";
  }
  function invisible(containername)
  {
  document.getElementById(containername).style.visibility="hidden";
  }
  </script>
</head>

<body>
<div id="leftpanel" style="width:800px;height:600px;border:1px solid black;">
    <div id="shirt"  style="left:0;height:300px;width:300px;"></div>
    <div id="trousers" style="left:0;height:300px;width:300px;" ></div>
</div> 
<div style="left:0;height:70%;" id="cart">
    <button  onclick="changeshirt()">Change Shirt</button>
    <button  onclick="addtocart()">Add to cart</button>
    <button id="btn">Resize</button>
</div> 
<div id="middlepanel" style="width: 100%; height: 100%; position:absolute;right:0;top:0;width:33%;overflow:auto;">
    <div id="shirtcontainer">
        <img src="images/shirts/shirt.jpg" height="300px" width="300px" onclick="selectshirt(this.src)"/>
    </div>
</div> 
<div id="rightpanel" style="width: 100%; height: 100%; position:absolute;right:0;top:0;width:33%;overflow:auto;">
    <div id="pantcontainer">
        <img src="images/pants/pant.jpg" height="300px" width="300px" onclick="selectpants(this.src)"/>
    </div>
</div>

</body>
<script>
invisible("rightpanel");
invisible("cart");
</script>
</html> 
```

请在这方面帮助我，并从第二次点击进行可调整的工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T11:36:08.757

首先我很抱歉，因为我在我的 iPhone 上，而且很难阅读你的代码。
但是可能存在一些问题：
1）您没有刷新可调整大小的元素，可能会尝试重新初始化插件功能
2）您正在尝试调整重复 id 的大小。
3）如果您要添加附加内容并且想要使用点击功能或类似功能，则必须将其与 $(document).on(event,element,function(){})
**残酷**
的解决方案销毁并重新初始化元素

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T01:46:38.897

@Dheed 感谢您的解决方案。正如你所说，我已经尝试将其销毁并重新初始化

```
$("#shirt").resizable("destroy"); 
  $("#shirt").resizable({
    cursor: 'move',
    containment: '#leftpanel'      // sets to can be dragged only within its parent
  }); 
```

这对我有用。

非常感谢你

# ios - iOS 上的 Urban Airship 实现

> ID：15131933
> 
> 赞同：0
> 
> 时间：2013-02-28T09:30:25.710
> 
> 标签：ios, objective-c, urbanairship.com

我正在尝试通过转到 Build Phases > Link Binary With Libraries 并在磁盘上定位库来添加 libUAirship-1.4.0.a，这样做之后我仍然收到错误消息，提示使用未声明的标识符：UAirshipTakeOffOptionsLaunchOptionsKey、UAirship、UAPush。

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    // Override point for customization after application launch.

    //Create Airship options dictionary and add the required UIApplication launchOptions
    NSMutableDictionary *takeOffOptions = [NSMutableDictionary dictionary];
    [takeOffOptions setValue:launchOptions forKey:UAirshipTakeOffOptionsLaunchOptionsKey];

    // Call takeOff (which creates the UAirship singleton), passing in the launch options so the
    // library can properly record when the app is launched from a push notification. This call is
    // required.
    //
    // Populate AirshipConfig.plist with your app's info from https://go.urbanairship.com
    [UAirship takeOff:takeOffOptions];

    // Set the icon badge to zero on startup (optional)
    [[UAPush shared] resetBadge];

    // Register for remote notfications with the UA Library. This call is required.
    [[UAPush shared] registerForRemoteNotificationTypes:(UIRemoteNotificationTypeBadge |
                                                         UIRemoteNotificationTypeSound |
                                                         UIRemoteNotificationTypeAlert)];

    // Handle any incoming incoming push notifications.
    // This will invoke `handleBackgroundNotification` on your UAPushNotificationDelegate.
    [[UAPush shared] handleNotification:[launchOptions valueForKey:UIApplicationLaunchOptionsRemoteNotificationKey]
                       applicationState:application.applicationState];

    return YES;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T11:18:59.143

您需要 #import 与库关联的头文件才能使符号可用。对于这个库，我相信您希望将以下内容添加到源文件的顶部：

```
#import "UAirship.h"
#import "UAPush.h" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-08-05T11:22:12.370

我已经看到了如何设置**Header Search Paths**的许多不同变体。对我来说，这行得通。Airship 文件夹与项目处于同一级别。

```
$(PROJECT_DIR)/Airship 
```

# java - Spring MVC + Spring Security + JPA 返回 Null ModelAndView 并且不会进行身份验证

> ID：15131935
> 
> 赞同：2
> 
> 时间：2013-02-28T09:30:30.200
> 
> 标签：java, spring, spring-mvc, spring-security

如上所述，我在 spring MVC 中有一个 webapp，其中以下*正在*工作：

*   没有 js/img/css/png 资产的虚拟页面中的“玩具”版身份验证
*   控制器中的 URL 映射。所以：`http://myhost/myapp/login`并且`http://myhost/myapp/homepage/*`都提供一个页面
*   休眠/JPA 集成
*   简而言之，除了在带有资产的完​​整登录页面中的所有内容，即使我输入了正确的用户名/密码组合，身份验证也会被拒绝并重定向到身份验证失败 URL。

（Spring 3.2，Spring Security 3.1.3。我现在使用基于 XML 的身份验证 - 见下文 - 所以与 Hibernate/JPA 无关，我认为这完全是我如何设置 Spring 的问题）

那么我的问题有两个：

*   .png 文件在 servlet 处理时会触发身份验证调用吗？在这种情况下，我该如何过滤掉它？（.jpg .js .css 默认被忽略为“公共对象”，因此不进行安全筛选？
*   现在安全性已经固定，配置文件（在下面转载）有什么奇怪的地方吗？

我怀疑服务器日志中的以下几行是相关的：

**调试日志**

```
09:29:52,516 DEBUG DispatcherServlet:999 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
09:29:52,517 DEBUG DispatcherServlet:946 - Successfully completed request
09:29:52,517 DEBUG ExceptionTranslationFilter:115 - Chain processed normally
09:29:52,517 DEBUG HttpSessionSecurityContextRepository:269 - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.
09:29:52,517 DEBUG SecurityContextPersistenceFilter:97 - SecurityContextHolder now cleared, as request processing completed
09:29:52,983 DEBUG FilterChainProxy:337 - /resources/bootstrap/img/glyphicons-halflings.png at position 1 of 10 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
09:29:52,983 DEBUG HttpSessionSecurityContextRepository:139 - HttpSession returned null object for SPRING_SECURITY_CONTEXT
09:29:52,983 DEBUG HttpSessionSecurityContextRepository:85 - No SecurityContext was available from the HttpSession: org.apache.catalina.session.StandardSessionFacade@104ce68\. A new one will be created.
09:29:52,983 DEBUG FilterChainProxy:337 - /resources/bootstrap/img/glyphicons-halflings.png at position 2 of 10 in additional filter chain; firing Filter: 'LogoutFilter'
09:29:52,984 DEBUG FilterChainProxy:337 - /resources/bootstrap/img/glyphicons-halflings.png at position 3 of 10 in additional filter chain; firing Filter: 'UsernamePasswordAuthenticationFilter'
09:29:52,984 DEBUG FilterChainProxy:337 - /resources/bootstrap/img/glyphicons-halflings.png at position 4 of 10 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
09:29:52,984 DEBUG FilterChainProxy:337 - /resources/bootstrap/img/glyphicons-halflings.png at position 5 of 10 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
09:29:52,984 DEBUG FilterChainProxy:337 - /resources/bootstrap/img/glyphicons-halflings.png at position 6 of 10 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
09:29:52,984 DEBUG FilterChainProxy:337 - /resources/bootstrap/img/glyphicons-halflings.png at position 7 of 10 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
09:29:52,985 DEBUG AnonymousAuthenticationFilter:102 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@905571d8: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@0: RemoteIpAddress: 127.0.0.1; SessionId: 2AE4A610A87DADA1FC2D3EC33BAC5176; Granted Authorities: ROLE_ANONYMOUS'

09:29:52,990 DEBUG DispatcherServlet:999 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
09:29:52,991 DEBUG DispatcherServlet:946 - Successfully completed request
09:29:52,991 DEBUG ExceptionTranslationFilter:115 - Chain processed normally
09:29:52,991 DEBUG HttpSessionSecurityContextRepository:269 - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.
09:29:52,991 DEBUG SecurityContextPersistenceFilter:97 - SecurityContextHolder now cleared, as request processing completed 
```

目前我正在使用简单的、基于 XML 的身份验证，如下所示：

**安全上下文.xml**

```
<beans:beans xmlns="http://www.springframework.org/schema/security"
xmlns:beans="http://www.springframework.org/schema/beans" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.springframework.org/schema/beans
http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
http://www.springframework.org/schema/security
http://www.springframework.org/schema/security/spring-security-3.1.xsd">

<http auto-config="true">
    <intercept-url pattern="/homepage*" access="ROLE_USER" />
    <!-- custom securiy URL mappings -->
    <form-login login-page="/login" default-target-url="/homepage/main"
        authentication-failure-url="/loginfailed" />
    <logout logout-success-url="/logout" />     
</http>

<authentication-manager>
  <authentication-provider>
    <user-service>
    <user name="user" password="pass" authorities="ROLE_USER" />
    </user-service>
  </authentication-provider>
</authentication-manager>

</beans:beans> 
```

其他相关配置文件：

**mvc-调度程序-servlet.xml**

```
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:context="http://www.springframework.org/schema/context"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:mvc="http://www.springframework.org/schema/mvc"
xsi:schemaLocation="
    http://www.springframework.org/schema/beans     
    http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
    http://www.springframework.org/schema/context 
    http://www.springframework.org/schema/context/spring-context-3.0.xsd
http://www.springframework.org/schema/mvc
http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd">

<context:component-scan base-package="com.blah.blah.controller" />
<!-- URI mapping for static content -->
<mvc:resources mapping="/resources/**" location="/resources/" />
<bean
  class="org.springframework.web.servlet.view.InternalResourceViewResolver" id="viewResolver">
  <property name="prefix">
    <value>/WEB-INF/views/</value>
  </property>
  <property name="suffix">
    <value>.jsp</value>
  </property>
</bean>

 <!-- also add the following beans to get rid of some exceptions -->
 <bean class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter" />
 <bean class="org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping" />
</beans> 
```

**web.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
                        http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    id="yourpackagename.yourwebproject" version="2.5">
<display-name>my web project</display-name>

<!-- Spring Framework Configuration -->
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>       
        classpath:application-context.xml,
        /WEB-INF/spring-security.xml
    </param-value>
</context-param>

<!-- Spring Security -->
<filter>
    <filter-name>springSecurityFilterChain</filter-name>
    <filter-class>
      org.springframework.web.filter.DelegatingFilterProxy
    </filter-class>
</filter>

<filter-mapping>
    <filter-name>springSecurityFilterChain</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping>

<!-- Servlet Configurations -->
<!-- Web App Dispatcher -->
<!-- Spring MVC -->
<servlet>
    <servlet-name>mvc-dispatcher</servlet-name>
    <servlet-class>
                org.springframework.web.servlet.DispatcherServlet
            </servlet-class>
    <load-on-startup>1</load-on-startup>
</servlet>
<servlet-mapping>
    <servlet-name>mvc-dispatcher</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping>

<!-- Mentioning the Context Loader Listener class of Spring Framework as a listener -->
<listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener>

<!-- Filter Configurations -->
<!-- UTF-8 encoding filter -->
<filter>
    <filter-name>encodingFilter</filter-name>
    <filter-class>
        org.springframework.web.filter.CharacterEncodingFilter
    </filter-class>
    <init-param>
        <param-name>encoding</param-name>
        <param-value>UTF-8</param-value>
    </init-param>
</filter>

<filter-mapping>
    <filter-name>encodingFilter</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping>

<!-- logging -->
<context-param>
    <param-name>log4jConfigLocation</param-name>
    <param-value>/WEB-INF/classes/log4j.properties</param-value>
</context-param>
<listener>
    <listener-class>org.springframework.web.util.Log4jConfigListener</listener-class>
</listener>

</web-app> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:55:57.083

由于 spring 过滤器适用于所有请求，因此 png 图像也是如此。对于第一个问题，您可以使用这样的行过滤 png

```
<intercept-url pattern="/**/*.png" access="ROLE_ANONYMOUS" /> 
```

或者如果您决定使用访问表达式

```
<intercept-url pattern="/**/*.png" access="true" /> 
```

但是从您的配置文件来看，无论如何都应该是这种情况。

另一种方法是：

```
<http pattern="/**/*.png" security="none"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-01T09:45:55.193

阿德里安的回答很好。使用 Spring 4 和 Spring Security 4，我们现在对图像和其他资源进行过滤：

```
<http auto-config="true" use-expressions="true">
    <intercept-url pattern="/" access="permitAll" />
    <intercept-url pattern="/assets**" access="permitAll" />
    <intercept-url pattern="/images**" access="permitAll" />
...
</http> 
```

这种 ant 样式的模式表示法允许您不关心资源的文件夹层次结构。

当然，您必须使用带有以下标签的适当访问权限：

```
<intercept-url pattern="/private.do" access="hasAnyRole('ROLE_USER','ROLE_ADMIN')" />
<intercept-url pattern="/admin.do" access="hasRole('ROLE_ADMIN')" /> 
```

不要忘记激活 CSRF 保护：

```
<csrf/> 
```

我发现配置起来非常方便。五年前没那么容易:)

# java - 表达式为false时如何设置jasper报告带在打印时不占用空间

> ID：15131939
> 
> 赞同：3
> 
> 时间：2013-02-28T09:30:48.947
> 
> 标签：java, jasper-reports

仅当布尔属性（例如 printFooter）设置为 true 时，我才希望在每页底部打印部分大约一半的页面大小。假设我有详细的带 1 行元素并打印数千条记录。

我尝试了多种方法来实现这一点作为页面页脚，列页脚......蝙蝠问题是如果我使用“当表达式时打印”该乐队不打印但仍然占据空间，另一种方法具有最小尺寸的页脚并使用“拉伸with owerflow”也不起作用，与子报表和“在详细信息 owerflows 时打印”相同。

现在我只有两种选择，一种是创建 2 个报告，另一种是通过 java 修改 xml，但我仍然不喜欢这样。

也许我错过了一些东西，所以我问是否有解决方案？

编辑 150313-0723 没有人有想法吗？对我来说最好的解决方案是创建 1 个“主要”报告作为包装其他 2 作为可选部分。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T12:08:24.280

我的解决方案最终是使用 2 个子报表。其中一个有一个pageFooter，另一个没有。在主报告中，我有详细的部分代码将记录（$F{_THIS}）添加到列表参数（另一种方法是将报告数据作为参数），在摘要带中，我有这个带有打印表达式的子报告，如果参数为真另一个如果参数为假（子报表数据为：*new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($P{SubreportData})*）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T08:19:11.557

尝试使用“空白时删除行”选项。

# c - gcc 下 VLA 的可用内存

> ID：15131941
> 
> 赞同：0
> 
> 时间：2013-02-28T09:30:53.097
> 
> 标签：c, variable-length-array

由于 malloc 返回 NULL，有没有办法使用 VLA 检测堆栈上的内存不足？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T10:25:39.607

您可以希望发生崩溃，但最坏的情况是事情似乎会起作用，并且您最终会写入其他内存。至少默认情况下 gcc 不会生成尝试验证内存是否可用的代码（尽管有一个选项），因此足够大的 VLA 可以在任何地方结束。在 MacOS 上，你只需要一个线程进程中的 0.5MB VLA 就可以意外地最终写入其他线程的堆栈。在 Linux 上为 10MB。

如果您不能保证 VLA 很小（小于一页或两页），请不要使用它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:34:09.560

`malloc()`检查堆，`VLAs`努力增加堆栈大小。如果`malloc()`返回`NULL`机会是你的堆栈也已被填满。

正如 WhozCraig 指出的那样，不要用 VLA 赌博。如果数组大小很大 - 使用`malloc()`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T09:55:30.973

C 中没有任何内容可以保证成功声明 VLA 或检查有关内存使用的失败。对于自动对象的任何声明，无论是否为 VLA，这都是相同的。

# php - PHP onSubmit 操作

> ID：15131943
> 
> 赞同：1
> 
> 时间：2013-02-28T09:30:55.337
> 
> 标签：php, javascript, html

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:34:07.143

您也可以使用`onClick = "this.form.submit(); return false;"`.

没有像`onSubmit`链接这样的任何事件，而是表单确实有`onSubmit`事件。

**OP要求的正常方式。**

```
<form action = "phpScript.php" method = "POST"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:42:13.023

你可以使用 document.getElementById("my_form").submit();

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T16:12:45.073

# java - 如何在 Java 中将多个扩展 JPanel 添加到一个 JFrame 中？

> ID：15131947
> 
> 赞同：2
> 
> 时间：2013-02-28T09:31:06.317
> 
> 标签：java, swing, user-interface, jframe, jpanel

我想要来自两个不同类的两个图像，它们将 JPanel 扩展为并排。

我遇到的问题是两个 JPanel 应该在 JFrame 内，但是当我执行 framename.add(panel) 时，它会替换另一个而不是并排添加两个 JPanel。

我尝试在主类中添加 flowlayout 和其他布局，但没有显示任何图像。

**所以我的问题是**，如果我有两个扩展 Jpanel 的类，我如何在 Jframe 中添加这两个面板，以便它们并排（彼此相邻）而不更换另一个面板？

任何建议将不胜感激。

**编辑**：如果我将 JFrame 扩展到一个类，该类会自动成为 JPanel 本身吗？我知道扩展是什么意思，但我不确定它在 Jframe 方面是如何工作的。

**主.java**

```
import javax.swing.*;
import java.awt.*;
import java.net.URL;

public class Main
{       
public static void main(String[] args) 
    {        
        JFrame frame = new JFrame();           

        Panel1 s = new Panel1(); //picture 1
        Panel2 n = new Panel2(); //picture 2

        frame.add(n);
        frame.add(s); //here is the problem, it replaces the previous panel

        f.setSize(200,100);
        f.setLocation(0,400);                    
        f.setVisible(true);
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    }
} 
```

**Panel1.java**

```
import javax.swing.*;
import java.awt.*;
import java.net.URL;

public class image2 extends JPanel 
    {
        ImageIcon anotherIcon;

        public image2() //constructor
            {                               
                 URL imageURL = Panel1.class.getResource("images/puppy.png");            
                 anotherIcon = new ImageIcon(imageURL);
            }

        public void paint(Graphics g)
            {
                super.paintComponent(g);                
                anotherIcon.paintIcon(this, g, 0, 0);                           
            }       
    } 
```

**Panel2.java**

```
import javax.swing.*;
import java.awt.*;
import java.net.URL;

public class Panel2 extends JPanel 
    {
        ImageIcon anotherIcon2;

        public Panel2() //constructor
            {                               
                 URL imageURL = Panel2.class.getResource("images/puppy2.png");           
                 anotherIcon = new ImageIcon(imageURL);
            }

        public void paint(Graphics g)
            {
                super.paintComponent(g);                
                anotherIcon2.paintIcon(this, g, 0, 0);                          
            }       
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:42:48.300

*   [JFrame](http://docs.oracle.com/javase/tutorial/uiswing/components/frame.html)在 API中实现了[BorderLayout](http://docs.oracle.com/javase/tutorial/uiswing/layout/border.html)

*   只能将一个[JComponent](http://docs.oracle.com/javase/tutorial/uiswing/components/index.html)放置到[第 5 个中。BorderLayout 中的区域](http://docs.oracle.com/javase/tutorial/uiswing/layout/border.html)

> 我想要来自两个不同类的两个图像，它们将 JPanel 扩展为并排。

*   [将内置 LayoutManager](http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)更改为[GridLayout](http://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html)

或者

*   在没有任何 JComponent 添加到[JPanels的情况下，将](http://docs.oracle.com/javase/tutorial/uiswing/components/panel.html)[JLabel](http://docs.oracle.com/javase/tutorial/uiswing/components/label.html)与[Icon](http://docs.oracle.com/javase/tutorial/uiswing/components/icon.html)一起使用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:43:03.587

JFrame 的默认布局管理器是 BorderLayout。尝试将其更改为使用类似 GridLayout 的东西

查看[布局管理器的视觉指南以](http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)获得更多想法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T09:36:26.520

试试`frame.getContentPane().add(...)`？

**并将内容窗格**的布局设置为 FlowLayout （或其他）

```
JFrame f = new JFrame("This is a test");
f.setSize(400, 150);
Container content = f.getContentPane();
content.setLayout(new FlowLayout()); 
content.add(new JButton("Button 1"));
content.add(new JButton("Button 2"));
f.setVisible(true); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T10:06:22.733

您将面板直接添加到 JFrame，您必须在 contentPane 中添加面板。

还建议创建一个面板作为 contentPane`frame.setContentPane(myPanel);` 并使用一些布局（BorderLayout、GridBagLayout 等...）对其进行配置

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T10:12:09.937

在框架集中 FlowLayout()

frame.setLayout(new FlowLayout());

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-28T10:18:51.293

`GridBagLayout`我更正了 Panel1.java 和 Panel2.java 的小错误，并添加了一个示例，说明如何使用/`GridBagConstraints`组合将它们并排放置：

主.java

```
import javax.swing.*;
import java.awt.*;
import java.net.URL;

public class Main {
    public static void main(String[] args) {
            GridBagConstraints gbc = new GridBagConstraints();

            JFrame frame = new JFrame();
            frame.setLayout(new GridBagLayout());
            Panel1 s = new Panel1(); //picture 1

            Panel2 n = new Panel2(); //picture 2

            gbc.gridx = 0;
            gbc.gridy = 0;
            gbc.gridwidth = 1;
            gbc.weightx = 1;
            gbc.weighty = 1;
            gbc.fill = GridBagConstraints.BOTH;
            frame.add(n, gbc);

            gbc.gridx = 1;
            gbc.gridy = 0;
            gbc.gridwidth = GridBagConstraints.REMAINDER;
            frame.add(s, gbc); //here is the problem, it replaces the previous panel

            frame.setSize(200,100);
            frame.setLocation(0,400);
            frame.setVisible(true);
            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
       }
    } 
```

Panel1.java

```
 import javax.swing.*;
    import java.awt.*;
    import java.net.URL;

    public class Panel1 extends JPanel {
        ImageIcon anotherIcon;

        public Panel1 ( ) {
            URL imageURL = Panel1.class.getResource("images/puppy.png");
            anotherIcon = new ImageIcon(imageURL);
        }

        public void paint(Graphics g) {
            super.paintComponent(g);
            anotherIcon.paintIcon(this, g, 0, 0);
        }
    } 
```

Panel2.java

```
 import javax.swing.*;
    import java.awt.*;
    import java.net.URL;

    public class Panel2 extends JPanel {
        ImageIcon anotherIcon;

        public Panel2 ( ) {
            URL imageURL = Panel2.class.getResource("images/puppy2.png");
            anotherIcon = new ImageIcon(imageURL);
        }

        public void paint(Graphics g) {
            super.paintComponent(g);
            anotherIcon.paintIcon(this, g, 0, 0);
        }
    } 
```

您的代码的总体思路没有错，只是面板被一个放在另一个之上，导致一个隐藏另一个....

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-24T14:57:16.377

你可以试试这个。将框架的布局设置为： **setLayout(null)** ，然后可以将边界添加到您的面板，即。**setBounds()** 然后将这些面板添加到框架

# android - android.view.InflateException: Binary XML file line #11: Error inflating class

> ID：15131953
> 
> 赞同：0
> 
> 时间：2013-02-28T09:31:19.533
> 
> 标签：android

我知道这个问题被问了很多次，但没有一个答案真的对我有帮助。我正在尝试从图库中挑选一张图片，然后将整个视图转换为位图（拍摄快照）。它在大多数情况下都可以正常工作，但有时它显示运行时错误并使应用程序崩溃。我不明白为什么它会偶尔显示。

以下是我将视图转换为位图的 java 片段，它位于 onCreate() 内部，

```
save.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                Log.i(TAG, "Saving...");
                // bitmap

                ContentValues cv = new ContentValues();
                TextView name = (TextView) findViewById(R.id.name);
                cv.put("victimname", name.getText().toString());

                TextView gender = (TextView) findViewById(R.id.gender);
                if (gender.getText().equals("MALE")) {
                    cv.put("gender", 1);
                } else {
                    cv.put("gender", 0);

                }

                Button save = (Button) findViewById(R.id.save);
                save.setVisibility(View.INVISIBLE);
                ImageView bckground = (ImageView) findViewById(R.id.imageView1);
                bckground.setImageResource(R.drawable.photocropscreenclearout);

                View content = findViewById(R.id.rootView);
                content.setDrawingCacheEnabled(true);
                Bitmap bitmap = content.getDrawingCache();
                // actual width of the image (img is a Bitmap object)
                int width = bitmap.getWidth();
                int height = bitmap.getHeight();

                // new width / height
                int newWidth = width / 2;
                int newHeight = height / 2;

                // calculate the scale
                float scaleWidth = (float) newWidth / width;
                float scaleHeight = (float) newHeight / height;

                // create a matrix for the manipulation
                Matrix matrix = new Matrix();

                // resize the bit map
                matrix.postScale(scaleWidth, scaleHeight);

                // recreate the new Bitmap and set it back
                bitmap = Bitmap.createBitmap(bitmap, 0, 0, width, height,
                        matrix, true);

                Bitmap mb = bitmap.copy(Bitmap.Config.ARGB_8888, true);
                Canvas c = new Canvas(mb);

                // get the int for the colour which needs to be removed
                Paint p = new Paint();
                p.setARGB(255, 255, 255, 255); // ARGB for the color, in this
                                                // case red
                int removeColor = p.getColor(); // store this color's int for
                                                // later use
                p.setAlpha(0);

                p.setXfermode(new AvoidXfermode(removeColor, 30,
                        AvoidXfermode.Mode.TARGET));

                // draw transparent on the "brown" pixels
                c.drawPaint(p);

                ByteArrayOutputStream out = new ByteArrayOutputStream();
                // bitmap.compress(Bitmap.CompressFormat.PNG, 100,out);
                mb.compress(Bitmap.CompressFormat.PNG, 60, out);

                cv.put("imageData", out.toByteArray());
                DailiesCursor mySQLiteAdapter = new DailiesCursor(
                        getApplicationContext());
                mySQLiteAdapter.openDataBase();
                mySQLiteAdapter.insert("maindata", null, cv);

                Cursor contentRead = mySQLiteAdapter.getLast();
                startManagingCursor(contentRead);
                contentRead.moveToFirst();

                int id = 0;
                while (contentRead.isAfterLast() == false) {
                    id = contentRead.getInt(0);
                    contentRead.moveToNext();
                }
                contentRead.close();
                mySQLiteAdapter.close();

                Log.i(TAG, "Start Game!");
                // SELECT last_insert_rowid();
                content.setDrawingCacheEnabled(false);
                final Intent myIntent = new Intent(getApplicationContext(),
                        MainGame.class);
                myIntent.putExtra("_id", Integer.toString(id));
                startActivity(myIntent);
                finish();

            }

        }); 
```

**编辑1：** 以下是xml文件，

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="horizontal" 
        android:id="@+id/rootView">
    <ImageView
        android:id="@+id/imageView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />
    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_gravity="center_horizontal"
        android:scaleType="fitXY"
        android:layout_weight="1"
        android:src="@drawable/photocropscreen" />

    <Button
        android:id="@+id/back"
       android:layout_width="100dp"
        android:layout_height="90dp"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"

        android:background="@null"
        android:text="BACK"
        android:textColor="#ffffff"
        android:textAppearance="?android:attr/textAppearanceMedium" />

    <Button
        android:id="@+id/save"
        android:layout_width="100dp"
        android:layout_height="90dp"
        android:layout_alignParentRight="true"
        android:layout_alignParentTop="true"

          android:background="@null"
        android:text="SAVE"
          android:textColor="#ffffff"
        android:textAppearance="?android:attr/textAppearanceMedium" />

    <Button
        android:id="@+id/name"
       android:layout_width="100dp"
        android:layout_height="90dp"
        android:layout_alignParentLeft="true"
        android:layout_alignParentBottom="true"

        android:layout_marginBottom="50dp"
        android:text="NAME"
          android:textColor="#ffffff"
        android:background="@null"
        android:textAppearance="?android:attr/textAppearanceMedium" />

    <Button
        android:id="@+id/gender"
        android:layout_width="100dp"
        android:layout_height="90dp"
        android:layout_alignParentRight="true"
        android:layout_alignParentBottom="true"

        android:layout_marginBottom="50dp"
        android:text="MALE"
          android:textColor="#ffffff"
        android:background="@null"
        android:textAppearance="?android:attr/textAppearanceMedium" />

    </RelativeLayout> 
```

# blackberry - 在浏览器字段中加载本地 HTML 文件时显示白屏？

> ID：15131957
> 
> 赞同：1
> 
> 时间：2013-02-28T09:31:28.493
> 
> 标签：blackberry, browserfield

我正在使用`BrowserField`在我的应用程序中显示一些本地 HTML 文件。它正在正确显示 HTML 文件。但是在屏幕启动时，它会显示一些白屏（背景）。我怎样才能摆脱这个问题？

我正在使用以下代码：

```
BrowserFieldConfig _bfConfig = new BrowserFieldConfig();
_bfConfig.setProperty(BrowserFieldConfig.NAVIGATION_MODE,BrowserFieldConfig.NAVIGATION_MODE_POINTER);
_bfConfig.setProperty(BrowserFieldConfig.JAVASCRIPT_ENABLED, Boolean.TRUE );
_bfConfig.setProperty(BrowserFieldConfig.USER_AGENT, "MyApplication 1.0");

BrowserField myBrowserField = new BrowserField(_bfConfig);
add(myBrowserField);

BrowserFieldRequest request = new BrowserFieldRequest("local:///OTPhelp_en.html");
myBrowserField.requestContent(request); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T23:41:08.847

我没有给你一个完美的答案。如果您看[一下这个问题](https://stackoverflow.com/q/12421300/119114)，到目前为止，还没有关于如何使`BrowserField`背景透明的答案，这将是解决您的问题的*一种方法。*

根据`OTPhelp_en.html`页面的编写方式、对页面的控制程度以及更改的频率，这可能是一种可以接受的解决方法：

如果您的 html 文件具有纯色背景色，并且您知道该颜色是什么（因为它是**您的**html 内容），那么您可以简单地将`BrowserField`背景色设置为匹配。然后，在呈现 html 内容之前，您不会看到任何白色闪烁。像这样的东西：

```
public class MyBrowserScreen extends MainScreen {

    // this assumes the html file uses a red (#ff0000) background
    private int BG_COLOR = Color.RED;

    public MyBrowserScreen() {

        // set the screen manager's background
        getMainManager().setBackground(BackgroundFactory.createSolidBackground(BG_COLOR));

        BrowserFieldConfig _bfConfig = new BrowserFieldConfig();
        _bfConfig.setProperty(BrowserFieldConfig.NAVIGATION_MODE,BrowserFieldConfig.NAVIGATION_MODE_POINTER);
        _bfConfig.setProperty(BrowserFieldConfig.JAVASCRIPT_ENABLED, Boolean.TRUE );
        _bfConfig.setProperty(BrowserFieldConfig.USER_AGENT, "MyApplication 1.0");

        BrowserField myBrowserField = new BrowserField(_bfConfig);

        // set the browser field background to match the HTML background, and
        //  the containing screen's background
        _myBrowserField.setBackground(getMainManager().getBackground());
        add(myBrowserField);

        BrowserFieldRequest request = new BrowserFieldRequest("local:///OTPhelp_en.html");
        myBrowserField.requestContent(request); 
```

当然，以这种方式对其进行硬编码意味着如果 HTML 文件更改了其背景颜色，您也需要在 Java 代码中对其进行更改。

如果您想避免这种情况，并且您知道 HTML 文件将始终使用纯色背景色，您可以首先将 html 文件作为资源流打开

```
getClass().getResourceAsStream("/OTPhelp_en.html"); 
```

然后解析它，搜索背景颜色（例如`<body bgcolor=`或`<body style="background-color:`）。如果在 HTML 文件中进行了简单的背景颜色更改，这至少可以让浏览器字段看起来正确。

如果 HTML 文件使用渐变背景或图像背景，则必须更改上述代码。但是，如果没有更多信息，这是我对*解决方法*的建议。

# asp.net - 简单 EF 函数上的单元测试 .Net

> ID：15131959
> 
> 赞同：0
> 
> 时间：2013-02-28T09:31:34.743
> 
> 标签：asp.net, .net, unit-testing

我在 Asp.Net Web API 中有 3 层。使用 EF 实现的控制器层、服务层和存储库层。

我是单元测试的新手，并且有一个简单的功能，可以通过数据库中的 id 获取一个人，仅此而已。

基本上服务层调用

```
Unit_Work.Person_Repository.GetPersonByID(id); 
```

并且存储库这样做：

```
return context.chapters.Where(p=>p.chapterID==id).SingleOrDefault(); 
```

1.  我会写什么样的单元测试。
2.  我应该使用数据库还是模拟实现。
3.  我想过使用 Sql Server Compact 用一个模拟人填充它，然后尝试通过 ID 获取那个人，这是正确的吗？

提前感谢所有回答的人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T20:50:05.000

如果您使用实体框架，则无法对数据访问层进行单元测试。

Erik Alsmyr 提供的解决方案是非常错误的！看看这里为什么 -[内存 IDbSet 有什么意义？](https://stackoverflow.com/questions/12028270/whats-the-point-of-in-memory-idbset).

当您在内存数据库集中使用时，您正在运行 Linq to Objects。当您使用 EF 的 DbContext 时，您的 Linq 将转换为 SQL。这是两种不同的东西！

编写可以在内存数据库集中使用的代码非常容易（您的所有单元测试都会通过，您会很高兴），只是在您第一次尝试访问数据库时注意到运行时错误。

让我们稍微修改一下这段代码。如果我们使用 FIRSTNAME、LASTNAME，我认为 FULLNAME 不应该有 setter。它应该由 FIRSTNAME 和 LASTNAME 计算得出。

```
class User
{
    public string FIRSTNAME { get; set; }
    public string LASTNAME { get; set; }
    public string FULLNAME
    {
        get { return string.Format("{0}, {1}", LASTNAME, FIRSTNAME }
    }

    User(string firstName, string lastName)
    {
        this.FIRSTNAME = firstName;
        this.LASTNAME = lastName;
    }
} 
```

现在您可以像这样编写测试并且它会通过（当然在您在控制器中实现它之后）

```
public IMyEntities GetRepoWithUsers(params User[] users)
{
    var inMemoryUsers = new InMemoryDbSet<User>();
    var mockData = new Mock<IMyEntities>();
    mockData.Setup(m => m.Users).Returns(inMemoryUsers);
    return mockData.Object;      
}
[Test]
public void GetUserByFullname()
{          
    var ankaArne = new User("Arne", "Anka");
    var bjornBertil = new User("Bertil", "Björn");
    var repo = GetRepoWithUsers(ankaArne, bjornBertil);

    var usersController = new UsersController(repo);

    var found = usersController.GetUser("Anka, Arne");     

    Assert.NotNull(found);
    Assert.AreEqual("Anka", found.LASTNAME);
    Assert.AreEqual("Arne", found.FIRSTNAME);
} 
```

但是，当您针对“真实”DbContext 和“真实”DbSet 运行它时，它会抛出，因为您无法对计算的属性进行 Linq 查询。仅在映射到数据库列的那些上。那么这个测试有什么意义呢？

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-28T10:36:23.450

您可以将 xml/.csv 文件用于数据。即，您需要从单元测试项目中的 xml 文件中获取 ID、章节详细信息。然后您必须将 id 作为参数传递，然后使用从 xml 文件中获取的数据检查返回值。如果你不明白，请告诉我。您可以通过添加新项目选项来创建单元测试项目。然后在 vs2010 上添加 xml 文件以获取要测试的数据的选项。

你的第三个问题也是正确的。u cn 从数据库中填充数据并使用返回值检查数据

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-28T13:14:22.830

我建议模拟实体框架上下文并将其注入到您的存储库中。

我们使用类似于[http://nuget.org/packages/FakeDbSet/的方法来执行此操作](http://nuget.org/packages/FakeDbSet/)

然后我们的单元测试看起来像这样：

```
[TestFixture]
class UsersControllerTester
{
    private Mock<IMyEntities> mockData = null;

    [SetUp]
    public void Setup()
    {
        // Create fake data            
        var inMemoryUsers = new InMemoryDbSet<User>();
        inMemoryUsers.Add(new User { ID = 1, FIRSTNAME = "Arne", LASTNAME = "Anka", EMAIL = "arne.anka@email.com", FULLNAME = "Anka, Arne", USERNAME = "arne.anka" });
        inMemoryUsers.Add(new User { ID = 2, FIRSTNAME = "Bertil", LASTNAME = "Björn", EMAIL = "bertil.bjorn@email.com", FULLNAME = "Björn, Bertil", USERNAME = "bertil.bjorn" });
        inMemoryUsers.Add(new User { ID = 3, FIRSTNAME = "Carl", LASTNAME = "Cool", EMAIL = "carl.cool@email.com", FULLNAME = "Cool, Carl", USERNAME = "carl.cool" });
        inMemoryUsers.Add(new User { ID = 4, FIRSTNAME = "David", LASTNAME = "Dûsk", EMAIL = "david.dusk@email.com", FULLNAME = "Dûsk, David", USERNAME = "david.dusk" });

        // Create mock unit of work
        mockData = new Mock<IMyEntities>();
        mockData.Setup(m => m.Users).Returns(inMemoryUsers);      
    }

    [Test]
    public void GetUser()
    {           
        // Test
        var usersController = new UsersController(mockData.Object);

        // Invoke
        User user1 = usersController.GetUser("1");     

        // Assert
        Assert.NotNull(user1);
        Assert.AreEqual(1, user1.ID);
        Assert.AreEqual("Anka", user1.LASTNAME);
    } 
```

# php - 封装PHP memcache set和get函数

> ID：15131961
> 
> 赞同：1
> 
> 时间：2013-02-28T09:31:38.063
> 
> 标签：php, static, singleton, memcached

有这堂课：

```
class Cacher
{
    private static $memcacheObj = NULL;

    public static function GetInstance()
    {
        if (self::$memcacheObj === NULL) 
        {
            self::$memcacheObj = new Memcache;
            self::$memcacheObj->addServer(Configs::memcache_addr);
        }
        return self::$memcacheObj;
    }

    public static function Set($key, $var, $flag = 0, $expire = 0)
    {
        self::GetInstance()->set($key, $var, 0, $expire);
    }

    public static function Get($key, $flag = 0)
    {
        self::GetInstance()->get($key);
    }
} 
```

像这样使用，它不起作用，刷新我的页面时没有从 Cacher::Get 检索到：

```
$keyValue = Cacher::Get('key_name');
if(empty($keyValue))
{
    Cacher::Set('key_name', 'key_value', 0, 0);
}
else
{
    echo "Got value : $keyValue";
} 
```

但是下面的代码将起作用：

```
$keyValue = Cacher::GetInstance()->get('key_name');
if(empty($keyValue))
{
    Cacher::GetInstance()->set('key_name', 'key_value', 0, 0);
}
else
{
    echo "Got value : $keyValue";
} 
```

谁能帮我解决这个问题？非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T09:34:06.260

您没有在 Get 中返回结果。应该：

```
public static function Get($key, $flag = 0)
{
    return self::GetInstance()->get($key);
} 
```

# android - ScrollView 不滚动到底部

> ID：15131962
> 
> 赞同：53
> 
> 时间：2013-02-28T09:31:40.373
> 
> 标签：android, xml, scrollview

我的活动中有一定的问题。ScrollView 不会向下滚动到底部。
我有一个截图给你。 ![在此处输入图像描述](../Images/1e9be391990363a4a5b14f906139f7c4.png)

如果您查看 scrollView 的滚动条，您会发现它没有向下滚动到底部。
这是我的滚动视图的 XML 布局：

```
<ScrollView
    android:id="@+id/scrollView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:layout_alignParentLeft="true"
    android:layout_alignParentRight="true"
    android:fillViewport="true"
    android:layout_below="@+id/step2_header" >

    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="10dp" >

        <TextView
            android:id="@+id/step2_headerText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentLeft="true"
            android:layout_alignParentTop="true"
            android:layout_alignParentRight="true"
            android:gravity="center"
            android:text="@string/Schritt2"
            android:textAppearance="?android:attr/textAppearanceMedium"
            android:textColor="@color/dark_blue"
            android:textStyle="bold|italic" />

        <ImageView
            android:id="@+id/step2_image"
            android:layout_width="wrap_content"
            android:layout_height="100dp"
            android:layout_below="@+id/step2_headerText"
            android:layout_alignParentLeft="true"
            android:layout_alignParentRight="true"
            android:layout_marginTop="10dp"
            android:src="@drawable/menu_leiste" />

        <TextView
            android:id="@+id/step2_infoText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="10dp"
            android:layout_alignParentLeft="true"
            android:layout_below="@+id/step2_image"
            android:text="@string/step2Text"
            android:textAppearance="?android:attr/textAppearanceSmall" />

       <ImageView
            android:id="@+id/step2_but1Img"
            android:layout_width="match_parent"
            android:layout_height="35dp"
            android:layout_below="@+id/step2_infoText"
            android:layout_marginTop="10dp"
            android:src="@drawable/menu_leiste_selector" />

        <TextView
            android:id="@+id/step2_but1Text"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignBottom="@+id/step2_but1Img"
            android:layout_alignParentLeft="true"
            android:layout_alignTop="@+id/step2_but1Img"
            android:layout_marginLeft="10dp"
            android:gravity="center"
            android:text="@string/step2But1Text"
            android:textAppearance="?android:attr/textAppearanceMedium"
            android:textColor="@color/white" />

        <ImageView
            android:id="@+id/step2_but1ArrowImg"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_margin="3dp"
            android:layout_alignBottom="@+id/step2_but1Img"
            android:layout_alignParentRight="true"
            android:layout_alignTop="@+id/step2_but1Img"
            android:src="@drawable/location_web_site" />

        <ImageView
            android:id="@+id/step2_but2Img"
            android:layout_width="match_parent"
            android:layout_height="35dp"
            android:layout_below="@+id/step2_but1Img"
            android:layout_marginTop="10dp"
            android:src="@drawable/menu_leiste_selector" />

        <TextView
            android:id="@+id/step2_but2Text"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignBottom="@+id/step2_but2Img"
            android:layout_alignParentLeft="true"
            android:layout_alignTop="@+id/step2_but2Img"
            android:layout_marginLeft="10dp"
            android:gravity="center"
            android:text="@string/step2But2Text"
            android:textAppearance="?android:attr/textAppearanceMedium"
            android:textColor="@color/white" />

        <ImageView
            android:id="@+id/step2_but2ArrowImg"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_margin="3dp"
            android:layout_alignBottom="@+id/step2_but2Img"
            android:layout_alignParentRight="true"
            android:layout_alignTop="@+id/step2_but2Img"
            android:src="@drawable/location_web_site" />

    </RelativeLayout>

</ScrollView> 
```

我该如何解决？

* * *

## 回答 #1

> 赞同：154
> 
> 时间：2013-02-28T09:50:40.777

问题是SrcollView的 RelativeLayout 中的**android:layout_margin="10dp"**

代替

```
 <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="10dp"> 
```

和

```
<RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="10dp" > 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-28T09:34:47.190

在滚动视图 xml 中使用

```
android:paddingBottom="10dp" 
```

它将滚动视图的内容向上移动 10 dp 而不是 VIEW。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2019-10-14T23:12:26.077

试试`NestedScrollView`吧。

我自己曾多次遇到过这个问题，虽然只是在底部添加额外的填充以隐藏滚动视图在底部栏“后面”起作用的事实，但更好的解决方案是使用此答案中提到的 NestedScrollView：[https ://stackoverflow.com/a/36871385/6573127](https://stackoverflow.com/a/36871385/6573127)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2018-12-14T01:11:30.230

对我来说，如果 ScrollView 的父布局是 ConstraintLayout，我还有另一个特定的解决方案。如果是这样，我们不需要设置填充或边距。

```
<androidx.constraintlayout.widget.ConstraintLayout 
....>
    <ScrollView
            android:layout_width="match_parent"
            android:layout_height="0dp"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintTop_toBottomOf="<if there is any element before this this scrollview >">

            <RelativeLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content" > 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-10-10T22:50:18.420

对我来说，为我的一些内部元素设置显式高度会有所帮助。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-06-06T17:40:29.170

我遇到了同样的问题。尝试在**scrollView 的底部添加更多填充。它对**我有用。

```
android:paddingBottom="50dp" 
```

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2013-02-28T09:34:30.900

这可能是您的布局设计的问题。如果您为视图添加边距，那么它将清晰可见。所以

在滚动视图中添加

```
android:layout_marginBottom="30dp" 
```

# android-emulator - 问题：尝试注册我的模拟器（谷歌云消息）？

> ID：15131968
> 
> 赞同：0
> 
> 时间：2013-02-28T09:32:09.630
> 
> 标签：android-emulator, google-cloud-messaging

我已经下载了一些 Google 云消息传递示例应用程序。如果我运行我的示例应用程序。不幸的是，gcm-client-demo 已经停止。我遇到了这种问题。

1.  我有发件人 ID、应用程序密钥和服务器 URL。
2.  强制我需要为我的模拟器登录谷歌帐户。现在我的模拟器没有
    登录

为什么我面临这个问题请解释我..

日志猫：

```
02-28 14:48:03.189: D/AndroidRuntime(976): Shutting down VM
02-28 14:48:03.189: W/dalvikvm(976): threadid=1: thread exiting with uncaught exception (group=0x40a13300)
02-28 14:48:03.229: E/AndroidRuntime(976): FATAL EXCEPTION: main
02-28 14:48:03.229: E/AndroidRuntime(976): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.google.android.gcm.demo.app/com.google.android.gcm.demo.app.DemoActivity}: java.lang.UnsupportedOperationException: Device does not have package com.google.android.gsf
02-28 14:48:03.229: E/AndroidRuntime(976):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059)
02-28 14:48:03.229: E/AndroidRuntime(976):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
02-28 14:48:03.229: E/AndroidRuntime(976):  at android.app.ActivityThread.access$600(ActivityThread.java:130)
02-28 14:48:03.229: E/AndroidRuntime(976):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
02-28 14:48:03.229: E/AndroidRuntime(976):  at android.os.Handler.dispatchMessage(Handler.java:99)
02-28 14:48:03.229: E/AndroidRuntime(976):  at android.os.Looper.loop(Looper.java:137)
02-28 14:48:03.229: E/AndroidRuntime(976):  at android.app.ActivityThread.main(ActivityThread.java:4745)
02-28 14:48:03.229: E/AndroidRuntime(976):  at java.lang.reflect.Method.invokeNative(Native Method)
02-28 14:48:03.229: E/AndroidRuntime(976):  at java.lang.reflect.Method.invoke(Method.java:511)
02-28 14:48:03.229: E/AndroidRuntime(976):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
02-28 14:48:03.229: E/AndroidRuntime(976):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
02-28 14:48:03.229: E/AndroidRuntime(976):  at dalvik.system.NativeStart.main(Native Method)
02-28 14:48:03.229: E/AndroidRuntime(976): Caused by: java.lang.UnsupportedOperationException: Device does not have package com.google.android.gsf
02-28 14:48:03.229: E/AndroidRuntime(976):  at com.google.android.gcm.GCMRegistrar.checkDevice(GCMRegistrar.java:98)
02-28 14:48:03.229: E/AndroidRuntime(976):  at com.google.android.gcm.demo.app.DemoActivity.onCreate(DemoActivity.java:51)
02-28 14:48:03.229: E/AndroidRuntime(976):  at android.app.Activity.performCreate(Activity.java:5008)
02-28 14:48:03.229: E/AndroidRuntime(976):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
02-28 14:48:03.229: E/AndroidRuntime(976):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)
02-28 14:48:03.229: E/AndroidRuntime(976):  ... 11 more
02-28 14:48:03.260: W/ActivityManager(372):   Force finishing activity com.google.android.gcm.demo.app/.DemoActivity
02-28 14:48:03.279: W/WindowManager(372): Failure taking screenshot for (343x201) to layer 21010
02-28 14:48:03.719: I/Choreographer(372): Skipped 39 frames!  The application may be doing too much work on its main thread.
02-28 14:48:03.809: W/ActivityManager(372): Activity pause timeout for ActivityRecord{4125ba80 com.google.android.gcm.demo.app/.DemoActivity}
02-28 14:48:04.718: I/Choreographer(930): Skipped 95 frames!  The application may be doing too much work on its main thread.
02-28 14:48:05.369: I/ARMAssembler(36): generated scanline__00000077:03515104_00008001_00000000 [113 ipp] (134 ins) at [0x41407610:0x41407828] in 8278218 ns
02-28 14:48:06.488: I/ActivityManager(372): No longer want com.android.contacts (pid 544): hidden #16
02-28 14:48:16.499: W/ActivityManager(372): Activity destroy timeout for ActivityRecord{4125ba80 com.google.android.gcm.demo.app/.DemoActivity}
02-28 14:52:21.518: D/dalvikvm(456): GC_CONCURRENT freed 397K, 9% free 6557K/7175K, paused 32ms+13ms, total 125ms
02-28 14:53:03.318: I/Process(976): Sending signal. PID: 976 SIG: 9
02-28 14:53:03.378: I/ActivityManager(372): Process com.google.android.gcm.demo.app (pid 976) has died.
02-28 14:53:03.428: W/InputMethodManagerService(372): Window already focused, ignoring focus gain of: com.android.internal.view.IInputMethodClient$Stub$Proxy@41317c60 attribute=null
02-28 14:53:17.979: E/ThrottleService(372): problem during onPollAlarm: java.lang.IllegalStateException: problem parsing stats: java.io.FileNotFoundException: /proc/net/xt_qtaguid/iface_stat_all: open failed: ENOENT (No such file or directory)
02-28 14:59:57.108: D/dalvikvm(456): GC_CONCURRENT freed 385K, 9% free 6555K/7175K, paused 17ms+9ms, total 98ms 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T15:39:41.630

听起来好像您的模拟器没有安装 Google API，基于此错误消息：

```
Device does not have package com.google.android.gsf 
```

您可以在 Google GCM 文档中阅读有关 GCM 客户端要求的信息：http: [//developer.android.com/google/gcm/demo.html#requirements](http://developer.android.com/google/gcm/demo.html#requirements)

重要的部分是：

> 对于 Android 应用程序：
> 
> *   使用 Google API 运行 Android 2.2 的模拟器（或设备）。
> *   注册使用 GCM 的帐户的 Google API 项目编号。

因此，当您创建模拟器时，请确保目标已安装 Google API。例如：

```
Google APIs (Google Inc.) - API Level 10 
```

# html - 如何删除表格某些单元格中的顶部额外空间

> ID：15131969
> 
> 赞同：1
> 
> 时间：2013-02-28T09:32:14.227
> 
> 标签：html, html-table, space

我有一个页面，其中包含一个包含一行和 3 列的表格。我页面的所有内容都在这些列中。表示此表就像此页面的框架。左右单元格，有一些图片和链接。中间单元格包含页面的主要文本。在中间列中，当我键入文本时，当文本变长时，在左右单元格的顶部，会创建额外的空间。如果此文本更长，则侧单元格顶部的这些空间更大。

谁能帮我请如何删除这些空间？

* * *

[问题链接图片](http://upcity.ir/images/08045505971149328615.jpg)

代码：

```
<table>
<tr>
    <td width="15%" align="center" style="background-color:#ffffff; margin-top: 0px;">
        <div style="margin-top: 0px">
            <b>
        <br class="style3" />
        </b>
        <br />
        <asp:ImageButton ID="ImageButton1" runat="server" ImageUrl="~/Images/Solar Cell.jpg" 
            Width="140px" style="text-align: center" ImageAlign="Middle"/>

                </div>
    </td>
    <td width="70%" style="background-color:#ffffff; text-align: center; margin-top: 0px;">
    <div style="margin-top:0px"><asp:ContentPlaceHolder ID="ContentPlaceHolder1" runat="server">
        <p>
            <br />
            Original</p>
        <p>
            Text</p>
        <p>
            Will</p>
        <p>
            Be</p>
        <p>
            Here.</p>
        <p>
            <span id="result_box" class="short_text" lang="en"><span class="hps">Please</span>
            <span class="hps">note</span> <span class="hps">the</span> <span class="hps">
            space</span> <span class="hps">over</span> <span class="hps">the next</span>
            <span class="hps">two columns</span><span>.</span></span></p>
        <p>
            These spaces</p>
        <p>
            Will be shown</p>
        <p>
            If this text be long becuase of &lt;p&gt;&lt;/p&gt;</p>
        <p>
        </p>
        <p>
        </p>
        <p>
        </p>
        <p>
        </p>
        <p>
        </p>
    </asp:ContentPlaceHolder>
    </div></td>
    <td width="15%" style="background-color:#ffffff; margin-top: 0px;" align="center"><div>
        <asp:Image ID="Image1" runat="server" Height="124px" 
            ImageUrl="~/Images/pic.jpg" 
            style="margin-top: 0px" Width="126px" />
        </div></td>
</tr>
</table> 
```

# java - DatePicker，Java GWT 中的 Date 对象返回错误值

> ID：15131970
> 
> 赞同：0
> 
> 时间：2013-02-28T09:32:16.610
> 
> 标签：java, date, gwt, datepicker

本周以下问题相当顽固。我尝试使用以下方法获取用户选择的日期。

```
datePicker = new DatePicker();
datePicker.setValue(new Date(), true);
Date date = datePicker.getValue();
int year = date.getYear()+1900;
int month = date.getMonth();
int day = date.getDay(); 
```

我得到的只是奇怪的值，比如今天 02/28/2013 我得到 01/04/113。

我发现上面提到的方法已经贬值了一些东西，我可以将 1900 加到一年中。对于年份，添加数字会起作用，但对于月份和日期则不起作用。

我还没有找到解决这个问题的好方法。所以我有人暗示如何解决这个问题，我非常感谢您的帮助！

感谢您的时间！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T11:18:33.933

Java 日历具有儒略和公历日期组件。您无需添加`1900`. 删除 1900 的添加，您的代码应该可以正常工作。Java 本身通过添加 1900 来处理它，如果日期小于 1900，则进一步的 datepicker 会进行折腾。

[GWT datepicker 在 1900 年以下发疯](https://stackoverflow.com/questions/4829349/gwt-datepicker-goes-nuts-under-1900)

如果您发现此答案有帮助，请不要忘记投票，如果它解决了您的问题，请接受它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-15T11:02:19.687

那是因为您要添加 1900，这不是添加该数字的正确方法 Java 具有添加该数字的内置功能。所以从我这边你需要删除那个 1900，你就可以得到你想要的正确答案。

如果您使用日期选择器，它会自动添加当前日期的日期。因此，如果您将 1900 添加到当前意味着 2013 年，那将是个问题。和 DatePicker 没有设置日期格式

```
 Date date = new Date();
            datePicker1.setDate(date);
            date = datePicker1.getDate();
            int year = date.getYear();
            int day = date.getDay();
            int month = date.getMonth();
            System.out.println(year+""+day+""+month); 
```

# r - 使用回归模型（LM，LMER）重复测量方差分析

> ID：15131977
> 
> 赞同：6
> 
> 时间：2013-02-28T09:32:32.133
> 
> 标签：r, regression

我想使用回归模型而不是“方差分析”（*AOV*）函数在 R 中运行重复测量方差分析。

这是我的 3 个主体内因素的 AOV 代码示例：

```
m.aov<-aov(measure~(task*region*actiontype) + Error(subject/(task*region*actiontype)),data) 
```

有人可以给我使用回归模型运行相同分析的确切语法吗？我想确保尊重残差的独立性，即使用与 AOV 一样的特定误差术语。

在上一篇文章中，我阅读了以下类型的答案：

```
lmer(DV ~ 1 + IV1*IV2*IV3 + (IV1*IV2*IV3|Subject), dataset)) 
```

我真的不确定这个解决方案，因为它仍然将变量视为受试者之间的变量，而且我不明白添加随机因素会如何改变这一点。

有人知道如何在考虑剩余独立性的情况下使用 lm/lmer 运行重复测量方差分析吗？

非常感谢，索伦

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-06-04T18:40:31.520

如果你的 aov 例子是正确的（也许你不想嵌套东西）你想要这个：

```
lmer(measure~(task*region*actiontype) + 1(1|subject/(task:region:actiontype)) 
```

如果剩余独立性意味着独立计算截距和斜率，则需要分别指定它们：

```
+(1|yourfactors)+(0+variable|yourfactors) 
```

或使用符号：

```
+(1||yourfactors) 
```

无论如何，如果您阅读帮助文件，您会发现 lme4 无法处理最常见的问题。

# javascript - gruntjs：配置从命令行连接哪些文件

> ID：15131980
> 
> 赞同：0
> 
> 时间：2013-02-28T09:32:39.093
> 
> 标签：javascript, gruntjs

在我的项目中，我有 JS-files-modules 应该打包在一个文件中。

文件夹结构：

```
| src
| - start.js
| - module1.js
| - module2.js
| - module3.js
| - end.js 
```

我想从命令行配置要包含在文件中的模块。

例如，如果我运行`grunt -module1-module3`，生成的文件应该由 start.js、module1.js、module3.js、end.js 组成。

有对此的内置支持吗？或者也许有任何插件可以帮助我解决这个问题？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T10:48:16.770

您可以传递一个逗号分隔的文件列表，您可以从中构建文件对象。这是一个简单的例子：

```
module.exports = function(grunt) {

  function buildFiles() {
    var buildFiles = grunt.option('build-modules').split(',');
    buildFiles.unshift('start');
    buildFiles.push('end');
    for (var i = 0, l = buildFiles.length; i < l; i += 1){
      buildFiles[i] = buildFiles[i] + ".js";
    }
    return buildFiles;
  }

  // Project configuration.
  grunt.initConfig({
   concat: {
      dist: {
        src: buildFiles(), 
        dest: 'dist/out.js'
      }
    },
  });

}; 
```

您可以使用以下命令调用 grunt：`grunt concat --build-modules=module1,module2`

# asp.net-mvc - 配置 Magical Unicorn Mvc 错误工具包

> ID：15131982
> 
> 赞同：5
> 
> 时间：2013-02-28T09:32:42.823
> 
> 标签：asp.net-mvc, asp.net-mvc-4, custom-errors

我正在尝试在我的 MVC4 网站上配置 Magical Unicorn Mvc Error Toolkit (v 2.1.2)，但我无法让它工作。这是我的代码：

**网页配置**

```
<customErrors mode="On" redirectMode="ResponseRewrite" defaultRedirect="~/Error/ServerError">
    <error statusCode="404" redirect="~/Views/Error/NotFound.cshtml" />
</customErrors>

<system.webServer>
   <httpErrors errorMode="Custom" existingResponse="Replace">
     <remove statusCode="404" subStatusCode="-1" />
     <remove statusCode="500" subStatusCode="-1" />
     <error statusCode="404" path="~/Error/NotFound" responseMode="ExecuteURL" />
     <error statusCode="500" path="~/Error/ServerError" responseMode="ExecuteURL" />
   </httpErrors>
<system.webServer> 
```

**错误控制器**

```
public class ErrorController : Controller
{
    public ActionResult NotFound()
    {
        Response.StatusCode = (int)HttpStatusCode.NotFound;
        return View();
    }

    public ActionResult ServerError()
    {
        Response.StatusCode = (int)HttpStatusCode.InternalServerError;
        return View();
    }
} 
```

[这些基于此[https://stackoverflow.com/a/7499406/236860](https://stackoverflow.com/a/7499406/236860)帖子]

**CustomerErrorHandler.cs (App_Start)**

```
using Microsoft.Web.Infrastructure.DynamicModuleHelper;
using WorldDomination.Web.Mvc;
using CustomErrors.App_Start;

[assembly: WebActivator.PreApplicationStartMethod(typeof(CustomErrorHander), "PreStart")]
namespace CustomErrors.App_Start
{
    public static class CustomErrorHander
    {
        public static void PreStart()
        {
            // Register the custom error handling module.
            DynamicModuleUtility.RegisterModule(typeof (CustomErrorHandlingModule));
        }
    }
} 
```

我正在使用 IIS Express 在 Visual Studio 2012 中测试此应用程序。如果我尝试导航到不存在的页面，或者转到调用异常的操作方法，我会得到默认浏览器错误页面或空白页面。

我还按照[ASP.NET MVC Custom Error Pages with Magical Unicorn](https://stackoverflow.com/questions/13155837/asp-net-mvc-custom-error-pages-with-magical-unicorn)中的建议修改了上面的代码，但这似乎没有任何区别。

谁能指出我正确的方向来完成这项工作。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-04T14:02:22.253

最后，我无法让 Magical Unicorn Mvc Error Toolkit 工作。好消息是我认为我不必这样做！由于我将 MVC 应用程序部署到 IIS 7.5 Web 服务器，因此我可以使用 Web.config 的后面的 system.webServer.httpErrors 部分和自定义错误控制器。

**网络配置**

```
<system.web>
    <httpRuntime targetFramework="4.5" />
    <compilation debug="false" targetFramework="4.5">
    <customErrors mode="Off" />   <!-- IMPORTANT -->
    ...
</system.web>

<system.webServer>
    <httpErrors errorMode="Custom" existingResponse="Replace">
        <remove statusCode="403" />
        <error statusCode="403" responseMode="ExecuteURL" path="/Error/AccessDenied" />
        <remove statusCode="404" />
        <error statusCode="404" responseMode="ExecuteURL" path="/Error/NotFound" />
        <remove statusCode="500" />
        <error statusCode="500" responseMode="ExecuteURL" path="/Error/ApplicationError" />
    </httpErrors>
    ...
</system.webServer> 
```

**错误控制器**

```
public class ErrorController : Controller
{
   public ActionResult AccessDenied()
   {
      Response.StatusCode = (int)HttpStatusCode.Forbidden;
      Response.TrySkipIisCustomErrors = true;

      if (Request.IsAjaxRequest())
      {
        // return Json friendly response here
      }

      return View();
   }

   public ActionResult NotFound()
   {
      Response.StatusCode = (int)HttpStatusCode.NotFound;
      Response.TrySkipIisCustomErrors = true;

      if (Request.IsAjaxRequest())
      {
        // return Json friendly response here
      }

      return View();
   }

   public ActionResult ApplicationError()
   {
      Response.StatusCode = (int)HttpStatusCode.InternalServerError;
      Response.TrySkipIisCustomErrors = true;

      if (Request.IsAjaxRequest())
      {
        // return Json friendly response here
      }

      return View();
   }
} 
```

*   这一切似乎都适用于 IIS Express 和 IIS 7.5。
*   Elmah 记录错误而不对默认错误过滤器进行任何更改。
*   Fiddler 还建议正确维护正确的 HTTP 状态代码。

# html - 谷歌 Chrome 审核工具说，当 CSS 已经存在时，将其放入文档头部

> ID：15131991
> 
> 赞同：3
> 
> 时间：2013-02-28T09:33:14.567
> 
> 标签：html, css, google-chrome-devtools

谷歌浏览器审核工具说：

> 将 CSS 放在文档头部 (3) 文档正文中的 CSS 会对渲染性能产生不利影响。链接节点 bootstrap-extract.css 应该被移动到文件头 链接节点 style.css 应该被移动到文件头 链接节点 css 应该被移动到文件头

但是样式表在头部链接。这是代码：

```
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="fr-FR" xml:lang="fr-FR">
<head>
    <title>site</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" type="text/css" href="/resources/css/bootstrap-extract.css">
    <link rel="stylesheet" type="text/css" href="/resources/css/style.css">
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,900,300italic,400italic,700italic,900italic' rel='stylesheet' type='text/css'>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
</head>
<body>
etc. 
```

我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T10:25:50.823

您的代码看起来对我应该是有效的，但是，`meta`标签不应该用`/>`:

```
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
```

这*可能*会导致`<head>`标签关闭，但这不太可能。

您是否查看过 Google Chrome 中的 HTML 与代码的外观相比，它是如何显示的？