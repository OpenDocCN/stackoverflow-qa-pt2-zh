# StackOverflow 问答 15941000-15941999

# regex - 如何在 Delphi 上创建正则表达式以删除括号和引号

> ID：15941001
> 
> 赞同：2
> 
> 时间：2013-04-11T04:50:28.640
> 
> 标签：regex, delphi

我以前从未使用过 TPerlRegEx，这是我第一次使用正则表达式。

我正在寻找一个在 Delphi Xe2 中使用 TPerlRegEx 删除括号和引号的小示例，如下所示：

输入字符串：

```
["some text"] 
```

结果：

```
some text 
```

单行，没有嵌套的括号或引号。我使用 Regexbuddy 创建和测试正则表达式，但它没有给我结果。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-11T13:28:34.267

这适用于正则表达式好友：

正则表达式：

```
\["(.+?)"\] 
```

代替：

```
$1 
```

像这样使用：

```
var
  RegEx: TPerlRegEx;
begin
  RegEx := TPerlRegEx.Create(nil);
  try
    Regex.RegEx := '\["(.+?)"\]';
    Regex.Subject := SubjectString;  // ["any text between brackets and quotes"]
    Regex.Replacement := '$1';
    Regex.ReplaceAll;
    Result := Regex.Subject;
  finally
    RegEx.Free;
  end;
end; 
```

这个怎么运作：

```
Match the character "[" literally «\[»
Match the character """ literally «"»
Match the regular expression below and capture its match into backreference number 1 «(.+?)»
   Match any single character that is not a line break character «.+?»
      Between one and unlimited times, as few times as possible, expanding as needed (lazy) «+?»
Match the character """ literally «"»
Match the character "]" literally «\]»

Created with RegexBuddy 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T13:11:57.797

[例子比比皆是](https://www.google.com/search?q=tperlregex+example)，包括[文档中的一个](http://docwiki.embarcadero.com/CodeExamples/XE3/en/TPerlRegExReplace_%28Delphi%29)，所以我认为问题实际上是关于分配哪些值来获得特定的所需输出的属性。

将`RegEx`属性设置为要匹配的正则表达式，并设置`Replacement`为要替换匹配序列的值。一种方法可能是设置`RegEx`为`\[|\]|"`空`Replacement`字符串。这将从字符串中的任何位置删除所有括号和引号。

要改为仅删除字符串周围的括号和引号对，请尝试设置`RegEx`to`^\["(.*)"\]$`和`Replacement`to `\1`。这将匹配整个字符串，然后将其替换为第一个匹配的子表达式，该子表达式不包括周围的四个字符。要将类似的字符串`["foo"] ["bar"]`变成`foo bar`，然后删除开始和结束锚并添加非贪婪限定符：`\["(.*?)"\]`。

设置正则表达式和替换后，您就可以分配`Subject`给要处理的字符串了。最后， call `ReplaceAll`，完成后，新字符串将`Subject`再次出现。

# c - 使 recvfrom() 函数非阻塞

> ID：15941005
> 
> 赞同：18
> 
> 时间：2013-04-11T04:50:48.143
> 
> 标签：c, sockets, winapi, network-programming, udp

我正在开发 UDP 服务器/客户端应用程序。

为了找出是否有任何客户端关闭，服务器会向客户端发送握手消息。然后，服务器等待客户端的响应发送一些数据以确保客户端处于活动状态。为此，`recvfrom()`除非客户端回复，否则服务器会阻塞调用，但如果客户端关闭，服务器会无限阻塞调用`recvfrom()`.

我想在我的服务器上实现这样的功能，以便它在调用中等待`recvfrom()`特定时间（比如 2 秒）。如果 2 秒内没有收到客户端的数据，则认为客户端死亡并`recvfrom()`返回。

有什么办法吗？我搜索了互联网，但找到了解决方案，例如设置`MSG_DONTWAIT`标志，在没有收到数据时立即返回，但在我的情况下，我不想`recvfrom()`立即返回，而是等待特定持续时间的数据，以及在特定持续时间内没有收到数据时，`recvfrom()`函数应该返回。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-04-11T06:21:19.503

最简单的方法是使用`setsockopt()`为有问题的套接字设置接收超时。

`SO_RCVTIMEO`用于此。

如果为传递给 的套接字设置了`recvfrom()`超时，如果没有收到数据，则函数在超时后返回。

例如，要设置 10 μs 读取超时（`setsockopt()`根据需要对返回的值添加错误检查）：

```
#include <sys/types.h> 
#include <sys/socket.h>

...

struct timeval read_timeout;
read_timeout.tv_sec = 0;
read_timeout.tv_usec = 10;
setsockopt(socketfd, SOL_SOCKET, SO_RCVTIMEO, &read_timeout, sizeof read_timeout); 
```

有关[Windows 的详细信息，请参见此处](http://msdn.microsoft.com/en-us/library/windows/desktop/ms740476%28v=vs.85%29.aspx)，[在 Linux 上，请参见此处](http://man7.org/linux/man-pages/man2/setsockopt.2.html)和/或[此处 (POSIX)](http://man7.org/linux/man-pages/man3/setsockopt.3p.html)。

# php - 使用 php 脚本下载文件，一次一个

> ID：15941006
> 
> 赞同：1
> 
> 时间：2013-04-11T04:50:53.750
> 
> 标签：php, download

这是关于使用 php 脚本从服务器下载文件的问题。当用户点击下载链接时，它会处理为`download.php`文件，并使用`header`它开始下载。

下载文件后，文件中有一个功能`download.php`，它更新mysql数据库关于下载的文件并从用户帐户中扣款。一切正常。

现在，当用户在 pc 中安装了下载管理器时，就会出现问题。有时下载是在浏览器和下载管理器中开始的。因此，最后数据库中有两个下载条目，并且从用户帐户中扣除了两次钱。

**问题**：有没有办法一次只开始一次下载？或者任何其他方式来做这件事？

我提供给用户的下载链接。

```
<a href='download.php?id=1'>Download Test Video</a> 
```

我用于下载文件的脚本。（下载.php）

```
 $file = "c:/test.avi"; // $file = $_GET['id'];
    $title = "Test Video";

    header("Pragma: public");
    header('Content-disposition: attachment; filename='.$title);
    header("Content-type: ".mime_content_type($file));
    header("Content-Length: " . filesize($file) ."; ");
    header('Content-Transfer-Encoding: binary');
    ob_clean();
    flush();

    $chunksize = 1 * (1024 * 1024); // how many bytes per chunk
    if (filesize($file) > $chunksize) {
        $handle = fopen($file, 'rb');
        $buffer = '';

        while (!feof($handle)) {
            $buffer = fread($handle, $chunksize);
            echo $buffer;
            ob_flush();
            flush();
        }

        fclose($handle);
    } else {
        readfile($file);
    }

    record_download('user id', 'file id'); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T14:20:01.703

将评论移至此处以供任何感兴趣的人使用。

我必须想出的功能是处理付款后的唯一下载链接。这些是已采取的步骤。

*   处理付款并获取可下载文件的 IP 地址、文件和路径 - 将此信息保存到数据库。
*   扣款成功后，触发生成唯一令牌的函数，例如：`sha1(microtime().$transactionid)`，并将其保存到数据库中（注意：请不要在生产中使用 microtime() ，使用随机字符串生成器）。
*   使用`.htaccess`我们生成的下载链接，例如：`http://domain.com/download/<token>`.htaccess 内容：

    ```
    RewriteRule ^download/([a-z0-9-]) /download.php?token=$1 
    ```

*   ***可选***：如果他们的 IP 与我们在数据库中的 IP 匹配，请继续并允许用户下载文件。如果没有，我们会要求用户登录，以便我们可以更新他们的 IP 地址并开始下载。
*   获得令牌后，您几乎可以从这里进行任何形式的验证，例如通过在数据库`download_downloaded INT(1) DEFAULT 0`中添加一列来防止多次下载，如果它设置为 1，则它已被下载。我建议在下载后将用户锁定前一天给用户，以防他们的文件在此过程中损坏。
*   任何其他附加项目，例如下载计数器等。
*   最后使用上面的代码开始下载。不过，我会让它的结构有所不同。

**下载.php**

```
$token = $_GET['token'];
$allow_download = FALSE; // Can never be too careful..

...
//Database lookup to get the file ID
...

$file = "c:/test.avi"; // now from the database call
$title = "Test Video";

// Do any additional validation here
// returns TRUE or FALSE (Boolean) -- Custom function to query the database
$allow_download = check_if_downloadable('user_id', 'file_id', 'token_id');
record_download('user id', 'file id');

// After validation is complete, allow them to download
if ($allow_download === TRUE){
    header("Pragma: public");
... 
```

如果用户丢失了他们的下载链接（这种情况已经发生过很多次），一旦他们登录，我们就会在他们的会员主页上显示他们的下载链接，他们可以再次开始下载（如果您允许的话）。

我希望这有帮助。很抱歉，我现在不能给出一些代码示例。

其中大部分只是查询数据库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-11T08:22:36.980

有时在我们的网站上，需要一个下载链接。单击此链接时，将下载任何类型的文件、图像、pdf。您可以使用简单的 php 脚本执行此操作。

要下载图片名称“shafiq_photo.jpg”，所以参数为文件名“shafiq_photo.jpg”。然后创建一个您在上述文件中使用的 php 文件名“download.php”。

```
<?php
 $file = $_GET["file"];

 if (file_exists($file)) {
 header('Content-Description: File Transfer');
 header('Content-Type: application/octet-stream');
 header("Content-Type: application/force-download");
 header('Content-Disposition: attachment; filename=' . urlencode(basename($file)));
// header('Content-Transfer-Encoding: binary');
 header('Expires: 0');
header('Cache-Control: must-revalidate, post-check=0, pre-check=0');
 header('Pragma: public');
header('Content-Length: ' . filesize($file));
ob_clean();
flush();
 readfile($file);
 exit;
   }
 ?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T07:38:01.327

我建议改变逻辑：

*   先扣钱。
*   生成随机字符串。用它保存文件和用户信息。
*   在客户端配置文件中转储带有随机标识符的下载链接。我的意思是[http://www.example.com/download.php?file=254fd1f5df4df2sd5fsd5f4sdfsd0fsdf5sd4fsdf5dfsdf](http://www.example.com/download.php?file=254fd1f5df4df2sd5fsd5f4sdfsd0fsdf5sd4fsdf5dfsdf)
*   Onload 完成删除数据库条目。

**但是有一个安全漏洞！**

如果两个人开始使用该链接下载该文件，那么他们可以绕过支付一个。但是，如果有人下载该文件并将其发送给其他人怎么办。所以，这不是什么大问题。不是吗？

但是如果你认为你应该非常安全，可以选择附加 CSRF 令牌。

# php - 从 Curl 中抓取

> ID：15941010
> 
> 赞同：0
> 
> 时间：2013-04-11T04:50:58.140
> 
> 标签：php, curl, stripping

我卷曲并得到以下信息：

```
echo $contents 
```

这给了我这个：

```
 <td class="fomeB1" >Balance: $ 1.02</td>

$13.32 fee
$15.22 fee 2 
```

我如何抓住 1.02 - $ 之后和前面的所有内容`</td>`

我想通过 php 剥离这个并将钱放入变量 $balance....

非常感谢我能得到的任何帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T04:57:49.740

这可能是一种不好的做法......但是

```
$pieces = explode("$ ", $contents);
$pieces = explode("</td>", $pieces[1]);
$balance = $pieces[0]; 
```

或者，您可以使用正则表达式。像这样的东西：

```
\$\s\d+.{1}\d+ 
```

你可以在这里测试正则表达式：[RegExpPal](http://regexpal.com/)

您可以使用 preg_match() 使用正则表达式解析余额。 [preg_match()](http://php.net/manual/en/function.preg-match.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T04:58:43.603

基本上现在你有一个字符串

```
$str = '<td class="fomeB1" >Balance: $ 1.02</td>'; 
```

我对吗 ？

现在试试这个：

```
$txt = getTextBetweenTags($str, "td");
echo $txt;//Balance: $ 1.02 
```

现在，使用爆炸：

```
$pieces = explode($txt,' $ ');
echo $pieces[0]; //Balance:
echo $pieces[1]; //1.02 
```

`UPDATE:` 试试这个，如果explode适用于字符串，它应该可以工作：

```
$pieces = explode("Balance: $ ", $str);
$pieces = explode("</td>", $pieces[1]);
$balance = $pieces[0]; //1.02 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T04:59:10.450

是的，你可以使用你想要的

```
preg_match("/(?<=Balance: ).*?(?=<)/", "<td class='fomeB1'>Balance: $ 1.02</td>", $match);
print_r(str_replace("$"," ",$match));

// Prints:
Array
(
    [0] =>   1.02
) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-11T05:05:20.760

```
$str = '<td class="fomeB1" >Balance: $ 1.02</td>';  
$r1 = preg_replace('/.*?\$[ ](.*?)<.*/', '\1',  $str); //match between after first '$ ' ,and first '<' ;
echo $r1; //1.02 
```

或者

```
$r2= preg_replace('/^<td class="fomeB1" >Balance\: \$ (.*?)<\/td>$/', '\1',  $str); //match between after <td class="fomeB1" >Balance: $    and </td>

echo $r2; //1.02 
```

或更新

```
$str = ' <td class="fomeB1" >Balance: $ 1.02</td>

$13.32 fee
$15.22 fee 2';  

$r1 = preg_replace('/.*?\$[ ](.*?)<.*/s', '\1',  $str); //match between after first '$ ' ,and first '<' ;
echo $r1.'<br>'; //1.02 
```

# java - 使用正则表达式替换java函数：匹配嵌套括号

> ID：15941012
> 
> 赞同：4
> 
> 时间：2013-04-11T04:51:14.330
> 
> 标签：java, regex

我想使用正则表达式替换函数定义和声明，即

代替

```
public abstract void myFuction(MyParam myParam); 
```

或者

```
@Override
public void myFuction(MyParam myParam){

} 
```

我试过这个正则表达式：

```
(@Override[\n\s\t]*)?public *(abstract)? *void
*generateProcessMethod *\(UIGenerationContext *[^)]+\)[\n\\s\t]*((\{[^{}]*?\})|;) 
```

但问题是如果该功能有任何其他功能，`{`否则`}`它将无法正常工作。

替换`[^{}]`为`.`不是解决方案，因为它也替换了以下功能。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-11T05:13:37.093

使用正则表达式，**可以**做到这一点（括号嵌套），但只能达到固定的嵌套级别。

您当前的正则表达式（更改了一点）：

```
(@Override[\n\s\t]*)?public *(abstract)? *void *[a-z]*\([a-z]* [^)]+\)[\n\\s\t]*((\{[^\{\}]*?\})|;) 
```

只允许一级。更具体地说，这是匹配它的部分：

```
(\{[^\{\}]*?\}) 
```

如果您想匹配最多两个级别，请将提到的部分更改为：

```
(\{([^{}]*|\{[^{}]*\})*\}) 
```

因此：

```
(@Override[\n\s\t]*)?public *(abstract)? *void *[a-z]*\([a-z]* [^)]+\)[\n\\s\t]*(\{([^{}]*|\{[^{}]*\})*\}|;) 
```

要添加更多级别，您必须继续编辑。随着您添加关卡，它**会**变得越来越混乱。

**解释：**

*   `\{`将匹配第一个左括号
    *   `(`打开一个群组
        *   `[^{}]*`匹配除括号之外的任何内容
        *   `|`或者
        *   `\{`如果它确实找到了一个左括号...
            *   `[^{}]*`...它将匹配除括号之外的任何内容...
        *   `\}`...直到找到一个右括号
    *   `)`关闭组
    *   `*`上述组可以发生零次或多次
*   `\}`匹配结束括号

要添加更多级别，请将中间（第二）`[^{}]*`部分更改为`([^{}]*|\{[^{}]*\})*`。

**如果您无法预测最大嵌套级别：**

有些语言允许嵌套运算符`R`，它允许您嵌套任意数量的级别。如果您的语言不支持它（Java 不支持，afaik PHP 和 Perl 支持），您必须：

*   预测最大嵌套级别；或者
*   自己创建一个解析器。

`R`没有运算符的正则表达式**不能**嵌套任意数量的级别。

也就是说，使用`R`运算符将​​是这样的：

```
(\{([^{}]|(?R))*\}) 
```

[此答案](https://stackoverflow.com/a/14952740/1850609)的更多信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T05:11:26.383

正则表达式不擅长处理嵌套组件。但是，如果您知道缩进与右大括号相同的事实`@Override`并且其所有内容都进一步缩进，则可以使用以下命令：

```
([\t\s]+)@Override.*?\n\1} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T05:10:45.943

恐怕仅使用正则表达式是不可能的。

如果您理解正确，您需要重新格式化一些语法，并且我认为代码必须仍然是可编译的，在这种情况下，您需要计算每个增加`{`和减少的数量，`}`以便您知道函数何时结束。一种替代方法可能是在面临下一个声明时返回到第一个找到`}`的位置，但是会有很多异常需要处理，例如课程结束时等...

我建议您使用 Java 源代码解析来完成这项工作，它能够将方法识别为方法，并且可以为您节省大量工作，例如看看[javaparser](https://code.google.com/p/javaparser/)

# heroku - heroku pgbackups：恢复不起作用

> ID：15941018
> 
> 赞同：1
> 
> 时间：2013-04-11T04:51:33.533
> 
> 标签：heroku, heroku-toolbelt

当我运行`heroku pgbackups:restore DATABASE_URL x123 --confirm app_name` 时，控制台中的一切似乎都很顺利，但数据库仍然是空的。

帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T13:33:41.210

数据库统计信息（例如表计数）在后台填充。对于可以延迟几分钟的 Starter 层。正如@kch 提到的那样，涉及到一些缓存。

生产层的统计信息更新更频繁，通常不到 1 分钟。

# django - 如何让 git 与远程主分支同步

> ID：15941019
> 
> 赞同：1
> 
> 时间：2013-04-11T04:51:44.900
> 
> 标签：django, git

我对为什么我的生产服务器似乎认为它在我的主分支之前感到困惑。我使用fabric 进行部署，它从我在github 上的master 分支在服务器上运行一个git pull。我没有对生产服务器本身进行任何我知道的更改，当然我也不会在生产服务器上进行提交。

`git status`产量：

```
 # On branch master
  # Your branch is ahead of 'github/master' by 57 commits.
  #
  nothing to commit (working directory clean) 
```

据我所知，生产服务器上的内容与我的开发环境中的主分支相匹配。至少该网站的行为相同，但我觉得这令人不安。关于如何在与 github master 相同的页面上获取生产存储库并停止给我此消息的任何想法？

编辑（2013 年 4 月 11 日）：

澄清一下，当我使用结构进行部署时，它会运行：

`git pull github master` 在服务器上。

我在原始问题中上面写的 git status 结果在服务器上。我从不在服务器上提交，只在我的开发环境中提交，我将其推送到 github，然后将其拉到服务器。这就是为什么我很困惑。我当然不想将任何东西从我的生产服务器推送到 github，这与我的工作流程相反。

第二次编辑（2013 年 4 月 11 日）：

这是fabfile git代码：

```
def prepare_remote_deployment_area():
    """Prepare the production host with updated resources"""
    with cd(DEPLOYMENT_ROOT):
        run('git pull github master') 
```

这是从部署中调用的：

```
def deploy():
    """Deploy an update (committed to GitHub) to production"""
    check_git_status()
    check_git_status(on_remote=True)
    prepare_remote_deployment_area()
    restart_uwsgi()
    restart_nginx()
    restart_celery() 
```

同样，这一切似乎都有效，因为我在开发环境中所做的更改会出现在生产环境中。我只是不明白为什么生产存储库认为它远远领先于 github master。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T04:58:25.187

也许[`git pull`](http://kernel.org/pub/software/scm/git/docs/git-pull.html)

```
git pull origin master 
```

更多信息

```
NAME
       git-pull - Fetch from and merge with another repository or a local
       branch

DESCRIPTION
       Incorporates changes from a remote repository into the current
       branch. In its default mode, git pull is shorthand for git fetch
       followed by git merge FETCH_HEAD. 
```

# facebook-graph-api - FQL 在没有访问令牌的情况下为 link_stat 获得 0 个计数

> ID：15941020
> 
> 赞同：1
> 
> 时间：2013-04-11T04:51:50.050
> 
> 标签：facebook-graph-api, facebook-fql

我正在为客户做项目。我们正在使用 FQL link_stats 来获取要在网站上显示的计数。

最近它运行良好，并且在我们的暂存环境中仍然运行良好。然而，在现场，我们得到的计数为零。

这是 FQL 的示例。 [https://graph.facebook.com/fql?q=SELECT%20url,%20normalized_url,%20share_count,%20like_count,%20comment_count,%20total_count,commentsbox_count,%20comments_fbid,%20click_count%20FROM%20link_stat%20WHERE%20url=% 22http%3A%2F%2Fwww.channelnewsasia.com%2Fnews%2Fworld%2Fus-senators-reach-deal-on-gun-sale-backg%2F634558.html%22&callback=_ate.cbs.rcb_httpwwwchannelnewsasiacomnewsworldussenatorsreachdealongunsalebackg634558html0](https://graph.facebook.com/fql?q=SELECT%20url,%20normalized_url,%20share_count,%20like_count,%20comment_count,%20total_count,commentsbox_count,%20comments_fbid,%20click_count%20FROM%20link_stat%20WHERE%20url=%22http%3A%2F%2Fwww.channelnewsasia.com%2Fnews%2Fworld%2Fus-senators-reach-deal-on-gun-sale-backg%2F634558.html%22&callback=_ate.cbs.rcb_httpwwwchannelnewsasiacomnewsworldussenatorsreachdealongunsalebackg634558html0)

我们注意到，如果我们要使用访问令牌在 FB 调试器工具中运行 FQL。我们可以得到正确的结果。但如果没有访问令牌，它将获得与上述相同的结果。

我知道 FB 在 2013 年 7 月改变了这种行为，使 link_stat 成为必需的访问令牌。正如他们的路线图中提到的那样。[https://developers.facebook.com/roadmap/](https://developers.facebook.com/roadmap/) 但是要提到的是，这只会在 2013 年 7 月 10 日之后生效。

# git - Git - 使用别名而不是完整的存储库路径

> ID：15941022
> 
> 赞同：3
> 
> 时间：2013-04-11T04:51:53.510
> 
> 标签：git

如果我在 /opt/git/test.git 中创建一个 git 服务器存储库，有什么方法可以设置它，以便用户可以访问存储库，如...

```
git clone git@host:/git/test.git 
```

代替

```
git clone git@host:/opt/git/test.git 
```

换句话说，我不希望用户必须使用存储库的完整路径。这似乎应该是一件简单的事情，我知道它可以用 svn 完成，但我似乎无法找到它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T05:04:27.897

取决于您使用什么来提供存储库，但可以肯定的是，每个服务器都有一个等价物`git-daemon --base-path=/opt`

# html - Zurb Foundation，将 12 列网格中的 10 列水平居中

> ID：15941023
> 
> 赞同：8
> 
> 时间：2013-04-11T04:52:14.560
> 
> 标签：html, css, zurb-foundation

基金会巫师，

在默认的 12 列网格中尝试将 10 列元素居中时遇到困难。

编辑：填写代码多一点

我尝试在两侧放置 1 列无济于事：

```
<div class="row">

<div class="large-1 column"><p></div>

<div class="large-10 columns">
<div class="row>five large-2 columns in here</div>
<div class="row>five large-2 columns in here</div>
<div class="row>five large-2 columns in here</div>
</div>

<div class="large-1 column"><p></div>

</div> 
```

我的目标是在页面的正中心放置 3x5 网格。1 列当前未将 10 列填充到中心。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-11T05:19:32.320

`large-centered`通过包含类或`small-centered`根据您的需要将 div 居中：

```
<div class="large-10 large-centered columns">
    five 2 columns in here
</div> 
```

如果要使`large-10`div 的内容居中，可以添加`text-center`F4 中包含的类：

```
<div class="large-10 large-centered columns text-center">
    five 2 columns in here
</div> 
```

另外，不要忘记将你的包装`column divs`在 a 中`row div`，否则这些`columns`类将无法工作。[以这个小提琴](http://jsfiddle.net/pKe2k/1/)为例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:07:12.590

您是想将列中的文本居中还是将 div 居中在页面上（两边的边距相等）？

如果您只是想将 div （而不是其内容）居中，则此方法有效：

```
 <div class="row">
                <div class="columns one"></div>
                <div class="columns ten">
                    test
                </div>
                <div class="columns one"></div>
            </div> 
```

# java - 霍夫曼编码的优先队列

> ID：15941025
> 
> 赞同：0
> 
> 时间：2013-04-11T04:53:06.837
> 
> 标签：java, oop, priority-queue

我正在尝试霍夫曼编码和字符串。为此，我首先将每个字符的频率存储在一个如下所示的数组中：A["Ascii value of the character"]= frequency of the character

```
Example: "Ascii";
A[65]=1; //A
A[115]=1 // s
A[99]=1;// c
A[105]=2;//i 
```

我正在尝试基于这个数组创建一个优先队列。

我已经设置了一个 CharacterObject 类，它有两个属性：实际字符和频率。

我创建了以下 PriorityQueue：

```
PriorityQueue<CharObject> pq= new PriorityQueue<CharObject>(pqsize); 
// pqsize is the number of distinct characters in the string 
// i want to Huffman Encode. 
```

我的问题是如何告诉 PriorityQueue 我想通过我创建的 CharacterObject 类的频率属性进行优先级排序，以便在我尝试添加 PQ 时它不会引发错误。旁注我想实现一个 Min-PQ。

# github - 我无法从计算机访问我的要点，而我可以从我的 Android 手机应用程序访问

> ID：15941026
> 
> 赞同：3
> 
> 时间：2013-04-11T04:53:11.597
> 
> 标签：github, gist

如果我从我的计算机（无论哪台计算机和哪种操作系统）访问我的要点（Github），Github 给出的消息如下：

```
Whoops.

We seem to have missed the gist of that gist you were looking for. 
```

但我可以从我的 Android 手机应用程序（官方 Github 应用程序）访问我的要点。为什么？

我向 Github 发送电子邮件，但他们没有给出任何答复。我从谷歌搜索，但似乎没有人遇到同样的问题。

示例链接： [https ://gist.github.com/tomxue/5369077](https://gist.github.com/tomxue/5369077)

请检查下面的截图：我做了一个公开的要点，不能从网站上访问它。但我可以从我的 Android 手机 Github 应用程序访问。要点链接是[https://gist.github.com/tomxue/5369077](https://gist.github.com/tomxue/5369077) 您能否也尝试访问它并让我知道结果？

**进一步**：如果我从 Github 网站注销，则无法访问 (github.com/tomxue) 或 Gists 个人资料页面 (gist.github.com/tomxue)。如果我使用我的帐户 tomxue 登录，那么我可以访问（github.com/tomxue）（**如下图第三张截图所示**）但仍然无法访问 Gists 个人资料页面（gist.github.com/tomxue）。

![在此处输入图像描述](https://i.stack.imgur.com/QjzyE.png)

![在此处输入图像描述](https://i.stack.imgur.com/jr8Zq.png)

![在此处输入图像描述](https://i.stack.imgur.com/MQ5ik.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T09:54:57.133

刚刚GitHub的人联系了我，问题解决了。我想我可能会粘贴他们的原始信息：“我们引入了一些新措施来打击垃圾邮件，您的帐户被错误地标记为垃圾邮件。我已经清除了该标记，您的要点现在应该可用。” 所以谢谢大家！希望这篇文章对其他人有用。

# fortran - 比较fortran中的派生类型

> ID：15941031
> 
> 赞同：2
> 
> 时间：2013-04-11T04:53:49.987
> 
> 标签：fortran, fortran90, gfortran, intel-fortran, derived-types

我试图编译一个项目来解决一个球体上的 Navier-Stokes 问题： [https ://fms.gfdl.noaa.gov/gf/](https://fms.gfdl.noaa.gov/gf/)

使用的默认编译器是 ifort，我想使用 gfortran，因为我想让它最终可供任何希望使用它的人使用。

在代码中的某些点，有类似的语句

```
if (x == y) 
```

, 其中 x 和 y 都是包含整数、实数和指针的派生类型（称为 domain1d/2d）。gfortran 抱怨说比较是在非数字和退出之间。

然后我下载了 ifort 的试用版，它编译没有问题。

所以，我想知道这是否是对类型/结构的每个成员的实际比较的某种 ifort 速记（我对 C 术语更满意！）或者我是否缺少一些基本的东西，是 fortran 的新手？

我知道比较派生类型有时没有什么意义，但在这里它似乎只是检查两者是否携带相同的信息。

谢谢，乔伊

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-03T14:16:18.737

理查德 W 是正确的。我在 NOAA 的大气代码中遇到了类似的问题。这是旧版本的 GCC 中的一个错误（它在 4.47 中影响了我，而不是在 4.8 中）。出于某种原因，重载 .EQ。不会重载 == *，*反之亦然（如果您查看 domain1D 的实现，它肯定会重载 .EQ。然后 == 会出现在代码中的其他位置）。我通过确保 .EQ 解决了这个问题。或 == 始终使用。

据我所知，.EQ。和 == 应该是等价的（我没有仔细研究标准），这就是为什么 ifort（在我的例子中是 SGI Fortran 编译器）没有遇到这个问题的原因。

# android - 简化 android 类

> ID：15941033
> 
> 赞同：0
> 
> 时间：2013-04-11T04:54:02.010
> 
> 标签：android, xml, class, android-activity, android-manifest

我对 android 编程很陌生，昨天我做了我的第一个项目，一个鸡尾酒圣经应用程序。它运行完美，但问题是我已经加载了大量的类和 xml 来存储鸡尾酒数据。我只是想知道是否有任何更简单的方法可以用来消除我所有不合适的鸡尾酒类别。任何帮助将不胜感激。

菜单类

```
package com.drunktxtapp;

import android.app.ListActivity;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.widget.ArrayAdapter;
import android.widget.ListView;

public class Menu extends ListActivity{

    String classes[] = {"Bloody_Mary", "Capirinha", "Cosmopolitan", "Cuba_Libre", "Daiquiri", "Mai_Tai", "Manhattan", "Margarita", "Martini", "Mint_Julep", "Mojito", "Old_Fashoned", "Pina_Colada", "Screwdriver", "Singapore_Sling", "Tom_Collins", "Whiskey_Sour", "White_Russian"};
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setListAdapter(new ArrayAdapter<String>(Menu.this,android.R.layout.simple_list_item_1, classes));
    }

    @Override
    protected void onListItemClick(ListView l, View v, int position, long id) {
        // TODO Auto-generated method stub
        super.onListItemClick(l, v, position, id);
        String cocktailType = classes[position];
        try{
            Class<?> ourClass = Class.forName("com.drunktxtapp." + cocktailType);
            Intent ourIntent = new Intent(Menu.this, ourClass);
            startActivity(ourIntent);
        }catch (ClassNotFoundException e){
            e.printStackTrace();
        }
    }
} 
```

我的鸡尾酒课程之一的例子。我有很多这样的。

```
package com.drunktxtapp;

import android.app.Activity;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;

public class Bloody_Mary extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.bloody_mary);
        Button b1 = (Button) findViewById(R.id.bYoutube);
        b1.setOnClickListener(new Button.OnClickListener() {
            public void onClick(View v) {
                startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("http://www.youtube.com/watch?v=Alt-ehDc3fc")));
                }
            }); 
    }
} 
```

我的 xml 之一，每种鸡尾酒都有很多。

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="@drawable/beer"
    android:id="@+id/bloody_mary" >

    <TextView
        android:textStyle="bold"
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:text="Bloody Mary"
        android:textAppearance="?android:attr/textAppearanceLarge" />

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:src="@drawable/bloodymary" />

    <TextView
        android:textStyle="bold"
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:text="Ingredients"
        android:textAppearance="?android:attr/textAppearanceMedium" />

    <TextView
        android:id="@+id/textView3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:text="40ml vodka \n\ 120ml tomato juice \n\ 5ml lemon or lime juice \n\ 5ml worcestershire sauce \n\ 2 dashes tabasco \n\ salt"
        android:textAppearance="?android:attr/textAppearanceSmall" 
        android:textStyle="bold"/>

    <TextView
        android:textStyle="bold"
        android:id="@+id/textView4"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:layout_marginTop="2dp"
        android:text="Preparation"
        android:textAppearance="?android:attr/textAppearanceMedium" />

    <TextView
        android:id="@+id/textView5"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:text="Squeeze the liquid out of the horseradish, then shake ingredients well with cracked ice in a chilled cocktail shaker, then strain into a Collins glass with 2 or 3 ice cubes in it; add a pinch of salt and a grind or two of fresh pepper, to taste. Garnish, if necessary, with a stalk of celery."
        android:textAppearance="?android:attr/textAppearanceSmall" 
        android:textStyle="bold"/>

    <Button
        android:id="@+id/bYoutube"
        android:layout_width="200dp"
        android:layout_height="75dp"
        android:layout_gravity="center"
        android:layout_marginTop="5dp"
        android:text="YouTube Clip"
        android:textSize="20dp" />

</LinearLayout> 
```

我的清单删除了一些部分

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.drunktxtapp"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="8" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >

        <activity
            android:name=".Splash"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <activity
            android:name=".CocktailMenu"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="com.drunktxtapp.CocktailMenu" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

        <activity
            android:name=".Menu"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="com.drunktxtapp.Menu" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

        <activity
            android:name=".Bloody_Mary"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="com.drunktxtapp.Bloody_Mary" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>
        </application>
</manifest> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:07:28.753

对于所有类型的鸡尾酒，您只需要一个 Activity 和一个 xml 布局。（假设所有鸡尾酒的布局相同，只是文字和图像不同。）

您将在开始意图中传递一个参数，而不是像当前方法那样获取类。

```
Intent ourIntent = new Intent(Menu.this, CocktailDetailActivity.class);
ourIntent.putExtra("whichcocktail", "bloodymary");
startActivity(ourIntent); 
```

在目标活动的 onCreate 方法中（比如说 CocktailDetailActivity）：

```
// Get the param back
String cocktail = getIntent().getStringExtra("whichcocktail");
textView1.setText(cocktail); 
```

现在你的文本视图上显示了“bloodymary”。在现实生活中，您可能希望将索引传递给您的数据库/数组。然后在 CocktailDetailActivity 中，您将通过该索引获取信息并显示正确的鸡尾酒。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T05:47:01.990

您只需要两个活动（ListActivity 和显示鸡尾酒细节的活动）和两个 xml 布局（每个活动一个）。

要处理这个：

**1\. 将所有鸡尾酒图片放入drawable文件夹（图片名称与鸡尾酒名称相同）**

**2\. 当用户使用 Intent 从列表中选择鸡尾酒时开始鸡尾酒活动，并将鸡尾酒的名称作为额外（或任何其他细节）传递。**

```
Intent intent = new Intent(Menu.this, CocktailDetailActivity.class);
ourIntent.putExtra("cocktail_name","bloodymary");
startActivity(intent); 
```

**3\. 在 CocktailActivity 的 onCreate() 方法中，从 Intent 对象中获取 extras**

```
String cocktailName = getIntent().getStringExtra("cocktail_name");
textView1.setText(cocktailName); 
```

**4.设置图像使用cocktailName值（如果存储同名）**

```
ImageView imgView1 = (ImageView)findViewById(R.id.imageView1);
imageView1.setImageDrawable(getResources().getDrawable(R.drawable.cocktailName)); 
```

# struts2 - 关于 struts.xml 中的 struts2 redirectAction 结果

> ID：15941035
> 
> 赞同：0
> 
> 时间：2013-04-11T04:54:32.957
> 
> 标签：struts2

可以`Struts2 redirectAction result` 传输像 Person 这样的引用类型。

我的代码

```
 <action name="saveAdAction" class="saveAdAction">
        <result name="success" type="redirectAction">
            <param name="actionName">getAdAction</param>
            <param name="namespace">/</param>
            <param name="person">${person}</param>
        </result>           
    </action>

    <action name="getAdAction" class="getAdAction">     
        <result name="success">/ad/ad.jsp</result>
        <result name="input">/index.jsp</result>
    </action> 
```

该人是 saveAdAction 和 getAdAction 中的一个 bean。

当我使用 saveAdAction 时，网页将跳转到 index.jsp。为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:02:04.877

不，重定向只能传输请求参数，就像任何常规 servlet 重定向一样。因此，您要么必须将 person 的每个属性作为请求参数传递，要么将 person 放入会话中，并使用您可以在下一步操作中查找的键。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T05:42:26.037

不，这是不可能的，`redirectAction`将创建一个新的值堆栈，并创建新的请求和响应实例。

因此，您以前的所有数据都将丢失。传输数据的方法很少，这里很少

1.  在会话中保存数据并在其他操作中检索它。
2.  通过查询字符串，这在您的情况下是不可能的。
3.  使用[消息存储拦截器](http://struts.apache.org/development/2.x/docs/message-store-interceptor.html)

您可以选择以上任何选项

# java - 模型未更新时如何禁用按钮？

> ID：15941036
> 
> 赞同：0
> 
> 时间：2013-04-11T04:54:40.453
> 
> 标签：java, data-binding, swt, jface

在我的 UI 中，我有 2 个文本字段和 2 个按钮。我正在使用 jface 数据绑定来绑定文本字段，并且我正在进行验证，并且根据验证成功，模型会更新，否则它不会更新。我想要我的按钮做出相应的回应。就像我的模型没有更新，而不是我想禁用我的按钮。我不想做硬编码的另一件事。所以有没有办法在没有硬编码的情况下做到这一点。

以另一种方式，我想将一个按钮绑定到文本字段，以便当文本字段具有一些不需要的值时，应该禁用该按钮。在另一种方式中，我正在对文本字段进行数据绑定，这将在文本字段执行时注意没有正确的值，它不会更新其模型。然后我想在值不正确时禁用按钮，我可以这样做。任何指针对我都有很大帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T14:38:15.683

您可以使用以下侦听器。将监听器添加到您的`Observable`

```
 org.eclipse.core.databinding.observable.value.IValueChangeListener 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-25T04:03:42.363

经过一番研究，我发现我必须观察按钮的启用/禁用属性并将其与当前的 emf 数据绑定上下文绑定。我使用的功能的详细信息如下：

```
void bindEnablementButtonToValidationStatus(Button button, EMFDataBindingContext ctx) {

    IObservableValue buttonEnable = SWTObservables.observeEnabled(button);
    IObservableValue validationStatus = new AggregateValidationStatus(
            ctx.getValidationRealm(),
            ctx.getBindings(), 
            AggregateValidationStatus.MAX_SEVERITY);

    ctx.bindValue(buttonEnable, validationStatus, 
            new EMFUpdateValueStrategy(
                    UpdateValueStrategy.POLICY_NEVER), 
                    new EMFUpdateValueStrategy().setConverter(
                            new Converter(IStatus.class, Boolean.TYPE) {
                                public Object convert(Object fromObject) {
                                    return new Boolean(((IStatus)fromObject).isOK());
                                }
                            })); 
```

}

# asp.net - 导出到excel时对齐文本中心

> ID：15941045
> 
> 赞同：1
> 
> 时间：2013-04-11T04:56:02.530
> 
> 标签：asp.net

我正在使用以下两个函数将我的 gridview 数据导出到 excel。问题是，数据完全导出但右对齐，我需要它居中对齐，我无法弄清楚.. 任何人都可以在这方面帮助我。任何帮助将不胜感激。

```
public static void GenerateExcel(GridView gv)
        {
            HttpContext.Current.Response.Clear();
            HttpContext.Current.Response.AppendHeader("Content-disposition", "attachment; filename=Leave_Report.xls");
            HttpContext.Current.Response.ContentType = "application/ms-excel";

            using (StringWriter sw = new StringWriter())
            {
                using (HtmlTextWriter htw = new HtmlTextWriter(sw))
                {
                    //  Create a table to contain the grid
                    Table table = new Table();

                    //  include the gridline settings
                    table.GridLines = gv.GridLines;

                    //  add the header row to the table
                    if (gv.HeaderRow != null)
                    {
                        PrepareControlForExport(gv.HeaderRow);
                        table.Rows.Add(gv.HeaderRow);
                    }
                    //Make Header Coloruful

                    for (int j = 0; j < gv.Columns.Count; j++)
                    {
                        //Apply style to Individual Cells
                        gv.HeaderRow.Cells[j].Style.Add("background-color", "#4DB4EE");

                    }

                    //  add each of the data rows to the table
                    foreach (GridViewRow row in gv.Rows)
                    {
                        PrepareControlForExport(row);
                        table.Rows.Add(row);
                    }

                    //  add the footer row to the table
                    if (gv.FooterRow != null)
                    {
                        PrepareControlForExport(gv.FooterRow);
                        table.Rows.Add(gv.FooterRow);
                    }

                    //  render the table into the htmlwriter
                    table.RenderControl(htw);

                    //  render the htmlwriter into the response
                    HttpContext.Current.Response.Write(sw.ToString());
                    HttpContext.Current.Response.End();
                }
            }

        }

private static void PrepareControlForExport(Control control)
    {
        for (int i = 0; i < control.Controls.Count; i++)
        {
            Control current = control.Controls[i];
            if (current is LinkButton)
            {
                control.Controls.Remove(current);
                control.Controls.AddAt(i, new LiteralControl((current as LinkButton).Text));
            }
            else if (current is ImageButton)
            {
                control.Controls.Remove(current);
                control.Controls.AddAt(i, new LiteralControl((current as ImageButton).AlternateText));
            }
            else if (current is HyperLink)
            {
                control.Controls.Remove(current);
                control.Controls.AddAt(i, new LiteralControl((current as HyperLink).Text));
            }
            else if (current is DropDownList)
            {
                control.Controls.Remove(current);
                control.Controls.AddAt(i, new LiteralControl((current as DropDownList).SelectedItem.Text));
            }
            else if (current is CheckBox)
            {
                control.Controls.Remove(current);
                control.Controls.AddAt(i, new LiteralControl((current as CheckBox).Checked ? "True" : "False"));
            }

            if (current.HasControls())
            {
                PrepareControlForExport(current);
            }
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T05:22:21.610

尝试

```
wSheet.get_Range("B3", "B3").HorizontalAlignment = HorizontalAlign.Center; 
```

代替

```
wSheet.get_Range("B3", "B3").HorizontalAlignment = Constants.xlCenter; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-01-19T14:43:03.043

尝试这个

```
 foreach (GridViewRow row in gv.Rows)
        {
            foreach (TableCell cell in row.Cells)
            {
                cell.Attributes.CssStyle["text-align"] = "center";
            }
        } 
```

# jquery - 使用 $.getScript 获取包含 json 内容的跨域 js 文件是否很好？

> ID：15941046
> 
> 赞同：3
> 
> 时间：2013-04-11T04:56:03.343
> 
> 标签：jquery, ajax, jsonp

我是新手`JSONP`，以下是我的情况：

我`PHP`用来写一个js文件`JSON`内容供前端读取的js文件，我尝试了下面的方法并且它有效。

但是，我想问

A）是否有必要包含一个`jsoncallback()`来包装`JSON`内容`album.js`？

B) 好用吗`$.getScript()`用于跨域读取包含JSON内容的js文件是否很好？

谢谢

**1.加载js文件的代码**

```
$.getScript("http://127.0.0.1:8080/album.js")

function jsoncallback (data){
    $.each(data, function() {
        console.log($(this))
    })
} 
```

**2.album.js 内容**

```
jsoncallback([{
        "id": "23",
        "author": "roy",
        "email": "a",
        "age": "0",
        "tel": "1",
        "title": "test",
        "image_name": "Lighthouse.jpg",
        "image_type": "image\/jpeg",
        "image_size": "561276",
        "status": "1",
        "create_date": "2013-04-03 14:39:32",
        "modify_date": "2013-04-09 19:25:07"
    }, {
        "id": "22",
        "author": "roy",
        "email": "a",
        "age": "0",
        "tel": "1",
        "title": "test",
        "image_name": "Desert.jpg",
        "image_type": "image\/jpeg",
        "image_size": "845941",
        "status": "1",
        "create_date": "2013-04-03 14:39:29",
        "modify_date": "2013-04-09 19:25:02"
    }
]) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:01:23.053

甲和乙：是的。这就是 JSONP 的工作原理。

你可以这样重写它：

```
$.ajax({
    url: "http://127.0.0.1:8080/album.js",
    jsonpCallback: "jsonpcallback",
    jsonp: false,
    dataType: "jsonp"
}).done(function(data){
    console.log(data); // array of objects
}); 
```

# python - 操作视图未显示它应该显示的内容 - XML OpenErp

> ID：15941047
> 
> 赞同：0
> 
> 时间：2013-04-11T04:56:06.113
> 
> 标签：python, xml, view, module, openerp

我得到了这个观点

```
<record id="action_certificados_certificados" model="ir.actions.act_window">
    <field name="requisicion_id">Certificados</field>
    <field name="res_model">certificados.certificados</field>
    <field name="view_type">form</field>
    <field name="view_mode">tree,form</field>
    </record> 
```

它与我想要的 module.py 完美配合

```
class certificados(osv.osv):

_name = 'certificados.certificados'
_description="Certificados de No Produccion"

_columns = {
            'Registro_Numero' : fields.integer('Registro Numero'),
            'Fecha_de_Emision': fields.date('Fecha de Emision', required=True, select=True),
            'Fecha_de_Solicitud': fields.date('Fecha de Solicitud', required=True, select=True),
            'Fecha_del_Documento': fields.date('Fecha del Documento', required=True, select=True),
            'Vigencia' : fields.integer('Vigencia'), 'cert_ids' : fields.one2many('certificados.line','requisicion_id','Items del Certificado'),
            'descripcion' : fields.text('Descripcion'),
            'notas' : fields.text('Notas'),
            }

class certificados_line(osv.osv):

_name = "certificados.line"
_description="Certificados No Produccion"
_inherit = ['mail.thread', 'ir.needaction_mixin']

_columns = {
    'Item' : fields.integer('Item'),
    'Codigo_Arancelario' : fields.integer('Codigo Arancelario'),
    'product_id' : fields.many2one('product.product', 'Material'),
    'Descripcion_Arancelaria' : fields.char('Descripcion Arancelaria', size=42, required = True, translate = True), 
    'Especificaciones_Tecnicas' : fields.char('Especificaciones Tecnicas', size=60, required = True, translate = True), 
    'Cantidad' : fields.float('Cantidad'), 'Unidad_de_Medida': fields.many2one('product.uom', 'Unidad de Medida'),
    'Precio_Unitario_Declarado' : fields.float('Precio Unitario Declarado'), 'Moneda' : fields.many2one('res.currency', 'Moneda'),
    'Valor_En_Divisas' : fields.float('Valor En Divisas'),
    'requisicion_id' : fields.many2one('certificados.certificados', 'Certificados de No Produccion', ondelete='cascade'),
    'Cantidad_Consumida' : fields.float('Cantidad Consumida'), 'Cantidad_Disponible' : fields.float('Cantidad Disponible'),

}
certificados_line() 
```

但它仅在根据需要显示表单时才有效，但在树视图中不起作用，如果我将“res_model”更改为“certificados.line”，那么它会显示它在树模式下应该显示的内容，但它不会加载证书.certificados 表格，

```
 <record id="student_certificados_form" model="ir.ui.view">
        <field name="name">certificados.result.form</field>
        <field name="model">certificados.certificados</field>
        <field name="arch" type="xml">
            <form string="Introducir los datos" version="7.0">
                <sheet>
                    <div class="oe_edit_only">
                        <label for="Registro_Numero" class="oe_inline"/>
                    </div>
                    <h1>
                        <field name="Registro_Numero" class="oe_inline"/>
                    </h1>
                    <group>
                        <group>
                            <field name="Fecha_de_Emision"/>
                            <field name="Fecha_de_Solicitud"/>
                        </group>
                        <group>
                            <field name="Fecha_del_Documento"/>
                            <field name="Vigencia"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Productos">
                            <field name="cert_ids">
                                <tree string="Productos">
                                    <field name="product_id"/>
                                    <field name="Codigo_Arancelario"/>
                                    <field name="Descripcion_Arancelaria"/>
                                    <field name="Especificaciones_Tecnicas"/>
                                    <field name="Cantidad"/>
                                    <field name="Precio_Unitario_Declarado"/>
                                    <field name="Valor_En_Divisas"/>
                                    <field name="Cantidad_Consumida"/>
                                </tree>
                            </field>
                            <separator string="Observaciones"/>
                            <field name="descripcion"/>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div> 
            </form>
        </field>
    </record> 
```

所以我不知道该怎么做，我只需要树正常工作。现在它向我显示了无意义的数据。

这是我的 xml 中实际的“树”声明：

```
<record id="view_certificados_tree" model="ir.ui.view">
    <field name="name">certificados.tree</field>
    <field name="model">certificados.line</field>
    <field name="type">tree</field>
    <field name="arch" type="xml">
        <tree string="Certificados" >
            <field name="Item" />
            <field name="Codigo_Arancelario" />
            <field name="Descripcion_Arancelaria" />
            <field name="Especificaciones_Tecnicas" />
            <field name="Precio_Unitario_Declarado" />
            <field name="Valor_En_Divisas" />
            <field name="Cantidad_Consumida" />
            <field name="Cantidad_Disponible" />
        </tree>
    </field>
</record> 
```

仅当我在 certificados.line 的操作中更改 certificados.certificados 时才会正确显示，但随后它将无法在表单上正常工作。表格显示没有工作表，笔记本等......

这就是它现在在树模式下向我展示的内容：

![动作树](https://i.stack.imgur.com/9HOEH.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T05:27:52.890

**您制作了对象certificados.line**的树形视图和对象**certificados.certificados**的表单视图。

 **您必须使用此树视图更改树视图。

```
<record id="view_certificados_tree" model="ir.ui.view">
    <field name="name">certificados.tree</field>
    <field name="model">certificados.certificados</field>
    <field name="type">tree</field>
    <field name="arch" type="xml">
        <tree string="Certificados" >
            <field name="Registro_Numero" />
            <field name="Fecha_de_Emision" />
            <field name="Fecha_de_Solicitud" />
            <field name="Fecha_del_Documento" />
            <field name="Vigencia" />
            <field name="descripcion" />
        </tree>
    </field>
</record> 
```

到目前为止，您所做的是创建对象**certificados.certificados的表单视图和****certificados.line**的树视图。那么为什么这会产生问题。

如果您对对象**certificados.certificados执行****操作**，则树视图和表单视图必须属于该对象。

 **希望你能理解****

# android - 如何使用 Graphview 库制作折线图

> ID：15941055
> 
> 赞同：0
> 
> 时间：2013-04-11T04:56:41.327
> 
> 标签：android, json, graphics, linechart, android-graphview

[我想使用从http://www.jjoe64.com/p/graphview-library.html](http://www.jjoe64.com/p/graphview-library.html)获取的 Graphview 库制作折线图，我的问题是我想从 JSON 中获取数据，如下所示：

```
[
{
    "lji_invest": "Excellink Aggressive Fund",
    "persen_hke1": 0,
    "lnu_nilai": 3611.468,
    "lji_id": "03",
    "tanggal": "01/04/2013"
},
{
    "lji_invest": "Excellink Aggressive Fund",
    "persen_hke1": 0.001143302391160603,
    "persen_hmin1": 0.001143302391160603,
    "lnu_nilai": 3615.597,
    "selisih": 4.129,
    "lji_id": "03",
    "tanggal": "02/04/2013"
},
{
    "lji_invest": "Excellink Aggressive Fund",
    "persen_hke1": 0.005411926673585367,
    "persen_hmin1": 0.004263749527394784,
    "lnu_nilai": 3631.013,
    "selisih": 15.416,
    "lji_id": "03",
    "tanggal": "03/04/2013"
}] 
```

我想在折线图中显示“lnu_nilai”和“tanggal”，我试过了，但我什么也没得到。这是我的源代码：

```
public class LineChartAsyncTask extends AsyncTask <String, String, String>{

    @Override
    protected void onPreExecute (){
        super.onPreExecute();
        Dialog=new ProgressDialog(LineChart.this);
        Dialog.setMessage("Mohon Tunggu Sebentar...");
        Dialog.setIndeterminate(false);
        Dialog.setCancelable(true);
        Dialog.show();
    }

    @Override
    protected String doInBackground(String... params) {
        String url= "http://www.sinarmaslife.co.id/E-Policy/ios/NabChart.htm?id=03&nilai=7";
        try {
            JSONParser jp= new JSONParser();
            JSONArray ja= jp.takeJson(url);

            for (int i=0; i<ja.length();i++){
                JSONObject jo = ja.getJSONObject(i);
                HashMap<String, String> map = new HashMap<String, String>();

                if (jo.has("lnu_nilai")) 
                    map.put("lnu_nilai", jo.get("lnu_nilai").toString());

                if (jo.has("tanggal")) 
                    map.put("tanggal", jo.get("tanggal").toString());
                NabList.add(map);
            }
        }
        catch (JSONException e) {
                e.printStackTrace();
            }
            return null;
        }

    @Override
    protected void onPostExecute(String file_url) {
        Dialog.dismiss();
        GraphViewSeries exampleSeries = new GraphViewSeries(new GraphViewData[NabList.size()] );
        {
            for (int i=0; i<NabList.size();i++){

                HashMap MapA= new HashMap();
                MapA=(HashMap) NabList.get(i);

            }
        }
        GraphView graphView;

    graphView = new LineGraphView(
            this // context
                    , "GraphViewDemo" // heading
            );

        graphView.addSeries(exampleSeries); // data

        LinearLayout layout = (LinearLayout) findViewById(R.id.graph1);
        layout.addView(graphView);

        };  
    }
} 
```

我的应用程序被强制关闭，图表没有显示......我不知道我的错在哪里，我希望有人能帮我解决这个问题，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-09T10:58:16.237

在 android 开发中有一个名为 LogCat 的工具，您可以检查您的应用程序被强制关闭的原因。

# google-apps-script - Google 电子表格脚本拒绝表单中的条目

> ID：15941056
> 
> 赞同：0
> 
> 时间：2013-04-11T04:56:54.347
> 
> 标签：google-apps-script, google-sheets

*如果答案字段不是*= 12 ，我正在尝试在 Google 电子表格中创建一个脚本来拒绝表单提交。这是希望筛选非人工提交并减少通过 Google 表单提交的垃圾邮件。

在表单中我有一个文本字段：名称和文本字段：回答提示“5 + 7 =”

```
function myFunction(e) {
  var answer = "";

  try{
    for(var field in e.namedValues) {
       if (field == 'Answer') {  
          answer = e.namedValues[field].toString();  

         if ( Answer !== 12) {  // check to make sure input is 12

           throw "not the right answer";  // throw an exception with the error message
         }
       }  //end if 
    }//end for 

  } catch(e) {
    throw "try failed";
  } //end try
} 
```

保存此脚本后，我创建了一个触发器来运行 myFunction | 从电子表格 | 在表单提交。一旦这到位，我在现场形式上尝试了它，Bob | 13 并且条目仍然出现在电子表格中。

有什么建议为什么这不起作用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T14:17:18.217

目前无法拒绝或修改电子表格随附的标准表单的提交。您需要在提交后过滤掉不需要的数据。

修改提交的唯一方法是通过 UiApp 或 HtmlService 创建一个表单并针对它运行您的 javascript。

# ruby-on-rails - 将 Rails 应用程序部署到 AWS Elastic Beanstalk，超时

> ID：15941060
> 
> 赞同：1
> 
> 时间：2013-04-11T04:57:23.427
> 
> 标签：ruby-on-rails, amazon-web-services, amazon-elastic-beanstalk

我有一个在 localhost 上运行良好的现有应用程序。[我今天尝试通过此页面](http://ruby.awsblog.com/post/Tx2AK2MFX0QHRIO/Deploying-Ruby-Applications-to-AWS-Elastic-Beanstalk-with-Git)上的分步说明将其部署到 AWS Elastic Beanstalk

使用 git aws.push 将其部署到 AWS 后，我等待环境状态变为绿色，然后尝试访问它给我的 url。等待很长时间后出现超时错误。

我知道这真的没什么好说的，但我同样很难过。是否有某种服务器端错误日志或控制台日志（类似于我在计算机上“rails s”时看到的），以便我可以看到 AWS 环境正在写什么？我什至不确定从哪里开始调试。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-14T13:54:27.950

您的第一步是从您部署到的弹性 beantalk 环境的日志选项卡中对日志进行快照。这将为您提供最近日志活动的快照。如果您确实需要通过 ssh 连接到支持您的 Elastic Beanstalk 实例的 EC2 实例，那么如何做到这一点并不明显。您首先需要生成一个密钥对并下载 my-key.pem 之类的文件。然后通过编辑配置将该密钥与 Elastic beanstalk 应用程序相关联，并在第一个选项卡上添加 my-key（注意它只是名称，而不是实际密钥）。要 ssh 进入您的 EC2 实例，您可以使用 ssh -i /path/to/my-key.pem ec2-user@

您从 ec2 控制台获取 ec2 公共 url。希望这一切都有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T23:34:32.800

首先，您需要 ssh 进入您的服务器

[https://stackoverflow.com/a/4921866/274695](https://stackoverflow.com/a/4921866/274695)

然后，您可以在 /var/app/support/logs/ 查看您的应用程序日志（passenger.log、production.log）

# opengl - 奇怪的 GLSL 纹理坐标

> ID：15941063
> 
> 赞同：1
> 
> 时间：2013-04-11T04:57:30.507
> 
> 标签：opengl, coordinates, textures

我一直在尝试用 SOIL 做简单的纹理映射，而且我一直有奇怪的输出..

仅在加载 PNG 纹理时显示输出。(SOIL_load_OGL_texture) 其他纹理显示为灰色或白色。

顶点传递为：

```
struct Vertex {
    float position[3];
    float texturepos[2];
};

Vertex vertices[] = { // w and h are width and height of square.
    0,0,0,0,0,
    w,0,0,1,0,
    0,h,0,0,1,
    w,0,0,1,0,
    w,h,0,1,1,
    0,h,0,0,1
}; 
```

顶点着色器：

```
attribute vec2 texpos;
attribute vec3 position;
uniform mat4 transform;
varying vec2 pixel_texcoord;
void main(void) {
    gl_Position=transform * vec4(position,1.0);
    pixel_texcoord=texpos;
} 
```

片段着色器：

```
varying vec2 pixel_texcoord;
uniform sampler2D texture;
void main(void) {
    gl_FragColor=texture2D(texture,pixel_texcoord);
} 
```

所有的制服和属性**都**经过验证。

尝试渲染的纹理：

![用于渲染的图像](https://i.stack.imgur.com/D6QDP.png) （为 128x128，2 的幂。）

输出[使用普通着色器]：

![输出1](https://i.stack.imgur.com/Ae6OE.png)

但是，我认为问题完全在于我尝试调试它时发生的一些非常奇怪的事情。

我将片段着色器更改为：

```
varying vec2 pixel_texcoord;
uniform sampler2D texture;
void main(void) {
    gl_FragColor=vec4(pixel_texcoord.x,0,pixel_texcoord.y,1);
} 
```

得到了*这个*结果： ![输出2](https://i.stack.imgur.com/GOCPf.png) 纹理坐标有问题，根据着色器，Y 现在是 X，X 不再存在。谁能解释一下？

如果我的纹理坐标定位正确，那么我将开始查看另一个图像库..

[编辑] 我尝试通过原始 gimp 生成的数据加载图像，它有同样的问题。就好像纹理坐标是一维的..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T21:07:40.650

发现问题了！感谢 starmole 的建议，我再次查看了 glVertexAttribPointer 调用，它们的格式如下：

```
glVertexAttribPointer(attribute_vertex,3,GL_FLOAT,GL_FALSE,sizeof(Vertex),0);
glVertexAttribPointer(attribute_texture_coordinate,2,GL_FLOAT,GL_FALSE,sizeof(Vertex),(void*) (sizeof(GLfloat) * 2)); 
```

2 in`(void*) (sizeof(GLfloat) * 2));`应该是 3，因为有 3 个顶点坐标。

现在一切正常。

令人惊讶的是，这么小的错字怎么能把它破坏得如此之大。

# python - 使用 onkey() 和字典用 turtle(python) 绘制错误

> ID：15941070
> 
> 赞同：0
> 
> 时间：2013-04-11T04:58:36.680
> 
> 标签：python, dictionary, turtle-graphics

我决定根据收到的建议重做这个问题，这是我在大学一年级 Python 编码中得到的一个作业问题。我的代码中有错误，不知道在哪里修复它们。BUG 1 程序运行时乌龟开始绘图，即使笔已启动。BUG 2 未定义键如's, 7, tab' 触发空格键功能

图画书

在此任务中，您将创建一个儿童填色游戏，其中给定的图片可以通过围绕一个形状进行描边然后填充它来着色。控制如下。

箭头键 - 将“画笔”（乌龟光标）向左、向右、向上或向下移动固定的少量。

'z' - 撤消最后一步。

'r'、'g'、'b' - 将画笔颜色分别更改为红色、绿色或蓝色。（如果您愿意，可以定义更多颜色，但我们希望至少有这三种。）

空格键 - 切换绘画模式。在初始模式“移动”模式下，“画笔”（乌龟）在屏幕周围移动而不绘图。在“绘画”模式下，画笔在移动时会留下一条彩色线条。最重要的是，当模式从“绘画”更改为“移动”时，画笔描出的区域会被颜色填充。

```
from turtle import *
from functools import partial 
bgpic("Colour_A_Turkey.gif") # change this to change the picture

#control the accuracy/speed of the drawing 
step_size =8
pensize(4)
penup()

# whenever spacebar is pressed the current state  and next state switch values 
current_state = penup
next_state = pendown
def space_bar():
    global current_state, next_state
    next_state()
    current_state, next_state = next_state, current_state
    #if the current stat is penup fill in with current colour
    if current_state == penup:
        end_fill()
    else:
        begin_fill()
onkey(space_bar, " ")

# undo do a mistake function
def mistake():
    undo()
onkey(mistake, "z")

#using partial function to store the following functions
#so they can be called  as arguments from a dictionary
#movement
strait = partial(fd, step_size)
reverse = partial(bk, step_size)
turn_rt = partial(rt, step_size)
turn_lf = partial(lt, step_size)

#colour
brow = partial(color, "brown")
gree = partial(color, "green")
yell = partial(color, "yellow")
oran = partial(color, "orange")
purp = partial(color, "purple")
red = partial(color, "red")
blue = partial(color, "blue")

#create a dictionary to store all the keys and there abilities 
key_action = {"b" : blue, "r" : red, "p" : purp, "o" : oran,\
          "y" : yell, "g" : gree, "w" : brow, "Right" : turn_rt , "Up" : strait,\
          "Down" : reverse, "Left" : turn_lf, "z" : undo()}

#when a key in then above dictionary
#is pressed it's function  is activated
for pressed_key, activated_key in key_action.items():
    onkey(activated_key, pressed_key)  

#make turtle look for key strokes with predefined function
listen()
#finish
done() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T07:23:24.133

请记住，在 Python 中，*一切都是对象，我们的真正意思是*. 函数也是对象。我们可以将函数存储在字典中，事实上这正是您在这里想要做的。

```
turn_lf = lt(step_size ) 
```

这里的关键问题是你想存储“一个调用`lt`with`step_size`作为参数的函数”，但在这里你只是立即调用`lt`with`step_size`作为参数，并存储了返回值。

Arguably the simplest way to get what you want is to use `functools.partial` to "bind" the `step_size` argument.

```
from functools import partial
turn_lf = partial(lt, step_size) # `lt` is not called yet.

# Now, later on, we can do
turn_lf() # and it's just as if we did `lt(step_size)`.
# So now we can store `turn_lf` in a dict, look it up and call it later, etc.

# Similarly for all the other functions you want to make. 
```

(Another problem is that you haven't been consistent with this; if you want everything to go in one dict, then you need to indicate the bindings for the `color` function as well. `'brown'` is just a string, after all. Fortunately, this is just as simple as with the other functions: we just make our `partial(color, 'brown')`.

As for `"z" : delete`, well - we don't have any arguments to bind to `undo`. So while we *could* follow the pattern and write `partial(undo)` (notice, no more arguments, because we aren't binding anything), it makes much more sense to just write `undo` directly.

As an aside, we can simplify this:

```
for key in key_action:
    pressed_key = key
    activated_key = key_action[key] 
```

To this:

```
for pressed_key, activated_key in key_action.items(): 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-11T05:18:53.270

为什么要定义所有函数？我们可以直接使用： 将 dict 分解为：

```
key_action = {"b" : "blue", "r" : "red", "p" : "purple", "o" : "orange", "y" : "yellow","g" : "green", "w" : "brown","Right" : rt , "Left": lt, "Up" : fd, "Down" : bk,"z" : undo}

no_input = ["z"]

one_input = ["Right", "Left", "Up", "Down"]

for key in key_action:
    activated_key = key_action[key]
    if key in no_input:
       activated_key()
    elif key in one_input():
        activated_key(step_size)
    else:
        onkey(color(activated_key), key) 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-11T05:27:16.960

你的字典方法是正确的思维方式。但是，您的函数将无法正常运行。使用字典比你想象的要简单。首先，您必须对*STRING有单独的**FUNCTIONS*并正确处理它们。因为他们每个人的行为都会不同：

 *```
# Get rid of the top four lines, they will not work
# All actions mapping
key_action = {"b" : "blue", "r" : "red", "p" : "purple", "o" : "orange",
              "y" : "yellow", "g" : "green", "w" : "brown",
              "Right" : rt , "Left": lt, "Up" : fd, "Down" : bk,
              "z" : undo}
# Note down which are special actions
# Functions with no input
foo = ["z"]
# Function with one input
bar = ["Right", "Left", "Up", "Down"]

# Assuming the input key is get here, I don't use turtle don't know how
# the input is read
key = listen()  # PSEUDOCODE!

# Handle the input
if key in foo:
     foo[key]() # Execute no input function
elif key in bar:
     foo[key](step_size)
else:
     onkey(key_action[key], key) 
```*

# javascript - 骨干网提取过程

> ID：15941075
> 
> 赞同：0
> 
> 时间：2013-04-11T04:59:10.080
> 
> 标签：javascript, backbone.js, backbone-model

我有从服务器收集数据的主干模型：

```
Job.Models.Response = Backbone.Model.extend({
    defaults: {
    'authStatus': false,
    'id': '1',
    'name': 'name',
    },

        urlRoot: '/static/js/public/json/'
    }); 
```

我有 data-id =“来自/static/js/public/json/的id”的按钮。

```
Job.Views.Response = Backbone.View.extend({
    el: '.ra-response-button',

    events: {
        "click": "load"
    },

    load: function () {

        var info = this.$el.data();

        this.model.set({ id: info.id});
        this.model.fetch();

        if (this.model.attributes.authStatus === false) {
            console.log('Register')
        }
        else {
            console.log('Unregister')
        }
    }

}); 
```

**如果我在获取后 console.log 我的模型，它不会更新，但数据获取成功。这里会出现什么样的问题？**

这里我初始化我们的插件：

```
var responseModel = new Job.Models.Response;
var response = new Job.Views.Response({ model: responseModel }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T05:37:38.850

我解决了我的问题。最后查看。

```
 Job.Views.Response = Backbone.View.extend({
    el: '.ra-response-button',

    events: {
        "click": "load"
    },

    load: function () {
        var that = this;

        var info = that.$el.data();

        that.model.set({ id: info.id});
        that.model.fetch({
            success: function() {
                if (that.model.attributes.authStatus === true) {
                    new Job.Views.ResponseForm({ model: that.model })
                }

                else {
                    new Job.Views.ResponseAuth({ model : that.model })
                }
            },

            error: function() {
                alert('Error, repeat please.')
            }
        });
    }
}); 
```

# dns - NS转发供CMS未来思考

> ID：15941077
> 
> 赞同：0
> 
> 时间：2013-04-11T04:59:17.183
> 
> 标签：dns, forwarding, cname, a-records

我正在设计一个 CMS，我的用户希望将他们的域附加到他们构建的网站上，我可以给他们我的存储公司的 NS，但我担心如果我更换存储公司，而不是我也更改 NS，那是不可能的.

有没有办法进行 ns 转发或付费 ns 服务转发到所需的 ns，这样我就可以告诉我的用户将他们的 NS 转发到我的 NS 服务，而我的会将连接转移到当前的 NS？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-13T04:09:46.610

如果有人正在寻找答案，我通过在 linux 中设置我自己的名为“BIND”的 dns 服务器来解决这个问题，仍然对其进行配置，但它似乎解决了转发来自 ns1.domain.com 和 ns2.domain 的所有流量的问题。 com 到相同的 ip（当前主机），如果我更改存储公司，我会设置所有内容，只需更改要转发到的 ip。

# ruby - 如何确定 RSpec 将运行哪些示例

> ID：15941079
> 
> 赞同：0
> 
> 时间：2013-04-11T04:59:23.100
> 
> 标签：ruby, rspec

我想在运行任意 RSpec 测试之前执行一些代码，但前提是要测试的示例组位于特定目录中或带有特定标签。

例如，如果我有以下组：

```
## spec/file_one.rb
describe "Spec One - A group which needs the external app running", :external => true do

describe "Spec Two - A group which does not need the external app running" do

## spec/file_two.rb
describe "Spec Three - A group which does NOT need the external app running" do

## spec/always_run/file_three.rb
describe "Spec Four - A group which does need the external app running" 
```

然后我希望*只有*在测试运行包含规范一或规范四时才执行代码。

当我可以依赖文件名时，这相对容易做到，但在依赖标签时更难。如何检查将运行哪些文件示例，然后检查它们的标签？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T05:10:29.977

我只需要这样的支持设置：

```
PID_FILE = File.join(Rails.root, "tmp", "pids", "external.pid")

def read_pid
  return nil unless File.exists? PID_FILE
  File.open(PID_FILE).read.strip
end

def write_pid(pid)
  File.open(PID_FILE, "w") {|f| f.print pid }
end

def external_running?
  # Some test to see if the external app is running here
  begin
    !!Process.getpgid(read_pid)
  rescue
    false
  end
end

def start_external
  unless external_running?
    write_pid spawn("./run_server")        
    # Maybe some wait loop here for the external service to boot up
  end
end

def stop_external
  Process.kill read_pid if external_running?
end

RSpec.configure do |c|
  before(:each) do |example|
    start_external if example.metadata[:external]
  end

  after(:suite) do
    stop_external
  end
end 
```

`:external`如果外部进程尚未启动，则标记为的每个测试都会尝试启动它。因此，当您第一次运行需要它的测试时，该进程将被启动。如果没有运行带有该标记的测试，则永远不会启动该进程。然后，套件通过终止进程作为关闭进程的一部分自行清理。

这样，您不必预处理测试列表，您的测试不会相互依赖，并且您的外部应用程序会在之后自动清理。如果外部应用程序在测试套件有机会调用它之​​前正在运行，它将读取 pid 文件并使用现有实例。

与其依赖`metadata[:external]`您，不如解析示例的全名并确定它是否需要外部应用程序来进行更“神奇”的设置，但这对我来说有点臭；示例描述是针对人类的，而不是供规范套件解析的。

# ruby - 带有私人频道的 em-websocket

> ID：15941083
> 
> 赞同：1
> 
> 时间：2013-04-11T04:59:30.140
> 
> 标签：ruby, websocket, publish-subscribe, eventmachine, em-websocket

我需要创建一个 web-socket 服务器，我打算使用 em-websocket。我需要支持私人频道，也就是说我应该能够向一个特定的频道或订阅者发送消息。

有很多很好的聊天示例处于广播模式，即。他们将响应发送给所有连接的客户端，但我需要以某种方式跟踪每个连接的客户端，并分别响应每个客户端。换句话说，我需要为每个客户端一个私有通道，这样我就可以分别响应每个客户端，而不是向所有连接的客户端广播，使每个 web-socket 连接都是唯一的

任何人都可以指导我实现这一目标的正确方向，或者可能是一些例子或要点。

问候。

# c# - 将数据导出到 CSV

> ID：15941084
> 
> 赞同：0
> 
> 时间：2013-04-11T04:59:36.920
> 
> 标签：c#

我尝试制作一个 .exe 文件，该文件可以从文本文件中读取全局参数并将数据从数据库导出到 csv 文件

基本上我可以读取连接字符串并从文本文件中读取命令，但是我无法创建 csv 文件。

我的代码如下

```
static class CsvGenerator
{
public static string gb_Localconn = DBManager.GetParameter("ConnStr=");
public static string gb_Delimiter = DBManager.GetParameter("Delimiter=");
public static string gb_Quote = DBManager.GetParameter("Quote=");
public static string gb_QuoteType = DBManager.GetParameter("Quote_Type=");
public static string gb_CsvOutput = DBManager.GetParameter("Output_path=");
public static string gb_Prefix = DBManager.GetParameter("Output_Prefix=");
public static string gb_LogOutput = DBManager.GetParameter("Logfile_path=");
public static string gb_VesselList = DBManager.GetParameter("Vessel_list=");
private static DataTable dt;
private static int i;

public static void Main()
{
    StreamReader oRead = new StreamReader(AppDomain.CurrentDomain.BaseDirectory + "Query.cfg");

    string txtline = null;
    string QueryName = null;
    string query = null;
    while (oRead.Peek() != -1)

        try
        {
            txtline = oRead.ReadLine();
            if (txtline.IndexOf(":") != -1)
            {
                QueryName = txtline.Substring(0, txtline.IndexOf(":"));
                query = txtline.Substring(txtline.IndexOf(":") + 1, txtline.Length - QueryName.Length - 1);
                query = query.Replace("|Vessels|", gb_VesselList);
                MessageBox.Show(query);

                {

                    {
                        dt = DBManager.DBExecuteSelect(query, gb_Localconn);

                        DataColumn dcol = null;
                        if (dt.Rows.Count > 0)
                            MessageBox.Show(dcol.ToString());
                    }
                    DataRow drow = null;
                    for (i = 0; i <= dt.Rows.Count - 1; i++)
                        MessageBox.Show(drow.ToString());

                }
            }
        }
        catch (InvalidCastException e)
        {
            Console.WriteLine("{0} Exception caught.", e);
            {
            }

        }
}
} 
```

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T05:04:43.067

请参阅以下对我有用的代码：

```
var lines = new string[5][];

var csvFile = string.Join("\r\n", lines.Select(words =>
              string.Join(",", words.Select(word =>
                  "\"" + word.Replace("\"", "\"\"") + "\"")))));

File.WriteAllText("yourFileName.csv", csvFile); 
```

有关 c# 和 csv 导入和导出的其他详细信息，请访问以下链接：

[http://www.codeproject.com/Articles/30705/C-CSV-Import-Export](http://www.codeproject.com/Articles/30705/C-CSV-Import-Export)

希望这对您有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:57:25.220

[CSV Helper](https://github.com/JoshClose/CsvHelper/wiki)是一个很好的工具，可以用来编写 CSV 文件。

我宁愿建议您使用模型类来创建文件。

# c++ - Qt 在特定时间运行？

> ID：15941086
> 
> 赞同：0
> 
> 时间：2013-04-11T04:59:51.397
> 
> 标签：c++, qt

有没有一种简单的方法可以在 Qt 中的给定时间调用事件？还是我需要执行一些循环来检查时间？

任何关于如何做到这一点的建议将不胜感激，即使它不使用 Qt

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T05:16:30.823

[QTimer](http://qt-project.org/doc/qt-4.8/qtimer.html)会有所帮助。

像这样的东西：

```
 QTImer *timer = new QTimer(this);
    timer->setInterval(1000);
    connect(timer, SIGNAL(timeout()), this, SLOT(timerTimeout())); 
```

# iphone - 使用 Meteor 网络应用程序时如何在 iPhone 上隐藏加载动画标志

> ID：15941087
> 
> 赞同：0
> 
> 时间：2013-04-11T05:00:04.413
> 
> 标签：iphone, safari, xmlhttprequest, meteor

[这是一个与这篇文章](https://stackoverflow.com/questions/14038252/prevent-recursive-calls-of-xmlhttprequest-to-server)有点相似的问题。

使用 iPhone 浏览 Meteor Web 应用程序时，由于 sockjs 对服务器的 XHR 请求，状态栏上的加载（网络）图标一直处于动画状态。用户通常认为它仍在加载某些东西，等待另一个出现，或者可能认为它是一个非常重网络的站点，浪费电池电量。

隐藏整个状态栏可能是解决方案之一。有人知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:37:18.907

*有人知道如何解决这个问题吗？*

嗯，这实际上不应该被认为是一个问题。

您看到的加载图标是由于客户端向服务器发出的挂起请求以获取新数据。如果有新的新数据，则服务器将发送新数据，如果没有，则不响应。这不会占用太多带宽，因此可能不会使用太多电池电量。

此请求用于实现流星应用程序的反应性和实时页面更新。

而如果你想操作状态栏，这里有很多这样的[线程](https://stackoverflow.com/questions/4264072/)。

# apache - Backbone.js 可以在 apache 上运行吗？

> ID：15941091
> 
> 赞同：0
> 
> 时间：2013-04-11T05:00:52.363
> 
> 标签：apache, backbone.js

如果可能的话，关于如何在 apache 上设置它的任何好的参考资料？不推荐吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T06:40:27.417

BackboneJS 不需要任何服务器设置，它是 javascript 库，由于 javascript 不是服务器端语言，我不明白你为什么问这个……Apache 与boneJS 无关，你只需要包含你的 html 中的主干.js。有关更多信息，[请阅读文档](http://backbonejs.org)并查看[示例应用程序](http://backbonejs.org/docs/todos.html)。

# php - 将php变量传递给mysql查询时无法获得结果

> ID：15941093
> 
> 赞同：0
> 
> 时间：2013-04-11T05:01:13.647
> 
> 标签：php

我正在尝试将文件名的一部分作为参数传递给 php.ini 中的我的 sql 查询中的参数。我的文件名格式为 db_feature_T1..iOXXdrXXcAMEra_092521.txt

我想要 img_path=dressimages/T1..iOXXdrXXcAMEra_092521.jpg 的数据库中的 img_id

我的代码如下。我能够分隔文件名，但我无法从数据库中获得任何结果。

```
 <?php
    include('db.php');

    if ($handle = opendir('C:\Users\adithi.a\Desktop\db_features')) {

        while (false !== ($entry = readdir($handle))) {
            $entry=substr($entry,11,-4); //this seperates the file name db_feature_T1..iOXXdrXXcAMEra_092521.txt to T1..iOXXdrXXcAMEra_092521

            $image_path='dressimages/'.$entry.'.jpg';//I want to pass the img_path as it is saved in the database in the form of dressimages/T1..iOXXdrXXcAMEra_092521.jpg

         $result=  mysql_query("select img_id from tbl_image where img_path='$image_path'") or die("Sorry");
          echo $result;//I dont get anything as output. 
        }

    }

        closedir($handle);
    ?> 
```

我在执行上面的代码时进入了一个无限循环，所以我尝试了：

```
 $image_path='dressimages/'.$entry.'.jpg';//I want to pass the img_path as it is saved in the database in the form of dressimages/T1..iOXXdrXXcAMEra_092521.jpg

        $sql = "select img_id from tbl_image where img_path=".$image_path;
     echo $sql . '<br />';
        $result=mysql_query("$sql");

       }

            while($data=mysql_fetch_assoc($result))
                  {

                   echo $data["img_id"];
                   } 
```

现在我得到错误 mysql_fetch_assoc() 期望参数 1 是资源，在第 34 行的 C:\wamp\www\FashionBonanza\Readfile.php 中给出的布尔值

任何帮助

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T05:06:05.977

您必须首先`fetch`从结果中获取数据

```
$data=mysql_fetch_assoc($result);  // this is missing
print_r($data); // or 
echo $data["img_id"]; 
```

如果可能有多个结果，您可以循环执行

```
while($data=mysql_fetch_assoc($result))
{
print_r($data); // or 
echo $data["img_id"];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T05:24:16.490

因为您要处理的文件太多，所以我会尝试另一种方法。那就是将所有路径存储到一个数组中，进行单个查询并将 id 与路径相关联。我不确定这段代码是否有效（我还没有测试过），但我希望你能明白：

```
<?php
include('db.php');

if ($handle = opendir('C:\Users\adithi.a\Desktop\db_features')) {

//Store all paths into $image_paths array
$image_paths = array();
while (false !== ($entry = readdir($handle))) {
    $entry=substr($entry,11,-4); //this seperates the file name db_feature_T1..iOXXdrXXcAMEra_092521.txt to T1..iOXXdrXXcAMEra_092521
    if (strlen($entry) !== 0) {
    $image_paths[]='dressimages/'.$entry.'.jpg';//I want to pass the img_path as it is saved in the database in the form of dressimages/T1..iOXXdrXXcAMEra_092521}
    }
}
closedir($handle);

//Implode paths
$pathQuotesArray = array_map('apply_quotes', $image_paths); //Looks like 'filename1', 'filename2' etc
$pathQuotes = implode(',', $pathQuotesArray); 

//Do one query 
$result=  mysql_query("select img_id from tbl_image WHERE img_path IN ($pathQuotes)") or die(mysql_error());

//Associate id's with paths
while($data=mysql_fetch_assoc($result))
{
    $key[$data["img_id"]] = $data["img_path"];
}

echo $key[5]; //If img_id is 5, then it would show correct path (hopefully :-))

function apply_quotes($item)
{
    return "'" . mysql_real_escape_string($item) . "'";
}

?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T05:06:34.350

尝试这个

```
$result=  mysql_query("select img_id from tbl_image where img_path="$image_path) or die("Sorry"); 
```

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2013-04-11T05:06:53.453

只有两个想法：

```
$result=  mysql_query("select img_id from tbl_image where img_path='".$image_path."'") or die("Sorry"); 
```

也许这样做更好。否则为 SQL 查询设置一个额外的字符串变量，以便您可以跟踪执行的确切查询。

```
$sQry = "select img_id from tbl_image where img_path='".$image_path."'";
var_dump($sQry);
$result=  mysql_query($sQry) or die("Sorry"); 
```

因此，您可以检查变量是否包含正确的值。

下一点是“回声”。您不能回显结果集，请使用 mysql-fetch-array() 或 mysql_fetch_assoc() 之类的函数 - [http://php.net/manual/de/function.mysql-fetch-array.php](http://php.net/manual/de/function.mysql-fetch-array.php) - 或其他函数。

```
while ($row = mysql_fetch_assoc($result)) {
    echo $row["img_id "];
} 
```

# sql - 如何用oracle中的另一个值替换列的前两个字符

> ID：15941094
> 
> 赞同：1
> 
> 时间：2013-04-11T05:01:16.500
> 
> 标签：sql, oracle11g

我按以下方式有一张桌子。

```
TAX_ID_ID CUST_ID TAX_ID_TYP_CD TAX_ID_NO TAX_ID_DRV_UPCS_NO
1005004 2005004 ssn 100000006 100000006
1005006 2005006 ssn 100000007 100000007
1005009 2005009 ssn 100000008 100000008
1005012 2005012 ssn 100000009 100000009
1005014 2005014 ssn 100000010 100000010
1005017 2005017 ssn 100000011 100000011 
```

我想用 25 代替 10 替换 TAX_ID_NO、TAX_ID_DRV_UPCS_NO 的前两个字符。列数据类型是 varchar2。对此的更新查询是什么

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:10:40.623

我认为这将满足您的需求。

**[代替](http://www.techonthenet.com/oracle/functions/replace.php)**

**[子串](http://www.techonthenet.com/oracle/functions/substr.php)**

**[字符串连接](https://stackoverflow.com/questions/278189/what-is-the-string-concatenation-operator-in-oracle)**

```
replace(TAX_ID_NO,TAX_ID_NO,'25'||substr( TAX_ID_NO, 3,length(TAX_ID_NO)-2))
replace(TAX_ID_DRV_UPCS_NO ,TAX_ID_DRV_UPCS_NO ,'25'||substr( TAX_ID_DRV_UPCS_NO , 3,length(TAX_ID_NO)-2)) 
```

**编辑**

最后你必须`Update`在桌子上

```
UPDATE TABLE
   SET TAX_ID_NO = replace(TAX_ID_NO,TAX_ID_NO,'25'||substr( TAX_ID_NO, 3,length(TAX_ID_NO)-2)),
   SET TAX_ID_DRV_UPCS_NO = replace(TAX_ID_DRV_UPCS_NO ,TAX_ID_DRV_UPCS_NO ,'25'||substr( TAX_ID_DRV_UPCS_NO , 3,length(TAX_ID_NO)-2)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:16:44.193

请试试：

```
select 
  '25'||substr(TAX_ID_NO, 3), 
  '25'||substr(TAX_ID_DRV_UPCS_NO, 3) 
From YourTable; 
```

使用更新您的表

```
update YourTable
set TAX_ID_NO='25'||substr(TAX_ID_NO, 2),
    TAX_ID_DRV_UPCS_NO='25'||substr(TAX_ID_DRV_UPCS_NO, 2); 
```

# c# - C# 上的 Flash 相似性

> ID：15941100
> 
> 赞同：2
> 
> 时间：2013-04-11T05:02:02.263
> 
> 标签：c#, flash

我在将 Flash 游戏转换为 C# 时遇到问题。在 Flash 中，我会使用以下语法：

```
public function doMove()
{
    eaze(this).to(actionTime, {x:destX, y:destY}).onComplete(completeMove);
}
public function completeMove()
{
    dispatchEvent(new Event("checkMatch"));
    //this will run doCheckMatch on other class
} 
```

但后来我认为它应该只是运行

```
public void doMove()
{
    completeMove();
}
private void completeMove()
{
    container.doCheckMatch(this);
    //this will run doCheckMatch on other class
} 
```

我的问题是，这是否相同？如果不是，我应该在 C# 中做什么才能类似于 Flash 中的相同功能？不过还有一件事。我不需要 Flash 所具有的 C# 中的任何动画移动。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:30:10.323

不一样，因为在flash中你dispatch事件，所以`completeMove`会在完成**后** `doMove`完成。在 C# 中，您调用`completeMove()`，因此它将**在**“doMove”中完成。原因是您在 C# 中的代码是线程阻塞的，而在 actionscript 中是异步的。

# c# - 在 C# 的列表视图中从 access 数据库中获取数据

> ID：15941104
> 
> 赞同：2
> 
> 时间：2013-04-11T05:02:34.997
> 
> 标签：c#, listview

**我想在 C# 的列表视图中从 access 数据库中获取数据...**

这就是我正在使用的：

```
 private void LstVwBrandNmO_SelectedIndexChanged(object sender, EventArgs e)
    {
        string sql = "select BrandName from Inventory";
        OleDbDataAdapter da = new OleDbDataAdapter(sql, bookConn);
        DataTable dt = new DataTable();
        da.Fill(dt);
        return dt;
    } 
```

接下来做什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T05:45:10.970

获取数据表中的数据后，只需像这样分配 Listiew 的数据源属性 ListView.DataSource = dt

并使用 databind 函数将数据源绑定到列表

ListView.DataBind();

在此之前，请确保您已使用 <%#EVAL#> 定义 Itemtemplate 以绑定数据源中的值

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T06:52:30.843

如果您已经在 ListView 中定义了列和视图，您可以简单地将 ListView 设置`ItemsSource`为 DataTable：

```
listView.ItemsSource = dt.DefaultView; 
```

如果您想以编程方式执行此操作，那么这可能会有所帮助：

```
foreach (DataRow dataRow in dt.Rows) {
    ListViewItem item = new ListViewItem(dataRow[0].ToString());

    for (int i = 1; i < dt.Columns.Count; i++) {
        item.SubItems.Add(dataRow[i].ToString());
    }
    listView.Items.Add(item);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T05:48:35.960

您还可以执行循环以将数据添加到列表中，例如：

```
for (int i = 0; i < dt.Rows.Count; i++)
listBox1.Items.Add(dt.Rows[i][1]); 
```

# jsonp - jsonp语法错误意外令牌

> ID：15941106
> 
> 赞同：1
> 
> 时间：2013-04-11T05:02:44.880
> 
> 标签：jsonp

如果我使用 dataType：`json`我在响应中没有收到错误/

如果我使用 dataType:`jsonp`我收到以下错误：

> 语法错误意外令牌

这是我的jQuery代码

```
function testJsonp()
{
            $.ajax({
                            type: "POST",
                            url: "http://localhost/FT8Services/FTService.asmx/testjsonp",                                
                            data: "{firstname: '" + encodeURIComponent("Stack") + "', lastname: '" + encodeURIComponent("Overflow") + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: "jsonp",                               
                            success: function (result) {                   
                                var loginfo = eval(result.d);
                                alert(loginfo[0]);
                                if(loginfo.length > 1)
                                {
                                    alert("Sucess");    
                                }
                                else
                                {
                                    alert("no access");
                                }
                            },
                            error: function(xhr, status, error) {
                                alert(error);
                            }       
                        })
} 
```

这是我的 asp.net 网络方法

```
 <WebMethod()> _
Public Function testjsonp(ByVal firstname As String, ByVal lastname As String) As String
    Dim rdatas As New List(Of String)
    Dim fullname As String = firstname & lastname
    For i As Integer = 1 To 5
        rdatas.Add(fullname & " " & i.ToString)
    Next
    Dim js As New JavaScriptSerializer
    Dim strJSON As String = js.Serialize(rdatas.ToArray)

    Return strJSON
End Function 
```

# java - 通过Java API从远程主机访问HDFS，用户认证

> ID：15941108
> 
> 赞同：10
> 
> 时间：2013-04-11T05:02:59.627
> 
> 标签：java, security, authentication, hadoop, hdfs

我需要通过 Java API 从远程桌面使用 HDFS 集群。在写入访问之前一切正常。如果我尝试创建任何文件，我会收到访问权限异常。路径看起来不错，但异常表明我的远程桌面用户名当然不是我需要访问所需的 HDFS 目录。

问题是： - 有没有办法在 Java API 中使用“简单”身份验证来表示不同的用户名？- 您能否通过 Java API 示例对 hadoop / HDFS 中的身份验证/授权方案进行一些很好的解释？

是的，我已经知道在这种情况下使用 shell 别名可能会超载“whoami”，但我更愿意避免这样的解决方案。这里的另一个细节是我不喜欢使用一些技巧，比如通过 SSH 和脚本的管道。我想只使用 Java API 来执行所有操作。先感谢您。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-04-11T06:54:05.400

经过一番研究，我得出了以下解决方案：

*   我实际上并不需要完整的 Kerberos 解决方案，目前客户端可以运行来自任何用户的 HDFS 请求就足够了。环境本身被认为是安全的。
*   这给了我基于 hadoop UserGroupInformation 类的解决方案。将来我可以扩展它以支持 Kerberos。

示例代码可能对“假身份验证”和远程 HDFS 访问的人有用：

```
package org.myorg;

import java.security.PrivilegedExceptionAction;

import org.apache.hadoop.conf.*;
import org.apache.hadoop.security.UserGroupInformation;
import org.apache.hadoop.fs.Path;
import org.apache.hadoop.fs.FileSystem;
import org.apache.hadoop.fs.FileStatus;

public class HdfsTest {

    public static void main(String args[]) {

        try {
            UserGroupInformation ugi
                = UserGroupInformation.createRemoteUser("hbase");

            ugi.doAs(new PrivilegedExceptionAction<Void>() {

                public Void run() throws Exception {

                    Configuration conf = new Configuration();
                    conf.set("fs.defaultFS", "hdfs://1.2.3.4:8020/user/hbase");
                    conf.set("hadoop.job.ugi", "hbase");

                    FileSystem fs = FileSystem.get(conf);

                    fs.createNewFile(new Path("/user/hbase/test"));

                    FileStatus[] status = fs.listStatus(new Path("/user/hbase"));
                    for(int i=0;i<status.length;i++){
                        System.out.println(status[i].getPath());
                    }
                    return null;
                }
            });
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
} 
```

对有类似问题的人有用的参考：

*   Cloudera 博客文章“ [Hadoop 中的授权和身份验证](http://blog.cloudera.com/blog/2012/03/authorization-and-authentication-in-hadoop/)”。简短，专注于对 hadoop 安全方法的简单解释。没有特定于 Java API 解决方案的信息，但有助于基本了解问题。

更新：
对于那些使用命令行`hdfs`或`hadoop`实用程序而不需要本地用户的人的替代方案：

```
 HADOOP_USER_NAME=hdfs hdfs fs -put /root/MyHadoop/file1.txt / 
```

您实际上所做的是根据您的本地权限读取本地文件，但是在将文件放在 HDFS 上时，您会像 user 一样进行身份验证`hdfs`。

这与所示的 API 代码具有非常相似的属性：

1.  你不需要`sudo`。
2.  您实际上不需要适当的本地用户“hdfs”。
3.  由于前面的几点，您不需要复制任何内容或更改权限。

# payment-gateway - CCAvenue 中的重定向 URL

> ID：15941109
> 
> 赞同：3
> 
> 时间：2013-04-11T05:03:14.047
> 
> 标签：payment-gateway, prestashop, ccavenue

我正在为我的 prestashop 网站设置 CCAvenue。信用卡交易成功后，返回网站时，购物车商品未清除，订单也未更新。我认为问题出在商家帐户设置中的退货 URL 上。ccavenue 设置页面中的返回 URL 应该是什么？谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-20T03:39:28.773

重新生成密钥后，我的问题已解决。并且返回页面 URL 是`http://myshop/modules/ccavenue/validation.php`.

# html - 表格旁边的浮动图像，宽度为 100%

> ID：15941110
> 
> 赞同：2
> 
> 时间：2013-04-11T05:03:35.713
> 
> 标签：html, css, layout

[我的问题与这个问题](https://stackoverflow.com/questions/7897145/positiong-a-table-next-to-a-floating-image)中的问题类似，一年多没有活动。我有一个未知宽度的表格，显示在已知大小的图像旁边。容器的宽度未知。我希望图像向右浮动，并且表格共享一行，扩展以填充剩余空间。我想在*没有*嵌套表的情况下执行此操作（因为 eew）。我认为它应该很简单：

```
<img src="img.jpg" style="float:right" />
<table style="width:100%">
    ...
</table> 
```

...但事实并非如此。这是一个*接近*我想要的小提琴，只是缺少表格宽度：http: [//jsfiddle.net/K2fpA/](http://jsfiddle.net/K2fpA/)

如果可能的话，我想把 CSS3 排除在外。如果绝对必要，我可以做一个嵌套表，但我想先确保我没有遗漏任何东西。有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T08:14:25.543

步骤 1\. 添加相对于包含 div 的样式位置。步骤 2\. 位置：绝对图像

```
.container img {
position:absolute;
right:0;
top:0;
}
.container .table-div {
position:relative; 
padding-right:'images-width';
}

<div class="container">
  <div class="table-div"> 
    <table style="width:100%;" >
    </table>
  </div>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:10:00.073

尝试将图像放在表格之前并浮动图像和表格，对。

```
<div style="float:left;"> <table style="width:100%;" >
...
</table>
<div/>
<div style="float:left;"> <img src="img.jpg" /></div> 
```

**已编辑**

# java - viewpager 完成后调用活动

> ID：15941111
> 
> 赞同：8
> 
> 时间：2013-04-11T05:03:50.187
> 
> 标签：java, android, android-layout, android-viewpager, swipe

我正在开发一个应用程序，我必须在其中使用 viewpager，并且在 viewpager 中的所有项目完成后，我必须调用一个活动。我无法为此获取事件侦听器。这也是我一直在参考的内容： [https ://github.com/chiuki/android-swipe-image-viewer/blob/master/src/com/sqisland/android/swipe_image_viewer/MainActivity.java](https://github.com/chiuki/android-swipe-image-viewer/blob/master/src/com/sqisland/android/swipe_image_viewer/MainActivity.java)

这是我到目前为止所做的：

```
public class MainActivity extends Activity {
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    ViewPager viewPager = (ViewPager) findViewById(R.id.view_pager);
    ImagePagerAdapter adapter = new ImagePagerAdapter();
    viewPager.setAdapter(adapter);

    OnPageChangeListener mListener = new OnPageChangeListener() {

        @Override
        public void onPageSelected(int arg0) {
            // TODO Auto-generated method stub

        }

        @Override
        public void onPageScrolled(int arg0, float arg1, int arg2) {

        }

        @Override
        public void onPageScrollStateChanged(int arg0) {
            Log.i("Doing something here", "On Scroll state changed");
        }
    };
    viewPager.setOnPageChangeListener(mListener);

}

private class ImagePagerAdapter extends PagerAdapter {
    private int[] mImages = new int[] { R.drawable.libin1,
            R.drawable.libin2 };

    @Override
    public int getCount() {
        return mImages.length;

    }

    @Override
    public boolean isViewFromObject(View view, Object object) {
        return view == ((ImageView) object);
    }

    @Override
    public Object instantiateItem(ViewGroup container, int position) {
        Context context = MainActivity.this;
        ImageView imageView = new ImageView(context);
        int padding = context.getResources().getDimensionPixelSize(
                R.dimen.padding_medium);
        imageView.setPadding(padding, padding, padding, padding);
        imageView.setScaleType(ImageView.ScaleType.CENTER_INSIDE);
        imageView.setImageResource(mImages[position]);
        ((ViewPager) container).addView(imageView, 0);
        return imageView;
    }

    @Override
    public void destroyItem(ViewGroup container, int position, Object object) {
        ((ViewPager) container).removeView((ImageView) object);
    }
}
} 
```

我的问题是如果 viewpager 中的所有项目都已完成，如何获取事件侦听器。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-04-11T05:20:39.913

```
private OnPageChangeListener mListener = new OnPageChangeListener() {

    @Override
    public void onPageSelected(int arg0) {
        // TODO Auto-generated method stub
        selectedIndex = arg0;

    }
    boolean callHappened;
    @Override
    public void onPageScrolled(int arg0, float arg1, int arg2) {
        // TODO Auto-generated method stub
        if( mPageEnd && arg0 == selectedIndex && !callHappened)
        {
            Log.d(getClass().getName(), "Okay");
            mPageEnd = false;//To avoid multiple calls. 
            callHappened = true;
        }else
        {
            mPageEnd = false;
        }
    }

    @Override
    public void onPageScrollStateChanged(int arg0) {
        // TODO Auto-generated method stub
        if(selectedIndex == adapter.getCount() - 1)
        {
            mPageEnd = true;
        }
    }
};
ViewPager.setOnPageChangeListener(mListener); 
```

`onPageScrolled`或者`onPageSelected`您可以在此处使用的任何这些，并检查所选页面是否等于`ViewPager`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-10-31T18:36:20.543

这三个回调的工作方式如下：

*   onPageScrollStateChanged 使用状态 ViewPager.SCROLL_STATE_DRAGGING 调用
*   onPageScrolled 会被多次调用，其参数 positionOffset 和 positionOffsetPixels 不断增加
*   onPageScrolled 的参数 positionOffset 大于 0.5，onPageScrollStateChanged 调用状态为 SCROLL_STATE_SETTLING
*   onPageSelected 以下一页索引为位置调用
*   onPageScrolled 会被多次调用，其参数 positionOffset 和 positionOffsetPixels 不断增加
*   onPageScrolled 的参数 positionOffset 为 1，调用 onPageScrollStateChanged 状态为 SCROLL_STATE_IDLE

逻辑不应该放在 onPageSelected 和 onPageScrollStateChanged 中，因为有了它们你只知道状态发生了变化。只有在 onPageScrolled 才能获得方向。所以我的实现是这样的：

```
 private int selectedPageIndex = -1;
        private boolean exitWhenScrollNextPage = false;

        @Override
        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {
            if (exitWhenScrollNextPage && position == PAGE_COUNT - 1) {
                exitWhenScrollNextPage = false; // avoid call more times
                AndroidLog.error("-------- YEAH!");
            }
        }

        @Override
        public void onPageSelected(int position) {
            selectedPageIndex = position;
        }

        @Override
        public void onPageScrollStateChanged(int state) {
            if (state == SCROLL_STATE_IDLE) {
                exitWhenScrollNextPage = selectedPageIndex == PAGE_COUNT - 1;
            }

        } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-06-26T19:24:20.510

感谢三极管的出色回答。

我使用了您为我的项目发布的代码。就我而言，如果用户在最后一个片段上向右滑动，我将完成活动。它运行良好，但是当您向左滑动而不是向右滑动时，它仍在完成活动。

我对您的代码进行了更改并`adapter.getCount() - 1`替换了`selectedIndex`. 在这种情况下，如果用户向左滑动，它将不会完成活动。

```
if( mPageEnd && arg0 == adapter.getCount()-1 && !callHappened){
    Log.d(getClass().getName(), "Okay");
    mPageEnd = false;//To avoid multiple calls. 
    callHappened = true;
}else{
    mPageEnd = false;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-12-12T04:14:23.677

建议的答案比我想象的要复杂。所以我创建了一个简单的答案。

我在 ViewPager 类中使用了 OnPageChangeListener。这里我们有 3 种方法。void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) void onPageSelected(int position); 无效 onPageScrollStateChanged(int state);

重要的是要知道 onPageScrollStateChanged() 中的状态是什么以及它们的执行顺序。有 3 个状态，即 SCROLL_STATE_IDLE、SCROLL_STATE_DRAGGING 和 SCROLL_STATE_SETTLING。

这是执行顺序。Scroll_state_dragging --> Scroll_state_settling --> onPageSelected() --> Scroll_state_idle

这个想法是在 onPageSelected() 中保留一个标志来记录当前页码。然后，如果用户在最后一页向左滑动 scroll_state_dragging 调用并启动下一个视图。

```
private int pagePosition; // keep a class variable
private int[] layouts= new int[]{
    R.layout.welcome_slide1,
    R.layout.welcome_slide2,
    R.layout.welcome_slide3}; 

ViewPager.OnPageChangeListener viewPagerPageChangeListener = new ViewPager.OnPageChangeListener() {
@Override    
public void onPageSelected(int position) {
    addBottomDots(position);
    pagePosition = position;
}

@Override 
public void onPageScrolled(int position, float positionOffset, int arg2) {
}

@Override  
public void onPageScrollStateChanged(int state) {
    if (state == ViewPager.SCROLL_STATE_DRAGGING) {
        if (pagePosition == layouts.length - 1) {
            launchHomeScreen();
        }
    }
}
};

private void launchHomeScreen() {
startActivity(new Intent(IntroductionActivity.this, MainDockerActivity.class));
finish();
} 
```

我在[这里创建了一个完整的示例。](http://lookintoandroid.blogspot.com/2017/12/android-viewpager-detect-swipe-beyond.html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-11-02T13:25:47.173

当您在最后一页并滑动完成活动时，状态 SCROLL_STATE_SETTLING 被跳过，寻呼机直接进入 SCROLL_STATE_IDLE

```
private val viewPagerPageChangeListener = object  : ViewPager.OnPageChangeListener{

    var blnPageTriesToSettle = false

    override fun onPageScrollStateChanged(state: Int) {
        when(state){
            SCROLL_STATE_IDLE ->{
                if (!blnPageTriesToSettle){

                    println("You are at the last page and you slide to finish")
                    finish()

                }
            }
            SCROLL_STATE_DRAGGING ->{  blnPageTriesToSettle = false }
            SCROLL_STATE_SETTLING ->{  blnPageTriesToSettle = true }
        }
    }

    override fun onPageScrolled(position: Int, positionOffset: Float, positionOffsetPixels: Int) {
    }

    override fun onPageSelected(position: Int) {
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-10-05T19:05:29.447

```
@Override
public void onPageScrolled(int pageScrolledOn, float positionOffset, int positionOffsetPixels) {

            if(positionOffset == 0F){
                // meaning you cannot scroll further in current scroll direction

                int lastPage = viewPagerAdapter.getCount - 1;
                if (pageScrolledOn == lastPage){

                    //scroll on last page has occured
                    scrolledOnLastPage = true;
                }
            }

        } 
```

# sql - 查找不同匹配记录的最快方法

> ID：15941114
> 
> 赞同：3
> 
> 时间：2013-04-11T05:04:10.457
> 
> 标签：sql, sql-server, oracle, rdbms

我有两个表 A 和 B。两者都具有相同的结构。我们找到这两者之间的匹配记录。这是脚本

```
CREATE TABLE HRS.A
(
F_1 NUMBER(5,0),
F_2 NUMBER(5,0),
F_3 NUMBER(5,0)
);

CREATE TABLE HRS.B
(
F_1 NUMBER(5,0),
F_2 NUMBER(5,0),
F_3 NUMBER(5,0)
);

INSERT INTO hrs.a VALUES (1,1000,2000);
INSERT INTO hrs.a VALUES (2,1100,8000);
INSERT INTO hrs.a VALUES (3,4000,3000);
INSERT INTO hrs.a VALUES (4,2000,5000);
INSERT INTO hrs.a VALUES (5,5000,3000);
INSERT INTO hrs.a VALUES (6,6000,6000);
INSERT INTO hrs.a VALUES (7,3000,7000);
INSERT INTO hrs.a VALUES (8,1100,9000);

INSERT INTO hrs.b VALUES (1,4000,2000);
INSERT INTO hrs.b VALUES (2,6000,8000);
INSERT INTO hrs.b VALUES (3,1000,3000);
INSERT INTO hrs.b VALUES (4,2000,5000);
INSERT INTO hrs.b VALUES (5,8000,3000);
INSERT INTO hrs.b VALUES (6,1100,6000);
INSERT INTO hrs.b VALUES (7,5000,7000);
INSERT INTO hrs.b VALUES (8,1000,9000); 
```

查找匹配记录

```
SELECT a.F_1 A_F1, b.F_1 B_F1 FROM HRS.A, HRS.B WHERE A.F_2 = B.F_2 
```

结果

```
A_F1 B_F1
3   1
6   2
1   3
4   4
8   6
2   6
5   7
1   8 
```

现在我想分别删除两列中的重复条目，例如 1 在 A_F1 中重复（不考虑 B_F1），因此将删除第 3（1-3）行和第 8（1-8）行。现在 6 在 B_F1 中重复（与 A_F1 无关），因此将删除第 5(8-6) 行和第 6(2-6) 行。最终结果应该是

```
A_F1 B_F1
3   1
6   2
4   4
5   7 
```

**现在最重要的部分**，这两个表**每个包含 500,000 条记录**。我首先找到这些匹配记录并将其插入到临时表中，然后从第一列中删除重复项，然后从第二列中删除，然后从临时表中选择所有记录。这太慢了。我怎样才能尽可能快地做到这一点？

**编辑＃1**

我多次执行以下语句以在每个表中生成 4096 条记录

```
INSERT INTO hrs.a SELECT F_1 + 1, F_2 + 1, 0 FROM hrs.a;
INSERT INTO hrs.b SELECT F_1 + 1, F_2 + 1, 0 FROM hrs.b; 
```

现在我执行了所有答案并找到了这些

```
Rachcha     9.11 secs   OK
techdo      1.14 secs   OK
Gentlezerg  577  msecs  WRONG RESULTS
Justin      218  msecs  OK 
```

甚至@Justin 也花费了 37.69 秒来记录 65,536 条记录（总计 = 131,072）

等待更优化的答案，因为实际记录数为 1,000,000 :)

这是基于贾斯汀回答的查询的执行计划

![在此处输入图像描述](https://i.stack.imgur.com/H6vao.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T05:36:55.270

请试试：

```
select A_F1, B_F1 From(
  SELECT a.F_1 A_F1, b.F_1 B_F1, 
    count(*) over (partition by a.F_1 order by a.F_1) C1,
    count(*) over (partition by b.F_1 order by b.F_1) C2
  FROM HRS.A A, HRS.B B WHERE A.F_2 = B.F_2
)x 
where C1=1 and C2=1; 
```

一个`INNER JOIN`代替怎么样？请检查此查询。

```
select A_F1, B_F1 From(
  SELECT a.F_1 A_F1, b.F_1 B_F1, 
    count(*) over (partition by a.F_1 order by a.F_1) C1,
    count(*) over (partition by b.F_1 order by b.F_1) C2
  FROM HRS.A A INNER JOIN HRS.B B ON A.F_2 = B.F_2
)x 
where C1=1 and C2=1; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T05:39:45.967

我有答案。

在这里看到这个**[小提琴](http://www.sqlfiddle.com/#!4/dedbb/8)**。

我使用了以下代码：

```
WITH x AS (SELECT a.f_1 AS a_f_1, b.f_1 AS b_f_1
             FROM a JOIN b ON a.f_2 = b.f_2)
SELECT *
  FROM x x1
 WHERE NOT EXISTS (SELECT 1
                     FROM x x2
                    WHERE (x2.a_f_1 = x1.a_f_1
                           AND x2.b_f_1 != x1.b_f_1)
                       OR (x2.a_f_1 != x1.a_f_1
                           AND x2.b_f_1 = x1.b_f_1)
                  )
; 
```

**编辑**

[我曾经在SQL fiddle](http://www.sqlfiddle.com/#!4/dedbb/8)上跟踪在 14 毫秒内运行的代码。我删除了公用表表达式并观察到查询性能有所提高。

```
SELECT a1.f_1 AS a_f1, b1.f_1 AS b_f1
  FROM a a1 JOIN b b1 ON a1.f_2 = b1.f_2
 WHERE NOT EXISTS (SELECT 1
                     FROM a a2 JOIN b b2 ON a2.f_2 = b2.f_2
                    WHERE (a2.f_1 = a1.f_1
                           AND b2.f_1 != b1.f_1)
                       OR (a2.f_1 != a1.f_1
                           AND b2.f_1 = b1.f_1))
; 
```

**输出：**

```
A_F_1   B_F_1
3           1
6           2
4           4
5           7 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T05:49:36.257

询问：

**[SQLFIDDLE示例](http://www.sqlfiddle.com/#!4/dedbb/10)**

```
SELECT a.f_1 AS a_f_1, 
       b.f_1 AS b_f_1
FROM a JOIN b ON a.f_2 = b.f_2
WHERE 1 = (SELECT COUNT(*)
           FROM a aa JOIN b bb ON aa.f_2 = bb.f_2
           WHERE aa.f_1 = a.f_1 )
AND 1 = (SELECT COUNT(*)
           FROM a aa JOIN b bb ON aa.f_2 = bb.f_2
           WHERE bb.f_1 = b.f_1 ) 
```

结果：

```
| A_F_1 | B_F_1 |
-----------------
|     3 |     1 |
|     6 |     2 |
|     4 |     4 |
|     5 |     7 | 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-11T06:06:23.463

根据@techdo 的回答，我认为这可能会更好：

```
select A_F1, B_F1 From(
  SELECT a.F_1 A_F1, b.F_1 B_F1,a.F_2,
    count(*) OVER(PARTITION BY A.F_2) C
  FROM HRS.A A, HRS.B B WHERE A.F_2 = B.F_2
)x 
where C=1 ; 
```

多行的存在是由于相同的f_2。这个SQL只有一个计数..over，所以你说你有大量数据，我认为这会快一点。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-26T15:15:13.323

这些解决方案中的每一个都需要时间，最好的一个（贾斯汀）花了将近 45 分钟，甚至没有返回 200 万条记录。我最终在临时表中插入匹配记录，然后删除重复项，我发现它比使用此数据集的这些解决方案快得多。

# ruby - 安装 RVM 时出现配置错误

> ID：15941115
> 
> 赞同：2
> 
> 时间：2013-04-11T05:04:23.473
> 
> 标签：ruby, macos, rvm

我在安装 RVM 时遇到错误，我已经用 brew 安装了 Ruby 2.0.0，现在我正在尝试在[http://www.rvm.io上运行 RVM 命令](http://www.rvm.io)

```
Error running './configure --prefix=/Users/name/.rvm/rubies/ruby-2.0.0-p0 --with-opt-dir=/usr/local/opt/libyaml:/usr/local/opt/readline:/usr/local/opt/libxml2:/usr/local/opt/libxslt:/usr/local/opt/libksba:/usr/local/opt/openssl:/usr/local/opt/sqlite --disable-install-doc --without-tcl --without-tk --enable-shared',
please read /Users/name/.rvm/log/ruby-2.0.0-p0/configure.log
There has been an error while running configure. Halting the installation. 
```

这就是我的日志的样子

```
[2013-04-10 21:50:21] ./configure
configure: WARNING: unrecognized options: --without-tcl, --without-tk
checking build system type... i386-apple-darwin12.3.0
checking host system type... i386-apple-darwin12.3.0
checking target system type... i386-apple-darwin12.3.0
checking for gcc-4.2... no
checking for clang... no
checking for gcc... no
checking for cc... no
checking for gcc... no
checking for cc... no
checking for cl.exe... no
configure: error: in `/Users/name/.rvm/src/ruby-2.0.0-p0':
configure: error: no acceptable C compiler found in $PATH
See `config.log' for more details 
```

我也安装了 Xcode。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-11T05:07:42.527

你有安装 Xcode 吗？然后，您必须进入其首选项窗口以安装命令行工具。看看[这个问题](https://stackoverflow.com/questions/9323612/xcode-configure-error-no-acceptable-c-compiler-found-in-path)。

# java - 用于监控音频的java生产者消费者线程

> ID：15941120
> 
> 赞同：0
> 
> 时间：2013-04-11T05:04:55.747
> 
> 标签：java, multithreading, concurrency, synchronous

我正在用 Java 制作一个 DAW，实际上它比这更基本，我以我曾经拥有的一台旧的 Tascam 4-Track 录音机为模型。我试图在录制时监控音频，同时尽可能减少两者之间的延迟（延迟）。如果我在同一个线程中写入音频字节，我正在读取它们会有大量的延迟（如果你想查看我拥有的代码，我会发布它，但它似乎无关紧要，因为我认为它需要重写） . 我一直在考虑做的是使用生产者、消费者线程和队列来存储它们之间的字节块。所以我的生产者线程会从`TargetDataLine`并将它们存储在队列中，可能使用返回读取的字节数的方法，以便我可以在我的 while 循环中检查 EOF。并创建一个并发线程，该线程获取存储在队列中的字节块（当它们是要写入的字节时）并将它们写入`SourceDataLine`. 我的想法是同时运行的两个线程将能够几乎在读取字节的同时写入字节，或者至少比我现在的更好，但我想知道其他人是如何解决这个问题的。

此外，如果队列中没有字节，我还需要确保我的消费者线程等待，并在添加字节以再次开始写入字节时收到通知，如果有人会发布一个同步两个线程的正确方法的示例，我会欣赏它。我知道它们必须在同步代码块中，我应该使用多个锁吗？我不是要一个特定于音频的示例，只是一个将某些内容添加到集合然后将其删除的一般示例，感谢您提供任何帮助。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:24:04.760

在“经典”java 中，您可以（并且可能应该）为生产者-消费者实现使用单个锁对象。就像是

```
public final static Object LOCK = new Object(); 
```

然后在您的 producer() 方法中，您将拥有如下代码：

```
synchronized(LOCK) {
   //place stuff in queue
   LOCK.notifyAll(); //wake up any sleepers
} 
```

在您的 consume() 方法中，您将拥有另一面：

```
synchronized(LOCK) {
   if (anything in queue) {
      return something
   }
   //queue is empty - wait
   while (nothing in queue) { //while bit is important - we might wakeup for no reason or someone else might grab everything leaving us with nothing
      try {
         Lock.wait();
      } catch (InterruptedException ex) {
         //99% of java code ignores these spurious wakeups, and they also hardly ever really happen
      }
   }
} 
```

但这是老派。更现代的 java 版本具有为您整齐地包装所有这些低级巫术的类。例如[ArrayBlockingQueue](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ArrayBlockingQueue.html)。您可以只定义一个“全局”静态队列，然后分别为您的 producer() 和 consume() 实现使用 offer() 和 take()。

但是，如果您真的关心延迟，我会加倍努力并使用专门为低延迟线程间通信编写的库。这种库的一个很好的例子是[破坏](http://lmax-exchange.github.io/disruptor/)器，它声称比 ArrayBlockingQueue 有更好的延迟。

# css - 居中模态，或定位时的 div

> ID：15941121
> 
> 赞同：0
> 
> 时间：2013-04-11T05:04:56.977
> 
> 标签：css, popup, modal-dialog

看到这个[Fiddle](http://jsfiddle.net/juanpastas/bBvCK/3)，如何在父子节点中没有固定宽度和高度的蓝色 div 居中？

这是张贴在 SO

```
<div class="parent">
<div class="child">
</div>
</div> 
```

# 更新

这些是定位元素，我希望孩子位于屏幕的中心。

# 更新 2

看到它[在这里](http://jsfiddle.net/juanpastas/bBvCK/6/)居中，但我不能在父母和孩子中使用固定的宽度或高度。我需要定位元素，因为我需要它们在其他元素之上。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-11T05:11:38.093

要使 div 居中，您只需添加此属性：

```
margin-left: auto;
margin-right: auto; 
```

或更精简的版本（假设顶部和底部边距为 0px）：

```
margin: 0px auto; 
```

这假设您在要居中的那个元素上有某种宽度值，无论是固定的还是百分比。您不需要父母中的任何东西来决定孩子的边距。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T05:14:17.597

> 边距顶部：-50%；/* 为什么这需要父级的宽度？？？？*/

这是因为您的父 div 具有`position: fixed`并且您的子 div 具有`position: absolute`并且因为绝对位置元素相对于第一个具有非静态位置的父元素定位。

因此，您的子 div 将采用顶部边距和左侧边距，其值等于`-50%`您的父宽度，即`-50% * 150 = 75px`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T05:11:50.917

试试这个，它显示在宽度的中心。

```
<div class="parent">
<div class="child">
</div>
</div>
<style type="text/css">
.parent{
}
.child{
    background: none repeat scroll 0 0 lightblue;
    height: 50px;
    margin: 0 auto;
    width: 150px;
}
</style> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-11T15:47:26.753

动态模态可能是世界上最大的痛苦。您需要 JS 来更改高度和宽度。可以用插件吗？如果是这样，这里有一些不错的选择。Twitter bootstrap 有一个非常容易设置的模式，但是通过 ajax 和 iframe 加载 div 具有挑战性。你必须选择其中之一。simplemodal ( [http://www.ericmmartin.com/projects/simplemodal/](http://www.ericmmartin.com/projects/simplemodal/) ) 很好，但您仍然需要自己做很多工作。它适用于 iframe 和 ajax 内容。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-11T15:23:25.470

我认为这可以解决您的问题，但这需要[JQuery[.width()]](http://api.jquery.com/width/)。

```
.parent{
    position: fixed;    
    /* I can't use static width nor height, TO DELETE(try changing this)*/
    width: 500px;
    height: 400px;
    background: red;    
}

.child{
    display: inline-block;
    position: absolute; 
    /*Simulate width and height, these are actually calculated by content*/
    width: 100px;
    height:50px;
    background: lightblue;   
} 
```

jQuery onLoad：[ **[JSFiddle](http://jsfiddle.net/praveen_jegan/bBvCK/11/)** ]

```
$(function changePostion() {
    var s = $(".parent").width(); 
    var e = $(".child").width();   
    var d= (s-e)/2;
    $(".child").css({"left":d}); 
    var sh = $(".parent").height(); 
    var eh = $(".child").height(); 
    var dh= (sh-eh)/2;
    $(".child").css({"top":dh});    
}); 
```

本文是在中心定位 html 属性的最佳教程[**。**](http://designshack.net/articles/css/how-to-center-anything-with-css/)不使用 JQuery 可能有更好的方法。

# sql-server - 如何通过 powershell 获取 SQL 可用性组的主副本信息

> ID：15941123
> 
> 赞同：3
> 
> 时间：2013-04-11T05:05:15.343
> 
> 标签：sql-server, sql-server-2008, powershell

我想在 Powershell 中获取当前主副本的机器。有 cmdlet 可以做到吗？

我加载 sqlps 模块并转储 find all *sql*命令，但似乎没有人与此相关..

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T09:08:48.857

我认为这应该有效：

```
$null = [Reflection.Assembly]::LoadWithPartialName("Microsoft.SqlServer.Smo");

$svr = New-Object Microsoft.SqlServer.Management.Smo.Server("AServerInstanceInYourAG");

$svr.AvailabilityGroups["YourAvailabilityGroup"].PrimaryReplicaServerName; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-11-06T14:54:49.513

也可以通过连接监听器来获取Primary Replica

```
$null = [Reflection.Assembly]::LoadWithPartialName("Microsoft.SqlServer.Smo");

$listenerName = "YourListenerName";

$sqlListener = New-Object Microsoft.SqlServer.Management.Smo.Server($listenerName);

$primaryReplicaName = $sqlListener.AvailabilityGroups.PrimaryReplicaServerName; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-09-17T18:54:37.013

我使用集群资源名称中的所有者名称属性：

```
get-clusterresource -name $AGName |  Select -ExpandProperty OwnerNode 
```

下面是我用来将 SQL 代理从一个节点复制到另一个节点的示例：

```
$Node1 = 'Node1\Instance1'
$Node2 = 'Node2\Instance2'
$AGName = "AG_Name"

$AGPrimary = get-clusterresource -name $AGName |  Select -ExpandProperty OwnerNode  
If ($AGPrimary -eq $env:COMPUTERNAME)
{
Copy-DbaAgentJob -source $Node1 -destination $Node2  
write-host 'Success!'
}
else
{
    Write-Output "No object copying is processed, this is not the primary node."
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-07-07T22:23:33.530

虽然这是一个老问题，但近 3 年后它仍然有用

今天，回答这个问题要容易得多

```
import-module sqlserver;
$svr = "svr_name" # this can be any server involved in Availability Group
$AGPath = "sqlserver:\SQL\$svr\default\AvailabilityGroups";
dir -path $AGPath | select-object Name, PrimaryReplicaServerName; 
```

这将返回 AG 名称和主副本服务器名称

# java - 如何将 JMS_IBM_MQMD_Format: MQHRF2 更改为 JMS_IBM_MQMD_Format: MQSTR？

> ID：15941127
> 
> 赞同：0
> 
> 时间：2013-04-11T05:05:35.490
> 
> 标签：java, jms, ibm-mq

我如何将**JMS_IBM_MQMD_Format: MQHRF2**更改为**在 WebsphereMQ 消息**JMS_IBM_MQMD_Format: MQSTR ？****

 **我需要 JMS_IBM_MQMD_Format：MQSTR

我得到如下输出：

```
JMSMessage class: jms_text
  JMSType:          null
  JMSDeliveryMode:  2
  JMSExpiration:    0
  JMSPriority:      4
  JMSMessageID:     ID:010203040506070801020304050607080102030405060708
  JMSTimestamp:     1365655482749
  JMSCorrelationID: null
  JMSDestination:   queue:///MYQUEUE?mdMessageContext=1&mdWriteEnabled=true
  JMSReplyTo:       null
  JMSRedelivered:   false
    JMSXAppID: WebSphere MQ Client for Java
    JMSXDeliveryCount: 1
    JMSXUserID:             
    JMS_IBM_Character_Set: UTF-8
    JMS_IBM_Encoding: 273
    JMS_IBM_Format: MQSTR   
    JMS_IBM_MQMD_AccountingToken: 0000000000000000000000000000000000000000000000000000000000000000
    JMS_IBM_MQMD_ApplIdentityData:                                 
    JMS_IBM_MQMD_ApplOriginData:     
    JMS_IBM_MQMD_BackoutCount: 0
    JMS_IBM_MQMD_CodedCharSetId: 1208
    JMS_IBM_MQMD_CorrelId: 000000000000000000000000000000000000000000000000
    JMS_IBM_MQMD_Encoding: 273
    JMS_IBM_MQMD_Expiry: -1
    JMS_IBM_MQMD_Feedback: 0
    JMS_IBM_MQMD_Format: MQHRF2  
    JMS_IBM_MQMD_GroupId: 000000000000000000000000000000000000000000000000
    JMS_IBM_MQMD_MsgFlags: 0
    JMS_IBM_MQMD_MsgId: 010203040506070801020304050607080102030405060708
    JMS_IBM_MQMD_MsgSeqNumber: 1
    JMS_IBM_MQMD_MsgType: 8
    JMS_IBM_MQMD_Offset: 0
    JMS_IBM_MQMD_OriginalLength: -1
    JMS_IBM_MQMD_Persistence: 1
    JMS_IBM_MQMD_Priority: 4
    JMS_IBM_MQMD_PutApplName: WebSphere MQ Client for Java
    JMS_IBM_MQMD_PutApplType: 28
    JMS_IBM_MQMD_PutDate: 20130411
    JMS_IBM_MQMD_PutTime: 04444315
    JMS_IBM_MQMD_ReplyToQ:                                                 
    JMS_IBM_MQMD_ReplyToQMgr: MYQM                                            
    JMS_IBM_MQMD_Report: 0
    JMS_IBM_MQMD_UserIdentifier:             
    JMS_IBM_MsgType: 8
    JMS_IBM_PutApplType: 28
    JMS_IBM_PutDate: 20130411
    JMS_IBM_PutTime: 04444315 
```

SimpleMQMDWrite：你今天的幸运数字是 733

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T07:34:10.960

```
Destination producerDestination = producerSession.createQueue(
    messagingQueueDetail.getRequestQueueName()
);

((MQQueue) producerDestination).setTargetClient(JMSC.MQJMS_CLIENT_NONJMS_MQ);

// MessageProducer is used for sending messages
producer = producerSession.createProducer(producerDestination); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-06-21T18:59:19.223

在您的`MessageCreator`实现（实现的类`MessageCreator`）中添加`setJMSType`带有值的 a `"MQSTR"`：

```
public TextMessage createMessage(Session session) throws JMSException {
    TextMessage messageObject = session.createTextMessage();
    messageObject.setText(message);
    messageObject.setJMSType("MQSTR");
    return messageObject;
} 
```**

# php - 按十进制值对多维数组进行排序

> ID：15941137
> 
> 赞同：8
> 
> 时间：2013-04-11T05:06:46.427
> 
> 标签：php, sorting, multidimensional-array, floating-point, usort

我要做的是对包含十进制值的多维数组进行排序。根据我的测试，花车无法正确订购。

```
Array
(
    [0] => Array
        (
            [company] => Ebay
            [weight] => 4.6
        )

    [1] => Array
        (
            [company] => Ebay
            [weight] => 1.7
        )

    [2] => Array
        (
            [company] => Ebay
            [weight] => 3.7
        )
)

usort($array, 'order_by_weight');

// Sorts DESC highest first
function order_by_weight($a, $b) {
    return $b['weight'] - $a['weight'];
} 
```

**以降序对这些数字进行排序的最佳方法是什么？**

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-11T05:20:27.040

```
$arr = array(
    array('company' => 'A', 'weight' => 4.6),
    array('company' => 'B', 'weight' => 1.7),
    array('company' => 'C', 'weight' => 3.7),
);

usort($arr, 'order_by_weight');

function order_by_weight($a, $b) {
    return $b['weight'] > $a['weight'] ? 1 : -1;
}

var_dump($arr); 
```

PS：这不是一门火箭科学——这个确切的“技巧”被用作[http://php.net/usort的第一个例子](http://php.net/usort)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-11T05:34:44.583

您可以在一行中使用匿名函数执行此操作

```
$arr = array(
    array('company' => 'A', 'weight' => 4.6),
    array('company' => 'B', 'weight' => 1.7),
    array('company' => 'C', 'weight' => 3.7),
);
usort($arr, function($a, $b) { return $b['weight'] > $a['weight'] ;});

print_r($arr); 
```

希望这可以帮助 ：）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T05:20:07.107

您可以使用 array_multisort 对数组进行排序，尽管这通常用于对多个数组值而不是一个进行排序。

```
echo "<pre>";

 $a = array(
     array('company' => 'ebay', 'weight' => 4.6), 
     array('company' => 'ebay', 'weight' => 1.7),
     array('company' => 'ebay', 'weight' => 3.7),
     array('company' => 'ebay', 'weight' => 2.7),
     array('company' => 'ebay', 'weight' => 9.7),
     array('company' => 'ebay', 'weight' => 0.7),
 );

 $company = array();
 $weight = array();

 foreach($a as $key=>$val) {
     array_push($company, $val['company']);
     array_push($weight, $val['weight']);
 }

 array_multisort($weight, SORT_ASC, $a);

 print_r($a); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-11T05:38:15.147

因为这里的排序算法是排序多维数组的好例子，而不使用任何更多的内置 php 函数

```
$multiarr = array('0'=>array(
        "hashtag" => "a7e87329b5eab8578f4f1098a152d6f4",
        "title" => "Flower",
        "order" => 3),

'1' => array(
        'hashtag' => "b24ce0cd392a5b0b8dedc66c25213594",
        "title" => "Free",
        "order" => 2),
'2' => array('hashtag' => 'e7d31fc0602fb2ede144d18cdffd816b',
        'title' => 'Ready',
        'order' => 1
    )); 
```

排序功能：

```
 function multisort (&$array, $key) {
$valsort=array();
$ret=array();
reset($array);
foreach ($array as $ii => $va) {
    $valsort[$ii]=$va[$key];
}
asort($valsort);
foreach ($valsort as $ii => $va) {
    $ret[$ii]=$array[$ii];
}
$array=$ret; 
```

}

multisort($multiarr,"order") 在此处输入代码

： 输出 ：

```
Array
 (
[2] => Array
    (
        [hashtag] => e7d31fc0602fb2ede144d18cdffd816b
        [title] => Ready
        [order] => 1
    )

[1] => Array
    (
        [hashtag] => b24ce0cd392a5b0b8dedc66c25213594
        [title] => Free
        [order] => 2
    )

[0] => Array
    (
        [hashtag] => a7e87329b5eab8578f4f1098a152d6f4
        [title] => Flower
        [order] => 3
    ) 
```

)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-01-13T09:00:26.237

如果有人想要更简洁的代码，特别是要处理等于条件，您将在 @zerkms 的解决方案之前添加 if 条件

using`ceil`会将分数向上取整并正确排序十进制数

```
usort($data, function($a, $b) 
      {
        return ceil($a[$_GET['sortby']] - $b[$_GET['sortby']]); 
      }); 
```

# arrays - 在 senchatouch2 中将 json 数组作为查询字符串发送

> ID：15941144
> 
> 赞同：0
> 
> 时间：2013-04-11T05:07:27.063
> 
> 标签：arrays, json, sencha-touch-2, query-string

我们应该在 senchatouch2 中发送**json 数组**还是**普通数组作为查询字符串**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T07:33:27.430

无论如何，您只能在 URL 中发送字符串，因此如果您有 JSON，则使用[E​​xt.JSON.encode](http://docs.sencha.com/touch/2-1/#!/api/Ext.JSON-method-encode)使其成为字符串，如果您有 JS Array 使用`toString`或`join`方法在将数组附加到 URL 之前将其展平。

既然你说的是查询字符串，所以我想你并没有做 POST 请求。

[编辑] 查看您的评论，您似乎想向服务发送一些数据以进行创建，但在这种情况下，您不应将数据作为查询字符串发送，而应在消息正文中发送。以下是将 JSON 数据发送到您的服务的示例：

```
var obj = new Object();
obj.loginEntry  = new Object();
obj.loginEntry.userid = username;
obj.loginEntry.password = password;
var data = Ext.JSON.encode(obj);
Ext.Ajax.request({
        url : 'http://myserver:port/service/entity',
        method : "POST",
        headers: {
            /* Important because default is 
             * Content-Type:application/x-www-form-urlencoded; charset=UTF-8 
             * which is not supported by service
             */
            'Content-Type': 'application/json'
        },
        params : data,
        success : function(response) {
        },
        failure : function(response) {
        }
    }
); 
```

[/编辑]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-20T04:42:30.330

虽然我们在 Sencha Touch2 中使用 POST 方法发送参数，但在 Ajax 请求中使用**jsonData ，例如，**

> Ext.Ajax.request({ url:'', method:'POST', disableCaching:false, headers: { 'Accept':'application/json', 'Content-Type':'application/json' }, **jsonData** : { FirstName:fname //{"FirstName":["Sam","paul"]} }，成功：function(response) { console.log(response.responseText); }，失败：function(response) { console.log日志（response.responseText）；}，}）；

# entity-relationship - 如果我们使用 Chens 表示法，我们如何识别 ER 图中的关系方向？

> ID：15941149
> 
> 赞同：6
> 
> 时间：2013-04-11T05:08:08.733
> 
> 标签：entity-relationship, uml, entity-relationship-model

我们如何确定关系方向`Chen notation`？如果我们添加**A 有 B 关系**，那么任何人都可以将其视为**B 有 A**吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-30T13:06:53.020

我想我在很长一段时间后找到了我的问题的答案。它是关系的名称，它在陈的符号中提供了关系的方向。

![在此处输入图像描述](https://i.stack.imgur.com/Ky9ku.jpg)

这张图描述得很好

# asp.net - ASP.NET 网页路由

> ID：15941155
> 
> 赞同：0
> 
> 时间：2013-04-11T05:08:37.637
> 
> 标签：asp.net, asp.net-mvc

我创建了简单的 asp.net 项目。

有文件夹帐户，以及许多文件，如 Register.cshtml、LogIn 等...和 ​​url：localhost/Account/Register

希望它是：localhost/Register，localhost/LogIn。

尝试在 _AppStart.cshtml 中映射它：

```
RouteTable.Routes.MapPageRoute("Account", "{Action}", "~/Account/{Action}"); 
```

它不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T05:29:02.243

试试这个....

```
 //Default 
      routes.IgnoreRoute("{resource}.axd/{*pathInfo}");
            routes.MapRoute(
                "Default",
                "", 
                new { controller = "Home", action = "Index", id = "" }
            );

          //url rewriting

            RouteTable.Routes.MapRoute(null, "Register/{ID}", new { controller = "Home", action = "Register" }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:41:58.270

首先，您必须使用 MapRoute 到 MapPageRoute，因为 MapPageRoute 是（来自[msdn](http://msdn.microsoft.com/pl-pl/library/system.web.routing.routecollection.mappageroute.aspx)）：

> 提供一种为 Web 窗体应用程序定义路由的方法

但是，如果您像这样修改代码：

```
 routes.IgnoreRoute("{resource}.axd/{*pathInfo}");

     routes.MapRoute("AccountRoute", "{Action}", new {controller = "Account"});

     routes.MapRoute(
                    name: "Default",
                    url: "{controller}/{action}/{id}",
                    defaults: new { controller = "Home", action = "Index", id = UrlParameter.Optional }
          ); 
```

每个没有参数的请求都将转到 AccountRoute，即使它应该由其他控制器处理。

唯一可行的方法是创建如下代码：

```
routes.IgnoreRoute("{resource}.axd/{*pathInfo}");

//ALL routes you need
routes.MapRoute("LoginRoute", "{Action}", new { controller = "Account", action = "Login" });
routes.MapRoute("RegisterRoute", "{Action}", new { controller = "Account", action = "Register" });            

//Default route in the end
routes.MapRoute(
                    name: "Default",
                    url: "{controller}/{action}/{id}",
                    defaults: new { controller = "Home", action = "Index", id = UrlParameter.Optional }
                ); 
```

# asp.net - GetHashCode 在这里只是货物崇拜吗？

> ID：15941161
> 
> 赞同：5
> 
> 时间：2013-04-11T05:09:25.610
> 
> 标签：asp.net, asp.net-mvc, thread-safety, httpcontext

```
HttpContext.Current.Items["ctx_" + HttpContext.Current.GetHashCode().ToString("x")] 
```

我看到这个确切的代码[......](http://www.codeproject.com/Articles/37932/Simple-Sample-with-Entity-Framework)在[......](https://stackoverflow.com/questions/4619691/entity-framework-objectcontext-with-dependency-injection)地方[，](https://stackoverflow.com/questions/702676/server-side-equivalent-of-httpcontext)[但](http://dotnetslackers.com/articles/ado_net/Managing-Entity-Framework-ObjectContext-lifespan-and-scope-in-n-layered-ASP-NET-applications.aspx)我必须忽略一些东西。在回复这些帖子时，通常会质疑使用 HttpContext 的适当性，但没有人指出 GetHashCode 是多余的，固定字符串就可以了。

我在这里俯瞰什么？

* * *

编辑：问题是，GetHashCode() 对于每个 HttpContext.Current 都是相同的，那么为什么在我提供的四个链接中使用 GetHashCode()？其中一些是投入了大量工作的帖子，所以我觉得他们可能正在解决我忽略的一些线程或上下文问题。我不明白为什么只是 HttpContext.Current.Items["ctx_"] 不会完全一样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:05:56.750

这太可怕了。一方面，无论如何`HttpContext.Current.Items`都是当前的本地，`HttpContext`因此需要尝试使键“更独特”。其次，根据这种技术的使用方式，键有时会发生碰撞，从而导致虚假的、无法调试的故障。

如果您*需要*一个唯一的密钥（可能是因为您正在开发一个库），请使用更明智的解决方案，例如`Guid.NewGuid().ToString()`. 这保证工作，甚至更简单。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T10:49:58.840

所以回答你的问题:)

使用 GetHashcode 创建密钥没有多大意义。您提供链接的帖子的作者可能想要创建唯一的密钥。但是这样做并不能阻止其他团队成员在代码库的其他地方使用相同的密钥。

我认为最好只使用手写的长键。代替

```
["ctx_" + HttpContext.Current.GetHashCode().ToString("x")] 
```

只需使用

```
["object_context_key"] 
```

或类似的东西。这样你就知道它到底是什么（这可能在例如事后调试中很有用）而且我还认为如果你必须想出一些长键，它可能会“更独特”然后那个使用 GetHashCode。

# c# - Crystal Reports 图表详细信息抑制

> ID：15941164
> 
> 赞同：2
> 
> 时间：2013-04-11T05:09:39.247
> 
> 标签：c#, crystal-reports

我有多个条目，每个条目都可以有一个或多个批准阶段（带有日期）。我已经能够使用分组/细节抑制来仅检索最新的批准阶段（因为如果它当前是最终批准，我们不关心它是否已提交）但无论我尝试什么，图表总是显示带来的每条记录返回我们不需要看到的信息。

有谁知道如何修复此图表，以便它只为每个条目带回最新的批准阶段（具有多个批准阶段）？

[图片](http://img703.imageshack.us/img703/8030/screenshot20130411at302.png)（还不能发图片）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T10:03:12.773

图表，如交叉表，作用于报告中的所有数据。您需要以删除无关数据的方式构建报告。

我建议使用 SQL 表达式字段来标识最新的批准阶段，然后在记录选择公式中引用此字段。请参阅我的帖子：[Crystal Reports：使用 SQL 表达式字段](http://cogniza.com/wordpress/2005/11/07/crystal-reports-using-sql-expression-fields/)。

如果语法不规则，您始终可以使用命令。

# c++ - 准备一个包含 std::ostream 的 C++ 库，以便在 winRT 中使用

> ID：15941165
> 
> 赞同：0
> 
> 时间：2013-04-11T05:09:47.443
> 
> 标签：c++, windows-runtime

我有一个想要在新的 winRT 应用程序中使用的现有库。问题是该库完全依赖于 std::ostream 以进行日志记录和其他文件过程。有没有办法从运行时获取有效的流，我可以将其转换为 stl 形式？还是我必须全部转换才能使用 winRT 流？这将是不可取的，因为这意味着它将不再是可移植的。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-08-28T06:41:38.430

MFC、COM、ATL、WTL、WRL、C++/CX 等都是基于 C++ 的，因此在（基于 WinRT api 的应用程序定位）Windows 应用商店应用程序容器化中，关注的更多是数据的目标位置，而不是 ostream 的工作，如[https://msdn.microsoft.com/en-IN/library/hh967755.aspx](https://msdn.microsoft.com/en-IN/library/hh967755.aspx)中所述，如果目标位置超出了应用程序容器的能力范围，那么对流进行返工将毫无意义。

按键调用顺序如下

```
storageFileObj=GetFileFromApplicationUriAsync(ref new Uri("ms-appdata:///local/data.file"))
ofstream(storageFileObj->Path->data) //Actually data here is wchar*, while ofstream will want char* 
```

# java - 从 Eclipse 插件中的 jar 文件中读取类名

> ID：15941170
> 
> 赞同：0
> 
> 时间：2013-04-11T05:10:24.007
> 
> 标签：java, eclipse-plugin

我需要从 jar 文件（OSGified）中读取类名（只是简单的名称）。我已将 jar 文件放在 lib 文件夹中，并将其添加到类路径中。这是我写的代码：

```
public void  loadClassName() throws IOException {
    JarFile jf = new JarFile("/lib/xxxx-1.0.0.jar");
    List<String> list = new ArrayList<String>();
    for (JarEntry entry : Collections.list(jf.entries())) {
        if (entry.getName().endsWith(".class")) {
            String className = entry.getName().replace("/", ".").replace(".class", "");
            list.add(className);
        }
    }
} 
```

不知何故，我在构造 jarfile 对象时遇到 Filenotfound 异常。有人可以让我知道我们应该如何将 jar 路径提供给 JarFile 构造函数吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T05:13:39.200

感谢用户@Perception。他的回答完美无缺。

这是工作代码：

```
 final InputStream jarStream = Thread.currentThread().getContextClassLoader().getResourceAsStream("lib/xxxxx-1.0.0.jar");
        JarInputStream jfs = new JarInputStream(jarStream);
        List<String> list = new ArrayList<String>();
        JarEntry je = null;
        while (true) {
            je = jfs.getNextJarEntry();
            if (je == null) {
                break;
            }
            if (je.getName().endsWith(".class")) {
                String className = je.getName().replace("/", ".").replace(".class", "");
                    list.add(className);
            }
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:23:57.570

尝试这个： `JarFile jf = new JarFile("lib/xxxx-1.0.0.jar");`

# php - 什么是 mysql_fetch_array() 期望参数 1 是资源？

> ID：15941174
> 
> 赞同：-9
> 
> 时间：2013-04-11T05:10:40.593
> 
> 标签：php, mysql

请告诉我这有什么问题？我在第 17 行和第 21 行遇到错误，请帮忙。这个程序的目的是从数据库中获取并显示用户的详细信息。

```
<?php
// Connect to database server
mysql_connect("localhost", "root", "") or die (mysql_error ());

// Select database
mysql_select_db("lms") or die(mysql_error());

// (Line 17) Get data from the database depending on the value of the id in the URL
$strSQL = "SELECT * FROM login WHERE id=" . $_GET["id"];
$rs = mysql_query($strSQL);

// (Line 21) Loop the recordset $rs
while($row = mysql_fetch_array($rs)) {

    // Write the data of the person
    echo "<dt>Name:</dt><dd>" . $row["name"] . "</dd>";
    echo "<dt>Username:</dt><dd>" . $row["username"] . "</dd>";
    echo "<dt>Rollno:</dt><dd>" . $row["rollno"] . "</dd>";

}
?> 
```

显示的错误消息是：

```
Undefined index: id in C:\wamp\www\phploginsession\person.php on line 17

mysql_fetch_array() expects parameter 1 to be resource, boolean given in C:\wamp\www\phploginsession\person.php on line 21 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T11:26:51.003

您的查询已损坏。在该行之后`$rs = mysql_query($strSQL);`添加：`var_dump($rs)`以查看发生了什么并用于`mysql_error()`调试它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:30:28.590

```
//list.php
<html>
    <head>
    <title>Retrieve data from the database</title>
    </head>
    <body>

    <ul>

    <?php
    // Connect to database server
    mysql_connect("mysql.myhost.com", "user", "sesame") or die (mysql_error ());

    // Select database
    mysql_select_db("mydatabase") or die(mysql_error());

    // SQL query
    $strSQL = "SELECT * FROM people ORDER BY FirstName DESC";

    // Execute the query (the recordset $rs contains the result)
    $rs = mysql_query($strSQL);

    // Loop the recordset $rs
    while($row = mysql_fetch_array($rs)) {

       // Name of the person
      $strName = $row['FirstName'] . " " . $row['LastName'];

       // Create a link to person.php with the id-value in the URL
       $strLink = "<a href = 'test1.php?id=".$row['id']."'>" . $strNavn.' '.$strName . "</a>";

        // List link
       echo "<li>" . $strLink . "</li>";

      }

    // Close the database connection
    mysql_close();
    ?>

    </ul>
    </body>
    </html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T05:39:15.200

```
// Connect to database server
$con=mysql_connect("localhost", "root", "") or die (mysql_error ());
// Select database
mysql_select_db("lms",$con) or die(mysql_error());

// (Line 17) Get data from the database depending on the value of the id in the URL
$strSQL = "SELECT * FROM login WHERE id= 1 ";
$rs = mysql_query($strSQL,$con);

// (Line 21) Loop the recordset $rs
while($row = mysql_fetch_array($rs)) {
    // Write the data of the person
    echo "<dt>Name:</dt><dd>" . $row["name"] . "</dd>";
    echo "<dt>Username:</dt><dd>" . $row["username"] . "</dd>";
    echo "<dt>Rollno:</dt><dd>" . $row["rollno"] . "</dd>";

} 
```

你可以试试这个..传递数据库对象

# c# - 在修改数据的同时访问数据（实体框架）

> ID：15941177
> 
> 赞同：0
> 
> 时间：2013-04-11T05:10:46.350
> 
> 标签：c#, .net, entity-framework

我有一个小应用程序，它从 Internet 检索大约 100 组数据，处理它们，然后使用 Entity Framework 将它们写入数据库。

问题是在处理数据时，它需要检查数据库，看看以前的集合是否已经包含某些数据。`db.SaveChange()`如果我在每组后不调用，则更改不会反映。有没有办法在不调用每组数据的情况下访问以前的集合`db.SaveChange()`？

```
foreach (var item in items)
{
    if (db.Where...) // new changes not reflected here unless call db.SaveChange every time
        //do something

    db.SaveChange() // I want to move this out of the loop
} 
```

谢谢！

# android - 将二维码扫描仪与 Zxing 集成时出错

> ID：15941178
> 
> 赞同：0
> 
> 时间：2013-04-11T05:10:51.640
> 
> 标签：android, qr-code

我正在尝试使用 Zxing 将 QR 码扫描仪集成到我的 android 应用程序中。我已按照以下步骤操作：

1.  我已经下载了 ZXing.zip 文件并解压。

2.  将 ZXing 项目作为 android 现有项目打开，然后转到 android 文件夹并打开 android 文件夹并将 core.jar 文件包含到名为 CaptureActivity 的 ZXing 项目中。

3.  我在名为“QRCodeSample”的项目中使用了 CaptureActivity 项目作为库。

这是我的 MainActivity.java 文件：

```
package com.charith.qrcodesample;

import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.util.Log;
import android.view.Menu;
import android.view.View;
import android.widget.Button;
import android.widget.TextView;

public class MainActivity extends Activity {

    Button b1;
    TextView scanResult;
    String contents;
    public static final int REQUEST_CODDE = 1;
    protected static final String QR_CODE_MODE = null;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        b1 = (Button) findViewById(R.id.bScan);
        b1.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                Intent intent = new Intent("com.google.zxing.client.android.SCAN");
                intent.putExtra("SCAN_MODE",QR_CODE_MODE);
                startActivityForResult(intent, 0);
            }
        });
    }

    public void onActivityResult(int requestCode, int resultCode, Intent intent) {
        scanResult = (TextView) findViewById(R.id.tvContent);
        if(requestCode == 0) {
            if(resultCode == RESULT_OK) {
                contents = intent.getStringExtra("SCAN_RESULT");
                String format = intent.getStringExtra("SCAN_RESULT_FORMAT");
                scanResult.setText(contents);
            }else if(resultCode == RESULT_CANCELED){
                scanResult.setText("Error");
            }
        }
    }

} 
```

这是我的 AndroidManifest.xml 文件。

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.charith.qrcodesample"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="10"
        android:targetSdkVersion="10" />

    <uses-permission android:name="android.permission.CAMERA" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name="com.google.zxing.client.android.CaptureActivity"
            android:configChanges="orientation|keyboardHidden"
            android:screenOrientation="landscape"
            android:theme="@android:style/Theme.NoTitleBar.Fullscreen"
            android:windowSoftInputMode="stateAlwaysHidden" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
            <intent-filter>
                <action android:name="com.google.zxing.client.android.SCAN" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>
        <activity
            android:name="com.charith.qrcodesample.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

这是我的 main_activity.xml 文件。

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity" >

    <Button
        android:id="@+id/bScan"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="33dp"
        android:text="Scan" />

    <TextView
        android:id="@+id/tvContent"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/bScan"
        android:layout_below="@+id/bScan"
        android:layout_marginTop="44dp"
        android:text="" />

</RelativeLayout> 
```

我已经使用 eclipse 中的模拟器检查了我的应用程序。然后我收到以下错误：

```
The application has stopped unexpectedly. Please try again 
```

如果有人能尽快澄清这个问题，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T09:09:29.787

首先，您复制并粘贴了我们的项目。我假设您也复制了 UI。正如您在此处的许多问题中所看到的那样，并且正如[https://code.google.com/p/zxing/wiki/LicenseQuestions](https://code.google.com/p/zxing/wiki/LicenseQuestions)中所讨论的那样，开源许可证不允许这样做。

其次，您已经复制并粘贴了`AndroidManifest.xml`声明。您`Activity`在我们的命名空间中声明一个并拦截我们`Intent`的 s。这会干扰我们的应用程序，这是不行的。删除它并创建您自己的清单。

但第三，您似乎正在尝试通过`Intent`. *它比这容易得多，并且与错误地*复制和粘贴所有这些东西无关。见[https://code.google.com/p/zxing/wiki/ScanningViaIntent](https://code.google.com/p/zxing/wiki/ScanningViaIntent)

# javascript - 在茉莉花测试中存根 e.preventDefault()

> ID：15941181
> 
> 赞同：10
> 
> 时间：2013-04-11T05:11:20.627
> 
> 标签：javascript, jasmine

我最近`e.preventDefault()`在我的一个 javascript 函数中添加了一个，它破坏了我的 jasmine 规范。我已经尝试过`spyOn(e, 'preventDefault').andReturn(true);`，但我得到`e`的是未定义的错误。我如何存根`e.preventDefault()?`

```
showTopic: function(e) {
  e.preventDefault();
  midParent.prototype.showTopic.call(this, this.model, popup);
  this.topic.render();
}

it("calls the parent", function() {
    var parentSpy = spyOn(midParent.prototype, "showTopic");
    this.view.topic = {
      render: function() {}
    };
    this.view.showTopic();
    expect(parentSpy).toHaveBeenCalled();
}); 
```

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-04-11T09:23:53.607

创建模拟对象（使用您需要的间谍）的另一种方法是使用`jasmine.createSpyObj()`. 包含间谍名称的数组必须作为第二个参数传递。

```
var e = jasmine.createSpyObj('e', [ 'preventDefault' ]);
this.view.showTopic(e);
expect(e.preventDefault).toHaveBeenCalled(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T08:59:51.410

您必须传递一个带有字段 preventDefault 的对象，该字段包含您的间谍：

```
var event = {preventDefault: jasmine.createSpy()}
this.view.showTopic(event);
expect(event.preventDefault).toHaveBeenCalled 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-10-19T08:54:17.217

不知道这种方法是否正确，但对我有用，请随意判断这是否不是一个好方法

step1：创建一个带有防止默认功能的eventStub

```
 const eventStub = {
      preventDeafult() {}
    } 
```

step2：编写'it'块：

```
it('should preventDefault when dragover event occurs', () => {
  // step 3 goes here
  // step 4 goes here
  // step 5 goes here
}); 
```

step3：创建间谍以防止默认：

```
const spy = spyOn(eventStub, 'preventDefault'); 
```

step4：触发事件让我们说dragover并传递eventStub

```
 component.triggerEventHandler('dragover', eventStub) 
```

step5：编写断言

```
expect(spy).tohaveBeenCalled() 
```

注意：步骤4中的“组件”是我们从fixture获取组件实例的实例，用于从fixture获取组件实例：

```
let fixture = TestBed.createComponent(<your Component's Class Name>);
let component = fixture.componentInstance; 
```

试着让我知道它是否适合你谢谢你，，，，Happyyy编码:-) !!!!!

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-05T16:26:45.340

这与顶部的方法非常相似。我只是模拟了这个事件，并通过一个 sinon 间谍传递了 preventDefault。不同之处在于我必须确定点击我的测试的类型。

```
var e = {
    type: 'click',
    preventDefault: sinon.spy()
}; 
```

# java - 通过蓝牙接听来自 PC 的安卓电话

> ID：15941185
> 
> 赞同：6
> 
> 时间：2013-04-11T05:11:31.103
> 
> 标签：java, android, bluetooth

我有一台 PC（运行 Java 程序）、蓝牙加密狗和 Android 设备（2.3\. 6），并且想使用 PC 麦克风/耳机/扬声器通过蓝牙接听电话。我[在这里](https://stackoverflow.com/questions/15818704/is-it-possible-to-send-receive-voice-from-pc-to-android-device-over-bluetooth)提出另一个问题，但似乎我们彼此不理解。我不想通过连接的 Android 设备与 PC 通话，我想通过 PC 接听来电（使用 PC 作为蓝牙耳机或 HFP 耳机或类似的东西）。[我在 play.google.com 中找到了在此处](https://play.google.com/store/apps/details?id=justPhone.remotePhone)实现此类功能的应用程序。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T10:18:16.210

最简单的方法是让计算机充当蓝牙免提套件，事实上它已经在大多数操作系统中实现，无论是否有附加软件。

在这种情况下，您实际上不需要 android 应用程序，因为您可以使用内置的 HFP 客户端。

如果您想使用 Java 自己实现服务器，那么您可以查看以下内容：http: [//today.java.net/pub/a/today/2004/07/27/bluetooth.html](http://today.java.net/pub/a/today/2004/07/27/bluetooth.html)

您还需要查看蓝牙免提配置文件 (HFP) 协议： [http ://www.mcpc-jp.org/news/pdf/CCAP_Guideline_Ver10a.pdf](http://www.mcpc-jp.org/news/pdf/CCAP_Guideline_Ver10a.pdf)

# design-patterns - 避免部分对象实例化

> ID：15941186
> 
> 赞同：0
> 
> 时间：2013-04-11T05:11:33.577
> 
> 标签：design-patterns, objectinstantiation

我在我的项目中面临与设计相关的困境，如果我能得到一些建议，我将不胜感激。有一个包含大约 20-25 个字段的 POJO，在某些情况下，该对象会根据需要部分实例化。在我看来，这不是一个好的做法，应该通过使用继承或组合来避免。我正在寻找有关实现对象创建逻辑（可能是设计模式）的最佳方法的建议，以避免部分实例化。目前，正在使用构建器模式创建对象。

基本上，它是一个摇摆应用程序。数据取自 JDialog 的不同字段 (20-25) 并传递到下一个窗口以显示以供确认。使用 POJO 传递此数据。此 POJO 当前使用构建器模式进行实例化。但是我正在寻找一种方法来实现这一点，其中 POJO 没有部分实例化并用于只需要传递几个字段的其他情况。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T07:10:55.057

如果您的类的参数仅在某些条件下使用而在其他条件下不需要，那么您肯定应该进行一些重构。尝试[提取类](http://www.refactoring.com/catalog/extractClass.html)重构，例如，对一些参数和方法进行分组。如果您有一些类型代码，表明需要某些参数， 如果类型代码在对象的生命周期内没有更改，请考虑[将类型代码替换为子类，否则将 t](http://www.refactoring.com/catalog/replaceTypeCodeWithSubclasses.html) [ypecode 替换为状态/策略](http://www.refactoring.com/catalog/replaceTypeCodeWithStateStrategy.html)。然后只需将字段和方法从原始类移动到这些新创建的类。

我建议您阅读 Martin Fowler 的重构书。这真是太棒了，非常有帮助。

构建器模式是可以的，但您可能希望实现工厂方法模式来创建对象。

# javascript - div在创建jquery对象中的作用

> ID：15941189
> 
> 赞同：0
> 
> 时间：2013-04-11T05:11:45.353
> 
> 标签：javascript, jquery, object, html, append

我正在尝试创建一个在单击时会改变颜色的圆圈网格。我目前必须以可视方式创建网格的代码（有效）是这样的：

```
var color = null;
for (var r = 0; r < 5; r++) { // row
    for (var c = 0; c < 5; c++) { // column
        var myCircle = document.createElement('div');
        myCircle.id = "circle";

        myCircle.style.left = r * 56 + "px";
        myCircle.style.top = c * 56 + "px";

        document.getElementById('grid').appendChild(myCircle); //maybe error
    }
} 
```

我想把它变成它的 jquery 等价物来处理点击状态的变化。这是我到目前为止所得到的： var color = null;

```
for (var r = 0; r < 5; r++) { // row
    for (var c = 0; c < 5; c++) { // column

        var $myCircle = $("#circle");
        $myCircle.style.left = r * 56 + "px";
        $myCircle.style.top = c * 56 + "px";
        $(document).ready(function () {
        $($myCircle).click(function() {
         $($myCircle).css('backgroundColor', 'color');
               });
         });
        $('#grid').append($mycircle);
    }
} 
```

知道我哪里出错了吗？我是否需要在上述代码中的某处引入“div”？如何？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T05:15:21.043

您正在选择一个元素而不是在此处创建

```
$("#circle"); 
```

尝试这个

```
 $(document).ready(function () {
     for (var r = 0; r < 5; r++) { // row
      for (var c = 0; c < 5; c++) { // column
         var $myCircle = $("<div />").attr({class:"circle"}).css({left:r * 56 + "px" ,top :c * 56 + "px"}));  //creating a div element with its attributes...
         $('#grid').append($mycircle); //appending it to grid
      }
     }

      $('#grid').on('click','#circle',function() { //using on delegate for dynamically added  div
            $(this).css('backgroundColor', 'color'); 
       });
     }); 
```

为了使 click 事件适用于动态添加的元素，我们需要将其委托给最近的静态父级。**并且 ID 应该始终是唯一的，因此最好将您的 ID 更改为我在这里所做的类。**

**更新**

更新了您小提琴中的一些错误，请查看..

去除 。在我的圈子里

```
 var $myCircle = $('<div />').addClass('circle').css({
                        //-------------^---removed the `.`.. 
```

并将您所有的javascript更改为jquery ..

[工作小提琴](http://jsfiddle.net/bipen/yhb9A/55/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:36:29.713

当您像这样进行一堆附加操作时，使用[文档片段](https://developer.mozilla.org/en-US/docs/DOM/document.createDocumentFragment)会更好。代码如下所示：

```
var frag = document.createDocumentFragment();
for (var r = 0; r < 5; r++) { // row
    for (var c = 0; c < 5; c++) { // column
        var $circle = $('<div/>').addClass('circle').css({left: r*56, top: c*56});
        frag.appendChild($circle.get(0));
    }
}
$('#grid').append(frag).on('click', '.circle', function(){
    $(this).css('backgroundColor', 'red');
}); 
```

但我建议使用 inline-block 方法来布局你的圈子。[指南针混音](http://compass-style.org/reference/compass/css3/inline_block/)对此非常方便。此外，[边界半径指南针混合](http://compass-style.org/reference/compass/css3/border_radius/)。这样，您的代码将简化为：

```
var frag = document.createDocumentFragment();
for (var i = 0; i < 25; i++)
    frag.appendChild($('<div/>').addClass('circle').get(0));

$('#grid').append(frag).on('click', '.circle', function(){
    $(this).css('backgroundColor', 'red');
}); 
```

此外，您不需要在 jQuery css 道具上指定 + 'px'。也不要忘记`/`之前`>`的`$('<div/>')`。我用最后一个解决方案[在这里创建了一个 jsFiddle 。](http://jsfiddle.net/jedhunsaker/44wEp/5/)

这是支持的 SCSS：

```
$radius: 50px;
$gap: 6px;

#grid {
    width: ($radius + $gap) * 5;
}

.circle {
    display: inline-block;
    float: left;
    border-radius: $radius;
    width: $radius;
    height: $radius;
    border: $gap/2 solid white;
    background-color: yellowgreen;
} 
```

更好的是，点击执行 a`toggleClass('active')`并设置 CSS`.active {color: red; }`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T05:13:51.423

```
var $myCircle = $("#circle"); 
```

应该：

```
var myCircle = $("#circle")[0]; 
```

因为您使用 DOM 原生函数，但它是一个 jQuery 包装器。

请注意，我删除了`$`前缀，`myCircle`因为现在它是一个 DOM 元素。

# android - Android显示超过1个变量textView

> ID：15941191
> 
> 赞同：0
> 
> 时间：2013-04-11T05:11:58.300
> 
> 标签：android, textview

我有一个 textView，我想同时显示两个不同的变量，每个变量都在一行上。这是我到目前为止所拥有的

```
TextView.setText("You answered :" + " " + correct + "correct" + '\n');
TextView.setText("You answered: " + " " + wrong + "incorrect"); 
```

这仅显示最后一行，而不是 textView 中的两行代码。谁能告诉我如何在两个不同的行上同时在同一个 textView 中显示这两个？非常感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T05:14:09.780

使用此剪辑代码：

```
TextView.setText("You answered :" + " " + correct + "correct\n" +"You answered: " + " " + wrong + "incorrect"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T05:15:04.663

```
String text = "You answered :" + " " + correct + "correct\n" +"You answered: " + " " + wrong + "incorrect";
TextView.setText(text); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T05:15:14.157

**试试这个**：

```
TextView.setText("You answered: " + correct + "correct\nYou answered: " + wrong + "incorrect"); 
```

注意：按照惯例，您应该避免使用大写字母命名变量，特别是如果名称已经是类名。考虑使用`textView`而不是`TextView`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-11T05:14:51.437

尝试先创建字符串，然后在`TextView`.

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-04-11T05:19:51.553

不是通用答案：

```
TextView.setText("You answered :" + " " + correct + "correct" + '\n');
// Lots of other intervening code
TextView.append("You answered: " + " " + wrong + "incorrect"); 
```

此外，还有很多不必要的字符串操作：

```
TextView.setText("You answered : " + correct + "correct\n");
// Lots of other intervening code
TextView.append("You answered:  " + wrong + " incorrect"); 
```

# java - 单例类在 Web 服务中的作用

> ID：15941192
> 
> 赞同：0
> 
> 时间：2013-04-11T05:12:08.313
> 
> 标签：java, web-services, singleton

我正在实现一个 web 应用程序并提供一些休息 API。

以下是我的网络应用程序的结构。

***服务层***
**服务类**包含不同的 API。

它调用**DAO**，它是一个**单例类**（我宁愿说它是一个**Enum**并且只为**Enum**定义了实例）并且它没有任何状态。我的意思是 DAO 层类中没有实例变量。

***DAO 层***
DAO 类获取**数据库连接**（DB 连接是通过**Enum**类提供的，我在**实例化 Enum**时创建了连接），并在 DB 上执行相应的查询。

所以应用程序架构是这样的。

```
ServiceClass {
    Dao.operation()
}

DaoEnum {

    instance;

    operation() {
        DBConnectionEnum.instance.connection.preparedStmt.respective operation
    }
}

DBConnectionEnum {
    DBConnectionEnum() {
        grabDBConnection()
    }
} 
```

我知道我必须使用connectionpool来抓取db连接，但我无法理解Dao层造成的影响，即单例。

您能否建议我这是一个正确的设计，还是会耗尽应用程序？可以进行哪些改进以使应用程序更加健壮、快速和高性能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T08:25:38.097

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T10:49:03.953

我正在和我的同事讨论这个问题，根据讨论，我觉得我的单例 DAO 层一定不会给我带来任何问题。

由于 DAO 层充当 DB 和 Service 类之间的中介，并且 DAO 层不维护任何状态。因此，当同时调用 2 个类似的请求时，两个请求将在 2 个不同的线程中提供服务，并且每个线程将维护自己的 Stack。当两个请求都调用 DAO 层时，这些请求将简单地调用 DAO 层的方法，该方法将与相应线程的堆栈相关联。

因此，如果我在我的应用程序中创建 Singleton DAO 层来服务多个 Web 请求，它不会耗尽吞吐量，并且必须为客户端提供服务而不会出现任何问题。

希望我没有什么意义。:)

# google-chrome - 捆绑似乎不会在 Firefox 和 Chrome 中加载引导文件

> ID：15941193
> 
> 赞同：0
> 
> 时间：2013-04-11T05:12:20.060
> 
> 标签：google-chrome, firefox, asp.net-mvc-4, twitter-bootstrap

我在我的 ASP.NET MVC 4 项目中使用 Twitter Bootstrap。以下是我的捆绑代码。

```
bundles.IgnoreList.Clear();
bundles.Add(new ScriptBundle("~/bundles/bootstrap/scripts").IncludeDirectory("~/bootstrap/js/", "*.js"));
bundles.Add(new ScriptBundle("~/bundles/bootstrap/css").IncludeDirectory("~/bootstrap/css/", "*.css")); 
```

我在各个页面中使用这两个捆绑包以及其他特定捆绑包。问题是，我可以看到引导文件在 IE 中加载良好，但在 Firefox 和 Chrome 中没有加载。我在 bootstrap 文件夹的 JS 和 CSS 目录中有完整版本和缩小版本。我错过了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T05:57:56.333

那是我的错误，我使用“ScriptBundle”添加 CSS .. 复制粘贴错误！

# bash - 对标准输入中的文件列表执行 sed -i

> ID：15941195
> 
> 赞同：3
> 
> 时间：2013-04-11T05:12:27.903
> 
> 标签：bash, sed, django-urls, ack, django-1.5

所以我最近将 Django 从 1.4 升级到了 1.5。我发现我需要更新所有模板代码以添加单引号，例如 from

```
{% url user_detail pk=user.pk %} 
```

至

```
{% url 'user_detail' pk=user.pk %} 
```

我对 bash 命令有点陌生，比如`sed`，但我分两部分处理了我的问题。

第一部分是获取所有需要更新的文件的列表。我这样做了

```
ack "{% url" | cut -d ":" -f1 | uniq 
```

这会给我一个像

```
templates/some_file.html
templates/admin/another_file.html 
```

第二部分是玩 sed

```
cat templates/some_file.html | sed "s/{% url \([A-Za-z0-9_]*\) /{% url '\1' /g" 
```

这两个命令都可以正常工作。现在的问题是

**如何组合这两个命令，以便`sed`在找到的每个文件中的 url 名称周围添加单引号`ack`？**

如果我尝试

```
ack "{% url" | cut -d ":" -f1 | uniq | sed -i "s/{% url \([A-Za-z0-9_]*\) /{% url '\1' /g" 
```

它给了我错误

```
sed: -i may not be used with stdin 
```

**编辑**

我正在运行 OS X（BSD 变体），所以我需要使用`sed -i "" "s/{% url \([A-Za-z0-9_]*\) /{% url '\1' /g"`.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T05:14:43.927

```
ack -l "{% url" | xargs sed -i "s/{% url \([A-Za-z0-9_]*\) /{% url '\1' /g" 
```

`-l`列出来自`ack`（您的`cut`/的更简单版本`uniq`）的匹配文件。 `xargs`对从管道（即每个文件）获取的每个参数执行操作。你试图做的将是`sed`来自标准输入的文件列表的实际字符串，当然不能就地更新。

# webstorm - 搜索 WebStorm 中的所有文件

> ID：15941196
> 
> 赞同：32
> 
> 时间：2013-04-11T05:12:48.623
> 
> 标签：webstorm

我没有看到在 WebStorm 6.0 的所有代码文件中搜索术语的选项。有谁知道如何在所有文件中搜索某些关键字/文本？

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2013-04-11T06:43:10.793

`Edit`| `Find`| `Find in Path`（默认键盘映射中的`Ctrl`+ `Shift`+ `F`）。

*   [在项目中查找和替换文本](http://www.jetbrains.com/webstorm/webhelp/finding-and-replacing-text-in-project.html)

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2014-10-25T20:50:39.713

在 Mac 中，您可以通过`cmd`++`shift`快捷方式来完成`F`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-08-10T10:00:15.367

您可以使用`Ctrl`++ `Shift`。`F`

您还可以在[此帮助页面](https://www.jetbrains.com/help/webstorm/mastering-keyboard-shortcuts.html)中找到其他快捷方式。

# wpf - 骨架中的真实世界坐标

> ID：15941197
> 
> 赞同：0
> 
> 时间：2013-04-11T05:12:59.097
> 
> 标签：wpf, kinect

使用 kinect 进行骨骼跟踪中的真实世界坐标是多少。如何找到脊柱关节的确切位置.Z

.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T05:29:44.413

您可以使用`SkeletonFrameReady`事件来获取每一帧中的特定位置：

```
 void _sensor_SkeletonFrameReady(object sender, SkeletonFrameReadyEventArgs e)
        {
            SkeletonFrame sf = e.OpenSkeletonFrame();

            if (sf != null)
            {
                Skeleton[] allSkeletons = new Skeleton[6];
                sf.CopySkeletonDataTo(allSkeletons);
                Skeleton[] tracked = (Skeleton[]) (
                    from s in allSkeletons
                    where s.TrackingState == SkeletonTrackingState.Tracked
                    select s
                );

                Skeleton first = (
                    from s in allSkeletons
                    where s.TrackingState == SkeletonTrackingState.Tracked
                    select s
                ).FirstOrDefault();

                if (first != null)
                {

                   var Spinepos=first.Joints[JointType.Spine].Position.Z;
                }
            } 
```

有一篇文章[Kinect for Windows：准确查找用户身高](http://www.codeproject.com/Articles/380152/Kinect-for-Windows-Find-user-height-accurately) 也试试

1.  [Kinect SDK 播放器检测](https://stackoverflow.com/questions/10562554/kinect-sdk-player-detection/10562574#10562574)
2.  [Kinect 用户检测](https://stackoverflow.com/questions/10577862/kinect-user-detection)

和一篇很好的[Kinect 入门](http://www.codeproject.com/Articles/213034/Kinect-Getting-Started-Become-The-Incredible-Hulk)文章。

# java - JAVA中带有关闭按钮和按钮事件的自动移动图像

> ID：15941202
> 
> 赞同：0
> 
> 时间：2013-04-11T05:13:29.930
> 
> 标签：java, image, animation, awt, double-buffering

我有这个代码。在此代码中，图像使用 moveImage 方法从左向右移动，并使用代码中的 moveimg 方法从右向左移动。我现在想要的是工作一个按钮事件。代码中有一个按钮，我希望当我单击该按钮时它应该完成它的工作。但它没有做..这里的代码是：

```
 import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

class MyImage extends JFrame implements ActionListener
{
   static int xPixel = 20;
   Image myImage, offScreenImage;
   Graphics offScreenGraphics;
   JPanel p = new JPanel();
   Button btn = new Button("bun");
   JFrame f = new JFrame();

   public MyImage()
   {
      myImage = Toolkit.getDefaultToolkit().getImage("mywineshoplogo.jpg");
      setExtendedState(JFrame.MAXIMIZED_BOTH);
      this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      setVisible(true);
      add(p);
      p.add(btn);
      moveImage();
      btn.addActionListener(this);
   }

   public void update(Graphics g)
   {
      paint(g);
   }

   public void paint(Graphics g)
   {
      int width = getWidth();
      int height = getHeight();
      if (offScreenImage == null)
      {
         offScreenImage = createImage(width, height);
         offScreenGraphics = offScreenImage.getGraphics();
      }
// clear the off screen image  
      offScreenGraphics.clearRect(0, 0, width + 1, height + 1);
// draw your image off screen  
      offScreenGraphics.drawImage(myImage, xPixel, 10, this);
// draw your image off screen  
// show the off screen image  
      g.drawImage(offScreenImage, 0, 0, this);
// show the off screen image  
   }

   void moveImage()   //left to right move
   {
      for (int i = 0; i < 530; i++)
      {

         xPixel += 1;
         repaint();
        // then sleep for a bit for your animation  
         try
         {
            Thread.sleep(40);
         } /* this will pause for 50 milliseconds */

         catch (InterruptedException e)
         {
            System.err.println("sleep exception");
         }
      }
   }

/*   void moveimg()   // right to left move
   {
      for (int i = 529; i > 0; i--)
      {
         if (i == 1)
         {
            moveImage();
         }
         xPixel -= 1;
         repaint();
// then sleep for a bit for your animation  
         try
         {
            Thread.sleep(40);
         } // this will pause for 50 milliseconds 

         catch (InterruptedException e)
         {
            System.err.println("sleep exception");
          }
      } 
   } */     

   public void actionPerformed(ActionEvent ae)
   {
      try
      {
         if (ae.getSource() == btn)
         {
            p.setBackground(Color.RED);
         }
      }
      catch (Exception e)
      {
         System.out.println("error");
      }
   }

   public static void main(String args[])
   {
      MyImage me = new MyImage();
   }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:01:50.553

如果您希望程序在按下关闭按钮时退出，您需要做一些事情。一是扩展Frame，扩展JFrame。然后，在调用 setVisible() 或 moveImage() 之前的构造函数中，添加以下代码：

```
this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); 
```

这使得 JFrame 在您按下框架上的关闭按钮时调用 System.exit(0)。

如果你想让你的按钮工作，你需要在你的代码中添加一些东西。首先，您需要将“implements ActionListener”添加到您的类头中。

```
public class MyImage extends JFrame implements ActionListener { 
```

然后，在类的主体中，添加以下方法：

```
@Override
public void actionPerformed(ActionEvent e){

} 
```

然后，在创建新按钮后的构造函数中，添加 yourButton.addActionListener(this); 这会创建一个侦听器并将其注册到您的按钮。每当你的按钮有一个动作，比如被点击，它就会调用 actionPerformed 方法。

如果您想使用它来退出 for 循环，我建议添加一个以 false 开头的布尔值，但在单击按钮时设置为 true。然后在你的 for 循环中，添加

```
if(exitLoop == true) break; 
```

如果布尔值 exitLoop 为真，这将从循环中退出（中断）。

# java - 在Java中搜索二叉树的所有节点

> ID：15941204
> 
> 赞同：3
> 
> 时间：2013-04-11T05:13:31.313
> 
> 标签：java, search, binary-tree

我正在尝试编写一种方法来搜索二叉树的所有节点以查找传递的值，并在找到时返回该节点。我似乎无法正确搜索树的两侧。这是我到目前为止所拥有的。

```
private Node locate(String p, Node famTree)
{  
    if (root == null)//If tree empty return null;
        return null;
    if (famTree.value.equals(p)) //If leaf contains the passed parent value the boolean becomes true.
        return famTree;
    if (famTree.left != null)
        return locate(p,famTree.left);
    else
        return locate(p,famTree.right);

} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-11T05:16:01.863

当没有左子树时，您只搜索右子树。当在左子树中找不到字符串时，您还想搜索它。这应该这样做：

```
private Node locate(String p, Node famTree)
{
    Node result = null;
    if (famTree == null)
        return null;
    if (famTree.value.equals(p))
        return famTree;
    if (famTree.left != null)
        result = locate(p,famTree.left);
    if (result == null)
        result = locate(p,famTree.right);
    return result;

} 
```

# windows - 记事本文件始终以非常小的窗口打开

> ID：15941211
> 
> 赞同：6
> 
> 时间：2013-04-11T05:14:11.567
> 
> 标签：windows, windows-7, notepad, maximize, maximize-window

无论我做什么，我都无法修复它。我在 Windows 7 上，64 位。我知道; 创建该文件的快捷方式，右键单击快捷方式并选择运行-> 最大化是一种解决方法，但这太麻烦了。我需要为每个记事本文件创建快捷方式吗？我还创建了另一个文件并将内容粘贴到新文件中，但是不，它不起作用，即使第二个文件在一个非常小的窗口中打开。我希望我的记事本文件最大化打开。我想要的太多了吗？要么是我的谷歌技能，要么我是这个星球上极少数遇到这种情况的人之一！谢谢大家

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2014-05-28T20:38:15.843

当您关闭任何应用程序时， Windows*应该*会自动记住您的窗口大小和位置。但是，有一些[警告](http://social.technet.microsoft.com/Forums/windows/en-US/a7b78530-d502-4c13-b4dc-855ef5afed25/windows-7-opens-ie-and-others-in-a-small-window?forum=w7itproperf#89f3668d-cf03-4d08-8e4a-39dc2928c248)。

### 尝试使用以下步骤重置窗口：

1.  关闭应用程序的所有实例
2.  打开应用程序的单个实例
3.  将窗口大小调整到所需的大小和位置
    *   **注意**：如果使用[Aero Snap](http://windows.microsoft.com/en-us/windows7/products/features/snap)调整窗口大小，这*将不起作用*
    *   即*不要*使用`WinKey`+箭头或将窗口拖动到任何屏幕边缘
4.  最大化窗口：           ![最大化](https://i.imgur.com/moxApZg.png)
5.  还原窗口： ![恢复下来](https://i.imgur.com/lqag1SU.png)
6.  关闭窗口：               ![关](https://i.imgur.com/QKrROKs.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-11T05:52:53.020

> 按着这些次序：-
> 
> 1.  创建 Notepad.exe 的新快捷方式。
> 2.  右键单击新创建的快捷方式，然后从“运行”下拉列表中选择“最大化”。
> 3.  单击确定。
> 4.  将快捷方式移动到您喜欢的任何位置。
> 
> **完毕**

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-11T05:27:37.673

您无法以最大化方式启动记事本。

您可以做的是调整记事本窗口的大小以占用所需的空间，并且下次打开它时应该记住该大小。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-28T13:37:11.240

来自：[http](http://www.techimo.com/forum/general-tech-discussion/92032-how-open-notepad-full-screen.html) ://www.techimo.com/forum/general-tech-discussion/92032-how-open-notepad-full-screen.html 使用最大化记事本打开 *.txt 文件 对于 Win XP 1) 选择“工具” ' > '文件夹选项' > '文件类型'。2) 单击文件类型文件夹并按字母顺序向下查找“TXT 文本文档”。3）选择它，单击高级>打开>编辑并将“用于执行操作的应用程序”框替换为： cmd.exe /c start /max C:\Windows\system32\Notepad.exe %1 （NB屏幕闪烁为cmd.exe 执行）

此选项在 Windows 7 中不可用（另一个 MS '改进'！）对于 Win 7 1) 打开记事本 2) 粘贴 cmd.exe /c start /max C:\Windows\system32\Notepad.exe %1 3) 保存作为 Notepad.cmd 方便的地方（例如 C:\ NB 不要放入 Windows\System32\ - 不起作用） 3) 右键单击​​ *.txt 文件，打开/选择默认程序...，浏览到 Notepad.cmd

# android - 从 onCreate 调用 addPreferencesFromResource 时在 PreferenceFragment 中使用 onCreateView 的奇怪错误

> ID：15941214
> 
> 赞同：6
> 
> 时间：2013-04-11T05:14:28.057
> 
> 标签：android, android-fragments, android-preferences

我正在尝试将 ImageView 添加到首选项片段以显示颜色设置的预览。我正在通过 onCreateView 方法访问 imageview 的实例来设置测试颜色，它将显示出来。但是，它仅在我不在 onCreate 方法中调用 addPreferencesFromResource 时才有效——这是一个问题，因为必须添加首选项。此外，如果我离开对 addPreferencesFromResource 的调用，但删除程序将运行的整个 onCreateView 方法（尽管没有可更新的图像视图）。

两种情况下的错误都是“内容具有 id 属性为 'android.R.id.list' 的视图不是 ListView 类”

我试图从 onCreate 访问 imageview，但是到那时布局项已经膨胀，我似乎无法访问显示的实际实例。

来自 LogCat 的错误：

```
04-11 00:42:43.619: E/AndroidRuntime(5362): FATAL EXCEPTION: main
04-11 00:42:43.619: E/AndroidRuntime(5362): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.android.signalwidget/com.example.android.signalwidget.SignalWidgetConfigure}: java.lang.RuntimeException: Content has view with id attribute 'android.R.id.list' that is not a ListView class 
```

这里是带有内联片段的 PreferenceActivity：

```
public class SigConfigure extends PreferenceActivity {

private static int prefs=R.xml.pref_widget_colors;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    //getFragmentManager().beginTransaction().replace(android.R.id.content, new ColorsFragment()).commit();

}

@Override
public void onBuildHeaders(List<Header> target) {
    loadHeadersFromResource(R.xml.pref_headers, target);
}

public static class ColorsFragment extends PreferenceFragment {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        addPreferencesFromResource(SignalWidgetConfigure.prefs);

    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {

        super.onCreateView(inflater, container, savedInstanceState);

        //just testing to see if the imageview can be accessed.
        View v = inflater.inflate(R.layout.layout_pref_row, container, false);
        ImageView iv = (ImageView) v.findViewById(R.id.color_preview);
        iv.setBackgroundColor(Color.CYAN);

        return v;
    }

}} 
```

这是 pref_widget_colors 中的首选项定义

```
<?xml version="1.0" encoding="utf-8"?>
<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android" >

    <Preference
        android:key="wifi_signal_color"
        android:title="WiFi Signal Color" >
        <intent
            android:action="android.intent.action.VIEW"
             android:targetClass="com.example.android.signalwidget.colorpicker.PickerActivity"
            android:targetPackage="com.example.android.signalwidget" />
    </Preference>
    <Preference
        android:key="cell_signal_color"
        android:title="Cell Signal Color" >
        <intent
            android:action="android.intent.action.VIEW"
            android:targetClass="com.example.android.signalwidget.colorpicker.PickerActivity"
            android:targetPackage="com.example.android.signalwidget" />
    </Preference>

</PreferenceScreen> 
```

这是 layout_pref_row.xml 中包含 imageview 的布局

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <ImageView
        android:id="@+id/color_preview"
        android:layout_width="50dp"
        android:layout_height="50dp"
        android:layout_marginTop="5dp"
        android:background="#aaa" />
</LinearLayout> 
```

尽管出现错误，但我没有在项目中的任何地方使用 ListView 或 ListFragment。这几乎看起来像一个android错误。任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-05-07T18:07:32.067

当您为 PreferenceActivity 或 PreferenceFragment 创建自定义布局时，您**必须**提供一个ID为**android.R.id.list的****ListView** ， Preferences 将在该位置。

 **```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <ImageView
        android:id="@+id/color_preview"
        android:layout_width="50dp"
        android:layout_height="50dp"
        android:layout_marginTop="5dp"
        android:background="#aaaaaa" />

    <ListView
        android:id="@android:id/list"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_marginTop="5dp" />

</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-07T17:57:47.317

我今天也遇到了这个问题。它源于此处使用 Android 教程：http: [//developer.android.com/guide/topics/ui/settings.html#Fragment](http://developer.android.com/guide/topics/ui/settings.html#Fragment)

基本上，我发现问题来自使用preferences.xml 文件：

```
addPreferencesFromResource(R.xml.preferences); 
```

一旦我将其注释掉，错误就消失了，我的活动开始显示，尽管没有偏好。我会尝试追捕并在这里跟进。

我希望这到目前为止有所帮助！抛出的异常不是很有帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-01-14T03:12:43.923

我遇到了同样的问题，解决方案是确保我正在导入正确的 Fragment 库：

```
import android.app.Fragment; 
```

（不是支持库中的版本）**

# java - 并发和异常

> ID：15941215
> 
> 赞同：1
> 
> 时间：2013-04-11T05:14:31.793
> 
> 标签：java, multithreading, exception

我想知道是否可以**同时从不同线程抛出多个异常的**情况。
如果是这样，**如何**正确处理它们以恢复应用程序并继续执行？

感谢您的回答。
欢迎好的例子。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T05:20:48.433

> 我想知道是否可以同时从不同的线程抛出多个异常的情况。

是的，有可能。

> 如果是这样，如何正确处理它们以恢复应用程序并继续执行？

`catch`块发生在抛出异常的线程中，因此每个线程都可以进行自己的清理。

如果一个`catch`块需要处理一个从多个线程引用的对象，那么您需要小心地正确锁定，就好像该对象可以被多个未处理异常的线程访问一样。

如果您已经安装了自定义[`UncaughtExceptionHandler`](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Thread.UncaughtExceptionHandler.html)，那么您需要在处理可变状态时在该处理程序中进行同步，以便在从多个线程同时调用时不会遇到并发问题。

* * *

> 如果 catch 块在启动线程的方法中怎么办？

在

```
Thread th = new Thread(new Runnable() {
  public void run() {
    throw new NullPointerException();
  }
});
th.setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() {
  public void uncaughtException(Thread thread, Throwable throwable) {
    // This gets run because the NPE ends the child thread.
    System.err.println("Uncaught " + throwable);
  } 
});
try {
  th.start();
} catch (NullPointerException ex) {
  System.err.println("Not reached");
} 
```

当子线程抛出异常时，未到达父堆栈帧中的 catch 块。

发生这种情况是因为启动一个线程不像分叉一个进程。当 fork 一个进程时，子进程获取父进程堆栈的副本，​​但是当启动一个线程时，子进程从它自己的空堆栈开始。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T05:35:59.837

如果多个线程依赖一个资源才能工作，而该资源有错误，那么使用该资源的线程都会抛出异常。你想如何处理这取决于你，但我建议每个线程处理它自己的异常，除非你有另一个线程来管理这些线程并为它们处理异常。

例如，在我去年夏天制作的一款游戏中，我的声音系统有很多通道，每个通道都有自己的线程，还有一个线程负责加载声音数据并将其添加到通道中。我最初为每个线程使用 Clip 对象，如果太多剪辑试图播放相同的声音，有时会导致错误。我为每个频道添加了一个标志，以判断是否在频道中引发了异常。如果我的声音管理器在尝试添加声音时发现一个错误的通道，它将删除该通道，在其位置添加一个新通道，并将字符串提供给通道以引用内存中加载的声音字节。同时使用 Clip 接口的许多线程还存在其他问题。在极少数情况下，整个虚拟机会由于“不支持小型转储”而失败。由于 catch 子句无法阻止虚拟机错误，我切换到另一种音效播放方法：SourceDataLine。我没有问题。

运行多个线程还有更多可能的错误。有很多方法可以处理这些错误。

# django - 在 Django 中获取作者（用户）

> ID：15941218
> 
> 赞同：0
> 
> 时间：2013-04-11T05:14:35.467
> 
> 标签：django, django-models, django-forms, django-authentication, authentication

我正在尝试使用 ModelForms 制作新闻发布应用程序，目前我正在尝试对其进行设置，以便表单自动获取经过身份验证的用户，因此当所述用户发布新闻项目时，他们的名字将出现，例如“发布者：用户”。在 models.py 文件中，我尝试过使用：`models.ForeignKey(User)`，但它不会自动设置用户，它会在表单中显示一个下拉小部件。它无法正常工作。

如前所述，我将如何实现我想要做的事情：

1.  获取发布表单的经过身份验证的用户
2.  在新闻项目的页面上张贴他的名字

根据要求发布代码：

模型.py：

```
from django.db import models
from django.forms import ModelForm
from django.contrib.auth.models import User

# Create your models here.

class NewsItem(models.Model):
    user = models.ForeignKey(User)
    date = models.DateField()
    news = models.TextField(max_length=100000)

    def __unicode__(self):
        return u'%s %s %s' % (self.user, self.date, self.news)

class NewsForm(ModelForm):
    class Meta:
        model = NewsItem 
```

视图.py：

```
from news.models import NewsForm
from django.forms import forms
from django.shortcuts import render
from django.http import HttpResponseRedirect

def news_poster(request):
    if request.method == 'POST':
        form = NewsForm(request.POST)

        if form.is_valid():
            form.save()
        return HttpResponseRedirect('/')
    else:
        form = NewsForm()
    return render(request,'news_post.html', {'form': form}) 
```

模板：

```
{% extends "base.html" %}
{% block title %}News poster {% endblock %}
{% block content %}
    <form action="/news/" method="POST">{% csrf_token %}
    {{ form.as_p}}
    <input type="submit" value="Submit" />
    </form>
{% endblock %} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T05:32:44.917

你可以`instance`用来传递用户

```
from news.models import NewsForm, NewsItem
from django.shortcuts import render
from django.http import HttpResponseRedirect

def news_poster(request):
    if request.method == 'POST':
        item = NewsItem(user=request.user)
        form = NewsForm(request.POST, instance=item)
        if form.is_valid():
            form.save()
        return HttpResponseRedirect('/')
    else:
        form = NewsForm()
    return render(request,'news_post.html', {'form': form}) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T05:20:59.150

# 楷模

添加`ForeignKey`到`User`：

```
class NewsItem(models.Model):
    user = models.ForeignKey(User)
    date = models.DateField()
    news = models.TextField(max_length=100000) 
```

# 形式

排除`user`字段表单，`NewPostForm`使其不会显示为选择。

```
class NewPostForm(forms.ModelForm):
    class Meta:
        model = NewsItem
        exclude = ('user',) 
```

# 意见

在保存之前`NewPostForm`，添加用户：

```
if form.is_valid():
    news_item = form.save(commit = False)
    news_item.user = request.user  # User posting the form
    news_item.save() 
```

# regex - JSON 使用 RegEx 从文件中删除字段

> ID：15941225
> 
> 赞同：0
> 
> 时间：2013-04-11T05:14:58.630
> 
> 标签：regex, json

我想从 JSON 文件中删除风味和 pkgT 字段，每行的格式如下：

```
 "jobID":2598752", "account":"TG-CCR120014", "user":"charngda", "pkgT":{"mvapich2-new/1.2":{"libA":["libmpich.so.1.1"], "flavor":["default:pgi/7.2-5"]}}, "startEpoch":"1338608868", "runTime":"48", "execType":"user:binary", "exec":"IOR", "numNodes":"4", "sha1":"755187bd8550881bb0c9951822e74a9a53c8d0f3", "execEpoch":1336757832, "execModify":"Fr, Ma, 1, 12:37:1, 2012", "startTime":"Fr, Ju,  , 22:47:4, 2012", "numCores":"64", "sizeT":{"bss":"36224", "text":"3502656", "data":"128944"}}, 
```

那么如何构造一个正则表达式来删除这些字段呢？谢谢！！！！

好的，我修复了 JobID 字段中缺少的报价，现在怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T05:30:42.743

既然你的字符串已经在 J​​SON 中了，为什么还要使用正则表达式呢？这只是使问题过于复杂。相反，获取您的字符串并使用带有`JSON.parse()`.

```
var str = '{ "jobID": "2598752", "account": "TG-CCR120014", "user": "charngda", "pkgT": { "mvapich2-new/1.2": { "libA": ["libmpich.so.1.1"], "flavor": ["default:pgi/7.2-5"] } }, "startEpoch": "1338608868", "runTime": "48", "execType": "user:binary", "exec": "IOR", "numNodes": "4", "sha1": "755187bd8550881bb0c9951822e74a9a53c8d0f3", "execEpoch": 1336757832, "execModify": "Fr, Ma, 1, 12:37:1, 2012", "startTime": "Fr, Ju,  , 22:47:4, 2012", "numCores": "64", "sizeT": { "bss": "36224", "text": "3502656", "data": "128944" } }';
var obj = JSON.parse(str); 
```

然后继续删除密钥。

```
delete obj['flavor'];
delete obj['pkgT'];
//returns true if deleted, false if failed 
```

然后您可以将 JSON 转换回字符串。

```
var newstr = JSON.stringify(obj); 
```

# php - 如何在同一台机器上同步不同MySQL数据库的两张表？

> ID：15941231
> 
> 赞同：1
> 
> 时间：2013-04-11T05:15:21.413
> 
> 标签：php, mysql, codeigniter

我有 2 个不同的数据库，比如说 db_one 和 db_two。每个人都有一张桌子。`db1_emp_company`和`db2_emp_info`分别。

结构如下：

```
db_one           |    db_two
__________________________________
db1_emp_company  |    db2_emp_info
__________________________________
phone_no         |    contact_no
emp_email        |    email_add
home_address     |    address 
```

这两个数据库由同一服务器上的两个不同的 php 网站托管。

我想同步这两个不同数据库的表。例如，如果用户更新`phone_no`（`db1_emp_company`在 db_one 中）它应该更新`contact_no`（`db2_emp_info`在 db_two 中）。如果用户更新`emp_email`（`db1_emp_company`在 db_one 中）它应该更新`email_add`（`db2_emp_info`在 db_two 中）。等等。

可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T10:59:46.277

为此，您可以使用事务。

```
$mysql_host                 = DB_HOST;
$mysql_username             = DB_USER;
$mysql_password             = DB_PASSWORD;
$mysql_database1            = DATABASE1;
$mysql_database2            = DATABASE2;

$mysqli = new mysqli($mysql_host, $mysql_username, $mysql_password) or die( mysql_error());

/*  Begin Transaction   */
$mysqli->autocommit(FALSE); 

/*  Insert data from db1 to db2 */
$query  =  "    INSERT INTO $mysql_database1.table1";

$a  =   $mysqli->query($query); 

$query  =  "    INSERT INTO $mysql_database1.table2
            SELECT 
                *
            FROM $mysql_database2.table2
            WHERE NOT EXISTS(SELECT * from $mysql_database1.table2)     
";
$d  =   $mysqli->query($query); 

if ($a and $b) 
{
    $mysqli->commit();      
    echo "Data synched successfully.";
} else {        

    $mysqli->rollback();        
    echo "Data failed to synch.";
} 
```

如果一个查询失败，它将不允许另一个查询运行并回滚。这只是示例代码。您可以使用更新而不是插入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-13T21:43:28.003

你可以使用 mysqldiff 来解决这个问题。检查此页面：[http ://www.mysqldiff.org/index.php](http://www.mysqldiff.org/index.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T05:58:53.783

你可以这样做：

`db_one`在 site1 中更新表时：

```
 update `db_one`.`db1_emp_company` set phone_no = '1234567890' where conditions_here;
 update `db_two`.`db2_emp_info` set contact_no = '1234567890' where conditions_here; 
```

同样的事情`db_two`：

```
 update `db_two`.`db2_emp_info` set contact_no = '1234567890' where conditions_here; #Its a same thing as above
 update `db_one`.`db1_emp_company` set phone_no = '1234567890' where conditions_here; 
```

如果您发布用于更新内容的代码。给出准确的答案会很有帮助。

# java - 带有 JACOB 和 jre 1.7 的 UnsatisfiedLinkError

> ID：15941234
> 
> 赞同：0
> 
> 时间：2013-04-11T05:15:30.647
> 
> 标签：java, path, libraries, unsatisfiedlinkerror, jacob

我整理了一个使用 JACOB 访问 iTunes 的程序......它在 Eclipse 中运行良好，但是当我导出它并在命令提示符下运行它时，我收到一个不满意的链接错误，告诉我 jacob-1.17-M2-x86.dll 是不在我的 java.library.path 中。

我尝试将其放入 system32 中，将本机库位置设置为其目录...我尝试使用 system.setproperties 技巧...但我无法弄清楚如何正确使用 java -d

我还可以做些什么？我在网上搜索了 4 个多小时试图使其兼容，但似乎没有任何效果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T20:24:16.403

我发现了一个 sun 程序员的惊人帖子，它解决了我的问题！

```
public static void addDir(String s) throws IOException {
    try {
        // This enables the java.library.path to be modified at runtime
        // From a Sun engineer at http://forums.sun.com/thread.jspa?threadID=707176
        Field field = ClassLoader.class.getDeclaredField("usr_paths");
        field.setAccessible(true);
        String[] paths = (String[])field.get(null);
        for (int i = 0; i < paths.length; i++) {
            if (s.equals(paths[i])) {
                return;
            }
        }
        String[] tmp = new String[paths.length+1];
        System.arraycopy(paths,0,tmp,0,paths.length);
        tmp[paths.length] = s;
        field.set(null,tmp);
        System.setProperty("java.library.path", System.getProperty("java.library.path") + File.pathSeparator + s);
    } catch (IllegalAccessException e) {
        throw new IOException("Failed to get permissions to set library path");
    } catch (NoSuchFieldException e) {
        throw new IOException("Failed to get field handle to set library path");
    }
} 
```

然后我在使用 JACOB 方法之前添加了

```
addDir("C:" + File.separator + "java" + File.separator + "jre7" + File.separator + "lib") 
```

像魅力一样工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-08-21T12:17:13.853

另一种解决方法：

就在您尝试加载文件之前，转到 ClassLoader.java ( `java\lang\ClassLoader.java`)。在以下行设置断点：

```
File libfile = new File(sys_paths[i], System.mapLibraryName(name)); 
```

该函数位于函数中：

```
static void loadLibrary(Class<?> fromClass, String name, boolean isAbsolute) 
```

当您执行断点并使用 IntelliJ 时，您会注意到它正在寻找的灰色路径。我的路径是`C:\Program Files\Java\jdk1.8.0_161\jre\bin`。当您将所需的 DLL 文件放在那里时，它将起作用。

# python - 如果语句不起作用（Python）

> ID：15941235
> 
> 赞同：1
> 
> 时间：2013-04-11T05:15:41.513
> 
> 标签：python, if-statement, floating-accuracy

这似乎是非常简单的代码，但由于某种原因它不起作用。我需要在某些时候输出一个值，但 if 语句似乎没有在评估。以下是我正在尝试做的基本版本。

```
dt=.1

while t<=10:
     if t==5:
          print('yes')
     t+=.1 
```

我在我的代码中确实尝试过这个，我什至让它在每个时间步都打印 t 但它不会打印“是”。我的代码中有其他 if 语句，时间间隔为

```
if 10<=t<60:
     do stuff 
```

这些 if 语句运行完美。我已经尝试过`t==5.0`，`t==float(5)`以防万一它需要，但它也不起作用。这让我发疯了，所以如果有人可以帮助我，那就太好了。我在 Ubuntu 12.4 上的 Spyder 中运行它，我收到一条消息说`import sitecustomize`失败。这和它有什么关系吗？我已经使用该消息运行了一段时间的代码，并且之前没有引起任何问题。

*编辑*

搞定了，我用过

```
if int(t)==5 and t<5+dt: 
```

谢谢您的帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T05:19:27.357

1) 浮点数没有无限精度——它们在内存中占用一定数量的位（通常为 64 或 32）。

2）他们对尾数使用二进制内部表示（基本上除了第一个有效数字之外的所有有效数字）。

3) .1 不能精确地存储为二进制表示 - 只能作为二进制位的无限重复模式，并且由于尾数只有这么大，浮点数实际上是 0.1 的近似值，而不是真正的 0.1。（然而，像 0.5 和 0.25 这样的东西可以）

4) 因此，将 0.1s 相加并不能保证有完美的结果 - 以错误的方式四舍五入会出现错误。例如，将 0.1 添加到自身十次可能会得到 1.0000...1 或 0.999999...9。

请参阅[http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html](http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html)每个计算机科学家都应该了解的浮点运算知识

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T05:32:57.250

有很多评论为什么浮点运算不准确，但没有回答如何修复代码。

长话短说，`while t<10.0+dt/2`和`if abs(t-5.0) <= dt/2`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T05:52:35.123

根据您编写的代码编写的一个非常糟糕的示例对我来说已经足够好了。
所以精度控制可能是您正在寻找的：
[http ://docs.python.org/3.3/library/decimal](http://docs.python.org/3.3/library/decimal)

```
 from decimal import *
    getcontext().prec = 3

    dt=.1

    t = 0

    while t <= 10:
        if Decimal(t) == 5:
            print('yes')
        t = Decimal(Decimal(t) + Decimal(dt))
        print(t) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-11T05:18:26.470

这是因为您`t`是浮点数，并且在机器代码中的表示精度不是 100%。您需要将其转换为整数，或更改`if`条件以解决此问题（转换为整数或使用不等式）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-11T05:22:09.360

试试这个将 t （它是浮点数）转换为整数然后比较..

```
if int(t) == 5:
   ... 
```

或者

```
import math
t_flr = math.floor(t)
if t_flr == 5:
   ... 
```

# ios - UITableView 出现问题

> ID：15941241
> 
> 赞同：2
> 
> 时间：2013-04-11T05:16:05.680
> 
> 标签：ios, xml, uitableview

我有一个通过解析 xml 文件填充的`UITableView`用途。`NSMutableArray`

**问题：**数据被添加到数组中，但在`UITableView`.

**子列表.h**

```
@interface SubList:UIViewController <UITableViewDelegate, UITableViewDataSource>
{
    IBOutlet UITableView *List1;
    NSXMLParser *xmlparser;
    NSURLConnection *conn;
    NSMutableData *webdata;
    NSString *FolderID;
    NSMutableArray *info;
    NSMutableArray *SubFolderData;
}

@property(nonatomic,retain) NSMutableArray *info;
@property(nonatomic,retain) NSMutableArray *SubFolderData;
@property (nonatomic,retain)NSString *FolderID;
@property(nonatomic,weak)IBOutlet UITableView *List1;
@property (nonatomic,retain) NSString *theXML; 
```

@结尾

**子列表.m**

```
@implementation SubList

- (void)viewDidLoad 
{
    self.navigationController.navigationBar.hidden=YES; 
    [super viewDidLoad];
    [self initWithData];
    [self GetChilds:FolderID UserID:@"1"];
}

-(void)GetChilds:(NSString*)FolderIDRecvd UserID:(NSString*)userID
{
    FolderID=[NSString stringWithFormat:@"%@", FolderIDRecvd];
    NSString *_UserID=@"1";

    NSString *soapMsg=[NSString stringWithFormat:@"<?xml version='1.0' encoding='utf-8'?>    <soap:Envelope xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'   xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:soap='http://schemas.xmlsoap.org/soap/envelope/'><soap:Body><TreeDataSubFolder xmlns='http://tempuri.org/'><FolderID>%@</FolderID><UserId>%@</UserId></TreeDataSubFolder></soap:Body></soap:Envelope>",FolderID,_UserID];

    NSURL *url=[NSURL URLWithString:@"http://192.168.1.5/interlogicsmobile/interlogics.asmx?op=TreeDataSubFolder"];
    xmlparser = [[NSXMLParser alloc] initWithContentsOfURL:url];
    NSMutableURLRequest *req=[NSMutableURLRequest requestWithURL:url];
    NSString *msgLength=[NSString stringWithFormat:@"%d",[soapMsg length]];

    [req addValue:@"text/xml; charset=utf-8" forHTTPHeaderField:@"Content-Type"];
    [req addValue:@"http://tempuri.org/TreeDataSubFolder" forHTTPHeaderField:@"SOAPAction"];
    [req addValue:@"length" forHTTPHeaderField:@"Content-Length"];
    [req setHTTPMethod:@"POST"];
    [req setHTTPBody: [soapMsg dataUsingEncoding:NSUTF8StringEncoding]];

    conn=[[NSURLConnection alloc]initWithRequest:req delegate:self];

    if(conn) {
        webdata=[[NSMutableData data] retain];
    }
}

-(void) connection:(NSURLConnection *) connection didReceiveResponse:(NSURLResponse *)   response 
{
    NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse *) response; 
    int responseStausCode = [httpResponse statusCode]; 
    [webdata setLength: 0]; 
}

-(void) connection:(NSURLConnection *) connection didReceiveData:(NSData *) data 
{
    [webdata appendData:data];
}

-(void) connection:(NSURLConnection *) connection didFailWithError:(NSError *) error 
{
    [webdata release];
    [connection release];
}

-(void) connectionDidFinishLoading:(NSURLConnection *) connection 
{
    theXML= [[NSString alloc] 
          initWithBytes: [webdata mutableBytes] 
          length:[webdata length] 
          encoding:NSUTF8StringEncoding];

    [theXML release];

    SubListParser *parserObjForData1=[[SubListParser alloc]init];
    SubFolderData=[[[NSMutableArray alloc]init]retain];
    SubFolderData=[parserObjForData1 UserXMLParser1:webdata];

    [connection release];
    [webdata release];
    [List1 reloadData];
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return([SubFolderData count]/2);
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    int row = [indexPath row]*2;
    static  NSString *cellIdentifier=@"cell";
    UITableViewCell *cell=[tableView dequeueReusableCellWithIdentifier:cellIdentifier];
    if(cell==nil)
    {
        cell=[[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault   reuseIdentifier:@"cell"] autorelease];
        cell.textLabel.text = [SubFolderData objectAtIndex:row+1];
        cell.detailTextLabel.text = [SubFolderData objectAtIndex:row];
    }

       for (int i=0; i<=[SubFolderData count]; i++) {

        NSString *filename = [SubFolderData objectAtIndex:indexPath.row];
        NSString *ext = [filename pathExtension];
        if ([ext isEqualToString:@"doc"] || [ext isEqualToString:@"DOC"]) {
            [cell.imageView setImage:[UIImage imageNamed:@"DOC.png"]];
        } else if ([ext isEqualToString:@"jpg"]|| [ext isEqualToString:@"JPG"]) {
            [cell.imageView setImage:[UIImage imageNamed:@"JPG.png"]];
        }else if([ext isEqualToString:@"pdf"]|| [ext isEqualToString:@"PDF"]){
            [cell.imageView setImage:[UIImage imageNamed:@"PDF.png"]];
        }else if([ext isEqualToString:@""]){
            [cell.imageView setImage:[UIImage imageNamed:@"Folder2.png"]];
        }else if([ext isEqualToString:@"docx"]|| [ext isEqualToString:@"DOCX"]){
            [cell.imageView setImage:[UIImage imageNamed:@"DOCX.png"]];
        }else if([ext isEqualToString:@"TIF"]|| [ext isEqualToString:@"tif"]){
            [cell.imageView setImage:[UIImage imageNamed:@"TIFF.png"]];
        }else if([ext isEqualToString:@"png"]|| [ext isEqualToString:@"PNG"]){
            [cell.imageView setImage:[UIImage imageNamed:@"PNG.png"]];
        }else if([ext isEqualToString:@"gif"]|| [ext isEqualToString:@"GIF"]){
            [cell.imageView setImage:[UIImage imageNamed:@"GIF.png"]];
        }else if([ext isEqualToString:@"jpeg"]|| [ext isEqualToString:@"JPEG"]){
            [cell.imageView setImage:[UIImage imageNamed:@"JPG.png"]];
        }
    }

    return cell;
}

@end 
```

## 编辑

```
-(NSMutableArray *)UserXMLParser1:(NSData *)WebDataRecieved1
{
    NSXMLParser *xmlparser1=[[NSXMLParser alloc]initWithData:WebDataRecieved1];
    [xmlparser1 setDelegate:self];
    BOOL success=[xmlparser1 parse];
    NSLog(@"%i",success); return listset1;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T11:13:04.487

嗨 RANA，我们不知道您是如何进行解析的，因为您没有发布任何解析器方法。但根据你的代码，我得到了一些东西

1.  此 [parserObjForData1 UserXMLParser1:webdata] 的返回类型；数组是正确的吗？

2.  如果我的猜测是正确的试试这个

SubListParser *parserObjForData1=[[SubListParser alloc]init];

SubFolderData=[[NSMutableArray alloc]initWithArray:[parserObjForData1 UserXMLParser1:webdata]];

代替

```
 SubListParser *parserObjForData1=[[SubListParser alloc]init];
    SubFolderData=[[[NSMutableArray alloc]init];
    SubFolderData=[parserObjForData1 UserXMLParser1:webdata]; 
```

我希望它对你有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T05:57:10.533

你的代表没有被输入，所以你没有设置这些，使用；

```
[List1 setDelegate:self];
[List1 setDataSource:self]; 
```

在`viewDidLoad`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T12:24:44.963

这是 sublistparser.m 文件

```
#import "SubListParser.h"
 #import "DocumentManagementAppDelegate.h"

 @implementation SubListParser
  @synthesize mParserArray,ID,URL,SubjectType,Name;
  static int count = 1;

   -(NSMutableArray *)UserXMLParser1:(NSData *)WebDataRecieved1{

NSXMLParser *xmlparser1=[[NSXMLParser alloc]initWithData:WebDataRecieved1];
[xmlparser1 setDelegate:self];
BOOL success=[xmlparser1 parse];
NSLog(@"%i",success);
return listset1;

  }
   - (void)parser:(NSXMLParser *)parser parseErrorOccurred:(NSError *)parseError {
NSLog(@"NSXMLParser ERROR: %@ - %@",  [parseError localizedDescription], [parseError   localizedFailureReason]);
 }

  - (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName 
   namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qualifiedName 
   attributes:(NSDictionary *)attributeDict 
 {  
currentElementValue =[elementName copy];
if([elementName isEqualToString:@"FileFolderDetails"]){
    item=[[NSMutableDictionary alloc]init];
   Name=[[NSMutableString alloc]init];
    SubjectType=[[NSMutableString alloc]init];
    URL=[[NSMutableString alloc]init];
   // NSLog(@"%@",Name);
}

//if ([elementName isEqualToString:@"FileFolderDetails"]) {
//  NSLog(@"Inside FolderName");
  //  SUBLIST=[[SubListParser alloc]init];
  //  SUBLIST=[attributeDict objectForKey:@"Name"]; 

//}
 }

 - (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string{
//NSLog(@"%@",string);
if(count){
    listset1=[[NSMutableArray alloc]initWithCapacity:20];
    count=0;
    Urlarray = [[NSMutableArray alloc]initWithCapacity:20];
}

if ([currentElementValue isEqualToString:@"Name"]) {
    [Name appendString:string];
    [listset1 addObject:[NSString stringWithFormat:@"%@",Name]];
        //    NSLog(@"%@",listset1);
}

if ([currentElementValue isEqualToString:@"URL"]) {
    [URL appendString:string];
    [Urlarray addObject:[NSString stringWithFormat:@"%@",URL]];
    NSLog(@"Url Array :%@",Urlarray);

}

 }
  - (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName;
{
if([elementName isEqualToString:@"FileFolderDetails"]){
[item setObject:Name forKey:@"Name"];
[item setObject:SubjectType forKey:@"Type"];
[item setObject:URL forKey:@"URL"];
[users addObject:item];
}

}

  @end 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-11T06:18:59.917

*   在界面构建器中选择您的表格视图
*   选择连接检查器
*   连接数据源并委托给文件所有者..

您的表格视图连接应如下图所示。

![在此处输入图像描述](https://i.stack.imgur.com/Yuglr.png)

添加还检查是否在调用表视图委托之前添加了数组。

# php - 不同/单独的会话前端和后端

> ID：15941248
> 
> 赞同：1
> 
> 时间：2013-04-11T05:16:54.977
> 
> 标签：php, session, login, frontend, backend

首先，我的英语不太好。

你好，我的项目有问题

我创建了一个网站，允许您从前端（作为成员）和管理员登录。我使用不同的用户名和密码登录（前端和后端），但是一旦我从后端注销，前端也会注销。

我认为这是因为我运行了`session_destroy()`脚本，它破坏了包括前端会话在内的所有会话。

`Zend Framework`我尝试使用and `Joomla`with来搜索这个`PHP`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T05:52:55.850

我想这是您以以下身份登录时的会话`admin`：

```
$_SESSION['user']['id'] = 1;
$_SESSION['user']['group'] = 'admin';
... 
```

但是，当您只是一个时，这是您的会话`user`：

```
$_SESSION['user']['id'] = 99; 
```

无论您`logout.php`位于何处，请执行以下类似操作：

```
if ($_SESSION['user']['group'] == 'admin')
    $_SESSION['user']['group'] = null;
else
    destroy_session(); 
```

我希望你明白了！

**更新**

这可能有效：

```
/* Do NOT unset the $_SESSION['user']['role'] */

if ($_SESSION['user']['role'] == 'user') {

    /* For Users */
    $_SESSION['user']['login'] = false;
    $_SESSION['user']['id'] = null;
    $_SESSION['user']['last-visit'] = null;
    $_SESSION['user']['ip'] = null;
}

if ($_SESSION['user']['role'] == 'admin') {

    /* Unset Admin Specific Variables */
    $_SESSION['admin']['login'] = false;
    $_SESSION['admin']['id'] = null;
    $_SESSION['admin']['last-visit'] = null;
    $_SESSION['admin']['ip'] = null;
}

/* Get rid of session_destroy() */
// session_destroy(); 
```

顺便说一句，您只是手动重置变量，这在某种程度上等于完全销毁会话，但仍然保持会话对另一方有效。

**更好**

```
/* Assign the `user_id` to the session, when you log in ... */
/* login.php */

$_SESSION[$user_id] = array();

/* Now fill-up the new array with data ... */
$_SESSION[$user_id]['role'] = 'admin';
$_SESSION[$user_id]['login'] = true;

/* When you want to Log out, just simply null the array based on the user_id again */
/* logout.php */

$_SESSION[$user_id] = null;

/* Here you go, as long as you have different user_id in your database, 
   you have separated sessions! */ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:22:10.750

您应该为不同的会话创建不同的变量..

以下是一些可能会派上用场的示例。

```
<?php 
 // you have to open the session to be able to modify or remove it 
 session_start(); 

 // to change a variable, just overwrite it 
 $_SESSION['size']='large'; 

 //you can remove a single variable in the session 
 unset($_SESSION['shape']); 

 // or this would remove all the variables in the session, but not the session itself 
 session_unset(); 

 // this would destroy the session variables 
 session_destroy(); 
 ?> 
```

希望能帮助到你..

# open-source - 软件数据可视化

> ID：15941253
> 
> 赞同：2
> 
> 时间：2013-04-11T05:17:31.213
> 
> 标签：open-source, odbc, real-time, data-visualization

我不知道这个问题是否属于这里......无论如何我都会问它，也许有人知道答案或者可以指导我到更合适的论坛问这样的问题。

开始了...

我正在寻找可以让我轻松可视化数据的（首选开源）软件程序。我有一个从许多其他项目数据库收集摘要数据的数据库（每次将数据添加到项目数据库并关闭时，都会向摘要数据库发送更新，包括时间戳）。我希望可以选择在交互式环境中绘制项目进度、花费的金钱或我能想到的任何其他事情。当我闭上眼睛时，我看到一个应用程序带有下拉菜单以选择特定项目和“按钮”或选项卡，这些按钮或选项卡直观地显示项目过程（例如花费的金钱或处理的表格数量与过去 6 中预期的表格处理数量个月）。

我喜欢与汇总数据库建立 ODBC 连接的选项，这样当我想了解项目的运行方式时，我总是能获得新版本的数据（实时）。

我确信存在这样的东西，但我一直无法找到它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-10T08:00:23.860

院子里有一个新项目，它可能非常适合您的需求：

[数据可视化软件实验室](http://datavisualizationsoftwarelab.com)

该库完全基于 HTML5 并且非常具有交互性 - 尝试演示。

这是您将其放入项目中的方式：

```
chart = new TimeChart({
     container: document.getElementById("timeChartContainer"),
     data: {
         dataFunction: function(from, to, step, success, fail) {
             success({
                 "unit":"M",
                 "values":[...],
                 "dataLimitFrom":1338558028000,
                 "dataLimitTo":1372567075000
             });
         },
         units: ["M"],
         area: {
             initialDisplayPeriod: "max"   
         }
     },
     width: 750,
     height: 300
}); 
```

有关完整示例，请参阅[JSfiddle](http://jsfiddle.net/UudRP/1/)。

图书馆目前处于测试阶段。提供双重许可。

快照：

![时间图示例](https://i.stack.imgur.com/Oo1Or.png)

# ruby-on-rails - 在 Rails 中动态创建模型和/或表

> ID：15941256
> 
> 赞同：13
> 
> 时间：2013-04-11T05:17:43.483
> 
> 标签：ruby-on-rails, dynamic, model

我目前正在做一个项目，该项目有一个相当不寻常的要求，我希望得到一些关于处理它的最佳方法的建议，甚至是一些可以帮助我构建解决方案的信息指针。

好的，这就是我需要做的。应用程序存储和管理各种类型的媒体文件，但应用程序的每次部署对媒体文件的元数据要求完全不同。

此元数据可以包含任意数量的不同类型的字段（单行文本、多行文本、复选框、选定值等），并且通常还需要验证，特别是存在性和唯一性验证。

应用程序需要能够轻松检索值，**最重要**的是必须能够处理这些字段的完整搜索功能。

我考虑的一个选项是使用属性列表排列，其中数据库表只包含每个媒体文件的每个元数据字段的属性名称和值。然而，在对这个解决方案进行原型设计时，很快就发现它根本不足以有效地搜索和检索记录，特别是当数据库可以相当大时，例如最近的部署有 3000 个媒体文件并且有超过 20 个元数据字段。此外，用于搜索和检索相关记录的查询很快变得非常复杂。

系统当前使用的另一个选项是预先定义元数据配置，并在部署期间运行迁移以创建具有标准名称的表和模型，以便媒体模型可以与其相关联，然后系统使用。这通常工作得很好，但它确实会导致一些重大的部署和测试问题。

例如，当您在部署之前不知道配置时，编写单元测试变得更具挑战性。尽管我可以编写示例配置并以这种方式测试代码，但它不允许我测试特定部署的特定要求。

同样，在开发中，它目前需要我将迁移从配置复制到主文件夹，运行它，完成我所有的测试和开发，然后我必须记住回滚并从主文件夹中删除该迁移，以便应用程序处于标准状态。当我修复错误并且我需要将应用程序置于特定配置中以进行测试和调试时，这尤其具有挑战性。试图在各种配置之间切换变成了一场真正的噩梦。

理想情况下，我希望能够在服务器启动时从配置文件动态创建表和模型，包括验证等。更好的是，如果我可以在一个数据库中维护多个元数据设置，每个数据库都有自己的表，这样我在它们之间切换所需要做的就是更改应用程序当前使用的配置文件。

我确信这可以用 Rails 完成，但我能找到的信息很少，可以为我在过去几天的研究中指出如何构建它的正确方向，所以任何帮助或建议将不胜感激！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T19:32:50.277

如果我理解正确，Rails 有一些巧妙的技巧可以帮助您解决这些问题。

在 ActiveRecord ORM 中，可以使用单表继承模式或使用[多态关联](http://guides.rubyonrails.org/association_basics.html#polymorphic-associations)（...更复杂但也更灵活）来对您在关系数据库中尝试执行的操作进行建模。多态关联允许模型属于不同类型的其他模型。最近有一个关于这个主题的 railscast，但我不会链接到它，因为它需要付费订阅。

在部署方面，听起来您正在手动做很多事情，这是在模式出现之前开始的正确方法。一旦您开始看到该模式，就会有一些出色的程序可用于配置、构建和部署自动化，例如[Capistrano](http://capistranorb.com/)、OpsCode [Chef](http://www.opscode.com/solutions/configuration-management/)和[Puppet](https://puppetlabs.com/puppet/what-is-puppet/)，仅举几例。您还可能受益于将您的配置和部署与您的源代码存储库集成以实现更好的工作流程。例如，使用 Git，您可以为各种媒体文件类型定义[主题分支](http://git-scm.com/book/en/Git-Branching-Branching-Workflows#Topic-Branches)，并在每个分支中具有与主题分支匹配的不同配置。

您可能想查看 Martin Fowler 的优秀著作“ [PoEAA ”以及他](https://rads.stackoverflow.com/amzn/click/com/0321127420)[网站](http://www.martinfowler.com/eaaCatalog/)上的一些主题。我希望这个答案会有所帮助，即使答案很笼统。您的问题非常广泛，没有一个简单的答案。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-27T05:27:16.087

> 应用程序的每个部署对媒体文件都有完全不同的元数据要求。

我建议将[mongoDB](http://www.mongodb.org/)用于您的数据库，[将 Mongoid](http://mongoid.org/en/mongoid/index.html)用于您的 ORM。这将为您提供根据需要更改架构所需的灵活性，而无需可怕的架构操作、动态模型/表以及所有这些恐怖。

> 应用程序需要能够轻松检索值，最重要的是必须能够处理这些字段的完整搜索功能。

这是一个搜索问题而不是数据库问题。我建议在最新版本的 mongoDB 中尝试全文搜索功能。如果这不能满足您的需求，请尝试将[elasticsearch](http://www.elasticsearch.org/)与[Tire](https://github.com/karmi/tire) gem（与 Rails 完美集成的 elasticsearch 客户端）结合使用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-21T19:06:52.070

根据您的确切要求，我可以看到一些合理的方法来解决这个问题：

1.  如果不禁止为每个元数据集编写模型和迁移，那么请继续为每个元数据集生成模型和迁移。然后，在每个环境的配置文件中——例如`config/development.rb`——将该环境所需的模型加载到全局常量中（可能`ModelConfiguration::MetadataModel`在内部`lib/model_configuration.rb`）。编写应用程序的其余部分以仅通过此常量与元数据模型进行交互。

    这种方法非常有效；它唯一真正的缺点是您在数据库中为每个模型创建了一个额外的表。在运行时，甚至从未加载未使用的模型，因此它们根本不会影响您的性能。

2.  另一方面，您可能有太多元数据模型，以至于考虑这种方法太痛苦了，或者您可能不提前知道元数据模型。在这种情况下，我会执行以下操作：

    *   让您的配置以某种易于消化的形式（也许）将当前所需的模型*配置*加载到全局常量中`ModelConfiguration::ModelJSON`。

    *   编写一个模型类，当加载时，它会查看`ModelConfiguration::ModelJSON`并调用一个类方法，以便从此配置中为其自身安装适当的字段和验证。

    *   编写一个 Rake 任务来构建一个表以匹配您的配置。请参阅[http://edgeguides.rubyonrails.org/command_line.html#custom-rake-tasks](http://edgeguides.rubyonrails.org/command_line.html#custom-rake-tasks)以快速了解如何编写 Rake 任务。最简单的方法可能是从您的配置中生成一次性迁移，然后运行该迁移（通过调用`.up`它）。这里的缺点是一次性迁移将在任务运行后消失，因此您将无法访问`rake db:rollback`.

    这种方法非常通用，其最大的优点是您无需更改代码即可获得配置更改，这使您在存储和部署配置方面有很大的自由度。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-15T00:26:18.790

您所描述的内容听起来与使用键值存储的非传统存储机制的定义要求完全相同。

我从以下方面感受到这一点：

*   “完全不同的元数据要求”和“任意数量的不同类型的字段”——键值数据存储通常没有模式，并且对于动态变化的不同记录布局非常灵活。

*   应用程序需要能够轻松检索值，最重要的是必须能够处理这些字段的完整搜索功能。键值存储在检索和过滤查询行时非常有效。

“数据库表只包含每个元数据的属性名称和值的属性列表排列”基本上是一个键值存储。

一些选项是：

*   [雷迪斯](http://redis.io/)

*   [沙发数据库](http://couchdb.apache.org/)

*   [MongoDB](http://www.mongodb.org/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-08-01T14:01:09.280

也许使用存储元数据的 jsonb 字段并创建一个动态视图层来处理这些。

# asp.net - 用ajax上传图片到服务器

> ID：15941257
> 
> 赞同：0
> 
> 时间：2013-04-11T05:17:49.150
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-3

以下是我的表格

```
<form id="postProblemForm" action="/Problems/Post"  method="post">
<input type="text" id="problemSubject" name="problemSubject" class="inp-form"/>
<input type="file" id="uploadFile" name="uploadFile"/>
<textarea rows="" cols="" class="form-textarea" id="problemDescription" name="problemDescription"></textarea>
</form> 
```

我必须将此表格发送给控制器。控制器代码是

```
[HttpPost]

        public void Post(FormCollection form) 
        {
            string subject = form["problemSubject"];
            string description = form["problemDescription"];
            HttpPostedFileBase photo = Request.Files["uploadFile"];

        } 
```

我可以轻松获得“problemSubject”和“problemDescription”值。但不知道如何获取上传的图像并将其保存在服务器端。我想保存在“~/ProblemImages”。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T07:57:40.037

您不能通过 FormCollection 将文件传输到控制器，您需要使用以下内容：

```
 [HttpPost]
        public ActionResult Save(IEnumerable<HttpPostedFileBase> attachments)
        {
            // The Name of the Upload component is "attachments" 
            foreach (var file in attachments)
            {
                // Some browsers send file names with full path. This needs to be stripped.
                var fileName = Path.GetFileName(file.FileName);
                var physicalPath = Path.Combine(Server.MapPath("~/App_Data"), fileName);

                file.SaveAs(physicalPath);
            }
            // Return an empty string to signify success
            return Content("");
        } 
```

而且你在没有任何插件帮助的情况下这样做也不是一个好主意，我使用了一些插件，我发现 Kendo UI 上传插件很好，这是一个如何工作的链接：

[http://demos.kendoui.c​​om/web/upload/async.html](http://demos.kendoui.com/web/upload/async.html)

你可以在这里找到示例项目：http: [//www.kendoui.c​​om /forums/ui/upload/upoad-with-mvc.aspx](http://www.kendoui.com/forums/ui/upload/upoad-with-mvc.aspx)

# ios - 委托代码应该在哪个队列上运行

> ID：15941259
> 
> 赞同：3
> 
> 时间：2013-04-11T05:17:52.027
> 
> 标签：ios, objective-c, multithreading, grand-central-dispatch

假设你有一个对象在私有调度队列上做一些内部工作（想想那些不熟悉 GCD 的人的线程）。该对象在其所做的工作中的不同时间通知其委托。从代码当前运行的私有队列中调用委托方法是个坏主意，还是应该在更知名的队列上调用它们？如果是后者，什么队列？似乎主队列可能并不总是您想要的。

**选项 A**

```
dispatch_async(private_queue, ^{
    // Do some work...
    [self.delegate tellItWorkWasDone:self];
}); 
```

**选项 B**

```
dispatch_async(private_queue, ^{
    // Do some work...
    dispatch_sync(dispatch_get_main_queue(), ^{
        [self.delegate tellItWorkWasDone:self];
    });
}); 
```

选项 A 的好处是它简单，但缺点是实现委托方法的人将在他们确实不应该在的队列上运行代码。选项 B 可能更安全，但 main_queue 只是一个例子；两者应该如何真正决定他们应该使用什么队列？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-21T17:04:25.600

实际上，我建议使用选项 C：为委托回调设置一个专用队列，*除非必须在您的课程继续之前完成委托的活动*，在这种情况下使用选项 A。

如果 UI 需要更新，delegate 可以自己调度到主队列，不要强制它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T05:43:29.293

如果您的代表负责更新 UI，那么您绝对应该使用选项 B，因为[Apple 说](http://developer.apple.com/library/ios/#documentation/2DDrawing/Conceptual/DrawingPrintingiOS/GraphicsDrawingOverview/GraphicsDrawingOverview.html)

> **重要提示**：并非所有 UIKit 类都是线程安全的。在对应用程序主线程以外的线程执行绘图相关操作之前，请务必查看文档。

如果不是这种情况，选项 A 也应该没问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T06:59:08.923

我相信这是您和您的 API 用户之间的合同问题。无论您选择哪种方法，都要明确说明，因为您的 API 的用户必须知道它。

正如@andreagiavatto 正确指出的那样，该决定的意义在于更新 UI 必须在主线程上完成。如果你没有明确说明你的*回调*或*完成处理程序*是否总是在主线程上排队，你的 API 的用户必须总是采取额外的步骤将它包装在另一个 dispatch_async() 到主线程中，如果它与 UI 相关。

如果您是 API 的唯一用户，那么明确和一致有助于避免愚蠢的错误。

以下是我选择这样做的方式：

1.  一般规则是我的委托回调与异步运行的代码内联调用，作为您的**选项 A**。
2.  如果委托回调的目的是提供 UI 反馈的 99%，我将它们排在主线程上，作为您的**选项 B**，并将其记录在头文件和文档中。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-05-11T11:06:17.853

您还可以在类的 init 中添加一个 delegateQueue 参数。这样，您可以让类的使用者完全控制触发委托调用的队列。

其他答案是正确的，说 UI 操作应该发生在主队列上。但是，如果您的类在消费类不需要时将委托调用排队在主队列上，那将是一种浪费。

# java - 类型不匹配：无法转换 MyClass 到我的班级

> ID：15941265
> 
> 赞同：3
> 
> 时间：2013-04-11T05:18:27.550
> 
> 标签：java, generics, inner-classes

关于泛型和/或内部类，我缺少一些东西。我想用一个专门的迭代器编写一个专门的树类。FooTree 类如何具有返回 FooTree 类型的连续节点而不是 V 类型的节点值的迭代器？课程开始：

```
public class FooTree<V>
   private final V value;
   private FooTree<V> left;
   private FooTree<V> right; 
```

我将 Iterator 类设为内部类，因为没有人会关心它。FooTree 中定义的获取迭代器的工厂方法是：

```
public Iterator<FooTree<V>> preorderIterator() {
    return this.new PreorderIterator<FooTree<V>>;
} 
```

由于 next() 必须返回一个 V，正如接口中声明的那样，我添加了 nextNode() 来绕过返回类型。内部类开始：

```
private class PreorderIterator<V> implements Iterator<V> {
   private FooTree<V> current;  
   . . .
   public FooTree<V> nextNode() {
      current = FooTree.this;                        ** 
```

我得到了这个美妙的编译器错误：（
`Type mismatch: cannot convert from ...FooTree<V> to ...FooTree<V>` 两者都是同一个包）
Eh wot！？
我可以通过添加一个演员来编译它： current = (FooTree)FooTree.this; 但为什么我必须首先这样做？它是否试图变得“聪明”并认为第一个 V 可能与第二个 V 不同？

这样做的正确方法是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-11T05:22:39.053

尝试做出声明：

```
private class PreorderIterator implements Iterator<V> 
```

在`<V>`你的内部类中是不必要的，在这种情况下，没有帮助。

实际发生的情况是`<V>`in`PreorderIterator<V>`正在从外部类“隐藏” the `<V>`，因此尽管它们看起来是相同的类型参数，但它们实际上是碰巧具有相同名称的不同参数。

# xcode - 无法将 Xcode 项目复制到另一个版本的 OS X

> ID：15941266
> 
> 赞同：0
> 
> 时间：2013-04-11T05:18:32.593
> 
> 标签：xcode, macos, compatibility

我在 OS X 10.8 上使用 Xcode 4.5.1 创建了一个项目。配置为： 项目：架构：标准（32/64 位英特尔） 基础 SDK：OS X 10.7 部署目标：10.7

起初一切都很顺利。但是，当我在 OS X 10.7 上将此项目复制到另一台带有 Xcode 4.4.1 的 Macbook 时，会引发运行时错误。

* * *

上面的配置未更改，并且从文件中获取配置字符串的方法发生错误：

```
+(NSString *)configValueFromFile:(NSString *)path
               withParameter:(NSString *)parameter
{
const char *cPath = [path UTF8String];
const char *cPara = [[parameter uppercaseString] UTF8String];
char buff[CFG_CONFIG_READ_TOOL_BUFFER_LEN];
size_t paraLen = [parameter length];
size_t lineLen;
FILE *fileFd = NULL;
//struct stat dummyFileStat;
BOOL isValueFound = NO;

NSString *ret = nil;

/* open file *//*
if (0 != stat(cPath, &dummyFileStat))
{
    NSLog(@"stat() %@: %@", path, [AMCTools strError]);
    return nil;
}*/

fileFd = fopen(cPath, "r");
if(!fileFd)
{
    NSLog(@"fopen() %@: %@", path, [AMCTools strError]);
    return nil;
}

/* read configuration */
while((!feof(fileFd)) && (!isValueFound))
{
    @autoreleasepool {
        size_t tmp;

        fgets(buff, sizeof(buff), fileFd);
        if ('\0' == buff[sizeof(buff) - 1])
        {
            break;
        }

        /* get a line */
        lineLen = strlen(buff);
        if ((0 == lineLen) || ('#' == buff[0]))
        {
            continue;   /* !!!!!!! */
        }

        while(('\n' == buff[lineLen - 1]) ||
              ('\r' == buff[lineLen - 1]))
        {
            buff[lineLen - 1] = '\0';
            lineLen --;
        }

        //NSLog(@"Get line: %s", buff);

        /* upper case the parameter */
        for (tmp = 0;
             (tmp < lineLen) || ('=' != buff[tmp]);
             tmp++)
        {
            if ((buff[tmp] >= 'a') && (buff[tmp] <= 'z'))
            {
                buff[tmp] += 'A' - 'a';
            }
        }

        /* compare */
        if (0 == strncmp(cPara, buff, paraLen))
        {
            isValueFound = YES;

            /* fetch value sector */
            for (tmp = paraLen; tmp < lineLen; tmp++)
            {
                if ('=' == buff[tmp])
                {
                    tmp++;
                    break;
                }
            }   // end: for (tmp = paraLen...)

            if (tmp >= lineLen)
            {
                /* no parameter values */
                ret = @"";
            }
            else
            {
                /* skip blank */
                for (/**/; tmp < lineLen; tmp++)
                {
                    if ((' ' != buff[tmp]) &&
                        ('\t' != buff[tmp]))
                    {
                        break;
                    }
                }
                ret = [NSString stringWithUTF8String:buff+tmp];
            }
        }   // end: compare
    }   // end: autoreleasepool
}   //end: while(...)

ENDS:
    if (fileFd)
    {
        fclose(fileFd);
    }
    return ret;
} 
```

这个方法一直很好，直到“return ret”，它抛出一个错误“**线程1：信号SIGABRT** ”；

* * *

我该怎么办？

谢谢！！

* * *

*科迪*的更多信息：

1.  关于您的担忧：

哦，我忘了提到我确实使用了 ARC。它不应该被释放。

你提到了这条线：

```
const char *cPara = [[parameter uppercaseString] UTF8String]; 
```

如果不合适，我应该如何更正？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:37:04.553

嗯，看起来你的返回值被释放了。据我所知`stringWithUTF8String:`返回自动释放的字符串。在你的情况下，它在`@autoreleasepool`块内。当块结束时 ret 被释放并且你返回一些垃圾。

我也担心这条线：

```
const char *cPara = [[parameter uppercaseString] UTF8String]; 
```

这里 cPara 将指向临时字符串内。这可能是泄漏，也可能是崩溃（使用 ARC）。您应该将大写字符串存储在一些中间变量中：

```
NSString uppercaseParam = [parameter uppercaseString];
const char* cPara = [uppercaseParam UTF8String]; 
```

你绝对应该看看 ARC - 这是一个非常方便的功能。

# bash - 如何在 bash 脚本中使用 bash 配置文件中定义的函数？

> ID：15941267
> 
> 赞同：5
> 
> 时间：2013-04-11T05:18:37.783
> 
> 标签：bash, function, export, profile

我的 bash_profile 中有一个投影功能。现在我试图从 bash 脚本调用这个函数，但是我得到一个未找到的错误。如何使投影功能对 bash 脚本可见？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T05:38:51.157

您必须导出函数

```
export -f foo 
```

[`ref`](http://github.com/svnpenn/dotfiles/blob/master/.functions)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:39:59.870

理智但不一定优雅的方法是将函数放在单独的文件中，并从您的配置文件和脚本中获取它。

如果要使所有脚本都可以使用该函数，则需要导出该函数，但是 - 与全局变量一样 - 从长远来看，这不是很容易维护。

# ruby-on-rails - Rails 与 first_or_create 的嵌套关联

> ID：15941270
> 
> 赞同：0
> 
> 时间：2013-04-11T05:19:06.603
> 
> 标签：ruby-on-rails, associations, has-many-through, has-many

我有一个`comic_books`有很多问题的表，每个问题都有一个`author and illustrator`，当前仅存储为字符串。使用`has_many:through`漫画书来解决问题效果很好，现在我正在尝试弄清楚如何为作者和插画家添加关联。

问题是作者和插画家有时是同一个人。如果您单击插画家，我想查看他/她所写或插图的具体问题。如果我设置一个`has_one belongs_to association`我只会得到插图或作者的卷结果，但我想要来自同一个“创作者”。

所以这导致我尝试了一张`creator`桌子，但我不知道如何放置关联。我想要一个在作家和插画家中存储`name`, 和 a的创建者表。`creator_id`

然后我想打电话

```
issue.illustrator.first_or_create!('bob smith') 
```

但这是不对的。我不想要独立的插画家和作家表，因为他们每个人都有相同的名字。我需要进一步抽象出来，但我似乎无法弄清楚。

我想如果不存在，我想创建一个新的创建者记录并存储`creator_id`到 illustrator 表中，以便我可以引用 issue.illustrator.name，但名称值实际上是在创建者表中......

有没有更好的方法来完成整个任务？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:39:49.190

关于您尝试分配插画家的尝试，您可能想要做这样的事情：

```
issue.illustrator = Illustrator.first_or_create(name: "Bob Smith") 
```

取决于您使用的型号。我对你有什么模型以及你最终如何构建它们的关联有点迷失了。

我可能会处理这种情况的方式是`Creator`为作者和插画家使用一个类，并使用第三个交叉引用模型（例如，调用`Involvement`）将其链接到特定`Issues`的，并指定他们的角色在第三个模型。关联看起来像这样（忽略`Comic`，因为听起来您通过 跟踪作者/插画家`Issue`）：

```
class Issue < ActiveRecord::Base
  has_many :involvements
  has_many :creators, through: :involvements
  ...
end

class Creator < ActiveRecord::Base
  has_many :involvements
  has_many :issues, through: :involvements
  ...
end

class Involvement < ActiveRecord::Base
  belongs_to :issue
  belongs_to :creator

  # This model would then have an extra property to store the type of involvement
  # ie. author, illustrator, author/illustrator
  attr_accessible :type, ...
end 
```

（我倾向于在位掩码整数`type`上创建属性`Involvement`，因此它可能`1`适用于作者、`2`插画家和`3`作者/插画家。）

这样，您可以使用以下内容将 a 添加`Creator`到 an `Issue`：

```
inv = Issue.involvements.create(type: ...) # Whatever's appropriate
inv.creator = Creator.find_or_create('Bob Smith') 
```

# java - XStream 错误解决

> ID：15941273
> 
> 赞同：0
> 
> 时间：2013-04-11T05:19:32.567
> 
> 标签：java, parsing, xstream

我正在使用 java 应用程序使用 XStream 解析一些 XML。

XML是：

```
<object>
      <name>an Object Name</name>
      <ncss>154</ncss>
      <functions>48</functions>
      <classes>1</classes>
      <javadocs>44</javadocs>
    </object> 
```

解析时出现以下错误：

```
Exception in thread "main" com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter$UnknownFieldException: No such field java.lang.Object.name
---- Debugging information ----
field               : name
class               : java.lang.Object
required-type       : java.lang.Object
converter-type      : com.thoughtworks.xstream.converters.reflection.ReflectionConverter
path                : /objects/object/name
class[1]            : compareObjects.input.Objects
version             : null
-------------------------------
    at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.determineType(AbstractReflectionConverter.java:453)
    at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:294)
    at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:234)
    at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:72)
    at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:65)
    at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:66)
    at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:50)
    at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.doUnmarshal(AbstractReflectionConverter.java:322)
    at com.thoughtworks.xstream.converters.reflection.AbstractReflectionConverter.unmarshal(AbstractReflectionConverter.java:234)
    at com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:72)
    at com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:65)
    at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:66)
    at com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:50)
    at com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:134)
    at com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)
    at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1058)
    at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1042)
    at com.thoughtworks.xstream.XStream.fromXML(XStream.java:913)
    at com.thoughtworks.xstream.XStream.fromXML(XStream.java:904)
    at compareObjects.Logic.mainClass.main(mainClass.java:60) 
```

这是因为我的代码包含一个带有成员 name 的 Object 类，但 JDK 指的是 java.lang.Object 类，它没有这样的字段。

我该如何解决这个冲突？欢迎任何帮助。提前致谢。

编辑：相同的代码是：

```
package compareObjects.Logic;

    import java.io.BufferedReader;
    import java.io.File;
    import java.io.FileReader;
    import java.io.IOException;
    import java.util.ArrayList;

    import com.thoughtworks.xstream.XStream;
    import com.thoughtworks.xstream.io.xml.DomDriver;
    import com.thoughtworks.xstream.io.xml.XmlFriendlyNameCoder;

import compareObjects.input.*;
import compareObjects.outPut.changedObject;
import compareObjects.outPut.changedObjects;

    public class mainClass {

    public static void main(String[] args) throws IOException{

        BufferedReader br = new BufferedReader(new FileReader(new File("D:\\Object\\old_code_complexity.xml")));
        BufferedReader br2 = new BufferedReader(new FileReader(new File("D:\\Object\\new_code_complexity.xml")));

        String line;  //two strings to hold the old and new file's contents
        String line2;

        StringBuilder sb = new StringBuilder();
        StringBuilder sb2 = new StringBuilder();

        //Objects representing the output to be stored in XML Format

        changedObjects oPack = new changedObjects();

        // remove multiple occurrences of space in the xml input file old_code_complexity.xml
        while((line=br.readLine())!= null){
            sb.append(line.trim());
        }

        String x = sb.toString();

     // remove multiple consecutive occurrences of spaces in contents of new_code_complexity.xml
        while((line2=br2.readLine())!= null){
            sb2.append(line2.trim());
        }

        //Create xstream instance to disable xstream from pushing extra _ character as escape sequence

        XStream xstream = new XStream(new DomDriver("UTF-8", new XmlFriendlyNameCoder("_-", " ")));

        // Create aliases to shorten class names in output file.

        xstream.alias("objects",Objects.class);

        Objects oList = (Objects)xstream.fromXML(x);

        String x2 = sb2.toString();
        Objects oList2 = (Objects)xstream.fromXML(x2);

        for(int i = 0; i< oList.getSize();i++)
        {
           for(int j = 0; j< oList2.getSize();j++)

        {
           if(oList.getObject(i).getName().equals(oList2.getObject(j).getName()))
           {

               if(oList.getObject(i).equals(oList2.getObject(j)))
                    {
                      oPack.addSimilarObject(((new changedObject("old_code_complexity.xml",oList.getObject(i),"new_code_complexity.xml",oList2.getObject(j)))));
                    }
            else
            {
                oPack.addChangedObject(((new changedObject("old_code_complexity.xml",oList.getObject(i),"new_code_complexity.xml",oList2.getObject(j)))));

            }

         }
          }

        }

        System.out.println(xstream.toXML(oPack));
        System.out.println("Objects Changed " + oPack.getDifferentObjects());
        System.out.println("Packages Not Changed" + oPack.getSimilarObjects());

    }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:08:50.463

*路径：/对象/对象/名称*

我认为你的 xml 的根需要是`<objects>`标签。例如

```
<objects>
    <object>
      <name>an Object Name</name>
      <ncss>154</ncss>
      <functions>48</functions>
      <classes>1</classes>
      <javadocs>44</javadocs>
    </object>
</objects> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T18:00:09.017

```
xstream.alias("objects",Objects.class); 
```

这告诉它在 xml 中遇到标记时`XStream`创建一个`Object`类型。`Objects``<objects>`

你没有告诉它它应该做什么`<object>`，所以它（我认为）创建它知道的那个，即。`java.lang.Object`.

正如我在评论中提到的，也许你需要

```
xstream.alias("object", Your.Package.Object.class); 
```

# android - 在android中将布局转换为位图时获取倒置图像

> ID：15941274
> 
> 赞同：1
> 
> 时间：2013-04-11T05:19:35.583
> 
> 标签：android, android-layout, android-widget

我正在尝试使用下面的代码将我的布局转换为图像。

```
LinearLayout rlpage = (LinearLayout)findViewById(R.id.rlpage);
rlpage.setDrawingCacheEnabled(true);
Bitmap viewBitmap = rlpage.getDrawingCache();
ByteArrayOutputStream baos = new ByteArrayOutputStream();  
viewBitmap.compress(Bitmap.CompressFormat.JPEG, 100, baos);
 byte[] toSend = baos.toByteArray();  
        try {
            fileOutputStream.write(toSend);
            fileOutputStream.flush();
            fileOutputStream.close();
        }
        catch(Exception e)
        {

        } 
```

这是我的布局

![在此处输入图像描述](https://i.stack.imgur.com/LX0su.jpg)

这是输出图像

![在此处输入图像描述](https://i.stack.imgur.com/feFVw.jpg)

这是什么原因以及如何克服这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T05:27:00.193

希望对你有帮助：

```
image_view.setDrawingCacheEnabled(true);
            Bitmap bmp =Bitmap.createBitmap(image_view.getDrawingCache());
            image_view.setDrawingCacheEnabled(false);

            ByteArrayOutputStream baos = new ByteArrayOutputStream();
            bmp.compress(Bitmap.CompressFormat.PNG, 100, baos);
            byte[] image = baos.toByteArray(); 
```

您可以用您的特定布局替换您的 image_view。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:38:23.367

我认为原因是JPEG只支持完全不透明的像素。正如 Meghs 建议的那样，对 PNG 使用压缩会更好。查看[compress() 方法文档](http://developer.android.com/reference/android/graphics/Bitmap.html#compress%28android.graphics.Bitmap.CompressFormat,%20int,%20java.io.OutputStream%29)。

# ios - 键盘上的 UITextview 委托崩溃确实显示了通知

> ID：15941287
> 
> 赞同：0
> 
> 时间：2013-04-11T05:20:56.963
> 
> 标签：ios, delegates, crash, notifications

我在 Y 类中使用 UITextView，并且我在 X 中添加了 Y 类作为子视图。现在，当在 UITextview 中开始编辑时，在 UIKeyboardDidShowNotification 上发送通知时，当它发送通知时需要完成两个任务 1\. 将整个视图向上移动 P 个单位 2\. 键盘动画自行发生

这是我正在做的代码......

注意：- NewTagDesc 是一个 UIView

```
 @protocol TagDescDelegate;

@interface NewTagDesc : UIView <UITextViewDelegate>
{
    __unsafe_unretained id <TagDescDelegate> delegate;
}

@property (nonatomic, unsafe_unretained) id <TagDescDelegate> delegate;

//it crashes here, if you touch desc too freq. says its calling this method and this class is deallocated
-(void) noticeShowKeyboard:(NSNotification *)inNotification {
    if ([delegate respondsToSelector:@selector(editingDescStarted:)]) {
        [delegate editingDescStarted:self];
    }
    keyboardVisible = YES;
}

-(void) noticeHideKeyboard:(NSNotification *)inNotification {
    if ([delegate respondsToSelector:@selector(editingDescEnded:)]) {
        [delegate editingDescEnded:self];
    }
    keyboardVisible = NO;
} 
```

现在当通知被触发时，我的应用程序崩溃了。说它已被分配并调用noticeShowKeyboard...：O .....我直觉错误可能与使用委托的方式或通知有关。任何人都可以帮忙....我很长时间以来一直在研究这个问题

# reporting-services - 使用不同的线条样式而不是颜色

> ID：15941291
> 
> 赞同：1
> 
> 时间：2013-04-11T05:21:15.527
> 
> 标签：reporting-services, charts, lines

我正在 Visual Studio 2010 中制作 SQL Reporting Services 报告。该报告需要一个折线图。

它为不同的系列组提供不同的颜色，这没关系。但是，因为它可能会在黑白打印机上打印出来，所以我被要求更改线条以使用破折号、点等而不是颜色。

这可能吗？如果可以，怎么办？我在 2005 年看到过示例，但设计器在 Visual Studio 2010 中完全不同，我找不到类似的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T13:07:43.897

您可以使用以下选项设置此条件线样式：

![在此处输入图像描述](https://i.stack.imgur.com/0qiXW.png)

在**Border** -> **Line Style**下，您需要设置表达式，例如：

```
=IIf(Fields!groupingValue.Value = 1, "Solid", "Dashed") 
```

`Switch`如果您需要更复杂的逻辑，可以将其更改为表达式。

# c++ - 如何在 linux 上为 iOS 构建静态库

> ID：15941292
> 
> 赞同：1
> 
> 时间：2013-04-11T05:21:15.653
> 
> 标签：c++, ios, linux

我有在 linux 上编写的 c++ 静态库。是否可以为 iOS 构建这个库？

我已经安装了 g++-arm-linux-gnueabi，但是当我尝试这样做时：

```
arm-linux-gnueabi-g++-4.7 main.cpp -o mn -march=armv7 
```

输出是：

```
target CPU does not support ARM mode 
```

谢谢和对不起我的英语

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T06:40:07.773

0：如果你没有源代码，那是不可能的。另请阅读以下内容：

`C/C++ library`1：在 XCode（下`OS X->Framework & Library`）中创建一个新的。

2：将**所有**头文件放入字典中（这不是必须的，但对以后组织项目有很大帮助，还有头文件导入路径）。

3：将您的源代码导入库项目。

4：将库项目字典拖到要导入的项目窗口中。请记住，**仅**将头文件保留在库项目之外，删除其他任何内容以防止编译时由 XCode 引起的一些意外问题。很难用语言来解释，我给你看个截图：

![将头文件保留在库项目之外](https://i.stack.imgur.com/J3g4A.png)

5：设置依赖项和标题搜索路径，然后你就可以开始了。

听起来很容易，对吧？不要被愚弄。

你会遇到很多细节问题，例如 XCode 找不到你的头文件路径、链接错误（找不到符号）、编译器错误或使用错误的 C++ 标准、CPU 架构......等。

不过这些都可以解决，试一试，值得一试：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:44:29.157

在 Mac OS X 以外的任何平台上都没有支持构建 iOS 应用程序或库的方法。

将库中的源代码带到 Mac 上，将其导入 Xcode 项目，然后在那里尝试。

# jquery - 如何在jquery中使用正则表达式获取@到@之间的数据

> ID：15941294
> 
> 赞同：2
> 
> 时间：2013-04-11T05:21:42.573
> 
> 标签：jquery, regex

这是我的代码，在下面

```
$(".xyz").contextMenu({
menu: 'myMenu'
}, function(action, el, pos) {
var str= $(el).text();

    var result = ""; 

alert(
    'Element text: ' + str + '\n\n'+result+'\n' 
     );
 }); 
```

str 的值可能如下所示

```
 str ="201-201 abc xyz 123"; 
```

这里 str 的长度不固定，我想分隔为 str（例如**201-201 abc xyz**和**123**），这里第一个和最后一个单独的部分长度不固定。这里的结果将从最后一个到仍然在空格之前（即 123）

这里的结果是123（结果=123，结果长度不固定）；

我该如何解决？或者

```
if str ="201-201 abc xyz @123"; 
```

那么我怎样才能从@ 得到仍然持续的结​​果。

或者

```
if str ="201-201 abc xyz @123@"; 
```

那么我如何在@和@之间产生结果。

结果长度不固定（可能是 1 或 12 或 123 或...）

请帮我？有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:26:23.817

您可以执行以下操作：

```
"@([^@]*)@" 
```

对于正则表达式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:27:56.533

要匹配字符串中的最后一个单词， skipping `@`，您可以使用以下表达式：

```
var result = '201-201 abc xyz @123@'.match(/(.*)\s[@|](.*?)[@|]$/)
console.log(result[2]); 
```

`result`应该是这样的数组：

```
["201-201 abc xyz @123@", "201-201 abc xyz", "123"] 
```

这里，索引 0 匹配整个字符串，而索引 1 和 2 匹配它的第一和第二部分。

* * *

**编辑** 要匹配字符串中的最后一个单词，跳过`@`，你可以使用试试这个：

```
var result = '201-201 abc xyz @123@'.match(/.*\s(.*?)$/);
var lastWord = result[1];
lastWord.replace(/@/g, '');
console.log(lastWord); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T05:31:39.550

为什么不只是：

```
str ="201-201 abc xyz @123@";

var parts = str.split('@');

console.log(parts[1]); // 123 
```

**[演示](http://jsfiddle.net/NmwEN/)**

* * *

要检查这两种情况，您可以执行以下操作：

```
str ="201-201 abc xyz 123";
if(str.indexOf('@') != -1) {
    var parts = str.split('@');
    console.log(parts[1]); 
} else {
    var parts = parseInt(str.match(/\d+$/), 10);
    console.log(parts); 
} 
```

`**[Working Demo](http://jsfiddle.net/NmwEN/1/)**`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-11T05:42:31.547

如果您想要字符串的最后一部分，这可能是您的解决方案

```
// Sample string
str = "201-201 abc xyz 123"

// Split the string into parts separated by <space>.
parts = str.split(" ")
// Parts is now an array containing ["201-201", "abc", "xyz", "123"]
// so we grab the last element of the array (.length -1)
last = parts[parts.length-1] 
```

如果你想要字符串的最后一个*数字*部分

```
// Match using regular expressions. () is a "capture group" \d means digits
// and + means we want 1 or more. the $ is a symbol representing the end of the string.
// The expression can be read as; "capture 1 or more digits at the end of the string".
matches = str.match(/(\d+)$/)
// Matches will be stored in an array, with the contents ["123", "123"]
// The first part is the fully matched string, the last part is the captured group.
numeric = matches[1]; 
```

# java - 两个集群，每个集群有 12 个节点——Cassandra 数据库

> ID：15941296
> 
> 赞同：0
> 
> 时间：2013-04-11T05:21:45.123
> 
> 标签：java, cassandra, cluster-computing, pelops

我已经开始研究我正在使用的项目`Cassandra database`。

我们的生产 DBA 已经设置好`two cluster`，每个集群都有`12 nodes`.

我将使用`Pelops client`从 Cassandra 数据库中读取数据。现在我正在考虑使用创建集群时应该添加多少个节点来创建`Cluster`类的最佳方法是什么？`Pelops client``Pelops`

`pelops client`我的理解是使用all创建集群，`24 nodes`因为我将有两个集群，每个集群有 12 个节点？这是正确的做法吗？

**如果不是，那么我们如何决定在使用 Pelops 客户端创建集群时应该添加哪些节点（来自每个集群）？**

```
String[] nodes = what nodes I should use from two clusters? And how many nodes I should add?; 

int port = cfg.getInt("cassandra.port"); 

boolean dynamicND = true; // dynamic node discovery 

Config casconf = new Config(port, true, 0); 

Cluster cluster = new Cluster(nodes, casconf, dynamicND); 

Pelops.addPool(Const.CASSANDRA_POOL, cluster, Const.CASSANDRA_KS); 
```

谁能帮我解决这个问题？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T07:51:55.203

我将尝试更好地解释另一篇文章中的评论。我的建议是给 pelops 只是每个集群的种子。假设每个集群有 2 个种子，我将使用这 4 个节点来创建我的池。

您正在使用 Pelops——来自 Dominic Williams（Pelops 创建者）文档：

*要创建池，您需要指定名称、已知联系节点列表（**该库可以自动检测集群中的其他节点**，但请参阅末尾的注释）、节点正在侦听的网络端口以及控制池中连接数等内容的策略。*-- 所以没有必要传递整个节点列表。

来自 Cassandra 文档：

*Cassandra 节点使用一种称为 Gossip 的机制交换彼此的信息，**但要让球滚动，新启动的节点需要至少知道另一个节点，这称为种子。习惯上选择少量相对稳定的节点作为你的种子**，但这里并没有一成不变的规则*

我从 3 年开始使用 Pelops 进行生产（从 Cassandra 0.6 现在 1.0.6 开始），并且只使用种子作为节点列表的方法......效果很好！

几个提示：

1：如果您担心连接和环的健康状况，您可以编写一个使用 EACH_QUORUM CL 进行“随机查询”的类来检查连接——以及一个使用 Nodetool java 类来检查环的健康状况的类

2：如果您在 cassandra 中执行删除，请记住 nodetool 修复的重要性（[http://wiki.apache.org/cassandra/Operations#Repairing_missing_or_inconsistent_data](http://wiki.apache.org/cassandra/Operations#Repairing_missing_or_inconsistent_data)）

问候， 卡罗

# xml - 生成 pdf 以在 XSLT 中记录数据库

> ID：15941298
> 
> 赞同：2
> 
> 时间：2013-04-11T05:22:00.407
> 
> 标签：xml, xslt, xsl-fo, apache-fop

我有一个与数据库相关的 XML，并且必须生成一个 PDF 来记录数据库。我正在使用 FOP 将 XSLT 转换为 PDF。

XML:

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sql-catalog xmlns="http://www.abc.com">
    <schemas>
        <schema name="abc>
            <tables>
                <table name="tab123" degree="1" type="TABLE" rows="144">
                    <columns>
                        <column name="asd" nullable="true" order="1" sqlType="CHARACTER VARYING" sqlLength="255" fixedLength="2"/>
                        <column name="pqr" nullable="true" order="2" sqlType="CHARACTER VARYING" sqlLength="255" fixedLength="2"/>
                    </columns>
                    <constraints/>
                    <datafiles>
                        <datafile href="abc.txt" checksum="6ba3a161d5" size="12354" format="FIXED" valid="true" recordTerminator="&#xD;&#xA;" checksumtype="MD5" rows="905"/>
                    </datafiles>
                </table>
            </tables>
        </schema>
    </schemas>
</sql-catalog> 
```

我必须显示表名、列数和列名。我在 XSLT 中编写了以下内容。

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<xsl:stylesheet version="2.0" xmlns:ex="http://exslt.org/dates-and-times" extension-element-prefixes="ex" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:ora="http://www.oracle.com/XSL/Transform/java/" xmlns:xdofo="http://xmlns.oracle.com/oxp/fo/extensions" xmlns:xdoxslt="http://www.oracle.com/XSL/Transform/java/oracle.apps.xdo.template.rtf.XSLTFunctions" xmlns:xdoxliff="urn:oasis:names:tc:xliff:document:1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:cat="http://www.abc.com">
    <xsl:output method="xml" encoding="ISO-8859-1"/>
    <xsl:template match="cat:sql-catalog">
    <fo:root>
      <fo:layout-master-set>
        <fo:simple-page-master master-name="A4" page-height="297mm" page-width="210mm" margin-left="2cm" margin-right="2cm" margin-top="2.0cm" margin-bottom="1.0cm">
            <fo:region-body/>
            <fo:region-after extent="1cm"/>
        </fo:simple-page-master>
      </fo:layout-master-set>

      <fo:page-sequence master-reference="A4">
           <fo:static-content flow-name="xsl-region-after" font-size="8pt">
               <fo:block text-align="right">
                    <fo:page-number/>
               </fo:block>
           </fo:static-content>

      <fo:flow flow-name="xsl-region-body">

            <fo:block font-weight="bold" font-size="8pt" space-after="0.5cm">
                <xsl:value-of select="cat:schemas/schema/tables/table/@name" />
            </fo:block>

        </fo:flow>
    </fo:page-sequence>
    </fo:root>
  </xsl:template>
</xsl:stylesheet> 
```

在代码中，我尝试显示属性中的表的名称，但它似乎不起作用。谁能告诉我这里哪里出错了？以及如何计算表中的列数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:52:49.173

提供的转换未声明任何带有前缀的命名空间`"cat"`，但此前缀用于匹配模式和 XPath 表达式中。

您一定会收到如下错误消息：

```
Saxon 9.1.0.5J from Saxonica
Java version 1.6.0_31
Error at xsl:template on line 13 column 43 of marrowtr.xsl:
  XPST0081: XSLT Pattern syntax error at char 15 on line 13 in {cat:sql-catalog}:
    Undeclared namespace prefix {cat} 
```

**解决方案**：

**替换**：

```
xmlns:sqlcat="http://www.abc.comr" 
```

**与**：

```
xmlns:cat="http://www.abc.com" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T06:14:36.190

当下面的 XSLT 在 XML 上运行时会得到结果

**XSLT：**

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<xsl:stylesheet version="2.0" xmlns:ex="http://exslt.org/dates-and-times" extension-element-prefixes="ex" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:ora="http://www.oracle.com/XSL/Transform/java/" xmlns:xdofo="http://xmlns.oracle.com/oxp/fo/extensions" xmlns:xdoxslt="http://www.oracle.com/XSL/Transform/java/oracle.apps.xdo.template.rtf.XSLTFunctions" xmlns:xdoxliff="urn:oasis:names:tc:xliff:document:1.1" xmlns:xlink="http://www.w3.org/1999/xlink">
    <xsl:output method="xml" encoding="ISO-8859-1"/>
    <xsl:template match="sql-catalog">
    <fo:root>
      <fo:layout-master-set>
        <fo:simple-page-master master-name="A4" page-height="297mm" page-width="210mm" margin-left="2cm" margin-right="2cm" margin-top="2.0cm" margin-bottom="1.0cm">
            <fo:region-body/>
            <fo:region-after extent="1cm"/>
        </fo:simple-page-master>
      </fo:layout-master-set>

      <fo:page-sequence master-reference="A4">
           <fo:static-content flow-name="xsl-region-after" font-size="8pt">
               <fo:block text-align="right">
                    <fo:page-number/>
               </fo:block>
           </fo:static-content>

      <fo:flow flow-name="xsl-region-body">

            <fo:block font-weight="bold" font-size="8pt" space-after="0.5cm">
                <xsl:value-of select="schemas/schema/tables/table/@name" />
            </fo:block>

            <fo:block font-weight="bold" font-size="8pt" space-after="0.5cm">
                <xsl:value-of select="count(schemas/schema/tables/table/columns/column)"/>
            </fo:block>

            <xsl:for-each select="schemas/schema/tables/table/columns/column">
                <fo:block font-weight="bold" font-size="8pt" space-after="0.5cm">
                <xsl:value-of select="@name"/>
                </fo:block>
            </xsl:for-each>
        </fo:flow>
    </fo:page-sequence>
    </fo:root>
  </xsl:template>
</xsl:stylesheet> 
```

**输入 XML：**

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sql-catalog xmlns:sqlcat="http://www.def.com">
    <schemas>
        <schema name="abc">
            <tables>
                <table name="tab123" degree="1" type="TABLE" rows="144">
                    <columns>
                        <column name="asd" nullable="true" order="1" sqlType="CHARACTER VARYING" sqlLength="255" fixedLength="2"/>
                        <column name="pqr" nullable="true" order="2" sqlType="CHARACTER VARYING" sqlLength="255" fixedLength="2"/>
                    </columns>
                    <constraints/>
                    <datafiles>
                        <datafile href="abc.txt" checksum="6ba3a161d5" size="12354" format="FIXED" valid="true" recordTerminator="&#xD;&#xA;" checksumtype="MD5" rows="905"/>
                    </datafiles>
                </table>
            </tables>
        </schema>
    </schemas>
</sql-catalog> 
```

**输出：**

```
<?xml version='1.0' encoding='ISO-8859-1' ?>
<fo:root xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xdoxslt="http://www.oracle.com/XSL/Transform/java/oracle.apps.xdo.template.rtf.XSLTFunctions" xmlns:ora="http://www.oracle.com/XSL/Transform/java/" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xdofo="http://xmlns.oracle.com/oxp/fo/extensions" xmlns:xdoxliff="urn:oasis:names:tc:xliff:document:1.1"><fo:layout-master-set><fo:simple-page-master master-name="A4" page-height="297mm" page-width="210mm" margin-left="2cm" margin-right="2cm" margin-top="2.0cm" margin-bottom="1.0cm"><fo:region-body/><fo:region-after extent="1cm"/></fo:simple-page-master></fo:layout-master-set><fo:page-sequence master-reference="A4"><fo:static-content flow-name="xsl-region-after" font-size="8pt"><fo:block text-align="right"><fo:page-number/></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block font-weight="bold" font-size="8pt" space-after="0.5cm">tab123</fo:block><fo:block font-weight="bold" font-size="8pt" space-after="0.5cm">2</fo:block><fo:block font-weight="bold" font-size="8pt" space-after="0.5cm">asd</fo:block><fo:block font-weight="bold" font-size="8pt" space-after="0.5cm">pqr</fo:block></fo:flow></fo:page-sequence></fo:root> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T06:20:46.233

您需要在 XPath 表达式中的每个元素名称前面加上`cat`命名空间。尝试：

```
<xsl:value-of select="cat:schemas/cat:schema/cat:tables/cat:table/@name"/> 
```

# gcc - 构建到对象并链接时，llvm 异常处理失败

> ID：15941299
> 
> 赞同：0
> 
> 时间：2013-04-11T05:22:08.713
> 
> 标签：gcc, llvm

我有一些异常处理，使用 JIT 可以正常工作。现在我正在生成目标文件并链接它们，但似乎缺少异常处理表。我打电话`_Unwind_RaiseException`并得到 `_URC_END_OF_STACK`结果。

我使用生成我的目标文件`TargetMachine::addPassesToEmitFile`，然后将生成的文件链接到：

```
gcc -Wl,--eh-frame-hdr -o prog input.o 
```

我确定我只是缺少一些生成 Dwarf 表的选项，但我不知道它是什么。对于我设置 `JITExceptionHandling`和`JITEmitDebugInfo`打开的 JIT 版本`TargetOptions`。

为了检查每个步骤，我还发出了一个 LL (LLVM-IR) 文件。我验证了这有landingpad/invoke intructiosn。然后我使用该`llc`工具，然后使用 GCC 进行链接。这种组合也不会产生预期的结果。

我缺少哪个选项来正确执行此操作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T11:20:59.280

我最终发现我的人格功能有问题。它有时没有设置正确的选择器和/或没有返回正确的返回值。运行时 JIT 异常处理程序似乎以不同的方式运行，因此测试将在该运行中通过。

# docpad - 如何创建编辑帖子按钮。文档板

> ID：15941312
> 
> 赞同：0
> 
> 时间：2013-04-11T05:23:18.850
> 
> 标签：docpad

如何制作编辑文章？

```
<a href="https://github.com/.../blob/master/src/documents/posts/<%=@document.name%>" target="_blank">edit</a> 
```

但这不适用于 file.html.md

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T08:18:17.437

您可能希望更改`@document.name`为文件所在存储库中的适当路径。我们可以使用`fullPath`而不是`name`为此，但我们需要替换`srcPath`配置 DocPad 的 DocPad 以便仅获取相对于您的项目的路径，而不是文件系统上的绝对路径。

```
<a href="https://github.com/.../blob/master/<%=@document.fullPath.replace(@srcPath,'')%>" target="_blank">edit</a> 
```

现在，`@srcPath`我们实际上无法使用，因此我们需要这样做。我们可以通过将以下内容添加到我们的[docpad 配置文件](http://docpad.org/docs/config)`srcPath`中来定义我们的模板数据：

```
events:
    extendTemplateData: (opts) ->
        opts.templateData.srcPath = @docpad.getConfig().srcPath 
```

让我知道它是否有效。如果没有，请发布更多关于您的期望，以及您得到的结果，我很乐意提供进一步的帮助。

# sql - 连接中的 SQL 服务器排序规则概念？

> ID：15941313
> 
> 赞同：2
> 
> 时间：2013-04-11T05:23:40.927
> 
> 标签：sql, sql-server, sql-server-2008

为什么在使用联接时具有一致的排序规则很重要？

我在跨两个数据库连接两个表时使用了排序规则，但为什么我们需要它？如果您在两个不同数据库的两个表上都有相同的排序规则，我们需要它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:14:12.677

排序规则定义了字符串排序和比较的规则 - [msdn](http://msdn.microsoft.com/en-gb/library/ms184391.aspx)。

就个人而言，我使用这种查询风格 -

```
SELECT * 
FROM dbo.Table1 t1
JOIN dbo.Table2 t2 ON t1.KeyCD COLLATE DATABASE_DEFAULT = t2.KeyCD COLLATE DATABASE_DEFAULT 
```

# android - 从 JNI 调用 exception.printStackTrace()

> ID：15941314
> 
> 赞同：0
> 
> 时间：2013-04-11T05:23:42.370
> 
> 标签：android, java-native-interface

问题是找出哪些 Java 函数调用了一些 JNI 函数。在 Java 中，这将通过 来实现`new Exception.printStackTrace()`，但这必须通过本机 (JNI) 函数来完成。

由于以后查找自己的代码的最简单方法是将其发布在“网络”中，因此我将问题和答案都发布了。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T05:24:17.950

JNI 的模拟`new Exception.printStackTrace()`是：

```
//#include <android/log.h>
//#define LOGD(...) __android_log_print(ANDROID_LOG_DEBUG  , "~~~~~~", __VA_ARGS__)
//#define DLOG(...) __android_log_print(ANDROID_LOG_DEBUG  , "~~~~~~", __VA_ARGS__)
void printStackTrace(JNIEnv *env) {
LOGD("###################################################################################printStackTrace{");
    jclass cls = env->FindClass("java/lang/Exception");
    if (cls != NULL) {
        jmethodID constructor = env->GetMethodID(cls, "<init>", "()V");
        if(constructor != NULL) {
            jobject exc = env->NewObject(cls, constructor);
            if(exc != NULL) {
                jmethodID printStackTrace = env->GetMethodID(cls, "printStackTrace", "()V");
                if(printStackTrace != NULL) {
                    env->CallObjectMethod(exc, printStackTrace);
                } else { DLOG("err4"); }
            } else { DLOG("err3"); }
            env->DeleteLocalRef(exc);
        } else { DLOG("err2"); }
    } else { DLOG("err1"); }
    /* free the local ref */
    env->DeleteLocalRef(cls);
LOGD("###################################################################################printStackTrace}");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:29:39.570

顺便说一句，您可以从本机层向 Java 抛出异常:) 像这样：

```
jint throwOutOfMemoryError( JNIEnv *env, char *message ){
    jclass       exClass;
    char *className = "java/lang/OutOfMemoryError" ;

    exClass = (*env)->FindClass( env, className );
    if ( exClass == NULL ){
        return throwNoClassDefError( env, className );
    }
    return (*env)->ThrowNew( env, exClass, message );
} 
```

或者，如果你有一个 Exception 实例，只需将它扔到 Java 层，然后在 Java 中获取堆栈跟踪。

# java - 无法单击 a href 值（新成绩）

> ID：15941317
> 
> 赞同：0
> 
> 时间：2013-04-11T05:24:10.133
> 
> 标签：java, asp.net-mvc, nunit, selenium-webdriver, testng

这是给我的 html 代码

```
 <table cellpadding="0" cellspacing="0" style="table-layout: fixed;">
     <tbody>
     <tr>
     <td style="line-height: 30px;"> 
 No. of records: <span data-bind="text: ActiveGrade().length">12</span>&nbsp;|
 <a href="#" data-bind="click: $root.lnkAdd">New Grade</a>
    </td>
    </tr>
    </tbody></table> 
```

当我们获得上述href位置的xpath并添加click方法时，但在执行期间它不可点击

我的 Xpath：

```
@FindBy(xpath="//*[@id='GradeListView1']/table/tbody/tr/td[2]/table[1]/tbody/tr/td/a")

public WebElement new_grade

new_grade.click() 
```

我想点击“新成绩”超链接（在点击期间打开一个新的弹出窗口）

谢谢

普塔布

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:32:29.957

试试这个：

```
driver.findElement(By.xpath("//table/tbody/tr/td/a[contains(.,'New Grade')]"); 
```

并进入您的 html，而不是使用`data-bind`，您是否尝试使用`onClick`？

```
<a href="#" onClick="$root.lnkAdd">New Grade</a> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T10:24:14.723

有两种方法可以实现，

1.  将您的 xpath 更改为`//a[text()='New Grade']`或
2.  通过以下方式找到您的链接，`By.linktext("//a[text()='New Grade']")`

试一试，他们必须为你工作。

# haskell - Haskell 类型检查/模式匹配

> ID：15941320
> 
> 赞同：1
> 
> 时间：2013-04-11T05:24:18.393
> 
> 标签：haskell

当我试图检查表达式的计算结果是否为 Cons _ _ 形式时，以下 Haskell 代码在最后第二行抱怨。Haskell 的错误消息是：“表达式上下文中的模式语法：_” - 我想知道的是 - 有没有办法完成我想要做的事情？？？看来我要做的是在运行时检查表达式的类型，从我所读的内容来看，这可能意味着我可以更好地编程？但是，由于我是初学者，我不知道这是否是我正在做的事情，尤其是因为我在过去一个小时内一直在尝试这样做。

```
data Val = Num Int | Nil | Cons Val Val
    deriving (Eq, Show, Read)

interpret_expr :: Prog -> Vars -> Expr -> Val
interpret_expr _ _ (Isnum NilE) = Num 0
interpret_expr _ _ (Isnum (ConsE _ _)) = Num 0
interpret_expr _ _ (Isnum (NumE _)) = Num 1
interpret_expr prog vars (Isnum expr)
    | interpret_expr prog vars expr == Nil = Num 0
    | interpret_expr prog vars expr == Cons _ _ = Num 0
    | otherwise = Num 1 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-11T05:59:04.467

```
interpret_expr prog vars (Isnum expr)
    | interpret_expr prog vars expr == Nil = Num 0
    | interpret_expr prog vars expr == Cons _ _ = Num 0
    | otherwise = Num 1 
```

您对警卫的使用无效。您不能将函数（这里是`(==)`函数）应用于模式。也就是说，您无法比较（使用`Eq`typeclass）某些东西和`Cons _ _`. 您需要再次进行模式匹配，可以使用`case .. of`：

```
interpret_expr prog vars (Isnum expr) = case interpret_expr prog vars expr of
    Nil -> Num 0
    Cons _ _ -> Num 0
    _ -> Num 1 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-11T05:49:11.873

检查值是否属于特定构造函数是很常见的事情。很多时候你会在表单中看到一个手写的片段：

```
isCons (Cons _ _) = True
isCons _          = False 
```

它将被用作：

```
| isCons (interpret_expr prog vars expr) = Num 0 
```

这很常见，以至于各种源到源重写工具将添加`is[Some Constructor]`功能（例如：`derive`和`DriFT`）。我偏爱模板 haskell 解决方案（因为它们不需要运行外部工具，而不是因为 TH 非常干净或稳定）。如果您安装该`derive`库，那么您的代码可能如下所示：

```
import Data.Derive.Is
import Data.DeriveTH
import Language.Haskell.TH

data Val = ...
  deriving (Eq, Ord, Show)

$(derive makeIs ''Val) 
```

# android - 在 Android 上为 AIR 和 Flash Player 创建单个 Flash 应用程序

> ID：15941327
> 
> 赞同：3
> 
> 时间：2013-04-11T05:25:12.730
> 
> 标签：android, flash, apache-flex, air, adobe

我们正计划为安卓平台创建一个 P2P 应用程序，为此我们选择了 Adob​​e RTMFP 和 Flash。由于有限的 Android 版本支持 Flash Player 和 AIR，我们必须制作一个可以在 Android 版本中运行的 Flash 应用程序。

**最后，问题是我们如何创建一个单一的 Flash 应用程序，通过 Flash 播放器或通过 AIR 在所有 android 设备上都支持**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T10:45:18.810

我认为创建这样的应用程序没有问题。只需创建浏览器版本（注意不要使用类似`JS`via的浏览器功能`ExternalInterface`），然后将其加载到浏览器或使用 single 的简单 AIR 包装器中`SWFLoader`。

# blackberry - Start/Cancel Timer when battery level 10

> ID：15941331
> 
> 赞同：1
> 
> 时间：2013-04-11T05:25:56.393
> 
> 标签：blackberry, timer, timertask, recurring

I am working on a BlackBerry App that sends a message to the server when the battery level reaches 10%. This is implemented by calling `getBatteryStatus()` method in the constructor where `getBatteryStatus()` does the following:

```
public static void getBatteryStatus() {

      timerBattery = new Timer(); 
      taskBattery = new TimerTask() {
          public void run() {
              UiApplication.getUiApplication().invokeLater(new Runnable() {
                  public void run() {
                      if (DeviceInfo.getBatteryLevel()==10) {
                         try{
                            String freeText="Battery level at 10%";
                            sendBatteryStatus(freeText);
                         }catch(Exception e){}
                      }
                  }
              });
          }
      };

      timerBattery.scheduleAtFixedRate(taskBattery, 0, 20000);
} 
```

The `sendBatteryStatus` sends the message to the server and cancels the timer. This in effect has sent the message once to the server as requested.

However, what if the user starts charging its handset with the App running as it was (without the constructor being called again)? How will the timer then restart? How will I be able to send the message to the server again next time?

What is the best mechanism to prevent sending multiple messages of battery level at 10% and in effect send a message ONLY once followed by messages being sent again when the battery level is at 10% the next time?

If I do not cancel the timer once the message is sent, the message to the server is sent more than once.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T11:31:01.380

I actually think you would be better off if you got rid of your timer entirely. I don't think a timer will efficiently give you everything you want here.

Luckily, BlackBerry has the [SystemListener](http://www.blackberry.com/developers/docs/5.0.0api/net/rim/device/api/system/SystemListener.html) interface. Implement it like this:

```
public final class BatteryListener implements SystemListener {

    /** the last battery level we were notified of */
    private int _lastLevel = 0;
    /** the battery percentage at which we send an event */
    private int _threshold = 10;

    public BatteryListener() {
        Application.getApplication().addSystemListener(this);
    }

    public void setThreshold(int value) {
        _threshold = value;
    }

    /** call this to stop listening for battery status */
    public void stopListening() {
        Application.getApplication().removeSystemListener(this);
    }

    private boolean levelChanged(int status) {
        return (status & DeviceInfo.BSTAT_LEVEL_CHANGED) == DeviceInfo.BSTAT_LEVEL_CHANGED;
    }

    public void batteryStatusChange(int status) {
        if (levelChanged(status)) {
            int newLevel = DeviceInfo.getBatteryLevel();
            if (newLevel <= _threshold && _lastLevel > _threshold) {
                // we have just crossed the threshold, with battery draining
                sendBatteryStatus("Battery level at " +
                                  new Integer(newLevel) + "%!");
            }
            _lastLevel = newLevel;
        }
    }

    public void batteryGood() { /** nothing to do */ }      
    public void batteryLow() { /** nothing to do */ }       
    public void powerOff() { /** nothing to do */ }     
    public void powerUp() { /** nothing to do */ }  
} 
```

Then, you can just create and keep one instance of this class, whenever you want your app to **start** monitoring the battery for you. It will send a message if the battery level drops to 10%. If the user later starts charging again, and then stops charging, and drains past 10% again, another server message will be sent.

```
private BatteryListener listener; 
```

and

```
listener = new BatteryListener();   // start monitoring 
```

Obviously, in the above class, you'll either have to add your `sendBatteryStatus()` method to the class, or pass that class an object who implements the `sendBatteryStatus()` method.

**Note:** I would also recommend that you **not** send your notification to the server on the main thread. You don't show the implementation of `sendBatteryStatus()`, so maybe you already are. But if not, please use a background thread to notify your server, so the UI isn't frozen.

# haskell - 值的类型签名

> ID：15941341
> 
> 赞同：3
> 
> 时间：2013-04-11T05:27:19.610
> 
> 标签：haskell

我挣扎了好几个小时才得到以下正确的东西：

```
to_xyz_regular :: (RealFrac t) => (RegularSpd t) -> (t, t, t)
to_xyz_regular spd@(RegularSpd lambda_min lambda_max spectrum delta inverse_delta) =  
    let
        l = length cie_x - 1
        il = 1.0 / fromIntegral l
        samp i = sample spd $ lambda_min + inverse_delta * fromIntegral i
        integrate curve = (foldr (+) 0 $
                           map (\i -> curve!!i * samp i) [0..l]) * il
    in (integrate cie_x, integrate cie_y, integrate cie_z) 
```

（这是从颜色 SPD/光谱到 XYZ 颜色的转换例程）。

这些值`cie_XXX`定义如下：

```
cie_start = 360.0
cie_end = 830.0
cie_x = [0.0001299000, 0.0001458470, 0.0001638021, 0.0001840037,
         ....]
cie_y = ....
cie_z = .... 
```

但后来粗略地给了我

```
Could not deduce (t ~ Double)
from the context (RealFrac t)
.... 
```

问题是`cie_XXX`存储为的值`Double`，我真的希望它们是多态的。

我最终找到的解决方案是为这些值添加类型签名：

```
cie_start :: (RealFrac t) => t
cie_end :: (RealFrac t) => t
cie_x :: (RealFrac t) => [t]
cie_y :: (RealFrac t) => [t]
cie_z :: (RealFrac t) => [t] 
```

现在我的问题是：这是在 Haskell 中拥有多态值/文字的正确方法吗？

* * *

*在网络搜索上找到解决方案对我来说有点困难，因为书籍、教程等仅提到参数函数的类型签名 -> 值只是无参数函数吗？*

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T12:39:52.663

您选择的方式是在 Haskell 中为数字文字提供多态类型的正确方式。

`Double`选择类型的原因`cie_XXX`是由于 Haskell 的默认机制（这里有更详细的描述[）](http://www.haskell.org/onlinereport/decls.html#sect4.3.4)。[当单态限制](http://www.haskell.org/haskellwiki/Monomorphism_restriction)`forall`要求其他多态类型（隐式或显式包含 a ）*或*类型不明确（包含仅出现在 左侧的类型变量，例如in ）*和*类型时，调用默认值被限制为一个或标准库定义的子类的实例。默认值强制类型与中的每个条目统一（从最左边的条目开始），直到统一成功。默认 *`=>``a``(Read a, Show a) => String`*`Prelude``Num``default (...)``default (...)`是**

 **```
default (Integer, Double) 
```

如果由于某种原因`Float`是实数的所需默认值，

```
default (Integer, Float) 
```

可以定义。如果`Float`是所有数字的所需默认值，

```
default (Float) 
```

可以定义。

在原始场景的情况下，

```
cie_start :: Fractional a => a 
```

是`cie_start`( 以及`cie_end`) 的最通用类型。这种类型在推断时会违反[单态性限制](http://www.haskell.org/haskellwiki/Monomorphism_restriction)。但是，在存在默认值的情况下，首先尝试了一些类型来代替类型变量`a`。鉴于默认值`default (...)`是`default (Integer, Double)`，`Integer`并且`Double`按该顺序尝试。

```
cie_start :: Fractional Integer => Integer 
```

导致违反约束（`Integer`不是 的实例`Fractional`）。

```
cie_start :: Fractional Double => Double 
```

成功，并简化为

```
cie_start :: Double 
```

要使原始场景成为错误而不是默认`Double`（并完全禁用默认），请添加

```
default () 
```

`cie_XXX`在定义的模块的顶层。

要使场景不需要显式类型签名而是推断最通用的类​​型，请添加

```
{-# LANGUAGE NoMonomorphismRestriction #-} 
```

到`cie_XXX`定义的模块的顶部（有关为什么默认情况下不使用这种最通用类型的更多详细信息，请参阅[单态限制）。](http://www.haskell.org/haskellwiki/Monomorphism_restriction)

总的来说，您选择解决此问题的方法（添加显式类型签名）是最佳解决方案。在所有顶级定义上都有类型签名被认为是最佳实践。**

# php - 在 php 对象中节省内存

> ID：15941345
> 
> 赞同：1
> 
> 时间：2013-04-11T05:27:43.293
> 
> 标签：php, oop, optimization, scope

我在 php 中有一个类，其方法类似于下面的两个。我想知道编写这个类的最佳方法是什么？我需要经常使用 disp_info 方法，并且想知道将 $message1 和 $message2 放在函数之外并调用它是否更明智，这样我就不必每次都生成新消息或反过来.

```
class Person(){
    public $name;
    public $age;
    public $sex;
    public $result;

    public function disp_info(){
        $message1= "Hello my name is : ";
        $message2= "And my age is :";
        $this->result= $message1.$this->name.$message2.$this->age;
    }

    $this->disp_name();
}

class Person(){
    public $name;
    public $age;
    public $sex;
    public $result;
    public $message1= "Hello my name is : ";
    public $message2= "And my age is :";

    public function disp_info(){
        $message1 = $this->message1
        $message2 = $this->message2
        $this->result = $message1.$this->name.$message2.$this->age;
    }

    $this->disp_name();
} 
```

谢谢，请赐教

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T05:46:29.210

我想不出在类中使用静态变量的任何理由。它甚至以某种方式与类的整个概念相矛盾。一般来说，你最好不要使用第一种方法。关于优化 - 差异将以 ms 衡量，问题是哪种方法运行得更快 - 您可以轻松运行测试并测量两种方法的运行时间。

# asp.net - 重定向非 www、index.html、404

> ID：15941347
> 
> 赞同：1
> 
> 时间：2013-04-11T05:27:43.737
> 
> 标签：asp.net, iis, redirect, http-status-code-404, no-www

我已经创建了将非 www 重定向到 www、/index.html 到“/”、404 到自定义页面的代码，我正在使用 IIS 服务器并将此代码放在 web.config 文件中，看看，它工作正常。但我想知道它对 SEO 有好处吗？或者它需要任何修改？

谢谢

```
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <system.webServer>
    <modules runAllManagedModulesForAllRequests="true" />
    <rewrite>
      <rules>
        <rule name="CanonicalHostNameRule1" stopProcessing="true">
          <match url="index\.html(?:l)?" />
          <conditions>
            <add input="{HTTP_HOST}" pattern="example\.com.au$" />
          </conditions>
          <action type="Redirect" url="http://www.example.com.au/" />
        </rule>
        <rule name="CanonicalHostNameRule2" stopProcessing="true">
          <match url="(.*)" />
          <conditions>
            <add input="{HTTP_HOST}" pattern="^example\.com.au$" />
          </conditions>
          <action type="Redirect" url="http://www.example.com.au/{R:1}" />
        </rule>
      </rules>
    </rewrite>
    <httpErrors errorMode="Custom" existingResponse="Replace">
      <remove statusCode="404" />
      <error statusCode="404" responseMode="ExecuteURL" path="/404error.html" />
    </httpErrors>
  </system.webServer>
</configuration> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T07:13:46.990

你的规则看起来不错。一般来说，使您的 URL 成为规范的想法是将所有链接汁定向到单个规范地址。在谷歌等眼里，`www.mydomain.com`和`mydomain.com`是两个不同的网址。`mydomain.com/`和 也是如此`mydomain.com/imndex.html`。我要添加到您的规则中的唯一内容是`statusCode`302。这将告诉 Google 和客户端的浏览器您希望他们从现在开始引用目标 URL。这样，Google 会将所有链接汁汇总到目标，并且客户端浏览器也不需要在每个请求中重新重定向。

# javascript - 包含 jquery.ui 时，outerWidth/outerHeight 不同，¿出了什么问题？

> ID：15941351
> 
> 赞同：1
> 
> 时间：2013-04-11T05:28:03.347
> 
> 标签：javascript, jquery, html, ajax, jquery-ui

我有一个使用该函数的脚本，`outerWidth()`并且`outerHeight()`该脚本在使用 jquery.ui 库之前运行良好。现在我没有在（高度/宽度）中得到一个值，比如（300/200），我得到了这些“值”的对象，比如：`[object Object]`

我做错了什么？怎么了？谢谢！

前：

```
var height = $('#div').outerHeight(); // 455
var width = $('#div').outerWidth(); // 650 
```

后：

```
<script type="text/javascript" language="javascript" src="/js/ui/jquery.ui.core.min.js"></script>
<script type="text/javascript" language="javascript" src="/js/ui/jquery.ui.widget.min.js"></script>

var height = $('#div').outerHeight(); // [object Object]
var width = $('#div').outerWidth(); // [object Object] 
```

解决方案是什么？

# javascript - 图片库在页面加载时不加载，purechat 的性能问题

> ID：15941352
> 
> 赞同：0
> 
> 时间：2013-04-11T05:28:13.827
> 
> 标签：javascript, performance

我在我的网站上使用 nivoSlider 图片库，但是当页面加载时画廊不会立即出现。过了一会儿它加载

使用萤火虫，我发现在我的网站中包含纯聊天是一个问题。如果我从我的代码中删除纯聊天，它会在页面启动时立即加载。我怎样才能使纯粹的聊天不会影响图片库的负载（不从我的页面中删除它）？

使用纯聊天 ![萤火虫，包括 purechat](https://i.stack.imgur.com/oRF1K.png)

没有纯聊天 ![在此处输入图像描述](https://i.stack.imgur.com/4RnUM.png)

# php - 有人可以在此代码 PHP 电子邮件中找到问题所在吗

> ID：15941353
> 
> 赞同：0
> 
> 时间：2013-04-11T05:28:20.797
> 
> 标签：php, forms, email, contact

我没有通过电子邮件 mail@example.com 收到邮件。下面是我的表单代码和我的 send-mail.php 代码。任何人都可以帮我解决这个问题，因为一切似乎都很好，但我没有收到任何电子邮件。我使用 localhost 作为服务器。

联系表：

```
<form id="contactForm" action="#" method="post">
<p>Email us by filling in the form below. Make sure you fill in the message and all fields.</p>
<fieldset>
<div>
<input name="name"  id="name" type="text" class="form-poshytip" title="Enter your name" />
<label>Name</label>
</div>
<div>

<input name="web"  id="web" type="text" class="form-poshytip" title="Enter your surname" />
                                     <label>Surname</label>
</div>
<div>
<input name="email"  id="email" type="text" class="form-poshytip" title="Enter your email address" />
                                    <label>Email</label>
</div>

<div>
<textarea  name="comments"  id="comments" rows="5" cols="20" class="form-poshytip" title="Enter your comments"></textarea>
</div>

<!-- send mail configuration -->
<input type="hidden" value="mail@example.com" name="to" id="to" />
<input type="hidden" value="Enter the subject here" name="subject" id="subject" />
<input type="hidden" value="send-mail.php" name="sendMailUrl" id="sendMailUrl" />
<!-- ENDS send mail configuration -->

<p><input type="button" value="Send" name="submit" id="submit" /> <span id="error" class="warning">Message</span></p>
</fieldset>

</form>
<p id="sent-form-msg" class="success">Form data sent. Thanks for your feedback.</p>
<!-- ENDS form --> 
```

这是send-mail.php

```
<?php
//vars
$subject = $_POST['subject'];
$to = explode(',', $_POST['to'] );

$from = $_POST['mail@example.com'];

//data
$msg = "NAME: "  .$_POST['name']    ."<br>\n";
$msg .= "EMAIL: "  .$_POST['email']    ."<br>\n";
$msg .= "WEBSITE: "  .$_POST['web']    ."<br>\n";
$msg .= "COMMENTS: "  .$_POST['comments']    ."<br>\n";

//Headers
$headers  = "MIME-Version: 1.0\r\n";
$headers .= "Content-type: text/html; charset=UTF-8\r\n";
$headers .= "From: <".$from. ">" ;

//send for each mail
foreach($to as $mail){
mail($mail, $subject, $msg, $headers);
}

?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:33:09.553

```
$_POST['subject'];

$_POST['to'];

$_POST['myemail@gmail.com'];

$_POST['name'];

$_POST['email'];

$_POST['web'];

$_POST['comments']; 
```

我没有在您的表单中找到任何这些元素。这就是为什么什么都没有发生的原因。尝试

```
echo '<pre>';
print_r($_POST); 
```

这将在提交表单时为您提供发布的数组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:50:11.747

我有一些建议。如果您将“收件人”地址隐藏在表单中，那么为什么您不能尝试将其直接保留在 sendmail 功能中，而您尝试保留在 $from 中

```
<?php
$to="kurtfarrugia92@gmail.com";
$from =$_POST['field_name']; 
// not the mail id because i didn't see any field with name as "kurtfarrugia92@gmail.com"
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T06:05:26.523

您不能使用此功能从本地主机发送邮件。我不确定，但您应该尝试使用[PHP 邮件程序](http://phpmailer.worxware.com/)来完成此任务。

# ios5 - 使用 AFNetworking 在单个请求中上传多个图像

> ID：15941355
> 
> 赞同：1
> 
> 时间：2013-04-11T05:28:44.210
> 
> 标签：ios5, afnetworking, multipartform-data

我想在单个请求中上传多个图像，我设法在发送单个图像数据时使其工作。这是我发送单个图像数据的代码：

```
AFHTTPClient *httpClient = [[AFHTTPClient alloc] initWithBaseUrl: my_url ];

NSMutableRequest *request = [httpClient multipartFormRequestWithMethod:@"POST" path:nil
parameters:nil constructingBodyWithBlock: ^(id <AFMultipartFormData>formData) {
    [formData appendPartWithFileData: my_imageData name:@"image" fileName: @"myImage.jpg" mimeType:@"image/jpeg"];
}];

AFHTTPRequestOperation *operation = [[AFHTTPRequestOperation alloc] initWithRequest: request];

[operation start]; 
```

在服务器端，我使用 Spring MVC。这是将接收包含多个图像的请求的 Web 服务/端点：

```
@RequestMapping(value="/test-multiple-upload/{collateralid}", method = RequestMethod.POST)
public @ResponseBody String multipartfilesUpload(
        @PathVariable("collateralid") Long collId,
        @RequestParam("images[]") CommonsMultipartFile[] images) {

    //proccess the image data. save to local or to DB

    return "uploaded successful";
} 
```

我的问题是如何使用具有多个图像的 AFNetworking 发出 multipartForm 请求。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-06-10T05:40:34.750

我发现通过使用相同名称的附加数据将使数据在服务器端成为数组。所以：

```
NSArray *imageArray;
AFHTTPClient *httpClient = [[AFHTTPClient alloc] initWithBaseUrl: my_url ];

NSMutableRequest *request = [httpClient multipartFormRequestWithMethod:@"POST" path:nil
parameters:nil constructingBodyWithBlock: ^(id <AFMultipartFormData>formData) {
      for(UIImage *img in imageArray)
      {
            [formData appendPartWithFileData: my_imageData name:@"image" fileName:@"myImage.jpg" mimeType:@"image/jpeg"];
      }
}];

AFHTTPRequestOperation *operation = [[AFHTTPRequestOperation alloc] initWithRequest: request];

[operation start]; 
```

考虑到每个 imageData 都将附加在表单数据多部分请求中，并具有与“**图像**”相同的名称标签。在服务器端，它将作为数组处理，“ **CommonsMultipartFile[] image** ”。

# c# - 使用 ViewModel EF ASP.NET MVC 插入一对多关系数据

> ID：15941362
> 
> 赞同：1
> 
> 时间：2013-04-11T05:29:26.000
> 
> 标签：c#, asp.net-mvc, entity-framework, ef-code-first, viewmodel

我试图弄清楚如何使用带有单个回发的视图模型插入多行数据。我正在使用 EF 和代码优先方法。我遇到问题的模型具有一对多的关系。我想做的是，每当创建一个人时，应该将多个任务与一个人（不同的表）一起保存到数据库中。

到目前为止，我只能保存第一个任务而不是全部。

我的模型是：

```
public class Person
{
    public Person()
    {
        this.Tasks = new List<Task>();
    }

    [Key]
    public int Id { get; set; }
    public string Name { get; set; }

    public virtual ICollection<Task> Tasks { get; set; }
}

public class Task
{
    [key]
    public int ID { get; set; }
    public int PersonID { get; set; }
    public string Task { get; set; }

    public virtual Person Person { get; set; }
} 
```

视图模型：

```
 Public class PersonData
    {
       public Person Person { get; set; }
       public Task Task { get; set; }
    } 
```

看法：

```
 @model Project.ViewModels.PersonData

    @using (Html.BeginForm()) {
       @Html.ValidationSummary(true)

       <fieldset>
       <legend>Event</legend>

       <div>
           @Html.TextBoxFor(model => model.Event.Name)
       </div>
       <div id="taskdiv">
       </div>
       @*dynamically generated textboxes here*@

    <div>
        @Html.ActionLink("Back to List", "Index")
    </div>
    </fieldset>

    <script type="text/javascript">
    // took few codes out here, but whats happening here is based on int value textboxes for Task appears
    for (var i = 1; i <= $count; i++) {
        $('#taskdiv').append('<div><label>Task #' + i + ' </label>@Html.TextBoxFor(model => model.Task.Task)</div>');
    } 
```

控制器：

```
 public class PersonController : Controller
    {
       private Context db = new DBContext();

    public ActionResult Create()
    {
       return View();
     }

     [HttpPost]
     public ActionResult Create(ViewModels.PersonData personData) 
    {           
       if (ModelState.IsValid) 
        {
           db.Person.Add(eventData.Person);
           db.Tasks.Add(eventData.Task);
           db.SaveChanges();        

           return RedirectToAction("Index");
        }
        return View();
    } 
```

至少我知道任务正在通过。我尝试了几件事

```
foreach (char c in personData.Task.Task.AsEnumerable)
{ count += 1} 
```

并收到正确数量的号码。我认为使用 ViewModels 是比较常见的，但我没有看到我想在任何教程或论坛中做什么......

我的目标是能够通过一次回发为每个人保存多项任务。任何建议将被认真考虑！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T07:12:46.380

在您的 ViewModel 中，您只有一个任务，应该是任务列表吧？当我做这样的事情时，我通常先保存 Person 对象，然后使用 ajax 向它添加任务。

该方法可能看起来像这样。

```
public void SaveTasks(List<Task> tasks){
    //important that tasks already have personId --set on client side

    foreach(var task in Tasks){
      //do some validation
      db.Tasks.Add(task);
    }
    db.SaveChanges();

} 
```

# wordpress - 如何使用 sql 查询通过多元值获取 post_id

> ID：15941363
> 
> 赞同：1
> 
> 时间：2013-04-11T05:29:26.657
> 
> 标签：wordpress

如果有帖子，

```
id = 10

meta_key = size
meta_value = xxl

meta_key = color
meta_value = red 
```

我怎样才能`post_id`用这样的**sql**得到这个

```
$my_post_id = $wpdb->get_results($wpdb->prepare( " SELECT post_id FROM $wpdb->postmeta WHERE meta_value = 'xxl' "),'ARRAY_A'); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-30T03:34:15.070

您的基本查询将是

```
SELECT post_id 
  FROM wp_postmeta 
 WHERE meta_key   IN ('size', 'color')
   AND meta_value IN ('xxl', 'red')
 GROUP BY post_id
HAVING COUNT(DISTINCT meta_key)   = 2 
   AND COUNT(DISTINCT meta_value) = 2 
```

这是**[SQLFiddle](http://sqlfiddle.com/#!2/91895/1)**演示

# c++ - SDL_Surface 未在此范围内声明

> ID：15941371
> 
> 赞同：0
> 
> 时间：2013-04-11T05:30:03.117
> 
> 标签：c++, sdl, surface

我似乎在使用 SDL_Surface(s) 时遇到问题。

这是我的头文件（CApp.h）：

```
#ifndef _CAPP_H_
    #define _CAPP_H_

#include <SDL.h>

class CApp {
    private:
        bool            Running;

        SDL_Surface*    Surf_Display;

    public:
        CApp();

        int OnExecute();

    public:
        bool OnInit();

        void OnEvent(SDL_Event* Event);

        void OnLoop();

        void OnRender();

        void OnCleanup();
};

#endif 
```

这就是问题所在：

```
#include "CApp.h"

CApp::CApp() {
    Surf_Display = NULL;
    Running = true;
}

int CApp::OnExecute() {
    if(OnInit() == false) {
        return -1;
    }

    SDL_Event Event;

    while(Running) {
        while(SDL_PollEvent(&Event)) {
            OnEvent(&Event);
        }

        OnLoop();
        OnRender();
    }

    OnCleanup();

    return 0;
}

int main(int argc, char* argv[]) {
//Start SDL
    SDL_Init( SDL_INIT_EVERYTHING );

    //Quit SDL
    SDL_Quit();

    return 0;
    CApp theApp;

    return theApp.OnExecute();
} 
```

错误说`'Surf_Display' was not declared in this scope.`

# android - 我如何调用驻留在列表视图项中的按钮的 onclick 侦听器

> ID：15941374
> 
> 赞同：1
> 
> 时间：2013-04-11T05:30:41.363
> 
> 标签：android, listview, button, onclicklistener

我在列表视图上有一个要单击的按钮，但问题是在单击时，目前无论是列表视图还是按钮，它都无法识别侦听器调用，

提前致谢... ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:44:16.230

如果您不想处理对整个列表项的单击，请不要在列表视图上设置侦听器。您可以为列表项上的单个视图设置侦听器，如下例所示：

```
public class MyArrayAdapter extends ArrayAdapter<Map<String, String>> {

    private Context mContext;

    public MyArrayAdapter(Context context, int textViewResourceId,
            List<Map<String, String>> objects) {
        super(context, textViewResourceId, objects);
        mContext = context;
    }

    public View getView(final int position, View convertView, ViewGroup parent) {

        if (convertView == null) {
            convertView = LayoutInflater.from(getContext()).inflate(
                    R.layout.list_row, null, false);
        }

        final Map<String, String> data = (Map<String, String>) getItem(position);

        ImageView imageView = (ImageView) convertView
                .findViewById(R.id.imageView);
        imageView.setImageResource(Integer.parseInt(data.get("image")));

        TextView textView = (TextView) convertView
                .findViewById(R.id.textViewTitle);
        textView.setText(data.get("name"));

        Button button = (Button) convertView
                .findViewById(R.id.buttonShow);

        button.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                mContext.startActivity(new Intent(mContext,
                            DetailActivity.class).putExtra(EXTRA_IMAGE_URL,
                            data.get("url")));
            }
        });

        return convertView;
    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:33:12.173

您需要在列表适配器`button.setOnClickListener()`的功能里面添加。`getView()`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T05:47:31.753

首先，您需要创建自定义适配器扩展 ArrayAdapter 或 BaseAdapter，并且他具有 getView 方法。在此方法中，您可以将 OnlickListener 设置为按钮。

链接示例创建自定义适配器：

[列表视图的自定义适配器](https://stackoverflow.com/questions/8166497/custom-adapter-for-list-view)

[http://developer.android.com/reference/android/widget/Adapter.html](http://developer.android.com/reference/android/widget/Adapter.html)

[http://www.ezzylearning.com/tutorial.aspx?tid=1763429](http://www.ezzylearning.com/tutorial.aspx?tid=1763429)

# sql - 创建一个有点复杂的笛卡尔结果

> ID：15941384
> 
> 赞同：2
> 
> 时间：2013-04-11T05:32:00.323
> 
> 标签：sql, postgresql

我有一个名为“where_clauses”的表，其中包含一堆我想用于构建动态查询的条件。我想知道我可以使用这些数据执行的所有可能的查询。这是我的“where_clauses”数据...

```
INSERT INTO where_clauses (id,col_name,clause) VALUES (1,'x','x < 1');
INSERT INTO where_clauses (id,col_name,clause) VALUES (2,'x','x < 2');
INSERT INTO where_clauses (id,col_name,clause) VALUES (3,'x','x < 3');
INSERT INTO where_clauses (id,col_name,clause) VALUES (4,'y','y < 1');
INSERT INTO where_clauses (id,col_name,clause) VALUES (5,'y','y < 2');
INSERT INTO where_clauses (id,col_name,clause) VALUES (6,'y','y < 3');
INSERT INTO where_clauses (id,col_name,clause) VALUES (7,'z','z < 1'); 
```

理想情况下，我希望以 id 数组的形式出现“所有可能的查询”。例如，“所有可能的查询”结果将是......

```
{1}
{1,4}
{1,4,7}
{1,5}
{1,5,7}
{1,6}
{1,6,7}
{2}
{2,4}
{2,4,7}
{2,5}
{2,5,7}
{2,6}
{2,6,7}
{3}
{3,4}
{3,4,7}
{3,5}
{3,5,7}
{3,6}
{3,6,7}
{4}
{4,7}
{5}
{5,7}
{6}
{6,7}
{7} 
```

请注意，我放弃加入相等的列。什么是可以提供所有可能 where_clauses 的查询？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T08:10:03.180

这是[新](http://www.postgresql.org/docs/9.1/static/queries-with.html) `WITH RECURSIVE`版本旨在解决的问题。以下概括为任意数量的列名（不仅仅是`x`, `y`, `z`）。

```
WITH RECURSIVE subq(a, x) AS
  ( VALUES (ARRAY[]::int[], NULL) /* initial */
    UNION ALL 
    SELECT subq.a || id, col_name FROM subq JOIN where_clauses
    ON x IS NULL OR x < col_name )
SELECT a FROM subq 
WHERE x IS NOT NULL;  /* discard the initial empty array */ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T07:46:03.963

试试这个代码，它选择三列，那些不用于子句的列保留为 NULL，您可以进一步连接或操作该结果：

```
--all possibilities with only one clause
SELECT
    id AS ID1, NULL ID2, NULL AS ID3
  FROM where_clauses
--all possibilities with two clauses (xy,xz,yz)
UNION
SELECT
    WC1.id AS ID1, WC2.id AS ID2, NULL AS ID3
  FROM where_clauses WC1
  CROSS JOIN where_clauses WC2
  WHERE
    WC1.col_name != WC2.col_name
    AND WC1.id > WC2.id
--all possibilities with an x and a y and a z clause
UNION
SELECT
    WC1.id AS ID1, WC2.id AS ID2, WC3.id AS ID3
  FROM where_clauses WC1
  CROSS JOIN where_clauses WC2
  CROSS JOIN where_clauses WC3
  WHERE
    WC1.col_name != WC2.col_name
    AND WC1.id > WC2.id

    AND WC1.col_name != WC3.col_name
    AND WC1.id > WC3.id

    AND WC2.col_name != WC3.col_name
    AND WC2.id > WC3.id 
```

[这](http://sqlfiddle.com/#!1/7e0df/22)是一个小提琴。

编辑：稍微修改小提琴

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T07:57:59.053

```
SELECT string_to_array(TRIM(x || ',' || y || ',' || z, ','), ',')
FROM (
WITH sq AS (
    SELECT a.id x, b.id y, c.id z
    FROM where_clauses a, where_clauses b, where_clauses c
    WHERE a.col_name != b.col_name AND
          a.col_name != c.col_name AND
          b.col_name != c.col_name AND
          a.id < b.id AND
          b.id < c.id
)
SELECT x, y, z FROM sq
UNION ALL
SELECT distinct x, y, null::int FROM sq
UNION ALL
SELECT distinct y, z, null::int FROM sq
UNION ALL
SELECT distinct x, null::int, null::int FROM sq
UNION ALL
SELECT distinct y, null::int, null::int FROM sq
UNION ALL
SELECT distinct z, null::int, null::int FROM sq
) ORDER BY 1; 
```

以上查询对您有帮助吗？

# java - 卡在记录成绩并显示结果的 Java 程序上

> ID：15941386
> 
> 赞同：0
> 
> 时间：2013-04-11T05:32:15.480
> 
> 标签：java, find, average

我正在学习 Java 初学者课程，他们要求我们：

*   编写一个程序，根据用户输入的分数列表计算 A、B、C、D 和 F 的数量。

*   输入所有分数后，程序必须显示一个水平条形图，其中显示每个等级的数字，如“操作”部分所示。

*   计数图必须为每个计数的单位显示一个“*”。

*   当用户输入 -1 时，程序必须显示最终图形并退出。

*   程序的输出必须显示提示和计数图，如上面的操作部分所示。

*   您可以假设用户只会输入数字。

手术：

程序启动并提示您输入测试分数或通过输入 -1 结束程序。如下所示：

```
Number of A's: 0
Number of B's: 0
Number of C's: 0
Number of D's: 0
Number of F's: 0
Enter a score (%) or -1 to end: 90 
```

当您输入每个分数时，应用程序会决定分数是 A、B、C、D 还是 F，并在字母等级计数中加一。如下所示：

```
Number of A's: 1
Number of B's: 0
Number of C's: 0
Number of D's: 0
Number of F's: 0
Enter a score (%) or -1 to end: 95 
```

每次输入分数时，程序都会更新计数。如下所示：

```
Number of A's: 2
Number of B's: 0
Number of C's: 0
Number of D's: 0
Number of F's: 0
Enter a score (%) or -1 to end: -1 
```

输入完分数后，程序会显示一个水平条形图，其中包含 A、B、C、D 和 F 的总分。如下所示：

```
A's: **
B's:
C's:
D's:
F's: 
```

规格：

数字等级 字母等级

大于或等于 90 A

小于 90 但大于或等于 80 B

小于 80 但大于或等于 70 C

小于 70 但大于或等于 60 D

低于 60 华氏度

程序结束时，显示分数、平均分数和最佳分数。

例子：

得分数：2

平均分：92.5

最好成绩：95.0

我们还被指示以至少两种方法进行编码：一种具有 void 和一种返回某些内容。

到目前为止，我只能计算输入的分数，但我似乎无法专注于*记录所有输入*并*计算平均值*并*挑选出最好的分数*

这是我到目前为止所拥有的：

```
 import java.util.*;

    public class ScoreTally {
        public static void main(String[] args) {
             Scanner input = new Scanner(System.in);

            int aCount = 0;
            int bCount = 0;
            int cCount = 0;
            int dCount = 0;
            int fCount = 0;
            int scoreCount = -1;

            double score = 0;

            while (score != -1) {
                if (score >= 90)
                    aCount++;

                else if ((score < 90) && (score >= 80))
                    bCount++;

                 else if ((score < 80) && (score >= 70))
                    cCount++;

                else if ((score < 70) && (score >= 60))
                    dCount++;

                else if ((score < 60) && (score > 0))
                    fCount++;

                System.out.println("Number of A's: " + aCount);
                System.out.println("Number of B's: " + bCount);
                System.out.println("Number of C's: " + cCount);
                System.out.println("Number of D's: " + dCount);
                System.out.println("Number of F's: " + fCount);
                System.out.print("Enter a score (%) or -1 to end: ");
                score = input.nextDouble();

                scoreCount++;

            }

            if (score == -1)
                System.out.println("Number of scores: " + scoreCount);

        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T05:41:05.360

首先，您已经有了计算结果的代码。

```
 int aCount = 0;
        int bCount = 0;
        int cCount = 0;
        int dCount = 0;
        int fCount = 0;
        int scoreCount = -1; 
```

您需要的是另一个包含总分的字段，即

```
int totalScore = 0; 
```

在进入 while 循环之前，您需要提示输入第一个分数，否则第一次迭代将无法正常运行。在最后（或开始），您需要`totalScore`使用该轮的输入进行更新，如果输入为 -1，则不要更新它。

平均分数将是`totalScore/scoreCount`您在完成 while 循环后应该计算的分数。

为了获得最好的分数，你可以有另一个领域`int = maxScore`

您可以在循环的每次迭代中更新它

`maxScore = Math.max(maxScore, score);`

Math.max 返回两个数字中的最大值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:42:09.113

这很简单。声明 2 个变量，一个用于具有 avgScore，一个用于程序开始。

```
double bestScore = 0.0;
double avgScore = 0.0;
double totalScore = 0.0;
while (score != -1) {
                totalScore = totalScore + score;
                if(score > bestScore)
                    bestScore = score;  
                if (score >= 90)
                    aCount++;

                else if ((score < 90) && (score >= 80))
                    bCount++;

                 else if ((score < 80) && (score >= 70))
                    cCount++;

                else if ((score < 70) && (score >= 60))
                    dCount++;

                else if ((score < 60) && (score > 0))
                    fCount++;

                System.out.println("Number of A's: " + aCount);
                System.out.println("Number of B's: " + bCount);
                System.out.println("Number of C's: " + cCount);
                System.out.println("Number of D's: " + dCount);
                System.out.println("Number of F's: " + fCount);
                System.out.print("Enter a score (%) or -1 to end: ");
                score = input.nextDouble();

                scoreCount++;

            }

            if (score == -1){
                System.out.println("Number of scores: " + scoreCount);
                avgScore = totalScore/scoreCount;
                System.out.println("Best Score: " + bestScore);
                System.out.println("Avg Score: " + avgScore);
            } 
```

此外，为了显示图表，您可以使用您的最终统计。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T05:56:48.293

使用函数返回最大的数字以获得最好的分数。还有另一个打印最终图表的功能。那应该照顾两个功能要求。此外，使循环成为退出控制的循环，因为它必须至少运行一次。

作为一种编码实践，您不应该使用星号导入（import java.util.*），而是只使用您需要的东西。

此外，在开始时将 scoreCount 设置为 -1 方面做得很好。

```
import java.util.Scanner;

public class ScoreTally {

public static void main(String[] args) {
    Scanner input = new Scanner(System.in);

    int aCount = 0;
    int bCount = 0;
    int cCount = 0;
    int dCount = 0;
    int fCount = 0;
    int scoreCount = -1;

    double score;
    double totalScore = 0;
    double bestScore = -1;

    do {
        System.out.println("Number of A's: " + aCount);
        System.out.println("Number of B's: " + bCount);
        System.out.println("Number of C's: " + cCount);
        System.out.println("Number of D's: " + dCount);
        System.out.println("Number of F's: " + fCount);
        System.out.print("Enter a score (%) or -1 to end: ");
        score = input.nextDouble();
        if (score >= 90) {
            aCount++;
        } else if ((score < 90) && (score >= 80)) {
            bCount++;
        } else if ((score < 80) && (score >= 70)) {
            cCount++;
        } else if ((score < 70) && (score >= 60)) {
            dCount++;
        } else if ((score < 60) && (score > 0)) {
            fCount++;
        }
        scoreCount++;
        totalScore = totalScore + score;
        bestScore = greaterNumber(bestScore, score);

    } while (score != -1);

    printGraph('A', aCount);
    printGraph('B', bCount);
    printGraph('C', cCount);
    printGraph('D', dCount);
    printGraph('F', fCount);
    System.out.println("Number of scores: " + scoreCount);
    System.out.println("Average scores: " + totalScore / scoreCount);
    System.out.println("Best scores: " + bestScore);

}

public static void printGraph(char grade, int count) {
    System.out.print("Number of " + grade + "'s: ");
    for (int i = 0; i < count; i++) {
        System.out.print("*");
    }
    System.out.println();
}

public static double greaterNumber(double firstNum, double secondNum) {
    if (firstNum >= secondNum) {
        return firstNum;
    } else {
        return secondNum;
    }
} 
```

}

# c# - 为什么我的字典包含两个具有相同键的条目？

> ID：15941389
> 
> 赞同：1
> 
> 时间：2013-04-11T05:32:56.890
> 
> 标签：c#, .net, dictionary

我这样创建了一个字典：

```
Dictionary<byte[], MyClass> dic = new Dictionary<byte[], MyClass>(); 
```

假设密钥是 20 字节的 SHA1 哈希。因此，在向该字典中添加了两个条目后，我使用调试器进行了检查，并且两者都具有相同的字节数组键。

我认为字典不能做到这一点？

PS：这是我添加它们的方法：

```
string strText1 = "text";

SHA1 sha1_1 = new SHA1CryptoServiceProvider();
byte[] bytesHash1 = sha1_1.ComputeHash(System.Text.Encoding.UTF8.GetBytes(strText1));

string strText2 = "text";

SHA1 sha1_2 = new SHA1CryptoServiceProvider();
byte[] bytesHash2 = sha1_2.ComputeHash(System.Text.Encoding.UTF8.GetBytes(strText2));

dic.Add(bytesHash1, 1);
dic.Add(bytesHash2, 2); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-11T05:37:35.640

字典*不能*这样做（有重复的键）。

但是，您的字典*没有*重复的键，因为比较器将`byte[]`视为引用，有效地使用指针而不是数组的内容。

如果您想`byte[]`用作键，可能最简单的解决方案是提供您自己的比较类来检查内容而不是参考值，例如：

```
public class BaComp: IEqualityComparer<byte[]> {
    public bool Equals (byte[] left, byte[] right) {
        // Handle case where one or both is null (equal only if both are null).

        if ((left == null) || (right == null))
            return (left == right);

        // Otherwise compare array sequences of two non-null array refs.

        return left.SequenceEqual (right);
    }

    public int GetHashCode (byte[] key) {
        // Complain bitterly if null reference.

        if (key == null)
            throw new ArgumentNullException ();

        // Otherwise just sum bytes in array (one option, there are others).

        int rc = 0;
        foreach (byte b in key)
            rc += b;
        return rc;
    }
} 
```

然后像这样使用它：

```
Dictionary<byte[], MyClass> dic = new Dictionary<byte[], MyClass> (new BaComp()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:42:30.913

您需要使用[此构造函数（文档）实例化您的字典：](http://msdn.microsoft.com/en-us/library/ms132072.aspx)

```
IEqualityComparer<byte[]> myComparator = GetMyComparatorSomehow();
Dictionary<byte[], MyClass> dic = new Dictionary<byte[], MyClass>(myComparator); 
```

您的比较器应该按照[此处](http://msdn.microsoft.com/en-us/library/ms132151.aspx)记录的方式工作。

# c# - 在 C# 中显示运行时使用 kinect 拍摄的照片

> ID：15941391
> 
> 赞同：1
> 
> 时间：2013-04-11T05:32:57.943
> 
> 标签：c#, wpf, visual-studio-2010, kinect

我正在使用 C# 中的 Kinect 拍摄图像，并希望将其显示在应用程序的下一页上。

我可以成功获取图像并将其成功存储在磁盘上，因为我可以将此图像作为电子邮件附件发送。

照片采集代码为：

```
 public void CaptureScreen(double x, double y, double width, double height)
    {
        int ix, iy, iw, ih;
        ix = Convert.ToInt32(x);
        iy = Convert.ToInt32(y);
        iw = Convert.ToInt32(width);
        ih = Convert.ToInt32(height);

        //  set the kinect hand icon invisible 
        kinectButton.Visibility = System.Windows.Visibility.Collapsed;
        kinectButton2.Visibility = System.Windows.Visibility.Collapsed; 
        Bitmap image = new Bitmap(iw, ih,
               System.Drawing.Imaging.PixelFormat.Format32bppArgb);
        Graphics g = Graphics.FromImage(image);
        g.CopyFromScreen(ix, iy, ix, iy,
                 new System.Drawing.Size(iw, ih),
                 CopyPixelOperation.SourceCopy);

        image.Save("../../Images/image_display.png");
        desk_input();
    } 
```

我使用该`image_display.png`文件在屏幕上显示图像。

我正在使用以下代码来显示图像：

```
 private void desk_input() {

        BitmapImage bi2 = new BitmapImage();
        bi2.BeginInit();

        bi2.UriSource = new Uri("/Images/image_display.png", UriKind.RelativeOrAbsolute);
        bi2.EndInit();
        photo_preview.Visibility = System.Windows.Visibility.Visible;
        photo_preview.Source = bi2;

        Canvas.SetLeft(photo_preview, 750);
        Canvas.SetTop(photo_preview, 400);

    } 
```

但是，在运行期间，会继续显示上次运行应用程序时拍摄的照片，而不是当前照片。我猜这是因为在`image_display.png`编译应用程序时文件被添加到二进制文件中。

那么你能建议一种我可以立即显示用 kinect 拍摄的图像的方法吗？

**编辑：**我通过刷新位图缓存解决了这个问题，如下所示：

```
 private void desk_input() {

        BitmapImage bi2 = new BitmapImage();
        bi2.BeginInit();

        bi2.UriSource = new Uri("/Images/image_display.png", UriKind.RelativeOrAbsolute);
        bi2.CacheOption = BitmapCacheOption.OnLoad; //Changed - Reload the file
        bi2.EndInit();
        photo_preview.Visibility = System.Windows.Visibility.Visible;
        photo_preview.Source = bi2;

        Canvas.SetLeft(photo_preview, 750);
        Canvas.SetTop(photo_preview, 400);

    } 
```

# android - android中的双面拖放列表视图

> ID：15941393
> 
> 赞同：1
> 
> 时间：2013-04-11T05:33:08.960
> 
> 标签：android

我有一些显示一些数据的列表视图。现在我想在彼此的列表视图中合并拖放项目的功能。我的意思是我想将项目从列表 1 拖动到列表 2,3，依此类推..类似地，我想将项目从列表 2 拖动到列表 1,3，依此类推.. 我有一些拖放示例..但这对我不起作用..它们中的大多数是单侧拖放列表，我的意思是它们中的大多数有 2 个列表视图，您可以将项目从列表 1 拖动到列表 2，但不能从列表中拖动项目清单 2 到清单 1。我尝试实现双面拖放功能，但我的尝试不足以让我采取所需的行动。请帮忙提供一些线索。

感谢和问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T05:37:31.327

github中有一个库。

希望你能得到这个。[https://github.com/bauerca/drag-sort-listview](https://github.com/bauerca/drag-sort-listview)

# jquery - 禁用完整文档上的点击事件，除了一个 div

> ID：15941396
> 
> 赞同：2
> 
> 时间：2013-04-11T05:33:18.443
> 
> 标签：jquery, asp.net-mvc-3

我的 MVC 应用程序中有一个网页。像这样

```
<html>
<head>
</head>
<body>
<div id="1st_section"> Contents................... so on</div>
<div id="2th_section">Contents................... so on</div>
<div id="3th_section">Contents................... so on</div>
<div id="4th_section">Contents................... so on</div>
</body>
</html> 
```

在浏览器中渲染此页面时，我们只需要 `<div id="1st_section"> Contents................... so on</div>`对此部分进行鼠标单击启用。除此部分外，应在整个网页中禁用鼠标单击事件。

您能否建议可能的方法来做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T05:37:14.057

如果您有来自其他地方的点击处理程序，您可以使用- 通用选择器[取消绑定：](http://api.jquery.com/unbind/)`*`

```
$(function(){
    $('*').unbind('click');
    $('body > div#1st_section').bind('click', function(){
      //bind event listener goes here
    });

}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T05:35:12.783

使用 jquery[`click()`](http://api.jquery.com/click/)和[属性选择器](http://api.jquery.com/category/selectors/)

尝试这个

```
$(document).ready(function(){
    $("div[id$='_section']").click(function(){
        alert('clicked');
    });
}); 
```

`$("div[id$='_section']")`选择所有值以 . 结尾的 div `_section`。

**更新**

更新问题后..如果您只需要一个然后使用 id 选择器

```
$(function(){
$("#1st_section").click(function() {
   alert('clicked');
})
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-11T05:51:08.723

您可以将处理程序附加到整个主体，但在单击所需元素时执行操作。

```
var handler = function(event){    
    if($(event.target).is("#1st_section"))
              // do something
    else
         return false;
}
$(document).on("click", handler); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-11T05:36:16.030

由于 id 是唯一的，为什么不：

```
$("#1st_section").click(function() {
    // Your code here for 1st_section, the other sections and elements will not be affected
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-11T05:42:54.933

是的，你可以这样做。

使用“pointer-events:none”和 IE 的 CSS 条件语句，您可以获得针对此问题的跨浏览器兼容的解决方案。

使用 AlphaImageLoader，您甚至可以将透明的 PNG/GIF 放在覆盖 div 中，并让点击流到下面的元素。

```
 pointer-events:none;
     background:url('your_transparent.png'); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-11T05:50:25.347

您可以使用`.off() and .on()`处理程序来绑定事件和通用选择器`*`来禁用单击：

尝试这个：

```
$('*').off('click'); //<-----take out the click from every item on the page

$('#1st_section').on('click', function () { //<-binding the click to specific div
   alert('clicked');
}); 
```

### [演示](http://jsfiddle.net/UV33n/)

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-04-11T05:38:52.970

你只想点击这个，它也有ID

```
<div id="1st_section"> Contents................... so on</div> 
```

因此您可以使用 # selector for Ids 来选择它。您可以在 jquery 中使用以下代码来生成点击事件

```
$(document).ready(function(){
    $("#1st_section").click(function(){
//       here you code which you want to execute on click event 
    });
}); 
```

如果你想删除事件处理程序，你可以使用 jquery 的 off()

[删除事件处理程序。](http://api.jquery.com/off/)

**编辑：**

所以你可以尝试这样的事情来从文档中删除所有点击事件并在该 div 上添加点击事件

```
$(function () {
    $('*').off('click');
    $('#1st_section').on('click', function () {
        alert('HI');
    });
}); 
```

[JS FIDDLE 链接](http://jsfiddle.net/rahularyansharma/NfN5Z/2/)

# android - 制作android锁屏和主屏幕

> ID：15941404
> 
> 赞同：-3
> 
> 时间：2013-04-11T05:34:23.137
> 
> 标签：android, homescreen, lockscreen

我想做android锁屏但不知道如何实现和启动。请给我一些锁屏示例（不是图案 n 密码锁）和制作锁屏的说明。并给我代码来应用自己制作的锁屏作为android上的默认锁。

并告诉我如何制作主屏幕。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T05:43:05.293

Android 锁屏的源代码可以在 platform/frameworks/policies/base Git 存储库的 phone/com/android/internal/policy/impl/LockScreen.java 文件中找到。

您可以在[此处阅读说明](http://source.android.com/source/downloading.html)

[你可以在这里](https://github.com/android/platform_frameworks_policies_base/blob/master/phone/com/android/internal/policy/impl/LockScreen.java)阅读源文件

# vb.net - 涉及循环时如何将项目添加到列表框？

> ID：15941407
> 
> 赞同：0
> 
> 时间：2013-04-11T05:35:06.097
> 
> 标签：vb.net, loops, listbox, match

```
Dim intX, intY As Integer
    intY = Nums.GetUpperBound(0)
    For intX = 0 To intY
        With Nums(intX)
            If .strFtID = strID Then

        ‘calls various subs/functions to get results to show in listbox

                listbox.Items.Add(String.Format(strFmt, "various titles”))
                listbox.Items.Add(String.Format(strFmt, variable results))
            End If
        End With
    Next 
```

在这个循环中，每个匹配项都会添加标题列表框，但我只希望添加一次。如果在整个循环搜索并没有匹配项之后，我还想添加“不匹配”。此循环中有多个匹配项，因此不能将其放在其中或“else”下。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:09:29.260

为了能够知道是否找到了匹配项，我通常在循环外添加一个布尔值，我称之为“找到”。然后我将其设置为假。如果 if 语句曾经是匹配项，我在 if 中将 found 设置为 true。这样，当循环结束时，我会知道是否有匹配。

```
Dim found as Boolean = false
For 
 If
  found = true
 End if
Next 
```

对于列表框，我会这样做：

```
If Not listbox.Items.Contains(String.Format(strFmt, "various titles”)) Then
 listbox.Items.Add(String.Format(strFmt, "various titles”))
End if 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:32:37.710

试试这个代码，我认为这将适合您的要求。

```
Dim intX, intY As Integer
intY = Nums.GetUpperBound(0)
    For intX = 0 To intY
        With Nums(intX)
            If .strFtID = strID Then

               'This following If statement will restricts the duplicate entries, That is
               'multiple matches in your words.

               If Not listbox.Items.Contains(String.Format(strFmt, "various titles”)) Then
                listbox.Items.Add(String.Format(strFmt, "various titles”))
                listbox.Items.Add(String.Format(strFmt, variable results))
               End if

            End If
        End With
    Next 
```

现在在循环之后，只需检查列表框的计数。如果其计数大于零，则在上层循环中找到了一些匹配项。这样我们就可以离开而不采取任何进一步的行动，否则只需在该列表框中添加单词“No Matches”，请参阅下面的代码，

```
if listbox.Items.count > 0
 listbox.items.add(" NO MATCHES FOUND ")
end if 
```

# c# - 自动将图像保存到具有用户定义名称的文件夹中

> ID：15941416
> 
> 赞同：1
> 
> 时间：2013-04-11T05:36:28.853
> 
> 标签：c#, winforms

我有一个没有任何名称的图像，我想直接将此图像保存在具有默认名称的特定文件夹中（image1、image2 等.....）到目前为止，我正在使用此代码手动保存图像。

```
 if (imageOpened == true)
        {
            SaveFileDialog sfd = new SaveFileDialog();
            sfd.Filter = "PNG Files(*.png)|*.png";

            if (sfd.ShowDialog() == DialogResult.OK)
                imagePanelControl.SaveImage(sfd.FileName);
        }
        else
            MessageBox.Show("Load a file before saving!");

        imagePanelControl.Invalidate();
    } 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:09:58.867

让我们试着找出我们需要什么：首先我们需要找到所有匹配模式“image{ONE or MORE DIGIT}.png”的文件，所以：

```
Regex reg = new Regex(@"image(\d)+[.]");
var list = Directory.GetFiles(dir, "*.png").Where(path => reg.IsMatch(path)).ToList(); 
```

检查是否存在任何文件，如果存在则返回“image1.png”，代码为：`if (list.Count == 0) return "image1.png";`

最后一步是找到最后一个数字，所以我们必须从列表中的文件中删除除数字之外的所有内容，对列表进行排序，然后取最后一个。代码如下：

```
list.Select(x => (new FileInfo(x)).Name.Replace("image", "").Replace(".png", "")).OrderBy(x => x).Last(); 
```

最后一步是解析上述值并添加一个。最终代码是：

```
 private static string GetNewFileName(string dir)
        {
            Regex reg = new Regex(@"image(\d)+[.]");

            var list = Directory.GetFiles(dir, "*.png").Where(path => reg.IsMatch(path))
                     .ToList();

            if (list.Count == 0)
                return "image1.png";

            var lastName =
                list.Select(x => (new FileInfo(x)).Name.Replace("image", "").Replace(".png", "")).OrderBy(x => x).Last();

            return string.Format("image{0}.png", int.Parse(lastName)+1);
        } 
```

;

# c# - 如何验证内容页面中的复选框列表？

> ID：15941419
> 
> 赞同：1
> 
> 时间：2013-04-11T05:36:37.457
> 
> 标签：c#, javascript, asp.net, validation, checkbox

我在母版页的内容页面中选择一个复选框列表，通过它我可以选择多个值并保存在数据库中。如何确认在单击提交按钮时至少选择了一个复选框。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T05:39:14.760

你可以像下面那样做。

**在 JavaScript 中，控件在哪里或内容页或母版页都无关紧要**

```
<asp:CheckBoxList ID="chkModuleList"runat="server" />

<asp:CustomValidator runat="server" ID="cvmodulelist"
  ClientValidationFunction="ValidateModuleList"
  ErrorMessage="Please Select Atleast one Module" />

// javascript to add to your aspx page
function ValidateModuleList(source, args)
{
  var chkListModules= document.getElementById ('<%= chkModuleList.ClientID %>');
  var chkListinputs = chkListModules.getElementsByTagName("input");
  for (var i=0;i<chkListinputs .length;i++)
  {
    if (chkListinputs [i].checked)
    {
      args.IsValid = true;
      return;
    }
  }
  args.IsValid = false;
} 
```

**更新：** 或者你可以通过这种方法：把任何`css-class`说`company`。你可以通过下面。

您可以使用 (http://api.jquery.com/checked-selector/)选择`:checked`器[：](http://api.jquery.com/checked-selector/)

```
<script>
    $(document).ready(function() {
        $(".company input").click(function() {
            var cnt = $(".company input:checked").length;
            if (cnt == 0)
            {
               // none checked
            }
            else
            {
               // any checked
            }
        });
    });
</script> 
```

**您可能希望在这些复选框的容器上添加（或使用）一个 id，以优化选择器速度。**

至于 asp.net 在控件上弄乱客户端 ID，您可以使用

```
$('<%= MyControl.ClientID %>') 
```

参考：

*   [检查是否在客户端的一组复选框中选中了一个复选框](https://stackoverflow.com/questions/5529319/check-if-a-checkbox-is-checked-in-a-group-of-checkboxes-in-clientside)
*   [如何验证用户至少选择了一个复选框？](https://stackoverflow.com/questions/1146234/asp-net-checkboxlist-how-to-validate-a-user-choose-at-least-one-checkbox)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-16T15:09:53.253

[Dado.Validators](https://github.com/roydukkey/Dado.Validators)是 GitHub 上的一个库，也很好地处理了这个问题。

```
<asp:CheckBoxList ID="cblCheckBoxList" runat="server">
    <asp:ListItem Text="Check Box (empty)" Value="" />
    <asp:ListItem Text="Check Box 1" Value="1" />
    <asp:ListItem Text="Check Box 2" Value="2" />
    <asp:ListItem Text="Check Box 3" Value="3" />
</asp:CheckBoxList>

<Dado:RequiredFieldValidator runat="server" ControlToValidate="cblCheckBoxList" ValidationGroup="vlgSubmit" /> 
```

示例代码隐藏.aspx.cs

```
btnSubmit.Click += (a, b) =>
{
    Page.Validate("vlgSubmit");
    if (Page.IsValid) {
        // Validation Successful
    }
}; 
```

[https://www.nuget.org/packages/Dado.Validators/](https://www.nuget.org/packages/Dado.Validators/)

# soa - IPv6 网络协议中的 Web 服务

> ID：15941422
> 
> 赞同：0
> 
> 时间：2013-04-11T05:36:54.890
> 
> 标签：soa, ipv6

SOA（面向服务的体系结构）在 IPv6 网络部署中是否正常工作？用于创建 Web 服务的免费现有工具（例如 eclipse、netbeans 等）是否负责 IPv6 网络地址？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T07:52:44.920

IPv6 在第 3 层工作，而 SOA 和应用程序在第 7 层工作，所以应该没问题。但并非所有应用程序和库都正确编写，因此可能存在特定于实现的限制。Eclipse 和 Netbeans 等工具同样适用于 IPv4 和 IPv6。他们并不真正关心IP版本。

# java - 将 FrameLayout 的内容放在前面

> ID：15941429
> 
> 赞同：1
> 
> 时间：2013-04-11T05:37:17.473
> 
> 标签：java, android, android-layout

我有这个活动布局，其中我有一个标题（`RelativeLayout`），内容（`FrameLayout`）和一个页脚（RelativeLayout）都在一个`LinearLayout`（请参阅下面的附加屏幕截图）：

![在此处输入图像描述](https://i.stack.imgur.com/lkjNb.png)

问题是，有时当内容（实际上是 a `Fragment`）足够大时，它会被页脚剪掉（例如，在附加的图像中，可以看到某个按钮被剪掉了）。我尝试将页脚布局的背景设置为透明（通过 xml 和代码），调用该`FrameLayout.bringToFront()`方法，但似乎没有任何效果！

下面粘贴的是我正在使用的布局 xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/layoutMain"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="#000000" 
    android:orientation="vertical"
    tools:context=".BatwaSelectLanguage" >

    <RelativeLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/layoutHeader"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="top" >

        <ImageView
            android:id="@+id/imBatwa"
            android:layout_width="209dp"
            android:layout_height="48dp"
            android:layout_alignParentLeft="true"
            android:layout_centerVertical="true"
            android:layout_marginLeft="30dp"
            android:layout_marginTop="20dp"
            android:src="@drawable/batwa" />

        <Spinner
            android:id="@+id/spLang"
            android:layout_width="140dp"
            android:layout_height="60dp"
            android:layout_alignParentRight="true"
            android:layout_centerVertical="true"
            android:layout_marginRight="30dp"
            android:layout_marginTop="20dp"
            android:background="#000000"
            android:prompt="@string/english" />

        <TextView
            android:id="@+id/tvSelectLanguage"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_centerVertical="true"
            android:layout_marginRight="20dp"
            android:layout_marginTop="20dp"
            android:layout_toLeftOf="@+id/spLang"
            android:drawablePadding="30dp"
            android:drawableRight="@drawable/line"
            android:gravity="center"
            android:text="@string/select_your_language"
            android:textColor="@color/tvWhite"
            android:textSize="@dimen/tvSizeSelectLang" />
    </RelativeLayout>

    <FrameLayout
        android:id="@+id/content_frame"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1" >
    </FrameLayout>

    <RelativeLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/layoutFooter"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:gravity="bottom" >

        <ImageView
            android:id="@+id/imNFC"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentLeft="true"
            android:layout_marginBottom="0dp"
            android:layout_marginLeft="30dp"
            android:contentDescription="@string/nfcimg"
            android:src="@drawable/nfc" />

        <ImageView
            android:id="@+id/imNadra"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentRight="true"
            android:layout_marginBottom="00dp"
            android:layout_marginRight="10dp"
            android:contentDescription="@string/nadra"
            android:src="@drawable/nadralogo" />
    </RelativeLayout>

</LinearLayout> 
```

# git - 无法将文件推送到我的 github 存储库

> ID：15941442
> 
> 赞同：1
> 
> 时间：2013-04-11T05:38:23.197
> 
> 标签：git, version-control, github

我已经在我的 Ubuntu 12.04 LTS 上设置了 git，但是每当我尝试将文件推送到我的远程存储库 ( `git push -u origin master`) 时，我都会收到以下错误 -

```
ssh: connect to host github.com port 22: Connection timed out
fatal: The remote end hung up unexpectedly 
```

这是什么意思？我该如何解决？

* * *

我使用以下命令安装了 Git -

```
sudo apt-get install git 
```

我的本地存储库在这里-

```
/media/48B9-FD83/foobar 
```

它不在主目录中，而是在已安装的驱动器上（有问题吗？）。

我在该目录中初始化了 git 并按照[此处给出的步骤 - GitHub 的官方教程](http://try.github.io/levels/1/challenges/10)。

在推送文件时，我得到了上面提到的那些`ssh`和`fatal`错误。

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T06:01:36.770

按以下顺序尝试：

*   `ping github.com`. 您不应该看到任何超时。
*   `sudo apt-get install telnet`.
*   `telnet github.com 22`. 您应该看到如下内容：

* * *

```
 Trying 204.232.175.90...
 Connected to github.com.
 Escape character is '^]'.
 SSH-2.0-OpenSSH_5.5p1 Debian-6+squeeze1+github9 
```

* * *

*   `Ctrl`通过键入+`]`后跟`Ctrl`+退出 telnet `d`。
*   按照[Github 中提到的步骤：生成 ssh 密钥指南](https://help.github.com/articles/generating-ssh-keys#platform-linux)。
*   `~/.ssh`通过键入以下内容确保其内容仅对您可读：

    *   chmod 0755`~/.ssh`
    *   chmod -R 0600`~/.ssh/*`
*   接下来，`ssh -T git@github.com`应该说：

* * *

```
Hi <username>! You've successfully authenticated, but GitHub does not provide shell access. 
```

* * *

如果您在尝试任何这些命令时看到任何错误消息，请报告。不要忘记发布您在评论中看到的错误消息。

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-30T14:51:38.027

我有类似的问题，总是通过WIFI，我想我已经找到了一个经过大量搜索。我的解决方案与电源管理器有关。您可以通过在终端中输入来检查您的设置`iwconfig`，您应该会看到如下内容：

```
wlan0     IEEE 802.11bgn  ESSID:"MY_NET_NAME"  
          Mode:Managed  Frequency:2.462 GHz  Access Point: 00:00:00:00:00:00   
          Bit Rate=52 Mb/s   Tx-Power=16 dBm   
          Retry  long limit:7   RTS thr:off   Fragment thr:off
          Power Management:on
          Link Quality=48/70  Signal level=-62 dBm  
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:2  Invalid misc:27   Missed beacon:0 
```

问题是由`Power Management:on`（如果你的没有打开，这个解决方案不适合你）引起的。

要禁用电源管理，请在终端中键入以下内容（替换`wlan0`为您的设备）：

`sudo iwconfig wlan0 power off`

这解决了我的问题。要使解决方案永久化，您可以将解决方案添加到电源管理器的启动中：

1.  创建脚本：sudo nano /etc/pm/power.d/wireless
2.  复制粘贴以下内容：#!/bin/sh /sbin/iwconfig wlan0 power off
3.  使文件可执行 sudo chmod u+x /etc/pm/power.d/wireless

希望这会有所帮助。

这是基于我在[这里](http://www.hitxp.com/articles/software/ubuntu-fix-slow-wireless-internet-connection-speed-upgrading-11-04-natty-narwhal/)找到的信息。

# fortran - 在fortran中将空字节添加到写语句的末尾

> ID：15941445
> 
> 赞同：0
> 
> 时间：2013-04-11T05:38:47.207
> 
> 标签：fortran

我有一堆正在写出的参数，但我想在该行中添加额外的 256 个字节。

```
open (1, file=filename, form='unformatted')
write (1) a,b,c,d,BLANKBYTES
write (1) array1
write (1) array2
close (1) 
```

有没有办法添加这些额外的“空白”字节？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T07:44:32.560

```
use ISO_FORTRAN_ENV

integer (int8), dimension (256), parameter :: zero_bytes = 0

....

write (1) a,b,c,d, zero_bytes 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T16:52:42.017

另一种方法。

```
 write(1)a,b,c,d,(char(0),i=1,256) 
```

# java - jackson 将 JSON 转换为 JAVA

> ID：15941452
> 
> 赞同：0
> 
> 时间：2013-04-11T05:39:21.140
> 
> 标签：java, json, jackson

我正在尝试解析从谷歌自定义搜索中检索到的 json 数据。

这是json示例：

```
{
 "items": [
  {
   "link": "address1"
  },
  {
   "link": "address2"
  }
 ]
} 
```

这是 POJO：

```
public class Result 
{
    item[] items;
    class item
    {
        String link;
    }
} 
```

但我收到一个错误：

**无法识别的字段“项目”（类结果），未标记为可忽略**

我的 POJO 有什么问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T05:59:45.903

使类结构如下所示

```
class item {
    String link;
}
@JsonIgnoreProperties(ignoreUnknown=true)
class Result {
    item[] items;
} 
```

@JsonIgnoreProperties(ignoreUnknown=true) 如果 JSON 字符串中有任何属性但不在你的类中，那么解析器将不会通过任何异常，它只会忽略它。

编辑：带有示例的完整代码

```
class Item {
    String link;

    public String getLink() {
        return link;
    }

    public void setLink(String link) {
        this.link = link;
    }
}

@JsonIgnoreProperties(ignoreUnknown = true)
class Result {
    List<Item> items;

    public List<Item> getItems() {
        return items;
    }

    public void setItems(List<Item> items) {
        this.items = items;
    } 
```

}

```
public class JsonCommonTest {
    public static void main(String[] args) throws Exception {
        ObjectMapper mapper = new ObjectMapper();
        String data = "{\"items\": [{\"link\": \"address1\"},{\"link\": \"address2 \"}]}";
        Result result = mapper.readValue(data, Result.class);
        System.out.println(result.items.size());
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:14:51.420

如果您在杰克逊中使用内部类，则内部类必须是静态的或不使用内部类。

# google-maps-api-3 - Windows Store 应用程序中的谷歌地图

> ID：15941453
> 
> 赞同：1
> 
> 时间：2013-04-11T05:39:24.580
> 
> 标签：google-maps-api-3, windows-store-apps, winrt-xaml

我想在我的 Windows Store 应用程序中使用 Google Map。我找到了这篇文章。[http://www.creepyed.com/2012/11/how-to-use-the-google-maps-api-on-windows-8](http://www.creepyed.com/2012/11/how-to-use-the-google-maps-api-on-windows-8)。但它是在 javascript 中的，我不是 javascript 专家。我想在 C# + XAML 中实现它。我怎样才能做到这一点？谢谢。

# c# - 从 AsyncFileUpload 压缩图像文件

> ID：15941455
> 
> 赞同：0
> 
> 时间：2013-04-11T05:39:46.637
> 
> 标签：c#, compression, asyncfileupload

是否可以在直接从 上传时压缩图像`AsyncFileUpload`？如果是的话，你能指导我怎么做吗？

例如：我有一个用户上传一个`.jpeg`大小的图像，`1200x1600 (5MB)`我想将它压缩成一个`600x800 (1MP~2MB)`文件。在将其上传到服务器之前，我必须尽可能在客户端执行此操作。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T07:32:03.630

在 HTML5 浏览器上，您可以使用此[答案](https://stackoverflow.com/a/10334170/529282)中的解决方案，否则您会坚持要求您的客户端使用插件（[Java](https://stackoverflow.com/questions/2088966/i-need-to-resize-images-upon-upload-in-java-struts-how-to-do-this)、[Flash](https://stackoverflow.com/questions/431120/flash-upload-image-resize-client-side)、[Silverlight](http://programmerpayback.com/2010/01/21/use-silverlight-to-resize-images-and-increase-compression-before-uploading/)）等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T05:43:17.250

您可以查看[DotNetZip](http://dotnetzip.codeplex.com/)库。我想你会在那里找到你的解决方案。

# recommendation-engine - 我们如何在 Myrrix 中组合多种数据类型进行推荐？

> ID：15941457
> 
> 赞同：2
> 
> 时间：2013-04-11T05:39:52.607
> 
> 标签：recommendation-engine, collaborative-filtering, myrrix

在我们的例子中，我们有用户的点击流、项目的属性（如类别、标签等）、关于项目的收藏以及项目的集合。我们如何将这些数据组合为 Myrrix 的输入数据？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T12:17:28.030

基本上，您正在尝试对用户和项目之间的交互进行建模。您对不同交互进行建模的方式是为每个交互分配一个强度指标。例如，您可以争辩说点击的强度为 2，收藏的强度为 5，也许购买的强度为 15（我只是在说数字）。

输入数据示例：

```
user1,item1,2 => he view the item
user1,item1,5 => he made the item a favorite
user1,item1,15 => he purchased the item 
```

现在，在内部，Myrrix 将添加所有这些值，以表明对该项目的强烈偏好，因此您将保留所有交互（而不仅仅是最强的交互）

您可能拥有的关于用户或项目的元数据也可以作为“标签”引入 Myrrix，以更好地通知模型。所以你可以说一个用户是“女性”或者一个项目是“牛仔裤”。每个用户或项目可以有多个标签，并且每个标签也可以分配一个权重。

# gitlab - GItlab 不发送有关新问题的电子邮件

> ID：15941460
> 
> 赞同：2
> 
> 时间：2013-04-11T05:40:01.627
> 
> 标签：gitlab

GItlab 不会发送关于新问题的电子邮件，但会发送问题关闭和评论。我该如何启用它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T05:48:42.690

GitLab 上的任何通知规则问题都在[Issue 2669](https://github.com/gitlabhq/gitlabhq/issues/2669)中引用（“精选”） 。
重新设计正在进行中（[问题 1808](https://github.com/gitlabhq/gitlabhq/issues/1808)），但还没有。

提案已经存在（[issue 2466](https://github.com/gitlabhq/gitlabhq/issues/2466)，[issue 1448](https://github.com/gitlabhq/gitlabhq/issues/1448)），您可以在其中选择要通知的团队中的人员：

![电子邮件选择](https://i.stack.imgur.com/E95yf.png)

该功能请求在此处管理：“[改进电子邮件/通知系统](http://feedback.gitlab.com/forums/176466-general/suggestions/3726325-improve-email-notification-system)”。

# perl - 在 Perl Web 应用程序中，“我们的”变量在不同的 Web 请求-响应中共享？

> ID：15941461
> 
> 赞同：2
> 
> 时间：2013-04-11T05:40:07.590
> 
> 标签：perl, variables, web-applications, dancer

我正在用 Perl 编写一个 Web 应用程序`Dancer`。假设我在 中声明了一个变量`our`，并将 的内容分配给它：`$var``A.pm``file1`

```
sub get_file_content {
    our $var = <FILE1>;
} 
```

我声明`var`为`our`因为我想稍后在另一个文件中使用它`B.pm`：

```
sub display_file_content {
    &display($A::var);
} 
```

所以，`get_file_content`执行之后，`$var`应该是file1的内容。在`display_file_content`执行之前，我更改了file1的内容，并单击了一些按钮来执行`display_file_content`。正如假设的那样，显示了 file1 的原始内容。

然后我做了和上面一样的事情，只是改变了file1的内容后，我没有点击`display_file_content`按钮。相反，我在另一个 Web 浏览器中对同一页面启动另一个 Web 请求。我`get_file_content`是先执行的，直接点击按钮即可通过`display_file_content`。file1 的修改内容显示在第二个 Web 浏览器中。这个是正常的。但是，当我在第一个网络浏览器中单击显示按钮时，它也显示了修改后的内容，而不是原来的内容。与在另一个 Web 浏览器中没有第二个 Web 请求的第一个实验相比，该变量似乎`$var`在 Web 请求 - 响应过程中是共享的。但为什么会这样？你能给出一些解释吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T05:44:28.530

“似乎变量 var 在两个请求 - 响应过程中共享”，因为它是。`our`关键字声明了一个全局包。你在一个持久的环境中运行你的 Dancer 应用程序，你的全局变量也是持久的。您将需要`our`在每个请求开始时重置所有变量。

# opencv - 如何在矢量图像上绘图 或矢量 ?

> ID：15941463
> 
> 赞同：4
> 
> 时间：2013-04-11T05:40:26.797
> 
> 标签：opencv, image-processing

你如何从矢量或矢量上绘制图像？

我有 VectorPoints `vector<Point2f>`。我只需要使用 openCv 从 VectorPoints 绘制图像。

有什么建议么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T07:57:39.190

手动执行：

```
Vec3b mycolor(100,0,0);
for (int i=0;i<mypoints.size();i++)
    myimage.at<Vec3b>(mypoints[i].x,mypoints[i].y)=mycolor; 
```

或在这些坐标上画圈：

```
int myradius=5;
for (int i=0;i<mypoints.size();i++)
    circle(myimage,cvPoint(mypoints[i].x,mypoints[i].y),myradius,CV_RGB(100,0,0),-1,8,0); 
```

您应该投票赞成所有您认为有价值的答案，并接受对您有用的答案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T06:05:55.730

如果您只想绘制一条连接向量中点的折线，您可以简单地遍历向量元素并使用 opencv 线（[http://docs.opencv.org/modules/core/doc/drawing_functions.html#line](http://docs.opencv.org/modules/core/doc/drawing_functions.html#line) ) 函数在两个点之间画一条线。

# mysql - FRO到底是什么？（与数据库有关）

> ID：15941467
> 
> 赞同：0
> 
> 时间：2013-04-11T05:40:48.940
> 
> 标签：mysql, database

我正在为一家公司构建一个 mysql 数据库，只是被问到它是否可以输出“FRO”

我能找到的唯一信息是这里[http://en.wikipedia.org/wiki/Fro](http://en.wikipedia.org/wiki/Fro)的一个小条目，用蹩脚的英文写着“网络元素上的 SQL 数据库使用的文件格式”

# c# - 实体框架 4 SaveChanges 内存不足

> ID：15941471
> 
> 赞同：3
> 
> 时间：2013-04-11T05:40:55.787
> 
> 标签：c#, entity-framework-4

我有一个包含超过一百万条记录的表。每条记录包含大约 60 个字段，但我们只更改其中的三个。

我们根据计算和查找对每个实体进行小修改。

显然，我不能依次更新每个实体，`SaveChanges`因为那样会花费太长时间。

因此，在整个过程结束时，我调用`SaveChanges`了`Context`.

当我申请时，这会导致内存不足错误`SaveChanges`

我正在使用 DataRepository 模式。

```
//Update code
DataRepository<ExportOrderSKUData> repoExportOrders = new DataRepository<ExportOrderSKUData>();
foreach (ExportOrderSKUData grpDCItem in repoExportOrders.all())
{
  ..make changes to enity..
}
repoExportOrders.SaveChanges();

//Data repository snip
public DataRepository()
{
  _context = new tomEntities();
  _objectSet = _context.CreateObjectSet<T>();
}
public List<T> All()
{
  return _objectSet.ToList<T>();
}
public void SaveChanges()
{
  _context.SaveChanges();
} 
```

在这种情况下我应该寻找什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T07:39:28.483

在一个事务中通过 EF 更改 50 万条记录*不是假设用例*。小批量做是更好的技术方案。通过一些存储过程在数据库端执行它可能是更好的解决方案。

我将首先稍微修改您的代码（自己将其转换为您的存储库 API）：

```
using (var readContext = new YourContext()) {
    var set = readContext.CreateObjectSet<ExportOrderSKUData>();

    foreach (var item in set.ToList()) {
       readContext.Detach(item);
       using (var updateContext = new YourContext()) {
          updateContext.Attach(item);
          // make your changes
          updateContext.SaveChanges();
       }
    }
} 
```

此代码使用单独的上下文来保存项目 = 每个保存都在其自己的事务中。不要害怕那个。即使您尝试在一次`SaveChanges`EF 调用中保存更多记录，也会为每个更新的记录使用单独的数据库往返。唯一的区别是，如果您想在同一个事务中进行多次更新（但在单个事务中进行 50 万次更新无论如何都会导致问题）。

另一种选择可能是：

```
using (var readContext = new YourContext()) {
    var set = readContext.CreateObjectSet<ExportOrderSKUData>();
    set.MergeOption = MergeOption.NoTracking;

    foreach (var item in set) {
       using (var updateContext = new YourContext()) {
          updateContext.Attach(item);
          // make your changes
          updateContext.SaveChanges();
       }
    }
} 
```

这在理论上可以消耗更少的内存，因为您不需要在执行之前加载所有实体`foreach`。第一个示例可能需要在枚举之前加载所有实体（通过调用`ToList`）以避免调用时出现异常`Detach`（在枚举期间修改集合） - 但我不确定这是否真的发生。

修改这些示例以使用一些批次应该很容易。

# python - 如何制作它以便我可以读取仅包含特定单词的文本文件？

> ID：15941473
> 
> 赞同：0
> 
> 时间：2013-04-11T05:41:15.707
> 
> 标签：python, regex, text-files, word-count

如何让我的代码仅读取文本文件中的特定单词并显示单词和计数（单词出现在文本文件中的次数）？

```
from collections import Counter
import re

def openfile(filename):
 fh = open(filename, "r+")
 str = fh.read()
 fh.close()
 return str

def removegarbage(str):
 str = re.sub(r'\W+', ' ', str)
 str = str.lower()
 return str

def getwordbins(words):
 cnt = Counter()
 for word in words:
    cnt[word] += 1
 return cnt

 def main(filename, topwords):
   txt = openfile(filename)
   txt = removegarbage(txt)
   words = txt.split(' ')
   bins = getwordbins(words)
   for key, value in bins.most_common(topwords):
    print key,value

  main('filename.txt', 10) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:31:08.433

生成文件中所有单词的生成器会派上用场：

```
from collections import Counter
import re

def words(filename):
    regex = re.compile(r'\w+')
    with open(filename) as f:
        for line in f:
            for word in regex.findall(line):
                yield word.lower() 
```

然后，要么：

```
wordcount = Counter(words('filename.txt'))               
for word in ['foo', 'bar']:
    print word, wordcount[word] 
```

或者

```
words_to_count = set(['foo', 'bar'])
wordcount = Counter(word for word in words('filename.txt') 
                    if word in words_to_count)               
print wordcount.items() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T06:32:33.883

我认为您正在寻找的是一个简单的字典结构。这不仅可以让您跟踪要查找的单词，还可以跟踪它们的数量。

字典将事物存储为键/值对。因此，例如，您可以拥有关键字“alice”（您要查找的单词，并将其值设置为您找到该关键字的次数。

检查字典中是否有内容的最简单方法是通过 Python 的`in`关键字。IE

```
if 'pie' in words_in_my_dict: do something 
```

有了这些信息，设置字数计数器就很容易了！

```
def get_word_counts(words_to_count, filename):
    words = filename.split(' ')
    for word in words:
        if word in words_to_count:
            words_to_count[word] += 1
    return words_to_count

if __name__ == '__main__':

    fake_file_contents = (
        "Alice's Adventures in Wonderland (commonly shortened to "
        "Alice in Wonderland) is an 1865 novel written by English"
        " author Charles Lutwidge Dodgson under the pseudonym Lewis"
        " Carroll.[1] It tells of a girl named Alice who falls "
        "down a rabbit hole into a fantasy world populated by peculiar,"
        " anthropomorphic creatures. The tale plays with logic, giving "
        "the story lasting popularity with adults as well as children."
        "[2] It is considered to be one of the best examples of the literary "
        "nonsense genre,[2][3] and its narrative course and structure, "
        "characters and imagery have been enormously influential[3] in "
        "both popular culture and literature, especially in the fantasy genre."
        )

    words_to_count = {
        'alice' : 0,
        'and' : 0,
        'the' : 0
        }

    print get_word_counts(words_to_count, fake_file_contents) 
```

这给出了输出：

```
{'and': 4, 'the': 5, 'alice': 0} 
```

由于`dictionary`存储了我们想要计算的单词*和*它们出现的时间。整个算法只是检查每个单词是否在 中`dict`，如果结果是我们，我们添加`1`到该单词的值。

在这里阅读字典[。](http://docs.python.org/2/tutorial/datastructures.html)

## 编辑：

如果你想计算所有的单词，*然后*找到一个特定的集合，字典对于这项任务来说仍然很棒（而且速度很快！）。

我们需要做的唯一更改是首先检查字典是否`key`存在，如果不存在，则将其添加到字典中。

### 例子

```
def get_all_word_counts(filename):
    words = filename.split(' ')

    word_counts = {}
    for word in words: 
        if word not in word_counts:     #If not already there
            word_counts[word] = 0   # add it in.
        word_counts[word] += 1          #Increment the count accordingly
    return word_counts 
```

这给出了输出：

```
and : 4
shortened : 1
named : 1
popularity : 1
peculiar, : 1
be : 1
populated : 1
is : 2
(commonly : 1
nonsense : 1
an : 1
down : 1
fantasy : 2
as : 2
examples : 1
have : 1
in : 4
girl : 1
tells : 1
best : 1
adults : 1
one : 1
literary : 1
story : 1
plays : 1
falls : 1
author : 1
giving : 1
enormously : 1
been : 1
its : 1
The : 1
to : 2
written : 1
under : 1
genre,[2][3] : 1
literature, : 1
into : 1
pseudonym : 1
children.[2] : 1
imagery : 1
who : 1
influential[3] : 1
characters : 1
Alice's : 1
Dodgson : 1
Adventures : 1
Alice : 2
popular : 1
structure, : 1
1865 : 1
rabbit : 1
English : 1
Lutwidge : 1
hole : 1
Carroll.[1] : 1
with : 2
by : 2
especially : 1
a : 3
both : 1
novel : 1
anthropomorphic : 1
creatures. : 1
world : 1
course : 1
considered : 1
Lewis : 1
Charles : 1
well : 1
It : 2
tale : 1
narrative : 1
Wonderland) : 1
culture : 1
of : 3
Wonderland : 1
the : 5
genre. : 1
logic, : 1
lasting : 1 
```

`split(' ')`注意：正如你所看到的，当我们创建文件时有几个“失败” 。具体来说，有些单词附有左括号或右括号。您必须在文件处理中考虑到这一点。但是，我让您自己弄清楚！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T06:13:12.490

我认为做这么多功能太复杂了，为什么不在一个功能中做呢？

```
# def function if desired
# you may have the filepath/specific words etc as parameters

 f = open("filename.txt")
 counter=0
 for line in f:
     # you can remove punctuation, translate them to spaces,
     # now any interesting words will be surrounded by spaces and
     # you can detect them
     line = line.translate(maketrans(".,!? ","     "))
     words = line.split() # splits on any number of whitespaces
     for word in words:
         if word == specificword:
             # of use a list of specific words: 
             # if word in specificwordlist:
             counter+=1
             print word
             # you could also append the words to some list, 
             # create a dictionary etc
 f.close() 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-11T06:00:01.333

这可能就足够了......不完全是你问的，但最终结果是你想要的（我认为）

```
interesting_words = ["ipsum","dolor"]

some_text = """
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec viverra consectetur sapien, sed posuere sem rhoncus quis. Mauris sit amet ligula et nulla ultrices commodo sed sit amet odio. Nullam vel lobortis nunc. Donec semper sem ut est convallis posuere adipiscing eros lobortis. Nullam tempus rutrum nulla vitae pretium. Proin ut neque id nisi semper faucibus. Sed sodales magna faucibus lacus tristique ornare.
"""

d = Counter(some_text.split())
final_list = filter(lambda item:item[0] in interesting_words,d.items()) 
```

但是它的复杂性并不好，因此在大文件和/或“interesting_words”的大列表上可能需要一段时间

# spring-mvc - 缺少所需的 rquest 参数时如何通知调用者？

> ID：15941474
> 
> 赞同：1
> 
> 时间：2013-04-11T05:41:34.673
> 
> 标签：spring-mvc

我将 spring mvc 用于我宁静的 http api。请求参数可以根据需要注释

```
@RequestParam(value = "group", required = true) String someParam 
```

当调用没有所需参数的 api 时，会返回一些丑陋的信息。

```
HTTP/1.1 400 Bad Request
Content-Type: text/html;charset=ISO-8859-1
Cache-Control: must-revalidate,no-cache,no-store
Content-Length: 1380
Server: Jetty(8.1.9.v20130131)

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>Error 400 Bad Request</title>
</head>
<body><h2>HTTP ERROR 400</h2>
<p>Problem accessing /api/brokers. Reason:
<pre>Bad Request</pre></p><hr /><i><small>Powered by Jetty://</small></i><br/>
<br/>

</body>
</html> 
```

是否有可能捕获此类错误，以便我可以通知调用者缺少什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T08:13:24.440

您需要捕获[MissingServletRequestParameterException](http://static.springsource.org/autorepo/docs/spring/3.2.0.M1/api/org/springframework/web/bind/MissingServletRequestParameterException.html)

```
@ExceptionHandler(MissingServletRequestParameterException.class)
public String missingParamterHandler(Exception exception) {
  /*inspect and exception and obtain meaningful message*/
  return "default-error-view"; /*view name of your erro jsp*/
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-19T05:43:23.077

```
@ResponseBody
    @ExceptionHandler(MissingServletRequestParameterException.class)
    public Object missingParamterHandler(Exception exception) {
        // exception handle while specified arguments are not available requested service only. it handle when request is as api json service       
        return  new HashMap() {{ put("result", "failed"); put("type", "required_parameter_missing");}};
    } 
```

# ruby-on-rails - 通过 JSON 进行嵌套创建 - 对嵌套模型进行验证

> ID：15941475
> 
> 赞同：0
> 
> 时间：2013-04-11T05:41:56.590
> 
> 标签：ruby-on-rails, ruby, json, ruby-on-rails-3

我有两个简单的模型：

```
class Idea << ActiveRecord::Base
  has_many :tasks

  # for nesting....
  accepts_nested_attributes_for for :tasks
  attribute_accessible :tasks_attributes
end

class Task << ActiveRecord::Base
  belongs_to :idea
  validates_presence_of :idea # this line is causing pain
end 
```

我发送以下 JSON 来创建我的 IdeasController：

```
{
    "description":"Test test test",
    "tasks":[{"description":"test test test"}]
} 
```

...我得到了验证错误。一旦我删除验证，一切都会好起来的！

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T07:06:06.357

定义反向关联可以帮助：

```
class Idea << ActiveRecord::Base
  has_many :tasks, inverse_of: :idea # here...
  accepts_nested_attributes_for :tasks
  attribute_accessible :tasks_attributes
end

class Task << ActiveRecord::Base
  belongs_to :idea, inverse_of: :tasks # ... and here
  validates_presence_of :idea 
end 
```

验证失败的原因是，在此修复之前，关联是单向的：当您尝试到达任务的`idea`时，而不是使用用于从其想法到达任务的关联代理，它会创建另一个不知道的关联代理这个想法的存在（对不起，这有点难以解释）。

另外，请务必使用`validates_presence_of :idea`and NOT `validates_presence_of :idea_id`。此外，您应该`tasks_attributes`在 json 中使用，而不仅仅是`tasks`.

# django - 为 django 安装 celery

> ID：15941476
> 
> 赞同：0
> 
> 时间：2013-04-11T05:41:57.097
> 
> 标签：django, celery, django-celery

我对我应该为 celery 安装什么以与我的 django 安装一起工作有点困惑。我安装了 celery 和 django。我希望我的服务代理是 redis 并且这个包被给出

> django-celery-with-redis 3.0
> 
> 在[https://pypi.python.org/pypi/django-celery-with-redis/](https://pypi.python.org/pypi/django-celery-with-redis/)

有这个其他的包

> django 芹菜
> 
> 在[https://pypi.python.org/pypi/django-celery](https://pypi.python.org/pypi/django-celery)

当我安装*django-celery-with-redis 3.0* 包时，它是否包含*django-celery*包？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:44:50.097

> 当我安装 django-celery-with-redis 3.0 包时，它是否包含 django-celery 包？

是的。如[主页](https://pypi.python.org/pypi/django-celery-with-redis/)所述，

> 此捆绑包安装以下软件包：
> 
> ```
> ['django-celery>=3.0,<4.0', 'redis>=2.4.4'] 
> ```

当然，您必须单独安装 Redis。

# azure - 具有基于证书的凭据的 Azure ACS 服务标识

> ID：15941480
> 
> 赞同：0
> 
> 时间：2013-04-11T05:42:12.630
> 
> 标签：azure, wcf-data-services, acs, azure-servicebusrelay, webhttprelaybinding

我正在使用 webHttpRelayBinding 通过服务总线中继公开托管在 IIS 上的 WCF 数据服务。虽然我可以找到如何使用用户名/密码或共享密钥来验证服务身份。但是，我找不到如何将基于证书的凭据用于服务身份的示例。我google了很多，但徒劳无功。它们都主要基于共享秘密。

任何人都可以提供一个示例，说明如何将基于证书的服务身份认证用于 REST OData 服务。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T01:11:44.027

目前，有四种身份验证选项（根据[服务总线文档](http://msdn.microsoft.com/en-us/library/windowsazure/dd582773.aspx)）：

> •<strong>SharedSecret，一种稍微复杂但易于使用的用户名/密码身份验证形式。
> 
> •<strong>Saml，可用于与SAML 2.0 身份验证系统交互。
> 
> •<strong>SimpleWebToken，它使用OAuth Web 资源授权协议(WRAP) 和简单Web 令牌(SWT)。
> 
> •<strong>未经身份验证，无需任何身份验证行为即可与服务端点交互。

您似乎无法通过本机服务总线使用证书进行身份验证。

# mysql - MySQL 更新一个不同的数字

> ID：15941482
> 
> 赞同：0
> 
> 时间：2013-04-11T05:42:17.990
> 
> 标签：mysql, database

```
update profiles_profiles set unconfirmed_phone=2222222222 where id = 1;

mysql> select * from profiles_profiles\G
*************************** 1\. row ***************************
               id: 1
          user_id: 1
            phone: NULL
unconfirmed_phone: 2147483647 
```

出于某种原因，我的更新不适用于“2222222222”。但是，它适用于 1111111111。

MySQL 总是更新所有其他字段，但它每次都将 unconfirmed_phone 更改为 2147483647。

```
mysql> desc profiles_profiles;
+-------------------+----------+------+-----+---------+----------------+
| Field             | Type     | Null | Key | Default | Extra          |
+-------------------+----------+------+-----+---------+----------------+
| id                | int(11)  | NO   | PRI | NULL    | auto_increment |
| user_id           | int(11)  | NO   | UNI | NULL    |                |
| phone             | int(11)  | YES  | UNI | NULL    |                |
| unconfirmed_phone | int(11)  | YES  |     | NULL    |                |

*************************** 8\. row ***************************
           Name: products_products
         Engine: InnoDB
        Version: 10
     Row_format: Compact
           Rows: 0
 Avg_row_length: 0
    Data_length: 16384
Max_data_length: 0
   Index_length: 16384
      Data_free: 5242880
 Auto_increment: 1
    Create_time: 2013-04-11 05:23:31
    Update_time: NULL
     Check_time: NULL
      Collation: utf8_general_ci
       Checksum: NULL
 Create_options: 
        Comment: 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T05:44:10.033

这只是意味着您要更新当前值的新值只是溢出了。`signed int`的最大允许值为`2147483647`。

有时电话号码的数据类型可能只是`varchar`因为其他人用符号保存它`(, ), -`

摘自手册，

> 最大值取决于系统。32 位系统的最大有符号整数范围为 -2147483648 到 2147483647。例如，在这样的系统上，intval('1000000000000') 将返回 2147483647。64 位系统的最大有符号整数值为 9223372036854775807。

# batch-file - 在控制台上显示文本文件中的特定行 - 批处理文件

> ID：15941488
> 
> 赞同：0
> 
> 时间：2013-04-11T05:42:31.633
> 
> 标签：batch-file

好的，所以我有一个显示各种日志的文本文档。这些日志之一的示例如下：

```
Session Begin: 11/04/2013 -  1:36:52.87 
10002,CREATE,100 
LIST 
10002,DEPOSIT,100 
10002,DEPOSIT,250 
10002,DEPOSIT,150 
Session END: 11/04/2013 -  1:37:23.95 
```

我想要完成的是将所有包含“10002”的行显示到控制台上。有更多数字（或者在我的情况下是帐号），它们都设置为变量 %AccNum%。简单性在这里也会有所帮助，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:45:10.267

```
find "10002" yourlogfile.txt 
```

可能是最简单的方法。

# xcode - 为什么 Xcode clean 命令会同时删除调试和发布模式文件？

> ID：15941489
> 
> 赞同：0
> 
> 时间：2013-04-11T05:42:42.110
> 
> 标签：xcode, debugging, command, release, code-cleanup

XCode 中的 clean 命令**删除了“调试”和“发布”模式的可执行文件**。所以，我无法比较两种模式的输出。

请建议，如何仅“清理”文件的“选定”模式。

> （“调试”或“发布”。不是两者）

# jquery - 访问另一台服务器中的 REST 服务

> ID：15941491
> 
> 赞同：1
> 
> 时间：2013-04-11T05:42:54.327
> 
> 标签：jquery, ajax, rest

我有一个javascript方法片段如下

```
var  tempUrl = "http://A.com:8081/TestService/serviceMethod";  
jQuery.ajax({  
url:tempUrl,  
type: 'POST',  
data:"getDatareq="+encodedata,  
contentType: 'application/json',  
dataType:'text',  
success:function(result){  
jQuery(".loadingMsg").html("");  
jQuery(".loadingMsg").hide();  
getApptDtls(result);  
},  
complete:function(result){  
jQuery(".loadingMsg").html("");  
jQuery(".loadingMsg").hide();  
jQuery(".popupContent").show();  
jQuery.unblockUI(); 
```

我将此方法包含在一个 html 中，该 html 托管在另一个服务器中，其 url[为 http://B.com:8081](http://B.com:8081)

当我运行此 html 并调用此方法时，A.com 中的 serviceMethod 没有受到打击。这里可能是什么问题？

任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:13:56.547

使用**[JSONP](https://stackoverflow.com/questions/2067472/what-is-jsonp-all-about)**。

JSONP 或“带填充的 JSON”是 JavaScript 中使用的一种通信技术。它提供了一种从不同域中的服务器请求数据的方法，由于相同的来源策略，典型的 Web 浏览器禁止这样做。

jQuery：

```
var  tempUrl = "http://A.com:8081/TestService/serviceMethod";  
    $.ajax({
         url:tempUrl,
         dataType: 'jsonp', // Notice! JSONP <-- P (lowercase)
         success:function(json){
             // do stuff with json (in this case an array)
             alert("Success");
         },
         error:function(){
             alert("Error");
         },
    }); 
```

PHP：

```
<?php
$arr = array("element1","element2",array("element31","element32"));
$arr['name'] = "response";
echo $_GET['callback']."(".json_encode($arr).");";  // 09/01/12 corrected the statement
?> 
```

# vba - VBA onclick 事件

> ID：15941493
> 
> 赞同：0
> 
> 时间：2013-04-11T05:42:55.680
> 
> 标签：vba, excel

```
<a href="#" onclick="show('11635356');">11635356</a> 
```

上面的 HTML 代码将数字 11635356 显示为网页上的链接。我想点击这个链接。如何使用 Visual Basic for Excel 链接到此页面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:00:27.813

试试下面的代码。

```
Set ancElem = IE.document.getelementsbytagname("a")
ancElem.Click 
```

或者

```
Document.GetElementsByTagName("a").Item(0).FireEvent("click()") 
```

![在此处输入图像描述](https://i.stack.imgur.com/bNY8F.png)

# asp.net-mvc - kendoui 文件上传 - 无法运行并行 ajax 请求

> ID：15941494
> 
> 赞同：0
> 
> 时间：2013-04-11T05:43:03.157
> 
> 标签：asp.net-mvc, file-upload, user-interface, kendo-ui

我正在开发类似于 Dropbox 的应用程序，用户可以通过 ASP.NET MVC 中的 kendo ui 文件上传控件上传单个或多个文件。

我遇到的问题是在文件上传期间..say（2MB 文件）所有其他 ajax 请求都显示为挂起状态，一旦上传完成......所有挂起的请求都按顺序执行..

请帮我解决这个问题。在 Google 上找不到任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T05:53:14.170

您是在生产环境中运行案例还是处于调试模式？如果在开发模式（调试）尝试使用发布（生产）模式，看看是否有任何变化。

# c - 我的代码有什么问题？生成唯一随机数

> ID：15941498
> 
> 赞同：1
> 
> 时间：2013-04-11T05:43:13.813
> 
> 标签：c, loops, random

我正在尝试在 1 到 10 之间生成 10 个唯一的随机数。我不断收到重复的数字。有人可以告诉我问题是什么吗？我的代码中缺少什么或需要修复什么？谢谢！

```
students[0].id = rand() % 10 + 1;
for (int i = 1; i < 10; i++)
{
    students[i].id = rand() % 10 + 1;
    for (int j = 0; j < i; j++)
    {
        if (students[i].id == students[j].id)
        {
            students[i].id = rand() % 10 + 1 ;
        }
    }
}

for (int i = 0; i < 10; i++)
{
    printf("%d\n", students[i].id);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T05:45:46.467

该函数`rand()`不能保证生成*唯一的*随机数。此外，您限制范围的方式（mod 10）特别糟糕，可能会产生许多重复项。

生成序列的最简单方法可能是将包含 10 个值的数组从 1 随机排列到 10。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T05:51:53.460

```
if (students[i].id == students[j].id)
        {
            students[i].id = rand() % 10 + 1 ;
        } 
```

在这一行中，您可能会得到重复。

如果 students[i].id & students[j].id = 5 意味着它会变成真的。但在这一行`students[i].id = rand() % 10 + 1 ;`，你可能会再次得到`5`

您可以使用此代码代替上面的代码。

```
students[0].id = rand() % 10 + 1;
for (int i = 1; i < 10; i++)
{
    students[i].id = rand() % 10 + 1;
    for (int j = 0; j < i; j++)
    {
        if (students[i].id == students[j].id)
        {
           i--;
           break;
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T05:45:57.567

`rand()`本质上是随机的，所以不能保证给你独特的结果。你需要做这样的事情[-](https://stackoverflow.com/questions/5064379/generating-unique-random-numbers-in-c)跟踪到目前为止遇到的所有号码并打电话给你，`rand()`直到你找到唯一的号码

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-11T05:59:21.593

试试这个：用while替换if。我希望你得到你的答案。

学生[0].id = rand() % 10 + 1;

for (int i = 1; i < 10; i++)

{

```
students[i].id = rand() % 10 + 1;
for (int j = 0; j < i; j++)
{
    while (students[i].id == students[j].id)
    {
        students[i].id = rand() % 10 + 1 ;
    }
} 
```

}

for (int i = 0; i < 10; i++)

{

```
printf("%d\n", students[i].id); 
```

}

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-11T06:46:06.697

如果 RAND_MAX（通常为 32767）不能被 10 整除会怎样？您可能比 8 和 0 更频繁地获得 1 和 7 之间的值。这是一种偏差。

我建议丢弃任何大于或等于 32760 （或更确切地说，`RAND_MAX - RAND_MAX % 10`）的值，并使用除法运算符来构造您的随机数：

```
int x;
do {
    x = rand();
} while (x >= RAND_MAX - RAND_MAX % 10);
x /= RAND_MAX / 10; 
```

你会从中看到相当大的改进；事实上，这似乎是你最重要的偏见。但是，您获得的值的分布仍然不需要是均匀的。使用查找表丢弃您之前选择的任何值：

```
int selected[10] = { 0 };
for (int i = 0; i < 10; i++) {
    int x;
    do {
        x = rand();
    } while (selected[x / RAND_MAX / 10] || x >= RAND_MAX - RAND_MAX % 10);
    x /= RAND_MAX / 10;
    selected[x] = 1;

    student[i].id = x;
}

for (int i = 0; i < 10; i++) {
    printf("student[%d].id: %d\n", i, students[i].id);
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-11T05:45:59.503

随机并不意味着“没有重复”。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-11T06:11:26.420

你需要[递归](http://en.wikipedia.org/wiki/Recursion_%28computer_science%29)。

```
public static void main(String[] args)
{
    System.out.println(generateRandomNumbers(10, new ArrayList<Integer>()));
}

private static List<Integer> generateRandomNumbers(Integer maxLimit, List<Integer>    randomNumberList)
{
    for (int i = 0; i < maxLimit; i++)
    {
        Integer tempRandom = new Random().nextInt(10);
        if (randomNumberList.contains(tempRandom))
            generateRandomNumbers(1, randomNumberList);
        else
            randomNumberList.add(tempRandom);
    }
    return randomNumberList;
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-04-11T05:47:31.550

输入此 if 子句`if (students[i].id == students[j].id)`并修改students[i].id 后，您需要再次检查重复项。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-04-11T06:09:16.817

我认为您想在不更换的情况下进行采样。您可以将索引存储在数组中，随机选取一个并同时将其从数组中删除。

这样下次画的时候就不会重复了。

# asp.net - 日历控件，加载事件的事件处理程序

> ID：15941499
> 
> 赞同：1
> 
> 时间：2013-04-11T05:43:16.607
> 
> 标签：asp.net, vb.net, event-handling, calendar, selectionchanged

我已经为此工作了很长时间。我的代码将显示我试图解决问题的所有不同方式和事情，但没有运气......到目前为止。我需要做的是：

1.  为表单的 Load 事件启动事件处理程序。然后添加代码以在没有回发表单的情况下以上面显示的格式显示当前日期。
2.  将日历控件添加到下一段，并将其 Visible 属性设置为 False，以便在第一次显示表单时将其隐藏。
3.  为图像按钮的 Click 事件编写事件处理程序。这将隐藏图像按钮并显示日历控件。
4.  为日历控件的 SelectionChanged 事件编写事件处理程序。这应该获取选定的日期并将其显示在带有今天日期的文本框中，并且还应该隐藏日历控件并显示图像按钮。

我希望有人可以帮助我解决我做错了什么并帮助我找到正确的解决方案。到目前为止，对结果并不满意。

我的代码隐藏：

```
Partial Class Request
    Inherits Page

Dim ImageButton1 As ImageButton1

Protected Sub Calendar_SelectionChanged(object sender, EventArgs e)
    Label.Text = "Current date: " + System.DateTime.Now.ToLongDateString()
    Label.Text = "Selected date: " + Calendar.SelectedDate.ToLongDateString()

    Dim label1 = System.DateTime.Now
    Dim label2 = SelectedDate
    Dim ImageButton1 = ImageButton1
End Sub

protected void Calendar_SelectionChanged(object sender, EventArgs e)
{
    lblday.Text = Calendar1.TodaysDate.ToShortDateString();
    lblbday.Text = Calendar1.SelectedDate.ToShortDateString();
}

' Display using current (en-us) culture's short date format 
Dim ddlDate As Date = #3/15/2008#

Protected Sub Page_Load(ByVal sender As Object, ByVal e As EventArgs) Handles   Me.Load
   Calendar.SelectedDate = DateTime.Now;
   Label.Text = "Today's date and time is :" + Calendar.SelectedDate;
   Calendar.SelectedDate = DateTime.Today
End Sub

Protected Sub Page_Load(ByVal sender As Object, ByVal e As EventArgs) Handles Me.Load
    If Not IsPostBack Then
        Me.clnArrival = thisDate.ToString
    End If
End Sub

Sub Submit(s As Object, e As EventArgs)
    TextBox1.Text = "The date and time is " & Now()
End Sub

Protected Sub ddlDay_SelectedIndexChanged(ByVal sender As Object, ByVal e As   EventArgs) Handles ddlDay.SelectedIndexChanged
    clnArrival.Visible = False
    Dim day As String = ddlDay.SelectedItem.Text(ddlDay.SelectedValue)
End Sub

Protected Sub ddlMonth_SelectedIndexChanged(ByVal sender As Object, ByVal e As EventArgs) Handles ddlMonth.SelectedIndexChanged
    Dim month As String = ddlMonth.SelectedItem.Text(ddlMonth.SelectedValue)
End Sub

 Protected Sub clnArrival_SelectionChanged(ByVal sender As Object, ByVal e As EventArgs) Handles clnArrival.SelectionChanged
    ddlMonth_SelectedValue = clnArrival.SelectedDate.Month.ToString
    ddlDay_SelectedValue = clnArrival.SelectedDate.Day.ToString
    clnArrival.Visible = True
End Sub
End Class 
```

我的标记：

```
<%@ Page Language="VB" AutoEventWireup="false" CodeFile="Request.aspx.vb" Inherits="Request" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title>Chapter 6: Reservations</title>
    <link href="Styles/Main.css" rel="stylesheet" type="text/css" />
    <link href="Styles/Request.css" rel="stylesheet" type="text/css" />

    <script language="VB" runat="server">
        Sub Page_Load()
            Response.Write("Today is: ")
        End Sub
    </script>    
</head>
<body>
<form id="form1" runat="server">
    <div id="page">
        <h1>Royal Inn and Suites</h1>
        <h2>Where you&rsquo;re always treated like royalty</h2>
        <p id="arrival_date">
            Arrival date:&nbsp;

        <asp:Calendar ID = "Calendar" runat = "server" SelectionMode="DayWeekMonth" OnSelectionChanged="Calendar_SelectionChanged" SelectedDate="1/1/0001" VisibleDate="1/1/0001">
            <asp:ImageButton ID="ImageButton1" runat="server" AlternateText="Click to show calendar" ImageUrl="C:\aspnet4_vb\Jeanne Tatro Webs 424 - HW 6 - Ch06Reservation\Images\Calendar.bmp" />
        </asp:Calendar>
        </p>
        <p class="clear">
            Number of nights:&nbsp; 
        </p>
        <p>
            Number of adults:&nbsp;
            Children:&nbsp;
        </p>
        <h3>Preferences</h3>
        <p>
            Room type:&nbsp;
        </p>
        <p>
            Bed type:&nbsp;
        </p>
        <p id="requests">Special requests:</p>
        <h3 class="clear">Contact information</h3>
        <p class="contact">Name:</p>
        <p class="contact">Email:</p>
        <p id="buttons"></p>
        <p id="message"></p>
    </div>
</form>
</body>
</html> 
```

# ios - 使用 nsfetchedresults 控制器设置分段表头

> ID：15941501
> 
> 赞同：0
> 
> 时间：2013-04-11T05:43:20.497
> 
> 标签：ios, ipad, nsfetchedresultscontroller

我在我的项目中使用 NSFetchedResultsController 以及核心数据。我能够从数据库中获取所有对象。我在分段表视图中显示它们。我想将每个部分中的总行数显示为部分表视图的标题。我没有得到任何帮助。我已经尝试了很多，但不知道如何设置它。任何形式的帮助都是可观的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:54:42.860

像下面这样的东西应该可以工作：

```
- (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section {

    NSInteger numberOfRows = [[[self.frc sections] objectAtIndex:section] numberOfObjects];

    UITableViewHeaderFooterView *sectionHeaderView = [[UITableViewHeaderFooterView alloc] init];
    sectionHeaderView.textLabel.text = [NSString stringWithFormat:@"Total objects %d", numberOfRows];

    return sectionHeaderView;
} 
```

诀窍是从中取出正确的部分`NSFetchedResultsController`并在其上调用`numberOfObjects`方法。NSFetchedResultsController 中的部分是符合[NSFetchedResultsSectionInfo](http://developer.apple.com/library/ios/#documentation/CoreData/Reference/NSFetchedResultsSectionInfo_Protocol/Reference/Reference.html#//apple_ref/occ/intf/NSFetchedResultsSectionInfo)委托的代理对象。

# c# - 有没有办法在不使用后台线程的情况下更新进度条？

> ID：15941510
> 
> 赞同：2
> 
> 时间：2013-04-11T05:44:15.243
> 
> 标签：c#, wpf, progress-bar

我在按钮单击事件中进行了长时间计算，每次迭代后，我希望进度条更新。我想知道是否有任何方法可以在不使用后台线程的情况下做到这一点：

```
private void btnGetData_Click(object sender, RoutedEventArgs e)
{
            progressBarGetData.Minimum = 0;
            progressBarGetData.Maximum = recordCount;
            progressBarGetData.Value = 0;

            while(long iteration going on)
            {
                //do work
                progressBarGetData.Value += 1;
            }
 }//end button click 
```

进度条不会在屏幕上缓慢增加。我必须使用后台工作人员吗？

谢谢你。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-11T05:46:59.893

主要问题不是进度条，而是您在 UI 线程中执行长时间运行的同步操作。这将冻结整个 UI，提供糟糕的用户体验。

如果您可以将循环转换为使用异步调用（例如，如果它只是长时间运行，因为它正在与 Web 服务或数据库通信），那么这是一种选择 -在 .NET 4.5 中它变得*更加容易。*

否则，您*将*需要一个单独的线程 - 显式启动或使用[`BackgroundWorker`](http://msdn.microsoft.com/en-gb/library/system.componentmodel.backgroundworker.aspx).

# windows - 在 PowerShell、事件日志中解析 PSCustomObject

> ID：15941515
> 
> 赞同：0
> 
> 时间：2013-04-11T05:44:37.267
> 
> 标签：windows, events, powershell, cut

所以我需要一些帮助。我参与了一个项目，涉及编写一个 powershell 脚本。我需要能够从 Windows 7 机器的安全日志中获取最新的 SuccessAudit，ID=4776。

我设法在几个小时内完成了这项工作，这是我第一次使用 powershell。

```
$eventtime=Get-EventLog Security | {$_.EventId -eq 4776} | where {$_.entrytype -eq "SuccessAudit"} | Select-Object TimeGenerated | Select -first 1 
```

通过控制台输出（不设置变量）：

```
TimeGenerated
--------------------------
4/10/2013 10:35:01 PM 
```

如果我将命令设置为变量，这是变量的结果：

```
@{TimeGenerated=4/10/2013 10:35:01 PM} 
```

我想削减变量，使其仅等于日期和时间： *4/10/2013 10:35:01 PM*

帮助！我已经玩了好几个小时了！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T06:04:43.520

尝试：

```
$eventtime=Get-EventLog Security | ? {$_.EventId -eq 4776} | 
where {$_.entrytype -eq "SuccessAudit"} | 
Select-Object -expand TimeGenerated | Select -first 1 
```

# asp.net - 在编辑模式下显示数据

> ID：15941517
> 
> 赞同：0
> 
> 时间：2013-04-11T05:44:52.327
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-3

我的模型返回 11 行。我正在使用`ADO.NET` `entity datamodel`ie `.edmx file`。
我在模型浏览器中有`stored procedures`并`function`导入。
设计器代码有`GetMonthlyAwardsToEvaluate_Result`

在我看来，我只是调用模型并`scafold template`使用 I Edit。

我收到这个错误...

异常详情：

```
System.InvalidOperationException: The model item passed into the dictionary is of type 
'System.Collections.Generic.List`
1[TestingPMO_RR.Models.GetMonthlyAwardsToEvaluate_Result]', 
 but this dictionary requires a model item of type 
'TestingPMO_RR.Models.Evaluations.EvaluationModel'. 
```

## 模型.cs：

```
public List<GetMonthlyAwardsToEvaluate_Result> GetMonthlyEvaluation(int intAwardId, 
                                            string strAssociateId, string strStatus)
{
   return ctx.GetMonthlyAwardsToEvaluate(intAwardId, strAssociateId, strStatus).ToList();
} 
```

## 控制器.cs：

```
public ActionResult ApproveNomination(int ? intAwardId, EvaluationModel eval)
{
   intAwardId = 4;
   eval.AwardId = Convert.ToInt16(intAwardId);
   eval.Status = "PENDING";
   var model = eval.GetMonthlyEvaluation(eval.AwardId, eval.strPendingWith, eval.Status);
   return View(model);
} 
```

## 查看有

```
@model TestingPMO_RR.Models.Evaluations.EvaluationModel 
```

请帮忙.................

模型从存储过程返回 11 行......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:46:31.117

您将 a 传递`List<GetMonthlyAwardsToEvaluate_Result>`给视图，因为这是该`GetMonthlyEvaluation`方法返回的内容。所以你的视图应该被强类型化为同一个模型：

```
@model List<TestingPMO_RR.Models.GetMonthlyAwardsToEvaluate_Result> 
```

顺便说一句，这正是您收到的错误消息告诉您的内容：

> 传入字典的模型项的类型为“System.Collections.Generic.List`1[TestingPMO_RR.Models.GetMonthlyAwardsToEvaluate_Result]”，但该字典需要“TestingPMO_RR.Models.Evaluations.EvaluationModel”类型的模型项

# android - Android相机集成-预览和文件存储产生的错误

> ID：15941523
> 
> 赞同：0
> 
> 时间：2013-04-11T05:45:12.127
> 
> 标签：android, camera

我正在尝试将相机访问集成到我的 android 应用程序中。我的要求是预览拍摄的照片并将其存储在 SD 卡上。但是在 SD 卡上进行预览和存储分别工作正常。但是当我集成两者都放到一个应用程序中它不起作用。我正在使用开发人员站点中提供的标准代码来存储我在 SD 卡上的存储。这是我的代码

```
public void pickImage(View View) {

    Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);

    fileUri = getOutputMediaFileUri(MEDIA_TYPE_IMAGE); // create a file to save the image
    intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri); // set the image file name

    startActivityForResult(intent, REQUEST_CODE);

  }

private static Uri getOutputMediaFileUri(int type){
    return Uri.fromFile(getOutputMediaFile(type));
}

private static File getOutputMediaFile(int type){
    // To be safe, you should check that the SDCard is mounted
    // using Environment.getExternalStorageState() before doing this.

    File mediaStorageDir = new File(Environment.getExternalStoragePublicDirectory(
              Environment.DIRECTORY_PICTURES), "Sparikko");
    // This location works best if you want the created images to be shared
    // between applications and persist after your app has been uninstalled.

    // Create the storage directory if it does not exist
    if (! mediaStorageDir.exists()){
        if (! mediaStorageDir.mkdirs()){
            Log.d("Sparikko", "failed to create directory");
            return null;
        }
    }

    // Create a media file name
    String timeStamp = new SimpleDateFormat("yyyyMMdd_HHmmss").format(new Date());
    File mediaFile;
    if (type == MEDIA_TYPE_IMAGE){
        mediaFile = new File(mediaStorageDir.getPath() + File.separator +
        "IMG_"+ timeStamp + ".jpg");
    } else {
        return null;
    }

    return mediaFile;
}

protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    if (requestCode == REQUEST_CODE && resultCode == Activity.RESULT_OK)
      try {
        // We need to recyle unused bitmaps
        if (bitmap != null) {

          bitmap.recycle();
        }
         InputStream stream = getContentResolver().openInputStream(data.getData());
         bitmap = BitmapFactory.decodeStream(stream);
         stream.close();
         imageView.setImageBitmap(bitmap);
        } catch (FileNotFoundException e) {
          e.printStackTrace();
      } catch (IOException e) {
          e.printStackTrace();
      }
    super.onActivityResult(requestCode, resultCode, data);
   } 
```

我收到一个应用程序意外停止错误。我使用 logcat 查找在哪里可以找到发生错误的程序控件。我发现错误发生在`InputStream stream = getContentResolver().openInputStream(data.getData());`onActivityResult() 函数中。两种功能都可以单独工作组合时出错。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:06:22.843

从相机拍照后，您需要缩小位图以在 ImageView 上设置以显示预览。参考以下方法：

```
private void showAttachedImagePreview(String imagePath)
{
    Bitmap bitmap = null;
    //= BitmapFactory.decodeFile(imagePath);
    BitmapFactory.Options options = new BitmapFactory.Options();
    options.inSampleSize = 1;
    try
    {
        bitmap = BitmapFactory.decodeFile(imagePath, options);
    }
    catch (OutOfMemoryError e) 
    {
        e.printStackTrace();
        bitmap=null;
        try 
        {
            options.inSampleSize = 2;
            bitmap = BitmapFactory.decodeFile(imagePath, options);
        } 
        catch (OutOfMemoryError e1) 
        {
            e1.printStackTrace();
            bitmap=null;
            try
            {
                options.inSampleSize = 3;
                bitmap = BitmapFactory.decodeFile(imagePath, options);
            }
            catch (OutOfMemoryError e2) 
            {
                e2.printStackTrace();
                bitmap=null;
                try
                {
                    options.inSampleSize = 4;
                    bitmap = BitmapFactory.decodeFile(imagePath, options);
                }
                catch (OutOfMemoryError e3) 
                {
                    e3.printStackTrace();
                    bitmap=null;
                }
            }
        }
     }

    if(bitmap!=null)
    {
        commentAttachedImagePreview.setVisibility(ImageView.VISIBLE);
        commentAttachedImagePreview.setImageBitmap(bitmap);
        commentAttachedImageName.setVisibility(TextView.VISIBLE);
        commentAttachedImageName.setText(new File(imagePath).getName());
        deleteAttachedImage.setVisibility(ImageView.VISIBLE);
    }

    try
    {
        File file = new File(AppManager.getInstance().DATA_DIRECTORY, "tausif_tmp.png");
        FileOutputStream outStream = new FileOutputStream(file);
        bitmap.compress(Bitmap.CompressFormat.JPEG, 50, outStream);
        outStream.flush();
        outStream.close();
        filePath = file.getPath();
    }
    catch(Exception ex)
    {
        ex.printStackTrace();
    }
} 
```

# .htaccess - 生产服务器上的 Yii 和 .htaccess 文件

> ID：15941528
> 
> 赞同：3
> 
> 时间：2013-04-11T05:45:47.583
> 
> 标签：.htaccess, yii, production-environment

我是 yii 新手，在生产服务器上配置 .htaccess 文件时遇到了一些问题。

**在本地主机上：**

**申请地点：** /www/connect_donors/

**yii 提供的默认 URL 是**,

```
http://localhost/connect_donors/index.php?r=controllerId/functionName 
```

我们使用 /connect_donors/protected/config/main.php 中的 urlManager 来配置 SEO 友好的 url。

```
'<controller:\w+>/<id:\d+>' => '<controller>/view',
'<controller:\w+>/<action:\w+>/<id:\d+>' => '<controller>/<action>',
'<controller:\w+>/<action:\w+>' => '<controller>/<action>' 
```

现在有效的 URL 是

```
http://localhost/connect_donors/index.php/controllerId/functionName 
```

然后我使用 .htaccess 文件从上面的 URL 中删除 index.php。

.htaccess 的位置是：/connect_donors/.htaccess

以下是 .htaccess 文件，

```
RewriteEngine On
RewriteBase /connect_donors
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)\?*$ index.php/$1 [L,QSA] 
```

**网址改成：**

```
http://localhost/connect_donors/controllerId/functionName 
```

一切都很好，很棒。

但是昨天我在生产服务器上上传了应用程序。

**在生产服务器上**

一切都保持不变，只是我必须更改 .htaccess 文件。

服务器上的 .htaccess 文件是，

```
RewriteEngine On
RewriteBase /
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)\?*$ index.php/$1 [L,QSA] 
```

现在是以下网址：

```
http://donorsconnect.com/ 
```

正确加载服务器的主页。

但是， [http://donorsconnect.com/profile](http://donorsconnect.com/profile)

再次重定向到主页。

注意：“配置文件”控制器上没有设置会话。

```
class ProfileController extends CController
{
    public function actionIndex()
    {
        $this->render('index');
    }
} 
```

我尝试了很多东西，将 .htaccess 文件更改为不同的代码。但没有人帮助我。

任何帮助都是可观的。

**解决方案**

我终于得到了解决方案和我所犯的错误。

我的组件有一个包含 baseUrl 的请求数组。

```
'components'=>array(
        ...
        'request' => array(
            'baseUrl' => 'http://donorsconnect.com',
        ...), 
```

由于这个原因，它没有加载。我没有找到真正的原因。

但是在删除那个“请求”数组之后，它的加载很好。

检查链接， [http://donorsconnect.com/profile](http://donorsconnect.com/profile)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T06:37:26.600

你不应该像这样隐藏 index.php，仔细阅读：[http ://www.yiiframework.com/doc/guide/1.1/en/topics.url#hiding-x-23x](http://www.yiiframework.com/doc/guide/1.1/en/topics.url#hiding-x-23x)

您应该`showScriptName`在主配置中设置为 false ：

```
'urlManager'=>array(
  .....
  'showScriptName'=>false,
  .....
), 
```

你的 .htaccess 应该是这样的：

```
RewriteEngine on

# if a directory or a file exists, use it directly
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# otherwise forward it to index.php
RewriteRule . index.php 
```

# c# - HtmlAgilityPack 和 Windows 8 Metro 应用程序

> ID：15941529
> 
> 赞同：4
> 
> 时间：2013-04-11T05:45:51.823
> 
> 标签：c#, .net, microsoft-metro, html-agility-pack, windows-console

我正在尝试让 HtmlAgilityPack 与 Windows 8 Metro Apps（Windows Store Apps）一起使用。我已经在 Windows 控制台应用程序 (C#) 中成功写出了我需要的所有代码，它非常适合解析我需要的 HTML 并返回我需要的所需字符串。

```
// Create a new HtmlDocument and load the incoming string
        HtmlDocument menu = new HtmlDocument();
        menu.OptionUseIdAttribute = true;
        menu.LoadHtml(response);

        HtmlNode nameToRemove = menu.DocumentNode.SelectSingleNode("//*[@id=\"maincontent_0_contentplaceholder_0_lblHall\"]"); 
```

我的问题是`DocumentNode.SelectSingleNode`通话。我收到以下错误：

> 错误 2“HtmlAgilityPack.HtmlNode”不包含“SelectSingleNode”的定义，并且找不到接受“HtmlAgilityPack.HtmlNode”类型的第一个参数的扩展方法“SelectSingleNode”（您是否缺少 using 指令或程序集引用？）

我确认我的所有参考设置都与我在控制台应用程序中所做的完全相同，但无法使其正常工作。根据 HtmlAgilityPack twitter 帐户，1.4.5 版本中添加了对 Windows 8 Metro/Windows Phone 8 的支持。我仔细检查了我的 NuGet 包管理器，并安装了 1.4.6。

`XPath`在 Windows 8 应用程序的 HtmlDocument 中选择节点是否需要做一些特别的事情？任何建议将不胜感激。

谢谢！

编辑：任何人都可以帮助我通过 Linq 查询获得相同的结果。我不确定我会怎么做。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-11T06:01:59.887

Html Agility Pack 依赖 .NET 来实现 XPATH。不幸的是，WinRT 不支持 XPATH，因此在用于 WinRT 的 Html Agility Pack 中没有任何与 XPATH 相关的内容。

# android - Google ADs(ADmobs) 需要 API 级别 4.0 Android

> ID：15941530
> 
> 赞同：0
> 
> 时间：2013-04-11T05:45:52.300
> 
> 标签：android, admob

我正在研究 Admobs 。我现在在清单文件中从这个 [Admobs 站点](https://developers.google.com/mobile-ads-sdk/docs/admob/fundamentals)下载了代码， 它声明对于 Ad view Activity 它应该使用这些配置更改：

> android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"

在 android 4.0 及更高版本中可用。但是我构建的应用程序需要 3.0 api 级别及更高版本，因此在 3.0 到 3.2 中我无法使用这些配置设置，所以当我使用时：

> android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode

它给出了错误：

> 您必须在清单中声明 adActivity 并更改配置

并且在此之后未显示的广告将得到任何帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:56:06.743

希望这对您有所帮助，我遇到了同样的问题，但按照以下方式解决，在您的`Manifest`文件中声明，`minSdkVersion` `targetSdkVersion`如需要更改。

```
 <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="13" />

<activity
            android:name="com.google.ads.AdActivity"
            android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize" /> 
```

# asp.net-mvc - 如何在 mvc 应用程序的运行时设置保存位置

> ID：15941534
> 
> 赞同：0
> 
> 时间：2013-04-11T05:46:10.597
> 
> 标签：asp.net-mvc, asp.net-mvc-3, web-applications, export, download

我需要在 mvc application 的运行时设置保存位置。在 Windows 应用程序中，我们使用

> System.Windows.Forms.SaveFileDialog();

但是，我们使用什么网络应用程序呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T05:49:20.427

目前尚不清楚您要保存什么。在 Web 应用程序中，您可以使用文件输入将文件上传到服务器：

```
<input type="file" name="file" /> 
```

有关在 ASP.NET MVC 应用程序中上传文件的更多信息，您可以查看[`following post`](https://stackoverflow.com/questions/5193842/file-upload-asp-net-mvc-3-0/5193851#5193851).

另一方面，如果您希望用户能够从服务器下载一些文件并提示他要保存此文件的位置，您可以从控制器操作返回文件结果并指定 MIME 类型和文件名：

```
public ActionResult Download()
{
    var file = Server.MapPath("~/App_Data/foo.txt");\
    return File(file, "text/plain", "foo.txt");
} 
```

该方法还有其他重载[`File`](http://msdn.microsoft.com/en-us/library/system.web.mvc.controller.file%28v=vs.98%29.aspx)，允许您动态生成文件并将其作为流传递给客户端。但是，从服务器下载文件时，在 Web 应用程序中要了解的重要部分是`Content-Disposition`标头。它有 2 个可能的值：`inline`和`attachment`。例如，使用上面的代码，以下标头将添加到响应中：

```
Content-Type: text/plain
Content-Disposition: attachment; filename=foo.txt

... contents of the file ... 
```

当浏览器从服务器接收到这个响应时，它会提示用户一个“另存为”对话框，允许他在他的计算机上选择存储下载文件的位置。

* * *

更新：

以下是在 Web 应用程序中实现类似功能的方法：

```
public ActionResult Download()
{
    var file1 = File.ReadAllLines(Firstfilpath);
    var file2 = File.ReadAllLines(2ndfilpath);
    var mergedFile = string.Concat(file1, file2);
    return File(mergedFile, "text/plain", "result.txt");
} 
```

# java - 在 Jboss 5.0 上启动 JSF 应用程序时出错

> ID：15941535
> 
> 赞同：4
> 
> 时间：2013-04-11T05:46:11.160
> 
> 标签：java, jsf, jboss5.x

我是 JSF 的新手，我最近开始使用教程。我已经完全按照教程中提供的信息创建了应用程序。但是，当我启动服务器时，出现以下错误：

```
Exception sending context initialized event to listener instance of class org.jboss.web.jsf.integration.config.JBossJSFConfigureListener
java.lang.ClassCastException: com.sun.faces.config.WebConfiguration cannot be cast to com.sun.faces.config.WebConfiguration
    at com.sun.faces.config.WebConfiguration.getInstance(WebConfiguration.java:154)
    at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:145) 
```

web.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" id="WebApp_ID" version="2.5">
    <display-name>Hello, World</display-name>
    <description>Welcome to JavaServerFaces</description>

    <servlet>
        <servlet-name>Faces Servlet</servlet-name>
        <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>Faces Servlet</servlet-name>
        <url-pattern>/faces/*</url-pattern>
    </servlet-mapping>

    <listener>
        <listener-class>com.sun.faces.config.ConfigureListener</listener-class>
    </listener>

</web-app> 
```

如教程中所示，我在 Web-Inf/lib 中添加了 jsf-api 和 jsf-impl，但是通过谷歌搜索我发现 jboss 有自己的 jsf 版本，这可能会污染我的应用程序与多个 jsf 版本。如果是这种情况，那么我该如何解决问题，或者如果我错了，那么错误背后的原因是什么？

只是添加，因为我相信它的 jar 文件 conflit 我试图添加使用 jboss from 导入的 jar 文件`jboss-5.1.0.GA\server\default\deploy\jbossweb.sar\jsf-libs`，但仍然是徒劳的。

请帮忙。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-14T05:03:00.163

解决冲突的更好方法是在 web.xml 中添加上下文参数，如下所述：

```
<context-param>
      <param-name>org.jboss.jbossfaces.WAR_BUNDLES_JSF_IMPL</param-name>
      <param-value>true</param-value>
</context-param> 
```

查看：[在你的 WAR 中捆绑 JSF](http://docs.jboss.org/jbossas/6/JSF_Guide/en-US/html/jsf.deployer.config.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T06:55:44.787

我不知道您的 Eclipse 是如何配置的（Java EE/JBoss 工具等）。但是你应该在你的 webproject 中添加一个服务器运行时：

1.  添加服务器运行时

1.1 在Eclipse中打开Server视图

1.2 上下文菜单然后->新建服务器->选择JBoss 5.0*服务器类型*

1.3 服务器运行环境->添加

1.4 主目录-> 你的服务器主目录/默认例如

1.  现在更改您的 web 项目的构建路径。

2.1。添加库->服务器运行时->选择新的运行时

2.3 您的耳朵或您的 webprojects Web-Inf/lib 中没有 JSF 或其他库

现在，您拥有了所有 Jboss-lib，包括类路径中的 jsf-lib - 由 Eclipse 控制 - 您不必担心从服务器 lib 设置 jar 等等。

我希望它有所帮助。以类似的方式，我只是创建一个测试项目

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T06:04:52.173

是的，看起来像 jar 版本冲突

从应用程序中删除 JSF 依赖项：如果您使用 maven 构建项目，则可以将依赖项范围设置为**提供**。

从 JSF 中删除依赖项范围（如果您想使用自己的 jars。）考虑使用 Jboss 应用程序描述并排除 JSF 依赖项。

我不知道 JBoss 5 XML 格式，所以发布 JBoss 7

```
<jboss-deployment-structure>
    <deployment>
        <exclusions>
            <module name="com.sun.jsf-impl" />
        </exclusions>
    </deployment>
</jboss-deployment-structure> 
```

应该是类似的东西。

# iphone - PDF 417 检测和解码

> ID：15941537
> 
> 赞同：2
> 
> 时间：2013-04-11T05:46:30.250
> 
> 标签：iphone, ios, objective-c, barcode, zxing

Zxing 的 PDF 417 条码检测器和解码器有**免费的替代品吗？**

以下 2 个 iOS 库似乎无法扫描这些类型的条码，即使它们表示支持：

*   [https://github.com/zxing/zxing](https://github.com/zxing/zxing)
*   [https://github.com/TheLevelUp/ZXingObjC/](https://github.com/TheLevelUp/ZXingObjC/)

我在 Zxing 的 SVN/Google 代码页面上读到 PDF 417 解码处于**alpha**阶段，这可能解释了为什么我正在测试的条形码无法被识别。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-17T19:07:17.187

经过几天的研究和测试，我遇到了以下有效但非免费的解决方案：

*   [RedLaser 的 SDK](http://redlaser.com/developers/)
*   [Manatee Works 的 SDK](http://manateeworks.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-05-14T18:30:18.540

使用 iOS7 或更高版本，您不必依赖第三方库进行条码检测或解码。[AVFoundation](https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/index.html)内置（因此免费）支持使用设备摄像头检测一维和二维条码，包括 PDF417 和二维码。

[您可以在此处](http://www.infragistics.com/community/blogs/torrey-betts/archive/2013/10/10/scanning-barcodes-with-ios-7-objective-c.aspx)和[此处](https://www.shinobicontrols.com/blog/posts/2013/10/11/ios7-day-by-day-day-16-decoding-qr-codes-with-avfoundation)找到工作示例。

# jquery - 传递“慢”参数来切换动作

> ID：15941540
> 
> 赞同：2
> 
> 时间：2013-04-11T05:46:31.930
> 
> 标签：jquery

所以[这里](http://jsfiddle.net/v5KCE/)有一个显示/隐藏切换按钮，效果很好。[这](http://jsfiddle.net/v5KCE/1/)是相同的确切代码，除了我将`'slow'`参数传递给`.toggle`操作。为什么按钮的值在第一个示例中正确切换，而在第二个示例中却没有？`'slow'`将参数传递给操作是否会`.toggle`以某种方式导致`:visible`伪类返回 true？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:05:35.097

```
$('#toggleButton2').click(function () {
    $('#disclaimer').toggle('slow', function () {
        if ($('#disclaimer').is(':visible')) {
            alert('hide');
            $('#toggleButton2').val('Hide');
        } else {
            alert('Show');
            $('#toggleButton2').val('Show');
        }
    });
}); 
```

[JS 小提琴链接](http://jsfiddle.net/rahularyansharma/v5KCE/5/)

相同但很短

```
$('#toggleButton2').click(function () {
    $('#disclaimer').toggle('slow', function () {
        $(this).is(':visible') ? $('#toggleButton2').val('Hide') : $('#toggleButton2').val('Show')

    });
}); 
```

[第二次尝试的 JS FIDDLE 链接](http://jsfiddle.net/rahularyansharma/v5KCE/7/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-11T05:53:49.903

[在这里](https://stackoverflow.com/questions/1193405/jquery-toggle-and-if-visible)复制

在完成时使用`.toggle()`回调。

*另一个问题的代码示例*

```
$("#moreOptions").slideToggle('slow', callbackFn);

function callbackFn(){

     var $link = $("#lnkMoreOpt");

     $(this).is(":visible") ? $link.text("Less Options «") : $link.text("More Options »");

} 
```

请在询问之前使用搜索栏和谷歌搜索一下。不过，希望这会有所帮助！

# iphone - 加载应用购买时如何显示活动指示器？

> ID：15941543
> 
> 赞同：3
> 
> 时间：2013-04-11T05:46:40.603
> 
> 标签：iphone, ios, ipad, in-app-purchase

我有一个调用应用内购买功能的按钮。我会在加载产品时显示一个加载轮，并在 UIAlertView 出现以确认购买时将其关闭。我正在使用 MBAlertView 在我的应用程序中显示其他消息，我也会在这里使用它。我该怎么做？我想在用户按下按钮时显示它，并在收到响应时将其关闭。

这是我目前的代码！

```
- (IBAction)buyCoffeeInAppPurchase:(id)sender {
    SKProductsRequest *request= [[SKProductsRequest alloc]
                                 initWithProductIdentifiers: [NSSet setWithObject:     @"com.giovannibalestra.emergencycall.Thankyoudeveloper"]];
    request.delegate = self;
    [request start];
    // I should add something like this line of code to show the activity indicator but I can only set hidesAfter some seconds
    // [MBHUDView hudWithBody:@"Wait." type:MBAlertViewHUDTypeActivityIndicator hidesAfter:4.0 show:YES];
}
- (void)productsRequest:(SKProductsRequest *)request didReceiveResponse:(SKProductsResponse *)response {
    [[SKPaymentQueue defaultQueue] addTransactionObserver:self];

    NSArray *myProduct = response.products;
    NSLog(@"%@",[[myProduct objectAtIndex:0] productIdentifier]);

    SKPayment *newPayment = [SKPayment paymentWithProduct:[myProduct objectAtIndex:0]];
    [[SKPaymentQueue defaultQueue] addPayment:newPayment];

}

- (void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions {
    for (SKPaymentTransaction *transaction in transactions)
    {
        switch (transaction.transactionState)
        {
            case SKPaymentTransactionStatePurchased:
                [self completeTransaction:transaction];
                break;
            case SKPaymentTransactionStateFailed:
                [self failedTransaction:transaction];
                break;
            case SKPaymentTransactionStateRestored:
                [self restoreTransaction:transaction];
            default:
                break;
        }
    }
}

- (void)completeTransaction:(SKPaymentTransaction *)transaction {
    [[SKPaymentQueue defaultQueue] finishTransaction: transaction];
}

- (void)restoreTransaction:(SKPaymentTransaction *)transaction {
    [[SKPaymentQueue defaultQueue] finishTransaction: transaction];
}

- (void)failedTransaction:(SKPaymentTransaction *)transaction {
    if (transaction.error.code != SKErrorPaymentCancelled)
    {
        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Purchase Unsuccessful"
                                                        message:@"Your purchase failed. Please try again."
                                                       delegate:self
                                              cancelButtonTitle:@"OK"
                                              otherButtonTitles:nil];
        [alert show];
    }
    [[SKPaymentQueue defaultQueue] finishTransaction: transaction];
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T06:26:57.870

对于显示加载，您还可以使用 MBProgressHUD。它是一种显示加载过程的简单方法。从 Internet 下载 MBProgressHUD.h 和 .m 文件并复制到 xcode 项目中。

`HOW TO USE:`在您的 .h 和 .m 文件中导入此 #import "MBProgressHUD.h" 以及此 MBProgressHUD *HUD; 在 .h 文件中。然后在 .m 文件中，您的代码如下所示：

```
- (IBAction)buyCoffeeInAppPurchase:(id)sender {

    HUD = [[MBProgressHUD alloc] initWithFrame:CGRectMake(0, 0, 320, 460) ];
       HUD.labelText = @"Fetching...";
        [self.view addSubview:HUD];
        [HUD show:YES];

    SKProductsRequest *request= [[SKProductsRequest alloc]
                                 initWithProductIdentifiers: [NSSet setWithObject:     @"com.giovannibalestra.emergencycall.Thankyoudeveloper"]];
    request.delegate = self;
    [request start];
    // I should add something like this line of code to show the activity indicator but I can only set hidesAfter some seconds
    // [MBHUDView hudWithBody:@"Wait." type:MBAlertViewHUDTypeActivityIndicator hidesAfter:4.0 show:YES];
}
- (void)productsRequest:(SKProductsRequest *)request didReceiveResponse:(SKProductsResponse *)response {
    [[SKPaymentQueue defaultQueue] addTransactionObserver:self];

    NSArray *myProduct = response.products;
    NSLog(@"%@",[[myProduct objectAtIndex:0] productIdentifier]);

    SKPayment *newPayment = [SKPayment paymentWithProduct:[myProduct objectAtIndex:0]];
    [[SKPaymentQueue defaultQueue] addPayment:newPayment];

    [HUD hide:YES];
    [HUD removeFromSuperViewOnHide];

}

- (void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions {
    for (SKPaymentTransaction *transaction in transactions)
    {
        switch (transaction.transactionState)
        {
            case SKPaymentTransactionStatePurchased:
                [self completeTransaction:transaction];
                break;
            case SKPaymentTransactionStateFailed:
                [self failedTransaction:transaction];
                break;
            case SKPaymentTransactionStateRestored:
                [self restoreTransaction:transaction];
            default:
                break;
        }
    }
}

- (void)completeTransaction:(SKPaymentTransaction *)transaction {
    [[SKPaymentQueue defaultQueue] finishTransaction: transaction];
}

- (void)restoreTransaction:(SKPaymentTransaction *)transaction {
    [[SKPaymentQueue defaultQueue] finishTransaction: transaction];
}

- (void)failedTransaction:(SKPaymentTransaction *)transaction {
    if (transaction.error.code != SKErrorPaymentCancelled)
    {
        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Purchase Unsuccessful"
                                                        message:@"Your purchase failed. Please try again."
                                                       delegate:self
                                              cancelButtonTitle:@"OK"
                                              otherButtonTitles:nil];
        [alert show];
    }
    [[SKPaymentQueue defaultQueue] finishTransaction: transaction];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:29:04.433

```
- (void)paymentQueue:(SKPaymentQueue *)queue 
 updatedTransactions:(NSArray *)transactions 
{
    for (SKPaymentTransaction *transaction in transactions)
    {
        if (transaction.transactionState == SKPaymentTransactionStatePurchased) {
            [self completeTransaction:transaction];
        }
        if (transaction.transactionState == SKPaymentTransactionStateFailed) {
            [self failedTransaction:transaction];
        }
        if (transaction.transactionState == SKPaymentTransactionStateRestored) {
            [self restoreTransaction:transaction];
        }
        else {
            // Do something.
        }

        // You can dismiss your Activity Indicator (MBHUDView) here.
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T06:57:31.450

嗨，只需在用户单击购买按钮时应用活动指示器并在此方法后停止活动指示器 - (void)completeTransaction:(SKPaymentTransaction *)transaction。不要忘记在失败的交易中也停止，其他明智的活动指示器开始动画。有时活动指示器需要通过线程调用，因为它们不可见。所以也请尝试一下。

# iis-7 - Tomcat 和 IIS 在同一个端口

> ID：15941544
> 
> 赞同：1
> 
> 时间：2013-04-11T05:46:45.450
> 
> 标签：iis-7, tomcat7

我有一个有 2 个 IP 地址的服务器，每个地址都服务于一个在 HTTPS 上运行的 Web 应用程序。目前，其中一个 Web 应用程序使用 IIS 在端口 443 上运行，而另一个 Web 应用程序在 tomcat 上的端口 8443 上运行。

我的目标是这样的：

```
https://firstdomain.com => this should be served by the IIS server
https://seconddomain.com => served by Tomcat server 
```

上面的配置可以吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T05:57:13.423

如果您有两个 IP 地址。您可以为 IIS 绑定一个 IP，为 Tomcat 绑定另一个 IP。

因此，两个站点都可以单独使用端口 443。

例如：

```
https://firstdomain.com => 192.168.1.2 => IIS
https://seconddomain.com => 192.168.1.3 => Tomcat 
```

IIS IP 绑定

[http://technet.microsoft.com/en-us/library/bb734869.aspx](http://technet.microsoft.com/en-us/library/bb734869.aspx)

Tomcat IP 绑定

[您如何配置 tomcat 以绑定到单个 IP 地址（本地主机）而不是所有地址？](https://stackoverflow.com/questions/18617/how-do-you-configure-tomcat-to-bind-to-a-single-ip-address-localhost-instead-o)

# blackberry - 单击复选框后屏幕高度会降低

> ID：15941545
> 
> 赞同：0
> 
> 时间：2013-04-11T05:46:49.270
> 
> 标签：blackberry

大家好，我正在使用 Screen ，单击 CheckBox 后 Screen 的高度减小（更改侦听器调用时）。这是代码：-

```
public class IA_SearchScreen extends MainScreen implements FieldChangeListener 
{

    private CheckboxField ch1;
    private CheckboxField ch2;
    private CheckboxField ch3;

    private CheckboxField r1;
    private CheckboxField r2;
    private CheckboxField r3;

    private boolean togle_r1 = true;
    private boolean togle_r2;
    private boolean togle_r3;

    private AutoTextEditField iaDescriptionEditField;
    private AutoTextEditField streetEditField;
    private AutoTextEditField postCodeEditField ;
    private AutoTextEditField radiusEditField ;

    private Bitmap filterButton_F = Bitmap.getBitmapResource("filter_ focus.png");
    private Bitmap filterButton_N = Bitmap.getBitmapResource("filter_Unfocuss.png");
    private int temp_mgr_Height = 0;

    private StatusManager status_Manager;
    private ImageButton map_Button;
    private ImageButton favorite_Button;
    private ImageButton search_Button;

    private Calendar calendar;

    private LabelField _startDateLabelField;
    private LabelField _startTimeLabelField;

    private LabelField _endDateLabelField;
    private LabelField _endTimeLabelField;

    private String[] street_Array;
    private String[] postCode_Array;

    private String SearchString     = Global.EMPTY;
    private String DisruptionsType  = Global.EMPTY;
    private String Lat              = Global.EMPTY;
    private String Long             = Global.EMPTY;
    private String Radius           = Global.EMPTY;
    private String Severity         = Global.EMPTY;
    private String StartDate        = Global.EMPTY;
    private String EndDate          = Global.EMPTY;
    private String PostCode         = Global.EMPTY;
    private String StreetName       = Global.EMPTY;
    private String AllDates         = Global.EMPTY;

    private VerticalFieldManager _workSpace ; 

    public IA_SearchScreen()
    {
        super(Screen.USE_ALL_HEIGHT);

        _workSpace = (VerticalFieldManager)getMainManager();

        /**
         *  Initialize Screen Components
         * */

        iaDescriptionEditField = new AutoTextEditField("" , "", 500, EditField.NO_NEWLINE | EditField.NON_SPELLCHECKABLE)
        {
            protected void layout(int width, int height) 
            {
                super.layout(width, height);
                setExtent((Global.Display_Width - 40), getHeight());
            };
            protected void paint(Graphics graphics) 
            {
                graphics.setColor(Color.BLACK);

                super.paint(graphics);
            }
        };
        iaDescriptionEditField.setFont(Global.arialFont_Plain_16);

        SizedHFM _source0 = new SizedHFM(Global.Display_Width -30);
        _source0.setBorder(BorderFactory.createRoundedBorder(new XYEdges(3, 3, 3, 3), 0x867E42, Border.STYLE_FILLED), true);
        _source0.add(iaDescriptionEditField);

        HorizontalFieldManager hfm_0 = new HorizontalFieldManager()
        {
            protected void sublayout(int maxWidth, int maxHeight) 
            {
                super.setExtent(maxWidth, maxHeight);
                Field f = getField(0);
                layoutChild(f, getPreferredWidthOfChild(f) ,getPreferredHeightOfChild(f));

                setPositionChild(f, 10, 25);
                temp_mgr_Height = getPreferredHeightOfChild(f) +20;

                f = getField(1);
                layoutChild(f, getPreferredWidthOfChild(f) ,getPreferredHeightOfChild(f));
                //setPositionChild(f, Global.Display_Width -70, 25);
                setPositionChild(f, Global.Display_Width -55, 25);

                setExtent(maxWidth,temp_mgr_Height + 35);
            };  

            protected void paint(Graphics graphics) 
            {
                graphics.setColor(Color.BLACK);
                graphics.setFont(Global.arialFont_Bold_16);
                graphics.drawText("Search by Incident or Accident Description", 15, 5);

                graphics.drawRect(5, 1, getWidth()-10, getHeight()-2);
                super.paint(graphics);
            }
        };

        hfm_0.add(_source0);
        hfm_0.add(new LabelField());

        /**
         *  StreetEditField Manager START
         * */
        streetEditField = new AutoTextEditField("" , "", 500, EditField.NO_NEWLINE | EditField.NON_SPELLCHECKABLE)
        {
            protected void layout(int width, int height) 
            {
                super.layout(width, height);
                setExtent((Global.Display_Width - 40), getHeight());
            };
            protected void paint(Graphics graphics) 
            {
                graphics.setColor(Color.BLACK);

                super.paint(graphics);
            }
        };
        streetEditField.setFont(Global.arialFont_Plain_16);

        SizedHFM _source = new SizedHFM(Global.Display_Width - 65);
        _source.setBorder(BorderFactory.createRoundedBorder(new XYEdges(3, 3, 3, 3), 0x867E42, Border.STYLE_FILLED), true);
        _source.add(streetEditField);

        ImageButton btn_go_streetEditField = new ImageButton(filterButton_N , filterButton_F)
        {
            protected boolean navigationClick(int status, int time) {
                fieldChangeNotify(1);
                return true;
            }
        };

        btn_go_streetEditField.setChangeListener(new FieldChangeListener() 
        {
            public void fieldChanged(Field field, int context) 
            {
                street_Invoke();
            }
        });

        HorizontalFieldManager hfm_1 = new HorizontalFieldManager()
        {
            protected void sublayout(int maxWidth, int maxHeight) 
            {
                super.setExtent(maxWidth, maxHeight);
                Field f = getField(0);
                layoutChild(f, getPreferredWidthOfChild(f) ,getPreferredHeightOfChild(f));

                setPositionChild(f, 10, 25);
                temp_mgr_Height = getPreferredHeightOfChild(f) +20;

                f = getField(1);
                layoutChild(f, getPreferredWidthOfChild(f) ,getPreferredHeightOfChild(f));
                //setPositionChild(f, Global.Display_Width -70, 25);
                setPositionChild(f, Global.Display_Width -filterButton_N.getWidth()-10, 25);

                setExtent(maxWidth,temp_mgr_Height + 35);
            };  

            protected void paint(Graphics graphics) 
            {
                graphics.setColor(Color.BLACK);
                graphics.setFont(Global.arialFont_Plain_16);
                graphics.drawText("Street", 15, 5);

                graphics.drawRect(5, 1, getWidth()-10, getHeight()-2);
                super.paint(graphics);
            }
        };

        hfm_1.add(_source);
        hfm_1.add(btn_go_streetEditField);

        /**
         *  StreetEditField Manager END
         * */

        /**
         *  PostCodeEditField Manager START
         * */

        postCodeEditField = new AutoTextEditField("" , "", 500, EditField.NO_NEWLINE | EditField.NON_SPELLCHECKABLE)
        {
            protected void layout(int width, int height) 
            {
                super.layout(width, height);
                setExtent((Global.Display_Width - 40), getHeight());
            };
            protected void paint(Graphics graphics) 
            {
                graphics.setColor(Color.BLACK);

                super.paint(graphics);
            }
        };
        postCodeEditField.setFont(Global.arialFont_Plain_16);

        SizedHFM _source1 = new SizedHFM(Global.Display_Width -65);
        _source1.setBorder(BorderFactory.createRoundedBorder(new XYEdges(3, 3, 3, 3), 0x867E42, Border.STYLE_FILLED), true);
        _source1.add(postCodeEditField);

        ImageButton btn_go_postCodeEditField = new ImageButton(filterButton_N , filterButton_F)
        {
            protected boolean navigationClick(int status, int time) {

                fieldChangeNotify(1);       
                return true;
            }
        };

        btn_go_postCodeEditField.setChangeListener(new FieldChangeListener() 
        {
            public void fieldChanged(Field field, int context) 
            {
                postCode_Invoke();
            }
        });

        HorizontalFieldManager hfm_2 = new HorizontalFieldManager()
        {
            protected void sublayout(int maxWidth, int maxHeight) 
            {
                super.setExtent(maxWidth, maxHeight);
                Field f = getField(0);
                layoutChild(f, getPreferredWidthOfChild(f) ,getPreferredHeightOfChild(f));

                setPositionChild(f, 10, 25);
                temp_mgr_Height = getPreferredHeightOfChild(f) +20;

                f = getField(1);
                layoutChild(f, getPreferredWidthOfChild(f) ,getPreferredHeightOfChild(f));
                //setPositionChild(f, Global.Display_Width -70, 25);
                setPositionChild(f, Global.Display_Width - filterButton_N.getWidth()-10, 25);

                setExtent(maxWidth,temp_mgr_Height + 35);
            };  

            protected void paint(Graphics graphics) 
            {
                graphics.setColor(Color.BLACK);
                graphics.setFont(Global.arialFont_Plain_16);
                graphics.drawText("Post code", 15, 5);

                graphics.drawRect(5, 1, getWidth()-10, getHeight()-2);
                super.paint(graphics);
            }
        };

        hfm_2.add(_source1);
        hfm_2.add(btn_go_postCodeEditField);

        /**
         *  PostCodeEditField Manager END
         * */

        radiusEditField = new AutoTextEditField("" , "", 5, EditField.NO_NEWLINE |AutoTextEditField.FILTER_INTEGER )
        {
            protected void layout(int width, int height) 
            {
                super.layout(width, height);
                setExtent((Global.Display_Width - 40), getHeight());
            };
            protected void paint(Graphics graphics) 
            {
                graphics.setColor(Color.BLACK);

                super.paint(graphics);
            }
        };
        radiusEditField.setFont(Global.arialFont_Plain_16);

        SizedHFM _source3 = new SizedHFM(Global.Display_Width -30);
        _source3.setBorder(BorderFactory.createRoundedBorder(new XYEdges(3, 3, 3, 3), 0x867E42, Border.STYLE_FILLED), true);
        _source3.add(radiusEditField);

        HorizontalFieldManager hfm_3 = new HorizontalFieldManager()
        {
            protected void sublayout(int maxWidth, int maxHeight) 
            {
                super.setExtent(maxWidth, maxHeight);
                Field f = getField(0);
                layoutChild(f, getPreferredWidthOfChild(f) ,getPreferredHeightOfChild(f));

                setPositionChild(f, 10, 25);
                temp_mgr_Height = getPreferredHeightOfChild(f) +20;

                f = getField(1);
                layoutChild(f, getPreferredWidthOfChild(f) ,getPreferredHeightOfChild(f));
                //setPositionChild(f, Global.Display_Width -70, 25);
                setPositionChild(f, Global.Display_Width -55, 25);

                setExtent(maxWidth,temp_mgr_Height + 35);
            };  

            protected void paint(Graphics graphics) 
            {
                graphics.setColor(Color.BLACK);
                graphics.setFont(Global.arialFont_Bold_16);
                graphics.drawText("Radius (in Meters)", 15, 5);

                graphics.drawRect(5, 1, getWidth()-10, getHeight()-2);
                super.paint(graphics);
            }
        };

        hfm_3.add(_source3);
        hfm_3.add(new LabelField());

        /**
         *   Start Date & Time
         * */

        _startDateLabelField = new LabelField("")
        {

            protected void layout(int width, int height) {
                super.layout(150, 25);
                super.setExtent(150, 25);
            }

            public boolean isFocusable() {
                return true;
            }

        };

        _startTimeLabelField = new LabelField("")
        {
            protected void layout(int width, int height) {
                super.layout(150, 25);
                super.setExtent(150, 25);
            }

            public boolean isFocusable() {
                // TODO Auto-generated method stub
                return true;
            }
        };

        HorizontalFieldManager startDateNTimeManager = new HorizontalFieldManager()
        {

            protected void sublayout(int maxWidth, int maxHeight) 
            {
                super.setExtent(Global.Display_Width,/*temp_mgr_Height + 25*/ 70);
                Field f = getField(0);
                layoutChild(f, getPreferredWidthOfChild(f) ,getPreferredHeightOfChild(f));

                setPositionChild(f, 20, 30);
                temp_mgr_Height = getPreferredHeightOfChild(f) +20;

                f = getField(1);
                layoutChild(f, getPreferredWidthOfChild(f) ,getPreferredHeightOfChild(f));
                //setPositionChild(f, Global.Display_Width -70, 25);
                setPositionChild(f, Global.Display_Width -120, 30);

                setExtent(maxWidth,/*temp_mgr_Height + 25*/ 70);
            };  

            protected void paint(Graphics graphics) 
            {
                graphics.setColor(Color.BLACK);
                graphics.setFont(Global.arialFont_Bold_16);
                graphics.drawText("Start Date & Time", 10, 5);

                graphics.drawRect(9, 25, 141, 30);

                graphics.drawRect((Global.Display_Width - 151), 25, 141, 30);

                graphics.drawRect(5, 1, getWidth()-10, getHeight()-2);
                super.paint(graphics);
            }

        };

        startDateNTimeManager.add(_startDateLabelField);
        startDateNTimeManager.add(_startTimeLabelField);

        /**
         *   End Date & Time
         * */
        _endDateLabelField =  new LabelField("")
        {

            protected void layout(int width, int height) {
                super.layout(150, 25);
                super.setExtent(150, 25);
            }

            public boolean isFocusable() {
                return true;
            }

        };

        _endTimeLabelField = new LabelField("")
        {

            protected void layout(int width, int height) {
                super.layout(150, 25);
                super.setExtent(150, 25);
            }

            public boolean isFocusable() {
                // TODO Auto-generated method stub
                return true;
            }

        };

        _startDateLabelField.setFont(Global.arialFont_Plain_18);
        _startTimeLabelField.setFont(Global.arialFont_Plain_18);
        _endDateLabelField.setFont(Global.arialFont_Plain_18);
        _endTimeLabelField.setFont(Global.arialFont_Plain_18);

        HorizontalFieldManager endDateNTimeManager = new HorizontalFieldManager()
        {

            protected void sublayout(int maxWidth, int maxHeight) 
            {
                super.setExtent(Global.Display_Width,/*temp_mgr_Height + 25*/ 70);
                Field f = getField(0);
                layoutChild(f, getPreferredWidthOfChild(f) ,getPreferredHeightOfChild(f));

                setPositionChild(f, 20, 30);
                temp_mgr_Height = getPreferredHeightOfChild(f) +20;

                f = getField(1);
                layoutChild(f, getPreferredWidthOfChild(f) ,getPreferredHeightOfChild(f));
                //setPositionChild(f, Global.Display_Width -70, 25);
                setPositionChild(f, Global.Display_Width -120, 30);

                setExtent(Global.Display_Width,/*temp_mgr_Height + 25*/ 70);
            };  

            protected void paint(Graphics graphics) 
            {
                graphics.setColor(Color.BLACK);
                graphics.setFont(Global.arialFont_Bold_16);
                graphics.drawText("End Date & Time", 10, 5);

                graphics.drawRect(9, 25, 141, 30);

                graphics.drawRect((Global.Display_Width - 151), 25, 141, 30);

                graphics.drawRect(5, 1, getWidth()-10, getHeight()-2);
                super.paint(graphics);
            }

        };

        endDateNTimeManager.add(_endDateLabelField);
        endDateNTimeManager.add(_endTimeLabelField);

        /**
         *  Add Components to Screen
         * */
        LabelField searchByLocation = new LabelField("Search by Location")
        {
            protected void paint(Graphics graphics) 
            {
                graphics.setColor(Color.BLACK);
                super.paint(graphics);
            }
        };
        searchByLocation.setFont(Global.arialFont_Bold_18);

        insertSearchModeManager();
        _workSpace.add(hfm_0);

        searchByLocation.setMargin(5, 5, 5, 10);
        _workSpace.add(searchByLocation);

        _workSpace.add(hfm_1);
        _workSpace.add(hfm_2);
        _workSpace.add(hfm_3);

        LabelField selectStartDateHeader = new LabelField("Select start date & end dates to check incidents in the future");
        selectStartDateHeader.setFont(Global.arialFont_Bold_16);

        selectStartDateHeader.setMargin(5, 5, 5, 10);
        _workSpace.add(selectStartDateHeader);

        insertDateSelectionManager();

        startDateNTimeManager.setMargin(10, 0, 10, 0);
        _workSpace.add(startDateNTimeManager);
        _workSpace.add(endDateNTimeManager);

        ButtonField btn_go = new ButtonField("Go" ,FIELD_HCENTER)
        {
            protected boolean navigationClick(int status, int time) {
                fieldChangeNotify(1);
                return true;
            }
        };

        btn_go.setMargin(10, 0, 0, 10);
        _workSpace.add(btn_go);

//      add(_workSpace);

        btn_go.setChangeListener(new FieldChangeListener() 
        {
            public void fieldChanged(Field field, int context) 
            {
                invokeAISearch();
            }
        });

        /**
         *  Status Manager
         * */
        insertStatusManager();

        /**
         *  Very First time r1 = All days should be selected
         * */
        /*r1.setSelected(true);
        invokeDays_Calculatio();*/
    }

    protected void invokeAISearch() 
    {   }

    private String getAllDates() 
    {
        String dateString = Global.EMPTY;

        return dateString;
    }

    private String getStartDateTime() 
    {
        String startDateString = Global.EMPTY;
        return startDateString;
    }

    private String getEndDateTime() {
        String endDateString = Global.EMPTY;
        return endDateString;
    }

    private String getSeverity() {

        String sevString = Global.EMPTY;
        return sevString;
    }

    private void show_AI(final Vector v_temp)
    {
    }

    private void insertSearchModeManager() {

        ch1 = new CheckboxField("Severe", true)
        {
            protected void layout(int width, int height) {
                super.layout(getPreferredWidth(), height);
                super.setExtent(getPreferredWidth(), height);
            }
        };
        ch2 = new CheckboxField("Moderate", true)
        {
            protected void layout(int width, int height) {
                super.layout(getPreferredWidth(), height);
                super.setExtent(getPreferredWidth(), height);
            }
        };
        ch3 = new CheckboxField("Slight", true)
        {
            protected void layout(int width, int height) {
                super.layout(getPreferredWidth(), height);
                super.setExtent(getPreferredWidth(), height);
            }
        };

        ch1.setFont(Global.arialFont_Plain_16);
        ch2.setFont(Global.arialFont_Plain_16);
        ch3.setFont(Global.arialFont_Plain_16);

        HorizontalFieldManager dateSelectionManager = new HorizontalFieldManager()
        {
            protected void sublayout(int maxWidth, int maxHeight) 
            {
                super.sublayout(maxWidth, maxHeight);

                setExtent(360, 50);
            }

            protected void paint(Graphics graphics) 
            {
                graphics.setColor(Color.BLACK);
                graphics.drawRect(5, 0, getWidth()-10, getHeight());
                super.paint(graphics);
            }
        };

        ch1.setMargin(0, 0, 0, 10);
        ch2.setMargin(0, 0, 0, 20);
        ch3.setMargin(0, 0, 0, 20);

        dateSelectionManager.add(ch1);
        dateSelectionManager.add(ch2);
        dateSelectionManager.add(ch3);

        LabelField selectStartDateHeader = new LabelField("Search by Severity");
        selectStartDateHeader.setFont(Global.arialFont_Bold_16);

        selectStartDateHeader.setMargin(5, 5, 5, 10);
        _workSpace.add(selectStartDateHeader);
        _workSpace.add(dateSelectionManager);

    }

    private void insertDateSelectionManager() 
    {

        r1 = new CheckboxField( "All Dates" , true)
        {
            protected void layout(int width, int height) {
                super.layout(getPreferredWidth(), height);
            }
        }; 

        r2 = new CheckboxField("Tomorrow",false)
        {
            protected void layout(int width, int height) {
                super.layout(getPreferredWidth(), height);
            }
        };
        r3 = new CheckboxField("Next 7 days",false)
        {
            protected void layout(int width, int height) {
                super.layout(getPreferredWidth(), height);
            }
        };

        HorizontalFieldManager dateSelectionManager = new HorizontalFieldManager()
        {
            protected void sublayout(int maxWidth, int maxHeight) 
            {
                super.sublayout(Global.Display_Width, 50);

                setExtent(Global.Display_Width, 50);
            }

            protected void paint(Graphics graphics) 
            {
                graphics.setColor(Color.BLACK);
                graphics.drawRect(5, 0, getWidth()-10, getHeight());
                super.paint(graphics);
            }
        };

        r1.setFont(Global.arialFont_Plain_16);
        r2.setFont(Global.arialFont_Plain_16);
        r3.setFont(Global.arialFont_Plain_16);

        r1.setMargin(0, 0, 0, 20);
        r2.setMargin(0, 0, 0, 20);
        r3.setMargin(0, 0, 0, 20);

        dateSelectionManager.add(r1);
        dateSelectionManager.add(r2);
        dateSelectionManager.add(r3);

        add(dateSelectionManager);

        r1.setChangeListener(new FieldChangeListener() 
        {
            public void fieldChanged(Field field, int context) 
            {
                if ( nonProgrammaticChange(context) )
                {
                    invokeDays_Calculation(r1); 
                }
            }
        });

        r2.setChangeListener(new FieldChangeListener() 
        {
            public void fieldChanged(Field field, int context) 
            {
                if ( nonProgrammaticChange(context) )
                {
                    invokeDays_Calculation(r2);
                }
            }
        });

        r3.setChangeListener(new FieldChangeListener() 
        {
            public void fieldChanged(Field field, int context) 
            {
                if ( nonProgrammaticChange(context) )
                {
                    invokeDays_Calculation(r3); 
                }
            }
        });
    }

    private boolean nonProgrammaticChange (int context) {
        return (context & FieldChangeListener.PROGRAMMATIC) != FieldChangeListener.PROGRAMMATIC;
    }

    protected void invokeDays_Calculation(CheckboxField selectedField) 
    {
        r1.setChecked(false);
        r2.setChecked(false);
        r3.setChecked(false);

        if(selectedField.equals(r1))
        {
            togle_r1 = !togle_r1;

            if(togle_r1)
            {
                r1.setChecked(true);

                togle_r2 = false;
                togle_r3 = false;

                _startDateLabelField.setText("");
                _startTimeLabelField.setText("");
                _endDateLabelField.setText("");
                _endTimeLabelField.setText("");
            }
            else 
            {
                if(!togle_r1 && !togle_r2 && !togle_r3)
                {
                    Calendar todaysDate = Calendar.getInstance(); 
                    int tDayStr =  todaysDate.get(Calendar.DATE);
                    int tMonStr =  todaysDate.get(Calendar.MONTH);
                    int tYearStr =  todaysDate.get(Calendar.YEAR);

                    /**
                     * In Calendar class Month start form 0 thats why I incremented one time
                     * */
                    ++tMonStr;

                    /*System.out.println("t Date "+tDayStr);
                    System.out.println("t Month "+tMonStr);
                    System.out.println("t Year "+tYearStr);*/

                    String startDateStr = tDayStr+"/"+tMonStr+"/"+tYearStr;

                    _startDateLabelField.setText(startDateStr);
                    _startTimeLabelField.setText("00:00");
                    _endDateLabelField.setText(startDateStr);
                    _endTimeLabelField.setText("23:59");

                }
            }
        }

        if(selectedField.equals(r2))
        {
            togle_r2 = !togle_r2;

            if(togle_r2)
            {

                r2.setChecked(true);

                togle_r1 = false;
                togle_r3 = false;

                Calendar todaysDate = Calendar.getInstance(); 
                int tDayStr =  todaysDate.get(Calendar.DATE);
                int tMonStr =  todaysDate.get(Calendar.MONTH);
                int tYearStr =  todaysDate.get(Calendar.YEAR);

                ++tDayStr;
                /**
                 * In Calendar class Month start form 0 thats why I incremented one time
                 * */
                ++tMonStr;

                /*System.out.println("t Date "+tDayStr);
                System.out.println("t Month "+tMonStr);
                System.out.println("t Year "+tYearStr);*/

                String startDateStr = tDayStr+"/"+tMonStr+"/"+tYearStr;

                _startDateLabelField.setText(startDateStr);
                _startTimeLabelField.setText("00:00");
                _endDateLabelField.setText(startDateStr);
                _endTimeLabelField.setText("23:59");
            }
        }

        if(selectedField.equals(r3))
        {
            togle_r3 = !togle_r3;

            if(togle_r3)
            {
                r3.setChecked(true);

                togle_r1 = false;
                togle_r2 = false;

                Calendar todaysDate = Calendar.getInstance(); 
                int tDayStr =  todaysDate.get(Calendar.DATE);
                int tMonStr =  todaysDate.get(Calendar.MONTH);
                int tYearStr =  todaysDate.get(Calendar.YEAR);

                /**
                 * In Calendar class Month start form 0 thats why I incremented one time
                 * */
                ++tMonStr;

                /*System.out.println("t Date "+tDayStr);
                System.out.println("t Month "+tMonStr);
                System.out.println("t Year "+tYearStr);*/

                String startDateStr = tDayStr+"/"+tMonStr+"/"+tYearStr;

                _startDateLabelField.setText(startDateStr);
                _startTimeLabelField.setText("00:00");

                tDayStr += 7;
                startDateStr = tDayStr+"/"+tMonStr+"/"+tYearStr;

                _endDateLabelField.setText(startDateStr);
                _endTimeLabelField.setText("23:59");
            }
        }

    }

    public void fieldChanged(Field field, int context) {
        // TODO Auto-generated method stub

    }

    protected void street_Invoke() 
    {
    }

    protected void postCode_Invoke() {

    }

    void showStreetPopUp(final String[] street_Array)
    {

    }

    public void showCarParkingStreetPopUp(final String[] postCode_Array)
    {
    }

    public void updateStreetField(String strVal) 
    {

    }

    public void updatePostField(String strVal) {

    }

    public boolean onClose() 
    {
        setDirty(false);
        return super.onClose();
    }

    protected void sublayout(int width, int height) 
    {
        super.sublayout(Global.Display_Width, Global.Display_Height + 100);
        super.setExtent(Global.Display_Width, Global.Display_Height + 100);
    }

    protected void paint(Graphics graphics) 
    {
        // TODO Auto-generated method stub
        super.paint(graphics);
    }

} 
```

注意：代码在 5.0 操作系统中运行良好，但在 6.0 和 7.0 中会产生问题。请让我知道我为什么会遇到这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T19:35:55.880

问题是您已经为 OS 5.0 上的特定设备制作了应用程序，这显然是非触摸的。现在在触控设备上，按钮和复选框的尺寸要大得多，而您正试图将它们限制为更小的尺寸。因此，复选框通常会采用您所做的任何 setextent，但是当被聚焦时，它们会尝试为自己腾出空间，这会干扰您的屏幕布局。删除复选框中的人为约束，您的直接问题可能会得到解决。

但是，此代码中有很多问题可能会在以后引起问题。

1.  使用 Screen.USE_ALL_HEIGHT 不会占据整个显示器。

2.  您不必要地覆盖每个字段以以某种方式限制它们的高度。而你做错了。例如，`iaDescriptionEditField`您已经为布局提供了全宽，但随后限制了其大小。这将导致字段在末端没有被绘制。

3.  你有硬编码的宽度和高度——包括以像素为单位的字体，这会让你的应用在像粗体 3 这样的高像素密度设备上看起来很糟糕。

4.  您正在覆盖 Horizo​​ntalFieldManager，然后完全重新创建子布局方法。最好简单地扩展 Manager 类，因为您似乎没有使用 Horizo​​ntalFieldManager 的任何工具。

5.  请记住，并非所有字段都会给出正确的 getPreferredWidth/Height，您应该只在布局期间使用这些方法进行估算。

我建议您在考虑到您需要定位的不同设备之后重新考虑并重写整个代码。使用基于点的字体和测量值，而不是基于像素的测量值。

一切顺利。

# ios - 出现错误：ld：文件是通用的（2 个切片）但不包含 a(n) armv7 切片

> ID：15941546
> 
> 赞同：2
> 
> 时间：2013-04-11T05:46:50.960
> 
> 标签：ios, armv7

我是 iOS 开发的新手。当我在设备中运行应用程序时，出现以下错误：

```
ld: file is universal (2 slices) but does not contain a(n) armv7 slice: /Users/username/Projects/Project-name/tesseract-ocr/outdir/libtesseract_api.a for architecture armv7 
```

我正在使用`xcode 4.6`.

提前致谢。

# php - 试图环绕多个词串的第一个词只适用于两个词串，不超过两个

> ID：15941551
> 
> 赞同：0
> 
> 时间：2013-04-11T05:47:03.443
> 
> 标签：php, preg-replace

我正在尝试围绕多个单词小部件标题的第一个单词。我已经使用了这里的答案：

[修改了 Wordpress 功能以在标题的第一个单词周围放置一个 Span？](https://stackoverflow.com/questions/10263792/revised-wordpress-function-to-put-a-span-around-the-first-word-of-the-title)

并将其调整为：

```
function add_label_to_post_title( $title = '' ) {
    $ARR_title = explode(" ", $title);

    if(sizeof($ARR_title) > 1 ) {
        $first_word = "<span>".$ARR_title['0']."</span> ";
        unset($ARR_title['0']);
        return $first_word. implode(" ", $ARR_title);
    } else {
        return $title;
    }
}

add_filter( 'widget_title', 'add_label_to_post_title' ); 
```

它适用于两个单词标题。但是 3 个或更多单词标题不受影响。

我尝试修改代码：

```
preg_replace('/(?<=\>)\b\w*\b|^\w*\b/', '<span>$0</span>', $string); 
```

从这里：

[用 preg_replace 将 <b>-tag 包裹在字符串的第一个单词周围](https://stackoverflow.com/questions/10833435/wrap-b-tag-around-first-word-of-string-with-preg-replace)

并具有相同的结果，在两个词标题上效果很好，但三个或更多不受影响。有谁知道为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T05:56:06.910

请在下面使用数组查找代码片段

```
function add_label_to_post_title( $title = '' ) 
{

    $ARR_title = explode(" ", $title);

    if(sizeof($ARR_title) > 1 )
    {
        $ARR_title[0] = "<span>".$ARR_title[0]."</span>";
        return implode(" ", $ARR_title);
    }
    else
    {
        return $title;
    }

}
echo add_label_to_post_title ("hi there this is test code"); 
```

# c# - 文本框的 LostFocus 事件问题

> ID：15941562
> 
> 赞同：1
> 
> 时间：2013-04-11T05:48:04.437
> 
> 标签：c#, winforms, events, textbox

我正在尝试使用此功能：

```
private void IDCustTextBox_LostFocus(object sender, System.EventArgs e)
{
      if (CustName.Text == "abc")
          MessageBox.Show("Error");
} 
```

当我在文本框中键入 abc `CustName`，然后离开文本框时，我没有收到任何消息。在文本框属性中，我可以看到“textbox.Changed”正在使用事件 LostFocus。

我怎样才能让它显示上面的错误消息？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-11T05:54:45.330

**属性窗口**中的文本框没有 LostFocus 事件，如果要使用它，则必须添加事件处理程序，属性窗口中有文本框离开事件，可以如下使用：

```
private void textBox1_Leave(object sender, EventArgs e)
    {
     // do your stuff
    } 
```

要添加事件处理程序，您需要编写以下内容：

```
textBox1.LostFocus += new EventHandler(textBox1_LostFocus); 
```

那么您可以按如下方式使用它：

```
private void textBox1_LostFocus(object sender, EventArgs e)
    {
     // do your stuff
    } 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-11T05:59:35.367

您需要让该字段知道该事件有一个处理程序`LostFocus`

由于这[不是属性窗口的一部分，因此](http://msdn.microsoft.com/en-us/library/system.componentmodel.browsableattribute.aspx)您将附加处理程序

```
CustTextBox.LostFocus += new EventHandler(IDCustTextBox_LostFocus); 
```

# c# - 如何将服务器端属性值传递给在带有 aspx 页面的框架中加载的其他 htm 页面

> ID：15941564
> 
> 赞同：1
> 
> 时间：2013-04-11T05:48:23.577
> 
> 标签：c#, javascript, asp.net, html, web

在 Web 应用程序中，我有一个 default.aspx 页面，顶部有一个按钮，如下所示： ![在此处输入图像描述](https://i.stack.imgur.com/M16sg.png)

当我单击 Button-1 时，会在我的页面中加载一个框架，其中包含框架集中的其他两个框架。框架集中的每个框架都加载一个 htm 页面。你可以看到如下： ![在此处输入图像描述](https://i.stack.imgur.com/QSK6t.png)

因此，层次结构如下：

1.  加载 Default.aspx 页面
2.  单击按钮 1
3.  在 default.aspx 的主体中加载了一个框架，它隐藏了以前的内容并显示新加载的框架内容。
4.  新加载的框架在 Default.htm 页面中包含一个框架集
5.  加载的框架集有两个框架，第一个加载 Header.htm，第二个加载 Contents.htm

我需要做的是，我想在 Header.htm 中设置 Button-2 的值，并将该值分配给 Default.aspx 加载时的 javascript 变量。

我尝试这个 `var sJSButton2Value = '<%=sButton2Title %>';` sButton2Title 来自服务器端脚本，具体取决于用户语言。

如何，我可以将它从 Default.aspx 传递给 Header.htm 吗？
我想设置来自 Default.aspx 页面的 Button-2 值。
它是如何实现的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:53:48.790

您可以从 iframe 中设置 Default.aspx 中的变量，如下所示：

从 iframe 内部：

```
window.parent.SomeFunctionDefinedInDefaultAspx(valueToSet); 
```

这通常是您访问 iframe 的“父级”(Default.aspx) 的方式

如果您需要在 Default.aspx 的 iframe 中设置按钮文本，您可以通过您为 iframe 指定的 url 中的查询字符串来实现

# ruby - 如何将我的 ruby gem 发布到我自己的存储库？

> ID：15941568
> 
> 赞同：2
> 
> 时间：2013-04-11T05:49:01.927
> 
> 标签：ruby, gem, rake, rake-task

我已经写了一个`ruby gem`并且我想要一个将 gem 发布到我**自己的`GemInABox`存储库**的 rake 任务：`http://my-gem-repo.com`。

实现这一目标的最简单方法是什么？

另外，我想阻止默认发布到`Rubygems.org`.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T03:46:46.763

有关托管您自己的 gem 的信息可以在[http://guides.rubygems.org/run-your-own-gem-server/找到](http://guides.rubygems.org/run-your-own-gem-server/)

根据该站点和[https://github.com/cwninja/geminabox上的 README 设置服务器](https://github.com/cwninja/geminabox)

释放你的宝石：

```
gem build my_ruby_gem.gemspec
#push all versions to the gem server
gem inabox 
```

第一次运行 gem inabox 时，您将配置目标。

对于 rake 任务，您可以将此 Rakefile 放在您的 gem 源中：

```
#!/usr/bin/env rake
desc "build the gem"
task :build do
  system("gem build *.gemspec")
end

desc "push the gem to the gem inabox server"
task :release do
  system("gem inabox")
end

desc "build and release the gem"
task :build_and_release => [:build,:release] 
```

系统调用绝对是黑客，但它们是使其工作的简单方法。要求更好的 rake 任务： [https ://github.com/cwninja/geminabox/issues/59](https://github.com/cwninja/geminabox/issues/59)

# c++ - STL 算法的谓词

> ID：15941573
> 
> 赞同：0
> 
> 时间：2013-04-11T05:49:16.910
> 
> 标签：c++

我有以下问题：

```
find_if(s.begin(), s.end(), isalpha); 
```

s 是一个库字符串。当我尝试使用 isalpha （在“cctype”标题中）时，它说“类型不匹配”。问题是 isalpha 接受一个 int 并返回一个 int： int isalpha(int)

我通过声明另一个函数来解决它：

```
bool IsAlpha(char c) {
  return isalpha(c);
} 
```

但是，有没有更好的方法来做到这一点？我希望代码更清晰和简单，而不声明这个“包装器”函数。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T06:17:26.017

我想“正确”的 C++ 方法是使用`isalpha`在语言环境中定义的：

```
std::find_if(
    s.begin(), 
    s.end(), 
    [](char c) { return std::isalpha(c, std::locale()); }
); 
```

可能有点冗长。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T06:24:07.660

我能想象的唯一方法是，你使用`using namespace std`, 因为你写了`find_if`，而不是`std::find_if`，在这种情况下，你有以下错误 [Live example](http://liveworkspace.org/code/28S1na%245)。您不应该编写包装器，您可以简单地使用`::isalpha` [Live 示例](http://liveworkspace.org/code/28S1na%246)，或者您可以将第二个 par 绑定到默认语言环境，就像[这里](http://liveworkspace.org/code/28S1na%24)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T05:57:24.323

您的解决方案对我来说看起来不错。除了它有一个非常常见的错误

```
bool IsAlpha(char c) {
  return isalpha(c);
} 
```

应该

```
bool IsAlpha(char c) {
  return isalpha((unsigned char)c);
} 
```

isalpha 仅针对 unsigned char 值（通常为 0 到 255）和 EOF（通常为 -1）定义。严格来说，将任何其他负值传递给 isalpha 是未定义的。然而，在实践中你会发现（假设你的 char 类型是有符号的）如果你给你的例程提供代码 255 的字符，你最终会将 -1 的值传递给 isalpha，它总是返回 false。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-11T06:00:10.593

如何使用函子？

```
 struct IsAlpha {
      bool operator() (char c) const { return /* isAlpha logic here */; }         
    };
    //... 
    find_if(begin, end, IsAlpha()); 
```

[在此处查看](http://cs.ioc.ee/yik/schools/sum2006/generic_programming/functors.html)使用带有 stl 算法的函子的优势

# javascript - 使用 JavaScript 显示来自 JSONP Web 服务的数据

> ID：15941577
> 
> 赞同：0
> 
> 时间：2013-04-11T05:49:39.700
> 
> 标签：javascript, jquery, json, web-services, jsonp

我正在尝试从 itis.gov 网络服务中检索数据并显示在 html 页面上。

该站点具有[JSON 和 JSONP Web 服务](http://www.itis.gov/web_service.html)。我无法弄清楚为什么下面的代码不起作用，我的代码可以与其他 JSON Web 服务 API（例如 facebook API）一起使用。

这是一个使用网络服务方法“getScientificNameFromTSN”的[JSON API 调用示例](http://www.itis.gov/ITISWebService/jsonservice/getScientificNameFromTSN?tsn=202384)

```
<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<body>
<script>
$(document).ready(function() {
   var url="http://www.itis.gov/ITISWebService/jsonservice/getScientificNameFromTSN?";
   $.getJSON(url, { "tsn" : "202384" }, function(data) {
      document.write(data.author);
   });
});
</script>
</head>
<body>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T08:30:11.840

您链接到的文档页面包含以下文本：

> 通过将“jsonp=function_name”附加到 Web 服务调用的参数列表来进行 JSON-P 调用。

为此，您需要将其添加`jsonp=?`到您的 URL 的查询字符串中。例如：

```
$(document).ready(function() {
    var url="http://www.itis.gov/ITISWebService/jsonservice/getScientificNameFromTSN?jsonp=?";
    $.getJSON(url, { "tsn" : "202384" }, function(data) {
        document.write(data.author);
    });
}); 
```

然后 jQuery 将`?`用其自动生成的函数的名称替换 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T08:39:20.420

为了支持真正的 ajax 请求，您的服务器应该使用`Access-Control-Allow-Origin: *`header 来回答，但事实并非如此。

或者，您可以使用`$.ajax`; 它对我来说看起来更清晰和方便

```
$.ajax({
    url     : "http://www.itis.gov/ITISWebService/jsonservice/getScientificNameFromTSN",
    data    : { "tsn" : "202384" },
    dataType: "jsonp",
    jsonp   : "jsonp",
    success : function(data) { console.info(data); } 
}); 
```

请注意，您应该传递 dataType 来表示 jquery 您使用填充查询跨域数据，并且您应该提供带有回调名称的查询字符串参数，因为您的服务器需要 ( `jsonp : "jsonp"`)。

结果是

```
author: "Merriam, 1914"
class: "gov.usgs.itis.itis_service.data.SvcScientificName"
combinedName: "Ursus arctos nelsoni"
kingdom: "Animalia"
tsn: "202384"
unitInd1: null
unitInd2: null
unitInd3: null
unitInd4: null
unitName1: "Ursus"
unitName2: "arctos"
unitName3: "nelsoni"
unitName4: null 
```

# wordpress - 发布帖子时获取附加的图像ID

> ID：15941582
> 
> 赞同：0
> 
> 时间：2013-04-11T05:50:02.947
> 
> 标签：wordpress

我想在发布帖子时获得附加的图像 ID。我正在使用以下代码：-

```
function my_function($post_id){
    echo $imgId = get_post_thumbnail_id( $post_id ); die;
    return $post_id;
}
add_filter('publish_post', 'my_function'); 
```

它没有给出图像 ID。当我编辑并保存现有帖子时，它会返回图像 ID。

请帮忙.......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T07:30:11.097

This is how I get the featured image.

```
if ( has_post_thumbnail() ){
    $image_id = get_post_thumbnail_id();
    $alt_text = get_post_meta($image_id, '_wp_attachment_image_alt', true);
    $image_url = wp_get_attachment_image_src($image_id,'large');  
    $image_url = $image_url[0];
 } 
```

# jquery - Jquery迭代表，合并单元格、行和列，但跳过第一列

> ID：15941589
> 
> 赞同：1
> 
> 时间：2013-04-11T05:50:37.257
> 
> 标签：jquery, html-table

我能够迭代所有行和列，但是当表格合并单元格时它不起作用。它不会通过所有普通列的合并行（没有任何合并的单元格）。

我的脚本：

```
$('#test tr').each(function() {
   $(this).find('td').each(function(colIndex)   
    {
        if(colIndex > 1)
        {
        $(this).css('background-color', 'red');
        }
    });   
}); 
```

[此处提供了一个类似的示例/测试：](http://jsfiddle.net/pMWAw/2/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:22:33.793

```
$('#test tr').each(function() {

    var rowcount=0;
   $(this).find('td').each(function(colIndex)   
    {
        if(colIndex > 1)
        {
        $(this).css('background-color', 'red');
        }
      rowcount ++;
    }); 
  if(rowcount==2)
  {
     $(this).find('td').each(function(colIndex)   
    {
        if(colIndex == 1)
        {
        $(this).css('background-color', 'red');
        }

    });
  }

}); 
```

像这样修改你的jquery。这会做。[http://jsfiddle.net/dolours/pMWAw/26/](http://jsfiddle.net/dolours/pMWAw/26/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T06:28:53.160

可以简化为一行 - 只需使用`:last-child`选择器

```
$('#test tr td:last-child').css('background-color', 'red'); 
```

[http://jsfiddle.net/pMWAw/12/](http://jsfiddle.net/pMWAw/12/)

# c - 将联合放在 c 中的结构中是什么意思？

> ID：15941590
> 
> 赞同：2
> 
> 时间：2013-04-11T05:50:45.017
> 
> 标签：c, struct, unions

我正在阅读一些c代码，发现某些结构包含一个没有变量名的联合名称，如下例所示：

```
typedef union Lock Lock;

union Lock{
    uint32 key;
};

struct Test{
    Lock;
    uint32 name1;
}; 
```

Lock inside 测试是什么意思？PS。类型 uint32 已经在两个声明之前定义。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T17:04:41.807

因此，添加 typedef 后，gcc 会产生警告：

```
main.c:8:9: warning: declaration does not declare anything [enabled by default] 
```

此外，simple`sizeof`表明它们具有相同的大小：

```
struct Test{
    Lock;
    uint32 name1;
};

struct Test2{
    uint32 name1;
}; 
```

我不认为在 C 中存在任何情况，这可能意味着任何有用的东西。[也许这是前向声明](http://en.wikipedia.org/wiki/Forward_declaration)的混乱尝试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:57:06.623

您发布的内容不是有效的 C。就语言而言，`Lock`它们`union Lock`是完全不同的东西，仅此而已。

但是，如果您要`union Lock`在结构内部说它会编译但不会做任何事情：它只是一个多余的声明，什么都不声明。

* * *

有人猜测在结构的开头添加`union Lock`or会起到一些作用。`Lock`快速检查应该证明是错误的：

```
printf("%zu\n", offsetof(struct Test, name1)); /* Will print 0\. */ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T07:50:45.213

如果您可以编译代码，我猜您使用的是旧编译器或仍支持*隐式 int*的编译器。这意味着编译器将您的代码解释为

```
struct Test{
    int Lock;
    uint32 name1;
} 
```

另请参阅[为什么/C 允许隐式函数和无类型变量声明？](https://stackoverflow.com/questions/11835001/why-does-did-c-allow-implicit-function-and-typeless-variable-declarations)

# z3 - 量化公式的奇怪结果

> ID：15941591
> 
> 赞同：1
> 
> 时间：2013-04-11T05:50:46.370
> 
> 标签：z3

当我使用 ForAll 量词时，我得到了一些奇怪的结果。我的目标是将函数 foo 的解释限制为以下内容：

```
\Ax,y. foo(x,y)= if x=A && y=B then C1 else C2 
```

因此，如果我将上述内容断言到上下文中，我应该得到对 foo 的解释，它基本上等同于上述内容。但是我没有。我得到的是类似

```
foo(x,y)= if x=A && y=B then C1 else C1 
```

我不知道为什么。我正在使用的代码如下（通过 .net API 访问 Z3）

```
let ctx = new Context()
let Sort1 = ctx.MkEnumSort("S1", [|"A";"AA"|])
let Sort2 = ctx.MkEnumSort("S2", [|"B"|])
let Sort3 = ctx.MkEnumSort("S3", [|"C1";"C2"|]) 
let s1 = ctx.MkSymbol "s1"
let s2 = ctx.MkSymbol "s2"
let types = [|Sort1:>Sort; Sort2:>Sort |]
let names = [|s1:>Symbol ; s2:>Symbol|]
let vars = [| ctx.MkConst(names.[0],types.[0]);ctx.MkConst(names.[1],types.[1])|]

let FDecl = ctx.MkFuncDecl("foo", [|Sort1:>Sort;Sort2:>Sort|], Sort3) 
let f_body = ctx.MkITE(ctx.MkAnd(ctx.MkEq(vars.[0],getZ3Id("A",Sort1)), 
                                 ctx.MkEq(vars.[1], getZ3Id("B",Sort2))),
                       getZ3Id("C1",Sort3), 
                       getZ3Id("C2",Sort3)) 
let f_app = FDecl.Apply vars //ctx.MkApp(FDecl, vars)
let body = ctx.MkEq(f_app, f_body)

let std_weight = uint32 1
let form = ctx.MkForall(types, names, body, std_weight, null, null, null, null) 
           :> BoolExpr
let s = ctx.MkSolver() 
satisfy s [|form|]
s.Model 
```

where`getZ3Id`将给定的字符串转换为 Enum 中对应的常量

```
let getZ3Id (id,sort:EnumSort) = 
  let matchingConst zconst = zconst.ToString().Equals(id)
  Array.find matchingConst sort.Consts 
```

并且`satisfy`是：

```
let satisfy (s:Solver) formula =
    s.Assert (formula)
    let res = s.Check() 
    assert (res = Status.SATISFIABLE)
    s.Model 
```

该模型返回对 foo 的解释，无论如何返回 C1

```
(define-fun foo ((x!1 S1) (x!2 S2)) S3
  (ite (and (= x!1 A) (= x!2 B)) C1
    C1)) 
```

有人能指出我哪里出错了吗？谢谢 PS 另外对 MkForAll 的两个 API 调用有什么区别 - 一个采用排序和名称，另一个采用“绑定常量”？

* * *

这是我的进一步问题：如果我定义

```
let set1 = Set.map (fun (p:string)-> ctx.MkConst(p,Sort3)) 
                   (new Set<string>(["C1"])) 
```

并改变 f 的主体

```
let f_body = ctx.MkITE(ctx.MkAnd(ctx.MkEq(vars.[0],getZ3Id("A",Sort1))), 
                                 ctx.MkEq(vars.[1], getZ3Id("B",Sort2))),
                       mkZ3Set ctx set1,
                       ctx.MkEmptySet Sort3) 
```

在哪里

```
let mkZ3Set (ctx:Context) exprs sort =
  Set.fold (fun xs x-> ctx.MkSetAdd(xs,x)) (ctx.MkEmptySet(sort)) exprs 
```

Z3 公式看起来很合理

```
form= (forall ((s1 S1))
  (= (foo s1)
     (ite (and (= s1 A))
          (store ((as const (Array S3 Bool)) false) C1 true)
          ((as const (Array S3 Bool)) false)))) 
```

然而 Z3 返回 Unsatisfiable。你能告诉我为什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T04:50:58.233

问题是量词抽象。它不会抽象您想要的变量。

```
 let form = ctx.MkForall(types, names, body, std_weight, null, null, null, null) 
       :> BoolExpr 
```

应该改为：

```
 let form = ctx.MkForall(vars, body, std_weight, null, null, null, null) 
       :> BoolExpr 
```

背景是 Z3 公开了两种不同的方法来量化变量。

选项 1：您可以抽象出现在公式中的常量。您应该将这些常量的数组传递给量词抽象。这是我更正使用的版本。

选项 2：您可以抽象出在公式中自由出现的 de-Brujin 指数。然后，您可以使用您在示例中使用的 ctx.MkForall 的重载。但它要求每当您引用绑定变量时，都必须使用绑定索引（使用 ctx.MkBound 创建的东西）。

# php - PHP 多文件数组

> ID：15941592
> 
> 赞同：7
> 
> 时间：2013-04-11T05:51:06.277
> 
> 标签：php, arrays, file, upload

我有以下代码可以工作和上传，但它不会循环通过数组来上传每个文件，只是第一个文件。

```
<form method="post" enctype="multipart/form-data" action="http://<?php echo $pageURL;?>">   
<input class="new" multiple="multiple" name="documents[]" type="file" />
<input class="new" multiple="multiple" name="documents[]" type="file" />
<input type="submit" class="button" name="addMaterials" value="Add" />

<?php

    foreach($_FILES['documents']['tmp_name'] as $key => $tmp_name)
        {
            $file_name = $key.$_FILES['documents']['name'][$key];
            $file_size =$_FILES['documents']['size'][$key];
            $file_tmp =$_FILES['documents']['tmp_name'][$key];
            $file_type=$_FILES['documents']['type'][$key];  
            move_uploaded_file($file_tmp,"files/".time().$file_name);
        }
?> 
```

我需要它来循环浏览我的文档 [] 文件数组。

文档数组的示例`print_r()`：

```
Array ( 
    [name] => Array ( [0] => AcroRd32.exe ) 
    [type] => Array ( [0] => application/x-msdownload ) 
    [tmp_name] => Array ( [0] => C:\xampp\tmp\phpE8BD.tmp ) 
    [error] => Array ( [0] => 0 ) 
    [size] => Array ( [0] => 1343112 ) 
    ) 
```

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-04-11T06:17:48.627

您可以使用我更新的代码，根据我的演示，它非常适合多个文件上传

```
 <?php
if(isset($_FILES['documents'])){

foreach($_FILES['documents']['tmp_name'] as $key => $tmp_name)
{
    $file_name = $key.$_FILES['documents']['name'][$key];
    $file_size =$_FILES['documents']['size'][$key];
    $file_tmp =$_FILES['documents']['tmp_name'][$key];
    $file_type=$_FILES['documents']['type'][$key];  
    move_uploaded_file($file_tmp,"galleries/".time().$file_name);
}
}else{
echo "<form enctype='multipart/form-data' action='test1.php' method='POST'>";
 echo "File:<input name='documents[]' multiple='multiple' type='file'/><input type='submit' value='Upload'/>";

 echo "</form>";
}
?> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-11-25T18:05:06.947

对于任何尝试使用单个文件 php 函数（我正在使用类，但您可以更改为函数）的人：

html:

```
 <input type="file" name="foto[]" />
                        <input type="file" name="foto[]" />
                        <input type="file" name="foto[]" />
                        <input type="file" name="foto[]" />
                        <input type="file" name="foto[]" /> 
```

php:

```
if (isset($_FILES['foto'])) {

      $arquivo = array();
    foreach ($_FILES['foto']["name"] as $file=>$key) {

                    // the empty input files create an array index too, so we need to
                    // check if the name exits. It means the file exists.
        if (!empty($_FILES['foto']["name"][$file])) {
          $arquivo ["name"] = $_FILES['foto']["name"][$file];
          $arquivo ["type"] = $_FILES['foto']["type"][$file];
          $arquivo ["tmp_name"] = $_FILES['foto']["tmp_name"][$file];
          $arquivo ["error"] = $_FILES['foto']["error"][$file];
          $arquivo ["size"] = $_FILES['foto']["size"][$file];

$foto = new foto(); // create an obj foto
    // $arquivo means file, it`s our file format as a single $_file['file']
if ($foto -> upload($arquivo)) { // if its uploaded than save
    $foto -> save();
}

    }

    } 

} 
```

在我的照片课上：

```
public function upload($foto) {

    $upload_dir = "D:/xampp/htdocs/prova/fotos/";
    $file_dir = $upload_dir . $foto["name"];

    $move = move_uploaded_file($foto["tmp_name"], $file_dir);
    $this -> arquivo = $foto["name"]; // use this to save to db later

    // this serves to return true if the file is uploaded
    $retorno = ($move) ? 1 : 0; 
    return $retorno;

} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T06:10:24.463

尝试使用此代码进行多文件上传

```
<form method="post" action="upload-page.php" enctype="multipart/form-data">
 <input name="filesToUpload[]" id="filesToUpload" type="file" multiple="" />
</form> 
```

在 PHP 中

```
if(count($_FILES['uploads']['filesToUpload'])) {
foreach ($_FILES['uploads']['filesToUpload'] as $file) {

    //do your upload stuff here
    echo $file;

}
} 
```

使用 javascript 显示文件名

```
//get the input and UL list
var input = document.getElementById('filesToUpload');
var list = document.getElementById('fileList');

//empty list for now...
while (list.hasChildNodes()) {
list.removeChild(ul.firstChild);
}

//for every file...
for (var x = 0; x < input.files.length; x++) {
//add to list
var li = document.createElement('li');
li.innerHTML = 'File ' + (x + 1) + ':  ' + input.files[x].name;
list.append(li);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-11T06:04:48.250

试试这种循环方式`documents array()`

```
<?php 

foreach($_FILES['documents']['tmp_name'] as $key => $tmpName) {

  $file_name = $_FILES['documents']['name'][$key];
  $file_type = $_FILES['documents']['type'][$key];
  $file_size = $_FILES['documents']['size'][$key];
  $file_tmp  = $_FILES['documents']['tmp_name'][$key];

  move_uploaded_file($file_tmp,"files/".time().$file_name);
}

?> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-01-04T19:38:09.747

使用多个输入字段上传文件。

**HTML**

```
<form action="" method="post" enctype="multipart/form-data">
          <p><input type="file" name="file_array[]"></p>
          <p><input type="file" name="file_array[]"></p>
          <p><input type="file" name="file_array[]"></p>
          <input type="submit" value="Upload all files">
        </form> 
```

**PHP**

```
<?php
if(isset($_FILES['file_array'])){
    $name_array = $_FILES['file_array']['name'];
    $tmp_name_array = $_FILES['file_array']['tmp_name'];
    $type_array = $_FILES['file_array']['type'];
    $size_array = $_FILES['file_array']['size'];
    $error_array = $_FILES['file_array']['error'];
    for($i = 0; $i < count($tmp_name_array); $i++){
        if(move_uploaded_file($tmp_name_array[$i], "test_uploads/".$name_array[$i])){
            echo $name_array[$i]." upload is complete<br>";
        } else {
            echo "move_uploaded_file function failed for ".$name_array[$i]."<br>";
        }
    }
}
?> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-05-29T10:44:20.700

上传多个文件很容易，请按照以下步骤操作。

1.  使用数组表示法意味着方括号与输入的名称像这样
2.  `<input type="file" id="indtbl_logo[]" name="indtbl_logo[]" multiple />`
3.  您可以使用**$_FILES**全局变量循环遍历它

```
 foreach ($_FILES['indtbl_logo']['tmp_name'] as $key => $tmp_name) {
        $file_name = $key . $_FILES['indtbl_logo']['name'][$key];
        $file_size = $_FILES['indtbl_logo']['size'][$key];
        $file_tmp = $_FILES['indtbl_logo']['tmp_name'][$key];
        $file_type = $_FILES['indtbl_logo']['type'][$key]; 

        echo $file_name;
        echo "<br>"; 
    } 
```

# javascript - 如何找到具有可变长度的数字和数组的总和

> ID：15941594
> 
> 赞同：0
> 
> 时间：2013-04-11T05:51:07.113
> 
> 标签：javascript, arrays, math, addition

我相信另外，左右手可以互换，对吗？该规则似乎不适用于多模块逻辑。

**基本概念：**
    [1,2,3] + [4,5,6] = [5,7,9]

**不同长度相加：**
    [1,2,3] + [4,5] = [5,7, 7] 或 [[5,7],7]
    [1,2] + [3,4,5] = [9,6] 或 [10,6] 或 [4,6,6] 或 [[4, 6],6]
    *上面您可以看到不同的输出，具体取决于您查看逻辑的方式。当较小的数组超过其最大索引时，它会恢复到开始。在这种情况下，我还假设 LHS 的长度优先。但它也可以坚持更大的长度，甚至添加另一个模块。*

**多模和单数组合：**
    [1,2,3] + 1 = [2,3,4]
    1 + [1,2,3] = 7 or 9 or [2,3,4
    *]既然已经提出了其他想法，那么可以用不同的方式看待这个问题。*

我找不到任何关于这种逻辑的既定文档，所以任何帮助都会很棒。我在底部添加了当前脚本，当前优先于 LHS。我很容易在 LHS 的优先级和长度之间切换，我只是不确定哪种方式是正确的方式。

根据要求，我添加了以下示例背后的逻辑。每个示例遵循的主要规则是较小的数组将始终循环回到开头。

**已经建立了添加具有相同长度的组：**
[a,b,c] + [1,2,3] = [a+1, b+2, c+3]

**以下是不同长度的可能计算：**
[ a,b,c] + [1,2] = [a+2, b+2, c+1] 或 [[1+a, 1+c], 2+b]
[a,b] + [1 ,2,3] = [a+1+3, b+2] 或 [(a+1) + (a+3), b+2] 或 [a+1, b+2, a+3] 或[[a+1, a+3], b+2]
[a,b,c] + 1 = [a+1, b+1, c+1]
1 + [a,b,c] = (1 +a+b+c) 或 (1+a) + (1+b) + (1+c) 或 [1+a, 1+b, 1+c]

**JavaScript:**

```
var MMMath = Math;

// Multimodal add
MMMath.add = function () {
    switch (arguments.length) {
        case 0:
            return NaN;
        case 1:
            return arguments[0];
        default:
            var values = Array.prototype.slice.call(arguments);
            var arg1 = values[0];
            var arg2 = values[1];
            var length = arg1.length < arg2.length || arg1.length === undefined ? arg2.length : arg1.length;
            if (length === undefined) {
                length = 0;
                var sum = arg1 + arg2;
                if (values.length > 2) {
                    values = [sum].concat(values.slice(2, values.length));
                    return MMMath.add.apply(null, values);
                } else {
                    return sum;
                }
            } else {
                var lhsIsMulti = arg1.length !== undefined;
                var rhsIsMulti = arg2.length !== undefined;
                for (var i = 0; i < length; i++) {
                    var lhsPos = i;
                    var rhsPos = i;

                    // if max length goes beyond one array/object's boundaries, revert back to the start
                    if (arg1.length - 1 < lhsPos) {
                        lhsPos -= arg1.length;
                    }
                    if (arg2.length - 1 < rhsPos) {
                        rhsPos -= arg2.length;
                    }
                    if (lhsIsMulti) {
                        if (rhsIsMulti) { // a + 1
                            arg1[lhsPos] = MMMath.add(arg1[lhsPos], arg2[rhsPos]);
                        } else { // a + [1, 2]
                            arg1[lhsPos] = MMMath.add(arg1[lhsPos], arg2);
                        }
                    } else {
                        if (rhsIsMulti) { // [a, b] + 1
                            arg1 = MMMath.add(arg1, arg2[rhsPos]);
                        } else { // [a, b] + [1, 2]
                            arg1 = MMMath.add(arg1, arg2);
                        }
                    }
                }
                if (values.length > 2) {
                    values = [arg1].concat(values.slice(2, values.length));
                    return MMMath.add.apply(null, values);
                } else {
                    return arg1;
                }
            }
    }
}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T21:28:17.927

仍然包含冗余，但这是我想出的支持数组的脚本。

```
MMMath.add = function () {
    switch (arguments.length) {
        case 0:
            return NaN;
        case 1:
            return arguments[0];
        default:
            var values = Array.prototype.slice.call(arguments);
            var arg1 = values[0];
            var arg2 = values[1];
            var lhsIsSingular = arg1.length === undefined;
            var rhsIsSingular = arg2.length === undefined;
            var length = arg1.length < arg2.length || lhsIsSingular ? arg2.length : arg1.length;
            if (length === undefined) { // lhs is singular & rhs is singular
                var sum = arg1 + arg2;
                if (values.length > 2) {
                    values = [sum].concat(values.slice(2, values.length));
                    return MMMath.add.apply(null, values);
                } else {
                    return sum;
                }
            } else {
                var lhs = [arg1];
                var rhs = [arg2];
                if (!lhsIsSingular) {
                    lhs = arg1;
                    arg1 = 0;
                }
                if (!rhsIsSingular) {
                    rhs = arg2;
                    arg2 = 0;
                }
                for (var i = lhs.length; i < length; i++) {
                    lhs.push(arg1);
                }
                for (var i = rhs.length; i < length; i++) {
                    rhs.push(arg2);
                }
                for (var i = 0; i < length; i++) {
                    lhs[i] = MMMath.add(lhs[i], rhs[i]);

                }
                if (values.length > 2) {
                    values = [lhs].concat(values.slice(2, values.length));
                    return MMMath.add.apply(null, values);
                } else {
                    return lhs;
                }
            }
    }
}; 
```

# opencv - 将矩形扩大 100 像素

> ID：15941598
> 
> 赞同：2
> 
> 时间：2013-04-11T05:51:18.687
> 
> 标签：opencv

我在 C++ 中使用 OpenCV 2.4.4，并且我想让 Rect 放大 x 个像素。OpenCV 文档提供了[很好的示例](http://opencv.willowgarage.com/documentation/cpp/basic_structures.html)（查找“将矩形扩大或缩小一定量”）如何在图像[http://opencv.willowgarage.com/documentation/cpp/_images/math/a6f41031fb2ccaa600520bcbde63a8a9fcff9edf.png中使用它](http://opencv.willowgarage.com/documentation/cpp/_images/math/a6f41031fb2ccaa600520bcbde63a8a9fcff9edf.png)

凉爽的。唯一的问题我不知道如何在实际的 C++ 代码中输入它。我试过了：

矩形矩形=oldrect+-10；矩形矩形=oldrect-+10；和矩形rect=oldrect±10；（为了确定，我从[http://en.wikipedia.org/wiki/Plus-minus_sign](http://en.wikipedia.org/wiki/Plus-minus_sign)复制了这个符号。

我在其中任何一个上都遇到了丑陋的错误。

有人可以解释一下，我应该使用什么聪明的符号并且不可能包含在 HTML 中，所以它被嵌入为图像。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2016-07-09T00:07:23.440

如果您希望`Rect`在保持相同原点的同时扩展 （只需增加其`width`and `height`），您可以使用：

```
cv::Size inflationSize(20, 20);
myRect += inflationSize; 
```

这将为`width`和增加+20 `height`。如果您还想偏移`x`和`y`点并从各个方面实际膨胀矩形，您可以执行以下操作：

```
constexpr int inflation = 20;
myRect += cv::Point(-inflation/2, -inflation/2);
myRect += cv::Size(inflation, inflation); 
```

`cv::Rect`有`+`（和其他）运算符重载，这样如果它是 a`cv::Point`它将调整原点，如果它是 a`cv::Size`它将调整`width`and `height`。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-11T06:22:43.210

这就是 C++ 中“+=”的数学符号。您实际上并不直接使用 ± 。例如：

```
//make a rectangle that's 10x10 and centered at (0, 0)
cv::Rect rect(0, 0, 10, 10);
std::cout << "Original Rectangle: " << rect.area() << std::endl;

//manual addition to rectangle dimensions -- this will make bigger_rect be 20x20
cv::Rect bigger_rect = rect;
bigger_rect.height += 10;
bigger_rect.width += 10;
std::cout << "Bigger Rectangle: " << bigger_rect.area() << std::endl;

//other method of adding to a rectangle's area -- this will increase rect to be 20x20        
rect += cv::Size(10, 10);
std::cout << rect.area() << std::endl; 
```

因此，要执行将 10 添加到矩形的高度和宽度的示例，请将`±`符号视为等效于`+= cv::Size(width, height)`

嗯，你或多或少有正确的想法......

编辑：关于您的评论，我应该详细说明： rect += point, rect -= point, rect += size, rect -= size 是 4 个不同的操作，例如：

`rect += point`and `rect -= point`: 逐点移动矩形，其中 point 指的是一个`cv::Point`对象，即你可以将一个点声明为: `cv::Point pt(5, 5);`，然后如果你这样做`rect += pt`，它将移动矩形的 x 和 y 成员（默认情况下，这些是指矩形的左上角坐标）乘以 5 - 例如，它相当于做`rect.x += 5`and `rect.y += 5`。for 的情况`rect -= point`是相同的，尽管是减法而不是加法（so`rect.x -= 5`和`rect.y -= 5`）。

`rect += size`并且`rect -= size`会改变矩形的大小而不是它的坐标位置，这样`+=`会增加矩形区域并`-=`减少它。

# android - 更新生产版本后未显示 Android 地图。只显示地图图块？

> ID：15941601
> 
> 赞同：-1
> 
> 时间：2013-04-11T05:51:31.733
> 
> 标签：android

地图仅显示平铺视图。发布更新版本后地图不可见。

以下是发布到生产时清单文件版本控制更改的详细信息。

当我第一次发布生产版本时

```
versionCode = "1"
versionName = "1.0" 
```

地图工作正常。

但是，当我最近更新生产版本时，`keystore`该应用程序没有显示地图。

```
versionCode = "2"
versionName = "1.1" 
```

当我尝试调试应用程序时，我收到以下错误报告：

```
04-10 02:55:24.935: W/System.err(8509): IOException processing: 26
04-10 02:55:24.935: W/System.err(8509): java.io.IOException: Server returned: 3
04-10 02:55:24.940: W/System.err(8509):     at android_maps_conflict_avoidance.com.google.googlenav.map.BaseTileRequest.readResponseData(BaseTileRequest.java:115)
04-10 02:55:24.940: W/System.err(8509):     at android_maps_conflict_avoidance.com.google.googlenav.map.MapService$MapTileRequest.readResponseData(MapService.java:1473)
04-10 02:55:24.940: W/System.err(8509):     at android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher.processDataRequest(DataRequestDispatcher.java:1117)
04-10 02:55:24.945: W/System.err(8509):     at android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher.serviceRequests(DataRequestDispatcher.java:994)
04-10 02:55:24.945: W/System.err(8509):     at android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher$DispatcherServer.run(DataRequestDispatcher.java:1702)
04-10 02:55:24.945: W/System.err(8509):     at java.lang.Thread.run(Thread.java:856) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T16:40:54.290

熔岩。有许多权限和其他组件是必需的，我假设更改版本也会影响应用程序是否符合您在创建此权限所依赖的 API 项目时在 Google 创建的列表。

例如…….apk 文件中生成的密钥不会更改，但是……如果您更改了包名称，则必须将其添加到 Google 的 API 项目中。我有三个包都使用相同的调试密钥签名并使用相同的 API 密钥。您将限定的包名称附加到 SHA-1 密钥的末尾，以使该包能够使用相同的 API 密钥。

这是我的清单的样子，少了我的应用程序的细节......我使用的是 MapFragment 而不是 MapView......

```
<?xml version="1.0" encoding="utf-8"?>

<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="your.package.name"
    android:versionCode="1"
    android:versionName="1.0" >

    <permission android:name="your.package.name.permission.MAPS_RECEIVE"
                android:protectionLevel="signature" />

    <uses-permission android:name="your.package.name.permission.MAPS_RECEIVE" />
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />

    <uses-feature android:glEsVersion="0x00020000"
                  android:required="true" />

    <uses-sdk
        android:minSdkVersion="12"
        android:targetSdkVersion="17" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name="your.package.name.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <meta-data android:name="com.google.android.maps.v2.API_KEY"
                   android:value="your API KEY" />
    </application>

</manifest> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:34:26.437

请试试：

```
 <uses-permission android:name="android.permission.INTERNET" />

       outside<application></application> 
```

*   将您的发布密钥复制到某处更改密钥库密码/密钥

*   密码和密钥别名按照此处的说明将
    Eclipse 的首选项 -> Android -> 构建 -> 自定义密钥库设置更改为步骤 1 中文件的路径。

完毕！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T06:05:59.123

您使用的是默认的 api 密钥吗？

使用您的证书获取 API 密钥。

# php - 返回标头时如何解析curl响应

> ID：15941604
> 
> 赞同：0
> 
> 时间：2013-04-11T05:51:52.727
> 
> 标签：php, xml, parsing, curl, xml-parsing

所以我想要做的是解析响应中的每个“节点”，因为没有更好的词。它应该回显“标签”，后跟“：”，然后是值。我尝试过的是“代码”部分。当前代码返回的内容位于“响应”部分。我正在尝试从其他代码中学习，这就是“用于调试和认证目的的显示标题/正文/响应”代码的来源。我只是想修改它以在解析后的 rawResponse 明显不响应时回显它。

## **回复：**

```
 headers:
    body:
    rawResponse:AC700000005332001VI4788250000028291sBn551664C1A088C3242DF9CD5C92D52A8FA9EDD532D10100 N097857Approved00N013731
    OrderID: sBn5
    TxRefNum: 51664C1A088C3242DF9CD5C92D52A8FA9EDD532D
    RespCode: 00
    AVSRespCode: 
    CVV2RespCode: N
    AuthCode: 097857 
```

## **代码：**

```
<?php

$xml_data = "<Request><NewOrder>";
$xml_data .= "<IndustryType>EC</IndustryType>";
$xml_data .= "<MessageType>AC</MessageType>";
$xml_data .= "<BIN>000002</BIN>";
$xml_data .= "<AccountNum>".$varCC."</AccountNum>";
$xml_data .= "<Exp>".$varExpiry."</Exp>";
$xml_data .= "<CardSecVal>".$varCVV."</CardSecVal>";
$xml_data .= "<OrderID>sBn5</OrderID>";
$xml_data .= "<Amount>".$varAmt."</Amount>";
$xml_data .= "</NewOrder></Request>";   

$URL = "https://orbitalvar1.paymentech.net";

// Build header as array for cURL option
$header = "POST /AUTHORIZE HTTP/1.0\r\n";
$header.= "MIME-Version: 1.0\r\n";
$header.= "Content-type: application/PTI46\r\n";
$header.= "Content-length: ".strlen($xml_data)."\r\n";
$header.= "Content-transfer-encoding: text\r\n";
$header.= "Request-number: 1\r\n";
$header.= "Document-type: Request\r\n";
$header.= "Interface-Version: Test 1.4\r\n";
$header.= "Connection: close \r\n\r\n";              
$header.= $xml_data;   

// Define cURL options, then connect to server while saving response
$ch = curl_init();

curl_setopt($ch, CURLOPT_URL,$URL);

curl_setopt($ch, CURLOPT_HEADER, false); 
curl_setopt($ch, CURLOPT_FRESH_CONNECT, TRUE);
curl_setopt($ch, CURLOPT_CUSTOMREQUEST, $header);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 1);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

$rawResponse = curl_exec($ch);             

if (curl_errno($ch)) {
   print curl_error($ch);
} else {
   curl_close($ch);
}

/////////////////////////////////////////////////////////////////////////////
// Display headers / body / response for debugging and certification purposes
/////////////////////////////////////////////////////////////////////////////
echo "headers:<BR>\n";
foreach($header as $value) echo "&nbsp;&nbsp;&nbsp;$value<BR>\n";
echo "<BR>body:<BR>\n&nbsp;&nbsp;&nbsp;$body<BR><BR><HR>\n";
echo "<BR>rawResponse:<BR>\n&nbsp;&nbsp;&nbsp;$rawResponse<BR><BR>\n";

// Parse rawResponse XML to response array, then only display important values
$parser = xml_parser_create('UTF-8');
xml_parse_into_struct($parser, $rawResponse, $response);
//var_dump($response);
foreach($response as $value){
    switch($value["tag"]){
        case "ORDERID": echo "OrderID: ".$value["value"]."<BR>\n"; break;
        case "RESPCODE": echo "RespCode: ".$value["value"]."<BR>\n"; break;
        case "AVSRESPCODE": echo "AVSRespCode: ".$value["value"]."<BR>\n"; break;
        case "CVV2RESPCODE": echo "CVV2RespCode: ".$value["value"]."<BR>\n"; break;
        case "TXREFNUM": echo "TxRefNum: ".$value["value"]."<BR>\n"; break;
        case "AUTHCODE": echo "AuthCode: ".$value["value"]."<BR>\n"; break;
    }
}unset($value);
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T06:08:25.460

您需要将 http 标头与 http 正文分开。这是一个`"\r\n\r\n"`sting。所以你可以像这样找到它：

```
$p = strpos($rawResponse, "\r\n\r\n");
if( $p !== false ) {
    $rawHeades = substr($rawResponse, 0, $p);
    $rawBody = substr($rawResponse, $p + 4);
} 
```

然后你需要一些东西`print curl_error($ch);`- 在这种情况下， $rawResponse 中没有任何真实数据

# node.js - Node.js、Express、Jade - 单独的布局文件

> ID：15941607
> 
> 赞同：0
> 
> 时间：2013-04-11T05:52:17.277
> 
> 标签：node.js, express, pug

我正在使用 Node.js、Express 和 Jade 开发一些项目，我想在其中分离布局文件。主文件内部已经是单独的标题，但我不知道如何为需要传递数据的子布局执行此操作。在这种情况下，我需要为页面上的每个视图将数据传递给小部件，但是在路由中将数据加载到小部件中的东西太多，而不是我正在寻找的一些简单的解决方案。

我可以按照我上面描述的方式来做这件事——在每个请求中加载视图中的数据，但这在某种程度上是耗时和 cpu 消耗的。我正在考虑的另一种方法是为小部件创建一些子布局，我将在其中加载一次数据，然后一直可用，而无需在所有请求中从数据库调用数据。最好的方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T10:31:38.883

我使用*mustache*，但我认为您可以使用与我类似的策略。在我使用的大多数 mustache 模板中，都有一个通用的页眉和页脚部分。连同脚本和 css 文件。我创建了一个单独的部分文件导出*这些*部分。例如，我的部分文件如下所示。

```
exports.partials = function (isAuthenticated)
{
    var menu;

    isAuthenticated ?
     menu = {
         header: '',
         footer: ' '
     } :
    menu = {
        header: '',
        footer: ''
    }
    return menu;
};
exports.staticResources = {
     bootstrap :'//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css',
     fonts : '//netdna.bootstrapcdn.com/font-awesome/3.0/css/font-awesome.css',
     jquery : '//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js'        
}; 
```

我有另一种名为 generatePartials 的方法，顾名思义，它为我的模板生成部分

```
exports.generatePartials = function(isAuthenticated){   
var menu = resources.partials(isAuthenticated);
var partials = {
    header : menu.header,
    footer : menu.footer,
    bootstrap : resources.staticResources.bootstrap,
    fonts :resources.staticResources.fonts,
    jquery :resources.staticResources.jquery,
};
return partials;
}; 
```

现在在渲染模板时，我要做的就是这个

```
app.get('/routeName',function (req, res){
var partials = require('../helpers').generatePartials(req.isAuthenticated());
return res.render('viewName.html', partials);
}; 
```

就是这样。

# mysql - Hibernate QueryImpl.list 优化

> ID：15941608
> 
> 赞同：0
> 
> 时间：2013-04-11T05:52:27.780
> 
> 标签：mysql, hibernate, query-optimization, hql

我有一个包含 144 条记录（行）的任务表。我正在使用普通的选择查询获取所有记录，但是 JProfiler 报告的方法所花费的时间对于这么少量的数据来说太多了。

[这](https://lh6.googleusercontent.com/-ImngNxeKFL4/UWZQj3WQvwI/AAAAAAAAAnw/lXXlOjr8aK8/w1499-h428-p-o/jprofiler.png)是 JProfiler 的快照。

我担心的是**org.hibernate.impl.QueryImpl.list**花费的时间。当我在数据库工具中运行正常的 sql 查询时，获取所有记录需要 0.016 秒，但这里需要更多时间。

我怎样才能减少这段时间以及减少到什么程度？这真的可以减少吗？或者大约 3 秒可以吗？

使用的数据库是MySql。

下面是获取日期的方法

```
public List<Backlog> findBacklogList() {
    Query query = (Query) getSession().createQuery("from Backlog");
    List<Backlog> backlogList = (List<Backlog>) query.list();
    return backlogList;
} 
```

下面是积压的 Pojo

```
public class Backlog implements Serializable {

/**
 * 
 */
private static final long serialVersionUID = 1L;
private Long taskId;
private String taskName;
private TaskType taskType;
private Member createdBy; // String
private Date createdDate;
private Member updatedBy; // String
private Date updatedOn;
private Status status;
private Priority priority;
private String approved;
private Member completedBy;
private Member ownedBy;
private BacklogGroup group;
private Set<OtherPeople> otherPeople;
private String activeStatus;
private String statusChanged;
private String description;
private Date expectedEndDate;

/**
 * @return the taskId
 */
@Id
@GeneratedValue(strategy = GenerationType.AUTO)
@Column(name = "taskid", nullable = false, unique = true, insertable = false)
public Long getTaskId() {
    return taskId;
}

/**
 * @param taskId
 *            the taskId to set
 */
public void setTaskId(Long taskId) {
    this.taskId = taskId;
}

/**
 * @return the taskName
 */
@Column(name = "taskname", nullable = false, unique = true)
public String getTaskName() {
    return taskName;
}

/**
 * @param taskName
 *            the taskName to set
 */
public void setTaskName(String taskName) {
    this.taskName = taskName;
}

/**
 * @return the taskType
 */
@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = "tasktype", referencedColumnName = "id", nullable = false)
public TaskType getTaskType() {
    return taskType;
}

/**
 * @param taskType
 *            the taskType to set
 */
public void setTaskType(TaskType taskType) {
    this.taskType = taskType;
}

/**
 * @return the createdDate
 */
@Column(name = "createdDate", nullable = false)
public Date getCreatedDate() {
    return createdDate;
}

/**
 * @param createdDate
 *            the createdDate to set
 */
public void setCreatedDate(Date createdDate) {
    this.createdDate = createdDate;
}

/**
 * @return the updatedBy
 */
@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = "updatedBy")
public Member getUpdatedBy() {
    return updatedBy;
}

/**
 * @param updatedBy
 *            the updatedBy to set
 */
public void setUpdatedBy(Member updatedBy) {
    this.updatedBy = updatedBy;
}

/**
 * @return the updatedOn
 */
@Column(name = "updatedOn")
public Date getUpdatedOn() {
    return updatedOn;
}

/**
 * @param updatedOn
 *            the updatedOn to set
 */
public void setUpdatedOn(Date updatedOn) {
    this.updatedOn = updatedOn;
}

/**
 * @return the status
 */
@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = "status", referencedColumnName = "id", nullable = false)
public Status getStatus() {
    return status;
}

/**
 * @param status
 *            the status to set
 */
public void setStatus(Status status) {
    this.status = status;
}

/**
 * @return the priority
 */
@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = "priority", referencedColumnName = "id", nullable = false)
public Priority getPriority() {
    return priority;
}

/**
 * @param priority
 *            the priority to set
 */
public void setPriority(Priority priority) {
    this.priority = priority;
}

/**
 * @return the approved
 */
@Column(name = "approved")
public String getApproved() {
    return approved;
}

/**
 * @param approved
 *            the approved to set
 */
public void setApproved(String approved) {
    this.approved = approved;
}

/**
 * @return the completedBy
 */
@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = "completedBy")
public Member getCompletedBy() {
    return completedBy;
}

/**
 * @param completedBy
 *            the completedBy to set
 */
public void setCompletedBy(Member completedBy) {
    this.completedBy = completedBy;
}

/**
 * @return the otherPeople
 */
@OneToMany(mappedBy = "task", cascade = CascadeType.ALL, fetch = FetchType.LAZY)
public Set<OtherPeople> getOtherPeople() {
    return otherPeople;
}

/**
 * @param otherPeople
 *            the otherPeople to set
 */
public void setOtherPeople(Set<OtherPeople> otherPeople) {
    this.otherPeople = otherPeople;
}

/**
 * @return the group
 */
@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = "groupid", referencedColumnName = "id", nullable = false)
public BacklogGroup getGroup() {
    return group;
}

/**
 * @param group
 *            the group to set
 */
public void setGroup(BacklogGroup group) {
    this.group = group;
}

/**
 * @return the createdBy
 */
@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = "createdBy", nullable = false)
public Member getCreatedBy() {
    return createdBy;
}

/**
 * @param createdBy
 *            the createdBy to set
 */
public void setCreatedBy(Member createdBy) {
    this.createdBy = createdBy;
}

/**
 * @return the activeStatus
 */
@Column(name = "activeStatus")
public String getActiveStatus() {
    return activeStatus;
}

/**
 * @param activeStatus
 *            the activeStatus to set
 */
public void setActiveStatus(String activeStatus) {
    this.activeStatus = activeStatus;
}

/**
 * @return the statusChanged
 */
@Column(name = "statusChanged")
public String getStatusChanged() {
    return statusChanged;
}

@Column(name = "expectedEndDate")
public Date getExpectedEndDate() {
    return expectedEndDate;
}

public void setExpectedEndDate(Date expectedEndDate) {
    this.expectedEndDate = expectedEndDate;
}

/**
 * @param statusChanged
 *            the statusChanged to set
 */
public void setStatusChanged(String statusChanged) {
    this.statusChanged = statusChanged;
}

/**
 * @return the description
 */
@Column(name = "description", length = 5000)
public String getDescription() {
    return description;
}

/**
 * @param description
 *            the description to set
 */
public void setDescription(String description) {
    this.description = description;
}

/**
 * @return the ownedBy
 */
@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = "ownedBy", nullable = false)
public Member getOwnedBy() {
    return ownedBy;
}

/**
 * @param ownedBy the ownedBy to set
 */
public void setOwnedBy(Member ownedBy) {
    this.ownedBy = ownedBy;
}

/*
 * (non-Javadoc)
 * @see java.lang.Object#hashCode()
 */
@Override
public int hashCode() {
    final int prime = 31;
    int result = 1;
    result = prime * result + ((taskId == null) ? 0 : taskId.hashCode());
    return result;
}

/*
 * (non-Javadoc)
 * @see java.lang.Object#equals(java.lang.Object)
 */
@Override
public boolean equals(Object obj) {
    if (this == obj) {
        return true;
    }
    if (obj == null) {
        return false;
    }
    if (!(obj instanceof Backlog)) {
        return false;
    }
    Backlog other = (Backlog) obj;
    if (taskId == null) {
        if (other.taskId != null) {
            return false;
        }
    } else if (!taskId.equals(other.taskId)) {
        return false;
    }
    return true;
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T07:00:12.287

在使用 Hibernate 时减少获取数据所需时间的第一件事是尽可能使用延迟加载。

```
@ManyToOne(fetch = FetchType.EAGER)// This will take more time 
```

如果可能，在您的 pojo 中将 EAGER 加载更改为 LAZY。

```
@ManyToOne(fetch = FetchType.LAZY) 
```

另一件事是启用打印 Hibernate 执行的查询，在那里您可以看到执行了多少实际查询来获取单个对象。

您可以通过在 hibernate 配置中将 hibernate.show_sql 属性设置为 true 来做到这一点。

```
<property name="show_sql">true</property> 
```

[您可以在此处](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html)阅读有关休眠优化的更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T05:57:11.093

我的猜测是查询也会获取所有相关数据，例如 otherPeople 集，它可能很大。尝试激活休眠 sql 日志记录以查看实际执行了哪些语句。如果您为每个结果行（甚至多个）获得一个单独的子查询，您可能会遇到问题。考虑不要急切地获取或设置一些与 FetchJoin 的关系，以便数据立即连接，如果您知道您将需要它。如果您不需要数据，请不要选择它。有时，如果您对大量结果感兴趣但只对其中的一小部分数据感兴趣（例如，对于概览列表），那么构建一个额外的对象仅用于查询也是一个好主意。

# objective-c - 学习Objective-C的困难。“错误预期标识符”@interface。（我是 Obj-C 的新手）

> ID：15941613
> 
> 赞同：-5
> 
> 时间：2013-04-11T05:52:51.087
> 
> 标签：objective-c

我的代码：

```
#import <Foundation/Foundation.h>

int main(int argc, const char * argv[])
{

    @autoreleasepool {

        NSLog(@"Hello, World!");

    }
    return 0;
}

@interface <# class name #> : <# superclass #>

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T05:58:20.430

给你的一些注意事项：

• 确保文件名具有扩展名 .m 或 .mm

• 在目标->构建设置->将源编译为：根据文件类型

我认为 SO 不是您提出这种简单问题的好地方。您可能会为此获得解决方案，然后您将来会遇到大量类似的错误。

所以最好先在正确的地方学习 Obj.C。

• [https://developer.apple.com/](https://developer.apple.com/)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-11T06:06:55.050

只需删除以下代码并尝试再次构建（command + B）并检查错误

@interface <# class name #> : <# superclass #>

@结尾

# php - 我可以指定使用 MPDF 生成的 pdf 的宽度吗

> ID：15941617
> 
> 赞同：0
> 
> 时间：2013-04-11T05:53:13.897
> 
> 标签：php, pdf, mpdf

是否可以设置我正在做的页面的宽度，或者它是否具有所有生成页面的标准宽度？

我正在使用带有`css`具有特定宽度的包装器的文件的布局，但是当生成 PDF 时，文件的宽度不是我在 css 中指定的宽度。

我是否必须使宽度更小，还是可以在将文档创建为参数时指定它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:59:59.997

查看产生的mpdf[文档](http://mpdf1.com/manual/index.php?tid=184)

```
new mPDF('', 'Letter', 0, '', 12.7, 12.7, 14, 12.7, 8, 8); 
```

PDF 文件需要指定纸页宽度——这就是你必须给它的。`'Letter'`您可以通过替换为它指定以 mm 为单位的宽度`array(x, y)`。

# jbpm - JBPM 5 - 如何从 TaskService 取消注册任务事件处理程序

> ID：15941618
> 
> 赞同：0
> 
> 时间：2013-04-11T05:53:19.020
> 
> 标签：jbpm

当创建/加载有状态知识会话时，工作项处理程序会向其注册。

Human-task work-item-handler 依次为 TaskService 注册事件响应处理程序。

在一个场景中，每个流程实例使用一个会话（每个流程实例一个会话）和一个单例 TaskService，如何从 TaskService 取消注册任务事件响应处理程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T00:17:03.177

您应该处理您的处理程序： [https ://github.com/droolsjbpm/jbpm/blob/5.4.0.Final/jbpm-human-task/jbpm-human-task-core/src/main/java/org/jbpm/进程/工作项/wsht/GenericHTWorkItemHandler.java#L165](https://github.com/droolsjbpm/jbpm/blob/5.4.0.Final/jbpm-human-task/jbpm-human-task-core/src/main/java/org/jbpm/process/workitem/wsht/GenericHTWorkItemHandler.java#L165)

# c# - 是否选择 WPF（浏览器应用程序）或 Silverlight

> ID：15941620
> 
> 赞同：1
> 
> 时间：2013-04-11T05:53:43.013
> 
> 标签：c#, wpf, silverlight

我深入研究了 WPF（浏览器应用程序）和 Silverlight 应用程序环境，以了解哪个最适合 Web 开发。我搜索了许多门户网站，说 WPF 适合窗口窗体和 Silverlight 网络。我还在不同的浏览器上测试了我的 WPF Web 应用程序，并遇到了除 IE 浏览器之外的数千个浏览器插件问题。据我所知，Silverlight 是 WPF 的子方，这意味着与 WPF 相比，SL 的功能更少。现在我想弄清楚哪种做法最适合 Web 开发，为什么？？？？？？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T09:08:50.063

Silverlight 已停产，因此请勿将其用于任何重要的事情。如果您想要那种显示技术，请使用 WPF，或者使用带有 C# 或 Javascript 的 Metro

# android - android通知总是重新启动活动

> ID：15941632
> 
> 赞同：0
> 
> 时间：2013-04-11T05:55:43.163
> 
> 标签：android, notifications, android-4.2-jelly-bean

第一次在这里发帖，请原谅我的冗长帖子 - 我想提供所有必要的信息。

我正在尝试通过单击通知功能来实现梦寐以求的简历，但我遇到了一些困难。首先，详细信息（下面的代码）：

1.  项目属性

    ```
    Android Developer Tools Build: v21.1.0-569685
    Project Build Target : 4.2.2
    Platofrm : 4.2.2
    API Level : 17
    SDK Target : 17
    SDK min : 14

    Android Device Chooser : Android Device : Nexus 4 
    ```

2.  *MyApp*通过 startService启动*MyAppService*
3.  *MyAppService*的 onStartCommand 函数使用 NotificationCompat.Builder 对象在下拉通知中创建一个栏。

我试图实现的行为：

1.  启动带有通知栏条目的应用程序（例如邮件）
2.  启动 MyApp（这也将启动 MyAppService）
3.  下拉通知栏并选择 MyAppService（是的，MyApp 当前在屏幕上
4.  通知栏应该卷起来而不做任何事情

我注意到的是 MyApp 将最小化，而 MyApp 的新实例将最大化（类似于启动应用程序时的过渡）。当我在顶部有邮件应用程序（邮件应用程序最小化和 MyApp 最大化）时，我希望在 MyAppService 上选择这种行为。

有很多代码片段和建议，但我似乎无法让它工作；所以这是我的文件的内容：

AndroidManifest.xml

```
<application
    android:allowBackup="true"
    android:icon="@drawable/eyeview"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >

    <activity
        android:name="com.example.MyApp.MainActivity"
        android:label="@string/app_name"
        android:launchMode="singleTop"
        >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>

    <service
        android:name=".service.MyAppService"
        android:label="MyAppService">
    </service>
</application> 
```

MyApp/MainActivity.java

```
public static Intent serviceIntent;
public static Messenger clientMessenger;

@Override
protected void onCreate(Bundle savedInstanceState)
{
    super.onCreate(savedInstance);

    if (getIntent().getFlags() & Intent.FLAG_ACTIVITY_BROUGHT_TO_FRONT)
    {
        finish();
        return;
    }

    setContentView(R.layout.activity_main);

    ...
    [stuff specific to app, like setting up Fragments]
    ...

    MainActivity.serviceIntent = new Intent(this, MyAppService.class);
    MainActivity.serviceIntent.putExtra("clientMessenger", clientMessenger);
    startService(MainActivity.serviceIntent);
} 
```

MyAppService.java

```
@Override
private int onStartCommand(Intent intent, int flags, int startId)
{
    NotificationCompat.Builder ncB = new NotificationCompat.Builder(getApplicationContext())
        .setSmallIcon(R.drawable.icon_app)
        .setContentTitle("MyAppService")
        .setSmallIcon(R.drawable.app);

    ncB.setContentText("Click to start MyApp");

    Intent nIntent = new Intent(getApplicationContext(), MainActivity.class);
    nIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);
    nIntent.setAction(Intent.ACTION_MAIN);

    TaskStackBuilder stackBuilder = TaskStackBuilder.create(getApplicationContext());
    stackBuilder.addNextIntent(nIntent);
    PendingIntent resultPendingIntent = stackBuilder.getPendingIntent(0, PendingIntent.FLAG_UPDATE_CURRENT);

    notificationBuilder.setContentIntent(resultPendingIntent);
    NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);

    int nId = 1;
    Notification notification = ncB.build();
    notification.flags = Notification.FLAG_ONGOING_EVENT | Notification.FLAG_NO_CLEAR;

    notificationManager.notify(nId, notification); 

    sendMessengerToClient(intent);

    startForeground(nId, ncB.build());

    return Service.START_NOT_STICKY;
} 
```

我希望我包含了所有足够的信息-我一直在调整从 SO 获得的代码，只是为了看看这是否可行-在每种情况下，最上面的应用程序都会最小化为黑屏，而 MyApp 会最大化，而 MainActivity.java 的 onCreate函数被调用。

如果 MyApp 已经是最上面的，我只想让通知下拉菜单向上滚动。

提前致谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-10T13:03:09.983

```
Intent notificationIntent = new Intent(this, MainActivity.class);
notificationIntent.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);
PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, 
    notificationIntent, PendingIntent.FLAG_UPDATE_CURRENT);
mBuilder.setContentIntent(pendingIntent); 
```

通过设置`PendingIntent.FLAG_UPDATE_CURRENT`和`Intent.FLAG_ACTIVITY_SINGLE_TOP`标志，我猜你可以实现这一点。如果它已经在运行，它将不会创建您的活动。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-05-14T09:35:53.313

就我而言，Shashika 的答案有效，但以一种奇怪的方式。我不得不重新启动电话！:)

# jquery - jQuery 在哪里得到？

> ID：15941634
> 
> 赞同：0
> 
> 时间：2013-04-11T05:55:50.300
> 
> 标签：jquery

我正在使用`getJSON`，但它没有按我预期的方式工作，甚至`WebService`被`xml`认为特别指定为`ResponseFormat = ResponseFormat.JSON`. 在互联网上阅读了一些帖子后，我发现问题`getJSON`不会设置`contentType`为`application/json; charset=utf8`，而是让它成为默认值。我通过调用`$.ajax`和设置`contentType`来验证它`application/json; charset=utf8`。所以我想研究一下`jQuery-1.9.1.js`，看看是如何`getJSON`实现的。这是文件中的确切签名...

```
getJSON: function( url, data, callback ) {  // line 8107 as of 1.9.1.js
    return jQuery.get( url, data, callback, "json" );
} 
```

所以，我进一步寻找如何`jQuery.get`实现。但令我最惊讶的是，我找不到任何东西？？？我看了很多次，但`get`文件中没有定义接受`4`或更多参数？这怎么可能？如果未定义，如何调用`get`和扩展`getJSON`（以及）？`getScript`任何人都可以检查并验证这一点吗？

ps：请不要告诉我我可以使用`ajaxSetup`etc. 并且还有其他方法可以做到，我知道，但让我感到困惑的是，我找不到`jQuery.get`定义，那么它是如何以及从哪里调用的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T05:59:46.587

[`ajax.js`](https://github.com/jquery/jquery/blob/master/src/ajax.js#L197-214)文件的第 197 行是定义`get`和`post`函数的地方：

```
jQuery.each( [ "get", "post" ], function( i, method ) {
    jQuery[ method ] = function( url, data, callback, type ) {
        // shift arguments if data argument was omitted
        if ( jQuery.isFunction( data ) ) {
            type = type || callback;
            callback = data;
            data = undefined;
        }

        return jQuery.ajax({
            url: url,
            type: method,
            dataType: type,
            data: data,
            success: callback
        });
    };
}); 
```

如您所见，他们只是在调用该`jQuery.ajax`方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T06:00:43.727

看看：[https ://github.com/jquery/jquery/blob/master/src/ajax.js](https://github.com/jquery/jquery/blob/master/src/ajax.js)

特别是第 197-214 行。

他们穿过`get`并`post`到达`jQuery.ajax()`

# android - 如何为适配器视图中的复选框添加侦听器，Android，ArrayAdapter，onCheckedChanged，OnCheckedChangeListener

> ID：15941635
> 
> 赞同：10
> 
> 时间：2013-04-11T05:56:03.603
> 
> 标签：android, listener, adapter, android-arrayadapter, oncheckedchanged

![在此处输入图像描述](https://i.stack.imgur.com/lAOuU.png)

我有一个 listView，它通过 ArrayAdapter 填充了小的 xml 子视图。每个小视图里面只有两个东西，一个复选框和一个字符串标签。

我想设置一个 onCheckedChanged 监听器来捕获用户选中或取消选中复选框的事件。

例如这里显示的监听器：

```
 listView.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {

 @Override
 public void onCheckedChanged(CompoundButton buttonView,boolean isChecked) {

 Toast.makeText(this, "box has been checked", Toast.LENGTH_SHORT).show();

 } 
```

}

我在哪里放置监听器代码？我该如何设置？

ArrayAdapter 的代码：

```
 public class MobileArrayAdapter extends ArrayAdapter<CheckBoxInfo>{
    CheckBoxInfo[] objects;
    Context context;
    int textViewResourceId;

    public MobileArrayAdapter(Context context, int textViewResourceId,
        CheckBoxInfo[] objects) {
        super(context, textViewResourceId, objects);
        this.context = context;
        this.textViewResourceId = textViewResourceId;
        this.objects = objects;

    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        View row_layout_view = convertView;

            if ((row_layout_view == null)){

                LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                row_layout_view = inflater.inflate(R.layout.row_layout, null);
            }   

          //CheckBoxInfo item = objects.get(position);  // for arrayList
            CheckBoxInfo item = objects[position];

            if(item != null){

            TextView textView = (TextView) row_layout_view.findViewById(R.id.textView1);
            CheckBox checkBox = (CheckBox) row_layout_view.findViewById(R.id.checkBox1);

            if(item !=null){
            textView.setText(item.checkBoxName);
            checkBox.setChecked(item.checkBoxState);
               }
            }
            return row_layout_view;
    }

} 
```

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-04-11T06:01:03.180

不要使用您的示例`listView.setOnCheckedChangeListener`或`onCheckedChanged`代码。

首先，对于`CheckBox`，您应该使用`setOnClickListener()`代替`setOnCheckedChangeListener()`。您可以在函数内部获取选中状态`onClick()`。

其次，将您的列表适配器`setOnClickListener()`的功能放在里面。`getView()`

**示例**：

```
checkBox.setOnClickListener(new OnClickListener() {
    @Override
    public void onClick(View arg0) {
        final boolean isChecked = checkBox.isChecked();
        // Do something here.
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-03-23T14:07:42.393

谢谢大卫！关于 HukeLau_DABA 评论，我通过使用 OnClickListener() 中的 CheckBox 值更新列表视图对象来解决它。就我而言，我有一个地点列表，如下面的代码所示：

```
holder.placeCheckBox.setOnClickListener(new View.OnClickListener() {

       //please note that objPlace, position and holder must be declared 
       //as final inside the getView() function scope.   
          @Override
          public void onClick(View arg0) {
                final boolean isChecked = holder.placeCheckBox.isChecked();
                if (isChecked){
                   objPlace.setItemChecked("yes");
                }else{
                   objPlace.setItemChecked("no");
                }

                placesList.set(position,objPlace); //  updating the list with the updated object

            }
      }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-11-23T07:42:54.203

不要在 onClickListener 中引用“holder.placeCheckBox”，您应该引用 onClick 传递的视图并将其转换为 CheckBox，因此代码应如下所示：

```
holder.placeCheckBox.setOnClickListener(new View.OnClickListener() {
      @Override
      public void onClick(View arg0) {
            boolean isChecked = ((CheckBox)arg0).isChecked();
            if (isChecked){
               objPlace.setItemChecked("yes");
            }else{
               objPlace.setItemChecked("no");
            }

            placesList.set(position,objPlace); //  updating the list with the updated object

        }
  }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-04-23T15:31:46.040

你可以试试这个：

```
holder.placeCheckBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {
    @Override
    public void onCheckedChanged(CompoundButton compoundButton, boolean b) {
        Log.d(TAG, "onCheckedChanged: " + holder.placeCheckBox.getText() + " " + (b ? "selected":"deselected"));
    }
}); 
```

# android - 如何通过 facebook 授权我的应用程序并使用 Facebook SDK 3.0 获取 facebook 用户信息

> ID：15941638
> 
> 赞同：0
> 
> 时间：2013-04-11T05:56:07.587
> 
> 标签：android, facebook-android-sdk

我可以通过集成 Facebook 最新的 SDK 即 3.0 从我的应用程序登录到 facebook 但现在我想获取用户信息，但我无法找到这样做的方法。我从谷歌和堆栈获得的所有链接都适用于旧版本的 facebook sdk。另外我想知道如何通过 facebook 授权应用程序。在旧版本中，我们通过以下方式进行：

Facebook facebook = 新的 Facebook(appId);

但是这些东西在 sdk 3.0 中被弃用了。

请任何人帮助我解决这些问题或提供具有良好教程或示例示例的链接！

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T14:13:43.017

一旦你有一个开放的会话，你就会执行一个新的**我**请求。

```
Session session = Session.getActiveSession();
if (session != null && session.isOpened()) {
        Request.executeMeRequestAsync(session, new Request.GraphUserCallback() {    
        @Override
        public void onCompleted(GraphUser user, Response response) {
            if (user != null) {
                if (response.getError() == null){
                    //Do what you want with the user object
                }
                else {
                    //Do something with the error
                }
            }
        }
    });
} 
```

正如[facebook 开发者页面](http://developers.facebook.com/docs/howtos/androidsdk/3.0/fetch-user-data/)上所说：“您可以访问的用户数据取决于用户授予您的应用程序的权限以及用户选择与应用程序共享的数据。” 因此，您必须针对所需的特定字段添加所需的权限。

对于应用程序授权，您应该遵循为 Android 版 Facebook SDK[创建 Facebook 应用程序部分](http://developers.facebook.com/docs/getting-started/facebook-sdk-for-android/3.0/)。但是，如果您已经有一个有效的登录名，则不需要进一步的操作。

# maven - 更改 jaxws-maven-plugin 生命周期

> ID：15941641
> 
> 赞同：0
> 
> 时间：2013-04-11T05:56:33.840
> 
> 标签：maven, jax-ws

我们想创建一个使用*jaxws-maven-plugin* *wsimport* 从 WSDL 生成 Java 类的项目。但是，我们希望将 wsimport 生命周期从默认*的 generate-sources*切换到*自定义*生命周期。我们怎么能做到这一点？

例如，我们希望能够通过调用像*wsimport-generate-sources这样的**自定义*阶段来手动调用*wsimport*插件。

 *** * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T12:38:16.570

`executions`您只需在 pom.xml 中的插件配置部分定义您希望插件执行的生命周期阶段。这是通过`<phase>`标签完成的。

因此，例如让 jaxws-maven-plugin 在`test`阶段执行，您只需执行以下操作：

```
<project>
  ...
    <build>
        <plugins>
            <plugin>
                <groupId>org.jvnet.jax-ws-commons</groupId>                    
                <artifactId>jaxws-maven-plugin</artifactId>
                <version>2.2</version>
                <executions>
                    <execution>
                         <id>myCustomExecution</id>
                         <goals>
                             <goal>wsimport</goal>
                         </goals>
                         <phase>test</phase>
                         <configuration>
                             ...                 
                         </configuration>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>
  ...
</project> 
```

更多细节可以在这里看到： [http ://maven.apache.org/guides/mini/guide-configuring-plugins.html#Using_the_executions_Tag](http://maven.apache.org/guides/mini/guide-configuring-plugins.html#Using_the_executions_Tag)**

# android - NFC 发送图像/jpeg

> ID：15941643
> 
> 赞同：0
> 
> 时间：2013-04-11T05:56:44.083
> 
> 标签：android, nfc, nfc-p2p

如何从使用 NFC 的应用程序发送图像/jpeg？根据 Android 文档，NdefRecord createMime 可以为我完成。我只使用 createUri 将 URL 传递给另一个 Android 设备。但我不确定如何开始将我的 jpeg/图像转换为 NdefRecord。看来我需要将其转换为字节。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T08:39:15.467

刚刚得到了我的问题的答案。我之前做的是：

```
Bitmap bmp = BitmapFactory.decodeResource(getResources(), R.drawable.image1);
ByteArrayOutputStream stream = new ByteArrayOutputStream();
bmp.compress(Bitmap.CompressFormat.PNG,100,stream);
byte[] byteArray = stream.toByteArray();

NdefMessage img = new NdefMessage(NdefRecord.createMime("Test Image", byteArray)); 
```

结果是字符串“测试图像”的标记结果。我所做的是将“**测试图像**”更改为“**图像/jpeg** ”，结果是在另一台设备上接收到图像。唯一的缺点是不到一个小时的测试，有时 2-3 KB 的图像需要大约 30 秒，与 30 KB 的图像相同。

# tinymce - mcimagemanager 跳转到最后一个文本区域

> ID：15941645
> 
> 赞同：1
> 
> 时间：2013-04-11T05:56:49.700
> 
> 标签：tinymce, mcimagemanager

我设置了 2 个使用 javascript:mcImageManager.open 的文本输入和 2 个加载 tinymce 富文本编辑器的 textarea。当我单击顶部的第一个文本输入并加载 imagemanager 时，无需执行任何操作，只需单击关闭按钮，光标将跳转到最后一个文本区域。

附上样例[http://imknight.webfactional.com/](http://imknight.webfactional.com/)，点击第一个文本输入图片图标 ，然后关闭它，光标跳转到最后一个文本区域。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T08:24:39.957

您的问题的答案是“不，我没有这个问题”。

您没有要求解决您的问题。

# android - Maps v2 为标记着色

> ID：15941657
> 
> 赞同：1
> 
> 时间：2013-04-11T05:57:38.360
> 
> 标签：android, android-maps-v2

我正在尝试`Marker`使用 Google Maps v2 进行着色。以下解决方案不起作用：

```
Drawable d = getResources().getDrawable(R.drawable.my_drawable);
d.setColorFilter(getResources().getColor(
    R.color.tint_color), Mode.MULTIPLY);
BitmapDescriptor bitmap = BitmapDescriptorFactory.fromBitmap(((BitmapDrawable) d).getBitmap());
myMap.addMarker(new MarkerOptions().icon(bitmap).position(latLon)); 
```

有没有替代的解决方案来`Markers`染色？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T08:01:05.037

问题是您正在为可绘制对象着色（实际上是在更改其绘制），但随后您传递了底层位图。在 Maps API（我不熟悉）之外解决此问题的一种方法是使用新的位图将 Drawable 绘制到 Canvas 上。

```
Bitmap filtered = Bitmap.createBitmap(d.getBitmap());
Canvas canvas = new Canvas(filtered);
d.draw(canvas); 
```

（这只是一个例子，它没有做任何错误处理 - 当 Android 给你返回相同的位图而不是新的位图时，你应该处理这种情况。它也没有处理边界）

# c# - 无法在 ServiceStack Mvc 应用程序中访问 IHttpRequest

> ID：15941659
> 
> 赞同：2
> 
> 时间：2013-04-11T05:57:42.643
> 
> 标签：c#, asp.net-mvc, servicestack

很抱歉我对网络堆栈缺乏了解，但这已经困扰了我几天。

我正在尝试弄清楚如何在 [https://github.com/ServiceStack/SocialBootstrapApi](https://github.com/ServiceStack/SocialBootstrapApi)示例的 Web 控制器中将 Request 作为 IHttpRequest 访问。

它目前是带有 ServiceStack 的 MVC PowerPack 的 MVC3 应用程序。我的请求总是解析为 System.Web.HttpRequest。我在 IHttpRequest 上创建了一个扩展方法来检查当前请求是否来自移动设备，但它永远不会被接收，因为我所有的请求都是 System.Web.HttpRequests 而不是 ServiceStack.ServiceHost.IHttpRequest。任何帮助都会很棒！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T22:51:12.980

你可以做类似的事情

```
var httpReq = System.Web.HttpContext.Current.ToRequestContext().Get<IHttpRequest>(); 
```

将来自 System.Web.HttpRequest 的请求转换为 ServiceStack.ServiceHost.IHttpRequest。

进入 SocialBootstrapApi 示例的控制器的请求不通过“ServiceStack 管道”。控制器确实[继承自 ServiceStackConroller](https://github.com/ServiceStack/ServiceStack/wiki/Sessions#typed-sessions-in-mvc)，但我认为它的目的是在 MVC 和 ServiceStack 之间共享会话数据。ServiceStackContoller 不会像一个请求那样接管请求/响应，`/api path`这在示例项目中完全由 ServiceStack 处理。

# websocket - 使用 stomp 运行 websocket 服务器

> ID：15941661
> 
> 赞同：0
> 
> 时间：2013-04-11T05:57:51.560
> 
> 标签：websocket, jrubyonrails, hornetq, stomp, torquebox

我的 jruby on Rails 应用程序中安装了扭矩箱。我正在尝试使用 stomp + websockets。但我不知道 websocket 服务器是否正在运行？我正在控制台中启动扭矩箱：`sudo torquebox run --clustered -b my.ip.address`

我一直在检查扭矩箱启动的输出，我看到的唯一相关输出是：

`[org.torquebox.stomp.as] Initializing TorqueBox STOMP Subsystem`

和

`[org.projectodd.polyglot.stomp.as] Initializing Polyglot STOMP Subsystem`

我没有看到任何引用端口 8675 的内容，根据文档，它是应该运行的端口。我也尝试了 telnet 并收到“连接被拒绝”的消息。

任何帮助或参考都会很棒。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:13:40.880

为愚蠢的问题道歉。我只是在我的 torquebox.yml 文件中有错字。我现在可以在启动时看到指定 websocket 服务器已启动的输出，并且我可以成功 telnet。

# java - 通过 File IO 操作读取一个字节

> ID：15941662
> 
> 赞同：0
> 
> 时间：2013-04-11T05:57:53.470
> 
> 标签：java, io

FileInputStream 的 read 方法每次都会读取 1 个字节，但它正在读取文件中的字符，因为 java 中的字符大小是（16 bit-2 Bytes）。是因为 read 方法是本机的，它会转换为 8 位吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T06:08:09.407

reader的`read`方法返回一个（等价于 a ），而不是一个字符。将结果转化为角色是您的责任。`FileInputStream``int``byte`

正如`FileInputStream`建议的 javadoc：“对于读取字符流，请考虑使用 FileReader”。

对字符进行编码的字节数取决于文件的编码。例如，如果文件是用 ASCII 编码的，那么每个字节就是一个字符，但如果你的文件是用 UTF-8 编码的，那么一个字符就是 1、2、3 或 4 个字节。

如果您想了解有关编码的更多信息，我建议您阅读以下文章：[每个软件开发人员绝对、肯定必须了解 Unicode 和字符集的绝对最低要求（没有借口！）](http://www.joelonsoftware.com/articles/Unicode.html)。

# javascript - 不能使用 $("#item_id").text 作为 $.get 回调函数？

> ID：15941670
> 
> 赞同：0
> 
> 时间：2013-04-11T05:58:21.687
> 
> 标签：javascript, jquery

现在我有了从 cgi-script 获取一些数据的代码。它完美地工作。

```
$.get('cgi/remote_user', function(data){
  $('#user_id').text(data);
}); 
```

但是如果我尝试设置`$('#user_id').text`为回调函数，它会失败`Uncaught TypeError: Illegal invocation`：

```
$.get('cgi/remote_user', $('#user_id').text); 
```

知道为什么吗？与..`$('#user_id').text`的功能相同`function(data) {}`

我怀疑这可能是无效的调用上下文，对吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:04:48.500

原因是当您获得对`text`函数的引用时，它不再附加到对象上。它将在全局上下文（窗口）而不是对象的上下文中调用。

您可以使用该`proxy`方法将函数绑定到上下文：

```
var user = $('#user_id');
$.get('cgi/remote_user', $.proxy(user.text), user); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:07:57.077

```
$.get('cgi/remote_user', $('#user_id').text); 
```

就像写：

```
var tmp = $('#user_id').text;
$.get('cgi/remote_user', tmp); 
```

这相当于

```
$.get('cgi/remote_user', $.fn.text); 
```

没有。`$('#user_id')`_`this`

你想要的是

```
$.get('cgi/remote_user', $.fn.text.bind($('#user_id'))); 
```

# jquery - 将选中的复选框值发送到另一个方法

> ID：15941676
> 
> 赞同：0
> 
> 时间：2013-04-11T05:58:44.223
> 
> 标签：jquery, checkbox

下面的代码块用于生成复选框

```
 $("#country").change(
    function() {

$('.container').empty();            
var item = $(this);
CtDataHandler.getCList(item.val(),{callback:function(data) {
for(var i=0; i<data.length; i++)
{
$('#cContainer').append('<input type="checkbox" class="ckbox" id = "'+ data[i].name +'" value="'+ data[i].name + '" /> ' + data[i].name + '<br />');
}
}, errorHandler:function(){
},async:false
});
}); 
```

我有一个单独的块来获取其 onchange 方法中检查值的值。因为我必须使用所选值调用单独的 dwr。

```
 $('.ckbox').click(function(){
 var  selectedValue=$("input.ckbox:checked").map( function(n){
 return this.value;
 }).get();
 alert(selectedValue.join(','));
 $('#selectedValue').append(selectedValue.join(','));
 }); 
```

选择值是空的！！！

JSP代码

```
<td width="1%"></td>
<td width="50%" valign="top" id="catTd">
<div class="container" id="cContainer">
</div></td> 
```

在此更改方法中获取选定的复选框值有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:34:51.683

试试这个

```
 //var selectedValue = new Array();
 $('#categoryContainer').on('click','.ckbox',function(){
   var  selectedValue=$("input.ckbox:checked").map(function(n){
          return this.value;
      }).get();
      alert(selectedValue.join(','));
      $('#selectedValue').append(selectedValue.join(','));

}); 
```

这会将 selectedvalue 逗号附加到`#selectedValue`元素中

**笔记：**

你错过了复选框的值属性

```
 $('#categoryContainer').append('<input type="checkbox" class="ckbox" id = "'+ data[i].name +'" value="'+ data[i].name + '" /> ' + data[i].name + '<br />'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:33:09.253

我看不到您在哪里为“selectedValue”分配值

它应该是：

```
$('#cContainer').on("click",".ckbox",function(){
    var selectedValue= new Array();
    $("input.ckbox:checked").each(function (){
         selectedValue.push($(this).val());
    });
    alert(selectedValue.join(','));
    $('#selectedValue').append(selectedValue.join(','));
 }); 
```

当我们使用 $.map 函数时，this 指的是窗口对象，而不是当前元素。还有一件事：

```
<input type="checkbox" class="ckbox"/> 
```

我也看不到价值在哪里。例如：

```
 <input type="checkbox" class="ckbox" value="abc"/> 
```

# ios - 在 afnetworking 中的 JSON 响应中出现错误

> ID：15941677
> 
> 赞同：0
> 
> 时间：2013-04-11T05:58:46.557
> 
> 标签：ios, afnetworking

我必须向需要 JSOn 的服务器发出发布请求。我正在使用以下代码发出请求：

```
 AFHTTPClient* httpClient = [[AFHTTPClient alloc] initWithBaseURL:[NSURL     URLWithString:SERVER_URL]];

     [httpClient setParameterEncoding:AFJSONParameterEncoding];
NSMutableURLRequest *jsonRequest = [httpClient requestWithMethod:@"POST" path:@"/"                    parameters:@{@"name":@"piggy"}];

    AFJSONRequestOperation *operation2 = [AFJSONRequestOperation JSONRequestOperationWithRequest:jsonRequest     success:^(NSURLRequest *request, NSHTTPURLResponse *response, id JSON) {

     NSLog(@"RECEIVED: %@  ", JSON);

} failure:^(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error, id JSON) {
    NSLog(@"Request Failed with Error: %@, %@", error, error.userInfo);
    //NSLog(@"GGG:%@",JSON);
}]; 
```

但我收到错误：

2013-04-11 11:07:40.089 连接

```
 Request Failed with Error: Error Domain=com.alamofire.networking.error Code=-1016 "Expected content type {(
    "text/json",
    "application/json",
    "text/javascript"
)}, got text/html" UserInfo=0xad8c6e0 {NSLocalizedRecoverySuggestion=
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-    transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml"> 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:06:16.750

错误消息对此进行了解释：您期望的是 JSON 响应，但实际响应是 HTML。它要么 1）您的 URL 错误，要么 2）您没有正确处理请求。

# c - Qsort 及其相关问题

> ID：15941680
> 
> 赞同：6
> 
> 时间：2013-04-11T05:59:03.210
> 
> 标签：c, sorting, qsort

以下是我的代码和 Qsort 产生奇怪的结果：

```
#include <stdio.h>
#include <stdlib.h>

char values[] = { 0x02,0x04,0x0b,0x16,0x24,0x30,0x48,0x6c};

int compare (const void * a, const void * b)
{
    return ( *(int*)a - *(int*)b );
}

int main ()
{

    int i;

    qsort (values, 8, sizeof(char), compare);

    for (i = 0; i < 8; i++)
    {
       printf ("%0x ",values[ i ]);
    }
    return 0;
} 
```

这个程序的输出是：

# 2 6c 48 30 24 4 b 16

尽管它应该与输入相同。有人可以解释为什么会这样以及我该如何纠正吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-11T06:04:00.313

```
return ( *(int*)a - *(int*)b ); 
```

*如果*`int`底层“对象”是值，则不应比较`char`值。

几乎可以肯定的是，比较使用四个（取决于`sizeof(int)`）字节进行比较，例如第一个对象是`0x02040b16`（当然取决于您的字节序）。这将极大地充实该过程。

将其更改为：

```
return ( *(char*)a - *(char*)b ); 
```

然后再试一次。

请注意，签名`char`是一个实现问题。您可能会发现`0x80`最终小于`0x7f`. 如果这不是您想要的，请`unsigned char`显式使用来*提取*值，然后在进行减法之前将它们升级为有符号整数（使用另一个强制转换）。

事实上，为了可移植性，您可能还想`signed char`明确地使用另一种情况。

以下程序显示了它如何使用正确的基础数据类型：

```
#include <stdio.h>
#include <stdlib.h>

signed char values[] = {0x02, 0x04, 0x0b, 0x16, 0x24, 0x30, 0x6c, 0x48};

int compare (const void *a, const void *b) {
    return *(signed char*)a - *(signed char*)b;
}

int main (void) {
    int i;

    qsort (values, 8, sizeof (char), compare); // char okay here.
    for (i = 0; i < 8; i++)
       printf ("%0x ", values[i]);
    putchar ('\n');

    return 0;
} 
```

这个的输出是：

```
2 4 b 16 24 30 48 6c 
```

（我交换了代码中最后两个元素的顺序，以表明它实际上是在排序）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-11T06:05:12.693

将您的比较功能更改为

```
int compare (const void * a, const void * b)
{
    return ( *(char*)a - *(char*)b );
} 
```

# php - 将数据添加到表单，服务器端

> ID：15941682
> 
> 赞同：0
> 
> 时间：2013-04-11T05:59:07.103
> 
> 标签：php, forms, security

我有一个表单，可以将 POST 数据发送到我无法控制的远程服务器。

表单需要发送一个私钥（我认为这与用户端无关），我没有信心按照我的要求将它放在隐藏字段中。

有没有办法将 POST 数据发送到我自己的服务器上的 PHP 脚本，这会添加丢失的密钥并将 POST 数据重新发送到远程服务器？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T06:05:58.000

在 HTML 中，您可以将 POST 操作设置为您的一个 PHP 页面，然后从该 PHP 页面，您可以通过添加私钥以及从 HTML 表单提供的 POST 数据来向另一台服务器发出 cURL 请求

**表单.html**

```
<form name="form1" id="form1" method="POST" action="repost_data.php">
     <input type="text" name="field1" value="" />
     <input type="text" name="field2" value="" />
     ...
     ...
</form> 
```

**repost_data.php**

```
<?php
$postArr = $_POST;
$postArr['private_key'] = 'private-key';

$ch = curl_init("http://another-server/posturl"); 

curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); 
curl_setopt($ch, CURLOPT_POSTFIELDS, $postArr); 
curl_exec($ch);

?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:06:01.840

请尝试以下方法：

1.  将发布数据发送到服务器本身的页面
2.  将您想要的密钥添加到帖子中`$_POST['keyname'] = $privatekey`
3.  现在通过 ajax 调用将值提交到您想要的第 3 方服务器或向服务器发出 curl 请求

我希望这会有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T06:07:04.923

您可以使用 cURL 来完成（请参阅[http://php.net/manual/en/book.curl.php](http://php.net/manual/en/book.curl.php)）。

# java - 关于Java中的多重继承

> ID：15941684
> 
> 赞同：1
> 
> 时间：2013-04-11T05:59:20.750
> 
> 标签：java, inheritance

如果 Java 中的每个类都隐式扩展 Object 类，并且 Java 中不可能进行多重继承，那么我们如何扩展任何类呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T06:00:24.827

如果你扩展一个类 A，该类又扩展了 Object，所以 B 扩展 A 隐式也扩展了 Object。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-11T06:00:38.797

“Java没有多重继承”意味着你不能有两个不同的父母，而不是你的父母不能有父母。

C++ 是一种允许您进行多重继承的语言示例：http: [//www.learncpp.com/cpp-tutorial/117-multiple-inheritance/](http://www.learncpp.com/cpp-tutorial/117-multiple-inheritance/)

多重继承如下所示：

```
class Teacher: public Person, public Employee 
```

这意味着“教师扩展了 Person 和 Employee，继承了它的字段和方法”。

您需要创建和实现接口来表示对象支持的所有行为（或合同，如果您愿意），而不是多重继承。Java 将其用于 Closeable 和 Serializable 等接口。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T06:03:37.280

每个不扩展任何其他类的类都扩展了 Object 类。如果您扩展花药类示例 extends Vector 类查看类 Vector 的层次结构，您将以一个简单的类结束，该类不扩展任何显式扩展 Object 的花药类。并且任何类都扩展了另一个类，它显式地扩展了父类扩展的所有类。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-11T06:11:39.333

多重继承是从两个或多个超类继承的单个类的概念。如果一个类继承自一个超类，并且该超类继承自另一个超类，则它不符合多重继承的条件。它仍然是单继承。

一旦你创建子类的对象，对象层次结构将按顺序创建

objectclaass-->超类-->子类；

确实，Java 中的每个类都继承自 Object 类——无论是间接的还是直接的。

所以在这种情况下，子类间接继承了对象类。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-11T06:09:29.850

Java中没有多重继承，但有类层次结构。Java 中的继承是传递性的：如果类 A 扩展 Object，类 B 扩展 A，则通过传递性 A 扩展 Object。

# javascript - 当我单击href链接时，它将在关联此链接后选中所有复选框

> ID：15941688
> 
> 赞同：0
> 
> 时间：2013-04-11T05:59:29.330
> 
> 标签：javascript, jquery, css

我有一个名为`All`and的链接`none`。当我单击 时`All`，我希望它检查与其相关的所有复选框并将其链接文本更改为`none`.

当我再次单击时，我希望它取消选中所有复选框。

我有一些代码可以用来检查所有带有复选框的框。但现在我想检查所有带有链接的框。请看，这是这个演示代码（[也在 jsfiddle 上](http://jsfiddle.net/kdEmH/24/)）：

```
 <script type="text/javascript">
    $(function(){

    // add multiple select / deselect functionality
    $("#selectall").click(function () {
          $('.case').attr('checked', this.checked);
    });

    // if all checkbox are selected, check the selectall checkbox
    // and viceversa
    $(".case").click(function(){

        if($(".case").length == $(".case:checked").length) {
            $("#selectall").attr("checked", "checked");
        } else {
            $("#selectall").removeAttr("checked");
        }

    });
});
      $(document).ready(function () {
        $("input[type=checkbox]").click(updateCount);

        updateCount();

        function updateCount () {
          var count = $("input[type=checkbox].case:checked").length;

          $("#count").text(count);
          $("#status").toggle(count > 0);
        };
      });
    </script>enter code here
  </head>
  <body>
    <H2>why counting wrong in crome, Ie </H2>

select all
    <input type="checkbox" id="selectall"/>
    <input type="checkbox" class="case" name="case" value="1"/>
    <input type="checkbox" class="case" name="case" value="2"/>
    <input type="checkbox" class="case" name="case" value="3"/>
    <input type="checkbox" class="case" name="case" value="4"/>
    <input type="checkbox" class="case" name="case" value="5"/>
    <div id="status">
      <p id="count">0</p>
    </div>
  </body>

http://jsfiddle.net/kdEmH/24/ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:44:05.057

可能不是您想要的，但它是一种快速的切换方式：

```
$('a').click(function() {
    var $cbs = $('.case');
    $cbs.prop('checked', !$cbs.prop('checked'));
    return false;
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T07:02:16.050

```
<!DOCTYPE html>
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
</head>
<body>
    <a href='' id="link" data-action="all">All</a>
    <input type="checkbox" class="case" value="1"/>
    <input type="checkbox" class="case" value="2"/>
    <input type="checkbox" class="case" value="3"/>
    <input type="checkbox" class="case" value="4"/>
    <input type="checkbox" class="case" value="5"/>
    <div id="status">
        <p id="count">0</p>
    </div>
</body>

<script type="text/javascript">
$("document").ready(function() {
    $("#link").click(function(){
        $a = $(this);
        var action = $a.data('action');
        if(action == "all"){
            $('.case').attr("checked","true");
            $a.text("None").data("action","none");
        }
        if(action == "none"){
            $('.case').removeAttr("checked");
            $a.text("All").data("action","all");
        }
        updatecount();
        return false;
    })
    $(".case").click(function(){
       if($(".case").length == $(".case:checked").length){
            $("#link").text("None").data("action","none");
       }else{
            $("#link").text("All").data("action","all");
       }
       updatecount();
    })
})
var updatecount = function(){
    $("#count").text($(".case:checked").length);
}
</script>
</html> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T06:15:51.083

试试这个：[**演示**](http://jsfiddle.net/kdEmH/27/)：

`<A>`在 html 代码中添加标签：

```
<a id="selectall" href="#">select all</a> 
```

将此函数添加到 java-script 代码中：

```
$(function(){
  var state=true;
$("#selectall").click(function () {
      $('.case').attr('checked', state);
    state=!state;
    var obj = document.getElementById("selectall");
    if(state)
    {
         obj.innerText="select all";
    }
    else
    {
         obj.innerText="clear all";
    }
}); 
```

**完整代码**

```
 $(function(){
      var state=true;
    // add multiple select / deselect functionality
    $("#selectall").click(function () {
          $('.case').attr('checked', state);
  state=!state;
        var obj = document.getElementById("selectall");
        if(state)
        {
             obj.innerText="select all";
        }
        else
        {
             obj.innerText="clear all";
        }
    });

    // if all checkbox are selected, check the selectall checkbox
    // and viceversa
    $(".case").click(function(){

        if($(".case").length == $(".case:checked").length) {
            $("#selectall").attr("checked", "checked");
        } else {
            $("#selectall").removeAttr("checked");
        }

    });
});
      $(document).ready(function () {
        $("input[type=checkbox]").click(updateCount);

        updateCount();

        function updateCount () {
          var count = $("input[type=checkbox].case:checked").length;

          $("#count").text(count);
          $("#status").toggle(count > 0);
        };
      }); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-11T06:14:16.867

在您的 HTML 部分中，添加如下链接：

```
<a href="#" id="select_all_link" title="Select all">Click me to toggle all checkboxes</a> 
```

在您的 Javascript 部分中，添加：

```
 $("a#select_all_link").click(function(){
   if($('.case:checked').length > 0)
      $('.case').attr('checked', false);
   else
      $('.case').attr('checked', true);
 }); 
```

请在[此处查看工作示例](http://jsfiddle.net/AnthonyLeGovic/kdEmH/32/)

**编辑：**名称现在更改 wrt 复选框状态（选中与否）

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-11T06:23:39.247

尝试以这种方式获取它，我只是猜到了一个`<a>`带有 id 的链接`#allNone`并将该`.prop()`函数用于检查和取消选中复选框：

```
$('#allNone').on('click', function (e) {
e.preventDefault();
(this.text == 'Check All') ? 
    $(this).text('Check None').nextAll('.case').prop('checked', true) :
    $(this).text('Check All').nextAll('.case').prop('checked', false);
}); 
```

### [演示](http://jsfiddle.net/kdEmH/31/)

# yeoman - Yeoman / AngularJS 未在开发服务器中加载 CSS

> ID：15941693
> 
> 赞同：5
> 
> 时间：2013-04-11T05:59:57.107
> 
> 标签：yeoman

我正在为服务器使用 AngularJS Yeoman 生成器 ( [https://github.com/yeoman/generator-angular](https://github.com/yeoman/generator-angular) ) 和 Express。运行时`grunt server`，它可以正常启动我的应用程序并将 .scss 文件编译到根目录中的 .tmp 文件夹中，但我的页面不会自动加载该 css。我在我的布局文件中设置了 style/style.css 样式表的链接。

我也尝试过`grunt compass`，效果很好，但同样没有成功，所以我的视图实际上将 css 文件加载到 .tmp 中。我在 grunt 中有默认的指南针设置。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-27T12:56:43.480

这是更新版本中已解决的实时重新加载问题。`yo`通过或运行更新您的生成器`npm update -g generator-angular`。如果要升级现有项目，可以`yo angular`在同一目录中运行并选择 diff 选项以查看必须进行的更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-22T05:54:51.283

至于 2015 年 5 月 22 日 ... 除非当被问及是否要包含 Twitter Bootstrap 时选择“是”，否则 yeoman 生成器角度无法正常工作。也许后续版本会解决这个问题。

值得一提的是，generator-angular 的问题比 generator-angular-ui-router 的问题要少得多（这是一场灾难）

# oracle - 从 Plsql 调用 HTTP 页面

> ID：15941695
> 
> 赞同：1
> 
> 时间：2013-04-11T05:59:59.587
> 
> 标签：oracle, plsql, oracle11g, ora-24247

我正在尝试从 PLSQL 调用页面

```
declare
 httprequest        UTL_HTTP.req; 
   httpresp           UTL_HTTP.resp; 
   v_http_url         VARCHAR2 (200) := 'http://localhost:38801/BatchMvcDriver/Index?ID=161';
    begin
      httprequest := UTL_HTTP.begin_request (url         => v_http_url, 
                                             method      => 'POST'); 
                UTL_HTTP.set_header (httprequest, 
                                     'Content-Type', 
                                     'text/xml; charset=utf-8' 
                                    ); 
                UTL_HTTP.set_header (httprequest, 'Content-Length', 64); 
                UTL_HTTP.write_line (httprequest, 'some string'); 
                httpresp := UTL_HTTP.get_response (httprequest); 
                UTL_HTTP.end_request (httprequest); 
                UTL_HTTP.end_response (httpresp);
    end; 
```

它说

ORA-29273：HTTP 请求失败 ORA-06512：在“SYS.UTL_HTTP”，第 1130 行 ORA-24247：网络访问被访问控制列表 (ACL) 拒绝 ORA-06512：在第 7 行

我尝试过了

```
 begin
   dbms_network_acl_admin.create_acl (
     acl         => 'utl_http.xml',
     description => 'HTTP Access',
     principal   => 'SCOTT',
     is_grant    => TRUE,
     privilege   => 'connect',
     start_date  => null,
     end_date    => null
   ); 
```

我在第 2 行收到此错误错误：ORA-06550：第 2 行，第 3 列：PLS-00201：必须声明标识符 'DBMS_NETWORK_ACL_ADMIN' ORA-06550：第 2 行，第 3 列：PL/SQL：语句被忽略

如何摆脱这个？

# android - 可以在 AnimationDrawable 上添加框架但不能删除框架？

> ID：15941706
> 
> 赞同：2
> 
> 时间：2013-04-11T06:00:43.133
> 
> 标签：android, animation, android-imageview, animationdrawable

我正在创建一个应该随机变化的动画，所以我需要使用 AnimationDrawable（是的，我无法通过使用动画来管理它。）所以基本上，我有一些图像视图，我正在动态添加帧，并设置为他们。到目前为止，一切正常。我可以看到动画有效，但问题是在一个动画完成后，我需要删除该 imageView 上的每一帧，然后向其中添加新帧。但不幸的是，我找不到删除框架的方法......有没有办法做到这一点？还是只是烦人的缺乏？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:22:55.490

通过将animationDrawable设置为null，重新创建它然后将其设置回imageview来管理它......但不确定这是否是一种有效的方法。我仍然认为应该有一个类似于 removeFrame 的方法......无论如何这里是解决方案：

```
AnimationDrawable animationFrame = (AnimationDrawable) view.getDrawable();
animationFrame = null;
animationFrame = new AnimationDrawable(); 
// Do stuff...
view.setBackgroundDrawable(animationFrame); 
```

请让我知道是否有更有效的方法来处理这个问题。因为我猜想在几毫秒内一遍又一遍地创建一个新对象会导致内存问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-14T11:55:09.167

对我来说，这很有效：

```
animationView.setBackgroundResource(0); 
```

只需为对应的 ImageView 设置 BackgroundResource null

# objective-c - 传递 NSURL 并保留它

> ID：15941715
> 
> 赞同：0
> 
> 时间：2013-04-11T06:01:23.657
> 
> 标签：objective-c, webview, uipickerview

我将 NSURL 从我的 pickerviewcontroller 传递到我的 mainviewcontroller。url 取决于用户在pickerviewcontroller 中的选择。它工作正常，但每次重新启动应用程序时，用户都必须重复地转到pickerviewcontroller 来做出选择。

也许代码会更好地解释问题：这是pickerviewcontrollers相关部分......

```
//The save button on the pickerviewcontroller 
- (IBAction)selectedRow:(id)sender {

MainViewController *vc1 = [self.storyboard 
instantiateViewControllerWithIdentifier:@"webview"];
vc1.destinationweb =  selectedRow;
[self presentViewController:vc1 animated:YES completion:nil]; 
```

一旦进入 MainViewController，destinationweb 日志就会显示用户在 pickerview 中选择的地址。但是如果我关闭应用程序或在应用程序中前进（我有另一个视图控制器）然后返回 MainViewController - 它显示destinationweb = null

这是 MainViewController 相关部分：

```
- (void)viewDidLoad {

{
    //webView.hidden = YES;
    self.webView.delegate = self;
    NSURL *url = destinationweb;
    NSURLRequest *request = [NSURLRequest requestWithURL:url];
    [webView loadRequest:request];
    NSLog(@"destinationweb shows= %@", destinationweb);   
}
[super viewDidLoad];   
} 
```

我不知道我应该怎么做才能让 MainViewController 记住 url，直到选择器视图中的另一行被选中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:23:14.077

如果您想在应用程序重新启动后保留该值，您应该将值（url）存储在一个文件中，因此当您重新启动它时，您可以从那里读取它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:32:21.457

只需将 url 字符串保存在用户默认值中并在视图控制器中检索 url 字符串

```
- (IBAction)selectedRow:(id)sender 
{
    MainViewController *vc1 = [self.storyboard 
    instantiateViewControllerWithIdentifier:@"webview"];
    //Instead of passing it just save the url string in user defaults
    NSString *urlString = [selectedRow absoluteString];
    [[NSUserDefaults standardUserDefaults] setObject:urlString  forKey:@"UserURL"];
    //vc1.destinationweb =  selectedRow;
    [self presentViewController:vc1 animated:YES completion:nil];
}

- (void)viewDidLoad
{
    [super viewDidLoad]; 
    //webView.hidden = YES;
    self.webView.delegate = self;
    NSString *urlString = [[NSUserDefaults standardUserDefaults] stringForKey:@"UserURL"];
    NSURL *url = [NSURL URLWithString:urlString ];
    NSURLRequest *request = [NSURLRequest requestWithURL:url];
    [webView loadRequest:request];
    NSLog(@"destinationweb shows= %@", destinationweb);  
} 
```

# git - 这个 git 设置正确吗？

> ID：15941716
> 
> 赞同：1
> 
> 时间：2013-04-11T06:01:29.967
> 
> 标签：git

我有一个用于多个项目的 CMS 框架，由我编写。当我做我的项目时，CMS 得到了改进，我经常想在后续项目中使用这些更改。然而，我经常同时进行多个项目。

在阅读了 git 之后，我知道我可以分支每个项目并将 CMS 改进提交回主分支，然后重新分配到其他分支，但这似乎是错误的。尤其是在一些项目已经完成但核心 CMS 看起来与他们使用它时的样子非常不同的几年里。这也意味着在项目之间切换时在分支之间切换。当我在该机器上创建存储库时，我使用它的每台机器都会获得每个分支的副本吗？

另一种选择似乎是克隆。我有一个包含“核心”CMS 的主存储库，每个项目都成为它的克隆，并且单独工作。这看起来更直观，但是我可以将克隆中的一些更改合并回核心，并且我可以将核心更改分发到其他克隆吗？

编辑：多想一下，克隆是我认为将回购复制到机器上的术语（我使用了几个，我想跟上一些项目的最新版本）。所以也许我应该“分叉”？那只是github的事情吗？

任何一个选项似乎都是正确的方法吗？所有建议表示赞赏

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:53:24.457

我实际上遇到了类似的问题。所以我所做的是创建 2 个存储库。一个具有应用程序的核心，每个实例都必须具有才能工作。

除此之外，每个实例的特定文件和配置都有一个存储库。

core-repo 用版本号标记，其中核心主控上的每个标记都是一个工作版本。

这允许签出特定标签并将单个数据保存在实例存储库中。您不能使用此设置将特定代码保留在实例存储库中并合并到其他实例中。如果您只拥有 1 个实例 repo 并将每个实例分支到那里，或者您可以使用一些 lile composer (www.getcomposer.org) 来保持您的依赖关系，您就可以这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-17T13:03:58.780

> 另一种选择似乎是克隆。我有一个包含“核心”CMS 的主存储库，每个项目都成为它的克隆，并且单独工作。这看起来更直观，但是我可以将克隆中的一些更改合并回核心，并且我可以将核心更改分发到其他克隆吗？

对于遇到这种情况的任何其他人 - 克隆是去这里的方式。它允许您将所有站点作为计算机上的单独文件夹，因此您可以轻松切换而无需检查分支等。然后它允许您将更改从每个克隆推送到生产服务器和/或返回到核心存储库（来源）。然后，您可以从原点将更改推送到您喜欢的任何其他实例上。巧妙地使用`.gitignore`，`--assume-unchanged`并调整每个项目以具有“主题”文件夹意味着您可以推动所有更改，而不必过多担心一个站点的个性会覆盖另一个站点。

# sql-server - 将列包含在同一个表中的 SELECT 中会减慢查询速度吗？

> ID：15941719
> 
> 赞同：1
> 
> 时间：2013-04-11T06:01:48.073
> 
> 标签：sql-server, sql-server-2008, tsql, indexing, non-clustered-index

想象一下**Foo 表在 ColA 和 ColB 上具有非聚集索引，在 ColC、ColD** 上**没有索引**

```
SELECT colA, colB
FROM Foo 
```

大约需要**30 秒**。

```
SELECT colA, colB, colC, colD
FROM Foo 
```

大约需要**2 分钟**。

Foo 表有超过 500 万行。

**问题**：是否包含不属于索引的列会减慢查询速度？如果是，为什么？-它们不是已经阅读的页面的一部分吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T06:09:20.810

如果您编写使用[覆盖索引](http://en.wikipedia.org/wiki/Database_index#Covering_index)的查询，则不会访问堆/聚集索引中的完整数据页。

如果您随后向查询中添加更多列，使得索引不再覆盖，那么将发生额外的查找（如果仍然使用索引），或者您完全强制使用不同的数据访问路径（例如使用表扫描而不是使用索引）

* * *

[自 2005 年以来，SQL Server 就支持索引](http://msdn.microsoft.com/en-gb/library/ms188783%28v=sql.90%29.aspx)中包含列的概念。这包括索引叶子中的非键列 - 因此它们在索引使用的数据查找阶段没有用，但仍然有助于避免在堆/聚集索引中执行额外的查找，如果他们'足以使该指数成为覆盖指数。

* * *

此外，将来，如果您想更好地了解为什么一个查询快而另一个查询慢，请查看生成[执行计划](http://msdn.microsoft.com/en-gb/library/ms178071%28v=sql.105%29.aspx)，然后您可以进行比较。

即使你不理解所使用的术语，你至少应该能够玩它们之间的“spot the difference”，然后根据术语进行搜索（例如表扫描、索引查找或查找）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T08:23:36.690

简单的答案是：因为非聚集索引不与数据存储在同一页中，所以 SQL Server 必须查找实际的数据页来获取其余部分。

非聚集索引存储在单独的数据结构中，而聚集索引存储在与实际数据相同的位置。这就是为什么您只能拥有一个聚集索引。

# facebook - Facebook 分享在 iPhone 移动浏览器中不起作用

> ID：15941721
> 
> 赞同：0
> 
> 时间：2013-04-11T06:01:51.570
> 
> 标签：facebook, html, cordova, jquery-mobile

```
I am using phonegap and jquery 
```

* * *

用于 Facebook 共享链接的移动设备。它可以在网络浏览器中运行，但不能在移动浏览器中运行。

我的分享链接是：

```
http://facebook.com/sharer.php?s=100&p[title]=&p[url]=mysitename&p[images][0]=http://mysitename/storage/information_promotion/719/4_1361103843_SeafoodPizza.jpg&p[summary]=test 
```

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-02T07:29:48.637

这不是一个有效的网址。您必须将其设为[https://m.facebook.com/sharer.php?u=](https://m.facebook.com/sharer.php?u=) 您还需要使用 Facebook Open Graph META 标签制作 url 网站以获取详细信息。

# twitter-bootstrap - 从外部链接设置 Bootstrap ColorPicker 的颜色

> ID：15941725
> 
> 赞同：1
> 
> 时间：2013-04-11T06:02:32.277
> 
> 标签：twitter-bootstrap

我正在使用来自以下网址的引导颜色选择器：[http ://www.eyecon.ro/bootstrap-colorpicker/](http://www.eyecon.ro/bootstrap-colorpicker/)

HTML 代码：

```
<div class="well">
    <div class="input-append color" data-color="rgb(255, 146, 180)" id="cp3">
        <input type="text" class="span2" id="colorinput" value="" >
        <span class="add-on"><i style="background-color: rgb(255, 146, 180)"></i></span>
    </div>
</div>

<a href="#" id="external-link">Set Color</a> 
```

外部链接的 JavaScript 代码：

```
$('#external-link').click(function(){
    //value = 'rgb(255, 255, 255)';
    value = '#ffffff';
    $('#colorinput').val(value);
    $('#colorinput').next().children().css('background-color',value);
    $('#cp3').colorpicker('setValue', value);
    $('#cp3').colorpicker('show');
    return false;
}); 
```

在此处查看示例代码：http: [//jsfiddle.net/bimaljr/xtSrq/14/](http://jsfiddle.net/bimaljr/xtSrq/14/)

我想从外部链接设置颜色选择器的颜色。当您单击“设置颜色”链接时，它将更改输入框的值和框的颜色。但是，在那之后，当您单击颜色框打开颜色选择器时，它将显示旧颜色。我想用“值”字符串中的颜色设置它。

目前它给出错误“无法调用未定义的方法'toLowerCase'”。我认为“值”字符串不是通过 setColor() 或 .colorpicker('setValue', value) 函数传递的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T10:48:30.373

我认为这是颜色选择器代码中的错误。当你打电话时`.colorpicker('setValue', value)`。你的价值永远不会被使用。

第 349 行：

```
$.fn.colorpicker = function ( option ) {
    return this.each(function () {
        var $this = $(this),
            data = $this.data('colorpicker'),
            options = typeof option === 'object' && option;
        if (!data) {
            $this.data('colorpicker', (data = new Colorpicker(this, $.extend({}, $.fn.colorpicker.defaults,options))));
        }
        if (typeof option === 'string') data[option]();
    }); 
```

当您将其更改为（向函数添加第二个参数）时，您的问题似乎已解决：

```
$.fn.colorpicker = function ( option, value) {
    return this.each(function () {
        var $this = $(this),
            data = $this.data('colorpicker'),
            options = typeof option === 'object' && option;
        if (!data) {
            $this.data('colorpicker', (data = new Colorpicker(this, $.extend({}, $.fn.colorpicker.defaults,options))));
        }
        if (typeof option === 'string') data[option](value);
    }); 
```

# python - 将曲线除以弦高

> ID：15941728
> 
> 赞同：3
> 
> 时间：2013-04-11T06:02:45.193
> 
> 标签：python, geometry, bezier, grasshopper, rhino3d

我想将曲线细分为弦高相等的段。我知道我可以使用“分割距离”工具将弦长分成相等的长度，但我找不到高度选项。我在[这里](https://gist.github.com/notionparallax/5360969)写了一些非常脏的代码。（不要评判我，它不优雅且效率低下，但它确实有效。）

![曲线除以弦高](https://i.stack.imgur.com/Zr9hc.png)

我真正想听到的是，继续进行二进制搜索之类的东西是没有意义的，因为 Grasshopper 中已经有一个功能可以做到这一点，但是如果失败了，有没有人对如何在更有效的方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T06:30:49.033

我的答案涉及寻找贝塞尔曲线弦高（矢状面？），而不是细分过程。

我考虑具有控制点 P0、P1、P2、P3 的三次贝塞尔曲线。Sagitta 是与弦段 C=P0P3 的最大距离。当曲线的方向向量（全线图，一阶导数）平行于弦向量时，达到最大距离。三次贝塞尔曲线的全线图是具有控制点的二次贝塞尔曲线（[Sederberg book CAGD，第 2.7 节](http://tom.cs.byu.edu/~557/text/cagd.pdf)）：

```
D0=3(P1-P0), D1=3(P2-P1), D2=3(P3-P2) 
```

当叉积为零时向量是平行的，所以我们有方程

```
Cx*Dy-CyDx=0   or 
(P3x-P0x)*((P1y-P0y)*(1-t)^2+2*(P2y-P1y)*t*(1-t)+(P3y-P2y)*t^2) = 
(P3y-P0y)*((P1x-P0x)*(1-t)^2+2*(P2x-P1x)*t*(1-t)+(P3x-P2x)*t^2) 
```

这是二次方程，对于范围 [0..1] 内的 t，它可能有 0、1 或 2 个解（情况 2 可能适用于 S 形曲线）。然后我们可以在从方程中找到的 t 参数处评估贝塞尔曲线，并计算到弦的距离。

# android - 在适配器中启动 Intent

> ID：15941732
> 
> 赞同：19
> 
> 时间：2013-04-11T06:03:17.623
> 
> 标签：android

我想从此基本适配器开始一个新活动。

```
public class EfficientAdapter extends BaseAdapter {

    private Activity activity;
    private ArrayList<ComptePost> data;
    private static LayoutInflater inflater = null;
    public ImageLoader imageLoader; 
    public  Boolean isActusAstuce;
    public static int flag = 0, counter=0;

    private Context context;

    public EfficientAdapter(Context context) {
        this.context = context;     
    }

    NVirementEmmeteur main;

    int num = 0;

    ViewHolder holder;
    static String src;

    public EfficientAdapter(Activity a, ArrayList<ComptePost> d) {
        activity = a;
        data = d;
        inflater = (LayoutInflater) activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        //  imageLoader = new ImageLoader(activity.getApplicationContext());
        imageLoader=new ImageLoader(activity.getApplicationContext());
    }

    public EfficientAdapter(NVirementEmmeteur m) {
        main = m;
    }

    @Override
    public int getCount() {
        return data.toArray().length;
    }

    @Override
    public Object getItem(int position) {
        return position;
    }

    @Override
    public long getItemId(int position) {
        return position;
    }

    public static class ViewHolder {
        public TextView one;
        public TextView two;
        public TextView three;
        public ImageView image;
        public RelativeLayout relative_layout;
    }

    @Override
    public View getView(final int position, View convertView, ViewGroup parent) {
        View vi = convertView;
        holder.relative_layout.setOnClickListener(new OnClickListener(){

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                v.getContext().startActivity(new Intent(context, NVirementEmmeteur.class)); 
            }
        });
        return vi;
    }
} 
```

我试过了

```
context.startActivity(new Intent(context, NVirementEmmeteur.class)); 
```

和

```
v.getContext().startActivity(new Intent(context, NVirementEmmeteur.class)); 
```

但它强制关闭我的应用程序。

`onclicklistener()`意图应该在来自列表适配器的内部启动。有人能告诉我如何从我的efficientadapter.class 启动一个意图吗？

这是我的 logcat 输出：

> 04-11 10:07:50.878: E/AndroidRuntime(11179): 致命异常: main 04-11 10:07:50.878: E/AndroidRuntime(11179): java.lang.NullPointerException 04-11 10:07:50.878: E/AndroidRuntime(11179): 在 android.content.ComponentName.(ComponentName.java:75) 04-11 10:07:50.878: E/AndroidRuntime(11179): 在 android.content.Intent.(Intent.java:2863 ) 04-11 10:07:50.878: E/AndroidRuntime(11179): at.adapter.EfficientAdapter$1.onClick(EfficientAdapter.java:141) 04-11 10:07:50.878: E/AndroidRuntime(11179): 在 android .view.View.performClick(View.java:2538) 04-11 10:07:50.878: E/AndroidRuntime(11179): 在 android.view.View$PerformClick.run(View.java:9152) 04-11 10 :07:50.878: E/AndroidRuntime(11179): 在 android.os.Handler.handleCallback(Handler.java:587) 04-11 10:07:50.878: E/AndroidRuntime(11179): 在 android.os.Handler。调度消息（处理程序.java：92) 04-11 10:07:50.878: E/AndroidRuntime(11179): 在 android.os.Looper.loop(Looper.java:130) 04-11 10:07:50.878: E/AndroidRuntime(11179): 在android.app.ActivityThread.main(ActivityThread.java:3687) 04-11 10:07:50.878: E/AndroidRuntime(11179): 在 java.lang.reflect.Method.invokeNative(Native Method) 04-11 10:07 :50.878: E/AndroidRuntime(11179): at java.lang.reflect.Method.invoke(Method.java:507) 04-11 10:07:50.878: E/AndroidRuntime(11179): at com.android.internal。 os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:842) 04-11 10:07:50.878: E/AndroidRuntime(11179): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600) 04 -11 10:07:50.878：E/AndroidRuntime（11179）：在 dalvik.system.NativeStart.main（本机方法）878: E/AndroidRuntime(11179): 在 android.app.ActivityThread.main(ActivityThread.java:3687) 04-11 10:07:50.878: E/AndroidRuntime(11179): 在 java.lang.reflect.Method.invokeNative (本机方法) 04-11 10:07:50.878: E/AndroidRuntime(11179): at java.lang.reflect.Method.invoke(Method.java:507) 04-11 10:07:50.878: E/AndroidRuntime( 11179): 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:842) 04-11 10:07:50.878: E/AndroidRuntime(11179): 在 com.android.internal.os.ZygoteInit .main(ZygoteInit.java:600) 04-11 10:07:50.878: E/AndroidRuntime(11179): at dalvik.system.NativeStart.main(Native Method)878: E/AndroidRuntime(11179): 在 android.app.ActivityThread.main(ActivityThread.java:3687) 04-11 10:07:50.878: E/AndroidRuntime(11179): 在 java.lang.reflect.Method.invokeNative (本机方法) 04-11 10:07:50.878: E/AndroidRuntime(11179): at java.lang.reflect.Method.invoke(Method.java:507) 04-11 10:07:50.878: E/AndroidRuntime( 11179): 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:842) 04-11 10:07:50.878: E/AndroidRuntime(11179): 在 com.android.internal.os.ZygoteInit .main(ZygoteInit.java:600) 04-11 10:07:50.878: E/AndroidRuntime(11179): at dalvik.system.NativeStart.main(Native Method)E/AndroidRuntime(11179): at java.lang.reflect.Method.invoke(Method.java:507) 04-11 10:07:50.878: E/AndroidRuntime(11179): at com.android.internal.os.ZygoteInit $MethodAndArgsCaller.run(ZygoteInit.java:842) 04-11 10:07:50.878: E/AndroidRuntime(11179): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600) 04-11 10 ：07：50.878：E / AndroidRuntime（11179）：在dalvik.system.NativeStart.main（本机方法）E/AndroidRuntime(11179): at java.lang.reflect.Method.invoke(Method.java:507) 04-11 10:07:50.878: E/AndroidRuntime(11179): at com.android.internal.os.ZygoteInit $MethodAndArgsCaller.run(ZygoteInit.java:842) 04-11 10:07:50.878: E/AndroidRuntime(11179): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600) 04-11 10 ：07：50.878：E / AndroidRuntime（11179）：在dalvik.system.NativeStart.main（本机方法）

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-04-11T06:04:55.423

**您已经在构造函数中传递了活动上下文，因此您也可以使用；**

```
activity.startActivity(new Intent(activity, NVirementEmmeteur.class)); 
```

* * *

检查这里是示例代码，您会知道该怎么做：

setadapter 像：`adapter = new MyArrayAdapter(MainActivity.this, COUNTRIES);`

适配器代码：

```
package com.example.testapp;

import com.example.main.util.testActivity;

import android.content.Context;
import android.content.Intent;
import android.text.Html;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.view.View.OnClickListener;
import android.widget.BaseAdapter;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.TextView;

class MyArrayAdapter extends BaseAdapter {

    private LayoutInflater mInflater;
    private Context mcon;
    private String[] COUNTRIES_;

    public MyArrayAdapter(Context con, String[] countries) {
        // TODO Auto-generated constructor stub
        mcon = con;
        COUNTRIES_ = countries;
        mInflater = LayoutInflater.from(con);
    }

    @Override
    public int getCount() {
        // TODO Auto-generated method stub
        return COUNTRIES_.length;
    }

    @Override
    public Object getItem(int position) {
        // TODO Auto-generated method stub
        return position;
    }

    @Override
    public long getItemId(int position) {
        // TODO Auto-generated method stub
        return position;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub
        final ListContent holder;
        View v = convertView;
        if (v == null) {
            v = mInflater.inflate(R.layout.my_spinner_style, null);
            holder = new ListContent();
            holder.line = (LinearLayout) v.findViewById(R.id.line_);
            holder.name = (TextView) v.findViewById(R.id.textView1);
            holder.name1 = (TextView) v.findViewById(R.id.textView2);
            holder.name2 = (ImageView) v.findViewById(R.id.imageView1);

            v.setTag(holder);
        } else {

            holder = (ListContent) v.getTag();
        }

        holder.name.setText("" + Html.fromHtml("" + COUNTRIES_[position]));
        holder.name1.setText("" + Html.fromHtml("" + COUNTRIES_[position]));

        holder.line.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub

                mcon.startActivity(new Intent(mcon, testActivity.class));
            }
        });

        return v;
    }

}

class ListContent {

    TextView name;
    TextView name1;
    ImageView name2;
    LinearLayout line;

} 
```

* * *

**编辑：**

如果你使用这个构造函数：那么`list.setadapter(new EfficientAdapter(myactivity.this));`

```
public EfficientAdapter(Context context) {
          this.context = context;     
     } 
```

然后使用：`context.startActivity(new Intent(context, NVirementEmmeteur.class));`

* * *

如果你使用这个构造器`list.setadapter(new EfficientAdapter(myactivity.this, ComptePostarray));`

```
public EfficientAdapter(Activity a, ArrayList<ComptePost> d) {

        activity = a;
        data = d;
        inflater = (LayoutInflater) activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    //  imageLoader = new ImageLoader(activity.getApplicationContext());
        imageLoader=new ImageLoader(activity.getApplicationContext());
    } 
```

然后使用`activity.startActivity(new Intent(activity, NVirementEmmeteur.class));`

**希望你能理解......**

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2016-09-02T19:17:12.937

我之前遇到过这个问题并尝试了上述所有建议，但唯一帮助我从采用者那里开始活动的是@Md 提出的解决方案。萨杰杜尔·卡里姆。

我修改了代码并像这样使用

```
Intent intent = new Intent(context, NesneTani.class);
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
context.startActivity(intent); 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-04-11T06:08:13.303

你也可以这样做，这`mContext`是你的`BaseAdpter` `Context`对象

```
 Intent ieventreport = new Intent(mContext,Your.class);   
 mContext.startActivity(ieventreport); 
```

改变你的构造函数，初始化

```
 public EfficientAdapter(Context context, ArrayList<ComptePost> d){
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2019-05-19T13:58:58.560

用这个替换 onClick 方法它可能有效，我没有尝试过：

```
@Override
public void onClick(View v) {    
    v.getContext().startActivity(new Intent(v.getContext(), NVirementEmmeteur.class)); 
} 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2016-03-12T19:25:19.020

通过构造函数传递上下文，然后只使用这行代码：

```
Intent intent=new Intent(context.getApplicationContext(), YourActivity.class);
  intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_MULTIPLE_TASK);
  context.getApplicationContext().startActivity(intent); 
```

谢谢 ：）

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-11T06:09:38.037

为你需要打开的类设置一个意图。在清单文件中。例如：

```
<activity android:name=".openingclass"
android:label="@string/app_name">
 <intent-filter>
 <action android:name="android.intent.action.OPEN" />
 <category android:name="android.intent.category.DEFAULT" />
 </intent-filter>
 </activity> 
```

然后

```
 @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
           Intent i=new Intent("android.intent.action.OPEN");
           StartActivity(i);
                  } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-11T06:11:20.747

从活动传递活动上下文并在调用时使用相同的上下文`Intent.`

从活动：

```
yourview.setAdapter(new EfficientAdapter(this)); 
```

在适配器内：

```
 private Context mContext;

  public EfficientAdapter(Context c) {
        mContext = c;

    } 
```

现在`mContext`用来调用 Intent。

```
startActivity(new Intent(mContext, NVirementEmmeteur.class)); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-04-11T06:13:44.970

在 mainactivity 中的 listview 上设置 clickListener 从那里开始意图

```
 lv.setAdapter(adapter);
lv.setOnItemClickListener(new OnItemClickListener()
{
@Override public void onItemClick(AdapterView<?> arg0, View arg1,int position, long arg3)
{ 
    Intent intent = new Intent(getActivity,Test.class);
startActivity(intent);
}
}); 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-03-29T13:38:57.750

您可以使用 getContext() 从 View v 或适配器类中的任何其他创建的视图中简单地获取上下文。

```
// TODO Auto-generated method stub
v.getContext().startActivity(new Intent(v.getContext(), NVirementEmmeteur.class)); 
```

# mysql - 如何使用 squeryl 从表中删除所有记录？

> ID：15941733
> 
> 赞同：3
> 
> 时间：2013-04-11T06:03:21.707
> 
> 标签：mysql, scala, squeryl

我已经研究了使用 squeryl 从表中删除所有记录的方法。我唯一能想到的是

```
myTable.deleteWhere(r => r.id.isNotNull)  //id is the primary key 
```

这看起来很奇怪，而且可能效率低下。

使用 squeryl 时从表中删除所有记录的最干净的方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T06:52:03.737

该`deleteWhere`子句采用任何逻辑布尔值，因此您可以简单地说：

```
myTable.deleteWhere(r => 1 === 1) 
```

哪个应该输出语句：

```
DELETE FROM mytable WHERE 1 = 1 
```

如果要自动消除 where 子句，可以尝试：

```
myTable.deleteWhere(r => 1 === 1.inhibitWhen(true)) 
```

这应该完全禁止 where 子句。

如果您正在寻找一种更有效的方法并且您的数据库支持`TRUNCATE`或其他等效功能，您可以直接通过 JDBC 获取`java.sql.Connection`并[`org.squeryl.Session`](http://squeryl.org/api/index.html#org.squeryl.Session)发出查询。不幸的是，这将失去 Squeryl 提供的一些类型安全性。

# mysql - 限制结果mysql的组后

> ID：15941740
> 
> 赞同：1
> 
> 时间：2013-04-11T06:03:55.970
> 
> 标签：mysql

我有以下 mysql 查询

```
SELECT * FROM tbltest WHERE DATE(posted_date) BETWEEN '20120414' AND '20130414' GROUP BY title  ORDER BY mostviewed DESC LIMIT 30 
```

问题：它只返回 19 行，其中删除了重复标题行，但我想在分组后返回 30 行。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:06:03.930

`LIMIT 30`- 将结果限制为最多 30 个，但如果您使用的过滤器的结果较少，则只要少于 30 个，您就会得到与查询找到的结果一样多的结果。

如果您希望获得超过 30 个结果，您将需要更改您的过滤器，但仅仅为了获得更多结果并不是更换过滤器的常见原因。

# html - 如何在 Sublime tex 2.0 中删除标签内的所有内容

> ID：15941743
> 
> 赞同：4
> 
> 时间：2013-04-11T06:04:07.437
> 
> 标签：html, sublimetext2

如何快速删除sumblime标签内的所有内容？

```
<div>
...
Lot's of strings of code which I need to delete, but I don't want to looking for the closing tag.
...
</div> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-11T06:51:55.250

`Selection -> Expand Selection to Tag`应该得到你想要的。那里应该有一个键绑定，指定执行此操作的键盘快捷键。

# c# - 当我在 sql 查询中使用 go 语句时，Oledb Connection 出现错误

> ID：15941747
> 
> 赞同：2
> 
> 时间：2013-04-11T06:04:33.770
> 
> 标签：c#, sql, sql-server, sql-server-2008

我们在 sql 文件中使用批量 sql 脚本集，并在运行时将该文件加载到 C# 中的文本变量。因此，我通过 Oledb 连接和命令类型作为“文本”执行以下查询。不幸的是，它给出了以下错误。

```
Incorrect syntax near 'GO'.
Incorrect syntax near 'GO'.
Incorrect syntax near the keyword 'with'. If this statement is a common table expression, an xmlnamespaces clause or a change tracking context clause, the previous statement must be terminated with a semicolon.
Incorrect syntax near 'GO'. 
```

SQL 查询语法

```
 IF exists  (
                SELECT  '1' 
                FROM    sysobjects 
                WHERE   id = object_id(N'SP_Name')  
                and     objectproperty(id, N'isprocedure') = 1
               )
    BEGIN
        DROP PROC SP_Name 
    END
    GO
    Create PROCEDURE SP_Name 
     (  
       @var_id NUMERIC(10),
       @var_id1 NVARCHAR(100),
       @var_id_Out1     numeric(10)     output,
       @var_id_Out2     integer         output,
       @var_id_Out3     nvarchar(2000)  output
    )  
    WITH ENCRYPTION  
    AS  
    BEGIN  
    SET NOCOUNT ON  
        select * from demotable
    SET NOCOUNT OFF  
    END 
    GO

GRANT   EXEC ON SP_Name TO PUBLIC
GO 
```

C# 代码片段

```
OleDbCommand cmd;
OleDbConnection co = new OleDbConnection("Provider=SQLOLEDB;Data Source=servername;Database=DB_Name;User Id=sa;Password=mypass;");
co.Open();
String[] strFileList = Directory.GetFiles(@"D:\Procedure");
String conntent = null;
foreach (string commandSP in strFileList)
{
       conntent = File.ReadAllText(commandSP);
       cmd = co.CreateCommand();
       cmd.CommandText = conntent;     
       cmd.ExecuteNonQuery();
}
co.Close(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T06:12:32.337

GO 命令是 T-SQL 语法...由前端解释为分开的批次...OLEDB 和服务器都不会理解该语句...

为了让它与 OLEDB 一起使用，您可以自己拆分批次并单独运行每个批次

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T06:14:12.803

GO 不是 T-SQL 关键字，即它不是语言的一部分，它只是一些客户端（例如 Management Studio）用来分隔批次的标记

# c# - 将 Excel 电子表格转换为 xml - 强制将空标签输出为

> ID：15941753
> 
> 赞同：-2
> 
> 时间：2013-04-11T06:04:51.473
> 
> 标签：c#, asp.net, xml

我正在将 excel 工作表转换为 xml 格式。我面临的问题是我有很多没有任何数据的字段。对于那些，我得到一个像这样的空白标签：

```
<event-name /> 
```

我想要的是这个标签应该是这种格式：

```
<event-name></event-name>

string Title                = dsPushTable.Rows[i]["title"].ToString();
                string Shortdescription     = dsPushTable.Rows[i]["short-description"].ToString();
                string sampleimageshref1    = dsPushTable.Rows[i]["sampleimageshref"].ToString();
                string sampleimageshref2    = dsPushTable.Rows[i]["sampleimageshref1"].ToString();
                string variantshref1        = dsPushTable.Rows[i]["variantshref1"].ToString();
                string variantshref2        = dsPushTable.Rows[i]["variantshref2"].ToString();
                string start                = dsPushTable.Rows[i]["life-cyclestart"].ToString();
                string end                  = dsPushTable.Rows[i]["life-cycleend"].ToString();
                string contentcpid          = dsPushTable.Rows[i]["content-cp-id"].ToString();
                string Keyw                 = dsPushTable.Rows[i]["keywords"].ToString();
                string categoriesref1       = dsPushTable.Rows[i]["categoriesref1"].ToString();
                string categoriesref2       = dsPushTable.Rows[i]["categoriesref2"].ToString();
                string Moviename = dsPushTable.Rows[i]["movie-name"].ToString();
                string actorname = dsPushTable.Rows[i]["actor-name"].ToString();
                string lyricist = dsPushTable.Rows[i]["lyricist"].ToString();
                string singername = dsPushTable.Rows[i]["singer-name"].ToString();
                string Label = dsPushTable.Rows[i]["label"].ToString();

                Directory.CreateDirectory(xmlFilePath);
                XmlTextWriter xmlWriter = new XmlTextWriter(xmlFilePath + "/" + Title + ".xml", Encoding.Unicode);
                xmlWriter.Formatting = Formatting.Indented;

                xmlWriter.WriteStartElement("MP3Tone"); //Root Element

                xmlWriter.WriteStartElement("title"); //Attribute "partnerProductId"
                xmlWriter.WriteString(Title); //Attribute Value 
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("short-description"); //Attribute "partnerProductId"
                xmlWriter.WriteString(Shortdescription); //Attribute Value 
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("provider"); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("ref"); //Attribute "partnerProductId"
                xmlWriter.WriteString("/data/cp_ref/techzone.ContentProvider"); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("sample-images"); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("href"); //Attribute "partnerProductId"
                xmlWriter.WriteString(sampleimageshref1); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("transcodable"); //Attribute "partnerProductId"
                xmlWriter.WriteString("False"); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("sample-images"); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("href"); //Attribute "partnerProductId"
                xmlWriter.WriteString(sampleimageshref2); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("transcodable"); //Attribute "partnerProductId"
                xmlWriter.WriteString("False"); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("variants"); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("href"); //Attribute "partnerProductId"
                xmlWriter.WriteString(variantshref1); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("transcodable"); //Attribute "partnerProductId"
                xmlWriter.WriteString("False"); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("variants"); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("href"); //Attribute "partnerProductId"
                xmlWriter.WriteString(variantshref2); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("transcodable"); //Attribute "partnerProductId"
                xmlWriter.WriteString("False"); //Attribute Value 
                xmlWriter.WriteEndElement();  //Attribute "partnerProductId"
                xmlWriter.WriteEndElement();  //offering Element

                xmlWriter.WriteStartElement("status"); //Attribute "partnerProductId"
                xmlWriter.WriteString("Submit"); //Attribute Value 
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("life-cycle"); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("start"); //Attribute "partnerProductId"
                xmlWriter.WriteString(start); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("end"); //Attribute "partnerProductId"
                xmlWriter.WriteString(end); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("content-cp-id"); //Attribute "partnerProductId"
                xmlWriter.WriteString(contentcpid); //Attribute Value 
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("keywords"); //Attribute "partnerProductId"
                xmlWriter.WriteString(Keyw); //Attribute Value 
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("categories"); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("ref"); //Attribute "partnerProductId"
                xmlWriter.WriteString(categoriesref1); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("categories"); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("ref"); //Attribute "partnerProductId"
                xmlWriter.WriteString(categoriesref2); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("bearer-type"); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("bearer-2g"); //Attribute "partnerProductId"
                xmlWriter.WriteString("True"); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("bearer-2.5g"); //Attribute "partnerProductId"
                xmlWriter.WriteString("True"); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("bearer-3g"); //Attribute "partnerProductId"
                xmlWriter.WriteString("True"); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("charge-code"); //Attribute "partnerProductId"
                xmlWriter.WriteString("CHC01500"); //Attribute Value 
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("right-owner"); //Attribute "partnerProductId"
                xmlWriter.WriteString("/data/rights123.RightsOwner"); //Attribute Value 
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("ingestion-timestamp"); //Attribute "partnerProductId"
                xmlWriter.WriteString(start); //Attribute Value 
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("delivery-methods"); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("wap"); //Attribute "partnerProductId"
                xmlWriter.WriteString("True"); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("web"); //Attribute "partnerProductId"
                xmlWriter.WriteString(""); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteStartElement("sms"); //Attribute "partnerProductId"
                xmlWriter.WriteString(""); //Attribute Value 
                xmlWriter.WriteEndElement(); //Attribute "partnerProductId"
                xmlWriter.WriteEndElement(); //offering Element

xmlWriter.WriteStartElement("movie-name"); //Attribute "partnerProductId"
                xmlWriter.WriteString(Moviename); //Attribute Value 

                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("actor-name"); //Attribute "partnerProductId"
                xmlWriter.WriteString(actorname); //Attribute Value 

                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("lyricist"); //Attribute "partnerProductId"
                xmlWriter.WriteString(lyricist); //Attribute Value 

                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("singer-name"); //Attribute "partnerProductId"
                xmlWriter.WriteString(singername); //Attribute Value 

                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("event-name"); //Attribute "partnerProductId"
                xmlWriter.WriteString(""); //Attribute Value 
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("composer-Name"); //Attribute "partnerProductId"
                xmlWriter.WriteString(""); //Attribute Value 
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("isrc-code"); //Attribute "partnerProductId"
                xmlWriter.WriteString(""); //Attribute Value 
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("all-region"); //Attribute "partnerProductId"
                xmlWriter.WriteString("True"); //Attribute Value 

                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("label"); //Attribute "partnerProductId"
                xmlWriter.WriteString(Label); //Attribute Value 

                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteStartElement("approved-timestamp"); //Attribute "partnerProductId"
                xmlWriter.WriteString(""); //Attribute Value 
                xmlWriter.WriteEndElement(); //offering Element

                xmlWriter.WriteEndElement();//End artists Element

                xmlWriter.Flush();
                xmlWriter.Close(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T07:12:49.440

使用`WriteFullEndElement`而不是`WriteEndElement`.

# visual-c++ - C++链接错误，符号重定义

> ID：15941756
> 
> 赞同：2
> 
> 时间：2013-04-11T06:05:09.407
> 
> 标签：visual-c++

我最近遇到一个问题。

我有三个文件，啊，B.cpp，C.cpp：

啊

```
#ifndef __A_H__
#define __A_H__

int M()
{
    return 1;
}

#endif // __A_H__ 
```

B.cpp

```
#include "A.h" 
```

C.cpp

```
#include "A.h" 
```

当我通过 MSVC 编译这三个文件时，出现错误：

```
C.obj : error LNK2005: "int __cdecl M(void)" (?M@@YAHXZ) already defined in B.obj 
```

很容易理解，我们知道，B.obj 有一个名为“M”的符号，C.obj 也有一个“M”。错误来了。

但是，如果我将 M 方法更改为包含如下方法 M 的类：

啊

```
#ifndef __A_H__
#define __A_H__

class CA
{
public:
    int M()
    {
        return 1;
    }
};

#endif // __A_H__ 
```

没有更多的错误！有人可以告诉我发生了什么吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-11T07:28:25.470

如果 B.cpp 和 C.cpp 包含 Ah，那么两者都使用您的*定义*进行编译`M`，因此两个目标文件都将包含`M`. 当链接器收集所有函数时，他看到`M`定义在两个目标文件中，但不知道该使用哪一个。因此，链接器产生了一个 LNK2005。

如果将函数`M`放入类*声明*中，则编译器会将其标记/处理`M`为内联函数。该信息被写入目标文件。链接器看到两个目标文件都包含 的*内联*版本的定义`CA::M`，因此他假设两者相等并随机选取两个定义之一。

如果你写过

```
class CA {
public:
    int M();
};

int CA::M()
{
    return 1;
} 
```

这将导致与您的初始版本相同的问题（LNK2005），因为那时`CA::M`将不再内联。

因此，您现在可能已经猜到了，有两种解决方案适合您。如果您想`M`内联，请将您的代码更改为

```
__inline int M()
{
    return 1;
} 
```

如果您不关心内联，那么请按照标准方式进行，并将函数*声明*放入头文件中：

```
extern int M(); 
```

并将函数*定义*放入 cpp 文件（对于 Ah，理想情况下是 A.cpp）：

```
int M()
{
    return 1;
} 
```

请注意，`extern`在头文件中并不是真正需要的。

另一个用户建议你写

```
static int M()
{
    return 1;
} 
```

我不推荐这个。这意味着编译器会放入`M`您的两个目标文件并标记`M`为仅在每个目标文件本身中可见的函数。如果链接器发现 B.cpp 中的函数调用`M`，它会`M`在 B.obj 和 C.obj 中找到。两者都`M`标记为静态，因此链接器忽略`M`C.obj 并`M`从 B.obj 中选择。反之亦然，如果 C.cpp 中的函数调用`M`，则链接器`M`从 C.obj 中选择 。您最终会得到 M 的多个定义，所有定义都具有相同的实现。这是浪费空间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:13:09.467

请参阅[http://faculty.cs.niu.edu/~mcmahon/CS241/c241man/node90.html](http://faculty.cs.niu.edu/~mcmahon/CS241/c241man/node90.html)如何执行 ifdef 守卫。您必须在定义之前从 ifndef 开始。

编辑：啊，不，虽然你的警卫错了，但这不是问题。将 static 放在您的函数前面以使其工作。类是不同的，因为它们定义了类型。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T06:51:48.893

我不知道幕后是什么，但如果你不需要一个类，我猜编译器会自动将“extern”键添加到你的函数中，所以你会得到包括标题在内的错误 2 次。

您可以将 static 关键字添加到 M() 方法，以便在内存中只有该函数的一个副本，并且在编译时没有错误。

顺便说一句：我看到你有一个#endif，但没有#ifdef 或#ifndef，是复制/粘贴错误吗？

# javascript - 如何使用向上滚动和向下滚动的javascript将文本包装在特定宽度和高度内

> ID：15941761
> 
> 赞同：0
> 
> 时间：2013-04-11T06:05:32.383
> 
> 标签：javascript, scrollbar, word-wrap

我在 javascript 中非常新，我正在使用它来创建一个交互式网站，但是有一个问题。由于我刚刚开始，我所知道的只是如何对我的内容进行 warpText，而且我不知道如何在 javascript 中编写具有如果 wrapText 在给定宽度和高度溢出的功能的代码。将出现向上和向下滚动并帮助导航未显示的那些。

这就是我使用的：

```
function wrapText(text, x, y, maxWidth, lineHeight)
{
  var words = text.split('');
  var line = '';
  for(var n = 0; n < words.length; n++)
  {
    var testLine = line + words[n] + '';
    var metrics = content.measureText(testLine);
    var testWidth = metrics.width;
    if(testWidth > maxWidth)
    {
      context.fillText(line, x, y);
      line = words[n] + '';y += lineHeight;
    }
    else {
           line = textLine;
         }
   }
context.fillText(line, x, y);
} 
```

在函数绘制中：

```
wrapText(currentText, 45, 460, 800, 20); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:14:06.703

这是[我的 jsFiddle 解决方案](http://jsfiddle.net/jedhunsaker/r34rn/)。我认为您的解决方案只需要纯 HTML/CSS：

HTML：

```
<div id="foo" class="wrap">...</div> 
```

还有你的 CSS：

```
#foo {
    width: 400px;
    height: 300px;
    background-color: yellowgreen;
}

.wrap {
    overflow-y: auto;
} 
```

# ember.js - 如何使用 yeoman 进行无头测试？

> ID：15941764
> 
> 赞同：1
> 
> 时间：2013-04-11T06:05:39.397
> 
> 标签：ember.js, phantomjs, mocha.js, yeoman

我想做一个简单的规范，涉及 phantomJS 正在工作的 DOM 操作：

```
/*global describe it */
'use strict';
(function () {
    describe('DOM Tests', function () {
        var strong = 'Viva!';
        var text = document.getElementById('test').innerHTML;

        console.log(text);
        it("is in DOM", function(){
            expect(strong).equal('Viva!');
        });
    });
})(); 
```

但是跑完之后`grunt test`

没有断言

```
Running "clean:server" (clean) task
Cleaning ".tmp"...OK

Running "haml:app" (haml) task

Running "coffee:dist" (coffee) task
File .tmp/scripts/app.js created.

Running "coffee:test" (coffee) task

Running "compass:dist" (compass) task
directory .tmp/styles/ 
   create .tmp/styles/main.css 

Running "compass:server" (compass) task
unchanged app/styles/main.scss

Running "connect:test" (connect) task
Starting connect web server on localhost:9000.

Running "mocha:all" (mocha) task
Testing index.htmlOK
>> 0 assertions passed (0s)

Done, without errors. 
```

[这](https://github.com/markson/ember-tutorial-learning.git)是代码存储库，以防您需要检查我的代码

# html - 如何修复具有响应内容的父 div 中的图像并保持纵横比？

> ID：15941766
> 
> 赞同：1
> 
> 时间：2013-04-11T06:05:49.680
> 
> 标签：html, responsive-design

我的 html 页面中有两个 div，就像这张图片一样。 ![在此处输入图像描述](https://i.stack.imgur.com/UwYCd.jpg)

带有背景图像的主 div 具有响应式技术。我有第二个 div，其中面部图片作为主要 div 内容，显示在上图中带有红色边框的图片中，其调整大小应与主 div 背景相对应，以使其纵横比保持最后一个值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T20:10:20.333

[http://f6design.com/journal/2011/10/18/responsive-elements-that-retain-their-aspect-ratio/](http://f6design.com/journal/2011/10/18/responsive-elements-that-retain-their-aspect-ratio/)

您必须操纵父 div 上的 padding 属性以获得保留纵横比的预期效果。如果您向我展示您在某个实时网站上的代码，我可以进一步指出您需要在 CSS 中进行更改的位置。

# android - 如何在android中创建带有标题的可弹跳滚动视图？

> ID：15941767
> 
> 赞同：0
> 
> 时间：2013-04-11T06:05:54.927
> 
> 标签：android, scrollview, android-scrollview

我想在我的项目中有一个可弹跳的滚动视图（类似 iPhone）。我找到了一些关于*overscroll*的文章，并像[This class here](https://stackoverflow.com/questions/7470267/how-to-create-bouncable-scrollview-in-android)一样使用它。但我不知道如何将滚动视图设置为其标题。

我还尝试在我的自定义滚动视图之前添加一个视图，但它不起作用（最后的代码）。

我需要一个附加到滚动视图的视图我该怎么做？任何想法将不胜感激。

```
<LinearLayout 
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentTop="true"
    android:background="#FF8080"
    >
    <ImageView 
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"/>
</LinearLayout>
<com.amix.tstsrc.MyScrollView
    android:id="@+id/my_scrollView"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_centerHorizontal="true"
    android:layout_centerVertical="true" 
    >
    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="#8585FF">
        <TextView
            android:id="@+id/help_text"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textColor="@android:color/white" />
    </LinearLayout>
</com.amix.tstsrc.MyScrollView> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T09:13:55.787

请通过[https://github.com/Larphoid/android-Overscroll-ListView](https://github.com/Larphoid/android-Overscroll-ListView)。我希望这就是你要找的。

如果您想要带有标题的滚动视图，其中标题保留并且列表滚动和反弹，然后尝试使用 addHeaderView 而不是 Scrollview 来使用列表视图。

# verilog - Verilog 为什么是 [NumberOfBits-1:0] 以及它实际上在做什么

> ID：15941774
> 
> 赞同：2
> 
> 时间：2013-04-11T06:06:04.247
> 
> 标签：verilog, bits

我正在尝试学习 Verilog，但在我正在研究的示例中使用了 [NumberOfBits-1:0] 命令，但我无法弄清楚它为什么存在以及它在做什么。这是我的代码：

```
module verilogmodule(Minuend,Subtrahend,SumDiff,CarryOut,Mode);
//4-bit adder and subtractor. Mode=0 to add and Mode = 1 to subtract
parameter NumberOfBits = 4;
input [NumberOfBits-1:0] Minuend, Subtrahend; input Mode;
output [NumberOfBits-1:0] SumDiff; output CarryOut;

wire [NumberOfBits-1:0] InverterOut;
wire [NumberOfBits-1:0] MuxOut;
wire [NumberOfBits-1:0] AdderLowCarryout;

//module not4bits(A3,A2,A1,A0,Y3,Y2,Y1,Y0);
not4bits U1 (Subtrahend[3], Subtrahend[2], Subtrahend[1], Subtrahend[0],InverterOut[3], InverterOut[2], InverterOut[1],InverterOut[0]);
 //module mux4bits(A,B,Y,choice);
 mux4bits U2(Subtrahend,InverterOut,MuxOut,Mode);
 //module adder2bits(A,B,Cin, Sum, Cout);
adder2bits AdderLow(Minuend[1:0],MuxOut[1:0],Mode,SumDiff[1:0],AdderLowCarryout[1:0]);
adder2bits AdderHigh(Minuend[3:2],MuxOut[3:2],AdderLowCarryout[1:0],SumDiff[3:2],CarryOut);

endmodule 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-11T06:35:35.517

这不是命令，而是电线的宽度。

例如这里：

```
wire [NumberOfBits-1:0] MuxOut; 
```

NumberOfBits 是 value 的参数`4`，因此替换后的线宽变为`[4-1:0]`，或`[3:0]`。这仅表示宽度为 4 的线，具有 3、2、1 和 0 的各个位。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T07:30:33.603

`parameter`类似于`macros`C 中的。基本上它用数字替换定义为的文本`parameter`。在上面的代码中，它在实际模拟之前将 NumberOfBits 替换为 4。

# ruby-on-rails - RAILS_ENV=dev bundle exec rake db:seed 不工作

> ID：15941775
> 
> 赞同：3
> 
> 时间：2013-04-11T06:06:09.187
> 
> 标签：ruby-on-rails

我写了这段代码

```
namespace :db do
  task :seed, :only => {:primary => true}, :except => { :no_release => true } do 
    rails_env = ENV["RAILS_ENV"]
    current_path = File.dirname(__FILE__)
    run "cd #{current_path}; RAILS_ENV=#{rails_env} bundle exec rake db:seed"
  end
end 
```

我在 deploy:migrate 之后调用 db.seed

此代码适用于我的测试环境，但不适用于开发或集成环境。它显示此错误：

```
rake aborted!
undefined method `[]' for nil:NilClass
/Users/Megha/Documents/Mckinsey project/LeanITAppServer/config/initializers/authentication.rb:6:in `<top (required)>'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:245:in `load'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:245:in `block in load'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:236:in `load_dependency'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:245:in `load'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/railties-3.2.13/lib/rails/engine.rb:588:in `block (2 levels) in <class:Engine>'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/railties-3.2.13/lib/rails/engine.rb:587:in `each'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/railties-3.2.13/lib/rails/engine.rb:587:in `block in <class:Engine>'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/railties-3.2.13/lib/rails/initializable.rb:30:in `instance_exec'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/railties-3.2.13/lib/rails/initializable.rb:30:in `run'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/railties-3.2.13/lib/rails/initializable.rb:55:in `block in run_initializers'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/railties-3.2.13/lib/rails/initializable.rb:54:in `each'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/railties-3.2.13/lib/rails/initializable.rb:54:in `run_initializers'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/railties-3.2.13/lib/rails/application.rb:136:in `initialize!'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/railties-3.2.13/lib/rails/railtie/configurable.rb:30:in `method_missing'
/Users/Megha/Documents/Mckinsey project/LeanITAppServer/config/environment.rb:6:in `<top (required)>'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/railties-3.2.13/lib/rails/application.rb:103:in `require'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/railties-3.2.13/lib/rails/application.rb:103:in `require_environment!'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/railties-3.2.13/lib/rails/application.rb:297:in `block (2 levels) in initialize_tasks'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:346:in `block (2 levels) in <top (required)>'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/bin/ruby_noexec_wrapper:14:in `eval'
/Users/Megha/.rvm/gems/ruby-1.9.3-p392@bto/bin/ruby_noexec_wrapper:14:in `<main>'
Tasks: TOP => db:abort_if_pending_migrations => environment 
```

谁能告诉我有什么问题

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-11T09:09:47.870

使用此命令行

```
RAILS_ENV=development bundle exec rake db:seed 
```

如果它不起作用，您可以发布文件**/config/initializers/authentication.rb的内容**

# websphere-commerce - 在 Websphere Commerce RAD 7.5 / Eclipse 3.4.2 中手动安装插件？

> ID：15941776
> 
> 赞同：1
> 
> 时间：2013-04-11T06:06:10.193
> 
> 标签：websphere-commerce

我正在尝试在 IBM RAD 7.5 上手动安装 FindBugs。不幸的是，使用自动插件安装程序太旧了，所以我试图手动完成。

WebSphere 创建了许多名为“plugins”的目录。哪个是正确的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:39:40.583

找到 setenv.bat 文件。运行。检查环境变量 RAD_HOME 的设置。您的插件位于 %RAD_HOME%\dropins\wcde\eclipse\plugins 中。

对于示例/测试，请尝试使用以下说明安装 CheckStyle： http: [//eclipse-cs.sourceforge.net/downloads.html](http://eclipse-cs.sourceforge.net/downloads.html)

# computer-science - 如何处理卡诺图中保持单一的元素？

> ID：15941777
> 
> 赞同：0
> 
> 时间：2013-04-11T06:06:12.577
> 
> 标签：computer-science, boolean-expression, karnaugh-map

假设我面临这样一种情况，即我既不能形成 octect 也不能​​形成 quad 也不能与元素配对，并且它仍然是单个的。我该怎么办？我应该忽略它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:22:40.493

像这样的孤立元素（只要它不代表“无关”变量）是[基本质蕴涵项](http://en.wikipedia.org/wiki/Implicant#Prime_implicant)，因此必须包括在内

# r - mean vs Fivenum：不同的结果？

> ID：15941783
> 
> 赞同：2
> 
> 时间：2013-04-11T06:06:36.560
> 
> 标签：r

考虑以下：

```
> foo
 [1]   0   0 159  24   0 829   0 157  46  12   5   5 166 166   5  12   5   5 166 166   5  35
> mean(foo)
[1] 89.45455
> summary(fivenum(foo))
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0       5      12     201     159     829 
```

什么是smeg？我不明白为什么 Fivenum 计算的数字与“平均值”不同。我想问题出在我身上，但我无法弄清楚我做错了什么。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-11T06:09:37.100

你为什么`summary`打电话`fivenum`？

比较：

```
foo <- c(0, 0, 159, 24, 0, 829, 0, 157, 46, 12, 5, 5, 166, 166, 5, 12, 
         5, 5, 166, 166, 5, 35)
> mean(foo)
[1] 89.45455
> summary(foo)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   0.00    5.00   12.00   89.45  158.50  829.00 
> fivenum(foo)
[1]   0   5  12 159 829
> mean(fivenum(foo))
[1] 201
> summary(fivenum(foo))
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0       5      12     201     159     829 
```

`fivenum`返回长度为 5 的向量，*“返回输入数据的 Tukey 的五个数字摘要（最小值、下铰链、中值、上铰链、最大值）。”* . 请注意，那里没有提到`mean`:)

因此，当您这样做时，`summary(fivenum(foo))`您正在计算 vector 的汇总统计数据`c(0, 5, 12, 159, 829)`。对于那个向量，`mean`确实是 201。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-09-23T14:41:16.673

我想在这里再补充几点，因为我看到一些人对 summary() 和 Fivenum() 给出的四分位数感到困惑。

首先 - summary() 给出以下汇总统计数据：[最小值] [第一个四分位数] [中位数] [平均值] [第三个四分位数] [最大值]

然而，

Fivenum() 返回 Tukey 的五个数字摘要，即 [最小值] [下铰链] [中值] [上铰链] [最大值]

混乱来了——四分位数和下/上铰链有什么区别？

让我用一个例子来解释 - 在 R 中试试这个：

首先 - 具有奇数个值的向量“y”（本例中为 5）

```
> > y=c(2, 5, 8, 15, 8)
> > summary(y)    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
>     2.0     5.0     8.0     7.6     8.0    15.0 
> > fivenum(y) [1]  2  5  8  8 15 
```

如您所见，结果是相同的，除了 summary() 给出的平均值以及 Fivenum() 显示的值。

现在我只包含一个变量（新值：12）并将这个向量定义为“z”；请注意，向量计数现在是偶数（6 个值）

```
> z=c(2, 5, 8, 12, 15, 18)
> summary(z)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   2.00    5.75   10.00   10.00   14.25   18.00 
> fivenum(z)
[1]  2  5 10 15 18 
```

现在看看区别 - 虽然 summary() 给了你四分位数（基于四分位数或百分位数公式的计算值），这就是 Fivenum() 所做的 - 让它变得非常简单 - 你可以在没有数学计算的情况下做到这一点：

> Fivenum() 输出说明：
> 
> 首先，由 Fivenum() 给出的最小值、中值和最大值是直截了当的！
> 
> 下铰链 =（所有值的中值）左侧的值的中值 = 小于 10 的值的中值 = (2,5,8) 的中值 = 5
> 
> 上铰链 = (MEDIAN OF ALL VALUES) 右侧的值的中值 = 大于 10 的值的中值 = (12,15,18) 的中值 = 15

# blackberry-10 - 如何在黑莓级联黑莓10中发送彩信

> ID：15941786
> 
> 赞同：0
> 
> 时间：2013-04-11T06:07:08.137
> 
> 标签：blackberry-10, blackberry-cascades

你能告诉我如何在黑莓级联 C++ 中发送彩信吗？我已经成功地弄清楚了如何发送短信并且能够这样做，但现在我有兴趣发送彩信（有图像）但我无法做到这一点。

您能否提供一些示例代码或示例如何在黑莓 10（级联）中发送彩信？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T18:53:45.787

目前无法以编程方式发送彩信。

# android - 我如何存储从另一个活动收到的数据

> ID：15941787
> 
> 赞同：-1
> 
> 时间：2013-04-11T06:07:12.340
> 
> 标签：android

我在活动一中有三个活动，用户填写一个微调器，在活动二中他选择一个选项，在活动三中他输入他的详细信息。如何将所有这些数据存储在活动一到三的外部数据库中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:32:06.613

在 Spinner 中插入数据时，如果数据量大，则应使用 Sqlitedatabase，否则可以使用 Shared Preference，现在当您使用 SQLiteDatabase 之后，您可以使用`openOrCreateDatabase("DB_Name",SQLiteDatabase.CREATE_IF_NECESSARY, null);` SQLiteDatabase 的方法在 Any Activity 中使用 Data。当然这对你来说很容易。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:10:24.087

您需要存储数据，还是只将数据从一个传递到另一个？

如果您需要存储它，[SQLite](http://developer.android.com/reference/android/database/sqlite/package-summary.html)是众多选项中的一种。

如果您只需要将它从一个传递到下一个，那么您可能想要[额外的意图。](http://developer.android.com/guide/components/intents-filters.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T06:11:11.473

您需要有意图地传递值，并且在活动三中您可以插入数据库

```
intent.putExtra("key_name",value); 
```

参考[本](http://www.vogella.com/articles/AndroidIntent/article.html)教程

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-11T06:15:51.963

这是第一个活动

```
 Intent intent = new Intent(FirstaActivity.java,SecondActivity.class);
intent.putextra("Key",value);
startActivity(intent); 
```

在第二个活动

```
String data= getIntent().getStringExtra("Key");
Intent intent = new Intent(SecondActivity.java,ThirdActivity.class);
intent.putextra("Key",data);
startActivity(intent); 
```

在第三个活动

```
String data1= getIntent().getStringExtra("Key");
store data1 into database. 
```

# php - 你能看到逻辑错误吗

> ID：15941788
> 
> 赞同：0
> 
> 时间：2013-04-11T06:07:16.173
> 
> 标签：php, mysql, wordpress

我有这个脚本：

```
<?php
/**
 * The template for displaying all pages.
 * Template Name: modify.php
 * This is the template that displays all pages by default.
 * Please note that this is the WordPress construct of pages
 * and that other 'pages' on your WordPress site will use a
 * different template.
 *
 * @package WordPress
 * @subpackage Twenty_Twelve
 * @since Twenty Twelve 1.0
 */

get_header(); ?>

    <div id="primary" class="site-content">
        <div id="content" role="main">

            <?php while ( have_posts() ) : the_post(); ?>
                <?php get_template_part( 'content', 'page' ); ?>
                <?php comments_template( '', true ); ?>

            <?php endwhile; // end of the loop. ?>

<?php

$user_id = get_current_user_id();
if($user_id==0)
{
    echo "Login please";
    exit;
}

mysql_connect("localhost", "", "") or die (mysql_error());
#echo "Connected to MYSQL ";
mysql_select_db("derp") or die (mysql_error());
#echo "Connected to Data Base";
/*$query = "SELECT * FROM addserverame WHERE userId='{$user_id}'";
$result = mysql_query ($query) or die (mysql_error());*/

    if(!isset($_POST['submit'])) {
    $q = "SELECT * FROM addserverame WHERE ID = $_GET[id] AND userId='{$user_id}'";
    $result = mysql_query ($q);
    $person = mysql_fetch_array ($result);
    }

    ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Add Your Server</title>
<link rel="stylesheet" type="text/css" href="view.css" media="all">
<script type="text/javascript" src="view.js"></script>

</head>
<body id="main_body" >

    <img id="top" src="top.png" alt="">
    <div id="form_container">

        <h1><a>Modify Server</a></h1>
        <form id="form_606591" class="appnitro"  method="post" action="<?php echo $_SERVER['PHP_SELF']; ?>">
                    <div class="form_description">
            <h2>Add Your Server</h2>
            <p></p>
        </div>                      
            <ul >

                    <li id="li_1" >
        <label class="description" for="servername">Server Name </label>
        <div>
            <input id="element_1" name="Servername" class="element text medium" type="text" maxlength="255" value="<?php echo $person['servername']; ?>"/> 
        </div><p class="guidelines" id="guide_1"><small>Enter your server name here NOT your server address.</small></p> 
        </li>       <li id="li_2" >
        <label class="description" for="Serveraddress">Server Address </label>
        <div>
            <input id="element_2" name="Serveraddress" class="element text medium" type="text" maxlength="255" value="<?php echo $person['serveraddress']; ?>"/> 
        </div><p class="guidelines" id="guide_2"><small>This will the DNS name of your server</small></p> 
        </li>       <li id="li_3" >
        <label class="description" for="Portnumber">PortNumber </label>
        <div>
            <input id="element_3" name="Portnumber" class="element text medium" type="text" maxlength="255" value="<?php echo $person['portnumber']; ?>"/> 
        </div><p class="guidelines" id="guide_3"><small>This will be the port your server is using.</small></p> 
        </li>       <li id="li_4" >
        <label class="description" for="Description">Server Description </label>
        <div>
            <textarea id="element_4" name="Description" class="element textarea medium" value ="<?php echo $person['description']; ?>"></textarea> 
        </div><p class="guidelines" id="guide_4"><small>Enter server description/rules here.</small></p> 
        </li>

                    <li class="buttons">
                <input type="hidden" name="id" value="<?php echo $_GET['id']; ?>" />

                <input id="saveForm" class="button_text" type="submit" name="submit" value="Modify" />
        </li>
            </ul>
        </form> 
        <div id="footer">
        </div>
    </div>

    </body>-
</html>

<?

if(isset($_POST['submit'])) {
    $u = "UPDATE addserverame SET `servername`='$_POST[Servername]', `serveraddress`='$_POST[Serveraddress]', `portnumber`='$_POST[Portnumber]', `description`='$_POST[Description]' WHERE ID = $_POST[id] AND userId='{$user_id}'";
    mysql_query($u) or die (mysql_error());
    echo "Server Info Has Been Modified";
}
?>

    </div><!-- #primary -->
        </div><!-- Content -->

<?php //endif; ?>

<?php get_footer(); ?> 
```

我无法弄清楚逻辑错误是什么，如果有的话。

**会发生什么** 他们应该能够编辑它并更新表格。

**发生了什么** 用户将尝试编辑它，但它不会更新，没有成功的修改回显，它们被重定向到首页。

任何人都可以向我解释为什么会发生这种情况而不是我想要发生的事情。

谢谢

本

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T07:38:12.820

您的表单失败的可能原因是该表单没有在您的默认页面中运行，它路由到您的索引页面中的某个位置，因为它为您提供了正在执行的 php 文件并且 index.php 所以主要原因可能是您的表单操作即你在你的表单中使用动作，比如

```
action="<?php echo $_SERVER['PHP_SELF']; ?>" 
```

所以它可能会重定向到您的主页，即 index.php 所以将您的表单操作留空可能会对您有所帮助

# javascript - 如何将 ArrayBuffer 序列化为 BSON 对象以在 javascript 中进行 websocket 传输

> ID：15941789
> 
> 赞同：3
> 
> 时间：2013-04-11T06:07:20.783
> 
> 标签：javascript, node.js, mongodb, bson, arraybuffer

我想将带有**ArrayBuffer 元素的****javascript 对象**编码到. 然而，序列化的 BSON 对象比它应该的大 10 倍。**`BSON``websocket`**

 **代码是这样的：

```
var A = {buffer: new ArrayBuffer(1024)};

bson_buffer_size = BSON.calculateObjectSize(A) // returns 9164, I am expecting ~1024 
```

我对 BSON 序列化器的理解一定是错误的。有谁知道如何使用二进制缓冲区字段创建一个紧凑的 BSON 对象？**

# android - 从意图中获取数据

> ID：15941790
> 
> 赞同：2
> 
> 时间：2013-04-11T06:07:25.737
> 
> 标签：android, appcelerator-mobile

我对从活动的意图获取数据有点困惑，这就是我想要做的。

1.  我正在打开我的第一个活动
2.  我按下主页按钮，我的活动（应用程序）进入后台
3.  我去下载文件夹并选择一个文档文件，它给我打开功能，我的应用程序在列表中。
4.  我选择我的应用程序。
5.  现在它调用活动的创建方法而不是恢复（我认为它可以，因为我的应用程序的第二个实例（活动已创建））
6.  在这里，我尝试使用 intent = activity.getIntent(); 从意图中获取数据；
7.  但我什么也没得到（得到这个文档的预期路径为空）
8.  如果我首先使用 Open with feature 打开我的应用程序（现在没有后台活动），我会成功获得文件路径，但是当我按下主页按钮并且我的应用程序再次进入后台并且如果我再次从应用程序列表中按下我的应用程序时，意图具有相同的数据（期望在这种情况下为空。）

**我想要达到的目标：-**

我只是想如果用户来自应用程序列表意图数据应该为空，如果他来自 Open with function 那么他的意图数据应该是文件的路径。

还有一件事我正在 Appcelerator Titanium 中尝试这种行为，但因为这是本机行为（处理活动的生命周期，我可以在钛中做到这一点）但没有运气。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-29T08:43:45.303

我通过在 manfiest 文件中将我的活动作为**“singleInstance”来管理它。**所以现在我可以确定同一实例正在运行。

现在为了处理意图数据，我正在注册**onNewInstance**方法。每当我来自后台或选择任何文件以使用我的应用程序打开时，使用此意图数据都会受到影响。

谢谢。

# php - 登录系统只是将您重定向到索引页面

> ID：15941792
> 
> 赞同：1
> 
> 时间：2013-04-11T06:07:56.327
> 
> 标签：php, mysql, login

即使密码正确，我的登录系统也会将您重定向到索引页面，以下是一些可能存在问题的文件：

**登录检查.php：**

```
<?php
    require("header.inc.php");
    if (isset($_POST['submitButton'])) 
    {
        if(!isset($_POST['username']))
        {
            die("The username and password fields were not set.");
        }
        else if(!isset($_POST['password'])) 
        {
                die("Error: The password field was not set.");
        }

        $password = hash("sha512", $_POST['password']); 

        $query = mysql_query("SELECT `id` FROM `users` WHERE `name` = '" . mysql_real_escape_string($_POST['username']) . "' AND `password` = '" . mysql_real_escape_string($password) . "'");
        if(mysql_num_rows($query))
        {
            $sessID = mysql_real_escape_string(session_id());
            $hash = mysql_real_escape_string(hash("sha512", $sessID.$_SERVER['HTTP_USER_AGENT']));
            $userData = mysql_fetch_assoc($query);
            $expires = time() + (60 * 15);

            mysql_query("INSERT INTO `active_users` (`user`, `session_id`, `hash`, `expire`) VALUES ('" . (int) $userData['id'] . "', '" . $sessID . "', '" . $hash . "', '" . $expires . "')");
            header("Location: ./Dashboard.php");
            exit;
        }
        else {
            header("Location: ./index.php");
            exit;
        }
    }
    ?> 
```

**页眉.inc.php：**

```
<?php
    session_start();
    require("connection.php");

    $user = IsLoggedIn();

    if($user)
    {
        $expires = time() + (60 * 15);
        mysql_query("UPDATE 'active_users' SET 'expires' = '" . $expires . "' WHERE 'user' = " . (int) $user . "");

    }

    function IsLoggedIn()
    {
        $sessID = mysql_real_escape_string(session_id());
        $hash = mysql_real_escape_string(hash("sha512", $sessID.$_SERVER['HTTP_USER_AGENT']));

        $query = mysql_query("SELECT `user` FROM `active_users` WHERE `session_id` = '" . $sessID . "' AND `hash` = '" . $hash . "' AND `expires` > " . time(). "");

        $data = mysql_fetch_assoc($query);
        if(mysql_num_rows($query))
        {
            return $data['user'];
        }
        else {
            return false;
        }

    }
    ?> 
```

**仪表板.php：**

```
<?php
require("header.inc.php");
if($user)
{
    print("Welcome to the dashboard!");
}
else {
    header("Location: ./index.php");
    end;
}
?> 
```

**索引页**

```
<?php
require("header.inc.php");
?>
<head>
<title>Zalman's UCP</title>
<link rel="stylesheet" type="text/css" href="CSS/main.css">
<link rel="shortcut icon" href="Images/Favicon.ico" type="image/x-icon" />
</head>
<body>

<div id="Youtube_Button"><img src="Images/Icons/Youtube Icon.png" width="34" height="28"></div>
<div id="Twitter_Button"><img src="Images/Icons/Twitter Icon.png" width="34" height="28"></div>
<div id="Line1"><img src="Images/line.png" width="10" height="605"></div>
<div id="container">
This is Zalman's, from scratch UCP, Development Stage: Alpha
<div id="Header">
<div id="Logo">
<center><a href="index.php">ZALMAN</a></center>
</div>
<div id="LoginBox"><center>Login in</center></div>
<div id="Login">

<?php
print("<form id=\"LoginForm\" method=\"post\" action=\"./LoginCheck.php\">\n");
print("Username: <input type=\"text\" name=\"username\" id=\"username\"/><br /><br />\n");
print("Password: <input type=\"password\" name=\"password\" id=\"password\"/><br /><br />\n");
print("<button type=\"submit\" name=\"submitButton\" id=\"sumbitButton\">Login</button>\n");
print("</form>\n");
 ?>
</div> 
</body> 
```

问题是密码和用户名都是正确的，但是当您输入它们时，它只会将您重定向到索引页面，而它应该将您重定向到 Dashboard.php

# backbone.js - 视图未显示在主干.marionette

> ID：15941797
> 
> 赞同：0
> 
> 时间：2013-04-11T06:08:07.483
> 
> 标签：backbone.js, marionette, backbone-views

我试图构建一个示例来演示 Backbone.Marionette 的区域和布局。但我坚持布局，虽然我调用 layout.region.show() ，但它没有显示在 DOM 中的任何地方。

完整的例子可以在这个[JsFiddle](http://jsfiddle.net/mdsahib/MWmhe/4/)中找到。

这是布局部分：

```
AppLayout = Backbone.Marionette.Layout.extend({
template: "#layout-template",
  el : "layout-containr",

regions: {
  menu: "#menu",
  content: "#content"
} 
```

});

布局模板：

```
<script id="layout-template" type="text/template">
<section>
  <div id="menu"></div>
  <div id="content"></div>
</section> 
```

这是我显示布局的方式：

```
var layout = new AppLayout();
layout.render();
layout.menu.show(gridView); 
```

GridView 的定义可以在这里找到：

```
 var GridView = Backbone.Marionette.CollectionView.extend({
itemView: GridRow,
  el:'#menu'

}); 
```

完整的例子可以在这个[JsFiddle](http://jsfiddle.net/mdsahib/MWmhe/4/)中找到。

我有一个免费的问题：

布局如何知道***它应该附加在哪里***？？？我在网上的任何地方都没有找到它，这让我确信我在这里遗漏了一些概念。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:19:02.683

您需要更大的区域来显示应用程序级别的布局。

通常当你初始化一个 Marionette 应用程序时，你会有一些顶层区域来显示你想要稍后渲染的布局。

```
App.addInitializer =>
  App.addRegions
    menuRegion: '#header'
    contentRegion: '#stage' # These DOM come from your application layout 
```

然后在您的控制器中，您在顶层区域中显示这些布局。

```
indexShow: ->

  layout = new App.Layouts.SomeLayout()
  App.contentRegion.show(layout)

  someView = new App.Views.SomeView()
  anotherView = new App.Views.AnotherView()

  layout.someSubRegion.show(someView)
  layout.anotherSubRegion.show(anotherView) 
```

`el`而且，您的视图或布局中通常不需要

# android - 将数组格式的JSON字符串转换为java中的数组

> ID：15941799
> 
> 赞同：1
> 
> 时间：2013-04-11T06:08:11.037
> 
> 标签：android

我正在尝试将以下字符串作为 json 对象：

```
 [
    {
        "id": "picture1",
        "caption": "sample caption",
        "picname": "sample picture name"
      }
 ] 
```

并将它变成一个数组，这样我就可以填充一个列表

我已经尝试通过这样做将它变成一个 jsonarray：

```
JSONArray myjsonarray = myjson.toJSONArray(string_containing_json_above); 
```

但这似乎不起作用。

===============

这是工作解决方案的完整代码

```
myjson = new JSONObject(temp);
String String_that_should_be_array = myjson.getString("piclist");
JSONArray myjsonarray = new JSONArray(String_that_should_be_array);
For(int i = 0; i < myjsonarray.length(); i++){
    JSONObject tempJSONobj = myjsonarray.getJSONObject(i);
    showToast(tempJSONobj.get("caption").toString());
} 
```

temp 是来自服务器的 json

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T06:12:29.720

**问题在这里：**

```
JSONArray myjsonarray = myjson.toJSONArray(temparray); 
```

**解决方案：**

```
JSONArray myjsonarray = new JSONArray(myJSON);   
// myJSON is String 
```

现在在这里你有 JSONArray，迭代它并准备`ArrayList`你想要的任何类型。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-11T06:19:12.290

在这里你得到 JSONArray 所以改变

```
JSONArray myjsonarray = myjson.toJSONArray(temparray); 
```

线如下图

```
JSONArray jsonArray = new JSONArray(readlocationFeed); 
```

之后

```
 JSONArray jsonArray =  new JSONArray(readlocationFeed);

    for (int i = 0; i < jsonArray.length(); i++) {
        JSONObject explrObject = jsonArray.getJSONObject(i);
        explrObject.getString("caption");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T06:14:47.840

JSONArray 不起作用，因为您提供的 JSON 不是数组。您可以在此处阅读有关 JSON 语法的更多信息：http: [//www.w3schools.com/json/json_syntax.asp](http://www.w3schools.com/json/json_syntax.asp)

同时，您可以通过一次将 JSON 解析为一个字符串来手动创建数组。

```
JSONObject strings = new JSONObject(jsonString);
String array[] = new String[5];

if (jsonString.has("id"){
    array[0] = jsonString.getString("id");
}
if (jsonString.has("caption"){
    array[1] = jsonString.getString("caption");
}
... 
```

等等

# css - 将 img 调整为窗口大小，保持纵横比/高度或宽度不溢出

> ID：15941803
> 
> 赞同：0
> 
> 时间：2013-04-11T06:08:26.190
> 
> 标签：css, image, html, resize, fluid

我意识到这个问题已经被多次以不同措辞的标题和选项提出，但我还没有找到适合我的东西。

我试图让 img 填充大部分屏幕（保持其纵横比）而不会溢出边缘。（基本上是firefox浏览器在查看图像时完成的）

我尝试过的大多数都只在一个方向上起作用，即。宽度将调整大小，但最终会溢出高度，而对于另一种方式，无论是使用 CSS 还是 JScript 都相同。在我的麻烦中还有一个因素是我想将它应用于纵向和横向图像（或多或少我在网站上拥有的任何图像）

这似乎应该使用纯 CSS 工作，但没有（虽然我对所有 CSS 并不完全了解）：

[链接到 JSFiddle](http://jsfiddle.net/XCfQg/4/ "JSFiddle")

```
body, html {
    margin:auto;
    padding:6px;
    height:100%;
    width:100%;

}
img {
    max-width:100%;
    max-height:100%;
} 
```

还有很多其他脚本，但是这篇文章有点长。

任何人都可以帮助我在屏幕中包含我的图像，使用 JQuery 或 CSS（在 DIV 之内或没有 DIV 之内）

提前致谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T16:00:55.183

试试这个 jQuery 插件：**[TailorFit](https://github.com/rtheunissen/tailorfit)** 并查看**[演示](http://dev.fhmp.net/tailorfit/demo/)**。

您可以在演示中使用各种选项来确定这是否适合您。浏览器支持是极端的，因为它只使用 jQuery 和相对定位。

完全披露 - 我是插件的作者。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:14:32.300

现在定义你的`html, body height 100%;`

像这样

```
body, html {
     height:100%;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T04:29:09.880

* * *

**我的答案：**

我最终只是将图像包装在一个 div 中并在 CSS 中设置 div 尺寸：

[纯 CSS 调整大小](http://jsfiddle.net/jcAGj/ "纯 CSS 调整大小")

不幸的是，这种方法在较旧的浏览器中可能看起来很糟糕，但它至少让我摆脱了泡菜，而且它的样式很小。

希望我能很快找到一些 jQuery 替代品。

```
body, html {
    width:98%;
    height:98%;
}
.outer {
  position:fixed !important;
  position:absolute;
  margin:auto;
  text-align:center;
  top:10px;
  right:0;
  bottom:10px;
  left:0;
}
img {
max-width:100%;
max-height:100%;    
padding:4px;
background-color:#fff;
}

----
<div class="outer">
<img src="whatever.jpg" />
</div> 
```

# mysql - 如何解决这个问题：在基于其他一些视图创建的视图上选择很慢

> ID：15941805
> 
> 赞同：0
> 
> 时间：2013-04-11T06:08:27.753
> 
> 标签：mysql, view, subquery

我想在 MySQL 中创建一个视图。您可能已经知道，MySQL 不支持子查询。所以我必须为我在主视图中使用的每个子查询创建一个视图。

我已经创建了我的视图。但我注意到`SELECT`这个视图非常慢，这是因为它是在其他一些视图上创建的。（普通视图很快，但这个不是）

我想知道这个问题是否有解决方案？
有没有什么技术可以让它更快？
有没有其他方法，不制作视图而不是子查询？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T07:16:29.257

尝试使用子查询重写您的查询。它们中的大多数都可以重构，只需使用 JOIN 子句而不是子查询。

关于 MySQL 中的视图，它们可能会很慢，这里有一篇关于性能的文章 - [MySQL VIEW 作为性能麻烦制造者](http://www.mysqlperformanceblog.com/2007/08/12/mysql-view-as-performance-troublemaker/)。

# sql - 在 vb.net 中使用 sql 参数进行更新

> ID：15941808
> 
> 赞同：0
> 
> 时间：2013-04-11T06:09:03.820
> 
> 标签：sql, vb.net, parameters, combobox, textbox

我的代码返回错误说

> 违反主键约束“PK_tblOfficeEquipmentProfile”。无法在对象“tblOfficeEquipmentProfile”中插入重复键。

这是我的代码：

```
Private Sub btnUpdate_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles btnUpdate.Click
    Dim sqlconn As New SqlClient.SqlConnection
    sqlconn.ConnectionString = "server = SKPI-APPS1;" & _
    "Database = EOEMS;integrated security=true"

    Dim myCommand As SqlCommand

    'parametrized update sql command
    Try
        sqlconn.Open()

        myCommand = New SqlCommand("UPDATE tblOfficeEquipmentProfile SET OE_Category = @OE_Category, OE_SubCategory = @OE_SubCategory, OE_ID = @OE_ID, OE_Name = @OE_Name, OE_User = @OE_User, OE_Brand = @OE_Brand, OE_Model =@OE_Model, OE_Specs =@OE_Specs, OE_SerialNo =@OE_SerialNo, OE_PropertyNo = @OE_PropertyNo, OE_MacAddress = @OE_MacAddress, OE_Static_IP = @OE_Static_IP, OE_Vendor = @OE_Vendor, OE_PurchaseDate =@OE_PurchaseDate, OE_WarrantyInclusiveYear=@OE_WarrantyInclusiveYear, OE_WarrantyStatus=@OE_WarrantyStatus,OE_Status=@OE_Status,OE_Dept_Code=@OE_Dept_Code,OE_Location_Code=@OE_Location_Code,OE_Remarks=@OE_Remarks", sqlconn)
        myCommand.Parameters.Add("@OE_Category", cmbCategory.Text)
        myCommand.Parameters.Add("@OE_SubCategory", cmbSubCategory.Text)
        myCommand.Parameters.Add("@OE_ID", txtOEID.Text)
        myCommand.Parameters.Add("@OE_Name", txtName.Text)
        myCommand.Parameters.Add("@OE_User", txtUser.Text)
        myCommand.Parameters.Add("@OE_Brand", cmbBrand.Text)
        myCommand.Parameters.Add("@OE_Model", cmbModel.Text)
        myCommand.Parameters.Add("@OE_Specs", txtSpecs.Text)
        myCommand.Parameters.Add("@OE_SerialNo", txtSerialNo.Text)
        myCommand.Parameters.Add("@OE_PropertyNo", txtPropertyNo.Text)
        myCommand.Parameters.Add("@OE_MacAddress", txtMacAddress.Text)
        myCommand.Parameters.Add("@OE_Static_IP", txtStaticIp.Text)
        myCommand.Parameters.Add("@OE_Vendor", cmbVendor.Text)
        myCommand.Parameters.Add("@OE_PurchaseDate", txtPurchaseDate.Text)
        myCommand.Parameters.Add("@OE_WarrantyInclusiveYear", cmbWarrantyInclusiveYear.Text)
        myCommand.Parameters.Add("@OE_WarrantyStatus", txtWarrantyStatus.Text)
        myCommand.Parameters.Add("@OE_Status", txtStatus.Text)
        myCommand.Parameters.Add("@OE_Dept_Code", cmbDeptCode.Text)
        myCommand.Parameters.Add("@OE_Location_Code", cmbLocationCode.Text)
        myCommand.Parameters.Add("@OE_Remarks", cmbRemarks.Text)

        myCommand.ExecuteNonQuery()
    Catch ex As Exception
        MsgBox(ex.Message)
        MsgBox("Successfully Updated Records")
    End Try
End Sub 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T06:22:24.773

检查表 tblOfficeEquipmentProfile 的主键

基于主字段，您可以更新其余字段，意味着删除主键字段的更新

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T07:16:08.867

根据您的主要字段 OE_ID 检查使用位置

myCommand = New SqlCommand("更新 tblOfficeEquipmentProfile SET OE_Category = @OE_Category，OE_SubCategory = @OE_SubCategory，OE_Name = @OE_Name，OE_User = @OE_User，OE_Brand = @OE_Brand，OE_Model =@OE_Model，OE_Specs =@OE_Specs，OE_SerialNo =@OE_SerialNo，OE = @OE_PropertyNo, OE_MacAddress = @OE_MacAddress, OE_Static_IP = @OE_Static_IP, OE_Vendor = @OE_Vendor, OE_PurchaseDate =@OE_PurchaseDate, OE_WarrantyInclusiveYear=@OE_WarrantyInclusiveYear, OE_WarrantyStatus=@OE_WarrantyStatus,OE_Status=@OE_Status,OE_Dept_Code=@OE_Dept_Code,OE_Location_Code=@OE_Location_Code,OE_Remarks =@OE_备注

其中 OE_ID = @OE_ID", sqlconn)

```
 myCommand.Parameters.Add("@OE_Category", cmbCategory.Text)
    myCommand.Parameters.Add("@OE_SubCategory", cmbSubCategory.Text)
    myCommand.Parameters.Add("@OE_ID", txtOEID.Text)
    myCommand.Parameters.Add("@OE_Name", txtName.Text)
    myCommand.Parameters.Add("@OE_User", txtUser.Text)
    myCommand.Parameters.Add("@OE_Brand", cmbBrand.Text)
    myCommand.Parameters.Add("@OE_Model", cmbModel.Text)
    myCommand.Parameters.Add("@OE_Specs", txtSpecs.Text)
    myCommand.Parameters.Add("@OE_SerialNo", txtSerialNo.Text)
    myCommand.Parameters.Add("@OE_PropertyNo", txtPropertyNo.Text)
    myCommand.Parameters.Add("@OE_MacAddress", txtMacAddress.Text)
    myCommand.Parameters.Add("@OE_Static_IP", txtStaticIp.Text)
    myCommand.Parameters.Add("@OE_Vendor", cmbVendor.Text)
    myCommand.Parameters.Add("@OE_PurchaseDate", txtPurchaseDate.Text)
    myCommand.Parameters.Add("@OE_WarrantyInclusiveYear", cmbWarrantyInclusiveYear.Text)
    myCommand.Parameters.Add("@OE_WarrantyStatus", txtWarrantyStatus.Text)
    myCommand.Parameters.Add("@OE_Status", txtStatus.Text)
    myCommand.Parameters.Add("@OE_Dept_Code", cmbDeptCode.Text)
    myCommand.Parameters.Add("@OE_Location_Code", cmbLocationCode.Text)
    myCommand.Parameters.Add("@OE_Remarks", cmbRemarks.Text) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T06:17:45.630

嗨，这个查询更新表中的所有数据，所以如果你有一些唯一的 ID，你不能用相同的 ID 更新，我认为你需要在这个查询中添加 Where 语句。

# wicket - Apache wicket：组件在内存中存在多长时间以记住先前的状态

> ID：15941809
> 
> 赞同：0
> 
> 时间：2013-04-11T06:09:05.457
> 
> 标签：wicket, wicket-1.6

我有一个问题，Wicket 组件在内存中存在多少时间来记住其先前的状态。有时间限制吗？例如，大约 20 分钟的会话超时......？如果发生这种情况，当有很多用户（比如 100 万用户访问服务器）时。检票口会保持稳定还是内存不足？如果可能，请在检票口中解释请求的内部处理。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T12:22:48.460

Wicket 中的组件仅作为页面组件树的一部分存在。有状态页面将在会话期间保留，因此其组件将存在一样长的时间。

但是：默认情况下，只有最近渲染的页面实际上会在会话本身中。较旧的页面被异步序列化并存储在磁盘上。这些旧页面很少需要，并且会在请求时再次加载。这样，Wicket 可以快速响应，同时保持较低的内存占用。

# asp.net - 如何在 IIS 服务器中启用消息框

> ID：15941811
> 
> 赞同：1
> 
> 时间：2013-04-11T06:09:14.793
> 
> 标签：asp.net, vb.net, iis-7

我正在使用 vb.net 2008 构建 Web 应用程序。

当我使用通用编译器进行调试时，它可以显示消息框，但是当我使用 IIS 服务器时，消息框无法显示并导致错误页面。

错误页面说：

> 当应用程序未在 UserInteractive 模式下运行时显示模式对话框或表单不是有效操作。指定 ServiceNotification 或 DefaultDesktopOnly 样式以显示来自服务应用程序的通知。

是否需要进行任何设置来解决这种情况？

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:14:34.450

正如错误消息已经告诉您的那样，使用可以指定`ServiceNotification`or`DefaultDesktopOnly`样式：

> [MessageBoxOptions 枚举](http://msdn.microsoft.com/de-de/library/system.windows.forms.messageboxoptions.aspx)
> 
> **服务通知**
> 
> 消息框显示在活动桌面上。调用者是通知用户事件的服务。即使没有用户登录到计算机，该功能也会在当前活动桌面上显示一个消息框。
> 
> **DefaultDesktopOnly**
> 
> 消息框显示在活动桌面上。此常量与ServiceNotification 相同，只是系统只在交互式窗口站的默认桌面上显示消息框 DefaultDesktopOnly 会导致引发MessageBox 的应用程序失去焦点。显示的 MessageBox 不会使用视觉样式。有关详细信息，请参阅使用视觉样式呈现控件。

但是问问你自己：当你运行一个 Web 应用程序时，如何坐在服务器前，准备阅读并单击`MessageBox`？也许想要将此类消息写入事件或应用程序日志。

# php - 如何更改索引 3、5 和 15 的循环行为？

> ID：15941815
> 
> 赞同：1
> 
> 时间：2013-04-11T06:09:29.700
> 
> 标签：php, for-loop

我不想显示数字 3、5 和 15。我希望你在我的程序运行时显示

> 1 2 三 4 五 6 7 ...

```
$var1 = 3;
$var2 = 5;
$var3 = 15;

for ($i=1; $i<=100; $i++) {

  if($i<=3){
    if (($i%$var1)==0) 
      echo 'Three' .'<br/>';
  } 

  if($i<=5)
    if (($i%$var2)==0) {
      echo 'Five' .'<br/>';
    }

  if($i<=15) 
    if ((($i%$var3)==0)) {
      echo 'ThreeFive' .'<br/>';
    }

  echo $i.'<br/>';  
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T06:13:01.787

一个相当粗略但可行的解决方案是：

```
$var1 = 3;
$var2 = 5;
$var3 = 15;

for( $i=0; $i<100; $i++ ) {
  switch( $i ) {
    case $var1: echo 'Three<br>'; break;
    case $var2: echo 'Five<br>'; break;
    case $var3: echo 'ThreeFive<br>'; break;
    default:    echo $i.'<br>';
  }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T06:13:35.757

检查此代码

```
$exclude_array = array(3,5,15);
for($i = 0;$i < 100; $i++){
   if(!in_array($i,$exclude_array))
   echo $i;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T06:22:25.287

一个更优雅的解决方案......

```
$alter = array(3=>"Three<br>", 5=>"Five<br>", 15=>"ThreeFive<br>");
for($i=0; $i<100; $i++) echo isset($alter[$i]) ? $alter[$i] : $i; 
```

我想你想在每次被 3 或*5整除时打印**3*和5。然后你可以这样改变它：*`$i`*

 *```
$alter = array(3=>"Three", 5=>"Five");
for($i=0; $i<100; $i++) {
    $print_word = false;
    foreach($alter as $key=>$val) if($i>0 && $i%$key==0) {
        echo $val;
        $print_word = true;
    }
    echo $print_word ? "<br>" : $i;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-11T06:31:06.540

试试这个:)

```
 <?php

    $var1 = 3;
    $var2 = 5;
    $var3 = 15;

    for ($i=1; $i<=100; $i++) {
        if($i == $var1){
            echo "three <br />";
        }elseif($i == $var2){
            echo "five <br />";
        }elseif($i == $var3){
            echo "Fifteen <br />";
        }else{
            echo $i."<br />";
        }
    }

?> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-11T06:13:48.280

尝试这个-

```
 $var1 = 3;
             $var2 = 5;
             $var3 = 15;

              for ($i=1; $i<=100; $i++) {

             if ($i==$var1) 
            echo 'Three' .'<br/>';

            else if ($i==$var2) {
            echo 'Five' .'<br/>';
           }

            else if ($i==$var3) {
            echo 'ThreeFive' .'<br/>';
           }
else
            echo $i.'<br/>';  
           } 
```*

# java - Java - 理解递归

> ID：15941818
> 
> 赞同：6
> 
> 时间：2013-04-11T06:09:31.637
> 
> 标签：java, recursion

有人可以向我解释为什么会打印出 1 2 3 4 5 吗？我认为它会打印出 4 3 2 1 0 但我的书和日食都说我错了。

```
public class whatever {

    /**
     * @param args
     */
    public static void main(String[] args) {
        xMethod(5);

    }

    public static void xMethod(int n){
        if (n>0){
            xMethod(n-1);
            System.out.print(n + " ");
        }
    }

} 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-04-11T06:14:15.660

这很简单，这些是调用

```
main
   xMethod(5)
      xMethod(4)
          xMethod(3)
             xMethod(2)
                 xMethod(1)
                     xMethod(0)
                 print 1
             print 2
          print 3
      print 4
  print 5 
```

所以你看到打印是 1,2,3,4,5

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-11T06:17:28.143

这是调用堆栈的结果。这是与 通话后的样子`n = 5`。将你的头旋转大约 180 度，因为这个调用链的底部实际上是堆栈的顶部。

*   x方法(5)
    *   x方法(4)
        *   x方法(3)
            *   x方法(2)
                *   x方法(1)
                    *   x方法(0)

在递归调用中，您有两种情况 - 基本情况和递归情况。这里的基本情况是 when `n == 0`，并且不会发生进一步的递归。

现在，当我们开始从这些电话中回来时会发生什么？也就是说，递归步骤*之后*会发生什么？我们开始做`System.out.print()`。由于有一个条件阻止递归**和**打印 when `n == 0`，我们既不递归也不打印。

因此，您获得`1 2 3 4 5`输出的原因是由于调用从堆栈中弹出的方式。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-11T06:12:07.320

它首先以递归方式调用自身，并且只有在递归调用完成时才会打印。所以想想哪个调用首先完成 - 它是当 n = 0 时。然后是 n = 1，等等。

它是一个堆栈，您在从堆栈中取出后打印（在递归调用之后），所以顺序是相反的。如果您在放入堆栈之前打印，则保留顺序。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-11T06:12:15.127

```
System.out.print(n + " ");
xMethod(n-1); 
```

它将打印 5 4 3 2 1。因为它将首先打印然后调用 xMethod。

在你的情况下

```
xMethod(n-1);
System.out.print(n + " "); 
```

在这里它将达到结束条件，然后弹出并打印。所以 1 2 3 4 5

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-12-10T10:19:51.757

为了解释递归是如何工作的，让我们看一下阶乘计算的示例：

```
int factorial(int i) {
    if (i == 0) {
        return 1;
    }
    return i * factorial(i - 1);
} 
```

例如，让我们得到 5 的阶乘值：

```
int result = factorial(5); 
```

记住退出值：

```
if (i == 0) {
   return 1;
} 
```

和返回值：

```
i * factorial(i - 1) 
```

只看迭代（根据返回值）：

```
5*factorial(4) -> 4*factorial(3) -> 3*factorial(2) -> 2*factorial(1) -> 1*factorial(0) 
```

事实上它是：

```
5*(4*(3*(2*(1*factorial(0))))) 
```

原因`factorial(4) == 4*factorial(3), factorial(3) == 3*factorial(2)`等

最后一次迭代是`factorial(0)`等于`1`（查看退出值）。

结果：

```
5*(4*(3*(2*(1*1)))) = 120 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-11T06:14:08.600

`xMethod`被称为直到`n`is `0`。然后堆栈将是`xMethod(5)->xMethod(4)->xMethod(3)->xMethod(2)->xMethod(1)->xMethod(0)`。完成`xMethod(0)`后，它将弹出到下一行`xMethod(1)`，打印`1`。然后这将重复，直到`xMethod(5)`退出。

如果您`xMethod`在调用每个函数时对其进行扩展，代码将如下所示：

```
{
    nA = 5 // What n was set at first
    if (nA>0){
        { 
            // Instead of xMethod(n-1), 
            // we're setting nB to nA - 1 and 
            // running through it again.
            nB = nA - 1  // nB is 4

            if (nB>0){
                { 
                    nC = nB - 1 // nC is 3
                    if (nC>0){
                        { 
                            nD = nC - 1 // nD is 2
                            if (nD>0){
                                {
                                    nE = nD - 1 // nE is 1
                                    if (nE>0){
                                        {
                                            nF = nE - 1 // nF is 0.
                                            if (nF>0){
                                                // This will never execute b/c nF is 0.
                                            }
                                        }
                                        System.out.print(nE + " "); // prints 1
                                    }
                                }
                                System.out.print(nD + " "); // prints 2
                            }
                        }
                        System.out.print(nC + " "); // prints 3
                    }
                }
                System.out.print(nB + " "); //prints 4 
            }
        }
        System.out.print(nA + " "); //prints 5
    }
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-11T06:14:56.343

```
 1 public static void xMethod(int n){
   2    if (n>0){ //the base condition
   3         xMethod(n-1); //function is again called with one value less than previous
   4         System.out.print(n + " "); //now print
   5     }
   6  } 
```

现在看第 3 行，由于没有打印任何内容，但再次调用了该函数，因此从第 3 行开始，调用再次到达第 1 行。这意味着，n 是 5，但新调用需要 n = 4，并且它一直持续到第 2 行告诉 n 现在小于 0。

当 if 条件在第 2 行失败时，它到达第 5 行，然后到达第 6 行，这意味着函数已经结束执行，此时 n = 1。

现在应该在哪里返回呼叫？在调用最后一个函数的第 3 行，它将从执行第 4 行的堆栈中弹出，该行打印 n 的值，即 1 2 3 4 5。

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2013-04-11T06:13:13.737

这个 xMethod(n-1); System.out.print(n + " ");

应该：

```
 System.out.print(n + " ");
        xMethod(n-1); 
```

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2013-04-11T06:11:09.737

这是正确的代码

```
System.out.print(n + " ");
xMethod(n-1); 
```

# flash - 如果 RTMP 和 RTMPT 都在端口 80 处被阻止，有什么替代方案

> ID：15941822
> 
> 赞同：1
> 
> 时间：2013-04-11T06:09:41.833
> 
> 标签：flash, jwplayer, rtmp, amazon-cloudfront

我们使用 Cloudfront 和 JWPLayer 5.9 进行视频流（内部使用 adobe 媒体服务器）。在我们的少数客户端位置，RTMP 端口 1935 被阻止，然后它确实回退到端口 80 的 RTMPT，但即使这样，错误消息也是“找不到服务器”。所以看起来RTMPT也被阻止了。

HTTP 渐进式下载或 HLS 适用于最新的浏览器，甚至不是 IE8。许多企业客户将 IE8 作为主要浏览器。

还有哪些其他选择（如果有）？帮助赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T04:40:00.220

检查并查看网络上是否有 Palo Alto Networks 防火墙或其他具有“深度检查”功能的设备。RTMP 看起来像点对点 (P2P) 网络，因此被过滤。

此外，许多实体故意阻止看起来像流视频的流量。其他系统会认为这是通过端口 80 进行的文件传输 - 为防止 IP 泄漏，该端口被阻止。最后，旨在检测 HTTP VPN 的规则也将通过端口 80 阻止封装的 RTMP。

您可以将流量重定向到任何端口 - 请参阅 Adob​​e 文档。最后 - 测试任何使用 Flash 的网站 - 如果可行，JW 播放器或这应该可以解决问题：

[http://opensource.adobe.com/wiki/dis...CBECA04D05A1AF](http://opensource.adobe.com/wiki/dis...CBECA04D05A1AF)

祝你好运

保罗

# android - 在eclipse android中使用gst-launch

> ID：15941828
> 
> 赞同：0
> 
> 时间：2013-04-11T06:10:04.140
> 
> 标签：android, eclipse, gstreamer

我已经在 eclipse(juno) 中配置了 gstreamer。我需要开发一个通过 udp 接受 mpeg-ts 的媒体播放器。所以，我需要使用 udpsrc 插件。为此，我需要使用工具 gst-launch，但我不知道如何。谁能帮帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T06:28:31.477

尝试使用**gst_parse_launch()**。gst-launch 是围绕一个名为 gst_parse_launch() 的函数构建的。

此函数采用管道的文本表示并将其转换为实际管道，这非常方便。你可以在这里找到它的文档：[http ://www.freedesktop.org/software/gstreamer-sdk/data/docs/2012.5/gstreamer-0.10/gstreamer-GstParse.html#gst-parse-launch](http://www.freedesktop.org/software/gstreamer-sdk/data/docs/2012.5/gstreamer-0.10/gstreamer-GstParse.html#gst-parse-launch)

此外，gst-launch 是在命令行上指定的工具（打开命令提示符）。确保已将**路径**变量设置为提取 SDK 的 bin 文件夹。

# cassandra - 无法使用 cassandra-cli 删除超列

> ID：15941829
> 
> 赞同：0
> 
> 时间：2013-04-11T06:10:10.837
> 
> 标签：cassandra, super-columns

```
[default@keyspace] get fv['user:/file.txt'];
=> (super_column=1365647977415,
     (column=6363, value=0000000000000001, timestamp=1368238637628082)
     (column=6c6d64, value=0000013f79344eb2, timestamp=1368238637628081)
     (column=7362, value=000000000000003a, timestamp=1368238637628083))
=> (super_column=1365653962252,
     (column=6363, value=0000000000000001, timestamp=1368238637727277)
     (column=6c6d64, value=0000013f798fbee6, timestamp=1368238637727276)
     (column=7362, value=0000000000000045, timestamp=1368238637727278))

del fv['user:/file.txt'][1365647977415];
column removed.

get fv['user:/file.txt'];
=> (super_column=1365647977415,
     (column=6363, value=0000000000000001, timestamp=1368238637628082)
     (column=6c6d64, value=0000013f79344eb2, timestamp=1368238637628081)
     (column=7362, value=000000000000003a, timestamp=1368238637628083))
=> (super_column=1365653962252,
     (column=6363, value=0000000000000001, timestamp=1368238637727277)
     (column=6c6d64, value=0000013f798fbee6, timestamp=1368238637727276)
     (column=7362, value=0000000000000045, timestamp=1368238637727278)) 
```

这怎么可能？比较器是ByteType，我用过

```
assume fv comparator as LongType; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T07:22:23.340

问题出在比现在更新的列时间戳中。小心，伙计们。

```
=> (super_column=1365647977415,
     (column=6363, value=0000000000000001, timestamp=1368238637628082) 
```

1368238637628082 == 2013 年 5 月 11 日星期六 02:17:17 GMT

现在是 2013 年 4 月 11 日星期四 07:10:36 GMT

# database - Zend Framework 多数据库问题

> ID：15941831
> 
> 赞同：2
> 
> 时间：2013-04-11T06:10:15.697
> 
> 标签：database, zend-framework

**应用程序.ini**

```
resources.multidb.db1.adapter = "pdo_mysql"
resources.multidb.db1.host = "localhost"
resources.multidb.db1.username = "root"
resources.multidb.db1.password = "root"
resources.multidb.db1.charset = "utf8"
resources.multidb.db1.dbname = "admin"

resources.multidb.db2.adapter = "pdo_mysql"
resources.multidb.db2.host = "localhost"
resources.multidb.db2.username = "root"
resources.multidb.db2.password = "root"
resources.multidb.db2.dbname = "hp"
resources.multidb.db2.charset = "utf8"
resources.multidb.db2.default = true 
```

**引导程序.php：**

```
 protected function _initDb(){           
            $resources = $this->getPluginResources('multidb');          
            Zend_Registry::set('db1', $resource->getDb('db1'));
            Zend_Registry::set('db2', $resource->getDb('db2'));
        } 
```

类方法：

```
Array
(
    [0] => _initDb
    [1] => _initPrefix
    [2] => _initSession
    [3] => _initRouters
    [4] => _initAutoloader
    [5] => _initControllerHelper
    [6] => __construct
    [7] => run
    [8] => setResourceLoader
    [9] => getResourceLoader
    [10] => getAppNamespace
    [11] => setAppNamespace
    [12] => setOptions
    [13] => getOptions
    [14] => hasOption
    [15] => getOption
    [16] => mergeOptions
    [17] => getClassResources
    [18] => getClassResourceNames
    [19] => registerPluginResource
    [20] => unregisterPluginResource
    [21] => hasPluginResource
    [22] => getPluginResource
    [23] => getPluginResources
    [24] => getPluginResourceNames
    [25] => setPluginLoader
    [26] => getPluginLoader
    [27] => setApplication
    [28] => getApplication
    [29] => getEnvironment
    [30] => setContainer
    [31] => getContainer
    [32] => hasResource
    [33] => getResource
    [34] => __get
    [35] => __isset
    [36] => bootstrap
    [37] => __call
    [38] => _bootstrap
    [39] => _executeResource
    [40] => _loadPluginResource
    [41] => _markRun
    [42] => _resolvePluginResourceName
) 
```

当我运行应用程序时，它的返回错误：**调用非对象上的成员函数 getDb()**。

谁能帮我？

谢谢！

***对不起，我的英语不好。***

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T06:40:26.537

你的函数中有错字 -

```
protected function _initDb(){           
$resources = $this->getPluginResources('multidb');
// changed $resource to $resources
Zend_Registry::set('db1', $resources->getDb('db1'));
Zend_Registry::set('db2', $resources->getDb('db2'));
} 
```

# python - 使用 pyudev 仅查找磁盘驱动器

> ID：15941834
> 
> 赞同：3
> 
> 时间：2013-04-11T06:10:23.950
> 
> 标签：python, udev, pyudev

我希望使用 udev 枚举计算机上的所有硬盘，特别是 pyudev 来枚举所有内容：

```
import pyudev

context = pyudev.Context()

for device in context.list_devices(subsystem='block', DEVTYPE='disk'):
    print "{}, ({})".format(device.device_node, device.device_type) 
```

这将打印出以下内容：

```
/dev/sdb (disk)
/dev/sdc (disk)
/dev/sda (disk)
/dev/sr0 (disk)
/dev/loop0 (disk)
/dev/loop1 (disk)
/dev/loop2 (disk)
/dev/loop3 (disk)
/dev/loop4 (disk)
/dev/loop5 (disk)
/dev/loop6 (disk)
/dev/loop7 (disk)
/dev/ram0 (disk)
/dev/ram1 (disk)
/dev/ram10 (disk)
/dev/ram11 (disk)
/dev/ram12 (disk)
/dev/ram13 (disk)
/dev/ram14 (disk)
/dev/ram15 (disk)
/dev/ram2 (disk)
/dev/ram3 (disk)
/dev/ram4 (disk)
/dev/ram5 (disk)
/dev/ram6 (disk)
/dev/ram7 (disk)
/dev/ram8 (disk)
/dev/ram9 (disk) 
```

由于我主要关注的是实际驱动器，而不是光盘驱动器、环回设备或 RAM 设备，我如何过滤我的结果以仅获得真正的物理媒体？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T07:47:23.110

由于 udev 下的设备管理非常灵活，它可能取决于安装的 udev 规则`/lib/udev/rules.d`或`/etc/udev/rules.d`确定可以过滤的密钥。

您可以使用`udevadm`获取设备列表及其关联的 udev 密钥。

```
sudo udevadm info --export-db 
```

同样，可以修改您的脚本以输出此信息，如下所示：

```
#!/usr/bin/env python
import pyudev

context = pyudev.Context()

for device in context.list_devices(subsystem='block', DEVTYPE='disk'):
    for key, value in device.iteritems():
        print '{key}={value}'.format(key=key, value=value)
    print 
```

这将允许您确定哪些键可用于过滤。在我的 Debian 系统上，一些条目如下所示：

```
# Loop device
UDEV_LOG=3
DEVPATH=/devices/virtual/block/loop0
MAJOR=7
MINOR=0
DEVNAME=/dev/loop0
DEVTYPE=disk
SUBSYSTEM=block
UDISKS_PRESENTATION_NOPOLICY=1
DEVLINKS=/dev/block/7:0

#cdrom
UDEV_LOG=3
DEVPATH=/devices/pci0000:00/0000:00:01.1/host1/target1:0:0/1:0:0:0/block/sr0
MAJOR=11
MINOR=0
DEVNAME=/dev/sr0
DEVTYPE=disk
SUBSYSTEM=block
ID_CDROM=1
ID_CDROM_DVD=1
ID_CDROM_MRW=1
ID_CDROM_MRW_W=1
ID_SCSI=1
ID_VENDOR=VBOX
ID_VENDOR_ENC=VBOX\x20\x20\x20\x20
ID_MODEL=CD-ROM
ID_MODEL_ENC=CD-ROM\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20
ID_REVISION=1.0
ID_TYPE=cd
ID_BUS=scsi
ID_PATH=pci-0000:00:01.1-scsi-1:0:0:0
GENERATED=1
UDISKS_PRESENTATION_NOPOLICY=0
DEVLINKS=/dev/block/11:0 /dev/scd0 /dev/disk/by-path/pci-0000:00:01.1-scsi-1:0:0:0 /dev/cdrom /dev/dvd
TAGS=:udev-acl:

# hard disk
UDEV_LOG=3
DEVPATH=/devices/pci0000:00/0000:00:0d.0/host2/target2:0:0/2:0:0:0/block/sda
MAJOR=8
MINOR=0
DEVNAME=/dev/sda
DEVTYPE=disk
SUBSYSTEM=block
ID_ATA=1
ID_TYPE=disk
ID_BUS=ata 
```

可以过滤这些键/值对以仅返回那些真实的磁盘。例如，该`UDISKS_PRESENTATION_NOPOLICY`条目可用于过滤掉循环设备。您可以仔细阅读 udev 规则来确定它如何尝试区分真实/虚拟磁盘。

像这样的东西会过滤掉 cdrom 和循环设备：

```
devices = []
for device in context.list_devices(subsystem='block', DEVTYPE='disk'):
    # Filter out cd drives, loop devices.
    if device.get('ID_TYPE', '') == 'cd':
        continue
    if device.get('UDISKS_PRESENTATION_NOPOLICY', '0') == '1':
        continue
    devices.append(device)

print "HARD DISKS:" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T06:52:03.360

由于`udev`仅在 Linux 内核上运行（至少到目前为止），您可以过滤掉[`MAJOR number 8`](http://www.lanana.org/docs/device-list/devices-2.6+.txt)代表所有基于 SCSI/SATA 磁盘驱动程序的设备。

```
for device in context.list_devices(MAJOR='8'):
    if (device.device_type == 'disk'):
        print "{}, ({})".format(device.device_node, device.device_type) 
```

在我的系统上，您的代码输出以下内容：

```
/dev/sda, (disk)
/dev/sdf, (disk)
/dev/sdb, (disk)
/dev/sdc, (disk)
/dev/sdd, (disk)
/dev/sde, (disk)
/dev/sr0, (disk)
/dev/loop0, (disk)
/dev/loop1, (disk)
/dev/loop2, (disk)
/dev/loop3, (disk)
/dev/loop4, (disk)
/dev/loop5, (disk)
/dev/loop6, (disk)
/dev/loop7, (disk) 
```

按主要编号 8 过滤后，我看到以下输出：

```
/dev/sda, (disk)
/dev/sdf, (disk)
/dev/sdb, (disk)
/dev/sdc, (disk)
/dev/sdd, (disk)
/dev/sde, (disk) 
```

请注意，您还会在列表中获得 USB 硬盘驱动器和 USB 记忆棒，因为它们也倾向于使用相同的 SCSI 磁盘驱动程序。

我不太确定 IDE 硬盘驱动器是否映射为最新的 2.6 或 3.x 内核`sdX`。`hdX`没有 IDE 硬盘驱动器来验证，因为我有一个。:D

**更新：** IDE 硬盘驱动器使用相同的设备编号页面列表`/dev/hdX`（IDE cdrom 也可能是？）。如果你也想过滤这些，我相信你可以这样做：

```
for device in context.list_devices(DEVTYPE='disk'):
    major = device['MAJOR']
    if major == '8' or major == '3':
        print "{}, ({})".format(device.device_node, device.device_type) 
```

# ios - CTFramesetterSuggestFrameSizeWithConstraints 在缩小时返回不正确的高度？

> ID：15941837
> 
> 赞同：0
> 
> 时间：2013-04-11T06:10:24.720
> 
> 标签：ios, core-graphics, core-text

我正在使用 EGOTextView。我为 viewForZoomingInScrollView 设置了 textContentView。当我将其缩小并键入时。它有时会返回不正确的高度。这是我正在做的事情：

```
CTFramesetterRef framesetter = _framesetter;
CFAttributedStringRef attributedStringRef=(CFAttributedStringRef)self.attributedString;
_framesetter = CTFramesetterCreateWithAttributedString(attributedStringRef);

if (framesetter!=NULL) {
    CFRelease(framesetter);
}
CGRect rect = self.textContextView.frame;

CGFloat height = [self heightForAttributedString:self.attributedString forWidth:rect.size.width];
rect.size.height = (height + self.font.lineHeight * 2) * pageScale;
//pageScale is the scale scrollview end zooming

- (CGFloat)boundingHeightForWidth:(CGFloat)width {

CGSize suggestedSize = CTFramesetterSuggestFrameSizeWithConstraints(_framesetter, CFRangeMake(0, 0), NULL, CGSizeMake(width , CGFLOAT_MAX), NULL);
return suggestedSize.height;
} 
```

我也尝试这种方法：

```
+(CGFloat)heightForAttributedString:(NSAttributedString *)attrString forWidth:(CGFloat)inWidth
{

CGFloat H = 0;

// Create the framesetter with the attributed string.
CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString( (CFMutableAttributedStringRef) attrString);

CGRect box = CGRectMake(0,0, inWidth, CGFLOAT_MAX);

CFIndex startIndex = 0;

CGMutablePathRef path = CGPathCreateMutable();
CGPathAddRect(path, NULL, box);

// Create a frame for this column and draw it.
CTFrameRef frame = CTFramesetterCreateFrame(framesetter, CFRangeMake(startIndex, 0), path, NULL);

// Start the next frame at the first character not visible in this frame.
//CFRange frameRange = CTFrameGetVisibleStringRange(frame);
//startIndex += frameRange.length;

CFArrayRef lineArray = CTFrameGetLines(frame);
CFIndex j = 0, lineCount = CFArrayGetCount(lineArray);
CGFloat h, ascent, descent, leading;

for (j=0; j < lineCount; j++)
{
    CTLineRef currentLine = (CTLineRef)CFArrayGetValueAtIndex(lineArray, j);
    CTLineGetTypographicBounds(currentLine, &ascent, &descent, &leading);
    h = ascent + descent + leading;
    NSLog(@"%f", h);
    H+=h;
}

CFRelease(frame);
CFRelease(path);
CFRelease(framesetter);

return H;
} 
```

但是，当您在缩放后输入文本时，它似乎总是返回错误的高度。有没有其他/更好的方法来确定我的属性字符串的正确高度？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-09T02:46:40.193

我也在这种情况下运行，解决了它并编写了一个类别，在所有情况下都适用于我。如果您使用零作为高度，请参阅我的答案，它不会将高度限制为任何高度。我为这个问题写了一个类别，在所有情况下都对我有用。查看[iOS UITableView 与动态文本和图像一起呈现（NSAttributedString + 图像）](https://stackoverflow.com/questions/16586190/ios-uitableview-with-dynamic-text-and-images-rendered-together-nsattributedstri/22104529#22104529)

# ruby-on-rails - 如何让用户在 rails 3 上正确登录？而不是仅仅被重定向到访问者首页

> ID：15941839
> 
> 赞同：1
> 
> 时间：2013-04-11T06:10:32.730
> 
> 标签：ruby-on-rails, ruby

我正在使用omniauth 来允许用户注册/登录。我正在尝试将其添加到我已经拥有的简单身份验证登录/注销系统之上。我没有使用设计。如何让使用omniauth 登录的用户具有与当前定义的状态相同的状态：signed_in_user？

我已经设置了大部分代码，除了我试图弄清楚如何让用户在使用omniauth时实际登录并显示他们的登录页面。

首先这里是omniauth authentications_controller，它似乎工作至今

```
def create
  omniauth = request.env['omniauth.auth']
  authentication = Authentication.find_by_provider_and_uid(omniauth['provider'], omniauth['uid'])
  if authentication
     flash[:success] = "Signed in successfully"
     sign_in_and_redirect User.find(authentication.user_id)
  elsif current_user
   token = omniauth['credentials'].token
   secret = omniauth['credentials'].secret
   current_user.authentications.create!(:provider => omniauth['provider'], :uid => omniauth['uid'], :token => token, :secret => token_secret)
   flash[:success] = "Authentication successful"
   sign_in_and_redirect current_user
   else
    user = User.new
    user.apply_omniauth(omniauth)
    if user.save!
    flash[:success] = "Account created"
     sign_in_and_redirect User.find(user.id)
   else
    session[:omniauth] = omniauth.except('extra')
    redirect_to '/signup'
   end
end
end 
```

这是第一个身份验证系统使用的 session_controller

```
class SessionsController < ApplicationController

  def new
  end

  def create
    user = User.find_by_email(params[:session][:email])
    if user && user.authenticate(params[:session][:password])
      sign_in user
      redirect_to root_url
    else
      flash.now[:error] = "Invalid email/password combination"
      render 'new'
    end
  end

  def destroy
    sign_out
    redirect_to root_path
  end
end 
```

这是我的 session_helper 模块 SessionsHelper

```
 def sign_in(user)
    cookies.permanent[:remember_token] = user.remember_token
    current_user = user
  end

  def sign_in_and_redirect(user)
    #what should go here?#
  end 
```

用户控制器

```
Class UsersController < ApplicationController
  before_filter :signed_in_user,
                only: [:index, :edit, :update, :destroy]
  before_filter :correct_user,   only: [:edit, :update]

    def new
        @user = User.new
      end

      def create
        @user = User.new(params[:user])
        if @user.save
          sign_in @user
          flash[:success] = "Welcome!"
          redirect_to root_url
        else
          render 'new'
        end
      end 
```

使用我当前的身份验证系统（不是omniauth），重定向到root_url 会使登录用户转到“static_pages#home”

```
class StaticPagesController < ApplicationController
  def home
    if signed_in?
      @post = current_user.posts.build
      @feed_items = current_user.feed.paginate(page: params[:page])
    end
  end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:45:18.723

我会将`sign_in`辅助函数移动到，`ApplicationHelper`以便您可以在`SessionsController`.

之后，它应该非常简单。

```
def sign_in_and_redirect user
  sign_in user
  redirect_to root_url  # or wherever you want
end 
```

它甚至可能`sign_in user and redirect_to root_url`比使用另一个助手更容易。

# quickbooks - 地址行在 QuickBooks 中究竟是如何工作的？

> ID：15941840
> 
> 赞同：1
> 
> 时间：2013-04-11T06:10:32.687
> 
> 标签：quickbooks, intuit-partner-platform, street-address

现在我只是想读取地址并显示它们。现在忽略 IPP，就在 QB 内部，我不了解管理地址线的算法。

此外，通过 IPP 访问客户地址对象时，存在更多差异，增加了我的困惑。我将把我正在查看的三个区域称为自由格式块、字段块和 IPP 对象。这是一个示例，我在字段块中键入文本并使文本与字段名称匹配： ![在此处输入图像描述](https://i.stack.imgur.com/vP0JC.png) 自由格式块和 IPP 对象采用 City、State 和 Zip 值并将它们组合到第 3 行。IPP 对象的 Note 值在第 4 行。Country 值最终出现在 IPP 和字段块中的 City 字段中。

这是一个示例，我在自由格式块中简单地键入“第 1 行 ... 第 5 行”： ![在此处输入图像描述](https://i.stack.imgur.com/jniFG.png)
转换后的字段块中的第 1 - 4 行看起来没问题，并将“第 5 行”放入“城市”字段。IPP 对象完全缺少第 4 行字段和值。

有人可以与我们分享这是如何工作的吗？我正在尝试读取这些地址并以一致的方式将它们显示在我的应用程序中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T15:16:40.560

我对 Quickbooks 不熟悉。但我认为您正在寻找“[地址标准化](http://smartystreets.com/what-is/address-standardization)”，因为您不确定地址将以什么格式来自 Quickbooks。

地址很棘手（相信我，我在 SmartyStreets 工作，我们必须对街道很聪明……）但是有一些服务——免费和付费——将标准化地址并将它们放入一致的“组件化”格式。

看看[LiveAddress API](http://smartystreets.com/products/liveaddress-api/demo) for starters... 或者如果您将数据导出到文件中，您可以使用批处理/列表服务。无论哪种方式，它都可以免费用于一定数量的地址。

（提示：您可以在两个字段中提交用于标准化和验证的地址：“街道”和“最后一行”，仍然可以获得良好的结果 - 因此，如果您不确定城市/州的位置，只需输入任何不是最后一行字段中的街道地址。）

# codeigniter - codeigniter 会话配置文件

> ID：15941842
> 
> 赞同：0
> 
> 时间：2013-04-11T06:10:55.840
> 
> 标签：codeigniter, session

codeigniter会话的配置文件中有2个值我不完全理解，希望有人能启发我，谢谢。

```
# the number of SECONDS you want the session to last.
# by default sessions last 7200 seconds (two hours).
# Set to zero for no expiration.
$config['sess_expiration'] = 7200; 
```

Q1) 即使用户仍在积极使用应用程序，应用程序是否会在时间（登录后 2 小时）结束时注销用户？

```
# how many seconds between CI refreshing Session Information
$config['sess_time_to_update'] = 300; 
```

Q2）这个值会影响（Q1）的情景吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:37:34.843

如果`$config['sess_expiration']`用户在会话中没有活动，则在会话到期之前需要多长时间。`$config['sess_time_to_update']`当用户正在使用会话时，将每 5 分钟更新一次过期时间。

因此，如果用户登录，过期 2 小时，并在网站上浏览 30 分钟然后离开网站，他们将有 2 小时的时间再次访问，而无需登录。如果他们确实访问这 2 小时，到期时间将从那时起重置为 2 小时。如果他们不再访问，则需要登录。

因此，如果他们正在使用会话，他们将不会在 2 小时后注销。

# c# - 实体框架asp.net中的逻辑删除/软删除

> ID：15941843
> 
> 赞同：-1
> 
> 时间：2013-04-11T06:11:03.033
> 
> 标签：c#, asp.net, database, sql-server-2008, entity-framework

任何人请在用户数据表中的数据库中提供逻辑或软删除的示例。以便稍后使用查询获取与已删除用户相关的数据和所有相关信息。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:22:22.510

您可以向用户添加标志，例如 IsDeleted。然后，当您删除用户时，您会将 flag 设置为 true。

```
class User
{
    public Guid UserId { get; set; }

    // more user properties

    public bool IsDeleted { get; set; }
} 
```

查询未删除用户：

```
var users = DatabaseContext.Users.Where(u => !u.isDeleted ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:22:33.597

将 BIT 类型添加到您的表格`'IsDeleted'`列中。假设您有表“学生”，您可以标记要删除的学生，只需将“IsDeleted”列更新为1。您可以在需要获取数据时进行过滤：

> SELECT * FROM Student JOIN .... WHERE IsDeleted = 0

# c# - 打印机状态返回错误值

> ID：15941849
> 
> 赞同：0
> 
> 时间：2013-04-11T06:11:18.623
> 
> 标签：c#, network-printers

我正在尝试获取网络打印机的状态。[正如这个链接](http://www.codeproject.com/Articles/6069/How-to-Check-if-your-Printer-is-Connected-using-C)所说，我尝试了 WMI 代码。但是即使我拔掉了网线，它总是会转到其他部分。

这是我尝试过的代码：

```
ManagementObjectSearcher searcher = new 
             ManagementObjectSearcher("SELECT * FROM Win32_Printer");

string printerName = "";

foreach (ManagementObject printer in searcher.Get())
{
    printerName = printer["Name"].ToString().ToLower();

    if (printer["WorkOffline"].ToString().ToLower().Equals("true") && printer["Default"].ToString().ToLower().Equals("true"))

    {
       string s = "Printer  offline" + printerName;
       listBox1.Items.Add(s);
    }
    else
    {
        // printer is not offline
        //   Console.WriteLine("Your Plug-N-Play printer is connected.");

        string s = "Printer found and is online " + printerName;
        listBox1.Items.Add(s);
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:19:06.370

检查条件

```
printer["PrinterState"].ToString().ToLower().Equals("Offline")
// this would mean offline == Offline which would be false 
```

你需要小写的比较，你有一个错字离线有一个`Caps Lock` `O`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-09-08T16:21:36.643

比较可能是不正确的......因为声明

`ConsoleWriteLine(printer["PrinterState"].ToString());`

打印机在线时返回“0”，由于任何原因（断电、卸载、电缆连接、网络故障等）出现此故障时返回“128”

正确的比较必须是：

`printer["PrinterState"].ToString().ToLower().Equals("128")`用于离线

`printer["PrinterState"].ToString().ToLower().Equals("0")`对于在线

# visual-studio-2010 - 将 Workflow wsp 部署为沙盒解决方案

> ID：15941854
> 
> 赞同：1
> 
> 时间：2013-04-11T06:11:41.827
> 
> 标签：visual-studio-2010, sharepoint-2010, sharepoint-designer

我在sharepoint方面相对较新。我使用 Visual Studio 作为农场解决方案创建了一个小型工作流。它适用于我的服务器，但是当我尝试将其部署在远程服务器上时，它禁用了激活选项..在我看来，我必须将其部署为沙盒解决方案。我尝试在 VS 中设置 sandbox = true ，但随后它向我抛出一个错误，提示“功能无法部署为沙盒解决方案”。Any1 可以帮忙吗

谢谢你

# python - 有没有办法在 py 文件中添加元数据以对测试进行分组？

> ID：15941860
> 
> 赞同：2
> 
> 时间：2013-04-11T06:12:24.057
> 
> 标签：python, metadata, unittest2

假设我在不同的文件中有以下测试用例

*   TestOne.py {标签：一，二}
*   TestTwo.py {标签：两个}
*   TestThree.py {标签：三}

每个都继承自 unittest.TestCase。python 有没有能力在这些文件中嵌入元数据信息，这样我就可以有一个 main.py 脚本来搜索这些标签并只执行那些测试用例？

例如：如果我想用 {tags: Two} 执行测试用例，那么只有测试用例 TestOne.py 和 TestTwo.py 应该被执行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T06:34:36.667

[`py.test`](http://pytest.org/latest/contents.html)测试框架通过他们所谓的标记支持元[数据](http://pytest.org/latest/example/markers.html)。

`py.test`测试用例是名称以“test”开头的函数，并且位于名称以“test”开头的模块中。测试本身就是简单的`assert`陈述。`py.test`还可以运行`unittest`库测试和 IIRC Nose 测试。

元数据由为测试函数动态生成的装饰器组成。装饰器具有以下形式：`@pytest.mark.my_meta_name`. 您可以为`my_meta_name`. 您可以使用 来查看一些预定义的标记`py.test --markers`。

这是他们文档中的改编片段：

```
# content of test_server.py

import pytest

@pytest.mark.webtest
def test_send_http():
    pass # perform some webtest test for your app

def test_always_succeeds():
    assert 2 == 3 - 1

def test_will_always_fail():
    assert 4 == 5 
```

`-m`您可以使用测试运行器的命令行选项选择标记的测试。要有选择地运行`test_send_http()`，您可以在 shell 中输入：

```
py.test -v -m webtest 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T06:19:22.837

当然，在主模块中定义标签更容易，但如果将它们与测试文件一起保存对您来说很重要，那么在测试文件中定义它可能是一个很好的解决方案，如下所示：

在 TestOne.py 中：

```
test_tags = ['One', 'Two']
... 
```

然后您可以通过这种方式读取`initialize`主模块功能中的所有标签：

```
test_modules = ['TestOne', 'TestTwo', 'TestThree']
test_tags_dict = {}

def initialize():
    for module_name in test_modules:
        module = import_string(module)

        if hasattr(module, 'test_tags'):
            for tag in module.test_tags:
                if tag not in test_tags_dict:
                    test_tags_dict[tag] = []
                test_tags_dict[tag].append(module) 
```

因此，您可以实现一个`run_test_with_tag`函数来运行特定标签的所有测试：

```
def run_test_with_tag(tag):
    for module in test_tags_dict.get(tag, []):
        # Run module tests here ... 
```

# javascript - Rails 3：将参数传递给javascript函数时出错

> ID：15941865
> 
> 赞同：-1
> 
> 时间：2013-04-11T06:13:04.380
> 
> 标签：javascript, ruby-on-rails-3, haml

我正在尝试将值传递给 JavaScript 函数，但是当我单击锚标记（加号图标）时，它在 Firebug 上出现以下错误。

我要做的是，单击“加号”，将部分字段添加到表中。我在这里做错了什么？

目前有一个带有“+”的表格`<th>`。我想将数据（从部分）附加到表中。

**错误**

```
SyntaxError: syntax error
[Break On This Error]   

add_fields(this, contact, &quot;&lt;tr class=\&#x27;fields\&#x27;&gt;\n&lt;td&gt... 
```

**帮助文件**

```
module TestHelper
    def add_fields(name, obj)

        if (obj == 'contact')
            fields = render :partial => '/test/add_fields', :locals => {:map_values => ["Name", "URL", "Address"]}  
            link_to_function(name, h("add_fields(this, #{obj}, \"#{escape_javascript(fields)}\")"))

        elsif (obj=='company')
            fields = render :partial => '/test/add_fields', :locals => {:map_values => ["CName", "CURL", "CAddress"]}   
            link_to_function(name, h("add_fields(this, #{obj}, \"#{escape_javascript(fields)}\")"))
        elsif (obj=='lead')
            fields = render :partial => '/test/add_fields', :locals => {:map_values => ["LName", "LURL", "LAddress"]}   
            link_to_function(name, h("add_fields(this, \"#{obj}\", \"#{escape_javascript(fields)}\")"))
        end

    end
end 
```

**查看文件**

```
=add_fields 'Add', 'contact' 
```

**部分 _add_fields.html.haml**

```
%tr.fields
  %td
    %select{:class => 'select-two'}
      - map_values.each do |e|
        %option #{e} 
```

**js文件**

```
add_fields = function(obj, maptype, content){

  //console.log(obj.closest('.table'));
  var parent = $(obj).closest('.table');
  var msg_obj = $('.alert.alert-info',parent);
  if(msg_obj.length > 0) {
    msg_obj.closest('tr').addClass('hidden');
  }

  $('tbody',parent).append(content);
  $("select.select-two").select2({allowClear: true});

}; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T10:04:08.497

更改以下行

```
 link_to_function(name, h("add_fields(this, \"#{obj}\", \"#{escape_javascript(fields)}\")")) 
```

至

```
 link_to_function("name", "add_fields(this, '#{obj}', '#{j(fields)}'
)".html_safe) 
```

h() 函数在 rails 3 中已过时

利用`raw "string"`

或者`"string".html_safe`

# ios - UITableView（Easy tableView 自定义类）单元格的图像（绘图）在更改数据后保持不变

> ID：15941872
> 
> 赞同：0
> 
> 时间：2013-04-11T06:13:40.983
> 
> 标签：ios, uitableview, nsmutablearray, cell

我正在使用 Easy Table View 类[https://github.com/alekseyn/EasyTableView](https://github.com/alekseyn/EasyTableView)。在我更改数据并重绘单元格后，它可以工作，但先前数据的绘图仍保留在视图中（在新单元格的新绘图后面）。

我尝试在使数据数组为零后重新加载数据，但没有清除旧图纸：

```
[myEasyTableView.tableView reloadData]; 
```

这是一个屏幕截图。这是一个水平表格视图，使用此类很容易设置。图像的上半部分是它应该的样子，但请注意，更改下面的数据后，以前存在的单元格的绘图仍然可见，在实际的新单元格下方。

![在此处输入图像描述](https://i.stack.imgur.com/Sn7R7.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T09:44:02.503

我将以下代码添加到设置 tableView 的方法中。似乎可以解决问题。

```
 for (CellView* cellView in horizontalTableView.subviews) {
        [cellView removeFromSuperview];
    } 
```

# visual-studio-2008 - 如何在 Visual Studio 2008 中打开团队资源管理器

> ID：15941875
> 
> 赞同：18
> 
> 时间：2013-04-11T06:13:45.677
> 
> 标签：visual-studio-2008, tfs, team-explorer

我已经`VS2008 Professional Edition with SP1`安装在我的机器上。目前我们使用 Visual Source Safe 作为版本控制器，但我们想用`Team Foundation Server 2010/2012`. 所以我需要将 TFS 与 VS2008 连接起来。
我在网上阅读了一些帖子，他们说有 Team Explorer`Tools/Connect to Team Foundation Server`可以连接到 TFS。这应该已经与 VS2008 SP1 一起安装，但我在 VS2008 菜单中没有看到任何关于 Team Explorer 的信息。
如何在我的 VS2008 中打开 Team Explorer 以连接到我们计划安装的 TFS？或者我如何验证 Team Explerer 是否安装在我的机器上？

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2013-04-11T07:12:16.193

首先检查是否安装了 Team Explorer：

1.  打开 Visual Studio
2.  打开菜单帮助
3.  打开“关于 Microsoft Visual Studio”
4.  检查条目，如 Microsoft Visual Studio 2008 Team Explorer Version 9.0.30729.4413
5.  如果没有，请安装 Team Explorer：[http](http://www.microsoft.com/en-us/download/details.aspx?id=16338) ://www.microsoft.com/en-us/download/details.aspx?id=16338并（重新）安装 VS SP1 [http://www.microsoft.com/en-我们/下载/details.aspx?id=10986](http://www.microsoft.com/en-us/download/details.aspx?id=10986)

如果已安装，请检查您是否选择了 TFS 作为版本控制系统：

1.  打开 Visual Studio
2.  打开菜单工具
3.  打开“选项...”
4.  转到“源代码管理”->“插件选择”
5.  选择 Team Foundation Server

现在您应该可以使用 Team Explorer。去做这个：

1.  打开菜单视图
2.  选择“团队资源管理器”
3.  连接到您的 TFS

根据您使用的 TFS 版本，可能需要安装兼容包（适用于 TFS2010 和 TFS2012）。

TFS2010：[http ://www.microsoft.com/en-us/download/details.aspx?id=10834](http://www.microsoft.com/en-us/download/details.aspx?id=10834)

TFS2012：[http ://www.microsoft.com/en-us/download/details.aspx?id=29983](http://www.microsoft.com/en-us/download/details.aspx?id=29983)

[可以在此博客文章中找到要为 TFS、Visual Studio 和 Windows 的每种组合安装](http://blog.jessehouwing.nl/2013/10/connecting-to-tfs-from-any-version-of.html)的确切服务包和兼容性包集的概述。

# sql-server - SQL Server 自动审核更新列

> ID：15941881
> 
> 赞同：1
> 
> 时间：2013-04-11T06:14:01.877
> 
> 标签：sql-server, triggers, audit

我需要在 SQL Server 上创建一个触发器，仅将更新的列写入审计表，其中包含特定表的表名、列名、先前/新值、日期、时间和用户。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-11T06:47:03.150

**我通常有一个这样的表来存储审计数据，我从这里得到了这个解决方案** [https://www.simple-talk.com/sql/database-administration/pop-rivetts-sql-server-faq-no.5 -pop-on-the-audit-trail/](https://www.simple-talk.com/sql/database-administration/pop-rivetts-sql-server-faq-no.5-pop-on-the-audit-trail/)

```
 CREATE TABLE [dbo].[Audit](
    [AuditID] [int] IDENTITY(1,1) NOT NULL,
    [Type] [char](1) NULL,
    [TableName] [varchar](128) NULL,
    [PK] [varchar](1000) NULL,
    [FieldName] [varchar](128) NULL,
    [OldValue] [varchar](1000) NULL,
    [NewValue] [varchar](1000) NULL,
    [UpdateDate] [datetime] NULL,
    [UserName] [varchar](128) NULL,
 CONSTRAINT [PK_Audit] PRIMARY KEY CLUSTERED 
(
    [AuditID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] 
```

**然后将以下触发器添加到我要审核的每个表中**

```
CREATE TRIGGER [dbo].[Tr_DB_Audit] ON [dbo].['YourTableName'] FOR INSERT, UPDATE, DELETE
AS

DECLARE @bit INT ,
       @field INT ,
       @maxfield INT ,
       @char INT ,
       @fieldname VARCHAR(128) ,
       @TableName VARCHAR(128) ,
       @PKCols VARCHAR(1000) ,
       @sql VARCHAR(2000), 
       @UpdateDate VARCHAR(21) ,
       @UserName VARCHAR(128) ,
       @Type CHAR(1) ,
       @PKSelect VARCHAR(1000)

--You will need to change @TableName to match the table to be audited
SELECT @TableName = 'NameOfTableYouWantToAudit'

-- date and user
SELECT         @UserName = SYSTEM_USER ,
       @UpdateDate = CONVERT(VARCHAR(8), GETDATE(), 112) 
               + ' ' + CONVERT(VARCHAR(12), GETDATE(), 114)

-- Action
IF EXISTS (SELECT * FROM inserted)
       IF EXISTS (SELECT * FROM deleted)
               SELECT @Type = 'U'
       ELSE
               SELECT @Type = 'I'
ELSE
       SELECT @Type = 'D'

-- get list of columns
SELECT * INTO #ins FROM inserted
SELECT * INTO #del FROM deleted

-- Get primary key columns for full outer join
SELECT @PKCols = COALESCE(@PKCols + ' and', ' on') 
               + ' i.' + c.COLUMN_NAME + ' = d.' + c.COLUMN_NAME
       FROM    INFORMATION_SCHEMA.TABLE_CONSTRAINTS pk ,

              INFORMATION_SCHEMA.KEY_COLUMN_USAGE c
       WHERE   pk.TABLE_NAME = @TableName
       AND     CONSTRAINT_TYPE = 'PRIMARY KEY'
       AND     c.TABLE_NAME = pk.TABLE_NAME
       AND     c.CONSTRAINT_NAME = pk.CONSTRAINT_NAME

-- Get primary key select for insert
SELECT @PKSelect = COALESCE(@PKSelect+'+','') 
       + '''<' + COLUMN_NAME 
       + '=''+convert(varchar(100),
coalesce(i.' + COLUMN_NAME +',d.' + COLUMN_NAME + '))+''>''' 
       FROM    INFORMATION_SCHEMA.TABLE_CONSTRAINTS pk ,
               INFORMATION_SCHEMA.KEY_COLUMN_USAGE c
       WHERE   pk.TABLE_NAME = @TableName
       AND     CONSTRAINT_TYPE = 'PRIMARY KEY'
       AND     c.TABLE_NAME = pk.TABLE_NAME
       AND     c.CONSTRAINT_NAME = pk.CONSTRAINT_NAME

IF @PKCols IS NULL
BEGIN
       RAISERROR('no PK on table %s', 16, -1, @TableName)
       RETURN
END

SELECT         @field = 0, 
       @maxfield = MAX(ORDINAL_POSITION) 
       FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = @TableName
WHILE @field < @maxfield
BEGIN
       SELECT @field = MIN(ORDINAL_POSITION) 
               FROM INFORMATION_SCHEMA.COLUMNS 
               WHERE TABLE_NAME = @TableName 
               AND ORDINAL_POSITION > @field
       SELECT @bit = (@field - 1 )% 8 + 1
       SELECT @bit = POWER(2,@bit - 1)
       SELECT @char = ((@field - 1) / 8) + 1
       IF SUBSTRING(COLUMNS_UPDATED(),@char, 1) & @bit > 0
                                       OR @Type IN ('I','D')
       BEGIN
               SELECT @fieldname = COLUMN_NAME 
                       FROM INFORMATION_SCHEMA.COLUMNS 
                       WHERE TABLE_NAME = @TableName 
                       AND ORDINAL_POSITION = @field
               SELECT @sql = '
insert Audit (    Type, 
               TableName, 
               PK, 
               FieldName, 
               OldValue, 
               NewValue, 
               UpdateDate, 
               UserName)
select ''' + @Type + ''',''' 
       + @TableName + ''',' + @PKSelect
       + ',''' + @fieldname + ''''
       + ',convert(varchar(1000),d.' + @fieldname + ')'
       + ',convert(varchar(1000),i.' + @fieldname + ')'
       + ',''' + @UpdateDate + ''''
       + ',''' + @UserName + ''''
       + ' from #ins i full outer join #del d'
       + @PKCols
       + ' where i.' + @fieldname + ' <> d.' + @fieldname 
       + ' or (i.' + @fieldname + ' is null and  d.'
                                + @fieldname
                                + ' is not null)' 
       + ' or (i.' + @fieldname + ' is not null and  d.' 
                                + @fieldname
                                + ' is null)' 
               EXEC (@sql)
       END
END 
```

**你也可以看看这篇文章** [http://weblogs.asp.net/jgalloway/archive/2008/01/27/adding-simple-trigger-based-auditing-to-your-sql-server-database.aspx](http://weblogs.asp.net/jgalloway/archive/2008/01/27/adding-simple-trigger-based-auditing-to-your-sql-server-database.aspx)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-10-17T11:03:23.200

我们使用第三方工具[ApexSQL 审计](http://www.apexsql.com/sql_tools_audit.aspx)来生成审计触发器，因为我们有很多需要审计的表。

如果您不需要第三方工具，您可以在试用模式下使用它，看看他们是如何实现触发器和存储表的。

下面是我从数据库中快速获取的示例触发器和存储表。

数据存储表：

![在此处输入图像描述](https://i.stack.imgur.com/7WefZ.png)

存储有关事务的详细信息的表：

![在此处输入图像描述](https://i.stack.imgur.com/RQV8C.png)

这是删除触发器的示例。注意内联注释

```
CREATE TRIGGER [dbo].[tr_d_AUDIT_Table_Name]
ON [dbo].[Table_Name]
FOR DELETE
NOT FOR REPLICATION
AS

BEGIN
    DECLARE 
        @IDENTITY_SAVE              varchar(50),
        @AUDIT_LOG_TRANSACTION_ID       Int,
        @PRIM_KEY               nvarchar(4000),
        @ROWS_COUNT             int

    SET NOCOUNT ON

    Select @ROWS_COUNT=count(*) from deleted
    Set @IDENTITY_SAVE = CAST(IsNull(@@IDENTITY,1) AS varchar(50))

    INSERT
    INTO dbo.AUDIT_LOG_TRANSACTIONS
    (
        TABLE_NAME,
        TABLE_SCHEMA,
        AUDIT_ACTION_ID,
        HOST_NAME,
        APP_NAME,
        MODIFIED_BY,
        MODIFIED_DATE,
        AFFECTED_ROWS,
        [DATABASE]
    )
    values(
        'Table_Name',
        'dbo',
        3,  
        CASE 
          WHEN LEN(HOST_NAME()) < 1 THEN ' '
          ELSE HOST_NAME()
        END,
        CASE 
          WHEN LEN(APP_NAME()) < 1 THEN ' '
          ELSE APP_NAME()
        END,
        SUSER_SNAME(),
        GETDATE(),
        @ROWS_COUNT,
        'database_name'
    )

    Set @AUDIT_LOG_TRANSACTION_ID = SCOPE_IDENTITY()

    INSERT
    INTO dbo.AUDIT_LOG_DATA
    (
        AUDIT_LOG_TRANSACTION_ID,
        PRIMARY_KEY_DATA,
        COL_NAME,
        OLD_VALUE_LONG,
        DATA_TYPE
        , KEY1
    )
    SELECT
        @AUDIT_LOG_TRANSACTION_ID,
        convert(nvarchar(1500), IsNull('[Order_ID]='+CONVERT(nvarchar(4000), OLD.[Order_ID], 0), '[Order_ID] Is Null')),
        'Order_ID',
        CONVERT(nvarchar(4000), OLD.[Order_ID], 0),
        'A'
        ,  CONVERT(nvarchar(500), CONVERT(nvarchar(4000), OLD.[Order_ID], 0))
    FROM deleted OLD
    WHERE
        OLD.[Order_ID] Is Not Null

    /*
       Insert statement above is replicated for each column being audited
     */

END 
```

# jquery - 在 HTML5/jQuery 中播放声音时禁用所有声音

> ID：15941882
> 
> 赞同：0
> 
> 时间：2013-04-11T06:14:03.283
> 
> 标签：jquery, html, html5-audio, playback

我目前有按钮设置在活动中播放声音。主音频按钮播放一个句子。我所追求的是一种在播放主句时让其他锚点不可点击的方法。这是我的HTML首先：

```
<audio id="sentence" src="../audio/m_sentence2.mp3"></audio>
<audio id="sound1" src="../../../globalResources/audio/male/hand.mp3"></audio>
<audio id="sound2" src="../../../globalResources/audio/male/foot.mp3"></audio>
<audio id="sound3" src="../../../globalResources/audio/male/nose.mp3"></audio>

<a href="#" class="audioBtn" id="audioMain"></a>
<a href="#" class="audioBtn" id="audio1"></a>
<a href="#" class="audioBtn" id="audio2"></a>
<a href="#" class="audioBtn" id="audio3"></a> 
```

现在我编写了这个 jQuery 来播放声音：

```
var sentence = $('#sentence');
var sound1 = $('#sound1');
var sound2 = $('#sound2');
var sound3 = $('#sound3');

    $("#audioMain").click(function() {
        sentence.get(0).play();
        });

    $("#audio1").click(function() {
        sound1.get(0).play();       
        });

    $("#audio2").click(function() {
        sound2.get(0).play();       
        });

    $("#audio3").click(function() {
        sound3.get(0).play();       
        }); 
```

有没有办法在播放句子时，不能播放其他声音？我尝试过 removeAttr 之类的方法，但似乎无法禁用声音。我可以完全隐藏按钮，但在这种情况下这不是一个选项。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-14T02:59:22.523

可能想要创建一个函数，但这应该可以。

```
var sentence = $('#sentence'),
sound1 = $('#sound1'),
sound2 = $('#sound2'),
sound3 = $('#sound3'),
sentancePlaying = false;

$("#audioMain").click(function() {
    sentence.get(0).play();
    sentancePlaying = true;
});

$("#audio1").click(function() {
    if(!sentancePlaying){ 
        sound1.get(0).play(); 
    }
});

$("#audio2").click(function() {
    if(!sentancePlaying){ 
        sound2.get(0).play();
    }
});

$("#audio3").click(function() {
    if(!sentancePlaying){ 
        sound3.get(0).play();
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-17T09:50:07.820

好的，所以我想出了一个解决方案。在句子点击功能上，我将另一个音频按钮的指针事件更改为无。然后为正在播放的句子编写了一个绑定“结束”事件函数，因此当它完成播放时，其他按钮再次变为可点击。下面的代码：

```
$('#sentence').bind('ended', function() {
        $('#audio1').css('pointer-events', 'auto');
        $('#audio2').css('pointer-events', 'auto');
        $('#audio3').css('pointer-events', 'auto');

        }); 

    $("#audioMain").click(function() {
        sentence.get(0).play();
        $('#audio1').css('pointer-events', 'none');
        $('#audio2').css('pointer-events', 'none');
        $('#audio3').css('pointer-events', 'none');
        }); 
```

# c# - 在属性网格中编辑数组/列表

> ID：15941884
> 
> 赞同：0
> 
> 时间：2013-04-11T06:14:06.890
> 
> 标签：c#, arrays, list, propertygrid

我在`PropertyGrid`, 和一个数组中有一个列表。

当在扩展器（`+`）中打开的数组可以编辑它时，

但是当列表在扩展器中打开时无法编辑它。

它们之间有什么区别？

我看到了这个问题：

**[修改 PropertyGrid 和 TypeConverterAttribute 的默认行为](https://stackoverflow.com/questions/4677480/modify-default-behaviour-of-propertygrid-and-typeconverterattribute)**

为了防止扩展器进行编辑，将数组转换为列表。

为什么数组中可以编辑，而列表中不能编辑？

我怎样才能改变这个？（或者不能？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T11:04:50.280

我找到了无法编辑的原因，

因为列表中的每个值都是`object`您无法编辑的，

即使我`GetValue`从对象中输入了一个值。

我在扩展器的列表中打开了对象并在那里进行了编辑。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-11T08:09:20.173

正如我的建议，最好使用 List，因为 List 是自动实现的数组列表，与我们需要分配它的数组相比，它的大小是灵活的。[在http://www.dotnetperls.com/list](http://www.dotnetperls.com/list)中了解更多 信息

# android - 适配器未显示结果

> ID：15941891
> 
> 赞同：1
> 
> 时间：2013-04-11T06:14:30.447
> 
> 标签：android, json, adapter, android-arrayadapter

我有一个 json 响应，为此我创建了一个适配器以将 json 列出到视图中，应用程序中没有错误，但它也没有显示结果。这是我的适配器类：

```
 package com.JustDine.Infrastructure;

  import java.util.ArrayList;
  import java.util.List;

  import android.content.Context;
  import android.view.LayoutInflater;
  import android.view.View;
  import android.view.ViewGroup;
  import android.widget.ArrayAdapter;
  import android.widget.Filter;
  import android.widget.ImageView;
  import android.widget.LinearLayout;
  import android.widget.TextView;

  import com.JustDine.GUI.R;
  import com.JustDine.JSON.Response.RedemptionResult;
  import com.JustDine.JSON.Response.SearchResult;

  public class RedemptionListAdapter extends ArrayAdapter<RedemptionResult> {
Context context;

private List<RedemptionResult> redemptionResultList = new ArrayList<RedemptionResult>();
//public ArrayList<RedemptionResult> filtered = new ArrayList<RedemptionResult>();
// public boolean isFiltered;
int position;
int textViewResourceId;
ImageLoader imageLoader;

public RedemptionListAdapter(Context context, int textViewResourceId,
        List<RedemptionResult> redemptionResultList) {
    super(context, textViewResourceId, redemptionResultList);
    this.context = context;
    this.redemptionResultList = redemptionResultList;
    this.textViewResourceId = textViewResourceId;
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
    View v = convertView;
    this.position = position;
    LinearLayout redemptionView;
    RedemptionResult redemptionResult = null;

    redemptionResult = redemptionResultList.get(position);

    if (v == null) {
        redemptionView = new LinearLayout(getContext());
        LayoutInflater vi = (LayoutInflater) context
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        v = vi.inflate(textViewResourceId, redemptionView, true);
    }

    TextView tvName = (TextView) v.findViewById(R.id.resName);

    tvName.setText(redemptionResult.getName());

    return v;

}
 } 
```

请帮忙，为什么它没有显示结果。

**更新：Json 响应类**

```
 package com.JustDine.JSON.Response;

 import java.util.List;

 import com.google.gson.annotations.SerializedName;

 public class RedemptionResultResponse {

@SerializedName("Success")
public boolean Success;

@SerializedName("redemption_partners")
private List<RedemptionResult> getRedemptionPartners;

@SerializedName("denominations")
private List<DenominationsResult> getDenominations;

@SerializedName("errorMessage")
public String errorMessage;

@SerializedName("Tag")
public String Tag;

public List<RedemptionResult> getRedemptionPartners() {
    return getRedemptionPartners;
}

public List<DenominationsResult> getDenominations() {
    return getDenominations;
}

public void setRedemptionPartners(List<RedemptionResult> getRedemptionPartners) {
    this.getRedemptionPartners = getRedemptionPartners;
}

public void setDenominationss(List<DenominationsResult> getDenominations) {
    this.getDenominations = getDenominations;
}

   } 
```

和

```
 package com.JustDine.JSON.Response;

  import com.google.gson.annotations.SerializedName;

  public class RedemptionResult {
@SerializedName("id")
private String id;

@SerializedName("name")
private String name;

public String getId() {
    return id;
}

public void setId(String id) {
    this.id = id;
}

public String getName() {
    return name;
}

public void setName(String name) {
    this.name = name;
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:25:04.140

除了代码中可能存在的其他问题外，您还需要正确覆盖适配器中的以下方法。检查它们是否未被覆盖。

您发布的代码似乎没有覆盖它们。

```
public int getCount(){
    return vector.size();
}

public Object getItem(int position) {

    return position;
}

public long getItemId(int position) {

    return position;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:25:14.217

```
private ArrayList<ExploreCatgModel> arrayList = new ArrayList<ExploreCatgModel>();
private ExploreCatgModel model; 
```

将数据设置为模型类

```
@Override
        protected String doInBackground(String... params) {
            webService = new WebService();
            String result = webService.aboutList();
            if (result != null) {
                try {
                    JSONObject jsonObject = new JSONObject(result);
                    JSONArray jsonArray = jsonObject
                            .getJSONArray("About");
                    for (int i = 0; i < jsonArray.length(); i++) {
                        JSONObject explrObject = jsonArray.getJSONObject(i);
                        model = new ExploreCatgModel();
                        model.setMemberID(explrObject.getString("iAboutID"));
                        model.setBuissnessName(explrObject
                                .getString("vAboutTitle"));
                        model.setBusinessDescription(explrObject
                                .getString("vAboutDescription"));
                        model.setImage1(explrObject.getString("vImage1"));
                        model.setImage2(explrObject.getString("vImage2"));
                        model.setImage3(explrObject.getString("vImage3"));
                        model.setImage4(explrObject.getString("vImage4"));
                        model.setImage5(explrObject.getString("vImage5"));
                        arrayList.add(model);
                    }
                } catch (JSONException e) {
                    e.printStackTrace();
                }
            }

            return result;
        } 
```

在 litview 中设置适配器。

AboutAdapter aboutAdapter = new AboutAdapter(AboutActivity.this, arrayList); listView.setAdapter(aboutAdapter);

**关于适配器类**

```
 public class AboutAdapter extends BaseAdapter {
        private LayoutInflater inflater;
        private Context mcontext;
        private ArrayList<RedemptionResult> arrayList;

        public AboutAdapter(Context context, ArrayList<RedemptionResult> arrayList) {
            this.mcontext = context;
            this.arrayList= arrayList;
            inflater = LayoutInflater.from(mcontext);
        }

        @Override
        public int getCount() {
            return arrayList.size();
        }

        @Override
        public Object getItem(int position) {
            return position;
        }

        @Override
        public long getItemId(int position) {
            return position;
        }

        public class Holder {
            TextView txtname;

        }

        @Override
        public View getView(int position, View convertView, ViewGroup parent) {
            View vi = convertView;
            Holder holder;
            if (vi == null) {
                vi = inflater.inflate(R.layout.raw_aboutlist, null);
                holder = new Holder();

                holder.txtname = (TextView) vi
                        .findViewById(R.id.raw_about_txt_name);

                vi.setTag(holder);

            } else {
                holder = (Holder) vi.getTag();
            }

                holder.txtname.setText(arrayList.get(position).getName());

            return vi;
        }

    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T06:20:20.093

请尝试在适配器的构造函数中查看列表的大小。可能是列表大小为 0 的情况。我也看不到任何使用

```
private List<RedemptionResult> redemptionResultList = new ArrayList<RedemptionResult>(); 
```

redemptionResultList 正在构造函数中设置。所以只需将上面的行设为空，然后尝试。

希望这可以帮助你。

# html - 为什么 .navbar mixin 在 Bootstrap 2.3 中不起作用？

> ID：15941900
> 
> 赞同：5
> 
> 时间：2013-04-11T06:14:57.493
> 
> 标签：html, css, twitter-bootstrap, less, navbar

我一直在尝试将在 HTML 中包含类的 Bootstrap 示例转换为使用 LESS mixins。到目前为止，我已经成功了，但是我的菜单遇到了问题。目前我在我的主 .less 文件中使用以下内容（我已经包含了 bootstrap.less）：

```
#container #menu {
    .navbar;
    .navbar-inverse;
    .navbar-fixed-top;

    div {
        .navbar-inner;
        ul { .nav; }
    }
} 
```

和相应的 HTML：

```
<div id="container">
    <nav id="menu">
        <div><ul role="menu">
            <!--- ... -->
        </ul>
        </div>
    </nav>
</div> 
```

正在应用 and ，`navbar-inverse`但and不起作用。`navbar-fixed-top``navbar``nav`

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-11T12:49:55.603

## 看来你误解了 Mixins

我认为您的主要问题在于您自称的目标：“我一直在尝试将在 HTML 中包含类的 Bootstrap 示例转换为使用 LESS 混合。”

因此，您试图通过将它们作为混合包含在您的选择器中来避免在您的 HTML 中添加`.navbar`和类（等） 。这似乎适用于并且（我实际上怀疑在应用这些方面存在轻微的不一致，我将在稍后解释）因为它们所做的主要事情是为它们应用的特定元素添加一些样式。`.nav``id``.navbar-inverse``.navbar-fixed-top`

[您的问题是bootstrap 的 navbar.less 文件](https://github.com/twitter/bootstrap/blob/master/less/navbar.less)使用的所有其他相互关联的选择器组合。简单地添加`.navbar`and `.nav`as mixins 也只会将这些类的样式应用于您正在混合的项目。它没有做的是识别导航正常运行所必需的任何*关系。*例如，以 bootstrap 中的代码示例为例：

```
.navbar .nav {
position: relative;
left: 0;
display: block;
float: left;
margin: 0 10px 0 0;
}

.navbar .nav > li {
float: left;
}

// Links
.navbar .nav > li > a {
float: none;
// Vertically center the text given @navbarHeight
padding: ((@navbarHeight - @baseLineHeight) / 2) 15px ((@navbarHeight - @baseLineHeight) / 2);
color: @navbarLinkColor;
text-decoration: none;
text-shadow: 0 1px 0 @navbarBackgroundHighlight;
} 
```

正是这些组合选择器使导航功能发挥作用。但是在您的代码中，您`.navbar .nav`的 HTML 中没有关系，您只有`#container #menu ul`关系。因此，没有一个组合选择器代码被拾取。

回想一下，mixin*不会导致**该类**应用于元素，它**只会**导致该类的**属性****包含****在**您的选择器中。*

 ********您需要将引导文件中组合选择器组合的*每个*实例都转换为您的选择器，这比简单地将类添加到应该在的 HTML 中要痛苦得多。**

回到关于似乎有效的注释。我怀疑您的代码中也没有发现这些关系，因为您`.navbar-fixed-top .navbar-inner`的 HTML 中没有类关系：

```
.navbar-fixed-top .navbar-inner,
.navbar-static-top .navbar-inner {
  border-width: 0 0 1px;
}
.navbar-fixed-bottom .navbar-inner {
  border-width: 1px 0 0;
}
.navbar-fixed-top .navbar-inner,
.navbar-fixed-bottom .navbar-inner {
  padding-left: 0;
  padding-right: 0;
  .border-radius(0);
} 
```******

# javascript - 使用 requirejs 选择性地加载 AMD 模块

> ID：15941904
> 
> 赞同：3
> 
> 时间：2013-04-11T06:15:33.917
> 
> 标签：javascript, requirejs, amd

我有一个用例，我必须`AMD`根据某些条件加载模块，以便使用`requirejs`.

```
define(['module1'],
    function(module1)
    {
      /*some code*/

      if (condition1) {
        require(['module2'],
            function()
            {
                /*some code*/
            }
        )        
      }
      else {
         require(['module3'],
            function()
            {
               /*some code*/
            }
        )     
    }
    return someObject;
    }); 
```

我遇到了[这个](https://stackoverflow.com/questions/7835116/with-amd-modules-when-or-why-is-it-ok-to-use-require-within-define)问题，并对 global 和 local 感到困惑`require`。
上述方法正确吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T09:08:46.127

您应该使用 'local' `require`。本地要求将确保模块相对于“父”模块进行解析，

```
define(["require", "module1"], function(require, module1) {
    require(['./relative/to/parent/not/necessarily/relative/to/baseUrl'], ...); 
```

并且 URL 也相对于“父”模块进行解析。

```
define(["require", "module1"], function(require, module1) {
    require.toUrl('./relative/to/parent/not/necessarily/relative/to/baseUrl') 
```

# c - 为什么这个数组没有给出错误？

> ID：15941905
> 
> 赞同：0
> 
> 时间：2013-04-11T06:15:40.993
> 
> 标签：c, arrays, char

我有一个程序，我希望它会崩溃，但事实并非如此。你能告诉我原因吗？

```
char a[5];
strncpy(a,"abcdefg",7);
a[7] = '\0';
printf("%s\n",a); 
```

程序不应该`strncpy()`在`a[7]='\0'`大于`5`. 我得到输出为`abcedefg`. 我正在使用 gcc 编译器。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T06:17:39.940

数组的大小为 5 `char a[5];`，您在第 7 个位置进行分配，这是[缓冲区溢出](http://en.wikipedia.org/wiki/Buffer_overflow)问题，并且代码的行为在运行时未定义。

```
strncpy(a,"abcdefg",7);
a[7] = '\0'; 
```

两者都是错误的，您需要定义数组，如：

```
#defined size 9  // greater then > 7
char a[size]; 
```

注意空字符`"abcdefg"`需要 8 个字符。`\0`

读取：[字符串以空字符结尾，字面意思是 '\0' 字符](http://www-ee.eng.hawaii.edu/~tep/EE160/Book/chap7/subsection2.1.1.2.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T07:07:59.077

你不能给未定义的行为下定义，因为你试图声明*它应该 crash*。*另一个通常不会崩溃*的未定义行为示例是~~`int x = INT_MAX + 1;`~~, 和~~`int x = 0; x = x++ + ++x;`~~. 如果只是巧合，这些*可能会在您的系统上运行。*这并不能阻止他们对其他系统造成严重破坏！

考虑一下“无色、绿色的想法疯狂地沉睡”，或者“打字机把大象传给了黑暗”。这些陈述中的任何一个在英语中都有意义吗？你会如何解释它们？这与 C 实现如何处理未定义行为的情况类似。

让我们考虑一下，如果您让我将 42 个鸡蛋放入可以存储*至少*12 个鸡蛋的纸箱中会发生什么。容器肯定有界限，但你坚持认为它们都可以放进去。我发现容器只能存放 12 个鸡蛋。你不会知道剩下的 30 个鸡蛋会发生什么，所以行为是不确定的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T06:20:14.733

在您的示例中，您的程序可以访问超出`a`（数组的起始地址）加上 5 的内存，因为程序的堆栈可能更高。因此，尽管代码有效，但理想情况下它是未定义的行为。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-11T06:20:31.263

C 经常假设您知道自己在做什么，即使（尤其是）您做错了什么。数组没有边界，如果幸运并且您输入了未定义的内存位置并出现分段错误，您只会收到错误消息。否则，您将能够访问更改内存，无论结果如何。

# asp.net - 如何在文本框中显示标识列值

> ID：15941909
> 
> 赞同：0
> 
> 时间：2013-04-11T06:15:57.610
> 
> 标签：asp.net, sql-server

如何在 asp.net 页面的文本框中显示标识列值。我发现了这个错误：

> System.Data.SqlClient.SqlException：只有在使用列列表并且 IDENTITY_INSERT 为 ON 时，才能指定表“Doctors_Record”中标识列的显式值...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:18:52.433

您似乎正在尝试将值插入设置为`IDENTITY`. 您应该从语句`IDENTITY`的列列表中省略此列。`INSERT`

否则，如果您尝试这样做，请在该列中插入一个显式值，然后您必须打开：[**`SET IDENTITY_INSERT`**](http://msdn.microsoft.com/en-us/library/ms188059%28v=sql.100%29.aspx) `ON`

```
SET IDENTITY_INSERT Doctors_Record ON;

-- Then do `INSERT`.

SET IDENTITY_INSERT Doctors_Record OFF; 
```

* * *

要获取插入的最后一个标识值，请使用 Use [`SCOPE_IDENTITY`](http://msdn.microsoft.com/en-us/library/ms190315%28v=sql.100%29.aspx)：

```
-- do insert

SELECT SCOPE_IDENTITY(); 
```

# php - Facebook api 图表我 - 发布到流

> ID：15941913
> 
> 赞同：1
> 
> 时间：2013-04-11T06:16:16.583
> 
> 标签：php, facebook, facebook-graph-api

![在此处输入图像描述](https://i.stack.imgur.com/rBL5D.png)

我正在尝试允许我的 facebook 应用程序使用下面的代码发布用户流。底部的代码是从我获得代码的网站上工作的，但不是在我的网站上。它的工作原理：[http ://www.fbrell.com/fb.api/graph-me](http://www.fbrell.com/fb.api/graph-me)

在第二个粗体后的最底部查看代码：

**我在下面的代码中缺少什么？**

```
 visible     //facebook application id, secret key here
    $fbconfig['appid' ] = "MY###";

    $fbconfig['secret'] = "MY###";

    //set application urls here
    $fbconfig['baseUrl']    =   "MY###";
    if($id){
    $fbconfig['appBaseUrl'] =   "http://apps.facebook.com/MY###/index.php?id=".$id;
    }
    else
    {
        $fbconfig['appBaseUrl'] =   "http://apps.facebook.com/MY###/";
    }

    $uid            =   null; //facebook user id

    try{
        include_once "facebook.php";
    }
    catch(Exception $o){
        echo '<pre>';
        print_r($o);
        echo '</pre>';
    }
    // Create our Application instance.
    $facebook = new Facebook(array(
      'appId'  => $fbconfig['appid'],
      'secret' => $fbconfig['secret'],
      'cookie' => true,
    ));

    //Facebook Authentication part
     $user= $facebook->getUser();
    $loginUrl = $facebook->getLoginUrl(
            array(
            'scope'   =>  'email,publish_actions,publish_stream,status_update,user_work_history,user_location,user_birthday,user_religion_politics', 
            'redirect_uri'  => $fbconfig['appBaseUrl'],            )
    );

    $fbme = null;

    if (!$user) {
        echo "<script type='text/javascript'>top.location.href = '$loginUrl';</script>";
        exit;
    }
    else {
        try {
            $uid      =   $facebook->getUser();
            $fbme     =   $facebook->api('/'.$uid); 
            $friends    = $facebook->api('/' . $facebook->getUser() . '/friends');
            //$gender   = $facebook->api('/' . $facebook->getUser() . '/gender');
            $location = $fbme[location][name];
            $gender = $fbme[gender];

            /////foreach ($friends["data"] as $value) 
                ////{
                //echo '<li>';
               // echo '<div class="pic">';
               // echo '<img src="https://graph.facebook.com/' . $value["id"] . '/picture"/>';
                //echo '</div>';
               // echo '<div class="picName">'.$value["name"].'</div>'; 
               // echo '</li>';

                 $NameID .= $value["name"]."|".$value["id"].","; 
```

**这是下面不起作用的代码**

```
<fb:login-button scope="read_stream,publish_stream">
  Grant Permissions to make more examples work
</fb:login-button>

<button onclick="doPost()">Post to Stream</button>

<script>
function userData() {
  FB.api('/me', Log.info.bind('/me callback'));
  FB.api('/me/friends', Log.info.bind('/me/friends callback'));
  FB.api('/me/feed', Log.info.bind('/me/feed callback'));
  FB.api(
    '/platform/feed',
    { limit: 3 },
    Log.info.bind('/platform/feed limit: 3 callback')
  );
}
function publicData() {
  FB.api('/platform', Log.info.bind('/platform callback'));
  FB.api('/britneyspears', Log.info.bind('/britneyspears callback'));
  FB.api('/this-will-error', Log.info.bind('/this-will-error callback'));
}
window.doPost = function() {
  FB.api(
    '/me/feed',
    'post',
    { message: 'Trying the Graph' },
    Log.info.bind('/me/feed POST callback')
  );
};

FB.getLoginStatus(function(response) {
  if (response.status === 'connected') {
    userData();
  }
  publicData();
});
</script> 
```

///////////////////////////////////////// /////////// 更新.. 完整代码：

```
<?

/////////////////////////////////////////////
/////////////////////////////////////////////

    //facebook application id, secret key here
    $fbconfig['appid' ] = "NADA";

    $fbconfig['secret'] = "NADA";

    //set application urls here
    $fbconfig['baseUrl']    =   "NADA";
    if($id){
    $fbconfig['appBaseUrl'] =   "NADA/index.php?id=".$id;
    }
    else
    {
        $fbconfig['appBaseUrl'] =   "http://apps.facebook.com/NADA/";
    }

    $uid            =   null; //facebook user id

    try{
        include_once "facebook.php";
    }
    catch(Exception $o){
        echo '<pre>';
        print_r($o);
        echo '</pre>';
    }
    // Create our Application instance.
    $facebook = new Facebook(array(
      'appId'  => $fbconfig['appid'],
      'secret' => $fbconfig['secret'],
      'cookie' => true,
    ));

    //Facebook Authentication part
     $user= $facebook->getUser();
    $loginUrl = $facebook->getLoginUrl(
            array(
            'canvas' => 1,
             'scope'  => 'publish_stream,email,user_about_me,user_birthday,user_website',
            'scope'   =>  'read_stream,publish_stream,status_update,user_work_history,user_location,user_birthday,user_religion_politics,email', 
            'fbconnect' => 1,
            'redirect_uri' => 'https://apps.facebook.com/vizzytesting',         )
    );

    $fbme = null;

    if (!$user) {
        echo "<script type='text/javascript'>top.location.href = '$loginUrl';</script>";
        exit;
    }
    else {
        try {
            $uid      =   $facebook->getUser();
            $fbme     =   $facebook->api('/'.$uid); 
            $friends    = $facebook->api('/' . $facebook->getUser() . '/friends');
            //$gender   = $facebook->api('/' . $facebook->getUser() . '/gender');
            $location = $fbme[location][name];
            $gender = $fbme[gender];

            /////foreach ($friends["data"] as $value) 
                ////{
                //echo '<li>';
               // echo '<div class="pic">';
               // echo '<img src="https://graph.facebook.com/' . $value["id"] . '/picture"/>';
                //echo '</div>';
               // echo '<div class="picName">'.$value["name"].'</div>'; 
               // echo '</li>';

                 $NameID .= $value["name"]."|".$value["id"].",";

                /// }           

              {?>

<style type="text/css">
body {
    margin-left: 0px;
    margin-top: 0px;
    margin-right: 0px;
    margin-bottom: 0px;
    background-image: url(../RosaryPromotion/images/Top.jpg);
}
.Top {
    background-image: url(../RosaryPromotion/images/Top.jpg);
    display: block;
    height: 333px;
}
#Top {
    background-image: url(../RosaryPromotion/images/White.png);
    height: 370px;
    width: 885px;
}
#Pic {
    width: 90%;
    border-top-style: none;
    border-right-style: none;
    border-bottom-style: none;
    border-left-style: none;
    position: relative;
}
.ProfilePic {
    background-image: url(http://graph.facebook.com/<?=$facebook->getUser();?>/picture?type=large);
    background-repeat: no-repeat;
    background-position: center center;
    position: absolute;
    top: -6px;
    left: -21px;
    display: block;
}

#NameTag {
    background-image: url(../RosaryPromotion/images/BlueButton.png);
    background-repeat: no-repeat;
    display: block;
    height: 53px;
    width: 257px;
    position: absolute;
    top: 121px;
    line-height: 45px;
    font-family: "Arial Black", Gadget, sans-serif;
    color: #FFF;
    padding-left: 20px;
    font-size: 18px;
    left: -32px;
}

#RegisteredTimes {
    background-image: url(../RosaryPromotion/images/BlueButton.png);
    background-repeat: no-repeat;
    display: block;
    height: 53px;
    width: 257px;
    position: absolute;
    top: 215px;
    line-height: 45px;
    font-family: "Arial Black", Gadget, sans-serif;
    color: #FFF;
    padding-left: 20px;
    font-size: 18px;
    left: -31px;
}
</style>

              <table width="878" border="0" align="center" cellpadding="0" cellspacing="0" id="Top">
                <tr>
                  <th width="878" align="center" valign="top" scope="col">

<div align="left" id="Pic">

        <div class="ProfilePic" id="ProfilePic"><img src="../RosaryPromotion/images/Photo.png" width="228" height="224" alt="PhotoFrame" /></div>

   <div class="NameTag" id="NameTag"><?="$fbme[email]";?></div>
   <div class="RegisteredTimes" id="RegisteredTimes"><?="$fbme[gender]";?></div>

                    </div>
                    <?  echo count(explode(",",$NameID));  echo "<br>"; echo $fbme[location][name];
                echo "<br>";
                echo $fbme[birthday];
                echo "<br>";
                echo $fbme[gender];
                echo "<br>";
                echo $fbme[religion];?>

<fb:login-button scope="read_stream,publish_stream">
  Grant Permissions to make more examples work
</fb:login-button>

<button onclick="doPost()">Post to Stream</button>

<script>
FB.init({
appId  : '144220342416564',
frictionlessRequests: true,
status: true, 
xfbml: true,
oauth: true
});

function fbLoginStatus()
{
FB.getLoginStatus(function(response) {
    console.log(response);
    if (response.status === 'connected') {
        access_token =   FB.getAuthResponse()['accessToken'];
        doPost();
    } else {
        fblogin();
    }
 });
}

function fblogin()
{
FB.login(function(response) {
    if (response.authResponse) {
        console.log(response);
         access_token =   FB.getAuthResponse()['accessToken'];
         doPost();
    } else {
        console.log('User cancelled login or did not fully authorize.');
    }
}, {scope: 'publish_stream'});
}

function doPost(){

 var obj = {
            method: 'feed',
            link: 'http://example.com',
            picture:'http://suvudu.com/files/mt-files/Edward%20Cullen.jpg',
            name:'title',
            caption: 'Caption',
            description:'Description'
            };
console.log(obj);
function callback(response) {
        document.getElementById('msg').innerHTML = "Post ID: " + response['post_id'];
    }

FB.ui(obj, callback);
}
</script>

                    </th>
                </tr>
              </table>
              <p>
                <? }

        } catch (FacebookApiException $e) {
            echo "<script type='text/javascript'>top.location.href = '$loginUrl';</script>";
            exit;
        }
    }
     /*$uid=$user;
    function d($d){
        echo '<pre>';
        print_r($d);
        echo '</pre>';

    }

    //FQL function
    function fqlQuery($q){
    global $facebook;
    $param  =   array(
        'method'    => 'fql.query',
        'query'     => $q,
        'callback'  => ''
    );
    //return $fqlResult   =  $facebook->api($param);
}*/
include("rosaryDatabase.php");
?>
</p> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:24:55.500

试试这个，把这段代码放到你的 doPost 函数中，你必须有 publish_stream 权限。“`<div id="fb-root"></div>`在页面上的脚本标签中放入html正文和所有以下代码”

```
// Load the SDK asynchronously
(function(d, s, id){
 var js, fjs = d.getElementsByTagName(s)[0];
 if (d.getElementById(id)) {return;}
 js = d.createElement(s); js.id = id;
 js.src = "//connect.facebook.net/en_US/all.js";
 fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'fb-root'));

FB.init({
appId  : 'xxxxxxxxxxxxxxxx',
frictionlessRequests: true,
status: true, 
xfbml: true,
oauth: true
});

function fbLoginStatus()
{
FB.getLoginStatus(function(response) {
    console.log(response);
    if (response.status === 'connected') {
        access_token =   FB.getAuthResponse()['accessToken'];
        doPost();
    } else {
        fblogin();
    }
 });
}

function fblogin()
{
FB.login(function(response) {
    if (response.authResponse) {
        console.log(response);
         access_token =   FB.getAuthResponse()['accessToken'];
         doPost();
    } else {
        console.log('User cancelled login or did not fully authorize.');
    }
}, {scope: 'publish_stream'});
}

function doPost(){

 var obj = {
            method: 'feed',
            link: 'http://abc.com',
            picture:'http://suvudu.com/files/mt-files/Edward%20Cullen.jpg',
            name:'title',
            caption: 'Caption',
            description:'Description'
            };
console.log(obj);
function callback(response) {
        document.getElementById('msg').innerHTML = "Post ID: " + response['post_id'];
    }

FB.ui(obj, callback);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T07:16:22.800

实际上，您必须在 developer.facebook.com 中创建应用程序设置，如果您没有创建应用程序，如果您已经创建了应用程序，请检查应用程序设置中的 URL

# math - ∑有什么优先顺序？

> ID：15941914
> 
> 赞同：0
> 
> 时间：2013-04-11T06:16:36.217
> 
> 标签：math, operator-precedence

试图在这里实现一个神经网络算法，但我在数学方面有点迷失：

请注意， p 和 i 应该是下标（不确定如何在 stackoverflow 中执行）。

(ΣpΣi(tpi - opi)^2) / (n * k)

基本上我的问题是关于内部 ∑ ：我是否求和（对于所有 i (tpi - opi)^2）？还是我平方（所有 i (tpi - opi) 的总和）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T06:19:26.607

平方和。所以 Σi(tpi - opi)^2 表示 (tp1 - op1)^2 + ... + (tpn - opn)^2。如果你想要总和的平方，它最有可能写成 (Σi(tpi - opi))^2。此外，由于它的神经网络，您可能指的是平方和。

# java - 使用 Scanner 和 Printwriter 类查找和替换文本文件中的单词

> ID：15941916
> 
> 赞同：0
> 
> 时间：2013-04-11T06:16:38.507
> 
> 标签：java, string, java.util.scanner

我目前正在尝试编写一个程序，该程序可以扫描文本文档并用另一个短语替换指定的单词/字符串/任何内容，特别是使用 Scanner 和 Printwriter 类。不幸的是，我在寻找正确的使用方法以及如何实现它们时遇到了一些麻烦。这是我的代码：

```
class Redaction {

    public static void main(String[] args) throws FileNotFoundException {
        Scanner input = new Scanner(System.in);

        System.out
                .println("Please enter the filename of the sensitive     information");
        String f = input.next();
        System.out.println("Please input what text you want 'lost'");
        String o = input.next();
        System.out
                .println("Please input what you want the new, improved filename to be called");
        String n = input.next();

        File sensitiveDocument = new File(f);
        if (!sensitiveDocument.exists()) {

            System.out.println("File does not exist.");

            System.exit(0);

        }

        Scanner in = new Scanner(sensitiveDocument);
        in.useDelimiter("[^A-Za-z]+");
        PrintWriter out = new PrintWriter(n);

        while (in.hasNext()) {
            if (in.hasNext(o)) {
                // ...
            }
        }

        in.close();
        out.close();
    }
} 
```

在这一点上我很迷茫。任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:23:45.280

首先阅读[PrintWriter](http://docs.oracle.com/javase/6/docs/api/java/io/PrintWriter.html)和[Scanner](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html)文档，以决定使用哪些方法。

伪代码：

1.  逐行获取（或逐字逐句，取决于您要删除的内容）。
2.  查找要删除的字符串
3.  如果字符串包含要删除的内容，请将其删除。
4.  将字符串打印到文件中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:23:53.983

最简单但效率不高的算法是将文件的内容读入字符串变量。之后，您可以使用 a`String Tokenizer`查找您不想要的单词并将其替换为您想要的单词，并将变量的内容重写回文件中。

# c++ - C ++正则表达式提取子字符串

> ID：15941917
> 
> 赞同：0
> 
> 时间：2013-04-11T06:16:40.013
> 
> 标签：c++, regex, string, substring

如何在 C++ 中提取 * 字符之前所有字符的子字符串。例如，如果我有一个字符串

```
ASDG::DS"G*0asd}}345sdgfsdfg 
```

我将如何提取该部分

```
ASDG::DS"G 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T06:25:09.067

你当然不需要正则表达式。只需使用[`std::string::find('*')`](http://en.cppreference.com/w/cpp/string/basic_string/find)和[`std::string::substr`](http://en.cppreference.com/w/cpp/string/basic_string/substr)：

```
#include <string>

int main()
{
    // raw strings require C++-11
    std::string s1 = R"(ASDG::DS"G*0asd}}345sdgfsdfg)";
    std::string s2 = s1.substr(0, s1.find('*'));
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:32:15.703

我认为您的文本没有多个`*`，因为`find`先返回`*`

```
#include <iostream>
#include <string>

using namespace std;
#define SELECT_END_CHAR "*"

int main(){

    string text = "ASDG::DS\"G*0asd}}345sdgfsdfg";
    unsigned end_index = text.find(SELECT_END_CHAR);
    string result = text.substr (0,end_index);
    cout << result << endl;
    system("pause");
    return 0;
} 
```

# jquery - 使用 parsejson 的 jquery 多个 ajax 调用

> ID：15941919
> 
> 赞同：0
> 
> 时间：2013-04-11T06:16:48.733
> 
> 标签：jquery, jsonp

我一个接一个地调用了 3 个 ajax 调用，它们调用了它们各自的 Web 服务。这些 Web 服务返回 parseJSON 对象。在所有 3 个 ajax 调用中，我使用这些 parseJSON 对象值填充下拉列表。但它只填充第一个和第三个列表，而不是第二个。那么问题是什么？

我的代码如下。

```
<script type="text/javascript">

 $(document).ready(function () {

     //For test
     $ConUrl = 'http://mydomain.com/WebService.asmx/FetchCountry?callback=parseJSON?';
     $StateUrl = 'http://mydomain.com/WebService.asmx/FetchState?callback=parseJSON?';
     $CityUrl = 'http://mydomain.com/WebService.asmx/FetchCity?callback=parseJSON?';

     populateCountries();

 });  // ready end

     function populateCountries() {

         $.ajax({
             type: 'GET',
             url: $ConUrl,
             processData: true,
             data: {},
             dataType: "jsonp",
             jsonpCallback: 'parseJSON',
             success: function (data) {
                 var html = '<option value="0">All Regions</option>';
                 var len = data.length;
                 for (var i = 0; i < len; i++) {
                     html += '<option value="' + data[i] + '">' + data[i] + '</option>';
                 }
                 $('select#ddlCountry').append(html);
                 populateStates();

             },
             error: function (data) { }
         });

     }

     function populateStates() {

         $.ajax({
             type: 'GET',
             url: $StateUrl,
             processData: true,
             data: {},
             dataType: "jsonp",
             jsonpCallback: 'parseJSON',
             success: function (data1) {
                 var html1 = '<option value="0">All States</option>';
                 var len1 = data1.length;
                 for (var j = 0; j < len1; j++) {
                     html1 += '<option value="' + data1[j] + '">' + data1[j] + '</option>';
                 }
                 $('select#ddlState').append(html1);
                 populateCities();

             },
             error: function (data1) { }
         });

     }

     function populateCities() {

         $.ajax({
             type: 'GET',
             url: $CityUrl,
             processData: true,
             data: {},
             dataType: "jsonp",
             jsonpCallback: 'parseJSON',
             success: function (data2) {
                 var html2 = '<option value="0">All Cities</option>';
                 var len2 = data2.length;
                 for (var k = 0; k < len2; k++) {
                     html2 += '<option value="' + data2[k] + '">' + data2[k] + '</option>';
                 }
                 $('select#ddlCity').append(html2);

             },
             error: function (data2) { }
         });
     }
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T04:47:52.377

问题解决了......问题不在jquery中......它在标签中......

我是这样写的......

```
<select id="ddlCountry" class="searchbox roundedcornerstyle" style="width:160px;" />
<select id="ddlState" class="searchbox roundedcornerstyle" style="width:160px;" />
<select id="ddlCity" class="searchbox roundedcornerstyle" style="width:160px;" /> 
```

如下更改上述行后，它解决了...

```
<select id="ddlCountry" class="searchbox roundedcornerstyle" style="width:160px;"></select>
<select id="ddlState" class="searchbox roundedcornerstyle" style="width:160px;"></select>
<select id="ddlCity" class="searchbox roundedcornerstyle" style="width:160px;"></select> 
```

确实花了太多时间才找到这个..但最后它解决了......

# javascript - 我需要在表格上应用 div_color_click 即 table1

> ID：15941920
> 
> 赞同：-1
> 
> 时间：2013-04-11T06:17:05.557
> 
> 标签：javascript

```
<style type="text/css">
<!--
.border-rb {
cursor:pointer;
height:15px;
width:15px;
border-right: solid black 1px;
border-bottom: solid black 1px;
font-size:1px;
}
.border-lt {
border-top: 1px solid #000;
border-left: 1px solid #000;
}
.border-t {
border-top: 1px solid #000;
border-left: 1px none #000;
}
.div_color_preview {
background-color: #FFFFFF;
width: 50px;
height: 50px;
border: 1px solid #000;
}
.div_color_click {
background-color: #FFFFFF;
width: 50px;
height: 50px;
border: 1px solid #000;
}
-->
</style>
</head>
<body>
<table name="table1"><tr>
<td><%out.println(request.getAttribute("nam")); %>
</td></tr></table>
<input name="txtColor" type="text" id="txtColor" size="7">
<br>
<br>
<div id="div_color_text">Hex code</div>
<br>
<div id="div_color_preview" class="div_color_preview"></div>
<br>
<div id="div_color_click" class="div_color_click"></div>
<br>
<script type="text/javascript" language="javascript">
<!--
function col_preview(c) {
document.getElementById('div_color_preview').style.cssText='background-color: ' + c +';     width: 50px; 
height: 50px;  
border: 1px solid #000;';
document.getElementById('div_color_text').innerHTML  = c;
}
function col_exit(c) {
document.getElementById('div_color_preview').style.cssText = 'background-color:#FFFFFF;     width:        50px; 
height: 50px; 
border: 1px solid #000;';
document.getElementById('div_color_text').innerHTML  = "Hex code";
}
function col_click(c) {
document.getElementById('div_color_click').style.cssText = document.getElementById('div_color_preview').style.cssText;
document.getElementById('txtColor').value = c;
}

document.write('<table width="170" border="0" cellpadding="0" cellspacing="0"      style="background-color:black;" ><tr><td width="90"><table border="0" cellpadding="0"      cellspacing="0" class="border-lt" >');
var int_count_col1 = 6;
var int_count_col2 = 6;
var int_count = 0;
while (int_count != 36)
{
int_count = int_count + 1
if (int_count_col1 == 1) {str_count_col1 = "00"}
if (int_count_col1 == 2) {str_count_col1 = "33"}
if (int_count_col1 == 3) {str_count_col1 = "66"}
if (int_count_col1 == 4) {str_count_col1 = "99"}
if (int_count_col1 == 5) {str_count_col1 = "CC"}
if (int_count_col1 == 6) {str_count_col1 = "FF"}
if (int_count_col2 == 1) {str_count_col2 = "00"}
if (int_count_col2 == 2) {str_count_col2 = "33"}
if (int_count_col2 == 3) {str_count_col2 = "66"}
if (int_count_col2 == 4) {str_count_col2 = "99"}
if (int_count_col2 == 5) {str_count_col2 = "CC"}
if (int_count_col2 == 6) {str_count_col2 = "FF"}
document.write('<tr><td onMouseOver="col_preview(\'#FF' + str_count_col1 +   str_count_col2 + '\');" onClick="col_click(\'#FF' + str_count_col1 + str_count_col2 +   '\');" onMouseOut="col_exit();" bgcolor="#FF' + str_count_col1 + str_count_col2 + '"    class="border-rb">&nbsp;</td>' +
'<td onMouseOver="col_preview(\'#CC' + str_count_col1 + str_count_col2 + '\');"   onClick="col_click(\'#CC' + str_count_col1 + str_count_col2 + '\');"   onMouseOut="col_exit();" bgcolor="#CC' + str_count_col1 + str_count_col2 + '"   class="border-rb">&nbsp;</td>' +
'<td onMouseOver="col_preview(\'#99' + str_count_col1 + str_count_col2 + '\');"     onClick="col_click(\'#99' + str_count_col1 + str_count_col2 + '\');"     onMouseOut="col_exit();" bgcolor="#99' + str_count_col1 + str_count_col2 + '"     class="border-rb">&nbsp;</td>' +
'<td onMouseOver="col_preview(\'#66' + str_count_col1 + str_count_col2 + '\');"     onClick="col_click(\'#66' + str_count_col1 + str_count_col2 + '\');"     onMouseOut="col_exit();" bgcolor="#66' + str_count_col1 + str_count_col2 + '"     class="border-rb">&nbsp;</td>' +
'<td onMouseOver="col_preview(\'#33' + str_count_col1 + str_count_col2 + '\');" onClick="col_click(\'#33' + str_count_col1 + str_count_col2 + '\');" onMouseOut="col_exit();" bgcolor="#33' + str_count_col1 + str_count_col2 + '" class="border-rb">&nbsp;</td>' +
'<td onMouseOver="col_preview(\'#00' + str_count_col1 + str_count_col2 + '\');" onClick="col_click(\'#00' + str_count_col1 + str_count_col2 + '\');" onMouseOut="col_exit();" bgcolor="#00' + str_count_col1 + str_count_col2 + '" class="border-rb">&nbsp;</td></tr>');
if (int_count_col2 == 1){int_count_col1 = int_count_col1 - 1;int_count_col2 = 6;
}else{int_count_col2 = int_count_col2 - 1}
if (int_count == 18) {document.write('</table></td><td width="90"><table width="0%"     border="0" cellpadding="0" cellspacing="0" class="border-t">');}
if (int_count == 36) {document.write('</table></td></tr></table>');}
}
-->
</script>
<button name="submit" value="submit" type="submit" onclick="return checkbutton();"> 
```

我使用上面的代码来制作颜色选择器，现在我需要将颜色应用于来自文本框的文本，该文本框存储在 table1 的变量中

我需要`div_color_click`在桌子上应用，即 table1

我使用以下功能来应用颜色，但它不起作用

```
<script>
function checkbutton()
{
var color=document.getElementById("textcolor").value;
document.getElementById("table1").style.color=document.getElementById("textcolor").innerHTML;
document.getElementsByName("nam").style.color=document.getElementById("textcolor").innerHTML;
}
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:33:24.780

```
<script>
function checkbutton() {
    var color = '#' + document.getElementById("txtColor").value;
    document.getElementById("table1").style.color = color;
    document.getElementsByName("nam").style.color = color;
}
</script> 
```

# eclipse - Hadoop：Filenotfound 异常 - Windows

> ID：15941921
> 
> 赞同：0
> 
> 时间：2013-04-11T06:17:13.627
> 
> 标签：eclipse, hadoop, mapreduce

这个问题似乎已经在 Stackoverflow 中提出，但我的情况完全不同，hadoop 查找的文件或文件夹位置是在中创建的`C:/tmp/hadoop-SYSTEM/mapred/local/taskTracker/jobcache/`，在此位置作业文件夹是在运行 wordcount 示例时创建的，但即使文件和文件夹也是可用的，它抛出文件未找到异常，似乎文件未被识别，我什至尝试了`re-formating of namenode`这是论坛中提供的解决方案之一，但仍然存在问题

`Note: Hadoop version 0.20.2`

错误：

```
13/04/11 10:24:20 WARN conf.Configuration: DEPRECATED: hadoop-site.xml found in the classpath. Usage of hadoop-site.xml is deprecated. Instead use core-site.xml, mapred-site.xml and hdfs-site.xml to override properties of core-default.xml, mapred-default.xml and hdfs-default.xml respectively
13/04/11 10:24:21 WARN mapred.JobClient: Use GenericOptionsParser for parsing the arguments. Applications should implement Tool for the same.
13/04/11 10:24:21 INFO input.FileInputFormat: Total input paths to process : 1
13/04/11 10:24:22 INFO mapred.JobClient: Running job: job_201304111023_0001
13/04/11 10:24:23 INFO mapred.JobClient:  map 0% reduce 0%
13/04/11 10:24:34 INFO mapred.JobClient: Task Id : attempt_201304111023_0001_m_000002_0, Status : FAILED
java.io.FileNotFoundException: File C:/tmp/hadoop-SYSTEM/mapred/local/taskTracker/jobcache/job_201304111023_0001/attempt_201304111023_0001_m_000002_0/work/tmp does not exist.
at org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:361)
at org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:245)
at org.apache.hadoop.mapred.TaskRunner.setupWorkDir(TaskRunner.java:519)
at org.apache.hadoop.mapred.Child.main(Child.java:155) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T09:09:28.600

检查该文件夹的权限是否已正确设置，如果该文件夹未授予写入权限，则可能会出现此类错误。

# .net - 连接到网络服务 | 无法获得请求 | 清除应用程序池工作正常

> ID：15941924
> 
> 赞同：0
> 
> 时间：2013-04-11T06:17:36.003
> 
> 标签：.net, iis-7.5, webservices-client

在我的应用程序中，我必须连接到 Web 服务并获得结果。目前它是一个公共财产，因为我有很多服务电话。只有当服务进入故障状态时，我才会中止和关闭服务。我的应用程序托管在 IIS 7.5 中。当我将我的应用程序部署到 IIS 时，它可以正常工作一段时间。当应用程序空闲一段时间（例如一天）时，第二天我的与服务调用模块相关的应用程序不工作。

它仅在我回收应用程序池时才有效。这里会有什么问题？如果对 Web 服务的调用如此之多，那么连接到 Web 服务的最佳方式是什么？我需要每次都创建新客户还是有其他方法？

如果您需要更多说明，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:56:32.433

您的客户端应用程序中是否有任何超时？只有第一个呼叫失败还是每个连续的呼叫也失败？

我们在客户端和网络服务方面也遇到了类似的情况——当一天中的第一个用户调用这个网络服务时，他有时会收到一个错误，基本上是超时过期。我们发现，IIS 池会在一段时间后释放资源，并且当服务第一次调用时，需要将资源放入内存等。在我们的案例中，主要消费者是 Crystal Reports。

在进行第一次调用并设置资源后，应用程序按预期工作。

# google-maps - 带有引导程序的谷歌地图信息窗口上的奇怪故障图像

> ID：15941925
> 
> 赞同：2
> 
> 时间：2013-04-11T06:17:36.600
> 
> 标签：google-maps, infowindow

![在此处输入图像描述](https://i.stack.imgur.com/Y14bM.png)

如您所见，信息窗口正下方有一个故障图像，即黑色阴影。放大和缩小按钮中还有另一个故障。我正在使用引导程序。任何想法如何解决这一问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T11:17:35.543

将以下内容添加到包含地图的 div 的 css

```
 #MapDiv img { 
           max-width: none; 
        } 
```

# java - Spring social linkedin - org.codehaus.jackson.map.SerializationConfig.withSerializationInclusion 出现问题

> ID：15941927
> 
> 赞同：0
> 
> 时间：2013-04-11T06:17:37.643
> 
> 标签：java, spring, linkedin, spring-social

我在我的项目中使用spring social。我已经完成了与 facebook 和 twitter 的集成，但在使用 linkedin 时遇到了问题。

如果我尝试创建连接：

```
Connection <LinkedIn> connection = connectionFactory.createConnection(accessToken); 
```

然后我有这个例外：

> java.lang.NoSuchMethodError: org.codehaus.jackson.map.SerializationConfig.withSerializationInclusion(Lorg/codehaus/jackson/map/annotate/JsonSerialize$Inclusion;)Lorg/codehaus/jackson/map/SerializationConfig;

我已经尝试使用不同版本的 spring-social-linkedin 和不同版本的 jackson lib（v 1.9.2 及更高版本）但不成功。

谁能告诉我如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:20:18.840

该方法[从 API v1.9 开始](http://jackson.codehaus.org/1.9.9/javadoc/org/codehaus/jackson/map/SerializationConfig.html#withSerializationInclusion%28org.codehaus.jackson.map.annotate.JsonSerialize.Inclusion%29)可用。

发生这种情况的唯一原因是您在编译时针对正确的库进行编译，但在运行时此方法不可用。在您的类路径中某处存在该库的陈旧版本（< 1.9）。

```
withSerializationInclusion

public SerializationConfig withSerializationInclusion(JsonSerialize.Inclusion incl)
Since:
1.9 
```

# sharepoint-2010 - SSRS，某些字段在部署到服务器后不显示报告（Sharepoint 2010）

> ID：15941933
> 
> 赞同：1
> 
> 时间：2013-04-11T06:18:03.427
> 
> 标签：sharepoint-2010, ssrs-2008

在服务器上生成报告后，我无法查看某些字段。报告正在正确生成，但未显示数据。该报告在本地机器上运行良好。

以下是我面临的问题的屏幕截图。

本地报告：

![本地工作截图](https://i.stack.imgur.com/ikvLd.jpg)

在服务器上，我面临如下问题，数据已正确获取，如屏幕截图所示。正确创建的部分表示查询已成功执行。由于某些奇怪的原因，仅`Time`显示列。

![服务器上的问题](https://i.stack.imgur.com/2PcpE.jpg)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T09:11:14.527

上述问题是因为 Dataset 不包含所有列，我更改了默认视图并将所有字段添加到默认视图。

我只能看到时间列，因为默认视图中只有`Time`列，我必须添加所有其他列才能使其正常工作。

参考[此](http://social.msdn.microsoft.com/Forums/en-US/sqlreportingservices/thread/332ce140-1e8b-4e69-b29c-60f516caf5cd/)链接以获取解决方案。

# android - 查找 CountDownTimer 是否已完成？

> ID：15941935
> 
> 赞同：1
> 
> 时间：2013-04-11T06:18:15.473
> 
> 标签：android, if-statement, countdown

我在 Android 上玩 CountDownTimer，我陷入了困境。在我的代码中，我有以下内容：

```
public class mCountDownTimer extends CountDownTimer{
    protected boolean hasFinished = false;
    public mCountDownTimer(long millisInFuture, long countDownInterval) {
        super(millisInFuture, countDownInterval);
        // TODO Auto-generated constructor stub
    }
    public void onFinish(){
        hasFinished = true;
    }
    @Override
    public void onTick(long millisUntilFinished) {
        // TODO Auto-generated method stub

    }
} 
```

基本上我想知道我的 CountDownTimer 是否已经完成。但是在我想调用它的函数中，我有一些代码：

```
public void function(){
public boolean finished = false;
    if(interrupted)
        countDownTimer.cancel();
    if(temporaryCountHolder == false){
        countDownTimer.start();
        interrupted = true;
    }
} 
```

我怎么知道我的计时器是否已经结束？我想实现一些内容：

```
 if(countDownTimer.hasFinished == true){
        Time now = new Time(); //finds the current time
        now.setToNow(); 
        String lsNow = now.format("%m-%d-%Y %I:%M:%S");
        lsNow += " just Started\n";
        try {
            dumpToFile("StepsChanged", lsNow);
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
 } 
```

但是如果我把声明放在后面

```
if(temporaryCountHolder == false) 
```

语句，那么带有 hasFinished 的 if 语句将始终评估为假。我怎样才能得到它，以便当且仅当计时器完成时我才能记录时间？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:48:42.907

根据您的评论，您获得错误值的原因是因为您在计时器停止之前执行语句。

你可以像下面这样，

```
@Override
public void onFinish(){
        hasFinished = true;
        Time now = new Time(); //finds the current time
        now.setToNow(); 
        String lsNow = now.format("%m-%d-%Y %I:%M:%S");
        lsNow += " just Started\n";
        try {
            dumpToFile("StepsChanged", lsNow);
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
} 
```

要简单地记录时间，您可以将这些方法移至 countdowntimer 类的 onFinish 方法。我不知道`dumpToFile`它是否是另一个类的方法，您可以将其设为静态方法并使用它，甚至是一些合适的替代方法。希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-10T06:59:29.613

您需要取消 OnFinsh 中的 CountDownTimer

```
 @Override
    public void onFinish() {
        Log.v(TAG, "On Finish");
        Intent intent = new Intent(TIME_OUT);
        intent.putExtra("dialog", "timeout");
        sendBroadcast(intent);
        countDownTimer.cancel();
    } 
```

# javascript - Jquery防止html列表超过多行

> ID：15941939
> 
> 赞同：0
> 
> 时间：2013-04-11T06:18:41.933
> 
> 标签：javascript, jquery, html

我想防止我在 cms 上的用户让他们的菜单项超过多行，因为它看起来不太好并且可以切断他们的内容。我到目前为止有这个。

```
 <div id="sitewrap">
        <div id="wrap">
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Contact</a>
                <ul> 
                <li><a href="#">Sub contact</a></li>
                </ul>
                </li>
                <li><a href="#">Register</a></li>
                <li><a href="#">Info</a></li>
                <li><a href="#">Share</a></li>
                <li><a href="#">Extra Info</a></li>
                <li><a href="#">Extra Info</a></li>
            </ul>
        </div>
    </div> 
```

如果导航的宽度进入第二行，我希望菜单看起来像这样。

```
 <div id="wrap">
        <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">About</a></li>
            <li><a href="#">Contact</a></li>
            <li><a href="#">Register</a></li>
            <li>
                <a href="#">More</a>
                <ul>
                <li><a href="#">Share</a></li>
                <li><a href="#">Extra Info</a></li>
                <li><a href="#">Extra Info</a></li>
                </ul>
            </li>
        </ul>
    </div> 
```

我正在尝试使用 Jquery 来实现这一点，但被卡住了。[请参阅小提琴](http://jsfiddle.net/aaronk85/dbEhv/3/)（小提琴中的第二个列表是我希望它看起来的样子）我可以计算列表项的宽度。但是我想说如果宽度> 300，则将 li = 300 之后的所有 li 添加到一个 sub ul 中，就像我在上面展示的那样，我希望它看起来像这样。这里的任何帮助将不胜感激。

```
 <script>
    $(document).ready(function() {
     var listWidth = [];
    $('#wrap ul li').each(function() {
        listWidth.push($(this).width());
    });

    var total = 0;
    for (var i = 0; i < listWidth.length; i++) {
        total += parseInt(listWidth[i]);
    }
        if (total > 300) 
        {
        alert ('to big');    
        }

        else {
         alert ('nice');    
        }    
    });

    </script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T07:32:23.647

尝试这样的事情，[小提琴](http://jsfiddle.net/kKF3W/)

```
 $(document).ready(function() {
        var listWidth = [];
        var total = 0;
         // new li to append
        var li = $('<li><a>more</a></li>')
         // new ul to be appended to ul
        var ul = $('<ul>')

        // variable to store index of element after which new li(more) will be added
        var $index = true;

        // variable to state that index vaiable is set, no more index need to be set 
        var $value_set = true;
        $('#wrap ul li').each(function() {
            total += parseInt($(this).width());
            if (total > 300){
                if($value_set){
                    $index = $(this).index() - 2;
                    $value_set = false; 
                }
            }

        });
        $( "#wrap ul li:gt("+$index +")").each(function() {
            ul.append(this);
        });

        if(ul.length){
             $('#wrap ul').append(li.append(ul));

         }

    }); 
```

# javascript - JavaScript 解析 JSON 文件

> ID：15941953
> 
> 赞同：2
> 
> 时间：2013-04-11T06:19:40.353
> 
> 标签：javascript, json, file

我正在使用以下代码来解析 JSON 文件的单行：

```
var str = '{ "jobID": "2598752", "account": "TG-CCR120014", "user": "charngda",
   "pkgT": {"mvapich2-new/1.2": { "libA": ["libmpich.so.1.1"], "flavor": ["default:pgi/7.2-5"] } },
   "startEpoch": "1338608868", "runTime": "48", "execType": "user:binary", "exec": "IOR", 
   "numNodes": "4", "sha1": "755187bd8550881bb0c9951822e74a9a53c8d0f3", "execEpoch": 1336757832, 
   "execModify": "Fr, Ma, 1, 12:37:1, 2012", "startTime": "Fr, Ju,  , 22:47:4, 2012",
   "numCores":  "64","sizeT": { "bss": "36224", "text": "3502656", "data": "128944" } }';
 var obj = JSON.parse(str);
 delete obj['flavor'];
 delete obj['pkgT'];
 var newstr = JSON.stringify(obj);
 document.write(str); 
```

但是，我想解析整个 6000 行 JSON 文件。我如何逐行读取文件并删除字段，就像我对单行所做的那样。我对 Javascript 的经验为零，所以我不知道如何读取文件或创建新文件。我假设我会使用某种数组，但我不确定。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:34:11.513

如果您的文件如下所示：

```
[{"jobID": "1",...},{"jobID": "2",...},{"jobID": "3",...},...] 
```

你可以这样做：

```
var objArray = JSON.parse(str);

 for( var k=0; k<objArray.length; k++ ) {

 delete objArray[k]['flavor'];
 delete objArray[k]['pkgT'];

  }
var newstr = JSON.stringify(objArray);
document.write(newstr); 
```

只需通过复制和粘贴将完整的文件内容添加到 str 变量即可。

**如果您需要定期执行此操作，此解决方案将无济于事！**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T09:28:38.750

这样的事情可能会奏效。我没有一个 6000 行的 JSON 文件来测试它，但它至少应该让你清楚地知道下一步应该使用你的解决方案。

请记住，JSON 块只是普通的 javascript 对象，它们是一种已经具有自己的方法的数据结构，因此您可以通过使用标准对象迭代来迭代它们。

```
var bigObj = json.parse(jsonFile);
var objArray = [];
var newStr;
for (var obj in bigObj){
    if (bigObj.hasOwnProperty(obj)){
    delete obj['flavor'];
    delete obj['pkgT'];
    newStr = JSON.stringify(obj);
    objArray.push(newStr);
    }
}
document.write(objArray.join("/n").toString()); 
```

# python - 在 aix 上安装 Python

> ID：15941956
> 
> 赞同：-1
> 
> 时间：2013-04-11T06:20:01.997
> 
> 标签：python, python-2.7, python-3.x, installation, aix

是否可以在 AIX 服务器上安装 Python。我已将它安装在 Linux 和 Windows 上，但无法为 AIX 找到正确的可安装程序

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-07T13:55:06.093

[您可以在此处](http://www-03.ibm.com/systems/power/software/aix/linux/toolbox/alpha.html%20%22here%22.)找到适用于 AIX 的官方 python RPM

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T02:10:06.207

几个选择。正如 Anthon 所说，您可以尝试自己编译它。

另一个选择是[http://www.perzl.org/aix/](http://www.perzl.org/aix/) 我在那里看到了 2.6 版本。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-10-28T10:17:52.520

[在https://github.com/chevah/python-package/releases](https://github.com/chevah/python-package/releases)检查 AIX 包。这包括 OpenSSL 1.0.2 库，并使用最新的安全更新进行了修补。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-05-08T20:36:36.537

您需要从[这里](http://ftp.software.ibm.com/aix/freeSoftware/aixtoolbox/ezinstall/ppc/yum_bundle.tar)安装 yum 解压并安装所有 rpm。在你可以从 yum 安装 python3 之后，我将自动安装 python 2.7。

# java - 将类类型作为参数传递并创建它的实例

> ID：15941957
> 
> 赞同：20
> 
> 时间：2013-04-11T06:20:02.530
> 
> 标签：java, oop

我想将一个类类型作为参数传递给java中的一个方法。所有这些都具有相同的构造函数参数。并在该方法中创建该类的一个实例。这可能吗？

**几年后更新**：请查看 Sapnesh Naik 对此的回答，这似乎是最新的。我没有接受作为答案，因为我没有正在运行的 java 堆栈。
PS：如果您可以验证，请给我大喊。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-04-11T06:23:43.230

使用反射创建实例：

```
Object obj = clazz.newInstance(); 
```

这将使用默认的*无参数*构造函数来创建实例。

```
Constructor<?> constructor = clazz.getConstructor(String.class);
Object object = constructor.newInstance(new Object[] { strArgument }); 
```

如果您有其他带有参数的构造函数，则创建实例。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-11T06:21:57.240

您需要使用反射来做到这一点，但是是的，这当然是可能的。

```
void MyMethod(Class className)
{
    try {
        Object obj = className.newInstance();
        //obj is a newly created object of the passed in type
    }
    catch (Exception ex) { }
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2019-06-25T05:12:17.107

## `newInstance()`已弃用。

> 此方法传播由 nullary 构造函数引发的任何异常，包括已检查的异常。使用此方法可以有效地绕过编译器执行的编译时异常检查。Constructor.newInstance 方法通过将构造函数抛出的任何异常包装在（已检查的）java.lang.reflect.InvocationTargetException 中来避免此问题。

**不推荐使用的调用：**

```
clazz.newInstance() 
```

**可以替换为：**

```
clazz.getDeclaredConstructor().newInstance() 
```

**例子：**

```
void MyMethod(Class type) throws InstantiationException, IllegalAccessException {
    type.getDeclaredConstructor().newInstance();
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-04-11T06:23:14.200

您正在寻找反射。

你的方法看起来像这样：

```
public void m1(Class c) {

      try {
        Object obj = c.newInstance();
        //do something with your new instance
    } catch (InstantiationException ex) {

    } catch (IllegalAccessException ex) {

    }
} 
```

反射 API 的 Oracle 文档在[这里](http://docs.oracle.com/javase/6/docs/technotes/guides/reflection/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-11T06:27:58.750

是的你可以

```
void x(Class cls) throws InstantiationException, IllegalAccessException {
    cls.newInstance();
} 
```

请注意， Class.newInstance 可能会失败

IllegalAccessException - 如果类或其空构造函数不可访问。

InstantiationException - 如果这个 Class 表示抽象类、接口、数组类、原始类型或 void；或者如果该类没有空构造函数；或者如果实例化由于某种其他原因而失败。

有关更多信息，请参阅 API

# c++ - C++11模板参数错误绑定示例？

> ID：15941964
> 
> 赞同：24
> 
> 时间：2013-04-11T06:20:31.733
> 
> 标签：c++, templates, c++11

在 C++11 标准的 6.8.3 中，它说：

> 如果在解析过程中，模板参数中的名称与在试解析期间绑定的名称不同，则程序格式错误。

由于此要求而导致程序格式错误的程序示例是什么？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-04-11T07:22:22.783

```
#include <iostream>
#include <typeinfo>

typedef const int cint;

template <int a> struct x
{
  static cint b = 0;
};

template <> struct x<42>
{
  typedef cint b;
};

cint w = 17;

int main ()
{
  cint (w)(42), (z)(x<w>::b);

  std::cout << typeid(z).name() << std::endl;
} 
```

中的第一个声明`main()`需要消除歧义，因此执行了试用解析。在此解析期间，本地`w`是未知的，因为解析是纯粹的句法（仅解析事物，不执行语义动作）。因此，`w`是一个全局常量，它的值为 17，`x<w>::b`是一个值，`z`也是一个变量。

在真正的解析过程中，会发生语义动作。因此，名称`w`绑定到新声明的局部常量，其值为 42，`x<w>::b`成为类型，并且`z`是函数声明。

# php - 使用php中的文本文件将数据加载到mysql表中的特定列中

> ID：15941968
> 
> 赞同：-1
> 
> 时间：2013-04-11T06:20:43.360
> 
> 标签：php, mysql

**这是我的代码**：

```
$query3="LOAD DATA INFILE 
        'C:/xampp/htdocs/schoolonweb/trainee/views/sliptest/sliptestuploads/$filename' 
        INTO TABLE $sliptesttable 
        (SchoolId,ClassId,SectionId,SubjectId,NewSubjectId,
        SlipTestId,StudentId,Mark) 
        FIELDS TERMINATED BY ',' LINES TERMINATED BY '\n' "; 
```

我收到以下**错误**：

> 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 'FIELDS TERMINATED BY ',' LINES TERMINATED BY ' '' 附近使用正确的语法

任何人都可以找到错误在哪里吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:36:01.690

语法不正确。试试这个——

```
LOAD DATA INFILE 
  'C:/xampp/htdocs/schoolonweb/trainee/views/sliptest/sliptestuploads/$filename' 
  INTO TABLE $sliptesttable 
  FIELDS TERMINATED BY ','
  LINES TERMINATED BY '\n'
  (SchoolId,ClassId,SectionId,SubjectId,NewSubjectId, SlipTestId,StudentId,Mark) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:36:33.910

我认为字段声明必须在由声明终止的字段之后：

```
$query3="LOAD DATA INFILE 
    'C:/xampp/htdocs/schoolonweb/trainee/views/sliptest/sliptestuploads/$filename' 
    INTO TABLE $sliptesttable 
    FIELDS TERMINATED BY ',' LINES TERMINATED BY '\n'
     (SchoolId,ClassId,SectionId,SubjectId,NewSubjectId,
             SlipTestId,StudentId,Mark) "; 
```

至少在 MySQL 中以这种方式工作[文档](http://dev.mysql.com/doc/refman/5.1/en/load-data.html)

# html - 如何使用 css 修复子菜单变得 100% 宽

> ID：15941970
> 
> 赞同：0
> 
> 时间：2013-04-11T06:20:54.513
> 
> 标签：html, css

我是 .net 开发人员，不知道 css 技巧。我添加了一个从某处找到的菜单并将其添加到这里[http://delhipitch.com](http://delhipitch.com)

但我不记得我做了什么改变，因为这个菜单不能正常工作。

不知何故，我发现使用 firebug 添加 z-index。

div.menu3 ul ul

现在，我想要解决的唯一问题是 100% 宽的子菜单。

有人可以帮我在css部分中添加什么来纠正这个问题。

也欢迎任何新的建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:34:49.307

现在添加此代码

```
.menu3 > ul > li{
position:relative;
}
.menu3 > ul > li > ul {
z-index:100;
left:0;
width:auto;
top:50px;
position:absolute;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:40:26.403

在行中：

```
div.menu3 ul ul {
    background: none repeat scroll 0 0 #5F6975;
    border-radius: 0 0 0 0;
    padding: 0;
    position: absolute;
    top: 100%;
} 
```

添加： ~~宽度：100%~~

```
width: auto;
left:0; 
```

希望能帮助到你。

编辑：哎呀......我误读了这个问题......实际上，宽度必须设置`auto`为 Rohit Azad 所说的那样。

# android - 如何检测 VideoView 是在播放视频还是在缓冲？

> ID：15941976
> 
> 赞同：11
> 
> 时间：2013-04-11T06:21:32.600
> 
> 标签：android, android-videoview

如何检测 VideoView 是在播放视频还是在缓冲？
我想显示一个弹出窗口，说视频正在缓冲。

在 android API 级别 17 中有一个回调`setOnInfoListener`可以为我提供此信息，但我使用的是 API 级别 15（android ICS）。

我也看过这个问题“[检测 VideoVIew 是否正在缓冲](https://stackoverflow.com/questions/7867233/detect-if-a-videoview-is-buffering)”，但建议的解决方案是针对`MediaPlayer`而不是针对`VideoView`.

那么如何检测 VideoView 是否正在缓冲？运行一个线程来检查当前的搜索/进度级别并根据它决定视频是正在播放还是正在缓冲是一个很好的解决方案。

**更新**

这不像我只需要在视频开始时检查视频是否正在播放或缓冲，我想通过视频支付来检查它。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-11T06:35:53.407

要检查 VideoView 是否正在播放，您可以使用它的 isPlaying() 方法，

```
if ( videoView.isPlaying() )
{
     // Video is playing
}
else
{
     // Video is either stopped or buffering
} 
```

要检查 VideoView 是否已完成，请使用以下命令，

```
videoView.setOnCompletionListener(new MediaPlayer.OnCompletionListener() 
{
    @Override
    public void onCompletion(MediaPlayer mp) 
    {
             // Video Playing is completed
    }
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-03-09T15:57:09.953

I came with the following hack in order to not implement a custom VideoView. The idea is to check every 1 second if the current position is the same as 1 second before. If it is, the video is buffering. If not, the video is really playing.

```
final Handler handler = new Handler(); 
Runnable runnable = new Runnable() { 
    public void run() {
        int duration = videoView.getCurrentPosition();
        if (old_duration == duration && videoView.isPlaying()) {
            videoMessage.setVisibility(View.VISIBLE);
        } else {
            videoMessage.setVisibility(View.GONE);
        }
        old_duration = duration;

        handler.postDelayed(runnable, 1000);
    }
};
handler.postDelayed(runnable, 0); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T06:28:04.180

```
 videoView.setOnPreparedListener(new OnPreparedListener()
           {

               public void onPrepared(MediaPlayer mp)
               {                  
                   progressDialog.dismiss();     // or hide any popup or what ever
                   videoView.start();           // start the video
               }
           }); 
```

# c# - 使用 TextWriter 未正确写入局部整数变量的值

> ID：15941977
> 
> 赞同：0
> 
> 时间：2013-04-11T06:21:35.240
> 
> 标签：c#, textwriter

所以问题是我声明变量并在方法开始时打开流：

```
 int i = 0;
    int FailedToCopyImages = 0;
    int NumberOfCopiedImages = 0;
    int PreviouslyCopiedImages = 0;
    TextWriter tw = new StreamWriter(pathToFile, true); 
```

然后我在`try-catch-finally`块中做一些事情，在最后部分我有：

```
finally
            {
                Console.WriteLine(i);
                Console.WriteLine(NumberOfCopiedImages);
                Console.WriteLine(PreviouslyCopiedImages);
                Console.WriteLine(FailedToCopyImages);
                tw.WriteLine(" ");
                tw.WriteLine("All images: " + i +
                    " | Successfully copied: " + NumberOfCopiedImages +
                    " | Previously copied: " + PreviouslyCopiedImages +
                    " | Failed To Copy: " + FailedToCopyImages);
                tw.WriteLine("--------------End Of Material Images-------------"); 
```

我用四种方法做到这一点，我在那里得到了正确的结果。在控制台中，我看到变量保持正确的值，但在 txt 文件中我得到零 (0)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T09:46:46.033

在大多数情况下，您需要在文件中看到结果之前调用`tw.Flush()`and `tw.Close()`（或只是 wrap `new StreamWriter(..)`in语句）。`using (...)`

即使它似乎开始使用其他文件路径（正如您评论的那样） - 没有魔法（至少在编程中） - 如果没有适当的`Flush`/ ，它总有一天会失败`Dispose`。

# ffmpeg - 在ffmpeg中使用h264和aac编解码器将flv视频文件转换为m3u8格式

> ID：15941979
> 
> 赞同：0
> 
> 时间：2013-04-11T06:21:39.927
> 
> 标签：ffmpeg, h.264, aac

我想在 FFmpeg 版本 0.7.15 中使用 AAC 和 H264 编码将 flv 视频文件转换为 m3u8 容器。谁可以帮我这个事？

我使用此命令转换为 m3u8 格式，但它会引发错误：

**命令：** `ffmpeg -i sample.flv -b 1104k -s 320x240 -vcodec libx264 -ab 32 -ar 24000 -acodec libfaac final_video.m3u8`

**错误：**

```
ffmpeg version 0.7.15, Copyright (c) 2000-2013 the FFmpeg developers
  built on Feb 22 2013 07:22:31 with gcc 4.4.5
  configuration: --enable-libdc1394 --prefix=/usr --extra-cflags='-Wall -g ' --cc='ccache cc' --enable-shared --enable-libmp3lame --enable-gpl --enable-libvorbis --enable-pthreads --enable-libfaac --enable-libxvid --enable-postproc --enable-x11grab --enable-libgsm --enable-libtheora --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libx264 --enable-libspeex --enable-nonfree --disable-stripping --enable-avfilter --enable-libdirac --disable-decoder=libdirac --enable-libfreetype --enable-libschroedinger --disable-encoder=libschroedinger --enable-version3 --enable-libopenjpeg --enable-libvpx --enable-librtmp --extra-libs=-lgcrypt --disable-altivec --disable-armv5te --disable-armv6 --disable-vis
  libavutil    50\. 43\. 0 / 50\. 43\. 0
  libavcodec   52.123\. 0 / 52.123\. 0
  libavformat  52.111\. 0 / 52.111\. 0
  libavdevice  52\.  5\. 0 / 52\.  5\. 0
  libavfilter   1\. 80\. 0 /  1\. 80\. 0
  libswscale    0\. 14\. 1 /  0\. 14\. 1
  libpostproc  51\.  2\. 0 / 51\.  2\. 0
[libspeex @ 0x93e6c60] Missing Speex header, assuming defaults.
[flv @ 0x93e25e0] Estimating duration from bitrate, this may be inaccurate

Seems stream 0 codec frame rate differs from container frame rate: 60.00 (60/1) -> 30.00 (60/2)
Input #0, flv, from 'sample.flv':
  Metadata:
    duration        : 60
    creationdate    : Wed Apr 10 17:13:05
  Duration: 00:01:00.05, start: 0.000000, bitrate: N/A
    Stream #0.0: Video: h264 (Main), yuv420p, 320x240 [PAR 1:1 DAR 4:3], 30 tbr, 1k tbn, 60 tbc
    Stream #0.1: Audio: libspeex, 16000 Hz, 1 channels, s16
WARNING: The bitrate parameter is set too low. It takes bits/s as argument, not kbits/s
[NULL @ 0x93e3840] Unable to find a suitable output format for 'final_video.m3u8'
final_video.m3u8: Invalid data found when processing input 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T07:25:43.923

您的 FFmpeg 版本太旧——只有最近的 FFmpeg 内置了分段复用器。[有关更多信息，请参阅文档](https://ffmpeg.org/ffmpeg-formats.html#segment_002c-stream_005fsegment_002c-ssegment)。下载[最近的静态构建](http://ffmpeg.org/download.html)，或从源代码编译它。

例如：

```
ffmpeg -i sample.flv -c:v libx264 -b:v 1104K -c:a libfaac -b:a 32K -ar 24000 -f segment -segment_list playlist.m3u8 -segment_list_flags +live -segment_time 10 out%03d.mkv 
```

请注意，使用`-ab 32`意味着 32 位/秒。如果您想要千位，`32K`请改用，您可能希望使用更明确的`-b:a`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-04-27T11:28:45.513

The format .M3U8 is **not** a valid output format.

Only a valid *container* format, such as .mp4 or .mkv, can be used to hold (i.e. "wrap around") the video and audio streams coming from the .flv file. But .m3u8 is a playlist format, which can only validly contain *text*.

You cannot convert from a video format, such as .flv, to a non-video format. It is like trying to wrap a video stream in a .pdf or .doc container: it won't work. So ffmpeg rightly throws a fit if you try to do it.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-03-02T00:26:32.820

我在这里发表了一篇关于 ffmpeg 选项的文章在[这里](https://medium.com/@mikekaufman4/how-to-stream-video-with-go-simplified-eb8244277da5)了解更多关于 ffmpeg 选项[的信息](http://underpop.online.fr/f/ffmpeg/help/options-51.htm.gz)

```
ffmpeg -i demo.flv -b:v 1M -g 60 -hls_time 2 -hls_list_size 0 -hls_segment_size 500000 output.m3u8 
```

## 让我们分解命令（它做了很多！）

我们将视频比特率为 1M`-i`的 demo.flv 文件作为输入，并将图片组设置为 60（默认为 12），2 创建一个播放列表文件，并在 2 的时间片中制作一个或多个片段文件。`-b:v``-g``-hls_time`

然后，设置`hls_list_size`为 0，因此列表文件将包含所有片段并仅返回一个 playlist.m3u8，最后`hls_segment_size`是 62.5kB 最大值（选择片段大小或片段时间的最小值）。

![流式传输视频](https://miro.medium.com/max/1400/1*KhG-fQPCsI7v8k5QnNxrUw.gif)

# c# - 如何获取字符串的前五个字符

> ID：15941985
> 
> 赞同：166
> 
> 时间：2013-04-11T06:22:17.877
> 
> 标签：c#, asp.net, string, char

我已阅读此[问题以获取](https://stackoverflow.com/q/3878820/1716774)字符串的第一个字符。有没有办法从 C# 中的字符串中获取前 n 个字符？

* * *

## 回答 #1

> 赞同：262
> 
> 时间：2013-04-11T06:23:01.617

你可以使用[Enumerable.Take](http://msdn.microsoft.com/en-us/library/bb503062.aspx)像：

```
char[] array = yourStringVariable.Take(5).ToArray(); 
```

或者您可以使用[String.Substring](https://msdn.microsoft.com/en-us/library/system.string.substring(v=vs.110).aspx)。

```
string str = yourStringVariable.Substring(0,5); 
```

请记住，`String.Substring`如果字符串的长度小于所需的字符，这可能会引发异常。

如果您想以字符串形式返回结果，则可以使用：

*   使用字符串构造函数和 LINQ`Take`

    ```
    string firstFivChar = new string(yourStringVariable.Take(5).ToArray()); 
    ```

该方法的优点是不会事先检查长度。

*   另一种方法是使用`String.Substring`错误检查

喜欢：

```
string firstFivCharWithSubString = 
    !String.IsNullOrWhiteSpace(yourStringVariable) && yourStringVariable.Length >= 5
    ? yourStringVariable.Substring(0, 5)
    : yourStringVariable; 
```

* * *

## 回答 #2

> 赞同：55
> 
> 时间：2013-04-11T06:23:40.560

请试试：

```
yourString.Substring(0, 5); 
```

检查[C# Substring](http://www.google.co.in/url?sa=f&rct=j&url=http://www.dotnetperls.com/substring&q=substring%20in%20c#&ei=-1ZmUYySBMPprQfJ24CoBQ&usg=AFQjCNEJzDmg40WvOmut6Ei3Zn6eFBT3YQ) , [String.Substring 方法](http://msdn.microsoft.com/en-us/library/system.string.substring%28v=vs.71%29.aspx)

* * *

## 回答 #3

> 赞同：43
> 
> 时间：2013-04-11T06:23:13.837

您可以使用[Substring(int startIndex, int length)](http://msdn.microsoft.com/en-us/library/aka44szs.aspx)

```
string result = str.Substring(0,5); 
```

> 子字符串从指定的字符位置开始并具有指定的长度。此方法不会修改当前实例的值。相反，它返回一个新字符串，其长度字符从当前字符串中的 startIndex 位置开始， [**MSDN**](http://msdn.microsoft.com/en-us/library/aka44szs.aspx)

如果源字符串少于五个字符怎么办？使用上述方法，您将获得异常。我们可以设置条件来检查字符串中的字符数是否超过 5，然后通过 Substring 获取前五个。注意我已将源字符串分配给 firstFiveChar 变量。如果字符少于 5，则 firstFiveChar 不会更改，因此不需要 else 部分。

```
string firstFiveChar = str;
If(!String.IsNullOrWhiteSpace(yourStringVariable) && yourStringVariable.Length >= 5)
      firstFiveChar = yourStringVariable.Substring(0, 5); 
```

* * *

## 回答 #4

> 赞同：34
> 
> 时间：2015-05-05T22:43:06.163

没有人提到在使用时如何进行适当的检查`Substring()`，所以我想为此做出贡献。

如果您不想使用`Linq`并使用`Substring()`，则必须确保您的字符串大于`Substring()`函数的第二个参数（长度）。

假设您需要前 5 个字符。您应该通过适当的检查来获取它们，如下所示：

```
string title = "love" // 15 characters
var firstFiveChars = title.Length <= 5 ? title : title.Substring(0, 5);

// firstFiveChars: "love" (4 characters) 
```

如果没有这个检查，`Substring()`函数会抛出异常，因为它会遍历不存在的字母。

我想你应该已经明白了...

* * *

## 回答 #5

> 赞同：23
> 
> 时间：2014-09-19T09:05:34.233

问题`.Substring(,)`是，您需要确保给定的字符串至少具有所要求的字符数的长度，否则`ArgumentOutOfRangeException`会抛出一个。

**解决方案 1（使用“子字符串”）：**

```
var firstFive = stringValue != null && stringValue.Length > 5 ? 
                   stringValue.Substring(0, 5) :
                   stringValue; 
```

使用的缺点`.Substring(`是您需要检查给定字符串的长度。

**解决方案 2（使用“Take”）：**

```
var firstFive = stringValue != null ? 
                    string.Join("", stringValue.Take(5)) : 
                    null; 
```

使用**“Take”**将防止您需要检查给定字符串的长度。

* * *

## 回答 #6

> 赞同：20
> 
> 时间：2020-02-04T03:01:31.220

请注意，在 C# 8.0 中有一种新方法可以做到这一点：**范围运算符**

[微软文档](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/proposals/csharp-8.0/ranges)

或者我喜欢称它们为熊猫切片。

老办法：

```
string newString = oldstring.Substring(0, 5); 
```

新的方法：

```
string newString = oldstring[..5]; 
```

乍一看，这似乎是对较短代码的一些可读性的相当糟糕的权衡，但新功能为您提供

1.  切片数组（以及字符串）的标准语法
2.  像这样很酷的东西：

    var slice1 = list[2..^3]; // 列表[Range.Create(2, Index.CreateFromEnd(3))]

    var slice2 = list[..^3]; // 列表[Range.ToEnd(Index.CreateFromEnd(3))]

    var slice3 = list[2..]; // 列表[Range.FromStart(2)]

    var slice4 = list[..]; // 列表[Range.All]

* * *

## 回答 #7

> 赞同：14
> 
> 时间：2018-01-05T05:57:55.050

使用 PadRight 函数来防止字符串太短，抓住你需要的，然后在一个语句中从末尾修剪空格。

```
strSomeString = strSomeString.PadRight(50).Substring(0,50).TrimEnd(); 
```

* * *

## 回答 #8

> 赞同：12
> 
> 时间：2015-11-10T12:35:20.060

我不知道为什么有人提到这个。但这是实现这一目标的最短和最简单的方法。

```
string str = yourString.Remove(n); 
```

`n`- 您需要的字符数

例子

```
var zz = "7814148471";
Console.WriteLine(zz.Remove(5));
//result - 78141 
```

* * *

## 回答 #9

> 赞同：10
> 
> 时间：2017-03-03T19:24:02.123

附加五个空白字符，然后切断前五个并修剪结果。您附加的空格数应与您要剪切的数字相匹配。一定要在前面加上括号，`.Substring(0,X)`否则你什么都不会附加。

```
string str = (yourStringVariable + "    ").Substring(0,5).Trim(); 
```

使用这种技术，您不必担心`ArgumentOutOfRangeException`其他答案中提到的问题。

* * *

## 回答 #10

> 赞同：7
> 
> 时间：2013-04-11T06:23:39.603

```
string str = "GoodMorning"

string strModified = str.Substring(0,5); 
```

* * *

## 回答 #11

> 赞同：6
> 
> 时间：2020-09-28T07:45:02.793

这就是你在 2020 年的做法：

```
var s = "ABCDEFGH";
var first5 = s.AsSpan(0, 5); 
```

[Span<T>](https://docs.microsoft.com/en-us/dotnet/api/system.span-1?view=netcore-3.1)直接指向字符串的内存，避免分配临时字符串。当然，任何要求`string`a 的后续方法都需要转换：

```
Console.WriteLine(first5.ToString()); 
```

不过，如今许多`.NET`API 都允许跨度。如果可能的话，坚持他们！

**注意：**如果目标`.NET Framework`添加对[System.Memory](https://www.nuget.org/packages/System.Memory/)包的引用，但不要期望同样出色的性能。

* * *

## 回答 #12

> 赞同：4
> 
> 时间：2019-11-05T11:25:43.467

在[C# 8.0](https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-8)中，您可以像这样获取字符串的前五个字符

```
string str = data[0..5]; 
```

这是有关[指数和范围的更多信息](https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-8#indices-and-ranges)

* * *

## 回答 #13

> 赞同：3
> 
> 时间：2017-09-21T00:19:44.723

从 C# 中的字符串中获取前 n 个字符

```
String yourstring="Some Text";  
String first_n_Number_of_Characters=yourstring.Substring(0,n); 
```

* * *

## 回答 #14

> 赞同：2
> 
> 时间：2015-02-04T13:57:24.537

下面是一个扩展方法，它检查字符串是否大于所需的字符串，并将字符串缩短为定义的最大字符数并附加“...”。

```
public static class StringExtensions
{
    public static string Ellipsis(this string s, int charsToDisplay)
    {
        if (!string.IsNullOrWhiteSpace(s))
            return s.Length <= charsToDisplay ? s : new string(s.Take(charsToDisplay).ToArray()) + "...";
        return String.Empty;
    }
} 
```

* * *

## 回答 #15

> 赞同：2
> 
> 时间：2019-07-31T10:29:31.050

请在 str 小于 5 时尝试此代码。

```
string strModified = str.Substring(0,str.Length>5?5:str.Length); 
```

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2017-06-01T19:37:41.963

我用：

```
var firstFive = stringValue?.Substring(0, stringValue.Length >= 5 ? 5 : customAlias.Length); 
```

或者如果您也想检查空白（而不仅仅是空）：

```
var firstFive = !String.IsNullOrWhiteSpace(stringValue) && stringValue.Length >= 5 ? stringValue.Substring(0, 5) : stringValue 
```

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2017-07-05T07:41:48.670

或者您可以使用[String.ToCharArray()](https://msdn.microsoft.com/en-us/library/2c7h58e5(v=vs.110).aspx)。
它接受`int startindex`and`int length`作为参数并返回一个`char[]`

```
new string(stringValue.ToCharArray(0,5)) 
```

您仍然需要确保字符串具有适当的长度，否则它会抛出一个`ArgumentOutOfRangeException`

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2019-05-10T05:52:54.907

如果我们只想要任何字段的前 5 个字符，那么这可以通过 Left Attribute 来实现

```
Vessel = f.Vessel !=null ? f.Vessel.Left(5) : "" 
```

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2022-01-09T14:15:29.733

这就是我正在使用的，字符串少于所需字符没有问题

```
private string TakeFirstCharacters(string input, int characterAmount)
{
    return input?.Substring(0, Math.Min(input.Length, characterAmount));
} 
```

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2022-02-03T11:39:37.163

在 C# 8 中，您可以使用[范围运算符](https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/tutorials/ranges-indexes)。如果您的原始字符串短于所需长度，为了避免异常，您可以使用`Math.Min`：

```
string newString = oldstring[..Math.Min(oldstring.Length, 5)]; 
```

当然，如果知道原来的字符串比较长，可以优化：

```
string newString = oldstring[..5]; 
```

* * *

## 回答 #21

> 赞同：-3
> 
> 时间：2016-11-09T19:10:36.037

我已经尝试了上述答案，我认为最好的是这个

```
@item.First_Name.Substring(0,1) 
```

在这个我可以得到字符串的第一个字母

* * *

## 回答 #22

> 赞同：-3
> 
> 时间：2016-09-02T08:49:07.287

试试下面的代码

```
 string Name = "Abhishek";
 string firstfour = Name.Substring(0, 4);
 Response.Write(firstfour); 
```

# android - 为 ICS 创建 android 框架的 jar(library)

> ID：15941988
> 
> 赞同：0
> 
> 时间：2013-04-11T06:22:23.590
> 
> 标签：android, frameworks

我想为冰淇淋三明治创建 android 框架库的 jar（库）文件。可能吗？请给我任何与之相关的想法。

# codeigniter - 带有数据映射器 ORM 的 CodeIgniter

> ID：15941992
> 
> 赞同：0
> 
> 时间：2013-04-11T06:22:28.977
> 
> 标签：codeigniter, codeigniter-datamapper

我正在使用`get()`数据映射器中的方法从数据库中选择列。我将这个对象传递给`json_encode();`当我这样做时，我得到了这个错误

```
json_encode()  type is unsupported, encoded as null 
```

**更新三**

```
["{\"id\":1,\"name\":\"JOHN\",\"city\":\"null\"}"
,"{\"id\":2,\"name\":\"MICHEAL\,\"city\":\"null\"}"] 
```

这是我的回应，我没有选择城市但仍然出现城市。如何以正确的格式获取 json

SyntaxError：JSON.parse：JSON 数据后出现意外的非空白字符

```
[Break On This Error]   

var jsonData = JSON.parse(data); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:55:30.053

将 Datamapper 对象编码为 json 对象需要来自扩展的函数。您可以在此处找到导入扩展的方法：http: [//datamapper.wanwizard.eu/pages/extensions.html](http://datamapper.wanwizard.eu/pages/extensions.html) 这是一种方法：

```
class Test extends DataMapper {

    // Include the json extension
    var $extensions = array('json');
.......

  $test= new Test();                
  $test->where('id', $this->input->post('id'));
  $test->select('id,name');
  $test->get();
  $test->set_json_content_type();
  echo $test->all_to_json(); 
```

“城市”列存在的事实是正常的。来自 DataMapper 用户指南：

> 该对象填充了其对应表中的所有对象，但仅填充了标题和描述字段

要解码您的 JSON，您需要使用此方法（如果您还没有导入扩展名，请不要忘记导入）

```
$n = new Test();
$n->from_json([put your JSON string here]); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T07:09:05.167

我没有将 Datamapper 用于 CI，但我很确定您应该执行以下操作：

```
$test= new Test();                
$test->select('id,tag_name');
$test->where('id', $this->input->post('id'));
$test->get();
json_encode($test); 
```

注意：调用 ->get() 应该是最后一次调用，在您使用 $test 变量对其进行 JSON 编码之前。

# android - 更改按钮的文本/图片

> ID：15941993
> 
> 赞同：0
> 
> 时间：2013-04-11T06:22:30.493
> 
> 标签：android

对于自定义按钮，使用什么代码来更改该按钮的文本/图片。例如，一旦图片变为一个事物，我单击按钮，然后再次单击它，图片将变为另一个事物。我怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T06:29:36.270

您可以使用选择器 xml 更改按钮的背景，如下所示：

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
<item android:drawable="@drawable/bg_active"
      android:state_pressed="true" />
<item android:drawable="@drawable/bg_pressed"
      android:state_focused="true" />
<item android:drawable="@drawable/bg_focused" />
</selector> 
```

您可以将它们放在项目的 Drawable 文件夹中。

您可以通过在按钮的 onClickListener 中设置它来更改单击事件上按钮的文本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T06:40:40.810

尝试这个：

```
int i=0;
btnRes.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub
if(i%2==0){
    btnRes.setBackgroundResource(R.drawable.mypic);
i++;
}
else
{
btnRes.setBackgroundResource(R.drawable.yourpic);
i++;
        }
    }); 
```

# python - 将 json 转储到 yaml

> ID：15941996
> 
> 赞同：24
> 
> 时间：2013-04-11T06:22:36.473
> 
> 标签：python, json, encoding, yaml

我有一个像这样的`.json`文件（命名为`meta.json`）：

```
{
    "main": {
        "title": "今日は雨が降って",
        "description": "今日は雨が降って"
    }
} 
```

我想将它转换为一个`.yaml` 文件（命名它`meta.yaml`），如：

```
title: "今日は雨が降って"
description: "今日は雨が降って" 
```

我所做的是：

```
import simplejson as json
import pyyaml

f = open('meta.json', 'r')
jsonData = json.load(f)
f.close()

ff = open('meta.yaml', 'w+')
yamlData = {'title':'', 'description':''}
yamlData['title'] = jsonData['main']['title']
yamlData['description'] = jsonData['main']['description']
yaml.dump(yamlData, ff)
# So you can  see that what I need is the value of meta.json 
```

但可悲的是，我得到的是以下内容：

```
{description: "\u4ECA\u65E5\u306F\u96E8\u304C\u964D\u3063\u3066", title: "\u4ECA\u65E5\
\u306F\u96E8\u304C\u964D\u3063"} 
```

为什么？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-04-11T06:48:15.783

pyyaml.dump() 具有“allow_unicode”选项，默认为 None，输出中的所有非 ASCII 字符都被转义。如果 allow_unicode=True 写入原始 unicode 字符串。

```
yaml.dump(data, ff, allow_unicode=True) 
```

奖金

```
json.dump(data, outfile, ensure_ascii=False) 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2015-02-13T18:12:51.773

这对我有用：

```
#!/usr/bin/env python

import sys
import json
import yaml

print(yaml.dump(json.load(open(sys.argv[1])), default_flow_style=False)) 
```

所以我们正在做的是：

1.  通过 json.loads 加载 json 文件
2.  json 以 unicode 格式加载 - 通过 json.dump 将其转换为字符串
3.  通过 yaml.load 加载 yaml
4.  通过 yaml.dump 在文件中转储相同的内容 - default_flow_style - True 内联显示数据，False 不内联 - 因此您已准备好可转储数据。

根据[如何从 JSON 中获取字符串对象而不是 Unicode 来处理 unicode？](https://stackoverflow.com/questions/956867/how-to-get-string-objects-instead-of-unicode-ones-from-json-in-python)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-11T06:48:36.193

```
In [1]: import json, yaml

In [2]: with open('test.json') as js:
   ...:     data = json.load(js)[u'main']
   ...:     

In [3]: with open('test.yaml', 'w') as yml:
   ...:     yaml.dump(data, yml, allow_unicode=True)
   ...:     

In [4]: ! cat test.yaml
{!!python/unicode 'description': 今日は雨が降って, !!python/unicode 'title': 今日は雨が降って}

In [5]: with open('test.yaml', 'w') as yml:
   ...:     yaml.safe_dump(data, yml, allow_unicode=True)
   ...:     

In [6]: ! cat test.yaml
{description: 今日は雨が降って, title: 今日は雨が降って} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-11T06:32:36.970

这是对的。"\u...." 字符串是你的日语的 unicode 表示？细绳。当您解码并使用正确的编码时，无论您使用它，它都应该显示良好。例如网页。

尽管字符串表示形式不同，但请查看数据的相等性：

```
>>> import json
>>> j = '{    "main": {        "title": "今日は雨が降って",        "description": "今日は雨が降って"    }}'
>>> s = json.loads(j)
>>> t = json.dumps(s)
>>> j
'{    "main": {        "title": "\xe4\xbb\x8a\xe6\x97\xa5\xe3\x81\xaf\xe9\x9b\xa8\xe3\x81\x8c\xe9\x99\x8d\xe3\x81\xa3\xe3\x81\xa6",        "description": "\xe4\xbb\x8a\xe6\x97\xa5\xe3\x81\xaf\xe9\x9b\xa8\xe3\x81\x8c\xe9\x99\x8d\xe3\x81\xa3\xe3\x81\xa6"    }}'
>>> t
'{"main": {"description": "\\u4eca\\u65e5\\u306f\\u96e8\\u304c\\u964d\\u3063\\u3066", "title": "\\u4eca\\u65e5\\u306f\\u96e8\\u304c\\u964d\\u3063\\u3066"}}'
>>> s == json.loads(t)
True 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2020-07-14T21:05:51.723

我做的很简单：

```
#!/usr/bin/env python
import sys
import json
import yaml

yaml.safe_dump(json.load(sys.stdin), sys.stdout, default_flow_style=False) 
```

# android - 在editText中设置一些空间

> ID：15941999
> 
> 赞同：3
> 
> 时间：2013-04-11T06:22:49.477
> 
> 标签：android, android-edittext

我可以在“EditText”的开头和结尾设置一些空格吗？如果可能，那怎么做？实际上，我已经对我的“EditText”视图进行了一些自定义，现在它显示如下，如下图所示：

![模拟器截图](https://i.stack.imgur.com/SoUOZ.png)

如您所见，在我的“描述”字段中，“描述”一词从一开始就开始了，这看起来并不吸引人，我想在 EditText 文本的开头和结尾保留一些空间。而且我想在运行时设置这个，因为这个editText视图是在从微调器中选择之后在运行时设置的。我能做到这一点吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-11T06:25:45.080

使用`padding left`喜欢

`editText.setPadding (int left, int top, int right, int bottom);`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T06:28:43.120

试试这个代码

```
 android:paddingLeft="5dp" 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-03-25T13:29:00.043

试试这个代码......

```
 android:includeFontPadding="true"
        android:paddingLeft="5dp" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-11T06:36:35.750

在你的java代码中试试这个

```
 editText.setPadding( 5, 0,0,0); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-10-03T06:56:25.257

您可以通过 XML 以及在编码中执行此操作。如果你想在 XML 中做，你必须对所需的编辑文本进行填充。

```
<EditText
android:id="@+id/bt_description"
android:layout_height="match_parent"
android:layout_width="match_parent"
android:paddingLeft="10dp" /> 
```

如果不是，您可以通过上述代码执行此操作。

```
email.setPadding(int left,int top,int right,int bottom); 
```