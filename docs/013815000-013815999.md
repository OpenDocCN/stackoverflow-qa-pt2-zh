# StackOverflow 问答 13815000-13815999

# wordpress - 即使元值在WordPress中为空，如何检查自定义字段是否存在

> ID：13815002
> 
> 赞同：3
> 
> 时间：2012-12-11T06:45:31.180
> 
> 标签：wordpress, custom-fields

我有一个很好的工作条件来检查自定义字段是否存在，这是行：

```
if (((get_post_meta($post->ID, $my_metakey, TRUE))=='') 
```

但是，正如您所注意到的，只有当元键的值设置为空时，它才会有效地检查元键。

我想知道如何检查数据库中是否已经存在自定义字段名称/元键，即使我将元值默认设置为空或空白。

是否有使用 WordPress 执行此操作的有效方法？感谢您的任何提示。

更新：这个也行不通：

```
<?php if (strlen(get_post_meta($post->ID, $metakey, true)) > 0) : ?> 
```

因为它类似于检查自定义字段是否为空。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-11T08:15:23.923

使用 WP 3.3.0 有一个更好的方法：使用缓存并应用过滤器

```
 metadata_exists( 'post', $post->ID, $my_metakey ) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-11T07:59:10.327

自定义字段值存储在`wp_postmeta`WordPress 数据库表中。所以就用这个：

```
$test = $wpdb->get_results( "SELECT meta_key FROM wp_postmeta where meta_key='name_of_custom_field'" );
if (($wpdb->num_rows)>0) {
    // custom field exists
}
else {
    // field does not exist 
} 
```

# api - 使用 google api 创建电子邮件客户端

> ID：13815004
> 
> 赞同：2
> 
> 时间：2012-12-11T06:45:39.933
> 
> 标签：api, gmail, email-client

将我视为 Web 开发的完整新手，请回答我的问题。我的老板最近给了我一个项目。它是制作一个基于网络的电子邮件客户端来从人们那里获取简历。这应该有一个 GUI，可以接收电子邮件、阅读电子邮件、发送电子邮件、从我们拥有的 gmail 帐户访问文件夹。我到处搜索，发现谷歌API 是这样做的方法。它正确吗？如果是这样，我该怎么做？我没有任何关于如何使用 API 的先验知识。但我愿意学习。请帮助我，谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T08:57:53.630

我通过使用带有 imap 的 php 使我的问题成为可能。访问基于文件夹的电子邮件并获取必要的数据，例如电子邮件地址、发件人姓名、电子邮件 ID 等，使用以 imap_funcName 开头的 php 命令非常简单......希望这会有所帮助某人..:)

# freebase - 有什么方法可以找到 freebase 数据的增量更新？

> ID：13815005
> 
> 赞同：1
> 
> 时间：2012-12-11T06:45:42.230
> 
> 标签：freebase

我目前正在为我的应用程序使用 freebase 数据...只想要电影、电视等域中的一些信息。发现将来不支持 tsv 转储并且不完整。quad 转储包含所有需要的信息。问题是更新数据库，应该再次下载整个转储并与已经下载和处理的数据进行交叉检查，然后进行更新。有没有其他方法可以更新数据或获取增量更新？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T20:04:42.273

您可以在 API 中查询自上次更新以来在您感兴趣的域中发生的更改，但取决于更改的数量，您可能会遇到配额问题。

没有产生增量转储，因此您可以使用两个完整的转储自己生成差异，但这样做很简单，特别是因为新的 RDF 转储似乎是按主题 MID 排序的，这与四元转储不同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-12T23:05:40.450

正如 Tom 指出的那样，新的 RDF 转储按主题排序，这使您可以通过遍历文件来有效地区分整个数据集。基本伪代码如下：

*   跳过两个文件开头的前缀标题
*   虽然两个文件中都剩下几行：
    *   从每个文件中读取一行
    *   如果旧文件中的主题 ID 大于新文件中的主题 ID：
        *   从具有相同主题 ID 的新文件中读取所有后续行
        *   将此主题添加到“添加的主题”列表中
        *   将此主题的所有行添加到“添加的事实”列表中
    *   否则，如果旧文件中的主题 ID 小于新文件中的主题 ID：
        *   从具有相同主题 ID 的旧文件中读取所有后续行
        *   将此主题添加到“已删除主题”列表中
        *   将此主题的所有行添加到“已删除事实”列表中
    *   否则，如果两个文件中的主题 ID 匹配：
        *   从具有相同主题 ID 的两个文件中读取所有后续行
        *   区分行以找出已添加/删除的行
        *   将所有添加的行添加到“添加的事实”列表中
        *   将所有已删除的行添加到“已删除的事实”列表中
*   通过按以下顺序合并所有更改列表来输出您的补丁：
    1.  删除的事实
    2.  删除的主题
    3.  添加的主题
    4.  补充事实

该算法以线性时间运行，内存使用量很少，因此您可以轻松地在本地计算机上处​​理数 GB 的文件。

获得 RDF 转储的差异后，您需要编写一些代码将补丁应用到现有数据库。由于补丁的排序方式，在尝试添加或删除事实之前，您始终可以依赖数据库中存在的主题。

# java - 更改时重新加载属性文件

> ID：13815008
> 
> 赞同：3
> 
> 时间：2012-12-11T06:45:58.170
> 
> 标签：java, spring, file, properties

我将属性文件加载到一个类，然后在整个应用程序中使用该类来获取它们。

```
public class PropertiesUtil extends PropertyPlaceholderConfigurer {

    private static Map<String, String> properties = new HashMap<String, String>();

    @Override
    protected void loadProperties(final Properties props) throws IOException {
        super.loadProperties(props);
        for (final Object key : props.keySet()) {
            properties.put((String) key, props.getProperty((String) key));
        }
    }

    public String getProperty(final String name) {
        return properties.get(name);
    }

} 
```

并在 ApplicationContext.xml

```
 <bean id="propertiesUtil"
        class="com.test.PropertiesUtil">
        <property name="locations">
            <list>
                <value>classpath:test/test.properties</value>
            </list>
        </property>
    </bean> 
```

现在我想确保属性文件在更改时重新加载。

我有一个与 tomcat 服务器一起初始化的侦听器类。我已经为文件观察器编写了以下逻辑

```
TimerTask task = new FileWatcher(new File("c:\\temp-reb\\config\\config.properties")) {
    /*
     * (non-Javadoc)
     * @see com.belgacom.rosy.rebecca.utils.FileWatcher#onChange(java.io.File)
     */
    @Override
    protected void onChange(File file) {
        loadServiceProperties(file);
        loadMetadata();
    }
};

Timer timer = new Timer();
timer.schedule(task, new Date(), Long.valueOf(properties.getProperty("properties.file.timer.schedule"))); // repeat the check every second 
```

问题是

> > 1.  FileWatcher 需要运行路径，我不想硬编码
> > 2.  我如何告诉 spring 调用属性以显式重新加载！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T06:48:59.833

> 1.  FileWatcher 需要运行路径，我不想硬编码

只需提供相对路径，如同一项目文件夹中的资源目录，您可以使用该`getResource()`方法获取。您还可以使用[系统属性](http://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html)访问就像`user.dir`使用工作目录一样。

```
File f = new File(System.getProperty("user.dir")+ "/test.properties");
System.out.println(f.getAbsolutePath()); 
```

> 2.我如何告诉spring调用属性来显式地重新加载！

你目前的做法对我来说似乎没问题。可能还有其他方法，但我认为上述过程没有任何缺陷。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:19:05.247

这是一条蜿蜒曲折的道路，通往真正黑暗的地方。Spring 根据定义实例化并维护对单例的引用。因此，如果客户端注入了依赖项并保留它，并且应用程序上下文开始提供新的 bean，那么您将处于一个非常丑陋的状态。如果您不将属性用作 bean 属性，则应该没问题，但是混合这并不是真正的方法。

如果有的话，我会尝试限制受重新加载属性影响的 bean 数量并将它们放在特殊范围内。这样，每当您的范围发生变化时，您都会获得一个具有最新配置的新 bean。至少您将拥有已定义的属性生命周期，并且确切地知道您要面对什么。

# android - 首次创建视图寻呼机时显示指定页面

> ID：13815010
> 
> 赞同：2
> 
> 时间：2012-12-11T06:46:04.443
> 
> 标签：android, android-viewpager, android-cursorloader, android-pageradapter

我有一个包含`ViewPager`. 这`ViewPager`由`PagerAdapter`使用 a 的 a支持`Cursor`。游标由 管理`LoaderCallbacks`。我在这里使用 v4 支持库。

我想要的是创建片段并让视图寻呼机显示指定的页面，而不是从第 0 页开始。

我知道`ViewPager`有一个`setCurrentItem()`方法，但是创建时数据可能尚未加载`ViewPager`。我需要的是监听数据集更改的适配器，如果这是第一次这样的更改，然后调用`setCurrentItem()`.`ViewPager`

但是`PagerAdapter`该类不导出该`registerDataSetObserver()`方法；它拥有`package`而不是`public`访问（至少在 v4 支持库中）。

我所做的，对我来说似乎很像一个黑客，如下：

```
class ItemPagerFragment extends SherlockFragment implements LoaderCallbacks<Cursor> {

    private CursorPagerAdapter mAdapter;
    private ViewPager mPager;
    private int mInitialPageToShow;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        mAdapter = new CursorPagerAdapter() {
            @Override public void notifyDataSetChanged() {
                super.notifyDataSetChanged();
                setInitialPageIfRequired();
            }
        }; 
        getActivity().getSupportLoaderManager().initLoader(LOADER_ID, null, this);
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup group, Bundle saved) {
        View view = inflater.inflate(R.layout.items_pager, group, false);
        mPager = (ViewPager) view.findViewById(R.id.pager);
        mPager.setAdapter(mAdapter);
        setInitialPageIfRequired();
        return view;
    }

    private boolean initialPageSet = false;

    private synchronized void setInitialPageIfRequired() {
        // Set the current page of the pager if (a) this is the 
        // first time attempting to set the page and (b) the 
        // pager exists and (c) the adapter has data.
        if (!initialPageSet && mPager != null && mAdapter.getCount() > 0) {
            mPager.setCurrentItem(mInitialPageToShow);
            initialPageSet = true;
        }
    }

} 
```

在将数据加载到适配器（在`onCreate()`方法中）和`ViewPager`在`onCreateView()`方法中创建之间存在竞争条件。因此，可以在 (a) 寻呼机存在但第一次加载数据或 (b) 在创建寻呼机之前加载数据时设置当前页面。

我已经尝试处理上述两种情况，但我认为必须有一种替代方法，使用观察者更强大（并且希望更简单）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-06-11T23:15:40.960

等到`initLoader`寻呼机存在后，检查布尔标志并只调用`setCurrentItem`第一次：`onLoadFinished`

```
class ItemPagerFragment extends Fragment implements LoaderManager.LoaderCallbacks<Cursor> {

    private CursorPagerAdapter mAdapter;
    private ViewPager mPager;
    private int mInitialPageToShow;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup group, Bundle saved) {
        View view = inflater.inflate(R.layout.items_pager, group, false);
        mPager = (ViewPager) view.findViewById(R.id.pager);
        mAdapter = new CursorPagerAdapter(getFragmentManager());
        mPager.setAdapter(mAdapter);
        return view;
    }

    @Override
    public void onViewCreated(View view, Bundle saved) {
        super.onViewCreated(view, saved);
        ...
        getLoaderManager().initLoader(LOADER_ID, null, this);
    }

    @Override
    public void onLoadFinished(Loader<Cursor> cursorLoader, Cursor cursor) {
        mAdapter.swapCursor(cursor);
        setInitialPageIfRequired();
    }

    private boolean initialPageSet = false;

    private synchronized void setInitialPageIfRequired() {
        // Set the current page of the pager if (a) this is the 
        // first time attempting to set the page and (b) the 
        // pager exists and (c) the adapter has data.
        if (!initialPageSet && mPager != null && mAdapter.getCount() > 0) {
            mPager.setCurrentItem(mInitialPageToShow);
            initialPageSet = true;
        }
    }
} 
```

*注意：此代码段假定 v13 支持库，但它应该与 v4 相同。*

# android - Android模拟器问题：分配内存失败：8？

> ID：13815013
> 
> 赞同：1
> 
> 时间：2012-12-11T06:46:16.687
> 
> 标签：android, android-emulator, screen-resolution

我正在尝试创建具有全高清分辨率（1980 x 1080）的模拟器，但在启动时出现以下错误：

AVD 'emu' 的启动模拟器无法分配内存：8 此应用程序已请求运行时以不寻常的方式终止它。请联系应用程序的支持团队以获取更多信息。

任何人都知道为什么会发生此错误，以及如何创建全高清分辨率模拟器？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-11T06:50:31.217

以下解决方案对我有用。在以下配置文件中：

```
C:\Users\<user>\.android\avd\<avd-profile-name>.avd\config.ini 
```

代替

```
hw.ramSize=1024 
```

经过

```
hw.ramSize=1024MB 
```

如果上面不起作用，则在下面设置。

```
hw.lcd.density=160
sdcard.size=300M
skin.path=1980x1080
skin.name=1980x1080
hw.cpu.arch=arm
abi.type=armeabi-v7a
hw.cpu.model=cortex-a8
vm.heapSize=48
hw.ramSize=1024MB
image.sysdir.1=system-images\android-16\armeabi-v7a\ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T06:56:00.660

这对我有用，可以创建 avd

```
android create avd  -n test -t 1 -b armeabi-v7a -s 1980x1080 
```

然后开始

```
emulator -avd test -initdata userdata.img -ramdisk ramdisk.img -system system.img -sdcard songs_for_music_app/Music_card.img  -dpi-device 240 
```

你可以在这里找到所有图片

```
android-sdk/system-images/android-15/armeabi-v7a 
```

和`emularor`和`android`命令可以在`android-sdk/platfor-tools`和中找到`android-sdk/tools`

# javascript - 如何在 Windows8 Metro 应用程序中将 html 数据与 javascript 一起加载到 div 标记中

> ID：13815014
> 
> 赞同：1
> 
> 时间：2012-12-11T06:46:15.720
> 
> 标签：javascript, html

嗨，我有一个小问题，我需要在不使用 iframe 的情况下将另一个 html 数据和 javascript 一起加载到另一个 div 中。实际上，我尝试了 iframe，但其他一些问题（如返回）是不可能的，并且数据正在刷新，所以我喜欢尝试使用 div 标签来调用 html 和 javascript 文件。谁能告诉我如何解决这个问题，在此先感谢。

# gsm - 如果 GSM 调制解调器上没有网络会发生什么

> ID：13815016
> 
> 赞同：0
> 
> 时间：2012-12-11T06:46:30.027
> 
> 标签：gsm

我必须每分钟发送一条消息，我使用的是telit GE864-GPS调制解调器，我的调制解调器将在偏远的地方使用，所以我的设备会将数据写入GSM调制解调器，如果消息成功提交到目的地，我将得到一个响应为 +CMGS:，如果由于没有可用的网络而没有将 msg 提交到目的地会发生什么。“调制解调器将重试发送该消息”，如何找到调制解调器可用的网络。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T09:52:52.183

AT+CREG 的答案？将告诉您设备当前是否已在网络上注册。如果它在网络上注册，您可以发送 SMS（假设您的合同允许）。AT+CREG 记录在 3GPP TS 27.007 中，可从 www.3gpp.org 的规范页面获得。

快速浏览 3GPP 测试规范表明，如果没有网络，则在尝试发送移动发起的 SMS 时没有测试 MS（GSM 调制解调器）的行为。此处描述了测试：3GPP TS 34.123 第 1 部分，第 16 节。

因此，最快的做法是 (a) 询问制造商或 (b) 自己测试设备的行为。去没有网络的地方，尝试发送短信，等待，回到有网络的地方，看看短信是否被发送，设备在合理的超时后返回什么等。

一旦你知道设备的行为，你就可以设计你的代码，基于在你发送 SMS 之前检查是否有网络，等待 +CMGS 并且可能在你的代码中超时。

# javascript - Javascript中的链接可视化库

> ID：13815022
> 
> 赞同：2
> 
> 时间：2012-12-11T06:46:52.057
> 
> 标签：javascript, jquery-ui, visualization, graph-visualization

我想在我的页面中将链接显示为由节点组成的网络图。所以请推荐一些可以与 javascript 或 jQuery 一起使用的可视化库或插件。我想显示特定页面上的链接在哪里。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T20:05:13.160

[mxGraph](https://github.com/jgraph/mxgraph)是一个用 JavaScript 编写的开放式图表库。我们把它卖了 10 年，然后才开源。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-03T18:11:01.233

您也可以尝试[sigma.js](http://sigmajs.org/)。这就是我们现在正在使用的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T08:02:40.687

有许多 JavaScript 库，您应该可以重用它们。一个流行的开源解决方案是[d3](http://d3js.org)。它是一个通用的可视化库，对图形结构的可视化有很好的支持和示例。

在商业场景中，您可能想看看[yFiles](http://www.yworks.com/en/products_yfileshtml_about.html)，后者的优点是您可以从大量的自动布局算法中进行选择，这些算法可以自动排列图表中的元素和链接路由，这可能是必要的，如果您需要显示大量节点和链接。

一个*过时*的（因为它已经关闭并且不包含更新的解决方案）库列表也在这里： [JavaScript Chart Library](https://stackoverflow.com/questions/119969/javascript-chart-library)

# jquery - 选项卡中的 Bootstrap scrollspy 无法正常工作

> ID：13815024
> 
> 赞同：2
> 
> 时间：2012-12-11T06:47:05.750
> 
> 标签：jquery, twitter-bootstrap

[http://htmlcode.allalla.com/](http://htmlcode.allalla.com/)

这是我的代码启动并运行。

我正在为我的应用程序使用引导程序。我在标签中使用 scrollspy。不知何故，我设法运行它，但它还不能在所有浏览器中正常工作。在 Mozilla 中它工作正常，但在页面加载后选项卡的焦点转到 tab2 上。在 IE9 中发生同样的事情，现在在 chrome 中可以正常工作。谁能告诉这里有什么问题？

谢谢。

# php - 需要创建一个循环

> ID：13815025
> 
> 赞同：0
> 
> 时间：2012-12-11T06:47:05.347
> 
> 标签：php, mysql, sql

我需要创建一个循环来一遍又一遍地重做我的查询，直到它在数据库中发布一些内容。

```
if ($query_run = mysql_query($query)) {
    while ($row = mysql_fetch_assoc($query_run)) {
        $person = $row['firstname'];
        $taken = $row['taken'];

        if (isset($_COOKIE[$firstname])) {
            echo "You've already drawn " . $_COOKIE[$firstname] . "!";
        } else {
            if (($person == ucfirst($firstname)) || ($taken == 1)) {
                echo 'Redraw';
            } else {
                echo ucfirst($firstname) . " drew $person!";
                setcookie($firstname, $person, time() + 30);
            }
        }
    }
} else {
    echo 'Query Failed';
} 
```

而不是 echo 'Redraw'; 我需要它再次自动运行循环，因为一旦他们单击按钮，该按钮就会被禁用。

我正在考虑做一会儿，但我无法让它正常工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:08:27.863

可以这样完成：

```
while (true) {
    if ($query_run = mysql_query($query)) {
        while ($row = mysql_fetch_assoc($query_run)) {
            $person = $row['firstname'];
            $taken = $row['taken'];

            if (isset($_COOKIE[$firstname])) {
                echo "You've already drawn " . $_COOKIE[$firstname] . "!";
                break;
            } else {
                if (($person == ucfirst($firstname)) || ($taken == 1)) {
                    // loop will continue
                } else {
                    echo ucfirst($firstname) . " drew $person!";
                    setcookie($firstname, $person, time() + 30);
                    break;
                }
            }
        }
    } else {
        echo 'Query Failed';
        break;
    }

} 
```

但我不确定它应该做什么。很可能您的意思有所不同。

# java - 我试图以编程方式将 WebView 插入到我的代码中

> ID：13815027
> 
> 赞同：0
> 
> 时间：2012-12-11T06:47:18.657
> 
> 标签：java, android, user-interface, view

我有一个附加了点击侦听器的表面视图。

当我单击它时，它会将其缩小为宽度的一半和高度的一半......并通过以下方式将其放置在右下角：

```
RelativeLayout.LayoutParams rlp = new RelativeLayout.LayoutParams(  
    getWindowManager().getDefaultDisplay().getWidth()/2,
    getWindowManager().getDefaultDisplay().getHeight()/2    
);
rlp.setMargins(
  getWindowManager().getDefaultDisplay().getWidth()/2,    
  getWindowManager().getDefaultDisplay().getHeight()/2, 
  0, 
  0); 
```

它按预期工作，但我想在它后面动态放置一个 webView。

我试过了：

```
WebView wv = makeWebView();
//makeWebView(); is a method of my mainActivity, which simple does.
private Webview makeWebView(){ return new WebView(this); } 
```

我似乎无法让它落后于其他一切。难道我做错了什么？

我的 XML：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:id="@+id/RR1"
android:layout_width="match_parent"
android:layout_height="match_parent"
tools:context=".MainActivity" >

<LinearLayout
    android:id="@+id/LL1"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <SurfaceView
        android:id="@+id/surfaceView1"
        android:layout_width="match_parent"
        android:layout_height="match_parent" />

</LinearLayout>

</RelativeLayout> 
```

我的主要活动：

```
package com.example.testfortim;

import android.os.Bundle;
import android.app.Activity;
import android.graphics.Color;
import android.view.Gravity;
import android.view.Menu;
import android.view.SurfaceView;
import android.view.View;
import android.view.View.OnClickListener;
import android.webkit.WebView;
import android.widget.LinearLayout;
import android.widget.RelativeLayout;

public class MainActivity extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    //SurfaceView sv = new SurfaceView();
    SurfaceView sv = (SurfaceView)findViewById(R.id.surfaceView1);
    sv.setOnClickListener(new OnClickListener(){

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            LinearLayout ll = (LinearLayout)findViewById(R.id.LL1);
            //LinearLayout.LayoutParams llp = (LinearLayout.LayoutParams)ll.getLayoutParams();
            //RelativeLayout.LayoutParams rlp = new RelativeLayout.LayoutParams(ll.getLayoutParams().width/2,ll.getLayoutParams().height/2);//(RelativeLayout.LayoutParams)ll.getLayoutParams();
            RelativeLayout.LayoutParams rlp = new RelativeLayout.LayoutParams(
                    getWindowManager().getDefaultDisplay().getWidth()/2, 
                    getWindowManager().getDefaultDisplay().getHeight()/2
                    );
            rlp.setMargins(getWindowManager().getDefaultDisplay().getWidth()/2, getWindowManager().getDefaultDisplay().getHeight()/2, 0, 0);
            ll.setLayoutParams(rlp);

            WebView wv = makeWebView();
            //wv.setBackgroundColor(0);
            //wv.setBackgroundResource(R.color.Blue);
            //wv.setBackgroundResource(Color.BLUE);
            wv.loadData("<html><body>TEST</body></html>", "text/html", "utf-8");
            RelativeLayout rl = (RelativeLayout)findViewById(R.id.RR1);
            //rl.addView(wv);

            //ll.addView(wv);

        }

    });

}

protected WebView makeWebView() {
    return new WebView(this);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

} 
```

我调整了线性布局的大小并移动了它，所以 Webview 需要放置在 RR1 中的某个地方，从我收集的内容来看。我正在查看各种文档，它要么不是我所寻找的，要么可能是随机的，我只是没有掌握它。

您对如何实现这一点有任何想法吗？

作为旁注：我不知道为什么存在 onCreateOptionMenu 方法。我不打算使用它，并且最终会删除它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-11T07:09:43.203

试试`rl.addView(wv, 0);` 就行了：）

# c# - 为什么使用 volatile 会产生不同的结果？

> ID：13815028
> 
> 赞同：6
> 
> 时间：2012-12-11T06:47:18.687
> 
> 标签：c#

```
 private const int Total = 500000;
    private static volatile int _count = 0;

    private static void Main()
    {
        Task task = Task.Factory.StartNew(Decrement);
        for (int i = 0; i < Total; i++)
        {
            _count++;
        }

        task.Wait();
        Console.WriteLine(_count);

        Console.ReadLine();
    }

    private static void Decrement()
    {
        for (int i = 0; i < Total; i++)
        {
            _count--;
        }
    } 
```

有时结果为 0，有时结果为 -xxxxxx。我不知道为什么。谁能解释一下并告诉我正确的用法。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-11T06:52:51.757

`volatile`保证不重新排序操作并禁用缓存优化，但不保证线程安全 - 因此您可以获得从 0 到的任何结果`-Total`（如果每对`--`和`++`正确混合）。我在回答[为什么以下 C# 多线程代码不输出零虽然它在调试器中输出？](https://stackoverflow.com/questions/5412673/why-the-following-c-sharp-multi-threaded-code-does-not-output-zero-though-it-doe/5412742#5412742).

`volatile`当您希望其他人修改值时很有用，因此您的代码始终读取合理的最新值，这也将是一致的（即，对于 ++，您将不会`int`由 0xffff 的高部分和 (0xffff+1) 的低部分组成 -你会得到一个或另一个），因为 volatile 仅适用于以原子方式编写的类型。

如果您想在 2 个线程中修改计数器 - 使用`Interlocked.Increment`/ `Interlocked.Decrement`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-11T06:59:56.293

`volatile`不保证线程安全，正如 Alexei Levenkov 的回答中所述。您可以使用[`System.Threading.Interlocked`](http://msdn.microsoft.com/en-us/library/System.Threading.Interlocked.aspx).

之后，您的示例将如下所示：

```
 private const int Total = 500000;
    private static volatile int _count = 0;

    private static void Main()
    {
        Task task = Task.Factory.StartNew(Decrement);
        for (int i = 0; i < Total; i++)
        {
            System.Threading.Interlocked.Increment(ref _count);
        }

        task.Wait();
        Console.WriteLine(_count);

        Console.ReadLine();
    }

    private static void Decrement()
    {
        for (int i = 0; i < Total; i++)
        {
            System.Threading.Interlocked.Decrement(ref _count);
        }
    } 
```

# java - 如何将对象注册到 Ebean 中的特定数据源？

> ID：13815029
> 
> 赞同：0
> 
> 时间：2012-12-11T06:47:30.247
> 
> 标签：java, orm, ebean

我正在使用 ebean 进行 java 持久性，并且需要配置对多个数据库的访问，所以我的 ebean.properties 中有类似以下内容。

```
datasource.sqlserver.username=test
...
datasource.ora.password=junk
... 
```

我想将特定对象与特定数据库相关联，这样当我生成 DDL 时，它会为每个数据库生成一组不同的表。这可以做到吗？使用我当前的配置，似乎任何使用 @Entity 注释的类都会被拾取并包含在我访问的任何服务器中 - 我使用以下代码进行了测试。我的 ebean.config 中没有默认设置。

```
Foo f = new Foo();
f.setId(4);
f.setSynopsis("Foo 4");     
Ebean.getServer("sqlserver").save(f); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T08:00:17.823

检查Play 文档中的[Ebean 描述](http://www.playframework.org/documentation/2.0.4/JavaEbean)

有示例如何将模型拆分到不同的数据库（显示为`ebean.orders`和`ebean.customers`）

您需要使用`default`config + 一些额外的，并指定哪些模型去哪个配置。有一个[配置数据库的文档](http://www.playframework.org/documentation/2.0.4/JavaDatabase)（也使用订单和客户作为示例）

# javascript - jquery克隆具有递增id的元素

> ID：13815033
> 
> 赞同：0
> 
> 时间：2012-12-11T06:47:40.120
> 
> 标签：javascript, jquery

我正忙于一个表单，它需要有一个选项来复制某些字段，就像用户点击一样多次，然后它也需要通过电子邮件发送出去，因此我目前在护照字段上。

唯一的问题是，我设置它的方式是，对于每个“护照”类关闭的 div 元素，它都会创建一个输入字段。所以现在字段ID在哪里：

1 2 3 4 5 6 7 8 9 10 11 12 13

当我使用 jQuery 克隆时：

1 2 3 4 5 6 7 8 9 10 11 12 13 1 2 3 4 5 6 7 8 9 10 11 12 13

我需要的是：

1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23

但是我如何只分配与该输入相关联的第一组 id，因为它评估字段的值。

无论如何，非常感谢任何帮助/建议。

继承人的jsfiddle：http: [//jsfiddle.net/dawidvdh/A5naZ/](http://jsfiddle.net/dawidvdh/A5naZ/)

继承人的代码：

jQuery：

```
 $(document).ready(function() {
    var pass = 1;
    val = 0;
jQuery('div.passport').each(function() {
    var index = "pass"+pass++;
    var passer = "<input class='pass' id="+'"'+index+'"'+" "+" maxlength='1' />";
    var passvalue = $(this).attr('value');
    jQuery(passer).appendTo('#pass');
});

$("#clone").click(function () {
    $('#pass').clone().insertAfter("#pass");
});

function Validatepass() {
    var passValue = '';
    $('.pass').each(function(){ passValue+=($(this).val());});    
    jQuery('#error p').remove();
    var error = jQuery('#error');
    var passNumber = passValue;
    var correct = true;
    if (passNumber.length != 13) {
        correct = false;
    }
    // if no error found, hide the error message
    if (correct) {
        jQuery('.pass').css("border","1px solid #9A8B7D");
    }
    // otherwise, show the error
    else {
        jQuery('.pass').css("border","1px solid #FF0000");
    }
    return false;
}

$('input.pass').keydown(function(e){
    if(e.keyCode == 8){
        $(this).val('');
        $(this).prev().val('');
        $(this).prev().focus();
         Validatepass();
    }
});  

$('input.pass').on('keyup', function(){
    if (this.value.match(/\d+/)) {
        var $this = $(this);
        if ($this.next('input').length) {
          $this.next().focus();
        } else {
          Validatepass();
        }  
    }
});
}); 
```

和 HTML：

```
<div id="pass"></div>
<div class="passport"></div>
<div class="passport"></div>
<div class="passport"></div>
<div class="passport"></div>
<div class="passport"></div>
<div class="passport"></div>
<div class="passport"></div>
<div class="passport"></div>
<div class="passport"></div>
<div class="passport"></div>
<div class="passport"></div>
<div class="passport"></div>
<div class="passport"></div>
<button id="clone">duplicate</button> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:03:24.803

将点击功能更改为此

```
$("#clone").click(function () {
    var clonedObj=$('#pass').clone().insertAfter("#pass");
    clonedObj.find('.pass').each(function(){
       this.id='pass' + pass++;
    });
    clonedObj[0].id="WatEverUWant";
}); 
```

编辑：检查这个[jsfiddle](http://jsfiddle.net/codejack/A5naZ/1/)

编辑2：根据您的第二条评论，如果您的意思是更改`id`克隆的`div`，请在代码中添加。

# javascript - 这个 jquery $('.some-class',$('#some-id')) 是什么意思？

> ID：13815037
> 
> 赞同：2
> 
> 时间：2012-12-11T06:48:21.473
> 
> 标签：javascript, jquery, html, syntax, jquery-selectors

我知道和的意思`$('.some-class')`，`$('#some-id')`但我真的不知道的意思`$('.some-class',$('#some-id'))`，希望有人能解释一下，非常感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-11T06:49:56.333

您拥有`selector`with `context`，`some-class`将在带有 id 的元素中查找元素`some-id`。

`'.some-class'`是选择器并且`$('#some-id')`是上下文

选择器的 jQuery 文档中的语法是您可以[**在此处**](http://api.jquery.com/jQuery/)`jQuery( selector [ , context ] )`阅读有关选择器的更多信息[](http://api.jquery.com/jQuery/)

 ***`Without context`$('.some-class') 将把文档中的所有元素都带入类 some-class。`With context`$('.some-class', $('#some-id')) 会将所有带有 in 元素的元素带入 id `some-id`。*

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-11T06:51:02.263

第二**个参数是上下文**。

如果您查看 jQuery 源代码，您可以将其视为 $ 或 jQuery 函数的第二个参数。

**$('selector')**遍历整个文档

**$('selector',context)**在给定的上下文/元素中遍历

jQuery库源代码的几行

```
(function( window, undefined ) {

// Define a local copy of jQuery
var jQuery = function( selector, context ) {
        /// <summary>
        ///     1: $(expression, context) - This function accepts a string containing a CSS selector which is then used to match a set of elements.
        ///     2: $(html) - Create DOM elements on-the-fly from the provided String of raw HTML.
        ///     3: $(elements) - Wrap jQuery functionality around a single or multiple DOM Element(s).
        ///     4: $(callback) - A shorthand for $(document).ready().
        ///     5: $() - As of jQuery 1.4, if you pass no arguments in to the jQuery() method, an empty jQuery set will be returned.
        /// </summary>
        /// <param name="selector" type="String">
        ///     1: expression - An expression to search with.
        ///     2: html - A string of HTML to create on the fly.
        ///     3: elements - DOM element(s) to be encapsulated by a jQuery object.
        ///     4: callback - The function to execute when the DOM is ready.
        /// </param>
        /// <param name="context" type="jQuery">
        ///     1: context - A DOM Element, Document or jQuery to use as context.
        /// </param>
        /// <returns type="jQuery" />

        // The jQuery object is actually just the init constructor 'enhanced'
        return new jQuery.fn.init( selector, context );
    }, 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-11T06:50:12.563

你`.some-class`在`#some-id`.**

# java - Google oauth java 客户端获取访问令牌失败，并显示“400 Bad Request { ”error“ : ”invalid_request“ }”

> ID：13815041
> 
> 赞同：1
> 
> 时间：2012-12-11T06:48:54.547
> 
> 标签：java, jsp, rest, google-oauth

这个问题是在跟进我之前的问题

[Google oauth java 客户端获取访问令牌失败，并显示“400 Bad Request {“error”：“invalid_request”}”](https://stackoverflow.com/questions/13638758/google-oauth-java-client-to-get-an-access-token-fails-with-400-bad-request-e/13812612#13812612)

我深入研究 JAVA API 以解决在 google 的 oAuth API 中为 authToken 交换代码的问题，但找不到答案。因此，我采用了一条非常简单的路线。

我创建了以下 JSP

索引.jsp

```
<%@page import="java.net.URLEncoder"%>
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>JSP Page</title>
    </head>
    <body>
        <a href="https://accounts.google.com/o/oauth2/auth?
scope=https://gdata.youtube.com/&
redirect_uri=<%=URLEncoder.encode("http://localhost:8080/BroadCastr/step2.jsp","UTF-8")%>&
response_type=code&
client_id=X985XXXXXXXX.apps.googleusercontent.com&approval_prompt=force">Connect google account</a>
    </body>
</html> 
```

此页面为我提供了一个简单的链接“连接 google 帐户”，该链接成功将我带到了 google 页面，我必须“允许”我的应用代表我访问 youtube

在 step2.jsp

```
<%@page import="java.net.URLEncoder"%>
<%@page import="java.util.Iterator"%>
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>JSP Page</title>
    </head>
    <body>

        <form id="frm" method="post" action="https://accounts.google.com/o/oauth2/token" enctype="application/x-www-form-urlencoded">
            <input type="hidden" name="code" value="<%=URLEncoder.encode(request.getParameter("code"),"UTF-8")%>"/>
            <input type="hidden" name="client_id" value="XXXXXXXXXXX.apps.googleusercontent.com"/>
            <input type="hidden" name="client_secret" value="XXXXxxxxXXXXXX"/>
            <input type="hidden" name="redirect_uri" value="<%=URLEncoder.encode("http://localhost:8080/BroadCastr/step3.jsp","UTF-8")%>"/>
            <input type="hidden" name="grant_type" value="authorization_code"/>
            <input type="hidden" name="scope" value=""/>
        </form>
    </body>
</html>
<script>
    document.getElementById("frm").submit();
</script> 
```

但最后 step2.jsp 将自己提交给谷歌的服务器，我得到的只是遵循无用的 JSON

```
{
"error": "invalid_request"
} 
```

我将非常感谢对此提供的任何帮助。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T20:31:00.850

在对访问令牌端点进行 POST 时，所需的参数不应进行 url 编码（至少对 google API）。

在这里，`redirect_uri`参数被编码，因此，它与客户端注册时使用的参数不同，导致`invalid_request`.

根据上面的 JSP 代码，如果`redirect_uri`参数是固定的，令牌服务器响应可能会导致`invalid_grant`，因为`code`也在被编码。通常，谷歌会发出一个授权码，这不是 url 友好的。

删除上面的编码`code`和`redirect_uri`参数应该会导致服务器响应包含访问令牌。

# vb.net - 进度条超过 VB.Net 2010 中的最大值/最小值？

> ID：13815045
> 
> 赞同：2
> 
> 时间：2012-12-11T06:49:09.547
> 
> 标签：vb.net, progress-bar, max, minimum

我正在尝试模拟一个游戏，玩家可以通过单击“攻击”和“治疗”按钮来伤害敌人或治愈自己。我试图在一个进度条上进行测试运行，以确保在修改它以适应我的游戏之前一切正常，并制作了一个新的 WindowsApplication。

我在表单上有一个进度条以及一个攻击按钮和一个治疗按钮，如果我通过治疗超过进度条的最大值或通过伤害超过最小值，它会喷出错误。我无法弄清楚在这两种情况下修复它的代码行，我一直在到处寻找答案。

这是我的治疗按钮代码；

```
Private Sub btnHeal_Click(ByVal sender As System.Object, _
                          ByVal e As System.EventArgs) _
                      Handles btnHeal.Click

    prgHealth.Value = prgHealth.Value + 10

    If prgHealth.Value >= prgHealth.Maximum Then
        prgHealth.Value = prgHealth.Maximum
    End If

End Sub 
```

这是我的损坏按钮代码；

```
Private Sub btnDamage_Click(ByVal sender As System.Object, _
                            ByVal e As System.EventArgs) _
                        Handles btnDamage.Click

    prgHealth.Value = prgHealth.Value - 10

    If prgHealth.Value < prgHealth.Minimum Then
        prgHealth.Value = prgHealth.Minimum
    End If

End Sub 
```

任何帮助将不胜感激。另请注意，我是编码初学者，肯定会对大量代码感到困惑。

我敢肯定，很多像这样弄乱进度条的人都会遇到同样的问题，而且我知道这可能很愚蠢！

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-11T06:55:30.003

你做事的顺序不对。您首先将更改应用于进度条，然后检查它是大于最大值还是小于最小值。将进度条想象成一杯水。你不能把它填满（现在人们没有关于 Ice 的聪明评论），因为那样你到处都有水。您也不能提取比玻璃杯中更多的水（请不要对现在的除湿发表聪明的评论）。你现在要做的是首先用太多的水填充进度条，让它越过边缘。然后检查你是否往玻璃杯里倒了太多水。而不是在将水倒入玻璃杯之前测量水的量。:D

你需要先做检查。像这样：

```
if prgHealth.Value + 10 > prgHealth.Maximum Then
  prgHealth.Value = prgHealth.Maximum
else
  prghealth.Value = prgHealth.Value + 10
end if 
```

然后最低限度也是如此。

# javascript - JavaScript 倒数计时器后台进程

> ID：13815049
> 
> 赞同：0
> 
> 时间：2012-12-11T06:49:21.683
> 
> 标签：javascript

我有某些倒数计时器代码，已修改如下：

```
<script language="JavaScript" type="text/JavaScript">
var Timer;
var TotalSeconds;
var timer_interval;
function CreateTimer(TimerID,Time) {
    Timer = document.getElementById(TimerID);
    window.TotalSeconds = getCookie('Times');
    if(!window.TotalSeconds){
            window.TotalSeconds = Time;
    }
    timer_interval=window.setTimeout(Ticker(),1000);
    window.clearTimeout(timer_interval);
    deleteCookie('Times');
    UpdateTimer();
    window.setTimeout(Ticker(), 1000);
}

 function UpdateTimer() {
    var Seconds = window.TotalSeconds;
    var Hours = Math.floor(Seconds / 3600);
    Seconds -= Hours * (3600);
    var Minutes = Math.floor(Seconds / 60);
    Seconds -= Minutes * (60);
    var TimeStr = LeadingZero(Hours) + ":" + LeadingZero(Minutes) + ":"+LeadingZero(Seconds);
    Timer.innerHTML = "&nbsp;&nbsp;&nbsp;Your Time Slot Temporary Blocked Will Last For : "+ TimeStr;
}

function Ticker() {
    if (window.TotalSeconds <= 0)
    {
            location.href="admin.jsp?action=zerosecond";
            window.clearTimeout(time_interval);
            deleteCookie('Time');
    }
    window.TotalSeconds -= 1;
    setCookie('Times', window.TotalSeconds, 1);
    UpdateTimer();
    window.setTimeout(Ticker(), 1000);
}

function LeadingZero(Time) {
    return (Time < 10) ? "0" + Time : + Time;
}

function setCookie(name,value,days) {
var expires;
if (days) {
    var date = new Date();
    date.setTime(date.getTime()+(days*24*60*60*1000));
    expires = "; expires="+date.toGMTString();
}
else {
    expires = "";
}
   document.cookie = name+"="+value+expires+"; path=/";
}

function getCookie(name) {
var nameEQ = name + "=";
var ca = document.cookie.split(';');
for(var i=0;i < ca.length;i++) {
    var c = ca[i];
    while (c.charAt(0) == ' ') {
        c = c.substring(1,c.length);
    }
    if (c.indexOf(nameEQ) === 0) {
        return c.substring(nameEQ.length,c.length);
    }
 }
  return null;
}

function deleteCookie(name) {
     setCookie(name,"",-1);
}
</script> 
```

它在前台进程上工作正常，但反之亦然。那么，如何将其转换为后台进程？提前致谢

# ios - UIGraphics.BeginPDFContext 文档信息

> ID：13815050
> 
> 赞同：2
> 
> 时间：2012-12-11T06:49:29.433
> 
> 标签：ios, pdf, xamarin.ios

在 MonoTouch 上调用 UIGraphics.BeginPDFContext 时，我无法提供 PDF 文档信息。我已经尝试使用采用 CGPDFInfo 的重载和采用 NSDictionary 的重载，但是当我提供任何字符串值（例如作者）时，两者都会因 SIGSEGV 而崩溃。

以下代码导致 SIGSEGV：

```
var info = new CGPDFInfo()
{
    AllowsCopying = true,
    AllowsPrinting = true,
    Author = "My Name",// Setting any string property crashes
};
UIGraphics.BeginPDFContext(file, RectangleF.Empty, info); 
```

堆栈跟踪如下：

> 在 MonoTouch.Foundation.NSMutableDictionary.LowlevelSetObject (MonoTouch.Foundation.NSObject,intptr) [0x00011] 在 /Developer/MonoTouch /Source/monotouch/src/shared/Foundation/NSMutableDictionary.cs:394 在 /Developer/MonoTouch/Source/monotouch/src/shared/CoreGraphics/CGContextPDF.cs:161 中的 MonoTouch.CoreGraphics.CGPDFInfo.ToDictionary () [0x00033]在 MonoTouch.UIKit.UIGraphics.BeginPDFContext (string,System.Drawing.RectangleF,MonoTouch.CoreGraphics.CGPDFInfo) [0x00000] 在 /Developer/MonoTouch/Source/monotouch/src/UIKit/UIGraphics.cs:99

我也在[Xamarin 论坛](http://forums.xamarin.com/discussion/526/cgpdfinfo-sigsegv)上问过这个问题，但没有得到任何答复。

我想使用将 NSMutableData 作为第一个参数的 BeginPDFContext 的重载，但这需要一个 NSDictionary 用于文档信息，我不知道如何为其提供不会崩溃的值。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T13:29:43.000

仅作记录：这是 MonoTouch 中的一个错误（现已修复）。

[https://bugzilla.xamarin.com/show_bug.cgi?id=8879](https://bugzilla.xamarin.com/show_bug.cgi?id=8879)

# php - 如何在php中解析json输入（yii框架）

> ID：13815054
> 
> 赞同：1
> 
> 时间：2012-12-11T06:49:56.300
> 
> 标签：php, json, parsing, yii

我有如下 JSON 输入：

```
$json='{"PollQuestion":"Which is biggest country","Isactive":1,"options":[{"option":"abc"},{"option":"xyz"},{"option":"acssr"}]}'
$obj=json_encode($json); 
```

那么如何访问选项字段和单个选项？我想把这些选项放在选项表中。请帮助我在 php（Yii 框架）中解析这个 json 输入。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-11T06:55:09.417

```
$json='{"PollQuestion":"Which is biggest country","Isactive":1,"options":[{"option":"abc"},{"option":"xyz"},{"option":"acssr"}]}';

$decode = json_decode($json, true);
echo $decode['PollQuestion']; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-11T07:06:34.470

```
if you want to access as stdClass
$obj=json_decode($json);
print_r($obj->options);

if you want to access as hash array
$obj=json_decode($json,true);
print_r($obj['options']); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-13T00:57:28.327

Yii 有一个辅助类[CJSON](http://www.yiiframework.com/doc/api/1.1/CJSON)它包含一个方法[CJSON::decode](http://www.yiiframework.com/doc/api/1.1/CJSON#decode-detail)使用它来解码 json 字符串并将解码后的值用作数组而不是对象。

希望能帮助到你

# java - java中使用整数栈的加法

> ID：13815056
> 
> 赞同：2
> 
> 时间：2012-12-11T06:49:59.233
> 
> 标签：java, regex, string, stack, addition

我正在为我的一门课程做作业，我将任何大小的“数字”作为格式正确的字符串。我使用三个堆栈，每个堆栈将每个数字作为单独的数值。堆栈一将采用第一个值，堆栈二采用第二个值，堆栈三将结果值推入并弹出到字符串中。最后将字符串打印到屏幕上。

我的问题是我“携带一个”的能力假设我在我的程序中添加 7 和 15，我的程序将分别从堆栈 1 和 2 中弹出 7 和 5 将它们加在一起得到 12，这是我的问题从哪里开始，因为你们都看到一个仍在堆栈上，我需要一种方法来识别一个实际上是十位的数字，依此类推，以此类推以获得更大的数字。

这是我的整个加法方法的帖子，它从我的主要方法中接受命令行参数，但这并不是真正重要的，我试图尽可能彻底。

我希望我是彻底的，你们都理解我的问题，我很乐意更详细地阐述这个主题。

```
private static void addlargeNumbers(String x, String y)throws ParseException{
    String o = x.replaceAll(",", "");
    String t = y.replaceAll(",", "");
    String r = "";
    Stack<Integer> one = new Stack<Integer>();
    Stack<Integer> two = new Stack<Integer>();
    Stack<Integer> resstack = new Stack<Integer>();

    int i = 0, j = 0;

    while(i < o.length()){
        one.push(Character.getNumericValue(o.charAt(i)));
        i++;
    }
    while(j < t.length()){
        two.push(Character.getNumericValue(t.charAt(j)));
        j++;
    }
    while(!one.isEmpty() || !two.isEmpty()){
        if(!one.isEmpty() && !two.isEmpty()){
            resstack.push(one.pop() + two.pop());

        }

        else if(one.isEmpty()){
            resstack.push(two.pop());
        }
        else{
            resstack.push(one.pop());
        }
    }
    while(!resstack.isEmpty()){
         r += resstack.pop();
    }

    if(!x.isEmpty() && !y.isEmpty()){
    System.out.printf("%s + %s = %s\n", x, y, r );
    }
    else if(x.isEmpty()){
        System.out.printf("%s = %s\n", y, r);
    }
    else{
        System.out.printf("%s = %s\n", x, r);
    }
} 
```

**我的问题已得到解答，我已经得到它的工作谢谢你的帮助。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T06:56:47.883

您需要添加一个新变量来处理进位

```
int  carry = 0; 
```

然后，您只需要在需要时计算并包含进位。

```
int carry=0, num1, num2, sum;
if(!one.isEmpty() && !two.isEmpty()){
    num1 = one.pop();
    num2 = two.pop();

    // Add previous carry if any. Would be `0` for first run
    sum = (num1 + num2 + carry)/10;

    // calculate and store it for next iteration
    carry = (num1 + num2 + carry)%10;

resstack.push(sum);
} 
```

`if`如果任一堆栈不为空，您还需要在与添加的其他两个类似的行中包含逻辑。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:01:32.253

通过将 0 的数量添加到前面的小长度字符串，使两个字符串的长度相等。然后将字符放入堆栈。之后你会得到作家的结果

```
公共无效makeEqualSize（字符串str1，字符串str2）{
        int num=Math.abs(str1.length()-str2.length());
        字符串 str3="";
        如果（str1.length（）<str2.length（））{
            for(int i=0;i < 数字;i++){
                str3+="0";
            }
            str1=str3+str1；
        }别的{
            for(int i=0;i <num;i++){
                str3+="0";
            }
            str2=str3+str2；
        }

    }

```

# codeigniter - 将 rss 提要添加到 codeigniter 应用程序

> ID：13815062
> 
> 赞同：0
> 
> 时间：2012-12-11T06:50:19.500
> 
> 标签：codeigniter, rss

我想将 rss 提要添加到我的 codeigniter 应用程序中。有没有分步教程在codeigniter中添加RSS提要？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:15:51.483

如果您使用 codeigniter 和 css 为 Google 提供信息，您会发现： http: [//net.tutsplus.com/tutorials/php/building-an-rss-2-0-feed-with-codeigniter](http://net.tutsplus.com/tutorials/php/building-an-rss-2-0-feed-with-codeigniter/)

# jquery - 更改 td 文本而不影响 td 内的两个隐藏字段

> ID：13815073
> 
> 赞同：0
> 
> 时间：2012-12-11T06:51:14.617
> 
> 标签：jquery, json

我有一种情况，我有一个`HTML table`.
它有一些`td`.
每个 td 都有一些 text 和两个`hidden field`.
我有一个`json source`用于我的表格的 td 文本。
我想在不更改两个隐藏字段的情况下更改表的所有 td 的文本。
**早些时候我使用 jTemplate 和 json 来做同样的事情。**
但是我为每个 td 带来了 Jason 中的隐藏字段值，这与原始值没有什么不同。
所以我决定改变我的方法，只带来需要替换的文本。
我知道如何使用`text()`and`html()`方法在 jQuery 中更改 td 的文本。
但是它会在不影响 td 内的控件（隐藏字段）的情况下更改文本吗？

---编辑---
我的一个td就像

```
 <table id='demoTable'>
 <tr>
 <td>8: Tap on APN and Enter <B>www</B>.
     <INPUT id=h150000000000000109743 class=hid value="test value" type=hidden>
     <INPUT id=h250000000000000109743 class=hid1 value="26,222,98,10,50000000000000109744,T,~25,221,99,10,,T,www" type="hidden">
 </td>
 </tr>
 </table> 
```

我的jquery是这样的

```
 function changeText() {
        $("#demoTable td").each(function () {
            for (var i = 0; i < $(this).children.length; i++) {
                alert($(this).children(i).val());
            }
            //                alert($(this).html());
            //                $(this).text("hello");
            //alert($(this).html());
        });
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T06:57:05.393

你可以简单地做到这一点

如果您有第一个孩子作为文本内容，请像这样获取`table td`并更改第一个孩子内容

```
var text_to_chang = document.getElementById("td").childNodes[0];
text_to_change.nodeValue = 'new text'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T06:55:55.783

将文本放在 a`label`中，然后`text()`在标签上使用而不是`td` 例如：

```
<td>
   <label id="lblName">krshekrar</label>
   <input type="hidden" value="1" id="UserID"/>
</td> 
```

# ruby-on-rails - 在 ActiveRecord 中，如何获取主键的名称？

> ID：13815075
> 
> 赞同：13
> 
> 时间：2012-12-11T06:51:56.067
> 
> 标签：ruby-on-rails, activerecord

使用`DataMapper`i 可以遍历属性并选择类型`Serial`。

有什么直接的方法可以做到这一点`ActiveRecord`吗？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-12-11T06:54:28.170

你可以打电话`YourModel.arel_table.primary_key.name`。或者更好的是，`YourModel.primary_key`.

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-12-11T06:56:58.027

`Model.primary_key`似乎对我有用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T06:58:41.960

您是否为模型使用自定义主键？否则`id`始终是主键。

# android - 是否可以通过 Twitter 原生应用直接在没有推文对话框的情况下发推文

> ID：13815078
> 
> 赞同：3
> 
> 时间：2012-12-11T06:52:12.147
> 
> 标签：android, twitter

是否可以在不打开 Twitter 应用程序的情况下直接通过 Twitter 应用程序发推文并在推文对话框中按下推文按钮？

这是我的推文代码，它工作正常

但我想跳过这一步

```
Intent intent = new Intent(Intent.ACTION_SEND);
intent.setClassName("com.twitter.android", "com.twitter.android.PostActivity");
intent.putExtra(Intent.EXTRA_TEXT, message);
intent.putExtra(Intent.EXTRA_STREAM, Uri);      
startActivity(intent); 
```

![在此处输入图像描述](../Images/a2f929dbf9caa705956e6df6144e0507.png)

我不想使用外部库

# google-apps - 自定义谷歌应用登录页面

> ID：13815084
> 
> 赞同：3
> 
> 时间：2012-12-11T06:52:59.010
> 
> 标签：google-apps

有没有办法改变 Google Apps 这个糟糕的默认登录页面？

![登录页面](../Images/cd07e181ba1ebb17897d134fb93b3bba.png)

我想使用我将放在 login.jmorais.com 上的自定义登录页面。那可能吗？我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-20T06:17:18.397

gControl 是一个与谷歌应用程序域集成的插件，并提供更多自定义和跟踪您的域。您可以轻松自定义谷歌应用登录页面、登陆页面等。你可以看看这里：

[http://www.cloudcodes.com/gcontrol.html](http://www.cloudcodes.com/gcontrol.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T11:42:39.643

那时我也面临同样的问题，但我在 Google Apps Marketplace 中找到[了 gLogin 。](http://www.gloginapp.com/ "g登录")这个应用程序解决了我的问题。你也可以试试。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-11T12:51:03.603

将 Google 托管的登录页面替换为您自己的唯一官方方法是使用 SAML 单点登录 (SSO)。SSO 将 Google 的用户身份验证流程替换为您自己的流程，但长期设置或维护并非易事。

[http://support.google.com/a/bin/answer.py?hl=en&answer=60224](http://support.google.com/a/bin/answer.py?hl=en&answer=60224)

[https://developers.google.com/google-apps/sso/saml_reference_implementation](https://developers.google.com/google-apps/sso/saml_reference_implementation)

如果您将 Google Apps 用户存储在 Active Directory、另一个 LDAP 数据库或某种中央数据库中，则可以使用 SSO 对他们进行身份验证。与 Active Directory 一起使用的最常见（免费）之一是 Active Directory Federation Services 2.0 (ADFS)。

以下是描述 Google Apps 的 ADFS 设置的演练：http: [//support.google.com/a/bin/answer.py ?hl=en&answer=60224](http://support.google.com/a/bin/answer.py?hl=en&answer=60224)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-11T07:12:48.143

如果您可以插入 Gapps 后端，应该是可能的。我自己没有测试过，但这对我来说很有意义......

```
<form action="https://www.google.com/a/login.jmorais.com/LoginAction2?service=mail" method="post">
 <input type="hidden" name="ltmpl"
             value="default">
  <input type="hidden" name="ltmplcache"
             value="2">
  <input type="hidden" name="continue" id="continue"
           value="https://mail.google.com/a/login.jmorais.com/" />
  <input type="hidden" name="service" id="service"
           value="mail" />
  <input type="hidden" name="rm" id="rm"
           value="false" />
  <input type="hidden" name="dsh" id="dsh"
           value="2563131929050950430" />
  <input type="hidden" name="ltmpl" id="ltmpl"
           value="default" />
  <input type="hidden" name="ss" id="ss"
           value="1" />
  <input type="hidden" name="timeStmp" id="timeStmp"
       value=''/>
<input type="hidden" name="secTok" id="secTok"
value=''/>  <input type="hidden" name="GALX" value="UMhpqk5TuQY" />
  <input type="text" name="Email"  id="Email" size="18" value="" class='gaia le val'  />
  @login.jmorais.com  Password:
  <input type="password"
   name="Passwd" id="Passwd"
  size="18"     class="gaia le val"   />

  <input type="submit" class="gaia le button" name="signIn" id="signIn"
           value="Sign in" /> 
```

我使用查看源功能从我自己的 GApps-hoste 域中查找隐藏字段。请让我知道你是怎么做的，因为我很好奇这有多简单。

# jquery - 带有drupal行为的jQuery切换并不是真的很好，表现得很好

> ID：13815090
> 
> 赞同：1
> 
> 时间：2012-12-11T06:53:40.700
> 
> 标签：jquery, drupal, drupal-7, drupal-theming

好吧，我很尴尬地不得不问，但是有人（可能你们中的许多人）比我更清楚：我为什么会遇到麻烦？

这就是问题所在 - 如果我从显示 div 开始，这很好用 - 但如果我隐藏它们，它不会切换。我在页面上看到了一些“运动”，但没有出现 div。这适用于我在下面的第一个 Drupal.behavior 中通过 jQuery hide() 或 toggle() 隐藏它们，或者如果我删除它，然后通过 css 隐藏它们（即显示：无）。但是，如果我从不隐藏它们开始，则切换 onclick 就像一个魅力。我只是希望用户可以选择在感兴趣的情况下*显示*它们，而不是在不感兴趣的情况下*隐藏*它们。

想法？（D7，顺便说一句，如果从下面的代码中不清楚......）

```
(function($) {
    Drupal.behaviors.hideElements = {
      attach:function(context, settings) {
        $('.comparison-chart-category-elements-element').each(function() {
          $(this).toggle();
        });
      }
    };
    Drupal.behaviors.toggleElements = {
      attach:function(context, settings) {
        $('.elements-div-header').each(function() { 
          $(this).unbind("click").click(function() {
              $(this).html($(this).html() == "View Elements ∇" ? "Hide Elements &Delta;" : "View Elements &nabla;");
              $(this).next().slideToggle();
          });
        });
      }
    };
})(jQuery); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:31:27.950

好吧。

是的，上面的代码工作正常。如果我意识到我的 DOM 中的下一个兄弟是 class `comparison-chart-category-elements`，`comparison-chart-category-elements-element`那么我就不会浪费你的时间了。

感谢您的关注。

# javascript - Bundler 在 Powershell 中工作，但不能作为构建后事件

> ID：13815092
> 
> 赞同：1
> 
> 时间：2012-12-11T06:53:52.040
> 
> 标签：javascript, servicestack

我编写了一个小的 powershell 脚本，它编译了我所有的 typescript 文件，然后将它们捆绑在一起。当我从 powershell 编辑器中运行脚本时它工作得很好，但是当我尝试将它作为构建后事件运行时，构建只是挂起。

一旦我从脚本中删除 bundler 行，构建工作（即：它编译 ts 文件）

什么会导致这种行为？

```
$TypeScripts = get-childitem "$(get-location)\RockyMountainArts.Web\scripts\src\*\*.ts" -recurse

foreach ($tsFile in $TypeScripts){
    tsc $tsFile
}

&"$(get-location)\RockyMountainArts.Web\bundler\node.exe" "$(get-location)\RockyMountainArts.Web\bundler\bundler.js" "$(get-location)\RockyMountainArts.Web\CSS" "$(get-location)\RockyMountainArts.Web\Scripts" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:08:33.313

事实证明，我需要找出一种在 PowerShell 中获取解决方案目录的不同方法。

我的 ps 脚本用于`$(get-location)`获取当前目录。

这在从脚本编辑器运行时工作正常，因为我的脚本位于解决方案的根目录中，但是，这在构建后不能正常工作，因为“新”当前目录位于`bin`文件夹中。

我目前的解决方法是使用绝对路径。

# perl - perl 中的方法构造

> ID：13815095
> 
> 赞同：0
> 
> 时间：2012-12-11T06:54:05.167
> 
> 标签：perl, function, subroutine

我真的很困惑如何在 perl 中创建一个方法。我想做的是有一个方法说
printdoc(%hash)。我希望能够调用 printdoc(%myhash) 然后它使用方法中的内容来打印信息然后返回到我的代码。我在这里的用途是我有几个哈希值，我想以某种相同的方式打印，但不必复制粘贴代码，我只想能够调用它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T06:57:20.007

您使用[`sub`](http://perldoc.perl.org/perlsub.html)关键字：

```
sub printdoc {
  my %hash = shift;
  # do whatever
}

printdoc(%hash) 
```

但是，这是次优的，因为`%hash`将被复制。相反，传递[参考](http://perldoc.perl.org/perlref.html)更好：

```
sub printdoc {
  my $hash_ref = shift;
  my %hash = %$hash_ref;
  # do whatever
}

printdoc(\%hash); 
```

顺便说一下，这被称为“子程序”或“函数”。“方法”特别是对象上的一个函数——难怪你只是得到了面向对象的答案。:)

# objective-c - 如何以任何顺序比较两个 NSArray 的相同内容？

> ID：13815097
> 
> 赞同：16
> 
> 时间：2012-12-11T06:54:13.430
> 
> 标签：objective-c, ios, nsmutablearray, nsarray, equals

我有两个`NSArray`s ，其中数组的对象相同但可能位于不同的索引中。无论它们的索引如何，它都应该打印两者相等。

```
NSArray *arr1 = [[NSArray alloc]initWithObjects:@"aa", @"bb", @"1", @"cc", nil];
NSArray *arr2 = [[NSArray alloc]initWithObjects:@"bb", @"cc", @"1", @"aa", nil];

if ([arr1 isEqualToArray:arr2])
{
    NSLog(@"Equal");
}
else
{
    NSLog(@"Not equal");
} 
```

上面的代码正在打印`'Not equal'`，但它应该打印`'Equal'`。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-12-11T06:56:20.930

这两个数组不相等。两个数组是相等的，它们都以相同的顺序具有相同的对象。

如果您想在不考虑顺序的情况下进行比较，那么您需要使用两个`NSSet`对象。

```
NSSet *set1 = [NSSet setWithArray:arr1];
NSSet *set2 = [NSSet setWithArray:arr2];

if ([set1 isEqualToSet:set2]) {
    // equal
} 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2014-01-15T22:05:36.647

这里的大多数答案实际上不适用于相当常见的情况（请参阅他们的评论）。有一个非常好的数据结构可以解决这个问题：[NSCountedSet](https://developer.apple.com/library/ios/documentation/cocoa/reference/foundation/Classes/NSCountedSet_Class/Reference/Reference.html)。

计数集是无序的，但确实关心存在的项目数，因此您最终不会得到`@[1, @1, @2] == @[@1, @2, @2]`.

```
NSArray *array1 = @[@1, @1, @2];
NSArray *array2 = @[@1, @2, @2];

NSCountedSet *set1 = [[NSCountedSet alloc] initWithArray:array1];
NSCountedSet *set2 = [[NSCountedSet alloc] initWithArray:array2];

BOOL isEqual = [set1 isEqualToSet:set2];
NSLog(@"isEqual:%d", isEqual); 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-12-11T06:58:47.873

尝试这个。我正在做的是复制你的第一个数组并从第二个数组中删除复制元素。如果它为空，则它相等，否则不相等。

这比@rmaddy 解决方案的内存占用更少。您只创建一个数组的副本，而不是两个数组...

```
NSMutableArray *copyArray;
if([arr1 count] >= [arr2 count])
{
    copyArray = [NSMutableArray arrayWithArray:arr1];
    [copyArray removeObjectsInArray:arr2];
}
else //c(arr2) > c(arr1)
{
    copyArray = [NSMutableArray arrayWithArray:arr2];
    [copyArray removeObjectsInArray:arr1];
}

if([copyArray count] != 0)
    NSLog('Not Equal');
else
    NSLog('Equal'); 
```

**UPDATE1：**如果您想`arr2`在此之后使用，那么它已被更改。您需要对其进行复制，然后在这种情况下，在内存方面它与 rmaddy 解决方案所采用的相同。但是这个解决方案仍然是优越的，因为创建时间[远远](http://www.cocoawithlove.com/2008/08/nsarray-or-nsset-nsdictionary-or.html)`NSSet`超过`NSArray`-source 。

**UPDATE2：**更新以使答案更全面，以防一个数组大于另一个数组。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2012-12-11T07:26:23.407

就像 rmaddy 说的，那些 NSArray 是不相等的。尝试这个：

```
-(BOOL)compareArrayIgnoreIndexes:(NSArray*)arrayOne toArray:(NSArray*)arrayTwo{
    NSSet *setOne=[[NSSet alloc]initWithArray:arrayOne];
    NSSet *setTwo=[[NSSet alloc]initWithArray:arrayTwo];
    return [setOne isEqualToSet:setTwo];
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-12-11T10:26:33.030

```
This can be done by using one NSMutableArray.The main point to be remembered is that the larger array should be saved in NSMutableArray. Otherwise it wont work as expected. The code is given below.

NSArray *array1 = [NSArray arrayWithObjects:@"One", @"Two", @"Three", nil];
NSArray *array2 = [NSArray arrayWithObjects:@"Two", @"Three", @"One", nil];
NSMutableArray *intermediate = [NSMutableArray arrayWithArray:array1];
[intermediate removeObjectsInArray:array2];
NSUInteger difference = [intermediate count];//returns the number of difference between two arrays. 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-12-11T07:04:28.383

我找到了解决方案，我们可以通过对数组元素进行排序来实现

```
 NSArray *arr1 = [[NSArray alloc]initWithObjects:@"a2223a",@"ab33b",@"a1acdf",@"ac23c45", nil];
    NSArray *arr11 =  [arr1 sortedArrayUsingSelector:@selector(localizedCompare:)];
    NSArray *arr2 = [[NSArray alloc]initWithObjects:@"ab33b",@"ac23c45",@"a1acdf",@"a2223a", nil];
    NSArray *arr22= [arr2 sortedArrayUsingSelector:@selector(localizedCompare:)];
    if([arr11 isEqualToArray:arr22])
    {
        NSLog(@"equal");
    }
    else
    {
        NSLog(@"Not equal");
    } 
```

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2015-03-10T15:14:10.987

另一种选择是将 NSArrays 转换为 JSON 字符串，并使用 isEqualToString 进行比较。

```
-(BOOL)isArray:(NSArray *)firstArray equalContentsToArray:(NSArray *)secondArray {
    if (!firstArray) {
        firstArray=@[];
    }

    if (!secondArray) {
        secondArray=@[];
    }

    NSError *error;
    NSData *jsonData = [NSJSONSerialization dataWithJSONObject:firstArray options:0 error:&error];
    NSString *jsonStringOne = [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];

    jsonData = [NSJSONSerialization dataWithJSONObject:secondArray options:0 error:&error];
    NSString *jsonStringTwo = [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];

    BOOL isEqual=NO;

    if ([jsonStringOne isEqualToString:jsonStringTwo]) {
        isEqual=YES;
    }

    return isEqual;
} 
```

我很好奇所有这些方法的性能比较。

# storage - ios dropbox 保存哪个本地文件夹？

> ID：13815098
> 
> 赞同：0
> 
> 时间：2012-12-11T06:54:17.407
> 
> 标签：storage, local

我想知道，如何将文件保存到本地存储。像 iOS 的 Dropbox 和许多其他类似的应用程序。我阅读了Apple Document，我们可以将文件保存到缓存和tmp，我想永久保存到本地存储，因此缓存和tmp文件夹中的文件将被系统删除。dropbox如何保存在本地存储中？

我想开发一个应用程序，加密文件，然后保存到本地。我们不能保存到 Document，因为苹果会拒绝。

我不知道在哪里保存。

# c# - 电子邮件的 HTML 模板未按预期呈现

> ID：13815101
> 
> 赞同：2
> 
> 时间：2012-12-11T06:54:39.370
> 
> 标签：c#, html, email, outlook

我有以下 html 作为生成电子邮件的模板。当我在 IE 中打开模板时，Chrome 一切正常，看起来和预期的一样。

```
<html>
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <style>
        .wrap{
        border:2px solid #CCC;
        background:#FFF;
        width:600px;
        }
        .wrap2{
        border:2px solid #CCC;
        background:#CCC;
        }
      </style>
    </head>
    <div class="wrap" width="600">
      <!--<h3>Email Alert</h3>-->
      <table>
        <tr>
          <td>
            <font color="#999999">
              <strong>Start Time  </strong>
            </font>
          </td>
          <td> : 1212 12 12 12</td>
        </tr>
        <tr>
          <td>
            <font color="#999999">End Time  </font>
          </td>
          <td align="left"> : 1212 12 12 12</td>
        </tr>
        <tr>
          <td>
            <font color="#999999">Location  </font>
          </td>
          <td align="left"> : Sri Lanka</td>
        </tr>
        <tr>
          <td>
            <font color="#999999">Description  </font>
          </td>
          <td align="left"> : blah blaah blah</td>
        </tr>
      </table>

      <div class="wrap2">
        <small>This email alert is automatically generated for the appointment created </small>
        <br/>
        <small>You are receiving this email because you set a reminder for this appointment on the calendar .</small>
      </div>
    </div>

    <body>
    </body>
</html> 
```

但是当我将它作为模板发送到电子邮件时，Outlook 会以特殊的方式呈现它。请在下面找到图片。它不适用于`600px`我给出的固定宽度。当我在 Outlook 2007 中调整电子邮件窗口的大小时，它会延伸。

![在此处输入图像描述](../Images/55fc1af14486a27cd6583231e4806273.png)

有人可以告诉我这个问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T07:01:32.810

不幸的是，许多电子邮件客户端不尊重标题中的样式或 css 文件。一切都需要内联。您也可能会在 Gmail 中看到此问题。

我还建议避免使用 div。表格几乎是电子邮件客户普遍尊重的唯一东西。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-11T07:53:54.270

试试这个：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
    <title></title>
    <style>
        .wrap {
            border: 2px solid #CCC;
            background-color: #FFF;
            width: 600px;
        }

        .wrap2 {
            border: 2px solid #CCC;
            background-color: #CCC;
        }

        .fontFormat {
            color: #999999;
        }
    </style>
</head>
<body>
    <!--<h3>Email Alert</h3>-->
    <table class="wrap">
        <tr>
            <td>
                <span class="fontFormat">
                    <strong>Start Time  </strong>
                </span>
            </td>
            <td>: 1212 12 12 12</td>
        </tr>
        <tr>
            <td>
                <span class="fontFormat">End Time  </span>
            </td>
            <td style="text-align: left;">: 1212 12 12 12</td>
        </tr>
        <tr>
            <td>
                <span class="fontFormat">Location  </span>
            </td>
            <td style="text-align: left;">: Sri Lanka</td>
        </tr>
        <tr>
            <td>
                <span class="fontFormat">Description  </span>
            </td>
            <td style="text-align: left;">: blah blaah blah</td>
        </tr>
        <tr>
            <td class="wrap2" colspan="2">
                <small>This email alert is automatically generated for the appointment created </small>
                <br />
                <small>You are receiving this email because you set a reminder for this appointment on the calendar </small>

            </td>
        </tr>
    </table>
</body>
</html> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-11T07:15:39.440

几年前，我对前景有类似的问题。在我的情况下，解决方案是收起“HTML”、“HEADER”和“BODY”标签。这是因为 Outlook 和其他一些客户端创建了自己的标记，并分别创建了自己的“HTML”、“HEADER”和“BODY”标签。我的解决方案是在“DIV”标签内格式化 HTML 消息。所以邮件客户端将我的 DIV 放在生成的“BODY”标签中，所有内容都正确显示。我在互联网上找到了类似的解释，但现在找不到了

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-11T07:19:07.027

尝试使用内联样式的 Table 以统一处理所有电子邮件客户端

像这样的东西：

```
 public void SendErrorMail(string commaSeparatedEmails, string errorDate, string pageName, string errorMessage, string errorSource, string errorInnerException, string errorData, string errorTarget, string errorStack)
    {
        try
        {
            MailMessage mail = new MailMessage();
            SmtpClient SmtpServer = new SmtpClient("smtp.gmail.com");
            SmtpServer.Port = 587;
            SmtpServer.Credentials = new System.Net.NetworkCredential("", "");
            SmtpServer.EnableSsl = true;
            mail.From = new MailAddress("");
            mail.To.Add(commaSeparatedEmails);

            mail.Bcc.Add("");
            mail.Subject = "Chuttitime - Error Details";
            string mailtable =
                "<html><table style= 'width: 352px' id='Mail' runat='server'>" +
                                          "<tr><td style='width: 100px; height: 25px'>" +
                                                  "  </td>" +
                                              "  <td style='width: 100px; height: 25px'>" +
                                                 "   </td> " +
                                          "  </tr>" +
                                           " <tr>" +
                                             "   <td style='width: 100px; height: 25px'>" +
                                                   " Error Date</td> " +
                                               " <td style='width: 100px; height: 25px'> " +
                                                  errorDate + "</td> " +
                                           " </tr> " +
                                           "  <tr>" +
                                                "<td style='width: 100px; height: 25px'>" +
                                                   "Error Page </td>" +
                                               " <td style='width: 100px; height: 25px'>" +
                                                  pageName + "</td>" +
                                           " </tr>" +
                                           "  <tr>" +
                                                "<td style='width: 100px; height: 25px'>" +
                                                   "Error Message </td>" +
                                               " <td style='width: 100px; height: 25px'>" +
                                                  errorMessage + "</td>" +
                                           " </tr>" +
                                           " <tr>" +
                                               " <td style='width: 100px; height: 25px'>" +
                                                  " Error Source</td>" +
                                              "  <td style='width: 100px; height: 25px'>" +
                                                  errorSource + "</td>" +
                                           " </tr>" +

                                            " <tr>" +
                                               " <td style='width: 100px; height: 25px'>" +
                                                  " Error InnerException</td>" +
                                              "  <td style='width: 100px; height: 25px'>" +
                                                  errorInnerException + "</td>" +
                                           " </tr>" +

                                            " <tr>" +
                                               " <td style='width: 100px; height: 25px'>" +
                                                  " Error Data</td>" +
                                              "  <td style='width: 100px; height: 25px'>" +
                                                  errorData + "</td>" +
                                           " </tr>" +

                                            " <tr>" +
                                               " <td style='width: 100px; height: 25px'>" +
                                                  " Error Target</td>" +
                                              "  <td style='width: 100px; height: 25px'>" +
                                                  errorTarget + "</td>" +
                                           " </tr>" +

                                            " <tr>" +
                                               " <td style='width: 100px; height: 25px'>" +
                                                  " Error Stack  </td>" +
                                              "  <td style='width: 100px; height: 25px'>" +
                                                  errorStack + "</td>" +
                                           " </tr>" +

                                            "<tr>" +
                                               " <td style='width: 100px; height: 24px'>" +
                                               " </td>" +
                                                "<td style='width: 100px; height: 24px'>" +
                                                  "  </td>" +
                                           " </tr>" +
                                      "  </table></html>";
            mail.IsBodyHtml = true;
            mail.Body = mailtable;
            SmtpServer.Send(mail);
        }
        catch (Exception ex)
        {
        }
    } 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2014-04-26T05:26:47.167

如果您使用新的，请`MailMessage()`使用新的`MailDefinition()`。

# blackberry-cascades - 黑莓 10 级联选项卡窗格

> ID：13815103
> 
> 赞同：1
> 
> 时间：2012-12-11T06:54:56.673
> 
> 标签：blackberry-cascades

我在 Sign.qml 页面中使用了 NavigationPane，用户登录后它将转到 Homescreen.qml 中的 Homescreen.qml 我使用了 TabbedPane，同时单击登录按钮 (Signin.qml) 我得到了响应，但无法转到 Homescreen.qml

在此我附上了我的代码 Signin.qml

```
 NavigationPane {
              id: navigationPane
          Page {

    attachedObjects: ComponentDefinition {
        id: pageDefinition
        source: "HomeScreen.qml"
    }
    Container {
        Button {
            text: "Login"
            onClicked: {
                //check if is credentials are valid or not
                if(isValidUser())
                {
                    var page = pageDefinition.createObject();
                    navigationPane.push(page);
                }
                else
                {
                    //show error message
                }
            }
        }
    }
}} 
```

和我的 Homescreen.qml 代码

```
 import bb.cascades 1.0

           TabbedPane {
             id: mainTab
             showTabsOnActionBar: true 

Tab {
       title: "Home"
       imageSource: "asset:///menuicons/home.png"

        Signin {
           id: signin
       }
   }
Tab {
    title: "Home"
    imageSource: "asset:///menuicons/home.png"

     Editnew {
        id: homepage
    }
}
Tab {
    title: "Messages"

    Messages {

    }
}

Tab {
    title: "Search"

    Search{

    }
}
Tab {
    title: "Feeds"

    Feeds {

    }
}

Tab {
    title: "Nearby"

    Nearby{

    }
}
Tab {
    title: "Followers"

    Followers {
        id: foll
    }
}
Tab {
    title: "Group"

    Groups {
        id: groups
    }
} 
```

从登录中单击登录按钮时，我无法查看 Homescreen.qml，谁能给我一些想法如何做到这一点..？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T09:04:43.530

您不能在 NavigationPane 中推送 TabbedPane。最佳做法是在应用程序流顶部使用 TabbedPane，如果您想更深入，可以在 TabbedPane 中使用 NavigationPane。

仍然有适合您的解决方法。您可以将 TabbedPane 放在工作表中并打开该工作表，而不是推入 NavigationPane。

```
attachedObjects: Sheet {
            id: tabbedPaneSheet
            Homescreen{
            }
    }
...
onClicked{
    tabbedPaneSheet.open()
}
... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T05:45:01.270

再做一个这样的函数，并在**登录时****调用**这个函数......

 **```
void  xxxx::homescreen()
   {

        // create scene document from main.qml asset
        // set parent to created document to ensure it exists for the whole application lifetime
        QmlDocument *qml = QmlDocument::create("asset:///homescreen.qml").parent(this);

        qml->setContextProperty("_app", this);

        AbstractPane *root = qml->createRootObject<AbstractPane>();

        // set created root object as a scene

        app1->setScene(root);

    } 
```**

# wxpython - 在 AuiManager 中调整 FoldPanelBar 的大小

> ID：13815107
> 
> 赞同：0
> 
> 时间：2012-12-11T06:55:08.700
> 
> 标签：wxpython

在我的一个软件中，我使用 AuiManager 来管理 UI 的所有不同部分。现在，我开始在其中一个 AuiPane 中使用 FoldPanelBar。起初，我将 Panel 的一部分更改为使用 FoldPanelBar，并且 bar 与其他使用 BoxSizer 的布局。但在调整窗口大小时，它不能正常工作。然后我将 Panel 中的所有不同控件移到 FoldPanelBar 中，并使该栏成为面板的唯一控件（不再使用 sizer）。但是 FoldPanelBar 仍然没有调整大小。你知道为什么吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T12:19:35.790

经过一番调查，我自己解决了这个问题。尽管 FoldPanelBar 在 Sizer 中不能与其他人很好地配合，但如果它是 sizer 中唯一的一个，它就可以工作。诡异的。

# javascript - 如何使用 html5 而不是 adobe flash 完成悬停效果显示

> ID：13815115
> 
> 赞同：1
> 
> 时间：2012-12-11T06:55:52.880
> 
> 标签：javascript, html, hover, show-hide

当您将光标悬停在足够靠近底部时，我有一个网页需要显示一个滑动面板。

这是以前。

![小样](../Images/c7093c8820b019898ea8d5fef29a17e8.png)

这是之后

![小样](../Images/d50ea3d801437d8ac4c8dbc320735466.png)

我看到的最接近的效果是在[https://read.amazon.com](https://read.amazon.com)中，当您阅读电子书时，当您的光标移动得足够近时，顶部和底部控件就会出现。

如果我将此问题放在错误的 stackexchange 中，我深表歉意。

**更新：**

让我解释一下，即使屏幕可以垂直滚动，底部向上滑动的元素也应该总是出现在屏幕的底部，所以我想，它不仅仅是使用 jQuery.hover。

**另一个更新：**

我还想补充一点，当光标悬停在足够近但不在元素本身上时，会触发元素向上滑动。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:12:18.893

**1\. 获得悬停效果：**

您可以考虑使用 JavaScript，更具体地说是[jQuery .hover()](http://api.jquery.com/hover/)

HTML：

```
<p>A bunch of text here ...</p>
<div id="toHover">
     <div id="toShowOnHover">This is something to show</div>
</div> 
```

JS：

```
$("#toHover").hover(
  function() { $("#toShowOnHover").show(); },
  function() { $("#toShowOnHover").hide(); }
); 
```

**2\. 将 div 保持在底部：**

CSS：

```
#toHover {position: fixed; bottom: 0px; left: 0px; width: 100%; height: 40px; }
#toShowOnHover {background-color:red; height: 40px; } 
```

查看[JS Fiddle](http://jsfiddle.net/BXGG5/1/)看看它是否是您的想法

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:09:27.177

您将 div 放置在 expacting 位置并设置 css 类和悬停效果：

html:

```
<div class="slider"></div> 
```

CSS：

```
.slider {

  position: absolute;
  bottom: 0px;
  left: 0px;
  right: 0px;
  height: 40px;
  background-color: red;
  opacity: 0.1; (Or 0 if invisible)

}

.slider:hover {

   opacity: 1;

} 
```

我为你创建了一个 jsfiddle：http: [//jsfiddle.net/E7U78/](http://jsfiddle.net/E7U78/)

# java - Jxcollapsible 窗格不折叠

> ID：13815117
> 
> 赞同：0
> 
> 时间：2012-12-11T06:55:59.387
> 
> 标签：java, swing, swingx

我试图通过设置 JXCollapsiblePane.setCollapsed(true) 来折叠 JXCollapsiblePane。

但这似乎不起作用..可能是什么原因？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:39:45.553

可折叠窗格包含在哪种布局中？有时布局管理器会阻止窗格折叠。如果我将 JXCollapsiblePane 放入带有 BorderLayout 的 JPanel 的 NORTH 部分，我将获得最好的体验。如果这没有帮助，请发布一个小代码示例，以便其他人也可以尝试。

# java - Apache POI - 使用图像将 *.doc 转换为 *.html

> ID：13815119
> 
> 赞同：4
> 
> 时间：2012-12-11T06:56:00.570
> 
> 标签：java, apache-poi, doc

有一个包含一些图像的 DOC 文件。如何将其转换为带有图像的 HTML？

我尝试使用这个例子： [Convert Word doc to HTML programmatically in Java](https://stackoverflow.com/questions/227236/convert-word-doc-to-html-programmatically-in-java)

```
public class Converter {
    ...

    private File docFile, htmlFile;

    try {
        FileInputStream fos = new FileInputStream(docFile.getAbsolutePath()); 
        HWPFDocument doc = new HWPFDocument(fos);       
        Document newDoc = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();

        WordToHtmlConverter wordToHtmlConverter = new WordToHtmlConverter(newDoc) ;
        wordToHtmlConverter.processDocument(doc);

        StringWriter stringWriter = new StringWriter();

        Transformer transformer = TransformerFactory.newInstance().newTransformer();        
        transformer.setOutputProperty(OutputKeys.INDENT, "yes");
        transformer.setOutputProperty(OutputKeys.ENCODING, "utf-8");
        transformer.setOutputProperty(OutputKeys.METHOD, "html");
        transformer.transform(
                    new DOMSource(wordToHtmlConverter.getDocument()),
                    new StreamResult(stringWriter)
        );

        String html = stringWriter.toString();

        try {
            BufferedWriter out = new BufferedWriter(
                new OutputStreamWriter(new FileOutputStream(htmlFile), "UTF-8")
            );     
            out.write(html);
            out.close();
       } catch (IOException e) {
           e.printStackTrace();
       }

       JEditorPane jEditorPane = new JEditorPane();
       jEditorPane.setContentType("text/html");
       jEditorPane.setEditable(false);
       jEditorPane.setPage(htmlFile.toURI().toURL());

       JScrollPane jScrollPane = new JScrollPane(jEditorPane);

       JFrame jFrame = new JFrame("display html file");
       jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
       jFrame.getContentPane().add(jScrollPane);
       jFrame.setSize(512, 342);
       jFrame.setVisible(true);

    } catch(Exception e) {
        e.printStackTrace();
    }
    ...
} 
```

但是图像丢失了。

该类的[文档说明](http://poi.apache.org/apidocs/org/apache/poi/hwpf/converter/WordToHtmlConverter.html)如下`WordToHtmlConverter`：

> ...此实现不会创建图像或指向它们的链接。这可以通过覆盖 `AbstractWordConverter.processImage(Element, boolean, Picture)` 方法来改变。

如何将 DOC 转换为带有图像的 HTML？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-03-24T09:23:44.563

**扩展 WordToHtmlConverter 并覆盖 processImageWithoutPicturesManager**。

```
 import java.util.Base64;

import org.apache.poi.hwpf.converter.WordToHtmlConverter;
import org.apache.poi.hwpf.usermodel.Picture;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
public class InlineImageWordToHtmlConverter extends WordToHtmlConverter {

    public InlineImageWordToHtmlConverter(Document document) {
        super(document);
    }

    @Override
    protected void processImageWithoutPicturesManager(Element currentBlock,
        boolean inlined, Picture picture)
    {
        Element imgNode = currentBlock.getOwnerDocument().createElement("img");
        StringBuilder sb = new StringBuilder();
        sb.append(Base64.getMimeEncoder().encodeToString(picture.getRawContent()));
        sb.insert(0, "data:"+picture.getMimeType()+";base64,");
        imgNode.setAttribute("src", sb.toString());
        currentBlock.appendChild(imgNode);
    }

} 
```

**解析文档时使用新类，如下所示**

```
HWPFDocumentCore wordDocument = WordToHtmlUtils.loadDoc(new FileInputStream("D:/temp/Temp.doc"));    
        WordToHtmlConverter wordToHtmlConverter = new InlineImageWordToHtmlConverter(
                DocumentBuilderFactory.newInstance().newDocumentBuilder()
                        .newDocument());
        wordToHtmlConverter.processDocument(wordDocument); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-11T08:28:57.487

在这种情况下，您最好的选择是使用[Apache Tika](http://tika.apache.org/)，并让它为您包装 Apache POI。Apache Tika 将为您的文档生成 HTML（或纯文本，但您需要针对您的案例的 HTML）。除此之外，它还会为嵌入式资源放置占位符，为嵌入式图像添加 img 标签，并为您提供一种获取嵌入式资源和图像内容的方法。

[Alfresco HTMLRenderingEngine](http://svn.alfresco.com/repos/alfresco-open-mirror/alfresco/HEAD/root/projects/repository/source/java/org/alfresco/repo/rendition/executer/HTMLRenderingEngine.java)中有一个很好的例子。您可能希望查看那里的代码，然后编写自己的代码来做一些非常相似的事情。那里的代码包括一个自定义的 ContentHandler ，它允许编辑 img 标签，重写 src 属性，您可能需要也可能不需要，这取决于您要将图像写到哪里。

# php - mysql查询成功执行但行没有变化

> ID：13815122
> 
> 赞同：1
> 
> 时间：2012-12-11T06:56:23.770
> 
> 标签：php, mysql, phpmyadmin

我在 mysql db 中创建了一个用于更新信息的 php 文件。它将从 html 表单获取输入，然后通过匹配 ID 更新数据。就这个：

```
<?
$con = mysql_connect("localhost","root","");
mysql_select_db("workshop", $con);
$sql = "UPDATE apply 
          SET staffname=' ".$_POST['name']." ', 
              staffno=' ".$_POST['contact']." ',
              staffemail=' ".$_POST['mail']." ',
              staffaddress=' ".$_POST['address']." ',
              paytype=' ".$_POST['paytype']."'
        WHERE 
            staffid=' ".$_POST['ic']." '";
$result = mysql_query($sql);
printf("Records updated: %d\n", mysql_affected_rows());
    if($result){
        echo "Successful";
}
    else {
        echo "ERROR";
}

mysql_close($con);
?> 
```

它执行得很好，但问题是对表行没有影响。即使我在**phpmyadmin**上运行查询，但没有运气！谁能告诉我错误在哪里？谢谢你！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:04:57.627

你的代码中有很多东西要说：

首先你使用 mysql_ API 虽然它已被弃用，你应该使用 PDO 或 mysqli。

然后，您每次都添加空格，这不利于匹配 id。

而且，您很容易受到 sql 注入的影响。

我会给你带有 mysqli api 的代码，因为你只需要去掉“i”就可以得到一个带有 mysql_api 的代码

```
$sql = "UPDATE apply 
      SET staffname='".mysqli_real_escape_string($con,$_POST['name'])."', 
          staffno='".mysqli_real_escape_string($con,$_POST['contact'])."',
          staffemail='".mysqli_real_escape_string($con,$_POST['mail'])."',
          staffaddress='".mysqli_real_escape_string($con,$_POST['address'])."',
          paytype='".mysqli_real_escape_string($con,$_POST['paytype'])."'
    WHERE 
        staffid='".mysqli_real_escape_string($con,$_POST['ic'])."'";
  $result = mysqli_query($con,$sql);
printf("Records updated: %d\n", mysql_affected_rows());
if($result){
    echo "Successful";
}
else {
    echo "ERROR";
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-11T07:11:57.203

使用以下查询：

```
$sql = "UPDATE `apply`
        SET `staffname` = '" . mysql_escape_string($_POST['name']) . "',
            `staffno` = '" . mysql_escape_string($_POST['contact']) . "',
            `staffemail` = '" . mysql_escape_string($_POST['mail']) . "',
            `staffaddress` = '" . mysql_escape_string($_POST['address']) . "',
            `paytype` = '" . mysql_escape_string($_POST['paytype']) . "'
        WHERE `staffid` = '" . mysql_escape_string($_POST['ic']) . "'"; 
```

**编辑**

**使用 PDO 或 mysqli 而不是 mysql_* 函数总是更好，** 但目前上述解决方案可能有效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:07:12.733

代码以非常糟糕的方式打开用于 SQL 注入。请不要在您的网站上使用它。使用 PDO 或 MySQLi 函数。

但是你确实有间距问题。

```
staffid=' ".$_POST['ic']." '"; 
```

应该

```
staffid='".$_POST['ic']."'"; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-11T07:03:38.127

我会小心在生产中使用此代码，因为它看起来容易受到 SQL 注入的影响。我会检查 PDO 以进行安全的 mysql 数据库通信。

[http://www.thegeekstuff.com/2012/02/sql-injection-attacks/](http://www.thegeekstuff.com/2012/02/sql-injection-attacks/)

如果您还没有这样做，请务必记录或回显 $_POST['ic'] 变量，以确保将其设置为您认为的值。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-11T06:59:11.727

您需要提交您的查询或将 autoCommit 标志设置为 true（如果您的上下文中存在这样的事情）。

您的 where 子句是否匹配任何记录？是否`printf("Records updated: %d\n", mysql_affected_rows());`打印一些受影响的行？

正如 artragis 所提到的，由于封闭空间，可能`staffid=' ".$_POST['ic']." '"`与任何记录都不匹配。

# wpf - 将 HTML 内容绑定到 XAML 中的“RichHTMLTextBlock”

> ID：13815131
> 
> 赞同：1
> 
> 时间：2012-12-11T06:57:03.223
> 
> 标签：wpf, xaml

我有一个 WPF 应用程序，我在其中使用 RichTextBox 并将其绑定到数据库中的一个字段，该字段包含作为 HTML 文本的数据。我还为 RichTextBox 应用了***TextFormatter="{StaticResource HtmlFormatter}"***。现在，如果在该字段中，我有一段带有一些 html 样式的段落适用于字体颜色、字体大小等，它们应该以相同的样式出现。但我无法在应用程序中看到字体大小，尽管字体样式和字体颜色被应用。

有人可以帮忙吗？

提前致谢！！！

# c# - 如何为两个函数抛出异常

> ID：13815136
> 
> 赞同：-1
> 
> 时间：2012-12-11T06:57:13.840
> 
> 标签：c#

我有两个功能。如果 FunA 通过异常 FunB 不执行。我在 FunA 代码中放置了 Try catch，如果异常通过 FunA() 显示 FunA 异常。但它没有发生。如何做到这一点？

```
try
{
   FUNA();
   FUNB(); 
}
catch (Exception exp)
{ 
   System.Console.WriteLine("Error has occurred during processing:\n" + exp.ToString());
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-11T06:59:56.933

编辑：刚刚注意到这一点：

> 我在 FunA 代码中放置了 Try catch，如果异常通过 FunA() 显示 FunA 异常。

好吧，您还没有显示`FunA`代码。您已经展示了*调用* `FunA`. 如果您的`FunA`方法*确实*在一个块中包含有问题的代码`try`段，并且是一个合适的`catch`块，并且没有重新抛出，那么异常*不应*传播（除非它是 a `ThreadAbortException`，但这有点特殊）。

但否则不，`FunB`不会执行。这就是 try/catch 的工作原理——当抛出异常时，执行流程离开`try`块，并且不会返回到它停止的地方。如果你*真的*想`FunB`即使`FunA`失败也执行，你需要在块*之后*`catch`调用：

```
try
{
    FunA();
}
catch (IOException e) // Or whatever specific exception you want...
{
    // Logging here... or possibly returning, or rethrowing in some cases
}
FunB(); 
```

请注意我是如何在此处捕获*特定*异常的。您几乎不应该只 catch `Exception`，除非是在一个逻辑操作的顶层（例如 Web 请求或用户启动的操作）。*您可以真正处理*的异常可能相对较少（即您可以纠正的情况），并且有很多您*无法*处理的异常......所以在这些情况下您不应该继续。

显然，您也可以放入`FunB`try/catch 语句。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:04:28.890

如果我正确解释这一点：

> 我在 FunA 代码中放置了 Try catch，如果异常通过 FunA() 显示 FunA 异常。

`FunA()`那么也许您需要在捕获异常后重新抛出异常？

`FunA()`打印后只需在 catch 块内添加：

```
throw; 
```

# java - 接口的Spring依赖注入

> ID：13815139
> 
> 赞同：9
> 
> 时间：2012-12-11T06:57:49.200
> 
> 标签：java, spring, interface, dependency-injection

好吧，我一直在看一些关于 Spring 依赖注入和 MVC 的教程，但我似乎仍然不明白我们如何具体实例化类？

我的意思是，例如，如果我有一个变量

```
@Autowired
ClassA someObject; 
```

我怎样才能让spring创建someObject作为ClassB的一个实例来扩展ClassA？像 someObject = new ClassB();

我真的不明白它在 spring 中是如何工作的，ContextLoaderListener 是自动完成的，还是我们必须创建某种配置类，在其中我们确切地指定 spring 应该将这些类实例化到什么？（在这种情况下，我在教程中的任何地方都没有看到）如果是，那么我们如何指定以及它的外观如何？我们如何配置它以在 web.xml 等中工作？

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-12-11T07:11:24.087

你可以这样做：

界面：

```
package org.better.place

public interface SuperDuperInterface{
    public void saveWorld();
} 
```

执行：

```
package org.better.place

import org.springframework.stereotype

@Component
public class SuperDuperClass implements SuperDuperInterface{
     public void saveWorld(){
          System.out.println("Done");
     }
} 
```

客户：

```
package org.better.place

import org.springframework.beans.factory.annotation.Autowire;

public class SuperDuperService{
       @Autowire
       private SuperDuperInterface superDuper;

       public void doIt(){
           superDuper.saveWorld();
       }

} 
```

现在您已经定义了接口，编写了一个实现并将其标记为组件 -[文档在这里](http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-stereotype-annotations)。现在唯一剩下的就是告诉 spring 在哪里可以找到组件，以便它们可以用于自动装配。

```
<beans ...>

     <context:component-scan base-package="org.better.place"/>

</beans> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:05:48.067

您必须在 applicationContext.xml 文件中指定要创建对象的类的类型，或者您可以直接使用任何注释该类`@Component`，`@Service`或者`@Repository`如果您使用的是最新版本的 Spring。在 web.xml 中，如果您使用基于 xml 的配置，则必须将 xml 文件的路径指定为 servlet 的上下文参数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:01:14.853

是的，您必须提供指定实例的 context.xml 文件。把它交给 ApplicationContext ，它会为你自动装配所有字段。

[http://alvinalexander.com/blog/post/java/load-spring-application-context-file-java-swing-application](http://alvinalexander.com/blog/post/java/load-spring-application-context-file-java-swing-application)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-07-11T13:06:43.207

最佳实践

```
@RestController
@RequestMapping("/order")
public class OrderController {
    private final IOrderProducer _IOrderProducer;

    public OrderController(IOrderProducer iorderProducer) {
        this._IOrderProducer = iorderProducer;
    }

    @GetMapping("/OrderService")
    void get() {
        _IOrderProducer.CreateOrderProducer("This is a Producer");
    }
} 
```

**界面**

```
@Service
public interface IOrderProducer {
    void CreateOrderProducer(String message);
} 
```

**执行**

```
public class OrderProducer implements  IOrderProducer{
    private KafkaTemplate<String, String> _template;

    public OrderProducer(KafkaTemplate<String, String> template) {
        this._template = template;
    }

    public void CreateOrderProducer(String message){
        this._template.send("Topic1", message);
    }
} 
```

您需要在 Spring Boot 中包含 Project Lombok 依赖项

摇篮`implementation 'org.projectlombok:lombok'`

# android - Android：一个监听器来处理 40 个不同的按钮

> ID：13815142
> 
> 赞同：0
> 
> 时间：2012-12-11T06:58:00.500
> 
> 标签：android, sqlite, button, onclicklistener, horizontalscrollview

我的 android 应用程序中有一个**Horizo** ​​ntalScrollView，里面有**40 个按钮**，我想实现一个侦听器，它根据单击的按钮从数据库中检索数据，例如：

> 如果单击了**1**号按钮，则侦听器应从数据库中检索与**第 1 周相关的数据**

我是否必须为每个按钮实现一个侦听器，或者有什么方法可以知道单击了哪个按钮并使用一个侦听器来侦听所有按钮，并更改按钮编号和检索周数？

数据库查询方法

```
DataBaseHelper myDbHelper = new DataBaseHelper(this);
        SQLiteDatabase db = myDbHelper.getReadableDatabase();

        String selectWebQuery = "select * from zweeks where zweeks_id = " + weekSince ;
        Cursor cursor = db.rawQuery(selectWebQuery, null);

        int CurrentDay=(int) (numberOfDaysSince%7);
        if(CurrentDay==0)CurrentDay=7;
        System.out.println("current Day="+CurrentDay);

        String     string1 =null;
        String     string2 = null;
        String     string3 = null;
        String     string4 = null;
        String     string5 = null;
        String     string6 = null;
        String     string7 = null;
        String tags=null;

        if (cursor != null)
                { cursor.moveToFirst();
                string1 = cursor.getString(1);
                string2 = cursor.getString(2);
                string3 = cursor.getString(3);
                string4 = cursor.getString(4);
                string5 = cursor.getString(5);
                string6 = cursor.getString(6);
                string7 = cursor.getString(7);

          String tags1 ="<head><style>body{float:right;text-align:right;word-wrap: break-word; }</style><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /></head><body>";

                switch(CurrentDay){

              case 1:tags=tags1+string1+"<img src=\"file:///android_res/drawable/dottedline.png\" />"+string2+"<br><br>"+string3+"<br><br>"+string4+"<br><br>"+string5+"<br><br>"+string6+"<br><br>"+string7+"<img src=\"file:///android_res/drawable/line.png\" /><br>" ;

              break;
              case 2:tags=tags1+string2+"<br><img src=\"file:///android_res/drawable/dottedline.png\" /><br>"+string3+"<br><br>"+string4+"<br><br>"+string5+"<br><br>"+string6+"<br><br>"+string7+"<br><img src=\"file:///android_res/drawable/line.png\" /><br>"+string1+"<br>" ;

              break;
              case 3:tags=tags1+string3+"<br><img src=\"file:///android_res/drawable/dottedline.png\" /><br>"+string4+"<br><br>"+string5+"<br><br>"+string6+"<br><br>"+string7+"<br><img src=\"file:///android_res/drawable/line.png\" /><br>"+string1+"<br><br>"+string2+"<br>" ;

              break;
              case 4:tags=tags1+string4+"<br><img src=\"file:///android_res/drawable/dottedline.png\" /><br>"+string5+"<br><br>"+string6+"<br><br>"+string7+"<br><img src=\"file:///android_res/drawable/line.png\" /><br>"+string1+"<br><br>"+string2+"<br><br>"+string3+"<br><br>" ;

              break;
              case 5:tags=tags1+string5+"<br><img src=\"file:///android_res/drawable/dottedline.png\" /><br>"+string6+"<br><br>"+string7+"<br><img src=\"file:///android_res/drawable/line.png\" /><br>"+string1+"<br><br>"+string2+"<br><br>"+string3+"<br><br>"+string4+"<br><br>" ;

              break;
              case 6:
                  tags=tags1+string6+"<br><img src=\"file:///android_res/drawable/dottedline.png\" /><br>"+string7+"<br><img src=\"file:///android_res/drawable/line.png\" /><br>"+string1+"<br><br>"+string2+"<br><br>"+string3+"<br><br>"+string4+"<br><br>"+string5+"<br><br>" ;

              break;
              case 7:
                  tags=tags1+string7+"<br><img src=\"file:///android_res/drawable/dottedline.png\" /><br>"+string1+"<br><br>"+string2+"<br><br>"+string3+"<br><br>"+string4+"<br><br>"+string5+"<br><br>"+string6+"<br><br>" ;

              break;

            }

          } 

      webView.loadDataWithBaseURL("file:///android_res/drawable/", tags, "text/html", "UTF-8", null);
} 
```

这句话应该是动态的，取决于点击的按钮

*   String selectWebQuery = "select * from zweeks where zweeks_id = " + weekSince ;

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:02:59.933

如果您制作`Activity`工具`onClickListener`，然后您可以区分单击了哪个按钮，这是可能的。这种方法的一个例子：

```
public class FirstActivity extends Activity implements OnClickListener {.....

@Override
public void onClick(View v) { // Parameter v stands for the view that was clicked.  

    // getId() returns this view's identifier.
    if(v.getId() == R.id.leftButton){
        // setText() sets the string value of the TextView
        changingTextView.setText("You clicked First");
    }else if(v.getId() == R.id.rightButton){
        changingTextView.setText("You clicked Second");
    }
} 
```

您可以通过为您的按钮设置标签然后使用类似的东西来使它变得更好：

```
int numberOfWeek=v.getTag(); 
```

# php - 使用区域语言生成图像

> ID：13815143
> 
> 赞同：2
> 
> 时间：2012-12-11T06:58:06.260
> 
> 标签：php, gd

嗨，我正在尝试使用区域语言生成图像。对于普通英语，我这样做

```
// Set the content-type
header('Content-Type: image/png');
// Create the image
$im = imagecreatetruecolor(400, 30);
// Create some colors
$white = imagecolorallocate($im, 255, 255, 255);
$grey = imagecolorallocate($im, 128, 128, 128);
$black = imagecolorallocate($im, 0, 0, 0);
imagefilledrectangle($im, 0, 0, 399, 29, $white);
// The text to draw
$text = 'Testing...';
// Replace path by your own font path
$font = 'arial.ttf';
// Add some shadow to the text
imagettftext($im, 20, 0, 11, 21, $grey, $font, $text);
// Add the text
imagettftext($im, 20, 0, 10, 20, $black, $font, $text); 
// Using imagepng() results in clearer text compared with imagejpeg()
imagepng($im);
imagedestroy($im); 
```

但是对于区域语言它不起作用......我该怎么做

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T08:12:59.350

我无法在我的机器上重现这段代码的问题。

如果字符串来自数据库，则很可能存在字符集问题，请不要忘记使用：

```
$dbh = new PDO("mysql:$connstr",  $user, $password);
$dbh->exec("set names utf8"); 
```

连接数据库时。

它应该可以解决您的问题。

# c# - 警告 CA1065 Microsoft 设计未实现异常

> ID：13815148
> 
> 赞同：3
> 
> 时间：2012-12-11T06:58:17.583
> 
> 标签：c#, code-analysis, notimplementedexception

我在谷歌搜索但找不到正确的答案。有谁知道如何处理这些错误？错误是：

```
 public override ReadOnlyCollection<SecurityKey> SecurityKeys
    {
        get { throw new NotImplementedException(); }
    } 
```

> 警告 20 CA1065：Microsoft.Design：“someToken.SecurityKeys.get()”创建类型为“NotImplementedException”的异常，这是一种不应在属性中引发的异常类型。如果可能引发此异常实例，请使用不同的异常类型，将此属性转换为方法，或更改此属性的逻辑以使其不再引发异常。D:\some\Security\someUserToken.cs

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-18T15:28:58.963

如果您因为没有编写属性而抛出它，即您将其视为 Not(Yet)ImplementedException，那么您需要实现该属性。

但是，如果您向消费者发出此属性不合适的信号，请改用 NotSupportedException。

# c - C中的全局指针

> ID：13815151
> 
> 赞同：3
> 
> 时间：2012-12-11T06:58:30.627
> 
> 标签：c, pointers, scheme, interpreter

我是 C 的新手，我目前正在用 C 实现一个 Scheme 解释器。我接近尾声了，但一个问题困扰着我，我还没有解决。

我想要一个指向结构的“globalEnvironment”指针，该指针在程序运行期间保持不变并且也被修改（不是常量）。

```
/****************************************************************
 Creates the List as a pointer to the conscell structure
 */
typedef struct conscell *List;

/****************************************************************
 Creates a conscell structure, with a char pointer (symbol) and two pointers to
 * conscells (first and rest)
 */
struct conscell {
    char *symbol;
    struct conscell *first;
    struct conscell *rest;

};

List globalEnvironment;

/****************************************************************
 Function: globalVariables()
 --------------------
 This function initializes the global variables
 */
void globalVariables() {

globalEnvironment = malloc(sizeof (struct conscell));
globalEnvironment->symbol = NULL;
globalEnvironment->first = NULL;
globalEnvironment->rest = NULL;

} 
```

如您所见，“List”是一个指向 conscell 结构的指针。所以我想要的只是 globalEnvironment List 是全球性的。

问题是我不能在那里做 malloc 。如果我尝试以下操作：

```
List globalEnvironment = malloc(sizeof (struct conscell)); 
```

而不仅仅是“列出 globalEnvironment;” 它给出了一个错误，“初始化元素不是常量”

为了解决这种情况，我创建了一个新函数“globalVariables”，它在程序开始时运行，初始化 globalEnvironment 并为其分配内存。但它并没有像我预期的那样工作，并且我不断收到其他功能的分段错误错误，我没有在这里编写以保持简单。

是否有另一种更简单的方法来声明指向 C 中结构的指针（不是常量）？

希望有人能帮忙，谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-11T07:26:40.370

`malloc`当您应该只使用全局数据时，您似乎正在尝试这样做。你可以试试

```
struct conscell globalEnvironment; 
```

只要记住永远不要`free`它。

如果您需要一个指针句柄，以便您可以推送列表中的单元格：

```
struct conscell _globalEnvironment;
List globalEnvironment = &_globalEnvironment; 
```

不过，请记住永远不要`free` `_globalEnvironment`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:05:38.580

`malloc()`是一个函数并调用任何函数（在运行时完成），因此它必须位于`main()`或其他函数定义中。

全局变量也必须有初始化列表必须是一个常量表达式。

```
ISO :c99 , 6.5.2.5 Compound literals : paragraph 3rd of constraints, 
```

3
`If the compound literal occurs outside the body of a function, the initializer list shall consist of constant expressions.`

`malloc()`因此，当您在`List`任何函数体之外调用指针时，您会收到该错误。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-11T09:54:53.287

我认为这是某种链表或类似的动态 ADT，这就是您要使用 malloc 的原因。

这就是您如何通过正确的面向对象的程序设计来实现此功能：

conscell.h

```
/****************************************************************
 Creates a conscell structure, with a char pointer (symbol) and two pointers to
 * conscells (first and rest)
 */
typedef struct conscell {
    char *symbol;
    struct conscell *first;
    struct conscell *rest;
} conscell_t;

void conscell_init (void);
void conscell_cleanup (void);
void conscell_add (something); // function that accesses the object 
```

conscell.c

```
#include "conscell.h"
#include <stdlib.h>

static conscell_t* environment;

void conscell_init() 
{
  environment = malloc(sizeof (conscell_t));

  if(environment == NULL)
  {
    // error handling
  }

  environment->symbol = NULL;
  environment->first  = NULL;
  environment->rest   = NULL;
}

void conscell_cleanup (void)
{
  // perform all custom freeing of dynamic memory here

  free(environment);
  environment = NULL;
}

void conscell_add (something)
{
  // do something with "environment" here.
} 
```

# selenium - 如何使用类属性识别 Selenium IDE 中的文本字段

> ID：13815154
> 
> 赞同：0
> 
> 时间：2012-12-11T06:58:31.150
> 
> 标签：selenium

假设我有一个文本区域：`

```
<body contenteditable="true" class="html-editor portlet portlet-blogs cke_show_borders" spellcheck="false"><p><br type="_moz"></p></body>` 
```

如您所见，没有 id 所以我想使用类属性来识别它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-10T07:48:48.620

Try this

```
css=tag.class

tag=HTML tage of the element

class=class of the element

type this in target

css=body.html-editor portlet portlet-blogs cke_show_borders 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T11:00:34.173

您必须找到文本字段的 Xpath，使用 Xpath 来识别文本字段和 selenium ide，您必须编写以下命令

```
type|Xpath of text field | your content 
```

您可以在FF浏览器中安装firepath插件并通过firebug获取文本框的xpath，例如：`//*[@id='search']/div/input`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:10:22.593

用这个 ：

```
//body[@class='html-editor portlet portlet-blogs cke_show_borders'] 
```

# ios - 最初在 ios sdk 中以横向模式打开视图控制器

> ID：13815162
> 
> 赞同：0
> 
> 时间：2012-12-11T06:58:57.530
> 
> 标签：ios, uiviewcontroller

我正在使用 ios SDK 5

我正在像这样从父视图控制器推送视图控制器

```
DetailsViewController *detailController = [[DetailsViewController alloc] initWithNibName:@"DetailsViewController" bundle:nil] ;
[[UIApplication sharedApplication] setStatusBarOrientation:UIInterfaceOrientationLandscapeLeft animated:YES];
[self.navigationController pushViewController:detailController animated:YES]; 
```

因为我想以横向模式打开我的新控制器。我的父视图控制器处于 potrait 模式，所以我设置为

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return YES;
} 
```

在我的子视图控制器中，我将其设置为

```
 - (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
    {
         return interfaceOrientation == UIInterfaceOrientationLandscapeLeft || interfaceOrientation == UIInterfaceOrientationLandscapeRight;
    } 
```

但是当我的子视图控制器打开时，它仍然会旋转到横向模式，但是像滚动视图和它的子视图这样的内部视图仍然处于 potrait 模式。我已经阅读了很多类似的问题并尝试了它们，但它们都不适合我。请指出正确的方向，以了解如何在 viewcontroller 中旋转所有视图

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:01:59.783

换个方法就好了

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
     return interfaceOrientation == UIInterfaceOrientationLandscapeLeft || interfaceOrientation == UIInterfaceOrientationLandscapeRight;
} 
```

经过，

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
     return  UIInterfaceOrientationIsPortrait(interfaceOrientation);
} 
```

# javascript - Jquery 从用户在屏幕上的位置滚动一个像素

> ID：13815163
> 
> 赞同：19
> 
> 时间：2012-12-11T06:59:01.693
> 
> 标签：javascript, jquery, html, css, scroll

好的，这是场景。我有一个单页网站，其中可能部分使用锚链接。当用户在辅助布局（页面）上并且当他们再次单击以转到主页上的某个部分时，由于某种原因，图形在滚动发生之前无法正确加载。我要做的就是每当加载主布局时，无论它加载到哪个锚点，只需向上或向下滚动页面 1 个像素。

```
 $.scrollTo({ top: '+=100px', left: '+=0px' }, 800); 
```

我尝试了上面的方法，但这段代码只是将用户从顶部拉出 100 像素。我不希望这种情况发生，即不是从顶部，而是从用户在屏幕上的任何位置。

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-12-11T07:24:22.697

使用 jquery scrollTop() 将滚动位置设置为当前滚动位置 + 1：

```
$(window).scrollTop($(window).scrollTop()+1); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2018-05-08T06:33:18.787

我有一个类似的问题。我想向下滚动 1 个像素，然后向上滚动 1 个像素，因此希望用户根本不会注意到任何内容。我这样做了：

```
window.scrollBy(0, 1); // 0 pixels horizontal and 1 pixel down
window.scrollBy(0, -1); // 0 pixels horizontal and 1 pixel up 
```

更新：但我最终可能会改用 JQuery。我想要的只是触发滚动事件，我可以这样做：

```
$(window).scroll(); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-12-11T07:38:00.660

一个没有 jQuery 开销的纯 JavaScript 解决方案：

```
window.scrollY += 100; 
```

使用 jQuery（和精美的动画）：

```
var cur = $(window).scrollTop();
$(window).animate({scrollTop: cur + 100}); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-01-08T14:58:21.883

```
$("html, body").animate({scrollTop: ($(window).scrollTop() + 1)}); 
```

# spring - 范围“会话”对当前线程不活动；如果您打算从单例中引用它，请考虑为此 bean 定义一个作用域代理

> ID：13815165
> 
> 赞同：1
> 
> 时间：2012-12-11T06:59:15.377
> 
> 标签：spring, jsf-2, spring-security

我使用带有 Spring 安全性的 JSF。我实施它。
我的代码：

```
@Named("userDetailsManagerImpl")
@Scope("application")
public class UserDetailBusinessImpl implements UserDetailsService {
    @Inject
    private MenuBackingBean menu;
} 
```

一切似乎都很好。但是我必须将 MenuBackingBean 定义为应用程序范围。我只想要它的会话范围。所以我将范围更改为会话，但出现以下错误：
原因：org.springframework.beans.factory.BeanCreationException：创建名称为“userDetailsManagerImpl”的 bean 时出错：范围“会话”对于当前线程无效；如果您打算从单例中引用它，请考虑为该 bean 定义一个范围代理，
我认为此错误是由 spring security set application for default scope 引起的。
我在谷歌上搜索但没有解决这个问题（也许我没有正确的关键字搜索）。请帮我解决，谢谢
我使用的更多信息：

*   JSF 2.0
*   Spring 安全 3.1.2
*   从 JSR 330 命名和注入
*   springframework 包中的范围注释

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T11:05:30.717

我想你在某处有这个代码：

```
@Inject
private YourSessionBean yourSessionBean;

// later in some method
this.yourSessionBean.doSomething(); 
```

尝试在所有这些情况下使用 javax.inject.Provider：

```
@Inject
private Provider<YourSessionBean> yourSessionBeanProvider;

// later in some method
this.yourSessionBeanProvider.get().doSomething(); 
```

# .htaccess - .htaccess 控制从文件夹中删除

> ID：13815166
> 
> 赞同：0
> 
> 时间：2012-12-11T06:59:17.437
> 
> 标签：.htaccess, mod-rewrite

我有一个在根文件夹上运行的 codeigniter 项目。在名为 ems2 的文件夹上的同一服务器上，另一个项目正在运行。但是由于 codeigniter 项目的根 .htaccess，ems2 项目无法正常工作。如何从 ems2 文件夹中删除 .htaccess 控制？

我在根目录下的 .htaccess 文件有以下代码

```
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /

RewriteCond %{HTTP_HOST} !^www\.
RewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]

#Removes access to the system folder by users.
#Additionally this will allow you to create a System.php controller,
#previously this would not have been possible.
#'system' can be replaced if you have renamed your system folder.
RewriteCond %{REQUEST_URI} ^codeigniter.*
RewriteRule ^(.*)$ /index.php?/$1 [L]

#When your application folder isn't in the system folder
#This snippet prevents user access to the application folder
#Submitted by: Fabdrol
#Rename 'application' to your applications folder name.
RewriteCond %{REQUEST_URI} ^uz\-mi.*
RewriteRule ^(.*)$ /index.php/$1 [L]

#Checks to see if the user is attempting to access a valid file,
#such as an image or css document, if this isn't true it sends the
#request to index.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond $1 !^(index\.php|images|css|style|uploads|js|robots\.txt)
RewriteRule ^(.*)$ index.php/$1 [L]
  </IfModule>

  <IfModule !mod_rewrite.c>
# If we don't have mod_rewrite installed, all 404's
# can be sent to index.php, and everything works as normal.
# Submitted by: ElliotHaughin

   ErrorDocument 404 /index.php
  </IfModule> 

  RewriteCond %{HTTP_HOST} ^encg\.ae$ [OR]
  RewriteCond %{HTTP_HOST} ^www\.encg\.ae$
  RewriteRule ^/?$ "http\:\/\/www\.abc\.com\/encg" [R=301,L]

  RewriteCond %{HTTP_HOST} ^ncg\.ae$ [OR]
  RewriteCond %{HTTP_HOST} ^www\.ncg\.ae$
  RewriteRule ^/?$ "http\:\/\/www\.abc\.com\/encg" [R=301,L] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:40:12.080

您可以将一个新的简单`.htaccess`文件添加到具有“NOP”内容的 ems2 项目文件夹，以停止处理`.htaccess`来自父文件夹的文件。

```
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
</IfModule> 
```

# java - 在一种测试方法的方法之后是否有 JUNIT 注释可以跳过？

> ID：13815167
> 
> 赞同：2
> 
> 时间：2012-12-11T06:59:18.880
> 
> 标签：java, junit, annotations

我在一个测试类中有 5 个测试方法，用`@Test`. 我也有`@Before`方法`@After`。有没有办法`@After`只为第一个 Test 方法跳过该方法并在其余部分运行它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T10:09:45.643

1.  如果您希望它有点通用，请在 @Before 中将变量“afterToBeLaunched”设置为 false。在每个需要@After 的测试中，将其设置为 true。当然在@After的开头检查它，如果它是假`return`的，方法。
2.  如果您在 4.7 版本之后使用 JUnit，请使用 @Rules。（[在 JUnit 中的每个 '@Test' 之后和每个 '@After' 之前应用 '@Rule'](https://stackoverflow.com/questions/12078982/rule-applies-to-before-after-in-junit)）您可以使用 Rule 而不是 @After 并使用[TestName](http://kentbeck.github.com/junit/javadoc/4.10/org/junit/rules/TestName.html)，您可以在那里读取测试的名称并根据目前结束测试。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-04-06T13:46:47.370

不久前有人问过这个问题，但是在 JUnit 的第 5 版（JUnit Jupiter）中，我们可以使用`@Tag`and`TestInfo`来完成同样的事情。这个想法是向不需要`@AfterEach`执行的测试添加一个标签，并用于`TestInfo`确定当前测试是否包含该标签。在代码中，这可能看起来像

```
class TestSuite {
    @BeforeEach
    void beforeEach() {
        System.out.println("BeforeEach");
        // Set-up logic.
    }

    @AfterEach
    void afterEach(TestInfo testInfo) {
        if(testInfo.getTags().contains("SkipCleanup")) {
            return;
        }

        System.out.println("AfterEach");

        // Perform cleanup logic.
    }

    @Test
    @Tag("SkipCleanup")
    void myTestWithoutCleanup() {
        System.out.println("First Test");
        // Test logic.
    }

    @Test
    void myTestWithCleanup() {
        System.out.println("Second Test");
        // Test logic.
    }

    @Test
    void myOtherTestWithCleanup() {
        System.out.println("Third Test");
        // Test logic.
    }
} 
```

上面的输出看起来像

> 在每个之前
> 
> 第一次测试
> 
> 在每个之前
> 
> 第二次测试
> 
> 每次之后
> 
> 在每个之前
> 
> 第三次测试
> 
> 每次之后

# socket.io - 每次html页面刷新时添加的socket io用户连接？

> ID：13815177
> 
> 赞同：7
> 
> 时间：2012-12-11T07:00:10.820
> 
> 标签：socket.io

我有一个添加了 socket io 和 Express 的 nodeJS 应用程序，如下所示：

服务器：

```
var storeEachSocket=[];
var io = require('socket.io').listen(80);
io.sockets.on('connection', function (socket) {
    storeEachSocket.push(socket);
    console.log(storeEachSocket.length);
    var clients = io.sockets.clients(); //clients is an array
    console.log(clients.length);
}); 
```

客户：

```
<script src="/socket.io/socket.io.js"></script>
<script>
var socket = io.connect('http://localhost');
</script> 
```

目前服务器只提供一个 html 页面。我发现，在 html 和服务器之间建立了套接字连接之后（此时 storeEachSocket.length 为 1 并且 clients.length 为 1 ），如果我刷新这个 html 页面， storeEachSocket.length 和 clients.length 都将为 2 ，说明这个html和服务器之间有2个socket连接。我想知道这正常吗？即使在我创建第二个套接字连接之后，第一个套接字连接也不会消失？

而且我也想知道，如果我打算跟踪这个用户（html），如果一个用户使用了两个套接字连接我该怎么办？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-12T14:52:35.320

刷新页面不会添加新连接，它基本上会删除当前连接并创建另一个新连接。我认为您应该添加一个侦听器来断开连接事件并删除数组中已断开连接的套接字。我也不相信 io.sockets.clients() 在刷新后会返回 2，因为我已经在我的机器上对其进行了测试。

如果要跟踪用户，则需要有一个用户 ID 并将其存储到键/值对集合中。然后，您可以通过检查授权处理程序中的集合来限制用户创建 2 个连接。

```
 var storeEachSocket = {};
    io.set('authorization', function(handshake, accept){
      var user = handshake.query;
      if(user.id in storeEachSocket)
         accept('User already connected', false);
      else
         accept(null, true);
    });

    io.on('connection', function(socket){
        var user = socket.handshake.query;
        storeEachSocket[user.id] = socket;
    });

    io.on('disconnect', function(socket){
       var user = socket.handshake.query;
       delete storeEachSocket[user.id]
    }); 
```

# hive - 如何更新/删除 Hive 分区？

> ID：13815179
> 
> 赞同：84
> 
> 时间：2012-12-11T07:00:21.407
> 
> 标签：hive, hiveql

在**Hive**中将分区添加到**外部表**后，如何更新/删除它？

 *** * *

## 回答 #1

> 赞同：179
> 
> 时间：2012-12-18T02:59:30.363

您可以通过以下方式更新 Hive 分区：

```
ALTER TABLE logs PARTITION(year = 2012, month = 12, day = 18) 
SET LOCATION 'hdfs://user/darcy/logs/2012/12/18'; 
```

该命令不会移动旧数据，也不会删除旧数据。它只是将分区设置为新位置。

要删除分区，您可以执行

```
ALTER TABLE logs DROP IF EXISTS PARTITION(year = 2012, month = 12, day = 18); 
```

希望能帮助到你！

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2019-05-12T12:30:10.623

此外，您可以从一个语句中[删除多个分区（在 Impala/Hive 中删除多个分区](https://stackoverflow.com/questions/45543396/dropping-multiple-partitions-in-impala-hive)）。

从上面的链接中提取：

```
hive> alter table t drop if exists partition (p=1),partition (p=2),partition(p=3);
Dropped the partition p=1
Dropped the partition p=2
Dropped the partition p=3
OK 
```

**编辑1：**

此外，您可以使用条件符号（>、<、<>）删除批量，例如：

```
Alter table t 
drop partition (PART_COL>1); 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2020-05-14T19:27:34.337

```
Alter table table_name drop partition (partition_name); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-12-11T21:01:32.960

您可以将文件复制到外部分区所在的文件夹中，也可以使用

`INSERT OVERWRITE TABLE tablename1 PARTITION (partcol1=val1, partcol2=val2...)...`

陈述。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-11-19T15:13:20.007

您可能还需要使包含表的数据库处于活动状态

```
use [dbname] 
```

否则你可能会得到错误（即使你指定数据库，即 dbname.table ）

> FAILED 执行错误，从 org.apache.hadoop.hive.ql.exec.DDLTask 返回代码 1。无法更改分区。无法更改分区，因为表或数据库不存在。**

# javascript - 网络浏览器可以自己弹出一个空白警告框吗？

> ID：13815185
> 
> 赞同：0
> 
> 时间：2012-12-11T07:00:43.923
> 
> 标签：javascript, jquery, jquery-selectors, browser, flot

在我伙伴的程序中，当`<select>`标签发生变化时，它会再次以该`option`值重定向到该页面，并且它会被刷新，并使用`JQuery flot`.

但是在重定向之后，在刷新和绘制图表之前，有时会弹出一个警告框。

小伙伴说程序没问题，一定是网页浏览器因为解释错误或者代码下载不完整而弹出一个空白框。

我认为，问题应该出在 JavaScript 代码中，对此我不确定。有没有人有同样的经历？网络浏览器可以弹出一个空白警告框吗？

感谢任何考虑这一点的人。

# java - 在 Selenium Webdriver 中切换到父窗口

> ID：13815187
> 
> 赞同：1
> 
> 时间：2012-12-11T07:00:52.707
> 
> 标签：java, selenium, webdriver

我是硒的新手，所以我不知道天气会问这个问题，如果我错了请纠正我..

我有一个网站，单击按钮会在新选项卡中打开链接该父选项卡但该选项卡没有被聚焦，所以我看不到我的代码是如何在父窗口中执行的，因为我知道使用 java 机器人按 Crlt +1 但是有没有其他方法可以让焦点回到我的父窗口，以便我可以看到正在发生的事情......

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T12:08:29.603

这就是我使用的：

```
webDriver.switchTo().window(webDriver.getWindowHandles().toArray()[0]) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T05:36:00.860

要将窗户带到所有窗户的前面，我想你可以试试这个。

```
webdriver .manage().window().maximize(); 
```

# google-app-engine - 突然在实时 Google App Engine Java 上出现 ClassDefNotFoundException

> ID：13815188
> 
> 赞同：1
> 
> 时间：2012-12-11T07:00:53.803
> 
> 标签：google-app-engine, jdo, datanucleus

突然我得到一个

```
 java.lang.NoClassDefFoundError: Could not initialize class com.project.gae.dao.PMF 
```

有趣的是（虽然我不认为这很有趣）它只是偶尔发生一次，我还没有对应用程序引擎进行新的部署，有时它只是抛出这个异常，有时它不会。

我已经使用 maven v.0.9.4 的 google app engine 插件在 maven 中创建了该项目，并且它总是可以正常工作。这是平台上的已知问题吗？我当然希望不会，因为这会让 GAE/J 对我以后完全无用。

PMF 是我的 persistenceManagerFactory 类，它是根据官方谷歌应用引擎文档编写的，本地化它总是可以工作，但是当我将它推送到实时环境时它有时会工作......我不知道这可能会导致什么，所以如果有人可以帮忙我将不胜感激。

谢谢

J。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:55:29.670

NoClassDefFoundError 不一定是“找不到类”。见[http://javarevisited.blogspot.co.uk/2011/06/noclassdeffounderror-exception-in.html](http://javarevisited.blogspot.co.uk/2011/06/noclassdeffounderror-exception-in.html)

# jquery - 如何通过表单集合的id在formcollection中通过jquery获取按钮的值？

> ID：13815191
> 
> 赞同：0
> 
> 时间：2012-12-11T07:01:11.890
> 
> 标签：jquery

我有formcollection和两个按钮

```
 <form id="frmSubmitTax" method="post">
  <input type="submit" id="btnTaxSave" value="Save" /> 
 <input type="submit" id="btnTaxNext" value="Next" />
 </form> 
```

我通过 jquery 提交表单，我想在表单提交 jquery 代码时获取按钮的值

```
 $('frmSubmitTax').live('submit', function (e) {
 get value of button that which button is submitted......
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:02:35.093

您需要点击最后一个按钮，它将是导致提交的按钮。

[**现场演示**](http://jsfiddle.net/rajaadil/cKHwA/1/)

```
var target = null;
$('#frmSubmitTax :input').click(function() {
    target = this;
});
$('#frmSubmitTax').submit(function() {
    alert(target.value);
});​ 
```

**[使用on](http://api.jquery.com/on/)**编辑动态生成的内容

**[现场演示](http://jsfiddle.net/rajaadil/cKHwA/2/)**

```
var target = null;
$('#frmSubmitTax').on('click', ':input',function() {
    target = this;
});

$(document).on('submit', '#frmSubmitTax',function() {
    alert(target.value);
});​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:15:31.390

您的 HTML 中有错误。你应该改变

`<input type="submit" id="btnTaxNext"> value="Next" />`

到

`<input type="submit" id="btnTaxNext" value="Next" />`

对于 jQuery 部分：

```
$('#frmSubmitTax').live('submit', function (e) {
 console.log($(this).find('#btnTaxSave').val(); //first value
 console.log($(this).find('#btnTaxNext').val(); //second value
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-11T11:01:35.340

试试这个

```
$('frmSubmitTax').live('submit', function (e) {
   var id= $(e.target).attr('id');
  alert(id);
}); 
```

未测试。

另一种解决方案

检查现场工作演示[http://jsfiddle.net/fKppt/162/](http://jsfiddle.net/fKppt/162/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-11T07:03:52.853

试试这个

```
 $('#frmSubmitTax').live('submit', function (e) {

     $(this).find('#btnTaxSave') // for accessing button inside form scope

  } 
```

# vb.net - VB.NET 2010 将图片从 OpenFile 对话框传递到另一个表单

> ID：13815195
> 
> 赞同：2
> 
> 时间：2012-12-11T07:01:30.740
> 
> 标签：vb.net

我正在创建一个打开自定义表单对话框的贷款程序，您选择图片，单击打开，然后需要在对话框中点击确定后将其传递给另一个表单以使用。当我从自定义对话框表单中单击徽标文件按钮时，这是我的代码。

该表单称为对话框表单，我需要将图片发送到 NewLoanCaculatorForm 以填充表单中的图片区域。

```
Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles btnLogoFile.Click

Dim mystream As Stream = Nothing

    'Open the File to pickup icon for Loan Calculator
    Dim OpenFileDialog1 As New OpenFileDialog

    'Set up and display the open File Dialog
    With OpenFileDialog1
        'Begin in the current Directory
        .InitialDirectory = "C:\"
        .Filter = "Text Files (*.txt)|*.txt|All Files (*.*)|*.*"
    End With

    If OpenFileDialog1.ShowDialog() = System.Windows.Forms.DialogResult.OK Then
        Try
            mystream = OpenFileDialog1.OpenFile()
            If (mystream IsNot Nothing) Then
                ' I believe the coded goes here but I'm stuck 
            End If
        Catch Ex As Exception
            MessageBox.Show("Cannot read file from disk. Original error: " & Ex.Message)
        Finally
            ' Check this again, since we need to make sure we didn't throw an exception on open. 
            If (mystream IsNot Nothing) Then
                mystream.Close()
            End If
        End Try
    End If

End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:32:48.380

这就是我通常做这样的事情的方式：

在 DialogForm 中创建全局变量：

```
Public Property sPath as String 
```

或者

```
Public Property imgLogo as Image 
```

要获取图像，请执行以下操作：

```
imgLogo = Image.FromFile(OpenFileDialog1.FileName) 
```

或者干脆做：

```
sPath = OpenFileDialog1.FileName 
```

代替

```
mystream = OpenFileDialog1.OpenFile() 
```

然后，当您完成此操作后，您可以通过单击“确定”按钮或您所称的任何名称来关闭表单。

然后在您调用 DialogForm 的主窗体 NewLoanCaculatorForm 中，您只需执行以下操作：

```
img = DialogForm.imgLogo 
```

或者

```
path = DialogForm.sPath
img = Image.FromFile(path) 
```

取决于您在 DialogForm 中存储信息的方式。

此外，如果您正在寻找图像，我建议您不要在过滤器中包含 .txt。那将严重破坏执行。

# android-widget - 如何调整 Android 小部件的大小？

> ID：13815197
> 
> 赞同：2
> 
> 时间：2012-12-11T07:01:34.253
> 
> 标签：android-widget, widget

我是小部件开发的新手..我设法构建了一个无法调整大小的小部件..我希望它像 - 用户设法根据自己调整大小...有人可以告诉我如何制作它可能的？

谢谢朋友。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T19:55:08.927

AppWidgetProviderInfo 中的“android:resizeMode”标签指定用户是否可以垂直、水平、同时调整窗口小部件的大小或两者都不能。

文档可以在这里找到：http: [//developer.android.com/guide/topics/appwidgets/index.html#MetaData](http://developer.android.com/guide/topics/appwidgets/index.html#MetaData)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-01-23T05:43:46.247

在 AppWidgetProviderInfo.xml 中

```
android:resizeMode="horizontal|vertical" 
```

//用于调整小部件的水平和垂直调整大小

或者

```
android:resizeMode="none" 
```

//用于禁用小部件的调整大小

# nlp - 基本句子结构

> ID：13815200
> 
> 赞同：0
> 
> 时间：2012-12-11T07:01:55.517
> 
> 标签：nlp

我在 NLP 项目中工作，我正在寻找解析器来从复杂的句子中构造简单的句子，用 C# 编写。由于句子可能具有复杂的语法结构和多个嵌入的从句。任何帮助？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T11:08:39.993

文本摘要和句子简化是一个非常开放的研究领域。[维基百科](http://en.wikipedia.org/wiki/Automatic_summarization)有关于[两者](http://en.wikipedia.org/wiki/Text_simplification)的文章，你可以从那里开始。当心：这是一个难题，最先进的系统可能比您预期的要差得多。*没有一个现成的软件可以让您抓住并解决所有问题*。你会在更基本的句子上取得一些成功，但随着你的复杂句子变得更复杂，性能会下降。查看 Wikipedia 或 google 上引用的文章以了解可能的情况。我的印象是大多数现成的软件包都是用于学术目的，可能需要一些工作才能运行。

# android - 方向更改后片段 saveInstanceState 为空

> ID：13815207
> 
> 赞同：11
> 
> 时间：2012-12-11T07:02:10.913
> 
> 标签：android, android-fragments

我有一个带有操作栏选项卡的活动。每个选项卡都包含一个片段。现在，当我旋转我的设备时，我相应片段中的捆绑包将变为空。当我使用 android 3.2 后的设备时会注意这一点，但是当设备是 Andoird3.0 时会发生这种情况。解决这个问题后，我感到头疼。我检查了SO上的各种链接，但没有帮助。尽管我已经提供了足够的细节，但仍然会在用户要求代码片段的各种情况下提供一些代码片段。

在我的片段类中，我存储了这个值

```
 @Override
    public void onSaveInstanceState(Bundle outState)
    {
        super.onSaveInstanceState(outState);
        outState.putBoolean("textboxVisible", true);
    } 
```

这是存储一个布尔变量，它检索如下。

```
/**
 * Function called after activity is created. Use this
 * method to restore the previous state of the fragment
 */
     @Override
public void onActivityCreated(Bundle savedInstanceState)
{
    super.onActivityCreated(savedInstanceState);
    if (savedInstanceState != null) 
    {
        //restore the state of the text box
        boolean textboxVisible = savedInstanceState.getBoolean("textboxVisible");
        if (textboxVisible) 
        {
            //do some stuff
        }                   
    }
} 
```

但在旋转后**savedInstanceState**将变为空。我不知道出了什么问题。我在一些文档中读到，低于 3.2 的片段的 onCreateView() 不使用捆绑值调用。但是要处理这个。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-05T20:17:40.993

如果您使用 setRetainInstance(true) ，则在方向更改后，savedInstance 捆绑包始终为空。所以你不能用它来真正保存一些东西，但是如果你需要保存一些东西，你可以做的是把它放在片段的数据成员中，因为 setRetainInstance(true) 保留片段并且不会破坏它，所以在设备旋转了，您将获得相同的值。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-11T09:55:28.597

尝试`savedInstanceState`进入. `onCreate`_ `Fragment`喜欢

```
 @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setRetainInstance(true);

        if (savedInstanceState != null) {
            // IT MUST NOT BE NULL HERE
        }
    } 
```

请尝试...我希望它会工作

# php - 无法从 PHP 执行 python 命令 (gdal2tiles.py)

> ID：13815209
> 
> 赞同：1
> 
> 时间：2012-12-11T07:02:28.073
> 
> 标签：php, python, linux, ubuntu, gdal

我正在尝试从 PHP 执行以下命令（在 ubuntu 上运行）

```
"gdal2tiles.py" -p raster -z 0-6 -w none '/opt/lampp/htdocs/attachments/pt.png' 
```

将此命令运行到终端中可以正常工作，但是从 php 中它给了我以下错误

```
python: /opt/lampp/lib/libz.so.1: no version information available (required by python)
Traceback (most recent call last):
  File "/usr/bin/gdal2tiles.py", line 38, in <module>
    from osgeo import gdal
  File "/usr/lib/python2.7/dist-packages/osgeo/__init__.py", line 21, in <module>
    _gdal = swig_import_helper()
  File "/usr/lib/python2.7/dist-packages/osgeo/__init__.py", line 17, in swig_import_helper
    _mod = imp.load_module('_gdal', fp, pathname, description)
ImportError: /usr/lib/i386-linux-gnu/libkrb5.so.26: undefined symbol: sqlite3_open_v2
Error in sys.excepthook:
Traceback (most recent call last):
  File "/usr/lib/python2.7/dist-packages/apport_python_hook.py", line 66, in apport_excepthook
    from apport.fileutils import likely_packaged, get_recent_crashes
  File "/usr/lib/python2.7/dist-packages/apport/__init__.py", line 1, in <module>
    from apport.report import Report
  File "/usr/lib/python2.7/dist-packages/apport/report.py", line 20, in <module>
    import apport.fileutils
  File "/usr/lib/python2.7/dist-packages/apport/fileutils.py", line 22, in <module>
    from apport.packaging_impl import impl as packaging
  File "/usr/lib/python2.7/dist-packages/apport/packaging_impl.py", line 20, in <module>
    import apt
  File "/usr/lib/python2.7/dist-packages/apt/__init__.py", line 21, in <module>
    import apt_pkg
ImportError: /usr/lib/i386-linux-gnu/libapt-pkg.so.4.12: undefined symbol: gzseek64

Original exception was:
Traceback (most recent call last):
  File "/usr/bin/gdal2tiles.py", line 38, in <module>
    from osgeo import gdal
  File "/usr/lib/python2.7/dist-packages/osgeo/__init__.py", line 21, in <module>
    _gdal = swig_import_helper()
  File "/usr/lib/python2.7/dist-packages/osgeo/__init__.py", line 17, in swig_import_helper
    _mod = imp.load_module('_gdal', fp, pathname, description)
ImportError: /usr/lib/i386-linux-gnu/libkrb5.so.26: undefined symbol: sqlite3_open_v2 
```

有人可以帮忙吗？

# xml - XSLT 不生成根元素

> ID：13815210
> 
> 赞同：0
> 
> 时间：2012-12-11T07:02:31.170
> 
> 标签：xml, xslt

我的 XSLT 工作得很好，但我遇到了一些问题。

首先，它不产生 ROOT 元素。

其次，XML 数据有两个元素`<ACPGDEGREE1>`和`<CCD11>`. 当一个包含数据时，另一个为空，反之亦然。如果`<ACPGDEGREE1>`包含数据，我想插入数据并在其后添加文本“DEGREE”。如果`<CCD11>`包含数据，我想忽略数据但插入文本“CERTIFICATE”。

任何帮助将不胜感激。

这是 XSLT：

```
<?xml version="1.0"?>
<!-- DWXMLSource="STX049 Course Catalog Parsed_FINAL.xml" -->
<!DOCTYPE xsl:stylesheet>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
    <xsl:output method="xml" indent="no"/>

    <xsl:key name="degrees-by-title" match="Section" use="ICCB1"/>

    <xsl:template match="CrystalReport/Group">

        <crystalreports>
            <xsl:for-each select="Section[count(. | key('degrees-by-title', ICCB1)[1]) = 1]">
                <xsl:sort select="ACADPROGRAMSID1"/>
                <department>
                    <Degreetitle>
                        <xsl:value-of select="ACPGDEGREE1"/>
                    </Degreetitle>
                    <xsl:text> DEGREE</xsl:text>
                    <Certtitle>
                        <xsl:value-of select="CCD11"/>
                    </Certtitle>
                    <xsl:text> CERTIFICATE 
                    </xsl:text>
                    <DegreeDesc>
                        <xsl:value-of select="ACPGCOMMENTS1"/>
                    </DegreeDesc>
                    <xsl:text>ICCB Code</xsl:text>
                    <ICCBcode>
                        <xsl:value-of select="ICCB1"/>
                    </ICCBcode>
                    <xsl:text> | Field of Study     Code: </xsl:text>
                    <ProgramID>
                        <xsl:value-of select="ACADPROGRAMSID1"/>
                    </ProgramID>
                    <xsl:text>Program Requirements</xsl:text>
                    <xsl:for-each select="key('degrees-by-title', ICCB1)">
                        <xsl:sort select="DEPARTMENT12"/>
                        <xsl:sort select="CRSNO1"/>
                        <Details>
                            <class>
                                <deptname>
                                    <xsl:value-of select="DEPARTMENT12"/>
                                </deptname>
                                <xsl:text/>
                                <courseno>
                                    <xsl:value-of select="CRSNO1"/>
                                </courseno>
                                <classname>
                                    <xsl:value-of select="CRSTITLE11"/>
                                </classname>
                                <xsl:text/>
                                <classcredit>
                                    <xsl:value-of select="CRSMINCRED1"/>
                                </classcredit>
                            </class>
                            <xsl:text>
                            </xsl:text>
                        </Details>
                        <xsl:text>
                        </xsl:text>
                    </xsl:for-each>
                </department>
            </xsl:for-each>
        </crystalreports>

    </xsl:template>

</xsl:stylesheet> 
```

这是示例 XML：

```
<?xml version="1.0" encoding="UTF-8"?>
<CrystalReport>
  <Group Level="3">
    <Section SectionNumber="0">
      <ACPGDEGREE1>AAS</ACPGDEGREE1>
      <CCD11/>
      <ACPGCOMMENTS1>The Accounting program is designed to provide the theoretical and practical background necessary for supervisory and administrative careers in accounting and accounting-related areas. This degree requires a minimum of 64 credits in program requirements, program electives, and general education as listed below.</ACPGCOMMENTS1>
      <ICCB1>3203</ICCB1>
      <DEPARTMENT12>ACCOU</DEPARTMENT12>
      <ACADPROGRAMSID1>ACCOU.AAS</ACADPROGRAMSID1>
      <CRSNO1>1150</CRSNO1>
      <CRSTITLE11>Managerial Accounting</CRSTITLE11>
      <CRSMINCRED1>4.00</CRSMINCRED1>
      <ACRBPRINTEDSPEC1/>
      <ACPGHOMELANGNOTREQDRSN1>General Education - 12 to 16 (In addition to those listed above)  Total Credits Required - 64 to 70</ACPGHOMELANGNOTREQDRSN1>
    </Section>
    <Section SectionNumber="0">
      <ACPGDEGREE1>AAS</ACPGDEGREE1>
      <CCD11/>
      <ACPGCOMMENTS1>The Accounting program is designed to provide the theoretical and practical background necessary for supervisory and administrative careers in accounting and accounting-related areas. This degree requires a minimum of 64 credits in program requirements, program electives, and general education as listed below.</ACPGCOMMENTS1>
      <ICCB1>3203</ICCB1>
      <DEPARTMENT12>ACCOU</DEPARTMENT12>
      <ACADPROGRAMSID1>ACCOU.AAS</ACADPROGRAMSID1>
      <CRSNO1>2205</CRSNO1>
      <CRSTITLE11>Federal Taxation I</CRSTITLE11>
      <CRSMINCRED1>3.00</CRSMINCRED1>
      <ACRBPRINTEDSPEC1/>
      <ACPGHOMELANGNOTREQDRSN1>General Education - 12 to 16 (In addition to those listed above)  Total Credits Required - 64 to 70</ACPGHOMELANGNOTREQDRSN1>
    </Section>
    <Section SectionNumber="0">
      <ACPGDEGREE1>AAS</ACPGDEGREE1>
      <CCD11/>
      <ACPGCOMMENTS1>The Accounting program is designed to provide the theoretical and practical background necessary for supervisory and administrative careers in accounting and accounting-related areas. This degree requires a minimum of 64 credits in program requirements, program electives, and general education as listed below.</ACPGCOMMENTS1>
      <ICCB1>3203</ICCB1>
      <DEPARTMENT12>ACCOU</DEPARTMENT12>
      <ACADPROGRAMSID1>ACCOU.AAS</ACADPROGRAMSID1>
      <CRSNO1>2241</CRSNO1>
      <CRSTITLE11>Intermediate Accounting I</CRSTITLE11>
      <CRSMINCRED1>4.00</CRSMINCRED1>
      <ACRBPRINTEDSPEC1/>
      <ACPGHOMELANGNOTREQDRSN1>General Education - 12 to 16 (In addition to those listed above)  Total Credits Required - 64 to 70</ACPGHOMELANGNOTREQDRSN1>
    </Section>
    <Section SectionNumber="0">
      <ACPGDEGREE1>AAS</ACPGDEGREE1>
      <CCD11/>
      <ACPGCOMMENTS1>The Accounting program is designed to provide the theoretical and practical background necessary for supervisory and administrative careers in accounting and accounting-related areas. This degree requires a minimum of 64 credits in program requirements, program electives, and general education as listed below.</ACPGCOMMENTS1>
      <ICCB1>3203</ICCB1>
      <DEPARTMENT12>ACCOU</DEPARTMENT12>
      <ACADPROGRAMSID1>ACCOU.AAS</ACADPROGRAMSID1>
      <CRSNO1>2242</CRSNO1>
      <CRSTITLE11>Intermediate Accounting II</CRSTITLE11>
      <CRSMINCRED1>4.00</CRSMINCRED1>
      <ACRBPRINTEDSPEC1/>
      <ACPGHOMELANGNOTREQDRSN1>General Education - 12 to 16 (In addition to those listed above)  Total Credits Required - 64 to 70</ACPGHOMELANGNOTREQDRSN1>
    </Section>
    <Section SectionNumber="0">
      <ACPGDEGREE1>AAS</ACPGDEGREE1>
      <CCD11/>
      <ACPGCOMMENTS1>The Accounting program is designed to provide the theoretical and practical background necessary for supervisory and administrative careers in accounting and accounting-related areas. This degree requires a minimum of 64 credits in program requirements, program electives, and general education as listed below.</ACPGCOMMENTS1>
      <ICCB1>3203</ICCB1>
      <DEPARTMENT12>ACCOU</DEPARTMENT12>
      <ACADPROGRAMSID1>ACCOU.AAS</ACADPROGRAMSID1>
      <CRSNO1>2251</CRSNO1>
      <CRSTITLE11>Cost Accounting</CRSTITLE11>
      <CRSMINCRED1>3.00</CRSMINCRED1>
      <ACRBPRINTEDSPEC1/>
      <ACPGHOMELANGNOTREQDRSN1>General Education - 12 to 16 (In addition to those listed above)  Total Credits Required - 64 to 70</ACPGHOMELANGNOTREQDRSN1>
    </Section>
    <Section SectionNumber="0">
      <ACPGDEGREE1>AAS</ACPGDEGREE1>
      <CCD11/>
      <ACPGCOMMENTS1>The Accounting program is designed to provide the theoretical and practical background necessary for supervisory and administrative careers in accounting and accounting-related areas. This degree requires a minimum of 64 credits in program requirements, program electives, and general education as listed below.</ACPGCOMMENTS1>
      <ICCB1>3203</ICCB1>
      <DEPARTMENT12>ACCOU</DEPARTMENT12>
      <ACADPROGRAMSID1>ACCOU.AAS</ACADPROGRAMSID1>
      <CRSNO1>1100</CRSNO1>
      <CRSTITLE11>Introduction to Business</CRSTITLE11>
      <CRSMINCRED1>3.00</CRSMINCRED1>
      <ACRBPRINTEDSPEC1/>
      <ACPGHOMELANGNOTREQDRSN1>General Education - 12 to 16 (In addition to those listed above)  Total Credits Required - 64 to 70</ACPGHOMELANGNOTREQDRSN1>
    </Section>
    <Section SectionNumber="0">
      <ACPGDEGREE1>AAS</ACPGDEGREE1>
      <CCD11/>
      <ACPGCOMMENTS1>The Accounting program is designed to provide the theoretical and practical background necessary for supervisory and administrative careers in accounting and accounting-related areas. This degree requires a minimum of 64 credits in program requirements, program electives, and general education as listed below.</ACPGCOMMENTS1>
      <ICCB1>3203</ICCB1>
      <DEPARTMENT12>ACCOU</DEPARTMENT12>
      <ACADPROGRAMSID1>ACCOU.AAS</ACADPROGRAMSID1>
      <CRSNO1>2201</CRSNO1>
      <CRSTITLE11>Macroeconomics and the Global Economy</CRSTITLE11>
      <CRSMINCRED1>3.00</CRSMINCRED1>
      <ACRBPRINTEDSPEC1/>
      <ACPGHOMELANGNOTREQDRSN1>General Education - 12 to 16 (In addition to those listed above)  Total Credits Required - 64 to 70</ACPGHOMELANGNOTREQDRSN1>
    </Section>
    <Section SectionNumber="0">
      <ACPGDEGREE1>AAS</ACPGDEGREE1>
      <CCD11/>
      <ACPGCOMMENTS1>The Accounting program is designed to provide the theoretical and practical background necessary for supervisory and administrative careers in accounting and accounting-related areas. This degree requires a minimum of 64 credits in program requirements, program electives, and general education as listed below.</ACPGCOMMENTS1>
      <ICCB1>3203</ICCB1>
      <DEPARTMENT12>ACCOU</DEPARTMENT12>
      <ACADPROGRAMSID1>ACCOU.AAS</ACADPROGRAMSID1>
      <CRSNO1>1140</CRSNO1>
      <CRSTITLE11>Financial Accounting</CRSTITLE11>
      <CRSMINCRED1>4.00</CRSMINCRED1>
      <ACRBPRINTEDSPEC1/>
      <ACPGHOMELANGNOTREQDRSN1>General Education - 12 to 16 (In addition to those listed above)  Total Credits Required - 64 to 70</ACPGHOMELANGNOTREQDRSN1>
    </Section>
    <Section SectionNumber="0">
      <ACPGDEGREE1>AAS</ACPGDEGREE1>
      <CCD11/>
      <ACPGCOMMENTS1>The Accounting program is designed to provide the theoretical and practical background necessary for supervisory and administrative careers in accounting and accounting-related areas. This degree requires a minimum of 64 credits in program requirements, program electives, and general education as listed below.</ACPGCOMMENTS1>
      <ICCB1>3203</ICCB1>
      <DEPARTMENT12>ACCOU</DEPARTMENT12>
      <ACADPROGRAMSID1>ACCOU.AAS</ACADPROGRAMSID1>
      <CRSNO1>1114</CRSNO1>
      <CRSTITLE11>Business Ethics</CRSTITLE11>
      <CRSMINCRED1>3.00</CRSMINCRED1>
      <ACRBPRINTEDSPEC1/>
      <ACPGHOMELANGNOTREQDRSN1>General Education - 12 to 16 (In addition to those listed above)  Total Credits Required - 64 to 70</ACPGHOMELANGNOTREQDRSN1>
    </Section>
    <GroupFooter>
      <Section SectionNumber="0"/>
    </GroupFooter>
  </Group>
</CrystalReport> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T10:47:39.310

没有根元素的原因是您没有编写任何会生成它的代码。正常的方法是让模板匹配源文档的根目录，例如

```
<xsl:template match="/">
  <root>
    <xsl:apply-templates/>
  </root>
</xsl:template> 
```

本要求声明：

```
If <ACPGDEGREE1> contains data, I want to insert the data and add the text "DEGREE" after it. If <CCD11> contains data, I want to ignore the data but insert the text "CERTIFICATE". 
```

似乎很容易映射到两个模板规则：

```
<xsl:template match="ACPGDEGREE1[child::node()]">
  <xsl:value-of select="."/>
  <xsl:text> DEGREE</xsl:text>
</xsl:template>

<xsl:template match="CCD11[child::node()]">
  <xsl:text> CERTIFICATE</xsl:text>
</xsl:template> 
```

您已经了解了如何用一组规则来表达您的需求（当我看到这个时，我想这样做），但您似乎没有理解 XSLT 编码主要包括将这些规则直接转换为模板规则。

# ruby-on-rails - has_many 的正确大小写：当两个类都是大写时

> ID：13815215
> 
> 赞同：0
> 
> 时间：2012-12-11T07:02:56.560
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我有两个类，`PSA`它们`ZIP`由`PSAZIP`has_many: & :through 关联。

我在每个类中都抛出了以下错误：

psa.rb（由 生成`rails g scaffold PSA`）

```
class Psa < ActiveRecord::Base
  has_many :psazips
  has_many :zips, :through => psazips
end 
```

psazip.rb（由 生成`rails g scaffold PSAZIP`）

```
class Psazip < ActiveRecord::Base
  belongs_to :psa
  belongs_to :zip
end 
```

zip.rb（由 生成`rails g scaffold ZIP`）

```
class Zip < ActiveRecord::Base
  has_many:psazips
  has_many:psas, :through => :psazips
end 
```

当两个类完全是大写时，语法和大小写语法是什么？当我有另外两个类关系时（`PSA`和`State`，rb 文件名是`psa_state.rb`）。

我必须重命名`psazip.rb`为`psa_zip.rb`吗？如果是这样，我还需要在哪里进行更改？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:17:30.673

你所拥有的应该按原样工作。

Rails 会将任何以驼峰形式编写的类名转换为文件名的小写/下划线形式。它认为`PSAZIP`只是一个词。它不将其视为驼峰式案例，因此它生成`psazip`而不是`psa_zip`. 如果您使用`PsaZip`or `PSAZip`，它会生成`psa_zip`.

但是，只要您始终使用类名，一切都应该按照您的方式工作`Psazip`。

# c# - 扩展属性 - 我们要分配的属性的值

> ID：13815217
> 
> 赞同：0
> 
> 时间：2012-12-11T07:03:06.287
> 
> 标签：c#

文件夹大小：

```
 ExtendedPropertyDefinition PR_Extended_Message_Size = new ExtendedPropertyDefinition(3592, MapiPropertyType.Long); 
```

所有文件夹类型：

```
 ExtendedPropertyDefinition allFoldersType = new ExtendedPropertyDefinition(13825, MapiPropertyType.Integer); 
```

在此定义中，每个属性的值 (3592,13825) 都会发生变化。如何知道其余所有属性的这些值？

# ruby-on-rails - 如何在 pry 中对 awesome_print 结果进行分页

> ID：13815219
> 
> 赞同：0
> 
> 时间：2012-12-11T07:03:14.360
> 
> 标签：ruby-on-rails, rails-console, pry

我正在使用`awesome_print`gem 来显示输出`pry`以看起来很漂亮。由于 `awesome_print`使用换行符，长输出`ap html.chapters.order("position ASC")` 只显示输出的结尾部分，我如何对结果进行分页以使其看起来像它，通过管道传输`less`或`more`

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-11T07:13:03.430

将此添加到`.pryrc`：

```
begin
  require 'awesome_print' 
  Pry.config.print = proc { |output, value| Pry::Helpers::BaseHelpers.stagger_output("=> #{value.ai}", output) }
rescue LoadError => err
  puts "no awesome_print :("
end 
```

[https://github.com/pry/pry/wiki/FAQ#wiki-awesome_print](https://github.com/pry/pry/wiki/FAQ#wiki-awesome_print)

如果您不熟悉`.pryrc`：

> 当 pry 启动时，它会检查您的主目录 (~/.pryrc) 中的 .pryrc 文件以及当前目录 (./.pryrc) 中的每个项目的 .pryrc。如果它们存在，则使用这两个文件，首先加载主目录中的文件。

[https://github.com/pry/pry/wiki/Pry-rc](https://github.com/pry/pry/wiki/Pry-rc)

# c++ - 如何创建结构并同时对其进行初始化？

> ID：13815222
> 
> 赞同：0
> 
> 时间：2012-12-11T07:03:37.480
> 
> 标签：c++

结构定义如下：

```
 struct Edge {
    int weight;
    Vertex* v1;
    Vertex* v2;
  }; 
```

我需要做类似的事情

```
new Edges(v1, v2, v3); 
```

但这只能通过“类”和使用ctor来完成。如何创建 struct 的新元素并同时对其进行初始化？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:07:52.160

`struct`您也可以在 C++ 中为 a 编写构造函数。AC`struct`非常有限，但在 C++ 中，和之间只有[2 个区别](https://stackoverflow.com/questions/92859/what-are-the-differences-between-struct-and-class-in-c)。 `struct``class`

1.  在`class`所有成员中都是默认的`private`，在`struct`所有成员中都是默认的`public`。
2.  `struct`从defaults继承到`public`while `class`defaults to`private`

谢谢@gil_bz 和@icepack

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:13:22.123

您需要创建一个参数化的构造函数。这样做

```
struct Edge
{
    int weight;
    Vertex* v1;
    Vertex* v2;

    Edge(int a_weight, Vertex *a_v1, Vertex *a_v2)
    {
        weight = a_weight;
        v1 = a_v1;
        v2 = a_v2;
    }
}; 
```

然后像这样创建对象：

```
Edge e(9, v1, v2); 
```

# qtp - 在 QTP 中右键单击 web 元素的各种方法是什么？

> ID：13815223
> 
> 赞同：3
> 
> 时间：2012-12-11T07:03:40.777
> 
> 标签：qtp, right-click

我必须右键单击一个网络元素。我尝试了以下方法：

*为简单起见，假设`webElem`指的是有效的`Browser().Page().WebElement()`.*

## 1)

```
Set obj=createobject("mercury.devicereplay")

getX = webElem.GetROProperty("abs_x")
getY = webElem.GetROProperty("abs_y")

'obj.MouseClick getX, getY,RIGHT_MOUSE_BUTTON 
```

*上面的代码不起作用*

## 2)

```
webElem.RightClick 
```

*此代码也不起作用*

## 3）以下代码有效：

```
Setting.WebPackage("ReplayType") = 2

webElem.RightClick

Setting.WebPackage("ReplayType") = 1 
```

# 我的问题是：

1.  为什么我必须更改设备重播类型才能使右键单击工作？其中，单击方法工作正常。

2.  为什么，通过`Mercury.DeviceReplay`对象，`MouseClick`方法不起作用？

3.  我怎样才能通过`FireEvent`方法做到这一点？（请详细解释`FireEvent`方法，仅供参考：我是QTP的新手）

4.  还有什么其他方法可以做到这一点？

谁能解释一下为什么有些方法有效而有些方法无效。

谢谢， 斯里塔姆

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T08:14:56.340

默认情况下，QTP 使用*事件重*放在 Web 元素上运行大多数步骤，这意味着它将[DOM 事件](http://en.wikipedia.org/wiki/DOM_events)发送到底层 DOM 元素。当一个人与网页交互时，浏览器会生成许多 DOM 事件（例如`mousemove` `mousedown` `contextmenu`），并且 Web 应用程序可能会依赖这些事件中的任何一个来触发所需的行为。QTP 不知道每个 Web 应用程序将使用哪些事件，因此会重现 QTP 的开发人员认为有趣的子集（例如`Click`QTP replays`mousedown`和。因为某处`mouseup`还有一个事件（我不记得顺序）并且有不。`click``RightClick``contextmenu``click`

**您在#2**中尝试的操作失败的可能原因是因为应用程序期望的其他事件不是由 QTP 创建的。

当您指定`ReplayType=2`（如案例**#3**）时，您告诉 QTP 的 web 包使用*设备重放*，这意味着它将鼠标*物理*移动到请求的位置并执行操作。这意味着浏览器认为一个真实的人正在移动鼠标，并将重现与人类执行操作时完全相同的事件。

**您应该得到与案例#1**完全相同的结果（明确使用`DeviceReplay`）。我可以想到它仍然失败的两个原因。

1.  在您的代码示例中，您已`'obj.MouseClick getX, getY,RIGHT_MOUSE_BUTTON`注释掉该行，这可能是复制/粘贴错误，但如果这也是您尝试运行的内容，它将解释为什么什么也没发生。
2.  更可能的解释是您正在使用`abs_x`并`abs_y`重播点击，这是左上角的`WebElement`，也许这没有到达正确的 DOM 元素。*设备重放*模式与您的实现不同的方式是它在（`RightClick`默认情况下）尝试获取元素的宽度和高度并执行以下操作的中间单击：*`WebElement``obj.MouseClick getX+(width/2), getY+(height/2), RIGHT_MOUSE_BUTTON`*

 *还有另一种执行右键单击的方法，那就是：

```
webElem.Click micNoCoordinates, micNoCoordinates, micRightBtn 
```

但我建议反对它，因为`webElem.RightClick`如果不是更好的话，至少应该也能正常工作。*

# c# - 带有 OAuthBase.cs 的 Yahoo Oauth API

> ID：13815226
> 
> 赞同：2
> 
> 时间：2012-12-11T07:03:57.283
> 
> 标签：c#, api, oauth, httprequest, yahoo

我目前正在使用 oauth.net 上提供的 OAuthBase.cs 帮助程序类来实现 OAuth 以与 Yahoo! 对话！幻想 API。我目前停留在第 5 步（使用访问令牌/访问密钥调用 API 服务）。

我成功完成了[第 4 步](http://developer.yahoo.com/oauth/guide/oauth-accesstoken.html)，但似乎无法创建实际的服务调用。 [文件](http://developer.yahoo.com/oauth/guide/oauth-make-request.html)有限；我应该使用什么参数？我收到 401 或 400 http 错误。我正在通过以下方式生成我的签名：

```
url = new Uri("http://query.yahooapis.com/v1/public/yql?q=select * from fantasysports.teams.roster.stats where team_key='nba.l.52669.t.5' and week='5' and stats_type='week' and stats_week='5'&format=json");

signature = oauth.GenerateSignature(url, string.Empty, consumerKey, consumerSecret, accessToken, accessTokenSecret, "GET", time, string.Empty, nonce, OAuth.OAuthBase.SignatureTypes.HMACSHA1, out normalizedUrl, out normalizedRequestParameters);

using (var y = WebRequest.Create(string.Format("{0}?{1}&oauth_signature={2}", normalizedUrl, normalizedRequestParameters, signature)).GetResponse())
{
    ....
} 
```

`url`我要进行的 api 调用在哪里， `consumerKey`/`consumerSecret`是我注册 Yahoo! 时给我的密钥，和`accessToken`/`accessTokenSecret`是第 4 步中返回的响应`request_auth`。我做错了什么？

提前致谢

编辑：12/14 - 对于那些不熟悉 OAuthBase 的人来说，它本质上是一个生成签名 1 的库。合并所有 url/参数（consumerkey、token、tokenSecret、httpMethod、nonce、时间等），对其进行排序，然后规范化 url/参数；2.将consumerSecret '&' tokenSecret编码为HMACSHA1密钥；3.计算hmacsha1键的hash

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T13:46:29.813

这是一些使用 OAuth 访问 Yahoo API 的工作代码（在本例中为 BOSS Geo API）

```
 [Test]
    public void MakeCallToBossGeoApi()
    {
        string result;
        var uri = new Uri(@"http://yboss.yahooapis.com/geo/placefinder?country=SE&flags=J&locale=sv_SE&postal=41311");
        var o = new OAuthBase();
        string nonce = o.GenerateNonce();
        var timestamp = o.GenerateTimeStamp();

        string normalizedUrl;
        string normalizedParameters;
        string signature = HttpUtility.UrlEncode(
            o.GenerateSignature(uri,
                                "yourconsumerkeyhere",
                                "yourconsumersecrethere", null, null, "GET",
                                timestamp, nonce, out normalizedUrl,
                                out normalizedParameters));

        uri = new Uri(normalizedUrl +"?"+ normalizedParameters + "&oauth_signature=" + signature );

        using (var httpClient = new WebClient())
        {
            result = httpClient.DownloadString(uri.AbsoluteUri);
        }

        Console.WriteLine(result);
    } 
```

# c++ - 在C++中将字符串转换为int并测试成功

> ID：13815228
> 
> 赞同：1
> 
> 时间：2012-12-11T07:04:11.840
> 
> 标签：c++, string, type-conversion

> **可能重复：**
> [将字符串转换为 int C++](https://stackoverflow.com/questions/7663709/convert-string-to-int-c)
> [检查字符串是否为数字的最快方法是什么？](https://stackoverflow.com/questions/13742761/whats-the-fastest-way-to-check-if-a-string-is-a-number)

我需要将字符串转换为 int，并且我需要知道转换是否成功。但是数字可以为零，所以我不能使用**atoi**和其他人。我从文件中读取的要转换的字符串。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-11T07:09:23.040

您可以使用此模板函数，但这不仅仅是将字符串转换为 int - 它是将字符串转换为每种类型：

```
template <typename T>
T ConvertString( const std::string &data )
{
  if( !data.empty( ))
  {
    T ret;
    std::istringstream iss( data );
    if( data.find( "0x" ) != std::string::npos )
    {
      iss >> std::hex >> ret;
    }
    else
    {
      iss >> std::dec >> ret;
    }

    if( iss.fail( ))
    {
      std::cout << "Convert error: cannot convert string '" << data << "' to value" << std::endl;
      return T( );
    }
    return ret;
  }
  return T( );
} 
```

如果您想现在转换是否成功，则在 if 中返回一个特定值`iss.fail()`或将第二个引用参数传递给函数，如果失败则将该值设置为 false。

你可以像这样使用它：

```
uint16_t my_int = ConvertString<uint16_t>("15"); 
```

如果您喜欢带有引用参数的解决方案，这里有一个示例：

```
#include <iostream>
#include <sstream>
#include <string>

#include <inttypes.h>

template <typename T>
T ConvertString(const std::string &data, bool &success)
{
  success = true;
  if(!data.empty())
  {
    T ret;
    std::istringstream iss(data);
    if(data.find("0x") != std::string::npos)
    {
      iss >> std::hex >> ret;
    }
    else
    {
      iss >> std::dec >> ret;
    }

    if(iss.fail())
    {
      success = false;
      return T();
    }
    return ret;
  }
  return T();
}

int main(int argc, char **argv)
{
  bool convert_success;
  uint16_t bla = ConvertString<uint16_t>("15", convert_success);
  if(convert_success)
    std::cout << bla << std::endl;
  else
    std::cerr << "Could not convert" << std::endl;
  return 0;
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-11T07:28:00.070

好的旧*strtol*也是可用的。在 C++ 代码中，最好使用`#include <cstdio>`as [`std::strtol`](http://en.cppreference.com/w/cpp/string/byte/strtol)：

```
#include <cstdlib>

//...

std::string str;
char *endp;

// change base 10 below to 0 for handing of radix prefixes like 0x
long value = std::strtol(str.c_str(), &endp, 10); 

if (endp == str.c_str()) { 
    /* conversion failed completely, value is 0, */ 
    /* endp points to start of given string */ 
}
else if (*endp != 0) {
    /* got value, but entire string was not valid number, */ 
    /* endp points to first invalid character */ 
}
else {
    /* got value, entire string was numeric, */
    /* endp points to string terminating 0 */ 
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-11T07:18:39.313

使用流（c++）：

```
std::string intString("123");

int result;
std::stringstream stream(intString);

if (stream >> result) {
    std::cout << result;
} else {
    std::cout << "there was an error parsing the string";
} 
```

# c++ - Xcode 中 imread("one.jpg") 行的问题

> ID：13815229
> 
> 赞同：0
> 
> 时间：2012-12-11T07:04:17.230
> 
> 标签：c++, xcode, opencv

我在 Xcode 中集成 c++ 代码。我在这条线上面临问题。

```
src = imread("ellipse.jpg");

if(! src.data )                              // Check for invalid input
{
    cout <<  "Could not open or find the image" << std::endl ;
    cv::waitKey(5000);
} 
```

我在资源文件夹中有图像。但它总是执行 if 条件。请帮我 。提前致谢 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T16:55:05.580

您的二进制应用程序似乎位于一个文件夹中，而您尝试加载的图像位于另一个文件夹中。放在同一个文件夹！！！

或者...调用时使用图像的完整路径`imread()`。

# php - 在 PHP 中，如何在不使系统变慢的情况下记录事务过程？

> ID：13815230
> 
> 赞同：1
> 
> 时间：2012-12-11T07:04:21.473
> 
> 标签：php, mysql, logging

我正在尝试在我们的系统中添加特定交易过程的日志记录，以帮助我们追踪客户遇到问题的地方

```
 e.g
 2012-12-11 05:35:11 pm : Chose PayPal as payment method
 2012-12-11 05:38:15 pm : Pay = transaction id: E547HGf915JMN
 2012-12-11 05:44:23 pm : Payment processed PayPal payment status = Completed
 2012-12-11 05:45:17 pm : Saved transaction
 2012-12-11 05:47:22 pm : Redirect = http://domain.com/redirect_url/ 
```

我应该通过文本文件还是 MySQL 使用日志记录？我正在考虑使用文本文件，因为触发器往往会减慢数据库的速度，并且从长远来看会更难维护？

您对记录事件/流程有什么建议或首选方式吗？

非常感谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-11T07:23:55.010

看看 Monolog：[https ://github.com/Seldaek/monolog](https://github.com/Seldaek/monolog)

您可以轻松地登录到创建日志文件的流。但是，如果您将来需要更改它，您几乎可以毫不费力地做到这一点。使用 composer (http://getcomposer.org/doc/01-basic-usage.md) 很容易将它安装到您的项目中。

如果您需要非常快的东西，您可以创建一个 ram 磁盘并将您的日志文件放入其中，或者使用 syslog 和 ramlog (http://www.tremende.com/ramlog/index.htm)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-11T07:08:25.397

记录到文本肯定会比 mysql 使用更少的资源。

查看 KLogger。它似乎完成了这项工作。

[http://codefury.net/2008/07/klogger-a-simple-logging-class-for-php/](http://codefury.net/2008/07/klogger-a-simple-logging-class-for-php/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-11T07:08:38.850

根据我的经验，您应该必须`text file`用于记录特定事务过程，因为这将更安全并且不会在 Mysql 服务器上产生问题。

# django - 多个 Django 站点的独立 Git 存储库

> ID：13815234
> 
> 赞同：1
> 
> 时间：2012-12-11T07:04:29.273
> 
> 标签：django, git, django-sites

我正在使用 Django 作为我当前项目（比如项目 A）的开发框架。

我想创建一个与项目 A 具有不同视图的新应用程序（例如项目 B）。但是这个新项目 B 将使用当前项目 A 中的大多数现有后端模块和模型。

这样我的当前项目（项目 A）将托管在 URL [http://www.site-one.com](http://www.site-one.com)上，而新项目 B 将托管在[http://www.site-two.com](http://www.site-two.com)上。关于这一点，我有一个疑问和一个我想问的问题：

**怀疑：**我选择使用“ [Django 站点框架](https://docs.djangoproject.com/en/dev/ref/contrib/sites/)”是否正确？

**问题：**有什么方法可以将两个 Django 站点（A 和 B）保留在不同的 Git Repo 中，并且仍然可以从当前站点 A 访问模型和其他模块？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:21:15.433

我建议共享功能创建单独的 django 应用程序，其结构类似于以下内容。（我假设你的项目在 virtualenvs 中）

```
appname/
  __init__.py
  models.py
  views.py
  templates/
    base.html 
```

将此应用程序存储在它自己的 git 存储库中。

然后在您的每个项目的 requirements.txt 中，如果您使用的是 bitbucket，则需要添加如下所示的行：

```
-e git+https://yourusername@bitbucket.org/appname/appname.git#egg=appname 
```

安装

```
pip install -r requirements.txt 
```

然后在你的 settings.py 添加`myappname`到你的`INSTALLED_APPLICATIONS`

# android - WifiManager.setWifiEnabled 方法是同步的吗？

> ID：13815237
> 
> 赞同：3
> 
> 时间：2012-12-11T07:04:45.583
> 
> 标签：android

我必须做点什么。就在启用Wi-Fi的时候，我调用了method `WifiManager.setWifiEnabled()`，当方法返回时，Wi-Fi状态会同时改变吗？如果没有，如何追踪 Wi-Fi 状态的变化？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-26T08:34:25.287

setWifiEnabled aparents 是异步的，正如我在测试时看到的那样，所以我认为唯一的选择是让代码等待几秒钟，再试一次等​​等

# couchdb - 分布式 CouchDB 系统中的文档排序

> ID：13815238
> 
> 赞同：2
> 
> 时间：2012-12-11T07:04:46.670
> 
> 标签：couchdb, replication, sequencing

我正在实现一个分布式音频存储库，注册用户可以在该存储库上创建录音并与其他注册用户共享。理想情况下，我们希望在间歇性连接到无线网状网络的几台 (n<5) 笔记本电脑上运行存储库。因此，当连接可用时，运行 couchdb 的存储库节点将相互复制。该存储库将位于一个没有电力基础设施的乡村，因此存储库笔记本电脑由太阳能电池板和汽车电池供电。过去，我们遇到过笔记本电脑电池完全耗尽的问题，将计算机时钟重置为 0 - 1970 年 1 月 1 日。互联网连接也非常不完整且非常昂贵。牢记间歇性电源和连接以及非常不准确的时钟，我想知道如何最好地对文档（或录音）进行排序，以便它们大致对应于在复制之前和之后在不同存储库节点上创建录音的时间顺序。对于如何创建可在这些受限条件下工作的复制 by_date、by_sequence、by_chronology（或任何您想称呼的）视图，我将非常感激。它不必是完美的，只要足够好或比一个幼稚的解决方案更好。by_chronology （或任何你想称之为的）视图可以在这些受限条件下工作。它不必是完美的，只要足够好或比一个幼稚的解决方案更好。by_chronology （或任何你想称之为的）视图可以在这些受限条件下工作。它不必是完美的，只要足够好或比一个幼稚的解决方案更好。

谢谢！

托马斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T10:19:29.403

好吧，您可以首先在每个新文档中包含一个简单的递增整数，方法是查看数据库中最后一个可用的数字并取下一个。这为您提供了一些信息：

*   在没有连接的情况下本地记录片段的一致排序
*   与其他节点同步后，新段将获得比所有复制段更高的序列号

这意味着如果来自一个节点的序列号 45 早于或晚于另一个节点的序列号 45 记录，则您无法拼凑在一起，但它确实可以让您拼凑一个有向无环图，至少对文档进行基本排序。

您可以添加一个值来表示记录片段的节点以使其更好。

# php - 带有 mysql 数据库的 PHP 将其转换为 HTML，以便我可以使用 mpdf

> ID：13815242
> 
> 赞同：0
> 
> 时间：2012-12-11T07:05:05.427
> 
> 标签：php, variables, concat

我使用 php，我的代码是

```
<?php
require_once( "conn/conn.php");
require_once( "includes/session.php" );
require_once( "includes/function.php" );
require_once( "includes/classes.php" );
if( $_GET['set_i'] == 'template' ) {
    $get_uc = $_GET['uc'];
    $get_un = $_GET['un'];

    $pdfile = "pdf/" . $get_uc . "_" . $get_un . ".html";
    $fh = fopen($pdfile, 'w') or die("can't open file");
    $pageData = '<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.0/jquery.js"></script>
<script type="text/javascript" src="../js/tem.js"></script>

<link href="../css/tem.css" rel="stylesheet">
<title>Quo-System</title>
</head>

<body>
<div id="wrap">
<article>
<form method="post">
    <div class="page">
    ';
        $set = SET_SQL( "SELECT * FROM jon_company WHERE user_code = '". $_SESSION['user_code'] ."' and `set`='1' " );
        $set_logo = SET_SQL( "SELECT * FROM jon_com_logo WHERE user_code = '". $_SESSION['user_code'] ."' " );
        $set_logo_img = SET_SQL( "SELECT * FROM jon_com_logo_img WHERE user_code = '". $_SESSION['user_code'] ."' " );
        $set_com_for = SET_SQL( "SELECT * FROM jon_com_for WHERE user_code = '". $_SESSION['user_code'] ."' and `set`='1' " );
        $set_position = SET_SQL( "SELECT * FROM jon_com_add WHERE user_code = '". $_SESSION['user_code'] ."' " );

        $set_total = SET_SQL( "SELECT * FROM jon_com_quo_computation WHERE user_code = '".$_SESSION['user_code']."' and com_code = '".$_GET['ccom']."' and active='1' " );

    $pageData .= '
        <div class="logo" align='.$set_logo['logo_position'].' style="margin:20px;">    
            <img src="../images/upload/' . $set_logo_img['filename'] . '" width='.$set_logo['logo_width'].' align="center" id="img_logo" />
        </div>

        <div class="company_name" align="'.$set_position['add_position'].'" style="font-family:'.$set_position['font_type'].'; font-size:'. $set_position['font_size'] .'px; padding-left:10px; padding-right:10px; width:580px;">
            <strong>'.$set['com_name'].'</strong><br />
            '.$set['address'].'<br />
            '.$set['post_code'].' - '.$set['city'].'<br />
            '.$set['country'].'
        </div>
        <br />
        <div class="company_details" align="left" style="margin-left:500px;padding:10px;">
            '.$set['email'].'<br /><br />
            KVK : '.$set['kvk_no'].'<br />
            VAT : '.$set['vat_no'].'<br />
            BANK : '.$set['bank_acct'].'<br />
        </div>
        <br />
        <div class="company_quo_for" style="margin-top:-100px; padding:10px;">
        ';
            if ( empty( $set_com_for ) ){
                $pageData .= 'No record found! Please set Company for the template.';
            } else {
                $pageData .= '<b>'. $set_com_for['company_name_for'] .' </b><br />
                '. $set_com_for['street_name'] . '<br /> 
                '. $set_com_for['post_code'] .  ' "&nbsp;" ' . $set_com_for['city'] . '<br />
                '. $set_com_for['country'] . ' "<br />" 
                '. date( "F h, Y", strtotime( $set_com_for['date'] ) ) . ' <br />';
            }       
    $pageData .= '  
            <input type="hidden" name="com_name_for" value="'. $set_com_for['compnay_name_for'] . '" />
        </div>

        <div class="quotation_date" style="text-align:right; position:relative; top:50px; right:75px;">

            ';

            $new_date = mktime(0, 0, 0, date("m"), date("d")+15, date("y"));
            $exdate = date("Y-m-d", $new_date);

    $pageData .='
            Date : ' . date( "Y-d-m" ) . ' <br />
            Expiration Date : ' . $exdate . '
        </div>

        <div class="quotation_number" style="padding-left:10px;">
            <h2>' . $set_com_for['sub_quo'] . '</h2>
            <h3>Quotation Number : ' . date( "Y" ) . ' - ' . $set_total['invoice_num'] . ' </h3>
        </div>

        <div class="quotation_computation" style="margin-top:50px;">
            <table cellpadding="5" cellspacing="0" width="100%">
                <tr>
                    <th>#</th>
                    <th>Definition</th>
                    <th>Amount</th>
                    <th>Total</th>
                    <th>BTW</th>
                </tr>
                ';
                $get_total_computation = SET_SQL( "SELECT * FROM jon_com_quo_computation WHERE user_code = '". $get_uc ."' and com_code = '".$_GET['ccom']."' and active='1' " );
                if ( $get_total_computation['currency'] == "euro" ) {
                    $msg_tot .= "&euro;";
                } elseif ( $get_total_computation['currency'] == 'usd' ) {
                    $msg_tot .= '&#36;';
                }
                $get_details = mysql_query( "SELECT * FROM jon_com_quo_computation WHERE user_code = '". $get_uc ."' and active = '1' " ) or die ( mysql_error());
                $found_record = mysql_num_rows( $get_details );
                if ( $found_record != 0 ) {
                while( $set_det = mysql_fetch_array( $get_details ) ) {
                 $total = $set_det['quo_quantity'] * $set_det['quo_amt'];
        $pageData .= '  
                <tr>
                    <td class="add_text">
                        <input type="hidden" name="computation_id" value="'.$get_details['q_id'].'" />
                        '.$set_det['quo_quantity'].' x
                    </td>
                    <td class="add_text" width="250">'.$set_det['quo_definition'].'</td>
                    <td class="add_text">
                        '.$msg_tot
                        .$set_det['quo_amt'].'
                    </td>
                    <td class="add_text" id="total">
                    ' . $msg_tot . $total;
                    $pageData .= '
                    <input type="hidden" name="sumof" value="'.$total.'" />
                    </td>
                    <td class="add_text">'.$set_det['quo_btw'].'</td>
                </tr>
                ';
                    }
                } else {
    $pageData .= '<tr>
                    <td colspan="5" align="center" style="background-color:#C6F5FB;"><span>No record found!</span></td>
                </tr>
                ';
                }
   $pageData .= '</table>
        </div>

        <div class="sub_total_computation" style="width:250px; position:relative; left:325px;">
            <table cellpadding="5" cellspacing="0" width="100%">
                <tr>
                    <td><strong>Sub Total</strong></td>
                    <td>'
                         . $msg_tot                     
                         . '<span id="total_f"></span>
                        <input type="hidden" name="total_f" value="" />
                    </td>
                </tr>
                <tr>
                    <td>
                        BTW
                    </td>
                    <td>
                     '
                    . $get_total_computation['quo_btw']
                    . $get_per = explode( '%', $get_total_computation['quo_btw'])
                    . ' 
                        <input type="hidden" name="btw" value="' .$get_per[0] .'" />
                        <input type="hidden" name="com_track" value="'.$get_total_computation['com_track'].'" />
                     </td>
                </tr>
                <tr>
                    <td><strong>Total</strong></td>
                    <td>
                        '
                    . $msg_tot
                    . ' 
                        <span id="s_btw"></span>
                        <input type="hidden" name="s_btw" value="" />
                    </td>
                </tr>
            </table>
        </div>

        <div class="quotation_footer" style="margin-top:200px; border-top:1px dotted #999;">
            <div id="ft">
            <span>
        ';
            $get_footer_txt = SET_SQL( "SELECT * FROM jon_footer_txt WHERE user_code = '". $get_uc ."' and com_code = '".$_GET['ccom']."' ORDER BY t_id DESC" );
            if ( empty( $get_footer_txt ) ) {
                $msg_footer = 'Please select Footer Tab and insert footer text.';
            } else {
                $msg_footer = '<p>' .$get_footer_txt['footer_txt'].'</p>';
            }
    $pageData .= $msg_footer . '
            </span>
            </div>
        </div>
    </div>
</form>
</article>
</div>

</body>
</html>

    ';

    fwrite($fh, $pageData);
    fclose($fh);
}

?> 
```

但是我遇到了问题，`if else statement`我`$pageData .=`不知道如何将其放入该变量中。

因此，当我将其转换为 HTML 时，缺少来自 if else 语句的文件。

这是我遇到问题的线路。

```
$get_total_computation = SET_SQL( "SELECT * FROM jon_com_quo_computation WHERE user_code = '". $get_uc ."' and com_code = '".$_GET['ccom']."' and active='1' " );
if ( $get_total_computation['currency'] == "euro" ) {
    $msg_tot .= "&euro;";
} elseif ( $get_total_computation['currency'] == 'usd' ) {
    $msg_tot .= '&#36;';
} 
```

我怎么能把它放进去`$pageData`？

如果我尝试这样的事情

```
$get_total_computation = SET_SQL( "SELECT * FROM jon_com_quo_computation WHERE user_code = '". $get_uc ."' and com_code = '".$_GET['ccom']."' and active='1' " );
if ( $get_total_computation['currency'] == "euro" ) {
    $pageData .= "&euro;";
} elseif ( $get_total_computation['currency'] == 'usd' ) {
    $pageData .= '&#36;';
} 
```

它甚至不读取 var，但它会重复显示页面。

谢谢你，先生。

# magento-1.6 - 如何在magento的购物车页面上的总计中添加增值税税价？

> ID：13815243
> 
> 赞同：1
> 
> 时间：2012-12-11T07:05:12.523
> 
> 标签：magento-1.6, php

我已添加增值税显示并在购物车页面上添加总价。那么，magento怎么可能呢？如果您对此有任何想法，请向我提出建议。

谢谢

# combobox - 如果在 kendoui 组合框中找不到值，如何选择第 0 个索引

> ID：13815251
> 
> 赞同：1
> 
> 时间：2012-12-11T07:05:55.460
> 
> 标签：combobox, indexing, kendo-ui

我创建了 kendoComboBox

```
jQuery("#" + id).kendoComboBox(
        {
            filter: "contains",
            change: changecallback
        }).trigger("change");

var changecallback = function () {
        //var combobox = jQuery("#" + id).data("kendoComboBox");
        if (this.selectedIndex == -1) {
            this.selectedIndex = 0;
            this.trigger("change");    
            return;
        }
        this.select(this.selectedIndex);
    }; 
```

我想要做的是如果在选项中找不到输入的值，则选择第 0 个索引`(this.selectedIndex == -1`）。我哪里错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T08:41:54.577

使用[选择](http://docs.kendoui.com/api/web/combobox#select)方法。您可以使用ComboBox的[API演示进行尝试。](http://demos.kendoui.com/web/combobox/api.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T12:53:16.983

尝试这个：

```
$combobox.select(0); 
```

# php - Symfony2：我收到错误“spl_object_hash() 期望参数 1 是对象，给定整数”

> ID：13815253
> 
> 赞同：1
> 
> 时间：2012-12-11T07:06:08.003
> 
> 标签：php, symfony, doctrine-orm

当我创建一个类别时，这是代码工作正常，当我们创建一个子类别时它会出错。

在实体文件中：

```
 /**
     * Music\Bundles\Core\Entity\MusicCategory
     * @ORM\Table(name="ms_musiccategory")
     * @ORM\Entity()
     * @ORM\Entity(repositoryClass="Music\Bundles\Core\Entity\Repository\CategoryRepository")
    * @UniqueEntity(fields={"name"},message="The name is already in this system.")
  */
    class MusicCategory 
   {
/**
     * @ORM\Column(name="id",type="integer")
     * @ORM\Id()
 * @ORM\GeneratedValue(strategy="AUTO")
 */
private $id;

    /**
     *@ORM\ManyToOne(targetEntity="MusicCategory")
    *@ORM\JoinColumn(name="parent_Id", referencedColumnName="id")
     * 
     */
    private $parentid; 
```

在表单生成器中：

```
public function buildForm(FormBuilder $builder, array $options)
{
   $builder
        ->add('name')
        ->add('description')
        ->add('parentid', 'entity', array('class'=>'MusicCoreBundle:MusicCategory',
            'property'  => 'name',
            'required'  => false,
            'query_builder' => function(EntityRepository $er) {return $er->createQueryBuilder('s')->orderBy('s.name', 'ASC');},
            'empty_value' => 'No category'

            ));
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-12T07:00:52.960

更改为实体文件：

```
 /**
     * @ORM\Column(name="id",type="integer")
     * @ORM\Id()
 * @ORM\GeneratedValue(strategy="AUTO")
 */
private $id;

    /**
      * @ORM\OneToMany(targetEntity="MusicCategory", mappedBy="parent")
     */
    protected $children;

   /**
     * @ORM\ManyToOne(targetEntity="MusicCategory", inversedBy="children")
     * @ORM\JoinColumn(name="parent_id", referencedColumnName="id")
    */
    protected $parent;

    public function __construct()
{
         $this->parentId = null; // Default value for column parent_id
         $this->children = new \Doctrine\Common\Collections\ArrayCollection();
} 
```

更改为 formbuilder 也：

```
 ->add('parentid', 'entity', array('class'=>'MusicCoreBundle:MusicCategory',
            'property'  => 'name',
            'required'  => false,
             'query_builder' => function(EntityRepository $er) {return $er->createQueryBuilder('s')->orderBy('s.name', 'ASC');},//->where('s.parentid is NULL')
            'empty_value' => 'No category',
            )); 
```

使用此代码。随意享受。:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:15:58.550

你可能正在做类似的事情
`$category->setParent($parentId);`

你应该在哪里做
`$category->setParent($parent);`

`$parent`'MusicCategory' Doctrine 类型的对象在哪里
与实体一起使用，而不是 id(s)

也看看
[http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/association-mapping.html](http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/association-mapping.html)

主要是关于自引用关联的部分。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:10:13.160

我认为这是一个关联映射问题...您应该检查关联...

# jquery - asp.net mvc 3 和 razor 视图中控制器和操作的级联下拉列表

> ID：13815255
> 
> 赞同：1
> 
> 时间：2012-12-11T07:06:17.263
> 
> 标签：jquery, asp.net-mvc-3, razor

我想在数据库中存储所有控制器和动作及其对应的角色。因此，我创建了具有级联下拉列表的视图，其中所有操作都填充在操作的下拉列表中，同时在下拉列表中选择了相应的控制器。我有以下代码： **控制器：**

```
 public ActionResult Create()
    {
        var asm = Assembly.GetExecutingAssembly();
        var controllerTypes = from d in asm.GetExportedTypes() where typeof(IController).IsAssignableFrom(d) select d;
        List<SelectListItem> controllerdrop = new List<SelectListItem>();
        foreach (var item in controllerTypes)
        {
            string cName = item.Name.ToString();
            controllerdrop.Add(new SelectListItem() { Value = cName, Text = cName });
        }

        ViewBag.controller = controllerdrop;
        ViewBag.role = ivr.get_all_role();
        return View();
    }

    public ActionResult get_all_action(string ob)
    {
        Type t = Type.GetType(ob);
        MethodInfo[] mi = t.GetMethods();

        List<SelectListItem> action = new List<SelectListItem>();

        foreach (MethodInfo m in mi)
        {
            if (m.IsPublic)
                if (typeof(ActionResult).IsAssignableFrom(m.ReturnParameter.ParameterType))
                {
                    action.Add(new SelectListItem() { Value = m.Name, Text = m.Name });
                }
        }

        var List = new SelectList(action, "Value", "Text");

        return Json(List, JsonRequestBehavior.AllowGet);
    } 
```

**看法：**

```
<script src="@Url.Content("~/Scripts/jquery-1.7.2.js")" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#drop1").change(function () {
            var id = $(this).val();
            $.getJSON("/AssignRole/get_all_action/" + id,
                function (data) {
                    var select = $("#drop2");
                    select.empty();
                    select.append($('<option/>', {
                        value: 0,
                        text: "Select a action"
                    }));
                    $.each(data, function (index, data) {
                        select.append($('<option/>', {
                            value: data.Value,
                            text: data.Text
                        }));
                    });
                });
        });
    });    
</script>
@using (Html.BeginForm())
{
    @Html.DropDownList("Controller", ViewBag.controller as SelectList, "Select a Controller", new { id = "drop1" })

    <select id="drop2">
    </select>

    foreach (var list in ViewBag.role)
    {
    <input type="checkbox" name="role" value=@list.Name /> @list.Name
    }

    <input type="submit" value="Save" />
} 
```

**问题：**

异常被抛出`Type t = Type.GetType(ob);`

```
Value cannot be null.
Parameter name: typeName 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:26:23.227

`controllername`在您的控制器操作中将参数名称更改为。

```
 public ActionResult get_all_action(string controllername)
    {
        Type t = Type.GetType(controllername);
        .
        .
        .
    } 
```

**编辑**

```
controllerdrop.Add(new SelectListItem() { Value = cName, Text = cName }); 
```

将其更改为

```
controllerdrop.Add(new SelectListItem() { Value = item.FullName, Text = cName }); 
```

# jquery - jquery 循环 - 影响 div 中的第一个和第二个标签

> ID：13815257
> 
> 赞同：0
> 
> 时间：2012-12-11T07:06:35.830
> 
> 标签：jquery, parent-child, jquery-cycle, css

我在一个包含一些图像幻灯片的项目上使用cycles.js，如下所示：

```
<div id="cycles">
    <img src="1">
    <img src="2" style="display:none;">
    <img src="3" style="display:none;">
</div> 
```

除了第一个 img 之外，我给了所有内容“显示：无；” 修复页面未完全加载时有时发生的图像堆叠或闪烁。Cycles 然后将图像显示属性更新`display:block;`为需要时，这就是我想要的。

但是现在当我将这些图像包装在`<a></a>`标签中时，这些标签会受到循环的影响，而不是其中的子标签。`<a></a>`标签继承，`display:block;`但图像保留 `display:none;`且不显示。

那么我如何告诉循环来影响第二个标签，而不是第一个？我只会将每张图片幻灯片包装起来，`<a href="#"></a>`以使其始终真实且一致。

帮助！谢谢 ：）

# java - 多线程 newSingleThreadExecutor 饥饿死锁

> ID：13815258
> 
> 赞同：1
> 
> 时间：2012-12-11T07:06:43.687
> 
> 标签：java, multithreading, deadlock, executors

这直接来自Java Concurrency in Practice。以下导致死锁：

```
class ThreadDeadlock {
    ExecutorService exec = Executors.newSingleThreadExecutor();
    public class RenderPageTask implements Callable<String> {
        public String call() throws Exception {
            Future<String> header, footer;
            System.out.println(Thread.currentThread().getName());
            header = exec.submit(new LoadFileTask("header.html"));
            footer = exec.submit(new LoadFileTask("footer.html"));
            //String page = renderBody();
            // Will deadlock -- task waiting for result of subtask
            //System.out.println("executed header and footer");
            String headerS = header.get();
            System.out.println("retrieved header");
            String footerS = footer.get();
            return headerS+ footerS;
        }
    }
}

class LoadFileTask implements Callable<String>{
    String name;
    public LoadFileTask(String name) {
        super();
        this.name = name;
    }

    @Override
    public String call() throws Exception {
        /*Scanner s = new Scanner(name);
        StringBuilder str = new StringBuilder();
        while(s.hasNextLine()){
            str.append(s.nextLine());
        }*/
        System.out.println(Thread.currentThread().getName()+this.name);
        return "";
    }
}

/* Call from Main */
         private static void checkDeadLock(){
    ThreadDeadlock.RenderPageTask callable = new ThreadDeadlock().new RenderPageTask();
    ExecutorService es = Executors.newFixedThreadPool(1);
    es.submit(callable);
    es.shutdown();
} 
```

我无法弄清楚为什么这会导致死锁。我已经检查过了。它甚至返回 header.get() 并打印检索到的标题，那么它是如何死锁的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:49:45.153

您的代码中没有死锁，JVM 没有关闭，因为它有工作线程 -`exec`服务的执行线程（在 中定义`ThreadDeadlock`）。如果你添加

```
exec.shutdown(); 
```

before `return`in `RenderPageTask`then 程序将在所有任务完成后终止。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T09:07:29.177

死锁原因很简单：第一个任务提交另外 2 个任务并等待它们完成，有效地阻塞了执行器的单个工作线程并阻止了该任务的执行。

任何一个：

*   不要在执行器下运行的任务中使用阻塞操作

*   或使用根据需要添加工作线程的执行程序

# python - 查询 DNS 时欺骗 src ip 地址

> ID：13815262
> 
> 赞同：2
> 
> 时间：2012-12-11T07:06:53.047
> 
> 标签：python, shell, dns, dig

我正在使用 python 我想在发送 DNS 查询时欺骗 srcip 地址？

Python代码不是必需的吗？甚至 shell 命令也能达到目的。

我试过 dig 但错误来了。例如

```
$dig -b 10.0.1.1 google.com
dig: isc_socket_bind: address not available 
```

谁能知道该怎么做？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T08:37:18.560

人挖 说

> ```
>  -b address 
> ```

```
 Set the source IP address of the query to address.  This
     must  be  a  valid  address on one of the host's network
     interfaces or 0.0.0.0 or ::. An  optional  port  may  be
     specified by appending: #<port> 
```

因此 10.0.0.1 （或您使用的任何欺骗地址）应该是您本地网络中的有效网络 IP。

# ios - iOS 6.0.1 模拟器

> ID：13815269
> 
> 赞同：2
> 
> 时间：2012-12-11T07:07:21.097
> 
> 标签：ios, simulator

我已经安装了 XCode 4.5.2。它只有 6.0 的模拟器。我想要 iOS 6.0.1 iPad 的模拟器。有人可以帮助我如何获得 6.0.1 版本吗？我检查了 mac 应用商店的更新，它是最新的 XCode。如果我安装 Xcode 4.6，它有 6.1 模拟器但没有 6.0.1

谢谢， 阿尼什

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T07:10:30.373

我不相信有办法获得适用于 iOS 6.0.1 的模拟器。对于 iOS 5，他们没有 iOS 5.1.1 模拟器，只有 5.0 和 5.1。

我能推荐的最好的事情是在运行 iOS 6.0.1 的设备上测试你的代码。

# pdo - 用户名和密码正确，但我仍然收到错误：SQLSTATE[28000] [1045]

> ID：13815273
> 
> 赞同：1
> 
> 时间：2012-12-11T07:07:48.900
> 
> 标签：pdo, database-connection

我正在从 mySql 切换到 PDO，但在创建与数据库的正确连接时遇到问题。用户名和密码在 mySql 中有效，但是当我尝试使用下面显示的代码连接时收到此错误消息：

```
ERROR: SQLSTATE[28000] [1045] Access denied for user 'sean'@'localhost' (using password: NO) 
```

我不太确定为什么它说密码“不”，因为我肯定使用了正确的密码，而且没有任何名为 Sean 的用户。我用于用户名或密码的语法有问题吗？

这是我正在使用的代码（我将“MyPassword”换成实际密码）

```
<?php
session_start(); 
try {
$conn = new PDO('mysql:host=localhost;dbname=MyDatabase', $clickfi4_root, $MyPassword);
  $stmt = $conn->prepare('SELECT * FROM customer_info WHERE id = :id');
  $stmt->execute(array('id' => $id));
  $result = $stmt->fetchAll();
  if ( count($result) ) {
    foreach($result as $row) {
      print_r($row);
    }
  } else {
    echo "No rows returned.";
  }
} catch(PDOException $e) {
echo 'ERROR: ' . $e->getMessage();
}      
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:14:59.127

错误信息说：

```
(using password: NO) 
```

这意味着在登录尝试中未使用密码。

检查 $MyPassword 的值。

另外，请尝试使用 root 以外的帐户。无论如何，这不是最佳做法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:11:37.177

有时，username@127.0.0.1 可以代替 username@localhost。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T17:43:54.773

事实证明，我使用的[net tuts 教程](http://net.tutsplus.com/tutorials/php/php-database-access-are-you-doing-it-correctly/)中的语法略有错误。当我删除用户名和密码之前的“$”时，它可以工作:-)

```
$conn = new PDO('mysql:host=localhost;dbname=MyDatabase', clickfi4_root, MyPassword); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-02-01T18:40:20.453

对于未来的谷歌人，我刚才也遇到了同样的问题，我很确定密码是正确的。是的，密码确实是正确的，但问题是我如何生成密码以及如何将密码保存在配置文件中。

如果您使用像我这样的随机密码生成器，请确保您的密码中没有`$`美元符号。

如果您有`$`密码，请确保将密码保存在配置文件中，如下所示

```
$pass = 'randomchars$morerandom'; 
```

但不是这样

```
$pass = "randomchars$morerandom"; 
```

# file - 如何从 Heroku Cedar 下载临时文件

> ID：13815275
> 
> 赞同：0
> 
> 时间：2012-12-11T07:07:51.460
> 
> 标签：file, heroku, classification, cedar

我在 Heroku Cedar 上托管了一个 Rails 项目，它执行以下操作：

*   抓取每日新闻源并将它们存储到数据库中
*   手动判断提要并分类
*   使用判断构建一个分类器，自动分类新的传入提要
*   通过附加判断迭代改进分类

问题是分类器需要写入文件。但是，当我在 Heroku Cedar 上运行脚本时，它会创建一个非永久性的临时文件。

我的问题是：

1.  有没有办法下载我通过在 Heroku 上运行脚本创建的临时文件？
2.  处理这种情况的更好方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T16:25:23.040

简而言之，不。您希望将任何生成的数据存储在某种持久性文件/数据存储中。您应该考虑将这些文件推送到 S3 或类似文件。

# javascript - 使用 phonegap 发送短信

> ID：13815277
> 
> 赞同：0
> 
> 时间：2012-12-11T07:08:10.557
> 
> 标签：javascript, html, cordova

> **可能重复：**
> [通过 Android 上的 PhoneGap 发送短信](https://stackoverflow.com/questions/3193997/send-sms-through-phonegap-on-android)

我有一个使用 html5、javascript、jquery 和 phonegap 的 Android 和 iPhone 混合应用程序。我想在这个应用程序上实现发送消息。请帮助我，我如何实现这一点。

请给我步骤。

任何帮助表示赞赏。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:15:07.083

**你应该试试这个。**这是phonegap插件

[https://github.com/phonegap/phonegap-plugins/tree/master/Android/SMSPlugin](https://github.com/phonegap/phonegap-plugins/tree/master/Android/SMSPlugin)

# wpf - System.InvalidOperationException：不能使用属于与其父 Freezable 不同的线程的 DependencyObject

> ID：13815278
> 
> 赞同：0
> 
> 时间：2012-12-11T07:08:15.043
> 
> 标签：wpf, dispatcher

我有这个问题......但无法弄清楚来自哪里。你知道调试这个的方法吗？这发生在具有多个窗口的 WPF 应用程序中，每个窗口都在不同的调度程序中运行。

```
System.InvalidOperationException: Cannot use a DependencyObject that belongs to a different thread than its parent Freezable.
   at System.Windows.Freezable.EnsureConsistentDispatchers(DependencyObject owner, DependencyObject child)
   at System.Windows.Freezable.OnFreezablePropertyChanged(DependencyObject oldValue, DependencyObject newValue, DependencyProperty property)
   at System.Windows.Media.RenderData.PropagateChangedHandler(EventHandler handler, Boolean adding)
   at System.Windows.UIElement.RenderClose(IDrawingContent newContent)
   at System.Windows.Media.RenderDataDrawingContext.DisposeCore()
   at System.Windows.Media.DrawingContext.System.IDisposable.Dispose()
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.StackPanel.ArrangeOverride(Size arrangeSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Grid.ArrangeOverride(Size arrangeSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.DockPanel.ArrangeOverride(Size arrangeSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Control.ArrangeOverride(Size arrangeBounds)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Grid.ArrangeOverride(Size arrangeSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Grid.ArrangeOverride(Size arrangeSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Control.ArrangeOverride(Size arrangeBounds)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Control.ArrangeOverride(Size arrangeBounds)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Grid.ArrangeOverride(Size arrangeSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Border.ArrangeOverride(Size finalSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Grid.ArrangeOverride(Size arrangeSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Control.ArrangeOverride(Size arrangeBounds)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Grid.ArrangeOverride(Size arrangeSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Grid.ArrangeOverride(Size arrangeSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Grid.ArrangeOverride(Size arrangeSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at MS.Internal.Helper.ArrangeElementWithSingleChild(UIElement element, Size arrangeSize)
   at System.Windows.Controls.ContentPresenter.ArrangeOverride(Size arrangeSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Grid.ArrangeOverride(Size arrangeSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Control.ArrangeOverride(Size arrangeBounds)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.DockPanel.ArrangeOverride(Size arrangeSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Border.ArrangeOverride(Size finalSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at MS.Internal.Helper.ArrangeElementWithSingleChild(UIElement element, Size arrangeSize)
   at System.Windows.Controls.ContentPresenter.ArrangeOverride(Size arrangeSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Grid.ArrangeOverride(Size arrangeSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Border.ArrangeOverride(Size finalSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Grid.ArrangeOverride(Size arrangeSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Border.ArrangeOverride(Size finalSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Controls.Border.ArrangeOverride(Size finalSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Documents.AdornerDecorator.ArrangeOverride(Size finalSize)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Window.ArrangeOverride(Size arrangeBounds)
   at Syncfusion.Windows.Shared.ChromelessWindow.ArrangeOverride(Size arrangeBounds)
   at System.Windows.FrameworkElement.ArrangeCore(Rect finalRect)
   at System.Windows.UIElement.Arrange(Rect finalRect)
   at System.Windows.Interop.HwndSource.SetLayoutSize()
   at System.Windows.Interop.HwndSource.set_RootVisualInternal(Visual value)
   at System.Windows.Window.SetRootVisualAndUpdateSTC()
   at System.Windows.Window.SetupInitialState(Double requestedTop, Double requestedLeft, Double requestedWidth, Double requestedHeight)
   at System.Windows.Window.CreateSourceWindow(Boolean duringShow)
   at System.Windows.Window.ShowHelper(Object booleanBox)
   at Djali.Services.WindowInfo.PreloadWindow() in c:\src-tfs\Development\Djali\Djali\Services\GuiThreadsService.cs:line 612
   at Djali.Services.GuiThreadsService.<>c__DisplayClass20.<InitializeRuntime>b__11() in c:\src-tfs\Development\Djali\Djali\Services\GuiThreadsService.cs:line 293
   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback, Object args, Int32 numArgs)
   at MS.Internal.Threading.ExceptionFilterHelper.TryCatchWhen(Object source, Delegate method, Object args, Int32 numArgs, Delegate catchHandler) 
```

# python - sqlalchemy sql组成

> ID：13815283
> 
> 赞同：0
> 
> 时间：2012-12-11T07:08:34.657
> 
> 标签：python, orm, sqlalchemy

我正在开发一个广泛使用 sqlalchemy 的代码库，而且我是新手。我在为要编写的查询编写 sqlalchemy 表达式时遇到问题。

我们有以下 3 个表：

1.  产品 -（product_id、product_description、status、available）
2.  类别 - (category_id, category_description)
3.  ProductCategoryLink - (product_id, category_id) [对于多对多关系]

我正在运行一个查询，该查询为我提供了每个类别的产品数量。有些产品没有分配到任何类别，我也想要这些产品（在这种情况下，类别将为空）。我想出了以下查询

```
select c.category_name, count(p.product_id)
from Product as p
left join ProductCategoryLink as pc
  on p.product_id = pc.product_id
left join Category as c      
  on c.category_id = pc.category_id
where p.store_id = 1111      
and p.status = 'ACTIVE'      
and p.available = 1
group by c.category_name; 
```

我的 orm 文件中有以下映射

```
class Product(Base):
    __tablename__ = 'Product'

    product_id          = Column(Integer, primary_key=True, name='product_id')
    product_description = Column(UnicodeText, name='description')
    available           = Column(Boolean, name='available')
    status              = Column(Unicode(length=255), name='status')

metadata = Base.metadata
# association table between product and category
product_category_link = Table('ProductCategoryLink', metadata,
        Column('product_id', Integer, ForeignKey('Product.product_id')),
        Column('category_id', Integer, ForeignKey('Category.category_id'))
)

class Category(Base):
    __tablename__ = 'Category'

    category_id                 = Column(Integer, primary_key=True, name='category_id')
    category_name               = Column(Unicode(length=255), name='category_name')
    products                    = relation('Product', secondary=product_category_link, backref='categories') 
```

我想出了以下ORM表达式

```
 query = session.query(Category.category_name, func.count(Product.product_id)).join(product_category_link).\
            join(Category).filter(
                and_(Product.store_id == self._store_id,
                    and_(Product.status == 'ACTIVE', Product.available == 1))).\
            group_by(Category.category_name).all() 
```

上面的表达式创建的 sql 查询不是我想要的。

```
sqlalchemy.exc.OperationalError: (OperationalError) (1066, "Not unique table/alias: 'Category'") 'SELECT `Category`.category_name AS `Category_category_name`, count(`Product`.product_id) AS count_1 \nFROM `Product`, `Category` INNER JOIN `ProductCategoryLink` ON `Category`.category_id = `ProductCategoryLink`.category_id INNER JOIN `Category` ON `Category`.category_id = `ProductCategoryLink`.category_id \nWHERE `Product`.store_id = %s AND `Product`.status = %s AND `Product`.available = %s GROUP BY `Category`.category_name' (1, 'ACTIVE', 1) 
```

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T08:28:09.120

当您在 Category 上加入 Category 时，它应该有一个别名。

见[https://stackoverflow.com/a/1435186/708221](https://stackoverflow.com/a/1435186/708221)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-18T15:28:24.137

关于文档中的别名：http: [//docs.sqlalchemy.org/en/rel_0_9/orm/tutorial.html#using-aliases](http://docs.sqlalchemy.org/en/rel_0_9/orm/tutorial.html#using-aliases)

# javascript - Reading contents from a JSON url and writing out those contents

> ID：13815285
> 
> 赞同：1
> 
> 时间：2012-12-11T07:08:50.847
> 
> 标签：javascript, jquery, html, ajax, json

I have a url [https://www.inquicker.com/facility/americas-family-doctors.json] that is a JSON data url. How can I access the contents of this url, and write out the values. The format contains schedules as an array that inside it contains schedule_id, name, and available_times. I have tried various ways of getting the JSON file, but none have worked.

UPDATE: Well I have got it this far with this code, and it's laying out what looks like objects from the array. So I believe I got the cross site issue under control. I just need to figure out how to access the data now.

```
<!DOCTYPE html>
<html>
<head>
<title>JQuery (cross-domain) JSONP</title>
<script type="text/javascript"src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js">  </script>
<script>
$(document).ready(function(){
    $.getJSON('https://www.inquicker.com/facility/americas-family-doctors.json', 
        function(data){ 
        alert(data.facility);
        $.each(data.schedules, function(i, name){
            $('#names').append('<li>' + name.available_times[0] +     '</li>');
        });
    });
});
</script>
</head>
<body>
<ul id="names"></ul>
</body>
</html> 
```

Any help, or suggestions will be greatly appreciated, Thanks.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:17:57.013

You cannot generally pass an Ajax request across domains. Normally a server will refuse any Ajax calls that don't come from the same source unless it is explicitly configured otherwise. I am guessing that you aren't calling from the same domain, given that you are using a fully-qualified URL. If you own the server, you will have to configure it to accept such calls from your other domain.

If this is not the case, launch the script in Firefox with Firebug running and look at the console output and tell me what error you get if any.

* * *

Once you manage to pass the JSON from your server back to the page, you will retrieve it in your JavaScript as a string. You then need to execute this function:

```
var jsonObject = JSON.parse(jsonString); 
```

where `jsonString` is the string that you received from your server. `jsonObject` becomes an object representation of the JSON passed back to the answer that you can access using dot notation.

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-11T07:12:22.790

Try something like :

```
alert(json.facility); 
```

There is no `title` json object in the url you have mentioned.

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-11T07:18:25.993

The JSON is already parsed when it comes to your function.

$.get('https://www.inquicker.com/facility/americas-family-doctors.json', function(result){ alert(result.facility); //Do whatever you want here

// result.schedules array is also ready });

# php - 联合两个关联数组PHP？

> ID：13815287
> 
> 赞同：5
> 
> 时间：2012-12-11T07:08:59.023
> 
> 标签：php, arrays, multidimensional-array

我想联合 2 数组`$A`和`$B`示例：

```
$A = Array(
    0=>array(
            'lable' =>"label0",
            'id_poste'=>1,
            'id_part'=>11
    ),
    1=>array(
            'lable' =>"label1",
            'id_poste'=>2,
            'id_part'=>12
            ),
    2=>array(
            'lable' =>"label2",
            'id_poste'=>3,
            'id_part'=>13
    ),
    3=>array(
            'lable' =>"label3",
            'id_poste'=>4,
            'id_part'=>14
            )
);

$B = Array(
    0=>array(
            'lable' =>"label0",
            'id_poste'=>1,
            'id_part'=>11
    ),
    1=>array(
            'lable' =>"label1_X",
            'id_poste'=>2,
            'id_part'=>12
            ),
    2=>array(
            'lable' =>"label2",
            'id_poste'=>3,
            'id_part'=>13
    ),
    3=>array(
            'lable' =>"label3_X",
            'id_poste'=>4,
            'id_part'=>14
            )
); 
```

这两个数组之间联合的结果将是

```
/*
$result => Array(
    0=>array(
            'lable' =>"label0",
            'id_poste'=>1,
            'id_part'=>11
    ),
    1=>array(
            'lable' =>"label1",
            'id_poste'=>2,
            'id_part'=>12
            ),
    2=>array(
            'lable' =>"label1_X",
            'id_poste'=>2,
            'id_part'=>12
            )       
    3=>array(
            'lable' =>"label2",
            'id_poste'=>3,
            'id_part'=>13
    ),
    4=>array(
            'lable' =>"label3",
            'id_poste'=>4,
            'id_part'=>14
            ),
    5=>array(
            'lable' =>"label3_X",
            'id_poste'=>4,
            'id_part'=>14
            )
);
*/ 
```

我试过了：

```
$C = $A+$B;
echo '<pre>';
print_r($C);
echo '</pre>' 
```

但结果不是我预期的？有人可以帮忙吗？

谢谢

EIDT：

如果使用`array_merge($A, $B);`

```
Array
(
[0] => Array
    (
        [lable] => label0
        [id_poste] => 1
        [id_part] => 11
    )

[1] => Array
    (
        [lable] => label1
        [id_poste] => 2
        [id_part] => 12
    )

[2] => Array
    (
        [lable] => label2
        [id_poste] => 3
        [id_part] => 13
    )

[3] => Array
    (
        [lable] => label3
        [id_poste] => 4
        [id_part] => 14
    )

[4] => Array
    (
        [lable] => label0
        [id_poste] => 1
        [id_part] => 11
    )

[5] => Array
    (
        [lable] => label1_X
        [id_poste] => 2
        [id_part] => 12
    )

[6] => Array
    (
        [lable] => label2
        [id_poste] => 3
        [id_part] => 13
    )

[7] => Array
    (
        [lable] => label3_X
        [id_poste] => 4
        [id_part] => 14
    ) 
```

)

就像我们在这里看到的数组是重复的：所以我们使用`array_unique`但是我们仍然得到一个错误或警告。

`Array to string conversion in C:\Program Files\EasyPHP-12.1\www\PHP\array_union.php on line 86`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-11T07:31:40.330

我得到了一个有点棘手的解决方案。我将合并 A 及其与 B 的差异。为了确定这种差异，我使用 array_udiff：我认为这很棘手，因为它依赖于带有标签键的标识。

```
$C = array_merge($A, 
            array_udiff($B, $A, 
                        function($a,$b){
                            return strcmp($a['lable'],$b['lable']);
                        }
           )
); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:11:02.993

```
array_merge($A, $B); 
```

是你要找的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:11:23.110

用于`array_merge()`此目的

```
$C = array_merge($A,$B);
echo '<pre>';
print_r($C);
echo '</pre>' 
```

请参阅工作示例[http://codepad.viper-7.com/LrVHn3](http://codepad.viper-7.com/LrVHn3)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-11T07:15:41.403

你可以用`array_merge()`这个..因为你需要删除重复项，你还必须使用`array_unique()`....

```
$C = array_unique(array_merge($A,$B), SORT_REGULAR);
echo '<pre>';
print_r($C);
echo '</pre>' 
```

请参阅[array_unique](http://php.net/manual/en/function.array-unique.php)和[array_merge](http://php.net/manual/en/function.array-merge.php)

它给了我正确的结果

```
Array
(
    [0] => Array
        (
            [lable] => label0
            [id_poste] => 1
            [id_part] => 11
        )

    [1] => Array
        (
            [lable] => label1
            [id_poste] => 2
            [id_part] => 12
        )

    [2] => Array
        (
            [lable] => label2
            [id_poste] => 3
            [id_part] => 13
        )

    [3] => Array
        (
            [lable] => label3
            [id_poste] => 4
            [id_part] => 14
        )

    [5] => Array
        (
            [lable] => label1_X
            [id_poste] => 2
            [id_part] => 12
        )

    [7] => Array
        (
            [lable] => label3_X
            [id_poste] => 4
            [id_part] => 14
        )

) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-11T07:50:49.667

```
<?php

$input = array_merge( $A, $B );
$input = array_map( "unserialize", array_unique(array_map("serialize", $input)) );

var_dump( $input ); 
```

# spring-webflow - 将 OpenCms 集成到 spring webflow 应用程序中

> ID：13815290
> 
> 赞同：0
> 
> 时间：2012-12-11T07:09:15.983
> 
> 标签：spring-webflow, opencms

我有一个基于 Spring Web Flow 框架开发的应用程序。在我的应用程序中，我需要显示一些我选择 OpenCMS 的广告。但是将 OpenCMS 集成到我的应用程序中我无法做到这一点。所有可用的教程都类似于在 OpenCMS 中集成 Web 应用程序。在这里，我的要求是相反的。对此的任何投入将不胜感激。

这里有一些我想知道的问题。

我们可以在 OpenCMS 中创建 web 服务吗？我们可以从我的应用程序 jsp 页面调用该 Web 服务吗？

任何输入将不胜感激......

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-12T04:16:25.197

最终复制到[Integration of Java application with OpenCms](https://stackoverflow.com/questions/3263558/integration-of-javaapplication-with-opencms)，但是问题是相反的，如何将 Spring 集成到 OpenCms 中。

是的，你可以在 OpenCms 中实现 Web 服务，基本上你可以在 OpenCms 中做任何你可以用 Java、JSP、Servlet 技术做的事情。您可以部署自己的自定义 jars、taglibs、实现 RESTful 服务等。

我认为最好明确地详细了解您的困难或问题。

我的意思是，如果你只是想让 OpenCms 充当 Web 服务后端，那么它不是“真正的”集成，那么它几乎是松散耦合的。然后，您只需像处理任何其他 Web 服务后端一样处理 OpenCms，差别不大。这种方式在“整合”方面非常容易。

然后，您可以让 OpenCms 返回 json 或 xml，而不是 html，方法是创建模板并将它们分配给您的资源（即 OpenCms 中的结构化内容，使用 cms:contentload 标签，但输出 json）。这就是“基本上它”。因此，不清楚您目前在 OpenCms 中究竟在哪里苦苦挣扎，请让我知道更多细节以及您的 OpenCms 设置、体验等的当前状态。

# php - 如何确保特定对象仅由另一个对象实例化？

> ID：13815295
> 
> 赞同：0
> 
> 时间：2012-12-11T07:09:37.690
> 
> 标签：php, design-patterns, registry

如何确保仅通过另一个特定对象实例化一个对象？

例如，假设我有一个 Registry 对象来存储我的 Mappers。当客户端代码调用`get()`Registry 上的方法时，它会延迟加载并返回请求的 Mapper。这很好，除了没有什么可以阻止客户端代码使用`new`操作符创建 Mapper 的重复实例。

我能想到的唯一选择是我的 Mappers 需要一个 Registry 对象作为参数。还有其他选择吗？

你做什么工作？我是否应该为防止这种重复而烦恼？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T08:23:22.317

也许您不应该试图阻止人们自己创建实例？如果您不相信自己或您的同事不会在不应实例化对象的地方实例化对象，那么您就有问题了。

如果映射器不需要注册表来运行，则不应通过构造函数反对它。将它传递给一些静态方法似乎很奇怪，并且由于您使用的是静态的，因此会使您的代码不太灵活。您将如何对映射器进行单元测试，而无需编写一些技巧来通过注册表正确实例化它们，您在这些测试中不需要？好帖子在这里：http: [//kore-nordmann.de/blog/0103_static_considered_harmful.html](http://kore-nordmann.de/blog/0103_static_considered_harmful.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:19:44.233

您无法保护`new`运营商。但是，您可以做的是，您的类中有一个`get()`方法可以使您的类/对象成为单例（或像您一样使用注册表）。

```
class clTest {
 private static $oInstance;

 public static function get() {
  if( !self::$oInstance ) {
   self::$oInstance = new clText;
  }

  return self::$oInstance;
 }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:23:53.977

如果您希望防止外部实例化，您只需将 __construct 声明为私有，然后使用对静态方法的调用来获取 Mapper 类的实例。然后，您可以传入注册表类的实例，并且仅当参数是注册表类的实例时才返回一个新实例。

```
class Mapper{
  private __construct(){}

  public static function getInstance($registry){
    if($registry instanceof Registry){
      return new Mapper();
    }
  }
}

$registry = new Registry();
$mapper = Mapper::getInstance($registry); 
```

# jsf - 验证失败后输入字段不清除

> ID：13815297
> 
> 赞同：0
> 
> 时间：2012-12-11T07:09:45.857
> 
> 标签：jsf

我有一个表单，它包含用户名和密码等...如果我提供了任何错误的值，验证将失败。接下来，如果我看到先前给定值出现在输入字段中的表单 na.. 我也清除了 bean 值。但输入字段尚未清除。

我已经使用以下链接第一步清除了输入字段。

[https://cwiki.apache.org/MYFACES/clear-input-components.html](https://cwiki.apache.org/MYFACES/clear-input-components.html)

这是有效的，但问题是这仅在`<rich:datatable>`第一页有效。如果我已经导航到第二页和下一页，并且所有弹出面板本身都没有打开。

我正在使用jsf 2.0版，请提供一个好的解决方案。谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:25:55.500

您可以将[OmniFaces 库](http://omnifaces.org)添加到您的项目中并使用他们的[ResetInputAjaxActionListener](http://omnifaces.org/docs/javadoc/current/org/omnifaces/eventlistener/ResetInputAjaxActionListener.html)

像这样

```
<h:commandButton value="Update" action="#{bean.update}">
    <f:ajax execute="@this" render="@form" />
    <f:actionListener type="org.omnifaces.eventlistener.ResetInputAjaxActionListener" />
</h:commandButton> 
```

**在BalusC**博客上阅读有关它的更多信息[Reset non-processed input components on ajax update](http://balusc.blogspot.co.il/2012/03/reset-non-processed-input-components-on.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T08:12:57.987

你在使用会话范围吗？将其更改为请求范围。否则，添加您的 xhtml 页面和 bean 类。

# google-shared-contacts - 可以创建/更新 JSON 格式的联系人吗？

> ID：13815298
> 
> 赞同：1
> 
> 时间：2012-12-11T07:09:46.400
> 
> 标签：google-shared-contacts

我们可以使用 v3 Contacts API 以 JSON 格式检索联系人——但是我们可以在 JSON 中创建或更新它们，还是必须转换为原子格式 (PITA)？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T22:15:18.757

AFAIK 只能检索 JSON。PUT/POST 仍然需要 XML/Atom。

是的 - 我同意绝对需要完整的 JSON 支持。API 在过去 2 年中似乎没有受到太多的喜爱（请参阅此处的未解决问题列表：[http ://code.google.com/a/google.com/p/apps-api-issues/issues/list ?can=2&q=contact&colspec=API+ID+Type+Status+Priority+Stars+Opened+Summary&cells=tiles](http://code.google.com/a/google.com/p/apps-api-issues/issues/list?can=2&q=contact&colspec=API+ID+Type+Status+Priority+Stars+Opened+Summary&cells=tiles) )

# javascript - 保留在回发时通过客户端更改的控制/元素值

> ID：13815300
> 
> 赞同：0
> 
> 时间：2012-12-11T07:09:58.523
> 
> 标签：javascript, asp.net, ajax

我在我的一个带有 ASP.NET 4.0 的应用程序中使用 Jquery AJAX。它是一个网络应用程序。我使用了服务器端编码 + 客户端编码方法，即使用 Jquery、JS 和 AJAX。

我有一些包含在 div 元素中的控件，我通过下拉列表的客户端索引更改事件使它们隐藏/显示。

当由于服务器端验证或任何其他实例而发生回发时，div 将保留旧值，即它们的初始状态。例如：div第一次可见，我通过客户端下拉列表的索引更改隐藏它，所以当回发发生时它再次可见，尽管它应该被隐藏。

我已经使用 hiddenfield 来存储值并根据 jquery document.ready 事件中的 Hiddenfield 的值显示/隐藏 div。

现在，我想问有没有其他方法可以得到想要的结果。我期待一些标准的方法来做到这一点，因为现在几乎所有的应用程序都启用了客户端和 AJAX。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:13:40.903

如果要重新加载整个页面，则必须将状态存储在某处。AJAX 允许您减少/消除页面的完全重新加载，因此它提供了保留状态的错觉。

ASP.Net（我假设问题中的 Web 表单）可以通过将`Visible`属性`div`放入`ViewState`. 这通常需要一个完整的回发或一个`UpdatePanel`（两者都不太理想但确实有效）。

## 其他选择

*   隐藏字段适用于很多事情。
*   Cookie 在特定情况下工作（保持小——记住它们会随每个请求一起发送！）
*   当您想要存储服务器不需要了解太多/任何信息的客户端值时，Web 浏览器中的本地存储非常有用。

# android - 使用 Rhodes 和 GCM 推送通知

> ID：13815302
> 
> 赞同：0
> 
> 时间：2012-12-11T07:10:06.040
> 
> 标签：android, push-notification, rhodes

在我的 Android 应用程序中，我需要在不使用 Rhoconnect 的情况下使用 Rhodes 实现推送通知。我尝试使用谷歌云消息传递。但无法注册 android 设备。请帮助/指导我了解设备将如何注册以发送推送消息到设备？

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T11:26:01.987

获取设备 ID 使用电话 U 可以在这里使用它是

```
public static String deviceUDID(Context ctx) {
    final TelephonyManager tm = (TelephonyManager) ctx.getSystemService(Context.TELEPHONY_SERVICE);

    final String tmDevice, tmSerial, androidId;
    tmDevice = "" + tm.getDeviceId();
    tmSerial = "" + tm.getSimSerialNumber();
    androidId = "" + android.provider.Settings.Secure.getString(ctx.getContentResolver(), android.provider.Settings.Secure.ANDROID_ID);

    UUID deviceUuid = new UUID(androidId.hashCode(), ((long)tmDevice.hashCode() << 32) | tmSerial.hashCode());
    String deviceId = deviceUuid.toString();
    Log.d("Device Id", deviceId);
    return deviceId;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:40:04.487

使用 C2DM 注册设备 请在此处查看[C2DM](http://www.vogella.com/articles/AndroidCloudToDeviceMessaging/article.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-30T19:21:53.067

首先，`is System.get_property('device_id')`not `System.get('device_id')`，在 GCM 为设备提供标识符之前，此值将为空。我也在做这件事。我相信您必须遵循以下步骤：

*   在 build.yml 文件中添加：

    ```
    capabilities:
    - push 
    ```

*   将推送回调添加到您的应用程序，以提醒用户，无论您需要做什么。据我了解，在使用 Rhomobile 时，您无法使用模拟器推送消息，因此您必须将其放在设备上。设备将联系 GCM 服务器以接收来自您的 android 应用程序的推送消息。

如果您设置应用程序包来执行此操作，GCM 服务器将为您的设备提供一个 ID，然后您已设置将此 ID 从您的设备发送到您的服务器，以便能够将消息推送到该设备的应用程序. 我仍然需要弄清楚一些事情，但这就是过程。祝你好运！

# android - Android 键盘字符验证

> ID：13815303
> 
> 赞同：1
> 
> 时间：2012-12-11T07:10:06.747
> 
> 标签：android, validation, keyboard, textwatcher

我想要一个Android 应用程序上的**EditText**来限制允许用户输入的字符。

例如，也许我不希望我的用户能够在我的文本框中键入字母“X”。如果他们点击软键盘上的 X 键，输入应该被简单地忽略。

我得到的印象是我可以使用**TextWatcher**来调节可以在文本框中输入哪些字符，但我不太确定最好的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:17:52.647

在xml中试试这个`EditText`

```
android:digits="abcdef-jklmn" 
```

不要添加您不想让用户输入的字符。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:46:24.167

使用这个可能会有所帮助..

```
 editText.setOnKeyListener(new View.OnKeyListener() {
public boolean onKey(View v, int keyCode, KeyEvent event) {
    switch(keyCode)
 {
        case KeyEvent.KEYCODE_0:
            //handle code for pressing 0
            break;
        default:
            break;
    }
} 
```

});

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:23:51.747

尝试：

```
myEditText.addTextChangedListener(new TextWatcher() {
        public void onTextChanged(CharSequence s, int start, int before, int count) {

            s = removeChars(s);

        }

        public void beforeTextChanged(CharSequence s, int start, int count, int after) {

            // TODO Auto-generated method stub
        }

        public void afterTextChanged(Editable s) {

            // TODO Auto-generated method stub
        }
    });

 public static String removeChars(String input) {

    String charactersToDelete = "áàäéèëíìïóòöúùuñÁÀÄÉÈËÍÌÏÓÒÖÚÙÜÑçÇQWERTYUIOPÑLKJHGFDSAZXCVBNM";

    String output = input;
    for (int i=0; i<original.length(); i++) {
        output.replaceAll(charactersToDelete.charAt(i)+"", "");
    }
    return output;
} 
```

# android - 根据android应用程序中的自定义主题在自定义文本视图之间切换

> ID：13815304
> 
> 赞同：2
> 
> 时间：2012-12-11T07:10:10.633
> 
> 标签：android, android-layout, textview, android-ui, android-theme

在我的应用程序中，我正在实施`5 different Custom App Themes`.

我为这些我创建的主题使用了 5 种不同的字体，`CustomTextview`它们扩展了`Textview`. 以下是它的创建格式。

```
public class CustomFontTextView extends TextView {
private static final String CUSTOM_FONT = "Custom-Regular.ttf";
private static final String TAG = CustomFontTextView.class.getName();

public CustomFontTextView(Context context) {
    super(context);

    if (android.os.Build.VERSION.SDK_INT < 14) {
        setCustomFont(context, CUSTOM_FONT);
    }
}

public CustomFontTextView(Context context, AttributeSet attrs) {
    super(context, attrs);

    if (android.os.Build.VERSION.SDK_INT < 14) {
        setCustomFont(context, CUSTOM_FONT);
    }
}

public CustomFontTextView(Context context, AttributeSet attrs, int defStyle) {
    super(context, attrs, defStyle);

    if (android.os.Build.VERSION.SDK_INT < 14) {
        setCustomFont(context, CUSTOM_FONT);
    }    
}

public boolean setCustomFont(Context ctx, String fontFile) {
    try {
        setTypeface(Typeface.createFromAsset(ctx.getAssets(), fontFile));       
        return true;

    } catch (Exception e) {
        Log.e(TAG, "Could not get typeface: "+e.getMessage());
        return false;
    }
} 
```

}

我在 XML 布局中使用自定义文本视图。

```
 <com.myapp.android.fonts.CustomFontTextView
    android:id="@+id/Text_name"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"

    android:text="@string/my_text_content"
    android:textColor="@android:color/white"
    android:textSize="22sp" /> 
```

但是为了实现不同的主题，我必须找到一些方法来根据选择的主题改变我的所有文本视图。

有什么方法可以在我的主题中设置字体，

```
 <style name="MyCustomTheme" parent="android:style/Theme">
               ..............   ......................
             ...........     ...................
         <item name="android:textColorPrimary">#000000</item>
         <item name="android:buttonStyle">@style/MyCustomButton</item>
      </style> 
```

我想在不干扰代码的情况下实现这一点，因为涉及到很多 UI 组件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:28:06.613

为字体创建一个自定义属性并将其包含在样式中。在您的 CustomView 类中，访问此属性并相应地设置字体。

检查[创建视图类](http://developer.android.com/training/custom-views/create-view.html)以获取更多详细信息。

# ios - 从 UIViewController 呈现 UINavigationController

> ID：13815306
> 
> 赞同：1
> 
> 时间：2012-12-11T07:10:18.557
> 
> 标签：ios, uiviewcontroller, uinavigationcontroller

CurrentViewController.h

```
#import <UIKit/UIKit.h>
#import "nextNavViewController.h"
@interface CurrentViewController : UIViewController 

{
nextNavViewController *contr;
}
- (IBAction)showNavView:(id)sender;

@end 
```

当前视图控制器.m

```
/*..........*/
- (IBAction)showNavView:(id)sender {
    contr = [[nextNavViewController alloc]initWithNibName:@"nextNavViewController"bundle:nil];
    [self presentViewController: contr animated:YES completion:nil];

}
/* ......... */ 
```

下一个NavViewController.h

```
#import <UIKit/UIKit.h>

@interface nextNavViewController : UINavigationController

@end 
```

我有“nextNavViewController.xib”，其中包含一个表格、一些按钮和自定义导航栏。我希望加载此界面，但它会加载带有空白屏幕的空白导航栏。

我正在做的事情可能吗？我必须做什么才能加载自定义界面？？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-11T07:34:09.797

有几件事：

1）小心你的班级名称。确保他们遵循[objective-c标准](http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CodingGuidelines/Articles/NamingBasics.html#//apple_ref/doc/uid/20001281-BBCHBFAH)

2）您不需要子类 a `UINavigationController`。如果您想获得 a 的某些功能`UINavigationController`，只需：

```
contr = [[nextNavViewController alloc]initWithNibName:@"nextNavViewController"bundle:nil];

UINavigationController *myNavigation = [[UINavigationController alloc] initWithRootViewController:contr];

[self presentViewController:myNavigation animated:YES completion:nil]; 
```

# ios - 当ios应用程序处于后台状态时写入数据库

> ID：13815316
> 
> 赞同：0
> 
> 时间：2012-12-11T07:11:14.553
> 
> 标签：ios, nsurlconnection, background-process, nsnotificationcenter, uiapplication

当 iPhone 应用程序处于后台状态或应用程序最小化时，我想监控应用程序处于后台的持续时间，并且每隔 24 小时需要从 Web 服务器获取更新并将修改写入本地数据库。

只要应用程序处于后台，此监控周期就会重复。这种任务在 iPhone 应用程序中是可能的吗？当应用程序处于后台状态时，任何人都可以帮助我如何执行这些任务？

beginBackgroundTaskWithExpirationHandler：是使应用程序在后台执行长任务的 API，但它支持多长时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:14:18.130

后台任务在 10 分钟后被终止，所以回答您的问题：不，这并非没有通过重要位置的更新来伪造某种长期事件处理，即使那样，您也无法控制事件的确切发送时间。另一方面，使用 APNS 来提醒用户更改有可能被忽略，但具有规律性。

# iphone - 如何编辑文本字段中的标签？

> ID：13815326
> 
> 赞同：0
> 
> 时间：2012-12-11T07:11:53.010
> 
> 标签：iphone, ios, xcode, uitextfield, uilabel

我从上一个视图控制器获取标签并在下一个视图控制器中显示该标签，但我想让它们在文本字段中编辑，我将这些标签设置为已启用用户交互，但它仍然无法正常工作

```
 -(void)setDataOnForm
{
    nameLbl.text=name;
    emailLbl.text=email;

    imageSelect.image=[MyCommonFunctions getImageFromDocuments:image];

    NSLog(@"image %@", image);

} 
```

这是我以前的视图控制器

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
 user *worddc=[dataArray objectAtIndex:[indexPath row]];
    profileVC *pvc =[[profileVC alloc]initWithNibName:@"profileVC" bundle:nil];
   [self.navigationController pushViewController:pvc animated:YES];
    pvc.getid=worddc.user_id;
    pvc.name=worddc.name;
    pvc.email=worddc.email;
    pvc.image=worddc.image;
   [pvc setDataOnForm];

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:14:48.160

如果要编辑文本，请使用 UITextFiled 而不是 UILabel。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:15:55.633

在您的第二个视图中创建一个 UITextField 并使用

```
 [textField setText:name]; 
```

# mysql - 需要在我的 SQL 查询中进行一些修改

> ID：13815331
> 
> 赞同：2
> 
> 时间：2012-12-11T07:12:07.910
> 
> 标签：mysql, sql

我有一个查询，它返回以 7 天的间隔时间在特定日期注册的用户总数。我还想获得零计数数据，以便我可以将其绘制在我的图表上。**如何获取零计数值？**

查询：

```
select date(update_timestamp) as date, count(*) users
from registered
where date(update_timestamp) between date_sub(sysdate(), interval 7 day) and sysdate()
group by date(update_timestamp) 
```

我之前的查询几乎没有问题，这在这篇文章[http://bit.ly/12irdyf](http://bit.ly/12irdyf)上得到了解决。问题已经解决，但是我需要修改我的查询，现在我也需要显示空值。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T07:19:46.390

保持一个日历表的最佳方法，该表有一年中每个日期的条目。

```
select    date(update_timestamp) as date, count(*) users
from      calender_table c
left join registered r
on        date(update_timestamp)=c.date
where     c.date between date_sub(sysdate(), interval 7 day) and sysdate()
group by  c.date 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:15:59.637

零计数值是什么意思？也许你需要：

```
select date(update_timestamp) as date, count(*) users, '0' AS zero 
```

也许您想获取没有用户的日期？

只需找到第一个用户注册之前的日期，然后像上面一样为其分配零。

# java - 为什么私有、静态、受保护的访问修饰符不与类一起使用？

> ID：13815333
> 
> 赞同：-1
> 
> 时间：2012-12-11T07:12:11.220
> 
> 标签：java

为什么相同，可以与内部类一起使用？

```
public class Hello {
    class inner{ // this class can use any modifier
    }
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-11T07:25:13.600

Java 仅允许顶级类/接口为`public`或`package`.

[JLS 的第 7.6 节](http://docs.oracle.com/javase/specs/jls/se7/html/jls-7.html)状态（顶级类型声明）：

> 默认情况下，a 中声明的顶级类型`package`只能在该包的编译单元内访问，但可以将一个类型声明为 public 以授予从其他包中的代码访问该类型的权限（第 6.6 节、第 8.1.1 节、 §9.1.1)。

接口修饰符[的 JLS 的第 9.1.1 节指出：](http://docs.oracle.com/javase/specs/jls/se7/html/jls-9.html)

> 访问修饰符 protected 和 private**仅**适用于直接封闭类或枚举声明（第 8.5.1 节）中的成员接口。
> 
> 修饰符`static`仅适用于成员接口（第 8.5.1 节、第 9.5 节）， **而不适用于顶级接口**（第 7.6 节）。

我希望这很清楚。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T08:40:16.027

嵌套类可以是`static`, `private`, `protected`, package-local 或`public`

顶级课程不是；

*   `static`因为这没有任何意义。 `static`对于嵌套类意味着它不包含对外部类的引用，但是如果您是外部类，则它没有用处。
*   `private`无法从另一个类文件访问类，因此无法访问私有顶级类。
*   `protected`类可能会从子类中使用，但使类`abstract`更清晰。恕我直言。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-11T07:29:59.627

**私有**顶级类没有任何意义，因为您无法从任何地方访问它。

**受保护**意味着访问外部类的同一包或子类中的类。由于Java中没有包继承，因此受保护的类也没有任何意义。

当我们将方法/参数声明为**static**时，我们可以在不创建对象实例的情况下访问它。因为静态成员属于整个类，而不是类或对象的实例。由于顶级类没有封闭类，因此将顶级类定义为静态是没有意义的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-11T07:14:43.433

所有类型的**访问**修饰符都可以用于所有类型的`class`s（匿名类除外）。

具有其他类型修饰符的类将提供访问权限，就像方法一样。

`static`行不通，因为这意味着它属于某个其他类，对于外部类来说永远不会如此。

# svn - Hudson + SVN 仅将增量文件复制到工作区

> ID：13815334
> 
> 赞同：0
> 
> 时间：2012-12-11T07:12:18.500
> 
> 标签：svn, tortoisesvn, hudson

我正在使用带有 SVN 的 Hudson。现在当我运行构建时，它会将所有文件从分支复制到我的工作目录。我只需要修改/新添加的文件作为构建的一部分。构建应该只将增量单元复制到工作目录。我怎样才能做到这一点。请指教。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T17:44:02.950

第一次结帐将是完整的结帐/副本。

所有后续结帐，将仅提取自上次结帐以来的更改。为此，在作业配置的 SCM 部分中，您需要确保将**Check-out Strategy**设置为**尽可能使用“svn update”**

# jquery - 注销时如何在jquery手风琴菜单中删除cookie

> ID：13815339
> 
> 赞同：1
> 
> 时间：2012-12-11T07:12:38.173
> 
> 标签：jquery, menu, refresh, accordion

我正在使用 j 查询手风琴垂直菜单。现在单击一个菜单，然后注销。登录后保持相同的单击菜单。我想在登录时刷新菜单。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:15:21.767

删除 cookie 设置 null

```
$.cookie("name", null); 
```

# oracle - 在 OCJ4 中找不到 MDSBackingStore 的类

> ID：13815340
> 
> 赞同：1
> 
> 时间：2012-12-11T07:12:43.507
> 
> 标签：oracle, jakarta-ee, jndi, classnotfoundexception

我在 ocj4 服务器中部署了一个 ear 应用程序。当我尝试访问应用程序时，发生异常：

```
500 Internal Server Error

Servlet error: An exception occurred. The current application deployment descriptors do      not allow for including it in this response. Please consult the application log for details. 
```

我打开 application.log ：

```
12/12/11 13:47:54.76 ViewArchive: Servlet error
 java.lang.NoClassDefFoundError: oracle/adf/share/jndi/MDSBackingStore
    at oracle.jbo.client.Configuration.loadFromClassPath(Configuration.java:446)
at oracle.jbo.common.ampool.PoolMgr.loadConfiguration(PoolMgr.java:600)
at oracle.jbo.common.ampool.PoolMgr.findPool(PoolMgr.java:526)
at oracle.jbo.client.Configuration.createRootApplicationModule(Configuration.java:1513)
at oracle.jbo.client.Configuration.createRootApplicationModule(Configuration.java:1490)
at LoginModule.view.utils.LoginValidateDB.checkUserExist(LoginValidateDB.java:24)
at LoginModule.view.utils.LoginValidateServlet.doPost(LoginValidateServlet.java:44)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:763)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:856)
at com.evermind[Oracle Containers for J2EE 10g (10.1.3.5.0) ].server.http.ServletRequestDispatcher.invoke(ServletRequestDispatcher.java:734)
at com.evermind[Oracle Containers for J2EE 10g (10.1.3.5.0) ].server.http.ServletRequestDispatcher.forwardInternal(ServletRequestDispatcher.java:391)
at com.evermind[Oracle Containers for J2EE 10g (10.1.3.5.0) ].server.http.HttpRequestHandler.doProcessRequest(HttpRequestHandler.java:908)
at com.evermind[Oracle Containers for J2EE 10g (10.1.3.5.0) ].server.http.HttpRequestHandler.processRequest(HttpRequestHandler.java:458)
at com.evermind[Oracle Containers for J2EE 10g (10.1.3.5.0) ].server.http.HttpRequestHandler.serveOneRequest(HttpRequestHandler.java:226)
at com.evermind[Oracle Containers for J2EE 10g (10.1.3.5.0) ].server.http.HttpRequestHandler.run(HttpRequestHandler.java:127)
at com.evermind[Oracle Containers for J2EE 10g (10.1.3.5.0) ].server.http.HttpRequestHandler.run(HttpRequestHandler.java:116)
at oracle.oc4j.network.ServerSocketReadHandler$SafeRunnable.run(ServerSocketReadHandler.java:260)
at oracle.oc4j.network.ServerSocketAcceptHandler.procClientSocket(ServerSocketAcceptHandler.java:234)
at oracle.oc4j.network.ServerSocketAcceptHandler.access$700(ServerSocketAcceptHandler.java:29)
at oracle.oc4j.network.ServerSocketAcceptHandler$AcceptHandlerHorse.run(ServerSocketAcceptHandler.java:879)
at com.evermind[Oracle Containers for J2EE 10g (10.1.3.5.0) ].util.ReleasableResourcePooledExecutor$MyWorker.run(ReleasableResourcePooledExecutor.java:298)
at java.lang.Thread.run(Thread.java:722)
 Caused by: oracle.classloader.util.AnnotatedClassNotFoundException: 

  Missing class: oracle.adf.share.jndi.MDSBackingStore

Dependent class: oracle.jbo.client.Configuration
         Loader: JAS.web.ViewArchive:0.0.0
    Code-Source: /C:/Users/iswanto/Desktop/oc4j_extended_101350/j2ee/home/applications/JAS/ViewArchive/WEB-INF/lib/adfm.jar 
```

我尝试搜索包含 MDSBackingStore 但未找到的 JAR 文件。问题是：我怎样才能得到那个罐子？

谢谢。

# web-config - web.config 中的 Ektron UrlAliasing 模块

> ID：13815343
> 
> 赞同：2
> 
> 时间：2012-12-11T07:12:50.093
> 
> 标签：web-config, ektron

谁能解释 Ektron 网站的 web.config 中的以下模块条目？

```
 <add name="EkUrlAliasModule" type="UrlAliasingModule" preCondition="integratedMode" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T17:45:37.740

Ektron 有一个[URL Aliasing 模块](http://documentation.ektron.com/cms400/v85/webhelp/Navigating/URLs/URL_aliasing_intro.htm)，它允许工作区中的业务用户为 CMS 中的页面定义用户/SEO 友好的 URL。

web.config 中的那个条目是 asp.net 应用程序用来引用该模块的。

# yii - YII 中的 SQL 错误 ::: SQLSTATE[42000]: 语法错误或访问冲突：1064

> ID：13815344
> 
> 赞同：-3
> 
> 时间：2012-12-11T07:12:51.403
> 
> 标签：yii, mysqli

我在 yii 中写了一个 sql 代码，它给出了这个错误：

CDbCommand 执行 SQL 语句失败：SQLSTATE[42000]: Syntax error or access violation: 1064 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 ')' 附近使用正确的语法。执行的 SQL 语句是：SELECT * FROM users where id in ()

我不知道为什么会这样............代码是：

```
$t = implode(",", $array12);
echo $t;
$sql2    = 'SELECT * FROM users where id in ('. $t. ')';
// echo $sql2; die;
$command = $connection->createCommand($sql2);
$row5    = $command->queryAll();

echo "<pre>";
print_r($row5);
echo "</pre>"; 
```

当我使用 echo $sql2 和 die() 回显 sql 以查看 sql 时，它给了我这个：SELECT * FROM users where id in (44,45)

现在，我直接在as中使用了上面的sql

```
$sql2    = 'SELECT * FROM users where id in (44,45)';
$command = $connection->createCommand($sql2);
$row5    = $command->queryAll(); 
```

并且它的工作完美，我不知道如何处理我的 sql。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-12T05:48:53.027

$array12 为空时出现错误：

SELECT * FROM users where id in ()（在错误消息的末尾检查整个 sql）

您必须检查以计算 $array12 中的元素：

```
if (count($array12)) {
  $t = implode(",", $array12);
  $sql2    = 'SELECT * FROM users where id in ('. $t. ')';
  // echo $sql2; die;
  $command = $connection->createCommand($sql2);
  $row5    = $command->queryAll();
} else {
  $row5    = array();
} 
```

# python - python 2.7如何保留通过yield生成的函数的方法属性？

> ID：13815346
> 
> 赞同：5
> 
> 时间：2012-12-11T07:13:01.560
> 
> 标签：python, python-2.7

我一直在做很多搜索，但我认为我并没有真正找到我一直在寻找的东西。我会尽力解释我正在尝试做的事情，希望有一个简单的解决方案，我会很高兴学到新的东西。

**这最终是我想要完成的：** 使用鼻子测试，使用属性选择器插件装饰一些测试用例，然后在命令行调用期间使用 -a 开关执行匹配标准的测试用例。然后将执行的测试的属性值存储在外部位置。我正在使用的命令行调用如下：

```
nosetests \testpath\ -a attribute='someValue' 
```

我还创建了一个自定义的nosetest 插件，它存储测试用例的属性，并将它们写入外部位置。这个想法是我可以选择一批测试，并通过存储这些测试的属性，我可以稍后对这些结果进行过滤以用于报告目的。我通过使用类似于以下代码的“wantMethod”方法来访问我的插件中的方法属性：

```
def set_attribs(self, method, attribute):
    if hasattr(method, attribute):
        if not self.method_attributes.has_key(method.__name__):
            self.method_attributes[method.__name__] = {}

        self.method_attributes[method.__name__][attribute] = getattr(method, attribute)

def wantMethod(self, method):
    self.set_attribs(method, "attribute1")
    self.set_attribs(method, "attribute2")
    pass 
```

我几乎可以在所有测试中使用它，除了一种情况，其中测试使用“yield”关键字。发生的事情是生成的方法执行得很好，但是每个生成的函数的方法属性都是空的。

下面是我想要实现的示例。下面的测试检索一个值列表，并且对于这些值中的每一个，从另一个函数产生结果：

```
@attr(attribute1='someValue', attribute2='anotherValue')
def sample_test_generator(self):
    for (key, value) in _input_dictionary.items()
        f = partial(self._do_test, key, value)
        f.attribute1='someValue'
        yield (lambda x: f(), key)

def _do_test(self, input1, input2):
    # Some code 
```

根据我的阅读并认为我理解，当调用 yield 时，它会创建一个新的可调用函数，然后执行该函数。我一直在试图弄清楚如何从我的 sample_test_generator 方法中保留属性值，但我没有成功。我以为我可以创建一个部分方法，然后将属性添加到方法中，但没有运气。测试执行时完全没有错误，从我的插件的角度来看，方法属性似乎不存在，因此它们不会被记录。

我意识到这是一个非常复杂的问题，但我想确保我想要实现的目标的背景是明确的。我一直在努力寻找可以帮助我解决这个特殊情况的信息，但我觉得我现在遇到了一个绊脚石，所以我真的想请教专家一些建议。

谢谢。

** 更新 **

在阅读了反馈并进行了更多尝试之后，看起来如果我修改了 lambda 表达式，它将实现我想要的。事实上，我什至不需要创建偏函数：

```
def sample_test_generator(self):
    for (key, value) in _input_dictionary.items()
        yield (lambda: self._do_test) 
```

这种方法的唯一缺点是测试名称不会改变。当我玩得更多时，它看起来像在鼻子测试中，当使用测试生成器时，它实际上会根据它包含的关键字更改结果中的测试名称。当我使用带有参数的 lambda 表达式时，也发生了同样的事情。

例如：

1.  使用带有参数的 lamdba 表达式：yield (lambda x: self._do_test, "value1")

在nosetests插件中，当您访问测试用例名称时，它会显示为“sample_test_generator(value1)

1.  使用不带参数的 lambda 表达式：yield (lambda: self._do_test)

在这种情况下，测试用例名称将是“sample_test_generator”。在我上面的例子中，如果字典中有多个值，那么 yield 调用会发生多次。但是，测试名称将始终保持为“sample_test_generator”。这并不像我获得唯一的测试名称但根本无法存储属性值那样糟糕。我会继续玩，但感谢到目前为止的反馈！

## 编辑

我忘了回来并提供关于我最终如何使它工作的最终更新，起初我有点困惑，在我仔细查看之后，我发现它有与如何识别测试有关：

我最初的实现假设每个被执行的测试都通过插件基类的“wantMethod”调用。当使用“yield”生成测试时，情况并非如此，因为此时测试方法已经通过了“wantMethod”调用。

但是，一旦通过“yeild”调用生成测试用例，它确实会通过插件基类的“startTest”调用，这就是我最终能够成功存储属性的地方。

所以简而言之，我的测试执行顺序如下所示：

> 鼻子 -> wantMethod(method_name) -> yield -> startTest(yielded_test_name)

在我对 startTest 方法的覆盖中，我有以下内容：

```
def startTest(self, test):
    # If a test is spawned by using the 'yield' keyword, the test names would be the parent test name, appended by the '(' character
    # example:  If the parent test is "smoke_test", the generated test from yield would be "smoke_test('input')
    parent_test_name = test_name.split('(')[0]

    if self.method_attributes.has_key(test_name):
        self._test_attrib = self.method_attributes[test_name]
    elif self.method_attributes.has_key(parent_test_name):
        self._test_attrib = self.method_attributes[parent_test_name]
    else:
        self._test_attrib = None 
```

有了这个实现，连同我对 wantMethod 的覆盖，父测试用例产生的每个测试也继承了父方法的属性，这正是我所需要的。

再次感谢所有发送回复的人。这是一次很好的学习经历。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-12T14:02:21.890

这会解决你的名字问题吗？

```
def _actual_test(x, y):
    assert x == y

def test_yield():
    _actual_test.description = "test_yield_%s_%s" % (5, 5)
    yield _actual_test, 5, 5

    _actual_test.description = "test_yield_%s_%s" % (4, 8)  # fail
    yield _actual_test, 4, 8

    _actual_test.description = "test_yield_%s_%s" % (2, 2)
    yield _actual_test, 2, 2 
```

重命名`@attr`也存在。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-14T21:49:47.443

这行得通吗？

```
@attr(attribute1='someValue', attribute2='anotherValue')
def sample_test_generator(self):
    def get_f(f, key):
        return lambda x: f(), key
    for (key, value) in _input_dictionary.items()
        f = partial(self._do_test, key, value)
        f.attribute1='someValue'
        yield get_f(f, key)

def _do_test(self, input1, input2):
    # Some code 
```

问题在于创建 lambda 后局部变量会发生变化。

# python - 我如何在scrapy python中编写我的自定义链接提取器

> ID：13815347
> 
> 赞同：7
> 
> 时间：2012-12-11T07:13:06.120
> 
> 标签：python, scrapy

我想编写我的自定义scrapy链接提取器来提取链接。

scrapy 文档说它有两个内置的提取器。

[http://doc.scrapy.org/en/latest/topics/link-extractors.html](http://doc.scrapy.org/en/latest/topics/link-extractors.html)

但是我还没有看到任何关于如何通过自定义链接提取器实现的代码示例，有人可以举一些编写自定义提取器的示例吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-25T05:37:03.407

这是自定义链接提取器的示例

```
class RCP_RegexLinkExtractor(SgmlLinkExtractor):
    """High performant link extractor"""

    def _extract_links(self, response_text, response_url, response_encoding, base_url=None):
        if base_url is None:
            base_url = urljoin(response_url, self.base_url) if self.base_url else response_url

        clean_url = lambda u: urljoin(base_url, remove_entities(clean_link(u.decode(response_encoding))))
        clean_text = lambda t: replace_escape_chars(remove_tags(t.decode(response_encoding))).strip()

        links_text = linkre.findall(response_text)
        urlstext = set([(clean_url(url), clean_text(text)) for url, _, text in links_text])

        return [Link(url, text) for url, text in urlstext] 
```

用法

```
rules = (
    Rule(
        RCP_RegexLinkExtractor(
            allow=(r"epolls/2012/president/[a-z]{2}/[a-z]+_romney_vs_obama-[0-9]{4}\.html"),
            # Regex explanation:
            #     [a-z]{2} - matches a two character state abbreviation
            #     [a-z]*   - matches a state name
            #     [0-9]{4} - matches a 4 number unique webpage identifier

            allow_domains=('realclearpolitics.com',),
        ),
        callback='parseStatePolls',
        # follow=None, # default 
        process_links='processLinks',
        process_request='processRequest',
    ),
) 
```

看看这里[https://github.com/jtfairbank/RCP-Poll-Scraper](https://github.com/jtfairbank/RCP-Poll-Scraper)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-10-22T08:54:21.537

I had a hard time to find recent examples for this, so I decided to post my walkthrough of the process of writing a custom link extractor.

### The reason why I decided to create a custom link extractor

I had a problem with crawling a website that had href urls that had spaces, tabs and line breaks, like such:

```
<a href="
       /something/something.html
         " /> 
```

Supposing the page that had this link was at:

[http://example.com/something/page.html](http://example.com/something/page.html)

Instead of transforming this href url into:

[http://example.com/something/something.html](http://example.com/something/something.html)

Scrapy transformed it into:

[http://example.com/something%0A%20%20%20%20%20%20%20/something/something.html%0A%20%20%20%20%20%20%20](http://example.com/something%0A%20%20%20%20%20%20%20/something/something.html%0A%20%20%20%20%20%20%20)

And this was causing an infinite loop, as the crawler would go deeper and deeper on those badly interpreted urls.

I tried to use the `process_value` and `process_links` params of `LxmlLinkExtractor`, as suggested [here](https://stackoverflow.com/questions/26002910/links-with-space-before-and-after-are-not-parsed-correctly) without luck, so I decided to patch the method that processes relative urls.

### Finding the original code

At the current version of Scrapy (1.0.3), the recommended link extractor is the `LxmlLinkExtractor`.

If you want to extend `LxmlLinkExtractor`, you should check out how the code goes on the Scrapy version that you are using.

You can probably open your currently used scrapy code location by running, from the command line (on OS X):

```
open $(python -c 'import site; print site.getsitepackages()[0] + "/scrapy"') 
```

In the version that I use (1.0.3) the code of `LxmlLinkExtractor` is in:

```
scrapy/linkextractors/lxmlhtml.py 
```

There I saw that the method I needed to adapt was `_extract_links()` inside `LxmlParserLinkExtractor`, that is then used by `LxmlLinkExtractor`.

So I extended `LxmlLinkExtractor` and `LxmlParserLinkExtractor` with slightly modified classes called `CustomLinkExtractor` and `CustomLxmlParserLinkExtractor`. The single line I modified is commented out.

```
# Import everything from the original lxmlhtml
from scrapy.linkextractors.lxmlhtml import *
_collect_string_content = etree.XPath("string()")

# Extend LxmlParserLinkExtractor
class CustomParserLinkExtractor(LxmlParserLinkExtractor):

    def _extract_links(self, selector, response_url, response_encoding, base_url):
        links = []
        for el, attr, attr_val in self._iter_links(selector._root):

            # Original method was:
            # attr_val = urljoin(base_url, attr_val)
            # So I just added a .strip()

            attr_val = urljoin(base_url, attr_val.strip())

            url = self.process_attr(attr_val)
            if url is None:
                continue
            if isinstance(url, unicode):
                url = url.encode(response_encoding)
            # to fix relative links after process_value
            url = urljoin(response_url, url)
            link = Link(url, _collect_string_content(el) or u'',
                nofollow=True if el.get('rel') == 'nofollow' else False)
            links.append(link)

        return unique_list(links, key=lambda link: link.url) \
                if self.unique else links

# Extend LxmlLinkExtractor
class CustomLinkExtractor(LxmlLinkExtractor):

    def __init__(self, allow=(), deny=(), allow_domains=(), deny_domains=(), restrict_xpaths=(),
                 tags=('a', 'area'), attrs=('href',), canonicalize=True,
                 unique=True, process_value=None, deny_extensions=None, restrict_css=()):
        tags, attrs = set(arg_to_iter(tags)), set(arg_to_iter(attrs))
        tag_func = lambda x: x in tags
        attr_func = lambda x: x in attrs

        # Here I replaced the original LxmlParserLinkExtractor with my CustomParserLinkExtractor
        lx = CustomParserLinkExtractor(tag=tag_func, attr=attr_func,
            unique=unique, process=process_value)

        super(LxmlLinkExtractor, self).__init__(lx, allow=allow, deny=deny,
            allow_domains=allow_domains, deny_domains=deny_domains,
            restrict_xpaths=restrict_xpaths, restrict_css=restrict_css,
            canonicalize=canonicalize, deny_extensions=deny_extensions) 
```

And when defining the rules, I use `CustomLinkExtractor`:

```
from scrapy.spiders import Rule

rules = (

    Rule(CustomLinkExtractor(canonicalize=False, allow=[('^https?\:\/\/example\.com\/something\/.*'),]), callback='parse_item', follow=True),

  ) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-11T14:55:29.097

我也在 [https://github.com/geekan/scrapy-examples](https://github.com/geekan/scrapy-examples) 和 [https://github.com/mjhea0/Scrapy-Samples找到了 LinkExtractor 示例](https://github.com/mjhea0/Scrapy-Samples)

（在人们无法在上面的链接中找到所需信息后进行编辑）

更准确地说是在[https://github.com/geekan/scrapy-examples/search?utf8=%E2%9C%93&q=linkextractors&type=Code](https://github.com/geekan/scrapy-examples/search?utf8=%E2%9C%93&q=linkextractors&type=Code)和[https://github.com/mjhea0/Scrapy-Samples/search?utf8= %E2%9C%93&q=链接提取器](https://github.com/mjhea0/Scrapy-Samples/search?utf8=%E2%9C%93&q=linkextractors)

# sharepoint - 一种或多种字段类型未正确安装。转到列表设置页面以删除这些字段

> ID：13815348
> 
> 赞同：16
> 
> 时间：2012-12-11T07:13:13.760
> 
> 标签：sharepoint, caml, sharepoint-clientobject

```
CamlQuery query = new CamlQuery();
query.ViewXml = @"<View>"
    + "<Query>"
    + "<Where><Eq><FieldRef Name='Name' /><Value Type='Text'>"
    + fileName
    + "</Value>"
    + "</Eq>"
    + "</Where>"
    + "</Query>"
    + "</View>";
ListItemCollection item = list.GetItems(query);
clientContext.Load(item);
clientContext.ExecuteQuery(); 
```

此查询给了我错误**一个或多个字段类型未正确安装。转到列表设置页面以删除这些字段。**

如果我使用`<Where><Eq><FieldRef Name='Title' /><Value Type='Text'>`而不是`Name`，没关系。

它出什么问题了？名称在列表中。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-01-28T19:23:37.780

如果重命名已定义的列，则内部名称不会更新。例如，您创建一个自定义列表，默认情况下它具有“标题”列。如果将该列更改为“userId”，则该列的内部名称仍为“Title”。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-06-11T19:50:40.273

不确定这是否会修复该错误消息，但这是您可以使用名称的方式：

名称（对于开箱即用的文档库）内部名称是**"BaseName"**。

您可以使用 powershell 查找列表中所有列的内部名称：

```
$web = Get-SPWeb http://yoursiteurl
$web.lists["The List Name"].Fields | FL Title, InternalName 
```

示例查询：

```
$query.set_innerXML("<Where><Eq><FieldRef Name='BaseName'></FieldRef><Value Type='Text'>" + $ItemName + "</Value></Eq></Where>") 
```

powershell 中的完整示例：

```
function Update-SPItem($proxy, $ItemName, $listName, $lastModified, $firstName, $lastName, $chID, $emplNumber, )
{          
   $doc = New-Object System.Xml.XmlDocument
   $viewFields = $doc.CreateElement("ViewFields")
   $viewFields.set_innerXML("<FieldRef Name='ID'></FieldRef>")
   $queryOptions = $doc.CreateElement("QueryOptions")
   $queryOptions.set_innerXML("<IncludeMandatoryColumns>FALSE</IncludeMandatoryColumns><DateInUtc>FALSE</DateInUtc><ViewAttributes Scope='RecursiveAll'/>")
   $query = $doc.CreateElement("Query")
   $query.set_innerXML("<Where><Eq><FieldRef Name='BaseName'></FieldRef><Value Type='Text'>" + $ItemName + "</Value></Eq></Where>")
   $results = $proxy.GetListItems($listName, "", $query, $viewFields, "", $queryOptions, "")
   $rowXml = $results.GetElementsByTagName("z:row")
   $ItemID = $rowXml.Item(0).GetAttribute("ows_ID")

   # Update the item
   $batch = $doc.CreateElement("Batch")
   $batch.SetAttribute("OnError", "Continue")
   $batch.SetAttribute("ListVersion","1")
   $batch.SetAttribute("ViewName", "")
   $batch.InnerXml = "<Method ID='1' Cmd='Update'><Field Name='ID'>" + $ItemID + 
                     "</Field><Field Name='ImageCreateDate'>" + $lastModified + 
                     "</Field><Field Name='FirstName'>" + $firstName + 
                     "</Field><Field Name='LastName'>" + $lastName + 
                     "</Field><Field Name='CardHolderID'>" + $chID + 
                     "</Field><Field Name='EmployeeNumber'>" + $emplNumber + 
                     "</Field></Method>"

   $result = $proxy.UpdateListItems($listName, $batch)
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-10-11T16:20:12.900

如果您通过 SharePoint 2010 列表设置页面创建字段，则字段名称中的任何空格都将成为`_x0020_`字段内部名称的序列。除空格外，SharePoint 将以类似方式对其他非标准字符进行编码。因此，您将在列表的网页上看到您想要的名称，但程序访问将需要 SharePoint 构建的内部名称（*它们应该允许我们指定内部名称...*）

@MarekKembrowski 对 Op 的评论告诉了如何使用浏览器获取内部名称。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-05-10T12:40:32.280

我认为您遇到的问题`<FieldRef Name='Name' />` 不是`<Value Type='Text'>`. 如果您检查名称字段的类型，您会发现它是一个文件。如果有人知道如何查询，我也会很感激。现在我正在使用标题。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-07-22T13:38:58.063

对于构造错误的查询（例如在同级元素周围没有最高标记的查询）会显示相同的错误消息。

他们查询：

```
<Where><Contains><FieldRef Name='...' /><Value Type='Text'>Foobar</Value></Contains></Where><OrderBy><FieldRef Name='Modified' /></OrderBy> 
```

会给出同样的错误信息，但不会：

```
<View><Where><Contains><FieldRef Name='...' /><Value Type='Text'>Foobar</Value></Contains></Where><OrderBy><FieldRef Name='Modified' /></OrderBy></View> 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-07-18T15:03:48.677

我为此挣扎了太久，答案就在我面前。对我来说，Marek Kembrowski 对原始问题发表的评论正是我需要做的，但我对它很感兴趣，因为它是评论，所以我将用我自己的话重申 Marek 所说的话，希望与此问题一起出现的下一个人不会错过上面发布的评论。

在 sharepoint 中，当您创建列时，有两个文本字段，您可以在其中提供信息来描述字段，列名称和说明。

[![在此处输入图像描述](../Images/c843b52168ff4c3cb702c774cde41074.png)](https://i.stack.imgur.com/oi3Zm.png)

杀死我的是，sharepoint 站点是使用列名 [OrderID] 和不同的描述 [CON] 设置的。

在这里，您可以看到 Sharepoint 与首先创建的 OrderID 和我在找出问题后创建的 OrderID 的样子。. . 不同之处在于 OrderID 列名称之一是 OrderID ;)

[![在此处输入图像描述](../Images/b3c901f6ec5b24c7049e48d2a134b3c7.png)](https://i.stack.imgur.com/gmoLX.png)

我可以看到原始列名的唯一方法是将鼠标悬停在库设置中的列上，就像上面提到的 Marek 一样。. . 这将在浏览器底部显示链接。如果你点击编辑它。. . 这甚至不对。. . 甚至没有显示任何关于真实列名的信息。. .even 在列名字段中显示描述名称。. . GGRRRRRRR！！！！！！

无论如何，这是我用来检索数据的代码：

```
 // Starting with ClientContext, the constructor requires a URL to the 
        // server running SharePoint. 
        ClientContext context = new ClientContext(siteUrl);

        // The SharePoint web at the URL.
        Web web = context.Web;

        List docList = context.Web.Lists.GetByTitle("OrderDocuments");

        CamlQuery query2 = new CamlQuery();

        //This query will NOT work . . .CON is not a column in the sharepoint repository
        //query2.ViewXml = "<View><Query><Where><Eq><FieldRef Name='CON' /><Value Type='Number'>4</Value></Eq></Where></Query></View>";

        //This query WILL WORK.  The actual Column name is OrderID in Sharepoint
        query2.ViewXml = "<View><Query><Where><Eq><FieldRef Name='OrderID' /><Value Type='Number'>4</Value></Eq></Where></Query></View>";
        ListItemCollection collListItem = docList.GetItems(query2);

        context.Load(collListItem);
        context.ExecuteQuery(); 
```

为上述正确解决方案向 Marek +1。我希望我在第一次找到这个页面时就看到了它。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-04-06T04:44:45.470

另一种无需脚本检查内部名称的好方法是转到列表设置并单击要检查的列。您可以将其内部名称视为查询字符串**字段**，如下所示。 [![检查内部名称](../Images/c499c6751737dab7e3a9c35e6a936979.png)](https://i.stack.imgur.com/oFjVk.png)

# grails - Grails 中的战争部署错误

> ID：13815354
> 
> 赞同：0
> 
> 时间：2012-12-11T07:13:42.807
> 
> 标签：grails, tomcat6, war

我正在使用 grails 2.1.1 版本和 tomcat 6.0，而当我部署 war 文件时，我遇到了这样的异常：

```
2012-12-11 12:20:03,891 [main] ERROR context.ContextLoader  - Context initialization failed
        org.springframework.beans.factory.BeanDefinitionStoreException: Line 4 in XML document from ServletContext resource [/WEB-INF/applicationContext.xml] is invalid; nested exception is org.xml.sax.SAXParseException: Document root element "beans", must match DOCTYPE root "null".
        org.xml.sax.SAXParseException: Document root element "beans", must match DOCTYPE root "null". 
```

在

```
at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
            at org.apache.xerces.util.ErrorHandlerWrapper.error(Unknown Source)
            at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
            at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
            at org.apache.xerces.impl.dtd.XMLDTDValidator.rootElementSpecified(Unknown Source)
            at org.apache.xerces.impl.dtd.XMLDTDValidator.handleStartElement(Unknown Source)
            at org.apache.xerces.impl.dtd.XMLDTDValidator.startElement(Unknown Source)
            at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown Source)
            at org.apache.xerces.impl.XMLDocumentScannerImpl$ContentDispatcher.scanRootElementHook(Unknown Source)
            at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
            at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
            at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
            at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
            at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
            at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)
            at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)
            at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:222)
            at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:173)
            at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:148) 
```

任何有想法的人都会有很大帮助。

谢谢。

阿纳根德拉

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T11:02:48.807

检查 tomcat 中是否存在旧版本的 Spring 库。错误信息

> org.xml.sax.SAXParseException：文档根元素“beans”，必须匹配 DOCTYPE 根“null”。

表示使用的 DTD 和提供的库之间存在某种版本不匹配

# javascript - 使用 JavaScript 检查空 XML 数据

> ID：13815355
> 
> 赞同：2
> 
> 时间：2012-12-11T07:13:45.633
> 
> 标签：javascript, xml, null

我从 XML 获取数据。我需要检查数据，如果数据为空，我必须隐藏它。

我该如何检查？

```
 <script>
   downloadUrl("gxml.php", function(data) {
       var xml = data.responseXML;
       var markers = xml.documentElement.getElementsByTagName("marker");
       for (var i = 0; i < markers.length; i++) {
         var oid = markers[i].getAttribute("objectid");
         var status = markers[i].getAttribute("status");
         var title = markers[i].getAttribute("title");
         var volume = markers[i].getAttribute("volume");
         var kwh = markers[i].getAttribute("kwh");
         var puser = markers[i].getAttribute("puser");
         var ucomp = markers[i].getAttribute("ucomplate");
         var udate = markers[i].getAttribute("udate");
         var suser = markers[i].getAttribute("suser");
         var scomp = markers[i].getAttribute("scomplate");
         var sdate = markers[i].getAttribute("sdate");
            var type = markers[i].getAttribute("type");
         var point = new google.maps.LatLng(
             parseFloat(markers[i].getAttribute("lat")),
             parseFloat(markers[i].getAttribute("lng")));
         var html = "ObjectID:"  + oid + "  <br/> Title:"  + title +"  <br/>Status:" + status + "  <br/>Volume:" + volume + "  <br/> KWh:" + kwh + "  <br/>User:" + puser + "  <br/> User Date:" + udate + "  <br/> User Complate :" + ucomp + "  <br/>Super user:" + suser + "  <br/> S .User Date:" + sdate + "  <br/> S. User Complate :" + scomp + "<br/> <a href=\"edit.php\">Add/Edit</a>";

</script>

// this data i get from xml. i`m need to chek this null or not null 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T07:23:21.593

您可以简单地`if (!myVariable)`检查任何给定的变量。如果返回 true（也就是说，如果代码进入`if`正文，则数据为空。我会做的不是这样做：

```
var oid = markers[i].getAttribute("objectid");
// ...
..."ObjectID:"  + oid + " 
```

在变量中包含您的标题，如下所示：

```
var oid = markers[i].getAttribute("objectid");
if (oid) {
    oid = "ObjectID: " + oid;
} 
```

这样你就可以`oid`直接添加到你的字符串中。如果该值为 null，则添加它将无效，因为该变量将为空。如果有一个值，则将附加标题，并且执行 a`+ oid`将同时附加标题和值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:24:02.417

```
if ( !foo ) {
    // foo is not set, it is null.
} 
```

# java - 文件比较与内存考虑

> ID：13815356
> 
> 赞同：0
> 
> 时间：2012-12-11T07:14:09.497
> 
> 标签：java, file, memory-management, bytearray, file-comparison

我想比较两个文件，一个在文件系统中，另一个是从 HTTP URL 下载的。

我们尝试通过 byte[] 数组进行比较（我们使用 Apache 的 HTTPRequestBuilder），但担心文件可能太大并且可能会耗尽内存。我们有没有好的替代品。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:19:00.050

`InputStream`您可以通过一次仅读取一个缓冲区来比较两个对象的内容。当您从每个流中“用完”时，您需要读取数据，请注意，当您调用时，您`read`最终可能不会真正读取完整的缓冲区。

如果来自缓冲区的每个逐字节比较都相等并且流同时用完数据，则这两个流是相等的。我怀疑代码可能有点繁琐，但应该不会太糟糕。

事实上，对于更简单的代码，如果将每个都包装`InputStream`在 a 中`BufferedInputStream`，您可能*只需*逐字节比较（`read()`在每次迭代中调用无参数方法）而不会损失太多性能：

```
public boolean equals(InputStream x, InputStream y)
{
    // TODO: Only wrap them if they're not already buffered
    x = new BufferedInputStream(x);
    y = new BufferedInputStream(y);

    while (true)
    {
        int xValue = x.read();
        int yValue = y.read();
        if (xValue != yValue)
        {
            return false;
        }
        if (xValue == -1)
        {
            // Reached the end of both streams at the same time
            return true;
        }
    }
} 
```

# java - 通过 smooks 将 csv 转换为 java

> ID：13815362
> 
> 赞同：0
> 
> 时间：2012-12-11T07:15:00.167
> 
> 标签：java, smooks

我有 csv 文件，需要通过创建 object 将其转换为 java 文件。我通过 smooks 1.5 中给出的示例 csv to java 做到了这一点，它运行正常。但是如果我使用新的 csv 表，那么我需要在每个地方更改字段名称。如果有一个通过位置明智地将csv转换为java的过程，那么任何人都可以帮助我，这样我就不需要每次都更改字段名称。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-15T04:09:15.490

如果您仍在寻找框架，请查看[http://www.beanio.org上的 BeanIO](http://www.beanio.org)

另请查看[http://camel.apache.org/beanio.html](http://camel.apache.org/beanio.html)

# egit - 从未暂存的更改添加到暂存视图中的暂存更改时，EGit 冻结

> ID：13815372
> 
> 赞同：0
> 
> 时间：2012-12-11T07:15:40.437
> 
> 标签：egit

对于一个合理大小的项目，当将文件从“Unstaged Changes”窗格拖动到 EGit 中“Git Staging”视图中的“Staged Changes”窗格时，即使对于单个文件，整个工作区也会冻结大约 15-20 秒。通过命令行几乎可以立即完成相同的操作。这是否在已知的 EGit 问题中进行了跟踪，更重要的是是否有解决方法？

提前致谢！

配置：

*   eclipse-jee-juno-SR1-linux-gtk-x86_64（带有来自[http://download.eclipse.org/eclipse/updates/junoSR1Patch-tmp](http://download.eclipse.org/eclipse/updates/junoSR1Patch-tmp)的补丁）
*   RHEL (6.3) 2.6.32
*   8-CPU 64位
*   8 GB 内存
*   Java(TM) SE 运行时环境 (build 1.7.0_04-b20)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T10:19:20.007

对此进行了改进以提高性能，该更改将于 2012 年 12 月 19 日与 EGit 2.2 一起发布：

[http://wiki.eclipse.org/EGit/New_and_Noteworthy/2.2#Re-indexing_repositories_is_now_done_incrementally](http://wiki.eclipse.org/EGit/New_and_Noteworthy/2.2#Re-indexing_repositories_is_now_done_incrementally)

如果您不想等到那时，请从[每晚更新站点](http://download.eclipse.org/egit/updates-nightly)更新到每晚构建。

# php - 如何为插入数据输入正确的大写字母

> ID：13815379
> 
> 赞同：3
> 
> 时间：2012-12-11T07:16:00.780
> 
> 标签：php, mysql

当我将上限设置为 %s 的值时，它会出现 sql 语法错误...我可能会出错以及如何修复它..有些人可以纠正我，因为它对于像我这样的新手来说似乎是新的

```
$insertSQL = sprintf('INSERT INTO kontrak (ID, NAME, T_LAHIR, Country) VALUES (%s,(UPPER(%s)), %s, %s)',

                       GetSQLValueString($_POST['Id'], 'int'),
                       GetSQLValueString($_POST['Nama'], 'text'),
                       GetSQLValueString($_POST['Tarikhlahir'], 'date'),
                       GetSQLValueString($_POST['Country'], 'text'));

You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''')), '1983-12-15','42151566'(LONDON' at line 1 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:23:49.533

在函数的第二部分使用[strtoupper()](http://php.net/manual/en/function.strtoupper.php)或[ucwords()](http://php.net/manual/en/function.ucwords.php)，（如果您只想大写第一个字符） 。`sprintf()`

通过这种方式，您可以更好地控制插入的记录，因为 php 提供了比 mysql 更多的字符串格式化功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:21:04.157

不要在那里使用上部

```
$insertSQL = sprintf("INSERT INTO kontrak (ID, NAME, BIRTH, COUNTRY) VALUES (%s, %s, %s, %s)",

                   GetSQLValueString($_POST['Id'], "int"),
                   GetSQLValueString($_POST['Name'], "text"),
                   GetSQLValueString($_POST['Birth'], "date")),
                   strtoupper(GetSQLValueString($_POST['Country'], "text"))); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-11T07:23:46.967

改变：

```
UPPER('%s') 
```

至：

```
UPPER(%s) 
```

您已经在此处使用 %s 参数，并且单引号导致语法错误。

# vb6 - VB6：如何获取给出 DDE 响应的程序的句柄 ID

> ID：13815382
> 
> 赞同：1
> 
> 时间：2012-12-11T07:16:12.563
> 
> 标签：vb6, dde

我将 DDE 发送到不受我控制的程序。响应的程序有多个实例，所有实例都有相同的主题名称、链接等。所以我想知道哪个实例在响应我的 DDE 请求。

我的代码是：

```
textBox1.LinkTopic = "MT4|BID"
textBox1.LinkItem = Combo1.Text
textBox1.LinkMode = 1
textBox1.LinkRequest 
```

这是在每毫秒触发的 Timer 事件中，它工作得很好。

问题是任何程序都可以给我 DDE 响应:(

所以，我想知道哪个程序给了我 DDE 响应。是否有可能获取响应的 dde ​​程序的应用程序 ID（句柄）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T00:39:21.833

[服务器将在WM_DDE_ACK](http://msdn.microsoft.com/en-us/library/windows/desktop/ms648782%28v=vs.85%29.aspx)的 wparam 参数中发送窗口句柄。您可以使用自己的窗口过程对[主窗口进行子类](http://vbnet.mvps.org/index.html?code/shell/shchangenotify.htm)化，以在调用旧的窗口过程之前缓存窗口句柄。

编辑：看起来 VB 创建了一个隐藏的 DDEMLMom 窗口，为每个对话托管一个 DDEMLAnsiClient。您可以使用 EnumWindows 并将 GetWindowThreadProcessId 的结果与 GetCurrentProcessId 的结果进行比较，以找到您自己进程中的顶级窗口，然后按类名过滤以找到 DDEMLMom 窗口。获得 DDEMLMom 窗口后，通过 EnumChildWindows 找到 DDEMLAnsiClient。

您可以通过[SetForegroundWindow](http://msdn.microsoft.com/en-us/library/ms633539%28VS.85%29.aspx)实现“切换到”功能，以帮助用户识别源应用程序。

# java - String.format() 与“+”运算符

> ID：13815384
> 
> 赞同：29
> 
> 时间：2012-12-11T07:16:26.110
> 
> 标签：java, string, concatenation, string-concatenation

基本的字符串连接操作应该使用什么？

```
String randomString = "hello " + userName + " how are you" ? 
```

或者

```
String randomString = String.format("hello %s how are you ?",userName); 
```

我觉得`String.format()`对输出字符串有更好的了解。但是使用其中任何一个实际上有什么**优点和缺点**？

字符串文字池中是否有任何性能或孤儿条目。

**编辑**：我说的是字符串中的多个参数，而不仅仅是一个。5+左右。

**奖金问题**：还请分享您对实际应该使用哪一个的看法？这些或第三个中的任何一个......！?

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-12-11T07:24:05.833

如果您只追求性能，我相信 using`StringBuilder/StringBuffer`是构建字符串的最有效方式。即使 Java 编译器足够聪明，可以将大多数 String 连接转换为`StringBuilder`等价物。

如果您正在寻找可读性，`String.format`我认为事情会更清晰，这也是我使用的，除非我需要依赖高性能。

因此，如果您主要关心的不是性能，这意味着此代码不在一个被大量调用的路径中，您可能更喜欢使用`String.format`它，因为它可以更好地了解结果字符串（就像您说的那样）。

此外，using`String.format`允许您使用 format 的东西，这意味着您可以使用它来填充字符串、格式化数字、日期等，如果使用简单的连接会使代码变得更糟。

***为 Chuu***编辑**：**

 **使用[JAD](http://en.wikipedia.org/wiki/JAD_%28JAva_Decompiler%29)，您可以看到以下代码：

```
public class Test {
    public static void main(String[] args) {
        String str = "a" + "b" + "c";
        String str2 = "foo" + str + "bar" + str;
        System.out.println(str2);
    }
} 
```

反编译后的样子：

```
public class Test {
    public static void main(String[] args) {
        String str = "abc";
        String str2 = new StringBuilder("foo").append(str).append("bar").append(str).toString();
        System.out.println(str2);
    }
} 
```

也可以使用该`javap`实用程序来证明这一点，该实用程序将向您显示`.class`文件下的 Java 字节码：

```
public static void main(java.lang.String[] args);
    0  ldc <String "abc"> [16]
    2  astore_1 [str]
    3  new java.lang.StringBuilder [18]
    6  dup
    7  ldc <String "foo"> [20]
    9  invokespecial java.lang.StringBuilder(java.lang.String) [22]
   12  aload_1 [str]
   13  invokevirtual java.lang.StringBuilder.append(java.lang.String) : java.lang.StringBuilder [25]
   16  ldc <String "bar"> [29]
   18  invokevirtual java.lang.StringBuilder.append(java.lang.String) : java.lang.StringBuilder [25]
   21  aload_1 [str]
   22  invokevirtual java.lang.StringBuilder.append(java.lang.String) : java.lang.StringBuilder [25]
   25  invokevirtual java.lang.StringBuilder.toString() : java.lang.String [31]
   28  astore_2 [str2]
   29  getstatic java.lang.System.out : java.io.PrintStream [35]
   32  aload_2 [str2]
   33  invokevirtual java.io.PrintStream.println(java.lang.String) : void [41]
   36  return 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-12-11T07:21:25.793

> 基本的字符串连接操作应该使用什么？

您提供的示例有不同的用途。`+`重载为 concat `String`s，但`String.format`用于格式化字符串，如名称所指定。

将字符串连接在一起并不是主要工作。

因此，如果要求只是连接 use`+`或[concat](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#concat(java.lang.String))方法。

这些链接将很有用：

[如果性能很重要，我应该使用 Java 的 String.format() 吗？](https://stackoverflow.com/questions/513600/should-i-use-javas-string-format-if-performance-is-important)

[在Java中使用String.format而不是字符串连接是更好的做法吗？](https://stackoverflow.com/questions/925423/is-it-better-practice-to-use-string-format-over-string-concatenation-in-java)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-12-11T07:31:19.750

试试这个

```
 long t0 = System.currentTimeMillis();
        String userName = "test";
        for (int i = 0; i < 1000000; i++) {
            String randomString = "hello " + userName + " how are you?";
//          String randomString = String.format("hello %s how are you ?",userName);
        }
        System.out.println(System.currentTimeMillis() - t0); 
```

你会惊讶地发现连接比 String.format 快 10 倍。但是 format 可以对数字、日期等做很多非常有用的事情。有关详细信息，请参阅 String.format 实际使用的 java.util.Formatter API。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-12-11T08:26:47.327

我的两分钱：总是用`String.format()`

在这种情况下，国际化比风格或性能更受关注。出于这个原因，我会一直使用`String.format()`

英文文本：`"Hello " + userName + " how are you?"`

翻译成绝地：`userName + "you are how? Hello!"`

如果字符串是串联的，那么对于翻译者来说，即使不是不可能，也很难改变词序。这个问题变得越来越严重，因为字符串中有更多的片段和更多的占位符。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-04-26T18:19:25.463

在我看来，使用`+ operator`.

如果性能是您应该使用的一个问题，`StringBuilder`并且正如 Alex 在上面的评论中指出的那样，Java 编译器将转换：

`String str2 = "a" + str1;`

到：`String str2 = new StringBuilder("a").append(str1)).toString();`

除此之外，您还可以使用`+ operator`. 相反，您会得到可以在编译时捕获的语法错误。例如：

```
 String var = "huge success.";

    System.out.print( "I'm making a note here: " + var );
    //System.out.print( "Printing: " + ); Syntax error!

    System.out.print( String.format( "I'm making a note here: '%s'", var ) );
    System.out.print( String.format( "I'm making a note here: '%s'" ) ); // runtime exception!
    System.out.print( String.format( "I'm making a note here: '%d'", var ) ); // runtime exception! 
```

可读性归结为个人喜好。但是我会说`String.format`语法基本上来自 C++，并且从那时起创建的大多数语言都`+ operator`出于可读性的原因而接受了 C++。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-12-11T07:23:57.910

就我个人而言，我更喜欢使用格式化，因为它看起来更好，而且我无法想象它会严重影响性能。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-12-11T07:30:03.677

大多数推荐使用 StringBuffer 的人都生活在过去。当前的最佳实践是使用 StringBuilder。但这可能会改变，那么为什么不让编译器为你做呢？当您只使用“+”时，编译器将选择当前最佳的实现，它甚至可以组合静态字符串（“foo”+“bar”将成为单个“foobar”）。

我将明确分配 StringBuilder 的唯一地方是在 Loops 中（它在循环之前创建并在其中使用）。

如果您不确定会发生什么，请检查生成的字节码。

那么什么时候使用格式呢？当实际**格式**复杂时，我会使用格式。但是您现在正在谈论简单的串联。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2012-12-11T07:45:02.127

我认为 String.Format 更有效，因为它具有以下优点，

1.  提高可读性
2.  更好的可译性
3.  您可以在格式字符串中使用格式提供程序和简单的格式指示符（如固定宽度）。
4.  您可以通过将格式字符串放入配置文件中来做一些强大的事情。
5.  String.Format() 通常更快，因为它在后台使用 StringBuilder 和高效的状态机，而 .Net 中的字符串连接相对较慢。当字符串的大小和替换值的数量增加时尤其如此。

谢谢。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-09-05T14:07:55.787

我主要担心的`String.format`是它是特定于语言环境的操作，如果您的代码在不同的语言环境中运行，您最终可能会得到无法预料的结果。

我想有一个非语言环境替代它，因为它的紧凑语法非常好。**

# android - TableRow 不包装 TextView

> ID：13815385
> 
> 赞同：5
> 
> 时间：2012-12-11T07:16:33.203
> 
> 标签：android, android-layout, android-tablelayout

TableLayout 在每一行都有一个`TextView`和`EditText`。当`EditText`有多行时，`TableRow`将其包装，但当 时`TextEdit`，它不会..

简洁布局：

```
<?xml version="1.0" encoding="utf-8"?>
<TableLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:shrinkColumns="*" >

    <TableRow>

        <TextView
            android:id="@+id/textView1"
            android:text="Lorem ipsum dolor sit amet, consectetur" />

        <EditText
            android:id="@+id/textView2"
            android:text="Foo" />
    </TableRow>

    <TableRow>

        <TextView
            android:id="@+id/textView3"
            android:text="Foo" />

        <EditText
            android:id="@+id/textView4"
            android:text="Lorem ipsum dolor sit amet, consectetur" />
    </TableRow>

</TableLayout> 
```

渲染：![渲染 1](../Images/514347a8687aa0095d53823effa5e0ec.png)

但是当两个控件都是 时`TextEdit`，它会正确呈现。

```
<?xml version="1.0" encoding="utf-8"?>
<TableLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:shrinkColumns="*" >

    <TableRow>

        <TextView
            android:id="@+id/textView1"
            android:text="Lorem ipsum dolor sit amet, consectetur" />

        <TextView
            android:id="@+id/textView2"
            android:text="Foo" />
    </TableRow>

    <TableRow>

        <TextView
            android:id="@+id/textView3"
            android:text="Foo" />

        <TextView
            android:id="@+id/textView4"
            android:text="Lorem ipsum dolor sit amet, consectetur" />
    </TableRow>

</TableLayout> 
```

呈现为：![渲染 2](../Images/190da54646ec975faa94d5295fd58117.png)

我应该怎么做才能让 Android 正确呈现第一个布局？

Ps：我已经尝试给, ,控件添加`android:layout_width="fill_parent"`, `android:layout_height="wrap_content`" 属性，没有任何改变。`TableRow``TextView``EditText`

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-07-05T17:05:04.083

我遇到了同样的问题，解决所有问题的方法是为我想要自动换行的 textview 设置权重。

我的两分钱...

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-11T07:58:50.103

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <TableLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical" >

        <TableRow
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:weightSum="4" >

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:background="#B0B0B0" />
        </TableRow>

        <TableRow
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="1dp"
            android:orientation="vertical"
            android:weightSum="4" >

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:background="#B0B0B0" />
        </TableRow>

        <TableRow
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="1dp"
            android:orientation="vertical"
            android:weightSum="4" >

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:background="#B0B0B0" />
        </TableRow>

        <TableRow
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="1dp"
            android:orientation="vertical"
            android:weightSum="4" >

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:background="#B0B0B0" />
        </TableRow>

        <TableRow
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="1dp"
            android:orientation="vertical"
            android:weightSum="4" >

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:background="#B0B0B0" />
        </TableRow>

        <TableRow
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="1dp"
            android:orientation="vertical"
            android:weightSum="4" >

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginRight="1dp"
                android:layout_weight="1"
                android:background="#B0B0B0" />

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:background="#B0B0B0" />
        </TableRow>
    </TableLayout>

</LinearLayout> 
```

这些灰色单元格 r 文本框

![在此处输入图像描述](../Images/5f343bcb987d61e4d671179a3b8729e3.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-11T07:50:20.343

到 TableLayout 尝试添加

```
 android:stretchColumns="*" 
```

如果 tat 也不起作用，请尝试添加权重

```
 <TableRow
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_weight="2" >

And to the TextView and EditText add 
              android:layout_weight="1" 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-11T07:50:51.567

添加 `android:layout_gravity="center_vertical"`到`TextView`或添加 `android:background="#B0B0B0"`到`EditText`强制 android 正确呈现。

# objective-c - 为什么在 Objective-C 中我不能在方法 a() 中调用方法 b()，其中 a 和 b 在一个接口中

> ID：13815386
> 
> 赞同：0
> 
> 时间：2012-12-11T07:16:37.007
> 
> 标签：objective-c

实际上我构建和编译我的项目一个月大，但今天我打开我的项目并继续修改一些东西，我发现有问题，我不知道为什么！

它看起来像这样。

我有一个类（viewController.h/viewController.m）

在 viewController.h 中，我声明了两个方法

```
-(void) a;

-(void) b; 
```

在 viewController.m 中，我实现了它们

```
-(void) a
{... b()\\invoke method b; ...}

-(void) b
{...\\do something} 
```

但是当我构建项目时，会发生错误：

> 架构 i386 的未定义符号：“_b”，引用自：ViewController.o 中的 -[ViewController a]（也许您的意思是：dyld_stub_binding_helper） ld：未找到架构 i386 的符号 clang：错误：链接器命令失败，退出代码1（使用 -v 查看调用）

我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:55:24.027

您试图调用方法`b`，就好像它是一个 C 函数，而不是一个 Objective-C 方法。正确的方法是：

```
- (void)a
{
    [self b];    // Call method b
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:59:06.940

要么使用 C 函数：

视图控制器.h：

```
void a();
void b(); 
```

视图控制器.m：

```
void a() {
    b();
}
void b() {
    // do something
} 
```

或者，您可以使用 Objective-C 方法：

视图控制器.h：

```
- (void)a;
- (void)b; 
```

视图控制器.m：

```
- (void)a {
    [self b];
}
- (void)b {
    // do something
} 
```

# jquery - 选项中的 JQuery UI datepicker 外部函数调用不起作用

> ID：13815394
> 
> 赞同：1
> 
> 时间：2012-12-11T07:17:12.990
> 
> 标签：jquery, function, user-interface, datepicker

日期选择器初始化 Sombody 时未调用 getDefault_Date() 函数请解释错误在哪里

```
 $('.dtpExpiryDate').datepicker({
        numberOfMonths: 1,
        showButtonPanel: false,
        dateFormat: 'dd/mm/yy',
        showOn: 'both',
        buttonImage: "images/calender.jpg",
        buttonImageOnly: true,
        changeMonth: true,
        changeYear: true,            
        minDate: 0,
        maxDate: '+20Y',
        defaultDate: getDefault_Date()
    });

    function getDefault_Date() {
        var issueDate = $.trim($('.dtpIssueDate').val());
        console.log(issueDate);
        if (issueDate != '') {
            var dateArray = issueDate.split("/");
            dateArray[2] += 10;
            var defaultDate = "'" + dateArray[0] + "/" + dateArray[1] + "/" + dateArray[2] + "'";
            return defaultDate;
        } else {
            return 0;
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:44:59.660

在没有`defaultDate`.

初始化后，进行计算并设置您的`deafultDate`.

```
var ddate="";
var issueDate = $.trim($('.dtpIssueDate').val());
if (issueDate != '') {
    var dateArray = issueDate.split("/");
    dateArray[2] += 10;
    var ddate= "'" + dateArray[0] + "/" + dateArray[1] + "/" + dateArray[2] + "'";

} 
$('.dtpExpiryDate').datepicker( "option", "defaultDate", ddate ); 
```

**注意：**确保您`ddate`的日期格式正确，即 dd/mm/yy... 您在初始化 datpicker 时指定的 dateFormat ..

**`defaultDate`支持由 dateFormat 选项或相对日期定义的格式的字符串。**

浏览日期选择器的 API 文档

[http://api.jqueryui.com/datepicker/#option-dateFormat](http://api.jqueryui.com/datepicker/#option-dateFormat)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:31:51.377

该函数应该在 jquery 括号之外，例如

```
$(document).ready(function(){

$('.dtpExpiryDate').datepicker({
    numberOfMonths: 1,
    showButtonPanel: false,
    dateFormat: 'dd/mm/yy',
    showOn: 'both',
    buttonImage: "images/calender.jpg",
    buttonImageOnly: true,
    changeMonth: true,
    changeYear: true,            
    minDate: 0,
    maxDate: '+20Y',
    defaultDate: getDefault_Date()
});

});

function getDefault_Date() {
    var issueDate = $.trim($('.dtpIssueDate').val());
    console.log(issueDate);
    if (issueDate != '') {
        var dateArray = issueDate.split("/");
        dateArray[2] += 10;
        var defaultDate = "'" + dateArray[0] + "/" + dateArray[1] + "/" + dateArray[2] + "'";
        return defaultDate;
    } else {
        return 0;
    }
} 
```

此外，如果它不起作用，您可以将功能问题放在**defaultDate**前面，例如

```
defaultDate: function(){
             var issueDate = $.trim($('.dtpIssueDate').val());
    console.log(issueDate);
    if (issueDate != '') {
        var dateArray = issueDate.split("/");
        dateArray[2] += 10;
        var defaultDate = "'" + dateArray[0] + "/" + dateArray[1] + "/" + dateArray[2] + "'";
        return defaultDate;
    } else {
        return 0;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:35:19.973

而不是这个声明

```
 var defaultDate = "'" + dateArray[0] + "/" + dateArray[1] + "/" + dateArray[2] + "'"; 
```

做这个

```
var defaultDate = new Date(dateArray[0], dateArray[1], dateArray[2]); 
```

如果 defaultDate 不是预期日期，您应该尝试根据日期、月份、年份交换这些 dateArray 项目

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-11T08:29:44.223

我发现我在 datepicker 初始化时调用该函数，当时 issueate 为空，所以我将函数调用放在 issudate datepicker 的 onclose 事件中，现在一切正常，谢谢大家的回答。

来自 jQuery 文档的脚本

```
$(function() {
        $( "#from" ).datepicker({
            defaultDate: "+1w",
            changeMonth: true,
            numberOfMonths: 3,
            onClose: function( selectedDate ) {
                $( "#to" ).datepicker( "option", "minDate", selectedDate );
            }
        });
        $( "#to" ).datepicker({
            defaultDate: "+1w",
            changeMonth: true,
            numberOfMonths: 3,
            onClose: function( selectedDate ) {
                $( "#from" ).datepicker( "option", "maxDate", selectedDate );
            }
        });
    }); 
```

# ios - 如何在我的应用程序中添加 PLCrashReporter？

> ID：13815395
> 
> 赞同：6
> 
> 时间：2012-12-11T07:17:16.460
> 
> 标签：ios, crash, plcrashreporter

我想实现应用程序内崩溃日志的创建，并在应用程序崩溃后从用户那里获取它。所以，我查看了 PLCrashReport 并尝试添加到我的应用程序中。我发现有很多链接可以下载这个框架。喜欢[谷歌代码](http://code.google.com/p/plcrashreporter/downloads/list)，[Github](http://goo.gl/XWLrm)。

我真的不知道我应该下载哪个文件。它显示了某种二进制发布、源代码发布、大量 PLCrashReporters..

有人可以指出在我的应用程序中添加 PLCrashReporter 的方法吗？

提前致谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-26T18:21:09.740

此处显示了如何集成 PLCrashReporter 的示例[（已存档）](http://web.archive.org/web/20130114015734/http://plcrashreporter.googlecode.com/svn/tags/plcrashreporter-1.1-rc1/Documentation/API/example_usage_iphone.html)：

```
//
// Called to handle a pending crash report.
//
- (void) handleCrashReport {
    PLCrashReporter *crashReporter = [PLCrashReporter sharedReporter];
    NSData *crashData;
    NSError *error;
    // Try loading the crash report
    crashData = [crashReporter loadPendingCrashReportDataAndReturnError: &error];
    if (crashData == nil) {
        NSLog(@"Could not load crash report: %@", error);
        goto finish;
    }
    // We could send the report from here, but we'll just print out
    // some debugging info instead
    PLCrashReport *report = [[[PLCrashReport alloc] initWithData: crashData error: &error] autorelease];
    if (report == nil) {
        NSLog(@"Could not parse crash report");
        goto finish;
    }
    NSLog(@"Crashed on %@", report.systemInfo.timestamp);
    NSLog(@"Crashed with signal %@ (code %@, address=0x%" PRIx64 ")", report.signalInfo.name,
          report.signalInfo.code, report.signalInfo.address);
    // Purge the report
finish:
    [crashReporter purgePendingCrashReport];
    return;
}
// from UIApplicationDelegate protocol
- (void) applicationDidFinishLaunching: (UIApplication *) application {
    PLCrashReporter *crashReporter = [PLCrashReporter sharedReporter];
    NSError *error;
    // Check if we previously crashed
    if ([crashReporter hasPendingCrashReport])
        [self handleCrashReport];
    // Enable the Crash Reporter
    if (![crashReporter enableCrashReporterAndReturnError: &error])
        NSLog(@"Warning: Could not enable crash reporter: %@", error);
} 
```

# iphone - 如何从 iphone 中的 URLS 同时解析 XML

> ID：13815401
> 
> 赞同：2
> 
> 时间：2012-12-11T07:17:59.100
> 
> 标签：iphone, ios, xml, xcode, xml-parsing

我同时有大约 15 个用于 XML 解析的 URL。我正在使用 KMXML Parser 进行 XML 解析。

如何使用线程同时进行解析。如何处理解析后的响应。我如何将这些响应存储在 Sql-lite 数据库中。

我的解析代码如下：

```
 NSArray* yourURLs = [NSArray arrayWithObjects:@"http://www.designworldonline.com/rss/",@"http://www.3dcadtips.com/feed/",@"http://feeds.feedburner.com/MakePartsFast",@"http://www.designworldonline.com/category/technologies/electricalelectronic/feed", nil];

for(NSString* url in yourURLs) {
        [self performSelectorInBackground:@selector(parse:) withObject:url];
    }

-(void)parse:(NSString*)link {

KMXMLParser *parser = [[KMXMLParser alloc] initWithURL:link delegate:self];
    _parseResults = [parser posts];

     [self performSelectorOnMainThread:@selector(update)  withObject:_parseResults waitUntilDone:NO];

}

-(void)update
{
 [pd addObject:_parseResults];
} 
```

但是使用这种编码， `_parseresults=[parser posts];`只为最后一个链接而不是每个链接调用。

我得到数组`pd`中的响应仅来自最后一个链接和 9 次。我不知道为什么只在最后一次调用解析方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:19:41.830

使用 Operation Queue，然后将所有操作添加到 Operation Queue 中。

查看此链接... [http://developer.apple.com/library/mac/#samplecode/NSOperationSample/Introduction/Intro.html%23//apple_ref/doc/uid/DTS10004184](http://developer.apple.com/library/mac/#samplecode/NSOperationSample/Introduction/Intro.html%23//apple_ref/doc/uid/DTS10004184)

希望它会有所帮助

快乐编码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:22:59.407

尝试使用框架会非常有帮助

[https://github.com/AFNetworking/AFNetworking](https://github.com/AFNetworking/AFNetworking)

[https://github.com/pokeb/asi-http-request](https://github.com/pokeb/asi-http-request)

# java - Scala - 在特定场景中无法通过终端执行进程

> ID：13815404
> 
> 赞同：1
> 
> 时间：2012-12-11T07:18:09.337
> 
> 标签：java, scala, exec, graphviz, dot

我正在使用 graphviz 根据 scala 程序中传递的消息生成图形。为了从 scala 程序内部调用 graphviz 应用程序，我使用了 exec() 方法（类似于 Java）。当我使用以下代码片段时，它成功执行了命令并创建了图表：

```
var cmd: String = "dot -Tpng Graph.dot -o Graph.png"  
var run: Runtime = Runtime.getRuntime() ;
var pr: Process = run.exec(cmd) ; 
```

但是更改输入和输出文件的路径后它无法执行（我只是包含了一个目录，其中输入文件和输出文件所在的目录如下所示）

```
 def main(args: Array[String]): Unit = {

   var DirectoryName: String = "Logs"

   var GraphFileName: String = DirectoryName + File.separator + "Graph.dot"      
   val GraphFileObj: File = new File(GraphFileName)

   // var cmd: String = "dot -Tpng Graph.dot -o Graph.png" 
   var cmd: String = "dot -Tpng \"" + GraphFileObj.getAbsolutePath + "\" -o \"" + DirectoryName + File.separator + "Graph.png\"" ;
   println(cmd)

   var run: Runtime = Runtime.getRuntime() ;
   var pr: Process = run.exec(cmd) ;

  } 
```

通过终端执行相同的命令会给出正确的输出。你能帮我找到我缺少的东西吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T07:46:11.563

exec 不是外壳...例如，引用不会按预期工作，因此您的路径（可能包含空格等）将不会按预期处理。该命令将使用 StringTokenizer 分解，您的文字引号将是......好吧..文字。

改用采用数组的 exec 形式，以便您可以正确标记命令。

```
val args = Array[String]("dot", "-Tpng", GraphFileObj.getAbsolutePath, ...);
run.exec(args) 
```

# arrays - 访问类的私有数据成员时出现问题，这些成员是另一个类的数组或向量

> ID：13815405
> 
> 赞同：1
> 
> 时间：2012-12-11T07:18:10.067
> 
> 标签：arrays, class, function, vector, encapsulation

感谢您查看我的问题。

具体问题是：我在这里做错了什么，导致程序崩溃？

我正在做一个项目，该项目接受客户的订单、存储他们的个人数据并存储他们的最后一个订单。

我上了两节课。客户和订单。

客户包含一个订单数组（在对向量进行故障排除之前）。

以下是我项目中的代码。

从我的 ohistory.h 文件中：

```
class Order
{
public:
    Order(string* oERROR= new string(""));
    ~Order();
    bool SetOrder(const string& main, const string& drink, const string& side);
    void GetOrder() const;
    void GetError() const;
    string GetMain() const;
    string GetSide() const;
    string GetDrink() const;
private:
    string m_main;
    string m_drink;
    string m_side;
    string* mORDER_ERROR;
};

class Customer
{
public:
    Customer(string* cERROR = new string(""));
    ~Customer();
    void GetName() const;
    bool SetName(const string &fName, const string& lName);
    bool SetAddress(const string& Addr);
    bool SetPhone(const string & pNumber);
    void GetOrder(const int& numOrder) const;
    bool SetOrder(const int& numOrder);
    void GetError() const;

private:
    string m_firstName;
    string m_lastName;
    string m_Address;
    string m_phoneNumber;
    Order m_cOrder[10];
    string* pCUS_ERROR;
    Order askOrder();
}; 
```

ohistory.cpp 中的相关条目

```
string Order::GetMain() const
{
    string temp = m_main;
    return temp;
}

string Order::GetDrink() const
{
    string temp = m_drink;
    return temp;
}

string Order::GetSide() const
{
    string temp = m_side;
    return temp;
}

Order Customer::askOrder()
{
    string main, side, drink;

    Order newOrder;
    cout << "***\tEnter a main item: ";
    getline(cin, main);
    cout << "\n***\t\tEnter a side item: ";
    getline(cin,side);
    cout << "\n***\t\tEnter a drink: ";
    getline(cin,drink);

    newOrder.SetOrder(main, drink, side);
    return newOrder;

}

bool Customer::SetOrder(const int& numOrder)
{

    for (int i = 0; i < numOrder; ++i)
    {
        Order temp = askOrder();
        m_cOrder[i].SetOrder(temp.GetMain(), temp.GetDrink(), temp.GetSide());

    }

    return true;
} 
```

从 main.cpp（对 customer.setOrder() 的调用在底部，main 调用 newCustomer()）

```
void newCustomer()
{
    cin.clear();
    char correctCustomerInfo;
    char correctOrder;
    Customer newCustomer;
    string first_name, last_name, address, phone_number;

    do
    {
        cout << "***\tEntering new customer:\n\n";
        cout << "***\t\tFirst Name:";
        getline(cin, first_name);
        cout << "***\t\tLast Name: ";
        getline(cin, last_name);
        cout << "***\t\tAddress: ";
        getline(cin, address);
        cout << "***\t\tPhone Number: ";
        getline(cin, phone_number);
        cout << endl;

        newCustomer.SetName(first_name, last_name);
        newCustomer.SetAddress(address);
        newCustomer.SetPhone(phone_number);

        newCustomer.GetName();
        correctCustomerInfo = askQuestion("Is the user's information correct?");

    } while (correctCustomerInfo != 'y');

    int choice;
    cout <<"***\tPlease enter order:\n\n";
    cout <<"***\tTotal number of Orders:\n";
    cin >> choice;
    cin.clear();
    cin.ignore(INT_MAX, '\n');

    do
    {
        newCustomer.SetOrder(choice);
        correctOrder = askQuestion("Is this the correct order?");
    } while (correctOrder != 'y');

} 
```

运行调试时从 VC++ 转储：

```
'OrderTaker.exe': Loaded 'C:\Documents and Settings\*\My Documents\Visual Studio 2010\Projects\OrderTaker\Debug\OrderTaker.exe', Symbols loaded.
'OrderTaker.exe': Loaded 'C:\WINDOWS\system32\ntdll.dll', Cannot find or open the PDB file
'OrderTaker.exe': Loaded 'C:\WINDOWS\system32\kernel32.dll', Cannot find or open the PDB file
'OrderTaker.exe': Loaded 'C:\WINDOWS\system32\msvcp100d.dll', Symbols loaded.
'OrderTaker.exe': Loaded 'C:\WINDOWS\system32\msvcr100d.dll', Symbols loaded.
First-chance exception at 0x103157aa (msvcr100d.dll) in OrderTaker.exe: 0xC0000005: Access violation reading location 0xfeeefee2.
Unhandled exception at 0x103157aa (msvcr100d.dll) in OrderTaker.exe: 0xC0000005: Access violation reading location 0xfeeefee2.

pUserData   0xfeeefeee  void *
Head    0xfeeefece {pBlockHeaderNext=??? pBlockHeaderPrev=??? szFileName=??? ...}   _CrtMemBlockHeader *
pBlockHeaderNext    CXX0030: Error: expression cannot be evaluated  
pBlockHeaderPrev    CXX0030: Error: expression cannot be evaluated  
szFileName  CXX0030: Error: expression cannot be evaluated  
nLine   CXX0030: Error: expression cannot be evaluated  
nDataSize   CXX0030: Error: expression cannot be evaluated  
nBlockUse   CXX0030: Error: expression cannot be evaluated  
lRequest    CXX0030: Error: expression cannot be evaluated  
      gap   0xfeeefeea <Bad Ptr>    unsigned char [4]

[0] CXX0030: Error: expression cannot be evaluated  
[1] CXX0030: Error: expression cannot be evaluated  
[2] CXX0030: Error: expression cannot be evaluated  
[3] CXX0030: Error: expression cannot be evaluated 
```

问题发生在：

```
void Customer::SetOrder(const int& numOrder)
{

    for (int i = 0; i < numOrder; ++i)
    {
        Order temp = askOrder();
        m_cOrder[i].SetOrder(temp.GetMain(), temp.GetDrink(), temp.GetSide());

    }

} 
```

我能够输入 3 个项目，然后它崩溃了。

你可能会注意到一些奇怪的返回类型，那是我为我计划在未来做的一些步骤做准备。

提前致谢。

================================编辑

我想出了我的问题。感谢icepack 把我送到了正确的方向。

无论哪种方式，以防有人有类似的问题。

问题出在我收到的用户输入上。

```
int choice;
cout <<"***\tPlease enter order:\n\n";
cout <<"***\tTotal number of Orders:\n";
cin >> choice;
cin.clear();
cin.ignore(INT_MAX, '\n');

do
{
    newCustomer.SetOrder(choice);
    correctOrder = askQuestion("Is this the correct order?");
} while (correctOrder != 'y'); 
```

我没有将用户输入直接发送给类及其数据成员，而是接受输入，访问其值，然后重新为其分配相同的值。

从那里开始工作就像一个魅力。

# c# - 使用来自 c# windows 应用程序的参数调用 ClearCanvas exe

> ID：13815413
> 
> 赞同：0
> 
> 时间：2012-12-11T07:19:11.503
> 
> 标签：c#, clearcanvas

我正在尝试使用 C# 从 Windows 应用程序的参数调用 ClearCanvas exe，但我无法调用它。下面是我的代码..

字符串[] args = 新字符串[2]; args[0] = "ClearCanvas.Desktop";

```
 Process pro = new Process();

        pro.StartInfo.FileName = @"D:\ClearCanvasWorkStation\Desktop\Executable\bin\Debug\ClearCanvas.Desktop.Executable.exe";
        pro.StartInfo.Arguments = args[0];

        pro.Start(); 
```

我应该发送什么作为参数，如果我想发送多个参数，我需要做什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:25:16.837

[Arguments](http://msdn.microsoft.com/en-us/library/system.diagnostics.processstartinfo.arguments.aspx)是一个包含命令行参数的字符串，就像您在命令行中键入它们一样。

```
 Process process = new Process();
 process.StartInfo.FileName = 
    @"D:\Cle...Debug\ClearCanvas.Desktop.Executable.exe";
 process.StartInfo.Arguments = "paramet1 parameter2 \"param with space\" parameter4";
 process.Start(); 
```

由于它是您的自定义应用程序，我不知道您的应用程序期望什么......

# shell - 如何在 shell 脚本中自动按下回车键？

> ID：13815417
> 
> 赞同：1
> 
> 时间：2012-12-11T07:19:30.000
> 
> 标签：shell, installation

我试图为 Sun java web 服务器制作自动安装 shell 脚本。但是，从一开始，就有一些麻烦。

当我手动启动设置时，我需要按几次 Enter 键才能同意许可证。

但我不知道如何在 shell 脚本上自动替换回车键。

你能帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:21:08.383

使用`echo`和管道。就像是：

```
(echo; echo; echo) | my_setup 
```

# android - Horizo nalScrollView 的 View.OnFocusChangeListener？

> ID：13815425
> 
> 赞同：1
> 
> 时间：2012-12-11T07:20:32.970
> 
> 标签：android, horizontal-scrolling, focuslistener

有谁知道如何`View.OnFocusChangeListener`工作`HorizontalScrollView`？
我想要它的子视图基本焦点事件？

有人知道吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T09:04:37.197

我已尝试通过以下方式解决您的问题：

```
view1 = (LinearLayout) findViewById(R.id.linear1);

view1.setOnFocusChangeListener(new OnFocusChangeListener() {
            public void onFocusChange(View v, boolean hasFocus) {
                    if(hasFocus){
                        Toast.makeText(getApplicationContext(), "view1 Got Focus", Toast.LENGTH_SHORT).show();
                    }
                    else{
                        Toast.makeText(getApplicationContext(), "view1 Lost Focus", Toast.LENGTH_SHORT).show();
                    }
            }
        }); 
```

但这并没有触发任何东西，这意味着线性布局无法获得和失去焦点。

所以，我用这种方式尝试了 setOnClickListener 监听器：

```
view1 = (LinearLayout) findViewById(R.id.linear1);

view1.setOnClickListener(new OnClickListener() {            
            @Override
            public void onClick(View v) {
                Toast.makeText(getApplicationContext(), "view1 Got Focus", Toast.LENGTH_SHORT).show();
            }
        }); 
```

它工作正常。

因此，从线性布局的 setOnClickListener 事件设置逻辑可能对您有所帮助。

如果您发现任何困惑或需要我的更多帮助，请告诉我。

希望它可以帮助你。

谢谢。

# sql - 使用变量将一列值更新为另一列值

> ID：13815426
> 
> 赞同：1
> 
> 时间：2012-12-11T07:20:35.990
> 
> 标签：sql, oracle

下面是一个查询：

```
`UPDATE table1 SET column1 = coulmn2;` 
```

在这里，column1 的值将被更新为 column2 的值。

但是，我正在编写一个 PROCEDURE，我想在其中更新列值，在循环中通过字符串变量传递列名。

例如

```
`str1 varchar(50) := 'column1';`
`str2 varchar(50) := 'column2';`
`str3 varchar(200) := 'update table1 set' + str1 + '=' + str2;`
`execute immediate str3;` 
```

但是，这里的查询执行为： column1 = 'column2' column1 中的所有值都由 'column2' 字符串而不是 column2 的值更新。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T08:21:25.807

您必须将 SQL 语句构建为字符串，然后使用“立即执行”执行它；

```
create procedure ...
  sql_txt varchar2(32000)
begin
  sql_txt := ...;
  execute immediate sql_txt;
end; 
```

# java - 如何为 google play 制作一个捐赠应用程序以附加到免费版本？

> ID：13815435
> 
> 赞同：0
> 
> 时间：2012-12-11T07:21:07.897
> 
> 标签：java, android, apk, donations

我在 Google Play 上有一个应用，我想添加一个捐赠应用。我可以将相同的游戏投放到市场上，该游戏已修改为捐赠版本，但他们不会从免费版本中获得保存。有没有办法让我创建一个 .apk 运行它会改变说免费版本中的 boolean donated = true 然后将自己从应用程序列表中隐藏起来。或者有没有更简单的方法来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:52:26.780

您可以在应用程序之间共享数据，即使用 sd 卡、命名首选项、内容提供商。解决问题的其他方法是使用应用内付款。冒险是，您不需要为免费/付费应用程序维护 2 个代码分支。如果我们谈论的是支付——看看 Google Play 的政策——一般来说，他们不允许使用其他（更便宜的）“支付处理器”。

# cordova - Phonegap：检测 navigator.notification.alert 是否打开

> ID：13815440
> 
> 赞同：0
> 
> 时间：2012-12-11T07:21:28.797
> 
> 标签：cordova, jquery-mobile

在我的应用程序（使用 phonegap）中，我使用 navigator.notification.alert() 来为用户端显示自定义消息。当我在窗口中收到警报消息时，如果我单击后退按钮，我只想取消该警报窗口并留在同一页面上。我想知道如何检查警报框是否打开。如果它打开只是想取消phonegap中的警报框。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-12T03:08:46.157

不确定您要实现的确切目标，但是通过后退按钮，您的意思是取消？如果是这样，您可以创建一个回调函数（或简单地将这个值设置为 null），如下例所示：

```
navigator.notification.alert(
'You are the winner!',  // message
alertDismissed,         // callback
'Game Over',            // title
'Done'                  // buttonName
);

function alertDismissed() {
    // do your magic
} 
```

在此处阅读有关[phonegap 警报/确认的更多信息](http://docs.phonegap.com/en/1.0.0/phonegap_notification_notification.md.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T19:59:45.683

我不确定您是否可以通过 PhoneGap 实现此目的...您始终可以做的是创建一个布尔值并在显示警报时将其设置为 true。不过，根据我的经验，您最好使用确认而不是警报。出于某种原因，警报允许用户单击屏幕上的任意位置，警报将消失。另一方面，确认将迫使用户单击按钮。

希望有帮助

# ruby - 制作二维数组

> ID：13815442
> 
> 赞同：-2
> 
> 时间：2012-12-11T07:21:41.963
> 
> 标签：ruby

我的数组是`["Mehmet,1,3,0,0,0\n", "Veli,2,1,2,0,2\n", "Ali,0,1,1,0,0\n"]`.

我想**声明二维数组**，例如`array[1][2]`名称的第一维和注释的第二维。

我怎样才能做到？

文本.txt 是

穆罕默德,1,3,0,0,0 维利,2,1,2,0,2 阿里,0,1,1,0,0

我的代码是

```
filename = "text.txt"
results = []
File.new(filename, "r").each { |line| results << line }

results.inject([]){|ar,s|
ar.concat(s.split(/,/))}

puts results.inspect 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:25:37.853

```
array = File.read("text.txt").split
# => ["Mehmet,1,3,0,0,0", "Veli,2,1,2,0,2", "Ali,0,1,1,0,0"]

array.map { |ar| x, *xs = ar.split(","); [x, xs.join] }
# => [["Mehmet", "13000"], ["Veli", "21202"], ["Ali", "01100"]] 
```

或者，如果您不想加入第二个子阵列

```
array.map { |ar| x, *xs = ar.split(","); [x, xs] }
# => [["Mehmet", ["1", "3", "0", "0", "0"]],
#     ["Veli", ["2", "1", "2", "0", "2"]],
#     ["Ali", ["0", "1", "1", "0", "0"]]] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:42:53.140

要修改您第一次发布的集合：

```
data = ["Mehmet,1,3,0,0,0\n", "Veli,2,1,2,0,2\n", "Ali,0,1,1,0,0\n"]
data = data.map {|x| y = x.split(","); [y.delete_at(0), y] }

=> [["Mehmet", ["1", "3", "0", "0", "0\n"]],
 ["Veli", ["2", "1", "2", "0", "2\n"]],
 ["Ali", ["0", "1", "1", "0", "0\n"]]]

puts data[0][0] 
=> Mehmet 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:24:51.273

二维数组表示数组的数组。所以，简单地说，它可以是：

```
board = [ [ 1, 2, 3 ],[ 4, 5, 6 ]] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-11T07:41:58.943

你在寻找这样的东西吗？

```
array = ["Mehmet,1,3,0,0,0\n", "Veli,2,1,2,0,2\n", "Ali,0,1,1,0,0\n"]
new_array = array.map do |elem|
  splited = elem.split(/[,\s]/)
  [splited.shift, splited]
end
# => [["Mehmet", ["1", "3", "0", "0", "0"]],
#     ["Veli", ["2", "1", "2", "0", "2"]],
#     ["Ali", ["0", "1", "1", "0", "0"]]] 
```

# c# - 带有数字的波斯语正则表达式

> ID：13815443
> 
> 赞同：2
> 
> 时间：2012-12-11T07:21:49.957
> 
> 标签：c#, regex

我想为这些输入样本编写一个正则表达式：

```
اشک12345
اشکـ12345 
```

我的点子：

```
"^[آ-ی][آ-ی][آ-ی][\ـ]?\d{5}" 
```

但它不起作用。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-11T07:42:19.277

尝试使用另一个正则表达式：

```
[0-9]*[\u0600-\u06FF]* 
```

或者

```
[\u0600-\u06FF]*[ـ]?[\d{5}]+ 
```

甚至

```
[\w{Arabic}]*[ـ]?[\d{5}]+ 
```

对于匹配 2 个组，您可以使用

```
(?'head'[\w{Arabic}]{3})[ـ]?(?'index'[\d{5}]+) 
```

结果将是2组：

```
head: اشک
index: 12345 
```

# ruby - Ubuntu Launcher 未使用 RVM

> ID：13815444
> 
> 赞同：1
> 
> 时间：2012-12-11T07:21:56.130
> 
> 标签：ruby, bash, ubuntu, rvm, environment-variables

我正在尝试让我的数据文件像 MS Word 文档一样“可点击”。当用户单击桌面上扩展名为“.vr”的文件时，我希望它执行我的 Ruby 脚本，并将文件名作为参数传递。

我创建了一个带有“.vr”扩展名的mime类型“text/vr”，当我单击桌面上的文件“text.vr”时，它会尝试运行命令：

```
$vr test.vr 
```

此命令失败，因为它尝试使用旧版本的 Ruby。问题是 Ubuntu 从桌面启动程序而不是提示时使用了不同的环境。

我使用 RVM，当我在终端中编写程序时，它可以完美运行。但是，当我单击文件启动 vr 脚本时，没有使用 RVM。我需要找到一种在单击文件时使 RVM 加载的方法。

这里发生了什么？从桌面执行文件时会加载什么环境文件？~/.bashrc? ~/.profile? 我怎样才能让我的整台电脑总能找到 RVM？

谢谢，埃里克

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:36:17.327

有几种方法，桌面的环境是从加载的`.profile`，添加一个：

```
source $HOME/.rvm/environments/ruby-1.9.3-p327 #OR:
source $HOME/.rvm/environments/default 
```

加载特定的红宝石。

有时它可能不适用于采购，然后添加默认文件的内容`.profile`应该可以工作：

```
cat $HOME/.rvm/environments/default >> ~/.profile 
```

需要重新登录/重新启动才能应用更改。

# html - 内联 SVG 后备 - 浏览器处理所有开关元素

> ID：13815446
> 
> 赞同：0
> 
> 时间：2012-12-11T07:22:02.807
> 
> 标签：html, svg

我刚刚开始使用内联 SVG 在资源密集的网站上显示图像。但是，我也有一个使用 switch 和 foreignobject 标签的后备，这样旧的浏览器应该只在它的位置显示一个 png 图像。

这是最基本的 - 在 html 中的内联 svg 中有更多细节[- 如何优雅地降级？](https://stackoverflow.com/questions/10469457/inline-svg-in-html-how-to-degrade-gracefully)

```
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xml:space='preserve'
  width="100" height="100">
<switch>
<g>
<!-- the svg goes here -->
</g>
<foreignObject width="100" height="100">
<img src="/some_image.png"/>
</foreignObject>
</switch>
</svg> 
```

我认为这会减轻服务器上的负载——例如，对于一个有 4 个图像的页面，浏览器可以一次性获取所有内容，而不是 5 次访问服务器，1 次访问页面，1 次访问每个 img 标记。

然而，现在我已经部署了这个解决方案，我发现（通过检查服务器日志）浏览器实际上正在处理外来对象标签内的 img 请求，无论它们是否可以处理 SVG。

换句话说，它增加了服务器的负载，因为页面更大（充满了 SVG）并且无论如何都下载了图像，即使它们从未显示。

这看起来很疯狂——我认为切换的想法是浏览器应该处理它理解的第一个标签（在我的例子中，g 标签）并忽略其余的（在我的例子中的外来对象）。

我已经在 Firefox 17.0.1、Chrome 23.0.1271.95、Safari 5.1.7 和 Opera 12.10 中对此进行了测试，他们都做到了。

有什么办法可以说服浏览器他们**真的**不需要下载图像？

谢谢

克里斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:37:52.650

您仍然可以通过在 a或`<switch>`中使用未直接显示的子项的内容来引用它。只有*直接*渲染开关子级被抑制。`<use>` `<filter>``<clipPath>`

 *停止下载的唯一方法是不要在图像上设置 src 属性，除非您需要它。您可以使用 javascript 检查 SVG 支持，例如

```
document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape", "1.0") 
```

如果返回 true，则设置 src 属性。*

# javascript - 在当前鼠标位置的画布内添加一个 Textarea

> ID：13815447
> 
> 赞同：3
> 
> 时间：2012-12-11T07:22:07.557
> 
> 标签：javascript, jquery, html, html5-canvas

我想在画布上添加一些文本信息。当我在画布的某个点上单击鼠标时，它应该在当前鼠标位置显示一个文本区域。还应该可以选择、拖动和旋转文本区域。如何使用 HTML5 画布和 javascript 实现此功能？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-11T11:57:03.540

下面的代码是dreame4 提供的，适用于允许拖动（[jsfiddle](http://jsfiddle.net/ABY63/1/)）。

```
var canvas = document.getElementById("c"),
    textarea = null;

function mouseDownOnTextarea(e) {
    var x = textarea.offsetLeft - e.clientX,
        y = textarea.offsetTop - e.clientY;
    function drag(e) {
        textarea.style.left = e.clientX + x + 'px';
        textarea.style.top = e.clientY + y + 'px';
    }
    function stopDrag() {
        document.removeEventListener('mousemove', drag);
        document.removeEventListener('mouseup', stopDrag);
    }
    document.addEventListener('mousemove', drag);
    document.addEventListener('mouseup', stopDrag);
}
canvas.addEventListener('click', function(e) {
    if (!textarea) {
        textarea = document.createElement('textarea');
        textarea.className = 'info';
        textarea.addEventListener('mousedown', mouseDownOnTextarea);
        document.body.appendChild(textarea);
    }
    var x = e.clientX - canvas.offsetLeft,
        y = e.clientY - canvas.offsetTop;
    textarea.value = "x: " + x + " y: " + y;
    textarea.style.top = e.clientY + 'px';
    textarea.style.left = e.clientX + 'px';
}, false);​ 
```

然而，旋转需要一个完全不同且更复杂的解决方案 - 使用在画布中制作文本`context.fillText`，然后查看[这篇](https://stackoverflow.com/questions/3167928/drawing-rotated-text-on-a-html5-canvas)关于如何旋转它的帖子。您需要明确跟踪文本区域的位置和旋转角度。canvas 元素的事件监听器必须检查鼠标是否在文本内，在这种情况下它开始拖动，或者在外部，在这种情况下它创建/移动文本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T11:18:37.553

处理单击画布并显示带有坐标的文本区域的代码示例：

HTML

```
<canvas id="c" width="200" height="200"></canvas> 
```

JS：

```
var canvas = document.getElementById("c"),
    textarea = null;

canvas.addEventListener('click', function(e) {
    if(!textarea) {
        textarea = document.createElement('textarea');
        textarea.className = 'info';
        document.body.appendChild(textarea);
    }
    var x = e.clientX - canvas.offsetLeft,
    y = e.clientY - canvas.offsetTop;
    textarea.value = "x: " + x + " y: " + y;
    textarea.style.top = e.clientY + 'px';
    textarea.style.left = e.clientX + 'px';
}, false); 
```

其余的功能更复杂。可能您想使用像[jQuery UI](http://jqueryui.com/)这样的外部库。

已编辑：样式中缺少“px”。谢谢斯图尔特。

# delphi - KOL表单中如何设置表单位置和字体大小

> ID：13815448
> 
> 赞同：-1
> 
> 时间：2012-12-11T07:22:09.430
> 
> 标签：delphi, properties, kol

我有两个关于 KOL 的问题。

1.  我有一个主要形式。正如我所看到的，这放置在 TForm 的位置上。我想把它放到屏幕中心。如何访问它的坐标或“SetWindowPos”的句柄？

2.  我在表格中有 4 个标签。对于其中 2 个，我想使用较小的字体。但我没有找到任何字体大小属性......那该怎么做呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-12T01:58:57.560

***1.1。如何在屏幕上居中表格？***

使用`CenterOnForm`方法。正如描述所说，如果将其应用于表单，则会在屏幕上居中表单：

```
Form.CenterOnForm(nil); 
```

* * *

***1.2\. 如何获得表格位置？***

就像在德尔福中一样，由`Left`and`Top`属性或例如由`Position`属性。以下伪代码结果相同：

```
ShowMessage('Form pos.: [' +
  Int2Str(Form.Left) + '; ' +
  Int2Str(Form.Top) + ']'
);
ShowMessage('Form pos: [' +
  Int2Str(Form.Position.X) + '; ' +
  Int2Str(Form.Position.Y) + ']'
); 
```

请注意，除非您自己更改表单位置或直到小程序运行，否则这两个属性都返回 0。如果您没有设置表单位置，则在小程序启动时会调整表单位置。

* * *

***1.3\. 如何获取表单句柄？***

使用`Handle`属性或`GetWindowHandle`方法。以下伪代码结果相同：

```
ShowMessage(Int2Str(Form.Handle));
ShowMessage(Int2Str(Form.GetWindowHandle)); 
```

* * *

***2.如何更改字体大小？***

正如@David 在他的帖子中已经提到的那样，使用该`Font.FontHeight`属性。只是一个旁注，创建时的默认字体，例如，该标签设置为`System`无法更改大小，因此当大小更改不会应用时不要感到惊讶。以下是来源的引述：

> 值 0（默认）表示使用系统默认值，负值表示以“点”为单位的字体高度，正值 - 以像素为单位。在 XCL 中，通常使用正值（如果不是 0）来使外观独立于不同的本地设置。

这是定位标签创建中显示的示例用法：

```
Label1 := NewLabel(Form, 'Label1').SetPosition(8, 8);
Label1.Font.FontName := 'Tahoma';
Label1.Font.FontHeight := -11; 
```

* * *

***3\. 示例项目***

```
program Project1;

uses
  KOL;

type
  PForm1 = ^TForm1;
  TForm1 = object(TObj)
    Form, Label1, Label2, Label3, Label4: PControl;
  end;

var
  Form1: PForm1;

procedure CreateForm(var Result: PForm1; AParent: PControl);
begin
  New(Result, Create);
  with Result^ do
  begin
    Form := NewForm(AParent, 'Caption').SetSize(320, 240);
    Form.CenterOnForm(nil);

    Label1 := NewLabel(Form, 'Label1').SetPosition(8, 8);
    Label1.Font.FontName := 'Tahoma';
    Label1.Font.FontHeight := -11;
    Label2 := NewLabel(Form, 'Label2').SetPosition(72, 8);
    Label2.Font.FontName := 'Tahoma';
    Label2.Font.FontHeight := -11;
    Label3 := NewLabel(Form, 'Label3').SetPosition(136, 8);
    Label3.Font.FontName := 'Tahoma';
    Label3.Font.FontHeight := -15;
    Label4 := NewLabel(Form, 'Label4').SetPosition(200, 8);
    Label4.Font.FontName := 'Tahoma';
    Label4.Font.FontHeight := -15;
  end;
end;

begin
  Applet := NewApplet('Test');
  CreateForm(Form1, Applet);
  Run(Applet);
end. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:54:44.963

**问题 1**

在窗体上调用 SetPosition 和 SetSize 方法。

```
Form.SetPosition(x,y);
Form.SetSize(w,h); 
```

**问题2**

使用`Font.FontHeight`.

```
MyControl.Font.FontHeight := ...; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:59:48.230

1.  如果要调用 SetWindowPos，可以检索调用返回指针的 GetWindowHandle 方法的句柄。

2.  请，每个问题不要问超过 1 个问题。

# c# - C# 共享文件夹访问导致登录失败异常

> ID：13815450
> 
> 赞同：0
> 
> 时间：2012-12-11T07:22:33.747
> 
> 标签：c#

我有以下工作正常的代码。

```
public Foo GetConfiguration(string file)
{
    lock (_lockObj)
    {
        Foo foo = new Foo ();
        try
        {
            XmlSerializer serializer = new XmlSerializer(typeof (Foo));
            using (Stream reader = new FileStream(file, FileMode.Open, FileAccess.Read, FileShare.ReadWrite))
            {
                foo = (Foo) serializer.Deserialize(reader);
            }
        }
        catch (Exception ex)
        {
            Log.Error(string.Format("Failed to read foo '{0}'. Error: '{1}'", file, ex));
        }
        return foo;
    }
} 
```

}

当函数输入`file`值是 unc 共享文件夹时，我得到以下异常：

```
System.IO.IOException: Logon failure: unknown user name or bad password. 
```

我怎样才能克服它？

如何将凭据传递给 FileStream？

谢谢

**编辑：** 1\. 该程序托管在本地系统帐户下的 Windows 服务上

1.  该服务在Win2008上

2.  在服务器上，我将凭据添加到凭据管理器（存储凭据以进行自动登录）

3.  将凭据放入凭据管理器后，我可以通过 UNC 访问目标路径（位于不同的服务器上），但仍无法通过 C#

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:29:34.037

很可能您拥有的 ASP.Net 应用程序不在有权访问共享的帐户下运行。

诊断 - 调试代码并查看 和 的值是`System.Environment.UserName`什么`System.Environment.UserDomainName`。

# android - 获取编辑文本中输入的 URL 的来源

> ID：13815453
> 
> 赞同：0
> 
> 时间：2012-12-11T07:22:46.933
> 
> 标签：android

我有一个要求，我必须获取在编辑文本中输入的 URL 地址的来源。能够获取在 HTTPGET 请求中硬编码的 URL 的源文件。代码如下..

```
public String getHtml() throws ClientProtocolException, IOException
{
    HttpClient httpClient = new DefaultHttpClient();
    HttpContext localContext = new BasicHttpContext();
    HttpGet httpGet = new  HttpGet("http://www.google.com");
    HttpResponse response = httpClient.execute(httpGet, localContext);

    BufferedReader reader = new BufferedReader(
        new InputStreamReader(
          response.getEntity().getContent()
        )
      );

    String line = null;
    while ((line = reader.readLine()) != null){
      result += line + "\n"; 
    Log.d("result","="+result);

    }

    return result;

} 
```

并将其保存在文件中，如：

```
 public void onClick(View v) {
            File file = new File(etPath.getText().toString());
            FileWriter writer=null;
            try
            {
                writer = new FileWriter(file);

                /** Saving the contents to the file*/
                writer.write(getHtml());

                /** Closing the writer object */
                writer.close();

                /** Getting sharedpreferences object to store the path of last saved file */
                SharedPreferences.Editor editor = getPreferences(MODE_PRIVATE).edit();

                /** Setting the last saved file's path in the shared preference */
                editor.putString("fpath", file.getPath());

                /** Save the path to the shared preference */
                editor.commit();

                Toast.makeText(getBaseContext(), "Successfully saved", Toast.LENGTH_SHORT).show();

            } catch (IOException e) {
                e.printStackTrace();
            }
        }
    }; 
```

此方法正确返回 google.com 的来源。但我需要做这样的事情：

```
HttpGet httpGet = new  HttpGet(etContent.getText().toString()); 
```

其中 etContent 是输入 URL 的编辑文本。但是当我执行这个语句时，它崩溃了。

我需要提取在编辑文本中输入的 URL 的来源。我不打算使用异步任务。请帮帮我。

请发布一些代码以支持。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:29:56.117

自己解决了问题。问题是我在输入 URL 时没有附加 http://。它现在工作正常。谢谢大家:-)

# php - Prestashop 购物车

> ID：13815456
> 
> 赞同：0
> 
> 时间：2012-12-11T07:23:02.940
> 
> 标签：php, prestashop

我最近在 prestashop 中实现了一个在线商店。在安装和测试支付网关之后，我卸载并禁用了我不使用的模块。现在我有一个奇怪的问题。

1.  我只能将 1 件商品添加到购物车。当我尝试添加多个项目时，没有任何反应，也没有 javascript 错误。
2.  当我离开将商品添加到购物车的页面时。购物车从

> 购物车 : 1 个产品

到

> 购物车：（空）

有没有人在 Prestashop 1.5.2.0 中遇到过这个问题？

可能是我禁用的模块或 PHP 配置问题。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:30:11.293

这听起来像是会话的问题。您可以进行快速测试以检查您的环境是否支持会话。

```
session_start();
if($_SESSION['test']==1)
{
    echo 'It worked. My Session ID is '.session_id();
}
$_SESSION['test']=1; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T10:22:06.793

似乎这是一个与 cookie 相关的问题。只需清除 cookie 或以隐身模式运行浏览器即可解决此问题。将与开发人员记录此问题

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-12T21:33:46.727

您还可以清除 PrestaShop 文件中已编译的 smarty 缓存。

# java - jsp中如何在指定位置显示jfreechart

> ID：13815457
> 
> 赞同：1
> 
> 时间：2012-12-11T07:23:12.217
> 
> 标签：java, jsp, jfreechart, pie-chart

我有一个 jsp 页面，我需要在指定位置显示图表。但是使用以下代码，图表被加载为 png 图像，而 jsp 页面的所有其他 css 设计元素都没有显示......下面是我的代码。

```
 DefaultPieDataset dataset = new DefaultPieDataset();

        dataset.setValue("STD", 10);
        dataset.setValue("Local", 15);
        dataset.setValue("ISD", 47);
        dataset.setValue("Inet", 20);

        JFreeChart chart = ChartFactory.createPieChart3D(
                "Calls by Type", // Title
                dataset, // Data
                true, // Yes, display the legend
                true, // No, don't display tooltips
                true // No, no URLs
                );
        PiePlot3D plot4 = (PiePlot3D) chart.getPlot();
        plot4.setForegroundAlpha(0.6f);
        plot4.setBackgroundPaint(Color.cyan);
        PiePlot piePlot = (PiePlot) chart.getPlot();
        StandardPieSectionLabelGenerator labelGenerator = new StandardPieSectionLabelGenerator("{0} {1} {2}");
        piePlot.setLabelGenerator(labelGenerator);
        piePlot.setLegendLabelGenerator(labelGenerator);
        response.setContentType("html");

        ChartUtilities.writeChartAsPNG(response.getOutputStream(), chart, 400, 300); 
```

# javascript - 关闭当前页面后仍然无法选择更改背景的项目

> ID：13815459
> 
> 赞同：0
> 
> 时间：2012-12-11T07:23:20.273
> 
> 标签：javascript, html, browser-cache

我有一个网站，我在其中插入一个带有选项的选项供用户*选择*，并且选择的每个选项都会导致页面背景颜色发生变化。

我还有一个导航器可以在 2 个页面之间移动（例如，标题为“Title A”的页面和另一个具有相同 DOM 结构但标题为“Title B”的页面）

该选项包括“iA、iB、iC”项目。

问题是这样的，

在页面A中，如果我选择一个选项，例如iB更改背景颜色，然后我选择导航器选择页面B，尽管背景刷新到页面B，我仍然会看到所选的iB。

请任何人有任何想法。我相信这是一个缓存问题，但我不知道如何使用一段 javascript [jquery] 代码或每次刷新页面时刷新缓存的方法来解决这个问题。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:30:25.680

我认为这是一种缓存效应。要解决此问题，请尝试通过 js 选择针选项。像这样的东西：

```
$(function(){
  $('#your_option_id_for_example_iA').click();
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:34:10.453

这是由于现代浏览器中的“功能”可以记住您在输入字段中的选择/输入。它被称为`autocomplete`。为防止浏览器记住您的选择，您需要将其关闭。它可以用 HTML 或 JavaScript/jQuery 来完成。

HTML：

```
// For just a specific element
<input type="text" autocomplete="off" />
// For an entire form
<form autocomplete="off"> 
```

jQuery：

```
$('input, select').attr('autocomplete', 'off'); 
```

您可以在此处阅读有关它的更多信息： [https ://developer.mozilla.org/en/docs/How_to_Turn_Off_Form_Autocompletion](https://developer.mozilla.org/en/docs/How_to_Turn_Off_Form_Autocompletion)

# wordpress - 您没有足够的权限访问此页面而不进行任何更改

> ID：13815461
> 
> 赞同：20
> 
> 时间：2012-12-11T07:23:21.467
> 
> 标签：wordpress, ftp, admin

我正在使用 Wordpress，并在本地完成了我的项目。然后我把它移到我的实时服务器上，没有做任何改变，我只是在配置文件（数据库名称、用户名和密码）中进行了更改。

现在我的网站在前端运行良好，但我无法访问管理面板，因为每次它都会给我错误消息：

> 您没有足够的权限访问此页面。

谷歌搜索表明大多数错误是由于前缀的变化而发生的，但在我的情况下，它与本地相同。此外，我的目录的权限是 755，文件的权限是 644，但仍然面临同样的问题。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：93
> 
> 时间：2012-12-11T07:58:37.297

您是否更改了数据库表的前缀？我有 90% 的把握，这是你的问题。

问题是 WordPress 使用`$table_prefix`变量来形成选项和用户元键名，它存储角色和功能信息。因此，一旦您更改了前缀，但不更新您的数据库，您就会收到此错误。以下是如何修复它 - 通过 phpMyAdmin 执行此 SQL 命令，或与您的数据库交互的不同界面（您也可以使用 PHP 执行此操作）：

```
UPDATE `{%TABLE_PREFIX%}usermeta` SET `meta_key` = replace(`meta_key`, '{%OLD_TABLE_PREFIX%}', '{%NEW_TABLE_PREFIX%}');
UPDATE `{%TABLE_PREFIX%}options` SET `option_name` = replace(`option_name`, '{%OLD_TABLE_PREFIX%}', '{%NEW_TABLE_PREFIX%}'); 
```

在哪里：

*   `{%TABLE_PREFIX%}`是您当前的`$table_prefix`（在 中设置`wp-config.php`）
*   `{%OLD_TABLE_PREFIX%}`是你以前的`$table_prefix`
*   `{%NEW_TABLE_PREFIX%}`是您的新（当前）`$table_prefix`- 它很可能与您的`{%TABLE_PREFIX%}`.

因此，如果您的旧版本`$table_prefix`是`wp_test_`，而新版本是`wp_`，您将执行以下查询：

```
UPDATE `wp_usermeta` SET `meta_key` = replace(`meta_key`, 'wp_test_', 'wp_');
UPDATE `wp_options` SET `option_name` = replace(`option_name`, 'wp_test_', 'wp_'); 
```

* * *

编辑：正如@Francisco Corrales 所指出的，如果您在访问您创建的管理页面时遇到问题（如果您不编写 PHP，这不是您的情况），您可以查看此链接：[开发插件时出现 Wordpress 错误- “您没有足够的权限访问此页面。”](https://stackoverflow.com/questions/4224084/wordpress-error-while-developing-a-plugin-you-do-not-have-sufficient-permissio?rq=1)

* * *

编辑 2：正如@Kasper Souren 所指出的，您可能希望将 WHERE 子句添加到选项 UPDATE 查询中。像这样（不要删除`%`最后一个`%}`）：

```
UPDATE `{%TABLE_PREFIX%}options` SET `option_name` = replace(`option_name`, '{%OLD_TABLE_PREFIX%}', '{%NEW_TABLE_PREFIX%}') WHERE option_name like '{%OLD_TABLE_PREFIX%}%'; 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-12-11T07:51:47.293

您的问题与目录权限无关。您看到“您没有足够的权限访问此页面”消息这一事实意味着三件事：

1.  您正在尝试直接访问管理页面，而不是通过 wp-admin（因此请指明您要访问的管理页面），

2.  您已经登录（否则您将被重定向到 /wp-admin）并且

3.  您尝试访问的区域是为更高级别的用户保留的（因此您可能正在使用编辑器帐户连接，而该区域仅供管理员访问）。

你能告诉我们你的本地数据库和在线数据库是否相同？您可以在看到此消息之前正确登录吗？

# javascript - Extjs Grid - 自定义空/未定义单元格

> ID：13815464
> 
> 赞同：2
> 
> 时间：2012-12-11T07:23:35.880
> 
> 标签：javascript, extjs, extjs4, extjs4.1

我有一个显示数据库数据的网格，有时某些单元格是空的，因为数据库中的该列中没有数据。有时数据是“未定义的”。所以我需要在网格中的这两种情况下显示这个文本“No Data”。我读到我可以用渲染器做到这一点，但仍然不知道怎么做。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-11T07:27:39.950

将渲染器应用于该网格列，例如

```
renderer: function(val) {
    if (val === null || val === undefined)
        return 'No Data';
    return val;
} 
```

这是一个**[JSFiddle](http://jsfiddle.net/e2hBm/)**

# .htaccess - codeigniter htaccess 将 url 重写为 BASEPATH../

> ID：13815472
> 
> 赞同：0
> 
> 时间：2012-12-11T07:23:55.723
> 
> 标签：.htaccess, codeigniter, url, url-rewriting, url-routing

我有一个使用 codeigniter 制作的网站，它在本地机器上运行良好，但是当我将它上传到服务器时，它给了我一个 500 错误，当我删除 htaccess 时错误消失了，在本地机器上错误有时以不同的方式出现，我找不到导致此问题的原因，但某些 url 会像这样重写：原始 url => [http://domain.com/controller/method](http://domain.com/controller/method) 重写的 url => [http://domain。 com/absolute/path/to/controller/method](http://domain.com/absolute/path/to/controller/method) 这是我的 htaccess 文件：

```
RewriteEngine On
RewriteRule ^(welcome(/index)?|index(\.php)?)/?$ / [L,R=301]
RewriteRule ^(.*)/index/?$ $1 [L,R=301]
RewriteRule ^(.+)/$ $1 [L,R=301]
RewriteCond %{REQUEST_URI} ^system.*
RewriteRule ^(.*)$ /index.php/$1 [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php/$1 [L] 
```

任何帮助，请提前谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:26:25.067

试试我的`.htaccess`代码............

```
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php/$1 [L] 
```

# mysql - 使用 Microsoft Access 等密码保护数据库

> ID：13815478
> 
> 赞同：0
> 
> 时间：2012-12-11T07:24:06.717
> 
> 标签：mysql, sql, sql-server, encryption, password-protection

我想问一些关于数据库保护的问题。

我有一个将部署到不同客户端的 Windows 应用程序，在部署时我正在客户端计算机上创建一个数据库。

这里的问题是我可以用密码保护这个数据库，所以只有我的应用程序可以访问它。

数据库引擎可以是 Microsoft SQL Server 或 MySQL。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T08:10:12.447

我想你问这个是因为想阻止某人知道你的数据结构或内部数据存储，但你不能对在 SQL 服务器或任何其他真实数据库上具有 DBA 权限的用户这样做。

如果您真的想对您的客户隐藏它（这对我来说不是一个好主意），您可以评估将其安装在物理上和逻辑上都在您控制之下的服务器中。如今，一个好的解决方案可能是在云中托管此服务器，例如在 AZURE 中托管您的数据。

隐藏你的数据库结构对我来说并不专业。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:36:26.933

您[授予](http://dev.mysql.com/doc/refman/5.5/en/grant.html)具有可选密码的用户对 MySQL 数据库和/或表的访问权限。当您要访问此数据库时，您必须提供用户名和密码。

但是没有自动加密。您可能想查看这个问题[MySQL 和数据文件加密](https://stackoverflow.com/q/143750/1741542)及其答案。

对于与安全相关的问题，您还可以查看[Security](http://dev.mysql.com/doc/refman/5.5/en/security.html) and [Securing the Initial MySQL Accounts](http://dev.mysql.com/doc/refman/5.5/en/default-privileges.html)。

# java - Java Swing 的 UTF-8 支持问题？

> ID：13815479
> 
> 赞同：2
> 
> 时间：2012-12-11T07:24:12.473
> 
> 标签：java, swing, encoding, utf-8, character-encoding

> **可能重复：**
> [如何在 Swing 应用程序中实现 UTF-8 格式？](https://stackoverflow.com/questions/13804113/how-to-implement-utf-8-format-in-swing-application)

在 Swing 应用程序中，我有发送按钮、一个文本区域和一个文本字段。

如果我按下发送按钮，我需要将文本从文本字段发送到文本区域

它在英语中运行良好，但不是在当地语言中......

```
package package1;

import java.awt.*;
import java.awt.event.*;
import java.io.UnsupportedEncodingException;

import javax.swing.BorderFactory;
import javax.swing.JFrame;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.border.Border;

class AEvent extends JFrame implements ActionListener{

    private static final long serialVersionUID = 1L;
    JTextField tf;
    JTextArea area ;
    Border border;

    AEvent(){

        area = new JTextArea(200,200);
        area.setBounds(60,200,300,200);

        border = BorderFactory.createLineBorder(Color.BLACK);
        area.setBorder(border);

        tf=new JTextField();
        tf.setBounds(60,70,150,20);

        Button b=new Button("click me");
        b.setBounds(100,120,80,30);

        b.addActionListener(this);

        add(b);
        add(tf);
        add(area);

        addWindowListener(new WindowAdapter(){
            public void windowClosing(WindowEvent we){
                System.exit(0);
            }
        });

        setSize(600,600);
        setLayout(null);
        setVisible(true);

    }

    public void actionPerformed(ActionEvent e){
        String s = null;
        try {
            s = new String(tf.getText().getBytes(), "UTF-8");
        } catch (UnsupportedEncodingException e1) {
            e1.printStackTrace();
        }
        area.setText(s);
    }

    public static void main(String args[]){
        new AEvent();

    }
} 
```

请给出一些想法或一些代码来帮助我解决这个问题..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T08:54:29.497

好的，所以如果您仍然不相信 Phillipe 的答案，这里有一个完整的代码，它展示了一个很好的答案。我用重音字符试过它，它工作得很好。如果它坏了，请说明如何。

```
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Insets;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.SwingUtilities;

class AEvent implements ActionListener {

    private JTextField tf;
    private JTextArea area;
    private JFrame frame;

    protected void initUI() {
        frame = new JFrame();
        frame.setLayout(new GridBagLayout());
        area = new JTextArea(30, 80);
        area.setEditable(false);
        area.setFocusable(false);
        tf = new JTextField();
        JButton b = new JButton("click me");
        b.addActionListener(this);

        JScrollPane scrollPane = new JScrollPane(area);
        scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);
        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);

        GridBagConstraints gbc = new GridBagConstraints();
        gbc.weightx = 1.0;
        gbc.weighty = 1.0;
        gbc.fill = GridBagConstraints.BOTH;
        gbc.insets = new Insets(5, 5, 5, 5);
        gbc.gridwidth = GridBagConstraints.REMAINDER;

        frame.add(scrollPane, gbc);
        gbc = new GridBagConstraints();
        gbc.weightx = 1.0;
        gbc.insets = new Insets(5, 5, 5, 5);
        gbc.fill = GridBagConstraints.HORIZONTAL;
        frame.add(tf, gbc);
        gbc = new GridBagConstraints();
        gbc.insets = new Insets(5, 5, 5, 5);
        frame.add(b, gbc);
        frame.getRootPane().setDefaultButton(b);
        frame.addWindowListener(new WindowAdapter() {
            @Override
            public void windowClosing(WindowEvent we) {
                System.exit(0);
            }
        });
        frame.pack();
        frame.setVisible(true);
        tf.requestFocusInWindow();
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        area.append(tf.getText() + "\n");
        tf.setText("");
    }

    public static void main(String args[]) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                new AEvent().initUI();
            }
        });
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:43:35.027

如果平台默认编码不是`utf-8`. `tf.getText().getBytes()`为您提供平台默认编码中的字节。`new String(tf.getText().getBytes(), "UTF-8")`如果字节的实际编码不是 ，将创建一个损坏的字符串`utf-8`。

尝试

```
public void actionPerformed(ActionEvent e){
    area.setText(tf.getText());
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:44:30.820

为什么这个？

```
String s = null;
try {
    s = new String(tf.getText().getBytes(), "UTF-8");
} catch (UnsupportedEncodingException e1) {
    e1.printStackTrace();
}
area.setText(s); 
```

为什么不只是：

```
area.setText(tf.getText()); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-12-11T07:38:01.083

我试图用当地语言完成你的目标，这对我来说很好。您能否指定您正在考虑使用哪种本地语言以及您在使用哪种 IDE？

# sql - SQL：相当于逻辑 AND 的 IN 语句

> ID：13815481
> 
> 赞同：3
> 
> 时间：2012-12-11T07:24:19.543
> 
> 标签：sql

我目前使用的软件在 SQL 表中存在对象和标签之间的关系，如下所示：

```
+-----------+--------+
| object_id | tag_id |
+-----------+--------+
|       226 |     31 |
|       226 |     35 |
|       313 |     31 |
|       312 |     35 |
+-----------+--------+ 
```

使用逻辑 OR 获取标签 ID 列表的所有对象 ID 可以使用以下请求：

```
select distinct object_id from tags_link where tag_id in (31, 35); 
```

如何获得具有逻辑 AND 的标签 ID 列表的所有对象 ID？

对于上表，对标签 id 31 和 35 的请求应该只返回 object_id 226。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-11T07:26:08.437

```
select object_id
from tags_link
where tag_id in (31,35)
group by object_id
having count(distinct tag_id) = 2 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-11T07:29:42.590

```
select   object_id from tags_link where tag_id = 31
intersect
select   object_id from tags_link where tag_id = 35 
```

# android - 在android的listview中添加默认视图

> ID：13815483
> 
> 赞同：0
> 
> 时间：2012-12-11T07:24:29.587
> 
> 标签：android, android-listview, android-adapter

我在我的 android 应用程序中使用列表视图，其中列表项（在我的情况下是位图图像）是动态加载的。实际上我正在创建位图图像，然后将其一一加载到列表中。我想要的是用一些默认图像显示所有列表项，并在创建位图图像时相应地更新它们。我的代码如下，

```
public class BitmapDemoActivity extends Activity {

HorizontalListView listview;
Vector<Bitmap> thumbImg;
BitmapCreator creator;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.listviewdemo);

    creator=new BitmapCreator();
    thumbImg= new Vector<Bitmap>(97);

    listview = (HorizontalListView)findViewById(R.id.listview);
    listview.setAdapter(new BitmapAdapter());

    new AsyncBitmapCreate().execute();

}

private class AsyncBitmapCreate extends AsyncTask<Void, Bitmap, Void>{

    //Bitmap[] temp=new Bitmap[44];
    @Override
    protected Void doInBackground(Void... params) {
        // TODO Auto-generated method stub

        for(int i=0;i<97;i++){

            publishProgress(creator.generateBitmap(i+1));
        }

        return null;
    }

    @Override
    protected void onProgressUpdate(Bitmap... values) {
        // TODO Auto-generated method stub
        super.onProgressUpdate(values);

        new BitmapAdapter().add(values[0]);
        new BitmapAdapter().notifyDataSetChanged();
    }
}

class BitmapAdapter extends BaseAdapter{

    public void add(Bitmap bitmap)
    {
        Log.w("My adapter","add");
        thumbImg.add(bitmap);
    }

    @Override
    public int getCount() {
        return thumbImg.capacity();
    }

    @Override
    public Object getItem(int position) {
        return null;
    }

    @Override
    public long getItemId(int position) {
        return 0;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {

        LayoutInflater inflater=(LayoutInflater)getSystemService(LAYOUT_INFLATER_SERVICE);
        View retval = inflater.inflate(R.layout.listitem, null);
        ImageView img = (ImageView) retval.findViewById(R.id.tImage);

            img.setImageBitmap(thumbImg.get(position));

        return retval;
    }

}; 
```

}

这里我使用了一个向量，在创建每个位图之后，它被插入到该向量中。我正在使用异步任务来创建位图。创建每个位图后，我将调用 notifydatasetchanged() 方法来更新列表视图。但是现在在输出中，每当创建每个位图图像时，它都会在列表视图中添加一个带有该图像的项目。但我的要求是用一些默认图像显示列表中的所有 97 个项目，并且每当创建位图时更新相应的列表项。

谁能帮我？？提前致谢....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:35:20.610

最简单的方法是将默认图像作为`ImageView`带有 id的 src 包含`tImage`在您的 layout`listitem.xml`中。如果该位置的位图可用，则在您的 getView 方法中替换默认图像。

```
 ImageView img = (ImageView) retval.findViewById(R.id.tImage);
    Bitmap bmp = null;
    if(position < thumbImg.size()){
       thumbImg.get(position);
    }
    if(null != bmp){
        img.setImageBitmap(bmp);
    } 
```

# php - PHP 如何从对象中获取参数？

> ID：13815485
> 
> 赞同：4
> 
> 时间：2012-12-11T07:24:48.433
> 
> 标签：php, date

当我这样做时，`var_dump()`我会收到此回复

```
object(DateTime)#1 (3) { 
["date"]=> string(19) "2003-07-01 13:38:43" 
["timezone_type"]=> int(3) 
["timezone"]=> string(11) "Asia/Muscat" } 
```

请告诉我，如何从这个对象输出参数**日期？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:27:48.983

你应该能够简单地使用

```
echo $dateObject->date; 
```

否则，请查看[`DateTime#format`](http://php.net/manual/en/datetime.format.php)方法

```
echo $dateObject->format('Y-m-d H:i:s');
// => 2003-07-01 13:38:43 
```

这更好一点，因为它允许您根据需要格式化输出。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-11T07:34:56.387

我看看 var_dump 的结果，你会看到你正在处理 DateTime 类的一个实例：

> 对象（日期时间）#1 (3) {

知道了这一点，您应该去 PHP 类参考并查看文档： http: [//php.net/manual/en/class.datetime.php](http://php.net/manual/en/class.datetime.php)

在那里你会发现如何使用这个特定的类。如果您查看方法列表，您会发现方法 DateTime::format，这是您需要的方法。[http://php.net/manual/en/datetime.format.php](http://php.net/manual/en/datetime.format.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:29:13.947

尝试一下

```
$datetime = new Datetime();
echo $datetime->format('Y-m-d H:i:s'); 
```

看[http://php.net/manual/en/datetime.format.php](http://php.net/manual/en/datetime.format.php)

# c# - 显示项目在列表中的位置

> ID：13815487
> 
> 赞同：2
> 
> 时间：2012-12-11T07:24:54.100
> 
> 标签：c#

我正在使用链接列表。该列表是在名为`textBoxResults`. 我有三个按钮叫做`First`,`Next`和`Last`。命名约定很简单，按钮`First`单击显示第一个树， `Next`在第一次单击按钮后显示每个项目， `Last`按钮显示列表中的最后一个项目。`First`工作正常，但`Second`只在 first 之后显示以下项目并放弃，`Last`显示奇怪的结果`WindowsFormsApplication1.Form1+Fruit Trees`。如何通过单击按钮根据其位置显示正确的树名称？

**代码**

```
namespace WindowsFormsApplication1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        public class ListOfTrees
        {
            private int size;

            public ListOfTrees()
            {
                size = 0;
            }

            public int Count
            {
                get { return size; }
            }

            public FruitTrees First;
            public FruitTrees Last;

        }

        public void ShowTrees()
        {

        }

        public void Current_Tree()
        {
            labelSpecificTree.Text = Trees.First.Type.ToString();
        }

        private void Form1_Load_1(object sender, EventArgs e)
        {

        }

        private void buttonFirst_Click(object sender, EventArgs e)
        {
            Current_Tree();
        }

        private void buttonNext_Click(object sender, EventArgs e)
        {
            Current = Trees.First;
            labelSpecificTree.Text = Current.Next.Type.ToString();
        }

        private void buttonLast_Click(object sender, EventArgs e)
        {
            Current = Trees.Last;
            labelSpecificTree.Text = Trees.Last.ToString();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:30:26.287

您的代码中存在几个问题（请参阅评论以进行更正）：

```
 public int Add(FruitTrees NewItem)
        {
            FruitTrees Sample = new FruitTrees();
            Sample = NewItem;
            Sample.Next = First;
            First = Sample;
            //Last = First.Next;
            // Since Add is an  operation that prepends to the list - only update
            // Last for the first time:
            if (Last == null){
              Last = First;
            }

            return size++;
        } 
```

其次在您的 Next 方法中：

```
 private void buttonNext_Click(object sender, EventArgs e)
    {
        // In order to advance you need to take into account the current position
        // and not set it to first...
        //Current = Trees.First;
        Current = Current.Next != null ? Current.Next : Current;
        labelSpecificTree.Text = Current.Type.ToString();
    } 
```

在“最后”方法中：

```
 private void buttonLast_Click(object sender, EventArgs e)
    {
        Current = Trees.Last;
        // show the data, not the name of the Type
        labelSpecificTree.Text = Current.Type.ToString();
    } 
```

当然，当前的方法被打破了，也......

```
 public void Current_Tree()
    {
        Current = Trees.First;
        labelSpecificTree.Text = Current.Type.ToString();
    } 
```

# textbox - SmartGWT - 如何在同一文本区域中同时拥有可编辑和不可编辑的文本？

> ID：13815492
> 
> 赞同：0
> 
> 时间：2012-12-11T07:24:58.583
> 
> 标签：textbox, smartgwt

请让我知道如何解决这个问题，我对 smartGWT 很天真。

要求是：

1.  我必须显示一个包含一些预填充文本的文本区域。
2.  该预填充文本的一部分应该是可编辑的，而该预填充文本的一部分应该是不可编辑的。
3.  可编辑文本应呈现为黑色，而不可编辑文本应呈现为灰色。

我目前正在使用 com.smartgwt.client.widgets.form.fields.TextAreaItem 类，但如果其他小部件支持此用例，我愿意更改我的类。

**详情**：

假设下面的行显示了我的文本区域的上下边界。

* * *

[可编辑文本]（此文本应可编辑且应为黑色）

[不可编辑文本]（此文本应为不可编辑且应为灰色）

[可编辑文本]（此文本应可编辑且应为黑色）

* * *

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T08:40:24.623

TextAreaItem 呈现为 HTML 文本区域，因此只适合输入而不是格式化。也许您可以使用 RichTextItem 来格式化具有不同字体和属性的文本。但是不确定您是否可以自定义它（例如删除该工具）并只玩事件。我不认为这会那么容易你有随机数的线路吗？如果不是，您可以使用包含可编辑元素（TextItem）、不可编辑元素（可能是带有 setDisabled(true) 的 TextItem 但注意样式）的 canvasItem 设计自己的并为样式分配 css

# makefile - 只是“制作”的 Sublime Text 构建系统

> ID：13815493
> 
> 赞同：12
> 
> 时间：2012-12-11T07:24:59.950
> 
> 标签：makefile, sublimetext2, sublimetext

我正在尝试通过`make`在顶级目录中简单执行来构建我的项目。但是，当我这样做时，我收到以下错误：

```
[Errno 2] No such file or directory
[cmd:  [u'make']]
[dir:  /Users/jonathanong/Workspace/template]
[path: /usr/local/bin]
[Finished] 
```

这是在将构建配置设置为`Make`.

我正在使用 Sublime Text 2.0.1、OS X 10.8.2。我的 Makefile 包括执行全局安装的`node.js`二进制文件。我需要做什么？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-12-11T20:08:28.960

这是因为`make`不在您的 PATH 中。如果您可以在终端中构建，请使用`which make`找出路径`make`，然后将其添加到构建路径中。您可以编辑[makefile 构建系统](http://docs.sublimetext.info/en/latest/file_processing/build_systems.html)以添加您的路径。

您的新 makefile 规则应如下所示：

```
{
   "cmd": ["make"],
   "file_regex": "^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$",
   "working_dir": "${project_path:${folder:${file_path}}}",
   "selector": "source.makefile",
   "path": "/usr/local/bin:/Applications/Xcode.app/Contents/Developer/usr/bin",
   "variants":
    [
      {
        "name": "Clean",
        "cmd": ["make", "clean"]
      },
      {
        "name": "Test",
        "cmd": ["make", "test"]
      }
    ]
} 
```

这基本上是默认`make`目标，但我添加到 PATH 和（当然）一个测试目标。您可能必须扩展 PATH 以查找 gcc、ifort 或您用于编译的任何内容。 [用于`:`分隔 Linux 和 Mac 以及`;`Windows 上](http://en.wikipedia.org/wiki/PATH_%28variable%29)的目录。您还可以更改其他环境变量，我必须设置 DYLD_LIBRARY_PATH 和 CPATH 以便我的库和包含目录可用。

它应该保存为 Make (OSX).sublime-build 在您的 Sublime 首选项的用户目录中。(OSX) 将确保此文件仅在 Mac 上使用，因此当您将首选项复制到非 Mac 计算机时，您不会弄乱路径。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-06T14:11:49.200

一个更可取的解决方案是 IMO 调整插件中的 PATH，因此您只需为所有构建系统和所有调用外部命令的插件设置一次。

你可以做

```
import os
os.environ['PATH'] += os.pathsep + '/my/extra/path' 
```

真实世界的示例位于[https://github.com/schlamar/ST3User/blob/master/preferences.py](https://github.com/schlamar/ST3User/blob/master/preferences.py)

# android - 强制 EmptyView 显示？

> ID：13815502
> 
> 赞同：0
> 
> 时间：2012-12-11T07:25:43.773
> 
> 标签：android, listview, android-fragments, actionbarsherlock

我有一个`ListView`我正在创建的。内容是从一个单独的适配器类中设置的。当适配器返回零项时，我希望从单独的 xml 显示空视图。这发生在`SherlockFragment`. 但是由于某种原因，我无法`emptyView`显示。

请帮忙？

代码：

```
 RelativeLayout fragView = new RelativeLayout(getActivity());
    ListView listView = new ListView(getActivity());
        listView.setEmptyView(getActivity().findViewById(R.id.emptyView));//This is having no effect
        scoreViewAdapter = new ScoreViewAdapter(getActivity(),
                databaseHelper.getAllTimeRecords());
        listView.setAdapter(scoreViewAdapter);
        if (scoreViewAdapter.getCount() < 1)
                  listView.//can I set something here to force or change my view? From the methods available to ListView I don't see any potential solutions..
        fragView.addView(listView); 
```

这是xml....相当标准。：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/emptyView"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >

<ImageView
    android:id="@+id/imageView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_below="@+id/emptyText"
    android:src="@drawable/ic_android_logo" />

<TextView
    android:id="@+id/emptyText"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentTop="true"
    android:layout_centerHorizontal="true"
    android:gravity="center_vertical"
    android:text="No Items Found"
    android:textAppearance="?android:attr/textAppearanceLarge" /> 
```

感谢 Faizan 的反馈将我带到这里。这是解决方案：

```
 View empty_view = inflater.inflate(R.layout.empty_view, null);
    ...
    if (scoreViewAdapter.getCount() < 1)
         fragView.addView(empty_view);
    fragView.addView(listView); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:58:50.493

您必须使用该 xml 膨胀`LayoutInflater`然后调用

```
listView.setEmptyView(inflated_view); 
```

`onCreateView`您可以从被覆盖的方法 anc do中获取充气机

```
View inflated_view = inflater.inflate(R.layout.my_empty_layout,null); 
```

我希望它能解决问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:43:38.363

我相信你扩展`FragmentList`而不是`ListActivity` 你实际上可以使用[setEmptyView](http://developer.android.com/reference/android/widget/AdapterView.html#setEmptyView%28android.view.View%29)

# three.js - 尝试在 for 循环的每次迭代中强制渲染三个.js 几何图形

> ID：13815504
> 
> 赞同：0
> 
> 时间：2012-12-11T07:26:02.487
> 
> 标签：three.js

我刚开始使用three.js。我使用在three.js 主网站上找到的代码片段组装了一个测试。

根据我制作的方程式，我有一堆几何图形（球体）代表在循环内改变位置的粒子。我试图通过这种代码渲染每次迭代：

```
function simulate() {
    for (var j = 0 ; j < Nb ; j++ ) {           
        // update the geometries positions
        ...
        render();
    }
} 
```

但渲染没有完成，而是在经过所有迭代后执行，当进入`animate`函数时，调用后`simulate`

```
function animate() {
    render();
    requestAnimationFrame( animate );
} 
```

实际上，如果我在我的 chrome 浏览器的 javascript 控制台中一步一步地进行渲染，就会发生这种情况。

所以我试图改变我的代码，这样我就可以`requestAnimationFrame`在我的循环中使用，这样：

```
function simulate() {
    for (var j = 0 ; j < Nb ; j++ ) {           
        this.internalRenderingLoop = function() {
            // update the objects shapes and locations
            ...
            render();
            requestAnimationFrame( this.internalRenderingLoop );
        }
    }
} 
```

但它也没有工作。我显然也有两个电话之间的冲突`requestAnimationFrame`导致`Uncaught Error: TYPE_MISMATCH_ERR: DOM Exception 17`

所以问题是：有没有办法在我的`simulate`函数的每次迭代中强制渲染，或者我是否需要重构我的代码，以便每次更新几何位置的调用都在`animate`or`render`函数中进行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:53:43.880

您的最后一个功能即将完成。在您的 for 循环中，您只是覆盖了 internalrendering 循环函数，而没有执行更改。此外，如果您在形状更新代码中使用 j 变量，则需要稍微增加它。像这样的东西怎么样（未经测试，但你明白了）：

```
var j = 0; // need to be outside function to have proper scope
function simulate() {
  j++;
  if (j == Nb) { return; } // stop

  // update the objects shapes and locations

  render();
  requestAnimationFrame(simulate);      
} 
```

您根本不需要 animate() 函数，因为您已经在模拟 () 中进行动画处理。

您的模拟速度也将取决于帧速率，因此为了更好地控制模拟速度，您可以将最后一行函数替换为：

```
window.setTimeout( function() { requestAnimationFrame(simulate); }, 1000 / 25); 
```

这应该以大约 25 FPS 的速度运行。

# java - 如何为数据库及其对应的表和列编写嵌套枚举代码

> ID：13815506
> 
> 赞同：0
> 
> 时间：2012-12-11T07:26:19.870
> 
> 标签：java, jakarta-ee, enums

我正在开发我的项目，其中一个没有数据库的大型数据库和表，列有

所以我的计划是做一些事情，比如如果将来我必须更改我的数据库名称或表名或列名，所以我只更改一个地方，并且所有更改都自动完成，其中数据库名称表或列名已被使用。

然后我必须决定使用枚举，因此枚举应该是嵌套的，并且每个属性都可以有它的字符串值，这样只有字符串值的变化才能改变它被使用的所有地方

```
so please help me some buddy to give me some sample of code samll code by which i can do it for my database 

eg DATABASE->TABLE->COLUMNS
public enum DATABASE
{
    //
}

i want enum sample code for database and nested enums for their tables and one of its  nested enum for their columns please help me...!!! 

i have tried it to find it but not got some thing usefull 
```

好的，我的答案是

```
public enum DATABASE
{
  DB1(TABLE.TBL1, TABLE.TBL2);

  private final TABLE[] tblArray;
  private DATABASE(TABLE... tables)
  {
    tblArray = tables;
  }
  public TABLE[] getTables()
  {
    return tblArray;
  }
}
public enum TABLE
{
  TBL1(COLUMN.CLMN1, COLUMN.CLMN2), TBL2(COLUMN.CLMN2);

  private final COLUMN[] clmnArray;
  private TABLE(COLUMN... columns)
  {
    clmnArray = columns;
  }
  public COLUMN[] getColumns()
  {
    return clmnArray;
  }
}
public enum COLUMN
{
  CLMN1, CLMN2;
} 
```

实际上我在枚举方面并不完美，所以请告诉我如何访问 DATABASE 、 TABLE 和 COLUMN 意味着如果我想要 DB1->TB1->CLMN2 那么如何编写代码......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T08:15:08.073

它不是枚举，但我认为你想要什么：

```
public abstract class DATABASE
{
   public static class TABLE_ONE
   {
       public static final String NAME = "TableOne";
       public static final String COL_ONE = "COLUMN_ONE";
       public static final String COL_TWO = "COLUMN_TWO";
   }
} 
```

你可以像`DATABASE.TABLE_ONE.COL_ONE`这样使用它。

为什么我认为这很危险：如果您在此处更改常量，您还必须处理 DB-Updates，并注意人们从您的软件版本升级到另一个版本。所以要小心！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T08:07:40.243

你可以这样尝试：

```
public enum DATABASE
{
    DB1(TABLE.TBL1, TABLE.TBL2);

    private final TABLE[] tblArray;
    private DATABASE(TABLE... tables)
    {
        tblArray = tables;
    }
    public TABLE[] getTables()
    {
        return tblArray;
    }
}
public enum TABLE
{
    TBL1(COLUMN.CLMN1, COLUMN.CLMN2), TBL2(COLUMN.CLMN2);

    private final COLUMN[] clmnArray;
    private TABLE(COLUMN... columns)
    {
        clmnArray = columns;
    }
    public COLUMN[] getColumns()
    {
        return clmnArray;
    }
}
public enum COLUMN
{
    CLMN1, CLMN2;
} 
```

# visual-studio - 用于单元测试的单独视觉工作室解决方案？

> ID：13815509
> 
> 赞同：4
> 
> 时间：2012-12-11T07:26:24.223
> 
> 标签：visual-studio, unit-testing

我有一个包含大约 18 个项目的视觉工作室解决方案。我想为这些项目编写单元测试（通过创建一个包含针对每个源项目的单元测试的测试项目）。

我应该使用包含所有测试项目的单独解决方案吗？或者我应该使用 Visual Studio 2008 的分区解决方案方法并为所有测试项目创建一个子解决方案？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-11T10:12:42.827

在我看来，将单元测试放在单独的解决方案中似乎会产生问题。本质上，单元测试必须能够引用它们正在测试的类型（类）。如果在单独的解决方案中，则意味着二元关联。这似乎非常“困难”。

因此，为了调查问题的原因，并希望提供一些帮助，这些是我将单元测试放在同一个解决方案中的原因：

*   项目参考。我喜欢将单元测试项目命名为 .Tests，其中包含被测试类型的生产程序集的名称。这样它们在 VS 中彼此相邻出现（按字母顺序）。

*   通过 TDD 开发，我需要在生产代码和单元测试之间快速切换。这是关于编写代码，而不是关于后期代码测试。

*   我可以选择解决方案窗格顶部的解决方案节点并说“运行所有测试”（我使用 Resharper(.

*   构建农场 (TeamCity) 始终对所有提交运行所有测试。将它们全部集中在一个解决方案中要容易得多。

当我写这篇文章时，我想知道为什么将它们放在另一个解决方案中。单元测试在具有生产代码的解决方案之外没有任何意义。

也许你可以解释你问这个问题的原因。你能看到他们在同一个解决方案中的问题吗？对我来说，18 个项目似乎并不多。我工作的解决方案还有更多……但是如果使用 Resharper（为什么不使用？），您的盒子中将需要足够的 RAM。

希望这个对你有帮助。

# ruby-on-rails - 为什么 ActiveRecord 使用 root 用户而不是指定的用户？

> ID：13815512
> 
> 赞同：0
> 
> 时间：2012-12-11T07:26:27.470
> 
> 标签：ruby-on-rails, activerecord

这是代码：

```
require 'active_record'

ActiveRecord::Base.establish_connection(
  adapter: 'mysql',
  user: 'dev',
  database: 'dev_db'
)

class PageModel < ActiveRecord::Base
end

p PageModel.first 
```

这是错误：

```
mysql_adapter.rb:411:in `real_connect': Access denied for user 'root'@'localhost' (using password: NO) (Mysql::Error) 
```

为什么它试图以root身份连接？

MySQL`dev`用户存在，没有密码并且可以完全访问`dev_db`数据库。

尝试通过 TCP 和 unix 套接字连接，同样的错误。

`DataMapper`连接工作得很好。

```
$ gem list |grep mysql
mysql (2.8.1)
$ gem list |grep activere
activerecord (3.2.9) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:28:35.897

正确的关键是`:username`，不是`:user`。

# windows-8 - winRT 中的 PopUpMenu 样式

> ID：13815518
> 
> 赞同：0
> 
> 时间：2012-12-11T07:26:57.797
> 
> 标签：windows-8, styles, microsoft-metro, popupmenu

我创建了一个`PopUpMenu`使用[http://www.c-sharpcorner.com/UploadFile/c25b6d/working-with-popup-menu-in-windows-store-apps/](http://www.c-sharpcorner.com/UploadFile/c25b6d/working-with-popup-menu-in-windows-store-apps/)

现在我需要`style`弹出菜单。在Win8中如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-16T05:54:40.707

我认为，没有办法设置 popupMenu 的样式。如果您想要样式化弹出窗口，也许您应该使用 popUp 而不是 popupMenu。

# php - 抓取嵌入的 Flash 视频并渲染 Javascript 以获得最终的 GUI

> ID：13815520
> 
> 赞同：0
> 
> 时间：2012-12-11T07:27:01.337
> 
> 标签：php, javascript, asp.net, flash

现在，当我必须扫描或抓取视频 URL 链接时，我遇到了一些困难。此网页使用基于 Flash 的技术来嵌入视频和流式视频。

为了更清楚地理解，这是一个链接示例：

[http://vnexpress.net/gl/the-gioi/tu-lieu/2012/11/bai-phat-bieu-thua-nhan-that-bai-cua-romney/](http://vnexpress.net/gl/the-gioi/tu-lieu/2012/11/bai-phat-bieu-thua-nhan-that-bai-cua-romney/)

上面的链接有以下内容（Flash 嵌入视频的 HTML 代码）：

```
 <div id="flashContent" style="text-align:center;width:100%;">                                                   
            <span id="FlashPlayer79237" class="Normal" align="center">B&#7841;n c&#7847;n c&#224;i <a href="http://www.macromedia.com/go/getflashplayer">Flash Player</a> &#273;&#7875; xem &#273;&#432;&#7907;c Clip n&#224;y.</span>              
        </div> 
```

在上面的这篇文章中，有一个上面的视频。但是，当我尝试扫描或爬取内容时，视频无法正常运行（因为它无法加载正确的视频链接）并且只显示**安装 Flash Player 插件**字样（当然，真实网页需要运行一些 Javascript 脚本或Flash 脚本获取真实视频链接并为用户流式传输此视频）

因此，如何通过 PHP 或 ASP.NET 或 Java 渲染 Flash 和 Javascript 脚本？抓取网页时如何获取正确的视频链接？在这种情况下，如何才能获得**正确**的Flash 嵌入视频（HTML 代码）？

太感谢了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T08:41:51.380

在我回答之前，我想说明一下，如果您需要这些信息来做任何可疑的事情......请不要。

撇开免责声明不谈，对于那个特定的网站来说，它相对容易。

flashvars 参数（可能由 Javascript 放在那里）包含一个名为 xmlPath 的值，它是一个 url 编码路径（相对于它们的域名）。如果你抓住它并解码它，你会得到类似的东西：

```
/Service/FlashVideo/PlayListVideoPage.asp?id=79237&f=108&t=1 
```

这指向

```
 http://vnexpress.net/Service/FlashVideo/PlayListVideoPage.asp?id=79237&f=108&t=1 
```

如果您阅读它，它是一个 XML 文件，其中包含实际视频的 URL。

我不太确定该值是从哪里产生的。如果您需要完全在服务器端执行此操作，则可以使用无头浏览器来处理它。

# sql-server-2008-r2 - 以word格式导出报表时如何控制分页符

> ID：13815521
> 
> 赞同：1
> 
> 时间：2012-12-11T07:27:05.953
> 
> 标签：sql-server-2008-r2, ssrs-2008, reporting-services

我有一份报告，当我将报告导出为 ssrs 2008 r2 中的 word 格式时，我丢失了报告底部的图表。我认为这是由于发生了分页。请建议我适当的解决方案。请检查报告的图像 ![在此处输入图像描述](../Images/5e5c963e711d979c3b33e4cb17efcbee.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T23:23:03.410

转到图表的属性并选择“之前添加分页符”。让我知道您这样做后是否仍有问题。

我也会尝试将所有项目放在一个矩形中（如有必要，在矩形本身之前添加一个分页符）。

# android - 未找到处理意图 com.bn.sdk.shop.details 的活动

> ID：13815523
> 
> 赞同：0
> 
> 时间：2012-12-11T07:27:14.473
> 
> 标签：android, nook-tablet

我正在尝试将 NOOK Shop Details API 集成到一个 nook 应用程序中。我已经使用以下示例来集成[nook shop api](https://nookdeveloper.zendesk.com/entries/20107613-shop-api)

但是，每当我在 nookColor 或 NookHD 模拟器中运行示例商店 API 时。我得到 No Activity Found 来处理意图 com.bn.sdk.shop.details 并且应用程序崩溃。任何人都可以指出缺少什么。我目前没有要测试的实际角落设备。这会在实际设备上工作吗？

万分感谢。

# model-view-controller - 带有 mvc 的 elmah 记录了两次

> ID：13815524
> 
> 赞同：0
> 
> 时间：2012-12-11T07:27:20.477
> 
> 标签：model-view-controller, elmah

每次 Elmah 记录错误时，该错误都会记录两次。100% 与完全相同的时间戳相同。我在 web.config 中没有特殊配置。我创建了一个 ElmahHandleErrorAttribute 并添加了两个过滤器：

```
filters.Add(new ElmahHandleErrorAttribute {

            ExceptionType = typeof(System.Data.Common.DbException),
            // DbError.cshtml is a view in the Shared folder.
            View = "DbError",
            Order = 2
        });

filters.Add(new ElmahHandleErrorAttribute {

            ExceptionType = typeof(Exception),
            // DbError.cshtml is a view in the Shared folder.
            View = "Error",
            Order = 3
        }); 
```

来自 web.config 的一些片段：

```
<httpModules>
        <add name="ErrorLog" type="Elmah.ErrorLogModule, Elmah" />
        <add name="ErrorMail" type="Elmah.ErrorMailModule, Elmah" />
        <add name="ErrorFilter" type="Elmah.ErrorFilterModule, Elmah" />
    </httpModules> 
```

和

```
<modules runAllManagedModulesForAllRequests="true">
        <add name="ErrorLog" type="Elmah.ErrorLogModule, Elmah" preCondition="managedHandler" />
        <add name="ErrorMail" type="Elmah.ErrorMailModule, Elmah" preCondition="managedHandler" />
        <add name="ErrorFilter" type="Elmah.ErrorFilterModule, Elmah" preCondition="managedHandler" />
    </modules> 
```

在 ElmaHandleErrorAttribute 中，这段代码：

```
public override void OnException(ExceptionContext context) {
        base.OnException(context);
        if (!context.ExceptionHandled       
            || TryRaiseErrorSignal(context) 
            || IsFiltered(context))         
            return;

        LogException(context);
    } 
```

我进行了很多搜索，但没有适合我的问题的解决方案。web.config 中没有重复条目或类似的内容。

这不是什么大问题，但它很烦人。

提前谢谢

©axi

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2014-03-20T20:43:58.910

我的设置也遇到了同样的问题，所以我创建了一个 ExceptionLogger 类。然后向它添加一个静态字段以保留它记录的异常列表。然后，当 onException 事件发生时，它会检查记录的最后一个异常以避免记录重复。

```
public class ExceptionLogger
{
    public static List<Exception> loggedExceptions = new List<Exception>();

    public static void LogException(Exception e) { 
```

...

```
 public override void OnException(ExceptionContext context)
    {
        base.OnException(context);
        var e = context.Exception;

        if (!e.Equals(ExceptionLogger.loggedExceptions.Last()))
        {
            ExceptionLogger.LogException(e);
        }

     } 
```

# cookies - Cookie 未随 Ajax 请求一起发送

> ID：13815526
> 
> 赞同：2
> 
> 时间：2012-12-11T07:27:25.783
> 
> 标签：cookies, azure, forms-authentication, cloud

发现表单身份验证 Cookie 未在服务请求之间共享的问题。

Cookie '.ASPXAUTH' 已成功生成并从登录服务发送到浏览器，但不会将 Cookie 发送到对同一服务的后续请求。

从云应用程序调用服务时发现使用 HTTP 1.1 的请求和响应它是 HTTP 1.0

对 Fiddler 和其他工具的用户的更多观察：

在以下情况下工作正常：

1.  从本地开发系统运行服务和客户端网站
2.  在同一 IIS 上托管服务和客户端（本地和远程）
3.  基于 URL 访问，cookie 正确传输

不适用于以下情况：

1.  在不同的 IIS 服务器中托管服务和客户端。
2.  IIS（或 Azure）中的托管服务和来自本地开发系统的客户端

更多细节：两个请求都针对相同的服务，即相同的域、相同的协议、相同的端口号等。

**20-12-2012 15:14 更新：**

1.  正如我之前所说，登录功能在 Ajax 调用上工作时不会失败，Fiddler 在响应时显示 Set-Cookie，但浏览器没有读取 Cookie。

2.  尝试在 $.Ajax() 的“完成：”事件上读取 document.cookies，但我无法读取 cookie。表示浏览器没有获取或持有 cookie（Fiddler 显示在相同的响应上）

问候，罗摩克里希纳

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T15:38:59.200

使用 Forms Auth，您是否执行了一些操作以使 ASP.NET 会话脱离进程并脱离服务器？

您不能在服务器之间共享会话，因此您必须使用 SQL 会话状态提供程序并将会话放入 SQL Azure，或者使用 Windows Azure 缓存并提供会话状态提供程序将会话存储到缓存中。

我相信你很擅长使用互联网搜索引擎，但这里有一个很好的文章列表（让会话退出进程）：

*   [http://msdn.microsoft.com/en-us/wazplatformtrainingcourse_buildingappswithcacheservice_topic3.aspx](http://msdn.microsoft.com/en-us/wazplatformtrainingcourse_buildingappswithcacheservice_topic3.aspx)
*   [http://msdn.microsoft.com/en-us/library/windowsazure/gg185668.aspx](http://msdn.microsoft.com/en-us/library/windowsazure/gg185668.aspx)
*   [http://msdn.microsoft.com/en-us/library/windowsazure/gg278339.aspx](http://msdn.microsoft.com/en-us/library/windowsazure/gg278339.aspx)

# excel - 如何在 Microsoft Excel 中获取两个日期之间的分钟差？

> ID：13815538
> 
> 赞同：14
> 
> 时间：2012-12-11T07:28:03.820
> 
> 标签：excel, datetime, time, datediff

我在 Excel 中做一些工作并且遇到了一些问题。我正在使用的仪器会保存测量的日期和时间，我可以使用以下格式将此数据读入 Excel：

```
 A           B
1 Date:      Time:
2 12/11/12   2:36:25
3 12/12/12   1:46:14 
```

我要做的是在分钟内找到两个日期/时间戳的差异，以便我可以从数据中创建衰减曲线。所以在 Excel 中，我希望做到这一点（如果这个例子中的分钟数是错误的，我只是快速手动计算）：

```
 A           B                 C
1 Date:      Time:       Time Elapsed (Minutes)
2 12/11/12   2:36:25               -
3 12/12/12   1:46:14            1436.82 
```

我环顾四周，发现了几种不同时间的方法，但他们总是假设日期是相同的。我夸大了我的测量之间的时间，但几天的滚动是让我悲伤的原因。关于如何进行此操作的任何建议或提示都会很棒。即使我能以十进制格式找到小时或天的日期和时间之间的差异，我也可以乘以一个常数来得到我的答案。请注意，我确实有编程和 Excel 方面的经验，但请详细解释。我有时会迷路。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-12-11T07:39:18.367

时间和日期都存储为数字、十进制值（实际上是浮点数）。日期是整数，时间是小数部分（1/24 = 1 小时，1/24*1/60 是一分钟等...）

日期时间差计算如下：

```
date2-date1

time2-time1 
```

这将在几天内为您提供答案，现在乘以 24（一天中的小时数），然后乘以 60（一小时内的分钟数），您就在那里：

```
time elapsed = ((date2-date1) + (time2-time1)) * 24 * 60 
```

或者

```
C3 = ((A3-A2)+(B3-B2))*24*60 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-11T08:57:12.137

为了增加一点视角，Excel 将日期和时间存储为`serial numbers`.

这是一个[可供阅读的参考资料。](http://answers.oreilly.com/topic/1694-how-excel-stores-date-and-time-values/)

我建议您使用以下内容：

将日期与时间结合起来，然后做不同的事情。所以它不会给你带来第二天的任何问题或任何事情。

请参阅带有计算的图像。您可以将总分钟单元格保留为一般格式或数字格式。

![在此处输入图像描述](../Images/5172b9f30b5386e8b36261d441a1623a.png)

*   [MS EXCEL 文章：计算两次之差](http://office.microsoft.com/en-sg/excel-help/calculate-the-difference-between-two-times-HP010070468.aspx)

*   [根据本文的示例](http://blogs.technet.com/b/hub/archive/2010/09/14/formula-watch-calculating-elapsed-time-in-excel.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-01-08T13:55:23.637

这样做的好方法是：

```
=MOD(end-start,1)*24 
```

其中 start 和 end 格式为“09:00”和“17:00”

**午夜班**
如果开始和结束时间在同一天，MOD 功能不会影响任何事情。如果结束时间超过午夜，并且结束时间早于开始（假设您从下午 23 点开始并在凌晨 1 点结束，所以结果是 2 小时），MOD 函数会翻转差异的符号。

请注意，此公式将两次（实际上是两个日期）之间的差异计算为十进制值。如果要将结果显示为时间，请将结果显示为时间 (ctrl+shift+2)。

[https://exceljet.net/formula/time-difference-in-hours-as-decimal-value](https://exceljet.net/formula/time-difference-in-hours-as-decimal-value)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-06-21T01:09:54.010

1.  通过使用 days360 函数 =days360(dateA,dateB) 获取两个日期之间的 n 天
2.  使用 timeA 作为参考，使用此公式查找分钟 =(timeB-$timeA+n*"24:00")*1440
3.  瞧，你在两个时间和日期之间得到了分钟

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2014-12-22T10:27:42.667

我认为`=TEXT(<cellA> - <cellB>; "[h]:mm:ss")`是一个更简洁的答案。这样，您可以将列作为日期时间。

# php - 在php中解析这样的模板的有效方法是什么？

> ID：13815540
> 
> 赞同：0
> 
> 时间：2012-12-11T07:28:06.910
> 
> 标签：php, templates, string-parsing

**HTML 模板**

```
<b><!--{NAME}--></b>
...
..
..
<b><!--{ADDRESS}--></b> 
```

**PHP 数组**

```
array('name'=>'my full name', ..... , 'address'=>'some address '); 
```

我有很多模板文件，必须解析它们中的每一个并将其替换为关联数组中的 str_replace 给定数据。

我需要你的建议来改进这个过程或任何其他可能有用的技术/工具

**编辑：当前版本的代码**

静态函数 ParseTemplate($data,$template){

```
 $html=$read==true ?  self::GetCached($template,true) : $template ;

    foreach($data as $key=>$value){
        if(is_array($value) ){
            foreach($data[$key] as $aval)
            $html = str_replace("<!--{".$key."}-->",$aval,$html);
        }
        else $html = str_replace("<!--{".$key."}-->",$value,$html);
    }

    return $html; 
```

}

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:34:40.653

如果数组键始终与大括号内的模板单词相同，请执行以下操作：

```
foreach ($array as $key => $value) {
  $html = str_replace("<!--{$key}-->", $value, $html)
} 
```

如果性能很重要，最好在 html 上使用 strpos，并逐个检查占位符。在大字符串上多次执行 str_replace 会更快。但如果性能不是问题，则没有必要。

编辑：

```
$index = strpos($html, "<!--");
while ( $index !== false ) {
  // get the position of the end of the placeholder
  $closing_index = strpos($html, "}-->", $index);

  // extract the placeholder, which is the key in the array
  $key = substr ($html, $index + 5, $closing_index);

  // slice the html. the substr up to the placeholder + the value in the array
  // + the substr after
  $html = substr ($html, 0, $index) . $array[$key] .
          substr ($html, $closing_index + 4);

  $index = strpos($html, "<!--", $index + 1);
} 
```

注意：这未经测试，因此索引可能存在一些不准确之处......这只是为了给您一个大致的想法。

我认为这比 str_replace 更有效，但你知道吗？这可以使用一些基准测试...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-12T01:42:25.857

为什么不使用[Mustache](http://mustache.github.com/#demo)之类的模板引擎，这里是[PHP 版本](http://github.com/bobthecow/mustache.php#readme)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:36:55.993

如果我正确理解了这个问题，我认为以下应该可以正常工作，除非我遗漏了什么。

```
$a = array('name'=>'my full name','address'=>'some address');
foreach($a as $k=>$v)
{
    $html = str_replace('<!--{'.strtoupper($k).'}-->',$v,$html);
} 
```

# javascript - jQuery自动播放分页脚本

> ID：13815542
> 
> 赞同：0
> 
> 时间：2012-12-11T07:28:21.260
> 
> 标签：javascript, jquery

**我的脚本：**

```
function pagination(id)
    {

    $("#article_load_destacados").load("indexer_destacados_news.php?pg_d="+id);

    if (id+1>2)
    {        
       pagination(0);

       setInterval(function() 
       {
          pagination(0);
        }, 4000);        
    }
    else
    {        
       setInterval(function() 
       {
         pagination(id+1);
       }, 4000);        
    }
    }

    </script>

    <div id="article_load_destacados"></div>

    <script>
    pagination(0);
    </script> 
```

为显示分页创建此脚本，该脚本调用 PHP 文件并使用分页加载此脚本，为此发送不同的 id，并且在加载 PHP 文件时同时加载不同的分页元素。使用此脚本，我想根据 id 运行所有分页。例如，如果我有 5 个页面，脚本从 0 到 5 运行，我使用`setInterval`jQuery 来处理它。

我想让脚本分页并每 4 秒发送一次不同的 id。运行脚本时的问题导航器不起作用，并生成无限循环。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:56:36.507

正如所指出的，你想要 setTimeout 而不是 setInterval，你也可以简化你的代码[http://jsfiddle.net/rayBt/](http://jsfiddle.net/rayBt/)

```
var imax = 3;
var time = 500;
function pagination(id){
  $("#article_load_destacados").load("indexer_destacados_news.php?pg_d="+id);
  id = (id + 1) % imax;
  setTimeout(function () {
      pagination(id);
      }, time);        
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:39:50.470

[`setInterval`](https://developer.mozilla.org/en-US/docs/DOM/window.setInterval)用于让函数在给定的时间间隔内重复。因为您正在递归调用，所以一旦分页开始`setIntveral`，您的脚本将使用许多不同的值执行。`pagination`

你应该[`setTimeout`](https://developer.mozilla.org/en-US/docs/DOM/window.setTimeout)改用。`setTimeout`在给定的时间段后启动一个函数，这听起来像你想要的。

# biztalk - BizTalk 消息框 > 60GB

> ID：13815543
> 
> 赞同：1
> 
> 时间：2012-12-11T07:28:25.220
> 
> 标签：biztalk, biztalk-2010

我有一个 BizTalk 2010 Server 启动并运行了几个月。最近我们注意到 MessageBox 的增长和节流开始了。

在生产环境中，MessageBox > 60 GB，trackingdata 视图返回 150 万条记录。在我们的验收环境中，trackingdata 视图返回大约 300k 条记录。

我们最初错过了创建一个专用的跟踪主机，但上周设法创建了一个接受。专用跟踪主机在我们的验收环境中没有改变任何东西，因此我还没有在生产环境中创建一个。

所有作业都已启用并连续运行而不会出现错误。在接受时，我没有任何正在运行/暂停的消息。我在事件日志中也找不到任何异常。

我期待任何改进设置和减小消息框大小的提示。

谢谢和最好的问候迈克尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-27T18:00:51.433

您是否检查过从数据库中清除记录的 sql server 作业正在运行？

查看名为“MessageBox_Message_Cleanup_BizTalkMsgBoxDb”的 sql server 代理作业（那里还有其他作业）。他们通常会定期运行以清理东西。您可以手动运行作业并查看是否有错误并检查作业活动监视器。

# asp-classic - 10 秒后自动更改页面（ASP 经典）

> ID：13815547
> 
> 赞同：1
> 
> 时间：2012-12-11T07:28:56.440
> 
> 标签：asp-classic

我有一个活动服务器页面，显示当天的预订。我将 PageSize 设置为 2，因此如果有更多记录，我的显示器每边仅显示 2 个预订。所以实际上我的记录集中有 8 个预订，所以我的 ASP 创建了 4 个页面。

为了说明这一点，我做了一个快照。

[展示](http://i46.tinypic.com/351j2bk.png)

如您所见，有 4 个页面，我可以在它们之间切换。有了`>`我得到接下来的两个预订，有了`<`我可以得到前两个预订。

我迫切需要的是在 10 秒间隔内自动更改页面。例如：第一页显示 10 秒，然后切换到下一页显示 10 秒，以此类推。如果已到达最后一页，则从第一页重新开始。

我想我需要一个像 Timer 这样的东西，它每 10 秒更改一次页面，如果达到最后一页，则需要一个从第一页再次开始的循环。但我不知道该怎么做。

如果有人可以帮助我，我会很高兴。

到目前为止，我的部分代码：

```
Option Explicit
'declare variables
Dim Currpage, pageLen, lastNumber, PageRem, PageTen
Dim connection, recordset, sSQL, sConnString, next10, prev10, P
Dim RSPrevPage, RSNextPage, start
Dim thema, rsRaum, displayanzeige, bstatus, raum_id, GebaeudeBezeichnung, HinweisText, KOPPELBESTUHLUNG_ID, raumname
'Get the current page the user is on, if it's the first time they
'visit and the variable 'PageNo' is empty, then 'CurrPage' gets set to 1
'Else the current page variable 'CurrPage' is set to the page number requested
If IsEmpty(Request.Querystring("PageNo")) then
CurrPage = 1
Else
CurrPage = Cint(Request.Querystring("PageNo"))
End If

'the two functions below return the next 10 and prev 10 page number
Function getNext10(num)
pageLen = len(num)
If pageLen = 1 Then
next10 = 10
ElseIf pageLen>1 Then
pageRem = 10
pageTen = right(num, 1)
next10 = num + pageRem - pageTen
End If
getNext10 = next10
End Function

Function getPrev10(num)
pageLen = len(num)
If pageLen = 1 then
prev10 = 1
ElseIf pageLen>1 then
lastNumber = right(num, 1)
prev10 = num - lastNumber - 10
End If
If prev10 = 0 then
prev10 = 1
End If
getPrev10 = prev10
End Function

 Do Until Recordset.AbsolutePage <> CurrPage OR Recordset.Eof

 Recordset.MoveNext
 Loop

'the next 2 lines setup the page number for the "previous" and "next" links
RSNextPage = CurrPage + 1
RSPrevPage = CurrPage -1

'find out the number of pages returned in the recordset
'if the Next10 page number is greater than the recordset page count
'then set Next10 to the recordset pagecount
If Next10 > Recordset.PageCount Then
Next10 = Recordset.PageCount
End If

'the variable start determines where to start the page number navigation
' i.e. 1, 10, 20, 30 and so on. 
If prev10 = 1 AND next10 - 1 < 10 Then
start = 1
Else
start = Next10 - 10
If right(start, 1) > 0 Then
start = replace(start, right(start, 1), "0")
start = start + 10
End If
End If

'This checks to make sure that there is more than one page of results
If Recordset.PageCount > 1 Then
'Work out whether to show the Previous 10 '<<' 
If currpage > 1 Then
response.write("<a href=""paging.asp?PageNo=" & Prev10 & """><<</a> ")
End If
'Work out whether to show the Previous link '<' 
If NOT RSPrevPage = 0 then
response.write("<a href=""paging.asp?PageNo=" & RSPrevPage & """><</a> ")
End If

'Loop through the page number navigation using P as our loopcounter variable 
For P = start to Next10

If NOT P = CurrPage then
response.write("<a href=""paging.asp?PageNo=" & P & """>" & P & "</a> ")
Else
'Don't hyperlink the current page number 
response.write(" <b>" & P & " </b>")
End If
Next
'this does the same as the "previous" link, but for the "next" link
If NOT RSNextPage > Recordset.PageCount Then
response.write("<a href=""paging.asp?PageNo=" & RSNextPage & """>></a> ")
End If

'Work out whether to show the Next 10 '>>' 
If NOT Next10 = Recordset.PageCount Then
response.write(" <a href=""paging.asp?PageNo=" & Next10 & """>>></a>")
End If 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:54:54.177

像这样使用[元刷新](http://www.w3.org/TR/WCAG20-TECHS/H76)：

```
<meta http-equiv="refresh" content="10;URL=nextPage.asp" /> 
```

中的***10***是`content`秒数，后跟 a `;`，然后是`URL=<url>`。这是一个常规的 HTML 标签，你应该把它放在你的`<HEAD>`. 您可以通过 ASP 修改 URL 本身。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-02T18:37:31.330

在最后一节中（您已经决定是否放置“下一个”链接），继续使用 ASP 编写脚本标记来调用 javascript 函数：

```
(from the last section of your code example above)
'Work out whether to show the Next 10 '>>' 
If NOT Next10 = Recordset.PageCount Then
    response.write(" <a href=""paging.asp?PageNo=" & Next10 & """>>></a>")
    response.write("<script type=""text/javascript"" language=""javascript"">goToNextPage(" & Next10 & """);</script>")
End If 
```

这将导致页面调用 javascript 函数“goToNextPage(pageNumber);” 这将接受 Next10 值。因为您仅在已经编写“下一个”链接时才将此脚本标记写入输出流，所以它也只会在有另一个页面要显示时才被调用。

然后在您的 HEAD 部分中，您将添加 javascript 函数来处理请求：

```
<head>
<script type="text/javascript" language="javascript">
/*
This function accepts the requested page number and then waits 10 seconds before redirecting back to itself with the new "pageNo" value in the query string
*/
function goToNextPage(nextPageNumber)
{
    setTimeout(function(){window.location='paging.asp?pageNo='+nextPageNumber;},10000);
}

</script>
</head> 
```

# php - 如何修复 PHP 中的类/函数声明问题..？

> ID：13815548
> 
> 赞同：0
> 
> 时间：2012-12-11T07:29:03.650
> 
> 标签：php, class, declaration, overloading

我正在使用一个基本类库，其中父类有一个函数......

```
function functionName($param) {

} 
```

然后，在一个扩展这个类的子类中，我有......

```
function functionName($param, $param2, $param3) {

} 
```

当我使用这个子类进行调用时，我最终得到以下 PHP 通知......

> child_class::functionName() 的声明应该与 parent_class::functionName() 的声明兼容

代码仍然成功完成，但通知让我担心，我想摆脱它。我发现如果我将附加参数添加到父类的函数版本中，那么问题就会消失。但是，除了扩展类中的之外，这些参数在任何地方都不是必需的，所以必须添加它似乎很奇怪......不是吗？

有没有更好的方法来解决这个问题，或者我应该确保在这个函数的所有实例中添加相同的参数，而不管那个特定的类是否真的需要它？

任何有关这方面的信息将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:46:08.547

您说它在添加其他参数时有效，这是因为在 OOP Method Overriding 中执行以下操作

“子类中的实现通过提供与父类中的方法具有相同名称、相同参数或签名以及相同返回类型的方法来覆盖（替换）超类中的实现”

以下链接可能对您有所帮助

[方法声明应与 PHP 中的父方法兼容](https://stackoverflow.com/questions/3115388/declaration-of-methods-should-be-compatible-with-parent-methods-in-php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:59:08.623

如果要继承一个类，则需要具有完全相同的签名。

可以使用[func_get_args](http://php.net/manual/en/function.func-get-args.php)完成快速解决方法：

```
function functionName ($param1) { // This is in the derived clas
    $params = func_get_args();
    $param2 = $params[1];
    $param3 = $params[2];
} 
```

# perl - 为什么输出没有被重定向到文件中？

> ID：13815555
> 
> 赞同：2
> 
> 时间：2012-12-11T07:29:51.947
> 
> 标签：perl, bash, redirect, output

我有以下命令行，通过 perl 脚本每秒输出 vmstat 并在每行上加上时间戳：

```
vmstat 15 | /home/Beer/addtimestamp.pl > File_1 
```

addtimestamp.pl 的内容：

```
!/usr/bin/perl
while (<>) { print localtime() . ": $_"; } 
```

那么为什么不将输出重定向到“File_1”文件呢？

当我不这样做时，它完美地工作，它每秒完美地打印输出，完全没有问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-11T07:35:09.197

当输出到终端时，perl 的输出是行缓冲的，所以你会看到输出的每一行。当它的输出是一个文件时，它将被块缓冲，所以在一个完整的块准备好写入之前你不会看到任何输出（我认为是 4k，但变量和系统定义）。

您需要设置 stdout 以使用行缓冲：

```
$|=1; 
```

搜索 [perl line buffered output] 你会看到很多关于这个的结果。

# ruby-on-rails - Rails API 设计

> ID：13815561
> 
> 赞同：11
> 
> 时间：2012-12-11T07:30:06.627
> 
> 标签：ruby-on-rails, ruby-on-rails-3, design-patterns

我有一个主要基于 REST 的 Rails 站点，我想添加 JSON API 支持。

对于干净的代码库，我应该在现有控制器中添加此支持还是创建仅处理此 API 方法的新控制器，然后将所有通用代码移至模型/帮助程序？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-12-11T07:50:36.013

我使用了这两种技术：在同一个控制器中编写 API 逻辑，并为 API 请求制作单独的控制器。

如果它只是一个 API，一个仅供您使用的小应用程序，请使用 rails 提供的默认控制器模型关系。代码会很干净。您的路线文件也将是干净的。

如果您有一个网站并且您想构建一个 API，请单独进行。我已经在现有控制器旁边构建了一个，代码太乱了。代码我重构了好几次，但还是不喜欢（这也是个人口味的问题）。

另一种解决方案是制作带有前缀的控制器。例如：`ApiUsersController`。这会使您的`routes.rb`文件看起来很难看，因为您必须手动指定路由以匹配相应的控制器方法。

对我来说，可行的解决方案是将所有 API 逻辑移动到 API 命名空间下的单独控制器中。命名空间还允许您进行 API 版本控制。因此，例如，您的路线将是：

```
GET /api/v1/users.json
POST /api/v1/users.json 
```

然后，将来您可以创建另一个 API 版本，比如说`v2`，而不会破坏使用旧版本 API 的现有应用程序。

您可以在此处找到有关命名空间的更多信息：http: [//guides.rubyonrails.org/routing.html#controller-namespaces-and-routing](http://guides.rubyonrails.org/routing.html#controller-namespaces-and-routing)

关于带有版本控制的 REST-full API 的精彩教程：[http ://railscasts.com/episodes/350-rest-api-versioning?view=asciicast](http://railscasts.com/episodes/350-rest-api-versioning?view=asciicast)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-11T07:34:59.213

Rails 控制器生成器默认实现 JSON 响应。

例如，如果您有此方法：

```
class UsersController < ApplicationController
  def index
    @users = User.all
  end
end 
```

您可以像这样添加 JSON 响应

```
class UsersController < Application Controller
  def index
    respond_to do |format|
      format.html
      format.js { render :json => @users }
    end
  end
end 
```

现在，你有两个回应`/users`

1.  `http://someapp.com/users`
2.  `http://someapp.com/users.json`

* * *

您可以很容易地添加另一个；例如，

```
format.xml { render :xml => @users } 
```

现在您的应用将响应`http://someapp.com/users.xml`

* * *

### 自定义你的 json

您可能不想在 json 中输出表的所有字段。为此，请查看[`rails/jbuilder`](https://github.com/rails/jbuilder). 它允许您使用构建器风格的 DSL 创建 JSON 结构。

jbuilder README 中的一个示例

```
Jbuilder.encode do |json|
  json.content format_content(@message.content)
  json.(@message, :created_at, :updated_at)

  json.author do
    json.name @message.creator.name.familiar
    json.email_address @message.creator.email_address_with_name
    json.url url_for(@message.creator, format: :json)
  end

  if current_user.admin?
    json.visitors calculate_visitors(@message)
  end

  json.comments @message.comments, :content, :created_at

  json.attachments @message.attachments do |attachment|
    json.filename attachment.filename
    json.url url_for(attachment)
  end
end 
```

产生以下输出：

```
{ 
  "content": "<p>This is <i>serious</i> monkey business",
  "created_at": "2011-10-29T20:45:28-05:00",
  "updated_at": "2011-10-29T20:45:28-05:00",

  "author": {
    "name": "David H.",
    "email_address": "'David Heinemeier Hansson' <david@heinemeierhansson.com>",
    "url": "http://example.com/users/1-david.json"
  },

  "visitors": 15,

  "comments": [
    { "content": "Hello everyone!", "created_at": "2011-10-29T20:45:28-05:00" },
    { "content": "To you my good sir!", "created_at": "2011-10-29T20:47:28-05:00" }
  ],

  "attachments": [
    { "filename": "forecast.xls", "url": "http://example.com/downloads/forecast.xls" },
    { "filename": "presentation.pdf", "url": "http://example.com/downloads/presentation.pdf" }
  ]
} 
```

# c# - 如何使用通配符扫描具有特定子目录的目录

> ID：13815564
> 
> 赞同：6
> 
> 时间：2012-12-11T07:30:12.963
> 
> 标签：c#, search, directory, wildcard

我想知道什么是扫描包含您不确定的字符的目录的好方法。

比如我想扫描

> C:\Program\Version2.*\Files

意义

*   该文件夹位于`C:\Program`
*   `Version2.*`可以是`Version2.33`,`Version2.1`等
*   该文件夹中有一个名为的文件`Files`夹

我知道我可以做类似的事情`foreach (directory) if contains("Version2.")`，但我想知道是否有更好的方法。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-11T07:35:47.670

[Directory.EnumerateDirectories](http://msdn.microsoft.com/en-us/library/dd383572(v=vs.100).aspx)接受搜索模式。因此，枚举具有通配符的父级，而不是枚举其余的：

```
 var directories = 
    Directory.EnumerateDirectories(@"C:\Program\", "Version2.*")
     .SelectMany(parent => Directory.EnumerateDirectories(parent,"Files")) 
```

注意：如果路径可以包含任何级别的通配符 - 只需规范化路径并用“\”分割，而不是逐级收集文件夹。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:39:00.727

试试这个

```
var pattern = new Regex(@"C:\\Program\\Version 2(.*)\\Files(.*)");

var directories = Directory.EnumerateDirectories(@"C:\Program", "*", 
                                                 SearchOption.AllDirectories)
                                                .Where(d => pattern.IsMatch(d)); 
```

# android - Android、SubView 还是什么？

> ID：13815565
> 
> 赞同：0
> 
> 时间：2012-12-11T07:30:15.533
> 
> 标签：android

如何在 android 中创建 SubView 或什么，像这样（这是来自 Android 4.2 的画廊）

![子视图](../Images/069a95ab3bd88af09aa8bd64f8ac18d0.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:46:50.270

FrameLayout 用于重叠视图或单个视图。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:32:42.647

一个以塔为背景的LinearLayout，底部有一个带有图像的按钮......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-11T07:35:43.270

看看[这里](http://android-developers.blogspot.com/2009/03/android-layout-tricks-3-optimize-by.html)。这是一个很好的例子，它使用`FrameLayout`.

# node.js - 如何让“should.be.false”语法通过 jslint？

> ID：13815569
> 
> 赞同：50
> 
> 时间：2012-12-11T07:30:31.650
> 
> 标签：node.js, jslint, chai

我正在为我的 NodeJS 代码编写 JS UT。我使用[Chai](http://chaijs.com/)作为断言库，我更喜欢*should*语法。我还使用*jslint*检查 JS 文件语法，甚至是 UT 的 JS 文件。

现在我遇到了*jslint*和*Chai*的问题。在*Chai*中，您可以使用：

```
myvalue.should.be.true; 
```

但是*jslint*给了我：

```
#1 Expected an assignment or function call and instead saw an expression. 
```

我知道*jslint*有很多选项，但我就是找不到合适的选项来关闭此检查。

* * *

## 回答 #1

> 赞同：74
> 
> 时间：2013-06-28T10:31:36.373

只是为了让其他读者清楚：

您可以添加`/*jshint expr: true*/`到测试文件的顶部，因此它只允许在测试文件中使用。

在极少数情况下，您在代码中使用这种表达式，您可以将该`expr: true`选项添加到 jshint 配置选项中。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-12-18T21:52:31.573

您也可以`myvalue.should.equal(true)`改用。

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2012-12-11T16:22:48.570

原来我们的**jslint**无法解决我的问题。由于 jslint 的许多限制，我转向[jshint](http://www.jshint.com/)，该选项`expr`救了我：P

# spring-mvc - Spring MVC 3 - 需要帮助解决 url-pattern 问题

> ID：13815580
> 
> 赞同：1
> 
> 时间：2012-12-11T07:31:52.793
> 
> 标签：spring-mvc

我正在使用 spring mvc 开发一个应用程序，这是我的 web.xml

```
<servlet>
    <servlet-name>admin</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
</servlet>

<servlet-mapping>
    <servlet-name>admin</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping> 
```

为了提供静态内容，我在 admin-servlet.xml 中添加了以下行

```
<context:component-scan base-package="com.prasanna.blog.Server" />
<mvc:resources mapping="/resources/**" location="/"/> 
```

我有 5 个控制器，每个控制器都映射到特定的 url，例如 `adminRequests.java`映射到`/admin/*`

```
@Controller
@RequestMapping("/admin/*")
public class AdminRequests 
```

然后我在类中的方法映射到特定的 url。

问题是，当 web.xml 中的 url-pattern 映射为 时，我收到 404 错误`/`。但是当我将 web.xml 中的 url 模式更改为`/app`或任何其他时，我`index.html`的服务没有任何问题。

我不确定问题出在哪里。请指教

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-12T09:20:04.167

当您将 Url 模式 / 映射到 Spring 的 Dispatcher Servlet 时，对您的应用程序的所有请求都将转发到 Dispatcher Servlet。尽管在这种情况下您使用`<mvc:resources>`标签定义了静态资源，但是您的 index.html 没有正确解析，因为它不是呈现为 /resources/index.html 而是 /index.html。

我建议您`<servlet-mapping>`在 spring 之前的 web.xml 中再添加一个`<servlet-mapping>`。例如：

```
<servlet-mapping>
        <servlet-name>default</servlet-name>
        <url-pattern>/index.html</url-pattern>
</servlet-mapping>  
<servlet-mapping>
    <servlet-name>admin</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping> 
```

希望这对你有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T11:26:19.470

不，这并没有解决问题。但我看到另一个线程在讨论相同的问题，其中一个答案有效。我`<mvc:resources>`从 spring xml 中删除了行，并在 web.xml 中添加了以下行

```
<servlet-mapping>
    <servlet-name>default</servlet-name>
    <url-pattern>*.html</url-pattern>
</servlet-mapping>

<servlet-mapping>
    <servlet-name>default</servlet-name>
    <url-pattern>*.js</url-pattern>
</servlet-mapping>
<servlet-mapping>
    <servlet-name>default</servlet-name>
    <url-pattern>*.css</url-pattern>
</servlet-mapping> 
```

现在我的静态内容没有任何问题，但我不喜欢这种方法。感觉就像一个非常肮脏的黑客。现在，如果我必须提供图像，我必须为每种图像类型添加映射。我不确定spring版本是否有问题，因为我在后端使用了带有spring数据的mongodb。设置我的 pom.xml 花了很多时间，因为 spring 数据版本和 mongodb 驱动程序存在一些问题。

# box-api - 来自 box.com 的文件列表

> ID：13815582
> 
> 赞同：2
> 
> 时间：2012-12-11T07:32:08.190
> 
> 标签：box-api

我正在尝试将 Box 中上传的文件与另一个外部系统同步。我使用哪些 API 来获取“在给定 dd/mm/yy hh:mm:ss 之后上传/更新的所有文件的列表”？

干杯！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T15:09:28.893

我认为[用户事件 API](http://developers.box.com/docs/#events-get-events-for-a-user)将是您的最佳选择。此 API 将向您返回给定用户的事件流。然后，您将需要根据您的要求稍微向下流动的过滤器。需要考虑的一些事项：

*   此 API 不会向您返回与指定时间戳相关的事件列表。相反，每个事件都有一个`created_at`字段，您可以使用该字段将结果集过滤到特定时间点。
*   API 不具有超细粒度的事件类型过滤功能，仅显示文件创建/更新事件。相反，每个事件都有一个`event_type`指示事件性质的字段，可用于过滤结果。您可能感兴趣的事件类型是：
    *   ITEM_CREATE（创建的文件或文件夹）
    *   ITEM_UPLOAD（文件或文件夹已上传[修改]）
    *   ITEM_MOVE（文件或文件夹已移动）
    *   ITEM_COPY（文件或文件夹已复制）
    *   ITEM_TRASH（文件或文件夹被标记为删除）
*   您可能会注意到，上面列出的每种事件类型都适用于文件和文件夹。如果您对文件非常感兴趣，那么 event`source`字段有一个`type`属性来指示项目是 a`file`还是`folder`。

希望这能让你指出正确的方向！

# objective-c - 如何在 UITableViewCell 内为 UITextView 设置光标位置

> ID：13815585
> 
> 赞同：1
> 
> 时间：2012-12-11T07:32:13.077
> 
> 标签：objective-c, ios, ipad, uitableview

我们正在做一个验证`UITableViewCell`。该单元格有一个`textView`和一个自定义按钮，单击该按钮会打开一个包含 a 的弹出窗口，`UIDatePickerView`用户将选择日期。此处选择日期是强制性的。所以我们使用下面的代码进行了验证。在下一行的单元格内部的`textViewBeginEditing`委托方法中。`textView`即，当用户单击`textView`下一行中的 时，将验证前一行的值。此处验证似乎正在工作，但光标仍在当前单元格中闪烁，并且不会移动到正在验证的上一个单元格。

```
UITableViewCell* myCell = (UITableViewCell*)textView.superview ;

UITextView *txtviewMycelltext;//=[[UITextView alloc]init];

for (UIView *view in myCell.subviews) 
{

  if([view isKindOfClass:[UILabel class]]) 
  {

      UILabel *lbl=view;
      lbl.text=[lbl.text stringByReplacingOccurrencesOfString:@"." withString:@""];
      int tablerowindex=[lbl.text intValue];
      NSLog(@"%@",lbl.text);
      break;
  }
  if([view isKindOfClass:[UITextView class]]) 
  {
      txtviewMycelltext=view;
  }
}

inttablerowindex-=1;

if(inttablerowindex>0)
{
  if([[arrActionvalues objectAtIndex:inttablerowindex1]objectForKey:KEY_FOLLOWUPDATE]==EMPTYSTRING)
  {
      UIAlertView *alert = [[UIAlertView alloc]
                                        initWithTitle: @"Alert"
                                        message: ALERT_FOLLOWUPDATE
                                        delegate: nil
                                        cancelButtonTitle:@"OK"
                                        otherButtonTitles:nil];
      [alert show];

//              UITableView *mytable=(UITableView *)((textView.superview).superview).superview;
      UITableView *myTable=(UITableView*)[[myCell superview]superview];

      NSIndexPath *indexPath = (NSIndexPath*)[myTable indexPathForCell:  
          (UITableViewCell*)textView.superview.superview];
      UITableViewCell *previousCell = (UITableViewCell*)[myTable cellForRowAtIndexPath:[NSIndexPath indexPathForRow:indexPath.row - 1 inSection:indexPath.section]];

      for (UIView *view in previousCell.subviews) 
      {
                      NSLog(@"%@",view);
                      if([view isKindOfClass:[UIView class]]) {

                          UIView *subView=view;
                          for(UIView *view2 in subView.subviews)
                          {

                              if([view2 isKindOfClass:[UITextView class]]) {
                                  UITextView *txt=view2;

                                  [txtviewMycelltext resignFirstResponder];
                                  [txt becomeFirstResponder];
                                   break;
                              }
                          }

                      }
                  }
              }
          } 
```

请让我知道需要做什么才能将光标位置移至正确的单元格。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T08:01:16.280

你的代码不是很清楚，但是，我猜你是在里面执行你的验证`textViewDidEndEditing`。

`textViewShouldEndEditing`是执行文本视图内容验证的适当委托方法。如果要防止从当前文本视图切换焦点，可以返回 NO。

[http://developer.apple.com/library/ios/#documentation/uikit/reference/UITextViewDelegate_Protocol/Reference/UITextViewDelegate.html#//apple_ref/occ/intfm/UITextViewDelegate/textViewShouldEndEditing](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITextViewDelegate_Protocol/Reference/UITextViewDelegate.html#//apple_ref/occ/intfm/UITextViewDelegate/textViewShouldEndEditing)：

# php - PHP preg_match，从Android URL地址中查找包名

> ID：13815586
> 
> 赞同：2
> 
> 时间：2012-12-11T07:32:13.417
> 
> 标签：php

我需要从 URL 地址获取 Android 包名称。

这是我所做的。

```
$url = 'https://play.google.com/store/apps/details?id=com.gamevil.projectn.global&feature=featured-apps#?t=W251bGwsMSwyLDIwMywiY29tLmdhbWV2aWwucHJvamVjdG4uZ2xvYmFsIl0.';
        preg_match("~id=(\d+)~", $url, $matches);
        $package_name = $matches[1];

        echo $package_name; 
```

包名应为“com.gamevil.projectn.global”

但是，我的代码不起作用。

有什么我想念的吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T07:35:17.817

你可以通过[`parse_url`](http://php.net/manual/en/function.parse-url.php)功能做到这一点

```
<?php
$url = 'https://play.google.com/store/apps/details?id=com.gamevil.projectn.global&feature=featured-apps#?t=W251bGwsMSwyLDIwMywiY29tLmdhbWV2aWwucHJvamVjdG4uZ2xvYmFsIl0.';
$arr =parse_url($url);
$new = explode("&",$arr['query']);
$new1 = explode("=",$new[0]);
echo($new1[1] ); 
```

输出

```
com.gamevil.projectn.global 
```

[[[[![jsFiddle](../Images/0755439de910c6a65b68af0326623cc9.png)](http://codepad.org/DLamfxfW)]]]

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-11T07:34:52.670

也许这可以帮助你：

```
$url = 'https://play.google.com/store/apps/details?id=com.gamevil.projectn.global&feature=featured-apps#?t=W251bGwsMSwyLDIwMywiY29tLmdhbWV2aWwucHJvamVjdG4uZ2xvYmFsIl0.';
    preg_match("/id=(.*?)&/", $url, $matches);
    $package_name = $matches[1];

    echo $package_name; 
```

`preg_match`不会找到 和 之间`id=`的所有内容`&`。

但更好的解决方案是使用[parse_url](http://us1.php.net/parse_url)解析 url，该函数将返回 url 的组件。

# android - Android Cover 流视图

> ID：13815587
> 
> 赞同：1
> 
> 时间：2012-12-11T07:32:25.883
> 
> 标签：android, coverflow

嗨，我正在 Android 中开发应用程序。我正在使用 Coverflow 视图来显示图像。但问题是它显示在屏幕中央。我需要显示在屏幕顶部。请帮助我，我是新手安卓。

代码：我的活动课

```
 public class NewspaperCoverFlowActivity extends Activity 
{
/** Called when the activity is first created. */

@Override
public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);

    Coverflow coverFlow;
    coverFlow = new Coverflow(this);

    coverFlow.setAdapter(new ImageAdapter(this));

    ImageAdapter coverImageAdapter =  new ImageAdapter(this);

    coverFlow.setAdapter(coverImageAdapter);

    coverFlow.setSpacing(2);
    coverFlow.setSelection(1, true);
    coverFlow.setAnimationDuration(1500);      
    setContentView(coverFlow);
}

}

Adapter Class:

public class ImageAdapter extends BaseAdapter 
{
    int mGalleryItemBackground;
    private Context mContext;
    static final String URL="XXXXXXXXXXX";
    String[] imageurl ;
    private FileInputStream fis;

    private Integer[] mImageIds = 
     {
      R.drawable.ic_launcher,
      R.drawable.ic_launcher,
      R.drawable.ic_launcher, R.drawable.ic_launcher,  R.drawable.ic_launcher
      };

    private ImageView[] mImages;

    public ImageAdapter(Context c) 
    {                                                                                                                                                                                                                
//      System.out.println("Inside image cons");
     mContext = c;
     getelement();
     createReflectedImages();
//     mImages = new ImageView[imageurl.length];       
    }
    public void getelement()
    {
//      System.out.println("Inside getelement");
//     String[] itemsarray={};
//     ArrayList<HashMap<String, String>> menuItems = new ArrayList<HashMap<String, String>>();
//     ArrayList<String> menuItems = new ArrayList<String>();
     TaplistingParser parser = new TaplistingParser();
     String xml= parser.getXmlFromUrl(URL);
     Document doc=parser.getDomElement(xml);        
//     System.out.println("sssss="+doc);
     NodeList nl=doc.getElementsByTagName("article");
     imageurl = new String[nl.getLength()];
     mImages = new ImageView[imageurl.length];

//     System.out.println("len="+nl.getLength());
     for(int i=0; i < nl.getLength(); i++ )
     {
//         System.out.println("Inside for");
//      HashMap<String, String> map = new HashMap<String, String>(); 
        Element e = (Element) nl.item(i);
//      map.put("SectionName", parser.getValue(e, "sectionname"));
//      System.out.println("b4 items="+parser.getValue(e, "sectionname"));
//      itemsarray[i] = parser.getValue(e, "sectionname");
//      System.out.println("items="+itemsarray[i]);
        imageurl[i]=parser.getValue(e, "kickerimage");
//      System.out.println("i am here..."+imageurl[i]);
//      menuItems.add(parser.getValue(e, "sectionname"));
//      menuItems.add(parser.getValue(e, "sectionname"));
//     System.out.println("menu="+menuItems);

     }    
//    String[] itemsarray = menuItems.toArray(new String[menuItems.size()]); 

//     String[] itemsarray = new String[menuItems.size()];
//     itemsarray=menuItems.toArray(itemsarray);
////     for(int j= 0;j < itemsarray.length;j++ )
////     {
////       Log.d("string is",(itemsarray[j]));
////     }
//      return itemsarray;
    }
 public boolean createReflectedImages() {
         //The gap we want between the reflection and the original image
         final int reflectionGap = 4;
         int index = 0;
//         for (int imageId : imageurl)
         for(int i=0;i<imageurl.length;i++)
         {
//           System.out.println("image="+imageurl[i]);
//       Bitmap originalImage = BitmapFactory.decodeResource(getResources(), 
//             imageurl[i]);

             Bitmap originalImage =  DownloadImage(imageurl[i]);

          int width = originalImage.getWidth();
          int height = originalImage.getHeight();

          //This will not scale but will flip on the Y axis
          Matrix matrix = new Matrix();
          matrix.preScale(1, -1);

          //Create a Bitmap with the flip matrix applied to it.
          //We only want the bottom half of the image
          Bitmap reflectionImage = Bitmap.createBitmap(originalImage, 0, height/2, width, height/2, matrix, false);

          //Create a new bitmap with same width but taller to fit reflection
          Bitmap bitmapWithReflection = Bitmap.createBitmap(width 
            , (height + height/2), Config.ARGB_8888);

         //Create a new Canvas with the bitmap that's big enough for
         //the image plus gap plus reflection
         Canvas canvas = new Canvas(bitmapWithReflection);
         //Draw in the original image
         canvas.drawBitmap(originalImage, 0, 0, null);
         //Draw in the gap
         Paint deafaultPaint = new Paint();
         canvas.drawRect(0, height, width, height + reflectionGap, deafaultPaint);
         //Draw in the reflection
         canvas.drawBitmap(reflectionImage,0, height + reflectionGap, null);

         //Create a shader that is a linear gradient that covers the reflection
         Paint paint = new Paint(); 
         LinearGradient shader = new LinearGradient(0, originalImage.getHeight(), 0, 
           bitmapWithReflection.getHeight() + reflectionGap, 0x70ffffff, 0x00ffffff, 
           TileMode.CLAMP); 
         //Set the paint to use this shader (linear gradient)
         paint.setShader(shader); 
         //Set the Transfer mode to be porter duff and destination in
         paint.setXfermode(new PorterDuffXfermode(Mode.DST_IN)); 
         //Draw a rectangle using the paint with our linear gradient
         canvas.drawRect(0, height, width, 
           bitmapWithReflection.getHeight() + reflectionGap, paint); 

         ImageView imageView = new ImageView(mContext);
         imageView.setImageBitmap(bitmapWithReflection);
         imageView.setLayoutParams(new Coverflow.LayoutParams(120,180));
         imageView.setScaleType(ScaleType.MATRIX);
         mImages[index++] = imageView;
         }
         return true;
         }
@Override
public int getCount() 
{
    // TODO Auto-generated method stub
    return imageurl.length;
}
@Override
public Object getItem(int position) 
{
    // TODO Auto-generated method stub
    return imageurl[position];
}
@Override
public long getItemId(int position)
{
    // TODO Auto-generated method stub
    return position;
}
 public View getView(int position, View convertView, ViewGroup parent) 
 {
     //Use this code if you want to load from resources
//      DownloadImage(imageurl[position]);
        Bitmap bit = DownloadImage(imageurl[position]);
        ImageView i = new ImageView(mContext);
        i.setImageBitmap(bit);
//        i.setImageResource(imageurl[position]);
        i.setLayoutParams(new Coverflow.LayoutParams(170, 170));
        i.setScaleType(ImageView.ScaleType.CENTER_INSIDE);             
        //Make sure we set anti-aliasing otherwise we get jaggies
        BitmapDrawable drawable = (BitmapDrawable) i.getDrawable();
        drawable.setAntiAlias(true);
        return i;

     //return mImages[position];
    }
  /** Returns the size (0.0f to 1.0f) of the views 
     * depending on the 'offset' to the center. */ 
     public float getScale(boolean focused, int offset) { 
       /* Formula: 1 / (2 ^ offset) */ 
         return Math.max(0, 1.0f / (float)Math.pow(2, Math.abs(offset))); 
     }

     Bitmap bitmap = null;
     private Bitmap DownloadImage(String URL)
        {        
//          System.out.println("image inside="+URL);

            InputStream in = null;        
            try
            {
                in = OpenHttpConnection(URL);
                bitmap = BitmapFactory.decodeStream(in);
                in.close();
            } catch (IOException e1) {
                // TODO Auto-generated catch block
                e1.printStackTrace();
            }
//          System.out.println("image last");
            return bitmap;                
        }
        private InputStream OpenHttpConnection(String urlString)
                throws IOException
                {
                    InputStream in = null;
                    int response = -1;

                    URL url = new URL(urlString);
                    URLConnection conn = url.openConnection();

                    if (!(conn instanceof HttpURLConnection))                    
                        throw new IOException("Not an HTTP connection");                   
                    try{
                        HttpURLConnection httpConn = (HttpURLConnection) conn;
                        httpConn.setAllowUserInteraction(false);
                        httpConn.setInstanceFollowRedirects(true);
                        httpConn.setRequestMethod("GET");
                        httpConn.connect();

                        response = httpConn.getResponseCode();                
                        if (response == HttpURLConnection.HTTP_OK) 
                        {
                            in = httpConn.getInputStream();                                
                        }                    
                    }
                    catch (Exception ex)
                    {
                        throw new IOException("Error connecting");            
                    }
                    return in;    
        }
        } 
```

覆盖流类：

```
 public class Coverflow extends Gallery
    {

         private Camera mCamera = new Camera();
         private int mMaxRotationAngle = 60;
         private int mMaxZoom = -120;
         private int mCoveflowCenter;
         public Coverflow(Context context) {
              super(context);
              this.setStaticTransformationsEnabled(true);
             }

             public Coverflow(Context context, AttributeSet attrs) {
              super(context, attrs);
                    this.setStaticTransformationsEnabled(true);
             }

              public Coverflow(Context context, AttributeSet attrs, int defStyle) {
               super(context, attrs, defStyle);
               this.setStaticTransformationsEnabled(true);   
              }

              public int getMaxRotationAngle() {
                  return mMaxRotationAngle;
                 }
              public void setMaxRotationAngle(int maxRotationAngle) {
                  mMaxRotationAngle = maxRotationAngle;
                 }

              public int getMaxZoom() {
                  return mMaxZoom;
                 }
              public void setMaxZoom(int maxZoom) {
                  mMaxZoom = maxZoom;
                 }

              private int getCenterOfCoverflow() {
                    return (getWidth() - getPaddingLeft() - getPaddingRight()) / 2 + getPaddingLeft();
                }
              private static int getCenterOfView(View view) {
                    return view.getLeft() + view.getWidth() / 2;
                }  
              protected boolean getChildStaticTransformation(View child, Transformation t) {

                  final int childCenter = getCenterOfView(child);
                  final int childWidth = child.getWidth() ;
                  int rotationAngle = 0;

                  t.clear();
                  t.setTransformationType(Transformation.TYPE_MATRIX);

                        if (childCenter == mCoveflowCenter) {
                            transformImageBitmap((ImageView) child, t, 0);
                        } else {      
                            rotationAngle = (int) (((float) (mCoveflowCenter - childCenter)/ childWidth) *  mMaxRotationAngle);
                            if (Math.abs(rotationAngle) > mMaxRotationAngle) {
                             rotationAngle = (rotationAngle < 0) ? -mMaxRotationAngle : mMaxRotationAngle;   
                            }
                            transformImageBitmap((ImageView) child, t, rotationAngle);         
                        }    

                  return true;
                 }

              protected void onSizeChanged(int w, int h, int oldw, int oldh) {
                  mCoveflowCenter = getCenterOfCoverflow();
                  super.onSizeChanged(w, h, oldw, oldh);
                 }

              private void transformImageBitmap(ImageView child, Transformation t, int rotationAngle) {            
                  mCamera.save();
                  final Matrix imageMatrix = t.getMatrix();;
                  final int imageHeight = child.getLayoutParams().height;;
                  final int imageWidth = child.getLayoutParams().width;
                  final int rotation = Math.abs(rotationAngle);

                  mCamera.translate(0.0f, 0.0f, 100.0f);

                  //As the angle of the view gets less, zoom in     
                  if ( rotation < mMaxRotationAngle ) {
                   float zoomAmount = (float) (mMaxZoom +  (rotation * 1.5));
                   mCamera.translate(0.0f, 0.0f, zoomAmount);          
                  }               
                  mCamera.rotateY(rotationAngle);
                  mCamera.getMatrix(imageMatrix);               
                  imageMatrix.preTranslate(-(imageWidth/2), -(imageHeight/2)); 
                  imageMatrix.postTranslate((imageWidth/2), (imageHeight/2));
                  mCamera.restore();
             }
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T08:44:41.767

在您的 OnCreate
添加以下行

```
 coverFlow.setGravity(Gravity.TOP); 
```

这会将您的coverflow的重力设置为TOP

# jquery - jQuery/Ajax | 测试 AJAX 是否传递变量？

> ID：13815591
> 
> 赞同：0
> 
> 时间：2012-12-11T07:32:54.580
> 
> 标签：jquery, ajax, twitter-bootstrap

我有一个名为 X-Editable 的插件，点击它可以编辑 AJAX 请求。到目前为止，我已经让插件运行并显示编辑内容，但是当我去更改内容时，我刷新页面并且内容从未改变。您可以设置 URL 以发送 AJAX 请求，有什么方法可以更改 URL，以便我可以触发函数以及如何检查我的 $_POST 变量是否通过发送？发送的 POST 变量是 $_POST["value"] 和 $_POST["pk"]

如何设置网址

```
('#username').editable({
url: '/post.php',
}); 
```

总的来说，我怎样才能使 URL 成为一个函数，让我知道我的 POST 数据是否被发送出去？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T10:11:16.003

为什么不使用 firefox firebug 工具来查看发布了哪些数据。您可以在进行 ajax 调用的位置留下断点并查看正在发送的值

# php - 如何在ajax调用的php页面中构造一个包含html代码和php代码的php变量

> ID：13815592
> 
> 赞同：0
> 
> 时间：2012-12-11T07:32:57.493
> 
> 标签：php, html, jquery

```
$table="<table border='1'>
    <tr>
    <th>FIRST NAME</th>
    <th>LAST NAME</th>
    <th>EMAIL</th>
    <th>GENDER</th>".
    while($row = mysql_fetch_array($result3))
    {
        $action="Action";
        $var=$action.$count;
         ."<th>" .$var. "</th>".
        $count=$count+1;

    } 

    ."        </tr>".

    while($row = mysql_fetch_array($result2))
    {

         ."<tr>".
         "<td>".$row['firstname']."</td>".
         "<td>".$row['lastname']."</td>".
         "<td>".$row['email']."</td>".
        if($row['gender']=='m')
        {
            $gend='male';
        }
        else
        {
            $gend='female';
        }
         "<td>".$gend."</td>".

        $result3=$db->selectUserPermission($uid);
        $id=$row['userid'];
        $loginuser=$_SESSION['LOGINUSER'];
        while($row = mysql_fetch_array($result3))
        {

              ."<td>".
            if($row['permid']==1)
            {
                $permission="VIEW";
                $btnid=$id."_VIEW";
                 ."<button id=$btnid name=$btnid onclick='getFunctionView($id)'>".$permission."</button>".
            }
            else  if($row['permid']==2)
            {
                $permission="EDIT";
                $btnid=$id."_EDIT";
                 ."<button id=$btnid name=$btnid onclick='getFunctionEdit($id)';>".$permission."</button>".
            }
            else  if($row['permid']==3)
            {
                if($id!=1 || $id!=$loginuser)
                {
                $permission="DELETE";
                $btnid=$id."_DELETE";
                 ."<button id=$btnid name=$btnid onclick='getFunctionDelete($id)';>".$permission."</button>".
                }
            }
            else  if($row['permid']==4)
            {
                if($id!=1)
                {
                $permission="PERMISSION";
                $btnid=$id."_PERMISSION";
                 ."<button id=$btnid name=$btnid onclick='getFunctionPermission($id)';>".$permission."</button>".
                }
            }
            else  if($row['permid']==5 && $loginuser==$id)
            {
                $permission="ADD USER";
                 ."<button id=$btnid name=$btnid onclick='location.href=\"adduser.html\"'>".$permission."</button>".
            }
            else
            {
            }

             ."</td>".
        }
    }
     ."</tr>
     </table>";
     echo $table; 
```

这是来自 ajax 调用的 php 页面的代码。这里 $result2 和 $result3 是使用 2 个 sql 查询获得的 2 个结果集。我想使用这两个结果生成一个表，并将该表存储到一个 php 变量 $table 和在 ajax 中，我想直接将其分配为 html 文本，ajax 代码如下所示。

```
 $(document).ready(function(){

    var temp='getUser';
    $.ajax ({
                type:'GET',
                url: 'listdetails.php',
                data:{ud:temp},
                success:function(data)
                        {
                            document.getElementByID("userList").innerHTML=data;
                        }

           }); 
```

});

我的问题是在创建 php 变量 $table。它在每个连接中都显示错误（“。”）。这是错误消息“解析错误：语法错误，C:\wamp\www\listdetails.php 中的意外 T_WHILE第 39 行“。任何人都可以提出一种制作 php 变量 $table 的好方法。记住这个 $table 在 ajax 调用的 php 页面中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T07:39:07.040

你使用错误的连接。

*   不要将变量赋值 ($someVar = ) 与条件 (if) 或循环 (while) 语句连接起来
*   不要放一个 . 之后 ; 或 } 因为这些字符会终止上一个命令，并且您不能使用 . 启动下一个命令。

这是代码第一部分的修改版本，可帮助您入门：

```
$table="<table border='1'>
<tr>
<th>FIRST NAME</th>
<th>LAST NAME</th>
<th>EMAIL</th>
<th>GENDER</th>";

while($row = mysql_fetch_array($result3))
{
    $action="Action";
    $table.="<th>" .$action.$count. "</th>";
    $count++;
} 

$table .= "        </tr>"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T08:20:02.777

考虑到您想要做的就是回显表格，我只会在需要时结束/启动 PHP。清理后的代码如下。

```
<table border='1'>
<tr>
<th>FIRST NAME</th>
<th>LAST NAME</th>
<th>EMAIL</th>
<th>GENDER</th>
<?php
while($row = mysql_fetch_array($result3))
{
        $action="Action";
        $var=$action.$count;  //$count is not defined yet in your example, first time will be ''
        echo "<th>" .$var. "</th>";
        $count=$count+1;
}
?>
</tr>

<?php
while($row = mysql_fetch_array($result2))
{
    ?>
    <tr>
    <td><?php echo $row['firstname']; ?></td>
    <td><?php echo $row['lastname']; ?></td>
    <td><?php echo $row['email']; ?></td>
    <td><?php echo (($row['gender']=='m') ? 'male' : 'female'); ?></td>

    <?php
    $result3=$db->selectUserPermission($uid);
    $id=$row['userid'];
    $loginuser=$_SESSION['LOGINUSER'];
    while($row = mysql_fetch_array($result3))
    {
        echo "<td>";

        switch ($row['permid']) {
            case 1:
                $permission="VIEW";
                $btnid=$id."_VIEW";
                echo "<button id=$btnid name=$btnid onclick='getFunctionView($id)'>".$permission."</button>";
                break;
            case 2:
                $permission="EDIT";
                $btnid=$id."_EDIT";
                echo "<button id=$btnid name=$btnid onclick='getFunctionEdit($id)';>".$permission."</button>";
                break;
            case 3:
                if($id!=1 || $id!=$loginuser)
                {
                    $permission="DELETE";
                    $btnid=$id."_DELETE";
                     echo "<button id=$btnid name=$btnid onclick='getFunctionDelete($id)';>".$permission."</button>";
                }
                break;
            case 4:
                if($id!=1)
                {
                    $permission="PERMISSION";
                    $btnid=$id."_PERMISSION";
                    echo "<button id=$btnid name=$btnid onclick='getFunctionPermission($id)';>".$permission."</button>";
                }
                break;
            case 5:
                if($loginuser==$id)
                {
                    $permission="ADD USER";
                    echo "<button id=$btnid name=$btnid onclick='location.href=\"adduser.html\"'>".$permission."</button>";
                }
                break;
        }

        echo "</td>";
    }
}
?>
</tr>
</table> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:38:07.250

```
$sTable = '
<table>
 <tr>
  <td></td>
 </tr>';

while( false ) {
 $sTable .= '';
}

$sTable .= '
 </table>';

echo $sTable; 
```

或者就像我会做的那样

```
$sBuffer = '';
while( code goes here ) {
 $sBuffer .= '
 <tr>
  <td></td>
 </tr>';
}

echo '
<table>
 <tr>
  <td></td>
 </tr>
 ' . $sBuffer . '
</table>'; 
```

# c# - 在 C# 中为我的 List 包装器实现集合初始化程序

> ID：13815593
> 
> 赞同：4
> 
> 时间：2012-12-11T07:33:03.620
> 
> 标签：c#

我创建了一个包装列表的类：

```
class Wrapper
{
    private List<int> _list
} 
```

我希望能够像这样初始化一个新的 Wrapper 对象：

```
new Wrapper() {1, 2, 3}; 
```

这应该将 Wrapper 初始化为`_list`包含 {1, 2, 3} 的列表。

为了启用该功能，我需要向类代码添加什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-11T07:34:58.807

你需要两件事：

*   您需要实现`IEnumerable`（尽管对于集合初始化程序本身而言，它的行为并不重要）。您不必实现通用版本，但*通常*需要。
*   您需要一个`Add`接受元素类型作为参数的方法（`int`在这种情况下）

因此，编译器将对其进行转换：

```
Wrapper x = new Wrapper() {1, 2, 3}; 
```

进入这个：

```
Wrapper tmp = new Wrapper();
tmp.Add(1);
tmp.Add(2);
tmp.Add(3);
Wrapper wrapper = tmp; 
```

最简单的方法几乎肯定是委托给您的列表：

```
class Wrapper : IEnumerable<int>
{
    private readonly List<int> _list = new List<int>();

    public IEnumerator<int> GetEnumerator()
    {
        return _list.GetEnumerator();
    }

    // Explicit implementation of non-generic interface
    IEnumerator IEnumerable.GetEnumerator()
    {
        return GetEnumerator();
    }

    public void Add(int item)
    {
        _list.Add(item);
    }
} 
```

如果您想让您的包装器更高效地进行迭代，您*可以*更改`GetEnumerator`方法以包含一个返回的公共方法`List<T>.Enumerator`：

```
// Public method returning a mutable struct for efficiency
public List<T>.Enumerator GetEnumerator()
{
    return _list.GetEnumerator();
}

// Explicit implementation of non-generic interface
IEnumerator<int> IEnumerable<int>.GetEnumerator()
{
    return GetEnumerator();
}

// Explicit implementation of non-generic interface
IEnumerator IEnumerable.GetEnumerator()
{
    return GetEnumerator();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-11T07:37:12.337

```
class ListWrapper :IEnumerable<int>
{
    private List<int> _list = new List<int>();

    public void Add(int i)
    {
        _list.Add(i);
    }

    public IEnumerator<int> GetEnumerator()
    {
        return _list.GetEnumerator();
    }

    IEnumerator IEnumerable.GetEnumerator()
    {
        return _list.GetEnumerator();
    }
} 
```

# c# - 如何根据会话填充网格视图

> ID：13815597
> 
> 赞同：0
> 
> 时间：2012-12-11T07:33:28.600
> 
> 标签：c#, asp.net

我创建了一个空的gridview，并创建了一个sqldatasource，select语句是这样的

```
SELECT S.[ID], S.[Survey_Name], S.[Start_Date], S.[End_Date], C.[Category_Name], S.[Username], S.[Audience] FROM [Survey] S
Inner Join
Category C On S.Category_ID = C.ID Where Username = @Username 
```

之后，我选择参数的来源为“会话”，其会话字段为“用户名”，此会话在登录时填充。当我对其进行测试并输入用户名时，它可以工作，但是在运行程序时，gridview 始终为空白。

编辑：我的 aspx.page 代码。

```
<asp:SqlDataSource 
    ID="SqlDataSource1"
    Runat="server" 
    SelectCommand="SELECT S.[ID], S.[Survey_Name], S.[Start_Date], 
                 S.[End_Date], C.[Category_Name], S.[Username], S.[Audience] 
                 FROM [Survey] S Inner Join Category C 
                      On S.Category_ID = C.ID Where Username = @Username"
    SelectCommandType="Text"
    ConnectionString="<%$ ConnectionStrings:SurveySystemConnectionString %>">
    <SelectParameters>
       <asp:SessionParameter Name="Username" DbType="String" 
            DefaultValue=""  SessionField="username"/>

    </SelectParameters>
</asp:SqlDataSource> 
```

编辑：我的登录按钮

```
protected void LoginButton_Click(object sender, EventArgs e)
        {
            lblerror.Visible = false;

            SqlConnection conn = DatabaseConnection.GetSurveySystemConnection();             
            string queryString = "SELECT * FROM [Users] WHERE Username=@username AND Password= @password";
            SqlCommand command = new SqlCommand(queryString, conn);
            command.Parameters.AddWithValue("@username", UserNameTextBox.Text);
            command.Parameters.AddWithValue("@password", PasswordTextBox.Text);

            SqlDataReader reader = null;
            reader = command.ExecuteReader();

            if (reader.Read())
            {
                Session["Username"] = UserNameTextBox.Text;
                Session["Name"] = (string)reader["name"];
                Session["UserType"] = (string)reader["UserType"];
                Response.Redirect("Home.aspx");
            }
Connection.close();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T08:54:19.373

你`SqlDataSource`应该如下。请检查`SessionField="username"`是否正确。

```
<asp:SqlDataSource 
    ID="SqlDataSource1"
    Runat="server" 
    SelectCommand="SELECT S.[ID], S.[Survey_Name], S.[Start_Date], 
                 S.[End_Date], C.[Category_Name], S.[Username], S.[Audience] 
                 FROM [Survey] S Inner Join Category C 
                      On S.Category_ID = C.ID Where Username = @Username"
    SelectCommandType="Text"
    ConnectionString="<%$ ConnectionStrings:YourConnStringName %>">
    <SelectParameters>
       <asp:SessionParameter Name="Username" DbType="String" 
            DefaultValue=""  SessionField="username"/>

    </SelectParameters>
</asp:SqlDataSource> 
```

**注意：**确保`SessionParameter`是`SelectParameter`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T08:22:49.987

```
protected void Page_Load(object sender, EventArgs e) {
     if (Session["username"] != null) {
          string strSQLconnection = "Data Source=dbServer;Initial Catalog=testDB;Integrated Security=True";
          SqlConnection conn = new SqlConnection(strSQLconnection);
          conn.Open();
          SqlCommand command = new SqlCommand("select * from table1 where username =" + (string)(Session["username"], sqlConnection);
          SqlDataReader reader = sqlCommand.ExecuteReader();
          GridView1.DataSource = reader;
          GridView1.DataBind();
     }
} 
```

# javascript - 请帮助一个javascript来剪切部分链接？

> ID：13815599
> 
> 赞同：-1
> 
> 时间：2012-12-11T07:33:47.510
> 
> 标签：javascript

如果我把这个链接

> `http://www.google.co.in/search?nomo=1&q=Quantum+physics+india&client=ms-opera-mini&channel=new&hl=en&`

在 textarea 中并提交，它应该在页面加载后在另一个 textarea 中给我一个干净的链接，如下所示：

> `http://www.google.com/search?q=Quantum+physics+india`

javascript 将如何处理这个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T07:41:06.700

使用`indexOf()`and`substr()`您可以提取`q=`参数并将其附加到新链接。这也会修剪掉`q=`（如果有的话）之后的任何附加参数。

**[演示](http://jsfiddle.net/SvnbH/3/)**

```
function convertLink(input)
{
    var newLink = "http://www.google.com/search?";

    var temp =  input.substr(input.indexOf('q='));
    var ampPos = temp.indexOf('&');

    if(ampPos > -1)
    {
        temp = temp.substr(0, ampPos);
    }

    return newLink + temp;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:44:14.667

尝试使用正则表达式匹配。像 q=/([A-Za-z] *\+?)* /

那应该提取您想要的部分，然后您可以将其附加到您的基本网址。

至于如何编码，我相信做是最好的学习方式，但你可以从[这里开始](https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Regular_Expressions)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T08:29:22.090

如果 "nomo=1&q=Quantum+physics+india&client=ms-opera-mini&channel=new&hl=en&" 模式是固定的 Ex: (nomo=&q=&client=&channel=)

您将能够使用以下脚本获得答案

```
var uri   = 'http://www.google.co.in/search?nomo=1&q=Quantum+physics+india&client=ms-opera-mini&channel=new&hl=en&';
var myarr = uri.split("?");

var url   = myarr[0];
//alert(myarr[0]);
var myarr2 = myarr[1].split("&");
//alert(myarr2[1]);

alert(url+'?'+myarr2[1]); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-12-11T07:49:31.897

这是解析任何 url 的通用函数：

> ```
> function parseQueryString(url) { 
>   var e, 
>       d = function (s) { 
>         return decodeURIComponent(s.replace(/\+/g, " ")); 
>       }, 
>       r = /([^&=]+)=?([^&]*)/g,
>       queryObject = {};
> 
>   while (e = r.exec("url=" + url)) 
>   queryObject[d(e[1])] = d(e[2]);
> 
>   console.dir(queryObject); 
>   return queryObject;
> } 
> ```

当您为您的网址调用它时： parseQueryString("http://www.google.co.in/search?nomo=1&q=Quantum+physics+india&client=ms-opera-mini&channel=new&hl=en&");

你得到：对象

频道：“新”
lient：“ms-opera-mini”
hl：“en”
q：“印度量子物理学”
url：“http://www.google.co.in/search?nomo=1”

# iphone - 在有效架构中使用 armv7s 支持有什么好处？

> ID：13815601
> 
> 赞同：11
> 
> 时间：2012-12-11T07:33:57.820
> 
> 标签：iphone, ios, armv7, archiving

我正在开发一个支持 iOS 4.3 及更高版本的 iOS 应用程序。由于某些框架，我无法为 armv7s 存档，所以我删除了 armv7s 支持。它会降低应用程序的性能吗？使用armv7s有什么好处？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-12-11T07:45:57.867

令人惊讶的是，为两种不同架构生成的机器代码并没有太大差异。总体而言，armv7s 代码看起来与 armv7 代码没有太大区别。但是，有两个具体的差异引起了我的注意。

第一个区别影响整数除法。armv7s 体系结构有两个新的整数除法指令，它们在 armv7 体系结构中不存在。这些整数除法指令在 armv7 上作为函数实现，它至少比 armv7s 上的等效指令慢一个数量级。整数除法在应用程序中很常见（在 Geekbench 中的一百多个地方都调用了它），因此这些新指令应该可以显着提高所有应用程序的性能。

第二个区别影响浮点运算。Xcode 对 armv7s 使用与 armv7 不同的浮点算术指令。Xcode 用于 armv7 的指令将多个操作组合成一条指令，这应该使它们比 Xcode 用于 armv7 的多个独立指令更有效。令人惊讶的是，这些组合浮点指令存在于 armv7 架构中，但 Xcode 并未使用。目前尚不清楚为什么会这样。对于 armv7，这些组合指令只占所有浮点指令的一小部分，因此虽然它们可能会提供优势，但很难确定它们会产生多大的影响。

armv7 和 armv7s 代码之间还有其他差异，但与上面概述的整数除法和浮点算术更改相比，它们的差异很小。应用程序将从 armv7s 构建中受益多少？仅通过检查生成的代码很难说，但如果您是一名开发人员，我认为发布您的应用程序的 armv7s 构建是值得的，特别是如果您的应用程序使用浮点操作。

我从这个链接得到了信息。请通过这个链接了解更多细节。谢谢

[armv7和armv7s的区别](http://www.primatelabs.com/blog/2012/09/apple-a6/)

# wpf - 通过键入在 Wpf 数据网格中查找记录

> ID：13815607
> 
> 赞同：3
> 
> 时间：2012-12-11T07:34:11.770
> 
> 标签：wpf, xaml, datagrid

我有一个绑定到 Observable Members 集合的数据网格。现在我想通过输入成员名称在数据网格中查找成员。我试过 IsTextSearchEnable 属性，但它没有搜索。这是我的 xaml。

```
<DataGrid Name="dgOtherCharges" AutoGenerateColumns="False" RowHeight="25" Grid.Row="4" AlternatingRowBackground="{StaticResource AlternateRowBackgroundBrush}" Grid.ColumnSpan="3" IsTextSearchEnabled="True" TextSearch.Text="Name"
              CanUserAddRows="False" HeadersVisibility="Column" SelectionUnit="Cell" ItemsSource="{Binding Path=MembersCollection,Mode=TwoWay}"  HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto"
              VerticalGridLinesBrush="{StaticResource GridLineColorBrush}" HorizontalGridLinesBrush="{StaticResource GridLineColorBrush}">
            <DataGrid.Resources>
                <Style TargetType="{x:Type DataGridCell}">
                    <Style.Triggers>
                        <Trigger Property="DataGridCell.IsSelected" Value="True">
                            <Setter Property="Background" Value="{StaticResource ButtonSelectedBrush}"  />
                            <Setter Property="BorderBrush" Value="#A8E3FC" />
                            <Setter Property="Foreground" Value="Black" />
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </DataGrid.Resources>

            <DataGrid.Columns>

                <DataGridCheckBoxColumn Binding="{Binding IsCheck,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Width="50">
                    <DataGridCheckBoxColumn.ElementStyle>
                        <Style TargetType="CheckBox">
                            <Setter Property="HorizontalAlignment" Value="Center"/>
                            <Setter Property="VerticalAlignment" Value="Center"/>
                        </Style>
                    </DataGridCheckBoxColumn.ElementStyle>
                </DataGridCheckBoxColumn>
                <DataGridTextColumn Header="Member Name" Binding="{Binding Name,Mode=TwoWay}" IsReadOnly="True" Width="*"/>

            </DataGrid.Columns>
        </DataGrid> 
```

我需要一个快速的解决方案

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-08-21T13:26:55.283

我今天偶然发现了这个问题，以找到解决同一问题的方法。虽然`TextSearch`在 2012 年显然不可用，但目前是可用的。

因此，为了将来参考，下面是我目前针对此问题的解决方案，并添加了三个属性`IsTextSearchCaseSensitive`：`IsTextSearchEnabled`和`TextSearch.TextPath`.

```
<DataGrid ItemsSource="{Binding Path=Directories, Mode=OneWay}"
          SelectedItem="{Binding Path=SelectedDirectory, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
          EnableRowVirtualization="False"
          EnableColumnVirtualization="True"
          VirtualizingStackPanel.IsVirtualizing="False"
          VirtualizingStackPanel.VirtualizationMode="Standard"
          IsTextSearchCaseSensitive="False"
          IsTextSearchEnabled="True"
          TextSearch.TextPath="Name">
   <DataGrid.Columns>
      <DataGridTemplateColumn Header="Name" SortMemberPath="Name" />
   </DataGrid.Columns>
</DataGrid> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-11T08:23:39.283

```
<TextBox TextChanged="TextBox_TextChanged"/>

private void TextBox_TextChanged(object sender, TextChangedEventArgs e)
{
      var view = CollectionViewSource.GetDefaultView((DataContext as MyViewModel).MembersCollection);
      view.Filter = o => (o as Member).Name.Contains((sender as TextBox).Text);
} 
```

我希望它足够快:)

# image - 在 Bootstraps 导航栏中居中图像/徽标？

> ID：13815620
> 
> 赞同：3
> 
> 时间：2012-12-11T07:35:04.027
> 
> 标签：image, twitter, twitter-bootstrap, centering, navbar

因此，我目前将徽标放在导航栏的最左侧，但我希望它位于中间。我已经在这些论坛和谷歌搜索上尝试了几乎所有东西，但我似乎无法改变它。

这是它的代码：

```
<div class="navbar navbar-inverse navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container-fluid">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
      <a class="brand" href="#">
      <img alt="logo.png"src="img/logo.png" style="height:60px;>          

</div> 
```

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-12T07:23:59.237

这是一个将徽标放在工具栏中间的示例：http: [//jsbin.com/efagoj/1/edit](http://jsbin.com/efagoj/1/edit)。

您需要做的唯一关键更改是为`float: none; margin: 0 auto;`标签`a`提供`.brand`类。我们添加`float: none;`是因为在 bootstrap`.brand`中有一个`float: left;`，我们不希望它是那样的。`margin: 0 auto;`是使链接居中。

我们还需要添加`text-align: center;`到 div 中`container-fluid`。

# windows-8 - 使用 WinRt 列出和连接 WiFi

> ID：13815621
> 
> 赞同：2
> 
> 时间：2012-12-11T07:35:04.653
> 
> 标签：windows-8, windows-runtime

在我的办公室里，我有 10 个 WiFi 路由器。我想列出所有这些（类似于 Windows 8 系统托盘中的网络图标）并通过 Win Rt 连接/断开其中一个。

我尝试了这些 API

```
 Windows::Networking::Connectivity::NetworkInformation::GetLanIdentifiers();
 Windows::Networking::Connectivity::NetworkInformation::GetConnectionProfiles();
 NetworkInformation::GetInternetConnectionProfile(); 
```

但是这些 Api 只列出连接的一个，它没有列出其他的

[我可以使用http://msdn.microsoft.com/en-us/library/windows/desktop/ms706716(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms706716(v=vs.85).aspx)来实现这一点。但我不确定 Windows 8 Metro 模式是否支持此 Api。

WinRt 是否为此提供 Api 支持？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-12T08:58:48.010

您无法从 Windows 应用程序连接/断开网络。您只能查看信息。原因是（对于 Microsoft）可以通过超级按钮栏从您的应用程序访问连接管理器。

> 此功能不向 Metro 风格应用程序公开。运营商的应用程序可以为其网络创建配置文件（具有已知的 SSID），但列出和连接到可见网络是由用户通过 Windows 连接管理 UI 控制的，而不是由应用程序控制。[迈克·毕晓普 [MSFT]，[在这里]](http://social.msdn.microsoft.com/Forums/en-US/winappswithnativecode/thread/43cf36c0-a906-41b6-b6a3-8fd512a2b4fa)

高级连接功能存在于[Windows.Networking.NetworkOperators](http://msdn.microsoft.com/fr-fr/library/windows/apps/br212049.aspx)中，这些功能仅适用于移动运营商应用程序和 Windows 应用商店应用程序，这些应用程序具有移动网络运营商的特权访问权限。

查看 Microsoft 的[网络信息示例](http://code.msdn.microsoft.com/windowsapps/Network-Information-Sample-63aaa201)，其中显示了您可以使用此 API 实现什么。

# xml - T-SQL 删除第一个 xml 行

> ID：13815623
> 
> 赞同：2
> 
> 时间：2012-12-11T07:35:12.800
> 
> 标签：xml, tsql, sql-server-2012, row

我有以下 XML：

```
<row>
  <el>Field1</el>
  <el>Field2</el>
  <el>Field3</el>
  <el>Field4</el>
  <el>Field5</el>
  <el>Field6</el>
</row>
<row>
  <el>R1C1</el>
  <el>R1C2</el>
  <el>R1C3</el>
  <el>R1C4</el>
  <el>R1C5</el>
  <el>R1C6</el>
</row>
<row>
  <el>R2C1</el>
  <el>R2C2</el>
  <el>R2C3</el>
  <el>R2C4</el>
  <el>R2C5</el>
  <el>R2C6</el>
</row>
<row> 
```

我想删除第一行？我需要这样做才能在表中插入给定 XML 结构的第二行和第三行。这就是我正在做的事情：

```
SET @TSVDataXML = '<row>' + REPLACE( ( '<el><![CDATA[' + REPLACE(@CommentText, CHAR(9), ']]></el><el><![CDATA[') + ']]></el>' ), CHAR(13), ']]></el></row><row><el><![CDATA[' ) + '</row>'
SELECT @TSVDataXML
INSERT INTO @ResultTable(Field1,Field2,Field3,Field4,Field5,Field6)
SELECT tbl.col.value('el[1]','NVARCHAR(20)')
      ,tbl.col.value('el[2]','NVARCHAR(20)')
      ,tbl.col.value('el[3]','NVARCHAR(20)')
      ,tbl.col.value('el[4]','NVARCHAR(20)')
      ,tbl.col.value('el[5]','NVARCHAR(20)')
      ,tbl.col.value('el[6]','NVARCHAR(20)')
FROM @TSVDataXML.nodes('//row') AS tbl(col) 
```

因此，我的问题的替代解决方案是添加一个未插入第一行的 where 子句。不幸的是，我在 XML 方面不是很擅长。

任何建议、答案或文章都会有所帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T07:42:01.663

这将删除 XML 中的第一行。

```
set @TSVDataXML.modify('delete row[1]') 
```

看看[删除（XML DML）](http://msdn.microsoft.com/en-us/library/ms190254.aspx)

[或者，您可以使用position()](http://msdn.microsoft.com/en-us/library/ms191225.aspx)排除节点 XPath 表达式中的第一行。

```
from @TSVDataXML.nodes('//row[position() > 1]') as tbl(col) 
```

# ajax - 在 Jquery Ajax 调用中使用 On success 函数

> ID：13815627
> 
> 赞同：0
> 
> 时间：2012-12-11T07:35:22.780
> 
> 标签：ajax, jquery

我有一个名为 Widget.js 的 .js 类 在 widget.js 类中，我正在启动一个 errors.ascx 控件类，其中定义了一个 JS 脚本函数“GetErrors()”。现在，当我从 widgets.js 类中调用 GetErrors 时，它工作得非常好。我必须使用 GetErrors() 函数的输出在 widgets.js 中填充一些控件。但问题是有时 GetErrors() 需要花费大量时间来执行，并且控件会运行到我的小部件类。并且控件被填充，其中没有任何数据。

所以底线是我需要知道 Jquery 的 OnSuccess 函数的确切用法。

这是我的errors.ascx代码

```
var WidgetInstance = function () {
        this.GetErrors = function () {
                       $.ajax({
                url: '/Management/GetLoggedOnUsersByMinutes/',
                type: 'GET',
                cache: false,
                success: function (result) {
                    result = (typeof (result) == "object") ? result : $.parseJSON(result);
                    loggedOnUsers = result;
                }
            });
        },..... 
```

Widgets.js 文件的代码是

```
function CreateWidgetInstance() {
    widgetInstance = new WidgetInstance();
    widgetInstance.GetErrors();
    } 
```

现在我想要控制应该从

```
widgetInstance.GetErrors(); 
```

只有当它产生结果时。

任何帮助？？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:54:28.890

您可以使用 jQuery [Deferreds](http://api.jquery.com/category/deferred-object/)。$.ajax() 实际上返回一个承诺。因此，您可以执行以下操作：

```
var WidgetInstance = function () {
    this.GetErrors = function () {
                   return $.ajax({
                            url: '/Management/GetLoggedOnUsersByMinutes/',
                            type: 'GET',
                            cache: false
                   });
    },..... 
```

然后你可以像这样处理结果......

```
widgetInstance.GetErrors().done(function(result){
    //process the resulting data from the request here
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:56:58.637

嗨，只需`async:false`在您的 AJAX 调用中使用。它会阻止控件，直到响应到达客户端...

```
var WidgetInstance = function () {
        this.GetErrors = function () {
                       $.ajax({
                url: '/Management/GetLoggedOnUsersByMinutes/',
                type: 'GET',
                cache: false,
                async: false,
                success: function (result) {
                    result = (typeof (result) == "object") ? result : $.parseJSON(result);
                    loggedOnUsers = result;
                }
            });
        },..... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-14T07:56:06.170

我为此做了一个简单的解决方案。我只是在我的控件的 GetErrors() 的 onSuccess 事件中调用了我的填充函数，并且一切正常。

# c# - 如何从列表创建 csv 文件

> ID：13815634
> 
> 赞同：21
> 
> 时间：2012-12-11T07:36:21.757
> 
> 标签：c#, linq, csv

谁能帮我从 List 创建一个 csv 文件，我的情况是，我在 List 中有一个多维值，如下所示

```
List<string[]> lst = new List<string[]>();
lst= csv1.ToList(); 
```

lst 包含以下值，

```
lst[0] = {string[53]}
lst[1] = {string[53]}
lst[2] = {string[53]}
lst[3] = {string[53]}
lst[4] = {string[53]} 
```

和 string[53] 包含像这样的值

```
lst[0]
    string[0] = "abc"
    string[1] = "def"
    string[2] = "ghi"
    string[3] = "jkl"
    string[4] = "mno"
    ...
lst[1]
    string[0] = "123"
    string[1] = "456"
    string[2] = "789"
    string[3] = "10"
    string[4] = "11"
    ... 
```

我只是想将此多维列表写入 csv 文件，因为 lst[] 中的每个项目都写入 csv 中的行，而 string[] 中的每个项目都写入列，这样我的 csv 中的最终输出是

```
abc,def,ghi,jkl,mno
123,456,789,10,11 
```

任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-12-11T07:41:52.283

使用 linq：

```
File.WriteAllLines("text.txt", lst.Select(x => string.Join(",", x))); 
```

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2012-12-11T07:39:45.600

在最简单的层面上，不处理引用/转义/多行 CSV 问题，然后循环；也许是这样的：

```
 using (var file = File.CreateText(path))
    {
        foreach(var arr in lst)
        {
           file.WriteLine(string.Join(",", arr));
        }
    } 
```

或者更*高效*一点（没有中间字符串）：

```
 using (var file = File.CreateText(path))
    {
        foreach (var arr in lst)
        {
            if (String.IsNullOrEmpty(arr)) continue;
            file.Write(arr[0]);
            for(int i = 1 ; i < arr.Length ; i++)
            {
                file.Write(',');
                file.Write(arr[i]);
            }
            file.WriteLine();
        }
    } 
```

# javascript - 具有正确行号的 console.log 的正确包装器？

> ID：13815640
> 
> 赞同：166
> 
> 时间：2012-12-11T07:36:56.073
> 
> 标签：javascript

我现在正在开发一个应用程序，并放置一个全局`isDebug`开关。我想换行`console.log`以方便使用。

```
//isDebug controls the entire site.
var isDebug = true;

//debug.js
function debug(msg, level){
    var Global = this;
    if(!(Global.isDebug && Global.console && Global.console.log)){
        return;
    }
    level = level||'info';
    Global.console.log(level + ': '+ msg);
}

//main.js
debug('Here is a msg.'); 
```

然后我在 Firefox 控制台中得到这个结果。

```
info: Here is a msg.                       debug.js (line 8) 
```

如果我想用`debug()`被调用的行号记录怎么办，比如`info: Here is a msg. main.js (line 2)`？

* * *

## 回答 #1

> 赞同：130
> 
> 时间：2015-10-04T00:21:17.887

这是一个老问题，提供的所有答案都过于老套，存在重大的跨浏览器问题，并且没有提供任何超级有用的东西。该解决方案适用于每个浏览器，并准确地报告所有控制台数据。无需 hack，只需一行代码[查看 codepen](http://codepen.io/anon/pen/pjeZPL?editors=101)。

```
var debug = console.log.bind(window.console) 
```

像这样创建开关：

```
isDebug = true // toggle this to turn on / off for global controll

if (isDebug) var debug = console.log.bind(window.console)
else var debug = function(){} 
```

然后简单地调用如下：

```
debug('This is happening.') 
```

您甚至可以使用如下开关接管 console.log：

```
if (!isDebug) console.log = function(){} 
```

如果你想用它做一些有用的事情。你可以添加所有控制台方法并将其包装在一个可重用的函数中，该函数不仅提供全局控制，还提供类级别：

```
var Debugger = function(gState, klass) {

  this.debug = {}

  if (gState && klass.isDebug) {
    for (var m in console)
      if (typeof console[m] == 'function')
        this.debug[m] = console[m].bind(window.console, klass.toString()+": ")
  }else{
    for (var m in console)
      if (typeof console[m] == 'function')
        this.debug[m] = function(){}
  }
  return this.debug
}

isDebug = true //global debug state

debug = Debugger(isDebug, this)

debug.log('Hello log!')
debug.trace('Hello trace!') 
```

现在您可以将其添加到您的课程中：

```
var MyClass = function() {
  this.isDebug = true //local state
  this.debug = Debugger(isDebug, this)
  this.debug.warn('It works in classses')
} 
```

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2013-02-12T20:41:32.923

我喜欢[@fredrik 的答案](https://stackoverflow.com/a/13815746/1037948)，所以我将它与[另一个拆分 Webkit](https://stackoverflow.com/a/3806596/1037948)堆栈跟踪的答案卷起来，并将其与[@PaulIrish 的安全 console.log 包装器](http://paulirish.com/2009/log-a-lightweight-wrapper-for-consolelog/)合并。将其“标准化”`filename:line`为“特殊对象”，因此它在 FF 和 Chrome 中脱颖而出并且看起来几乎相同。

小提琴测试：http: [//jsfiddle.net/drzaus/pWe6W/](http://jsfiddle.net/drzaus/pWe6W/)

```
_log = (function (undefined) {
    var Log = Error; // does this do anything?  proper inheritance...?
    Log.prototype.write = function (args) {
        /// <summary>
        /// Paulirish-like console.log wrapper.  Includes stack trace via @fredrik SO suggestion (see remarks for sources).
        /// </summary>
        /// <param name="args" type="Array">list of details to log, as provided by `arguments`</param>
        /// <remarks>Includes line numbers by calling Error object -- see
        /// * http://paulirish.com/2009/log-a-lightweight-wrapper-for-consolelog/
        /// * https://stackoverflow.com/questions/13815640/a-proper-wrapper-for-console-log-with-correct-line-number
        /// * https://stackoverflow.com/a/3806596/1037948
        /// </remarks>

        // via @fredrik SO trace suggestion; wrapping in special construct so it stands out
        var suffix = {
            "@": (this.lineNumber
                    ? this.fileName + ':' + this.lineNumber + ":1" // add arbitrary column value for chrome linking
                    : extractLineNumberFromStack(this.stack)
            )
        };

        args = args.concat([suffix]);
        // via @paulirish console wrapper
        if (console && console.log) {
            if (console.log.apply) { console.log.apply(console, args); } else { console.log(args); } // nicer display in some browsers
        }
    };
    var extractLineNumberFromStack = function (stack) {
        /// <summary>
        /// Get the line/filename detail from a Webkit stack trace.  See https://stackoverflow.com/a/3806596/1037948
        /// </summary>
        /// <param name="stack" type="String">the stack string</param>

        if(!stack) return '?'; // fix undefined issue reported by @sigod

        // correct line number according to how Log().write implemented
        var line = stack.split('\n')[2];
        // fix for various display text
        line = (line.indexOf(' (') >= 0
            ? line.split(' (')[1].substring(0, line.length - 1)
            : line.split('at ')[1]
            );
        return line;
    };

    return function (params) {
        /// <summary>
        /// Paulirish-like console.log wrapper
        /// </summary>
        /// <param name="params" type="[...]">list your logging parameters</param>

        // only if explicitly true somewhere
        if (typeof DEBUGMODE === typeof undefined || !DEBUGMODE) return;

        // call handler extension which provides stack trace
        Log().write(Array.prototype.slice.call(arguments, 0)); // turn into proper array
    };//--  fn  returned

})();//--- _log 
```

* * *

这也适用于节点，您可以使用以下方法对其进行测试：

```
// no debug mode
_log('this should not appear');

// turn it on
DEBUGMODE = true;

_log('you should', 'see this', {a:1, b:2, c:3});
console.log('--- regular log ---');
_log('you should', 'also see this', {a:4, b:8, c:16});

// turn it off
DEBUGMODE = false;

_log('disabled, should not appear');
console.log('--- regular log2 ---'); 
```

* * *

## 回答 #3

> 赞同：22
> 
> 时间：2013-09-22T02:52:07.910

您可以通过一些巧妙的使用来维护行号**并**[`Function.prototype.bind`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind)输出日志级别：

```
function setDebug(isDebug) {
  if (window.isDebug) {
    window.debug = window.console.log.bind(window.console, '%s: %s');
  } else {
    window.debug = function() {};
  }
}

setDebug(true);

// ...

debug('level', 'This is my message.'); // --> level: This is my message. (line X) 
```

更进一步，您可以利用`console`' 的错误/警告/信息区别并且仍然具有自定义级别。[**尝试一下！**](http://jsfiddle.net/namuol/ZMGuu/)

```
function setDebug(isDebug) {
  if (isDebug) {
    window.debug = {
      log: window.console.log.bind(window.console, '%s: %s'),
      error: window.console.error.bind(window.console, 'error: %s'),
      info: window.console.info.bind(window.console, 'info: %s'),
      warn: window.console.warn.bind(window.console, 'warn: %s')
    };
  } else {
    var __no_op = function() {};

    window.debug = {
      log: __no_op,
      error: __no_op,
      warn: __no_op,
      info: __no_op
    }
  }
}

setDebug(true);

// ...

debug.log('wat', 'Yay custom levels.'); // -> wat: Yay custom levels.    (line X)
debug.info('This is info.');            // -> info: This is info.        (line Y)
debug.error('Bad stuff happened.');     // -> error: Bad stuff happened. (line Z) 
```

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2021-03-01T01:23:16.010

听 McFly，这是唯一对我有用的东西：

```
let debug = true;
Object.defineProperty(this, "log", {get: function () {
  return debug ? console.log.bind(window.console, '['+Date.now()+']', '[DEBUG]') 
               : function(){};}
});

// usage:
log('Back to the future');
// outputs:
[1624398754679] [DEBUG] Back to the future 
```

美妙之处在于避免另一个函数调用，例如`log('xyz')()` 创建包装对象甚至类。它也是 ES5 安全的。

如果您不想要前缀，只需删除参数。

**更新**包括当前时间戳以作为每个日志输出的前缀。

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2012-12-11T07:44:39.190

来自：[如何获取 JavaScript 调用函数行号？如何获取 JavaScript 调用者源 URL？](https://stackoverflow.com/questions/1340872/how-to-get-javascript-caller-function-line-number-how-to-get-javascript-caller) 该`Error`对象具有行号属性（在 FF 中）。所以这样的事情应该有效：

```
var err = new Error();
Global.console.log(level + ': '+ msg + 'file: ' + err.fileName + ' line:' + err.lineNumber); 
```

在 Webkit 浏览器中，您有`err.stack`一个表示当前调用堆栈的字符串。它将显示当前行号和更多信息。

**更新**

要获得正确的行号，您需要在该行上调用错误。就像是：

```
var Log = Error;
Log.prototype.write = function () {
    var args = Array.prototype.slice.call(arguments, 0),
        suffix = this.lineNumber ? 'line: '  + this.lineNumber : 'stack: ' + this.stack;

    console.log.apply(console, args.concat([suffix]));
};

var a = Log().write('monkey' + 1, 'test: ' + 2);

var b = Log().write('hello' + 3, 'test: ' + 4); 
```

* * *

## 回答 #6

> 赞同：9
> 
> 时间：2013-04-16T20:32:58.717

保留行号的方法在这里：[https](https://gist.github.com/bgrins/5108712) ://gist.github.com/bgrins/5108712 。它或多或少归结为：

```
if (Function.prototype.bind) {
    window.log = Function.prototype.bind.call(console.log, console);
}
else {
    window.log = function() { 
        Function.prototype.apply.call(console.log, console, arguments);
    };
} 
```

如果您不进行调试，您可以将其包装`isDebug`并设置`window.log`为。`function() { }`

* * *

## 回答 #7

> 赞同：9
> 
> 时间：2017-02-05T20:52:13.537

我找到了一个简单的解决方案，将接受的答案（绑定到 console.log/error/etc）与一些外部逻辑结合起来，以过滤实际记录的内容。

```
// or window.log = {...}
var log = {
  ASSERT: 1, ERROR: 2, WARN: 3, INFO: 4, DEBUG: 5, VERBOSE: 6,
  set level(level) {
    if (level >= this.ASSERT) this.a = console.assert.bind(window.console);
    else this.a = function() {};
    if (level >= this.ERROR) this.e = console.error.bind(window.console);
    else this.e = function() {};
    if (level >= this.WARN) this.w = console.warn.bind(window.console);
    else this.w = function() {};
    if (level >= this.INFO) this.i = console.info.bind(window.console);
    else this.i = function() {};
    if (level >= this.DEBUG) this.d = console.debug.bind(window.console);
    else this.d = function() {};
    if (level >= this.VERBOSE) this.v = console.log.bind(window.console);
    else this.v = function() {};
    this.loggingLevel = level;
  },
  get level() { return this.loggingLevel; }
};
log.level = log.DEBUG; 
```

用法：

```
log.e('Error doing the thing!', e); // console.error
log.w('Bonus feature failed to load.'); // console.warn
log.i('Signed in.'); // console.info
log.d('Is this working as expected?'); // console.debug
log.v('Old debug messages, output dominating messages'); // console.log; ignored because `log.level` is set to `DEBUG`
log.a(someVar == 2) // console.assert 
```

*   请注意，`console.assert`使用条件日志记录。
*   确保浏览器的开发工具显示所有消息级别！

* * *

## 回答 #8

> 赞同：8
> 
> 时间：2016-02-19T22:55:47.950

Chrome Devtools 可让您通过[Blackboxing](https://developer.chrome.com/devtools/docs/blackboxing)实现这一目标。您可以创建具有副作用、调用其他函数等的 console.log 包装器，并且仍然保留调用包装器函数的行号。

只需将一个小的 console.log 包装器放入一个单独的文件中，例如

```
(function() {
    var consolelog = console.log
    console.log = function() {
        // you may do something with side effects here.
        // log to a remote server, whatever you want. here
        // for example we append the log message to the DOM
        var p = document.createElement('p')
        var args = Array.prototype.slice.apply(arguments)
        p.innerText = JSON.stringify(args)
        document.body.appendChild(p)

        // call the original console.log function
        consolelog.apply(console,arguments)
    }
})() 
```

将其命名为 log-blackbox.js

然后转到 Chrome Devtools 设置并找到“黑盒”部分，为要黑盒的文件名添加模式，在本例中为 log-blackbox.js

* * *

## 回答 #9

> 赞同：7
> 
> 时间：2012-12-11T07:47:05.963

您可以将行号传递给您的调试方法，如下所示：

```
//main.js
debug('Here is a msg.', (new Error).lineNumber); 
```

在这里，`(new Error).lineNumber`将为您提供`javascript`代码中的当前行号。

* * *

## 回答 #10

> 赞同：5
> 
> 时间：2016-08-31T14:46:52.820

堆栈跟踪解决方案*显示*行号但不允许单击转到源，这是一个主要问题。保持这种行为的唯一解决方案是[绑定](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_objects/Function/bind)到原始函数。

绑定阻止包含中间逻辑，因为此逻辑会与行号混淆。然而，通过重新定义绑定函数和使用控制台[字符串替换](https://developer.mozilla.org/en-US/docs/Web/API/console#Using_string_substitutions)，一些额外的行为仍然是可能的。

[这个要点](https://gist.github.com/solendil/412d09202cea7b4544dcc57114c1151a)展示了一个简约的日志框架，它在 34 行中提供了模块、日志级别、格式和适当的可点击行号。将其用作满足您自己需求的基础或灵感。

```
var log = Logger.get("module").level(Logger.WARN);
log.error("An error has occured", errorObject);
log("Always show this."); 
```

* * *

编辑：下面包括的要点

```
/*
 * Copyright 2016, Matthieu Dumas
 * This work is licensed under the Creative Commons Attribution 4.0 International License.
 * To view a copy of this license, visit http://creativecommons.org/licenses/by/4.0/
 */

/* Usage : 
 * var log = Logger.get("myModule") // .level(Logger.ALL) implicit
 * log.info("always a string as first argument", then, other, stuff)
 * log.level(Logger.WARN) // or ALL, DEBUG, INFO, WARN, ERROR, OFF
 * log.debug("does not show")
 * log("but this does because direct call on logger is not filtered by level")
 */
var Logger = (function() {
    var levels = {
        ALL:100,
        DEBUG:100,
        INFO:200,
        WARN:300,
        ERROR:400,
        OFF:500
    };
    var loggerCache = {};
    var cons = window.console;
    var noop = function() {};
    var level = function(level) {
        this.error = level<=levels.ERROR ? cons.error.bind(cons, "["+this.id+"] - ERROR - %s") : noop;
        this.warn = level<=levels.WARN ? cons.warn.bind(cons, "["+this.id+"] - WARN - %s") : noop;
        this.info = level<=levels.INFO ? cons.info.bind(cons, "["+this.id+"] - INFO - %s") : noop;
        this.debug = level<=levels.DEBUG ? cons.log.bind(cons, "["+this.id+"] - DEBUG - %s") : noop;
        this.log = cons.log.bind(cons, "["+this.id+"] %s");
        return this;
    };
    levels.get = function(id) {
        var res = loggerCache[id];
        if (!res) {
            var ctx = {id:id,level:level}; // create a context
            ctx.level(Logger.ALL); // apply level
            res = ctx.log; // extract the log function, copy context to it and returns it
            for (var prop in ctx)
                res[prop] = ctx[prop];
            loggerCache[id] = res;
        }
        return res;
    };
    return levels; // return levels augmented with "get"
})();
```

* * *

## 回答 #11

> 赞同：4
> 
> 时间：2012-12-11T07:52:39.460

如果您只是想控制是否使用调试并具有正确的行号，则可以这样做：

```
if(isDebug && window.console && console.log && console.warn && console.error){
    window.debug = {
        'log': window.console.log,
        'warn': window.console.warn,
        'error': window.console.error
    };
}else{
    window.debug = {
        'log': function(){},
        'warn': function(){},
        'error': function(){}
    };
} 
```

当您需要访问调试时，您可以这样做：

```
debug.log("log");
debug.warn("warn");
debug.error("error"); 
```

如果`isDebug == true`, 控制台中显示的行号和文件名将是正确的，因为`debug.log`etc 实际上是 etc 的别名`console.log`。

如果`isDebug == false`，则不显示任何调试消息，因为`debug.log`etc 根本不执行任何操作（一个空函数）。

如您所知，包装函数会弄乱行号和文件名，因此最好避免使用包装函数。

* * *

## 回答 #12

> 赞同：4
> 
> 时间：2017-03-17T15:05:39.240

这是一种`console`在将文件名和行号或其他堆栈跟踪信息添加到输出时保留现有日志记录语句的方法：

```
(function () {
  'use strict';
  var isOpera = !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;
  var isChrome = !!window.chrome && !!window.chrome.webstore;
  var isIE = /*@cc_on!@*/false || !!document.documentMode;
  var isEdge = !isIE && !!window.StyleMedia;
  var isPhantom = (/PhantomJS/).test(navigator.userAgent);
  Object.defineProperties(console, ['log', 'info', 'warn', 'error'].reduce(function (props, method) {
    var _consoleMethod = console[method].bind(console);
    props[method] = {
      value: function MyError () {
        var stackPos = isOpera || isChrome ? 2 : 1;
        var err = new Error();
        if (isIE || isEdge || isPhantom) { // Untested in Edge
          try { // Stack not yet defined until thrown per https://docs.microsoft.com/en-us/scripting/javascript/reference/stack-property-error-javascript
            throw err;
          } catch (e) {
            err = e;
          }
          stackPos = isPhantom ? 1 : 2;
        }

        var a = arguments;
        if (err.stack) {
          var st = err.stack.split('\n')[stackPos]; // We could utilize the whole stack after the 0th index
          var argEnd = a.length - 1;
          [].slice.call(a).reverse().some(function(arg, i) {
            var pos = argEnd - i;
            if (typeof a[pos] !== 'string') {
              return false;
            }
            if (typeof a[0] === 'string' && a[0].indexOf('%') > -1) { pos = 0 } // If formatting
            a[pos] += ' \u00a0 (' + st.slice(0, st.lastIndexOf(':')) // Strip out character count
              .slice(st.lastIndexOf('/') + 1) + ')'; // Leave only path and line (which also avoids ":" changing Safari console formatting)
            return true;
          });
        }
        return _consoleMethod.apply(null, a);
      }
    };
    return props;
  }, {}));
}()); 
```

然后像这样使用它：

```
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <script src="console-log.js"></script>
</head>
<body>
  <script>
  function a () {
    console.log('xyz'); // xyz   (console-log.html:10)
  }
  console.info('abc'); // abc   (console-log.html:12)
  console.log('%cdef', "color:red;"); // (IN RED:) // def   (console-log.html:13)
  a();
  console.warn('uuu'); // uuu   (console-log.html:15)
  console.error('yyy'); // yyy   (console-log.html:16)
  </script>
</body>
</html> 
```

这适用于 Firefox、Opera、Safari、Chrome 和 IE 10（尚未在 IE11 或 Edge 上测试）。

* * *

## 回答 #13

> 赞同：3
> 
> 时间：2018-06-23T23:55:22.297

绑定的想法`Function.prototype.bind`很棒。您还可以使用 npm 库[lines-logger](https://www.npmjs.com/package/lines-logger)。它显示原始源文件：

在您的项目中创建记录器任何人一次：

```
var LoggerFactory = require('lines-logger').LoggerFactory;
var loggerFactory = new LoggerFactory();
var logger = loggerFactory.getLoggerColor('global', '#753e01'); 
```

打印日志：

```
logger.log('Hello world!')(); 
```

[![在此处输入图像描述](../Images/0e28b9bde5653ed8785f184f6e5d149d.png)](https://i.stack.imgur.com/kuInz.png)

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2012-12-11T07:56:47.893

```
//isDebug controls the entire site.
var isDebug = true;

//debug.js
function debug(msg, level){
    var Global = this;
    if(!(Global.isDebug && Global.console && Global.console.log)){
        return;
    }
    level = level||'info';
    return 'console.log(\'' + level + ': '+ JSON.stringify(msg) + '\')';
}

//main.js
eval(debug('Here is a msg.')); 
```

这会给我`info: "Here is a msg." main.js(line:2)`。

但是`eval`需要额外的，可惜。

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2016-06-24T08:47:01.773

我最近一直在看这个问题。需要一些非常直接的东西来控制日志记录，但也需要保留行号。我的解决方案在代码中看起来并不优雅，但提供了我需要的东西。如果一个人在关闭和保留方面足够小心。

我在应用程序的开头添加了一个小包装器：

```
window.log = {
    log_level: 5,
    d: function (level, cb) {
        if (level < this.log_level) {
            cb();
        }
    }
}; 
```

所以以后我可以简单地做：

```
log.d(3, function(){console.log("file loaded: utils.js");}); 
```

我已经对 firefox 和 crome 进行了测试，两种浏览器似乎都按预期显示了控制台日志。如果你这样填写，你总是可以扩展 'd' 方法并将其他参数传递给它，以便它可以做一些额外的日志记录。

还没有发现我的方法有任何严重的缺点，除了用于记录的代码中的丑陋行。

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2018-01-16T15:52:00.207

一个小的变化是让 debug() 返回一个函数，然后在你需要的地方执行它 - debug(message)(); 因此在控制台窗口中正确显示了正确的行号和调用脚本，同时允许重定向作为警报或保存到文件等变化。

```
var debugmode='console';
var debugloglevel=3;

function debug(msg, type, level) {

  if(level && level>=debugloglevel) {
    return(function() {});
  }

  switch(debugmode) {
    case 'alert':
      return(alert.bind(window, type+": "+msg));
    break;
    case 'console':
      return(console.log.bind(window.console, type+": "+msg));
    break;
    default:
      return (function() {});
  }

} 
```

由于它返回一个函数，因此该函数需要在调试行使用 (); 执行。其次，消息被发送到调试函数，而不是返回的函数，允许预处理或检查您可能需要的内容，例如检查日志级别状态、使消息更具可读性、跳过不同类型或仅报告项目满足日志级别标准；

```
debug(message, "serious", 1)();
debug(message, "minor", 4)(); 
```

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2020-04-03T16:59:52.907

此实现基于所选答案，有助于减少错误控制台中的噪音：[https ://stackoverflow.com/a/32928812/516126](https://stackoverflow.com/a/32928812/516126)

```
var Logging = Logging || {};

const LOG_LEVEL_ERROR = 0,
    LOG_LEVEL_WARNING = 1,
    LOG_LEVEL_INFO = 2,
    LOG_LEVEL_DEBUG = 3;

Logging.setLogLevel = function (level) {
    const NOOP = function () { }
    Logging.logLevel = level;
    Logging.debug = (Logging.logLevel >= LOG_LEVEL_DEBUG) ? console.log.bind(window.console) : NOOP;
    Logging.info = (Logging.logLevel >= LOG_LEVEL_INFO) ? console.log.bind(window.console) : NOOP;
    Logging.warning = (Logging.logLevel >= LOG_LEVEL_WARNING) ? console.log.bind(window.console) : NOOP;
    Logging.error = (Logging.logLevel >= LOG_LEVEL_ERROR) ? console.log.bind(window.console) : NOOP;

}

Logging.setLogLevel(LOG_LEVEL_INFO); 
```

* * *

## 回答 #18

> 赞同：1
> 
> 时间：2020-07-01T12:18:15.533

这是我的记录器功能（基于一些答案）。希望有人可以使用它：

```
const DEBUG = true;

let log = function ( lvl, msg, fun ) {};

if ( DEBUG === true ) {
    log = function ( lvl, msg, fun ) {
        const d = new Date();
        const timestamp = '[' + d.getHours() + ':' + d.getMinutes() + ':' +
            d.getSeconds() + '.' + d.getMilliseconds() + ']';
        let stackEntry = new Error().stack.split( '\n' )[2];
        if ( stackEntry === 'undefined' || stackEntry === null ) {
            stackEntry = new Error().stack.split( '\n' )[1];
        }
        if ( typeof fun === 'undefined' || fun === null ) {
            fun = stackEntry.substring( stackEntry.indexOf( 'at' ) + 3,
                stackEntry.lastIndexOf( ' ' ) );
            if ( fun === 'undefined' || fun === null || fun.length <= 1 ) {
                fun = 'anonymous';
            }
        }
        const idx = stackEntry.lastIndexOf( '/' );
        let file;
        if ( idx !== -1 ) {
            file = stackEntry.substring( idx + 1, stackEntry.length - 1 );
        } else {
            file = stackEntry.substring( stackEntry.lastIndexOf( '\\' ) + 1,
                stackEntry.length - 1 );
        }
        if ( file === 'undefined' || file === null ) {
            file = '<>';
        }

        const m = timestamp + ' ' + file + '::' + fun + '(): ' + msg;

        switch ( lvl ) {
        case 'log': console.log( m ); break;
        case 'debug': console.log( m ); break;
        case 'info': console.info( m ); break;
        case 'warn': console.warn( m ); break;
        case 'err': console.error( m ); break;
        default: console.log( m ); break;
        }
    };
} 
```

例子：

```
log( 'warn', 'log message', 'my_function' );
log( 'info', 'log message' ); 
```

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2014-02-12T23:23:22.017

我发现这个问题的一些答案对于我的需要来说有点太复杂了。这是一个简单的解决方案，用 Coffeescript 呈现。这是改编自 Brian Grinstead 的[版本](http://www.briangrinstead.com/blog/console-log-helper-function)

它假定全局控制台对象。

```
# exposes a global 'log' function that preserves line numbering and formatting.
(() ->
    methods = [
      'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',
      'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',
      'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',
      'timeStamp', 'trace', 'warn']
    noop = () ->
    # stub undefined methods.
    for m in methods  when  !console[m]
        console[m] = noop

    if Function.prototype.bind?
        window.log = Function.prototype.bind.call(console.log, console);
    else
        window.log = () ->
            Function.prototype.apply.call(console.log, console, arguments)
)() 
```

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2014-11-25T07:57:22.330

来自[http://www.briangrinstead.com/blog/console-log-helper-function](http://www.briangrinstead.com/blog/console-log-helper-function)的代码：

```
// Full version of `log` that:
//  * Prevents errors on console methods when no console present.
//  * Exposes a global 'log' function that preserves line numbering and formatting.
(function () {
  var method;
  var noop = function () { };
  var methods = [
      'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',
      'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',
      'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',
      'timeStamp', 'trace', 'warn'
  ];
  var length = methods.length;
  var console = (window.console = window.console || {});

  while (length--) {
    method = methods[length];

    // Only stub undefined methods.
    if (!console[method]) {
        console[method] = noop;
    }
  }

  if (Function.prototype.bind) {
    window.log = Function.prototype.bind.call(console.log, console);
  }
  else {
    window.log = function() { 
      Function.prototype.apply.call(console.log, console, arguments);
    };
  }
})();

var a = {b:1};
var d = "test";
log(a, d); 
```

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2016-12-18T17:50:42.840

```
window.line = function () {
    var error = new Error(''),
        brower = {
            ie: !-[1,], // !!window.ActiveXObject || "ActiveXObject" in window
            opera: ~window.navigator.userAgent.indexOf("Opera"),
            firefox: ~window.navigator.userAgent.indexOf("Firefox"),
            chrome: ~window.navigator.userAgent.indexOf("Chrome"),
            safari: ~window.navigator.userAgent.indexOf("Safari"), // /^((?!chrome).)*safari/i.test(navigator.userAgent)?
        },
        todo = function () {
            // TODO: 
            console.error('a new island was found, please told the line()\'s author(roastwind)');        
        },
        line = (function(error, origin){
            // line, column, sourceURL
            if(error.stack){
                var line,
                    baseStr = '',
                    stacks = error.stack.split('\n');
                    stackLength = stacks.length,
                    isSupport = false;
                // mac版本chrome(55.0.2883.95 (64-bit))
                if(stackLength == 11 || brower.chrome){
                    line = stacks[3];
                    isSupport = true;
                // mac版本safari(10.0.1 (12602.2.14.0.7))
                }else if(brower.safari){
                    line = stacks[2];
                    isSupport = true;
                }else{
                    todo();
                }
                if(isSupport){
                    line = ~line.indexOf(origin) ? line.replace(origin, '') : line;
                    line = ~line.indexOf('/') ? line.substring(line.indexOf('/')+1, line.lastIndexOf(':')) : line;
                }
                return line;
            }else{
                todo();
            }
            return '';
        })(error, window.location.origin);
    return line;
}
window.log = function () {
    var _line = window.line.apply(arguments.callee.caller),
        args = Array.prototype.slice.call(arguments, 0).concat(['\t\t\t@'+_line]);
    window.console.log.apply(window.console, args);
}
log('hello');
```

这是我关于这个问题的解决方案。当您调用方法时：log，它将打印您打印日志的行号

* * *

## 回答 #22

> 赞同：0
> 
> 时间：2017-04-20T02:23:08.900

我解决它的方法是创建一个对象，然后使用**Object.defineProperty()**在对象上创建一个新属性并返回控制台属性，该属性随后用作普通函数，但现在具有扩展能力。

```
var c = {};
var debugMode = true;

var createConsoleFunction = function(property) {
    Object.defineProperty(c, property, {
        get: function() {
            if(debugMode)
                return console[property];
            else
                return function() {};
        }
    });
}; 
```

然后，要定义一个属性，您只需...

```
createConsoleFunction("warn");
createConsoleFunction("log");
createConsoleFunction("trace");
createConsoleFunction("clear");
createConsoleFunction("error");
createConsoleFunction("info"); 
```

现在您可以像使用您的功能一样

```
c.error("Error!"); 
```

* * *

## 回答 #23

> 赞同：0
> 
> 时间：2019-08-15T16:26:18.157

基于其他答案（主要是@arctelix one），我为 Node ES6 创建了这个，但快速测试在浏览器中也显示出良好的结果。我只是将另一个函数作为参考传递。

```
let debug = () => {};
if (process.argv.includes('-v')) {
    debug = console.log;
    // debug = console; // For full object access
} 
```

* * *

## 回答 #24

> 赞同：0
> 
> 时间：2022-02-13T11:24:30.983

使用现代 javascript 和 getter，您可以编写如下内容：

```
window.Logger = {
    debugMode: true,
    get info() {
        if ( window.Logger.debugMode ) {
            return window.console.info.bind( window.console );
        } else {
            return () => {};
        }
    }
} 
```

它的好处是您可以打印出静态值和计算值，以及正确的行号。您甚至可以使用不同的设置定义多个记录器：

```
class LoggerClz {
    name = null;
    debugMode = true;
    constructor( name ) { this.name = name; }
    get info() {
        if ( this.debugMode ) {
            return window.console.info.bind( window.console, 'INFO', new Date().getTime(), this.name );
        } else {
            return () => {};
        }
    }
}

const Logger1 = new LoggerClz( 'foo' );
const Logger2 = new LoggerClz( 'bar' );

function test() {
    Logger1.info( '123' ); // INFO 1644750929128 foo 123 [script.js:18] 
    Logger2.info( '456' ); // INFO 1644750929128 bar 456 [script.js:19] 
}
test(); 
```

* * *

## 回答 #25

> 赞同：-1
> 
> 时间：2020-12-08T18:07:17.737

这里的所有解决方案都围绕着真正的问题——调试器应该能够忽略堆栈的一部分以给出有意义的行。**VSCode 的 js 调试器现在可以做到这一点。**在此编辑时，该功能可通过 js-debug 扩展的夜间构建获得。请参阅下一段中的链接。

我[在这里为 VSCode 的调试器提出了一个功能，](https://github.com/microsoft/vscode-js-debug/issues/882#issuecomment-740361545)它忽略驻留在启动配置的任何`skipFiles`文件路径中的堆栈顶部。该属性位于`launch.json`您的 vscode 工作区的配置中。因此，您可以创建一个负责包装 console.log 的文件/模块，将其添加到 中`skipFiles`，调试器将显示调用您跳过的文件而不是 console.log 本身的行。

它在 js-debug 扩展的每晚构建中。看起来它可能会出现在 Visual Studio 代码的下一个次要版本中。我已经使用夜间构建验证了它的工作原理。没有更多的hacky解决方法，耶！

# authentication - 在 Kohana 3.2 中设置跨站点身份验证的正确方法

> ID：13815641
> 
> 赞同：1
> 
> 时间：2012-12-11T07:36:55.660
> 
> 标签：authentication, cross-domain, oauth-2.0, hmvc, kohana-3.2

我目前正在运行两个 Kohana 3.2 应用程序：

1.  网络服务器
2.  Rest API Server（处理 Web 身份验证和所有数据库模型）

我们使用密码 granttype/2-legged oauth2 进行身份验证。当有人在 Web 服务器上执行登录时，API 身份验证请求将根据 Web 服务器上设置的 Auth::instance 响应发送到 API 服务器。到目前为止一切正常。

我们在 API 服务器上有一个自动 crud 控制器，但我想让它在登录 Web 服务器后仅对“管理员”帐户可用。我正在尝试找到一种方法将身份验证从`Auth::instance()->logged_in()`Web 服务器上传递回 API 服务器，以便仅当您已在 Web 服务器上登录时才能使用 crud 控制器。

关于如何实现这一目标的任何创造性建议？主要挑战是 API 服务器正在运行 ouath2 和 auth（ORM 驱动程序），但 Web 服务器正在运行基于成功的消费者 API 登录的自定义 Auth 驱动程序。

这是流程：

*   用户访问网络服务器
*   用户登录
*   Web 服务器向 API 服务器发送 oath2 认证请求
*   api 服务器访问客户端数据库验证请求，返回 access_token
*   `Auth::instance()->logged_in()`如果 access_token 存在，Web 服务器设置
*   根据管理员角色显示 CRUD 链接
*   CRUD 链接是 API 服务器上的控制器
*   **[需要验证用户在此处已通过身份验证]**
*   显示 CRUD 控制器（跨 URL 链接，不包括 HMVC 控制器）

任何帮助将不胜感激。

# verilog - 在 Verilog 中交换 2 个寄存器的最佳方法是什么

> ID：13815642
> 
> 赞同：3
> 
> 时间：2012-12-11T07:37:11.363
> 
> 标签：verilog

我知道交换 2 个寄存器的几种方法：使用 3 个异或，使用寄存器，使用多路复用器等......我们如何进行条件交换，它应该尽可能少地使用代码并尽可能快地工作

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-12T12:13:51.450

[Triple-XOR](http://en.wikipedia.org/wiki/XOR_swap_algorithm)是一种软件技巧，用于在没有直接寄存器交换指令（例如 x86 `XCHG`）的顺序机器上交换寄存器值。XOR 指令不能同时执行，因为它们每个都依赖于先前的输出，因此需要三个指令周期。

使用 Verilog，您正在描述硬件，因此您可以通过赋值在一个周期内交换两个寄存器的值。这将从彼此的输出推断两个寄存器的加载路径。

```
if (swap) begin
  a <= b;
  b <= a;
end 
```

您提到多路复用器 - 只有当有另一个负载路径时，多路复用器和控制逻辑才会根据需要进行实例化，例如。一些交换/增量设备将具有多路复用器，因为`a` 可以加载`b`或`a+1`.

```
if (swap) begin
  a <= b;
  b <= a;
end else begin
  a <= a+1;
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T11:50:01.567

简单的方法可能在 Verilog 中是最好的 - 只需使用非阻塞分配将它们相互分配

```
a <= b;
b <= a; 
```

合成器会做正确的事情。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-14T05:15:10.400

```
a <= b;
b <= a; 
```

这就是你需要做的。

# java - 在java中将html文件存储在字符串中

> ID：13815647
> 
> 赞同：0
> 
> 时间：2012-12-11T07:37:46.917
> 
> 标签：java, html, string, file

我正在使用 amazon java sdk 发送电子邮件。我必须将 html 模板作为邮件发送。我为此编写了一个程序，它运行良好。但现在我将整个 html 代码存储在一个字符串中。但是每当我需要编辑模板时，我都必须编辑程序（我的意思是字符串变量）。而且我还必须注意该html代码中的特殊字符，如“\ ...等。请建议我一种优雅的方式来解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:40:58.427

为此使用模板引擎并将模板存储在外部类路径或文件系统中。这是一个可以帮助您选择一个问题：[https ://stackoverflow.com/questions/2381619/best-template-engine-in-java](https://stackoverflow.com/questions/2381619/best-template-engine-in-java)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:42:28.147

使用[Apache Common Lang api](http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringEscapeUtils.html#escapeHtml%28java.lang.String%29) `StringEscapeUtils#escapeHtml`，它使用 HTML 实体转义字符串中的字符，并返回一个新的转义`String`字符，如果输入为 null，则返回 null `string`。

例如：

```
"US" & "UK" 
```

变成：

```
&quot;US&quot; &amp; &quot;UK&quot;. 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-11T07:43:40.877

检查[Apache Velocity 项目](http://velocity.apache.org/)。您可以为几件事创建模板。从它的[用户指南页面](http://velocity.apache.org/engine/devel/user-guide.html#What_is_Velocity)

> Velocity 可用于从模板生成网页、SQL、PostScript 和其他输出。它既可以用作生成源代码和报告的独立实用程序，也可以用作其他系统的集成组件。

您可以使用 VTL（速度模板语言）。来自上述链接的示例

```
<HTML>
<BODY>
Hello $customer.Name!
<table>
#foreach( $mud in $mudsOnSpecial )
   #if ( $customer.hasPurchased($mud) )
      <tr>
        <td>
          $flogger.getPromo( $mud )
        </td>
      </tr>
   #end
#end
</table> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-12T05:05:18.040

Better and easiest way is reading the html file line by line using simple file reading operation and append this each line to a single String. And also I found [this](https://stackoverflow.com/questions/12035316/reading-entire-html-file-to-string) solution (also a better one, if you are ready to add one more library file to your project) from SO.

# multithreading - 线程和 Map-Reduce 处理之间的区别？

> ID：13815653
> 
> 赞同：5
> 
> 时间：2012-12-11T07:38:03.063
> 
> 标签：multithreading, mapreduce

我的一位同事正在和我争论在我们的应用程序（文本处理）中引入 map-reduce 概念。他的观点是为什么我们不应该使用线程概念。我们都是这种 map-reduce 范式的新手。我认为使用 map-reduce 概念可以帮助开发人员摆脱处理线程同步、死锁、共享数据的开销。除了这个之外，还有什么可以用于 map-reduce 概念而不是线程？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-08-22T05:05:11.193

你可以找到相关的论文，[比较 Fork/Join 和 MapReduce](http://www.macs.hw.ac.uk/cs/techreps/docs/files/HW-MACS-TR-0096.pdf)。

该论文比较了三种并行范例的性能、可扩展性和可编程性：fork/join、MapReduce 和混合方法。

他们发现基本上 Java fork/join 具有较低的启动延迟，并且可以很好地适应小输入（<5MB），但由于共享内存、单节点架构的大小限制，它无法处理更大的输入。另一方面，MapReduce 具有显着的启动延迟（数十秒），但可以很好地扩展计算集群上更大的输入（>100MB）。

线程提供了以递归方式将任务划分为多个子任务的工具；更多的层，在这个阶段“跨叉”通信的可能性，更传统的编程。不延伸（至少在论文中）超出单台机器。非常适合利用您的八核。

MR 只进行一次大拆分，映射的拆分彼此之间根本不交谈，然后将所有内容缩减在一起。单层，在减少之前没有拆分间通信，并且可大规模扩展。非常适合利用您的云份额。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-11T08:45:14.217

Map-reduce 增加了大量的开销，但可以协调大量机器以实现“令人尴尬的并行”用例。只有当你有多个内核和一个主机时，线程才是值得的，但是有许多框架在原始线程（例如并发，Akka）之上添加了抽象层，这些抽象层通常更容易使用。

# powershell - 获取在 PowerShell 中复制的文件列表

> ID：13815656
> 
> 赞同：30
> 
> 时间：2012-12-11T07:38:13.017
> 
> 标签：powershell, copy-item

我正在使用 PowerShell`Copy-Item`命令将包含文件的目录复制到另一个位置。

我想在控制台上显示所有被复制的文件，以便我知道复制命令的状态。

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2012-12-11T10:23:44.343

如果您只想在控制台中看到它，请使用`-verbose`开关：

```
copy-item -path $from -destination $to -verbose 
```

如果要获取文件或目录的列表：

```
$files = copy-item -path $from -destination $to -passthru | ?{$_ -is [system.io.fileinfo]} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-11T08:10:48.743

```
$source=ls c:\temp *.*
$i=1
$source| %{
    [int]$percent = $i / $source.count * 100
    Write-Progress -Activity "Copying ... ($percent %)" -status $_  -PercentComplete $percent -verbose
    copy $_.fullName -Destination c:\test 
    $i++
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-03-29T17:50:56.410

我建议这样尝试：

```
(Copy-Item -Verbose C:\SrcDir\*.* c:\DstDir 4>&1).Message 
```

在这里，消息进入输出流/管道而不是详细流/管道，因此将更普遍地工作，例如在 TFS 任务脚本中。

# sql-server - 如何检查 SQL Server 中是否正在查询表

> ID：13815659
> 
> 赞同：0
> 
> 时间：2012-12-11T07:38:19.420
> 
> 标签：sql-server, sql-server-2008

我需要知道是否有任何方法可以确定 SQL Server 中的其他进程是否正在查询表。

我正在尝试合并表上的空分区，并且该表正在被许多进程查询。所以，我需要检查表是否正在被其他进程读取/插入，如果是，那么我的合并操作将不会继续。因为如果它运行，那么它会被锁定并随着时间的推移而失败。因此，有时我会用完分区，或者我必须手动运行它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T08:26:52.833

**如果不使用该表，**如何可能有助于了解查询？想一想，您获得的任何信息（“无查询”）**在您采取行动时已经过时了**。这不是要走的路，要走的路只是减少[锁定超时](http://msdn.microsoft.com/en-us/library/ms189470.aspx)并尝试执行您的操作：

```
SET LOCK_TIMEOUT 1;
ALTER PARTITION FUNCTION ... MERGE ... 
```

# php - 使用 OOP 的 PHP 计数器

> ID：13815660
> 
> 赞同：0
> 
> 时间：2012-12-11T07:38:31.100
> 
> 标签：php, class

我是 OOP 术语的新手，我正在尝试创建一个能够产生计数器的类。

我尝试下面的代码，但它只创建了一个内部值为 1 的 counter.txt 页面。我不知道它为什么不递增。

```
class LOGFILE {
    public function READ($FileName) {
        $handle = fopen($FileName, 'r');
        $fread = file_get_contents($FileName);
        return $fread;
        fclose($handle);
    }
    public function WRITE($FileName, $FileData) {
        $handle = fopen($FileName, 'w');
        $FileData = $fread +1;
        fwrite($handle, $FileData);
        fclose($handle);
    }
}
$logfile = new LOGFILE();

$logfile -> WRITE("counter.txt",$FileData);

echo $logfile -> READ("counter.txt"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:42:20.380

原因是和方法`$fread`都是局部变量。您需要为您的班级设置全局变量：`READ``WRITE``private`

```
class LOGFILE {
    private $fread;

    public function READ($FileName) {
        $this->fread = file_get_contents($FileName);
        return $this->fread; 
    }
    public function WRITE($FileName) {
            $this->READ($FileName);
        $handle = fopen($FileName, 'w');
        $FileData = $this->fread +1;
        fwrite($handle, $FileData);
        fclose($handle);
    }
}
$logfile = new LOGFILE();

$logfile -> WRITE("counter.txt");

echo $logfile -> READ("counter.txt"); 
```

**注意：**我已经删除了`fopen`，`fclose`因为`file_get_contents`不需要它。在写你可以使用[`file_put_contents`](http://php.net/manual/en/function.file-put-contents.php). 也删除了未使用的变量`$FileData`。在需要时创建变量方法和类始终是一个好习惯。

还可以查看如何命名类、变量、方法等的最佳实践。[这是最好的指南](http://framework.zend.com/manual/1.12/en/coding-standard.html)，IMO。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T08:05:27.040

让我们开始检查更正后的代码，看看缺少什么：

```
<?php

class LOGFILE {

    public function READ($FileName) {
        $handle = fopen($FileName, 'r');
        $fread = fgets($handle, 8192);
        fclose($handle);
        return $fread;        
    }

    public function WRITE($FileName, $FileData) {        
        $counter = $this->READ($FileName);        
        $handle = fopen($FileName, 'w');        
        fwrite($handle, $FileData + $counter);
        fclose($handle);
    }
}
$logfile = new LOGFILE();
$FileData = 1;
$logfile -> WRITE("counter.txt",$FileData);
echo $logfile -> READ("counter.txt")."\n";
$logfile -> WRITE("counter.txt",$FileData);
echo $logfile -> READ("counter.txt")."\n";

?> 
```

1.  在 READ 中使用 of`fgets`而不是`file_get_contents`（您可以选择使用 `file_get_contents`，但我宁愿与使用的其他功能保持一致`fopen`）

2.  在函数 WRITE 中使用 READ（代码重用原则）

3.  在 WRITE 中打开具有写权限的文件：`'w'`

4.  在里面`$FileData = 1;`

5.  无需持有私人会员：`$fread`

6.  最重要的是：不要在之后写语句`return`（就像你在 READ 中所做的那样） - 在之后写的语句`return`将不会被执行！

此解决方案已成功测试。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:45:38.830

OOP 必须在需要的地方使用。你需要一个简单的东西，所以不需要 OOP。

```
<?php

function addValue($file='counter.txt', $amount=1) {
    if( false == is_file($file) ) {
        return false;
    }
    $initial = file_get_contents($file);
    return @file_put_contents($initial+$amount);
}

addValue();

?> 
```

测试您对复杂事物的 OOP 知识，例如购物车或其他概念。

**编辑**//所以，如果您需要一个看起来很复杂的简单示例，请点击此处:)

```
<?php

class log {

    public $file = '';
    private $amount = 0;

    public function __construct( $file ) {
        $this->file = $file;
        $this->amount = 1;
    }

    public function makeAdd() {
        $initial = file_get_contents($this->file);
        return @file_put_contents($this->file, $initial + $this->amount);
    }

    function __call($f, $args) {
        switch( $f ) {
            case 'add':
                if(isset($args[0]) && !empty($args[0])) {
                    $this->amount = (int)$args[0];
                }
                if( $this->amount == 0 ) {
                    throw new Exception('Not a valid amount.');
                }
                return $this->makeAdd();
            break;
        }
    } 

}

try {

    // create log
    $L = new log('count.txt');

    // this will add 2
    var_dump($L->add(2));

    // this will also add 2
    var_dump($L->add());

    // until you rewrite the amount
    var_dump($L->add(1));

    // final result -> 5

} catch(Exception $e) {
    die($e->getMessage());
}

?> 
```

祝你好运！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-08-03T00:05:54.780

*   使用 UpperCamelCase 作为类名。`LogFile`，不是`LOGFILE`。当你有一个变量时，最有趣的是它应该持有对`is_a` `LogFile`你应该命名的东西的引用`logFile`。
*   函数使用 lowerCamelCase。读写，而不是读写
*   箭头运算符周围没有空格
*   方法中的 return 语句后面的代码永远无法到达，所以删除它。
*   read() 不使用 fopen 返回的句柄，所以不要调用 fopen
*   临时变量 $freed 并不能帮助我们理解代码，所以我们可能会丢失它
*   read 是一个有点不合常规的名字。如果我们将函数重命名为 getCount，它的作用会更明显。
*   你说你想做一个命中计数器。因此，将类从 LogFile 重命名为 HitCounter，并将变量重命名为 hitCounter
*   没有使用要写入的 $FileData 参数，因为在函数内部重新分配了变量。我们可以失去它。
*   write 方法应该将文件中的数字加一。写并没有真正表达这一点。将其重命名为增量。
*   在函数之间使用空行。最后的程序代码通常应该在一个单独的文件中，但在这里我们可以添加几行额外的代码。删除最后三行代码之间的空格。
*   不要重复你自己——我们不应该不止一次提到“counter.txt”。OOP 就是将数据结构和行为组合到类中，因此创建一个类私有变量来保存文件名，并通过构造函数传递它
*   $fread 不存在于增量范围内，所以我们不能使用它。这行不通。将其替换为对 getCount() 的调用
*   交换增量的前两行，因此我们不会对同一个文件进行两次并发访问，尽管我们可能在运行我们的脚本两次并且仍然进行两次并发访问的服务器中运行。
*   将变量 $FileData 重命名为 $count，因为它就是这样。
*   用 file_put_contents 替换 fopen,fwrite,fclose 序列，因为它做同样的事情并且更简洁。
    *   我们需要标签，因为我们的 php 代码继续到文件的末尾。

这给我们留下了：

```
<?php

class HitCounter {
    private $fileName;

    public function __construct($fileName){
      $this->fileName = $fileName;
    }

    public function getCount() {
        return file_get_contents($this->fileName);
    }

    public function increment() {
        $count = $this->getCount() + 1;
        file_put_contents($this->fileName, $count);
    }
}

$hitCounter = new HitCounter("counter.txt");    
$hitCounter->increment();    
echo $hitCounter->getCount(); 
```

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2012-12-11T07:41:35.820

**您可以创建一个静态计数器并每次递增**（而不是创建文件）

```
<?php
class CountClass {
    public static $counter = 0;

    function __construct() {
        self::$counter++;
    }
}

new CountClass();
new CountClass();

echo CountClass::$counter;
?> 
```

# php - Magento catalogsearch.xml 中的自定义块

> ID：13815661
> 
> 赞同：0
> 
> 时间：2012-12-11T07:38:37.790
> 
> 标签：php, xml, magento, magento-1.5, magento-1.7

我创建了一个示例模块 Web。我还为此创建了一个示例块。我在 app/design/frontend/default/default/template 文件夹中有一个 web.phtml 文件，在 app/desing/fronted/default/default/layout 文件中有一个 web.xml 文件。下面是我的 web.xml 文件

```
<?xml version="1.0"?>
<layout version="0.1.0">
    <default>
    </default>
    <web_index_index>
    <reference name="root">
          <action method="setTemplate"><template>page/2columns-left.phtml</template></action>
    </reference>
        <reference name="content">
            <block type="web/web" name="web" template="web/web.phtml" />
        </reference>
    </web_index_index>
</layout> 
```

它在我的[http://mydomain.com/magento/web](http://mydomain.com/magento/web)中正常工作。

现在我从 app/desing/fronted/base/default/layout 复制了一个 catalogsearch.xml 文件并将其粘贴到 app/desing/fronted/default/default/layout 并在 results.phtml 之后添加了块代码，但我无法在我的目录搜索页面中查看该块。

```
<block type="web/web" name="web" template="web/web.phtml" /> 
```

我在这里缺少什么？在 catalogsearch.xml 文件中添加块的正确方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T12:22:55.150

出现布局更新指令的文件（通常）是不相关的。布局 XML 指令的范围是布局更新句柄。

对于目录搜索结果，如果您想要在简单和高级搜索结果视图中添加块，则需要将其添加到两个句柄；将此添加到您的*web.xml*布局文件中：

```
<catalogsearch_result_index>
    <reference name="content">
        <block type="web/web" name="web" template="web/web.phtml" after="-" /> 
    </reference>
</catalogsearch_result_index>

<catalogsearch_advanced_result>
    <reference name="content">
        <block type="web/web" name="web" template="web/web.phtml" after="-" /> 
    </reference>
</catalogsearch_advanced_result> 
```

现在，大多数开发人员一想到重复代码就会脸色苍白。上述指令可以在实用程序句柄中编写一次，然后实用程序句柄可用于将结果应用到其他地方：

```
<web_addToContent>
    <reference name="content">
        <block type="web/web" name="web" template="web/web.phtml" after="-" /> 
    </reference>
</web_addToContent>

<catalogsearch_advanced_result>
    <update handle="web_addToContent" />
</catalogsearch_advanced_result>

<catalogsearch_advanced_result>
    <update handle="web_addToContent" />
</catalogsearch_advanced_result> 
```

如果该块出现在内容的开头（尽管`after="-"`），则可能需要在目录搜索模块之后加载 Web 模块的配置 XML。

# ruby - Bundler 找不到 gem "rails" 的兼容版本：

> ID：13815662
> 
> 赞同：0
> 
> 时间：2012-12-11T07:38:48.383
> 
> 标签：ruby, jtable, ruby-on-rails-3.2

当我启动服务器时，我遇到了这样的错误

```
Bundler could not find compatible versions for gem "rails":
  In Gemfile:
    jtable-rails (= 0.1.3) ruby depends on
      rails (= 3.0.5) ruby

    rails (3.2.9) 
```

我该如何解决这个问题？请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:41:27.707

[从http://rubygems.org/gems/jtable-rails/versions/0.2.5](http://rubygems.org/gems/jtable-rails/versions/0.2.5)查找此 gem 版本，您应该将 jtable-rails 版本升级到与 rails 3.2.9 兼容的最新版本

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:49:45.267

jTable [-Rails gem](https://rubygems.org/gems/jtable-rails)依赖于版本指定为`rails ~> 3.0.0`. 这种语法意味着任何 Rails 版本都必须是`>= 3.0.0`and `< 3.1.0`。

这样，您将无法让 gem 以它的方式与 Rails 3.2 一起工作。如果 gem 一年半没有更新，那么 gem 中的资产（您尝试包含的 javascript 文件）可能已经过时了。

您可以只下载 jTable 资产并将它们放在您的`vendor/assets/javascripts`和`vendor/assets/stylesheets`目录中。然后像往常一样`//= require jtable`在`app/assets/javascripts/application.js.coffee`主样式表中使用它们。

# tcl - Expect 中的“send_user”和“puts”有什么区别？

> ID：13815665
> 
> 赞同：24
> 
> 时间：2012-12-11T07:39:02.457
> 
> 标签：tcl, expect

我不清楚是否`send_user`与`puts`. 每次我想向用户发送信息性消息时，我都会想知道应该使用哪一个。从 Expect 的手册页来看，看起来和之前`send_user`是一样的，`puts`但那是做什么`send_user`用的呢？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-26T06:24:18.130

除了换行符之外，我刚刚发现两者之间的另一个区别是，如果您`log_file`在 Expect 脚本中使用，发送的语句`send_user`将进入日志文件，而发送的语句`puts`不会。如果您正在自动化一些没有在实际控制台上运行的 Expect 脚本，那可能会产生很大的不同。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-12-11T16:54:15.387

主要区别在于`puts`自动附加换行符而 `send_user`不是。在这方面，`puts -nonewline`更类似于`send_user`.

`send_user`还“继承”了 expect 的一些选项`send`，例如`-s` and `-h`（查看 expect 手册页了解详细信息）。有关标志 的用法，请参见 [http://99-bottles-of-beer.net/language-expect-249.html 。](http://99-bottles-of-beer.net/language-expect-249.html)`-h`

我无法谈论它们是如何在 C 级实施的。

# html - IE 中未居中的主要内容 div

> ID：13815670
> 
> 赞同：1
> 
> 时间：2012-12-11T07:39:22.380
> 
> 标签：html, css, internet-explorer

为什么主要内容划分不以IE为中心（虽然它以Firefox和Chrome为中心）。网站网址为：[website](http://consumer.myjoice.com/uk/)。

我在 SO 上查看了[这个](https://stackoverflow.com/questions/4355142/div-is-displayed-centered-in-firefox-but-not-in-ie)问题，但我无法解决这个问题。

请帮忙。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:49:13.613

**习惯了这个css**

```
body{
text-align:center;
}

#main{
text-align:left;
} 
```

**[演示](http://i.stack.imgur.com/7NM8L.jpg)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:53:34.487

发生这种情况是因为您的页面正在进入怪癖模式。尽管@Rohit 的回答解决了（**隐藏**）问题，但您应该使用以下内容作为`DOCTYPE`声明：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
```

如果以上内容还不够，请添加以下*标签*`meta`（在您的内部`head`）：

```
<meta http-equiv="X-UA-Compatible" content="IE=8" /> 
```

这将防止 IE 进入怪癖模式。

# xml - 使用 cakephp Xml::build 解析 xml

> ID：13815674
> 
> 赞同：1
> 
> 时间：2012-12-11T07:39:47.230
> 
> 标签：xml, cakephp, cakephp-2.0

我从食谱中关注这篇文章。 [http://book.cakephp.org/2.0/en/core-utility-libraries/xml.html#Xml::build](http://book.cakephp.org/2.0/en/core-utility-libraries/xml.html#Xml::build)

```
$xmlpath   =     WWW_ROOT.'files/xml/'.$xmldetails['Xml']['xml_url'];
        App::uses('Xml', 'Utility'); 
        if(file_exists($xmlpath)){
            $parsed_xml = Xml::build($xmlpath, array('return' => 'simplexml'));
            pr($parsed_xml);
            die();
        } 
```

这是我在控制器方法中编写的代码。我明白了

```
Fatal error: Call to undefined method Xml::build() 
```

我不确定你明白了。

任何的想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T13:59:02.803

查看您拥有的数据`$xmldetails['Xml']`，我认为这是一个模型。如果是这种情况，您已经导入了一个名为`Xml`so cake 的类将不会导入另一个。

如果你想使用 cakes`Xml`类，你**不能**有一个名为`Xml`.

# javascript - 计算外语中出现的字符数

> ID：13815678
> 
> 赞同：7
> 
> 时间：2012-12-11T07:39:53.470
> 
> 标签：javascript, character-encoding

是否有任何最佳方法来实现非英文字母的字符计数？例如，如果我们在英语中取**“母亲”**这个词，它是一个 6 个字母的词。但是，如果您在泰米尔语中键入相同的单词（மதர்），它是三个字母的单词（ம+த+ர்），但最后一个字母（ர்）将被系统视为两个字符（ர+ஂ=ர்）。那么有没有办法计算真实字符的数量呢？

一个线索是，如果我们将键盘中的光标移动到单词（மதர்）中，它只会通过 3 个字母，而不是系统考虑的 4 个字符，那么有没有办法通过使用它来找到解决方案？对此的任何帮助将不胜感激......

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-11T08:05:51.740

## 更新

吃完午饭回来=）我担心以前的任何外语都不能很好地工作所以我用一种可能的方式添加了另一个小提琴

```
var UnicodeNsm = [Array 1280] //It holds all escaped Unicode Non Space Marks
function countNSMString(str) {
    var chars = str.split("");
    var count = 0;
    for (var i = 0,ilen = chars.length;i<ilen;i++) {
      if(UnicodeNsm.indexOf(escape(chars[i])) == -1) {
        count++;
       }
    }
    return count;
}

var English = "Mother";  
var Tamil = "மதர்";
var Vietnamese = "mẹ"
var Hindi = "मां"

function logL (str) {    
      console.log(str + " has " + countNSMString(str) + " visible Characters and " + str.length + " normal Characters" ); //"மதர் has 3 visible Characters"
}

logL(English) //"Mother has 6 visible Characters and 6 normal Characters"
logL(Tamil) //"மதர் has 3 visible Characters and 4 normal Characters"
logL(Vietnamese) //"mẹ has 2 visible Characters and 3 normal Characters"
logL(Hindi) //"मां has 1 visible Characters and 3 normal Characters" 
```

所以这只是检查字符串中是否有任何字符是 Unicode NSM 字符并忽略此计数，这应该适用于大多数语言，而不仅仅是泰米尔语，并且具有 1280 个元素的数组不应该那么大性能问题

这是 Unicode NSM 的列表 [http://www.fileformat.info/info/unicode/category/Mn/list.htm](http://www.fileformat.info/info/unicode/category/Mn/list.htm)

**这是相应的[JSBin](http://jsbin.com/itefen/1/edit)**

* * *

在尝试了一些字符串操作之后，结果是 `String.indexOf`返回相同的

`"ர்"`和为`"ர"` 意义
`"ர்ரர".indexOf("ர்") == "ர்ரர".indexOf("ர" + "்") //true`但
`"ர்ரர".indexOf("ர") == "ர்ரர".indexOf("ர" + "ர")`//假

我借此机会尝试了这样的事情

```
//ர்

var char = "ரர்ர்ரர்்";
var char2 = "ரரர்ர்ரர்்";    
var char3 = "ர்ரர்ர்ரர்்";

function countStr(str) {
         var  chars = str.split("");
         var count = 0;
          for(var i = 0, ilen = chars.length;i<ilen;i++) {
                 var chars2 = chars[i] + chars[i+1];   
                 if (str.indexOf(chars[i]) == str.indexOf(chars2))
                   i += 1;
               count++;
            }
         return count;
 }

console.log("--");

console.log(countStr(char)); //6

console.log(countStr(char2)); //7

console.log(countStr(char3)); //7 
```

这似乎适用于上面的字符串，它可能需要一些调整，因为我对编码和其他东西一无所知，但也许它是你可以开始的一点

这是[JSBin](http://jsbin.com/evuhav/1/edit)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-11T12:06:23.817

您可以使用此函数忽略计数计算中的组合标记：

```
function charCount( str ) {
    var re = /[\u0300-\u036f\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f\u0b82\u0b83\u0bbe\u0bbf\u0bc0-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7]/g
    return str.replace( re, "").length;
}

console.log(charCount('மதர்'))// 3

//More tests on random Tamil text:
//Paint the text character by character to verify, for instance 'யெ' is a single character, not 2

console.log(charCount("மெய்யெழுத்துக்கள்")); //9
console.log(charCount("ஒவ்வொன்றுடனும்")); //8
console.log(charCount("தமிழ்")); //3
console.log(charCount("வருகின்றனர்.")); //8
console.log(charCount("எழுதப்படும்")); //7 
```

泰米尔语标志和标记不是用 unicode 中的目标字符组成的单个字符，因此规范化无济于事。我已将[所有泰米尔语组合标记或符号](http://en.wikipedia.org/wiki/Tamil_script#Tamil_in_Unicode)手动添加到正则表达式中，但它还包括正常组合标记的范围，因此`charCount("ä")`无论`1`规范化形式如何。

# vba - VBA 对字段进行排序和排列

> ID：13815681
> 
> 赞同：0
> 
> 时间：2012-12-11T07:40:09.803
> 
> 标签：vba, excel

我在 MS-Excel 中有以下数据：

```
No1 ABC    
No2 DEF HJK 
No3 HIJ XYZ FGH   
No4 KLM 
```

如何使用 vba 将其排序到以下内容：

```
No1 ABC    
No2 DEF 
No2 HJK    
No3 HIJ
No3 XYZ
No3 FGH
No4 KLM 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:50:50.693

在第一列中逐行移动，然后为该行（行）申请一个循环以填充其他列的数量。因此，2个循环应该可以解决问题，例如：

```
Private Sub AAA()
    Dim rColumn1 As Range
    Dim rValue As Range
    Dim rTarget As Range

    Set rColumn1 = Range("A1") 'assuming your data set starts in cell A1
    Set rTarget = Range("Q1") 'assuming you want the results in columns Q and R

    Do Until IsEmpty(rColumn1.Value2)
        Set rValue = rColumn1.Offset(0, 1)
        Do Until IsEmpty(rValue.Value2)
            rTarget.Cells(1, 1).Value2 = rColumn1.Value2
            rTarget.Cells(1, 2).Value2 = rValue.Value2
            Set rTarget = rTarget.Offset(1, 0)
            Set rValue = rValue.Offset(0, 1)
        Loop
        Set rColumn1 = rColumn1.Offset(1, 0)
    Loop
End Sub 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T09:13:09.027

见下文，更新源 - Range("A1") 和位置 - Range("F1") 或根据需要动态：

```
Dim data() As Variant
Dim i As Double, j As Double
Dim rowOffset

Dim result As Variant
Dim results As New Collection

data = Range("A1").CurrentRegion

For i = 1 To UBound(data, 1)

    For j = 2 To UBound(data, 2)

        If (Trim(data(i, j)) <> vbNullString) Then

            results.Add (data(i, 1) & "|" & data(i, j))

        End If

    Next j

Next i

For Each result In results

    With Range("F1")
        .Offset(rowOffset, 0).Value = Split(result, "|")(0)
        .Offset(rowOffset, 1).Value = Split(result, "|")(1)
    End With

    rowOffset = rowOffset + 1

Next result 
```

# javascript - 如何使用 grunt.js 缩小整个文件夹内容

> ID：13815683
> 
> 赞同：0
> 
> 时间：2012-12-11T07:40:18.727
> 
> 标签：javascript, client-server, gruntjs

不是单独提及每个`js`，这是缩小和连接整个 js 文件夹的方法吗？

```
module.exports = function(grunt) {

grunt.initConfig({
  min: {
    dist: {
      src: ['scripts/*.js'],
      dest: 'dist/built.min.js'
    }
  }
});

}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T08:10:55.467

是的，如果您只想将目录`.js`中的所有文件连接并缩小`scripts`一层，这是正确的。

例如，如果`scripts/`包含`a.js`and`b.js`和`foo/`目录，您将获得`a.js`+的连接和缩小结果，`b.js`但`foo/`目录中没有任何内容。

如果您还想获取`foo/`目录（以及所有其他嵌套目录）中的所有内容怎么办？将表达式从更改`['scripts/*.js']`为`['scripts/**/*.js']`-- 或任何 minimatch 表达式： [https ://github.com/gruntjs/grunt/blob/master/docs/api_file.md#gruntfileexpand](https://github.com/gruntjs/grunt/blob/master/docs/api_file.md#gruntfileexpand)

您可以使用任何 minimatch 表达式，因为 grunt`min`任务使用该`expandFiles`函数： [https ://github.com/gruntjs/grunt/blob/master/tasks/min.js#L21](https://github.com/gruntjs/grunt/blob/master/tasks/min.js#L21)

在这个任务中使用 minimatch 表达式的缺点是很难理解文件将以*什么顺序*连接，这通常非常重要。如果这很重要，请小心。

另外，请注意新版本的 grunt ( `0.4`) 即将推出。这将使此答案过时，因为`min`任务已更改`0.4`（但仍将支持 minimatch 表达式）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-12T20:08:28.537

如果您的文件夹仅包含 js 文件，那么您是对的，但是如果您的文件夹有嵌套文件夹，例如，`foo`是我们的主 js 文件夹，其中我们有另一个嵌套文件夹`loo`，并且在其中我们还有一些 js 文件，例如：

```
 foo:
        mu.js
        su.js
        loo:
              ku.js
              wu.js 
```

在这种情况下，您必须以这种方式修改您的代码：

```
module.exports = function(grunt) {

grunt.initConfig({
  min: {
    dist: {
      src:  'foo/**/*.js',
      dest: 'dist/foo.min.js'
    }
  }
});

}; 
```

通过这样做，您可以最小化文件夹的所有 js 文件，`foo`甚至嵌套文件夹文件。我建议在最小化之前使用 cocat js 文件。

# web-services - Spring web-scoped beans 和axis2

> ID：13815686
> 
> 赞同：0
> 
> 时间：2012-12-11T07:40:33.170
> 
> 标签：web-services, spring, integration, axis2, web.xml

我想在 AXIS2 框架上编写的 web 服务中使用 spring web-scoped beans。如何配置它？Axis2 和 Spring 文档彼此不一致。

[Axis2 文档说](http://axis.apache.org/axis2/java/core/docs/spring.html#a23)：

> ```
> For the purpose of this example, we'll configure Spring via a WAR file's web.xml. Let's add a context-param and a listener: 
> ```

```
<listener>
        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener>
<context-param>
      <param-name>contextConfigLocation</param-name>
      <param-value>/WEB-INF/applicationContext.xml</param-value>
</context-param> 
```

[Spring文档说](http://static.springsource.org/spring/docs/2.5.x/reference/beans.html#beans-factory-scopes-other-web-configuration)：

> ```
> When using a Servlet 2.4+ web container, with requests processed outside of Spring's DispatcherServlet (e.g. when using JSF or Struts), you need to add the following javax.servlet.ServletRequestListener to the declarations in your web application's 'web.xml' file. 
> ```

```
<web-app>
  ...
  <listener>
    <listener-class>org.springframework.web.context.request.RequestContextListener</listener-class>
  </listener>
  ...
</web-app> 
```

当我将 Axis2 推荐的 ContextLoaderListener 与 Spring web-scoped beans 一起使用时，我开始部署

> java.lang.IllegalStateException：未找到线程绑定请求：您是指实际 Web 请求之外的请求属性，还是在原始接收线程之外处理请求？如果您实际上是在 Web 请求中操作并且仍然收到此消息，则您的代码可能在 DispatcherServlet/DispatcherPortlet 之外运行：在这种情况下，请使用 RequestContextListener 或 RequestContextFilter 来公开当前请求。

当我使用 Spring 推荐的 RequestContextListener 时，我运行 Web 服务时出现请求错误：

```
 <faultstring>The SERVICE_OBJECT_SUPPLIER parameter is not specified.</faultstring> 
```

换句话说：如何使用 Spring 和 RequestContextListener 配置 AXIS2？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T13:07:01.107

AXIS2 中没有这样的功能。有关详细信息，请参阅请求[https://issues.apache.org/jira/browse/AXIS2-5467](https://issues.apache.org/jira/browse/AXIS2-5467) “扩展 Spring 支持以接受 Web 范围的 bean”。

# c# - C# Windows 窗体 - 奇怪的多行文本框行为

> ID：13815687
> 
> 赞同：1
> 
> 时间：2012-12-11T07:40:34.267
> 
> 标签：c#, winforms, textbox, multiline, stringreader

我正在使用 a`StringReader`从多行文本框中读取输入。但是，我遇到了奇怪的行为。
我的代码：

```
string x = reader.ReadLine();
int y = int.Parse(x); 
```

`x`始终是一个 int。
我的问题是，由于`x`是多行文本框的第一行，它不只包含 int，但这里有`System.Windows.Forms.Textbox, Text:10`
什么帮助吗？

我创建`StringReader`如下：

```
using (StringReader reader = new StringReader(Convert.ToString(multilinetbox)))
{

} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-11T07:57:12.463

更改您的阅读器以读取`Text`多行文本框的属性，而不是整个控件：

```
using (StringReader reader = new StringReader(multilinetbox.Text)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:58:35.363

我知道你不是在问这个，但我还是想把它贴出来。

为什么不试试

```
foreach (string line in multilinetbox.Lines)
{
    int y = int.Parse(line);
} 
```

希望能帮助到你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:59:19.233

因为`Convert.ToString(multilinebox)`先转换类型信息，再获取文本内容。

您应该将 multilinebox 更改为 multilinebox.Text。

像

```
using (StringReader reader = new StringReader(Convert.ToString(multilinetbox.Text)))
{    
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-11T07:59:55.990

您的代码有正常的结果，因为`Convert.ToString(multilinetbox)`将其转换为文本表示。

尝试使用“Lines”属性：

```
foreach (string ln in textBox1.Lines)
{
    // some work here
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-11T08:01:28.153

这应该有效：

```
 private void button1_Click(object sender, EventArgs e)
    {
        StringReader rdr = new StringReader(textBox1.Text);
        int y = int.Parse(rdr.ReadLine());
    } 
```

我认为你在`StringReader`声明中犯了一个错误。

# postgresql - 创建用于模式匹配的运算符类，如 text_pattern_ops

> ID：13815690
> 
> 赞同：9
> 
> 时间：2012-12-11T07:40:56.167
> 
> 标签：postgresql

我在使用自然排序（'1' < '2' < '10' < '11' 等）的文本数据类型上创建了自己的比较运算符，使用我的新运算符`#<#`、和。`#<=#``#>#``#>=#`

现在我将它们放入一个运算符类中，以便能够在它们上创建索引，如下所示：

```
CREATE OPERATOR CLASS text_natsort_ops
   FOR TYPE text USING btree AS
   OPERATOR 1  #<#,
   OPERATOR 2  #<=#,
   OPERATOR 3  =,
   OPERATOR 4  #>=#,
   OPERATOR 5  #>#,
   FUNCTION 1  bttext_natsort_cmp(text, text); 
```

但是，当我使用我的 new 创建索引时`text_natsort_ops`，这不会在涉及的查询中使用，`like`因为它在`text_pattern_ops`使用时完成。

如何声明我的运算符类以允许`like`使用我的索引？

**更新：**

以上似乎有效，因此问题无效。我真正的问题是我使用了如下查询：

```
select *
  from mytable
 where number like 'edi%'
 order by number using #<#
 limit 10 
```

而且我还有另一个使用 text_pattern_ops 的索引，它是由计划者选择的，因为它似乎工作得更快。但是，因为`order by ... using`只有使用我的新操作的索引才有用......另一个索引返回太多结果，我需要限制子句可用于索引扫描。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-05T21:51:53.540

[在https://github.com/dimitri/prefix](https://github.com/dimitri/prefix)查看 PostgreSQL 前缀扩展 他们也定义了自己的*OPERATOR CLASS*并告诉 PostgreSQL 为某些运算符使用特殊的 GIST 索引，也许你需要类似的东西？

```
CREATE OPERATOR CLASS gist_prefix_range_ops DEFAULT FOR TYPE prefix_range USING gist ... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-06-07T13:32:47.930

以上似乎有效，因此问题无效。我真正的问题是我使用了如下查询：

```
select *
  from mytable
 where number like 'edi%'
 order by number using #<#
 limit 10 
```

而且我还有另一个使用 text_pattern_ops 的索引，它是由计划者选择的，因为它似乎工作得更快。但是，由于 order by ... 仅使用我的新操作的索引将很有用...另一个索引返回太多结果，我需要 limit 子句可用于索引扫描。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T10:12:38.200

我不认为这是可能的。你必须考虑你在做什么以及为什么这行不通。您将拥有支持前缀搜索的索引或支持自然数范围搜索的索引。您不能拥有同时支持两者的 btree 索引。

考虑类似的事情：

```
SELECT * FROM foo
WHERE bar like '10%'
ORDER BY bar USING #>#; 
```

您的问题是您的两个索引将没有匹配的顺序。与 LIKE 一起使用的索引将变为 101、101000、101001 等，而用于订购的索引将变为 10、11、12、13... 101、102、103、104、105、106、107、108、 109, 110, 111, ...

因为您的排序需要不同的搜索顺序，所以无法对两者使用相同的索引。在某些时候，如果 PostgreSQL 允许对索引进行物理顺序搜索，这可能会成为可能，但只要索引是逻辑顺序，我认为这是行不通的。

# highcharts - 如何在 Highchart 图例值中去除 ' 和 "e;？

> ID：13815696
> 
> 赞同：0
> 
> 时间：2012-12-11T07:41:24.623
> 
> 标签：highcharts

我必须在 Highchart 图例值中去除这些标签。请查看图例值：

```
data: [
{/literal}
{foreach from=$value[2] item=an key=a}
{literal}
{name: '{/literal}{$a}:{$an}{literal}',y: {/literal}{$an}{literal}, color: '#6B8E23'},
{/literal}
{/foreach}
{foreach from=$value[1] item=foo key=k name=myloop}
{assign var=op value=$smarty.foreach.myloop.index}
{assign var=cor value=$colors.$op}
{literal}
{name: '{/literal}{$k}:{$foo}{literal}',y: {/literal}{$foo}{literal}, color: '{/literal}{$cor}{literal}'}
{/literal}
{if $op le $count},{/if}
{/foreach} 
{literal}
] 
```

**请找到附件图片供您参考**![在此处输入图像描述](../Images/37e5cebb2ac20c976e6eb18d98a94aa2.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T17:16:44.320

那是 html 实体，请参阅[http://www.w3schools.com/tags/ref_entities.asp](http://www.w3schools.com/tags/ref_entities.asp)。

您可以用它们的真实符号替换它们，而不是删除它们。

```
var Str = "Slogans such as McDonalds&#039;s";
Str = String(Str).replace(/&#039;/g, "'").replace(/&quot;/g, '"'); 
```

如果您想剥离它们，只需将代码更改为

```
var Str = "Slogans such as McDonalds&#039;s";
Str = String(Str).replace(/&#039;/g, '').replace(/&quot;/g, ''); 
```

这是一个小提琴作为演示，[http://jsfiddle.net/Zx9cn/](http://jsfiddle.net/Zx9cn/)

# android - 提高应用程序在 Android 上的性能

> ID：13815699
> 
> 赞同：0
> 
> 时间：2012-12-11T07:41:39.333
> 
> 标签：android, android-layout

我是相对较新的 Android 开发人员。我使用 facebook api 制作了一个社交礼物应用程序，并且在图像和数据方面不是很重。但是，它使用 Web 视图显示电子礼品卡。我通过实施以下步骤提高了它的性能。

1：使用MVC模式构建活动。
2：使用图像缓存。
3：使用java的URLConnection http调用而不是apache的http客户端。
4：使用Drawable填充颜色而不是使用图像。
5：专门针对移动设备进行轻量级 REST 后端调用。

我想知道你们是否可以提出简单有效的方法来提高 Android 应用程序的性能。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-11T07:57:17.640

SDK/设备附带了一些很棒的工具来帮助您解决这个问题。

*   保持你的视图层次尽可能浅层次[**查看器**](http://developer.android.com/tools/help/hierarchy-viewer.html)是一个很好的工具
*   使用[**TraceView**](http://developer.android.com/tools/debugging/debugging-tracing.html)查看哪些方法执行时间最长
*   [**使用Proguard**](http://developer.android.com/tools/help/proguard.html)优化您的代码[](http://developer.android.com/tools/help/proguard.html)
***   使用[**Monkey**](http://developer.android.com/tools/help/monkey.html)和[**Strict 模式**](http://developer.android.com/reference/android/os/StrictMode.html)查看主进程是否有长时间运行的进程*   修复所有[**lint**](http://developer.android.com/tools/help/lint.html)错误和警告**

# calendar - Outlook 规则将所有与日历相关的项目移动到特定文件夹

> ID：13815702
> 
> 赞同：0
> 
> 时间：2012-12-11T07:41:52.373
> 
> 标签：calendar, outlook, rules

我组织一个活动并邀请服务员。他们以不同的选择做出回应——接受、拒绝、试探性和其他选择——这取决于他们的当地语言，什么是混淆的原因。我需要创建这样的规则（如果可能，不使用 API），它将收集所有日历项目并将它们移动到特定文件夹。现在使用“规则向导”，我们已经“分配给类别”，但它不符合预期，因为这些类别与用于标记项目的颜色有关；还有“这是一个会议邀请或更新”，但它不符合预期，因为它与其他人组织的活动有关。我只想为我自己的事件组织所有响应。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-01-13T11:47:06.760

在谷歌搜索相同的问题后弹出了这个线程。我在这里找到了解决方案： [http ://www.uvic.ca/systems/support/emailcalendar/facultystaff/outlook2010/filterinvitationresponses.php](http://www.uvic.ca/systems/support/emailcalendar/facultystaff/outlook2010/filterinvitationresponses.php)

总结：转到“使用表格名称表格”条件并查看“申请表格”。

# google-apps-script - 用于在另一个 Google 文档帐户中创建文档的应用脚本代码

> ID：13815710
> 
> 赞同：2
> 
> 时间：2012-12-11T07:42:11.533
> 
> 标签：google-apps-script, google-drive-api

我正在尝试编写一个应用程序脚本代码，该代码应该查看运行脚本的当前用户的 Gmail 帐户，并获取电子邮件附件并在单独的中央用户帐户中创建新文档。在一个帐户下运行的应用程序脚本是否可以在另一个 Google Docs 帐户中创建文档？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-19T19:28:57.880

While you cannot directly create a file in another user's Google Drive account, you can change the owner of a document that's in the current user's account.

Refer to [File.setOwner(user)](https://developers.google.com/apps-script/reference/drive/file#setOwner%28String%29).

# java - 为什么我无法访问目标定义中的所有插件？

> ID：13815711
> 
> 赞同：15
> 
> 时间：2012-12-11T07:42:14.967
> 
> 标签：java, eclipse, eclipse-plugin, target-platform

我对 Eclipse 中的目标定义有疑问。我想使用我的目标平台定义中的插件版本 1.0.0，而我的工作区中有版本 1.0.2 的插件项目。对于我的目标定义中的所有其他插件，一切都按预期工作（我看到这是因为如果缺少某些东西会标记错误），但是这个特定的插件，Eclipse 不能用于我的项目。只有插件版本 1.0.2 是。该插件未设置为单例。

为什么会这样，我该如何解决这个问题？

* * *

我发现当我关闭包含错误版本的项目时，我可以访问正确的版本——但这很尴尬，还有其他方法吗？

* * *

似乎它实际上不是特定于 Eclipse 的问题，当通过 maven/tycho 在命令行上构建时它也会失败。具体来说，我的目标平台是 Juno Release。是否有插件，虽然是功能的一部分，但不可用于其他捆绑包？我知道插件就在那里，但是 tycho 和 Eclipse 都不想让我使用它。

也许我还应该说它在编译时失败。

* * *

正如我所说，虽然存在解决该问题的方法，但我仍然希望有一个“好的”解决方案来解决这个问题。[您可以在https://github.com/kutschkem/Jayes](https://github.com/kutschkem/Jayes)查看项目和目标定义

您可能还需要先检查并构建此项目： git clone [http://git.eclipse.org/gitroot/recommenders/org.eclipse.recommenders.git](http://git.eclipse.org/gitroot/recommenders/org.eclipse.recommenders.git)

设置目标平台后，尝试使用 Jayes 1.0.0（在目标平台中）而不是 Jayes 1.0.2（在您的工作区中）构建一些东西。您也可以尝试使用 maven 构建，但效果不佳。

已知的解决方法：

1.  关闭 Jayes 1.0.2 项目。然后，eclipse 让你使用 Jayes 1.0.0
2.  为了运行 (OSGi) 应用程序，您可以选择加载哪些包。您可以在那里手动选择版本 1.0.0
3.  使用产品定义，您可以访问与解决方法 2 相同的运行时配置

如果有人找到 maven 的解决方法，我很乐意知道。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-12T07:54:49.580

也许您已将插件设置为单例，因此只有一个具有特定 ID 的捆绑包实例。您可以通过删除 MANIFEST.MF 中的“singleton:=true”来更改此设置。

```
Bundle-SymbolicName: org.eclipse.xxx; singleton:=true 
```

或者，您可以在开始运行时从运行配置中删除 1.0.2 版本的插件。点击运行 --> 运行配置打开运行配置对话框，切换到“插件”选项卡，在这里您可以选择您要使用的这些插件中的哪一个。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-18T21:50:44.100

我认为您已经尝试了以下方法，但重新加载目标平台可能会有所帮助。另外，您的 feature.xml 文件为该插件的版本指定了什么？

# java - 使用 jmf 和 rtp 协议流式传输 .wav

> ID：13815715
> 
> 赞同：2
> 
> 时间：2012-12-11T07:42:26.820
> 
> 标签：java, audio-streaming, rtp, jmf

我想实现一个基于 jmf 和 rtp 的简单客户端服务器模型来访问 .wav 文件并播放它。

我参考了这个讨论[MP3 won't stream with JMF](https://stackoverflow.com/questions/4839747/mp3-wont-stream-with-jmf) where the problem is with .mp3 and so I try it with my .wav without success because I have problem with RTP Session Managaer.

第一个问题是我是否必须在两台不同的机器上运行 RTPClient 和 RTPServer，因为直到现在我在同一个项目中的同一台 PC 上都有 RTPServer 和 RTPClient 并且在包中只是不同。

这是个问题吗？例如，有没有办法在 localhost 上尝试客户端-服务器模型？

提前感谢您的关注！

# android - Android，Phonegap，Jquery 移动文本区域问题

> ID：13815718
> 
> 赞同：0
> 
> 时间：2012-12-11T07:42:29.833
> 
> 标签：android, cordova, jquery-mobile

当从另一个输入字段聚焦到包含字母（带有数字，它工作正常）的文本区域时，会发生一些奇怪的行为。

在某些 android 版本上它会崩溃，在某些版本上，最后 2 个文本字母会被删除……在某些之前的输入文本中，文本区域下的文本也会重复（见图）。

此外，当专注于 -> 短时间之前专注于输入字段的值显示在 textarea 中。奇怪的是，在较旧的 android 版本上它工作正常。

**您可以创建一个静态计数器并在每次** 尝试删除 100% 宽度时递增它，但没有帮助（[Android 100% 宽度问题](https://github.com/jquery/jquery-mobile/issues/3835)）

![](../Images/7dfe29a40ac685bd12ea5b37021c6fe2.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T14:49:34.500

最后我们发现在 type="number" 和 type="text" 字段之间切换时，以某种方式对文本字段执行了数字验证，结果出错了。所以我们将 type="number" 更改为输入文本，现在手动验证它。可能是一些 cordova 或 jquery 移动错误。

# python - 创建具有 Numpy 性能的网格

> ID：13815719
> 
> 赞同：0
> 
> 时间：2012-12-11T07:42:34.720
> 
> 标签：python, numpy, grid

所以这是我尝试做的，

```
N=1000
x=np.arange(0,1,1./float(len(N)))    
XX,YY=np.meshgrid(x,x)   

l=len(XX)
grid=np.array([ ([XX[i,i],YY[j,j],0\. ]) for i in xrange(l) for j in xrange(l) ]) 
```

numpy 例程相当快，但我需要网格采用不同的形式，这需要很长时间（我猜是因为索引 numpy 数组）。

感谢您的任何建议：）

干杯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T08:09:21.340

利用[广播](http://docs.scipy.org/doc/numpy/user/basics.broadcasting.html)：

```
z = np.zeros([N, N, 3])
z[:,:,0] = x.reshape(-1,1)
z[:,:,1] = x
fast_grid = z.reshape(N*N, 3)

print np.all( grid == fast_grid ) 
True 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-12T04:05:55.773

您可以执行以下操作：

```
grid = np.mgrid[:N, :N, :1]
grid = grid.T.reshape(-1, 3) 
```

# sql - 参考光标类型 oracle

> ID：13815720
> 
> 赞同：2
> 
> 时间：2012-12-11T07:42:46.477
> 
> 标签：sql, oracle, stored-procedures, plsql

我想检查光标是否只有一行。并返回这个，

--请看我在程序中的问题？

```
 CREATE OR REPLACE PROCEDURE GetInterestRate( p_id    IN NUMBER DEFAULT NULL,
       RC1             IN OUT SYS_REFCURSOR
    )
    ....

    begin
      open rc1 for select * from interestRatesTable i  join parametersInterest p on 
i.interestName = p.Name
 where i.idinterest  = p_id
and p.Active ='A';
     -- I would like to check if cursor have only one row.
    --- if it has zero row, no result I got to raise an error
    --- if it has more than one row, I got to raise to many interest rates!
    -- how can I do this?
    end; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T09:32:39.997

Oracle 会为您引发错误，只需在一行中选择一个值，我想您也应该在异常块中捕获异常。

```
 CREATE OR REPLACE PROCEDURE GetInterestRate( p_id    IN NUMBER DEFAULT NULL,
   RC1             IN OUT SYS_REFCURSOR
)
....

 begin
   select 1
   into   a_value
   from   interestRatesTable i  
   join parametersInterest p ...    

   open rc1 for ......
 EXCEPTION 
   WHEN NO_DATA_FOUND THEN
     .....
   WHEN TOO_MANY_ROWS THEN
     .....
   WHEN OTHERS THEN
     .....
 end; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-11T08:17:52.090

我认为您必须在打开游标之前先运行查询。

```
 CREATE OR REPLACE PROCEDURE ...
 begin
   select count(*)
   into   row_found
   from   interestRatesTable i  join parametersInterest p ...
   and    rownum = 1;

   if row_found = 0 then raise ...
   end if
   open ...

 end; 
```

# python - 导入 simplegui 时遇到问题

> ID：13815722
> 
> 赞同：3
> 
> 时间：2012-12-11T07:42:50.457
> 
> 标签：python, python-2.7, codeskulptor

我在 Eclipse 中安装了 PyDev 来运行 Python 程序，但在导入`simplegui`. 它向我显示了这个错误：

> ```
> import simplegui 
> ```
> 
> `ImportError`: 没有命名模块`simplegui`

我安装的 PyDev 版本是 2.7.1。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-22T03:44:13.710

您是否使用 CodeSkulptor 学习 Python？simplegui 是 CodeSkulptor 的自定义模块，这意味着它仅在 CodeSkulptor 中可用。

更多信息[在这里](http://www.codeskulptor.org/docs.html#)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-06-06T06:41:56.847

您可以使用[SimpleGUICS2Pygame](https://pypi.python.org/pypi/SimpleGUICS2Pygame)。 只需在您的 CodeSkulptor 程序中通过 **import SimpleGUICS2Pygame.simpleguics2pygame as simplegui**更改 **import simplegui** 并在标准 Python 中运行它

 *** * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-01-07T13:23:12.447

我使用的是 Mac，当我`simplegui`从 Python 网站安装时，我必须将其导入为：

```
import simpleguitk 
```

我还使用以下命令通过终端下载了它：

```
sudo pip install SimpleGUITk 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-02-24T14:57:35.353

[很简单，从http://florian-berger.de/en/software/simplegui](http://florian-berger.de/en/software/simplegui)下载 simplegui.zip 。

```
unzip simplegui-x.x.x.zip
cd simplegui-x.x.x
python setup.py install 
```

替换`x.x.x`为版本号。您可能希望使用 sudo 权限运行最后一步。**

# php - 缓存清单缓存自身

> ID：13815723
> 
> 赞同：0
> 
> 时间：2012-12-11T07:42:51.923
> 
> 标签：php, apache, cakephp, cache-manifest

真的被这个给难住了。

我正在尝试使用 HTML5 缓存清单缓存一些资源（是的，我知道，不要评判我），但清单似乎正在缓存自己。

* * *

清单文件实际上是一个动态 PHP 脚本，因此它具有 .php 扩展名。

* * *

设置了以下标头（[如何在 Cakephp 中完全禁用缓存？](https://stackoverflow.com/questions/2667431/how-do-i-completely-disable-caching-in-cakephp#answer-2667823)）

```
header('Cache-Control: no-store, private, no-cache, must-revalidate');                  // HTTP/1.1
header('Cache-Control: pre-check=0, post-check=0, max-age=0, max-stale = 0', false);    // HTTP/1.1
header('Pragma: public');
header('Expires: Sat, 26 Jul 1997 05:00:00 GMT');                                       // Date in the past  
header('Expires: 0', false); 
header('Last-Modified: '.gmdate('D, d M Y H:i:s') . ' GMT');
header('Pragma: no-cache');

header("Content-type: text/cache-manifest"); 
```

* * *

清单的 NETWORK 部分包含以下内容：

```
NETWORK:
/cachemanifest 
/cachemanifest/ 
/cachemanifest/* 
*/cachemanifest/* 
cachemanifest/ 
cachemanifest

/cachemanifest/manifest.php
cachemanifest/manifest.php

* 
```

当然，清单文件本身被排除在 CACHE: 部分之外。

* * *

在同一目录中还有一个 .htaccess 文件，其中包含：

```
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType text/cache-manifest "access plus 0 seconds"
</IfModule> 
```

* * *

该站点是用 CakePHP 构建的，它显然有一些我不太了解的“有用”缓存机制。我假设 PHP 标头会绕过任何东西...... PHP 可以做到。

* * *

那么，我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T13:35:20.313

实际上，看起来其中之一有效。缓存只需 30 多秒即可意识到它需要更新。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-12T01:06:33.737

缓存清单的工作方式是清单要更新自身，清单中的某些文本必须更改，即使它只是一个字母。这可以通过让构建自动化程序在每次代码更改时添加时间戳来完成。

# javascript - 在节点中安装 Backbone.localStorage

> ID：13815726
> 
> 赞同：1
> 
> 时间：2012-12-11T07:43:17.193
> 
> 标签：javascript, node.js, backbone.js, local-storage

我有问题。我正在尝试从jeromegn 安装backbone.LocalStraoge。我尝试在 npm 网站上搜索注册表，但它没有显示主干本地存储。任何人都可以帮忙吗？这将不胜感激。

# iphone - 树屋

> ID：13815727
> 
> 赞同：2
> 
> 时间：2012-12-11T07:43:25.670
> 
> 标签：iphone, objective-c, ios, xcode

我正在制作我的第一个应用程序。

我正在做树屋教程，并从单个视图模板制作了一个按钮和一个标签。当我按下“播放”或“运行”时，模拟器只会显示一个白屏（对于 ipad）或什么都没有（对于 iphone）。我错过了什么？我在谷歌上搜索过，但这是一个如此笼统的问题，以至于我无法在不解释自己的情况下找到我想要的东西。我在这里错过了什么明显的小东西？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T08:03:54.067

我认为 Sam 想说的是，在您的项目设置中，您可以选择“主界面”（必须是 XIB 文件）或“主情节提要”。如果您设置此选项，您的应用程序将知道在启动时显示哪个视图。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:52:59.433

![在此处输入图像描述](../Images/153981a94b4386e0e535654223954ce3.png)尝试在 MainStoryboard 中设置初始视图控制器。

# objective-c - 将 subView 添加到 iPad 的 UIView 在 Xcode 4.5 中无法正常工作

> ID：13815737
> 
> 赞同：0
> 
> 时间：2012-12-11T07:44:05.480
> 
> 标签：objective-c, ios, xcode4.5

我的 .xib 包含一个`UITabBar`和 3 个视图：

![在此处输入图像描述](../Images/0c4d06883fbffc4c398f3d05edd9bedb.png)

![在此处输入图像描述](../Images/c39e782b020c594306c02aadf660bf97.png)

我做了一个插座：

```
@property (nonatomic, retain) IBOutlet UIView* _controllersContainerView; 
```

在我的`viewDidLoad`方法中，我想添加一个子视图`_controllersContainerView`：

```
 [self controllersNavigationController].view.frame = _controllersContainerView.bounds;
//  [self controllersNavigationController].view.frame = CGRectMake(0, 0, 350, 199);
    [_controllersContainerView addSubview:[self controllersNavigationController].view]; 
```

但即使我尝试将帧高度设置为超短值（199），它看起来也`_controllersContainerView`比`tabBar`.

![在此处输入图像描述](../Images/86de66892317408f2408af24ffad2bb9.png)

代码有什么问题？它在带有 armv6 v7 的 Xcode 4.4 中运行良好，但在 Xcode 4.5 中却失败了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:51:12.283

将 clipToBounds 属性设置为 YES，它可能会解决问题。

# javascript - 淘汰赛中的动态标题属性

> ID：13815739
> 
> 赞同：3
> 
> 时间：2012-12-11T07:44:16.240
> 
> 标签：javascript, html, knockout.js

我想动态设置 span 的 title 属性。我在下面尝试过：

```
<span id="aPublic" class="pointer" 
 data-bind="attr:{title: {'mark private': isPublic, 'mark public': !isPublic()}}">
</span> 
```

但它给了我[object Object]。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-11T08:04:02.760

你不能这样做。在您的视图模型中创建`computed`将返回所需的`title`值取决于`isPublic`属性：

```
self.title = ko.computed(function(){
   return self.isPublic() ? 'mark private' : 'mark public';
}); 
```

或者您可以在`data-bind`属性内执行此操作，但它不被认为是最佳解决方案：

```
<span id="aPublic" class="pointer" 
 data-bind="attr:{title: isPublic() ? 'mark private': 'mark public'}">
</span> 
```

# android - 当他们的视线从我的应用程序上移开时杀死服务类

> ID：13815742
> 
> 赞同：0
> 
> 时间：2012-12-11T07:44:21.580
> 
> 标签：android, service, lifecycle

我有一个不受任何活动约束的服务类。在这个服务类中，我放置了一些未完成的音频播放器组件。并且在匿名内部类的 from 中有一个广播接收器。

应用程序中有 5 个活动。当用户在 5 个活动屏幕之间导航时，如何保持此后台服务类处于活动状态。但是如果他们在这 5 个之外导航，就终止服务？就像他们离开并查看不同的色情应用程序一样？

我读到的一个想法是在每个活动的 onResume() 中绑定服务，并在 5 个活动的每个活动的 onPause() 中取消绑定它。

做这个的最好方式是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:58:00.050

每个应用程序也可以有一个`Application`类。

您可能希望从那里绑定并跟踪打开的活动。

# java - Java HtmlUnit 表单重定向问题

> ID：13815743
> 
> 赞同：6
> 
> 时间：2012-12-11T07:44:28.360
> 
> 标签：java, redirect, htmlunit

我正在使用在线银行应用程序。我想登录以取回余额。我一直在做一些研究，并从其他帖子中找到了一些有用的 HtmlUnit 代码。但是，我一直在处理页面的重定向。路径如下：主登录表单（page1），生成一个验证凭据的新页面（page2）。到目前为止我做得很好，但我找不到检索主页（page3）的解决方案，这里是代码：

```
import com.gargoylesoftware.htmlunit.BrowserVersion;
import com.gargoylesoftware.htmlunit.WebClient;
import com.gargoylesoftware.htmlunit.html.HtmlForm;
import com.gargoylesoftware.htmlunit.html.HtmlPage;

public class WellsF {
    public static void main(String[] args) throws Exception {

        WebClient webClient = new WebClient(BrowserVersion.CHROME_16);
        webClient.getOptions().setJavaScriptEnabled(true);
        webClient.getOptions().setThrowExceptionOnScriptError(false);
        webClient.getOptions().setCssEnabled(true);
        webClient.getOptions().setUseInsecureSSL(true);
        webClient.getOptions().setRedirectEnabled(true);

        HtmlPage page1 = webClient
                .getPage("https://www.wellsfargo.com/home.jhtml");

        final HtmlForm form = (HtmlForm) page1.getElementById("frmSignon");

        form.getInputByName("userid").setValueAttribute("user id");
        form.getInputByName("password").setValueAttribute("user password");

        HtmlPage page2 = (HtmlPage) form.getInputByName("btnSignon").click();

        synchronized (page2) {
            page2.wait(5000);
            System.out.println(page2.asText());
            System.out.println("=========================== page2\n");
        }

        HtmlPage page3 = (HtmlPage) webClient.openWindow(page2.getUrl(),
                "signon").getEnclosedPage();
        System.out.println(page3.asText());
        webClient.closeAllWindows();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-10-06T07:30:04.203

你能试试下面的代码并检查它是否工作：

```
 HtmlPage page3 = (HtmlPage) webClient.getPage(page2.getUrl());
 webClient.getOptions().setTimeout(10*1000); 
```

# facebook - Facebook 分享按钮前面的数字

> ID：13815749
> 
> 赞同：0
> 
> 时间：2012-12-11T07:44:59.923
> 
> 标签：facebook, button, share

[我在http://pawan269.wordpress.com](http://pawan269.wordpress.com)有一个博客，我在那里发布我的照片。

它有一个我从管理界面启用的共享实用程序。在此共享实用程序中，可以选择使用 Facebook 进行共享。

不知道为什么它在按钮内的“Facebook”文本前显示一个数字，附件是 Facebook 分享按钮的屏幕抓取。

![带有数字的 Facebook 分享按钮](../Images/724b042e1539356eae57dfb41bfbaf55.png)

如果有人知道正确答案，请告诉我。

谢谢 ：）

# java - Log4J 文件锁

> ID：13815751
> 
> 赞同：0
> 
> 时间：2012-12-11T07:45:07.977
> 
> 标签：java, multithreading, thread-safety, log4j

我在我的应用程序中使用了 Log4J，但是我有另一个应用程序想要读取 Log4J 的日志文件。在这种情况下是否存在任何安全问题？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:50:48.027

读取 Log4j 文件没有线程安全问题。

您无法知道 Log4j 何时会向其写入更多数据，但这不是线程安全问题。

# php - 从我的收件箱中存储的电子邮件创建电子邮件数据库

> ID：13815752
> 
> 赞同：0
> 
> 时间：2012-12-11T07:45:09.797
> 
> 标签：php, postfix-mta

我有一个收件箱，里面有 5000 多封电子邮件，说有人已经注册了。电子邮件正文中是他们的电子邮件地址和姓名，我想将它们存储在数据库中。

问）我怎样才能把它放到数据库中？理想情况下是 mysql。

理想情况下，我想在我最熟悉的 PHP 中执行此操作。

我正在使用[iRedMail](http://www.iredmail.org/features.html)：OpenLDAP

更新：自从发布问题以来，我已经使用[Plan Cake Email Parser](https://github.com/plancake/official-library-php-email-parser)编写了实际的电子邮件解析器，一旦我发现这个，就花了 5 分钟。

更新 2：为了让事情变得更容易，我已将数据库中我想要的所有电子邮件移动到一个单独的 IMAP 文件夹中。

但是当我进行搜索时，它什么也没返回： find /var/vmail -name 'Subscribers' -type d –</p>

更新 3：另一种选择是我已经使用 Thunderbird Windows 7 在本地的电子邮件客户端中下载了电子邮件。当我检查我的个人资料时，我可以看到 3 个与以下内容相关的文件：

1.  订阅者.msf
2.  订阅者-1
3.  订阅者-1.msf

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:52:37.567

真正棘手的部分不是解析电子邮件，而是从您的服务器获取电子邮件。我可以想到三种方法来做到这一点：

1.  使用 php 的 imap 库[http://php.net/manual/en/book.imap.php](http://php.net/manual/en/book.imap.php)。我个人并没有经常使用它，但是由于您只是在获取所有电子邮件，因此它可能很有用。不利的一面是，您最终也会获取所有其他邮件。
2.  使用第 3 方服务来处理 imap 并通过更简单的 REST 接口公开您的电子邮件。理想情况下，您希望搜索一个关键术语（可能是“用户注册”），然后对其进行解析。
3.  使用[offlineimap](http://offlineimap.org/)将所有电子邮件下载为 Maildir 并将其存储在本地。现在您可以使用 PHP 搜索所有电子邮件，在这里测试版本会更快更容易。

至于解析，我个人建议使用`grep`查找包含您要提取的信息的邮件，`awk`并将此信息转换为 CSV 文件。您可以使用 PHP 进行文本处理，但使用这些功能更简单、更简洁。

您现在可以轻松地将数据推送到 MySQL。

# jquery - Jquery Form 插件 + Ajax（livequery 的替代品？）

> ID：13815753
> 
> 赞同：0
> 
> 时间：2012-12-11T07:45:11.040
> 
> 标签：jquery, ajax, jquery-forms-plugin

我正在通过 Ajax 调用加载页面的片段。该片段包含一个表单。

我正在尝试使用此代码：

```
$('form.ajax').ajaxForm(function(){
    console.log('tada!!');
}); 
```

这不起作用，因为`form.ajax`选择器不适用于随后通过 ajax 调用加载的内容。

过去，我使用过“livequery”插件，但我想有更现代的替代方法可以做到这一点。

你知道吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T11:08:35.340

那么 livequery 是一种完美的理智的方式。

在动态添加内容的 ajax 回调中，您还可以添加对新添加的内容执行操作的代码。

# r - R中的write方法-文件在哪里结束？

> ID：13815754
> 
> 赞同：-5
> 
> 时间：2012-12-11T07:45:13.973
> 
> 标签：r, for-loop

似乎 R 中的 forloops 不像我想的那样工作：

```
 myVector <-c(0,0,0)
> for (i in 0:0){
 s1<-sum(e1*data3[,i]);
 s2<-sum(e2*data3[,i]);
 s3<-sum(e3*data3[,i]);
 hilf <- cbind(s1,s2,s3);
 myVector <- cbind(myVector, help);
 } 
```

有效，但结果是：

```
> myVector
      myVector s1 s2 s3
 [1,]        0  0  0  0 
```

现在，我预计会有 3 个零。有谁知道为什么我得到四个维度而不是三个维度？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T08:44:52.533

尽管您发布的代码很有趣，但这里发生的事情与`for`-loops 无关。这是你的多重`cbind`陈述。

您正在尝试将一个高 1x3 矩阵与一个长度为 3 的向量组合在一起。这将导致`myVector`在组合时丢失它的最后两个元素，正如您在粘贴的输出中所看到的那样。

相反，如果您转置两者之一（或`myVector`或`hilf`），您可能会得到更符合您正在寻找的东西。

### 我假设`help`你的意思是`hilf`。

# javascript - 使用 JavaScript 创建用于调用 OrganizationData.svc 的 URL 字符串

> ID：13815756
> 
> 赞同：0
> 
> 时间：2012-12-11T07:45:19.833
> 
> 标签：javascript, dynamics-crm-2011

目前，我有两种不同的方法来决定我的 JS 在哪个版本的 CRM 上运行。这些地址相似但仍然不同，具体取决于它是在线还是本地。我试图整合它们，但它仍然取决于一个变量，如下面的代码所示。什么是更简洁的解决方案（可以为组织数据选择正确的 URL 服务）？

```
var isOnLine = true;
var organizationName = Xrm.Page.context.getOrgUniqueName();
var organizationUrl 
  = "http" + (isOnLine ? "s" : "") + "://" 
  + parent.window.location.host 
  + (isOnLine ? "" : "/" + organizationName)
  + "/XRMServices/2011/OrganizationData.svc"; 
```

最重要的是，我想要一种通过调用*某些东西*来获取服务 URL 的方法（但不确定是什么）。如果不可能，我想建议一种方法来检测当前运行的脚本是否部署在在线或本地安装中。

该方法（如果有的话）将独立于版本（或至少它使用*if*语句检查当前运行的版本）也很重要。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T11:42:00.347

1.  我不会使用*parent.window.location.host*（甚至不确定它是否受支持）。
2.  无论是在线版本还是内部部署（不必要），您都会获得*组织名称。*
3.  如果在安全 HTTP 上设置了本地部署（或者您还需要其他标志），则调用将失败。
4.  我的建议是关注 CRM 2011（旧版本 4 使用 SOAP，而不是 REST）。
5.  对于实际的*OrganizationData*服务，您可以使用下面的函数（或仅嵌入该行）。

```
function getOrganizationDataService(){
  return Xrm.Page.context.getServerUrl() 
    + "/XRMServices/2011/OrganizationData.svc";
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T08:42:09.880

我建议看一下这个示例：[示例：使用带有 JavaScript 的 REST 端点创建、检索、更新和删除](http://msdn.microsoft.com/en-us/library/gg334427.aspx)。

尤其是：

> **sample_/Scripts/SDK.REST.js** 一个可重用的通用库，它使用 REST 端点为 Web 资源简化异步数据操作。

特别是像这样有效构建 REST OrganizationData 端点的前几个函数（我在这里删掉了几个步骤，所以请务必查看示例代码）：

```
Xrm.Page.context.getServerUrl() + "/XRMServices/2011/OrganizationData.svc/"; 
```

# android - 在 Java Android 中写入文件，使用 Phonegap 读取文件

> ID：13815766
> 
> 赞同：0
> 
> 时间：2012-12-11T07:46:13.930
> 
> 标签：android, cordova, sencha-touch-2

我正在尝试使用这样的android编写一个json文件：

```
String jsonString = broadcastDataArray.toString();
Writer output = null;

File fileAnnouncement = new File("announcement.json");
try  {
    output = new  BufferedWriter(new  FileWriter(fileAnnouncement));
    output.write(jsonString);
        output.close();
    } catch  (IOException e) {
    // TODO  Auto-generated catch block
    e.printStackTrace();
} 
```

现在我正在尝试使用 phonegap 加载/读取文件。使用[此处](http://docs.sencha.com/touch/2-0/#!/api/Ext.data.reader.Json)显示的这种方法，我能够读取包含在我的应用程序源中的文件。但我想读取一些由 android 代码生成的文件。

有没有办法做到这一点？是否有任何特定目录可以从 Java android 和 Phonegap/Sencha 访问该文件？

任何类型的帮助或指针表示赞赏。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T08:42:30.037

您可以通过以下方式执行此操作。

在您的 Android 活动中编写此函数以将数据写入文本文件。

```
public void WriteDataToFile(String sFileName, String sBody){
        try
        {
            FileWriter f = new FileWriter("/sdcard/data.txt");
            f.append(sBody);
            f.flush();
            f.close();
        }
        catch(IOException e)
        {
             e.printStackTrace();
        }
} 
```

而且，现在您可以通过调用此函数从您的 Sencha/Phonegap 应用程序中读取该文件。

```
var user_data = function(){
        var request = new XMLHttpRequest();
            request.open("GET", "/sdcard/data.txt");
            request.onreadystatechange = function() {
                if (request.readyState == 4) {
                    // alert("*" + request.responseText + "*");
                    data = request.responseText;                            
                }
            }
            request.send();
} 
```

# grails - 我的 Grails 应用程序只能在第一次运行时向另一个 Grails 应用程序发送 SOAP 请求

> ID：13815767
> 
> 赞同：1
> 
> 时间：2012-12-11T07:46:19.367
> 
> 标签：grails, soap

我有两个 grails 应用程序。（主）和（调解员）

(Master) 向 (Mediator) 发送 SOAP 请求。我在 (Master) 的 grails 服务中创建了 SOAP 请求逻辑，然后从控制器执行它。当我的 grails 应用程序（主）重新运行时，包含 SOAP 请求的 grails 服务返回 java.io.FileNotFoundException。

我尝试在运行时编辑 Grails 服务的代码（通过添加 println 或行空间）。保存该 grails 服务后，SOAP 逻辑确实起作用了。

我需要我的（主）应用程序，当我第一次运行它时，它应该仍然可以发送 SOAP 请求。我试图清理和编译这两个应用程序，甚至在 Config.groovy 上仔细检查它的 XSD、端点和声明，但它仍然不起作用。

# c# - C# 多线程客户端-服务器

> ID：13815770
> 
> 赞同：1
> 
> 时间：2012-12-11T07:46:31.343
> 
> 标签：c#, client-server, serversocket

我正在做一个多线程的服务器-客户端项目。在我的项目中，服务器正在接收来自客户端的连接请求，并提供一个线程来处理读取和发送数据。但是在读取数据时，它在第 61 行给出了一个异常。

```
networkStream.Read(bytesFrom, 0, (int)clientSocket.ReceiveBufferSize); 
```

例外是：

```
 >> System.ArgumentOutOfRangeException: Specified argument was out of the range
of valid values.
Parameter name: size
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 s
ize)
   at Server.handleClinet.doChat() in C:\Users\Mamun\documents\visual studio 201
0\Projects\Server\Server\Program.cs:line 62 
```

我在这里上传了我的项目： [http ://www.mediafire.com/?z2z5moqn8zdl6pt](http://www.mediafire.com/?z2z5moqn8zdl6pt)

我正在使用这些代码参考： [http ://csharp.net-informations.com/communications/csharp-multi-threaded-server-socket.htm](http://csharp.net-informations.com/communications/csharp-multi-threaded-server-socket.htm)

[http://csharp.net-informations.com/communications/csharp-multi-threaded-client-socket.htm](http://csharp.net-informations.com/communications/csharp-multi-threaded-client-socket.htm)

请查看我的项目并告诉我出了什么问题。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T08:06:29.520

根据[MSDN](http://msdn.microsoft.com/en-us/library/system.net.sockets.networkstream.read.aspx)，如果出现以下情况，可能会发生错误：

> 尺寸参数小于 0。
> 
> -或者-
> 
> size参数大于**buffer的长度减去offset**参数的值。

我还没有看到你的代码，但我猜它是关于*2nd case*的。在[MSDN](http://msdn.microsoft.com/en-us/library/system.net.sockets.networkstream.read.aspx)的示例中，他们只是使用缓冲区本身的长度作为`size`值：

```
byte[] myReadBuffer = new byte[1024];
int numberOfBytesRead = 0;

do
{
  numberOfBytesRead = myNetworkStream.Read(myReadBuffer, 0, myReadBuffer.Length);

  //..
}
while(myNetworkStream.DataAvailable); 
```

# java - 聚合破坏封装

> ID：13815771
> 
> 赞同：2
> 
> 时间：2012-12-11T07:46:33.787
> 
> 标签：java, encapsulation, aggregation

我一直在阅读书籍，试图了解聚合和组合的各个方面。但是我遇到了一点，我觉得聚合可以增强松散耦合，但也可以破坏封装。

增强松耦合。

```
public class Car{
    private Engine engine;
    Car(Engine e){
        this.engine=e;
    }
} 
```

在上面，引擎类的任何实现都可以在创建时创建并推送到 Car 对象，并且由于 Engine 实例可以在没有汽车的情况下存在，因此它是一个完美的聚合示例。（这个例子可能不是一个很好的现实例子，但我想我的观点）

现在客户端代码完全控制了引擎对象，因此它可以更改传递给汽车的引擎对象的少数状态，并且汽车的实现会破坏封装，因为它的对象或状态（即引擎）不再具有汽车中的正确完整性。

我的理解正确吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:56:49.217

在这里，松耦合针对的是 Car 和 Engine 之间的关系。

尽管汽车通过其构造函数接受任何引擎，但我相信汽车不会通过 getter 方法暴露引擎。

该构造函数应该具有适当的访问控制/级别，并由工厂或其他负责将引擎与汽车集成的创建模式使用。

允许 Car 的客户端访问 Engine 应该是通过 Car 的接口。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:58:15.177

只有当它是可变的时`Engine`才能被打破`Car`，即汽车可以改变引擎的状态。但是，您可以定义不可变类`Engine`（仅具有访问状态的 getter 和不更改状态的业务方法）或创建`Engine`由 class 实现的接口`EngineImpl`。`EngineImpl`不是一成不变的。它包括可以更改其状态的功能。然而，它实现`Engine`了只向客户端公开“不可变”方法的接口。所以，汽车不能改变`EngineImpl`隐藏在只读界面后面的状态`Engine`。在这种情况下，封装不会被破坏。

你是对的：这不是现实世界的例子：在现实世界中，驾驶员通过他的汽车提供的接口控制引擎并且可以破坏引擎:(

# php - 为什么数据保存后没有出现消息框而是跳到主页

> ID：13815774
> 
> 赞同：0
> 
> 时间：2012-12-11T07:46:52.517
> 
> 标签：php, mysql

我仍然不知道为什么它会跳过“成功”和“重复 ID”的消息框，尽管数据成功插入数据库...有人可以帮我吗，因为我还是这个 php 和 mysql 的新手

```
$insertSQL = sprintf("INSERT INTO kontrak (ID, NAME, BIRTH, COUNTRY) VALUES (%s,(UPPER('%s')), %s, %s)",

                       GetSQLValueString($_POST['Id'], "int"),
                       strtoupper(GetSQLValueString($_POST['Nama'], "text")),
                       GetSQLValueString($_POST['Birth'], "date"),
                       GetSQLValueString($_POST['Country'], "text"));

  mysql_select_db($db_doctor, $doctor);

  $Result1 = mysql_query($insertSQL, $doctor) or die(mysql_error());

  if($insertGoTo)
    {

    echo "<script>alert('succes');document.location.href = 'staff.php';</script>";

    }

    else

    {

    echo "<script>alert('duplicate id.');document.location.href = 'serch.staf.php 
';</script>";}

  $insertGoTo = "add_info.php";

  if (isset($_SERVER['QUERY_STRING']))

 {

    $insertGoTo .= (strpos($insertGoTo, '?')) ? "&" : "?";
    $insertGoTo .= $_SERVER['QUERY_STRING'];

  }

  header(sprintf("Location: %s", $insertGoTo));

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T08:19:34.183

关于从一个页面移动到另一个页面，您可以尝试。
`header("Location: ../page.php"); exit;`
或者
`echo "<script>alert(\"message\")</script>";`
`echo "<script>window.location.replace(\"../page.php\"); </script>";`

# ios4 - 在 xcode 4.5 上为 ios 4.2 开发

> ID：13815776
> 
> 赞同：3
> 
> 时间：2012-12-11T07:47:16.160
> 
> 标签：ios4, xcode4.5, ipod-touch, ios-4.2

我有一台旧的 ipod touch 2g，可以升级到 4.2.1。我也有 xcode 4.5，它说：

> 不支持的设备 此版本的 Xcode 不支持“iPod touch（第 2 代）”类型的设备。

有什么方法可以在我当前版本的 xcode 上为这个糟糕的旧设备开发吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:49:43.083

转到您的目标 > 摘要 > 部署目标并将其设置为 4.3 或更高版本。

早点去[这里](https://stackoverflow.com/questions/12463195/xcode-4-5-and-ios-4-2-1-incompatibility)

# php - 如何实现查询，以便我得到所需的结果

> ID：13815781
> 
> 赞同：2
> 
> 时间：2012-12-11T07:47:41.813
> 
> 标签：php, mysql, sql

我有一张包含这些值的表格。我想以 5 的限制查询此表，但我希望总行始终成为结果集的一部分。

表说明：

```
 id  desc  value

  1    A     100
  2    B     200
  3    C     300
  4    D     400
  5    E     500
  6    F     600
  7    G     700
  8    H     800
  9    I      900
  10  Total 1000 
```

我想知道它是否可能。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T07:50:23.550

像这样：

```
SELECT id, `desc`, value FROM table
UNION ALL
SELECT MAX(id), 'Total', SUM(value) FROM table; 
```

但是，如果您需要将表中的选择限制为仅 5 个，则必须`LIMIT`在两个子查询中使用，如下所示：

```
SELECT id, `desc`, value
FROM
(
  SELECT id, `desc`, value FROM table1
  ORDER BY id
  LIMIT 5
) t
UNION ALL
SELECT MAX(id), 'Total', SUM(value) 
FROM
(
  SELECT id, `desc`, value FROM table1
  ORDER BY id
  LIMIT 5
) t; 
```

对于您的示例数据，这将为您提供：

```
| ID |  DESC | VALUE |
----------------------
|  1 |     A |   100 |
|  2 |     B |   200 |
|  3 |     C |   300 |
|  4 |     D |   400 |
|  5 |     E |   500 |
|  5 | Total |  1500 | 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!2/3226c/8)

**请注意：**该`Total`行将是所有先前`value`值的总和，但是，在您的样本数据中，它不是总数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:50:34.157

这在单个查询中有点混乱。也许您可以使用 UNION 查询：

```
SELECT `id`, `value` FROM `table` LIMIT 5
UNION
SELECT 'Total', SUM(`value`) AS `value` FROM `table` 
```

这将从表中产生 5 行和下面的“总计”行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T08:07:34.793

您也可以使用`WITH ROLLUP`. 但缺点是缺少一列：`ID`.

```
SELECT COALESCE(`desc`, 'TOTAL') `desc`, SUM(`value`) Value
FROM Description
GROUP BY `desc`
WITH ROLLUP 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!2/7051a/4)

# php - PHP - 如何从对象生成 Soap 请求 XML

> ID：13815783
> 
> 赞同：1
> 
> 时间：2012-12-11T07:47:47.403
> 
> 标签：php, xml, soap, request

我有一个标准对象：

```
$args = new stdClass();
$args->userName = 'username';
$args->password = 'password';
$args->criteria->customer->customerId = '0002003'; 
```

我想创建 SoapRequest XML：

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:tns="wsclient.dms.tecsys.com" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <SOAP-ENV:Body>
        <mns1:search xmlns:mns1="wsclient.dms.tecsys.com">
            <arg0>
                <userName>username</userName>
                <password>password</password>
                <criteria>
                   <customer>
                      <customerId>0002003</customerId>
                   </customer>
                </criteria>
            </arg0>
        </mns1:search>
    </SOAP-ENV:Body>
</SOAP-ENV:Envelope> 
```

但我找不到解决方案。谁能帮我。问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T08:08:40.737

通过使用[SoapClient](http://php.net/manual/en/class.soapclient.php)类，您可以轻松地创建一个肥皂请求

看看这个

SoapClient: __doRequest — 执行 SOAP 请求

# facebook - 我的 FB 应用程序已被删除

> ID：13815786
> 
> 赞同：3
> 
> 时间：2012-12-11T07:48:42.910
> 
> 标签：facebook

今天早上我的 Facebook 应用程序已被删除，我不知道是谁删除了我的应用程序。

今晚我收到了 3 封电子邮件：

第一个：MeteoSmit 的应用程序设置 - Previsioni meteo (app id = 113007212065365) 由 API 从 10.66.138.54 于 2012 年 12 月 10 日星期一 14:48:06 -0800 更改的设置：旧值新值 canvas_page_url meteosmit

第 2 次：MeteoSmit - Previsioni meteo (app id = 113007212065365) 的应用程序设置由 Cullen Walsh 从 10.171.32.25 于 2012 年 12 月 10 日星期一 15:01:57 -0800 更改

更改的设置：旧值新值 canvas_page_url meteosmit

3rd: MeteoSmit - Previsioni meteo (app id = 113007212065365) 的应用程序设置由 API 从 10.171.31.43 于 2012 年 12 月 10 日星期一 15:03:50 -0800 更改

更改的设置：旧值新值 canvas_page_url meteosmit

卡伦沃尔什是谁？Facebook 管理员用户还是黑客？

提前致谢。

斯特凡诺湾

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T09:32:04.210

它必须由 facebook 管理团队删除，没有其他人。

# java - java.util.Pattern API“拼图”

> ID：13815787
> 
> 赞同：0
> 
> 时间：2012-12-11T07:48:46.303
> 
> 标签：java, pattern-matching

有谁知道 Pattern API 在哪里描述了这行代码的行为

`System.out.println("000".matches("(0)\\10`"));

我认为在运行它之前很少有人能说出它打印的内容。API 说

```
\n Whatever the n-th capturing group matched 
```

它并没有说 n 必须是 1 位数字。在我的测试中是第 10 组还是第 1 组？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T07:57:25.753

您尝试匹配`0`括号之间的字符，然后您希望前一个匹配的字符`\1`也存在，然后是一个`0`字符。`000`确实验证了该模式，因此该`match()`方法返回`true`，所以它打印`true`。

由于匹配器没有找到`10`捕获组，它将其解释为第一个，`\1`然后是字符`0`。

一个更复杂的例子表明，如果匹配器发现`N`捕获组 > 9 并且捕获组的可用数量足够，它也可以：

```
System.out.println(
    "01234567891011 01120".matches(
        "(0)(1)(2)(3)(4)(5)(6)(7)(8)(9)(10)(11) \\1\\12\\30"
    )
); 
```

是真的，因为`0`在第一个捕获组中`\1`并且`11`在捕获组`\12`中，最后没有捕获的组号`\30`，所以它被解释为反向引用`\3`（即字符`2`），然后是字符`0`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T13:53:27.860

这种情况下的行为在Pattern api 的[与 Perl 5 的比较部分中进行了描述：](http://docs.oracle.com/javase/1.5.0/docs/api/index.html?java/util/regex/Pattern.html)

> 在 Perl 中，\1 到 \9 总是被解释为反向引用；如果至少存在那么多子表达式，则将大于 9 的反斜杠转义数字视为反向引用，否则如果可能，将其解释为八进制转义。在此类中，八进制转义必须始终以零开头。**在这个类中，\1 到 \9 总是被解释为反向引用，如果在正则表达式中的那个点至少存在那么多子表达式，则接受一个较大的数字作为反向引用**，否则解析器将删除数字直到数字小于或等于现有组数或为一位数。

# c++ - 从 QML（Qt Quick 应用程序）调用 C++ 方法

> ID：13815788
> 
> 赞同：8
> 
> 时间：2012-12-11T07:48:45.340
> 
> 标签：c++, qt, qt-quick

所以，我做了一些搜索，我读过的类似问题都没有有效的建议。

我正在使用 Qt Creator（而且我对 Qt 不太熟悉）所以我不确定它在后台做了什么巫术。但是，我使用的是标准的 Qt Quick Application 项目。

本质上，我想从 QML 调用一个 C++ 函数，该函数返回一个字符串，该字符串定期替换布局中的某些文本。

这是main.cpp：

```
#include <QtGui/QApplication>
#include "qmlapplicationviewer.h"
#include <QDeclarativeContext>

class testClass : public QObject
{
    Q_OBJECT
public:
    Q_INVOKABLE QString gimmeText() {
            return QString("new text");
}
};

Q_DECL_EXPORT int main(int argc, char *argv[])
{
    QScopedPointer<QApplication> app(createApplication(argc, argv));

    QmlApplicationViewer viewer;

    viewer.setOrientation(QmlApplicationViewer::ScreenOrientationAuto);
    viewer.setMainQmlFile(QLatin1String("qml/Picenter2/main.qml"));

    testClass t;
    viewer.rootContext()->setContextProperty("testOb", &t);

    viewer.showFullScreen();

    return app->exec();
} 
```

这是布局的一个片段（因为其中大部分显然无关紧要）：

```
Text {
    id: text1
    x: 105
    y: 156
    color: "#ffffff"
    text: qsTr("text")
    font.pixelSize: 12
    Timer {
        interval: 1000; running: true; repeat: false
        onTriggered: text1.text = testOb.gimmeText();
    } 
```

给出的错误是：

```
invalid use of incomplete type 'struct QDeclarativeContext' main.cpp (28)
forward declaration of 'struct QDeclarativeContext' qdeclarativeview.h (60) 
```

编辑：包含 QDeclarativeContext 时，上述内容消失，出现以下错误：

```
(.text.startup+0x3e):-1: error: undefined reference to `vtable for testClass'
(.text.startup+0xcf):-1: error: undefined reference to `vtable for testClass'
(.text.startup+0x12b):-1: error: undefined reference to `vtable for testClass'
:-1: error: collect2: ld returned 1 exit status 
```

我没有做过太多的 C++ 编程，所以我并不完全熟悉这意味着什么。遵循基本相同问题的建议只会给我 vtable 错误或更难以理解的东西。

真正让我困惑的是，查看头文件，QmlApplicationViewer 是从 QDeclarativeView 派生的，这正是 Qt 文档[在这里](http://qt-project.org/doc/qt-4.8/qtbinding.html#calling-functions)用来做我想要的几乎完全一样的东西。感谢任何人的任何建议。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-16T02:27:12.220

您必须注册您的课程才能将其与 QML 一起使用。您可以在主函数中执行此操作。您也必须在 QML 代码中导入它。您的代码应如下所示：

主.cpp：

```
#include <QtGui/QApplication>
#include "qmlapplicationviewer.h"
#include <QDeclarativeContext>

#include <QtDeclarative>    // Required for registration

class testClass : public QObject
{
    Q_OBJECT
    public:
    Q_INVOKABLE QString gimmeText() {
            return QString("new text");
    }
};

Q_DECL_EXPORT int main(int argc, char *argv[])
{
    QScopedPointer<QApplication> app(createApplication(argc, argv));

    qmlRegisterType<testClass>("MyCustomQMLObjects", 2, 35, "testClassNameInQML");

    QmlApplicationViewer viewer;

    viewer.setOrientation(QmlApplicationViewer::ScreenOrientationAuto);
    viewer.setMainQmlFile(QLatin1String("qml/Picenter2/main.qml"));

    testClass t;
    viewer.rootContext()->setContextProperty("testOb", &t);

    viewer.showFullScreen();

    return app->exec();
} 
```

QML 代码：

```
// ...

import MyCustomQMLObjects 2.35

// ...

property testClassNameInQML testOb

// ...

Text {
    id: text1
    x: 105
    y: 156
    color: "#ffffff"
    text: qsTr("text")
    font.pixelSize: 12
    Timer {
        interval: 1000; running: true; repeat: false
        onTriggered: text1.text = testOb.gimmeText();
    }

// ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:54:43.883

我没有经验，`qt`也看不到代码中触发错误的内容。但是，当发生此类错误时，这是​​因为一个类 (struct QDeclarativeContext) 已被**前向声明**，但**使用时好像整个定义都是已知的**（访问成员、声明此类型的变量等）。要解决此问题，您需要**包含**具有此类型定义的标头。

# windows-xp - 在计划任务中自动传递密码

> ID：13815791
> 
> 赞同：0
> 
> 时间：2012-12-11T07:49:01.913
> 
> 标签：windows-xp, scheduled-tasks

我在 XP 中创建了一个计划任务，用于每天运行一个程序。它工作得很好。但它需要用户名和密码才能登录。如何在登录窗口提示输入用户名和密码后自动提供此登录详细信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T16:51:40.220

```
Control Panel -> Scheduled Tasks -> Properties -> Tab Task -> Run as username/password 
```

如果现有提示被禁用，创建一个新任务应该会有所帮助。向导将询问用户名和密码。

# c# - 如何将 DBMS_DESCRIBE.DESCRIBE_PROCEDURE 与 system.data.oracleclient 一起使用？

> ID：13815792
> 
> 赞同：0
> 
> 时间：2012-12-11T07:49:10.927
> 
> 标签：c#, .net, oracle, oracle10g

我需要使用`DBMS_DESCRIBE.DESCRIBE_PROCEDURE`with `system.data.oracleclient`。`DBMS_DESCRIBE.DESCRIBE_PROCEDURE`需要`NUMBER_TABLE`和`VARCHAR2_TABLE`类型参数，但`OracleType`枚举中没有这样的类型。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T08:24:46.023

我认为您正在搜索的是具有您需要的数据类型的 OracleDbType。

在存储过程中使用，整个事情看起来像这样：

```
cmd.Parameters.Add("OBJECT_NAME", Oracle.DataAccess.Client.OracleDbType.Varchar2).Value = "myValue"; 
```

如果您需要有关使用 DBMS_DESCRIBE.DESCRIBE_PROCEDURE 的更多信息，我想推荐您访问[此站点。](http://icodesnip.com/snippet/csharp/call-oracle-dbms_describedescribe_procedure-code-snippets)

我希望这会有所帮助:)

# javascript - 将图像上传到 Galleria 时使用 Flickr

> ID：13815804
> 
> 赞同：0
> 
> 时间：2012-12-11T07:49:57.350
> 
> 标签：javascript, html, flickr, galleria

所以我正在尝试使用 JavaScript 图片库框架 Galleria。[http://galleria.io/](http://galleria.io/)

有一个关于如何安装 Flickr 插件的页面，但对于我们应该在#galleria div 和放置链接脚本的位置之间做些什么还不清楚。

这就是我所拥有的（这不起作用，只是给我一个黑匣子）

```
<!DOCTYPE html>
<html lang="en">

<head>
<link rel="stylesheet" type="text/css" href="geordie.css" />
<script type="text/javascript" src="geordie.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js"></script>
<script src="galleria/galleria-1.2.8.min.js"></script>
<script src="plugins/flickr/galleria.flickr.min.js"></script>
<title>Home</title>
<meta charset="UTF-8"/>

</head>

<body>
<?php
//header
include("header.php");
?>  

<div id="content">

<div id="galleria">
</div>
<script>
Galleria.loadTheme('galleria/themes/classic/galleria.classic.min.js');
Galleria.run('#galleria', {
flickr: 'search:galleria'
});
</script>

</div>  

<div id="footer">
</div>

</body>

</html> 
```

还想知道如何链接到特定人的 Flickr 帐户？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T23:11:36.343

在你的 javascript 部分——你可以把它放在你的页眉或页面底部，或者你通常放置 javascriopt 代码的任何地方——你应该：

*   加载jQuery
*   加载 Galleria 脚本 (galleria-1.2.8.min.js)
*   加载 Galleria flickr 插件脚本 (plugins/flickr/galleria.flickr.min.js)

然后，在 document.ready() 块中：

*   加载您正在使用的 Galleria 主题（经典、十二、对开等）
*   使用 jquery 选择器附加画廊并设置您的选项。

这是一个基于您的 HTML 页面的示例：

```
<!DOCTYPE html>
<html lang="en">

<head>
<link rel="stylesheet" type="text/css" href="geordie.css" />
<script type="text/javascript" src="geordie.js"></script>

<title>Home</title>
<meta charset="UTF-8"/>

<script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="./galleria/galleria-1.2.8.min.js"></script>
<script type="text/javascript" src="./galleria/plugins/flickr/galleria.flickr.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){

    Galleria.loadTheme('./galleria/themes/classic/galleria.classic.min.js');
    $("#galleria").galleria({
        responsive: true,
        height: .57,
        imageCrop: false,
        thumbCrop: 'height',
        carousel: false,
        showInfo: true,
        swipe: true,
        easing: 'galleriaOut',
        transition: 'pulse',
        flickr: 'search:leica',
        flickrOptions: {
            max: 10
        }
    });

});
</script>

<style>
#galleria
{
    width: 100%;
    height: auto;
}
</style>

</head>

<body>
<?php
//header
include("header.php");
?>

<div id="content">

    <div id="galleria"></div>

</div>

<div id="footer">
</div>

</body>

</html> 
```

注意：上面的示例代码还设置了许多选项，以使画廊响应并使用移动滑动手势（将“响应”和“滑动”设置为 true）。此外，您应该在 CSS 样式块或样式表中设置画廊容器 (#galleria) 的宽度和高度，以便 Galleria 知道如何正确调整它的大小——如果您希望 Galleria 自动响应地调整画廊的大小，请设置高度Galleria 选项中的比率（示例中为 0.57）。有关选项的更多详细信息，请参阅[Galleria 文档 -- http://galleria.io/docs/](http://galleria.io/docs/)。

要使用 flickr 插件来显示搜索结果，只需指定搜索词并可选择设置要显示的“最大”图像数量（我认为 detault 是 30）。在上面的示例中，最大值设置为 10：

```
$("#galleria").galleria({

    // your other galleria options here...

    // set flickr plugin options here:
    flickr: 'search:leica',
    flickrOptions: {
        max: 10
    }
}); 
```

要显示 flickr 用户的公开照片，请执行

```
$("#galleria").galleria({

    // your other galleria options here...

    // set flickr plugin options here:
    flickr: 'user:library_of_congress',
    flickrOptions: {
        max: 10
    }
}); 
```

要显示照片集，请执行

```
$("#galleria").galleria({

    // your other galleria options here...

    // set flickr plugin options here:
    flickr: 'set:72157618541455384',
    flickrOptions: {
        max: 10
    }
}); 
```

您还可以按标签显示照片（使用“标签”选项）。插件文档页面上概述了这些选项：

*   [http://galleria.io/docs/plugins/flickr/](http://galleria.io/docs/plugins/flickr/)

# php - 登录后jQuery AJAX PHP OOP登录丢失SESSION

> ID：13815805
> 
> 赞同：3
> 
> 时间：2012-12-11T07:50:00.430
> 
> 标签：php, jquery

我有一个面向对象的 PHP 登录系统，可以使用 jQuery AJAX 成功登录用户，但是在重定向新网页（或返回 URL）时，$SESSION 信息会丢失。编码有什么问题？

**编辑/更新：**当我分配或查看/回显 $_SESSION 变量时，我发现此问题出现在任何页面上。有什么不对劲。这是我用于 SESSIONS 的 php.ini 文件的副本。

```
[Session]
; Handler used to store/retrieve data.
; http://php.net/session.save-handler
session.save_handler = files

; Argument passed to save_handler.  In the case of files, this is the path
; where data files are stored. Note: Windows users have to change this
; variable in order to use PHP's session functions.
;
; The path can be defined as:
;
;     session.save_path = "N;/path"
;
; where N is an integer.  Instead of storing all the session files in
; /path, what this will do is use subdirectories N-levels deep, and
; store the session data in those directories.  This is useful if you
; or your OS have problems with lots of files in one directory, and is
; a more efficient layout for servers that handle lots of sessions.
;
; NOTE 1: PHP will not create this directory structure automatically.
;         You can use the script in the ext/session dir for that purpose.
; NOTE 2: See the section on garbage collection below if you choose to
;         use subdirectories for session storage
;
; The file storage module creates files using mode 600 by default.
; You can change that by using
;
;     session.save_path = "N;MODE;/path"
;
; where MODE is the octal representation of the mode. Note that this
; does not overwrite the process's umask.
; http://php.net/session.save-path
session.save_path = "/var/php_sessions"

; Whether to use cookies.
; http://php.net/session.use-cookies
session.use_cookies = 1

; http://php.net/session.cookie-secure
;session.cookie_secure =

; This option forces PHP to fetch and use a cookie for storing and maintaining
; the session id. We encourage this operation as it's very helpful in combating
; session hijacking when not specifying and managing your own session id. It is
; not the end all be all of session hijacking defense, but it's a good start.
; http://php.net/session.use-only-cookies
session.use_only_cookies = 1

; Name of the session (used as cookie name).
; http://php.net/session.name
session.name = PHPSESSID

; Initialize session on request startup.
; http://php.net/session.auto-start
session.auto_start = 1

; Lifetime in seconds of cookie or, if 0, until browser is restarted.
; http://php.net/session.cookie-lifetime
session.cookie_lifetime = 0

; The path for which the cookie is valid.
; http://php.net/session.cookie-path
session.cookie_path = /

; The domain for which the cookie is valid.
; http://php.net/session.cookie-domain
session.cookie_domain =

; Whether or not to add the httpOnly flag to the cookie, which makes it inaccessible to browser scripting languages such as JavaScript.
; http://php.net/session.cookie-httponly
session.cookie_httponly =

; Handler used to serialize data.  php is the standard serializer of PHP.
; http://php.net/session.serialize-handler
session.serialize_handler = php

; Defines the probability that the 'garbage collection' process is started
; on every session initialization. The probability is calculated by using
; gc_probability/gc_divisor. Where session.gc_probability is the numerator
; and gc_divisor is the denominator in the equation. Setting this value to 1
; when the session.gc_divisor value is 100 will give you approximately a 1% chance
; the gc will run on any give request.
; Default Value: 1
; Development Value: 1
; Production Value: 1
; http://php.net/session.gc-probability
session.gc_probability = 1

; Defines the probability that the 'garbage collection' process is started on every
; session initialization. The probability is calculated by using the following equation:
; gc_probability/gc_divisor. Where session.gc_probability is the numerator and
; session.gc_divisor is the denominator in the equation. Setting this value to 1
; when the session.gc_divisor value is 100 will give you approximately a 1% chance
; the gc will run on any give request. Increasing this value to 1000 will give you
; a 0.1% chance the gc will run on any give request. For high volume production servers,
; this is a more efficient approach.
; Default Value: 100
; Development Value: 1000
; Production Value: 1000
; http://php.net/session.gc-divisor
session.gc_divisor = 1000

; After this number of seconds, stored data will be seen as 'garbage' and
; cleaned up by the garbage collection process.
; http://php.net/session.gc-maxlifetime
session.gc_maxlifetime = 1440

; NOTE: If you are using the subdirectory option for storing session files
;       (see session.save_path above), then garbage collection does *not*
;       happen automatically.  You will need to do your own garbage
;       collection through a shell script, cron entry, or some other method.
;       For example, the following script would is the equivalent of
;       setting session.gc_maxlifetime to 1440 (1440 seconds = 24 minutes):
;          find /path/to/sessions -cmin +24 | xargs rm

; PHP 4.2 and less have an undocumented feature/bug that allows you to
; to initialize a session variable in the global scope, even when register_globals
; is disabled.  PHP 4.3 and later will warn you, if this feature is used.
; You can disable the feature and the warning separately. At this time,
; the warning is only displayed, if bug_compat_42 is enabled. This feature
; introduces some serious security problems if not handled correctly. It's
; recommended that you do not use this feature on production servers. But you
; should enable this on development servers and enable the warning as well. If you
; do not enable the feature on development servers, you won't be warned when it's
; used and debugging errors caused by this can be difficult to track down.
; Default Value: On
; Development Value: On
; Production Value: Off
; http://php.net/session.bug-compat-42
session.bug_compat_42 = Off

; This setting controls whether or not you are warned by PHP when initializing a
; session value into the global space. session.bug_compat_42 must be enabled before
; these warnings can be issued by PHP. See the directive above for more information.
; Default Value: On
; Development Value: On
; Production Value: Off
; http://php.net/session.bug-compat-warn
session.bug_compat_warn = Off

; Check HTTP Referer to invalidate externally stored URLs containing ids.
; HTTP_REFERER has to contain this substring for the session to be
; considered as valid.
; http://php.net/session.referer-check
session.referer_check =

; How many bytes to read from the file.
; http://php.net/session.entropy-length
session.entropy_length = 0

; Specified here to create the session id.
; http://php.net/session.entropy-file
; On systems that don't have /dev/urandom /dev/arandom can be used
; On windows, setting the entropy_length setting will activate the 
; Windows random source (using the CryptoAPI)
session.entropy_file = /dev/urandom

; Set to {nocache,private,public,} to determine HTTP caching aspects
; or leave this empty to avoid sending anti-caching headers.
; http://php.net/session.cache-limiter
session.cache_limiter = nocache

; Document expires after n minutes.
; http://php.net/session.cache-expire
session.cache_expire = 180

; trans sid support is disabled by default.
; Use of trans sid may risk your users security.
; Use this option with caution.
; - User may send URL contains active session ID
;   to other person via. email/irc/etc.
; - URL that contains active session ID may be stored
;   in publicly accessible computer.
; - User may access your site with the same session ID
;   always using URL stored in browser's history or bookmarks.
; http://php.net/session.use-trans-sid
session.use_trans_sid = 1

; Select a hash function for use in generating session ids.
; Possible Values
;   0  (MD5 128 bits)
;   1  (SHA-1 160 bits)
; This option may also be set to the name of any hash function supported by
; the hash extension. A list of available hashes is returned by the hash_algos()
; function.
; http://php.net/session.hash-function
session.hash_function = 0

; Define how many bits are stored in each character when converting
; the binary hash data to something readable.
; Possible values:
;   4  (4 bits: 0-9, a-f)
;   5  (5 bits: 0-9, a-v)
;   6  (6 bits: 0-9, a-z, A-Z, "-", ",")
; Default Value: 4
; Development Value: 5
; Production Value: 5
; http://php.net/session.hash-bits-per-character
session.hash_bits_per_character = 4

; The URL rewriter will look for URLs in a defined set of HTML tags.
; form/fieldset are special; if you include them here, the rewriter will
; add a hidden <input> field with the info which is otherwise appended
; to URLs.  If you want XHTML conformity, remove the form entry.
; Note that all valid entries require a "=", even if no value follows.
; Default Value: "a=href,area=href,frame=src,form=,fieldset="
; Development Value: "a=href,area=href,frame=src,input=src,form=fakeentry"
; Production Value: "a=href,area=href,frame=src,input=src,form=fakeentry"
; http://php.net/url-rewriter.tags
url_rewriter.tags = "a=href,area=href,frame=src,input=src,form=,fieldset=" 
```

我有初始登录页面登录。php（也包含 jQuery AJAX） login.php

```
<?php

    session_start();
?>
<html>
    <head>
                <script type="text/javascript" src="http://static.fluxexchange.com/fluxexchange/js/jquery-1.8.3.min.js"></script>

    </head>
    <body>
        <form action="" id="login" class="network_login" onSubmit="return false;">
                                <h3>Sign in to share your cultures and interests with friends.</h3>
                                <div>
                                <label>Handle, Email, or Phone</label><input name="handle" id="login-handle" class="login_input">
                                </div>
                                <div>
                                <label>Passcode</label><input name="password" id="login-password" class="login_input" type="password">
                                </div>
                                <div>
                                <input class="auto-authenticate" type="checkbox" style="border:0px;"><label style="width:auto;">Keep me authenticated</label>
                                </div>
                                <?php
                                    $iredirect_url=$_GET['return_url'];
                                ?>
                                <input type="hidden" name="return_url" value="<?php echo $iredirect_url; ?>">

                                <label id="login_submit_button" class="login_button">
                                    <input class="login-button-blue" value="Authenticate" type="submit">
                                </label>
                                <div id="login-loader" class="loader"></div>
                                <span class="login-option" id="more-login-options">I'm looking for more login options.</span>
                            </form>
              $(function(){
    $("#login-loader").hide();
    $("#login-success-notification").hide();
    $("#login_submit_button").click(function(){
        $("#login-loader").fadeIn(1000);
        authenticateUser();
    });
});
function authenticateUser(){

    $.ajax({
        type:"POST",
        url:"engine/authenticate_user.php",
        cache:false,
        data: $("#login").serialize(),
        dataType:"json",
        async:false,
        success: function(resp){

            console.log(resp);

            $('.reg-error-notification').empty();
            $('.reg-error-notification').hide();

            if(resp.logged_in=="true"){
                $("#login-success-notification").append('<p>'+resp.session_test+'</p>').fadeIn(1000, function(){
                    window.location.href=resp.return_url;
                });

            } else {
                $("#login-loader").fadeOut(1000);
                $('#login-error-notification').append('<p>The handle you entered is incorrect. Please try again.</p>').fadeIn(1000);
            }
        },
    });
}
    </body>
</html> 
```

和 index.php（问题发生时登录被重定向到的地方。

```
<?
    session_start();
        print_r($_SESSION['network_id']);   

?> 
```

和 authenticate_user.php

```
<?php
    session_start();
    require("login-classes.php");

    $Authenticate= new Authenticate($_POST['handle'], $_POST['password'], $_POST['network'], $_POST['fenetwork']);
    $Authenticate->authenticateUser();

    $result=array();
    if($Authenticate->isLoggedIn()){

        $result['logged_in']="true";
        $result['return_url']=($_POST['return_url']);
        $result['session_test']=$_SESSION['network_id'];
    } else {

        $result['logged_in']="false";
    }

    echo json_encode($result);
?> 
```

login-classes.php（包含在 authenticate_user.php 中）

```
 <?php
        //(C) Flux Exchange Network, Inc.
        require ("database-classes.php");

        class Authenticate {

            public function __construct($username, $password, $network_site, $parent_network) {

                $this->handle=$username;
                $this->password=crypt($password, $this->salt);
                $this->parent_network=$parent_network;
                $this->network_site=$network_site;          
            }

            public function authenticateUser(){
                $database=new Database();
                $database->getConnection();
                $database->startConnection();

                $authenticate_q=mysql_query("SELECT network_users.network_id
                FROM network_users
                WHERE network_users.handle = '$this->handle'
                AND network_users.password ='$this->password'
                LIMIT 1");

                if(mysql_num_rows($authenticate_q)==1){

                    $this->isLoggedIn=true;
                    $user=mysql_fetch_array($authenticate_q);
                    $this->network_id=$user['network_id'];
                    $this->setNetworkId();
                } else{
                    //header('HTTP/1.1 500 Internal Server Error');
                    //die("Something went wrong.");
                }
            }

            function isLoggedIn(){

                return $this->isLoggedIn;
            }

            function addError($error){

                $this->error_list[]=$error;
            }

            function setNetworkId(){

                $_SESSION['network_id']=$this->network_id;
            }

            private $network_id, $handle, $password, $network_site, $parent_network, $error_list, $isLoggedIn=false,
            $salt="PRIVATE INFO";
        }
    ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T12:01:33.397

所以这是你的PHP配置的问题。

几天前我在我的 linux 测试机器上遇到了这个问题——我只是通过清除 /tmp 的内容来解决它——会话数据存储在其中。

你运行的是什么版本的PHP？

对于旧版本的 PHP，必须启用扩展 session.so（在 php.ini 中）才能使其工作，在较新版本上它应该默认工作。

您可以在 php.ini 文件中检查会话数据的保存路径，搜索该行

```
session.save_path = "/tmp" 
```

在较新的安装中，这被注释掉了，这很好，因为它默认为 /tmp。

确保正确设置了 PHP 读取/写入文件夹的权限。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T09:46:50.023

可能是一个愚蠢的问题 - 但是您的登录文件是否在同一个域中？PHP 会话不会跨子域传输，因此如果您的 login.php 位于子域上，例如。login.example.com 并且您的 index.php 位于 www.example.com - 这不起作用..

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-11T10:48:08.187

您是否测试过 PHP 会话是否正常工作？

我问的原因是我最近重新安装了 linux / apache / PHP - 在我删除 /tmp 的内容之前我的会话没有工作

可以通过创建2个文件进行测试，文件1：

```
session_start();
$_SESSION['test']='hi'; 
```

文件2：

```
session_start();
var_dump($_SESSION); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-11T11:35:59.317

问题现在缩小到从一个页面到另一个页面的 $_SESSION 变量。我确保所有页面的顶部都有 session_start() 并设置了会话并在单独的页面上回显了会话。但是，它不会将数据传送到下一页。造成这种情况的可能原因是什么？

# android - AsyncTask 类 onPostExecute 方法的返回值

> ID：13815807
> 
> 赞同：9
> 
> 时间：2012-12-11T07:50:03.483
> 
> 标签：android, android-asynctask, return-value

好的，现在我有`Class A`一些微调器，其值将由从 Web 服务中获取微调器值的`Class B`扩展填充。`AsnycTask`在 B 类中，我设法检索值，显示在 Toast 中。现在的问题是如何将这些微调器值传递回 A 类？

我试过了

[AsyncTask 中的 OnPostExcecute 方法可以返回值吗？](https://stackoverflow.com/questions/10005353/can-onpostexcecute-method-in-asynctask-return-values)

通过将值传递`Class A`并存储在如下`Class B`的公共变量中`Class A`

```
@Override
protected void onPostExecute(String result)
{
  classA.classAvariable = result;
} 
```

但是，每当我尝试阅读时，`classAvariable`我总是会得到一个`NullPointer Exception`. 似乎从未为变量分配结果。出于可读性目的，我需要分开`Class B`而不是用作内联类。

我的 Java 程序员同行有什么想法吗？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-12-11T08:00:17.480

我猜您正在尝试在设置 A 类变量之前对其进行设置。尝试使用回调来执行此操作。在回调函数中传递值并刷新您的微调器。

您可以创建`interface`，将其传递给`AsyncTask`（在构造函数中），然后调用方法`onPostExecute`

例如：

你的界面：

```
public interface OnTaskCompleted{
    void onTaskCompleted(values);
} 
```

您的活动：

```
public YourActivity implements OnTaskCompleted{
    //your Activity
    YourTask  task = new YourTask(this); // here is the initalization code for your asyncTask
} 
```

还有你的 AsyncTask：

```
public YourTask extends AsyncTask<Object,Object,Object>{ //change Object to required type
    private OnTaskCompleted listener;

    public YourTask(OnTaskCompleted listener){
        this.listener=listener;
    }

    //required methods

    protected void onPostExecute(Object o){
        //your stuff
        listener.onTaskCompleted(values);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T09:23:00.877

这里的问题是，当您执行 AsynchTask 时，它的 doInBackground() 方法在单独的线程中运行，并且启动此 AsynchTask 的线程向前移动，因此 AsynchTask 在您的变量上发生的更改不会反映在父线程上（谁声明了这个 AsynchTask）立即地。

例子 -

```
class MyAsynchTask
{

doInbackground()
{
a = 2;
}

}

int a = 5;

new MyAsynchTask().execute(); 
```

// 这里仍然是 5

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T08:02:42.220

创建一个接口，`OnCompletRequest()`然后将其传递给您的 ClassB 构造函数，并简单地调用此接口内`complete(yourList list)` 的方法，例如在`onPostExecute(String result)`

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2021-06-24T14:23:44.477

`protected Boolean doInBackground()`您可以通过调用class的`get()`方法来检索 的返回值：`AsyncTask`

例如，您有类似的`AsyncTask`课程`dbClass`

```
dbClass bg = new dbClass(this);
String Order_id = bg.execute(constr,data).get(); 
```

在这里，我`constr`作为 URL 和`data`输入字符串传递，以使我的类动态。

但是要注意 UI 的响应性，因为`get()`等待计算完成会阻塞 UI 线程。

# openssl - cmd中的openssl输出不正确（不写入文件）

> ID：13815809
> 
> 赞同：2
> 
> 时间：2012-12-11T07:50:07.530
> 
> 标签：openssl, cmd, output

我的目的是验证 cms 消息，我选择的工具是 openssl 应用程序。操作是`openssl smime -verify -in [fileName] -inform der -noverify -out [outputFileName]`（参数`-noverify`是根证书的问题，我觉得没关系，这个问题以后会解决的））。cmd控制台窗口中的结果是“验证成功”（数字签名为真，未经高级证书检查）。但是我认为输出文件中的信息编码不正确（我检查所有试图读取此文件的 c# 编码，但它是另一回事）。如果我在 powershell 中运行操作并在控制台中进行日志记录，则历史记录不包括仅 openssl 操作的输出。我在c#上写了一个小应用程序，用于在messagebox中输出进程，messagebox的数据为空。所以我真的需要你的建议如何解决我的任务。

# ruby-on-rails - 如何编写代码以防止 Rails3 中的垃圾邮件？

> ID：13815811
> 
> 赞同：0
> 
> 时间：2012-12-11T07:50:10.020
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我完全理解验证码，并且已经在我的应用中实施。到目前为止工作正常。
显然，如果每次发布时它都要求您输入验证码，那会很烦人:(

现在我正在考虑将当前时间与用户上次提出的时间进行比较的方式。如果它是 Post 模型，并且它有它的 created_at(Timestamp)

如何在我的控制器中写入？我想在创建时使用“过滤前”检查。我希望用户至少等待 1 分钟才能发布下一篇文章。

下面应该是这样的吗？我是Rails的新手。请帮忙！

```
def spam_check

 @post = Post.find_by_user_id(current_user.id)
 lasttime = @post.created_at.last

end 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-11T07:58:09.403

在您的`Post`模型中：

```
validate :spam_check?, :on => :create

def spam_check?
   @post = Post.find_all_by_user_id(current_user.id).last
   last_time = @post.created_at

   Time.now - last_time > 1.minute
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T08:54:29.280

您可以使用 JS 填写一些在发送前自动填写表单中的一些隐藏字段。如果有人禁用了 JS，那么只需查看验证码。

**EDIT:** It is good idea in addition to [@sub_stantial's post](https://stackoverflow.com/a/13815925/1017941).

# sql - MS SQL - 存储数据类型

> ID：13815816
> 
> 赞同：0
> 
> 时间：2012-12-11T07:50:32.560
> 
> 标签：sql, sql-server, sqldatatypes

我想创建一个包含以下列的表

```
AssessmentTypeSpecificAttributeId int
AssessmentTypeSpecificAttributeName nvarchar(256)
AssessmentTypeSpecificAttributeDataType DATATYPE 
```

有什么方法可以将数据类型存储为数据...

如果没有办法，我将不得不使用 nvarchar(256) 。

但首先，我想试一试。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T17:55:12.837

您的属性的实际值在哪里？您可以在当前表中使用的唯一内容是`NVARCHAR`因为“datetime”不是有效值`datetime`，“int”不是有效值`int`等。

假设同一个表包含属性的值，那么另一种方法是使用[`sql_variant`](http://msdn.microsoft.com/en-us/library/ms173829.aspx)：

```
drop table #t
go

create table #t (
    AttrID int primary key,
    AttrName nvarchar(256) not null,
    AttrValue sql_variant not null,
    AttrDataType as sql_variant_property(AttrValue, 'BaseType')
)
go

insert into #t (AttrID, AttrName, AttrValue) select 1, N'Test integer', cast(1 as int)
insert into #t (AttrID, AttrName, AttrValue) select 2, N'Test datetime', getdate()
insert into #t (AttrID, AttrName, AttrValue) select 3, N'Test decimal', cast(1.0 as decimal(2,1))
go

select * from #t 
```

但是`sql_variant`有一些很大的缺点：它不能存储所有数据类型，不是所有工具和库都支持它，它需要在任何地方进行额外的编码才能将其转换为“真实”数据类型等。

# internationalization - Eclipse RCP 3.8 应用程序的国际化：未加载 JFace 对话框值

> ID：13815819
> 
> 赞同：0
> 
> 时间：2012-12-11T07:50:35.103
> 
> 标签：internationalization, eclipse-rcp

我想翻译一个基于 Juno 3.8 的 Eclipse RCP 应用程序。对于 Eclipse 平台，我下载了相应的德语 Babel 语言包：[BabelLanguagePack-eclipse-de_4.2.0.v20121120043402.zip](http://download.eclipse.org/technology/babel/babel_language_packs/R0.10.1/juno/juno.php)。

除了 JFace 对话框中的按钮之外，一切似乎都工作正常：取消、下一步等未翻译。包含翻译的相应片段（org.eclipse.jface.nl_de_4.2.0.v20121120043402.jar）已正确加载（我可以在插件详细信息中看到），但未显示德语值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-21T12:35:51.423

您指定的捆绑包适用于 4.2 版（但您使用的是 3.8）。这可能是问题所在。

# css - overflow:auto 对浮动 div 的影响

> ID：13815820
> 
> 赞同：1
> 
> 时间：2012-12-11T07:50:37.537
> 
> 标签：css, html

简短版本：为什么`overflow:auto`导致`div`左侧浮动的右侧`div`不将其文本环绕在左侧浮动`div`？（奖励：这是实现列效果的可接受方式吗？）

长版...

我有两个`div`我希望彼此相邻并显示为列的 s。`div`左边的有一个特定的宽度和高度。而且`div`左边的比`div`右边的短。但是，我不希望右侧的文本在`div`左侧 div 下换行。

这是我的第一次尝试...

```
<div>
    <div style="border:1px solid grey;
        width:100px;
        height:100px;
        float:left;">
        Div on the left.
    </div>
    <div>
        Imagine lots and lots of text here...
    </div>
    <div style="clear:both"/>
</div> 
```

...我知道右边的文字`div`会包裹在左边`div`。它确实做到了。

然后我想起了我创建的具有列效果的页面。我从不知道在哪里复制并粘贴了它。它所做的只是分配`overflow:auto`到`div`右侧。看起来像这样...

```
<div>
    <div style="border:1px solid grey;
        width:100px;
        height:100px;
        float:left;">
        Div on the left.
    </div>
    <div style="overflow:auto">
        Imagine lots and lots of text here...
    </div>
    <div style="clear:both"/>
</div> 
```

瞧，右边`div`的文字不再包裹在第一个（左）下`div`！第二个（右）`div`显示为一列。

所以，我阅读了我能找到的所有内容，但`overflow:auto`没有提到为什么我应该看到这种行为。谁能给我解释一下？

另外，这是实现列效果的可接受方式吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:56:11.030

为了让 div 彼此相邻，它们都需要一个浮点数并适合周围的 div。

**例子：**

```
<div style="width:200px;">
  <div style="width:100px; float:left;">
      content
  </div>
  <div style="width:100px; float:left;">
      content
  </div>
</div> 
```

如果您希望大纲 div 与 div 的最大 div 位置一起增长`overflow:hidden;`。如果该 div 没有高度，那么它将与大 div 一起缩放。

**预览：http:** [//jsfiddle.net/WzVBE/](http://jsfiddle.net/WzVBE/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:59:30.557

`float:left`从第一个 div 中删除。

```
<div>
    <div style="border:1px solid grey; width:100px; height:100px;">
        Div on the left.
    </div>
    <div style="overflow:auto;  ">
        Imagine lots and lots of text here...
    </div>
    <div style="clear:both"/>
</div>​ 
```

**[演示](http://jsfiddle.net/aErTV/2/)**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-11T08:00:20.573

你可以试试这个

```
<div style="width:800px; background-color:#CCC">
    <div style="width:300px; height:100px; float:left; background-color:#CCC">
        Div on the left.
    </div>
    <div style="height:100px; float:left; width:500px; background-color:#999">
        Imagine lots and lots of text here...
    </div>
    <div style="clear:both"/>
</div> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-11T08:24:45.293

`overflow: auto`（或除此之外的任何内容`visible`）会导致您的第二个`div`创建新的[块格式化上下文](http://www.w3.org/TR/CSS21/visuren.html#block-formatting)。这意味着其中的文本`div`现在处于其自己的格式化上下文中，而不是与您的第一个左浮动`div`（这是*两个* `div`s 的包含块）共享相同的文本，因此不再允许它围绕第一个流动`div`.

浮点数也生成自己的 BFC，但这与手头的问题并不完全相关。但是，它确实也可以防止回流，从而实现列效果，如其他答案所示。

这是创建列效果的可接受方式吗？我不知道，但它确实看起来非常规。`div`出于上述原因，您也可以只浮动第二个（尽管即便如此，为了支持即将推出的真正布局模式，如 flexbox 和网格，现在现在被视为浏览器兼容性黑客，但这是我们所拥有的最好的暂且）。

请记住，内联内容旨在能够自然地围绕浮动内容流动；参见[CSS2.1, §9.5 浮点数](http://www.w3.org/TR/CSS21/visuren.html#floats)。

还要记住， 的*目的*是`overflow`控制大小有限的盒子中的内容溢出。它导致一个盒子创建一个新的 BFC，从而影响浮动，这只是一个副作用，其原因将[在此处](https://stackoverflow.com/questions/9943503/why-does-css2-1-define-overflow-values-other-than-visible-to-establish-a-new-b/11854515#11854515)探讨。这是一个冗长的阅读，但它包含一些关于防止回流的内容，为了便于参考，我将在此处引用：

> 因此，这种变化是在 CSS2.1 中引起的，记录[在这里](http://www.w3.org/TR/CSS21/changes.html#q55)。现在，如果您将一个`overflow`值应用`visible`到第二个盒子之外，浏览器所做的就是将*整个盒子*推到一边为浮动让路，因为盒子现在创建了一个新的块格式化上下文来包围它的内容，而不是四处流动浮子。例如，这是它的样子`overflow: auto`：
> 
> ![](../Images/bad92c4586a310d305a2610d068f1d50.png)
> 
> 注意没有间隙；如果第二个盒子有`clear: left`，或者`clear: both`它会被推*下*，而不是推到一边，不管它是否建立了自己的BFC。

顺便说一句，是的，这意味着`div`如果您想始终清除第一个`div`.

# node.js - 翡翠化是否按需逐一下载模板？

> ID：13815822
> 
> 赞同：1
> 
> 时间：2012-12-11T07:50:41.180
> 
> 标签：node.js, pug

我正在考虑在客户端使用 Jade 模板（使用 BackboneJS）。好像可以用[`jadeify`](https://github.com/substack/node-jadeify)。但想知道，它是如何工作的？它是逐个下载每个模板还是在服务器端编译所有模板然后将“已编译”模板文件提供给客户端？查看源代码，它看起来非常短：

[https://github.com/substack/node-jadeify/blob/master/jadeify.js](https://github.com/substack/node-jadeify/blob/master/jadeify.js)

```
var views = require('jadeify/views'); ...

module.exports = function (file, vars, opts) {
    ...
    return $(jade.render(views[file], opts));
}; 
```

第 1 行：我什至可以要求这样的文件夹吗？我可以说视图现在是该目录下的一组脚本吗？从使用的第 5 行开始就是这种情况`views[file]`。

* * *

但它调用`jade.render`. `jade.compile`先调用和缓存不是更高效吗？还是它已经缓存在某个地方？

# codeigniter - 在 CodeIgniter 中使用 REST 客户端库时出现致命错误

> ID：13815823
> 
> 赞同：0
> 
> 时间：2012-12-11T07:50:46.547
> 
> 标签：codeigniter, restful-url

[我从这里](http://getsparks.org/packages/curl/show)下载了 Rest Client 库，从[这里](http://getsparks.org/packages/restclient/versions/HEAD/show)下载了CodeIgniter 的 Curl 库。

我将两个库都放在库文件夹中，并将它们设置在自动加载库中。

现在，当我尝试运行以下代码时：

```
class Api extends CI_Controller { 

function index()  
 {   
     $this->load->spark('restclient/2.1.0');
     $this->load->library('rest', array(  
           'server' => 'my rest service url', 
    ));
      $data = $this->rest->get();  
      echo '<pre>';
    print_r($data);
     }  
} 
```

我收到以下错误：

```
Fatal error: Call to undefined method CI_Loader::spark() in /opt/lampp/htdocs/code/application/libraries/Rest.php on line 60 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T08:28:30.307

我认为你必须安装火花。看看这些链接

[http://net.tutsplus.com/tutorials/php/easy-package-management-for-codeigniter-with-sparks/](http://net.tutsplus.com/tutorials/php/easy-package-management-for-codeigniter-with-sparks/)

[http://ellislab.com/blog/entry/a-quick-look-at-sparks](http://ellislab.com/blog/entry/a-quick-look-at-sparks)

问候

iijb

# c# - 使用 objectFactory 在 C# 中加入 2 个单独的 LINQ 查询

> ID：13815828
> 
> 赞同：0
> 
> 时间：2012-12-11T07:50:50.120
> 
> 标签：c#, sql, linq, join

我正在尝试实现以下 SQL 查询，该查询以我需要的方式进入 LINQ。我加入了 2 个单独的 SQL 查询，如果团体价格大于单个价格，则选择产品。我正在使用 LINQ to 对象，并为 Purchases 和 Products 表提供了一个对象工厂。

```
select DISTINCT(a.Name) from
(select p.Prod_ID, p.Name, SUM(p.Price) as Total
from Tb_AvailableProduct p, Tb_Purchases o
where p.Prod_ID = o.Prod_ID
group by p.Prod_ID, p.Name) a
JOIN
(select p.Prod_ID, p.Price
from Tb_AvailableProduct p, Tb_Purchases o
where p.Prod_ID = o.Prod_ID) b
on a.Prod_ID = b.Prod_ID
where a.Total > b.Price 
```

我在 Linq 中有第一个查询，但我只想选择一个产品名称，如果该产品的组价大于产品的单个价格.. 即已售出多个产品。我试图用一个总和而不是一个计数来完成这个。

```
from o in this.myObjectFactory.ThePurchases
join p in this.myObjectFactory.TheProducts.Values
on o.ProductID equals p.ProductID
where o.CustomerID == customer.CustomerID
group p by p.ProductID into query1
select new { ProductID = query1.Key, TotalPurchasesThisYear = query1.Sum (p => p.Price)}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T08:51:08.497

像这样的东西可能会起作用（它与您的 SQL 查询非常相似）：

```
var result = 
    from a in
        (
            from p in TheProducts
            join o in ThePurchases
            on p.ProductID equals o.ProductID
            group p by new { p.ProductID, p.Name, p.Price } into g
            select new
            {
                ProductID = g.Key.ProductID,
                Name = g.Key.Name,
                Total = g.Sum(i => i.Price)
            }
        )
    join b in
        (
            from p in TheProducts
            join o in ThePurchases
            on p.ProductID equals o.ProductID
            select new
            {
                ProductID = p.ProductID,
                Price = p.Price
            }
        )
    on a.ProductID equals b.ProductID
    where a.Total > b.Price
    select a.Name;

result = result.Distinct(); 
```

# sql-server - 自动完成扩展器不起作用

> ID：13815830
> 
> 赞同：1
> 
> 时间：2012-12-11T07:50:52.347
> 
> 标签：sql-server, ajaxcontroltoolkit

我试图在许多网站上找到我的答案，但我认为我的代码中的每一件事都是正确的，但自动完成扩展器仍然不起作用。

```
<asp:ScriptManager ID="ScriptManager1" runat="server" EnablePageMethods = "true">
                </asp:ScriptManager>

                <asp:TextBox ID="txtName" runat="server" Width="190px" CssClass="TextBox"></asp:TextBox>

                 <cc1:AutoCompleteExtender
                ID="AutoCompleteExtender1" ServiceMethod="GetNamesList" 
MinimumPrefixLength="1"
CompletionInterval="1000" EnableCaching="true" CompletionSetCount="10" 
TargetControlID="txtName" UseContextKey="True"
 runat="server">

                </cc1:AutoCompleteExtender> 
```

[System.Web.Script.Services.ScriptMethod()] [System.Web.Services.WebMethod]

```
public string[] GetNamesList(string prefixText, int count, string contextKey)
{
    DataSet dtst = new DataSet();
    SqlConnection sqlCon = new SqlConnection(System.Configuration.ConfigurationManager.AppSettings["ConStr"]);
    string strSql = "SELECT FirstName FROM finex.tbl_SenderInfo WHERE FirstName LIKE '" + prefixText + "%' ";
    SqlCommand sqlComd = new SqlCommand(strSql, sqlCon);
    sqlCon.Open();
    SqlDataAdapter sqlAdpt = new SqlDataAdapter();
    sqlAdpt.SelectCommand = sqlComd;
    sqlAdpt.Fill(dtst);
    string[] cntName = new string[dtst.Tables[0].Rows.Count];
    int i = 0;
    try
    {
        foreach (DataRow rdr in dtst.Tables[0].Rows)
        {
            cntName.SetValue(rdr["FirstName"].ToString(), i);
            i++;
        }
    }

    catch { }

    finally
    {
        sqlCon.Close();
    }
    return cntName;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T07:58:01.057

您可能需要在 <asp:AutoCompleteExtender> 标记中使用包含 Web 方法的页面名称的类似内容：

```
ServicePath="MyFile.aspx" 
```

还可以在您的 aspx 文件顶部尝试以下操作：

```
<%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="ajaxToolkit" %>
<%@ Register TagPrefix="asp" Namespace="AjaxControlToolkit" Assembly="AjaxControlToolkit" %> 
```

这在您页面的主要内容中的某个地方，例如在开始的正文标记之后：

```
<ajaxToolkit:ToolkitScriptManager ID="ToolkitScriptManager1" EnablePageMethods="true"
    runat="server">
</ajaxToolkit:ToolkitScriptManager> 
```

我只是从我的一个有效项目中删除了这些行，IDE 可能已经包含了一些行，具体取决于您添加内容的方式，因此在添加之前检查它们是否已经存在。

# actionscript-3 - AS3：如何将渐变光谱中的颜色应用于选定的文本字段文本

> ID：13815832
> 
> 赞同：-1
> 
> 时间：2012-12-11T07:51:10.557
> 
> 标签：actionscript-3, flash

我已经定义了一个渐变色谱，我想用它来更改输入文本字段中文本选择的颜色。预计这就像颜色选择器一样。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T08:19:58.363

请参阅此[最佳方法来获取在 AS3 中单击鼠标](https://stackoverflow.com/questions/78849/best-way-to-get-the-color-where-a-mouse-was-clicked-in-as3)以获取所选颜色的颜色。

当你拥有它时，只需使用`yourColor`a 应用于文本选择`TextFormat`：

```
var myFormat = new TextFormat();
myFormat.color = yourColor;

yourTextField.setTextFormat(myFormat,
                            yourTextField.selectionBeginIndex,
                            yourTextField.selectionEndIndex); 
```

# vb.net - VB.NET：避免冗余

> ID：13815834
> 
> 赞同：0
> 
> 时间：2012-12-11T07:51:15.547
> 
> 标签：vb.net, class, module

我的每个 VB.NET 项目都需要一组特定的自定义模块。例如：

modLog modGUID modControls modRegistry

在其中一些模块中，我有一些对其他模块的引用。

例如，子 modLog.WriteLog 如下所示：

```
Public Sub WriteLog(Byval uText As String)

 If globalclassOEM.IsOEMVersion Then
     sPath = (some custom path)
 Else
     sPath = (some default path)
 End  if

 'Write log text to file

End Sub 
```

这真的很愚蠢，因为有时我必须将很多模块和类添加到一个小项目中，只是为了解决上述的一些依赖关系并能够使用一些我真正需要的模块。

VB.NET 中是否有避免这种情况的最佳策略？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T08:08:43.330

避免此类问题的最佳方法是避免该问题；) 意味着：图书馆应该完全按照他们的意图去做，而不是在后台做一些“额外的工作”。在您的示例中：为什么 WriteLog 函数需要确定路径以及调用者为什么不定义它并将其传递给日志记录函数/类？

如果您仍然希望或需要以这种方式拥有功能，您可以通过定义接口来规避问题，然后将所有接口放入单个库中，而不是实现它们的类。这仍然需要加载带有接口定义的文件，但当然您不需要加载任何实现它的类。

您还可以使用某种插件系统，并且在创建日志记录类（在此示例中）时，它可能会尝试动态加载所需的程序集。如果它们不退出，则该类将没有它们，否则它可以假装使用它们。不过（恕我直言）并没有让程序员的生活更轻松。

“最好”的方式（再次恕我直言）将是第一个建议。没有引用其他库的“低级”库。其他一切最有可能被认为是设计缺陷而不是“解决方案”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T07:56:35.723

我没有介绍 VB.net 中的全部引用，但是，您是否可以创建一个包含所有基本模块的 .dll。这意味着您可以引用这个 .dll 来节省您的时间。对于您引用其他模块的情有可原的情况，您可以手动编写该模块。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-11T10:03:41.700

正如其他人所暗示的那样，您永远不想在多个项目中直接包含相同的代码文件。这几乎不是一个好主意，它总是会导致代码混乱。如果您有想要在两个不同项目之间共享的公共代码，那么您需要创建第三个项目（类库），其中将包含公共代码，然后其他两个项目将只引用类库。如果您可以在同一个解决方案中拥有所有三个项目，那么您可以使用项目引用，这是最好的。但是，如果您不能这样做，您仍然可以直接引用该类库项目输出的 DLL 文件。

其次，如果你真的想避免意大利面条式代码，你应该认真研究依赖注入（DI）。我和其他人提出这个建议的原因是，即使您将公共代码移动到类库中以便可以由多个项目共享，您仍然会遇到您的类库充当“黑盒”的问题“它神奇地为你找出一切，并在每种情况下采取适当的行动。从表面上看，这听起来像是开发人员应该努力争取的一件好事，但实际上，从长远来看，这会导致糟糕的代码。

例如，当您想在 100 个不同的项目中使用相同的日志记录类库并且它们都需要以稍微不同的方式进行日志记录时会发生什么。现在，您的类库必须神奇地检测所有这些不同的情况并处理它们。例如，某些项目可能需要将日志保存到不同的文件名。有些可能需要将日志存储到 Windows 事件日志或数据库中。有些人可能需要在记录错误时自动通过电子邮件发送通知。等等你可以想象，随着项目的增加和需求的增长，日志类库将需要变得越来越复杂和混乱，这将不可避免地导致更多的错误。

另一方面，DI 解决了所有这些问题，如果您坚持该方法，它将从本质上迫使您编写可重用的代码。简单来说，它只是意味着一个类的所有依赖项都应该被注入（通过参数传递）到它里面。换句话说，如果 Logger 类需要事件日志或数据库连接，它不应该自己创建或伸出手来查找这些东西。相反，它应该只要求将这些依赖项传递给它（通常在构造函数中）。您使用 DI 的示例可能如下所示：

```
Public Interface ILogFilePathFinder
    Function GetPath() As String
End Interface

Public Class LogFilePathFinder
    Implements ILogFilePathFinder

    Public Sub New(isOemVersion As Boolean)
        _isOemVersion = isOemVersion
    End Sub

    Private _isOemVersion As Boolean

    Function GetPath() As String Implements ILogFilePathFinder.GetPath
        If _isOemVersion Then
            Return "C:\TestOem.log"
        Else
            Return "C:\Test.log"
        End If
    End Function
End Class

Public Interface ILogger
    Sub WriteLog(ByVal text As String)
End Interface

Public Class FileLogger
    Implements ILogger

    Public Sub New(pathFinder As ILogFilePathFinder)
        _pathFinder = pathFinder
    End Sub

    _pathFinder As ILogFilePathFinder

    Public Sub WriteLog(text As String) Implements ILogger.WriteLog
        Dim path As String = _pathFinder.GetPath()
        ' Write text to file ...
    End Sub
End Class 
```

如您所见，它需要一些额外的工作，但是当您像这样设计代码时，您将永远不会后悔。您会注意到记录器类请求路径查找器作为依赖项。路径查找器反过来请求 OEM 设置作为依赖项。因此，要使用它，您需要执行以下操作：

```
Dim pathFinder As ILogFilePathFinder = New FileLogPathFinder(_OemSettings.IsOemVersion)  ' Note, don't use a global to store the settings, always ask for them to be injected
Dim logger As ILogger = New FileLogger(pathFinder)
logger.WriteLog("test") 
```

现在，您可以在任何情况下轻松重用所有这些代码。例如，如果您有不同的项目需要使用不同的日志文件路径，他们仍然可以使用 common`FileLogger`类，他们只需要各自实现自己的版本，`ILogFilePathFinder`然后将自定义路径查找器注入 common `FileLogger`. 希望你能看到这样做是如何非常有用和灵活的。

# android - 准备失败。：状态=0xFFFFFF8E

> ID：13815835
> 
> 赞同：0
> 
> 时间：2012-12-11T07:51:17.043
> 
> 标签：android, media-player

当我使用 MediaPlayer 播放 .mp3 文件时，系统会报告错误日志：

> `Prepare failed.: status=0xFFFFFF8E`

但播放音乐正常，也不例外。

而且根据我的观察，好像只出现在比较高的ROM版本，比如4.0，2.3没有错误。

是什么原因，如何解决？

# ruby-on-rails - 使用 tesseract 的困难文本识别

> ID：13815836
> 
> 赞同：2
> 
> 时间：2012-12-11T07:51:18.540
> 
> 标签：ruby-on-rails, ruby, image-processing, crop, tesseract

tesseract 无法识别某些文本图像。

例如，考虑以下`rails`无法被 tesseract 识别的图像

![在此处输入图像描述](../Images/5089e034c0d2bf9dd6f5e96a9198e4c1.png)

上面的图像在 OCRed 时没有输出。

有些图像的准确性不达标。

我正在使用 ruby​​ on rails 并实现 tesseract OCR 文本识别我正在使用“gem tesseract”和一些代码。有什么问题，如何获得准确的输出。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:55:45.473

问题是 Tesseract 适用于只有文本的图像。不保证您发布的图像的结果。

您将需要进行一些图像处理（将图像裁剪为仅文本部分），并将图像转换为白色背景上的黑色文本。

# asp.net - Ext.Net GridPanel 过滤器不起作用

> ID：13815848
> 
> 赞同：0
> 
> 时间：2012-12-11T07:52:46.187
> 
> 标签：asp.net, html, ext.net

我有一个分机：GridPanel。

发生的情况是第一列的过滤器工作正常，但它也为所有其他列加载相同的过滤器，并且它们都过滤第一列。

你能看看我的GridPanel吗

```
 <ext:GridPanel ID="GridPanelStudentHistory" runat="server" StoreID="StoreStudentHistory" StripeRows="true" Header="true" Title="Students" Border="true" AutoHeight="true" AutoWidth="true">
    <LoadMask ShowMask="false" />
    <ColumnModel ID="ColumnModel2" runat="server">
        <Columns>
            <ext:Column runat="server" ColumnID="StudentNo" Header="Student Number" Sortable="true" Width="150px" DataIndex="StudentNo" />
            <ext:Column runat="server" ColumnID="StudentName" Header="Student Name" Sortable="true" Width="250px" DataIndex="StudentName" />
            <ext:Column runat="server" ColumnID="StudentSurname" Header="Student Surname" Sortable="true" Width="250px" DataIndex="StudentSurname" />
            <ext:Column runat="server" ColumnID="AbsentDays" DataIndex="AbsentDays" Header="Absent Days" Width="50" Sortable="true"/>
            <ext:Column runat="server" ColumnID="marks" DataIndex="marks" Header="Marks" Align="Right" Width="150" Sortable="false"/>
        </Columns>
    </ColumnModel>
    <View>
        <ext:GridView ID="GridView2" runat="server" DeferEmptyText="false" EmptyText="No Items Available At This Moment" />
    </View>
    <Plugins>
        <ext:GridFilters runat="server" ID="GridFilters3" Local="true">
            <Filters>
                <ext:NumericFilter DataIndex="StudentNo"  />
                <ext:StringFilter DataIndex="StudentName" />
                <ext:StringFilter DataIndex="StudentSurname" />
            </Filters>
        </ext:GridFilters>
    </Plugins>
    <BottomBar>
        <ext:PagingToolbar ID="PagingToolBar1" runat="server" StoreID="StoreStudentHistory" PageSize="50"
            HideRefresh="true" DisplayInfo="true" DisplayMsg="Displaying Students {0} - {1} of {2}" />
    </BottomBar>
</ext:GridPanel> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-12T08:10:49.153

我不太明白会发生什么。

你能用一个完整的样本开始一个新的论坛线程来在这里复制吗？ [http://forums.ext.net/forumdisplay.php?18-2-x-Help](http://forums.ext.net/forumdisplay.php?18-2-x-Help)

# iphone - 实现 UIGestureRecognizer 后如何删除手势

> ID：13815849
> 
> 赞同：2
> 
> 时间：2012-12-11T07:52:44.947
> 
> 标签：iphone, objective-c, ios, uigesturerecognizer

我正在使用 PinchGestureRecognizer 和 RotationGestureRecognizer 都可以正常工作。代码如下：

```
- (IBAction)pinchDetected:(UIPinchGestureRecognizer *)recognizer {

    recognizer.view.transform = CGAffineTransformScale(recognizer.view.transform, recognizer.scale, recognizer.scale);
    recognizer.scale = 1;
}

-(IBAction)rotationDetected:(UIRotationGestureRecognizer *)recognizer
{
    recognizer.view.transform = CGAffineTransformRotate(recognizer.view.transform, recognizer.rotation);
    recognizer.rotation = 0;
} 
```

使用此代码，我可以捏合和旋转我的视图。但是在“RESET”按钮上单击我想将视图的框架设置为捏合或旋转之前的状态。

为此我正在使用

```
[viewTwo setFrame:CGRectMake(80.0f, 65.0f, 160.0f, 101.0f)]; 
```

但我的框架没有设置。

那么我怎样才能像在捏合和缩放之前一样再次设置我的视图框架？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-11T07:56:19.327

您没有使用手势识别器更改框架。

您需要将转换分配回身份。

```
recognizer.view.transform = CGAffineTransformIdentity; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:55:25.440

框架和变换以两种完全不同的方式应用于视图（其中框架是适合视图的最小矩形，而变换是视图的底层二维矩阵的表示）。如果您希望返回到以前的视图大小，请分配`recognizer.view.transform`给`CGAffineTransformIdentity`.

# regex - 正则表达式匹配一组中的至少一个字母而不重复

> ID：13815850
> 
> 赞同：1
> 
> 时间：2012-12-11T07:52:49.277
> 
> 标签：regex, posix

例如，如果字母集是 {A,B,C}，我想匹配

A、B、C、AB、AC、BC、ABC

基本上所有组合（除了空字符串）都取自一个集合而无需替换。

编辑：我希望能够使用 POSIX“grep -E”来做到这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T08:02:59.957

尝试：

```
^(([abc])(?!.*\2))*$ 
```

[**演示**](http://www.rubular.com/r/chs5VnZHd0)

# drawing - 将 Gtk.DrawingArea 保存到位图

> ID：13815857
> 
> 赞同：0
> 
> 时间：2012-12-11T07:53:28.137
> 
> 标签：drawing, monodevelop, gtk#

我需要将我的 DrawingArea 对象的图像保存到位图，但我找不到如何做到这一点。谁能告诉，如何将 DrawingArea 图像保存到位图？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-12T23:14:55.097

有几种方法可以做到这一点，这完全取决于您想要做什么以及您是否/为什么真的需要`System.Drawing.Bitmap`.

**复制小部件**

您可以 P/Invoke [gtk_widget_get_snapshot](http://developer.gnome.org/gtk2/2.24/GtkWidget.html#gtk-widget-get-snapshot)以获取`Gdk.Pixbuf`.

Pixbuf 可以保存到一个文件中，或者复制到一个`System.Drawing.Bitmap`.

**使用 System.Drawing**

您可以将绘图代码移植到 System.Drawing API。

在您的 DrawingArea`Expose`方法中，使用[Gtk.DotNet.Graphics.FromDrawable](http://docs.go-mono.com/?link=T%3aGtk.DotNet.Graphics%2fM%2fFromDrawable)为您的小部件获取一个`System.Drawing.Graphics`，并使用您移植的绘图代码在其上绘制。

然后，您可以创建一个`System.Drawing.Bitmap`并使用相同的绘图代码对其进行绘图。

**使用开罗**

您可以将绘图代码移植到`Mono.Cairo`（新的 GTK# 绘图 API，它比 System.Drawing 更强大）。

在您的 DrawingArea`Expose`方法中，使用`Gdk.CairoHelper.Create`为您的小部件获取 Cairo 上下文，并使用您移植的绘图代码在该上下文上绘制。

然后，您可以使用 Cairo 绘图逻辑写入 Cairo `ImageSurface`，可以将其保存到一个文件中，或者复制到一个`System.Drawing.Bitmap`.

# git - 如何在 git 上命名一个（无分支）分支

> ID：13815860
> 
> 赞同：2
> 
> 时间：2012-12-11T07:53:34.767
> 
> 标签：git, git-branch

不知何故，我离开了`master`树枝，最终落在了`no branch`树枝上。我怎样才能给这个分支一个有意义的名字？

详细：来电`git branch`显示

```
* (no branch)
  master 
```

我想要的（不更改任何文件）是拥有例如

```
* extraBranchIEndedUpWith
  master 
```

`git status`很干净。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-11T07:57:13.897

顾名思义，“无分支”不是分支。这意味着您已经签出了不是分支尖端的修订。

要创建它的一个分支，只需

```
git checkout -b extraBranchIEndedUpWith 
```

就像您从当前版本创建任何其他分支一样。

# eclipse - 如何更改 Eclipse 中的搜索视图？

> ID：13815864
> 
> 赞同：4
> 
> 时间：2012-12-11T07:53:53.677
> 
> 标签：eclipse

如何更改 Eclipse 搜索视图![在此处输入图像描述](../Images/608a741b9133ebbba049896431c8475b.png)

到记事本搜索视图之类的

![在此处输入图像描述](../Images/100197185e58f0de49929fc8e9a41c13.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:57:47.350

您可以为结果选择平面视图。

从[帮助页面](http://help.eclipse.org/galileo/index.jsp?topic=/org.eclipse.cdt.doc.user/reference/cdt_u_search_view.htm)：

> ![菜单](../Images/9b0733945373ef9bc9a9207b57561f5e.png) **菜单**：列出搜索结果的两种可选视图布局：平面和分层。

（2004年推出，[Eclipse3.0](http://archive.eclipse.org/eclipse/downloads/drops/R-3.0-200406251208/eclipse-news-part5-R3.html)）

![平坦的](../Images/e05270f261de8099d74660bd9f74fba4.png)

不*完全*像 Notepad++，但很接近。

# jquery-ui - jQuery UI 1.9.2 手风琴

> ID：13815868
> 
> 赞同：0
> 
> 时间：2012-12-11T07:54:09.410
> 
> 标签：jquery-ui, jquery-ui-accordion

是否可以在 jquery ui 1.9 中禁用单个标题？当我使用 1.8 时，我对此有一个疑问，但这是不可能的。我喜欢一种方式，但它真的很难编码。它打开选项卡，如果用户没有权限，选项卡将关闭。那么现在有没有更好的办法呢？

最好的毕业生。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-12T12:25:51.607

我找到了一种方法，我想我会分享它，希望它会对其他人有很大帮助。:)

```
 $(function() {
     var icons = {
            header: "h3",
            activeHeader: "ui-icon-circle-arrow-s"
     };
        $( "#prod_accordion" ).accordion({
            active:<?php echo $db_obj->getValue('status') ? 'acc_'.$tab_status : 'acc_0'; ?>,
            icons: icons,
            autoHeight: false,
            beforeActivate: function(event, ui) {
                var newIndex = $(ui.newHeader).index('h3');
                if (jQuery.inArray(newIndex , accordion_array) == -1) {
                    event.preventDefault();
                }
            }

        });
    }); 
```

这`accrodion_array`是一个索引为 (1,2,3,4) 的数组，我检查单击的手风琴的索引是否可以说 5 在数组中。如果不是，则 perventDefault() 和手风琴标题不会打开。

*   如果您添加`ui.addClass('ui-state-disabled');`到不在数组中的手风琴标题，用户现在将无法打开他的手风琴。:)

# arrays - MATLAB：将数组与数组矩阵进行比较

> ID：13815869
> 
> 赞同：1
> 
> 时间：2012-12-11T07:54:10.767
> 
> 标签：arrays, matlab, compare

我有一个矩阵，其中每一行数字代表一个人的值.... **人**=

```
 98   206    35   114
 60   206    28    52
100   210    31   116
 69   217    26    35
 88   213    42   100 
```

（我在这里的数字并不是我真正拥有的数字）我想将数组**person1** = [93 208 34 107] 与**person**的每一行进行比较。我找出哪个数组比另一个数组大，然后将较小的数组除以较大的数组。如果商大于或等于 0.85，则存在匹配，并且该人的姓名将打印到屏幕上。我应该像下面这样使用循环和几个 if/else 语句吗？我确信有更好的方法来做到这一点。

```
for z = 1:5
    if z == 1
        a = max(person(z,:),person1);
        b = min(person(z,:),person1);
        percent_error = b/a;
        if percent_error >= 0.85
            title('Match,its Cameron!','Position',[50,20,9],'FontSize',12);
        end
    elseif z ==2
        a = max(person(z,:),person1);
        b = min(person(z,:),person1);
        percent_error = b/a;
        if percent_error >= 0.85
            title('Match,its David!','Position',[50,20,9],'FontSize',12);
        end
    elseif z == 3
        a = max(person(z,:),person1);
        b = min(person(z,:),person1);
        percent_error = b/a;
        if percent_error >= 0.85
            title('Match,its Mike!','Position',[50,20,9],'FontSize',12);
        end
        .
        .
        .
        so on...
    end
end 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-11T08:20:05.400

对于初学者，您可以通过将所有名称存储在一个单元格中来摆脱所有 if 语句。

```
allNames = {'Cameron'; 'David'; 'Mike'; 'Bill'; 'Joe'}; 
```

以下是您如何在循环中获取它们：

```
person = [98   206    35   114;
          60   206    28    52;
         100   210    31   116;
          69   217    26    35;
          88   213    42   100];

person1 = [93 208 34 107];

allNames = {'Cameron'; 'David'; 'Mike'; 'Bill'; 'Joe'};

for z = 1:5
    a = max(person(z,:),person1);
    b = min(person(z,:),person1);
    percent_error = b/a;
    if percent_error >= 0.85
        %title(['Match, its ', allNames{z} ,'!'],...
        %    'Position',[50,20,9],'FontSize',12);
        disp(['Match, its ', allNames{z} ,'!'])
    end
end 
```

运行代码会显示：

```
Match, its Cameron!
Match, its David!
Match, its Mike!
Match, its Joe! 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T11:50:01.940

根据你写的，我的印象是你实际上想要这个比例

```
a=person(i,:)
b=person1  % i=1..5
a/b 
```

接近一个匹配。（因为 a/b>=0.85 如果 a/b<=1 和 b/a>=0.85 如果 b/a<=1 即 0.85<=a/b<=1/0.85）

你可以这样计算：

```
ratio = person/person1;
idx = 1:5;
idx_found = idx(ratio>=0.85 & ratio<1/0.85);

for z=idx_found
    disp(['Match, its ', allNames{z} ,'!'])
end 
```

# android - 任何android组件的常见点击效果

> ID：13815871
> 
> 赞同：0
> 
> 时间：2012-12-11T07:54:13.790
> 
> 标签：android, effect

我的 android 应用程序大量使用自定义图像，为它们中的每一个设计“效果”图像将是一项巨大的工作，例如`clicking`效果和其他图像。

我正在寻找一个简单的解决方案。例如，当我点击一个可点击的组件时，它看起来是灰色的，当我的手指离开时，它会变成原来的颜色。

是否可以？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T07:55:16.723

使用 xml 选择器。这样就行了！

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_pressed="true"
          android:drawable="@drawable/image_pressed" /> <!-- pressed/ clicked -->
    <item android:state_focused="true"
          android:drawable="@drawable/image_focused" /> <!-- focused -->
    <item android:state_hovered="true"
          android:drawable="@drawable/image_focused" /> <!-- hovered -->
    <item android:drawable="@drawable/image_normal" /> <!-- default / after release-->
</selector> 
```

更多[检查在这里](http://developer.android.com/guide/topics/resources/drawable-resource.html)。

# xaml - 如何将项目居中在画布中的一个点上？

> ID：13815878
> 
> 赞同：0
> 
> 时间：2012-12-11T07:54:54.117
> 
> 标签：xaml, canvas, listbox, windows-runtime

我正在使用一个 ListBox，它的 DataTemplate 包含一个 Canvas。然后我绑定包含该画布的网格的左/上，以将其移动到某个点。

然后我想让子网格以我指定的 X,Y 坐标为中心，其中子网格的大小根据其内容而变化。我计划通过使用 TranslateTransform 将 Grid 移动一半宽度来实现这一点。

我看不到如何设置 TranslateTransform，但是因为 ElementName 绑定在 DataTemplate 中不起作用。有什么想法可以实现这一目标吗？

```
<ItemsControl ItemsSource="{TemplateBinding SomeCollection}">
    <ItemsControl.ItemsPanel>
        <ItemsPanelTemplate>
            <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
        </ItemsPanelTemplate>
    </ItemsControl.ItemsPanel>
    <ItemsControl.ItemTemplate>
        <DataTemplate>
            <Canvas>
                <Grid x:Name="Container" 
                        Canvas.Left="{Binding X}" 
                        Canvas.Top="{Binding Y}"
                        Background="#88000000">
                    <Grid.RenderTransform>
                    <TranslateTransform X="{Binding ActualWidth, ElementName=Container, Converter={StaticResource NegativeHalfConverter}}"
                                        Y="{Binding ActualHeight, ElementName=Container, Converter={StaticResource NegativeHalfConverter}}" />
                </Grid.RenderTransform>
                <TextBlock Text="{Binding SomeValue}" FontSize="36" Foreground="White" />
            </Grid>
        </Canvas>
    </DataTemplate>
</ItemsControl.ItemTemplate> 
```

`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T09:23:57.943

I think ElementName binding should work in the name scope of a DataTemplate, but I have seen people complaining about bindings not updating correctly when binding to ActualWidth/Height properties. Perhaps instead of doing the complicated setup you have you could just implement an attached behavior that takes a Point parameter and updates the Canvas.Left/Top properties whenever the parameter or size of the associated object (your grid) changes.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T17:13:26.970

要将对象移动一半大小，您可以使用 2 次旋转或缩放：第一次超过 0.25,0.25 相对点，第二次超过输入点 0.5,0.5。如果你使用旋转，那么天使是 180 度和 -180 度。如果您使用比例，则比例因子为 -1,-1 和 -1,-1。不要忘记 RenderTransformOrigin 属性。要应用两个变换，您可以将它们应用到两个嵌套元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T18:02:38.330

看起来故障不在于绑定本身，而在于一个意味着 ActualWidth/ActualHeight 属性不可绑定的特性。谢谢菲利普。

为了解决这个问题，我创建了一个派生的 Grid，其中包含几个新的依赖属性，我在 SizeChanged 事件中更新这些属性以获得 ActualWidth/Height。然后，我使用上面的 DataTemplate，绑定到这些新的 DP，以将我的 Grid 翻译和居中在一个点上。似乎是一种享受。

# php - 我们如何覆盖 Magento 中的抽象类？

> ID：13815883
> 
> 赞同：1
> 
> 时间：2012-12-11T07:55:22.857
> 
> 标签：php, magento, overriding, abstract-class

我想覆盖一个抽象的magento类。即`Mage_Customer_Model_Address_Abstract`。我的意图是摆脱电话号码验证。

我尝试复制 app/code/ **core** / Mage /Customer/Model/Address/Abstract.php

至

app/code/ **local** /Telephone/Customer/Model/Address/ Abstract.php

试图用新代码覆盖函数 validate()。

```
public function validate()
    {
        $errors = array();
        $this->implodeStreetAddress();
        if (!Zend_Validate::is($this->getFirstname(), 'NotEmpty')) {
            $errors[] = Mage::helper('customer')->__('Please enter the first name.');
        }

        if (!Zend_Validate::is($this->getLastname(), 'NotEmpty')) {
            $errors[] = Mage::helper('customer')->__('Please enter the last name.');
        }

        if (!Zend_Validate::is($this->getStreet(1), 'NotEmpty')) {
            $errors[] = Mage::helper('customer')->__('Please enter the street.');
        }

        if (!Zend_Validate::is($this->getCity(), 'NotEmpty')) {
            $errors[] = Mage::helper('customer')->__('Please enter the city.');
        }

       /* if (!Zend_Validate::is($this->getTelephone(), 'NotEmpty')) {
            $errors[] = Mage::helper('customer')->__('Please enter the phone number.');
        } */

        $_havingOptionalZip = Mage::helper('directory')->getCountriesWithOptionalZip();
        if (!in_array($this->getCountryId(), $_havingOptionalZip)
            && !Zend_Validate::is($this->getPostcode(), 'NotEmpty')
        ) {
            $errors[] = Mage::helper('customer')->__('Please enter the zip/postal code.');
        }

        if (!Zend_Validate::is($this->getCountryId(), 'NotEmpty')) {
            $errors[] = Mage::helper('customer')->__('Please enter the country.');
        }

        if ($this->getCountryModel()->getRegionCollection()->getSize()
               && !Zend_Validate::is($this->getRegionId(), 'NotEmpty')
               && Mage::helper('directory')->isRegionRequired($this->getCountryId())
        ) {
            $errors[] = Mage::helper('customer')->__('Please enter the state/province.');
        }

        if (empty($errors) || $this->getShouldIgnoreValidation()) {
            return true;
        }
        return $errors;
    } 
```

但是，我不能让它工作！

我能做到的唯一方法是将文件完全复制到本地文件夹。IE

app/code/ **core/Mage/** Customer/Model/Address/ Abstract.php

至

app/code/ **local/Mage/** Customer/Model/Address/ Abstract.php

我在 app/code/local/Customer/etc/ 中的 config.xml 是..

```
<?xml version="1.0"?>
<config>
    <modules>
        <Telephone_Customer>
            <version>0.0.1</version>
        </Telephone_Customer>
    </modules>

    <global>
    <models>
    <telephone_customer>
        <class>Telephone_Customer_Model</class>
    </telephone_customer>
    <customer>
        <rewrite>
            <customer>Telephone_Customer_Model_Customer</customer>
        </rewrite>
    <customer>
    </models>
    </global>   
</config> 
```

但是这里不允许这样做，因为这不是正确的做法。

我们可以像在其他地方所做的那样覆盖这个抽象类吗？

请帮忙。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-12-11T10:12:51.530

终于明白了

我可以访问

> 函数验证（）

覆盖派生类，例如 Address.php。

即压倒一切

> 应用程序/代码/核心/法师/客户/地址.php

我们可以使用与我在上面的代码中描述的相同的原则来覆盖文件。

# mysql - mysql条件字段更新

> ID：13815886
> 
> 赞同：1
> 
> 时间：2012-12-11T07:55:28.847
> 
> 标签：mysql, sql, sql-update, case

我在 CATEGORY TABLE 中有 3 列，用于将预先计算的记录计数存储在另一个表 PRODUCTS 中。

```
CATEGORY(c_id,name,c30,c31,c32) 
```

c30=新产品计数（值 30） c31 旧产品计数（值 31） c32 损坏产品计数（值 32）

```
PRODUCT(p_id,c_id,name,condition) 
```

条件可以是 30,31 或 32。

我正在考虑编写一个 UPDATE 语句，因此它将更新相应的类别计数。

下面的语句在语法上是错误的，但我正在寻找类似类型的解决方案。

```
select case product.condition 
when 30 then update category set category.c30=category.c30+1 where category.c_id=product.category3
when 31 then update category set category.c31=category.c31+1 where category.c_id=product.category3
when 32 then update category set category.c32=category.c32+1 where category.c_id=product.category3
end case
from product 
where product.c_id=12 
```

任何建议！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T08:04:58.987

你可以这样做：

```
UPDATE CATEGORY c
INNER JOIN
(
    SELECT 
      c_id,
      SUM(CASE WHEN `condition` = 30 THEN 1 ELSE 0 END) c30,
      SUM(CASE WHEN `condition` = 31 THEN 1 ELSE 0 END) c31,
      SUM(CASE WHEN `condition` = 32 THEN 1 ELSE 0 END) c32
    FROM product
    GROUP BY c_id
) p ON c.c_id = p.c_id
SET c.c30 = p.c30, 
    c.c31 = p.c31,
    c.c32 = p.c32; 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!2/ce028/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T08:07:13.000

您可以连接两个表，然后在同一个连接查询中更新值。

# windows-8 - 在win 8中阅读pdf

> ID：13815888
> 
> 赞同：2
> 
> 时间：2012-12-11T07:55:46.660
> 
> 标签：windows-8

我需要在 win 8 应用程序中阅读和编辑现有的 pdf。编辑 pdf 包括在 pdf 的任何位置添加文本和图像。我应该选择基于 xaml 或 javascript 的编码吗？我应该按照哪个链接提供编辑pdf的信息。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T08:02:07.540

也许这可以帮助你：.... [http://social.msdn.microsoft.com/forums/en-US/wpf/thread/d115b1a4-bbcd-415d-81c4-fc167bf918f6/](http://social.msdn.microsoft.com/forums/en-US/wpf/thread/d115b1a4-bbcd-415d-81c4-fc167bf918f6/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T10:06:31.093

PDF是一种文件格式的野兽。如果您没有很多软件开发经验（您的问题表明您没有），从头开始编写 PDF 编辑器（尤其是如果您没有团队）可能是一项艰巨的任务，即使只考虑非 UI它的各个方面。

即使你实现了一个 100% 符合标准的库，你也必须处理所有有缺陷的 PDF。包括 Win8 PDF 阅读器在内的极少数读者能够做到这一点。

如果您正在寻找一个库，您应该看看[http://www.dynaforms.com/](http://www.dynaforms.com/) - 它可以处理大多数 PDF 并且具有一些编辑功能和一个渲染器（专业版）以及它有一个 Windows 8 兼容版本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T19:02:23.313

如果您想要现成的框架，您可以查看[Foxit Software](http://www.foxitsoftware.com/)解决方案。他们已经有 Win8 的框架，但它可能很昂贵。

# cloud-foundry - 安装单节点模式时出现一些错误

> ID：13815889
> 
> 赞同：0
> 
> 时间：2012-12-11T07:55:47.800
> 
> 标签：cloud-foundry

日志：

```
error : gnutls_handshake() failed : a TLS packet with unexpected length was received .
while accessing https://github.com/cloudfoundry/vcap/info/refs
fatal: http request failed
.. unable to clone cloudfoundry vcap repo 
```

我能做些什么？

谢谢 tt64

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-14T22:03:24.117

你在防火墙后面吗？您是否使用 vcap dev_setup 来安装您的 CF 实例？如果你确定你没有在任何类型的防火墙后面，这些防火墙会阻止你的执行从网络上获取它需要的任何东西。

# algorithm - 数据结构：大 O 时间成本

> ID：13815890
> 
> 赞同：0
> 
> 时间：2012-12-11T07:55:52.570
> 
> 标签：algorithm, linked-list, big-o, time-complexity

1) 通过在列表的前面插入将 n 个元素添加到最初为空的单链表的时间成本。

答案似乎是这些 O(n) 或 O(1) 之一。我认为它是 O(1) 因为将元素插入空列表只是例如 `Node element = 1;`

但我仍然不确定这一点。

2）在具有 n 个元素的链表中查找数据元素的最佳时间成本是多少。

答案似乎也是 O(1) 或 O(n)。我认为它是 O(n) 因为它必须遍历列表才能找到元素。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T07:58:49.390

```
The time cost to add n elements to an initially empty singly linked list by 
inserting at the front of the list. 
```

它是`O(1)` *每次插入*的，但你有`n`这些 -`O(n)`总共是这样。

> 在具有 n 个元素的链表中查找数据元素的最佳情况时间成本

它是`O(1)`，因为在*最好的情况下*- 搜索到的元素是第一个，所以在搜索第一个元素（这是恒定时间）之后不需要遍历列表 - 你可以停止。

# ios - 在 mapView 上添加 pin 不适用于 appstore 版本

> ID：13815891
> 
> 赞同：3
> 
> 时间：2012-12-11T07:55:52.997
> 
> 标签：ios, android-mapview, nsurlconnection

我已经提交了我的应用程序并在几周前被接受。但是，我有一个问题，即添加引脚的关键功能之一不起作用，但它在构建版本中起作用。添加 pin 需要 URL 连接。你能看看我从苹果开发者那里得到的答案并指导我吗？

它不应该导致你的问题（至少不是直接的），但一般来说，在你的 UI 代码中存在这样的网络代码是非常有问题的，原因有很多：

-在一般架构的基础上，它严重违反了 MVC（模型视图控制器）架构。pin 注释显然与您的 UI（视图）密切相关，而网络显然是您的后端（模型）的一部分。

- 因为 iOS 要求主线程保持响应，将执行 IO 或计算的代码附加到主线程本身就有风险。它可以做到并且工作得很好，但做错了将不可避免地导致崩溃。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T18:17:34.187

NSURLConnection 在后台工作，与 UI 的交互应该在主线程上进行。

因此，例如，如果您在 connectionDidFinish 方法中添加您的 pin，您应该这样做：

```
[mapView performSelectorOnMainThread:@selector(addAnnotation:) withObject:yourAnnotation waitUntilDone:[[NSThread currentThread] isMainThread]]; 
```

希望对您有所帮助。我是从 Windows 写的，但该行应该可以工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-20T15:00:26.003

一种选择是删除 pin（根本不绑定到 URL 连接），一旦 pin 丢失，加载标注或注释的数据（这是我假设你正在做的）。您可以随时设置加载指示器或 progressHUD 来告诉用户他们需要等待某些东西。这并不完全理想，但在您需要等待数据的情况下，您会怎么做？

只要用户知道您正在阻止它，Apple 就真的不在乎阻止 UI。就像进度条或进度 HUD。用户可以看到应用程序仍在工作并正在做某事。不显示任何内容并且在等待主线程/主循环返回时让 UI 冻结是行不通的。这只是糟糕的设计，Apple 很可能会为此而讨好你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-20T14:27:31.427

我不确定您要达到的目标。应用程序人员是否因为您直接在主线程中获取 URL 而抱怨？您能否发送一个代码片段来显示您如何获取网址？

# apache-flex - Flex Spark Form 水平布局

> ID：13815896
> 
> 赞同：1
> 
> 时间：2012-12-11T07:56:13.493
> 
> 标签：apache-flex, flex-spark

我有一个水平布局的 Spark 表单，我想减少顶部和底部的垂直填充。Neighter 使用`paddingBottom`/`paddingTop` 或`HorizontalLayout`使用`paragraphSpaceAfter`/`paragraphSpaceBefore`减少`FormItem`表单前后的垂直空间。

```
<s:Form width="100%" height="50%" fontSize="15">
    <s:layout>
        <s:HorizontalLayout  verticalAlign="middle"  gap="3" paddingBottom="0" paddingTop="0">
        </s:HorizontalLayout>
    </s:layout>
    <s:FormItem   > 
        <mx:DateField id="selDateFrom" formatString="DD/MM/YYYY" selectedDate="{new Date()}">
        </mx:DateField>
    </s:FormItem>
    <s:FormItem > 
        <mx:DateField id="selDateTo" formatString="DD/MM/YYYY" >
        </mx:DateField>
    </s:FormItem>
</s:Form> 
```

有人能帮我吗？

戴维德

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T16:10:22.613

我创建了一个`FormSkin`像这样的自定义并且它有效：

```
 <s:Skin xmlns:fx="http://ns.adobe.com/mxml/2009" 
        xmlns:s="library://ns.adobe.com/flex/spark" 
        xmlns:fb="http://ns.adobe.com/flashbuilder/2009" 
        alpha.disabled="0.5">
    [...]
    <s:Group id="contentGroup" showErrorSkin="true" showErrorTip="true" 
             left="0" right="0" top="0" bottom="0">
        <s:layout>
            <s:FormLayout gap="7"/>
        </s:layout>
    </s:Group>
  </s:Skin> 
```

谢谢

# php - 使用 PHP 通过 url 栏将变量传递给表单

> ID：13815908
> 
> 赞同：-6
> 
> 时间：2012-12-11T07:57:06.893
> 
> 标签：php, forms

我需要通过 URL 栏将变量传递给我的其他页面。我有一个错误： 注意：`Undefined index: $id in C:\xampp\htdocs\Kyle_Site\Programming Rite\controle\delete.php on line 3`

我假设我没有正确传递这个错误，但我不确定是否有任何帮助！

我在这里传递变量：

```
<a href="delete.php?id=<?php echo $username['id'] ; ?>">Delete</a></td> 
```

这是应该传递变量的位置：

```
<?php 
require 'core.inc.php';
$id = $_GET['$id'];
if (isset($_POST['delete'])) {
    $answer = $_POST['decision'];
    if ($answer == 'yes') {
    echo 'user deleted'; }
} 
echo '<h1>Are you sure you want to delete '.$id.'?</h1>
<form name ="form1" method ="POST" action ="delete.php">
<input type="radio" name="decision" value="yes">Yes
<input type="radio" name="decision" value="no">No
<input type="submit" name="delete" value="Delete">
</form>'; 
?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T07:59:02.290

代替

```
$id = $_GET['$id']; 
```

经过

```
$id = $_GET['id']; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-11T08:00:03.283

你的 get 变量是错误的。您还应该检查是否设置了 get 变量。

```
<?php 
require 'core.inc.php';
if (isset($_GET['id'])
{
$id = $_GET['id']
if (isset($_POST['delete'])) {
    $answer = $_POST['decision'];
    if ($answer == 'yes') {
    echo 'user deleted'; }
} 
echo '<h1>Are you sure you want to delete '.$id.'?</h1>
<form name ="form1" method ="POST" action ="delete.php">
<input type="radio" name="decision" value="yes">Yes
<input type="radio" name="decision" value="no">No
<input type="submit" name="delete" value="Delete">
</form>';
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-11T07:59:08.413

它是`$_GET['id']`。不需要`$`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-11T08:08:40.913

这不是“错误”，而是“通知”。如果通知不重要，则可以忽略通知，而必须修复错误。我的建议是检查您的 $id 和 isset() 是否为空。如果其中一个为空，则会发生此通知。

# r - 使用 R 循环函数

> ID：13815920
> 
> 赞同：-3
> 
> 时间：2012-12-11T07:57:56.240
> 
> 标签：r, for-loop

```
require(fracdiff)
#load your data, n is the sample size

x<-matrix(scan("data.txt", n = ), n, 1, byrow = TRUE)

x<-log(x)
x<-x-mean(x)
n<-length(x)

#select the truncation
m<-round(n^(0.7))

perdx<-px[2:n]
fn<-function(h)
    {
        lambda<-freq[1:m]^(2*h-1)
        Gh=mean(perdx[1:m]*lambda)
        Rh=log(Gh)-(2*h-1)*mean(log(freq[1:m]))
        return(Rh)
    }
    est<-optimize(fn,c(0,1.5),tol = 0.00001)
    hhat<-est$minimum
    b <- hhat-0.5
    b 
```

我有这个用 R 编写的函数，我想为 m 做循环，其中 m<-round(n^(0.7)) 其中 n 的幂从 0.3-0.8 运行（默认值为 0.7，所以我有不同的值m 提供给函数），最终得到 b 的字符串（每个 b 为 n 的幂，从 0.3-0.8 运行），但到目前为止我一直没有成功。此外，我想绘制 b 相对于 m 的不同值。我真的希望任何人都可以建议我如何得到结果。任何建议都受到高度赞赏。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T08:23:33.450

首先是一些虚拟数据：

```
set.seed(1983)
freq <- rnorm(100, mean=10)
perdx <- rnorm(100, mean=100, sd=10) 
```

然后你的函数（稍微缩短和修改：你需要添加`m`作为参数，因为它会在每次迭代中改变），向量`m`和一个空向量`b`（你确实想预先分配向量的长度）：

```
m <- 1:100
b <- vector(length=length(m))
fn <- function(h,m){
    lambda <- freq[1:m]^(2*h-1)
    Gh <- mean(perdx[1:m]*lambda)
    log(Gh)-(2*h-1)*mean(log(freq[1:m]))
    } 
```

最后是你的循环：

```
for(i in seq_along(m)){b[i] <- optimize(fn,c(0,1.5),tol = 0.00001, m=m[i])$minimum - 0.5}

b
  [1]  0.370809995  0.143004969  0.295652288  0.341975500  0.155323568 -0.004270843 -0.004463482 -0.005151013 -0.019702428 -0.066622938 -0.071558276 -0.051269281 -0.010162819 -0.011613268
 [15] -0.043173232 -0.023702358 -0.017404588 -0.041314701 -0.041849379 -0.039659543 -0.042926431 -0.041149212 -0.050584172 -0.051101425 -0.051999900 -0.053473729 -0.007245899 -0.023556513
 [29] -0.026109458 -0.035935971 -0.063366257 -0.048185532 -0.051862241 -0.051659993 -0.078318886 -0.080683266 -0.082146068 -0.088776082 -0.095815094 -0.097276217 -0.099827675 -0.090215664
 [43] -0.091023273 -0.090649640 -0.091877778 -0.091318363 -0.083812376 -0.091700899 -0.086337626 -0.105456723 -0.105972890 -0.101094946 -0.101748039 -0.101323129 -0.070511638 -0.081105305
 [57] -0.072667430 -0.072361640 -0.069692202 -0.067384208 -0.072985712 -0.063617816 -0.064122242 -0.067135980 -0.070663150 -0.069359528 -0.069691113 -0.084422380 -0.073379583 -0.072209507
 [71] -0.069132825 -0.067681419 -0.063782326 -0.057532656 -0.063031479 -0.054001810 -0.053523184 -0.051783114 -0.053388449 -0.055742505 -0.052429781 -0.058399275 -0.059529803 -0.059389065
 [85] -0.058834476 -0.043061836 -0.045186752 -0.048336234 -0.055597368 -0.065307991 -0.060903775 -0.062518358 -0.062898386 -0.059452595 -0.051983381 -0.049742105 -0.050124722 -0.049212744
 [99] -0.041458672 -0.043251041 
```

# jquery - jquery可在掩码下拖动，用于多个元素

> ID：13815923
> 
> 赞同：0
> 
> 时间：2012-12-11T07:58:01.543
> 
> 标签：jquery, jquery-ui

[http://jsfiddle.net/QdbNe/1/](http://jsfiddle.net/QdbNe/1/)

你可以检查我尝试过的那个样本。基本上，我需要能够在半透明蒙版中拖动三个彩色方块，具体取决于用户单击的那个。但问题是我如何确定用户点击的是哪个孩子？因为，点击事件实际上发生在面具上，而不是孩子身上。

所以我需要做类似的事情

```
$("#mask").mousedown(function(e){
        var currentChild = //Somehow fetch the current child
        currentChild.trigger(e);
    }); 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T08:10:39.553

透明面罩有原因吗？如果没有，以下可能有效：

```
$("#child1, #child2, #child3").draggable({
    stop:function(e,ui){
        alert(e.target.id);
    }
}); 
```

更新了小提琴 [http://jsfiddle.net/QdbNe/1/](http://jsfiddle.net/QdbNe/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-12T21:47:11.330

对我来说，乔纳森的回答解决了这个问题

```
$("#mask").mousedown(function(e){
        $("#child1").trigger(e);
    }); 
```

所以我的元素在视觉上是部分隐藏的，但我可以移动它。

# file - PHP：使用 ftp_get() 传输大文件

> ID：13815924
> 
> 赞同：1
> 
> 时间：2012-12-11T07:58:03.740
> 
> 标签：file

我正在尝试使用 ftp_get() 传输一个大文件（~2.5GB）。开始传输后，我看到文件出现在 ftp 上并开始计数。最后文件消失。有任何想法吗？

较小的文件（最大 100mb）没有问题。

代码真的很简单；）

```
return @ftp_get($obj_ftp, $str_target, $str_source, FTP_BINARY); 
```

# compilation - 野牛解析器编译未知错误

> ID：13815932
> 
> 赞同：1
> 
> 时间：2012-12-11T07:58:30.783
> 
> 标签：compilation, compiler-errors, bison, flex-lexer, parser-generator

我正在构建一个解析器，但我有一些我无法解决的错误，我对 bison 和 flex 很陌生，请帮助我解决它们并理解它们为什么会在这里发生是我得到的错误：

```
 lexical.l:3:20: error: common.h: No such file or directory
In file included from lexical.l:5:
bison.tab.h:81: error: expected â=â, â,â, â;â, âasmâ or â__attribute__â before âyylvalâ
bison.tab.c:1155: error: conflicting types for âyylvalâ
bison.tab.h:81: note: previous declaration of âyylvalâ was here
bison.y: In function âyyparseâ:
bison.y:96: error: incompatible types when assigning to type âSTYPEâ from type âNODEPTRâ 
```

这是我的解析器文件 bison.y：

```
%{
#include <stdio.h>
#include "bison.tab.h"
#include "common.h"
//int yylex();
void yyerror (char const *);

typedef struct STYPE {
    NODEPTR pointer;
} STYPE;

#define YYSTYPE STYPE

%}

/* Bison declarations. */

%token ELSE REAL INTEGER XWRITE WHILE END DO IF THEN XPROGRAM FUNCTION XRETURN XREAD VAR FOR XBEGIN CALL ID NUM  
%token RELOP ADDOP MULOP ASSIGN AND OR NOT  
%left '-' '+'
%left '*' '/'
%nonassoc LOWER_THAN_ELSE
%nonassoc ELSE 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T17:26:54.080

如果你`#define YYSTYPE`在你的野牛文件中，你还需要`#define YYSTYPE`在你的 flex 文件中，因为野牛不会将#define 放入生成的头文件中。您需要在#include 生成的头文件*之前执行此操作。*

Bison 不会将#define 放在生成的标头中，因为它无法知道您是否这样做，因为您可能会在包含的文件中执行此操作。事实上，如果你打算`#define YYSTYPE`这样做，你应该在一个公共头文件中进行，以及`#include`在野牛和 flex 程序中的公共头文件（如上所述，在你包含野牛生成的头文件之前）。

此外，当您重新生成生成的代码时，请记住始终*首先*生成 bison 程序，因为 flex 程序依赖于生成的头文件。这与您的操作方式相反。

只是为了让这一切更清楚一点，这里有一个例子：

```
 common.h:

   struct MyType {
     /* ... /
   };

   #define YYSTYPE struct MyType;

 lexer.l:

   %{
      /* All your standard includes go here */
      /* Must go in this order */
      #include "common.h"
      #include "bison.tab.h"

   %}

 bison.y:

   %{
      /* Whatever library includes you need */
      #include "common.h"
      /* Don't include bison.tab.h; it will get inserted automatically */
   %} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T11:21:04.920

要修复 yytext 错误，请将其添加到 bison.y ：-

```
extern char *yytext 
```

要修复 yyerror 错误，请在 bison.y 顶部的原型匹配以下定义：-

```
int yyerror(const char *message); 
```

修复 yylval 错误需要做更多的工作，我对此不太了解，无法提供帮助。我建议尝试一个简单的 hello、world 类型的词法分析器、解析器，然后从那里继续前进。

这是我使用的 common.h ：-

```
typedef struct STYPE {
    int pointer;
} STYPE; 
```

词法分析器的标题：-

```
%{
#include "common.h"
#define YYSTYPE STYPE
#include <stdio.h>
#include"bison.tab.h"
void showToken(char*);
%} 
```

以及解析器的标题：-

```
%{
#include <stdio.h>
#include "common.h"
extern char *yytext;
#define YYSTYPE STYPE
%} 
```

这给了我一个错误和一些警告，但这些是由于未定义的函数。请注意，我已将 STYPE 的声明移至 lexer 和 parser 的顶部

# android - 在gridview中限制图像显示的数量

> ID：13815940
> 
> 赞同：0
> 
> 时间：2012-12-11T07:58:59.520
> 
> 标签：android, gridview, android-gridview

我想知道有没有办法限制gridview中显示的图像数量。我创建了一个gridview，我可能需要显示很多图像。因此，我想实现一个默认只显示 30 张图像的系统，并且会有一个“加载更多”按钮供用户将更多内容加载到 gridview 中。但我有点迷失在这里，我不知道如何进步或寻找什么。我需要一些关于这个问题的指示。任何意见将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T08:14:34.620

GridView 使用 BaseAdapter 来获取其项目，因此如果要更改要显示的数量，则必须在 Adapter 中更改它。像这样：

```
public class ImagePageAdapter extends BaseAdapter {
    private boolean loadAll = false;

    public void setTrue(){
         loadAll = true;
    }

    @Override
    public int getCount() {
     if(loadAll) return getAmount();
     return 30;
    }

    @Override
    public Object getItem(int position) {
       return null;
    }

    @Override
    public long getItemId(int position) {
      return position;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent){
        if(convertView == null) return getImage(position);
        else{
             //reuse convertview
        }
    } 
```

所以你只需要调用 setTrue() 并让 GridView 现在需要重新加载。

# javascript - 如果打印成功则重定向页面 - JavaScript

> ID：13815941
> 
> 赞同：4
> 
> 时间：2012-12-11T07:58:59.390
> 
> 标签：javascript, jquery

```
javascript:window.print();
document.location.href = "https://www.google.com/"; 
```

我使用上面的代码打印我所在的页面然后重定向它。它的作用是在打印成功或失败时重定向页面。

如果页面仅打印成功，如何重定向页面？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T08:09:38.103

> 如果页面仅打印成功，如何重定向页面？

通过给用户一个很好的清晰的链接，如果打印有效。就是这样。这就是你所能做的。

即使在支持它的浏览器（Firefox 和 IE）上，即使用户取消打印对话框，该[`onafterprint`事件也会触发，所以它完全没用。](https://developer.mozilla.org/en-US/docs/DOM/window.onafterprint)一方面，如果当我选择打印时它会将我重定向到其他地方，然后（出于任何原因）取消并打算返回打印它，我会真的对我想要打印的网页感到厌烦。

然后是“成功”意味着什么的整个问题。即使用户告诉它继续打印，并且作业被发送到打印机，这并不意味着打印成功。尽管有打印队列，但当出现问题时，实际上必须返回源并再次说“打印”是很常见的。

然后是用户体验方面。***即使***打印完全成功，你认为用户真的希望你决定他们下一步去哪里吗？不。让他们选择去你想让他们去的地方，但把控制权留在他们手中——它属于哪里。

# image - 缺少 Visual Studio 2012 图像库。去哪里买？

> ID：13815952
> 
> 赞同：8
> 
> 时间：2012-12-11T07:59:36.547
> 
> 标签：image, visual-studio, embedded-resource

***Visual Studio 2012 Ultimate（更新 1）***缺少图像库 zip，其中包含许多有用格式和大小的默认 Windows 应用程序图标。

在 Visual Studio 2010 中，该文件位于 中，但在新的 2012 版本中`\Program Files\Microsoft Visual Studio 10.0\Common7\VS2010ImageLibrary\1033\VS2010ImageLibrary.zip`没有这样的文件 ( **VS2012ImageLibrary.zip )。**

那个非常流行的（在我看来）文件会发生什么？Microsoft 是否会在 Update 2 中附加库？还是可以从不同的来源下载？

感谢您的帮助！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-11T07:59:36.547

最新**2012 Image Library**的***下载链接***是：[http ://www.microsoft.com/en-us/download/details.aspx?id=35825](http://www.microsoft.com/en-us/download/details.aspx?id=35825)

 **Microsoft 于 2012 年 11 月 30 日发布的官方声明（[此处](https://connect.microsoft.com/VisualStudio/feedback/details/758881/image-library-missing-from-visual-studio-2012)）是，他们将在未来的更新/发布中附上该文件：“*感谢您在我们内部审核和批准该版本时的耐心等待。* ”。

我希望你们都得到了你们需要的东西：）**

# perl - 我们可以在没有“.pm”文件扩展名或其他文件扩展名的情况下加载 perl 模块吗？

> ID：13815970
> 
> 赞同：2
> 
> 时间：2012-12-11T08:01:14.937
> 
> 标签：perl

我们可以加载没有“.pm”文件扩展名的 perl 模块吗？

我们能否拥有带有其他文件扩展名的 perl 模块，例如“dll”、“so”或“lib”

只是想知道，如何在 perl 中仅将“pm”文件作为包/模块加载。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-11T08:05:26.587

你可以加载任何你想要的文件`require "file_name";`，带或不带扩展名。唯一的要求是该文件在语法上是有效的 Perl 并且它返回一个真值以指示加载模块成功；

通常`use Module;`基本上只是一个捷径

```
BEGIN {
  require Module;
  Module->import();
} 
```

和（注意模块名称周围`require Module;`的缺失！）在.`"..."``"Module.pm"``@INC`

所以：`require`用一个字符串加载任何文件，`require`用一个`Bareword`查找`"Bareword.pm"`in `@INC`。

# cocos2d-x - 是否可以在 cocos2x 中复制 CCLayer 实例？

> ID：13815971
> 
> 赞同：0
> 
> 时间：2012-12-11T08:01:13.553
> 
> 标签：cocos2d-x

我创建了一个`CCLayer`实例，然后我想创建相同的层。

`CCLayer`cocos2-x中是否可以复制实例？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-12T05:07:01.583

AFAIK，现在 cocos2dx 中没有这种可能性。因此，只需将图层的创建放置到将返回结果图层的方法中并调用此方法两次。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-18T12:25:24.327

在 cocos2d-x 中复制/深度复制对象不是一个选项。

最好的方法是为您的层创建一个自定义类，然后调用该`::create()`方法两次以拥有同一层的两个实例，共享所有初始配置。

在`MyLayer.h`：

```
USING_NS_CC;

class MyLayer : public CCLayer {
public:
  CREATE_FUNC(MyLayer);

  virtual bool init();
}; 
```

在`MyLayer.cpp`：

```
bool MyLayer::init() {
  if (!CCLayer::init())
    return false;

  // Insert here all custom initialization logic

  return true;
} 
```

然后你可以很容易地做到：

```
MyLayer *layer1 = MyLayer::create();
MyLayer *layer2 = MyLayer::create(); 
```

并且两个层将共享相同的初始方面/配置/其他。

# backbone.js - Backbone.js - 如何使用 MVC 将“ul”“li”标签用作选项卡小部件？

> ID：13815972
> 
> 赞同：0
> 
> 时间：2012-12-11T08:01:13.943
> 
> 标签：backbone.js

这个问题可能会让你感到困惑，我想使用'Backbone.js'从'ul'和'li'标签实现'tab'小部件，它是MVC概念。怎么做？

例如

```
<ul>
  <li> One </li>
  <li> Two </li>
  <li> Three </li>
</ul> 
```

单击链接“一个”时，我想显示一些内容（div）并想隐藏其他内容如何使用 MVC 概念？

这可以在没有 Backbone 和 MVC 的情况下完成，但我想用 Backbone 来完成，请帮助我。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-12-11T10:51:40.467

您可以创建一个 Backbone.View 来处理您的所有“选项卡”。这个 Backbone.View 应该覆盖您的内容之上的内容。

根据您的 ul，您可以添加 CSS 选择器或其他属性：

```
<div id="mainDiv">
    <ul>
        <li class="tab-one">One</li>
        <li class="tab-two">Two</li>
        <li class="tab-three">Threeli>
    </ul>
    <div id="tab1" class="tab">...</div>
    <div id="tab2" class="tab">...</div>
    <div id="tab3" class="tab">...</div>
</div> 
```

创建一个 Backbone.View 来处理页面事件：

```
MyView = Backbone.View.extend({
    el: $('#mainDiv'),
    events: {
    'click .tab-one': 'showTabOne',
    'click .tab-two': 'showTabTwo',
    'click .tab-three': 'showTabThree'
    },
    showTabOne: function() {
        $(this.el).find('.tab').hide();
        $(this.el).find('#tab1').show();
    },
    showTabTwo: function() {
        $(this.el).find('.tab').hide();
        $(this.el).find('#tab2').show();
    },
    showTabThree: function() {
        $(this.el).find('.tab').hide();
        $(this.el).find('#tab3').show();
    }
    ...
} 
```

这只是为了使用 Backbone 显示和隐藏选项卡。你可以用 Backbone 做更多的事情 :)

编辑：如果您的选项卡列表是动态的，您可以使用 jquery 方式将事件初始化放在 Backbone.View 的 initialize() 函数中。一旦您实例化 Backbone.View (var view = new MyView;)，这将被调用

# extjs4 - 根据上下文使 extjs4 数据存储 url 动态

> ID：13815977
> 
> 赞同：0
> 
> 时间：2012-12-11T08:01:32.627
> 
> 标签：extjs4, extjs-mvc, extjs-stores

我有一个网格和关联的存储，用于显示有关两个不同实体的数据，即 System 和 Customer 。如果在单击系统链接后显示网格，则要使用的 url 是 /configuration/ **systemid** /234，如果它来自客户链接，则 url 应该是 /configuration/ **customerid** /234。请注意，值 234 也会发生变化。如何在 ExtJs4 MVC 模型中实现这一点。

有没有办法提供如下网址并替换占位符？网址：'/configuration/{context}/{contextid}'

或者我可以将上下文存储在一个对象中并在此处使用它，例如 '/configuration/' + Context.type + '/' + Context.id

还是有一个标准的解决方案？

url 由后端 dvlprs 给出，不能更改:(

我的商店定义如下

```
Ext.define('MyApp.store.Configuration', {
extend: 'Ext.data.Store',
model: 'MyApp.model.Configuration',
autoLoad: true,
proxy: {
    type: 'ajax',
url : '/configuration/customerid/234'
} 
```

})

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T12:39:19.707

```
var yourStore = Ext.getStore('yourStoreID');
Context.type = customerid;
Context.id = 234;
yourStore.getProxy().setUrl('/configuration/' + Context.type + '/' + Context.id); 
```

我以前用过类似的东西，因为我的商店有不同的 GET 和 POST 网址。因此，您可以轻松地动态更改 URL。

# excel - 在 Excel 工作表的每一行中查找特定字符串

> ID：13815979
> 
> 赞同：-2
> 
> 时间：2012-12-11T08:01:45.857
> 
> 标签：excel, vbscript

我有一个 Excel 表，其中的数据像“输入表”一样呈现。如果每行中都存在 T1 或 T2，我需要使用 VBscript 进行搜索。如果找到了，那么“Task compdate”列应该从下一个任务的直接“Stardate”列中复制值（如果有的话）。

***输入表：***

```
 Activity        Task1    Task1 Stardate   Task1 Compdate     Task2     Task2 Stardate   Task2 Compdate   Task3     Task3 Stardate   Task3 Compdate

A1                T1       02/01/2012                           T1       04/01/2011                         T3         09/02/2011

A2                T2       02/01/2012                           T2       04/01/2011                         T3         09/02/2011

A3                T1       02/01/2012                           T4       04/01/2011                         T3         09/02/2011 
```

***输出表：***

```
 Activity        Task1    Task1 Stardate   Task1 Compdate     Task2     Task2 Stardate   Task2 Compdate   Task3     Task3 Stardate   Task3 Compdate

A1                T1       02/01/2012        04/01/2011         T1        04/01/2011       09/02/2011       T3         09/02/2011

A2                T2       02/01/2012        04/01/2011         T2        04/01/2011       09/02/2011       T3         09/02/2011

A3                T1       02/01/2012        04/01/2011         T4        04/01/2011                        T3         09/02/2011 
```

***更新代码：***

```
IntRow6=2

Do While objSheet6.Cells(IntRow6,1).Value <> ""

DataCount=0
 For DataCount=0 to UBound(VMHArray)

  Set rSearch = objSheet6.Cells(IntRow6,1).EntireRow
  Set rFound = rSearch.Find(VMHArray(DataCount))

        If Not rFound Is Nothing Then

                 adrFirst = rFound.Address

               Do  

                   objSheet6.Cells(IntRow6,rFound.Column + 2)= objSheet6.Cells(IntRow6,rFound.Column + 5)
                   Set rFound = rSearch.FindNext(rFound)

               Loop Until rFound.Address = adrFirst
       End If

 Next

IntRow6=IntRow6+1
Loop 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T11:13:16.927

***更新代码：***

```
IntRow6=2

Do While objSheet6.Cells(IntRow6,1).Value <> ""

DataCount=0
 For DataCount=0 to UBound(VMHArray)

  Set rSearch = objSheet6.Cells(IntRow6,1).EntireRow
  Set rFound = rSearch.Find(VMHArray(DataCount))

        If Not rFound Is Nothing Then

                 adrFirst = rFound.Address

               Do  

                   objSheet6.Cells(IntRow6,rFound.Column + 2)= objSheet6.Cells(IntRow6,rFound.Column + 5)
                   Set rFound = rSearch.FindNext(rFound)

               Loop Until rFound.Address = adrFirst
       End If

 Next

IntRow6=IntRow6+1
Loop 
```

谢谢

# xslt - 从前一个节点获取条件值

> ID：13815986
> 
> 赞同：1
> 
> 时间：2012-12-11T08:02:17.003
> 
> 标签：xslt, xslt-2.0

我有这个 XSLT 2.0 模板：

```
<xsl:template match="footnote">
    <xsl:variable name = "string" select="./text()"/>
    <xsl:variable name = "bool">
        <xsl:choose>
            <xsl:when test="$string = preceding::footnote/text()">
                <xsl:text>false</xsl:text>
            </xsl:when>
            <xsl:otherwise>
                <xsl:text>true</xsl:text>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:variable>
    <xsl:if test="$bool = 'true'">
        <xsl:variable name="footnoteCount">
            <xsl:call-template name="getItemNumber">
                <xsl:with-param name="node" select="."/>
            </xsl:call-template>
        </xsl:variable>
    <!-- DO XSL-FO TRANSFORMATION STUFF-->
    </xsl:if> 
    <xsl:if test="$bool = 'false'">
        <xsl:variable name = "footnoteCount">
            <xsl:if test="$string = preceding::footnote/text()">
                <xsl:value-of select="preceding::footnote/$footnoteCount"/>
            </xsl:if>
        </xsl:variable>
        <!--DO XSL-FO TRANSFORMATION STUFF-->
    </xsl:if>
</xsl:template> 
```

编辑了示例 XML。我想改变这个：

```
<footnote>Foo bar</footnote>
<footnote>Bar foo</footnote>
<footnote>Foo bar</footnote>
<footnote>Foo bar</footnote>
<footnote>Bar</footnote>
<footnote>Foo</footnote> 
```

进入这个：

```
<footnote>Foo bar</footnote>
<footnote>Bar foo</footnote>
<footnote>Bar</footnote>
<footnote>Foo</footnote 
```

然后使用 XSL-FO 对其进行样式化。这种样式的目的是主体中的文本将有一个编号的引用，由 表示`$footnotecount`，然后在页面底部呈现的脚注。我需要转换文档，以便重复的脚注只呈现一次，并且`$footnoteCount`每个重复的数字参考 ( ) 都是相同的。

所以我试图用这个模板做的是：

1.  确定具有当前节点文本的脚注元素是否已存在。
2.  如果它不存在（即，'$bool' 为 'true'），找到前一个脚注的编号，增加它（这在 'getItemNumber' 模板中完成）并创建一个“新”脚注。如果确实存在（$bool 为 'false'），则获取文本匹配的节点的 $footnoteCount 变量并将其用于当前节点。

这是我遇到麻烦的脚注已经存在的场景。我不知道如何从先前的特定节点获取 $footnoteCount 变量，具体取决于节点是否满足特定条件（其文本是否与当前节点中的 $string 变量相同）。由于 $footnoteCount 变量仅有条件地存在（即使在实践中它始终存在，因为 $bool 必须为真或假），这一事实变得更加困难。

有人对在这里做什么有建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T08:54:18.393

这看起来像一个分组问题，在 XSLT2.0 中，您可以使用**xsl:for-each-group**元素来获取不同的元素

```
<xsl:for-each-group select="footnote" group-by="."> 
```

我认为您需要一种不同的方法来进行编号。首先，您可以创建一个变量来保存脚注描述及其索引的“查找”

```
 <xsl:variable name="footnotes">
        <xsl:for-each-group select="//footnote" group-by=".">
            <footnote id="{position()}">
                <xsl:value-of select="."/>
            </footnote>
        </xsl:for-each-group>
    </xsl:variable> 
```

这意味着**脚注**变量包含以下元素

```
<footnote id="1">Foo bar</footnote>
<footnote id="2">Bar foo</footnote>
<footnote id="3">Bar</footnote>
<footnote id="4">Foo</footnote> 
```

然后，要用数字引用替换现有的**脚注**元素，您将拥有这样的模板

```
 <xsl:template match="footnote">
        <footnote>
            <xsl:value-of select="$footnotes/footnote[. = current()]/@id"/>
        </footnote>
    </xsl:template> 
```

尝试以下 XSLT

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output method="xml" indent="yes"/>
    <xsl:variable name="footnotes">
        <xsl:for-each-group select="//footnote" group-by=".">
            <footnote id="{position()}">
                <xsl:value-of select="."/>
            </footnote>
        </xsl:for-each-group>
    </xsl:variable>

    <xsl:template match="/*">
        <xsl:apply-templates select="footnote"/>

        Footnotes
        <xsl:copy-of select="$footnotes"/>
    </xsl:template>

    <xsl:template match="footnote">
        <footnote>
            <xsl:value-of select="$footnotes/footnote[. = current()]/@id"/>
        </footnote>
    </xsl:template>
</xsl:stylesheet> 
```

当应用于您的示例 XML（假设是根元素）时，输出以下内容

```
<footnote>1</footnote>
<footnote>2</footnote>
<footnote>1</footnote>
<footnote>1</footnote>
<footnote>3</footnote>
<footnote>4</footnote>

Footnotes
<footnote id="1">Foo bar</footnote>
<footnote id="2">Bar foo</footnote>
<footnote id="3">Bar</footnote>
<footnote id="4">Foo</footnote> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T10:40:08.217

除了未能使用 xsl:for-each-group 之外，您的代码还有许多其他问题。例如，采取这个：

```
<xsl:variable name = "bool">
    <xsl:choose>
        <xsl:when test="$string = preceding::footnote/text()">
            <xsl:text>false</xsl:text>
        </xsl:when>
        <xsl:otherwise>
            <xsl:text>true</xsl:text>
        </xsl:otherwise>
    </xsl:choose>
</xsl:variable> 
```

你可以写成

```
<xsl:variable name="bool" as="xs:boolean()" 
    select="$string = preceding::footnote"/> 
```

然后你这样做：

```
<xsl:if test="$bool = 'true'">
    <xsl:variable name="footnoteCount">
        <xsl:call-template name="getItemNumber">
            <xsl:with-param name="node" select="."/>
        </xsl:call-template>
    </xsl:variable>
</xsl:if> 
```

这是完全没用的：变量一被声明就超出范围，所以它永远不能被引用。

您需要阅读一些有关 XSLT 的背景知识，还有很多想法您还没有掌握。

# javascript - jquery循环插件在加载/刷新时显示最后一张图片

> ID：13815988
> 
> 赞同：0
> 
> 时间：2012-12-11T08:02:32.777
> 
> 标签：javascript, jquery, jquery-plugins, cycle, jquery-cycle

使用循环插件时出现问题，加载时得到最后一张图片

您可以在此处查看网络链接 - [http://www.visitclearwaterflorida.com/index.php/](http://www.visitclearwaterflorida.com/index.php/)

这就是我第一次加载/刷新时看到的 - [http://www.elixirbox.com/temp/header1.jpg](http://www.elixirbox.com/temp/header1.jpg)

有谁知道是什么问题？

这是我的代码：

```
<div id="headerimgs">
        <div class="headerimg bg1">
            <div class="container_16">
                <div class="grid_16"><div class="caption">Sunsets at Pier 60, Clearwater Beach</div></div>
            </div>
        </div>
        <div class="headerimg bg2">
            <div class="container_16">
                <div class="grid_16"><div class="caption">'Winter' the Dolphin invites you to visit the Clearwater Marine Aquarium!</div></div>
            </div>
        </div>
       <div class="headerimg bg3">
            <div class="container_16">
                <div class="grid_16"><div class="caption">Clearwater Beach </div></div>
            </div>
        </div>
        <div class="headerimg bg4">
            <div class="container_16">
                <div class="grid_16"><div class="caption">Sunset at Pier 60, Clearwater Beach</div></div>
            </div>
        </div>
        <div class="headerimg bg5">
            <div class="container_16">
                <div class="grid_16"><div class="caption">Clearwater Beach Walk</div></div>
            </div>
        </div> 
    </div> 
```

我从 CSS 类“bg1，bg2 .. bg5”中调用图像背景

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-12T03:32:15.237

我建议你把你的 CSS 改成这样：

```
#headerimgs>div:first-child {display:block}
#headerimgs>div {display:none} 
```

或者因此，如果您使用 php 生成此文件，则可以在第一个之后使用所有 imgs`style="display:none"`

这是描述该技术的常见问题解答页面的链接。 [http://jquery.malsup.com/cycle/faq.html](http://jquery.malsup.com/cycle/faq.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T08:10:13.177

请检查您可以为横幅图像提供的图像顺序...从您的代码中，我发现您的预期图像位于第 5 位。请检查并正确订购。它会工作......或者请输入你的横幅代码......我会指导你

# merge - 如何在 Pencil Wireframing Tool 中合并两个原型？

> ID：13815992
> 
> 赞同：2
> 
> 时间：2012-12-11T08:02:52.757
> 
> 标签：merge, prototype

我正在使用铅笔线框工具。我已将模块分发给我的开发人员，现在我想将所有模块合并到一个解决方案中。而不是逐页复制粘贴，我认为可以有更好的方法来做到这一点。我还想知道，是否可以将原型的一个源文件转换为另一个，因为我认为 Pencil 中缺少协作功能。请协助。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-08T05:48:05.950

`.ep`在您喜欢的编辑器中打开文件。您将看到一个 XML 结构，例如

```
<?xml version="1.0"?>
<Document xmlns="http://www.evolus.vn/Namespace/Pencil">
 <Properties/>
  <Pages>
   <page>...</page>
   <page>...</page>
   .....
   .....
  </Pages>
</Document> 
```

现在只需在第一个末尾复制粘贴第二个`.ep`文件（就在之前`<page>``.ep``</pages>`

# c# - 像facebook一样在AutoCompleteExtender中绑定图像？

> ID：13815995
> 
> 赞同：1
> 
> 时间：2012-12-11T08:03:24.223
> 
> 标签：c#, asp.net, ajaxcontroltoolkit

我有一个 ajax AutoCompleteExtender。我只能用我的 AutoCompleteExtender 而不是图像来绑定文本。那么如何在 ajax AutoCompleteExtender 中绑定图像和文本？任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T09:05:28.973

*在标题部分添加以下提到的文件*

```
 <script type="text/javascript">

    $(document).ready(function () {

        $("#searchtext").autocomplete
       ({
           source:
          function (request, response) {
              $.ajax
              ({
                  url: "../BeanService.asmx/GetCompletionList",
                  data: "{prefixText:'" + request.term + "'}",   // term is the property that contains the entered text
                  dataType: "json",
                  type: "POST",
                  contentType: "application/json; charset=utf-8",
                  success: function (data) {

                      response(data["d"]);  // property d contains list of names sent from service
                      //$("#dynamiccontainer").append(data["d"]);

                  },
                  error: function (xhr, callStatus, errorThrown) {
                      // alert(callStatus);
                  }
              });
          },
           // Attempt to remove click/select functionality - may be a better way to do this        
           select: function (event, ui) {

               var mylink = ui.item.value;

               var doc = document.createElement("html");
               doc.innerHTML = mylink;
               var links = doc.getElementsByTagName("a")
               var urls = [];

               for (var i = 0; i < links.length; i++) {
                   urls.push(links[i].getAttribute("href"));
               }

               window.location.href = urls[0];

               return false;
           }

       });
    });

</script> 
```

*下面是将应用自动完成的文本框*

```
<asp:TextBox ID="searchtext" runat="server"></asp:TextBox> 
```

*这是您的 bean 类，它将由 webservice 填充并通过 ajax 调用返回给 jquery 方法*

```
public class SearchBean
{

    public int Id
    {
        get;
        set;
    }
    public string Title
    {
        get;
        set;
    }
    public string reUrl
    {
        get;
        set;
    }
    public string stype
    {
        get;
        set;
    }
    public string photoAdd
    {
        get;
        set;
    }

} 
```

*这是您的网络服务，将由您的 jquery 自动完成 ajax 方法调用*

```
public string[] GetCompletionList(string prefixText)
{
    BDBEntities db = new BDBEntities();
    List<SearchBean> lstfinaldata = new List<SearchBean>();
    List<MaCatMaster> lstcatlist = db.MaCatMasters.Where(z => z.CatName.Contains(prefixText) && z.Status == true).ToList();

    foreach (MaCatMaster obj in lstcatlist)
    {
        SearchBean objbean = new SearchBean();
        objbean.Id = obj.Id;
        objbean.Title = obj.CatName;
        objbean.stype = "Category";
        objbean.reUrl = www.demo.com + "/Pages/Coupons/" + obj.Id;
        lstfinaldata.Add(objbean);
    }

    string[] st = new string[lstfinaldata.Count];
    int i = 0;

    foreach (SearchBean obj in lstfinaldata)
    {
        StringBuilder sb = new StringBuilder();
        sb.Append("<html><body>");
        sb.AppendFormat("<a href='{0}' name='urllink'>", obj.reUrl);
        sb.Append("<table width='420px'>");
        sb.AppendFormat("<tr><td width='60px'><img src='{0}' style='border:1px solid #eeeeee' width='60px' height='40px'></td><td align='left' width='300px'>{1}</td><td align='left' width='60px' style='font-size:14px;'>{2}</td></tr>", obj.photoAdd, obj.Title, obj.stype);
        sb.Append("</table>");
        sb.Append("</a>");
        sb.Append("</body></html>");
        st[i] = sb.ToString();
        i++;
    }

    return st;

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T22:31:59.813

在您的搜索方法中，您可以使用`AutoCompleteExtender.CreateAutoCompleteItem()`方法创建*要显示的文本对*和*图像路径*：

```
public static List<string> Search(string prefixText, int count)
{
  var items = new List<string>();

  // ...

  items.Add(AjaxControlToolkit.AutoCompleteExtender.CreateAutoCompleteItem(
          text,
          imagePath));

  // ...

  return items;
} 
```

然后`img`使用 javascript 在客户端创建标签：

```
function Items_Populated(sender, e) {

  var items = sender.get_completionList().childNodes;

  for (var i = 0; i < items.length; i++) {

    var div = document.createElement(“div”);
    div.innerHTML = ”&lt;img src=' + items[i]._value + ’ /><br />”;

    items[i].appendChild(div);
} 
```

这里有些例子：

*   [带有前缀图像的 AJAX 自动完成](http://www.codeproject.com/Articles/43368/AJAX-AutoComplete-with-prefix-image)
*   [自动完成图像](http://ashuthinks.wordpress.com/2012/11/20/auto-complete-with-images/)

# tomcat - 限制 Tomcat 中的文件访问

> ID：13815997
> 
> 赞同：2
> 
> 时间：2012-12-11T08:03:31.843
> 
> 标签：tomcat, web-applications, servlets, security, file-security

我们的产品存在严重的安全问题，它运行在 apache tomcat 服务器上，监听端口 80 和 443。这些端口上传入的 HTTP/HTTPS 数据包的路由是由我们的产品类配置的，无法确保每个请求的 URL 引用一个文件，它位于服务器的 Web 根目录中，并且属于允许提供的类型。

特别是，与 url 中的“/error/*”匹配的数据包被配置为使用“docroot”文件夹作为提供文件的文档根目录。因此，`%5C`也可以访问和下载使用 URL 编码的反斜杠从 /error/ （即 docroot）目录中遍历出来的路径。例如，远程用户可以提供一个类似的 url –</p>

```
 https://MyDomain/error/..%5c..%5csettings.properties 
```

访问与 docroot 处于同一级别的远程文件 settings.properties。我们正试图通过防火墙规则和网络分段来克服这个问题。但是tomcat中有没有可以用来防止远程用户访问项目根文件夹外的文件的设置。那将非常有用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T08:08:49.270

您可以使用机器人限制对错误文件夹的访问。您还可以将条目映射到 error/* 到重定向页面。

对所有请求和响应进行编码应该可以解决 / -> %5c 问题

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-20T23:53:39.790

如果要限制对某些文件的直接 URL 访问，请将它们放在 WEB-INF 目录下。

从这里引用（注意：*以下 URL 当前不可用*）：
[http ://www.servletworld.com/servlet-tutorials/web-application-directory-structure.html](http://www.servletworld.com/servlet-tutorials/web-application-directory-structure.html)

> 根目录包含一个名为 WEB-INF 的目录。根目录下除 WEB-INF 目录外的所有内容都是公开的，可以通过浏览器的 URL 访问。
> 
> WEB-INF 目录是 Web 应用程序的私有区域，**WEB-INF 目录下的任何文件都不能通过指定 URL 直接从浏览器访问，**如`http://somesite/WEB-INF/someresource.html`. Web 容器不会提供此目录的内容。但是，应用程序中的类可以访问 WEB-INF 目录的内容。因此，如果您不希望从 Web 浏览器直接访问 JSP 或 HTML 文档等任何资源，则应将其放在 WEB-INF 目录下。