# StackOverflow 问答 13926000-13926999

# javascript - 在Javascript中将参数传递给new()

> ID：13926008
> 
> 赞同：2
> 
> 时间：2012-12-18T03:54:43.123
> 
> 标签：javascript, oop, node.js, less

我开始使用 Node.js，特别是 LessCSS 编译器。我在 lessc 脚本的源代码上看到了这个调用：

```
new(less.Parser) ({
    paths: [path.dirname(input)].concat(options.paths),
    optimization: options.optimization,
    filename: input,
    strictImports: options.strictImports,
    dumpLineNumbers: options.dumpLineNumbers
}).parse(data, function (err, tree) {
    //...
}); 
```

我不明白那个`new(lessParser)({})`电话是如何工作的。

从我一直在阅读的有关面向对象的 Javascript 的内容中，我只发现了 new 被调用的示例，如下所示：`object = new Someting`

所以问题是：在这种情况下如何`new`工作？`less.Parser`它是作为构造函数调用的吗？另外，括号（在新调用之后）执行/返回是什么？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-18T04:03:27.037

您发布的代码是~~*确切地*~~技术上（或多或少）与做的相同

```
var parserOptions = {
    paths: [path.dirname(input)].concat(options.paths),
    optimization: options.optimization,
    filename: input,
    strictImports: options.strictImports,
    dumpLineNumbers: options.dumpLineNumbers
};
var parser = new less.Parser(parserOptions);

parser.parse(data, function (err, tree) {
    //...
}); 
```

但是在“非常规”的地方有一些捷径和一些括号。

JavaScript 是一种[松散类型](http://blog.jeremymartin.name/2008/03/understanding-loose-typing-in.html)的语言，它被解释为[标记](https://stackoverflow.com/questions/7501520/how-do-browsers-parse-and-interpret-javascript-code)。这意味着只要尊重语法，它就不会过多地限制它的语法。

这让事情像：

```
var a = false;
var b = function() { };
var c = false;
new(a || b || c)(); 
```

完全有效，并将创建一个新实例，`b`因为它是在测试变量之后定义的第一个非假值`a`。（请注意，它不检查是否`b`实际上是一个`function`. 如果`b`是非 false 并且不是一个函数，JS 引擎会在运行时抛出它不是一个函数。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T05:25:26.543

真的只是一个评论。

表达式`new(less.Parser)({…})`与 相同`new less.Parser({…})`。

括号是一个分组运算符，表示“将此表达式评估为单个表达式”。当括号中的表达式在没有括号的情况下返回不同的结果时，通常使用该语法，例如

```
var x, y = 7;

alert( typeof (x || y))  // "number"

alert( typeof  x || y )  // "undefined" 
```

但是由于它们对 OP 中的结果没有任何影响，因此它们毫无意义并且可能有害，因为它们将众所周知的模式更改为在某些人看来似乎`new`可以作为函数调用的模式。

# c++ - push_back 上的段错误

> ID：13926010
> 
> 赞同：0
> 
> 时间：2012-12-18T03:55:20.687
> 
> 标签：c++, list, segmentation-fault, push-back

在下面的一段代码中，我在调用 push_back() 的行上遇到了段错误：

```
CTrigger CTriggerManager::AddTrigger(const std::wstring& eventName)
{
    CTrigger trigger(eventName);
    m_Triggers.push_back(trigger);
    return trigger;
} 
```

如果从代码中不清楚，我正在尝试初始化一个对象`trigger`，将其推到 list 的后面`m_Triggers`。谁能告诉我为什么这可能会导致段错误？

[如果需要，请在此处](https://github.com/zootzoot/0ad/blob/b5245afe20402a66ad55ae2f4d2727cc16f1f1e1/source/ps/TriggerManager.cpp#L25)查看完整上下文中的代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:11:11.693

TriggerManger 在哪里使用和声明？我敢打赌，由于它在 push_back 上崩溃，因此 CTriggerManager 的实际实例为空，并且第一次访问成员变量 (m_Triggers) 会导致访问冲突。

我在这里看到一个声明，但从未实例化：world.cpp：

```
CTriggerManager* pTriggerManager = NULL; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:10:52.103

问题显然不在此函数中，甚至不在 TriggerManager.h/cpp 文件中——这两个类都非常简单和幼稚。顺便说一句，为了更好地初始化`m_EventName`以在构造函数中使用初始化列表，而不是分配运算符...

尝试使用`valgrind`例如...可能会向您展示一个真正的原因很有趣...-似乎您在调用`AddTrigger`...之前在某处损坏了内部列表

# api - Filepicker.io stat 方法返回空高度和宽度

> ID：13926012
> 
> 赞同：0
> 
> 时间：2012-12-18T03:55:30.080
> 
> 标签：api, filepicker.io, filepicker

我有一堆图像上传到文件选择器（随后存储在我的 s3 存储桶中）。当我尝试使用 API 中的 stat 方法查询文件选择器的高度和宽度时，这两个值都返回 null。这是您可以用来检查我所看到内容的代码：

```
var fpfile = { url: 'https://www.filepicker.io/api/file/t5efEEtHT8Gjm9dNNxbl' };
filepicker.stat(fpfile, {width: true, height: true},
    function(metadata){
        console.log(JSON.stringify(metadata));
}); 
```

如果您查看该文件，您会发现它是一个普通的 jpg。有什么想法我可能做错了吗？或者这是文件选择器中的错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T19:57:35.403

查看返回的元数据，看起来它认为它被命名为“IMG_0281JPG”（注意名称和 JPG 之间缺少句点），因此它没有注册为 jpg 并且系统无法计算非图像的宽度和高度.

在上传时正确设置文件名应该会有所帮助。

# html - 在 Mobile Safari 中导致旋转问题的视口设置

> ID：13926013
> 
> 赞同：4
> 
> 时间：2012-12-18T03:55:51.047
> 
> 标签：html, ios, rotation, mobile-safari, viewport

首先，这不是我在其他问题中看到的缩放问题。此外，我正在使用运行 iOS 6 的 iPhone 4 进行测试。在处理移动项目时，我发现`viewport`标签和移动 safari 存在问题。我将所有内容提炼成尽可能基本的代码。我有参数设置：

*   宽度=设备宽度
*   高度=设备高度
*   初始规模=1.0
*   最大比例=1.0
*   用户可扩展=否

一切正常，直到您旋转屏幕。没有调整大小，右侧出现一个黑条来填补空白（见截图）。如果我完全删除`height=device-height`，问题就会消失。但是，我确实需要使用这个参数。否则，我将不得不问一个不同的问题。

旋转回纵向模式后，那个黑条仍然存在，我可以左右滚动。这是一个非常奇怪的问题。删除`width=device-width`会发生其他意想不到的事情。如果您想尝试一下，我这里有代码：http: [//toastd.net/viewport.html](http://toastd.net/viewport.html)

以下是一些截图：

在这里它在纵向模式下工作正常： ![在职的](../Images/347b17fa77220c2b704d787fb99c6ea8.png)

旋转到横向模式时 ![不能在横向模式下工作](../Images/1c2d2994a2b3289597bc3fbba9669db2.png)

然后旋转回纵向模式 ![旋转回纵向模式](../Images/3d55a922581d7a5a0438e4ded91fa297.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T15:25:58.947

元标记将帮助定义视口的规则，但您仍然需要应用视觉样式来解决方向的变化。试试这些 CSS 值：

```
body { width: 100%; height: 100%; } 
```

如果您想要一个好的资源来帮助您继续您的项目，PhoneGap 在 GitHub 上有一个您可以 fork 的入门应用程序。
[电话间隙开始](https://github.com/phonegap/phonegap-start)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-18T02:05:44.133

我相信这是 Safari 上的一个错误，但我想出了一种解决方法。它与某些元素及其样式有关。通过消除过程，我将其缩小到一些“有问题的”HTML 元素。从一些元素和 CSS 样式中删除`width: 100%;`，以及其他静态宽度，比如`width: 120px;`会开始出现减少问题。我说“开始减少”，因为右边的边距变小了，但并没有完全消失。然后我开始使用其他 CSS 属性，例如边距和填充。在去掉一些元素的左右填充后，问题终于消失了。但这并不是真正可以接受的，因为这些风格的存在是有原因的。

解决方案是将所有内容包装在一个容器元素中，适当调整大小并`overflow: hidden;`在 CSS 中设置。设置`overflow: hidden;`为`body`or`html`标签也可以，但在 Mobile Safari 中垂直滚动时会做一些时髦的事情。在我的例子中，已经有这样一个容器元素，所以我所要做的就是`overflow`向它添加属性。

就像我说的，我认为这是 Safari 中的一个错误。当您从横向旋转到纵向时，所有内容都应重新调整大小以适合纵向模式。从视觉上看，一切看起来都像是正确调整了大小。但是，Safari 一定认为*某些东西*没有正确调整大小，所以它显示的页面比实际更宽。这在 Android 设备上的 Chrome 中运行良好。我还添加了不同的背景颜色和边框，以突出显示可能导致页面超出设备屏幕宽度的元素。从视觉上看，没有明显的罪魁祸首。

如果您认为这可能是一个`width: 100%`加`padding`号问题，我也有同样的想法。但是单独删除宽度或边距/填充应该可以解决问题，但它没有。没有一个元素位于屏幕边缘之外。那里除了空地什么都没有。

# android - 平板电脑的默认安卓应用程序

> ID：13926016
> 
> 赞同：3
> 
> 时间：2012-12-18T03:56:07.820
> 
> 标签：android, android-service, default

在我的应用程序中，我已经完成了所有过程，并且它们运行良好。现在我的设备只需要一个应用程序或其他应用程序不得出现在用户的视野中。

我可以将我的应用程序设为默认应用程序或用户唯一可以查看的应用程序吗？

为了避免不必要地使用其他应用程序或保持时间消耗，我打算试试这个。

我需要更改`Manifest.xml`此解决方案文件中的任何内容来解决此问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T03:58:06.013

您无法在库存设备上执行此操作。您最好的选择是创建一个只允许启动您的应用程序的启动器。但是，用户需要同意运行它，并且始终可以在“设置”中更改和/或禁用它。

# windows-8 - 通过 Visual Studio 2012 部署后，看不到我的 Windows 8 应用商店应用程序的磁贴？

> ID：13926018
> 
> 赞同：2
> 
> 时间：2012-12-18T03:56:54.977
> 
> 标签：windows-8, visual-studio-2012, microsoft-metro

我正在开发一个 Windows 8 应用商店应用程序。直到某个时候，一旦我从 Visual Studio 构建并运行了解决方案，我就可以看到应用程序的 Tile。

但是，最近 Visual Studio 2012 似乎已停止创建 Tile 以在开发环境中启动我的应用程序。我必须使用应用程序搜索来调出应用程序快捷方式并启动（在调试器之外）。

我的环境中最近发生的唯一变化是更新 1 安装。

为什么 Visual Studio 停止创建 Tile 还是我搞砸了？

环境：

Windows 8 专业版 (x64)
Visual Studio Express 2012 更新 1

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:13:08.497

如果您从开始屏幕取消固定它，它将在您的所有应用程序中，您需要重新固定它。很可能您只是取消固定而不是卸载。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-25T17:10:46.343

同样在这里，但我在我的应用程序上按**卸载**。结果 ：

1.  “所有应用”中缺少我的应用。
2.  应用程序也无法创建任何新的/第二个图标/图块。
3.  任何新的地铁应用程序都有同样的问题

我设法通过删除文件夹来修复它（这不是好的解决方案。必须是恢复应用程序的另一种方法）：“C:\Users\UserNameHere\AppData\Local\Packages\”

# c# - 多对多关系更新：无法插入重复键

> ID：13926020
> 
> 赞同：3
> 
> 时间：2012-12-18T03:57:08.087
> 
> 标签：c#, ef-code-first, many-to-many, primary-key, entity-framework-5

首先我还是EF代码的新手，所以请对我宽容。

我有这些实体类：

```
 public class User
    {
        public int UserId { get; set; }
        public string UserName { get; set; }
        public string EmailAddress { get; set; }
        public string Password { get; set; }
        public virtual ICollection<Task> Tasks { get; set; }
        public virtual ICollection<Task> TaskAssignees { get; set; }

        public User()
        {
           Tasks = new List<Task>();
        }
    }

    public class Task
    {
       public int TaskId { get; set; }
       public string Name { get; set; }
       public virtual User CreateBy { get; set; }
       public int UserId { get; set; }
       public virtual ICollection<User> Assignees { get; set; }

       public Task()
       {
         Assignees = new List<User>();
       }
    } 
```

带映射配置：

```
public class UserMap : EntityTypeConfiguration<User>
{
    public UserMap()
    {
        Property(u=>u.UserName)
            .IsRequired()
            .HasMaxLength(30);
        Property(u => u.EmailAddress)
            .IsRequired()
            .HasMaxLength(255);
        Property(u => u.Password)
            .IsRequired()
            .HasMaxLength(255);
    }
}

public class TaskMap : EntityTypeConfiguration<Domain.Entities.Task>
{
    public TaskMap()
    {
        Property(t => t.Name)
           .IsRequired()
           .HasMaxLength(255);
        HasRequired(t => t.CreateBy)
            .WithMany(u => u.Tasks)
            .HasForeignKey(t => t.UserId)
            .WillCascadeOnDelete(false)
            ;
        HasMany(t => t.Assignees)
            .WithMany(u => u.TaskAssignees)
            .Map(a =>
                {
                    a.ToTable("TaskAssignees");
                    a.MapLeftKey("TaskId");
                    a.MapRightKey("UserId");
                })
            ;
    }
} 
```

和一个相当通用的存储库类：

```
 public class EntityRepository<TEntity> : IEntityRepositoryGetWithCRUD<TEntity> where TEntity : class 
    {
        internal DbContext context;
        internal DbSet<TEntity> dbSet;

        public EntityRepository(DbContext Context)
        {
            this.context = Context;
            this.dbSet = context.Set<TEntity>();
        }

        public virtual IQueryable<TEntity> All
        {
            get { return dbSet; }
        }

        public virtual IQueryable<TEntity> AllIncluding(params System.Linq.Expressions.Expression<Func<TEntity, object>>[] IncludeProperties)
        {
            IQueryable<TEntity> query = dbSet;

            foreach (var includeProperty in IncludeProperties)
            {
                query = query.Include(includeProperty);
            }
            return query;
        }

        public virtual IEnumerable<TEntity> Get(
            Expression<Func<TEntity, bool>> Filter = null,
            Func<IQueryable<TEntity>, IOrderedQueryable<TEntity>> OrderBy = null,
            params System.Linq.Expressions.Expression<Func<TEntity, object>>[] IncludeProperties)
        {
            IQueryable<TEntity> query = dbSet;

            if (Filter != null)
            {
                query = query.Where(Filter);
            }

            foreach (var includeProperty in IncludeProperties)
            {
                query = query.Include(includeProperty);
            }

            if (OrderBy != null)
            {
                return OrderBy(query).ToList();
            }
            else
            {
                return query.ToList();
            }
        }

        public virtual TEntity Find(int Id)
        {
            return dbSet.Find(Id);
        }

        public virtual void Insert(TEntity Entity)
        {
            dbSet.Add(Entity);
        }

        public virtual void Update(TEntity Entity)
        {
            dbSet.Add(Entity);
            context.Entry(Entity).State = EntityState.Modified;
        }

        public virtual void Delete(int Id)
        {
            var entity = dbSet.Find(Id);
            dbSet.Remove(entity);
        }

        public virtual void Delete(TEntity Entity)
        {
            if (context.Entry(Entity).State == EntityState.Detached)
            {
                dbSet.Attach(Entity);
            }
            dbSet.Remove(Entity);

        }

        public virtual void Dispose()
        {
            context.Dispose();
        }

        public virtual void Save()
        {
            context.SaveChanges();
        }

    } 
```

使用上面的代码，我可以顺利地将一个新的任务行插入到 db 中。但是，当我尝试使用以下简单代码更新任务时出现问题：

```
 Task task = repository.Find(2);

 if (task != null)
 {
    task.Name = "Test Update";
    repository.Update(task);
    repository.Save();
 } 
```

错误说：

> 违反主键约束“PK_dbo.TaskAssignees”。无法在对象“dbo.TaskAssignees”中插入重复键。该语句已终止。

有人可以给我一些启示吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T04:15:48.887

我认为您的问题可能在于您如何调用更新。

我不确定，但我认为您的实体已经由上下文管理，因此您不需要添加它以使其处于更新状态。如果您只是删除更新调用并尝试保存，一切正常吗？

# android - SeekBar 在 Android 2.x 上无法正确显示

> ID：13926021
> 
> 赞同：1
> 
> 时间：2012-12-18T03:57:11.203
> 
> 标签：android

我有`SeekBar`一个应用程序，它按预期运行并返回我期望的值。但是，在 Android 2.x 上，它们的显示很奇怪。

![在此处输入图像描述](../Images/ef087ad38da25f5eed8b116baf3d2d33.png)

我一直在寻找其他类似的东西，例如[Android Drawable setLevel(); 没有适当地填充 SeekBar](https://stackoverflow.com/questions/13279971/android-drawable-setlevel-not-filling-seekbar-appropriately)，但那是用于自定义可绘制对象。否则，我很难想出这个问题的搜索词来到达任何地方。

在这种情况下，我所做的就是

```
SeekBar seekBar = (SeekBar)dialogLayout.findViewById(R.id.my_seek);
seekBar.setProgress(5);
seekBar.setMax(20); 
```

如果我移动滑块，它会在移动`SeekBar`的那一刻正确填充。

知道发生了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:21:30.863

发布后，我意识到问题在于方法调用的顺序。

**不正确**

```
SeekBar seekBar = (SeekBar)dialogLayout.findViewById(R.id.my_seek);
seekBar.setProgress(5);
seekBar.setMax(20); 
```

**正确的**

```
SeekBar seekBar = (SeekBar)dialogLayout.findViewById(R.id.my_seek);
seekBar.setMax(20);
seekBar.setProgress(5); 
```

从我收集的信息来看，如果您首先在我的情况下调用*setProgress(5)*，系统会将可绘制对象设置为将进度显示为 5%，因为它是 5 / 100，而 100 是默认最大值。

然后，如果您调用*setMax(20)*，则 5 的值仍然有效，但可绘制对象不再有效，并且不会重新计算以显示为条形的 25% (5 / 20)。

*一旦使用setProgress(5)* ，首先执行*setMax(20)*将强制正确计算可绘制对象。

 *万一它对任何人都有用，我在 Android 2.1、2.2、4.1 和 4.2 上进行了测试。

*   Android 2.1 和 2.2 有这个 bug，顺序很重要
*   Android 4.1和4.2没有这个bug，顺序无所谓

基本上为了保持向后兼容，总是先做*setMax(int)*然后*setProgress(int)*。*

# spring - BeanCreationException 春季休眠 jsf

> ID：13926022
> 
> 赞同：0
> 
> 时间：2012-12-18T03:57:22.823
> 
> 标签：spring, hibernate, jsf, exception, maven

所以我有一个巨大的更新。我终于让我的 sessionFactory 初始化并且不为空。我仍然有（希望）最后一个问题。

当我将数据存储在 DAO 文件中时，我得到了以下堆栈跟踪。

```
javax.faces.el.EvaluationException: org.hibernate.HibernateException: No Session found for current thread
    at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:102)
    at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:101)
    at javax.faces.component.UICommand.broadcast(UICommand.java:315)
    at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794)
    at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259)
    at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)
    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
    at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:931)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:662)
Caused by: org.hibernate.HibernateException: No Session found for current thread
    at org.springframework.orm.hibernate4.SpringSessionContext.currentSession(SpringSessionContext.java:97)
    at org.hibernate.internal.SessionFactoryImpl.getCurrentSession(SessionFactoryImpl.java:941)
    at com.scott.common.CustomerDAO.saveToDb(CustomerDAO.java:25)
    at com.scott.common.CustomerBackingBean.save(CustomerBackingBean.java:65)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.el.parser.AstValue.invoke(AstValue.java:278)
    at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:274)
    at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)
    at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88)
    ... 24 more

    <?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans 
      http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="backingBean" class="com.scott.common.CustomerBackingBean"
        scope="request">
        <property name="customer" ref="customerPojo" />
        <property name="customerDao" ref="customerDao" />
    </bean>

    <bean id="customerPojo" class="com.scott.common.Customer"></bean>

    <bean id="customerDao" class="com.scott.common.CustomerDAO">
        <property name="sessionFactory" ref="mySessionFactory" />
    </bean>

    <bean id="dataSource"
        class="org.springframework.jdbc.datasource.DriverManagerDataSource">
        <property name="driverClassName" value="com.mysql.jdbc.Driver" />
        <property name="url" value="mysql://localhost:3306/scottdb" />
        <property name="username" value="root" />
        <property name="password" value="root" />
    </bean>

    <bean id="mySessionFactory"
        class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">
        <property name="dataSource" ref="dataSource" />
        <property name="annotatedClasses">
            <list>
                <value>com.scott.common.Customer</value>
            </list>
        </property>
        <property name="hibernateProperties">
            <props>
                <prop key="hibernate.dialect">org.hibernate.dialect.MySQLDialect</prop>
                <prop key="hibernate.show_sql">true</prop>
            </props>
        </property>
    </bean>

    <bean id="transactionManager"
        class="org.springframework.orm.hibernate4.HibernateTransactionManager">
        <property name="sessionFactory" ref="mySessionFactory" />
    </bean>
</beans>

    package com.scott.common;

import org.hibernate.SessionFactory;

public class CustomerDAO 
{
    private SessionFactory sessionFactory;

    /**
     * @return the sessionFactory
     */
    public SessionFactory getSessionFactory() {
        return sessionFactory;
    }

    /**
     * @param sessionFactory the sessionFactory to set
     */
    public void setSessionFactory(SessionFactory sessionFactory) {
        this.sessionFactory = sessionFactory;
    }

    public void saveToDb(Customer customer)
    {
        getSessionFactory().getCurrentSession().save(customer);
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T13:22:03.877

由于您当前的 pom 文件仅使用`hibernate-core`依赖项，因此似乎没有添加缓存扩展。

尝试将 hibernate-ehcache 依赖项添加到您的 pom 文件中：

```
<dependency>
    <groupId>org.hibernate</groupId>
    <artifactId>hibernate-ehcache</artifactId>
    <version>4.1.7.Final</version>
</dependency> 
```

# css - 自相矛盾的 CSS 规则 `.myClass:hover { display:none; }` 没有效果

> ID：13926023
> 
> 赞同：3
> 
> 时间：2012-12-18T03:57:31.003
> 
> 标签：css, google-chrome

**序言：**这是一个有点“学术”的问题。我正在寻找一个解释和智能猜想，而不是一个实际的解决方案（没有真正的问题要“解决”）。

所以，我注意到如果我让`:hover`选择器将其`display`属性设置为`none`，它在 Chrome (v23) 中没有明显的效果。实际上，没有应用选择器中的其他属性。就好像整个选择器被忽略了。

例如

```
<div class="myElement">Hover over this. Nothing happens!</div> 
```

...

```
.myElement:hover {
  display:none;
  color:red;
} 
```

（**看看这个的[jsFiddle](http://jsfiddle.net/MnZyx/1/)**）

显然，由于`display:none`不能悬停的元素，该元素立即不再被选择器选中`:hover`，因此失去了`display:none`属性（并再次有资格被选择）。

这条规则的自相矛盾让我想知道为什么（例如）该`display`属性不会像在其他浏览器（ie9、firefox）中那样快速切换（每一帧或鼠标移动）。虽然我认为我更喜欢 Chrome 的实现，但我想知道为什么`color:red`没有应用其他属性（例如 ）。

问题：Chrome 选择放弃这个愚蠢的选择器是否有一些官方记录的原因，或者这是某种错误？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-18T04:35:00.220

> 问题：Chrome 选择放弃这个愚蠢的选择器是否有一些官方记录的原因，或者这是某种错误？

在查看了悬停链接时发生的渲染事件之后，看起来 Chrome 确实在显示中渲染了这种变化（我最初认为 Chrome 出于性能原因忽略了它）。在 1.65 秒内，它捕获了 11360 次由于这种显示变化而重新计算样式和布局的事件。

那为什么你看不到闪烁呢？Chrome 正在以如此快的速度呈现更改，您将看不到更改（或者浏览器只是不呈现它）。当您切换到可见性：隐藏时，您会看到 flickr，因为该项目仍在渲染树中，只是隐藏（另外，它更慢，触发的渲染事件要少得多）。

> 我想知道为什么不应用其他属性（例如颜色：红色）。

它是级联的，所以 display: none 被应用，然后是红色。看不到悬停状态的原因与看不到颜色变化的原因相同。

希望有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:18:47.650

我认为`display:none`同时`hover`也给浏览器造成了混乱。它适用于`visibility:hidden`虽然。

```
display:block;
visibility:hidden;
color:red; 
```

你可以在这里查看：http: [//jsfiddle.net/MnZyx/2/](http://jsfiddle.net/MnZyx/2/)

# jenkins - 在 Jenkins 中使用可编辑电子邮件扩展进行附件

> ID：13926024
> 
> 赞同：11
> 
> 时间：2012-12-18T03:57:30.630
> 
> 标签：jenkins, jenkins-plugins

我正在使用 Jenkins 中的可编辑电子邮件插件来附加电子邮件中的文件。问题是插件无法找到要附加的文件。

我的文件结构是这样的 -
ReportDirectory
工作区

ReportDirectory 包含我要附加的报告。我相信插件的基本目录是工作区。因此，我将附件位置指定为 ../ReportDirectory/DemoReport.html。我也试过 ReportDirectory/DemoReport.html

还有更多选择。难道我做错了什么？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-19T06:06:25.777

我想到了。

Editable Email 插件使用 Ant 文件语法来定位附件。当我查看 Ant 文件语法 ( [http://ant.apache.org/manual/dirtasks.html](http://ant.apache.org/manual/dirtasks.html) ) 的文档时，它说

> 通常，模式被认为是相对路径，相对于依赖于任务的基本目录（ dir 的情况下的属性）。仅考虑在该基本目录下找到的文件。因此，虽然像 ../foo.java 这样的模式是可能的，但在应用时它不会匹配任何内容，因为从不扫描基本目录的父级文件。

由于本例中的基本目录是“工作区”，而我的目录“ReportDirectory”不在其中，因此 Ant 无法访问它。

存在两种解决方案：

1.  将“报告目录”移动到“工作区”中的某个位置。我不喜欢这个，因为我不想弄乱工作区。
2.  在“ReportDirectory”中创建报告后，使用您的 Ant\MSBuild 脚本将其临时复制到“工作区”中，然后电子邮件插件应该能够通过 **/Report.html 之类的东西访问它。

@Amey - 感谢您的努力:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-07-15T15:35:42.550

另一种解决方案是`$JENKINS_HOME/jobs/workspace/$workspace_name`使用您的`$workspace_name`. 这种方式对我有用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-18T05:18:36.480

```
ReportDirectory/DemoReport.html 
```

是正确的方法。

请记住，文件的路径和文件名区分大小写，因此我假设您输入了正确的名称。

另一件事是检查报告是否实际创建并位于您提到的路径中。

您可以尝试的另一件事

```
ReportDirectory/* 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-06-25T14:45:36.223

简单的答案：将您的文件复制到工作区（复制到您的工作目录），然后在附件下，只提供文件名，不带任何引号或任何内容。这将自动告诉詹金斯拿起你的文件。而已！请不要在看到所有配置后感到困惑。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-09-09T10:10:15.777

Jenkins 将使用其工作区中可用的目录。

您可以发送多个附件，如下所示。

报告文件夹/html/index.html、screenShotsFolder/screenShots/*.jpg

# c++ - 二维数组中的动态内存分配

> ID：13926026
> 
> 赞同：0
> 
> 时间：2012-12-18T03:57:45.510
> 
> 标签：c++

我必须创建动态二维数组。我正在尝试使用下面提到的代码：

假设`a=512 and b =102`.So 现在创建的二维数组是`ary[512][102]`。现在我正在创建一个指向基本位置的指针，即`int *ptr=&(ary[0][0]);`

现在，如果我给指针偏移 102 即`ptr+=102`，它应该指向 &(ary[1][0]) 但它不指向。如果给定偏移量 104，那么只有它指向`&(ary[1][0])`. 为什么它需要额外的 2 偏移量？？？？

代码片段：

```
int** ary;
ary= new int*[a];
for(int i = 0; i < a; ++i)
ary[i] = new int[b]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T04:10:02.887

您的二维数组是按照您的代码建议动态分配的，因此这个二维数组的地址不是按顺序排列的，因此`&(ary[0][0])+102`，您不能授予返回的指针是下一行。所以在这种情况下，你应该只使用`&(ary[1][0])`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:32:06.807

在这种情况下，您的二维数组在实际内存中不一定是线性的。所以你不能写一个假设内存是线性的程序。
104 指向 ary[1][0] 的原因可能是边界对齐。运行时系统选择为您的 ary[i] 使用 104 字节，而不是 102。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T04:33:38.690

与二维数组的静态分配不同，当您使用多个`new`. 相反，当您要求`new()`创建 2D 数组的行时，每个新的都会返回完全不相关的地址，这些地址是从堆中分配的。所以你必须使用`ary[n]`来访问行的元素`(n + 1)th`和`ary[n+1]`访问行的元素`(n+2)th`等等。

# c++ - 在头文件中的函数原型中获取指针数组：函数声明为 void

> ID：13926032
> 
> 赞同：1
> 
> 时间：2012-12-18T03:59:10.937
> 
> 标签：c++

我对编程有点陌生，在函数头文件中跟踪到函数原型时遇到了这些错误，我认为这可能与它获得的指针数组有关。

错误变量或字段“clean_up”声明为无效

错误“按钮”未在此范围内声明

错误“按钮”未在此范围内声明

']' 标记之前的错误预期主变量

```
 //Function.h

    #include "SDL/SDL.h"
    #include "SDL/SDL_image.h"
    #include <string>
    #include "functions.h"
    #include "globals.h"
    #include "Button.h"
    #include <fstream>

    void clean_up( Button *buttons[] ); // errors here

    //Function.cpp
  void clean_up( Button *buttons[] )

    {
        SDL_FreeSurface( background );
        SDL_FreeSurface( X );
        SDL_FreeSurface( O );

        for( int t = 0; t < TOTAL_BUTTONS; t++ )
        {
            delete buttons[ t ];
        }

        SDL_Quit();
    }
    //Button.h
    class Button
    {
    private:

    SDL_Rect box;
    SDL_Surface *sprite;

    public:

        bool in_use;
        bool xoro;
        int p_id;

Button( int x, int y, int id );
~Button();

void handle_events();

void show();

};

//Button.cpp

Button::Button( int x, int y, int id )
{
    box.x = x;
    box.y = y;
    box.w = 120;
    box.h = 120;
    in_use = false;
    p_id = id;
}
Button::~Button()
{
    SDL_FreeSurface( sprite );
} 
```

我不太确定在哪里寻找解决方案，因此不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:22:23.447

尝试在 .h 文件中添加类 Button 的前向声明。

函数.h

```
#include "SDL/SDL.h"
#include "SDL/SDL_image.h"
#include <string>
#include "functions.h"
#include "globals.h"
#include "Button.h"
#include <fstream>

class Button;
void clean_up( Button *buttons[] ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:25:07.717

我猜这个类应该在函数声明/定义之前声明。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T04:26:51.120

Function.h 包含太多头文件。它只取决于按钮。

所以只包括 Button.h。甚至更好，只需转发声明类按钮；

这将消除 function.h 中的问题，但它可能会在其他地方弹出。

作为一个通灵的猜测，你错过了一个 ; 或 } 某处。

# ios - 导航栏，标题，通过代码居中对齐

> ID：13926037
> 
> 赞同：0
> 
> 时间：2012-12-18T03:59:36.997
> 
> 标签：ios, xcode

我有许多 xib，我在其中通过代码操作导航栏的标题：

```
titleLabel.text = @"custom Title";
titleLabel.textAlignment = UITextAlignmentCenter;
self.navigationItem.titleView = titleLabel; 
```

我遇到的问题是，在某些情况下，我在该栏中添加了一个右按钮或左按钮，或者两者都添加，并且每当我这样做时，文本对齐最终会有点偏离并且没有正确居中。我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:25:34.247

获取 barButton 的宽度并将其从标签的宽度中减去。

您可以通过此方法确定条形按钮的框架：

[获取 UIBarButtonItem 的宽度](https://stackoverflow.com/questions/5066847/get-the-width-of-a-uibarbuttonitem?lq=1)

IE

```
NSInteger barButtonWidth = //determined through method above ^^^^^

titleLabel.frame = CGRectMake(titleLabel.frame.origin.x, titleLabel.frame.origin.y, titleLabel.size.width-barButtonWidth, titleLabel.size.height); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T04:34:40.043

我找到了一种解决方法。

通过在设置标题视图之前添加按钮，xcode 会自动正确设置对齐方式。顺序很重要。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-13T09:32:08.970

这对我有用

```
UILabel *labelNav;

- (void)viewDidLoad {
    [super viewDidLoad];
    labelNav=[[UILabel alloc]initWithFrame:CGRectMake(0, 0, 150, 20)];
    labelNav.font=[UIFont fontWithName:boldFont size:15];
    labelNav.textColor=barTintColor;
    labelNav.text=kBoostBusinessHoursScreenTitle;
    labelNav.textAlignment=NSTextAlignmentCenter;
    labelNav.center=self.navigationController.navigationBar.center;
    CGRect framelabel=labelNav.frame;
    framelabel.origin.y=12;
    labelNav.frame=framelabel;
    [self.navigationController.navigationBar addSubview:labelNav];
}

-(void)viewWillDisappear:(BOOL)animated
{
    [super viewWillDisappear:animated];
    [labelNav removeFromSuperview];
} 
```

# ios - 为什么 navigator.device.capture.captureVideo 有时会显示 Picture Camera 而不是摄像机？

> ID：13926038
> 
> 赞同：2
> 
> 时间：2012-12-18T03:59:40.910
> 
> 标签：ios, cordova, opentok, tokbox

有时，在我的 iOS PhoneGap 应用程序中调用 navigator.device.capture.captureVideo() 时，会出现图片摄像头而不是摄像机。知道为什么会发生这种情况吗？

似乎这可能是一个内存问题，因为它确实经常发生在 TokBox WebRTC 聊天会话之后，但我们在其他时间也遇到过这种情况。

使用 iOS 5 和 6、PhoneGap 2.1 和 OpenTok PhoneGap 插件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-19T00:07:06.273

当 OpenTok 运行时，它会打开一个视图来捕获视频以进行流式传输，从而将相机置于视频模式。然后当您调用 navigator.device.capture.captureVideo 时，phonegap 可能会在他们的 sdk 中翻转相机，但我不确定。

无论哪种方式，都应该使用最新的 OpenTok SDK 和 Cordova 框架来解决这个问题。

# android - 如何从android apk在浏览器中打开网页？

> ID：13926041
> 
> 赞同：1
> 
> 时间：2012-12-18T04:00:08.617
> 
> 标签：android, browser, sencha-touch-2, sencha-architect

我用 Sencha Architect 创建了一个简单的应用程序并将其打包为 .apk。当我在我的设备上测试它时，我注意到我无法切换到浏览器并从应用程序打开网页。
（例如，应用程序显示一个是-否对话框，当用户按下是按钮时，它应该切换到浏览器并打开某个 url）

这是我使用的代码：

```
Ext.Msg.confirm(
        "Confirmation", // Title
        "Please tap yes to google in web browser.", // Message
        function (btn) {
            if (btn === 'yes') {
                //Ext.Msg.alert("You have selected Yes", "");
                // This should opening the web page on that can be used to connect to facebook from server //
                Ext.device.Device.openURL('http://www.google.com');
            }
            else {
                //Ext.Msg.alert("NO", "You have selected NO");
            }
        },
        this
        ); 
```

当我在浏览器中测试它时它工作，但当我用 sencha cmd 将它打包到 apk 时它不起作用。有人可以帮我吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T14:20:27.227

它在 2.1B2 版本中存在一些问题。

```
This will work with the next version of the Native Packager which is going in with Beta 3\.    -
Jamie Avins  
Sencha - Sencha Touch Dev Team 
```

[链接到论坛](http://www.sencha.com/forum/showthread.php?236532-2.1B2-Ext.device.Device.openURL-doesn-t-seem-to-work)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-08T06:46:20.107

我认为存在错误：如果 (btn = = = yes)，则没有 === 而是 == 。尝试一下..

# jquery - 如何获取jquery锚href值

> ID：13926045
> 
> 赞同：13
> 
> 时间：2012-12-18T04:01:03.730
> 
> 标签：jquery, anchor

jQuery：

```
$(document).ready(function() {
    $("a.change_status").click(function(){
       var status_id = $("a").val();
       alert(status_id); 
       return false;
    });
}); 
```

HTML：

```
<a href="?status=5" class="change_status">Aminul</a><br/>
<a href="?status=25" class="change_status">Arif</a><br/>
<a href="?status=15" class="change_status">Sharif</a><br/> 
```

我需要`status_id`并且出于某种原因我的锚标签是动态的。我不能使用 id 或使类名动态化。我想，我需要用它`$this`来获得我的价值。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-12-18T04:26:17.693

这个很简单：

```
 $(document).ready(function() {
         $("a.change_status").click(function(){
           var status_id = $(this).attr('href').split('=');
           alert(status_id[1]); 
           return false;
        });
    }); 
```

[http://jsfiddle.net/NmzRV/](http://jsfiddle.net/NmzRV/)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-18T04:04:33.440

```
var status_id= $(this).attr("href").match(/status=([0-9]+)/)[1]; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-18T04:03:29.067

```
$('a').attr('href'); 
```

应该做的伎俩

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-12-18T04:18:20.033

你在这里有两个不同的问题......首先你需要找到实际点击的链接`this`，然后找到那个 href 属性的值。

```
$(document).ready(function() {
    $("a.change_status").click(function() {
        var status_id = parseURL($(this).attr("href"));
        alert(status_id);
        return false;
    });
}); 
```

此外，由于 javascript 无法提取 URL 参数，因此您必须编写一个函数（在示例`parseURL`中），在其中查找变量“status”的值：

```
function parseURL(theLink) {
    return decodeURI((RegExp('status=' + '(.+?)(&|$)').exec(theLink) || [, null])[1]);
} 
```

请参阅以下 jsfiddle：

[http://jsfiddle.net/ZKMwU/](http://jsfiddle.net/ZKMwU/)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-12-18T04:35:30.967

你可以这样做：

```
$(document).ready(function() { 
  $("a.change_status").click(function() { 
      var status_id = $(this).attr("href"); 
      alert(status_id);
      return false;
  }); 
}); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-12-18T04:03:21.237

```
$(document).ready(function() {
        $("a.change_status").click(function(){
           var status_id = $(this).attr("href");
           alert(status_id); return false;
        });
    }); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-18T04:07:57.460

```
$("a.change_status").click(function(){ 
     var status_id = $(this).attr('href'); 
     alert(status_id); 
}); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-03-04T13:56:11.367

```
var listItems = $(".nav-dropdown--products .li");
listItems.each(function(idx, li) {
    var product = $(li); 
    alert($('a', this).attr('href'));
}); 
```

# php - PHP：我的未来日期验证器有什么问题？

> ID：13926047
> 
> 赞同：1
> 
> 时间：2012-12-18T04:01:52.457
> 
> 标签：php, date, php4

我有一个日期验证器代码段，它应该验证任何未来的日期。出于调试目的，我希望它在明天或大约 3 小时内到期。截至撰写本文时，明天是 12 月 18 日。它的 10:40PM GMT-5 Dec 17 它将其标记为过去。使用 3 个发布变量输入日期：日、月、年并连接起来，附加“01:01:59”，并作为时间戳插入到表中，并由脚本定期检查项目是否已过期。下面的代码不会验证任何距离 2 天以内的日期。我不知道为什么。

代码：

```
if(check_post('day')&&check_post('month')&&check_post('year'))
{
    //die("day: ".$_POST['day']." month: ".$_POST['month']." year: ".$_POST['year']);
    if(!check_post('day',"Select Day")&&!check_post('month',"Select Month")&&!check_post('year',"Select Year"))
    {
        $days = array("31", "28", "31", "30", "31", "30", "31", "31", "30", "31", "30", "31");
        $today = explode("-",date("d-m-Y"));
        if(checkdate($_POST['month'],$_POST['day'],$_POST['year']))
        {
            $c_y = ($_POST['year']==$today[2]);
            $c_m = ($_POST['month']==$today[1]);
            $p_d = ($today[0]>$_POST['day']);
            $p_m = ($today[1]>$_POST['month']);
            if(!($c_y&&(($c_m&&$p_d)||$p_m)))
            {
                $_POST['date']=strval($_POST['year'])."-".(($_POST['month']>9)?strval($_POST['month']):"0".strval($_POST['month']))."-".(($_POST['day']>9)?strval($_POST['day']):"0".strval($_POST['day']));
                $_POST['date'] .= " 01:01:59";
                //$_POST['date'] = mktime(0,0,0,$_POST['month'],$_POST['day'],$_POST['year']);
                //die($_POST['date']);
            }
            else
            {
                add_error("Date must be current");
            }
        }
        else
        {
            add_error("Invalid expiration date");
        }
    }
    else 
    {
        add_error("Pick an expiration date");
    }
}
else
{
    add_error("Date not set");
} 
```

没有一些功能可以为我做这件事吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:19:44.457

一个简单的字符串比较就可以了：

```
$today = date("Y-m-d");
$date = $_POST['year'] . '-' . 
    str_pad($_POST['month'], '0', 2, STR_PAD_LEFT} . '-' .
    str_pad($_POST['day'], '0', 2, STR_PAD_LEFT);

if ($date > $today) {
    // future date
} else {
    // something else
} 
```

或者：

```
if (strtotime("{$_POST['year']}-{$_POST['month']}-{$_POST['day']}") > time()) {
    // future date
} 
```

这并不完全一样，因为`time()`它同时具有日期和时间组件，但它也应该可以正常工作。

# android - 系统崩溃后 Eclipse Indigo 不工作

> ID：13926049
> 
> 赞同：0
> 
> 时间：2012-12-18T04:02:04.777
> 
> 标签：android, eclipse

我对 Eclipse Indigo 有疑问。

昨晚，当我关闭 Eclipse 时，我的系统崩溃并重新启动。我没有再次打开 Eclipse，但其他一切都很好。我以为这只是一个小故障。今天打开 Eclipse 时，“包资源管理器”是空的。我重新启动了 Eclipse，但问题仍然存在。

文件和应用程序仍在硬盘上。当我尝试导入它们时，它说它们已经存在于工作空间中，因此无法导入。

有人可以帮我弄这个吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:36:56.067

这可能不是我问题的确切解决方案。但这就是我所做的。我创建了一个新工作区并将应用程序导入其中。一些文件上显示 X 标记，表示 .properties 文件不存在。我清理了项目，一切进展顺利。

# scheme - 让 gambit 的 gsi 出错后定义可见？

> ID：13926060
> 
> 赞同：0
> 
> 时间：2012-12-18T04:03:59.313
> 
> 标签：scheme, gambit

在尝试 gambit 的 gsi (4.6.6) 时，当我在 let 中输入无效的内容时，我遇到了一个奇怪的情况。

以正常方式进行操作，一切都按预期进行。`i and`j 不可见。

```
> (let ((i 4) (j 3)) (display (+ i j)) (newline))
7
> i
*** ERROR IN (console)@2.1 -- Unbound variable: i
1> j
*** ERROR IN (console)@3.1 -- Unbound variable: j 
```

但是，如果我在 let 块中遇到问题，`i and`j 是可见的。就好像我仍然在 let 表单的范围内。这是怎么回事？此外，查看提示符上的数字，例如`>`1> `2> 等。看起来那里也有信息。如果是这样，那是什么？也许与嵌套或错误模式有关？

```
2> (let ((i 2) (j 3)) (display + i j) (newline))
*** ERROR IN (console)@4.20 -- Wrong number of arguments passed to procedure
(display '#<procedure #2 +> 2 3)
3> i
2
3> j
3 
```

这与 clojure 中的有点不同。例如

```
user=> (defn display [n] (print n))
#'user/one-arg-function
user=> (let [i 2 j 3] (display + i j) (println))
ArityException Wrong number of args (3) passed to: user$one-arg-function clojure.lang.AFn.throwArity (AFn.java:437)

user=> i 
CompilerException java.lang.RuntimeException: Unable to resolve symbol: i in this context, compiling:(NO_SOURCE_PATH:0) 

user=> j
CompilerException java.lang.RuntimeException: Unable to resolve symbol: j in this context, compiling:(NO_SOURCE_PATH:0) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T15:48:06.500

这是 Gambit 的交互式调试器的一个功能。

来自手册：[http ://www.iro.umontreal.ca/~gambit/doc/gambit-c.html#Debugging](http://www.iro.umontreal.ca/~gambit/doc/gambit-c.html#Debugging)

> 然后在停止评估的执行点的上下文中启动嵌套的 REPL。嵌套 REPL 的继续和评估环境与停止评估的点相同。例如，在计算表达式 '(let ((y (- 1 1))) (* (/ xy) 2))' 时，会报告“除以零”错误，并且嵌套 REPL 的延续是采用结果并将其乘以 2。REPL 的词法环境包括词法变量'y'。这允许检查评估上下文（即词汇和动态环境以及延续），这对于确定错误的确切位置和原因特别有用。

在您的情况下，嵌套的 REPL 从内部开始`let`，因此具有`i`并`j`绑定。

# c# - 在 XML 反序列化期间忽略非自定义项

> ID：13926068
> 
> 赞同：0
> 
> 时间：2012-12-18T04:05:09.720
> 
> 标签：c#, .net, .net-4.0, xml-deserialization

我对 XML 文件进行反序列化，类似于：

```
 <?xml version="1.1" ?>
  <Veggies>
       <Carrot>
             <quantity> 1 </quantity>
       </Carrot>
  </Veggies> 
```

行。我写的课程像

```
[Serializable]
public class Veggies
{
    [XmlRoot("Veggies")]
    public Carrot carrot;
}

[Serializable]
public class Carrot
{
   [XmlElement("Quantity")]
   public string Quantity;
} 
```

一切都很好。

但是，如果有人解析如下所示的输入文件，

```
 <?xml version="1.1" ?>
  <Figs>
      <quantity> 11 </quantity>
  </Figs>
  <Veggies>
       <Carrot>
             <quantity> 1 </quantity>
       </Carrot>
  </Veggies> 
```

我得到一个错误。您能否建议我一个解决方案，以便可以单独检索胡萝卜的数量而留下其他数据但不会引发错误？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:59:13.107

好吧，伙计……我想通了！

```
<?xml version="1.1" ?>
<Figs>
  <quantity> 11 </quantity>
</Figs>
<Veggies>
    <Carrot>
          <quantity> 1 </quantity>
    </Carrot>
</Veggies> 
```

不允许，因为它不遵守“所有元素都应位于 RootElement 标记内”的规则。

如果文件是这样的，

```
<?xml version="1.1" ?>
<Veggies>
    <Figs>
        <quantity> 11 </quantity>
    </Figs>
    <Carrot>
        <quantity> 1 </quantity>
    </Carrot>
</Veggies> 
```

然后可以单独读取胡萝卜的数量，而其他人不会完全抛出任何错误。

因此，“始终将元素放在 rootElement 中（例如，“Veggies”）”，或者换句话说，元素应该遵循反序列化类结构。

谢谢。

# ocaml - ocaml 图遍历：如何保留访问的节点？

> ID：13926073
> 
> 赞同：1
> 
> 时间：2012-12-18T04:06:20.713
> 
> 标签：ocaml

我正在尝试使用 DFS 遍历图表。

但是当我尝试将访问的节点列表作为函数的参数传递时，我发现有问题。

当我到达除前一个节点外没有连接节点的节点时，递归调用结束，访问节点的信息消失，因此陷入无限循环......

除了使用命令式方式之外，还有什么方法可以保留有关已访问节点的信息？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-18T09:34:45.750

详细说明 Jeffrey 的回答，您可以使用几种不同的样式。我在这里只给出我没有测试过的片段，所以可能会有小错误或大错误。

1.  您可以在任何地方使用副作用：

    ```
    module NodeSet = Set.Make(...)

    let traverse action graph_root =
      let visited = ref NodeSet.empty in
      let rec loop node =
        action node;
        visited := NodeSet.add node !visited;
        let handle child =
          if not (NodeSet.mem child !visited)
          then loop acc child in
        List.iter handle (children node)
      in loop graph_root 
    ```

    “访问”将命令式函数应用于`action`图中的所有节点。

2.  您可以将访问的节点存储在可变引用中，但是将遍历的状态作为累加器线程化，`acc`而不是直接对副作用进行排序。这将对应于使用 State monad。

    ```
    let traverse action init_state graph_root =
      let visited = ref NodeSet.empty in
      let rec loop acc node =
        let acc = action acc node in
        visited := NodeSet.add node !visited;
        let handle acc child =
          if NodeSet.mem child !visited
          then acc
          else loop acc child in
        List.fold_left handle acc (children node)
      in loop init_state graph_root 
    ```

3.  您可以重用此状态传递逻辑来传递访问节点信息。

    ```
    let traverse action init_state graph_root =
      let rec loop acc visited node =
        let acc = action acc node in
        let visited = NodeSet.add node visited in
        let handle (acc, visited) child =
          if NodeSet.mem child !visited
          then (acc, visited)
          else loop acc visited child in
        List.fold_left handle (acc, visited) (children node)
      in loop init_state NodeSet.empty graph_root 
    ```

4.  最后，您可以通过传递有关在第一次递归调用中接下来应该计算哪些节点的信息来移动到尾递归遍历。这对应于向延续传递样式的一般转换，但具有特定于域的延续表示（只需访问节点）。

    ```
    let traverse action init_state graph_root =
      let rec loop acc visited = function
        | [] -> acc
        | node::to_visit ->
           if NodeSet.mem node visited then loop acc visited to_visit
           else begin
             let acc = action acc node in
             let visited = NodeSet.add node visited in
             let to_visit = children node @ to_visit in
             loop acc visited to_visit
           end
      in loop NodeSet.empty init_state [graph_root] 
    ```

    Jeffrey 评论说，通过本演示文稿，您可以通过简单地更改`to_visit` 更新方式将遍历顺序从 DFS 更改为 BFS，将子节点添加到序列的末尾而不是开头（这需要队列结构在算法上是有效的） .

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T04:56:02.033

看待这一点的一种方法是，您希望继续*尝试*图中的其他可能节点，而不是返回（例如，遍历树）。您可以拥有不仅描述您访问过的节点，还描述您计划访问的节点的参数。to-visit 参数最初只是第一个节点。每次到达新节点时，您都​​将任何未访问的相邻节点（您可以通过查看已访问的节点集来判断）添加到未访问的*节点*集，并以这种方式递归地继续。那么，DFS 和 BFS 之间的区别在于您对要访问的节点列表进行排序的方式。

在函数式编程中，很多时候不是从一个函数返回，而是*调用*一个函数来做下一件事。（这就是为什么尾递归有时很重要。）

# python - 使用 SQLAlchemy ORM 在单个查询中过滤关系（）？

> ID：13926074
> 
> 赞同：0
> 
> 时间：2012-12-18T04:06:30.170
> 
> 标签：python, sqlalchemy

我有`urls`和`requests`表，我已经定义了这样的关系：

```
class Request(Base):
    ...
    url_id = Column('url_id', Integer, ForeignKey(Url.id))
    requests = relationship(Url, backref='requests') 
```

这意味着我可以询问`Url.requests`并获取针对给定 URL 发出的*所有请求。*但是，我想做的是获取`requests`一组仅限于特定日期的 Url。

我可以写这个来获得我想要的结果集，但我不知道如何将它整齐地打包，以便我可以迭代我的`Url`对象并获取`.requests`每个对象。理想情况下，我也想预先加载这些 Request 对象。这是我写的以获取我想要的行的内容：

```
session.query(Url).join(Request).filter(Request.created >= start_date, Request.created < end_date) 
```

如果我转储查询，它看起来很合理，但是当我遍历 url 并询问每个请求时，`.requests`我会返回*所有*请求，而不仅仅是那些通过我的过滤器的请求。可以用 ORM 做到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T12:01:50.110

```
session.query(Url).join(Url.request).\
    options(contains_eager(Url.request)).\
    filter(Request.created >= start_date, Request.created < end_date) 
```

应该适合你。查看有关加入的文档，了解加入急切加载的数据的想法。

[http://docs.sqlalchemy.org/en/rel_0_8/orm/loading.html](http://docs.sqlalchemy.org/en/rel_0_8/orm/loading.html)

# mysql - 如何正确避免 Mysql 竞争条件

> ID：13926075
> 
> 赞同：5
> 
> 时间：2012-12-18T04:06:40.310
> 
> 标签：mysql, database, locking, race-condition

我知道以前有人问过这个问题，但我仍然很困惑，如果可能的话，我想在开始编程之前避免任何问题。

我计划在任何给定时间建立一个至少有 100 个活跃用户的内部网站。用户将发布一个项目（以 0 作为其值插入到 db 中），该项目将通过 php 站点（db 查询）显示。然后，用户可以选择按下按钮并将该项目锁定为他们的（将该项目的值分配为他们的 id）

如何确保 2 个或更多用户不会同时检索同一个项目。我知道在像 c++ 这样的编程中，我只会使用普通的 ol 互斥锁。它们是 mysql 中的等价物，它只会锁定一个这样的项目条目吗？我已经看到对 LOCK_TABLES 和 GET_LOCK 以及许多其他的引用，所以我仍然对什么是最好的感到非常困惑。

许多人都有可能竞相按下一个按钮，如果多人得到确认，那将是灾难性的。

我知道这是竞争条件的一个典型例子，但 mysql 对我来说是陌生的领域。

我显然会在更新之前查询该项目的值并确保它没有写入，但是确保避免这种竞争条件的最佳方法是什么。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-16T21:32:35.190

为此，您需要以某种方式锁定记录。添加一列 LockedBy 默认为 0。

当有人按下按钮时，执行类似于以下的查询：

UPDATE table SET LockedBy= WHERE LockedBy=0 and id=;

更新后验证受影响的行（在 php mysql_affected_rows 中）。如果值为 0，则表示查询没有更新任何内容，因为 LockedBy 列不为 0，因此被其他人锁定。

希望这可以帮助

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-16T21:38:01.697

当您发布一行时，将该列设置为 NULL，而不是 0。

然后，当用户更新该行以使其成为自己的行时，按如下方式更新它：

```
UPDATE MyTable SET ownership = COALESCE(ownership, $my_user_id) WHERE id = ... 
```

COALESCE() 返回它的第一个非空参数。因此，即使您和我同时更新，第一个提交的也可以设置值。第二个不会覆盖该值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-27T00:08:10.563

你可以考虑交易

```
BEGING TRANSACTION;
SELECT ownership FROM ....; 
UPDATE table .....; // set the ownership if the table not owned yet
COMMIT; 
```

如果您发现错误，您还可以回滚事务之间的所有查询！

# laravel - laravel 刀片 @yield 在 js 中

> ID：13926077
> 
> 赞同：1
> 
> 时间：2012-12-18T04:06:42.130
> 
> 标签：laravel, matomo, blade

您好我正在尝试使用刀片为我的网站创建动态跟踪代码。这是我到目前为止所做的，我尝试直接屈服于 piwikTracker var，但是由于 var 似乎正在工作，所以传递了各种错误，但我现在没有在后端获得任何统计信息

```
 <!-- Piwik --> 
<script type="text/javascript">
var track =  @yield('track');
var pkBaseURL = (("https:" == document.location.protocol) ? "https://centralcoastwindowcleaners.com.au/track/" : "http://centralcoastwindowcleaners.com.au/track/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", track);
piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript><p><img src="http://centralcoastwindowcleaners.com.au/track/piwik.php?         idsite=@yield('track')" style="border:0" alt="" /></p></noscript>
<!-- End Piwik Tracking Code --> 
```

有没有办法我可以逃脱它并做类似的事情：

```
<!-- Piwik --> 
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://centralcoastwindowcleaners.com.au/track/" : "http://centralcoastwindowcleaners.com.au/track/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", @yield('track'));
piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript><p><img src="http://centralcoastwindowcleaners.com.au/track/piwik.php?         idsite=@yield('track')" style="border:0" alt="" /></p></noscript>
<!-- End Piwik Tracking Code --> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T23:20:28.537

在您展示的上下文中，您不需要产生一个部分，只需要一个变量或字符串。这样你就可以通过了

```
var track =  {{$track}}; 
```

部分对于嵌套视图和部分视图很有帮助，但对于单个变量来说过大（以及未设计）。如果由于某种原因您无法存储和传递 $track，则将整行与 yield 而不仅仅是变量一起传递。

```
//var track = 'varYouArePassing';
@yield('track'); 
```

# php - Phalcon\Mvc\Model::find() 因条件“列值 IN（列表）”而失败

> ID：13926078
> 
> 赞同：1
> 
> 时间：2012-12-18T04:06:42.453
> 
> 标签：php, model, phalcon

以下代码抛出异常“无效的 SQL 表达式类型 'list'”：

```
$condition = 'id IN(1,2,4)';
Model::find($condition); 
```

我不敢相信 phalcon 不支持这一点。设置此规则的正确方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-18T04:08:58.023

要设置此规则，我们只需将 ids 列表设置为 key => value：

```
$ids = [1,2,3];
Model::find(['id' => $ids]); 
```

希望这对某人有帮助。

UPD：这不起作用，数字不应该是数组，而是字符串：

```
Model::find('id IN (1,2,3,4)'); 
```

这种构造存在一个错误，但在 0.8.0 版本中已修复。

# android - Android为肥皂参数制作xml节点

> ID：13926080
> 
> 赞同：0
> 
> 时间：2012-12-18T04:06:58.777
> 
> 标签：android, soap

一个 Dot net Webservice 需要一个 XML 节点作为参数：它将反序列化为的字符串是：

```
"<Service PTA="" QSF="" xmlns="" />"; 
```

我一直在尝试使用以下公共字符串创建一个可序列化的类：

```
"<Service PTA=\"\" QSF=\"\" xmlns=\"\" />"; 
```

但我从以下位置收到“无法序列化”的错误：androidHttpTransport.call(SOAP_ACTION,envelope); 做这个的最好方式是什么？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T17:59:07.280

它是一个 Kludge，但它有效。使用 KSOAP2 库。向 SoapObject 请求添加 xml 节点，参数 myParam

```
String xml = "<Service PTA=\"\" QSF=\"\" xmlns=\"\" />";
request.addProperty("myParam>"+xml,"") 
```

不理想但...

# php - Phprunner 更改行背景颜色的事件代码

> ID：13926086
> 
> 赞同：0
> 
> 时间：2012-12-18T04:07:47.440
> 
> 标签：php

我知道这个问题有一个论坛，但似乎 WOT 已经警告过一些事情。不知道该网站到底发生了什么，但希望那里的一些人可以帮助我，因为那里没有人回答我的问题。

![在此处输入图像描述](../Images/d2d34099617184053d45fd0ef270e31e.png)

**主要问题：**

这是我在列表页面上的代码：记录处理后的事件

```
 if (strtoupper($data["Availability"]) =="SOLD"){   
    $row["rowstyle"]='style="background:red; color:white"';
} 
```

我什至尝试在条件内打印“可用性”的值，它打印的结果与 SOLD 完全相同，但似乎什么也没发生。

**注意 这很重要：**

我可以看到在刷新或加载几秒钟后行背景会发生变化（似乎可以正常工作！），但之后颜色会恢复到原来的设置。

希望任何人都可以告诉我这是一个错误，或者我真的错过了什么。

参考：PhpRunner 手册和[http://xlinesoft.com/blog/2011/01/03/tutorial_conditional_formatting/](http://xlinesoft.com/blog/2011/01/03/tutorial_conditional_formatting/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T04:21:49.663

找到了答案。谢谢 **不要**在“表格特定设置”下的杂项页面上检查“可调整大小的表格列”。虽然不是一个很好的答案，但解决了我的问题。

# jquery - 随机图像 jquery

> ID：13926088
> 
> 赞同：0
> 
> 时间：2012-12-18T04:08:01.713
> 
> 标签：jquery, html, image, function, random

我有一个带有以下代码的 jQuery 文件：

```
 ;(function($) {

    $.fn.randomImage = function(options) {
        return this.each(function() {
            var defaults = {images: [
                '<a href="page1.html">Asia<br><img src="https://lh6.googleusercontent.com/-CMBwAQFvgmc/ULwxL0ciUfI/AAAAAAAAAA8/RhaVA3N_TKM/s720/Asia.JPG" height=125 width=200></a>',
                '<a href="page2.html">Africa<br><img src="https://lh6.googleusercontent.com/-LZx9rZ_N7ZQ/ULwyGe1sOPI/AAAAAAAAABE/8iQpB5O7yys/s720/Africa.jpg" height=125 width=200></a>',
                '<a href="page3.html">America<br><img src="https://lh4.googleusercontent.com/-22FSGLZPiMU/ULwy2XZWWHI/AAAAAAAAABM/JgxWMAtQiuM/s800/Central America.JPG" height=125 width=200></a>']};
            var settings = $.extend(defaults, options || {});
            $(this).html(settings.images[Math.floor(Math.random() * settings.images.length)]);
        });
    };
})(jQuery); 
```

我在我的 HTML 文件中引入了以下行：

```
<script type="text/javascript" src="RandomPictures.js"></script> 
```

我有一个 HTML 文件来调用 Jquery。我想把它称为一个div。

我该怎么打电话？

我试过了：

```
 <div id="header"><script>
$(function() {
      $('div').randomImage();
});</script></div> 
```

但这隐藏了我的 HTML 代码中的所有元素，只显示图像。

我也试过：

```
 <div id="header"><script>
$(function() {
      $('header').randomImage();
});</script></div> 
```

但随机图像没有出现。

有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T04:10:20.217

对于第二个代码块，您需要`#`在选择器中以 id 为目标：

```
$('#header').randomImage(); 
```

* * *

对于第一块代码，我不确定您期望发生什么。您的代码编写方式，它会查找所有`div`标签并将`innerHTML`每个标签设置`div`为您的随机图像（这可能会清除您页面的内容）。这就是编写代码的目的。您可能应该只针对您想要随机图像的特定 div，而不是页面中的所有 div。

* * *

另外，randomImage的定义以：

```
$.fn.randomImage = ... 
```

不需要等待文档准备好，如果定义代码在您尝试使用它之前没有运行，这甚至可能导致问题。它只需要在加载 jQuery 之后应用，您可以通过脚本的加载顺序来完成。

# python - 从 pandas.HDFStore 表中选择列

> ID：13926089
> 
> 赞同：18
> 
> 时间：2012-12-18T04:08:09.357
> 
> 标签：python, pandas, hdfs

如何从熊猫 HDFStore 中检索特定列？我经常处理非常大的数据集，这些数据集太大而无法在内存中进行操作。我想迭代地读取 csv 文件，将每个块附加到 HDFStore 对象中，然后处理数据的子集。我已经阅读了一个简单的 csv 文件，并使用以下代码将其加载到 HDFStore 中：

```
tmp = pd.HDFStore('test.h5')
chunker = pd.read_csv('cars.csv', iterator=True, chunksize=10, names=['make','model','drop'])
tmp.append('df', pd.concat([chunk for chunk in chunker], ignore_index=True)) 
```

和输出：

```
In [97]: tmp
Out[97]:
<class 'pandas.io.pytables.HDFStore'>
File path: test.h5
/df     frame_table (typ->appendable,nrows->1930,indexers->[index]) 
```

我的问题是如何访问特定列`tmp['df']`？该文档提到了一种`select()`方法和一些`Term`对象。提供的示例适用于面板数据；但是，我太新手了，无法将其扩展到更简单的数据框案例。我的猜测是我必须以某种方式创建列的索引。谢谢！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-22T01:27:49.173

HDFStore 记录表的方式，列按类型存储为单个 numpy 数组。您总是可以取回所有列，您可以对其进行过滤，因此您会根据您的要求返回。在 0.10.0 中，您可以传递一个涉及列的术语。

```
store.select('df', [ Term('index', '>', Timestamp('20010105')), 
                     Term('columns', '=', ['A','B']) ]) 
```

或者你可以在之后重新索引

```
df = store.select('df', [ Term('index', '>', Timestamp('20010105') ])
df.reindex(columns = ['A','B']) 
```

这`axes`并不是真正的解决方案（您实际创建的实际上是存储转置帧）。此参数允许您重新排序轴的存储，以便以不同的方式启用数据对齐。对于数据框来说，它真的没有多大意义。对于 3d 或 4d 结构，磁盘数据对齐对于真正快速的查询至关重要。

0.10.1 将允许一个更优雅的解决方案，即数据列，即您可以选择某些列来表示为表存储中有自己的列，因此您真的可以只选择它们。这是即将到来的味道。

```
 store.append('df', columns = ['A','B','C'])
 store.select('df', [ 'A > 0', Term('index', '>', Timestamp(2000105)) ]) 
```

另一种方法是在文件的不同节点中存储单独的表，然后您可以只选择您需要的。

一般来说，我再次推荐非常宽的桌子。hayden 提供了 Panel 解决方案，这可能对您现在有好处，因为实际的数据排列应该反映您希望如何查询数据。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-12-20T17:16:15.857

您可以使用列的索引来存储数据框，如下所示：

```
import pandas as pd
import numpy as np
from pandas.io.pytables import Term

index = pd.date_range('1/1/2000', periods=8)
df = pd.DataFrame( np.random.randn(8,3), index=index, columns=list('ABC'))  

store = pd.HDFStore('mydata.h5')
store.append('df_cols', df, axes='columns') 
```

然后根据您的希望选择：

```
In [8]: store.select('df_cols', [Term('columns', '=', 'A')])
Out[8]: 
2000-01-01    0.347644
2000-01-02    0.477167
2000-01-03    1.419741
2000-01-04    0.641400
2000-01-05   -1.313405
2000-01-06   -0.137357
2000-01-07   -1.208429
2000-01-08   -0.539854 
```

在哪里：

```
In [9]: df
Out[9]: 
                   A         B         C
2000-01-01  0.347644  0.895084 -1.457772
2000-01-02  0.477167  0.464013 -1.974695
2000-01-03  1.419741  0.470735 -0.309796
2000-01-04  0.641400  0.838864 -0.112582
2000-01-05 -1.313405 -0.678250 -0.306318
2000-01-06 -0.137357 -0.723145  0.982987
2000-01-07 -1.208429 -0.672240  1.331291
2000-01-08 -0.539854 -0.184864 -1.056217 
```

.

对我来说，这不是一个理想的解决方案，因为我们只能通过一件事来索引 DataFrame！令人担忧[的是，文档](http://pandas.pydata.org/pandas-docs/dev/io.html#hdf5-pytables)似乎建议您*只能*通过一件事来索引 DataFrame，至少使用`axes`：

> 将轴关键字与维度列表一起传递（当前必须比对象的总维度小 1）。

我可能读错了，在这种情况下，**希望有人能证明我错了！**

.

注意：我发现通过两件事（索引和列）对 DataFrame 进行索引的一种方法是将其转换为 Panel，然后可以使用两个索引进行检索。但是，每次检索项目时，我们都必须将所选子面板转换为 DataFrame ......再次，不理想。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-07-08T20:36:05.483

从现在开始，U 可以使用查询表达式代替`Term`构造。例如：`store.select('df', "index > Timestamp('20000105')")`

# javascript - 使用相同的可点击链接时显示/隐藏 Div？

> ID：13926090
> 
> 赞同：1
> 
> 时间：2012-12-18T04:08:13.257
> 
> 标签：javascript, jquery, html

我最近遇到了这个脚本：

```
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script>
$(document).ready(function(){
$("#showdiv").click(function(){
$(".dropdowndiv").slideDown(500);
});

$("#hide").click(function(){
$(".dropdowndiv").slideUp(500);
});

});

</script> 
```

我用它来显示和隐藏页面顶部的 div，从而降低整个页面。该代码的工作原理很简单，您单击一个链接它会向下滑动页面以显示 div，您单击另一个隐藏 div 的链接，这一切都在进行滑入和滑出动作。我想知道是否有一种方法可以代替单击两个不同的链接，而可以使用第一个链接滑动打开并滑动 div 关闭？

你可以在我的 tumblr 上看到实时预览：cielprince.tumblr.com

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:09:57.330

你的意思是，使用[slideToggle](http://api.jquery.com/slideToggle/)：

```
$("#showdiv").click(function () {
    $(".dropdowndiv").slideToggle("slow");
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T04:10:38.087

```
$("#showdiv").click(function () {
   $(".dropdowndiv").stop().slideToggle();
}); 
```

`.stop`这样做是为了防止重复点击时动画排队。

# android - 如何暂停和恢复 Android 闹钟？

> ID：13926092
> 
> 赞同：5
> 
> 时间：2012-12-18T04:08:16.480
> 
> 标签：android, alarmmanager, android-alarms

我正在开发一个警报，它以时间定义的间隔振动。因此，如果我选择 5 秒，应用程序将每隔 5 秒振动一次。但我需要停止、暂停和恢复应用程序。

这是我的课：

```
public class AndroidAlarmService extends Activity {

private PendingIntent pendingIntent;
private Chronometer chronometer;
private Intent myIntent;
AlarmManager alarmManager;
Calendar calendar;
private long mTimeWhenStopped;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    Button buttonStart = (Button) findViewById(R.id.startalarm);
    Button buttonStop = (Button) findViewById(R.id.stopalarm);
    Button buttonPause = (Button) findViewById(R.id.pausealarm);
    Button buttonResume = (Button) findViewById(R.id.resumealarm);

    chronometer = ((Chronometer) findViewById(R.id.clock_time));

    myIntent = new Intent(AndroidAlarmService.this,
            MyAlarmService.class);
    pendingIntent = PendingIntent.getService(
            AndroidAlarmService.this, 0, myIntent, 0);

    alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);
    calendar = Calendar.getInstance(); 
```

我用这种方法启动它：

```
buttonStart.setOnClickListener(new Button.OnClickListener() {

        @Override
        public void onClick(View arg0) {

            int initialValue = 0;

            chronometer.setBase(SystemClock.elapsedRealtime() + initialValue);
            chronometer.start();

            calendar.setTimeInMillis(System.currentTimeMillis());

            alarmManager.setRepeating(AlarmManager.RTC_WAKEUP,
                    calendar.getTimeInMillis(), 5 * 1000, pendingIntent);

            Toast.makeText(AndroidAlarmService.this, "Start Alarm",
                    Toast.LENGTH_LONG).show();
        }
    }); 
```

这用于暂停：

```
 buttonPause.setOnClickListener(new Button.OnClickListener() {

        @Override
        public void onClick(View arg0) {
            stopRunning();

            mTimeWhenStopped = chronometer.getBase() - SystemClock.elapsedRealtime();

            // Tell the user about what we did.
            Toast.makeText(AndroidAlarmService.this, "Resume!",
                    Toast.LENGTH_LONG).show();

        }
    }); 
```

我想从应用程序的启动点恢复应用程序。我怎样才能做到这一点？

谢谢！

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-12-18T04:30:40.947

以下链接可能对您有帮助

[http://android-er.blogspot.in/2010/10/simple-example-of-alarm-service-using.html](http://android-er.blogspot.in/2010/10/simple-example-of-alarm-service-using.html)

# javascript - 将数组分配给 URL 中的 JSON 数据

> ID：13926093
> 
> 赞同：0
> 
> 时间：2012-12-18T04:08:20.417
> 
> 标签：javascript, json

我正在尝试将 JSON 数组从 URL 分配给变量。这是我的代码：

```
$.getJSON("tljson.json",function(result){
  var items = [];
  items.push(result);
}); 
```

但是，“警告”项目只会返回

```
[object Object],[object Object],[object Object],[object Object] 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:11:39.633

你做错了什么是警告结果。您有一个包含四个对象的数组，但 alert 仅显示对象的默认文本表示，`[object Object]`. 在打印之前将您的数据转换为字符串。例如，代替`alert(result)`，您可以尝试`alert(JSON.stringify(result))`。

此外，`alert`丑陋、烦人且难以使用；如果可以的话，使用`console.log()`和它的朋友，对程序员来说更容易。在 JavaScript 控制台中检查结果。（这是假设这`alert()`是为了您自己的调试利益；如果是为了用户，请尝试在 HTML 中做一些事情。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:11:11.543

它已经是一个变量，`result`是 json 响应，您可以像将其推送到项目时一样访问它。

# iphone - 你如何用一个类填充一个表视图？

> ID：13926094
> 
> 赞同：0
> 
> 时间：2012-12-18T04:08:38.460
> 
> 标签：iphone, objective-c, ipad, uitableview, mapkit

我正在寻找一个很好的例子，说明如何使用一个类填充 UITableView，该类也将数据推送到多个详细视图控制器。一个只是一个简单的“关于”页面，另一个是地图视图。有没有人有一个很好的例子或者知道它是否可以做到？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:19:13.953

这当然可以做到！尽管您必须向我解释“将”数据“推送”到视图控制器是什么意思。

*   通常，您将有一个实现[UITableViewDataSource 协议](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewDataSource_Protocol/Reference/Reference.html)的类来向 UITableView提供数据。
*   另一个（或相同的！）类将实现[UITableViewDelegate 协议](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewDelegate_Protocol/Reference/Reference.html)来告诉表视图如何表现以及如何查看。
*   请务必阅读有关在 iOS 中编程表格视图的[指南](http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/TableView_iPhone/AboutTableViewsiPhone/AboutTableViewsiPhone.html)，以了解该过程的概述。
*   整个委托模式（[在此处讨论）对于使用](http://developer.apple.com/library/ios/#documentation/General/Conceptual/DevPedia-CocoaCore/Delegation.html)[MKMapView](http://developer.apple.com/library/ios/#documentation/MapKit/Reference/MKMapView_Class/MKMapView/MKMapView.html)也很有用。

首先，您可以从 iOS 开发人员库中查看此示例：[https ://developer.apple.com/library/ios/#samplecode/CurrentAddress/Introduction/Intro.html](https://developer.apple.com/library/ios/#samplecode/CurrentAddress/Introduction/Intro.html)

# asp.net-mvc-4 - 在不在视图文件夹中的索引页面中使用 Html 帮助程序

> ID：13926095
> 
> 赞同：1
> 
> 时间：2012-12-18T04:08:38.967
> 
> 标签：asp.net-mvc-4, html-helper

我正在开发一个 MVC 单页应用程序。我的索引页面在我的根文件夹中，我需要使用 Html Helpers，如 Html.BeginForm 、 Html.AntiForgeryToken Html.LabelFor 等...

当我尝试使用帮助程序时，我收到以下消息： System.Web.WebPages.HtmlHelper 不包含 LabelFor 的定义，并且没有扩展方法 LabelFor 接受类型的第一个参数......与 BeginForm 和 AntiForgeryToken 相同。

我的项目 System.Web.Helpers 中有以下参考。

你能帮我吗 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-02T13:29:56.383

您可能会破坏 Views 文件夹中的默认 webconfig 文件。创建一个新的 mvc4 项目并复制其位于 Views Folder 中的 webconfig 文件，并设置

```
  key="webpages:Enabled" value="false" to key="webpages:Enabled" value="true"
```

在 appSettings 然后清理并重建项目，最后重新启动 Visual Studio。就这些。

# scala - 为什么 Scala 的 Traversable 有两个类型略有不同的 copyToArray 方法？

> ID：13926100
> 
> 赞同：2
> 
> 时间：2012-12-18T04:08:58.733
> 
> 标签：scala, scala-collections

我正在学习集合，我刚刚在[`Traversable`docs](http://www.scala-lang.org/api/current/index.html#scala.collection.Traversable)中注意到这两种方法。第一个有什么意义？第二个似乎包括它。

```
copyToArray        (xs: Array[A], start: Int, len: Int): Unit
copyToArray[B >: A](xs: Array[B], start: Int, len: Int): Unit 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-18T04:22:54.603

你是正确的，第二个包含第一个。然而，第一个实际上并不存在。如果您仔细查看文档，您会看到以下文字`[use case]`：

```
abstract def copyToArray(xs: Array[A], start: Int, len: Int): Unit
[use case] Copies elements of this collection to an array. 
```

Scala API 中的A`[use case]`显示了签名的简化形式。这以一种对新 Scala 程序员来说并不那么可怕的方式提供了“典型”使用，否则他们可能会被疯狂的类型签名混淆。

您使用许多其他方法看到同样的事情，包括`map`（其中`CanBuildFrom`隐藏了这些东西）：

```
abstract def map[B](f: (A) ⇒ B): CC[B]
[use case] Builds a new collection by applying a function to all elements of this collection.

def map[B, That](f: (A) ⇒ B)(implicit bf: CanBuildFrom[Traversable[A], B, That]): That
Builds a new collection by applying a function to all elements of this collection. 
```

要阅读 Martin Odersky 讨论该问题的旧帖子，请参见[此处](https://stackoverflow.com/a/1728140/247985)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T04:22:46.453

这似乎是一个 scaladoc 工件。

```
$ scala29
Welcome to Scala version 2.9.2 (Java HotSpot(TM) 64-Bit Server VM, Java 1.6.0_22).
Type in expressions to have them evaluated.
Type :help for more information.

scala> val c = List(1,2,3)
c: List[Int] = List(1, 2, 3)

scala> c.copyToArray

def copyToArray[B >: A](xs: Array[B]): Unit                         
def copyToArray[B >: A](xs: Array[B], start: Int): Unit             
def copyToArray[B >: A](xs: Array[B], start: Int, len: Int): Unit 
```

[今年的文档要好得多。](http://www.scala-lang.org/archives/downloads/distrib/files/nightly/docs/library/index.html#scala.collection.Traversable)

# asp.net - Sharepoint MasterPages/模板自定义

> ID：13926102
> 
> 赞同：0
> 
> 时间：2012-12-18T04:09:29.967
> 
> 标签：asp.net, sharepoint, sharepoint-2010

我对 Sharepoint 很陌生。

我需要自定义一些 Sharepoint Masterpages（背景颜色、字体类型和其他一些 css 要求）。

考虑到我有以下文件可用：v4.master、default.master 和另外两个页面，它们是 default.master 的内容页面，以及 COREv4.css 文件。

我知道我应该创建其中一个母版页的副本（我不确定是哪个）并自定义它以更改链接到它的 CSS）。与此相关的问题如下：

1) 自定义 CSS 文件应该是 COREv4.CSS 的修改副本，还是只是另一个具有所需样式的 CSS 文件？

2) 如何通过站点设置为修改后的页面创建/链接自定义 CSS 文件？我应该如何/在哪里保存新文件？

3) 至于 v4.master 的副本，我如何加载它以“替换”该站点的原始副本？

4) 系统建立在 Sharepoint 2010 之上。这样可以确保修改 CSS 的页面只是 v4.master 副本？

一如既往地感谢您的洞察力。

******更新* *******

 **你好，

我设法通过提供的 pdf 手册、您的建议和一些额外的步骤来解决这个问题，我将简要描述：

1）要放置我的自定义css文件，我将它放在文件夹中：`C:\Program Files\Common Files\Microsoft Shared\Web Server Extensions\14\TEMPLATE\LAYOUTS\3082\STYLES`

2) 我打开了要使用 Sharepoint Designer 2010 进行自定义的网站。

3）我点击选项Main Pages/Master Pages，并选择页面为v4.master页面，复制并粘贴它。然后我右键单击它重命名它，选择“重命名”并输入新名称，然后我再次右键单击并选择“将页面设置为主要默认页面”。

4）要编辑页面的内容，我再次右键单击并选择“以高级模式编辑内容”选项，就在 head 标签结束之前，我复制并粘贴了：

```
<SharePoint:CssRegistration name="customname.css" runat="server" After="core4.css"/> 
```

请注意，这`"customname.css"`是我的 css 文件。然后我点击屏幕左上角的软盘图标进行保存。

5) 之后，我使用 Chrome HTML/CSS 分析器，检查原始（现在复制的）母版页以浏览需要自定义的区域，以便识别管理要更改的样式的类名/ids/元素类型. 一旦确定，我只向他们添加了需要更改的属性，例如：

> //Webparts 交替突出显示的行
> 
> div#ctl00_MSO_ContentDiv table.ms-viewlsts tbody tr.ms-alternatingstrong{ 背景颜色：#F7FAF4 }
> 
> table.ms-listviewtable.ms-basictable tbody tr.ms-alternatingstrong.ms-itmhover{ background-color:#F7FAF4 }

我主要是通过 Chrome 分析器的反复试验自己完成此任务，但我也使用此处找到的图表 ( [http://sharepointexperience.com/csschart/csschart.html](http://sharepointexperience.com/csschart/csschart.html) ) 帮助完成了这项任务，尽管在某些时候它变得有点棘手，我决定自己做，正如我提到的。在此过程中，我反复向自定义文件添加更多样式，然后在服务器位置覆盖它以刷新页面/页面以查看它的外观，直到过程结束。

感谢您的帮助，我希望这可以作为任何需要它的人的指南。如果您有任何问题，请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:56:26.343

您可以从头开始创建新的母版页或修改现有的母版页。

请查看此链接，它可能会帮助您获得问题的答案

> [http://www.rdacorp.com/wp-content/uploads/ASP-NET-Master-Pages-and-SharePoint.pdf](http://www.rdacorp.com/wp-content/uploads/ASP-NET-Master-Pages-and-SharePoint.pdf)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T15:43:12.903

不建议修改 SharePoint 的文件。

最好创建新的母版页文件，指定您想要的所有 CSS 和脚本，并使用功能安装它。

您有什么版本的 SharePoint？SharePoint 2010 服务器或基础？因为使用服务器版本，您可以以一种很酷的方式标记您的母版页：

看到[这个链接](http://www.astaticstate.com/2011/05/branding-master-page.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-19T00:50:06.317

Microsoft 有一篇很好的介绍性文章，介绍了如何/应该这样做。

[http://office.microsoft.com/en-us/sharepoint-designer-help/customize-a-master-page-to-brand-your-site-HA102449505.aspx](http://office.microsoft.com/en-us/sharepoint-designer-help/customize-a-master-page-to-brand-your-site-HA102449505.aspx)**

# android - BadTokenException 无法添加窗口 (ProgressDialog)

> ID：13926104
> 
> 赞同：0
> 
> 时间：2012-12-18T04:09:48.627
> 
> 标签：android, compiler-errors, progressdialog

在我的应用程序中创建 ProgressDialog 时出现 BadTokenException 错误。我尝试阅读有关此问题的一些帖子，但我仍然无法真正了解其原因。单击按钮后，我调用对话框函数。

```
 protected Dialog onCreateDialog(int id) {
    switch (id) {
    case DIALOG_LOADING:
        dialog = new Dialog(this, android.R.style.Theme_Translucent);          
        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);
        dialog.setContentView(R.layout.loading);
        break;

    default:
        dialog = null;
        break;
    }
    return dialog;  
}; 
```

上面的代码是我的进度对话框代码。我用这个来称呼它`showDialog(DIALOG_LOADING);`谁能告诉我是什么原因造成的以及如何克服这个问题？任何意见将不胜感激。

```
12-18 12:12:39.250: E/AndroidRuntime(7654): FATAL EXCEPTION: main
12-18 12:12:39.250: E/AndroidRuntime(7654): android.view.WindowManager$BadTokenException: Unable to add window -- token android.app.LocalActivityManager$LocalActivityRecord@4057a200 is not valid; is your activity running?
12-18 12:12:39.250: E/AndroidRuntime(7654):     at android.view.ViewRoot.setView(ViewRoot.java:532)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:200)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:114)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at android.view.Window$LocalWindowManager.addView(Window.java:424)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at android.app.Dialog.show(Dialog.java:241)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at   android.app.Activity.showDialog(Activity.java:2566)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at android.app.Activity.showDialog(Activity.java:2524)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at com.fl.wbillboard.Web_Input$1.onClick(Web_Input.java:128)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at android.view.View.performClick(View.java:2538)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at android.view.View$PerformClick.run(View.java:9152)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at android.os.Handler.handleCallback(Handler.java:587)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at android.os.Handler.dispatchMessage(Handler.java:92)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at android.os.Looper.loop(Looper.java:130)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at android.app.ActivityThread.main(ActivityThread.java:3687)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at java.lang.reflect.Method.invokeNative(Native Method)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at java.lang.reflect.Method.invoke(Method.java:507)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:842)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)
12-18 12:12:39.250: E/AndroidRuntime(7654):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:13:11.433

您必须使用活动的参考来显示对话框..

用这个`new Dialog(activity_name.this, android.R.style.Theme_Translucent);` 代替 `new Dialog(this, android.R.style.Theme_Translucent);`

```
case DIALOG_LOADING:
        dialog = new Dialog(activity.this, android.R.style.Theme_Translucent);          
        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);
        dialog.setContentView(R.layout.loading);
        break; 
```

# html - 选择选项文本的样式部分

> ID：13926106
> 
> 赞同：0
> 
> 时间：2012-12-18T04:09:57.720
> 
> 标签：html, css, html-select

我正在寻找一种在选择下拉列表中设置选项文本样式的方法。我遇到[了几篇这样的堆栈文章，](https://stackoverflow.com/questions/3101135/select-and-options-styling)但我似乎无法让它们工作。我在 Safari 中进行测试。那是问题吗？下面是我拼凑的一些基本代码的示例。它所产生的一切——据我所见——是一个标准的、带有未格式化选项的选择下拉菜单。我也尝试将类应用于选项，但这似乎也没有任何效果。

```
<select name="1"><option value="1">default</option><option value="2" style="color:#0D0">green line</option><option value="3" style="background-color:red">red background</option><option value="4" style="text-decoration:line-through">line through</option></select> 
```

我的最终目标是能够为选项设置如下样式：

```
<option value="1"><span style="text-decoration:line-through">$Regular Price</span><span style="color:green;font-weight:bold">$Sale Price</span></option> 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-12-18T04:19:48.287

试试看这个？[http://jsfiddle.net/Vainglory07/pzHqT/](http://jsfiddle.net/Vainglory07/pzHqT/)

```
 <select name="1">
     <option value="1">$Regular Price</option>
     <option>$Sale Price</option>
  </select>​

  option:nth-child(even) {
     background-color: red;
  }

  option:nth-child(odd) {
     background-color: blue;
  }​ 
```

我使用您提供的链接..那里的答案有效，不是吗？

# c# - 比较同一列表中的多个项目

> ID：13926111
> 
> 赞同：4
> 
> 时间：2012-12-18T04:10:41.670
> 
> 标签：c#, .net, linq, list, compare

```
List<Person> PList = new List<Person>();

PList.Add(new Person{ Name = "Bob", email = "Bob.b@blah.org" }); 
```

基本上，这包含文件中的重复行

我想弄清楚的是如何删除很多，直到列表中每个人只有一个实例。

我最初的想法是使用 for 循环来运行并根据比较删除

```
for (int i = 0; i < List.length; i++)
{
    if (PList.position(i).name == PList.position(i++).name)
      if (PList.position(i).date is < PList.position(i++).date)
        "Then I will delete number 1" 
} 
```

但是，我想知道是否有更好或更简单的方法来做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-18T04:14:34.397

试试这个

```
PList = PList.GroupBy (x => x.Name).SelectMany (x=>x.OrderBy(y=> y.Date).Take(1)) 
```

我没有执行查询。

想法是先[分组](http://msdn.microsoft.com/en-us/library/bb534304.aspx)，然后对分组进行[排序，然后](http://msdn.microsoft.com/en-us/library/bb534966.aspx)[将](http://msdn.microsoft.com/en-us/library/bb503062.aspx)每个有序组中的第一个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:17:39.610

使用`Distinct`方法并编写类的适当实现`GetHasCode`和`Equals`方法`Person`。

```
public class Person : IEquatable<Person>
{
    public string Name { get; set; }

    public string Email { get; set; }

    public override bool Equals(object obj)
    {
        if (obj == null)
        {
            return false;
        }

        if (obj.GetType() != GetType())
        {
            return false;
        }

        return Equals((Person)obj);
    }

    public override int GetHashCode()
    {
        unchecked
        {    
            var hash = 17;

            hash = hash * 23 + (Name == null ? 0 : Name.GetHashCode());
            hash = hash * 23 + (Email == null ? 0 : Email.GetHashCode());

            return hash;
        }
    }

    public bool Equals(Person other)
    {
        if (other == null)
        {
            return false;
        }

        return Name == other.Name && Email == other.Email;
    }
} 
```

然后调用`Enumerable.Distinct`方法。

# html - 悬停时覆盖图像，在动态大小的 div 上

> ID：13926112
> 
> 赞同：1
> 
> 时间：2012-12-18T04:10:43.553
> 
> 标签：html, css, hover, overlay, pseudo-element

所以这就是我所拥有的：

```
<div class="overlay">
    <p>text text</p>
</div>

<div class="overlay">
    <p>text text text text text text</p>
    <p>text text text text text text</p>
    <p>text text text text text text</p>
    <p>text text text text text text</p>
</div> 
```

我想做的是：每当我用 class 翻转 div 时`overlay`，我想要一个半透明的 5px x 5px 图像覆盖 div。图像必须重复以填充 div 的宽度和高度。

最好的方法是什么？我最初的想法是，每当我使用该类滚动一个 div 时，我会动态创建一个绝对定位的 div，它与我正在滚动的 div 具有相同的确切宽度和高度，并且该新 div 具有透明的重复背景图像。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-18T04:16:36.197

可以使用伪元素，不需要 JS：

```
div.overlay { 
  position: relative;
}
div.overlay:hover:after {
  content: "";
  position: absolute;
  top: 0;
  width: 100%;
  height: 100%;
  background: url(img.png);
  opacity: .5; /* if needed */
} 
```

**演示：http:** [//jsbin.com/ayesec/3/edit](http://jsbin.com/ayesec/3/edit)

```
div.overlay {
  position: relative;
  width: 300px;
  background: yellow;
}

div.overlay:hover:after {
  content: "";
  position: absolute;
  top: 0;
  width: 100%;
  height: 100%;
  background: url(https://placekitten.com/5/5);
  opacity: .5;
}
```

```
<div class="overlay">
  <p>text text text text text text</p>
  <p>text text text text text text</p>
  <p>text text !!HOVER!! text text</p>
  <p>text text text text text text</p>
  <p>text text text text text text</p>
</div>
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:13:42.990

CSS悬停应该工作吗？

```
 .overlay:hover {
    background: url("/your/img.png");
 } 
```

# asp.net-mvc-4 - MVC4 中的模型创建

> ID：13926118
> 
> 赞同：0
> 
> 时间：2012-12-18T04:11:18.300
> 
> 标签：asp.net-mvc-4

我正在 MVC4 中创建一个新项目。我需要创建一些模型。我怀疑对创建模型的基本理解。模型存放在哪里？1\. MVC 模型内部？2\. 将模型分离到新项目中？

哪个是最好的？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:15:21.367

对于一个小项目，主要是个人喜好。我会保持简单，从单个项目开始，随着复杂性或团队成员数量的增加，将单独的模块变成项目：数据访问层、服务、模型等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T04:16:18.340

在 Visual Studio 中，MVC4 默认模板将为`Models`您创建一个文件夹。这应该是您的模型的默认位置。

# java - 这是考虑多态性吗？

> ID：13926120
> 
> 赞同：2
> 
> 时间：2012-12-18T04:11:20.023
> 
> 标签：java

我对多态性感到困惑，我想知道这是否考虑多态性？

我觉得它看起来有点奇怪，但它仍然可以正确编译。

```
public class Family {
    void FamilyInfo() {
        System.out.println("This is a family super class");
    }
}

public class Grandparents extends Family {
    void FamilyInfo() {
        System.out.println("Graparents are the elders in the family and they are the sub class of family");
    }
}

public class Parents extends Grandparents {
    void FamilyInfo() {
        System.out.println("The parents are the children of the grandparents and they are the sub sub class for family");
    }
}

public class FamilyDemo {
    public static void main(String ary[]) {
        Grandparents Gp = new Grandparents();
        Parents P1 = new Parents();

        Gp.FamilyInfo();
        P1.FamilyInfo();

    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-18T04:14:29.877

您的方法`FamilyInfo`在层次结构中的所有三个类中都被覆盖。这是一个例子`polymorphism`。

调用时`Gp.FamilyInfo();`：调用`Grandparents`类中实现的方法并打印`Graparents are the elders in the family and they are the sub class of family`，`P1.FamilyInfo();`调用`Parents`类中的方法并打印`The parents are the children of the grandparents and they are the sub sub class for family`。

**因此你可以看到同一个方法`FamilyInfo()`有两种不同的行为，这就是多态行为。**

您的示例与此处教程中提到的示例非常相似：[**Java 教程：多态**](http://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html)。所以不要混淆。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T04:27:40.787

该示例没有演示多态性，而我只能看到简单的面向对象继承。为了使用多态性的概念，代码应如下所示。

```
public class FamilyDemo 
{
    public static void main(String ary[]) 
    {
        Family Gp = new Grandparents();
        Family P1 = new Parents();

        Gp.FamilyInfo();
        P1.FamilyInfo();
    }
} 
```

即使`Gp`是 type `Family`，它的行为也像 type ，`Grandparents`因为它是用该类型的对象初始化的。

那么，可能会出现以下情况： 祖父母是家庭中的长辈，他们是家庭的子阶层。父母是祖父母的孩子，他们是家庭的子子类。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-18T04:31:07.443

我们的培训师说，使用extends更像是继承的一个例子。但是如果我们使用implements(interface)，我们可以说它是多态的，因为我们可以实现很多接口。

例如

```
interface Horse {
    void run();
}

interface Eagle {
    void fly();
}

public class Pegasus implements Horse, Eagle {
    // Implement methods
     public void run() {
         // do run
     }
     public void fly() {
         // do fly
     }
 } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-18T04:40:54.750

从技术上讲，这是多态性。但是，您选择了一个糟糕的示例，并且您似乎不太了解多态性背后的想法。一个更好的例子是这样的。

```
public abstract class Shape {
  public abstract void drawShape();
}

public class Rectangle extends Shape {
  public void drawShape() {
    // code for drawing rectangle
  }
}

public class Circle extends Shape {
  public void drawShape() {
    // code for drawing circle
  }
}

public class FilledRectangle extends Rectangle {
  public void drawShape() {
    super.drawShape();
    // code for filling rectangle
  }
} 
```

那么负责绘图的类就不需要知道如何绘制每个单独的形状。相反，它可以做到这一点

```
public void drawAllShapes(Shape[] myShapes) {
  for (int i = 0; i < myShapes.length; ++i) {
    myShapes[i].drawShape();
  }
} 
```

目标是抽象出具体的实现和所有的细节，而只呈现一个通用接口。正如您在上面的最后一个方法中所见，这使得使用不同的类变得更加容易。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-18T04:17:04.743

[***多态性***](http://en.wikipedia.org/wiki/Polymorphism_%28computer_science%29)的一个很好的例子是：

```
public static void print(Family[] family){
    for(int i=0; i< family.length; i++){
        family[i].FamilyInfo();
    }
}

public static void main(String args[])
{
    Family[] family = new Family[2];
    Grandparents Gp = new Grandparents();
    Parents P1 = new Parents();
    family[0] = Gp;
    family[1] = P1;

    //and then send the array to another method which 
    //doesn't "know" which entry in the array is a parent and which is grandparent
    //and there you can loop the array calling family[i].FamilyInfo();
    //THIS is the whole idea of polymorphism in a nutshell
    print(family);

} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-18T04:19:48.240

> 多态性的字典定义是指生物学中的一个原则，其中一个有机体或物种可以有许多不同的形式或阶段

基本概念是给定对象像另一个对象一样工作。这是通过在 Java 中使用接口和继承来实现的。

一个更好的例子是（以您的代码为基础）

```
public class FamilyDemo {
    public static void main(String ary[]) {
        Family gp = new Grandparents();
        Family p1 = new Parents();

        dump(gp);
        dump(p1);
    }

    public static void dump(Family family) {
        family.FamilyInfo();
    }
} 
```

这基本上允许`Gradparents`并按`Parents`原样“行动”`Family`

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-18T04:31:11.123

**1.什么是多态性？**

在面向对象的编程中，多态性（来自希腊语的意思是“具有多种形式”）是能够在不同的上下文中为某事物分配不同的含义或用法的特征——具体来说，允许一个实体，如变量、函数，或者一个对象有多个形式。

**2\. 两种多态性**

**a) 静态或编译时多态性**

调用哪个方法仅在编译时决定。方法重载就是一个例子。例如

```
public class calculation
{
    public int add(int x, int y)
    {
        return x + y;
    }
    public int add(int x, int y, int z)
    {
        return x + y + z;
    }
} 
```

在这里你可以看到有两个同名但签名不同的函数

**b) 动态或运行时多态性。**

运行时多态性也称为方法覆盖。在这种机制中，如果基类包含被覆盖的方法，则在运行时（而不是在编译时）解决对覆盖函数的调用。

```
Class BaseClass
{
Public void show ()
{ 
Console.WriteLine("From base class show method");
}
}
Public Class DynamicDemo : BaseClass
{
Public void show()
{
Console.WriteLine("From Derived Class show method");
}
Public static void main(String args[])
{
DynamicDemo dpd=new DynamicDemo ();
Dpd.show();

}
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-03-24T00:00:11.407

是的，在您的示例程序中，您使用的是继承和多态，实际上两者都是封闭相关的。

您正在使用**继承**，因为您从 Grandparents 类扩展了一次 Family，并且曾经使用 Parents 类扩展了 Grandparents，并且您还使用**了多态性**，因为您在子类`FamilyInfo`中编写了在超类中编写的方法 void。

你应该`@Override`这样使用：

```
public class Parents extends Grandparents {
    @Override
    void FamilyInfo() {
        System.out.println("The parents are the children of the grandparents and they are the sub sub class for family");
    }
} 
```

# javascript - 从 LinkedIn API 注销

> ID：13926121
> 
> 赞同：24
> 
> 时间：2012-12-18T04:11:24.647
> 
> 标签：javascript, php, linkedin, linkedin-api

我曾使用过 LinkedIn API，并且在我的应用程序中单击注销后需要有关从 Linkedin API 注销的指导。我尝试了以下代码：

```
function closeSession(){
    IN.User.logout();
}
<a href="logout.php" class="myButton" onclick="closeSession()" id="logout-link">Logout In LinkedIn</a> 
```

我也试过：

```
$('logout-link').click(function() {  
    IN.Event.on(IN,'logout', function() {
        window.location.href = [site-logout-url];
    });
    IN.User.logout();
}); 
```

我试图通过调用来破坏浏览器中的会话`session_destroy()`

最后，我尝试了从 Stack Overflow 得到的关于[这个问题](https://stackoverflow.com/questions/12489017/unable-to-logout-from-linkedin-using-javascript-api)的答案。我没有得到任何正确的解决方案。谁能告诉我解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:40:26.780

确保你有包括

```
<script type="text/javascript" src="http://platform.linkedin.com/in.js"></script> 
```

在您的主页上，即您要注销的位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:19:58.057

似乎您`onclick`没有被调用，请尝试执行以下操作：

```
function closeSession(){
   IN.User.logout();
   return true;
}
<a href="logout.php" class="myButton" onclick="return closeSession();" id="logout-link">Logout In LinkedIn</a> 
```

或者

```
<a href="#" class="myButton" onclick="closeSession()" id="logout-link">
    Logout In LinkedIn
</a> 
```

和js

```
function closeSession() {
  if ( typeof IN === 'object' && typeof IN.User === 'object' && IN.User.isAuthorized() ) {
     //user logged in linkedin
    //call linkedin logout with websites logout function as callback
     alert("I m inside linkedin object check.."); //do you see this
     IN.User.logout(logout);
  }
  else {
     logout();
  }
}
function logout() {
  window.location.href = "URL_TO_YOUR_LOGOUT.PHP";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-16T05:31:45.310

这里似乎有两个不同的问题。除非您调用它们的函数，否则您无法从服务器端脚本中注销链接。当你登陆 logout.php 你应该有你的 session_destroy(); 在页面顶部。确保 logout.php 上没有任何 session_start()

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-18T04:28:16.093

我认为你在你的javascript被执行之前被重定向了，所以试试这种方式？JavaScript 代码：

```
function closeSession(){
    IN.User.logout();
    location.href="logout.php";
} 
```

HTML 代码：

```
<span style="cursor:pointer" onclick="closeSession()">Logout In LinkedIn</span> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-28T13:15:57.940

```
To make it work

<script type="text/javascript" src="http://platform.linkedin.com/in.js">
api_key: <?php echo sfConfig::get('app_linkedin_api_key'); ?>
authorize: true
</script>
<script>
IN.Event.on(IN, "logout", function() {onLinkedInLogout();});

function onLinkedInLogout(){
// User is logged out
window.location.href='<?php echo url_for("@homepage");?>'
}
</script>
<a href="#" onclick="IN.User.logout()"><?php echo __("Logout");?></a>

<div class="signin"><script type="in/Login" data-onAuth="onLinkedInAuth"></script>

<script type="text/javascript">

function onLinkedInAuth() {
IN.API.Profile("me")
.fields("id")
.result( function(me) {
var id = me.values[0].id;
//Do stuff like redirect...
})
}
</script> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-06-23T08:36:19.157

您需要在尝试调用 IN.User.logout() 之前加载 LinkedIn JavaScript 平台，您应该仅在 javascript 库完全加载后运行代码。

```
<script type="text/javascript" src="http://platform.linkedin.com/in.js">
  api_key: mykey
  authorize: true
  onLoad: onLoad
</script>

<script type="text/javascript">
function onLoad() {
  try {
    IN.User.logout();
  } catch (err) {
    console.log(err);
  }
  location.href="index.php";
}
</script> 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-10-06T13:50:29.137

```
<script type="text/javascript" src="http://platform.linkedin.com/in.js">
api_key: mykey
authorize: true
onLoad: onLoad
</script>

           <script type="text/javascript">
                 function onLoad() {
                  try {
              IN.User.logout();
                       } catch (err) {
                  console.log(err);
                          }
                  location.href="index.php";
                    }
                     </script> 
```

* * *

## 回答 #8

> 赞同：-3
> 
> 时间：2014-12-22T06:12:06.063

在代码中使用 session_destroy()。

# linux - 2 Linux 机器上的虚拟 IP 故障转移

> ID：13926127
> 
> 赞同：-1
> 
> 时间：2012-12-18T04:12:03.947
> 
> 标签：linux, virtual-ip-address

我有 2 个 Linux 虚拟机盒。

VM1 ip 是 192.168.0.4 VM2 ip 是 192.168.0.5

GW：192.168.0.1，网络掩码：255.255.255.0

1）我在**VM1上添加了一个虚拟IP**

ifconfig eth0:1 192.168.0.10 网络掩码 255.255.255.0 向上

然后我可以从我的客户端成功 ping 它

2）删除**VM1上的虚拟IP**

ifconfig eth0:1 192.168.0.10 网络掩码 255.255.255.0 向下

然后我无法从我的客户端成功 ping 它

**3）在VM2**上添加相同的虚拟IP

 **ifconfig eth0:1 192.168.0.10 网络掩码 255.255.255.0 向上

!!我无法ping通这个IP！

但是1-2小时后，我可以成功ping通它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:21:36.283

> 3）在VM2上添加相同的虚拟IP
> 
> 但是1-2小时后，我可以成功ping通它。

尝试刷新客户端上的 ARP 表：

```
ip neigh flush all dev eth0 
```

另外，我相信让第二台虚拟机在获得新 IP 后发送免费 ARP 将解决问题。**

# objective-c - mac 应用内购买 - 接收商店套件响应不同的线程

> ID：13926128
> 
> 赞同：3
> 
> 时间：2012-12-18T04:12:28.610
> 
> 标签：objective-c, macos, cocoa, in-app-purchase

我正在测试我的 mac 应用程序的应用程序购买，我注意到选择器 productsRequest:didReceiveResponse: 和 paymentQueue:updatedTransactions: 在我请求产品或尝试购买。

我没有看到任何关于此的文档警告，因为这意味着不应该从这些方法中更新 UI。

有没有其他人遇到过这个？我是否应该在这些方法中调用 performSelectorOnMainThread: 来更新 UI？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T14:21:31.317

Ran into the same issue as it appears to behave just like an asynch call using NSURLConnection. I solved my particular issue by using the NSObject method call "performSelectorOnMainThread:withObject:waitUnitlDone:" Probably setting up NSNotification to be caught on the main thread of ViewController or WindowController would work as well.

# c# - 在 Visual Studio 2010 中使用 MessageBox 如何显示一条消息、一个计时器 int 和另一条消息？

> ID：13926131
> 
> 赞同：1
> 
> 时间：2012-12-18T04:12:33.573
> 
> 标签：c#, visual-studio-2010

我正在制作一个小型迷宫游戏，但我遇到了一个小问题，如果玩家获胜，我会弹出一个 MessageBox 并给他们一条祝贺消息，并显示他们使用计时器花了多长时间，我已经计算了他们多长时间'正在采取的游戏进行。我的消息框代码是：

```
MessageBox.Show("Congratulations! You've beaten the maze! It took you: "+gameElapsed); 
```

gameElapsed 是我的计时器的整数。它显示文本后的秒数没问题，之后只是收到文本说“秒”是我遇到的问题。

所以我想让 MessageBox 说“恭喜！你已经打败了迷宫！花了你：X 秒”

X 是 gameElapsed，计时器 int。

我希望我已经足够清楚地解释了我的问题，在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-18T04:49:43.180

我认为`string.Format`更好：

```
MessageBox.Show(string.Format("Congratulations! You've beaten the maze! It took you: {0} seconds", gameElapsed)); 
```

* * *

对非文字字符串使用`+`运算符会导致在运行时执行连接。
要在运行时将多个字符串连接在一起，请避免使用`+`运算符，因为它会在垃圾收集堆上创建多个字符串对象。
而是使用`System.Text.StringBuilder`type 或 use`string.Format`方法。（内部`string.Format`使用`System.Text.StringBuilder`。）

因此，我建议：

*   用于`string.Format`少量字符串，或者我们需要高水平的可读性。
*   用于`System.Text.StringBuilder`大量字符串。
*   对于文字字符串，C# 编译器`+`在编译时将它们连接起来，最后只放置一个字符串。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T04:19:05.663

你试过这个：

```
MessageBox.Show("Congratulations! You've beaten the maze! It took you: "+ gameElapsed + " Seconds"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-18T04:18:27.480

```
MessageBox.Show("Congratulations! You've beaten the maze! It took you: "+gameElapsed.ToString() + " seconds"); 
```

将打印出：

恭喜！你打败了迷宫！你花了：4秒

# java - 单个元素而不是整个文档的 XML 验证

> ID：13926137
> 
> 赞同：2
> 
> 时间：2012-12-18T04:13:29.157
> 
> 标签：java, xml, xml-parsing, xml-validation

在我的一个项目中，我们支持使用 XML 进行数据输入。由于 XML 是用户输入文件，因此它很有可能是有效的 XML，但存在一些语义错误（例如字符串长度大于允许的 limt 等）。

目前我正在使用 javax.xml.validation.Validator 来验证给定的文档，但即使一个元素有语义错误，这也会失败。我想要的是能够跳过这些元素而不是跳过整个 XML。我知道我们可以为验证器设置一个错误处理程序，我可以在其中跳过此类错误，但这意味着我需要在我的应用程序代码中执行语义检查。

我能想到的一种解决方案是解析 XSD 并获取一组限制（例如时间戳格式、长度检查等），然后在解析 XML 时检查这些限制。是否有任何优雅或定义明确的方法来解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T08:42:19.483

它在 API 文档中描述得不是很清楚，但是如果您为 validate() 方法提供一个包装您要验证的元素的 DOMSource，它应该只验证该元素下的子树。

我不能 100% 确定这是 validate() 的 JDK 实现的工作方式，但它肯定是 Saxon XSD 实现解释规范的方式。

如果您不想使用低级 Java API，验证特定元素（及其子树）的更简单方法是使用 XQuery：

```
for $e in //a/b/c[condition=foo] return validate{$e} 
```

使用 XQuery 3.0，您可以使用 try/catch 来处理验证失败的情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T05:54:41.440

我认为在这种情况下你可以

1.  重写原始 XSD 以便它仅验证您想要的内容

2.  使用您自己的简化模式，它可能只是一个属性文件，元素=规则，规则可能是一个正则表达式，并制作一个自定义验证器。我认为它会比成熟的 XSD Validator 更快

3.  XSD 不是唯一的 XML 模式语言，请考虑 Relax NG

# android - Android 获取 HTML 应用的基本 URL

> ID：13926139
> 
> 赞同：0
> 
> 时间：2012-12-18T04:13:40.827
> 
> 标签：android, apk

我有一个在我的手机上运行的应用程序，它只是显示一个网页。我正在尝试获取网站名称/信息，以便我可以在我的桌面上浏览它。我使用 Packet Sniffer 获取 IP 地址，但该 IP 上运行着多个主机。获取 Android 应用程序使用的真实 URL/主机名的最佳方法是什么？

仅供参考：我已经解码了应用程序，但我仍然没有弄清楚 URL 是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:04:15.850

我要做的是，在模拟器中安装应用程序，然后使用可以处理 http 流量的 wireshark。

# php - db 表中的 PHP 表单复选框（初学者）

> ID：13926142
> 
> 赞同：0
> 
> 时间：2012-12-18T04:13:45.580
> 
> 标签：php

在不同的帖子上回答了一个问题；现在我需要解决下一步！:)

我们有一个`secondary_phone_number`作为 a`1`或 a的数据库`0`。

在我们看来（MVC）；我有

```
{
    $secondaryNumber = $company->getSecondaryPhoneNumber();

    if ($secondaryNumber = 1) {
        $data['secondaryphonenumber'] = TRUE;
    } else {
        $data['secondaryphonenumber'] = FALSE;
    }
} 
```

然后在我们的模板（HTML）中，我试图将复选框显示为是否选中是（1）或否（2），具体取决于数据库条目：

```
<label>
<input type="checkbox" name="secondary_phone_number" value="1" {{#secondaryphonenumber}}checked="checked"{{/secondaryphonenumber}}/>
Yes
</label><br>
<input type="checkbox" name="secondary_phone_number" value="0" {{#secondaryphonenumber}}checked="checked"{{/secondaryphonenumber}}/>
No
</label> 
```

问题是，无论数据库怎么说，两个复选框都显示为已选中。有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:30:07.863

我不确定您使用的是哪种 MVC 框架，或者您制作了自己的框架，但您的方法并不真正关心`secondaryphonenumber`生成复选框时的内容

尝试这样的事情

```
<label>
<input type="checkbox" name="secondary_phone_number" value="1" <?=$secondaryphonenumber?"checked":""?>/>
Yes
</label><br>
<input type="checkbox" name="secondary_phone_number" value="0"  <?=$secondaryphonenumber?"":"checked"?>/>
No
</label> 
```

但我建议使用单选按钮，因为复选框允许用户选择这两个选项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:21:20.223

尝试这个 ：

```
$secondaryNumber = $company->getSecondaryPhoneNumber();

if ($secondaryNumber = 1) {
    $data['secondaryphonenumber'] = TRUE;
} else {
    $data['secondaryphonenumber_false'] = TRUE;
}

<label>
<input type="checkbox" name="secondary_phone_number" value="1" {{#secondaryphonenumber}}checked="checked"{{/secondaryphonenumber}}/>
Yes
</label><br>
<input type="checkbox" name="secondary_phone_number" value="0" {{#secondaryphonenumber_false}}checked="checked"{{/secondaryphonenumber_false}}/>
No
</label> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T04:35:01.563

试试这个。。

```
<label>
    <input type="checkbox" name="secondary_phone_number" value="1" <?php if($data['secondaryphonenumber'] == TRUE){?>checked="checked"<?php }?>/>
Yes
</label><br>
<input type="checkbox" name="secondary_phone_number" value="0" <?php if($data['secondaryphonenumber'] == FALSE){?>checked="checked"<?php }?>/>
No
</label>
Using radio button will be a better option.. 
```

# node.js - 使用节点的内置调试器检查变量？

> ID：13926143
> 
> 赞同：53
> 
> 时间：2012-12-18T04:13:47.130
> 
> 标签：node.js, debugging

我正在尝试使用节点调试器。我正在`node debug server`运行我的服务器。然后我有：

```
...
var Workspace = mongoose.model('Workspace');
debugger; 
```

此时，正如预期的那样，当我运行此代码时，调试器会弹出。但是，我希望它设置所有当前变量，就像它发生在 Chrome 自己的调试器中一样。

但：

```
break in hotplate/node_modules/bd/lib/bd.js:133
132 
133   debugger;
134 
135   // Delete the ID and the version since there's no point,
debug> Workspace
ReferenceError: Workspace is not defined 
```

那么......我如何*实际*检查当前变量？

额外的问题：是否有任何方法可以使用 Chrome 的开发人员工具 (CTRL-J)，以便它连接到节点并以这种方式工作？（我知道节点检查器，但它非常过时并且......）

* * *

## 回答 #1

> 赞同：85
> 
> 时间：2012-12-18T05:22:46.157

使用`repl`命令（参见[文档](http://nodejs.org/api/debugger.html)中的第三个示例）

```
break in hotplate/node_modules/bd/lib/bd.js:133
132 
133   debugger;
134 
135   // Delete the ID and the version since there's no point,
debug> repl
Press Ctrl + C to leave debug repl
> Workspace 
```

更新：奖金问题 - [https://github.com/c4milo/node-webkit-agent](https://github.com/c4milo/node-webkit-agent)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-12-07T02:57:11.753

The answer to the bonus question has changed in 2018.

Run `node inspect foo.js`.

Visit `chrome://inspect` and in the list of devices you should see an entry that says `Target (<process.version>)` with an accompanying inspect link.

It looks like this: [![enter image description here](../Images/1e7dd4c6715448cab4bdea25febe7dd2.png)](https://i.stack.imgur.com/B9nQb.png)

# c# - 如何轻松地将 SQL 数据加载到几个 ComboBox 中，我做得正确还是有其他方法

> ID：13926147
> 
> 赞同：0
> 
> 时间：2012-12-18T04:14:02.043
> 
> 标签：c#, sql, database

我有一个组合框来填充城市、州和 PinCode 的数据，这些组合框是下拉列表，用户会选择它。

并在表单打开后加载。

这是代码：

```
 /// CODE TO BRING A DATA FROM SQL INTO THE FORM DROP LIST

            /// To fill the sates from States Table

            cn = new SqlConnection(@"Data Source=Nick-PC\SQLEXPRESS;Initial Catalog=AutoDB;Integrated Security=True");
            cmd= new SqlCommand("select * from TblState",cn);
            cn.Open();
            SqlDataReader dr;

            try
            {
                dr = cmd.ExecuteReader();
                while (dr.Read())

                {
                    SelectState.Items.Add(dr["State"].ToString());
                }

            }

            catch (Exception ex)
            {
                MessageBox.Show(ex.Message);
            }

            finally
            {
                cn.Close();
            }

            //To fill the Cities from City Table

            cn1 = new SqlConnection(@"Data Source=Nick-PC\SQLEXPRESS;Initial Catalog=AutoDB;Integrated Security=True");
            cmd1 = new SqlCommand("SELECT * FROM TblCity", cn);
            cn.Open();
            SqlDataReader ds;

            try
            {
                ds = cmd1.ExecuteReader();
                while (ds.Read())
                {
                    SelectCity.Items.Add(ds["City"].ToString());
                }

            }

            catch (Exception ex)
            {
                MessageBox.Show(ex.Message);
            }

            finally
            {
                cn1.Close();
            }

            // To fill the Data in the Pincode from the City Table
            cn2 = new SqlConnection(@"Data Source=Nick-PC\SQLEXPRESS;Initial Catalog=AutoDB;Integrated Security=True");
            cmd2 = new SqlCommand("SELECT (Pincode) FROM TblCity ", cn2);
            cn2.Open();
            SqlDataReader dm;

            try
            {
                dm = cmd2.ExecuteReader();
                while (dm.Read())
                {
                    SelectPinCode.Items.Add(dm["Pincode"].ToString());
                }

            }

            catch (Exception ex)
            {
                MessageBox.Show(ex.Message);
            }

            finally
            {
                cn2.Close();
            } 
```

它有点大，我对所有组合框都执行相同的步骤，但是有没有一种方法可以以简单的方式合并它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:30:24.620

坚持基础的方法 - 将您的代码重构为单一方法。

```
static IEnumerable<string> Load(string tableName, string columnName)
{
    List<string> result = new List<string>();

    try
    {
        using (var cn = new SqlConnection(@"Data Source=Nick-PC\SQLEXPRESS;Initial Catalog=AutoDB;Integrated Security=True"))
        {
            cn.Open();
            using (var cmd = new SqlCommand("SELECT * FROM " + tableName, cn))
            {
                using (var reader = cmd.ExecuteReader())
                {
                    while (reader.Read())
                    {
                        result.Add(reader[columnName].ToString());
                    }
                }
            }
        }
    }
    catch (Exception ex)
    {
        MessageBox.Show(ex.Message);
    }

    return result;
} 
```

粗略的假设：

1.  仅查询 1 个表，1 个列。
2.  不检查`IDataReader`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:04:16.330

```
cn = new SqlConnection(@"Data Source=Nick-PC\SQLEXPRESS;InitialCatalog=AutoDB;Integrated  Security=True");
cmd= new SqlCommand("select * from TblState",cn);
cn.Open();
SqlDataReader dr;
try
{
    dr = cmd.ExecuteReader();
    while (dr.Read())
    {
        SelectState.Items.Add(dr["State"].ToString());
    }
}
catch (Exception ex)
{
    MessageBox.Show(ex.Message);
}
finally
{
    cn.Close();
}
//To fill the Cities from City Table
// To fill the Data in the Pincode from the City Table
cn2 = new SqlConnection(@"Data Source=Nick-PC\SQLEXPRESS;Initial Catalog=AutoDB;Integrated Security=True");
cmd2 = new SqlCommand("SELECT * FROM TblCity ", cn2);
cn2.Open();
SqlDataReader dm;
try
{
    dm = cmd2.ExecuteReader();
    while (dm.Read())
    {
        SelectPinCode.Items.Add(dm["Pincode"].ToString());
        //since you are using only one City table to get PinCode and City name this would be better.
        SelectCity.Items.Add(ds["City"].ToString());
    }
}
catch (Exception ex)
{
    MessageBox.Show(ex.Message);
}
finally
{
    cn2.Close();
} 
```

# java - 运行 JSP 是否类似于 PHP？

> ID：13926151
> 
> 赞同：0
> 
> 时间：2012-12-18T04:14:33.353
> 
> 标签：java, php, jsp, web-applications

如何运行 JSP？

1.  它是否类似于 PHP，您只需将其保存在编辑器中并重新加载浏览器？

2.  或者更像是配置一次，然后就像 PHP 一样，它只是保存和浏览器重新加载？

3.  还是在保存和重新加载浏览器时有很多中间环节？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:27:50.637

我会说它更像[C](http://en.wikipedia.org/wiki/C_%28programming_language%29)。JSP 首先在类文件中编译，然后才执行。**如果您已将服务器配置为查找 JSP 中的更改，**那么只有在服务器运行时它才会重新编译 JSP。

有时服务器的这种模式称为*开发模式*，这个过程称为*热部署*。除非您的服务器不重新编译 JSP，否则您在 JSP 文件中的更改将不会通过浏览器中的服务器行为反映出来。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T04:17:50.820

服务器将 JSP 编译为 Java 类，并根据类内容将信息呈现给浏览器。所以对于服务器来说，它又是另一个类。

# xcode - 模拟按键

> ID：13926152
> 
> 赞同：0
> 
> 时间：2012-12-18T04:14:33.947
> 
> 标签：xcode, macos, command-line

我正在为 mac 创建一个程序，我需要模拟按键，但我不知道如何模拟按键。我已经使用winapi在windows上完成了它，但没有在xcode上完成。我该怎么做呢？（在 mac 10.7 上使用 xcode 创建命令行应用程序）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T06:46:57.267

您应该生成一个关键事件`keyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:`并将其发送到`NSApplication`by `sendEvent:`。

# facebook - 我无法将应用程序添加到 FB 以将我的 Google+ 帖子流式传输到我的 FB 页面。我究竟做错了什么？

> ID：13926154
> 
> 赞同：0
> 
> 时间：2012-12-18T04:14:53.933
> 
> 标签：facebook, google-plus, facebook-apps

我想让我的 Google+ 提要显示在我的一个 FB 页面上。所以我登录了 FB，并找到了应用程序：[Google Plus Tab for Pages](https://www.facebook.com/add.php?api_key=266863793334392&pages)。

我安装了应用程序（和选项卡）并收到消息**您的选项卡尚未正确配置。**

在下方，有一个按钮**Configure**。

我单击配置并输入适当的详细信息、我的 Google+ 号码、我想将其添加到哪个 FB 页面等......然后选择**更改**。

然后我得到以下错误，无论我使用什么电脑，我使用什么浏览器等等：

```
Google+ to Pages

Add Google+ to your page

Don't forget to configure your settings after adding the tab.

Please help us keep the tab ad free.  $5   $10   $20   $50   Any amount  
Developed by    
Privacy Policy 
```

这里的关键是不要忘记在添加选项卡后配置您的设置——我已经完成了。任何建议将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T12:11:01.723

您可能还希望查看 Friends+Me (https://plus.google.com/105750980959577516811/posts) 看看它是否会更好地工作或满足您的需求。

# linq - 如何将 where 子句添加到与其他类具有一对多关系的类的字段中？

> ID：13926156
> 
> 赞同：0
> 
> 时间：2012-12-18T04:15:02.913
> 
> 标签：linq, entity-framework, asp.net-mvc-4

**目标：** 获取所有到期日期为 <= 今天的日期的面板。

**实体/数据库图**： ![在此处输入图像描述](../Images/4ecc796555cce68d4596a3ef9b42df6f.png) **控制器：**

```
 public ActionResult Index(PanelViewModel panelViewModel) 
    {
        panelViewModel.Panels = _panelRepository.GetPanels()
                                  .Where(p => p.PanelApplicationForms.Count > 0
                                          && p.IsPublish
                                          && p.PanelApplicationForms != null)
                                  .OrderBy(t => t.Title);

        return View(panelViewModel);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T04:27:09.577

尝试

```
public ActionResult Index(PanelViewModel panelViewModel) 
{
    var proj  = _panelRepository.GetPanels()
                              .Where(p => p.PanelApplicationForms.Count > 0
                                      && p.PanelApplicationForms
                                         .Any(f => f.PanelApplicationFormVersions
                                           .Any(v => v.DueDate <= today))
                                      && p.IsPublish
                                      && p.PanelApplicationForms != null)
                              .OrderBy(t => t.Title)
                              .Select(p => new { 
                                          Panel = p, 
                                          PanelApplicationForms = p.PanelApplicationForms
                                           .Where(f => f.PanelApplicationFormVersions
                                           .Any(v => v.DueDate <= today))
                                          })
                              .ToList();

    panelViewModel.Panels = proj.Select(p => p.Panel);

    return View(panelViewModel);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T00:24:38.250

@Eranga 感谢您在上面的回答和评论。我得到它的工作做以下，

控制器：

```
panelViewModel.Panels = _panelRepository.GetPanels()
                                 .Where(p => p.PanelApplicationForms.Count > 0
                                                    && p.PanelApplicationForms
                                                           .Any(f => f.IsPublish
                                                                     &&
                                                                     f.PanelApplicationFormVersions.OrderByDescending(v => v.VersionNumber).
                                                                         First().DueDate >= DateTime.Today
                                                                     && f.PanelApplicationFormVersions.Count > 0
                                                           )
                                                    && p.PanelApplicationForms != null)
                                          .OrderBy(t => t.Title); 
```

看法：

```
 @foreach (var panelApplicationFormItem in panelItem.PanelApplicationForms.Where(panelApplicationFormItem => panelApplicationFormItem.IsPublish))
                        {
                            var panelApplicationFormVersion = panelApplicationFormItem.PanelApplicationFormVersions.OrderByDescending(v => v.VersionNumber).First();
                            if (panelApplicationFormVersion.DueDate >= DateTime.Today)
                            {
                                <tr>
                                    <td>
                                        @Html.DisplayFor(modelItem => panelApplicationFormItem.Title)
                                    </td>
                                    <td class="span2">
                                        @if (panelApplicationFormItem.PanelApplicationFormVersions.Count > 0)
                                        {

                                            @Html.DisplayFor(modelItem => panelApplicationFormVersion.DueDate)
                                        }
                                    </td>
                                    <td class="span2">
                                        @{
                                            //var isApplicationAlreadyExist = panelApplicationFormVersion.Id.IsApplicationAlreadyExist()
                                        }
                                        @if (panelApplicationFormVersion != null)
                                        {
                                            <a href="~/Application/Apply/@panelApplicationFormVersion.Id?versionNumber=@panelApplicationFormVersion.VersionNumber" class="btn">Apply</a>
                                        }
                                        else
                                        {
                                            <a href="#" class="btn">Sum</a>
                                        @*<p>No versions available to apply</p>*@
                                        }
                                    </td> 
                                </tr>
                            }
                        } 
```

# php - 当有人键入 URL 时，“谢谢”页面不应该显示，你会怎么做？

> ID：13926169
> 
> 赞同：1
> 
> 时间：2012-12-18T04:16:44.650
> 
> 标签：php, javascript, html, seo

我有一个网站。如果有人发布询问，它会转到感谢页面 www.legasy.com/thankyou/，URL 将是这样的。当我分析网站管理员工具时，它显示的感谢比询问更多。

填写表单字段后，验证该值并将其插入表中。它将转到感谢页面。但是，如果有人键入 url，它不应该转到感谢页面。我能为此做些什么？

贝娄是我的代码

HTML

```
<form>
 <table>
    <tr><td>Name</td> 
        <td><input type="text" name="buyer_name" id="buyer_name"  size="31" value="" /></td>
     </tr>
    <tr> <td>Email</td> 
         <td><input type="text" name="buyer_email" id="buyer_email"  size="31" value="" /></td>
    </tr>
    <tr> <td>Contact No</td>
         <td>   <input type="text" name="buyer_mobile" id="buyer_mobile" size="31" value=""/></td>
    </tr>
    <tr>                                        
         <td colspan="2" style="text-align:center;">
            <div id="post_enquiry"><img src="./images/for_more_det_click.gif" onclick="postBuyerEnquiry();" style="cursor:pointer;"/></div>
          </td>
    </tr>
 </table>
</form> 
```

Javascript

```
<script type="text/javascript" src="../scripts/jquery.min.js"></script>
<script type="text/javascript" language="javascript">

function postBuyerEnquiry()
{

    var nametxt = document.getElementById('buyer_name').value;
    var emailtxt = document.getElementById('buyer_email').value;
    var phonetxt = document.getElementById('buyer_mobile').value;
    output ="text";

  if(nametxt=='')
  {
      alert("Please Enter Your Name");
      return false; 
  } 
  else if(emailtxt=='')
  {
      alert("Please Enter Your Mail Id");
      return false;
  }

     else if(phonetxt=='')
     {
          alert("Please Enter Phone Number");
          return false; 
     }
    process = 'loadEvent';
        output = 'text';
      url = "test4.php";        
    $.get(
            url,
            {'act':'SBQF', 
             'name':nametxt, 
             'email':emailtxt,
             'phone':phonetxt,
            },
            function(responseText)
            {
                 window.location.href = '/legasy.com/thankyou/';
            },
            "html"
        );

} 
```

PHP

```
<?php
if ( !empty($_POST['act']) )
{
    $act        =   formatstring($_POST['act']);
}

switch( $act )
{
    case "SBQF":

         $strName         = $_GET['name'];
         $strEmail        = $_GET['email'];
         $strPhone        = $_GET['phone'];
             //Inserting values into the database   
         exit;  
     break;
}
?> 
```

或者

如果有人键入 URL (www.legasy.com/thankyou/)，它想转到错误页面

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:19:19.387

### 把其他东西都包在里面`else`

```
else { // Give this here
    process = 'loadEvent';
        output = 'text';
      url = "test4.php";        
    $.get(
            url,
            {'act':'SBQF', 
             'name':nametxt, 
             'email':emailtxt,
             'phone':phonetxt,
            },
            function(responseText)
            {
                 window.location.href = '/legasy.com/thankyou/';
            },
            "html"
        );
    return false;
} 
```

在任何时候，这都会被执行。另外，`return false;`在 else 部分的最后也要加一个！

### 访问被拒绝的东西

如果您不希望用户`www.legasy.com/thankyou/`直接访问该页面，您可以设置一个`session`. 当你做成功的事情时，你可以这样设置一个会话。

```
session_start();
if (condition on success)
    $_SESSION["thankyou"] = true; 
```

在`www.legasy.com/thankyou/`页面中，

```
session_start();
if (!isset($_SESSION["thankyou"]) && $_SESSION["thankyou"] != true)
{
    header('Location: /error/');
    die();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T04:20:27.140

我会考虑在页面上使用一个`$_SESSION`值。`thankyou`这样，如果有人手动输入 URL 而之前没有`$_SESSION['visited']`(visited 只是一个关联值，您不必使用它)，您可以使用`header()`将它们重定向到您需要的任何地方。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T04:20:00.693

```
if ( !empty($_POST['act']) )
{
    $act        =   formatstring($_POST['act']);
}
else {
    header('Location: www.legacy.com/error');
} 
```

请注意，仍然可以`thankyou`通过欺骗 POST 值来访问该页面。

# datetime - 倒计时使用服务器 DATETIME

> ID：13926173
> 
> 赞同：1
> 
> 时间：2012-12-18T04:17:50.040
> 
> 标签：datetime, time, phpmyadmin, countdown

我想在我的网站上设置一个固定时间的比赛。我想用日期和“结束时间”设置“开始时间”（仅限*“5 天、12 小时、30 分钟”*或完整日期和时间等长度）。使用服务器时间 倒计时计时器将出现在比赛页面中。在“开始时间”之前将显示负剩余时间，在两者之间将显示剩余时间，在“结束时间”之后计时器将停止。

我正在使用 phpmyadmin 来设置比赛。但是我对phpmyadmin DATETIME的使用一无所知。
在这种情况下如何使用 phpmyadmin 的 DATETIME 以及如何使用当前服务器时间从“开始时间”计算剩余时间？谢谢你。

# java - 使用 JfxPanel 从 JavaFX WebView 打印

> ID：13926175
> 
> 赞同：0
> 
> 时间：2012-12-18T04:17:54.607
> 
> 标签：java, javafx-2, javafx

我正在使用 JavaFX 开发一个摇摆应用程序。我的要求是使用 JavaFX 面板在 Web 视图中显示 html 文件。

现在我想在单击打印按钮时给出一个打印按钮，我想在打印机上发送打印命令以获取 Web 视图数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T22:10:24.857

不幸的是，当前的 JavaFX (2.2) 不支持打印。此功能计划在下一个版本 (8.0) 中使用。

您可以在此处跟踪状态：http: [//javafx-jira.kenai.com/browse/RT-17383](http://javafx-jira.kenai.com/browse/RT-17383)

# php - 有没有办法通过 Phalcon\Mvc\Model\Criteria 获得组装查询？

> ID：13926178
> 
> 赞同：1
> 
> 时间：2012-12-18T04:18:26.667
> 
> 标签：php, model, criteria, phalcon

我在这里没有找到我们如何通过文档中的 Phalcon\Mvc\Model\Criteria 构建查询：http: [//docs.phalconphp.com/en/latest/api/Phalcon_Mvc_Model_Criteria.html](http://docs.phalconphp.com/en/latest/api/Phalcon_Mvc_Model_Criteria.html)

是否可以？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-18T05:52:49.017

Phalcon\Mvc\Model\Criteria 为 SomeModel::find 或 SomeModel::findFirst 构建一个有效参数数组，此类不构建真正的查询。

此外，我们有 Phalcon\Mvc\Query\Builder 这个类有能力构建 PHQL 查询：

```
<?php

//Get the PHQL to be generated
$phql = $this->modelsManager->createBuilder()
    ->from('Robots')
    ->limit(20);
    ->order('Robots.name')
    ->getPhql();

//Execute the query
$robots = $this->modelsManager->createBuilder()
    ->from('Robots')
    ->limit(20);
    ->order('Robots.name')
    ->getQuery()
    ->execute(); 
```

更多信息：[http ://docs.phalconphp.com/en/latest/reference/phql.html#creating-queries-using-the-query-builder](http://docs.phalconphp.com/en/latest/reference/phql.html#creating-queries-using-the-query-builder)

# python - 最后似乎无法在此列表中添加百分比？

> ID：13926180
> 
> 赞同：1
> 
> 时间：2012-12-18T04:18:28.517
> 
> 标签：python, list

我有一个这样的列表：

```
la = [3, 7, 8, 9, 50, 100] 
```

我正在尝试将列表转换为字符串并添加如下百分比：

```
3%, 7%, 8% and lastly 100% 
```

我这样做：

```
str1 = '%, '.join(str(e) for e in sorted_list) 
```

它做了正确的事情，除了最后没有百分比，即只有 100，但我想要 100%。我怎样才能做到这一点？谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-18T04:21:18.147

```
', '.join('%d%%' % (x,) for x in la) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T04:26:41.113

是的，它正在做它应该做的事情：在每个元素之间*放置'%, '。*简单点怎么样...

```
str1 = '%, '.join(str(e) for e in sorted_list) + '%' 
```

（如果`sorted_list`可以为空，您应该处理这种情况）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-18T04:19:49.657

你这个：

```
print map(lambda n: str(n) + '%', [3, 7, 8, 9, 50, 100]) 
```

它创建了一个列表，其中所有这些都转换为带有百分比的字符串。

如果你仍然想要一个字符串，你可以像这样稍微修改它：

```
str1 = ', '.join(map(lambda n: str(n) + '%', [3, 7, 8, 9, 50, 100])) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-18T04:24:53.140

```
la = [3, 7, 8, 9, 50, 100]
(lambda k: ' and lastly '.join([', '.join(k[:-1]), k[-1]]))(["%s%%" % a for a in la])
# '3%, 7%, 8%, 9%, 50% and lastly 100%' 
```

编辑：小下标错误（再一次，正如 Rohit Jain 所说......：D）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-18T16:49:04.710

```
python 3.2
str1 = ','.join(str(e)+"%" for e in sorted_list) 
```

# android - Wowza 示例链接在 android 中不起作用

> ID：13926193
> 
> 赞同：2
> 
> 时间：2012-12-18T04:19:56.723
> 
> 标签：android, wowza

我正在做在 android 中运行 wowza 示例链接。Wowza 示例链接在 [这里。](http://www.wowza.com/html/mobile.html)但它不适用于android。

我的代码在这里。

HelloAndroidActivity(MainActivity)

```
public class HelloAndroidActivity extends Activity implements OnClickListener {

private static String TAG = "androidEx2";

private Button buttonVideoSample;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    Log.i(TAG, "onCreate");
    setContentView(R.layout.main);

    buttonVideoSample = (Button) findViewById(R.id.buttonVideoSample);
    buttonVideoSample.setOnClickListener(this);
}

public void onClick(View v) {
    if (v.getId() == R.id.buttonVideoSample) {
        String video_uri = "rtsp://184.72.239.149/vod/mp4:BigBuckBunny_115k.mov";
        Intent intent = new Intent(this, VideoSample.class);
        intent.putExtra("video_path", video_uri);
        startActivity(intent);
    }
}
} 
```

实用程序.java

```
public class Utils {
public static String durationInSecondsToString(int sec){
    int hours = sec / 3600; 
    int minutes = (sec / 60) - (hours * 60);
    int seconds = sec - (hours * 3600) - (minutes * 60) ;
    String formatted = String.format("%d:%02d:%02d", hours, minutes, seconds);
    return formatted;
}
} 
```

视频示例活动

```
public class VideoSample extends Activity implements OnSeekBarChangeListener, Callback, OnPreparedListener, OnCompletionListener, OnBufferingUpdateListener,
    OnClickListener, OnSeekCompleteListener, AnimationListener {
private TextView textViewPlayed;
private TextView textViewLength;
private SeekBar seekBarProgress;
private SurfaceView surfaceViewFrame;
private ImageView imageViewPauseIndicator;
private MediaPlayer player;
private SurfaceHolder holder;
private ProgressBar progressBarWait;
private Timer updateTimer;
private Bundle extras;
private Animation hideMediaController;
private LinearLayout linearLayoutMediaController;
private static final String TAG = "log_tag";

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.videosample);
    extras = getIntent().getExtras();

    linearLayoutMediaController = (LinearLayout) findViewById(R.id.linearLayoutMediaController);
    linearLayoutMediaController.setVisibility(View.GONE);

    hideMediaController = AnimationUtils.loadAnimation(this, R.anim.disapearing);
    hideMediaController.setAnimationListener(this);

    imageViewPauseIndicator = (ImageView) findViewById(R.id.imageViewPauseIndicator);
    imageViewPauseIndicator.setVisibility(View.GONE);
    if (player != null) {
        if (!player.isPlaying()) {
            imageViewPauseIndicator.setVisibility(View.VISIBLE);
        }
    }

    textViewPlayed = (TextView) findViewById(R.id.textViewPlayed);
    textViewLength = (TextView) findViewById(R.id.textViewLength);

    surfaceViewFrame = (SurfaceView) findViewById(R.id.surfaceViewFrame);
    surfaceViewFrame.setOnClickListener(this);
    surfaceViewFrame.setClickable(false);

    seekBarProgress = (SeekBar) findViewById(R.id.seekBarProgress);
    seekBarProgress.setOnSeekBarChangeListener(this);
    seekBarProgress.setProgress(0);

    progressBarWait = (ProgressBar) findViewById(R.id.progressBarWait);

    holder = surfaceViewFrame.getHolder();
    holder.addCallback(this);
    holder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);

    player = new MediaPlayer();
    player.setOnPreparedListener(this);
    player.setOnCompletionListener(this);
    player.setOnBufferingUpdateListener(this);
    player.setOnSeekCompleteListener(this);
    player.setScreenOnWhilePlaying(true);
    player.setDisplay(holder);
}

private void playVideo() {
    if (extras.getString("video_path").equals("VIDEO_URI")) {
        showToast("Please, set the video URI in HelloAndroidActivity.java in onClick(View v) method");
    } else {
        new Thread(new Runnable() {
            public void run() {
                try {
                    player.setDataSource(VideoSample.this, Uri.parse(extras.getString("video_path")));
                    //player.setDataSource(extras.getString("video_path"));
                    //player.start();
                    player.prepare();
                } catch (IllegalArgumentException e) {
                    showToast("Error while playing video");
                    Log.i(TAG, e.getMessage());
                    e.printStackTrace();
                } catch (IllegalStateException e) {
                    showToast("Error while playing video");
                    Log.i(TAG, e.getMessage());
                    e.printStackTrace();
                } catch (IOException e) {
                    showToast("Error while playing video. Please, check your network connection.");
                    Log.i(TAG, e.getMessage());
                    e.printStackTrace();
                }
            }
        }).start();
    }
}

private void showToast(final String string) {
    runOnUiThread(new Runnable() {
        public void run() {
            Toast.makeText(VideoSample.this, string, Toast.LENGTH_LONG).show();
            finish();
        }
    });
}

private void hideMediaController() {
    new Thread(new Runnable() {
        public void run() {
            try {
                Thread.sleep(5000);
                runOnUiThread(new Runnable() {
                    public void run() {
                        linearLayoutMediaController.startAnimation(hideMediaController);
                    }
                });
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }).start();
}

public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {
    Log.i(TAG, "========== onProgressChanged : " + progress + " from user: " + fromUser);
    if (!fromUser) {
        textViewPlayed.setText(Utils.durationInSecondsToString(progress));
    }
}

public void onStartTrackingTouch(SeekBar seekBar) {
}

public void onStopTrackingTouch(SeekBar seekBar) {
    if (player.isPlaying()) {
        progressBarWait.setVisibility(View.VISIBLE);
        player.seekTo(seekBar.getProgress() * 1000);
        Log.i(TAG, "========== SeekTo : " + seekBar.getProgress());
    }
}

public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {

}

public void surfaceCreated(SurfaceHolder holder) {
    playVideo();
}

public void surfaceDestroyed(SurfaceHolder holder) {

}

public void onPrepared(MediaPlayer mp) {
    Log.i(TAG, "========== onPrepared ===========");
    int duration = mp.getDuration() / 1000; // duration in seconds
    seekBarProgress.setMax(duration);
    textViewLength.setText(Utils.durationInSecondsToString(duration));
    progressBarWait.setVisibility(View.GONE);

    // Get the dimensions of the video
    int videoWidth = player.getVideoWidth();
    int videoHeight = player.getVideoHeight();
    float videoProportion = (float) videoWidth / (float) videoHeight;
    Log.i(TAG, "VIDEO SIZES: W: " + videoWidth + " H: " + videoHeight + " PROP: " + videoProportion);

    // Get the width of the screen
    int screenWidth = getWindowManager().getDefaultDisplay().getWidth();
    int screenHeight = getWindowManager().getDefaultDisplay().getHeight();
    float screenProportion = (float) screenWidth / (float) screenHeight;
    Log.i(TAG, "VIDEO SIZES: W: " + screenWidth + " H: " + screenHeight + " PROP: " + screenProportion);

    // Get the SurfaceView layout parameters
    android.view.ViewGroup.LayoutParams lp = surfaceViewFrame.getLayoutParams();

    if (videoProportion > screenProportion) {
        lp.width = screenWidth;
        lp.height = (int) ((float) screenWidth / videoProportion);
    } else {
        lp.width = (int) (videoProportion * (float) screenHeight);
        lp.height = screenHeight;
    }

    // Commit the layout parameters
    surfaceViewFrame.setLayoutParams(lp);

    // Start video
    if (!player.isPlaying()) {
        player.start();
        updateMediaProgress();
        linearLayoutMediaController.setVisibility(View.VISIBLE);
        hideMediaController();
    }
    surfaceViewFrame.setClickable(true);
}

public void onCompletion(MediaPlayer mp) {
    mp.stop();
    if (updateTimer != null) {
        updateTimer.cancel();
    }
    finish();
}

/**
 * Change progress of mediaController
 * */
private void updateMediaProgress() {
    updateTimer = new Timer("progress Updater");
    updateTimer.scheduleAtFixedRate(new TimerTask() {
        @Override
        public void run() {
            runOnUiThread(new Runnable() {
                public void run() {
                    seekBarProgress.setProgress(player.getCurrentPosition() / 1000);
                }
            });
        }
    }, 0, 1000);
}

public void onBufferingUpdate(MediaPlayer mp, int percent) {
    int progress = (int) ((float) mp.getDuration() * ((float) percent / (float) 100));
    seekBarProgress.setSecondaryProgress(progress / 1000);
}

public void onClick(View v) {
    if (v.getId() == R.id.surfaceViewFrame) {
        if (linearLayoutMediaController.getVisibility() == View.GONE) {
            linearLayoutMediaController.setVisibility(View.VISIBLE);
            hideMediaController();
        } else if (player != null) {
            if (player.isPlaying()) {
                player.pause();
                imageViewPauseIndicator.setVisibility(View.VISIBLE);
            } else {
                player.start();
                imageViewPauseIndicator.setVisibility(View.GONE);
            }
        }
    }
}

public void onSeekComplete(MediaPlayer mp) {
    progressBarWait.setVisibility(View.GONE);
}

public void onAnimationEnd(Animation animation) {

}

public void onAnimationRepeat(Animation animation) {

}

public void onAnimationStart(Animation animation) {
    linearLayoutMediaController.setVisibility(View.GONE);
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T14:17:58.070

我觉得评论区没有空间。。。

风景：

```
 <?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/hls_frame"
    android:background="#000000"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >
<VideoView
    android:id="@+id/video_player"
    android:layout_height="match_parent"
    android:layout_width="match_parent"
    android:layout_gravity="center"
/>
    <include layout="@layout/player_bar" />
</FrameLayout> 
```

在下面的代码中，活动被传递给一个单独的类（这通常发生在活动本身，但我需要为旧设备支持多个播放器）。感兴趣的方法：

```
public void loadPlayer() {
        _activity.setContentView(R.layout.hls_video_view);
        if (_activity.url == null) {
            Development.ExceptionMsg("Video Url is Null!");
            return;
        }
        VideoView view = (VideoView) _activity.findViewById(R.id.video_player);
        if (!_activity.isLive) {
            //MediaController for vod only
            MediaController controller = new MediaController(_activity);
            controller.setAnchorView(view);
            view.setMediaController(controller);
        }
        _activity.LogStreamStart();
        _activity.HideBuffering();
        view.setOnCompletionListener(this);
        view.setOnPreparedListener(this);
        view.setOnErrorListener(this);
        //this is important, and should perhaps be part of the interface
        view.setOnTouchListener(_activity);
        view.setVideoURI(Uri.parse(_activity.url));
        view.requestFocus();
        view.start();
    } 
```

# android - 最终会因为客户端停止而停止“前台”绑定服务吗？

> ID：13926199
> 
> 赞同：0
> 
> 时间：2012-12-18T04:20:37.170
> 
> 标签：android, broadcastreceiver, android-activity, android-service

**我的要求：**检测并响应电源事件。我有一个允许用户设置响应的活动。UI 进入后台后，应用程序必须保持响应（通过用户操作，即“主页”，或通过例如接听电话）。

**我的分析：**

1.  使用接受 ACTION_POWER_DISCONNECTED（和 ..CONNECTED）的 BroadcastReceiver
2.  我已经在活动中实现了接收器，它按预期工作。它继续在后台工作一段时间，但最终由于正常的android生命周期而停止工作，即。操作系统会破坏它。
3.  （建议）为了保持接收器运行，我遵循[此建议](https://stackoverflow.com/questions/3529834/how-to-keep-a-android-app-always-running)并将其作为服务，使用`startForeground`.
4.  （建议）因为它必须与 UI 交互，即通过接受对其设置的更改，它应该是一个[绑定服务](http://developer.android.com/guide/components/bound-services.html)。

**预期的问题：**

根据文档，当所有客户端解除绑定时，绑定服务将停止。我只有一个客户端（UI），它将在其`onDestroy`方法中解除绑定。这将在客户端被操作系统停止时调用，这最终会在正常的资源管理下发生。

> 当应用程序组件通过调用 bindService() 绑定到服务时，服务被“绑定”。绑定服务提供客户端-服务器接口，允许组件与服务交互、发送请求、获取结果，甚至通过进程间通信 (IPC) 跨进程执行此操作。**绑定服务仅在另一个应用程序组件绑定到它时运行。**多个组件可以一次绑定到服务，但是当所有组件都解除绑定时，服务将被销毁。

**问题**

1.  这个分析正确吗？IE。作为正常操作系统管理的一部分，具有一个 UI 客户端的绑定服务最终会在客户端被销毁时被销毁吗？
2.  如果是这样，我该怎么办？
3.  任何其他提示请:)

作为一个假设被问到，因为设置绑定服务然后证明它按预期停止有相当多的工作。此外，即使它看起来有效，我也可能做错了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T22:11:04.763

为什么不在清单中注册广播接收器？广播电源意图时，它将自动启动和调用。然后你不需要担心任何类型的“保持活动”处理（除非你需要做一些更长的处理，否则你不需要服务）

# android - nexus 7 Linux 内核：使用什么文件进行音量控制黑客攻击？

> ID：13926202
> 
> 赞同：0
> 
> 时间：2012-12-18T04:21:00.370
> 
> 标签：android, linux, linux-kernel, linux-device-driver

我正在尝试进行一个简单的系统调用，它将由 LKM 调用，当我按下向上箭头并使用向下键减小音量时，它将增加我的 nexus 7（基于 tegra）的音量。简单的项目让球滚动以进行更大的黑客攻击。

我的问题是如何本地化为 android 原生处理这些文件的文件。我搜索了 sound/ drivers/ 和 arch/arm/mach-tegra/ 。对于源中的不同硬件有这么多不同版本的固件，有一种方法可以轻松本地化与您相关的文件。例如，当我按下 nexus 上的音量键并在 shell 上执行 dmsg 时，我看到一个类似“gpio:KEY_VOLUMEUP”的 printk。我试图找到这个 printk 作为开始。

任何有关此问题的帮助以及有关内核黑客的更大提示将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-28T07:06:34.407

“gpio : KEY_VOLUMEUP”是来自 GPIO 驱动程序的消息，它对连接到输入引脚的音量键作出反应并模拟键盘（KEY_VOLUMEUP 是键码）。从 LKM 增加音量的一种方法是编写键盘驱动程序并发送 KEY_VOLUMEUP 事件。Linux 内核中有很多不同的键盘驱动程序可以用作示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:47:44.857

对于 nexus 7，音频驱动程序[不是专有](https://developers.google.com/android/nexus/drivers#grouper)的，这意味着您应该能够搜索 printk。您是否尝试`grep -rs 'gpio : KEY_VOLUMEUP' .`过整个内核源代码树？这通常是我最好的选择。

内核黑客技巧，在线阅读 LDD3 书籍：http: [//lwn.net/Kernel/LDD3/](http://lwn.net/Kernel/LDD3/)

# jquery - 垂直对齐 文本 &与 Tweet jQuery 插件

> ID：13926210
> 
> 赞同：0
> 
> 时间：2012-12-18T04:21:48.700
> 
> 标签：jquery, html, css

我目前正在我正在构建的网站上使用 seaofclouds 'Tweet' 插件：

[http://tinyurl.com/c88fx5j](http://tinyurl.com/c88fx5j)

Tweet 插件是使用 jQuery 和 CSS 预先构建的，我已经弄清楚如何通过 CSS 设置我喜欢的插件样式，但是没有与 Twitter 用户的头像垂直对齐的 li 项目让我失望，我无法做到弄明白。

我想将 mdidle 中的 li 文本与每个帖子左侧的 Twitter 头像垂直对齐，如何做到这一点？

**我的 CSS：**

```
 .tweet,
.query {
    font: 14px sans-serif;
    color: #000000;
}

    .tweet_list {
        -webkit-border-radius: 0.5em;
        -moz-border-radius: 0.5em;
        border-radius: 0.5em;
        list-style: none;
        margin: 0;
        padding: 0;
        overflow-y: hidden;
        background-color: #fff;

    }

        .tweet_list li {
            overflow-y: auto;
            overflow-x: hidden;
            padding: 0.5em;
            list-style-type: none;
            vertical-align: middle;         
            display: inline-block;

        }

        .tweet_list li a {
                color: #0099FF;
                text-decoration:underline;
                padding-right: 5px;
            }

        .tweet_list .tweet_even {
            background-color: #fff;
        }

        .tweet_list .tweet_avatar {
            padding-right: 15px;
            float: left;

        }

            .tweet_list .tweet_avatar img {

                width:60px;
                height:60px;

            } 
```

**HTML 很简短，只是一个包含推文的包装：**

```
/*Tweet*/

    #tweet-wrap {   
        padding-top: 20px;
        padding-bottom: 160px;
        width: 960px;
        height: 160px;
        margin-left: auto; 
        margin-right: auto;
        overflow: hidden;

    } 
```

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T06:47:45.190

您需要在相应的`css`文件中更改以下样式，

```
.tweet_list li {
    overflow-y: auto;
    overflow-x: hidden;
    padding: 0.5em 0;
    list-style-type: none;
    vertical-align: middle;
    display: table;
}

.tweet_list .tweet_avatar {
    margin-right: 15px;
    float: left;
    padding: 0;
}

.tweet_time {
    display: table-cell;
    vertical-align: middle;
    height: 57px;
    min-width: 108px;
    padding-right: 3px;
}

.tweet_join {
    display: table-cell;
    vertical-align: middle;
    min-width: 56px;
    padding-right: 3px;
}

.tweet_text {
    display: table-cell;
    vertical-align: middle;
} 
```

**PS**：`...`功能的 css 修复（我们在聊天中讨论过）不适用于句子/嵌套的 html 元素，因此您可能必须在 jQuery 中进行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:50:34.600

检查您的代码后，我认为您只需要为`line-height`您的每个`li`内部指定`tweet_list`，它应该没问题：

```
ul.tweet_list li {
    line-height: 4em;
} 
```

希望能帮助到你 ：）

**更新**

好的，如果超过 1 行文本，第一个解决方案似乎很糟糕，我在这里有点懒，所以如果我是你，我会使用这个解决方案，试试这个并告诉我这种方法是否有问题：

```
.tweet_list li .tweet_time, .tweet_join, .tweet_text {
    position: relative;
    top: 20px;
} 
```

# javascript - 检查 Javascript 中函数参数的类型

> ID：13926213
> 
> 赞同：9
> 
> 时间：2012-12-18T04:21:57.930
> 
> 标签：javascript

在 Javascript 中，有没有办法检查函数参数的类型？我想编写一个名为的函数`checkTypes`，它执行以下操作：

```
function checkTypes(typeArr){
    //if the types do not match typeArr, throw an error
}

function exampleUsage(arr1, arr2, num1){
    checkTypes("object", "object", "number");
    //throw an error if the types do not match the corresponding elements
} 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-18T04:33:30.720

您可以使用`typeOf`改编自这篇文章[Fixing the JavaScript typeof operator](http://javascriptweblog.wordpress.com/2011/08/08/fixing-the-javascript-typeof-operator/)的函数与此函数相结合：

```
function typeOf( obj ) {
  return ({}).toString.call( obj ).match(/\s(\w+)/)[1].toLowerCase();
}

function checkTypes( args, types ) {
  args = [].slice.call( args );
  for ( var i = 0; i < types.length; ++i ) {
    if ( typeOf( args[i] ) != types[i] ) {
      throw new TypeError( 'param '+ i +' must be of type '+ types[i] );
    }
  }
}

function foo( a,b,c ) {
  checkTypes( arguments, ['string', 'number', 'array'] );
  return 'foo';
}

console.log( foo( 'a', 1, [2] ) ); //=> foo
console.log( foo( 1, 1, [2] ) ); 
//^ Uncaught TypeError: param 0 must be of type string 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-12-18T06:27:21.163

[`typeof`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/typeof)在这种情况下不要使用。有几个原因是有问题的：

```
typeof null                 // 'object'
typeof []                   // 'object'
typeof 'foo'                // 'string'
typeof new String('foo')    // 'object'
'foo' == new String('foo')  // true 
```

相反，使用`Object::toString`：

```
Object.prototype.toString.call(null)               // '[object Null]'
Object.prototype.toString.call([])                 // '[object Array]'
Object.prototype.toString.call('foo')              // '[object String]'
Object.prototype.toString.call(new String('foo'))  // '[object String]' 
```

装饰师将满足您的要求：

```
var getType = function(value) {
  return Object.prototype.toString.call(value)
    .replace(/^\[object |\]$/g, '').toLowerCase();
};

var checkTypes = function(types, fn) {
  return function() {
    var args = Array.prototype.slice.call(arguments, 0);
    for (var idx = 0; idx < types.length; idx += 1) {
      var expected = types[idx];
      var received = getType(args[idx]);
      if (received != expected) {
        throw new TypeError('expected ' + expected + '; received ' + received);
      }
    }
    fn.apply(null, args);
  };
};

var exampleUsage = checkTypes(['array', 'array', 'number'], function(arr1, arr2, num1) {
  console.log('arr1:', arr1);
  console.log('arr2:', arr2);
  console.log('num1:', num1);
}); 
```

使用示例：

```
exampleUsage([], [], 0);
// arr1: []
// arr2: []
// num1: 0

exampleUsage([], [], 'foo');
// TypeError: expected number; received string 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-18T04:44:07.857

您可以使用伪数组的修改版本`typeof`来`arguments`获取每个参数类型并将其与所需的类型集进行比较：

```
// from Doug Crockford http://javascript.crockford.com/remedial.html
function typeOf(value) {
    var s = typeof value;
    if (s === 'object') {
        if (value) {
            if (Object.prototype.toString.call(value) == '[object Array]') {
                s = 'array';
            }
        } else {
            s = 'null';
        }
    }
    return s;
}

function checkTypes(argList, typeList) {
    for (var i = 0; i < typeList.length; i++) {
        if (typeOf(argList[i]) !== typeList[i]) {
            throw 'wrong type: expecting ' + typeList[i] + ", found " + typeOf(argList[i]);
        }
    }
} 
```

工作演示：http: [//jsfiddle.net/jfriend00/ywyLe/](http://jsfiddle.net/jfriend00/ywyLe/)

* * *

示例用法：

```
function exampleUsage(arr1, arr2, num1){
    //throw an error if the types do not match the corresponding elements
    checkTypes(arguments, ["array", "array", "number"]);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-18T04:24:50.413

您正在寻找[typeof](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/typeof)运算符。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-18T04:47:18.950

大多数事情的typeof函数返回对象，

```
alert(typeof("this is string")); /* string */
alert(typeof(1234)); /* number */
alert(typeof([])); /* object */
alert(typeof({})); /* object */
alert(typeof(new Date)); /* object */
alert(typeof(function(){})); /* function */ 
```

但是 jQuery 可以通过这个函数识别 jQuery.type( obj ) [http://api.jquery.com/jQuery.type/](http://api.jquery.com/jQuery.type/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-07-26T03:38:47.927

如果有人正在寻找类似需求的环境解决方案，我可以推荐[typeof-arguments](https://www.npmjs.com/package/typeof-arguments)包。

```
const checkTypes = require('typeof-arguments');

function exampleUsage(arr1, arr2, num1){
  checkTypes(arguments,["object", "object", "number"]);
  //throw an error if the types do not match the corresponding elements
} 
```

* * *

## 回答 #7

> 赞同：-4
> 
> 时间：2012-12-18T04:31:51.607

JavaScript 不适合类型。此外，您不能从调用函数神奇地访问父函数的参数。

如果您不想头疼，请使用一些简单的库来检查类型。

例如，使用[underscore.js](http://underscorejs.org/) ，您可以编写如下内容：

```
function exampleUsage(arr1, arr2, num1) {
  if(!_.isArray(arr1) || !_.isArray(arr2) || !_.isNumber(num1) {
    throw "Wrong types"
  }
  // do other stuff
} 
```

您可能害怕类型，因为您可能是动态语言的新手。你会发现这并不像看起来那么糟糕，但是 JavaScrip 很糟糕（出于许多其他原因）

# python - python中的数据结构：最好的方法或如何添加或分配新字典？

> ID：13926214
> 
> 赞同：0
> 
> 时间：2012-12-18T04:21:59.370
> 
> 标签：python, data-structures

我想要这个`mydict = {upperkey:{key:value,...},...}`和`keys[key1, key2, key3...]`。一开始我创建了：

```
mydict = {} 
```

然后：

```
if upperkey not in mydict:
    mydict[upperkey]= dict([(keys[index+1], value)])
else:
    mydict[upperkey][keys[index+1]]= value 
```

这种方式效果很好，但我发现它有点多余，而且使用起来`mydict[upperkey]= dict([(keys[index+1], value)])`不是很优雅。但是，`mydict[upperkey][keys[index+1]] = value`除非 mydict 中已经存在字典，否则它不起作用。

有人有更好的方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-18T04:40:07.050

你在追求`defaultdict`吗？

```
from collections import defaultdict
x = defaultdict(dict)
x[3][4] = 'hi' 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-18T04:49:27.037

使用[`setdefault`](http://docs.python.org/2/library/stdtypes.html#dict.setdefault)：

```
mydict.setdefault(upperkey, {})[index+1] = value 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-18T04:48:19.770

您可以使用该[`.setdefault(key[, default])`方法](http://docs.python.org/2/library/stdtypes.html#dict.setdefault)

```
subdict = mydict.setdefault(upperkey, dict([(keys[index+1], value)]))
subdict[keys[index+1]]= value 
```

# python - Python（Pygame）在特定间隔内返回角度

> ID：13926215
> 
> 赞同：0
> 
> 时间：2012-12-18T04:22:07.057
> 
> 标签：python, rotation, pygame, intervals, angle

我有这个代码：

```
def getAngle(x1, y1, x2, y2):
rise = y1 - y2
run = x1 - x2
angle = math.atan2(run, rise) # get the angle in radians
angle = angle * (180 / math.pi) # convert to degrees
angle = (angle) % 360 # adjust for a right-facing sprite
return angle 
```

...根据屏幕上的鼠标位置返回一个角度。

我想设置一个时间间隔，我的对象的旋转将在特定点停止。例如：如果角度大于 90°，我希望我的对象停止获得更高的角度。在这种情况下，90° 应该像旋转停止的某个边界。

我认为我需要 2 个条件，因为角度不应该高于左右 90°。

有人知道如何解决这个问题吗？

这部分代码在游戏循环中（它使用定义的 getAngle）：

```
 mousex, mousey = pygame.mouse.get_pos()
    for cannonx, cannony in (((width/2)-45, height-25), ((width/2)-45, height-25)):
        degrees = getAngle(cannonx, cannony, mousex, mousey)
        rotcannonImg = pygame.transform.rotate(cannonImg, degrees)
        rotcannonRect = rotcannonImg.get_rect()
        rotcannonRect.center = (cannonx, cannony)
        windowSurface.blit(rotcannonImg, rotcannonRect) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:31:44.887

“角度不应该高于左右90°”这句话在英语中没有明确的含义，所以我不确定你的意思。然而，下图显示了当点 (x1, y1) 位于线交叉处且 (x2, y2) 尤其是八分圆时，各种角度与上升和运行符号之间的关系。注意，dy = 上升，dx = 运行。也就是说，您可能能够测试上升迹象并运行以获得您想要的信息。 ![线和八分圆关系](../Images/555a8bbb46f02d830f0d1272bddd70c6.png)

# c++ - 无法从我创建的 ac 二进制程序中删除记录

> ID：13926224
> 
> 赞同：1
> 
> 时间：2012-12-18T04:22:41.753
> 
> 标签：c++

感谢您的预期帮助。我一直在看这段代码几个小时和几天，但我似乎无法找出为什么我的 delRecFunc() 一次不只删除一条记录。它似乎正在删除整个文件。

```
 #include <iostream>
    #include <fstream>
    #include <stdlib.h>
    #include <string>
    #include <iomanip>

 using namespace std;

 const int NAME_SIZE = 40, ADDR_SIZE = 50, PHONE_SIZE = 14;
char y, Y;
struct Info
 {
 char name[NAME_SIZE];
 int age;
 char address1[ADDR_SIZE];
 char phone[PHONE_SIZE];

   }people;

 void popFunc();
 void dispFunc();
 void appFunc();
 void delRecFunc();
 void searchFunc();
 void modRecFunc();
 int getNumRec();
 int validateRecord (int);
 void wipeFunc();
int main()
 {
 Info person;
char choice, option;
cout << " The file we are working with is named stuff.dat,\n"
     << "I will let you know if it unavailable "  << endl;
 cout << "  "<< endl;
do
{

 cout << "  \n \n Simple People Records...  \n \n \n "
     << "     Please choose from the following options: \n \n \n"
     << " 1\.  POPULATE THE BINARY FILE \n"
     << " 2\.  DISPLAY THE CONTENTS OF THE FILE\n"
     << " 3\.  APPEND A RECORD TO THE FILE\n"
     << " 4\.  DELETE A RECORD FROM THE FILE\n"
     << " 5\.  SEARCH FOR A CERTAIN RECORD\n"
     << " 6\.  MODIFY A CERTAIN RECORD. \n"
     << " 7\.  WIPE OUT THE ENTIRE CONTENTS OF THE FILE. \n" <<endl;
cin  >> option;

 switch(option)
 {
               case '1': popFunc();
                        system("pause");
                         break;

              case '2': dispFunc();
                      break;

              case '3': appFunc();
                      break;

              case '4': delRecFunc();
                      break;

              case '5':searchFunc();
                     break;

              case '6':modRecFunc();
                     break;

              case '7':wipeFunc();
                     break;

              }
}
  while(choice!= 1000);

 system("pause");
 return(0);
 }

void popFunc()

 {    fstream file("stuff.dat", ios::out | ios::binary);

 if (file.fail())
   {    
        cout << "the file does not exist so we are creating it now...  ";
        system("pause");
        file.open("stuff.dat", ios::out);   

   }

cout << "enter the following data about a person:  "<<endl;
cout << "Name: "  <<endl;
cin >> ws;
cin.getline(people.name,NAME_SIZE);
cout << "Age (integers only or the program will be corrupted):  " <<endl;
cin >> people.age;
cin.ignore(); //skip over the remaining newline.
cout<< "Address line 1:  ";
cin >> ws;
cin.getline(people.address1,ADDR_SIZE);
cout << "Phone:  in the following format ie: 201.123.1234 (no hyphens)";
cin >> ws;
cin.getline(people.phone,PHONE_SIZE);
file.write(reinterpret_cast<char *>(&people), sizeof(people));
file.close(); 
}

void dispFunc()

{

         ifstream file;
     file.open("stuff.dat", ios::binary);
         if (file.fail())
   {    
        cout << "the file does not exist so we are creating it now...  ";
        system("pause");
        file.open("stuff.dat", ios::out);   

   }

     while(file.read(reinterpret_cast<char *> (&people), sizeof(people)))
     {
     cout << "Name:  "<< people.name <<endl;
     cout << "Age:  "<< people.age <<endl;
     cout << "Address:  " <<people.address1 <<endl;
     cout << "Phone #: " <<people.phone << " \n\n"<<endl;
     }
     file.close();

     }

void appFunc()
 {    ofstream file;
     file.open("stuff.dat",  ios::binary | ios::app); 
         if (file.fail())
   {    
        cout << "the file does not exist so we are creating it now...  ";
        system("pause");
        file.open("stuff.dat", ios::out);   

   }

cout << "Name: "  <<endl;
cin >> ws;
cin.getline(people.name,NAME_SIZE);
cout << "Age (integers only or the program will be corrupted):  " <<endl;
cin >> people.age;
cin.ignore(); //skip over the remaining newline.
cout<< "Address line 1:  ";
cin >> ws;
cin.getline(people.address1,ADDR_SIZE);
cout << "Phone:  Phone:  in the following format ie: 201.123.1234 (no hyphens)";
cin >> ws;
cin.getline(people.phone,PHONE_SIZE);
    file.write(reinterpret_cast<char *>(&people), sizeof(people));
    file.close();

     }

 void searchFunc()
 {
 int count =1;
 int answer;
 long recNum;
 int recCount = getNumRec();
 fstream search;
 search.open("stuff.dat", ios::in | ios:: binary);
 cout << " Please enter 1 - " <<recCount ;
 cout << "  and I will display the data /n"<<endl;
 cin >>recNum;

  while(recNum<1 || recNum > recCount)
 {
     cout<<"Please enter a number between 1 and "<<recCount<<": ";
     cin>>recNum;
 }   
  answer = validateRecord(recNum);
 }
 void modRecFunc()

{
 int count=1;
 int answer;//to hold choice from the user
 long recNum;//to hold a record number
 int recCount = getNumRec();//variable to hold how many record the file has     
 fstream search;
 //open file
 search.open("stuff.dat",ios::in|ios::out|ios::binary);
 cout<<"Which record do you wish to edit? ";
 cin>>recNum;//variable to store the record the user wish to delete
 //validation so the user is not allow to enter more numbers than the actual
 //size of the file
 while(recNum<1||recNum>recCount)
 {
     cout<<"Please enter a number between 1 and "<<recCount<<": ";
     cin>>recNum;
 }     
 //move pointer to desire position
 cout<<endl;
 answer= validateRecord(recNum);//make sure the record is the right one
 cout<<endl;
 if(answer==1)
 {  
    //get the new data
 cout << "Name: "  <<endl;
 cin >> ws;
 cin.getline(people.name,NAME_SIZE);
 cout << "Age (integers only or the program will be corrupted):  " <<endl;
 cin >> people.age;
 cin.ignore(); //skip over the remaining newline.
 cout<< "Address line 1:  ";
 cin >> ws;
   cin.getline(people.address1,ADDR_SIZE);
 cout << "Phone:  Phone:  in the following format ie: 201.123.1234 (no hyphens)";
 cin >> ws;
 cin.getline(people.phone,PHONE_SIZE);
    search.seekp((recNum-1)*sizeof(people), ios::beg);
    search.write(reinterpret_cast<char *>(&people), sizeof(people));
    }
    cout<<endl;
search.close();              
}

 void wipeFunc()

 {    char option;
     ofstream file;
     cout << "This option will delete all the contents of the file "<<endl;
     cout << " Are you sure you want to delete the file?  Y or N " <<endl;
     cin >> option;
           if (option == 'y' || option == 'Y')

              {
                      cout << " Warning, if you hit Y, you will lose everything " <<endl;
                      cout << " Y to confirm,  N to return to main menu" <<endl;
                      cin >> option;

                          if(option == 'y' || option == 'Y')
                             {
                                    file.open("stuff.dat", ios::out | ios::binary);
                                    file.close();
                                    }      

     }
     }

int validateRecord (int recNum)
{
 int answer;// variable to hold the answer from the user
 fstream validate;
 //open file
 validate.open("stuff.dat",ios::in|ios::out|ios::binary);
 validate.seekg((recNum-1)*sizeof(people));
 //read record from file
 validate.read(reinterpret_cast<char*>(&people),sizeof(people));
      cout<<endl;

     cout << "the name is "<< people.name <<endl;
     cout << "the age is "<< people.age <<endl;
     cout << "the address is" <<people.address1 <<endl;
     cout << "the phone is Phone:  " <<people.phone <<endl;

 cout<<"Is this the file you want?\n"
       "1\. yes\n"
       "2\. no\n"
       "Choice: ";
 cin>>answer;
// validate answer to 1 or 2
 while(answer<1||answer>2)
 {
     cout<<"enter only 1 or 2: ";
     cin>>answer;
 }
 cout<<endl;
 validate.close();
 return answer;
}

int getNumRec()   
{
int count =0;
fstream file;  

file.open("stuff.dat", ios::in|ios::binary);

if (file.fail())
{

  cout << "Error opening file. Program aborting.\n";
}

  file.read(reinterpret_cast<char *>(&people),sizeof(people));

while (!file.eof())
{

   count++;

  file.read(reinterpret_cast<char *>(&people),
           sizeof(people));
}

file.close();//close the file
return count;//return count the erase function
}

void delRecFunc()
{
 int  count=1;
 int answer;            //to hold choice from the user
 double recNum;//to hold the record number the user wishes to delete
 int recCount = getNumRec();//variable to hold how many record the file has     

 fstream erase;
 erase.open("stuff.dat", ios::in|ios::out|ios::binary);

 Info Temp;            //*****NEW TEMP STRUCT VAR*****//

      cout << "Please enter the phone number of the person you want to delete in this 
     format 201.123.1111)";
     cin >> recNum;       

  //move pointer to desire position
  erase.seekg((recNum-1)*sizeof(people));
 //read record from file
 erase.read(reinterpret_cast<char*>(&people),sizeof(people)); //read record from file
 //get answer from the validateRecord function
  answer = validateRecord (recNum);
  if(answer == 1)
  {                          
     ofstream copy;
     copy.open("stuff2.dat", ios::out | ios::binary);

     erase.seekg(0*sizeof(people));   // Move pointer to beginning of the file
     erase.read(reinterpret_cast<char*>(&people),sizeof(people));

// BEGIN NEW CODE //

    // Keep looping till there are no more records in the customer.dat file
     while (!erase.eof())
     {                 
         // If the id that the user wants deleted doesnt match the current
         // records id, copy it to the temp directory
         if(people.phone != Temp.phone)                                     
         {
             // Write the record to copy.dat
             copy.write(reinterpret_cast<char*>(&people),sizeof(Info)); 
         }

         // Read the next line from customer.dat
         erase.read(reinterpret_cast<char*>(&people),sizeof(Info));             
      }

     // Close both files
     erase.close();
     copy.close();
  }    
  // Delete the Old customer.dat file
  remove("stuff.dat");

  // Rename the temporary holder to "customer.dat"
  rename("stuff2.dat","stuff.dat");

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:29:16.763

您正在使用格式不正确的双精度数（从 cin >> recNum 输入），在文件中寻找那么远的 (*sizeof(people) ，然后从那里开始。似乎您需要从那里开始。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:34:01.250

看起来您在 recNum 中输入电话号码（格式为 201.123.1111）并进行搜索，这将给出不正确的结果

# android - Android 的运动事件

> ID：13926226
> 
> 赞同：0
> 
> 时间：2012-12-18T04:22:44.700
> 
> 标签：android, eclipse, motionevent

这段代码有什么问题？

```
package com.evorlor.samplecode;

import android.app.Activity;

public class MotionEvent extends Activity {

    public boolean onTouchEvent(MotionEvent me) {
        int i = me.getAction();

        switch (i) {

        case MotionEvent.ACTION_DOWN:
            // When your finger touches the screen

            break;

        case MotionEvent.ACTION_UP:
            // When your finger stop touching the screen

            break;

        case MotionEvent.ACTION_MOVE:
            // When your finger moves around the screen

            break;
        }

        return false;
    }

} 
```

它给出了错误：

.getAction() 上的 MotionEvent 类型的方法 getAction() 未定义。它不会让我导入：

```
import android.view.MotionEvent; 
```

据我所知，它与此工作代码相同（除了它不允许我导入导入 android.view.MotionEvent;）：

```
package com.evorlor.counter;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.Gravity;
import android.view.MotionEvent;
import android.view.View;
import android.widget.TextView;

public class Counter extends Activity {

    private static int count = 0;
    private static int hiCount = 0;
    private static boolean capCount = false;
    public static boolean resetCount = false;
    public static boolean askReset = false;

    public boolean onTouchEvent(MotionEvent me) {
        if (me.getAction() == MotionEvent.ACTION_UP) {
            count++;
        }

        onCreate(null);

        return false;
    }
} 
```

谢谢您的帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-18T04:25:57.267

将您的 Activity 重命名为其他名称，它与它需要的实际 MotionEvent 类冲突。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T04:25:54.643

你定义的类名隐藏了android.view.MotionEvent

```
public class MotionEvent 
```

改一下类名，你的问题就解决了

# php - 如何将 -SELECT- 放入选择菜单

> ID：13926236
> 
> 赞同：0
> 
> 时间：2012-12-18T04:24:21.827
> 
> 标签：php, mysql

我的问题是我必须将选择菜单的 SELECT 代码放在哪里，我尝试放入 mysql 但如果我输入 SELECT 一词，我必须再次插入与国家名称相关的所有数据。我仍然使用 php 开发自己，希望你们帮我在 SELECT MENU BOX 中举个例子：

-选择-
美国

英国

韩国

日本

在我从我们的朋友那里运行这段代码后，它出现了 Parse error: parse error in C:\wamp.... 在第 411 行

```
 <?php
        $mysqlserver="localhost";
        $mysqlusername="root";
        $mysqlpassword="";
        $link=mysql_connect(localhost, $mysqlusername, $mysqlpassword) or die ("Error connecting to mysql server: ".mysql_error());

        $dbname = 'doktor';
        mysql_select_db($dbname, $link) or die ("Error selecting specified database on mysql server: ".mysql_error());
        ?>
        <select id="Country" name="Country">
        <option value="">- SELECT - </option>
            <?php
         $cdquery="SELECT COUNTRY, ID FROM Country";
        $cdresult=mysql_query($cdquery) or die ("Query to get data from firsttable failed: ".mysql_error());
        while ($cdrow=mysql_fetch_array($cdresult)) {
            $cdTitle =$cdrow[COUNTRY];
            $cdId = $cdrow[COUNTRY];
             ?>
        <option value="<?php echo $cdId; ?>"><?php echo $cdTitle; ?></option>
         <?
            }
         ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:28:28.563

将您的 Select 标签放在循环之外。

```
echo "<select>";
  while ( $cdrow = mysql_fetch_array( $cdresult ) ) {
    $cdTitle = $cdrow[COUNTRY];
    echo "<option>".$cdTitle."</option>";
  }
echo "</select>"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:36:11.837

我会这样做：

```
<?php
$mysqlserver = "localhost";
$mysqlusername = "root";
$mysqlpassword = "";
$link = mysql_connect(localhost, $mysqlusername, $mysqlpassword) or die ("Error connecting to mysql server: ".mysql_error());

$dbname = 'doktor';
mysql_select_db($dbname, $link) or die ("Error selecting specified database on mysql server: ".mysql_error());
?>
<select id="Country" name="Country">
    <option value="">- SELECT - </option>
    <?php
    $cdquery = "SELECT COUNTRY FROM country";
    $cdresult = mysql_query($cdquery) or die ("Query to get data from first table failed: ".mysql_error());
    while ($cdrow = mysql_fetch_assoc($cdresult)) {
        $cdTitle = $cdrow['COUNTRY'];
    ?>
        <option value="<?php echo $cdTitle; ?>"><?php echo $cdTitle; ?></option>
    <?php
    }
    ?>
</select> 
```

如果你使用[mysql_fetch_array()](http://php.net/manual/en/function.mysql-fetch-array.php)，你应该使用`$cdrow[0]`，或者如果你使用[mysql_fetch_assoc()](http://php.net/manual/en/function.mysql-fetch-assoc.php)，你应该使用`$cdrow['COUNTRY']`. 否则，您将收到通知。

# mysql - Mysql追加列值

> ID：13926239
> 
> 赞同：14
> 
> 时间：2012-12-18T04:24:37.880
> 
> 标签：mysql

我有具有以下结构的表

```
 ----------------------------
       id                  content
      ---------------------------
        1                   abc
        2                   bca
      --------------------------- 
```

我想在字段“内容”中附加字符“d”......所以我想要表结构如下

```
 ----------------------------
       id                  content
      ---------------------------
        1                   abcd
        2                   bca
      --------------------------- 
```

我怎样才能做到这一点..

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-12-18T04:39:58.560

如果要更新表中的列，请使用以下查询

```
update table1 set content = concat(content,'d'); 
```

如果要选择与 'd; 的列连接；查询下面的使用

```
select id, concat(content,'d') as content from table1; 
```

参考 ：

[http://sqlfiddle.com/#!2/099c8/1](http://sqlfiddle.com/#!2/099c8/1)

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2012-12-18T04:27:36.370

你可以使用[**`CONCAT`**](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_concat), 像这样

```
SELECT 
  id,
  CONCAT(content, 'd') content
FROM tablename; 
```

您还可以指定一个`WHERE`子句来确定要更新哪些行。就像是：

```
SELECT 
  id,
  CONCAT(content, 'd') content
FROM tablename
WHERE id = 1; 
```

# shell - nohup - 权限被拒绝

> ID：13926240
> 
> 赞同：3
> 
> 时间：2012-12-18T04:24:39.680
> 
> 标签：shell, nohup

我正在尝试在 Ubuntu 上为 OrientDB（数据库）工作的启动脚本。

这是当前导致问题的行：

```
ORIENTDB_DIR="/usr/local/orientdb"
ORIENTDB_USER="www-user"
sudo -u $ORIENTDB_USER sh -c "cd \"$ORIENTDB_DIR/bin\"; /usr/bin/nohup server.sh 1>../log/orientdb.log 2>../log/orientdb.err &" 
```

如果我启动脚本，它会导致：

```
sh: 1: cannot create ../log/orientdb.log: Permission denied 
```

这是设置：

*   `www-user`在 sudoers 文件中
*   `server.sh`并且上面发布的任何 shell 脚本都具有 root 的执行权限。
*   如果我将脚本更改为： `sudo -u $ORIENTDB_USER sh -c "cd \"$ORIENTDB_DIR/bin\"; /usr/bin/nohup pwd 1>/home/www-user/test.log &"`，则`test.log`显示`/usr/local/orientdb/bin/`为工作目录。
*   `/usr/local/orientdb/log`存在但是一个空文件夹。

鉴于上述情况以及我`sudo`用来提升用户的事实，为什么仍然拒绝许可？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T04:54:54.477

尝试将脚本的最后一行重写为：

```
sudo -u $ORIENTDB_USER sh -c "/usr/bin/nohup \"$ORIENTDB_DIR\"/bin/server.sh 1> \"$ORIENTDB_DIR\"/log/orientdb.log 2> \"$ORIENTDB_DIR\"/log/orientdb.err &" 
```

如果这仍然不起作用，那么`www-user`可能没有写入权限`/usr/local/orientdb/log`（请注意，您说`/usr/local/orientdb/logs`存在但是一个空文件夹：其中一个`s`在末尾有一个）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T02:19:50.833

您可能`sudo`有点误解——`sudo`不一定提升用户的权利；事实上，这可能会减少他们拥有的权利。当您传递标志时，它将更改为该用户`sudo`。`-u`如果该用户拥有更多权限——`root`例如​​（默认的 if`-u`未通过）——那么您将获得更多权限。如果用户拥有较少的权限——`nobody`例如​​——你将拥有较少的权限。您说该`log`目录具有以下权限：

```
drwxrwxr-x 2 root root 4096 Dec 11 10:13 /usr/local/orientdb/log 
```

但是，您正在更改为`www-user`用户。`www-user`用户，除非它是组的一部分（`root`不太可能），否则将无法写入该目录：它只能由所有者和组写入，并且`www-user`显然不是`root`用户并且`www-user`可能不是`root`组的一部分。

简而言之，`-u`如果您想提升到`root`.

# android - Google Play 应用内计费演示 TrivialDrive 中的编译错误

> ID：13926242
> 
> 赞同：1
> 
> 时间：2012-12-18T04:24:48.880
> 
> 标签：android, google-play

对不起我的英语不好。我不住在说英语的国家。我下载了谷歌的应用内计费演示并尝试编译并运行它。但我发现 res/values-v 11 和 v 14 中存在错误。eclipse 告诉我“检索项目的父项时出错：找不到与给定名称匹配的资源 'android:Halo.Light'”

有人以前看过这个吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:40:04.483

将项目的 Java 版本设置为 1.6。右键单击项目，选择“属性”，然后转到“Java 编译器”，单击“启用项目特定设置”并选择 1.6 以符合 JDK。当然，您需要在 Eclipse 中使用 1.6 JDK 才能工作。

# php - 表单提交跳过 jquery.validate 时的常见问题

> ID：13926245
> 
> 赞同：0
> 
> 时间：2012-12-18T04:24:54.940
> 
> 标签：php, jquery, forms, validation

当表单未经验证就提交时常见的问题是什么。前几天我通过验证让它工作正常，但现在它没有验证，只是提交。

这是一个使用 hide show 方法的多页表单，并且由于该函数在他的 form.submit 代码中，所以它也不起作用。我假设它被压倒了，但默认但使用 e.preventdefault() 只会导致提交/下一步按钮没有任何动作。

处理此问题时常见的小问题是什么，例如 jquery url 需要在表单之前，或者表单的脚本也需要在表单之前，等等。可能会意外删除 { 或 ; 是个问题？

这是我的表单脚本

```
 <script type="text/javascript">
                $('form#mainform').submit(function(e) {
                var isValidYear = /^\d{4}$/.test(jQuery('#xxx').val());
                var year_number = parseInt(jQuery('#xxxx').val());
                var first_name = jQuery.trim(jQuery('#xxx').val());
                var last_name = jQuery.trim(jQuery('#xxxx').val());
                var form_email = jQuery.trim(jQuery('#xxxxx').val());
                var street = jQuery.trim(jQuery('#xxxx').val());
                var city = jQuery.trim(jQuery('#xxxx').val());
                var state = jQuery.trim(jQuery('#xxxxx').val());
                var isValidPhone = /^[2-9]\d{2}[2-9]\d{2}\d{4}$/.test(jQuery('#phone_day').val());

                if(current_step == 1){
                    if(!jQuery('#step-1 input["radio"].required').is(":checked")){
                        alert('Please select xxxxxx');
                    }
                    else {
                        $('#mainform fieldset').hide();
                        $('#step-2').show();
                        current_step++; 
                    }
                    return false;
                }

                if(current_step == 2){
                    if(!isValidYear || (year_number > <?php echo date('Y') ?>)){
                        alert('Please enter a Year.');
                    }
                    else {
                        $('#mainform fieldset').hide();
                        $('#step-3').show();
                        current_step++;
                    }
                    return false;
                }

                if(current_step == 3){
                    if(first_name.length <= 0 || first_name == 'First Name' || (!first_name.match(/[a-zA-Z]/)) || (first_name.match(/[0-9]/))){
                        alert('Please enter your First Name.');
                    }
                    else if(last_name.length <= 0 || last_name == 'Last Name' || (!last_name.match(/[a-zA-Z]/)) || (last_name.match(/[0-9]/))){
                        alert('Please enter your Last Name.');
                    }
                    else if(street.length <= 0 || street == 'Street Address'){
                        alert('Please enter your Street Address.');
                    }
                    else if(city.length <= 0 || city == 'City'){
                        alert('Please enter your City.');
                    }
                    else if(state.length <= 0 || state == 'State'){
                        alert('Please enter your State by 2 letter abbreviation.');
                    }
                    else if(country.length <= 0 || country == 'Other'){
                        alert('Please enter your Country.');
                    }
                    else if(!isValidPhone){
                        alert('If your phone number is correct, close this box and then Click the button in the form.');
                    }
                    else {
                        $('form#mainform').submit();    
                    }
                    return false;
                }
            }); 
</script> 
```

这是我在页脚中的验证网址

```
<script src="/jquery/jquery.validate.js"></script> 
```

这是表格

```
<form name="mainform" id="mainform" action="/results" method="post">
        <h2 id="form_headline"><span>xxxxxx</span></h2>
        <p id="form_tagline">xxxxxxxxxxx</p>

        <fieldset id="step-1" class="form_step">

            <div class="meters prog_1"><p>Form Progress:</p></div>    
            <label for="xxxxxx">xxxxxx</label>
            <ul class="col1 form_cols">
                <li><input name="eduLevel" id="eduLevel_4" type="radio" value="4" class="required" />Some High School</li>
            </ul>
            <ul class="col2 form_cols">
                <li><input name="eduLevel" id="eduLevel_18" type="radio" value="18" class="required" /> High School Diploma</li>
            </ul>

        </fieldset><!-- end #step-1 -->

        <fieldset id="step-2" class="form_step">

            <div class="meters prog_2"><p>Form Progress:</p></div>

            <label for="xxxxxxxx">Select a Year</label>
            <select name="xxxxxxx" id="xxxxxx" class="required" >
                <option value="">Select Year</option>
                <option value="2011" >2011</option>
                <option value="2010" >2010</option>
            </select>

        </fieldset><!-- end #step-2 -->

        <fieldset id="step-3" class="form_step">

            <div class="meters prog_3"><p>Form Progress:</p></div>     

            <label for "first_name">First Name</label>
            <input type="text" id="first_name" name="first_name" class="required" />

            <label for "last_name">Last Name</label>
            <input type="text" id="last_name" name="last_name" class="required" />

            <label for "street">Street Address</label>
            <input type="text" id="street" name="street" class="required" />

            <div id="address_line">

                <div id="line_city">            
                    <label for "city">City</label>
                    <input type="text" id="city" name="city" class="required" />
                </div><!-- end .address_line -->

                <div class="line_state">
                    <label for "state">State</label>
                    <select name="state" id="state" class="required" >
                        <option value="">Select State</option>
                        <optgroup label="US States">
                            <option value="AL" >Alabama</option>
                            <option value="AK" >Alaska</option>
                            <option value="AZ" >Arizona</option>
                            <option value="AR" >Arkansas</option>
                            <option value="CA" >California</option>
                            <option value="CO" >Colorado</option>
                            <option value="CT" >Connecticut</option>
                            <option value="DE" >Delaware</option>
                            <option value="DC of Columbia" >District of Columbia</option>
                            <option value="FL" >Florida</option>
                            <option value="GA" >Georgia</option>
                            <option value="HI" >Hawaii</option>
                            <option value="ID" >Idaho</option>
                            <option value="IL" >Illinois</option>
                            <option value="IN" >Indiana</option>
                            <option value="IA" >Iowa</option>
                            <option value="KS" >Kansas</option>
                            <option value="KY" >Kentucky</option>
                            <option value="LA" >Louisiana</option>
                            <option value="ME" >Maine</option>
                            <option value="MD" >Maryland</option>
                            <option value="MA" >Massachusetts</option>
                            <option value="MI" >Michigan</option>
                            <option value="MN" >Minnesota</option>
                            <option value="MS" >Mississippi</option>
                            <option value="MO" >Missouri</option>
                            <option value="MT" >Montana</option>
                            <option value="NE" >Nebraska</option>
                            <option value="NV" >Nevada</option>
                            <option value="NH" >New Hampshire</option>
                            <option value="NJ" >New Jersey</option>
                            <option value="NM" >New Mexico</option>
                            <option value="NY" >New York</option>
                            <option value="NC" >North Carolina</option>
                            <option value="ND" >North Dakota</option>
                            <option value="OH" >Ohio</option>
                            <option value="OK" >Oklahoma</option>
                            <option value="OR" >Oregon</option>
                            <option value="PA" >Pennsylvania</option>
                            <option value="PR" >Peurto Rico</option>
                            <option value="RI" >Rhode Island</option>
                            <option value="SC" >South Carolina</option>
                            <option value="SD" >South Dakota</option>
                            <option value="TN" >Tennessee</option>
                            <option value="TX" >Texas</option>
                            <option value="UT" >Utah</option>

                            <option value="VT" >Vermont</option>
                            <option value="VA" >Virginia</option>
                            <option value="WA" >Washington</option>
                            <option value="WV" >West Virginia</option>
                            <option value="WI" >Wisconsin</option>
                            <option value="WY" >Wyoming</option>
                        </optgroup>
                        <option value="" ></option>
                        <optgroup label="Canada States">
                            <option value="AB" >Alberta</option>
                            <option value="BC" >British Columbia</option>
                            <option value="MB" >Manitoba</option>
                            <option value="NB" >New Brunswick</option>
                            <option value="NL" >Newfoundland &amp; Labrador</option>
                            <option value="NS" >Nova Scotia</option>
                            <option value="NT" >Northwest Territories</option>
                            <option value="NU" >Nunavut</option>
                            <option value="ON" >Ontario</option>
                            <option value="PE" >Prince Edward Island</option>
                            <option value="QC" >Quebec</option>
                            <option value="SK" >Saskatchewan</option>
                            <option value="YT" >Yukon Territory</option>
                        </optgroup>
                    </select>
                </div><!-- end .address_line -->

                <div class="line_country">
                    <label for "country">Country</label>       
                    <select name="country" id="country" class="required" >
                        <option value="US" selected >USA</option>
                        <option value="CA" >Canada</option>
                        <option value="Other" >Other</option>                
                    </select>
                </div>

            </div><!-- end #address_line -->

            <label for "phone_day">Daytime Phone Number</label>
            <input type="text" id="phone_day" name="phone_day" class="required" />

        </fieldset><!-- end #step-5 -->                

        <!--  passing program variable to schools page -->
        <input type="hidden" name="SearchCareerFieldID" value="29" />

        <button id="form_submit" class="form_btn" type="submit" value="" ></button>

    </form><!-- end #mainform --> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-31T14:30:47.180

看看最后几行

```
<script type="text/javascript">
            $('form#mainform').submit(function(e) {
            var isValidYear = /^\d{4}$/.test(jQuery('#xxx').val());
            var year_number = parseInt(jQuery('#xxxx').val());
            var first_name = jQuery.trim(jQuery('#xxx').val());
            var last_name = jQuery.trim(jQuery('#xxxx').val());
            var form_email = jQuery.trim(jQuery('#xxxxx').val());
            var street = jQuery.trim(jQuery('#xxxx').val());
            var city = jQuery.trim(jQuery('#xxxx').val());
            var state = jQuery.trim(jQuery('#xxxxx').val());
            var isValidPhone = /^[2-9]\d{2}[2-9]\d{2}\d{4}$/.test(jQuery('#phone_day').val());

            if(current_step == 1){
                if(!jQuery('#step-1 input["radio"].required').is(":checked")){
                    alert('Please select xxxxxx');
                }
                else {
                    $('#mainform fieldset').hide();
                    $('#step-2').show();
                    current_step++; 
                }
                return false;
            }

            if(current_step == 2){
                if(!isValidYear || (year_number > <?php echo date('Y') ?>)){
                    alert('Please enter a Year.');
                }
                else {
                    $('#mainform fieldset').hide();
                    $('#step-3').show();
                    current_step++;
                }
                return false;
            }

            if(current_step == 3){
                if(first_name.length <= 0 || first_name == 'First Name' || (!first_name.match(/[a-zA-Z]/)) || (first_name.match(/[0-9]/))){
                    alert('Please enter your First Name.');
                }
                else if(last_name.length <= 0 || last_name == 'Last Name' || (!last_name.match(/[a-zA-Z]/)) || (last_name.match(/[0-9]/))){
                    alert('Please enter your Last Name.');
                }
                else if(street.length <= 0 || street == 'Street Address'){
                    alert('Please enter your Street Address.');
                }
                else if(city.length <= 0 || city == 'City'){
                    alert('Please enter your City.');
                }
                else if(state.length <= 0 || state == 'State'){
                    alert('Please enter your State by 2 letter abbreviation.');
                }
                else if(country.length <= 0 || country == 'Other'){
                    alert('Please enter your Country.');
                }
                else if(!isValidPhone){
                    alert('If your phone number is correct, close this box and then Click the button in the form.');
                }
                else {
                    //don't do a submit inside .submit(). It's an infinate loop
                    return true; //instead, return true
                }
            }
            return false; //return false for everything else
        }); 
</script> 
```

# java - javacore文件中的ByteCode是什么意思？

> ID：13926246
> 
> 赞同：0
> 
> 时间：2012-12-18T04:24:56.110
> 
> 标签：java, jakarta-ee, websphere, websphere-7, websphere-6.1

通常，当遍历 javacore 文件时，我们可以看到如下代码堆栈：

```
at com/csii/pe/channel/http/servlet/MainServlet.doGet(Bytecode PC:78(Compiled Code))
at javax/servlet/http/HttpServlet.service(HttpServlet.java:743(Compiled Code))
at javax/servlet/http/HttpServlet.service(HttpServlet.java:856(Compiled Code)) 
```

至于上面的**字节码**这个词，是不是意味着代码来自**自开发的应用程序**，而不是像IBM WAS那样的**中间件？**

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T04:52:48.697

> 至于上面的字节码这个词，是不是意味着代码来自自开发的应用程序，而不是像IBM WAS那样的中间件？

我不这么认为。我认为您误解了它......它是说字节码程序计数器（PC）当时是 78。

（但是，完全限定的类/方法名称是一个赠品......）

# ios5 - 在应用商店中更新 iOS 要求的快速方法？

> ID：13926247
> 
> 赞同：0
> 
> 时间：2012-12-18T04:24:58.447
> 
> 标签：ios5, app-store

我的应用程序昨天获得批准，现在可以在应用程序商店中使用。我刚刚意识到由于 NSLayout 异常，我的应用程序与 iOS 5.0 不兼容。有没有办法可以快速将 iOS 要求更新到 6.0？还是我必须通过应用更新来做到这一点？

时间至关重要，我不希望任何使用 iOS 5.0 的人下载我的应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T04:49:28.160

通过取消选中所有 xib 中的自动布局，我轻松解决了这个问题。希望 Apple 尽快批准我的更新！

# iphone - iPhone html5 视频在 Safari 上使用 airplay 时避免原生全屏

> ID：13926253
> 
> 赞同：1
> 
> 时间：2012-12-18T04:25:49.823
> 
> 标签：iphone, html, video, mobile-safari, airplay

我知道allowInlineMediaPlayback 仅适用于iPad，但我的目标是在AppleTV 上播放视频，而我在Safari 上显示一些动态html 内容。我基本上想摆脱airplay指示器屏幕或以某种方式隐藏它，或者在视频继续播放时打开一个新标签，或者在视频播放时最小化它在我的html页面底部显示一个小的暂停按钮苹果电视。

如果这不可能在 iPhone 上完成，可以在 iPad 上完成吗？我想在 safari 页面上有尽可能多的空间，并且只需要一个视频暂停按钮。

# c# - 如何防止链接按钮的双重提交？

> ID：13926254
> 
> 赞同：0
> 
> 时间：2012-12-18T04:25:51.190
> 
> 标签：c#, asp.net, .net, asp.net-4.0

如何防止重复提交链接按钮。我有一个付款按钮，我想在有人点击它时立即禁用它，如果付款失败则重新启用它。我正在使用 AJAX 和程序化发布到支付网关。

我可以使用以下代码禁用链接按钮：

```
asp:LinkButton ID="btnPayment"  runat="server" onClientClick="this.disabled=true;__doPostBack(this.id,'');" Text='<%#Databinder.Eval(Container.DataItem,"Author")%>' ></asp:LinkButton> 
```

但是，当付款失败时，我该如何重新启用它呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:30:35.247

我认为如果付款失败，您可以在按钮单击处理程序中编写代码来执行 javascript，例如：

```
ScriptManager.RegisterStartUpScript(this.Page, typeof(Page) , "enableBtn" , "$('[$=btnPayment].removeAttr(disabled)')" , true); 
```

这需要jquery。

或者，如果您不想使用 jquery，您也可以调用 document、getelementbyID。

让我知道这是否不是您想要的

我还有一个解决方案，但这似乎很讨厌：

在一开始的时候

```
<asp:LinkButton ID="btnPayment"  runat="server" Text='<%#Databinder.Eval(Container.DataItem,"Author")%>' ></asp:LinkButton> 
```

并使用 jquery 执行此操作：

```
$(document).ready(function() {  $('id$=btnPayment').live("click", function(e) {

  $(this).attr("disabled", "disabled");  
  __doPostBack($(this).attr("id"),'');
   e.preventDefault();
 });  }); 
```

因此，使用 Ajax，您删除了 disabled 属性，因此链接按钮再次变为可点击。

这有意义吗

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T07:44:49.460

在后面的代码中，您可以启用和禁用代码。单击时，首先禁用链接按钮，如果付款成功则启用它。因为上面的代码也会做服务器跳闸，ajax 调用不会触发。

```
btnLogin.Enabled = false;
if (txtUserName.Text == "hh") btnLogin.Enabled = true; 
```

# snort - 如何使 snort 在目标设备上以指定的 daq 类型运行

> ID：13926258
> 
> 赞同：0
> 
> 时间：2012-12-18T04:26:05.530
> 
> 标签：snort

嗨，我想让**snort 2.9.4**在基于**mips-linux**的设备上运行，所以我交叉编译了 snort 和所有支持包。

我在配置 snort 时使用该选项`--disable-static-daq` ，因为我不想使用所有**daq**模式。我需要的只是**afpacket**模式。

当交叉编译正常时，我将 daq_afpacket.so、libsfbpf.so.0.0.1、libdaq.so.2.0.0、libdnet.1.0.1、libpcre.so.0.0.1、libpcap.so.1 移动到目标设备的 /usr/lib 目录。并且二进制 snort 被移动到目标设备的 /bin 目录中。

然后我像这样运行snort：

```
/bin/snort -vde --daq afpacket --daq-dir /usr/lib 
```

输出显示：

在数据包转储模式下运行

```
 --== Initializing Snort ==-- 
```

初始化输出插件！

/usr/lib/daq_afpacket.so：dlopen：找不到文件

分段故障

如果我像这样运行 snort：

```
# /bin/snort -vde --daq afpacket 
```

在数据包转储模式下运行

```
 == Initializing Snort = 
```

初始化输出插件！

错误：找不到afpacket DAQ！

致命错误，退出..

你知道我在这里想念什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T03:31:18.397

让我自己回答：

daq_afpacket.so 依赖于 libsfbpf.so.0，这是一个指向 so libsfbpf.so.0.0.1 的符号链接。然后我必须将 libsfbpf.so.0.0.1 复制到 /usr/lib 并创建指向它的符号链接。

之后，可以像这样启动 snort： /bin/snort -vde --daq afpacket --daq-dir /usr/lib --daq-var buffer_size_mb=2 -i eth0 &

# ruby-on-rails - Rails 3 - strftime

> ID：13926265
> 
> 赞同：0
> 
> 时间：2012-12-18T04:26:55.770
> 
> 标签：ruby-on-rails, strftime

如果我有一个日期时间类型的 :due 列，我将如何调用`.strftime`它？

例如，我有

```
<% @todos.each do |todo|%>
   <%= todo.due.strftime("%h %d") %>
<% end %> 
```

在我的显示视图中，我得到*了 nil:NilClass 的未定义方法“strftime”*

我在控制器的 show 方法中有这个：

`@todos = ProjectTodo.for_project(params[:id])`

**注意：**我不想显示它何时更新或创建，只是想显示一个格式化的日期。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:33:36.790

试试这个..

```
 <% @todos.each do |todo|%>
 <%= todo.due ? todo.due.strftime("%h %d") : nil %>
 <% end %>

      If the date is there then it will convert to the given format else it will display nil. 
```

# mysql - 在 sql 语句中执行 if elseif

> ID：13926267
> 
> 赞同：0
> 
> 时间：2012-12-18T04:27:04.483
> 
> 标签：mysql, sql

在我的数据库中的一个表中，我有一列存储帖子的状态值。因此，如果发布了帖子，则为 0，草稿 = 1，如果尚未由版主查看，则为 2，如果已删除，则为 3

所以表看起来像：

```
postid | status
----------------
  1        0
  2        1
  3        2 
```

我需要根据每个帖子的状态为每个帖子显示一个图标。我可以在 sql 查询本身中做这样的事情，而不是编写更多的 php 代码：

例如：

```
select postid as pId, status as status (if status = 0 {status = '<img src="published.png"'} elseif if status =1 {status = '<img src="draft.png"'} 
```

我希望你明白了。（上面的sql语句只是一个例子）这样的事情可以做到吗。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:29:23.547

您可以使用`CASE`表达式，如下所示：

```
select 
  postid as pId, 
  CASE 
    WHEN status = 0 THEN '<img src="published.png"'
    ELSE '<img src="draft.png"' 
  END AS status
FROM table 
```

# php - jquery限制输入范围

> ID：13926268
> 
> 赞同：0
> 
> 时间：2012-12-18T04:27:04.990
> 
> 标签：php, javascript, jquery, ajax

我有一个将输入作为金额的文本框..我想阻止用户输入大于一定金额的金额..我尝试使用 ajax ..但它没有按我想要的方式工作..我认为 jquery wud 可以需要..但我不太擅长..如果有人可以帮忙吗？我编写的 Ajax 函数：

```
function maxIssue(max, input, iid) {
    var req = getXMLHTTP();
    var strURL = "limit_input.php?max=" + max + "&iid=" + iid;
    if (input > max) {
        alert("Issue Failed.Quantity Present in Stock is " + max);
    }

    if (input < 0) {
        alert("Issue Failed.Enter positive Value");
    }

    if (req) {
        req.onreadystatechange = function() {
            if (req.readyState == 4) {
                // only if "OK"
                if (req.status == 200) {
                    document.getElementById('maxdiv').innerHTML = req.responseText;
                } else {
                    alert("There was a problem while using XMLHTTP:\n" + req.statusText);
                }
            }
        }
    }
    req.open("GET", strURL, true);
    req.send(null);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:30:08.660

```
$('input').on('keyup', function(){
    if($(this).val() > someNumber){
        $(this).prop('disabled', true);
        alert('You cannot enter that many characters.');
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T04:31:29.600

你试过用`maxLength`吗？

```
<input maxLength="10"/> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T05:38:24.260

使用 jquery 验证非常简单。您必须定义要显示以进行验证的规则和消息，并将其附加到您的表单元素中。

本教程很有帮助。

[http://www.codeproject.com/Articles/213138/An-Example-to-Use-jQuery-Validation-Plugin](http://www.codeproject.com/Articles/213138/An-Example-to-Use-jQuery-Validation-Plugin)

这是 101 验证，以防您想尝试一下。我正在使用 cdn，但您可以在路径中添加对库的引用。

```
<html>
<head>
<title>Validation Test</title>
<!-- Importing jquery and jquery ui library from cdn -->

<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.10.0/jquery.validate.js"></script>

<!-- End of Import -->

</head>
<body>

<script>
  $(document).ready(function(){
    $("#testvalidation").validate({

      rules: {
          title: "required",
          description: {
            required:true,
            maxlength:4000
        }
      },
    messages: {
      title: "Title is Required",
      description: {
          required : "Description is Required",
          maxlength: "Should be less than 4000 Characters"
      }
    }
   });
  });
  </script>

  <style>

    #testvalidation .error{
    color: #FB3A3A;
    font-weight:300;

} 

</style>

  <form action=update.jsp class="form-horizontal" id="testvalidation">

  <input name="title" type="text"></input><br>
  <textarea name="description"></textarea>
  <input type="submit" value="Submit">

  </form>
</body>
</html> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-18T05:01:08.153

它将对您的任务有所帮助。

```
<input type="text" name="usrname" maxlength="10" />

function limitText(field, maxChar){
    $(field).attr('maxlength',maxChar);
} 
```

# php - 通过 PHP 创建 FTP 用户

> ID：13926275
> 
> 赞同：1
> 
> 时间：2012-12-18T04:27:48.913
> 
> 标签：php, bash, ubuntu

这个任务可以在 ubuntu 上完成吗？

我已经设法通过 php 创建 vhost，我需要通过 php 创建 ftp 用户。我们正在尝试将特定目录分配给通过 Web 注册创建帐户的内部用户。

我通过使用 filezilla 服务器在 Windows 上完成了此操作，可以在其中编辑 xml，并且可以通过 php 调用刷新。我需要为 linux 复制这个。

谢谢

**更新：** `joe:$1$LX/3.F60$bYdYwsQOYIaWq.Ko.hfI3.:500:101::/home/ftpusers/joe/./::::::1000:10485760::::::`

这是文件密码，我尝试按照上述格式添加另一个用户，它可以工作，但是相同的密码哈希不适用于第二个帐户。

我需要能够按照他们指定的方式设置密码或不使用任何密码。我将如何实现其中任何一个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:19:05.970

通过从命令行运行来安装 PureFTPD：

```
sudo apt-get install pure-ftpd 
```

然后按照 Ubuntu 文档页面上的说明设置组、文件夹等：

*   [https://help.ubuntu.com/community/PureFTP](https://help.ubuntu.com/community/PureFTP)

这是将创建一个新用户的命令，但是很难将密码传递到命令行：

```
sudo pure-pw useradd joe -u ftpuser -d /home/ftpusers/joe 
```

因此，最好创建一个起始用户来生成位于 /etc/pure-ftpd/ 中的用户配置文件，因为您说这是供内部使用并且您并不真正关心安全性，您可以更改文件的权限所以您可以使用 PHP 对其进行编辑。检查它的格式，然后让 PHP 用适当的值向它添加一个新的用户部分。如果我记得它是一个 XML 文件，那么使用 PHP 的 XML 或 DOM 函数会很好用。

* * *

**关于以下评论的更新：**

根据 PureFTPD：

> 密码使用系统支持的最佳单向哈希函数进行哈希处理。哈希按此顺序尝试：Blowfish、MD5、多个 DES、简单 DES。

由于您的字符串以 $1 开头，它用于 crypt() 使用 MD5，这就是它最终使用的。要加密密码，请执行以下操作：

```
echo crypt('YOUR_PASSWORD', '$1$LX/3.F60$'); 
```

$1 指定使用 MD5 哈希，因为这是您的系统默认使用的，$ 中的 $LX/3.F60$ 部分是您的盐。

# android - 从帖子中调用活动在异步任务中执行

> ID：13926276
> 
> 赞同：1
> 
> 时间：2012-12-18T04:27:49.273
> 
> 标签：android, android-asynctask, android-activity

我有一个类：GalleryLoop，其中包含所有详细信息

我有一个单独的类：LoadingScreenActivity，它有一个扩展 AsyncTask 的内部类

我正在尝试调用`.execute`，`LoadingScreenActivity`以便我可以加载`GalleryLoop`

有什么方法可以在不合并两个 Java CLass 文件的情况下执行？

代码如下：

```
 private class LoadViewTask extends AsyncTask<Void, Integer, Void>
    {
        //A TextView object and a ProgressBar object
        private TextView tv_progress;
        private ProgressBar pb_progressBar;

        //Before running code in the separate thread
        @Override
        protected void onPreExecute() 
        {
            //Initialize the ViewSwitcher object
            viewSwitcher = new ViewSwitcher(LoadingScreenActivity.this);
            /* Initialize the loading screen with data from the 'loadingscreen.xml' layout xml file. 
             * Add the initialized View to the viewSwitcher.*/
            viewSwitcher.addView(ViewSwitcher.inflate(LoadingScreenActivity.this, R.layout.loadingscreen, null));

            //Initialize the TextView and ProgressBar instances - IMPORTANT: call findViewById() from viewSwitcher.
            tv_progress = (TextView) viewSwitcher.findViewById(R.id.tv_progress);
            pb_progressBar = (ProgressBar) viewSwitcher.findViewById(R.id.pb_progressbar);
            //Sets the maximum value of the progress bar to 100             
            pb_progressBar.setMax(100);

            //Set ViewSwitcher instance as the current View.
            setContentView(viewSwitcher);
        }

        //The code to be executed in a background thread.
        @Override
        protected Void doInBackground(Void... params) 
        {
            /* This is just a code that delays the thread execution 4 times, 
             * during 850 milliseconds and updates the current progress. This 
             * is where the code that is going to be executed on a background
             * thread must be placed. 
             */
            try 
            {
                //Get the current thread's token
                synchronized (this) 
                {
                    //Initialize an integer (that will act as a counter) to zero
                    int counter = 0;
                    //While the counter is smaller than four
                    while(counter <= 4)
                    {
                        //Wait 850 milliseconds
                        this.wait(850);
                        //Increment the counter 
                        counter++;
                        //Set the current progress. 
                        //This value is going to be passed to the onProgressUpdate() method.
                        publishProgress(counter*25);
                    }
                }
            } 
            catch (InterruptedException e) 
            {
                e.printStackTrace();
            }
            return null;
        }

        //Update the TextView and the progress at progress bar
        @Override
        protected void onProgressUpdate(Integer... values) 
        {
            //Update the progress at the UI if progress value is smaller than 100
            if(values[0] <= 100)
            {
                tv_progress.setText("Progress: " + Integer.toString(values[0]) + "%");
                pb_progressBar.setProgress(values[0]);
            }
        }

        //After executing the code in the thread
        @Override
        protected void onPostExecute(Void result) 
        {
            /* Initialize the application's main interface from the 'main.xml' layout xml file. 
             * Add the initialized View to the viewSwitcher.*/
            viewSwitcher.addView(ViewSwitcher.inflate(LoadingScreenActivity.this, R.layout.main, null));
            //Switch the Views
            viewSwitcher.showNext();
            //ImageView = viewSwitcher.findViewById(R.id.imageView1);
            setContentView(R.layout.main);
        }
    } 
```

另一个类文件：

```
public class GalleryLoop extends Activity {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
//details of Galleryloop
} 
```

我是 Android 新手，我不确定以下哪个是更好的选择：

1.通过在AsyncTask启动前启动GalleryLoop

2.在AsyncTask中启动GalleryLoop（在do_in_background中）

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:31:12.600

[我对这篇文章](https://stackoverflow.com/questions/13863260/android-asynctask-postexecute/13863413#13863413)的回答应该对您有所帮助...使用 Asynctask 类的构造函数并将调用活动传递给 Asynctask...

然后，您可以在 Asynctask 完成后在调用活动中调用回调函数。

这应该允许您为 GalleryLoop 活动使用一个类，并在后台使用 Asynctask 运行加载屏幕活动，并在完成时调用回调函数。

# string - 音符字符串（C#-4、F-3 等）到 MIDI 音符值，在 Python 中

> ID：13926280
> 
> 赞同：1
> 
> 时间：2012-12-18T04:28:18.990
> 
> 标签：string, format, int, midi

下面我的答案中的代码将字符串中的音符（例如`C#-4`or `F-3`）转换为它们相应的 MIDI 音符值。

我发布这个是因为我厌倦了每次需要它时都试图在网上挖掘它。我敢肯定，我不是唯一一个能找到它用途的人。我刚刚写了这个——它已经过测试并且是正确的。它是用 Python 编写的，但我觉得它非常接近普遍理解。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:28:18.990

```
#Input is string in the form C#-4, Db-4, or F-3\. If your implementation doesn't use the hyphen, 
#just replace the line :
#    letter = midstr.split('-')[0].upper()
#with:
#    letter = midstr[:-1]
def MidiStringToInt(midstr):
    Notes = [["C"],["C#","Db"],["D"],["D#","Eb"],["E"],["F"],["F#","Gb"],["G"],["G#","Ab"],["A"],["A#","Bb"],["B"]]
    answer = 0
    i = 0
    #Note
    letter = midstr.split('-')[0].upper()
    for note in Notes:
        for form in note:
            if letter.upper() == form:
                answer = i
                break;
        i += 1
    #Octave
    answer += (int(midstr[-1]))*12
    return answer 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-08-21T08:13:10.820

```
NOTES_FLAT = ['C', 'Db', 'D', 'Eb', 'E', 'F', 'Gb', 'G', 'Ab', 'A', 'Bb', 'B']
NOTES_SHARP = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B']

def NoteToMidi(KeyOctave):
    # KeyOctave is formatted like 'C#3'
    key = KeyOctave[:-1]  # eg C, Db
    octave = KeyOctave[-1]   # eg 3, 4
    answer = -1

    try:
        if 'b' in key:
            pos = NOTES_FLAT.index(key)
        else:
            pos = NOTES_SHARP.index(key)
    except:
        print('The key is not valid', key)
        return answer

    answer += pos + 12 * (int(octave) + 1) + 1
    return answer 
```

# nhibernate - SQL Server 2005 Express 是否支持 NHibernate？

> ID：13926283
> 
> 赞同：0
> 
> 时间：2012-12-18T04:28:45.053
> 
> 标签：nhibernate, sql-server-2005-express

我想使用 SQL Server 2005 Express 作为数据库。它会支持 NHibernate 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:44:25.740

好像是支持的。

教程 ( [https://web.archive.org/web/20130926011158/http://www.svendtofte.com/serverside/setting-up-nhibernate-20/](https://web.archive.org/web/20130926011158/http://www.svendtofte.com/serverside/setting-up-nhibernate-20/) ) 介绍了设置 NHibernate 并使用 SQL Express 2005

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T04:45:13.410

是的。利用：

*   **司机**-`NHibernate.Driver.SqlClientDriver`
*   **方言**-`NHibernate.Dialect.MsSql2005Dialect`

# r - 如何将R中的矩阵列加载到变量中

> ID：13926284
> 
> 赞同：-2
> 
> 时间：2012-12-18T04:28:46.297
> 
> 标签：r, variables, matrix

如何将**R**中的矩阵列作为变量加载？在我这样做之后，我想访问在 for 循环中创建的该变量中的各个行元素，我该如何访问它？矩阵本身只是二维的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:31:33.730

利用`[`

样本矩阵：

```
> mat=matrix(1:6, 2)
> mat
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6 
```

提取第 2 列：

```
> mat[,2]
[1] 3 4 
```

你到底想做什么？ `for`几乎总是错误的方法。

# webrtc - 将本地流发送到多个远程对等点

> ID：13926287
> 
> 赞同：6
> 
> 时间：2012-12-18T04:29:03.017
> 
> 标签：webrtc

如何将我的本地视频流发送到多个远程对等点？我是否需要为`PeerConnection`每个远程对等方实例化一个？还是可以同时`PeerConnection`用于所有远程对等点？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-18T16:20:36.327

根据 irc.w3.org 上#webrtc 上的用户`dom`的[说法](http://irc.w3.org/)，每个 PeerConnection 都与一个远程对等点相关联。开发人员负责与多个共享相同的流实例`PeerConnections`：

```
<Cow_woC> Can a single PeerConnection connect to multiple remote peers, or only a single one at a time? If I want to stream the same video to multiple remote peers, what am I supposed to do?
<dom> Cow_woC, you need to manage several PeerConnection objects
<dom> and plug your video stream to each of them
<Cow_woC> dom: How do I share the camera feed with multiple PeerConnections? Is getUserMedia() allowed to return the same resource (and share it) multiple times?
<Cow_woC> dom: Or am I responsible for keeping the reference around and passing it to multiple PeerConnections?
<dom> the latter 
```

# c# - 成就/徽章的架构

> ID：13926291
> 
> 赞同：5
> 
> 时间：2012-12-18T04:29:39.393
> 
> 标签：c#, asp.net-mvc, architecture, achievements

已经有很多关于编写类似于 SO 的徽章系统的问题，我的问题是不同的。假设我有一个网页系统、徽章/成就，作为一行存储在数据库中，其中包含成就密钥 (id)、用户 ID 和任何其他数据。

我的简单问题是，我应该在哪里存储徽章 ID？每个成就我都有一个课程，其中包含所有数据和方法来测试它是否已经获得。我想我可能有几十个或几百个。我希望仅在一个简洁的地方使用硬编码一次的 ID，因此我不会意外更改它们或将它们混淆。

我可以在课堂上对它们进行硬编码，比如

```
public int Key { get { return 15; } } // I'm calling it Key, not ID 
```

但是，如果我将我的成就拆分到多个文件中，我不想在添加新文件时四处寻找最高的密钥并冒着出错的风险。

我可以把它们放在另一个班级的字典里......

```
public class AchievementSet
{
    private Dictionary<int, Achievement> _achievements;

    public AchievementSet()
    {
        _achievements = new Dictionary<int, Achievement>()
        {
            { 1, new SomethingAchievement() }
        };
    }
} 
```

但是现在这个类本身不知道它自己的密钥，它需要（或者是吗？）如果我现在将它传递给构造函数，我冒着数字不匹配的风险。

有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:42:15.437

在 Stack Overflow 的上下文中，我想每个徽章都有以下属性：Id、Name、Class（Bronze、Silver 或 Gold）和 Description 等。

您提到您目前有一个针对每个徽章/成就的课程，每个课程都对授予它的条件进行了适当的检查。

我建议您放弃您现在正在查看的模型（每个成就一个课程）的原因是因为当您在 200 个不同的课程中寻找时，您将继续面临巨大的问题那个你记不起的ID。

通过将您的徽章存储在表格中，您的数据都在一个合乎逻辑的位置，而不是分散在您的应用程序中。

在回答问题时：您是否不同意接受的答案：[stackoverflow.com/questions/3162446/](https://stackoverflow.com/questions/3162446/)

不一定，我更喜欢这个想法，而不是我之前提出的一个单一班级的提议，该班级将根据他们的 ID 检查所有徽章。

尽管有它的名字，我相信 RexM 并没有`CommenterBadge`在该文件中定义它本身，应该将它命名为`CommenterBadgeJob`. （您会注意到它没有我在答案中定义的任何特征，并且继承自`BadgeJob`）。显而易见的问题是“每个徽章作业如何知道它对应于哪个 BadgeId？”

`Badge`我会在我的调用中有一个额外的独特字段`BadgeJob`，您可以通过它查找徽章。

```
enum BadgeClass {Bronze, Silver, Gold}

//This class would be inherited from the database.
public class Badge
{
    public int Key {get;set;}
    public string Name {get;set;}
    public BadgeClass Class {get;set;}
    public string BadgeJob {get;set;}
    public string Description {get;set}
} 
```

我会修改他的代码如下：

```
public class CommenterBadgeJob : BadgeJob
{
    public Badge commenter_badge {get;set;}
    public CommenterBadgeJob() : base() 
    {
        //Lookup badge
        string badge_job_name = this.GetType().Name;
        commenter_badge  = db.Badges.Where(n=>n.BadgeJob == badge_job_name).Single();
    }

    protected override void AwardBadges()
    {
        //select all users who have more than x comments 
        //and dont have the commenter badge
        //add badges
    }

    //run every 10 minutes
    protected override TimeSpan Interval
    {
        get { return new TimeSpan(0,10,0); }
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T13:22:18.583

使用枚举怎么样？

```
 public enum BadgeTypes
  {
      GoodAnswer    = 1,
      Commenter     = 2,
      Teacher       = 3,
      //...
  } 
```

每个 BadgeJob 都可以有一个`BadgeType`属性，用于在插入成就时填充徽章 ID `AwardBadges()`（枚举值可以保留为整数）。

我认为没有必要为每个成就上一门课。`BadgeJob`'s 包含所有徽章归属逻辑，`BadgeTypes`足以代表不同的徽章。

# hadoop - 带有 Hive 的 Hadoop

> ID：13926292
> 
> 赞同：1
> 
> 时间：2012-12-18T04:29:52.997
> 
> 标签：hadoop, hive

我们想开发一个使用 Hadoop 进行日志文件分析的简单 Java EE Web 应用程序。以下是开发应用程序的方法。但是我们无法通过该方法。

1.  日志文件将使用 sftp/ftp 从客户端机器上传到 Hadoop 服务器。
2.  调用 Hadoop Job 获取日志文件并将日志文件处理到 HDFS 文件系统中。
3.  在处理日志文件时，内容将存储到 HIVE 数据库中。
4.  使用来自客户端 Web 应用程序的 HIVE JDBC 连接搜索日志内容

我们浏览了这么多样本来完成一些步骤。但我们没有任何具体的样品不可用。

请建议上述方法是否正确，并获取用 Java 开发的示例应用程序的链接。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T11:42:54.767

据我说，你可以做一件事：

1）您可以将来自各种来源的日志放入 HDFS 中，而不是将它们放入一个数据库中，例如 SQL Server，然后您可以使用[Sqoop](http://blog.cloudera.com/blog/2009/06/introducing-sqoop/)将数据导入 Hive（或 HDFS） 。

2) 这将减少您编写各种作业以将数据导入 HDFS 的工作量。

3) 一旦数据进入 Hive，你就可以为所欲为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T09:31:36.493

我会指出一些事情：
a）您需要合并日志文件或以其他方式注意您没有太多的日志文件。考虑 Flume (http://flume.apache.org/)，它被构建为接受来自各种来源的日志并将它们放入 HDFS。
b) 如果您使用 ftp - 您将需要一些脚本来从 FTP 获取数据并放入 HDFS。
c）我看到的主要问题是 - 作为客户端 Web 请求的结果运行 Hive 作业。Hive 请求不是交互式的——它至少需要几十秒，甚至可能更多。
我也会有不同的并发请求 - 你可能不能并行运行更多

# playframework - 服务器端分析

> ID：13926294
> 
> 赞同：0
> 
> 时间：2012-12-18T04:29:55.103
> 
> 标签：playframework, google-analytics, analytics, playframework-1.x

我有一个网站，它还公开了我的应用程序使用的 RESTful API。我想对我们收到的请求类型进行一些跟踪，但由于我要跟踪的数据不是行为或与网站的交互，所以我不知所措。

我正在使用 Play Framework 1.2.4 (Java) 服务器端。是否有可以用来跟踪我们收到的请求类型的分析服务？我以前使用过 Google Analytics，但由于他们主要从事客户端用户跟踪业务，这似乎不太合适，但也许我错了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T09:33:49.160

您可以在您的控制器中使用一些 Java 跟踪库，虽然我没有使用它，但似乎[jgoogleanalytics](https://code.google.com/p/jgoogleanalytics/)是您正在寻找的工具。

# c# - ASP.Net 在启动时运行错误的页面作为 Sartup 页面

> ID：13926297
> 
> 赞同：0
> 
> 时间：2012-12-18T04:30:09.287
> 
> 标签：c#, asp.net, webforms

我在 localhost 上的多语言网站有一个简单的文件夹结构

```
Default.aspx
images
css
js
en/Default.aspx
en/ContactUs.aspx
....
ar/Default.aspx
ar/xxxxx.aspx 
```

我面临的问题对我来说很奇怪。我有一个简单的代码来检查用户设置的浏览器语言，因此我将用户重定向到英语或阿拉伯语版本的网站。

Irrecpective 我写的代码总是将我重定向到英文版的网站并执行`en/Default.aspx`页面

即使评论`Default.aspx`页面中的所有代码，它仍然会将其重定向到`en/Default.aspx`页面。虽然它不应该做任何事情。

我已将 Default.aspx 设置为**设置为默认页面**，但它没有任何区别。即使`global.asa`有路由代码，我也删除了，我还在本地主机上删除了与该网站相关的所有编译器代码，但它仍然在做同样的事情。

我检查了 web.config 文件，没有任何问题。

即使在删除`Default.aspx`页面后，它仍然会将我重定向到`en/Default.aspx`我对这个问题感到沮丧。

我不确定出了什么问题。我重新启动系统没有结果。

我正在将 Visual Studio 2010 用于 asp.net Web 表单项目。

`http://localhost:49831/AlShindagah/`

总是带我到下面的 URL

`http://localhost:49831/AlShindagah/en/Default.aspx`

Default.aspx 在我删除之前的代码

```
public partial class DefaultMain : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {

        //switch (Session["lang"].ToString().ToLower())
        //{
        //    case "en-us":
        //        Response.RedirectPermanent("~/en/Default.aspx");
        //        break;
        //    case "ar-ae":
        //        Response.RedirectPermanent("~/ar/Default.aspx");
        //        break;
        //    default:
        //        Response.RedirectPermanent("~/en/Default.aspx");
        //        break;
        //}

    }

    //// Localization and Globalization code
    //protected override void InitializeCulture()
    //{
    //    String lang = Request["Language"];

    //    Session["lang"] = Helper.DetectLanguage(lang);
    //    //Set Direction of page LTR/RTL
    //    if (Session["lang"] == "ar-AE")
    //    {
    //        Session["PageDIR"] = "rtl";
    //    }
    //    else
    //    {
    //        Session["PageDIR"] = "ltr";
    //    }

    //    base.InitializeCulture();
    //}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:35:37.830

您以前使用过`Response.RedirectPermanent("~/en/Default.aspx");`. 符合要求的浏览器会记住这一点，并始终将您重定向到那里。

清除浏览器缓存并重试:)

作为旁注，请使用`Redirect`而不是`RedirectPermanent`. 如果我从浏览器访问 www.mysite.com 并且 www.mysite.com`RedirectPermanent`是我访问 www.myothersite.com，则符合要求的浏览器会记住这一点，并且对于将来对 www.mysite.com 的所有请求，它会调用www.myothersite.com。

# c# - 将数据集添加到 rdlc 文件

> ID：13926302
> 
> 赞同：1
> 
> 时间：2012-12-18T04:30:20.267
> 
> 标签：c#, reporting, rdlc

设想：

我有一个 RDLC 文件 - TestReport.rdlc 我有一个表单 - Form1.cs 我有一个 ReportViewer - rptViewer

我的报告数据源将是运行时定义的 XML 文件或数据表（在按钮单击事件中）。现在，当我处于报表的设计模式时，如何将 DataSource 或 DataSet 添加到报表中，以便可以将列/字段“添加”到报表中？

现在在报告中，当我单击新建 -> 数据集时，我被要求从数据库、服务、对象或 SharePoint 中进行选择，但我想使用内存中存在的对象。

我正在使用VS2012。

谢谢，安德鲁

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T13:33:02.983

对于 XML，您必须为其创建架构，然后将其添加到设计视图中的报告中。

[这个博客](http://www.c-sharpcorner.com/UploadFile/mahesh/XmlReports04182007115639AM/XmlReports.aspx)中解释了一个小例子（它很旧，但仍然很好理解你必须做什么）。

如果 XML 的模式也是动态的，那么我提出的唯一解决方案是为 XML 的每个节点/属性创建一个参数，并为每种类型的 XML 构建一个或多个 .rdlc 文件

# vb.net - 使用linq将列转换为集合中的行

> ID：13926303
> 
> 赞同：1
> 
> 时间：2012-12-18T04:30:20.673
> 
> 标签：vb.net, linq, vb.net-2010

我需要使用 linq 将以下列转换为行

```
Id  Numb1 Numb2 Numb3
100 1   2   3
200 10  20  30 
```

进入

```
 Id Numbers     Code
100 1   A
100 2   D
100 3   R
200 10  E
200 20  T
200 30  H 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:33:26.983

如果您可以硬编码哪些列将被旋转，这应该可以工作。对于每个项目，您选择其编号并将结果列表展平。此查询被转换为[SelectMany()](http://msdn.microsoft.com/en-us/library/bb534336.aspx)语句。

```
From item in items _
From number in { item.Numb1, item.Numb2, item.Numb3 } _
Select New Class2 With { .Id = item.Id, .Number = number } 
```

# ios - 如何改善 xcode 4.5 调试器（菜鸟）中作为对象的变量的显示

> ID：13926307
> 
> 赞同：6
> 
> 时间：2012-12-18T04:30:39.050
> 
> 标签：ios, debugging, ios-simulator, xcode4.5, formatter

我在 Mac 上使用 Xcode 4.5 和 iOS 模拟器来编写 iPhone 应用程序。当我在调试器中遇到断点时，我使用“自动”来查看变量。问题是对象最初都是折叠的，我必须展开每个对象才能看到它的值。没关系，但它很乏味且难以阅读。有什么方法可以自定义数据在调试器中的呈现方式吗？

我查看了[LLDB 教程，并查看了 Quinn Taylor](http://lldb.llvm.org/symbols.html)[帖子](https://stackoverflow.com/questions/1019172/creating-an-xcode-data-formatter-bundle-for-custom-obj-c-objects)中的“自定义摘要字符串” ，但我不明白。他一定用过旧版本的 xcode。

基本上，我有一个对象，例如

类 Vec3 { public: 浮点 x,y,z; };

在调试窗口中我看到

```
 pos (Vec3) 
```

我宁愿看到的是

```
 pos = (Vec3) (x=45.2, y=10.7, z=2.0) 
```

无需扩展变量。有谁知道我该怎么做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-31T18:52:13.750

我能够使用 xcode 4.5.2 来解决这个问题。总而言之，这些是步骤。

1.  使用文本编辑器打开或创建 ~/.lldbinit，并添加这一行

    ```
    type summary add Vec3 --summary-string "x=${var.x}, y=${var.y}, z=${var.z}" 
    ```

2.  重启xcode。现在，当您遇到断点时，Vec3 将显示为，

    ```
    pos (Vec3) x=1, y=3.125, z=9.5 
    ```

您可以在 .lldbinit 中执行许多其他操作，如[http://lldb.llvm.org/varformats.html中所述](http://lldb.llvm.org/varformats.html)

例如

```
type summary add Vec3 --inline-children --omit-names 
```

将自动生成摘要字符串和

```
type summary add --inline-children -x "Vec[:alnum:]*" 
```

将为所有以“Vec”开头的类型自动生成摘要字符串。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T04:51:54.237

如果 Vec3 是你的类（或者你可以继承的东西），覆盖它的`description`. 这使您可以格式化`po pos`在控制台中说的内容。

要获得更高级的信息，请参阅此页面：

[http://lldb.llvm.org/varformats.html](http://lldb.llvm.org/varformats.html)

你可以说

```
type summary add --summary-string 
```

后跟一个字符串描述，说明您希望如何显示这种类型的变量。

如果你真的想深入了解细节，你可以编写自己的格式化程序；在两个关于调试和 LLDB 的 WWDC 2012 视频中进行了很好的讨论。但是你必须编写一个 Python 脚本才能做到这一点，所以我给出了更多的“菜鸟”解决方案。

# xcode - 如何使用 LLDB 检查 C++ 对象的实际类？

> ID：13926311
> 
> 赞同：7
> 
> 时间：2012-12-18T04:31:11.467
> 
> 标签：xcode, cocos2d-x, lldb

我现在正在用 Xcode 开发 Cocos2d-x。但我不知道如何使用 LLDB 检查 C++ 对象的实际类。正如您在图像中看到的，Xcode 的检查器知道实际的类但`p`或`po`不知道。

所以问题是：如何用 LLDB 检查 C++ 对象的实际类？

![LLDB 知道实际的类](../Images/ca4ab331411da8e057886d421f2a33f0.png)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-16T01:54:38.787

这是因为 Xcode UI 默认启用了“动态类型”。动态类型是 LLDB 的术语，表示“我要找出这个对象的实际类型”。为了在控制台上获得相同的行为，您可以尝试输入

```
(lldb) frame variable -d run-target pObject 
```

在开源 LLDB 中，您还可以键入

```
(lldb) expr -d run-target -- pObject 
```

# ruby-on-rails - 使用 Warbler 配置可分发的 JRuby/Rails

> ID：13926314
> 
> 赞同：0
> 
> 时间：2012-12-18T04:31:12.807
> 
> 标签：ruby-on-rails, jruby, warbler

要使 Web 应用程序可分发，我们可以在标准 web.xml 中进行配置：

```
<web-app>
  <!-- ... -->

    <distributable/>

  <!-- ... -->
</web-app> 
```

但我正在使用 JRuby/Rails 并使用 Warbler 构建 WAR 文件。无论如何在 warble.rb 配置文件中执行此操作。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T07:45:04.187

我找到了解决方案。[Warbler README](https://github.com/jruby/warbler#webxml)中也有描述

1) 将[web.xml.erb](https://github.com/jruby/warbler/blob/master/web.xml.erb)复制到您的 /config/

2）在根元素web-app下添加元素distributable：

```
<web-app>
  <!-- ... -->

  <distributable/>

  <!-- ... -->
</web-app> 
```

就这样！

# android - 用户单击按钮时如何运行已安装的应用程序

> ID：13926321
> 
> 赞同：1
> 
> 时间：2012-12-18T04:31:37.190
> 
> 标签：android, package-managers

我创建了一个按钮，当用户单击此按钮时我想要。它应该从我的设备上运行已安装的应用程序（例如地图）。这是我的代码（按钮是 aupeo）

```
aupeo.setOnClickListener(new View.OnClickListener() {

            public void onClick(View v) {

                final PackageManager pm = getPackageManager();
                List<ApplicationInfo> packages = pm
                .getInstalledApplications(PackageManager.GET_META_DATA);

                for (ApplicationInfo packageInfo : packages) {
                         //Don't know how to get app's info to call it.
                }
            }

        }); 
```

我不知道如何获取应用程序的信息、调用和运行应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:40:52.913

```
 aupeo.setOnClickListener(new View.OnClickListener() {

            public void onClick(View v) {

                  Intent i = new Intent();
                i.setAction(Intent.ACTION_VIEW);
                i.setClassName("com.xxxx.your_package_name",
                        "com.xxxx.your_class_name");

                startActivity(i);
            }

        }); 
```

# scala - 将迭代器映射到地图中

> ID：13926324
> 
> 赞同：1
> 
> 时间：2012-12-18T04:31:59.207
> 
> 标签：scala, iterator

我有以下情况：我收到一个特定类型的迭代器，想把它变成一个特定的地图。我觉得可能有一种非常简单的方法可以做到这一点，但我似乎无法弄清楚:) 这是一些让事情更容易理解的代码：（我将案例类缩短到最低限度）

```
case class Fu(title: String)
case class Bar(name: String)
case class Match(f: Fu, b: Bar)
case class Result(name: String, fus: List[Fu])

val input: Iterator[Match] = ... 
```

我最终想要的是这样的：

```
val output: Iterator[Result] 
```

这是棘手的部分：匹配是独一无二的，但自然而然，每个 Fu 可以匹配多个 Bar。我基本上希望将所有具有相同 Bar 的火柴拆开，并将它们的 Fus 放入一个列表中。有点像 Map[Bar, List[Fu]]，只是我有一个类型。Result 类也可以使用 Bars 而不是名称 String，但我真的不需要其他 Bar 信息。但这无关紧要。输出类型也不是那么重要，无论是 Iterator、Iterable、List 还是其他任何类型。只要映射工作正常。

起初，我认为 Iterable 上的 groupBy 会完全符合我的要求，但我要么不知道如何正确使用 groupBy，要么它是该工作的错误功能 :) 使用 map 似乎是一个好的开始，但接下来该怎么做我建立清单？我可以轻松地将每个 Match 变成一个 Result，但最终我会得到许多具有相同名称的 Result 对象......

非常感谢，任何帮助表示赞赏！

编辑：也许我应该明确指出这与匹配字符串无关。它们只是两个案例类的示例属性。所有 Fus 和 Bars 都已正确匹配到 Match 对象中。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-18T04:40:08.030

你在正确的轨道上`groupBy`。下面是它的外观：

```
val input: Iterator[Match] = Iterator(
  Match(Fu("A"), Bar("1")),
  Match(Fu("B"), Bar("2")),
  Match(Fu("C"), Bar("1")),
  Match(Fu("D"), Bar("2")))

val output =
  input.toList
    .groupBy { case Match(f, Bar(name)) => name }
    .map { case (name, fus) => Result(name, fus.map(_.f)) }

 output foreach println                         //> Result(1,List(Fu(A), Fu(C)))
                                                //| Result(2,List(Fu(B), Fu(D))) 
```

# javascript - 无法为 Session 变量和 Collection 触发反应式上下文

> ID：13926326
> 
> 赞同：0
> 
> 时间：2012-12-18T04:32:25.463
> 
> 标签：javascript, meteor

我有一个[小项目](https://github.com/fowles/meteor-crossword)，右侧有一个板列表，左侧有一个活动板：

```
var updateBoard = function (b) {
  Boards.update(b._id, b)
  Session.set("active-board-id", b._id)
}

Template.controls.boards = function() {
  return Boards.find()
}

Template.controls.events({
  'click .board' : function (evt) {
    updateBoard(this)
  }
})

Template.board.b = function() {
  var b = Boards.findOne(Session.get('active-board-id'))
  return b || Boards.findOne()
}

Template.board.events({
  'click .cell': function (evt) {
    this.value += 1
  },
  'click .board': function (evt) {
    updateBoard(this)
  },
}) 
```

当您单击板上的单元格时，它应该增加。集合中的底层板会增加（您可以通过单击不同的板然后返回到第一个板来查看），但可见板不会增加。

我尝试将板直接存储在会话变量中并返回它。当我这样做时，可见板会增加，但其他选项卡中的板不会随之增加。我正在寻找一种解决方案，使所有选项卡中的所有查看者都可以立即看到对活动板的编辑。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:45:16.750

Figures I would solve it moments after posting the questions. Apparently `findOne` is not registering itself properly switching to `find` solves the problem.

```
Template.board.b = function() {
  var b = Boards.find(Session.get('active-board-id')).fetch()[0]
  //var b = Boards.findOne(Session.get('active-board-id'))
  return b || Boards.findOne()
} 
```

UPDATE: This was a bug on the devel train for about one day. It turns out my timing is just good ;-)

# c# - 寻找 C# ODBC 数据库访问

> ID：13926327
> 
> 赞同：1
> 
> 时间：2012-12-18T04:32:26.973
> 
> 标签：c#, sqlite, odbc

我一直在努力解决支持查询的关系数据库中的一个问题。最初我打算使用 OleDB 数据适配器并连接到 Microsoft Access 数据库（使用 Access 2000 创建）。问题是当我使用如下连接字符串时：

提供者=Microsoft.Jet.OLEDB.4.0；数据源=yourdbfile.mdb；Jet OLEDB：数据库密码=您的密码；

我收到一条关于需要安装 MDAC 2.6 或更高版本的错误消息。我什至尝试使用备用连接字符串：

提供者=Microsoft.Jet.OLEDB.4.0；数据源=yourdbfile.mdb；Jet OLEDB:数据库密码=你的密码

当我尝试打开数据库时，我仍然收到此 MDAC 错误。

然后我开始考虑使用备用数据库，例如 SQlite。需要服务器的 SQLServer 或 Oracle 类型的数据库可能是矫枉过正，因为只有少数数据库用户。

什么是具有良好 c# .NET 支持且速度快的好数据库？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:41:54.833

那里有十几个轻量级数据库。

我经常使用的一对：

1.  [**火鸟**](http://www.firebirdsql.org/en/server-packages/)
2.  [**SqlLite**](http://www.sqlite.org/download.html)

关于 firebird 的一个注意事项是，它可以从运行进程内（嵌入式）到完整的服务器安装。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T04:42:49.683

SQLite 非常适合您正在寻找的东西。[不久前，我在我的博客上](http://brennydoogles.wordpress.com/2010/02/26/using-sqlite-with-csharp/)写了一个相当大的操作指南，但它的要点是你得到了 System.Data.SQLite 包并使用它，它工作得很好。享受！

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-18T04:38:45.327

为什么不考虑对象数据库。我推荐 db4o。它非常快速且易于使用。它还支持 Linq。

# c# - C# 动态支持？

> ID：13926328
> 
> 赞同：2
> 
> 时间：2012-12-18T04:32:36.490
> 
> 标签：c#, .net, dynamic, .net-4.0, dynamic-language-runtime

*阅读[这篇文章](https://stackoverflow.com/questions/2674906/when-should-one-use-dynamic-keyword-in-c-sharp-4-0k)和链接后，我还有 2 个问题*

*问题 #1*

有什么*标准*可以让我在 c#中执行*动态代码？*目标类/对象必须依赖`.net clr` 吗？我的意思是，如果有人给我一个 Pascal DLL，我想我将无法通过动态（或将？）使用它的代码。所以：动态工作的要求是什么？

*问题2*

例如：在脚本对象中 - 为了增加一个 int 代码应该是：

```
 Scriptobj.SetProperty("Count", ((int)GetProperty("Count")) + 1); 
```

有了动态我可以做到：

```
scriptobj.Count += 1; 
```

这是否意味着 scriptobj 的类程序员编写了支持**DLR**的代码`=+1`？

```
ScriptobjClass : DynamicObject
{
  ...
  public override bool TryInvokeMember (...when +=1 so do a+1....)...
} 
```

我在这里错过了一些必不可少的东西。

是不是就像：“*我们正在构建一个类，但我们也应该让 .net DLR 访问它——所以让我们编写更多代码，以便这个类**也支持** 允许 .net 用户通过 dlr 访问这个类的操作*”？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T00:39:50.600

让我们首先解释 DLR 允许您做什么，首先：

DLR 有两个方面，第一个是它允许在运行时动态绑定对象。例如：

```
class A
{
    public int SomeProperty { get; set; }
}

class B
{
    public int SomeMethod(int value)
    {
        return value;
    }
}

dynamic d = new A();
d.Value = 1;

d = new B();
d.SomeMethod(2); 
```

动态 d 可以分配任何类型的对象并调用它们的方法和属性。一个更引人注目的例子：

```
int CallSomeMethod(dynamic d)
{
    return d.SomeMethod();
} 
```

这适用于任何具有返回 int 的方法“SomeMethod”的类。执行此操作的强类型方法是使用“SomeMethod”创建一个接口：

```
int CallSomeMethod(IClassWithSomeMethod d)
{
    return d.SomeMethod();
} 
```

请注意，这不是以前使用反射无法完成的事情，但是 DLR 和 dynamic 关键字使这变得更简单。DLR 还为调用创建和缓存表达式树，因此使用 DLR 几乎总是比反射更有效。

然而，DLR 的真正优势不仅仅是运行时绑定，它实际上允许您创建动态行为的对象。基本上，它允许您指定当您调用绑定到动态变量的实际运行时对象中不存在的方法或属性时会发生什么。这允许 CLR 用于动态语言并提供与动态语言的轻松互操作，创建易于使用的解析器，可以将 DOM 表示为动态对象或 ORM，可以将临时查询表示为对象等。

有关 DLR 的更多详细信息，请参见其[codeplex 项目文档页面](http://dlr.codeplex.com/wikipage?title=Docs%20and%20specs&referringTitle=Documentation)。特别值得一提的是[概述](http://www.codeplex.com/Download?ProjectName=dlr&DownloadId=127512)和[站点、绑定器和动态对象互操作规范](http://www.codeplex.com/Download?ProjectName=dlr&DownloadId=127518)文档。

现在回答你的问题：

问题 1：不，您不能通过魔法与任何动态语言进行交互，必须有一些受支持的互操作（可能由 DLR 促进）才能这样做（我不知道您所说的 Pascal dll 是什么意思。）

问题 2：ScriptObjectClass 使用 DLR 工具（通过扩展 DynamicObject）来动态获取和设置 Count 属性，就好像它是 ScriptObjectClass 的实际属性一样（如果您好奇，请参阅[Sites、Binders 和 Dynamic Object Interop Spec](http://www.codeplex.com/Download?ProjectName=dlr&DownloadId=127518)以了解具体如何已经完成了。）

# java - 为什么 try/catch 块 BufferedWriter 需要括号

> ID：13926339
> 
> 赞同：2
> 
> 时间：2012-12-18T04:33:59.470
> 
> 标签：java, io, try-catch, bufferedwriter

我正在使用 java.io.BufferedWriter 编写一些代码，我尝试的第一件事是：

```
 String filename = new String("test.txt");
    Charset charset = new Charset("US-ASCII");
    try {
        BufferedWriter bw = Files.newBufferedWriter(Paths.get(filename), charset);
        bw.write("hello");
    } catch (IOException e) {
        System.out.println(e);
    } 
```

它输出了一个空的 test.txt 看到一个例子，格式如下，我试过：

```
 String filename = new String("test.txt");
    Charset charset = new Charset("US-ASCII");
    try (BufferedWriter bw = Files.newBufferedWriter(Paths.get(filename), charset)){
        bw.write("hello");
    } catch (IOException e) {
        System.out.println(e);
    } 
```

它输出了一个带有第一行“hello”的文本文件。这种形式是什么意思，为什么它有效而我的第一次尝试没有？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-18T05:36:18.117

这在 Java 7 中称为“try-with-resources”，如果您将其修复为 BufferedWriter 将自动关闭

```
 try (BufferedWriter bw = Files.newBufferedWriter(Paths.get("filename"), StandardCharsets.US_ASCII)) {
        bw.write("hello");
    } 
```

请参阅[http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html](http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T04:36:57.577

第一个选项在语法上是正确的。

我想你想念

```
bw.close(); 
```

在你写完之后。

> 关闭流，首先刷新它。

# jquery - 如何在 kendo UI Mobile 中将数据绑定到 Listview

> ID：13926340
> 
> 赞同：0
> 
> 时间：2012-12-18T04:33:59.660
> 
> 标签：jquery, asp.net, jquery-mobile, kendo-ui

如何将数据从 Web 服务绑定到 Kendo UI 移动（IOS）。我尝试使用 Web 服务，页面显示为空白，当我直接绑定数据时，它向我显示 html 页面中的数据（注释数据）。谁能给我任何示例代码或任何示例。

在这里，我提供了我尝试过的代码

html页面中的代码

```
<div data-role="view" id="flat" data-init="mobileListViewDataBindInitFlat" data-title="ListView"
    data-layout="databinding">
    <ul id="flat-listview">
    </ul>
</div>
<script type="text/javascript">
    $(document).ready(function (){   
        var dataS = new kendo.data.DataSource({
            transport: {
                read: {
                    type: 'GET',
                    url: 'mobileAppWebService.asmx/EmployeeNames',
                    dataType: 'json',
                    data: '{}',
                    contentType: 'application/json; charset=utf-8'
                },
                schema: {
                    data: "d"
                }
            }
        });
        debugger
        $("#flat-listview").kendoMobileListView({
            dataSource: dataS,
            template: "${ename}"
        });

 //                    var dataSource = ["Sashimi salad", "Chirashi sushi", "Seaweed      salad", "Edamame", "Miso soup", "Maguro", "Shake", "Shiromi", "Tekka maki",      "Hosomaki Mix", "California rolls", "Seattle rolls", "Spicy Tuna rolls", "Ebi     rolls", "Chicken Teriyaki", "Salmon Teriyaki", "Gohan", "Tori Katsu", "Yaki Udon"];
  //                    function mobileListViewDataBindInitFlat() {
  //                        $("#flat-listview").kendoMobileListView({
 //                            dataSource: dataSource,
 //                            endlessScroll: true                           
 //                        });
 //                    };
      });
</script>
<script type="text/javascript">
    var app = new kendo.mobile.Application(document.body);
</script> 
```

Web服务中的代码

```
 SqlConnection con = new SqlConnection("Data Source=SHANKAR-PC\\SQLEXPRESS;              Initial          Catalog=Occumen;Integrated Security=True");

[WebMethod]
public List<EmpNames> EmployeeNames()
{
    SqlDataAdapter da = new SqlDataAdapter("select ename from emp", con);
    DataSet ds = new DataSet();
    da.Fill(ds, "names");
    return LstEmpNames(ds);
}

public List<EmpNames> LstEmpNames(DataSet ds)
{
    List<EmpNames> objenamelst = new List<EmpNames>();
    for (int i = 0; i < ds.Tables[0].Rows.Count; i++)
    {
        EmpNames objemp = new EmpNames();
        objemp.ename = ds.Tables[0].Rows[i][0].ToString();
        objenamelst.Add(objemp);
    }
    return objenamelst;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T07:13:22.243

```
<script type="text/x-kendo-template" id="ListViewTemplate">     
   <div class="GetData">
    ${eid}
    </div>
    <div class="GetData">
       ${ename}
    </div>
</script>

<script type="text/javascript">
    function mobileListViewDataBindInitFlat() {
        $.ajax({
            type: "POST",
            contentType: "application/json; charset=utf-8",
            url: "mobileAppWebService.asmx/GetData",
            endlessScroll: true,
            dataType: "json",
            success: function (data) {
                $("#flat-listview").kendoMobileListView({
                    dataSource: data.d,
                    template: $("#ListViewTemplate").html()
                });
            },
            failure: function (msg) {
                alert(msg);
            }
        });
    }
 var app = new kendo.mobile.Application(document.body);
</script> 
```

# c# - 如何在 sql 中为 LIKE 编写 linq 语句

> ID：13926343
> 
> 赞同：0
> 
> 时间：2012-12-18T04:34:08.427
> 
> 标签：c#, linq, tsql, sql-like

> **可能重复：**
> [如何在 Linq 中执行 SQL Like %？](https://stackoverflow.com/questions/835790/how-to-do-sql-like-in-linq)

我正在尝试在 LINQ 中实现以下代码，但仍然找不到方法：

```
SELECT * FROM Persons
WHERE City LIKE '%tav%' 
```

我怎样才能在 LINQ 中写这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:37:05.737

像这样的东西：

```
var query = dataContext.Person.Where(p=>p.City.Contains("tav")); 
```

根据您的 sql server 配置，您可能只需要比较小写或大写字母：

```
var query = dataContext.Person.Where(p=>p.City.ToLower().Contains("tav")); 
```

# java - Java-Recursion：递归方法调用后的语句何时执行

> ID：13926344
> 
> 赞同：2
> 
> 时间：2012-12-18T04:34:10.407
> 
> 标签：java, data-structures, recursion

方法调用本身之后的语句何时执行？

```
private void inorderHelper(TreeNode node)
{
    if ( node==null )
        return;
    inorderHelper(node.leftNode);
    System.out.printf("%d", node.data);
    inorderHelper(node.rigthNode);
} 
```

我只能看到代码行 inorderHelper(node.leftNode) 将继续迭代，直到 node == null 并且该方法在 node.data 打印之前立即终止。我认为我没有很好地递归，但我能找到的所有示例在递归调用之后都没有语句。我只想知道像 System.out.printf("%d",node.data) 这样的语句什么时候会在方法返回之前执行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:48:02.267

您似乎在考虑方法的单个激活。在递归调用情况下，可以多次调用相同的方法。每个调用都有自己的堆栈帧。仅从调用它的激活返回。当它返回时，控制权被转移回调用它的激活，就像它被不同的方法调用一样。

递归调用之后的代码在每次激活中运行，在从它调用的激活返回时立即运行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T04:36:54.397

这个函数会递归遍历二叉树**，直到遍历完左半边**，然后打印**数据**，然后再遍历树的**右半边**。

这在**树的每一层**都是相同的，这意味着在打印数据之前，您将在任何层看到打印树的左半部分，然后是右半部分。

如您的函数所示，这种处理方式称为**“按顺序遍历”**，其他方式是**“前序遍历”**，首先打印数据，以及**“后序遍历”**，最后打印数据。[维基百科](http://en.wikipedia.org/wiki/Tree_traversal#Depth-first_traversal_2)有更多信息。

为了更好地学习，您可以使用调试器逐步完成。

打个比方，想想**[《盗](http://en.wikipedia.org/wiki/Inception)**梦空间》，除了**每个梦想都会暂停**，直到**内心的梦想结束**。另一个区别是，在 Inception 中，外部梦境控制着内部梦境的终止，而在递归中，外部调用需要等到内部调用终止，才能继续。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T04:59:56.337

尝试运行它，它应该可以帮助您获得一张好照片。

```
// first call with depth 0
private void inorderHelper(TreeNode node, int depth)
{
  ++depth;
  if ( node==null ) {
    System.out.printf("null node at depth %d", depth);
    return;
  }
  System.out.printf("depth %d data %d before left side", depth, node.data);
  inorderHelper(node.leftNode, depth);
  System.out.printf("depth %d data %d middle", depth, node.data);
  inorderHelper(node.rigthNode, depth);
  System.out.printf("depth %d data %d after right side", depth, node.data);
} 
```

# c# - Windows 8 C# 是否支持 SyndicationFeed？

> ID：13926346
> 
> 赞同：1
> 
> 时间：2012-12-18T04:34:53.420
> 
> 标签：c#, windows-8, microsoft-metro, syndicationfeed

浏览 [http://msdn.microsoft.com/en-us/library/windows/apps/br230232.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/br230232.aspx) 我找不到任何地方说 Windows 8 应用程序支持使用 SyndicationFeed。有没有办法仍然使用它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:48:32.687

您是否尝试过查看[`Windows.Web.Syndication`](http://msdn.microsoft.com/en-us/library/windows/apps/br244529.aspx)课程。有一个[`SyndicationFeed`](http://msdn.microsoft.com/en-us/library/windows/apps/windows.web.syndication.syndicationfeed.aspx)那里

# wordpress - 视频比赛脚本

> ID：13926350
> 
> 赞同：0
> 
> 时间：2012-12-18T04:35:11.200
> 
> 标签：wordpress, video, joomla, voting

我正在尝试创建一个举办视频比赛的网站。

1) 用户将提交自己的视频 - 上传或 Youtube。2) 参观者将对他们最喜欢的视频进行投票，最高投票者将获胜。3）如果每张投票都需要输入一个姓名，并且可能要求他们使用他们的 Facebook 帐户登录以关联每张投票并允许人们联系，我会很高兴。

将有不同的类别和不同的比赛同时进行。

我真的只是需要一些东西，让人们可以从 Youtube 提交他们自己的视频，然后让人们投票选出他们最喜欢的。我希望显示比赛信息并存在时间窗口。也许允许人们上传视频 1 周，然后投票开始。

Wordpress 是否有类似的东西，或者是否有任何其他脚本或组合可以解决问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T04:53:13.870

欢迎来到堆栈溢出！

您有两个选项可以在 Wordpress 中完成您想要的 -

**1\. 主题：**您可以使用内容共享主题，通常作为高级主题 ($$) 提供，其中包括用户提交的帖子和投票/喜欢其他用户帖子等功能。某些主题可能需要为以视频为中心的网站定制一些代码编辑。

以下是一些将实现您的目标的主题：

[我喜欢它！内容分享主题 - ThemeForest](http://themeforest.net/item/i-love-it-content-sharing-wordpress-theme/698475)

[我古斯塔 - ThemeForest](http://themeforest.net/item/me-gusta-userdriven-content-sharing-theme/570785)

**2\. BuddyPress：**被认为是内容共享和社交网络的缩影，BuddyPress 是一个可用于您的 Wordpress 网站的插件，并且安装非常容易。这很可能需要最多的编辑，但插件本身是免费的。[在此处](http://testbp.org)查看 BuddyPress 最新 Wordpress 二十十二主题的功能。

# mysql - 同步 2 个数据库

> ID：13926351
> 
> 赞同：0
> 
> 时间：2012-12-18T04:35:11.747
> 
> 标签：mysql, database-replication, data-synchronization

我有 2 个具有相同表结构但在不同服务器上的 MySQL 数据库。我想让服务器 1 上的数据库更新时，服务器 2 上的数据库也会更新，反之亦然。我可以在 MySQL 中做到这一点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:39:26.810

您正在寻找的是双向复制。您可以在此处阅读为什么不使用 mysql 执行[此](http://dev.mysql.com/doc/refman/5.0/en/faqs-replication.html#qandaitem-B-13-1-5)操作如果必须，mysql 支持它，但它不能保证所涉及操作的原子性，这会在某些时候导致不一致。我强烈建议不要这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-19T18:21:43.620

做双向复制是有风险的，因为 MySQL 复制是异步的。以下是描述风险的网络研讨会的链接。网络研讨会的录像可免费查看，但您需要注册才能查看。幻灯片可免费下载。

[双主设置中多写的危害](http://www.percona.com/webinars/hazards-multi-writing-dual-master-setup)

这个问题的解决方案是[Percona XtraDB Cluster](http://www.percona.com/software/percona-xtradb-cluster)，它基本上是 MySQL 增强的同步、多路复制技术。您可以在一个集群中拥有任意数量的服务器，并且您可以将更改写入任何这些服务器。更改同步传播到集群中的所有其他节点，大大降低了风险。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-18T04:45:58.587

您可以进行数据库复制。请参阅[此链接](http://www.howtoforge.com/mysql_database_replication) ，它提供了有关如何进行数据库复制的提示。

# visual-c++ - 使用 MSYS 在 Windows 7 中构建 nginx

> ID：13926353
> 
> 赞同：4
> 
> 时间：2012-12-18T04:35:29.647
> 
> 标签：visual-c++, build, nginx, msys

我有带有 Visual Studio 2010 Pro 的 Windows 7 Pro x86。我在 c:\MinGW 也有 MinGW。我想使用 Visual C++ 在 windows 下构建 nginx。我遵循[本](http://nginx.org/en/docs/howto_build_on_win32.html)指南。

1.  我在管理员下运行 cmd，然后调用“c:\Program Files\Microsoft Visual Studio 10.0\VC\vcvarsall.bat”
2.  在 cmd 我运行 C:\MinGW\msys\1.0\msys.bat
3.  在下载先决条件之前，我 cd 到 nginx 源目录并运行配置脚本。
4.  然后我运行 nmake -f objs/Makefile

结果是以下错误：

```
Microsoft (R) Program Maintenance Utility Version 10.00.40219.01
Copyright (C) Microsoft Corporation.  All rights reserved.

'install' is up-to-date
    cl -O2  -W4 -WX -nologo -MT -Zi -DFD_SETSIZE=1024 -DNO_SYS_TYPES_H 
       -Ycng x_config.h -Fpobjs/ngx_config.pch -c -I src/core-I src/event
       -I src/event/mod ules  -I src/os/win32  -I objs/lib/pcre-8.32  
       -I objs/lib/openssl/openssl/include -I objs/lib/zlib-1.2.7  -I objs
       -I src/http  -I src/http/modules -I src/mail -Foobjs/ngx_pch.obj 
       objs/ngx_pch.c ngx_pch.c

    cl -c -O2  -W4 -WX -nologo -MT -Zi -DFD_SETSIZE=1024 -DNO_SYS_TYPES_H 
       -Y ungx_config.h -Fpobjs/ngx_config.pch -I src/core-I src/event  
       -I src/event/mod ules  -I src/os/win32  -I objs/lib/pcre-8.32  
       -I objs/lib/openssl/openssl/include  -I objs/lib/zlib-1.2.7  -I objs
       -I src/http  -I src/http/modules -I src/mail -Foobjs/src/core/nginx.obj
       src/core/nginx.c nginx.c

c:\nginx\source\src\event\ngx_event_openssl.h(15) : fatal error C1083:
Cannot open include file: 'openssl/ssl.h': No such file or directory
NMAKE : fatal error U1077: '"c:\Program Files\Microsoft Visual Studio
10.0\VC\BI N\cl.EXE"' : return code '0x2' Stop. 
```

但 OpenSSL 位于 C:\nginx\source\objs\lib\openssl

我做错了什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-16T19:00:19.483

我有同样的问题。

该问题与使用 Perl 构建的某些文件的 eol（行尾）处理有关。您不应该使用 MSYS Perl 构建。相反，您应该使用 ActivePerl 或 StrawberryPerl，如[指南](http://nginx.org/en/docs/howto_build_on_win32.html)中所述。确保 PATH 在 MSYS Perl 之前指向适当的 Perl 发行版。

```
export PATH=/appropriate/perl/dist:$PATH 
```

这个[答案](https://stackoverflow.com/questions/7680189/openssl-cant-build-in-vc-2010)帮助我解决了这个问题。

# java - Java：更新 ArrayList 中的 GUI 元素

> ID：13926355
> 
> 赞同：0
> 
> 时间：2012-12-18T04:35:31.387
> 
> 标签：java, swing, arraylist, jcomponent

我必须为我最后的 Java 学校作业创建一个游戏。在其中，我使用在 for 循环`JPanel`中扩展的定制“Peg”对象填充一个。使用. `JComponent`_ 在 for 循环中，我将“Peg”对象添加到 中，然后从中获取元素并将其添加到. 这一切都是在一个看起来像这样的方法中完成的：`JPanel``GridBagLayout``ArrayList``ArrayList``JPanel`

```
public void createDummyPegs()
{
    for (int i = 0; i < 13; i++)
    {
        initPegsArray.add(new ArrayList<>());
        dummyPegsConstraints.gridy = i;

        for (int j = 0; j < 5; j++)
        {
            dummyPegsConstraints.gridx = j;

            if (i == 0)
            {
                tempColorPeg = new ColorPeg(Color.DARK_GRAY);
                initPegsArray.get(i).add(j, tempColorPeg);
                pegsLeftPanel.add((JComponent) initPegsArray.get(i).get(j),
                                   dummyPegsConstraints);
            }
            else
            {
                tempDummyPeg = new DummyPeg();
                initPegsArray.get(i).add(j, tempDummyPeg);
                pegsLeftPanel.add((JComponent) initPegsArray.get(i).get(j), 
                                   dummyPegsConstraints); 
            }
        }
    }
} 
```

这很好用，它很好地生成了这些“Peg”对象的网格。这就是问题所在：我有一个按钮，理想情况下应该将这些“Peg”对象中的一个替换为另一个颜色不同的“Peg”对象。当我单击按钮时，我：

*   使用新的不同颜色创建新的“Peg”对象；
*   从 中删除一个元素`ArrayList`，让我们第一个；
*   将新的“Peg”添加到旧“Peg”曾经所在的位置（当然假设它最终将位于旧“Peg”曾经所在的位置，并且其他所有内容都将向右移动 1。

或者，我尝试使用该`set()`方法仅使用新的“Peg”更新给定位置的元素。问题是当我添加新的“Peg”元素时，它似乎没有用大小初始化。将这个新的“Peg”发送到一个`System.out.println()`语句以读取其中的内容，它会打印出：

```
com.rburgos.mastermindtestlayout.ColorPeg[,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=,flags=0,maximumSize=,minimumSize=,preferredSize=] 
```

我不明白为什么我第一次添加`ArrayList`它可以工作，但第二次却不行。

任何指导提示将不胜感激。如果有帮助，这是完整的代码：

*   [主程序](http://pastebin.com/vList1kb)
*   [DummyPeg.java](http://pastebin.com/9AccC8H0)
*   [ColorPeg.java](http://pastebin.com/uAXmwKWP)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T18:50:08.900

我觉得很傻，但我想我能够弄清楚。在向数组添加一个新的“Peg”并将其传递给 JPanel 之后，我正在调用`update()`. 通过现在调用`revalidate()`，新的“Peg”被添加到面板中。希望这将帮助其他有类似问题的人。

# java - 基于点分隔符拆分字符串

> ID：13926358
> 
> 赞同：1
> 
> 时间：2012-12-18T04:36:11.613
> 
> 标签：java, regex, split, switch-statement

我正在研究一种基于 . 分隔符，我使用了 Pattern 和 Matcher 类，并获取分隔符的起始位置并将它们存储在一个数组中，现在我想根据这些起始位置拆分指定的字符串，我的问题是当我尝试以下代码时，程序永远运行（无限循环）。

```
public void cutByRegex(){
     String outPut="";
     int i=0;
     int startIndex[]=new int[3];
     System.out.println("IP--->"+ip);
     Pattern p=Pattern.compile("\\.");

     Matcher m=p.matcher(ip);
     while (m.find()){
        startIndex[i]=m.start();
        i++;
        System.out.println("start: "+m.start());
     }
     System.out.println("StartIndices-->");
     for(int j:startIndex)
          System.out.println(j);
     for(i=0;i<startIndex.length+1;){
        switch(i){
        case 0:
        outPut+=ip.substring(i,startIndex[i]);
        i++;
        case 1:
           outPut+=ip.substring(startIndex[i]-1,startIndex[i]);
           i++;
        case 2:
           outPut+=ip.substring(startIndex[i]-1,startIndex[i]);
           outPut+=ip.substring(startIndex[i],ip.length());
           break;
        }
     System.out.println("group--->"+outPut);
     }    

    } 
```

例如： startIndex 数组包含 3,5,7 我想从 0--->3 从 4--->5 从 6--->7 从 8--->ip.length 子串 127.1.1.254

注意：我知道内置方法 split() 很好，我想手动完成这项工作我犯了什么错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:46:47.467

当您进行此`sampleString = "127.1.1.254";`调用时`String[] yourArrayOfString = sampleString.split(".");`，将导致`yourArrayOfString[0] = "127", yourArrayOfString[1] = "1", yourArrayOfString[2] = "1", yourArrayOfString[3] = "3"`.

您是否故意不在`break;`案例 0 和案例 1 上放置一个？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T04:48:09.913

**您没有在 for loop i 变量和案例块 2 中使用增量部分**

你的代码

```
 for(i=0;i<startIndex.length+1;){

      case 2:
         outPut += ip.substring(startIndex[i] - 1, startIndex[i]);
         outPut += ip.substring(startIndex[i], ip.length());

         break;
    }

change with it  

 for (i = 0; i < startIndex.length + 1;i++) {    
       case 2:
         outPut += ip.substring(startIndex[i] - 1, startIndex[i]);
         outPut += ip.substring(startIndex[i], ip.length());
         i++;
         break;

        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T04:41:40.233

如果你只想用'.'分割一个字符串 字符，您可以执行以下操作 -

```
String str[]= inputStr.split("\\."); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-18T04:45:51.990

您没有在 case 2 语句的末尾增加 i 。

为什么不使用 String.split()？例如 ip.split("\.");

# php - PDO - 为 foreach() 提供的参数无效

> ID：13926359
> 
> 赞同：2
> 
> 时间：2012-12-18T04:36:22.163
> 
> 标签：php, mysql, pdo

我正在尝试输出我的 mysql 数据库的内容，但无论我使用什么方法都会出错，这是我现在使用的代码；

```
try 
{
    $dbh = new PDO("mysql:host = $hostname; dbname = kzkcubcy_webDev", $username, $password);
    /*** echo a message saying we have connected ***/
    echo 'Connected to database<br />';

    /*** The SQL SELECT statement ***/
    $sql = "SELECT * FROM animals";
    foreach ($dbh->query($sql) as $row)
    {
        print $row['animal_type'] .' - '. $row['animal_name'] . '<br />';
    }

    /*** close the database connection ***/
    $dbh = null;
}
catch(PDOException $e)
{
    echo $e->getMessage();
}
?> 
```

其输出的错误是“警告：在第 21 行的 /home/kzkcubcy/public_html/index.php 中为 foreach() 提供的参数无效”

第 21 行是；“ foreach ($dbh->query($sql) as $row) ”。我已经厌倦了很多其他方法来让它工作，但即使从教程中逐字复制似乎也不起作用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-18T04:41:57.423

改变

```
$dbh = new PDO("mysql:host = $hostname; dbname = kzkcubcy_webDev", $username, $password); 
```

至

```
$dbh = new PDO("mysql:host=$hostname;dbname=kzkcubcy_webDev", $username, $password); 
```

我认为您不允许在 DSN 字段中有空格。

# c# - 数据编码和解码

> ID：13926360
> 
> 赞同：0
> 
> 时间：2012-12-18T04:36:39.233
> 
> 标签：c#, encoding, serial-port, extract, decoding

我确实有一个编码函数可以创建一个命令，我假设我有一个字节字符串输出，例如 (0010010210004443331012011101000)

我确实需要创建解码函数来从这个字节中提取一些数据让我们说从位置 8 到 12 并且在提取这个之后检查 Array 的第一个字节是否为 00 然后返回我以 ASCII 提取数据

这是我的解码

这是我的完全错误的解码

```
public byte[] Decode(string Resp)
{

    string NewResp = Resp;
        string SubResp = NewResp.Substring(65, 185);
        Console.WriteLine("Substring: {0}", SubResp);

        MessageBox.Show(SubResp);
    return null;
} 
```

这是编码

```
 {

        return bCommand;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:27:29.133

你有像

```
string hexstr= "68696d616e736875";
string subHexstr= hexstr.Substring(2,3); // Lets say index from 3rd byte to 5th byte.
byte[] by=new byte[subHexstr.Length];
        int j = 0;
        for (int i = 0; i < by.Length; i++)
        {
            by[i] = byte.Parse(subHexstr.Substring(j, 2), System.Globalization.NumberStyles.HexNumber);
            j = j + 2;
        }

if(by[0]!=0x00)
{ 
  string asciiStr= Encoding.Ascii.GetString(by);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:56:55.610

```
 class Program
    {
        static void Main(string[] args)
        {
            byte[] encoded =
                {
                    0x01, 0x00, 0x00, 0x24, 0x02, 0x43, 0x31, 0x31, 0x00, 0x00, 0x01, 0x43, 0x49, 0x53, 0x2D,
                    0x34, 0x36, 0x58, 0x58, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x11
                };

            byte[] toCheck = SubArray<byte>(encoded, 8, 5); // start index at 8 and u need till 12th

            if (toCheck[0] != '\0')
            {
                Console.WriteLine(Encoding.ASCII.GetString(toCheck));
            }

            Console.Read();
        }

        public static T[] SubArray<T>(T[] data, int index, int length)
        {
            T[] result = new T[length];
            Array.Copy(data, index, result, 0, length);
            return result;
        }

    } 
```

# ruby - 测试完成/执行 8 不会 RefreshMappingInfo 除非它通过 COM 完成

> ID：13926370
> 
> 赞同：0
> 
> 时间：2012-12-18T04:38:40.730
> 
> 标签：ruby, testcomplete

我在 TestComplete v8 中运行一个测试脚本。内存中的对象图已过时（出现对话框）。

我运行以下 VBScript 代码

```
Sys.Process("iexplore").RefreshMappingInfo() 
```

我收到以下错误消息...

```
Unable to find the object RefreshMappingInfo. See Additional Information for details.

The object with the specified attributes does not exist.

Possible causes of the error 
```

此错误与 TC 将方法调用解释为尝试查找控件有关。

真的很奇怪.. 如果我通过 COM 连接到 TC8 并执行相同的代码，它工作正常。所以在红宝石中：

```
require 'win32ole'
tc = WIN32OLE.connect("TestComplete.TestCompleteApplication.8")
integration = tc.integration
Sys = integration.GetObjectByName("Sys")
puts Sys.Process("iexplore").Page("http://localhost:50563/x.aspx") _
  .Form("form1").Panel("silverlightControlHost").Object(0).UIAObject("Popup").Exists
' This returns false

Sys.Process("iexplore").RefreshMappingInfo()
' No error raised

puts Sys.Process("iexplore").Page("http://localhost:50563/x.aspx") _
  .Form("form1").Panel("silverlightControlHost").Object(0).UIAObject("Popup").Exists
' returns true 
```

为什么这在测试期间不起作用？我如何解决它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-18T05:28:46.750

TestComplete 具有三个对象树：

1.  可以在对象浏览器面板中找到并包含所有应用程序对象的**系统树。**
2.  包含所有映射名称的**NameMapping树。**
3.  记录测试时使用的**别名**树，测试人员可以灵活修改。

Aliases 树中的对象引用**NameMapping**树中的对象，而后者中的对象是引用**Sys**树中的对象。RefreshMappingInfo方法用于将存储在 NameMapping 树的对象中的这些引用刷新**为**Sys**树中的****对象**。因此，该方法仅适用于**NameMapping**和**Aliases**树中的对象。

在您的代码中，您使用**Sys**树中的一个对象：*Sys.Process("iexplore")*。由于**Sys**树中的对象没有**RefreshMappingInfo**方法，因此您会收到错误消息。您需要调用**Refresh**方法或尝试使用**NameMapping**或**Aliases**树中的对象。例如：

*   *Sys.Process("iexplore").Refresh()*
*   *Aliases.IExplore.RefreshMappingInfo()*

# css - 容器内的谷歌地图

> ID：13926371
> 
> 赞同：1
> 
> 时间：2012-12-18T04:38:40.497
> 
> 标签：css, google-maps

我在将 Google 地图放置在我的容器中时遇到了一些问题，当我将它放入我的任何容器中时，它会在加载时出现一些问题，它只能在我所有的容器之外工作:(

```
<section class="lookingfor">
      <ul class="clearfix">
        <li class="homeMap">
            <div id="map_canvas" style="width: 100%; height: 100%"></div>
        </li>
      </ul>
    </section> 
```

找课：

```
section.lookingfor .skills div.text {font-family: 'Open Sans', sans-serif; color:#666; font-size:14px; line-height:22px;}
section.lookingfor ul li.homeMap {width: 100%; height: 100%;} 
```

不确定第一行是否影响：O

清除修复：

```
.clearfix:after {    content: ".";    display: block;    height: 0;    clear: both;    visibility: hidden;    } 
```

homeMap 类：

```
section.lookingfor ul li.homeMap {width: 100%; height: 100%;} 
```

提前致谢！:)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-18T09:50:35.727

放

```
position:relative; 
```

并使用固定的高度和宽度而不是 % 因为 % 会给你 0 高度。“那是因为 div 试图成为 的大小的百分比，但默认情况下 div 的高度不确定。”

将解决问题。感谢观看的人:)

# java - if 语句中的布尔运算符表现时髦

> ID：13926377
> 
> 赞同：-5
> 
> 时间：2012-12-18T04:39:21.880
> 
> 标签：java

我一直坐在这里试图了解这段代码是如何运行的。我了解（或认为我了解）布尔运算符在 if 语句中的工作方式，但显然我不了解。代码是：

```
public class Exercise_6_24 {
  public static void main(String[] args) {
        final int NUMBER_OF_CARDS = 52;
        String[] suits = {"Clubs", "Diamonds", "Hearts", "Spades"};
        String[] ranks = {"Ace", "2", "3", "4", "5", "6", "7", "8", "9",
          "10", "Jack", "Queen", "King"};
        // found indicates whether a suit has been picked
        boolean[] found = new boolean[4]; 

        // Count the number of picks
        int numberOfPicks = 0;

        // Count occurrence in each suit
        int count = 0;
        while (count < 4) {
          numberOfPicks++;
          int index = (int)(Math.random() * NUMBER_OF_CARDS);
          if (!found[index / 13]) {
            found[index / 13] = true;
            count++;

            String suit = suits[index / 13];
            String rank = ranks[index % 13];
            System.out.println(rank + " of " + suit);
          }
        }

        System.out.println("Number of picks: " + numberOfPicks);
      }
} 
```

这基本上是那些选卡问题之一。我感到困惑的部分是 while 循环中的第一个 if 语句。在循环之前，找到的布尔数组中的所有槽都设置为 false。然而，while 循环中的 if 语句正在测试找到的布尔数组是否设置为 true，如果为 true，则运行 if 语句中的代码。它不应该运行，但它会运行。当我在那里设置断点时，我看到布尔数组槽从 false 变为 true 以使 if 语句中的代码运行。

我真的不明白这是怎么回事。有人可以向我解释这是怎么回事吗？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-18T04:44:41.590

你不是在测试它是否是真的，你是在测试它是否是假的。这个说法：

```
!found[index / 13] 
```

方法：

> 取`found[]`at的位置`index / 13`，测试是否*不是* `true`。

`!`是一个布尔补码，所以它反转了值。如果`found[index / 13]`is `false`，则`!found[index / 13]`is `true`，因此该`if`语句将运行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T04:44:25.080

`if (!found[index / 13]) {`

将其读作“如果未找到此卡**”**。它正在检查该值是否为**`false`**，因为只有这样 !found[..] 才会为真，并且该`if`块将执行。

# iframe - 有没有办法使用 iframe 在网页中显示 facebook 群组或墙相册

> ID：13926380
> 
> 赞同：0
> 
> 时间：2012-12-18T04:39:43.720
> 
> 标签：iframe, webpage

拥有一个域和一个 Facebook 页面。

想在网站的网页中显示 facebook 页面的相册。

希望在不添加代码的情况下添加新图片和相册

想成为iframe。

我已经通过谷歌和雅虎搜索。也在看徽章，但它要我创建一个新页面。

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T04:42:18.543

没有。但是，如果您使用 Wordpress 或其他博客脚本/服务，您可以使用[Facebook Walleria](http://zoxion.com/walleria/)等插件来完成您想要做的事情。

# jquery - 使用 doubletap 替换 jquery mobile 中的 dblclick 但在 IPAD 中不起作用

> ID：13926391
> 
> 赞同：1
> 
> 时间：2012-12-18T04:41:05.083
> 
> 标签：jquery, ipad, jquery-mobile, double-click

jquery mobile 提供了一个 doubletap 选项，但是，当我使用 Ipad 进行测试时，它只会执行缩放页面的默认行为，有什么办法可以解决吗？谢谢

```
 $("#book div img").live('doubletap', function() {
            $("#book").turn("disable", true); 
            var path = this.src;
            path = path.replace("medium", "original");
            var imgPath = path.replace("medium", "image");
            path = path.replace("jpg", "png");
            var textPath = path.replace("medium", "text");
            //$("body").prepend("<div id = 'view'><div id = 'popup'><img id = 'largeText' src = '' /><img id = 'largeImg' src = '' /></div></div><img id = 'close' src = 'img/close.png' /><div id='slider' style='display:none;position:fixed;z-index:105;height:25%;right: 2%;top:25%;'></div>"); 
            $("body").prepend("<div id = 'view'><div id = 'popup'><img id = 'largeText' src = '' /><img id = 'largeImg' src = '' /></div></div><img id = 'close' src = 'img/close.png' /><img id = '1x' src ='img/1x.png' class = 'icon' style='top:280px;'><img id = '2x' src ='img/2x.png' class = 'icon' style='top:340px;'><img id = '4x' src ='img/4x.png' class = 'icon' style='top:400px;'></div>"); 
            //$(".nav_arrow").css("visibility","hidden");
            $("footer").css("visibility","hidden");

            $("#largeText").attr("src",textPath);
            $("#largeImg").attr("src",imgPath);

            $("#view").css("height",$(window).height());
            $("#view").css("width",$(window).width());

            $("#popup").css("height",$("#largeImg").height());
            $("#popup").css("width",$("#largeImg").width());

            element = $('#view').viewport();
            content = element.viewport('content');
            content.draggable({
                containment: 'parent'
            });
            content.scraggable({
                containment: 'parent',
                sensitivity:'40'
            });

            $( "#view" ).show();
            $( "#popup" ).show();
            $( "#close" ).delay(500).show(0);
            $( ".icon" ).delay(500).show(0);
            $( ".icon" ).fadeTo("slow", 0.43); 
        }); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-18T12:27:03.753

此问题可以修复，但您将需要丢失部分 iOS Web 功能。

要启用双击，您需要禁用页面缩放：

您还需要注意顶部示例中的 mata 标记仅在 iOS 设备上使用，因为这些属性可能会在其他设备上导致问题，有关它的更多信息可以在这里找到：[https ://stackoverflow.com/a/12270403/ 1848600](https://stackoverflow.com/a/12270403/1848600)

通过禁用页面缩放，您将禁用 iOS 设备上的页面缩放。

# javascript - 将 onclick 事件上的父表单传递给 javascript 函数

> ID：13926395
> 
> 赞同：7
> 
> 时间：2012-12-18T04:41:20.277
> 
> 标签：javascript, html, dom-events

我正在尝试将`onclick`事件上的变量传递给 Javascript 函数。我正在尝试以下方式，我无法在 Javascript 函数中获取输入值。（我期待 1 的警报。）这是正确的做法吗？请帮忙。

```
<html>

    <head>
        <script>
            function submit_value(form) {
                alert(form.ip.value);
            }
        </script>
    </head>
    <table>
        <tr>
            <form>
                <td>
                    <input id="ip" type="text" value="1">
                </td>
                <td>
                    <a href="javascript:;" onClick="submit_value(this)">Button</a>
                </td>
            </form>
        </tr>
    </table>

</html> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-18T04:50:12.057

你的脚本不知道是什么`form`。您需要指定`document.forms[0].ip.value`。

如果文档上有多个表单，那么最好先将表单元素存储在变量中。你可以在表格上有一个ID...

`<form id="formID">`

在 submit_value 函数中，您可以拥有

`var myForm = document.getElementById('formID'); alert(myForm.ip.value);`

**编辑：**

您可以`this.form`用于锚标记的 onClick。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:54:52.640

把函数改成这样：

```
 function submit_value(form) {
        alert(document.getElementById('ip').value);
    } 
```

当你写`submit_value(this)`时， 的值`this`实际上是元素`<a>`本身，而不是表单。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T05:48:49.020

我假设你可以使用 jquery。选择器很简单。

将以下表单 html 从

```
<form>
        <td>
            <input id="ip" type="text" value="1">
        </td>
        <td>
            <a href="javascript:;" onClick="submit_value(this)">Button</a>
        </td>
 </form> 
```

到

```
 <form>
        <td>
            <input id="ip" type="text" value="1">
        </td>
        <td>
          <a href="" class="mySubmitButton">Button</a>
        </td>
 </form> 
```

然后你的 JS 看起来像

```
$('.mySubmitButton').click(function() {

  var inputBox = $(this).prev(); 
  alert(inputBox.val());
  return false; //This prevents the default function submit . Similar to event.preventDefault
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-28T17:33:55.583

JQuery 无处不在。您不需要 JQuery。为什么人们会忘记 DOM 对象模型？他几乎以正确的方式制作了一切：

```
 <head>
        <script>
            function submit_value() {
                alert(document.forms[0].ip.value);
            }
        </script>
    </head>
    <table>
        <tr>
            <form>
                <td>
                    <input name="ip" type="text" value="1">
                </td>
                <td>
                    <a href="javascript:;" onClick="submit_value()">Button</a>
                </td>
            </form>
        </tr>
    </table>
```

或者您可以添加表单 ID

```
 <head>
        <script>
            function submit_value() {
                alert(document.forms.formid.ip.value);
            }
        </script>
    </head>
    <table>
        <tr>
            <form id='formid'>
                <td>
                    <input name="ip" type="text" value="1">
                </td>
                <td>
                    <a href="javascript:;" onClick="submit_value()">Button</a>
                </td>
            </form>
        </tr>
    </table>
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-04-15T16:04:28.320

我们可以在没有给表单 Id 和没有 JQuery 的情况下做到这一点。有关详细信息，请参阅[表单](https://developer.mozilla.org/en-US/docs/Web/API/FormData)数据。

```
 function test(frm) {
      const formData = new FormData(frm);
      for (var value of formData.values()) {
          console.log(value);
      }
  }
```

```
<form action="/action_page.php">
  <label for="fname">First name:</label><br>
  <input type="text" id="fname" name="fname" value="John"><br>
  <label for="lname">Last name:</label><br>
  <input type="text" id="lname" name="lname" value="Doe"><br><br>
  <input type="button" value="Submit" onclick="test(this.form)">
</form> 
```

# java - 带 JCIFS 的 JPEG 转码器

> ID：13926397
> 
> 赞同：1
> 
> 时间：2012-12-18T04:41:29.860
> 
> 标签：java, jcifs

我参考了以下链接将 SVG 文件转换为 JPEG：

```
http://xmlgraphics.apache.org/batik/using/transcoder.html 
```

以下是我尝试过的示例：

```
import java.io.*;

import org.apache.batik.transcoder.image.JPEGTranscoder;
import org.apache.batik.transcoder.TranscoderInput;
import org.apache.batik.transcoder.TranscoderOutput;

public class SaveAsJPEG {

    public static void main(String[] args) throws Exception {

        // Create a JPEG transcoder
        JPEGTranscoder t = new JPEGTranscoder();

        // Set the transcoding hints.
        t.addTranscodingHint(JPEGTranscoder.KEY_QUALITY,
                   new Float(.8));

        // Create the transcoder input.
        String svgURI = new File(args[0]).toURL().toString();
        TranscoderInput input = new TranscoderInput(svgURI);

        // Create the transcoder output.
        OutputStream ostream = new FileOutputStream("out.jpg");
        TranscoderOutput output = new TranscoderOutput(ostream);

        // Save the image.
        t.transcode(input, output);

        // Flush and close the stream.
        ostream.flush();
        ostream.close();
        System.exit(0);
    }
} 
```

上述程序在项目路径中创建文件的 JPEG 版本。是否有可能使用 JCIFS (SmbFile) 概念让该程序在受保护的共享文件夹中读取和创建转换后的文件？

# django - 为类似 SNS 的内容修改 Johnny 缓存

> ID：13926401
> 
> 赞同：1
> 
> 时间：2012-12-18T04:41:41.770
> 
> 标签：django, caching, user-generated-content, django-johnny-cache

Johnny 缓存适用于只读数据表或很少更新数据的表，例如游戏元表。它具有表级版本控制，如果目标表上发生更新，它将自动使目标表上的查询缓存过期。

对于类似 SNS 的应用程序，UGC 通常可以通过 user_id 进行分片，并且缓存通常在每个用户级别完成，所以我正在考虑将自动版本控制机制从表级别更改为用户级别，例如表级别，一个键在概念上看起来像

> “jc _ {表名} _ {表版本} _ {查询哈希}”

对于它想要的用户级密钥

> “jc_{表名}_{”表+{用户ID}”_版本}_{查询哈希}”

假设缓存是在特定用户的表视图上完成的（考虑到“select * from table where user_id=111”的视图作为 johnny-cache 工作的表）。然后它可以用于以统一的方式缓存大部分 UGC。

我知道没有解决所有问题的灵丹妙药，但对于这个建议，你能和我分享任何信息或建议吗？提前致谢。

# c# - 在 LongListSelector 中，如何从 LongListSelectorItem 的多个部分获取数据

> ID：13926406
> 
> 赞同：0
> 
> 时间：2012-12-18T04:42:27.453
> 
> 标签：c#, xaml, windows-phone-8, longlistselector

所以，我有`LongListSelector`a`CheckBox`并且它绑定到一个`List<People>`对象

```
<phone:LongListSelector.ItemTemplate>
    <DataTemplate>
        <StackPanel Orientation="Horizontal" Width="Auto">
            <CheckBox Tap="CheckedBox"/>
            <TextBlock Text="{Binding FirstName}" FontSize="{StaticResource PhoneFontSizeLarge}"/>
            <TextBlock Text=" "/>
            <TextBlock Text="{Binding LastName}" FontSize="{StaticResource PhoneFontSizeLarge}"/>
        </StackPanel>
    </DataTemplate>
</phone:LongListSelector.ItemTemplate> 
```

我有以下事件处理程序

```
private void CheckedBox(object sender, RoutedEventArgs e)
{
    if ((bool)(((CheckBox)sender).IsChecked))
    {   
        (Person)LongList1.SelectedItem).Attend[(App.Current as App).eventCount] = 'Y';
    }
} 
```

这是不一致的。我该如何解决这个问题，以便我可以使用该`CheckBox`值来更改`LongListSelectorItem`链接到的对象？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T06:26:24.207

你将它绑定到你的 People 对象上的一个值（也许是布尔值）并设置 Mode=TwoWay。

```
Checked="{Binding=IsMale, Mode=TwoWay}"/> 
```

# mysql - 优化多对多关系的查询以搜索不相关的标签

> ID：13926408
> 
> 赞同：1
> 
> 时间：2012-12-18T04:42:40.637
> 
> 标签：mysql, many-to-many

我正在开发一个应用程序，该应用程序将通过禁用搜索池中不相关的标签来进行某种智能数据搜索。

例如（对不起，如果我的格式可能很糟糕），给定这张表：

```
 _id  |  _tagname
    1       A
    1       B
    1       C
    2       A
    2       B
    3       A
    4       B
    5       C
    6       D 
```

当用户选择标签**A**时，（将对*每个*标签选择执行以下操作）：

1.  获取与标签匹配的 ID -> **1, 2, 3**现在将成为新的搜索池
2.  隐藏所有不相关的标签 -> **D**因为标签**B**和**C**将允许用户过滤标签以获得 ID **1**

**TL;DR**：这是我目前的方法，我想知道是否有办法优化它，因为目前获得结果需要很长时间

```
SELECT _tagname FROM datatags WHERE 
(_tagname) NOT IN 
( SELECT _tagname FROM datatags WHERE 
_id IN (1,2,3)) 
GROUP BY _tagname 
```

谢谢！这是我第一次发布问题，所以请放轻松:)

*编辑：格式化*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T04:59:29.567

你最终是在寻找一起出现的标签，还是真的想要那些奇怪的标签？

`{ A, B, C }`以下是查找相关标签的两种方法（返回`A`or`B`和`C`返回）`{ D }``D`

*   使用相关子查询：

    ```
    SELECT DISTINCT _tagname 
    FROM   datatags 
    WHERE  _id IN (SELECT _id 
                   FROM   datatags 
                   WHERE  _tagname = ?) 
    ```

*   使用自联接：

    ```
    SELECT DISTINCT b._tagname 
    FROM   datatags a 
           JOIN datatags b USING (_id) 
    WHERE  a._tagname = 'A' 
    ```

对于相反的（从不与给定标签一起出现的标签），您会发现整个标签集与相关标签之间的差异。MySQL 不支持`MINUS`，但这里有一种方法可以找到不相关的标签：

*   使用带有自连接的相关子查询：

    ```
    SELECT _tagname 
    FROM   datatags 
           LEFT JOIN (SELECT DISTINCT _tagname 
                      FROM   datatags 
                      WHERE  _id IN (SELECT _id 
                                     FROM   datatags 
                                     WHERE  _tagname = ?)) a USING (_tagname) 
    WHERE  a._tagname IS NULL 
    ```

# selenium - 如何捕获标签名称？

> ID：13926412
> 
> 赞同：0
> 
> 时间：2012-12-18T04:43:09.687
> 
> 标签：selenium, webdriver, selenium-webdriver

您能否帮我捕获下面提到的代码的文本或标签名称：

```
<td class="labelCol last">
<label for="CF00N20000003eIaC">Gifts & Entertainment Expenditure</label>
</td> 
```

问候， 桑比特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T09:31:56.730

```
driver.findElement(By.xpath("//label[@for='CF00N20000003eIaC']")).getText(); 
```

或者，如果“CF00N20000003eIaC”是动态的，

```
driver.findElement(By.xpath("//td[@class='last']//label")).getText(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T09:33:13.570

使用您提供给我们的信息，尝试

```
String labelText = driver.findElement(By.cssSelector("td.last label")).getText(); 
```

这会根据 的`last`类选择标签`<td>`。如果页面上有更多这些元素，它将不起作用。如果 中的`label`元素更多`td`，它将不起作用。

您要么必须为我们提供更多的页面上下文，要么您应该能够根据页面上下文提出更好的选择器。

# ios - 完成核心数据查询后显示的警报视图？

> ID：13926417
> 
> 赞同：0
> 
> 时间：2012-12-18T04:43:53.680
> 
> 标签：ios, core-data, uialertview

我想在查询核心数据之前显示 alertview。

我的核心数据会查询数十万条记录，这需要一些时间，但是当我尝试显示alertview时，核心数据处理完成后才显示alertview？

它出什么问题了？如何在查询之前显示警报视图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T04:51:19.233

切换代码以在线程中获取数据，然后显示警报框。

脚步 ：

1.  启动线程以从数据库中获取数据。
2.  显示带有进度的警报对话框或您想要的任何内容。
3.  当数据获取回调来时，关闭警报对话框。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T07:18:42.830

我设法通过以下方式解决了这个问题：

```
dispatch_queue_t request_queue = dispatch_queue_create("com.appname.method", NULL);
dispatch_async(request_queue, ^{
Your long process here..
}); 
```

当需要更新 GUI 时，使用这个：

```
dispatch_async(dispatch_get_main_queue(), ^{
}); 
```

# javascript - 节点的heroku：！Heroku 推送被拒绝，未检测到 Cedar 支持的应用程序

> ID：13926419
> 
> 赞同：11
> 
> 时间：2012-12-18T04:43:58.360
> 
> 标签：javascript, node.js, heroku, express

我是 heroku 和 express.js 的新手。我尝试完成本教程，但我无法通过步骤 'git push heroku master' 完成。我完全按照教程进行。以下是错误消息：

```
Counting objects: 269, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (241/241), done.
Writing objects: 100% (269/269), 188.93 KiB, done.
Total 269 (delta 9), reused 0 (delta 0)
 !     Heroku push rejected, no Cedar-supported app detected

To git@heroku.com:cryptic-journey-9914.git
 ! [remote rejected] master -> master (pre-receive hook declined)
error: failed to push some refs to 'git@heroku.com:cryptic-journey-9914.git' 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-12-18T06:00:46.687

您是否阅读了Heroku 开发中心[上的 Heroku 上的 Node.js 入门文章？](https://devcenter.heroku.com/articles/nodejs)

您需要[使用 Procfile 声明您的流程类型](https://devcenter.heroku.com/articles/nodejs#declare-process-types-with-procfile)。为此，请创建一个名为 的文件`Procfile`，其内容如下：

```
web: node web.js 
```

假设您的 javascript 文件被调用`web.js`。

ps不要忘记将Procfile添加到git并提交它。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-12-18T05:10:09.200

您需要一个 package.json 文件（和一个 Procfile），但可能并非如此。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-12-22T17:56:47.423

我之前遇到过这个问题，这是因为我试图将远程分支推送到 heroku。

为了解决这个问题，而不是使用：

```
git push heroku master 
```

我用了：

```
git push heroku my-branch:master 
```

`my-branch`这会将git 存储库中的远程分支推送到`master`heroku 的分支。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-10-31T15:18:26.953

只是为了记录，我遇到了同样的问题，结果证明它是 Heroku 中的 Config Vars 之一。我删除了配置变量，应用程序被成功推送。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-08-21T22:18:14.467

对我来说，做`npm init`就够了

# jquery - 为 jquery Carousel 创建动态 id

> ID：13926422
> 
> 赞同：-1
> 
> 时间：2012-12-18T04:44:16.313
> 
> 标签：jquery, carousel

```
<div id="container_01">
    <div class="pikachoose">
        <ul id="pikame" class="jcarousel-skin-pika">
            <li>
                <img id="main_photo" name="main_photo" src="image.jpg" width="520" height="380" class="delayLoad" border="0"/>
            </li>
        </ul>
   </div>     
</div> 
```

由于一个页面上有很多轮播 div，因此只有第一个 div 正确显示，并且仍然失败。

如何在同一页面上创建多个轮播？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:19:58.043

使用最新的 jcaraousel.min.js

阅读此链接 [http://sorgalla.com/projects/jcarousel/](http://sorgalla.com/projects/jcarousel/)

完整的文档。好好利用他们的财产。

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:55:18.680

ID 对页面是唯一的；但是，类可以使用任意次数。

例如，您可以使用以下代码段来定位类名称为“foo”的每个元素。

```
$('.foo').each(function(){
 //dosomething
}); 
```

# javascript - 变量范围：函数内部的全局变量

> ID：13926427
> 
> 赞同：0
> 
> 时间：2012-12-18T04:44:46.670
> 
> 标签：javascript, json

我正在尝试将 JSON 数组分配给一个变量，如下所示：

```
$.getJSON("tljson.json",function(result){
  items = JSON.stringify(result);
}); 
```

然后在函数外调用该变量：

```
timeline.draw (items,options); 
```

在 getJSON 函数内部使用 alert (items) 是可行的，但是，在函数外部，它只返回“未定义”。我认为这会起作用，因为我在 getJSON 函数中将项目声明为全局变量。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:47:18.887

您可能没有等待`getJSON`功能完成。它是**异步**的，这意味着它下面的代码将在回调函数中的代码*之前执行。*

```
alert(1);
$.getJSON("tljson.json",function(result){
  alert(2);
  items = JSON.stringify(result);
});
alert(3); 
```

上面的例子实际上是then警报`1`then 。请注意，在之前。`3``2``3``2`

为了修复您的代码，您需要等到回调函数被调用，以便它可以`items`在您尝试使用该变量之前为其分配一个值。提出解决方案可能取决于您的情况，但一个简单的想法是从回调中调用某个函数。

```
$.getJSON("tljson.json",function(result){
  items = JSON.stringify(result);
  doSomethingWithItems();
});

function doSomethingWithItems() {
  alert(items); // Correctly alerts items.
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T04:47:06.957

这是因为您的代码在收到来自 getJSON 的响应之前正在执行。像这样使用它：

```
 function afterGetJSON(items) {
    timeline.draw (items,options);
  }

  $.getJSON("tljson.json",function(result){
    items = JSON.stringify(result);
    afterGetJSON(items);

  }); 
```

# java - 如何在文本区域中打印对象结果？

> ID：13926428
> 
> 赞同：0
> 
> 时间：2012-12-18T04:44:46.533
> 
> 标签：java, netbeans

我是 JAVA 的新手，我正在使用 netbeans，我想打印一个对象的结果，该对象在 textarea 中包含我想要的信息，我该怎么做？

这是我的代码的一部分

```
String referance= ref.getText();
String hypothesis=hyp.getText();

    WordSequenceAligner werEval = new WordSequenceAligner();
    String [] ref = referance.split(" ");
    String [] hyp = hypothesis.split(" ");

    WordSequenceAligner.Alignment a = werEval.align(ref, hyp);
    result.append(a); 
```

我想打印对象 a。 `result`是 textarea 实例的名称。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:10:11.080

```
JTextArea result = new JTextArea("Welcome stakoverflow.com",5,20);

result.setText("this is a text area"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:51:16.690

您需要`tostring`为您的课程覆盖方法`WordSequenceAligner.Alignment`。

为了打印对象的信息，您需要覆盖`toString`该类的方法，以便每当您调用`toString`该类的对象时，它都会返回您偏好的字符串：

这是一个简单的例子：

```
class A{
int a = 10;

public String toString(){
 String myString = "This is an object of class A. It  has x = "+x;

 return myString;
}

} 
```

因此，现在当您调用`toString`A 类的实例/对象时，它将返回您创建的字符串，而不是该对象的哈希值。

```
public class Test{
 public static void main(String args[]){

  A a = new A();
  System.out.println(a);
  // or System.out.println(a.toString());
  // will output "This is an object of class A. It  has x = 10"

} 
```

# joomla2.5 - 美德mart2如何显示底价？

> ID：13926432
> 
> 赞同：0
> 
> 时间：2012-12-18T04:45:15.727
> 
> 标签：joomla2.5, virtuemart

我正在使用 Joomla 2.5.8 和美德市场 2.0.14 版。我想在前面显示基本价格和最终销售价格，但它只显示销售价格而不显示基本价格。当我使用管理员帐户登录时，它同时显示价格，但没有登录它只显示销售价格。我该如何解决这个问题，请帮助我，我是美德市场的新手，还有一个是我想显示带有三振的基本价格。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:26:17.167

在德德玛特的管理端有一个配置链接。在那里你可以看到“价格”选项卡。在那里你可以检查你想在前端显示的价格。所以检查基本价格显示选项。而已。

（这将是配置 URL yoursitename/administrator/index.php?option=com_virtuemart&view=config）

# android - 如何使 Android 应用程序无法在某些位置运行？

> ID：13926433
> 
> 赞同：0
> 
> 时间：2012-12-18T04:45:16.640
> 
> 标签：android, gps, httpwebrequest, wifi

我对 Android 并不陌生，但我想做什么我还没有找到答案。

我知道如果应用程序位于某个位置（靠近手机信号塔、活动 wifi 等），我们可以让应用程序工作，但我想做的是相反的事情。

例如，如果我有人走进学校区域，我希望应用程序关闭 http 请求，或者如果用户走进警察局，我希望应用程序崩溃！因此，如果用户在某个区域内，应用程序将运行，但如果他们离开该区域，应用程序将关闭。

那有可能吗？如果可以，我该如何实现这个目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T08:10:56.477

我制作了一个具有类似功能的应用程序。当用户在校园内时，他们的电话不会响铃，而是会在有来电时振动。为此，我的应用程序作为服务运行；当他们的手机打开时，它会在后台启动并运行。该应用程序将通过每 10 分钟获取用户 GPS 位置来不断监控用户位置（但是这会很快耗尽电池电量）。

获得用户位置后，我必须确定他们是否在校园内。我在校园中心选择了一个 GPS 点，并将其与用户位置进行了比较。为此，我使用 Location.distanceBetween() 方法来确定用户是否在校园中心半英里半径范围内。如果用户在校园里，我会将电话设置更改为振动，当他们离开校园时，我会将其更改回之前的设置。

正如 NickL 提到的，您需要对静态位置进行编码或从服务器获取它们。此外，将您的区域设为圆形会比其他形状容易得多。

# android - 如何从其他布局中的edittext获取文本

> ID：13926434
> 
> 赞同：0
> 
> 时间：2012-12-18T04:45:44.617
> 
> 标签：android, android-edittext

我有两种布局（名称是 regis 和 log）

当我使用代码时，我无法从 regis.xml 中的 EditText 获取文本到 log.xml

> 设置内容视图（R.layout.log）；
> 
> ...
> 
> 最终 EditText 用户 = (EditText) findViewById(R.id.edt1);
> 
> 字符串 usr = user.getText().toString();

因为“edt1”是元素其他布局（edt1 是 id EditText regis.xml）

如何让 edt1 进入 log.xml ？请举例

非常感谢你

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-18T05:02:25.993

您可以使用 LayoutInflater 类。创建一个 LayoutInflater，然后对包含您要访问的视图的布局文件进行膨胀（在本例中为 EditText）。

```
 LayoutInflater factory = getLayoutInflater();
    View regisText = factory.inflate(R.layout.regis, null);
    EditText user = (EditText) regisText.findViewById(R.id.edt1); 
    String usr = user.getText().toString(); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-18T05:17:47.113

做你的

```
String usr as public static String usr 
```

并在另一个活动中访问它

# c++ - 如何使用 boost::asio::serial_port 支持硬件流控制？

> ID：13926439
> 
> 赞同：5
> 
> 时间：2012-12-18T04:46:14.520
> 
> 标签：c++, boost, serial-port, boost-asio, flow-control

我正在使用 Boost 的 asio::serial_port 库与虚拟串行端口（FTDI 芯片）交谈。我想使用硬件流控制（即 RTS/CTS），但我似乎找不到太多关于如何将它与 Boost 一起使用的文档。我得到的代码是：

```
serialPort.set_option(boost::asio::serial_port::
flow_control(boost::asio::serial_port::flow_control::hardware)); 
```

有了这条线，程序将不会运行。它说：

```
libc++abi.dylib: terminate called throwing an exception
Abort trap: 6 
```

如果我更改`...flow_control::hardware`为`...flow_control::software`or `...flow_control::none`，串行端口工作正常（但显然没有硬件流控制）。我花了很多时间寻找有关此的任何文档，但没有找到任何文档。有谁知道如何在 Boost 中使用流量控制，或者知道这是在哪里记录的？我在 Mac OS 10.8.2 上使用 Fink 的 Boost。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-10T17:47:18.303

这是一个旧链接，但考虑到它是谷歌上搜索序列数据的两个不同搜索的热门搜索项目，我觉得它需要一个答案。

线路本身不是问题。由于在错误的时间调用函数，问题可能是抛出的异常。

信不信由你，你需要先打开端口，然后再设置流量控制。上面的行并没有给出这些行相对于其他行何时被调用的完整图片。当端口打开时，将 setoption 设置为 after，它应该可以工作。

还有一个版本的 set_option 以 boost::system_error 作为参数。如果由于某种原因该版本无法正常工作，该版本将返回错误。如果您不使用带有 system_error 参数的版本，那么您应该在 try/catch 块中包装一个可以并且将抛出异常的函数。

此外，终止是由于未处理的异常（编码问题），因此终止时的神秘异常。如果您处理异常，异常本身将指向串行配置问题（运行时问题），这可能是缺乏设置权限或端口未打开，因此 RTS 可用性验证失败等。

# c - 这个代码片段详细做了什么？

> ID：13926442
> 
> 赞同：0
> 
> 时间：2012-12-18T04:46:23.237
> 
> 标签：c, arrays, pointers

这是我教科书中问题的一部分。我无法确切地弄清楚它的作用以及它是如何做到的，所以我来寻求帮助。

```
int a = 5, b[] = {1, 2, 3, 4, 5};
int *ptr1, *ptr2;
void *ptr3;
ptr1 = &a;
ptr2 = b;
ptr3 = (int*) &ptr2; 
```

我不明白这条线

`ptr3 = (int*) &ptr2;`

我最好的猜测是，它`ptr3`被分配为一个 int 指针，它现在指向与现在相同的地址，`ptr2`即 array `b`。所以基本上`ptr3 = b`。

这个对吗？有人可以解释吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-18T04:50:56.627

`*&ptr2`给你指针的地址`ptr2`。虽然`ptr2`指向与 相同的位置`b`，即该数组中第一个 int 的地址，但`ptr3`将指向存储`ptr2`地址 in的位置。这意味着它在那一刻`b`变成了一个。`int**`

有点像这样，虽然要小心，ptr2 和 b 具有相同的值但在内存中是不同的：

`ptr3 -> ptr2 -> 1,2,3,4,5`

```
 `b /^` 
```

然后代码继续将其转换为一个`int *`原因，这实际上没有意义，并且用于对`void *`声明的赋值`ptr3`。在我看来相当错误。无论你在哪里找到它，忘记那个来源。

# php - Prestashop 本地根目录

> ID：13926451
> 
> 赞同：0
> 
> 时间：2012-12-18T04:47:28.263
> 
> 标签：php, css, themes, prestashop

我已经从已经运行并安装在本地的服务器下载了 prestashop 文件，选择了默认主题，但是当我通过 firebug 检查样式表路径错误时，它没有应用任何样式表，例如我有`http://localhost/prestashop_live`，但是样式表路径是

```
 http://localhost/global.css 
```

我将如何附加目录名称 prestashop_live ？我必须在哪里改变？在此先感谢您的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T11:55:47.973

对于 1.4.x 尝试在此处更改：config/settings.inc.php

```
define('__PS_BASE_URI__', '/prestashop/'); 
```

问候

# java - session.getAttribute("someString") 与 session.getServletContext().getAttribute("someString") 之间的区别

> ID：13926452
> 
> 赞同：-1
> 
> 时间：2012-12-18T04:47:35.290
> 
> 标签：java, servlets

> **可能重复：**
> [ServletContext 和 Session 对象](https://stackoverflow.com/questions/2076389/servletcontext-and-session-object)

我觉得很奇怪

```
session.getAttribute("someString"); 
```

工作时

```
session.getServletContext().getAttribute("someString"); 
```

并不**总是**有效。

我通过从 HttpServletRequest 请求中获取 HttpSession 对象来将对象添加到会话中

```
request.getSession().setAttribute("someString") 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:49:05.250

很简单：[会话](http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpSession.html)与[servlet 上下文不同](http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html)。它们是完全不同的概念，并且有不同的用途。

[Cletus 总结得很好：](https://stackoverflow.com/a/2076400/139010)

> 会话是用户特定的。
> 
> Servlet 上下文本质上是全局的（在该 servlet 的上下文中），这意味着所有访问该 servlet 的用户将共享相同的 servlet 上下文。

# php - 如何在 Phalcon\Mvc\View 中转义 html

> ID：13926454
> 
> 赞同：1
> 
> 时间：2012-12-18T04:47:56.913
> 
> 标签：php, view-helpers, phalcon

我发现 phalcon 中的视图变量可以被 Phalcon\Escaper 转义：[http ://docs.phalconphp.com/en/latest/api/Phalcon_Escaper.html](http://docs.phalconphp.com/en/latest/api/Phalcon_Escaper.html)

例如，在 Zend 中，有一种方法可以从视图中调用视图助手：

```
// view context
$this->escape($data); // calls View\Helper\Escape
$this->url($params); // calls url view helper
// etc 
```

有没有办法在不每次都创建新对象的情况下获得这样的视图助手？我目前的想法是制作一些 BaseView 类，从 Phalcon\Mvc\View 扩展并在那里定义一些常用的方法，这些方法将使用缓存的对象..但我不确定这是最好的方法：

```
class BaseView extends Phalcon\Mvc\View
{
    // cached helper objects
    $helpers = [];

    // view helper call
    public function url($params)
    { 
       if (!$this->helpers['url']) {
           $this->helpers['url'] = new Phalcon\Mvc\Url();
       }
       return $this->helpers['url']->get($params);
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-18T05:39:02.647

您可以在视图中使用 $this 访问服务容器 (DI) 中的服务：

```
<?php 
    echo $this->escaper->escape('<h1>Hello</h1>'); //Access Phalcon\Escaper 
?>

<?php 
    echo $this->url->get('posts/index'); //Access Phalcon\Mvc\Url
?> 
```

只需使用在服务容器中注册的名称。如果您使用的是 Phalcon\DI\FactoryDe​​fault，以下是默认注册服务的列表：http: [//docs.phalconphp.com/en/latest/reference/di.html #服务名称约定](http://docs.phalconphp.com/en/latest/reference/di.html#service-name-conventions)

# memory-leaks - Solr 中的内存泄漏/内存处理问题

> ID：13926455
> 
> 赞同：1
> 
> 时间：2012-12-18T04:47:59.043
> 
> 标签：memory-leaks, solr, weblogic

我正在使用部署在 Weblogic 服务器中的**solr-3.6 。**我的索引将通过**delta-import**每 5 秒更新一次。

通常，Solr 没有问题。但是我在日志中遇到了一个错误，“SolrIndexWriter 在 finalize() 之前没有关闭，表明存在错误——**可能的资源泄漏！！！** ”。我有时也看到**内存不足**异常。除非我们重新启动，否则 solr 在这些情况下会失去功能。

请建议在 solr 中处理这些内存问题的最佳策略，在处理**1000 万个**文档的索引时，其中一些文档通过增量导入每**5 秒更新一次。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-17T18:06:17.660

一种解决方案是使 Weblogic 流上的垃圾收集更加积极，这将延长应用程序的生命周期并减少/停止由于内存不足问题导致的故障。

这是一个很好的链接，可帮助您调整 weblogic 实例的 GC。我还建议将最小和最大内存设置为相同，这也可能导致问题，具体取决于您运行的 WLS 版本。

[Weblogic GC 调优](http://docs.oracle.com/cd/E12529_01/wlss31/configwlss/jvmgc.html)

# java - 通过链接表获取带有属性的映射的大小

> ID：13926466
> 
> 赞同：2
> 
> 时间：2012-12-18T04:49:02.810
> 
> 标签：java, sql, hibernate

好的，我有一个带有 List 成员的实体类，它通过 Hibernate 映射到大量对象。我不需要在查询时获取整个列表，我只需要这适用的对象的总大小。

*   List 还使用***@Where***注释来仅选择元素的子集。
*   列表被标记为 ***@LazyCollection(LazyCollectionOption.EXTRA)***由于其非常大
*   映射是通过使用链接表完成的
*   List 具有以下类型的映射：

![在此处输入图像描述](../Images/f82eef979fb40073208d73c4dafd5e22.png)

列表的***@JoinTable***使用表 2 上的连接和表 3 上的反向连接。我不完全确定生成的 SQL 是什么，因为我不太熟悉 SQL。

无论如何， ***@Where***子句会对它有一些限制，例如**'STATUS = ACTIVE'**和可能的其他一些东西，例如**'LETTER = 'A'**。如示例所示，如果我进行这样的调用：

```
列表项 = Lists.getItems();
物品尺寸（）；// 这导致 1 带有 @Where 子句的限制

```

以上使用表 3 中的正确项目填充项目，并受到 @Where 子句的限制。我在不获取整个列表的情况下尝试的第一件事是：

```
int listSize = Lists.getItems().size(); // 这导致 3，@Where 子句没有被应用

```

我对其进行了研究，发现 Hibernate 的这个问题我认为尚未解决：[Hibernate Jira](https://hibernate.onjira.com/browse/HHH-1491)

所以，我的问题是最好的方法是什么？我还不是很精通 SQL 或 HQL。我对连接和其他数据库术语不太熟悉，所以如果可以提供任何支持，那就太好了。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-25T02:49:18.027

我最终做了以下查询并设置了参数：

```
public int getActiveCountOfList(long list_id) {
    String sql = "SELECT COUNT(*) FROM TABLE_2 t2 
                 LEFT JOIN TABLE_3 t3 ON t2.ITEM_ID = t3.ITEM_ID 
                 WHERE t2.LIST_ID = :list_id AND t3.LETTER IN ('A', 'B')
                 AND t3.STATUS = 'ACTIVE'";

    Object result = session.createSqlQuery(sql).setLong("list_id", list_id)
                       .uniqueResult();

    return ((Number) result).intValue();
} 
```

# git - 如何以绕过钩子的方式编写git脚本？

> ID：13926470
> 
> 赞同：2
> 
> 时间：2012-12-18T04:49:27.070
> 
> 标签：git, version-control

我正在寻找一种优雅的方式来从特定的提交中签出文件，而不会导致签出挂钩触发。

例如，我不想要：

```
git checkout foo/bar/baz.txt 
```

导致结帐后挂钩触发。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:31:01.747

```
git show HEAD:foo/bar/baz.txt | sed -e 'some funky stuff to correct line endings' > foo/bar/baz.txt 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T06:40:26.020

```
git reset <commitid> foo/bar/baz.txt
git checkout-index -f foo/bar/baz.txt 
```

# php - php中不同时区的时间戳

> ID：13926475
> 
> 赞同：3
> 
> 时间：2012-12-18T04:49:47.497
> 
> 标签：php, datetime, time, timezone, unix-timestamp

在下面的代码中，我需要获取 2 个国家时区的 unixtimestamp。代码的输出会给我一个不同的日期，但时间戳彼此没有不同。它保持不变。谁能给出一个解决方案来为不同的时区获取不同的时间戳？提前致谢。

```
date_default_timezone_set('Asia/Calcutta');
echo date("Y-m-d H:i:s")."<br/>"; //2012-12-18 12:12:12
echo strtotime(date("Y-m-d H:i:s",time()))."<br/>"; //1355812934

date_default_timezone_set('Europe/London');
echo date("Y-m-d H:i:s")."<br/>"; //2012-12-18 06:12:12
echo strtotime(date("Y-m-d H:i:s",time()))."<br/>"; //1355812934 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-18T05:07:39.920

您可以使用以秒为单位的时区偏移量`date("Z")`。然后根据需要计算。

```
date_default_timezone_set('Asia/Calcutta');
echo 'Local time : '.date("r").'<br>'; // local time
echo 'Offset : '.date("Z").'<br>'; // time zone offset from UTC in seconds 
echo 'UTC Time : '.date('r', strtotime(date("r")) + (date("Z")*-1)); echo '<br><br>'; // this is UTC time converted from Local time

date_default_timezone_set('Europe/London');
echo 'Local time : '.date("r").'<br>'; // local time
echo 'Offset : '.date("Z").'<br>'; // time zone offset from UTC in seconds 
echo 'UTC time : '.date('r', strtotime(date("r")) + (date("Z")*-1)); echo '<br><br>'; // this is utc time converted from Local time 
```

输出：

```
Local time : Tue, 18 Dec 2012 10:53:07 +0530
Offset : 19800
UTC Time : Tue, 18 Dec 2012 05:23:07 +0530

Local time : Tue, 18 Dec 2012 05:23:07 +0000
Offset : 0
UTC time : Tue, 18 Dec 2012 05:23:07 +0000 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T05:13:09.113

这应该可行，我改变了你原来使用 php`DataTimeZone`类的方式。试试这个，应该很容易理解：

```
$dateTimeZoneCalcutta = new DateTimeZone("Asia/Calcutta");
$dateTimeCalcutta = new DateTime("now", $dateTimeZoneCalcutta);
$calcuttaOffset = $dateTimeZoneCalcutta->getOffset($dateTimeCalcutta);
$calcuttaDateTime = date("Y-m-d H:i:s", time() + $calcuttaOffset);

echo 'Local Server Time: ' . date("Y-m-d H:i:s", time()) . '<br />';
echo 'Calcutta Time: ' . $calcuttaDateTime . '<br />';
echo 'Calcutta Timestamp: ' . strtotime($calcuttaDateTime)  . '<br />';
echo '<br /><br />';

$dateTimeZoneLondon = new DateTimeZone("Europe/London");
$dateTimeLondon = new DateTime("now", $dateTimeZoneLondon);
$londonOffset = $dateTimeZoneLondon->getOffset($dateTimeLondon);
$londonDateTime = date("Y-m-d H:i:s", time() + $londonOffset);

echo 'Local Server Time: ' . date("Y-m-d H:i:s", time()) . '<br />';
echo 'London Time: ' . $londonDateTime . '<br />';
echo 'London Timestamp: ' . strtotime($londonDateTime) . '<br />'; 
```

# objective-c - 属性类型 '' 与继承自 '' 的类型 '' 不兼容

> ID：13926477
> 
> 赞同：2
> 
> 时间：2012-12-18T04:50:08.293
> 
> 标签：objective-c, compiler-warnings

我创建了一个 BaseRequest 类，它具有符合 BaseParams 协议的属性。接下来我创建了一个从 BaseRequest 继承的 DiagramReqesut 类，它有一个属性，其类型也是 DiagramParam 符合 BaseParams 协议。

我认为编译是安全的，但 xcode 仍然警告：属性类型 'DiagramParams *' 与继承自 'BaseRequest' 的类型 'id' 不兼容

我想知道为什么。

简化的演示在这里：

BaseRequest.h

```
@interface BaseRequest

@property (nonatomic,retain) id<BaseParams> params;

@end

@protocol BaseParams <NSObject>

- (NSMutableDictionary *)getParamsDict;

@end 
```

DiagramRequest.h

```
@interface DiagramRequest : BaseRequest

//warning: Property type 'DiagramParams *' is incompatible with type 'id<BaseParams>' inherited from 'BaseRequest'
@property (nonatomic,retain) DiagramParams *params;

@end

@interface DiagramParams : NSObject <BaseParams>

@property (nonatomic) int id;
@property (nonatomic,retain) NSString *city;

- (NSMutableDictionary *)getParamsDict;

@end 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-31T18:06:09.397

`DiagramParams`可以通过将' 的接口定义放在 's 之前来删除警告`DiagramRequest`。

在此处查看我的答案.. [https://stackoverflow.com/a/14632135/1347502](https://stackoverflow.com/a/14632135/1347502)删除了警告以进行稍微简单的设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T06:06:59.910

我对作为 UITextRange 子类的类 DTTextRange 有同样的问题，并且所有 UITextInput 方法都需要作为抽象类的 UITextRange。

如果我有一个将 DTTextRange 指定为类型的属性 selectedTextRange，则会收到与您相同的警告，即 DTTextRange 与 UITextRange 不兼容。

我能够消除该错误的唯一方法是在我的财产中也使用超类。

简而言之，我希望能够像您一样做，如果您找到更改属性类型的方法，请告诉我们。

如果不是，则必须删除子类属性并改用 id。

# html - 无法覆盖 Bootstrap 的 CSS

> ID：13926480
> 
> 赞同：0
> 
> 时间：2012-12-18T04:50:24.787
> 
> 标签：html, css, twitter-bootstrap

我只是想将容器的宽度设为百分比，而不是 Bootstrap 默认的 940 像素。

我在 main.css 中的 CSS：

```
<style type=text/css>
    #main-container{
        width: 200px !important;
    }
</style> 
```

我的 HTML：

```
<!--bootstrap-->
<link rel="stylesheet" type=text/css href="/static/css/bootstrap.css">
<script type=text/javascript src="/static/js/bootstrap.js"></script>
<!--custom css-->
<link rel="stylesheet" type=text/css href="/static/css/main.css">

<div class="container" id="main-container">
  <div class="row-fluid">
    <div class="span12">
      {% block body %}{% endblock %}
    </div>
  </div>
</div> 
```

我可以使用在 HTML 的第 7 行手动修改样式的肮脏方法来更改宽度。所以我的猜测是某些东西优先于我的 CSS。

Bootstrap 本身似乎没有指定`!important`宽度。

在 bootstrap.css 的第 224 行：

```
.container,
.navbar-static-top .container,
.navbar-fixed-top .container,
.navbar-fixed-bottom .container {
  width: 940px;
} 
```

回答：

删除了 main.css 中的标签。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:10:42.917

从 css 文件中删除`<style>`标签。仅在将 css 嵌入 html 文件时才放置它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:57:42.500

然后专门给出`.container`一个 200px 的 !important 宽度。尽可能缩小范围。

# javascript - 如何将样式表应用于 IE8 的输入类型 = 文件或如何在 IE8 中使输入类型 = 文件的文本字段可单击

> ID：13926483
> 
> 赞同：1
> 
> 时间：2012-12-18T04:50:46.043
> 
> 标签：javascript, html, css, internet-explorer-8, input-type-file

我正在为 IE8（客户端要求）开发一个网站，我在其中提供图像上传功能。使用 CSS 我将浏览按钮（即输入类型 = 文件）作为图像（背面图像并将浏览按钮的不透明度设置为 0）。

因此，每当用户单击图像时，我都想打开文件上传器弹出窗口。我附上了两张图片。一个不透明度为 0，一个不透明度。

IN IE8 输入型文件左侧有一个文本框，右侧有一个浏览按钮。要打开上传器弹出窗口，我可以单击浏览按钮，但我需要双击我的客户不想要的文本框。

为了解决这个问题，我在 input type=file 顶部添加了一个新按钮，并在其 onclick 事件中触发了浏览按钮的单击事件。它打开文件上传器，但是当我发布表单图像时没有上传并且失败，错误代码为 4（没有上传文件）。

有什么办法可以让我只在 IE8 中单击一下。在所有其他浏览器中，只需单击即可完美运行。

有任何想法吗？

谢谢，

![浏览按钮将出现在 html 上](../Images/3af601ae5fdca9b75d15edb57f363cf1.png)

![实际呈现的浏览按钮](../Images/d5e9ee8e6640a1b67df82ff8a5444075.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-18T11:18:57.383

看看[这个](http://jsfiddle.net/MtHPr/6/)小提琴。

不是来自用户的点击将无法正常运行。设置文件输入字段的样式不会使按钮的大小超出限制，因此您可以使用 zoom 属性。

我不确定您的代码的其余部分是什么样的，但是使用以下 CSS 作为父级和文件输入可以工作，因此您可以调整值以满足您的需要：

```
.uploadTrigger {
    height: 500px;
    width: 500px;
    background: url("http://i.stack.imgur.com/PTB47.png") center -20px;
    overflow: hidden;
    position: relative;
}
.uploadTrigger input[type="file"] {
    height: 50px;
    width: 50px;
    opacity: 1;
    cursor: pointer;
    zoom: 10;
    -moz-transform: scale(10) translate(22px, 22px);
    position: absolute;
    top: 0;
    left: 0;
} 
```

如果您尝试将不透明度更改为 1，您会注意到该按钮占据了整个父级，因此您的用户只需单击一下即可打开文件选择窗口。

上面的代码已经过修改以在 IE9、Chrome(28) 和 Firefox(21) 中提供一致的行为。如果你正在开发一个内部站点并且你确定只需要 IE8 支持，你可以去掉`-moz-transform: scale(10) translate(22px, 22px);`

稍后我将在 IE8 上对其进行测试，如果发现它出现功能障碍，我将进行更新。

# java - 将休眠对象转换为json时出现stackoverflow错误

> ID：13926487
> 
> 赞同：1
> 
> 时间：2012-12-18T04:51:12.633
> 
> 标签：java, json, hibernate, hibernate-mapping, stack-overflow

我有一个具有以下休眠映射的用户对象，它是多对多自联接：

```
 <hibernate-mapping>
        <class name="User" table="User">
            <id name="id" type="int">
            <column name="userId" />
                <generator class="native" />
            </id>
            <set name="friends" table="User_Friend" 
                    inverse="false" lazy="true" cascade="all">
                <key column="userId"/>
                <many-to-many column="friendId" class="User" />
            </set>
            <set name="cars" table="Car" inverse="true" fetch="select" lazy="true">
            <key>
                <column name="userId" not-null="true" />
            </key>
            <one-to-many class="Car" />
        </set>
        </class>
    </hibernate-mapping> 
```

汽车映射如下所示：

```
<hibernate-mapping>
    <class name="Car" table="Car">
        <id name="id" type="int">
            <column name="carId" />
            <generator class="native" />
        </id>
        <set name="carStatuses" table="Car_Status" 
                inverse="true" lazy="true" fetch="select">
            <key>
                <column name="carId" not-null="true" />
            </key>
            <one-to-many class="CarStatus" />
        </set>
        <many-to-one name="user" 
        column="userId"
        not-null="true"/>

    </class>
</hibernate-mapping> 
```

我检索用户对象，然后尝试使用此方法将其作为 Restlet JSON 表示返回：

```
public Representation getJSONRepresentationFromObject(User object) {

    JSONArray ja = new JSONArray();
    JSONObject jo = new JSONObject(object);

    ja.put(jo);

    JsonRepresentation jr = new JsonRepresentation(ja);
    jr.setCharacterSet(CharacterSet.UTF_8);

    return jr;
} 
```

问题是我得到一个`StackOverflowError`：

> 警告：在 java.lang.reflect.Method.invoke 的 sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) 的 sun.reflect.GeneratedMethodAccessor74.invoke(Unknown Source) 的资源 java.lang.StackOverflowError 中捕获到异常或错误(Method.java:597) 在 org.json.JSONObject.populateMap(JSONObject.java:988) 在 org.json.JSONObject.(JSONObject.java:272) 在 org.json.JSONObject.wrap(JSONObject.java:1587 ) 在 org.json.JSONArray.(JSONArray.java:158) 在 org.json.JSONObject.wrap(JSONObject.java:1569) 在 org.json.JSONObject.populateMap(JSONObject.java:990) 在 org.json。 JSONObject.(JSONObject.java:272) 在 org.json.JSONObject.wrap(JSONObject.java:1587) 在 org.json.JSONArray.(JSONArray.java:158) 在 org.json.JSONObject.wrap(JSONObject.java :1569) 在 org.json.JSONObject。populateMap(JSONObject.java:990) 在 org.json.JSONObject.(JSONObject.java:272)

如果我删除用户映射中设置的汽车，错误就会消失，我可以将用户转换为 json。汽车映射是否有问题使其陷入无限循环？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T22:20:08.963

问题是 Car 对象具有对 User/Friend 对象的反向引用。我在这里解决了这个问题：

[休眠对象不分离](https://stackoverflow.com/questions/13965951/hibernate-object-not-detaching)

**答案**：从休眠中拉出对象。创建单独的 java 对象。循环遍历对象并使用休眠对象值填充新创建的对象。

# ruby-on-rails - 在rails中从FCKeditor获取unicode？

> ID：13926495
> 
> 赞同：0
> 
> 时间：2012-12-18T04:52:04.673
> 
> 标签：ruby-on-rails, utf-8, fckeditor

我在 Rails 应用程序中使用 FCKeditor。输入：

```
™ © ® ¢ € ¥ £ ¤ 
```

当前输出（ISO-8859-1 实体）：

```
&trade; &copy; &reg; &cent; &euro; &yen; &pound; &curren; 
```

预期输出（实体代码）：

```
&#191; &#161; &#171; &#187; &#167; &#182; &#8224; &#8225; &#8226; &#8211; &#8212; 
```

请有人帮助我获得预期的输出。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:04:57.860

来自[精美手册](http://docs.cksource.com/FCKeditor_2.x/Developers_Guide/Configuration/Configuration_Options/ProcessNumericEntities)：

> **过程数值实体**
> 
> 此选项告诉编辑器将 ASCII 表之外的所有字符转换为其相关的 Unicode 数字实体。
> 
> 例如，如果此选项设置为 true，则`Ϣ`符号将转换为`&#994;`。默认情况下，该选项设置为 false。
> 
> 例子：
> 
> ```
> FCKConfig.ProcessNumericEntities = true ; 
> ```

所以你只需要弄清楚你的 FCKEditor 配置文件在哪里并添加`FCKConfig.ProcessNumericEntities = true;`到它。

# objective-c - Xcode 中的委托问题

> ID：13926497
> 
> 赞同：0
> 
> 时间：2012-12-18T04:52:20.797
> 
> 标签：objective-c, xcode

.h 文件

```
#import <UIKit/UIKit.h>

        @interface AddEventViewController : UIViewController <UITextFieldDelegate>

        @end 
```

.m 文件

```
@property (weak, nonatomic) IBOutlet UITextField *textField1;
    @property (weak, nonatomic) IBOutlet UITextField *textField2;
    @property (weak, nonatomic) IBOutlet UITextField *textField3;
    - (IBAction)textFieldReturn:(id)sender;

    @end

    @implementation AddEventViewController

    @synthesize textField1, textField2, textField3;

    - (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
    {
        self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
        if (self) {
            // Custom initialization
        }
        return self;
    }

    - (IBAction)textFieldReturn:(id)sender;
    {
        [sender resignFirstResponder];
    }

    - (void)viewDidLoad
    {
        [super viewDidLoad];
        self.textField1.delegate = self;
        textField1.delegate = self;

        // Do any additional setup after loading the view.
    }

    - (void)didReceiveMemoryWarning
    {
        [super didReceiveMemoryWarning];
        // Dispose of any resources that can be recreated.
    }

    - (void)touchesBegan: (NSSet *) touches withEvent: (UIEvent *)event
    {
        if (textField1)
        {
            if ([textField1 canResignFirstResponder]) [textField1 resignFirstResponder];
        }
        [super touchesBegan: touches withEvent: event];

        if (textField2)
        {
            if ([textField2 canResignFirstResponder]) [textField2 resignFirstResponder];
        }
        [super touchesBegan: touches withEvent: event];

        if (textField3)
        {
            if ([textField3 canResignFirstResponder]) [textField3 resignFirstResponder];
        }
        [super touchesBegan: touches withEvent: event];
    }

    - (BOOL)textFieldShouldReturn:(UITextField *)textField
    {
        [textField1 resignFirstResponder];
        return NO;

        [textField2 resignFirstResponder];
        return NO;

        [textField3 resignFirstResponder];
        return NO;
    }

    @end

Ok so im getting the yellow bug symbol on the lines:

    - (void)viewDidLoad
    {
      [super viewDidLoad];
        self.textField1.delegate = self;
        textField1.delegate = self;
    } 
```

我不知道如何委派我所有的文本字段？我如何使这个 textFieldReturn 对我所有的 textFields 都有效。viewDidLoad 区域必须是问题所在，因为其他一切都很好...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:04:21.513

在头文件中将 UITextViewDelegate 切换为 UITextFieldDelegate。这应该这样做。如果您还有问题，请告诉我。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T05:09:59.440

在 .h 文件中设置委托`textField`而不是`textView`. .m 文件中的 & 替换`textFieldShouldReturn`方法的以下代码

```
 - (BOOL)textFieldShouldReturn:(UITextField *)textField
 {
     if (textField == textField1)
     {
         [textField1 resignFirstResponder];
     }
     else if (textField == textField2)
     {
         [textField2 resignFirstResponder];
     }
     else if (textField == textField3)
     {
         [textField3 resignFirstResponder];
     }
     return YES;
} 
```

对于 textView 使用以下代码。

```
- (BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text
{
    if([text isEqualToString:@"\n"]) 
    {
        [textView resignFirstResponder];
        return NO;
    }

    return YES;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-18T05:54:16.870

标记您的文本字段以在委托方法中区分它们。如果您不想区分，那么只需使用您在委托方法中获得的引用。

如果你使用标签，你可以使用 switch。

```
 switch(sender.tag)
{

  case <case value>
  //your code
  break;
} 
```

# ios - PhoneGap 2.2 找不到 index.html 以外的任何 html 文件

> ID：13926508
> 
> 赞同：0
> 
> 时间：2012-12-18T04:53:40.487
> 
> 标签：ios, xcode, cordova

我正在使用 PhoneGap 2.2 和 XCode-4。

PhoneGap 设置成功。遵循：[http ://docs.phonegap.com/en/2.2.0/guide_cordova-webview_ios.md.html#Embedding%20Cordova%20WebView%20on%20iOS](http://docs.phonegap.com/en/2.2.0/guide_cordova-webview_ios.md.html#Embedding%20Cordova%20WebView%20on%20iOS)

当我设置 startPage = @"test.html" 时，PhoneGap 没有找到 test.html，而是试图打开 index.html。我尝试重新启动 XCode，因为 PhoneGap 2.2 在 XCode-4 中不能完美运行。

# java - 如何在 Windows 环境中写入安装在“C:\Program Files”中的 Java 桌面应用程序的嵌入式 derby 数据库？

> ID：13926509
> 
> 赞同：0
> 
> 时间：2012-12-18T04:53:41.913
> 
> 标签：java, windows, derby

我有一个 java 桌面应用程序，它通过[Inno Setup](http://www.jrsoftware.org/isinfo.php)制作的 Windows 安装程序文件安装在 C:\Program Files 中。该程序包括一个嵌入式 derby 数据库。理想情况下，程序应该能够写入 derby 数据库。但由于在 Windows 7 中创建/编辑和保存文件到 C 盘的限制，我无法执行上述操作。如果程序安装在 C 盘以外的驱动程序中，它可以工作。由于我更愿意将用户“C:\Program Files”作为应用程序安装的默认位置，因此我想知道是否有办法克服这个问题。

感谢可以在解决问题的方向上提供的任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T15:58:30.847

您可以在连接 URL 中指定 Derby 数据库的备用位置；您还可以通过控制 derby.system.home 属性来指定备用位置。然后您的应用程序可以安装在 C:\Program Files 中，但可以在其他地方创建数据，例如在 Documents 或 Application Data 文件夹中。这是 derby.system.home 上的一些文档：http: [//db.apache.org/derby/docs/10.9/ref/rrefproper32066.html](http://db.apache.org/derby/docs/10.9/ref/rrefproper32066.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:26:00.550

我的建议是为用户提供一个输入首选安装位置的空间，默认情况下可以是 C:\Program Files\，但用户没有管理员访问权限或对 C:\Program Files 的访问权限，允许用户更改此值。但不要强迫用户安装在特定位置。您还可以向用户提供说明，例如“您需要具有管理员权限才能在此位置安装程序”之类的

# c# - 在 C# 中解码 Java 编码的 Base64 字符串

> ID：13926513
> 
> 赞同：6
> 
> 时间：2012-12-18T04:54:15.617
> 
> 标签：c#, base64

我有一个用 Java 编码的 base64 编码字符串：

```
string s = "x8QeoAdVOAwpKHAeXIxEticayZLMx7RP_baVdSpDSLLea5TZMxRT-IX93lA05MEUzmwtOvd6WLRBluLchZz2EJSHsFfxxtPQF1VEFv4rA5w=" 
```

我正在尝试使用以下语句在 C# 中对其进行解码。

```
string s = "x8QeoAdVOAwpKHAeXIxEticayZLMx7RP_baVdSpDSLLea5TZMxRT-IX93lA05MEUzmwtOvd6WLRBluLchZz2EJSHsFfxxtPQF1VEFv4rA5w="

var decodedBytes = System.Convert.FromBase64String(s); 
```

但我得到了错误：

> 输入不是有效的 Base-64 字符串，因为它包含非 base 64 字符、两个以上的填充字符或填充字符中的非法字符。

我究竟做错了什么？我可以清楚地看到没有非法字符。谁能指出我正确的方向？

更新：这是生成该字符串的 java 代码。

```
 private static String encrypt(byte[] iv, String salt, String password, String clearText) throws Exception {
byte[] encryptedBytes = encryptDecrypt(true, iv, salt, password, clearText.getBytes("UTF-8"));
return Base64.encodeBytes(encryptedBytes, 16); 
```

}

```
 private static byte[] encryptDecrypt(boolean encrypt, byte[] iv, String salt, String password, byte[] bytesToEncryptDecrypt) throws Exception {
SecretKeySpec secretKeySpec = null;
MessageDigest digester = MessageDigest.getInstance("SHA-1");
digester.update((salt + password).getBytes("UTF-8"));
byte[] key = digester.digest();
secretKeySpec = new SecretKeySpec(key, 2, 16, "AES");
IvParameterSpec ivps = new IvParameterSpec(iv);
Cipher cipher = Cipher.getInstance("AES/CBC/PKCS5Padding");
cipher.init(encrypt ? 1 : 2, secretKeySpec, ivps);
return cipher.doFinal(bytesToEncryptDecrypt, 0, bytesToEncryptDecrypt.length); 
```

}

这是 Base64.class 文件（反编译）。它具有来自 Java 的编码和解码方法。

```
public class Base64
{
  public static final int NO_OPTIONS = 0;
  public static final int ENCODE = 1;
  public static final int DECODE = 0;
  public static final int GZIP = 2;
  public static final int DONT_GUNZIP = 4;
  public static final int DO_BREAK_LINES = 8;
  public static final int URL_SAFE = 16;
  public static final int ORDERED = 32;
  private static final int MAX_LINE_LENGTH = 76;
  private static final byte EQUALS_SIGN = 61;
  private static final byte NEW_LINE = 10;
  private static final String PREFERRED_ENCODING = "US-ASCII";
  private static final byte WHITE_SPACE_ENC = -5;
  private static final byte EQUALS_SIGN_ENC = -1;
  private static final byte[] _STANDARD_ALPHABET = { 
    65, 66, 67, 68, 69, 70, 71, 
    72, 73, 74, 75, 76, 77, 78, 
    79, 80, 81, 82, 83, 84, 85, 
    86, 87, 88, 89, 90, 
    97, 98, 99, 100, 101, 102, 103, 
    104, 105, 106, 107, 108, 109, 110, 
    111, 112, 113, 114, 115, 116, 117, 
    118, 119, 120, 121, 122, 
    48, 49, 50, 51, 52, 53, 
    54, 55, 56, 57, 43, 47 };

  private static final byte[] _STANDARD_DECODABET = { 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -5, -5, 
    -9, -9, 
    -5, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, 
    -5, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    62, 
    -9, -9, -9, 
    63, 
    52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 
    -9, -9, -9, 
    -1, 
    -9, -9, -9, 
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 
    14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 
    -9, -9, -9, -9, -9, -9, 
    26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 
    39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 
    -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9 };

  private static final byte[] _URL_SAFE_ALPHABET = { 
    65, 66, 67, 68, 69, 70, 71, 
    72, 73, 74, 75, 76, 77, 78, 
    79, 80, 81, 82, 83, 84, 85, 
    86, 87, 88, 89, 90, 
    97, 98, 99, 100, 101, 102, 103, 
    104, 105, 106, 107, 108, 109, 110, 
    111, 112, 113, 114, 115, 116, 117, 
    118, 119, 120, 121, 122, 
    48, 49, 50, 51, 52, 53, 
    54, 55, 56, 57, 45, 95 };

  private static final byte[] _URL_SAFE_DECODABET = { 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -5, -5, 
    -9, -9, 
    -5, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, 
    -5, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, 
    -9, 
    62, 
    -9, 
    -9, 
    52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 
    -9, -9, -9, 
    -1, 
    -9, -9, -9, 
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 
    14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 
    -9, -9, -9, -9, 
    63, 
    -9, 
    26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 
    39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 
    -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9 };

  private static final byte[] _ORDERED_ALPHABET = { 
    45, 
    48, 49, 50, 51, 52, 
    53, 54, 55, 56, 57, 
    65, 66, 67, 68, 69, 70, 71, 
    72, 73, 74, 75, 76, 77, 78, 
    79, 80, 81, 82, 83, 84, 85, 
    86, 87, 88, 89, 90, 
    95, 
    97, 98, 99, 100, 101, 102, 103, 
    104, 105, 106, 107, 108, 109, 110, 
    111, 112, 113, 114, 115, 116, 117, 
    118, 119, 120, 121, 122 };

  private static final byte[] _ORDERED_DECODABET = { 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -5, -5, 
    -9, -9, 
    -5, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, 
    -5, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, 
    -9, 
    0, -9, 
    -9, 
    1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 
    -9, -9, -9, 
    -1, 
    -9, -9, -9, 
    11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 
    24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 
    -9, -9, -9, -9, 
    37, 
    -9, 
    38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 
    51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 
    -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, 
    -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9 };

  private static final byte[] getAlphabet(int options)
  {
    if ((options & 0x10) == 16)
      return _URL_SAFE_ALPHABET;
    if ((options & 0x20) == 32) {
      return _ORDERED_ALPHABET;
    }
    return _STANDARD_ALPHABET;
  }

  private static final byte[] getDecodabet(int options)
  {
    if ((options & 0x10) == 16)
      return _URL_SAFE_DECODABET;
    if ((options & 0x20) == 32) {
      return _ORDERED_DECODABET;
    }
    return _STANDARD_DECODABET;
  }

  private static byte[] encode3to4(byte[] b4, byte[] threeBytes, int numSigBytes, int options)
  {
    encode3to4(threeBytes, 0, numSigBytes, b4, 0, options);
    return b4;
  }

  private static byte[] encode3to4(byte[] source, int srcOffset, int numSigBytes, byte[] destination, int destOffset, int options)
  {
    byte[] ALPHABET = getAlphabet(options);

    int inBuff = (numSigBytes > 0 ? source[srcOffset] << 24 >>> 8 : 0) | (
      numSigBytes > 1 ? source[(srcOffset + 1)] << 24 >>> 16 : 0) | (
      numSigBytes > 2 ? source[(srcOffset + 2)] << 24 >>> 24 : 0);

    switch (numSigBytes)
    {
    case 3:
      destination[destOffset] = ALPHABET[(inBuff >>> 18)];
      destination[(destOffset + 1)] = ALPHABET[(inBuff >>> 12 & 0x3F)];
      destination[(destOffset + 2)] = ALPHABET[(inBuff >>> 6 & 0x3F)];
      destination[(destOffset + 3)] = ALPHABET[(inBuff & 0x3F)];
      return destination;
    case 2:
      destination[destOffset] = ALPHABET[(inBuff >>> 18)];
      destination[(destOffset + 1)] = ALPHABET[(inBuff >>> 12 & 0x3F)];
      destination[(destOffset + 2)] = ALPHABET[(inBuff >>> 6 & 0x3F)];
      destination[(destOffset + 3)] = 61;
      return destination;
    case 1:
      destination[destOffset] = ALPHABET[(inBuff >>> 18)];
      destination[(destOffset + 1)] = ALPHABET[(inBuff >>> 12 & 0x3F)];
      destination[(destOffset + 2)] = 61;
      destination[(destOffset + 3)] = 61;
      return destination;
    }

    return destination;
  }

  public static void encode(ByteBuffer raw, ByteBuffer encoded)
  {
    byte[] raw3 = new byte[3];
    byte[] enc4 = new byte[4];

    while (raw.hasRemaining()) {
      int rem = Math.min(3, raw.remaining());
      raw.get(raw3, 0, rem);
      encode3to4(enc4, raw3, rem, 0);
      encoded.put(enc4);
    }
  }

  public static void encode(ByteBuffer raw, CharBuffer encoded)
  {
    byte[] raw3 = new byte[3];
    byte[] enc4 = new byte[4];
    int i;
    for (; raw.hasRemaining(); 
      i < 4)
    {
      int rem = Math.min(3, raw.remaining());
      raw.get(raw3, 0, rem);
      encode3to4(enc4, raw3, rem, 0);
      i = 0; continue;
      encoded.put((char)(enc4[i] & 0xFF));

      i++;
    }
  }

  public static String encodeObject(Serializable serializableObject)
    throws IOException
  {
    return encodeObject(serializableObject, 0);
  }

  public static String encodeObject(Serializable serializableObject, int options)
    throws IOException
  {
    if (serializableObject == null) {
      throw new NullPointerException("Cannot serialize a null object.");
    }

    ByteArrayOutputStream baos = null;
    OutputStream b64os = null;
    GZIPOutputStream gzos = null;
    ObjectOutputStream oos = null;
    try
    {
      baos = new ByteArrayOutputStream();
      b64os = new OutputStream(baos, 0x1 | options);
      if ((options & 0x2) != 0)
      {
        gzos = new GZIPOutputStream(b64os);
        oos = new ObjectOutputStream(gzos);
      }
      else {
        oos = new ObjectOutputStream(b64os);
      }
      oos.writeObject(serializableObject);
    }
    catch (IOException e)
    {
      throw e;
    } finally {
      try {
        oos.close(); } catch (Exception localException) {
      }try { gzos.close(); } catch (Exception localException1) {
      }try { b64os.close(); } catch (Exception localException2) {
      }try { baos.close();
      } catch (Exception localException3) {
      }
    }
    try {
      return new String(baos.toByteArray(), "US-ASCII");
    }
    catch (UnsupportedEncodingException uue) {
    }
    return new String(baos.toByteArray());
  }

  public static String encodeBytes(byte[] source)
  {
    String encoded = null;
    try {
      encoded = encodeBytes(source, 0, source.length, 0);
    } catch (IOException ex) {
      if (!$assertionsDisabled) throw new AssertionError(ex.getMessage());
    }
    assert (encoded != null);
    return encoded;
  }

  public static String encodeBytes(byte[] source, int options)
    throws IOException
  {
    return encodeBytes(source, 0, source.length, options);
  }

  public static String encodeBytes(byte[] source, int off, int len)
  {
    String encoded = null;
    try {
      encoded = encodeBytes(source, off, len, 0);
    } catch (IOException ex) {
      if (!$assertionsDisabled) throw new AssertionError(ex.getMessage());
    }
    assert (encoded != null);
    return encoded;
  }

  public static String encodeBytes(byte[] source, int off, int len, int options)
    throws IOException
  {
    byte[] encoded = encodeBytesToBytes(source, off, len, options);
    try
    {
      return new String(encoded, "US-ASCII");
    } catch (UnsupportedEncodingException uue) {
    }
    return new String(encoded);
  }

  public static byte[] encodeBytesToBytes(byte[] source)
  {
    byte[] encoded = (byte[])null;
    try {
      encoded = encodeBytesToBytes(source, 0, source.length, 0);
    } catch (IOException ex) {
      if (!$assertionsDisabled) throw new AssertionError("IOExceptions only come from GZipping, which is turned off: " + ex.getMessage());
    }
    return encoded;
  }

  public static byte[] encodeBytesToBytes(byte[] source, int off, int len, int options)
    throws IOException
  {
    if (source == null) {
      throw new NullPointerException("Cannot serialize a null array.");
    }

    if (off < 0) {
      throw new IllegalArgumentException("Cannot have negative offset: " + off);
    }

    if (len < 0) {
      throw new IllegalArgumentException("Cannot have length offset: " + len);
    }

    if (off + len > source.length) {
      throw new IllegalArgumentException(
        String.format("Cannot have offset of %d and length of %d with array of length %d", new Object[] { Integer.valueOf(off), Integer.valueOf(len), Integer.valueOf(source.length) }));
    }

    if ((options & 0x2) != 0) {
      ByteArrayOutputStream baos = null;
      GZIPOutputStream gzos = null;
      OutputStream b64os = null;
      try
      {
        baos = new ByteArrayOutputStream();
        b64os = new OutputStream(baos, 0x1 | options);
        gzos = new GZIPOutputStream(b64os);

        gzos.write(source, off, len);
        gzos.close();
      }
      catch (IOException e)
      {
        throw e;
      } finally {
        try {
          gzos.close(); } catch (Exception localException) {
        }try { b64os.close(); } catch (Exception localException1) {
        }try { baos.close(); } catch (Exception localException2) {
        }
      }
      return baos.toByteArray();
    }

    boolean breakLines = (options & 0x8) != 0;

    int encLen = len / 3 * 4 + (len % 3 > 0 ? 4 : 0);
    if (breakLines) {
      encLen += encLen / 76;
    }
    byte[] outBuff = new byte[encLen];

    int d = 0;
    int e = 0;
    int len2 = len - 2;
    int lineLength = 0;
    for (; d < len2; e += 4) {
      encode3to4(source, d + off, 3, outBuff, e, options);

      lineLength += 4;
      if ((breakLines) && (lineLength >= 76))
      {
        outBuff[(e + 4)] = 10;
        e++;
        lineLength = 0;
      }
      d += 3;
    }

    if (d < len) {
      encode3to4(source, d + off, len - d, outBuff, e, options);
      e += 4;
    }

    if (e <= outBuff.length - 1)
    {
      byte[] finalOut = new byte[e];
      System.arraycopy(outBuff, 0, finalOut, 0, e);

      return finalOut;
    }

    return outBuff;
  }

  private static int decode4to3(byte[] source, int srcOffset, byte[] destination, int destOffset, int options)
  {
    if (source == null) {
      throw new NullPointerException("Source array was null.");
    }
    if (destination == null) {
      throw new NullPointerException("Destination array was null.");
    }
    if ((srcOffset < 0) || (srcOffset + 3 >= source.length)) {
      throw new IllegalArgumentException(String.format(
        "Source array with length %d cannot have offset of %d and still process four bytes.", new Object[] { Integer.valueOf(source.length), Integer.valueOf(srcOffset) }));
    }
    if ((destOffset < 0) || (destOffset + 2 >= destination.length)) {
      throw new IllegalArgumentException(String.format(
        "Destination array with length %d cannot have offset of %d and still store three bytes.", new Object[] { Integer.valueOf(destination.length), Integer.valueOf(destOffset) }));
    }

    byte[] DECODABET = getDecodabet(options);

    if (source[(srcOffset + 2)] == 61)
    {
      int outBuff = (DECODABET[source[srcOffset]] & 0xFF) << 18 | 
        (DECODABET[source[(srcOffset + 1)]] & 0xFF) << 12;

      destination[destOffset] = ((byte)(outBuff >>> 16));
      return 1;
    }

    if (source[(srcOffset + 3)] == 61)
    {
      int outBuff = (DECODABET[source[srcOffset]] & 0xFF) << 18 | 
        (DECODABET[source[(srcOffset + 1)]] & 0xFF) << 12 | 
        (DECODABET[source[(srcOffset + 2)]] & 0xFF) << 6;

      destination[destOffset] = ((byte)(outBuff >>> 16));
      destination[(destOffset + 1)] = ((byte)(outBuff >>> 8));
      return 2;
    }

    int outBuff = (DECODABET[source[srcOffset]] & 0xFF) << 18 | 
      (DECODABET[source[(srcOffset + 1)]] & 0xFF) << 12 | 
      (DECODABET[source[(srcOffset + 2)]] & 0xFF) << 6 | 
      DECODABET[source[(srcOffset + 3)]] & 0xFF;

    destination[destOffset] = ((byte)(outBuff >> 16));
    destination[(destOffset + 1)] = ((byte)(outBuff >> 8));
    destination[(destOffset + 2)] = ((byte)outBuff);

    return 3;
  }

  public static byte[] decode(byte[] source)
    throws IOException
  {
    byte[] decoded = (byte[])null;

    decoded = decode(source, 0, source.length, 0);

    return decoded;
  }

  public static byte[] decode(byte[] source, int off, int len, int options)
    throws IOException
  {
    if (source == null) {
      throw new NullPointerException("Cannot decode null source array.");
    }
    if ((off < 0) || (off + len > source.length)) {
      throw new IllegalArgumentException(String.format(
        "Source array with length %d cannot have offset of %d and process %d bytes.", new Object[] { Integer.valueOf(source.length), Integer.valueOf(off), Integer.valueOf(len) }));
    }

    if (len == 0)
      return new byte[0];
    if (len < 4) {
      throw new IllegalArgumentException(
        "Base64-encoded string must have at least four characters, but length specified was " + len);
    }

    byte[] DECODABET = getDecodabet(options);

    int len34 = len * 3 / 4;
    byte[] outBuff = new byte[len34];
    int outBuffPosn = 0;

    byte[] b4 = new byte[4];
    int b4Posn = 0;
    int i = 0;
    byte sbiDecode = 0;

    for (i = off; i < off + len; i++)
    {
      sbiDecode = DECODABET[(source[i] & 0xFF)];

      if (sbiDecode >= -5)
      {
        byte[] out;
        if (sbiDecode >= -1) {
          b4[(b4Posn++)] = source[i];
          if (b4Posn > 3) {
            outBuffPosn += decode4to3(b4, 0, outBuff, outBuffPosn, options);
            b4Posn = 0;

            if (source[i] == 61) {
              break;
            }
          }
        }
      }
      else
      {
        throw new IOException(String.format(
          "Bad Base64 input character decimal %d in array position %d", new Object[] { Integer.valueOf(source[i] & 0xFF), Integer.valueOf(i) }));
      }
    }

    out = new byte[outBuffPosn];
    System.arraycopy(outBuff, 0, out, 0, outBuffPosn);
    return out;
  }

  public static byte[] decode(String s)
    throws IOException
  {
    return decode(s, 0);
  }

  public static byte[] decode(String s, int options)
    throws IOException
  {
    if (s == null) {
      throw new NullPointerException("Input string was null.");
    }

    try
    {
      bytes = s.getBytes("US-ASCII");
    }
    catch (UnsupportedEncodingException uee)
    {
      byte[] bytes;
      bytes = s.getBytes();
    }

    byte[] bytes = decode(bytes, 0, bytes.length, options);

    boolean dontGunzip = (options & 0x4) != 0;
    if ((bytes != null) && (bytes.length >= 4) && (!dontGunzip))
    {
      int head = bytes[0] & 0xFF | bytes[1] << 8 & 0xFF00;
      if (35615 == head) {
        ByteArrayInputStream bais = null;
        GZIPInputStream gzis = null;
        ByteArrayOutputStream baos = null;
        byte[] buffer = new byte[2048];
        int length = 0;
        try
        {
          baos = new ByteArrayOutputStream();
          bais = new ByteArrayInputStream(bytes);
          gzis = new GZIPInputStream(bais);

          while ((length = gzis.read(buffer)) >= 0) {
            baos.write(buffer, 0, length);
          }

          bytes = baos.toByteArray();
        }
        catch (IOException e)
        {
          e.printStackTrace();
          try
          {
            baos.close(); } catch (Exception localException) {
          }try { gzis.close(); } catch (Exception localException1) {
          }try { bais.close(); }
          catch (Exception localException2)
          {
          }
        }
        finally
        {
          try
          {
            baos.close(); } catch (Exception localException3) {
          }try { gzis.close(); } catch (Exception localException4) {
          }try { bais.close();
          } catch (Exception localException5) {
          }
        }
      }
    }
    return bytes;
  }

  public static Object decodeToObject(String encodedObject)
    throws IOException, ClassNotFoundException
  {
    return decodeToObject(encodedObject, 0, null);
  }

} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-18T08:32:01.673

它应该像用C# 使用的and替换Java 使用的`-`and一样简单：`_``+``/`

```
string s = "Vv7JKbNHOvHxC4L89be4vNw-J0KKPkMlq4iZb_T-35u-kjYhilF_ECJAPVufv2-2_ynUORVkIPPqd1H7MC-mrWW7Fu4ZcmsHG2Q1gJOU=";
string corrected = s.Replace('-', '+').Replace('_', '/');
var decodedBytes = System.Convert.FromBase64String(corrected); 
```

但是，您的示例字符串似乎也不正确；它有 105 个字符长，但（因为它被填充）长度应该是 4 的倍数。如果你`=`从输入中删除尾随，那么这段代码就可以工作，但我会担心它是如何到达那里的。如果它应该在那里，您需要以编程方式修剪/填充您的输入，然后仔细检查您获得的结果是否符合您的预期。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T11:03:37.777

试试这个代码：（注意：这个代码还没有针对性能进行优化，因为它使用了字符串连接）

```
using System;
namespace Crypto
{
    public class Base64
    {
        private const String STANDARD_FIRST_62_CHARS=
                "ABCDEFGHIJKLMNOPQRSTUVWXYZ"+
                "abcdefghijklmnopqrstuvwxyz"+
                "0123456789";

        public const String STANDARD_RADIX_STRING=
                STANDARD_FIRST_62_CHARS + "+/";

        public const String RFC4648_RADIX_STRING=
                STANDARD_FIRST_62_CHARS + "-_";

        private const char padding='=';
        private char[]radix_chars;

        public Base64(String radix_string)
        {
            radix_chars=radix_string.ToCharArray();
        }

        public Base64():this(STANDARD_RADIX_STRING)
        {
        }

        public String decode(String str)
        {
            String binary_str = "";
            char[]chars = str.ToCharArray();
            int i=0;
            for(;i<chars.Length && chars[i]!=padding;++i)
            {
                int index = indexOf(chars[i]);
                String bin_of_index = DecimalToBinary(index,6);
                binary_str = binary_str + bin_of_index;
            }
            binary_str = binary_str.Substring(0,binary_str.Length - (2*(chars.Length-i)));
            str = "";
            for(i = 0 ; i < binary_str.Length ; i = i+8)
            {
                String bin_str = binary_str.Substring(i,8);
                int char_point = Convert.ToInt16(bin_str,2);
                str = str + ((char)char_point);
            }
            return str;
        }

        public String encode(String str)
        {
            // TODO
            return null;
        }

        private String DecimalToBinary(int value,int length)
        {
            String bin_string = Convert.ToString(value, 2);
            length = length - bin_string.Length;
            while(length > 0 )
            {
                bin_string = "0"+bin_string;
                --length;
            }
            return bin_string;
        }

        private int indexOf(char c)
        {
            for(int index=0; index < radix_chars.Length ; ++ index)
                if(c == radix_chars[index])
                    return index;
            return -1;
        }
    }
}
public class Program
{
    public static void Main()
    {
        Crypto.Base64 b = new Crypto.Base64(Crypto.Base64.RFC4648_RADIX_STRING);
        Console.WriteLine(b.decode("x8QeoAdVOAwpKHAeXIxEticayZLMx7RP_baVdSpDSLLea5TZMxRT-IX93lA05MEUzmwtOvd6WLRBluLchZz2EJSHsFfxxtPQF1VEFv4rA5w="));
    }
} 
```

如果您希望`decode`方法返回 a`byte[]`而不是`String`然后将`decode`方法更改为：

```
 public byte[] decode(String str)
        {
            String binary_str = "";
            char[]chars = str.ToCharArray();
            int i=0;
            for(;i<chars.Length && chars[i]!=padding;++i)
            {
                int index = indexOf(chars[i]);
                String bin_of_index = DecimalToBinary(index,6);
                binary_str = binary_str + bin_of_index;
            }
            binary_str = binary_str.Substring(0,binary_str.Length - (2*(chars.Length-i)));
            byte[]bytes=new byte[binary_str.Length/8];
            for(i = 0 ; i < binary_str.Length ; i = i+8)
            {
                String bin_str = binary_str.Substring(i,8);
                int char_point = Convert.ToInt16(bin_str,2);
                bytes[i/8] = (byte) char_point;
            }
            return bytes;
        } 
```

# javascript - 验证日期应该是javascript中的最后一个日期

> ID：13926515
> 
> 赞同：0
> 
> 时间：2012-12-18T04:54:30.007
> 
> 标签：javascript

我的要求是创建一个包含从 date 和 to date 两个日期字段的月份

起始日期应该是月份的开始日期，结束日期应该是月份的结束日期..如果起始日期不是开始日期，它应该显示消息，请选择月份的起始日期，也与日期相同

我试过这段代码

```
function getDaysInMonth(aDate){

var m = new Number(aDate.getMonth());
var y = new Number(aDate.getYear());

var tmpDate = new Date(y, m, 28);
var checkMonth = tmpDate.getMonth();
var lastDay = 27;

while(lastDay <= 31){
    temp = tmpDate.setDate(lastDay + 1);
    if(checkMonth != tmpDate.getMonth())
        break;
    lastDay++
}
return lastDay; 
```

}

它不工作请帮助我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T04:59:15.100

尝试这个：

```
function daysInMonth(iMonth, iYear)
{
    return new Date(iYear, iMonth, 0).getDate();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T04:59:31.307

为什么不直接在 javascript 中使用新的 Date() 函数呢？

new Date(year, month, day) 月份从 0 到 11 使用 0 天将导致前几个月的最后一天。

```
//january 1st, 2012 
var d = new Date(2012, 0, 1);
alert(d)

//last day of january 2012 (month 1, day 0)
var d2 = new Date(2012, 1,0);
alert(d2); 
```

# java - 关于诺基亚手机浏览器模拟器java报错

> ID：13926516
> 
> 赞同：1
> 
> 时间：2012-12-18T04:54:33.687
> 
> 标签：java, nokia, fatal-error

我正在尝试安装诺基亚移动浏览器模拟器，但它给出了以下错误：-

致命错误

调用此 Java 应用程序导致了 InvocationTargetException。此应用程序现在将退出。(洛杉矶)

```
 java.lang.NullPointerException
at com.zerog.ia.installer.IAStatusLog.a(Unknown Source)
at ZeroGbg.a(Unknown Source)
at ZeroGbg.c(Unknown Source)
at ZeroGbg.e(Unknown Source)
at ZeroGbg.a(Unknown Source)
at ZeroGbg.a(Unknown Source)
at com.zerog.ia.installer.Main.b(Unknown Source)
at com.zerog.ia.installer.Main.main(Unknown Source)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at             sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:597)
at com.zerog.lax.LAX.launch(Unknown Source)
at com.zerog.lax.LAX.main(Unknown Source) 
```

请解决我的问题为什么会发生此错误：

# objective-c - 无需用户点击 UITextView 即可调用 becomeFirstResponder

> ID：13926517
> 
> 赞同：1
> 
> 时间：2012-12-18T04:54:50.457
> 
> 标签：objective-c, ios, uitextview, becomefirstresponder

我希望键盘在某个出现时自动`UITextView`出现。现在，第一次`UITextView`出现时，用户必须点击它才能出现键盘。随后的出现`UITextView`自动使键盘出现。我怎样才能在第一次`UITextView`出现时做到这一点？

```
-(void)displayComposeScreen
{
    [self.nameField resignFirstResponder]; //This is a different UITextView, but my issue doesn't change whether I leave this line in or take it out

    if (!self.textView)
    {
        self.textView = [[UITextView alloc] initWithFrame:CGRectMake(20, 20, 280, 150)]; //This is the UITextView with whose appearance I want the keyboard to appear automatically.
        self.textView.font = [UIFont fontWithName:@"Helvetica Neue" size:14];
        self.textView.delegate = self;
    }
    [self.textView becomeFirstResponder];
    self.textView.hidden=NO;
    if (self.ghhaiku.userIsEditing==NO)
    {
         self.textView.text = @"";
    }
    else
    {
        self.textView.text = self.ghhaiku.text;
    }
    [self.view addSubview:self.textView];
} 
```

基本上，第一次调用此方法时，用户必须点击`self.textView`键盘才能出现，我希望键盘在调用该方法时自动出现，就像随后调用此方法一样。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-18T05:31:38.210

你应该把代码

```
[self.textView becomeFirstResponder] 
```

**将文本视图放入控制器视图**之后。****

 *** * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T16:19:22.730

希望能帮到你

```
[textField performSelector:@selector(becomeFirstResponder) 
                withObject:nil 
                afterDelay:0.2f] 
```

[在 iOS 6 中，-[UITextField becomeFirstResponder] 在 -viewWillAppear 中不起作用：（对](https://stackoverflow.com/questions/13479997/in-ios-6-uitextfield-becomefirstresponder-doesnt-work-in-viewwillappear)[https://stackoverflow.com/users/1162777/anton](https://stackoverflow.com/users/1162777/anton)的问题的评论）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T04:56:17.117

当您想激活 textView 时，请尝试以下行。

```
[self.textView becomeFirstResponder]; 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-04-20T13:32:19.260

```
 [UIView animateWithDuration:0.0 animations:^{
        [self addSubview:textview];
    } completion:^(BOOL finished){
        [textview becomeFirstResponder];
    }]; 
```**

# java - `new` 关键字有什么作用

> ID：13926518
> 
> 赞同：16
> 
> 时间：2012-12-18T04:54:51.830
> 
> 标签：java, new-operator

我正在在线关注 Java 教程，尝试学习该语言，它在使用数组的两种语义之间来回切换。

```
long results[] = new long[3];
results[0] = 1;
results[1] = 2;
results[2] = 3; 
```

和：

```
long results[] = {1, 2, 3}; 
```

该教程从未真正提到为什么它在两者之间来回切换，所以我搜索了一些关于该主题的内容。我目前的理解是`new`操作员正在创建一个“长数组”类型的对象。我*不*明白我为什么要那样做，这样做的后果是什么？

*   除非它是“数组对象”，否则是否有某些特定于“数组”的方法不适用于数组？
*   有什么我*不能*用普通数组做的“数组对象”做的吗？
*   Java VM 是否必须对使用运算符初始化的对象进行清理，`new`而这通常不需要这样做？

我来自 C，所以我的 Java 术语在这里可能不正确，所以如果有什么不能理解的，请要求澄清。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-18T05:01:54.643

在Java中，所有的数组和对象都分配在堆上，所以从某种意义上说，所有的数组都是“数组对象”。在 Java 中，唯一在堆栈上分配的东西是对象引用和原语。其他一切都是在堆中定义和分配的对象，包括数组，无论您使用哪种语法来声明它。（您的两个示例在最终结果中是等效的，请参阅[JLS §10.3](http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.3)及其链接部分，了解有关如何实际分配和分配每个示例的更多信息。）

这与 C/C++ 相反，在 C/C++ 中，您可以显式控制堆栈和堆分配。

请注意，Java 在短期对象分配/释放方面非常快。由于其基于生成的垃圾收集器，它非常高效。所以回答你的问题：

> 除非它是“数组对象”，否则是否有某些特定于“数组”的方法不适用于数组？有什么我不能用普通数组做的“数组对象”做的吗？

没有数组不是对象这样的东西，所以没有。但是，有些*方法*不适用于原始数组。采用 a 的方法如果不先将`Object[]`a 转换为 ，则不会接受它。这是由于 Java 5 及更高版本中自动装箱的一些实现细节。`long[]``Long[]`

> Java VM 是否必须对使用运算符初始化的对象进行清理，`new`而这通常不需要这样做？

任何分配的东西`new`最终都必须被垃圾收集，所以就做它*通常*不会做的事情而言？`malloc`不。但是，请注意，在 C/C++ 中，使用/分配数组`new`意味着您还必须`free`/`delete []`它，这是您*不必*在 Java 中执行的操作，因为它会为您回收数组。

请注意，如果您`long[]`在方法中声明，并且您从未将其存储在方法之外的某个引用中，则它将在方法调用结束时自动标记为垃圾回收。垃圾收集器将等待回收其空间，直到它需要它，但您不必自己通过`delete []`（或`delete`对象的析构函数）进行任何回收。

**编辑：**承诺的一些参考资料：

*   [垃圾收集在 Java 中的工作原理](http://javarevisited.blogspot.com/2011/04/garbage-collection-in-java.html)
*   [~~Oracle~~ Sun 垃圾收集白皮书](http://www.oracle.com/technetwork/java/javase/tech/memorymanagement-whitepaper-1-150020.pdf)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-12-18T05:00:41.977

Java 中的`new`关键字创建一个新对象。在这种情况下，它正在创建一个数组......这是一个对象。

这两种形式是等价的。第二个只是第一个的方便简写。它是*语法糖*。

> 除非它是“数组对象”，否则是否有某些特定于“数组”的方法不适用于数组？

所有数组都是对象。时期。

> 有什么我不能用普通数组做的“数组对象”做的吗？

看上面。

> Java VM 是否必须对使用 new 运算符初始化的对象进行清理，而这通常不需要这样做？

不。就 JVM 而言，以不同方式创建的对象之间没有区别。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-12-18T05:01:01.203

两者在创建的数组的行为方面是相同的。所有数组在技术上都是java中的对象；这些只是初始化它们的两种不同方式。也可以像这样将两者结合起来：

```
long[] results = new long[]{1,2,3}; 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-12-18T05:00:53.153

两者都是一样的。第二个选项是隐式创建数组对象，这只是为了方便用户。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-12-18T05:01:33.550

从[`JLS#Chapter 10\. Arrays`](http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html)

> 在 Java 编程语言中，数组是对象（第 4.3.1 节），是动态创建的，并且可以分配给 Object 类型的变量（第 4.3.2 节）。Object 类的所有方法都可以在数组上调用。

从[`10.3\. Array Creation`](http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.3)

> 数组由数组创建表达式（§15.10）或数组初始值设定项（§10.6）创建

从[`15.10\. Array Creation Expressions`](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.10)

> 数组创建表达式创建一个对象，该对象是一个新数组，其元素属于`PrimitiveType`or指定的类型`ClassOrInterfaceType`。

从[`10.6\. Array Initializers`](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.10)

> 数组初始值设定项可以在声明中指定（第 8.3 节、第 9.3 节、第 14.4 节），或作为数组创建表达式的一部分（第 15.10 节）来创建数组并提供一些初始值。

**两者都初始化数组，区别在于第二个用一些值初始化。**

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-12-18T05:39:48.673

以下两个代码片段在编译级别上是相等的。我写了一个演示类，如：

```
public class NewArray {
    public static void main(String[] args) {
        long results[] = new long[3];
    }
} 
```

和

```
public class NewArray {
    public static void main(String[] args) {
        long results[] = {0,0,0};
    }
} 
```

'javap -c NewArray' 的输出完全相同：

```
public static void main(java.lang.String[]);
  Code:
   0:   iconst_3
   1:   newarray long
   3:   astore_1
   4:   return

} 
```

长结果 [] = 新长 []{1,2,3}; 和长结果[] = {1,2,3}; 也完全一样。

所以，虽然有时你没有使用新的关键字，但编译会认为它们是平等的。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-12-18T05:01:34.703

您展示的两种创建方式是等效的。两者都是“数组对象” - 请记住，Java 中的所有内容（除了基本的数字类型，如`int`,`double`等）都是对象。第二个只是第一个的简写，就像 C 对堆栈分配的整数数组有类似的简写一样。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2016-11-14T14:30:36.640

'new' 关键字创建一个数组。现在，根据数组的数据类型，其中的值会有所不同。如果您将数组声明为整数并使用“new”关键字，那么它将包含值 0，除非您更改其中的值。使用字符串，它将包含值“null”。在每一个空间。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-12-19T20:33:21.420

在这两种情况下，您都创建了一个对象。

在第一个版本中：

```
long results[] = new long[3];
results[0] = 1;
results[1] = 2;
results[2] = 3; 
```

您在第一行中说数组大小为 3。然后将值放入数组中。

在第二个版本中：

```
long results[] = {1, 2, 3}; 
```

您创建相同的数组并在同一行中对其进行初始化。Java 计算，您提供了 3 个参数并在`new long[3]`没有您的帮助的情况下生成 :)

# jsp - Pentaho - 仪表板设计

> ID：13926522
> 
> 赞同：2
> 
> 时间：2012-12-18T04:55:13.187
> 
> 标签：jsp, pentaho, dashboard, dashboard-designer

我正在使用 pentaho 报表设计器 3.9GA，

现在我必须使用 pentaho 创建一个仪表板，我用谷歌搜索了很多，但找不到一个使用 pentaho 报表设计器创建仪表板的有效链接。

1.  我们可以使用 pentaho 报表设计器创建仪表板吗？

2.  如果是，则表示有人提供用于创建示例仪表板的链接/教程。

或者

*   我还能用什么来创建 pentaho 仪表板，并且在创建仪表板之后，我可以将它部署到我的 Pentaho BI 服务器 4.5。
*   我还需要了解任何其他免费且优秀的仪表板设计师（我更喜欢 pentaho 社区版）。

我的仪表板的主页如下所示，需要在单击日期时向下钻取（将从我的 MySQL 数据库中提取数据）。

![仪表板主页](../Images/4f46dc0229c77ab0627460cf011cfe30.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T09:22:11.250

Pentaho reporting cannot be used for creating dashboards - however you can embed pentaho reports within a dashboard if you want to.

You need to look at the "Ctools" from webdetails. Start with the ctools-installer script then take a look at the CDE product. This is an very complete dashboarding framework. There is documentation on the ctools websites, and if you get really stuck you can buy some very cheap tutorials which are pretty good. ( There are tutorials available from webdetails or ambientbi - take your pick! Both are based on CDE )

Webdetails are the main developer of CDF which is the dashboard framework that Pentaho themselves use for their EE products - so its a good product!

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T10:31:18.133

在 CDE 仪表板中，您可以使用 prpt execute 来实现在 pentaho 报表设计器上创建的图表

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-24T19:53:24.310

您要求提供教程 - 这是 Pentaho 社区版仪表板编辑器的教程。这是相当基本的，但会告诉你如何做你想做的事：http: [//holowczak.com/getting-started-with-pentaho-community-edition-dashboard-editor-cde/](http://holowczak.com/getting-started-with-pentaho-community-edition-dashboard-editor-cde/)

# ruby-on-rails - 如果一个集合有多个产品，如何智能添加逗号到集合项目的显示？

> ID：13926528
> 
> 赞同：0
> 
> 时间：2012-12-18T04:55:37.447
> 
> 标签：ruby-on-rails, ruby-on-rails-3

假设我在`product.categories`.

我想要发生的事情是打印出我的类别列表，例如：

男人女人

如果我做：

```
<% product.categories.each do |cat| %>
  <% if product.categories.count > 1 %>
    <%= "#{cat.name}, " %>
  <% else %>
    <%= "#{cat.name} " %>
  <% end %>
<% end %> 
```

打印出来`Men, Women,`。

因此，如果不添加十亿条规则来检查最后一个元素和所有这些东西，我该如何处理以下情况：

1.  如果有一个对象，则放置 no`,`
2.  如果这是多个对象中的最后一个，请不要将 a`,`放在末尾。
3.  如果这是最后一个对象，在许多集合中，以`.`<-- 这是一个不错的对象，但不是必须的。

我该如何处理？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T04:58:39.497

```
<%= product.categories.map{|cat| cat.name}.join(', ').to_s + "." %> 
```

试试上面，那会奏效。如果您想要其他任何东西，请告诉我。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T05:08:05.570

你可以做：

```
<%= product.categories.collect{|c| c.name} * ', ' %>. 
```

“星号”方法 ( [`Array#*`](http://www.ruby-doc.org/core-1.9.3/Array.html#method-i-2A)) 是[`Array#join`](http://www.ruby-doc.org/core-1.9.3/Array.html#method-i-join).
请注意 ERb 标记外的句点。

# button - 初学者按钮 - 需要教程

> ID：13926531
> 
> 赞同：0
> 
> 时间：2012-12-18T04:55:53.280
> 
> 标签：button, casting, onclicklistener

我是 onClickListener 的新手。我正在尝试使用来自 stackoverflow 和 android (http://developer.android.com/reference/android/widget/Button.html) 的示例代码来学习它，但我无法编译我的代码。我什至直接从android复制并粘贴代码，它仍然无法编译。所以我的问题是：

你能推荐一个初学者教程来深入学习onClickListener吗？谢谢。

即使我使用来自 android 的相同代码，我仍然会得到相同的错误。但如果它与我上面的问题有关，这里是我的代码和错误：

```
package com.evorlor.testcode;

import android.app.Activity;
import android.os.Bundle;
import android.view.View;

public class Button extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_button);

        Button btnTest = (Button) findViewById(R.id.btnTest);
        btnTest.setOnClickListener(new View.OnClickListener() {
            public void onClick(View v) {

            }
        });

    }

} 
```

* * *

```
Cannot cast from View to Button 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:03:58.273

该教程片段引用了 android Button 类。您编写了自己的类并将其命名为“Button” - 因此，演员表将不起作用。您的按钮扩展了不是视图子类的“活动”，因此您不能将视图投射到您的按钮类。

重命名你的类，并导入 android.widget.button

# c++ - 如何将 BOOST_FOREACH 与 Unordered_map 一起使用？

> ID：13926534
> 
> 赞同：1
> 
> 时间：2012-12-18T04:56:03.797
> 
> 标签：c++, boost, foreach, unordered-map

好的，这就是我的情况 - 非常简单，但我不确定它是如何工作的（我找不到任何文档......）：

我有一个`Unordered_map`：

```
typedef unsigned long long U64;
typedef boost::unordered_map<U64, U64> HASH; 
```

我想循环遍历元素（主要是键），就像使用 PHP 一样`foreach`，但是这次使用`BOOST_FOREACH`，我怀疑类似：

```
HASH myMap;

// .. assignment, etc...

BOOST_FOREACH (U64 key, myMap)
{
     // do sth with the Key-Value pair

     U64 val = myMap[key];
} 
```

* * *

有任何想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-18T05:08:53.230

中的每个条目`Unordered_map`都是一对，因此当您结合使用地图时，`BOOST_FOREACH`您将像这样迭代该对：

```
BOOST_FOREACH( HASH::value_type& v, myMap ) {
    std::cout << "key is " << v.first << " value is " << v.second << std::endl;      
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:08:47.137

**刚刚解决了：**

```
BOOST_FOREACH(HASH::value_type pair, myMap)
{
     U64 key = pair.first;
     U64 value = pair.second;
} 
```

# groovy - 如何使用 Soap UI + Webdriver/Selenium + Groovy 比较两个图像？

> ID：13926540
> 
> 赞同：1
> 
> 时间：2012-12-18T04:56:43.500
> 
> 标签：groovy

我正在尝试自动验证电子邮件中的图像和内容。我正在尝试通过 SOAP UI 工具来做到这一点。最大的挑战是，SOAP UI 工具可以选择实现 groovy 脚本。

谁能让我知道如何使用 webdriver 在 Groovy 脚本中实现比较两个图像？

谢谢

# c# - 将 VertexPositionColor[] 保存为 Texture 2d

> ID：13926541
> 
> 赞同：1
> 
> 时间：2012-12-18T04:56:46.780
> 
> 标签：c#, xna, drawing, primitive, texture2d

我目前正在开发一款 2D 游戏，该游戏有时会使用

```
GraphicsDevice.DrawUserPrimitives<VertexPositionColor>(PrimitiveType.LineList, 
                                                       s.edges, 0, 1); 
```

或以其他方式使用`SpriteBatch`. 我想做的是将 a 转换`VertexPoisitonColor[]`为 a `Texture2D`，以便可以开始以这种方式绘制对象。

我的目的是创建一个动画来显示正在绘制的对象，一次一条线，就像用铅笔一样。就像我现在的代码一样，我可以做到这一点，但我想避免在绘制完成后每帧绘制所有这些图元：我认为这可能太慢了。

# java - 在 JOptionPane 中显示数组

> ID：13926545
> 
> 赞同：0
> 
> 时间：2012-12-18T04:56:59.957
> 
> 标签：java, arrays, joptionpane

我正在努力弄清楚如何在 JOptionPane 中显示我的数组的内容。该数组包括一个项目、价格、数量和优先级。例如，我希望它看起来像这样：“Apples 2.99 2 1”“Cereal 3.99 3 2”我目前将数组输出到控制台，因为我没有能够正确“显示”数组。这是我现在所拥有的：我感谢所有和任何帮助！

```
import java.text.NumberFormat;

import javax.swing.JOptionPane;

public class ShopList {

public static void main(String[] args) 
{

    String enterName = JOptionPane.showInputDialog(null, "Username: ");

    for (int i = 0; i < 2; i++){
        index = (int) (25 * Math.random());
        String[] options = {"Apples", "Applesauce", "Cereal", "Exit"};
        String input = (String)JOptionPane.showInputDialog(null,
                "Select an Item",
                "Welcome " + enterName + "!",JOptionPane.QUESTION_MESSAGE,null,options,"Apples");

        String itemPrice = JOptionPane.showInputDialog("Enter Price");
        double itemp = Double.parseDouble(itemPrice);

        String[] itemQuantity = {"1", "2", "3", "4", "5"};
        String itemq = (String)JOptionPane.showInputDialog(null,"Enter   Quantity", "Welcome", JOptionPane.QUESTION_MESSAGE, null, itemQuantity, "1");

        String itemsPriority = JOptionPane.showInputDialog("Enter Priority");
        int itempry = Integer.parseInt(itemsPriority);

        ShoppingList shoppingList = new ShoppingList(input,itemp, itemq,     itempry);
        shoppingList.show();

}

}
class ShoppingList
{
String itemNames;
double itemPrice;
String itemQuantity;
int itemsPriority;

public ShoppingList()
{
}
public ShoppingList ( String name, double price, String quantity, int priority)
{
    itemNames = name;
    itemPrice = price;
    itemQuantity = quantity;
    itemsPriority = priority;

}
public void setitemNames(String name)
{
     itemNames = name;
}
public String getitemNames()
{
    return itemNames;
}
public void setitemPrice(double price)
{
     itemPrice = price;
}
public double getitemPrice()
{
    return itemPrice;
}
/*public void setitemQuantity(int quantity)
{
     itemQuantity = quantity;
}
public int getitemQuantity()
{
    return itemQuantity;
}*/
public void setitemsPriority(int priority)
{
     itemsPriority = priority;
}
public int getitemsPriority()
{
    return itemsPriority;
}

public void show()
{
    System.out.println(itemNames);
    System.out.println(itemPrice);
    System.out.println(itemQuantity);
    System.out.println(itemsPriority);
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:18:35.330

您可以将输出包装在 HTML 中并让 Swing 呈现它...

![在此处输入图像描述](../Images/865de2a36c37703d46025dd5eecbc4ca.png)

```
public void show() {
    StringBuilder sb = new StringBuilder(64);
    sb.append("<html><table><tr><td>Item</td><td>Price</td><td>Quantity</td><td></td>Priority</tr>");
    sb.append("<tr>");
    sb.append("<td>").append(itemNames).append("</td>");
    sb.append("<td>").append(itemPrice).append("</td>");
    sb.append("<td>").append(itemQuantity).append("</td>");
    sb.append("<td>").append(itemsPriority).append("</td>");
    sb.append("</tr></table></html>");

    JOptionPane.showMessageDialog(null, sb);
} 
```

现在，我将创建一个能够获取一个或多个`ShoppingLists`并使用类似方法的方法，循环遍历每个购物清单并从中创建一个新行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T05:17:28.013

```
import javax.swing.JOptionPane;

public class ShopList {

    private static String allItems = "";

    public static void main(String[] args) {

        ShoppingList shoppingList = null;
        String enterName = JOptionPane.showInputDialog(null, "Username: ");

        for (int i = 0; i < 2; i++) {
            int index = (int) (25 * Math.random());
            String[] options = { "Apples", "Applesauce", "Cereal", "Exit" };
            String input = (String) JOptionPane.showInputDialog(null,
                    "Select an Item", "Welcome " + enterName + "!",
                    JOptionPane.QUESTION_MESSAGE, null, options, "Apples");

            String itemPrice = JOptionPane.showInputDialog("Enter Price");
            double itemp = Double.parseDouble(itemPrice);

            String[] itemQuantity = { "1", "2", "3", "4", "5" };
            String itemq = (String) JOptionPane.showInputDialog(null,
                    "Enter   Quantity", "Welcome",
                    JOptionPane.QUESTION_MESSAGE, null, itemQuantity, "1");

            String itemsPriority = JOptionPane
                    .showInputDialog("Enter Priority");
            int itempry = Integer.parseInt(itemsPriority);

            shoppingList = new ShoppingList(input, itemp, itemq, itempry);
//          shoppingList.show();

        }

        shoppingList.show();

    }

    public static class ShoppingList {
        String itemNames;
        double itemPrice;
        String itemQuantity;
        int itemsPriority;

        public ShoppingList(String name, double price, String quantity,int priority) {
            itemNames = name;
            itemPrice = price;
            itemQuantity = quantity;
            itemsPriority = priority;
            allItems = allItems + "Name: " + itemNames + " Price: " + itemPrice + " Quantity: " + itemQuantity + " Priority: " + itemsPriority + "\n"; 

        }

        public void setitemNames(String name) {
            itemNames = name;
        }

        public String getitemNames() {
            return itemNames;
        }

        public void setitemPrice(double price) {
            itemPrice = price;
        }

        public double getitemPrice() {
            return itemPrice;
        }

        /*
         * public void setitemQuantity(int quantity) { itemQuantity = quantity;
         * } public int getitemQuantity() { return itemQuantity; }
         */
        public void setitemsPriority(int priority) {
            itemsPriority = priority;
        }

        public int getitemsPriority() {
            return itemsPriority;
        }

        public void show() {
//          System.out.println(itemNames);
//          System.out.println(itemPrice);
//          System.out.println(itemQuantity);
//          System.out.println(itemsPriority);
            JOptionPane.showMessageDialog(null, allItems);
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T05:32:19.937

试试这个代码：

```
public static void main(String[] args) 
{
    ShoppingList shoppingList = null;
     StringBuffer output = new StringBuffer() ; 
    String enterName = JOptionPane.showInputDialog(null, "Username: ");

    .
    .
      //  shoppingList = new ShoppingList(input,itemp, itemq,itempry);
        output.append("\""+input + " " + itemp +" " + itemq + " " + itempry+ "\"\n") ;
        System.out.println(output.toString());
}

  JOptionPane.showMessageDialog(null, output.toString());

} 
```

![在此处输入图像描述](../Images/05a4c598d5e5dc7aa3383c02ab63abaa.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-18T05:29:08.920

使用 JOption 窗格的消息对话框，您可以显示您想要的模式，例如

公共无效显示（）{

```
JOptionPane.showMessageDialog(null, itemNames + "  " + itemPrice + "  " + itemQuantity + "  " + itemsPriority); 
```

}

# c# - XNA 4.0 SpriteBatch.Draw 抛出内存异常

> ID：13926546
> 
> 赞同：1
> 
> 时间：2012-12-18T04:57:03.587
> 
> 标签：c#, xna, out-of-memory, xna-4.0, spritebatch

好吧，首先，我的猜测是我`spritebatch.draw()`多次调用该方法，但我需要（或者，这是我能弄清楚如何）绘制我的游戏窗口。我会继续转储我的代码。

我的窗口类；

```
using System;
using System.Text;
using System.Collections.Generic;
using System.Linq;
using Microsoft.Xna.Framework;
using Microsoft.Xna.Framework.Audio;
using Microsoft.Xna.Framework.Content;
using Microsoft.Xna.Framework.GamerServices;
using Microsoft.Xna.Framework.Graphics;
using Microsoft.Xna.Framework.Input;
using Microsoft.Xna.Framework.Media;

namespace System.Window
{
class Window
{
    #region Variables

    public Texture2D importedTexture;
    public Texture2D WindowSkin;
    public RenderTarget2D currentWindow;
    public RenderTarget2D windowTexture;

    public Vector2 pos;

    public int prevWindowWidth;
    public int prevWindowHeight;
    public int windowWidth;
    public int windowHeight;

    public bool visible;
    public bool active;
    public bool drawNew;

    #region Rectangles

    public Rectangle clickRect;
    public Rectangle topLeftRect;
    public Rectangle topRightRect;
    public Rectangle buttonRect;
    public Rectangle botLeftRect;
    public Rectangle botRightRect;

    #endregion

    #endregion

    public Window()
    {

    }

    public void Initialize(GraphicsDevice g, Texture2D ws, Texture2D it, int w, int h, bool v, bool a)
    {
        WindowSkin = ws;
        importedTexture = it;

        windowWidth = w;
        prevWindowWidth = w;

        windowHeight = h;
        prevWindowHeight = h;

        windowTexture = new RenderTarget2D(g, windowWidth, windowHeight);
        currentWindow = windowTexture;

        visible = v;
        active = a;

        drawNew = true;

        topLeftRect = new Rectangle(0, 0, 32, 32);
        topRightRect = new Rectangle(32, 0, 32, 32);
        buttonRect = new Rectangle(64, 0, 32, 32);
        botLeftRect = new Rectangle(0, 64, 32, 32);
        botRightRect = new Rectangle(64, 64, 32, 32);

    }

    public void Update(GraphicsDevice g, Vector2 p, int width, int height)
    {
        prevWindowWidth = windowWidth;
        prevWindowHeight = windowHeight;

        pos = p;
        windowWidth = width;
        windowHeight = height;
        windowTexture = new RenderTarget2D(g, windowWidth+2, windowHeight+2);

    }

    public void Draw(SpriteBatch s, GraphicsDevice g)
    {

        s.Draw(currentWindow, pos, new Rectangle(0, 0, windowWidth, windowHeight), Color.White, 0, Vector2.Zero, 1.0f, SpriteEffects.None, 0);

    }

    public void DrawNewWindow(SpriteBatch s, GraphicsDevice g)
    {

            g.SetRenderTarget(windowTexture);
            g.Clear(Color.Transparent);

            s.Begin();

            #region Draw Background

            for (int w = 3; w < (windowWidth); w += 32)
            {
                for (int h = 32; h < (windowHeight); h += 32)
                {
                    s.Draw(WindowSkin, new Vector2(w, h), new Rectangle(32, 32, 32, 32), Color.White, 0, Vector2.Zero, 1.0f, SpriteEffects.None, 0);
                }
            }

            #endregion

            s.Draw(importedTexture, new Vector2(3, 32), new Rectangle(0, 0, importedTexture.Width, importedTexture.Height), Color.White, 0, Vector2.Zero, 1.0f, SpriteEffects.None, 0);

            #region Draw resizables

            for (int i = 32; i < (windowWidth - 64); i += 32)
            {
                s.Draw(WindowSkin, new Vector2(i, 0), new Rectangle(16, 0, 32, 32), Color.White, 0, Vector2.Zero, 1.0f, SpriteEffects.None, 0);
            }
            for (int i = 32; i < (windowWidth - 32); i += 32)
            {
                s.Draw(WindowSkin, new Vector2(i, windowHeight - 32), new Rectangle(32, 64, 32, 32), Color.White, 0, Vector2.Zero, 1.0f, SpriteEffects.None, 0);
            }
            for (int i = 64; i < (windowHeight - 32); i += 32)
            {
                s.Draw(WindowSkin, new Vector2(0, i), new Rectangle(0, 48, 32, 32), Color.White, 0, Vector2.Zero, 1.0f, SpriteEffects.None, 0);
            }
            for (int i = 64; i < (windowHeight - 32); i += 32)
            {
                s.Draw(WindowSkin, new Vector2(windowWidth - 32, i), new Rectangle(64, 48, 32, 32), Color.White, 0, Vector2.Zero, 1.0f, SpriteEffects.None, 0);
            }

            #endregion

            #region Draw Corners

            s.Draw(WindowSkin, new Vector2(0, 0), topLeftRect, Color.White, 0, Vector2.Zero, 1.0f, SpriteEffects.None, 0);
            s.Draw(WindowSkin, new Vector2(0, 32), new Rectangle(0, 32, 32, 32), Color.White, 0, Vector2.Zero, 1.0f, SpriteEffects.None, 0);

            s.Draw(WindowSkin, new Vector2(windowWidth - 64, 0), topRightRect, Color.White, 0, Vector2.Zero, 1.0f, SpriteEffects.None, 0);
            s.Draw(WindowSkin, new Vector2(windowWidth - 32, 32), new Rectangle(64, 32, 32, 32), Color.White, 0, Vector2.Zero, 1.0f, SpriteEffects.None, 0);

            s.Draw(WindowSkin, new Vector2(windowWidth - 32, 0), buttonRect, Color.White, 0, Vector2.Zero, 1.0f, SpriteEffects.None, 0);
            s.Draw(WindowSkin, new Vector2(0, windowHeight - 32), botLeftRect, Color.White, 0, Vector2.Zero, 1.0f, SpriteEffects.None, 0);
            s.Draw(WindowSkin, new Vector2(windowWidth - 32, windowHeight - 32), botRightRect, Color.White, 0, Vector2.Zero, 1.0f, SpriteEffects.None, 0);

            #endregion

            s.End();

            currentWindow = windowTexture;

    }
}
} 
```

我的 Draw() 方法；

```
 protected override void Draw(GameTime gameTime)
    {

            window1.DrawNewWindow(spriteBatch, GraphicsDevice);
            window1.drawNew = false;

        GraphicsDevice.SetRenderTarget(null);
        GraphicsDevice.Clear(Color.CornflowerBlue);

        spriteBatch.Begin(SpriteSortMode.Deferred,
                    BlendState.AlphaBlend,
                    SamplerState.PointClamp,
                    null,
                    null,
                    null);

        window1.Draw(spriteBatch, GraphicsDevice);

        spriteBatch.End();

        base.Draw(gameTime);
    } 
```

这一切都很好，并针对我的小窗皮纹理等进行了配置。唯一的问题是它会有点滞后，然后在运行它大约一分钟后完全崩溃。它抛出一个`Out Of Memory Exception`，但我不知道也找不到与 spritebatch 相关的任何其他主题或帖子。有人对我如何使这项工作不占用太多内存有任何建议吗？我认为这是一种简单、经济有效的绘制窗口的方法。我只是不确定如何减少我的绘图调用，或者恢复任何记忆。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-18T05:01:55.043

> windowTexture = new RenderTarget2D(g, windowWidth+2, windowHeight+2);

可能是罪魁祸首的一部分。尽量不要在每次更新时都实例化新的东西。它每秒发生大约 60 次，并可能导致严重的开销。而是在 Initialize 方法中初始化渲染目标。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T06:35:44.353

RenderTarget2D 实现 IDisposable：一旦完成，您应该始终在其上调用 Dispose()，因为它可能持有非托管资源（如 Direct3D 表面）。这是您看到的内存泄漏的根本原因。

当然，如前所述，在每个 Draw() 上实例化一个新的 RenderTarget2D 并不是一个好主意，因为它是一个昂贵的调用。

# javascript - 是否可以从当前浏览器打开另一个 Web 浏览器

> ID：13926549
> 
> 赞同：-1
> 
> 时间：2012-12-18T04:57:34.977
> 
> 标签：javascript

**是否可以使用 JavaScript 从当前的 Web 浏览器打开另一个 Web 浏览器...？？**

例如：如果我使用 Mozilla Firefox 查看网站并在单击特定链接（如在线支付机制）时，它必须将浏览器切换到 Internet Explorer，即使它没有被指定为默认浏览器。

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-18T05:00:08.750

不，这不对。浏览器没有什么特别之处。它只是像任何其他程序一样的可执行文件。如果这是可能的，就有可能从网站执行任意程序，因此您可以欺骗用户运行恶意程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T11:07:19.350

可以从当前浏览器打开另一个 Web 浏览器，但条件适用*。

运行应用程序的浏览器和默认浏览器应该不同。:) 此[链接](http://johnbokma.com/mexit/2008/08/19/java-open-url-default-browser.html)或此[链接](http://www.daniweb.com/software-development/java/threads/345944/open-htm-files-in-default-browser-with-java#)将证明是有帮助的。试试看。有可能的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T05:00:02.420

不。由于安全限制，这是不可能的。

# c# - 如何在 C# 中解决“XmlRpcTypeMismatchException”

> ID：13926553
> 
> 赞同：2
> 
> 时间：2012-12-18T04:57:38.907
> 
> 标签：c#, automation, xml-rpc

我正在使用自动化工具来自动化 Android 应用程序。该工具提供了 C# 代码，我可以将其添加到我的 C# 项目中。

我正在使用该工具的一个 API。它抛出异常

> *XmlRpcTypeMismatchException：响应包含预期字符串的结构值*

我该如何解决这个问题？API 应`string`根据自动化工具的文档返回。

示例代码

```
//Set the client to interact with Automation tool

client = new Client(host, port);

//Set the android device

client.SetApplicationTitle(activeDevice);

//Call automation tool API HybridRunJavascript( Webview, index , Javascript) to execute Javascript . This is mocking the App object 

string str0 = client.HybridRunJavascript("", 0, "AppObj.set(null, 0.1, true, true);"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-06-03T08:26:37.847

只需将方法定义的返回值从 XmlRpcStruct 更改为 String。

前：

```
XmlRpcStruct myMethod(...params...); 
```

后：

```
String myMethod(...params...); 
```

# java - Java不支持多重继承吗？

> ID：13926555
> 
> 赞同：2
> 
> 时间：2012-12-18T04:57:58.720
> 
> 标签：java, inheritance

让我们举两个类的实例

```
public abstract class Shapes
{
      public abstract void draw(Graphics g);

}

public class Rectangle extends Shapes
{
     public void draw(Graphics g)
     {
          //implementation of the method 
     }
} 
```

在这里，该类`Rectangle`扩展了 class`Shapes`并隐含地扩展了 class `Object`。我知道没有其他扩展是可能的，但是我们不能调用继承类`Shapes`和`Object`多重继承吗？（因为继承两个类从一个角度来说就是多重继承）

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-18T04:59:35.010

它不是多重继承。您不是从`Shapes`and继承`Object`，而是**从`Shapes`which`Object`**继承。

多重继承仅适用于一次从 2 个类继承。

```
public class Rectangle extends Shapes, Figures 
```

在 Java 中是不允许的。

您指的是[Multilevel Inheritance](http://www.allinterview.com/showanswers/16638.html)。谢谢@BhavikShah

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T04:59:50.510

你描述的是*单*继承的定义。一个类继承其超类的属性和方法，以及所有超类的超类。只有一条路径可以返回根 ( `Object`)。在多重继承中，返回根（甚至多个根）的路径不止一条。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-18T05:06:04.267

这不像`Rectangle`是从`Shapes`和派生的`Object`。But `Rectangle`is derived from `Shapes`and Shapes are derived from `Object`，因此`Rectangle`is`Shape`以及`Object`.

```
 Object
   |
   V
 Shapes
   |
   V
Rectangle 
```

因此Java中没有多重继承

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-18T05:14:51.300

直接在java中不可能进行多重继承。

但是，您可以（在一定程度上）使用接口来实现这一点。

例如

```
interface A{

 void m1();

}
interface B{

  void m2();

}

class C implements A,B{

 // it has both m1 and m2;

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-18T05:00:45.610

多重继承意味着在java中是不可能的

```
public class A extends B, C {

} 
```

# c# - 参数化异构索引启用对象

> ID：13926556
> 
> 赞同：1
> 
> 时间：2012-12-18T04:58:02.403
> 
> 标签：c#

有没有办法根据对象具有索引属性的事实来参数化对象？

**示例**：

```
public void LoopThroughIndexer(IndexEnabledClass parameter)
{
    object value1 = parameter[1]
    object value2 = parameter[2]
    //Do stuff with value1 and value2
} 
```

提前谢谢大家！

**编辑 1：** 感谢您的关注。为了澄清问题，通过*参数化*，我的意思是将其作为方法中的参数；在我的示例中，`parameter`是广泛定义的类型`IndexEnabledClass`。我的问题是，是否存在类似的东西`IndexEnabledClass`。

答案似乎是否定的，但你可以使用`IEnumerable<E>`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:19:09.513

我认为没有任何内置的方法可以做到这一点。但是你可以考虑一些变化。

定义一个通用接口：

```
public interface IIndexer<T, U>
{
    T this[U index] { get; set; }
} 
```

根据需要实现（以下仅为示例）：

```
public class SomeClass : IIndexer<SomeClass, int>
{
    public SomeClass this[int index]
    {
        get
        {
            //...
        }
        set
        {
            //...
        }
    }
} 
```

假设`int`是索引，做一个方法：

```
public static void DoSomething<T>(IIndexer<T, int> obj)
{
    for (int i = 0; i < 5; i++)
    {
        T o = obj[i];
        // do what you need
    }
} 
```

并使用方法：

```
SomeClass sc = new SomeClass();
DoSomething(sc); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-18T05:03:54.530

似乎没有类似`IndexEnabledClass`（FCL）的东西。但是，您可以自己实现它。

您可以使用[C# Indexers](http://msdn.microsoft.com/en-us/library/2549tw02.aspx)。

```
// Indexer declaration. 
public int this[int index]
{
    // get and set accessors
} 
```

# c# - 原始输入、全局鼠标钩子和与窗口的交互

> ID：13926558
> 
> 赞同：0
> 
> 时间：2012-12-18T04:58:17.163
> 
> 标签：c#, wpf, windows, raw-input

所以，我编写了处理来自老鼠的信号的程序。我使用鼠标之类的按钮进行智力游戏（也称为 Proteus，您可以使用 wiki 了解更多信息）。我的公司不想花很多钱，这就是为什么我必须在这款游戏中使用鼠标之类的按钮 :-)
我使用 RAW INPUT 来获取设备名称并找出游戏玩家按下了哪些设备名称。我有问题。当有人单击按钮时，该按钮会激活另一个窗口，单击按钮并与 Windows 交互:-)
我知道，我可以阻止与全局挂钩的交互，但如果我使用它，我无法获取设备名称。
我想从鼠标获取设备名称和信号，但我不想让这个鼠标与 Windows 交互。有人解决了这个问题吗？

# database - 是否可以从启动完成的接收器读取数据库？

> ID：13926560
> 
> 赞同：2
> 
> 时间：2012-12-18T04:58:47.157
> 
> 标签：database, sqlite, bootcompleted

一旦我的应用程序接收到 boot_completed 广播，我就会尝试读取数据库。但是在尝试打开数据库时我得到 NullPointerException。我的目标是存储重新启动计数，并且应该是持久的（应该在重新启动后仍然存在）。这可能吗？如果不可能，是否有任何其他方法可以实现相同的效果。请帮助！..谢谢..

# c++ - 无法从 'const jchar *' 转换为 'const wchar_t *'

> ID：13926563
> 
> 赞同：3
> 
> 时间：2012-12-18T04:59:03.260
> 
> 标签：c++, visual-studio-2010, java-native-interface

这是从 .cpp 文件中抛出的错误。我正在使用 Visual Studio 10 和 windows7 32 位，并且正在从 eclipse indigo 编译

```
AUWideString(JNIEnv* jni, jstring jstr)
    : mJni(jni),
      mJString(jstr),
      mString(0)
    {
        if (jstr != 0) {
            mString = jni->GetStringChars(jstr, 0);
        }
    }

    ~AUWideString()
    {
        mJni->ReleaseStringChars(mJString, mString);
    }

    operator const wchar_t*() const
    {
        return mString;
    }
    **error C2440: '=' : cannot convert from 'const jchar *' to 'const wchar_t *'
            Types pointed to are unrelated; conversion requires reinterpret_cast, C-style cast or function-style cast
    error C2664: 'JNIEnv_::ReleaseStringChars' : cannot convert parameter 2 from 'const wchar_t *' to 'const jchar *'**** 
```

这应该如何解决？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:57:23.923

`jchar`被定义为`unsigned short`，不是`wchar_t`。但是，在 Windows 上，两者都是 16 位大小，因此您可以在需要时使用类型转换，正如第一个编译器错误所说。您还应该将其定义`mString`为 a`jchar*`而不是 a，`wchar_t*`因为这是 JNI 实际使用的。这将消除第二个错误消息。

尝试这个：

```
class AUWideString
{
private:
    JNIEnv* mJni;
    jstring mJString;
    jchar* mString;
    ...

public:
    AUWideString(JNIEnv* jni, jstring jstr)
        : mJni(jni),
          mJString(jstr),
          mString(0)
    {
        if (mJString != 0)
            mString = mJni->GetStringChars(mJString, 0);
    }

    ~AUWideString()
    {
        if ((mJString != 0) && (mString != 0))
            mJni->ReleaseStringChars(mJString, mString);
    }

    operator const wchar_t*() const
    {
        return reinterpret_cast<const wchar_t*>(mString);
    }
}; 
```

# html - 如果未检测到 Flash，则将 SWF 替换为 HTML5 的代码

> ID：13926567
> 
> 赞同：0
> 
> 时间：2012-12-18T04:59:31.690
> 
> 标签：html, wordpress, flash, embed

# 是）我有的：

我在页面中嵌入了一个 *.swf 文件。

```
<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" width="960" height="630" id="test1"> 

<param name="movie" value="demo.swf" />

<embed src="demo.swf" width="960" height="630" name="test1" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer" />

</object> 
```

# 我需要的：

当未检测到 flash 时，我需要显示 *.swf 文件的 HTML5 版本（使用 Google Swiffy 制作）。

HTML5 版本是标签中的一大块`<script></script>`代码。

# 我的问题：

如何检测是否未启用 Flash，然后将 *.swf 替换为 HTML5 替代品？

我不能偏离上面的 *.swf 嵌入代码，因为它是我能找到的唯一允许我在 WordPress 帖子中成功嵌入 *.swf 文件的代码块。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T19:27:08.190

我最终使用了一个 jQuery 脚本来检测 Flash 支持：

[http://code.google.com/p/jqplugin/](http://code.google.com/p/jqplugin/)

如果未检测到 Flash 支持，该脚本将隐藏包含 Flash 内容的 div 并显示 HTML5 版本（或任何您的替代内容）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T09:19:04.523

如果您将备用代码放在对象标记内，如果浏览器不支持该对象（您的 swf），那么它只会看到代码。这是 adobe 检查 Flash 支持的方式，如果不支持，则显示获取 Flash 按钮。

```
<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" width="960" height="630" id="test1"> 

    <param name="movie" value="demo.swf" />

    <embed src="demo.swf" width="960" height="630" name="test1" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer" />

    <!-- PUT YOUR WEBSITE CODE HERE-->

</object> 
```

# android - 如何将 SD 卡中的图像加载到 Coverview 中

> ID：13926580
> 
> 赞同：1
> 
> 时间：2012-12-18T05:00:41.127
> 
> 标签：android, image, coverflow

我正在做一个包含封面流程的应用程序。目前我正在尝试从 sd 卡中获取封面流图像。但我不确定我应该如何显示图像。

这是图像适配器：

```
 public class ImageAdapter extends BaseAdapter {

     int mGalleryItemBackground;
     private Context mContext;

     private FileInputStream fis;
     private Integer[] mImageIds = {

       //Instead of using r.drawable, 
         i need to load the images from my sd card instead

             R.drawable.futsing,
             R.drawable.futsing2

     };

     private ImageView[] mImages;

     public ImageAdapter(Context c) {
      mContext = c;
      mImages = new ImageView[mImageIds.length];
     }

     public int getCount() {
         return mImageIds.length;
     }

     public Object getItem(int position) {
         return position;
     }

     public long getItemId(int position) {
         return position;
     }

     @TargetApi(8)
    public View getView(int position, View convertView, ViewGroup parent) {

         int screenSize = getResources().getConfiguration().screenLayout &
         Configuration.SCREENLAYOUT_SIZE_MASK;

         ImageView i = new ImageView(mContext); 
         i.setImageResource(mImageIds[position]);

         switch(screenSize) {
         case Configuration.SCREENLAYOUT_SIZE_XLARGE:
         //Toast.makeText(this, "Small screen",Toast.LENGTH_LONG).show();
         Display display4 = ((WindowManager) context.getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();
         int rotation4 = display4.getRotation();
         Log.d("XLarge:",String.valueOf(rotation4));

         /** LANDSCAPE **/
         if(rotation4 == 0 || rotation4 == 2) 
         {

         i.setLayoutParams(new CoverFlow.LayoutParams(300, 300));
         i.setScaleType(ImageView.ScaleType.CENTER_INSIDE); 
         BitmapDrawable drawable = (BitmapDrawable) i.getDrawable();
         drawable.setAntiAlias(true);
         return i;
         }

         /** PORTRAIT **/
         else if (rotation4 == 1 || rotation4 == 3) 
         {
             i.setLayoutParams(new CoverFlow.LayoutParams(650, 650));
             i.setScaleType(ImageView.ScaleType.CENTER_INSIDE);
             BitmapDrawable drawable = (BitmapDrawable) i.getDrawable();
             drawable.setAntiAlias(true);
             return i;
         }
         break;

     default:
 }
        return null;

     }
   /** Returns the size (0.0f to 1.0f) of the views 
      * depending on the 'offset' to the center. */ 
      public float getScale(boolean focused, int offset) { 
        /* Formula: 1 / (2 ^ offset) */ 
          return Math.max(0, 1.0f / (float)Math.pow(2, Math.abs(offset))); 
      } 

 } 
```

这就是我下载和保存文件的方式。我需要使用保存的图像并将其上传到我的封面流中

```
 // IF METHOD TO DOWNLOAD IMAGE
void downloadFile() {

    new Thread(new Runnable(){  // RUN IN BACKGROUND THREAD TO AVOID FREEZING OF UI
    public void run(){  
            Bitmap bmImg;
            URL myFileUrl = null;
            try {
                //for (int i = 0; i < urlList.size(); i ++)
                //{
                //url = urlList.get(i);
                myFileUrl = new URL("http://static.adzerk.net/Advertisers/d18eea9d28f3490b8dcbfa9e38f8336e.jpg");    // RETRIEVE IMAGE URL
                //}
            } catch (MalformedURLException e) {
                e.printStackTrace();
            }
            try {
                HttpURLConnection conn = (HttpURLConnection) myFileUrl.openConnection();
                conn.setDoInput(true);
                conn.connect();
                InputStream in = conn.getInputStream();
                Log.i("im connected", "Download");
                bmImg = BitmapFactory.decodeStream(in);

                saveFile(bmImg);
            } catch (IOException e) {
                e.printStackTrace();
            }}   
    }).start(); // START THREAD

    }

    // SAVE THE IMAGE AS JPG FILE
private void saveFile(Bitmap bmImg) {
    File filename;
try {
     // GET EXTERNAL STORAGE, SAVE FILE THERE
     File storagePath = new File(Environment.getExternalStorageDirectory(),"Covers");
     storagePath.mkdirs();
    filename = new File(storagePath + "/image.jpg");
    FileOutputStream out = new FileOutputStream(filename);
    bmImg.compress(Bitmap.CompressFormat.JPEG, 90, out);

    out.flush();
    out.close();
    MediaStore.Images.Media.insertImage(getContentResolver(),filename.getAbsolutePath(), filename.getName(),
            filename.getName());

    // ONCE THE DOWNLOAD FINISHES, CLOSE DIALOG
   Toast.makeText(getApplicationContext(), "Image Saved!", Toast.LENGTH_SHORT).show();
} catch (Exception e) {
    e.printStackTrace();
}   

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:11:24.317

将图像从 Sd 卡加载到 ImageView 将代码更改为：

将图像路径放入数组中：

```
 String strpath=Environment.getExternalStorageDirectory();
     private String[] mImageIds = {

             strpath+"a.jpg",
             strpath+"b.jpg",
             strpath+"c.jpg",
             .....
     }; 
```

并且要在 getView 中设置为 ImageView ，您需要创建 Drawable ：

```
ImageView i = new ImageView(mContext); 
i.setImageDrawable(Drawable.createFromPath(mImageIds[position])); 
```

# php - xampp php不工作

> ID：13926583
> 
> 赞同：-4
> 
> 时间：2012-12-18T05:00:49.433
> 
> 标签：php, xampp

所以我有我的 PHP 文件（它的 php 方面一切正常，我知道这是事实）位于 xampp 的 htdocs 'contact.php'

所以在我的网页中，我将它链接到“http://localhost/contact.php”，但是当我按下按钮并运行 php 时，我得到“未找到”

HTTP 错误 404。未找到请求的资源。”

我链接错了吗？我把它放在错误的文件夹中了吗（我应该把它放在 php www 文件夹中/我如何链接它？）

我已将它放在 www 文件夹中，但仍然存在问题 - 我不确定如何将其正确链接到 php www 文件夹。

这是一个联系表格 - 所以我的行动是`<form method="POST" action="http://localhost/contact.php">`

我的contact.html如下。

```
<div id="contact_form">
            <h4>Send us a message now!</h4>
<form method="POST" action="contact.php">
Fields marked (*) are required

<p>Email From:* <br>
<input type="text" name="EmailFrom">
 <p>Name:* <br>
<input type="text" name="Name">
<p>Email:* <br>
<input type="text" name="Email">
<p>Phone:* <br>
<input type="text" name="Phone">
<p>Message:<br>
<textarea name="Message"></textarea>
 <p><input type="submit" name="submit" value="Submit">
</form>
<p>
        </div>
    </div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:06:14.063

**可能的问题**

1.  要么，您`contact.php`将在不同的目录中。

2.  您正在尝试使用错误的 URL 访问**，**我的意思是路径。

3.  您可能已将端口号更改为其他。检查您的**端口号**，当您访问您的主页（即`index.php`或其他）时。

**建议**

如果您`index.php`和`contact.php`在同一目录中，即`myproject`. 然后，最好只指定`contact.php`而不是整个 URL。

**别**

```
<form method="POST" action="http://localhost/contact.php"> 
```

**做**

```
<form method="POST" action="contact.php"> 
```

**注意：始终使用相对 URL 而不是实际 URL。**

**更新**

当您单击**提交**按钮时，然后检查您当前的 URL 路径，是否更改为`contact.php`?? 我的意思是，它必须`localhost/contact.html`而且`localhost/contact.php`我相信，它必须。因为，`form`是 的一部分`html`，这意味着您的服务器是否正在运行并不重要。但是，是的，如果您`contact.php`将在不同的目录中。然后你的问题仍然存在。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T05:05:14.370

如果它**`XAMPP`**放在`htdocs`文件夹中..你的网址应该是这样的`http://localhost/projectname/index.php/controllername`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T05:05:25.683

我没有清楚地回答我应该说的问题，但很可能您将文件放在错误的目录中。确保该文件位于 xampp 安装下的 htdocs 文件夹中，然后重试。

如果您使用的是 wamp，那么您需要将文件放在 wamp 安装下的 www 文件夹中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-18T05:29:04.207

在 xampp 中，将您的 html 文件和 php 文件都放在 htdocs 目录中。

当两个文件都在 htdocs 目录中时，您只需要包含 php 文件的名称

# android - Android 开发 - EditText & ButtonTheme

> ID：13926587
> 
> 赞同：0
> 
> 时间：2012-12-18T05:01:25.767
> 
> 标签：android, button, android-edittext

我的编辑文本和按钮有问题。当我将它们放入我的 xml 并运行它时，我得到了这个......

![这是它的样子](../Images/3d24efca065da7b8ffdaf8a0cf8133ee.png)

![这就是我的编辑文本应该是什么样子](../Images/8b40073e8bf2bd7bde73c77cd929757b.png)

谁能帮我获得第二个输出？

编辑：

第二张图片是我在 Eclipse 中看到的。我觉得这与主题有关。有人说问题出在冰淇淋三明治上，但我的应用程序是 2.2，但我的手机运行的是 4.0

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-18T05:10:23.827

第一个是使用android4.0新的holo主题。所以我想如果你在 AndroidManifest.xml 中指定了 android2.3 主题，那么第二个编辑框就会显示出来。
如：

```
<application android:theme="@android:style/Theme" ...../> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T05:05:31.200

您正在为 Ice Cream Sandwich 编译（并在 xml 编辑器中预览）。您在第二个示例中拥有的本机 UI（我相信）来自 Gingerbread。您可以将您的版本向后设置，或者在此活动的清单中应用相关主题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T05:13:48.903

在 AndroidManifest.xml 中，我想你只需要设置这个属性：

```
<uses-sdk
    android:targetSdkVersion="15" /> 
```

到大于或等于 15 的值。进行清理/构建，看看是否有帮助。这将告诉手机使用 ICS 或 JellyBean。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-18T05:13:55.330

尝试为您的编辑文本设置背景，例如 android:background="@drawable/rounded_corner_white"

其中 rounded_corner_white ：

```
<item>
    <shape android:shape="rectangle" >
        <solid android:color="@color/White" />

        <corners android:radius="18dp" />
    </shape>
</item> 
```

# r - 将单个图上的多个直方图绘制为 .pdf 作为 R 批处理脚本的一部分

> ID：13926591
> 
> 赞同：2
> 
> 时间：2012-12-18T05:01:38.807
> 
> 标签：r, plot

我正在编写`R`脚本，这些脚本在我从终端执行的一系列命令中只起很小的作用。基本上，我在 Python 脚本中进行大部分数据操作，然后将输出通过管道传输到我的 R 脚本进行绘图。因此，我从终端执行类似于`$python whatever.py | R CMD BATCH do_some_plotting.R`. 到目前为止，这个工作流程对我来说一直运行良好，尽管我现在已经到了一个地步，我想在同一个图上叠加多个直方图，这是受Stackoverflow 上另一个用户问题的[答案的启发。](https://stackoverflow.com/a/3557042/129475)

在我的 R 脚本中，我的绘图代码如下所示：

```
pdf("my_output.pdf")
plot(hist(d$original,breaks="FD",prob=TRUE), col=rgb(0,0,1,1/4),xlim=c(0,4000),main="original - This plot is in beta")
plot(hist(d$minus_thirty_minutes,breaks="FD",prob=TRUE), col=rgb(1,0,0,1/4),add=T,xlim=c(0,4000),main="minus_thirty_minutes - This plot is in beta") 
```

值得注意的是，我正在使用`add=T`，这可能是为了指定第二个情节应该覆盖在第一个情节之上。当我的脚本完成后，我得到的结果*不是*两个相互重叠的直方图，而是一个 3 页的 PDF，其中 3 个单独的图包含标题：

i)*直方图`d$original`*
ii)*原始图 - 此图处于测试阶段*
iii)*直方图`d$minus_thirty_minutes`*

所以这里有两点我想澄清一下。首先，即使图没有重叠，我也希望只有 2 页的 PDF，而不是 3 页的 PDF。有人可以解释为什么我会得到一个 3 页的 PDF 吗？其次，我是否可以在这里进行修正以仅绘制两个直方图，并将它们都绘制在同一个图上（即 1 页 PDF）？

我在第一段中链接到的另一个 Stackoverflow 问题/答案确实提到并非所有设备都支持 alpha 混合，所以我很好奇这是否与它有关。无论哪种方式，最好知道`R`我的问题是否有基于 - 的解决方案，或者我是否必须将我的数据传输到不同的语言/绘图引擎中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:20:34.860

您的问题是`hist`默认情况下绘图，不可见地返回可以绘制的直方图对象。因此，调用`plot(hist(..))`两次绘制直方图（您的 2 页`pdf`），`add=T`在第二次调用中使用意味着创建了第三个而不是第四个图。您可以设置`plot = FALSE`或不将调用包装到`hist`inside `plot()`。

为了让它作为单页 pdf 工作（使用[如何在 R 中一起绘制两个直方图的示例？](https://stackoverflow.com/questions/3541713/how-to-plot-two-histograms-together-in-r/3557042#3557042)

```
set.seed(42)
p1 <- hist(rnorm(500,4), plot=  FALSE)                     # centered at 4
p2 <- hist(rnorm(500,6), plot = FALSE)    
                                             # centered at 6
pdf('foo.pdf')
plot( p1, col=rgb(0,0,1,1/4), xlim=c(0,10))  # first histogram
plot( p2, col=rgb(1,0,0,1/4), xlim=c(0,10), add=T)

dev.off() 
```

# math - 在不使用矩阵或四元数的情况下围绕轴旋转矢量的通用算法？

> ID：13926594
> 
> 赞同：0
> 
> 时间：2012-12-18T05:02:04.907
> 
> 标签：math, vector, rotation, formula

我不明白为什么该操作需要矩阵和四元数。为什么我们不写一个函数，比如`rotate(vector,axis,angle)`应用代数公式，直接执行旋转？那个公式是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:08:01.750

你不必有一个矩阵对象（它只是让它更容易）来做到这一点。您当然可以使用代数公式来做到这一点，该公式是矩阵与向量相乘的公式。但同样 - 矩阵概念只是记住公式的一种方式，仅此而已。

四元数乘法只是记住（表达）相同公式的不同方式。但又一次 - 这是以不同（确实非常聪明）的方式编写的相同公式。

你不能有两个不同的公式来做同样的事情，对 - 任何两个都应该彼此等价。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T05:30:59.467

因为“代数公式”在功能上是等价的。如果没有这些更抽象的概念，你能否轻松识别出有用的属性，如串联和逆？

抽象是编程的基础之一。

# apache - apache上有一个私钥的多个证书？

> ID：13926596
> 
> 赞同：-2
> 
> 时间：2012-12-18T05:02:14.713
> 
> 标签：apache, ssl, ssl-certificate

这里真正的基本问题，但没有一个快速的谷歌搜索适合自己。我需要为我在 apache 中使用的每个证书生成一个单独的私钥吗？

服务器详情：

```
% /usr/sbin/httpd -v
Server version: Apache/2.2.8 (Unix)
Server built:   Jan 24 2008 10:44:19
% uname -a
Linux ***.com 2.6.23.15-80.fc7 #1 SMP Sun Feb 10 17:29:10 EST 2008 i686 i686 i386 GNU/Linux
% cat /proc/versionversion 2.6.23.15-80.fc7 (mockbuild@xenbuilder4.fedora.phx.redhat.com) (gcc version 4.1.2 20070925 (Red Hat 4.1.2-27)) #1 SMP Sun Feb 10 17:29:10 EST 2008 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:03:34.263

在这种情况下，每个证书都是与匹配的私钥配对的公钥。

证书的公钥和私钥部分一起工作。

所以是的，每个证书都有一个单独的私钥。

# iphone - Air for ios，iTunes 上的语言列表

> ID：13926598
> 
> 赞同：1
> 
> 时间：2012-12-18T05:02:26.793
> 
> 标签：iphone, ios, actionscript-3, air, itunes

我正在寻找一种在 iTunes 上为我的 ios 应用程序设置可用语言列表的方法。我遇到了这个workarround [http://forums.adobe.com/thread/863281](http://forums.adobe.com/thread/863281)。

想知道这个问题是否已在更新的 air sdks 上得到解决，或者是否有人使用了更直接的方法。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T11:41:38.117

在 air 3.5 上，也许在更早的版本上，您可以使用

```
<supportedLanguages>en</supportedLanguages> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-23T22:40:43.263

不确定它是否有效，但我一直在我的 *-app.xml 中使用这种样式。目前我在 FB 4.6 中遇到了这个问题

```
 <name>
    <text xml:lang="ar">المذيع برو</text>
    <text xml:lang="en">BroadcasterPro</text>
    <text xml:lang="de">Broadcaster Pro</text>
    <text xml:lang="es">Locutor Pro</text>
    <text xml:lang="fr">Diffuseur Pro</text>
    <text xml:lang="ja">放送局のプロ&lt;/text>
    <text xml:lang="ko">방송 프로</text>
    <text xml:lang="pl">Pro Broadcaster</text>
    <text xml:lang="pt">Pro Broadcaster</text>
    <text xml:lang="ru">Транслятор Pro</text>
    <text xml:lang="zh">播放臨&lt;/text>  
</name>

<supportedLanguages>ar en de es fr ja ko pl pt ru zh</supportedLanguages> 
```

# php - 在 cakephp 中显示表查询

> ID：13926599
> 
> 赞同：1
> 
> 时间：2012-12-18T05:02:48.357
> 
> 标签：php, mysql, cakephp

我需要用户在 cakephp 中显示表查询，我尝试过手动编写`SHOW table status FROM DATABASE like 'table_name'`，但我担心的是，当我住在这个站点时，我的数据库名称会相应更改，我不想手动更改它。

我也尝试了下面的代码，但我找不到我的表格详细信息。

```
$db =& ConnectionManager::getDataSource('default');
$modelname = "service_requests";
$query = $db->describe($modelname);
```

我希望我的查询会返回如下所示的内容。

```
[TABLES] => Array
(
     [Name] => service_requests
     [Engine] => MyISAM
     [Version] => 10
     [Row_format] => Dynamic
     [Rows] => 201
     [Avg_row_length] => 478
     [Data_length] => 96536
     [Max_data_length] => 281474976710655
     [Index_length] => 4096
     [Data_free] => 400
     [Auto_increment] => 202
     [Create_time] => 2012-12-13 17:10:16
     [Update_time] => 2012-12-18 10:27:34
     [Check_time] => 
     [Collation] => utf8_general_ci
     [Checksum] => 
     [Create_options] => 
     [Comment] => 
)
```

非常感谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:42:40.203

哦，该死的，这太容易了，我太粗暴了。

以下代码对我有用，就像魅力一样。

我正在共享此代码，以便对其他人有所帮助。

```
$database_name = $this->ServiceRequest->getDataSource()->config['database'];

$query = $this->ServiceRequest->query(
             "show table status from 
                 " . $database_name . " 
                like '" . $this->tableName . "'");
pr($query);
```

我得到了我想要的结果。

感谢@dskanth 和@prodigitalson 的帮助。

# javascript - IE7,8调用所有错误的函数？

> ID：13926601
> 
> 赞同：2
> 
> 时间：2012-12-18T05:03:22.430
> 
> 标签：javascript, internet-explorer, animation

好的，所以我正在尝试做一些动画。[这](http://adamhaskell.net/hatch/)是测试页面。

有相当数量的代码，我认为它们都是相关的，所以在这里粘贴它可能不值得。我可以发布函数定义：

```
var ImageLoader = function(c,imagelist,oncomplete) {
    var l = 0, imgs = [], i, loaded = 0;
    for( i in imagelist) {
        l++;
        imgs[i] = new Image();
        imgs[i].style.position = "absolute";
        imgs[i].style.left = "100%";
        c.appendChild(imgs[i]);
        imgs[i].onload = function() {
            loaded++;
            if( loaded == l) oncomplete(imgs);
        };
        imgs[i].onerror = function() {
            alert("Failed to load "+this.src);
        };
        imgs[i].src = imagelist[i];
    }
};
var img2bg = function(c,img) {
    var d = document.createElement('div');
    d.style.width = img.width+"px";
    d.style.height = img.height+"px";
    d.style.backgroundImage = "url('"+img.src+"')";
    d.style.position = "absolute";
    d.style.left = "100%";
    c.appendChild(d);
    return d;
};
var Animate = function(callback,time,thenwhat) {
    var start = new Date().getTime();
    var timer = window.setInterval(function() {
        var now = new Date().getTime();
        var pos = Math.min(1,(now-start)/time);
        if( callback) callback(pos);
        if( pos == 1) {
            clearInterval(timer);
            if( thenwhat) thenwhat();
        }
    },25);
}; 
```

但是，正如我所提到的，这本身可能不是很有用。

无论如何，直截了当，这个动画在 IE9、IE10、Chrome、Firefox 中都能完美运行……但在 IE8 和 7 中却惨遭失败。

在 的回调函数中`ImageLoader`，我调用`img2bg`了两个特定的图像。但是由于某种原因，该函数被调用了两次，其中一张图像被调用了四次或五次，根本没有第二个参数。在整个脚本中实际上没有其他调用`img2bg`，那么给出了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:15:17.413

您确定您尝试使用的所有功能都可以在 IE7/8 中使用吗？您使用不透明度。我知道背景位置充其量是错误的。您使用 html5 文档类型，所以我不知道这是否意味着您可能也在使用 html5 元素或 API。这就是让我认为问题所在的原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-20T04:01:52.817

该问题的“解决方案”是进行特征检测并使动画可选，以便旧浏览器可以跳过它或播放更简单的动画。

# ios - 重绘 UIScrollView 内的子视图之一

> ID：13926602
> 
> 赞同：0
> 
> 时间：2012-12-18T05:03:28.937
> 
> 标签：ios, uiview, uiscrollview

我在滚动视图中有子视图，当用户点击其中一个子视图时，它会展开并显示内容。

我的问题是可以只重绘被点击的子视图，而不是再次布局所有子视图。或者有什么更好的方法来解决这个问题？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T03:20:10.910

我通过在数组中保存指向自定义视图的指针来解决此问题。因此，当用户点击子视图时，它会调整大小并委托回滚动视图。然后滚动视图重绘并使用该自定义视图的高度数组更改其内容大小。

感谢您阅读这篇文章，仍然欢迎任何建议！！

# php - 在android中使用JSON传递数据数组

> ID：13926604
> 
> 赞同：2
> 
> 时间：2012-12-18T05:03:33.833
> 
> 标签：php, android, json

我需要通过创建 JSON 对象将数据从 MYSQL 数据库传递到 android 应用程序。我只能从 MYSQL 数据库传递第一个值。如何将所有值一起传递给 android 应用程序。（我的数据库包含超过 10 个位置的纬度和经度值。）

以下是我仅将第一行值从数据库传递到 android 应用程序的代码。

```
 try {

        HttpClient client = new DefaultHttpClient();
        URI website = new URI("http://192.168.1.15/latlonret1.php");
        HttpGet request = new HttpGet();
        request.setURI(website);
        HttpResponse response = client.execute(request);
        in = new BufferedReader(new InputStreamReader(response
                .getEntity().getContent()));
        StringBuffer sb = new StringBuffer("");
        String l = "";
        String nl = System.getProperty("line.separator");

        while ((l = in.readLine()) != null) {
            sb.append(l + nl);
        }
        in.close();
        data = sb.toString();
        // return data;
    } catch (Exception e) {
        Log.e("log_tag", "Error converting result " + e.toString());
    }
        try {
        String returnString;
        String returnString1;
        JSONArray jArray = new JSONArray(data);
        for (int i = 0; i < jArray.length(); i++) {
            JSONObject json_data = jArray.getJSONObject(i);
            JSONObject json_data1 = jArray.getJSONObject(i);

            returnString=json_data.getString("lat") + "\n";
            returnString1=json_data1.getString("lon") + "\n";
            System.out.println(returnString);
            System.out.println(returnString1);

            Intent viewIntent =new Intent(Androidmap.this,Mapview.class);

            Bundle bundle = new Bundle();
            bundle.putString("stuff", returnString); 
            viewIntent.putExtras(bundle);

            Bundle bundle1 = new Bundle();
            bundle1.putString("stuff1", returnString1); 
            viewIntent.putExtras(bundle1); 
            startActivity(viewIntent);
      } 
```

这是我的服务器端编码：

```
<?php
 ob_start();
 $host="localhost"; // Host name 
 $username=""; // Mysql username 
 $password=""; // Mysql password 
 $db_name="test"; // Database name 
 $tbl_name="manu"; // Table name 

 mysql_connect("$host", "$username", "$password")or die("cannot connect"); 
 mysql_select_db("$db_name")or die("cannot select DB");
 $sql = "select lat , lon from manu ";
 $result=mysql_query($sql);

 if(! $result )
 {
 die('Could not get data: ' . mysql_error());
 }

 while($row=mysql_fetch_array($result , MYSQL_ASSOC)) 
{

$output[]=$row;

}

 echo json_encode($output);
 mysql_close();
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:16:13.093

您将需要在前一个字符串中附加下一个纬度和经度值：

```
ArrayList<String> arrlan=new ArrayList<String>();
ArrayList<String> arrlat=new ArrayList<String>(); 
       for (int i = 0; i < jArray.length(); i++) {
            JSONObject json_data = jArray.getJSONObject(i);
            JSONObject json_data1 = jArray.getJSONObject(i);

            returnString  =json_data.getString("lat") + "\n";
            returnString1  =json_data1.getString("lon") + "\n";

            arrlat.add(returnString);  
            arrlan.add(returnString1);   

            System.out.println(returnString);
            System.out.println(returnString1);
      }
 Intent viewIntent =new Intent(Androidmap.this,Mapview.class);

 viewIntent.putStringArrayListExtra("returnString",arrlat);
 viewIntent.putStringArrayListExtra("returnString1",arrlan);

 startActivity(viewIntent); 
```

并在 Mapview 中将这些数组列表获取为：

```
ArrayList<String> arrlan=new ArrayList<String>();
ArrayList<String> arrlat=new ArrayList<String>(); 

arrlat = getIntent().getStringArrayListExtra("returnString");
arrlan = getIntent().getStringArrayListExtra("returnString1"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T05:09:22.683

试试这个，你只需要创建一个对象。

```
 for (int i = 0; i < jArray.length(); i++) 
       {
        JSONObject json_data = jArray.getJSONObject(i);

        returnString=json_data.getString("lat") + "\n";
        returnString1=json_data.getString("lon") + "\n";
       } 
```

# jquery-easyui - easyui 两个组合框动态数据加载

> ID：13926605
> 
> 赞同：0
> 
> 时间：2012-12-18T05:03:50.053
> 
> 标签：jquery-easyui

```
 columns:[[  
            {field:'limitid',title:'Limit ID',width:250,sortable:'true',  
                formatter:function(value){  
                    for(var i=0; i<limitidlist.length; i++){
                       if (limitidlist[i].limitid == value) return limitidlist[i].name;
                    }
                    return value;  
                },  
                editor:{  
                    type:'combobox',
                        options:{
                        valueField:'limitid',
                        textField:'name',
                        data:limitidlist,
                        required:true ,
                              $('#outstanding_currency').combobox('setValue', 'LKR');    
                            }
                        } 
                }  
            },  

{field:'outstanding_currency',title:'Outstanding Currency',width:150,  
    formatter:function(value){  
        for(var i=0; i<currencylist.length; i++){
if (currencylist[i].currency == value) return currencylist[i].name;
        }
        return value; 
    },  
    editor:{  
        type:'combobox',
options:{
valueField:'currency',
textField:'name',
data:currencylist,
required:true
} 
    }  
}, 
```

实际上这就是我需要的

当有人选择“limitid”时，我想显示选择的“outstanding_currency”，如“LKR”、“AUS”等，给定的解决方案不适用于此

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T08:22:21.447

尝试这个，

初始化您的`combobox`.

```
$('#combo2').combobox({
     //your stuff
}); 

$('#combo1').combobox({  
   //ur stuff,
   onSelect:function(record){ 
      $('#combo2').combobox('setValue', record.id); //the value id of combo 1 which is equal to the id of combo 2
   }
}); 
```

这是关于组合框方法的文档， [http://jeasyui.com/documentation/index.php#](http://jeasyui.com/documentation/index.php#)

**更新**

如果是这种情况，您可以`onselect`在**编辑器选项中使用**

```
editor:{  
            type:'combobox',
            options:{
                    valueField:'limitid',
                    textField:'name',
                    data:limitidlist,
                    required:true ,
                    onSelect:function(record){ 
                         $('#outstanding_currency').combobox('setValue', record.limitid); 
                        }   
                 }
        } 
```

# php - 如何将日常记录从mysql表存储到另一个表？

> ID：13926615
> 
> 赞同：0
> 
> 时间：2012-12-18T05:04:33.773
> 
> 标签：php, mysql

朋友们 我创建了一个 mysql 表来获取我网站的页面访问量。我的桌子是这样的

```
statistics_table(stat_id,visited_page,visit_count) 
```

每次访问时，visit_count 都会增加一。这很完美。但是现在我需要每天将所有统计信息保存在不同的表中，以达到我的流量监控目的。

如下

```
2012/12/15-->page1-->100 visits
2012/12/16-->page1-->180 visits
2012/12/17-->page1-->200 visits 
```

因为statistics_table每天都在增加它的值，所以我可以得到每天有多少次访问

```
(2012/12/16-->page1-->visits)-(2012/12/15-->page1-->visits)//80 visits 
```

目前我正在使用另一个相同的表，`schema+date`并每天使用 cron 作业对其进行更新。

有没有办法让这项工作而不是我的方式？我的意思是简单/更好的方法来做到这一点。感谢您的任何建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:37:35.197

我同意上面的答案，但我建议您使用 MySQL 事件。有关详细信息，请参阅MySQL 手册中的[CREATE EVENT](http://dev.mysql.com/doc/refman/5.1/en/create-event.html)。

总之，您的活动应该是：

```
CREATE EVENT myevent
    ON SCHEDULE Every Day
    DO
      INSERT INTO Table_name(stat_id,visited_page,visit_count)
      SELECT stat_id,visited,visit_count_page FROM Exist_Tablename WHERE date_field =          
      DATE_SUB(CURDATE(), INTERVAL 1 DAY);

DELETE FROM Exist_Tablename 
WHERE date_field = DATE_SUB(CURDATE(), INTERVAL 1 DAY); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:11:52.050

您可以使用以下查询语句将数据插入另一个表，

```
INSERT INTO Table_name(stat_id,visited_page,visit_count)
SELECT stat_id,visited,visit_count_page FROM Exist_Tablename WHERE <condition>;

DELETE FROM Exist_Tablename 
WHERE <condition>; 
```

这样你可以试试

这可能会对您有所帮助。

# iphone - 防止独立 iOS Web 应用在加载视频后重新加载

> ID：13926621
> 
> 赞同：0
> 
> 时间：2012-12-18T05:05:04.087
> 
> 标签：iphone, ios, mobile-safari, html5-video, iphone-standalone-web-app

我有一个基于 AJAX 的 iPhone 网络应用程序。这个应用程序主要用于观看视频。用户浏览一些菜单，然后进入视频列表。在视频列表中，我有一些这样的代码：

```
<a href="javascript:window.location='video.mp4'>Video Link</a> 
```

在 iPhone 上，在 Mobile Safari 中，此链接会打开视频，在视频结束或用户单击“确定”后，视频会关闭，视频列表将保持在启动视频之前的状态。这是期望的行为。

当应用程序用作独立应用程序（添加到主屏幕）时，视频关闭后页面会重新加载，破坏之前的导航。

有没有办法防止这种情况发生？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-03T14:22:56.667

尝试这个：

```
<a href="javascript:window.location='video.mp4';return false;">Video Link</a> 
```

或者：

```
<a href="javascript:document.location='video.mp4';return false;">Video Link</a> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T06:47:52.417

你能展示一些objective-c代码吗？我认为你必须使用 UIWebView delagate 方法 -

`(BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType`

如果是第二次加载，则返回 NO。还要检查您是否在**viewWillAppear**中加载视频列表。如果是，则使用视频列表**viewDidLoad**。

# c# - 检测全屏运行的窗口

> ID：13926629
> 
> 赞同：1
> 
> 时间：2012-12-18T05:05:47.880
> 
> 标签：c#, flash, winapi, hook, fullscreen

我目前有一个补充 Flash 游戏的程序。它的功能之一是“始终保持领先”，并且在游戏进入全屏模式之前效果非常好。当 flash 进入全屏模式时，Windows 任务栏消失，因此 flash 窗口可以传播整个屏幕。我的程序按预期保持在顶部，但每当焦点从全屏 Flash 窗口移动到我的程序时，就会出现 Windows 任务栏。

通常，我会一直通过调用`FindWindow("Shell_TrayWnd", "");`then 来隐藏任务栏`ShowWindow(_taskbarHandle, 0);`。这可行，但是我希望在 Flash 窗口未处于全屏模式并且我的程序集中时显示任务栏。我曾想过尝试获取窗口的句柄，但不同的浏览器会出现不同的类名。

有没有人有或可以想到一种可靠的方法来确定 Flash 窗口是否全屏运行？

我曾想过`GetActiveWindow`每隔几秒钟轮询一次以获取当前活动的窗口句柄，但我仍然无法确定它是否是 Flash 窗口！

有没有办法遍历所有打开的窗口，看看是否有屏幕的宽度和高度？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T07:10:13.887

`EnumWindows`您可以使用该函数遍历打开的窗口。或者，您可以使用`WindowFromPoint`来确定在 0,0 和 X-1,Y-1 处是否有窗口（其中 X 和 Y 是屏幕的宽度和高度），如果是，它们是否是同一个窗口。

您可以尝试的另一件事，我不知道这是否可行，是`WS_EX_TOOLWINDOW`为您的自定义窗口使用扩展窗口样式。这将阻止您的窗口出现在任务栏上，这样做可能会阻止任务栏首先出现在前面。

# android - 错误：内容必须有一个 ID 属性为 android.R.id.list 的 ListView

> ID：13926632
> 
> 赞同：0
> 
> 时间：2012-12-18T05:05:57.133
> 
> 标签：android, listview, android-fragments

使用 SherlockListFragment，我找不到我的错误在哪里。我已经阅读了几个关于这个主题的 Q/A，但似乎没有一个解决方案可以解决我的问题。任何帮助将不胜感激。谢谢。

```
public class BuyFragTab extends SherlockListFragment {

ArrayList<Bookinfo> bookArray;
ListView bookLV;
MyCustomAdapter adapter = null;

//defines the Arraylist Bookinfo record layout
//public class Bookinfo {
public String titles[] = new String[]{"Bk 1", "Bk 2", "Bk 3", "Bk 4", "Bk 5", "Bk 6", "Bk 7", "Bk 8"};
public String authors[] = new String[]{"Tom", "Dick", "Harry", "Jack", "James", "Skip", "Jim", "June"};
public String status[] = new String[]{"Open", "Open", "Open", "Open", "Closed", "Closed", "Closed", "Closed"};
public static ArrayList<String> bkRecs;

Context context;

@Override
public void onActivityCreated(Bundle savedInstanceState){

    System.out.println("onActivityCreated executed");

    bookArray = new ArrayList<Bookinfo>();
    for (int i=0; i<8; i++) {
        Bookinfo bkRecs = new Bookinfo(titles[i], authors[i], status[i]);
        bookArray.add(bkRecs);
        System.out.println("bookArray =" + titles[i]);
    }

    //adapter = new MyCustomAdapter(getActivity(), android.R.id.list,   bookArray);
    adapter = new MyCustomAdapter(getActivity(), R.layout.buy_tbfrag, bookArray);
    //adapter = new MyCustomAdapter();
    //ArrayAdapter<Bookinfo> adapter = new ArrayAdapter<Bookinfo>(getActivity().getBaseContext(),
    //      R.layout.buy_tbfrag_list, bookArray);
    bookLV.setAdapter(adapter);
    super.onActivityCreated(savedInstanceState);
}

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, 
        Bundle savedInstanceState) {

    View view = inflater.inflate(R.layout.buy_tbfrag_list, container, false);

    //bookLV = (ListView)view.findViewById(R.id.list);
    //bookLV = getListView();
    bookLV = (ListView)view.findViewById(android.R.id.list);

    return view;
}
} 
```

xml代码：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

<!-- Put a background to the fragment android:background="#FF0000" -->
<LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal" >

    <EditText
        android:id="@+id/titleSearch"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:hint="Input Title Name" />

    <Button
        android:id="@+id/button1"
        android:layout_width="0dip"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="Search" />

</LinearLayout>

<ListView
    android:id="@android:id/list"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >
</ListView>  

<TextView
    android:id="@+id/empty"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:text="No Books Registered" />

</LinearLayout> 
```

列表视图 xml 代码：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:orientation="vertical" >

<TextView
        android:id="@+id/titleName"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
         />

<TextView
        android:id="@+id/authorName"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
         />

<TextView
        android:id="@+id/bookStatus"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
         />

</LinearLayout> 
```

我的日志猫：

```
12-18 16:01:21.549: D/AndroidRuntime(646): Shutting down VM
12-18 16:01:21.549: W/dalvikvm(646): threadid=1: thread exiting with uncaught exception (group=0x409961f8)
12-18 16:01:21.589: E/AndroidRuntime(646): FATAL EXCEPTION: main
12-18 16:01:21.589: E/AndroidRuntime(646): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.skipster.BookBarter/com.skipster.BookBarter.BookBarterActivity}: java.lang.RuntimeException: Your content must have a ListView whose id attribute is 'android.R.id.list'
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1955)
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1980)
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.app.ActivityThread.access$600(ActivityThread.java:122)
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1146)
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.os.Handler.dispatchMessage(Handler.java:99)
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.os.Looper.loop(Looper.java:137)
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.app.ActivityThread.main(ActivityThread.java:4340)
12-18 16:01:21.589: E/AndroidRuntime(646):  at java.lang.reflect.Method.invokeNative(Native Method)
12-18 16:01:21.589: E/AndroidRuntime(646):  at java.lang.reflect.Method.invoke(Method.java:511)
12-18 16:01:21.589: E/AndroidRuntime(646):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
12-18 16:01:21.589: E/AndroidRuntime(646):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
12-18 16:01:21.589: E/AndroidRuntime(646):  at dalvik.system.NativeStart.main(Native Method)
12-18 16:01:21.589: E/AndroidRuntime(646): Caused by: java.lang.RuntimeException: Your content must have a ListView whose id attribute is 'android.R.id.list'
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.support.v4.app.ListFragment.ensureList(ListFragment.java:344)
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.support.v4.app.ListFragment.onViewCreated(ListFragment.java:145)
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:884)
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1080)
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:622)
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1416)
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:505)
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1133)
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.app.Activity.performStart(Activity.java:4475)
12-18 16:01:21.589: E/AndroidRuntime(646):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1928)
12-18 16:01:21.589: E/AndroidRuntime(646):  ... 11 more
12-18 16:06:21.879: I/Process(646): Sending signal. PID: 646 SIG: 9 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:11:33.000

代替

```
adapter = new MyCustomAdapter(getActivity(), R.layout.buy_tbfrag, bookArray); 
```

和

```
adapter = new MyCustomAdapter(getActivity(), R.layout.list, bookArray); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:21:44.083

当您`extending`使用 ListActivity 时，无需初始化它，因为*如果您在布局中使用带有 @android:id/empty ID 的 View，如果 ListView 为空，ListActivity 将自动显示此 View，否则将其隐藏。*

> setListAdapter（适配器）；

反而

> bookLV.setAdapter（适配器）；

然后清理你的项目并运行它！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-24T19:13:40.313

改变

```
android:id="@+id/authorName" 
```

至

```
android:id="@android:id/authorName" 
```

# javascript - 在javascript中获取单选按钮值

> ID：13926635
> 
> 赞同：1
> 
> 时间：2012-12-18T05:06:14.193
> 
> 标签：javascript, primefaces

我的代码如下： `<p:selectOneRadio value="#{myProgram1.selectedFlag}" id="radID">`
`<f:selectItems value="#{myProgram1.flags}"/>` `</p:selectOneRadio>` `<p:commandButton value="check" onclick="check()"/>`

在我的 bean 类中，地图标志如下：

```
 `flags.put("1", "Apple");`
    `flags.put("2", "Boy");` 
```

我的目标是让选定的单选按钮值说如果我选择 1，那么我应该能够让 Apple 在 check() javascript 函数中。我的代码在`h:form id="fid"`. 我试过`document.getElementById("fid:radID")[0].checked`和`document.getElementById("fid:radID").value`. 没有任何效果。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:18:42.293

```
<input type="radio" name="r" id="r" value="a"> 
```

通过 jQuery 你可以这样做

```
jQuery('#r').click(function(){
            var abc = this.value;
            alert(abc);
        }) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-17T13:19:42.253

如果使用 widgetVar 属性会更容易

```
<p:selectOneRadio value="#{myProgram1.selectedFlag}" id="radID" widgetVar="selectVar">
    <f:selectItems value="#{myProgram1.flags}"/> 
</p:selectOneRadio> 
```

然后您可以使用变量检查来自 javascript 的值：

```
selectVar.inputs[0].checked
selectVar.inputs[1].checked
selectVar.inputs[2].checked 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T05:36:23.047

如果您有一组具有相同名称的单选按钮，则可以通过迭代同名按钮的集合来获取值，例如

```
<form ...>
  <input type="radio" name="foo" value="0" checked>0<br>
  <input type="radio" name="foo" value="1">1<br>
  <input type="radio" name="foo" value="2">2<br>
  <input type="radio" name="foo" value="3">3<br>

  <input type="button" value="show value" onclick="
    var radios = this.form.foo;

    for (var i=0, iLen=radios.length; i<iLen; i++) {

      if (radios[i].checked) {
        alert(radios[i].value);
      }
    }
  ">
  <input type="reset">
</form> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-18T05:51:04.383

我建议您使用 name 而不是 id 因为元素 ID 应该是唯一的。我修改了您的代码以使用元素名称进行管理：

```
<p:selectOneRadio value="#{myProgram1.selectedFlag}" id="radID" name="programm[]">
<f:selectItems value="#{myProgram1.flags}"/> </p:selectOneRadio> <p:commandButton value="check" onclick="check()"/>
<script>
function check()
{
    var arrElements=document.getElementsByName('programm[]');
    $(arrElements).each(function(i,ele){
        if($(ele).attr('checked'))
        {
          /*Your application logic comes here*/
              /*To get Value of checked radio button use : ele.value */
        }
    });
}
</script> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-18T06:03:18.483

好吧，谢谢你们的质量想法。我已经解决了。document.getElementsByName("fid:radID") 返回一个集合。通过迭代它，我可以获得选中的单选按钮值。

也感谢 sarvesh。你的方法也很好用。

# list - 如何将 GridView Cells 数据添加到二维列表中并检索它

> ID：13926636
> 
> 赞同：0
> 
> 时间：2012-12-18T05:06:43.030
> 
> 标签：list, gridview, collections, multidimensional-array

我正在遍历 GridView 行和单元格以获取值并将它们存储在`2D array`. 这是我的代码：

```
 for (int i = 0; i < GridView2.Rows.Count; i++)
 {
     for (int j = 0; j < (GridView2.Rows[i].Cells.Count - 3); j++)
     {
         // using the labels of the template fields.....
         Label values = (Label)GridView2.Rows[i].Cells[j].FindControl("Label" + j);
         GridValues[i,j] = values.Text; // gridvalues is my 2d array.    
     }
 } 
```

我现在需要的是将从上述循环中获得的相同值添加到列表（2D）中。所以我创建了该列表的一个类

这是代码：

```
public  class GridValuesClass
{
    public string GridCustomerName { get; set; }
    public string GridPickUpPoint { get; set; }
    public DateTime GridPickUpDate { get; set; }
    public TimeSpan GridDropPoint { get; set; }
    public DateTime GridDropDate { get; set; }
    public string GridCabStatus { get; set; }
    public string GridAssignedCab { get; set; }
    public TimeSpan GridActualDropTime { get; set; }
} 
```

这些属性表示 gridview 中的列名。

那么，如何在这个类的 gridview 中添加值呢？

如果我的值存在于`list<GridValuesClass>`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T10:00:21.680

您无需将其存储在 2D 数组中以便稍后存储在列表中。相反，您可以将其直接存储到列表中。

有点像这样：

```
var list = new List<GridValuesClass>();

for (int i = 0; i < GridView2.Rows.Count; i++)
{
     var job = new GridValuesClass {
          GridPickUpPoint = GridView2.Rows[i].Cells[0]...,
          GridPickUpDate = ...,
          // and so on with possible use of conversions to get the correct types
     }
     list.Add(job);
} 
```

希望这可以帮助。

* * *

作为旁注，使用更有*意义的*名称。

*   给类一个比 更有意义的类名`GridValuesClass`，如果你有几个网格视图，那么这个名字就变得没用了。从我收集到的关于你如何命名这些属性的信息来看，它看起来更像是出租车的工作订单。所以也许`JobOrder`？
*   `GridView2`什么也没告诉我们。gridview 包含什么样的数据？也许`JobsGridView`？
*   是否有必要在所有字段前加上`Grid`? 如果在没有网格视图的上下文中存储或使用数据怎么办？

# mysql - Sql 查询以传输同一表上另一列上的所有记录

> ID：13926637
> 
> 赞同：0
> 
> 时间：2012-12-18T05:06:53.730
> 
> 标签：mysql, sql, database

**原始表设置：**

```
 Table Name: property_details
 Attribute: property_id, floor_area 
```

现在，添加了一个名为：total_area 的新属性。

**property_details**表上已经有相应 id 的记录，想将 floor_area 数据复制到**total_area**。（稍后会做一些 floor_area ）

为了澄清起见，如果这是在 excel 中，我会将 A1 的值复制到 B2 的同一行。演示很简单，但无法使用 sql 弄清楚。

**这可能在同一张桌子上工作吗？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-18T05:07:52.263

只需运行一个`UPDATE`语句，其中的值`floor_area`被复制到`total_area`，例如，

```
UPDATE property_details
SET total_area= floor_area 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:30:51.323

更好的选择可能是将字段的名称从 total_area 更改为 floor_area 在这种情况下需要非常少的执行时间和效率，但是可能会出现 id 的 ypur 问题，最好先尝试采样或在一组表中

# c++ - 你什么时候需要 C++ 中的'int'？

> ID：13926638
> 
> 赞同：8
> 
> 时间：2012-12-18T05:06:56.303
> 
> 标签：c++, int

*我确实意识到这个标题一开始可能听起来很傻，但请耐心等待我一会儿。:)*

自从我开始使用`size_t`and`ptrdiff_t`之后，我就再也没有使用过 for`int`，在我的记忆中。

我记得最近使用的唯一整数数据类型属于以下类别之一：

1.  （无符号）与某个内存数据结构（例如`vector`）的索引相关联的整数。
    几乎总是，最合适的类型是`size_t`（或者`...::size_type`，如果您要加倍努力）。
    即使整数*实际上并不*代表索引，但通常它仍然与某个索引相关联，因此*仍然*`size_t`是合适的。

2.  的签名版本`size_t`。在许多情况下，最合适的类型似乎是`ptrdiff_t`，因为通常当您需要它时，您正在使用迭代器——因此`size_t`和`ptrdiff_t`都适合它们。

3.  `long`. 我偶尔需要这个`_InterlockedIncrement`（引用计数）。

4.  ( `unsigned`) `long long`，用于保存文件大小。

5.  `unsigned int`或者`unsigned long`，用于“计数”目的（例如，每 100 万次迭代，更新 UI）。

6.  `unsigned char`用于对内存的原始字节级访问。
    （旁注：我从来没有发现任何一个用途`signed char`。）

7.  `intptr_t`以及`uintptr_t`偶尔存储操作系统句柄、指针等。

的一个特殊方面`int`是你不应该溢出它（因为它是未定义的行为），所以你甚至不能可靠地使用它来进行计数——特别是如果你的编译器将它定义为 16 位。

那么，您应该何时使用`int`（除了您的依赖项已经需要它时）？
现在它有什么真正的用途，至少在新编写的可移植代码中？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-18T05:16:48.247

**全可读性**的最重要原因怎么样。（和简单的数学）

```
long weeklyHours = daysWorked * hoursPerDay; 
```

*“好吧……不过话说回来，一个人每周实际上可以工作多少，我们需要一个`long`”*

```
size_t weeklyHours = daysWorked * hoursPerDay; 
```

*“等等……我们是`weeklyHours`用来迭代一个向量吗？”*

```
unsigned int weeklyHours = daysWorked * hoursPerDay; 
```

*“够清楚了。”* - 如果其中一个可能是负数，则可能是错误的来源（逻辑的一部分 - 这可能是一种解释休假或休假的方法，不重要）

```
int weeklyHours = daysWorked * hoursPerDay; 
```

*“好吧，很简单。我明白这是在做什么。”*

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-18T05:17:58.910

Luchian 有一些优秀的可读性点，我将添加一些技术点：

*   编译器希望选择一个可以`int`有效处理的大小，而`long`可能不是（每个操作会冒更多的 CPU 周期、更多的机器代码字节、需要更多的寄存器等）
*   使用有符号类型可以消除一些错误，例如：
    *   `abs(a - b)``b`在数学上看起来是正确的，但在>`a`并且它们没有符号时没有给出直观的结果
    *   `int second_delta = (x.seconds - y.seconds) + (x.minutes - y.minutes) * 60;`
    *   `if (pending - completed > 1) kick_off_threads()`
*   当需要一个完整的哨兵值时`-1`，经常使用：对于无符号类型，这将被转换为可能的最大值，但这可能会导致误解和编码错误（例如`if (x >= 0)`测试非哨兵）

此外，有符号整数和无符号整数之间的隐式转换有很大的范围 - 重要的是要理解无符号类型很少有助于强制执行“非负”不变量：如果这是吸引力的一部分，你最好写一个类强制执行不变量的构造函数和运算符。

在可读性方面，`int`表示对一个明显跨越问题域的数字的一般需求 - 它可能过多，但它在机器代码操作和 CPU 周期方面很便宜，因此是通用整体存储的首选类型。如果您开始使用 say`unsigned char`来存储某人的年龄 - 它不仅不能很好地与`operator<<(std::ostream&...)`. （尤其是对基于堆栈的变量感到困惑），“是否有意将其视为用于 I/O 或 IPC 目的的二进制数据？”，甚至“它是存储在 ASCII 中的已知个位数年龄吗？”。无论如何，如果某些东西最终可能会出现在寄存器中，那`int`就是自然的大小。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T05:24:40.210

假设您正在为一个银行帐户实施一个程序。如果您提款过多（某些账户允许您提款，但会受到处罚），那么您将需要以某种方式表示负值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-16T23:20:16.613

我自己终于找到了一个很好的用例：

`int`是存储*整数对数*的完美候选，例如地图上的缩放级别。

`short`通常对此没有足够的精度（平滑鼠标滚轮的旋转可能非常精确），并且`long`通常比我们需要的精度更高。
我们肯定需要负值，所以我们不应该使用无符号类型。因此`int`符合要求。

# javascript - jQuery 抓取内容并水平滚动页面

> ID：13926640
> 
> 赞同：3
> 
> 时间：2012-12-18T05:07:08.630
> 
> 标签：javascript, jquery, scroll

我的目标是在鼠标移动时抓取内容 x 并水平滚动页面，直到鼠标停止（mouseup 事件），类似于平板电脑的滑动动作。

看起来很简单.. 在 mousedown 上获取 clientX，在移动时通过 ClientX 滚动，完成后关闭 mousemove 功能。

我已经玩了一段时间了，无法获得我正在寻找的滚动效果..

我在这里做错了什么？

```
$('#thediv').on('mousedown', function(event) {  
    var e = event;   

    $('#thediv').on('mousemove',function(event){ 
        new_e = event; 
        $('html, body').stop().animate({
            scrollLeft: new_e.clientX  
        }, 300);   
        return false;  
     }); 

    $('#thediv').on('mouseup', function() { 
        $('#thediv').off('mousemove');  
    }); 
}); 
```

[http://jsfiddle.net/mD7mu/](http://jsfiddle.net/mD7mu/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-18T05:24:36.980

```
$('#greendiv').on('mousedown', function(e) {
    $('#greendiv').on('mousemove', function(evt) {
        $('html,body').stop(false, true).animate({
            scrollLeft: e.pageX - evt.clientX
        });
    });
}); 
```

真的很近。我认为，只需从 pageX 中减去 clientX ，然后`false,true`在 stop 函数中使用就会给你想要的效果。

[这是小提琴！](http://jsfiddle.net/mD7mu/1/)

# mvvm-light - Mvvmlight 中的 MessengerInstance 与 Messenger.Default

> ID：13926645
> 
> 赞同：7
> 
> 时间：2012-12-18T05:07:38.693
> 
> 标签：mvvm-light

在 MvvmLight 中，我发现除了 Messenger.Default 是一种全局静态变量，用于存储整个应用程序的消息句柄，每个 Viewmodel 都会有另一个名为 MessengerInstance 的 Messenger Handler。所以，我对 MessengerInstance 的用途以及如何使用它感到困惑？（只有 ViewModel 可以看到 --> 谁将接收和处理消息？）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-18T09:51:32.000

由`MessengerInstance`RaisePropertyChanged() 方法使用：

```
<summary>
/// Raises the PropertyChanged event if needed, and broadcasts a
///             PropertyChangedMessage using the Messenger instance (or the
///             static default instance if no Messenger instance is available).
/// 
/// </summary>
/// <typeparam name="T">The type of the property that
///             changed.</typeparam>
/// <param name="propertyName">The name of the property 
///             that changed.</param>
/// <param name="oldValue">The property's value before the change
///             occurred.</param>
/// <param name="newValue">The property's value after the change
///             occurred.</param>
/// <param name="broadcast">If true, a PropertyChangedMessage will
///             be broadcasted. If false, only the event will be raised.</param>
protected virtual void RaisePropertyChanged<T>(string propertyName, T oldValue, T    
                                               newValue, bool broadcast); 
```

您可以在视图模型 B 上的属性上使用它，例如：

```
 public const string SelectedCommuneName = "SelectedCommune";

    private communes selectedCommune;

    public communes SelectedCommune
    {
        get { return selectedCommune; }

        set
        {
            if (selectedCommune == value)
                return;

            var oldValue = selectedCommune;
            selectedCommune = value;

            RaisePropertyChanged(SelectedCommuneName, oldValue, value, true);
        }
    } 
```

抓住它并在视图模型 A 上处理它：

```
Messenger.Default.Register<PropertyChangedMessage<communes>>(this, (nouvelleCommune) =>
        {
            //Actions to perform
            Client.Ville = nouvelleCommune.NewValue.libelle;
            Client.CodePays = nouvelleCommune.NewValue.code_pays;
            Client.CodePostal = nouvelleCommune.NewValue.code_postal;
        }); 
```

希望这会有所帮助:)

# javascript - 如何从给定的百分比构建进度条？

> ID：13926647
> 
> 赞同：-5
> 
> 时间：2012-12-18T05:07:41.283
> 
> 标签：javascript, python, progress-bar

您好，我有一个百分比变量，如下所示：

```
test = "3%, 7%, 10%, 11%, 50%, 75%, 77%, 82%, 91%, 100%" 
```

这是一个 Python/Django 变量。

现在，我想使用这些数字来构建一个使用 Javascript 的进度条。

我将变量 test 转储为 json，例如：

```
json.dumps(test) 
```

如何在 Javascript 中调用它并从中构造进度条？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:46:32.607

不要指望别人为你做这种工作，你需要自己做。我为您提供了一个简短的示例和解释，以帮助您*了解*正在发生的事情，其余的取决于您。

这是 Python 中的命令行示例：

```
import sys, time
print

pers = [3, 7, 10, 11, 50, 75, 77, 82, 91, 100]
for per in pers:
    sys.stdout.write('\r[%s>%s]' % (
        ('=' * ((per / 2) -1)), ' '*(50-(per/2)))
    )
    sys.stdout.flush()
    time.sleep(0.5)

print
print 
```

你明白这里发生了什么吗？基本概念是您从总数中添加进度。所以，我在这里`time.sleep(0.5)`添加了随机时间，这样您就可以实际看到进度，但是当您编写 javascript 代码时，这将随着您需要的任何内容的加载而进行。

所以，一旦你掌握了这个想法，只需在 javascript 中重复同样的事情，除了不是向字符串添加字符，而是扩展矩形或其他东西的宽度。而且，您想显示整体的进度，因此您可能应该在进度之一的正后方有一个已经全宽的相同矩形，显示它剩下要加载的总数。然后用 css 格式化这些矩形，使它们看起来不错:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:38:11.167

你可以看看[这个](http://1.s3.envato.com/files/2526201/index.html)并了解自己如何去做。

如果从字符串中获取值是您的问题，您可以使用`split()`和/或正则表达式从字符串/json 对象中获取值数组。

# java - 如何从 Java 调试 CPP DLL

> ID：13926648
> 
> 赞同：-1
> 
> 时间：2012-12-18T05:07:46.540
> 
> 标签：java, c++

我有一个 Java 代码，我在其中调用 CPP DLL。请帮助我如何在 Visual Studio 2010 中调试此 dll。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:23:21.037

我建议在java中创建一个可以由C异步调用并打印日志的函数，确保正确附加和分离JVM的线程

```
 public String logging( String logs )
{
//log.debug("................C Logging request..................");
if (logs.endsWith("\n"))
    logs = logs.substring(0, logs.length() - 1);
log.info("From C: " + logs);
return "SUCCESS";
} 
```

# c++ - C++ vector.push_back() 使 m 程序崩溃

> ID：13926660
> 
> 赞同：0
> 
> 时间：2012-12-18T05:08:56.800
> 
> 标签：c++, vector, crash

我正在编写一个 shell 程序并为传送带编写了一个测试。每次我启动它时，它都会在第三个 vector.push_back() 上崩溃，没有产生任何异常并写了很多难以理解的单词。请告诉我我做错了什么。

```
#include <stdio.h>
#include <vector>
#include "Program.cpp"
#include "Conveyor.cpp"
#include <stdlib.h>

using namespace std;

int main(){
    vector <Program> programs;
    char *argv[2];
    argv[0] = "./increaser";
    argv[1] = NULL;
    Program program1(argv[0], argv);
    Program program2(argv[0], argv);
    Program program3(argv[0], argv);

    printf("conveyor_test - PUSH 1\n");
    programs.push_back(program1);
    printf("conveyor_test - PUSH 2\n");
    programs.push_back(program2);
    printf("conveyor_test - PUSH 3\n");
    try{
        programs.push_back(program3);
        printf("conveyor_test - PUSHED 3\n");
    }
    catch (...){
        printf("Wild exception was caught.\n");
        exit(1);
    }
    printf("conveyor_test - pushed programs into vector\n");
    fflush(stdout);

    printf("---------START-----------\n");
    fflush(stdout);
    conveyor(programs);
    printf("---------END-------------\n");
    return 0;
} 
```

这是写入输出的内容：

```
conveyor_test - PUSH 1
conveyor_test - PUSH 2
conveyor_test - PUSH 3
*** glibc detected *** ./conveyor_test: free(): invalid pointer: 0x0000000001c75040 ***
======= Backtrace: =========
/lib/x86_64-linux-gnu/libc.so.6(+0x7eb96)[0x7f357c463b96]
./conveyor_test[0x401806]
./conveyor_test[0x40388a]
./conveyor_test[0x4034c0]
./conveyor_test[0x402e57]
./conveyor_test[0x4024c5]
./conveyor_test[0x402718]
./conveyor_test[0x401dce]
./conveyor_test[0x40125d]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xed)[0x7f357c40676d]
./conveyor_test[0x400d69]
======= Memory map: ========
00400000-00406000 r-xp 00000000 00:15 265077                             /home/crabman/Dropbox/Projects/C++/shell/conveyor_test
00605000-00606000 r--p 00005000 00:15 265077                             /home/crabman/Dropbox/Projects/C++/shell/conveyor_test
00606000-00607000 rw-p 00006000 00:15 265077                             /home/crabman/Dropbox/Projects/C++/shell/conveyor_test
01c75000-01c96000 rw-p 00000000 00:00 0                                  [heap]
7f357c0e9000-7f357c1e4000 r-xp 00000000 08:01 790941                     /lib/x86_64-linux-gnu/libm-2.15.so
7f357c1e4000-7f357c3e3000 ---p 000fb000 08:01 790941                     /lib/x86_64-linux-gnu/libm-2.15.so
7f357c3e3000-7f357c3e4000 r--p 000fa000 08:01 790941                     /lib/x86_64-linux-gnu/libm-2.15.so
7f357c3e4000-7f357c3e5000 rw-p 000fb000 08:01 790941                     /lib/x86_64-linux-gnu/libm-2.15.so
7f357c3e5000-7f357c59a000 r-xp 00000000 08:01 790899                     /lib/x86_64-linux-gnu/libc-2.15.so
7f357c59a000-7f357c799000 ---p 001b5000 08:01 790899                     /lib/x86_64-linux-gnu/libc-2.15.so
7f357c799000-7f357c79d000 r--p 001b4000 08:01 790899                     /lib/x86_64-linux-gnu/libc-2.15.so
7f357c79d000-7f357c79f000 rw-p 001b8000 08:01 790899                     /lib/x86_64-linux-gnu/libc-2.15.so
7f357c79f000-7f357c7a4000 rw-p 00000000 00:00 0 
7f357c7a4000-7f357c7b9000 r-xp 00000000 08:01 790924                     /lib/x86_64-linux-gnu/libgcc_s.so.1
7f357c7b9000-7f357c9b8000 ---p 00015000 08:01 790924                     /lib/x86_64-linux-gnu/libgcc_s.so.1
7f357c9b8000-7f357c9b9000 r--p 00014000 08:01 790924                     /lib/x86_64-linux-gnu/libgcc_s.so.1
7f357c9b9000-7f357c9ba000 rw-p 00015000 08:01 790924                     /lib/x86_64-linux-gnu/libgcc_s.so.1
7f357c9ba000-7f357ca9f000 r-xp 00000000 08:01 536749                     /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.17
7f357ca9f000-7f357cc9e000 ---p 000e5000 08:01 536749                     /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.17
7f357cc9e000-7f357cca6000 r--p 000e4000 08:01 536749                     /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.17
7f357cca6000-7f357cca8000 rw-p 000ec000 08:01 536749                     /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.17
7f357cca8000-7f357ccbd000 rw-p 00000000 00:00 0 
7f357ccbd000-7f357ccdf000 r-xp 00000000 08:01 790877                     /lib/x86_64-linux-gnu/ld-2.15.so
7f357cec2000-7f357cec7000 rw-p 00000000 00:00 0 
7f357cedb000-7f357cedf000 rw-p 00000000 00:00 0 
7f357cedf000-7f357cee0000 r--p 00022000 08:01 790877                     /lib/x86_64-linux-gnu/ld-2.15.so
7f357cee0000-7f357cee2000 rw-p 00023000 08:01 790877                     /lib/x86_64-linux-gnu/ld-2.15.so
7fff2df40000-7fff2df61000 rw-p 00000000 00:00 0                          [stack]
7fff2df6e000-7fff2df6f000 r-xp 00000000 00:00 0                          [vdso]
ffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]
Aborted 
```

这是 Program 类的重要代码：

```
class Program{
private:
    char *path;
    int argc;
    char **argv;
public:
        Program(char *path, char **argv) {
        printf("Program::Program start\n");
        // вычисляем argc
        argc = 0;
        while (argv[argc] != NULL){
            argc++;
        }
        if (argc < 1){
            throw "Program::Program - argc < 1";
        }
        printf("\targc is calculated\n");
        // копируем path
        if (path == NULL){
            throw "Program::Program - path is NULL";
        }
        this -> path = new char[strlen(path) + 1];
        strcpy(this -> path, path);
        printf("\tpath is calculated\n");
        // копируем argv
        if (argv == NULL){
            throw "Program::Program - argv is NULL";
        }
        this -> argv = new char*[argc];
        for (int i = 0; i < argc; i++){
            this -> argv[i] = new char[strlen(argv[i]) + 1];
            strcpy(this -> argv[i], argv[i]);
        }
        printf("Program::Program end\n");
    }
    ~Program(){
        // printf("Program::~Program start\n");
        delete[] path;
        // printf("\tpath deleted\n");
        size_t size = sizeof(argv) / sizeof(argv[0]);
        // printf("\tsizeof(argv) = %d\n", size);
        for (size_t i = 0; i < size; i++){
            delete[] argv[i];
            // printf("\t\targv[%d] deleted\n", i);
        }
        // printf("\tall argv[i] deleted\n");
        delete[] argv;
        // printf("Program::~Program end\n");
    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-18T06:55:57.737

使用的时候`push_back`，实际上放入vector中的是一份*拷贝*。此副本是*浅副本*，这意味着编译器仅复制*指针*而不是它们指向的内容。

实际上制作了几个副本，当其中一个副本超出范围时，将调用副本析构函数来释放指针中的内存。但是由于所有副本都有指向完全相同内存的指针，因此该内存现在被标记为空闲，因此您无法访问它们。

在您的问题的评论部分有链接到称为“三法则”的东西，这意味着如果您有*析*构函数、复制构造函数或赋值运算符，那么您应该实现所有这三个。这是为了确保在复制实例时进行深度复制，同时复制实际数据。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T07:22:04.583

我添加了一个复制构造函数，它不再崩溃了。谢谢你们。

```
Program (const Program& that){

        // copying argc

        argc = that.getargc();

        // copying path

        path = new char[argc + 1];

        strcpy(path, that.getpath());

        // copying argv

        int len = 0;

        while (that.getargv()[len] != NULL){

            len++;

        }

        argv = new char*[len + 1];

        for (int i = 0; i < len; i++){

            argv[i] = new char[strlen(that.getargv()[i]) + 1];

            strcpy(argv[i], that.getargv()[i]);

        }

    } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-18T07:40:01.463

问题是您拥有指针并且没有实现三规则（C++ 11 中的五规则）。

其他人建议您应该实施三法则。
我不同意这种观点。这是这个问题的错误解决方案。一个类不应该包含多个拥有的指针（很难正确地做到这一点）。您应该做的是使用正确的指针类型。

在这种情况下`path`应该是一个`std::string`. 这是因为 std::string 正确处理了字符串的内存管理。

在这种情况下`argv`（在程序内）。应该是一个`std::vector<std::string>`。这是因为`std::vector<>`正确处理动态大小数组的内存管理。在这种情况下，数组中的每个元素都是一个字符串（需要单独处理）。

一旦您进行了这些更正，Program 的实现就会变得更加简单，因为您正确地将内存管理移动到专门为此任务设计的类（这称为关注点分离：一个类处理业务逻辑或资源管理（您的类 Program 确实业务逻辑，因此它不应该进行资源管理（内存管理））。

新版本的 Program 现在简单多了：

```
class Program{
private:
    std::string              path;
    int                      argc;
    std::vector<std::string> argv;
public:
    Program(char *path, char **argv)
        :path(path ? path : "")
    {
        printf("Program::Program start\n");
        // вычисляем argc
        argc = 0;
        // What happens if argv is NULL?
        while (argv[argc] != NULL){
            argc++;
        }
        if (argc < 1){
            throw "Program::Program - argc < 1";
        }
        printf("\targc is calculated\n");
        // копируем path
        if (path == NULL){
            throw "Program::Program - path is NULL";
        }
        printf("\tpath is calculated\n");
        // копируем argv
        if (argv == NULL){
            throw "Program::Program - argv is NULL";
        }
        for (int i = 0; i < argc; i++){
            this->argv.push_back() = argv[i];
        }
        printf("Program::Program end\n");
    }
    /* Don't need this
    ~Program(){
    } */
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-18T06:59:11.773

在分配内存并复制内容的位置添加复制构造函数。每当您在向量中添加对象时，都会在向量对象上调用复制构造函数。这是崩溃的原因。

# java - 如何在自定义形状中填充两种不同的颜色？

> ID：13926663
> 
> 赞同：5
> 
> 时间：2012-12-18T05:09:12.457
> 
> 标签：java, android

我在 android 项目中创建了自定义形状。这是代码，

**弯曲形状.xml：-**

```
<shape xmlns:android="http://schemas.android.com/apk/res/android" >
    <stroke android:width="4dp" android:color="#ffffff" />
    <padding android:left="7dp" android:top="7dp"
            android:right="7dp" android:bottom="7dp" />
    <gradient android:centerColor="#ffffff" android:startColor="#32CD32" android:endColor="#ffffff"/> 
</shape> 
```

**main.xml:-**

```
<View   
            android:layout_width="wrap_content"
            android:layout_height="150dp"
            android:layout_marginLeft = "10dp"
            android:layout_marginRight = "10dp"
            android:layout_centerHorizontal="true" 
            android:layout_marginTop="20dp"
            android:background="@drawable/curvedshape"/> 
```

在形状中，渐变属性将起始颜色设为绿色，垂直填充绿色。但我想像下图一样填充颜色，水平填充颜色为一半。怎么做？

![在此处输入图像描述](../Images/a36dde5fd7783542132969aa819f4ef3.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:41:06.317

使用 layer-list 并在 XML 中绘制两个形状：

```
<layer-list xmlns:android="http://schemas.android.com/apk/res/android" >   
    < item>
            < shape
                xmlns:android="http://schemas.android.com/apk/res/android"
                android:shape="rectangle" >

           <stroke android:width="4dp" android:color="#ffffff" />

        </shape>
    </item>      
    <item>
        <shape
            xmlns:android="http://schemas.android.com/apk/res/android"
            android:shape="rectangle" >

            <stroke android:width="4dp" android:color="#7CFC00" />
        </shape>
    </item> 
</layer-list> 
```

编辑：你刚刚在你的 xml 中使用了这个渐变属性

```
`< gradient android:angle="-90" android:centerX="0.5" android:centerY="0.5" android:centerColor="#ffffff" android:startColor="#32CD32" android:endColor="#ffffff"
 />` 
```

`我已经使用了这个，这显示了你需要的类似形状：`

```
 `< shape
                xmlns:android="http://schemas.android.com/apk/res/android"
                android:shape="rectangle" >
 < gradient android:angle="-90" android:centerX="0.5" android:centerY="0.5" android:centerColor="#ffffff" android:startColor="#32CD32" android:endColor="#ffffff"
 /> 
 < /shape>`
```

# .net - 错误：3.5 中指定的未知 .NET Framework 位数

> ID：13926665
> 
> 赞同：1
> 
> 时间：2012-12-18T05:09:23.043
> 
> 标签：.net, frameworks

我们已经创建了一个带有 powershell 的安装程序。因为有些日子，每当我尝试安装软件包时，它都会给我错误说明：

```
default.ps1:Error: Unknown .NET Framework bitness, , specified in 3.5 
```

检查所附图片：http: [//i50.tinypic.com/k04ljo.jpg](http://i50.tinypic.com/k04ljo.jpg)

谁能告诉什么问题以及如何解决。

问候， 拉胡尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T10:59:54.977

您可能正在使用 PowerUp 库来运行此脚本，这是已修复的报告错误，您只需更新文件 /core/psake/psake.psm1 即可修复此处报告的此错误： [https ://github.com /psake/psake/commit/4710debb0128d0bd39ff54115bc9c2872762831a](https://github.com/psake/psake/commit/4710debb0128d0bd39ff54115bc9c2872762831a)

正如您在链接中看到的那样，在确定框架的位数时，将 NULL 的检查更改为 EmptyOrNull 是一种单行修复。这应该够了吧。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:26:33.770

您安装的环境存在 x64、x86 方面的问题。检查您的安装程序二进制文件是否与当前的“位数”不匹配，即操作系统是 64 位还是 32 位

# android - Android 上的 PhoneGap/jQuery Mobile 被下推

> ID：13926669
> 
> 赞同：3
> 
> 时间：2012-12-18T05:09:58.923
> 
> 标签：android, cordova, jquery-mobile

我刚刚开始在 jQuery Mobile 中使用 Phone Gap，所以我不太了解如何调试以及模拟器上提供哪些类型的调试工具。

标题栏在 Android 模拟器 (AVD_for_Nexus_7_by_Google) 上被向下推了一点。但是，在 iOS 模拟器和 Web 浏览器上一切正常。

任何想法可能会发生什么或我可能会尝试调试什么？

这是代码：

```
 <!-- Start of index page -->
  <div data-role="page" id="index">
    <div data-role="header">
      <a href="index.html" data-icon="home" class="ui-btn-left" data-transition="slide" data-direction="reverse">Home</a>
      <h1>Hello!</h1>
    </div><!-- /header -->

    <div data-role="content"> 
      <ul data-role="listview" data-filter="true" data-inset="true">
        <li><a href="" data-transition="slide">hihi</a>
          <ul data-role="listview" data-filter="true" data-inset="true">
            <li><a href="" data-transition="slide">hihi1</a>
              <ul data-role="listview" data-filter="true" data-inset="true">
                <li>examplea</li> 
                <li>exampleb</li> 
                <li>exampleb</li> 
              </ul>
            </li>
            <li><a href="" data-transition="slide">hihi2</a>
              <ul data-role="listview" data-filter="true" data-inset="true">
                <li>example2</li> 
                <li>example2</li> 
                <li>example2</li> 
              </ul>
            </li>
            <li><a href="" data-transition="slide">hihi3</a>
              <ul data-role="listview" data-filter="true" data-inset="true">
                <li>example3</li> 
                <li>example3</li> 
                <li>example3</li> 
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </div><!-- /content -->
  </div><!-- /page --> 
```

这是我所看到的图像： ![在此处输入图像描述](../Images/627e3756ce5b118941874a7dc5dd32fc.png)

感谢您的时间！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T06:12:05.667

添加`margin-top:0`您的代码。

代码是： -

```
.ui-shadow, .ui-btn-up-a, .ui-btn-hover-a, .ui-btn-down-a, .ui-body-b, .ui-btn-up-b, .ui-    btn-hover-b, .ui-btn-down-b, .ui-bar-c, .ui-body-c, .ui-btn-up-c, .ui-btn-hover-c, .ui-btn-down-c, .ui-bar-c, .ui-body-d, .ui-btn-up-d, .ui-btn-hover-d, .ui-btn-down-d, .ui-bar-d, .ui-body-e, .ui-btn-up-e, .ui-btn-hover-e, .ui-btn-down-e, .ui-bar-e, .ui-overlay-shadow, .ui-shadow, .ui-btn-active, .ui-body-a, .ui-bar-a {
    box-shadow: none;
    margin-top: 0;
    text-shadow: none;
} 
```

只需将其添加到您的 CSS 中。还要记住 PhoneGap 很简单，只要确保你正确阅读了文档。

# php - 以编程方式清除 cookie

> ID：13926682
> 
> 赞同：-1
> 
> 时间：2012-12-18T05:11:10.740
> 
> 标签：php, mysql, cookies

我有一个名为的登录页面`signin.php`，用户可以在其中输入电子邮件和密码。单击提交按钮后，页面指向`connection_validate.php`. 此页面使用数据库验证用户输入的数据。如果是注册用户，则页面指向`calendar.php`. 如果输入的数据不正确，它应该重定向到`signin.php`. 如果输入的数据不正确，我会这样放置cookie：

```
//action to be done if e mail id and password matches with database records             
if(mysql_num_rows($result)>0)
{
    header('location:calendar.php');
}
//action to be done if e mail id and password does not matches with database records 
else
{
    setcookie('message','incorrect login data');
    header('location:signin.php');
} 
```

在 signin.php 中，我编写了用于在登录信息不正确时显示警报的代码，如下所示：

```
<?php
include("include/minfooter.php"); 
if(isset($_COOKIE["message"]))
{
    if(!($_COOKIE["message"]==" "))
    {
        echo "<script>
    alert('Incorrect login information');
    </script>";
    setcookie("message"," ",time()-3600);
    }
}
?> 
```

我的问题是，如果我输入了一次错误登录数据，则每次加载登录页面时都会显示警报。如果我也按下 calendar.php 中的后退按钮到 signin.php，警报开始显示。我知道问题出在cookie上。Cookie 尚未删除。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:21:23.573

如下更新您的 signin.php

```
<?php
    include("include/minfooter.php");
    if (isset($_COOKIE["message"]))
    {

        echo "<script>
                var delete_cookie = function(name) {
                    document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:01 GMT;';
                };
                var msg = '" . $_COOKIE["message"] . "';
                if (msg != '')
                    alert('Incorrect login information');
                delete_cookie('message');
            </script>";
    }
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T05:28:11.427

如果您使用会话，则可以使用 $_SESSION 变量而不是 cookie 值。此外，您不能在输出内容后使用 setcookie()，因为 setcookie() 将发送一个 HTTP 标头，该标头必须在发送任何内容之前发送。

```
session_start();
//action to be done if email id and password matches with database records
if (mysql_num_rows($result) > 0)
{
    header('Location: calendar.php');
    exit;
}
//action to be done if email id and password does not matches with database records
else
{
    $_SESSION['message'] = 'incorrect login data';
    header('Location: signin.php');
    exit;
} 
```

然后：

```
<?php

session_start();
include("include/minfooter.php"); 

if (!empty($_SESSION['message']))
{
    echo "<script>alert('" . $_SESSION["message"] . "');</script>";
    $_SESSION['message'] = '';
}

?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T05:29:05.573

好吧，也许更好地使用会话，在 $_SESSION 数组上使用索引 ['messages']，然后进行清理，当您想要在用户离开页面后引用一些信息时应该使用 cookie。我制作了关于使用 cookie 的代码，但考虑使用会话：

```
<?php include("include/minfooter.php"); 
        if(isset($_COOKIE["message"]) && !empty($_COOKIE["message"])
        {
                echo "<script>
                    var msg = '<?php echo $_COOKIE["message"];?>';
                    if (msg != "")
                    alert('Incorrect login information');
                  </script>";
              unset($_COOKIE["message"]);
        }
?> 
```

# .net - 如何从 LINQ 中获取多种记录类型？

> ID：13926689
> 
> 赞同：0
> 
> 时间：2012-12-18T05:11:59.157
> 
> 标签：.net, linq

我需要从 LINQ 的连接中获取 2 种记录类型。我不希望从联接中创建单个合并类型，因为它们都有大约 2 打列，并且我已经定义了 MVC 模型类型，以从两个表中的每一个表中接收类型。

到目前为止，我有这样的事情：

```
var qry = from recT1 in db.Tbl1
          join recT2 in db.Tbl2 on recT1.colA equals recT2.colA
          where recT1.colA != null
          select new { MyT1 = recT1, MyT2 = recT2 }; 
```

然后，我试图做一些巧妙的事情，比如：

```
public class T1and2
{
    public T1Model T1 { get; set; }
    public T2Model T2 { get; set; }
}

T1and2[] aT12 = qry.Select( obj => new T1and2()
    {
        T1 = new T1Model(obj.MyT1),    //-- these ctors defined separately
        T2 = new T2Model(obj.MyT2)
    })
    .ToArray(); 
```

但这给了我一个运行时`NotSupportedException`说明`"Only parameterless constructors are supported."`

我的下一步将是简单地创建一个 for 循环来提取模型类。我只是想知道是否有更好的方法来进行转移。

**ADD：** 为了更清楚，我需要从recT传输数据吗？类型到 T?Model 类型。T?Model 类型是为 MVC 数据显示和格式化而修饰的模型类型。我要避免的一件大事是代码中多个位置的相同长的属性分配列表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T07:20:35.783

尝试这个

```
var aT12 =
    from obj in qry
    let t1 = new T1Model(obj.MyT1)
    let t2 = new T2Model(obj.MyT2)
    select mew T1and2 { T1 = t1, T2 = t2 }; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T12:45:30.703

在我看来，您也可以这样做：

```
var aT12 = qry.Select( obj => new T1and2()
    {
        T1 = obj.MyT1,
        T2 = obj.MyT2
    })
    .ToArray(); 
```

我不知道构造函数是否包含任何处理逻辑。如果是这样，您可以将该处理推迟到循环中实际读取`MyT1`或`MyT2`实际读取的那一刻。`for`

# mysql - 无法运行 mysqltuner

> ID：13926690
> 
> 赞同：-1
> 
> 时间：2012-12-18T05:12:00.767
> 
> 标签：mysql, ubuntu-10.04, mysqltuner

我正在运行 Ubuntu 10.04 LTS，我正在尝试运行 mysqltuner，但它不起作用。我下载了脚本并使其可执行，然后我输入了 ./mysqltuner.pl 但它给出了错误

```
./mysqltuner.pl: line 4: syntax error near unexpected token `newline'
./mysqltuner.pl: line 4: `<!DOCTYPE html>' 
```

有谁知道如何解决这一问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:32:31.490

你可能没有得到实际的脚本。

尝试下载[https://raw.github.com/rackerhacker/MySQLTuner-perl/master/mysqltuner.pl](https://raw.github.com/rackerhacker/MySQLTuner-perl/master/mysqltuner.pl)

# php - Magento 添加到购物车不起作用

> ID：13926697
> 
> 赞同：1
> 
> 时间：2012-12-18T05:12:38.620
> 
> 标签：php, javascript, magento

“添加到购物车”在我的 Magento Mobile 版本中不起作用。它建立了 Jquery-Mobile。

Javascript控制台说

> 未捕获的类型错误：无法调用未定义的方法“提交”

查了很久的代码，还是没有发现错误。我对 magento 和 Jquery-mobile 版本有点陌生。请帮忙。我将在下面分享我的代码。

应用程序/设计/前端/移动/模板/目录/产品/view.phtml

```
<?php $_helper = $this->helper('catalog/output'); ?>
<?php $_product = $this->getProduct(); ?>
<script type="text/javascript">
    var optionsPrice = new Product.OptionsPrice(<?php echo $this->getJsonConfig() ?>);
</script>
<div id="messages_product_view"><?php echo $this->getMessagesBlock()->getGroupedHtml() ?></div>
<div class="product-view">
    <div class="product-essential">
    <form action="<?php echo $this->getSubmitUrl($_product) ?>" method="post" id="product_addtocart_form"<?php if($_product->getOptions()): ?> enctype="multipart/form-data"<?php endif; ?>>
        <div class="no-display">
            <input type="hidden" name="product" value="<?php echo $_product->getId() ?>" />
            <input type="hidden" name="related_product" id="related-products-field" value="" />
        </div>

        <div class="product-shop">
            <div class="product-name">
                <h1><?php echo $_helper->productAttribute($_product, $_product->getName(), 'name') ?></h1>
            </div>

            <?php /* @todo
            <?php if ($this->canEmailToFriend()): ?>
                <p class="email-friend"><a href="<?php echo $this->helper('catalog/product')->getEmailToFriendUrl($_product) ?>"><?php echo $this->__('Email to a Friend') ?></a></p>
            <?php endif; ?>

            <?php echo $this->getReviewsSummaryHtml($_product, false, true)?>
            <?php echo $this->getChildHtml('alert_urls') ?>
             */ ?>
            <?php echo $this->getChildHtml('product_type_data') ?>
            <?php echo $this->getTierPriceHtml() ?>
            <?php echo $this->getChildHtml('extrahint') ?>

            <?php if (!$this->hasOptions()):?>
                <div class="add-to-box">
                    <?php if($_product->isSaleable()): ?>
                        <?php echo $this->getChildHtml('addtocart') ?>
                        <?php if( $this->helper('wishlist')->isAllow() || $_compareUrl=$this->helper('catalog/product_compare')->getAddUrl($_product)): ?>
                            <span class="or"><?php echo $this->__('OR') ?></span>
                        <?php endif; ?>
                    <?php endif; ?>
                    <?php echo $this->getChildHtml('addto') ?>
                </div>
                <?php echo $this->getChildHtml('extra_buttons') ?>
            <?php endif; ?>

            <?php if ($_product->getShortDescription()):?>
                <div class="short-description">
                    <h2><?php echo $this->__('Quick Overview') ?></h2>
                    <div class="std"><?php echo $_helper->productAttribute($_product, nl2br($_product->getShortDescription()), 'short_description') ?></div>
                </div>
            <?php endif;?>

            <?php echo $this->getChildHtml('other');?>

            <?php if ($_product->isSaleable() && $this->hasOptions()):?>
                <?php echo $this->getChildChildHtml('container1', '', true, true) ?>
            <?php endif;?>

        </div>

        <div class="product-img-box">
            <?php echo $this->getChildHtml('media') ?>
        </div>

        <div class="clearer"></div>
        <?php if ($_product->isSaleable() && $this->hasOptions()):?>
            <?php echo $this->getChildChildHtml('container2', '', true, true) ?>
        <?php endif;?>
    </form>
    <script type="text/javascript">
    //<![CDATA[
        var productAddToCartForm = new VarienForm('product_addtocart_form');
        productAddToCartForm.submit = function(button, url) {
            alert("hiii");
            if (this.validator.validate()) {
                var form = this.form;
                var oldUrl = form.action;

                if (url) {
                   form.action = url;
                }
                var e = null;
                try {
                    this.form.submit();
                } catch (e) {
                }
                this.form.action = oldUrl;
                if (e) {
                    throw e;
                }

                if (button && button != 'undefined') {
                    button.disabled = true;
                }
            }
        }.bind(productAddToCartForm);

        productAddToCartForm.submitLight = function(button, url){
            if(this.validator) {
                var nv = Validation.methods;
                delete Validation.methods['required-entry'];
                delete Validation.methods['validate-one-required'];
                delete Validation.methods['validate-one-required-by-name'];
                if (this.validator.validate()) {
                    if (url) {
                        this.form.action = url;
                    }
                    this.form.submit();
                }
                Object.extend(Validation.methods, nv);
            }
        }.bind(productAddToCartForm);
    //]]>
    </script>
    </div>

    <div class="product-collateral">
<?php foreach ($this->getChildGroup('detailed_info', 'getChildHtml') as $alias => $html):?>
        <div class="box-collateral <?php echo "box-{$alias}"?>">
            <?php if ($title = $this->getChildData($alias, 'title')):?>
            <h2><?php echo $this->escapeHtml($title); ?></h2>
            <?php endif;?>
            <?php echo $html; ?>
        </div>
<?php endforeach;?>
    <?php /* @todo
        <?php echo $this->getChildHtml('upsell_products') ?>
        <?php echo $this->getChildHtml('product_additional_data') ?>
     */ ?>
    </div>
</div> 
```

应用程序/设计/前端/移动/模板/目录/产品/视图/addtocart.phtml

```
<?php $_product = $this->getProduct(); ?>
<?php $buttonTitle = $this->__('Add to Cart'); ?>
<?php if($_product->isSaleable()): ?>
    <div class="add-to-cart">
        <?php if(!$_product->isGrouped()): ?>
        <label for="qty"><?php echo $this->__('Qty:') ?></label>
        <input type="text" name="qty" id="qty" maxlength="12" value="<?php echo $this->getProductDefaultQty() * 1 ?>" title="<?php echo $this->__('Qty') ?>" class="input-text qty" />
        <?php endif; ?>
        <button type="button" title="<?php echo $buttonTitle ?>" class="button btn-cart" onclick="productAddToCartForm.submit(this)"><span><span><?php echo $buttonTitle ?></span></span></button>
        <?php echo $this->getChildHtml('', true, true) ?>
    </div>
<?php endif; ?> 
```

如您所见，我在 javascript 提交函数中发出了警报。但它没有出现。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T06:30:57.557

在此行之后尝试 console.log(productAddToCartForm) ：

```
 var productAddToCartForm = new VarienForm('product_addtocart_form'); 
```

输出是什么？确保页面中实际加载了包含这些 VarienForm js 类的文件。基本上检查控制台是否有任何潜在的缺失 JS 库，如果你没有修改任何可能的原因......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-03T09:07:40.617

我注意到由于合并了 JavaScript 文件（系统 -> 配置 -> 开发人员下的管理员设置），Internet Explorer 中出现了问题。

# objective-c - 如何在 UIWebView(IOS5) 中设置 User-Agent

> ID：13926700
> 
> 赞同：1
> 
> 时间：2012-12-18T05:12:43.607
> 
> 标签：objective-c, uiwebview, nsuserdefaults, user-agent

我找到的唯一方法是：

```
NSDictionary*dictionnary = [[NSDictionary alloc] initWithObjectsAndKeys:@"my user agent", @"UserAgent", nil];
 [[NSUserDefaults standardUserDefaults] registerDefaults:dictionnary];
 [[NSUserDefaults standardUserDefaults] synchronize]; 
```

它工作得很好。但唯一的问题是我们不能在程序的后面修改 User-Agent。有没有人可以解决这个问题或有其他方法在 UIWebView 中设置用户代理？我要做的是在项目中自由设置UIWebView中的User-Agent。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T14:57:44.507

我不久前对此进行了实验。它更多的是关于时间而不是实际设置的值。它需要时间来循环和更新任何更改。默认值需要在应用程序的早期更改/设置。就像在 -applicationDidFinishLoading 中一样。之后的任何更改都可能需要一点时间才能生效。

此方法确实有效，但如果您设置或更改它，然后尝试立即加载 web 视图，它不会总是将其拾取。

您可以尝试在主线程上设置新值并允许它在尝试加载任何新内容之前完成......这可能会有所帮助。

# oauth-2.0 - Box v2 API 中 refresh_token 的 Oauth 2.0 有效性

> ID：13926701
> 
> 赞同：0
> 
> 时间：2012-12-18T05:12:45.530
> 
> 标签：oauth-2.0, box-api

oauth 文档说
**每个 access_token 有效期为 1 小时，每个刷新令牌有效期为 14 天。要使用 refresh_token 获取新的 access_token，请向[https://api.box.com/oauth2/token发出 POST 请求](https://api.box.com/oauth2/token)**

**在此响应中，您将收到新的 access_token 和 refresh_token。您用于发出此请求的 refresh_token*不再有效*。**

问题： 1) 如果偶然我无法存储这个新的 refresh_token，那么旧的 refresh_token 会失效吗？

2）不能有始终有效的刷新令牌，我们只生成access_token吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:48:58.410

1.  是的，当一个新的 refresh_token 被创建时，前一个就失效了。

2.  OAuth 2 规范的一部分包括使旧的 refresh_tokens 失效以换取新的。这不是最引人入胜的读物，但您可以在这里看到所有内容：[https ://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-31](https://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-31)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-01T12:43:04.680

实际上，我们只是更改了这一点，以便在您使用新的访问令牌之前我们不会删除您的旧刷新令牌。

# html - html5：在图像下方添加文本

> ID：13926708
> 
> 赞同：-3
> 
> 时间：2012-12-18T05:13:15.750
> 
> 标签：html

我是 HTML 编程的新手。请参考以下代码：

```
<div data-role="content" data-mini="true" >
  <div class="content-primary">
    <input type="image" src="images/mobile.png" style="width:100px; padding:5px; background:#fff; border:1px solid #999;" value="Input" type="image" onclick="mobileClicked()" data-role="none" />
    <span style="clear:both">Mobile</span>
  </div>
</div> 
```

*我想要的只是获取图像下方的文本。*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:18:41.747

有很多方法可以实现这一目标；如果您不喜欢使用`span`标签，一种可能性是将其更改为`p`标签（此处的 jsFiddle：http: [//jsfiddle.net/tuanderful/WcU2M/](http://jsfiddle.net/tuanderful/WcU2M/)）这甚至可以让您删除`clear: both`

```
<div data-role="content" data-mini="true" >
    <div class="content-primary">
    <input type="image" src="images/mobile.png" style="width:100px; padding:5px; background:#fff; border:1px solid #999;" value="Input type=image" onclick="mobileClicked()" data-role="none" />
    <p style="">Mobile</p> 
    </div>
</div> 
```

如果您坚持当前的结构，我注意到您`clear: both`在标题上有一个...我将添加`float: left`到标题和输入中。

```
<div data-role="content" data-mini="true" >
<div class="content-primary">
<input type="image" src="images/mobile.png" style="width:100px; padding:5px; background:#fff; border:1px solid #999;float: left" value="Input type=image" onclick="mobileClicked()" data-role="none" />
<span style="float: left; clear:both">Mobile</span> 
</div>
</div> 
```

# ruby-on-rails - i18n 翻译 yml 文件中的别名/符号链接

> ID：13926711
> 
> 赞同：0
> 
> 时间：2012-12-18T05:13:36.603
> 
> 标签：ruby-on-rails, ruby-on-rails-3, internationalization, yaml

假设我有一个 i18n 语言环境文件，定义了两个具有 has_one/belongs_to 关系的模型的翻译：

```
en:
  activerecord:
    models:
      photo: 'Photo'
      photographer: 'Photographer'
    attributes:
      photo:
        name: 'Name'
        description: 'Description'
        photographer: 'Photographer' 
```

如您所见，摄影师在文件中定义了两次。有没有办法通过创建别名或将其引用到变量来简化这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-18T06:31:10.690

您可以使用[YAML 的锚点和别名](http://www.yaml.org/spec/1.2/spec.html#id2760395)来完成您想做的事情。例如：

```
en:
  photographer: &photographer 'Photographer' 
  activerecord:
    models:
      photo: 'Photo'
      photographer: *photographer
    attributes:
      photo:
        name: 'Name'
        description: 'Description'
        photographer: *photographer 
```

但是，就在你走这条路之前，请先阅读[这个 StackOverflow 线程](https://stackoverflow.com/q/11097572/567863)，然后再下定决心。

# java - 使用 Android 和 Oracle Java 进行字符串字符编码

> ID：13926722
> 
> 赞同：4
> 
> 时间：2012-12-18T05:15:26.137
> 
> 标签：java, android, unicode, character-encoding

我有计算字符串的 SHA-256 哈希的代码，并注意到我从 Android 和 Oracle Java 7 获得了相同字符串的不同哈希。我的哈希代码将其`String`转换`byte[]`为：

```
byte[] data = stringData.getBytes("UTF-16"); 
```

使用 UTF-16 编码，我从 Oracle Java 和 Android Java 得到不同的结果。这是我正在散列的字符串：

```
// Test Code:
String toHash = "testdata";
System.out.println("Hash: " +DataHash.getHashString(toHash)); 
```

并使用 UTF-16 获取这些哈希：

```
Hash: a1112a0363a59097a701e38398e1fdfef3049358aee81b77ecaad2924a426bc5 [Oracle Java 7]
Hash: 811b723aee07c7a52456fc57a5683e73649075a373d341f7257bf73575111ba3 [Android 2.2] 
```

但是，使用 UTF-8，我得到两个 JRE 的相同哈希值：

```
Hash: 810ff2fb242a5dee4220f2cb0e6a519891fb67f2f828a6cab4ef8894633b1f50 [Oracle Java 7]
Hash: 810ff2fb242a5dee4220f2cb0e6a519891fb67f2f828a6cab4ef8894633b1f50 [Android 2.2] 
```

是否存在某种字节序问题，导致不同平台上的结果不同？我应该如何真正准备一个字符串以独立于平台的方式进行散列？

**编辑：** 哎呀，一旦您阅读更多有关 UTF-16 的信息，答案就很明显了。UTF-16 有两个版本（大端和小端）。您只需要指定 getBytes() 应该使用哪个版本，并且哈希值是相同的。选择以下之一：

*   UTF-16LE
*   UTF-16BE

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T10:21:01.263

根据[Orcale Java 的文档](http://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html)：

> 解码时，UTF-16 字符集解释一个字节序标记来指示流的字节序，但如果没有字节序标记，则默认为大端；**编码时，它使用大端字节序并写入一个大端字节序标记。**

这意味着 plain`UTF-16`在 Oracle Java 中应该始终编码为 Big Endian。

然后从[Android Java 文档](http://developer.android.com/reference/java/nio/charset/Charset.html)：

```
Charset            Encoder writes
UTF-16BE           BE, no BOM
UTF-16LE           LE, no BOM
UTF-16             BE, with BE BOM 
```

因此，其中一个或文档中都存在错误。两者都必须是Big Endian，并且写BOM，所以应该没有任何区别。

一般来说，您应该更喜欢`UTF-16BE/LE`，`UTF-16`但在这种情况下，它似乎是一个错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:37:37.477

显示您的哈希代码，但它可能做错了什么。散列的结果是 a`byte[]`所以不需要首先从字符串转换为`byte[]`。用于将二进制哈希值转换为`String`使用 Base64 或十六进制编码。

# c# - 使用数组信息填充组合框

> ID：13926723
> 
> 赞同：6
> 
> 时间：2012-12-18T05:15:30.093
> 
> 标签：c#, arrays, combobox

我正在尝试`ComboBox`用另一个类中的数组的 PART 填充一个。我必须制作一个创建客户、库存和订单的应用程序。在订单表单上，我试图分别从客户和库存类中的数组中提取客户 ID 和库存 ID 信息。数组中包含多种类型的信息：客户 ID、姓名、地址、状态、邮编等；库存 ID、名称、折扣值和价格。

这就是我的数组的设置方式：

```
public static Customer[] myCustArray = new Customer[100];

public string customerID;
public string customerName;
public string customerAddress;
public string customerState;
public int customerZip;
public int customerAge;
public int totalOrdered; 
```

这就是我的组合框的设置方式：

```
public void custIDComboBox_SelectedIndexChanged(object sender, EventArgs e)
{
    custIDComboBox.Items.AddRange(Customer.myCustArray);

    custIDComboBox.DataSource = Customer.getAllCustomers();
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-18T05:23:33.673

使用数据绑定。

给出一个现有的对象数组（在您的情况下为“客户”），定义如下：

```
public static Customer[] myCustArray = new Customer[100]; 
```

将数组定义为数据源，如下所示：

```
BindingSource theBindingSource = new BindingSource();
theBindingSource.DataSource = myCustArray;
myComboBox.DataSource = bindingSource.DataSource; 
```

然后您可以像这样设置每个项目的标签和值：

```
//That should be a string represeting the name of the customer object property.
myComboBox.DisplayMember = "customerName";
myComboBox.ValueMember = "customerID"; 
```

就是这样。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T05:35:20.237

```
Customer.myCustArray[0] = new Customer { customerID = "1", customerName = "Jane" };  
Customer.myCustArray[1] = new Customer { customerID = "2", customerName = "Jack" }; 
```

您不需要上面的两行，我添加它们以查看输出，以下代码生成 ComboBox 项：

```
foreach (Customer cus in Customer.myCustArray)
{
    comboBox1.Items.Add("[" + cus.customerID + "] " + cus.customerName);
} 
```

您可以将此代码复制到适当的事件，例如它可以是`FormLoad`，如果您希望每次表单激活时刷新组合框的项目，您可以这样做：

```
private void Form3_Activated(object sender, EventArgs e)
{
    comboBox1.Items.Clear();
    foreach (Customer cus in Customer.myCustArray)
    {
        comboBox1.Items.Add("[" + cus.customerID + "] " + cus.customerName);
    }
} 
```

# c# - Asp.Net Web App 挂在彗星上

> ID：13926725
> 
> 赞同：-2
> 
> 时间：2012-12-18T05:15:39.140
> 
> 标签：c#, asp.net

我已经实现了彗星。当客户端向服务器请求时，该请求等待服务器直到新消息到达。当新消息到达时，它会返回给客户端。在响应完成后再次处理客户端对服务器的请求并等待新消息。

这对于服务器上最多 10 个请求等待效果很好，但是在服务器无法响应新请求并且站点被挂起并且必须回收应用程序池之后。我发现所有请求的状态都是 IIS 的工作进程中的 ExecuteRequestHandler。

请告诉我我该怎么办？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:33:59.370

[我认为你应该用http://www.asp.net/signalr](http://www.asp.net/signalr)替换你的彗星实现。它将以异步方式处理来自服务器或客户端的任何发送/接收消息。它也是为向外扩展而构建的

# android - 如何在Android中获取文本字符串（带有属性）的边界？

> ID：13926727
> 
> 赞同：0
> 
> 时间：2012-12-18T05:16:11.247
> 
> 标签：android, font-size

给定资源中的字符串，我怎样才能得到它的边界矩形？

对于纯文本，我可以使用 Paint.getTextBounds()，但这是来自资源的字符串，其中包含换行符和属性设置。

```
<string name="foobar"><small>Foo</small>\nBar</string> 
```

换句话说，我正在实现一个自定义视图，它将显示这样的字符串，并且我想计算我的视图的大小。

更多细节：基本上，我正在实现 TextView 的一种变体，它调整其字体大小以适应可用空间，而不是调整其大小以适应文本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T06:32:35.430

You want to show html in your custom view. Do i make it clear?

If you want to implements this all by your own code. It is a very huge work. Extending TextView and overriding some methods is the best choice, but if you insist on writing your own class, you can still get help from some system class.

Showing and measuing html should follow the code of TextView, you can find this in TextView.onDraw() and TextView.onMeasure(), here i just talk about the steps for measuring html.

1.  Parsing html. Use `Html.fromHtml()` to get a Spanned text.
2.  Create a `StaticLayout` or `DynamicLayout` with the spanned text.
3.  Use `Layout.getLineWidth()` and `Layout.getHeight()` to measure the text.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:56:29.820

尝试这个 ：

字符串.xml

```
 <string name="foobar"><small>Foo</small>\nBar</string> 
```

活动中

```
 final TextView mytext = (TextView) findViewById(R.id.my_textView);
       mytext.setText(getString(R.string.foobar));

       Button btn_getTextBounds = (Button) findViewById(R.id.ok);
       btn_getTextBounds.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
               Rect rectf = new Rect();
               mytext.getLocalVisibleRect(rectf);

               Log.d("WIDTH        :",String.valueOf(rectf.width()));
               Log.d("HEIGHT       :",String.valueOf(rectf.height()));
               Log.d("left         :",String.valueOf(rectf.left));
               Log.d("right        :",String.valueOf(rectf.right));
               Log.d("top          :",String.valueOf(rectf.top));
               Log.d("bottom       :",String.valueOf(rectf.bottom));
           }
       }); 
```

它将在可见屏幕区域显示 TextView 使用的必需属性。

希望它可以帮助你。

谢谢。

# asp.net - 如何使 ASP.Net 重新编译页面上的变化？

> ID：13926729
> 
> 赞同：1
> 
> 时间：2012-12-18T05:16:23.893
> 
> 标签：asp.net, apache, firefox, caching, mono

我创建了一个 aspx 页面并在 Firefox 和 Chrome 中查看它，它运行正常，运行 C# 代码。但是当我对页面进行更改（包括删除所有内容并提供空白页面）时，两个浏览器都继续显示原始编译的 aspx 页面！

尽管对 aspx 文件进行了更改，但似乎 ASP.Net（Web 服务器）并未重新编译。**让它重新编译的唯一方法是更改​​ web.config 然后重新启动 Web 服务器！**

我什至添加了以下代码，但它仍然加载原始页面：

```
<script runat="server">
Sub Page_Load
    Random rd = new Random();
    Response.AddHeader("ETag", rd.Next(1111111, 9999999).ToString());
    Response.AddHeader("Pragma", "no-cache");
    Response.CacheControl = "no-cache";
    Response.Cache.SetNoStore();
    Response.Expires = -1;
End Sub
</script> 
```

**我为排除浏览器缓存所做的测试：**

1.  创建了一个 aspx 页面并仅在 firefox 中加载它*（而不是在 chrome 中）*
2.  更改了 aspx 文件
3.  在 Firefox 中再次加载 aspx 但没有任何变化
4.  在 Chrome 中加载它*（有史以来第一次）*，它仍然显示旧版本！

***使用 Apache 和 Mono，而不是 IIS***

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T21:01:22.080

这似乎是 Linux 上的 Mono+Apache 问题。它看不到对已编译页面的更改。唯一的解决方法是：

1.  重新启动 Apache 网络服务器（这会导致它看到它们已更改） - 只需大约 2 秒

2.  删除“/tmp/www-data-temp-aspnet-0/”中的临时文件（这可能有点错误，所以#1 是更好的选择）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:22:59.003

检查您的 Web 应用程序是`Web Application`项目还是`Web Site`项目。如果它是一个 Web 应用程序，则每次更改某些内容时都需要编译，而网站项目允许更改无需编译即可反映。此外，您可以`Ctrl+F5`在浏览器中使用来获取页面的非缓存副本。希望他的帮助。

[在此处](http://msdn.microsoft.com/en-us/library/dd547590.aspx)阅读详细信息

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T05:23:37.863

简短回答：这是浏览器的错，这是设计的预期行为。在浏览器中强制刷新缓存（IE 中的 Ctrl-F5）。

更正：当它是 Mono/Apache 堆栈时，而不是 IIS。然后手动重启可能是唯一的解决方法。在 IIS 中，陈旧的影响会在不活动期间自然清除，此时服务器会终止空闲进程。在 Mono 中，可能有也可能没有相同的清洁计划，因此，流程生命周期和配置是首先要查看修复的地方。

不重新编译的行为是由请求页面的复杂标识引起的。身份包括 URL、时间戳和会话。如果您尝试在不关闭浏览器的情况下刷新页面，那么 ASP 服务器将需要提供旧的已编译页面的陈旧副本，因为服务器会尝试保持服务页面与现有会话、视图状态，甚至可能存在于客户端上的客户端脚本的一致性在部分更新之间，等等。此外，浏览器旨在遵守缓慢变化的互联网页面，将副本存储在缓存中并保持副本的年龄以跳过不必要的网络旅行。否则互联网会慢 10 倍。

其他注意事项：通过 ASP 服务器推送最慢的文件是 css 文件。

# android - NumberPicker 禁用时不灰显

> ID：13926730
> 
> 赞同：5
> 
> 时间：2012-12-18T05:16:27.437
> 
> 标签：android, android-widget

我相信我可能在 Android UI 中发现了一个错误，但我想确保我没有做错什么。这是我正在运行的导致问题的代码的简化版本。此侦听器设置在我的 UI 中的特定 NumberPicker 上，它正确地禁用/启用了一些东西，但是如果用户更改了它禁用的其他 NumberPicker 之一的值，它的行为会有点奇怪。

它仍然可以正确禁用输入，但无法将值变灰，使其看起来仍然处于启用状态。这是故意的吗？难道我做错了什么？

```
NumberPicker.OnValueChangeListener diceChangeListener = new NumberPicker.OnValueChangeListener() {
    @Override
    public void onValueChange(NumberPicker picker, int oldVal, int newVal) {
        View parent = (View) picker.getParent();    

        if (newVal == 0) {
            ((NumberPicker) parent.findViewById(R.id.diceCountPicker1)).setEnabled(false);
        } else if (oldVal == 0) {
            ((NumberPicker) parent.findViewById(R.id.diceCountPicker1)).setEnabled(true);
        }
    }
}; 
```

让我知道是否有更好的方法可以做到这一点，或者这是否是一个合法的错误。如果它是一个错误，有没有办法解决它？

编辑：这是 diceCountPicker1 在 XML 中的定义：

```
<NumberPicker
    android:id="@+id/diceCountPicker1"
    android:layout_width="48dp"
    android:layout_height="128dp"
    android:descendantFocusability="blocksDescendants"
    /> 
```

编辑2：

我已经在模拟器中对此进行了测试，并确认在 Jellybean (4.1) 之前该问题不存在。它在 ICS 中正常工作。那是……烦人。但我现在也许可以忍受它。我将保留这个开放的潜在方法来解决这个错误，但它在我看来就像一个真正的错误，我怀疑它可以被修复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T05:22:00.600

以这种方式尝试。

```
 NumberPicker npicker = (NumberPicker) findViewById(R.id.diceCountPicker1);
        npicker.setMaxValue(100);
        npicker.setMinValue(0);

        npicker.setOnValueChangedListener(new OnValueChangeListener() {
            @Override
            public void onValueChange(NumberPicker picker, int oldVal,
                    int newVal) {
                // Conditions for Enable/Disable picker                 
                if (newVal == 0) {
                    picker.setEnabled(false);
                } else if (oldVal == 0) {
                    picker.setEnabled(true);
                }
            }
        }); 
```

它对我来说效果很好，并且根据附加条件启用/禁用它的行为正常。

谢谢。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-22T05:52:37.547

好吧，在没有其他反馈的情况下，我将继续关闭它。这是我所知道的：

这似乎是 Jellybean 中引入的一个错误。我已经在模拟器中进行了测试，并且 UI 在 ICS 和更早版本中按预期工作。目前，我只是要处理这个问题，并尝试提交官方错误报告。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-01T04:55:34.563

NumberPicker `android:enabled="false"`和 DatePicker xml 布局中的设置不会使我在 Android 4.0.4 设备上的控件变灰。`setEnabled(false)`但是，通过按预期方式以编程方式执行此操作。

# extjs4 - 动态网格中的分页和分组

> ID：13926732
> 
> 赞同：1
> 
> 时间：2012-12-18T05:16:41.357
> 
> 标签：extjs4, extjs4.1, extjs-mvc

我正在使用这个[插件](http://www.sencha.com/forum/showthread.php?242594-Dynamic-grid-with-dynamic-model)使用动态网格。

我想在其中进行分页，

我试过了，

```
Ext.define('....', {
    extend: 'Ext.data.Store',
    pageSize: 10,
    proxy: {
        type: 'rest',
        url: me.url,
        reader: {
            type: 'dynamicReader',
            totalProperty: 'totalCount'
        }
    }
});

me.bbar = Ext.create('Ext.PagingToolbar', {
    store: me.store,
    displayInfo: true,
    displayMsg: 'Displaying topics {0} - {1} of {2}',
    emptyMsg: "No topics to display"
}); 
```

在`DynamicGrid.js` `totalProperty`不工作。我在那里正确设置属性吗？

然后我也试图在同一个插件中进行分组。

我有`combobox`一些字段，并希望从中动态选择分组字段。当我在组合框中选择一个字段时，它会将该数据发送到网格的 groupField 属性。

我在控制器中选择了那个组合框值，例如，

```
var groupData = Ext.ComponentQuery.query('#groupid')[0].getValue(); 
```

我将它发送到网格，例如，

```
Ext.define('Group', {
    singleton: true,
    param: groupData
}); 
```

我得到了网格属性（in `DynamicGrid.js`）之类的，

```
groupField: [Group.param] 
```

但这会自动选择 groupField 属性的第一个字段，然后再选择组合框中的任何内容并进行分组，在组合框中选择其他字段也不起作用，它总是有第一个字段进行分组。

出了什么问题？请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T13:10:19.647

我通过在侦听器中添加以下代码成功分组，

`me.store.group(Group.param);`

仍然对 totalProperty 有问题，有人可以帮我解决吗？

我想我犯了一个错误，现在实际的 JSON 响应是，

```
[{
    "userId": 123,
    "name": "Ed Spencer",
    "email": "ed@sencha.com"
}] 
```

因此，获取数据和操作的代码可以正常工作，例如，

```
readRecords: function(data) {
    if (data.length > 0) {
        var item = data[0];
        var fields = new Array();
        var columns = new Array();
        var p;

        for (p in item) {
            if (p && p != undefined) {
                fields.push({name: p, type: 'floatOrString'});
                columns.push({text: p, dataIndex: p});
            }
        }
        data.metaData = { fields: fields, columns: columns };
    }
    return this.callParent([data]);
} 
```

但是对于发送其他元数据属性，从[文档](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.reader.Json)中我可能应该有以下`JSON`响应，

```
{
    "count": 1,
    "ok": true,
    "msg": "Users found",
    "users": [{
        "userId": 123,
        "name": "Ed Spencer",
        "email": "ed@sencha.com"
    }],
    "metaData": {
        "root": "users",
        "idProperty": 'userId',
        "totalProperty": 'count',
        "successProperty": 'ok',
        "messageProperty": 'msg'
    }
} 
```

那么如何在`readReords`函数中指向 root 以便它知道数据在 root 中？

因此，我还将传递其他元数据属性。

请帮忙！

# android - 无法启动组件信息android

> ID：13926737
> 
> 赞同：0
> 
> 时间：2012-12-18T05:17:02.370
> 
> 标签：android, class

因此，在我的 android 应用程序中，我使用阿拉伯语，在每个 Activity 类中，我使用了一个方法`addtranslate`，并在需要翻译 Activity 中的文本时调用它。大约有 15 个活动类，我必须编写该方法并调用它。它工作得很好，但是在我创建一个新类的每个类中实现该方法并在 Activity 类中实例化它并尝试使用它来处理来自 android 项目中一个位置的翻译并不是一个好习惯。

但是当我尝试这个时出现以下错误。这是原木猫

```
12-18 10:12:26.690: E/AndroidRuntime(341): FATAL EXCEPTION: main
12-18 10:12:26.690: E/AndroidRuntime(341): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.xxxx.xxx/com.xxxx.xxx.ShowMessageActivity}: java.lang.NullPointerException
12-18 10:12:26.690: E/AndroidRuntime(341):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
12-18 10:12:26.690: E/AndroidRuntime(341):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
12-18 10:12:26.690: E/AndroidRuntime(341):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
12-18 10:12:26.690: E/AndroidRuntime(341):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
12-18 10:12:26.690: E/AndroidRuntime(341):  at android.os.Handler.dispatchMessage(Handler.java:99)
12-18 10:12:26.690: E/AndroidRuntime(341):  at android.os.Looper.loop(Looper.java:123)
12-18 10:12:26.690: E/AndroidRuntime(341):  at android.app.ActivityThread.main(ActivityThread.java:3683)
12-18 10:12:26.690: E/AndroidRuntime(341):  at java.lang.reflect.Method.invokeNative(Native Method)
12-18 10:12:26.690: E/AndroidRuntime(341):  at java.lang.reflect.Method.invoke(Method.java:507)
12-18 10:12:26.690: E/AndroidRuntime(341):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
12-18 10:12:26.690: E/AndroidRuntime(341):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
12-18 10:12:26.690: E/AndroidRuntime(341):  at dalvik.system.NativeStart.main(Native Method)
12-18 10:12:26.690: E/AndroidRuntime(341): Caused by: java.lang.NullPointerException
12-18 10:12:26.690: E/AndroidRuntime(341):  at android.content.ContextWrapper.getResources(ContextWrapper.java:80)
12-18 10:12:26.690: E/AndroidRuntime(341):  at com.xxxx.xxx.AddTranslate.addTranslates(AddTranslate.java:11)
12-18 10:12:26.690: E/AndroidRuntime(341):  at com.xxxx.xxx.ShowMessageActivity.onCreate(ShowMessageActivity.java:41)
12-18 10:12:26.690: E/AndroidRuntime(341):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
12-18 10:12:26.690: E/AndroidRuntime(341):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
12-18 10:12:26.690: E/AndroidRuntime(341):  ... 11 more 
```

这是新创建的用于翻译的java类

```
import android.app.Activity;
import android.graphics.Typeface;
import android.widget.TextView;

public class AddTranslate extends Activity {

    public void addTranslates(int rid, TextView txt1) {
        String textv = getResources().getString(rid);
        txt1.setText(Farsi.Convert(textv));
        Typeface typeFace=Typeface.createFromAsset(getAssets(),"fonts/DroidSansArabic.ttf");
        txt1.setTypeface(typeFace);

    }

} 
```

这就是我在其他活动中使用它的方式

```
protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.page17sub);
        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);
        final TextView txt1 = (TextView) findViewById(R.id.textView1);
        final TextView txt2 = (TextView) findViewById(R.id.textView2);

        Intent intent = getIntent();
        id = intent.getIntExtra("id", 0);
        AddTranslate tra1   =new AddTranslate();
        AddTranslate tra2   =new AddTranslate();

           if (id == 3) {

            //addTranslate(R.string.butt3title1, txt1);
            //addTranslate(R.string.butt3desc1, txt2);
            tra1.addTranslates(R.string.butt3title1, txt1);
            tra2.addTranslates(R.string.butt3desc1, txt2);

        } else if (id == 5) { 
```

任何人都可以帮我纠正这个问题。

这是将当前活动传递给 addtranslation 对象后的最新日志

```
12-18 11:40:46.639: E/AndroidRuntime(481): FATAL EXCEPTION: main
12-18 11:40:46.639: E/AndroidRuntime(481): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.xxxx.xxx/com.xxxx.xxx.ShowMessageActivity}: java.lang.NullPointerException
12-18 11:40:46.639: E/AndroidRuntime(481):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
12-18 11:40:46.639: E/AndroidRuntime(481):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
12-18 11:40:46.639: E/AndroidRuntime(481):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
12-18 11:40:46.639: E/AndroidRuntime(481):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
12-18 11:40:46.639: E/AndroidRuntime(481):  at android.os.Handler.dispatchMessage(Handler.java:99)
12-18 11:40:46.639: E/AndroidRuntime(481):  at android.os.Looper.loop(Looper.java:123)
12-18 11:40:46.639: E/AndroidRuntime(481):  at android.app.ActivityThread.main(ActivityThread.java:3683)
12-18 11:40:46.639: E/AndroidRuntime(481):  at java.lang.reflect.Method.invokeNative(Native Method)
12-18 11:40:46.639: E/AndroidRuntime(481):  at java.lang.reflect.Method.invoke(Method.java:507)
12-18 11:40:46.639: E/AndroidRuntime(481):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
12-18 11:40:46.639: E/AndroidRuntime(481):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
12-18 11:40:46.639: E/AndroidRuntime(481):  at dalvik.system.NativeStart.main(Native Method)
12-18 11:40:46.639: E/AndroidRuntime(481): Caused by: java.lang.NullPointerException
12-18 11:40:46.639: E/AndroidRuntime(481):  at android.content.ContextWrapper.getResources(ContextWrapper.java:80)
12-18 11:40:46.639: E/AndroidRuntime(481):  at com.xxxx.xxx.AddTranslate.addTranslates(AddTranslate.java:19)
12-18 11:40:46.639: E/AndroidRuntime(481):  at com.xxxx.xxx.ShowMessageActivity.onCreate(ShowMessageActivity.java:43)
12-18 11:40:46.639: E/AndroidRuntime(481):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
12-18 11:40:46.639: E/AndroidRuntime(481):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
12-18 11:40:46.639: E/AndroidRuntime(481):  ... 11 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:27:20.610

您将需要使用 AddTranslate 的构造函数在 AddTranslate ShowMessageActivity 活动中发送当前上下文，将您的代码更改为：

```
public class AddTranslate {
public Context context;

public AddTranslate(Context context){
this.context=context;
}

    public void addTranslates(int rid, TextView txt1) {
        String textv = context.getResources().getString(rid);

        txt1.setText(Farsi.Convert(textv));
        Typeface typeFace=Typeface.createFromAsset(context.getAssets(),
                                            "fonts/DroidSansArabic.ttf");
        txt1.setTypeface(typeFace);

    }

} 
```

并来自 ShowMessageActivity Activity ：

```
 AddTranslate tra1   =new AddTranslate(Current_Activity.this);
    AddTranslate tra2   =new AddTranslate(Current_Activity.this); 
```

# mysql - Rails 相关模型聚合的性能改进

> ID：13926739
> 
> 赞同：1
> 
> 时间：2012-12-18T05:17:25.480
> 
> 标签：mysql, ruby-on-rails, performance

我有一个名为 Person 的模型，而 Person 有多个帖子。当我想查询每个人的帖子计数时，它需要很长时间来处理，因为它需要遍历每个人并查询每个帖子以获取聚合。

```
class Person < ActiveRecord::Base
has_many :posts
end 
```

**输出（JSON）：**

```
Person1
  PostsType1Count: 15
  PostsType2Count: 45
Person2
  PostsType3Count: 33
.
.
. 
```

我想以最佳方式计算每个人的所有帖子数。最好的解决方案是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-23T18:52:31.070

如果您有一组小的预定义类型，这是执行此操作的一种方法

```
class Person < ActiveRecord::Base
  has_many :type_1_posts, :class_name => 'Post', :conditions => 'post_type = 1'
  has_many :type_2_posts, :class_name => 'Post', :conditions => 'post_type = 2'
  has_many :type_3_posts, :class_name => 'Post', :conditions => 'post_type = 3'
end 
```

然后您可以编写如下所示的代码来获取所有数据：

```
@all_people = Person.includes(:type_1_posts, :type_2_posts, :type_3_posts).all 
```

帖子的**急切加载**允许每种类型的帖子的计数可用，以及每种类型的所有帖子。

如果您需要此代码的额外性能，因为您经常执行此查询，那么您可以考虑使用 Rails**计数器缓存**机制来跟踪 Person 对象上每种类型的计数。

Rails 的美妙之处在于，在使代码读取速度更快的过程中，您的主要显示代码不需要更改（添加计数器缓存会使添加/删除帖子的速度变慢，因此您可能不希望在所有情况下都这样做）。

1.  编写初始代码
2.  使用**急切加载**使其更快
3.  使用**计数器缓存**使其更快

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:40:56.637

试试这个五月它会为你工作

```
 #In Controller
    @persons = Person.all
    #In View
    @persons.each do |person|
         person.posts.count # It will gives all posts count
         person.posts.collect{|x| true if x.type==1 }.compact.count #If you want to get the post counts based on type
    end 
```

假设如果您想获取任何方法，只需在控制台中检查或调试是 person.methods.sort 它将提供所有方法。
尝试在 rails 控制台 person.posts.methods 也会给出类型，然后根据类型检查计数。因为我不知道帖子模型中有哪些字段。所以检查一下。

# c# - 用于打印的图像对象

> ID：13926746
> 
> 赞同：1
> 
> 时间：2012-12-18T05:18:15.313
> 
> 标签：c#, system.drawing, system.drawing.imaging

我想创建一个**System.Drawing.Image**对象。使用另一个`Image`包含**条形码**和**文本**文件的对象创建的。我需要向其中添加另一个文本并对其进行优化以进行打印。但是，当我尝试使用类来做到这一点时，`Graphic`图像质量变得很低。

我可以完美地从原始对象打印，其中的文本在 PDF 打印机中显示为文本。

# c++ - pImpl idiom - 将私有类实现放入 cpp 有什么缺点？

> ID：13926758
> 
> 赞同：2
> 
> 时间：2012-12-18T05:19:34.217
> 
> 标签：c++

pImpl 习语的以下实现有什么缺点？

```
// widget.hpp

// Private implementation forward declaration
class WidgetPrivate;

// Public Interface 
class Widget
{
private:
    WidgetPrivate* mPrivate;

public:
    Widget();
    ~Widget();

    void SetWidth(int width);    
};

// widget.cpp
#include <some_library.hpp>

// Private Implementation
class WidgetPrivate
{
private:
    friend class Widget;

    SomeInternalType mInternalType;

    SetWidth(int width)
    {
        // Do something with some_library functions
    }
};

// Public Interface Implementation
Widget::Widget()
{
    mPrivate = new WidgetPrivate();
}

Widget::~Widget()
{
    delete mPrivate;
}

void Widget::SetWidth(int width)
{
    mPrivate->SetWidth(width);
} 
```

我不希望类的私有实现部分有单独的标头和源代码，因为代码本质上属于同一个类——那么它们不应该放在一起吗？

这个版本有什么替代品会更好？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-18T06:15:05.903

首先，让我们解决私有变量是否应该与类声明一起存在的问题。类声明的`private`一部分是该类的实现细节的一部分，而不是该类公开的接口。该类的任何外部“用户”（在 API 的情况下是另一个类、另一个模块还是另一个程序）将只关心`public`您的类的一部分，因为这是它唯一可以使用的东西。

将所有私有变量直接放入一个`private`节中的类中可能看起来像是将所有相关信息放在同一个地方（在类声明中），但事实证明，私有成员变量不仅不是相关信息，而且还创建了不必要的以及您的班级客户之间不需要的依赖关系以及相当于实现细节的内容。

如果出于某种原因，您需要添加或删除私有成员变量，或者如果您需要更改其类型（例如 from `float`to `double`），那么您修改了代表类的公共接口的头文件，以及任何用户该类需要重新编译。如果您在库中导出该类，您还会破坏二进制兼容性，因为除其他外，您可能更改了类的大小（`sizeof(Widget)`现在将返回不同的值）。使用 a`pImpl`时，您可以通过将实现细节保留在它们所属的位置来避免那些人为的依赖关系和那些兼容性问题，这是您的客户看不见的。

正如您已经猜到的那样，有一个权衡，这可能取决于您的具体情况，也可能不重要。第一个权衡是该类将失去一些 const 正确性。您的编译器将允许您在已声明的方法中修改私有结构的内容`const`，而如果它是私有成员变量，则会引发错误。

```
struct TestPriv {
    int a;
};

class Test {
public:
    Test();
    ~Test();

    void foobar() const;

private:
    TestPriv *m_d;
    int b;
};

Test::Test()
{
    m_d = new TestPriv;
    b = 0;
}

Test::~Test()
{
    delete m_d;
}

void Test::foobar() const
{
    m_d -> a = 5; // This is allowed even though the method is const
    b = 6;        // This will not compile (which is ok)
} 
```

第二个权衡是性能之一。对于大多数应用程序，这将不是问题。但是，我遇到了需要非常频繁地操作（创建和删除）大量小对象的应用程序。在那些罕见的极端情况下，创建分配额外结构和延迟分配所需的额外处理将对您的整体性能产生影响。但是请注意，您的平均程序肯定不属于该类别，它只是在某些情况下需要考虑的事情。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T06:08:06.400

我做同样的事情。它适用于 PImpl 习语的任何简单应用。没有严格的规则规定私有类必须在其自己的头文件中声明，然后在其自己的 cpp 文件中定义。当它是只与一个特定 cpp 文件的实现相关的私有类（或一组函数）时，将声明 + 定义放在同一个 cpp 文件中是有意义的。它们一起合乎逻辑。

> 这个版本有什么替代品会更好？

当您需要更复杂的私有实现时，还有另一种选择。例如，假设您正在使用一个不想在标头中公开的外部库（或希望通过条件编译使其成为可选），但是该外部库很复杂，并且需要您编写一堆包装类或适配器，和/或您可能希望在主项目实现的不同部分以类似的方式使用该外部库。然后，您可以为所有代码创建一个单独的文件夹。在该文件夹中，您可以像往常一样创建头文件和源代码（大约 1 个头文件 == 1 个类），并且可以随意使用外部库（不执行任何操作）。然后，需要这些工具的主要项目部分可以简单地包含并仅在 cpp 文件中使用它们以用于实现目的。这或多或少是任何大型包装器（例如，包装 OpenGL 或 Direct3D 调用的渲染器）的基本技术。换句话说，它是类固醇上的 PImpl。

总之，如果它只是用于外部依赖项的单服务使用/包装，那么您展示的技术基本上是要走的路，即保持简单。但是如果情况更复杂，那么你可以应用 PImpl（编译防火墙）的原理，但比例更大（而不是 cpp 文件中的 ext-lib-specific 私有类，你有一个 ext-lib-specific 文件夹您仅在库/项目的主要部分中私下使用的源文件和头文件）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-18T06:45:42.083

我认为没有太大区别。您可以选择更方便的替代方案。

但我还有一些其他建议：

通常在 PIMPL 中，我将实现类声明放在接口类中：

```
class Widget
{
private:
   class WidgetPrivate;
...
}; 
```

这将防止在 Widget 类之外使用 WidgetPrivate 类。所以你不需要将 Widget 声明为 WidgetPrivate 的朋友。您可以限制对 WidgetPrivate 的实现细节的访问。

我推荐使用智能指针。换线：

```
WidgetPrivate* mPrivate; 
```

至

```
std::unique_ptr<WidgetPrivate> mPrivate; 
```

使用智能指针你不会忘记删除成员。如果在构造函数中抛出异常，已经创建的成员将始终被删除。

我的 PIMPL 变种：// widget.hpp

```
// Public Interface 
class Widget
{
private:
    // Private implementation forward declaration
    class WidgetPrivate;

    std::unique_ptr<WidgetPrivate> mPrivate;

public:
    Widget();
    ~Widget();

    void SetWidth(int width);    
};

// widget.cpp
#include <some_library.hpp>

// Private Implementation
class Widget::WidgetPrivate
{
private:
    SomeInternalType mInternalType;

public:
    SetWidth(int width)
    {
        // Do something with some_library functions
    }
};

// Public Interface Implementation
Widget::Widget()
{
    mPrivate.reset(new WidgetPrivate());
}

Widget::~Widget()
{
}

void Widget::SetWidth(int width)
{
    mPrivate->SetWidth(width);
} 
```

# endianness - 字节顺序背后的原因？

> ID：13926760
> 
> 赞同：40
> 
> 时间：2012-12-18T05:19:39.930
> 
> 标签：endianness

我想知道，为什么有些架构使用小端，而另一些架构使用大端。我记得我在某处读到它与性能有关，但是，我不明白字节序如何影响它。我也知道：

> little-endian 系统的特性是可以从内存中读取不同长度的相同值，而无需使用不同的地址。

这似乎是一个不错的功能，但即便如此，许多系统使用大端，这可能意味着大端也有一些优势（如果是这样，哪个？）。

我敢肯定还有更多，最有可能深入到硬件级别。很想知道细节。

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-12-21T14:24:37.137

我在网上浏览了一些关于这个问题的更多信息，并且有很多答案和推理来解释为什么大端或小端排序可能更可取。我会尽力在这里解释我的发现：

## 小端序

little-endianness 的明显优势是您在问题中已经提到的......事实上，给定的数字可以被读取为来自同一内存地址的不同数量的位。正如关于该主题的[维基百科文章所述：](https://en.wikipedia.org/wiki/Endianness)

> 尽管高级程序员很少直接使用这种 little-endian 属性，但它经常被代码优化器和汇编语言程序员使用。

正因为如此，涉及多个精度的数学函数更容易编写，因为字节的重要性将始终对应于内存地址，而对于大端数字则不是这样。这似乎是一遍又一遍地引用的小端序的论点......由于它的普遍性，我不得不假设这种排序的好处是相对显着的。

我发现的另一个有趣的解释涉及加法和减法。在添加或减去多字节数时，必须首先获取最低有效字节，以查看是否存在对更高有效字节的结转。因为最低有效字节首先以 little-endian 数字读取，所以系统可以并行化并开始计算该字节，同时获取后续字节。

## 大端序

回到维基百科的文章，大端数字的优势在于可以更容易地估计数字的大小，因为最重要的数字在前。与这一事实相关的是，通过简单地检查最低字节中偏移量 0 处的位，很容易判断一个数字是正数还是负数。

在讨论大端序的好处时，还说明了二进制数字的顺序与大多数人订购 base-10 数字一样。当从二进制转换为十进制时，这在性能方面是有利的。

* * *

尽管所有这些论点都很有趣（至少我认为如此），但它们对现代处理器的适用性是另一回事。特别是，加法/减法参数在 8 位系统上最有效......

在我看来，小端序似乎是最有意义的，并且在查看所有使用它的设备时是迄今为止最常见的。我认为仍然使用大端序的原因更多是为了遗留而不是性能。也许有一次，给定架构的设计者认为大端比小端更可取，并且随着架构多年来的发展，端保持不变。

我在这里画的平行是JPEG（大端）。JPEG 是大端格式，尽管几乎所有使用它的机器都是小端格式。虽然有人可能会问 JPEG 作为大端序有什么好处，但我会大胆地说，就所有意图和目的而言，上述性能论点并没有产生任何影响。事实是 JPEG 就是这样设计的，只要它仍在使用，它就会一直保持这种状态。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-25T23:31:19.010

我假设曾经是第一批处理器的硬件设计人员决定哪种字节序最适合与他们从头开发的芯片的首选/现有/计划微架构集成。

Once established, and for compatibility reasons, the endianness was more or less carried on to later generations of hardware; which would support the 'legacy' argument for why still both kinds exist today.

# php - .htaccess mod_rewrite 检查查询字符串变量是否可用

> ID：13926763
> 
> 赞同：1
> 
> 时间：2012-12-18T05:20:07.003
> 
> 标签：php, .htaccess, mod-rewrite

基本上我想重写我的网址，这样`website.com/folder/`有时我也需要它来重写`website.com/folder/page/`

目前我只使用它，`website.com/folder/`但无法让它检查是否有页面，如果我在文件夹下创建另一个规则，它会读取该规则，并给我一个空页面变量，这会破坏我的 php.ini 文件。我与 .htaccess 斗争，任何帮助将不胜感激。

这是我只使用文件夹但我不能包含页面的内容。

```
Options +FollowSymLinks
RewriteEngine On

RewriteCond %{REQUEST_URI} !^/?(css|js|images|html|docs)/
RewriteRule ^([^/]*)/$ /?folder=$1 [QSA] 
```

这是我试图让它与一个文件夹或一个文件夹和页面一起工作的内容

```
Options +FollowSymLinks
RewriteEngine On

RewriteCond %{REQUEST_URI} !^/?(css|js|images|html|doc)/
RewriteRule ^([^/]*)/$ /?folder=$1 [QSA]

RewriteCond %{REQUEST_URI} !^/?(css|js|images|html|doc)/
RewriteRule ^([^/]*)/([^/]*)/$ /?folder=$1&page=$2 [L,QSA] 
```

请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T07:05:40.393

根据[RewriteRule 文档](http://httpd.apache.org/docs/2.2/mod/mod_rewrite.html#rewriterule)，您应该反转规则集中的规则顺序。因为在您的配置中，两条规则都相同`RewriteCond`，所以最具体的规则（文件夹 + 页面）应该在顶部，最通用的规则应该在最后一条。如果第一个规则匹配时不匹配，则重写 URL，第二个规则永远不会匹配。此外，您可能希望删除文件夹 + 页面规则模式中的尾部正斜杠（假设模式中的第二组匹配页面而不是文件夹）。所以我认为整件事应该是这样的：

```
RewriteCond %{REQUEST_URI} !^/?(css|js|images|html|doc)/
RewriteRule ^([^/]*)/([^/]*)$ /?folder=$1&page=$2 [L,QSA]

RewriteCond %{REQUEST_URI} !^/?(css|js|images|html|doc)/
RewriteRule ^([^/]*)/$ /?folder=$1 [L, QSA] 
```

# asp.net - 考虑用户的文化验证用户的数字输入

> ID：13926768
> 
> 赞同：0
> 
> 时间：2012-12-18T05:21:01.803
> 
> 标签：asp.net, validation, culture, number-formatting

我正在开发一个 ASP.Net Web API 应用程序，我想验证用户输入的文化数字。这意味着，如果用户在将文化用作“否”（挪威语）时输入了 12.0，我应该阻止此请求并向用户发送错误。考虑到用户的文化，我如何验证用户编号输入。通过使用 DateTime.ParseExact() 方法，我能够为用户的日期输入做这件事。因为如果解析数字格式不是指定的文化格式，此方法会给出异常。但是 C# api 中没有 Double.ParseExact() 方法。我怎样才能做到这一点？

# c++ - 在 EXPECT_CALL 中使用 google mock 的 EXPECT_THAT？

> ID：13926769
> 
> 赞同：4
> 
> 时间：2012-12-18T05:21:14.393
> 
> 标签：c++, mocking, gmock

我正在使用谷歌模拟。该文档说我们可以在 EXPECT_CALL 或 ON_CALL 中使用 EXPECT_THAT，但是这样的代码似乎无法编译：

```
EXPECT_CALL(obj, method(_, _)).Times(1).WillOnce(EXPECT_THAT(true, Eq(1))); 
```

我知道 EXPECT_THAT 是一个宏，所以它扩展到一些不应该出现在那里的语句。那么“在 EXPECT_CALL 中使用 EXPECT_THAT”是什么意思呢？怎么做？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-18T15:12:31.570

您误解了[matchers 的文档](https://github.com/google/googletest/blob/master/googlemock/docs/CheatSheet.md#matchers)：

> 匹配器匹配单个参数。您可以在 ON_CALL() 或 EXPECT_CALL() 中使用它，或者直接使用它来验证一个值

然后文档继续举例说明*如何*使用匹配器来验证值：

> `EXPECT_THAT(value, matcher)``value`匹配的断言`matcher`。

这并不是说它`EXPECT_THAT`本身就是一个匹配器。所以你不能做你正在尝试的事情，而只能做类似的事情：

```
EXPECT_THAT(true, testing::Eq(1)); 
```

或者

```
EXPECT_CALL(obj, method(testing::_, testing::Eq(1))).Times(1); 
```

# android - 检测正向抖动

> ID：13926771
> 
> 赞同：1
> 
> 时间：2012-12-18T05:21:20.430
> 
> 标签：android

我摇动手机三下，继续在 x 方向。我想计算向前的震动。当我向前摇动移动设备并向后移动时，它会在两个方向（向前和向后）上计算摇动。有什么办法可以计算向前的震动。

提前致谢。

# validation - 以简单的 drupal 表单验证复选框

> ID：13926773
> 
> 赞同：0
> 
> 时间：2012-12-18T05:21:33.110
> 
> 标签：validation, drupal-6, form-submit, checkbox

我在我的 drupal 表单中添加了一些复选框。用户可以选择其中一个选项或两个或所有三个选项。尽管能够引发验证错误，即应至少选择一个复选框，但无法验证是否选择了两个或三个，并且这些值也没有存储在提供的数据库中。

如何进行验证，以便选择任何值，并将其存储在数据库中？

请请求帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T18:18:40.693

将值存储在数据库中通常不是[验证处理程序](http://drupal.org/node/717736)的一部分，它通常由[提交处理程序](http://drupal.org/node/717740)函数处理。应如何存储数据的细节很大程度上取决于数据是什么以及将如何使用它，因此您需要提供更多详细信息才能在那里获得更具体的答案。

一般来说，我建议查看[开发人员示例项目](http://drupal.org/project/examples)，它提供了许多工作代码示例，展示了 Drupal 开发的各个方面，包括一个[表单示例](http://drupalcode.org/project/examples.git/tree/refs/heads/6.x-1.x:/form_example)。

# javascript - 控制台错误说全局变量未定义

> ID：13926776
> 
> 赞同：1
> 
> 时间：2012-12-18T05:21:59.650
> 
> 标签：javascript, json, chap-links-library

我正在使用这个插件[http://almende.github.com/chap-links-library/js/timeline/doc/](http://almende.github.com/chap-links-library/js/timeline/doc/)从一些 JSON 数据中呈现时间线。这是整个相关代码：

```
<script>
function doEverything() {
var timeline;

$.getJSON("tljson.json",function(result){
  items = [JSON.stringify(result)];
  drawVisualization();
});

function drawVisualization() {

var options = {'width':  '100%'};

timeline = new links.Timeline(document.getElementById('mytimeline'));
        timeline.draw(window.items, options);
 };
 }
</script>
<body onload="doEverything();"> 
```

当我提醒“window.items”时；它按预期显示。但是，检查员控制台显示

```
Uncaught TypeError: Cannot call method 'valueOf' of undefined 
```

并且时间线不会渲染。我究竟做错了什么？

编辑：

输出`console.log(JSON.stringify(result))`：

`[{"content":"rubygem-aws-2.6.0 is available<br><a href='https://bugzilla.redhat.com/show_bug.cgi?id=863368'>View on BugZilla</a>","start":"863368"},{"content":"Recent update of rubygem-nokogiri breaks rubygem-aws-sdk<br><a href='https://bugzilla.redhat.com/show_bug.cgi?id=816706'>View on BugZilla</a>","start":"816706"},{"content":"Please update rubygem-aws-sdk to 1.3.5<br><a href='https://bugzilla.redhat.com/show_bug.cgi?id=800616'>View on BugZilla</a>","start":"800616"},{"content":"Review Request: rubygem-aws-sdk - AWS SDK for Ruby<br><a href='https://bugzilla.redhat.com/show_bug.cgi?id=723472'>View on BugZilla</a>","start":"723472"},{"content":"Please add EPEL branches for rubygem-aws<br><a href='https://bugzilla.redhat.com/show_bug.cgi?id=723152'>View on BugZilla</a>","start":"723152"},{"content":"Unable to resolve dependency of rubygem-aws-2.4.2.2-2.fc15 (updates)<br><a href='https://bugzilla.redhat.com/show_bug.cgi?id=716343'>View on BugZilla</a>","start":"716343"},{"content":"rubygem-aws-2.5.7 is available<br><a href='https://bugzilla.redhat.com/show_bug.cgi?id=703433'>View on BugZilla</a>","start":"703433"},{"content":"rubygem-aws-2.5.1 is available<br><a href='https://bugzilla.redhat.com/show_bug.cgi?id=703117'>View on BugZilla</a>","start":"703117"},{"content":"rubygem-aws-2.4.5 is available<br><a href='https://bugzilla.redhat.com/show_bug.cgi?id=691728'>View on BugZilla</a>","start":"691728"},{"content":"Update rubygem-aws to 2.3.34<br><a href='https://bugzilla.redhat.com/show_bug.cgi?id=668955'>View on BugZilla</a>","start":"668955"},{"content":"Review Request: rubygem-aws - Ruby gem for all Amazon Web Services<br><a href='https://bugzilla.redhat.com/show_bug.cgi?id=637378'>View on BugZilla</a>","start":"637378"}]`

编辑：最新代码：（控制台仍为timeline.draw返回未知数据类型）：

```
<script>
function doEverything() {
var timeline;

$.getJSON("tljson.json",function(result){
drawVisualization(result);
});

function drawVisualization(result) {
//console.log (JSON.stringify(result));
var options = {
            'width':  '100%'
        };

timeline = new links.Timeline(document.getElementById('mytimeline'));
    timeline.draw(JSON.stringify(result), options);
};
}
</script>
<body onload="doEverything();"> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:38:17.697

您应该将项目作为参数传递给 drawVisualization。请不要计划将变量添加到全局命名空间。这是更正后的代码：

```
<script>
  function doEverything() {
    var timeline;

    $.getJSON("tljson.json",function(result){
      drawVisualization(result);
    });

    function drawVisualization(items) {

        var options = {'width':  '100%'};
        console.log(items);
        var timeline = new links.Timeline(document.getElementById('mytimeline'));
        timeline.draw(items, options);
     }
   }
</script>
<body onload="doEverything();"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:35:35.253

似乎您的变量`items`无法识别，因为您尚未将其声明为全局变量。你可以先这样声明它：

```
<script>
var items;

function doEverything() {
    var timeline;

    // rest of your code
} 
```

# redmine - 在 Bitnami Redmine 的 email.yml / configuration.yml 上应用加密？

> ID：13926777
> 
> 赞同：1
> 
> 时间：2012-12-18T05:22:15.700
> 
> 标签：redmine, password-encryption, bitnami

我是REDMINE的新手（我的版本是1.4.4）

我刚收到一个问题，有什么方法可以在 configuration.yml 文件上加密我的电子邮件密码，以设置电子邮件配置。

仅供参考，当前设置如下所示。

```
email_delivery:
    delivery_method: :smtp
    smtp_settings:
      tls: true
      address: smtp.gmail.com
      port: 587
      domain: smtp.gmail.com
      authentication: :plain
      user_name: "myEmailAddress@gmail.com"
      password: "myEmailPassword"     # I don't want to reveal my pw here :(
      enable_starttls_auto: true 
```

提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T15:10:20.993

是的，你可以，但我知道的唯一方法是安装和使用 Postfix 作为中继并设置 stunnel 来处理加密的密码交换。

我以这种方式设置了一段时间，但现在我使用没有 stunnel 的 Postfix，因为 Amazon SES 服务现在支持 starttls。

我在原始设置中从该站点获得了帮助：http: [//quietmint.com/linux/postfix-relaying-mail-through-an-smtps-smarthost-on-port-465/](http://quietmint.com/linux/postfix-relaying-mail-through-an-smtps-smarthost-on-port-465/)

我从这里获得帮助的最新设置： [http ://blog.duoconsulting.com/2012/01/30/using-amazons-ses-with-postfix-as-a-smarthost-forwarder/](http://blog.duoconsulting.com/2012/01/30/using-amazons-ses-with-postfix-as-a-smarthost-forwarder/)

# android - 如何知道 web 服务在 android 中得到更新

> ID：13926779
> 
> 赞同：2
> 
> 时间：2012-12-18T05:22:24.150
> 
> 标签：android, json, sqlite

我的应用程序中缺少一些逻辑。我有 json webservice，管理员可以修改它。对于我的应用程序的第一次启动，我存储来自 webservice 的数据并存储在 sqlite 中，并使用后台线程显示来自 sqlite 的数据。如果是第二次启动，那么应用程序直接显示sqlite数据。现在的问题是，如果它是应用程序的第二次启动，我如何才能识别 Web 服务已被修改以及修改位置以及如何存储特定记录？

为此，如果有新书进入，我将与 sqlite 和 web 服务中的书的 id 进行比较，我能够获取新项目并将其存储在 sqlite 中并从 sqlite 显示它们。但是如果项目详细信息中有任何修改，怎么能我认识特定的标签？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:28:46.047

在您的 Web 服务器上编写一个 REST API，它将向您发送修改记录的列表。每次启动应用时查询此 API。

如果有修改的记录，这个 API 应该返回一个修改记录的列表，你可以使用它来更新你的本地 sqlite 数据库。

如果没有，那么这个 API 将不会返回任何内容，您可以愉快地继续 :-)

您可以通过使用 PHP、Ruby、Python 等语言编写服务器端代码来创建 REST API

还有其他选项可以避免使用 REST API。看：

[如何从 MySql 服务器到 Android 应用程序？](https://stackoverflow.com/questions/2898823/get-data-to-android-app-from-mysql-server)

有关 REST 的初学者教程，请参见此处：

[http://net.tutsplus.com/tutorials/other/a-beginners-introduction-to-http-and-rest/](http://net.tutsplus.com/tutorials/other/a-beginners-introduction-to-http-and-rest/)

# jquery - jquery,ajax,spring,hibernate,struts2 不调用 servlet

> ID：13926787
> 
> 赞同：0
> 
> 时间：2012-12-18T05:22:59.123
> 
> 标签：jquery, ajax, spring, hibernate, struts2

我正在开发一个使用 struts2、jquery、ajax 检查用户可用性的网页。它工作正常。在我使用 spring、hibernate、struts2 集成同一页面后，它停止工作。不知道我做错了什么。

我的`SpringConfiguration.xml`代码是

```
<bean id="chkuserdao" class="com.dao.DaoClass">
  <property name="sessionfactory" ref="sessionFactory"></property>
</bean>
<bean id="chkuser" class="com.action.check" >
  <property name="chkuserdao" ref="chkuserdao"></property>
</bean> 
```

我`web.xml`的是

```
<servlet>
  <servlet-name>ex1</servlet-name>
  <servlet-class> com.action.check </servlet-class>
</servlet>
<servlet-mapping>
  <servlet-name>ex1</servlet-name>
  <url-pattern>/check</url-pattern>
</servlet-mapping> 
```

`check.java`是

```
List a=new ArrayList();
String uname = request.getParameter("uname");
a=chkuserdao.getUserName(uname);

if (a.size()<=0) 
{
    out.println("<font color=green><b>"+uname+"</b> is avaliable");
} 
```

我的 JSP 是

```
 <script src="jquery.js" type="text/javascript"></script>
 <script type="text/javascript">
 $(document).ready(function(){
 $(".uname").change(function(){
 var uname = $(this).val();
 if(uname.length > 3){
 $(".status").html("<img src='images/loading.gif'><font color=gray> Checking  
 availability...</font>");
 $.ajax({
 type: "POST",
 url: "/check",
 data: "uname="+ uname,
 success: function(msg){
 $(".status").ajaxComplete(function(event, request, settings){
 $(".status").html(msg);
 });}});}
 else{
 $(".status").html("<font color=red>username shold be more than<b>3</b> chars</font>");
 }});});
 </script> 
```

# python - Python & ttk 使用 labelFrames 清理框架

> ID：13926789
> 
> 赞同：6
> 
> 时间：2012-12-18T05:23:29.330
> 
> 标签：python, tkinter, ttk

我正在尝试使用 ttk / Tkinter 构建一个基本的 GUI。

我已经绘制了一个具有正确基本组件的基本 GUI，但是当我尝试美化它/将它隔开时，我已经达到了让 ttk 容器很好玩的极限......

例子：

```
from Tkinter import *
import ttk

class MakeGUI(object):
    def __init__(self,root):
        self.root = root
        self.root.title("Text Comparitor")
        ## build frame
        self.mainframe = ttk.Frame(self.root, padding="3 3 12 12")
        self.mainframe.grid(column=0, row=0, sticky=(N, W, E, S))
        self.mainframe.columnconfigure(0, weight=1)
        self.mainframe.rowconfigure(0, weight=1)
        self.mainframe.pack()
        ## text labels
        ttk.Label(self.mainframe, text="Conversion Truth Tester", font=("Helvetica", 32)).grid(column=1, row=1, sticky=E)
        self.mainframe.pack(side="bottom", fill=BOTH, expand=True)
        self.mainframe.grid()
        ttk.Label(self.mainframe, text="Source Filename:").grid(column=1, row=2, sticky=W)
        ttk.Label(self.mainframe, text="Source Text:").grid(column=1, row=3, sticky=W)
        ttk.Label(self.mainframe, text="Converted Text:").grid(column=1, row=4, sticky=W)
        ttk.Label(self.mainframe, text="Cleaned Source:").grid(column=1, row=5, sticky=W)
        ttk.Label(self.mainframe, text="Cleaned Converted:").grid(column=1, row=6, sticky=W)
        ttk.Label(self.mainframe, text="Details:").grid(column=1, row=7, sticky=W)
        ## buttons
        self.close = ttk.Button(self.mainframe, text="Close",command=self.closeFrame).grid(column=1, row=9, sticky=SE)
        self.next = ttk.Button(self.mainframe, text="Next",command=self.nextPara).grid(column=1, row=9, sticky=S)
        self.next = ttk.Button(self.mainframe, text="Prev",command=self.prevPara).grid(column=1, row=9, sticky=SW)

    def closeFrame(self):
        self.root.destroy()

    def nextPara(self):
        pass

    def prevPara(self):
        pass

def main():
    root = Tk()
    makeGUI = MakeGUI(root)
    root.mainloop()

if __name__ == '__main__':
    main() 
```

结果是：![http://imgur.com/a/CwpCU#0](../Images/c7305dae1372357bf1f24bd62dbd7b94.png)

我一直在尝试添加第二个容器对象，一个标签框来保存文本标签对象，这导致按钮进一步向上移动（所以我假设我没有正确地将标签框引用到网格中：

```
from Tkinter import *
import ttk

class MakeGUI(object):
    def __init__(self,root):
        self.root = root
        self.root.title("Text Comparitor")
        ## build frame
        self.mainframe = ttk.Frame(self.root, padding="3 3 12 12")
        self.mainframe.grid(column=0, row=0, sticky=(N, W, E, S))
        self.mainframe.columnconfigure(0, weight=1)
        self.mainframe.rowconfigure(0, weight=1)
        self.mainframe.pack()
        ## text labels
        ttk.Label(self.mainframe, text="Conversion Truth Tester", font=("Helvetica", 32)).grid(column=1, row=1, sticky=E)
        self.lfdata = ttk.Labelframe(self.root, labelwidget=self.mainframe, text='Label')#
        self.lfdata.grid()
        ttk.Label(self.lfdata, text="Source Filename:").grid(column=1, row=2, sticky=W)
        ttk.Label(self.lfdata, text="Source Text:").grid(column=1, row=3, sticky=W)
        ttk.Label(self.lfdata, text="Converted Text:").grid(column=1, row=4, sticky=W)
        ttk.Label(self.lfdata, text="Cleaned Source:").grid(column=1, row=5, sticky=W)
        ttk.Label(self.lfdata, text="Cleaned Converted:").grid(column=1, row=6, sticky=W)
        ttk.Label(self.lfdata, text="Details:").grid(column=1, row=7, sticky=W)

        ## buttons
        self.close = ttk.Button(self.mainframe, text="Close",command=self.closeFrame).grid(column=1, row=9, sticky=SE)
        self.next = ttk.Button(self.mainframe, text="Next",command=self.nextPara).grid(column=1, row=9, sticky=S)
        self.next = ttk.Button(self.mainframe, text="Prev",command=self.prevPara).grid(column=1, row=9, sticky=SW)

    def closeFrame(self):
        self.root.destroy()

    def nextPara(self):
        pass

    def prevPara(self):
        pass

def main():
    root = Tk()
    makeGUI = MakeGUI(root)
    root.mainloop()

if __name__ == '__main__':
    main() 
```

这导致：![http://imgur.com/a/CwpCU#1](../Images/b8d74acbb1ff435568f57053a51f1c07.png)注意按钮 abd 标签之间的位置交换，以及标签框的可见方面。

我试图让第二个版本“看起来”像第一个更漂亮的版本。

任何指针 - 我一直在阅读各种资源/文档，但找不到任何适合我的例子的东西（很可能 - 我正在做一些愚蠢的事情......）而且我尝试过的任何事情都没有奏效 - 包括`pack()`，`grid()`以及我在其他相关示例中找到的其他片段。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-21T00:36:46.817

有很多地方需要调整，大家评论一下（我可能会忘记一些东西，所以一定要检查底部的代码）。

首先，仅对框架中的列/行应用权重不会使其在调整窗口大小时扩展。你需要在`root`. 之后，您可能希望在框架中执行此操作，以匹配您在调整大小后对布局的期望。在您的情况下，最有意义的是使每列具有相同的权重 > 0，并且仅使第二行的权重 > 0。列的原因是您有 3 个按钮，并且您希望它们全部展开自由空间以同样的方式。对于第二部分，考虑到您`Labelframe`在第二行有一个，这是一个直接的观察。为任何其他行赋予 > 0 的权重会给你一个非常奇怪的布局。权重问题完成。

我观察到的下一件事是您的顶部标签带有较大的字体。您当然希望它跨越 3 列（同样，这个数字 3 与您稍后将创建的按钮行相关）。您可能还希望文本在这 3 列中居中（我不确定您的偏好）。

现在`Labelframe`您创建。这是错误的，该`labelwidget`选项并不意味着您认为它的作用。它指定一个`Label`小部件作为此标签框架的标签。因此，为这个参数指定你的主框架是没有意义的。也许您想指定一些文本在标签框架中的某个位置可见。此外，此标签框架也必须使用 3 的列跨度进行网格化。

对于一般的“网格化”，我建议您指定 option `in_`，这样您就可以清楚地了解您正在“网格化”的小部件。有了这个，很明显`column=0, row=0`每次你加深你的小部件育儿级别时开始。

这是我调整代码的方式：

```
import Tkinter
import ttk

class MakeGUI(object):
    def __init__(self,root):
        self.root = root
        self.root.title(u"Title")
        ## build frame
        self.mainframe = ttk.Frame(self.root, padding=(6, 6, 12, 12))
        self.mainframe.grid(sticky='nwse')
        for column in range(3):
            self.mainframe.columnconfigure(column, weight=1)
        self.mainframe.rowconfigure(1, weight=1)

        ## text labels
        ttk.Label(self.mainframe, text=u"Label Title", anchor='center',
                font=("Helvetica", 32)).grid(in_=self.mainframe,
                        column=0, row=0, columnspan=3, sticky="ew")

        self.lfdata = ttk.Labelframe(self.mainframe, padding=(6, 6, 12, 12),
                text='Labelframe')
        self.lfdata.grid(column=0, columnspan=3, row=1, sticky='nsew')
        info = (u"Source Filename", u"Source Text", u"Converted Text",
                u"Cleaned Source", u"Cleaned Converted", u"Details")
        for i, item in enumerate(info):
            ttk.Label(self.lfdata, text=u"%s:" % item).grid(in_=self.lfdata,
                    column=0, row=i, sticky='w')

        ## buttons
        btn = (u"Close", u"Next", u"Prev")
        for i, item in enumerate(btn):
            ttk.Button(self.mainframe, text=item).grid(in_=self.mainframe,
                    column=i, row=3)

def main():
    root = Tkinter.Tk()
    root.columnconfigure(0, weight=1)
    root.rowconfigure(0, weight=1)
    makeGUI = MakeGUI(root)
    root.mainloop()

if __name__ == '__main__':
    main() 
```

以下是程序启动和调整大小后的外观：

![在此处输入图像描述](../Images/dcca765addf673cd52bc9b0aae634449.png) ![在此处输入图像描述](../Images/6dc0f2365bce97c899cf9e694ee8a1cd.png)

# jquery - Fancybox 独立链接到画廊

> ID：13926797
> 
> 赞同：0
> 
> 时间：2012-12-18T05:24:08.267
> 
> 标签：jquery, image, fancybox, gallery

对于这个问题的公认答案：[calling-fancybox-gallery-with-other-link](https://stackoverflow.com/questions/9433199/calling-fancybox-gallery-with-other-link)，由于我在同一页面上有多个画廊，如何在保留画廊参考的同时做到这一点？

这是我的触发链接：

```
<a onclick="$('a.fancybox').eq(0).trigger('click'); return false;" href="<?php echo $image_path; ?>" data-fancybox-group="gallery_<?php echo $i; ?>" title="<?php the_title(); ?>">
<div class="portfolio_image image_holder"><img src="<?php echo $image_path; ?>" alt="<?php the_title(); ?>" title="<?php the_title(); ?>" width="<?php echo $width; ?>" height="<?php echo $height; ?>" /></div>
</a> 
```

和画廊图片链接：

```
<a class="fancybox hideme" href="<?php echo $image_path; ?>" data-fancybox-group="gallery_<?php echo $i; ?>" title="<?php the_title(); ?>">
<img src="<?php echo $image_path; ?>" alt="" title="" width="724"  height="<?php echo $height; ?>"/></a> 
```

# android - android:layout_width 以及布局权重的使用

> ID：13926801
> 
> 赞同：2
> 
> 时间：2012-12-18T05:24:30.410
> 
> 标签：android, android-layout, android-widget

为什么我要`android:layout_width="0px"`在使用`ndroid:layout_weight`属性时放置？例如下面是我的 main.xml 文件，我使用了`android:layout_width="wrap_content"`，一切正常，那么为什么`android:layout_width="0px"`在我使用 layout_weight 属性时应该使用呢？

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
          android:layout_width="fill_parent"
          android:layout_height="fill_parent"
          android:orientation="horizontal">
<EditText
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:id="@+id/editText" android:hint="enter your name"
        android:layout_weight="3"/>
<Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Send"
        android:id="@+id/button"
        android:layout_weight="0"/>
</LinearLayout> 
```

这就是我的布局的样子： ![在此处输入图像描述](../Images/a3e266e71833d04965ed3021b966df09.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:32:41.497

你当然不必。另外`weight=0`没有多大意义。该参数控制小部件占据布局中*剩余*`weight`空间的哪一部分。所以设置有效地告诉它只占用剩余的空间。如果设置，它将占用 30 px|dp + 所有剩余空间。将宽度设置为 0 可以更容易地在不同的屏幕尺寸上获得可预测的结果。*`width=0``width=30`*

 *一种常见的模式是拥有两个`width=0`重量相同的小部件，以使它们在父容器内大小相等，您不需要关心实际大小（宽度或高度）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T05:28:49.397

布局权重本身用于根据权重属性提供适当的宽度。检查[这个](http://developer.android.com/guide/topics/ui/layout/linear.html#Weight)

> 该属性根据屏幕上应占用多少空间为视图分配“重要性”值。较大的权重值允许它扩展以填充父视图中的任何剩余空间。

所以eclipse建议给宽度为0px

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-18T05:38:40.680

**layout_weight 你可以指定多个视图之间的大小比例。**

例如，您有一个 Tabelview 和一个应该向布局显示一些附加信息的图像。表格应占屏幕的 3/4，图像应占屏幕的 1/4。然后将 tabelview 的 layout_weight 设置为 3，将图像的 layout_weight 设置为 1。

要让它工作，您还必须将高度或宽度设置为 0px。

[http://developer.android.com/guide/topics/ui/declaring-layout.html#CommonLayouts](http://developer.android.com/guide/topics/ui/declaring-layout.html#CommonLayouts)*

# matlab - 在matlab中的clustergram上重新排序树状图

> ID：13926805
> 
> 赞同：1
> 
> 时间：2012-12-18T05:25:03.357
> 
> 标签：matlab, fonts, heatmap, dendrogram

我已经根据归一化值的数据集生成了一个聚类图，但我想尝试沿 y 轴对样本进行重新排序。在谷歌搜索后，我没有找到太多关于如何去做的信息。到目前为止，以下是我的代码：任何帮助将不胜感激。

```
 [num, txt]= xlsread('S:\Breast\Breast Stats no post XRT.xls', 'Breast heat');
    PID= txt(2:93,1);
    varname = txt(1,2:23);
    cgram = clustergram(num(1:92,:));
    set(cgram,'Standardize',3,'Cluster',3, 'RowLabels',PID(:,:), 'ColumnLabels',                                       varname(:,:),...
    'Linkage','ward','Dendrogram',3,'ColumnPdist', 'euclidean', 'RowPdist', 'euclidean', 'OptimalLeafOrder', 'true',...
 'SymmetricRange', 'false'); 
```

另外，有谁知道如何为一个特定轴的标签设置字体大小？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T12:37:20.107

关于主要问题：

假设您将数据放入 nx2 矩阵中，`A`然后您可以根据如下列对其进行排序：

```
[Y,I]=sort(A(:,2)); % Sort by column 2 of the matrix
B=A(I,:); %use the indices from sort() to sort all rows of A. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T13:26:07.637

要对 clustergram 中的元素重新排序，您可以设置`OptimalLeafOrder`clustergram 的属性。

要设置标签的字体大小，可以使用`addXLabel`or`addYLabel`命令，然后直接设置`FontSize`返回的文本对象的属性。

有关更多信息和示例，请参见`doc clustergram`和`doc addXLabel`。

# python - PySide (Qt) 信号未到达我的插槽

> ID：13926807
> 
> 赞同：1
> 
> 时间：2012-12-18T05:25:04.003
> 
> 标签：python, qt, signals, pyside

我有这个不起作用的简化代码，我不明白为什么......我希望`MySlot.slt()`每次按下我的键时都会被调用，`QTextEdit`但它没有！你能看看吗？

```
#!/usr/bin/env python2

import sys
from PySide import QtGui, QtCore

class MySlot(object):
    def __init__(self, qte):
        qte.textChanged.connect(self.soc)

    def slt(self):
        print("got signal")

class MainWid(QtGui.QWidget):
    def __init__(self, parent=None):
        super(MainWid, self).__init__(parent)
        self.initgui()

    def initgui(self):
        lay = QtGui.QVBoxLayout()
        txt = QtGui.QTextEdit(self)
        MySoc(txt)

        lay.addWidget(txt)
        self.setLayout(lay)
        self.show()

def main():
    app = QtGui.QApplication(sys.argv)
    wid = MainWid()
    sys.exit(app.exec_())

if __name__=="__main__":
    main() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T06:42:39.367

您的`MySoc`对象 in`initgui`具有本地范围，因此在`initgui`.

将对象分配给变量：

```
...
self.soc = MySoc(txt);
... 
```

每次按下一个键，你都会看到“得到信号”输出。

# r - 将 R 图中的多边形导出为 shapefile

> ID：13926811
> 
> 赞同：9
> 
> 时间：2012-12-18T05:25:43.673
> 
> 标签：r, export, polygon, shapefile

我一直在尝试将绘图的内容（线/多边形）导出为可以在 ArcMap 中打开的图层/形状文件。这些是我一直在使用的一些库，

> ```
> library(shapefiles)
> library(PBSmapping)
> library(adehabitatHR)
> library(maptools)
> library(maps)
> library(rgdal)
> library(igraph) 
> ```

我的纬度/经度数据如下所示：

> ```
> tagdata<-read.table(text="meanlat  meanlong
> -18.63327 147.0248
> -18.6368  147.0238
> -18.62068 147.294
> -18.62953 147.2942
> -18.62953 147.2942
> -18.62091 147.2938
> -18.62953 147.2942
> -18.62466 147.2926
> -18.73393 147.2816
> -18.73393 147.2816
> -18.75383 147.2541
> -18.75383 147.2541
> -18.75383 147.2541
> -18.75383 147.2541
> -18.6368  147.0238
> -18.63063 147.0256
> -18.63063 147.0256
> -18.68133 147.1164
> -18.6368  147.0238
> -18.63063 147.0256
> -18.63063 147.0256
> -18.75383 147.2541
> -18.61273 147.0682
> -18.69655 147.09
> -18.6368  147.0238
> -18.63063 147.0256
> -18.63063 147.0256
> -18.63217 147.0251
> -18.75383 147.2541
> -18.75383 147.2541
> -18.75383 147.2541
> -18.63063 147.0256
> -18.68133 147.1164
> -18.68133 147.1164
> -18.63217 147.0251
> -18.69922 147.0909
> -18.73393 147.2816
> -18.63632 147.0792
> -18.69522 147.0896
> -18.6368  147.0238
> -18.75383 147.2541
> -18.75383 147.2541
> -18.75383 147.2541",header=TRUE) 
> ```

我绘制了位置并使用 AdehabitatHR 包计算了最小凸多边形 (MCP)。

> ```
> plot(tagdata$meanlong,tagdata$meanlat, col="red",pch=1)                  
> 
> loc<-tagdata[ ,c("meanlong","meanlat")]
> coord<-SpatialPoints(loc)
> poly<-mcp(coord,percent=100)
> plot(poly,add=TRUE) 
> ```

我知道如何将点导出/写入为可以在 ArcMap 或类似软件中打开的 shapefile，

例如：

> ```
> loc<-SpatialPoints(loc) # #convert loc to spatial points
> rem<-tagdata[c(-1:-2)] 
> SpatialPointsDataFrame(coords=loc,data=rem) 
> obj<-SpatialPointsDataFrame(coords=loc,data=rem)
> writePointsShape(obj,"myshape.shp") 
> ```

但是，我还没有找到使用多边形 o 折线对象的好方法。我希望能够使用 MCP 作为 shapefile 导出/写入多边形对象。有什么建议么？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-12-18T05:36:47.463

`rgdal`非常适合这种事情。[http://www.gdal.org/](http://www.gdal.org/)包含您可能想要的关于支持哪些格式的大部分信息。

在这种情况下，您需要该 `writeOGR`功能

```
# this will create a shapefile called poly within the working directory
library(rgdal)
writeOGR(poly, dsn = '.', layer = 'poly', driver = "ESRI Shapefile") 
```

您可以轻松地使用它来编写任何形状文件（点、多边形等），但它们必须是`SpatialxxxDataFrame`对象

```
coorddf <-  SpatialPointsDataFrame(coord, data = data.frame(dummy = rep(1,nrow(coord@coords))))
writeOGR(coorddf, dsn = '.', layer = 'mypoints', driver = "ESRI Shapefile") 
```

# c++ - glDeleteTextures 和 glDeleteBuffers 是如何工作的？

> ID：13926818
> 
> 赞同：0
> 
> 时间：2012-12-18T05:26:39.823
> 
> 标签：c++, opengl

基本上，在我的代码中，我挂钩了 glDeleteTextures 和 glBufferData 函数。我存储了一个纹理列表和一个缓冲区列表。缓冲区列表包含校验和和指向缓冲区的指针。下面的代码在数据到达显卡之前拦截数据。

```
Hook_glDeleteTextures(GLsizei n, const GLuint* textures)
{
    for (int I = 0; I < n; ++I)
    {
        if (ListOfTextures[I] == textures[I])       //??? Not sure if correct..
        {
            //Erase them from list of textures..
        }
    }

    (*original_glDeleteTextures)(n, textures);
} 
```

我对缓冲区做同样的事情。我将缓冲区和纹理保存到如下列表中：

```
void Hook_glBufferData(GLenum target, GLsizeiptr size, const GLvoid* data, GLenum usage)
{
    Buffer.size = size;
    Buffer.target = target;
    Buffer.data = data;
    Buffer.usage = usage;

    ListOfBuffers.push_back(Buffer);
    (*original_glBufferData(target, size, data, usage);
} 
```

现在我需要在客户端删除时删除。我怎样才能做到这一点？我使用了一个调试器，它似乎确切地知道哪些纹理和缓冲区正在被删除。

我做错了吗？我应该迭代传递的指针并删除纹理吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T09:29:45.143

你确实意识到，你应该反过来：拥有一个纹理信息对象列表，当你删除其中一个时，调用 OpenGL 来删除纹理。顺便说一句：OpenGL 调用不会转到显卡，它们会转到驱动程序，并且纹理可能根本不存储在 GPU 内存上，而是被换出到系统内存。

> 我做错了吗？我应该迭代传递的指针并删除纹理吗？

是的。您不应拦截 OpenGL 调用来触发程序中的数据管理。一方面，您还必须跟踪活动的 OpenGL 上下文。但更重要的是，首先执行 OpenGL 调用的是您的程序。除非您的程序/编译器/CPU 是精神分裂症，否则首先跟踪数据并根据此管理 OpenGL 对象应该更容易。通常的方法是将纹理图像数据保存在缓存中，但删除这些图像的 OpenGL 纹理，如果您现在不需要它们，但在不久的将来可能需要它们。

你的方法基本上是由内而外的，你本末倒置。

# sql-server-2008 - 在 SQL Server 数据库中应用自定义约束

> ID：13926822
> 
> 赞同：1
> 
> 时间：2012-12-18T05:27:27.437
> 
> 标签：sql-server-2008

我在 SQL Server 中有下表

```
 Create Table Banners
    (
    BannerID int Identity(1,1),
    BannerUrl nvarchar(500),
    BannerIsDomestic bit,
    BannerName nvarchar(50),
    CreationDate datetime,
    ModificationDate datetime,
    Show_Status bit,
    Remark nvarchar(500)
    Constraint Banner_ID_PK Primary Key (BannerID)
    ) 
```

在此我想应用一个自定义约束，例如，一次只有两行必须`Show_Status` 为真。一个与`BannerIsDomestic = true`一个与`BannerIsDomestic = false`。

对于所有`BannerIsDomestic = true`只有一个的行可以有`Show_Status = True`，所有其他的都必须是假的。

对于`BannerIsDomestic = false`只有一个 can have的所有行`Show_Status = True`，所有其他行都必须为 false。

我可以在 SQL Server 中执行此操作吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T07:41:39.440

如果我正确理解了要求，这应该可以通过[过滤索引](http://msdn.microsoft.com/en-us/library/cc280372%28v=sql.100%29.aspx)来实现：

```
CREATE TABLE Banners
    (
    BannerID int Identity(1,1),
    BannerUrl nvarchar(500),
    BannerIsDomestic bit,
    BannerName nvarchar(50),
    CreationDate datetime,
    ModificationDate datetime,
    Show_Status bit,
    Remark nvarchar(500)
    Constraint Banner_ID_PK Primary Key (BannerID)
    )

CREATE UNIQUE NONCLUSTERED INDEX IX_Banners_IsDomesticTrue 
ON Banners (BannerIsDomestic) WHERE Show_Status = 1 

INSERT Banners (BannerIsDomestic, BannerName, Show_Status) 
VALUES (1, 'DomesticBannerShow', 1), (1, 'DomesticBannerHide', 0), 
(0, 'ItnlBannerShow', 1), (0, 'IntlBannerHide', 0) 

-- This will fail
INSERT Banners (BannerIsDomestic, BannerName, Show_Status) 
VALUES (1, 'DomesticBanner2', 1)

-- This will fail
INSERT Banners (BannerIsDomestic, BannerName, Show_Status)  
VALUES (0, 'IntlBanners2', 1) 
```

# ios - 强制 iOS 应用程序的数据库升级

> ID：13926825
> 
> 赞同：0
> 
> 时间：2012-12-18T05:27:29.897
> 
> 标签：ios, core-data, upgrade

我的应用程序的第二个版本向数据库添加了两个新条目。但是，如果我从手机上卸载应用程序并安装新版本，新项目只会在应用程序的表格视图中列出。否则，新条目不会更新到数据库。条目在 plist 文件中列出。

如何强制它更新数据库（不丢失数据）？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T06:48:29.373

您需要在数据库中有某种版本标识符，并且当您启动应用程序时，请始终检查它。如果您发现它是旧版本，请添加需要添加的附加数据而不是更新版本号。这意味着您的 plist 需要跟踪数据库版本的新内容。

请注意，缺少版本标识符可以被视为版本标识符（`null`即早于`version 1`）。

# ruby - ruby 块中的参数数量

> ID：13926827
> 
> 赞同：4
> 
> 时间：2012-12-18T05:27:57.337
> 
> 标签：ruby, lambda

我是 Ruby 新手，但不是允许 lambda 的语言，例如 groovy。所以我看到了这个例子：

```
myArray.product(otherArray).reject{|i,j| i > j} 
```

在 ruby​​ 代码块中，我之前没有看到这个块接受 2 个参数，但是当我去查看[文档](http://www.ruby-doc.org/core-1.9.3/Array.html#method-i-reject)时，我只能看到文档说它需要 1 个参数。我为该课程查看了相同的`enumerable`内容，但该文档也仅显示了 1 个参数。

我知道它有效，我想我希望有一种更简单的方法来确定它需要多少参数，而不是猜测和测试方法。我如何知道一个块在 Ruby 中接受了多少个参数？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-18T05:50:26.837

这是因为 Ruby 支持解构。

> 解构允许您在通常可以将值绑定到单个变量的任何地方将一组变量绑定到相应的一组值。

这允许以下情况成立：

```
arr = [1, 2]
x = arr
x == [1, 2] # true

y, z = arr
y == 1 # true
z == 2 # true 
```

您可以从以下代码中看到，块参数中的解构并不是采用块的内置方法所独有的：

```
def my_method(arr)
  yield arr
end

my_method([1, 2, 3]) {|x| puts x.inspect }
# => [1, 2, 3]
my_method([1, 2, 3]) {|x, y, z| puts x.inspect }
# => 1 
```

查看[使用 Ruby](http://tony.pitluga.com/2011/08/08/destructuring-with-ruby.html)进行解构以获取更多信息。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-18T05:38:03.280

您可以根据数组的结构对块参数进行一些有趣的重组：

```
[[1, 2], [3, 4], [5, 6], [7, 8]].reject {|x,y| y == 8 }
#=> [[1, 2], [3, 4], [5, 6]] 
```

您可以将它们分组在括号中：

```
[ [[1,2],3], [[1,3],6] ].select {|(x,y),z| x == 1 && z == 3 }
#=> [ [[1,2],3] ] 
```

您还可以将 splat 运算符用于各种事情，例如处理可变长度子数组：

```
[[:a,:b,2,3,4,5,6], [:c,:d,7,8,9]].each {|x,y,*numbers| puts numbers.inspect }
#=> [2,3,4,5,6]
#=> [7,8,9] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-18T05:34:23.073

Ruby 在解释参数方面很灵活。这是一个类似的例子，有一个和两个参数：

```
[1, 3].product([2, 4]).reject {|a| a.first > a.last }
=> [[1, 2], [1, 4], [3, 4]] 
[1, 3].product([2, 4]).reject {|a,b| a > b }
=> [[1, 2], [1, 4], [3, 4]] 
```

这里的经验法则是，您可以将参数视为复合对象或集合中的单个元素。例如，

```
[1, 2, 3].tap {|a,b,c| puts [a,b,c].inspect }
[1, 2, 3]
... 
[1, 2, 3].tap {|a,b| puts [a,b].inspect }
[1, 2]
... 
[1, 2, 3].tap {|a| puts a.inspect }
[1, 2, 3] 
```

# apache2 - 配置 Apache 以隐藏 .json 类型的文件

> ID：13926828
> 
> 赞同：2
> 
> 时间：2012-12-18T05:28:03.343
> 
> 标签：apache2, webserver, mime-types

我在 apache 的 DocumentRoot 上有一些 .json 类型的文件。当公众使用 url 访问时，我需要隐藏或不允许向公众显示这些文件。http://somehostname/somefile.json，如何禁用不显示这些文件的选项。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-18T05:37:10.737

从 .ht 文件的规则中复制，您可以在 httpd.conf 中添加以下行

```
<Files ~ "\.json$">
 Order allow,deny
 Deny from all   
 Satisfy All     
</Files> 
```

# objective-c - 如何关闭连接到 UITextField 的 UIPicker

> ID：13926830
> 
> 赞同：1
> 
> 时间：2012-12-18T05:28:16.543
> 
> 标签：objective-c, ios, uitextfield, uipickerview, uipicker

我有一个`UITextField`, 当按下 a`UIPickerView`来选择一个值。`UIPickerView`一旦选择了一个值，我如何获得解雇。另一个线程中的某个人告诉我到`resignFirstResponder`文本字段，但我的代码不起作用。有任何想法吗？注意：我有两个文本字段和 UI 选择器，这就是为什么我有 'if' 'else' 语句。

```
- (BOOL)textFieldShouldReturn:(UITextField *)textField
{
    if (textField == self.ageTextField)
    {
        [ageTextField resignFirstResponder];
        [agePickerView removeFromSuperview];
        return YES;
    }
    else
    {
        [relationshipTextField resignFirstResponder];
        [relationshipPickerView removeFromSuperview];
        return YES;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:40:43.400

试试下面的代码可能会解决你的问题。

```
- (BOOL)textFieldShouldReturn:(UITextField *)textField 
 {
     if (textField == self.ageTextField) 
     {
         [ageTextField resignFirstResponder];
     } 
     else 
     {
         [relationshipTextField resignFirstResponder];
     }
     [pickerView removeFromSuperview];
     return YES; 
 } 
```

或按照以下方法退出键盘`UIPickerView`。

```
- (void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:41:33.690

请尝试在 UIPickerViewDelegate 方法中退出 UITextField，如下所示。

```
- (void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component {
    [self.ageTextField resignFirstResponder];
    pickerView.hidden = YES; //Show the pickerview again when you neeed it
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T05:43:29.437

实现 UIPickerViewDelegate 协议，实现如下方法：

```
- (void) pickerView: (UIPickerView*) pickerView
       didSelectRow: (NSInteger)     row
        inComponent: (NSInteger)     component
{
  [self.ageTextField resignFirstResponder];
} 
```

# awk - 使用 awk 或其他 bash 脚本在多个列中搜索低于阈值的值

> ID：13926831
> 
> 赞同：2
> 
> 时间：2012-12-18T05:28:20.537
> 
> 标签：awk, multiple-columns

我想提取特定列的值<0.05的文件行。

例如，如果 $2 或 $4 或 $6 的值 <0.05，那么我想将该行发送到新文件。我不希望任何这些列中的值 >0.05 的任何行

```
cat File_1.txt 
S_003   P_003   S_006   P_006   S_008   P_008
74.9    0.006   59.6    0.061   72.2    0.002
96.2    0.003   89.4    0.001   106.9   0.000
105.8   0.003   72.6    0.003   86.7    0.002
45.8    0.726   38.5    0.981   43.9    0.800
50.7    0.305   47.8    0.314   46.6    0.615
49.9    0.366   50.4    0.165   48.2    0.392
42.5    0.920   43.7    0.698   40.3    0.970
46.3    0.684   42.9    0.760   47.7    0.438
192.4   0.001   312.8   0.001   274.3   0.001 
```

我使用 awk 进行了尝试，但它只能在很长的时间内完成。

```
awk ' $2<=0.05' file_1.txt > file_2.txt
awk ' $4<=0.05' file_2.txt > file_3.txt 
```

等，并达到了预期的结果

```
96.2    0.003   89.4    0.001   106.9   0.000
105.8   0.003   72.6    0.003   86.7    0.002
192.4   0.001   312.8   0.001   274.3   0.001 
```

但我的文件是 198 列和 57000 行

我还尝试将 awk 命令连接在一起，但没有运气。它只搜索 $2

```
awk ' $2<=0.05 || $4=<0.05' File_1.txt > File_2.txt

74.9    0.006   59.6    0.051   72.2    0.002
96.2    0.003   89.4    0.001   106.9   0.000
105.8   0.003   72.6    0.003   86.7    0.002
192.4   0.001   312.8   0.001   274.3   0.001 
```

我对此很陌生，如果有任何关于如何使用 awk 实现这一点的建议，我将不胜感激

谢谢

山姆

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:58:32.350

也许这就是你要找的。它将搜索每个偶数列并检查这些列中的每一列是否包含小于“0.05”的数字：

```
awk 'NF>1 { for(i=2;i<=NF;i+=2) if ($i>0.05) next }1' File_1.txt 
```

结果：

```
96.2    0.003   89.4    0.001   106.9   0.000
105.8   0.003   72.6    0.003   86.7    0.002
192.4   0.001   312.8   0.001   274.3   0.001 
```

# wsgi - gevent静态文件渲染

> ID：13926832
> 
> 赞同：0
> 
> 时间：2012-12-18T05:28:23.360
> 
> 标签：wsgi, gevent, werkzeug

如何通过使用 werkzeug 和 pure 编写的 WSGI 应用程序来提供像 css 这样的静态文件

python ..没有使用框架..

这是我的服务器..

```
 from gevent import pywsgi
from Index import application

import os
application = SharedDataMiddleware(application, {
    '/hello/template/': os.path.join(os.getcwd(), 'template')
})
print 'Serving on https://127.0.0.1:4000'
server = pywsgi.WSGIServer(('0.0.0.0', 4000), application,spawn=10000)

# to start the server asynchronously, call server.start()
# we use blocking serve_forever() here because we have no other jobs
server.serve_forever() 
```

模板是css和图像等静态文件的路径。但这仅服务于应用程序而不是静态文件。gevent中是否有提供静态文件的功能..？我没有发现文档有用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T10:05:34.587

直接从 WSGI 应用程序提供静态文件会浪费资源，包括 CPU 和内存，而且不会扩展。

对于公共静态文件，您应该配置您的前端网络服务器以直接为它们提供服务。

对于私有静态文件，您可以在 WSGI 应用程序中进行访问控制并构建响应头，然后让前端 Web 服务器完成实际发送文件内容的繁重工作。看看 X-Sendfile (Apache) 或 X-Accel-Redirect (Nginx)。

# java - JSTL：“空”检查错误？需要修复

> ID：13926842
> 
> 赞同：0
> 
> 时间：2012-12-18T05:29:22.983
> 
> 标签：java, jstl

我正在尝试使用 JSTL 的空运算符来检查对象是否为 NULL 并相应地输出一些 html，但无论如何它似乎总是返回 true。所以要么我误解了如何实现这个（这很有可能），要么这里有一些错误。无论哪种方式，我都需要一个可行的解决方案..如果不是通过 JSTL，那么可以通过其他方式。这是代码：

```
<%@page import="com.ksc.models.UserToken"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>

<%
    UserToken token = (UserToken)session.getAttribute("userToken");
    if (token != null) {
        System.out.println("***** Token: " + token.toString());
    }
%>

    <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container-fluid">
                <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <a href="/KSC" class="brand">KSC Technology &amp; Sciences</a>
                <div class="nav-collapse">
                    <div class="pull-right">
                        <ul class="nav">
                            <c:choose>
                                <c:when test="${empty token}">
                                    <li><a href="/KSC/account/login">Login</a></li>
                                </c:when>
                                <c:otherwise>
                                    <li class="dropdown">
                                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                            <b class="icon-user"></b>
                                            Account
                                            <b class="caret"></b>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li><a href="/KSC/account/my-account">My Account</a></li>
                                            <li><a href="/KSC/account/logout">Logout</a></li>
                                            <c:if test="${token.hasRole('Administrators')}">
                                                <li><a href="/KSC/admin">Dashboard</a></li>
                                            </c:if>
                                        </ul>
                                    </li>
                                </c:otherwise>
                            </c:choose>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div> 
```

如您所见，我想在用户未登录时输出“登录”链接，或者在用户登录时输出注销链接。顶部打印令牌的代码向我证明该对象并不总是空的. 事实上，我已经看到输出窗口给了我这个：

`INFO: ***** Token: com.ksc.models.UserToken@72087294`

然而，即使我已经通过身份验证，UI 也始终显示登录链接。那么，什么给了？

**编辑**

我对代码进行了一些编辑，现在开始怀疑这里是否还有其他事情发生..这是我的代码：

```
<%@page import="com.ksc.models.UserToken"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>

<%
    UserToken token = (UserToken)session.getAttribute("userToken");

    boolean authorized = (token != null);

    if (authorized) {
        System.out.println("***** Auth Token: " + token.toString());
    }
%>

<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
            <a href="/KSC" class="brand">KSC Technology &amp; Sciences</a>
            <div class="nav-collapse">
                <div class="pull-right">
                    <ul class="nav">
                        <c:if test="${not authorized}">
                            <li><a href="/KSC/account/login">Login</a></li>
                        </c:if>
                        <c:if test="${authorized}">
                            <li class="dropdown">
                                <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                    <b class="icon-user"></b>
                                    Account
                                    <b class="caret"></b>
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a href="/KSC/account/my-account">My Account</a></li>
                                    <li><a href="/KSC/account/logout">Logout</a></li>
                                    <c:if test="${token.hasRole('Administrators')}">
                                        <li><a href="/KSC/admin">Dashboard</a></li>
                                    </c:if>
                                </ul>
                            </li>
                        </c:if>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div> 
```

现在我很确定这应该是有效的。此代码是单个 jsp 页面内的所有内容，然后将其放入带有`<jsp:include>`标签的普通页面中。此外，我正在使用 Spring MVC。这些事实中的任何一个（或两者）都会导致这个问题吗？这很奇怪，因为我仍然看到输出窗口显示身份验证令牌存在这一事实。帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T09:18:33.103

在我的控制器方法中将它添加到 ModelMap 中，然后像这样使用它：

`<c:if test="${userToken == null}">`

和

`<c:if test="${userToken != null}">`

它现在有效，但我仍然想知道为什么另一种方式不起作用..非常令人困惑......

# visual-c++ - 正方体开发

> ID：13926844
> 
> 赞同：1
> 
> 时间：2012-12-18T05:30:01.280
> 
> 标签：visual-c++

我对应用程序开发很陌生。

只是想问你们，我如何在 Visual Studio 中实现 Tesseract 的源代码，我可以编译和运行？我必须执行哪些步骤才能使其运行？我似乎找不到完整的项目文件。先谢谢了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T11:01:58.517

您是否尝试过从此页面在 Windows 上构建的说明？

[https://code.google.com/p/tesseract-ocr/wiki/Compiling](https://code.google.com/p/tesseract-ocr/wiki/Compiling)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2016-02-25T16:58:56.083

虽然我遇到了同样的情况，但谷歌代码正在关闭，而 Visual Studio 的官方 Github Tesseract 实现确实有问题、陈旧且无法编译。

这个存储库与 Leptonica 一起准备好了 VS 3.02 tesseract 实现帮助了我：

[https://github.com/charlesw/tesseract-vs2012](https://github.com/charlesw/tesseract-vs2012)

它有一个如何运行它的文档。但基本上你必须用VS打开它并运行它。它将创建在 VS 项目中使用 Tesseract 所需的 dll 和库，以及准备好使用命令行的二进制文件。

如果您需要 Tesseract 3.02 或更高版本的文档，可以在这里找到：

[http://tesseract-ocr.github.io/modules.html](http://tesseract-ocr.github.io/modules.html)

官方论坛在 google 群组中，您会在其中找到一些示例：

[https://groups.google.com/forum/#!forum/tesseract-ocr](https://groups.google.com/forum/#!forum/tesseract-ocr)

# android - 如何将 android 小部件连接到我的 android 应用程序？两者都是我的 Android 应用程序

> ID：13926846
> 
> 赞同：1
> 
> 时间：2012-12-18T05:30:07.590
> 
> 标签：android, android-intent, android-widget, widget, android-pendingintent

我想将我的小部件和我的一个 android 应用程序结合起来..

有可能这样做吗？

我的计划是，一旦用户打开我的 android 小部件，小部件将直接打开我的 android 应用程序？

有什么办法吗？

我从我的小部件类在这里做了一些方法：

```
public class ExampleAppWidgetProvider extends AppWidgetProvider {

public void onUpdate(Context context, AppWidgetManager appWidgetManager,
int[] appWidgetIds) {
for (int i = 0; i < appWidgetIds.length; i++) {
int appWidgetId = appWidgetIds[i];

Intent intent = startActivity(new Intent("com.xxx.yyy.widget.FlamingoActivity"));
PendingIntent pendingIntent = PendingIntent.getActivity(context, 0,
intent, 0);

RemoteViews views = new RemoteViews(context.getPackageName(),
R.layout.widget1);

views.setOnClickPendingIntent(R.id.Image, pendingIntent);
appWidgetManager.updateAppWidget(appWidgetId, views);
}
} 
```

我试图调用第二个应用程序 FlamingoActivity，但它失败了.. :(

**不是完整的解决方案：**

我应该改变这条线

```
Intent intent = startActivity(new Intent("com.xxx.yyy.widget.FlamingoActivity")); 
```

对此：

```
Intent intent = new Intent(context, FlamingoActivity.class); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:34:52.997

您尝试调用的活动需要在其应用程序的清单中公开（导出）。从小部件启动活动并没有什么特别之处，除了您使用 a`PendingIntent`来允许小部件作为应用程序的一部分工作（它在启动器应用程序内运行）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:38:37.883

您需要在小部件上设置 onClickpendingIntent

```
 Intent intent = new Intent(context, ExampleActivity.class);
    PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, 0);
    // Get the layout for the App Widget and attach an on-click listener to the button
     RemoteViews views = new 
                 RemoteViews(context.getPackageName(),R.layout.appwidget_provider_layout);
      views.setOnClickPendingIntent(R.id.button, pendingIntent); 
```

并且还看到这个问题[从小部件启动活动](https://stackoverflow.com/questions/1937236/launching-activity-from-widget)

# linux - 如何确定 SD 卡上的文件系统类型

> ID：13926847
> 
> 赞同：7
> 
> 时间：2012-12-18T05:30:22.767
> 
> 标签：linux, filesystems, mount

如何确定SD卡上的文件系统类型（此卡尚未挂载。我需要确定文件系统类型，以便我可以根据文件系统类型通过程序挂载SDCard）或从终端。例如“mount -t ext3 /dev/sdc1 /mnt”

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-18T06:37:49.303

您可能会做一个`file -s /dev/sdc1`，它可以识别文件系统数据。

你可能会做`mount -t auto /dev/sdc1 /mnt`让 mount 识别它。

# c++ - 将 const uint16 arr[] 转换为 uint16 arr[]

> ID：13926862
> 
> 赞同：0
> 
> 时间：2012-12-18T05:31:47.983
> 
> 标签：c++, visual-c++

如何转换

```
const uint16 arr[]
```

到

```
uint16 arr[]
```

使用 c++ 吗？请张贴一个例子。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T06:31:41.973

如果您不关心变量名，并且您可以为非常量数组使用不同的内存，那么这是最快的方法。

```
常量 uint16 arr[] = {1,2,3,4}
unint16 arr1[4]；
memcpy(arr1,arr,sizeof(arr))

```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T06:04:42.413

```
#include <stdint.h>
#include <iostream>

using namespace std;

int main(int argc, char* argv[]) {

const uint16_t  arr1[] = {1,2,3,4};
uint16_t* arr2 = const_cast<uint16_t*>(arr1);

for (int i=0; i<4; i++) {
    cout << "arr2[" << i << "] = " << arr2[i] << endl;
}
} 
```

请注意，我对 arr2 使用了指针表示法。如果您不明白为什么尝试将该行更改为

```
uint16_t arr2 = const_cast<uint16_t*>(arr1); 
```

看看编译器告诉你什么。

# ios - UIButton在Annotation的calloutView上点击失败

> ID：13926864
> 
> 赞同：0
> 
> 时间：2012-12-18T05:32:03.383
> 
> 标签：ios, annotations, uibutton, mkmapview, uiresponder

![calloutView 上的按钮](../Images/ad15490fad713380853cf200f5ccd8fc.png)

![我的 calloutView 的结构](../Images/a735d19392bd135a790eb0f91389bb65.png)

我遇到的问题：我点击了按钮，但似乎是 CalloutView 收到了我的点击，而不是 UIButton。

首先解释一下： 1.“SYSUMyAnnoCalloutView”是一个 MKPinAnnotationView 2.“SYSUMyCalloutImageView”是一个 UIImageView，我将它初始化并在“SYSUMyAnnoCalloutView”上添加Subview 3\. UIButton 和 UILabel 在“SYSUMyCalloutImageView”中添加Subviewed

对应代码： 1\. 在“SYSUMyAnnoCalloutView.m”中

```
- (void)setSelected:(BOOL)selected animated:(BOOL)animated
{
if (selected){
    [self.calloutImageView setFrame:CGRectMake(-75, -100, 230, 130)];

    [self animateCalloutAppearance];
    //[self.calloutImageView becomeFirstResponder];
    //[self.calloutImageView.detailButton addTarget:self.calloutImageView action:@selector(clickForDetail) forControlEvents:UIControlEventTouchUpInside];
    [self addSubview:self.calloutImageView];
    [self setCanShowCallout:NO];
}
else
{
    //Remove your custom view...
    [self.calloutImageView removeFromSuperview];
}
} 
```

2.  在“SYSUMyCalloutImageView.m”中

    ```
    - (id)initWithImage:(UIImage *)image
    {
    self = [super initWithImage:image];
    if (self){
        //Label
    CGRect boundsForLabel;
    boundsForLabel.origin.x = 20;
    boundsForLabel.origin.y = 50;
    boundsForLabel.size.width = self.bounds.size.width - 100;
    boundsForLabel.size.height = 20;
    self.messageLabel = [[UILabel alloc] initWithFrame:boundsForLabel];
    self.messageLabel.backgroundColor = [UIColor clearColor];
    [self addSubview:self.messageLabel];
    //detailButton
    CGRect buttonRect;
    buttonRect.origin.x = 20;
    buttonRect.origin.y = 80;
    buttonRect.size.width = boundsForLabel.size.width-50;
    buttonRect.size.height = 30;
    self.detailButton = [UIButton buttonWithType:UIButtonTypeRoundedRect];
    [self.detailButton setFrame:buttonRect];
    [self.detailButton setTitle:@"Click for detail" forState:UIControlStateNormal];
    self.detailButton.userInteractionEnabled = YES;
    //[self.detailButton addTarget:self.superview action:@selector(clickForDetail) forControlEvents:UIControlEventTouchUpInside];
    [self addSubview:self.detailButton]; 
    ```

    } 返回自我；}

有人可以解决我的问题吗？将非常感激:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:45:08.877

默认情况下 UIImageView 不接受用户交互。

`initWithImage`您应该尝试在SYSUMyCalloutImageView.m中添加这行代码

```
[self setUserInteractionEnabled:YES]; 
```

# elasticsearch - Elasticsearch - 如何设置 n 对 n 关系

> ID：13926871
> 
> 赞同：0
> 
> 时间：2012-12-18T05:32:25.730
> 
> 标签：elasticsearch

我正在尝试创建一个图书库应用程序。一个用户可以借很多书。一本书在其生命周期内可以被许多用户借阅。在 ElasticSearch 中会有用户文档和书籍文档。如何搜索用户借阅的所有书籍？

1.  如果我创建一个用户图书文档，那么图书详细信息将与图书借阅次数一样重复。

2.  如果我在 Book 文档中有一个数组，列出了所有借书的用户，那么这个数组对于流行书籍来说将是巨大的。

哪个更好？还是有比上述2更简单更好的解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T12:33:16.457

主要问题是恕我直言，您要搜索什么？

1.  如果要搜索书籍（标题、isbn...），请存储书籍。
2.  如果要搜索用户（姓名、地址、城市...），请存储用户。
3.  如果要搜索借书的用户，则存储一个用户和一组借书。

这意味着如果您需要 1 和 3，您将存储两次有关您的书的信息（一次以书籍类型存储，另一次以用户类型存储）。

如果您需要添加有关借用日期和归还日期的信息，只需将其添加到您的“结帐”对象数组中即可。

我可能会这样设计它......

```
{
  "name":"david",
  "birthdate":"1971-12-26",
  "books":[
    {
      "title":"Star wars",
      "author":"Georges Lucas",
      "borrowdate":"2012-12-18",
      "returndate":null
    },
    {
      "title":"Star Trek",
      "author":"Whatever his name",
      "borrowdate":"2012-07-01",
      "returndate":"2012-08-15"
    }
  ]
} 
```

它有帮助吗？

大卫。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:37:48.650

在您的索引中创建三种类型，一种用于书籍，一种用于用户，一种用于结帐。分别使用“user”和“book”类型存储有关用户和书籍的信息。每次用户签出一本书时，使用类型“checkout”存储一个包含用户 ID 和书籍 ID 的文档。查询一个用户所有借出的图书和所有已借出图书的用户的借出类型。同时，用户和书籍的信息只存储一次。

# c# - 使用带有或不带有 Using() 的 Dataset 进行 Dispose 时，哪个代码更优化

> ID：13926873
> 
> 赞同：1
> 
> 时间：2012-12-18T05:32:31.197
> 
> 标签：c#, asp.net, dataset, webforms

`Dataset`到目前为止，我在我的网站上使用`Dataset`了很多

```
 string strSql = "SELECT * FROM Articles";
    DataSet ds = new DataSet();
    ds = DataProvider.Connect_Select(strSql);
    string Title = ds.Tables[0].Rows[0]["Article_Title"].ToString();
    string Desc = ds.Tables[0].Rows[0]["Article_Desc"].ToString(); 
```

代码`Using`块

```
string strSql = "SELECT * FROM Articles";
    // Create a DataSet in using statement.
using (DataSet ds = new DataSet())
{
    ds = DataProvider.Connect_Select(strSql);
    string Title = ds.Tables[0].Rows[0]["Article_Title"].ToString();
    string Desc = ds.Tables[0].Rows[0]["Article_Desc"].ToString();
} 
```

使用的最佳方法和优化方法是什么`DataSet`

以上代码我使用的是`SQL`Statment，否则我使用`Stored Procedures`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:34:15.937

[using](http://msdn.microsoft.com/en-US/library/yh598w02%28v=vs.110%29.aspx) only 确保调用 DataSet 上的 Dispose 方法，即使发生异常也是如此。不确定它优化了多少，但对于实现`IDisposable`接口的对象来说，这是一种更安全的方法和更好的实践。using 语句就像 try/finally 块。

就像是：

```
DataSet ds;
try
{
ds = new DataSet();
ds = DataProvider.Connect_Select(strSql);
string Title = ds.Tables[0].Rows[0]["Article_Title"].ToString();
string Desc = ds.Tables[0].Rows[0]["Article_Desc"].ToString();
}
finally 
{
if(ds != null)
     ds.Dispose();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-22T08:47:05.740

我建议你使用 dapper。DataSet 效率很低。从 Nuget 或 dapper.org 下载 Dapper

创建 DTO（数据传输对象）

```
public class ArticleDto
{
    public int ArticleID {get; set;}
    public string Title {get; set;}
    public string Description {get; set;}
} 
```

然后在数据层中创建一个管理与数据库的连接的基类

```
public abstract class SalesDb : IDisposable
{
    protected static IDbConnection OpenConnection()
    {
        IDbConnection connection = new SqlConnection(ConfigurationManager.ConnectionStrings["NAME"].ConnectionString);
        connection.Open();
        return connection;
    }
} 
```

然后，创建从数据库返回数据的服务类

```
public class ArticleService : SalesDb
{
    public IEnumerable<ArticleDto> SelectAll()
    {
        using (IDbConnection connection = OpenConnection())
        {
            var articles = connection.Query<ArticleDto>("SELECT * FROM Articles");

            return articles;
        }
    }
} 
```

# css - 如何忽略默认的richface样式

> ID：13926875
> 
> 赞同：2
> 
> 时间：2012-12-18T05:33:04.497
> 
> 标签：css, jsf, styles, richfaces

我正在使用 Richface 3.3.3 Final 和 JSF 1.2。我有一个自定义样式表（将包含在我的 WAR 中），它不会影响我在页面上使用的丰富元素，它应该是这样工作的——丰富的样式更接近。但是我需要以某种方式“跳过”丰富的样式：压倒丰富的样式实在是太痛苦了。有谁知道一个“开关”可以关闭丰富的样式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-11T19:08:54.377

According to [RichFaces Documentation](http://docs.jboss.org/richfaces/latest_4_1_X/Developer_Guide/en-US/html/chap-Developer_Guide-Skinning_and_theming.html) you should add:

```
<context-param>
    <param-name>org.richfaces.enableControlSkinning</param-name>
    <param-value>false</param-value>
</context-param>
<context-param>
    <param-name>org.richfaces.skin</param-name>
    <param-value>plain</param-value>
</context-param> 
```

To your web.xml. Skin "plain" contains no skin parameters and is intended for embedding RichFaces components into existing projects with their own styles.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T09:18:43.063

即使是普通的皮肤，也包括几个 css 类。我所做的是定义一个自定义皮肤，例如

```
<context-param>
    <param-name>org.richfaces.SKIN</param-name>
    <param-value>myskin</param-value>
</context-param> 
```

并在类路径中包含一个空文件**myskin.skin.properties**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T05:51:32.110

我真的怀疑你是否可以“关闭”默认的 Rich faces 样式类。我遇到了这个问题，并根据我的经验提出了这个解决方案。

如果您尝试引用您外部的自定义样式表`WAR`（我的意思是如果将其放置在 Web 服务器中而不是将其放置在您的 war 文件中），请尝试将其放置在您的 xhtml 页面中。

此外，如果您要从您的战争中的自定义文件夹中导入您的自定义 css 文件，请尝试将 css 类放在您的 xhtml 页面中。

下面是示例代码。正如我所说，在遇到同样的问题后，我会根据我的经验来回答这个问题。

在您的 xhtml 页面中，

```
<style type="text/css">
.rich-stglpanel-body {
     background-color: #FFFFFF;
    border: 1px solid #73C5E3;
    font-family:  Tahoma,Arial,Geneva,sans-serif;
    font-size: 11px;
    width: 877px;

}
</style> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-18T06:59:37.387

我不认为你可以关闭造型。但是，您可以使用“普通”皮肤来避免一些造型。将此添加到您的`web.xml`

```
<param-name>org.richfaces.SKIN</param-name>
  <param-value>plain</param-value>
</context-param> 
```

但是更改皮肤会影响您的所有页面。但是，如果您不想将其应用于所有页面，则应`skin`根据 bean 属性有条件地设置，如下所示。

```
<param-name>org.richfaces.SKIN</param-name>
  <param-value>#{myBean.skinName}</param-value>
</context-param> 
```

# cassandra - 如何在 cassandra 中禁用压缩并在最后重新开始？

> ID：13926877
> 
> 赞同：2
> 
> 时间：2012-12-18T05:33:16.297
> 
> 标签：cassandra, hector

我同时将数十亿条记录插入到 cassandra 中。因此，要利用资源，我需要在插入过程中禁用压缩。插入完成后，我应该能够手动启动压缩。我使用 hector-core-1.0-5 作为 API 连接到 cassandra。任何人都可以帮助我如何做到这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T16:01:46.370

您可以通过管理控制台 (JMX) 控制列族的压缩。您可以在加载之前禁用，然后在加载数据后强制进行主要压缩。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-18T17:21:28.450

我使用的方法是使用 cassandra-cli 更新列族压缩选项。

打开

```
use myks;
update column family mycf with compression_options={sstable_compression:SnappyCompressor, chunk_length_kb:64}; 
```

然后关闭：

```
use myks;
update column family mycf with compression_options=null; 
```

如果您希望立即更新，则必须在此更新后使用 nodetool (scrub) 强制重建 sstables，否则可能会在意外情况下发生。

我只是在测试中这样做，以比较压缩和非压缩列族的大小。但我发现启用压缩然后进行批量加载会更好，否则 sstable 重建需要永远。

# c - 请为 smpd 指定身份验证密码：

> ID：13926882
> 
> 赞同：0
> 
> 时间：2012-12-18T05:34:01.047
> 
> 标签：c, mpi

我最近使用 MPICH2 编写并行代码。但是当我跑`wmpiexec.exe`进来时，`bin\`我收到了这个：

> 请为 smpd 指定身份验证密码：

这里发生了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-10-12T05:55:15.927

我也面临同样的问题，但只是 wmpiregister.exe 不起作用。

所以我按照以下步骤操作，它奏效了：

1-禁用防火墙（或修改规则）

2-通过右键单击命令提示符图标选择以管理员身份运行来打开管理员命令提示符。

3- 在提示符下依次键入以下命令：

```
smpd -install 
mpiexec -remove 
mpiexec -register  (this will ask for user name and password, enter it and confirm it)
mpiexec -validate (Must return SUCCESS) 
smpd -status 
```

最后一个命令将返回

> 'smpd 在主机名上运行'

现在一切都应该正常工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T06:20:00.010

您需要使用以下方法注册您的用户名和密码（您的 Windows 用户名和密码）：

`StartMenu->All Programs->MPICH2->wmpiregister.exe`

还要确保您以管理员模式安装了 smpd。

# php - Javascript 错误“Uncaught TypeError: Cannot call method 'submit' of undefined”是什么意思？

> ID：13926885
> 
> 赞同：0
> 
> 时间：2012-12-18T05:34:14.813
> 
> 标签：php, javascript, magento

Javascript 错误“Uncaught TypeError: Cannot call method 'submit' of undefined”是什么意思？

我正在尝试在我的 Magneto 网站中将商品添加到购物车。但它显示了上述错误。您能否指出错误背后的含义或可能的原因，以便我可以更深入地尝试？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:36:34.653

正如它所说：你有一个`undefined`值，并试图调用一个调用`submit`它的方法，如下所示：

```
undefined.submit(); 
```

或像这样：

```
var nonexistent;
nonexistent.submit(); 
```

甚至像这样：

```
var threeElementArray = [1, 2, 3];
threeElementArray[100].submit(); 
```

我不知道为什么图书馆会提高它。你没有提供太多细节。它可能是他们代码中的错误，或者更有可能是您在某处为其提供了不正确的参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:37:29.707

还有一个关于类似主题的 Stack Overflow 问题，也许这可以帮助你？

[Javascript 提交回表单](https://stackoverflow.com/questions/8933932/javascript-submit-back-to-form)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T05:43:00.187

好吧，我猜您正在尝试使用 submit 方法提交表单。但可能您尝试调用提交方法的表单对象在文档中不存在。

可能是您输入错误的表单 ID 或名称或类似的东西。

# java - 通过使用 Java 中的预定义模板将值插入 Excel 来编辑特定的 Excel 工作表

> ID：13926891
> 
> 赞同：-2
> 
> 时间：2012-12-18T05:34:46.717
> 
> 标签：java, excel

我想用一些预先设计的模板编辑一个 Excel 工作表，其中包含使用 java 的饼图和图形。

我所要做的就是从不同的原始数据 Excel 中读取一些值，然后使用模板将这些值插入到 Excel 中的某个特定单元格中。读取值是从外部数据表中完成的，我尝试了很多使用模板将数据写入 Excel。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T06:48:41.447

代码是

```
 FileInputStream fileIn =null;
 FileOutputStream fileOut = null;
 final Workbook wb; 

      fileIn =new FileInputStream("d:\\excelfiles\\Report.xlsm");
      wb = WorkbookFactory.create(fileIn); //open existing file
      final Sheet sheet = wb.getSheet("Report");//open the existing sheet use wb.createSheet() to create a new one
      row = sheet.getRow(0/*row number*/);
      if (row == null)//if row not exists
          row = sheet.createRow(0);
      cellp = row.getCell(4);
      if (cellp == null)
         cellp = row.createCell(0); 
```

**注意**我删除了所有的异常处理。在 api 中查看更多内容

# java - Java derby over socket

> ID：13926895
> 
> 赞同：0
> 
> 时间：2012-12-18T05:35:06.950
> 
> 标签：java, sockets, javafx-2, derby

我在java中有这个新项目。我通过端口 3000 通过 TCP/IP 将客户端连接到服务器。它连接成功......但是，我还想将数据库嵌入到服务器应用程序中，并能够从客户端查询数据库。通过套接字向服务器应用程序发送语句的语法是什么，它应该查询数据库并将数据发送回客户端？例如“SELECT * FROM users”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T15:55:15.047

如果您正在编写自己的应用程序网络协议，则可以使用任何您想要的语法，但要注意：这是一个大项目。

如果改为使用 Derby Network Server 和 Derby Network Client 来执行应用程序的客户端-服务器方面，则可以使用 JDBC 作为 API 将语句发送到服务器并取回结果。有关演示这一点的教程，请参见[http://db.apache.org/derby/docs/10.9/getstart/twwdactivity4.html 。](http://db.apache.org/derby/docs/10.9/getstart/twwdactivity4.html)

请注意，这是最高级的 Derby 教程，因此，如果您不熟悉 Derby 和 Java，您应该从第一个教程开始并逐步完成。

# iphone - Plist 到 UItableview

> ID：13926898
> 
> 赞同：1
> 
> 时间：2012-12-18T05:35:38.803
> 
> 标签：iphone, ios, uitableview, ios5, plist

> **可能重复：**
> [在 UItableview 中显示 Plist 数据](https://stackoverflow.com/questions/13912735/displaying-plist-data-into-uitableview)

我有一个带有字典的 plist 和每个字典的字符串数。显示到下面的 url 中。这个项目列表在 plist 中。它给了我输出但是......没有正确显示..我认为问题出在`CellForRowatindexPath`如果 NSLOG`valueArray`输出正确

我需要将这些 plist 数据显示到 UItableview

![进入图像](../Images/abd6d2b940e53d584d51ccca613191cb.png) .

这该怎么做？

我的代码：

```
- (void)viewWillAppear:(BOOL)animated
{
    // get paths from root direcory
    NSArray *documentPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,
                                                                 NSUserDomainMask, YES);
    NSString *documentsDirectory = [documentPaths objectAtIndex:0];
    NSString *documentPlistPath = [documentsDirectory stringByAppendingPathComponent:@"p.plist"];

    NSDictionary *dict = [NSDictionary dictionaryWithContentsOfFile:documentPlistPath];

    valueArray = [dict objectForKey:@"title"];

    self.mySections=[valueArray copy];
    NSLog(@"value array %@",self.mySections);

}

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return [self.mySections count];
}

-(NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section {

    NSString *key = [[self.mySections objectAtIndex:section]objectForKey:@"pass"];
    return [NSString stringWithFormat:@"%@", key];
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return [self.mySections count];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleValue1 reuseIdentifier:CellIdentifier];
    }

    // Configure the cell...
    NSUInteger section = [indexPath section];
    NSUInteger row = [indexPath row];

    cell.textLabel.text = [[self.mySections objectAtIndex:row] objectForKey:@"title"];
    cell.detailTextLabel.text=[[self.mySections objectAtIndex:section] objectForKey:[allKeys objectAtIndex:1]];

    return cell;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:47:59.240

在这里正确设置`numberOfRowsInSection` 具有正确行数的方法..

也在这里使用`row`而不是`section`.. 并且还设置`objectForKey`了字符串值 ..

**更新**

```
cell.textLabel.text = @"protein,carbs,fats,title";
cell.detailTextLabel.text=[NSString stringWithFormat:@"%@,%@,%@,%@",[[self.mySections objectAtIndex:row] objectForKey:@"protein"],[[self.mySections objectAtIndex:row] objectForKey:@"carbs"],[[self.mySections objectAtIndex:row] objectForKey:@"fats"],[[self.mySections objectAtIndex:row] objectForKey:@"title"]]; 
```

我希望这可以帮助你...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T06:41:57.790

试试这个，我想这就是你想要的：

```
-(NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {
    return [self.mySections count];
}

-(NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section {

    NSString *key = [[self.mySections objectAtIndex:section]objectForKey:@"pass"];
    return [NSString stringWithFormat:@"%@", key];
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
    return [[[self.mySections objectAtIndex:section ] allKeys] count] ;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleValue1 reuseIdentifier:CellIdentifier];
    }
    NSDictionary *dict = [self.mySections objectAtIndex:indexPath.section];
    cell.textLabel.text = [dict.allKeys objectAtIndex:indexPath.row];
    cell.detailTextLabel.text= [dict valueForKey:[dict.allKeys objectAtIndex:indexPath.row]];

    return cell;
} 
```

# javascript - 如何在注销时禁用返回按钮？

> ID：13926904
> 
> 赞同：2
> 
> 时间：2012-12-18T05:36:10.883
> 
> 标签：javascript

我正在使用 iframe 处理应用程序，当我单击浏览器后退按钮时注销我的应用程序时，它会加载应用程序主页而不要求登录。那么如何在后退按钮上加载相同的页面（登录页面）。请帮助。

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-17T12:28:12.523

你可以试试：

```
window.history.forward(); 
```

请注意，这并不能真正阻止用户访问该页面，它只会使访问变得更加困难。您应该在注销页面上使用会话验证来确保任何形式的安全性。

# java - 重建崩溃的 java 进程的虚拟内存使用情况

> ID：13926908
> 
> 赞同：2
> 
> 时间：2012-12-18T05:36:19.253
> 
> 标签：java, linux, memory-leaks, virtual-memory, segmentation-fault

我有一个已收到 SIGSEGV 的长时间运行的 java 进程的 hs_err_pid。在[C.6 系统部分](http://www.oracle.com/technetwork/java/javase/felog-138657.html)中，我可以从 (MemFree + Buffers + Cached) / MemTotal 中获得系统上可用内存的粗略近似值，但我想确切了解该进程在崩溃，这是在这个文件中捕获的吗？例如，似乎没有报告任何段大小`C.5.5 Memory Map`。

对于上下文，我知道导致进程`VIRT`内存列`top`不断增加的情况，我想重建崩溃时是否存在此泄漏。中的信息`C.5.4 Heap Summary`没有用，因为堆内存中没有泄漏。

# java - 如何命名封装应用程序功能的 maven-module？

> ID：13926911
> 
> 赞同：0
> 
> 时间：2012-12-18T05:36:29.660
> 
> 标签：java, maven, naming-conventions

我想将所有应用程序逻辑移动到单独的 JAR（maven 模块）中。

问题：命名 JAR 模块的约定是什么，它包含所有应用程序逻辑和功能？将其命名为`ApplicationFacade`?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T09:53:38.910

这更多地取决于您的架构和分层。对于这样的名称，maven 中没有约定。在简单的应用程序中，您可以将模块命名为“myappname-service”。在带有多个模块的更复杂的应用程序中，它可能类似于“myappname-ordering”。所以这取决于:)

“外观”更像是一种模式，因此它不是模块名称的最佳选择。如果您将此名称用于 GUI，我会将其命名为“myaüüname-web”或“myappname-client”或类似名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T22:52:37.077

我不确定外观是否是一个好名字，因为这意味着这个 jar 不包含服务的实现，而只有接口（就像 wemu 它将是一个客户端）。

您可以简单地将其命名为 myapp-services。

您可能会在以下主题中找到一些信息，尽管它不涉及您的实际问题：

*   [Maven 工件的命名约定](https://stackoverflow.com/questions/3150003/naming-convention-for-maven-artifacts)
*   [Maven artifactID 命名约定的最佳实践（有限制吗？）](https://stackoverflow.com/questions/12013735/best-pratices-in-naming-conventions-on-maven-artifactid-is-there-restriction/12020832#12020832)

# html - html：将句子与图像对齐

> ID：13926912
> 
> 赞同：0
> 
> 时间：2012-12-18T05:36:31.407
> 
> 标签：html, css

我正在开发一个非常简单的带有一些 css 样式的 html。我很难用段落来处理图像。假设我的 div 部分有一个图像和一个像这样的段落：

```
<div>
<img border="1" src="cake.jpg" width="100" height="70">
Tom's review: This is the best cake that I have ever had...
</div> 
```

该段落出现在图像的“右下角”，但我希望它出现在图像的“右上角”。

我知道这个问题很简单，但我对 html 很陌生。这里有人可以帮忙吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:38:44.887

您需要将图像向左浮动。

```
<div>
<img border="1" src="cake.jpg" width="100" height="70" style="float: left;">
Tom's review: This is the best cake that I have ever had...
<div style="clear: both;"></div>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:42:10.680

使用此代码

```
<div>
    <div style="float: left;"><img border="1" src="gtld-lifecycle.jpg" width="100" height="70"></div>
<div style="float: left;">Tom's review: This is the best cake that I have ever had...</div>
</div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T05:43:14.660

如果您希望您的段落出现在顶部 - 将您的图像放在段落之后。

```
<div>
   <p>Tom's review: This is the best cake that I have ever had...</p>
   <img border="1" src="cake.jpg" width="100" height="70"/><br/>
</div> 
```

# matlab - Matlab marketdepth 将在 Simulink 流入中使用自定义 M 函数用于回调驻留在 Simulink 模型中？

> ID：13926914
> 
> 赞同：0
> 
> 时间：2012-12-18T05:36:43.613
> 
> 标签：matlab, callback, simulink

我不确定 Matlab 或 Simulink 中是否存在此功能。我正在尝试使用 Matlab Datafeed 工具箱功能：

```
 iqf.marketdepth 
```

[http://www.mathworks.com/help/datafeed/iqf.marketdepth.html](http://www.mathworks.com/help/datafeed/iqf.marketdepth.html) 如果我使用以下示例：

```
 marketdepth(q,'ABC',@iqfeedmarketdepthlistener,@iqfeedmarketdeptheventhandler 
```

有没有办法可以将上面的示例用作 Simulink 流入自定义 M 功能块？然后，我想使用 iqfeedmarketdeptheventhandler 函数驻留在 Simulink 模块或 Simulink 模型中。处理函数可以是 Simulink 模型中的自定义 M 功能块吗？这甚至可以做到吗？

谢谢

# google-maps - Drupal Gmap，如何选择“节点位置”的子区域？

> ID：13926916
> 
> 赞同：0
> 
> 时间：2012-12-18T05:36:56.517
> 
> 标签：google-maps, module, drupal-7

我正在使用 Drupal 的 Gmap 模块将一个站点放在一起以显示 Google 地图标记。现在，我想知道如何提示用户输入子位置。例如一个大陆、国家或城市，然后只显示来自该特定地理子区域的所有节点？当我现在单击“节点位置：”时，它只显示全球所有节点（www.url.com/map/node）。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T07:06:37.730

其他选项是使用 Google Store Locator 模块[drupal.org/project/google_store_locator](http://drupal.org/project/google_store_locator)。它具有将地图标记引脚自定义为您自己的自定义图标的功能，并且您可以使地图“位置感知”，允许用户与浏览器共享他们的位置，地图将重新居中并根据他们的位置。

# iphone - AFNetworking 无法下载文件

> ID：13926936
> 
> 赞同：1
> 
> 时间：2012-12-18T05:38:27.327
> 
> 标签：iphone, ios, afnetworking

我尝试使用以下代码下载大约 100 MB 的文件。我的下载进度块成功显示了读取和预期的字节数，但文件系统中似乎不存在该文件。

```
 NSMutableURLRequest *request = [self.httpClient requestWithMethod:REQUEST_GET
                                                             path:@"" parameters:params];
[request setValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];
[request setTimeoutInterval:15];

AFURLConnectionOperation *operation = [[AFHTTPRequestOperation alloc] initWithRequest:request];
operation.outputStream = [NSOutputStream outputStreamToFileAtPath:filePath append:NO];

[operation setDownloadProgressBlock:^(NSUInteger bytesRead, long long totalBytesRead, long long totalBytesExpectedToRead) {
    NordecaLog("read %d, total %lld, expected %lld ->", bytesRead , totalBytesRead, totalBytesExpectedToRead);
    [self.delegate updateProgressWithBytesRead:totalBytesRead totalBytesExpected:totalBytesExpectedToRead];
}];
[operation setCompletionBlock:^{
    NSHTTPURLResponse* httpResponse = (NSHTTPURLResponse*)operation.response;
    int responseStatusCode = [httpResponse statusCode];
    NSString *md5CheckSum = [[httpResponse allHeaderFields]  objectForKey:@"MD5Checksum"];

    NordecaLog("MD 5 %@ ->", md5CheckSum);

    block(md5CheckSum, responseStatusCode, nil);
    NordecaLog("Success %i ->", responseStatusCode);
}];

[operation start]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T06:35:38.967

设法解决问题。我动态创建的文件路径似乎丢失了，因此库无法保存文件。

# mysql - 使用 mysql infile 加载非 ascii 字符

> ID：13926946
> 
> 赞同：0
> 
> 时间：2012-12-18T05:39:02.543
> 
> 标签：mysql, non-ascii-characters

我有一个 utf-8_general_ci 列。当我通过`"INSERT INTO mytable (column) value ('MÃLL')"`一切正常插入一列时，该行被插入。

我正在尝试使用 infile 命令进行批量插入，但它在非 ascii 字符上失败并切断名称......数据库中的值最终是“M”而不是“MÃLL”

我从中加载的文本文件具有正确的值。这是我的声明：

```
LOAD DATA INFILE 'file.txt' IGNORE INTO table mytable FIELDS TERMINATED BY '$' ESCAPED BY '' LINES TERMINATED BY '\n' (column) 
```

我收到以下警告：警告：不正确的字符串值：'\xC3O ...' for column 'column' at row 1

如何正确加载此文件？

# java - Java, Avoid freezing app while executing sql queries

> ID：13926948
> 
> 赞同：1
> 
> 时间：2012-12-18T05:39:08.190
> 
> 标签：java, sql, multithreading

Good day. I have coded a server application that handles many socket connections from app clients, each client request to the server certain information from a sql database to display in its gui interface, calling a method inside the server to make the query and retrieve the data.

In some cases, the application hangs while tries to retrieve the data from the server, i want to my application does not freeze, but instead show a progress bar or an loading animation while retrieving the request. Is this somehow possible? I've read about threads, workers and sql pools, but i dont know exactly what it fits on my needs.

I have this class on server app to manage my queries:

```
final class QueryManager {
//abstract System.out.println("Ya");
static Connection con = null;
static String LoginMsg = "No conectado";
public static void init(){
try{
   Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver");
   con=DriverManager.getConnection("jdbc:sqlserver://PERSONAL:49617;databaseName=prueba","sa", "12345678");
   System.out.println("Conexión Establecida");
   LoginMsg = "Conectado al Servidor";
}catch(ClassNotFoundException | SQLException e){
    e.printStackTrace();
    System.out.println("Exception: " + e.getMessage());
}
}
 public static void Query(String query, int i){
try{
Statement st = con.createStatement();
    try (ResultSet rset = st.executeQuery(Pquery(query))) {
        rset.next();
        System.out.println(rset.getString(1)+i);
    }
}catch(SQLException e){
System.out.println(e);
}

}

public static String Pquery(String pquery){
return pquery;
}
public static boolean Login(String user, String pass){
boolean r = false;
try{
Statement getCon = con.createStatement();
ResultSet EQuery = getCon.executeQuery("select * from users where usuario ='"+user+"'      and contrasena ='"+pass+"'");
EQuery.next();       
    if(EQuery.getString(1) != null){
        r = true;  
        LoginMsg = "Bienvenido";
    }else{
        r = false;

    }
    EQuery.close();
}catch(SQLException e){
    System.out.println(e);
}
return r;

}
public static String getLoginMsg(){
return LoginMsg;
}
public static void printer(){
    System.out.println("Ya");

}
} 
```

Thank you in advance, any help on logic also will be much appreciated.

EDIT:

I have found this example and might be usefull. Thank you for your support.

[https://sites.google.com/site/drjohnbmatthews/randomdata](https://sites.google.com/site/drjohnbmatthews/randomdata)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:51:07.560

run your client side logic of sending request and getting results from server in a separate backgroud thread. you can use `SwingWorker` to achive that. With the help of this you can run a progress bar for the UI while that logic is running in backgroud thread. For example: [swing worker](http://www.java2s.com/Tutorial/Java/0240__Swing/SwingWorkerandProgressBar.htm)

# java - 同步多个 JTree 对象中的选定节点

> ID：13926949
> 
> 赞同：1
> 
> 时间：2012-12-18T05:39:37.207
> 
> 标签：java, swing, jtree

我想让几个`JTree`s （都具有非常相似的内容）使它们选择的节点同步（当每棵树中存在相同的节点时）。

目前，我正在通过向`TreeSelectionListener`每棵树添加 a 并调用`setSelectedPath`其他树（如果`getSelectedPaths`不包含路径）来做到这一点。

但是，我已经看到这会导致无限循环，其中每棵树都在重复选择不同的节点（我不确定如何重现这一点，但我在拖动节点时已经看到了）。

似乎没有办法在不触发树选择侦听器的情况下设置所选路径，我宁愿不走尝试删除侦听器的路径。

我正在考虑在`TreeSelectionModel`树之间共享 a 的可能性，但是考虑到`DefaultTreeSelectionModel`.

有没有其他方法可以达到相同的结果？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T06:32:06.870

添加一个标志 isAPI。当您以编程方式选择树中的路径时设置标志，并在设置路径后重置它。

在侦听器中只需检查 isAPI==true 是否并从侦听器返回。

# mysql - 仅选择与不同值匹配的一行

> ID：13926951
> 
> 赞同：-3
> 
> 时间：2012-12-18T05:39:50.433
> 
> 标签：mysql, sql

我想知道如何查询这个结构：我怎么能

```
SELECT only 1 ID FROM portfolio 
WHERE category = "x" AND DISTINCT description = 'x'? 
```

（表名和字段）

```
portfolio:
ID, client, section, category, description, year, files 
```

编辑：谢谢你的回答。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:41:19.547

```
SELECT MAX(ID)
FROM profolio
WHERE category = 'x' AND description = 'x' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:42:02.743

您可以在 mysql 中使用 limit 语句，如下所示。

```
select id from portfolio where category='x' and description='x' limit 1 offset 0 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T05:42:07.250

```
SELECT ID from portfolio WHERE category = 'x' AND description = 'x' LIMIT 1; 
```

# javascript - IOS开发中UIWebview没有调用远程站点的JavaScript函数

> ID：13926952
> 
> 赞同：0
> 
> 时间：2012-12-18T05:39:57.563
> 
> 标签：javascript, iphone, ios, xcode, ipad

我正在为 iPhone 和 iPad 在 Xcode (iOS) 中开发 Web 浏览器。一切都很好，但是当我尝试打开一个弹出窗口（由 JS 函数打开）或单击 Picker 来填充值时，什么也没发生。帮我看看如何在 UIWebView 中启用弹出窗口和 Javascript

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T06:28:34.247

用户 UIWebView 委托方法或正确委托自己来处理此问题。我在 iPhone 的默认 Web 浏览器中的代码中使用了 java 脚本并使用了

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType; 
```

# asp.net-mvc - 输入名称不正确 MVC EditorTemplate For Array

> ID：13926956
> 
> 赞同：0
> 
> 时间：2012-12-18T05:40:27.200
> 
> 标签：asp.net-mvc

我的代码是

```
public class TarkibVM:BaseVM
{
    public int TarkibID { get;set;}

    [UIHint("KhorakTarkibList")]
    public KhorakTarkibVM[] KhorakTarkibVms { get; set; }}

public class KhorakTarkibVM
{
    public int KhorakID{ get;set;}

    public string Name{ get;set;}
} 
```

KhorakTarkibList.cshtml ：

```
@model MvcMarkazToyoor.Models.KhorakTarkibVM[]

<table>

@for (int index = 0; index < Model.Count(); index++)
{
    <tr>
        @Html.EditorFor(modelItem => modelItem[index])
    </tr>
}
</table> 
```

KhorakTarkibVM.cshtml ：

```
@model MvcMarkazToyoor.Models.KhorakTarkibVM

<td>
    @Html.EditorFor(modelItem => modelItem.Checked)
</td>
<td>
    @Html.DisplayFor(modelItem => modelItem.KhorakID)
    @Html.HiddenFor(modelItem => modelItem.KhorakID)
</td>
<td>
    @Html.DisplayFor(modelItem => modelItem.Name)
</td> 
```

创建.cshtml：

```
@model MvcMarkazToyoor.Models.TarkibVM

@using (Html.BeginForm()) {
@Html.ValidationSummary(true)

    <div class="editor-label">
        @Html.LabelFor(model => model.GroupID)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.TarkibID)
        @Html.ValidationMessageFor(model => model.TarkibID)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.KhorakTarkibVms)
    </div>

    <p>
        <input type="submit" value="Create" />
    </p>} 
```

在这段代码中一切正常，除了数组输入的名称不正确我期望 name="KhorakTarkibVms[0].Percent" 但生成的名称是 name="KhorakTarkibVms.[0].Percent"

感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T10:10:06.517

**1-**在这种情况下你不能使用数组，而是使用`List<>`

**2-**不需要迭代`KhorakTarkibVms`所以不需要`KhorakTarkibList.cshtml`

所以这是新`TarkibVM`课程：

```
public int TarkibID { get; set; }
public int GroupID { get; set; }
public List<KhorakTarkibVM> KhorakTarkibVms { get; set; } 
```

不记得删除`KhorakTarkibList.cshtml`或重命名它或删除`UIhintAttribute`。

不要迭代`KhorakTarkibVms`，所以新`Create.cshtml`的是：

```
@model MvcMarkazToyoor.Models.TarkibVM

@using (Html.BeginForm()) {
@Html.ValidationSummary(true)

    <div class="editor-label">
        @Html.LabelFor(model => model.GroupID)
    </div>
    <div class="editor-field">
       @Html.EditorFor(model => model.TarkibID)
       @Html.ValidationMessageFor(model => model.TarkibID)
    </div>
    <div class="editor-field">
       <table>
           @Html.EditorFor(model => model.KhorakTarkibVms)
       </table>
    </div>

    <p>
        <input type="submit" value="Create" />
    </p>
} 
```

在 new 中添加 tr 标签`KhorakTarkibVM.cshtml`：

```
<tr>
    <td>
        @Html.EditorFor(modelItem => modelItem.Checked)
    </td>
    <td>
        @Html.DisplayFor(modelItem => modelItem.KhorakID)
        @Html.HiddenFor(modelItem => modelItem.KhorakID)
    </td>
    <td>
        @Html.DisplayFor(modelItem => modelItem.Name)
    </td>
</tr> 
```

# java - 代码在 Eclipse 中编译，但不是通过命令提示符

> ID：13926960
> 
> 赞同：3
> 
> 时间：2012-12-18T05:40:43.773
> 
> 标签：java, generics, osgi

以下代码在使用 JDK7 的 Eclipse 中编译没有任何问题（我使用的是更新 10，但应该可以使用任何版本的 JDK7 重现），但在使用完全相同的 JDK 通过命令行编译时失败。该类仅提供接口方法的存根实现。

```
import java.io.File;
import java.io.IOException;
import java.io.InputStream;
import java.net.URL;
import java.security.cert.X509Certificate;
import java.util.Dictionary;
import java.util.Enumeration;
import java.util.List;
import java.util.Map;

import org.osgi.framework.Bundle;
import org.osgi.framework.BundleContext;
import org.osgi.framework.BundleException;
import org.osgi.framework.ServiceReference;
import org.osgi.framework.Version;

public class TestBundle implements Bundle {

    /**
     * @param args
     */
    public static void main(String[] args) {

    }

    @Override
    public int compareTo(Bundle o) {

        return 0;
    }

    @Override
    public <A> A adapt(Class<A> arg0) {

        return null;
    }

    @Override
    public Enumeration<URL> findEntries(String arg0, String arg1, boolean arg2) {

        return null;
    }

    @Override
    public BundleContext getBundleContext() {

        return null;
    }

    @Override
    public long getBundleId() {

        return 0;
    }

    @Override
    public File getDataFile(String arg0) {

        return null;
    }

    @Override
    public URL getEntry(String arg0) {

        return null;
    }

    @Override
    public Enumeration<String> getEntryPaths(String arg0) {

        return null;
    }

    @Override
    public Dictionary<String, String> getHeaders() {

        return null;
    }

    @Override
    public Dictionary<String, String> getHeaders(String arg0) {

        return null;
    }

    @Override
    public long getLastModified() {

        return 0;
    }

    @Override
    public String getLocation() {

        return null;
    }

    @Override
    public ServiceReference<?>[] getRegisteredServices() {

        return null;
    }

    @Override
    public URL getResource(String arg0) {

        return null;
    }

    @Override
    public Enumeration<URL> getResources(String arg0) throws IOException {

        return null;
    }

    @Override
    public ServiceReference<?>[] getServicesInUse() {

        return null;
    }

    @Override
    public Map<X509Certificate, List<X509Certificate>> getSignerCertificates(
            int arg0) {

        return null;
    }

    @Override
    public int getState() {

        return 0;
    }

    @Override
    public String getSymbolicName() {

        return null;
    }

    @Override
    public Version getVersion() {

        return null;
    }

    @Override
    public boolean hasPermission(Object arg0) {

        return false;
    }

    @Override
    public Class<?> loadClass(String arg0) throws ClassNotFoundException {

        return null;
    }

    @Override
    public void start() throws BundleException {

    }

    @Override
    public void start(int arg0) throws BundleException {

    }

    @Override
    public void stop() throws BundleException {

    }

    @Override
    public void stop(int arg0) throws BundleException {

    }

    @Override
    public void uninstall() throws BundleException {

    }

    @Override
    public void update() throws BundleException {

    }

    @Override
    public void update(InputStream arg0) throws BundleException {

    }

} 
```

osgi的jar文件可以从[这里下载](http://repo1.maven.org/maven2/org/eclipse/birt/runtime/org.eclipse.osgi/3.8.0.v20120529-1548/)

我正在使用以下命令通过命令行编译它：

```
javac.exe -cp org.eclipse.osgi_3.8.0.v20120529-1548.jar TestBundle.java 
```

通过命令行编译时出现以下错误：

```
TestBundle.java:101: error: type ServiceReference does not take parameters
        public ServiceReference<?>[] getRegisteredServices() {
                               ^
TestBundle.java:119: error: type ServiceReference does not take parameters
        public ServiceReference<?>[] getServicesInUse() {
                               ^
TestBundle.java:18: error: TestBundle is not abstract and does not override abstract method adapt(Class) in Bundle
public class TestBundle implements Bundle {
       ^
TestBundle.java:28: error: method does not override or implement a method from a supertype
        @Override
        ^
TestBundle.java:35: error: name clash: <A>adapt(Class<A>) in TestBundle and adapt(Class) in Bundle have the same erasure, yet neither overrides the other
        public <A> A adapt(Class<A> arg0) {
                     ^
  where A is a type-variable:
    A extends Object declared in method <A>adapt(Class<A>)
TestBundle.java:34: error: method does not override or implement a method from a supertype
        @Override
        ^
6 errors 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-18T08:24:41.243

OSGi 规范包在 Java 7 上编译时存在泛型问题。这是因为编译后的包具有对 jdk 1.4 的向后兼容性，这使得它们在 Jdk 7 中中断。经过大量投诉后，发布了一个新版本，该版本符合现在jdk 7。

4.3.1 源与 4.3.0 相同。它只是重新编译。你应该可以用这个 jar 编译你的代码。我不确定这与您使用的 Eclipse 中的 jar 有何关系，但我猜他们只是使用了旧编译的规范类。

[http://search.maven.org/remotecontent?filepath=org/osgi/org.osgi.core/4.3.1/org.osgi.core-4.3.1.jar](http://search.maven.org/remotecontent?filepath=org/osgi/org.osgi.core/4.3.1/org.osgi.core-4.3.1.jar)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T06:03:03.830

在我从jar 中删除了一些其他（我想是与 eclipse 相关的）条目并仅保留类和包之后，我能够使用*命令行* 中的***javac** *编译代码。jar 的清理版本在[这里](https://dl.dropbox.com/u/77013073/reading-comprehension.zip)。

 *我还删除了通常由 eclipse 引入的 @Override 注释。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T06:19:00.250

您提到了错误的 jar 文件名 -“org.eclipse.osgi_3.8.0.v20120529-1548.jar” 正确的文件名是 org.eclipse.osgi-3.8.0.v20120529-1548.jar

这个命令：javac.exe -cp org.eclipse.osgi-3.8.0.v20120529-1548.jar TestBundle.java

为我工作*

# google-chrome-extension - 无法通过 Chrome 扩展中的 XHR 请求将我的数据提交到服务器

> ID：13926961
> 
> 赞同：0
> 
> 时间：2012-12-18T05:40:53.010
> 
> 标签：google-chrome-extension, xmlhttprequest

我做了一个 chrome 扩展，它发出了一些 XHR 请求。此扩展从某些站点提取一些数据，然后将所有这些数据传递到我的服务器。问题是我能够获取数据（即我可以进行 XHR 调用）但是当我尝试将数据提交到服务器时，它会给出以下错误：“加载资源失败”

现在我检查了我是否对 XHR 请求具有适当的权限，因为：1）有时代码可以正常工作。2) 我可以进行 ajax 调用，因为我正在从其他服务器获取数据。只是我无法将数据提交到我的服务器。

可能有什么问题？？我发现的 1 个可能的解决方案是广告拦截阻止了我的请求，但禁用它并没有产生任何影响。

这是清单文件的一部分供参考：

```
 "permissions": [
"http://*.facebook.com/*",
"https://*.facebook.com/*",
"http://*.lersais.exp.sis.pitt.edu/frivacy/*",
"https://*.lersais.exp.sis.pitt.edu/frivacy/*",
"tabs"] 
```

“lersais”是我要放置数据的服务器。

这是我用来向这个“lersais”服务器发送数据的代码：

```
$.ajax({
url: "https://lersais.exp.sis.pitt.edu/frivacy/save-settings.php",
type: "POST",
data: {jsondata: JSON.stringify(settings)},
dataType: "text"
    }).done( function(response){
console.log("data was successfully sent");
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T03:15:29.077

好的...我的服务器不支持 https...因为为此您必须拥有证书和所有...这就是代码不起作用的原因。我使用“http”而不是“https”并且代码有效...... :)

希望这可以帮助某人。

# c# - 覆盖/隐藏显式实现的接口方法

> ID：13926964
> 
> 赞同：2
> 
> 时间：2012-12-18T05:41:11.153
> 
> 标签：c#, inheritance, interface, explicit-implementation

我无法覆盖显式实现接口的方法。

我有两节课。一个基础的称为`OurViewModel`，一个继承的称为`MyViewModel`。他们共享一个名为 的方法`Validate`，直到最近我才能够隐藏该方法的基本版本，如下所示：

```
public class OurViewModel
{
  public bool Validate(ModelStateDictionary modelState){ return true; }
}

public class MyViewModel : OurViewModel
{
  public new bool Validate(ModelStateDictionary modelState) {return false;}
} 
```

这一切都在几天前发生了变化。一个新的界面出现在了现场——

```
public interface IValidatableObject
{
  IEnumerable<ValidationResult> Validate(ValidationContext validationContext);
} 
```

随后，OurViewModel 也发生了变化。我没有要求这个，但它发生了，我不得不忍受它。这个类现在看起来像这样：

```
public class OurViewModel : IValidatableObject
{
  IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext) {..}
} 
```

我很难弄清楚如何在 MyViewModel 中覆盖或隐藏这个重写的 Validate 方法。如果我尝试将`new`关键字放置在方法签名中（就像我最初所做的那样），我会收到编译错误。我也不能`Validate`在 OurViewModel 中将该方法声明为虚拟方法，因为它显式地实现了一个接口。

该怎么办？如果我只是使用来自 IValidatableObject 的签名在 MyViewModel 中重新实现`Validate`，那会隐藏 OurViewModel 中的实现，还是因为继承规则而以某种方式自找麻烦？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-18T05:51:26.970

我认为您还需要在派生类中隐式实现此接口。

```
public class MyViewModel : OurViewModel, IValidatableObject
{
    IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
    {
        //...
    }
} 
```

进而

```
OurViewModel v = new OurViewModel();
MyViewModel m = new MyViewModel();

IValidatableObject ivo = v;
ivo.Validate(null);

ivo = m;
ivo.Validate(null); 
```

此外，如果显式实现了接口，则只能通过对该接口的引用来访问实现。记住，如果你尝试做

```
OurViewModel v = new OurViewModel();
v.Validate(null); 
```

它将调用`Validate`类的原始方法，而不是接口实现。我认为应该删除旧方法以避免可能的错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T16:52:27.450

你真的需要在基类中显式地实现 IValidatableObject 吗？

> 解决方案是 - 在基类中隐式实现 IValidatableObject ，将其标记为虚拟。

:-

> 然后在派生类中隐式实现 IValidatableObject，并将其标记为虚拟新。不要忘记在派生类定义上使用接口名称。

这与@Konstantin Vasilcov 回答的方法略有不同。使用这种方法，您可以拥有更多可以覆盖行为的 MyViewModel 派生类。

# php - 进度条让用户保持忙碌，直到页面从服务器加载

> ID：13926966
> 
> 赞同：1
> 
> 时间：2012-12-18T05:41:29.587
> 
> 标签：php, javascript, mysql

在我的主页上，用户从下拉列表中选择省和地区字段并提交页面。在提交时，我的页面切换到此页面：action="barchart.php"，用户必须等待页面完全加载。问题是在从服务器加载内容之前没有出现进度条。这是我的数据库查询。

```
<?php  
include("connect.php");
nclude("ajyx.php");
$pcode=$_POST['prv'];
$dcode=$_POST['des'];
$tcode=$_POST['teh'];
error_reporting(E_ERROR);
$qry= "select hfc,hf_name  FROM health_facilities where p_code='". $pcode."'";
$result = mysql_query($qry);
$rec = mysql_num_rows($result);
while($row = mysql_fetch_array($result)){
$vari[]= $row['hf_name'];
}
for($i=0;$i <sizeof($vari);$i++ ){
//$testing .= "'".$vari[$i]."',";
$testing .= "'".$vari[$i]."',";
}
$testing = rtrim($testing,',');
?> 
```

我如何使用 $rec，它包含 db 中的记录总数，变量来创建像 gmail 这样的同步进度条。我尝试了几个不同的脚本但徒劳无功。因为进度条出现在页面上之后内容从服务器加载。当用户按下提交按钮时，我需要它在我的页面上可见。任何帮助或建议将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T09:06:39.273

我认为您需要按照以下步骤操作。

1.  提交页面。在提交页面切换到此页面：action="barchart.php"
2.  在 barchart.php 上添加显示进度条的代码。

3.  添加 ajax 方法，它将使用 ajax 从 mysql php 获取所需的条形图输出。

4.  一旦您收到所需的输出，请在页面上显示此内容。

5.  关闭/隐藏进度条并显示包含条形图输出的容器 -

# php - $_GET 带有 MySQL 查询的变量数组

> ID：13926968
> 
> 赞同：2
> 
> 时间：2012-12-18T05:41:33.673
> 
> 标签：php, mysql, get

我无法弄清楚如何在包含 MySQL 查询的 PHP 中使用 if 语句。这是我到目前为止所拥有的（尚未完成）：

```
$industry = $_GET['industry'];
$location = $_GET['location'];
$position = $_GET['position'];
$region = $_GET['region'];

if($industry=="any"){

}

if($location=="any"){

}

if($position=="any"){

}

if($region=="any"){

}

$sql_cat = "
SELECT *
FROM jobs
WHERE industry_cat='$industry' && location_cat='$location' && position_cat='$position' && region_cat='$region'
ORDER BY id DESC
";
$result_cat = $mysqli->query($sql_cat);
$num_rows_cat = mysqli_num_rows($result_cat); 
```

基本上，我想说的是，如果任何变量设置为“任何”，那么我希望这些变量代表所有可能性（每个变量的表格中有五个可能性）。我想我会在 where 子句中使用数组（比如 WHERE Industry IN ($industry)），但是如果有人真的选择了一个变量，它就行不通了。

我可能有点偏离轨道，但我很难把它包起来。任何帮助将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-18T05:52:18.803

如果我没有误解你的问题，我会这样做。

```
$sql = "SELECT * FROM jobs WHERE 1";
if($industry !== "any"){
    $sql .= " AND industry_cat = '$industry'"
}
if($location !== "any"){
    $sql .= " AND location_cat = '$location'"
}
if($position !== "any"){
    $sql .= " AND position_cat = '$position'"
}
if($region !== "any"){
    $sql .= " AND region_cat = '$region'"
}
$sql .= " ORDER BY id DESC"
$result = $mysqli->query($sql); 
```

如果您确定它们是整数，则可以删除查询中变量周围的单引号。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:54:04.903

逐步建立你的 where 子句

```
$industry = $_GET['industry'];
$location = $_GET['location'];
$position = $_GET['position'];
$region = $_GET['region'];

if($industry!="any"){
    $where[] = 'industry_cat=?';
    $where_args[] = $industry;
}

if($location!="any"){
    $where[] = 'location_cat=?';
    $where_args[] = $location;
}

if($position!="any"){
    $where[] = 'position_cat=?';
    $where_args[] = $position;
}

if($region!="any"){
    $where[] = 'region_cat=?';
    $where_args[] = $region;
}

$where_clause = implode(' and ', $where);

$sql_cat = "
SELECT *
FROM jobs
where $whereclause
ORDER BY id DESC
";
$stmt = $mysqli->prepare($sql_cat); 
```

# openfire - 为什么我在初始安装后无法登录到我的 Openfire 管理控制台？

> ID：13926969
> 
> 赞同：32
> 
> 时间：2012-12-18T05:41:40.357
> 
> 标签：openfire

> 登录失败：确保您的用户名和密码正确，并且您是管理员或版主。

即使密码正确且用户与我已有的用户相同，我仍然无法登录。为什么？

* * *

## 回答 #1

> 赞同：98
> 
> 时间：2012-12-18T19:57:44.647

在查看此 YouTube 视频[http://www.youtube.com/watch?v=BFHiRYRx79E](http://www.youtube.com/watch?v=BFHiRYRx79E)后，我终于发现问题在于管理员用户名是“admin”，**而不是**我们在安装过程中输入的电子邮件名称。密码**是**我们在安装过程中输入的密码。

因此，换句话说，使用“admin”作为用户名，以及您在安装过程中输入的密码，您就可以进入。

我承认这根本不直观，因为用户名是“admin”的注释隐藏在大多数人会跳过的输入用户名和密码的明显说明中。

第二个注意事项是，如果您使用嵌入式数据库，openfire 3.7.1（Windows 和 Mac，可能还有其他平台）会在您重新启动后忘记您的管理员密码。我今天早上重启后遇到了这种情况。按照这些说明设置一个单独的数据库： [http ://www.igniterealtime.org/builds/openfire/docs/latest/documentation/database.html](http://www.igniterealtime.org/builds/openfire/docs/latest/documentation/database.html)

在今天反复重启之后，这似乎终于奏效了。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-06-19T21:24:28.650

起初我登录失败，我尝试使用登录

用户名：admin 密码：***您输入的内容

我成功地做到了。

# php - 具有不同值的多个自动完成字段

> ID：13926970
> 
> 赞同：0
> 
> 时间：2012-12-18T05:41:40.723
> 
> 标签：php, autocomplete

我有两个领域

```
<input type="text" id="user-name" />
<input type="text" id="admin-name" />

 $("#user-name").autocomplete("autocomplete.php", {
        selectFirst: true
    }); 
```

我正在使用单个 php 文件句柄自动完成 .ie autocomplete.php

```
 $q=$_GET['q'];
    $my_data=mysql_real_escape_string($q);
    $mysqli=mysqli_connect('localhost','root','','test') or die("Database Error");
    $sql="SELECT user_name FROM users WHERE user_name LIKE '%$my_data%' ORDER BY user_name";
    $result = mysqli_query($mysqli,$sql) or die(mysqli_error());

    if($result)
    {
        while($row=mysqli_fetch_array($result))
        {
            echo $row['user_name']."\n";
        }
    } 
```

我得到了用户名的预期输出，但是如何使用相同的 php 文件对 admin-name 执行相同的操作。由于默认 autocomplete.php 将仅获取用户名，如何使其表现不同

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T05:57:41.703

```
<input type="text" id="admin-name" class="autofill" /> 

$("#user-name").autocomplete("autocomplete.php", {
        selectFirst: true
    }); /// here you used id selector so function call a unique id 

 $(".autofill").autocomplete("autocomplete.php", {
        selectFirst: true
    }); /// we use the class for multiple handlings 

i think it works. if not show me the error, 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:45:44.973

像这样尝试，将两个参数传递给自动完成，并将 q2 作为您想要的字段传递 $q1=$_GET['q1']; $q2 = $_GET['q2']

```
 $my_data=mysql_real_escape_string($q);
    $mysqli=mysqli_connect('localhost','root','','test') or die("Database Error");
    $sql="SELECT user_name FROM users WHERE {$q2} LIKE '%$my_data%' ORDER BY user_name";
    $result = mysqli_query($mysqli,$sql) or die(mysqli_error());

    if($result)
    {
        while($row=mysqli_fetch_array($result))
        {
            echo $row['user_name']."\n";
        }
    } 
```

# windows-phone-7 - 如何在 windows phone 7 中动态添加选项卡？

> ID：13926971
> 
> 赞同：-1
> 
> 时间：2012-12-18T05:41:49.080
> 
> 标签：windows-phone-7, windows-phone-7.1

我正在生成 1 到 10 之间的随机数。基于该数字，我想显示标签栏。如果数字是`1`，我想显示一个标签。如果是`2`，则同时显示 2 个标签栏，等等。我该怎么做？任何人都可以为此提出一个想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T08:08:45.147

我想您正在谈论将 PivotItems 添加到 Pivot 中。查看[Programmatically add Pivot Items](https://stackoverflow.com/questions/4439337/programmatically-add-pivot-items)和[How to programmatically create PivotItems to add to a PivotView？](https://stackoverflow.com/questions/8133994/how-to-programmatically-create-pivotitems-to-add-to-a-pivotview)

# javascript - 从弹出窗口提交表单 - javascript

> ID：13926973
> 
> 赞同：2
> 
> 时间：2012-12-18T05:42:03.610
> 
> 标签：javascript, jquery, forms

我在父窗口中有一个表格，

```
<form id="myform">
<username>
<password>
</form> 
```

在 jQuery 中

```
$("#myform").submit(function(e){

e.preventDefault(); // prevent default form submit

//some of my other codes ...

}); 
```

我`window.open`用来打开一个新窗口

```
var popupWindow =  window.open("myUrl"); 
```

我正在尝试从弹出窗口提交`myform`表单

```
$(window.opener.document.getElementById("myform")).submit(); 
```

表单正在提交，但问题是它使用默认表单提交而不是我的附加事件。

我做错了什么？

请帮我。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T06:11:31.580

我知道了。

我意识到如果事件是从其他资源触发的，则通过 jQuery 附加的事件不起作用。

但它适用于带有内联事件的纯js，

```
<form id="myform" onsubmit=" process(); "></form> 
```

它运作良好。

谢谢。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T06:03:30.347

这就是我的工作：

父.html

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
</head>
<body>
    <input type="button" value="Try Me..." onclick='window.open("Child.html");' />
    <form action="post.html" method="post" id="myForm">

    </form>
</body>
</html> 
```

Child.html

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script>
        function submitParent() {

            window.opener.document.forms["myForm"].submit();
            window.close();
        }
    </script>
</head>
<body>
    <input type="button" onclick="submitParent();" value="Submit Parent" />
</body>
</html> 
```

单击“提交父级”时，它会关闭子级，并将父级提交到“Post.html”。

祝你好运！

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-18T05:45:39.247

尝试这样的事情

```
 <div id="divform">
            <form action="/system/wpacert" method="post" enctype="multipart/form-data" name="certform">
                <div>Certificate 1: <input type="file" name="cert1"/></div>
                <div>Certificate 2: <input type="file" name="cert2"/></div>

                <div><input type="button" value="Upload" onclick="closeSelf();"/></div>
            </form>
        </div>
        <div  id="closelink" style="display:none">
            <a href="javascript:window.close()">Click Here to Close this Page</a>
        </div>

function closeSelf(){
    document.forms['certform'].submit();
    hide(document.getElementById('divform'));
    unHide(document.getElementById('closelink'));

} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-12-18T05:47:43.373

使用时打开一个新窗口`window.open`。这开始了一个新的线程。您无法访问相同的 DOM 上下文以及其中包含的元素和事件。

# objective-c - 我的 UIActivityIndi cator 无法移动

> ID：13926978
> 
> 赞同：0
> 
> 时间：2012-12-18T05:42:15.177
> 
> 标签：objective-c, uiimageview, uiactivityindicatorview

我在我的主视图上添加了一个大的白色活动指示器，但它是固定的，我无法将它移动到适当的位置。（如下链接所示）

[截屏](http://ww1.sinaimg.cn/large/a74ecc4cjw1dzxtqt39yej.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T05:47:35.113

您只能在此处向单元格添加活动指示器。您必须有一个普通视图作为它的超级视图，表格视图内容区域不能是它，因为这是在运行时用单元格填充的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:49:36.793

将“Recent Photos **Table View Controller** ”设为“Recent Photos **View Controller** ”

即）使其成为 UIViewController 的子类，而不是 UITableViewController。

# ruby-on-rails-3 - 如何使用 formtastic 创建可编辑的表单？

> ID：13926990
> 
> 赞同：2
> 
> 时间：2012-12-18T05:43:30.450
> 
> 标签：ruby-on-rails-3, formtastic, jeditable

我想在 rails3 中使用 formtastic 创建一个可编辑的表单

我通过脚手架创建了一个具有 name 属性的模范学生。

_form.html.erb

```
<%= semantic_form_for @student do |f| %>
  <%= f.inputs do %>

    <%= f.input :name %><p class="editable" id="paragraph_1">click to enter name</p>
  <% end %>
  <%= f.actions do %>
    <%= f.action :submit, :as => :input %>
  <% end %>
<% end %> 
```

application.js 中的 jquery

```
 $(document).ready(function(){
        $('input.ui-date-picker').datepicker();

      $(".editable").editable("students#update", { 
      indicator : "<img src='img/indicator.gif'>",
      type   : 'textarea',
      name: 'student_name',
      submitdata: { _method: "put" },
      select : true,
      submit : 'OK',
      cancel : 'cancel',
      cssclass : "editable"
  }); 
```

其余按脚手架。

我想保存通过 jeditable 来代替“单击输入名称”的数据。如何做到这一点？

# spring - 创建 Maven 构建文件的分步过程

> ID：13926991
> 
> 赞同：0
> 
> 时间：2012-12-18T05:43:34.363
> 
> 标签：spring, hibernate, maven, struts

我在 Eclipse 中使用 Struts 2.2.3、Spring 3.0、Hibernate 3 和 Apache Tomcat 开发了一个项目。现在我需要创建一个 Maven 构建文件。如何？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T08:06:03.873

1.  如果你没有在你的 Eclipse 中安装 maven 插件然后安装它
2.  在eclipse中将你的项目导入为maven项目，现在你将在你的项目结构中看到一个pom.xml
3.  [在 pom.xml 中添加 Spring、Hibernate 和 Struts 的依赖项（你可以从这里https://repository.jboss.org/nexus/index.html#welcome](https://repository.jboss.org/nexus/index.html#welcome)获取所有依赖项）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T07:04:02.017

我看不出这与 Spring、Hibernate 或 Struts 有什么关系（除了你使用这些依赖项）。您可能需要考虑删除这些标签。

至于 Maven，如果您需要分步说明，请向 Google 索取一个不错的 Maven 教程。但是，本质上，您需要让自己熟悉[POM](http://maven.apache.org/guides/introduction/introduction-to-the-pom.html)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T08:20:43.603

1）从eclipse安装maven插件 - M2E - [http://download.eclipse.org/technology/m2e/releases/](http://download.eclipse.org/technology/m2e/releases/) ![在此处输入图像描述](../Images/880198a6981ac99dfe34c72d7f38db92.png)

2）右键单击并在eclipse“项目资源管理器”视图中选择您的项目。

3) 点击“转换”->“转换为 Maven 项目” ![在此处输入图像描述](../Images/6cb7a863fe9ab51bd006db90258d2ff1.png)

4）上述步骤提供了一种快速而肮脏的方法。

5）您需要了解依赖项、存储库、依赖项范围，才能以最佳方式使用 Maven 来管理项目。添加 Build/Plugin/Dependency 部分以管理第三方 jar 并为您的项目更新 jar/war pom 工件类型。

# android - 自定义通知布局

> ID：13926992
> 
> 赞同：1
> 
> 时间：2012-12-18T05:43:45.283
> 
> 标签：android, styles

我尝试创建资源，例如

res/values/styles.xml

```
<resources>
    <style name="NotificationTitle">
      <item name="android:textColor">?android:attr/textColorPrimaryInverse</item>
      <item name="android:textStyle">bold</item>
    </style>
    <style name="NotificationText">
      <item name="android:textColor">?android:attr/textColorPrimaryInverse</item>
    </style>
</resources> 
```

res/values-v9/styles.xml

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <style name="NotificationText" parent="android:TextAppearance.StatusBar.EventContent" />
    <style name="NotificationTitle" parent="android:TextAppearance.StatusBar.EventContent.Title" />
</resources> 
```

但是对于 values-v9 我得到这个错误：

> 错误：检索项目的父项时出错：找不到与给定名称
> “android:TextAppearance.StatusBar.EventContent.Title”匹配的资源。

为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:47:23.713

我认为这是由父属性的错误格式引起的。
尝试

```
<style name="NotificationText" parent="@android:style/TextAppearance.StatusBar.EventContent" />
    <style name="NotificationTitle" parent="@android:style/TextAppearance.StatusBar.EventContent.Title" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-18T23:48:18.397

确保您已在项目属性（而非清单）中将目标 API（不同于目标 SDK）设置为至少 2.3.3 (API 10)。

# mysql - Mysql select，我如何找到具有在同一列中给出的值的应用程序名称

> ID：13926993
> 
> 赞同：0
> 
> 时间：2012-12-18T05:43:46.320
> 
> 标签：mysql

我有一个表，其中包含应用程序名称和授予应用程序的权限。我需要找到需要这两者的应用程序

```
name   permissions
app1    perm1
app1    perm5
app1    perm6
app2    perm1
app2    perm8
app3    perm1
app3    perm6
app3    perm2
app3    perm4 
```

我如何找到同时具有“perm1 和 perm6”的应用程序名称......？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T05:45:27.120

```
SELECT name
FROM tableName
WHERE   permissions IN ('perm1','perm6')
GROUP BY name
HAVING COUNT(*) = 2 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!2/59021/1)

或者

```
SELECT name
FROM tableName
WHERE   permissions IN ('perm1','perm6')
GROUP BY name
HAVING COUNT(DISTINCT permissions) = 2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T06:24:56.667

这是一种方法。

```
SELECT t.name
  FROM mytable t
 GROUP BY t.name
HAVING MAX(IFNULL(t.permissions,'')='perm1')
     + MAX(IFNULL(t.permissions,'')='perm6') = 2
 ORDER BY t.name 
```

我们正在使用 GROUP BY 和聚合函数，如果我们找到具有 'perm1' 的行，则 t.permissons='perm1' 返回 1，否则返回 0。（我们通过以下方式处理 NULL 的情况将 t.permissions 包装在 IFNULL 函数中。）

如果我们同时找到“perm1”和“perm6”，则 HAVING 谓词将评估为 TRUE，并且将返回该行。

* * *

另一种方法是使用 EXISTS 谓词运行相关子查询：

```
SELECT t.name
  FROM mytable t
 WHERE t.permissions = 'perm1'
   AND EXISTS 
       ( SELECT 1 
           FROM mytable s
          WHERE s.name = t.name
            AND s.permissions = 'perm6'
       )
 GROUP BY t.name
 ORDER BY t.name 
```

* * *

或等价物，使用 IN 谓词：

```
 SELECT t.name
   FROM mytable t
  WHERE t.permissions = 'perm1'
    AND t.name IN 
        ( SELECT s.name
            FROM mytable s
           WHERE s.permissions = 'perm6'
             AND s.name IS NOT NULL
           GROUP BY s.name
        )
  GROUP BY t.name
  ORDER BY t.name 
```

* * *

第四种方法是：

```
 SELECT t.name
   FROM mytable t
   JOIN mytable s
     ON t.name = s.name
    AND t.permissions = 'perm1'
    AND s.permissions = 'perm6'
  GROUP BY t.name
  ORDER BY t.name 
```

# python - py2exe：代码一旦转换就不会修改脚本

> ID：13926995
> 
> 赞同：1
> 
> 时间：2012-12-18T05:44:07.847
> 
> 标签：python, dictionary, py2exe

作为一个小项目，我创建了一个小聊天室。代码如下，我可以指出我是编程新手，因此结构可能效率不高：

```
import re, time
user_name = 0
password = 0
chatroom = 0

from users import users
def startup():
      global user_name, password, chatroom
      print "\n" * 100
      user_name = raw_input("Your username: ").upper()
      if users.has_key(str(user_name).lower()) == True:
            password = str(raw_input("Password: "))
            while str(users[user_name.lower()]) != str(password):
                  print "Incorrect password."
                  time.sleep(2)
                  startup()
            else:
                  chatroom = raw_input("Room name: ").lower()
                  chat()
      else:
            print "Invalid username."
            time.sleep(2)
            startup()

def showchat():
      global user_name
      file = open(str(chatroom) + ".txt","r+")
      messages = str(file.read()[-700:])
      file.close
      messages = messages.rstrip('\n')
      print "\n" * 40
      print messages
      print "------ type 'r' to refresh the screen ------"

def writechat():
      global user_name, chatroom
      n = raw_input("________________________________________________________" + "\n" + user_name + ": ")      
      if user_name.lower() == 'admin':
            if n == "clear":
                  file = open(str(chatroom) + ".txt","w")
                  file.write("")
                  file.close
            elif n == "addnewuser":
                  x = "'" + raw_input("new username: ") + "'"
                  y = "'" + raw_input("new password: ") + "'"
                  file = open("users.py","r").read()
                  file = file.replace("'username' : 'password',", x + " : " + y + "," + "'username' : 'password',")
                  open("users.py","w").write(file)
            elif n == "r":
                  chat()
            elif n == "logout":
                  startup()
            else:
                  file = open(str(chatroom) + ".txt","a")
                  file.write(user_name + ": " + str(n) + "\n")
                  file.close()
      else:
            if n == "r":
                  chat()
            elif n == "changepassword":
                  file = open("users.py","r")
                  file.read()
                  oldpass = raw_input("New password: ")
                  users[user_name.lower()] = oldpass
                  print users
                  file.close()
                  file = open("users.py","w")
                  file.write("users = " + str(users))         #here
                  file.close()
            elif n == "logout":
                  startup()
            else:
                  file = open(str(chatroom) + ".txt","a")
                  file.write(user_name + ": " + str(n) + "\n")
                  file.close()

def chat():
      showchat()
      writechat()
      chat()

startup() 
```

只要存在 chatroom.txt 文件以及 users.py，此代码在 python 中就可以正常工作。一旦我将它转换为.exe，就会出现问题，它工作正常，除了 users.py 文件没有被永久写入（它是暂时的），相关的编码被标记为#here。

我的设置代码如下：

```
from distutils.core import setup
import py2exe, sys, os

sys.argv.append('py2exe')

setup(
    options = {'py2exe' : {
'packages': ['users'],
"bundle_files" : 2,
}},
    console = [{'script': "chatroom.py"}],
    zipfile = None,
) 
```

users.py 只是（用户：密码）的字典：

```
users = {
'admin' : '2588619',
'john' : '1234',
'username' : 'password',
} 
```

那么如何将其转换为 .exe 并使其永久写入 users.py 呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T06:37:49.113

py2exe 创建的包只是一个包含 python 解释器和您的程序的自动提取存档。每次运行 .exe 时，其中的所有内容都会被提取到一个临时目录中，并且程序由提取的解释器运行。这意味着如果您将`users.py`源代码放在一起，您想要实现的目标根本不可能。

您应该在某个用户目录中创建一个`users.py`文件，例如：

```
users = open(os.path.join(os.path.expanduser('~'), '_MyProgram', 'users.py')) 
```

显然，您还应该确保该目录存在，并最终创建它。

这可以通过传递[`data_files`](http://www.py2exe.org/index.cgi/data_files)参数的 py2exe 自动完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T05:58:53.877

我认为它是以 users.py 的名义 py2exe 认为它是一个需要处理的文件。将其重命名为 users.db 或其他名称。看看这是否有效。

# silverlight - 程序集已从 Web 下载，即使它驻留在本地计算机上，它也会被 Windows 标记为 Web 文件

> ID：13926996
> 
> 赞同：0
> 
> 时间：2012-12-18T05:44:12.213
> 
> 标签：silverlight

我正在使用 MSBuild 命令构建一个 silvelright 项目。通过 Visual Studio 构建项目时，它工作正常，当我通过 MSBuild 命令构建时，出现错误

> 程序集是从网上下载的，即使它驻留在本地计算机上，它也会被 widnows 标记为 web 文件。这可能会阻止它在项目中使用。您可以通过更改文件属性来更改此名称。仅取消阻止您信任的程序集。[U:\reliability\Implementation\Honeywell.AM.UI\UX\Honeywell.AM.UI.Common\Honeywell.AM.UI.Common.csproj]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-06T08:31:36.077

你看过这个链接吗？

[http://www.mknopf.com/articles/error-this-assembly-may-have-been-downloaded-from-the-web.html](http://www.mknopf.com/articles/error-this-assembly-may-have-been-downloaded-from-the-web.html)

或这个？

[http://shenhengbin.wordpress.com/2012/04/06/this-assembly-may-have-been-downloaded-from-the-web/](http://shenhengbin.wordpress.com/2012/04/06/this-assembly-may-have-been-downloaded-from-the-web/) 对于我的情况，我把它放在我项目的配置文件中，而不是放在机器上按照此链接的建议进行配置。

谢谢。

# web-applications - 如何将 Webapp（在 jsp 中实现）转换为 Mobile Webapp

> ID：13926997
> 
> 赞同：1
> 
> 时间：2012-12-18T05:44:20.540
> 
> 标签：web-applications, mobile

我有一个在 JSP 中实现并托管在 tomcat 中的 webapp。

如何将其转换为移动应用程序并使其兼容以在小型移动设备上查看？

请推荐一个工具。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T10:16:36.130

您必须了解，对于在每台设备上运行的移动应用程序，它必须是客户端 Web 应用程序，因此只有 HTML、CSS 和 Javascript。如果你有，你可以让[http://build.phonegap.com](http://build.phonegap.com)从存储库中提取并为每个平台构建包。

如果你只想要 Android，我建议你看看这里：[http ://news.softpedia.com/news/Jetty-Servlet-Ported-to-Google-Android-81049.shtml](http://news.softpedia.com/news/Jetty-Servlet-Ported-to-Google-Android-81049.shtml)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:33:25.180

最简单的方法是让您的 Web 应用程序支持移动浏览器 - 目前最先进的技术是[响应式设计](http://en.wikipedia.org/wiki/Responsive_web_design)。

用户可以将指向您网站的链接添加到他们在移动设备上的主屏幕，这样就可以在不打开浏览器和记住 URL 的情况下使用它。这为您提供了最广泛的兼容性，但缺点是外观始终是“网站”，而不是“本机应用程序”；您也无法利用设备的本机功能。

如果你想要原生的外观和感觉，你必须构建原生应用程序；这些应用程序可以利用现有 JSP 应用程序公开的服务（当然，您必须构建这些服务）。

这为您提供了原生的外观和感觉，以及对设备功能的访问，但需要付出很大的努力。

最后，您可以使用Phonegap、calatrava 和Appcelerator 等混合工具；这些允许您“构建一次，在多个设备上部署”，通常使用 HTML 和 JavaScript - 但它们并非[没有问题](http://martinfowler.com/bliki/CrossPlatformMobile.html)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-31T19:25:07.453

简单的解决方案是向输出页面添加移动显示标签，例如“查看端口”。它对我有用。

金星

# ember.js - ember-data - 找不到记录 (404)

> ID：13926999
> 
> 赞同：2
> 
> 时间：2012-12-18T05:44:27.987
> 
> 标签：ember.js, ember-data

人们如何处理来自 ember-data 的 404 错误？

目前，rest-adapter 以这种方式处理错误：

```
 didError: function(store, type, record, xhr) {
    if (xhr.status === 422) {
      var data = JSON.parse(xhr.responseText);
      store.recordWasInvalid(record, data['errors']);
    } else {
      store.recordWasError(record);
    }
  }, 
```

我可以在尝试保存模型时判断模型是否无效，但我无法判断在执行查找或 findById 时是否找不到记录。

人们如何处理 404 错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T12:09:03.733

我所做的是在服务器中有 404 页面，实际上只有 JSON 字符串提到了错误。并在 Ember 中处理它们。可能有更好的方法，但这很容易，不会浪费你很多时间。

例如：

```
[{"msg":"Data Not Found"}] 
```

在 FindAll 或 Find 的 Adapter 方法中你有这样的

```
DS.Adapter.create({
    find: function(store, type, id) {
        var url = type.url;
        url = url.fmt(id);

        jQuery.getJSON(url, function(data) {
            // data is a Hash of key/value pairs. If your server returns a
            // root, simply do something like:
            // store.load(type, id, data.person)
            if(data.msg!=="Data Not Found")
                store.load(type, id, data);
        });
    }
}); 
```