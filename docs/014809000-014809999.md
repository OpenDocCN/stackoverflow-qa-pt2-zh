# StackOverflow 问答 14809000-14809999

# ios - 如何检测 UIWebView 中显示的本地 pdf 中的超链接

> ID：14809000
> 
> 赞同：0
> 
> 时间：2013-02-11T09:13:30.503
> 
> 标签：ios, objective-c, uiwebview, datadetectortypes

我正在`UIWebView`使用以下代码加载一个pdf文件：

```
NSString *path = [[NSBundle mainBundle] pathForResource:[NSString stringWithFormat:@"%@", pdfString] ofType:@"pdf"];
NSURL *url = [NSURL fileURLWithPath:path];
NSURLRequest *req = [NSURLRequest requestWithURL:url];
[webview loadRequest:req]; 
```

它工作正常。但我想启用 pdf 文件中的超链接（就像如何`UITextView`检测链接一样）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:18:47.990

用这个：

```
-(BOOL) webView:(UIWebView *)inWeb shouldStartLoadWithRequest:(NSURLRequest *)inRequest navigationType:(UIWebViewNavigationType)inType 
{
    if ( inType == UIWebViewNavigationTypeLinkClicked ) {
        [[UIApplication sharedApplication] openURL:[inRequest URL]];
        return NO;
    }
    return YES;
} 
```

# android - Viewpager 在向前水平方向以圆形方式导航片段

> ID：14809002
> 
> 赞同：0
> 
> 时间：2013-02-11T09:13:32.767
> 
> 标签：android, android-viewpager

嗨，我的问题是我有 6 个`frgments`，我正在使用`ViewPager`从一个页面导航到另一个页面，反之亦然。但我希望在第 6个之后`fragment`通过一次水平向前滑动以恢复到 1 `Fragment`。就像从**6->1**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T09:57:20.400

尝试在队列末尾再次添加第一个片段，当它加载时，使用 viewPager.setCurrentItem(0, false) 移动到第一个片段。

实际上，它并不总是有效。将此答案[ViewPager 称为循环队列/包装](https://stackoverflow.com/questions/7546224/viewpager-as-a-circular-queue-wrapping/9656874#9656874)，

我做了一个简单的例子看看：

```
public class MainActivity extends FragmentActivity  {

private static final int NUM_PAGES = 6;
private ViewPager pager;
private PagerAdapter pagerAdapter;
private List<SlideFragment> slideList;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    slideList = new ArrayList<SlideFragment>();
    for (int i = 0; i<NUM_PAGES; i++){
        SlideFragment slide = new SlideFragment();
        slide.setIndex(i+1);
        slideList.add(slide);
    }

    pager = (ViewPager) findViewById(R.id.pager);
    pagerAdapter = new ScreenSlidePagerAdapter(getSupportFragmentManager());
    pager.setAdapter(pagerAdapter);
}

private class ScreenSlidePagerAdapter extends FragmentStatePagerAdapter {

    public ScreenSlidePagerAdapter(FragmentManager fm) {
        super(fm);
    }

    @Override
    public Fragment getItem(int position) {
        int _pos = position % NUM_PAGES;
        return slideList.get(_pos);
    }

    @Override
    public int getCount() {
        return Integer.MAX_VALUE;
    }
}
} 
```

和`Fragment`班级：

```
public class SlideFragment extends Fragment {

private int index;

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
    ViewGroup root = (ViewGroup)inflater.inflate(R.layout.slide, container, false);
    TextView tw = (TextView) root.findViewById(R.id.textView);
    tw.setText(Integer.toString(index));
    return root;
}

public void setIndex(int index){
    this.index = index;
}
} 
```

# java - Rhino：如何从 JavaScript 调用的 Java 方法返回一个整数？

> ID：14809005
> 
> 赞同：5
> 
> 时间：2013-02-11T09:13:50.797
> 
> 标签：java, javascript, rhino

我想公开一个 Java 方法，以便它可以被任意脚本调用。然后脚本应该能够对返回值执行算术运算。

问题是，虽然暴露的方法返回一个 Java `Integer`，但脚本实际上并没有得到一个常规数字，而是一个`org.mozilla.javascript.NativeJavaObject`.

这是一些显示行为的简化测试代码：

```
public class RhinoTest
{
    public static void main(String[] args)
    {
        String script = "foo.getBar() + 1";
        Context context = Context.enter();
        ScriptableObject scriptableObject = context.initStandardObjects();
        ScriptableObject.putProperty(scriptableObject, "foo", new Foo());
        Object result = context.evaluateString(scriptableObject, script, "FooBar", 1, null);
        Context.exit();
        System.out.println(result);
    }

    public static class Foo
    {
        public Integer getBar()
        {
            return 9;
        }
    }
} 
```

预期的结果是`10`，但脚本返回`91`。

那么，我怎样才能使`getBar()`脚本内部发生的调用实际上返回一个常规的 Javascript 数据类型呢？请注意，我不想通过添加`unwrap()`调用`parseint()`等来更改脚本代码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T10:26:57.343

修改您的上下文[WrapFactory](http://www.jarvana.com/jarvana/view/org/mozilla/rhino/1.7R3/rhino-1.7R3-javadoc.jar!/org/mozilla/javascript/WrapFactory.html)：

```
context.getWrapFactory()
       .setJavaPrimitiveWrap(false); 
```

# android - 在 Runnable 和 Activity 之间共享数据

> ID：14809011
> 
> 赞同：0
> 
> 时间：2013-02-11T09:14:12.437
> 
> 标签：android, android-sqlite

在我的主要活动中，我启动了一个 AlarmManager。这个AlarmManager 的Intent 是一个扩展BroadcastReceiver 的类。现在，在这个 BroadcastReceiver 类中，我在方法中执行了一个 AsyncTask `onReceive()`。此 AsyncTask的`doInBackground()`方法调用启动 Runnable 的新实例的方法。在`run()`这个 Runnable 的方法中，我做了一些数据轮询并将数据保存到 SharedPreference 和/或 SQLiteDatabase。

回到我的主要活动中，我想知道这些已读取和保存的值。这适用于*某些*值。我使用 SharedPreferences 和/或 SQLiteDatabase 阅读。

我可以看到，当一个值更改时（轮询线程正在读取每 5 分钟更改一次的值，正确的值存储在数据库中，但是当我之后在主要活动中读取它时，我只会得到旧值。

这是我所做的一个例子：

我有一个名为 Util 的助手类。这是从`run()`方法中调用的：

```
Util.storeT1(db, <float value>); 
```

这是方法：

```
public static void storeT1(DBAdapter db, float value) {
    db.open();
    long id = 0;
    id = db.insertFloat("T1", value);
    if (id == -1) { // if error
    }
    db.close();     
} 
```

在主要活动中，我会：

```
float val = Util.getT1(db); 
```

这是方法：

```
public static float getT1(DBAdapter db) {
    float i = 0;
    db.open();
    Cursor c = db.get("T1");
    if (c.moveToFirst()) {
        do {
            i = c.getFloat(0);
        } while (c.moveToNext());
    }
    c.close();
    db.close();
    return i;
} 
```

在上面，`db`是我的 DBAdapter 类的一个实例，它是一个处理数据库的类。相关方法：

```
public Cursor get(String column) throws SQLException {
    Cursor mCursor = db.query(DATABASE_TABLE, new String[] { column },
            null, null, null, null, null);
    if (mCursor != null) {
        mCursor.moveToFirst();
    }
    return mCursor;
}

public long insertFloat(String key, Float value) {
    ContentValues initialValues = new ContentValues();
    initialValues.put(key, value);
    return db.insert(DATABASE_TABLE, null, initialValues);
} 
```

**那么**，如何在 Runnable 和我的 Activity 之间正确共享数据？我有一种感觉是因为多个线程，但我不知道如何解决这个问题。

**编辑：**

我应该提到，当我这样做时：

```
float val = Util.getT1(db); 
```

我得到的值是 0.0，而不是从 Runnable 中保存的值。

# asp.net-mvc - 在 mvc3 中显示带有 html5 地理位置的谷歌地图？

> ID：14809019
> 
> 赞同：0
> 
> 时间：2013-02-11T09:14:43.277
> 
> 标签：asp.net-mvc, html, google-maps, geolocation

我试图使用 html5 地理位置显示谷歌地图，代码工作正常是 jsfiddle，但在我的 mvc 应用程序中，地图没有显示..在下面发布代码..这是链接 [http://jsfiddle.net/PhzsR /62/](http://jsfiddle.net/PhzsR/62/)

```
@{
ViewBag.Title = "Home Page";
}

<h2>@ViewBag.Message</h2>

<div id="results"></div>

<div id="map"></div>
 <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
 <script type="text/javascript">
var $message_area = jQuery('#results');
jQuery(document).ready(function () {
$message_area.html('<i>Locating you...</i>  ');
if (navigator.geolocation) {

    navigator.geolocation.getCurrentPosition(

    function foundLocation(position) {
        $message_area.children().remove();

        var latitude = position.coords.latitude;
        var longitude = position.coords.longitude;
        var accuracy = position.coords.accuracy;

        var map;

        var centerPosition = new google.maps.LatLng(latitude, longitude);

        var options = {
            zoom: 12,
            center: centerPosition,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };

        map = new google.maps.Map($('#map')[0], options);

        var marker = new google.maps.Marker({
            position: centerPosition,
            map: map,
            icon: 'http://google-maps-icons.googlecode.com/files/sailboat-tourism.png'
        });

        var circle = new google.maps.Circle({
            center: centerPosition,
            radius: accuracy,
            map: map,
            fillColor: '#0000FF',
            fillOpacity: 0.5,
            strokeColor: '#0000FF',
            strokeOpacity: 1.0
        });

        map.fitBounds(circle.getBounds());

        $message_area.append('Your latitude: ' + latitude + ' and longitude: ' + longitude + ' and accuracy: ' + accuracy + ':')
    }, function (error) {
        switch (error.code) {
            case error.TIMEOUT:
                $message_area.append('Timeout error while finding your location');
                break;
            case error.POSITION_UNAVAILABLE:
                $message_area.append('Position unavailable error while finding your location');
                break;
            case error.PERMISSION_DENIED:
                $message_area.append('Permission denied error while finding your location');
                break;
            case error.UNKNOWN_ERROR:
                $message_area.append('Unknown error while finding your location');
                break;
        }
    });

}
});

</script> 
```

我需要添加任何参考来显示谷歌地图吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:23:40.810

如果您查看小提琴上的“管理资源”选项卡，您会得到对 Google Maps API 的引用，该引用不在您上面的代码中，请确保添加

```
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script> 
```

# email - 使用 Powershell 发送延迟消息传递和更改默认帐户

> ID：14809023
> 
> 赞同：1
> 
> 时间：2013-02-11T09:14:56.693
> 
> 标签：email, powershell, outlook

我使用 Outlook 2010 和 Powershell 2.0。

我想发送一条 Outlook 消息，并使用 Powershell 以编程方式延迟传递消息。

如何创建新的 Outlook 电子邮件并立即推迟发送？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T09:39:00.987

如果你试试这个：

```
$ol = New-Object -comObject Outlook.Application  
$mail = $ol.CreateItem(0)  
$mail | Get-Member 
```

您将获得邮件对象上所有可用方法/属性的列表。

一个属性是 DeferredDeliveryTime。你可以这样设置：

```
#Stay in the outbox until this date and time
$mail.DeferredDeliveryTime = "11/2/2013 10:50:00 AM" 
```

或者：

```
#Wait 10 minutes before sending mail
$date = Get-Date
$date = $date.AddMinutes(10)
$mail.DeferredDeliveryTime = $date 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-18T13:07:38.283

**解决方案：**

```
$ol = New-Object -comObject Outlook.Application 
$ns = $ol.GetNameSpace("MAPI")

# call the save method yo dave the email in the drafts folder
$mail = $ol.CreateItem(0)
$null = $Mail.Recipients.Add("xxxx@serverdomain.es")  
$Mail.Subject = "PS1 Script TestMail"  
$Mail.Body = "  Test Mail  "

$date = Get-Date
$date = $date.AddMinutes(2)
$Mail.DeferredDeliveryTime = $date #"2/11/2013 10:50:00 AM"

$Mail.save()

# get it back from drafts and update the body
$drafts = $ns.GetDefaultFolder($olFolderDrafts)
$draft = $drafts.Items | where {$_.subject -eq 'PS1 Script TestMail'}
$draft.body += "`n foo bar"
$draft.save()

$inspector = $draft.GetInspector  
$inspector.Display()

# send the message
$draft.Send() 
```

参考：

[使用 PowerShell 创建 Outlook 电子邮件草稿](https://stackoverflow.com/questions/1453723/create-outlook-email-draft-using-powershell)

[http://office.microsoft.com/en-us/outlook-help/delay-or-schedule-sending-email-messages-HP010355051.aspx](http://office.microsoft.com/en-us/outlook-help/delay-or-schedule-sending-email-messages-HP010355051.aspx)

**更新**

要更改默认帐户：

```
$Mail.SendUsingAccount = $ol.Session.Accounts | where {$_.DisplayName -eq $FromMail} 
```

参考： http:
[//msmvps.com/blogs/richardsiddaway/archive/2011/08/08/outlook-sending-emails.aspx](http://msmvps.com/blogs/richardsiddaway/archive/2011/08/08/outlook-sending-emails.aspx)
[Outlook 自动化 - 更改发件人帐户](https://stackoverflow.com/questions/201848/outlook-automation-change-sender-account)

# sql - 由于区分大小写的系统排序规则，SET LANGUAGE 失败

> ID：14809024
> 
> 赞同：0
> 
> 时间：2013-02-11T09:15:01.670
> 
> 标签：sql, sql-server, tsql

我有一个构建安装，它试图`SET LANGUAGE english`在我的 SQL Server 2008R2 实例上执行命令。

但是，SQL 排序规则（区分大小写）使它找不到`English`给出错误的现有语言别名：

```
SET LANGUAGE failed because 'english' is not an official language name or a language alias on this SQL Server. 
```

我根本无法更改安装:(

我该如何： 1\. 为=>
创建另一个别名。 2\. 将别名更改为 3\. 将服务器更改为不区分大小写以执行安装 `english``us_english`
`English``english`

！！为不同的排序规则重新构建实例，然后重新构建是一种避免的选项。！！

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T17:59:04.743

毕竟，影响它的不是区分大小写/不区分大小写......
我的排序规则设置在 HEBREW_CS_..

用 LATIN1_CS_.. 重建数据库，一切顺利。
英语和英语都被接受为语言:)

在“Adobe Connector”的支持论坛中找到了解决方案:)

家里没有其他人会在这上面浪费这么多时间:)

# android - 从日期选择器 onDateSet 获取长时间戳

> ID：14809027
> 
> 赞同：8
> 
> 时间：2013-02-11T09:15:15.433
> 
> 标签：android, datepicker, timestamp

```
@Override
public void onDateSet(DatePicker view, int year, int monthOfYear,
        int dayOfMonth) {

    dateET.setText(dayOfMonth + "/" + monthOfYear + "/" + year);
} 
```

我想避免用户将日期设置为当前日期。

那么，有没有办法我可以获得长时间戳（可能是日期集的上午 12:00），以便我可以将它与当前时间戳进行比较，如果它更小，日期将设置为默认值（当前日期 + 3 天）。

谢谢你

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-02-11T09:20:38.707

你必须自己做：

```
Calendar calendar = new GregorianCalendar(year, monthOfYear, dayOfMonth);
calendar.getTimeInMillis(); 
```

# php - 阻止 Flash 缓存但不阻止 cookie 被缓存

> ID：14809032
> 
> 赞同：0
> 
> 时间：2013-02-11T09:15:51.387
> 
> 标签：php, html, flash

我的闪光灯有问题

“Game.swf”无法缓存游戏，但它们旨在缓存 cookie。如果我不清除缓存会发生什么情况，我会得到旧版本的游戏，然后看到旧问题。

我需要阻止游戏缓存但不要阻止缓存 cookie。

我还在 html 中使用了元标记

```
 <meta http-equiv="cache-control" content="no-cache">
     <meta http-equiv="pragma" content="no-cache">
     <meta http-equiv="expires" content="-1"> 
```

任何解决方案。

**代码在这里**

```
<div class="obj">
        <script language="javascript">
      if (AC_FL_RunContent == 0) {
    alert("This page requires AC_RunActiveContent.js.");
      } else {
    AC_FL_RunContent(
        'codebase', 'http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0',
        'width', '900',
        'height', '675',
        'src', 'game',
        'quality', 'high',
        'pluginspage', 'http://www.macromedia.com/go/getflashplayer',
        'align', 'middle',
        'play', 'true',
        'loop', 'true',
        'scale', 'showall',
        'wmode', 'window',
        'devicefont', 'false',
        'id', 'game',
        'bgcolor', '#000000',
        'name', 'game',
        'menu', 'true',
        'allowFullScreen', 'false',
        'allowScriptAccess','always',
        'movie', 'game',
        'salign', ''
        ); //end AC code
       }
    </script>
    <noscript>
 <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="900" height="675" id="game" align="middle">
<param name="allowScriptAccess" value="always" />
<param name="allowFullScreen" value="false" />
<param name="movie" value="game.swf" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" />    
<embed src="game.swf" quality="high" bgcolor="#000000" width="900" height="675" name="game" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />
  </object>
   </noscript>
        </div> 
```

# antlr3 - ANTLR v3 解析领域特定语言

> ID：14809036
> 
> 赞同：1
> 
> 时间：2013-02-11T09:16:19.293
> 
> 标签：antlr3, abstract-syntax-tree

我有一种形式的脚本语言： `<keyword> = <text>,`

Where`<text>`可以包含关键字，有时`<text>`可以包含说明，具体取决于`<keyword>`使用的内容。

我正在尝试`<text>`根据使用的内容来处理`<keyword>`。

```
/* lang.g */
grammar lang;

/* parser rules */
script     : assignment+ ;

assignment : keyword VALUE ;

/* cannot do the following (but I would like to)

assignment : command | command_b | display ;
command    : COMMAND '=' /* parser rules for command */ ',' ;
command_b  : COMMAND_B '=' /* parser rules for command_b */ ',' ;
display    : DISPLAY '=' ~(',')+ ',' ;
*/

/* lexer rules */
VALUE      : '='! ~(',')+ ','!

COMMAND    : 'command' ;
COMMAND_B  : 'command_b' ;
DISPLAY    : 'display' ;

WS         : (' '|'\t'|'\r'|'\n')+ {$channel=HIDDEN;} ; 
```

示例输入文件：

```
command = goto->step_b,
display = this is some plain text. command keyword used,
command_b = read_file:"readme.txt", 
```

我希望能够使用 ANTLR 以不同的方式处理`command`和规则来解析所有内容，`command_b`而`display`无需使用目标语言来协助。使用上面的 *.g 文件；第一行有`command`和`goto->step_b`作为标记。 `goto->step_b`需要进一步解析，让 ANTLR 完成所有这些工作而不是目标语言会很好。

如果没有办法直接做到这一点，我想我会分两个阶段完成。

1.  使用上面的 *.g 文件来解析输入文件
2.  剔除除`command`和`command_b`节点之外的所有内容；仅使用为`command`和`command_b`语法定义的语法将这些节点馈送到另一个解析器。

有没有办法使用一个语法来解析脚本，这样我就可以处理`command``command_b`不同于任何其他规则的方式处理/规则？还是我必须分多个阶段处理脚本文件？

谢谢你的帮助。

乔什

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T21:18:20.583

在这里看看我的答案：

[antlr 标识符名称与预定义函数名称相同导致 MismatchedTokenException](https://stackoverflow.com/questions/14883587/antlr-identifier-name-same-as-pre-defined-function-name-cause-mismatchedtokenexc/15031790#15031790)

您可以使用消除歧义的语义谓词将这些规则排除在您的语法之外：

```
COMMAND    : 'command' ;
COMMAND_B  : 'command_b' ;
DISPLAY    : 'display' ; 
```

相反，您将编写如下规则：

```
functions_stats 
  :   {input.LT(1).getText().equals("command")}? '=' /* parser rules for command */ ',' ;  
  ; 
```

语义谓词中的操作是特定于语言的，因此可能会根据您的目标语言而有所不同。它适用于 Java，可能也适用于其他一些。

# javascript - requirejs：有没有办法设置几个地方来搜索 1 个资源

> ID：14809037
> 
> 赞同：1
> 
> 时间：2013-02-11T09:16:19.840
> 
> 标签：javascript, jquery, requirejs, amd

我需要在 .net MVC 中实现一些非常常见的视图解析算法，但需要使用 requirejs - 如果文件夹中不存在资源，请在共享文件夹中搜索它。

你知道requirejs是否可行？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:25:20.967

当然，您必须包含直接取自 requirejs 手册的 pathconfig 回退。

[http://requirejs.org/docs/api.html#pathsfallbacks](http://requirejs.org/docs/api.html#pathsfallbacks)

```
requirejs.config({
//To get timely, correct error triggers in IE, force a define/shim exports check.
enforceDefine: true,
paths: {
    jquery: [
        'http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min',
        //If the CDN location fails, load from this location
        'lib/jquery'
    ]
}
});

//Later
require(['jquery'], function ($) {
}); 
```

# jquery - 将类更改为标签之间 class="xy" 的标签

> ID：14809046
> 
> 赞同：1
> 
> 时间：2013-02-11T09:16:45.113
> 
> 标签：jquery, css, addclass

```
 $(document).ready(function(){
            $("dt").click(function(){
                    $("dl").nextUntil("dl").find("a.open").addClass("closed");
                    $("dd").hide("fast");
                    $(this).next("dd").slideToggle("fast");
                    $(this).children("a").toggleClass("closed open");
                    return false;
            });
    }); 
```

我想检查班级在哪里开放并将其更改为在 dl 标签之间关闭...我无法弄清楚这一点，我被困在这里...希望有人能给我一个提示或帮助我解决这个问题...下一个没有工作...

--> 如果打开颜色应该是白色 --> 关闭灰色

问题是，它一直是白色的，直到你再点击一次......我希望问题很清楚......

[http://jsfiddle.net/z85Lg/20/](http://jsfiddle.net/z85Lg/20/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:24:24.663

改变：

```
$("dl").nextUntil("dl").find("a.open").addClass("closed");
$(this).children("a").toggleClass("closed open"); 
```

到：

```
$("dl").find("a").removeClass('open');
$(this).children("a").addClass("open"); 
```

[http://jsfiddle.net/rV9D7/](http://jsfiddle.net/rV9D7/)

# xamarin.ios - Vici CoolStorage for MonoTouch 是否支持 UniqueIdentifier 键？

> ID：14809049
> 
> 赞同：2
> 
> 时间：2013-02-11T09:16:52.157
> 
> 标签：xamarin.ios, uniqueidentifier, coolstorage

一个这样声明的 sqlite 表：

```
CREATE TABLE Note(Id UNIQUEIDENTIFIER, Title TEXT) 
```

在 Windows 上被 Vici CoolStorage 正确读取，但在 MonoTouch 上，抛出以下异常：

`[ERROR] FATAL UNHANDLED EXCEPTION: System.InvalidCastException: Cannot cast from source type to destination type. at Vici.CoolStorage.CSDataProviderSQLite.GetSchemaColumns (System.String tableName) [0x00000] in <filename unknown>:0 at Vici.CoolStorage.CSSchema.CreateColumns () [0x00000] in <filename unknown>:0 at Vici.CoolStorage.CSSchema..ctor (System.Type objType) [0x00000] in <filename unknown>:0 at Vici.CoolStorage.CSSchema.Get (System.Type objectType) [0x00000] in <filename unknown>:0 at Vici.CoolStorage.CSList``1[Store.CoolStorage.Note]..ctor () [0x00000] in <filename unknown>:0`

看起来根据类型 ID 检测列的数据类型的代码没有处理 Vici 的 MonoTouch 的 CSDataProviderSqlite 中的 UNIQUEIDENTIFIER 类型：

来自 CSSqliteConnection.GetSchema：

```
switch (dbType) 
{
    case "TEXT": dataType = typeof(string); break;
    case "VARCHAR": dataType = typeof(string); break;
    case "INTEGER": dataType = typeof(int); break;
    case "BOOL": dataType = typeof(bool); break;
    case "DOUBLE": dataType = typeof(double); break;
    case "FLOAT": dataType = typeof(double); break;
    case "REAL": dataType = typeof(double); break;
    case "CHAR": dataType = typeof(string); break;
    case "BLOB": dataType = typeof(byte[]); break;
    case "NUMERIC": dataType = typeof(decimal); break;
    case "DATETIME": dataType = typeof(DateTime); break;
} 
```

这里没有 UNIQUEIDENTIFIER 的处理程序。这是 Vici CoolStorage 中的错误吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T13:14:15.587

我只想修改 Vici，因为看起来您可以访问源代码：

```
switch (dbType) 
{
    case "TEXT": dataType = typeof(string); break;
    case "VARCHAR": dataType = typeof(string); break;
    case "INTEGER": dataType = typeof(int); break;
    case "BOOL": dataType = typeof(bool); break;
    case "DOUBLE": dataType = typeof(double); break;
    case "FLOAT": dataType = typeof(double); break;
    case "REAL": dataType = typeof(double); break;
    case "CHAR": dataType = typeof(string); break;
    case "BLOB": dataType = typeof(byte[]); break;
    case "NUMERIC": dataType = typeof(decimal); break;
    case "DATETIME": dataType = typeof(DateTime); break;
    case "UNIQUEIDENTIFIER": dataType = typeof(Guid); break;
} 
```

如果除此之外还有更多要求，您将不得不尝试。除非没有尝试。使用来源，卢克。

# sql - Informix 数据库问题

> ID：14809051
> 
> 赞同：1
> 
> 时间：2013-02-11T09:16:59.717
> 
> 标签：sql, database, informix

我正在使用 informix，但无法在聚合函数中使用 CASE 语句。它总是抛出错误（-201：发生语法错误）。以下是我正在使用的查询。

```
select nvl(count(case when (ccd.contacttype =1 and ccd.contactdisposition =2) then (ccd.sessionid) else 0 end),'ELSED (att)') as calls 
from contactcalldetail ccd 
inner join agentconnectiondetail acd on ccd.sessionid=acd.sessionid 
```

你能解释什么是错的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T18:39:51.583

### Informix 11.70 允许在聚合中使用 CASE

以下 SQL 在 Mac OS X 10.7.5 上的 Informix 11.70.FC6（RHEL 5 上的 11.70.FC4）中适用于我：

```
CREATE TEMP TABLE contactcalldetail
(
    contacttype        INTEGER NOT NULL,
    contactdisposition INTEGER NOT NULL,
    sessionid          INTEGER NOT NULL
);
CREATE TEMP TABLE agentconnectiondetail
(
    sessionid INTEGER NOT NULL
);

SELECT NVL(COUNT(CASE
                 WHEN (ccd.contacttype = 1 AND ccd.contactdisposition = 2)
                 THEN (ccd.sessionid)
                 ELSE 0 END),
           'ELSED (att)') AS calls 
  FROM contactcalldetail ccd 
  JOIN agentconnectiondetail acd ON ccd.sessionid = acd.sessionid; 
```

### Informix 11.50 或更早版本不支持

由于它会为您生成 -201 语法错误，因此我们可以推断您使用的是旧版本的 Informix。这可能意味着您需要升级到更新版本的 Informix。（根据[Copilot](https://stackoverflow.com/users/1582019/copilot)评论中的信息，似乎 Informix 11.50 不支持该表示法；只有 11.70 支持。）

如果您使用的是 Informix 11.70，则需要准确记录您使用的版本以及运行它的平台。如果是11.70.xC[4-7]，那么我们可能有bug要追；如果较早，则可能是在您使用的版本发布后添加了支持。研究发行说明可能有助于理解这一点。我没有检查它什么时候第一次可用。

### COUNT 是否曾经返回 NULL？

我观察到我不认为在任何情况下 COUNT 返回 NULL。当然，对于空表，上述查询的以下变体的输出将为所有值返回零。因此，我认为 NVL 函数调用是不必要的。

```
SELECT NVL(COUNT(CASE
                 WHEN (ccd.contacttype = 1 AND ccd.contactdisposition = 2)
                 THEN (ccd.sessionid)
                 ELSE 0 END),
           'ELSED (att)') AS calls,
       COUNT(*) AS count1,
       COUNT(CASE
             WHEN (ccd.contacttype = 1 AND ccd.contactdisposition = 2)
             THEN (ccd.sessionid)
             ELSE 0 END) AS count2
  FROM contactcalldetail ccd 
  JOIN agentconnectiondetail acd ON ccd.sessionid = acd.sessionid; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T12:33:49.950

对我来说似乎是一个 IDS 错误。我尝试了类似的查询（嵌套在计数函数中的案例），这总是在“when”关键字上出现语法错误。但是，根据官方[文档](http://publib.boulder.ibm.com/infocenter/idshelp/v117/index.jsp?topic=/com.ibm.sqls.doc/ids_sqs_1583.htm)，这应该可行。

# php - mime_content_type() 函数未定义

> ID：14809054
> 
> 赞同：21
> 
> 时间：2013-02-11T09:17:15.197
> 
> 标签：php

我正在使用该`mime_content_type()`功能进行文件上传，它在本地主机上运行良好但是我在我的实时服务器上遇到以下错误：

> 致命错误：调用未定义函数 mime_content_type()

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2015-01-28T16:53:47.867

**更新**：

`mime_content_type()`不再被弃用，php7 现在已经支持这个功能。

*我的答案的早期版本：*

> `mime_content_type()`已弃用，可能是因为 [fileinfo][1] 可以为您提供有关文件的信息以及更多信息。
> 
> 您可以使用 finfo() 如下所示，
> 
> ```
> function _mime_content_type($filename) {
>     $result = new finfo();
> 
>     if (is_resource($result) === true) {
>         return $result->file($filename, FILEINFO_MIME_TYPE);
>     }
> 
>     return false;
> } 
> ```
> 
> 参考：[https ://stackoverflow.com/a/1263977/1161412](https://stackoverflow.com/a/1263977/1161412)
> 
> [1]： http: [//php.net/manual/en/class.finfo.php](http://php.net/manual/en/class.finfo.php)

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-02-11T09:33:28.163

您必须打开`mime_magic`扩展程序。检查您的 php.ini 并查看 phpinfo()。顺便说一下，这个功能已被弃用，因为 PECL 扩展[Fileinfo](http://www.php.net/manual/en/ref.fileinfo.php)以更简洁的方式提供了相同的功能（以及更多功能）。

> Windows 用户必须在 php.ini 中包含捆绑的 php_fileinfo.dll DLL 文件才能启用此扩展。
> 
> libmagic 库与 PHP 捆绑在一起，但包含 PHP 特定的更改。维护了一个名为 libmagic.patch 的针对 libmagic 的补丁，可以在 PHP 文件信息扩展源中找到该补丁。

[阅读更多](http://www.php.net/manual/en/fileinfo.installation.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-12-12T22:20:13.317

# PHP 8

1.  编辑您的`php.ini`文件并取消注释`extension=fileinfo`。

2.  重新启动您的 HTTP 服务器（例如 Apache）。

3.  `echo mime_content_type($path_absolute.$file);//Outputs: application/pdf`

# PHP 7

1.  编辑您的`php.ini`文件并取消注释`extension=php_fileinfo.dll`。

2.  重新启动您的 HTTP 服务器（例如 Apache）。

3.  `echo mime_content_type($path_absolute.$file);//Outputs: application/pdf`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-12-26T10:40:13.517

如果您在共享主机上，则可能未启用或未安装[*fileinfo* PHP 扩展。](https://www.php.net/manual/en/fileinfo.installation.php)

如果未启用，请导航到 CPanel 的[软件](https://cpanel.net)**部分**（如果您不使用 CPanel，请查阅控制面板的文档）并单击**选择 PHP 版本**（或与之相关的内容）并通过选中其框启用扩展并保存您的操作。

 **如果未安装，则该扩展将不会成为 PHP 扩展的一部分，如果您在 Windows上**`cPanel > Software > Select PHP Version > Extensions`**，请编辑您的`php.ini`文件并取消注释。`extension=php_fileinfo.dll`如果其中任何一个不起作用，请咨询您的托管服务提供商的文档。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2019-07-03T07:15:56.590

我将我的 php 版本从 7.1 更改为 5.6 它对我有用

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2018-02-13T11:23:36.590

可能缺少 \php\extras\magic.mime 文件。**

# android - Android - 在视频视图顶部切换相对布局

> ID：14809060
> 
> 赞同：0
> 
> 时间：2013-02-11T09:17:40.077
> 
> 标签：android, visibility, android-videoview

我正在尝试使用代码播放视频——下面的代码工作正常

```
 private VideoView mVideoView;

    mVideoView = (VideoView) findViewById(R.id.vvCarView360);
    mVideoView.setVideoPath(path);
    mVideoView.requestFocus();
    mVideoView.setOnTouchListener(this);
    mVideoView.start(); 
```

```
rlBottomBar = (RelativeLayout) findViewById(R.id.rlView360BottomBar); 
```

现在点击这个videoview我试图显示一个包含一些图标的栏。栏的布局如下 -
**编辑**：添加的完整 XML

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="wrap_content"
android:layout_height="wrap_content" >

<VideoView
    android:id="@+id/vvCarView360"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:focusable="true"
    android:focusableInTouchMode="true" />

<RelativeLayout
    android:id="@+id/rlView360BottomBar"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:visibility="invisible" >

    <ImageView
        android:id="@+id/ivView360Backbtn"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_centerVertical="true"
        android:layout_marginLeft="10dp"
        android:focusable="true"
        android:focusableInTouchMode="true" />

    <ImageView
        android:id="@+id/ivView360Playbtn"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_centerVertical="true"
        android:focusable="true"
        android:focusableInTouchMode="true" />

    <ImageView
        android:id="@+id/ivView360Homebtn"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_centerVertical="true"
        android:layout_marginRight="10dp"
        android:focusable="true"
        android:focusableInTouchMode="true" />
</RelativeLayout> 
```

ontouch 监听器 -

```
 @Override
public boolean onTouch(View v, MotionEvent event) {

    if (event.getAction() == MotionEvent.ACTION_UP) {

        switch (v.getId()) {

        case R.id.vvCarView360:
            if (mVideoView.isPlaying()) {

                mVideoView.pause();
            } else {

                mVideoView.start();
            }

            break;
        }
    }
    rlBottomBar.setVisibility(View.VISIBLE); **// This line not getting executed.**
    return true;
} 
```

我可以看到视频暂停/恢复。这意味着 on touch 监听器正在被执行。**不知道为什么底部栏不可见**。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:38:30.077

您必须使用 FrameLayout 来满足您的要求。最好使用消失而不是隐形。如下更改您的 xml 代码。

```
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<VideoView
    android:id="@+id/vvCarView360"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:focusable="true"
    android:focusableInTouchMode="true" />

<RelativeLayout
    android:id="@+id/rlView360BottomBar"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:visibility="gone" >

    <ImageView
        android:id="@+id/ivView360Backbtn"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_centerVertical="true"
        android:layout_marginLeft="10dp"
        android:focusable="true"
        android:focusableInTouchMode="true" />

    <ImageView
        android:id="@+id/ivView360Playbtn"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_centerVertical="true"
        android:focusable="true"
        android:focusableInTouchMode="true" />

    <ImageView
        android:id="@+id/ivView360Homebtn"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_centerVertical="true"
        android:layout_marginRight="10dp"
        android:focusable="true"
        android:focusableInTouchMode="true" />
</RelativeLayout>
</FrameLayout> 
```

# cakephp - cakephp 1.2 的多个复选框

> ID：14809061
> 
> 赞同：0
> 
> 时间：2013-02-11T09:17:42.090
> 
> 标签：cakephp, checkbox, cakephp-1.2

我有一个包含书籍列表的页面，每一行都有一个复选框。（我使用的是 cakephp 1.2）。
我想让用户保存多本书。
现在我的视图中有这个复选框（在一个循环中，我得到所有书籍的列表）：

```
<?php echo $form->input('salva', array('value' => $cdBiblio['CdBiblio']['codiceBiblio'], 'label' => '', 'type' => 'checkbox')); ?> 
```

这种形式：
`<?php echo $form->create('cd_biblios', array('action' => 'save')); ?>`

这个按钮：

```
<?php echo $form->end('Add All');?> 
```

在控制器中，我有这样的调试：

```
 debug($this->data);
    foreach($this->data['cd_biblios']['salva'] as $item) {
        debug($item);
    } 
```

但它不起作用。
我注意到它只需要列表的最后一本书 ID 和 debug($this->data); 如果我检查超过 1 本书，它会显示 0 或最后一本书的 ID，例如：

```
Array (
[cd_biblios] => Array
    (
        [salva] => 0
    ) ) 
```

已解决：
在视图中，我使用了 Danial 的代码。

在控制器中，我使用以下代码：

```
if(!empty($this->data)) {               
        $item=$this->data;
        debug($item);
        $dim=count($item['Model']['field']);
        $i=0;
        for ($i=0;$i<$dim;$i++)         
            if ($item['Model']['field'][$i]!=0)
            {
                $data = $this->Session->read('libri');
                $data[] = $item['Model']['field'][$i];
                $this->Session->write('libri', $data);
            }
        $this->Session->setFlash(__('I libri sono stati salvati', true));
        $this->redirect($this->referer());
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:46:16.663

在视图中：

```
<?php 
foreach($array as $each_elem) { 
echo $form->checkbox(
        'Model.field', 
        array(
              'id'=>'abcd_'.$each_elem['Model']['id'],
              'value' => $each_elem['Model']['id'],
              'hiddenField' => false,
              'name' => 'data[Model][field][]',
              'label' => false,
              'div' => false,
        ));
}
?> 
```

提交表单时，您将在控制器中获得选中的值`$this->request->data`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T10:13:23.587

你有受孕问题。

您的复选框必须在表单内，因为它们是输入标签。因此，要将这些值发送到控制器，您需要提交该表单。在您的代码中，我看到“全部添加”只是一个链接。并且链接不会提交表单。

将链接更改为按钮:)

希望这可以帮助

# html - 为什么输入的宽度会发生变化？

> ID：14809062
> 
> 赞同：0
> 
> 时间：2013-02-11T09:17:44.723
> 
> 标签：html, css, twitter-bootstrap

我正在使用 Bootstrap v2.1.1。我发现输入宽度有问题。

这是我的简单表格：

```
<form>
    <div class="controls-row">
        <div class="span3">
            <label class="control-label">A:</label>
            <div class="controls">
                <input type="text" class="span3"/>
            </div>                
        </div>
        <div class="span4">
            <label class="control-label">B:</label>
            <div class="controls">
                <input type="text" class="span4"/>
            </div>                
        </div>        
    </div>
    <div class="controls-row">
        <div class="span3">
            <label class="control-label">C:</label>
            <div class="controls">
                <select class="span3">
                    <option>1111111</option>
                    <option>2222222</option>
                    <option>3333333</option>
                </select>
            </div>                
        </div>
        <div class="span4">
            <label class="control-label">D:</label>
            <div class="controls">
                <input type="text" class="span4"/>
            </div>                
        </div>        
    </div>    
</form> 
```

使用此代码，选择具有不同的宽度，它`<input>`与**span3**类不同。

这很奇怪，因为如果我将 span3 放入并且（使用上面的代码）宽度是相等的。

有人能解释一下我如何使用引导**跨度设置相等的宽度***

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:51:49.183

根据 Bootstrap doumentation，在您的输入等上使用 span* 类应该可以工作。

[http://twitter.github.com/bootstrap/base-css.html#forms](http://twitter.github.com/bootstrap/base-css.html#forms)

我想知道它是否可能不起作用，因为您的表单布局好像它是一个带有“form-horizo​​ntal”类的表单，但您实际上并没有该类。

我不确定水平形式是否可以使用 span* 类来调整其输入元素的大小。

您可以尝试在您的元素上使用“输入块级”类，看看它是否适合您。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T18:10:09.967

Try adding "inline-block-level"

[http://twitter.github.com/bootstrap/base-css.html#forms](http://twitter.github.com/bootstrap/base-css.html#forms)

# java - 四核 CPU 上的 Java (log4j) 死锁。为什么要 300% 的 CPU？

> ID：14809068
> 
> 赞同：0
> 
> 时间：2013-02-11T09:18:06.883
> 
> 标签：java, tomcat, log4j, deadlock

我的 Tomcat 网站偶尔挂起。当我转储堆栈跟踪时，我看到多达 200 个这样的线程：

```
"TP-Processor200" daemon prio=10 tid=0x00007fddf062a800 nid=0x4bce waiting for monitor entry [0x00007fdd5020b000]
   java.lang.Thread.State: BLOCKED (on object monitor)
    at org.apache.log4j.Category.callAppenders(Category.java:204)
    - waiting to lock <0x00000007808d3a88> (a org.apache.log4j.spi.RootLogger)
    at org.apache.log4j.Category.forcedLog(Category.java:391) 
```

然后 java 进程正在消耗 300% 的 CPU。我期待看到三个线程处于 RUNNING 状态，但我没有找到。相反，我为每个处于 BLOCKED 状态的日志消息找到一个。

1.  为什么是 300% 的 CPU？这是一个 JVM 的东西，最多可以使用核心数 - 1 个线程吗？
2.  什么会导致死锁？我正在使用最新的 log4j.jar。该问题仅发生在 tomcat 6.0.35/java 1.6.0_31-b04 上，而不发生在 tomcat 6.0.18/java 1.6.0_17-b04 上

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:32:32.583

对我来说看起来不像死锁：应用程序完全利用了所有三个内核。此外，似乎应用程序在 log4j 中遇到了锁争用，因此大多数线程大部分时间都在等待 log4j appender 被当前使用它的线程释放。

# php - 如何从 mysql php 中检索数据并从下拉列表中显示在表中

> ID：14809070
> 
> 赞同：0
> 
> 时间：2013-02-11T09:18:08.467
> 
> 标签：php, mysql, drop-down-menu

嘿伙计们，我是 php 的新手。我面临的问题是我创建了一个下拉列表，该下拉列表使用此代码从数据库中的数据填充。这对我来说很好，它也在填充下拉列表

```
 include('connect.php');
    $query="select * from faculty";
    $result=mysql_query($query);
    while($row = mysql_fetch_assoc($result))
    {$dropdown.="\r\n<option value='{$row['Designation']}'>{$row['Designation']}      </option>";}
    echo "<select>".$dropdown."</select>"; 
```

我想要的解决方案是，当用户从下拉列表中选择一个值时，应该从数据库中检索结果并显示在表格中。请帮帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:26:05.113

你必须基本上：
1）当下拉选择（使用下拉事件的事件）发生变化时，执行一个表单发送到一些服务器端脚本（在你的情况下是PHP `onchange`）并从数据库中获取值，
2）告诉服务器端脚本吐出一个 html 字符串，其中包含包含所需信息的表
。3) 3) 在您的页面上输出字符串。

这将进行页面刷新。

如果您不想刷新页面，请使用 Ajax。PS 我建议使用一些框架，例如 jQuery，以防您需要使用 Ajax

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:46:59.787

你必须做的是这样的：

在您的 HTML 中：

```
<select onchange="fetchContent()">
    <option id="1_Designation">abcd</option>
    <option id="2_Designation">1234</option>
    <option id="3_Designation">lkjh</option> 
</select> 
```

在您的 javascript 中：

```
fetchContent()
{
    id = $(this).id;
    $.ajax({
      type: "POST",
      url: "/path/content.php?id="+id,
      success: function(response) {
         $("#tableRow").html(response);
      }
   });
} 
```

在 content.php 中，您必须获取 id 的值，然后进行必要的数据检索，然后返回数据。

```
$id = $_POST['id'];
//retrieve the data to $data
echo $data; 
```

# android - 如何在隐藏模式下使用闪屏启动活动

> ID：14809075
> 
> 赞同：0
> 
> 时间：2013-02-11T09:18:27.837
> 
> 标签：android, webview, screen, splash-screen

我有这个应用程序，它开始显示一个启动屏幕 3 秒，然后调用另一个活动来启动，它是一个 webview。

代码启动画面

```
package test.test;

import test.test.R;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.MotionEvent;

public class SplashScreen extends Activity {

int timer = 0;

@Override
   public void onCreate(Bundle savedInstanceState) {
      super.onCreate(savedInstanceState);
      setContentView(R.layout.activity_splash_screen);

      Thread splashThread = new Thread() {

      @Override
      public void run() {
            try {
               while (timer < 3000) {
                  sleep(100);
                  timer += 100;            
               }
            } catch (InterruptedException e) {
               // do nothing
            } finally {
               finish();
               Intent i = new Intent();
               i.setClassName("test.test","test.test.Mainmenu");
               startActivity(i);
            }
        }
      };
      splashThread.start();
   }
} 
```

代码 XML 飞溅

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:animateLayoutChanges="false"
    android:background="#57a11f" >

    <ImageView
        android:id="@+id/ImageView01"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerInParent="true"
        android:contentDescription="@string/image"
        android:src="@drawable/splash" />
</RelativeLayout> 
```

代码网页浏览

```
package test.test;

import test.test.R;

import android.app.Activity;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import android.os.Bundle;
import android.webkit.WebSettings;
import android.webkit.WebView;
import android.webkit.WebViewClient;

public class Mainmenu extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);
        setContentView(R.layout.activity_mainmenu);

        WebView webView = (WebView) findViewById(R.id.webview);
        webView.getSettings().setAppCacheMaxSize( 10 * 1024 * 1024 );
        webView.getSettings().setAppCachePath( getApplicationContext().getCacheDir().getAbsolutePath()+ "/cache" );
        webView.getSettings().setAllowFileAccess( true );
        webView.getSettings().setAppCacheEnabled( true );
        webView.setBackgroundColor(0x00000000);     
        webView.setWebViewClient(new WebViewClient());
        webView.getSettings().setJavaScriptEnabled( true );
        webView.getSettings().setDomStorageEnabled( true );
        webView.getSettings().setCacheMode( WebSettings.LOAD_DEFAULT );

        if ( !isNetworkAvailable() ) { 
            webView.getSettings().setCacheMode( WebSettings.LOAD_CACHE_ELSE_NETWORK );
        }

        webView.loadUrl( "http://www.google.com" );
    }

    private boolean isNetworkAvailable() {
        ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService( CONNECTIVITY_SERVICE );
        NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();
        return activeNetworkInfo != null;
    }   
} 
```

代码 WEBVIEW XML

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#57a11f"
    tools:context=".Mainmenu" >

    <WebView
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/webview"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:animateLayoutChanges="false" 
    />

</RelativeLayout> 
```

问题：当 splashcreen 调用 webview 活动时，它让我有一段时间的空白屏幕，是下载和呈现页面的时间。

我想要什么：我想知道如何同时启动启动画面和 webview，但隐藏 webview，以便它有 3 秒的时间在后台加载和呈现页面。

额外：我不是在寻找使用 onPageFinished 的解决方案，因为我真的希望启动画面保持 3 秒，顺便说一句，使用 onPageFinished 并不能避免将网页放在屏幕上所需的渲染时间。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T10:17:55.013

在同一个布局文件中使用 ImageView 和 WebView 并且最初将 webview 保持在 View.Gone 模式。

一旦你完成了屏幕显示，启用 WebView View.Viasible 和 ImageView View.Gone

```
Pseudocode :

Webview=View.Gone;
ImageView=View.VISIBLE;
WebView.loadURL="<some url>";
SplasScreen timer for 3 seconds;
WebView=View.VISIBLE;
ImageVIew=View.GONE; 
```

使用 RelativeLayout 或 FrameLayout

# java - 为什么一个参数重载了任意数量的参数版本的方法可以编译

> ID：14809076
> 
> 赞同：2
> 
> 时间：2013-02-11T09:18:36.560
> 
> 标签：java

为什么这个声明在编译时不被认为是模棱两可的？

```
void f(int a) {
    System.out.println("int");
}
void f(int... a) {
    System.out.println("int...");
} 
```

例如：

```
f(2);     // to one parameter both method should match (f(int) runs)
f(2,2);   // f(int...) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T09:20:49.417

我认为背后的 var-args 声明实际上是由编译器转换为数组的。因此以 var-args 作为参数的方法实际上如下所示：

```
void f(int[] a) {
    System.out.println("int...");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:35:47.800

```
void f(int... a) {
System.out.println("int..."); 
```

}

上述方法可以接受一个或多个值，并且该方法只包含一个参数，即

```
void f(int a) {
System.out.println("int"); 
```

} 也可以接受一个值。

# php - 从 shell 或 apache 服务器运行 PHP 脚本

> ID：14809079
> 
> 赞同：3
> 
> 时间：2013-02-11T09:18:50.197
> 
> 标签：php, mysql, apache, shell

我想知道是否可以从 shell 命令行执行 PHP 脚本。

如果从浏览器执行，从 shell 执行的脚本是否具有确切的功能？还是编码有区别。

从 shell 运行脚本以获得性能是否更好，从 windows 或 unix/linux 运行它是否更好

我问所有这些问题是因为，我想开发一个 PHP 脚本，它可以从 MySQL db 中列出的某些 url 的 http 标头中获取一些数据，然后将数据存储在数据库中。

你们能指出我正确的方向吗，我需要ubuntu，还是有可以从windows运行php的shell？我现在安装的只有 WAMP，它有 mysql、php 和 apache 服务器。

作为新手，我很抱歉。

谢谢你的帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T09:26:29.587

> 我想知道是否可以从 shell 命令行执行 PHP 脚本。

可以通过执行：

```
$ php -f your_script.php 
```

或者通过插入`#/usr/bin/env php`脚本的第一行并使其可执行。

```
$ head -n 1 your_sript.php
#/usr/bin/env php
$ chmod +x your_script.php
$ ./your_script.php 
```

*注意：*此示例仅适用于 UNIX 系统。

> 如果从浏览器执行，从 shell 执行的脚本是否具有确切的功能？还是编码有区别。

您可以使用相同的语法/函数等。唯一的区别是变量中有命令行参数`$argv`和其他一些值`$_SERVER`。

> 从 shell 运行脚本以获得性能是否更好，从 windows 或 unix/linux 运行它是否更好。

这并不重要。对于您的用例，您实际上并不需要网络服务器和功能齐全的 GUI。拥有命令行工具的好处是，您可以将您的程序与其他可用程序（例如`grep`等）结合起来。

> 你们能指出我正确的方向吗，我需要ubuntu，还是有可以从windows运行php的shell？

你不需要ubuntu，你也可以从windows执行一个shell脚本。PHP 可执行文件位于`%PATH%`. 这个问题将帮助您做到这一点：[https ://superuser.com/questions/284342/what-are-path-and-other-environment-variables-and-how-can-i-set-or-use -他们](https://superuser.com/questions/284342/what-are-path-and-other-environment-variables-and-how-can-i-set-or-use-them)

然后只需使用打开`cmd.exe`并执行脚本`php -f your_script.php`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-11T09:26:47.157

> 我想知道是否可以从 shell 命令行执行 PHP 脚本。

是的

> 如果从浏览器执行，从 shell 执行的脚本是否具有确切的功能？还是编码有区别。

它不会`$_REQUEST`填充好友，`$_SERVER`也不会包含*服务器*信息。

> 从 shell 运行脚本以提高性能是否更好

也许。它避免了运行网络服务器的开销。它会阻止您在内存中缓存版本以便更快地重新执行。

> 从windows或unix/linux运行它更好吗

对其进行基准测试。

> 我问所有这些问题是因为，我想开发一个 PHP 脚本，它可以从 MySQL db 中列出的某些 url 的 http 标头中获取一些数据，然后将数据存储在数据库中。

似乎不需要为此使用 Web 服务器。

> 你们能指出我正确的方向吗，我需要ubuntu，还是有可以从windows运行php的shell？

标准的 Windows shell 可以。

> 我现在安装的只有 WAMP，它有 mysql、php 和 apache 服务器。

您将需要 PHP 的命令行版本。我不知道 WAMP 是否包含它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T09:24:03.420

是的，[PHP 可以从命令行运行](https://stackoverflow.com/questions/13761915/call-a-php-function-from-the-command-line/13761957#13761957)。

不，编码没有任何差异。

唯一的区别是运行脚本的不是 Apache，而是您当前登录的用户。这可能意味着某些地图和文件夹的不同权限。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-11T09:24:21.500

是的，您可以使用以下命令从命令行执行 PHP：

```
/path/to/php.exe /path/to/script.php 
```

主要区别在于它不通过 Apache 运行，所以你不会有依赖它的东西（比如一些`$_SERVER`数据）。

此外，它不会受到命令行超时的影响，除非您设置了 PHP 限制。

查看[http://php.net/manual/en/features.commandline.php](http://php.net/manual/en/features.commandline.php)了解更多信息。

# python - 从 numpy 数组写入 ascii 输出

> ID：14809080
> 
> 赞同：1
> 
> 时间：2013-02-11T09:18:52.870
> 
> 标签：python, numpy, io, ascii

我想将一些随机数写入 ascii 输出文件。我用numpy生成数字，所以数字存储在`numpy.array`

```
import numpy as np
random1=np.random.uniform(-1.2,1.2,7e6)
random2=...
random3=... 
```

所有三个数组的大小相同。我使用标准文件输出，但这真的很慢。每 30 分钟大约 8000 行。这可能是因为我循环了三个大数组。

```
fout1 = open("output.dat","w")

for i in range(len(random1)):
  fout1.write(str(random1[i])+"\t"+ str(random2[i])+"\t"+ str(random3[i])+"\n")
fout1.close() 
```

我也只是使用`print str(random1[i])+"\t"+ str(random2[i])+"\t"+ str(random3[i])`并转储了文件中的所有内容`./myprog.py > output.dat`这似乎有点快，但我仍然对输出速度不满意。

任何建议都非常受欢迎。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T09:26:12.103

你有没有尝试过

```
random = np.vstack((random1, random2, random3)).T
random.savetxt("output.dat", delimiter="\t") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:24:59.630

我猜磁盘 io 是你正在做的最昂贵的操作。你可以尝试创建自己的缓冲区来处理这个问题，而不是把每个循环缓冲区的每一行都写成 100 行并将它们写在一个大块中。然后对此进行试验，看看最有益的缓冲区大小是多少

# apache - SVN 和 LDAP 的 Apache URL 变量

> ID：14809084
> 
> 赞同：2
> 
> 时间：2013-02-11T09:19:03.073
> 
> 标签：apache, svn, setenv

这更多的是与 Apache 如何处理变量和 SetEnvIf 指令有关的问题。我有一个位于[http://test.net/svn](http://test.net/svn)的 Subversion 服务器，SVN 配置如下：

```
<Location /svn>
    DAV svn
    SVNParentPath /path/to/repo/base
    AuthzSVNAccessFile /path/to/access
    AuthName "LDAP Auth"
    AuthBasicProvider ldap
    AuthType Basic
    AuthzLDAPAuthoritative off
    AuthLDAPURL "ldap://172.20.20.20:389/dc=test,dc=net?uid" NONE
    AuthLDAPBindDN "cn=svn,ou=system,dc=test,dc=net"
    AuthLDAPBindPassword secret
    Require valid-user
</Location> 
```

在“/path/to/repo/base”中，我有大约 80 个存储库，每个存储库都可以通过[http://test.net/svn/repo-name](http://test.net/svn/repo-name)访问。这一 Apache 配置使用“/path/to/access 文件”处理所有存储库的身份验证。

将来，我将使用 LDAP 组进行授权。但是，我**不想**为每个存储库创建单独的 Apache 配置。基本上，我想使用请求 URI 为存储库名称设置一个变量。例如，我访问[http://test.net/svn/repo-name/path/to/file.txt](http://test.net/svn/repo-name/path/to/file.txt)并且 Apache 知道“repo-name”是变量。

像这样的东西（语法不正确，只是伪代码）：

```
SetEnvIf Request_URI "http://test.net/svn/$1/.*" repo-name=$1
...
...
Require ldap-group cn=$repo-name,ou=system,dc=test,dc=net 
```

# mysql - mysql 查询 select * from table where image!='' order by date and with different upload user

> ID：14809086
> 
> 赞同：-1
> 
> 时间：2013-02-11T09:19:05.820
> 
> 标签：mysql

我想做一些 mysql 查询，按日期查询 5 个图像顺序，但来自 5 个不同的上传用户。

mysql数据表结构：`id, user_id, image, text, date`

```
SELECT *
FROM mytable
WHERE image!=''
GROUP BY user_id
ORDER BY date DESC 
LIMIT 5 
```

但这`GROUP BY`总是导致获取`user_id`较早的上传图片然后制作`ORDER BY date DESC`，我需要由 5 个不同用户上传的新鲜 5 张图片。也许应该使用一些`UNION`，寻求帮助，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:29:55.950

试试这个查询

```
SELECT *
FROM temp
WHERE image!=''
GROUP BY user_id
HAVING date=max(date)
LIMIT 5 
```

不确定，`mysql`但这适用于`sybase`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:37:43.173

将 INNER JOIN 与 MAX 一起使用

```
SELECT 
  mytable.* 
FROM
  mytable 
  INNER JOIN 
    (SELECT MAX(id) AS ID, id FROM mytable GROUP BY user_id) AS m 
    ON m.id = mytable.id 
WHERE image != '' 
GROUP BY user_id 
ORDER BY DATE DESC 
LIMIT 5 
```

这将获取 max(latest) id 并将其集成到外部选择

# android - 共享首选项不是由程序创建的

> ID：14809087
> 
> 赞同：0
> 
> 时间：2013-02-11T09:19:08.283
> 
> 标签：android, sharedpreferences

在下面的程序中，我想做的是：我想在共享偏好中存储一个名称列表

当应用程序第一次启动时，它应该创建一个名为“profile_names”的共享首选项

随后，当应用程序下次启动时，它应该检查 sharedpreferences 是否存在，如果它存在应该从首选项中获取列表并将其提供给列表视图。

但它不起作用.....我哪里出错了？

```
 public void onCreate(Bundle savedInstanceState){
    super.onCreate(savedInstanceState);
    setContentView(R.layout.profilespage);

File f= new File("/data/data/neeraj.cardXchange.Basic/shared_prefs/profile_names");

if(f.exists()){
    Toast.makeText(this, "prefernce already created", Toast.LENGTH_LONG).show();

    profile_names= getSharedPreferences("profile_names", MODE_WORLD_READABLE);
        try {
            myarraylist = getArrayList(mycontext, key);
        } catch (JSONException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

    }

else{

         Toast.makeText(this, "prefernce  created now", Toast.LENGTH_LONG).show();
         profile_names= getSharedPreferences("profile_names", MODE_WORLD_READABLE);

        }

String [] name_list = myarraylist.toArray(new String[myarraylist.size()]);
ArrayAdapter adapter = new ArrayAdapter <String>(this, R.layout.textview, name_list);
setListAdapter(adapter);

    } 
```

在这里，我使用 toast 消息来检查每次执行来自“else”的 toast 消息并且未创建共享首选项时事情如何进行，我已经使用 DDMS 检查了它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:48:04.487

您必须提交创建的共享首选项，首先您将值存储在共享首选项中，然后提交它，以便我可以保留可用于其他活动的值。这是创建和访问共享首选项的小示例

去创造：

```
 SharedPreferences prefs = getSharedPreferences("UMSPreferences",MODE_PRIVATE);
                    SharedPreferences.Editor editor = prefs.edit();
                    editor.putString("UserId", login);  
                    editor.putString("password", password);
                    editor.commit(); 
```

访问

```
String userid = getSharedPreferences("UMSPreferences",MODE_PRIVATE).getString("UserId", login);
            String paswrd = getSharedPreferences("UMSPreferences",MODE_PRIVATE).getString("password", password); 
```

# android - 在android中将double转换为byteArray

> ID：14809088
> 
> 赞同：0
> 
> 时间：2013-02-11T09:19:12.920
> 
> 标签：android, parsing, double, bytearray, transform

我有一个网络服务，可以让我得到一个双人列表。现在我将该列表转换为字符串列表。然后我会通过下拉菜单调用警报。在此之后，我必须从下拉列表中获取值，将其转换为字节数组。这就是我尝试的方式：

```
float range_m = Float.parseFloat((String) range.getSelectedItem());
            System.out.println("range_m: "+ range_m);
            //                int pos = range.getSelectedItemPosition();
            //                String range_m = list.get(pos).replace(".", ",");
            //                configuration.powerLevel = Byte.valueOf(range_m);
            configuration.powerLevel = Byte.valueOf((String) range.getSelectedItem()); 
```

问题是我收到以下错误：

```
02-11 11:10:11.170: E/AndroidRuntime(14154): java.lang.NumberFormatException: Invalid int: "3.0"
02-11 11:10:11.170: E/AndroidRuntime(14154):    at java.lang.Integer.invalidInt(Integer.java:129)
02-11 11:10:11.170: E/AndroidRuntime(14154):    at java.lang.Integer.parse(Integer.java:366)
02-11 11:10:11.170: E/AndroidRuntime(14154):    at java.lang.Integer.parseInt(Integer.java:357)
02-11 11:10:11.170: E/AndroidRuntime(14154):    at java.lang.Byte.parseByte(Byte.java:203)
02-11 11:10:11.170: E/AndroidRuntime(14154):    at java.lang.Byte.parseByte(Byte.java:184)
02-11 11:10:11.170: E/AndroidRuntime(14154):    at java.lang.Byte.valueOf(Byte.java:245) 
```

我能做些什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:22:14.963

你可能应该做

```
(byte)Double.valueOf (range.getSelectedItem ().toString ()) 
```

代替

```
Byte.valueOf((String) range.getSelectedItem()) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:27:37.453

将 String 转换为 double，然后转换为数字原始数据类型。我可以建议一一进行转换吗？

```
Double dObject = Double.parseDouble(String s);
byte bOutput = dObject.byteValue(); 
```

# ios - 无法符号化崩溃日志

> ID：14809090
> 
> 赞同：0
> 
> 时间：2013-02-11T09:19:23.183
> 
> 标签：ios, crash-reports, symbolicatecrash

我在符号化我的崩溃日志时遇到了一些问题。
我遵循了 naveenshan 在[此](https://stackoverflow.com/questions/1460892/symbolicating-iphone-app-crash-reports)线程中回答的所有步骤。
但是一旦我执行了这条线

`atos -arch armv7 -o 'app name.app'/'app name' 0x0003b508`,

它只是让我在控制台上返回地址 0x0003b508。

我无法弄清楚为什么它不象征我的崩溃日志。

我什至尝试通过将崩溃日志拖放到 xcode 中的设备日志中来进行符号化。但即使这样似乎也行不通。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T11:02:39.237

您必须具有在安装在设备上的构建过程中生成的确切 dSYM 并生成崩溃报告。

请按照此答案中解释的步骤操作（即使原始问题不一样，这些步骤也有助于确定您是否拥有正确的 dSYM）：[Symbolicate Crash Log when App Name Contains Apostrophe and Space (Deployed App)](https://stackoverflow.com/questions/13650516/symbolicate-crash-log-when-app-name-contains-apostrophe-and-space-deployed-app/13660458#13660458)

执行与`atos`您发布的行，很可能不会返回任何有用的信息，因为作为参数给出的地址不必存在于您的应用程序中。您必须使用从崩溃报告中获取并正确计算的正确地址，如下所述：[iOS 崩溃报告：atos not working as expected](https://stackoverflow.com/questions/13574933/ios-crash-reports-atos-not-working-as-expected/13576028#13576028)

最好的方法是按照第一个链接帖子中的步骤进行操作。

# jquery - 选择所有 html，包括包装器 div

> ID：14809095
> 
> 赞同：5
> 
> 时间：2013-02-11T09:19:42.013
> 
> 标签：jquery

我正在尝试使用 jquery 选择一个 div 及其内容。

div 看起来像这样：

```
 <div class="fav-list" id="149656222">
  <ul>
    <li>hai</li>
    <li>hooy</li>
  </ul>
</div> 
```

和我的代码

```
 alert($('#149656222').html()); 
```

这仅显示这么多：

```
<ul>
    <li>hai</li>
    <li>hooy</li>
  </ul> 
```

我需要选择整个 div，为此我需要做什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-11T09:20:16.897

您可以使用外层HTML

**[现场演示](http://jsfiddle.net/rajaadil/ghQHj/1/)**

```
alert($('#149656222')[0].outerHTML); 
```

或者你可以使用 jQuery 来获得跨浏览器的好处

**[现场演示](http://jsfiddle.net/rajaadil/ghQHj/2/)**

```
alert($('<div></div>').append($('#149656222').clone()).html()); 
```

# javascript - Magento 定制产品设计

> ID：14809096
> 
> 赞同：0
> 
> 时间：2013-02-11T09:19:41.913
> 
> 标签：javascript, jquery, html, magento

我有一家 magento 商店，我们希望客户在那里设计自己的家具。有没有一种方法，每当他选择纹理或颜色时，都会向服务器发送一个请求，该请求返回大约 8 张图像（每张代表家具的一部分）以显示完整图像并获得 360 度视图？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:51:57.700

Magento 没有开箱即用的此类功能，因此您必须自己编写。

您可以使用[WebGL](http://en.wikipedia.org/wiki/WebGL)进行 3D 画布渲染，但 IE 不支持 WebGL，正如您从[这个](http://caniuse.com/webgl)兼容性矩阵中看到的那样。

您还应该看看[这个](https://stackoverflow.com/questions/380316/what-is-the-best-online-resource-for-3d-rendering-in-javascript)SO question - 接受的答案包含一个 3D 渲染示例列表（至少其中一些也可以在 IE 中工作）。

您还必须实现一个控制器，该控制器将通过 ajax 调用并将用于渲染的图像发送回页面。

# ruby-on-rails-3 - 布尔方法的更好方法

> ID：14809100
> 
> 赞同：-1
> 
> 时间：2013-02-11T09:20:06.450
> 
> 标签：ruby-on-rails-3

我们可以有一个布尔函数，这样我们就不需要使用'！' 假设我有一个布尔函数 has_done_something？并且我只想在用户没有执行该操作的情况下执行另一个操作，所以我可以通过 !has_done_something? 或者通过编写函数 has_not_done_something？. 只是猜测 Rails 是否提供某种方式（或应该提供此功能）？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-11T09:46:08.627

不，目的不同。感叹号意味着很多东西，它以危险而闻名。没有什么比它更好的选择了。这是为了表明你正在做的事情是不同的。

在 Ruby 中，您可以编写名称以 ! 结尾的方法。（感叹号或“砰”的一声）。

在标准方法中，它通常用于表示导致对象自身发生变异的方法，但并非总是如此。

当我说`mutate itself`时，这意味着即使您没有在其内部分配它，对象本身也会发生变化。

一个很好的例子是在 Java 中有`String`和`StringBuffer/StringBuilder`。

`StringBuffer/StringBuilder`对象是可变的。

同样的事情也发生在这里。

那么什么是**foo.downcase！和 foo.downcase**

`foo.downcase!`会将对象本身修改为小写，而`foo`无需分配给任何其他对象。

`foo.downcase`不会修改对象，除非它被分配给某个对象，例如：bar **= foo.downcase**

所以在你的代码中当你想做一些危险的事情时使用它，特别是当存在两个同名的方法并且其中一个比另一个更“危险”时。“危险”几乎可以意味着任何东西。

检查[bang-methods-or-danger-will-rubyist](http://dablog.rubypal.com/2007/8/15/bang-methods-or-danger-will-rubyist)

# c# - 我如何使用 gmail/yahoo 的 smtp

> ID：14809109
> 
> 赞同：0
> 
> 时间：2013-02-11T09:20:34.983
> 
> 标签：c#, asp.net, smtpclient

我想知道如何从我的电脑发送 emai 我没有任何服务器来测试我的代码，我想我可以使用 google/yahoo smtp 但我不知道如何使用它们。我想知道我是否使用google/yahoo smtp 那么我可以向每个人发送电子邮件吗？而且我不知道我应该在 sc.Credentials = new NetworkCredential(username,password); 我将我在 web.config 文件中定义的管理员用户名和密码放在凭据标记中，这是我的代码：

```
 protected void SendMail(string ma,DataRow dataRow)
{
    try
    {
        string from = "myEmail@yahoo.com";
        string subject = "forgotten password";
        string body = "name: " + dataRow["user_name"].ToString() + "<br/>" + "familly : " + dataRow["user_familly"].ToString() + "<br/>" + "password : " + dataRow["user_password"].ToString();
        System.Net.Mail.MailMessage mail = new System.Net.Mail.MailMessage(from, ma, subject, body);
        mail.IsBodyHtml = false;

        System.Net.Mail.SmtpClient sc = new System.Net.Mail.SmtpClient();

        sc.Port = 587;
        sc.Host = "smtp.mail.yahoo.com";// "smtp.gmail.com";

        sc.EnableSsl = false;
        sc.Send(mail);

        Label1.ForeColor = System.Drawing.Color.Blue;
        Label1.Text = "your password sent";
    }
    catch (Exception e)
    {

        Label1.Text = e.ToString();
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:42:35.737

这是我使用的，它对我有用，把它放在你的网络配置中：

```
<system.net>
<mailSettings>
  <smtp from="FromEmailAddress">
    <network host="smtp.gmail.com" password="YourPassword" port="587" enableSsl="true" 
      userName="YourEmailAddress" />
  </smtp>
</mailSettings> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-11T09:25:20.747

我可以通过代码从您的 PC 从 Yahoo/Gmail 发送电子邮件吗？

**是的**

我不知道我应该在 sc.Credentials = new NetworkCredential(username,password);

**您必须使用您的 GMail/Yahoo 用户名和密码。通过 GMail 发送时，您必须启用 SSL。**

请检查相关问题以获取更多代码和解释。

# php - 带有多个附件的php邮件功能

> ID：14809115
> 
> 赞同：1
> 
> 时间：2013-02-11T09:21:07.567
> 
> 标签：php, phpmailer

我有一个具有价值的表格`count`。我想发送带有附件的邮件，附件是`count`值的多次。实际上我想通过`if`声明发送附件检查一些因素，所以我该怎么做，请任何人帮助我吗？我的代码在这里：

```
<?php
echo $count;
require_once 'session.php';
require_once('class.phpmailer.php');
$mail = new PHPMailer(); // defaults to using php "mail()"
$body = file_get_contents('mail.html');
$body = eregi_replace("[\]",'',$body);
$mail->AddReplyTo("lipsa.auroin@gmail.com","First Last");
$mail->SetFrom('lipsa.auroin@gmail.com', 'First Last');
$mail->AddReplyTo("lipsa.auroin@gmail.com","First Last");
$email=$_POST['email2'];
$addresses = explode(',', $email);
foreach ($addresses as $address){
    $address = trim($address);
    $mail->AddAddress($address);
}
$mail->Subject = "PHPMailer Test Subject via mail(), basic";
$mail->AltBody    = "To view the message, please use an HTML compatible email viewer!";
$mail->MsgHTML($body);
$mail->AddAttachment("pdf/report.pdf");
$mail->AddAttachment("pdf/template.pdf");
if(!$mail->Send()) {
    echo "Mailer Error: " . $mail->ErrorInfo;
}
else {
    echo "Message sent!";
}
?> 
```

我的`count`变量值从 1 到 n

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:41:09.223

附件存储在哪里？抱歉，我在您的代码中找不到它。你为什么不把它们放在一个数组中然后循环它们呢？

就像是：

```
foreach($attachments as $attachment){
  $mail->AddAttachment($attachment);
} 
```

如果这不是您需要知道的，请告诉我更多有关此附件存储位置的信息，我会进一步提供帮助。

# node.js - 调试节点，是什么让它保持运行？

> ID：14809120
> 
> 赞同：7
> 
> 时间：2013-02-11T09:21:22.197
> 
> 标签：node.js

我有一个为 Node.Js 编写的脚本，它收集大量数据、处理它、保存然后完成。不幸的是，我所做的事情是阻止脚本完成和节点关闭，而是保持打开状态。

我可能只是通过我所做的更改并尝试追踪它，但是......是否有一种简单的方法来调试节点并找出它的代码/事件/回调/连接或其他什么等待？

我看过 node-inspector 但我不知道如何追踪任何保持它打开的东西。有什么建议吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2016-07-24T12:21:19.553

[您可以使用wtfnode](https://www.npmjs.com/package/wtfnode)运行您的 node.js 程序，或者`require('wtfnode').init();`在第一行或您的程序中添加。`ctrl`然后，当您按+`c`终止进程时，它将打印保持节点打开的所有事物的列表。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-11T15:05:40.967

当我发生这种情况时，通常是 mongodb、amqp 等。即数据库连接、网络连接。确保在完成处理后关闭它们。

我想你可以使用`lsof -p <PID>`看看它说了什么。我可以在那里看到 mongodb 和 amqp。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-11-18T14:25:27.180

在您希望它关闭的地方添加

```
console.log(process._getActiveHandles()); 
```

您还可以添加处理程序

```
process.on('SIGINT', () => console.log(process._getActiveHandles()) ); 
```

所以如果节点没有正确关闭，Ctrl + C 会告诉你原因。

# mysql - 如何在 MySQL 中将数字与单词连接起来？

> ID：14809122
> 
> 赞同：1
> 
> 时间：2013-02-11T09:21:31.880
> 
> 标签：mysql, sql, function, casting

如何在 MySQL 中将数字与单词连接起来？

我希望结果类似于“2013good”，但下面的查询只返回“2013”

我试过这些：

```
SELECT (CAST(2013 as char(100)) + 'good' ) as title;

SELECT (CAST(2013 + 'good' as char(100))) as title; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T09:22:44.387

采用`CONCAT`

```
SELECT CONCAT(2013, 'good') as title; 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/d41d8/7263)

或者`CONCAT_WS`

```
SELECT CONCAT_WS(',', 2013, 'good') as title; 
```

*   [MySQL 连接](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_concat)
*   [MySQL CONCAT_WS](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_concat-ws)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T09:23:13.353

您可以使用[CONCAT](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_concat)功能：

```
SELECT CONCAT(2013, 'good') as title; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T09:24:37.407

您使用的是哪个 sql 服务器？如果不是 MS SQL 2012 - CONCAT 函数将不起作用。

尝试使用这个：

```
SELECT (CAST(2013 as VARCHAR(255)) + 'good' ) as title; 
```

# typo3 - 将外部 XML 文件插入 templavoila DS？

> ID：14809131
> 
> 赞同：0
> 
> 时间：2013-02-11T09:22:28.927
> 
> 标签：typo3, templavoila

如何将外部 XML 文件插入/加载到 Templavoila 静态数据结构中？每个字段我都有很多东西，主要是TypoScript设置，可以在外面生成。我想将它们插入静态 DS ...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:53:30.210

我怀疑这是否可能（但必须说，这从未尝试过），无论如何，也许更好的选择是将字段映射为`path to the TypoScript object`- 然后您可以轻松地将其划分为较小的 TypoScript 模板，并将模板外部化为`*.ts`文件。

# android - Android：Tabs + Swipe：如何知道页面导航的上一个屏幕？

> ID：14809132
> 
> 赞同：2
> 
> 时间：2013-02-11T09:22:31.020
> 
> 标签：android, tabs, swipe

我有一个使用 Tabs + Swipe UI 的项目。这里的问题是我想知道从哪个选项卡导航选项卡。例如，对于选项卡 2，我可以从选项卡 1 和选项卡 3 导航。所以我想知道我从哪个选项卡导航。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:40:34.917

我建议您使用[Velocity tracker](http://developer.android.com/reference/android/view/VelocityTracker.html)来查找 X 方向上的滑动速度（使用`.getXVelocity()`）。如果该值为负值，则它来自**tab 1**。否则，它来自**标签 3**

# php - PHP如何使用fputcsv函数将数组转换为csv

> ID：14809133
> 
> 赞同：3
> 
> 时间：2013-02-11T09:22:32.207
> 
> 标签：php, csv

请我有以下数组：

```
array(3) {
  [0]=>
  array(2) {
    [0]=>
    string(6) "lkjhgj"
    [1]=>
    string(16) "jhgjhg@jhgjj.com"
  }
  [1]=>
  array(2) {
    [0]=>
    string(5) "hgjk,"
    [1]=>
    string(18) "kjhgfghj@dgdfg.com"
  }
  [2]=>
  array(2) {
    [0]=>
    string(9) "dddd ffff"
    [1]=>
    string(13) "dddd@gmail.fr"
  }
} 
```

我想把它放到一个 csv 文件中，所以我试过：

```
$fichier = 'file.csv';
$fp = fopen($fichier, 'w');

foreach ($list as $fields) 
{
   fputcsv($fp, $fields);
}

fclose($fp);

header( 'Content-Type: text/csv' );
header( 'Content-Disposition: attachment;filename='.$fichier); 
```

但是当我下载文件时，我发现它是空的！

请高手有什么想法？提前致谢

PS：权限是777

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-11T09:26:37.913

```
 $fichier = 'file.csv';
 header( "Content-Type: text/csv;charset=utf-8" );
 header( "Content-Disposition: attachment;filename=\"$fichier\"" );
 header("Pragma: no-cache");
 header("Expires: 0");

 $fp= fopen('php://output', 'w');

 foreach ($list as $fields) 
 {
    fputcsv($fp, $fields);
 }
 fclose($fp);
 exit(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-07T08:07:00.563

如果您在会话中保存数组和编码字符的问题。

```
session_start();
$fp = fopen($_SESSION['CSV']['type'].'.csv', 'w');
foreach ($_SESSION['CSV'] as $fields) {
    $val1 = htmlspecialchars_decode(utf8_decode(html_entity_decode($fields[0], ENT_QUOTES | ENT_XML1, 'UTF-8')));
    $val2 = htmlspecialchars_decode(utf8_decode(html_entity_decode($fields[1], ENT_QUOTES | ENT_XML1, 'UTF-8')));
    $val3 = htmlspecialchars_decode(utf8_decode(html_entity_decode($fields[2], ENT_QUOTES | ENT_XML1, 'UTF-8')));
    fputcsv($fp, array($val1,$val2,$val3,$val4,$val5));
}
fclose($fp); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-07-30T16:02:02.257

如果有人正在寻找将带有动态标题的查询的结果导出到数组然后导出到 csv 文件，您可以使用以下函数：

```
function exportCSVFile($fieldsNames, $result)
{

$fileName = "result.csv";
header("Content-type: text/csv");
header("Content-Disposition: attachment; filename=$fileName");
header("Pragma: no-cache");
header("Expires: 0");
$stdout = fopen('php://output', 'w');

fputcsv($stdout, $fieldsNames, ',', '"'); // put the headers or fields Names

$resultArray = array();

$tempRowHolder = array();

/* 
    build the finalized array which will be used to export the result as csv 
*/

for ($i = 0; $i < count($result); $i++) {
    for ($j = 0; $j < count($fieldsNames); $j++) {
        $tempRowHolder[$j] = $result[$i][$fieldsNames[$j]]; // fetch a row by the different fields names
    }

    /* push the row from the tempRowHolder array to the main array($resultArray) */
    array_push($resultArray, $tempRowHolder);

    /* clear the temporary array (the holder of the row) to use it fresh in the next iteration */
    $tempRowHolder = [];
}

$i = 0;

/* put the finalized array into the csv file  */
while ($i < count($resultArray)) {
    fputcsv($stdout, $resultArray[$i++]);
}

fclose($stdout);
} 
```

# sql-server - 将一些表移动到单独的数据库中，这有意义吗？

> ID：14809138
> 
> 赞同：0
> 
> 时间：2013-02-11T09:22:48.367
> 
> 标签：sql-server, database, performance

我们的情况有点不典型，我猜...

我们有一个经常从多个应用程序调用的存储过程。由于这是一个繁重的过程，要连接多个大表，我们决定对其结果进行缓存。因此，现在该过程首先检查是否有缓存结果 - 如果有，则返回它，如果没有，则计算它（大 SELECT，许多 JOIN）并放入缓存表以供进一步使用。缓存行在源表的触发器中被标记为“待刷新”（因此，如果源数据发生变化，我们会使与该数据连接的缓存失效）。

引入缓存后，服务器机器上的 CPU 使用率明显下降，但数据库增长迅速。缓存表非常大，占数据库空间的 1/3。有一个想法将它们放入单独的数据库中（主要是为了避免备份它们）。但是我担心性能，使用来自其他数据库的数据不会显着降低查询速度吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T19:54:35.777

你可以在你的数据库之外建立你的缓存吗？如果可以，那将释放 1/3 的数据库空间。Memcache 或 ehcache 可能会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T13:02:44.280

为什么你把缓存的数据保存这么久？如果一个多月前的缓存数据很少使用，您可以将其删除。然后不会备份它，只有在再次需要时才需要重新计算。

这当然只有在旧的缓存数据基本上不再使用时才有效。

# port - 如何从 AS 中的 webapp 访问 Carbon 端口偏移量

> ID：14809140
> 
> 赞同：1
> 
> 时间：2013-02-11T09:22:50.127
> 
> 标签：port, jax-rs, wso2, offset

有没有办法以编程方式从部署在 AS 中的战争中访问 Carbon 端口偏移量？我想生成部署 Jax-RS 服务的 WSDL url。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-01T02:17:52.190

它可作为系统属性“portOffset”使用。

# c# - C# 访问数据库

> ID：14809144
> 
> 赞同：-3
> 
> 时间：2013-02-11T09:23:04.567
> 
> 标签：c#, mysql, visual-studio-2012

我正在尝试连接到我们的数据库并创建一个程序，该程序从表中读取并将信息发送到文本框/标签。我收到一个错误：

```
int numberOfRowsFeched = oleDbDataAdapter1.Fill(dataSet1, "Böcker"); 
```

错误：`InvalidOperationException`

```
private void btn1_Click(object sender, EventArgs e)
    {

        {
            string sqlQuery = "SELECT Fält2, Fält3 FROM Böcker WHERE Fält2 = " + "'\\" + txt1.Text + "\\'";
            oleDbDataAdapter1.SelectCommand.CommandText = sqlQuery;
            dataSet1.Clear();
                oleDbConnection1.Open();
            int numberOfRowsFeched = oleDbDataAdapter1.Fill(dataSet1, "Böcker");
            if (numberOfRowsFeched > 0)
            {
                DataTable dt = dataSet1.Tables["Böcker"];
                lbl1.Text = dt.Rows[0][0].ToString() + " " +
                dt.Rows[0][1].ToString();
                lbl2.Text = dt.Rows[0][2].ToString();
            }
            else
            {
                lbl1.Text = "Boken hittades inte.";
                lbl1.Text = "";
            }
        }
    }
} 
```

我正在使用的新代码：

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
using System.Data.Sql;
using System.Data.OleDb;
using System.Data.SqlClient;

namespace MySQL
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        private void Form1_Load(object sender, EventArgs e)
        {

        }

        private void btn1_Click(object sender, EventArgs e)
        {
            string ConnString = "Provider=Microsoft.Jet.OLEDB.4.0;Data Source=C:\\Users\\cetin.cigel\\databasbibliotek.mdb;User Id=admin;Password=;";
            string SqlString = "SELECT Fält1, Fält2, Fält3 FROM Böcker WHERE Fält2 = ?";
            using (OleDbConnection conn = new OleDbConnection(ConnString))
            {
                using (OleDbDataAdapter da = new OleDbDataAdapter(SqlString, conn))
                {
                    da.SelectCommand.Parameters.AddWithValue("Fält2", txt1.Text);
                    DataTable dt = dataSet1.Tables["Böcker"];
                    da.Fill(dt);
                    if (dt.Rows.Count > 0)
                    {
                        string text = string.Format("{0} {1}",
                            dt.Rows[0].Field<string>(0),
                            dt.Rows[0].Field<string>(1));
                        lbl1.Text = text;
                        lbl2.Text = dt.Rows[0].Field<string>(2);
                    }
                    else
                    {
                        lbl1.Text = "Boken hittades inte.";
                    }
                }
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:27:42.743

尝试更改表名称，这可能是编码问题。此外，您可能会发现这很有用：[http ://www.alinq.org/](http://www.alinq.org/)

并请发布所有例外情况，以便人们可以提供帮助:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:31:33.797

我假设您正在尝试打开一个仍然打开的连接。

[`OleDbConnection.Open`方法](http://msdn.microsoft.com/en-us/library/system.data.oledb.oledbconnection.open.aspx)

> `InvalidOperationException`: 连接已经打开。

*   使用`using`-statement 确保一切都尽快处理/关闭。您没有关闭连接，这在使用连接池时是个坏主意（默认）
*   您正在尝试访问三个字段但只在查询中选择两列？
*   不要连接 sql 查询，而是使用参数：

* * *

```
string SqlString = "SELECT Fält1, Fält2, Fält3 FROM Böcker WHERE Fält2 = ?";
using (OleDbConnection conn = new OleDbConnection(ConnString))
{
    using (OleDbDataAdapter da = new OleDbDataAdapter(SqlString, conn))
    {
        da.SelectCommand.Parameters.AddWithValue("Fält2", txt1.Text);
        DataTable dt = dataSet1.Tables["Böcker"];
        da.Fill(dt);
        if (dt.Rows.Count > 0)
        {
            string text = string.Format("{0} {1}",
                dt.Rows[0].Field<string>(0),
                dt.Rows[0].Field<string>(1));
            lbl1.Text = text;
            lbl2.Text = dt.Rows[0].Field<string>(2);
        }
        else
        {
            lbl1.Text = "Boken hittades inte.";
        }
    }
} 
```

# html - 在新窗口中打开时自动获取新的 PDF 文档

> ID：14809147
> 
> 赞同：0
> 
> 时间：2013-02-11T09:23:15.587
> 
> 标签：html, hyperlink, refresh, new-window, no-cache

我知道标头可以确保获取的页面始终是新鲜的： [How to control web page caching, across all browsers?](https://stackoverflow.com/questions/49547/making-sure-a-web-page-is-not-cached-across-all-browsers)

但我只需要在新窗口中获取 PDF。我正在使用以下代码来获取 PDF，但是如何确保 PDF 本身是新的（非缓存版本）？

```
<a href='/somepath/doc.pdf' id='pdf' target='_blank'>View PDF</a> 
```

因为我的应用程序一直在动态创建 PDF 文档，所以我想要最近的一个。难道不能简单地做到这一点吗？还是我需要为此专门编写一个 PHP 页面？

# ios - 在 iPhone 中控制扬声器

> ID：14809151
> 
> 赞同：0
> 
> 时间：2013-02-11T09:23:23.053
> 
> 标签：ios, objective-c

谢谢你的时间。

我对 iPhone 中的扬声器控件有疑问。我们在 iPhone 中有两个扬声器：

1.  **耳机**----当我们在耳朵边打电话时，我们有扬声器
2.  **底部扬声器**----当我们播放音乐时，声音来自底部扬声器

我的疑问是：我已经使用了两个 UISwitches，它们是 Ear_speaker、Bottom_Speaker。

如果我在播放时打开 Ear_speaker，声音应该只来自 Ear_speaker，如果我关闭 Ear 扬声器，声音不应该来自 Ear 扬声器。

Bottom_Speaker 的功能也相同。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-19T08:57:53.953

设置您的音频会话

```
[[AVAudioSession sharedInstance] setDelegate:self];
[[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayAndRecord error:nil];
[[AVAudioSession sharedInstance] setActive:YES error:nil]; 
```

在 UISwitch 中实现它：

这会将音频路由更改为底部扬声器：

```
UInt32 audioRouteOverride = kAudioSessionOverrideAudioRoute_Speaker;

AudioSessionSetProperty (
                         kAudioSessionProperty_OverrideAudioRoute,
                         sizeof (audioRouteOverride),
                         &audioRouteOverride                                               
                         ); 
```

这会将音频路由更改为“耳机”：

```
UInt32 audioRouteOverride = kAudioSessionOverrideAudioRoute_None;

AudioSessionSetProperty (
                         kAudioSessionProperty_OverrideAudioRoute,
                         sizeof (audioRouteOverride),
                         &audioRouteOverride                                               
                         ); 
```

# regex - 如何编写正则表达式？

> ID：14809155
> 
> 赞同：0
> 
> 时间：2013-02-11T09:23:42.047
> 
> 标签：regex

我有一个字符串

```
SUM(Latest#3) 
```

我写了一个正则表达式：-

```
(?:\((?<n>[^\#]+)\#(?<v>[^\)]+)\)) 
```

结果很好：-

```
n:Latest
v:3 
```

但是当我将表达式更改为：-

```
Sqrt(Sum(Latest#3)) 
```

该值正在更改为：-

```
n: sum(Latest)
v: 3 
```

我希望这个表达式检查直到最后一次出现，`(`即上述表达式的所需输出`(Sqrt(Sum(Latest#3)))`应该是这样的： -

```
n:Latest
v:[3] 
```

请帮忙，因为我是正则表达式的新手。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:27:22.010

只需添加`(`到否定字符类：

```
(?:\((?<n>[^(#]+)#(?<v>[^)]+)\)) 
```

此外，无需转义`(`， `)`或`#`在字符类中。

对于您评论中更复杂的示例，您可以这样做：搜索

```
(?:\((?<n>[^(#]+)#(?<v>[^,]+)(?<r>,[^)]*)\)) 
```

并替换为

```
([${n}#${v}]${r}) 
```

（您可能需要更改`${n}`Expresso 用于命名反向引用的任何语法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:27:54.320

要处理嵌套括号，您需要使用以下正则表达式：

`(?:\((?<n>[^\#(]+)\#(?<v>[^\)]+)\))`

# ios - 苹果推送通知希伯来语

> ID：14809162
> 
> 赞同：2
> 
> 时间：2013-02-11T09:24:06.630
> 
> 标签：ios, apple-push-notifications, apns-php

我正在使用 Apns-PHP 向 IOS 设备发送推送通知，下面是我应用的开源代码链接。

**[http://code.google.com/p/apns-php](http://code.google.com/p/apns-php)**

它适用于英文短信，但是对于希伯来文短信，有时它会将 null 作为短信发送。为了克服它，我应用了以下链接建议的解决方案。

**[https://stackoverflow.com/a/10936493/1928421](https://stackoverflow.com/a/10936493/1928421)**

根据上面的链接，我已经用给定的方法替换了我的有效负载函数，现在我在推送消息中收到了一些文本消息，但它们似乎是用 UTF8 格式化的。

这是我传递给 Apns 的实际希伯来语文本。

**“האילנית לזון זקוק לעזרה כדי לקחת מ גבעה ל ת”**

这是由脚本创建的字典。

```
[aps] => Array (
  [alert] => Array (
    [body] => "\u05d4\u05d0\u05d9\u05dc\u05e0\u05d9\u05ea \u05dc\u05d6\u05d5\u05df \u05d6\u05e7\u05d5\u05e7 \u05dc\u05e2\u05d6\u05e8\u05d4 \u05db\u05d3\u05d9 " 
  ) 
  [badge] => 3
) 
```

在设备手上的警报键我只收到以下文本。

```
"\u05d4\u05d0\u05d9\u05dc\u05e0\u05d9\u05ea \u05dc\u05d6\u05d5\u05df \u05d6\u05e7\u05d5\u05e7 \u05dc\u05e2\u05d6\u05e8\u05d4 \u05db\u05d3\u05d9 " 
```

任何意见或建议都将受到高度赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T18:09:57.833

我刚刚从** [https://github.com/duccio/ApnsPHP/](https://github.com/duccio/ApnsPHP/) ** 下载了最新的代码，它的工作非常好

# corba - CORBA 支持 ASCII 数据交换吗？

> ID：14809164
> 
> 赞同：0
> 
> 时间：2013-02-11T09:24:17.770
> 
> 标签：corba, idl

我知道 CORBA 使用支持二进制格式的 IDL 交换数据。有人可以解释一下是否可以用 ASCII 交换数据？

想你提前回复

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T10:43:21.743

CORBA 使用 IDL 来描述数据和操作。对于实际传输，它使用一些 IOP - inter orb 协议。虽然理论上可能存在定义和实现其专有的基于文本的 IOP 的 ORB，但我不知道有任何这样做，并且每个主要的 ORB 都使用并提供代表 Internet IOP 的 IIOP，并使用二进制编码。

另一方面，如果您只对使用 CORBA 传输文本消息而不是 ORB 实现的细节感兴趣，那么您当然可以在 2 个 ORBS 之间传输文本消息。

# php - 流体/液体布局 - 多列，两边都有填充/边距

> ID：14809168
> 
> 赞同：0
> 
> 时间：2013-02-11T09:24:26.727
> 
> 标签：php, javascript, html, css, responsive-design

我正在尝试创建一个包含多个列的响应式布局，这些列均匀地间隔开，在它们的两侧都有 16px 的填充/边距。

如果我有 3 列，自然每列的宽度将设置为 33%，但是，每列之间有 16px 的间隙，这构成了 100% 以上。

使用 CSS、JavaScript 或 PHP……我怎么能做到这一点？

```
body {
    font: 0.75em Arial, Helvetica, san-serif;
    background: #CCC;
}
p {margin-bottom: 12px;}
h1 {
    font: 1.25em Arial, Helvetica, san-serif;
    font-weight: bold;
    color: teal;
    text-transform: uppercase; 
    margin-bottom: 12px;
}

#wrapper {
    background: #FFF;
    width: 75%;
    margin: 0 auto;
    padding: 32px;
}

.one-third {???} 
```

[http://jsfiddle.net/Jed8D/](http://jsfiddle.net/Jed8D/)

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:54:33.583

可以通过 css3 中的 calc 函数轻松完成。尝试这个：

```
.one-third {
    width: calc((100% - 32px) / 3); //Where 100% is the width of container - 32px is the margin between two columns (16px + 16px) - 3 is the number of columns
    float: left;
    margin-right: 16px;
}

.one-third:nth-child(3n+3){
    margin-right: 0px;
} 
```

您可以使用 calc() 来计算以像素为单位的大小或以 css 为单位的百分比。并且 nth-child 将帮助从每第三列中删除边距（假设您可能有更多的 3 列行）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:36:24.510

这是你的`css`

```
.one-third {
    float: left;
    padding: 16px;
    width: 29%;
} 
```

`wrapper`但你毕竟需要在里面创建一个元素`one-third div`

就是它`<div class="clrboth"></div>`

而`css`对于`clrboth`是

`.clrboth{clear:both;}`

工作示例是[http://jsfiddle.net/Jed8D/2/](http://jsfiddle.net/Jed8D/2/) [注意：小提琴的宽度可以不同，因为它的宽度很小，在单个页面上检查它会按照你的意愿工作。]

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-11T10:37:34.423

下面的代码将完成必要的工作，因为它计算页面加载时的列宽。没有硬编码值。

**Javascript**

```
<script type="text/javascript">

$(document).ready(function(){

    var wrapperW = $("#wrapper").width();

    /* (Wrapper width - gap * nos.of columns) divided by nos.of columns     */
    var availableW = Math.floor((wrapperW - 16 * 3) / 3);       

    $(".one-third").width(availableW);

});

</script> 
```

**CSS**

```
<style type="text/css">

body {
    font: 0.75em Arial, Helvetica, san-serif;
    background: #CCC;
}

p {margin-bottom: 12px;}

h1 {
    font: 1.25em Arial, Helvetica, san-serif;
    font-weight: bold;
    color: teal;
    text-transform: uppercase; 
    margin-bottom: 12px;
}

#wrapper {
    background: #FFF;
    width: 75%;
    margin: 0 auto;
    padding: 32px;
}

.one-third { margin:8px; float:left; }  /* Important change */

</style> 
```

**HTML**

```
<div id="wrapper">
<div class="one-third"> 
    <header class="entry-header">
        <h1 class="entry-title">Column One Title</h1>
    </header>
<p>Phasellus commodo velit risus. Vivamus nunc lectus, molestie vel interdum ut, gravida congue lorem. Sed elementum lorem et dolor gravida in imperdiet quam lacinia. Aenean iaculis, elit vitae iaculis malesuada, nulla risus lobortis nulla, ut lacinia risus enim ut arcu. Duis ac ligula enim, eget consequat odio. Nunc condimentum arcu et erat dignissim at consequat lorem tincidunt. In quis consectetur orci. Quisque elit lectus, feugiat vitae sollicitudin in, lacini a ac velit.</p>
<p>Nam laoreet purus at turpis sollicitudin ut tincidunt nulla dapibus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Proin egestas tristique nunc et suscipit. In hac habitasse platea dictumst. Cras nec lacus arcu. Cras ligula quam, facilisis sit amet tristique non, ullamcorper ut dolor.</p>
<p>Donec posuere mi at urna congue non rutrum leo hendrerit. Nulla tempor vehicula eros, vitae ornare sem ornare eu. Etiam ultricies tristique malesuada. Maecenas pellentesque sem eu metus vulputate molestie. Nullam fringilla mauris eget metus imperdiet vulputate. Vivamus vulputate pretium tortor et commodo. Sed in volutpat lectus. Nam tincidunt blandit nunc, nec tincidunt mauris tempor ut. Nulla eu mattis nisl. Quisque pretium convallis venenatis. Praesent varius orci nec justo posuere porttitor sollicitudin ligula imperdiet. Cras fermentum mauris dolor. Proin at nunc turpis.</p>
<p>Morbi elit lorem, consectetur sed ullamcorper nec, viverra eu eros. Aenean molestie pellentesque ante facilisis pretium. Donec id mauris urna, at ornare lacus. Phasellus vel mattis magna. Phasellus at nisl ut metus ornare interdum a ac justo. Etiam suscipit lobortis tellus, vel lacinia neque placerat sed. In dictum, dui eget varius laoreet, ante ante semper orci, vel pulvinar mi velit eget lectus. Etiam ut odio ut dui consequat ullamcorper. Vestibulum sollicitudin scelerisque accumsan.</p>   
</div>  

<div class="one-third"> 
    <header class="entry-header">
        <h1 class="entry-title">Column Two Title</h1>
    </header>
<p>Phasellus commodo velit risus. Vivamus nunc lectus, molestie vel interdum ut, gravida congue lorem. Sed elementum lorem et dolor gravida in imperdiet quam lacinia. Aenean iaculis, elit vitae iaculis malesuada, nulla risus lobortis nulla, ut lacinia risus enim ut arcu. Duis ac ligula enim, eget consequat odio. Nunc condimentum arcu et erat dignissim at consequat lorem tincidunt. In quis consectetur orci. Quisque elit lectus, feugiat vitae sollicitudin in, lacini a ac velit.</p>
<p>Nam laoreet purus at turpis sollicitudin ut tincidunt nulla dapibus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Proin egestas tristique nunc et suscipit. In hac habitasse platea dictumst. Cras nec lacus arcu. Cras ligula quam, facilisis sit amet tristique non, ullamcorper ut dolor.</p>
<p>Donec posuere mi at urna congue non rutrum leo hendrerit. Nulla tempor vehicula eros, vitae ornare sem ornare eu. Etiam ultricies tristique malesuada. Maecenas pellentesque sem eu metus vulputate molestie. Nullam fringilla mauris eget metus imperdiet vulputate. Vivamus vulputate pretium tortor et commodo. Sed in volutpat lectus. Nam tincidunt blandit nunc, nec tincidunt mauris tempor ut. Nulla eu mattis nisl. Quisque pretium convallis venenatis. Praesent varius orci nec justo posuere porttitor sollicitudin ligula imperdiet. Cras fermentum mauris dolor. Proin at nunc turpis.</p>
<p>Morbi elit lorem, consectetur sed ullamcorper nec, viverra eu eros. Aenean molestie pellentesque ante facilisis pretium. Donec id mauris urna, at ornare lacus. Phasellus vel mattis magna. Phasellus at nisl ut metus ornare interdum a ac justo. Etiam suscipit lobortis tellus, vel lacinia neque placerat sed. In dictum, dui eget varius laoreet, ante ante semper orci, vel pulvinar mi velit eget lectus. Etiam ut odio ut dui consequat ullamcorper. Vestibulum sollicitudin scelerisque accumsan.</p>
</div>  

<div class="one-third"> 
    <header class="entry-header">
        <h1 class="entry-title">Column Three Title</h1>
    </header>
<p>Phasellus commodo velit risus. Vivamus nunc lectus, molestie vel interdum ut, gravida congue lorem. Sed elementum lorem et dolor gravida in imperdiet quam lacinia. Aenean iaculis, elit vitae iaculis malesuada, nulla risus lobortis nulla, ut lacinia risus enim ut arcu. Duis ac ligula enim, eget consequat odio. Nunc condimentum arcu et erat dignissim at consequat lorem tincidunt. In quis consectetur orci. Quisque elit lectus, feugiat vitae sollicitudin in, lacini a ac velit.</p>
<p>Nam laoreet purus at turpis sollicitudin ut tincidunt nulla dapibus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Proin egestas tristique nunc et suscipit. In hac habitasse platea dictumst. Cras nec lacus arcu. Cras ligula quam, facilisis sit amet tristique non, ullamcorper ut dolor.</p>
<p>Donec posuere mi at urna congue non rutrum leo hendrerit. Nulla tempor vehicula eros, vitae ornare sem ornare eu. Etiam ultricies tristique malesuada. Maecenas pellentesque sem eu metus vulputate molestie. Nullam fringilla mauris eget metus imperdiet vulputate. Vivamus vulputate pretium tortor et commodo. Sed in volutpat lectus. Nam tincidunt blandit nunc, nec tincidunt mauris tempor ut. Nulla eu mattis nisl. Quisque pretium convallis venenatis. Praesent varius orci nec justo posuere porttitor sollicitudin ligula imperdiet. Cras fermentum mauris dolor. Proin at nunc turpis.</p>
<p>Morbi elit lorem, consectetur sed ullamcorper nec, viverra eu eros. Aenean molestie pellentesque ante facilisis pretium. Donec id mauris urna, at ornare lacus. Phasellus vel mattis magna. Phasellus at nisl ut metus ornare interdum a ac justo. Etiam suscipit lobortis tellus, vel lacinia neque placerat sed. In dictum, dui eget varius laoreet, ante ante semper orci, vel pulvinar mi velit eget lectus. Etiam ut odio ut dui consequat ullamcorper. Vestibulum sollicitudin scelerisque accumsan.</p>
</div>  

<br style="clear:both;" /> <!-- Important Addition -->

</div> 
```

# objective-c - objc_msgSend() 与 C 回调函数作为代码块的参数？

> ID：14809169
> 
> 赞同：1
> 
> 时间：2013-02-11T09:24:31.627
> 
> 标签：objective-c, c, core-foundation, objective-c-runtime, exc-bad-access

所以我试图调用一个具有**回调代码块**作为参数的Objective-C方法。

Objective-C 方法（为了发布的目的而削减实现）

```
- (void)requestWithCompletionHandler:(void(^)(BOOL, NSArray*))completionHandler {

    // Implementation ...

    completionHandler(YES, NSArray...);

} 
```

C 代码（***rsc***保存已分配和启动的类）

```
void callback(id self, SEL _cmd, BOOL success, CFArrayRef array)
{
    printf("BOOM\n");
}

objc_msgSend(rsc, sel_getUid("requestWithCompletionHandler:"), (IMP)callback); 
```

来自 Apple 文档

```
id objc_msgSend(id theReceiver, SEL theSelector, ...) 
```

还...

> Objective-C 方法只是一个 C 函数，它至少有两个参数——self 和 _cmd。例如，给定以下函数：

```
void myMethodIMP(id self, SEL _cmd)
{
    // implementation ....
} 
```

> 您可以将其作为方法（称为 resolveThisMethodDynamically）动态添加到类中，如下所示：

```
class_addMethod([self class], @selector(resolveThisMethodDynamically), (IMP) myMethodIMP, "v@:"); 
```

但是，运行时我得到一个**EXC_BAD_ACCESS**。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:43:54.270

有趣的是，这比我最初想象的要容易。您只需传递一个实际的代码块作为参数。

```
objc_msgSend((id)rsc, sel_getUid("requestWithCompletionHandler:"), ^(BOOL success, CFArrayRef array) {
        if (success) {
            printf("BOOM\n");
        }}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T09:56:55.513

您将函数指针作为块类型的参数传递，但块不是函数指针。作为一个简单的示例，以下代码将在第二次调用时崩溃`takesABlock()`。

```
#include <stdio.h>
#include <dispatch/dispatch.h>

void function1();
void takesABlock(dispatch_block_t block);

int main(int argc, const char * argv[])
{

    dispatch_block_t block = ^{ printf("In a block\n"); function1(); };
    takesABlock(block);
    takesABlock((dispatch_block_t)function1);
}

void function1() {
    printf("In function1\n");
}

void takesABlock(dispatch_block_t block) {
    block();
} 
```

因此，您需要传递一个实际的块：

```
objc_msgSend(rsc, sel_getUid("requestWithCompletionHandler:"), ^(BOOL aBool, NSArray *anArray){ // block code here }); 
```

看起来您正在做一些高度动态的事情，因此您可能需要找到一种方法将块动态存储在某处以供以后使用。它是一个对象，可以通过复制、存储在集合中等方式在 Objective-C 中使用该`-copy`方法或在纯 C API 中通过使用该`Block_copy()`函数获取指向堆分配块的指针以供以后使用。

# android - 带有 3D 音频的 OpenSLES

> ID：14809173
> 
> 赞同：0
> 
> 时间：2013-02-11T09:24:46.267
> 
> 标签：android, android-ndk, opensl

OpenSLES 规范 1.0.1 演示了 3D 音频的实现。我的兴趣是指定 3D 音频源的位置。

我尝试在 android 14 中实现它，但结果是“SL_RESULT_FEATURE_UNSUPPORTED”。正如此链接中所述[，OpenSL ES 中的 3D 声音](http://music.columbia.edu/pipermail/andraudio/2011-April/000205.html)功能（如 3D 位置、侦听器）以及一般所有 3D 功能都需要设置 USE_PROFILES_GAME。

因为 OpenSLES 不是一个独立的实体并且依赖于其他系统库（如 wilhelm.so），所以我无法真正独立地编译该库。所以我下载了整个android源，设置了USE_PROFILES_GAME标志，在Android.mk中包含默认排除的3D相关类，然后构建新系统。

现在使用新的 android 系统映像，我可以获得位置推断，但它似乎不起作用，即我感觉不到源音频的位置发生变化。

有没有人在 android 中成功实现过 3D 音频功能（尤其是 3D 音频位置）？3D 音频功能是否对移动硬件有任何依赖性？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-02T16:50:08.933

我知道的任何设备上仍然不支持 3D 界面。

来自 ndk/docs/opensles/index.html：“注意：虽然基于 OpenSL ES，但 Android 原生音频 API 不是任何 OpenSL ES 1.0.1 配置文件（**游戏**、音乐或电话）的符合要求的实现。这是因为 Android 没有实现任何配置文件所需的所有功能。”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-17T22:23:53.313

当我尝试开发需要 3D 音频功能的原型应用程序时，我遇到了同样的问题。

在编译我自己的 android 源代码方面，我并没有像你那样走得那么远，但想到了这一点。回到十岁，我在 SOF 上遇到了一个 Android 编译的开放库。由于不得不放弃另一个项目，我上周开始再次考虑这个问题。我发现的是这样的：

[http://www.am3d.co.jp/home-english/products/3d-audio/hardwaresoftware-platforms/android.aspx](http://www.am3d.co.jp/home-english/products/3d-audio/hardwaresoftware-platforms/android.aspx)

它似乎是缺少的链接，但必须为您的应用程序获得许可。也许这对你有帮助。我在他们的网站上说“*该实现实现了 Android OpenSL ES 实现中缺少的 3D 音频功能。* ”但是即使它说“ *API 是 AM3D 的简单和专有 API。* ”技术文档似乎在炫耀，**你正在以标准 OpenSL ES 方式自己编程 3D 效果**。

# android - Robotium：我应该总是在屏幕打开的情况下运行我的测试吗？

> ID：14809175
> 
> 赞同：0
> 
> 时间：2013-02-11T09:24:50.370
> 
> 标签：android, robotium, instrumentation

没有在文档中找到它，但我是否应该总是在打开的设备上运行我的测试？如果我在关闭屏幕的情况下运行它们，我会得到不同的结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:45:13.047

您将希望屏幕解锁，打开锁定屏幕会导致您遇到很多故障。

最简单的方法是在设置中关闭屏幕锁定（在 ics+ 上可用），但如果你不能这样做，你可以在代码中禁用它（需要 android 权限）或安装第三方应用程序让你做这样的事情.

# .net - .NET 程序集的篡改保护

> ID：14809182
> 
> 赞同：1
> 
> 时间：2013-02-11T09:25:09.827
> 
> 标签：.net, obfuscation

今天的许多混淆工具都提供篡改保护。我们试了一下，但它不适用于我们的大多数实际案例。

是否值得在这项技术上投入时间，或者增加的保护级别是黑客可以在几分钟内破坏的东西？

参考：

*   [保护 .NET 代码免受逆向工程？](https://stackoverflow.com/questions/506282/protect-net-code-from-reverse-engineering/506301#506301)
*   [http://www.red-gate.com/products/dotnet-development/smartassembly/features/](http://www.red-gate.com/products/dotnet-development/smartassembly/features/)
*   [http://www.9rays.net/Category/55-spicesnet-obfuscator.aspx](http://www.9rays.net/Category/55-spicesnet-obfuscator.aspx)
*   [http://xheo.com/products/code-protection/how-it-works](http://xheo.com/products/code-protection/how-it-works)

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T09:30:21.637

客户端上运行的所有代码都可以更改和篡改，这些工具只会让它变得更难做。首先找出`tampering`代码中是否存在商业案例。如果是这样，然后决定您是否应该将其全部发布或将关键代码作为服务提供。

# java - android：使用库中项目的最终静态变量，或其他一些技巧来排除未使用的代码

> ID：14809183
> 
> 赞同：0
> 
> 时间：2013-02-11T09:25:10.610
> 
> 标签：java, android, eclipse, javac, android-library

我使用 android 库（库项目，而不是 jar）来维护 2 个目标项目（免费和付费）和 1 个代码库。目标项目中根本没有代码，所有代码都在库中。

我需要在库中添加代码块：

```
if (main.liteVersion)
{
  //lite version code here
}
else
{
  //full version code here
} 
```

据我所知，条件变量是否为最终静态 java 编译器将排除未使用的代码（如果 main.liteVersion 为真，则为完整版本代码）。这就是我需要的。因为我不希望有人反编译精简版并查看付费版本的代码。我知道这不是一个定义，但我只是没有在免费版本二进制文件中包含付费版本代码。

但是我不能在目标项目中添加最终的静态变量，然后在库中看到它。

有一些方法可以确定我们在哪个目标项目中。我们可以读取当前包名称来确定正在运行的版本。如果我们在目标项目中添加配置类，我们可以在库中使用反射来获取 cfg 值。我们也可以在目标项目中添加资源，但它会添加到 com.tertium.lite.R，但在库中我们只能读取 com.tertium.library.R（当然使用反射我们可以读取任何内容）。但是这样的“动态”方法不会使编译器排除未使用的代码（条件将是运行时计算的值）。

我们可以在构建时重写库项目中的配置类（使用 ant 或 shell 任务），然后我们将拥有“自然”的静态设置，但我不想接触库。

以防万一-我使用eclipse helios，android版本-1.6-4.2。

有任何想法吗？谢谢！

更新：它不再是实际的了，因为我拒绝将项目用作库并开发了无缝的基于 ant 的资源编译和构建工作流，它支持所有需要的配置。此外，据我所知，我最初的问题没有有效的答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:33:02.707

我建议您将其作为构建系统的步骤（ant、maven、make 等）。我希望这样的源代码很少，因此您可以添加文件替换手册作为构建步骤。

不要让这个编译器工作：很难长期控制。编译器选项/版本会改变，行为也会改变。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T12:14:33.167

您可以使用 ProGuard 删除未使用的代码（在应用程序项目上，而不是在库项目上）。如果应用程序项目中根本没有代码，您可能需要求助于`proguard-project.txt`每个应用程序项目中的不同文件，并确保在免费版本中不保留任何付费入口点

ProGuard 规则有点棘手，你可以看到`proguard/mapping.txt`文件中保存了哪些类和方法

# html - 如何在 html 中居中表单并保持问题对齐？

> ID：14809185
> 
> 赞同：1
> 
> 时间：2013-02-11T09:25:19.267
> 
> 标签：html, css, alignment, text-alignment, formatting

我有一个快速的问题，我已经创建了

```
<style type="text/css"> 
      .container {
       width: 100%;
      clear: both;
       text-align:center;

}
.container input {
    width: 2%;
    clear: both;

}
</style> 
```

将我计划做的表单选项居中。它有效。我在中间有中心的圆形气泡，但是当我尝试添加名称时，“圆形复选标记”不再对齐。有没有办法可以解决这个问题而不会弄乱

```
<Input type = radio Name = r1 Value = "WhatEver" onClick =GetSelectedItem()>Whatever<BR> 
```

为了便于理解，我附上了图片链接。 ![在此处输入图像描述](../Images/23797a3c31feac244514b4fed7c604ec.png) ![在此处输入图像描述](../Images/c05d88009691c647f8c1e4f6dcb6b27e.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:54:15.127

请找到下面的代码，这将是必要的。

**CSS：**

```
.container, .container p {
     width: 100%;
     text-align:center;
}
.container p { padding:0 0 5px 0; }
.container input {
    width: 2%;
    margin:0 5px 0 0;
} 
```

**HTML：**

```
<div class="container">
    <p><Input type = radio Name = r1 Value = "WhatEver" onClick =GetSelectedItem()><label>Whatever</label></p>
    <p><Input type = radio Name = r1 Value = "WhatEver" onClick =GetSelectedItem()><label>Whatever</label></p>
    <p><Input type = radio Name = r1 Value = "WhatEver" onClick =GetSelectedItem()><label>Whatever</label></p>
    <p><Input type = radio Name = r1 Value = "WhatEver" onClick =GetSelectedItem()><label>Whatever</label></p>
    <p><Input type = radio Name = r1 Value = "WhatEver" onClick =GetSelectedItem()><label>Whatever</label></p>
    <p><Input type = radio Name = r1 Value = "WhatEver" onClick =GetSelectedItem()><label>Whatever</label></p>
    <p><Input type = radio Name = r1 Value = "WhatEver" onClick =GetSelectedItem()><label>Whatever</label></p>
    <p><Input type = radio Name = r1 Value = "WhatEver" onClick =GetSelectedItem()><label>Whatever</label></p>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:38:17.370

在子弹周围添加一个 div 并制作它`text-align:left; margin:0 auto` 并`width:2%`从`input`

```
.form{
    text-align:left; 
    margin:0 auto;
    display:inline-block
}
.container input {
    clear: both;
} 
```

**[演示](http://jsfiddle.net/zZjx4/1/)**

# ios - 土耳其语字符 ios

> ID：14809188
> 
> 赞同：1
> 
> 时间：2013-02-11T09:25:22.233
> 
> 标签：ios, xcode, utf-8

我是 iOS 编程的新手。我正在开发一个应用程序，它从我的网络服务中获取一些句子，这些句子我插入到我的本地数据库中但是，一些句子包含土耳其语字符，例如：“ü, ğ, ç, ö”。我可以很好地将这些字符插入到我的数据库中，但是当我将它们输出到 a 时`UILabel`，它看起来像：“≈ü ƒü √º √∂”。我试图转换为**NSUTF8StringEncoding**但无济于事。

我有一个`NSMutableArray`名为**questions**，其中包含一些土耳其语字符。如何将此数组转换为 NSUTF8String 格式？

对不起我的英语不好:) 谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:56:27.267

啊，我认为问题不在于你需要转换你的数组——而是你如何显示字符串。

检查包含土耳其足球运动员数组的代码：

```
NSMutableArray *questions = [[NSMutableArray alloc] initWithObjects:@"Emre Belözoğlu", @"Gökhan Gönül", @"Mevlüt Erdinç", @"Nuri Şahin", nil];

const char *utf8string = [[NSString stringWithFormat:@"%@", [questions objectAtIndex:0]] UTF8String];
self.title = [NSString stringWithUTF8String:utf8string]; 
```

它现在应该以正确的格式将页面标题显示为“Emre Belözoğlu”。

* * *

问题也可能与将数据从 SQLite 解析到您的`NSMutableArray`. 这是我为一级方程式应用程序实现它的方法。

在`viewDidLoad`我打电话时`[self loadNamesFromDatabase];`，它看起来像：

```
- (void)loadNamesFromDatabase
{
    NSString *file = [[NSBundle mainBundle] pathForResource:@"Formula1" ofType:@"sqlite"];
    sqlite3 *database = NULL;
    if (sqlite3_open([file UTF8String], &database) == SQLITE_OK) {
        sqlite3_exec(database, "select driver_id, driver_name, driver_nation, driver_team from drivers", MyCallback, drivers, NULL);
    }
    sqlite3_close(database);
} 
```

你看到的`MyCallback`功能如下：

```
static int MyCallback(void *context, int count, char **values, char **columns)
{
    NSMutableArray *drivers = (NSMutableArray *)context;
    NSString *columnName;
    NSString *columnValue;
    NSMutableDictionary * record = [NSMutableDictionary dictionary];
    for (int i=0; i < count; i++) {
        columnName = [NSString stringWithUTF8String:columns[i]];
        if (values[i]){
            columnValue = [NSString stringWithUTF8String:values[i]];
        }
        else{
            columnValue = @"";
        }
        [record setObject:columnValue forKey:columnName]; 
    }
    [drivers addObject:record];

    return SQLITE_OK;
} 
```

哪里`drivers`是`NSMutableArray`。这里的关键是`stringWithUTF8String`，您不需要使用顶部的代码，因为所有数据都应正确编码，因此将正确显示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:41:41.393

你能尝试另一种字体样式吗？例如;

```
myLabel.font = [UIFont fontWithName:@"Futura" size:10]; 
```

在 NSLog 行上看起来是什么？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-23T22:22:07.467

这是替代答案：

```
NSString *text  = brokenString;
NSData *data    = [text dataUsingEncoding: [NSString defaultCStringEncoding] ];
NSString *convertedToTurkishString = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding ]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-09-05T14:34:50.663

const char *utfString = [strText cStringUsingEncoding:NSMacOSRomanStringEncoding];

# ruby-on-rails - 如何将布尔工具添加到 Rails 索引视图？

> ID：14809189
> 
> 赞同：1
> 
> 时间：2013-02-11T09:25:23.040
> 
> 标签：ruby-on-rails, ruby-on-rails-3.2

在 Rails 3.2 应用程序中，将表单字段添加到索引视图的最佳方法是什么？

例如，如果我有一个用户列表，并且想要在每一行中添加一个“已批准”按钮来切换数据库中的布尔字段。

```
#users/index.html.erb    
<table>
  <tr>
    <th>Name</th>
    <th>Approved</th>
  </tr>
  <%= for user in @users %>
    <tr>
      <td><%= user.name %></td>
      <td><%= CHECKBOX FORM GOES HERE %></td>
    </tr>
  <% end %>
</table> 
```

我不确定如何设置表单标签和/或控制器以确保

a) 表格张贴到正确的位置和

b) 帖子在用户流程中有意义的某个点发送。

谁能指出我这种行为的任何好例子，或者建议我应该考虑什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:44:08.717

我们这样做的方法是向复选框添加观察者并向更新操作发送请求或仅为此功能添加新操作。添加新操作的优势在于它专注于该特定功能，没有额外的检查和其他东西。

您将更改/添加一些文件，就这样吧。希望它们很容易理解。

```
# view
<td><%= check_box_tag :approved, user.id, user.approved?, class: 'user-approve-cb' %>

# routes
resources :users do
  put :set_approved, on: :member
end

# js asset (using coffee)
$('.user-approve-cb:checkbox').change ->
  $.ajax
    url: '/users/' + @value + '/set_approved'
    type: 'PUT'
    data: { approved: $(this).attr('checked') }
    success: -> alert('User updated')

# controller
def set_approved
  @user = User.find params[:id]
  @user.update_column :approved, params[:approved]

  render nothing: true
end 
```

# java-me - j2me中图像转换的问题

> ID：14809192
> 
> 赞同：3
> 
> 时间：2013-02-11T09:25:25.100
> 
> 标签：java-me, midp, lcdui

我正在用 j2me 开发游戏。我不需要这个游戏的精灵，我直接画图像。我正在遵循的翻转图像的方法如下。但在设备上，如图 1.1 所示。如何解决这个问题。？请帮忙。

```
Image.createImage(source,0, 0, source.getWidth(), source.getHeight(), Sprite.TRANS_ROT180); 
```

图 1.0 : 翻转汽车图像之前

![在此处输入图像描述](../Images/0d7ea1308906b17e6872c294f4a0309a.png)

图 1.1 : 翻转汽车图像后

![在此处输入图像描述](../Images/9d8a8f45587aebdc5d6c4f956cc73d1e.png)

如图所示，翻转时背景为白色。有没有其他方法可以翻转图像？

[车宽为 60x62，带有透明像素。但是当翻转相同的图像时，白色背景的透明度消失了。]

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T12:30:00.480

根据 API 文档，如果原始图像是不可变的，则此版本的[Image.createImage](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/javax/microedition/lcdui/Image.html#createImage%28javax.microedition.lcdui.Image,%20int,%20int,%20int,%20int,%20int%29 "API 文档")有望保持透明度：

> 对于不可变的源图像，透明度信息（如果有）将原封不动地复制到新图像中。

要找出可能导致翻转图像透明度损失的原因，请检查 1) 源图像是否不可变以及 2) 源图像上的像素是否确实透明（`alpha`通道值为 0），如图像类[Alpha的 API 文档中所述加工部分](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/javax/microedition/lcdui/Image.html#alpha "API 文档")：

> 可变图像中的每个像素始终是完全不透明的。不可变图像可能包含完全不透明像素...、完全透明像素 (alpha = 0) 和半透明像素...
> 
> 实现必须支持不可变图像中完全不透明像素和完全透明像素的存储、处理和渲染。从源数据（无论是从 PNG 文件还是从 ARGB 数据数组）创建图像时，源数据中的完全不透明像素必须始终在新图像中产生完全不透明的像素，而在新图像中产生**完全透明的像素。源数据必须始终在新图像中产生完全透明的像素**......

# printing - 打印/导出地图的一部分

> ID：14809197
> 
> 赞同：0
> 
> 时间：2013-02-11T09:25:58.860
> 
> 标签：printing, here-api

有没有办法打印地图的可见部分？

所以我尝试使用 jQuery 打印内容 div，但我得到了一个空页面。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T17:03:33.313

如果您使用的是[适用于 JavaScript 的 Enterprise Maps API，](http://developer.here.com/javascript-apis/documentation/enterprise-maps)则可以添加一个`ContextMenu.captureHandler`，以便在右键单击上下文菜单时创建地图屏幕捕获图像。

```
 var contextMenu = new nokia.maps.map.component.ContextMenu();
  contextMenu.addHandler(nokia.maps.map.component.ContextMenu.captureHandler);
  contextMenu.removeHandler(nokia.maps.map.component.ContextMenu.routingHandler);
  map.components.add(contextMenu); 
```

可以在[此处](http://heremaps.github.io/examples/explorer.html#map-tiles__hi-res-printable-map)找到示例，但屏幕截图**仅适用于 Firefox**。

如果您使用[JavaScript 的基本 Maps API](http://developer.here.com/javascript-apis/documentation/maps)并且您的地图相对简单，您可以尝试循环并使用[MapImage API](http://developer.here.net/map_image)`mapObjects`生成等效的 URL，生成的 url 可以在 元素中使用，这应该有助于您打印内容。`<IMG>`

我为下面的基本地图和标记编写了一个快速 URL 生成器：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type" content="text/html; charset=us-ascii" />

  <title>KML Generator</title>
   <!-- This file is a simple URL editor/data generator. -->
        <script type="text/javascript" charset="UTF-8" src="http://api.maps.nokia.com/2.2.3/jsl.js"></script>

  <style type="text/css">
/*<![CDATA[*/
        #left {
                      position:relative;/*ie needs this to show float */
                      width:50%;/* same as the left margin on #outer*/
                      float:left;
                      left:-2px;/* push column into position*/
              }
              #left p {padding-left:2px;padding-right:2px}
              #right p {padding-left:2px;padding-right:2px}

              #right {
                      position:relative;/*ie needs this to show float */
                      width:50%;/* same as right margin on #outer*/
                      float:right;
                      left:2px;/* push column into position*/
              }
              #footer {
                      width:100%;
                      clear:both;
                      position:relative;
              }
              .nm_bubble_content{
                  color:white
              }

  /*]]>*/
  </style>
</head>

<body>
  <div>
    <div id="left">
      <div id="map" style="width: 800px; height: 400px;"></div>
    </div>

    <div id="right">
      lat: <span id="lat">?</span> long : <span id="lng"></span>?<br />

      <label for="title">Title</label> <input id="title" /><br />

      <input id="button1" type="button" value="Update Marker" onclick="editMarker(false)" />    
      <input id="button2" type="button" value="Delete Marker" onclick="deleteMarker()" />

    </div>
  </div>

  <div id="footer">
    <strong>KML</strong>
    <input id="button6" type="button" value="Create URL" onclick="saveMapObjects(map)" />    

    <br />

    <label for="urloutput">Output:</label> 
    <textarea id="urloutput" cols="120" rows="3"></textarea><br />
    <hr />
  </div>

  <script type="text/javascript">
/*<![CDATA[*/       
/////////////////////////////////////////////////////////////////////////////////////
// Don't forget to set your API credentials
//
// Replace with your appId and token which you can obtain when you 
// register on http://api.developer.nokia.com/ 
//
            nokia.Settings.set( "appId", "APP ID"); 
            nokia.Settings.set( "authenticationToken", "TOKEN");
//          
/////////////////////////////////////////////////////////////////////////////////////
/*]]>*/         
</script>
<script type="text/javascript">         
  // Set up variables pointing to the various text boxes, these
  // are used to display the texts for editing. 
  var lat = document.getElementById("lat");
  var lng = document.getElementById("lng");
  var title = document.getElementById("title");

  // Current Marker a reference to the latest marker to be added or edited.
  var currentMarker;

  // This is the map we can put KML elements on.
  var map = new nokia.maps.map.Display(document.getElementById("map"), {
        'components': [ 
                //behavior collection
                new nokia.maps.map.component.Behavior(),
                new nokia.maps.map.component.ZoomBar(),
                new nokia.maps.map.component.Overview(),
                new nokia.maps.map.component.TypeSelector(),
                new nokia.maps.map.component.ScaleBar() ],
        'zoomLevel': 12, //zoom level for the map
        'center': [52.51, 13.4] //center coordinates
  });
  // Remove zoom.MouseWheel behavior for better page scrolling experience
  map.removeComponent(map.getComponentById("zoom.MouseWheel"));

  // This will display the data from the <description> as HTML
  var infoBubbles = new nokia.maps.map.component.InfoBubbles();
  map.addComponent( infoBubbles);

  // Let's add an event to Long press on the map
  var EventTarget = nokia.maps.dom.EventTarget;
  var eventExEl = document.getElementById("map");

  // Attach EventTarget interface to the document to allow normalized events at the node.
  EventTarget(eventExEl);

  // Add a listener for the click event to the node and add a marker which shows an  if clicked.
  eventExEl.addListener("longpress", function(evt) {
        var markerData = new Object();
        // Retrieve the Coordinates from the map.
        markerData.coords = map.pixelToGeo(evt.targetX , evt.targetY);  
        // Set the title to the next number o the list for easy ident.
        markerData.title = map.objects.getLength() + 1;
        // Get the marker data from the edit boxes.

         currentMarker = addMarker(markerData);

  }, false);       

  // Removes the marker and removes the associated info bubble.
  function deleteMarker (){
        map.objects.remove(currentMarker);

  }

  // Changes the way a  marker is displayed or converts it from a marker to a waypoint.
  function editMarker(addWaypoint) {
        // deletes the current marker
        map.objects.remove(currentMarker);

      var markerData = new Object();
      // Read in the marker data from the edit boxes (and previously defined coordinates
      markerData.coords = currentMarker.coordinate;
      markerData.title = title.value;

        currentMarker = addMarker(markerData);

  }

  // Adds a new marker to the map, with additional functionality based on the edit box data.
  function addMarker(markerData) {

        var marker;

        if (markerData.title === undefined){
           markerData.title = "";
        }

            marker = new nokia.maps.map.StandardMarker(markerData.coords, {
                    text:  markerData.title, //small title
                    draggable: true,  //the marker is marked  to be draggable
                    $data: markerData

            });

        // When the marker is clicked, the edit boxes must be refreshed.
        marker.addListener("click" ,  function(evt) { 
                  if (evt.target.text === undefined){
                       title.value  = "";
                  } else {
                       title.value = evt.target.text; 
                  }

                  lat.innerHTML = evt.target.coordinate.latitude;
                  lng.innerHTML = evt.target.coordinate.longitude;

                  currentMarker = evt.target;
        }, false);

        // If a marker is dragged, we need to close the infobox.
        marker.addListener("drag" ,  function(evt) {                 
                 currentMarker = evt.target;
        }, false);

        map.objects.add(marker);
       return marker;

  }

//
// Library function for transforming extended characters into KML readable equivalents.
// This is required to ensure that the KML (which is a subset of XML) is syntactically
// Valid. The true HTML character codes may be found in the description element since
// it is held in a CDATA section, all other elements need to escape the & character
// which precedes the encoded character.
//
// It would be nice to add this as String prototype, but not all browsers support it.
//
function toUnicode (prefix, input){
        var output = "";

      var splitInput = (input===undefined) ? new Array() : input.split("");
        for (var i = 0; i < splitInput.length; i++){
                var currentChar = splitInput[i];
                // Encode any extended character plus &
                if (currentChar.charCodeAt()> 128 ||  currentChar.charCodeAt()== 38  || currentChar.charCodeAt()== 39 ) {
                        output = output +  prefix + currentChar.charCodeAt() + ";";
                } else {
                        output = output + currentChar;
                }           
        }

        return output;
}

  // Creates a valid URL file from the Map data.
  function saveMapObjects( map) {

        var markers = new Array();
        for (i=0; i< map.objects.getLength(); i++) {            
                if ( map.objects.get(i) instanceof nokia.maps.map.Marker ) { 
                         // Retrieve all the Marker data and add it to an array
                         var markerData = new Object();
                         markerData.id = toUnicode("&amp;#",map.objects.get(i).text);
                         markerData.latitude = map.objects.get(i).coordinate.latitude;
                         markerData.longitude = map.objects.get(i).coordinate.longitude;                        
                        markers.push(markerData); 

                }   
        }

        // Now output the URL, start with the standard parameters:
        var output = "http://m.nok.it/?"        
        + "app_id=" +  nokia.Settings.appId
        + "&token=" + nokia.Settings.authenticationToken
        + "&z=" + map.zoomLevel         
        + "&h=" +map.getDisplays()[0].height
        + "&w=" +map.getDisplays()[0].width;

         if (markers.length > 0){
              output = output  + "&poi="           

            // Loop nthrough the markers and add POI
            for (i=0; i< markers.length; i ++){
                    console.log (markers[i]);
                    output = output  + markers[i].latitude.toFixed(4) + "," + markers[i].longitude.toFixed(4);

                    if (i < markers.length-1){
                        output = output  +  ","
                    }
            }
        } else {
             output = output  + "&nord&nodot&c="    
                  + map.center.latitude.toFixed(4) + "," + map.center.longitude.toFixed(4);
        }

        output = output + "\n";
        document.getElementById("urloutput").value = output;
  }

  </script>
</body>
</html> 
```

替换您的 [应用程序 ID 和令牌](http://www.developer.nokia.com/Community/Wiki/How_to_Obtain_Your_Own_Nokia_appID_and_Token)以使其正常工作。

# javascript - 使用 if-else 使用 jquery 更改 display:none

> ID：14809198
> 
> 赞同：2
> 
> 时间：2013-02-11T09:26:03.317
> 
> 标签：javascript, jquery, css

我有两个 div：div "#Stage" 是 display="block"，有时是 "display:none"。根据这一点，我将出现我的第二个 div“#case”，默认为 display="none"。

所以我尝试了这两种方法：

```
if ($('#Stage').css('display') == 'none') {
    $('#case').css('display','block')
} // added display:none; to my css file at #case

if ($('#Stage').css('display') == 'none'){
    $('#case').show()
} else if ($('#Stage').css('display') != 'none'){
    $('#case').hide()
} 
```

但是这两种方法都不起作用，这意味着#case div 总是在 display:none 上。有谁知道如何解决它？

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-11T09:28:25.307

我会使用[**:visible**](http://api.jquery.com/visible-selector/)检查元素是否显示并使用[show()](http://api.jquery.com/show/)和[hide()](http://api.jquery.com/hide/)方法。

```
if ($('#Stage').is(':visible'))    
    $('#case').show();    
else
    $('#case').hide(); 
```

或者

```
if ($('#Stage:visible').length)    
    $('#case').show();    
else
    $('#case').hide(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T07:55:44.723

谢谢你的帮助。我的两个解决方案和第一个来自 Adil 的解决方案正在工作。这是与 Adob​​e Edge - edgeActions.js 的排序冲突。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T09:28:16.887

这可能是因为您`display:none`在 CSS 文件中使用，并且它具有优先权。尝试内联`#case`并查看是否有效。

# android - 如何一次使用地理编码和计时器

> ID：14809200
> 
> 赞同：0
> 
> 时间：2013-02-11T09:26:11.180
> 
> 标签：android, android-intent, android-emulator

**我创建了一个函数来在地理编码器的帮助下处理地址。功能是：**

```
 public String get_address(double latitude ,double longitude)
{
    String address=null;
    if(Geocoder.isPresent())
    {
        try{
            Geocoder geocoder2 = new Geocoder(mContext, Locale.getDefault());
              List<Address> addresses;
              addresses = geocoder2.getFromLocation(latitude, longitude, 2);
               if(addresses != null) {
                     Address returnedAddress = addresses.get(0);

                     StringBuilder strReturnedAddress = new StringBuilder("Address:\n");
                     //for(int i=0; i<returnedAddress.getMaxAddressLineIndex(); i++) {
                    // strReturnedAddress.append(returnedAddress.getAddressLine(i)).append("\n");
                    //}//or

                     if(returnedAddress.getMaxAddressLineIndex() > 0){
                         strReturnedAddress.append(returnedAddress.getAddressLine(0) + ", ");
                       }

                       strReturnedAddress.append(returnedAddress.getLocality() + ", ");
                       strReturnedAddress.append(returnedAddress.getCountryName());

                     address=strReturnedAddress.toString();
                     }
                     else{
                     address="No Address returned!";
                     }
               return address;

        }
        catch(Exception e)
        {
            Log.e("MyAPP", "Reverse geo lookup failed", e);
                address="reverse geo look up failed";
             return address;
        }

    }
    else
    {
        address="Geocoder is not present";
        return address;
    }

} 
```

*然后我在每 1 分钟后从计时器编写代码调用该函数，我需要返回地址。要开发这个计时器，我使用运行方法并调度调用*

私有类 mainTask 扩展 TimerTask {

```
 @Override
        public void run() {
            // TODO Auto-generated method stub
            //String add=set_address();
             gps = new gpstracker(ctx);

                // check if GPS enabled
                if(gps.canGetLocation()){
                    double latitude = gps.getLatitude();
                    double longitude = gps.getLongitude();
                   //String address=gps.convert_address();
                 String address2=gps.get_address(latitude, longitude);
                 address=address2;
                    // \n is for new line

                  //  Toast.makeText(getApplicationContext(), "address TWO ::"+address2, 500).show();
                }else{
                    // can't get location
                    // GPS or Network is not enabled
                    // Ask user to enable GPS/network in settings
                    gps.showSettingsAlert();

                }

            toastHandler.sendEmptyMessage(0);
        }

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:31:30.167

问题可能是您正在尝试访问

```
Address returnedAddress = addresses.get(1); 
```

但应该是

```
Address returnedAddress = addresses.get(0); 
```

因为第一项的索引为 0。

# javascript - 在模式之后使用正则表达式放置字符串

> ID：14809203
> 
> 赞同：1
> 
> 时间：2013-02-11T09:26:25.177
> 
> 标签：javascript, regex

`{something}`如果字符串包含`href="`or ，我想将字符串添加到字符串中`href='`。

*注意 - 周围可能有空间`=`。*

所以，如果我的输入是`<a href="http://google.com">Click</a>`

输出应该是`<a href="{something}http://google.com">Click</a>`

到目前为止，我有这个正则表达式与我想要匹配的内容匹配，但不知道如何在匹配部分之后添加字符串。

```
/href\s*=\s*(\"|\')/ 
```

我检查[了 javascript 中的正则表达式需要帮助来替换字符串模式](https://stackoverflow.com/questions/6115955/need-help-with-regex-in-javascript-to-replace-string-pattern)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T09:31:08.237

根据您的尝试，一般答案：

```
string.replace(/href\s*=\s*(\"|\')/, "href=$1{something}"); 
```

（`$1`简单地引用捕获的组，与您的正则表达式中的括号表达式匹配）

*修改元素href的*正确方法：**

 *```
element.href = '{something}' + element.href; 
```*

# javascript - 在 iframe 中显示另一个网站

> ID：14809208
> 
> 赞同：2
> 
> 时间：2013-02-11T09:26:35.587
> 
> 标签：javascript, html, iframe

当我使用 iframe 时，它​​不显示。有谁知道使用 iframe 或 div 在我的网页上显示其他网站的另一种方法。（或者简单的 JavaScript，那真的很棒。）

我尝试了 iframe：不起作用

我试过了`location.reference`：不起作用。

有任何想法吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-11T09:38:48.537

如果一个简单`<iframe>`的方法不起作用，那么在 Javascript 中也没有任何方法可以做到这一点。iframe 无法正常工作的最可能原因是目标站点正在发送标头以防止其他站点对其进行 iframe：

```
X-Frame-Options: DENY 
```

许多网站会这样做以防止称为[UI Redressing](http://en.wikipedia.org/wiki/Clickjacking)或[Clickjacking](http://en.wikipedia.org/wiki/Clickjacking)的常见漏洞。一些站点还将包含一些破坏框架的 Javascript 作为 HTTP 标头的备份安全措施。

来自[MDN](https://developer.mozilla.org/en-US/docs/HTTP/X-Frame-Options)：

> X-Frame-Options HTTP 响应标头可用于指示是否应允许浏览器以`<frame>`或呈现页面`<iframe>`。网站可以使用它来避免点击劫持攻击，方法是确保其内容不会嵌入到其他网站中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:43:06.517

如果 iframe 不起作用，则可能有两个原因，一是您的编码和目标站点阻止其他站点对其进行 iframe。有人提到代码尝试一下。

* * *

## 回答 #3

> 赞同：-4
> 
> 时间：2013-02-11T09:49:03.423

如果您需要使用 javascript 执行此操作：

```
<html>
<head>
    <script type="text/javascript">
    <!--
        function populateIframe() {
            var ifrm = document.getElementById('myIframe');
            ifrm = (ifrm.contentWindow) ? ifrm.contentWindow : (ifrm.contentDocument.document) ? ifrm.contentDocument.document : ifrm.contentDocument;
            ifrm.document.open();
            ifrm.document.write('Hello World!');
            ifrm.document.close();
        }
    //-->
    </script>
</head>
<body onload="populateIframe();">
    <iframe id="myIframe"></iframe>
</body>
</html> 
```

# ruby-on-rails - 将 Rails 部署到 Amazon EC2 - 很抱歉，出了点问题

> ID：14809219
> 
> 赞同：2
> 
> 时间：2013-02-11T09:27:28.283
> 
> 标签：ruby-on-rails, postgresql, amazon-ec2, capistrano, runtime-error

我一直在按照 rails cast 将我的应用程序部署到 amazon ec2 并且遇到了一些问题。我花了一段时间，但我昨天使用橡胶成功部署了一个测试“博客”应用程序，它是 create_staging 方法。我现在正在尝试部署我的实际应用程序，但遇到了一些困难。橡胶命令完成，但是当我尝试通过浏览器访问该网站时，我得到标准的“我们很抱歉，但出了点问题”。

看看我听到你说的日志文件，但是当我以 ubuntu 用户身份通过​​ SSH 登录服务器并输入`ls`任何内容时 - 就像服务器上没有文件一样，当我知道有文件时？

任何帮助真的很感激！

```
Connecting to database specified by database.yml
Started GET "/login" for 77.100.120.24 at 2013-02-11 07:28:18 -0500
Processing by AccessController#login as HTML
  Rendered access/login.html.erb within layouts/admin (17.8ms)
Completed 500 Internal Server Error in 1082ms

ActionView::Template::Error (stylesheet.css isn't precompiled):
    4: <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    5: <title>QLess - <%= @page_title || "Quick Drinks Ordering" %></title>
    6: <%= stylesheet_link_tag    "application", :media => "all" %>
    7: <%= stylesheet_link_tag    "stylesheet", :media => "all" %>
    8: <%= stylesheet_link_tag    "large_screen", :media => "all" %>
    9: <%= javascript_include_tag "application" %>
    10: <%= csrf_meta_tags %>
  app/views/layouts/admin.html.erb:7:in `_app_views_layouts_admin_html_erb__2871469925121006882_32798020' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T12:13:08.937

通过 ssh 登录到您的服务器，然后登录`cd`到应用程序路径，然后运行`cat log/production.log`，或者`tail -f log/production.log`如果您在生产模式下运行应用程序。否则使用环境名称而不是“生产”

更新：如果您有其他清单或单独的样式表和 JavaScript 文件要包含，您可以将它们添加到预编译数组中：

```
config.assets.precompile += ['admin.js', 'admin.css', 'swfObject.js'] 
```

从这里： http: [//guides.rubyonrails.org/asset_pipeline.html#precompiling-assets](http://guides.rubyonrails.org/asset_pipeline.html#precompiling-assets)

# django - 如何将值从视图传递到模板以绘制图形

> ID：14809222
> 
> 赞同：0
> 
> 时间：2013-02-11T09:27:42.533
> 
> 标签：django

```
template.html 
<script src="http://code.highcharts.com/highcharts.js"> 
</script> 
 <script >
$(document).ready(function() {
var chart = new Highcharts.Chart({

    chart: {
        renderTo: 'container',
        type: 'line'
    },
    title: {
        text: 'Power Consumption Vs Generator Consumption'
    },
    xAxis: {
        categories: [{{month_number|join:"','" }}]
    },
    yAxis: {
        title: {
            text: 'Fruit eaten'
        }
    },

    // series: [{
        // name: 'Truepower Consumed',
        // data: [1, 0, 4]},
    // {
        // name: 'Generator Consumed',
        // data: [5, 7, 3]}],
// });
 series: [{
        name: 'Truepower Consumed',
        data: [ '{{ p|join:"','" }}']},
    {
        name: 'Generator Consumed',
        data:   [ '{{ q|join:"','" }}']}],
}); 
```

});

```
 views.py 

def plot_graph(request):
    month_number=[]
    months=KEBReading.objects.filter().values("datetime_reading")
    print months
    for obj in months:
        month_number=obj["datetime_reading"].day
        print month_number
    q2=KEBReading.objects.filter().values("truepower_consumed")
    print q2
    q3=GeneratorReading.objects.filter().values("perday_dgunit")
    print q3
    for item in q2:
        power_values=item["truepower_consumed"]
        print power_values
    print "tee"
    for item in q3:
        gen_values=item["perday_dgunit"]
        print gen_values
    context={'m':month_number,'p':power_values,'q':gen_values}    
    return render_to_response('graph.html',context,
                               context_instance=RequestContext(request)) 
```

我试图绘制图表。我能知道如何将视图中的值传递给图形的 jQuery。context={'m':month_number,'p':power_values,'q':gen_values} p 和 q 是 y 轴值，m 有 x 轴值

```
 models.py 

 class KEBReading(models.Model):

   datetime_reading=models.DateTimeField()

   truepower_reading=models.DecimalField(verbose_name="True Power                          Reading(KWH)",max_digits=6,decimal_places=2,blank=False,null=False)
apparentpower_reading=models.DecimalField(verbose_name="Apparent Power Reading(KVAH)",max_digits=6,decimal_places=2,blank=False,null=False)
 truepower_consumed=models.DecimalField(max_digits=6,decimal_places=2,blank=False,null=False)
voltage_reading=models.IntegerField(blank=False,null=False)
powerfactor=models.DecimalField(max_digits=3,decimal_places=2)

 class GeneratorReading(models.Model):

  datetime_reading=models.DateTimeField()

 running_time=models.IntegerField(blank=False,null=False)
 running_time_consumed=models.SmallIntegerField(blank=False,null=False)
 dgunit_reading=models.DecimalField(max_digits=6, blank=True,decimal_places=2)
 perday_dgunit=models.DecimalField(max_digits=6, decimal_places=2) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:36:40.730

当我需要这种行为时，我经常编写一个过滤器，将我的 Object 或 Queryset 转换为 json 对象。

```
def jsonify(object):
    if isinstance(object, QuerySet):
         return serialize('json', object)
    return simplejson.dumps(object)

register.filter('jsonify', jsonify)

<script id="json_data" type="text/javascript">
    {{ my_data|jsonify|safe }}
</script> 
```

# ssrs-2008 - 使用跳转导出 SSRS 报告以在 excel 中报告？

> ID：14809224
> 
> 赞同：3
> 
> 时间：2013-02-11T09:27:43.037
> 
> 标签：ssrs-2008

我在 SSRS 中工作以生成向下钻取报告。有一个报告使用跳转报告作为导航参数。该报告在报告服务器上完美运行，但导出到 excel 时，链接不起作用。

我猜当 ssrs 报告导出到 excel 文件时，它会与指向报告服务器的超链接一起导出。

我想要做的是在报告之间跳转到报告导航功能。

例如，假设我有一个名为“**用户**”的报告，其中列出了一些用户，当单击用户的名称时，该报告会跳转到另一个报告**（User_details）**以及其他信息。这适用于报告服务器。但是当我将两个报告都导出到 Excel 表中时。不存在相同的导航行为，我最终得到以下消息。

```
Unable to open http://reortserver/?%2FdrilldownReport2&Region=WW&rs%3AParameterLanguage=. Cannot locate the Internet server or proxy server. 
```

有没有一种有效的方法来实现这一目标？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T09:51:26.227

报告预览建筑物的网址为：

```
http://[instance_name]/ReportServer/Pages/ReportViewer.aspx/[ReportPath] 
```

手动检查此向下钻取报告的链接是否可用，也许您缺少某些权限？看看你的情况，一切都应该正常。

**更新：** 如果您想在 excel 中添加导航（没有报表服务器） - 您可以更改向下钻取链接以返回向下钻取报告的 excel 文件。您可以添加向下钻取报告参数 - 附加条件参数*rs:Format：*

![在此处输入图像描述](../Images/a655b98a65c5fc5ca5f95ebaed6f8b6a.png)

并且不要忘记包含省略表达式 -`=Globals!RenderFormat.IsInteractive`这将阻止在交互模式 (html) 中传递此附加参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-10T20:15:29.380

我创建了一个类似的报告。我所做的是将子报告放入主报告的 tablix 文本框中。然后右键单击子报告。在显示的属性对话框中，选择可见性。然后，您要为“报表最初运行时：”选择隐藏。接下来，选中“可以通过此报告项目切换显示：”前面的框。现在应该启用一个下拉菜单，允许您选择希望能够单击的字段，以便现在显示子报告数据。

这是在带有 SQL Server Reporting Services Designers 版本 11.0.3436.0 的 VS 2012 中。

# javascript - 剪切、复制和粘贴不适用于 Firefox 15 onwords？

> ID：14809226
> 
> 赞同：-2
> 
> 时间：2013-02-11T09:27:51.853
> 
> 标签：javascript, mozilla

我正在为 firefox 使用 netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect')。

我正面临编辑器的浏览器兼容性问题。我们正在使用 HTML 编辑器。

在 IE 中，所有版本的剪切、复制和粘贴都适用于此编辑器。

对于 Mozilla，这些仅适用于某些版本。它在 Firefox 15 onwords 中不起作用....

当我右键单击时，剪切、复制和粘贴被禁用。即使shotcut键也不起作用。

有人能知道吗？请尽快澄清上述问题。

我们用于此复制选定的文本。这是一个示例代码：

```
PasteText.prototype.execute = function()
{

netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect');
var clip = Components.classes['@mozilla.org/widget/clipboard;1'].createInstance(Components.interfaces.nsIClipboard);
if (!clip) {
    return;
}
var trans = Components.classes['@mozilla.org/widget/transferable;1'].createInstance(Components.interfaces.nsITransferable);
if (!trans) {
    return;
}
trans.addDataFlavor('text/unicode');
clip.getData(trans,clip.kGlobalClipboard);
var str = new Object();
var len = new Object();
try {
    trans.getTransferData('text/unicode',str,len);
}
catch(error) { return; }
if (str) {
    if (Components.interfaces.nsISupportsWString) {
        str=str.value.QueryInterface(Components.interfaces.nsISupportsWString);
    } else if (Components.interfaces.nsISupportsString) {
        str=str.value.QueryInterface(Components.interfaces.nsISupportsString);
    } else {
        str = null;
    }
}

if (str) {
    var code = str.data.substring(0,len.value / 2);
}
code = code.replace( /\n/g, '<br/>' ) ;
window.activeEditor._inserthtml( code ) ;
}; 
```

谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:45:41.797

我推荐[ZeroClipboard](https://github.com/jonrohan/ZeroClipboard)作为解决方法。您可以通过 ID 选择一个元素，并用相同大小的透明 Flash 视频覆盖它。Flash 允许访问剪贴板，因此您可以剪切/复制内容。如果 iThings 不是那么令人担心，它可能是一个不错的选择。

ZeroClipboard 需要 Flash 9 或更高版本。所以我会先使用[swfobject](http://code.google.com/p/swfobject/)检查所需的版本。

```
if (swfobject.hasFlashPlayerVersion('9')) {
    $.getScript('/js/ZeroClipboard.min.js', function(){
         ZeroClipboard.setMoviePath('/swf/ZeroClipboard10.swf');
         var clip = new ZeroClipboard.Client;
         clip.setCSSEffects(true);
         clip.setHandCursor(true);
         clip.glue('copy-elem-id', 'copy-elem-id-container');
         clip.addEventListener('onMouseDown', function(e){
             var copyText = $('#textbox-id').text();
             clip.setText(copyText);
         });
    });
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T11:29:46.380

我们需要使用 about:config 不带引号添加一些权限。

user_pref("capability.policy.policynames", "allowclipboard"); user_pref("capability.policy.allowclipboard.sites", " [https://www.mozilla.org](https://www.mozilla.org) "); user_pref("capability.policy.allowclipboard.Clipboard.cutcopy", "allAccess"); user_pref("capability.policy.allowclipboard.Clipboard.paste", "allAccess");

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T09:33:51.170

来自[Mozilla 的支持页面](http://support.mozilla.org/en-US/questions/936845)；

> 从 Firefox 17 开始，特权代码不能再在网页中运行。**在 Firefox 15 中，您必须手动更改设置才能启用它。**您可以将这种功能带到扩展程序中。起点：[https ://developer.mozilla.org/en-US/docs/Code_snippets/Interaction_between_privileged_and_non-privileged_pa​​ges](https://developer.mozilla.org/en-US/docs/Code_snippets/Interaction_between_privileged_and_non-privileged_pages)
> 
> 对于初学者：[https ://developer.mozilla.org/en-US/docs/XUL_School/Getting_Started_with_Firefox_Extensions](https://developer.mozilla.org/en-US/docs/XUL_School/Getting_Started_with_Firefox_Extensions)
> 
> 更多信息：[https ://developer.mozilla.org/en-US/docs/Bypassing_Security_Restrictions_and_Signing_Code](https://developer.mozilla.org/en-US/docs/Bypassing_Security_Restrictions_and_Signing_Code)

[在这里](https://bugzilla.mozilla.org/show_bug.cgi?id=546848)，您可以找到关于该主题的（有些激烈的）讨论已经持续了几年:)

# ide - 如何验证 XSD（架构文档）？

> ID：14809227
> 
> 赞同：0
> 
> 时间：2013-02-11T09:27:52.747
> 
> 标签：ide, xsd

我想验证我的应用程序创建的 XSD（架构文档）。我想查看生成的 XSD 是否有任何验证错误

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:31:10.870

你的设置是什么？大多数 IDE 可以验证 XML（Eclipse、Intellij IDEA 等）。有可用的[在线检查器](http://www.w3.org/2001/03/webdata/xsv)，您当然也可以通过编程方式进行检查。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T09:30:11.120

根据 XSD 架构验证它：

[http://www.w3.org/2001/XMLSchema.xsd](http://www.w3.org/2001/XMLSchema.xsd)

# extjs4.1 - 如何停止在 extjs 中提交的数字的自动舍入

> ID：14809231
> 
> 赞同：0
> 
> 时间：2013-02-11T09:28:12.203
> 
> 标签：extjs4.1

我正在使用 extjs 数字字段，它在保存时会自动四舍五入到 2 位。IE。如果我输入 3.2356，它将被保存为 3.24。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:33:00.223

我解决了。使用小数精度。

在小数点分隔符后显示的最大精度。默认为：2

# android - TreeSet Java 代码在 java 应用程序中工作但不在 android 项目中

> ID：14809235
> 
> 赞同：0
> 
> 时间：2013-02-11T09:28:22.867
> 
> 标签：android, date, treeset

这是我作为 java 应用程序执行时的代码

```
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;

import java.util.Iterator;
import java.util.List;
import java.util.ArrayList;
import java.util.Locale;
import java.util.TreeSet;

public class DateRounding {

public static void main(String[] args) throws ParseException {

List ls=new ArrayList();

ls.add (new SimpleDateFormat("yyyy-MM-dd-HH-mm", Locale.ENGLISH).parse("2010-02-31-14-30"));
ls.add(new SimpleDateFormat("yyyy-MM-dd-HH-mm", Locale.ENGLISH).parse("2010-02-31-14-50"));
ls.add(new SimpleDateFormat("yyyy-MM-dd-HH-mm", Locale.ENGLISH).parse("2010-02-31-14-10"));
ls.add(new SimpleDateFormat("yyyy-MM-dd-HH-mm", Locale.ENGLISH).parse("2010-02-31-14-01"));
final Calendar c = Calendar.getInstance();
String string = "2010-02-31-14-00";
Date date = new SimpleDateFormat("yyyy-MM-dd-HH-mm", Locale.ENGLISH).parse(string);
Date x=getDateNearest(ls , date);
System.out.println("date:"+x);
System.out.println(ls.indexOf(x));
System.out.println("index:"+ls.indexOf(new SimpleDateFormat("yyyy-MM-dd-HH-mm", Locale.ENGLISH).parse("2010-02-31-14-10")));

}

private static Date getDateNearest(List<Date> dates, Date targetDate){
    return new TreeSet<Date>(dates).higher(targetDate);

         // return targetDate;

    }

} 
```

当我将相同的代码添加到 android 项目时显示错误“TreeSet 类型的方法更高（日期）未定义”，但是这个更高（）在 java 应用程序中运行良好.....我如何在 android 中使用更高的方法?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:44:38.987

撇开注释中的参数不谈，如果你**真的**想使用 .higher()，那么你必须将最低 API 级别设置为 9 或更高。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T09:45:00.883

您的编译器的合规性设置设置为 JRE 1.4（`higher`首次出现在 1.5 中）。检查项目的配置（很难在不知道它是哪个工具或 IDE 的情况下提供详细信息）。

最新版本的 Android 不仅支持，甚至要求遵守 JRE 1.5 或 1.6。从中我可以快速测试，Android 2.2 API level 8 抱怨和 Android 3.1 level 12 已经没有。截至今天，最新的水平是 17。

查看[开发人员手册](http://developer.android.com/training/basics/firstapp/index.html)，了解如何为 Android 构建正确的应用程序。`public static void main(String[] args)`这不是正确的方法。

# .net - 在代码中模拟页面生命周期

> ID：14809239
> 
> 赞同：0
> 
> 时间：2013-02-11T09:28:44.467
> 
> 标签：.net, webforms, page-lifecycle

我有一个自定义方法`Control`，我在上面覆盖了该`OnInit`方法。

**更新**

看来我需要`Init`通过`userControl.GetType().GetEvent("Init")`. 但是`RaiseMethod`事件的属性是，`null`所以我无法通过反射*引发事件。***有什么线索吗？**

# 老的

我使用以下代码加载控件（`ReflectionUtil`使用反射调用方法）：

```
 Page p = new Page();
        UserControl userControl = (UserControl)p.LoadControl(path);
        p.Controls.Add((Control)userControl);

        //EventArgs eventArgs = new EventArgs();

        //ReflectionUtil.CallMethod((object)p, "OnInit", (object[])new EventArgs[1] { eventArgs });
        //ReflectionUtil.CallMethod((object)userControl, "OnInit", (object[])new EventArgs[1] { eventArgs });

        //Plain Reflection doesn't work either...
        EventArgs eventArgs = new EventArgs();

        MethodInfo initMethod = userControl.GetType().GetMethod("OnInit");
        initMethod.Invoke(userControl, (object[])new EventArgs[1]
          {
            eventArgs
          }); 
```

但是，当我在自定义控件的`OnInit`方法中设置断点时，它不会被调用。**我在这里错过了什么吗？**任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:25:58.280

[OnInit](http://msdn.microsoft.com/en-us/library/system.web.ui.control.oninit.aspx)受到保护，您使用的[GetMethod重载仅获取公共方法。](http://msdn.microsoft.com/en-us/library/system.type.getmethod.aspx)

您可以使用[带有绑定标志 NonPublic 的重载](http://msdn.microsoft.com/en-us/library/05eey4y9.aspx)来获取受保护的方法。

# c# - 在 Outlook 2010 上访问电子邮件时出现 COMException

> ID：14809242
> 
> 赞同：5
> 
> 时间：2013-02-11T09:29:12.870
> 
> 标签：c#, visual-studio-2010, email, comexception

您好，我正在尝试通过 C# 控制台应用程序在 Outlook 2010 中访问我的电子邮件。

Visual Studio 以管理员权限启动，我添加了对 Outlook 的引用`Microsoft.Office.Interop.Outlook v14.0.0.0`并将其用作 Outlook。

我的代码：

```
Console.Write("starting");
Outlook.Application app = new Outlook.Application();
Outlook.NameSpace mapiNameSpace = app.GetNamespace("MAPI");
Outlook.MAPIFolder myInbox = mapiNameSpace.GetDefaultFolder(Outlook.OlDefaultFolders.olFolderInbox);
Console.WriteLine(((Outlook.MailItem)myInbox.Items[0]).Subject);
Console.WriteLine("readline:");
Console.ReadLine(); 
```

第二行，抛出错误消息：

```
Retrieving the COM class factory for component with CLSID {0006F03A-0000-0000-C000-000000000046} failed due to the following error: 80080005 Server execution failed (Exception from HRESULT: 0x80080005 (CO_E_SERVER_EXEC_FAILURE)). 
```

你知道有什么解决办法吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-02-07T07:27:29.633

这是因为进程的特权。请以管理员身份运行 Visual Studio 和 Outlook。

简单的解决方案。以管理员身份运行两者或以正常权限级别运行两者。

问候拉米兹阿里

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-11T13:15:48.260

尝试阅读以下内容：http: [//support.microsoft.com/kb/870655](http://support.microsoft.com/kb/870655)

> 原因：
> 如果许多 COM+ 应用程序在此用户属性中指定的不同用户帐户下运行，则计算机无法分配内存来为新用户创建新的桌面堆。因此，该过程无法启动。
> 
> 变通方法：要变通解决此问题，请修改以下注册表子项的值：HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\Session Manager\SubSystems\Windows

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-10T06:06:43.497

以下步骤可能会有所帮助...

HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\Session Manager\SubSystems - Windows

%SystemRoot%\system32\csrss.exe ObjectDirectory=\Windows SharedSection=1024,3072,512 Windows=On SubSystemType=Windows ServerDll=basesrv,1 ServerDll=winsrv:UserServerDllInitialization,3 ServerDll=winsrv:ConServerDllInitialization,2 ProfileControl=Off MaxRequestThreads= 16

ASP.net 用户必须存在于管理工具/计算机管​​理/用户

* * *

对于 32 位 (x86)，创建此文件夹：C:\Windows\System32\config\systemprofile\Desktop--> 添加网络服务

## Windows\Microsoft.NET\Framework\v2.0.50727\Temporary ASP.NET Files 提供写入权限。

在 Web.config 中更改 impersonate=true，

在 IIS for windows server 2003 中选择帐户作为 NETWORK SERVICE。

在 DCOMCONFIG 中将身份更改为交互式用户。

还为特定目录赋予所有权利。

* * *

Internet 选项 - 高级选项卡。一直滚动到底部并取消选中名为“检查发布者的证书吊销”的项目。

注册表：CLSID：{0006F03A-0000-0000-C000-000000000046} 在 HKEY_CLASSES_ROOT\CLSID\ 的这个键下，添加一个字符串值 AppID = 与 ID 相同的值 例如：{0006F03A-0000-0000-C000-000000000046}

然后在 HKEY_CLASSES_ROOT\AppID\ 下添加一个字符串值： RunAs = Interactive User

右键单击 CLSID 和 APPID、权限、安全性，然后编辑启动和访问权限以添加和授予网络服务和交互完全权限。

* * *

禁用所有其他 Outlook 加载项： Outlook 工具菜单 | 选项 | 其他标签 | 高级选项 | COM 加载项 | 取消选中项目。如果这解决了问题，则一次重新启用一个加载项，直到问题再次出现

* * *

授予 IIS 用户对文件夹“C:\WINDOWS\TEMP”的读/写访问权限所有 Dll 应放在 C:\Program Files\Microsoft Visual Studio 9.0\Visual Studio Tools for Office\PIA\Office12

# javascript - javascript正则表达式重复括号

> ID：14809243
> 
> 赞同：0
> 
> 时间：2013-02-11T09:29:19.170
> 
> 标签：javascript, regex

我想用 ....('2074')... 替换 ...('2073')... 但我最终用 ...(('2074'))... 我可以'不明白为什么。

给定以下 javascript 代码：

```
var sGroupIdentifier = "2073";
var sSelectedGroupTR = "... onclick=\"MakeNewGroup('2073')\">New</a> ... ";
var rex = new RegExp("\('" + sGroupIdentifier + "'\)", "g")

sNewGroupIdentifier = "2074";
var sNewGroupTR = sSelectedGroupTR.replace(rex, "(\'" + sNewGroupIdentifier + "\')");
alert(sNewGroupTR) 
```

当然，我可以删除 .replace 中的括号，但我就是不明白。据我所知，匹配 ('2073') 而不是 '2073' 因为我使用了 ( 而不是 \

有谁愿意解释...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:31:55.877

您正在使用字符串文字创建正则表达式，因此`\(`最终成为`(`正则表达式编译器，而不是`\(`. 如果您希望正则表达式编译器看到`\`，则需要在字符串文字中对其进行转义：

```
var rex = new RegExp("\\('" + sGroupIdentifier + "'\\)", "g"); 
```

避免使用字符串尽可能创建正则表达式的众多原因之一（但在您的情况下，作为`sGroupIdentifier`字符串，您可能不能）。

# iphone - Monodevelop 将 iPhone 转换为 iPhone 故事板？

> ID：14809245
> 
> 赞同：1
> 
> 时间：2013-02-11T09:29:35.403
> 
> 标签：iphone, storyboard, monodevelop, xib

我的项目是 MonoDevelop 上的一个 iPhone 项目。

我创建了一个 Main.storyboard 并从 XCode 中选择它作为主故事板。但是我的选择随后消失了。我也选择了主界面但没办法。

有没有简单的方法在 xib 类型和故事板类型之间更改类型？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:15:29.420

关于 MonoDevelop 项目选项。在 Build 部分下有 iPhone 应用程序部分。在 iPhone / iPod 部署信息下选择我的故事板名称作为主界面解决了这个问题。

但它在 XCode 中仍然是空的。没关系。

# semantic-web - HTML 中的结构化数据 - schema.org 或 GoodRelations

> ID：14809247
> 
> 赞同：2
> 
> 时间：2013-02-11T09:29:44.660
> 
> 标签：semantic-web, ontology, semantic-markup, schema.org, structured-data

有没有人有经验，可以解释如何在 HTML 页面中正确使用结构数据。简单的事情很容易，但困难的事情怎么做呢？是否可以使用不同的标准，例如[schema.org](http://schema.org/)和[GoodRelations](http://www.heppnetz.de/projects/goodrelations/)。

我想有以下结构：

一个人，其职业是拥有医学职称的医生。专业是神经病学和儿科。

这个很简单（可能有一些错误）：

```
<div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Person">
  <span property="v:title" content="dr. medicine"></span>
  <span property="v:name" content="Real Name"></span>
  <span property="v:role" content="neurology"></span>
  <span property="v:role" content="pediatric"></span>
</div> 
```

下一节呢？此人在三个不同的地方工作：

*   私人办公室
*   医疗中心
*   一所医院

在每个地方，人出现在不同的时间和日子。每个地方都有不同的电话号码和不同的地理位置。这个人在每个地方都有不同的角色：

*   私人办公室的所有者
*   医疗中心的正式员工
*   医院神经科主任

在这里，我感到困惑。如何映射人和地点之间的所有关系？是否可以将结构数据放在不同的网页上？如果是这样，如何引用它们。

组织片段（可能还有很多错误）：

```
<div xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#" xmlns="http://www.w3.org/1999/xhtml" xmlns:foaf="http://xmlns.com/foaf/0.1/" xmlns:gr="http://purl.org/goodrelations/v1#" xmlns:vcard="http://www.w3.org/2006/vcard/ns#" xmlns:xsd="http://www.w3.org/2001/XMLSchema#">
  <div about="#poffice" typeof="gr:LocationOfSalesOrServiceProvisioning">
    <div property="rdfs:label" content="Private office"></div>
    <div rel="vcard:adr">
      <div typeof="vcard:Address">
        <div property="vcard:country-name" content="US"></div>
        <div property="vcard:locality" content="New York"></div>
        <div property="vcard:postal-code" content="22 222"></div>
        <div property="vcard:street-address" content="W 4th, 80"></div>
      </div>
     </div>
     <div property="vcard:tel" content="22 222 222 222"></div>
     <div rel="foaf:depiction" resource="http://niceURL/logo.png"></div>
     <div rel="vcard:geo">
      <div>
        <div property="vcard:latitude" content="00.000000" datatype="xsd:float"></div>
        <div property="vcard:longitude" content="00.000000" datatype="xsd:float"></div>
      </div>
     </div>
     <div rel="gr:hasOpeningHoursSpecification">
       <div about="#mon_fri" typeof="gr:OpeningHoursSpecification">
         <div property="gr:opens" content="14:00:00" datatype="xsd:time"></div>
         <div property="gr:closes" content="20:00:00" datatype="xsd:time"></div>
         <div rel="gr:hasOpeningHoursDayOfWeek" resource="http://purl.org/goodrelations/v1#Friday"></div>
         <div rel="gr:hasOpeningHoursDayOfWeek" resource="http://purl.org/goodrelations/v1#Thursday"></div>
         <div rel="gr:hasOpeningHoursDayOfWeek" resource="http://purl.org/goodrelations/v1#Wednesday"></div>
         <div rel="gr:hasOpeningHoursDayOfWeek" resource="http://purl.org/goodrelations/v1#Tuesday"></div>
         <div rel="gr:hasOpeningHoursDayOfWeek" resource="http://purl.org/goodrelations/v1#Monday"></div>
       </div>
       <div rel="foaf:page" resource=""></div>
     </div>
  </div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:39:29.937

Schema.org 为您提供了用于结构表示的不同类型的数据类型。访问他们的网站并检查可用的数据类型。网站上有简单的过程来添加架构。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T13:52:39.517

您可以使用 RDFa 中的术语`schema.org`，您的 GoodRelations 示例也在 RDFa 中。所以两者都用。RDFa 的一个优点是它是可扩展的和开放式的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-21T19:03:24.493

请注意，截至 2012 年 11 月，您可以直接从 schema.org 命名空间使用完整的 GoodRelations 概念模型，请参阅

[http://wiki.goodrelations-vocabulary.org/Cookbook/Schema.org](http://wiki.goodrelations-vocabulary.org/Cookbook/Schema.org)

参见例如以下示例：

```
<div itemscope itemtype="http://schema.org/Offer" itemid="#offer">
  <div itemprop="name">Hepp Personal SCSI Controller Card</div>
  <div itemprop="description">The Hepp Personal SCSI is a 16-bit add-on card that allows
attaching up to seven SCSI devices to your computer.</div>
  <link itemprop="businessFunction"
        href="http://purl.org/goodrelations/v1#Sell" />
<!-- Unit price -->
  <div itemscope itemprop="priceSpecification"
       itemtype="http://schema.org/UnitPriceSpecification">Price:
    <meta itemprop="priceCurrency" content="EUR">Euro:
    <span itemprop="price">99.99</span>
    <time itemprop="validThrough"
          datetime="2012-11-30T23:59:59Z"></time>
  </div>
<!-- Shipment fees -->
  Delivery costs to
  <div itemscope itemprop="priceSpecification"
       itemtype="http://schema.org/DeliveryChargeSpecification">
    <meta itemprop="eligibleRegion" content="DE">Germany:
    <meta itemprop="priceCurrency" content="EUR">Euro:
    <span itemprop="price">10.00</span>
    <link itemprop="appliesToDeliveryMethod"
          href="http://purl.org/goodrelations/v1#UPS" />(via UPS)
  </div>
<!-- other offer properties follow here -->
...
</div> 
```

请注意，GoodRelations 命名空间和 schema.org 命名空间之间的某些属性名称略有不同：

**课程**

```
schema:Offer = gr:Offering
schema:IndividualProduct = gr:Individual
schema:ParcelService = gr:DeliveryModeParcelService
schema:Place = gr:Location
schema:ProductModel = gr:ProductOrServiceModel
schema:CreditCard = gr:PaymentMethodCreditCard
schema:Product = gr:ProductOrService
schema:SomeProducts = gr:SomeItems 
```

**对象属性**

```
schema:priceSpecification = gr:hasPriceSpecification
schema:businessFunction = gr:hasBusinessFunction
schema:eligibleCustomerType = gr:eligibleCustomerTypes
schema:manufacturer = gr:hasManufacturer
schema:warrantyScope = gr:hasWarrantyScope
schema:inventoryLevel = gr:hasInventoryLevel
schema:dayOfWeek = gr:hasOpeningHoursDayOfWeek
schema:brand = gr:hasBrand
schema:itemOffered = gr:includes
schema:makesOffer = gr:offers
schema:availableDeliveryMethod = gr:availableDeliveryMethods
schema:openingHoursSpecification = gr:hasOpeningHoursSpecification
schema:eligibleQuantity = gr:hasEligibleQuantity
schema:warranty = gr:hasWarrantyPromise
schema:image = http://xmlns.com/foaf/0.1/depiction
schema:acceptedPaymentMethod = gr:acceptedPaymentMethods 
```

一个特例是 schema:durationOfWarranty

这曾经是 GoodRelations 中的 gr:durationOfWarrantyInMonths，但很快就会更新以匹配来自 schema.org 的新名称和范围。

**数据类型属性**

```
schema:minPrice = gr:hasMinCurrencyValue
schema:unitCode = gr:hasUnitOfMeasurement
schema:isicV4 = gr:hasISICv4
schema:gtin8 = gr:hasGTIN-8
schema:maxPrice = gr:hasMaxCurrencyValue
schema:gtin14 = gr:hasGTIN-14
schema:maxValue = gr:hasMaxValue
schema:mpn = gr:hasMPN
schema:value = gr:hasValue
schema:model = gr:hasMakeAndModel
schema:gtin13 = gr:hasEAN_UCC-13
schema:globalLocationNumber = gr:hasGlobalLocationNumber
schema:naics = gr:hasNAICS
schema:priceCurrency = gr:hasCurrency
schema:sku = gr:hasStockKeepingUnit
schema:duns = gr:hasDUNS
schema:minValue = gr:hasMinValue
schema:eligibleRegion = gr:eligibleRegions 
```

# android - AChartEngine：在 RangeBar 图表系列中设置 x 值

> ID：14809248
> 
> 赞同：1
> 
> 时间：2013-02-11T09:29:54.280
> 
> 标签：android, achartengine

我的目标是在 CombinedChart 视图中显示 RangeBar 图表和 timeChart。两个系列都显示有关相同时间间隔的信息。我的问题是我无法定义 RangeBar 图表的 x 值。因此，它的值在 x 轴上几乎都显示为 0，而 TimeSeries 从 x 轴上的值 100000 开始（以毫秒为单位的日期时间）。我希望使用 TimeSeries 数据中的 x 值定义 RangeBar 中的 x 值，但在 RangeCategorySeries 中，您只能添加 minValue 和 MaxValue。

```
RangeCategorySeries series = new RangeCategorySeries(name);
series.add(minValue, maxValue); 
```

所以 x 值为 0,1,2,3, ...

有人有解决我问题的想法吗？也许还有另一个系列类我可以用于 RangeBar 图表，我也可以在其中定义 xValue？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:35:56.200

具有巨大的`TimeChart`X 轴值。那是因为它实际上有 Date 时间戳。

为了使多个图表在 a 中看起来不错`CombinedXYChart`，它们必须具有重叠的 X 轴。

我建议您使用常规`LineChart`而不是使用`TimeChart`设置自定义 X 轴标签`renderer.addXTextLabel();`

# iphone - 如何为 EGOTextview 设置颜色

> ID：14809266
> 
> 赞同：1
> 
> 时间：2013-02-11T09:31:04.367
> 
> 标签：iphone, ios, textview

我正在创建`TextView`基于应用程序。在我的应用程序中，我想在单个中创建具有不同字体的多色文本，`textview`以便我更喜欢`EGOTextView`. 通过使用`egotextview`，我更改了字体，但我不知道如何更改文本颜色。我该如何设置颜色，`EGOTextview`请给我一些建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:38:42.627

`EGOTextView`支持`NSAttributedString`，您可以使用它来更改文本的颜色，只要有许多其他属性，请查看this [other question](https://stackoverflow.com/questions/3482346/how-do-you-use-nsattributedstring)了解更多详细信息。

# ruby-on-rails-3 - 未定义的方法`ssl？为了 ＃

> ID：14809273
> 
> 赞同：1
> 
> 时间：2013-02-11T09:31:27.320
> 
> 标签：ruby-on-rails-3, facebook

我一直在寻找解决方案，但我发现的那些并没有解决我的问题。我正在关注[#235 Omniauth 第 1 部分](http://railscasts.com/episodes/235-omniauth-part-1)教程，以在我的网络中添加 Facebook 身份验证。当我访问时，`localhost:3000/auth/facebook`我得到一个 NoMethodError`undefined method 'ssl?' for <Rack::Request:0x7fdacdb89bb0>`

这个[GitHub问题](https://github.com/songkick/oauth2-provider/issues/34)说问题出在环境中，但我不知道如何解决。

**宝石文件：**

```
source 'http://rubygems.org'

gem 'rails', '3.0.1'
gem 'sqlite3-ruby', :require => 'sqlite3'

# User management plugin
gem 'devise'

# Photo attachment management plugin
# gem 'paperclip'

# Form simplifier
gem 'simple_form'
gem 'country-select'

# Add jquery
gem 'jquery-rails'

# Add gravatar images
gem 'gravatar_image_tag'

# VCard generation
gem 'vpim'

# Use unicorn as the web server
# gem 'unicorn'

# Deploy with Capistrano
# gem 'capistrano'

# To use debugger
# gem 'ruby-debug'

# Bundle the extra gems:
# gem 'bj'
# gem 'nokogiri'
# gem 'sqlite3-ruby', :require => 'sqlite3'
# gem 'aws-s3', :require => 'aws/s3'

# Bundle gems for the local environment. Make sure to
# put test-only gems in this group so their generators
# and rake tasks are available in development mode:
# group :development, :test do
#   gem 'webrat'
# end
gem 'oauth2'
gem 'omniauth'
gem 'omniauth-facebook'
gem 'rack-ssl' 
```

**Gemfile.lock:**

```
GEM
  remote: http://rubygems.org/
  specs:
    abstract (1.0.0)
    actionmailer (3.0.1)
      actionpack (= 3.0.1)
      mail (~> 2.2.5)
    actionpack (3.0.1)
      activemodel (= 3.0.1)
      activesupport (= 3.0.1)
      builder (~> 2.1.2)
      erubis (~> 2.6.6)
      i18n (~> 0.4.1)
      rack (~> 1.2.1)
      rack-mount (~> 0.6.12)
      rack-test (~> 0.5.4)
      tzinfo (~> 0.3.23)
    activemodel (3.0.1)
      activesupport (= 3.0.1)
      builder (~> 2.1.2)
      i18n (~> 0.4.1)
    activerecord (3.0.1)
      activemodel (= 3.0.1)
      activesupport (= 3.0.1)
      arel (~> 1.0.0)
      tzinfo (~> 0.3.23)
    activeresource (3.0.1)
      activemodel (= 3.0.1)
      activesupport (= 3.0.1)
    activesupport (3.0.1)
    arel (1.0.1)
      activesupport (~> 3.0.0)
    bcrypt-ruby (2.1.4)
    bcrypt-ruby (2.1.4-x86-mingw32)
    builder (2.1.2)
    country-select (1.0.5)
    devise (1.1.3)
      bcrypt-ruby (~> 2.1.2)
      warden (~> 0.10.7)
    erubis (2.6.6)
      abstract (>= 1.0.0)
    faraday (0.8.4)
      multipart-post (~> 1.1)
    gravatar_image_tag (1.0.0)
    hashie (1.2.0)
    httpauth (0.2.0)
    i18n (0.4.2)
    jquery-rails (0.2.6)
      rails (~> 3.0)
      thor (~> 0.14.4)
    jwt (0.1.5)
      multi_json (>= 1.0)
    mail (2.2.10)
      activesupport (>= 2.3.6)
      i18n (~> 0.4.1)
      mime-types (~> 1.16)
      treetop (~> 1.4.8)
    mime-types (1.16)
    multi_json (1.5.0)
    multipart-post (1.1.5)
    oauth2 (0.8.0)
      faraday (~> 0.8)
      httpauth (~> 0.1)
      jwt (~> 0.1.4)
      multi_json (~> 1.0)
      rack (~> 1.2)
    omniauth (1.1.2)
      hashie (~> 1.2)
      rack
    omniauth-facebook (1.4.1)
      omniauth-oauth2 (~> 1.1.0)
    omniauth-oauth2 (1.1.1)
      oauth2 (~> 0.8.0)
      omniauth (~> 1.0)
    polyglot (0.3.1)
    rack (1.2.8)
    rack-mount (0.6.13)
      rack (>= 1.0.0)
    rack-ssl (1.3.3)
      rack
    rack-test (0.5.6)
      rack (>= 1.0)
    rails (3.0.1)
      actionmailer (= 3.0.1)
      actionpack (= 3.0.1)
      activerecord (= 3.0.1)
      activeresource (= 3.0.1)
      activesupport (= 3.0.1)
      bundler (>= 1.0.0)
      railties (= 3.0.1)
    railties (3.0.1)
      actionpack (= 3.0.1)
      activesupport (= 3.0.1)
      rake (>= 0.8.4)
      thor (~> 0.14.0)
    rake (0.8.7)
    simple_form (1.5.2)
      actionpack (~> 3.0)
      activemodel (~> 3.0)
    sqlite3-ruby (1.3.1)
    sqlite3-ruby (1.3.1-x86-mingw32)
    thor (0.14.6)
    treetop (1.4.9)
      polyglot (>= 0.3.1)
    tzinfo (0.3.23)
    vpim (0.695)
    warden (0.10.7)
      rack (>= 1.0.0)

PLATFORMS
  ruby
  x86-mingw32

DEPENDENCIES
  country-select
  devise
  gravatar_image_tag
  jquery-rails
  oauth2
  omniauth
  omniauth-facebook
  rack-ssl
  rails (= 3.0.1)
  simple_form
  sqlite3-ruby
  vpim 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T05:24:44.343

我刚才也有同样的问题。1.4+ 版本的 rack`ssl?`定义了方法，但由于 rails 3.0.19，我被困在 1.2.7 上。

我能够通过`ssl?`在我的应用程序中定义方法来解决它。我`rack_patch.rb`在`config/initializers`文件夹中添加了一个文件。该文件的内容如下：

```
require 'rack'

Rack::Request.class_eval do
    def ssl?
     scheme == 'https'
    end
end 
```

I am not getting the error anymore and able to login through facebook. Hopefully this helps someone as I could not find a detailed answer through google.

# android - ANDROID 是否可以仅在谷歌地图中查看特定国家？

> ID：14809275
> 
> 赞同：5
> 
> 时间：2013-02-11T09:31:28.217
> 
> 标签：android, map

我想创建一个只显示一个国家的应用程序。单击菲律宾等国家/地区的特定地点后，它必须显示某些琐事。询问你们中是否有人已经做过这样的事情，或者有任何想法/建议如何做到这一点？先感谢您！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:26:18.480

AFAIK，谷歌地图不支持任何直接显示国家或任何其他地理区域的方式。

通常的解决方案是将地图视口限制在某个纬度范围内。一个示例解决方案是在拖动/缩放后检查地图的中心。如果中心超出边界，则将地图滚动回边界的边缘。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2017-01-26T19:09:42.293

对于此问题的任何未来访问者，您可以在此处关注答案：

[https://stackoverflow.com/a/41880403/6732199](https://stackoverflow.com/a/41880403/6732199)

我希望它对你有帮助。

# c# - c#控制台应用程序上的颜色问题

> ID：14809276
> 
> 赞同：-6
> 
> 时间：2013-02-11T09:31:28.437
> 
> 标签：c#, colors

这个程序我在任何给定的坐标处打印出一个字符串。它应该包含一些前景色和背景色。我有一个错误，上面写着警告 1 The field 'ConsoleApplication1.ConsoleText.color' is never used 这是我的代码：

```
class ColoredText
    {
        public int x = 10;
        public int y = 20; // Coordinates
        public string Text = "Hello!";
        ConsoleColor color = ConsoleColor.Blue;

        public ColoredText(int x, int y, string Text)
        {
            Console.ForegroundColor = color;
            Console.BackgroundColor = color;
            Console.SetCursorPosition(20, 0);
            Console.Clear();
            Console.ResetColor();
        }
        public virtual void Draw()
        {
            if (x >= 80 || y >= 49 || x < 0 || y < 0)
            {
                Console.WriteLine("Värdet är inte giltigt");
            }
            else
            {
                Console.SetCursorPosition(x, y);
                Console.ForegroundColor = ConsoleColor.Blue;
                Console.Write(Text);
                Console.BackgroundColor = ConsoleColor.Red;
                Console.Clear();
            }
        }

    } 
```

关于错误有什么问题的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:34:13.137

该错误没有任何*问题*，但它是一个警告，说明尽管您定义了一个名为 的变量`color`，即使您设置了它，但您从未在任何地方实际*使用*它。

解决这个问题，使用变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:49:42.087

从未使用过“ConsoleApplication1.ConsoleText.color”字段

**此警告意味着您在 Class ConsoleText**中有一个颜色字段，并且您已经为类**ColoredText**放置了代码。

如果您需要使用它来停止警告，您应该签入该类。

# codeigniter - 如何在codeigniter的hmvc的另一个模块中加载模型？

> ID：14809281
> 
> 赞同：8
> 
> 时间：2013-02-11T09:31:35.090
> 
> 标签：codeigniter, model

我想在我的项目中使用模块化扩展 HMVC，如下所示：

```
modules  
      module01
            models
                models01.php
            controllers
                controller01.php
            views
                views01.php
      module02
            models
                models01.php
            controllers
                controller01.php
            views
                views01.php
      ‘
      ‘ 
```

我想使用'models01.php' `module01`，有什么办法吗？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-02-11T09:38:13.000

```
$this->load->model("module01/models01"); 
```

您可以像这样从任何模块调用任何模型。经测试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-04-07T18:02:41.373

添加模块名称后跟模型名称，确保每个单词都小。我通过使用这段代码解决了我的问题。

```
$this->load->model('settings/settings_model','settings_model'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-12-24T12:21:31.733

**在我的情况下使用`$this->load->model("module01/models01");`不起作用**，

但是在调试了几个小时后，我找到了如下解决方案，我将使用与提问者相同的示例进行解释：

因此，该解决方案**在我的情况下不起作用，因为我的模块名称为`Module01`（我的目录名称中的第一个字母是大写字母）**，即使我在加载模型时使用相同的名称，就像`$this->load->model("Module01/models01");`它不起作用一样。

然后在尝试了很多不同的案例之后，我找到了可行的解决方案，并且想要**分享一些我们必须遵循的规则，如果我们在 codeigniter 中使用 hmvc 并在一个控制器**中加载多个模型，如下所示：

*   **文件夹中的目录名称`modules`必须是小写的**（应该是**`module01`**not ~~**`Module01`**~~。）

*   **控制器和模型文件名的第一个字母必须是大写字母^（**`Module01 and Models01`参见下面的示例）。

*   控制器和模型的类名的第一个字母必须^(大写)**，**如

    ```
    // module01/Module01.php
    class Module01 extends MX_Controller {
       //some code
    }

    // module01/Models01.php
    class Models01 extends CI_Model {
       //some code
    } 
    ```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-05-20T04:25:04.193

```
$this->load->model('module/Modelname','alise'); 
```

记住模型名称的第一个字母应该是大写

```
$this->load->model("module01/Models01",'models01');
$this->models01->function_name(); 
```

# vim - 硬包装phpdoc

> ID：14809282
> 
> 赞同：0
> 
> 时间：2013-02-11T09:31:38.833
> 
> 标签：vim, phpdoc

我需要一种方法来硬包装 vim 中的 phpdoc 之类的注释（理想情况下，如果 javadoc 和 jsdoc 也可以以相同的方式包装会更好，但现在我只需要 phpdoc）。是否有任何插件为此提供交钥匙解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:34:56.853

天啊。每次我问一个愚蠢的问题时，都会在同一时刻找到解决方案。

`gq`command 不仅适用于 phpdoc，而且适用于必须硬包装的任何内容。`:h gq`几乎解释了它是如何工作的。

# jquery - 如何使用jquery触发拖动其他图像的图像

> ID：14809283
> 
> 赞同：0
> 
> 时间：2013-02-11T09:31:40.697
> 
> 标签：jquery, jquery-ui, jquery-draggable

我正在使用 jquery 来拖动图像。下面是我的代码

```
 $( "#imgMaster" ). draggable
        ({ 
            axis: "y", 
            containment:[0,170,0,430],  
            start: function(event, ui)
                            {
                                $("#imgFrontLeft").trigger('draggable');
                            }

        });

        $( "#imgFrontLeft" ). draggable
        ({ 
            axis: "y" ,
            containment:[0,162,0,290],
        }); 
```

我的要求是，在拖动#imgMaster 时，必须拖动#imgFrontLeft。两个图像都是独立拖动的。请帮助我，我怎么能满足我的要求。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T10:46:14.200

看看这个[Fiddle](http://jsfiddle.net/LEneV/1/)链接，这将帮助您获得同步两个图像以进行拖动的答案。你可以用这个

```
 $("#imgFrontLeft").css('left',ui.position.left); 
 $("#imgFrontLeft").css('top',ui.position.top); 
```

在您的代码中拖动图像，我希望这会对您有所帮助。

# google-sheets - 重新格式化 now() 函数，使其在 GoogleFinance 函数中工作

> ID：14809285
> 
> 赞同：1
> 
> 时间：2013-02-11T09:31:59.223
> 
> 标签：google-sheets, google-docs, google-drive-api, google-finance

我在 Google 电子表格中使用 GoogleFinance 函数来显示过去 5 年的图表。我使用它如下：

```
=GoogleFinance(A1;"all";Date(2012,02,08);Date(2013,02,11); "weekly") 
```

这工作正常。但是，如果我希望图表是最新的，我必须每天增加这两个日期。我想更改上述内容，以便它每天自动更新并始终显示过去 5 年的图表。我尝试像这样使用 now() 函数

```
=GoogleFinance(A1;"all";Date(2012,02,08);Date(now()); "weekly") 
```

但似乎 now() 以 d/MM/yyyy 格式返回日期，而不是所需的 yyyy,MM,dd 格式。我也试过。

```
=GoogleFinance(A1;"all";Date(2012,02,08);Date(Text(Now(), "yyyy,MM,dd")); "weekly") 
```

这也不起作用。理想情况下，我需要以下内容：

```
=GoogleFinance(A1;"all";Date(now()-5years);Date(now()); "weekly") 
```

以上不起作用，我该如何更改它，以便我的 5 年图表始终是最新的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T21:00:13.070

我现在已经设法解决了我的问题。我使用 today() 函数来解决它，如下所示

```
=GoogleFinance(A1;"all";TEXT(TODAY()-YEAR(5);""); TEXT(TODAY();""); "weekly") 
```

A1 包含股票，在我的例子中是 GOOG 我现在可以生成数据来创建任何股票的 5 年图表，只需更改 A1 中的值。

# asp.net - 对动态 Web 应用内容的简单搜索

> ID：14809287
> 
> 赞同：0
> 
> 时间：2013-02-11T09:32:06.347
> 
> 标签：asp.net, .net, search

我希望在 ASP.NET MVC 站点中实现搜索功能。

该站点由 CMS 驱动。用户可以将小部件添加到包含会议、文档等的页面。

所以整个网站是完全动态的。

如我所见，有两种选择：

*   直接搜索所有可能的内容，然后找出与页面耦合的结果。或者反过来，弄清楚页面的内容是什么。

*   加载或构建所有可用页面，并确保可以搜索内容。所以，基本上是爬取和索引我自己的内容。

也许其他？

我不确定最好的实现是什么，欢迎所有经验和方向！

我并不是真的在寻找基于 Solr 或 Lucene 的解决方案。这需要一个简单的实现，只需在数据库的正确行上运行 LIKE 就足够了。

# python - 列出当前工作目录中的文件夹

> ID：14809288
> 
> 赞同：1
> 
> 时间：2013-02-11T09:32:06.680
> 
> 标签：python, directory

如何在 Python 中获取当前工作目录中的文件夹列表？
我只需要文件夹，不需要文件或子文件夹。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T09:38:03.577

简单的列表理解：

```
[fn for fn in os.listdir(u'.') if os.path.isdir(fn)] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:35:35.593

感谢[@ATOzTOA](https://stackoverflow.com/a/14275405/1931274)
你可以在这里使用`os.listdir`和`os.path.isfile`喜欢：

```
import os

path = 'whatever your path is'

for item in os.listdir(path):
    if not os.path.isfile(os.path.join(path, item)):
        print "Folder: ",item
    else:
        print "File: ",item 
```

现在您知道什么是文件夹，什么是文件。
由于您不需要文件，您可以简单地将文件夹（路径或名称）存储在列表中
为此，请执行以下操作：

```
import os

path = 'whatever your path is'
folders = [] # list that will contain folders (path+name)

for item in os.listdir(path):
    if not os.path.isfile(os.path.join(path, item)):
        folders.append(os.path.join(path, item)) #  os.path.join(path, item) is your folder path 
```

# iphone - 如何在键盘弹出后将焦点文本字段移动到视图的中间

> ID：14809290
> 
> 赞同：0
> 
> 时间：2013-02-11T09:32:14.103
> 
> 标签：iphone, objective-c, uitableview, uiscrollview, custom-cell

在我的 iPad 即时创建*`SplitView`*应用程序。我有一个`UITableVewtable`多*行，每行/单元格有三个`UITextField`*

当我点击`UITextField`某些字段时*，键盘会隐藏。*

所以我使用**TPKeyboardAvoidingScrollView**框架，但它不起作用***`ios 5.0+.`***

有时无法滚动表格上的滚动视图。

所以我想每次都将焦点单元移动到键盘上方的中间/正上方

我应该使用什么？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:57:45.323

首先打开 xib 文件并将 Content insets(In Scrollview Size) 设置为 200

现在在 .m 文件中更新以下两种方法。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *cell=@"Cell";        
    Cell *customCell= (Cell *)[tableView dequeueReusableCellWithIdentifier:cell];

    if (customCell==nil) {
        NSArray *bundle = [[NSBundle mainBundle] loadNibNamed:@"Cell" owner:self options:nil];
        for (id object in bundle) {
            if ([object isKindOfClass:[Cell class]])
            {
                customCell = (Cell *)object;
                break;
            }
        }
    }
    customCell.IBTxtfield.tag=indexPath.row;
return customCell;
}

- (void)textFieldDidBeginEditing:(UITextField *)textField{
    NSIndexPath *path=[NSIndexPath indexPathForRow:textField.tag inSection:0];
    [IBtblView scrollToRowAtIndexPath:path atScrollPosition:UITableViewScrollPositionTop animated:YES];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:41:43.143

试试这个代码。把它放在你的 .h 文件中：

```
CGFloat animatedDistance; 
```

在您的 .m 文件中：

```
static const CGFloat KEYBOARD_ANIMATION_DURATION = 0.3;
static const CGFloat MINIMUM_SCROLL_FRACTION = 0.2;
static const CGFloat MAXIMUM_SCROLL_FRACTION = 0.8;
static const CGFloat PORTRAIT_KEYBOARD_HEIGHT = 264;
static const CGFloat LANDSCAPE_KEYBOARD_HEIGHT = 352; 
```

在 @interface myclass () 之前添加此静态常量您可以根据需要更改上面的键盘高度值。然后添加以下代码：

```
- (void)textFieldDidBeginEditing:(UITextField *)textField
{

    CGRect textFieldRect =
    [self.view.window convertRect:textField.bounds fromView:textField];
    CGRect viewRect =
    [self.view.window convertRect:self.view.bounds fromView:self.view];

    CGFloat midline = textFieldRect.origin.y + 0.5 * textFieldRect.size.height;

    CGFloat numerator = midline - viewRect.origin.y - MINIMUM_SCROLL_FRACTION * viewRect.size. height;

    CGFloat denominator =
    (MAXIMUM_SCROLL_FRACTION - MINIMUM_SCROLL_FRACTION) * viewRect.size.height;

    CGFloat heightFraction = numerator / denominator;

    if (heightFraction < 0.0)
    {
        heightFraction = 0.0;
    }
    else if (heightFraction > 1.0)
    {
        heightFraction = 1.0;
    }

    UIInterfaceOrientation orientation = [[UIApplication sharedApplication] statusBarOrientation];

    if (orientation == UIInterfaceOrientationPortrait ||
        orientation == UIInterfaceOrientationPortraitUpsideDown)
    {
        animatedDistance = floor(PORTRAIT_KEYBOARD_HEIGHT * heightFraction);
    }
    else
    {
        animatedDistance = floor(LANDSCAPE_KEYBOARD_HEIGHT * heightFraction);
    }

    CGRect viewFrame = self.view.frame;
    viewFrame.origin.y -= animatedDistance;

    [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationBeginsFromCurrentState:YES];
    [UIView setAnimationDuration:KEYBOARD_ANIMATION_DURATION];

    [self.view setFrame:viewFrame];

    [UIView commitAnimations];
}

- (void)textFieldDidEndEditing:(UITextField *)textField
{
    CGRect viewFrame = self.view.frame;
    viewFrame.origin.y += animatedDistance;

    [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationBeginsFromCurrentState:YES];
    [UIView setAnimationDuration:KEYBOARD_ANIMATION_DURATION];

    [self.view setFrame:viewFrame];

    [UIView commitAnimations];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T09:52:08.847

您想要的是为您的视图设置动画，例如当您触摸 textField 时它应该向上，当您结束输入时它应该向下。您可以通过实现两个 `UITextFiled` **委托**方法和一些小动画来实现这一点，如下所示：

```
- (void)textFieldDidEndEditing:(UITextField *)textField
{
    [self startAnimatingTextField: textField up: NO];
}

- (void)textFieldDidBeginEditing:(UITextField *)textField
{
    [self startAnimatingTextField: textField up: YES];

    [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationBeginsFromCurrentState:YES];
    [UIView setAnimationDuration:0.1];
    [UIView setAnimationCurve: UIViewAnimationCurveLinear];

    [UIView commitAnimations];
}

-(void)startAnimatingTextField:(UITextField *) textField up: (BOOL) up
{
    const int distance = 120;   /* modify conform your needs */
    const float duration = 0.3f;                        

    int movement = (up ? -movementDistance : movementDistance);

    [UIView beginAnimations: @"anim" context: nil];
    [UIView setAnimationBeginsFromCurrentState: YES];
    [UIView setAnimationDuration: movementDuration];

    self.view.frame = CGRectOffset(self.view.frame, 0, movement);

    [UIView commitAnimations];
} 
```

希望这可以帮助 ！

# php - 将数组中的值总和与数字匹配

> ID：14809292
> 
> 赞同：1
> 
> 时间：2013-02-11T09:32:24.627
> 
> 标签：php

我想将数组中值的不同组合与特定数字相匹配。

例如：

```
number = 10

Array (2, 6, 5, 3, 4) 
```

比赛将返回 : `6 + 4 = 10`,`2 + 3 + 5 = 10`

我可以遍历所有可能的组合，但有没有更快或更简单的方法来解决我的问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:52:44.617

**答案有一个小问题，它返回所有组合，即 2,3,5 和 3,2,5 等。**

```
<?php

$array = array(2, 6, 5, 3, 4);

function depth_picker($arr, $temp_string, &$collect) {
    if ($temp_string != "") 
        $collect []= $temp_string;

    for ($i=0; $i<sizeof($arr);$i++) {
        $arrcopy = $arr;
        $elem = array_splice($arrcopy, $i, 1); // removes and returns the i'th element
        if (sizeof($arrcopy) > 0) {
            depth_picker($arrcopy, $temp_string ."," . $elem[0], $collect);
        } else {
            $collect []= $temp_string. "," . $elem[0];
        }   
    }   
}

$collect = array();
depth_picker($array, "", $collect);
foreach($collect as $val)
{
   $sum  = array_sum(explode(",",$val));
   if($sum == 10){
      print_r($val);
      echo "<br>";
   }
}

?> 
```

# java - 如何防止修改类中的私有字段？

> ID：14809293
> 
> 赞同：167
> 
> 时间：2013-02-11T09:32:27.477
> 
> 标签：java, arrays, oop, class

想象一下，我有这门课：

```
public class Test
{
  private String[] arr = new String[]{"1","2"};    

  public String[] getArr() 
  {
    return arr;
  }
} 
```

现在，我有另一个使用上述类的类：

```
Test test = new Test();
test.getArr()[0] ="some value!"; //!!! 
```

所以这就是问题所在：我从外部访问了一个类的私有字段！我怎样才能防止这种情况？我的意思是如何使这个数组不可变？这是否意味着您可以使用每个 getter 方法逐步访问私有字段？（我不想要任何像 Guava 这样的库。我只需要知道正确的方法）。

* * *

## 回答 #1

> 赞同：381
> 
> 时间：2013-02-11T09:38:38.493

如果您可以使用 List 而不是数组，[Collections 提供了一个不可修改的列表](http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#unmodifiableList(java.util.List))：

```
public List<String> getList() {
    return Collections.unmodifiableList(list);
} 
```

* * *

## 回答 #2

> 赞同：165
> 
> 时间：2013-02-11T09:34:10.633

您必须返回数组的**副本**。

```
public String[] getArr() {
  return arr == null ? null : Arrays.copyOf(arr, arr.length);
} 
```

* * *

## 回答 #3

> 赞同：45
> 
> 时间：2013-02-11T09:34:34.987

修饰符`private`只保护字段本身不被其他类访问，但不保护该字段引用的对象。如果您需要保护引用的对象，请不要将其提供。改变

```
public String [] getArr ()
{
    return arr;
} 
```

到：

```
public String [] getArr ()
{
    return arr.clone ();
} 
```

或者

```
public int getArrLength ()
{
    return arr.length;
}

public String getArrElementAt (int index)
{
    return arr [index];
} 
```

* * *

## 回答 #4

> 赞同：28
> 
> 时间：2013-02-11T21:49:34.220

`Collections.unmodifiableList`已经提到过 -`Arrays.asList()`奇怪的是没有！我的解决方案也是使用外部列表并将数组包装如下：

```
String[] arr = new String[]{"1", "2"}; 
public List<String> getList() {
    return Collections.unmodifiableList(Arrays.asList(arr));
} 
```

复制数组的问题是：如果每次访问代码时都这样做并且数组很大，那么肯定会为垃圾收集器创建大量工作。所以复制是一种简单但非常糟糕的方法 - 我会说“便宜”，但内存昂贵！尤其是当您拥有超过 2 个元素时。

如果查看源代码，其实`Arrays.asList`并`Collections.unmodifiableList`没有多少创建。第一个只是包装数组而不复制它，第二个只是包装列表，使其无法更改。

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2013-02-12T08:16:49.800

你也可以使用[`ImmutableList`](http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/collect/ImmutableList.html)which should be better than the standard `unmodifiableList`。该类是Google 创建的[Guava库的一部分。](http://code.google.com/p/guava-libraries/)

这是描述：

> 与 Collections.unmodifiableList(java.util.List) 不同，后者是仍然可以更改的单独集合的视图，ImmutableList 的实例包含自己的私有数据并且永远不会更改

这是一个如何使用它的简单示例：

```
public class Test
{
  private String[] arr = new String[]{"1","2"};    

  public ImmutableList<String> getArr() 
  {
    return ImmutableList.copyOf(arr);
  }
} 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2013-02-12T05:00:14.420

在这一点上，您应该使用系统数组副本：

```
public String[] getArr() {
   if (arr != null) {
      String[] arrcpy = new String[arr.length];
      System.arraycopy(arr, 0, arrcpy, 0, arr.length);
      return arrcpy;
   } else
      return null;
   }
} 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2013-02-11T09:41:08.860

您可以返回数据的副本。选择更改数据的调用者只会更改副本

```
public class Test {
    private static String[] arr = new String[] { "1", "2" };

    public String[] getArr() {

        String[] b = new String[arr.length];

        System.arraycopy(arr, 0, b, 0, arr.length);

        return b;
    }
} 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2013-02-12T01:43:24.927

问题的关键在于您正在返回一个指向可变对象的指针。哎呀。要么使对象不可变（不可修改的列表解决方案），要么返回对象的副本。

一般来说，如果对象是可变的，对象的最终确定性并不能保护对象不被更改。这两个问题是“亲吻表亲”。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2014-07-29T01:42:33.410

返回一个不可修改的列表是个好主意。但是，在调用 getter 方法期间不可修改的列表仍然可以由类或从该类派生的类更改。

相反，您应该向扩展类的任何人明确表示不应修改列表。

因此，在您的示例中，它可能导致以下代码：

```
import java.util.Arrays;
import java.util.Collections;
import java.util.List;

public class Test {
    public static final List<String> STRINGS =
        Collections.unmodifiableList(
            Arrays.asList("1", "2"));

    public final List<String> getStrings() {
        return STRINGS;
    }
} 
```

在上面的示例中，我已经`STRINGS`公开了该字段，原则上您可以取消方法调用，因为这些值是已知的。

您还可以将字符串分配给`private final List<String>`在构造类实例期间不可修改的字段。使用常量或实例化参数（构造函数）取决于类的设计。

```
import java.util.Arrays;
import java.util.Collections;
import java.util.List;

public class Test {
    private final List<String> strings;

    public Test(final String ... strings) {
        this.strings = Collections.unmodifiableList(Arrays
                .asList(strings));
    }

    public final List<String> getStrings() {
        return strings;
    }
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2013-02-11T09:34:50.350

是的，您应该返回数组的副本：

```
 public String[] getArr()
 {
    return Arrays.copyOf(arr);
 } 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2021-01-17T15:44:09.573

从 Java 9 开始，也可以从静态工厂方法构造不可变列表，[`List.of()`](https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E...-)从而减少导入和代码：

在可以修改`getUsers()`原始字段时返回别名：`users`

```
class Computer {
    private String[] users = new String[] {"user1", "user2", "user3"};
    public String[] getUsers;

    String[] getUsers() {
        return this.users;
    }
}

Computer c = new Computer();
c.getUsers()[0] = "me";
for (String user: c.getUsers()) {
    System.out.println(user);
} 
```

输出：

```
me
user2
user3 
```

使用不可变列表：

```
import java.util.List;

class Computer {
    private String[] users = new String[] {"user1", "user2", "user3"};
    public List<String> getUsers;

    List<String> getUsers() {
        return List.of(this.users);
    }
}

Computer c = new Computer();
c.getUsers().set(0, "me");
for (String user: c.getUsers()) {
    System.out.println(user);
} 
```

输出：

```
user1
user2
user3 
```

# android - 将 GSM 位置 AS 短信发送到某个号码 android

> ID：14809300
> 
> 赞同：0
> 
> 时间：2013-02-11T09:33:03.923
> 
> 标签：android, geolocation, sms

我正在将地理位置作为短信发送到某个预定义的号码，但是以下代码不起作用，任何人都可以告诉我，如果我添加代码以仅跟踪位置，则以下代码中的 wat 是错误的，它给了我位置

```
// Acquire a reference to the system Location Manager
    LocationManager locationManager = (LocationManager) this
            .getSystemService(Context.LOCATION_SERVICE);

    // Define a listener that responds to location updates
    LocationListener locationListener = new LocationListener() {
        public void onLocationChanged(Location location) {
            // Called when a new location is found by the network location
            // provider.
            Toast.makeText(getApplicationContext(), location.toString(), Toast.LENGTH_LONG).show();
            sendSMS(location);
        }

        public void onStatusChanged(String provider, int status,
                Bundle extras) {
        }

        public void onProviderEnabled(String provider) {
        }

        public void onProviderDisabled(String provider) {
        }
    };

    // Register the listener with the Location Manager to receive location
    // updates
    locationManager.requestLocationUpdates(
            LocationManager.NETWORK_PROVIDER, 0, 0, locationListener);
    Toast.makeText(getApplicationContext(),"end of pgm ", Toast.LENGTH_LONG).show();
}

static  void sendSMS(Location loc) {
    String phoneNumber = "8412866177";
    String location = loc.toString();
    Toast.makeText(null,location, Toast.LENGTH_LONG).show();
    // PendingIntent pi = PendingIntent.getActivity(this, 0, new
    // Intent(this, MainActivity.class), 0);
    SmsManager sms = SmsManager.getDefault();
    sms.sendTextMessage(phoneNumber, null, location, null, null);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:49:04.793

也许你没有在 Manifest.xml 中设置权限

# php - 添加扩展 MySql (PHP/JavaBridge)

> ID：14809303
> 
> 赞同：1
> 
> 时间：2013-02-11T09:33:27.233
> 
> 标签：php, mysql, php-java-bridge

我已经在我的服务器 tomcat 6.0 中成功安装了 java bridge。但是当我在同一个文件夹中添加另一个使用 MySQL 数据库的应用程序时，Tomcat 会生成以下错误：

```
PHP Warning:  PHP Startup: Unable to load dynamic library 'C:\Program Files\Aphe Software Foundation\Tomcat 6.0\webapps\JavaBridge\WEB-INF\cgi\x86-windows\e\php_mysql.dll' - Le module specific est introuvable.
in Unknown on line 0 
```

知道 ：

1.  我将 PHP 扩展“php_mysql.dll”的正确版本复制到相应的“ext”目录中，在我的情况下，它位于“C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\dhtmlx\WEB-INF\cgi \x86-windows\ext"
2.  在 php.ini 和 mysql.ini 文件中添加这一行，“extension = php_mysql.dll”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-15T16:08:06.233

你添加了 mysql-connector-java-5.0.8-bin.jar 吗？

# c# - 如何在网站启动时设置定时启动画面或图像？

> ID：14809308
> 
> 赞同：1
> 
> 时间：2013-02-11T09:33:38.137
> 
> 标签：c#, javascript, asp.net

我在网站启动时需要一个图像或启动画面，它必须在 5 秒后关闭并重定向到主页。如何在 asp.net 中实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:40:12.167

不是真正的 ASP.NET 特定的，您可以像这样简单地使用 javascript 执行此操作：

```
<script type="text/javascript">
    window.onload = timeout;
    function timeout() {
        window.setTimeout("redirect()", 5000) // Set Timeout, i.e. 5 seconds
    }

    function redirect() {
        window.location = "Home.htm" // Action or page to redirect to
        return
    }
</script> 
```

# python - pygame精灵不动

> ID：14809309
> 
> 赞同：0
> 
> 时间：2013-02-11T09:33:39.373
> 
> 标签：python, class, pygame, sprite

我面临一个逻辑错误，即无论输入如何，精灵都不会移动。
我的代码将在下面，因此没有遗漏任何上下文，它相当短。
有没有更好的方法将精灵从 blit 中移开？
我在某处看到过关于更新精灵或其他类似的东西，它们的作用与简单的 blitting 完全不同。

```
import pygame
pygame.init()
import random
import math

screen=pygame.display.set_mode([700,400])
black    = (   0,   0,   0)
white    = ( 255, 255, 255)
red      = ( 255,   0,   0)
player_x=350
player_y=200
player_x_vel=0
player_y_vel=0
rot_player=pygame.image

pi=math.pi

class Player(pygame.sprite.Sprite):
    def __init__(self):
        global player
        pygame.sprite.Sprite.__init__(self)
        self.pos=(350,200)
        self.image=pygame.image.load("arrowtest.png").convert()
        self.rect=self.image.get_rect()
        screen=pygame.display.get_surface()
        self.area=screen.get_rect()
        self.speed=10
        self.state="still"
        self.reinit()       

    def reinit(self):
        self.state="still"
        self.movepos=[0,0]

    def update(self):
        newpos=self.rect.move(self.movepos)
        if self.area.contains(newpos):
            self.rect=newpos
        pygame.event.pump()

    def moveup(self):
        self.movepos[1]-=(self.speed)
        self.state="moveup"
    def movedown(self):
        self.movepos[1]+=(self.speed)
        self.state="movedown"
    def moveleft(self):
        self.movepos[0]-=(self.speed)
        self.state="moveleft"
    def moveright(self):
        self.movepos[0]+=(self.speed)
        self.state="moveright"
    def moveupright(self):
        self.movepos[1]-=(self.speed)
        self.movepos[0]+=(self.speed)
    def moveupleft(self):
        self.movepos[1]-=(self.speed)
        self.movepos[0]-=(self.speed)
    def movedownright(self):
        self.movepos[1]+=(self.speed)
        self.movepos[0]+=(self.speed)
    def movedownleft(self):
        self.movepos[1]+=(self.speed)
        self.movepos[0]-=(self.speed)

    def angleplayer(self):
        mouse_pos=pygame.mouse.get_pos()
        dx=mouse_pos[0]-player_x
        dy=mouse_pos[1]-player_y
        rads=math.atan2(-dy, dx)
        rads %= 2*pi
        angle = math.degrees(rads)
        print angle
        rot_player.image=pygame.transform.rotate(player.image, angle-90)

done=False
clock=pygame.time.Clock()

while done==False:

    player = Player()

    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            done=True
        if event.type == pygame.MOUSEBUTTONDOWN:
            fired_pos=pygame.mouse.get_pos()
            fired=True
        if event.type == pygame.KEYDOWN:
            player.angleplayer()
            if event.key == pygame.K_w:
                player.moveup()
            if event.key == pygame.K_s:
                player.movedown()
            if event.key == pygame.K_a:
                player.moveleft()
            if event.key == pygame.K_d:
                player.moveright()

            print "co ords", player_x,player_y
            print "x vel", player_x_vel
            print "y vel", player_y_vel

        if event.type == pygame.KEYUP:
            player.movepos=[0,0]
            player.state="still"
            player.angleplayer()

        screen.fill(white)
        screen.blit(player.image, player.pos)

    clock.tick(20)
    pygame.display.flip()

pygame.quit() 
```

提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T09:46:07.707

首先，您在主循环的每次迭代中都创建*一个新播放器：*

```
...
while done == False:
    player = Player()
    ... 
```

您想创建播放器*一次*，因此将创建移到循环之外：

```
...
player = Player()
while not done:
    ... 
```

* * *

第二：要获取玩家的位置，请使用`player.pos`：

```
...
screen.blit(player.image, player.pos)
... 
```

但你永远不会更新`player.pos`（它总是`(350,200)`），你只会改变`self.rect`：

```
def update(self):
    newpos=self.rect.move(self.movepos)
    if self.area.contains(newpos):
        self.rect=newpos
    pygame.event.pump() 
```

要么用于`player.rect`获取玩家位置，要么`player.pos`相应地更新：

```
def update(self):
    newpos=self.rect.move(self.movepos)
    if self.area.contains(newpos):
        self.rect = newpos
        self.pos = self.rect.topleft
        # don't call pygame.event.pump() here. Doesn't make any sense :-) 
```

* * *

第三，您在函数中更新玩家位置`update`，但您从未调用它。在绘制玩家之前调用它：

```
...
while not done:
    ...
    player.update()
    screen.fill(white)
    screen.blit(player.image, player.pos)
... 
```

* * *

`movepos`您可以通过直接设置和删除`move...`功能来简化代码。

工作示例：

```
import pygame
pygame.init()
colors = pygame.color.THECOLORS
screen = pygame.display.set_mode([700,400])

class Player(pygame.sprite.Sprite):
    def __init__(self):
        pygame.sprite.Sprite.__init__(self)
        self.image = pygame.surface.Surface((32,32))
        self.image.fill(colors['green'])
        self.rect = self.image.get_rect().move(350, 200)
        self.speed = 4

    def update(self):
        dx, dy = self.movepos[0] * self.speed, self.movepos[1] * self.speed
        self.rect = self.rect.move(dx, dy)

done=False
clock = pygame.time.Clock()
player = Player()

while not done:

    if pygame.event.get(pygame.QUIT):
        break

    pressed = pygame.key.get_pressed()
    l, r, u, d = [pressed[k] for k in pygame.K_a, pygame.K_d, pygame.K_w, pygame.K_s]
    player.movepos = -l + r, -u + d
    player.update()

    screen.fill(colors['white'])
    screen.blit(player.image, player.rect.topleft)
    pygame.display.flip()

    clock.tick(60) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-11T03:02:55.857

你有很多移动功能。尝试将它们组合成一个简单的两个函数类，如下例所示：

```
class Puck(pygame.sprite.Sprite):
    def __init__(self, image_file, speed, location):
        pygame.sprite.Sprite.__init__(self)  #call Sprite initializer
        self.image = pygame.image.load(image_file)
        self.rect = self.image.get_rect()
        self.rect.left, self.rect.top = location 
```

两个主要的控制器是 self.rect.left 和 self.rect.top。通过更改它们的值，您可以像本例中那样移动精灵。

```
#Name of varible# = Puck('#Image File#', [#value of self.rect.left#, value of self.rect.top] 
```

然后您可以使用事件来更改它们，例如：

```
 for event in pygame.event.get():
    if event.type==pygame.QUIT:
        pygame.quit()
        exit(0)
    elif event.type == pygame.KEYDOWN:
        if event.key == K_UP:
            random.rect.top =random.rect.top - 75
        elif event.key == K_LEFT:
            random.rect.left = random.rect.left - 75
        elif event.key == K_DOWN:
            random.rect.top = random.rect.top + 75
        elif event.key == K_RIGHT:
            randoml.rect.left = randoml.rect.left + 75
        elif event.key == K_w:
            random.rect.top = random.rect.top - 50
        elif event.key == K_a:
            random.rect.left = random.rect.left - 50
        elif event.key == K_s:
            random.rect.top = random.rect.top + 50
        elif event.key == K_d:
            random.rect.left = random.rect.left + 50 
```

这应该能够移动你的精灵。

# c++ - QNetworkReply 和 301 重定向

> ID：14809310
> 
> 赞同：12
> 
> 时间：2013-02-11T09:33:44.283
> 
> 标签：c++, qt, qnetworkaccessmanager

我有一个 webviewer，只希望它只能访问我们的 webapps，为了实现这一点，我放置了一个我在 Qt 应用程序中寻找的 php 标头。这工作正常，但有一个例外，那就是 301 永久移动状态代码。现代浏览器会自动重定向您，但会在 http 请求的末尾添加一个“/”。

当输入我们的网络应用程序的 URL 时，它当前需要尾部斜杠才能检测到标头，但我希望它也能到达该标头，即使他们没有放置尾部斜杠。

这是我当前检索标头的方法：

```
QNetworkAccessManager *manager = new QNetworkAccessManager(this);
    QNetworkRequest request;
    request.setUrl(url);
    connect(manager, SIGNAL(finished(QNetworkReply*)), this, SLOT(onFinished(QNetworkReply*)));

    request.setRawHeader("User-Agent", "CytoViewer 1.0");
    request.setHeader(QNetworkRequest::ContentTypeHeader,"application/CytoViewer");
    QNetworkReply *reply = manager->get(request);
    reply->ignoreSslErrors();
    QEventLoop loop;

    connect(reply, SIGNAL(finished()), &loop, SLOT(quit()));
    loop.exec();
    qDebug() << "QLoop reply all: " << reply->readAll();
    qDebug() << "QLoop: " << reply->rawHeader("Cyto-Study-Manager");
    if(reply->rawHeader("OurWebApp") == "1"){
        //Header exists?(QEventLoop finish) Set arg[1]"url 'Found prouct: product header'"
        product = reply->rawHeader("Product");
        return true;
    } else {
        //Header doen't exist? Graceful error - not a valid PI product
        return false;
    } 
```

为了解决首先点击 301 的问题，我发送了两个网络请求，第一个点击输入的 URL 并检查 301，如果有 301 状态代码，它通过该`reply->attribute(QNetworkRequest::RedirectionTargetAttribute).toUrl();`方法获取建议的 url，如果有则返回该 URL没有状态码，那么它只是返回用户输入的前一个 URL，然后发送另一个网络请求来检查标头。

我发出的第一个请求是检查状态码：

```
QUrl MainWindow::networkRequest(QUrl checkUrl){
    qDebug() << "checkURL: " << checkUrl;
    //
    QNetworkAccessManager *manager = new QNetworkAccessManager(this);
    QNetworkRequest request;
    request.setUrl(checkUrl);
    request.setRawHeader("User-Agent", "CytoViewer 1.0");
    request.setHeader(QNetworkRequest::ContentTypeHeader,"application/CytoViewer");
    QNetworkReply *reply = manager->get(request);
    reply->ignoreSslErrors();
    QEventLoop checkLoop;
    connect(reply, SIGNAL(finished()), &checkLoop, SLOT(quit()));
    checkLoop.exec();
    //Check status code
    if (reply->error() == QNetworkReply::NoError) {
        int statusCode = reply->attribute(QNetworkRequest::HttpStatusCodeAttribute).toInt();
        if(statusCode == 301) {
            QUrl redirectUrl = reply->attribute(QNetworkRequest::RedirectionTargetAttribute).toUrl();
            return redirectUrl;
        }else {
            return checkUrl;
        }

    }
} 
```

长话短说，我正在发送两个网络请求，1）检查 301 2）检查我们的应用程序标头。

有没有办法在一个请求中做到这一点？我是否缺少一种可以自动执行此重定向的方法？

问候

弥敦道

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2016-04-03T14:33:18.737

[如果您使用的是 Qt 6，请跳过阅读此答案，因为自动重定向是默认行为](https://doc.qt.io/qt-6/network-changes-qt6.html#redirect-policies)

**如果您不使用 Qt 6，则旧答案：**

[`QNetworkRequest::FollowRedirectsAttribute`Qt 5.6 ( )添加了自动重定向支持](http://doc.qt.io/qt-5/qnetworkrequest.html#Attribute-enum)。

默认情况下未启用：

```
QNetworkRequest req(QUrl("https://example.com/"));
req.setAttribute(QNetworkRequest::FollowRedirectsAttribute, true); 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-02-11T09:58:02.760

显然没有。

[在https://web.archive.org/web/20141101060340/http://developer.nokia.com/community/wiki/Handling_an_HTTP_redirect_with_QNetworkAccessManager](https://web.archive.org/web/20141101060340/http://developer.nokia.com/community/wiki/Handling_an_HTTP_redirect_with_QNetworkAccessManager)上有一个官方的 HOWTO 条目

从上面的链接中提取：

```
void QNAMRedirect::replyFinished(QNetworkReply* reply) {
    /*
     * Reply is finished!
     * We'll ask for the reply about the Redirection attribute
     * http://doc.trolltech.com/qnetworkrequest.html#Attribute-enum
     */
    QVariant possibleRedirectUrl =
             reply->attribute(QNetworkRequest::RedirectionTargetAttribute);

    /* We'll deduct if the redirection is valid in the redirectUrl function */
    _urlRedirectedTo = this->redirectUrl(possibleRedirectUrl.toUrl(),
                                         _urlRedirectedTo);

    /* If the URL is not empty, we're being redirected. */
    if(!_urlRedirectedTo.isEmpty()) {
        QString text = QString("QNAMRedirect::replyFinished: Redirected to ")
                              .append(_urlRedirectedTo.toString());
        this->_textContainer->setText(text);

        /* We'll do another request to the redirection url. */
        this->_qnam->get(QNetworkRequest(_urlRedirectedTo));
    }
    else {
        /*
         * We weren't redirected anymore
         * so we arrived to the final destination...
         */
        QString text = QString("QNAMRedirect::replyFinished: Arrived to ")
                              .append(reply->url().toString());
        this->_textContainer->setText(text);
        /* ...so this can be cleared. */
        _urlRedirectedTo.clear();
    }
    /* Clean up. */
    reply->deleteLater();
}

QUrl QNAMRedirect::redirectUrl(const QUrl& possibleRedirectUrl,
                               const QUrl& oldRedirectUrl) const {
    QUrl redirectUrl;
    /*
     * Check if the URL is empty and
     * that we aren't being fooled into a infinite redirect loop.
     * We could also keep track of how many redirects we have been to
     * and set a limit to it, but we'll leave that to you.
     */
    if(!possibleRedirectUrl.isEmpty() &&
       possibleRedirectUrl != oldRedirectUrl) {
        redirectUrl = possibleRedirectUrl;
    }
    return redirectUrl;
} 
```

# html - Twitter bootstrap 浮动 div 右

> ID：14809313
> 
> 赞同：143
> 
> 时间：2013-02-11T09:34:05.267
> 
> 标签：html, css, twitter-bootstrap

`bootstrap`将 div 向右浮动的正确方法是什么？我认为`pull-right`是推荐的方式，但它不起作用。

```
@import url('http://twitter.github.com/bootstrap/assets/css/bootstrap.css');
 .container {
    margin-top: 10px;
}
```

```
<div class="container">
    <div class="row-fluid">
        <div class="span6">
            <p>Text left</p>
        </div>
        <div class="span6 pull-right">
            <p>text right</p>
        </div>
    </div>
</div>
```

* * *

## 回答 #1

> 赞同：106
> 
> 时间：2013-02-11T09:48:52.810

将 div 浮动到右侧`pull-right`是推荐的方式，我觉得你做对了可能是你只需要使用`text-align:right;`

```
 <div class="container">
     <div class="row-fluid">
      <div class="span6">
           <p>Text left</p>
      </div>
      <div class="span6 pull-right" style="text-align:right">
           <p>text right</p>
      </div>
  </div>
 </div>      
 </div> 
```

* * *

## 回答 #2

> 赞同：86
> 
> 时间：2013-02-11T09:40:43.327

您的行中有两个 span6 div，因此它们将占用一行组成的全部 12 个跨度。

将 pull-right 添加到第二个 span6 div 不会对它做任何事情，因为它已经坐在右边了。

如果你的意思是你想让第二个 span6 div 中的文本向右对齐，那么只需向该 div 添加一个新类并为其赋予 text-align: right 值，例如

```
.myclass {
    text-align: right;
} 
```

* * *

更新：

EricFreese 指出，在 Bootstrap 的 2.3 版本中（上周），他们添加了您可以使用的 text-align 实用程序类：

*   `.text-left`
*   `.text-center`
*   `.text-right`

[http://twitter.github.com/bootstrap/base-css.html#typography](http://twitter.github.com/bootstrap/base-css.html#typography)

* * *

## 回答 #3

> 赞同：78
> 
> 时间：2014-05-22T06:47:48.080

bootstrap 3 有一个类来对齐 div 中的文本

```
<div class="text-right"> 
```

将对齐右侧的文本

```
<div class="pull-right"> 
```

将所有内容拉到右侧，而不仅仅是文本

* * *

## 回答 #4

> 赞同：27
> 
> 时间：2013-05-03T15:22:50.937

这可以解决问题，无需添加内联样式

```
<div class="row-fluid">
    <div class="span6">
        <p>text left</p>
    </div>
    <div class="span6">
        <div class="pull-right">
            <p>text right</p>
        </div>
    </div>
</div> 
```

答案是`<div>`用“pull-right”类嵌套另一个。结合这两个类是行不通的。

* * *

## 回答 #5

> 赞同：18
> 
> 时间：2015-06-05T04:01:50.260

```
<p class="pull-left">Text left</p>
<p class="text-right">Text right in same line</p> 
```

这对我有用。

编辑：您的代码段示例：

```
@import url('https://unpkg.com/bootstrap@3.3.7/dist/css/bootstrap.css');
 .container {
    margin-top: 10px;
}
```

```
<div class="container">
    <div class="row-fluid">
        <div class="span6 pull-left">
            <p>Text left</p>
        </div>
        <div class="span6 text-right">
            <p>text right</p>
        </div>
    </div>
</div>
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2017-04-27T12:00:53.663

您可以分配类名称，如 text-center、left 或 right。文本将与这些类名相应地对齐。您不需要单独制作额外的类名。这些类是在 BootStrap 3 和 bootstrap 4 中构建的。

# 引导程序 3

[v3 文本对齐文档](http://getbootstrap.com/css/#type-alignment)

```
<p class="text-left">Left aligned text.</p>
<p class="text-center">Center aligned text.</p>
<p class="text-right">Right aligned text.</p>
<p class="text-justify">Justified text.</p>
<p class="text-nowrap">No wrap text.</p> 
```

# 引导程序 4

[v4 文本对齐文档](http://v4-alpha.getbootstrap.com/utilities/typography/#text-alignment)

```
<p class="text-xs-left">Left aligned text on all viewport sizes.</p>
<p class="text-xs-center">Center aligned text on all viewport sizes.</p>
<p class="text-xs-right">Right aligned text on all viewport sizes.</p>

<p class="text-sm-left">Left aligned text on viewports sized SM (small) or wider.</p>
<p class="text-md-left">Left aligned text on viewports sized MD (medium) or wider.</p>
<p class="text-lg-left">Left aligned text on viewports sized LG (large) or wider.</p>
<p class="text-xl-left">Left aligned text on viewports sized XL (extra-large) or wider.</p> 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2022-03-02T11:31:59.040

像这样尝试，希望这就是你想要的。

`<div class="float-end">Div floated to right</div>`

# wpf - WPF Scatterview 项目 - 如何通过单击按钮清除所有项目？

> ID：14809314
> 
> 赞同：0
> 
> 时间：2013-02-11T09:34:06.180
> 
> 标签：wpf, scatterview

我创建了一个按钮并编写了它的行为来清除散点图，但它没有用：

```
private void Button1_Click(object sender, RoutedEventArgs e)
        {
            DependencyObject parent = VisualTreeHelper.GetParent(this);
            ScatterViewItem svi = null;
            while (parent as ScatterView == null)
            {
                if (parent is ScatterViewItem)
                    svi = parent as ScatterViewItem;
                parent = VisualTreeHelper.GetParent(parent);
            }

            ((ScatterView)parent).Items.Remove(svi);              
        } 
```

在此之前，我想通过这段代码来重置应用程序，这也不起作用：（我添加了使用 System.Diagnostics; ）

```
private void Button1_Click(object sender, RoutedEventArgs e)
    {    
       Process.Start(Application.ResourceAssembly.Location);    
       Application.Current.Shutdown();                      
    } 
```

xml：

```
<s:SurfaceButton  Content="Clear" Name="Button1" Click="Button1_Click" VerticalAlignment="Bottom" HorizontalAlignment="Center"/> 
```

你能告诉我我想念什么吗，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:33:07.473

你可以简单地给`ScatterView`一个名字

```
<s:ScatterView x:Name="scatterView" ... /> 
```

然后从后面的代码中访问它：

```
private void Button1_Click(object sender, RoutedEventArgs e)
{
    scatterView.Items.Clear();
} 
```

# usb - 如何创建多重引导 SCCM 任务序列 USB 记忆棒？

> ID：14809317
> 
> 赞同：0
> 
> 时间：2013-02-11T09:34:13.413
> 
> 标签：usb, task, sequence, boot, sccm

我需要为需要不同驱动程序的不同 PC 类型双启动 2 个不同的任务序列（Win7 映像），我们有 2 个映像，一个用于工作人员和学生，可以添加到特定的任务序列中。

我需要使用 2 个不同的 SCCM（系统中心配置管理器）任务序列创建一个可移植的解决方案，用于在没有网络的情况下进行克隆。目前，我通过配置管理器完成了创建启动媒体的常规步骤，但似乎有一种方法可以创建一个脚本来动态更改任务媒体，以便您可以选择哪个操作系统映像。

我正在寻找使用 YUMI（一个 USB 启动工具）的可能解决方案，但每个可启动映像都需要一个 ISO。任务序列映像大约为 8GIG。

我们使用 SCCM 2007。（仍在等待预算升级到 2012 :)）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-28T18:16:25.647

听起来您想启动两个不同的 .WIM 映像。开箱即用，我还没有从 MS 中找到任何允许这样做的工具。我通过在 \SOURCES 目录中将要使用的 .WIM 重命名为 BOOT.WIM 来解决这个差异。这是所有默认设置都使用的 .WIM 的名称。在尝试从 USB 设备启动之前，您必须重命名文件，但这不会花费很长时间，并且可以轻松编写脚本。

从理论上讲，应该可以在 USB 设备上配置 BCD（\EFI\MICROSOFT\BOOT\BCD 或 BOOT\BCD，具体取决于计算机的启动方式），以便您可以选择在启动时使用哪个 .WIM时间无需进行任何凌乱的重命名。我还没有让这个工作（主要是由于缺乏时间/紧迫性），但我确实写下了[我到目前为止所做的事情](http://thewhackhacker.wordpress.com/2013/07/09/usb-boot-choose-from-multiple-wims/)。[我发现了一些关于从windowsitpro.com](http://windowsitpro.com/windows/q-how-can-i-add-microsoft-windows-imaging-format-wim-based-preinstallation-environment-pe-an)引导到 .WIM 的有用信息。

# javascript - VBScript 中的 TypeName 到 Javascript

> ID：14809320
> 
> 赞同：1
> 
> 时间：2013-02-11T09:34:25.823
> 
> 标签：javascript, jquery, vbscript

我需要将以下几行 vbscript 代码转换为 javascript， `If TypeName(document.all(cFieldName)) = "HTMLInputElement" Then` 并且

```
ElseIf TypeName(document.all(cFieldName)) = "HTMLSelectElement" Then 
```

我试过了`if(typeof $("#" + (cFieldName)) === "HTMLInputElement")`，`else if(typeof $("#" + cFieldName) === "HTMLSelectElement")`但他们没有工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:36:17.217

在这种特定情况下，您可以这样做：

```
if (document.all[cFieldName].nodeName === "INPUT") {
    // It's an input element
} 
```

和

```
if (document.all[cFieldName].nodeName === "SELECT") {
    // It's a select element
} 
```

（假设是 HTML，而不是 XHTML。在 XHTML 中，名称将是小写的。为了避免搞砸自己，我通常会`.toUpperCase()`在那里输入。）

正如你所发现的，`typeof`只会给你`"object"`。有*可能*在某些引擎上，`Object.prototype.toString.call(document.all[cFieldName])`可能会给你`"HTMLInputElement"`，但我不希望它是可靠的跨浏览器（我认为这段代码被翻译的一个原因是在 IE 以外的浏览器上运行它）。在我的博客文章[*说什么？*](http://blog.niftysnippets.org/2010/09/say-what.html).

# php - 使用 xml 缓存数据

> ID：14809324
> 
> 赞同：0
> 
> 时间：2013-02-11T09:34:34.660
> 
> 标签：php, mysql, xml

我目前正在使用自定义 php（不是任何框架或 cms）进行电子学习项目。对于我项目一页的内容，我必须从数据库中获取大约 1000 个数据，目前我在该页面上使用分页和每页显示 100 条数据。现在我在想，如果我一次从数据库中获取所有数据并将其存储在 xml 中，并且当用户在分页页面之间扫描时，数据将从 xml 而不是数据库中获取它可能从某种意义上说它会减少数据库命中率是好的。但我很困惑，xml pursing 可能会影响我的项目执行时间？如果有更好的想法，请与我分享。我的项目环境如下 php 5 Mysql Jquery

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:38:17.650

这听起来仍然效率低下，因为您仍然必须解析 xml。

我相信最有效的方法（针对页面视图进行优化）是预先生成列表的 html。

这意味着每次数据库更改时，您都会重新创建 html，但只创建一次。然后，您只需从您的网络服务器提供该 html，而无需执行任何脚本。

# html - html中函数的默认调用

> ID：14809327
> 
> 赞同：-2
> 
> 时间：2013-02-11T09:34:38.710
> 
> 标签：html

我想知道打开网页时是否会调用任何默认函数？就像在目标 C 中一样，每次我们运行应用程序时都会调用 viewDidLoad()。

html中有这样的功能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:38:42.987

HTML 甚至没有“功能”。它不是一种编程语言。

[各种事件将通过您可以绑定 JavaScript 事件处理程序](https://developer.mozilla.org/en/docs/DOM/element.addEventListener)的 DOM 触发。[`load`](https://developer.mozilla.org/en-US/docs/Mozilla_event_reference/load)暗示自己作为你想要实现的任何目标的可能性。

```
function documentLoadHandler() {
    // do something
}

document.addEventListener('load', documentLoadHandler); 
```

（请阅读上面链接的文档，此处符合标准的代码不适用于旧版本的 IE，如果您想支持它，则需要解决其限制）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T09:39:48.430

HTML 是一种标记语言，而不是一种编程语言。HTML 中没有这样的功能。如果您使用 PHP、ASP 等语言或页面中有 JavaScript 元素，那么您可以创建或在某些情况下使用此类功能。

例如，如果你使用 jQuery，你可以使用类似的东西：

```
$(document).ready( function() {
    // Do something when DOM has loaded
}); 
```

但是不，就像我说的，HTML 是一种标记语言。

# php - 成功提交后，是否可以完全消失表单，而不仅仅是其字段？

> ID：14809329
> 
> 赞同：-4
> 
> 时间：2013-02-11T09:34:46.093
> 
> 标签：php, jquery

嗨，我想在成功提交后完全消失表单，而不仅仅是它的字段。有没有这样做的功能或总和？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:38:22.237

如果你用“消失”表示删除表单，你可以用纯 JavaScript 做这样的事情：

```
var elm = document.getElementById("idOfForm");
elm.parentNode.removeChild(elm); 
```

由于您在问题上有一个 jquery-ajax 标记，我猜您使用的是 jQuery。在这种情况下，您可以这样做：

```
$("#idOfForm").remove(); 
```

**或者**，如果您只想隐藏表单，但将其保留在 DOM 中：

```
$("#idOfForm").hide(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T09:37:46.310

不知道你说的消失是什么意思..但我认为[hide()](http://api.jquery.com/hide/) ..是你需要的

> 隐藏匹配的元素。

```
 $('#yourFormID').hide(); 
```

**或者**

[消除（）](http://api.jquery.com/remove/)

> 从 DOM 中删除匹配的元素集。

```
 $('#yourFormID').remove(); 
```

# windows-phone-7 - wp7如何使用谷歌地方自动完成功能

> ID：14809338
> 
> 赞同：1
> 
> 时间：2013-02-11T09:35:48.057
> 
> 标签：windows-phone-7, autocomplete, google-places-api

我正在开发一个简单的应用程序，当用户输入一些城市名称时，我需要让地点自动完成

如何使用[这个](http://gplaceswp7.codeplex.com/documentation)

或任何其他api，实现这一目标的解决方案

提前考虑

# java - Java Jersey 中的 @FormParam 区分大小写

> ID：14809342
> 
> 赞同：0
> 
> 时间：2013-02-11T09:35:55.823
> 
> 标签：java, jersey, jackson, jax-rs

我正在使用带有 Jersey 1.16 的 Java。

@FormParam 参数的名称是否区分大小写？我可以以某种方式强制它不区分大小写吗？（希望以某种全球方式）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T18:15:11.497

您可以过滤请求：

```
public class CaseFilter implements ContainerRequestFilter {

  @Override
  public ContainerRequest filter(ContainerRequest request) {
    for (Entry<String, List<String>> entry: request.getFormParameters().entrySet()) {
      request.getFormParameters().put(entry.getKey().toLowerCase(), entry.getValue());
    }
    return request;
  }

} 
```

并相应更新`web.xml`：

```
...
<init-param>
  <param-name>com.sun.jersey.spi.container.ContainerRequestFilters</param-name>
  <param-value>org.example.CaseFilter</param-value>
</init-param>
... 
```

# jquery - 动态树 ajax 加载回调

> ID：14809343
> 
> 赞同：2
> 
> 时间：2013-02-11T09:35:55.903
> 
> 标签：jquery, callback, dynatree

我目前使用 JSON 加载我的动态树，如下所示：

```
$(document).ready(function () {

  // Loads tree
  $("#TreeManGrp").dynatree({
    initAjax: {
      url: "/Terminals/Refresh/"
    },
    onActivate: function (node) {
      if (node.data.href) {
        window.open(node.data.href, "_self");
      }
    },
    persist: true,
    noLink: false,
    fx: { height: "toggle", duration: 200 }

  });
}); 
```

如果在将树加载到 dom 后有一个节点，我需要获取激活的节点。文档建议使用这种方法：

```
 // Loads tree
  $("#TreeManGrp").dynatree({
    initAjax: {
      url: "/Terminals/Refresh/",
      success: function (data) {
        alert("hi");
      }
    },
    onActivate: function (node) {
      if (node.data.href) {
        window.open(node.data.href, "_self");
      }
    },
    persist: true,
    noLink: false,
    fx: { height: "toggle", duration: 200 }
  }); 
```

但这也不起作用。浏览 dynatree 源文件，它说：

```
 if (ajaxOpts.success) {
        this.logWarning("initAjax: success callback is ignored; use onPostInit instead.");
      } 
```

我的问题是有人知道如何改用 onPostInit 吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T12:32:19.980

我想到了：

```
 // Loads tree
  $("#TreeManGrp").dynatree({
    initAjax: {
      url: "/Terminals/Refresh/"
    },
    onActivate: function (node) {
      if (node.data.href) {
        window.open(node.data.href, "_self");
      } else {
        ContextButtonSwitch(node.data.type, node.data.itemId);
      }

    },
    persist: true,
    noLink: false,
    fx: { height: "toggle", duration: 200 },
    onPostInit: function (isReloading, isError) {
      var node = $("#TreeManGrp").dynatree("getActiveNode");
      if (node) {
        ContextButtonSwitch(node.data.type, node.data.itemId);
      }
    }
  }); 
```

# php - 读取文本文件

> ID：14809344
> 
> 赞同：2
> 
> 时间：2013-02-11T09:36:02.727
> 
> 标签：php, flat-file

我们有一家供应商，每个星期一都会发送一份新设备/零件列表，然后将这些设备/零件手动输入数据库。

我想使用 PHP 来读取这个文件并更新相应的数据库记录。我可以做的数据库，但我如何从文件中读取数据？

```
System:         Avro
Supplier:       ABC Inc

Quantity:       1
Device:             ICD
ID:           PA-658_ao8uY
For Clarity:  PA-658_AO8UY

Quantity:       10
Device:             PSTHG
ID:              tg675_0O09i8
For Clarity:  TG675_0O09I8 
```

以上是我们得到的一个例子。系统就是我们，供应商就是他们。在我们收到的文件中，数量、设备 ID 和清晰度行可能有数百行。

如何将系统/供应商名称转换为变量，然后遍历每个 Quantity、Device、ID 和 Clarity 条目？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:03:41.303

对于这个简单的任务，您不需要正则表达式，下面的代码就可以了。

```
$content = file_get_contents("file.txt");
$content = str_replace(Array("\r\n", "\r"), "\n", $content); // we only want unix linebreaks

$data = explode("\n\n", $content);
foreach($data as &$section) {
  $lines = explode("\n", $section);
  $section = Array();
  foreach($lines as $line) {
    $colon = strpos($line, ":");
    $section[substr($line, 0, $colon)] = trim(substr($line, $colon + 1));
  }
}

print_r($data); 
```

样本输出数据：

```
Array
(
    [0] => Array
        (
            [System] => Avro
            [Supplier] => ABC Inc
        )

    [1] => Array
        (
            [Quantity] => 1
            [Device] => ICD
            [ID] => PA-658_ao8uY
            [For Clarity] => PA-658_AO8UY
        )

    [2] => Array
        (
            [Quantity] => 10
            [Device] => PSTHG
            [ID] => tg675_0O09i8
            [For Clarity] => TG675_0O09I8
        )

) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:59:23.157

如果您可以将此文件的格式重新定义为这样的..

```
 [Core]
        System=Avro
        Supplier=ABC Inc

   [line1]   
        Quantity= 1
        Device=ICD
        ID=PA-658_ao8uY
        For Clarity=PA-658_AO8UY

   [line2]
        Quantity=10
        Device=PSTHG
        ID=tg675_0O09i8
        For Clarity:  TG675_0O09I8 
```

你可以使用`parse_ini_file(file,true,INI_SCANNER_NORMAL)`可以给你所有数据的多维数组。

这是您可以使用的另一种高度主观的解决方案。我只是假设格式是稳定的，并且会保持很长时间。

```
<?php

$newStock = new NewStockUpdate($itemListFile);

//do anything with $newStock Object

class NewStockUpdate
{

    private $System;
    private $Supplier;
    private $allUpdates;

    function __construct($listFile)
    {

    $fileHandle = fopen( $listFile, "r" ) or die("Couldn't open Update file $listFile");

    $lineSystem = explode(":",getLineData($fileHandle));
    $lineSupplier = explode(":",getLineData($fileHandle));

    $i=0;
        while(true)
        {

        $allUpdates[$i] = new ItemData($fileHandle);
        $i++;

        }

    }

    function getSystem()
    {
    return $this->System;
    }

    function getSupplier()
    {
    return $this->Supplier;
    }

    function getUpdateList()
    {
     return $this->allUpdates;
    }

}

class ItemData
{

public $Quantity;
public $Device;
public $ID;
public $ForClarity;

public $lastObject;

function __construct($filePointer)
{

    try
    {

    $lineQuantity = explode(":",getLineData($filePointer));
    $lineDevice = explode(":",getLineData($filePointer));
    $lineID = explode(":",getLineData($filePointer));
    $lineForClarity = explode(":",getLineData($filePointer));

    $this->Quantity = $lineQuantity[1];
    $this->Device = $lineDevice[1];
    $this->ID = $lineID[1];
    $this->ForClarity = $lineForClarity[1];

    }
    catch(Exception $e)
    {
     //log something
    }

    if(feof($filePointer))
    {

    $this->lastObject = true;

    }
    else
    {
    $this->lastObject=false;
    }

    function isLastRecord()
    {
        return $this->lastObject;
    }

}

}

function getLineData($filePointer)
{

while(!feof($filePointer))
{

$data = fgets($filePointer);
if(empty($data)|| $data=='\n')
{
$data = fgets($filePointer);
}
else
{
return $data;
}
}

}

?> 
```

我认为其余的你可以用类对象来管理。将这些条目添加到 db 和所有。您可以为各种供应商创建多个 NewStock 对象。希望这会有所帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T10:01:13.507

```
 $handle = fopen("your file ");
    //counter
    $i=0;
    $rowContentPrec=array();
    while (!feof($handle)) {
     $rowContent=explode(':',fread($handle, 8192));
     //get the system and provider
      if($i==0){      
          $sytem=$rowContent[1];
      }elseif($i==1){
          $provider=$rowContent[1];  
      }elseif(isset($rowContent)){ 
          //product
          $rowContent=explode(':',fread($handle, 8192));
          if($rowContentPrec[0]=='For Clarity'){
               //save your product to database here and initialize the    array with informations about one product
                $contentArr=array();
          }else{
            $contentArr[$rowContent[0]]=$rowContent[1];  
          } 
           $rowContentPrec=$rowContent;
          $i++; 
      }

    }
    fclose($handle); 
```

# java - tearDown() 是否应该在每次测试后运行？

> ID：14809346
> 
> 赞同：4
> 
> 时间：2013-02-11T09:36:04.697
> 
> 标签：java, android, unit-testing, robotium

我认为`tearDown()`应该在每次测试之后运行，但我从日志中看到的是它是在`setUp()`方法之后启动的。你们能澄清一下吗？

```
public class LaunchManagerActivityTest extends ActivityInstrumentationTestCase2<LaunchManagerActivity> {
    private Solo solo;

    public LaunchManagerActivityTest() {
        super(LaunchManagerActivity.class);

    }

    protected void setUp() throws Exception {
        super.setUp();
        Log.e("Dev", "setup");

        solo = new Solo(getInstrumentation(), getActivity());

    }

    protected void tearDown() throws Exception {
        super.tearDown();
        Log.e("Dev", "tearDown  ");

    } 
```

输出：

```
02-11 11:33:33.095: E/Dev(26779): setup
02-11 11:33:34.395: E/Dev(26779): tearDown 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-11T09:38:50.820

您发布的课程中没有测试，因此它只是运行设置然后拆卸。这是预期的行为，如果你有任何测试它会运行：

```
constructor()
setUp();
testXXX();
tearDown(); 
```

如果你有两个测试它会运行

```
constructor()
setUp();
testXXX();
tearDown();

setUp();
testXXX2();
tearDown(); 
```

请记住，junit 3（android 使用）中的测试必须以单词 test 开头并且属于同一类。

测试我所说的添加以下方法：

```
public void testXXX(){
    Log.d("Dev", "testXXX  ");
}

public void testXXX2(){
    Log.d("Dev", "testXXX2  ");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:39:48.470

我想这是JUnit3。每次测试后都会运行 tearDown。您的测试文件中有任何测试吗？JUnit 将只运行当前类中定义的测试。

# mysql - mysql 分片案例研究链接或论文

> ID：14809353
> 
> 赞同：2
> 
> 时间：2013-02-11T09:36:37.620
> 
> 标签：mysql, sharding

我一直在阅读“高性能mysql”这本书，它真的是一本好书。但我唯一关心的是 MySQL 分片部分。虽然有很多理论但缺乏实际实现，有些方面也像黑盒（在节点上安排碎片）。如果有人可以向我指出一些案例研究文章或论文，那就太好了，这样我就可以正确地了解它。

提前致谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T22:27:32.657

我找到了一个 [链接] ( [http://tumblr.github.com/assets/2011-11-massively_sharded_mysql.pdf](http://tumblr.github.com/assets/2011-11-massively_sharded_mysql.pdf) )。如果有人有，请分享更多。谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T15:13:23.390

是的，“分片”是一种设计/开发模式……它不是任何类型的数据库功能，我称之为“就像数据库将横向扩展能力外包给了应用程序一样”。

我为 ScaleBase ( [http://www.scalebase.com](http://www.scalebase.com) ) 工作，它是一个完整的横向扩展解决方案的制造商，如果你愿意，它是一个“自动分片机”，分析数据和 SQL 流，在 DB 节点之间拆分数据，负载平衡读取，并在运行时聚合结果 - 所以您不必这样做！没有代码更改，一切都继续使用“1 数据库”。您的应用程序或任何其他客户端工具（mysql、mysqldump、PHPMyAdmin...）连接到 ScaleBase 控制器（看起来和感觉就像 MySQL），它是“分片”网格的代理，自动命令路由和并行化跨数据库查询和合并结果——就像结果来自 1 个数据库一样。支持 ORDER、GROUP、LIMIT、agg 函数！

另外，请访问我的博客，[http://database-scalability.blogspot.com/](http://database-scalability.blogspot.com)，所有关于可扩展性...

不久前，我公司的 ScaleBase 举办了一次网络研讨会，特别是关于分片和数据分发的网络研讨会。令人惊讶的是，它还没有（还没有？）在[http://www.scalebase.com/resources/webinars/](http://www.scalebase.com/resources/webinars/)中。我会看看他们是否可以上传它，或者我会在此处附上幻灯片，或类似的。敬请关注！

希望我帮助...

多伦

# c# - 每个日历约会的 EWS 保存指南

> ID：14809355
> 
> 赞同：3
> 
> 时间：2013-02-11T09:36:39.850
> 
> 标签：c#, guid, exchangewebservices, exchange-server-2010

我需要为每个约会保存一个指导。我尝试使用`PolicyTag`and `ArchiveTag`，但得到了 ,

> "属性 PolicyTag 仅对 Exchange Exchange2013 或更高版本有效。",

例外。

Exchange 2010 有类似的东西吗？据我了解`appointment.ID`，其中包含自生成的 id。我宁愿不使用它。谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T12:30:42.983

解决此问题的一种方法是创建一个扩展属性，并为约会放置 guid，除非您从另一个约会中复制它，否则它不会改变（毕竟它只是一个属性）

```
private static readonly PropertyDefinitionBase AppointementIdPropertyDefinition = new ExtendedPropertyDefinition(DefaultExtendedPropertySet.PublicStrings, "AppointmentID", MapiPropertyType.String);
public static PropertySet PropertySet = new PropertySet(BasePropertySet.FirstClassProperties, AppointementIdPropertyDefinition);

//Setting the property for the appointment 
 public static void SetGuidForAppointement(Appointment appointment)
{
    try
    {
        appointment.SetExtendedProperty((ExtendedPropertyDefinition)AppointementIdPropertyDefinition, Guid.NewGuid().ToString());
        appointment.Update(ConflictResolutionMode.AlwaysOverwrite, SendInvitationsOrCancellationsMode.SendToNone);
    }
    catch (Exception ex)
    {
        // logging the exception
    }
}

//Getting the property for the appointment
 public static string GetGuidForAppointement(Appointment appointment)
{
    var result = "";
    try
    {
        appointment.Load(PropertySet);
        foreach (var extendedProperty in appointment.ExtendedProperties)
        {
            if (extendedProperty.PropertyDefinition.Name == "AppointmentID")
            {
                result = extendedProperty.Value.ToString();
            }
        }
    }
    catch (Exception ex)
    {
     // logging the exception
    }
    return result;
} 
```

此解决方案在单个约会和使用 On Premises Exchange 的情况下非常有效。这里的问题是在线 Web 访问 (OWA) 中的会议，例如 Office 365，约会的属性是从组织者的原始约会中复制的，这些属性中有 AppoinmentID 是其中的扩展属性. 因此，为了避免这种麻烦，我们在组织者中将参加者的约会 id 设置为与原始的相似，并添加服务所有者（产生通知的服务）的电子邮件地址。如果没有这个解决方案，内部系统中的约会将具有与原始预订相似的 AppointmentID 并被视为一个，或者您可能有两个具有相同 ID 的不同约会。

```
 private static void SetGuidForMeetingAppiontment(Appointment appointment)
        {
            var log = "";

            try
            {
                if (!appointment.IsMeeting) return;
                if (appointment.Service.ImpersonatedUserId == null) return;

                /*
                 * The only tricky case is that if the appointment is created at the attendee with no Guid.
                 * In this case the application should look for the original appointment from the organizer's side, and get its guid, to paste it in the new booking 
                 * from the attendee side, and add the attendee emailAddress. 
                 */
                if (GetGuidForMeetingAppointement(appointment).Length <= 36)
                {
                    // If it was an attendee, then look for the original appointment from the organizer's service
                    if (appointment.Service.ImpersonatedUserId.Id != appointment.Organizer.Address)
                    {

                        log += "1/5 Getting the original event of the meeting\n";
                        if (ExchangeLiteService.Services.ContainsKey(appointment.Organizer.Address))
                        {
                            //  FindItemsResults<Appointment> originalAppointments;
                            var originalAppointments = ExchangeLiteService.Services[appointment.Organizer.Address].FindAppointments(WellKnownFolderName.Calendar, new CalendarView(appointment.Start, appointment.End, 1));
                            if (originalAppointments == null) return; //there must be an original appointment. 
                            if (!originalAppointments.Any()) return; //there must be an original appointment. 
                            var originalAppointment = originalAppointments.First(); // there should be only one appointment at a specifict time and date. 

                            log += "2/5 Getting the Guid for the original event of the meeting\n";
                            var originalAppointmentID = GetGuidForMeetingAppointement(originalAppointment);
                            if (string.IsNullOrEmpty(originalAppointmentID)) return; // the original appointment must have a guid already.

                            var orignalAppointmentIDGuid = originalAppointmentID.Substring(0, 36);

                            log += "3/5 Attaching the email address to the guid extracted\n";
                            var newAppointmentID = orignalAppointmentIDGuid + "_" + appointment.Service.ImpersonatedUserId.Id;

                            log += "4/5 Setting the new Guid to the meeting appointment\n";
                            appointment.SetExtendedProperty((ExtendedPropertyDefinition)AppointementIdPropertyDefinition, newAppointmentID);

                            log += "5/5 Updateing the meeting appointment\n";
                            appointment.Update(ConflictResolutionMode.AlwaysOverwrite, SendInvitationsOrCancellationsMode.SendToNone);
                        }
                        else //Then the user is invited from an organizer outside the system.
                        {
                            // Delete if there are anything similar 
                            ExchangeLiteService.OnCallDeleteBookingFromInternal(appointment.Service.ImpersonatedUserId.Id, appointment.Start, appointment.End);

                            //Assign a new 
                            var appointmentIDGuid = Guid.NewGuid().ToString();
                            var newAppointmentID = appointmentIDGuid + "_" + appointment.Service.ImpersonatedUserId.Id;
                            appointment.SetExtendedProperty((ExtendedPropertyDefinition)AppointementIdPropertyDefinition, newAppointmentID);
                            appointment.Update(ConflictResolutionMode.AlwaysOverwrite, SendInvitationsOrCancellationsMode.SendToNone);

                        }
                        //Get only the guid part of it (without the address of the organizer) 
                    }
                    else // if he was the organizer 
                    {
                        log += "If it was new meeting appointment and the notification from the organizer\n";
                        var appointmentIDGuid = Guid.NewGuid().ToString();
                        var newAppointmentID = appointmentIDGuid + "_" + appointment.Service.ImpersonatedUserId.Id;
                        appointment.SetExtendedProperty((ExtendedPropertyDefinition)AppointementIdPropertyDefinition, newAppointmentID);
                        appointment.Update(ConflictResolutionMode.AlwaysOverwrite, SendInvitationsOrCancellationsMode.SendToNone);
                    }
                }
                else
                {
                    log += "If it was an updated meeting appointment and has Guid already\n";
                    var appointmentID = GetGuidForMeetingAppointement(appointment);
                    var appointmentIDGuid = appointmentID.Substring(0, 36);
                    var newAppointmentID = appointmentIDGuid + "_" + appointment.Service.ImpersonatedUserId.Id;
                    appointment.SetExtendedProperty((ExtendedPropertyDefinition)AppointementIdPropertyDefinition, newAppointmentID);
                    appointment.Update(ConflictResolutionMode.AlwaysOverwrite, SendInvitationsOrCancellationsMode.SendToNone);
                }
            }
            catch (Exception ex)
            {
                //Logging the exception
            }

        } 
```

# blackberry - 如果未安装应用程序，则从 NFC 标签启动 BlackBerry 和 Windows Phone 市场

> ID：14809359
> 
> 赞同：1
> 
> 时间：2013-02-11T09:36:48.040
> 
> 标签：blackberry, windows-phone, nfc, ndef

没有安装应用程序时，有什么方法可以从 NFC 标签启动 BlackBerry 或 Windows Phone 市场？

我的意思是，就像 Android 平台中的 AAR 一样，如果没有安装该标签的目标应用程序，那么就会启动 google play store。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T10:58:30.827

以下是如何启动已安装的 Windows Phone 应用程序或**在未安装时重定向到应用商店的方法**：

*   将 NDEF 消息放在标签上，并将[LaunchApp 记录](http://social.technet.microsoft.com/wiki/contents/articles/13539.how-to-launch-apps-via-proximity-apis-nfc.aspx)作为第一条记录。
*   将平台 ID 设置为“WindowsPhone”
*   将应用ID设置为应用的ID（要获取应用ID，只需浏览网络应用商店，ID在URL的末尾，例如Facebook的应用URL是[http://www.windowsphone.com /en-us/store/app/facebook/82a23635-5bd9-df11-a844-00237de2db9e](http://www.windowsphone.com/en-us/store/app/facebook/82a23635-5bd9-df11-a844-00237de2db9e)，应用 ID 为`82a23635-5bd9-df11-a844-00237de2db9e`)。

[Codeplex](https://ndef.codeplex.com/)上的这个库可以帮助在 Windows Phone 上创建此类 NDEF 记录。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-11T09:55:20.850

从 NFC 标签接收消息的代码

```
ProximityDevice device = ProximityDevice.GetDefault();

// Make sure NFC is supported
if (device!= null)
{
  long Id = device.SubscribeForMessage ("Windows.SampleMessageType", messageReceived);
  Debug.WriteLine("Published Message. ID is {0}", Id);

  // Store the unique message Id so that it 
  // can be used to stop subscribing for this message type
}

private void messageReceived(ProximityDevice sender, ProximityMessage message)
{

  Debug.WriteLine("Received from {0}:'{1}'", sender.DeviceId, message.DataAsString);
  openMarketPlace(message.DataAsString);
} 
```

如何获取应用 ID 以在市场上打开应用页面

```
private void openMarketPlace(string appID){
MarketplaceDetailTask marketplaceDetailTask = new MarketplaceDetailTask();
marketplaceDetailTask.ContentIdentifier = appID;
marketplaceDetailTask.Show();
} 
```

# c# - 如何从 c# 代码调用 java 中的方法？

> ID：14809360
> 
> 赞同：0
> 
> 时间：2013-02-11T09:36:57.273
> 
> 标签：c#, java, android, integration

我在 android(java) 中编写了一个方法，即用于将图像上传到服务器。我希望从 c# 代码中调用此方法。我不知道该怎么做，java代码如下？

```
protected void onCreate(Bundle savedInstanceState){
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
     Button buttonUpload = (Button) findViewById(R.id.buttonUpload);

     buttonUpload.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);

            request.addProperty("imageName", imageName );
            request.addProperty("base64String", compressedImageString);
            //request.addProperty("compressedImageBitmap", compressedImageBitmap);
            SoapSerializationEnvelope envelope = new
                    SoapSerializationEnvelope(SoapEnvelope.VER11);

            envelope.setOutputSoapObject(request);
            envelope.dotNet = true;
            try {

                HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);
                androidHttpTransport.call(SOAP_ACTION, envelope);
                SoapObject result = (SoapObject)envelope.bodyIn;

                if(result != null)
                {

                    Toast.makeText(getApplicationContext(), result.getProperty(0).toString(), Toast.LENGTH_LONG).show();

                }

                else
                {
                   Toast.makeText(getApplicationContext(), "No Response",Toast.LENGTH_LONG).show();
                }

          } catch (Exception e) {

                e.printStackTrace();
       }
      }
     });

  buttonBrowse = (Button) findViewById(R.id.buttonBrowse);
  buttonBrowse.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            if(position!= null){
                showPopup(MainActivity.this, position);
            }           
        }

        @SuppressWarnings("deprecation")
        private void showPopup(final Activity activity, Point position) {

            int popupWidth = 120;
            int popupHeight = 130;

            LinearLayout linearLayout = (LinearLayout) findViewById(R.id.popup);

            LayoutInflater layoutInflater = (LayoutInflater) activity.getSystemService(LAYOUT_INFLATER_SERVICE);

             popupView = layoutInflater.inflate(R.layout.activity_popup, linearLayout);

             popupWindow = new PopupWindow(activity);
             popupWindow.setContentView(popupView);
             popupWindow.setWidth(popupWidth);
             popupWindow.setHeight(popupHeight);

             int offset_X = 85;
             int offset_Y = 5;

             popupWindow.setBackgroundDrawable(new BitmapDrawable());
             popupWindow.showAtLocation(popupView, Gravity.NO_GRAVITY, position.x + offset_X, position.y + offset_Y);

        }
    });     
}

@Override
public void onWindowFocusChanged(boolean hasFocus){

    int[] location = new int[2];
    buttonBrowse.getLocationOnScreen(location);
    position = new Point();
    position.x = location[0];
    position.y = location[1];

}

public void buttonGallery_Click(View v){

    Intent intent = new Intent(
    Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);
    startActivityForResult(intent, REQ_CODE_PICK_IMAGE);
}

public void buttonTakePhoto_Click(View v){
        TakePhoto();
}

@Override 
protected void onActivityResult(int requestCode, int resultCode, 
           Intent intent){

    switch(requestCode) { 
    case REQ_CODE_PICK_IMAGE:
        if(resultCode == RESULT_OK){  

         selectedImageUri = intent.getData();
         selectedImageRealPath = getRealPathFromURI(selectedImageUri);
         String path = selectedImageRealPath;
         imageName = path.substring(path.lastIndexOf("/")+1, path.length()); 
         imageSelected = BitmapFactory.decodeFile(selectedImageRealPath);
         final ImageView imageViewPhoto = (ImageView) findViewById(R.id.imageViewPhoto);
         imageViewPhoto.setImageBitmap(imageSelected);
         compressedImageString = imageCompression(selectedImageRealPath); 

        }
        break;

    case CAMERA_REQUEST:
    try
    {
        if(resultCode == RESULT_OK){
            selectedImageRealPath = getRealPathFromURI(selectedImageUri);
            imageSelected = BitmapFactory.decodeFile(selectedImageRealPath);
            final ImageView imageViewPhoto = (ImageView) findViewById(R.id.imageViewPhoto);
            imageViewPhoto.setImageBitmap(imageSelected);
            compressedImageString = imageCompression(selectedImageRealPath);

        }
    }
    catch(Exception e)
    {
        Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_LONG).show();
    }
        break;
    }   

    popupWindow.dismiss();  
}

private void TakePhoto() {

    ContentValues values = new ContentValues();
    imageName = String.valueOf(System.currentTimeMillis());
    values.put(MediaStore.Images.Media.TITLE, imageName);
    selectedImageUri = getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,
            values);

    Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
    intent.putExtra(MediaStore.EXTRA_OUTPUT, selectedImageUri);
    startActivityForResult(intent, CAMERA_REQUEST);

}

private String imageCompression(String filePath) {
    File imageFile = new File(filePath);
    FileInputStream fis = null;

    try
    {
      fis = new FileInputStream(imageFile); 
    }
    catch(FileNotFoundException e)
    {
        e.printStackTrace();
    }

    Bitmap bitmap = BitmapFactory.decodeStream(fis);
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    Bitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, 600, 300, false);
    scaledBitmap.compress(Bitmap.CompressFormat.JPEG, 90, baos );
    byte[] b = baos.toByteArray();
    String imageString = Base64.encodeToString(b, Base64.DEFAULT);
    //byte[] imageByte = imageString.getBytes();

   return imageString; 
```

}

```
public String getRealPathFromURI(Uri contentUri)
{
    try
    {
        String[] proj = {MediaStore.Images.Media.DATA};
        @SuppressWarnings("deprecation")
        Cursor cursor = managedQuery(contentUri, proj, null, null, null);
        int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);
        cursor.moveToFirst();
        return cursor.getString(column_index);
    }
    catch (Exception e)
    {
        return contentUri.getPath();
    }
} 
```

}

我想从 c# 调用 buttonBrowse 上的方法

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:46:39.997

您不能直接从 C# 代码调用 java 代码。

您可以将 java 类包装为 COM

请参阅下面的链接

[http://www.rgagnon.com/javadetails/java-0045.html](http://www.rgagnon.com/javadetails/java-0045.html)

# javascript - 使用 $fn 和不使用它创建 Jquery 插件的区别

> ID：14809361
> 
> 赞同：-1
> 
> 时间：2013-02-11T09:36:59.787
> 
> 标签：javascript, jquery, jquery-plugins

我正在寻找一些`Jquery plugins`，我想建立自己的。在所有教程中，我看到这样的语法：

```
(function($) {
  $.fn.myPlugIN = function() {
    // Add plugin code here
  };
})(jQuery); 
```

但是当我查看 iScroll.js、Carousel、js 等少数流行插件的代码时，我发现不使用 $.fn 语法，他们将其写在一个函数中

```
(function(){
function iScroll (el, options) {
    var that = this, i;
    //some code
    }
    })(); 
```

这些功能和它们的用途有什么区别？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T09:38:06.160

这就是 jQuery 插件和基本 javascript 插件（或模块）之间的区别。

**iScroll 不使用 jQuery**，它没有理由被定义为 jQuery 插件。像大多数不基于特定框架的 javascript 插件一样，它基于非常方便的[模块模式](http://www.adequatelygood.com/2010/3/JavaScript-Module-Pattern-In-Depth)，它允许您定义许多私有变量，而不会使全局命名空间混乱。您显示的代码段不包含在全局命名空间中导出唯一变量的部分。

见[源](https://github.com/cubiq/iscroll/blob/master/src/iscroll.js)：

```
if (typeof exports !== 'undefined') exports.iScroll = iScroll;
else window.iScroll = iScroll; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T09:47:05.093

`iScroll`（我`Carousel`也假设）不是 jQuery 插件，所以它们的代码隐藏语法会有点不同。

jQuery 插件是一个处理 jQuery 对象的*扩展函数*。例如，如果我创建一个`foo`jQuery 插件，我应该能够通过`$('#some-element').foo();`.

为了能够以这种方式工作，jQuery 插件`$`通过向变量添加函数来扩展原型，`$.fn`如下所示：

```
$.fn.foo = function () {
    // foo!
}; 
```

`iScroll`另一方面，它不是一个 jQuery 插件。它不适用于 jQuery 对象，因此您不希望它像`$('#some-element').iScroll();`. 您通过调用`iScroll()`自身来使用它。

```
var obj = new iScroll('container'); 
```

如您所料，使用方式的不同将决定在其脚本文件中声明插件的不同方式。

# windows-phone-8 - windows phone 8 bing 地图路线拖放更改路线路径

> ID：14809362
> 
> 赞同：0
> 
> 时间：2013-02-11T09:37:00.320
> 
> 标签：windows-phone-8, bing-maps

大家好，我正在开发一个现在运行完美的应用程序，我想制作更多功能，以便当地图路线从用户当前位置绘制到用户指定位置时，用户可以使用点击更改它，所以用户可以有能力为那个地方开辟另一条路线。目前我正在使用**BingMapsDirectionsTask**类来实现这一切

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T01:24:01.463

这在 WP8 上工作得很好。调用 BingMapsDirectionsTask/MapsDirectionsTask 后，地图应用程序将显示请求的路线，但用户可以单击应用程序栏上的“方向”箭头或应用程序栏上的“搜索”图标。

要回答这个未说出口的问题，如果您在 Task/Chooser 类上看不到您正在寻找的功能，那么它就不存在。

# java - 具有循环泛型依赖项的泛型类型的编译错误

> ID：14809371
> 
> 赞同：3
> 
> 时间：2013-02-11T09:37:56.140
> 
> 标签：java, generics

考虑以下代码：

```
public abstract class Animal<A extends Cage<? extends Animal<A>>>
{
    private A cage;

    public A getCage()
    {
        return this.cage;
    }

    public void setCage(final A cage)
    {
         this.cage = cage;
    }
}

public abstract class Cage<A extends Animal<? extends Cage<A>>>
{
    private List<A> animals;

    public void addAnimal(final A animal)
    {
        if (animal != null)
        {
            animal.setCage(this);

            if (this.animals == null)
            {
                this.animals = new ArrayList<A>();
            }

            this.animals.add(animal);
        }
    }
} 
```

这些类由其他类进一步扩展。

此代码无法在该行编译

```
animal.setCage(this); 
```

关于为什么此代码无法编译以及如何修复它的任何想法？我们使用的是 Java 1.6。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:07:22.833

实际上，您试图说两个类中的 A 是相同的，但事实并非如此，因此它不会编译。

我认为您应该在这里确切地查看为什么需要泛型，我认为这当然可以更简单。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T05:57:04.200

对于您展示的方法，这似乎足够了：

```
public abstract class Animal<C> {

    private C cage;

    public C getCage() {
        return this.cage;
    }

    public void setCage(final C cage) {
        this.cage = cage;
    }

}

public abstract class Cage<A extends Animal<C>, C> {

    private List<A> animals;

    public abstract C getThis();

    public void addAnimal(final A animal) {
        if (animal != null) {
            animal.setCage(getThis());
            if (this.animals == null) {
                this.animals = new ArrayList<A>();
            }
            this.animals.add(animal);
        }
    }

}

public class CatCage extends Cage<Cat, CatCage> {
    @Override
    public CatCage getThis() { return this; }
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-11T10:31:56.040

这应该适合您的需求：

```
public abstract class Animal<A extends Cage<C, A>, C extends Animal<A, C>> {

    private A cage;

    public A getCage() {
        return this.cage;
    }

    public void setCage(final A cage) {
        this.cage = cage;
    }

}

public abstract class Cage<A extends Animal<C, A>, C extends Cage<A, C>> {

    private List<A> animals;

    @SuppressWarnings("unchecked")
    public void addAnimal(final A animal) {
        if (animal != null) {
            animal.setCage((C) this);
            if (this.animals == null) {
                this.animals = new ArrayList<A>();
            }
            this.animals.add(animal);
        }
    }

} 
```

# java - 如何在不将其部署到服务器的情况下测试 JSF 应用程序？

> ID：14809375
> 
> 赞同：5
> 
> 时间：2013-02-11T09:38:06.820
> 
> 标签：java, jsf, jsfunit

你好，我一直在谷歌上搜索这个。我想在不将其部署到服务器的情况下测试我的 JSf 应用程序，所以基本上我想执行类似测试的模拟测试。我以前用过 JSFUnit。如果 JSFUnit 本身可能，该怎么做？是否有任何其他 JSF 2.0 测试框架易于使用并且可以模拟容器以在没有容器的情况下运行测试？[连同名称，请提供一些教程或示例参考资料]请帮助！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T09:41:11.067

你可以看看[Arquillian 项目](http://arquillian.org/)

[您可以在此处](http://www.youtube.com/watch?v=pfoJAshalx4)找到有关使用 Arquillian 和 Selenium 测试 JSF 应用程序的 1 小时视频教程

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-13T17:14:54.483

2018 年 2 月更新：[OpenBrace Limited 已关闭](https://closingbraces.net/openbrace/)，不再支持其 ObMimic 产品。

尽管不是专门为 JSF 测试设计的，但[ObMimic](http://www.openbrace.com) Servlet API 测试替身库可能是合适的。

它提供了纯 Java、容器外的 Servlet API 对象模拟，这些模拟足够准确且可配置，足以运行 JSF servlet。这使您无需部署到服务器或使用容器即可测试 JSF 页面的完整 GET 和 POST。

您的测试可以创建和配置每个测试所需的任何 Servlet API 对象（包括具有任何必要资源、映射等的 ServletContext），使用这些对象来初始化和调用 JSF servlet 来处理请求，然后检查结果。您的测试还可以安装 JSF PhaseListener 来访问 FacesContext 并在 JSF 处理期间的适当点检查任何相关的 JSF 数据结构。

ObMimic 网站和文档包括[“如何测试 JSF 页面”](http://www.openbrace.com/main/docs/src/docs/pages/howto/TestingJSFPages.html)指南，其中详细介绍了这一点，包括示例代码。

请注意，除了测试“真实的”JSF 页面外，您还可以将此方法用于特定于测试的 JSF 页面，这些页面只是调用或触发您尝试测试的任何 JSF 代码（即每个测试都可以将任何所需的 JSF 页面文本安装到ServletContext 然后使用 JSF servlet 运行它）。

# mysql - MySQL 代理的性能问题

> ID：14809382
> 
> 赞同：0
> 
> 时间：2013-02-11T09:38:18.000
> 
> 标签：mysql, database, performance, database-design, mysql-proxy

一个或多个客户将 MySQl 后端作为其解决方案的一部分。

他们已将其配置为每个客户端有一个通用的主数据库和一个特定的从数据库（他们有 10 多个从属数据库）。他们为此使用 MySQL 代理。

他们面临一些性能问题，包括数据库插入/更新被排队以及需要相当长的时间来写入从属数据库。

你能建议如何改进吗？是否有可用于帮助确定问题所在的工具？这对您来说似乎是一种标准方法（通过 MySQL 代理控制客户端特定从属的普通主服务器）？

任何意见，将不胜感激。

谢谢，

安迪

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-28T14:39:49.163

我有同样的行为，但我的麻烦是下一个：
我的一个更新以错误结束，mysql 代理（和 rw-splitter.lua 特定）将这种情况视为连接可能被另一个客户端重用，并将连接返回到池. 这意味着，当客户端收到错误并试图回滚事务时，它被传递到另一个连接或池中的新连接，它没有任何效果。同时，事务中出现错误的失败 UPDATE 进程被锁定，直到事务不会因超时而回滚（但在我的情况下，mysql-proxy 默认为 28800 秒）所以很长。

问题已解决。

修补：

在 rw-splitter.lua 中找到下一个块：

```
 is_in_transaction = flags.in_trans
    local have_last_insert_id = (res.insert_id and (res.insert_id > 0))

    if not is_in_transaction and
       not is_in_select_calc_found_rows and
       not have_last_insert_id then 
```

并将其更改为

```
 if res.query_status == proxy.MYSQLD_PACKET_ERR and is_in_transaction then
         if is_debug then
            print ("(read_query_result) ERROR happened while transaction staying on the same backend")
        end
        return
    end

    is_in_transaction = flags.in_trans
    local have_last_insert_id = (res.insert_id and (res.insert_id > 0))

    if not is_in_transaction and
       not is_in_select_calc_found_rows and
       not have_last_insert_id then 
```

# mysql - Solr数据索引，只返回一个字段

> ID：14809383
> 
> 赞同：3
> 
> 时间：2013-02-11T09:38:21.950
> 
> 标签：mysql, indexing, solr, dataimporthandler

我正在尝试使用 solr 从我的数据库中索引数据。索引数据后，当我查询 *.* 时，我只得到结果中的 id 字段。不是我查询中的所有字段。

我的数据-config.xml

```
<document name="content">
    <entity name="documen" query="SELECT indexId ,brand_id, category_id, product_name from Production">
        <field column="indexId" name="id" /> 
        <field column="category_id" name="categoryid" />
        <field column="brand_id" name="brandid" />
        <field column="product_name" name="id" />
    </entity>
</document> 
```

我的 schema.xml 看起来像这样：

```
<field name="id" type="int" indexed="true" stored="true" required="true"/>
<field name="categoryid" type="int" indexed="true" stored="true"/> 
<field name="brandid" type="int" indexed="true" stored="true" />
<field name="productname" type="string" indexed="true" stored="true"/> 
```

当我使用我查询`*.*`时

```
<doc>
<str name="id">1</str>
<long name="_version_">1426653005792411648</long></doc>
<doc>
<str name="id">2</str>
<long name="_version_">1426653005793460224</long></doc>
<doc> 
```

结果我只得到“id”字段。

实际上，“uniquekey”标签中的任何字段都会作为查询结果返回

# node.js - Express 应用程序中 helpers 文件夹的意义是什么？

> ID：14809384
> 
> 赞同：4
> 
> 时间：2013-02-11T09:38:22.320
> 
> 标签：node.js, express

我正在尝试推导出适合我们要求的最佳混合文件夹结构。

但是在浏览了许多文章和信息之后。我得到了一个用名称***助手***定义的文件夹，并且有带有***.js***扩展名的文件。

```
|-- app
|   |-- controllers
|   |   `-- userController.js
|   |-- models
|   |   `-- userSchemaModel.js
|   |-- routes
|   |   `-- index.js
|   `-- views
|       `-- userView.jade
|-- config
|   `-- AppConfig.js
|-- lib
|   `-- customLib.js
|-- vendor (or public)
|    |-- javascripts
|    |   |-- jquery.js 
|    `-- stylesheets
|        `-- StyleSheet.css
|-- app.js (startup)
`-- helpers
    `-- userHelper.js 
```

谁能告诉我***助手文件夹***的意义？

提前谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T10:06:31.287

我猜这里是因为你没有提到你正在使用什么框架或你读过什么文章......

在 Express 框架中，助手指的是添加到模板上下文中的自定义变量和函数。在 Express 3 中，我认为它们被称为`app.locals`

您可以在演示代码中使用它们来处理可能经常使用但您可能不想弄乱您的模板...例如日期格式或从您的数据实体生成 URL

# css - 具有完整视口高度的 CSS 流体网格布局

> ID：14809386
> 
> 赞同：0
> 
> 时间：2013-02-11T09:38:23.393
> 
> 标签：css, layout, grid, fluid

我需要为这样的移动 Web 应用程序设计一个横向页面：（允许使用 CSS3 和 jQuery）

![在此处输入图像描述](../Images/ccecf3f3eca97be321fa1f1457a77506.png)

A、C 和 E 在百分比上共享相同的宽度（可能是 50%，可能或多或少）。B、D 和 F 填充剩余宽度。

标题 A 和 B 固定在顶部。容器 C 和 D 填充中间部分。页脚 E 和 F 粘在视口底部。

我需要设置以像素或百分比为单位的固定高度的页眉和页脚，它们将包含绝对定位的图像或 DIV 标签。

C 容器将接收具有绝对定位百分比的各种标签（从该容器的左侧或右侧、顶部或底部）。

我需要 D 容器来接收带有 overflo-Yw 的长文本，并且内容必须可以用手指手势（Android / iPhone）滚动而不滚动页面的其余部分。

是否有一些 CSS 大师有类似设计的示例来展示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:49:29.600

的HTML

```
<div class="left">
  <div class="header"></div>
  <div class="content"></div>
  <div class="footer"></div>
</div>
<div class="right">
  <div class="header"></div>
  <div class="content"></div>
  <div class="footer"></div>
</div> 
```

CSS

```
.left,.right{
 float:left;
 width:48,5%
}
.left{
 margin:0 3% 0 0;
}
.header{
height:20px;
width: 100%;
}
.content{
height:500px;
width: 100%;
}
.footer{
height:20px;
width: 100%;
} 
```

# php - 使用 for-each 和 javascript 和 php 发布数据？

> ID：14809393
> 
> 赞同：-4
> 
> 时间：2013-02-11T09:38:40.897
> 
> 标签：php, javascript

foreach 循环只重复数组的最后一个元素？

**java脚本代码：**

```
 <?php foreach($_REQUEST["itemprice"] as $itemprice)
    {
        ?>
        + "&itemname_price[]=<?php echo $itemname?>_price=" + <?=$itemname?>_price.value
         <?php
    }
    ?> 
```

**请求该数据的代码**

```
 $items_price = array();
    foreach($_REQUEST['itemname_price'] as $itemname_pric) {
              $items_price[]=$itemname_pric;
     }
     print_r($items_price); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:49:28.560

foreach 用于从数组中获取值，而您在这里尝试的是从特定数组键中获取数据。我想这就是为什么你得到一个单一的价值。你可以参考 [http://php.net/manual/en/control-structures.foreach.php](http://php.net/manual/en/control-structures.foreach.php)来了解foreach的具体用法。

如果你有什么想知道的，请告诉我。

# tridion - 在模板中查找当前项目 ID 的最简单方法是什么

> ID：14809403
> 
> 赞同：5
> 
> 时间：2013-02-11T09:39:17.090
> 
> 标签：tridion, tridion-2011

在我的 C# 或 dreamweaver 模板中，我需要知道我在渲染什么。问题是我不确定我是否在寻找页面或组件。如果它是空的，我可能会使用`package.GetByType(ContentType.Page)`- 获取组件的内容，但我觉得应该有更短的方法。

大卫的例子更短：

```
engine.PublishingContext.ResolvedItem.Item.Id 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T12:02:11.967

```
engine.PublishingContext.ResolvedItem.Item.Id 
```

您还可以检查发布上下文的已解决项目，看看它是否是页面（如果不是，那么它是一个组件）。

例如：

```
Item currentItem;
if (engine.PublishingContext.ResolvedItem.Item is Page)
{
    currentItem = package.GetByName(Package.PageName);
}
else
{
    currentItem = package.GetByName(Package.ComponentName);
}
TcmUri currentId = engine.GetObject(currentItem).Id; 
```

如果您想简化 engine.GetObject() 调用，那么您可以直接从 Item 的 XML 中获取 ID：

```
String currentId = currentItem.GetAsSource().GetValue("ID"); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-11T10:01:26.113

这就是我以前看到它的方式：

```
// Contains the call you describe in your question
Page page = GetPage(); 
if (page == null)
{
    // Contains a call using package.GetByName("Component") 
    // to avoid the situation with multiple Components on the package
    Component comp = GetComponent();
    // Do component stuff
}
else
{
    // Do page stuff
} 
```

不确定你能不能把它封装得比这更好，但我可能被证明是错误的。

# r - R扫描两列并保持唯一

> ID：14809407
> 
> 赞同：2
> 
> 时间：2013-02-11T09:39:22.877
> 
> 标签：r, large-files

我有一个制表符分隔的数据文件，其中有四列我想读取 R 中的前两列，并且只将唯一的 2 列对保留为`data.frame`. 该文件可以在数百万行中：

```
cluster-1    3    12412341324    13412341234
cluster-1    3    62626662346    54234524354
cluster-1    3    45454345354    45454544545
cluster-2    644  12332234341    37535473475
cluster-2    644  54654365466    56565634543
cluster-2    644  56356356536    35634563456
...
cluster-9999999    123    123412341241    143132423
... 
```

我想使用`scan`（或任何更好的选择）来读取文件并最终得到一个`data.frame`：

```
cluster-1    3
cluster-2    644
cluster-3    343
...
cluster-9999999    123 
```

在 R 中读取这些大文件最省时的方法是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T09:56:26.113

**已知且相对较少的列**：如果您知道列数，例如 5 列，并且想要前两列（或只有少数列），则可以使用`colClasses`from来完成`read.table`：

```
# header here is set to false because I don't see one in your file
df <- read.table("~/file.txt", header = FALSE, 
              colClasses=c("character", "numeric", "NULL", "NULL", "NULL")) 
```

在这里，我们将第 3 列到第 5 列设置`NULL`为跳过它们。

**未知列/很多列：**如果您不知道列或列太多，另一种选择是使用`pipe`with `awk`（或`pipe`与`cut`此相关的）首先使用您需要的列过滤文件，然后使用加载它`read.table`：

```
# header here is set to false because I don't see one in your file
df <- read.table(pipe("awk '{print $1\"\t\"$2}' ~/file.txt"), 
                       header = FALSE, sep = "\t") 
```

**删除重复的行**：使用`duplicated`from `base`as：

```
df <- df[!duplicated(df), ] 
```

# c# - 如何通过父控件中的事件为子控件设置动画？- 可重复使用的方式

> ID：14809409
> 
> 赞同：2
> 
> 时间：2013-02-11T09:39:26.580
> 
> 标签：c#, wpf, animation, controls

我里面有一个 DockPanel 和一个按钮。我想在停靠面板中按事件（例如，鼠标悬停）为按钮设置动画（例如，淡入/淡出）。

**编辑**

好吧，我发现解决方案仅适用于非模板/非样式案例（见下文）。如何把它带到可重用的方式？

```
<DockPanel>
  <Button> 
    Name="aaa"
  </Button>

  <DockPanel.Triggers>
    <EventTrigger RoutedEvent="DockPanel.MouseEnter">
      <BeginStoryboard>
        <Storyboard>
          <DoubleAnimation 
            Duration="0:0:0.100" 
            To="1" 
            Storyboard.TargetName="aaa"
            Storyboard.TargetProperty="Opacity"/>
        </Storyboard>
      </BeginStoryboard>
    </EventTrigger>
    <EventTrigger RoutedEvent="DockPanel.MouseLeave">
      <BeginStoryboard>
        <Storyboard>
          <DoubleAnimation 
            Duration="0:0:0.100" 
            To="0" 
            Storyboard.TargetName="aaa"
            Storyboard.TargetProperty="Opacity"/>
        </Storyboard>
      </BeginStoryboard>
    </EventTrigger>    
  </DockPanel.Triggers>

</DockPanel> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:48:42.627

嗯，我唯一的想法是将`Controls`你想要显示的内容包装在`ContentControl`. 那么您可能只需要为`ContentControl`.

**编辑**

`ContentPresenter`=>`ContentControl`

**编辑2**

根据**TO**的编辑：

如果您想采用事件方法，这是一种正确但恕我直言不太优雅的方法，您必须在视图后面的代码中实现这些方法。例如

```
private void OnMouseOver(object sender, MouseEventArgs e)
{
  var control = sender as Control; // perhaps you could cast to another base class
  if (control == null)
    return;
  // implement the behavior you like
  // ...
} 
```

最大的问题，恕我直言，原因是不那么优雅，您必须`Control`在后面的代码中添加和删除每个添加到 DockPanel 的方法。

如果您不熟悉模板，它可能是您更好的解决方案。

# java - 通过意图传递带有递归引用的 ArrayList

> ID：14809411
> 
> 赞同：1
> 
> 时间：2013-02-11T09:39:30.670
> 
> 标签：java, android, android-intent, parcelable

我有parcelable类类别

```
public static class Category implements Parcelable {
    public String name;
    public int id;
    public ArrayList<Category> childrenCategory;

    public Category(Parcel in) {
        super();
        readFromParcel(in);
    }

    public static final Parcelable.Creator<Category> CREATOR = new Parcelable.Creator<Category>() {
        public Category createFromParcel(Parcel in) {
            return new Category(in);
        }

        public Category[] newArray(int size) {
            return new Category[size];
        }

    };

    public void readFromParcel(Parcel in) {
        this.name = in.readString();
        this.id = in.readInt();
    }

    public void writeToParcel(Parcel dest, int flags) {
        dest.writeString(name);
        dest.writeInt(id);
    }

    @Override
    public int describeContents() {
        return 0;
    }
} 
```

我想以这种方式通过 Intent

```
public void onClick(View v) {
            ArrayList<Categories> categories = new ArrayList<Categories>();
            Intent intent = new Intent(getApplicationContext(),
                    MainActivity.class);

            Bundle bundle = new Bundle();
            bundle.putParcelableArrayList("arrayListName", categories);
            inten.putExtra("bundleName", bundle);
            startActivity(intent);
        } 
```

并用这段代码阅读

```
Intent intent = getIntent();
Bundle bundle = intent.getExtras();
ArrayList<Category> categories = b.getParcelableArrayList("arrayListName"); 
```

我缺少 readFromParcel 和 writeToParcel 方法的代码。

任何人都可以提出一些建议。

# java - 为什么 Integer.parseInt(String s, 2) 和 Integer.toBinaryString(int i) 不兼容？

> ID：14809412
> 
> 赞同：2
> 
> 时间：2013-02-11T09:39:31.370
> 
> 标签：java

为什么这两种方法在处理二进制数时使用两种不同的方法？方法中表示负二进制数的字符串`Integer.parseInt(String s, 2)`应以`-`字符开头，但`Integer.toBinaryString(int i)`返回的字符串前面有额外的 1。所以，这段代码

```
Integer.parseInt(Integer.toBinaryString(-1), 2); 
```

抛出`java.lang.NumberFormatException`。这种行为的原因是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:41:53.560

这是设计使然；[`Integer.toBinaryString`](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Integer.html#toBinaryString%28int%29)

> 将整数参数的字符串表示形式返回为以**2 为底的无符号整数**。

（强调补充）。

即，`toBinaryString`提供了一种将整数格式化为公共[二进制补码表示](https://en.wikipedia.org/wiki/Two%27s_complement)的方法，这是大多数处理器在内部实际存储有符号整数的方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:42:18.523

`Integer::parseInt(String,int)`期待一个字符串，因此它正在寻找`-`负数的符号。而这`Integer::toBinaryString(int)`是为您提供输入的二进制等价物。在二进制中，负数由 2 的 Compliment 表示。

# c# - 如何将轴的默认值更改为用户值

> ID：14809413
> 
> 赞同：0
> 
> 时间：2013-02-11T09:39:31.810
> 
> 标签：c#, teechart

默认情况下，我在图表中创建了多个 Y 轴，并为每个轴创建了单独的刻度。现在，如果用户（i）想要更改这些默认值。我创建了一个带有文本框的表单，用于输入比例最小值和最大值。我附上了一张图片，请在图片上掠夺。 ![在此处输入图像描述](../Images/d3cc08508200c58198df2a90521ec313.png)

现在我想获取该文本框值并分配给每个轴的最小和最大比例。任何人都可以知道如何做到这一点。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:42:13.127

您可以使用 SetMinMax 方法修改轴刻度，例如：

```
 tChart1.Axes.Custom[0].SetMinMax(min, max); 
```

有关轴设置的更多信息，请阅读教程 4。教程可以在 TeeChart 的程序组中找到。对于多个自定义轴，您可能有兴趣阅读[此问题](https://stackoverflow.com/questions/14692012/teechart-multiple-axis-creation)。

# sql-server - 如何在两个月之间按月拆分天数

> ID：14809418
> 
> 赞同：0
> 
> 时间：2013-02-11T09:39:53.667
> 
> 标签：sql-server

嗨，我想找到两个月的总天数，并按月拆分天数..例如... 2013 年 2 月 26 日到 2013 年 2 月 3 日 2 月这里显示 2 天休假，但 3 月我不会显示总休假..这是我的查询..任何人都可以更正我的查询..它只显示二月天，三月天在这里不显示..

```
SELECT  month(fdate) as Month_Number
        , datename(month, fdate) as Month
        , case when month(fdate) <> month(tdate) then 
            datediff(day, fdate, DATEADD(month, ((YEAR(fdate) - 1900) * 12) + MONTH(fdate), -1)) 
          else 
            datediff(day, fdate, tdate) 
          end as Leaves 
from    test 
where   empid like '112' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:52:54.693

试试这个，它会显示每个月的天数：

```
SELECT  *
        , DATEADD(DAY, -1, DATEADD(MONTH, DATEDIFF(MONTH, 0, t.fdate) + 1, 0)) Last_In_Month_Of_Beginning
        , DATEADD(MONTH, DATEDIFF(MONTH, 0, t.tdate), 0) First_In_Month_Of_End
INTO    #temp1
FROM    test t
WHERE   empid LIKE '112'

SELECT  number Month_Number
        , CASE 
            WHEN MONTH(fdate) = MONTH(tdate) THEN DATEDIFF(DAY, fdate, tdate) - 1
            WHEN MONTH(Last_In_Month_Of_Beginning) = number THEN DATEDIFF(DAY, fdate, Last_In_Month_Of_Beginning)
            WHEN MONTH(First_In_Month_Of_End) = number THEN DATEDIFF(DAY, First_In_Month_Of_End, tdate)
          END Leave
INTO    #temp2
FROM    #temp1 a
JOIN    master..spt_values v ON
        v.type = 'P'
AND     v.number BETWEEN MONTH(a.Last_In_Month_Of_Beginning) AND MONTH(a.First_In_Month_Of_End)

SELECT  Month_Number
        , SUM(Leave) Leaves
FROM    #temp2
GROUP BY Month_Number 
```

这是一个**[SQL 小提琴](http://sqlfiddle.com/#!3/ab6b4/12/1)**

# android - 如何在 adb 中获取特定进程的日志

> ID：14809422
> 
> 赞同：1
> 
> 时间：2013-02-11T09:40:13.793
> 
> 标签：android, adb

我想记录特定应用程序的日志，例如 android 中的音乐播放器。通过 adb 的日志是完整的系统日志，但我想要与特定应用程序相关的日志。每个应用程序都有一个 DVM，每个应用程序都将日志转储到 DDMS 上的特定端口号。有没有办法通过端口过滤取出特定应用程序的日志。我不是在谈论通过日志标签进行过滤。请提供您的指导。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:56:39.093

adb logcat 包名

其中 packagename 是您要查看的应用程序包的名称。logcat 命令可以在[http://developer.android.com/tools/debugging/debugging-log.html找到](http://developer.android.com/tools/debugging/debugging-log.html)

# symlink - 就我而言，当我 mv 一个符号链接时，内容真的很感动

> ID：14809426
> 
> 赞同：-1
> 
> 时间：2013-02-11T09:40:32.073
> 
> 标签：symlink

我移动了一个符号链接，内容也被移动了！我听说符号链接只是一些物理内容的别名。所以我不明白我的目录workspace5是如何移动的！

这怎么可能？谢谢你的想法。

信息。，我正在使用 Mac OS。这是我从控制台输入的命令行。

```
ln -s /Users/home/Documents/workspace5 ln.workspace5
mv ln.workspace5/ ~ 
```

结果：整个目录 /Users/home/Documents/workspace5 移动到 ~

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-19T23:12:15.880

这是因为`mv`. 如果您只想移动符号链接，请使用`mv ln.workspace5 ~`而不是。`mv ln.workspace5/ ~`

# yii - 添加一个 CRON 函数

> ID：14809428
> 
> 赞同：0
> 
> 时间：2013-02-11T09:40:34.793
> 
> 标签：yii

我基本上有这个非常简单的数据操作功能：

```
public function updateRecords(){
$now = new CDbExpression('NOW()');
$criteria = new CDbCriteria;
$criteria->addCondition('c_date>"'.$now.'"');
Files::model()->updateAll(array('is_eop'=>1),$criteria);
} 
```

我希望这个功能在每次打开应用程序时自动运行，我正在考虑将它添加到 SiteControlller 但也许有更好的方法来实现 CRON 功能，请注意在线服务器在 XAMPP 上运行。感谢您的时间！

# matlab - 查找数组中的序列#

> ID：14809429
> 
> 赞同：1
> 
> 时间：2013-02-11T09:40:38.117
> 
> 标签：matlab, numbers, sequences

我需要报告数组中的序列数。例如：

`A=[ 1 1 -1 -1 -1 -1 -1 0 1 -1 -1 -1 -1 1 1 -1 -1 1 0 1 1]`

我必须报告一个数字连续出现的次数，例如，一个序列

`5 -1s ([-1 -1 -1 -1 -1])`和一个序列

`4 -1s ([-1 -1 -1 -1])`.

我怎样才能找到有多少个数字序列？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T12:41:41.473

您可以使用[游程编码](http://en.wikipedia.org/wiki/Run-length_encoding)来执行此任务

```
function [rl data] = runLength( vec )
% run length encoding for vector vec
rl = ( find( vec ~= [vec(2:end), vec(end)+1] ) );
data = vec( rl );
rl(2:end) = rl(2:end) - rl(1:end-1); 
```

将游程编码应用于`A`

```
>> [rl data] = runLength( A )
rl =
   [ 2 5 1 1 4 2 2 1 1 2 ]
data =
   [ 1 -1 0 1 -1 1 -1 1 0 1 ] 
```

因此，如果您对长度的序列数感兴趣 >`n`您只需要

```
>> nnz( rl > n ) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T12:26:47.010

If you only have a few number of possible element values in `A` (as in the example in the question where there only are three values, `-1`, `0` and `1`) you could loop through these and use the following few steps to get the lengths of the different sequences.

Here is an example checking `A == -1`:

```
A = [1 1 -1 -1 -1 -1 -1 0 1 -1 -1 -1 -1 1 1 -1 -1 1 0 1 1];
B = [0, A==-1, 0]; 
```

Use the `diff()` function to find the beginning and end of each sequence and subtract the two vector to get the sequence lengths.

```
>> C = find(diff(B)==-1)-find(diff(B)==1)

C =

     5     4     2 
```

Here we can see that there is one sequence of length five, followed by one of length four and one of lenth two. We could also use `histc()` to get the frequency of these lengths in a vector.

```
>> D = histc(C,1:max(C))

D =

     0     1     0     1     1 
```

Repeating the procedure with another value, for example checking `B = [0, A==1, 0];` gives us:

```
C =

     2     1     2     1     2

D =

     2     3 
```

# mysql - SQL - If 语句似乎忽略了“AND”

> ID：14809432
> 
> 赞同：1
> 
> 时间：2013-02-11T09:40:45.373
> 
> 标签：mysql, sql, if-statement

我制作了以下存储过程，将在创建新员工时调用。只要员工表中不存在员工，插入就应该成功。

为了检查这一点，我决定检查 FirstName、LastName 和 DateOfBirth。如果一行包含所有这些列的 3 路匹配，则插入应该失败。

我看到的是 If 语句将我的 AND 视为 OR。如果出现一个匹配，则插入失败。

经过一番搜索后，我看不出我的 If 结构有什么问题。任何帮助，将不胜感激。

```
 Create Procedure CreateEmployee
            (
            @Role_ID Int,
            @FirstName Varchar(50),
            @LastName Varchar(50),
            @DateOfBirth Varchar(50),
            @Active Bit
            )
            As
            Begin

            If Not Exists (Select FirstName From Employee Where FirstName = @FirstName)
                AND Not Exists (Select LastName From Employee Where LastName = @LastName)
                AND Not Exists (Select DateOfBirth From Employee Where DateOfBirth = @DateOfBirth)

                Begin
                Insert Into Employee (Role_ID, FirstName, LastName, DateOfBirth, Active)
                Values (@Role_ID, @FirstName, @LastName, @DateOfBirth, @Active)
                End

            Else
                Begin
                Select 'User already exists!'
                End

            End 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T09:42:33.000

为什么你不只是为你的支票运行 1 个查询？

```
If Not Exists (Select 1 From Employee 
               Where FirstName = @FirstName 
                     and LastName = @LastName 
                     and DateOfBirth = @DateOfBirth)
    begin
        ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T10:15:52.327

这是另一种方式*（`@@rowcount`对于 sql server）*：使用`Where not exists`. [类似的 Sql Fiddle 演示](http://sqlfiddle.com/#!3/70617/21)

```
Insert Into Employee (Role_ID, FirstName, LastName, DateOfBirth, Active)
Select @Role_ID, @FirstName, @LastName, @DateOfBirth, @Active
Where not exists (
  select 1 from Employee where FirstName = @FirstName 
                         and LastName = @LastName 
                         and DateOfBirth = @DateOfBirth
)

If @@rowcount=0 select 'User already exists!' 
```

# asp.net - FourSqaure API PushConsole

> ID：14809441
> 
> 赞同：2
> 
> 时间：2013-02-11T09:41:14.263
> 
> 标签：asp.net, foursquare

当我尝试发送测试推送时，我得到以下响应

**推送响应** 推送已发送！

**响应：** 您的服务器返回：500 内部服务器错误

我接收推送通知的代码如下

```
namespace FourSquareService
{
    [WebService(Namespace = "http://tempuri.org/")]
    [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]
    [System.ComponentModel.ToolboxItem(false)]
    // To allow this Web Service to be called from script, using ASP.NET AJAX,    uncomment        the following line. 
    [System.Web.Script.Services.ScriptService]
    public class FourSquare : System.Web.Services.WebService
    {
        [WebMethod]
        [ScriptMethod(ResponseFormat = ResponseFormat.Json)]
        public string ReadFourSqurePush()
        {
            if (HttpContext.Current.Request != null)
            {
                return "Hello World";
            }
            return string.Empty;
        }
     }
} 
```

任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-16T15:59:47.033

确保在应用设置中提供的推送 URL 末尾有 /。我遇到了同样的错误，这对我有用。

# c# - 扩展的 WPF 工具包 - 如何添加对项目的引用？

> ID：14809446
> 
> 赞同：22
> 
> 时间：2013-02-11T09:41:33.763
> 
> 标签：c#, asp.net, wpf, dll, wpftoolkit

我是 WPF 的新手。我想使用日期时间选择器。我已经从以下站点下载了“扩展 WPF 工具包 - 1.9.0”。

[http://wpftoolkit.codeplex.com/releases/view/96972](http://wpftoolkit.codeplex.com/releases/view/96972)

我有解压缩文件并找到两个dll。一种是“WPFToolkit.dll”和“Xceed.Wpf.Toolkit.dll”。

现在如何在我的项目中添加这两个 dll？以及如何在我的项目中使用日期时间控制。

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2013-02-11T10:06:18.650

首先，在您的项目中引用这些 dll。
在解决方案资源管理器中右键单击`References`并单击`Add Reference`，现在浏览并添加两个 dll。

其次，构建一次项目以在 XAML 中为新添加的 dll 启用智能感知。

第三，在您的 XAML 文件中添加以下命名空间

```
 xmlns:wpfTool="clr-namespace:Xceed.Wpf.Toolkit;assembly=Xceed.Wpf.Toolkit" 
```

提示：键入`xmlns:customName="wpftool"`，您应该能够看到智能感知列出所有相关的命名空间。

下面是 XAML 代码：

```
<Window x:Class="WpfApplication1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wpfTool="clr-namespace:Xceed.Wpf.Toolkit;assembly=Xceed.Wpf.Toolkit"
        Title="MainWindow" Height="350" Width="525">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <wpfTool:DateTimePicker Grid.Row="0">

        </wpfTool:DateTimePicker>
    </Grid>
</Window> 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2015-02-10T10:37:38.240

在 VS 2013 中添加控件的图形方式

1.  首先，在您的项目中引用这些 dll。
2.  右键单击解决方案资源管理器中的引用，然后单击添加引用，现在浏览并添加两个 dll。
3.  右键单击工具箱 > 常规区域并选择“添加选项卡” - 为选项卡命名，例如“WPF 工具包控件”！
4.  现在点击选择项目..它打开选择工具箱项目对话框......！
5.  在 WPF 组件选项卡中 - 现在单击浏览按钮并找到下载的 dll 并单击打开
6.  WPF 组件选项卡将显示所有控件
7.  单击确定“WPF Toolkit Controls”将填充 WPF Toolkit 的所有控件
8.  现在拖放所需的控件 - 它将自动添加所需的命名空间引用。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2014-04-23T06:54:43.123

使用 NuGet 安装扩展工具包

```
Install NuGet  
Open your Visual Studio.  
Open your solution/project.  
Open Tools menu, select Library Package Manager and select Package Manager Console
Run the following command "Install-Package Extended.Wpf.Toolkit" 
```

然后尝试您将获得命名空间。

[NuGet 包页面](https://www.nuget.org/packages/Extended.Wpf.Toolkit)（自 2016 年 6 月 17 日起可用）

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-11T09:52:30.400

如果您想坚持当前使用的方法，请右键单击您的项目，然后选择添加引用。转到浏览并找到您下载的 dll。

或者

[在此处](http://nuget.org/)下载 NuGet 。安装第三方库要容易得多。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2018-09-05T15:55:28.197

在 XAML 中，您应该添加：

对于 AvalonDock：

```
xmlns:xcad="http://schemas.xceed.com/wpf/xaml/avalondock" 
```

对于 WPF 工具包：

```
xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit" 
```

# java - Jdatepicker 在 jtable 中不起作用

> ID：14809458
> 
> 赞同：0
> 
> 时间：2013-02-11T09:42:09.330
> 
> 标签：java, swing, jtable, simpledateformat, jcalendar

我已经`DatePickerCellEditor`用于`Jtable`. 当我从弹出日历中选择日期时，`dow mon dd hh:mm:ss zzz yyyy`会显示带有格式的日期。我想将其更改为日期格式 ( `yyyy-MMM-dd`)。
我确实尝试过：

```
DateFormat formatter ;

formatter = new SimpleDateFormat("yyyy-MMM-dd");

DatePickerCellEditor datePicker = new DatePickerCellEditor(formatter);

TableColumn po_date = tableModel.getColumnModel().getColumn(1);

po_date.setCellEditor(datePicker); 
```

但它没有用。谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-17T19:09:11.510

您的代码需要稍作改动，

代替

```
formatter = new SimpleDateFormat("yyyy-MMM-dd"); 
```

利用：

```
formatter = new SimpleDateFormat("yyyy-MM-dd", Locale.ENGLISH); 
```

希望这对你有用。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-07-15T17:26:54.243

该列可编辑吗？您应该允许该列是可编辑的 TableModel 类的覆盖方法 isCellEditable

# c - 在 WOW64 上运行的 32 位进程的实际页面大小是多少？

> ID：14809462
> 
> 赞同：4
> 
> 时间：2013-02-11T09:42:30.037
> 
> 标签：c, windows, winapi, memory-management, virtual-memory

我知道在 32 位 Windows 上运行的 32 位进程的默认页面大小是 4K，而在 64 位 Windows 上运行的 64 位进程的默认页面大小是 8K。但是，在 64 位 Windows（即 WOW64）上运行的 32 位进程的实际页面大小是多少？4K？8K？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-11T10:14:44.630

理想情况下，您应该调用[`GetSystemInfo()`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724381%28v=vs.85%29.aspx)并检查`SYSTEM_INFO.dwPageSize`.

顺便说一句，我怀疑您在 64 位 Windows 中有 8KB 页面。x86/64 CPU 支持以下大小的页面：4KB（所有模式）、4MB（32 位非 PAE）、2MB（32/64 位 PAE）、1GB（64 位，始终 PAE）。您可以在 Intel（或 AMD）的 CPU 手册中找到它。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-11T09:46:04.243

页面大小仍为 4K - 1M 页面，最大可寻址 RAM 为 4GB

> 虚拟内存大小。在 Intel Itanium 处理器上，如果同一 32 位应用程序的两个或多个实例同时运行，WOW64 会增加大量开销。这是由于 Intel Itanium 上的原生 8 KB 页面，这使 x86 架构上的原生 4 KB 页面的模拟变得复杂（更多页面被标记为可写；所有可写页面都是进程私有的）。这会对某些处理器上终端服务的可扩展性产生不利影响。x64 处理器不是这种情况。

[在此处](http://msdn.microsoft.com/en-us/library/windows/desktop/aa384219(v=vs.85).aspx)阅读有关 WOW64的更多信息

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-11T16:50:57.353

这个问题的正确答案是“这取决于哪个处理器”。

Itanium 使用 8KB 页面。

X86-32 和 x86-64 分别使用 4KB、2MB 和 1GB 页面[注意，要使 2MB 和 1GB 页面工作，内存大小需要是 2MB/1GB 的倍数，并分别与 2MB/1GB 对齐]。

其他处理器，例如 ARM（目前只有 32 位操作系统），通常使用 4KB 页面，但也可以使用 64KB 页面。

如果你能找到一个旧的 DEC Alpha 处理器和与之匹配的操作系统，那也将使用 8KB 页面。

# ruby-on-rails - 如何从 url 读取文本并在 Ruby on Rails 中解析它？

> ID：14809464
> 
> 赞同：0
> 
> 时间：2013-02-11T09:42:31.737
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

在 php 中，我使用 curl 但对 Ruby 和 Rails 很陌生，我对最好的方法有点迷茫，

所以我有[http://example.com/api?=topmovies&ratings](http://example.com/api?=topmovies&ratings)，它返回 10 部电影及其评级的列表。不幸的是，它不在 json/xml 中，而只是文本，所以我想知道，

1.  如何从rails中的url读取/检索文本
2.  如何解析/将数据放入变量中（它有 2 列和 10 行）

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:46:53.167

您也可以使用`curl`ruby​​，但与网站交互的首选方式是使用`mechanize`gem。查看[机械化示例页面](http://mechanize.rubyforge.org/EXAMPLES_rdoc.html)，了解如何从网站获取页面并解析内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T09:47:33.517

您可以使用[RestClient gem](https://github.com/archiloque/rest-client)来获取另一个网站的内容。

# tomcat - sevlet 的路径环境，带有 Tomcat 7.0

> ID：14809467
> 
> 赞同：0
> 
> 时间：2013-02-11T09:42:37.910
> 
> 标签：tomcat, servlets

在命令行上，当我使用以下命令进行编译时，它可以工作：

```
C:\java_works>javac HelloServlet.java -classpath 
    "C:\Program Files\Apache Software Foundation\Tomcat 7.0\lib\servlet-api.jar" 
```

但是当我设置系统环境路径变量时它不起作用，如果我使用以下步骤：

在系统变量中，创建一个新的变量名：`SERVLET_HOME`

与价值：`C:\Program Files\Apache Software Foundation\Tomcat 7.0\lib`

然后编辑系统变量`path`以包括：`%SERVLET_HOME%\servlet-api.jar;`

然后在命令行上我使用：

```
C:\java_works>javac HelloServlet.java 
```

但它不起作用，显示错误：

```
package javax.servlet does not exist 
```

谁能帮帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T11:08:22.110

AFAIK javac，java 编译器，不会在 PATH（用于可执行文件）上查找 jar，而是在其类路径上查找 jar。但老实说，自从我在命令行上使用 javac 已经很长时间了，我想建议通过（例如）Ant、Maven 或任何 IDE（Eclipse、Netbeans、IntelliJ）隐式使用它。

# jsf-2 - Liferay-Primefaces ajax 转换异常

> ID：14809468
> 
> 赞同：3
> 
> 时间：2013-02-11T09:42:44.683
> 
> 标签：jsf-2, primefaces, liferay-6

我正在尝试使用 primefaces 3.5 创建工作的 maven liferay-faces portlet 原型。我下载了基本的 maven web 项目架构并创建了 liferay-faces portlet 架构。.jar 文件的所有依赖项都添加到 pom.xml 文件中，之后我创建了 xhtml 文件夹来存储所有 jsf 页面并配置了可选的 faces 配置文件。

我有一个 table.xhtml 页面，我在其中使用 primefaces 并支持 @ManagedBean 和 @ViewScoped TableBean.java bean，它使用汽车列表来填充 primefaces 表。该项目已成功构建并部署到 liferay-6.0.6 门户上的 glassfish 3.1 服务器。

问题是，当我在门户页面上添加 liferayjsf-1.0.0 portlet 并尝试使用 primefaces ajax 分页表时，当我尝试转到下一个分页页面（例如第 2 页）时，我在后台得到了 ExceptionAjaxImpl。

这是堆栈跟踪：

```
 [#|2013-02-11T08:30:49.665+0000|INFO|glassfish3.0.1|javax.enterprise.system.std.com.sun.enterprise.v3.services.impl|_ThreadID=30;_ThreadName=http-thread-pool-8080-(5);|08:30:49,662 ERROR [ExceptionHandlerAjaxImpl:62] com.liferay.portlet.ResourceResponseImpl cannot be cast to javax.servlet.http.HttpServletResponse
java.lang.ClassCastException: com.liferay.portlet.ResourceResponseImpl cannot be cast to javax.servlet.http.HttpServletResponse
    at com.sun.faces.util.OnOffResponseWrapper.<init>(OnOffResponseWrapper.java:58)
    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:94)
    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)
    at com.liferay.faces.bridge.lifecycle.LifecycleWrapper.render(LifecycleWrapper.java:45)
    at com.liferay.faces.bridge.BridgePhaseResourceImpl.execute(BridgePhaseResourceImpl.java:117)
    at com.liferay.faces.bridge.BridgeImpl.doFacesRequest(BridgeImpl.java:128)
    at javax.portlet.faces.GenericFacesPortlet.serveResource(GenericFacesPortlet.java:178)
    at com.liferay.portlet.FilterChainImpl.doFilter(FilterChainImpl.java:119)
    at com.liferay.portal.kernel.portlet.PortletFilterUtil.doFilter(PortletFilterUtil.java:71)
    at com.liferay.portal.kernel.servlet.PortletServlet.service(PortletServlet.java:92)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1523)
    at org.apache.catalina.core.ApplicationDispatcher.doInvoke(ApplicationDispatcher.java:822)
    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:684)
    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:517)
    at org.apache.catalina.core.ApplicationDispatcher.doDispatch(ApplicationDispatcher.java:488)
    at org.apache.catalina.core.ApplicationDispatcher.dispatch(ApplicationDispatcher.java:379)
    at org.apache.catalina.core.ApplicationDispatcher.dispatch(ApplicationDispatcher.java:336)
    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:314)
    at com.liferay.portlet.InvokerPortletImpl.invoke(InvokerPortletImpl.java:635)
    at com.liferay.portlet.InvokerPortletImpl.invokeResource(InvokerPortletImpl.java:747)
    at com.liferay.portlet.InvokerPortletImpl.serveResource(InvokerPortletImpl.java:504)
    at com.liferay.portal.action.LayoutAction.processPortletRequest(LayoutAction.java:871)
    at com.liferay.portal.action.LayoutAction.processLayout(LayoutAction.java:613)
    at com.liferay.portal.action.LayoutAction.execute(LayoutAction.java:232)
    at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
    at com.liferay.portal.struts.PortalRequestProcessor.process(PortalRequestProcessor.java:153)
    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
    at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:432)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:754)
    at com.liferay.portal.servlet.MainServlet.callParentService(MainServlet.java:508)
    at com.liferay.portal.servlet.MainServlet.service(MainServlet.java:485)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1523)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:343)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.servlet.filters.strip.StripFilter.processFilter(StripFilter.java:309)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.servlet.filters.secure.SecureFilter.processFilter(SecureFilter.java:182)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.servlet.filters.autologin.AutoLoginFilter.processFilter(AutoLoginFilter.java:254)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at org.apache.catalina.core.ApplicationDispatcher.doInvoke(ApplicationDispatcher.java:820)
    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:684)
    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:517)
    at org.apache.catalina.core.ApplicationDispatcher.doDispatch(ApplicationDispatcher.java:488)
    at org.apache.catalina.core.ApplicationDispatcher.dispatch(ApplicationDispatcher.java:379)
    at org.apache.catalina.core.ApplicationDispatcher.dispatch(ApplicationDispatcher.java:336)
    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:314)
    at com.liferay.portal.servlet.FriendlyURLServlet.service(FriendlyURLServlet.java:134)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1523)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:343)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.servlet.filters.strip.StripFilter.processF|#]

[#|2013-02-11T08:30:49.666+0000|INFO|glassfish3.0.1|javax.enterprise.system.std.com.sun.enterprise.v3.services.impl|_ThreadID=30;_ThreadName=http-thread-pool-8080-(5);|ilter(StripFilter.java:309)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.servlet.filters.secure.SecureFilter.processFilter(SecureFilter.java:182)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.servlet.filters.i18n.I18nFilter.processFilter(I18nFilter.java:222)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.servlet.filters.cache.CacheFilter.processFilter(CacheFilter.java:442)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.servlet.filters.etag.ETagFilter.processFilter(ETagFilter.java:45)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.servlet.filters.autologin.AutoLoginFilter.processFilter(AutoLoginFilter.java:254)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.servlet.filters.sso.ntlm.NtlmPostFilter.processFilter(NtlmPostFilter.java:81)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.sharepoint.SharepointFilter.processFilter(SharepointFilter.java:179)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.servlet.filters.virtualhost.VirtualHostFilter.processFilter(VirtualHostFilter.java:240)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:738)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.servlet.filters.threadlocal.ThreadLocalFilter.processFilter(ThreadLocalFilter.java:35)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:277)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:188)
    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:641)
    at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
    at com.sun.enterprise.web.PESessionLockingStandardPipeline.invoke(PESessionLockingStandardPipeline.java:85)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:185)
    at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:325)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:226)
    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:165)
    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:791)
    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:693)
    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:954)
    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:170)
    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:135)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:102)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:88)
    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:76)
    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:53)
    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:57)
    at com.sun.grizzly.ContextTask.run(ContextTask.java:69)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(A|#]

[#|2013-02-11T08:30:49.666+0000|INFO|glassfish3.0.1|javax.enterprise.system.std.com.sun.enterprise.v3.services.impl|_ThreadID=30;_ThreadName=http-thread-pool-8080-(5);|bstractThreadPool.java:330)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:309)
    at java.lang.Thread.run(Thread.java:662)
|#]

[#|2013-02-11T08:30:49.668+0000|SEVERE|glassfish3.0.1|javax.enterprise.system.std.com.sun.enterprise.v3.services.impl|_ThreadID=30;_ThreadName=http-thread-pool-8080-(5);|java.lang.ClassCastException: com.liferay.portlet.ResourceResponseImpl cannot be cast to javax.servlet.http.HttpServletResponse
    at com.sun.faces.util.OnOffResponseWrapper.<init>(OnOffResponseWrapper.java:58)
    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:94)
    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)
    at com.liferay.faces.bridge.lifecycle.LifecycleWrapper.render(LifecycleWrapper.java:45)
    at com.liferay.faces.bridge.BridgePhaseResourceImpl.execute(BridgePhaseResourceImpl.java:117)
    at com.liferay.faces.bridge.BridgeImpl.doFacesRequest(BridgeImpl.java:128)
    at javax.portlet.faces.GenericFacesPortlet.serveResource(GenericFacesPortlet.java:178)
    at com.liferay.portlet.FilterChainImpl.doFilter(FilterChainImpl.java:119)
    at com.liferay.portal.kernel.portlet.PortletFilterUtil.doFilter(PortletFilterUtil.java:71)
    at com.liferay.portal.kernel.servlet.PortletServlet.service(PortletServlet.java:92)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1523)
    at org.apache.catalina.core.ApplicationDispatcher.doInvoke(ApplicationDispatcher.java:822)
    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:684)
    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:517)
    at org.apache.catalina.core.ApplicationDispatcher.doDispatch(ApplicationDispatcher.java:488)
    at org.apache.catalina.core.ApplicationDispatcher.dispatch(ApplicationDispatcher.java:379)
    at org.apache.catalina.core.ApplicationDispatcher.dispatch(ApplicationDispatcher.java:336)
    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:314)
    at com.liferay.portlet.InvokerPortletImpl.invoke(InvokerPortletImpl.java:635)
    at com.liferay.portlet.InvokerPortletImpl.invokeResource(InvokerPortletImpl.java:747)
    at com.liferay.portlet.InvokerPortletImpl.serveResource(InvokerPortletImpl.java:504)
    at com.liferay.portal.action.LayoutAction.processPortletRequest(LayoutAction.java:871)
    at com.liferay.portal.action.LayoutAction.processLayout(LayoutAction.java:613)
    at com.liferay.portal.action.LayoutAction.execute(LayoutAction.java:232)
    at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
    at com.liferay.portal.struts.PortalRequestProcessor.process(PortalRequestProcessor.java:153)
    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
    at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:432)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:754)
    at com.liferay.portal.servlet.MainServlet.callParentService(MainServlet.java:508)
    at com.liferay.portal.servlet.MainServlet.service(MainServlet.java:485)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1523)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:343)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.servlet.filters.strip.StripFilter.processFilter(StripFilter.java:309)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.servlet.filters.secure.SecureFilter.processFilter(SecureFilter.java:182)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.servlet.filters.autologin.AutoLoginFilter.processFilter(AutoLoginFilter.java:254)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at org.apache.catalina.core.ApplicationDispatcher.doInvoke(ApplicationDispatcher.java:820)
    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:684)
    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:517)
    at org.apache.catalina.core.ApplicationDispatcher.doDispatch(ApplicationDispatcher.java:488)
    at org.apache.catalina.core.ApplicationDispatcher.dispatch(ApplicationDispatcher.java:379)
    at org.apache.catalina.core.ApplicationDispatcher.dispatch(ApplicationDispatcher.java:336)
    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:314)
    at com.liferay.portal.servlet.FriendlyURLServlet.service(FriendlyURLServlet.java:134)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1523)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:343)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:126)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:196)
    at com.liferay.portal.servlet.filters.strip.StripFilter.processFilter(StripFilter.java:309)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:123)
    at org.apache.catalina.core.Application|#]...... 
```

* * *

我认为问题是liferay-faces-bridge，当primefaces ajax试图向服务器发送resourceRequest（点击分页页面2后）请求时，请求状态代码为200（OK），但是当服务器尝试做出响应时它无法将响应从 HttpServletResponse 正确转换为 ResourceResponse 并呈现 jsf 页面以显示汽车列表中的下 10 行。

所以我问是否有人有同样的错误来帮助我，或者给我任何建议我应该怎么做。

提前致谢。

# tfs - 从 TFS 中删除项目

> ID：14809471
> 
> 赞同：0
> 
> 时间：2013-02-11T09:42:55.257
> 
> 标签：tfs

我想从 TFS 中删除名为“Test”的项目。

![在此处输入图像描述](../Images/31185dfd266bf9a49739ba5547a4d95b.png)

我已经尝试过：

```
(dos prompt)
TFSDeleteProject /force /collection:https://xxxxxx.visualstudio.com/defaultcollection Test 
```

它不起作用，因为测试项目位于 yyyyyyyy 下

知道如何进行吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:44:12.187

`Test`似乎不是 TFS 项目。它是`yyyyyyyy`TFS 项目中的一个文件夹。为了删除它，您只需使用键盘上的`Del`（`Suppr.`在您的情况下），同时将鼠标悬停`Test`在源资源管理器中的文件夹上。您也可以右键单击该`Test`文件夹并从上下文菜单中选择将其删除。然后只需签入`yyyyyyyy`项目的待处理更改。

# sql-server - 使 .bak 文件与其他 mssql 版本兼容

> ID：14809478
> 
> 赞同：0
> 
> 时间：2013-02-11T09:43:37.593
> 
> 标签：sql-server, database-restore

客户端具有使用另一个 mssql 版本创建的 .bak 文件。我在自己的 mssql 版本上面临兼容性问题以恢复备份。我想知道是否有任何方法可以使 .bak 文件与我的版本兼容（比如在线转换）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:48:15.717

不。如果要交换备份，您和您的客户端必须使用相同的 SQL Server 版本。

根据您的角色（开发人员、管理员等），交换备份文件的想法可能是错误的。开发人员不需要来自客户端的备份，也不需要提供数据库二进制文件，而是提供部署脚本。

# java - 如何在数据表中绑定两个类

> ID：14809482
> 
> 赞同：1
> 
> 时间：2013-02-11T09:43:46.017
> 
> 标签：java, jsf, datatable

我在将两个 java 类绑定到一个 Datatable 组件时遇到问题。我有两个托管 bean 产品和订单

产品来源：

```
public class Product {

    private Integer id;
    private String kategoria;
    private String symbol;
    private String opis;
    private Double cena;

    //getters and setters
    //.....
    //hashCode, equals methods

} 
```

和订单来源：

```
public class Order {

    private Product produkt;
    private Integer quantity;   

    public Order() {}

    public Order(Product product, Integer quantity) {
        this.produkt = product;
        this.quantity = quantity;
    }

    public void setProduct(Product produkt) {
        this.produkt = produkt;
    }

    public Product getProdukt() {
        return produkt;
    }

    public void setQuantity(Integer quantity) {
        this.quantity = quantity;
    }

    public Integer getQuantity() {
        return quantity;
    }
} 
```

我的问题是：如何将此类绑定`Order`到`<h:dataTable />`组件以具有 Poduct 值和数量。我用 setOrder 和 getOrder 方法创建了 ProductBean 类

```
public List<OrderLine> getList() {
    List<OrderLine> l = new ArrayList<OrderLine>();
    for(OrderLine ol : list) {
        l.add(ol);
    }
    return l;
}

public void setList(Set<OrderLine> list) {
    if (this.list.isEmpty() )
        this.list = list;
    else {
        Iterator<OrderLine> it = this.list.iterator();
        for(OrderLine p : list) {
            while(it.hasNext()) {
                if(it.next().equals(p)) {
                    this.list.add(p);                    
                }
            }
        }
    }
} 
```

我正在进行从集合到列表的转换，因为我认为从列表中检索数据会更方便。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T10:10:07.773

为什么不想使用通用方法？

```
<h:dataTable value="#{productBean.getList}" var="o">

    <h:column>
        #{o.quantity}
    </h:column>

    <h:column>
        #{o.produkt.kategoria}
    </h:column>

    ...

    <h:column>
        #{o.produkt.cena}
    </h:column>

</h:dataTable> 
```

您可以通过订单对象访问产品字段。

## 更新

你做了什么：

*   为 Order 和 Product 类的所有字段指定 getter 和 setter
*   为您的订单集指定 getter 和 setter
*   创建这个集合，把你所有的订单放在那里
*   像我之前展示的那样迭代它

# css - 为什么chrome每次加载iframe时都会将iframe的高度增加10px？

> ID：14809484
> 
> 赞同：0
> 
> 时间：2013-02-11T09:43:49.970
> 
> 标签：css, google-chrome, iframe, resize, autosize

```
<button class="btn btn-success" id="opener" onclick="ValidateReport('<%=generatecampaign%>','<%=loading_img_path%>','<%=IS_HTML%>','Campaign_Report');">Preview</button> 
```

以上是我的预览按钮

以下是我的 iframe，它在 iframe 中加载一些 html，并使用 html 文件中的数据调整 iframe 的大小，这些数据将在 iframe 中加载

```
<div class="bordercolor" id="mydiv" style="display: none; text-align: center">

    <IFRAME SRC="" id="reportpreview"  style="text-align: center; clear:both;"
        marginheight="0" frameborder="0" onLoad="sizeFrame();"></iframe>
        <iframe id="myIFrm" src="" style="display: none;"> </iframe>
</div> 
```

以上是我的 iframe，它加载 html 文件并根据 html 文件内容调整 iframe 内容的大小......当没有 html 文件时，只需加载一个带有一个标签名称的静态 html 文件为“无可用数据”

我的问题是当我使用 chrome 并且当我想加载 html 文件时。它会自动增加 iframe 10pt 的高度。连续按下预览按钮。但是为什么当我尝试调整 iframe 高度时它不清除以前的高度值...

以下是我在 iframe onLoad 上调用的 javascript 中的 sizeFrame() 函数

```
function sizeFrame() {

    var F=null;
     F = document.getElementById('reportpreview');
    if(F.contentDocument) {
        F.height=0;
    F.height = F.contentDocument.documentElement.scrollHeight+10; //FF 3.0.11, Opera 9.63, and Chrome
    } else {

        F.height=0;
    F.height = F.contentWindow.document.body.scrollHeight+10; //IE6, IE7 and Chrome

    }

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:53:15.987

使用 css 重置并重置 iframe 的值。
类似的东西**`iframe{ margin:0 padding:0 height:0 width:0}`**。我之前有过噩梦般的经历，web-kit 浏览器添加了几个像素来为滚动条腾出空间。从那时起，我开始在我的项目中使用适当的 css-reset，即使它增加了开销。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T09:46:05.957

首先需要像这样在默认情况下重置 iframe：

> iframe {边距：0；填充：0；边框：0；字体大小：100%；字体：继承；垂直对齐：基线；}

# c# - XInclude 的替代品

> ID：14809487
> 
> 赞同：3
> 
> 时间：2013-02-11T09:43:51.837
> 
> 标签：c#, .net, xml, alternate, xinclude

据我所知`XInclude`，.net 中不支持。

我想为分层组织的 XML 配置文件利用相同的机制。我的意思是我有一个引用特定 Xml 文件的顶级 XML 配置文件。我的配置是一组专用于一个特定模块的配置。

我应该怎么做？（或者也许为什么我不应该这样做..）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:47:29.150

我不使用.net，但您可以尝试使用实体...

```
<!DOCTYPE example [
<!ENTITY doc1 SYSTEM "doc1.xml">
<!ENTITY doc2 SYSTEM "doc2.xml">
]>
<example>
&doc1;
&doc2;
</example> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T09:48:56.763

首先，[在 Codeplex 上的 .NET XInclude.NET](http://mvpxml.codeplex.com/wikipage?title=XInclude.NET)中有一些对 XInclude 的第 3 方支持。

如果您因为配置文件而询问，它们具有某种与 configSource 属性相同的内置功能，请参阅描述它的这篇[文章。](http://sunali.com/2008/01/23/configsource-property-dividing-configuration-files-into-pieces/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T09:47:55.337

MS为此创建了一个库。

查看[http://www.microsoft.com/en-us/download/details.aspx?id=4972](http://www.microsoft.com/en-us/download/details.aspx?id=4972)

应该有帮助

*   有 3ed 方解决方案。

*   你可以扩展一个 XmlReader 来读取 XInclude

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-12-09T15:09:11.277

您可以使用我的 Linq to XML XInclude 扩展方法：

```
/// <summary>
/// Linq to XML XInclude extentions
/// </summary>
public static class XIncludeExtention
{
    #region fields

    /// <summary>
    /// W3C XInclude standard
    /// Be aware of the different 2001 and 2003 standard.
    /// </summary>
    public static readonly XNamespace IncludeNamespace = "http://www.w3.org/2003/XInclude";

    /// <summary>
    /// Include element name
    /// </summary>
    public static readonly XName IncludeElementName = IncludeNamespace + "include";

    /// <summary>
    /// Include location attribute
    /// </summary>
    public const string IncludeLocationAttributeName = "href";

    /// <summary>
    /// Defines the maximum sub include count of 25
    /// </summary>
    public const int MaxSubIncludeCountDefault = 25;

    #endregion

    #region methods

    /// <summary>
    /// Replaces XInclude references with the target content.
    /// W3C Standard: http://www.w3.org/2003/XInclude
    /// </summary>
    /// <param name="xDoc">The xml doc.</param>
    /// <param name="maxSubIncludeCount">The max. allowed nested xml includes (default: 25).</param>
    public static void ReplaceXIncludes(this XDocument xDoc, int maxSubIncludeCount = MaxSubIncludeCountDefault)
    {
        ReplaceXIncludes(xDoc.Root, maxSubIncludeCount);
    }

    /// <summary>
    /// Replaces XInclude references with the target content.
    /// W3C Standard: http://www.w3.org/2003/XInclude
    /// </summary>
    /// <param name="xmlElement">The XML element.</param>
    /// <param name="maxSubIncludeCount">The max. allowed nested xml includes (default: 25).</param>
    public static void ReplaceXIncludes(this XElement xmlElement, int maxSubIncludeCount = MaxSubIncludeCountDefault)
    {
        xmlElement.ReplaceXIncludes(1, maxSubIncludeCount);
    }

    private static void ReplaceXIncludes(this XElement xmlElement, int subIncludeCount, int maxSubIncludeCount)
    {
        var results = xmlElement.DescendantsAndSelf(IncludeElementName).ToArray<XElement>();    // must be materialized

        foreach (var includeElement in results)
        {
            var path = includeElement.Attribute(IncludeLocationAttributeName).Value;
            path = Path.GetFullPath(path);

            var doc = XDocument.Load(path);
            if (subIncludeCount <= maxSubIncludeCount)  // protect mutal endless references
            {
                // replace nested includes
                doc.Root.ReplaceXIncludes(++subIncludeCount, maxSubIncludeCount);
            }
            includeElement.ReplaceWith(doc.Root);
        }
    }

    #endregion
} 
```

该代码的灵感来自以下博客文章：[http ://catarsa.com/Articles/Blog/Any/Any/Linq-To-Xml-XInclude?MP=pv](http://catarsa.com/Articles/Blog/Any/Any/Linq-To-Xml-XInclude?MP=pv)

更多 XInclude 信息：http: [//msdn.microsoft.com/en-us/library/aa302291.aspx](http://msdn.microsoft.com/en-us/library/aa302291.aspx)

# jakarta-ee - javax.persistence NamedQuery 未按预期工作

> ID：14809495
> 
> 赞同：0
> 
> 时间：2013-02-11T09:44:14.440
> 
> 标签：jakarta-ee, jpa, hql, named-query

我可能对此很敏感，但查询没有返回我期望的结果......

我有两个表（实体）：Properties 和 Landlords，如下所示：

属性由字段（以及其他字段）组成：Id、propertyRef 和 landLordsid（这是与表 Landlords 的多对一连接）。

Landlords 由字段（以及其他字段）组成：Id、landlordName 和用于联接的一对多集合。

我希望查询返回通过整数参数“landLord”传入的地主的所有属性，例如，如果参数为 2，则过滤等于 2 的 Properties.landLordsid。这是我当前使用的 NamedQuery，但它返回所有属性并且似乎没有过滤。

```
SELECT p 
from Properties p 
JOIN p.landLordsid l 
WHERE l.id = :landLord 
```

任何想法查询有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:00:25.957

让hibernate为你做加入：

这个 HQL 应该可以工作：

```
from Properties p 
where p.landLord.id = :landLord 
```

请注意连接是如何隐含的，并且“select *”也是隐含的。

# html - 如何使用 HTML5 画布优化移动设备上的拖动？

> ID：14809500
> 
> 赞同：0
> 
> 时间：2013-02-11T09:44:46.487
> 
> 标签：html, animation, mobile, canvas

我正在开发一个使用在受限路径（四分之一圆）上拖动句柄的网络应用程序。该工具是 HTML5 画布，问题是响应性差 - 用手指拖动手柄时，手柄落在手指后面。这发生在处理器速度较慢的旧移动设备上。有什么方法可以让滑动（看起来）更顺畅吗？我不需要覆盖所有智能手机，但 iPhone 2、3 和一些较旧的安卓设备现在真的很慢。

还有其他我可以使用的方法吗？CSS3 网络套件？

滑块示例（仅适用于移动设备）：http: [//jsfiddle.net/TtgYH/1/](http://jsfiddle.net/TtgYH/1/)

```
<canvas id="myCanvas" width='300' height='500' 
```

# html - 在 HTML 中设置表格的高度没有效果

> ID：14809502
> 
> 赞同：5
> 
> 时间：2013-02-11T09:44:49.507
> 
> 标签：html, css, html-table

为什么这个桌子高度不起作用？

```
<table border=1 bgcolor="green" width=80% height="30%">
    <tr>
        <td rowspan="2" >
            This is 1st row 1st column
        </td>
        <td >
            2
        </td>
    </tr>
</table> 
```

[http://jsfiddle.net/zQNS4/](http://jsfiddle.net/zQNS4/)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-11T09:48:51.510

只需将以下内容添加到您的 CSS 中：

```
html, body{
    height: 100%;
} 
```

正如其他人所说， a`table`没有`height`-attriute，但大多数浏览器无论如何都会暗示这一点。你可以[在 jsfiddle 上看到结果](http://jsfiddle.net/zQNS4/1/)。

您需要这样做的原因是任何应该具有 % 高度的父元素也必须具有高度（正如影子向导所说：“确切地说是什么的 30%？” - 父元素必须具有高度）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:46:48.487

`table`标签不包含`height`属性。尝试使用 CSS 样式设置表格的高度。

```
table{
   height: 30%;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-05-17T05:28:24.547

```
<div style="height: 200px; overflow-y: scroll;">
    <table border=1 bgcolor="green">
        <tr>
            <td rowspan="2" >
                This is 1st row 1st column
            </td>
            <td>
                 2
            </td>
        </tr>
   </table>
</div> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-10-28T08:09:41.043

我只是有同样的问题。我在容器（ div `config-table`）中有桌子，只是设置`height`对我不起作用。我必须设置`overflow: auto`（因为我的情况`auto`需要），现在开始工作

```
.config-table {
   height: 350px;
   overflow: auto;
} 
```

# redirect - Joomla 2.5.9 阅读更多后重定向错误-> 登录

> ID：14809504
> 
> 赞同：1
> 
> 时间：2013-02-11T09:44:58.783
> 
> 标签：redirect, joomla, login

我有一个奇怪的 Joomla 2.5.9 问题，我不知道这是错误还是设置问题。无论如何，我的问题是我创建了一个菜单项类型“博客列表”，选择了一个类别并将文章的“访问”设置为“已注册”并将“显示未经授权的访问链接”设置为“是”。现在用户可以看到文章，但如果他点击“阅读更多”，则会被重定向到登录。步骤可以在这里看到（-> [http://tinyurl.com/bldbvx4](http://tinyurl.com/bldbvx4)）

到目前为止，一切都很好。不幸的是，文章的返回 URL 没有正确创建。

我创建了一个演示安装来说明我的问题。 [http://seminare-gratz.de/Joomla_2/index.php/problem](http://seminare-gratz.de/Joomla_2/index.php/problem)

登录：演示演示

如果我点击“考拉”并在下一步登录，Joomla 会尝试将我重定向到： [http ://seminare-gratz.de/Joomla_2/index.php/%2FJoomla_2%2Findex.php%2Fproblem%3Fid%3D25 %3Akoala](http://seminare-gratz.de/Joomla_2/index.php/%2FJoomla_2%2Findex.php%2Fproblem%3Fid%3D25%3Akoala) 正确的是： [http ://seminare-gratz.de/Joomla_2/index.php/problem/25-koala](http://seminare-gratz.de/Joomla_2/index.php/problem/25-koala)

为了解决这个问题，我尝试使用 htaccess 剪切错误的部分（失败）

任何线索如何解决这个问题？

感谢您的帮助，

托尼

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T12:57:26.913

好，知道了。对于其他有这个问题的人。我做了一个模板覆盖：

组件/com_content/views/category/tmpl/blog_item.php

并在第 149 行剪切了 urlencode。

```
 //$link->setVar('return', base64_encode(urlencode($returnURL)));
    $link->setVar('return', base64_encode($returnURL)); 
```

有了这个黑客，它就可以工作了......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:59:35.223

这是因为你已经给了访问权限来注册，所以普通用户是不能阅读这篇文章的。因此，请您更改注册为公开的访问级别。

# image-processing - 如何检测图像中的热点

> ID：14809506
> 
> 赞同：10
> 
> 时间：2013-02-11T09:45:11.380
> 
> 标签：image-processing, opencv, computer-vision, photo, image-quality

如何使用opencv检测图像中的热点？我试过谷歌搜索，但无法得到它的线索。

**描述：** 我需要从实时视频流中过滤出好的图像。在这种情况下，我只需要检测帧中的热点。我需要在opencv中做到这一点。

**什么是热点？**

热点是被摄对象脸上的闪亮区域，由闪光从闪亮的表面反射或光线不均匀引起。它往往使拍摄对象看起来好像在出汗，这不是一个好看的样子。

**更新：** [http ://answers.opencv.org/question/7223/hotspots-in-an-image/](http://answers.opencv.org/question/7223/hotspots-in-an-image/) [http://en.wikipedia.org/wiki/Specular_highlight](http://en.wikipedia.org/wiki/Specular_highlight)

以上两个链接也可以帮助我的帖子？

**带有热点的图像：**

![在此处输入图像描述](../Images/0feaa9373a6120c7b092b8408278a3a5.png)

**没有热点的图像：**

![在此处输入图像描述](../Images/cfec3c39cdaf5ca54c7830bc09e04af8.png)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-11T17:42:57.650

这些“热点”区域的自动粗略指示可以通过高斯滤波和二值化来获得。期望“热点”比它周围的区域亮得多，因此在经过高斯滤波后，它们至少会稍微突出显示，同时由于低通滤波的性质，图像伪影会减少.

示例结果如下。简单转换为灰度后的二值化为 0.75（范围始终为 [0, 1]），在颜色空间的`B`通道中进行高斯滤波后的二值化为 0.85：`HSB`

![在此处输入图像描述](../Images/fb45c50a095f531adeea6bc06b32d74b.png) ![在此处输入图像描述](../Images/b7aefa494f3972d7443857c608175ddf.png)

在这两种情况下，由于“热点”不是太大的假设，大型组件都被删除了。

# drupal - Drupal 订阅论坛的限制

> ID：14809510
> 
> 赞同：0
> 
> 时间：2013-02-11T09:45:23.817
> 
> 标签：drupal, drupal-6, forum, subscriptions

我有一个 Drupal 6 站点，其中包含我们需要添加电子邮件订阅的现有论坛（和高级论坛）。我已经安装并显示了订阅模块，但它也显示在网站的所有其他部分。

我确定有一种方法可以将其仅限于论坛，但似乎不是通过订阅设置页面。

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T18:36:51.107

据我所知，您可以在此处控制不同内容类型和分类法的订阅链接的显示：/admin/settings/subscriptions

转到“阻止的内容类型”并阻止所需的内容类型。同样在“分类设置”部分下。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T15:00:41.910

我还没有解决这个问题，但已经通过使用通知模块来解决它。

# c# - 如何在 div.Innerhtml asp c# 中添加图像？

> ID：14809513
> 
> 赞同：2
> 
> 时间：2013-02-11T09:45:28.957
> 
> 标签：c#, asp.net, webforms

我想将图像添加到 div，但`innerHtml`会覆盖它。我需要如何实现这一目标？这就是我现在所拥有的：

```
Image ThumbImg = new Image();
ThumbImg.ImageUrl = ImgUrl; 

HtmlGenericControl divContent = new HtmlGenericControl("div");
divContent.Controls.Add(ThumbImg);
divContent.InnerHtml = Desc; 
```

如果我将`divContent.Controls.Add(ThumbImg);`行移到末尾，那么它会添加一个图像，但会添加到内容的末尾，并且我希望图像位于内容的开头。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T09:55:03.040

在 Desc 中添加“img”标签。然后在div的innerhtml中设置。

```
Desc=Desc+ "<img src=" + ImgUrl + " />";
divContent.InnerHtml = Desc; 
```

别的

```
Image img = new Image();
img.ImageUrl = ImgUrl;
divContent.Append(img);
divContent.Append(Desc); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-06-24T08:26:38.673

使用它在 Div 中显示图像

div.Style("背景图片") = Page.ResolveUrl("~/Images/xyz.JPG")

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T09:56:03.000

当您设置时，`InnerHtml`您会覆盖您添加的所有控件（如您所见）。

解决方案：在文本中添加另一个控件，例如[LiteralControl 。](http://msdn.microsoft.com/en-us/library/system.web.ui.literalcontrol.aspx)

```
Image ThumbImg = new Image();
ThumbImg.ImageUrl = ImgUrl; 

HtmlGenericControl divContent = new HtmlGenericControl("div");
divContent.Controls.Add(ThumbImg);
LiteralControl lit = new LiteralControl();
lit.Text = Desc;
divContent.Controls.Add(lit); 
```

或者，作为替代方法，使用[Label](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.label.aspx)控件。区别：标签在显示文本之前使用转义，而 LiteralControl 没有。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-11T09:57:05.673

你可以像这样添加它。

```
Desc +=  "<img id=\"img1\" src="+ ImgUrl + " />";
divContent.InnerHtml = Desc; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-11T09:58:04.067

不确定，但这是否可行：

```
divContent.InnerHtml += Desc; 
```

# delphi - Delphi：遍历记录中的字节

> ID：14809514
> 
> 赞同：6
> 
> 时间：2013-02-11T09:45:33.257
> 
> 标签：delphi, loops, record, delphi-xe3

我有一条包含多个字节/字节数组的记录：

```
 type
   TRdmPacket = record
    sc: byte;
    subSc: byte;
    msgLength: byte;
    destUID: array[0..5] of byte;
    srcUID: array[0..5] of byte;
    transNum: byte;
    portID: byte;
    msgCount: byte;
    subDevice: array[0..1] of byte;
    cc: byte;
    pid: array[0..1] of byte;
    pdl: byte;
  end; 
```

我有一个这种类型的记录，我需要遍历里面的字节（通过将每个字节添加到校验和来创建一个简单的校验和）。是否有一种简单的方法可以在循环中执行此操作，或者我需要单独检查记录中的每个元素？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-11T09:48:10.680

您可以执行以下操作：

```
var
  sum: Byte;
  ptr: PByte;
  i: Integer;
begin
  sum := 0;
  ptr := PByte(@rdmPacket);

  for i := 0 to SizeOf(TRdmPacket) - 1 do
  begin
    sum := sum xor ptr^;
    Inc(ptr);
  end;
end; 
```

在这种特殊情况下，它将正常工作，因为其中的所有字段`TRdmPacket`都是字节或字节数组并且它们没有对齐。如果您想将此方法用于其他类型的记录，请进一步阅读[Packed](http://www.delphibasics.co.uk/RTL.asp?Name=Packed)和[$Align 指令如何影响内部记录布局。](http://www.delphibasics.co.uk/RTL.asp?Name=$Align)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T10:03:28.647

您可以为此使用绝对指令

```
type
   TRdmPacket = record
    sc: byte;
    subSc: byte;
    msgLength: byte;
    destUID: array[0..5] of byte;
    srcUID: array[0..5] of byte;
    transNum: byte;
    portID: byte;
    msgCount: byte;
    subDevice: array[0..1] of byte;
    cc: byte;
    pid: array[0..1] of byte;
    pdl: byte;
  end;

Function GetPackChecksum( pack:TRdmPacket):Integer;
var
 BArray:Array [0..SizeOf(TRdmPacket) - 1] of Byte absolute pack;
 i:Integer;
begin
 Result := 0;
 for I := Low (BArray)to High(BArray) do
    begin
      Result := Result +  BArray[i];
    end;

end;

procedure TForm2.Button1Click(Sender: TObject);
var
 pack:TRdmPacket;
begin
  ZeroMemory(@pack,SizeOf(Pack));
  pack.sc := 100;
  pack.destUID[1] := 123;
  Showmessage(IntToStr(GetPackChecksum(pack)));
end; 
```

# javascript - 如何正确地将计数器的值添加到变量名

> ID：14809515
> 
> 赞同：0
> 
> 时间：2013-02-11T09:45:37.043
> 
> 标签：javascript, variables

这看起来很容易，但我有点迷失......我需要将计数器值添加到变量名中。

```
for (var i=0; i<8; i++){
   var upBt0; //this is the name in the first iteration
   var upBt1; //this is the name in the second iteration
   .
   .
   .
   var upBt8; //this is the name in the last iteration
} 
```

我怎样才能正确地做到这一点？对不起，丹尼尔

**编辑：**

```
for (var i=0; i<8; i++)
    {
        this.upBt = "upBt"+i;
        this.upBt = new PL_Button().init("upBarButton"+i);
} 
```

我创建按钮......特别是 8 个按钮......后来，我需要访问这些按钮中的每一个：

```
function (){
    this.upBt1;
    this.upBt1;
    this.upBt3;
    this.upBt6;
} 
```

希望解释得更好。

**编辑2**：最后，我使用类的辅助数组解决了它，我在每次迭代中推送了每个对象。这个数组的每一项都是对每一个对象的真实引用，所以改变了数组中的项，相应的对象也进行了改变……希望已经解释清楚了。

谢谢你的帮助，丹尼尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:56:09.303

你可以使用它，但它是丑陋的代码......

```
for (var i=0; i<8; i++){
   this["upBt" + i] = Object.create(null);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T13:05:48.263

使用对我有帮助的数组：

```
this._arrayButtons = {};
for (var i=0; i<8; i++)
{
    this.upBt = new PL_Button().init("upBarButton"+i);
    this.upBt.imgPath = "res/builder/"+upBarImgs[i];
        .
        .
        .
    this._arrayButtons[i] = this.upBt;
} 
```

之后，在一个函数中，我可以访问变量的内容，例如：

```
function refreshFrameAlpha(){
    this._arrayButtons[3].alpha = 125;
    this._arrayButtons[5].alpha = 225;
    .
    .
} 
```

这样，我就可以刷新对象的alpha(pe)，因为数组的每一项都是对对应对象的引用。

# javascript - 如何根据条件在渲染中将列添加到dataTables“aoColumns”

> ID：14809519
> 
> 赞同：0
> 
> 时间：2013-02-11T09:45:43.237
> 
> 标签：javascript, datatables

我有一个 js 函数在 2 个部分中使用的表上工作，这 2 个部分仅针对 td 不同，我想使用相同的函数两次，但有一个参数告诉我是否添加或不添加此列数据进行渲染. 这是一项常见任务，但我无法使用 dataTables 来实现。

```
function find(url, type)
{
    $('#table').dataTable({
        "bProcessing": true,
        "sAjaxSource": url,
        "sAjaxDataProp": "",
        "bDeferRender": true,
        "sPaginationType": "full_numbers",
        "bStateSave": true,
        "bAutoWidth": true,
        "bDestroy":true,
        "aoColumns":
        [
            {"mData": "a"},
            {"mData": "b"},
            {"mData": "conditionalData"}
        ],
        "oLanguage":
        {
            "sLengthMenu": "Mostra _MENU_ risultati per pagina",
            "sZeroRecords": "Nessun RISULTATO",
            "sInfo": "Mostra da _START_ a _END_ di _TOTAL_ risultati",
            "sInfoEmpty": "Mostra 0 su 0 di 0 risultati",
            "sInfoFiltered": "(Filtrati da _MAX_ risultati totali)",
            "sSearch": "Filtra:",
            "oPaginate":
            {
                "sFirst": "|<",
                "sLast": ">|",
                "sNext": ">",
                "sPrevious": "<"
            }
        },
        "aoColumnDefs": [ {"bSortable": false, "aTargets": []} ]
    });
} 
```

除了通过构造函数初始化所有参数之外，还有没有办法做类似下面的事情？我想遵循[这个](http://www.urbandictionary.com/define.php?term=DNRY)好规则：

```
"bDestroy":true,
"aoColumns":
[
    {"mData": "a"},
    {"mData": "b"},
    if(type == 1)
    {
        {"mData": "conditionalData"}
    }
],
"oLanguage": 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T16:46:49.933

您可以通过将每一列添加到数据表中来达到目的。然后，您可以使用 fnSetColumnVis 函数隐藏某些列（哪些列不符合您的条件）：

```
var oTable = $('#myTable').dataTable({...});
for(var i = 0; i < columns.length; i++){
    if(columns[i] not matching criteria)
        oTable.fnSetColumnVis(i, false);
} 
```

# database - 实体解析

> ID：14809521
> 
> 赞同：0
> 
> 时间：2013-02-11T09:45:49.683
> 
> 标签：database, entity, resolution, scientific-computing

我向科学研究领域的人提出这个问题：我想知道“实体解析”和“实体匹配”这两个术语在数据库上下文中的区别。或者它是否意味着相同的东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-25T20:36:57.787

实体解析、实体匹配、记录链接、重复检测、关系聚类、共指解析、引用协调、数据库强化、实体消歧、合并/清除或记录匹配描述了非常相似的研究问题：识别引用的记录组的过程相同的现实世界实体。不同的研究和应用领域偏爱不同的术语。

但是，据我所知，分辨率和匹配之间存在细微差别。实体匹配通常用于描述记录/实体对的匹配，仅查看给定对来确定它们是否引用同一事物。另一方面，实体解析描述了推导所有匹配的过程；例如。如果我们知道记录 r1 匹配 r2 并且 r2 匹配 r3，那么整个实体包含 r1、r2、r3，包括 r1 匹配 r3。

在数据库的上下文中，实体匹配更接近于记录之间的相似性连接，而实体解析更接近于重复相似性连接的迭代过程。

# jquery - 将 href 链接到 jQuery UI 选项卡的正确方法

> ID：14809522
> 
> 赞同：2
> 
> 时间：2013-02-11T09:45:50.957
> 
> 标签：jquery, jquery-ui, jquery-ui-tabs

将 href 链接到 jQuery UI 选项卡的正确方法是什么？

到目前为止，我已经尝试过了，但它似乎不起作用：

```
 $("#search").tabs();

    $('#2a').click(function () {
        $("#search").tabs('select', 1);
        return false;
    });

    $('#2b').click(function () {
        $("#search").tabs('select', 2);
        return false;
    }); 
```

这是我的代码：http: [//jsfiddle.net/bWHt6/](http://jsfiddle.net/bWHt6/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T10:14:03.970

你就是这样做的，除了索引从零开始。第一个选项卡是`0`，第二个是`1`，依此类推。

```
$('#2a').click(function () {
    $("#search").tabs('select', 0);
    return false;
});

$('#2b').click(function () {
    $("#search").tabs('select', 1);
    return false;
}); 
```

[演示](http://jsfiddle.net/bWHt6/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T10:15:38.237

试试这个：

```
$(document).ready(function(){
$("#search").tabs();

        $('#2a').click(function () {
            $("#search").tabs('select', 0);
            return false;
        });

        $('#2b').click(function () {
            $("#search").tabs('select', 1);
            return false;
        });
})  ; 
```

检查小提琴[http://jsfiddle.net/bWHt6/3/](http://jsfiddle.net/bWHt6/3/)

# javascript - 字符串的适当间距和缩进

> ID：14809525
> 
> 赞同：0
> 
> 时间：2013-02-11T09:45:54.493
> 
> 标签：javascript, html, syntax-highlighting, dreamweaver

所以我从 EDITAREA 一个网络荧光笔中得到了这个代码片段，我怎样才能重写它以使其更具可读性而不破坏代码输出行为？

```
editAreaLoader.iframe_script= "<script type='text/javascript'> Ã EA(){vart=Á;t.error=Ì;t.inlinePopup=[{popup_id:\"area_search_replace\",icon_id:\"search\"},{popup_id:\"edit_area_help\",icon_id:\"help\"}];t.plugins={};t.line_number=0;È.eAL.set_browser_infos(t);if(t.isIE >=8)t.isIE=7;t.É={};t.last_text_to_highlight=\"\";t.last_hightlighted_text=\"\";t.syntax_list=[];t.allready_used_syntax={};t.check_line_selection_timer=50;t.ÂFocused=Ì;t.highlight_selection_line=null; text=text.replace(sy[\"custom_regexp\"]['after'][i]['regexp'],convert);}}return text;};var editArea= eA;EditArea=EA;</script>".replace(/Á/g,'this').replace(/Â/g,'textarea').replace(/Ã/g,'function').replace(/Ä/g,'prototype').replace(/Å/g,'settings').replace(/Æ/g,'length').replace(/Ç/g,'style').replace(/È/g,'parent').replace(/É/g,'last_selection').replace(/Ê/g,'value').replace(/Ë/g,'true').replace(/Ì/g,'false'); 
```

如何重写代码以使其更具可读性？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:00:06.067

代码扩展如下：

```
函数 EA() {
    变体=这个；
    t.error = 假；
    t.inlinePopup = [{
        popup_id: "area_search_replace",
        icon_id: "搜索"
    }, {
        popup_id: "edit_area_help",
        icon_id：“帮助”
    }];
    t.plugins = {};
    t.line_number = 0;
    parent.eAL.set_browser_infos(t);
    如果 (t.isIE >= 8) t.isIE = 7;
    t.last_selection = {};
    t.last_text_to_highlight = "";
    t.last_hightlighted_text = "";
    t.syntax_list = [];
    t.allready_used_syntax = {};
    t.check_line_selection_timer = 50；
    t.textareaFocused = 假；
    t.highlight_selection_line = null;
    text = text.replace(sy["custom_regexp"]['after'][i]['regexp'], convert);
}
}
返回文本；
};
var 编辑区域 = eA;
编辑区 = EA；

```

但它有语法错误，因此根本不起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:58:04.117

我不确定我是否真的理解这个问题，但我敢说你要么想要拆分字符串：

```
editAreaLoader.iframe_script= "<script type='text/javascript'>" +
    "Ã EA(){" +
    "vart=Á;" +
    ... 
```

...或从外部文件加载内容：

```
 editAreaLoader.iframe_script= "<script type='text/javascript' src='/path/fo/file.js'>" + 
```

# c# - 创建一个 LINQ 查询，该查询将包括当前周的所有条目，不包括今天和昨天

> ID：14809527
> 
> 赞同：2
> 
> 时间：2013-02-11T09:45:55.400
> 
> 标签：c#, linq, linq-to-sql

我正在处理 LINQ 查询以检索本周的所有记录，但是，我需要排除今天和昨天的任何记录。

这是我到目前为止所拥有的：

```
DateTime startThisWeek = DateFunctions.GetFirstDayOfWeek(DateTime.Now).AddDays(1);
DateTime endOfThisWeek = startThisWeek.AddDays(6);
DateTime today = DateTime.Now;
DateTime yesterday = DateTime.Now.AddDays(-1);

var notificationList = 
    (from n in db.DashboardNotifications
                 .OrderByDescending(n => n.NotificationDateTime)
     where (n.NotificationDateTime >= startThisWeek && 
            n.NotificationDateTime <= endOfThisWeek) &&  
           (n.NotificationDateTime != today && 
            n.NotificationDateTime != yesterday)
     select n).ToList(); 
```

上面查询的问题是它没有返回正确的记录，它也显示了今天的记录。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T10:32:25.443

假设你的`DateFunctions.GetFirstDayOfWeek`作品正确

```
DateTime startThisWeek = DateFunctions.GetFirstDayOfWeek(DateTime.Now);
DateTime yesterday  = DateTime.Today.AddDays(-1);

var notificationList = 
   (from n in db.DashboardNotifications
    where n.NotificationDateTime.Date >= startThisWeek.Date && 
          n.NotificationDateTime.Date < yesterday)
    orderby n.NotificationDateTime descending
    select n).ToList(); 
```

**评论**：如果本周的开始时间不是在昨天之前，那么您将根本没有记录。否则昨天总是会在当前周末之前。

如何正确开始一周：

```
public static class DateTimeExtensions
{
    public static DateTime StartOfWeek(this DateTime date, 
        DayOfWeek startOfWeek = DayOfWeek.Monday)
    {
        DateTime result = date;

        while (result.DayOfWeek != startOfWeek)
            result = date.AddDays(-1);

        return result.Date;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T10:34:49.367

如果今天和昨天的记录与您运行报告时的时间相同，您只会排除它们。

尝试

```
DateTime startThisWeek = DateFunctions.GetFirstDayOfWeek(DateTime.Now.Date).AddDays(1);
DateTime endOfThisWeek = startThisWeek.AddDays(6);
DateTime today = DateTime.Now.Date;
DateTime yesterday = DateTime.Now.Date.AddDays(-1);

var notificationList = 
(from n in db.DashboardNotifications
             .OrderByDescending(n => n.NotificationDateTime)
 where (n.NotificationDateTime >= startThisWeek && 
        n.NotificationDateTime.Date <= endOfThisWeek) &&  
       (n.NotificationDateTime.Date != today && 
        n.NotificationDateTime.Date != yesterday)
 select n).ToList(); 
```

这是假设将来可能会有通知。

Ps，我不确定 DateFunctions.GetFirstDayOfWeek 方法的作用，也不确定为什么要添加 1 天。

# javascript - 为什么JS代码“var a = document.querySelector('a[data-a=1]');” 导致错误？

> ID：14809528
> 
> 赞同：93
> 
> 时间：2013-02-11T09:46:00.360
> 
> 标签：javascript, html, css-selectors, custom-data-attribute, selectors-api

我在 DOM 中有一个元素：

`<a href="#" data-a="1">Link</a>`

我想通过它的 HTML5 自定义数据属性来获取这个元素`data-a`。所以我写了JS代码：

`var a = document.querySelector('a[data-a=1]');`

但是这段代码不起作用，我在浏览器的控制台中收到错误。（我测试了 Chrome 和 Firefox。）

JS代码`var a = document.querySelector('a[data-a=a]');`不会导致错误。所以我认为问题在于 HTML5 的 JS API`document.querySelector`不支持在 HTML5 自定义数据属性中查找数字值。

这是浏览器实现错误的问题还是与 HTML5 规范相关的问题`document.querySelector`？

然后我在[http://validator.w3.org/](http://validator.w3.org/)上测试了以下代码：

```
<!DOCTYPE html>
<meta charset="utf-8">
<title>An HTML Document</title>
<a href="#" data-a="1">Link</a> 
```

他们经过验证。由于这些 HTML5 代码已经过验证。我们应该可以使用 HTML5 的 JS API`document.querySelector`通过其自定义数据属性来查找此锚元素。但事实是我出错了。

HTML5 对 HTML5 JS API 的规范是否`document.querySelector`说此方法不能查找具有数字值的 HTML5 数据自定义属性？（需要 HTML5 规范源。）

* * *

## 回答 #1

> 赞同：175
> 
> 时间：2013-02-11T09:52:32.387

从[选择器规范](http://www.w3.org/TR/selectors/#attribute-representation)：

> 属性值必须是 CSS 标识符或字符串。

标识符不能以数字开头。字符串必须加引号。

`1`因此既不是有效的标识符也不是字符串。

改用`"1"`（这是一个字符串）。

```
var a = document.querySelector('a[data-a="1"]'); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-11T09:56:07.780

你可以使用

```
var a = document.querySelector('a[data-a="1"]'); 
```

代替

```
var a = document.querySelector('a[data-a=1]'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-06-13T14:48:17.133

因为您需要在要查找的值周围加上括号。所以在这里 ：`document.querySelector('a[data-a="1"]')`

如果您事先不知道该值但正在通过变量查找它，您可以使用模板文字：

假设我们有带有 data-price 的 div

```
<div data-price="99">My okay price</div>
<div data-price="100">My too expensive price</div> 
```

我们想找到一个元素，但使用某人选择的数字（所以我们不知道）：

```
// User chose 99    
let chosenNumber = 99
document.querySelector(`[data-price="${chosenNumber}"]`) 
```

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2017-12-11T14:36:32.343

是的，必须引用字符串，并且在某些情况下，例如在 applescript 中，必须对引号进行转义

```
do JavaScript "document.querySelector('span[" & attrName & "=\"" & attrValue & "\"]').click();" 
```

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2018-07-29T07:02:27.947

花了我一段时间才发现这一点，但是如果您将数字存储在变量中，例如 x 并且您想选择它，请使用

```
document.querySelector('a[data-a= + CSS.escape(x) + ']'). 
```

这是由于我还不太熟悉的一些属性命名规范。希望这会对某人有所帮助。

* * *

## 回答 #6

> 赞同：-4
> 
> 时间：2020-02-24T16:59:52.320

带有变量（ES6）的示例：

const item = document.querySelector( `[data-itemid="${id}"]`);

# sql-server - 仅提交 SQL 源代码控制中的部分更改

> ID：14809534
> 
> 赞同：0
> 
> 时间：2013-02-11T09:46:08.397
> 
> 标签：sql-server, redgate, database-versioning

我目前正在测试 RedGate 的 Sql Source Control（版本 3.1.3.26）。

我有一个包含静态数据的表，它在每一行中存储一个 SQL 语句。
有没有办法只提交部分更改？
例如，我更改了 5 行，但我只想选择其中的 3 行进行提交。

我正在考虑一种类似于 RedGate 的数据比较提供的功能，我可以在其中单独决定每一行是否应该包含在部署脚本中。

这是可能的还是我只能提交表的完整更改？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T10:37:10.093

目前，您必须提交所有表数据更改。您可能想在 Red Gate 的用户语音页面上关注[过滤静态数据的能力](http://redgate.uservoice.com/forums/39019-sql-source-control/suggestions/2102131-sql-source-control-static-views-or-table-subsets-)。

# android - 无法运行谷歌地图原始示例

> ID：14809538
> 
> 赞同：-5
> 
> 时间：2013-02-11T09:46:31.370
> 
> 标签：android, google-maps

我无法从[谷歌网站](https://developers.google.com/maps/documentation/android/intro#sample_code)运行示例谷歌地图应用程序。我按照说明操作并添加了我自己的 API 密钥。但仍然无法正常工作。帮助请

这是我刚刚更改 API 密钥的清单

```
 <?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.mapdemo"
    android:versionCode="1"
    android:versionName="1.0" >

    <permission
        android:name="com.example.mapdemo.permission.MAPS_RECEIVE"
        android:protectionLevel="signature" />

    <uses-permission android:name="com.example.mapdemo.permission.MAPS_RECEIVE" />
    <!-- Copied from Google Maps Library/AndroidManifest.xml. -->
    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="16" />

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES" />
    <!-- External storage for caching. -->
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <!-- My Location -->
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <!-- Maps API needs OpenGL ES 2.0\. -->
    <uses-feature
        android:glEsVersion="0x00020000"
        android:required="true" />
    <!-- End of copy. -->
    <application
        android:hardwareAccelerated="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/demo_title" >

        <!-- You must insert your own Google Maps for Android API v2 key in here. -->
        <meta-data
            android:name="com.google.android.maps.v2.API_KEY"
            android:value="Here I put my API key" />

        <activity android:name=".MainActivity" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity
            android:name=".BasicMapActivity"
            android:label="@string/basic_map" />
        <activity
            android:name=".CameraDemoActivity"
            android:label="@string/camera_demo" />
        <activity
            android:name=".EventsDemoActivity"
            android:label="@string/events_demo" />
        <activity
            android:name=".GroundOverlayDemoActivity"
            android:label="@string/groundoverlay_demo" />
        <activity
            android:name=".LayersDemoActivity"
            android:label="@string/layers_demo" />
        <activity
            android:name=".LocationSourceDemoActivity"
            android:label="@string/locationsource_demo" />
        <activity
            android:name=".MarkerDemoActivity"
            android:label="@string/marker_demo" />
        <activity
            android:name=".OptionsDemoActivity"
            android:label="@string/options_demo" />
        <activity
            android:name=".PolygonDemoActivity"
            android:label="@string/polygon_demo" />
        <activity
            android:name=".PolylineDemoActivity"
            android:label="@string/polyline_demo" />
        <activity
            android:name=".ProgrammaticDemoActivity"
            android:label="@string/programmatic_demo" />
        <activity
            android:name=".TileOverlayDemoActivity"
            android:label="@string/tile_overlay_demo" />
        <activity
            android:name=".UiSettingsDemoActivity"
            android:label="@string/uisettings_demo" />
        <activity
            android:name=".RawMapViewDemoActivity"
            android:label="@string/raw_mapview_demo" />
        <activity
            android:name=".RetainMapActivity"
            android:label="@string/retain_map" />
        <activity
            android:name=".MultiMapDemoActivity"
            android:label="@string/multi_map_demo" />
    </application>
    </manifest> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:40:38.330

在清单文件的应用程序中包含 android google maps 的库

```
 <uses-library android:required="true" android:name="com.google.android.maps" /> 
```

# linux - C/C++语言中的Conky

> ID：14809540
> 
> 赞同：1
> 
> 时间：2013-02-11T09:46:36.217
> 
> 标签：linux, linux-mint, conky

我想在 mint 中更改我的桌面图像 :) 我想向桌面添加类似 conky 的东西，但我不知道 LUA 语言 :( 是否可以用 C/C++ 语言编写它？（例如我想连接使用预报服务器下载一些带有我的天气的 png 等:)

有谁知道该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-22T10:29:25.537

Lua 非常容易学习，与 C/C++ 相比绝对容易得多。我建议您查看《[Lua 编程](http://www.lua.org/pil/)》一书并学习基础知识。如果你真的想使用 C，你总是可以从 Lua 调用 C 函数并在那里做真正的工作。书中也有解释;-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-30T01:33:43.083

I'm not sure that conky supports C/C++. But you can find many sample conky/lua scripts on google. It's not hard to find something close to what your looking for in appearance and in features, and simply modify the conky and lua scripts manually through trial and error. Its really quite easy to decipher. You can also check the conky man page for info: [http://conky.sourceforge.net/docs.html](http://conky.sourceforge.net/docs.html)

# twitter-bootstrap - twitter 引导覆盖和自定义样式

> ID：14809546
> 
> 赞同：2
> 
> 时间：2013-02-11T09:46:58.983
> 
> 标签：twitter-bootstrap, overriding, customization, less

我需要有关以下方面的帮助：

1.  推特引导
2.  较少的
3.  简单（可选）

我正在使用 twitter 引导程序，我修改了 variables.less 以满足我的配色方案，并且我使用 custom.less 作为我的布局等。我使用 wearkiss 的 simpless 来编译（或任何它被称为）的 css。

我最后使用将我的 custom.less 包含到“bootstrap.less”中 @import "custom.less" 并为我生成单个 *.css 文件，直到现在我已经满意了，但现在我需要分离核心引导程序.css 和我的 custom.css，现在这是我面临的问题，我在 custom.less 文件中使用核心类，例如：

1.  .btn
2.  .btn-primary 以及 mixins 等。

如果不将核心包含在我的 custom.less 中，我就不能包含 (.btn) 等等等。为了利用核心类，我有哪些选择（我不想重写核心中已经存在的内容）并且仍然能够分离核心 *.css 和我的 custom.css？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-01T17:17:42.417

## 可用于 LESS 1.5

从 LESS 1.5 开始，您可以仅出于参考目的导入文件，这样您就可以访问类和 mixin，而无需文件生成自己的输出 css。`custom.less`你会在你的文件中这样做：

```
@import (reference) "bootstrap.less"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T11:04:49.947

我们在这里做的是制作 2 个文件，`custom.less`然后`style.less`. 这些看起来有点像这样：

**无风格**

```
@import "bootstrap.less";
@import "custom.less"; /* Overrides the bootstrap.less */
... Other imports 
```

**无定制**

```
/* Some custom styles here, that override the bootstrap.less */
... 
```

您必须编译 style.less。

# java - 对象数组实例的深拷贝，Java

> ID：14809548
> 
> 赞同：5
> 
> 时间：2013-02-11T09:47:01.320
> 
> 标签：java, arrays, object, deep-copy

我有一个主要的对象`Recipe recipeOne = new Recipe("Pepperoni Pizza");`

这个对象是这里定义和构造的这个对象数组的一个实例！

```
public class Recipe implements Cloneable{

String Name;

final int INGREDIENT_ARRAY_MAX = 10;

Ingredient Recipe[] = new Ingredient[INGREDIENT_ARRAY_MAX];

public Recipe(String name){

    Name = name;

} 
```

所以我想用这条线对这个对象做一个深拷贝，`Recipe ressippi = (Recipe) recipe.clone();`然后它把我送到这里！

```
public Object clone(){

    Recipe cloneRec = new Recipe(Name);

    return cloneRec;

} 
```

我知道这目前是一个浅拷贝，因为该方法只传递引用，所以如果我要尝试在我的新对象上更改名称，它是 recipeOne 的克隆......它会同时更改它们的名称。显然我不想要那个，我对此很迷茫，有人可以帮忙吗？

编辑：@Rohit Jain

我的 Recipe 类和 Ingredient 类（配方数组包含的对象）都有 toString 方法，并且 recipes 调用了成分，以便以漂亮的小格式将其全部打印出来。当我在我的“recipeOne”对象（称为意大利辣香肠比萨）上调用它时，我得到“意大利辣香肠比萨：1.0 磅面团、8.0 盎司酱汁、10.0 盎司奶酪”

然后我继续制作对象 ressippi 并将其设置为 recipeOne 的克隆，所以从这里开始一切都很好......然后我将 ressippi 的名称更改为“Pineapple Pizza”，打印效果很好，但它没有打印 recipeOne 的 3 个成分对象存储，它应该这样做！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T10:17:39.430

向配方类添加一个复制构造函数，它会创建一个新的配方实例并复制原始配方中的所有字段。

**食谱.java**

```
public class Recipe implements Cloneable {

    String name;

    final int INGREDIENT_ARRAY_MAX = 10;

    Ingredient[] ingredients = new Ingredient[INGREDIENT_ARRAY_MAX];

    public Recipe(String name) {
        this.name = name;
    }

    //Copy Constructor
    private Recipe(Recipe recipe){
        this.name = recipe.name;
        for(int x = 0; x < recipe.ingredients.length; x++){
            this.ingredients[x] = recipe.ingredients[x];
        }
    }

    public static Recipe newInstance(Recipe recipe){
        return new Recipe(recipe);
    }

    //Debug Method
    public static void printRecipe(Recipe recipe){
        System.out.println("Recipe: " + recipe.name);
        for(Ingredient i:recipe.ingredients){
          if(i != null && i.getName() != null){
              System.out.println("Ingredient: " + i.getName());           
          }
        }
    }

    //Test Method
    public static void main(String[] args) {
        Recipe recipe = new Recipe("Chicken Soup");
        recipe.ingredients[0] = new Ingredient("Chicken");
        recipe.ingredients[1] = new Ingredient("Broth");

        Recipe copy = new Recipe(recipe);
        copy.ingredients[2] = new Ingredient("Rice");
        copy.name = "Chicken Rice Soup";

        printRecipe(recipe);
        printRecipe(copy);
        System.out.println(recipe == copy);
        System.out.println(recipe.ingredients == copy.ingredients);
    }
} 
```

**成分.java**

```
public class Ingredient {

    private String name;

    public Ingredient(String name){
        this.name = name;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T09:52:05.313

正如您所发现的，实现`Cloneable`并不会真正克隆对象。您必须`clone()`明智地实现该方法，如果您想要一个深层副本，那就是您应该实现的。

现在，创建一个`Recipe`具有相同`Name`属性的新对象是完全可以的。之后更改新对象的名称也很好，它不会更改第一个对象的名称，因为 java`String`是不可变的。

您可能想看看[commons-beanutils](http://commons.apache.org/beanutils/api/org/apache/commons/beanutils/BeanUtils.html)包，它提供了方便的克隆对象代码。

最后，至于“...仅通过引用...”您应该阅读例如。[这个](https://stackoverflow.com/questions/10750098/confused-whether-java-uses-call-by-value-or-call-by-reference-when-an-object-re)和[这个](https://stackoverflow.com/questions/40480/is-java-pass-by-reference)线程。

干杯，

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T09:55:04.763

序列化它！看看这里的 deepClone 函数示例：[http ://www.avajava.com/tutorials/lessons/how-do-i-perform-a-deep-clone-using-serializable.html](http://www.avajava.com/tutorials/lessons/how-do-i-perform-a-deep-clone-using-serializable.html)

其他关于字符串不可变的回复当然是正确的，但是您试图用字符串示例描述的问题只是一个坏示例；像成分数组这样的复杂对象仍然是通过引用复制的。

另外：更改数组的名称，使其与类名不匹配（=混淆）：

```
Ingredient Recipe[] = new Ingredient[INGREDIENT_ARRAY_MAX]; 
```

# c++ - linux中的“cpp-bin”是什么意思？

> ID：14809550
> 
> 赞同：0
> 
> 时间：2013-02-11T09:47:11.293
> 
> 标签：c++, linux, gcc, g++, ubuntu-12.04

我是 linux 上的新手，我按照[这个](http://mjanja.co.ke/2012/04/ubuntu-gcc-4-4-considered-harmful/)在我的 ubuntu 12.04 上安装了替代 gcc4.4，但是一行代码让我感到困惑：

```
update-alternatives --install /usr/bin/cpp cpp-bin /usr/bin/cpp-4.4 100 
```

有人能告诉我为什么要取一个新名字`cpp-bin`而不是`cpp`这样：

```
update-alternatives --install /usr/bin/cpp cpp /usr/bin/cpp-4.4 100 
```

我找不到`cpp-bin`手册页。这是作者的错字还是我应该学习的新东西？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T09:54:10.220

*cpp-bin*只是您选择的名称。通过上面对 update-alternatives 的调用，您可以安装（类似于）从*cpp-bin*到*/usr/bin/cpp-4.4*的符号链接。

在第二次调用中，您将覆盖原始*cpp*命令的链接。取决于你想做什么。

> Alternatives [options] --install 链接名路径优先级 [--slave 链接名路径]... [--initscript 服务]

（来自： http: [//linux.die.net/man/8/update-alternatives](http://linux.die.net/man/8/update-alternatives)）

# ssl - 任何人都可以发布一个如何在 Tsung 中启用 SSL 的示例吗？

> ID：14809554
> 
> 赞同：4
> 
> 时间：2013-02-11T09:47:19.397
> 
> 标签：ssl, https, load-testing, tsung

我正在使用 Tsung 从另一台机器上对 CouchDB 服务器进行负载测试，并且需要建立安全连接。不幸的是，我无法在文档或在线找到语法示例......

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-26T17:11:57.097

在 tsung.xml 中：

```
<servers>
    <server host="HOSTNAME_HERE" port="443" type="ssl"></server>
</servers> 
```

[当前 Tsung 文档](http://tsung.erlang-projects.org/user_manual/index.html)的参考资料：

**[6.2\. 客户端和服务器 > 基本设置](http://tsung.erlang-projects.org/user_manual.html#htoc41)：**

> 类型可以是`tcp`, `ssl`, `udp`（对于 IPv6，使用`tcp6`或`ssl6`;`udp6`仅在 1.4.2 和更高版本中可用）或`websocket`（仅在 1.5.0 和更高版本中可用））：

```
<servers>
  <server host="server1" port="80" type="ssl" weight="4"></server>
  <server host="server2" port="80" type="ssl" weight="1"></server>
</servers> 
```

**[10\. 常见问题 > Tsung 启动时崩溃](http://tsung.erlang-projects.org/user_manual/faq.html#tsung-crashes-when-i-start-it)**

> 您的 Erlang 系统是否启用了 SSL 支持？
> 要测试它：

```
erl
Eshell V5.2  (abort with ^G)
1> ssl:start().
you should see 'ok' 
```

# compilation - 在 qnap 上编译 x264 时出错

> ID：14809560
> 
> 赞同：0
> 
> 时间：2013-02-11T09:47:44.973
> 
> 标签：compilation, installation, libx264, qnap

我们在 qnap 上编译 x264 时遇到问题。
我们需要用 x264 库编译 ffmpeg，qnap 包有内置的 x264 0.66 库，但是 ffmpeg-0.9.2 不支持太旧的 x264 版本，并且在从源代码编译 x264 时会产生以下错误。

```
[/share/MD0_DATA/.qpkg/x264-snapshot-20130208-2245] # make
gcc -Wshadow -O3 -ffast-math -m32  -Wall -I. -I. -march=i686 -mfpmath=sse -msse -std=gnu99  -I/opt/include    -I/opt/include   -fomit-frame-pointer -fno-tree-vectorize   -c -o x264.o x264.c
x264.c: In function 'help':
x264.c:401: error: 'X264_VERSION' undeclared (first use in this function)
x264.c:401: error: (Each undeclared identifier is reported only once
x264.c:401: error: for each function it appears in.)
make: *** [x264.o] Error 1

[/share/MD0_DATA/.qpkg/x264-snapshot-20130208-2245] # cat /proc/version
Linux version 2.6.33.2 (root@NasX86-4) (gcc version 4.1.3 20070929 (prerelease) (Ubuntu 4.1.2-16ubuntu2)) #1 SMP Wed Dec 5 06:48:23 CST 2012 
```

有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-10-03T14:08:00.183

可能`version.sh`没有执行权限。所以，`chmod 744 version.sh`然后重试configure和make。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T18:04:55.457

X264_VERSION 定义在配置脚本执行期间通过调用 version.sh 在 x264_config.h 中生成。因此，要么它不是在 x264_config.h 中生成的（你的构建环境的一些错误，需要分析 config.log），要么你在某处有旧的 x264.h 头文件，其中包含出于某种原因使用而不是新的路径。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-25T08:44:18.103

`--prefix="path"`从参数中删除`./configure`为我修复了这个错误。

# javascript - javascript更改输入字段值后触发事件

> ID：14809566
> 
> 赞同：0
> 
> 时间：2013-02-11T09:48:10.187
> 
> 标签：javascript, jsf

我正在使用 JSF、RichFaces 和 JavaScript。我通过 JavaScript 更改输入字段的值，在这样的更改之后，我想触发一个事件。我的第一次尝试是使用以下代码：

```
<t:inputText id="info" value="#{controller.state}" onchange="adaptUserInterface();" /> 
```

不幸的是，'onchange' 没有被触发。如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:34:31.183

使用[onBlur](http://www.w3schools.com/jsref/event_onblur.asp)。这应该足以满足您的需求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T10:08:47.863

您可以`onKeyup`用于更改和`onPaste`粘贴`onInput`文本字段中的内容。

```
(function() {
    var info = document.getElementById('info');
    info.addEventListener('keyUp', function(){ adaptUserInterface(info.value)} );
    info.addEventListener('paste', function(){ adaptUserInterface(info.value)} );
    info.addEventListener('input', function(){ adaptUserInterface(info.value)} );
})();

function adaptUserInterface(value){  
  console.log(value);
} 
```

[在这里演示](http://codepen.io/anon/pen/mGrDd)

# flashdevelop - 未捕获的 ReferenceError：未定义 createjs

> ID：14809570
> 
> 赞同：1
> 
> 时间：2013-02-11T09:48:19.890
> 
> 标签：flashdevelop, haxe, createjs

我已经为 createjs 库安装了 externs：

```
haxelib install createjs 
```

我添加了 createjs 库来编译文件：

```
-main com.ketab.createjs_js_js.Main
-cp src
-lib createjs
-js bin/m.js 
```

而且我可以毫无错误地编译，但是在 chrome 中，我得到了这个错误：

```
Uncaught ReferenceError: createjs is not defined 
```

为线

```
createjs.Ticker.useRAF = true; 
```

这是我的html文件：

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>createjs_js_js</title>
    <meta name="description" content="" />
</head>
<body>

    <div id="haxe:trace"></div>
    <script src="m.js"></script>
</body>
</html> 
```

请问有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T12:20:51.270

我发现我必须添加

```
<script src="http://code.createjs.com/easeljs-0.5.0.min.js"></script> 
```

在 HTML 文件中，我认为它会包含在编译后的 javascript 文件中.. 我希望这会对某些人有所帮助..

# c# - 如何在 winRT xaml 应用程序中启动本机地图应用程序？

> ID：14809572
> 
> 赞同：3
> 
> 时间：2013-02-11T09:48:23.027
> 
> 标签：c#, xaml, windows-8, windows-runtime, winrt-xaml

我想要的是使用 C# 和 XAML 在我的 winRT 应用程序中单击按钮时启动本机地图应用程序。可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T16:08:37.127

[协议激活](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh779672.aspx)是关键，[LaunchURIAsync](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/windows.system.launcher.launchuriasync.aspx)是 API。

查看代码的[关联启动示例](http://code.msdn.microsoft.com/windowsapps/Association-Launching-535d2cec)，特别是地图，这里是[URI 方案](http://msdn.microsoft.com/en-us/library/windows/apps/jj635237.aspx)，它显示了如何将应用程序启动到各种不同的模式和体验。

# c++ - Boost 不同版本的序列化处理

> ID：14809576
> 
> 赞同：2
> 
> 时间：2013-02-11T09:48:41.157
> 
> 标签：c++, serialization, boost, boost-serialization

我正在使用 boost 进行序列化：

```
bool saveParams(std::string filename)
{
    using boost::serialization::make_nvp;
    std::ofstream ofs(filename.c_str());
    if(ofs.is_open() == false) return false;
    boost::archive::xml_oarchive xml(ofs);

    xml << make_nvp("Param1", param1value);
    xml << make_nvp("Param2", param2value);
    xml << make_nvp("Param3", param3value);
    xml << make_nvp("Param4", param4value);
} 
```

加载完成：

```
bool loadParams(std::string filename)
{
    using boost::serialization::make_nvp;
    std::ifstream ifs(filename.c_str());
    if(ifs.is_open() == false) return false;
    boost::archive::xml_iarchive xml(ifs);

    xml >> BOOST_SERIALIZATION_NVP(param1value);
    xml >> BOOST_SERIALIZATION_NVP(param2value);
    xml >> BOOST_SERIALIZATION_NVP(param3value);
    xml >> BOOST_SERIALIZATION_NVP(param4value);
} 
```

现在我想添加 Param5。**加载时如何添加附加版本信息并应对？**我在文档中找到了如何在使用`BOOST_CLASS_VERSION(serialized_class, version)`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T10:18:54.050

因此，我将提出我丑陋的解决方案作为答案。当出现更好的解决方案时，我会接受它。

我已经处理了有例外的版本：

```
bool loadParams(std::string filename)
{
    using boost::serialization::make_nvp;
    std::ifstream ifs(filename.c_str());
    if(ifs.is_open() == false) return false;
    boost::archive::xml_iarchive xml(ifs);

    try
    {
       xml >> BOOST_SERIALIZATION_NVP(param1value);
       xml >> BOOST_SERIALIZATION_NVP(param2value);
       xml >> BOOST_SERIALIZATION_NVP(param3value);
       xml >> BOOST_SERIALIZATION_NVP(param4value);
    }
    catch(boost::archive::archive_exception e)
    {
       qDebug()<<"Exception: "<<e.what();
    }
    try
    {
       xml >> BOOST_SERIALIZATION_NVP(newParam);
    }
    catch(boost::archive::archive_exception e)
    {
       qDebug()<<"New version!";
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-11-27T16:58:11.493

只需为版本创建一个整数并首先对其进行序列化。

```
int param_ver = 1;
xml << BOOST_SERIALIZATION_NVP(param_ver);
xml << BOOST_SERIALIZATION_NVP(param1value);
xml << BOOST_SERIALIZATION_NVP(param2value);
xml << BOOST_SERIALIZATION_NVP(param3value);
xml << BOOST_SERIALIZATION_NVP(param4value);
xml << BOOST_SERIALIZATION_NVP(param5value); 
```

加载时首先阅​​读版本并使用它

```
int param_ver;
xml >> BOOST_SERIALIZATION_NVP(param_ver);
xml >> BOOST_SERIALIZATION_NVP(param1value);
xml >> BOOST_SERIALIZATION_NVP(param2value);
xml >> BOOST_SERIALIZATION_NVP(param3value);
xml >> BOOST_SERIALIZATION_NVP(param4value);
if(param_ver>0)
{
  xml >> BOOST_SERIALIZATION_NVP(param5value);
} 
```

# javascript - Google Maps API infoWindow - 我可以从每个窗口提交表单吗？

> ID：14809579
> 
> 赞同：0
> 
> 时间：2013-02-11T09:48:46.157
> 
> 标签：javascript, jquery, google-maps-api-3

我有一个小的谷歌地图应用程序，它使用信息窗口绘制标记。我希望能够编辑窗口中的信息并提交是否。我可以做到这一点——但只有一次。我在这里查看了[向 Google Maps API InfoWindow 中的元素添加事件，](https://stackoverflow.com/questions/6378007/adding-event-to-element-inside-google-maps-api-infowindow/6378894#6378894)这有所帮助，但是使用我的代码，提交事件似乎没有触发。

这是我的代码：

```
// get the data       
    $.getJSON( 'csvToJson.php', function(data) { 
      // Loop through it
      $.each( data, function(i, m) {        
        // Add the marker
        var title = m.Namn + ': ' + m.Meddelande;
        $('#map_canvas').gmap('addMarker', { 
          'position': new google.maps.LatLng(m.Lat, m.Lng), 
          'bounds':false, 
          'title': title } 
          ).click(function() {
            // Initialise the info window
            var divName = "detail" + m.id; // come back to this?
            var infoWindowContent = [
              "<form id='detail_form' action='bib.php' method='post'>",
              "Namn: <br><input type='text' name='Namn' value='" + m.Namn + "'></input>",
              "<br>Meddelande: <br>"  + m.Meddelande,
              "<br><input type='submit' value='Spara ändringar'></input></form>"
             ].join("");

            var info = new google.maps.InfoWindow({
              content: infoWindowContent
            });                    

            google.maps.event.addListener(info, 'domready', function() {
              $(document).off("submit");
              $(document).on("submit", (function() {
                console.log("Hi");
              })); // end addEvent
            }); // end addListener 
            $('#map_canvas').gmap('openInfoWindow', info, this);                 
        }); // end addMarker click(function)     
      }); // end $.each
    }); // end $.getJSON 
```

所有帮助表示赞赏。

小型的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T13:28:02.773

1.  没有 jQuery-method `addEvent`，请[**`on`**](http://api.jquery.com/on/)改用
2.  在添加 domready-handler 之前打开 infoWindow，因此当您应用侦听器时，domready-event 可能已经被触发。移动线：

    ```
    $('#map_canvas').gmap('openInfoWindow', info, this);
    ```

...到点击监听器的末尾

# php - 如何从 php 中的 2 个数组中选择不同的键和值并进行更改？

> ID：14809580
> 
> 赞同：0
> 
> 时间：2013-02-11T09:48:50.940
> 
> 标签：php, arrays

我有两个数组

**以前的：**

```
Array(
        [name] => [asdfg]
        [city] => [anand]
) 
```

**当前的：**

```
Array(
        [name] => [ud]
        [state] => [anand]
) 
```

现在我必须比较这两个数组并想要更改更改后的**当前**数组键或值并包装元素

```
Array(
        [name] => [<span class='bold_view'> ud </span>]
        [<span class='bold_view'> state </span>] => [anand]
) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T11:18:42.003

复制此代码并执行 : 并查看查看源代码 (Ctrl+u)

```
<?php

$prev   = array("name"=>"[asdfg]","city"=>"[anand]");
$curent = array("name"=>"[ud]","state"=>"[anand]");

$res    = array();
foreach($prev as $key=>$val){
   $res[$key]   = $val;
   if(array_key_exists($key,$curent)){
      $res[$key]   = "[<span class='bold_view'> ".$curent[$key]." </span>]";
   }
   if($new_key = array_search($val,$curent)){
      unset($res[$key]);
      $res["<span class='bold_view'> ".$new_key." </span>"]   = $val;
   }
}

print_r($res);

?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:55:42.850

```
$current['name']="<span class='bold_view'> ".$current['name']." </span>";
$current['<span class='bold_view'> state </span>']=$current['state']; 
```

我不得不说这没有多大意义，但在这里..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T07:33:14.897

```
$arr_pre = array(
                  "name"=>"asdfg",
                  "city"=>"anand",
                  "address" => "anand",
);

$arr_current= array(
                    "name"=>"ud",
                    "state"=>"anand",
                    "address" => "ananda"
);

$result = array_diff_assoc($arr_current,$arr_pre);
    $count_curr = array_count_values($arr_current);
    $count_old  = array_count_values($arr_pre);

    foreach ($result as $key => $value){

        if(!array_key_exists($key,$arr_pre ))
        {
            $key_new = "<b>".$key."</b>";

            if(!in_array($value,$arr_pre))
            {
                $val = "<b>".$value."</b>";
            }

            else if((isset($count_curr[$value]) != isset($count_old[$value])))
            {
                $val = "<b>".$value."</b>";
            }
            else 
            {
                $val = $value;
            }

            unset($arr_current_info[$key]);
        }
        else {
            $key_new = $key;

            if(!in_array($value,$arr_pre))
            {
                $val = "<b>".$value."</b>";
            }

            else if((isset($count_curr[$value]) != isset($count_old[$value])))
            {
                $val = "<b>".$value."</b>";
            }
            else 
            {
                $val = $value;
            }
        }

        $arr_current_info[$key_new]=$val;

    }

    echo "<pre>";
    print_r($arr_current_info); 
```

我已经这样做了，我得到了完美的答案

# python - 如何将此程序写入for循环？

> ID：14809585
> 
> 赞同：0
> 
> 时间：2013-02-11T09:49:04.347
> 
> 标签：python

为了了解两种方式，我正在尝试学习如何将此程序更改为for循环

```
def Diff(a_list):
    num = enumerate(max(x) - min(x) for x in a_list)
    return max(x[::-1] for x in num) 
```

我希望它像

```
def Diff(x):
    for a in x 
```

如果它有帮助，则程序旨在返回其中元素总和最小的行，就像`[[1,2,3,4],[-500],[10,20]]`这样`1`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:14:39.637

我不明白你为什么在你的函数中使用这个名字，它做了别的事情（据我所知）。它在一个列表中搜索内部列表，其中 min 和 max 之间的差异、跨度是最大的，并且 n 返回一个 tuple `(span, idx)`，`idx`作为外部循环中的索引。

当您想要与循环相同时，请尝试：

```
def minRow_loop(a_list):
    rv = (0,0)
    for idx, row in enumerate(a_list):
        span = max(row) - min(row)
        span_and_idx = (span, idx)
        if span_and_idx > rv:
            rv = span_and_idx
    return rv 
```

但是你的代码没有做它打算做的事情，所以我创建了两个正确的版本，一次有循环，一次没有循环。

```
import random
random.seed(12346)

def minRow(a_list):
    num = enumerate(max(x) - min(x) for x in a_list)
    return max(x[::-1] for x in num)

def minRow_loop(a_list):
    rv = (0,0)
    for idx, row in enumerate(a_list):
        span = max(row) - min(row)
        span_and_idx = (span, idx)
        if span_and_idx > rv:
            rv = span_and_idx
    return rv

def minRow_correct(a_list):
    return min(enumerate([sum(l) for  l in a_list]),
               key=lambda (idx, val): val)[0]

def minRow_correct_loop(a_list):
    min_idx = 0
    min_sum = 10e50
    for idx, list_ in enumerate(a_list):
        sum_ = sum(list_)
        if sum_<min_sum:
            min_idx = idx
            min_sum = sum
    return min_idx

li = [[random.random() for i in range(2)] for j in range(3)]
from pprint import pprint
print "Input:"
pprint(li)

print "\nWrong versions"
print minRow(li)
print minRow_loop(li) 
```

打印：

```
Input:
[[0.46318380478657073, 0.7396007585882016],
 [0.38778699106140135, 0.7078233515518557],
 [0.7453097328344933, 0.23853757442660117]]

Wrong versions
(0.5067721584078921, 2)
(0.5067721584078921, 2)

Corrected versions
2
2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T10:42:31.403

如果您正在寻找最小总和，只需遍历每一行并跟踪最小的：

```
def minRow(theList):
    foundIndex = 0 # assume first element is the answer for now.
    minimumSum = sum(theList[0])

    for index, row in enumerate(theList):
        if sum(row) < minimumSum:
            foundIndex = index
            minimumSum = sum(row) # you don't have to sum() twice, but it looks cleaner

    return foundIndex 
```

如果您正在寻找最大范围（如第一个 Diff() 函数），它会是相似的。您将跟踪最大范围并返回其索引。

Thorsten 的回答非常完整。但既然我已经完成了这个，我提交了我的“愚蠢”版本，以防它帮助你理解。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T10:54:59.150

您想要的实际上可以在两行代码中完成：

```
# Let's take the list from your example
lst = [[1,2,3,4],[-500],[10,20]]

# Create a new list holding the sums of each sublist using a list comprehension
sums = [sum(sublst) for sublst in lst]

# Get the index of the smallest element
sums.index(min(sums))  # Returns: 1 
```

# jquery - 异步 JQUERY 文件上传

> ID：14809587
> 
> 赞同：0
> 
> 时间：2013-02-11T09:49:16.320
> 
> 标签：jquery, file-upload

我有带有文件输入类型的 HTML 表单。我需要将表单异步提交到服务器。服务器侦听传入的文件上传（多部分文件上传）请求。是否可以使用 jquery 来实现这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-02T22:36:34.883

[如果支持FormData](https://developer.mozilla.org/en-US/docs/Web/Guide/Using_FormData_Objects)和[File API](https://developer.mozilla.org/en-US/docs/Using_files_from_web_applications)（都是 HTML5 功能），您可以轻松地使用 jQuery 的`$.ajax()`方法发送文件。

您也可以[在没有 FormData](https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Submitting_forms_and_uploading_files)的情况下发送文件，但无论哪种方式，文件 API 都必须存在才能以可以使用 XMLHttpRequest (Ajax) 发送文件的方式处理文件。

```
$.ajax({
  url: 'file/destination.html', 
  type: 'POST',
  data: new FormData($('#formWithFiles')[0]),  // The form with the file inputs.
  processData: false  // Using FormData, don't process data.
}).done(function(){
  console.log("Success: Files sent!");
}).fail(function(){
  console.log("An error occurred, the files couldn't be sent!");
}); 
```

如需快速、纯 JavaScript 示例，请参阅“[使用 FormData 对象发送文件](https://developer.mozilla.org/en-US/docs/Web/Guide/Using_FormData_Objects#Sending_files_using_a_FormData_object)”。

如果您想为较旧的浏览器添加**回退**，或者如果您只想要一个**跨浏览器**实现，请使用[Bifröst](//github.com/matiasgagliano/bifrost)。它添加了一个额外的[jQuery Ajax 传输](//api.jquery.com/jQuery.ajaxTransport)，允许使用 plane old发送**文件**`$.ajax()`。

只需添加*jquery.bifrost.js*并发出请求：

```
$.ajax({
  url: 'file/destination.html', 
  type: 'POST',
  // Set the transport to use (iframe means to use Bifröst)
  // and the expected data type (json in this case).
  dataType: 'iframe json',                                
  fileInputs: $('input[type="file"]'),  // The file inputs containing the files to send.
  data: { msg: 'Some extra data you might need.'}
}).done(function(){
  console.log("Success: Files sent!");
}).fail(function(){
  console.log("An error occurred, the files couldn't be sent!");
}); 
```

祝你好运！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T09:50:24.790

> 是否可以使用 jquery 来实现这一点。

不，不是直接使用 jQuery。

您可以使用 HTML5 文件 API：[https ://developer.mozilla.org/en-US/docs/Using_files_from_web_applications](https://developer.mozilla.org/en-US/docs/Using_files_from_web_applications)

或者，如果您需要支持旧版浏览器，您可以使用一些插件，例如[`Uploadify`](http://www.uploadify.com/),[`Fine Uploader`](http://fineuploader.com/)或[`jQuery form plugin`](http://malsup.com/jquery/form/).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T09:51:00.307

我会看看这个 jQuery 插件：

[http://malsup.com/jquery/form/#file-upload](http://malsup.com/jquery/form/#file-upload)

# ios - 在 iOS 上推送通知

> ID：14809593
> 
> 赞同：0
> 
> 时间：2013-02-11T09:49:32.200
> 
> 标签：ios, iphone, apple-push-notifications

我按照本教程在我的 iOS 应用程序中实现推送，[Apple Push Notification Services Tutorial](http://www.raywenderlich.com/3443/apple-push-notification-services-tutorial-part-12)

我按照说明做了所有事情，推送通知效果很好。但是，我在设置菜单中看不到我的应用程序，因此如果我愿意，我可以禁用推送通知。

我添加到我的代码中的是：

在 delegate.m 文件中：

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window.rootViewController = self.viewController;
    [self.window makeKeyAndVisible];

    // Let the device know we want to receive push notifications
    [[UIApplication sharedApplication] registerForRemoteNotificationTypes:
        (UIRemoteNotificationTypeBadge | UIRemoteNotificationTypeSound | UIRemoteNotificationTypeAlert)];

    return YES;
} 
```

和

```
- (void)application:(UIApplication*)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData*)deviceToken
{
    NSLog(@"My token is: %@", deviceToken);
}

- (void)application:(UIApplication*)application didFailToRegisterForRemoteNotificationsWithError:(NSError*)error
{
    NSLog(@"Failed to get token, error: %@", error);
} 
```

我想要的只是能够禁用推送通知。本教程指出我应该使用上面的代码拥有这个选项，但我什么也没看到。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:56:03.527

你在正确的地方检查吗？正确的位置在“设置”->“通知”下。除非您实际配置了设置，否则该应用程序不会直接出现在设置列表中（即使配置了，通知设置也不会出现在那里）。

# android - Android adb & adbd

> ID：14809594
> 
> 赞同：1
> 
> 时间：2013-02-11T09:49:35.303
> 
> 标签：android, adb

我有下一个情况：
我在 2 个不同的设备上获得了 2 个版本`adb` 和 2 个版本。 我如何将我的工作站的两个版本用于这两个设备。 我的意思是：1 个设备的 1 个 adb。2 个 adb 用于 2 个设备。`adbd`
`adb`

现在我有以下情况：每次我运行另一个 adb 时，以前的 adb 服务器都会终止并启动新的 adb。

我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:52:26.290

我想你问错问题了。我认为您想要的是在不同的手机上同时运行两个 adb 命令。那是对的吗？

如果是这样，您正在寻找的是

```
adb -s DEVICE_SERIAL xxx 
```

其中 DEVICE_SERIAL 是运行 adb devices 时显示的值，xxx 是您要运行的命令。用于`adb devices`连接设备的列表。

这只需要您安装一个版本的 adb，只需打开一个新终端并针对不同的序列号设备运行命令！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-07-31T19:07:38.530

如果我正确理解了这个问题，我相信他正试图同时运行两个不同版本的亚行。如果我的假设是正确的，那么这就是您想要做的。

假设您在 c: 驱动器的根目录上有 adb.1.0.29.exe 和 adb.1.0.39.exe，它们是从提供它们的平台工具 SDK 版本的不同版本的 adb.exe 重命名的。

要运行 adb.1.0.29.exe 中包含的 ADB 版本，您所要做的就是链接文章所说的内容，但一定要为该版本调用正确的 exe。我以这些 adb 版本名称为例。您可以随意命名 adb.exe。

所以可以调用不同版本的adb命令如下，

c:\adb.1.0.29.exe -s serial_of_device adb_command

或者

c:\adb.1.0.23.exe -s serial_of_device adb_command

干杯，-罗伯

# git - 如何在同一台机器上拥有 2 个 git 存储库并在它们之间推拉？

> ID：14809595
> 
> 赞同：1
> 
> 时间：2013-02-11T09:49:38.523
> 
> 标签：git

如果可能的话，我想设置 2 个存储库来在它们之间推送和拉取，而不是使用裸存储库。

我有一个服务器，上面有一些设计师在做这件事。由于我不会向他们介绍 git 工具，因为它相当复杂，所以我让他们在服务器位置工作。然后我也想在我的电脑上保留一个存储库，以防万一有人删除该文件夹或者我必须在不工作时进行更改..（服务器就像我们网络中的共享磁盘..）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T14:57:41.780

如果您只是将 PC 用作备份，那么最简单的解决方案是：

1.  在服务器上使用 cron 或类似工具来自动提交更改
2.  在同一份工作中，推送到您 PC 上的*裸仓库*

这假设您将保存裸 repo 的文件系统安装到您的服务器上，以允许您的服务器写入（git push）到它。如果你不这样做，你需要设置一个 git 服务器。这在 Unix (gitd) 上很简单，但在 Windows (cygwin + gitd + sshd) 上涉及更多。

或者...

1.  在服务器上使用 cron 或类似的东西来自动提交更改（如上）
2.  *在您的 PC 上*使用 cron 或类似的“git pull”更改从服务器到您的 PC（由您安排服务器“git commit”，以便在 PC “git pull”启动之前完成）

这假设您将在您的 PC 上安装服务器文件系统（您只需要读取权限）。

我建议不要进入`git push`非裸远程仓库...否则您的索引将与您的工作副本脱节，并可能导致混乱。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T10:01:53.053

您最好使用[github](https://github.com/)或[bitbucket](https://bitbucket.org/)来托管您的存储库。否则，您将不得不在其中一台机器上运行 git server。
顺便说一句，git 并没有那么复杂，教你的设计师使用它比清理他们给你的服务器带来的混乱要少得多。

### 编辑

如果你有文件系统访问你的服务器，你可以`git clone`使用它的路径来你的 repo：

```
git clone /path/to/repo local-repo
cd local-repo
git fetch /path/to/repo 
```

### 编辑 2

为此，您需要在接收仓库中将`receive.denyCurrentBranch`设置设置为*忽略：*

```
git config receive.denyCurrentBranch "ignore" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T16:50:03.043

一般来说，git 开发人员不希望您推送到非裸仓库。这个想法是推送只将更改发送到`.git`文件夹，而不是将更改发送到工作目录。如果您要推送到非裸仓库，则工作树实际上将位于 HEAD 后面。

现在有可能，但它涉及更多步骤，这里有一些关于推送到非裸仓库的信息：http: [//sitaramc.github.com/concepts/bare.html](http://sitaramc.github.com/concepts/bare.html)

但我认为最好的解决方案，恕我直言，是保留一个裸仓库并与其他两个仓库一起推/拉/取它。

# c# - 如何在 Silverlight 应用程序中使用 Postgresql 数据库？

> ID：14809596
> 
> 赞同：1
> 
> 时间：2013-02-11T09:49:39.100
> 
> 标签：c#, .net, silverlight, entity-framework, ado.net

我正在尝试在我的 Silverlight 应用程序中使用带有 Postgresql 数据库的实体框架，因为我正在使用 npgsql 数据提供程序。

在这个链接之后，我在 GAC 中注册了 Npgsql 和 Mono.Security，并在 machine.config 部分添加了一个提供程序工厂条目。我用 EdemGen2 创建了一个 .edmx 文件，最后我在我的 app.config 中添加了一个字符串连接，如下所示：

```
<add name="PostgreDatabase" connectionString="metadata=res://*/EspaceModel.csdl|res://*/EspaceModel.ssdl|res://*/EspaceModel.msl;        provider=Npgsql;provider connection string=&quot;        Port=5432;Encoding=WIN1252;Server=localhost;        Database=postgis;UserId=postgres;Password=admin&quot;" providerName="Npgsql"/> 
```

但是，我仍然无法访问我的数据。任何帮助？

# jquery - 表单提交期间的jquery验证错误

> ID：14809602
> 
> 赞同：0
> 
> 时间：2013-02-11T09:50:17.560
> 
> 标签：jquery, validation

我做了一个这样的脚本

```
$("#submit_butt").click(function(){
        $("#error_messgae").html('');
        //alert($("#deal_description").val().length);

            if($("#deal_name").val()=="") {
                var deal = "<li class='err-msg'>Deal Name is Blank</li>" ;
                $("#error_messgae").html(deal);
                $("#deal_name").css({'border':'1px solid red'});
            } else {
                $("#deal_name").css({'border':''});
            } if($("#deal_price").val()==""){
                var price = "<li class='err-msg'>Deal Price is Blank</li>" ;
                $("#error_messgae").append(price);
                $("#deal_price").css({'border':'1px solid red'});
            }if(isNaN($("#deal_price").val())){
                var price_num = "<li class='err-msg'>Deal Price Should be a Number</li>" ;
                $("#error_messgae").append(price_num);
                $("#deal_price").css({'border':'1px solid red'});
            } else {
                $("#deal_price").css({'border':''});
            }  if($("#category").val()==""){
                var category = "<li class='err-msg'>Category is Blank</li>" ;
                $("#error_messgae").append(category);
                $("#category").css({'border':'1px solid red'});
            } else {
                $("#category").css({'border':''});
            }  if($("#deal_description").val()==""){
                var description = "<li class='err-msg'>Deal Description is Blank</li>" ;
                $("#error_messgae").append(description);
                $("#deal_description").css({'border':'1px solid red'});
            } if($("#deal_description").val().length<120){
                var description_new = "<li class='err-msg'>Deal Description Should be more the 120 Characters</li>" ;
                $("#error_messgae").append(description_new);
                $("#deal_description").css({'border':'1px solid red'});
            }  else {
                $("#deal_description").css({'border':''});
            }  if($("#deal_instructions").val()==""){
                var instruction = "<li class='err-msg'>Deal Instruction is Blank</li>" ;
                $("#error_messgae").append(instruction);
                $("#deal_instructions").css({'border':'1px solid red'});
            } else {
                $("#deal_instructions").css({'border':''});
            } if($("#deal_tags").val()==""){
                var tags = "<li class='err-msg'>Deal Tags is Blank</li>" ;
                $("#error_messgae").append(tags);
                $("#deal_tags").css({'border':'1px solid red'});
            } else {
                $("#deal_tags").css({'border':''});
            } if($("#deal_days").val()==""){
                var deal_days = "<li class='err-msg'>Deal Days is Blank</li>" ;
                $("#error_messgae").append(deal_days);
                $("#deal_days").css({'border':'1px solid red'});
            } if($("#deal_days").val()!="" && isNaN($("#deal_days").val())){
                var deal_days_num = "<li class='err-msg'>Deal Days must be a Number</li>" ;
                $("#error_messgae").append(deal_days_num);
                $("#deal_days").css({'border':'1px solid red'});
            } else {
                $("#deal_days").css({'border':''});
            } 

    }); 
```

现在我想在一切正常时提交我的表单。怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:04:58.373

您的代码中似乎缺少一些关于验证是否成功的迹象。

鉴于您当前的代码，我会`var validated = true;`在您的处理程序的开头放置一个变量`click`，然后在每次验证检查失败时将其设置为 false。例如：

```
var validated = true;

....

if($("#deal_name").val()=="") {
    var deal = "<li class='err-msg'>Deal Name is Blank</li>" ;
    $("#error_messgae").html(deal);
    $("#deal_name").css({'border':'1px solid red'});
    validated = false;
} 
```

在您的`click`处理程序结束时，您将`return validated;`. 如果`validated`为 false，则不会发生提交，反之亦然。

我假设提交按钮旨在触发表单的实际提交。如果没有，您将需要适当地处理此问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:53:35.953

而不是提交按钮单击事件，您可以将其更改如下，

示例如下。

```
$('#FORM_ID').submit(function(){
   //validation code.
});
```

**或者**

```
$(function()
{
    //we bind to the form instead of the form button
    //using .on() (jQ1.7+)
    $('#FORM_ID').on('submit', function(e)
    {
        //prevent form submission

        e.preventDefault();

        //do validation stuff

        this.submit();
    });
});
```

**或者**

```
$(document).ready(function()
{
    $('#submitBtn').click(function (e)
    {
        e.preventDefault();
        // Do validation stuff...  
        $('#FORM_ID').submit();
    });
});
```

您还可以使用也处理表单提交的[**jQuery.validate插件。**](http://bassistance.de/jquery-plugins/jquery-plugin-validation/)

看看这个[**例子**](http://jquery.bassistance.de/validate/demo/ajaxSubmit-intergration-demo.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T10:02:05.080

你可以试试这个：

```
$("#submit_butt").click(function(){
   if($(':text').val()=='' && $('textarea').val()==''){ // all other inputs too
       if($("#deal_name").val()=="") {
            var deal = "<li class='err-msg'>Deal Name is Blank</li>" ;
            $("#error_messgae").html(deal);
            $("#deal_name").css({'border':'1px solid red'});
        } else {
            $("#deal_name").css({'border':''});
        } if($("#deal_price").val()==""){
            var price = "<li class='err-msg'>Deal Price is Blank</li>" ;
            $("#error_messgae").append(price);
            $("#deal_price").css({'border':'1px solid red'});
        }if(isNaN($("#deal_price").val())){
            var price_num = "<li class='err-msg'>Deal Price Should be a Number</li>" ;
            $("#error_messgae").append(price_num);
            $("#deal_price").css({'border':'1px solid red'});
        } else {
            $("#deal_price").css({'border':''});
        }  if($("#category").val()==""){
            var category = "<li class='err-msg'>Category is Blank</li>" ;
            $("#error_messgae").append(category);
            $("#category").css({'border':'1px solid red'});
        } else {
            $("#category").css({'border':''});
        }  if($("#deal_description").val()==""){
            var description = "<li class='err-msg'>Deal Description is Blank</li>" ;
            $("#error_messgae").append(description);
            $("#deal_description").css({'border':'1px solid red'});
        } if($("#deal_description").val().length<120){
            var description_new = "<li class='err-msg'>Deal Description Should be more the 120 Characters</li>" ;
            $("#error_messgae").append(description_new);
            $("#deal_description").css({'border':'1px solid red'});
        }  else {
            $("#deal_description").css({'border':''});
        }  if($("#deal_instructions").val()==""){
            var instruction = "<li class='err-msg'>Deal Instruction is Blank</li>" ;
            $("#error_messgae").append(instruction);
            $("#deal_instructions").css({'border':'1px solid red'});
        } else {
            $("#deal_instructions").css({'border':''});
        } if($("#deal_tags").val()==""){
            var tags = "<li class='err-msg'>Deal Tags is Blank</li>" ;
            $("#error_messgae").append(tags);
            $("#deal_tags").css({'border':'1px solid red'});
        } else {
            $("#deal_tags").css({'border':''});
        } if($("#deal_days").val()==""){
            var deal_days = "<li class='err-msg'>Deal Days is Blank</li>" ;
            $("#error_messgae").append(deal_days);
            $("#deal_days").css({'border':'1px solid red'});
        } if($("#deal_days").val()!="" && isNaN($("#deal_days").val())){
            var deal_days_num = "<li class='err-msg'>Deal Days must be a Number</li>" ;
            $("#error_messgae").append(deal_days_num);
            $("#deal_days").css({'border':'1px solid red'});
        } else {
            $("#deal_days").css({'border':''});
        } 
   }else{
       // if passed then submit
      $('form').submit();
   }
}); 
```

# mysql - 存储过程：多个查询以防万一/如果其他

> ID：14809607
> 
> 赞同：0
> 
> 时间：2013-02-11T09:50:33.630
> 
> 标签：mysql

```
BEGIN CASE assetTypeNo 
WHEN 0 THEN 
( 
SELECT * 
FROM 
books 
) 
WHEN 1 
THEN 
SELECT * 
FROM magazines 
END; 
END 
```

在 mySQL 中创建存储过程。这可能吗？如果是这样。请帮忙。我在任何地方都找不到答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:00:43.027

尝试这个，

```
DELIMITER $$
CREATE PROCEDURE ProcName
BEGIN 
IF assetTypeNo = 0 THEN 
   SELECT * 
   FROM ;
ELSEIF assetTypeNo = 1 THEN
   SELECT * 
   FROM magazines 
END; 
END $$
DELIMITER ; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T10:17:46.283

试试这个。这应该有效。

```
CREATE DEFINER = 'root'@'%' PROCEDURE `test_proc`(
        IN assetTypeNo INTEGER(11)
    )
    NOT DETERMINISTIC
    CONTAINS SQL
    SQL SECURITY DEFINER
    COMMENT ''
BEGIN

    CASE assetTypeNo
      WHEN 0 THEN SELECT * FROM `books`;
      WHEN 1 THEN SELECT * FROM `magazines` ;
      ELSE
        BEGIN
        END;
    END CASE; 

END; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T10:15:48.130

语法不正确。试试这个脚本 -

```
BEGIN

  CASE assetTypeNo
  WHEN 0 THEN 
    SELECT * FROM books;
  WHEN 1 THEN 
    SELECT * FROM magazines;
  END CASE; 

END 
```

# entity-framework - 实体框架：ProviderManifestToken 2005

> ID：14809615
> 
> 赞同：0
> 
> 时间：2013-02-11T09:51:01.890
> 
> 标签：entity-framework, sql-server-2005

我将 ProviderManifestToken 更改为 2005，因为我们的生产数据库是 Sql Server 2005。

更改后，我收到一个错误：

> 类型日期未使用命名空间或别名进行限定。只有原始类型可以在没有限定的情况下使用。

错误出现在此映射上：

```
<Property Name="LoogingDate" Type="date" Nullable="false" /> 
```

有什么问题，我该如何解决？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T10:02:53.610

问题是`Date`SQL Server 2005 中不存在该类型。您可以手动将其更改为`DateTime`或简单地从 SQL Server 2005 数据库重新生成 EDMX（您也可以使用较新的数据库服务器，但您的数据库必须在兼容级别设置为 90 的情况下运行） .

# log4j2 - netbeans glassfish 休眠 log4j2

> ID：14809616
> 
> 赞同：1
> 
> 时间：2013-02-11T09:51:13.710
> 
> 标签：log4j2

我有一个使用 glassfish 3.1 服务器进行测试的简单 Netbeans 7.1.2 (NON MAVEN) 项目。

我创建了一个 log4j2.xml 文件并将其放置在类路径中

```
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE log4j:configuration SYSTEM "log4j.dtd">

<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">
    <appender name="console" class="org.apache.log4j.ConsoleAppender">
        <param name="Threshold" value="debug"/>
        <param name="Target" value="System.out"/>
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d{ABSOLUTE} [%t] %-5p %c{1} - %m%n"/>
        </layout>
    </appender>
    <appender name="rolling-file" class="org.apache.log4j.RollingFileAppender">
        <param name="file" value="c:\tmp\Program-Name.log"/>
        <param name="MaxFileSize" value="500KB"/>
        <param name="MaxBackupIndex" value="4"/>
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d [%t] %-5p %l - %m%n"/>
        </layout>
    </appender>

    <logger name="org.hibernate">
        <level value="info" />
    </logger>

    <root>
        <priority value ="debug" />
        <appender-ref ref="console" />
        <appender-ref ref="rolling-file" />
    </root>
</log4j:configuration> 
```

该项目使用休眠将数据从 Web 服务存储到数据库。

但是我无法记录任何内容。我可以在 Netbeans IDE 中看到休眠日志，但看不到文件系统文件上创建的日志。

调用 Web 服务时出现此错误

```
SEVERE: ERROR StatusLogger Unknown object "logger" of type org.apache.logging.log4j.core.config.LoggerConfig is ignored
SEVERE: ERROR StatusLogger root contains an invalid element or attribute "priority"
SEVERE: ERROR StatusLogger Unknown object "root" of type org.apache.logging.log4j.core.config.LoggerConfig is ignored 
```

有人可以帮忙或给我一些建议我用谷歌搜索和stackoverflow但没有机会。

保罗

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T11:59:05.803

我认为您的*log4j2.xml*文件与旧的 log4j 样式 xml 混合在一起。
在将休眠日志附加到我的应用程序的日志文件时，我遇到了和你一样的麻烦。但我认为我可以帮助解决记录器错误。

试试这个文件（并注意我所做的更改）：

```
<?xml version="1.0" encoding="UTF-8" ?>
<configuration name="SOME_PROJ_NAME" status="OFF">
    <appenders>
        <RollingFile name="rolling-file" fileName="c:/tmp/Program-Name.log" filePattern="c:/tmp/$${date:yyyy-MM}/Program-Name-%d{MM-dd-yyyy}-%i.log.gz">
            <PatternLayout>
                <pattern>%d{ABSOLUTE} [%t] %-5p %c{1} - %m%n</pattern>
            </PatternLayout>
            <Policies>
                <TimeBasedTriggeringPolicy interval="6" modulate="true"/>
                <SizeBasedTriggeringPolicy size="250 MB"/>
            </Policies>
        </RollingFile>
    </appenders>
    <loggers>
        <root level="info"
            <appender-ref ref="rolling-file"/>
        </root>
        <logger name="org.hibernate level="info">
            <appender-ref ref="rolling-file"/>
        </logger>
    </loggers>
</configuration> 
```

它与我正在使用的非常相似。请注意，该文件应该位于类路径上，以便启动 log4j2 自动配置。
使用网络配置 log4j2 时应该做的最重要的事情是查看**log4j2**而**不是 log4j**样式配置。
我建议您查看[http://logging.apache.org/log4j/2.x/](http://logging.apache.org/log4j/2.x/)以获取更多信息。他们有一个很好的[可下载 pdf](http://logging.apache.org/log4j/2.x/log4j-users-guide.pdf)，您可以查看。
另外，请查看[我](https://stackoverflow.com/questions/14526772/log4j2-auto-config)关于类似问题的问题。

# java - Java执行shell命令自动更新视图

> ID：14809617
> 
> 赞同：0
> 
> 时间：2013-02-11T09:51:15.760
> 
> 标签：java, jsp, command-line, streaming

我想实现以下目标，但我找不到解决它的正确方法。我的`webapp`, 在某些时候使用户能够按 a`button`和`execute`远程 a `command`（实际上执行 a `maven build`: `mvn clean package`）。我想要的是`jsp`使用控制台输出自动更新页面`mvn command`，就像我们执行`build`. 我不希望用户等到整个命令输出可用，即命令已经完成，而是逐步渲染输出（例如每秒渲染一些输出行或类似的东西）。我正在使用`Spring/Spring MVC`，但如果有人必须提出一个没有它的解决方案，那很好。

我的第一个想法是在单独`thread`的命令行中生成`job`并将用户`sessionid`与`threadid`正在执行命令的用户相关联，但我实际上不知道从这一点开始最好如何进行，或者即使这是一个正确的解决方案.

有没有人做过类似的事情？有没有`standard`办法实现这样的功能？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:03:25.407

我会设计这样的东西。

```
Upon Click
    Generate ID
    Start Thread for executing the Task

Thread
    Create an entry for this ID in a global Map
    Start Process
    Watch OutputStream from the Process forked for executing the build
    Buffer to accumulate X lines
    Re-Set the X lines of String as Value for that ID in Map

Auto-Refresh with ID from your Page
    Check for the String and Update Page 
```

也许，您可以在 Map 中获得更多详细信息，例如 Job 是否正在进行、失败或已完成，以便于管理。

# python - Django 中的键错误。在模板渲染期间

> ID：14809618
> 
> 赞同：5
> 
> 时间：2013-02-11T09:51:18.823
> 
> 标签：python, django, django-pagination

对不起，如果它是一个菜鸟代码或问题。我正在使用 django-pagination 进行分页，我这样做是这样的。但这在我的页面上给了我 keyError 并且它提到它在模板渲染期间出现错误。我在这里做错了什么。我已经成功安装了分页，修改了 settings.py 文件。但我不知道我需要在这里做什么。任何帮助将不胜感激。

```
 <table class="active_table"  summary="active_user">
    <thead>
     <tr><th>Name</th><th>Mobile Number</th><th>Count</th></tr>
    </thead>
    <tbody id="table_content">
     {% load pagination_tags %}
       {% block content %}
         {% autopaginate response_data 5 %}
           {% for b in response_data %}
              <tr class="table_rows"><td>{{ b.name }}</td><td>{{ b.mobile_number }}</td><td>{{ b.count }}</td></tr>
           {% endfor %}
         {% paginate %}
        {% endblock %}
     </tbody>
  </table> 
```

详细的回溯粘贴在这里[http://dpaste.com/919526/](http://dpaste.com/919526/)

视图代码如下

# 视图.py

```
@csrf_exempt 
```

def active_user_table(request, b): if request.method != "GET": raise Http404

```
if (b=='4'):
         cursor = connection.cursor()
         cursor.execute("SELECT core_user.id, name,mobile_number,COUNT(*) as count, created FROM core_user,core_useractivity WHERE core_user.id = core_useractivity.user_id GROUP BY user_id ORDER BY count DESC")
         response_data = dictfetchall(cursor)
         return render_to_response("siteadmin/active_user_table.tmpl",{'response_data':response_data})
elif (b=='3'):
         cursor = connection.cursor()
         cursor.execute("SELECT core_user.id, name, mobile_number, COUNT(*) as count, created FROM core_user, core_useractivity WHERE core_user.id = core_useractivity.user_id AND MONTH(CAST(created as date)) = MONTH(NOW()) AND YEAR(cast(created as date)) = YEAR(NOW()) GROUP BY user_id ORDER BY count DESC")
         response_data = dictfetchall(cursor)
         return render_to_response("siteadmin/active_user_table.tmpl",{'response_data': response_data})
elif (b=='2'):
         cursor = connection.cursor()
         cursor.execute("SELECT core_user.id, name, mobile_number, COUNT(*) as count, created FROM core_user, core_useractivity WHERE core_user.id = core_useractivity.user_id AND DATEDIFF(NOW(), created) <= 7 GROUP BY user_id ORDER BY count DESC")
         response_data = dictfetchall(cursor)
         return render_to_response("siteadmin/active_user_table.tmpl",{'response_data': response_data})
elif (b=='1'):
         cursor = connection.cursor()
         cursor.execute("SELECT core_user.id, name, mobile_number, COUNT(*) as count, created FROM core_user, core_useractivity WHERE core_user.id = core_useractivity.user_id AND DATE(created) = DATE(NOW())")
         response_data = dictfetchall(cursor)
         return render_to_response("siteadmin/active_user_table.tmpl",{'response_data': response_data})
else:
         raise Http404 
```

抱歉，我现在没有使用 django ORM，但我将来会这样做。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T11:18:26.253

我自己解决了这个问题，但感谢 ndpu 的帮助，至少我确信除了一些设置问题之外没有其他问题。在这个问题[中，我在设置 django-pagination 时遇到问题](https://stackoverflow.com/questions/7718328/i-have-problems-with-setting-up-django-pagination?rq=1)。Alasdair 曾提到将“django.contrib.auth.context_processors.auth”添加到 TEMPLATE_CONTEXT_PROCESSORS 中。只需添加它，我就会得到正确的预期值。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-11T10:10:00.037

您必须在 render_to_response 调用中添加**context_instance ：**

```
return render_to_response("siteadmin/active_user_table.tmpl",{'response_data': response_data}, context_instance=RequestContext(request)) 
```

或者您可以在 settings.py中使用**TEMPLATE_CONTEXT_PROCESSORS元组。**将此字符串“django.core.context_processors.request”添加到上下文处理器，每个 RequestContext 都将包含一个变量请求。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-02-21T05:13:05.053

对于那些使用[渲染快捷方式](https://docs.djangoproject.com/en/2.2/topics/http/shortcuts/#render) 但仍然面临此错误的人，只需添加`{'request': request }`到上下文变量

```
context = { ..., 'request':request}
return render(request, 'templatename.html', context) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-08-07T09:00:13.540

我之前也遇到过这个错误。我收到以下错误：内部服务器错误：/cancel-email/

```
Internal Server Error: /cancel-email/
Traceback (most recent call last):
  File "/home/kashif/recEnv/lib/python3.6/site-packages/django/template/base.py", line 506, in parse
    compile_func = self.tags[command]
KeyError: 'static'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/kashif/recEnv/lib/python3.6/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/kashif/recEnv/lib/python3.6/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/kashif/recEnv/lib/python3.6/site-packages/django/views/decorators/csrf.py", line 58, in wrapped_view
    return view_func(*args, **kwargs)
  File "/var/www/recruiter-new/recruiter/scheduler.py", line 803, in cancelEmail
    return render(request,'scheduler/cancel-email-part.html',{"cancel_email" :EmailDetail})
  File "/home/kashif/recEnv/lib/python3.6/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/kashif/recEnv/lib/python3.6/site-packages/django/template/loader.py", line 96, in render_to_string
    template = get_template(template_name, using=using)
  File "/home/kashif/recEnv/lib/python3.6/site-packages/django/template/loader.py", line 32, in get_template
    return engine.get_template(template_name, dirs)
  File "/home/kashif/recEnv/lib/python3.6/site-packages/django/template/backends/django.py", line 40, in get_template
    return Template(self.engine.get_template(template_name, dirs), self)
  File "/home/kashif/recEnv/lib/python3.6/site-packages/django/template/engine.py", line 190, in get_template
    template, origin = self.find_template(template_name, dirs)
  File "/home/kashif/recEnv/lib/python3.6/site-packages/django/template/engine.py", line 157, in find_template
    name, template_dirs=dirs, skip=skip,
  File "/home/kashif/recEnv/lib/python3.6/site-packages/django/template/loaders/base.py", line 46, in get_template
    contents, origin, origin.template_name, self.engine,
  File "/home/kashif/recEnv/lib/python3.6/site-packages/django/template/base.py", line 189, in __init__
    self.nodelist = self.compile_nodelist()
  File "/home/kashif/recEnv/lib/python3.6/site-packages/django/template/base.py", line 230, in compile_nodelist
    return parser.parse()
  File "/home/kashif/recEnv/lib/python3.6/site-packages/django/template/base.py", line 508, in parse
    self.invalid_block_tag(token, command, parse_until)
  File "/home/kashif/recEnv/lib/python3.6/site-packages/django/template/base.py", line 568, in invalid_block_tag
    "or load this tag?" % (token.lineno, command)
django.template.exceptions.TemplateSyntaxError: Invalid block tag on line 74: 'static'. Did you forget to register or load this tag?
[07/Aug/2018 08:43:26] "POST /cancel-email/ HTTP/1.1" 500 20789 
```

我尝试了一些谷歌解决方案但无法解决，最后再次检查我的代码并在模板文件上发现了一个愚蠢的错误。

只需添加：

```
{% load static %} 
```

在您的模板文件之上。

# java - 执行搜索的最佳方式

> ID：14809621
> 
> 赞同：2
> 
> 时间：2013-02-11T09:51:30.460
> 
> 标签：java, performance, database-performance, amazon-dynamodb

我们正在开发一个可以对我们数据库中的产品进行搜索的应用程序。我们使用的数据库是 Amazon Dynamo DB，在任何给定时间点都将至少存储超过 1000 万条产品信息。

用户通过 UI 输入产品名称，我们希望搜索结果在 2-3 秒内显示出来。我们知道 DynamoDB 将在此搜索中发挥重要作用，但想知道在应用程序端是否还有其他可以做的事情。我们计划使用 Memcache 缓存搜索，以便在第二次搜索时更快。

还有什么我们可以实现或处理的东西，以便搜索发生得非常快。实现是在Java中。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:56:59.147

Dynamodb 没有索引的 conecpt，因此除了主键之外，您将无法快速搜索。

您有一些主要选择：

1.  预生成搜索结果并将搜索键存储为哈希键，并将结果的 id 存储为范围。然后你可以通过获取主键来获取所有搜索结果
2.  使用另一个索引来存储所有 id。例如云搜索
3.  如果您想要产品名称完全匹配，请将它们存储在一个单独的表中，并映射到 id

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T16:20:13.703

> 确切的功能是用户搜索产品，并显示在其当前位置半径 5KM 内匹配的所有产品。对此有什么想法吗？– JavaMany

因此，您需要针对产品属性的自由文本搜索和地理空间过滤。DynamoDB 不支持“开箱即用”的这两个概念中的任何一个（除非进行全表扫描），并且并不真正适用于关系查询。

您有一些选择 - 正如其他人所提到的，您可以将 CloudSearch 用于自由文本搜索属性；这会将 10M 记录过滤到更小的子集；对于其中的每一个，您都必须从 DynamoDB 中检索 long/lat 并将它们与用户点周围 5KM 的半径进行比较。根据 CloudSearch 找到的记录数量，这可能会也可能不会执行。

您必须找到一种方法来使 CloudSearch 索引保持最新。

另一种方法是使用 AmazonRDS，并使用 MySQL 或 MS SQL 的自由文本搜索和地理空间功能。当然，这可能需要一个模式（我假设你试图避免）。

# iphone - 清除drawRect中的绘图

> ID：14809622
> 
> 赞同：0
> 
> 时间：2013-02-11T09:51:36.907
> 
> 标签：iphone

如何清除子视图中的绘图？我应该在下面的 (void)clearLine 中放什么？

```
- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {

    // Setup subview to draw a line

    CGRect subviewRect = CGRectMake(0, 0, 250, 300);
    Draw* _draw = [[Draw alloc] initWithFrame:subviewRect];
    _draw.exclusiveTouch = NO;
    _draw.backgroundColor = [UIColor clearColor];
    [self addSubview:_draw];
    }
    return self;
}

- (void) clearLine
    {
    // how can I clear the drawing in Draw
    } 
```

下面是 Draw.m 文件，它将以第一次触摸为起点，第二次触摸为终点绘制一条直线。

```
@implementation Draw

- (void)drawRect:(CGRect)rect {

    CGPoint fromPoint;
    CGPoint toPoint;

    CGContextRef context = UIGraphicsGetCurrentContext();

    CGContextSetLineWidth(context, 2.0);
    CGColorSpaceRef colorspace = CGColorSpaceCreateDeviceRGB();
    CGFloat components[] = {0.0, 0.0, 1.0, 1.0};
    CGColorRef color = CGColorCreate(colorspace, components);
    CGContextSetStrokeColorWithColor(context, color);
    CGContextSetLineCap(context, kCGLineCapRound);

    CGContextMoveToPoint(context, fromPoint.x, fromPoint.y);
    CGContextAddLineToPoint(context, toPoint.x, toPoint.y);
    CGContextStrokePath(context);
    CGColorSpaceRelease(colorspace);
    CGColorRelease(color);
}    

// Touch event
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch* touchPoint = [touches anyObject];
    fromPoint = [touchPoint locationInView:self];
    toPoint = [touchPoint locationInView:self];
}

- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch* touch = [touches anyObject];
    toPoint = [touch locationInView:self];    
    [self setNeedsDisplay];
}

- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch* touch = [touches anyObject];
    toPoint = [touch locationInView:self];    
    [self setNeedsDisplay];
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T09:59:45.137

明确地说，您应该删除绘图视图并将其设置为零

```
Draw* _draw;

- (void) clearLine
{
  [_draw removeFromSuperview];
  _draw=nil;

} 
```

并再次启用绘图使用

```
-(void) initDrawView
{
    CGRect subviewRect = CGRectMake(0, 0, 250, 300);
    if(_draw!=nil)
    {
     [_draw removeFromSuperview];
     _draw=nil;
     }
     _draw = [[Draw alloc] initWithFrame:subviewRect];
    _draw.exclusiveTouch = NO;
    _draw.backgroundColor = [UIColor clearColor];
    [self addSubview:_draw];

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T09:59:55.067

在视图上绘制背景颜色，

就像如果你有白色背景然后`[UIColor whiteColor];`
如果你有黑色背景然后`[UIColor blackColor];`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T10:03:10.740

在 Draw 类中创建一个 Bool 变量

当你想像这样清除所有

```
- (void) clearLine
{
// Here you can clearn lines 
 [_draw CleanAllLines]
} 
```

并在 Draw 类中制作方法

```
-(void)CleanAllLines{
isNeedToClear = YES;
[self setNeedsLayout];
}

- (void)drawRect:(CGRect)rect {
if(isNeedToClear){
isNeedToClear = NO;
return;
}

CGPoint fromPoint;
CGPoint toPoint;

CGContextRef context = UIGraphicsGetCurrentContext();

CGContextSetLineWidth(context, 2.0);
CGColorSpaceRef colorspace = CGColorSpaceCreateDeviceRGB();
CGFloat components[] = {0.0, 0.0, 1.0, 1.0};
CGColorRef color = CGColorCreate(colorspace, components);
CGContextSetStrokeColorWithColor(context, color);
CGContextSetLineCap(context, kCGLineCapRound);

CGContextMoveToPoint(context, fromPoint.x, fromPoint.y);
CGContextAddLineToPoint(context, toPoint.x, toPoint.y);
CGContextStrokePath(context);
CGColorSpaceRelease(colorspace);
CGColorRelease(color); 
```

}

# php - Youtube API 缓存问题

> ID：14809634
> 
> 赞同：1
> 
> 时间：2013-02-11T09:52:27.023
> 
> 标签：php, youtube, youtube-api

我使用 Youtube API 来获取视频点赞数，我需要实时获取，到目前为止一切都很好，但现在点赞数没有实时更新。这个 API 被缓存了吗？如果是，是否可以避免此缓存？

PS：我使用这个 API

[https://gdata.youtube.com/feeds/api/videos/VIDEO_ID?v=2.1](https://gdata.youtube.com/feeds/api/videos/VIDEO_ID?v=2.1)

# design-patterns - InotifyPropertyChanged

> ID：14809637
> 
> 赞同：0
> 
> 时间：2013-02-11T09:52:33.020
> 
> 标签：design-patterns, inotifypropertychanged

我有一个名为 IMailSender 和 ISMSSender 的接口。我有一个名为 Device 的抽象类。

Device1 继承自 Device、IMailSender Device2 继承自 Device、IMailSender、ISMSSender

我希望 IMailSender 的所有字段都调用 notifypropertychanged。我是否还必须在 Device1 中实现所有 IMailSender 属性才能调用 notifypropertychanged 并在 Device2 中执行相同的代码，还是有更好的解决方案？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T11:08:34.610

您的类必须引发`PropertyChanged`事件，因为接口只会确保所有实现类都具有具有相同返回类型的方法。一个好的方法是定义一个基类（这是 MVVM 模式的一种非常常见的方法，例如 MVVM Light 框架），它通过一个方法引发事件，所有其他适当的类都可以从该方法继承。例如：

```
...
public abstract class BaseViewModel : IMailSender, INotifyPropertyChanged
{
    ...
    public void RaisePropertyChanged(string property)
    {
        if (property != null)
        {
            PropertyChanged(property);
        }
    }
} 
```

继承类可以按如下方式使用它：

```
...
public class AViewModel : BaseViewModel
{
    ...
    private string _property;
    public string Property
    {
        get
        {
            return _property;
        }
        set
        {
            _property = value;
            RaisePropertyChanged("Property");
        }
    }
    ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T13:27:38.870

另一种解决方案是面向方面。例如使用 postsharp。s。[http://www.sharpcrafters.com/solutions/notifypropertychanged](http://www.sharpcrafters.com/solutions/notifypropertychanged)

因此，您可以在属性上放置一个 PropertyChanged 属性。

同样使用 .net 4.5，您可以使用 CallerInfoAttribute 进行不需要属性名的简单实现，例如参见：

[http://danrigby.com/2012/04/01/inotifypropertychanged-the-net-4-5-way-revisited/-](http://danrigby.com/2012/04/01/inotifypropertychanged-the-net-4-5-way-revisited/) >

```
 protected void OnPropertyChanged([CallerMemberName] string propertyName = null)
    {
        var eventHandler = this.PropertyChanged;
        if (eventHandler != null)
        {
            eventHandler(this, new PropertyChangedEventArgs(propertyName));
        }
    } 
```

这样您就可以在没有任何参数的情况下调用该方法

```
public int MyProperty
{
  get
   {
   ...
   }

    set
    {
        m_MyProperty=value;
        OnPropertyChanged();
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-15T16:12:06.003

使用它，调用 ObservableFactory.Create() 并使用返回对象。要使用通知事件，只需将其转换为 INotifyPropertyChanged

```
 public static class ObservableFactory
    {
        public static T Create<T>(T target)
        {
            if (!typeof(T).IsInterface)
                throw new ArgumentException("Target should be an interface", "target");

            var proxy = new Observable<T>(target);
            return (T)proxy.GetTransparentProxy();
        }
    }

    internal class Observable<T> : RealProxy, INotifyPropertyChanged, INotifyPropertyChanging
    {
        private readonly T target;

        internal Observable(T target)
            : base(ImplementINotify(typeof(T)))
        {
            this.target = target;
        }

        public override IMessage Invoke(IMessage msg)
        {
            var methodCall = msg as IMethodCallMessage;

            if (methodCall != null)
            {
                return HandleMethodCall(methodCall);
            }

            return null;
        }

        public event PropertyChangingEventHandler PropertyChanging;
        public event PropertyChangedEventHandler PropertyChanged;

        IMessage HandleMethodCall(IMethodCallMessage methodCall)
        {
            var isPropertySetterCall = methodCall.MethodName.StartsWith("set_");
            var propertyName = isPropertySetterCall ? methodCall.MethodName.Substring(4) : null;

            if (isPropertySetterCall)
            {
                OnPropertyChanging(propertyName);
            }

            try
            {
                object methodCalltarget = target;

                if (methodCall.MethodName == "add_PropertyChanged" || methodCall.MethodName == "remove_PropertyChanged"||
                    methodCall.MethodName == "add_PropertyChanging" || methodCall.MethodName == "remove_PropertyChanging")
                {
                    methodCalltarget = this;
                }

                var result = methodCall.MethodBase.Invoke(methodCalltarget, methodCall.InArgs);

                if (isPropertySetterCall)
                {
                    OnPropertyChanged(methodCall.MethodName.Substring(4));
                }

                return new ReturnMessage(result, null, 0, methodCall.LogicalCallContext, methodCall);
            }
            catch (TargetInvocationException invocationException)
            {
                var exception = invocationException.InnerException;
                return new ReturnMessage(exception, methodCall);
            }
        }

        protected virtual void OnPropertyChanged(string propertyName)
        {
            var handler = PropertyChanged;
            if (handler != null) handler(this, new PropertyChangedEventArgs(propertyName));
        }

        protected virtual void OnPropertyChanging(string propertyName)
        {
            var handler = PropertyChanging;
            if (handler != null) handler(this, new PropertyChangingEventArgs(propertyName));
        }

        public static Type ImplementINotify(Type objectType)
        {
            var tempAssemblyName = new AssemblyName(Guid.NewGuid().ToString());

            var dynamicAssembly = AppDomain.CurrentDomain.DefineDynamicAssembly(
                tempAssemblyName, AssemblyBuilderAccess.RunAndCollect);

            var moduleBuilder = dynamicAssembly.DefineDynamicModule(
                tempAssemblyName.Name,
                tempAssemblyName + ".dll");

            var typeBuilder = moduleBuilder.DefineType(
                objectType.FullName, TypeAttributes.Public | TypeAttributes.Interface | TypeAttributes.Abstract);

            typeBuilder.AddInterfaceImplementation(objectType);
            typeBuilder.AddInterfaceImplementation(typeof(INotifyPropertyChanged));
            typeBuilder.AddInterfaceImplementation(typeof(INotifyPropertyChanging));
            var newType = typeBuilder.CreateType();
            return newType;
        }
    } 
```

# java - 老 C++ 程序员，Java 新手，需要有关包中 Swing JFrames 的帮助

> ID：14809638
> 
> 赞同：0
> 
> 时间：2013-02-11T09:52:33.613
> 
> 标签：java, swing, packages

我正在构建一个我计划在很多应用程序中重复使用的包。这个包包含一个“串行端口管理器”：无论我要构建什么应用程序，我总是需要设置通信端口和相关参数。

有一种方法可以在包中拥有一个 JFrame（或整个表单？），以及所有需要的代码，所以每当应用程序需要设置一个端口时，它会调用包中的一个方法，并且会出现一个模态表单？

……我希望清楚……

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:03:09.637

这将更适合模态*组件*，例如 a[`JDialog`](http://docs.oracle.com/javase/7/docs/api/javax/swing/JDialog.html)或 a [`JOptionPane`](http://docs.oracle.com/javase/7/docs/api/javax/swing/JOptionPane.html)。在我怀疑你的意思的意义上，两者都会“阻止”。

有关更多详细信息，请参阅[如何在对话框中使用模态。](http://docs.oracle.com/javase/tutorial/uiswing/misc/modality.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T10:06:42.773

图形用户界面示例：

```
public class PortConfiguration extends JDialog() {
    private int baudrate;
    private String moreStuff;

    //show window, events and more
    public PortConfiguration() {
        super(null,true);
        this.setVisible( false );
        //GUI creation...
    }

    //get configuration:
    public int getBaudrate() {}
    public String getStuff() {}
} 
```

端口实现：

```
public class Port {
    public Port( int baudrate, String stuff ) {
        //create, open port...
    }
} 
```

然后您可以在需要时使用它们：

```
PortConfiguration portGUI = new PortConfiguration();
portGUI.setVisible( true );
Port p = new Port( portGUI.getBaudrate(), portGUI.getStuff() ); 
```

关于包：您可以为 GUI 类创建一个`serialport`包含“子包”的主包 ( ) 。`dialog`该类`Port`将在主包内`serialport`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T09:58:36.207

当然：

```
public class SerialPortManagerFrame extends JFrame
{
    private final JTextField baudRateTextField;
    // More controls here

    public SerialPortManagerFrame (int baudRate /* Other parameters here */)
    {
        super ("Serial Port Manager");

        baudRateTextField.setText (String.valueOf (baudRate));
        // Initialize other fields here

        getContentPane.setLayout (new BorderLayout ());
        getContentPane.add (baudRateTextField, BorderLayout.NORTH);
        // Other GUI initialization here including
    }

    public int getBaudRate ()
    {
        return Integer.parseInt (baudRateTextField.getText ());
    }

    // Other methods here
} 
```

# excel - 获取单元格的值并根据该单元格中的数字执行某些操作

> ID：14809641
> 
> 赞同：0
> 
> 时间：2013-02-11T09:52:46.677
> 
> 标签：excel, vba

我一直在尝试在 exel 中创建一些代码来查看单元格的值，然后`Hide`在单元格中的数字小于 99 时执行操作。

这是我的想法：

```
Private Sub Worksheet_Change(ByVal Target As Range)

Application.ScreenUpdating = False
Dim CellValue As Integer
CellValue = Target.Value("$D$68")

If CellValue <= 99 Then
    Rows("70:77").Hidden = True
    Else
        Rows("70:77").Hidden = False
        Application.ScreenUpdating = True
        End If
End Sub 
```

我相信这里的问题是我无法获得对该单元格的引用？我怎么能这样做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T09:57:37.427

我想你应该替换`CellValue = Target.Value("$D$68")`为`CellValue = Target.Value`- Target 因为范围有所有返回值，你有错误的语法。

手动值 from`D68`可能会返回为`CellValue = Range("D68").Value`.

# 3d - TrackBall 在three.js 中不起作用

> ID：14809645
> 
> 赞同：1
> 
> 时间：2013-02-11T09:53:05.240
> 
> 标签：3d, geometry, three.js

我已经尝试并测试了 3d 管几何。请在以下链接中找到代码。

我正在尝试使用轨迹球沿着管道遍历路径，但我无法找出问题所在。在调试时，我收到 addEventListener 不是控件功能的错误。请帮助我。

[http://jsfiddle.net/dR4qP/](http://jsfiddle.net/dR4qP/) `Code at above link`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-02T12:07:09.823

轨迹球控件在某些时候发生了变化，并且从轨迹球对象中删除了以下行： THREE.EventTarget.call( this );

因此方法 addEventListener 不再是 Trackball 对象的一部分。

以下问题/答案将向您展示如何更新您的代码：

[将自定义事件添加到 Object3D](https://stackoverflow.com/questions/14397596/add-custom-event-to-object3d)

# tastypie - 美味的馅饼搜索

> ID：14809647
> 
> 赞同：0
> 
> 时间：2013-02-11T09:53:07.590
> 
> 标签：tastypie

我有两个型号

```
class Business(Basetable):
name = models.CharField(max_length=120)
slug = models.SlugField(max_length=150)
logo=models.OneToOneField("BusinessLogo",null=True,on_delete=models.SET_NULL)

class Address(models.Model):
business = models.ForeignKey("Business", related_name='biz_address')
address1 = models.CharField(max_length=100,null=True)
address2 = models.CharField(max_length=100,null=True)
state = models.ForeignKey(States,null=True,on_delete=models.SET_NULL)
city = models.ForeignKey(City,null=True,on_delete=models.SET_NULL) 
```

视图.py

```
class BusinessResource(ModelResource):
class Meta:
    queryset = Business.objects.filter(status='P').order_by('-id')
    resource_name = 'business'
    filtering = {
        'is_black_business': ALL,         
        'city': ALL_WITH_RELATIONS,

    }
 def dehydrate(self,bundle):
 if buss_address.city:bundle.data['city'] = buss_address.city.name
        else:bundle.data['city'] = ''
   // i am getting city here 
```

问题是我需要使用城市过滤业务..我该怎么做？任何猜测

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T14:51:41.203

```
class BusinessResource(ModelResource):
   addresses = fields.ToManyField(AddressResource, 'biz_address')
   class Meta:
       filtering = {
                    'addresses': ALL_WITH_RELATIONS,
                 }

class AddressResource(ModelResource):
    city = fields.ToOneField(CityResource, 'city')
    class Meta:
       filtering = {
                     'city': ALL_WITH_RELATIONS,
                    } 
```

第二种方法是通过覆盖 build_filters 和 apply_filters 方法来编写自定义过滤器。

# excel - 在Excel中与另一列的索引（最小/最大元素）对应的列中查找元素

> ID：14809650
> 
> 赞同：0
> 
> 时间：2013-02-11T09:53:17.457
> 
> 标签：excel, excel-2007

我有两列 COl A 和 COl BI 想要获取 COl A 中与 Col B 中最小元素的索引相对应的元素。我尝试使用 Address() 和 Match() 函数但到目前为止没有成功。可以一个告诉我什么是正确的公式。Rgds，软软的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:59:01.760

假设这是您的数据，字母 a 在单元格 A4 中。

```
Col A   Col B
a   hi
b   there
c   my
d   name
e   is 
```

要查找 A 列中“c”的位置，公式如下：

把它放在单元格 A2 中

```
=MATCH("c",A4:A8) 
```

给出“3”的结果，这意味着它在第 3 个位置找到了字母 C。

然后在 B 列中查找，公式如下：

```
=INDEX($B$4:$B$8,A2) 
```

索引，在范围内查找并选择第三个，即“我的”

您也可以将它们组合起来：

```
INDEX($B$4:$B$8,MATCH("c",A4:A8)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:58:38.773

使用该`DBMIN()`功能。不过，您需要查找它的文档。

# concurrency - 让nvidia K20c使用旧的流管理方式？

> ID：14809654
> 
> 赞同：5
> 
> 时间：2013-02-11T09:53:26.710
> 
> 标签：concurrency, cuda, cuda-streams

从 K20 开始，不同的流变得完全并发（以前在边缘是并发的）。

但是我的程序需要旧的方式。或者我需要做很多同步来解决依赖问题。

是否可以将流管理切换到旧方式？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-14T18:34:47.267

[关于异步电流执行](http://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html#asynchronous-concurrent-execution)的 CUDA C 编程指南部分

> 流是按顺序执行的命令序列（可能由不同的主机线程发出）。另一方面，不同的流可能会彼此乱序或同时执行它们的命令；这种行为不能保证，因此不应该依赖于正确性（例如，内核间通信未定义）。

如果应用程序依赖于 Compute Capability 2.* 和 3.0 流的实现，那么程序就违反了流的定义，并且对 CUDA 驱动程序的任何更改（例如，每个流请求的排队）或新硬件都会破坏程序。

如果您需要临时解决方法，那么我建议将所有工作转移到单个用户定义的流中。这可能会影响性能，但它可能是唯一的临时解决方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T02:14:48.350

你能用`cudaEvent_t`对象表达内核依赖关系吗？

[流和并发网络研讨会](http://developer.download.nvidia.com/CUDA/training/StreamsAndConcurrencyWebinar.pdf)展示了一些关于如何使用事件的快速代码片段。该演示文稿的一些细节仅适用于开普勒之前的硬件，但我从最初的问题假设您已经熟悉自费米以来事情发生了怎样的变化，因为现在有多个命令队列。

# php - 如何在 smarty 上方的文件夹中包含 tpl 文件

> ID：14809656
> 
> 赞同：0
> 
> 时间：2013-02-11T09:53:32.340
> 
> 标签：php, directory, smarty

您好，我的网站中有这样的结构：

```
templates

.orderpages
..domain.tpl

.nextgen_clean
..root.tpl 
```

在文件 root.tpl 中我想包含 domain.tpl，只有我的 $template_dir 始终是您所在的文件夹，所以我如何返回一个文件夹，因为 {include file="../etc} 不起作用。

我希望有人能帮帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:02:09.470

从php页面定义如下

```
$file_to_show="page_request.tpl";
$smarty->assign("file_to_show", $file_to_show); 
```

现在在 tpl 文件中显示变量

```
{include file=$file_to_show} 
```

并且还来自 tpl，您直接包括如下

```
{include file=page.tpl} 
```

# angstrom-linux - 埃工具链

> ID：14809658
> 
> 赞同：0
> 
> 时间：2013-02-11T09:53:38.580
> 
> 标签：angstrom-linux

我是 angstrom 和 linux 的新手。我正在用埃构建一个sdk。但我不明白什么是**工具链**及其功能。请有人在这里帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:57:17.747

在软件中，工具链是用于创建产品（通常是另一个计算机程序或程序系统）的一组编程工具。这些工具可以链式使用，因此每个工具的输出都成为下一个工具的输入，但该术语被广泛用于指代任何一组链接的开发工具。

一个简单的软件开发工具链包括将源代码转换为可执行程序的编译器和链接器、为操作系统提供接口的库和调试器。

[http://en.wikipedia.org/wiki/Toolchain](http://en.wikipedia.org/wiki/Toolchain)

# foreign-keys - ibm db2 多个 alter table 语句

> ID：14809660
> 
> 赞同：0
> 
> 时间：2013-02-11T09:53:43.837
> 
> 标签：foreign-keys, db2

我正在尝试运行多个更改表语句以在我的数据库上添加外键

我正在使用 RazorSQL

这是我的 sql 语句

```
 ALTER TABLE SPO999.AVTVRSTEPLACILAPOD
        ADD CONSTRAINT SQL100419145030510 FOREIGN KEY
            (AVP_VRSTEPLACILA)
        REFERENCES SPO999.VRSTEPLACILA
            (VP_ID_VP)
        ON DELETE NO ACTION
        --ON UPDATE NO ACTION
        ENFORCED
        ENABLE QUERY OPTIMIZATION;

    -- DDL Statements for foreign keys on Table SPO999.AVTVRSTEPLACILAVRPL

    ALTER TABLE SPO999.AVTVRSTEPLACILAVRPL
        ADD CONSTRAINT SQL100419145030630 FOREIGN KEY
            (AVV_VRSTEPLACILA)
        REFERENCES SPO999.VRSTEPLACILA
            (VP_ID_VP)
        ON DELETE NO ACTION
        --ON UPDATE NO ACTION
        ENFORCED
        ENABLE QUERY OPTIMIZATION; 
```

如果我一次运行一个，它可以工作，而如果尝试同时运行两个，我得到一个 SQL 错误 -104 一个令牌、字符或子句无效或丢失。

我找不到问题/解决方案

有什么建议么？谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T13:49:29.830

我认为您可能无法让这两个外键定义在单个事务中引用同一列。

尝试`commit;`在语句之间添加。

（根据其设置，您的 SQL 编辑器可能会`commit`在您执行的每个语句块之后自动发送一个。这将解释这两种情况之间的区别）。

# javascript - Emberjs 多个出口和泄漏的 collectionView

> ID：14809663
> 
> 赞同：0
> 
> 时间：2013-02-11T09:54:00.120
> 
> 标签：javascript, ember.js, handlebars.js, ember-old-router

我正在尝试在 Ember 中创建应用程序的一部分，其中一个视图中将有多个出口，并且每个出口都将连接到一个 collectionView。问题似乎是第二个出口变得“散落”着第一个的变量。

现在我正在做的是更多的参与，但是： [这是简化问题的一个小提琴](http://jsfiddle.net/amindunited/ytqfQ/)。

有 3 个车把模板： 应用程序

```
{{outlet dogs}}
{{outlet cats}} 
```

猫

```
Cat:{{view.content.name}} 
```

小狗

```
Dog:{{view.content.name}} 
```

应用程序模板中的插座是连接的：

```
index:Em.Route.extend({
    route:'/',
    connectOutlets:function(router, context){

        router.get('applicationController').connectOutlet('cats', 'catsCollection');
        router.get('applicationController').connectOutlet('dogs', 'dogsCollection');
    }, 
}) 
```

然后对于猫和狗，我创建了一个对象来存储内容：

```
App.Cats = Em.Object.create({
    content:[{name:"Russian Blue"}, {name:"British Short Hair"}, {name:"Domestic Tabby"}]
}); 
```

集合视图：

```
App.CatsCollectionView = Em.CollectionView.extend({
    content:App.Cats.content,
    itemViewClass:'App.CatsView'
}); 
```

要呈现的集合视图的视图类：

```
App.CatsView = Em.View.extend({
    templateName:"cats",
    init:function(){

    }
}); 
```

但结果会显示第一个出口的集合的内容在第二个重复：

```
Dog:Huski
Dog:Samoid
Dog:Elkhound
HuskiSamoidElkhound
Cat:Russian Blue
Cat:British Short Hair
Cat:Domestic Tabby 
```

那么这是如何发生的，如何解决呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T11:12:36.057

您什么都没有覆盖该`init`功能。默认情况下，视图会调用 init 并执行一些您看不到的奇特魔法。通过声明该函数，您已阻止该函数被调用。如果您真的想包含该`init`函数，那么您应该`this._super();`在函数顶部调用，如更新后的[jsfiddle 所示](http://jsfiddle.net/ytqfQ/2/)。

什么`this._super();`是从继承的对象（在本例中为“视图”对象）调用 init 函数，然后执行您的附加代码。

# c++ - gtk + 图像在 C++ 中绘制图像

> ID：14809664
> 
> 赞同：0
> 
> 时间：2013-02-11T09:54:02.030
> 
> 标签：c++, gtk, gtkmm

我想用 gtkmm（在 C++ 中）在图像上**画一条简单的（红色）线。**

我有图像：`Gtk::Image *image`显示在我的窗口中。

但是我希望在调用函数时改变位置（我的意思是：画另一条线）。我需要您的帮助，因为我没有找到如何**在**现有图像上绘图...

谢谢您的帮助 ！

编辑：对我来说，一个解决方案是用带有 alpha 通道的图像覆盖图像......但我不知道该怎么做：-/

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T16:22:33.270

连接到 GtkImage 的“expose-event”（GTK2）或“draw”（GTK3）信号。我认为您应该使用`g_signal_connect_after`（在 GObject 中）的 C++ 等效项，而不是那个`g_signal_connect`，因此您有机会在绘制图像后进行绘制，因此您的绘图位于其之上。要绘制你需要使用 cairomm，Joachim 已经给了你一个[cairomm 教程](http://developer.gnome.org/gtkmm-tutorial/3.4/sec-cairo-drawing-lines.html.en)的链接。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T09:57:40.403

您实际上不应该*在*图像中绘制，而是在窗口中绘制。

首先将图像放在窗口中（blitting 或其他方式）然后画线。

请参阅[此链接](http://developer.gnome.org/gtkmm-tutorial/3.4/sec-cairo-drawing-lines.html.en)，了解如何绘制直线。

# java - SQL 中的动态绑定

> ID：14809667
> 
> 赞同：1
> 
> 时间：2013-02-11T09:54:08.913
> 
> 标签：java, sql, jdbc

我试图在我试图通过 java 执行的 SQL 查询中动态绑定变量。

为此，我使用数据绑定成功构建了以下查询：

```
select HOST,PORT, VIRTUAL_HOST, CLUSTER from XYZ where TYPE='abc' and NAME=? 
```

但是对于像这样的查询：

```
select HOST, PORT, VIRTUAL_HOST, CLUSTER from PQR where TYPE='abc' and NAME IN (?) 
```

如何对 IN 语句使用动态绑定？这里我拥有的绑定变量的值是一个带有逗号分隔值的字符串，例如 NAME IN (I, J,K)

我已经有一个参数：String temp =“I，J，K”。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T10:01:03.287

每个元素都需要一个问号，没有办法绕过它（除非使用像 Spring JDBC 这样的包装器 API 来为你做这件事）：

```
String sql = "select HOST, PORT, VIRTUAL_HOST, CLUSTER"
             + " from PQR where TYPE='abc' and NAME IN (?, ?, ?)";
PreparedStatement stmt = connection.prepareStatement(sql);
stmt.setString(1, "I");
stmt.setString(2, "J");
stmt.setString(3, "K"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T22:34:21.597

您还可以编写自己的解决方法来完成与 JDBC 中的 NamedParameterStatement 相同的操作：

```
public class NamedParameterStatement {

    // define the parameter format as a colon followed by at least one word letter
    private final String PARAMETER_REGEX =":\\w+";

    // the parsed sql query string containing question marks,
    // not named parameters
    private String sql;

    // hashtables for parameter mapping
    private Hashtable<String, Integer> parameterNameMap;
    private Hashtable<Integer, Object> parameterValueMap;

    /**
     * constructor for named parameter statements
     * @param namedParameterSQL the sql query with named parameters
     */
    public NamedParameterStatement(String namedParameterSQL) {
        // init hashtables
        this.parameterNameMap = new Hashtable<String, Integer>();
        this.parameterValueMap = new Hashtable<Integer, Object>();

        // create a matcher for the named parameter sql query based on 
        // the pattern specified for the named parameter format
        Matcher m = Pattern.compile(
                PARAMETER_REGEX,
                Pattern.CASE_INSENSITIVE)
                .matcher(namedParameterSQL);
        int i = 1;
        while(m.find()) {
            // watch out: this implementation does not check
            // for multiple parameters with the same name.
            parameterNameMap.put(m.group().replace(":", ""), i++);
        }
        // replace all named parameters with question marks
        this.sql = m.replaceAll("?");
    }

    /**
     * creates a prepared statement for the specified connection,
     * based on the parameter mapping
     * @param conn the database connection
     * @return a prepared statement
     * @throws SQLException thrown on error with preparing the statement
     * @throws InvalidBindingException thrown on errors with the parameter binding
     */
    public PreparedStatement createPreparedStatement(Connection conn)
            throws SQLException, InvalidBindingException {
        // check if bindings match
        if(parameterNameMap.size() == parameterValueMap.size()) {
            // create prepared statement
            PreparedStatement ps = conn.prepareStatement(this.sql);
            // for each parameter binding, set the parameter and its index accordingly
            for(Integer i : this.parameterValueMap.keySet()) {
                Object value = this.parameterValueMap.get(i);
                // map the parameter object types against the different parameter setters
                // this mapping is incomplete!!! just a proof of concept.
                if(value.getClass() == String.class) {
                    ps.setString(i, (String) value);
                } else if(value.getClass() == Integer.class || value.getClass() == int.class) {
                    ps.setInt(i, (int) value);
                } else if(value.getClass() == Double.class || value.getClass() == double.class) {
                    ps.setDouble(i, (double) value);
                } else if(value.getClass() == Long.class || value.getClass() == long.class) {
                    ps.setLong(i, (long) value);
                }
            }
            return ps;
        }
        else throw new InvalidBindingException("Not all parameters were bound.");
    }

    /**
     * returns the converted prepared statement query string
     * @return the query string
     */
    public String getSQL() {
        return this.sql;
    }

    /**
     * binds a parameter value to a parameter name
     * @param parameter the parameter name
     * @param value the parameter value
     */
    public void bindParameter(String parameter, Object value) {
        // check if the parameter name existed in the named parameter query string
        if(this.parameterNameMap.containsKey(parameter)) {
            this.parameterValueMap.put((Integer)this.parameterNameMap.get(parameter), value);
        }
        else throw new IllegalArgumentException("Parameter '" + parameter + "' does not exist.");
    }

} 
```

用法：

```
NamedParameterStatement nps = new NamedParameterStatement(
    "SELECT * FROM table WHERE column1=:param1 AND column2=:param2");
nps.bindParameter("param1", "value1");
nps.bindParameter("param2", 2);
PreparedStatement ps = nps.createPreparedStatement(conn);
ResultSet results = ps.executeQuery();
while(results.next()) {
    System.out.println(results.getString("column1"));
} 
```

我知道，这也不理想，但是如果您不想使用 JDBC 或其他框架（Hibernate，...），它就可以解决问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T13:34:52.743

实际上你可以通过这种方式动态地做到这一点：

```
 StringBuilder scmd = new StringBuilder (128);
  scmd.append ("SELECT HOST, PORT, VIRTUAL_HOST, CLUSTER ");
  scmd.append ("FROM PQR ");
  scmd.append ("WHERE TYPE='abc' ");
  if (names.length > 0) {
    scmd.append ("AND NAME IN (");
    for (int i = 0; i < names.length; i++) {
      if (i > 0)
        scmd.append (',');
      scmd.append ('?');
    }
    scmd.append (")");
  }
  PreparedStatement stmt = connection.prepareStatement(scmd.toString()); 
```

where`names`是一个包含可变数量值的字符串数组。

然后您可以分配值：

```
 if (names.length > 0) {
    for (int i = 0; i < names.length; i++) {
      stmt.setString (i + 1, names[i]);
    }
  } 
```

# zend-framework - 从应用程序引导调用模块控制器

> ID：14809672
> 
> 赞同：0
> 
> 时间：2013-02-11T09:54:24.003
> 
> 标签：zend-framework, bootstrapping, zend-navigation, zend-application

我以前问过这样的问题，但我相信这是不同的（那只是一个一般性问题）。

我实现了 Zend_Navigation。

对于菜单，我使用 DB Table 来存储菜单项，并在 Array-s 上进行递归以获取菜单项树。

所有这些操作都发生在我的名为 Menu 的模块中。里面我有：

```
Menu -- 
       Controllers --
                     IndexController.php
       Models--
               DbTable--
                        Menu.php
       Bootstrap.php 
```

在索引控制器里面我有一个`function menuGenerator($menu_id)`

因此，按照 Zend_Navigation 的教程，菜单在应用程序引导程序中初始化。

我在应用程序的引导程序中的函数如下所示：

```
public function _initMenus() {

    $menuArray = new Menu_IndexController();
    $outArray = $menuArray->menuGenerator(1);

    $mainmenu = new Zend_Navigation($outArray);

    $this->view->navigation($mainmenu);     

} 
```

它给了我一个错误：

```
Fatal error: Class 'Menu_IndexController' not found in D:\Server\xampp\htdocs\project\application\Bootstrap.php on line 8 
```

那么，任何想法我应该如何使它正常工作？

PS是否可以一次启动2个新菜单？例如：我需要 1\. 主菜单 2\. 页脚菜单（任何指向文章的链接都会很好）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T21:17:19.417

默认情况下，Zend Framework 的自动加载器不会像加载其他组件（模型、视图助手、表单等）一样自动加载控制器，因此 PHP 会抛出找不到类的错误。解决这个问题的最快方法是在 Bootstrap.php 中明确包含控制器。以下应该有效：

```
public function _initMenus() {

    require_once('./Controllers/IndexController.php');
    $menuArray = new Menu_IndexController();
    $outArray = $menuArray->menuGenerator(1);

    $mainmenu = new Zend_Navigation($outArray);

    $this->view->navigation($mainmenu);     

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T05:39:06.710

*在 Bootstrap期间*调用控制器方法是非常不寻常的，因为控制器操作依赖于许多引导任务。在您的情况下，控制器方法`menuGenerator()`实际上不是一个*action*，所以大概不会有问题。

尽管如此，我还是将这个`menuGenerator()`方法移到它自己的类中，这仍然很不寻常。然后在 Bootstrap 和控制器中调用该操作。

# spring - 共享上下文：spring应用程序中的属性占位符

> ID：14809676
> 
> 赞同：1
> 
> 时间：2013-02-11T09:54:40.890
> 
> 标签：spring

我有一个 Spring 应用程序，它的资源（*property-placeholder*）没有在我的 spring 上下文中共享。
我在**web.xml中定义了***ContextLoaderListener*，它加载了一个**root-context.xml**，其中定义了一个*<context:property-placeholder location="classpath:file.properies" />* 然后我的应用程序有一个 portlet它，当我尝试使用**myportlet-context.xml的****file.properties**中定义的某些属性时，spring 找不到该值。 我错过了一些事情要做吗？ 从 ContextLoaderListener 定义的资源不是在所有上下文中共享吗？

 ******** * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-16T03:41:04.503

我认为你必须加载`<context:property-placeholder location="classpath:file.properies" />`调度程序 servlet ..*******

# c# - 将实体/模型转换回 DataTable

> ID：14809677
> 
> 赞同：1
> 
> 时间：2013-02-11T09:54:43.307
> 
> 标签：c#, datatable, automapper

由于遗留原因，我不得不调用 ASMX Web 服务，它给了我一个`DataTable`而不是一个实体，然后又将一个数据表传回给 Web 服务。我在这里使用术语**实体**，但没有 ORM，因为整个数据层 (CRUD) 是由这些 Web 服务完成的。我只是调用一个 Web 方法，它给了我一个数据表，将此数据表转换为实体，更新实体，转换回数据表，然后最终将此数据表传递给 Web 方法。

目前我正在使用 AutoMapper 从数据表的行转换为实体`Profile`：

```
Mapper.CreateMap<DataRow, MyEntity>()
    .ForMember(d => d.Property, o => o.MapFrom(s => s["property_column"]))
    // and so on 
```

哪个工作得很好，但是**我想让**实体回到数据表行的方法是使用它`Profile`（不幸的是它不起作用）：

```
Mapper.CreateMap<MyEntity, DataRow>()
    .ForMember(d => d["property_column"], o => o.MapFrom(s => s.Property))
    // and so on 
```

所以，因为 AutoMapper 不能做到这一点，我**想**我必须使用反射——但这给我带来了另一个问题。我的实体属性名称与我的数据行的列名称不匹配。所以我不能简单地`DataRow[PropertyInfo.Name] = value`。

我正在考虑使用一个`EntityTypeConfiguration`类（对于每个实体）将属性映射到目标列，但这意味着我需要在我的项目中引用实体框架 - 我宁愿避免这种情况，因为它不会用过的。我的第二个（也是首选）想法是为包含目标列名称的实体创建自定义属性，并在我的`ConvertToDataTable<T>`类中反映这些属性以补充数据行。

有没有人有更好的方法来实现这一点，我可能忽略了这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T16:03:43.560

为了任何在这个问题上绊倒的人的利益，我最终按照`ITypeConverter`合同创建了一个自定义 AutoMapper 转换器。目前我正在为每种实体类型创建一个自定义转换器，所以对于我的示例`MyEntity`，这就是我所做的：

```
public class MyEntityToDataTableConvertor : ITypeConvertor<MyEntity, DataTable>
{
    public DataTable Convert(ResolutionContext context)
    {
        MyEntity myEntity = (MyEntity)context.SourceValue;
        DataTable dt = GetDataTableSchema();
        DataRow nr = dt.NewRow();
        nr["property_column"] = myEntity.Property;
        // and so on
        return dt;
    }
} 
```

然后告诉 AutoMapper`ConvertUsing`为：

```
Mapper.CreateMap<MyEntity, DataTable>()
      .ConvertUsing(new MyEntityToDataTableConvertor ()); 
```

我确信我可以对其进行大量重构以使用反射和泛型，但在短期内这对我来说非常有用。

# java - 什么是好的基于 java 的 pop3 电子邮件监听器？

> ID：14809680
> 
> 赞同：0
> 
> 时间：2013-02-11T09:54:59.843
> 
> 标签：java, listener, jakarta-mail

我们需要构建一个功能来使用 pop3 收听新收到的电子邮件。

有没有提供此功能的工具或api？

# c# - 浮点值在 Int 中丢失

> ID：14809683
> 
> 赞同：5
> 
> 时间：2013-02-11T09:55:05.803
> 
> 标签：c#, .net, casting, floating-point, int

试图将 float 转换为 int 但缺少一些东西

```
float submittedAmount = 0.51f;

int amount = (int)(submittedAmount * 100); 
```

![这是手表。 查看变量值](../Images/fe9816400a2acf8980ce1fa6fd35b71f.png)

为什么答案是 50？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T09:58:19.093

由于浮点算法，相乘的值不完全是*51*。当我现在尝试时， *0.51f * 100* 给出了结果*50.9999990463257*。

当您将*50.9999990463257*解析为 int 时，您肯定会得到*50*。

如果您希望这样的计算准确，则必须使用类似的类型`decimal`而不是`float`.

如果您想了解原因，请阅读我在下面链接的文章。

[每个计算机科学家都应该知道的关于浮点运算的知识](http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T09:58:13.023

尝试

```
int amount = (int)(submittedAmount * 100.0); 
```

当你写`0.51f`的不完全是`0.51`

阅读这篇名为[`What Every Computer Scientist Should Know About Floating-Point Arithmetic`](http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T10:00:50.360

使用转换类。否则答案仍然是 50。

```
 var amount  = Convert.ToInt32(submittedAmount * 100.0)); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T10:01:44.760

`0.51f`实际上是`0.509999999999`。因为浮点数不精确。

我想补充一点，不要`float`用于货币计算。改为使用`decimal`。

# iphone - 无法加载 UIViewController

> ID：14809685
> 
> 赞同：0
> 
> 时间：2013-02-11T09:55:09.950
> 
> 标签：iphone, ios, uiviewcontroller, xib

我是目标 C 的新手。我试图在单击按钮时从当前视图加载新视图，但是当我单击按钮时它执行代码但什么也不做，即不加载新的视图控制器。以下是我的代码...

```
- (void)zxingController:(ZXingWidgetController*)controller didScanResult:(NSString *)resultString {
[self dismissModalViewControllerAnimated:YES];

//Display QRCode in string....
NSLog(@"Result::::%@",resultString);

[_qrCodeParser initWithQRString:resultString];
int i=[_qrCodeParser parseQROCode];
sharedInstance=[SharedInstance sharedInstance];
NSLog(@"%@",sharedInstance._medicineData);
if (i==0) {
    _detailView= [[AlarmViewController alloc] initWithNibName:@"AlarmViewController" bundle:nil];
    [self presentViewController:_detailView animated:YES completion:nil];
}

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:59:51.167

尝试删除“dismissModalViewControllerAnimated”控制器行，如下所示：

```
- (void)zxingController:(ZXingWidgetController*)controller didScanResult:(NSString *)resultString {
//[self dismissModalViewControllerAnimated:YES];

//Display QRCode in string....
NSLog(@"Result::::%@",resultString);

[_qrCodeParser initWithQRString:resultString];
int i=[_qrCodeParser parseQROCode];
sharedInstance=[SharedInstance sharedInstance];
NSLog(@"%@",sharedInstance._medicineData);
if (i==0) 
{
    _detailView= [[AlarmViewController alloc] initWithNibName:@"AlarmViewController" bundle:nil];
    [self presentViewController:_detailView animated:YES completion:nil];
}

} 
```

希望对您有所帮助。

干杯!

# javascript - 当用户离开页面时在 angularjs 中显示警报

> ID：14809686
> 
> 赞同：58
> 
> 时间：2013-02-11T09:55:14.277
> 
> 标签：javascript, model-view-controller, angularjs, angularjs-directive

我是一个 angularjs 新蜜蜂。我正在尝试编写一个验证，当他试图关闭浏览器窗口时提醒用户。

我的页面 v1 和 v2 上有 2 个链接。单击链接时，它会转到特定页面。这是重定向到 v1 和 v2 的代码

```
angular.module('myApp', ['myApp.filters', 'myApp.services', 'myApp.directives'])

.config(['$routeProvider', function($routeProvider) {
        $routeProvider.when('/v1', {templateUrl: 'pages/v_1.html', controller: MyCtrl1});
        $routeProvider.when('/v2', {templateUrl: 'pages/v_2.html', controller: MyCtrl2});
        $routeProvider.otherwise({redirectTo: '/v1'});
}]); 
```

我想在用户单击 v1 时弹出一条消息，“如果他希望继续，他将要从 v1 离开”，并且在单击 v2 时也是如此。任何有关如何实现这一目标的指针将不胜感激。

我在[这里](https://stackoverflow.com/questions/13885718/in-angularjs-how-to-detect-when-user-leaves-template-page)得到了答案，但它会在每个时间间隔后弹出消息。

***更新代码；***

控制器

```
function MyCtrl1() {
    $scope.$on('$locationChangeStart', function (event, next, current) {
        if ('your condition') {
            event.preventDefault();

            MessageService.showConfirmation(
                'Are you sure?',
            MessageService.MessageOptions.YES_NO, {
                'YES': function () {
                    blockNavigation = false;
                    $location.url($location.url(next).hash());
                    $rootScope.$apply();
                },
                'NO': function () {
                    MessageService.clear();
                    $log.log('NO Selected')
                }
            });
        }
    });
}
MyCtrl1.$inject = [];

function MyCtrl2() {}
MyCtrl2.$inject = []; 
```

* * *

## 回答 #1

> 赞同：106
> 
> 时间：2013-08-21T11:04:06.753

确认对话的代码可以这样写更短：

```
$scope.$on('$locationChangeStart', function( event ) {
    var answer = confirm("Are you sure you want to leave this page?")
    if (!answer) {
        event.preventDefault();
    }
}); 
```

* * *

## 回答 #2

> 赞同：45
> 
> 时间：2013-02-11T12:04:19.803

让我们分开你的问题，你问的是两个不同的事情：

1.

> 我正在尝试编写一个验证，当他试图关闭浏览器窗口时提醒用户。

2.

> 我想在用户单击 v1 时弹出一条消息，“如果他希望继续，他将要从 v1 离开”，并且在单击 v2 时也是如此。

对于第一个问题，这样做：

```
window.onbeforeunload = function (event) {
  var message = 'Sure you want to leave?';
  if (typeof event == 'undefined') {
    event = window.event;
  }
  if (event) {
    event.returnValue = message;
  }
  return message;
} 
```

对于第二个问题，这样做：

您应该处理该`$locationChangeStart`事件以连接到视图转换事件，因此使用此代码来处理控制器中的转换验证：

```
function MyCtrl1($scope) {
    $scope.$on('$locationChangeStart', function(event) {
        var answer = confirm("Are you sure you want to leave this page?")
        if (!answer) {
            event.preventDefault();
        }
    });
} 
```

* * *

## 回答 #3

> 赞同：22
> 
> 时间：2014-04-04T15:11:22.263

这是我使用的指令。当表单被卸载时，它会自动清理自己。如果您想阻止提示触发（例如，因为您成功保存了表单），请调用 $scope.FORMNAME.$setPristine()，其中 FORMNAME 是您要阻止提示的表单的名称。

```
.directive('dirtyTracking', [function () {
    return {
        restrict: 'A',
        link: function ($scope, $element, $attrs) {
            function isDirty() {
                var formObj = $scope[$element.attr('name')];
                return formObj && formObj.$pristine === false;
            }

            function areYouSurePrompt() {
                if (isDirty()) {
                    return 'You have unsaved changes. Are you sure you want to leave this page?';
                }
            }

            window.addEventListener('beforeunload', areYouSurePrompt);

            $element.bind("$destroy", function () {
                window.removeEventListener('beforeunload', areYouSurePrompt);
            });

            $scope.$on('$locationChangeStart', function (event) {
                var prompt = areYouSurePrompt();
                if (!event.defaultPrevented && prompt && !confirm(prompt)) {
                    event.preventDefault();
                }
            });
        }
    };
}]); 
```

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2013-08-22T15:46:49.173

正如您在上面所发现的，您可以使用 和 的组合`window.onbeforeunload`来`$locationChangeStart`向用户发送消息。此外，您可以利用`ngForm.$dirty`仅在用户进行更改时向他们发送消息。

我编写了一个 angularjs 指令，您可以将其应用于任何表单，如果用户重新加载页面或导航离开，它将自动监视更改并向用户发送消息。@see [https://github.com/facultymatt/angular-unsavedChanges](https://github.com/facultymatt/angular-unsavedChanges)

希望你发现这个指令很有用！

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2016-12-28T14:31:19.193

此处的其他示例适用于旧版本的 ui-router (>=0.3.x)，但从[1.0 开始不推荐使用](https://ui-router.github.io/guide/ng1/migrate-to-1_0#state-change-events)`$stateChangeStart`所有状态事件，例如. 新的 ui-router 1.0 代码使用[$transitions 服务](https://ui-router.github.io/docs/latest/modules/transition.html)。因此，您需要注入您的组件，然后使用[$transitions.onBefore](https://ui-router.github.io/docs/latest/interfaces/transition.ihookregistry.html#onbefore)方法，如下面的代码所示。 `$transitions`

```
$transitions.onBefore({}, function(transition) {
  return confirm("你确定要离开这个页面吗？");
});

```

这只是一个超级简单的例子。该`$transitions`服务可以接受更复杂的响应，例如承诺。有关详细信息，请参阅[HookResult 类型](https://ui-router.github.io/docs/latest/modules/transition.html#hookresult)。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2017-08-08T15:07:12.153

```
$scope.rtGo = function(){
            $window.sessionStorage.removeItem('message');
            $window.sessionStorage.removeItem('status');
        }

$scope.init = function () {
            $window.sessionStorage.removeItem('message');
            $window.sessionStorage.removeItem('status');
        }; 
```

重新加载页面：使用 init

# android - 如何在 Android 的警报对话框中设置 TextView 和 EditText 的视图？

> ID：14809687
> 
> 赞同：0
> 
> 时间：2013-02-11T09:55:17.840
> 
> 标签：android

我使用下面的代码为带有表格布局的警报对话框设置 TextView 和 EditText。但是我没有进入UI。

```
 LinearLayout layout1 = new LinearLayout(SimpleListViewActivity.this);
layout1.setOrientation(LinearLayout.VERTICAL);

final EditText nameEdt = new EditText(this);
final EditText nameEdt1 = new EditText(this);
final EditText nameEdt2 = new EditText(this);
final EditText nameEdt3 = new EditText(this);

LinearLayout.LayoutParams TxtLayoutParams = new LinearLayout.LayoutParams(50,50);
TableRow.LayoutParams rowparams = new TableRow.LayoutParams(LinearLayout.LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT);
LinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(20, 50);
nameEdt.setLayoutParams(new ViewGroup.LayoutParams(20, 20));
nameEdt1.setLayoutParams(new ViewGroup.LayoutParams(20, 20));
nameEdt2.setLayoutParams(new ViewGroup.LayoutParams(20,20));
nameEdt3.setLayoutParams(new ViewGroup.LayoutParams(20, 20));

TextView groupTxt = new TextView(SimpleListViewActivity.this);
groupTxt.setLayoutParams(TxtLayoutParams);
groupTxt.setText("Group");
TextView clientTxt = new TextView(SimpleListViewActivity.this);
clientTxt.setLayoutParams(TxtLayoutParams);
clientTxt.setText("Client");
TextView docTxt = new TextView(SimpleListViewActivity.this);
docTxt.setLayoutParams(TxtLayoutParams);
docTxt.setText("Doc_type");
TextView nameTxt = new TextView(SimpleListViewActivity.this);
nameTxt.setLayoutParams(TxtLayoutParams);
nameTxt.setText("Name");

TableRow grouprow = new TableRow(SimpleListViewActivity.this);
grouprow.setLayoutParams(rowparams);
TableRow clientrow = new TableRow(SimpleListViewActivity.this);
clientrow.setLayoutParams(rowparams);
TableRow docrow = new TableRow(SimpleListViewActivity.this);
docrow.setLayoutParams(rowparams);
TableRow namerow = new TableRow(SimpleListViewActivity.this);
namerow.setLayoutParams(rowparams); // Fixed By Praveen

grouprow.addView(groupTxt);
grouprow.addView(nameEdt3);
clientrow.addView(clientTxt);
clientrow.addView(nameEdt2);
docrow.addView(docTxt);
docrow.addView(nameEdt1);
namerow.addView(nameTxt);
namerow.addView(nameEdt);

layout1.addView(grouprow);
layout1.addView(clientrow);
layout1.addView(docrow);
layout1.addView(namerow);

myDialog.setPositiveButton("OK", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int whichButton) {
        // do nothing 
            System.out.println("Inside Ok");
        }
    });

myDialog.setNegativeButton("Cancel", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int whichButton) {
    // do nothing
    }
    });
myDialog.setView(layout1);
AlertDialog alertDialog = myDialog.create();
alertDialog.show();
//alertDialog.getWindow().setLayout(200, 800);
    } 
```

输出用户界面是：

![在此处输入图像描述](../Images/045e6f1c989e63f75dbb6e67b1e30070.png)

请帮助我如何设置视图？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:04:08.317

你最好有一个对话框的布局文件，然后在创建对话框时对其进行膨胀。

对话框.xml

```
<LinearLayout...
        <TextView
              android:id="@+id/textView1
        .../>
        <TextView
             android:id="@+id.textView2
        ../>
</LinearLayout> 
```

创建对话框时。

```
AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());
LayoutInflater inflater = getActivity().getLayoutInflater();
builder.setView(inflater.inflate(R.layout.dialog, null));

TextView txtView1 = (TextView) ThisActivity.this.getDialog().findViewById(R.id.textView1);
//do your TextView stuff, similar for the other views inside the layout defined earlier 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T10:03:45.177

```
 <LinearLayout
                android:id="@id/userBet"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:background="@drawable/textfield_bg"
                android:clickable="true"
                android:gravity="right|center"
                android:paddingRight="7.0dip" >

                <TextView
                    android:id="@id/userBetTxt"
                    style="@style/_005_Carrello_0_RightTicketItem"
                    android:layout_width="fill_parent"
                    android:layout_height="fill_parent"
                    android:gravity="center" />
            </LinearLayout> 
```

我没有使用文本字段，也许这对你来说很有趣 android:background="@drawable/textfield_bg" 把你的图片放在那里

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T10:06:26.100

尝试使用自定义对话框。它会很容易使用。

```
 final Dialog custon_dialog = new Dialog(YourActivity.this);
 custon_dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);
 custon_dialog.setContentView(R.layout.forget_custom_dialog);
 custon_dialog.setCancelable(true);
  //Declare your textview and editbox
 Button submit_Btn = (Button) custon_dialog
                    .findViewById(R.id.submit);
 submit_Btn.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub

                }

            });

            custon_dialog.show(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-06-27T06:24:24.117

```
Activity mActivity;
String title;
TextView addresstv;
TextView dateandtimetv;
Button submit;
Button edit;
AlertDialog.Builder alertbuilder;
AlertDialog alert;

alertbuilder=new AlertDialog.Builder(mActivity);

alert=alertbuilder.create();
    LayoutInflater inflater = mActivity.getLayoutInflater();
    //View view= LayoutInflater.from(mContext).inflate(R.layout.comformdateandtime,mActivity,false);
    View view=inflater.inflate(R.layout.comformdateandtime,null);
    alert.setView(view);
    addresstv=(TextView)view.findViewById(R.id.address);
    dateandtimetv=(TextView)view.findViewById(R.id.dtime);
    submit=(Button) view.findViewById(R.id.submit);
    edit=(Button)view.findViewById(R.id.edit); 
```

# c# - 如何忽略 Stylecop 规则 SP0100？

> ID：14809690
> 
> 赞同：2
> 
> 时间：2013-02-11T09:55:28.353
> 
> 标签：c#, .net, visual-studio, fxcop, stylecop

如何抑制 Style Cop 规则 SP0100？

> 枚举项名称 v2007 不符合指定样式：SampleName、Sample_Name。

* * *

我尝试关注[https://stackoverflow.com/a/3296152/284795](https://stackoverflow.com/a/3296152/284795)

```
 [SuppressMessage("SP0100")] 
```

但我得到一个错误

> 'System.Diagnostics.CodeAnalysis.SuppressMessageAttribute' 不包含采用 1 个参数的构造函数

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-11T09:59:06.247

你确定你有正确的名字索引吗？

[ElementsMustBeOrderedByAccess 似乎是规则 SA1202](http://www.stylecop.com/docs/SA1202.html)

**编辑**：

[您应该查看 Microsoft 文档以了解规则抑制，其中解释了构造函数语法](http://msdn.microsoft.com/en-us/library/ms244717.aspx)。

好的，看来您正在使用[StyleCop+](http://stylecopplus.codeplex.com/)规则 - 这意味着找到适当的抑制数据有点痛苦。

我在规则的[源 XML](https://github.com/shuruev/StyleCopPlus/blob/master/StyleCopPlus/StyleCopPlusRules.xml)文件中找到了 ID 的信息，如果我理解正确，类别应该设置为公开规则的类的全名，即[`StyleCopPlus.StyleCopPlusRules`](https://github.com/shuruev/StyleCopPlus/blob/master/StyleCopPlus/StyleCopPlusRules.cs).

这意味着在您的情况下，最小属性声明将是：

```
[SuppressMessage("StyleCopPlus.StyleCopPlusRules","SP0100:AdvancedNamingRules")] 
```

# c# - (403) WebRequest 禁止

> ID：14809700
> 
> 赞同：0
> 
> 时间：2013-02-11T09:55:50.613
> 
> 标签：c#, webrequest

我正在尝试为我的聊天程序创建一个通用的行踪定位器。它目前显示 IP、用户名，我正在尝试添加位置。我正在尝试使用这段代码：

```
var location = "";
List<string> HTML_code = new List<string>();
WebRequest request = WebRequest.Create("http://www.maxmind.com/app/locate_demo_ip?ips=" + IP);
using (WebResponse response = request.GetResponse())
using (StreamReader stream = new StreamReader(response.GetResponseStream()))
{
  string line;
  while ((line = stream.ReadLine()) != null)
  {
    HTML_code.Add(line);
  }
}

location = (HTML_code[296].Replace("<td><font size=\"-1\">", "")).Replace("</font></td>", "");
return location; 
```

然而，这会返回一个关于 WebResponse 的异常：

> 远程服务器返回错误：(403) Forbidden.(System.Net.WebResponse GetResponse())

为什么我会得到这个？我该如何预防呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T10:01:11.513

您必须拥有许可证密钥才能使用此服务，如下[所述](http://dev.maxmind.com/geoip/web-services)：

> 所有服务都采用与输入相同的参数。它们之间的唯一区别是它们使用的 URI 和它们返回的数据。每个服务采用的两个参数是要查找的 IP 地址**和[您的 MaxMind 许可证密钥](https://www.maxmind.com/en/my_license_key)**。

获得这样的密钥后，除了 IP 地址之外，您还必须将其添加到 URL 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T10:05:39.913

我找不到那个特定的 REST API 调用的文档，但从公司的网站上可以清楚地看出，这项服务不是免费的（至少没有许可证密钥）。这是一种经典方法（您向 API 发出的每个请求都附带您的应用程序/许可证密钥），例如 Twitter 和 Facebook 都有它。

看看[这个链接](http://dev.maxmind.com/geoip/web-services#C-10)，他们给出了一个代码示例，说明如何从 C# 使用他们的 GeoIP 服务。另外，考虑看看他们的[免费数据库](http://dev.maxmind.com/geoip/geolite)。

# java - 使用 JSON Adventure 的 Javascript 数组到 Java 数组

> ID：14809712
> 
> 赞同：0
> 
> 时间：2013-02-11T09:56:34.070
> 
> 标签：java, javascript, arrays, json, multidimensional-array

我有一个情况。我正在创建一个包含许多数组的普通 JavaScript 数组。由于JavaScript完全使用，`request.setAttribute()`不能使用。所以我做`JSON.stringify(<array>)`并将字符串作为参数传递给 URL。这就是我填充普通 JavaScript 数组的方式-

```
var arrayOfArrays = new Array();

for(var i=0;i<agent.length;i++){    
        var arrayOfStrings = new Array();
        arrayOfStrings[0] = agent[i].comp;
        arrayOfStrings[1] = agent[i].ip;
        arrayOfStrings[2] = agent[i].port;
        arrayOfStrings[3] = agent[i].username;
        arrayOfStrings[4] = agent[i].password;      

            arrayOfArrays[i] = arrayOfStrings;
}
var agents = JSON.stringify(arrayOfArrays);
// and I'm passing the agents variable as a parameter to a URL. 
```

在第二页中，我使用包的类和方法获取 Stringified 值`request.getParameter()`并尝试将其转换为 Java ，并继续我的逻辑。`array``net.sf.json`

以下是我创建的数组数组，其形式为`[[...],[...],[...], . . ]`-

```
"[[\"hari2\", \"2.2.2.2\", \"222\", \"2gsz3dg\", \"sdfg2sd3\"], [\"fhf\", \"1.4.5.6\", \"678\", \"gjh\", \"gfhjgf\"], [\"hari1\", \"1.1.1.1\", \"123\", \"sdfg\", \"w34tr5\"], [\"ch\", \"1.1.1.1\", \"123\", \"ghf\", \"dgjyt\"], [\"hari\", \"1.2.3.4\", \"324\", \"xcfhd\", \"serteg34g\"], [\"hari5\", \"5.5.5.5\", \"555\", \"555\", \"555\"], [\"hari4\", \"4.4.4.4\", \"444\", \"444\", \"444\"], [\"hari3\", \"3.3.3.3\", \"333\", \"sfse\", \"3rw\"], [\"hari6\", \"6.6.6.6\", \"666\", \"666\", \"666\"]]" 
```

这是我从字符串转换为数组的逻辑-

```
String agents = request.getParameter("agents");

System.out.println("Agents before removing \" :: " + agents);
if (agents.startsWith("\"") && agents.endsWith("\"")) {
    String agentsTemp = agents.replaceFirst("\"", "");
    agents = agentsTemp.substring(0, agentsTemp.length()-1);
    System.out.println("Agents after removing \" :: " + agents);
}
// applied the above logic as i had got "Invalid JSON String" Exception

if(agents != null && agents.length() > 2) {
    net.sf.json.JSONArray arrayOfArrays = (net.sf.json.JSONArray) net.sf.json.JSONSerializer.toJSON(agents); 

    for(int i=0; i<arrayOfArrays.size();i++) {
        net.sf.json.JSONArray arrayOfStrings = (net.sf.json.JSONArray) arrayOfArrays.get(i);

        String pgData = arrayOfStrings.getString(0);
        String user = arrayOfStrings.getString(3);
        String pwd = arrayOfStrings.getString(4);
        int portInt = Integer.parseInt(arrayOfStrings.getString(2));
        String hostIP = arrayOfStrings.getString(1);

                    // business logic continued
    }
} else {
    // throw exception
}

net.sf.json.JSONException: Missing value. at character 2 of [[\"hari2\", \"2.2.2.2\", \"222\", \"2gsz3dg\", \"sdfg2sd3\"], [\"fhf\", \"1.4.5.6\", \"678\", \"gjh\", \"gfhjgf\"], [\"hari1\", \"1.1.1.1\", \"123\", \"sdfg\", \"w34tr5\"], [\"ch\", \"1.1.1.1\", \"123\", \"ghf\", \"dgjyt\"], [\"hari\", \"1.2.3.4\", \"324\", \"xcfhd\", \"serteg34g\"], [\"hari5\", \"5.5.5.5\", \"555\", \"555\", \"555\"], [\"hari4\", \"4.4.4.4\", \"444\", \"444\", \"444\"], [\"hari3\", \"3.3.3.3\", \"333\", \"sfse\", \"3rw\"], [\"hari6\", \"6.6.6.6\", \"666\", \"666\", \"666\"]] 
```

它在那里期待什么？如果有任何更简单的方法来解决这个问题，我愿意接受建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:21:39.220

只需使用`JSON.parse()`.

这段代码：

```
JSON.parse("[[\"hari2\", \"2.2.2.2\", \"222\", \"2gsz3dg\", \"sdfg2sd3\"], [\"fhf\", \"1.4.5.6\", \"678\", \"gjh\", \"gfhjgf\"], [\"hari1\", \"1.1.1.1\", \"123\", \"sdfg\", \"w34tr5\"], [\"ch\", \"1.1.1.1\", \"123\", \"ghf\", \"dgjyt\"], [\"hari\", \"1.2.3.4\", \"324\", \"xcfhd\", \"serteg34g\"], [\"hari5\", \"5.5.5.5\", \"555\", \"555\", \"555\"], [\"hari4\", \"4.4.4.4\", \"444\", \"444\", \"444\"], [\"hari3\", \"3.3.3.3\", \"333\", \"sfse\", \"3rw\"], [\"hari6\", \"6.6.6.6\", \"666\", \"666\", \"666\"]]"); 
```

输出正确的数组数组。：

```
[
    ["hari2", "2.2.2.2", "222", "2gsz3dg", "sdfg2sd3"],
    ["fhf",   "1.4.5.6", "678", "gjh",     "gfhjgf"],
    ["hari1", "1.1.1.1", "123", "sdfg",    "w34tr5"],
    ["ch",    "1.1.1.1", "123", "ghf",     "dgjyt"],
    ["hari",  "1.2.3.4", "324", "xcfhd",   "serteg34g"],
    ["hari5", "5.5.5.5", "555", "555",     "555"],
    ["hari4", "4.4.4.4", "444", "444",     "444"],
    ["hari3", "3.3.3.3", "333", "sfse",    "3rw"],
    ["hari6", "6.6.6.6", "666", "666",     "666"]
] 
```

# python - 如何在 Python 的 os.system 中包装 shell 命令？

> ID：14809715
> 
> 赞同：0
> 
> 时间：2013-02-11T09:56:43.097
> 
> 标签：python, shell

它可以得到一个名为 的文件`myFile.txt`，其中内容为：

```
file  '/home/debian/1.flv'  
file  '/home/debian/2.flv'  
file  '/home/debian/3.flv'  
file  '/home/debian/4.flv'  
file  '/home/debian/5.flv' 
```

现在我想用 Python 包装它

```
os.system("seq  --format="file  '/home/debian/%G.flv'" 5 > myFile.txt" )    
File "<stdin>", line 1  
os.system("seq  --format="file  '/home/debian/%G.flv'" 5 > myFile.txt" )  
                             ^
SyntaxError: invalid syntax 
```

**如何用 Python 包装它？**

1.  我确实了解如何在 Python (kvivek) 中创建文件

2.  我的目标是了解如何在 Python 中使用复杂的 shell 命令，
    如果行数是一个变量？

还是有问题

1.  @Torxed 转义字符方式

    ```
    >>> i=7    
    >>> os.system("seq --format=\"file '/home/debian/%G.flv'\" %d > myFile.txt" %i )  
    Traceback (most recent call last):  
      File "<stdin>", line 1, in <module>  
    TypeError: float argument required, not str 
    ```

2.  [@ganachoco 的](https://stackoverflow.com/a/14809797/1931274)三重引号方式

    ```
    >>> os.system('''seq  --format="file  '/home/debian/%G.flv'" %d > myFile.txt" %i''')  
    sh: 1: Syntax error: Unterminated quoted string 
    ```

有两个状态需要考虑，状态1：变量在shell中，我们可以做（我已经验证了以下两个shell命令）

```
root@debian:/home/debian# i=7
root@debian:/home/debian# seq --format="file '/home/debian/%G.flv'" $i > myFile.txt 
```

如何使用 os.system 将其包装在 Python 中？

```
>>> os.system('i=7')
0
>>> os.system("seq --format=\"file '/home/debian/%G.flv'\" $i > myFile.txt")
seq: missing operand
Try `seq --help' for more information.
256 
```

变量在Python中，现在我想调用shell命令把Python中的变量放到shell中，怎么办？

```
>>> i=7  #in python prompt
>>> os.system("seq --format=\"file '/home/debian/%G.flv'\" `here i want to get value from python prompt` > myFile.txt") 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T10:00:33.547

用反斜杠引用 "

```
for i in (range(1,5)):
    os.system("seq  --format=\"file  '/home/debian/%d.flv'\" > myFile.txt" %i ) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-11T10:00:47.850

使用三引号

```
os.system("""seq  --format="file  '/home/debian/%G.flv'" 5 > myFile.txt""") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T10:10:44.217

希望这给了你正在寻找的东西

```
[root@localhost ~]# python
Python 2.6.6 (r266:84292, Apr 11 2011, 15:50:32)
[GCC 4.4.4 20100726 (Red Hat 4.4.4-13)] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import os
>>> cmdstr = """i=7 && seq --format="file '/home/kvivek/%G.flv'" $i > myFile.txt"""
>>> os.system(cmdstr)
0
>>> exit()
[root@localhost ~]# cat myFile.txt
file '/home/kvivek/1.flv'
file '/home/kvivek/2.flv'
file '/home/kvivek/3.flv'
file '/home/kvivek/4.flv'
file '/home/kvivek/5.flv'
file '/home/kvivek/6.flv'
file '/home/kvivek/7.flv'
[root@localhost ~]# 
```

# java - solo.finishOpenActivities() 始终为空

> ID：14809719
> 
> 赞同：2
> 
> 时间：2013-02-11T09:56:58.937
> 
> 标签：java, android, testing, robotium

我有一个测试班，但总是进入`NullPointerException`，`tearDown()`有人知道为什么吗？

```
public class LaunchManagerActivityTest extends ActivityInstrumentationTestCase2<LaunchManagerActivity> {

    private Solo solo;

    public LaunchManagerActivityTest() {
        super(LaunchManagerActivity.class);
    }

    @Override
    protected void setUp() throws Exception {
        super.setUp();

        solo = new Solo(getInstrumentation(), getActivity());
    }

    @Override
    protected void tearDown() throws Exception {
        super.tearDown();
        solo.finishOpenedActivities();
    }

    public void testOne() {

    }

    public void testTwo() {

    } 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-11T10:00:14.630

```
 @Override
    protected void tearDown() throws Exception {
        super.tearDown();
        solo.finishOpenedActivities();
    } 
```

实际上应该是：

```
 @Override
    protected void tearDown() throws Exception {
        solo.finishOpenedActivities();
        super.tearDown();
    } 
```

supers teardown 将关闭启动的活动，但 robotsium 随后会感到困惑，因为它认为活动是打开的，当它尝试对其进行操作时，它是空的。

# matlab - Matlab - 求和 & .^2

> ID：14809721
> 
> 赞同：0
> 
> 时间：2013-02-11T09:57:05.717
> 
> 标签：matlab, sum

在[这篇文章](https://stackoverflow.com/a/14809181/1404505)中，我收到了一个很好的答案，我只想问，什么是：

`maximum = (sum(sum(pdist2(x,y)))).^2;`

答案是什么意思？

在我的问题中，并且在那个位置上，我打算从中获得结果`pdist2`并总结结果。而且，在答案中，使用了前面的格式。但是，当我使用它时，我得到了与预期不同的结果（求和），尽管代码的最终答案是正确的。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T10:00:45.873

这里是一步一步的解释`(sum(sum(pdist2(x,y)))).^2`

```
pdist2(x,y) % your submatrix
sum(pdist2(x,y)) % The column sums of your submatrix
sum(sum(pdist2(x,y))) % The total sum of your submatrix
(sum(sum(pdist2(x,y)))).^2 % The element wise square of that sum 
```

在这种情况下，这应该就足够了，因为您要对标量而不是矩阵或向量进行平方：

```
sum(sum(pdist2(x,y)))^2 % The square of that sum, 
```

# c# - IEquatable - 覆盖 Equals - 检查空值

> ID：14809724
> 
> 赞同：1
> 
> 时间：2013-02-11T09:57:13.253
> 
> 标签：c#, nullreferenceexception, iequatable

我有一个`IEquatable<T>`方法：

```
public bool Equals(TravelOptions other)
{
    if (other == null) return false;
    return 
        this.OutTravelType.Equals(other.OutTravelType) &  //enum
        this.BackTravelType.Equals(other.BackTravelType) & //enum
        this.OutTravelPointID.Equals(other.OutTravelPointID) & //int
        this.BackTravelPointID.Equals(other.BackTravelPointID) & //int
        this.OutTerminal.Equals(other.OutTerminal) & //string
        this.BackTerminal.Equals(other.BackTerminal) & //string
        this.OutTime.Equals(other.OutTime) & //string :(
        this.BackTime.Equals(other.BackTime) & //string
        this.Checkin.Equals(other.Checkin) & //int
        this.OutFree.Equals(other.OutFree) & //bool
        this.BackFree.Equals(other.BackFree); //bool
} 
```

但我需要做的是为其中的各个位添加一些空值检查，因为目前它会抛出一个 nullreferenceexception 是否有一些巧妙的方法可以做到这一点，所以它最终不会变成一个令人讨厌的混乱？往返旅行类型是枚举，并且始终设置为先检查它们。out 和 back free 是布尔值，旅行点是整数，其余都是字符串。只是觉得如果我开始必须检查空值会变得非常混乱，除非有一些速记方法吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T10:00:45.970

[`string.Equals`](http://msdn.microsoft.com/en-us/library/1hkt4325.aspx)您可以使用优雅地处理`null`值的静态形式：

```
string.Equals(this.OutTerminal, other.OutTerminal) 
```

当然，如果您不打算通过`StringComparison`this 提供选项，则与比较`==`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T10:01:26.367

对于*所有*这些属性，只需使用`==`而不是调用`Equals`：

```
return OutTravelType == other.OutTravelType &&
       BackTravelType == other.BackTravelType &&
       ...; 
```

所有这些类型要么直接处理（int、bool、enum），要么具有重载的`==`运算符（`string`）。请注意使用`&&`代替`&`，因为`&&`是短路：如果第一个比较不相等，则检查其他 10 个属性是没有意义的。

顺便说一句，看起来您可以将所有“Out”属性和所有“Back”属性封装在一起，只剩下：

```
return OutwardJourney == other.OutwardJourney &&
       ReturnJourney == other.ReturnJourney &&
       Checkin == other.Checkin; // Looks like this isn't part of out/back 
```

其中 a`Journey`将具有旅行类型、旅行点 ID、终点站、时间和“免费”（无论这意味着什么）。

# asp.net - 浏览 sql 2008 安装介质

> ID：14809729
> 
> 赞同：0
> 
> 时间：2013-02-11T09:57:32.877
> 
> 标签：asp.net, sql, sql-server-2008

我有 Windows 7 64 位。我从 ISO 文件在我的机器上安装了 vs 2010。我还没有将内容挂载到 CD。我使用了一款将 ISO 映像转换为 CD/DVD 媒体的软件。VS 2010 已正确安装。有了VS，sql也来了。但是当我尝试安装 sql 2008 时，从配置工具-> sql server 安装中心，它要求文件。当我尝试浏览该 ISO 文件时，该文件在该浏览对话框中不可见。我能做些什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T12:45:41.547

安装程序需要能够看到 setup.exe 文件和相关文件夹才能工作，它不能直接读取 ISO 文件。

将 ISO 文件的内容提取到文件系统或将 ISO 挂载为光盘映像并将安装程序指向那里。

# wpf - Visual Studio 中的实体框架 5 没有设计时数据

> ID：14809734
> 
> 赞同：1
> 
> 时间：2013-02-11T09:57:40.143
> 
> 标签：wpf, entity-framework-5, design-time-data

嗨，我在 VS 2012 中用两个项目构建了一个简单的测试解决方案。

一个是类库，另一个是 WPF 应用程序。两者都使用 .NET 4.5。

在类库中，我添加了一个映射简单表的 EF 元素 (DataFirst)。

接下来我在我的 WPF 项目中引用这个项目。从 Nuget 添加 EF 并使用非常简单的 MVVM 模式我添加了一个看起来像这样的类（请注意 - 这不是生产代码 - 它只是为了重现问题）。

```
public class Class1 {
public static Helper TheHelper { get; set; }
public Class1() {
    TheHelper = new Helper();
} 
```

} 公共类 Helper { public Helper() { Nam = "aaa";

```
}
string connectionString = "metadata=res://*/Mod.csdl|res://*/Mod.ssdl|res://*/Mod.msl;provider=System.Data.SqlClient;provider connection string=\";data source=.\\sqlx8r2;initial catalog=FCdata;integrated security=True;MultipleActiveResultSets=True;App=EntityFramework\"";
public string Nam { get; set; }
#region PCs
private List<PC> m_lPCs;
public List<PC> PCs {
    get {
        if(m_lPCs == null) {
            try {
                using(FCdataEntities dE = new FCdataEntities(connectionString)) {
                    m_lPCs = dE.PCs.ToList();
                }
            }
            catch(Exception eX) {
                m_lPCs = new List<PC>();
                m_lPCs.Add(new PC() { Description = eX.Message });
            }
        }
        return m_lPCs;
    }
    set {
        if(m_lPCs != value) {
            m_lPCs = value;
            //RaisePropertyChanged(() => PCs);
        }
    }
}
#endregion 
```

我还像这样扩展了上下文类：

```
public partial class FCdataEntities : DbContext {
    public FCdataEntities(string strCon) : base(strCon) {
    }
} 
```

所以我可以传递从 app.config 复制的连接字符串。

在我的主窗口中，我做了一个简单的绑定，如下所示：

```
 xmlns:local="clr-namespace:EFTest"
    Title="MainWindow" Height="350" Width="1525">
<Window.Resources>
    <local:Class1 x:Key="dG" />
</Window.Resources>
<Grid DataContext="{Binding Path=TheHelper, Source={StaticResource dG} }">
    <Grid.RowDefinitions>
        <RowDefinition Height="17*"/>
        <RowDefinition Height="143*"/>
    </Grid.RowDefinitions>
    <TextBox Text="{Binding Nam}"  />
    <ListBox ItemsSource="{Binding PCs}" Grid.Row="1">
        <ListBox.ItemTemplate>
            <DataTemplate>
                <TextBlock Text="{Binding Description}" />
            </DataTemplate>
        </ListBox.ItemTemplate>
    </ListBox>
</Grid> 
```

The solution works fine at runtime. But in the VS Designer I get an exception shown in my "dummy obect" which I create in the catch block of the property.

```
Could not load file or assembly 'Windows, Version=255.255.255.255, Culture=neutral, ContentType=WindowsRuntime' or one of its dependencies. Operation is not supported. (Exception from HRESULT: 0x80131515) 
```

What I need is data at design time - and no "dummy data" - instead I want to get it from the DB - avoiding the use of EF (and use linq2sql for an example) works like a charm.

Did I make a mistake with the connection string (or so) - or is there simply a problem in EF 5.0?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-05T09:26:16.073

This particular error is a known issue in Entity Framework 5 with the Visual Studio & Expression designers and has been fixed in the Entity Framework 6 source code. However there are other design time errors which I haven't been able to resolve which prevent Entity Framework code from running in the designer.

# view - gridview 行访问

> ID：14809735
> 
> 赞同：0
> 
> 时间：2013-02-11T09:57:52.587
> 
> 标签：view, grid, row

我有一个包含两列的gridview：`DocId`和`DocUrl`

`DocUrl`包含文档的 url。有什么方法可以`DocUrl`一键访问访问行吗？

单击按钮后，它必须打开`DocUrl`并检查字符串模式。如果它不属于该文档，请删除它，否则保持原样。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T11:47:18.823

是的你可以。

使用 LinkBut​​ton，点击它，检查它的点击事件并检查 url，如果你发现它使用 response.redirect 或删除和更新标签打开它

# java - 在 Eclipse RCP 中显示视图时如何显示上下文帮助

> ID：14809741
> 
> 赞同：1
> 
> 时间：2013-02-11T09:58:05.270
> 
> 标签：java, eclipse-plugin, eclipse-rcp

我在我的 Eclipse RCP 应用程序中创建了自己的工具。当工具被激活时，特定视图被打开，当我按下 F1 按钮时，我想显示一个动态帮助。

我设置了我的 context.xml，在我的视图`createPartControl`函数中我有这一行：

```
 PlatformUI.getWorkbench().getHelpSystem().setHelp(parent, "lineer.udig.tools.yoltool.bufferView.myId"); 
```

“lineer.udig.tools.yoltool.bufferView”是我的视图 ID，“myId”是我`<context id="myId">`在 context.xml 中的上下文 ID。

当我选择我的工具时，视图正在打开，当我单击此视图上的任何文本框并按`F1`时，动态帮助将起作用。

但是，我想在此视图的任何位置显示此帮助，而无需单击文本框或组合框。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T07:53:51.660

函数 createPartControl 正在获取“复合父级”的参数

```
public void createPartControl(Composite parent) {
     ..
     ..
} 
```

因此，如果我们使复合成为私有变量`private Composite parent;`，那么在函数中

```
public void createPartControl(Composite parent) {
     ..
     this.parent = parent;
} 
```

在类的最后，我们需要将这两行添加到 setFocus() 函数中。

```
 public void setFocus() {
        // TODO Auto-generated method stub
           if(parent != null) // NEW
               parent.setFocus(); // NEW

    } 
```

所以在这些修改之后，我们的动态帮助会在视图被激活时自动工作。

# sql - 对一列求和并获取 Transact Sql 中的第一行

> ID：14809742
> 
> 赞同：1
> 
> 时间：2013-02-11T09:58:07.593
> 
> 标签：sql, sql-server, tsql

我有一个表 MOUVEMENTS 有 3 列：

```
ID     IDREF     NUMBER
1      1         5
2      1         3
3      1         4
4      1         2
5      2         1 
```

我想使用该约束获取该表的行：

*   IDREF = 1
*   由 ID ASC 订购
*   以及 NUMBER 的 X 第一个 SUM（通过 IDREF）

我想我们将首先计算 SUM。然后我们将限制该列

```
ID     IDREF     NUMBER   SUM
1      1         5        5
2      1         3        8
3      1         4        12
4      1         2        2
5      2         1        1 
```

在这种情况下，如果我们想要 11，我们将取两个第一列 + 第三列，我们将更改数字以具有一致的值。

所以等待结果：

```
ID     IDREF     NUMBER   SUM
1      1         5        5
2      1         3        8
3      1         3        11 
```

请注意 NUMBER 和 SUM 列第三行的变化。

你知道如何实现吗？

这个查询应该从 sql 2000 到 2008 R2

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T12:01:02.580

我在这里创建了一个使用视图的解决方案：[http ://www.sqlfiddle.com/#!3/ebb01/15](http://www.sqlfiddle.com/#!3/ebb01/15)

该视图包含每个 IDRef 的运行总计列：

```
CREATE VIEW MouvementsRunningTotals
AS
  SELECT
    A.ID,
    A.IDRef,
    MAX(A.Number) Number,
    SUM (B.Number) RunningTotal
  FROM
    Mouvements A
    LEFT JOIN Mouvements B ON A.ID >= B.ID AND A.IDRef = B.IDRef
  GROUP BY
    A.ID,
    A.IDRef 
```

如果您无法创建视图，那么您可以在 tsql 中将其创建为临时表。

然后查询是对该视图的自联接，以便根据您传入的 Number 确定要包含的最后一行。然后一条`CASE`语句确保最后一行的正确值：

```
DECLARE @total int
DECLARE @idRef int
SELECT @total = 4
SELECT @idRef = 1

SELECT 
  A.ID,
  A.IDRef,
  CASE 
    WHEN A.RunningTotal <= @total THEN A.Number
    ELSE  @total - B.RunningTotal
  END Number
FROM 
  MouvementsRunningTotals A
  LEFT JOIN MouvementsRunningTotals B ON 
            A.IDRef = B.IDRef 
            AND A.RunningTotal - A.Number = B.RunningTotal
WHERE
  A.IDRef = @IDRef
AND (A.RunningTotal <= @total
OR (A.RunningTotal > @total AND B.RunningTotal < @total)) 
```

您可以在 Build Schema 框中添加更多数据，并在 Query 框中更改 @total 参数中的 Number 以对其进行测试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T10:18:11.127

```
select id, (select top 1 number from mouvements) as number, idref 
from mouvements where idref=1 order by id asc 
```

# java - 从 JAVA 中的 PKCS#7 文件中提取原始证书

> ID：14809754
> 
> 赞同：2
> 
> 时间：2013-02-11T09:58:42.063
> 
> 标签：java, cryptography, openssl, pem, pkcs#7

我想实现与此 openssl 命令相同的功能，但以 Java 编程方式：

```
openssl pkcs7 -in toBeExported.p7c -inform DER -out certificate.pem -print_certs 
```

这意味着我有一个 DER 格式的公钥证书（PKCS #7 证书），我想将其中包含的原始证书提取到 Base64 文件中。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T10:08:46.083

就像是

```
FileInputStream is = new FileInputStream( "cert.pkcs7" );
CertificateFactory cf = CertificateFactory.getInstance( "X.509" );
Iterator i = cf.generateCertificates( is ).iterator();
while ( i.hasNext() ) 
{
   Certificate c = (Certificate)i.next();
   // TODO encode c as Base64...
} 
```

应该使用 PKCS#7 编码的证书。

干杯，

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-01-21T16:57:32.450

让我使用现代语言特性添加一个更完整的 Java 类：

```
/**
 * Reads the certificate chain from a pkcs7 file.
 */
public class Cert {
    public static void main(String[] args) throws Exception {
        try (InputStream inputStream = new FileInputStream("testfile.txt.pkcs7")) {
            final CertificateFactory certificateFactory = CertificateFactory.getInstance("X.509");
            certificateFactory.generateCertificates(inputStream).forEach(certificate -> {
                final X509Certificate x509Certificate = (X509Certificate) certificate;
                System.out.printf("subjectDN: %s%n", x509Certificate.getSubjectDN().getName());
            });
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2017-10-09T20:19:38.967

```
public void Read_PKCS7_Cert(String cert_file) throws FileNotFoundException, 
CertificateException
{       
try {

  File file = new File(cert_file);
  FileInputStream fis = new FileInputStream(file);
  CertificateFactory cf = CertificateFactory.getInstance("X.509");
  Collection c = cf.generateCertificates(fis);
  Iterator i = c.iterator();

  while (i.hasNext()) {
     X509Certificate cert509 = (X509Certificate) i.next();
     System.out.println("IssuerDN: " + cert509.getIssuerDN());
     System.out.println("NotAfter: " + cert509.getNotAfter());
     System.out.println("SerialNumber: " + cert509.getSerialNumber());
     System.out.println("SigAlgName: " + cert509.getSigAlgName());
     System.out.println("IssuerUniqueID: " + 
     Arrays.toString(cert509.getIssuerUniqueID()));
     System.out.println("Signature: " + Arrays.toString(cert509.getSignature()));
      System.out.println("SubjectDN: " + cert509.getSubjectDN());
    }
  }
  catch (FileNotFoundException | CertificateException th) {
      System.out.println(th.toString());
  }
 } 
```

# javascript - 无法解析 form.all_skill 在 javascript 中未定义

> ID：14809755
> 
> 赞同：0
> 
> 时间：2013-02-11T09:58:41.823
> 
> 标签：javascript

我的 JavaScript 代码是

```
function addTaskSkill(form) {
    var at = form.all_skill.length -1;

    var td = form.task_skill.length -1;
    var tasks = "x";

    if(td>=0 && form.task_skill.options[0].value==skll_id){
        form.task_skill.options[0] = null;
        td = form.task_skill.length -1;
    }

    for (td; td > -1; td--) {
        tasks = tasks + "," + form.task_skill.options[td].value + ","
    }

    for (at; at > -1; at--) {
        if (form.all_skill.options[at].selected && tasks.indexOf("," + form.all_skill.options[at].value + ",") == -1) {
            t = form.task_skill.length
            opt = new Option(form.all_skill.options[at].text, form.all_skill.options[at].value);
            form.task_skill.options[t] = opt
        }
    }

    //checkForTaskSkill(form.task_skill);
}

function removeTaskSkill(form) {
    td = form.task_skill.length -1;

    for (td; td > -1; td--) {
        if (form.task_skill.options[td].selected) {
            form.task_skill.options[td] = null;
        }
    }

} 
```

我的调用功能是

```
<form action="#" method="post" name="detailFrm">
    <table>
        <tr>
            <td>
                <select name="all_skill" size="10" class="span5" multiple="multiple" >  
                    <option value="30">Apache</option>  
                    <option value="31">Microsoft IIS</option>
                    <option value="32">Tomcat</option> 
                    <option value="34">JBoss</option>   
                    <option value="35">BEA WebLogic</option>
                </select>
            </td>
            <td><input type="button" class="btn" value="&gt;" onclick="javascript:addTaskSkill(document.detailFrm)" />
                <br><br><input type="button" class="btn" value="&lt;"
                               onclick="javascript:removeTaskSkill(document.detailFrm)" /></td>
            <td>
                <select name="task_skill" class="span5" size="10" multiple="multiple"> </select>
            </td>
        </tr>
    </table>
</form> 
```

在这里，我从一个选择框中选择一些选项，单击`>>`它应该推送到下一个选择框。我得到的错误是

```
TypeError: form.all_skill is undefined
[Break On This Error]   

var at = form.all_skill.length -1; 
```

我没有得到解决方案。请在此处提供帮助以获得解决方案。我正在尝试制作一个列表框交换器。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:23:38.890

要引用表单的元素，您可以像这样使用表单元素选择：

```
form.elements['all_skill'] // where form is: document.detailFrm 
```

或者您使用 ID：

```
//HTML
<select name="all_skill" id="all_skill" size="10" class="span5" multiple="multiple" >

// in JS
document.getElementById('all_skill'); 
```

# javascript - Jquery UI多列自动完成下拉菜单在鼠标悬停时消失

> ID：14809758
> 
> 赞同：2
> 
> 时间：2013-02-11T09:58:58.020
> 
> 标签：javascript, jquery, jquery-ui, autocomplete

我使用 jquery ui 自动完成作为[多列自动完成](http://jsfiddle.net/alforno/g4stL)。代码如下

```
 this.$('[data-sandbar="searchbox"]').mcautocomplete({
                showHeader: true,
                columns: [{
                    name: 'First Name',
                    width: '70px',
                    valueField: 'value'
                },
                       {
                           name: 'Last Name',
                           width: '70px',
                           valueField: 'LastName'
                       },
                       {
                           name: 'DOB',
                           width: '50px',
                           valueField: 'DOB'
                       }],

                select: function (event, ui) {
                    window.location.hash = ui.item.name;
                    return false;
                },
                minLength: -1,
                pageSize: 50,
                autoFocus: false,
                source: function (request, response) {

                    self.model.fetch({
                        data: {
                            searchText: text,
                            sortBy: '',
                            pageNum: 1,
                            pageSize: 50,
                            bHotList: false,
                            sortOrder: 'Desc',
                            patientId: 0,
                            include_entities: true
                        },

                        success: function (data) {
                            var availableTags = [];
                            $.each(data.attributes, function (val, patient) {

                                if (patient != "" && patient != null) {

                                    availableTags[val] = {
                                        name: "#patient/" + patient.PatientId,
                                        value: patient.FirstName,
                                        LastName: patient.LastName,
                                        DOB: patient.DOB

                                    };

                                }
                            });

                            response(availableTags);

                        },

                        error: function (e) {
                            console.log(e);

                        }
                    });
                }
            }); 
```

我面临的问题是，当我将鼠标悬停在自动完成下拉菜单上时，鼠标悬停会将列表显示块更改为无。请帮忙...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-08T15:02:09.020

可能是在自动完成多选组合上注册的悬停事件导致更改为列表的显示属性。

谢谢。

# iphone - iPhone 应用程序在 main.m 中崩溃，没有更多信息 ..？

> ID：14809759
> 
> 赞同：0
> 
> 时间：2013-02-11T09:59:01.213
> 
> 标签：iphone, ios, objective-c

我有一个应用程序，它在 main.m 文件中崩溃。崩溃日志没有提供太多信息，任何人都可以帮我调试这个..

以下是崩溃日志...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:05:06.717

尝试在您的 Xcode 项目中启用“僵尸”。

也看看下面的教程，它会帮助你很多：

[http://www.raywenderlich.com/23704/demystifying-ios-application-crash-logs](http://www.raywenderlich.com/23704/demystifying-ios-application-crash-logs)

干杯!

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T10:47:52.493

我第二次选择 Nishant，

看到崩溃日志，我可以确认您正在释放一些您已标记为自动释放的对象，并且当自动释放池耗尽该对象时，它的引用计数已经为 0，现在变为 -1，因此崩溃。

不要释放自动释放的对象。

# extjs - 如何在 Sencha Touch 中转换日期和时间格式？

> ID：14809763
> 
> 赞同：3
> 
> 时间：2013-02-11T09:59:08.117
> 
> 标签：extjs, sencha-touch, sencha-touch-2

在 Sencha Touch 2 中，我有一个具有以下字段的模型， DateTimeStart 如果呈现在列表中，则以这种格式显示

```
Mon Feb 11 2013 11:55:00 GMT +100 (W. Europe Standard Time) 
```

我需要创建另一个字段 ( `DateTimeStartConverted`)，基于`DateTimeStart` 我需要使用“Ymd”将此类日期转换为更短的格式。

在我的转换方法中打印 DateTimeStartConverted 的结果它不显示任何结果（没有抛出错误）。

知道如何解决吗？

```
{
   name: 'DateTimeStart',
   type: 'date',
   dateFormat: 'MS'
}, {
   name: 'DateTimeStartConverted',
   type: 'date',
   convert: function(value, record){
       var jsonDate  = record.get('DateTimeStart'); 
       return  Ext.Date.format(jsonDate, 'Y-m-d');
   }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T15:53:27.840

如果您只需要在列表项模板中正确显示日期，则可以`:date()`在模板中使用该函数：

```
{
  xtype: 'list',
  ...
  itemTpl: '<p>Date display test - {DateTimeStart:date("m/d/Y")}</p>',
  ...
} 
```

至于你的转换函数，它看起来很不错，但是你从`value`and`record`参数中得到了什么？了解这些价值观会有很大帮助。

# css - 什么会使复选框不显示在页面上？

> ID：14809769
> 
> 赞同：3
> 
> 时间：2013-02-11T09:59:38.757
> 
> 标签：css, ruby-on-rails, ruby-on-rails-3, html, twitter-bootstrap

我在 3.2 应用程序中使用 Twitter Bootstrap for Rails，但没有看到复选框出现。

如果我只用直接的 HTML（带有硬编码的复选框，并使用常规的 Bootstrap 资产）查看同一页面，它就可以正常工作。

我相信 HTML 代码是正确生成的……例如：

```
<div class="field">
    <div class="control-group check_boxes optional"><label class="check_boxes optional control-label">Listing Type</label><div class="controls"><label class="checkbox"><input class="check_boxes optional" id="search_listing_type_id_1" name="search[listing_type_id][]" type="checkbox" value="1" />For Sale</label><input name="search[listing_type_id][]" type="hidden" value="" /></div></div>
  </div> 
```

这是 Rails 代码：

```
<%= f.input :listing_type_id, collection: ListingType.order(:name), as: :check_boxes, label: "Listing Type" %> 
```

这是一个[活生生的例子](http://realty-cloud.herokuapp.com/listings/new)。在文本“列表平方英尺”旁边，应该是一个复选框。向下滚动到便利设施，您会在那里看到一个显然应该有复选框的列表。

这在开发中也不起作用。

不太清楚为什么它没有出现。

想法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T10:03:00.577

看起来 uniform.js 将复选框的不透明度设置为 0。

如果您不使用它，请尝试禁用 uniform.js。

**更新：**看起来你在精灵图像上也得到了 404？可能是统一的主题精灵图像？

```
GET http://realty-cloud.herokuapp.com/img/sprite.png 404 (Not Found) 
```

**另一个更新：**这绝对是问题所在。Uniform 的工作原理是将输入的不透明度设为 0，使其不可见，但仍可单击，并稍微更改标记，因此看起来像这样。

```
<div class="checker" id="uniform-listing_amenity_ids_4">
  <span>
    <input class="check_boxes optional" id="listing_amenity_ids_4" name="listing[amenity_ids][]" type="checkbox" value="4" style="opacity: 0;">
  </span>
</div> 
```

它设置了一个 css 规则`div.checker span`：

```
div.checker span {
  background-image: url(../img/sprite.png);
} 
```

该图像丢失，因此输入似乎不可见。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T10:26:13.203

实际上，由于 margin 属性，您的问题有复选框，但它是隐藏的

```
input[type="checkbox"] {
    float: left;
    #margin-left: -20px;
} 
```

所以删除或更改边距大小

见下文，带萤火虫的FF

![在此处输入图像描述](../Images/a2bcac548853c0c7acc3579b1c539897.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-07T17:32:35.380

```
$('input[type="checkbox"]').css("visibility","visible"); 
```

# ajax - JSF commandbutton ajax：如何捕获成功/失败事件

> ID：14809770
> 
> 赞同：0
> 
> 时间：2013-02-11T09:59:39.607
> 
> 标签：ajax, redirect, jsf-2

我当前的代码。

```
<h:form>
   <h:panelGroup id="messagePanel" layout="block">
       <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
   </h:panelGroup>
    <h:panelGrid columns="2">

        // some form input stuff here..

    </h:panelGrid>         

   <h:commandButton class="register-btn" action="#{accountController.create}" value="#{bundle.Register}">
        <f:ajax event="action" execute="@form" render="messagePanel"/>
   </h:commandButton>                       
</h:form> 
```

messagePanel 是显示验证错误的地方。

我想知道如何捕获成功事件。

[完成] 如果用户输入了一些不正确的值，它会进行 ajax 验证并显示不正确的值

[问题] 如果成功它应该重定向到另一个页面。

**更新

创建方法

```
public String create() {
        try {

            getFacadeUser().create(currentUser);

            JsfUtil.addSuccessMessage(ResourceBundle.getBundle("/Bundle").getString("AccountCreated"));
            return prepareCreate();
        } catch (Exception e) {
            JsfUtil.addErrorMessage(e, ResourceBundle.getBundle("/Bundle").getString("PersistenceErrorOccured"));
            return null;
        }
    }

public String prepareCreate() {
    current = new Account();
    selectedItemIndex = -1;
    return "index";
} 
```

我正在使用 JSF 2.1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:19:53.497

这不是使用 AJAX 请求进行重定向的正确方法。您应该改用[ExternalContext.redirect()](http://docs.oracle.com/javaee/6/api/javax/faces/context/ExternalContext.html#redirect%28java.lang.String%29)：

```
FacesContext.getCurrentInstance().getExternalContext().redirect("yourUrl"); 
```

这样，您将收到来自服务器的部分响应，这将进行重定向：

```
<partial-response>
  <redirect url="yourUrl">
  </redirect>
</partial-response> 
```

您在此方法中返回的字符串无关紧要，您甚至可以 return `null`。

# ruby-on-rails - 文件提交页面上的 Gitlab 404

> ID：14809774
> 
> 赞同：1
> 
> 时间：2013-02-11T09:59:50.877
> 
> 标签：ruby-on-rails, osx-mountain-lion, gitlab

我终于让 Gitlab 在 Mountain Lion Server 上运行。

除了文件和提交页面外，一切似乎都运行良好，我总是得到“404 您要查找的资源不存在”。

但是存储库在那里并且不是空的，我可以使用 Git Tower 毫无问题地推拉它。

另一个奇怪的行为是网络选项卡就像一个魅力。

bundle exec rake gitlab:check RAILS_ENV=production 看起来也不错

```
Checking Environment ...

gitlab user is in gitg group? ... yes
Has no "-e" in ~gitolite/.profile ... yes
Git configured for gitlab user? ... yes
Has python2? ... yes
python2 is supported version? ... yes

Checking Environment ... Finished

Checking Gitolite ...

Using recommended version ... no
  Try fixing it:
  We strongly recommend using the version pointed out in the installation guide.
  For more information see:
  doc/install/installation.md in section "Gitolite"
Repo umask is 0007 in .gitolite.rc? ... yes
Allow all Git config keys in .gitolite.rc ... yes
Config directory exists? ... yes
Config directory owned by gitolite:gitg ... yes
Config directory access is drwxr-x---? ... yes
Repo base directory exists? ... yes
Repo base directory is a symlink? ... no
Repo base owned by gitolite:gitg? ... yes
Repo base access is drwsrws---? ... yes
Can clone gitolite-admin? ... yes
Can commit to gitolite-admin? ... yes
post-receive hook exists? ... yes
post-receive hook up-to-date? ... yes
post-receive hooks in repos are links: ... 
Groz Beckert Company Presentation Standalone App ... ok
Git config in repos: ... 
Groz Beckert Company Presentation Standalone App ... ok

Checking Gitolite ... Finished

Checking Sidekiq ...

Running? ... yes

Checking Sidekiq ... Finished

Checking GitLab ...

Database config exists? ... yes
Database is SQLite ... no
All migrations up? ... yes
GitLab config exists? ... yes
GitLab config outdated? ... no
Log directory writable? ... yes
Tmp directory writable? ... yes
Init script exists? ... no
  Try fixing it:
  Install the init script
  For more information see:
  doc/install/installation.md in section "Install Init Script"
  Please fix the error above and rerun the checks.
Init script up-to-date? ... can't check because of previous errors
Projects have satellites? ... 
Groz Beckert Company Presentation Standalone App ... yes

Checking GitLab ... Finished 
```

有人有线索吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T12:27:08.863

这可能取决于您正在运行的 GitLab 的确切版本：

[问题 2698](https://github.com/gitlabhq/gitlabhq/issues/2698)仅在 20 天前由[问题 2602](https://github.com/gitlabhq/gitlabhq/issues/2602)解决，似乎表明在子域中使用 gitlab 时出现问题，并带有相关地址链接：

```
 http://dev.mysite.com:81/gitlab/ 
```

# ios - 查找运营商相关消息选项的本地化文本

> ID：14809777
> 
> 赞同：1
> 
> 时间：2013-02-11T10:00:02.243
> 
> 标签：ios, localization, imessage

iOS 中有一个依赖于运营商的选项，在**Settings > Messages中称为****“Group Messaging”**。看到这张[图片](http://www.astekblog.com/wp-content/uploads/2012/01/disable-group-mms.png)。

 **我想知道这个选项在瑞典语中的名称是什么，但不幸的是，这个选项不适用于我的运营商，那么我该如何找到它的名称？我当然可以用谷歌翻译直接翻译，但我想知道确切的命名是什么。

有没有办法在 iOS SDK 中浏览字符串或其他东西？

**编辑**：找出哪些运营商支持此选项也很好。我认为至少在瑞典没有运营商支持此选项。在美国，我相信 AT&T 和 Verizon 支持它。**

# android - 如何在 ListView 中获取图像

> ID：14809782
> 
> 赞同：0
> 
> 时间：2013-02-11T10:00:17.470
> 
> 标签：android, image, listview

我正在编写一个*目录应用程序*，其中我正在使用此流程：

**分类 > 产品 > 单品**

我*能够获得包含完整详细信息的类别和产品列表*，例如：名称、描述和价格。

但在这里我面临一个问题。我*没有在 ListView 中获取图像*。既不是类别也不是产品。请告诉我我在哪里失踪。我最近两天都在挣扎。

我正在使用 php 类来生成 JSON，并且我也在使用`ImageLoader`、`FileCache`和类。`MemoryCache``Utils`

`CategoryActivity.java`：

```
public class CategoryActivity extends ListActivity {
    // Connection detector
    ConnectionDetector cd;
    // Alert dialog manager
    AlertDialogManager alert = new AlertDialogManager();
    // Progress Dialog
    private ProgressDialog pDialog;
    // Creating JSON Parser object
    JSONParser jsonParser = new JSONParser();
    ArrayList<HashMap<String, String>> albumsList;
    // albums JSONArray
    JSONArray albums = null;
    // String imagepath;
    LazyAdapter adapter;
    // albums JSON url
    private static final String URL_ALBUMS = "http://^^^^.com/albums.php";
    // ALL JSON node names
    static final String TAG_ID = "id";
    static final String TAG_NAME = "name";
    static final String TAG_DESCRIPTION = "description";
    static final String TAG_IMAGEPATH = "imagepath";
    static final String TAG_SONGS_COUNT = "songs_count";
    public ImageLoader imageLoader;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_category);
        cd = new ConnectionDetector(getApplicationContext());
        // Check for internet connection
        if (!cd.isConnectingToInternet()) {
            // Internet Connection is not present
            alert.showAlertDialog(CategoryActivity.this, "Internet Connection Error",
                    "Please connect to working Internet connection", false);
            // stop executing code by return
            return;

        }
        // Hashmap for ListView
        albumsList = new ArrayList<HashMap<String, String>>();
        // Loading Albums JSON in Background Thread
        new LoadCategories().execute();
        // get listview
        ListView lv = getListView();

        /**
         * Listview item click listener
         * TrackListActivity will be lauched by passing album id
         * */
        lv.setOnItemClickListener(new android.widget.AdapterView.OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> arg0, View view, int arg2,
                long arg3) {
                // on selecting a single album
                // TrackListActivity will be launched to show tracks inside the album
                Intent i = new Intent(getApplicationContext(), ProductListActivity.class);
                // send album id to tracklist activity to get list of songs under that album
                String album_id = ((TextView) view.findViewById(R.id.album_id)).getText().toString();
                i.putExtra("album_id", album_id);
                startActivity(i);
            }
        });
    }

    /**
     * Background Async Task to Load all Albums by making http request
     **/
    class LoadCategories extends AsyncTask<String, String, String> {
        /**
         * Before starting background thread Show Progress Dialog
         **/
        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            pDialog = new ProgressDialog(CategoryActivity.this);
            pDialog.setMessage("Loading Please Wait ...");
            pDialog.setIndeterminate(false);
            pDialog.setCancelable(false);
            pDialog.show();
        }

        /**
         * getting Albums JSON
         **/
        protected String doInBackground(String... args) {
            // Building Parameters
            List<NameValuePair> params = new ArrayList<NameValuePair>();
            // getting JSON string from URL
            String json = jsonParser.makeHttpRequest(URL_ALBUMS, "GET",
                    params);
            // Check your log cat for JSON reponse
            Log.d("Albums JSON: ", "> " + json);
            try {
                albums = new JSONArray(json);
                if (albums != null) {
                    // looping through All albums
                    for (int i = 0; i < albums.length(); i++) {
                        JSONObject c = albums.getJSONObject(i);

                        // Storing each json item values in variable
                        String id = c.getString(TAG_ID);
                        String name = c.getString(TAG_NAME);
                        String description = c.getString(TAG_DESCRIPTION);
                        String image_url = c.getString(TAG_IMAGEPATH);
                        String songs_count = c.getString(TAG_SONGS_COUNT);
                        // creating new HashMap
                        HashMap<String, String> map = new HashMap<String, String>();
                        // adding each child node to HashMap key => value
                        map.put(TAG_ID, id);
                        map.put(TAG_NAME, name);
                        map.put(TAG_DESCRIPTION, description);
                        map.put(TAG_IMAGEPATH,image_url);
                        map.put(TAG_SONGS_COUNT, songs_count);
                        // adding HashList to ArrayList
                        albumsList.add(map);
                    }
                }else{
                    Log.d("Albums: ", "null");
                }
            } catch (JSONException e) {
                e.printStackTrace();
            }
            return null;
        }

        /**
         * After completing background task Dismiss the progress dialog
         **/
        protected void onPostExecute(String file_url) {
            /**
             * Updating parsed JSON data into ListView
             **/
            adapter = new LazyAdapter(
                    CategoryActivity.this, albumsList);
            // updating listview
            setListAdapter(adapter);
            // updating UI from Background Thread
            pDialog.dismiss();

        }
    }
} 
```

* * *

`LazyAdapter.java`：

```
public class LazyAdapter extends BaseAdapter {
    private Activity activity;
    private ArrayList<HashMap<String, String>> data;
    private static LayoutInflater inflater=null;
    public ImageLoader imageLoader; 

    public LazyAdapter(Activity a, ArrayList<HashMap<String, String>> d) {
        activity = a;
        data=d;
        inflater = (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        imageLoader=new ImageLoader(activity.getApplicationContext());
    }

    public int getCount() {
        return data.size();
    }

    public Object getItem(int position) {
        return position;
    }

    public long getItemId(int position) {
        return position;
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        View vi=convertView;
        if(convertView==null)
            vi = inflater.inflate(R.layout.list_item_categories, null);
        TextView id = (TextView)vi.findViewById(R.id.album_id); 
        TextView title = (TextView)vi.findViewById(R.id.album_name); 
        TextView description = (TextView)vi.findViewById(R.id.album_description); 
        TextView cost = (TextView)vi.findViewById(R.id.songs_count); 
        ImageView thumb_image=(ImageView)vi.findViewById(R.id.list_image); 

        HashMap<String, String> item = new HashMap<String, String>();
        item = data.get(position);

        // Setting all values in listview
        id.setText(item.get(CategoryActivity.TAG_ID));
        title.setText(item.get(CategoryActivity.TAG_NAME));
        description.setText(item.get(CategoryActivity.TAG_DESCRIPTION));
        cost.setText(item.get(CategoryActivity.TAG_SONGS_COUNT));
        imageLoader.DisplayImage(item.get(CategoryActivity.TAG_IMAGEPATH), thumb_image);
        return vi;
    }
} 
```

* * *

`albums.php`：

```
<?php
    /*
     * Simple JSON generation from static array
     * Author: JSR
     */

    include_once './data.php';
    $albums = array();

    // looping through each album
    foreach ($album_tracks as $album) {
        $tmp = array();
        $tmp["id"] = $album["id"];
        $tmp["name"] = $album["album"];
        $tmp["description"] = $album["detail"];
        $tmp["imagepath"] = $album["imageurl"];
        $tmp["songs_count"] = count($album["songs"]);

        // push album
        array_push($albums, $tmp);
    }

    // printing json
    echo json_encode($albums);
?> 
```

* * *

`data.php`：

```
<?php
    /*
     * Simple JSON generation from static array
     * Author: JSR
     */
    $album_tracks = array(
        1 => array(
            "id" => 1,
            "album" => "Appetizers",
            "detail" => "All appetizers served with mint and tamarind chutneys.",
            "imageurl" => "http://www.libpng.org/pub/png/img_png/pnglogo-blk-sml1.png",
            "songs" => array(
                array("id" => 1, "name" => "Achari Paneer", "description" => "Achari Paneer is flavorful, healthy and high in protein. Paneer is an Indian cheese, also known as chenna. Achari paneer is very versatile and can be served as an appetizer or as an accompaniment to a main course.", "imagepath" => "http://www.manjulaskitchen.com/blog/wp-content/uploads/asparagus_with_ginger-100x75.jpg", "duration" => "3.95")
            )
        )
    );
?> 
```

* * *

`ImageLoader.java`：

```
public class ImageLoader {
    MemoryCache memoryCache = new MemoryCache();
    FileCache fileCache;
    private Map<ImageView, String> imageViews=Collections.synchronizedMap(new WeakHashMap<ImageView, String>());
    ExecutorService executorService; 

    public ImageLoader(Context context){
        fileCache = new FileCache(context);
        executorService = Executors.newFixedThreadPool(5);
    }

    final int stub_id = R.drawable.ic_launcher;
    public void DisplayImage(String url, ImageView imageView)
    {
        imageViews.put(imageView, url);
        Bitmap bitmap = memoryCache.get(url);
        if(bitmap != null)
            imageView.setImageBitmap(bitmap);
        else
        {
            queuePhoto(url, imageView);
            imageView.setImageResource(stub_id);
        }
    }

    private void queuePhoto(String url, ImageView imageView)
    {
        PhotoToLoad p = new PhotoToLoad(url, imageView);
        executorService.submit(new PhotosLoader(p));
    }

    private Bitmap getBitmap(String url) 
    {
        File f = fileCache.getFile(url);

        // from SD cache
        Bitmap b = decodeFile(f);
        if(b != null)
            return b;

        // from web
        try {
            Bitmap bitmap = null;
            URL imageUrl = new URL(url);
            HttpURLConnection conn = (HttpURLConnection)imageUrl.openConnection();
            conn.setConnectTimeout(30000);
            conn.setReadTimeout(30000);
            conn.setInstanceFollowRedirects(true);
            InputStream is = conn.getInputStream();
            OutputStream os = new FileOutputStream(f);
            Utils.CopyStream(is, os);
            os.close();
            bitmap = decodeFile(f);
            return bitmap;
        } catch (Exception ex) {
            ex.printStackTrace();
            return null;
        }
    }

    //decodes image and scales it to reduce memory consumption
    private Bitmap decodeFile(File f){
        try {
            //decode image size
            BitmapFactory.Options o = new BitmapFactory.Options();
            o.inJustDecodeBounds = true;
            BitmapFactory.decodeStream(new FileInputStream(f),null,o);

            //Find the correct scale value. It should be the power of 2.
            final int REQUIRED_SIZE=70;
            int width_tmp = o.outWidth, height_tmp = o.outHeight;
            int scale = 1;
            while(true) {
                if(width_tmp/2<REQUIRED_SIZE || height_tmp/2<REQUIRED_SIZE)
                    break;
                width_tmp /= 2;
                height_tmp /= 2;
                scale *= 2;
            }

            //decode with inSampleSize
            BitmapFactory.Options o2 = new BitmapFactory.Options();
            o2.inSampleSize = scale;
            return BitmapFactory.decodeStream(new FileInputStream(f), null, o2);
        } catch (FileNotFoundException e) {}
        return null;
    }

    // Task for the queue
    private class PhotoToLoad
    {
        public String url;
        public ImageView imageView;
        public PhotoToLoad(String u, ImageView i){
            url = u;
            imageView = i;
        }
    }

    class PhotosLoader implements Runnable {
        PhotoToLoad photoToLoad;
        PhotosLoader(PhotoToLoad photoToLoad){
            this.photoToLoad = photoToLoad;
        }

        public void run() {
            if(imageViewReused(photoToLoad))
                return;
            Bitmap bmp = getBitmap(photoToLoad.url);
            memoryCache.put(photoToLoad.url, bmp);
            if(imageViewReused(photoToLoad))
                return;
            BitmapDisplayer bd = new BitmapDisplayer(bmp, photoToLoad);
            Activity a = (Activity)photoToLoad.imageView.getContext();
            a.runOnUiThread(bd);
        }
    }

    boolean imageViewReused(PhotoToLoad photoToLoad){
        String tag=imageViews.get(photoToLoad.imageView);
        if(tag == null || !tag.equals(photoToLoad.url))
            return true;
        return false;
    }

    // Used to display bitmap in the UI thread
    class BitmapDisplayer implements Runnable
    {
        Bitmap bitmap;
        PhotoToLoad photoToLoad;
        public BitmapDisplayer(Bitmap b, PhotoToLoad p){bitmap=b;photoToLoad=p;}
        public void run()
        {
            if(imageViewReused(photoToLoad))
                return;
            if(bitmap != null)
                photoToLoad.imageView.setImageBitmap(bitmap);
            else
                photoToLoad.imageView.setImageResource(stub_id);
        }
    }

    public void clearCache() {
        memoryCache.clear();
        fileCache.clear();
    }
} 
```

# android - 以编程方式获取日志猫数据

> ID：14809784
> 
> 赞同：2
> 
> 时间：2013-02-11T10:00:19.170
> 
> 标签：android, android-logcat

我想以编程方式获取 logcat 数据我使用了下面的代码

```
 StringBuilder debuglog=new StringBuilder();
        try {
            Process process = Runtime.getRuntime().exec("logcat -d");
            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));
            String line;

            while ((line = bufferedReader.readLine()) != null) {

                debuglog.append(line);
                debuglog.append("\r\n");
            }
            } catch (IOException e) {
                e.printStackTrace();
            } 
```

上面的代码工作正常

此行`"logcat -d`“显示 -d,-w,-i 消息

但是，我的问题是我想显示 -e 消息

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T10:17:40.770

要仅获取 ERROR，请使用以下命令：

```
Process process = Runtime.getRuntime().exec("logcat -d *:E"); 
```

# php - 致命错误：未捕获的异常 'PDOException' 带有消息 'SQLSTATE[HY000]: General error' in

> ID：14809785
> 
> 赞同：3
> 
> 时间：2013-02-11T10:00:23.477
> 
> 标签：php, mysql, pdo, fetch, fetchall

我有这个功能，它一直发出错误“致命错误：未捕获的异常'PDOException'，消息'SQLSTATE [HY000]：一般错误'在......”错误将我引导到“$row = $q2”行->fetchAll(PDO::FETCH_OBJ);"。我已经搜索了吨以寻找解决方案，但无济于事。我的代码似乎与 php 文档中给出的示例格式相同...

这是根据 TML 的建议更新的功能：

```
//gets a record by id and sets object properties to it's values
function getById($sid) {
    global $conf, $pdo;
    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);

    //checks to see if a record exists for the given id
    try {
        $stmt  = $pdo->prepare('Use ' . $conf['database'] . '; select mem_id as "_id", mem_name as "_name", mem_info as "_info",
                                mem_password as "_password", mem_email as "_email", mem_image as "_image",
                                mem_group as "_group"
                                from ' . $conf['prefix'] . 'members
                                where mem_id = ?;');
        echo"85 <br />";
        $stmt->execute(array($sid));
        echo"86 <br />";
        $rows = $stmt->fetchAll(PDO::FETCH_OBJ);
        echo"90 <br />";
        print_r($rows);
        if (count($rows) !== 1) {
            throw new Exception("Some exception here");
        }
        foreach($rows[0] as $field=>$value) {
            $this->$field = $value;
            echo"97 <br />";
        }
    } catch (PDOException $e) {
        echo"something went wrong! " . var_dump($e);
    }
} 
```

var_dump 输出：

```
object(PDOException)[4]
  protected 'message' => string 'SQLSTATE[HY000]: General error' (length=30)
  private 'string' (Exception) => string '' (length=0)
  protected 'code' => string 'HY000' (length=5)
  protected 'file' => string 'D:\wamp\www\testing\scripts\Kantan\classes\Member.php' (length=53)
  protected 'line' => int 86
  private 'trace' (Exception) => 
    array (size=2)
      0 => 
        array (size=6)
          'file' => string 'D:\wamp\www\testing\scripts\Kantan\classes\Member.php' (length=53)
          'line' => int 86
          'function' => string 'fetchAll' (length=8)
          'class' => string 'PDOStatement' (length=12)
          'type' => string '->' (length=2)
          'args' => 
            array (size=1)
              ...
      1 => 
        array (size=6)
          'file' => string 'D:\wamp\www\testing\scripts\Kantan\test.php' (length=43)
          'line' => int 5
          'function' => string 'getById' (length=7)
          'class' => string 'Member' (length=6)
          'type' => string '->' (length=2)
          'args' => 
            array (size=1)
              ...
  private 'previous' (Exception) => null
  public 'errorInfo' => 
    array (size=1)
      0 => string 'HY000' (length=5)
  public 'xdebug_message' => string '<tr><th align='left' bgcolor='#f57900' colspan="5"><span style='background-color: #cc0000; color: #fce94f; font-size: x-large;'>( ! )</span> PDOException: SQLSTATE[HY000]: General error in D:\wamp\www\testing\scripts\Kantan\classes\Member.php on line <i>86</i></th></tr>
<tr><th align='left' bgcolor='#e9b96e' colspan='5'>Call Stack</th></tr>
<tr><th align='center' bgcolor='#eeeeec'>#</th><th align='left' bgcolor='#eeeeec'>Time</th><th align='left' bgcolor='#eeeeec'>Memory</th><th align='left' bgcolor='#eeeee'... (length=1472) 
```

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:33:30.667

编写上述代码的一种更好的方法 - 并且可能会解决您的问题 - 可能看起来像这样：

```
//gets a record by id and sets object properties to it's values
function getById($sid) {
    global $conf, $pdo;
    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);

    //checks to see if a record exists for the given id
    try {
        $stmt  = $pdo->prepare('select mem_id as "_id", mem_name as "_name", mem_info as "_info",
                                mem_password as "_password", mem_email as "_email", mem_image as "_image",
                                mem_group aS "_group"
                                from members
                                where mem_id = ?');
        $stmt->execute(array($sid));

        $rows = $stmt->fetchAll(PDO::FETCH_OBJ);
        if (count($rows) !== 1) {
            throw new Exception("Some exception here");
        }
        foreach($rows[0] as $field=>$value) {
            $this->$field = $value;
        }
    } catch (PDOException $e) {
        /* handle errors in useful way, don't just die() */
    }
} 
```

需要注意的一些差异：

1.  两次查询数据库似乎没有任何理智的理由。
2.  您上面的代码忽略了使用 PDO 准备好的语句的主要好处之一 - 即查询的参数化。
3.  “or die()”会留下糟糕的用户体验——更优雅地处理错误。我在这里的示例中使用了异常处理，但这肯定不是唯一的方法；由于您的 setAttribute 调用，我只是默认为它。
4.  虽然我在这里保留了您的全局变量，但您确实应该考虑放弃使用“全局”，因为它通常被认为是非常糟糕的做法。谷歌的一点点工作应该会出现许多讨论原因的文章，但得墨忒耳法则是一个很好的起点。
5.  所有这些“使用”电话都没有理由；PDO 对象已经为您携带了该信息。

Freenode 的##PHP 的成员为 PDO 编写了一个[教程](http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers)，您可能想在进一步深入之前查看它。

# oracle11g - 在存储过程中使用 with 子句

> ID：14809791
> 
> 赞同：-1
> 
> 时间：2013-02-11T10:00:38.133
> 
> 标签：oracle11g

```
 create or replace procedure proc
  as
begin
declare
time_to_stay number(3):=90
   with date_partitions as
  (select dbms_xmlgen.getxmltype('
    select p.table_owner, 
   p.table_name, 
   p.high_value
    from   all_part_key_columns k, 
   all_tab_cols c, 
   all_tab_partitions p
   where  k.owner = c.owner
       and    k.column_name = c.column_name
       and    k.name = c.table_name
       and    k.owner = p.table_owner
       and    k.name = p.table_name
       and    (c.data_type = ''DATE'' or 
       c.data_type like ''TIMESTAMP%'')') 
        as xml
        from   dual)

     SELECT  x.*
        FROM    date_partitions p, 
       xmltable('/ROWSET/ROW'
       passing p.xml
       columns table_owner varchar2(30) 
                 path '/ROW/TABLE_OWNER',
                table_name varchar2(30) 
                path '/ROW/TABLE_NAME',
              high_value varchar2(30) 
                path '/ROW/HIGH_VALUE'
           ) x
                  where   to_date(substr(x.high_value,
                  instr(high_value, '''')+2,
                  19),
             'yyyy-mm-dd hh24:mi:ss') <= sysdate-time_to_stay
          end; 
```

当我执行代码时，我的程序被创建。但不起作用。当我尝试编译该过程时，出现以下错误。错误（7,1）：PLS-00103：在预期以下之一时遇到符号“WITH”：* & = - + ; </ > at in is mod 余数 not rem <> or != or ~= >= <= <> and or like2 like4 likec || 多集成员子多集...

如果我使用开始部分执行此代码，它对我来说很好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:30:49.970

只需使用代码格式化程序，错误就会直接跳到您的眼前。在 的行上`time_to_stay`，你省略了最后的 ;

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T10:35:38.260

你打了几个错字：

即：

你添加的

1.  `DECLARE`. 这对于存储过程是不需要的。

2.  `time_to_stay`在开始块之前需要你的。

3.  上缺少分号`time_to_stay`。

4.  你必须有一个 for 循环，因为这个 sql 可以返回 2+ 行。

这是一个仅将信息输出到缓冲区的示例。

```
SQL>   create or replace procedure proc
  2    as
  3  time_to_stay number(3):=90;
  4  begin
  5     for r_tab in (with date_partitions as
  6                   (select dbms_xmlgen.getxmltype('
  7                      select p.table_owner,
  8                     p.table_name,
  9                     p.high_value
 10                      from   all_part_key_columns k,
 11                     all_tab_cols c,
 12                     all_tab_partitions p
 13                     where  k.owner = c.owner
 14                         and    k.column_name = c.column_name
 15                         and    k.name = c.table_name
 16                         and    k.owner = p.table_owner
 17                         and    k.name = p.table_name
 18                         and    (c.data_type = ''DATE'' or
 19                         c.data_type like ''TIMESTAMP%'')') as xml
 20                      from dual)
 21                  select x.*
 22                    from date_partitions p,
 23                         xmltable('/ROWSET/ROW' passing p.xml columns table_owner varchar2(30) path
 24                                   '/ROW/TABLE_OWNER', table_name varchar2(30) path '/ROW/TABLE_NAME',
 25                                   high_value varchar2(30) path '/ROW/HIGH_VALUE') x
 26                   where to_date(substr(x.high_value, instr(high_value, '''') + 2, 19),
 27                                 'yyyy-mm-dd hh24:mi:ss') <= sysdate - time_to_stay)
 28    loop
 29      dbms_output.put_line(r_tab.table_owner||','||r_tab.table_name||','||r_tab.high_value);
 30    end loop;
 31  end;
 32  /

Procedure created. 
```

# c# - 读取事件日志时出错驻留在远程系统中

> ID：14809798
> 
> 赞同：1
> 
> 时间：2013-02-11T10:00:48.497
> 
> 标签：c#, .net, event-log

如何使用 .net 中的 System.Diagnostics.EventLog 读取驻留在同一网络上的远程计算机上的事件日志。如果我给出自己的（本地）计算机名称，它工作正常。但我不知道如何传递远程计算机名称。

```
 EventLog Logs = new EventLog("Application","."); 
```

“。” 是本地计算机名称。如何访问名为“venus”的计算机上的日志。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T20:10:24.010

EventLog Logs = new EventLog("Application","RemotePcMachineName");

# regex - 查找不包含字符串的文件

> ID：14809800
> 
> 赞同：12
> 
> 时间：2013-02-11T10:00:55.053
> 
> 标签：regex, linux, grep

要在当前文件夹中查找所有包含“foo”的文件，我使用：

```
grep -r "foo" . 
```

要在当前文件夹中查找所有包含“bar”的文件，我使用：

```
grep -r "bar" . 
```

但是如何找到所有不包含 'foo' 和 'bar' 的文件呢？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-02-11T10:02:26.727

要打印不包含某些字符串的**行**`-v`，请使用以下标志：

```
grep -r -v "bar" . | grep -v "foo" 
```

这将为您提供所有**不**包含`foo`or的行`bar`。

要打印不包含某些字符串的**文件**`-L`，请使用该标志。要不匹配多个字符串，您可以使用带有`-P`标志的正则表达式（您可以使用几个正则表达式标志）：

```
grep -r -L -P "(foo|bar)" . 
```

这将打印不包含`foo`或的文件列表`bar`。

感谢[Anton Kovalenko](https://stackoverflow.com/users/1947008/anton-kovalenko)指出这一点。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2018-02-08T13:09:09.120

递归搜索目录中不包含 XYZ 的所有文件

```
find . -type f | xargs grep -L "XYZ" 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-11T10:22:59.843

试试这个：

```
 grep  -L -e  "foo\|bar" * 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-11T10:15:33.167

试试下面的。这应该工作

> grep -rL -P "(foo|bar)" 。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-11T10:11:10.640

使用 awk，类似于：

```
awk 'BEGIN {f=ARGV[1] ; ff=0} f != FILENAME { if ( ff>0 ) { print f } ; ff=0 ; f=FILENAME } /SEARCHSTRING/ {ff=1} END {if ( ff>0 ) { print f } }' INPUT_FILE_LIST(PATTERN) 
```

基本上它会读取每个输入文件，如果看到您的`SEARCHSTRING`（可以是正则表达式），它会保存该信息。在完成当前文件之后（或在最后一个文件之后），检查它是否找到了某些东西，如果是，则打印之前的文件名。

# php - 如果 X 功能不成功，请执行 Y

> ID：14809804
> 
> 赞同：1
> 
> 时间：2013-02-11T10:01:12.100
> 
> 标签：php

我需要知道我刚刚运行的功能是否不成功。以下是有问题的功能及其执行方式。

我知道如何通过在函数中设置一个变量并检查它是否存在来做到这一点，但不确定这是最佳实践。

```
//Update users function
function update($db, $fn, $ln, $email, $offers, $vlue, $responce)
{
    $stmt = $db->prepare("insert into kkt (fName_765, lName_765, email_765, signup_765, kkt_resp_765, stamp_765) values (:fname, :lname, :email, :signup, NOW())");

    $parameters = array(
        ':fname' => $fn,
        ':lname' => $ln,
        ':email' => $email,
        ':signup' => $offers);

    $stmt->execute($parameters);
    print $db->lastInsertId(); //show ID
    return true;
}

//Test Attributes
$fn = 'test';
$ln = 'test';
$email = 'tesst@test,com';
$offers = '1';

try {
    update($db, $fn, $ln, $email, $offers);
}
catch (PDOException $e) {
    echo "no update there is a slight problem " . $e->getMessage();
} 
```

如果不成功，我将使用 try catch 通过电子邮件通知自己，但我应该将我要向用户展示的代码放在这里还是最好写一些其他的东西来保持它的整洁？

感谢您的所有评论 - 最终代码现已在 CR 处结束：[https ://codereview.stackexchange.com/questions/21481/pdo-connection-prep-and-execute-in-there-own-functions](https://codereview.stackexchange.com/questions/21481/pdo-connection-prep-and-execute-in-there-own-functions)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T10:10:15.220

在 PHP 中，你可以用三种不同的方式来处理它，它们都被认为是好的，因为 PHP 本身都使用它们（这看起来确实令人困惑）。您可以在错误时返回 false （并处理其返回结果）：

```
function update($db, $fn, $ln, $email, $offers, $vlue, $responce) {
    try {
        ...
    } catch (PDOException $e) {
        return false;
    }
} 
```

您可以触发错误（并通过错误处理程序中的电子邮件通知自己）：

```
function update($db, $fn, $ln, $email, $offers, $vlue, $responce) {
    try {
        ...
    } catch (PDOException $e) {
        trigger_error("...", E_USER_WARNING);
    }
} 
```

或者您可以抛出自己的异常（并在捕获时发送电子邮件）：

```
function update($db, $fn, $ln, $email, $offers, $vlue, $responce) {
    try {
        ...
    } catch (PDOException $e) {
        throw new Exception("...");
    }
} 
```

这并不重要。但通常建议的是：

*   当您设法以某种方式恢复错误或者它是不应停止整个程序的错误时，您使用异常
*   `is_*`仅在真正需要（对于函数类型）而不是错误时才使用 bool 返回值
*   `trigger_error`当你想停止整个程序的执行时使用

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T10:05:59.377

您可以`if(function())`用来检查函数是否成功执行。`true`它在or中返回布尔标志`false`。

```
if(update("test","test","test@test,com",1))
{ 
   //successful 
}
else
{ 
   //callfunction2() 
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T10:08:46.600

我认为您可以在函数中使用 try-catch：

```
function update($db, $fn, $ln, $email, $offers, $vlue, $responce)
{
    $stmt = $db->prepare("insert into kkt (fName_765, lName_765, email_765, signup_765, kkt_resp_765, stamp_765) values (:fname, :lname, :email, :signup, NOW())");

    $parameters = array(
        ':fname' => $fn,
        ':lname' => $ln,
        ':email' => $email,
        ':signup' => $offers);

    try {
       $stmt->execute($parameters);
       print $db->lastInsertId(); //show ID
       return true;
    } catch(Exception $ex) {
       //log, or pirint error message
       //or return 0
       return false;
    }

} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-11T10:09:13.590

```
try {
    $result=update($db, $fn, $ln, $email, $offers);
    if(!$result)
        throw new Exception("Query not succesful!");
}
catch (PDOException $e) {
    mail("what","ever","you","want");
    echo "no update there is a slight problem " . $e->getMessage();
} 
```

# c# - Web服务控制器设计

> ID：14809811
> 
> 赞同：1
> 
> 时间：2013-02-11T10:01:43.450
> 
> 标签：c#, service, web, xamarin.ios

在用 MonoTouch C# 编写的 iOS 应用程序的初始屏幕中，我调用了许多 Web 服务，然后这些服务调用另一个 Web 服务，直到收集到我需要的所有数据以供应用程序运行。我正在异步执行此操作，以便可以向用户显示活动指示器。

但是我觉得代码很乱，所有这些调用和回调都在 ViewController 中。我想要一种分离方法，以便 ViewController 只关心返回的结果，但我需要一种方法让 ViewController 停止，直到调用完成。

目前，我的代码看起来有点像这样：

```
protected void FirstServiceCompleted(object sender, FirstServiceCompletedEventArgs e)
{
    // Do something
    _servicesHelper.GetSecondService(GetSecondServiceCompleted);
}

protected void SecondServiceCompleted(object sender, SeconServiceCompletedEventArgs e)
{
    // Do something else
    _servicesHelper.GetThirdService(GetThirdServiceCompleted);
}

... etc 
```

如果有一种方法可以让我的 ViewController 通过另一个对象从事件 args 中检索数据，而在幕后使用这段代码，那就太好了。在所有这些调用结束时，我切换到一个新视图以显示填充了这些数据的主主屏幕。但是我的 ViewController 看起来很臃肿，并且有很多这样的重复调用。

任何帮助或建议将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T10:59:55.850

我认为查看 TPL - Task Parallel Library 可能对您有用 - 这正好解决了您正在谈论的那种异步处理。

将 Task 与 ContinueWith 和 WaitAll 一起使用，我相信您会找到一种清理代码流的方法。

如果您搜索，您会发现数百个入门链接 - 例如[http://www.codeguru.com/columns/experts/article.php/c17197/Understanding-Tasks-in-NET-Framework-40-Task-并行库.htm](http://www.codeguru.com/columns/experts/article.php/c17197/Understanding-Tasks-in-NET-Framework-40-Task-Parallel-Library.htm)

* * *

建立在 TPL 之上，在不久的将来，您还可以使用 c# 的新 await/async 功能 - 但这些现在不适用于 MonoTouch。

# authentication - 将模式识别应用于恶意尝试的用户身份验证

> ID：14809812
> 
> 赞同：2
> 
> 时间：2013-02-11T10:01:43.850
> 
> 标签：authentication, login, machine-learning, pattern-recognition

为了加强身份验证机制（网络），我想为每次尝试记录用户指纹并应用模式识别来区分恶意尝试。例如，如果用户总是从欧洲计算机登录并且尝试从中国进行登录，则用户将被阻止，直到用户确认（例如通过电子邮件）允许从中国登录。

我在大学课程中对模式识别的了解非常非常少。但是，我想不起开始开发这项服务了。我所知道的是，您应该查看这些不同的功能：

1.  浏览器代理字符串，产生：
    *   操作系统
    *   浏览器供应商
2.  IP地址，产生：
    *   地点
3.  登录时间戳
4.  （失败的）尝试次数（在会话内，或总数）

您搜索模式并且任何非同寻常的尝试都会被标记，因为它不遵循平均模式。您可能会应用一个阈值，因此如果用户在晚上登录或拥有一台新 PC，它仍然可以工作。

还有一些要求：首先，必须实时检查尝试。如果凭据正常，您将无法在 2 分钟后阻止访问，但您后来发现该尝试可能是恶意的。此外，我们所有的应用程序都是用 PHP 编写的，但 PHP 可能太慢了。那时我更喜欢使用 Python，但随后还需要绑定到 Python。

所以问题是：从哪里开始？实现这一目标的最佳方法是什么？我可以将所有数据记录在像 Redis 这样的密钥存储或像 Mongo 这样的基于文档的存储中。我将如何设计一项服务，允许针对大量已知的其他尝试验证具有某些功能的新尝试？并及时返回尝试是否与平均值匹配，例如 250 毫秒。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T10:17:07.773

您想要做的称为异常检测 -[维基百科](http://en.wikipedia.org/wiki/Anomaly_detection)是一个很好的起点。作为第一次尝试，您可能想尝试集群：

*   您将需要一个数据集。好消息是集群是无监督的，因此您不必将大量登录尝试标记为常规或恶意。
*   对于给定的用户，保留他们过去 N 次登录的历史记录（大哥警告！）以及这些登录的功能。您列出的功能是一个好的开始，但您可以考虑更多。
*   应用聚类算法来估计平均登录情况。对于每次新尝试，您都可以计算与平均值的距离，并确定它是否看起来是恶意的。

另一方面，你可以在不学习的情况下走很长的路。我的直觉是登录的位置，失败的尝试次数将使您大部分时间到达那里。一个简单的 if-else 可能就足够了。

# c# - 进程中的这些线程数是否正常？

> ID：14809815
> 
> 赞同：2
> 
> 时间：2013-02-11T10:01:57.083
> 
> 标签：c#, multithreading

当我的 asp.net 应用程序启动时，我在一个进程中关联了大约 40 个线程。这是正常的吗？对不起菜鸟问题。实际运行的线程（状态）取决于我机器的核心。例如，在 4 核 pc 上运行时，我得到大约 1-4 个运行线程（并行），一个进程中的线程总数约为 38-42。在 24 核 pc 上运行应用程序时，我仍然得到大约 38-42 个线程。

我的获取运行线程数的代码：

```
((IEnumerable)Process.GetCurrentProcess().Threads)
                .OfType<System.Diagnostics.ProcessThread>()
                .Where(t => t.ThreadState == System.Diagnostics.ThreadState.Running)
                .Count() 
```

获取线程总数的代码：

```
Process.GetCurrentProcess().Threads.Count 
```

有人可以向像我这样的菜鸟解释一下吗..

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T13:40:59.233

您的 ASP.NET 站点在应用程序池中运行，该[应用程序池](http://technet.microsoft.com/en-us/library/cc735247%28v=ws.10%29.aspx)将具有一定数量的线程，并且如果需要可能会产生更多线程。每个请求都在单独的线程中处理，因此 IIS 将保留一些线程等待请求，因为使用现有线程比在需要时启动新线程更快。

IIS 还将在[线程池中](http://msdn.microsoft.com/en-us/library/y5htx827.aspx)有备用线程供您的应用程序使用。

所以是的，IIS 有多个线程是正常的。

# email - CakePHP：通过 SMTP 将邮件发送到 MS OUTLOOK -> SMTP 错误：504 5.7.4 Unrecognized authentication type

> ID：14809816
> 
> 赞同：1
> 
> 时间：2013-02-11T10:02:04.917
> 
> 标签：email, cakephp, outlook, smtp

我想在在这里写问题之前，我会尝试找出是否可以通过 cmd 行发送邮件。所以我按照[这些步骤](http://support.microsoft.com/kb/153119)通过 cmd 向我自己和我的一位同事发送了一封电子邮件，他正在开发与我相同的应用程序。来自 cmd 行的消息以应有的格式出现。

（内部应用程序，应该只向我同事的 OUTLOOK 帐户发送邮件）

一切似乎都很好，所以我认为我的 cakePHP 代码有一个错误：

到目前为止，我在邮件代码上的所有内容都是这样的：

**应用程序/配置/电子邮件.php**

```
public $smtp = array(
    'transport' => 'Smtp',
    'from' => array('from@test.sk'),
    'host' => 'ip_address_of_my_host',
    'port' => 25,
    'timeout' => 30,
    'username' => 'from@test.com',
    'password' => 'password',
    'client' => null,
    'log' => true,
    'charset' => 'utf-8',
    'headerCharset' => 'utf-8',
); 
```

**UsersController.php（测试发送邮件功能）**

```
 public function test_send_email() {
        $this->autoRender = false;
        App::uses('CakeEmail', 'Network/Email');
        $email = new CakeEmail('smtp');
        $email->from(array('from@test.com' => 'APP TEST'));
        $email->to('me@test.com');
        $email->subject('Subject of testing');
        $email->send('Message of testing');
    } 
```

加载 5 秒后，我得到：***SMTP 错误：504 5.7.4 Unrecognized authentication type***

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T13:54:06.923

**解决了：**

我猜 EXCHANGE 不需要身份验证，所以我只是删除了密码参数并且工作正常。

在研究过程中，我发现了这篇文章，所以下一步是联系 EXCHANGE 管理员。

[http://blogs.technet.com/b/exchange/archive/2006/12/28/3397620.aspx](http://blogs.technet.com/b/exchange/archive/2006/12/28/3397620.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-29T00:56:28.400

在 port 上使用 telnet 时，我遇到了同样的错误`25`。更改为 port 后`587`，我​​能够使用经过身份验证的 SMTP。

# ios - 在 Xcode 4.6 中为模拟器构建静态库

> ID：14809825
> 
> 赞同：1
> 
> 时间：2013-02-11T10:02:27.973
> 
> 标签：ios, objective-c, xcode, ios-simulator

如何在**Xcode 4.6**上为模拟器构建静态库？

我试过“ [https://github.com/kstenerud/iOS-Universal-Framework](https://github.com/kstenerud/iOS-Universal-Framework) ”。但是在演示中使用该框架时出错。

错误是这样的：

> ld：警告：忽略文件 /Users/shuvo/test_lib/Demo(V.1)/myProject.lib/libMyProjectLibrary.a，缺少文件 /Users/shuvo/test_lib/Demo(V.1)/myProject 中所需的架构 i386。 lib/libMyProjectLibrary.a（2 片）体系结构 i386 的未定义符号： **“_OBJC_CLASS_$_showScreen”，引用自：** ViewController.o ld 中的 objc-class-ref：未找到体系结构 i386 的符号 clang：错误：**链接器命令退出代码 1 失败（使用 -v 查看调用）**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T13:55:06.060

我遇到了同样的问题，并通过在方案编辑器中将静态库的运行配置设置为发布来解决它。

这是 iOS-Universal-Framework 文档中的“构建您的 iOS 框架”部分中的文字：

> 步骤 2.（可选）在方案编辑器中设置“运行”配置。默认情况下它设置为 Debug，但是当您准备好分发您的框架时，您可能希望将其更改为“Release”。

关键是Build Settings中的“Build Active Architecture Only”，Debug默认设置为NO

# windows-8 - xaml listview 如何禁用滚动空间？

> ID：14809828
> 
> 赞同：0
> 
> 时间：2013-02-11T10:02:35.193
> 
> 标签：windows-8, winrt-xaml

我在一个地铁应用程序上工作，我正在使用 listview listview 自动在右侧放置一些空间用于滚动。在我的代码中不需要滚动我试图禁用它 ScrollViewer.VerticalScrollBarVisibility="Disabled" 或 scrollmode=false 但空间总是出现

有什么办法可以让我消失，因为 listview 突出显示了 over 和 click 模式，而且看起来很糟糕

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T15:58:11.613

通过选择 Edit Additional Templates -> Edit Generated Item Container -> Edit a Copy 创建当前 ListView 样式的副本（参见下面的屏幕截图）。

在模板副本中，修改Margin（下图最后一行）

```
 <Style x:Key="ListViewItemStyle" TargetType="ListViewItem">
        <Setter Property="FontFamily" Value="{StaticResource ContentControlThemeFontFamily}"/>
        <Setter Property="FontSize" Value="{StaticResource ControlContentThemeFontSize}"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="TabNavigation" Value="Local"/>
        <Setter Property="IsHoldingEnabled" Value="True"/>
        <Setter Property="Margin" Value="0,0,18,2"/> 
```

到

```
 <Setter Property="Margin" Value="0" /> 
```

您还需要在 ListView 本身上进行设置（就像`ScrollViewer.VerticalScrollBarVisibility="Hidden"`您之前尝试过的那样（，或者您可以冒险并修改 ListView 本身的模板（编辑模板）并删除`ScrollViewer`并将`ItemsPanelTemplate``StackPanel``VirtualizingStackPanel`

![在此处输入图像描述](../Images/27c4c8b964d0f016477455c80bd17b5b.png)

# java - 拦截器不是从同一个 EJB 中的另一个 EJB 方法触发的

> ID：14809829
> 
> 赞同：5
> 
> 时间：2013-02-11T10:02:42.260
> 
> 标签：java, jakarta-ee, ejb, interceptor

## **设想**

在 2 种方法上的相同 EJB 中的 2x 相同拦截器：

```
...
 @Interceptors(PerformanceAuditor.class)
public Date refreshIfNecessary() {
    // there is also the PerformanceAuditor-Interceptor on this method
    Pair<Date,String> lastImportDate = importDbDAO.findLatestImportLog();

    someContainer.reloadIfNecessary(lastImportDate);
    return lastImportDate.getLeft();
}

@Interceptors(PerformanceAuditor.class)
public boolean checkAndRefreshIfNecessary(final Date importDate) {
    Date lastImportDate = refreshIfNecessary();
    return lastImportDate.after(importDate);
}
... 
```

现在我们在外部调用这个 EJB 的方法，结果如下：

*   调用*refreshIfNecessary()* -> PerformanceAuditor 被调用**2 次**
*   调用*checkAndRefreshIfNecessary()* -> PerformanceAuditor 也被调用了**2 次**！（但**预计 3 次，**因为多了一层嵌套！）

那么这里发生了什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-11T10:02:42.260

答案很简单：

只有当作为“EJB 调用”（即通过它们的 EJB 接口）调用时，拦截器才会“触发”。但是在*checkAndRefreshIfNecessary() 中，对 checkAndRefreshIfNecessary()**的*调用是一个简单的 Java 方法调用，因此不会被容器注意到。

**解决方案：**要在内部调用 EJB 中的方法作为 EJB 调用，您必须通过它的接口进行访问，例如通过注入的 SessionContext 然后通过 *context.getEJBLocalObject()* ... 但这当然不是一个很好的解决方案！在这种情况下，最好重新考虑您的设计！

**PS：**这是一个很好的例子，人们仍然需要了解应用服务器的内部结构。不幸的是，从 EJB3 开始，大多数功能都非常易于使用，以至于越来越多的开发人员不会遇到内部问题，这会更频繁地导致此类错误或至少是糟糕的设计......

# vba - VBA Excel，输入框不匹配为整数

> ID：14809830
> 
> 赞同：9
> 
> 时间：2013-02-11T10:02:42.137
> 
> 标签：vba, excel

我的代码

```
Dim a As Integer
a = InputBox("Enter the number", "Program", "", 7000, 6000)
If a = Empty Then
    ' do code...
Else
    MsgBox "Enter the number."
End If 
```

如果我留下一个空字段，Excel 会返回`Type Mismatch`错误。我想显示一条消息。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-11T10:10:41.617

由于`a`is a `Integer`，它不能包含 a`String`或 be `Empty`。使用 a`Variant`然后检查返回的内容：

```
Dim a As Variant
Dim b As Integer

a = InputBox("Enter the number", "Program", "", 7000, 6000)

If Not IsNumeric(a) Then
    'a is not a number
Else
    'a is a number and can be converted to Integer
    b = CInt(a)
End If 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-11T10:09:16.747

您已`a`定义为`Integer`。`Integer`不能为空。使用`Variant`代替`Integer`：

```
Dim a As Variant
a = InputBox("Enter the number", "Program", "", 7000, 6000)
If a = Empty Then
    ' do code...
Else
    MsgBox "Enter the number."
End If 
```

# mysql - 如何在 SQL 的 3 个特定列中进行 3 个单词输入和搜索？

> ID：14809833
> 
> 赞同：1
> 
> 时间：2013-02-11T10:02:50.313
> 
> 标签：mysql, sql, database, search

我正在尝试制作一个从三列中搜索三个单词的程序。这是我的搜索输入，但我认为这不是正确的方法。

```
 <form action="resultaat.php" method="post"> 
    <b>Typ Postcode:</b> <input type="text" name="term" />
    <b>Typ Huisnummer:</b> <input type="text" name="term2" />
    <b>Typ Toevoeging:</b>  <input type="text" name="term3" />
    <input type="submit" name="submit" value="Zoek" />
 </form> 
```

这是我的 sql 代码：

```
mysql_connect ("localhost", "root","")  or die (mysql_error());
        mysql_select_db ("inboedelmeter");

        $term = $_POST['term'];
        $term2= $_POST['term2'];
        $term3 = $_POST['term3'];

        $sql = mysql_query("select * from inboedelwaarde_adres where Postcode like '$term' and Huisnummer like '$term2' and Toevoeging like '$term3'"); 
```

对我来说，这似乎是正确的方法，但它不起作用..有人可以帮我吗？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:07:15.117

如果您想进行精确搜索，

```
 $sql = mysql_query("select * from inboedelwaarde_adres where Postcode 
 = '$term' and Huisnummer ='$term2' and Toevoeging = '$term3'"); 
```

# opengl-es - 何时确定在 gl_VertexID 中使用的顶点索引

> ID：14809839
> 
> 赞同：0
> 
> 时间：2013-02-11T10:03:01.063
> 
> 标签：opengl-es, glsles

我试图了解 gl_vertexID 在顶点着色器中的行为。为此，我尝试使用两个 glDrawArrays 调用一个接一个地渲染 2 个正方形。并希望在顶点中使用 gl_VertexID 仅将红色应用于一个正方形：

```
out vec4 color;
in vec4 tdk_Vertex;

void main(void)
{
if(gl_VertexID < 4)
{
    color = vec4(1.0f, 0.0f, 0.0f, 1.0f);
}
else
{
    color = vec4(1.0f, 1.0f, 1.0f, 1.0f);
}
gl_Position = tdk_Vertex;
} 
```

将颜色传递给片段着色器。

方坐标为：

```
static GLfloat vertices[] =
       { -0.75f, 0.25f, 0.0f, 1.0f,
         -0.75f, 0.5f,  0.0,  1.0f,
         -0.25f, 0.5f,  0.0f, 1.0f,
         -0.25f, 0.25f, 0.0f, 1.0f,

          0.25f, 0.25f, 0.0f, 1.0f,
          0.25f, 0.5f,  0.0f, 1.0f,
          0.75f, 0.5f, 0.0f,  1.0f,
          0.75f, 0.25f, 0.0f, 1.0f}; 
```

进行绘图调用：

```
for(int i=0; i<8; i+=4)
{
     glDrawArrays(GL_TRIANGLE_FAN, i, 4);
 } 
```

使用 Nvidia 卡，并调用两个 glDrawArrays 调用正在显示预期的结果，即将一个正方形渲染为红色，将另一个渲染为白色。

因此，想知道在 glDrawArrays 调用期间是否应该生成正确的行为或 gl_VertexID 索引，以便两个正方形具有相同的红色？

我正在使用 2 个 glDrawArrays 调用，所以我的理解是根据规范，两个方块都应该是红色的：

[http://www.opengl.org/sdk/docs/manglsl/xhtml/gl_VertexID.xml](http://www.opengl.org/sdk/docs/manglsl/xhtml/gl_VertexID.xml)

想为 glsl 300 es 测试它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T06:31:50.900

在 的情况下`glDrawArrays`，`gl_VertexID`旨在成为缓冲区内顶点的索引。您的第一个绘图调用呈现范围 [0, 4) 上的索引，因此这些是`gl_VertexID`将采用的值。您的第二个绘图调用呈现范围 [4, 8) 上的索引，这些是`gl_VertexID`将采用的值。

# ruby - 使用 bundler 安装 redmine 需要 root 密码

> ID：14809840
> 
> 赞同：2
> 
> 时间：2013-02-11T10:03:02.393
> 
> 标签：ruby, gem, installation, rake, redmine

我正在尝试在我的 CentOS 6.3 服务器上安装 redmine。我创建了一个用户来运行程序，然后我尝试使用命令安装它

```
bundle install --without development test postgresql sqlite rmagick 
```

但它问我密码

```
Fetching gem metadata from http://rubygems.org/.........
Fetching gem metadata from http://rubygems.org/..
Enter your password to install the bundled RubyGems to your system:

Interrupt: An error occurred while installing rake (10.0.3), and Bundler cannot continue.
Make sure that `gem install rake -v '10.0.3'` succeeds before bundling. 
```

当前安装的 gem 列表是：

```
*** LOCAL GEMS ***

bigdecimal (1.1.0)
bundler (1.2.3)
charlock_holmes (0.6.9)
io-console (0.4.1, 0.3)
json (1.7.6, 1.5.4)
minitest (4.6.0, 2.5.1)
rake (10.0.3, 0.9.2.2)
rdoc (3.12.1, 3.9.5) 
```

我没有使用 RVM。如您所见，这些 gem 对所有用户都可用：如果我尝试为我的 redmine 用户和我的 root 用户执行 gem list 命令，我会得到相同的结果。rake 已经安装，所以我不明白问题出在哪里：安装 GitLab 没有问我任何密码

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T10:26:44.327

使用以下命令将它们安装在本地文件夹中：

```
bundle install --without development test postgresql sqlite rmagick --path vendor/bundler 
```

# android - 如何从其他活动中调用特定的选项卡活动

> ID：14809842
> 
> 赞同：0
> 
> 时间：2013-02-11T10:03:07.747
> 
> 标签：android, android-intent, tabs

我在 MaintabActivity 中使用 tabhost 创建了 3 个选项卡；

1.  TaboneActivity
2.  Tabtwo活动
3.  TabthreeActivity

TabtwoActivity 中有一个按钮，当我单击它时，会显示另一个名为 OutofServiceActivity.java 的活动。我的问题是当我试图从 OutofServiceActivity.java 调用 TabtwoActivity 时，它会重定向到 TabtwoActivity 而不会显示标签栏..？有什么问题？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:11:21.547

设置活动时调用`TabHost.setCurrentTab(--tab id here--)`in方法。`onCreate`

# c - PIC18F46J50 EEPROM 读/写

> ID：14809846
> 
> 赞同：-2
> 
> 时间：2013-02-11T10:03:20.297
> 
> 标签：c, embedded, pic18, eeprom, usart

我正在做的项目如下：

我得到了 ADuC7061 的 USART 与 PIC18F46j50 EUSART 连接。aduc7061 不断发送信息，而 pic18f 通过其 eusart0 接收该信息。

现在的问题是我必须将该信息存储在 pic18 的 eeprom 上，然后在对 128x64 图形显示器进行一些操作后显示该信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:40:11.963

[PIC18F46J50](http://ww1.microchip.com/downloads/en/DeviceDoc/39931d.pdf)没有集成 EEPROM 存储器。您有两种选择：

*   使用包含 EEPROM 存储器的 PIC。有关产品选择表，请参见[http://www.microchip.com/ParamChartSearch/chart.aspx?branchID=1004&mid=10&lang=en&pageId=74](http://www.microchip.com/ParamChartSearch/chart.aspx?branchID=1004&mid=10&lang=en&pageId=74)。

*   使用程序闪存。这有一些缺点，例如与 EEPROM 相比，最大写入周期数更少，并且只能按存储区擦除，但根据您的要求可能就足够了。另请参见[为 PIC18 和 PIC24 微控制器仿真数据 EEPROM](http://ww1.microchip.com/downloads/en/appnotes/01095c.pdf)

# iphone - po 对象导致错误：找不到“$__lldb_objc_class”的接口声明

> ID：14809849
> 
> 赞同：11
> 
> 时间：2013-02-11T10:03:37.660
> 
> 标签：iphone, ios, xcode, lldb, llvm-clang

我在调试控制台中有这个奇怪的功能。

假设您有以下代码：

```
anIssue.issueID=[issueDictionary objectForKey:@"uniqueId"]; 
```

issueDictionary 函数的 po 正确：

> { 标题 = "2012 年 12 月"; coverUrl = "htt://toeete.com/CoverURL/77111a51-32d8-4c39-912e-a889bad250e6.png"; downloadUrl = "htt://oetoeto.com/pdfFile/TR 2012 年 12 月 Single.pdf"; “结束日期”=“2013 年 12 月 31 日”；图像 = ( ); “发布日期”=“2013 年 2 月 26 日”；摘要 =“2012 年 12 月号”；uniqueId = "2012 年 12 月_1"; 更新=“2013 年 2 月 11 日”；}

但是，每当我尝试打印“anIssue.issueID”或“[issueDictionary objectForKey:@"uniqueId"]”的对象时，它都会失败：错误：找不到'$__lldb_objc_class'的接口声明

说：

> po [问题问题ID]

或者

> po [issueDictionary objectForKey:@"uniqueId"]

两者都因错误而失败......虽然如果我

> 问题

成功了！！！！！！！！

> : ID=2012 年 12 月_1 标题=2012 年 12 月发布=2013-02-25 22:00:00 +0000 免费=是 描述=2012 年 12 月发行

任何的想法

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-14T10:11:25.150

正如特洛伊木马所指出的那样，这似乎是一个错误......请参阅：[devforums.apple.com/message/758329#758329](http://devforums.apple.com/message/758329#758329)

请考虑在我的问题下支持他的评论。谢谢

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-17T23:00:59.607

Xcode 4.6.1 was released a couple of days ago and a couple of problems that would lead to people getting `cannot find interface declaration for '$__lldb_objc_class'` have been resolved. Please try updating to Xcode 4.6.1 if you're seeing this problem.

# jboss - JBoss AS 7.1 虚拟主机部署

> ID：14809851
> 
> 赞同：1
> 
> 时间：2013-02-11T10:03:39.543
> 
> 标签：jboss, jboss7.x, virtualhost

我有这个工作配置：

jboss-web.xml（在 WAR 中）：

```
<?xml version="1.0" encoding="UTF-8"?>
<jboss-web>
    <security-domain>java:/jaas/effebi</security-domain>
    <context-root>/</context-root>
</jboss-web> 
```

Standalone.xml（在 JBoss conf 中）：

```
<subsystem xmlns="urn:jboss:domain:web:1.1" default-virtual-server="default-host" native="false">
            <connector name="http" protocol="HTTP/1.1" scheme="http" socket-binding="http"/>
            <virtual-server name="default-host" enable-welcome-root="false" default-web-module="test">
                <alias name="localhost"/>
                <alias name="www.test.com"/>
            </virtual-server>
        </subsystem> 
```

我需要在“/”上下文根中部署另一个应用程序（例如 www.foo.bar）。

我在文档中读到我需要定义虚拟主机以同时拥有两个“/”根上下文。所以在 jboss-web.xml 中：

```
<virtual-host>localhost</virtual-host>
<virtual-host>www.test.com</virtual-host> 
```

这导致：

> JBAS014775：新的缺失/不满足的依赖项：服务 jboss.web.host."www.test.com"（缺少）依赖项：[service jboss.web.deployment."www.test.com"./]
> 
> 11:01:23,015 错误 [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) {"JBAS014653: 复合操作失败并已回滚。失败的步骤：" => {"操作步骤- 2" => {"JBAS014771: 依赖缺失/不可用的服务" => ["jboss.web.deployment.\"www.test.com\"./jboss.web.host.\"www.test.com\ "缺少[jboss.web.deployment.\"www.test.com\"./jboss.web.host.\"www.test.com\"]"]}}}

有人可以帮我吗？JBoss 社区并没有真正提供帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T08:24:47.717

标记应指向虚拟服务器“名称”，而不是域。我写了一篇博客：http: [//fabiobozzo.wordpress.com/2013/02/25/multiple-web-applications-with-jboss-and-apache/](http://fabiobozzo.wordpress.com/2013/02/25/multiple-web-applications-with-jboss-and-apache/)

# websphere - 如何使用 JConsole 更改 Websphere 中的日志记录设置？

> ID：14809855
> 
> 赞同：0
> 
> 时间：2013-02-11T10:03:46.097
> 
> 标签：websphere, jmx

如何使用 JConsole 更改 Websphere 中的日志记录设置？我需要设置日志记录级别。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T02:30:53.230

我不相信 JConsole 受支持（它与产品内部的 JMX 服务器冲突）。相反，您可以在连接的 wsadmin 会话中使用 AdminControl，然后可以使用 TraceService MBean 的 appendTraceString 方法。

# php - 表格行和表格数据同时循环

> ID：14809858
> 
> 赞同：0
> 
> 时间：2013-02-11T10:03:49.257
> 
> 标签：php, loops, for-loop

我有一个关于表数据和表行中的循环的问题。就像它的电子表格有 100 行然后来自 AZ 的数据，是否可以将表行循环 100 次然后在内部，表数据来自 AZ？

感谢您提供任何信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-12-12T07:42:12.857

这个问题相当古老，但为了将来参考，我将回答它。当您提到“数据”时，在我看来您是在说列内容，也就是列。

您概念化访问数据的方式是问题所在。您需要遍历行：

```
$query = "select * from some_table";
while($row = $query->fetch(PDO::ASSOC))
{
    for ($i = 0; $i < count($row) - 1; $i++) {
        // Here you index the column data contents, similar to excel A-Z
        echo $row[$i];
    }    
} 
```

# c# - Linq 包含在一个查询中

> ID：14809860
> 
> 赞同：3
> 
> 时间：2013-02-11T10:03:53.173
> 
> 标签：c#, linq, nhibernate

我有一个列表，我想写一个关于列表 ids 的查询包含特定的表 id。

我写这个并运行真实，但我想在同一个查询中写所有..

```
List<int> tempList=yetkiUygulamaList.Select(y => y.Id).ToList();
query = query.Where(x => tempList.Contains(x.Uygulama.Id)); 
```

错误查询

```
query = query.Where(x => yetkiUygulamaList.Select(y =>y.Id).ToList().Contains(x.Uygulama.Id)); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T13:20:52.780

ToList() 通过执行查询来实现，之后 NHibernate 无法理解第一个查询应该作为子查询包含在内。

只需删除无用的 ToList()：

```
IQueryable<int> tempList = yetkiUygulamaList.Select(y => y.Id);  // removed here
query = query.Where(x => tempList.Contains(x.Uygulama.Id)); 
```

上面的代码将生成一个 SQL 查询。如果你想把它全部放在一个 C# 代码行中，只需去掉中间变量：

```
query = query.Where(x => yetkiUygulamaList.Select(y => y.Id).Contains(x.Uygulama.Id)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T13:28:23.570

这必须有效

```
query = query.Where(x => yetkiUygulamaList.Any(y=>y.Id == x.Uygulama.Id)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T13:33:52.463

您可以执行**join**，它会更简单，更适合您的情况。

如果我理解，`query`是一个包含属性的类（我们称之为**`AObj`**）的“集合”，`Uygulama`并且该类`Uygulama`包含一个属性`Id`并且`yetkiUygulamaList`是一个“集合”`Uygulama`

```
//will return a IEnumerable<AObj>
IEnumerable<AObj> query = query.Join(yetkiUygulamaList, a => a.Uygulama.Id, u => u.Id, (a,u)=>a); 
```

# c# - 与 Entity Framework Fluent API 的一对一关系

> ID：14809861
> 
> 赞同：7
> 
> 时间：2013-02-11T10:04:00.060
> 
> 标签：c#, entity-framework, ef-code-first, ef-fluent-api

我在我的一个实体上进行反向导航时遇到问题。

我有以下两个对象：

```
public class Candidate
{
    [Key, DatabaseGenerated(DatabaseGeneratedOption.Identity)]
    public long CandidateId { get; set; } 
    ....

    // Reverse navigation
    public virtual CandidateData Data { get; set; }
    ...

    // Foreign keys
    ....
}

public class CandidateData
{
    [Key, DatabaseGenerated(DatabaseGeneratedOption.Identity)]
    public long CandidateDataId { get; set; }

    [Required]
    public long CandidateId { get; set; }

    // Foreign keys
    [ForeignKey("CandidateId")]
    public virtual Candidate Candidate { get; set; }
} 
```

现在我在 CandidateData 对象上的外键导航工作正常。我无法让候选对象的反向导航正常工作（如果可能的话）。

这是我的 OnModelCreating 函数：

```
protected override void OnModelCreating(DbModelBuilder modelBuilder)
{
    modelBuilder.Conventions.Remove<PluralizingTableNameConvention>();

    modelBuilder.Entity<Candidate>()
        .HasOptional(obj => obj.Data)
        .WithOptionalPrincipal();

    base.OnModelCreating(modelBuilder);
} 
```

除了在数据库中我得到两个链接到 CandidateId 的列之外，它已经接近工作了。我从 POCO 对象中得到了一个，我得到了另一个列 Candidate_CandidateId，我假设它是由模型构建器创建的。

我此刻安静的迷失了。有人可以说明发生了什么吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-11T11:10:25.730

一对一问题.... 问题是 EF 和 CODE 首先，当 1:1 时，依赖项具有引用主体的主键。尽管您可以以其他方式定义数据库，并且实际上使用数据库，您甚至可以在主数据库上拥有 OPTIONAL FK。EF 首先在代码中做出此限制。够公平的，我想...

试试这个：IS已经添加了一些**意见**，如果你不同意，你可能会**忽略**:-)

```
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;
using System.Data.Entity;
namespace EF_DEMO
{
class FK121
{
    public static void ENTRYfk121(string[] args)
    {
        var ctx = new Context121();
        ctx.Database.Create();
        System.Console.ReadKey();
    }
}
public class Candidate
{
    [Key, DatabaseGenerated(DatabaseGeneratedOption.Identity)]// best in Fluent API, In my opinion..
    public long CandidateId { get; set; }
 //   public long CandidateDataId { get; set; }// DONT TRY THIS... Although DB will support EF cant deal with 1:1 and both as FKs
    public virtual CandidateData Data { get; set; }  // Reverse navigation

}
public class CandidateData 
{
    [Key, DatabaseGenerated(DatabaseGeneratedOption.Identity)] // best in Fluent API as it is EF/DB related 
    public long CandidateDataId { get; set; }   // is also a Foreign with EF and 1:1 when this is dependent
   // [Required]
   // public long CandidateId { get; set; }   // dont need this... PK is the FK to Principal in 1:1
   public virtual Candidate Candidate { get; set; } // yes we need this
}
public class Context121 : DbContext
{
    static Context121()
    {
        Database.SetInitializer(new DropCreateDatabaseIfModelChanges<Context121>());
    }
    public Context121()
        : base("Name=Demo") { }
    public DbSet<Candidate> Candidates { get; set; }
    public DbSet<CandidateData> CandidateDatas { get; set; }

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        modelBuilder.Entity<Candidate>();

        modelBuilder.Entity<CandidateData>()
                    .HasRequired(q => q.Candidate)
                    .WithOptional(p=>p.Data) // this would be blank if reverse validation wasnt used, but here it is used
                    .Map(t => t.MapKey("CandidateId"));    // Only use MAP when the Foreign Key Attributes NOT annotated as attributes
    }
} 
```

}

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2015-06-02T08:39:19.390

我认为外键应该被创建为： .Map(t => t.MapKey("CandidateDataId")) 因为这个外键将被放置在候选表中......

你觉得呢？

# asp.net - 在gridview中插入带有隐藏字段的列

> ID：14809864
> 
> 赞同：6
> 
> 时间：2013-02-11T10:04:05.070
> 
> 标签：asp.net, gridview, hidden-field

我需要在网格视图中插入一个带有隐藏字段的列。

用户不应该知道有一列存在。

我尝试了以下方法：创建了一个 CSS 类宽度`display:none;`并分配了`ItemStyle-CssClass="MyCssClass"`.

但结果并不令人满意。

插入了一个`template field`并且`itemtemplate`我给了一个`asp:HiddenField`

这两种方法都显示了一个额外的列隐藏字段。

没有任何价值，因为这些字段被呈现为隐藏字段，但该列的宽度接近 10 像素（参见此图像 [http://www.tiikoni.com/tis/view/?id=c500726](http://www.tiikoni.com/tis/view/?id=c500726)）。
所以用户感觉那里有一个空行。

我需要完全隐藏该列。

我不能使用`template field`with `visibility=false`，因为我需要从**客户端**访问它的值。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-11T10:11:29.283

您可以将隐藏字段保留在任何列中。并从您居住的任何地方获得它的价值。 [这是一个很好的链接，可以从服务器端访问gridview控件中的隐藏字段](https://stackoverflow.com/questions/6685939/access-hidden-field-within-gridview-control-to-set-a-value-in-javascript)
调用值以在javascript中设置值？

## 编辑 1

添加一列，如下所示：

```
<asp:TemplateField>
    <ItemTemplate>
        <asp:Label ID="lbl1" runat="server" 
            Value='<%# Eval("Name") %>' />
        <asp:HiddenField ID="HiddenField1" runat="server" 
            Value='<%# Eval("BirthDate") %>' />
    </ItemTemplate>
</asp:TemplateField> 
```

您可以轻松获取隐藏字段的值。

# c# - C# - 从输入数字中删除空格以具有 int

> ID：14809866
> 
> 赞同：1
> 
> 时间：2013-02-11T10:04:13.543
> 
> 标签：c#, whitespace

如何从输入数字内部删除空格：

1 987 到 1987 - 对于脚本的其余部分，我需要输入数字为 int：

```
int n = Convert.ToInt32(args.Content);
            if (n >= 1000) 
                n = (int) (n - (n * 0.75)); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T10:06:24.313

使用替换（...）：

```
int n = Convert.ToInt32(args.Content.Replace(" ",""));
if (n >= 1000) 
n = (int) (n - (n * 0.75)); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T10:06:47.493

```
string numberWithoutSpaces = new Regex(@"\s").Replace("12 34 56", "");
int n = Convert.ToInt32(numberWithoutSpaces); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T10:06:50.997

尝试这个：

```
int n = Convert.ToInt32(args.Content.Replace(" ", string.Empty); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T10:10:35.443

这是另一种解决方案。

```
string str = new string(args.Where(c => c != ' ').ToArray());
int n = Convert.ToInt32(str); 
```

# android - 我可以使用 Google oauth2 id_token 访问 Google 服务吗

> ID：14809868
> 
> 赞同：1
> 
> 时间：2013-02-11T10:04:17.417
> 
> 标签：android, google-oauth

我实现了这个：[http](http://android-developers.blogspot.fi/2013/01/verifying-back-end-calls-from-android.html) ://android-developers.blogspot.fi/2013/01/verifying-back-end-calls-from-android.html然后想让应用程序从谷歌服务器询问用户的全名.

我可以得到 id_token 没问题，将它传递给后端，验证它并从令牌中获取用户 ID 和电子邮件，但我似乎无法找到任何方法将 id_token 转换为我可以使用的令牌在谷歌服务器上进行身份验证并从配置文件范围请求个人信息。google apps-app 有权使用范围，所以只要我能理解如何获取 auth-token，询问信息应该不是问题。

是否可以使用此令牌访问谷歌服务器，或者我必须为个人信息请求单独的身份验证令牌。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T21:07:13.683

您应该要求为个人信息提供单独的身份验证令牌。用户必须明确授予您的应用权限才能查看他们的姓名、性别等内容。

# java - java.sql.SQLException: ORA-00902: 无效数据类型

> ID：14809870
> 
> 赞同：1
> 
> 时间：2013-02-11T10:04:56.367
> 
> 标签：java, sql, oracle, exception

我正在尝试从 servlet 创建一个表。但是当我运行时，它显示错误`java.sql.SQLException: ORA-00902: invalid datatype`。但是当我在 sql plus 中执行相同的查询时，它正在执行。

堆栈跟踪 ：

```
java.sql.SQLException: ORA-00902: invalid datatype
at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:439)
at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:395)
at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:802)
at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:436)
at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:186)
at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:521)
at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:194)
at oracle.jdbc.driver.T4CStatement.executeForRows(T4CStatement.java:1000)
at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1307)
at oracle.jdbc.driver.OracleStatement.executeUpdateInternal(OracleStatement.java:1814)
at oracle.jdbc.driver.OracleStatement.executeUpdate(OracleStatement.java:1779)
at oracle.jdbc.driver.OracleStatementWrapper.executeUpdate(OracleStatementWrapper.java:277)
at skypark.CreateUserAc.doGet(CreateUserAc.java:126)
at skypark.CreateUserAc.doPost(CreateUserAc.java:345)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:749)
at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:487)
at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:412)
at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:339)
at skypark.Registration.doPost(Registration.java:137)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:931)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Unknown Source) 
```

我的代码是：

```
 Statement stC=con.createStatement();
    StringBuilder sbC=new StringBuilder(1024);
    sbC.append("create table ").append(uname).append("COMMENTS(UNAME VARCHAR2(50),COMMENTS VARCHAR2(1100),ITEMID NUMBER)");
    String QueryC=sbC.toString();
    stC.executeUpdate(QueryC);         //stack trace showing error

    Statement stCH=con.createStatement();
    StringBuilder sbCH=new StringBuilder(1024);
    sbCH.append("create table ").append(uname).append("CHAT(ID NUMBER NOT NULL,FROM VARCHAR2(50),TO VARCHAR2(50),MESSAGE VARCHAR2(500) DEFAULT NULL NOT NULL,SENT DATE NOT NULL, RECD NUMBER)");
    String QueryCH=sbCH.toString();
    stCH.executeUpdate(QueryCH);     //stack trace showing error 
```

请任何人告诉我我犯了什么错误............谢谢......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T10:09:54.523

我猜你在两个语句中都缺少一个结束`')'`，尝试删除`'('`表名之前的开口。

编辑：

在第二个语句中，您使用了 ID、FROM、TO 等关键字，这些关键字通常会导致冲突。列**MESSAGE**被定义为*默认 null*然后*不是 null*：

```
create table (CHAT(ID NUMBER NOT NULL,
              FROM VARCHAR2(50),
              TO VARCHAR2(50),
              MESSAGE VARCHAR2(500) DEFAULT NULL NOT NULL,  
              SENT DATE NOT NULL, RECD NUMBER) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T10:17:50.583

看起来您是某处剪切粘贴错误的受害者；

```
sbC.append("create table ").append(uname)
   .append("(COMMENTS(UNAME VARCHAR2(50),COMMENTS VARCHAR2(1100),ITEMID NUMBER)"); 
```

...将导致类似的 SQL 语句；

```
create table uname_table (
  COMMENTS(UNAME VARCHAR(50),     <-- strange indeed, cut'n'paste?
  COMMENTS VARCHAR2(1100),
  ITEMID NUMBER
) 
```

更合理的是；

```
sbC.append("create table ").append(uname)
   .append("(UNAME VARCHAR2(50),COMMENTS VARCHAR2(1100),ITEMID NUMBER)"); 
```

...这会给;

```
create table uname_table (
  UNAME VARCHAR(50),
  COMMENTS VARCHAR2(1100),
  ITEMID NUMBER
) 
```

# reporting-services - 将 ssrs 2008 报告导出到 Excel 时出错

> ID：14809872
> 
> 赞同：3
> 
> 时间：2013-02-11T10:04:58.750
> 
> 标签：reporting-services, ssrs-2008

我有一份报告返回大约 90000 行。但是当我将它从 asp.net 页面导出到 excel 时，它给出了这个错误：
在呈现报表期间发生错误
但是同一个报表正在成功地从报表服务器导出到 excel。
如果我从网页传递更多参数以将记录数减少到 100，那么我可以将它从网页本身导出到 excel。

**Edit-1**
堆栈跟踪：[异常：有关此错误的详细信息，请导航到本地服务器计算机上的报表服务器，或启用远程错误]

[异常：报表呈现期间发生错误。] Microsoft.Reporting.WebForms.ServerReport.ServerUrlRequest(Boolean isAbortable, String url, Stream outputStream, String& mimeType, String& fileNameExtension) +574 Microsoft.Reporting.WebForms.ServerReport.InternalRender( Boolean isAbortable, String format, String deviceInfo, NameValueCollection urlAccessParameters, Stream reportStream, String& mimeType, String& fileNameExtension) +905 Microsoft.Reporting.WebForms.ServerReport.Render(String format, String deviceInfo, NameValueCollection urlAccessParameters, Stream reportStream, String& mimeType, String& fileNameExtension ) +28 Microsoft.Reporting.WebForms.ServerReport.Render(字符串格式，字符串 deviceInfo，NameValueCollection urlAccessParameters，字符串& mimeType，字符串&fileNameExtension）+88 Microsoft.Reporting.WebForms.ServerReportControlSource.RenderReport（字符串格式，字符串 deviceInfo，NameValueCollection AdditionalParams，String& mimeType，String&fileExtension）+123 Microsoft.Reporting.WebForms.ExportOperation.PerformOperation（NameValueCollection urlQuery，HttpResponse 响应）+153 Microsoft .Reporting.WebForms.HttpHandler.ProcessRequest(HttpContext context) +585 System.Web.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() +901 System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously) +76ExportOperation.PerformOperation(NameValueCollection urlQuery, HttpResponse 响应) +153 Microsoft.Reporting.WebForms.HttpHandler.ProcessRequest(HttpContext context) +585 System.Web.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() +901 System.Web。 HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously) +76ExportOperation.PerformOperation(NameValueCollection urlQuery, HttpResponse 响应) +153 Microsoft.Reporting.WebForms.HttpHandler.ProcessRequest(HttpContext context) +585 System.Web.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() +901 System.Web。 HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously) +76

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T19:39:16.337

SSRS 2008 只能导出到 XLS (MS Office 2003)。[XLS 文件限制为 65k 行](http://office.microsoft.com/en-us/excel-help/excel-specifications-and-limits-HP005199291.aspx)。

您是否查看过报告管理器中导出的行数？除非您使用自定义或第三方工具来允许导出到 XLSX，否则该文件应该只有大约 65k 行。

我认为报告管理器通过从报告中执行基本上类似于 SELECT TOP 65k 的操作来解决超出的行长度。您的 asp.net 界面可能没有考虑到此限制，并且将太多行强制导入 Excel 导出。

您的选择是：

1.) 使用允许导出到 XLSX 的 SSRS 2012。XLSX 文件可以处理更多的行。

2.) 更改您的 asp.net 代码以在导出到 XLS 之前切掉前 65k 行。

3.）考虑使用第三方或自定义解决方案来解决 SSRS 2008 出口限制（我知道[Aspose](http://www.aspose.com/reporting-services/excel-component.aspx)。）

4.) 导出为 CSV，然后让最终用户将 CSV 转换为 Excel。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T15:06:43.767

正如 dev_etter 所提到的，SSRS 2008 不支持开箱即用的如此大的 Excel 报告，但可以使用[SoftArtisans OfficeWriter](http://www.officewriter.com/officewriter-for-sql-server-reporting-services.aspx)等 3rd 方工具来完成，它允许您设计和导出 OOXML (.xlsx/.xlsm) 格式的报告。

免责声明：我为 SoftArtisans 工作

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-11T11:08:20.317

我可以建议您一些解决方法：在报告中，您可以放置​​指向强制 SSRS 报告的链接以创建文件而不是在屏幕上呈现。

该链接应包含以下内容：

```
http://localhost/ReportServer/Pages/ReportViewer.aspx?
%2fSample+Report&rs:Format=excel 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-11T10:17:47.173

ReportViewer 控件中是否存在超时错误？尝试玩：

```
ViewerControl.ServerReport.Timeout 
```

[http://msdn.microsoft.com/en-us/library/microsoft.reporting.winforms.serverreport.timeout(v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/microsoft.reporting.winforms.serverreport.timeout%28v=vs.80%29.aspx) 因为报表服务器也使用 ReportViewer 控件，并且可能与您的配置不同。超时的默认值为 600000 毫秒。

顺便说一句：很高兴看到您的 StackTrace。这将有助于为您提供更好的答案。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-10-17T01:58:43.740

如果问题*超出*了 excel 的 65k 限制，您可以将父组添加到您的 tablix 并为组表达式添加以下代码

```
=CEILING(RowNumber(Nothing)/65500) 
```

然后在组的每个实例之间添加一个分页符...

这将在 excel 文件中为大于 65500 行的 tablix 创建多个选项卡...

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-11T11:17:19.423

服务器上的 Ram 可能是个问题。这里有很多问题，大量报告没有通过，ram 似乎可以解决这些问题，至少从响应来看。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-06-28T16:29:54.820

在 SSRS 2014 中，我在使用按类型查询的分层连接导出 Oracle SSRS 报告时遇到了这个问题。报告正在显示，但比我预期的要快。我想知道它是否在后台超时，但仍显示一些行。我将报告更改为永不超时并修复了它。之后需要更长的时间才能运行，但它会在完成后导出到 excel。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-02-11T22:19:04.460

我的解决办法是去掉我们报告上的印章（图片）。我不确定这是否仅限于 png，但在它被删除后，报告导出到 excel 没有问题。

# symfony - 自定义更改密码表格

> ID：14809874
> 
> 赞同：4
> 
> 时间：2013-02-11T10:05:05.490
> 
> 标签：symfony, fosuserbundle

我只是想修改更改密码页面的外观。我唯一不知道的是什么是 CurrentPassword 字段。

```
{{ form_widget(form.plainPassword.first, {'attr': {'class': 'txtRegisterEmail','placeholder': 'Password'} }) }}
{{ form_widget(form.plainPassword.second,{'attr': {'class': 'txtRegisterEmail','placeholder': 'Verify password'} }) }} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T10:33:21.000

正如您在[ChangePasswordFormType](https://github.com/FriendsOfSymfony/FOSUserBundle/blob/master/Form/Type/ChangePasswordFormType.php#L33-L38)中看到的那样，它被称为`current_password`：

```
{{ form_widget(form.current_password) }} 
```

因此，按顺序，您将拥有：

```
{{ form_widget(form.current_password) }}
{{ form_widget(form.plainPassword.first) }}
{{ form_widget(form.plainPassword.second) }} 
```

# android - 下载文件时会抛出哪些异常？

> ID：14809877
> 
> 赞同：1
> 
> 时间：2013-02-11T10:05:09.190
> 
> 标签：android, exception, download

在我的应用程序中，我可以下载参考数据更新。用户可以在`PreferenceActivity`- 中修改基本 URL，然后将实际文件名附加到基本 URL。当我尝试下载文件时，如果出现问题，可能会引发异常。我想向用户展示最合适的错误消息，而不是简单地“发生错误”。为此，我想捕获单个异常并相应地格式化消息。那么，下载文件时会抛出哪些异常呢？作为参考，这是我的下载代码（简化）：

```
int msgId;
try {
    String url = props.getProperty(Constants.SETTINGS_REFDATA_SOURCE);
    if(!url.endsWith("/")) {
        url += "/";
    }

    url += Constants.UPDATE_CUSTOMER_FILE;
    CSVReader in = new CSVReader(new InputStreamReader(url.openStream()));

    ...//read and parse file here
}
catch(MalformedURLException e) {
   msgId = R.string.error_invalid_base_url;
}
catch(UnknownHostException e) {
   msgId = R.string.error_unknown_host;
}
catch(FileNotFoundException e) {
   msgId = R.string.error_file_not_found;
}
catch(IOException e) {
   msgId = R.string.error_reading_data;
}
catch(MyParseException e) {
   msgId = R.string.error_invalid_file_format;
}
catch(Exception e) {
   msgId = R.string.error_other_error;
}
finally {
    try { in.close(); } catch(Exception e2) {}
}

// then I display AlertDialog using msgId as the message 
```

正如你所看到的，我已经捕获了几个异常——一些我知道可以抛出，一些是我在测试中遇到的。我还需要满足哪些其他例外情况？请注意，正在下载的数据量非常小（最多 15-20 Kb），因此`OutOfMemoryError`不应该适用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T12:47:00.437

有`ConnectException`由于连接超时或连接被拒绝（`HTTP 403`）

//编辑：我刚刚读到，“大多数应用程序*不应该捕获 ConnectException；捕获超类*[SocketException](https://developer.android.com/reference/java/net/SocketException.html)更加健壮。”

此外，您可以测试是否有活动的 Internet 连接：

```
private boolean checkCon() {
    ConnectivityManager conMgr =  (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);

    if ( conMgr.getNetworkInfo(0).getState() == NetworkInfo.State.DISCONNECTED 
        &&  conMgr.getNetworkInfo(1).getState() == NetworkInfo.State.DISCONNECTED) {
      return false;
    }
    return true;
} 
```

# razor - RazorEngine 3.2.0：在 .cshtml 文件中找不到 Razor 命名空间

> ID：14809882
> 
> 赞同：3
> 
> 时间：2013-02-11T10:05:40.990
> 
> 标签：razor, intellisense, razorengine

我在**类库项目中使用****RazorEngine** 3.2.0 。

 **我通过以下对以下 SO 问题的回答解决了一些与类库相关的问题：[Razor intellisense error: Feature 'extension method' cannot be used because it is not part of the ISO-2 C# language specification](https://stackoverflow.com/questions/8568347/razor-intellisense-error-feature-extension-method-cannot-be-used-because-it-i)

## 问题

我尝试使用`@inherits`关键字。如果我**只写****view-class**的完整限定名，**intellisense 就可以了**。如果我尝试从中继承，`RazorEngine.Templating.TemplateBase<T>`似乎整个**RazorEngine-Assemlby 都没有解决**。

模板如下所示：

```
@inherits RazorEngine.Templating.TemplateBase<ViewModels.PrintCatalogData>
<!DOCTYPE html>
<html>
<head>
... 
```

在**运行时它可以工作**——只是**智能感知失败**了。

## 问题

智能感知识别 RazorEngine-Assembly 需要什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-24T03:45:00.447

@inherits 可能不喜欢完全限定的名称。尝试将命名空间 RazorEngine.Templating 添加到您的 web.config，然后从视图模板中删除完全限定名称。

```
 <system.web.webPages.razor>
     <host factoryType="System.Web.Mvc.MvcWebRazorHostFactory, System.Web.Mvc,    Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
     <pages pageBaseType="System.Web.Mvc.WebViewPage">
        <namespaces>
          <add namespace="System.Web.Mvc" />
          <add namespace="System.Web.Mvc.Ajax" />
          <add namespace="System.Web.Mvc.Html" />
          <add namespace="System.Web.Optimization"/>
          <add namespace="System.Web.Routing" />
          <add namespace="Assemblies"/>
          <add namespace="RazorEngine.Templating"/>
          <add namespace="Resources"/>
        </namespaces>
     </pages> 
```**

# concurrency - 计数信号量初始化为 n

> ID：14809883
> 
> 赞同：1
> 
> 时间：2013-02-11T10:05:43.230
> 
> 标签：concurrency, synchronization, operating-system, semaphore, locks

如果一个计数信号量被初始化为 n，这是否意味着 n 个进程可以同时运行它们的临界区？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T10:08:15.253

本质上，是的。

请记住，计数信号量仅在递减后计数为负时才会阻塞。因此，信号量可以在阻塞前递减 n 次。由于所有减量都必须与增量相匹配，那么，假设每个进程只减量信号量一次（这是迄今为止最常见的情况），那么是的，n 个进程将能够同时运行它们的临界区.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T13:53:04.040

不。

如果 n > 0，则意味着计数信号量可以在请求上下文阻塞之前恰好 n 次被获取并等待计数信号量变得可用（假设在此期间没有人提供它）。

如果 n <= 0，则意味着必须给出计数信号量 (1 - n) 次，然后任何人才能成功获取该计数信号量。

控制对关键部分的访问通常由互斥锁更好地处理。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-25T18:04:55.190

是的，如果您已将信号量初始化为 N，那么 sem_wait 将不会阻塞任何线程，除非它已经被调用 N 次，然后只有信号量变为 -ve，这就是任何调用 sem_wait 的线程阻塞的时候。

对于关键部分，您必须使用二进制信号量或互斥锁。

# java-me - 关于 j2me 中每秒帧数的问题

> ID：14809884
> 
> 赞同：2
> 
> 时间：2013-02-11T10:05:49.370
> 
> 标签：java-me

我正在开发一款赛车游戏。速度在不同的设备上有所不同。我正在使用计数来移动背景以保持恒定速度。

但是速度是个问题。如何在诺基亚、三星等所有设备中保持恒定。?

我正在使用[java.util.Timer API](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/java/util/Timer.html)。定时器计数持续时间因设备而异。

# android - 在android中启用proguard时应用程序不起作用

> ID：14809888
> 
> 赞同：3
> 
> 时间：2013-02-11T10:06:05.567
> 
> 标签：android, proguard

我的项目在 android 设备和模拟器上运行良好。

但是，如果我在启用 proguard 应用程序后导出并获取 .apk 文件，我无法使用 proguard 安装此 .apk 文件。

我的假设是，在安装 .apk 文件时未调用服务，并且我的日志中没有任何错误。

请分享您的想法。

**这是我的proguard文件。**

```
-optimizationpasses 5
-dontskipnonpubliclibraryclasses
-dontskipnonpubliclibraryclassmembers
-dontpreverify
-verbose
-dontoptimize
# -optimizations !code/simplification/arithmetic,!field/*,!class/merging/*
-libraryjars /usr/local/android-sdk/add-ons/google_apis-7_r01/libs/maps.jar

-keep public class * extends android.app.Activity
-keep public class * extends android.app.Application
-keep public class * extends android.app.Service
-keep public class * extends android.content.BroadcastReceiver
-keep public class * extends android.content.ContentProvider
-keep public class * extends android.app.backup.BackupAgentHelper
-keep public class * extends android.preference.Preference
-keep public class com.android.vending.licensing.ILicensingService

-keepattributes JavascriptInterface

-keepclasseswithmembers class * {
    public <init>(android.content.Context, android.util.AttributeSet);
}
-keepclasseswithmembers class * {
    public <init>(android.content.Context, android.util.AttributeSet, int);
    }
-keepclassmembers class * extends android.app.Activity {
   public void *(android.view.View);
}
-keepclassmembers enum * {
    public static **[] values();
    public static ** valueOf(java.lang.String);
}
-keep class * implements android.os.Parcelable {
  public static final android.os.Parcelable$Creator *;
}
-keep class mypackage.MyCallbackClass {
    void myCallbackMethod(java.lang.String);
}

-dontwarn android.support.**
-dontwarn org.w3c.dom.bootstrap.DOMImplementationRegistry 
```

和我的** project.properties 文件**

```
# This file is automatically generated by Android Tools.
# Do not modify this file -- YOUR CHANGES WILL BE ERASED!
#
# This file must be checked in Version Control Systems.
#
# To customize properties used by the Ant build system edit
# "ant.properties", and override values to adapt the script to your
# project structure.
#
# To enable ProGuard to shrink and obfuscate your code, uncomment this (available properties: sdk.dir, user.home):
proguard.config=${sdk.dir}\\tools\\proguard\\proguard-android.txt:proguard-project.txt
#proguard.config=proguard.cfg
# Project target.
target=Google Inc.:Google APIs:11
android.library.reference.1=../Library1
android.library.reference.2=../Library2 
```

请分享您的想法。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-03T23:09:44.903

BINDER TRANSACTION 失败通常发生在您溢出 Binder 进程时。如果您没有在启动页面上使用大位图（这是绑定器事务失败的最常见原因），那么它可能是[ParcelFormatException](http://developer.android.com/reference/android/os/ParcelFormatException.html)，因为我注意到您正在尝试在您的 apk 中使用 Parcelable。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T10:39:02.520

我想您正在使用发布密钥签署此版本。如果您的手机上安装了旧版本（带有调试密钥），请先将其卸载。（您的设备上不能有具有两个不同签名的同一个应用程序）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-24T20:58:17.197

假设您使 ADT 保持最新状态..

如果您正在使用 Eclipse 导出构建应用程序的发布版本，它将`proguard.config`从`project.properties`.

如果您正在使用`ant release`，它将从 中的`proguard.config`属性指定的文件中加载 Proguard 设置`ant.properties`。

话虽如此，您在构建过程中是否收到任何类型的错误或警告？这些在诊断 Proguard 时特别有用，因为它的目的是删除它*认为*您的应用程序没有使用的类和方法。

我使用以下方式卸载我的应用程序：

```
adb shell pm uninstall -k com.*example*.*app* 
```

并使用重新安装：

```
adb install App-release.apk 
```

如果它给出了关于兼容性的错误，我通过`-k`从卸载命令中排除开关来丢弃以前的应用程序数据：

```
adb shell pm uninstall com.*example*.*app* 
```

# c# - 从我的列表中删除差异

> ID：14809905
> 
> 赞同：0
> 
> 时间：2013-02-11T10:07:06.927
> 
> 标签：c#, list

你好呀。我希望我可以就我正在努力解决的问题寻求一些建议。

我有一个包含一千多个值的列表，并且有一些重复，不是完全重复，而是基于大小写的差异。所以例如我会有

**培训**和**培训**在同一个清单或 **愿景和价值观**以及**愿景和价值观**。

因此，在各种情况下，基于大小写差异存在细微差异。

我怎样才能去除这些“多余”的价值？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T10:11:04.437

使用 Linq：

```
var listWithDups = new List<string>() = {"blah","Blah","etc","etc."};
var listWithoutDups = listWithDups.Distinct(StringComparer.CurrentCultureIgnoreCase).ToList(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T10:11:33.840

我会将所有条目添加到[Hashset](http://msdn.microsoft.com/en-us/library/bb359100.aspx)

Hashset 是一个集合，最多存储添加到其中的每个项目中的一个。您将编写一个“忽略大小写”权益比较器，并将其传递给 Hashset 构造函数。像：

```
 var set = new Hashset( yourListWithDuplicates, (x,y) => x.Equals(y, 
StringComparison.CurrentCultureIgnoreCase)); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T10:19:06.867

在 LinqPad 中试过这个：

```
var list = new List<String> { "Hello", "World", "HELLO", "beautiful", "WORLD" };

var l = list.Distinct(StringComparer.CurrentCultureIgnoreCase).ToList();

Console.WriteLine(l); 
```

# jsf - p：对话框不显示

> ID：14809906
> 
> 赞同：0
> 
> 时间：2013-02-11T10:07:10.093
> 
> 标签：jsf, primefaces

我在使用 JSF / Primefaces 来显示弹出窗口时遇到问题。作为背景，我使用 JSF 模板来生成我的页面：

内联用于显示数据表，但是当我单击按钮显示对话框时，什么也没有发生。我在日志中看不到任何错误。

```
<h:body>
    <p:dataTable id="lstUsers" var="u" value="#{userController.userList}" selectionMode="single" 
                 selection="#{userController.selectedUser}" rowKey="#{u.login}" paginator="true" rows="10">
        <p:column headerText="Username">
            <h:outputLabel value="#{u.login}"></h:outputLabel>
        </p:column>
        <p:column headerText="Role" rowspan="2">
            <h:outputLabel value="#{u.role}"></h:outputLabel>
        </p:column>
        <f:facet name="footer">
            <p:commandButton id="bttAdd" type="button" value="Add" update=":contentView:idPanelPop" oncomplete="userDialog.show()" ></p:commandButton>
            <p:commandButton id="bttEdit" value="Edit"></p:commandButton>
            <p:commandButton id="bttRemove" value="Remove"></p:commandButton>
        </f:facet>
    </p:dataTable>
    <p:dialog id='userDialog' header="User Details" widgetVar="userDialog" 
              resizable="false" width="200px" height="200px" showEffect="clip" hideEffect="fold">
        <h:panelGrid  id="idPanelPop" columns="2">
            <h:outputLabel id='dOutUser' value="Username"></h:outputLabel>
            <h:outputLabel id='dOutUserValue' value="#{userController.selectedUser.login}"></h:outputLabel>

            <h:outputLabel id='dOutRole' value="Role"></h:outputLabel>
            <h:outputLabel id='dOutRoleValue' value="#{userController.selectedUser.role}"></h:outputLabel>
        </h:panelGrid>
    </p:dialog>
</h:body> 
```

上面的代码用作

```
<ui:composition template="./maintemplate.xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets">
    <ui:define id="contentViewIndex" name="content">
        <ui:include src="#{navigationController.currentPage}"></ui:include>
    </ui:define>
</ui:composition> 
```

我的模板页面包含以下内容：

```
 <p:layoutUnit position="center">
                <h:form id="contentView">
                    <ui:insert name="content">
                            Default Content
                    </ui:insert>
                </h:form>    
        </p:layoutUnit> 
```

**navigationController.current**值会根据菜单单击更改以在页面间导航。我正在关注官方的 primafaces 展示[PrimeFaces数据表](http://www.primefaces.org/showcase/ui/datatableRowSelectionSingle.jsf)

我当前的设置是 Netbeans 7.3 RC1 / Apache 7.0.34.0 / Mojarra 2.1.13

如果有人能指出我解决这个问题的正确方向，我会很感激:)

**编辑：**考虑到内联答案后没有任何效果。也许我应该先检查浏览器控制台，在这种情况下，这很奇怪，因为它抱怨它无法识别 widgedVar。我已经尝试将对话框放在表单之外，结果是相同的错误。：/

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:26:01.423

您的`bttAdd`按钮是普通按钮（您使用`type="button"`属性明确设置它）。这意味着它只执行一些 JavaScript，没有任何 AJAX 请求。要执行 AJAX 请求，并更新您的面板，请删除`type="button"`并尝试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T12:05:58.690

我会改变两件事（首先可能不重要）：

1.  添加2个表格：一个里面有数据表，另一个里面有对话框
2.  将 widgetVar="userDialog" 更改为独特的东西。widgetVar="userDialogWidget"

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T12:07:08.257

发现问题...

经过大量测试和挖掘并考虑到以前的答案。问题是两件事：

第一个。对角线的高度和宽度不能包含 px。

第二。根据之前的答案，它必须在 [此处](http://forum.primefaces.org/viewtopic.php?f=3&t=25887)解释的外部。

p:dialog 的大小不能包含 px。

# haskell - 如何使用网络管道正确关闭网络连接？

> ID：14809909
> 
> 赞同：3
> 
> 时间：2013-02-11T10:07:20.167
> 
> 标签：haskell, conduit, network-connection

为了学习`conduit`库的基础知识，我曾经[`network-conduit`](http://hackage.haskell.org/package/network-conduit)制作了一个简单的回显服务器：

```
import Control.Monad.IO.Class
import qualified Data.ByteString.Char8 as BS
import Data.Conduit
import Data.Conduit.Network

-- A conduit that print the input it receives on the console
-- and passes it through.
echo :: (MonadIO m) => Conduit BS.ByteString m BS.ByteString
echo = do
    yield (BS.pack "Anything you type will be echoed back.\n")
    -- Print the received data to the console as well:
    awaitForever (\x -> liftIO (BS.putStr x) >> yield x)

echoApp :: (MonadIO m) => Application m
echoApp appData = appSource appData $= echo $$ appSink appData

-- Listen on port 4545:
main :: IO ()
main = runTCPServer (serverSettings 4545 HostAny) echoApp 
```

它做了我想要的，但是当客户端关闭它的连接部分时，服务器仍在等待输入，而不是写出任何剩余的数据并关闭它的连接发送部分：

```
$ nc localhost 4545 <<<"Hello world!"
Anything you type will be echoed back.
Hello world! 
```

我试着删除`echo`并做

```
echoApp appData = appSource appData $$ appSink appData 
```

但问题仍然存在。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T12:04:39.980

我不确定您所说的“服务器不会响应它”是什么意思？我猜您希望服务器在客户端断开连接后关闭。如果是这样，这不是库的意图：只要它们继续进入，它就会继续以无限循环的方式连接服务器。使用`addCleanup`，您可以看到各个连接处理程序实际上确实终止了，例如：

```
echo :: (MonadIO m) => Conduit BS.ByteString m BS.ByteString
echo = addCleanup (const $ liftIO $ putStrLn "Stopping") $ do
    yield (BS.pack "Anything you type will be echoed back.\n")
    -- Print the received data to the console as well:
    awaitForever (\x -> liftIO (BS.putStr x) >> yield x) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T12:37:21.177

事实证明，问题不`network-conduit`在于 ，那部分工作正常。问题在于`nc`，它在发送所有数据时不会关闭其套接字的发送部分。我制作了一个测试 python 脚本，它按预期对服务器起作用：

```
#!/usr/bin/env python
import socket

HOST = 'localhost'
PORT = 4545

s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.connect((HOST, PORT))

s.sendall('Hello, world')
# This was missing in `nc`:
s.shutdown(socket.SHUT_WR);

print 'Received'
data = s.recv(1024)
while data:
    print data,
    data = s.recv(1024)

s.close() 
```

# c++ - cuda数组排序与推力，没有足够的内存

> ID：14809921
> 
> 赞同：1
> 
> 时间：2013-02-11T10:08:06.377
> 
> 标签：c++, arrays, cuda, gpu, thrust

我正在尝试使用 Thrust 对数组进行排序，但如果数组太大，它将不起作用。（我有一个 GTX460 1GB 内存）

我在 VS2012 上使用带有 c++ 集成的 cuda，这是我的代码：

我的.cpp

```
extern "C" void thrust_sort(uint32_t *data, int n);

int main(int argc, char **argv){
    int n = 2<<26;
    uint32_t * v = new uint32_t[n];
    srand(time(NULL));
    for (int i = 0; i < n; ++i) {
        v[i] = rand()%n;
    }

    thrust_sort(v, n);

    delete [] v;
    return 0;
} 
```

我的.cu

```
extern "C"
void thrust_sort(uint32_t *data, int n){
    thrust::device_vector<uint32_t> d_data(data, data + n);
    thrust::stable_sort(d_data.begin(), d_data.end());
    thrust::copy(d_data.begin(), d_data.end(), data);
} 
```

程序在 stable_sort() 开始时停止工作。

* * *

1.  stable_sort() 需要多少内存？
2.  有没有办法解决这个问题 ？（即使它让它变慢了一点或其他）
3.  是否有另一种排序算法不需要比原始数组更多的内存？

* * *

谢谢你的帮助 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T16:12:46.543

文献中有一些技术用于处理数据太大而无法放入的排序问题`RAM`，例如将部分值保存在文件中等。示例：[使用 Python 对 2MB RAM 中的一百万个 32 位整数进行排序](http://neopythonic.blogspot.pt/2008/10/sorting-million-32-bit-integers-in-2mb.html)

您的问题不那么复杂，因为您的输入适合`RAM`但对于您的 GPU来说*太多了。*你可以通过使用策略来解决这个问题`parallel by Regular Sampling`。您可以[在此处](http://www.uio.no/studier/emner/matnat/ifi/INF3380/v10/undervisningsmateriale/inf3380-week12.pdf)看到此技术应用于`quicksort`.

长话短说，您将数组划分为适合 GPU 内存的较小子数组。然后对每个子数组进行排序，最后在常规采样方法的前提下合并结果。

You can use a hybrid approach, sorting some of the sub-arrays in the CPU by assigning each one to a different core (using multi-threading), and at the same time, sending others sub-arrays to the GPU. You can even subdivide this work also to different processors using a message passing interface such as `MPI`. Or you can simply sort each sub-array one-by-one on the GPU and do the final merge step using the CPU, taking (or not) advantage of the multi-cores.

# java - 快速排序算法天真的实现..但为什么它不起作用？

> ID：14809923
> 
> 赞同：2
> 
> 时间：2013-02-11T10:08:11.987
> 
> 标签：java

我对编程和java很陌生，所以请不要笑这个:)。现在..我在网上查看了快速排序算法的正确实现，我知道这一点。但我试图以我能想到的非常天真、基本的方式自己实现它。实际上创建两个单独的数组（左，右）并继续对它们进行排序等等......

这是代码：

```
package excercise;

public class MyQuickSort {

    public static int list[] = {6,5,3,1,8,7,2,4};

    public static int[] addNumberToArray(int array[],int num){
        int newArray[] = new int[array.length+1];
        for(int i = 0;i<array.length;i++){
            newArray[i] = array[i];
        }
        newArray[newArray.length-1] = num;
        array = newArray;
        return array;
    }

    public static int[] partition(int arr[]){

        while(arr.length>1){
            int pivotIndex = (int)(arr.length/2);
            int left[] = new int[0];
            int right[] = new int[0];

            for(int i = 0;i<arr.length;i++){
                if(i==pivotIndex){
                    continue;
                }

                else if(arr[i]<=arr[pivotIndex]){
                    left = addNumberToArray(left,arr[i]);
                }
                else{
                    right = addNumberToArray(right,arr[i]);
                }
            }
            int origPivot = arr[pivotIndex];
            int k = 0;
            while(k<left.length){
                arr[k] = left[k];
                k++;
            }
            arr[k] = origPivot;
            k++;
            while(k<arr.length){
                arr[k] = right[k-(left.length+1)];
            }

            if(left.length>1){
            partition(left);
            }

            if(right.length>1){
            partition(right);
            }

        }

            return arr;
    }

    public static void main(String[]args){
            list = partition(list);
            for(int i = 0;i<list.length;i++){
                System.out.print(list[i]+" ");
            }

        }
    } 
```

但是为什么这会陷入循环并且不起作用？我不明白这段代码有什么问题..除了这不是很有效（至少可以说）！但我很固执，无论如何都想尝试让它发挥作用……如果你有任何建议，那就太好了！提前谢谢

好的，这是新代码，调试后一切似乎都正常，但是当我想打印新的排序 arr 时，它仍然会打印我原来的未排序数组。递归使整个事情回到它开始的地方。我怎样才能让它“保存步骤”？我应该在哪里打一个“返回”电话，我应该返回什么？

```
public class MyQuickSort {

    public static int list[] = {6,5,3,1,8,7,2,4};
    public static boolean sorted;
    public static int[] addNumberToArray(int arr[],int num){
        int newArr[] = new int[arr.length+1];
        for(int i = 0;i<arr.length;i++){
            newArr[i] = arr[i];
        }
        newArr[newArr.length-1] = num;
        arr = newArr;
        return arr;

    }

    public static void partition(int arr[]){

        while(!sorted){
            int pivotIndex = (int)(arr.length/2);
            int left[] = new int[0];
            int right[] = new int[0];

            for(int i = 0;i<arr.length;i++){
                if(i==pivotIndex){
                    continue;
                }
                else if(arr[i]<=arr[pivotIndex]){
                    left = addNumberToArray(left,arr[i]);
                }
                else{
                    right = addNumberToArray(right,arr[i]);
                }
            }
            int origPivot = arr[pivotIndex];
            int k = 0;
            while(k<left.length){
                arr[k] = left[k];
                k++;
            }
            arr[k] = origPivot;
            k++;
            while(k<arr.length){
                arr[k] = right[arr.length-arr.length-(left.length+1)+k];
                k++;
            }

            if(left.length>1){
                partition(left);
            }

            if(right.length>1){
                partition(right);
            }

            if(left.length<=1&&right.length<=1){
                sorted = true;

            }

        }

    }

    public static void main(String[] args) {
        partition(list);
        for(int i = 0;i<list.length;i++){
            System.out.print(list[i]+" ");
        }

    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:19:47.210

你的算法卡在这个循环中

```
while(k<arr.length){
    arr[k] = right[k-(left.length+1)];
} 
```

原因是你没有增加你的 k。

尝试

```
while(k<arr.length){
    arr[k] = right[k-(left.length+1)];
    k++;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T10:37:10.323

凉爽的！您的实现似乎在逻辑上描述了快速排序。但是，请注意快速排序不能使用额外的缓冲区来实现。它应该在自己的主数组中排序，递归调用仅传递开始和结束边界。您的实现更像是一种合并排序风格，使用快速排序逻辑。是的，你错过了上面评论者所说的 k++。

# xcode - Xcode 在构建标识符中跳过起始编号

> ID：14809928
> 
> 赞同：1
> 
> 时间：2013-02-11T10:08:30.340
> 
> 标签：xcode, ios6

我正在开发一个名为 101braineexercises 的 ios 应用程序。Project Build 设置中的产品名称为 101BrainExercises。但 BuildIdentifier 名称为 com.neurotrain.-01BrainExercises。

如果我将产品名称命名为 BrainExercises101，那么它可以正常工作，即 com.neurotrain.BrainExercises101。

我正在使用 Xcode 4.5.2 和 IOS6 SDK 任何帮助将不胜感激

- 谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T10:16:04.033

项目名称受[RFC 1035](http://www.ietf.org/rfc/rfc1035.txt) (DOMAIN NAMES - IMPLEMENTATION AND SPECIFICATION) 限制，具体为：

```
<domain> ::= <subdomain> | " "
<subdomain> ::= <label> | <subdomain> "." <label>
<label> ::= <letter> [ [ <ldh-str> ] <let-dig> ]
<ldh-str> ::= <let-dig-hyp> | <let-dig-hyp> <ldh-str>
<let-dig-hyp> ::= <let-dig> | "-"
<let-dig> ::= <letter> | <digit>
<letter> ::= any one of the 52 alphabetic characters A through Z in
upper case and a through z in lower case
<digit> ::= any one of the ten digits 0 through 9 
```

换句话说，“标签”部分必须以字母开头。

# java - AndEngine - 改变场景后场景变量不会重置

> ID：14809930
> 
> 赞同：1
> 
> 时间：2013-02-11T10:08:35.357
> 
> 标签：java, android, variables, andengine, scene

这是场景：

我有以下场景：

1.  飞溅场景
2.  加载场景
3.  游戏模式场景
4.  播放模式场景
5.  游戏场景

我有一个管理场景之间导航的 SceneController 类。
在 SceneController 我有所有场景的实例。

我正在初始化所有场景实例并在 LoadingScene 中加载所有场景资源。

当我将场景从 GameModeScene 更改为 PlayModeScene - 工作得非常好。
但是，当我尝试再次将场景更改为 GameModeScene 时，在第一次运行 GameModeScene 期间初始化的布尔值和其他变量保持不变并且不会重置。

**注意**：变量对每个类都是私有的，并且是非静态的

我试过 pGameModeSceneto.reset(); 但它不会工作。
有什么建议吗？

这是我初始化场景实例的方式

* * *

**SceneController.loadSceneResources()**

```
public void loadSceneResources(SceneType mType){
        switch(mType){
        case SplashScene:
            this.mSplashScene = new SplashScene(this.mActivity);
            break;

        case LoadingScene:
            mLoadingScene = new LoadingScene(mActivity);
            break;

        case GameModeScene:
            mGameModeScene=new GameModeScene(this.mActivity);
            break;

        case PlayModeScene:
            mPlayModeScene=new PlayModeScene(this.mActivity);
            break;

        case GameScene:
            break;

            default:
        }
    } 
```

每个类的构造函数都在加载资源。

* * *

这是获取当前场景实例的方法

**SceneController.getScene()** 公共场景 getScene(SceneType mType){

```
 switch(mType){
        case SplashScene:
            this.mCurrentScene = mSplashScene;
            break;

        case LoadingScene:
            this.mCurrentScene = mLoadingScene;
            break;

        case GameModeScene:
            this.mCurrentScene = mGameModeScene;
            break;

        case PlayModeScene:
            this.mCurrentScene = mPlayModeScene;
            break;

            default:
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T16:10:40.867

鉴于您告诉我们的内容，您所说的非常有道理。

您可能希望在场景中添加某种`reset()`方法，并在切换到不同场景或离开特定场景时调用该方法。

但是......如果它们是您类中的变量，那么内置`reset()`方法无法重置您的变量。

添加一个方法，例如`resetSceneVars()`并重新初始化任何需要与创建场景时相同的东西。只要您保持对场景的引用，这些变量就会保持其最新值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T21:32:26.800

在 org.andengine.entity.scene.Scene 类中，有一个 reset() 方法，我假设你说的时候指的是这个方法

> 我试过 pGameModeSceneto.reset(); 但它不会工作。

该方法所做的一切如下：

```
@Override
public void reset() {
    super.reset();

    this.clearChildScene();
} 
```

你的场景（我假设）正在扩展场景。因此，当您对它们调用 reset() 时，您所做的就是通过 super.reset() 调用从那里初始化父级信息和向上树。（场景扩展实体。）您在场景中创建和设置的所有私有字段都不会受此影响。要获得您想要的行为，请在您的各个场景类中覆盖 reset() 方法。确保在它们的开头调用 super.reset() 并添加初始化信息，即，无论您的“空”场景应该是什么样子。像这样的东西：

```
@Override
public void reset() {
    super.reset();
    myLocalInt = 0; 
    myLocalFancyPantsObject = null;
} 
```

# shell - maven 在 Linux 和 Windows 平台上调用外部脚本

> ID：14809931
> 
> 赞同：25
> 
> 时间：2013-02-11T10:08:42.043
> 
> 标签：shell, maven, batch-file, pom.xml, exec-maven-plugin

我需要在 Linux 和 MS-Windows 平台上运行外部脚本。

1.  我使用正确的插件`exec-maven-plugin`吗？
2.  有没有更合适的插件？
3.  我应该输入什么文件名`<executable>....</executable>`？

    ```
    <plugin>
      <groupId>org.codehaus.mojo</groupId>
      <artifactId>exec-maven-plugin</artifactId>
      <version>1.2.1</version>
        <executions>
            <execution>
                <id>compile-jni</id>
                <phase>compile</phase>
                <goals>
                    <goal>exec</goal>
                </goals>
                <configuration>
                    <executable>./compile-jni</executable>
                    <workingDirectory>${basedir}/src/main/cpp</workingDirectory>
                </configuration>
            </execution>
        </executions>
    </plugin> 
    ```

我`Makefile`对两个平台 Linux/MS-Windows 都使用相同的

**我的脚本`compile-jni.bat`：**

```
call "%ProgramFiles(x86)%\Microsoft Visual Studio 10.0\VC\vcvarsall.bat" x86
bash -c "make" 
```

**我的脚本`compile-jni.sh`：**

```
#!/bin/sh
make 
```

## 更新：

两位同事提出了替代方案：

1.  在命令行中使用变量`script.extension` 更改 并附加变量`<executable>./compile-jni${script.extension}</executable>``pom.xml``mvn compile -Dscript.extention=.bat`

2.  或在调用 maven 之前设置 Visual Studio 环境变量：

    ```
    call "C:\%ProgramFiles(x86)%\Microsoft Visual Studio 10.0\VC\vcvarsall.bat" x86
    mvn compile #(the same script 'bash -c "make"' works on both platforms) 
    ```

但是在这两种解决方案上，Eclipse 用户可能会被卡住......我仍在寻找一个自动和优雅的解决方案......

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-02-11T14:38:27.637

最后，我混合了想法 =>用于根据操作系统`<profiles>`设置内部变量：`script.extension`

```
<profiles>
  <profile>
    <id>Windows</id>
    <activation>
      <os>
        <family>Windows</family>
      </os>
    </activation>
    <properties>
      <script.extension>.bat</script.extension>
    </properties>
  </profile>
  <profile>
    <id>unix</id>
    <activation>
      <os>
        <family>unix</family>
      </os>
    </activation>
    <properties>
      <script.extension>.sh</script.extension>
    </properties>
  </profile>
</profiles> 
```

然后我使用变量来完成脚本文件名：

```
<plugin>
  <groupId>org.codehaus.mojo</groupId>
  <artifactId>exec-maven-plugin</artifactId>
  <version>1.2.1</version>
  <executions>
    <execution>
      <id>compile-jni</id>
      <phase>compile</phase>
      <goals>
        <goal>exec</goal>
      </goals>
      <configuration>
        <executable>./compile-jni${script.extension}</executable>
      </configuration>
    </execution>
  </executions>
</plugin> 
```

 `⚠   As noticed by [Maksim](https://stackoverflow.com/users/1490636/maksim-kostromin) for maven 3.5.4 move up the section `<configuration>` as shown below:`

```
<plugin>
  <groupId>org.codehaus.mojo</groupId>
  <artifactId>exec-maven-plugin</artifactId>
  <configuration>
    <executable>./compile-jni${script.extension}</executable>
  </configuration>
  <version>1.2.1</version>
  <executions>
    <execution>
      <id>compile-jni</id>
      <phase>compile</phase>
      <goals>
        <goal>exec</goal>
     </goals>
    </execution>
  </executions>
</plugin> 
```

我已将工作目录从 移动`pom.xml`到 shell 脚本。为了简化维护，在这个 shell 脚本中移动了常用的东西。因此，批处理文件使用这个 shell 脚本：

**`compile-jni.bat`**：

```
call "%ProgramFiles(x86)%\Microsoft Visual Studio 10.0\VC\vcvarsall.bat" x86
bash compile-jni.sh 
```

**`compile-jni.sh`**：

```
#!/bin/sh
cd src/main/cpp
make 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-11T10:32:50.850

运行 sh 脚本的示例。

这只是`chmod`为 sh 脚本做的。请记住，如果您有一个 sh 脚本，则绝对应该`chmod`在执行其他操作（例如运行实际脚本）之前执行一个，因此以此为例，您可以执行以下第一个`<execution>`操作，然后添加另一个`<execution>`来运行您的脚本。

对于批处理文件，您只能有一个`<execution>`来运行您的脚本

```
 <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>exec-maven-plugin</artifactId>
            <version>${org.codehaus.mojo.version}</version>
            <executions>
               <execution>
                    <id>script-chmod</id>
                    <phase>install</phase>
                    <goals>
                        <goal>exec</goal>
                    </goals>
                    <configuration>
                        <executable>chmod</executable>
                        <arguments>
                            <argument>+x</argument>
                            <argument>yourscript.sh</argument>
                        </arguments>
                    </configuration>
                </execution>
            </executions>
        </plugin> 
```

并且您可能希望根据您的机器添加配置文件：

```
<profiles>
  <profile>
    <activation>
      <os>
        <family>!windows</family>
      </os>
    </activation>
    <plugin>
      <!-- add your exec-maven-plugin here -->
    </plugin>
    ...
  </profile>
</profiles> 
```

希望这将是您需要的开始

# c# - 我如何从表中获得有限的最新 6 行

> ID：14809932
> 
> 赞同：0
> 
> 时间：2013-02-11T10:08:41.710
> 
> 标签：c#

我正在尝试从我的数据库表中检索最新的 6 行，我正在使用最大值，但是我如何从表中获得有限的 6 行以及检索到的结果以用于 for 循环，以在面板中显示超链接

```
protected void Page_Load(object sender, EventArgs e)
{

                String sql = "select title from up_song ";
                SqlDataAdapter adpt = new SqlDataAdapter(sql, cn);
                DataSet ds = new DataSet();
                adpt.Fill(ds, "title");
                if (ds.Tables["title"].Rows.Count > 0)
                {
                    int m = ds.Tables["title"].Rows.IndexOf(ds.Tables["title"].Rows[8]);
                    int k = ds.Tables["title"].Rows.IndexOf(ds.Tables["title"].Rows[1]);

                    for (i=m; i >= k ; --i)
                     {
                         try
                         {
                             hp[i] = new HyperLink();
                             hp[i].ID = "hp" + i;
                             hp[i].Text = ds.Tables["title"].Rows[i].ItemArray[0].ToString();
                             hp[i].NavigateUrl = "Downloadpage.aspx";
                             hp[i].ForeColor = System.Drawing.Color.White;
                             Panel1.Controls.Add(hp[i]);
                             Panel1.Controls.Add(new LiteralControl("<br>"));
                             HttpCookie coo = new HttpCookie("song");
                             coo["sogtit"] = ds.Tables["title"].Rows[i].ItemArray[0].ToString();
                             Response.Cookies.Add(coo);
                         }
                         catch(Exception ex)
                         {
                             Response.Write(ex.Message);
                         }
                    }
                }

                String sql1 = "select title from up_song where Song_type='Indian Pop Album'";
                SqlDataAdapter adpt1 = new SqlDataAdapter(sql1, cn);
                DataSet ds1 = new DataSet();
                adpt1.Fill(ds1, "title");

              if (ds1.Tables["title"].Rows.Count > 0)
                {
                  String query = "select max(song_id) from up_song;";  
                  SqlDataAdapter adpt2= new SqlDataAdapter(query,cn);
                    DataSet ds2= new DataSet();
                  adpt2.Fill(ds2,"max");

                    //int m = ds.Tables["title"].Rows.IndexOf(ds1.Tables["title"].Rows[query]);
                    //int k = ds.Tables["title"].Rows.IndexOf(ds.Tables["title"].Rows[1]);

                    for (i = 0; i <= ds2.Tables["max"].Rows.Count; ++i)
                    {
                        try
                        {
                            hp[i] = new HyperLink();
                            hp[i].ID = "hp" + i;
                            hp[i].Text = ds1.Tables["title"].Rows[i].ItemArray[0].ToString();
                            hp[i].NavigateUrl = "Downloadpage.aspx";
                            hp[i].ForeColor = System.Drawing.Color.White;
                            Panel2.Controls.Add(hp[i]);
                            Panel2.Controls.Add(new LiteralControl("<br>"));
                            HttpCookie coo = new HttpCookie("song");
                            coo["sogtit"] = ds.Tables["title"].Rows[i].ItemArray[0].ToString();
                            Response.Cookies.Add(coo);
                        }
                        catch (Exception ex)
                        {
                            Response.Write(ex.Message);
                        }
                    }

                }
              cn.Close(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T10:10:59.050

```
select top 6 title from up_song order by song_id desc 
```

# c++ - 当我使用 bcp 导出 boost 线程时如何克服构建错误？

> ID：14809934
> 
> 赞同：2
> 
> 时间：2013-02-11T10:08:44.187
> 
> 标签：c++, boost, boost-thread, boost-build

我正在使用 boost *bcp*工具从 boost 中导出*线程*库。导出库的布局是

```
- Jamroot
+ libs
  |----- + thread
           |----- + build
                    |----- - Jamfile.v2
+ boost
+ doc 
```

现在，当我在构建库中运行*bjam时，我得到了：*

```
boostcpp.jam: No such file or directory
../../../Jamroot:138: in modules.load
rule boostcpp.set-version unknown in module Jamfile</Users/miladrezayee/Softwares/developer/boost_1_53_0/tmp1>
/Users/miladrezayee/Softwares/developer/boost_1_53_0/tools/build/v2/build/project.jam:317: in load-jamfile
/Users/miladrezayee/Softwares/developer/boost_1_53_0/tools/build/v2/build/project.jam:62: in load
/Users/miladrezayee/Softwares/developer/boost_1_53_0/tools/build/v2/build/project.jam:115: in load-parent
/Users/miladrezayee/Softwares/developer/boost_1_53_0/tools/build/v2/build/project.jam:430: in initialize
/Users/miladrezayee/Softwares/developer/boost_1_53_0/tools/build/v2/build/project.jam:308: in load-jamfile
/Users/miladrezayee/Softwares/developer/boost_1_53_0/tools/build/v2/build/project.jam:62: in load
/Users/miladrezayee/Softwares/developer/boost_1_53_0/tools/build/v2/build/project.jam:168: in project.find
/Users/miladrezayee/Softwares/developer/boost_1_53_0/tools/build/v2/build-system.jam:570: in load 
```

我导出了*系统*库，当我在构建文件夹中运行 *bjam 时，它编译成功。我不知道为什么*线程*库无法编译？有人知道*线程*库出了什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T11:45:55.940

好的，我找到了你应该 bcp 的解决方案，如下所示

```
$ bcp build /path/of/exported/thread 
$ bcp chrono /path/of/exported/thread 
```

现在我可以在导出的线程库的根路径上运行 bjam 并且编译成功。

# javascript - 骨干和listenTo和一个奇怪的边框效果

> ID：14809937
> 
> 赞同：0
> 
> 时间：2013-02-11T10:08:45.780
> 
> 标签：javascript, backbone.js

我定义了一个主干视图

```
Views.BaseView = Backbone.View.extend({
   viewState : new Backbone.Model(),
   initialize: function(){
       this.listenTo(this.viewState, "change:stateType", this.onAlertType)
  }
} 
```

我有扩展 BaseView 的 GlobalView，它允许我显示和管理我的 ItemView。ItemView 也扩展了 BaseView。

我的问题是，如果我在 ItemView 级别更改 viewState.stateType ：

```
MyItemView.viewState.set('stateType', 1) 
```

GlobalView 首先通知 ItemView 的 viewState 属性的变化。

我的 GlobalView 没有得到任何特定的“listenTo”，我定义的唯一“listenTo”是 BaseView 级别的。

为什么 globalView 会收到有关 ItemView 上定义的 viewState 对象更改的通知？有没有人看到我做错了什么？这是一个已知的错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T11:07:10.720

当您使用 定义 Backbone 对象（例如`View`）`.extend`的属性时，该属性将附加到对象的原型。这意味着该对象的所有实例共享相同的属性值。

这对方法非常有意义，因为您不想为对象的每个实例的每个方法创建一个新的函数实例。它对不可变值类型属性也相对无害，因为原始值没有被修改，并且当您使用另一个值重新分配属性时，会在实例上创建一个新属性，并且隐藏原型属性而不修改它：

```
var SomeView = BaseView.extend({
  foo:'foo'
});

var view1 = new SomeView();
var view2 = new SomeView();

view1.foo = 'bar';
console.log(view1.foo, view2.foo); // -> bar, foo 
```

当您将属性设置为可变对象（例如`Object`、`Array`或类似对象）时，就会出现问题。当您更改该对象而不重新分配属性时，这会更改所有实例上的该属性值。

在您的情况下`viewState`，所有视图的属性都指向同一个模型实例，因此：

```
var view1 = new SomeViewThatExtendsBaseView();
view1.viewState.set('stateType', 1);

var view2 = new SomeOtherViewThatAlsoExtendsBaseView();
console.log(view2.viewState.get('stateType')); // -> 1 
```

要使用 Backbone 声明实例属性，您应该在`initialize`方法中创建它们：

```
Views.BaseView = Backbone.View.extend({
  initialize: function() {
    this.viewState = new Backbone.Model();
    this.listenTo(this.viewState, "change:stateType", this.onAlertType)
  }
} 
```

# sql - 将 MAX 函数与两个 GROUP BY 语句一起使用时遇到问题

> ID：14809939
> 
> 赞同：0
> 
> 时间：2013-02-11T10:08:49.000
> 
> 标签：sql, oracle, oracle10g, group-by

我首先创建一个子查询来显示 (complete_dt-create_dt) 的 MAX 值，按一天中的每个小时分组。然后，我按天分组，因为我想显示每天的最大值（按小时最大值分组）。

我得到的是每一行中显示的所有日期的 MAX 值：

```
最大（时间长度）| 天
210.5 | 16
210.5 | 17
210.5 | 27

```

这是我使用的查询，我做错了什么：

```
select max(hours.timelength) TimeLength, TO_CHAR(trunc(t.create_dt), 'DD') DAY   
FROM ORDERS t, 
     (select round(avg(24 * 3600 * (m.complete_dt-m.create_dt)),1) TimeLength
     from ORDERS m
     GROUP BY TRUNC(m.create_dt, 'HH')) hours  
where t.order_status_id in (80)
GROUP BY TO_CHAR(trunc(t.create_dt), 'DD') 
```

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:18:12.610

这可能会给你你所追求的。

```
select max(hours.timelength) TimeLength, hours.Day   
FROM
 (
 select 
 round(avg(24 * 3600 * (m.complete_dt-m.create_dt)),1) TimeLength,
 TO_CHAR(trunc(t.create_dt), 'DD') Day,
 TRUNC(m.create_dt, 'HH') hours
 from ORDERS m
 where t.order_status_id in (80)
 GROUP BY TRUNC(m.create_dt, 'HH'), TO_CHAR(trunc(t.create_dt), 'DD')
 ) hours  
GROUP BY hours.Day 
```

您的原始查询在 t 和 hours 之间没有连接

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T14:35:23.837

我想你想要这样的东西：

```
select max(hours.timelength) as TimeLength, trunc(firstcreate_dt) as DAY   
FROM ORDERS t, 
     (select round(avg(24 * 3600 * (m.complete_dt-m.create_dt)),1) TimeLength,
             min(create_dt) as firstcreate_dt
      from ORDERS m
      where t.order_status_id in (80)
      GROUP BY TRUNC(m.create_dt, 'YYYY-MM-DD HH')
     ) hours  
GROUP BY trunc(firstcreate_dt) 
```

您不想使用`to_char(. . . , 'DD')`，因为它只返回月份中的某一天。

此外，在表达式`to_char(trunc(t.create_dt), 'DD')`中 the`trunc()`是不必要的。

# javascript - 获取当前正在运行的 QUnit 测试的标题（名称）

> ID：14809940
> 
> 赞同：6
> 
> 时间：2013-02-11T10:08:58.580
> 
> 标签：javascript, qunit

我想在每个 QUnit 测试中记录一个快速分隔符到控制台，如下所示：

```
test( "hello test", function() {
    testTitle = XXX; // get "hello test" here
    console.log("========= " + testTitle + "==============");
    // my test follows here
}); 
```

我怎样才能得到测试的标题（可能也称为“名称”）？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-11T14:05:45.433

您可以使用[QUnit 的回调来实现](http://api.qunitjs.com/category/callbacks/)。它们在测试执行期间的几个不同点被调用（例如，在每个测试之前，在每个模块之后，......）

这是我的测试套件中的一个示例：

```
QUnit.begin = function() {
    console.log('####');
};

QUnit.testStart = function(test) {
    var module = test.module ? test.module : '';
    console.log('#' + module + " " + test.name + ": started.");
};

QUnit.testDone = function(test) {
    var module = test.module ? test.module : '';
    console.log('#' + module + " " + test.name + ": done.");
    console.log('####');
}; 
```

它将它放在一个名为的文件中`helper.js`，并将其包含在测试 index.html 页面中。

它产生如下输出：

```
####
#kort-Availability Includes: started.
#kort-Availability Includes: done.
#### 
#kort-UrlLib Constructor: started.
#kort-UrlLib Constructor: done.
#### 
#kort-UrlLib getCurrentUrl: started.
#kort-UrlLib getCurrentUrl: done. 
#### 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-02-25T10:21:14.030

使用此解决方案很简单：

```
test( "hello test", function(assert) {
  testTitle = assert.test.testName; // get "hello test" here
  console.log("========= " + testTitle + "==============");
  // my test follows here
}); 
```

=========你好测试===============

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T10:31:46.910

你应该试试`Javascript`'s `arguments`object（[在这里](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Functions_and_function_scope/arguments)阅读更多）：

```
test( "hello test", function() {
    testTitle = arguments.callee.caller.arguments[0]; // get "hello test" here
    console.log("========= " + testTitle + "==============");
    // my test follows here
}); 
```

**编辑：**
我创建了一个小的（和记录的）[jsFiddle 示例](http://jsfiddle.net/Uc8fs/)，说明它应该如何工作。
请注意，我的答案是纯粹`JavaScript`的，并且不仅适用于`QUnit`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-03-02T12:18:43.707

QUnit.config.current 是一个包含当前正在运行的测试的对象。所以你可以显示它，比如 console.log(QUnit.config.current)。这个对象有很多参数（testName，started..）你可以改变它们。

```
QUnit.test("some test", function() {
  console.log( QUnit.config.current.testName);
}); 
```

# php - 未定义的偏移错误

> ID：14809943
> 
> 赞同：-2
> 
> 时间：2013-02-11T10:09:14.660
> 
> 标签：php, html, forms, button

我想以表单和逐行格式显示从 mysql 检索到的值。所以我使用了以下代码。

```
<?php 
  while($rows1 = mysql_fetch_array($result1)){ 
?>
<tr height="30" > 
<?php $elyid = $rows1['id'] ?>
  <form action="leaveactions.php" method="post" name="viewleave">
   <td width="82"><?php echo $rows1['empid'];?></td>
   <td><?php echo $rows1['name'];?></td>
   <td><?php echo $rows1['leavetype'];?></td>
   <td width="82"><?php echo $rows1['startdate']; ?></td>
   <td width="82"><?php echo $rows1['enddate']; ?></td>
   <td><?php echo $rows1['leavetype']; ?></td>
   <td>
     <input type="submit" name="<?php $rows1['id']; ?>" value="accept"/>
   </td>
   <td>
     <input type="submit" name="reject" value="reject"/>
     <input type="hidden" name="emplid" value="<?php echo $rows1['id'] ?>"/>
   </td>
</tr>
<?php       } ?> 
```

在 leaveactions.php 中

```
$ii=0;
$query1 = "select * from applied_leaves where supervisorid ='".$employeeId."' and status='not approved'";
$result1 = mysql_query($query1) or die (mysql_error());
$num1 = mysql_numrows($result1);

while($rows1 = mysql_fetch_array($result1)) {
  $ii++;
  echo $_POST["$ii"];
  if(isset($_POST['$ii'])){
    echo "accepted "; echo $_POST['$ii'];
    $updateEmp = "update applied_leaves set status='".$accept."' where id='$ii' " ;
    $uresult = mysql_query($updateEmp) or die (mysql_error());
    if($uresult != null){
      echo "Assignment Added successfully<br>";
?>
      <a href="updateassignment.php">View Added Details</a>
<?php                       
    } else {
      echo "error";
    }
  }
}
?> 
```

但是当我跑步时

```
 Notice: Undefined offset: 1
 Notice: Undefined offset: 2
.
.
.
.
.
. 
```

像那样。请帮我解决问题。提前致谢

**编辑**

导致异常的新代码是

```
 $iii=0;
                while($rows1 = mysql_fetch_array($result1))
                {
                  $iii++;

                if(  $_POST["accpt".$iii] ) { 

                  echo "accepted "; 
                  $updateEmp = "update applied_leaves set status='".$accept."' where id='$iii' " ;
                  $uresult = mysql_query($updateEmp) or die (mysql_error());
                  if($uresult != null){
                        echo "Assignment Added successfully<br>";
                        ?>
                        <a href="updateassignment.php">View Added Details</a>
                        <?php   break;                  
                    }

                }

                } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:44:14.613

我认为您的主要错误在于：

```
<input type="submit" name="<?php $rows1['id']; ?>" value="accept"/> 
```

这里你没有 echo `$rows1['id']`，所以如果你看一下生成的代码，名字应该是空的。

将此更正为

```
<input type="submit" name="<?php echo $rows1['id']; ?>" value="accept"/> 
```

* * *

此外，`leaveactions.php`您还有以下代码：

```
// ...
echo $_POST["$ii"];
if(isset($_POST['$ii'])){
  echo "accepted "; echo $_POST['$ii'];
// ... 
```

在这里，您应该首先检查变量（这里是`$_POST[$ii]`-`"`不需要），然后再进行输出。

由于先前的错误，`$_POST[$ii]`未设置，因此您首先会收到通知，之后`echo`再也不会输入 -`if`子句。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T10:12:13.980

这是因为您尝试访问的数组位置为空（不可用）。[使用isset](http://php.net/manual/en/function.isset.php)方法检查数组位置是否存在。

```
if( isset( $array['position'] )
{
  //position exists
} 
```

*只是不要在这里发布您的代码。粘贴与错误相关的行。至少尝试注释发生错误的行。*

# url - IIS 中的动态到静态 URL 重定向

> ID：14809946
> 
> 赞同：1
> 
> 时间：2013-02-11T10:09:26.217
> 
> 标签：url, iis, web-config

我想通过 web.config 将动态 URL 重定向到静态 URL。但是现在我没有通过我上传的 web.config 文件获得任何重定向。动态 URL 如下： *- [http://www.greatmathworksheets.com/?page=grade-worksheets-list&levelid=11](http://www.greatmathworksheets.com/?page=grade-worksheets-list&levelid=11)* 等，如 levelid=12 等。要重定向的静态 URL 如下 *- [http:// /www.greatmathworksheets.com/grade-based-curriculums-11](http://www.greatmathworksheets.com/grade-based-curriculums-11)* 等等，比如 levelid=12

请让我知道我应该怎么做才能重定向 URL。请帮我。

web.config 文件如下：

```
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
<system.webServer>
    <rewrite>
        <rules>
            <rule name="Rule 1">
                <match url="(.*)" />
                <conditions>
                    <add input="{HTTP_HOST}" pattern="^www\.greatmathworksheets\.com$" negate="true" />
                </conditions>
                <action type="Redirect" url="http://www.greatmathworksheets.com/{R:1}" />
            </rule>
            <rule name="Rule 2" stopProcessing="true">
                <match url="^index\.php$" ignoreCase="false" />
                <action type="Redirect" url="http://www.greatmathworksheets.com/" redirectType="Permanent" />
            </rule>
            <rule name="Rule 3" stopProcessing="true">
                <match url="^([a-z]+)$" ignoreCase="false" />
                <action type="Rewrite" url="?page={R:1}" appendQueryString="false" />
            </rule>
            <rule name="Rule 4" stopProcessing="true">
                <match url="^contact-us$" ignoreCase="false" />
                <action type="Rewrite" url="?page=contact-us" appendQueryString="false" />
            </rule> 
    <rule name="Rule 7">
            <match url="^grade-based-curriculum$" ignoreCase="false" />
            <action type="Rewrite" url="?page=grade_level_curriculum" appendQueryString="false" />
            </rule>
            <rule name="Rule 8">
                <match url="^activity-based-curriculum$" ignoreCase="false" />
                <action type="Rewrite" url="?page=skill_level_curriculum" appendQueryString="false" />
            </rule>        
    <rule name="Rule 13">
                <match url="activity-based-curriculums-(.*)" ignoreCase="false" />
                <action type="Rewrite" url="?page=worksheets-list&amp;levelid={R:1}" appendQueryString="false" />
            </rule>
            <rule name="Rule 14">
                <match url="grade-based-curriculums-(.*)" ignoreCase="false" />
                <action type="Rewrite" url="?page=grade-worksheets-list&amp;levelid={R:1}" appendQueryString="false" />
            </rule>

 <rule name="Rule 15" stopProcessing="true">
                  <match url="(.*)/$" ignoreCase="false" />
                 <conditions logicalGrouping="MatchAll">
  <add input="{QUERY_STRING}" pattern="page=inquiry" />
                       </conditions>
                <action type="Redirect"        url="http://www.greatmathworksheets.com/inquiry" redirectType="Permanent" />
            </rule> 
        </rules>
    </rewrite>
</system.webServer>
</configuration> 
```

谢谢，

尼丁

# c# - JavaScript 从字符串中减去元素

> ID：14809947
> 
> 赞同：0
> 
> 时间：2013-02-11T10:09:34.587
> 
> 标签：c#, javascript

我正在从 C# 向 JavaScript 函数字符串发送***"11-2-2013"***，并期望在 JavaScript 函数中使用该字符串，但我正在选通 11 - 2 - 2013 = ***-2004***。

C#代码：

```
string id = 11 + '-' + 2 + '-' + 2013;
textBoxBO.Attributes.Add("onblur", "TextBoxReset(this," + id + ")"); 
```

JavaScript 代码：

```
function TextBoxReset(txt, ID) {
    if (txt.value > 0) {
        var textBoxRR = document.getElementById("ContentPlaceHolder1_txtRR" + ID);
        textBoxRR.value = 0;
    }
} 
```

如何告诉 JavaScript 不要从该字符串中减去元素。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T10:11:45.323

您必须将日期放在引号中：

```
textBoxBO.Attributes.Add("onblur", "TextBoxReset(this,\"" + id  + "\")"); 
```

如果你不把它放在引号中，它将被渲染为`TextBoxReset(this, 11-2-2013)`，这将导致`-2004`.

# go - parsing templates at compile time

> ID：14809950
> 
> 赞同：4
> 
> 时间：2013-02-11T10:09:52.000
> 
> 标签：go

In my understanding, go templates are parsed from a given source at runtime in order to get a compiled version of type template.Template. Then, the compiled version is executed on some data to do the actual templating.

But then I'm wondering : is it possible to parse a template at compile time ?

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T17:28:05.743

Just make them global variables [like this](http://play.golang.org/p/AAS9pEpjde). You'll still parse the templates at run time but it will be immediately so the binary will fail as soon as you run it if it can't parse them properly.

```
package main

import (
    "fmt"
    "text/template"
)

var t = template.Must(template.New("name").Parse("text"))

func main() {
    fmt.Println("Template", t)
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T15:28:40.123

can't do it at compile time, but you can parse them at runtime before `main()` by parsing them inside [the init function](http://golang.org/doc/effective_go.html#init).

# jpa - JPA 注释做多映射

> ID：14809951
> 
> 赞同：0
> 
> 时间：2013-02-11T10:09:53.243
> 
> 标签：jpa

我在进行一对多映射时遇到了一个问题，例如，我有一个 USER 类和另一个 PHONE 类，并且从 USER 到 PHONE 存在一对多映射。我已经这样设计了我的课程，

```
class USER{

@Column(name="user_id")
UUID user_id;

@OneToMany
Set<PHONE> phones;
}

class PHONE{
@Column(name="phone_id")
UUID phone_id;

@Column(name=user_id)
UUID user_id;
} 
```

有没有我可以使用的注释而不在电话类中定义 USER 类型？

如果我喜欢这个“PHONE 类中的用户”，那么我可以定义单向或双向关系。但我想将 user_id 保留在 PHONE 表中，因为当我拿到 PHONE 时，我也不想获取 USER 详细信息。谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:49:38.347

如果您不想在加载手机时加载用户，请将关联设为惰性：

```
@Entity
public class User {
    ...

    @OneToMany(mappedBy = "user")
    private Set<Phone> phones;
}

@Entity
public class Phone
    ...

    @ManyToOne(fetch = FetchType.LAZY)
    private User user;
} 
```

请注意，上面的代码也遵守 Java 命名约定。类不应该全部大写。

# php - 在 Facebook 墙上发布消息

> ID：14809954
> 
> 赞同：1
> 
> 时间：2013-02-11T10:09:55.900
> 
> 标签：php, facebook, facebook-wall

我在 facebook 上创建了一个应用程序。现在我想在 facebook 墙上发布消息。由于我是应用程序的开发人员，所以当我登录到我的 facebook 帐户时，消息就会出现在我的墙上，但是当我登录到另一个用户时，这个应用程序没有得到并且页面正在重定向到**[http://www.facebook.com/4oh4.php](http://www.facebook.com/4oh4.php)**。我的代码如下

```
$facebook = new Facebook(array(

            'appId' => myAppId,
            'secret' => myAppSecret,
                'cookie' => true,
                'req_perms' => 'email,read_stream,read_friendlists,publish_stream,offline_access,manage_pages'

        ));
    $user = $facebook->getUser();
$app_id = myAppId;
        $canvas_page = "https://apps.facebook.com/apptestingas/";
        $auth_url = "http://www.facebook.com/dialog/oauth?client_id=" 
            . $app_id . "&redirect_uri=" . urlencode($canvas_page)."&scope=email,read_stream,read_friendlists,publish_stream,offline_access,manage_pages";
 if(isset($_REQUEST["signed_request"]))
     {
        $signed_request = $_REQUEST["signed_request"];
        list($encoded_sig, $payload) = explode('.', $signed_request, 2); 
        $data = json_decode(base64_decode(strtr($payload, '-_', '+/')), true);

     }
      if (empty($data["user_id"]))
     {
        echo("<script> top.location.href='" . $auth_url . "'</script>");

     }
     else 
     {
        $uid = $data["user_id"];

     } 
try {
    // Proceed knowing you have a logged in user who's authenticated.
 echo $token = $facebook->getAccessToken();
$user_profile = $facebook->api('/'.$uid.'',array (
'access_token' => $token)
);

  } catch (FacebookApiException $e) {
    error_log($e);
    $user = null;
  }
  if (!empty($user_profile )) {
        # User info ok? Let's print it (Here we will be adding the login and registering routines)

       echo  $username = $user_profile['name'];
    $uid = $user_profile['id'];
$facebook->api('/'.$uid.'/feed', 'post', array(
          'message' => "sdsgdg testingbbbb",

      ));
  } 
```

请任何人帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:15:41.087

您的应用程序是否设置为沙盒模式？这可以在应用程序设置中控制。引用描述：“如果启用，只有应用程序开发人员才能使用应用程序”。

# sql-server-2008-r2 - 无法连接到服务器 - 错误 26

> ID：14809959
> 
> 赞同：0
> 
> 时间：2013-02-11T10:10:11.330
> 
> 标签：sql-server-2008-r2

我的本地服务器名称是 SQL server 20008 R2 中的 USER-F7A3EE0FF2\SQLEXPRESS，用户 ID 是“sa”密码也是正确的。我可以在几个小时前访问，但重新启动系统后无法访问。

在 SQL Server 2008 R2 中连接本地服务器时，出现如下错误消息： ![在此处输入图像描述](../Images/88e535dae1169875aa1b2a952dcd62af.png)

但是，远程服务器是可访问的。它的解决方案是什么？

# php - 使用 cron 运行较长的 PHP 任务，没有 AJAX

> ID：14809960
> 
> 赞同：0
> 
> 时间：2013-02-11T10:10:11.600
> 
> 标签：php, parsing, cron, phpexcel, large-files

我需要将大型 Excel 表解析到我的数据库中。我正在使用 PHPExcel。这些文件太大而无法一次导入，我必须处理最大执行时间和内存限制。

所以现在系统是这样工作的：操作员在浏览器中上传文件，然后导入脚本运行多次，直到整个文件被解析。PHP 脚本仅导入部分 excel 文件，并返回一个值。如果仍有一些未解析的行 - AJAX 再次运行脚本。

现在我想把这个任务移动到cron，但是我不知道怎么做，因为我不知道脚本需要执行多少次才能完成工作。

有没有办法一次又一次地执行脚本直到它完成，但没有在浏览器中处理它（通过 AJAX、重新加载等）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T11:18:27.667

exec() 不会做你想要的。您可以通过一项设置克服内存和生命周期限制

```
memory_limit = -1
max_execution_time = 0 
```

但无论如何，CLI PHP 的执行时间是无限的——如前所述。

我会将您上传的所有文件放入某个工作目录中，并且每分钟都会出现一个 cron 脚本并处理未处理的文件（一次，或 Ntime，但不应该需要那个......）。Cron PHP 脚本可以在文件完成时（如果您有多个进程，当它开始处理文件时）接触文件，因此它知道哪些文件已完成（或被另一个进程使用）。AJAX 端点可以测试该标志文件或类似文件的存在以通知客户端。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T10:37:11.523

使脚本在后台运行。使用执行功能。参考下面的手册

[http://php.net/manual/en/function.exec.php](http://php.net/manual/en/function.exec.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T11:57:38.647

为什么不让工作每 x 分钟连续运行一次，用这种东西：

```
Check if there are any files neededing parsed
If NO
    exit
else 
    Parse X number of rows from where we left off, 
    keeping track of where we are upto. 
```

该脚本将愉快地在后台运行，检查是否有任何事情要做，如果没有，它就会退出。

# javascript - 下拉菜单位于窗口区域之外 - Bootstrap

> ID：14809961
> 
> 赞同：3
> 
> 时间：2013-02-11T10:10:14.767
> 
> 标签：javascript, drop-down-menu, twitter-bootstrap

Bootstrap Twitter 的下拉菜单是在底部打开的，因为超出了窗口区域而没有出现。我需要在上面显示。是否有强制属性出现在顶部？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T11:01:48.967

要使菜单按照您的方式上升，您只需将 .dropup 类添加到带有 .btn-group 类的 div 中。

```
<div class="btn-group dropup">
  <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
    Action
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu">
      <li>aaaaa</li>
      <li>aaaaa</li>
      <li>aaaaa</li>
      <li>aaaaa</li>
      <li>aaaaa</li>
      <li>aaaaa</li>
      <li>aaaaa</li>
      <li>aaaaa</li>
      <li>aaaaa</li>
      <li>aaaaa</li>
      <li>aaaaa</li>
  </ul>
</div> 
```

完整信息在这里：

[http://twitter.github.com/bootstrap/components.html#buttonDropdowns](http://twitter.github.com/bootstrap/components.html#buttonDropdowns)

# vb.net - 设置 DataGridViewButtonColumn 的 Image On Button

> ID：14809963
> 
> 赞同：0
> 
> 时间：2013-02-11T10:10:18.057
> 
> 标签：vb.net, winforms, datagridview

如何将正常和*按下*图像设置为我的按钮`DataGridViewButtonColumn` 现在我正在使用图像按钮，因此我能够设置图像按钮 如何设置按下图像。

实际上我想要按钮可以点击，它应该有图像，点击后图像应该改变。请看下面的图片。

前![在此处输入图像描述](../Images/cabc1ba96f9aa626aed94506522538f6.png)

后![在此处输入图像描述](../Images/4d497797194dac8a8b8ddc6c2dc71a11.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:31:57.247

试试看，`CellContentClick event`这只是一个例子，我希望你能有所了解。

```
 private void dataGridView2_CellContentClick(object sender, DataGridViewCellEventArgs e)
    {
        if (e.ColumnIndex == 1) //Where your DataGridViewButtonColumn index
        {
            if (dataGridView2[e.ColumnIndex, e.RowIndex].EditedFormattedValue.ToString().Length > 0)
            {
                if (dataGridView2[e.ColumnIndex, e.RowIndex].EditedFormattedValue.ToString() == "Start")
                {
                    dataGridView2[e.ColumnIndex, e.RowIndex].Value = "Stop";
                }
                else
                {
                    dataGridView2[e.ColumnIndex, e.RowIndex].Value = "Start";
                }
            }
            else
                dataGridView2[e.ColumnIndex, e.RowIndex].Value = "Start";
        }

    } 
```

# servlets - Servlet 线程池

> ID：14809965
> 
> 赞同：0
> 
> 时间：2013-02-11T10:10:20.290
> 
> 标签：servlets, threadpool

当 servlet 从线程池中重用线程时，一旦它们返回到池中，它们持有的所有引用会发生什么情况？它们是否以某种方式设置为空？有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T12:51:02.097

线程不保存任何引用，除了那些由 s​​ervlet 容器本身设置的引用，以及那些可能由您自己的代码存储在 ThreadLocal 变量中的引用。

并且那些没有设置为空。

# android - Android 从联系人列表中获取电话号码

> ID：14809972
> 
> 赞同：0
> 
> 时间：2013-02-11T10:10:42.903
> 
> 标签：android, contacts

在这里，获取电话号码以从联系人列表中检索电话号码的代码。它适用于“名称”。但我无法获得电话号码请给我代码以获取电话号码。在此先感谢........

```
 cr = getContentResolver(); 
    contactList = cr.query(ContactsContract.Contacts.CONTENT_URI,null, null,   null,null);      
    if(contactList.getCount() > 0)
    {while(contactList.moveToNext())
    {id = contactList.getString(contactList.             getColumnIndex(ContactsContract.Contacts._ID));
    name = contactList.getString(contactList.         getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));
    number = contactList.getString(contactList.
getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
        cntctArrayList.add(number);             
    Log.e("", name);
    System.out.println("Contact_id:"+id+"Contact name:"+number);}
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-11T10:14:04.403

试试这个：

```
 ContentResolver cr = getContentResolver();
   Cursor cur = cr.query(ContactsContract.Contacts.CONTENT_URI, null,
                null, null, null);

  if (cur.getCount() > 0) {
  while (cur.moveToNext()) {
  String id = cur.getString(cur.getColumnIndex(ContactsContract.Contacts._ID));
  String name =   cur.getString(cur.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));
if (Integer.parseInt(cur.getString(cur.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER))) > 0) {  

 Cursor pCur = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,
        null,
         ContactsContract.CommonDataKinds.Phone.CONTACT_ID
            + " = ?", new String[] { id },
       null);

 while (pCur.moveToNext()) {
  String phoneNo =   pCur.getString(pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
    }

                }
            }
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-04T11:09:50.870

```
public void getContactPhoneNumbers()
{       
    Cursor c1 = this.getContentResolver().query(
            ContactsContract.Contacts.CONTENT_URI, null, null, null, null);

    String personName = null, number = null;
    try 
    {
        if(c1.getCount() > 0)
        {
            int i=0;
            while(c1.moveToNext() && i<10)
            {
                i++;
                String id = c1.getString(
                        c1.getColumnIndex(Contacts._ID));
                //Below code will get contact name
                personName = c1.getString(
                        c1.getColumnIndex(Contacts.DISPLAY_NAME));
                Toast.makeText(getApplicationContext(), 
                        "name.."+personName,
                        0).show();
                //based on id, now you can find email of that person
                Cursor cn = this.getContentResolver().
                            query(CommonDataKinds.Email.CONTENT_URI, 
                            null, 
                            CommonDataKinds.Email.CONTACT_ID +" = ?", 
                            new String[]{id}, null);
                while(cn.moveToNext())
                {
                    number = cn.getString(
                            cn.getColumnIndex(
                                    CommonDataKinds.Email.ADDRESS));
                    int type = cn.getInt(
                            cn.getColumnIndex(
                                    CommonDataKinds.Phone.TYPE));
                    Toast.makeText(getApplicationContext(), 
                            "email.."+number+".."+type,
                            0).show();
                }
                //based on id, you can also now find his phone numbers
                Cursor cur = this.getContentResolver().
                            query(CommonDataKinds.Phone.CONTENT_URI, 
                            null, 
                            CommonDataKinds.Phone.CONTACT_ID +" = ?", 
                            new String[]{id}, null);
                while(cur.moveToNext())
                {
                    number = cur.getString(
                            cur.getColumnIndex(
                                    CommonDataKinds.Phone.NUMBER));
                    int type = cur.getInt(
                            cur.getColumnIndex(
                                    CommonDataKinds.Phone.TYPE));
                    Toast.makeText(getApplicationContext(), 
                            "number.."+number+".."+type,
                            0).show();
                }
            }
        }
    }
    finally
    {
        c1.close();
    }
} 
```

# c++ - 运算符 << 中的执行顺序

> ID：14809978
> 
> 赞同：11
> 
> 时间：2013-02-11T10:11:05.780
> 
> 标签：c++, stream, operator-keyword, cout, ostream

我很难理解下面代码中的调用顺序。我期待看到下面的输出

```
 A1B2 
```

虽然我可以看到我得到的输出是

```
 BA12 
```

我认为调用`std::cout<< b->fooA() << b->fooB() << std::endl`相当于调用

```
 std::cout.operator<<( b->fooA() ).operator<< ( b->fooB() ) 
```

但我可以看到情况并非如此。你能帮助我更好地理解它是如何工作的以及它与全球的关系`operator<<`吗？这是这个序列中最后一次调用的吗？

```
#include <iostream>

struct cbase{
    int fooA(){
        std::cout<<"A";
        return 1;
    }
    int fooB(){
        std::cout <<"B";
        return 2;
    }
};

void printcbase(cbase* b ){
    std::cout << b->fooA() << b->fooB() << std::endl;
}

int main(){
    cbase b;
    printcbase( &b );
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-11T10:25:53.957

编译器可以这样评估函数`printcbase()`：

```
void printcbase(cbase* b ){
    int a = b->FooA();    // line 1
    int b = b->FooB();    // line 2
    std::cout << a;       // line 3
    std::cout << b;       // line 4
    stc::cout << std::endl;
} 
```

或标记为 1 - 4 的行的许多排列中的一些。您只能保证第 1 行在第 3 行之前完成，第 2 行在第 4 行之前完成（当然第 3 行在第 4 行之前）。标准并没有说更多，实际上您可以期望使用不同的 C++ 编译器得到不同的结果。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-11T10:53:55.660

的执行顺序`<<`已明确定义，但 C++ 中未定义子表达式的求值顺序。[本文和 C 代码示例](https://www.securecoding.cert.org/confluence/display/seccode/EXP10-C.+Do+not+depend+on+the+order+of+evaluation+of+subexpressions+or+the+order+in+which+side+effects+take+place)说明了您提到的问题。

`BA12`并且`AB12`都是正确的。在以下代码中：

```
std::cout<< b->fooA() << b->fooB() 
```

`1`将出现在之前，`2`但`A`可能出现在之前或之后，`B`因为**编译器不承诺**它是否会评估`fooA`或`fooB`首先评估。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-11T10:54:08.420

移位运算符是左结合的；`a << b << c`读作`(a << b) << c`，表示如果`a`是具有用户定义成员的类型`operator<<`（并返回该类型），则表达式读作`a.operator<<(b).operator<<(c)`。如果改为使用 free `operator<<`，则读取为`operator<<(operator<<(a, b), c)`.

所以 的 求值`a << b`在 的求值之前排序，但和`(a << b) << c`的求值之间没有顺序依赖关系：`b``c`

```
a << b << c[1]
|         |
a << b[2] |
|    |    c[5]
a[3] b[4] 
```

如果我们像上面那样对副作用进行编号，那么副作用可以按以下顺序排列：

```
54321
53421
45321
43521
43251
35421
34521
34251 
```

# java - 线程：同步块

> ID：14809990
> 
> 赞同：1
> 
> 时间：2013-02-11T10:11:57.537
> 
> 标签：java, multithreading

我对同步块有疑问。执行以下代码后，即时输出为：

```
Inside run=>thread 2
Inside run=>thread 1
Inside run=>thread 1
Inside run=>thread 2
Inside run=>thread 2
Inside run=>thread 1
Inside run=>thread 2
Inside run=>thread 1
Inside run=>thread 1
Inside run=>thread 2 
```

我期待输出，因为只有一个线程将首先执行同步块，然后只有第二个线程将访问同步块。可能我对这个概念的理解有误吗？

```
 package com.blt;

    public class ThreadExample implements Runnable {
        public static void main(String args[])
        {

            System.out.println("A");
            Thread T=new Thread(new ThreadExample());
            Thread T1=new Thread(new ThreadExample());
            System.out.println("B");
            T.setName("thread 1");
            T1.setName("thread 2");
            System.out.println("C");
            T.start();
            System.out.println("D");
            T1.start();
        }

     synchronized public void run()
    {
        for(int i=0; i<5; i++)
        {
            try
            {
             System.out.println("Inside run=>"+Thread.currentThread().getName());
             Thread.currentThread().sleep(2000);
            }
             catch(InterruptedException e)
            {
                e.printStackTrace();
            }
          }  
    }
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T10:15:36.137

您的每个线程都在不同的对象上同步。所以是的，他们不会把对方锁在外面。但更重要的是，该`run`方法是为***没有***`Runnable`同步修饰符的接口定义的，您不应该向它添加一个（正如您已经看到的，它没有达到您认为的效果）。

 *要记住的关键是，当您在方法上使用同步修饰符时：

```
public synchronized void someMethod(); 
```

它实际上与使用`synchronized(this)`. 在这两种情况下，您都锁定了对象监视器。如果您有多个对象，则您有多个监视器。

这是您自己的示例的修改版本，它将按您的预期工作。它使用一个通用对象监视器（在本例中是您的类本身），以便同步按预期工作：

```
public class ThreadExample implements Runnable {
    public static void main(String args[]) {
        System.out.println("A");
        Thread T = new Thread(new ThreadExample());
        Thread T1 = new Thread(new ThreadExample());
        System.out.println("B");
        T.setName("thread 1");
        T1.setName("thread 2");
        System.out.println("C");
        T.start();
        System.out.println("D");
        T1.start();
    }

    public void run() {
        synchronized (ThreadExample.class) {
            for (int i = 0; i < 5; i++) {
                try {
                    System.out.println("Inside run=>"
                            + Thread.currentThread().getName());
                    Thread.sleep(500);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
            }
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-11T10:17:00.033

**您的问题是，如果 2 个同步块没有锁定在同一个监视器上，**它们就不是互斥的。

请记住，同步方法锁定在`this`监视器上 - 您的代码相当于：

```
 public void run() {
    synchronized(this) {
        //your code here
    }
 } 
```

由于您创建了两个实例，`ThreadExample`它们每个实例都有一个不同的`this`.

您可以通过在两个线程中使用相同的锁来解决您的问题，例如：

```
 public void run() {
    synchronized(ThreadExample.class) {
        //your code here
    }
 } 
```

甚至更好，只创建一个[Quoi](https://stackoverflow.com/a/14810052/829571)`ThreadExample`指出的实例。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T10:16:02.093

您已经创建了两个 Object `ThreadExample`，因此每个线程都有不同的`synchronized`方法。

创建单个对象并将引用传递给线程，您将看到同步效果。:)

```
ThreadExample thex = new ThreadExample();
Thread T=new Thread(thex);
Thread T1=new Thread(thex); 
```

这里两个线程都将使用相同的`synchronized`方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T10:17:40.007

呃，你正在同步每个线程的*运行*方法。Thread1 不会尝试运行 Thread2 的 run 方法，反之亦然。这就是为什么它实际上与根本不同步的原因相同。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-11T10:18:20.520

您正在创建该类的两个实例，并且您正在对类进行同步，因此它们将独立运行，因为没有公共锁。他们将继续单独运行。*

# html - 使一组浮动元素响应调整大小

> ID：14809991
> 
> 赞同：0
> 
> 时间：2013-02-11T10:12:05.420
> 
> 标签：html, css, responsive-design

我并排浮动了一些元素，我想做的是以某种方式使`.line`元素的宽度缩小用户调整屏幕大小，因此在某些方面只使这些元素响应。我在想我可以给出`.line`一个 % 宽度或某种溢出，这样当页面缩小时，宽度要么减小，要么被溢出隐藏，但这些似乎不起作用。任何人都可以推荐另一种选择或如何使我的想法发挥作用吗？我知道我可以使用媒体查询来改变宽度等，但我希望这是自然的，以允许不同的文本大小/长度等

这是代码[http://dabblet.com/gist/4753624](http://dabblet.com/gist/4753624)

CSS

```
.l {
    float: left;
}
span {
    display: block;
}
.line {
    border-top: 2px solid #000;
    width: 300px;
}
.icon {
    background: url('http://dummyimage.com/40/000/fff') no-repeat 0 0;
    width: 40px;
    height: 40px;
    display: inline-block;
} 
```

HTML

```
<div class="holder clearfix">
    <div class="headline clearfix"> 
        <span class="l icon ir"></span>
        <span class="l line"></span>

         <h1 class="l">Main HEadline</h1>
        <span class="l line"></span>
        <span class="l icon ir"></span>

    </div>

    <div class="headline clearfix"> 
        <span class="l icon ir"></span>
        <span class="l line"></span>

         <h1 class="l">Main HEadline</h1>
        <span class="l line"></span>
        <span class="l icon ir"></span>

    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:16:03.140

媒体查询是您想要的：

[http://www.w3.org/TR/css3-mediaqueries/](http://www.w3.org/TR/css3-mediaqueries/)

[http://css-tricks.com/css-media-queries/](http://css-tricks.com/css-media-queries/)

例如

```
@media screen and (max-width: 768px) {

    .line {
            // your css rules 
        }
} 
```

# regex - 需要正则表达式模式的帮助，它排除了android中的特殊字符

> ID：14809995
> 
> 赞同：-2
> 
> 时间：2013-02-11T10:12:25.943
> 
> 标签：regex

我想要一个正则表达式来限制用户在 android 中接受特殊字符。

我试过这个：

```
!phoneNumber.matches("[/,'*:<>!~@#$%^&()+=?()\"|!\[#$-]") 
```

但`true`无论电话号码是否包含特殊字符，它总是返回。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:23:08.377

您的正则表达式`[/,'*:<>!~@#$%^&()+=?()\"|!\[#$-]`匹配任何出现一次的列出的字符，它的否定也是如此。因此`!phoneNumber.matches("[/,'*:<>!~@#$%^&()+=?()\"|!\[#$-]")`，无论它是**a**还是**aa**还是**a！**作为**aa**和**a！**不是指定的字符**之一**。只有 case 评估为 false 才会**出现这些字符中的任何一个**。

您必须只接受这些以外的字符。为此，您应该`^`在字符类左括号 ( `[`) 之后使用一个，并在右括号之后添加一个`+`。此正则表达式匹配除所列字符之外的任何一个或多个字符。

所需的正则表达式将`"[^/,'*:<>!~@#$%^&()+=?()\"|!\\[#$-]+"`匹配具有除这些之外的一个或多个字符的模式。

**注意：**您的实现似乎是在 java 中。此正则表达式适用于**java**。

**另一件事：**你为什么要添加`\"`而不是`"`？如果要在字符串中转义，我认为`"`你不能只给出`\[`但需要。`\\[`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T12:24:31.130

由于您似乎正在匹配电话号码（并且电话号码的定义非常有限），我建议使用正面而不是负面测试：

```
phoneNumber.matches("[\\d\\s]+") 
```

如果该字段仅包含数字和空格，这将返回 true （通常我会允许电话号码中的其他字符，至少`()-+`，但您已将这些字符排除为特殊字符，因此我保持一致）。

这要简单得多，并且会从字段中排除所有无效字符。

您可能希望超越这一点，并确保它也是有效的电话号码格式。这取决于您要匹配的电话号码类型。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-20T14:56:11.147

这是我的特殊字符验证器的正则表达式变体：

```
String regExp = "^[^<>{}\"/|;:.,~!?@#$%^=&*\\]\\\\()\\[¿§«»ω⊙¤°℃℉€¥£¢¡®©0-9_+]*$";
Pattern pattern = Pattern.compile(regExp, Pattern.CASE_INSENSITIVE);
Matcher matcher = pattern.matcher(text);
return matcher.matches(); 
```

（Java代码）

# asp.net - $find() 在 IE 9 中返回 null

> ID：14809998
> 
> 赞同：3
> 
> 时间：2013-02-11T10:12:52.850
> 
> 标签：asp.net, asp.net-ajax, internet-explorer-9

有时返回的`$find()`方法，有人可以帮我解决这个问题。`Sys.Application.add_load``null`

请注意

*   这是一个**IE 9**特定问题

*   偶尔发生

*   方法`$('#id')`返回正确的 jQuery 对象

*   我试图找到的元素是`SPAN`内部`RadDockZone`

*   `$find()`页面加载后同样的函数返回AJAX组件

代码

```
Sys.Application.add_load(gridRefresh_ctl00_contentPlaceHolder_ctl02_2_C_ctl00_GridBooking);

function gridRefresh_ctl00_contentPlaceHolder_ctl02_2_C_ctl00_GridBooking() {
    var gridctl00_contentPlaceHolder_ctl02_2_C_ctl00_GridBooking = $find('ctl00_contentPlaceHolder_ctl02_2_C_ctl00_GridBooking');
    Sys.Application.remove_load(gridRefresh_ctl00_contentPlaceHolder_ctl02_2_C_ctl00_GridBooking);
    if(gridctl00_contentPlaceHolder_ctl02_2_C_ctl00_GridBooking._customData['RefreshOnPageLoad']) 
    gridctl00_contentPlaceHolder_ctl02_2_C_ctl00_GridBooking.refresh();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:21:42.280

我不确定您是否正确使用了语法。看这个例子：

[http://jsfiddle.net/turiyag/7wntu/](http://jsfiddle.net/turiyag/7wntu/)

```
$("#content").find("#someid").css({border:"5px solid blue"}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T10:33:57.920

这不起作用：

```
var xyz = $find('ctl00_contentPlaceHolder_ctl02_2_C_ctl00_GridBooking'); 
```

该方法获取当前匹配元素集中每个元素的后代，由选择器、jQuery 对象或元素过滤：

```
var xyz = $('parentSelector').find('descendantsSelector'); 
```

如果它是您用作“descendantsSelector”的 ID，则根本不需要 find，ID 必须是唯一的，所以它应该是：

```
var xyz = $('#ctl00_contentPlaceHolder_ctl02_2_C_ctl00_GridBooking'); 
```

# c++ - 适用于 C++ 的 Windows Azure SDK

> ID：14809999
> 
> 赞同：5
> 
> 时间：2013-02-11T10:12:54.483
> 
> 标签：c++, linux, azure, sdk, azure-storage-queues

我的项目的一部分是用 C++ 编写的工作应用程序，在 Linux 上运行。我刚刚发现 MS 不提供 C++ 版本的 Windows Azure SDK。我需要访问 Windows Azure 存储队列。

SDK 有 C++ 端口吗？是否有机会使用其他语言的 SDK（即 python、node.js）？或者最好的选择是使用 REST API？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-11-24T23:11:50.273

微软发布了 Azure 的 C++ SDK 预览版；详情请[点击此处](http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/20/windows-azure-storage-client-library-for-cplusplus-preview.aspx)。源代码在[Github](https://github.com/WindowsAzure/azure-storage-cpp)上。当前可用的预览版不能为 Linux 开箱即用地编译，但使其工作所需的更改非常少。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T08:32:03.883

Casablanca 正在为 Linux/C++ 准备库。查看[http://casablanca.codeplex.com/wikipage?title=Linux%20Features&referringTitle=FAQ](http://casablanca.codeplex.com/wikipage?title=Linux%20Features&referringTitle=FAQ)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T10:37:42.180

您可以通过多种语言 SDK 使用 Windows Azure 存储 - [http://blog.smarx.com/posts/windows-azure-storage-libraries-in-many-languages](http://blog.smarx.com/posts/windows-azure-storage-libraries-in-many-languages)

我认为比 REST API 更好的方法是使用 node.js SDK，如下所示 - [http://www.windowsazure.com/en-us/develop/nodejs/how-to-guides/queue-service/](http://www.windowsazure.com/en-us/develop/nodejs/how-to-guides/queue-service/) - [http:// d.hatena.ne.jp/waritohutsu/20120212/1329021441](http://d.hatena.ne.jp/waritohutsu/20120212/1329021441)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-05-04T22:03:44.557

Azure SDK 团队正在开发用于 Azure 存储和 Key Vault 的 C++ 客户端库，以及一些其他库。这些库目前处于*预览*状态。完整列表在[此处](https://azure.github.io/azure-sdk/releases/latest/#c)，其中包括指向 Azure SDK C++ 存储库和 API 参考文档中的源代码的链接。