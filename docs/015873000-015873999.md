# StackOverflow 问答 15873000-15873999

# google-chrome - chrome中的meera字体

> ID：15873004
> 
> 赞同：0
> 
> 时间：2013-04-08T06:54:51.517
> 
> 标签：google-chrome, unicode, fonts

我正在使用用于马拉雅拉姆语的 unicode 字体 meera，这是我网站中印度的一种本地语言。以及在 Chrome 中显示一些大字体的大型帖子。但它在所有其他浏览器中都能完美运行。在这里，我提供了 Firefox 和 chrome 中内容的截图。

![在此处输入图像描述](https://i.stack.imgur.com/RiIyv.png)

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T11:27:56.143

我认为问题在于 Google Chrome 的编码格式。以下解决方案对我有用。

*   谷歌浏览器设置 -> 显示高级设置...
*   网页内容部分 -> 自定义字体...
*   选择编码 Unicode (UTF-8)。单击完成。
*   重新启动 Chrome。

享受 ！！！

# makefile - 如何从特定的目标文件制作特定的二进制文件？

> ID：15873011
> 
> 赞同：2
> 
> 时间：2013-04-08T06:55:51.553
> 
> 标签：makefile, gnu-make

这是我的 makefile，我在 obj/ 目录中有目标文件，我需要将它们编译成 bin/ 文件夹中的二进制文件，但不知何故它不能像我希望的那样工作，有什么想法吗？

```
SOURCES= $(wildcard *.c)
OBJECTS:= $(patsubst %.c, %.o, $(SOURCES))
OBJECTS:= $(addprefix obj/,$(OBJECTS))
NAMES:= $(patsubst %.c, %, $(SOURCES))
NAMES:= $(addprefix bin/,$(NAMES))
CC=gcc
CFLAGS= -Wall -c -o
DIRS = bin obj

all: $(DIRS) $(NAMES)

$(NAMES): $(OBJECTS)
    $(CC) -o $@ $<

obj/%.o: %.c 
    $(CC) $(CFLAGS) $@ $<

$(DIRS):
    mkdir -p $@

clean:
    rm -rf $(DIRS) 
```

实际输出：

```
mkdir -p bin
mkdir -p obj
gcc -Wall -c -o obj/task1.o task1.c
gcc -Wall -c -o obj/task2.o task2.c
gcc -Wall -c -o obj/task3.o task3.c
gcc -o bin/task1 obj/task1.o
gcc -o bin/task2 obj/task1.o
gcc -o bin/task3 obj/task1.o 
```

预期输出：

```
mkdir -p bin
mkdir -p obj
gcc -Wall -c -o obj/task1.o task1.c
gcc -Wall -c -o obj/task2.o task2.c
gcc -Wall -c -o obj/task3.o task3.c
gcc -o bin/task1 obj/task1.o
gcc -o bin/task2 obj/task2.o
gcc -o bin/task3 obj/task3.o 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T13:07:36.587

在这个规则中：

```
$(NAMES): $(OBJECTS)
    $(CC) -o $@ $< 
```

*每个*可执行文件都依赖于*所有*对象。而且由于`$<`只抓住了第一个先决条件，所以你看到的只是`obj/task1.o`.

这样做：

```
bin/%: obj/%.o
    $(CC) -o $@ $< 
```

或者这样：

```
$(NAMES): bin/% : obj/%.o
    $(CC) -o $@ $< 
```

# ruby-on-rails-3 - 你如何让 rspec 输出它遇到的而不是它“没有找到它所期望的”？

> ID：15873016
> 
> 赞同：0
> 
> 时间：2013-04-08T06:56:05.550
> 
> 标签：ruby-on-rails-3, rspec, devise, capybara

我一直在努力使用 ruby​​/rspec/capybara/devise 来测试我的代码。我正在尝试编写的一个简单测试是用于登录。我有一个有效的用户登录，并希望看到以下代码中定义的 h1 标记：

```
describe "Authentication" do

  subject { page }
  describe "with valid information" do
    let(:user) { FactoryGirl.create(:user) }
    before { sign_in_with user.email }

    it { should have_css('h1', text: "Welcome to the Test") }
  end
end 
```

问题是我得到了这个作为回报：

```
1) Authentication signin page with valid information 
 Failure/Error: it { should have_css('h1', text: "Welcome to the Test") }
   expected css "h1" with text "Welcome to the Test" to return something
 # ./spec/requests/authentication_pages_spec.rb:34:in `block (4 levels) in <top (required)>' 
```

有没有办法输出测试在 h1 中找到的内容（或者根本没有找到？）而不是没有找到预期的内容？我的 sign_in 方法很有可能不起作用，但我无法验证这一点，因为我不确定在 sign_in_with 执行后测试会看到什么。

谢谢，如果有帮助，很乐意提供更多背景信息。

**编辑** 更新代码以反映测试主题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:59:50.023

> ...我不确定在 sign_in_with 执行后测试会看到什么。

您可以使用以下命令打开当前页面的快照[`save_and_open_page`](https://github.com/jnicklas/capybara#debugging)：

```
describe "with valid information" do
  let(:user) { FactoryGirl.create(:user) }
  before { sign_in_with user.email }

  it { save_and_open_page; should have_css('h1', text: "Welcome to the Test") }
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T09:07:44.720

没有主题，不能`it`用来表示结果。对于 Capybrara，您需要检查`page`返回的对象。

让我们像这样重写测试：

```
describe "with valid information" do
  let(:user) { FactoryGirl.create(:user) }
  before do
    sign_in_with user.email
  end
  it "signs in successfully" do
    expect(page).to have_css('h1', text: "Welcome to the Test")
  end        
end 
```

或者更好，使用 Capybara story DSL

```
feature "User sign in" do

  given(:user) { FactoryGirl.create(:user) }

  scenario "with valid information " do
    sign_in_with user.email
    expect(page).to have_css('h1', text: "Welcome to the Test")
  end        

  scenario "with invalid filing" do
    sign_in_with "foo@bar.com"
    expect(page).to have_text("Invalid email or password")
  end
end 
```

# c++ - C++ 中的虚拟基类

> ID：15873018
> 
> 赞同：0
> 
> 时间：2013-04-08T06:56:07.957
> 
> 标签：c++, multiple-inheritance, virtual-inheritance, diamond-problem

我对虚拟基类有疑问。为了解决多重继承中的“可怕的死亡钻石”/歧义问题，引入了虚拟基类。

```
class A { public: void Foo() {} };
class B : public virtual A {};
class C : public virtual A {};
class D : public B, public C {}; 
```

声明`virtual`中未使用关键字时会发生什么。`class C`你能详细解释一下吗？

```
class A { public: void Foo() {} };
class B : public virtual A {};
class C : public A {};
class D : public B, public C {}; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T07:03:07.130

如果您的继承不是`virtual`，那么`A`成员将在`D`课堂上出现两次。

如果`A`有一个名为 的字段`_a`，那么，在`D`，写入`B::_a`或`C::_a`将引用两个不同的内存区域。如果你的继承是`virtual`那么你只有一个记忆区。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-02T17:16:03.433

```
class A { public: void Foo() {} };
class B : public virtual A {};
class C : public A {};
class D : public B, public C {}; 
```

如果从 A 类到 B 的继承标记为虚拟但不是 A 类到 C，则 C++ 将创建单个虚拟 A（D 继承 B，B 继承 A）和一个非虚拟 A（D 继承 C，C 继承 A）。因此，您的代码不会解决菱形问题：

```
D d_object;
A &a_ref = d_object; // error raised -> B::A or C::A 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:11:29.777

如果您使用的是**virtual**，那么当您`foo()`使用`Class D`. 如果您不使用虚拟，那将是模棱两可的..但是要小心虚拟继承成本更高，所以要小心使用它..

# asp.net - HTML 文本框值总是在 asp.net 按钮单击事件中返回一个空字符串

> ID：15873021
> 
> 赞同：0
> 
> 时间：2013-04-08T06:56:12.987
> 
> 标签：asp.net, html, textbox

我有一个简单的秒表应用程序，它使用 javascript 更新 HTML 文本框值。

```
<form name="clock">
       <input type="text" size="12" name="stwa" value="00 : 00 : 00" style="texalign:center"/>
       <input type="text" size="12" name="stwb" style="text-align:center" /><br />
       <input type="button" name="theButton" onClick="stopwatch(this.value);" value="Start" />
       <input type="button" value="Reset" onClick="resetIt();reset();" />     

       </form> 
```

我还有一个 asp.net 按钮控件，它应该在单击按钮时在“stwb”中提交值。尽管 stwb 文本框已正确使用 javascript 更新，但它始终在按钮单击时返回一个空字符串。

```
<form id="form1" runat="server">

     <asp:Button ID="Button2" runat="server" Text="Button" onclick="Button2_Click"/>

</form> 
```

方法的按钮单击事件。

```
protected void Button2_Click(object sender, EventArgs e)
    {
        String strValue = Page.Request.Form["stwb"].ToString();
        Response.Write(strValue);
    } 
```

感谢这方面的任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:19:57.683

你有两种形式；HTML 表单独立提交。

因此，当您的服务器表单提交时，您的“时钟”表单的数据不会作为请求的一部分传递。

最简单的解决方案可能是将时钟放在带有`runat=server`属性的表单中。

# asp.net - modalpopupextender 验证不起作用

> ID：15873024
> 
> 赞同：0
> 
> 时间：2013-04-08T06:56:31.067
> 
> 标签：asp.net, ajax

我想对 ModalPopUpExtender 进行一些验证。但是即使 ModalPopUpExtender 中存在验证错误，单击确定按钮也在执行回发。

如果 ModalPopUpExtender 上存在验证错误，我如何阻止提交按钮进行回发。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:04:26.783

你需要`return false;`在你的函数结束时写。

假设你有一个函数

```
 function validate()
  {
     //your statements
     return false;//write this to stop postback.
  } 
```

## 编辑：-

还在按钮客户端单击时在函数调用之前放置 return。作为

```
OnClientClick="return validate()" 
```

# openlayers - 显示开放层标记

> ID：15873030
> 
> 赞同：0
> 
> 时间：2013-04-08T06:56:41.713
> 
> 标签：openlayers

这里正在使用谷歌标记并获取纬度和经度值并使用开放层标记显示谷歌地点标记这是一段代码

```
function googleMarker(name, lat, lng, address, types, iconImage)
{       
    var nameLength = name.length;       
    nameLength = nameLength+120;
    var lonLat = new OpenLayers.LonLat( lng ,lat ).transform(new OpenLayers.Projection("EPSG:4326"),map.getProjectionObject());                         
    trackMarkers = new OpenLayers.Layer.Markers("Markers");
    var size = new OpenLayers.Size(20, 20);
    var offset = new OpenLayers.Pixel(-(size.w / 2), -(size.h / 2));                        
    var icon = new OpenLayers.Icon(iconImage, size, offset);                                        
    map.addLayer(trackMarkers);
    trackMarker = new OpenLayers.Marker(lonLat, icon);
    trackMarkers.addMarker(trackMarker);        

    trackMarker.events.register('click', trackMarker, function(evt) 
    {   
        popup = new OpenLayers.Popup.FramedCloud("featurePopup",lonLat, null,'<div style="color:#FF0000;">'+name+","+address + '</div>', null, null);                                       
        map.addPopup(popup);                                    
    });         
} 
```

这是解析并投影到开放图层上的问题，我面临的问题是如何在选择下一个标记并单击地图之前删除先前启用的弹出窗口，此弹出窗口应该被关闭。

![在此处输入图像描述](https://i.stack.imgur.com/6kOBl.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T06:30:44.443

根据[此处](http://dev.openlayers.org/docs/files/OpenLayers/Map-js.html#OpenLayers.Map.addPopup)的 OpenLayers 文档，您可以在 addPopup() 调用中指定它：

> ```
> addPopup: function(popup, exclusive)
> Parameters:    popup        {OpenLayers.Popup}
>                exclusive    {Boolean} If true, closes all other popups first 
> ```

因此，在您的情况下，将最后几行中的 addPopup 调用更改为：

```
map.addPopup(popup, true); 
```

**编辑：**如果您想在单击地图时删除所有弹出窗口，您可以这样做：

```
map.events.register("click", map , function(e){ 
   while(map.popups.length){
      map.removePopup(map.popups[0]);
   } 
}); 
```

地图初始化后

# sql-server - 在 SQL Server 中删除约束然后删除表

> ID：15873033
> 
> 赞同：1
> 
> 时间：2013-04-08T06:56:48.403
> 
> 标签：sql-server, tsql, stored-procedures

这对您来说可能听起来很简单，但在您写作时并不是第一次

我有一个查询使用以下查询删除表中的所有约束

```
SELECT @sql += N'
ALTER TABLE ' + QUOTENAME(OBJECT_SCHEMA_NAME(parent_object_id))
    + '.' + QUOTENAME(OBJECT_NAME(parent_object_id)) + 
    ' DROP CONSTRAINT ' + QUOTENAME(name) + ';'
FROM sys.foreign_keys;

EXEC sp_executesql @sql; 
```

因此，如果这是成功的（删除了所有约束），我需要删除所有表。

否则，无论抛出约束查询，都显示有效的错误消息。

如何在上述情况下添加条件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:11:08.620

您可能想要添加`TRY....CATCH`，还需要初始化变量@sql。你也可以考虑提出你的错误。

```
 declare @sql nvarchar(max)
set @sql = ''
SELECT @sql += N'
ALTER TABLE ' + QUOTENAME(OBJECT_SCHEMA_NAME(parent_object_id))
    + '.' + QUOTENAME(OBJECT_NAME(parent_object_id)) + 
    ' DROP CONSTRAINT ' + QUOTENAME(name) + ';' 
FROM sys.foreign_keys;
BEGIN TRY
EXEC sp_executesql @sql;
END TRY
BEGIN CATCH
    DECLARE @ErrorMessage         NVARCHAR(4000)

    DECLARE @ErrorState           INT

    DECLARE @ErrorSeverity        INT 
    --Obtain the error message, severity and state

    SELECT @ErrorMessage = ERROR_MESSAGE(), @ErrorSeverity = ERROR_SEVERITY(), @ErrorState = ERROR_STATE()

    --RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState)

END CATCH 
```

如果要在删除外键约束后立即删除表。

```
 declare @sql nvarchar(max)
declare @sqlToDropTables nvarchar(max)
set @sqlToDropTables=''
set @sql = ''

SELECT @sqlToDropTables +=N' DROP TABLE ' + QUOTENAME(OBJECT_SCHEMA_NAME(parent_object_id))
                                          + '.'
                                          + QUOTENAME(OBJECT_NAME(parent_object_id)) 
                                          + ';'
FROM sys.foreign_keys;

SELECT @sql += N'
ALTER TABLE ' + QUOTENAME(OBJECT_SCHEMA_NAME(parent_object_id))
    + '.' + QUOTENAME(OBJECT_NAME(parent_object_id)) + 
    ' DROP CONSTRAINT ' + QUOTENAME(name) + ';' 
FROM sys.foreign_keys;

BEGIN TRY
EXEC sp_executesql @sql;
EXEC sp_executesql @sqlToDropTables
END TRY
BEGIN CATCH
    DECLARE @ErrorMessage         NVARCHAR(4000)          
    DECLARE @ErrorState           INT          
    DECLARE @ErrorSeverity        INT 
    --Obtain the error message, severity and state      
    SELECT @ErrorMessage = ERROR_MESSAGE(), @ErrorSeverity = ERROR_SEVERITY(), @ErrorState = ERROR_STATE()      
    --RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState)         
END CATCH 
```

添加更多代码，如果要清理所有表，请包含引用对象，即 PK 表。

```
 declare @sql nvarchar(max)
declare @sqlToDropTables nvarchar(max)
set @sqlToDropTables=''
set @sql = ''

SELECT @sqlToDropTables +=N' DROP TABLE ' + QUOTENAME(OBJECT_SCHEMA_NAME(parent_object_id))
                                          + '.'
                                          + QUOTENAME(OBJECT_NAME(parent_object_id)) 
                                          + ';'
                                          + 'DROP TABLE ' + QUOTENAME(OBJECT_SCHEMA_NAME(referenced_object_id))
                                                          + '.'
                                                          + QUOTENAME(OBJECT_NAME(referenced_object_id)) 
                                                          + ';'

FROM sys.foreign_keys;

SELECT @sql += N'
ALTER TABLE ' + QUOTENAME(OBJECT_SCHEMA_NAME(parent_object_id))
    + '.' + QUOTENAME(OBJECT_NAME(parent_object_id)) + 
    ' DROP CONSTRAINT ' + QUOTENAME(name) + ';' 
FROM sys.foreign_keys;

BEGIN TRY
EXEC sp_executesql @sql;
EXEC sp_executesql @sqlToDropTables
END TRY
BEGIN CATCH
    DECLARE @ErrorMessage         NVARCHAR(4000)          
    DECLARE @ErrorState           INT          
    DECLARE @ErrorSeverity        INT 
    --Obtain the error message, severity and state      
    SELECT @ErrorMessage = ERROR_MESSAGE(), @ErrorSeverity = ERROR_SEVERITY(), @ErrorState = ERROR_STATE()      
    --RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState)         
END CATCH 
```

# shell - 将文件从 EC2 实例传递到 S3

> ID：15873050
> 
> 赞同：1
> 
> 时间：2013-04-08T06:57:52.873
> 
> 标签：shell, amazon-web-services, amazon-s3, user-data

我有 AWS EC2 实例，通过它我使用命令“ec2-run-instances”创建新的 AWS EC2 实例。

这个新实例预先配置了 EC2 命令行 API 和 S3cmd API。

在创建实例时，我将用户数据传递给新实例，在该实例中我编写了用于将文件从该实例传输到 AWS s3 存储桶的代码，如下所示。

```
 s3cmd put res.doc s3://BucketName/DocFiles/res.doc 
```

但它不会将 res.doc 转移到存储桶。

之后我才知道这个脚本上传了我创建新实例的第一个 EC2 实例上存在的文件。

那么我该如何解决这个问题呢？

脚本文件在这里：-

```
 str=$"#! /bin/bash"
 str+=$"\ncd /home"
 str+=$"\nmkdir pravin"
 str+=$"\ns3cmd put res.doc s3://BuckectName/DocFiles/res.csv"
 ud=`echo -e "$str" |base64`
 ec2-run-instances ami-784c2823 -t t1.micro -g group -n 1 -k key1 -d "$ud" 
```

# facebook-insights - 获取有关页面的见解

> ID：15873053
> 
> 赞同：0
> 
> 时间：2013-04-08T06:58:09.277
> 
> 标签：facebook-insights

我正在尝试获取页面见解.. 显示的唯一指标是`page_fans_country`和`page_storytellers_by_country`。对于其余指标，以下输出即将到来

```
{
  "data": [
  ],
  "paging": {
    "previous": "https://graph.facebook.com/22754734656/insights/page_fan_adds?since=1364712822&until=1364972022",
    "next": "https://graph.facebook.com/22754734656/insights/page_fan_adds?since=1365231222&until=1365490422"
  }
} 
```

即使没有添加粉丝数'0'值也应该作为输出..我被卡住了..请帮忙

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-21T04:07:13.043

我知道它不会正确回答这个问题，但是......

这些见解是公开的，因此您只需要一个`App`,`Page`或`User`访问令牌来请求它们。

然而，Facebook 正在努力使其洞察力正常工作。他们以前是延迟 3 天，现在有时是 5 天。现在几天，如果您不指定日期范围，它不会返回任何内容。IE：

`/cocacola/insights` 没有返回任何东西，但有时它是（最新见解）

几周前要修复它，我已经读到指定指标会做到这一点，是的： `/cocacola/insights/page_fans_country,page_storytellers_by_country`

但现在已经不是了。唯一有效的是，如果您指定`since`并且`until`

IE：`/cocacola/insights?since=1368503760&until=1368662399`

但这对**来说真的很痛苦，***因为*您**需要知道哪个日期是最晚的日期才能查询您的见解。

Facebook API 糟透了！

# cakephp-2.0 - Cakephp Auth->loginredirect 问题

> ID：15873059
> 
> 赞同：0
> 
> 时间：2013-04-08T06:58:25.340
> 
> 标签：cakephp-2.0

我做了一个简单的 cakephp 应用程序。目前我只是在使用 auth 组件来根据他们将用户发送到他们各自的页面。例如，如果角色 = 1 发送到管理页面，否则如果角色 = 2 将其发送到版主页面。我同时使用会话和身份验证组件来查看它们如何工作并在其中保存数据。下面是用户控制器登录操作的代码

```
public function login(){

$this->Session->setFlash($this->Auth->user('role'));//checks for data in auth component if any

    if($this->request->is('post') ){

         $results = $this->User->findByEmail($this->request->data['User']['username']);
        if($results &&$results['User']['password']== md5($this->request->data['User']['password']))
        {
            $this->Session->write('user',$results['User']);
            $this->Auth->login($results['User']);
            $this->Session->setFlash('User logged in successfully'.$this->Auth->user('role'));
            return $this->redirect($this->Auth->redirect());
        }
        else
        {
            $this->Session->setFlash('Login is incorrect');
        }
    }

} 
```

问题是登录工作正常，所有数据都存储在 session 和 auth 变量中，但 loginredirect 的行为很奇怪。在我的 chrome 浏览器中。无论角色是什么，它总是重定向到管理页面，但它正在闪烁我在 flash 中设置的正确消息。appcontroller中beforefilter的代码

```
public function beforeFilter(){

    $this->Auth->allow('display'); 

    $this->Auth->loginAction = array('controller' => 'Users', 'action' => 'login');

    $this->Auth->logoutRedirect = array('controller' => 'Users', 'action' => 'login');

    if($this->Auth->user('role') == '1'){
            $this->Session->setFlash($this->Auth->user('role').'adminnnnnnnnnnnnnnnnnnnnn');
    $this->Auth->loginRedirect = '/admins/index';
    }

    if($this->Auth->user('role') == '2'){
        $this->Session->setFlash('moderatorrrrrrrrrrrrrrrrr');
        $this->Auth->loginRedirect = '/users/index';
    }
} 
```

所以问题是循环在过滤器之前运行良好，setflash 显示用户是管理员还是版主，但由于某种原因，无论谁登录，它都只会重定向到管理员/索引页面或用户/索引页面的单个页面。这是 chrome 浏览器上的行为。在 Firefox 上，loginredirects 将用户发送到 webroot/index 页面，但 Flash 消息再次正确。

我不确定我做错了什么是我的代码有问题还是 cakephp 2.0 auth 组件有测量错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-15T14:37:36.577

用户登录后，它通过 Auth->loginRedirect 重定向到仪表板（），在这里我检查用户角色并使用重定向将特定用户发送到确切位置

```
 function dashboard() {
  //get user's group (role)
    //$role = $this->Session->read('user.role');
    $role=$this->Auth->user('role');
        //user selection logic here
    if($role== '1'){
        $this->redirect(array('controller' => 'users','action' => 'admin_index','admin' => false));

    }
    else if($role == '2'){
        $this->redirect(array('controller' => 'users','action' => 'admin_index', 'admin' => false));

    }
    else if($role == '9'){
        $this->redirect(array('controller' => 'users', 'action' => 'index', 'admin' => false));
        $this->Session->setFlash('3');
    }

   } 
```

这只是解决问题的另一种方法，我在我的用户控制器中包含仪表板功能，并从 appcontroller 进行身份验证登录重定向到此功能。希望它能为其他面临问题的人解决问题。谢谢

# sql - 如何从 SQL Server 2008 中的 IP 地址获取机器名称？

> ID：15873060
> 
> 赞同：4
> 
> 时间：2013-04-08T06:58:29.713
> 
> 标签：sql, sql-server

我必须从 SQL Server 中的 IP 地址获取机器名称，我可以做些什么来完成我的任务

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T09:48:37.913

您不能在 SQL 语言中本地执行此操作，最好的选择是：

1/ 通过 xp-cmdshell 脱壳并运行 nslookup，这将需要一些字符串操作以正确获取命令，然后对输出进行一些清理以返回机器名称

2/ 编写一个 C# CLR 函数，将 IP 地址作为输入，并利用 Dns.GetHostEntry 方法解析并返回名称。

有关文档，请参见此处：

[Dns.GetHostEntry 方法](http://msdn.microsoft.com/en-us/library/system.net.dns.gethostentry.aspx)

我写了一个非常快速简单的 CLR 函数，用于从 IP 地址获取机器名称如下，请注意在尝试解析之前没有错误处理或输入检查以确保 IP 有效，它不会给你如果您将主机名传递给 IP 地址，则可以轻松修改它以包含所有这些内容，这只是为了让您了解它是如何工作的：

```
using System;
using System.Data;
using System.Data.SqlClient;
using System.Data.SqlTypes;
using Microsoft.SqlServer.Server;
using System.Net;

public partial class UserDefinedFunctions
{
    [Microsoft.SqlServer.Server.SqlFunction]
    public static SqlString dnsResolve(String ipAddress)
    {
        IPHostEntry host = Dns.GetHostEntry(ipAddress);
        return new SqlString(host.HostName.ToString());
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-08T07:01:09.263

**D B：**

```
IPAdd | MachineName 
```

**询问：**

```
select MachineName from DBTable where IPAdd='yourIPAddress' 
```

**尝试：**

```
SELECT SERVERPROPERTY('MachineName') 
```

**或者**

```
SELECT  
   CONNECTIONPROPERTY('net_transport') AS net_transport,
   CONNECTIONPROPERTY('protocol_type') AS protocol_type,
   CONNECTIONPROPERTY('auth_scheme') AS auth_scheme,
   CONNECTIONPROPERTY('local_net_address') AS local_net_address,
   CONNECTIONPROPERTY('local_tcp_port') AS local_tcp_port,
   CONNECTIONPROPERTY('client_net_address') AS client_net_address 
```

**或者**

```
SELECT @@SERVERNAME; 
```

**参考：**

[http://msdn.microsoft.com/en-us/library/ms187944.aspx](http://msdn.microsoft.com/en-us/library/ms187944.aspx)

希望它有帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-08T08:37:19.243

您想要的称为[反向 DNS 查找](http://en.wikipedia.org/wiki/Reverse_DNS_lookup)。有可以执行此操作的命令行工具 ( [nslookup.exe](http://support.microsoft.com/kb/200525) )，或者您可以使用[`DnsQuery`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms682016%28v=vs.85%29.aspx)API。你在 T-SQL 中没有任何业务，所以不要尝试这样做。在客户端解析要命名的IP。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-08T08:06:22.057

我可能错了，但据我所知，SQL Server 不能做你想做的事。从 IP 地址解析机器名称是您网络的 DNS 服务器所做的事情。

我想出从 SQL Server 获取该信息的最佳想法是使用`xp_cmdshell`命令从 SQL 执行命令提示符命令。

```
xp_cmdshell 'NBTSTAT -A 10.10.10.10' 
```

但是，请注意 xp_cmdshell 需要首先在您的服务器上启用才能工作，而且通常不是因为可能存在安全问题。[在http://msdn.microsoft.com/en-us/library/ms175046.aspx](http://msdn.microsoft.com/en-us/library/ms175046.aspx)阅读有关 xp_cmdshell 的更多信息

此外，由此产生的结果就像来自命令提示符一样，需要进行一些解析才能从中获取准确的机器名称。检查此主题以获取更多信息：[从 XP_CMDSHELL 获取结果](https://stackoverflow.com/questions/9501192/get-results-from-xp-cmdshell)

我不知道您的解决方案架构以及如何获取 IP 地址，但如果它来自某些客户端应用程序，则可能更容易找到`SELECT HOST_NAME()`从客户端查询或使用 .NET 执行的客户端机器名称并直接发送机器名称。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-08T08:31:08.703

```
--Im using command line for checking host name after IP
declare @IP as varchar(15)
declare @cmd as varchar(1000) 
set @IP='192.168.0.1' 
SET @cmd = 'ping -a -n 1 ' + @IP 
Create Table #Output (Output varchar(150) default(''))
INSERT INTO #Output 
EXEC xp_cmdshell @cmd 
Begin try 
Select top 1 Replace(LEFT([Output],CHARINDEX('[', [output])-2),'Pinging ','') as HostName from #Output where Output is not null 
End Try 
Begin catch 
Select 'Host name for:' + @IP +' could not be find'
End catch 
drop table #Output 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-08T07:05:56.993

你可以试试这个来获取你的机器的名字。

```
SELECT SERVERPROPERTY(N'MachineName'); 
```

可能上面可以达到你的目的。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-05-18T16:43:49.760

这实际上有效：Sky Diver 的修改答案

```
--Im using command line for checking host name after IP
    declare @IP as varchar(15)
    declare @cmd as varchar(1000) 
    set @IP='137.201.17.204' 
    SET @cmd = 'ping -a -n 1 ' + @IP 
    Create Table #Output (Output varchar(150) default(''))
    INSERT INTO #Output 
    EXEC xp_cmdshell @cmd 
    Begin try 
    Select top 1 Replace(LEFT([Output],CHARINDEX('[', [Output])-2),'Pinging ','') as HostName from #Output where Output like 'Pinging%'
    End Try 
    Begin catch 
    Select 'Host name for:' + @IP +' could not be find'
    End catch 
    --drop table #Output 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-08-07T10:32:55.040

试试这个你会得到一个系统名称......

选择主机名（）

问候：Rajsri Vyshnnavi

# android - 如何在android中卸载应用程序时删除共享首选项

> ID：15873066
> 
> 赞同：114
> 
> 时间：2013-04-08T06:59:00.357
> 
> 标签：android, android-preferences

我有一个 android 应用程序来保存登录详细信息，例如用户名和密码，`SharedPreferences`这可以正常工作，但我需要`SharedPreferences`在我的应用程序卸载时删除所有使用过的。怎么做？

```
SavePreferences("one ", "");
SavePreferences("two", "");
LoadPreferences();

 private void SavePreferences(String key, String value){
    sharedPreferences = getSharedPreferences("TEST", MODE_PRIVATE);
    SharedPreferences.Editor editor = sharedPreferences.edit();
    editor.putString(key, value);
    editor.commit();
   }

 private void LoadPreferences(){
    sharedPreferences = getSharedPreferences("TEST", MODE_PRIVATE);
    String strSavedMem1 = sharedPreferences.getString("MEM1", "");
    String strSavedMem2 = sharedPreferences.getString("MEM2", "");   
   } 
```

我想`SharedPreferences`在我的应用程序卸载时删除它。

* * *

## 回答 #1

> 赞同：343
> 
> 时间：2016-02-09T16:07:22.163

问题不在于偏好。它是彻底**的备份管理器**！..因为android-23默认备份作为任务存储应用程序的数据，包括云的偏好。稍后当您卸载然后安装较新版本时，您可能会使用恢复的首选项。为避免这种情况，只需将其添加到您的清单中（或至少调试清单）：

```
<application ...
        android:allowBackup="false">
...
</application> 
```

阅读：http: [//developer.android.com/guide/topics/data/backup.html](http://developer.android.com/guide/topics/data/backup.html)

如果您在以下位置运行 Lint，您还将看到`Android > Lint > Security`：

[![备份时的 lint 警告](https://i.stack.imgur.com/aXIUJ.png)](https://i.stack.imgur.com/aXIUJ.png)

在这里值得一提的是，备份过程就像一个黑匣子......你不知道它什么时候开始，以及检查之间的时间......所以最好开发禁用它。

==== 更新 ====

`allowbackup`设置为后，您可能会遇到清单合并问题`false`。要解决该问题，请添加：

```
tools:replace="android:allowBackup" 
```

在应用程序元素中。感谢@shahzain-ali

或者，您可以在卸载应用程序之前清除缓存。

我希望这可能会有所帮助。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2013-04-08T07:04:53.243

`SharedPreferences`始终与应用程序卸载一起被删除。

当您卸载任何应用程序时，应用程序在您的内存中所做的所有更改都将被撤销，这意味着您的 SharedPreference 文件、其他数据文件、数据库文件、应用程序将被 Android 操作系统自动删除。

***已编辑：29/04/15：对于 >= 21 API，请参阅[@Maher Abuthraa 的回答](https://stackoverflow.com/a/35296675/1168654)***

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2017-07-11T07:56:01.690

它很奇怪，但我通过以下方式找到了解决方案：

1.  添加**Manifest.xml**文件`xmlns:tools="http://schemas.android.com/tools"`的清单**标签**
***   添加**Manifest.xml**文件`android:allowBackup="false"`的应用**程序标签*****   添加**Manifest.xml**文件`tools:replace="android:allowBackup"`的应用**程序标签******

 ********Manifest.xml**文件应如下所示。

```
 <?xml version="1.0" encoding="utf-8"?><!--suppress ALL -->
    <manifest xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:tools="http://schemas.android.com/tools"
        package="com.package">

        // Other code

    <application
        android:name="com.package.Application"
        android:allowBackup="false"
        android:hardwareAccelerated="true"
        android:icon="@drawable/appicon"
        android:label="@string/application_name"
        android:largeHeap="true"
        android:theme="@style/AppTheme"
        tools:replace="android:allowBackup">

        <activity
            android:name="com.package.SplashActivity"
            android:configChanges="orientation|keyboardHidden|screenSize"
            android:label="@string/application_name"
            android:screenOrientation="portrait">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        // Other code

    </application>

    </manifest> 
```

完成。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2018-09-24T10:11:38.810

问题不在于偏好。

使用此代码修复它............

```
<application
    android:allowBackup="true"
    android:fullBackupContent="false"></application> 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2017-08-09T05:46:47.103

设置`allowBackup="false"`选择应用程序退出备份和恢复。

```
 android:allowBackup="false" 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-07-12T15:28:42.667

从棉花糖开始，共享首选项不再总是被删除。在清单中添加这一行：“android:allowBackup="false""******

# java - jsp中如何替换字符串

> ID：15873067
> 
> 赞同：1
> 
> 时间：2013-04-08T06:59:00.453
> 
> 标签：java, jsp, replace

我有一个像`http://google.com`. 我需要`'http://'`从 URL 中删除。我已经尝试过该方法`.replace("http://","")`，但它不起作用。

```
Web web = org.getWeb();
webUrl = web.getUrl();
out.println("webUrl :"+webUrl );  // here it prints:: http://google.com
webUrl.replace("http://","");
out.println("webUrl :"+webUrl );  // here also it prints:: http://google.com 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T07:00:07.010

尝试：

```
webUrl = webUrl.replace("http://",""); 
```

当[替换返回被替换的字符串](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replace%28char,%20char%29)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-08T07:01:41.510

您需要执行以下操作。String 是不可变的类。replace 将返回您新的 String 对象。

```
webUrl = webUrl.replace("http://",""); 
```

引用[字符串是不可变的。究竟是什么意思？](https://stackoverflow.com/questions/8798403/string-is-immutable-what-exactly-is-the-meaning)

# c# - 如何从 128 位密钥生成 IDEA 算法的解密密钥？

> ID：15873069
> 
> 赞同：0
> 
> 时间：2013-04-08T06:59:13.497
> 
> 标签：c#, encryption, cryptography, key

我正在尝试在 C# 中实现 IDEA 算法，只是为了了解它是如何工作的。我采用了 128 位二进制密钥并使用以下代码生成了 52 个加密密钥：

```
static ushort[] getKeys(string binaryKey)
{
        ushort[] keys = new ushort[52];
        int index = 0;
        while (true)
        {
            int bitPos = 0;
            keys[index++] = Convert.ToUInt16(binaryKey.Substring(bitPos, 16), 2);
            bitPos += 16;
            keys[index++] = Convert.ToUInt16(binaryKey.Substring(bitPos, 16), 2);
            bitPos += 16;
            keys[index++] = Convert.ToUInt16(binaryKey.Substring(bitPos, 16), 2);
            bitPos += 16;
            keys[index++] = Convert.ToUInt16(binaryKey.Substring(bitPos, 16), 2);
            bitPos += 16;
            if (index == 52)
                break;
            keys[index++] = Convert.ToUInt16(binaryKey.Substring(bitPos, 16), 2);
            bitPos += 16;
            keys[index++] = Convert.ToUInt16(binaryKey.Substring(bitPos, 16), 2);
            bitPos += 16;
            keys[index++] = Convert.ToUInt16(binaryKey.Substring(bitPos, 16), 2);
            bitPos += 16;
            keys[index++] = Convert.ToUInt16(binaryKey.Substring(bitPos, 16), 2);
            bitPos += 16;
            binaryKey = binaryKey.Substring(25) + binaryKey.Substring(0, 25);
        }
        return keys;
} 
```

我相信这个函数会返回正确的值（我无法测试它们，但它们在界限内）。现在，我无法理解如何获得这些解密密钥。我也找不到足够的关于此事的文字。

**编辑**：这是我用来生成解密密钥的方法 -

```
static ushort[] generateDecryptionKeys(ushort[] encKeys)
{
        ushort[] decKeys = new ushort[52];

        for (int i = 0; i < 52; )
        {
            decKeys[i++] = (ushort)GetModMulInv(encKeys[52 - i], 65537);
            decKeys[i++] = (ushort)AdditiveInv(encKeys[52 - i]);
            decKeys[i++] = (ushort)AdditiveInv(encKeys[52 - i]);
            decKeys[i++] = (ushort)GetModMulInv(encKeys[52 - i], 65537);
            if (i == 52) break;
            decKeys[i++] = encKeys[52 - i];
            decKeys[i++] = encKeys[52 - i];
        }

        return decKeys;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T11:25:52.050

解密密钥计划以相反的顺序使用相同的 52 个密钥。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-23T02:12:58.360

您必须按以下顺序使用密钥：

```
Encryption: K1       K2  K3     K4      K5  k6  (round 1)
Decryption: k49^-1   -k50 -k51  k49^-1  k47 k48 (round 2) 
```

我假设您已经使用`k1`and`k4`与您的输入数据块进行了模乘法，并对 and 进行了模`k2`加法`k3`。

# c# - 如何使用 UCMA 3.0 仅从选定组中删除联系人

> ID：15873070
> 
> 赞同：0
> 
> 时间：2013-04-08T06:59:16.147
> 
> 标签：c#, lync, lync-2010, ucma

当我尝试删除联系人时，存储在某个组中

`_contactGroupServices.BeginDeleteContact`->`_contactGroupServices.EndDeleteContact`

它正在从联系人列表中的每个组中删除。

是否可以仅从一个选定的组中删除此联系人？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T09:54:26.613

使用[`ContactGroupServices.BeginUpdateContact`](http://msdn.microsoft.com/en-us/library/lync/hh383885.aspx)方法（和相应的`EndUpdateContact`）。

此方法接受一个[`Contact`](http://msdn.microsoft.com/en-us/library/lync/microsoft.rtc.collaboration.contactsgroups.contact_di_3_uc_ocs14mreflyncuc3cr.aspx)参数，该参数又具有一组称为 的组号[`GroupIds`](http://msdn.microsoft.com/en-us/library/lync/microsoft.rtc.collaboration.contactsgroups.contact.groupids_di_3_uc_ocs14mreflyncuc3cr.aspx)。

工作流程将是：

1.  获取`GroupId`要从中删除联系人的组。
2.  获取`Contact`要从组中删除的条目。
3.  `GroupId`从他的收藏中删除`GroupIds`。
4.  `BeginUpdateContact`使用新的联系方式致电。

# macos - Netbeans 在 MacOSX 上无法启动（找不到命令）

> ID：15873073
> 
> 赞同：1
> 
> 时间：2013-04-08T06:59:19.340
> 
> 标签：macos, netbeans, osx-leopard

我已经在 Mac OSX 10.5.8 上成功安装了 Netbeans 6.0.1，但是当我尝试启动它时它没有，并且这些日志条目记录在 System.log 中：

```
Apr  7 19:35:09 henrique-ordines-macbook [0x0-0x9c09c].NetBeans 6.0.1[53785]: /Applications/NetBeans/NetBeans 6.0.1.app/Contents/MacOS/netbeans: line 48: ls: command not found
Apr  7 19:35:09 henrique-ordines-macbook [0x0-0x9c09c].NetBeans 6.0.1[53785]: /Applications/NetBeans/NetBeans 6.0.1.app/Contents/MacOS/netbeans: line 53: dirname: command not found
Apr  7 19:35:09 henrique-ordines-macbook [0x0-0x9c09c].NetBeans 6.0.1[53785]: /Applications/NetBeans/NetBeans 6.0.1.app/Contents/MacOS/netbeans: line 57: dirname: command not found
Apr  7 19:35:09 henrique-ordines-macbook [0x0-0x9c09c].NetBeans 6.0.1[53785]: Cannot read cluster file: /../etc/netbeans.clusters
Apr  7 19:35:09 henrique-ordines-macbook com.apple.launchd[65] ([0x0-0x9c09c].NetBeans 6.0.1[53785]): Exited with exit code: 1 
```

我已经按照[此线程](https://stackoverflow.com/questions/2481789/iv-installed-netbeans-6-8-on-my-macos-x-macbook-and-the-logs-say-it-cannot-be-r)的建议使用磁盘工具修复了权限，但我仍然遇到相同的错误。

如果我以 Root 用户身份登录，我可以毫无问题地启动它。

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T14:13:56.840

如[该线程](https://apple.stackexchange.com/questions/22859/uh-oh-bash-ls-command-not-found)所述，发生“ls command not found”错误是因为我的 PATH 环境变量已被某种方式破坏。*无论如何*，在这种情况下，由我决定，一旦您修复了该变量以便这部分`/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin`也可以在 PATH 变量中，Netbeans 再次工作。

# jquery - 如何通过 jQuery/AJAX 提交 Authorize.Net DPM 表单？

> ID：15873074
> 
> 赞同：0
> 
> 时间：2013-04-08T06:59:21.763
> 
> 标签：jquery, paypal-ipn, authorize.net, dpm

有这个新的 Authorize.Net DPM API。您创建一个发布到 Authorize.Net 的 HTML 表单。AuthNet 然后调用一个中继响应脚本，也称为 IPN（对于那些知道 PayPal 的人）。IPN 脚本然后以 HTML 的形式返回响应，例如重定向到错误或成功页面。

好的，好的，它就是这样工作的。但现在我的雇主希望基于 AuthNet 发现的任何不正确的内容（例如错误的到期日期）进行内联表单验证。是否可以将其包装到 jQuery/AJAX 中的 $.post() 调用中，然后解析响应，而无需执行标准表单发布？

我试过这个，但我一直受到跨域限制。有什么诀窍？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-14T18:46:59.373

您的建议违反了同源政策。[http://en.wikipedia.org/wiki/Same-origin_policy](http://en.wikipedia.org/wiki/Same-origin_policy)

但是，这里建议（[http://community.developer.authorize.net/t5/Integration-and-Testing/DPM-via-AJAX/td-p/26832](http://community.developer.authorize.net/t5/Integration-and-Testing/DPM-via-AJAX/td-p/26832)）您可以将请求隐藏在 iframe 中以避免那些问题。

我很惭愧推荐 IFrames 作为解决任何问题的方法。请记住，它们并不总是能很好地与旧的移动浏览器配合使用。

# struts - Struts 浏览器和服务器兼容性

> ID：15873075
> 
> 赞同：0
> 
> 时间：2013-04-08T06:59:21.823
> 
> 标签：struts

我正在对 UI 框架进行一些研究。为了更好地与其他 UI 框架进行比较，我需要知道哪个 Browser 和 Server Struts 与哪个版本兼容。可惜我找不到这样的清单。你们当中有人有这样的清单吗？

感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T08:10:17.610

首先，如果您打算使用 Struts 1，那就别管它了。Struts 1 是一个过时的、不再维护的框架。不要将 Struts 1 用于新项目。

也就是说，Struts 是一个服务器端框架，它会生成您放入 JSP 中的任何 HTML。因此，它与您想要的任何浏览器兼容。生成与目标浏览器兼容的 HTML、CSS 和 JavaScript 代码由您决定。

Struts 还基于标准 servlet API，因此与任何 Java EE Web 容器兼容。

# web-services - 如何响应获得通过任务

> ID：15873076
> 
> 赞同：0
> 
> 时间：2013-04-08T06:59:22.763
> 
> 标签：web-services, ios6, passbook

我正在做一个用于更新通行证的网络服务器。我通过打开或关闭自动更新的切换来测试更新。这是我从控制台得到的：
`Apr 8 13:19:47 CamMobs-iPod4 passd[21] <Warning>: Get pass task (pass type pass.cam-mob.passbookpasstest, serial number 0001, if-modified-since (null); with web service url http://192.168.1.202:8888/passesWebserver/) encountered error: Server response was malformed (Missing response data)` 这是我使用的代码：

```
if (strtoupper($_SERVER['REQUEST_METHOD']) === "GET" && $request[3]==='passes'){

$passTypeID = $request[4];

$serial = $request[5];

 $auth_key = str_replace('ApplePass ', '', $headers['Authorization']);

$querySelect = mysql_query("select * from registration");
$row = mysql_fetch_array($querySelect);
if (isset($_SERVER['HTTP_IF_MODIFIED_SINCE'])){
    if ($passTypeID == $row['passTypeID'] && $serial ==$row['serialNo']){
        $pkpass_file = '/Applications/MAMP/htdocs/passesWebserver/DigiClubCard.pkpass';

        header("Pragma: no-cache");
        header("Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0");
        header("Content-type: application/vnd.apple.pkpass; charset=UTF-8");
        header('Content-Disposition:attachment; filename="genericPass.pkpass"');
        clearstatcache();
        $filesize = filesize($pkpass_file);
        if ($filesize)
            header("Content-Length: ". $filesize);
            header('Content-Transfer-Encoding: binary');
        if (filemtime($pkpass_file)) {
            date_default_timezone_set("UTC");
            header('Last-Modified: ' . date("D, d M Y H:i:s", filemtime($pkpass_file)) . ' GMT');
        }
        flush();
        readfile($pkpass_file);
    } } }` 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T08:15:46.973

您正在从注册表中选择所有 (*) 到 中`$row`，但是`$row`当它实际上是 MySQL 结果时，就好像它是 MySQL 行一样处理。

因此，您的 if 语句没有触发，因此您的代码没有发回任何内容，而不是 passbook 期望的 .pkpass 包。

# php - 将样式添加到自定义 wordpress 菜单

> ID：15873083
> 
> 赞同：0
> 
> 时间：2013-04-08T06:59:44.503
> 
> 标签：php, html, css, wordpress

我正在使用骨骼启动器主题，并且已经创建了一个看起来应该的菜单。它是这样称呼的：

```
<?php bones_main_nav(); ?> 
```

并且在 css 中，它的样式只需使用 .menu 类即可。

现在我创建了一个将在某些页面上使用的备用菜单。我希望它具有与第一个完全相同的样式，只包含不同的页面。我这样称呼它：

```
<?php wp_nav_menu( array('menu' => 'my custom menu' )); ?> 
```

这显示了正确的页面，但我似乎无法弄清楚如何将已应用于第一个页面的相同样式应用于它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:19:51.997

好的，所以我自己想出来了，只需要传递这样的属性：

```
<?php wp_nav_menu(array('menu' => 'custom menu', 'menu_class' => 'menu', 'container_class' =>  'menu clearfix', 'theme_location' => 'main_nav')) ?> 
```

# r - 如何将区域涂成绿色？

> ID：15873095
> 
> 赞同：0
> 
> 时间：2013-04-08T07:00:43.853
> 
> 标签：r, polygon

请看附件，我想把覆盖的区域涂`R1`成粉红色，怎么涂`polygon`？

```
x = seq(-0.25, 2, by=0.01)
y1=x
y2=x^2
plot(x, y1,type="l",frame.plot=FALSE,axes=FALSE,xlab="",ylab="")
lines(x,y2,type="l",col="red")
xx1<-c(0,x[x<1  & x>0 ],1)
yy1<-c(0,x[x<1  & x>0 ],0)
polygon(xx1,yy1,col="yellow")
xx1<-c(0,x[x<1  & x>0 ],1)
yy2<-c(0,(x[x<1  & x>0 ])^2,0)
polygon(xx1,yy2,col="blue")
## write some text
text(1.1,1,labels="y=x",col="black")
text(0.8,1,labels="y=x^2",col="red")
text(0.7,0.2,labels="R3",col="black")
text(0.4,0.35,labels="R2",col="black")
text(0.2,0.5,labels="R1",col="black")
## draw axes lines with arrows
arrows(min(x), 0, max(x), 0)
arrows(0, min(x), 0, max(x))
## add axes ticks
axis(1,at=c(0,0.5,1,1.5),pos=0)
axis(2,at=c(0,0.5,1,1.5),pos=0) 
```

![我想画它](https://i.stack.imgur.com/PyUhE.png)

![在此处输入图像描述](https://i.stack.imgur.com/TwUjS.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:09:56.243

只是在三角形中着色 `(0, 0) -- (0, 1) -- (1, 1)`？

```
polygon(c(0, 0, 1), c(0, 1, 1), col='pink') 
```

# wso2esb - 当我的表包含单个记录时，如何在 json 中显示数组

> ID：15873098
> 
> 赞同：0
> 
> 时间：2013-04-08T07:01:02.367
> 
> 标签：wso2esb, wso2dss

我无法理解为什么 dataTables 拒绝显示单行数据，但它对于任何大于 1 行的数据集都可以正常工作。我不认为这也说明了问题，因为我认为这是错误的 JSON 消息的格式，或者根据我的视图过滤器没有工作，所以.....直接它将条件并返回值来自数据库表

这是一个 10 条记录的 JSON 响应，可以正常工作：

```
<sequence xmlns="http://ws.apache.org/ns/synapse" name="Getmessage_seq" onError="fault" trace="disable">
   <property name="CONTENT_TYPE" value="application/json" scope="axis2" type="STRING"/>
   <filter xmlns:ns="http://org.apache.synapse/xsd" xmlns:s="http://ws.wso2.org/dataservice" xpath="s://logid/text()=' '">
      <then>
         <payloadFactory>
            <format>
               <ResponseJSON xmlns="">
                  <Exception>NO Data Found In Database</Exception>
                  <Status>404</Status>
               </ResponseJSON>
            </format>
         </payloadFactory>
         <send/>
      </then>
      <else>
         <property name="AAR" expression="count(//s:Datalist)" scope="default" type="STRING"/>
         <enrich>
            <source clone="true" type="custom" xpath="//s:Datalist"/>
            <target action="replace" type="property" property="List"/>
         </enrich>
         <property name="CONTENT_TYPE" value="application/json" scope="axis2"/>
         <payloadFactory>
            <format>
               <ResponseJSON xmlns="">
                  <Body>$1</Body>
                  <Status>200</Status>
                  <Total>$2</Total>
               </ResponseJSON>
            </format>
            <args>
               <arg expression="get-property('List')"/>
               <arg expression="get-property('AAR')"/>
            </args>
         </payloadFactory>
         <send/>
      </else>
   </filter>
</sequence> 
```

`enter code here`

最后，当我的表包含多个记录数据时，它在 json 中显示为一个数组，当它变成一个记录时，数据在 json 中不显示为一个数组。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T05:37:13.657

您可以将单个元素包装在一个数组中，以便两个响应具有相同的结构。$myVar = array('recordSet' => $this->myRecord[0]);

# asp.net-mvc-4 - 如何跨多个控制器使用模型对象？

> ID：15873102
> 
> 赞同：0
> 
> 时间：2013-04-08T07:01:09.307
> 
> 标签：asp.net-mvc-4

场景：用户成功登录后，我想创建一个 Account 对象（Account 类是我模型的一部分）并在其中获取并存储用户的信息。我希望我的所有控制器（HomeController、AccountController 等）都可以访问此 Account 对象，并且我希望能够从任何控制器内部编辑其内容。（1）我怎样才能实现这个场景？(2) 如何将模型对象从一个控制器传递到另一个控制器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:04:22.663

> （1）我怎样才能实现这个场景？

您可以在需要访问时从数据存储中检索 Account 模型。

> (2) 如何将模型对象从一个控制器传递到另一个控制器？

见（1）。由于您是从数据存储中检索它，因此您不需要传递它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:14:07.577

> 我打算保留它直到用户注销

然后你可以使用会话。但我建议不要保存很多信息。例如，您有这个模型或实体：

```
public class AccountModel {
    public int Id {get;set;}
    public string Username {get;set;}
    // and a whole lot more of properties
} 
```

我建议你只存储一个`identifier`字段，`Id`或者`Username`. 然后，当另一个请求进来并且您需要验证请求或更新相同的模型时，您可以：

*   再次获取该用户的数据和所有相关信息
*   更新必要的字段
*   将其保存在您的数据库中

所以你会做这样的事情：

```
// to save it in a session after logging in
Session["current_user_id"] = id_variable;
// to retrieve it from session after another request comes in
var id = (int)Session["current_user_id"];
// fetch from your database
// do the necessary update
// persist the changes 
```

# ios - 如何在 Objective-C 中调用下一个方法之前更新 UIView

> ID：15873104
> 
> 赞同：0
> 
> 时间：2013-04-08T07:01:11.793
> 
> 标签：ios, objective-c, uiview

我正在尝试在开始下载数据之前更新屏幕上的 textView。现在，它只会在所有下载完成后更新视图。我怎样才能在下载之前或之间进行呢？

**编辑**：我想`self.textView.text = @"Connection is good, start syncing...";`在下载开始之前更新 UI。但现在，它只在下载完成后更新。

这是代码的样子。

```
if ([self.webApp oAuthTokenIsValid:&error responseError:&responseError]) {
    self.textView.text = @"Connection is good, start syncing...";
    [self.textView setNeedsDisplay];

    [self performSelectorInBackground:@selector(downloadCustomers:) withObject:error];
} 
```

我是新手，还没有了解线程是如何工作的，但从我读到的内容来看，downloadCustomers 函数应该使用后台线程离开主线程来更新 UI。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:55:14.040

这里的模式是在后台线程上初始化你的下载，然后回调到主线程进行 UI 更新。

下面是一个使用*GCD*的例子。*GCD*版本的优点是您可以考虑使用您在 中所做的任何事情`-downloadCustomers`，在您调用它的地方插入内联。

```
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
   [self downloadCustomers];
      dispatch_async(dispatch_get_main_queue(), ^{
         [self.textView setNeedsDisplay];
      });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T10:55:17.090

```
if ([self.webApp oAuthTokenIsValid:&error responseError:&responseError]) {
    self.textView.text = @"Connection is good, start syncing...";
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
      [self downloadCustomers];
      dispatch_async(dispatch_get_main_queue(), ^{
        //Do whatever you want when your download is finished, maybe self.textView.text = @"syncing finished"
      });
});
} 
```

# objective-c - obj-c EXC_BAD_ECCESS 错误

> ID：15873109
> 
> 赞同：0
> 
> 时间：2013-04-08T07:01:41.490
> 
> 标签：objective-c

我在下面的第 4 行遇到了奇怪的崩溃。

```
{
...
int exp = [[resourceCompletionReward objectAtIndex:experienceD] integerValue];

int xx = mySprite.x;
int yy = mySprite.y;

[self setupRisingText:exp withX:xx withY:yy];
...
}

-(void)setupRisingText:(int)risingValue withX:xx withY:yy {
    ...
} 
```

当它尝试运行 setupRising Text 方法时，它会崩溃。还是看不出有什么不对？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:09:44.623

我想知道，你的方法不应该是这样的吗？

```
-(void)setupRisingText:(int)risingValue withX:(int)xx withY:(int)yy {
    //NSLog(@"%d",risingValue+xx+yy);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:15:01.417

你所做的一切`xx`都`yy`被`setupRisingText:::`视为 id （类似于`NSObject *`，不完全一样，但类似）

因此，访问和处理指向对象（任何对象，而不仅仅是 NSObject 的子类）的指针不是 int 变量。这是任何没有类型的参数的默认值。

采用

```
-(void)setupRisingText:(int)risingValue withX:(int)xx withY:(int)yy {
    ...
} 
```

反而。

顺便说一句，如果您使用`NSNumber`过，这里的问题就会少一些。

# android - 使用 CustomViews 从 ListView 中的所有行中获取数据

> ID：15873111
> 
> 赞同：0
> 
> 时间：2013-04-08T07:01:43.553
> 
> 标签：android, listview, custom-view

安卓 2.3.3，MinSDK = 8

我有一个 ListView，每行都有 CustomView（带有一个图像、两个文本视图和 1 个复选框）。我有一个名为“添加联系人”的按钮。单击此按钮时，我检查复选框是否已选中。如果选中，我必须获取图像的值和两个文本视图并存储在数据库中。

我知道 ListView 的 CustomView 是如何工作的。视图在显示时创建。那么，如何获取所有检查的行？

这是 XML 布局 :::

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="100dp"
    android:layout_margin="2dp"    
    android:orientation="horizontal" >

    <ImageView
        android:id="@+id/imgView_addcontact"
        android:layout_width="0dip"
        android:layout_height="100dp"
        android:layout_weight="0.20"
        android:padding="5dp"
        android:src="@drawable/addcontactsmall2" />

    <LinearLayout
        android:layout_width="0dp"
        android:layout_height="100dp"
        android:layout_gravity="center"
        android:layout_weight="0.60"
        android:orientation="vertical"
        android:padding="5dp" >

        <TextView
            android:id="@+id/txtView_addcontact_contactname"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Contact Name"
            android:textSize="20sp" />

        <TextView
            android:id="@+id/txtview_addcontact_phonenumber"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Phone Number"
            android:textSize="16sp" />
    </LinearLayout>

    <CheckBox
        android:id="@+id/chbk_addcontact"
        android:layout_width="0dp"
        android:layout_height="100dp"
        android:layout_weight="0.10"
        android:layout_gravity="center"
        android:padding="5dp" />

</LinearLayout> 
```

这是我正在尝试的代码 - 虽然我知道，但它不起作用:::

```
for(int i = 0; i< lv_addcontacts.getCount(); i++)
            {
                View contactView = lv_addcontacts.getChildAt(i);

                CheckBox contactView_chbk = (CheckBox) contactView.findViewById(R.id.chbk_addcontact);
                TextView contactView_txt_contactname = (TextView) contactView.findViewById(R.id.txtView_addcontact_contactname);
                TextView contactView_txt_phonenumber = (TextView) contactView.findViewById(R.id.txtview_addcontact_phonenumber);

                if(contactView_chbk.isChecked())
                {   
                    System.out.println("Contact Name = " + contactView_txt_contactname.getText().toString());
                    System.out.println("Phone Number = " + contactView_txt_phonenumber.getText().toString());
                    System.out.println("CheckBox Status = Checked");
                    System.out.println("");
                }
                else
                {
                    System.out.println("Contact Name = " + contactView_txt_contactname.getText().toString());
                    System.out.println("Phone Number = " + contactView_txt_phonenumber.getText().toString());
                    System.out.println("CheckBox Status = Not Checked");
                    System.out.println("");
                }

            } 
```

我得到的例外:::

// 输出

```
04-08 12:28:47.539: I/System.out(3244): Contact Name = Self Help
04-08 12:28:47.539: I/System.out(3244): Phone Number = *111#
04-08 12:28:47.539: I/System.out(3244): CheckBox Status = Not Checked
04-08 12:28:47.539: I/System.out(3244): Contact Name = Bonus Cards
04-08 12:28:47.539: I/System.out(3244): Phone Number = *444#
04-08 12:28:47.539: I/System.out(3244): CheckBox Status = Checked
04-08 12:28:47.539: I/System.out(3244): Contact Name = Annaya
04-08 12:28:47.539: I/System.out(3244): Phone Number = +1xxxx
04-08 12:28:47.539: I/System.out(3244): CheckBox Status = Not Checked 
```

// 例外

```
04-08 12:28:47.539: W/dalvikvm(3244): threadid=1: thread exiting with uncaught exception (group=0x401be560)
04-08 12:28:47.539: E/AndroidRuntime(3244): FATAL EXCEPTION: main
04-08 12:28:47.539: E/AndroidRuntime(3244): java.lang.NullPointerException
04-08 12:28:47.539: E/AndroidRuntime(3244):     at com.xxx.xx.Class_Add_Contact.onClick(Class_Add_Contact.java:277)
04-08 12:28:47.539: E/AndroidRuntime(3244):     at android.view.View.performClick(View.java:2485)
04-08 12:28:47.539: E/AndroidRuntime(3244):     at android.view.View$PerformClick.run(View.java:9080)
04-08 12:28:47.539: E/AndroidRuntime(3244):     at android.os.Handler.handleCallback(Handler.java:587)
04-08 12:28:47.539: E/AndroidRuntime(3244):     at android.os.Handler.dispatchMessage(Handler.java:92)
04-08 12:28:47.539: E/AndroidRuntime(3244):     at android.os.Looper.loop(Looper.java:130)
04-08 12:28:47.539: E/AndroidRuntime(3244):     at android.app.ActivityThread.main(ActivityThread.java:3687)
04-08 12:28:47.539: E/AndroidRuntime(3244):     at java.lang.reflect.Method.invokeNative(Native Method)
04-08 12:28:47.539: E/AndroidRuntime(3244):     at java.lang.reflect.Method.invoke(Method.java:507)
04-08 12:28:47.539: E/AndroidRuntime(3244):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:878)
04-08 12:28:47.539: E/AndroidRuntime(3244):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:636)
04-08 12:28:47.539: E/AndroidRuntime(3244):     at dalvik.system.NativeStart.main(Native Method) 
```

异常即将到来，因为尚未创建视图。但是，那么，我如何获得整个列表中的检查值。

编辑 ：：：

如果我选择为复选框实现 onCheckedChange()，如何在 onCheckedChange() 方法中获取当前选中复选框的 ListView 项？

```
@Override
        public void onCheckedChanged(CompoundButton buttonView,
                boolean isChecked) {
            // TODO Auto-generated method stub

            if(isChecked)
            {
                // How do I get the View(CustomView of ListView) to access the textViews and ImageView?
            }

        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:29:56.837

使用 getter setter 为您要存储的值创建一个像这样的内部类

```
class CommonCategory {

        private String nameofFriend;
        private boolean isChecked;

        public void setName(String nameofFriend) {
            this.nameofFriend = nameofFriend;
        }

        public String getName() {
            return nameofFriend;
        }

        public void setChecked(boolean isChecked) {
            this.isChecked = isChecked;
        }

        public boolean isChecked() {
            return isChecked;
        }
    } 
```

像这样获取您想要在列表视图中显示的列表

```
 final ArrayList<CommonCategory> commonFriends = new ArrayList<CommonCategory>();

  for (FriendsDataClass friendsDataClass : XMPPConn.mfriendList) {
                String usernameEmail = friendsDataClass.friendName;
                String username = usernameEmail.substring(0,
                        usernameEmail.indexOf("@"));

                    CommonCategory commoncontacts = new CommonCategory();
                    commoncontacts.setUsernameEmail(usernameEmail);
                    commoncontacts.setName(username);
                    commoncontacts.setChecked(false);
                    commonFriends.add(commoncontacts);

        } 
```

并在 getView 本身的 onCompoundButton 中设置您的复选框值，并将 set 设置为 getter setter。这样你就可以很容易地做到这一点。

谢谢

# tomcat - 如何在 Tomcat 7 上配置 LDAPS 身份验证

> ID：15873114
> 
> 赞同：1
> 
> 时间：2013-04-08T07:02:02.283
> 
> 标签：tomcat, ldap

首先，我在 Tomcat 上配置 HTTPS 并配置身份验证页面。我的身份验证页面在 HTTPS 中与 Tomcat-users.xml 中的用户一起工作

```
<form action="j_security_check" method="POST">
       Username:<input type="text" name="j_username"><br>
       Password:<input type="password" name="j_password">
       <input type="submit" value="Login">
</form> 
```

在 server.xml 我配置一个领域

> <领域类名="org.apache.catalina.realm.JNDIRealm"
> 
> > connectionURL="ldaps://XXXXXXX:636" debug="99"
> > connectionName="MY_USER"
> > connectionPassword="MY PASSWORD"
> > userbase="MY_BASE"
> > userSearch="XXXXXXXXXXXX"
> > userSubtree="true"
> > roleBase="XXXXXXXXXXX"
> > roleSubtree="真" 角色名=
> > "XXXXX"
> > 角色搜索="XXXXXX"
> > 
> > />

我使用命令 keytool 导入我的证书。

> > keytool -import -file om_certificat.pem -keystore cacerts

我应该做点别的吗？

当我启动 tomcat 时，我有这个警告： [SSLHandshakeException](https://stackoverflow.com/questions/6659360/how-to-solve-javax-net-ssl-sslhandshakeexception-error)

我这样做了，但不起作用！我认为，我的 reaml 是正确的，当我执行命令“keytool”时，我收到一条消息“证书已添加”。

那么，我的问题在哪里？我忘了一步？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T09:21:57.083

如果您真的与您的 LDAP 证书建立了“信任”关系（例如，将其导入本地密钥库），我经常看到的一个问题是它被导入到实际上根本没有使用的密钥库中。

仔细检查（如果三重检查失败）您导入到哪个 cacerts 文件以及 tomcat 使用哪个文件）

编辑：通过快速检查，[他们](http://ldapwiki.willeke.com/wiki/Tomcat%20And%20LDAP)说，您必须使用 java 的默认密钥库来进行 LDAP 信任（随处可见的通用文档是用于 SSL/HTTPS 设置）。确保这一点的最简单方法（您可能已经在计算机上安装了所有不同的 java 版本）是找到您的*所有*`cacerts`文件并一一导入您的 LDAP 证书，然后重新启动（至少它是我最容易在没有实际帮助的情况下指出）

您可能还想检查[Imported certificate to Java keystore，JVM 忽略新证书](https://stackoverflow.com/questions/10483828)以获得更多想法

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T13:47:04.870

我解决了我的问题。

我在我的 JVM 64 位上添加了我的证书，但我的 %JAVA_HOME% 配置为我的 32 位版本。

# tsql - TSQL 从日期时间范围获取重叠时段

> ID：15873116
> 
> 赞同：1
> 
> 时间：2013-04-08T07:02:23.027
> 
> 标签：tsql, datetime, overlapping

我有一个日期范围的表，我需要它的行之间的重叠时间段（以小时为单位）的总和。

这是一个模式示例：

```
create table period (
    id int,
    starttime datetime,
    endtime datetime,
    type varchar(64)
  );

insert into period values (1,'2013-04-07 8:00','2013-04-07 13:00','Work');
insert into period values (2,'2013-04-07 14:00','2013-04-07 17:00','Work');
insert into period values (3,'2013-04-08 8:00','2013-04-08 13:00','Work');
insert into period values (4,'2013-04-08 14:00','2013-04-08 17:00','Work');
insert into period values (5,'2013-04-07 10:00','2013-04-07 11:00','Holyday'); /* 1h overlapping with 1*/
insert into period values (6,'2013-04-08 10:00','2013-04-08 20:00','Transfer'); /* 6h overlapping with 3 and 4*/
insert into period values (7,'2013-04-08 11:00','2013-04-08 12:00','Test');  /* 1h overlapping with 3 and 6*/ 
```

它的小提琴：[http ://sqlfiddle.com/#!6/9ca31/10](http://sqlfiddle.com/#!6/9ca31/10)

我预计 8h 重叠小时的总和：1h（id 5 over id 1）6h（id 6 over id 3 和 4）1h（id 7 over id 3 和 6）

我检查了这一点：[使用 SQL 选择重叠的日期时间事件，](https://stackoverflow.com/questions/3976957/select-overlapping-datetime-events-with-sql)但似乎没有做我需要的事情。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T10:39:59.197

```
select sum(datediff(hh, case when t2.starttime > t1.starttime then t2.starttime else t1.starttime end,
    case when t2.endtime > t1.endtime then t1.endtime else t2.endtime end))
from period t1 
join period t2 on t1.id < t2.id
where t2.endtime > t1.starttime and t2.starttime < t1.endtime; 
```

更新以处理几个重叠：

```
select sum(datediff(hh, start, fin))
from (select distinct
case when t2.starttime > t1.starttime then t2.starttime else t1.starttime end as start,
case when t2.endtime > t1.endtime then t1.endtime else t2.endtime end as fin
from period t1 
join period t2 on t1.id < t2.id
where t2.endtime > t1.starttime and t2.starttime < t1.endtime
) as overlaps; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T10:28:04.443

我有一些“肮脏”的解决方案。希望这可以帮助 ：）

```
with src as (
    select
     convert(varchar, starttime, 112) [start_date]
    , cast(left(convert(varchar, starttime, 108), 2) as int) [start_time]
    , convert(varchar, endtime, 112) [end_date]
    , cast(left(convert(varchar, endtime, 108), 2) as int) [end_time]
    , id
    from [period]),

[gr] as (
    select
    row_number() over(order by s1.[start_date], s1.[start_time], s1.[end_time], s2.[start_time], s2.[end_time]) [no]
    , s1.[start_date] [date]
    , s1.[start_time] [t1]
    , s1.[end_time] [t2]
    , s2.[start_time] [t3]
    , s2.[end_time] [t4]
    from src s1
    join src s2 on s1.[start_date] = s2.[start_date]
        and s1.[end_date] = s2.[end_date]
        and (s1.[start_time] between s2.[start_time] and s2.[end_time] or s1.[end_time] between s2.[start_time] and s2.[end_time])
        and s1.id != s2.id),

[raw] as (
    select [no], [date], [t1] [h] from [gr] union all
    select [no], [date], [t2] from [gr] union all
    select [no], [date], [t3] from [gr] union all
    select [no], [date], [t4] from [gr]),

[max_min] as (
    select [no], [date], max(h) [max_h], min(h) [min_h]
    from [raw]
    group by [no], [date]
),

[result] as (
    select [raw].*
    from [raw]
    left join [max_min] on [raw].[no] = [max_min].[no]
        and ([raw].h = [max_min].[max_h] or [raw].h = [max_min].[min_h])
    where [max_min].[no] is null),

[final] as (
    select distinct r1.[date], r1.h [start_h], r2.h [end_h], abs(r1.h - r2.h) [dif]
    from [result] r1
    join [result] r2 on r1.[no] = r2.[no]
    where abs(r1.h - r2.h) > 0
    and r1.h > r2.h)

select sum(dif) [overlapping hours] from [final] 
```

[SQLFiddle](http://sqlfiddle.com/#!6/b0516/2)

# c# - 拦截 TCP 和 UDP 流量 localhost

> ID：15873118
> 
> 赞同：0
> 
> 时间：2013-04-08T07:02:26.910
> 
> 标签：c#, tcp, udp, sniffing, interception

有没有办法在 C# 中拦截 Windows 本地主机内的 TCP 和 UDP 流量？例如，在 localhost 上运行的应用程序通过 localhost 上的 TCP 和/或 UDP 发送消息......我需要拦截这些以确定程序数据的效率，为此我正在 C# 中构建一个实用工具（需要一个 self构建解决方案没有产品）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:06:26.930

通常你必须使用像wireshark这样的程序来捕获环回（127.0.0.1）流量，但在Windows上使用libpcap是不可能的。（阅读[此说明](http://wiki.wireshark.org/CaptureSetup/Loopback)）

如果要嗅探环回接口，则必须使用[Raw Cap](http://www.netresec.com/?page=Blog&month=2011-04&post=RawCap-sniffer-for-Windows-released)

# android - Android：初始化 Canvas 对象时收到 NullPointerException

> ID：15873119
> 
> 赞同：1
> 
> 时间：2013-04-08T07:02:34.543
> 
> 标签：android, image, canvas, nullpointerexception

当代码进入画布初始化时，我有 NullPointerException。创建画布时，我将一个空白位图传递给它。

这是我发生空指针异常的代码。

```
 private static Bitmap createScaledBitmap(Bitmap unscaledBitmap, int dstWidth, int dstHeight, ScalingLogic scalingLogic) {

      Rect srcRect = calculateSrcRect(unscaledBitmap.getWidth(), unscaledBitmap.getHeight(), dstWidth, dstHeight, scalingLogic);

      Rect dstRect = calculateDstRect(unscaledBitmap.getWidth(), unscaledBitmap.getHeight(), dstWidth, dstHeight, scalingLogic);

      Bitmap scaledBitmap = Bitmap.createBitmap(dstRect.width(), dstRect.height(), Config.ARGB_8888);

      Canvas canvas = new Canvas(scaledBitmap);

      canvas.drawBitmap(unscaledBitmap, srcRect, dstRect, new Paint(Paint.FILTER_BITMAP_FLAG));

      return scaledBitmap;

} 
```

这是代码的堆栈跟踪。

> java.lang.RuntimeException: 无法在 android.app.ActivityThread.handleLaunchActivity(ActivityThread. java:2679) at android.app.ActivityThread.access$2300(ActivityThread.java:125) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033) at android.os.Handler.dispatchMessage(Handler.java: 99) 在 android.os.Looper.loop(Looper.java:123) 在 android.app.ActivityThread.main(ActivityThread.java:4627) 在 java.lang.reflect.Method.invokeNative(Native Method) 在 java.lang .reflect.Method.invoke(Method.java:521) 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:858) 在 com.android.internal.os.ZygoteInit.main(ZygoteInit.java ：616) at dalvik.system.NativeStart.main(Native Method) 引起：java.lang.NullPointerException at android.graphics.Canvas.(Canvas.java:82) at ImageManupulator.createScaledBitmap(ImageManupulator.java:101) at utils。 ImageManupulator.ImageResizing(ImageManupulator.java:27) 在 android.PhotoEditActivity.updatePhoto(PhotoEditActivity.java:219) 在 android.PhotoEditActivity.access$0(PhotoEditActivity.java:211) 在 android.PhotoEditActivity$2.onItemClick(PhotoEditActivity.java:279) ) 在 android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047) 在 android.app.ActivityThread 的 android.widget.AdapterView.performItemClick(AdapterView.java:284) 在 android.PhotoEditActivity.onCreate(PhotoEditActivity.java:128) .performLaunchActivity(ActivityThread.java:2627) ... 11 更多主要（本机方法）引起：java.lang.NullPointerException at android.graphics.Canvas.(Canvas.java:82) at ImageManupulator.createScaledBitmap(ImageManupulator.java:101) at utils.ImageManupulator.ImageResizing(ImageManupulator.java:27 ) 在 android.PhotoEditActivity.updatePhoto(PhotoEditActivity.java:219) 在 android.PhotoEditActivity.access$0(PhotoEditActivity.java:211) 在 android.PhotoEditActivity$2.onItemClick(PhotoEditActivity.java:279) 在 android.widget.AdapterView.performItemClick (AdapterView.java:284) 在 android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627) 在 android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047) 在 android.PhotoEditActivity.onCreate(PhotoEditActivity.java:128) ... 11 更多主要（本机方法）引起：java.lang.NullPointerException at android.graphics.Canvas.(Canvas.java:82) at ImageManupulator.createScaledBitmap(ImageManupulator.java:101) at utils.ImageManupulator.ImageResizing(ImageManupulator.java:27 ) 在 android.PhotoEditActivity.updatePhoto(PhotoEditActivity.java:219) 在 android.PhotoEditActivity.access$0(PhotoEditActivity.java:211) 在 android.PhotoEditActivity$2.onItemClick(PhotoEditActivity.java:279) 在 android.widget.AdapterView.performItemClick (AdapterView.java:284) 在 android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627) 在 android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047) 在 android.PhotoEditActivity.onCreate(PhotoEditActivity.java:128) ... 11 更多82) 在 ImageManupulator.createScaledBitmap(ImageManupulator.java:101) 在 utils.ImageManupulator.ImageResizing(ImageManupulator.java:27) 在 android.PhotoEditActivity.updatePhoto(PhotoEditActivity.java:219) 在 android.PhotoEditActivity.access$0(PhotoEditActivity.java :211) 在 android.PhotoEditActivity$2.onItemClick(PhotoEditActivity.java:279) 在 android.widget.AdapterView.performItemClick(AdapterView.java:284) 在 android.PhotoEditActivity.onCreate(PhotoEditActivity.java:128) 在 android.app。 Instrumentation.callActivityOnCreate(Instrumentation.java:1047) 在 android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627) ... 11 更多82) 在 ImageManupulator.createScaledBitmap(ImageManupulator.java:101) 在 utils.ImageManupulator.ImageResizing(ImageManupulator.java:27) 在 android.PhotoEditActivity.updatePhoto(PhotoEditActivity.java:219) 在 android.PhotoEditActivity.access$0(PhotoEditActivity.java :211) 在 android.PhotoEditActivity$2.onItemClick(PhotoEditActivity.java:279) 在 android.widget.AdapterView.performItemClick(AdapterView.java:284) 在 android.PhotoEditActivity.onCreate(PhotoEditActivity.java:128) 在 android.app。 Instrumentation.callActivityOnCreate(Instrumentation.java:1047) 在 android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627) ... 11 更多updatePhoto(PhotoEditActivity.java:219) at android.PhotoEditActivity.access$0(PhotoEditActivity.java:211) at android.PhotoEditActivity$2.onItemClick(PhotoEditActivity.java:279) at android.widget.AdapterView.performItemClick(AdapterView.java:284 ) at android.PhotoEditActivity.onCreate(PhotoEditActivity.java:128) at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047) at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627) ... 11 更多updatePhoto(PhotoEditActivity.java:219) at android.PhotoEditActivity.access$0(PhotoEditActivity.java:211) at android.PhotoEditActivity$2.onItemClick(PhotoEditActivity.java:279) at android.widget.AdapterView.performItemClick(AdapterView.java:284 ) at android.PhotoEditActivity.onCreate(PhotoEditActivity.java:128) at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047) at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627) ... 11 更多1047) 在 android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627) ... 还有 11 个1047) 在 android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627) ... 还有 11 个

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:08:49.807

无论您在何处调用此方法，请检查您的参数 unscaledBitmap 和 scalingLogic 是否为空，因为这两个只是您的方法实现中使用的对象。

# c# - Sitemap 的 XML Schema 将其绑定在一起

> ID：15873123
> 
> 赞同：0
> 
> 时间：2013-04-08T07:02:59.930
> 
> 标签：c#, asp.net, xml, xsd, sitemap

我有以下用于定义 XML 模式的代码。将线条保持在一起时遇到问题。以前工作得很好。

```
public static FileContentResult WriteTo(SiteMapFeed feedToFormat)
{
    var siteMap = feedToFormat;          

    //TODO: DO something, next codes are just DEMO
    var header = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>"
        + Environment.NewLine + "<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\""
        + Environment.NewLine + "xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\""
        + Environment.NewLine + "xsi:schemaLocation=\""
        + Environment.NewLine + "http://www.sitemaps.org/schemas/sitemap/0.9"
        + Environment.NewLine + "http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd\">";

    var urls = new System.Text.StringBuilder();        
    foreach (var site in siteMap.Items) 
    {
        urls.Append(string.Format("<url><loc>http://www.{0}/</loc><lastmod>{1}</lastmod><changefreq>{2}</changefreq><priority>{3}</priority></url>", site.Url, site.LastMod, site.ChangeFreq, site.Priority));

    }                    
    byte[] fileContent = System.Text.Encoding.UTF8.GetBytes(header + urls + "</urlset>");
    return new FileContentResult(fileContent, "text/xml");
} 
```

所以这现在导致以下错误：

![在此处输入图像描述](https://i.stack.imgur.com/1D6lK.png)

我在哪里做错了？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:14:30.097

我认为问题在于“xsi:schemaLocation”位 - 如果我的大脑没记错的话，XML 属性中的引号之间不能有多行。尝试更改为：

```
var header = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>"
    + Environment.NewLine + "<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\""
    + Environment.NewLine + "xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\""
    + Environment.NewLine + "xsi:schemaLocation=\""
    + "http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd\">" + Environment.NewLine; 
```

# visual-studio - 无法启动 IIS Express Web 服务器

> ID：15873126
> 
> 赞同：337
> 
> 时间：2013-04-08T07:03:13.920
> 
> 标签：visual-studio, iis, iis-express

我有一个 asp.net MVC 4 解决方案。当我尝试使用 Visual Studio 2012 打开它时，出现以下错误：

> **微软视觉工作室**
> 
> 为 ASP.NET 4.5配置 Web`https://localhost:`失败。您必须为 ASP.NET 4.5 手动配置此站点，以便该站点正确运行。`https://localhost:44300/`在本地计算机上找不到服务器。确保本地 IIS 服务器已配置为支持安全通信。
> 
> **确定 帮助**

虽然解决方案打开。此外，当我尝试从调试菜单运行它时，我收到以下错误：

```
 Unable to launch the IIS Express Web server.

The start URL specified is not valid. https://localhost:44300/ 
```

而且我无法调试代码。如何摆脱这些错误并从 VS 2012 调试/运行网站？

请建议。

* * *

* * *

## 回答 #1

> 赞同：414
> 
> 时间：2013-06-11T07:13:38.093

我有同样的问题。
原因 - 错误的 IIS 配置文件。

尝试删除自动创建的`IISExpress`文件夹，该文件夹通常位于`%userprofile%/Documents`，例如`C:\Users\[you]\Documents\IISExpress`。

别担心，VS 应该再次创建它——这一次是正确的——一旦你再次运行你的解决方案。

* * *

编辑：用于删除文件夹的命令行：

```
rmdir /s /q "%userprofile%\Documents\IISExpress" 
```

* * *

## 回答 #2

> 赞同：245
> 
> 时间：2016-03-04T15:29:27.553

如果使用VS2015或以上

确保 iisexpress 进程未运行。

确保没有其他进程正在使用您所需的端口。你可以通过执行来做到这一点

`netstat -a -b`

在控制台中（以管理员身份，输入`cmd`开始菜单，右键单击并选择“以管理员身份运行”）。例如，如果您看到状态为 ESTABLISHED 或 LISTENING 的条目，则表示其他进程正在使用此端口。您需要终止该进程或更改端口。

然后删除以下文件

```
<<path_to_solution_folder>>\.vs\config\applicationhost.config 
```

注意`.vs`文件夹可能被隐藏

然后找到`<<project-name>>.csproj.user`文件，用文本编辑器（记事本）打开它，并确保配置了`IISUrl`你想要的端口。`WebProjectProperties``<IISUrl>http://localhost:XXXXX/</IISUrl>``XXXXX`

这样做并尝试启动应用程序后，您可能会得到

```
HTTP Error 500.19 - Internal Server Error
The requested page cannot be accessed because the related configuration data for the page is invalid. 
```

然后转到 {Project Properties} -> Web 并按“创建虚拟目录”按钮

[![在此处输入图像描述](https://i.stack.imgur.com/BQNrn.png)](https://i.stack.imgur.com/BQNrn.png)

* * *

## 回答 #3

> 赞同：84
> 
> 时间：2013-07-16T23:45:12.100

@roblll 说得对。但是对于那些不想挖掘答案的人来说，这里是：

1.  关闭 Visual Studio（可能没有必要，但不会有什么坏处）。
2.  导航到您的文档文件夹。这是我的 IISExpress 配置目录所在的位置。
3.  在 config 文件夹中，有一个名为应用程序主机的文件。打开那个。
4.  搜索您的项目名称。当它在您之前的尝试中被轰炸时，它应该由 Visual Studio 添加到那里。
5.  请注意，HTTP 与您打算用于 https 的端口绑定。

    ```
    //Change this:
    <binding protocol="http" bindingInformation="*:44300:localhost" />

    //to this:
    <binding protocol="https" bindingInformation="*:44300:localhost" /> 
    ```

请记住，Visual Studio 提供的端口可能与您预期的不同。只需确保绑定中的端口与项目属性的 Web 选项卡中的内容相对应。

[http://www.hanselman.com/blog/WorkingWithSSLAtDevelopmentTimeIsEasierWithIISExpress.aspx](http://www.hanselman.com/blog/WorkingWithSSLAtDevelopmentTimeIsEasierWithIISExpress.aspx)

* * *

## 回答 #4

> 赞同：42
> 
> 时间：2014-03-25T12:28:08.050

我有同样的问题，但对我有用的解决方案是不同的。

1.  在 VS2013 中打开 Debug > {YourWebsiteName} 属性
2.  选择“网络”选项卡。
3.  在“服务器”下，我发现“覆盖应用程序根 URL”已被选中。我取消选中并保存。

这就是我让事情运转起来所需要的一切。

* * *

## 回答 #5

> 赞同：21
> 
> 时间：2017-09-07T02:30:19.420

尝试以下步骤：

1.  正如@Yehuda Shapira 所说， 删除**IISExpress文件夹**
2.  重新启动计算机
3.  删除项目中的**.vs**文件夹

祝你好运！

* * *

## 回答 #6

> 赞同：17
> 
> 时间：2015-04-07T17:31:54.340

同样的问题，但需要以**管理员模式**启动 VS2013 。

* * *

## 回答 #7

> 赞同：15
> 
> 时间：2014-01-15T11:25:16.323

我遇到了同样的问题，然后我打开了任务管理器-> 进程然后杀死了 iisexpress.exe 进程。之后我尝试运行该应用程序并能够成功运行它

* * *

## 回答 #8

> 赞同：14
> 
> 时间：2015-07-22T01:05:11.313

在我的情况下，该项目位于**网络驱动器**上，并且如其他答案中所述，删除 IIS Express 文件夹没有帮助。我的解决方法是将项目复制到本地驱动器并且它有效！

* * *

## 回答 #9

> 赞同：13
> 
> 时间：2014-05-06T09:11:27.710

I had the same problem, thanks to @Jacob for giving information about it.

The Reason is - wrong entry for your project in config file **applicationhost** located at

```
C:\Users\(yourusername)\Documents\IISExpress\config 
```

1.  Close all Visual Studio solutions.
2.  Rename IISExpress folder to some IISExpress-Copy (instead of deleting you can have a copy of it)
3.  Now open VS again and build/debug the project, now you would see IISExpress folder created for you again with correct configuration.

It worked for me and hope it should work for you also.

* * *

## 回答 #10

> 赞同：10
> 
> 时间：2014-01-21T17:58:19.900

我有同样的问题，原因是“覆盖应用程序根 URL”标志设置在属性 - > Web 删除标志后，IIS Express 使用定义的端口正常启动。

* * *

## 回答 #11

> 赞同：8
> 
> 时间：2013-04-08T07:09:05.580

您似乎需要进行一些配置，因为您似乎正在使用 SSL；这是Scott Hanselman本人[的分步指南。](http://www.hanselman.com/blog/WorkingWithSSLAtDevelopmentTimeIsEasierWithIISExpress.aspx)

* * *

## 回答 #12

> 赞同：6
> 
> 时间：2014-10-08T09:41:50.747

对我有用的唯一解决方案是创建另一个测试项目。然后执行以下步骤：

1.  右键单击项目并转到属性-> Web

2.  在 Use Local IIS Web Server 部分的项目 URL 下，复制项目 URL(http://localhost:59002/) - 这是来自测试项目。

3.  导航到出现此错误的项目。右键单击项目并转到属性-> Web。

4.  将项目 URL 粘贴到使用本地 IIS Web 服务器部分（从测试项目复制的 URL）。关闭测试项目并保存。

5.  删除测试项目并运行给出错误的项目。之后工作...

也许不是最好的方法，但这是我可以让它发挥作用的唯一方法。在我重新加载我的笔记本电脑（硬盘驱动器崩溃）并从它们所在的服务器获取我的所有项目后，我收到了此错误消息。

* * *

## 回答 #13

> 赞同：5
> 
> 时间：2015-12-08T16:34:04.577

分享给未来的读者。手动创建**虚拟目录**对我有用。

*   在解决方案资源管理器中选择项目
*   按`Alt`+`Enter`
*   转到网页部分
*   单击创建虚拟目录

* * *

## 回答 #14

> 赞同：4
> 
> 时间：2013-12-20T09:38:18.600

在我的情况下，在我允许对我的 IIS Express 网站的外部请求并配置 Windows 防火墙以允许 iisexpress.exe 之后，我无法从 Visual Studio 2013 中启动它。我仍然可以使用命令行启动它，它服务于本地和外部要求很好。

```
C:\Program Files (x86)\IIS Express>iisexpress /site:MyWebSiteName 
```

在 VS 工作之后，我尝试创建一个防火墙规则以允许我的端口。

* * *

## 回答 #15

> 赞同：3
> 
> 时间：2013-12-16T12:21:17.330

我有同样的问题，就我而言，我只是清理然后重建我的解决方案，它对我有用

* * *

## 回答 #16

> 赞同：3
> 
> 时间：2014-10-09T12:20:14.423

我在 VS 2013 上遇到了同样的问题，即使在所有可能的尝试之后它也无法正常工作。我的问题通过以下方式解决：

```
- In control panel (Program and Features) I found that all of the IIS related features were unchecked.I finally checked all of those and restarted my system.
- Then I started my VS 2013 as administrator and thats it everything
   worked fine then. 
```

至少你可以试一试，因为它对我有用。

* * *

## 回答 #17

> 赞同：3
> 
> 时间：2019-01-10T09:02:53.740

在网上搜索两小时后，我发现我的解决方案如下步骤 - 关闭 Visual Studio - 删除项目的 .vs 文件夹 - 打开 Visual Studio 并重新运行项目

那是我的工作，玩得开心

* * *

## 回答 #18

> 赞同：2
> 
> 时间：2014-08-11T14:59:59.337

我们的网站也有同样的问题。我们能够在 Visual Studio 中修复这一切。我们使用的是 2012 Ultimate。

我们看到的根本问题是启用 SSL 后，出于某种原因，VS 为标准 URL 和安全 URL 分配了相同的端口。当我们从 TFS 中提取代码时，似乎出现了这个问题。

为了解决这个问题，我们采取了以下步骤：

1.  右键单击项目并转到**属性**-> **Web**
2.  在***使用本地 IIS Web 服务器***部分的项目 URL 下，从 URL 中删除“s”并保存。（例如，从 https:// *:44301 转到 http://* :44301。这将允许下一步工作）
3.  在解决方案资源管理器中，选择 Project 并在 Properties 窗口中（如果未显示，请按 F4）将***SSL Enabled***更改为**False**，然后再更改回**True**。它将生成一个不同于标准 URL 的新端口（在我的情况下，我的 SSL 为 44301，标准为 44305）
4.  导航回 Properties -> Web 并将“s”添加回项目 URL。
5.  F5 和骑！

***确保未选中覆盖应用程序根 URL***的复选框。

* * *

## 回答 #19

> 赞同：2
> 
> 时间：2015-02-12T12:07:49.210

检查防病毒防火墙并允许访问 Visual Studio 网络。例如在 nod32 中：

```
goto setting (f5) -> network->personal firewall->rules and zones 
```

在“ `zone and rule editor`”中单击“ `setup`”并找到`vs 2010`或`12`或...并允许访问网络。

* * *

## 回答 #20

> 赞同：2
> 
> 时间：2015-04-14T11:34:23.743

禁用防火墙后，我可以毫无问题地运行它。

* * *

## 回答 #21

> 赞同：2
> 
> 时间：2015-06-08T14:44:07.750

我今天遇到了这个错误。运行 Win 8.1 和 VS 2013。突然我的项目无法运行，我收到消息“无法启动 IIS Express Web 服务器”并且没有更多信息。

过了一会儿，我发现所有IIS Express无法启动的项目都在运行.net 3.5。运行更高版本的项目确实开始正常。

我的解决方案是删除 .net 3.5（从控制面板 -> 打开/关闭 Windows 功能），重新启动 Windows 并再次添加 .net 3.5。

* * *

## 回答 #22

> 赞同：2
> 
> 时间：2020-05-08T15:37:25.190

1.  关闭 Visual Studio 的所有实例。
2.  打开任务管理器。
3.  结束所有活动的 IIS 进程。
4.  重新启动 Visual Studio。

* * *

## 回答 #23

> 赞同：2
> 
> 时间：2018-05-20T18:59:52.433

除了@Yehuda Shapira 给出的答案外，我还必须进行另一项更改，即删除 .csproj.user 文件，其中绑定信息如

```
<IISUrl>http://localhost:54462/</IISUrl> 
```

已存储。删除该文件关闭 Visual Studio，然后重建。希望这会有所帮助。

* * *

## 回答 #24

> 赞同：2
> 
> 时间：2018-09-11T09:26:17.140

Before you try anything else, make sure you 1\. restart visual studio (mostly for refreshing memory resident options from files) and 2\. restart your system (mostly for invalid file locking). If your problem is such temporary or self-fixed those will do without changing anything. It worked for me with PC restart. Also if you work on a multi-user project make sure you have the latest workable version - someone else may had check in something invalid by mistake at e.g. the project file and you mess with your system for no reason. If those won't work, then you probably need to alter some setting(s) that are stuck, missing or need modification - there are plenty propositions on other answers.

* * *

## 回答 #25

> 赞同：2
> 
> 时间：2019-12-11T14:22:41.793

我有类似的问题 - 由于该错误，VS 无法加载特定的 Web 项目。这是有帮助的：

*   在解决方案中编辑项目
*   查找`UseIISExpress`和/或`UseIIS` 部分并确保它们不会相互交叉。

就我而言，它是这样的：

```
...
<UseIISExpress>True</UseIISExpress>
...
<UseIIS>True</UseIIS>
... 
```

因此，我将其更改为：

```
...
<UseIISExpress>True</UseIISExpress>
...
<UseIIS>False</UseIIS>
... 
```

然后它起作用了。

* * *

## 回答 #26

> 赞同：2
> 
> 时间：2016-08-24T15:06:19.157

好吧，上述步骤都不适合我。就我而言，我的`applicationhost.config`文件不知何故缺少以下两行代码

```
 <add name="rules-64-ISAPI-2.0" path="*.rules" verb="*" modules="IsapiModule" scriptProcessor="%windir%\Microsoft.NET\Framework64\v2.0.50727\aspnet_isapi.dll" preCondition="classicMode,runtimeVersionv2.0,bitness64" />
    <add name="xoml-64-ISAPI-2.0" path="*.xoml" verb="*" modules="IsapiModule" scriptProcessor="%windir%\Microsoft.NET\Framework64\v2.0.50727\aspnet_isapi.dll" preCondition="classicMode,runtimeVersionv2.0,bitness64" /> 
```

希望这可以帮助一些人。

* * *

## 回答 #27

> 赞同：1
> 
> 时间：2013-09-06T18:40:42.757

从 VS2012 运行我的解决方案时，我遇到了类似的问题：

```
Unable to launch the IIS Express Web server.  
The start URL specified is not valid. https://localhost:44301/ 
```

我选择了错误的项目作为启动项目。我将云项目设为启动（右键单击项目-> 设置为启动项目），一切都开始正常工作。

* * *

## 回答 #28

> 赞同：1
> 
> 时间：2014-08-29T15:13:43.113

安装 Visual Studio 2013 Update 3 后我遇到了同样的问题。
`VS 2013 can not load Microsoft.VisualStudio.TraceLogPackage.dll`
`Unable to launch the IIS Express Web server`

通过执行以下步骤解决了我的问题：

1.修复`Visual Studio 2013 Update 3`
2.`Developer Command Prompt`以管理员身份启动。
3.`devenv.exe /setup`输入然后回车

* * *

## 回答 #29

> 赞同：1
> 
> 时间：2015-03-04T11:39:14.397

我遇到过同样的问题。我已经删除了路径下的很多文件夹`C:/users/`以释放我机器上的一些空间。之后我开始收到此错误。

我只需要重新启动我的机器，一切正常。

* * *

## 回答 #30

> 赞同：1
> 
> 时间：2014-03-26T21:08:58.483

Jason 的剃须刀系列文章[http://jasonrshaver.com/?tag=/Client+Certificates](http://jasonrshaver.com/?tag=/Client+Certificates)准确解释了如何设置您的 applicationhost.config 站点条目以允许应用程序在 ssl 或标准 http 中运行。

他建议的其中一件事是为该站点放置两个绑定条目。这就是我所做的。

```
 <bindings>
                <binding protocol="http" bindingInformation="*:59945:localhost" />
                <binding protocol="https" bindingInformation="*:44300:localhost"/>
            </bindings> 
```

他还建议更改其他设置。它在我的三台机器中的两台上工作。每次我被告知在应用程序主机中手动配置一个站点时，它通常与绑定有关。（例如对多个 Web 应用程序使用相同的端口。）

* * *

## 回答 #31

> 赞同：1
> 
> 时间：2015-03-18T02:13:39.697

我的问题需要一个 3 倍的解决方案：

1.  删除 Documents 文件夹中的 IISExpress 文件夹。
2.  通过右键单击它并选择“设置为启动项目”或通过解决方案属性将 Web 项目设置为您的启动项目。
3.  设置启动 URL，或设置为“当前页面”或“特定页面”。我的设置为“不要打开页面。等待来自外部应用程序的请求”，我不得不将其更改为“特定页面”，我将其留空，以便它将转到我的应用程序的主页，然后它会工作。

* * *

## 回答 #32

> 赞同：1
> 
> 时间：2020-07-17T14:02:57.557

在我的 PC 上运行 XAMPP 的 Apache 服务器后，我也遇到了这个问题。[`net stop http`](https://stackoverflow.com/a/21488616/9108471)为了运行它，我通过在管理员命令提示符下写入来终止 8086 端口上的所有进程。我认为杀死进程给我带来了这个问题。

对我来说，执行以下步骤后，这个问题就解决了；

1.  关闭 Visual Studio 和 SQL Management Studio。
2.  转到服务并启动所有 SQL 服务，除了`SQL Server Agent (SQLEXPRESS)`.
3.  去`C:\Users\<your pc name>\Documents`和[删除 IISExpress 文件夹](https://stackoverflow.com/a/17038432/9108471)。
4.  重启电脑。**（我在上面没有找到的新待办事项）**
5.  启动 Visual Studio 并运行程序。

* * *

## 回答 #33

> 赞同：1
> 
> 时间：2020-02-13T10:57:37.557

就我而言，我在删除该绑定后在**applicationHost.config文件上添加了新的站点绑定，它工作正常。**applicationHost.config 路径位于 .VS(hidden) 文件夹上的项目根目录中

* * *

## 回答 #34

> 赞同：1
> 
> 时间：2016-01-04T10:35:04.950

我会在我的机器上为虚拟机设置*Internet 连接共享。*我将其关闭，并且能够在*Visual Studio 2015*中进行调试。然而，为了在重新启动后持续调试，我需要将*Internet 连接共享*服务设置为手动启动，即使我的 Internet 连接都没有启用*Internet 连接共享。*

* * *

## 回答 #35

> 赞同：1
> 
> 时间：2015-09-16T13:23:48.370

当我查看 IIS Express 注册表项时，我的问题最终得到了解决：

```
HKEY_CURRENT_USER\Software\Microsoft\IISExpress 
```

`CustomUserHome`我有一个指向我的网站的条目，这造成了严重破坏。

* * *

## 回答 #36

> 赞同：0
> 
> 时间：2015-02-07T13:38:56.287

请浏览快照，我遇到了同样的错误，但以下设置解决了它

1.  选择当前页面作为**开始操作**

2.  **在Servers 选项**中选择特定端口并输入端口 26641 ，在虚拟路径中输入 /

3.  应取消选中 NTLM 选项

* * *

## 回答 #37

> 赞同：0
> 
> 时间：2015-06-19T16:26:41.573

在我的情况下，IIS Express applicationhost.config 文件在几个元素的 managedRuntimeVersion 属性中有错字。Visual Studio 2012 和 Visual Studio 2013 都发生了这种情况。我只收到了消息的第一部分，说明：

> 无法启动 IIS Express Web 服务器。

它在事件日志中记录了一条错误消息：

> 工作进程无法预加载 .Net Runtime 版本 v4.030319。

正确的运行时版本是 v4.0.30319（注意第二个句点。）

我采取的纠正步骤：

1.  导航到 C:\Users\\Documents\IISExpress\config
2.  编辑 applicationhost.config
3.  找到配置部分
4.  将所有对“v4.030319”的引用更正为“v4.0.30319”

下次我调试 Web 应用程序时，Visual Studio 成功启动了 IIS Express。

* * *

## 回答 #38

> 赞同：0
> 
> 时间：2017-01-04T14:41:39.400

其他解决方案都不适合我。我禁用了编辑并继续，一切都很好:)

* * *

## 回答 #39

> 赞同：0
> 
> 时间：2019-12-13T09:38:16.987

重新启动计算机是唯一对我有用的方法。经典 101 IT :)

* * *

## 回答 #40

> 赞同：0
> 
> 时间：2019-07-22T17:46:22.390

我将建议一种解决此问题的方法：

1.使用以下控制台命令删除 \Documents\IISExpress 文件夹：rmdir /s /q "%userprofile%\Documents\IISExpress"

2.  删除位于 Visual Studio 项目根文件夹的 .vs\Config\ 文件夹中的 applicationhost.config 文件。

3.  更改项目的网站随机 URL：在 Visual Studio 中，右键单击解决方案资源管理器中的项目节点，然后选择属性；浏览 Web 面板，然后更改 Project Url 文本框值中的数字。

4.  添加值为 1 的 _CSRUN_DISABLE_WORKAROUNDS 环境系统变量，如以下屏幕截图所示（感谢 Juan M. Elosegui 在此 SO 线程和图像上报告此问题）：

[![在此处输入图像描述](https://i.stack.imgur.com/2duSY.jpg)](https://i.stack.imgur.com/2duSY.jpg)

祝你好运 ！

* * *

## 回答 #41

> 赞同：0
> 
> 时间：2015-11-04T07:02:44.353

无需删除目录 C:\Users[you]\Documents\IISExpress 中的整个 IISExpress 文件夹。

只是评论：

```
<binding protocol="https" bindingInformation="*:8090:localhost" /> 
```

在 IISExpress 文件夹中的 applicationhost.config 文件中。

* * *

## 回答 #42

> 赞同：0
> 
> 时间：2017-08-11T09:01:51.600

我遇到过同样的问题。我通过从项目属性中更改端口号来解决它。我将端口号 50624 更改为 50625。

[![在此处输入图像描述](https://i.stack.imgur.com/Rbvqn.png)](https://i.stack.imgur.com/Rbvqn.png)

* * *

## 回答 #43

> 赞同：0
> 
> 时间：2017-06-15T03:21:56.200

我最近遇到了这个确切的问题，这是因为该项目存储在网络驱动器上。由于 IIS 在本地作为 NetworkService 运行，因此它无法访问存储项目的网络共享。假设从网络共享打开项目违反最佳实践，我将项目复制到本地 C:\ 驱动器，然后项目按预期运行。

* * *

## 回答 #44

> 赞同：0
> 
> 时间：2019-04-18T04:03:58.040

我有同样的问题。请按照以下步骤操作：

1- 在 Documents\IISExpress\config 中打开 applicationhost 文件，如果不存在则添加以下代码

```
 <site name="solutionname" id="2">
                <application path="/" applicationPool="solutionname">
                    <virtualDirectory path="/" physicalPath="physicaladdressofproject" />
                </application>
                <bindings>
                    <binding protocol="http" bindingInformation="*:xxxx:localhost" />
                </bindings>
            </site> 
```

2-然后转到项目的根文件并删除使用不同版本的Visual Stdio在项目上完成的所有更新

3- 接下来转到 [root].vs\config 并删除 applicationhost 它将自动创建

4-运行项目

它对我有用。

* * *

## 回答 #45

> 赞同：0
> 
> 时间：2018-03-02T00:42:47.470

删除 IISExpress 文件夹中的内容，然后关闭并打开 Visual Studio。并再次运行。应该没问题。

或更改端口号

* * *

## 回答 #46

> 赞同：0
> 
> 时间：2019-03-12T19:35:38.133

VS2015

编辑文件 .csproj.user

插入以下 xml 标签（如果已经存在则不要重复）

```
<UseIIS>True</UseIIS>
<AutoAssignPort>True</AutoAssignPort>
<DevelopmentServerPort>2870</DevelopmentServerPort>
<DevelopmentServerVPath>/</DevelopmentServerVPath>
<IISUrl>http://localhost:2859</IISUrl>
<OverrideIISAppRootUrl>True</OverrideIISAppRootUrl>
<IISAppRootUrl>http://localhost:2859</IISAppRootUrl>
<NTLMAuthentication>False</NTLMAuthentication>
<UseCustomServer>False</UseCustomServer>
<CustomServerUrl>http://localhost/app</CustomServerUrl> 
```

在下面的 XML 节点中插入上述标签：

```
<ProjectExtensions><VisualStudio><FlavorProperties GUID="{349c5851-65df-11da-9384-00065b846f21}"><WebProjectProperties> 
```

* * *

## 回答 #47

> 赞同：0
> 
> 时间：2019-09-09T10:04:57.383

这里介绍的方法都不适合我。最终起作用的是在 .csproj 文件中将 DevelopmentServerPort 设置为 0：

```
 <WebProjectProperties>
      <UseIIS>True</UseIIS>
      <AutoAssignPort>True</AutoAssignPort>
      <DevelopmentServerPort>0</DevelopmentServerPort>
      <DevelopmentServerVPath>/</DevelopmentServerVPath>
      <IISUrl>http://localhost:52973/</IISUrl>
      <NTLMAuthentication>False</NTLMAuthentication>
      <UseCustomServer>False</UseCustomServer>
      <CustomServerUrl>
      </CustomServerUrl>
      <SaveServerSettingsInUserFile>False</SaveServerSettingsInUserFile>
    </WebProjectProperties> 
```

* * *

## 回答 #48

> 赞同：0
> 
> 时间：2016-08-26T12:45:27.660

一直在搞乱 IISExpress 和 Project，试图让它在与 localhost 不同的 URL 上侦听，当恢复时我遇到了这个错误，在按照这里的所有答案之后，他们都没有工作。

最终注意到，在项目 Porperties -> Web 中，我在 Start Action 下选中了“Start URL”，但输入框为空。将此更改为“当前页面”解决了我的问题。

* * *

## 回答 #49

> 赞同：0
> 
> 时间：2017-05-18T10:35:34.393

我的解决方案是从 IIS Express 切换到本地 IIS。 [![溶液性质](https://i.stack.imgur.com/hN51w.png)](https://i.stack.imgur.com/hN51w.png) 确保您的虚拟目录绑定到同一个端口。

* * *

## 回答 #50

> 赞同：0
> 
> 时间：2017-09-18T05:08:32.637

我也有这个问题，关闭防火墙后，以管理员身份打开后，仔细检查所有设置是否正确。

我的问题是独一无二的，因为我想在本地测试 SSL，但也要通过 LAN 提供服务。因此，我将应用程序 URL 更改为使用本地 IP。就我而言，是 192.168.1.10。

切换回 localhost 解决了问题，关闭 SSL 也是如此，所以我发现本地 SSL 证书仅适用于 localhost。

* * *

## 回答 #51

> 赞同：0
> 
> 时间：2020-01-14T16:02:29.097

我阅读了此处的所有答案，然后，如 Mihail Shishkov 回答中所述，跳转到项目属性 > Web > 服务器 > 创建虚拟目录。这使我受到了例外的影响：

> 无法启动 IIS Express Web 服务器。指定的起始 URL 无效。[http://localhost:44300/](http://localhost:44300/)

* * *

## 回答 #52

> 赞同：0
> 
> 时间：2021-02-05T15:57:39.903

For a 2021 Solution in dotnet core, you can fix this error by right-clicking the project in Solution Explorer, and choosing 'Edit Project File'.

On the Debug Tab, at the bottom, you can directly configure the desired port and whether to use SSL or not.

[![enter image description here](https://i.stack.imgur.com/r1Tcy.png)](https://i.stack.imgur.com/r1Tcy.png)

Changes here need to be saved with Control+S. Once that's done, you can launch the project and confirm it fixed your issue, no having to delete IISFolders or anything else suggested here.

* * *

## 回答 #53

> 赞同：-1
> 
> 时间：2014-08-01T22:14:55.457

就我而言，我去了调试>项目属性> Web（在Visual Studio中），然后我在服务器部分将IIS Express更改为本地IIS

* * *

## 回答 #54

> 赞同：-4
> 
> 时间：2015-12-14T21:01:29.457

首先删除目录`IISEXPRESS`中存在的文件，然后开始调试。

如果这不能解决问题，请转到您的项目 ( `Ctrl`++ `Alt`) `L`。右键单击 -> 属性 -> 调试并选中**“启用 Windows 身份验证”**。

# iphone - 声明两个属性并使用相同的键调用 objc_setAssociatedObject

> ID：15873128
> 
> 赞同：0
> 
> 时间：2013-04-08T07:03:24.107
> 
> 标签：iphone, ios, objective-c, objective-c-category

在类别 UIButton .h 文件中：

```
@interface UIButton (zz)
@property (nonatomic,strong) NSString *param1;
@property (nonatomic,strong) NSString *param2;
@end 
```

在类别 UIButton .m 文件中：（注：所有键为 0）

```
@implementation UIButton (zz)
@dynamic param1;
@dynamic param2;

-(void)setParam1:(NSString *)param1{
     objc_setAssociatedObject(self, 0, param1, OBJC_ASSOCIATION_RETAIN_NONATOMIC);
}
-(NSString*)param1{
    return (NSString *)objc_getAssociatedObject(self, 0);
}

-(void)setParam2:(NSString *)param2{
    objc_setAssociatedObject(self, 0, param2, OBJC_ASSOCIATION_RETAIN_NONATOMIC);
}
-(NSString*)param2{
    return (NSString *)objc_getAssociatedObject(self, 0);
}

@end 
```

下面是测试代码：

```
....
....
UIButton *b1 = [UIButton buttonWithType:UIButtonTypeCustom];
UIButton *b2 = [UIButton buttonWithType:UIButtonTypeCustom];

b1.param1 = @"b1 1111";
b1.param2 = @"b1 2222";

b2.param1 = @"b2 1111";
b2.param2 = @"b2 2222";

NSLog(@"b1 param1=%@ param2=%@",b1.param1,b1.param2);
NSLog(@"b2 param1=%@ param2=%@",b2.param1,b2.param2); 
```

输出结果：

```
2013-04-08 11:30:52.258 zazis[928:c07] b1 param1=b1 2222 param2=b1 2222
2013-04-08 11:30:52.259 zazis[928:c07] b2 param1=b2 2222 param2=b2 2222 
```

**我想知道为什么它对同一个键是正确的？？？谢谢你。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:18:51.537

[看这里](https://stackoverflow.com/questions/2846218/how-do-i-use-objc-setassociatedobject-objc-getassociatedobject-inside-an-object)

您对两个参数使用`objc_getAssociatedObject`和`objc_setAssociatedObject`使用相同的键，因此它们设置/获取相同的对象

# html - 不需要时出现水平滚动条（仅限 chrome）

> ID：15873129
> 
> 赞同：-3
> 
> 时间：2013-04-08T07:03:25.243
> 
> 标签：html, google-chrome, width, scrollbar

在我的页面上，即使不应该出现水平滚动条。该问题仅出现在 Chrome 中。

[http://megacennik.com/start.html?idHurtownia=13](http://megacennik.com/start.html?idHurtownia=13)

即使宽度为 120 像素，它看起来也像右侧的横幅；溢出：隐藏；比他们应该的要宽得多。有人知道有什么问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:26:16.587

使用`float:left`和`float:right`财产，而不是`position: relative; left: 882px;`

在你的：

`<div style="position:relative;left:882px; height:0px; overflow:visible;">`

此外，为了查找和解决您的问题，您可以在右键菜单中使用**Inspect Element并更改每个元素的值以获得更好的感觉。**

祝你好运 ：）

# sql - 外键显示 NOT

> ID：15873134
> 
> 赞同：-3
> 
> 时间：2013-04-08T07:03:49.820
> 
> 标签：sql

我有 2 个表，表 1）医生 - 具有以下属性：

*   id（主键）
*   名称
*   名字
*   电话
*   蜂鸣器

表 2) 患者 - 属性为

*   id（主键）
*   医生$id（来自医生表id的外键）
*   名称
*   名字
*   街道
*   城市
*   状态
*   压缩
*   电话

*我的问题是如何“列出所有没有*分配任何患者的医生的身份证、号码、名字和姓氏。按医生姓氏的顺序排列。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:05:26.367

`LEFT JOIN`与`NOT IN`谓词一起使用：

```
SELECT 
  d.fname, 
  d.lname
FROM Doctor AS d
LEFT JOIN patient AS p ON d.id = p.doctor_id
WHERE p.docutor_id IS NULL
ORDER BY d.lname; 
```

* * *

**或者：**谓词，但是来自表中`NOT IN`的值是不安全的，这就是我向表中添加谓词的原因：`NULL``doctor_id``patient``NOT NULL``patient`

```
SELECT 
  d.fname, 
  d.lname
FROM Doctor AS d
WHERE id NOT IN(SELECT doctor_id
                FROM patient
                WHERE docutor_id IS NOT NULL)
ORDER BY d.lname; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:08:55.267

使用`not exists`：

```
 select id, fname, lname 
 from Doctor d 
 where not exists (select 1 from Patient where doctorId = d.id) 
```

# sql - Oracle 中的 cursor_sharing 参数

> ID：15873135
> 
> 赞同：0
> 
> 时间：2013-04-08T07:03:49.923
> 
> 标签：sql, oracle, cursor, sql-tuning, query-tuning

我想知道在 Oracle 中将 cursor_sharing 参数设置为 "FORCE" 的权衡。因为这会尝试对任何 SQL 语句进行软解析，因此必须提高性能。但是默认值是“EXACT”，所以我想知道将其设置为 FORCE 或 SIMILAR 是否有任何危险。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T08:50:20.657

除非您真的知道自己在做什么，否则我建议您不要更改此设置。

通常，如果您有大量的硬解析，则表明应用程序设计不佳。

为给定类别选择所有产品的典型示例（伪代码）：

```
stmt = 'select * from products where category = ' || my_category
results = stmt.execute 
```

这是有缺陷的，原因有很多：

*   它为每个类别创建不同的 SQL 语句，因此显着增加了硬解析的数量
*   它容易受到 SQL 注入攻击

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T09:06:36.453

一个好的应用程序在 cursor_sharing = 精确的情况下运行得很好。一个好的应用程序可以出于特定原因使用文字，例如选择 state = new 的订单。使用文字是可以的。如果应用程序使用文字通过 ID 来识别订单，那将是不同的，因为这将是许多不同的订单 ID。

最好的方法是清理应用程序以正确方式使用文字或开始使用准备好的语句以获得最佳性能。

如果您碰巧有一个仅使用文字的应用程序，请将 cursor_sharing 设置为 FORCE。在 11g 中，有一些机制，比如基数反馈，能够根据来自查询的非预期行计数来调整执行计划，以确保根据输入和输出纠正最初为查询计划的计划，下次使用它。

# json.net - 用于 json.net 反序列化的自定义即兴对象

> ID：15873136
> 
> 赞同：1
> 
> 时间：2013-04-08T07:03:52.093
> 
> 标签：json.net, impromptu-interface

我在一个作业上玩即兴界面并遇到以下问题

[https://code.google.com/p/impromptu-interface/issues/detail?id=17](https://code.google.com/p/impromptu-interface/issues/detail?id=17)

该问题被标记为“不会修复”，并且在评论中作者说可以通过实现自定义即兴对象来修复它。

有人有这种实现的样本吗？或者知道这个问题的另一种解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T13:38:21.473

所以问题在于将`JArray`GetEnumerator() 定义为仅接口，这使得该方法不再可以被 DLR 调用。所以在下面我覆盖了`trygetmember`检查结果是否为 a`JArray`并将其转换为以`JEnumerable`dlr 可调用方式实现 GetEnumerator() 的 a 。

```
 public class NonRecursiveJArrayConversionDictionary : ImpromptuDictionary{

    public override bool TryGetMember(GetMemberBinder binder, out object result)
    {
        if(base.TryGetMember(binder, out result)){
          if(result is JArray){
             result = ((JArray)result).AsJEnumerable();
          }
          return true;
        }
        result = null;
        return false;
    }
 } 
```

但是，这仅适用于没有超过一个属性深度的数组的 json 结构。您可以修改上述内容以递归检查任何可能使用代理返回的任何内容，或者修改字典索引器`set`以在反序列化时检查和转换。

* * *

**更新：** Json.net verion >= 5.0.4.16101 和 ImpromptuInterface >= 6.1.4 可以开箱即用。

```
void Main()
{
    ICustomer customer = Impromptu.ActLike(JObject.Parse(@"
        {
            Id: 1,
            Name:'Test',
            Location:'Somewhere',
            Employees: [
                { Id:1, EmployerId:39421, Name:'Joe' },
                { Id:2, EmployerId:39421, Name:'Jane' },
            ]
        }
    "));

    foreach(var employee in customer.Employees){
        employee.Id.Dump();
        employee.Name.Dump();
    }
}

public interface ICustomer
{
    int Id { get; set; }
    string Name { get; set; }
    string Location { get; set; }
    IList<IEmployee> Employees { get; } 
}

public interface IEmployee
{
    int Id { get; set; }
    int EmployerId { get; set; }
    string Name { get; set; }
} 
```

# jquery - 当在一个 div 上向下滚动时，另一个 div 向上滚动

> ID：15873139
> 
> 赞同：0
> 
> 时间：2013-04-08T07:03:55.667
> 
> 标签：jquery, html, scroll

是否可以让一个潜水滚动一个方向，同时让另一个 div 在它旁边使用 jquery 向相反方向滚动？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:53:21.637

看看这个，

**演示：-** [http://tympanus.net/Tutorials/WebsiteScrolling/](http://tympanus.net/Tutorials/WebsiteScrolling/)

**来源：-** [http://tympanus.net/codrops/2010/06/02/smooth-vertical-or-horizo​​ntal -page-scrolling-with-jquery/](http://tympanus.net/codrops/2010/06/02/smooth-vertical-or-horizontal-page-scrolling-with-jquery/)

它是您要求的完美示例...

谢谢..

# sqlite - 更新 SqlLite 数据库中的数据库记录

> ID：15873142
> 
> 赞同：0
> 
> 时间：2013-04-08T07:04:04.323
> 
> 标签：sqlite, windows-8

这是我在 Windows 8 中插入 SQLLite 数据库的代码，我想更新添加到数据库中的记录

```
private async void insert(object sender, RoutedEventArgs e) {
  if (txt1.Text != "" && txt2.Text != "" && txt3.Text != "") {
    var dbpath = Path.Combine(Windows.Storage.ApplicationData.Current.LocalFolder.Path, "data.db3");
    using (var db = new SQLite.SQLiteConnection(dbpath)) {
      // Create the tables if they don't exist
      db.Insert(new person() {
        id= Guid.NewGuid(),
        name = txt1.Text.ToString(),
        address = txt2.Text.ToString(),
        phone = Convert.ToDouble(txt3.Text.ToString()),
      });

      db.Commit();
      db.Dispose();
      db.Close();
    }
  } else {
    throw new NullReferenceException("Enter The Data In Textboxes");
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T08:46:09.413

在 SQLite 中有`Get<T>`一个接受主键作为参数的方法，它会将行作为对象返回。`Update`方法接受对象作为参数，它将更新现有记录。在这里，我给你方法来更新人员记录。

```
private void UpdateRecord(int primaryKey)
{
    var dbpath = System.IO.Path.Combine(Windows.Storage.ApplicationData.Current.LocalFolder.Path, "data.db3");
    using (var db = new SQLite.SQLiteConnection(dbpath))
    {
        var objPerson = db.Get<person>(primaryKey);
        objPerson.name = "New name";
        objPerson.address = "New address ";
        objPerson.phone = Convert.ToDouble("New phone number");
        db.Update(objPerson);
        //You don't need to use db.Commit(), db.Dispose() & db.Close() because you are using "using" keyword.
    }
} 
```

# php - 更新错误后的 DB2 触发器

> ID：15873143
> 
> 赞同：1
> 
> 时间：2013-04-08T07:04:05.277
> 
> 标签：php, sql, db2

这是我第一次使用 php 在我的网站上使用触发器。我想要实现的是当条件和位置字段（位于库存表中）更新时，触发器将向 LOG 表插入一行。

这是我更改条件和位置字段时显示的错误：

```
SQL0723N An error occurred in a triggered SQL statement in trigger "DB2ADMIN.CONDITI".        
Information returned for the error includes SQLCODE "-433", 
SQLSTATE "22001" and message tokens "Condition changed from bad ". SQLSTATE=09000 SQLCODE=-723 
```

这是我的触发器代码，我使用数据工作室创建了触发器，它成功了：

**我已经编辑了我的触发代码和日志表结构，但仍然产生相同的错误**

```
CREATE TRIGGER DB2ADMIN.CONDITION_LOG AFTER UPDATE OF CONDITION, LOCATION ON DB2ADMIN.INVENTORY 
REFERENCING OLD AS o NEW AS n
FOR EACH ROW MODE DB2SQL NOT SECURED 
INSERT INTO LOG VALUES ('',CURRENT TIMESTAMP, o.CONDITION, n.CONDITION, o.LOCATION, n.LOCATION); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:14:15.507

**这是一个示例更新触发器**

这可能无法回答您的问题，但我认为它可以帮助您构建更好的触发语句：

```
DELIMITER $$
CREATE
    TRIGGER `blog_after_update` AFTER UPDATE
    ON `blog`
    FOR EACH ROW BEGIN
        IF NEW.deleted THEN
            SET @changetype = 'DELETE';
        ELSE
            SET @changetype = 'EDIT';
        END IF;
        INSERT INTO audit (blog_id, changetype) VALUES (NEW.id, @changetype);
    END$$
DELIMITER ; 
```

资源链接( [source](http://www.sitepoint.com/how-to-create-mysql-triggers/) )

# javascript - 将 HTML 元素传递给像字符串一样的 div

> ID：15873145
> 
> 赞同：3
> 
> 时间：2013-04-08T07:04:09.860
> 
> 标签：javascript, jquery, asp.net-mvc

我正在尝试将 HTML 文本传递给我`div`，我需要将此字符串呈现为 HTML 元素，我的代码：

```
<div id="divchat" style="width: 500px; height: 300px; border: 2px solid brown;"/></div>
@Html.TextBoxFor(model => model.msj) 
<button type="submit" id="btnSend">Send</button>

<script>
    $(function(){
          var chatNS = '@HttpContext.Current.Application["Chateo"].ToString()';
          $("#divchat").append(chatNS);
    });
</script> 
```

`div`显示内容就像一个字符串，我怎样才能让 HTML 元素正确呈现到`divchat`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:06:54.243

你试过把你`HttpContext.Current.Application["Chateo"]`的包裹起来`@Html.Raw()`吗？

```
<script>
    $(function(){
      var chatNS = '@Html.Raw(HttpContext.Current.Application["Chateo"])';
      $("#divchat").append(chatNS);
    });
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:10:50.780

尝试

```
$("#divchat").html(chatNS); 
```

# c# - C#中的Delphi类

> ID：15873146
> 
> 赞同：10
> 
> 时间：2013-04-08T07:04:11.487
> 
> 标签：c#, .net, delphi, oop, factory

我知道以前有人问过这个问题，但我还没有看到一个简短而明确的答案，所以我希望他们不会删除这个问题，我现在会得到一个明确的答案：

我目前正在使用 C# 5.0；.NET 4.5；VS 2012。虽然我用 C# 做了很多工作，但我主要是一个 Delphi 人。

在 Delphi 中，我编写了数百个使用以下设计的类工厂（此处已简化）：

```
unit uFactory;

interface

type

    TClassofMyClass = class of TMyClass;
    TFactoryDict = TDictionary<TMyEnum, TClassofMyClass>;

var fDict:TFactoryDict;

implementation  

procedure initDict;
begin

    fDict:=TFactoryDict.create;
    fDict.add(myEnum1, TMyClass1);
    fDict.add(myEnum2, TMyClass2);
    fDict.add(myEnum3, TMyClass3);

end;

function Factory(const aEnum: TMyEnum): TMyClass;

var

    ClassofMyClass: TClassofMyClass;

begin

    if fDict.TryGetValue(aEnum, ClassofMyClass) then

    result := ClassofMyClass.Create(aParam);

end;

end. 
```

现在：我如何在 C# 中做这样的事情？！似乎 C# 中**没有**“类”类型。我错过了什么吗？如何在 C# 中简单优雅地实现这种类型的类工厂？这种设计也可以在 Python 中实现——为什么 C# 会更糟？！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-08T07:20:16.520

您可以使用类型：

```
Dictionary<ClassEnum, Type> TypeDictionary = new Dictionary<ClassEnum, Type>();

public void InitDictionary()
{
    TypeDictionary.Add(ClassEnum.FirstClass, typeof(FirstClass));
    //etc...
}

public object Factory(ClassEnum type)
{
    if (!TypeDictionary.ContainsKey(type))
        return null;

    var constructor = TypeDictionary[type].GetConstructor(....);
    return constructor.Invoke(....);
} 
```

但我认为您应该使用通用方法：

```
public T Factory<T>(): where T is MyBaseClass
{
    var type = typeof(T);
    var constructor = type.GetConstructor(....);
    return constructor.Invoke(....) as T;
} 
```

以下是参数化构造的多种形式：

```
public T Factory<T>(params object[] args): where T is MyBaseClass
{
    var argList = new List<object>(args);
    var type = typeof(T);
    var argtypes = argList.Select(o => o.GetType()).ToArray();
    var constructor = type.GetConstructor(argtypes);
    return constructor.Invoke(args) as T;
} 
```

而且当然; 与第一个示例一样，如果找不到匹配的构造函数，它将抛出 nullpointerexception...

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-08T07:27:11.967

```
 class Potato
    {
    }

    class Potato1 : Potato
    {
        public Potato1(object[] param) { }
    }

    class Potato2 : Potato
    {
        public Potato2(object[] param);
    }

    enum MyEnum
    {
        E1, E2
    }

    Dictionary<MyEnum, Func<object[], Potato>> dict = new Dictionary<MyEnum, Func<object[], Potato>>(){
            {MyEnum.E1,(d)=>new Potato1(d)},
            {MyEnum.E2,(d)=>new Potato2(d)}
        };

    Potato Factory(MyEnum e, object[] param)
    {
        return dict[e](param);
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-08T07:16:43.630

如果我理解你是正确的，你想引用一个静态类。这在 c# 中是不可能的。

只是工厂方法实现的一个例子：http: [//www.codeproject.com/Tips/328826/implementing-Factory-Method-in-Csharp](http://www.codeproject.com/Tips/328826/implementing-Factory-Method-in-Csharp)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-08T07:16:46.860

C# 语言不支持元类。

所以你必须以另一种方式实现你的工厂。一种方法是在枚举上使用 switch 语句：

```
switch (aEnum)
{
     case myEnum1:
         return new MyClass1();
     case myEnum2:
         return new MyClass2();
     .....
} 
```

另一个常用的选项是使用反射来完成，这将允许您编写更接近您习惯的代码。

还有一个选择是用返回对象的新实例的委托字典替换您的类字典。使用 lambda 语法，该选项会产生非常干净的代码。

反射的缺点是你放弃了编译时类型安全。因此，虽然基于反射的方法可能最接近问题中的 Delphi 代码，但这不是我个人会选择的路线。

我建议您寻找最惯用的 C# 解决方案，而不是试图将您的 Delphi 解决方案硬塞到不需要这种方法的语言中。从网络搜索类工厂开始。

# algorithm - 查找图的关节点或切割顶点的算法说明

> ID：15873153
> 
> 赞同：33
> 
> 时间：2013-04-08T07:04:42.640
> 
> 标签：algorithm, graph, complexity-theory, graph-algorithm, depth-first-search

我在网上搜索过，找不到任何关于查找图的所有关节顶点的 DFS 算法的解释。甚至没有维基页面。

通过阅读，我从这里了解了基本事实。[PDF格式](https://web.archive.org/web/20130718095926/http://sydney.edu.au/engineering/it/~mestre/class/2012s2/material/DFS.pdf)

每个节点都有一个变量，它实际上是在查看后边缘并找到最接近根节点的最上面的节点。处理完所有边后，就会找到它。

但我不明白在执行 DFS 期间如何在每个节点上找到这个 down & up 变量。这个变量到底在做什么？

请解释算法。

谢谢。

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2013-04-24T23:32:35.313

寻找关节顶点是 DFS 的一种应用。

简而言之，

1.  在图上应用 DFS。获取 DFS 树。
2.  较早访问的节点是它到达并稍后访问的那些节点的“父节点”。
3.  如果节点的任何子节点没有到其父节点的任何祖先的路径，则意味着删除该节点将使该子节点与图脱节。
4.  有一个例外：树的根。如果它有多个孩子，那么它是一个关节点，否则不是。

点 3 本质上意味着这个节点是一个关节点。

现在对于一个孩子来说，这条通往节点祖先的路径将通过它或它的任何孩子的后边。

所有这一切都在这个[PDF](http://www.eecs.wsu.edu/~holder/courses/CptS223/spr08/slides/graphapps.pdf)中得到了很好的解释。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2014-12-30T02:01:26.940

我将尝试对这个算法的工作原理有一个直观的理解，并给出输出双分量和桥的注释伪代码。

为关节点开发蛮力算法实际上很容易。只需取出一个顶点，然后在图上运行 BFS 或 DFS。如果它保持连接，则顶点不是关节点，否则它是。这将`O(V(E+V)) = O(EV)`及时运行。挑战在于如何在线性时间（即`O(E+V)`）内做到这一点。

连接点连接两个（或更多）子图。这意味着从一个子图到另一个子图没有边。所以想象你在这些子图之一中并访问它的节点。当你访问节点时，你标记它，然后使用一些可用的边缘移动到下一个未标记的节点。当你这样做的时候，你怎么知道你在同一个子图中？这里的见解是，如果您在同一个子图中，您最终会在访问未标记节点时通过边看到标记节点。这称为后沿，表示您有一个周期。一旦找到后边缘，您就可以确信通过该标记节点到您现在正在访问的节点的所有节点都是同一个子图的一部分，并且两者之间没有关节点。如果你没有

所以我们需要一种算法来访问顶点并将后边目标之间的所有点标记为*当前正在访问的*节点，就像在同一个子图中一样。显然子图中可能存在子图，因此我们需要选择迄今为止最大的子图。这些子图称为双分量。我们可以通过为每个双组件分配一个 ID 来实现这个算法，该 ID 被初始化为我们迄今为止访问过的顶点数的计数。稍后，当我们找到后边缘时，我们可以将双组件 ID 重置为我们目前找到的最低值。

我们显然需要两次传球。在第一遍中，我们想弄清楚我们可以从每个顶点通过后边看到哪个顶点，如果有的话。在第二遍中，我们希望以相反的方向访问顶点并收集最小的双分量 ID（即，可从任何后代访问的最早祖先）。DFS 自然适合这里。在 DFS 中，我们先下降，然后再上升，因此上述两个通道都可以在一次 DFS 遍历中完成。

现在不用多说，这是伪代码：

```
time = 0
visited[i] = false for all i
GetArticulationPoints(u)
    visited[u] = true
    u.st = time++
    u.low = v.st    //keeps track of highest ancestor reachable from any descendants
    dfsChild = 0    //needed because if no child then removing this node doesn't decompose graph
    for each ni in adj[i]
        if not visited[ni]
            GetArticulationPoints(ni)
            ++dfsChild
            parents[ni] = u
            u.low = Min(u.low, ni.low)  //while coming back up, get the lowest reachable ancestor from descendants
        else if ni <> parent[u] //while going down, note down the back edges
            u.low = Min(u.low, ni.st)

    //For dfs root node, we can't mark it as articulation point because 
    //disconnecting it may not decompose graph. So we have extra check just for root node.
    if (u.low = u.st and dfsChild > 0 and parent[u] != null) or (parent[u] = null and dfsChild > 1)
        Output u as articulation point
        Output edges of u with v.low >= u.low as bridges
    output u.low as bicomponent ID 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2020-03-16T19:09:11.177

似乎所有解释都忽略了一个事实：

> 事实 #1：在深度优先搜索生成树 (DFSST) 中，每个后边都将一个顶点连接到它的一个祖先。

这对于算法的工作至关重要，这就是为什么任意生成树对算法不起作用的原因。这也是为什么根是一个关节点当且仅当它有超过 1 个子节点的原因：在以生成树的根的子节点为根的子树之间不能有后边。

该语句的证明是，让 (u, v) 成为后边，其中 u 不是 v 的祖先，并且 (WLOG) u 在 DFS 中在 v 之前被访问。假设 p 是 u 和 v 的最深祖先。那么 DFS 将不得不访问 p，然后是 u，然后以某种方式在访问 v 之前再次访问 p。但是在访问 v 之前不可能重新访问 p，因为有一条边u 和 v 之间。

* * *

调用 V(c) DFSST 中以 c 为根的子树中的
顶点集

事实2：

> 对于非根节点 u，
> 如果 u 有一个子 c 使得 N(c) ⊆ V(c) ∪ {u} 那么 u 是一个关节点。

原因：对于 V(c) 中的每个顶点 w，从根到 w 的每条路径都必须包含 u。如果不是，那么由于事实#1，这样的路径必须包含一个后边缘，它将 u 的祖先连接到 u 的后代，从而使 N(c) 大于 V(c)。

事实 #3：

> 事实 #2 的反面也是正确的。

原因： u 的每个后代都有一条不经过 u 到根的路径。V(c) 中的后代可以绕过 u，其路径通过连接 V(c) 到 N(c)/V(c) 的后边。

* * *

所以对于算法，你只需要知道关于每个非根顶点 u 的两件事：

1.  顶点的深度，比如 D(u)
2.  N(u) 的最小深度，也称为低点，假设为 L(u)

因此，如果一个顶点 u 有一个子 c，并且 L(c) 小于 D(u)，那么这意味着以 c 为根的子树有一个后边，该边延伸到 u 的祖先，这使得它不是一个关节点事实#3。相反，事实 #2 也是如此。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-10-06T12:18:00.260

如果`low`的后代`u`大于`dfsnum`的`u`，则称`u`其为关节点。

```
int adjMatrix[256][256];
int low[256], num=0, dfsnum[256];

void cutvertex(int u){
    low[u]=dfsnum[u]=num++;
    for (int v = 0; v < 256; ++v)
    {
        if(adjMatrix[u][v] && dfsnum[v]==-1)
        {
            cutvertex(v);
            if(low[v]>dfsnum[u])    
                cout<<"Cut Vertex: "<<u<<"\n";
            low[u]=min(low[u], low[v]);
        }
        else{
            low[u]=min(low[u], dfsnum[v]);
        }
    }
} 
```

# jquery - 禁用 jQuery .click

> ID：15873160
> 
> 赞同：2
> 
> 时间：2013-04-08T07:05:27.110
> 
> 标签：jquery, html

我有一个 div 标签：

```
<div class="i2Style" id="mydiv" >Check  Domain</div> 
```

和 Javascript ：

```
$("#mydiv").click(function abc(){...} 
```

而且我想在执行函数**abc()期间禁用此****.click** ，因为我不希望用户在该函数执行之前单击该 div 。解决办法是什么 ？

 *** * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:13:01.603

`**[EXAMPLE](http://jsbin.com/icoluw/1/edit)**`

```
function abc(){

  $("#mydiv").off('click', abc);     // off click
  alert('Wait ~2s please');          // do stuff

  var tim = setTimeout(function(){
       $("#mydiv").on('click', abc); // reset click
  },2000);                           

}

$("#mydiv").on('click', abc);        // run fn 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:23:26.193

你可以尝试各种方式

1.  [停止传播](http://api.jquery.com/event.stopPropagation/)

2.  全局变量等

请参阅 [如何使用 jquery 禁用链接中 DIV 的单击事件？](https://stackoverflow.com/questions/8342578/how-to-use-jquery-to-disable-click-event-of-a-div-within-a-link)**

# javascript - IE8 jquery - 浏览器内容完全灰色

> ID：15873168
> 
> 赞同：0
> 
> 时间：2013-04-08T07:06:07.580
> 
> 标签：javascript, jquery, asp.net-mvc, internet-explorer

早上好！

我们在使用带有 jquery 对话框窗口的 IE8 时遇到了问题。一旦我们点击一​​个显示jquery对话框窗口的按钮，整个屏幕立即变灰，我们不能点击它上面的任何按钮。你有什么想法？

非常感谢

# javascript - 图像在 Css 中的位置

> ID：15873172
> 
> 赞同：0
> 
> 时间：2013-04-08T07:06:28.410
> 
> 标签：javascript, css, image

当我显示图像时，它会转到 div 的最左侧位置。

我知道这不是一个好问题，但我无法解决这个问题。

实际上我正在动态添加 html 标签。我正在添加一个有 2 个锚点和 3 个图像，其中 2 个可见，一个不可见。当您单击这两个图像中的任何一个时，第三个图像将显示。但是当单击图像时，它显示第三个图像，但在 div 的最左侧。

但我已将该图像放在两个图像旁边。

我想在这两个图像旁边显示该图像。

这个怎么做？

你可以在这里看到我的问题 [http://postimg.org/image/685puy931/](http://postimg.org/image/685puy931/)

我没有使用任何浮动：离开任何地方。（在萤火虫中看到）。

请帮忙

我搜索尝试使用绝对位置并内联它不起作用。

提前致谢

[编辑]

```
showData += "<div style='margin:3px;display: inline-block;padding-right:20px;'>";
                        showData += "<a style='text-decoration: none' href=\"" + userProfileURL + "\" title='KLMS User Profile of " + fullName + " ' onmousedown=\"javascript:StoreClickedData(" + userId + ",'" + userInput + "','" + names[i] + "')\" title='" + tooltipTitle + "'> <img src='UserControls/ThumbNail/ThumbnailConverter.ashx?FilePath=" + imageURL + "&height=18&width=18' /> </a> ";
                        showData += "<a href=\"" + gpsUserProfile + "\" onmousedown=\"javascript:StoreClickedData(" + userId + ",'" + userInput + "','" + names[i] + "')\" title='" + tooltipTitle + "'>" + fullName + "</a>";
                        if (isPresent) {
                            showData += " <a href=\"" + emailId + "\" title='Mail To " + fullName + " ' onmousedown=\"javascript:StoreClickedAndLunchQuickFeedBack(" + userId + ",'" + userInput + "','" + names[i] + "','imgQuickfd" + imageId + "')\" class='smallIcon' style=\"background-image:url(Images/email.png);\" >&nbsp;&nbsp;&nbsp;&nbsp;</a>";
                            if (userDetails[userData.Skype_ID] != "null") {
                                showData += " <a href=\"" + skypeId + "\" title='Chat With " + fullName + "' onmousedown=\"javascript:StoreClickedAndLunchQuickFeedBack(" + userId + ",'" + userInput + "','" + names[i] + "','imgQuickfd" + imageId + "')\" class='smallIcon' style=\"background-image:url(" + skypeName + ");\" >&nbsp;&nbsp;&nbsp;&nbsp;</a>";
                            }
                            showData += "<i id='imgQuickfd" + imageId + "' style='display:none; cursor: pointer;position: absolute !important;' title='Quick Feedback To" + fullName + " ' onclick=\"javascript:StoreQuickFeedback('" + userLoginName + "','" + names[i] + "','imgQuickfd" + imageId + "')\" class=\"icon-thumbs-up glowed \"></i>";
                        }
                        showData += "</div>"; 
```

[/编辑]

查看源代码：

```
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head id="head"><title>
MFS Search Engine
</title><link href="CSS/CustomGoogleSearch.css" rel="stylesheet" /><meta charset="utf-8" /><link href="bootstrap/css/bootstrap.css" rel="stylesheet" /></head>
<body>
<form name="form" method="post" action="CustomGoogleSearch.aspx?query=html5" id="form">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUKMTQwMjc4OTQzN2RkRYBvMG1HTB0LNjZv1HE0hZ95t08=" />
</div>

<script type="text/javascript">
//<![CDATA[
var theForm = document.forms['form'];
if (!theForm) {
theForm = document.form;
}
function __doPostBack(eventTarget, eventArgument) {
if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
    theForm.__EVENTTARGET.value = eventTarget;
    theForm.__EVENTARGUMENT.value = eventArgument;
    theForm.submit();
}
}
//]]>
</script>

<script src="/klms    /WebResource.axd?d=YGVs8XyAWsEiLGuJ16c33zJSRK4YrDPiOWmkBO0Qq98589H5pLaw70AyFUVa3BleRpWNySSr    ltpIawWYHK6tn8jtCeo1&amp;t=634656060808104849" type="text/javascript"></script>

<script src="/klms/WebResource.axd?d=rGkGTBKKUfifja4ZbpHfden_7XF4hf_qIjcSz4LqV8J7RmM4b5zUIgiT0uuMpRtVNMa-zLKNmfsh-e7Fd8RqdBTlqhM1&amp;t=634656060808104849" type="text/javascript"></script>
<div>

<input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="" />
<input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="" />
<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION"     value="/wEWBgLFvND9DQKIiKT4AQK4gogyAvjE9ooCAoLplowDAt3Q4McN/MAodltIcChy5WGQ8XeHsiQlCY8=" />
</div>
        <noscript>
            <div class="jsEnable">
                <a href="https://support.google.com/adsense/bin/answer.py?hl=en&    answer=12654">How To Enable</a>
            <span>JavaScript is needed for this site (which is currently disabled in your browser). Please enable JavaScript.</span>
        </div>
    </noscript>
    <input type="hidden" name="hdnUserId" id="hdnUserId" value="595" />
    <input type="hidden" name="hdnUserName" id="hdnUserName" value="Annapurnap" />
    <input type="hidden" name="hdnRowCount" id="hdnRowCount" value="10" />
    <input type="hidden" name="hdnAPIServerName" id="hdnAPIServerName" value="http://203.129.204.51:8080/collective-intellegenc" />
    <input type="hidden" name="hdnSolrServerName" id="hdnSolrServerName" value="http://203.129.204.51:8080/solr" />

<script type="text/javascript">
//<![CDATA[
WebForm_AutoFocus('searchInput');//]]>
</script>
</form>
<form id="formResult">
    <div class="span18" id="divContent" style="width: 97%">
        <div style="width: 100%; margin-top: -10px" class="inline">
            <img id="imgGoogleCustomImage" class="googleCustomImage" style="float: right; margin-top: 0.25%" src="http://www.google.com/cse/images/google_custom_search_smwide.gif" />
            <a href="/FeedbackList.aspx" style="float: right; padding-right: 5%;">*Feedback List </a>
        </div>
        <div id="divSearch" class="searchDiv">
            <img src="Images/KLMS.png" id="imgLogo" />

            <div>
                <div id="divTextBox">
                    <input type="search" name="q" size="31" id="searchInput" class="span6" autofocus="autofocus" autocomplete="off" />
                </div>
                <div id="divButton">
                    <input type="button" id="btnSearch" name="sa" class="btn btn-primary span2" value="Search" onclick="Search();" />
                </div>
            </div>
        </div>
        <div id="divResult" style="display: none; padding-top: 5%">
            <div class="divItem" style="float: left; margin-right: 1%; display: none;">
                <fieldset class="well" id="fieldsetItem">
                    <legend class="legend">Content that can help</legend>
                    <div id="searchResultItem">
                    </div>
                    <div id="divLinkPaging"></div>
                </fieldset>
            </div>
            <aside style="float: left; width: 99%">
                <fieldset class="well" id="fieldsetPerson">
                    <legend class="legend">Persons who can help</legend>
                    <div id="searchResultPerson">
                    </div>
                </fieldset>
            </aside>
        </div>
        <div id="divGoogleResult">
        </div>
        <script src="JS/Plugins/jquery-1.8.2.min.js"></script>
        <script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <script src="JS/Plugins/paging.js"></script>
        <script src="https://www.google.com/jsapi" type="text/javascript"></script>
        <script type="text/javascript" src="JS/Collective%20Intelligence/Collection.js"></script>
        <script type="text/javascript" src="JS/Collective%20Intelligence/Solr.js"></script>
        <script type="text/javascript" src="JS/Collective%20Intelligence/ConnectServer.js"></script>
        <script type="text/javascript" src="JS/Collective%20Intelligence/UserConnection_UsabilityScore_UserSearch.js"></script>
        <script type="text/javascript" src="JS/Collective%20Intelligence/FixedSet.js"></script>
        <script type="text/javascript" src="JS/Collective%20Intelligence/VariableSet.js"></script>
        <script type="text/javascript" src="JS/Collective%20Intelligence/ShowCollectiveIntelligenceData.js"></script>
        <script type="text/javascript" src="JS/Collective%20Intelligence/StoreSearchQuery.js"></script>
    </div>
</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T11:01:41.443

站在

```
document.getElementById(id).style.display = "block"; 
```

使用 jquery [Show()](http://api.jquery.com/show/)方法

这不会将标签拉到新行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:10:28.647

从事物的外观来看（虽然很难在没有看到任何代码的情况下判断......提示，提示）我会说容器的宽度不足以容纳三个图像。

尝试将宽度增加 10 像素左右，看看是否有帮助。您可能需要减少其他元素的填充/边距以腾出空间；再一次，如果没有看到代码，我无法确定。

# php - 如何为模板网站做多个 Joomla 实例？

> ID：15873175
> 
> 赞同：0
> 
> 时间：2013-04-08T07:06:31.507
> 
> 标签：php, templates, joomla

我正在考虑运营一个销售 Joomla 模板的网站（类似于 TemplateMonster）。当我查看 TemplateMonster 时，我想到的是它们有多个 Joomla 实例，并且它们根据模板填充每个实例的内容。

这是实现这一目标的唯一方法吗？如果我有 100 个模板，我必须复制粘贴 100 个 Joomla 吗？

这些是两个不同内容的示例：

*   [http://www.templatemonster.com/demo/44048.html](http://www.templatemonster.com/demo/44048.html)
*   [http://www.templatemonster.com/demo/44129.html](http://www.templatemonster.com/demo/44129.html)

最好的祝福，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:19:19.707

我认为最简单的方法是添加`?template=beez3`到 uri。

[使用像Virtual Domains](http://extensions.joomla.org/extensions/core-enhancements/multiple-sites/7557)这样的扩展更复杂。当前菜单项（以及模板）是根据当前 URI 等规则设置的。扩展设置起来有点棘手，但可能正是您正在寻找的。

# logging - OpenJPA 登录应用服务器控制台 - 方法 printToSystemOut

> ID：15873176
> 
> 赞同：0
> 
> 时间：2013-04-08T07:06:33.137
> 
> 标签：logging, openjpa, geronimo

我们在我们的应用程序中使用 OpenJPA，并且我们在应用程序服务器控制台中获得了以下错误跟踪日志。

```
 at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)
        at java.lang.Thread.run(Thread.java:736)
addRegisterClassListener + [org.apache.openjpa.jdbc.meta.MappingRepository@2100210] [BEFORE SIZE 3] [AFTER SIZE 4]
java.lang.Throwable
        at org.apache.openjpa.enhance.PCRegistry.printToSystemOut(PCRegistry.java:85)
        at org.apache.openjpa.enhance.PCRegistry.addRegisterClassListener(PCRegistry.java:63)
        at org.apache.openjpa.kernel.AbstractBrokerFactory.makeReadOnly(AbstractBrokerFactory.java:641) 
```

1.  OpenJPA 日志配置为将所有跟踪日志路由到特定于应用程序的日志文件。但是，这些日志仍会转到 appserver 控制台日志。

2.  此外，我无法在 openJPA 源的 PCRegistry 类中找到 printTpSystemOut 方法。

这里可能是什么问题？或者我是否在这条痕迹中遗漏了一些非常明显的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T15:16:10.500

[使用OpenJPA 下载页面](http://openjpa.apache.org/downloads.html)中的二进制文件刷新服务器中的 OpenJPA 二进制文件。

# iphone - 过滤 NSDictionary 对象的 NSArray

> ID：15873180
> 
> 赞同：-1
> 
> 时间：2013-04-08T07:06:46.780
> 
> 标签：iphone, ios

过滤数组删除键值城市的重复项我需要在第一个表视图中仅显示城市名称而没有重复项以及何时选择我需要在下一个表视图中显示特定部门

以印度为例，我需要在下一个视图中显示三个部门请建议我

```
Array values :(
        {
        city = uk;
        department = "Sales support";

    },
        {

        city = us;
        department = "Sales support";

    },
        {
          city = italy;
          department = "Sales support";
           },
        {

        city = india;
        department = "x";
    },
        {

        city = india;
        department = "y";
            },
        {

        city = india;
        department = "z";
           },

   ) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:22:04.397

```
for (int i = 0; i< responseArray.count; i++)
{
    if (![cityArray containsObject:[[responseArray objectAtIndex:i] valueForKey:@"city"]])
    {
          [cityArray addObject:[[responseArray objectAtIndex:i] valueForKey:@"city"]];
    }
} 
```

**使用 cityArray 加载第一个 tableView**

在`didSelectRowAtIndex`：

```
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"city = %@",[cityArray objectAtIndex:indexPath.row]];
NSArray *array = [responseArray filteredArrayUsingPredicate:predicate];
NSLog(@"Array -- %@",array); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:10:46.367

使用以下代码将您的输出提供给 rawJSONOutput

```
 NSSortDescriptor *sortDescriptor = [[NSSortDescriptor alloc] initWithKey:@"title" ascending:YES];
    NSArray *sortDescriptors = [NSArray arrayWithObject:sortDescriptor];
    NSArray * sortedArray = [[NSMutableArray alloc] initWithArray:[rawJSONOutput sortedArrayUsingDescriptors:sortDescriptors]]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:23:14.107

您可以使用`NSPredicate`查询过滤数组/字典。

例子：

```
NSArray *someArray()
{
    NSString *const city = @"city";
    NSString *const department = @"department";
    NSString *const uk = @"uk";
    NSString *const us = @"us";
    NSString *const italy = @"italy";
    NSString *const india = @"india";

    return @[
     @{ city: uk, department: @"Sales support" },
     @{ city: us, department: @"Sales support" },
     @{ city: italy, department: @"Sales support" },
     @{ city: india, department: @"x" },
     @{ city: india, department: @"y" },
     @{ city: india, department: @"z" },
    ];
}

int main(int argc, const char * argv[])
{
    @autoreleasepool {

        NSArray *array = someArray();

        NSLog(@"%@", array);

        // You can make many fancy queries.
        NSPredicate *p = [NSPredicate predicateWithFormat:@"SELF.city like 'india'"];
        NSArray *b = [array filteredArrayUsingPredicate:p];

        NSLog(@"%@", b);

    }
    return 0;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-08T07:26:17.103

在制作数组本身的字典时，检查城市是否已经存在，如果存在，则使用另一个键添加部门，例如部门1，部门2..

```
Array values :(
        {
        city = uk;
        department = "Sales support";

    },
        {

        city = us;
        department = "Sales support";

    },
        {
          city = italy;
          department = "Sales support";
           },
        {

        city = india;
        department1 = "x";
        department2 = "y";
       department3 = "z";
    },

   ) 
```

最好试着做这样的。这将很容易。

# sql-server - 有人可以澄清一下下面的解释吗

> ID：15873181
> 
> 赞同：0
> 
> 时间：2013-04-08T07:06:47.983
> 
> 标签：sql-server

我有一个包含 5 条记录的 Employee 表，并且我正在运行以下脚本。脚本的结果是返回 EmpID 2 的记录。同时记录被删除。这是正确的方法吗？

```
begin transaction A
    select * from Employee where EmpID=2
    begin transaction B
        delete from Employee where EmpID=2
    commit transaction B
commit transaction A 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:14:58.537

你可以使用这个：

```
DELETE
FROM    employee
WHERE   empId = 2
OUTPUT  DELETED.* 
```

这将删除记录并在一个语句中以原子方式输出其内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:20:10.583

如果要选择带有 的行`EmpID = 2`，因此可以对其进行一些工作并确保在删除之前不会更改，请使用更新锁：

```
begin transaction A
    select * from Employee with (updlock) where EmpID=2
    delete from Employee where EmpID=2
commit transaction A 
```

您还可以使用高于 的事务隔离级别`read committed`，最好是`serializable`.

# hibernate - 如何修改 HSQL 默认架构？

> ID：15873184
> 
> 赞同：5
> 
> 时间：2013-04-08T07:06:56.120
> 
> 标签：hibernate, hsqldb

我正在使用 Hibernate 创建 HSQL 内存数据库。Hibernate 配置文件中的连接 URL 如下所示

```
<property name="connection.url">jdbc:hsqldb:mem:mock_db</property> 
```

架构的默认名称是`Public`. 假设我想将其更改为`TEST` 我已经尝试过，但它没有更改架构的名称。

```
<property name="hibernate.default_schema">TEST</property> 
```

你们知道我该怎么做吗？如果我可以在休眠配置文件中执行此操作会很方便。

预先感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-02T22:07:27.873

旧 - 用于在 HSQLDB 模式支持之前编写的客户端：

```
<property name="connection.url">jdbc:hsqldb:mem:mock_db;default_schema=XXX</property> 
```

新 - 用户可以使用以下命令更改其基本默认模式名称：

```
SET INITIAL SCHEMA <schemaname>; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-19T12:49:43.597

不是配置文件选项，但您可以在连接后执行此操作：

```
SET SCHEMA <schemaname>; 
```

见[http://www.hsqldb.org/doc/guide/ch09.html#set_schema-section](http://www.hsqldb.org/doc/guide/ch09.html#set_schema-section)

# c++ - 通过输出参数返回结果，c++ 编码标准

> ID：15873188
> 
> 赞同：2
> 
> 时间：2013-04-08T07:07:13.037
> 
> 标签：c++, coding-style, parameter-passing, pass-by-reference

我的班级中有一个成员函数，如下所示：

```
int MyClass::m_Func(int& val); 
```

其中，我做了一些操作并将结果放入`val`. 并且根据操作的结果，我从函数返回了不同的值。就像，如果成功，`0`如果发生任何错误，我会返回或其他值。

我的一位朋友告诉我，将变量的引用传递给成员函数不是一个好习惯。这是真的吗？如果是，为什么会这样？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T07:55:28.597

这种做法有点可疑的主要原因，以及为什么我通常建议不要这样做的主要原因是，用户在调用您的函数时，

```
int val;
obj.my_Func(val); 
```

可能不知道 的值`val`实际上已被修改。当函数只有一个参数并且除了错误代码之外没有返回值时，这可能或多或少很明显，但只要你有一个稍微复杂的函数调用，例如

```
int x,y,rad,len;
obj.calculate_coord(x,y,rad,len); 
```

目的可能是计算`rad`and`len`和，`x`反之亦然`y`，或者完全不同的东西。由于参数名称是由用户选择的，并且它们的顺序或类型不会提示哪些用作输入，哪些用作输出参数，这可能会导致误解，从而使代码更难维护并产生错误.

另一方面，使用 C++ 语法不仅可以正确返回值*或*错误代码，而且可以正确返回一个或多个值*和*错误代码的组合，这非常简单。

在最简单的情况下，您可以使用这样的函数（使用 C++11 语法）：

```
std::tuple<int,int,int> my_Func(int input)
{
  /* calculate.. */

  return { error_code , val1 , val2 };
} 
```

返回两个值和一个错误代码。毫无疑问，这`input`是一个纯输入参数（按值传递），返回值很复杂，包括您可能想要返回的所有内容。

与一些程序员可能建议的相反，这通常不会导致大量不必要的复制，即使返回值大得多（因为返回值优化，并且在 C++11 中因为移动语义）。

可能会有例外，尤其是在 C++11 之前的版本中，即无法使用移动语义或由于某种原因返回值优化不适用的特殊情况。在某些情况下，代码分析显示 a) 函数被大量使用，并且 b) 无论出于何种原因，通过引用传递输出会更快。在这些情况下，通过引用传递输出参数可能是正确的技术。

* * *

当然，我上面所说的仅适用于使用引用作为输出参数，即作为向用户返回值的间接方式，特别是当函数修改其某些参数这一事实并不能通过其姓名。

通过引用传递可能有许多其他有效的原因，尤其是。通过常量引用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-08T07:15:02.273

我想，您的朋友实际上并没有抱怨将变量的引用传递给方法，而是抱怨您选择的错误报告技术（实际上，人们通常被鼓励通过引用传递参数，这比传递要安全得多通过指针）。在 C++ 中，通常使用异常来检查错误；您的代码有点 C 风格。所以而不是：

```
int res;
myInstance->m_Func(res);
if (res != 0)
    // do sth 
```

我宁愿写：

```
MyClass::m_Func()
{
    if (some_condition)
        throw std::exception("Error!");
}

// (...)

try
{
    myInstance->m_Func();
}
catch (...)
{
    // do sth
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-08T07:24:49.187

免责声明：对此，意见会大相径庭，因为这是风格、惯例等问题。

您所拥有的是所谓的“外参数”，即您的函数不会通过返回值传递其结果，而是通过参数。这主要是因为返回值被错误码（即成功指示符）占用。

在 C 等许多语言中，这是函数和错误处理的常见用法。在某些 C++ 应用程序中，由于某种原因无法使用异常，也可以采用这种风格。然而，在“纯”C++ 中，错误处理存在异常。通常，函数的任何参数都是输入参数，函数产生的任何值都通过返回值传递出去。如果要返回多个值，则这些值将捆绑在一个`std::pair`或`std::tuple`某个结构中。

在您的情况下使用异常可能过于苛刻，可能是因为不成功并不是真正的例外情况，而是函数的常见和预期结果。在这种情况下，返回一对值 - 一个成功指示符和一个结果值。将它们捆绑在一起一开始可能看起来很奇怪，但这是一个可行的解决方案，因为无论如何您都必须对它们进行评估。但请记住，在大多数情况下，如果函数无法执行其任务（即计算出有用的返回值），抛出异常会更简洁。

# html - 我们可以向 JQuery 移动设备添加常规元标记吗？

> ID：15873189
> 
> 赞同：1
> 
> 时间：2013-04-08T07:07:16.193
> 
> 标签：html, jquery-mobile, meta-tags

我只是想确认我们是否可以将普通的 HTML 元标记添加到 JQuery 移动设备中，例如，

```
<meta name="DESCRIPTION" content="description " />
<meta name="KEYWORDS" content="" />
<meta name="RATING" content="General" />
<meta name="REVISIT-AFTER" content="30 days" />
<meta name="author" content="author name" />
<meta name="robots" content="NOODP" />
<meta name="verify-v1" content="" />
<meta name="robots" content="noindex" /> 
```

因为我看不到我们可以在哪里包含这个？甚至 JQuery 移动站点也没有添加到他们的站点中（我通过查看源页面进行了检查）。任何人都可以确认上述元标记除了他们的设置之外是否会影响 JQuery 移动网站？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:48:41.647

是呀当然。**元标记**不会影响 Jquery 移动，它们确实会增强您网站的搜索引擎优化 (SEO)。

**HTML 元标记**是正式的页面数据标记，位于文档的 HTML 代码中的打开和关闭头标记之间。

*元元素通常用于指定页面描述、关键字、文档作者、上次修改和其他元数据。*

**META 标记**主要用于通过提供有关文档的附加信息来帮助搜索引擎更好地索引文档。META 标签可以提供的附加信息类型包括作者姓名、文档的描述或简短摘要，或用于索引文档的一组关键字。提供这种类型的附加信息应该会增加用户在 Web 上找到您的文档（他们想要的信息）的机会。除了提供索引信息之外，META 标记还可用于刷新网页或将用户从一个网页重定向到另一个网页。

# android - Android 原始文件夹媒体播放器

> ID：15873190
> 
> 赞同：0
> 
> 时间：2013-04-08T07:07:18.777
> 
> 标签：android

我有两个活动 Play.java 和 Home.java，Home.java 包含 Listview 的 onclick 函数并获取 listview 的位置我需要将该位置传递给 Play.java.当我单击 listview“不幸的是应用程序关闭”时

主页.java

```
public void onItemClick(AdapterView<?> parent, View view, int position,long id) 
{     
    int songindex = position;
    Intent intent = new Intent(this, Play.class);
    startActivity(intent);

    p1.listen(songindex);
} 
```

播放.java

```
public void change(View v)
    {
        Intent intent = new Intent(this, Home.class);
        startActivity(intent);
    }

    public void listen(int songindex)
    {
    MediaPlayer mPlayer2;
     if(songindex==0)
     {
        mp=MediaPlayer.create(this, R.raw.gayatri);
        mp.start();

     }
     else if(songindex==1)
     {
         mPlayer2= MediaPlayer.create(this, R.raw.brahma);
         mPlayer2.start(); 
     }
    } 
```

当我从列表视图中单击歌曲时，它无法正常工作的应用程序关闭

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:36:40.420

Put listen function in main file

```
Home.java

public void onItemClick(AdapterView<?> parent, View view, int position,long id) 
{     
    listen(position);
}

    public void listen(int songindex)
    {

    MediaPlayer mPlayer2;
     if(songindex==0)
     {
        mp=MediaPlayer.create(this, R.raw.gayatri);
        mp.start();

     }
     else if(songindex==1)
     {
         mPlayer2= MediaPlayer.create(this, R.raw.brahma);
         mPlayer2.start(); 
     }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:14:56.540

您必须使用意图传递位置。

```
Home.java

public void onItemClick(AdapterView<?> parent, View view, int position,long id) 
{     
    int songindex = position;
    Intent intent = new Intent(this, Play.class);
    intnt.putExtra("position",position);
    startActivity(intent);

  //  p1.listen(songindex);
}
Play.java

public void change(View v)
    {
        Intent intent = new Intent(this, Home.class);
        startActivity(intent);
    }

    public void listen(int songindex)
    {
     Bundle data = getIntent().getExtras();
         int position = data.getInt("position");

    MediaPlayer mPlayer2;
     if(songindex==0)
     {
        mp=MediaPlayer.create(this, R.raw.gayatri);
        mp.start();

     }
     else if(songindex==1)
     {
         mPlayer2= MediaPlayer.create(this, R.raw.brahma);
         mPlayer2.start(); 
     }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:56:50.013

LogCat 应该可以解决您的问题，但我们仍然没有。

那你为什么需要mp和mp2呢？一次播放两首歌曲？

我只会有一个 mp，在类中声明，而不是在方法中声明，因为在你的情况下，从 listen 方法退出后对 mp2 播放器的引用会丢失，并且无法控制它（实际上，它甚至可能退出方法后停止播放）。

简而言之，这就是我的建议：

```
MediaPlayer mp; 

static final int table[] songIndexIds= { R.raw.song1, R.raw.song2};

public void listen(int songIndex)
     if (mp != null) {
        mp.stop();
        mp.release();
        mp = null;
     }

     if (songIndex >= 0) {
         mp=MediaPlayer.create(this, songIndexIds[songIndex]);
         mp.start();
     }

}

// "Destructor"
@Override 
public void finalize() {
     if (mp != null) {
        mp.stop();
        mp.release();
     }

} 
```

# c# - 显示从 Windows 窗体抛出的正确错误消息

> ID：15873191
> 
> 赞同：0
> 
> 时间：2013-04-08T07:07:37.750
> 
> 标签：c#, winforms, error-handling

我正在开发一个`Windows Forms`应用程序。在我有几个`try-catch`块的构造函数中发生了很多事情。但是，作为最终结果，我想在`form_shown`事件中显示错误消息。我不确定这样做的正确方法是什么。我正在考虑使一个字符串变量从所有表单中可见，然后在每个`try-catch`块中设置不同的消息，这些消息将通过`form_shown`在我想要执行此操作的事件中调用显示此字符串变量的值来显示。

但这似乎不是很好的方法。我更喜欢的是某种方式来重新抛出异常或类似的东西并在`form_shown`事件中处理它。我认为这更接近正确的错误处理方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:16:17.533

您违反了两个重要[准则](http://msdn.microsoft.com/en-us/library/vstudio/ms229060%28v=vs.100%29.aspx)：

> 在构造函数中做最少的工作。除了捕获构造函数参数之外，构造函数不应该做太多工作。任何其他处理的成本应延迟到需要时。

和

> 如果合适，请从实例构造函数中抛出异常。构造函数应该像任何方法一样抛出和处理异常。具体来说，构造函数不应捕获和隐藏它无法处理的任何异常。

因此，要回答您的问题，如果在构造函数阶段出现任何问题：立即显示。这应该意味着无法构造该对象。

我不知道构造函数中发生了这么*多*事情，但是我很确定您应该将其推迟到稍后的时刻，例如表单加载。但仍然：显示异常发生的地方。

# android - 如何使用片段中的滑动菜单切换（）

> ID：15873195
> 
> 赞同：2
> 
> 时间：2013-04-08T07:07:55.750
> 
> 标签：android, actionbarsherlock, slidingmenu

在我的应用程序中，我使用带有滑动菜单的 Sherlock 操作栏。

我可以使用 Sherlock Fragment 活动中的滑动菜单切换，如下所示：

```
switch (item.getItemId()) {

    case android.R.id.home:
        toggle();
        break;} 
```

但现在我试图隐藏操作栏并想从片段中使用操作栏菜单按钮。

我隐藏了操作栏，但是如何从片段中使用 toggle()？

谁能给我一个想法，我如何使用片段而不是片段活动中的 android.R.id.home 动作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T07:42:07.597

有两种方法可以做到这一点：

1.  在您的 Activity 中覆盖 onOptionsItemSelected 并处理单击的主页按钮并为其他选项菜单调用 super。（对于 home 来说，新的 toggle() 将被调用，其他菜单选项可以在 Fragment 中处理）

    ```
    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {
        case android.R.id.home:
            toggle();
            return true;

        default:
            return super.onOptionsItemSelected(item);
        }
    } 
    ```

2.  在你的定义一个接口`Fragment`并在`Activity`. `android.R.id.home`在 Fragment 中调用case 上的接口函数，然后`toggle()`在`Activity`.

# iphone - 如何检测 cocos2d 中精灵的碰撞

> ID：15873199
> 
> 赞同：-1
> 
> 时间：2013-04-08T07:08:19.800
> 
> 标签：iphone, ios, cocos2d-iphone, ccsprite

我想检测一个精灵与另一个精灵的碰撞。但我想检查精灵是否与其他精灵的左侧部分接触或与精灵的右侧部分接触。我正在使用下面的代码来检测碰撞。但这会检测整体碰撞（精灵在其他精灵的任何点接触）。但是如果精灵被触摸到其他精灵的正面，则要算作碰撞。

```
if (CGRectIntersectsRect(sprite1.boundingBox, sprite2.boundingBox)) {
            NSLog(@"sprite1 to delete");
 } 
```

有人知道怎么做吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-08T08:43:50.307

你能比较碰撞时精灵的位置吗？

假设 sprite1.anchorpoint, sprite2.anchorpoint = ccp(0,0)。检测到碰撞时：

```
// left part of sprite 1 touched right part of sprite 2
if (sprite1.position.x == sprite2.position.x + sprite2.contentSize.width.x) {

}
// right part of sprite 1 touched left part of sprite 2
else if (sprite1.position.x + sprite1.contentSize.width.x == sprite2.position.x) {

} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-08T09:21:02.007

在 cocos2d 中默认情况下，CCSprite 的锚点是 ccp(0.5, 0.5)，它修改了精灵位置的比较。比较位置以检查游戏循环中精灵之间的相对距离，我认为相等运算符不是最佳选择，大于/小于等于更好地准备不同的位置情况，精灵移动步骤。

为了更好地理解，我包括了精灵情况，例如：

![在此处输入图像描述](https://i.stack.imgur.com/N6wAF.png)

要检查相对位置（检测精灵在另一个精灵的哪一侧），您可以在碰撞检测检查中进行编程：

1)

```
if (CGRectIntersectsRect(sprite1.boundingBox, sprite2.boundingBox)) {
    CGPoint diff = ccpSub(sprite1.position, sprite2.position)
    if (diff.x<=0) {
       // sprite1 is on the left side
    } else {
       // sprite1 is on the right side
    }
} 
```

2)

```
if (CGRectIntersectsRect(sprite1.boundingBox, sprite2.boundingBox)) {
    if (sprite1.position.x <= sprite2.position.x) {
       // sprite1 is on the left side
    } else {
       // sprite1 is on the right side
    }
} 
```

# ilasm - ILASM 是否适用于混合模式应用程序？

> ID：15873202
> 
> 赞同：1
> 
> 时间：2013-04-08T07:08:43.223
> 
> 标签：ilasm, ildasm

我正在尝试修改第三方 dll 中的方法

1.  使用 ILDASM 生成 IL
2.  修改 IL 方法
3.  使用 ILASM 生成 DLL (FAILURE)

我发现由于此错误的原因是第三方 dll 包含非托管代码。有什么方法可以让我成功吗？

# loops - TASM 程序集 8086 DOS 中的循环和条件

> ID：15873206
> 
> 赞同：0
> 
> 时间：2013-04-08T07:08:58.870
> 
> 标签：loops, assembly, x86, x86-16, conditional

我想以这种方式运行这个循环，最后有一个条件

```
mov cx, 10
mov di, 0

loop:

...

inc di
dec cx

cmp di, 5
jne loop

...     

jnz loop 
```

但它似乎不起作用，除非我立即减少 cx

```
jnz loop 
```

这使我每次都无法减少 cx `di != 5`。我想我误解了 cx 的正确使用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:15:46.407

`JNZ`[如果零标志](http://en.wikipedia.org/wiki/FLAGS_register)被清除，则跳转。除了`DEC`.

听起来你想要这样的东西：

```
cmp di, 5
je no_dec
dec cx      ; decrement CX when di != 5
no_dec:
...
jncxz loop  ; jump if CX != 0
            ; if JNCXZ isn't supported on the target CPU you could
            ; replace it with CMP CX,0 / JNZ loop 
```

顺便说一句，`LOOP`标签名称是一个糟糕的选择，因为`LOOP`它是 x86 上的指令。实际上，您可以像这样替换代码：

```
dec cx
jnz label 
```

和

```
loop label  ; decrements CX and jumps if not zero 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T15:46:45.047

```
xor di,di
mov cx,10
_theLoop:
    ; ...
    inc di    ; I wonder why are you incrementing DI manually...
    cmp di,5
    ja _done
    loop _theLoop
_done: 
```

# c++ - 使用迭代和递归计算阶乘时的不同答案

> ID：15873211
> 
> 赞同：5
> 
> 时间：2013-04-08T07:09:12.143
> 
> 标签：c++, recursion, iteration, factorial

第一次在这里发帖，我希望这个问题是可以接受的。

作为一个小测试，我编写了一个应用程序，它使用迭代和递归来计算一个数字的阶乘。这似乎工作正常，除非尝试计算大于 24 的数字的阶乘。

例如，在计算 24 的阶乘时，两种方法都给出了正确答案 62044840173323941。

然而，在计算 25 的阶乘时，答案会有所不同。递归方法给出的答案为 1.5511210043330986e+025，而迭代方法给出的答案为 1.5511210043330984e+025。

根据 Wolfram Alpha 的说法，正确答案应该与迭代方法相同，那么为什么函数之间会出现差异？我问了我的同事，他们也无法解释这种行为。

```
#define TEST_CASE 25

double GetFactorialRecursive(double i)
{   
    if (i == 1)
    return i;
    else
    return i * GetFactorialRecursive(i - 1);
}

double GetFactorialIterative(double i)
{
    double result = 1.0;
    for (; i > 0; --i)
        result *= i;
    return result;
}

int main ()
{
    double recres = 0, itrres = 0; 
    recres = GetFactorialRecursive(TEST_CASE);
    itrres = GetFactorialIterative(TEST_CASE);

    if (recres != itrres)
        std::cout << "Error" << "\n";
    std::cout << std::setprecision(25) << "Recursion: " << recres << ", Iteration: " << itrres << "\n";
    return 0;
} 
```

谢谢您的考虑。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-08T07:15:23.517

递归版本计算 5 * (4 * (3 * (2 * 1)))

迭代版本计算 1 * (2 * (3 * (4 * 5)))

运算顺序的不同会改变浮点算术的四舍五入方式，从而产生不同的结果。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-08T07:20:32.900

该类型`double`不是[精确类型](http://en.cppreference.com/w/cpp/types/numeric_limits/is_exact)。它有望成为正确值的近似值。

因此，不能保证这两种实现都是准确的。

就您的实现而言，有**两个**因素*可能会*导致不同的答案。

1.  您正在以不同的方式订购乘法。
2.  您的迭代版本在同一个变量中执行所有数学运算。与 Intel 兼容的架构（x86 和 x86-64）在其浮点寄存器中使用**80 位精度，并且该精度一直保持到寄存器存储到内存中为止。**

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-08T07:15:59.760

乘法的顺序不同，由于浮点舍入而给出不同的结果。

如果将`for`循环更改为 from `1`to `i`（而不是 from `i`to `1`），您应该得到与递归版本相同的结果。

# java - 无法加载 JVM

> ID：15873213
> 
> 赞同：3
> 
> 时间：2013-04-08T07:09:14.530
> 
> 标签：java, c++, jvm, java-native-interface, dependencies

[我正在尝试使用从此处](http://www.codeproject.com/Articles/22881/How-to-Call-Java-Functions-from-C-Using-JNI)获取的代码从 C 运行 java 代码。尝试运行JVM的代码如下：

```
JNIEnv *env;
    JavaVMInitArgs vm_args;
    JavaVMOption options;
    options.optionString = "-Djava.class.path=D:\\Java Src\\TestStruct";
    vm_args.version = JNI_VERSION_1_6;
    vm_args.nOptions = 1;
    vm_args.options = &options;
    vm_args.ignoreUnrecognized = 0;

    int ret = JNI_CreateJavaVM(jvm, (void**)&env, &vm_args); 
```

代码编译得很好，但是当我尝试执行它时，我收到以下错误：

> VM初始化时出错无法加载本机库：找不到依赖库

看着[这个](https://stackoverflow.com/a/2516903/279982)问题，我使用了dependency walker 来找出我缺少哪些二进制文件。事实证明我失踪了`ieshims.dll`，`wer.dll`我的电脑根据[这个](http://social.technet.microsoft.com/Forums/en-US/w7itproinstall/thread/8a751f65-ade9-4b8b-a3d3-c720ccbd3d2c/)提到的 dll 用于 vista 及更高版本（我在 XP 上）。
于是我想到了几个问题：

*   我该如何摆脱这个？
*   为什么我首先会收到此错误？我不能在 XP 中加载 JVM 吗？

我在 Windows XP 上，使用 Visual Studio 2008，安装了 JDK 1.7（也尝试使用 1.6）。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-08T11:15:06.700

在您链接的文章下方的讨论线程中有一个类似的问题。

在那里，一位用户发现解决方案是确保您在`PATH`环境变量中拥有 Java 二进制文件的路径。例如：

```
PATH = "C:\Program Files\Java\jdk1.6.0_18\jre\bin\client";... 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-09-26T13:38:39.060

还有另一种方法 - 您可以从自定义位置动态加载 jvm.dll 并设置指向本机库的 java.library.path 变量。这样它就不必依赖于系统环境路径。

这是其他线程中的示例：

[在 C++ 中使用 JNI 创建 JVM 不返回](https://stackoverflow.com/questions/11401616/creating-jvm-using-jni-in-c-does-not-return)

# process - php如何进行连续处理

> ID：15873214
> 
> 赞同：0
> 
> 时间：2013-04-08T07:09:16.137
> 
> 标签：process, submit

我有一个可以处理输入的表单。我只需单击一次提交后如何使其连续运行？

我想知道方法。

说我有代码：

```
<form name="form1" action="" method="post">
<input type="text" name="tfcari" />
<input type="submit" name="btcari" />
</form>

<?php
if (isset($_POST['btcari'])) {

get(..);  

?> 
```

谢谢。

# javascript - BackboneJS：您可以动态更改视图的模板吗？

> ID：15873217
> 
> 赞同：1
> 
> 时间：2013-04-08T07:09:32.533
> 
> 标签：javascript, backbone.js

您可以通过提交模板选项来更改主干视图的模板吗？下面的代码似乎不起作用：

```
@company_location= new window.ArtistLocationForm({template: JST["templates/new_company_location"]}) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:34:08.320

不是开箱即用的。

但是传递给构造函数的所有数据都分配给视图实例上的 this.options，因此在渲染函数中实现它应该很容易，例如：

```
render: function(){
  var templateFn = this.options.template || this.template;
  this.$el.html(templateFn(this.model.attributes));
  return this;
} 
```

应该管用。

# java - Richfaces 4+jsf 和 faces-config.xml 不起作用

> ID：15873218
> 
> 赞同：0
> 
> 时间：2013-04-08T07:09:36.563
> 
> 标签：java, jsf, richfaces

我使用richfaces 4。我有带有属性的会话bean - 用户。如果用户为空，我希望我的 xhtml 页面不会呈现请求，因为我有带有 if-tag 的 faces-config.xml（见下文）。但是它们呈现（就在我输入 url myComp:8080/JSF/faces/clients.xhtml 时）并且我在调试器中看到用户属性未在会话 bean 中检查。

面孔-config.xml

```
<navigation-rule>
  <from-view-id>/login.xhtml</from-view-id>
      <navigation-case>
       <from-outcome>clients</from-outcome>
       <if>#{userBean.isUser}</if>
       <to-view-id>/clients.xhtml</to-view-id>
      </navigation-case> 
```

我需要一些 VeiwHandler 还是 faces-config.xml 有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T15:20:12.327

很明显它不会起作用，因为你实际上并没有导航`/login.xhtml`到`/clients.xhtml`是吗？对于要评估的导航规则，您需要实际打开`login.xhtml`，然后通过该页面上的控件导航到`clients.xhtml`.

导航案例涵盖特定的导航案例，即 if-then-else 逻辑。因此，直奔结果完全忽略了导航逻辑。这就是为什么你最好在目的地实施验证。类似于以下内容，基于`<f:event name="preRenderView"/>`尝试以下内容`clients.xhtml`：

1.  将以下内容添加到您的`clients.xhtml`. 它规定了一种方法`checkValidUser`

    ```
    <f:metadata>
       <f:event  type="preRenderView" listener="#{myBean.checkValidUser}">
    </f:metadata> 
    ```

2.  在您的支持 bean 中，添加以下内容

    ```
    @ManagedProperty("#{userBean}")
    UserBean theUserBean;    //this injects the UserBean into the destination bean. I'm assuming UserBean is a SessionScoped bean here

    public void checkValidUser(){
      if(userBean.isUser==false){
          throw new ValidationException("not a valid user");
      }
    } 
    ```

或者，您可以将`@PostConstruct`注释添加到`checkValidUser`并完全忽略 (1)。它将达到基本相同的效果，`checkValidUser`将在 bean 实例化后立即运行。基于*faces-config.xml*的导航方法，IMO 存在隐含的缺陷和乐观，因为您可以看到它太容易绕过和破坏您的应用程序

# c# - 无法从字符串中删除空格？

> ID：15873220
> 
> 赞同：1
> 
> 时间：2013-04-08T07:09:40.357
> 
> 标签：c#

嗨，我有一个十进制值，当值超过一千时，我试图删除空格。

当返回的值超过一千时，返回的数字类似于“2 000”，空格会导致问题。

我尝试过替换和修剪，但找不到删除空格的方法。

```
 decimal fee = AdministrationDataManager.AdminMarkupForPriceSelect(price, isProduct, companyId);
    string Fee = (fee.ToString("N2"));
    string newFee = Fee.Replace(" ", string.Empty);
    newFee = newFee.Trim();
    return (newFee); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T07:14:35.230

格式化字符串`"N2"`格式化带有千位分隔符的数字。如果您不想要千位分隔符，请`"F2"`改用。

```
decimal Fee = 12345678.456M;
Fee.ToString("N2"); // 12,345,678.46 (Only an example)
Fee.ToString("F2"); // 12345678.46 (may also be 12345678,46, depending on culture) 
```

[有关更多信息，请参阅 MSDN。](http://msdn.microsoft.com/en-us/library/dwhawy9k.aspx)

尝试使用 替换千位分隔符确实没有意义`string.Replace`，因为它在不同的计算机上可能会有所不同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:15:29.260

`fee.ToString("N2")`如果您首先不想使用千位分隔符，则不应使用。只需使用`fee.ToString()`它来获得您想要的格式。

# android - Android中的自定义提醒弹出视图

> ID：15873225
> 
> 赞同：1
> 
> 时间：2013-04-08T07:09:52.830
> 
> 标签：android, android-alarms, android-event

我正在处理日历事件提醒。android 中没有本地日历事件提醒，因此用户安装不同的日历应用程序。现在，这些应用程序可以在提醒事件上有所不同，例如可以显示提醒通知。现在我希望我在这些事件日历应用程序中以编程方式设置一个事件，并且在到达时间时不显示任何通知，而是会显示一条弹出消息，并带有警报声。那时我使用该 [站点](http://www.dummies.com/store/product/Android-Application-Development-For-Dummies.productCd-047077018X,navId-322496,descCd-NOTE.html)的代码。它可以工作，但它以通知的形式显示提醒。

这是代码：

接收时：

```
 void doReminderWork(Intent intent) {

    Log.d("ReminderService", "Doing work.");
    Long rowId = intent.getExtras().getLong(RemindersDbAdapter.KEY_ROWID);

    NotificationManager mgr = (NotificationManager)getSystemService(NOTIFICATION_SERVICE);

    Intent notificationIntent = new Intent(this, ReminderEditActivity.class); 
    notificationIntent.putExtra(RemindersDbAdapter.KEY_ROWID, rowId); 

    PendingIntent pi = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_ONE_SHOT); 

    Notification note=new Notification(android.R.drawable.stat_sys_warning, getString(R.string.notify_new_task_message), System.currentTimeMillis());
    note.setLatestEventInfo(this, getString(R.string.notify_new_task_title), getString(R.string.notify_new_task_message), pi);
    note.defaults |= Notification.DEFAULT_SOUND; 
    note.flags |= Notification.FLAG_AUTO_CANCEL; 

    int id = (int)((long)rowId);
    mgr.notify(id, note); 

} 
```

现在我想显示一个弹出界面，例如带有声音的警报，这样它是如何可能的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:13:32.350

在您的 doReminderWork() 中，您可以启动对话式活动，而不是显示通知。

# php - 如何循环这个数组

> ID：15873230
> 
> 赞同：0
> 
> 时间：2013-04-08T07:10:05.343
> 
> 标签：php

这些是后变量。

我怎样才能把这些放在循环中？

其中 'master_customer_id' 和 'firstname' 是名称属性，其中的数组是检索到的值，我需要将这些值保存到数据库中。

值是动态的，意思是说数组可以达到任何数字，这里我只是说 3 个键值对。

先感谢您。

```
 array
  'master_customer_id' => 
    array
      0 => string '1' (length=1)
      1 => string '1' (length=1)
      2 => string '1' (length=1)
  'firstname' => 
    array
      0 => string 'a' (length=1)
      1 => string 'a' (length=1)
      2 => string '' (length=0) 
```

我也在添加表格

```
<?php 

for($i=1;$i<=3;$i++){            
?>

    <input type="hidden" name="master_customer_id[]" value="1" />
First Name: <input type="text" value="" name="firstname[]"/><br/>

<?php  }  ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:13:14.800

```
foreach($array as $key => $value)  
{  
    foreach ($value as $key1 => $value1)
    {   
        echo $value1;  
    }  
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:13:35.143

如果保证你有相同数量的`master_customer_id`and `firstname`，你可以像这样循环它：

```
if (isset($_POST['master_customer_id'])) {
  for ($i = 0; $i < count($_POST['master_customer_id']; $i++) {
    $customer_id = $_POST['master_customer_id'][$i];
    $firstname = $_POST['firstname'][$i];
  }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-08T07:14:54.130

```
for ($i = 0; $i < count($_POST['master_customer_id']); $i++) {
  echo $_POST['master_customer_id'][$i];
  echo $_POST['firstname'][$i];
} 
```

或者

```
foreach ($_POST['master_customer_id'] as $key => $value) {
  echo $value;
  echo $_POST['firstname'][$key];
} 
```

# iphone - 自动旋转不起作用ios6.1

> ID：15873231
> 
> 赞同：0
> 
> 时间：2013-04-08T07:10:06.447
> 
> 标签：iphone, objective-c, ios6, autorotate

自动旋转在 ios6.1 中不起作用。但以下代码在其他应用程序中工作。

代码：

```
@implementation UINavigationController (RotationIn_IOS6)

-(BOOL)shouldAutorotate
{
    return [[self.viewControllers lastObject] shouldAutorotate];
}

-(NSUInteger)supportedInterfaceOrientations
{
    return [[self.viewControllers lastObject] supportedInterfaceOrientations];
}

- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation
{
    return [[self.viewControllers lastObject]  preferredInterfaceOrientationForPresentation];
}

@end

- (BOOL)shouldAutorotate
{
    //returns true if want to allow orientation change
    return TRUE;

}
- (NSUInteger)supportedInterfaceOrientations
{
    //decide number of origination tob supported by Viewcontroller.
    return UIInterfaceOrientationMaskAll;

}

- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation
{
    //from here you Should try to Preferred orientation for ViewController

    return UIInterfaceOrientationLandscapeLeft | UIInterfaceOrientationLandscapeRight | UIInterfaceOrientationPortrait;
}

- (void)willAnimateRotationToInterfaceOrientation:(UIInterfaceOrientation)  interfaceOrientation duration:(NSTimeInterval)duration
{

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T08:23:04.070

ios6 主要使用 plist 选项进行自动旋转。尝试设置支持的方向字段。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:02:36.550

请检查您的项目目标夏季如下

![在此处输入图像描述](https://i.stack.imgur.com/ECePp.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:45:10.943

您是否尝试过修改 plist？

# c# - 仅在 c# 中的时间

> ID：15873233
> 
> 赞同：-3
> 
> 时间：2013-04-08T07:10:09.693
> 
> 标签：c#

在 C# 中

```
DateTime dateAndTime = DateTime.Now; 
```

给出当前日期和时间。我只需要**当前时间**。如果我使用字符串，则可能是：

```
string time=DateTime.Now.ToString("hh:mm:ss"); 
```

是否有可能只获得时间部分`DateTime`而不经过 a `string`？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-08T07:15:17.120

[`TimeSpan`](http://msdn.microsoft.com/en-us/library/system.timespan.aspx)您可以通过访问来获取 a 中的当前时间[`TimeOfDay`](http://msdn.microsoft.com/en-us/library/system.datetime.timeofday.aspx)，如下所示：

```
TimeSpan time = DateTime.Now.TimeOfDay; 
```

现在`time`将表示自午夜以来经过的时间量。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-08T07:14:56.463

没有开箱即用的类型只能保持一段时间。您可以使用`TimeSpan`，甚至 .NET 框架也可以在某些部分使用（例如`DateTime.TimeOfDay`），但我认为这`TimeSpan`确实有不同的目的。

`TimeSpan`，引用 MSDN，只是“测量时间间隔”。这很容易超过组成一天的小时、分钟、秒等（即总共 24 小时）。实际上，该`TimeSpan`结构提供了这一点，例如，具有类似的属性`Days`。

因此，我认为`TimeSpan`不太适合表示一天中的时间（我假设您在说“当前时间”时是指您的意思）。

这给我们带来了另一个问题。“当前时间”究竟是什么？正如我所说，我假设您的意思是“当前时间”中的当前时间。但是当前时间也可能意味着自过去某个特定时间点以来的当前（经过）时间。

诚然，所有这些都是理论上的，甚至是夸夸其谈的，并不能真正帮助你。

我只会使用`DateTime`. 在您真正关心“时间”值的地方，只需使用时间部分（就像您在示例中所展示的那样，您所知道的`ToString`）。虽然，根据您需要的时间，您可能会求助于`DateTime.TimeOfDay`属性，而不是简单地将其格式化为字符串（当然，除非这是您需要的）。

最后，您还可以求助于第三方库，如[Node Time](https://code.google.com/p/noda-time/)，它们只提供时间类型（如`LocalTime`）。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-08T07:15:40.680

```
string time = string.Format("{0:hh-mm-ss-tt}", DateTime.Now); 
```

# sql - 如何更新#temptable

> ID：15873234
> 
> 赞同：2
> 
> 时间：2013-04-08T07:10:12.320
> 
> 标签：sql, tsql, temp-tables

```
CREATE TABLE #TempProducts (
    Id uniqueidentifier,
    ManufacturerId uniqueidentifier,
    Number varchar(50),
    PresentId uniqueidentifier null) 
```

如何更新 PresentId 字段？我对此有不同的错误：

1) 数据库中已有一个名为“#TempProducts”的对象。

```
UPDATE #TempProducts
SET #TempProducts.PresentId = p.Id
FROM #TempProducts JOIN Products p ON (#TempProducts.ManufacturerId = p.ManufacturerId AND #TempProducts.Number = p.Number)
WHERE #TempProducts.Id <> p.Id 
```

2) 多部分标识符“t.PresentId”无法绑定。

```
UPDATE #TempProducts
SET t.PresentId = p.Id
FROM #TempProducts t JOIN Products p ON (t.ManufacturerId = p.ManufacturerId AND t.Number = p.Number)
WHERE t.Id <> p.Id 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-08T07:15:54.993

对于第二个错误，请尝试：

```
UPDATE t
SET t.PresentId = p.Id
FROM #TempProducts t JOIN Products p ON (t.ManufacturerId = p.ManufacturerId AND t.Number = p.Number)
WHERE t.Id <> p.Id 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-08T07:21:40.990

对于问题 1：（在**CREATE TABLE**语法之前）

```
if object_id(tempdb..#TempProducts) is not null
begin
    drop table #TempProducts 
end 
```

对于问题 2，我认为**@techdo**是正确的。

```
UPDATE t
SET t.PresentId = p.Id
FROM #TempProducts t JOIN Products p 
ON (t.ManufacturerId = p.ManufacturerId AND t.Number = p.Number)
WHERE t.Id <> p.Id 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-08T07:22:48.453

```
UPDATE t
SET t.PresentId = p.Id
FROM #TempProducts t JOIN Products p ON (t.ManufacturerId = p.ManufacturerId AND t.Number = p.Number)
WHERE t.Id <> p.Id 
```

这将修复第二个错误（UPDATE t 而不是 UPDATE #TempProducts）。但是，第一个查询不可能产生上述错误。

我猜你正在再次执行你的 CREATE TABLE 查询，这会产生错误，因为临时表已经存在。

您应该在创建临时表时使用这样的检查：

```
IF (OBJECT_ID('tempdb..#TempProducts') IS NOT NULL) DROP TABLE #TempProducts
CREATE TABLE #TempProducts (
    Id uniqueidentifier,
    ManufacturerId uniqueidentifier,
    Number varchar(50),
    PresentId uniqueidentifier null) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-07-21T19:31:02.963

由于代表限制无法发表评论，但 `IF (OBJECT_ID('tempdb..#TempProducts') IS NOT NULL) DROP TABLE #TempProducts"`在 SQL Server 2012 或更高版本中不再需要。您现在可以使用更简单的`DROP TABLE IF EXISTS #TempProducts`语法。

# parsing - 如何使用可选的非终端修复语法？

> ID：15873235
> 
> 赞同：0
> 
> 时间：2013-04-08T07:10:12.520
> 
> 标签：parsing, grammar, lalr

我为 LALR 解析器编写了语法，但我被困在可选的非终端。考虑例如 C++ 取消引用，当您可以编写时：

```
******expression; 
```

当然你可以写：

```
expression; 
```

这是我的问题，取消引用非终结符确实是可选的，这对语法有很大的影响，现在解析器看到它适合任何地方（几乎），因为它可能是空的。

是否有一个常见的模式我应该如何重写语法来修复它？

*如果您指出一些涉及“编写语法时的常见问题和模式”的书籍或其他资源，我也将不胜感激。*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-19T08:54:59.347

# ruby-on-rails - rails如何在模型中引用当前对象

> ID：15873242
> 
> 赞同：3
> 
> 时间：2013-04-08T07:10:28.407
> 
> 标签：ruby-on-rails, ruby, rails-activerecord

这是另一个问题的延续，但由于它不同，我最好将其重新发布为一个新问题：

*老问题*

* * *

我正在向 Hartl 教程中的 twitter 应用程序添加测验功能，并拥有以下模型：

用户与教程几乎相同：

```
class User < ActiveRecord::Base

  has_many :followed_users, through: :relationships, source: :followed

  has_many :takens, dependent: :destroy
  has_many :questions, through: :takens
end 
```

采用的是用户 id 的问题 id 表：

```
class Taken < ActiveRecord::Base
  belongs_to :user
  belongs_to :question

end 
```

没有什么有趣的问题：

```
class Question < ActiveRecord::Base
  attr_accessible :category, :correct, :option1, :option2, :option3, :qn
end 
```

我希望能够按照他们进行的测试次数的顺序显示 follow_users 和 follower。在控制台中，这可以通过：

```
User.find_by_id(1).question_ids.count 
```

然后我可以做类似的事情：

```
User.find_by_id(1).followers.first.question_ids.count 
```

在控制台中获取单个追随者的计数。

我觉得我快到了。

如何通过“获取”计数对关注者和关注用户进行排序？（我也在查看 cache_count，起初看起来很有希望，但可能不是我需要的......）

* * *

*结束旧问题*

这是另一个问题的答案：[rails order through count on other table](https://stackoverflow.com/questions/15870564/rails-order-through-count-on-other-table/15870644#comment22592709_15870644)

我在 User.rb 中使用了这样的方法：

```
def users_sort_by_taken
User.find_by_sql("SELECT users.*
                  SELECT users.*
                  FROM users INNER JOIN takens
                  ON users.id = takens.user_id
                  GROUP BY users.id
                  ORDER BY count(takens.user_id) DESC")
end 
```

在 users_controller.rb 中调用它，如下所示：

```
def following
    require 'will_paginate/array'
    @title = "Following"
    @user = User.find(params[:id])
    #@users = @user.followed_users.paginate(page: params[:page])
    @users = @user.users_sort_by_taken.paginate(page: params[:page])
    render 'show_follow'
end 
```

（作为参考，注释掉的行来自 Hartl 教程）一切都很好，但是现在当前用户包含在以下列表中（因为上面的 SQL）。我需要一种从 users_sort_by_taken 中消除当前用户的方法。

我认为这可能有效：

```
WHERE (#{@current_user.id}) 
```

在方法中，但我收到此错误：

为 nil 调用 id，它会错误地为 4 - 如果你真的想要 nil 的 id，请使用 object_id

我想我可以将它作为参数传递......但我不是已经在下一行中将用户作为@user 吗？

```
@users = @user.users_sort_by_taken.paginate(page: params[:page]) 
```

为什么我不能从 User.rb 模型中的方法引用当前用户？

或者另一种方式，我可以将 current_user（或@user 或用户）传递给 SQL 以从 SQL 结果中排除 current_user 吗？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-08T07:48:15.603

每个对象都有自己的一组实例变量——@user 或@current_user 设置在一个对象中这一事实对另一个对象没有任何意义。

方法的接收者（在这种情况下是您的用户）始终可以作为自己使用，因此可以为`self.id`您获取用户的 id

自我实际上是隐含的——大多数时候你不需要它，只是写`id`会导致同样的事情（只要你在那个用户的实例方法中）

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-08T07:43:23.337

要在模型中引用`@user`' `id`，您可以简单地使用：

```
self.id 
```

# java - 嵌套的while循环 - 外部与内部条件

> ID：15873247
> 
> 赞同：0
> 
> 时间：2013-04-08T07:10:48.707
> 
> 标签：java

在下面的示例中，在外部循环条件变为 false 后，内部 while 循环是否继续执行它的语句 2？或者一旦外部while循环条件变为假，即使内部while循环的条件为真，整个循环也会退出，包括内部while循环？

```
while (becomes false){
    statements 1;
    statements 1;

      while ( true at the time the outer loop condition become false){
         statements 2;
         statements 2;   

         }
        }  
println("print something interesting"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:13:31.177

只有当外循环为真时，内循环才会被执行（测试条件）。否则如果外循环中断，嵌套循环就没有机会被执行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:13:59.033

首先，`while`循环条件只在每次迭代开始时检查。

如果在外循环迭代开始时，条件为`false`，则将 contol 转移到外循环之后的语句，从而绕过内循环。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:25:41.203

将代码块（又名大括号）中的代码视为一扇门。如果您不符合进入门的要求，那么您将看不到里面的任何东西。所以没有内循环（因为外循环是假的）不会执行。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-08T07:29:38.300

它可能有助于理解 while 循环是如何工作的。如果你写：

```
while(myCondition) {
    doSomething();
    doSomethingElse();
}
println("print something interesting"); 
```

然后它基本上变成（在伪代码中）：

```
1\. if myCondition continue to line 2, else go to line 5
2\.     doSomething()
3\.     doSomethingElse()
4\.     go to line 1
5\. println "print something interesting" 
```

如您所见，仅在第 1 行检查条件`myCondition`。例如，如果在第 2 行期间变为假，则没有任何东西可以使块短路。（如果需要，您必须手动重新测试`myCondition`并调用`break`如果它是错误的。）即使`doSomething()`被`while`循环、`for`循环或其他任何东西替换，这也是正确的。

因此，如果“语句 2”使外循环条件为假，则不会停止。程序将继续进行下去，直到内循环完成，此时外循环完成它的迭代（因为在外循环块内的内循环之后没有任何内容）并返回重新测试它的条件以查看它是否应该开始另一个迭代。只有这样，外循环才会检查它的状况。

为了使它更明确一点，您的代码基本上是这样工作的：

```
1\. if outer-condition continue to line 2, else go to line 9
2\.    statements-1
3\.    statements-2
4\.    if inner-condition continue to line 5, else go to line 8
5\.        statements-2
6\.        statements-2
7\.        go to line 4
8\.    go to line 1
9\. println "print something interesting" 
```

因此，外部条件*仅*在第 1 行检查。如果它在任何时候变为 false，循环甚至不会注意到，直到它到达第 1 行，这只会在它到达第 8 行时发生（或第一次它当然，点击第 1 行开始`while`循环）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-08T08:07:01.197

使用局部变量来控制循环，以便您可以在循环 2 中检查该值。

# apache - 在现有网站旁边的目录中安装 drupal

> ID：15873249
> 
> 赞同：0
> 
> 时间：2013-04-08T07:10:52.807
> 
> 标签：apache, drupal, redirect, directory

我想在服务器上的子目录中安装一个 drupal 网站，以便为我的主网​​站使用它的一些功能，我不希望安装以任何方式影响当前网站。

这样做的实际原因是，例如，我可以将 drupal 的新闻部分用于主网站。

例如，我在“drupal”子目录中安装drupal `www.mydomain.com/drupal`，然后当我配置并运行新闻部分时`www.mydomain.com/drupal/news`，我想要的是当用户访问时`www.mydomain.com/news`，它会加载`www.mydomain.com/drupal/news`。

我真的很感激任何适当的方法和建议来实现这一目标。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:34:06.020

看看[重定向模块](http://drupal.org/project/redirect)。

或者

[使用hook_menu](http://api.drupal.org/api/drupal/modules!system!system.api.php/function/hook_menu/7)实现创建自定义模块

```
function MY_MODULE_menu()
{
    $items = array();

    $items['news'] = array(
        'title' => 'news redirect',
        'type' => MENU_CALLBACK,
        'access callback' => TRUE,
        'page callback' => 'drupal_goto',
        'page arguments' => array('drupal/news'),
    );

    return $items;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T08:39:41.917

如果我正确理解您的问题，您希望拥有如下网址：

```
http://example.com/news/headline-test 
```

但是使用 Drupal 的 URL [http://example.com/drupal/news/headline-test](http://example.com/drupal/news/headline-test)来提供第一个 URL 的内容，你应该使用 Apache 重写。

这是一个示例：将其添加到您的顶部 .htaccess 文件夹（[http://example.com/.htaccess](http://example.com/.htaccess) - 不可公开访问是的）：

```
RewriteEngine on
RewriteRule ^news/(.*) drupal/news/$1 
```

有关更多示例/帮助，请参阅[Apache 重写文档](http://httpd.apache.org/docs/1.3/misc/rewriteguide.html)。如果存在另一个文件或它指向另一个文件夹，则 Drupal 无法接管任何文件夹。但在这种情况下，您的URL`http://example.com/drupal/news/headline-test`和`http://example.com/news/headline-test`URL 都将显示相同的内容。不要编辑 Drupal 的`$base_url`设置。让 Drupal 弄清楚。此外，添加一些`robots.txt`禁止以防止内容重复。阻止 drupal 的本机 URL。

# php - 无法使用 xampp 发送电子邮件

> ID：15873251
> 
> 赞同：0
> 
> 时间：2013-04-08T07:11:06.880
> 
> 标签：php, email, xampp, localhost

嗨我试图在 xammp 中使用 php 发送电子邮件我已经启动了 Mercury 服务

这是我的代码

```
<?php

$to = "nikhil08514@gmail.com";
$subject = "Hi!";
$body="test";

$headers = "From: root@localhost.com"; 

if (mail($to, $subject, $body, $headers)) 
{
echo "Message successfully sent!";
} 

else

{
echo "Message delivery failed...";
}
?> 
```

当我执行代码时，我得到的输出为

```
Message successfully sent! 
```

但是当我检查我的邮箱时。我没有看到邮件。我检查了我邮箱中的所有文件夹但它不存在

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T13:18:10.350

您的代码是正确的尝试在服务器上它肯定会工作，xampp 不会像从 xammp 那样直接发送。通过使用 smtp 你可以发送。

# java - Java - 附加和传递值

> ID：15873255
> 
> 赞同：0
> 
> 时间：2013-04-08T07:11:14.373
> 
> 标签：java

我在将字符串和双精度传递给另一个类时遇到问题，因为它一直以双倍成本 = input.nextDouble(); 崩溃。另外，我想知道我在公共布尔 addPARTDETAILS(String partDESCRIPTION, double partCOST) 中使用的附加方法是否正确。

例如。如果用户输入零件和成本，我希望它将其存储在列表中并打印出来并附加成本。

使用的零件：

*   刹车片（50.00 美元）
*   制动液（25.00 美元）

笔记。假设我已经声明了所有变量和数组。

```
System.out.print("Enter registration number of vehicle");
                String inputREGO = input.next();
                boolean flag = false;
                for(int i=0; i<6; i++){
                    if(inputREGO.equalsIgnoreCase(services[i].getregoNUMBER())){
                        System.out.print("Enter Part Description: ");
                        String parts = input.nextLine();
                        double cost = input.nextDouble();

                        services[i].addPARTDETAILS(parts, cost);

                        //System.out.println(services[i].getregoNUMBER());
                        flag = true;
                    }
                }if(flag==false);
                System.out.println("No registration number were found in the system.");

public boolean addPARTDETAILS(String partDESCRIPTION, double partCOST){
    if(partDESCRIPTION == "" || partCOST <= 0){
        System.out.println("Invalid input, please try again!");
        return false;
    }
    else{
        partCOST=0;
        StringBuffer sb = new StringBuffer(40);
        String[] parts = new String[50];
        for (int i=0;i<parts.length;i++){
            partDESCRIPTION = sb.append(partCOST).toString();
        }
        System.out.println(partDESCRIPTION);

        totalPART+=partCOST;
        return true;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:15:24.057

> 它继续以双倍成本崩溃 = input.nextDouble();。

您的 JVM 崩溃的可能性很小。您更有可能得到一个您没有仔细阅读并且忘记包含在您的问题中的异常。

您的代码很可能不正确，因为您可能误解了扫描仪的工作原理。因此，当您尝试读取双精度数时，输入中没有双精度数。我怀疑您想在 readDouble() 之后调用 nextLine() 以消耗该行的其余部分。

我建议您在调试器中逐步执行代码，以更好地了解它的实际作用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:19:24.003

数据相关错误。

```
if(flag==false);
System.out.println("No registration number were found in the system."); 
```

应该是（因为`;`）：

```
if (!flag) {
    System.out.println("No registration number was found in the system.");
} 
```

和

```
partDESCRIPTION == "" 
```

应该：

```
partDESCRIPTION.isEmpty() 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-08T07:49:42.213

只是为了扩展 Joop Eggen 和 Peter Lawrey 的答案，因为我觉得有些人可能不理解。

**`nextLine`和别人玩得不好：**

`nextDouble`可能会抛出一个`NumberFormatException`，因为：

`next`, `nextInt`,`nextDouble`等不会读取以下行尾字符，因此`nextLine`会读取该行的其余部分并`nextDouble`会读取错误的内容。

**示例：（**表示`|`当前位置）

开始：

```
|abc
123
def
456 
```

之后`nextLine`：

```
abc
|123
def
456 
```

之后`nextDouble`：

```
abc
123|
def
456 
```

之后`nextLine`（读取该行的其余部分，其中不包含任何内容）：

```
abc
123
|def
456 
```

现在`nextDouble`尝试阅读`"def"`，这将不起作用。

**If语句问题：**

```
if(flag==false); 
```

或者，重写：

```
if(flag==false)
  ; 
```

是一个带有空主体的 if 语句。因此，下面的语句将始终执行。和没必要做`== false`，`!flag`意思一样。你想要什么：

```
if (!flag)
  System.out.println("No registration number were found in the system."); 
```

**与 == 的字符串比较：**

```
partDESCRIPTION == "" 
```

应该：

```
partDESCRIPTION.equals("") 
```

或更好：

```
partDESCRIPTION.isEmpty() 
```

因为`==`检查字符串是否实际上指向完全相同的对象（除非您`=`在某个点直接或间接地将一个对象分配给另一个对象，否则不会发生这种情况），而不仅仅是它们是否具有相同的文本（这`equals`就是为了）。

# .net - 文件背后的代码结构如何在 Web 表单中工作？- 。网

> ID：15873256
> 
> 赞同：1
> 
> 时间：2013-04-08T07:11:15.477
> 
> 标签：.net, webforms, rendering, code-behind

我正在学习 .NET，我想知道 Web 表单中文件背后的代码结构。

结构总是：

```
using System;
namespace TestWebApp1
{
    public partial class MyPage : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {

        }
    }
} 
```

是不是 .NET 总是查找 MyPage（文件名）类并使用它来呈现页面？

或者我可以有一个名为 Name1 的文件，然后使用该类`Name2 : System.Web.UI.Page`来呈现页面？如果是，我该如何让它工作？因为我现在得到一个例外？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:14:55.520

查看 .aspx 文件的顶部：

```
<%@ Page Language="C#" CodeFile="MyPage.aspx.cs" Inherits="MyPage" %> 
```

CodeFile 属性表示用于隐藏代码的物理文件。Inherits 属性表示将为后面的代码继承的部分类。

所以如果你在后面的代码中重命名你的部分类，你也必须在继承属性中重命名它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:15:58.960

`ASP.NET`是一种从两部分创建网站的技术：`HTML`描述页面外观和`code-behind`确定您的控件如何响应用户输入。
在创建新的 Web 表单时，`ASP.NET`它会为您提供一个可以使用的模板，它会初始化您的所有代码隐藏，以便您可以开始使用它。
因此，您不应该手动更改提供的类的名称，而应在开始时选择一个好名称。否则你会感到困惑`ASP.NET`，它将无法将这两个部分合并到一个网页中。
[这](http://support.microsoft.com/kb/303247)是一篇`ASP.NET`介绍模型及其工作原理的文章。

# java - 什么压缩库适用于 GAE

> ID：15873262
> 
> 赞同：2
> 
> 时间：2013-04-08T07:11:54.327
> 
> 标签：java, google-app-engine, compression

使用 GAE，我们无法选择任何开箱即用的与 GAE 一起使用的 java 压缩库，即使是这个[Snappy](https://github.com/xerial/snappy-java)（*我尝试过，因为据说它是 Google 压缩库的一个端口*）库也不起作用，抛出访问`denied ("java.io.FilePermission")`异常。这是预期的，因为不支持文件 I/O。

因此，我想向社区询问 Java 压缩库，这些库经过测试可以与 GAE 一起使用，无需破解或重新打包。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:29:40.073

检查[类白名单](https://developers.google.com/appengine/docs/java/jrewhitelist)，您可以使用 java.util.zip 读取压缩流

```
new java.util.zip.GZIPInputStream(inputStream) 
```

和

```
new java.util.zip.GZIPOutputStream(outputStream) 
```

将内容压缩到输出流。

# jquery - 如何为 jQuery Mobile 选择控件强制全屏 ListView

> ID：15873266
> 
> 赞同：3
> 
> 时间：2013-04-08T07:12:06.793
> 
> 标签：jquery, cordova, jquery-mobile, mobile-application

我将 PhoneGap 2.5.0 与 jQuery Mobile 1.3.0 一起使用。我想要一个选择控件，当用户单击它时它使用自定义（即非本机）菜单。这很好用，但 jQuery Mobile 文档表明：

> 当在设备屏幕上显示的选项太多时，框架将自动创建一个新的“页面”，其中填充了选项的标准列表视图。这允许我们使用设备中包含的本机滚动来移动长列表。

当您拥有的选项超过任何未发布的数字是限制时，这也可以正常工作。我想知道的是是否有办法强制自定义菜单以这种模式打开，而不管选择中的选项数量如何。

API 文档没有列出任何似乎适合此目的的选项或方法，所以我希望我的问题的答案是它是不可能的，但我只是想我会问。

# java - 静态 UI 中显示的动态数据

> ID：15873269
> 
> 赞同：1
> 
> 时间：2013-04-08T07:12:14.967
> 
> 标签：java, mysql, swing

我的程序使用 Swing 表来显示存储在 MySQL 中的数据，而数据是动态的。我使用一个线程重复从数据库中获取数据并刷新表。我想知道是否还有其他更明智的方法可以做到这一点。感谢您的任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T08:08:28.267

> 正如你所说，使用单线程查询数据库和更新 UI 是合适的，对吗？

*   不是，[不可能是真的](https://stackoverflow.com/a/7049095/714968)，或者是的，[一切都取决于数据源的延迟和可访问性](https://stackoverflow.com/a/6060678/714968)

*   确保您将仅更新可见的矩形、JViewport 中的单元格、定期更新，其他更改仅单独通知（JLabel、ToolTip、SystemTray 例如......）

*   关于[JTable 和 Performance 的示例，称为 ChristmastTree](https://stackoverflow.com/a/14988796/714968)（在去年 Oracle 清理 Suns 教程和代码源之后丢失了某处），基于标准`Workers Thread`（之前`SwingWorker`...）

> 我想知道是否还有其他更明智的方法可以做到这一点。

*   正如我已经注意到的那样，有数据库通知器在数据库引擎中触发添加/删除/更改时触发事件，从未尝试过，不能建议是否使用它

# c# - WPF/MVVM中，如何完美实现“全选”功能

> ID：15873270
> 
> 赞同：3
> 
> 时间：2013-04-08T07:12:20.107
> 
> 标签：c#, wpf, mvvm

在 View（即 XAML）中，我已将 SelectAll 布尔值绑定到 Checkbox 控件

```
<CheckBox Grid.Row="5" Content="Select All" HorizontalAlignment="Left" Margin="0,5, 0, 0"  IsChecked="{Binding Path=SelectAll, Mode=TwoWay}" Width="206"></CheckBox> 
```

并将 SelectAll 填充为

```
public bool SelectAll
    {
        get { return this.Get<bool>("SelectAll"); }
        set 
        {
            this.Set<bool>("SelectAll", value);
            if (this.SelectAllCommand.CanExecute(null))
                this.SelectAllCommand.Execute(value);
        }
    } 
```

是的，它看起来不错，但我有一个问题......

当手动选中所有的复选框时，selectall复选框应该是自动选中的……那个时候，我们不希望执行SelectAllCommand命令……

我该怎么做......

谢谢你提前给我一些建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:19:19.790

尝试

```
public bool? SelectedAll
{
    get { return this.Get<bool?>("SelectedAll"); }
    set 
    {
        if(Equals(SelectedAll, value) == true)
            return;
        this.Set<bool?>("SelectedAll", value);
        OnSelectedAllChanged(value);
    }
}

private void SelectedAllChanged(bool? input)
{
    //Stuff
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T15:36:05.863

您需要在任何时候选择项目时使用`PropertyChanged`项目的事件来重新评估`SelectAll`值。

例如，

```
// Setup PropertyChange notification for each item in collection
foreach(var item in MyCollection)
{
    item.PropertyChanged += Item_PropertyChanged;
}

private bool _isSelectAllExecuting = false;

// If the IsSelected property of an item changes, raise a property change 
// notification for SelectAll
void Item_PropertyChanged(object sender, PropertyChangedEventArgs e)
{
    if (!_isSelectAllExecuting && e.PropertyName == "IsSelected") 
        ReevaluateSelectAll();
}

void ReevaluateSelectAll()
{
    // Will evaluate true if no items are found that are not Selected
    _selectAll = MyCollection.FirstOrDefault(p => !p.IsSelected) == null;

    // Since we're setting private field instead of public one to avoid
    // executing command in setter, we need to manually raise the
    // PropertyChanged event to notify the UI it's been changed
    RaisePropertyChanged("SelectAll");
}

void SelectAll()
{
    _isSelectAllExecuting = true;

    foreach(var item in MyCollection)
        item.IsSelected = true;

    _isSelectAllExecuting = false;
} 
```

# algorithm - 为什么贪心算法找不到二部图的最大独立集？

> ID：15873272
> 
> 赞同：6
> 
> 时间：2013-04-08T07:12:29.290
> 
> 标签：algorithm, graph, graph-theory

我试图使用贪婪方法解决二分图上的最大独立集问题。所以遇到了这篇文章，它正是我想做的。但我只专注于二分图。答案中的反例不是二分图。有没有这个不起作用的二分图？

```
Greedy(G):
 S = {}
 While G is not empty:
 Let v be a node with minimum degree in G
 S = union(S, {v})
 remove v and its neighbors from G
return S 
```

[为什么贪心算法找不到图的最大独立集？](https://stackoverflow.com/questions/13921679/why-is-greedy-algorithm-not-finding-maximum-independent-set-of-a-graph)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-08T07:59:37.920

[与原始问题答案](https://stackoverflow.com/questions/13921679/why-is-greedy-algorithm-not-finding-maximum-independent-set-of-a-graph)相同的方法也适用于此处，但图表略有修改：

![(2,2,4)theta 7-顶点二部图](https://i.stack.imgur.com/AsJly.png)

首先删除#5，剩下的是爪图（节点（1,3,4,7））。以任何顺序去除它的叶子。您发现一个四节点独立集：（1,3,5,7）

首先删除#6。剩下的是一个4循环。删除任何节点会强制执行以下任一组：

1.  (1,3,6)
2.  (2,4,6)

两者都是三元素最大（如，不能扩展）独立集合，因此不是最大值（如，最大可能）。

# java - 如何将值从公共类传递到另一个公共类？

> ID：15873274
> 
> 赞同：0
> 
> 时间：2013-04-08T07:12:34.483
> 
> 标签：java

我试图将值从一个类传递到另一个类。类 subPanel1 读取全局变量 bu 当我通过 AdjustmentListener 更新这些变量时，它不会更改值。我试图将 rc、gc 和 bc 变量从 subPanel2 类传递到 subPanel1 类，它只接受全局变量的初始值，但是当我移动 jscrollbar 变量时不会改变。这是我的课

```
 import java.awt.event.ItemListener;
  import java.awt.event.AdjustmentEvent;
  import java.awt.event.AdjustmentListener;

  public class subPanel2 extends JPanel
  { 
   JScrollBar redbar,greenbar,bluebar;
   JRadioButton decimal,octal,binary,hex;

   int rc, gc, bc;
   int count;

   public subPanel2 ()
   {    
    setPreferredSize (new Dimension(150,500));
    setLayout(new BoxLayout(this, BoxLayout.PAGE_AXIS));

    JLabel red=new JLabel("Red");
    JLabel blue=new JLabel("Blue");
    JLabel green=new JLabel("Green");
    JLabel numsys=new JLabel("Numeral Systems");

    numsys.setForeground(Color.gray);

    JLabel colormix=new JLabel("Color Mix");
    colormix.setForeground(Color.gray);

    decimal=new JRadioButton("Decimal",true);
    octal=new JRadioButton("Octal");
    binary=new JRadioButton("Binary");
    hex=new JRadioButton("Hex");

    ButtonGroup group = new ButtonGroup();
    group.add(decimal);
    group.add(octal);
    group.add(binary);
    group.add(hex);

    decimal.addItemListener(new itemListener());
    octal.addItemListener(new itemListener());
    binary.addItemListener(new itemListener());
    hex.addItemListener(new itemListener());

    redbar= new JScrollBar(Adjustable.HORIZONTAL, 0, 0, 0, 255);
    redbar.setBlockIncrement(1);
    redbar.addAdjustmentListener(new adjustmentListener());

    greenbar= new JScrollBar(Adjustable.HORIZONTAL, 0, 0, 0, 255);
    greenbar.setBlockIncrement(1);
    greenbar.addAdjustmentListener(new adjustmentListener());

    bluebar= new JScrollBar(Adjustable.HORIZONTAL, 0, 0, 0, 255);
    bluebar.setBlockIncrement(1);
    bluebar.addAdjustmentListener(new adjustmentListener());

    add(numsys);
    add (Box.createRigidArea (new Dimension (0, 10)));
    add(decimal);
    add(octal);
    add(binary);
    add(hex);
    add (Box.createRigidArea (new Dimension (0, 30)));
    add(colormix);
    add (Box.createRigidArea (new Dimension (0, 10)));
    add(red);
    add(redbar);
    add(green);
    add(greenbar);
    add(blue);
    add(bluebar);
    } 

    public class adjustmentListener implements AdjustmentListener
    {
     public void adjustmentValueChanged(AdjustmentEvent adjustmentEvent) 
    {
      rc=redbar.getValue();
      gc=greenbar.getValue();
      bc=bluebar.getValue();
    }
    }

     private class itemListener implements ItemListener
     {
      public void itemStateChanged(ItemEvent itemEvent)
     {
      if (octal.isSelected()) count=8;
      else if (decimal.isSelected()) count=0;
      else if (binary.isSelected()) count=2;
      else if (hex.isSelected()) count=16;
     }
    }
    }

import javax.swing.JPanel;
import java.awt.*;

public class subPanel1 extends JPanel {

subPanel2 np;
public subPanel1 ()
{
 setPreferredSize (new Dimension(450,500));
}
 public void paintComponent (Graphics page)
{    
 np=new subPanel2();
 super.paintComponent (page);
 int p=10;
 String str="",str1="", str2="";
 String by="",by1="",by2="";

 if (np.count==2)
 {
  by = Integer.toBinaryString(np.rc);
  by1= Integer.toBinaryString(np.gc);
  by2 = Integer.toBinaryString(np.bc);
  str=by; 
  str1=by1;
  str2=by2; 
  }
  else if (np.count==16)
  {
by = Integer.toHexString(np.rc);
by1= Integer.toHexString(np.gc);
by2 = Integer.toHexString(np.bc);
str=by; 
str1=by1;
    str2=by2; 
   } 
   else
   { 
str=Integer.toString(np.rc,np.count);
str1=Integer.toString(np.gc,np.count);
    str2=Integer.toString(np.bc,np.count);
   }
    page.setColor (new Color(np.redbar.getValue(),np.gc,np.bc));
    page.fillOval(100, 340, 250, 150);
page.setColor(Color.red);
page.fillRect(85,260-np.rc,60,p+np.rc);
page.drawString("RED",100,310);
    page.drawString(str,105,325);    

page.setColor(Color.green);
page.fillRect(200,260-np.gc,60,p+np.gc);
page.drawString("GREEN",210,310);
page.drawString(str1,215,325);   

page.setColor (Color.blue);
page.fillRect(305,260-np.bc,60,p+np.bc);
page.drawString("BLUE",320,310);
page.drawString(str2,325,325);   
    }
    }` 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:14:37.920

创建一个返回变量的方法。谷歌是你的朋友，从长远来看，自己学习一些东西会更好

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:25:06.870

您还必须显示其余代码以确保，但我怀疑您使用的是 subPanel2 类的两个不同**实例**（顺便说一下，按照 Java 编码约定，这应该是大写的）。

您可以尝试使用**静态**变量，这可能会解决您的直接问题。

```
public static int rc, gc, bc; 
```

并以这种方式访问​​它，例如：

```
by = Integer.toBinaryString(subPanel2.rc); 
```

但是：这并不是一个很好的解决方案，因此您可能需要重新考虑您的架构。

您真正想要做的是将subPanel2 的原始实例的**引用**传递给subPanel1 的实例，以便您可以使用方法来访问该实例的值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:15:25.590

使用 setter 方法并确保必须调用 setter 的类的类型的对象具有对提供 setter 的类的类型的对象的引用。

更简洁的方法是使用观察者设计模式。

# javascript - 使用 Javascript 监视/检查内容的 ajax 更新

> ID：15873275
> 
> 赞同：0
> 
> 时间：2013-04-08T07:12:36.210
> 
> 标签：javascript, html

我的场景之一是我想捕获将通过 AJAX 在网站上更新的文本。我想通过监视网页上的任何更改来使用 JavaScript 获取文本。网页上的任何地方都可能发生文字变化，而且位置无法事先确认。

我不想在值为 4 的 readyState 中处理它。

有没有办法做到这一点？

# android - gridview 中 imageview 和复选框的特殊行为

> ID：15873279
> 
> 赞同：1
> 
> 时间：2013-04-08T07:12:45.747
> 
> 标签：android, checkbox, imageview, simplecursoradapter

`imagepaths`我从 sqlite获取 data( )，所以我曾经`simplecursoradapter`在`gridview`. 在每个 gridview 项目中，它包含一个 imageview 和一个复选框，如下面的代码所示。在这里，我的第一个问题是，每当滚动网格视图并在一段时间后在自己的位置安顿下来时，图像似乎会改变它们的位置，这看起来很奇怪。我认为这些问题是因为视图在滚动时被重用而引起的。

第二个问题是当`checkboxes`检查和滚动很少时，复选框值会更改，即，如果我检查图像视图的几个复选框并向下滚动以选择更多，`checkboxes`则检查另一个。有人可以帮我避免这个问题吗？

```
public class ImagesScreen extends Activity{

    public void onCreate(Bundle savedInstanceState){
       .......................

       .......................
          gridView.setAdapter(imagecursorAdapter);

    }

    } 
```

**适配器类：**

```
public class ImageCursorAdapter extends SimpleCursorAdapter{

        private int layout;
        private LayoutInflater mLayoutInflater;
        private Context mContext;
        ViewHolder vh;

        public ImageAdapter(Context context, int layout, Cursor c,String[] from, int[] to)  {
            super(context, layout, c, from, to,0);
            this.layout = layout;
            mLayoutInflater=LayoutInflater.from(context);
            mContext = context;
        }

        public View newView(Context context, Cursor cursor, ViewGroup parent) {     
            View v = mLayoutInflater.inflate(layout, parent, false);
            return v;
        }

        public void bindView(final View v, final Context context, Cursor c) {
            final int id = c.getInt(c.getColumnIndex("id"));
            final String imagepath = c.getString(c.getColumnIndex("paths"));
            vh = new ViewHolder();

            vh.imageview = (ImageView)v.findViewById(R.id.imageView1);
            vh.checkBox = (CheckBox)v.findViewById(R.id.checkBox1);

            vh.checkBox.setOnCheckedChangeListener(new OnCheckedChangeListener(){
     public void onCheckedChanged(CompoundButton buttonView, boolean isChecked){
       Log.d("ischecked",""+isChecked);                             
                }

            });
            File imgFile = new File(imagepath);
            if(imgFile.exists()){

                Bitmap imageBitmap = decodeFile(imgFile);
                vh.imageview.setImageBitmap(imageBitmap);
            }

        }

     static class ViewHolder{

            public ViewHolder(){}

            public ImageView imageview;
            public CheckBox checkBox;
        }
} 
```

# css - 如何使用 ember.js 开发多平台应用

> ID：15873288
> 
> 赞同：0
> 
> 时间：2013-04-08T07:13:16.843
> 
> 标签：css, ember.js, media-queries

我想用ember.js实现多平台。对于iPhone，智能手机的设计是一样的，而iPad的设计和分辨率是不一样的。 *对于手机，它将包含标题栏和 appBody 插座*

```
 "<div class='wrapper'>" +
    "{{outlet topHeaderBar}}" +
    "{{outlet appBody}}" +

"<nav class='nav'>"+ 
```

而对于 iPad，它将包含以下 iPad 应用程序模板

```
 "<div class='wrapper'>"+
    "<nav class='nav'>"+
    "{{outlet leftPanel}}" +
    "{{outlet rightPanel}}" + 
```

因此，**一旦 CSS 识别设备，我如何定义我的 AppRoute 以呈现不同的插座。** 在上述情况下，我认为我可以为 leftPanel 和 rightPanel 重用 topHeaderBar 和 appBody。但问题是**如何在我的 AppRoute 中渲染到不同的模板？** 请提出建议。感谢你！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:30:00.833

使用 CSS[媒体查询](https://developer.mozilla.org/en/docs/CSS/Media_queries)如下。在您的车把模板中：

```
<div class="show-ipad">
  {{outlet "ipad-outlet1"}}
  {{outlet "ipad-outlet2"}}
</div> 

<div class="show-iphone">
  {{outlet "iphone-outlet1"}}
  {{outlet "iphone-outlet2"}}
</div> 
```

在您的样式表中（取自[本文的媒体查询）](http://css-tricks.com/snippets/css/media-queries-for-standard-devices/)：

```
/* iPads (portrait and landscape) ----------- */
@media only screen 
and (min-device-width : 768px) 
and (max-device-width : 1024px) {
  .show-iphone {
    display: none;
  }
}

/* Smartphones (portrait and landscape) ----------- */
@media only screen 
and (min-device-width : 320px) 
and (max-device-width : 480px) {
  .show-ipad {
    display: none;
  }
} 
```

根据您的需要调整媒体查询（以横向、纵向等方式定位 iPad）。

在 Javascript 中，不要假设关于客户端设备的任何事情。只需渲染所有设备的所有插座，让 CSS 媒体查询处理显示的内容和隐藏的内容。

# asp.net - 比较验证后页面上的所有按钮都被禁用

> ID：15873289
> 
> 赞同：1
> 
> 时间：2013-04-08T07:13:20.187
> 
> 标签：asp.net, validation

我编写了一个比较验证器来检查开始日期是否大于结束日期，并且我正在显示相同的消息并且它工作正常。

问题是，验证检查后页面上的所有按钮都被禁用，我的文本框旁边有一个小按钮（日历）按钮，单击该按钮将在旁边的文本框中显示选定的日期。

由于默认情况下所有按钮都被禁用，因此我无法更改日期，因此页面被卡住。如何仅禁用页面上的提交按钮并让所有按钮默认保持“启用”状态？

代码 ：

```
<td>
    <asp:TextBox ID="txtAlertCreatiFino" runat="server" CssClass="style33" Width="100px"
             MaxLength="8" ReadOnly="True"></asp:TextBox>
    <asp:ImageButton ID="ImageButton8" ImageUrl="~/Images/Calendar_icon.gif" 
             runat="server" OnClick="LinkButton8_Click" />
        <span class="float_calendar">
            <span class="style20">
         <asp:Calendar ID="Calendar8" runat="server" 
                      OnSelectionChanged="Calendar8_SelectionChanged"
                      Visible="False" CellPadding="4" DayNameFormat="Shortest"> 
          </asp:Calendar>
             </span>
       </span>                       
        <asp:CompareValidator id="CmpAlertCreatiDate" Text="validation"
    ControlToValidate="txtAlertCreatiFino"  ControlToCompare="txtAlertCreatiDa"
    Type="Date" Operator="GreaterThan" SetFocusOnError = "true"
    Runat="server" EnableViewState="true"/>   
</td>
<td class="style16">
    <span class="style28" />
</td>
</tr> 
```

# wpf - 将 UIElement 和 Text 放在 RichTextbox 中的同一行

> ID：15873290
> 
> 赞同：1
> 
> 时间：2013-04-08T07:13:22.450
> 
> 标签：wpf, button, text, richtextbox, uielement

如何在 WPF Richtextbox 中将文本和按钮放在同一行？

在下图中，一些文本和一个按钮控件被放置在一个富文本框中。

![在此处输入图像描述](https://i.stack.imgur.com/oRthY.jpg)

我希望在同一行的按钮之前和之后放置一些文本。

是否可以为 blockucontainer 定义一些宽度或实现相同的出路？

我想要的是：

![在此处输入图像描述](https://i.stack.imgur.com/2TeQ2.jpg)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T11:22:36.270

我在 中添加了一个`FlowDocument`，在中添加了`RichTextBox`一个。`Paragraph``FlowDocument`

示例代码是：

```
Paragraph para = new Paragraph();
        FlowDocument fd = new FlowDocument();
        fd.Blocks.Add(para);
        txtExpression.Document = fd;
        para.Inlines.Add(new Button() { Content = "Hello!" }); 
```

# jquery - 更改 Jquery Tab 元素的 CSS 类

> ID：15873295
> 
> 赞同：0
> 
> 时间：2013-04-08T07:13:32.600
> 
> 标签：jquery, html, jquery-ui, css

我的 HTML 中有以下选项卡元素。

```
<section id="bill-information">
<!-- Tabbed Navigation for bills -->
<ul class="bill-tab-header">
<li class="bill-tab-button bill-tab-button-selected bill-tab-fixed-width"><a href="#tab-1"><span>OPEN</span></a></li>
<li class="bill-tab-button bill-tab-fixed-width"><a href="#tab-2"><span>SETTLED</span></a></li>
<li class="bill-tab-button bill-tab-fixed-width"><a href="#tab-3"><span>CANCEL</span></a></li>
</ul> 
```

所选项目有一个单独的 CSS 类。我想将类更改为单击的选项卡。如何使用 JQuery 做到这一点。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:17:48.050

`**[EXAMPLE](http://jsbin.com/ocipez/1/edit)**`

```
$(function() {

  var selClass= "bill-tab-button-selected";
  $('.bill-tab-header li').click(function( e ) {
    e.preventDefault();
    $(this).addClass(selClass).siblings().removeClass(selClass);
  });

}); 
```

[http://api.jquery.com/event.preventDefault/](http://api.jquery.com/event.preventDefault/)
[http://api.jquery.com/click/](http://api.jquery.com/click/)
[http://api.jquery.com/addclass/](http://api.jquery.com/addclass/)
[http://api.jquery.com/siblings/](http://api.jquery.com/siblings/)
[http://api.jquery.com/removeclass/](http://api.jquery.com/removeclass/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:17:12.117

可能对你有用。

```
 previouslyClicked = $(".btn").eq(0); //Assuming first tab is selected by default
   $(".btn").click(function () {       
    previouslyClicked.removeClass("course-btn-tab-selected").addClass("course-btn-tab");                 
   $(this).addClass("course-btn-tab-selected");
   previouslyClicked = $(this);           
  }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:19:19.113

您可以使用

```
$("#btnID").addClass("myClass yourClass"); 
```

点击事件添加类和删除类使用

```
$("p").removeClass("myClass noClass") 
```

参考

[http://api.jquery.com/addClass/](http://api.jquery.com/addClass/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-08T07:20:50.727

你可以这样做：

```
$('.bill-tab-button').click(function() {
    $(this).addClass("bill-tab-button-selected").siblings().removeClass('bill-tab-button-selected');
}); 
```

**[演示](http://jsfiddle.net/xTUUY/1/)**

# css - 对表格使用 calc()

> ID：15873302
> 
> 赞同：18
> 
> 时间：2013-04-08T07:14:04.087
> 
> 标签：css, html-table, fixed-width, css-calc

我正在尝试获得一个具有固定宽度`td`和可变宽度`td`的表格。

我正在使用 CSS`calc()`函数，但不知何故，我似乎无法`%`在表格中使用。

这就是我到目前为止所拥有的：

```
<table border="0" style="width:100%;border-collapse:collapse;">
    <tr style="width:100%">
        <td style="width:30px;">1</td> <!--Fixed width-->
        <td style="width: calc( (100% - 230px) / 100 * 40);">Title</td> <!--Width should be 40% of the remaining space-->
        <td style="width: calc( (100% - 230px) / 100 * 40);">Interpret</td> <!--Width should be 40% of the remaining space-->
        <td style="width: calc( (100% - 230px) / 100 * 20);">Album</td> <!--Width should be 20% of the remaining space-->
        <td style="width:80px;">Year</td><!--Fixed width-->
        <td style="width:180px;">YouTube</td><!--Fixed width-->
    </tr>
</table> 
```

我怎么看，它应该工作，但它不是。

有谁知道如何解决这个问题？或者也许有其他建议我可以如何实现我的目标？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-04-08T08:06:13.820

表格在分配列空间方面有困难的规则，因为它们默认分配空间取决于单元格的内容。Calc (atm) 无法使用。

但是，您可以做的是设置[`table-layout`](https://developer.mozilla.org/en-US/docs/CSS/table-layout)属性`table`以强制子`td`元素获得您声明的确切宽度。为此，您还需要在桌子上放置一个`width`( `100%`works)。

```
table{
   table-layout:fixed; /* this keeps your columns with at the defined width */
   width: 100%;        /* a width must be specified */

   display: table;     /* required for table-layout to be used 
                          (since this is the default value it is normally not necessary;
                          just included for completeness) */
} 
```

然后在其余列上使用简单的百分比。

```
td.title, td.interpret{
    width:40%;
}
td.album{
    width:20%;
} 
```

在用完固定宽度列的空间后，剩余空间在具有相对宽度的列之间分配。

为此，您需要默认的显示类型`display: table`（而不是说，`display: block`）。但是，这意味着您不能再为该表使用`height`（包括`min-height`and ）。`max-height`

[请参阅您修改后的示例。](http://jsfiddle.net/6usWN/2/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-08T07:20:11.827

Calc 是通用函数。

`-webkit-calc`用于 webkit。

根据您使用的浏览器添加它们。

无论如何，您的 -calc- 函数将被忽略。有 3 个 td 将是剩余宽度的 40%？总共是 120%。这是一张桌子。父母的宽度总是优先的。

但是，如果 TD 在 5% 以内，则总宽度将小于表格的宽度，因此也将被忽略。

底线：不要将 calc 与表格一起使用。

# windows - 在未连接的计算机上使用 git

> ID：15873303
> 
> 赞同：1
> 
> 时间：2013-04-08T07:14:05.037
> 
> 标签：windows, git

我有时会在两个未连接的计算机上进行开发的项目中工作。

一个典型的例子是在 BIDS 中创建报告。工作流程如下所示：

*   我在公司 TFS 中创建了一个项目/文件夹
*   使用 git-tfs 创建本地 git 仓库
*   开发报告并提交到本地存储库（以及一些签入到 tfs）
*   将我的存储库克隆到客户计算机（使用 vpn/rdp）。
*   在客户计算机上进行一些开发并使用我的存储库推/拉。

（有时工作从客户端开始）

我现在的问题是当我没有 vpn 或 rdp 连接时该怎么办。我有一个可以使用的临时 ftp，但有时 USB 记忆棒是唯一的方法。

我已经研究过`format-patch`/`am`但不明白我是如何创建初始存储库的。

我可以只压缩 .git 文件夹并在另一端解压缩以开始使用，还是有更好的方法？

`format-patch`似乎每次提交创建一个文件。有没有一种简单的方法来合并/取消合并这些？（这只是我在项目中工作，所以我不分支/变基）

Github 在某些情况下可能会工作，但我不想打开将客户数据存储在云中的蠕虫罐。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T07:22:08.343

是的，您可以复制`.git`文件夹。一旦您有两个具有共同历史的存储库，您就可以使用`git-format-patch`和`git-am`。

但可能更适合您的情况是使用[`git-bundle`](http://git-scm.com//docs/git-bundle). 它创建二进制*包*，其中包含一个分支的整个历史记录，您可以从中获取`fetch`和`pull`. 参考页面中的示例很好地展示了如何使用它。

# asp.net-mvc-3 - mvc3提交按钮不起作用

> ID：15873306
> 
> 赞同：4
> 
> 时间：2013-04-08T07:14:12.003
> 
> 标签：asp.net-mvc-3

有一个 Html.BeginForm 包含 Ajax.BeginForm 并且在 Ajax.BeginForm 之外有一个提交按钮。但是这个提交按钮不起作用。如果我在 Ajax.BeginForm 之前使用提交按钮，它工作正常。Ajax.BeginForm 中的提交按钮也可以正常工作。我的问题是，如果我在 Ajax.BeginForm 之后使用提交按钮，为什么提交按钮不起作用；提前致谢。

```
@using (Html.BeginForm("AssignTestGet", "Test"))
{

   using (Ajax.BeginForm("TestPreviewTemplate", "Test", new AjaxOptions { HttpMethod = "POST", InsertionMode = InsertionMode.Replace, UpdateTargetId = "template" }))
    {
        <button type="submit" id="questionId" name="questionId" value="@ViewBag.id" class="submit" style="margin-left:45px;margin-top:-15px;"></button>
        <input type="hidden" id="templateId"value="@ViewBag.id" name="templateId" class="tr"/>
    }
    <div id="template">
    @Html.Partial("_testTemplate", Model)
    </div>

    <input type="submit" value="submit" />  
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T09:41:06.273

HTML 不支持另一种形式之间的一种形式。这是违反HTML规则的。因此，在解析时，它只解析外部表单而不是内部表单，因此外部提交按钮不起作用。

您可以使用两种不同的形式给出不同的 ID。

```
@using (Html.BeginForm("AssignTestGet", "Home", FormMethod.Post, new { @id ="OuterForm" }))
 {
    <div id="template">

    </div>

    <input type="submit" value="submit" id="mymyb" />  
}

@using (Ajax.BeginForm("TestPreviewTemplate", "Home", null, new AjaxOptions { HttpMethod = "POST", OnBegin="MyMy()", UpdateTargetId = "template" }, new { @id="innerForm"}))
{
    <input type="submit" value="submit Inner" id="mymyba" />  
} 
```

# python - 在运行时填写 wx.Choice

> ID：15873307
> 
> 赞同：0
> 
> 时间：2013-04-08T07:14:14.227
> 
> 标签：python, wxpython

我想知道如何在运行时用内容填充 wxChoice。

创建 GUI 时，我没有内容的信息，因为它取决于用户选择的目录。

我在做什么？用户必须从 wx.DirDialog 中选择一个目录。事件处理程序是指一个函数，它将搜索特定类型的文件，结果将作为字符串列表返回。

字符串列表应该用于填充/更新 wx.Choice 小部件，但我不知道如何在运行时执行此操作。

有人有解决这个问题的方法吗？干杯托马斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:22:26.937

抱歉这个问题，但我在[这里](https://stackoverflow.com/questions/682923/dynamically-change-the-choices-in-a-wx-combobox)找到了解决方案。

干杯托马斯

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T20:42:34.463

我个人认为 SetItems(listOfItems) 是最快的方法，它也适用于其他几种小部件类型，例如 ComboBox。Thomas 提到的答案迫使开发人员清除小部件，然后附加单个项目或使用 AppendItems 添加项目列表。无论哪种方式，与仅使用 SetItems() 相比，这是一个两步过程

# objective-c - Navigation 和 Tabbar 控制器方向的子级

> ID：15873310
> 
> 赞同：0
> 
> 时间：2013-04-08T07:14:22.817
> 
> 标签：objective-c, uinavigationcontroller, uitabbarcontroller, orientation, push

您好，我有一个应用程序，其中控制器的以下层次结构：

1.  UITabBar控制器
2.  带有 Table ViewController 的导航控制器
3.  UIView 控制器

情况如下。我想让所有的导航控制器都是纵向的，只有最后一个控制器应该是横向的。正确的横向左。

现在的问题是：当我推动新的控制器（最后一个）时，我希望方向是横向的。我已经覆盖了shouldAutorotate 和shouldAutorotateToInterfaceOrientation 方法。我还用掩码 LandscapeLeft 覆盖了方法supportedInterfaceOrientations？

我错过了什么吗？

我还在导航和标签栏控制器中实现了所有的旋转方法。在标签栏中：

```
-(BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    // You do not need this method if you are not supporting earlier iOS Versions
    return [self.selectedViewController shouldAutorotateToInterfaceOrientation:interfaceOrientation];
}

-(NSUInteger)supportedInterfaceOrientations
{
    return [self.selectedViewController supportedInterfaceOrientations];
}

-(BOOL)shouldAutorotate
{
    return YES;
} 
```

在导航控制器中：

```
-(NSUInteger)supportedInterfaceOrientations
{
    return [self.topViewController supportedInterfaceOrientations];
}

-(BOOL)shouldAutorotate
{
    return YES;
} 
```

任何帮助将不胜感激。

这些是最后一个控制器中实现的方法

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return (interfaceOrientation == UIInterfaceOrientationLandscapeLeft);
}

-(BOOL)shouldAutorotate
{
    return YES;
}

-(NSUInteger)supportedInterfaceOrientations
{
    return UIInterfaceOrientationMaskLandscapeLeft;
}
- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation {
    return UIInterfaceOrientationLandscapeLeft;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:26:06.807

您可能还想覆盖另一种方法

```
- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation {
    return UIInterfaceOrientationLandscapeLeft;
} 
```

当视图控制器全屏显示时，系统会调用此方法。当您的视图控制器支持两个或多个方向但内容在其中一个方向中显示最佳时，您可以实现此方法。

# php - 我的脚本运行时间过长。是否有可能我嵌套了太多的 if 语句？

> ID：15873315
> 
> 赞同：0
> 
> 时间：2013-04-08T07:14:33.980
> 
> 标签：php, if-statement, directory

我是编程新手，我必须自学。但是，我无法弄清楚我在这个项目中做错了什么。这个项目是为我自己做的，用 PHP 做快捷方式，这样我就不用编写那么多行代码了；当我编程时，有时我会为不同的应用程序使用相同的 20 行代码。

这是我的脚本：

```
function writeDir($directory = null, $link = null, $exception = null) {
    if (!isset($directory)) {
        $directory = './';
    }
    if (!isset($link)) {
        $link = false;
    }
    if (!isset($exception)) {
        $exception = null;
    }
    // now...
    if ($link==true&&$exception!=null) { // do a link and exception(s)
        $directoryList = scandir($directory); // get an array of all directory items
        $directoryLength = count($directoryList); // count $directoryList array length
        if (is_string($exception)) { // if one (1) exception
            for ($i=2; $i<$directoryLength; $i++) { // cycle through all directory items
                if ($directoryList[$i] == $exception) { // if we hit that one (1) exception
                    echo ''; // do nothing
                } else {
                    echo '<a href="' . $directoryList[$i] . '"> ' . $directoryList[$i] . ' </a><br />' . "\n";
                }
            }
        }
        if (is_array($exception)) { // if multiple exceptions
            $exceptionList = count($exception); // count $exception array length
            for ($i=2; $i<$directoryList; $i++) { // cycle through all directory items
                for ($j=0; $j<$exceptionList; $j++) { // cycle through all exceptions
                    if ($directoryList[$i] == $exceptionList[$j]) { // if we hit one of the multiple exceptions
                        echo ''; // do nothing
                    } else {
                        echo '<a href="' . $directoryList[$i] . '"> ' . $directoryList[$i] . ' </a><br />' . "\n";
                    }
                }
            }
        }
    }
    if ($link==true&&$exception==null) {
        $directoryList = scandir($directory);
        $directoryLength = count($directoryList);
        for ($i=2; $i<$directoryLength; $i++) {
            echo '<a href="' . $directoryList[$i] . '"> ' . $directoryList[$i] . ' </a><br />' . "\n";
        }
    }
    if ($link==false&&$exception!=null) { // do only exception(s) without links
        $directoryList = scandir($directory); // get an array of all directory items
        $directoryLength = count($directoryList); // count $directoryList array length
        if (is_string($exception)) { // if one (1) exception
            for ($i=2; $i<$directoryLength; $i++) { // cycle through all directory items
                if ($directoryList[$i] == $exception) { // if we hit that one (1) exception
                    echo ''; // do nothing
                } else {
                    echo $directoryList[$i] . '<br />' . "\n";
                }
            }
        }
        if (is_array($exception)) { // if multiple exceptions
            $exceptionList = count($exception); // count $exception array length
            for ($i=2; $i<$directoryList; $i++) {
                for ($j=0; $j<$exceptionList; $j++) {
                    if ($directoryList[$i] == $exceptionList[$j]) {
                        echo '';
                    } else {
                        echo $directoryList[$i] . '<br />' . "\n";
                    }
                }
            }
        }
    }
    if ($link==false&&$exception==null) {
        $directoryList = scandir($directory);
        $directoryLength = count($directoryList);
        for ($i=2; $i<$directoryLength; $i++) {
            echo $directoryList[$i] . '<br />' . "\n";
        }
    }
} 
```

我知道它看起来很多。但是，我试图在编程时让我的生活更简单。

基本上，在 PHP 文件中调用它的语法是：

`writeDir(); // at the very least`：或者：`writeDir('./', true, 'index.php');`

第二个在当前目录中写入文件，并带有相应的链接，但跳过了 index.php 文件。

第三个 (3rd) 参数可以是单个省略页（作为字符串）或多个省略页的数组。或者，至少这就是我想要实现的目标。

当然，在我使用它的所有页面上都需要包含这个源文件。以前，当它工作时，我只能格式化目录项列表，排除一 (1) 个文件。因此，我也尝试允许一组文件。现在，它永远加载。我终于不得不使用一个`set_time_limit()`函数来退出脚本。

现在，最后一件事。当我使用该`set_time_limit()`功能时，它会显示我的目录项，但由于某种原因，有两 (2) 项...我做错了什么？

是否有太多的 if 语句，或者我忽略了什么？我应该重新开始吗？

我只（不专业地）编程了大约 5 年，所以我真的不知道我在做什么。任何指导将不胜感激。

希望我已经提供了足够的信息和细节。

点

PS 任何想要使用这个脚本的人都非常欢迎（如果它甚至值得使用的话）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:32:38.760

使用 esle if

```
if($a==1)
{
echo $a;
}
elseif($b==1)
{
echo $b;
}
else
{
echo "c";
} 
```

并且有一个三元运算符 fo 单 if else 语句：学习它

# java - web.xml 中的 taglib 配置

> ID：15873317
> 
> 赞同：3
> 
> 时间：2013-04-08T07:14:35.763
> 
> 标签：java, spring, jakarta-ee, jsp-tags

```
 <taglib>
  <taglib-uri>  http://www.java2s.com/custom  </taglib-uri>
  <taglib-location>   /WEB-INF/tags/NewFile.tld  </taglib-location>
  </taglib> 
```

它显示错误

> cvc-complex-type.2.4.a：发现以元素“taglib”开头的无效内容。'{" [http://java.sun.com/xml/ns/javaee":module-name](http://java.sun.com/) , " [http://java.sun.com/xml/ns/javaee":description](http://java.sun.com/xml/ns/javaee)之一，

任何人请给我一个解决这个问题的方法

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T07:31:31.203

web.xml 针对 XML 模式进行验证。此模式指定 taglib 只能在被 jsp-config 标记包围时出现。

因此用 jsp-config 标签包围你的 taglib 标签

请参考：[http ://docs.oracle.com/cd/E11035_01/wls100/webapp/web_xml.html#wp1071166](http://docs.oracle.com/cd/E11035_01/wls100/webapp/web_xml.html#wp1071166)

了解更多详情。

也不再需要在 web.xml 中声明 taglib，请阅读[http://wiki.metawerx.net/wiki/RemovingTaglibFromWeb.xml](http://wiki.metawerx.net/wiki/RemovingTaglibFromWeb.xml)

# ruby - 从文件夹中提取所有网址

> ID：15873318
> 
> 赞同：1
> 
> 时间：2013-04-08T07:14:35.850
> 
> 标签：ruby, url, directory

我想使用 ruby​​ 从文件夹中提取所有 url，但我对此一无所知，请有人帮助我。我在 google 上扩展了很多时间，但我找不到任何建议

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T14:58:22.127

Ruby 的 URI 类可以扫描文档并返回所有 URL。看[`extract`](http://www.ruby-doc.org/stdlib-1.9.3/libdoc/uri/rdoc/URI.html#method-c-extract)方法。

`Dir::glob`将其包装在一个循环中，该循环使用or扫描您的目录，`Dir::entries`并`reads`使用`File.read`.

如果你愿意，你可以使用 Nokogiri 编写一个基于解析器的快速扫描器，但它可能会得到相同的结果。URI 的方法更简单。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T09:35:14.807

您可以使用[Nokogiri](http://www.nokogiri.org)解析和搜索 HTML 文档。

```
> require 'nokogiri'
> require 'open-uri'
> doc = Nokogiri::HTML(open("http://www.example.com"))
> doc.css("a").map{|node| node.attr("href")}
 => ["http://www.iana.org/domains/special"] 
```

# c# - 如何配置应用程序清单文件以在不同的操作系统中使用不同的 dll

> ID：15873327
> 
> 赞同：0
> 
> 时间：2013-04-08T07:14:56.663
> 
> 标签：c#, .net

我有两个版本的同一个 .net 项目 dll。一个 .net 2.0 的 dll 和一个 .net 4.0 版本的 dll。这个 dll 在 .net 演示项目中被引用。当我在 Win7 中运行由 Demo 项目生成的 exe操作系统或更低的操作系统，然后 exe 应该使用基于 .net 2.0 的 dll。当我在 Windows 8 中运行应用程序时，它应该使用基于 .net 4.0 的 dll。我如何使用应用程序清单文件配置它。还有其他更简单的方法。

谢谢，

# iphone - 播放视频文件的问题

> ID：15873330
> 
> 赞同：-1
> 
> 时间：2013-04-08T07:15:01.223
> 
> 标签：iphone, ios, xcode, ipad

我正在使用以下代码显示初始状态的视频文件。但是当我启动应用程序时，它开始播放而没有给我播放选项。我怎么能做到这一点

```
 NSString *filepath = [[NSBundle mainBundle] pathForResource:@"En_annan_resa_Master_ENG_PC" ofType:@"mp4"];
            NSURL *fileURL = [NSURL fileURLWithPath:filepath];
            movie_obj = [[MPMoviePlayerController alloc] initWithContentURL:fileURL];
            [movie_obj.view setFrame:CGRectMake(1024*i, 0, 1024, 748)];
            movie_obj.scalingMode=MPMovieScalingModeAspectFit;
            [self.scrollView addSubview:movie_obj.view];
            [movie_obj prepareToPlay]; 
```

我期待当我启动应用程序时，它会显示 mw 视频视图并显示控制播放不会自动播放。

感谢您的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:21:49.640

检查下面的答案

[https://stackoverflow.com/a/15701076/1713478](https://stackoverflow.com/a/15701076/1713478)

只需将**NO**替换为**En_annan_resa_Master_ENG_PC** 试试这个你的问题会解决

# emacs - Elisp 重命名宏

> ID：15873346
> 
> 赞同：2
> 
> 时间：2013-04-08T07:15:50.697
> 
> 标签：emacs, macros, elisp

如何重命名 elisp 宏？更准确地说，我想让 make`defun`成为`cl-defun`. 我不关心时间或内存开销。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T13:32:34.613

## 概括

我不认为你能做到这一点——至少不容易。

由于`cl-defun`展开为，如果您执行明显的操作`defun`，您将在使用时获得无限宏展开循环。`defun``(defalias 'defun 'cl-defun)`

## 是一种方式...

所以你需要做的是

1.  保存原文`defun`：`(fset 'defun-original (symbol-function 'defun))`。

2.  复制`cl-defun`in的定义`cl-macs.el`，替换`defun`为`defun-original`.

3.  替换`defun`为`cl-defun`使用`defalias`: `(defalias 'defun 'cl-defun)`。

现在，至少，如果事情变糟了，您可以使用`(fset 'defun (symbol-function 'defun-original))`.

## ...但你不想要它

但是，我认为您并不*想*这样做。

如果您想使用 Common Lisp，请[使用](http://clisp.org) [它](http://sbcl.org)。试图假装你可以把 Elisp 变成 CL 只会让你伤心。15 年前我曾尝试过那条路——那里没有乐趣。现在应该更容易了，至少有词法绑定，但我仍然认为这不值得。

如果你想扩展`Emacs`，那么使用`cl-defun`就更没有意义了：你的扩展对其他人来说毫无用处，你甚至无法寻求帮助，因为很少有人会为这样一个基本功能的如此彻底的改变而烦恼。微薄的收获。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-08T13:38:26.363

一般来说，你可以很简单地用`(defalias 'foo 'cl-defun)`. 但是对`cl-defun`uses的调用的扩展`defun`，所以如果你这样做`(defalias 'defun 'cl-defun`) 你会进入无限循环。

您可以通过替换`defun`一个宏来获得您想要的东西，该宏可以做什么`defun`或做什么`cl-defun`，具体取决于 cal 是否使用`cl-defun`功能。例如使用`advice-add`（在 Emacs 的主干中；您可以`defadvice`在旧版 Emacsen 中使用以获得类似的结果）它可能看起来像下面未经测试的代码：

```
(defun my-defun-dispatch (doit name args &rest body)
  (let ((needs-cl nil))
    (dolist (arg args)
      (unless (and (symbolp arg)
                   (or (not (eq ?& (aref (symbol-name arg) 0)))
                       (memq arg '(&optional &rest))))
        (setq needs-cl t)))
    (if needs-cl
        `(cl-defun ,name ,args ,@body)
      (funcall doit name args body))))
(advice-add :around 'defun 'my-defun-dispatch) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-08T09:57:39.173

有什么特别的原因吗？

*也许*这样做是安全的，我相信这是可能的，但我很怀疑如果你不知道如何去做，你应该首先尝试它。我的意思不是任何形式的侮辱。我只是怀疑像这样的根本变化很容易导致问题，所以在尝试之前你应该先对 elisp 有一个扎实的掌握。

我意识到这有点无法回答，但我认为值得一说。

仅供参考`cl-defun`是根据`defun`.

# matlab - 在 MatLab 中从球体中的特定点开始绘制随机线

> ID：15873348
> 
> 赞同：0
> 
> 时间：2013-04-08T07:15:53.260
> 
> 标签：matlab, plot

我正在尝试从球体的特定半径开始绘制随机线，但我只想要上半球，如图所示

![](https://i.imgur.com/Fc80hOm.jpg)

到目前为止，我能够创建随机起点（但对于 R=15）、随机交叉点、随机斜率，但我不知道如何连接所有这些以绘制线条。

我的代码是

```
%Create the random starting points, slopes, intersections
tracks=input('Give me the number of muon tracks: ');
theta=180.*rand(tracks,1);
rho=15*ones(tracks,1);
startPoint = [theta rho];
[X,Y]=pol2cart(theta*pi/180,rho);
intersection =-6371+(2*6371).*rand(tracks,1);
slope = tand(360.*rand(tracks,1)); 
```

我知道我只需要两个元素来画一条线，但我现在有点困惑......关于如何做到这一点的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T10:17:12.667

因为您不希望 MATLAB 在绘制它们时将所有线连接起来，所以您需要在一个循环中单独绘制它们，例如，类似

```
theta = 2 * pi * rand(tracks, 2); % 2 rows of random points on a circle, in radians
X = cos(theta); Y = sin(theta);
close all;
figure;
hold on;
for nPlot = 1:tracks
    plot(X(nPlot, :), Y(nPlot, :), 'r-o');
end 
```

请注意，此代码生成的 X 和 Y 也与您的原始代码不同 -`pol2cart`并且上述方法都期望以弧度而不是度数为单位的值。

# python - 有没有比使用 for 循环更清洁的方法

> ID：15873350
> 
> 赞同：3
> 
> 时间：2013-04-08T07:15:54.107
> 
> 标签：python, numpy

我想知道是否有任何其他方法可以循环和操作位于单独数组中的数据。

```
import numpy as np

a = np.arange(2)
b = np.arange(5)
c = np.arange(5)

l1 = []
for x in a:
    l2 = []
    for y in b: 
        l3 = []
        y = x + 1  
        for z in c:
            z = x + y
            t = (x,y,z)
            l3.append(t)
        l2.append(l3)
    l1.append(l2) 
print l1 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-08T07:26:42.063

这段代码正是你正在做的。

```
def method(lst, range1, range2):
    for i in lst:
        yield [[(i, i+1, 1+(i*2))]*range2]*range1 
```

甚至可以变成生成器表达式：

```
def gen_method(lst, r1, r2):
    return ([[(i, i+1, 1+(i*2))]*r2]*r1 for i in lst) 
```

如果您愿意，请自行测试。

* * *

我的测试：

```
a = range(2)
b = range(5)
c = range(5)

def your_method(a, b, c):
    l1 = []
    for x in a:
        l2 = []
        for y in b: 
            l3 = []
            y = x + 1  
            for z in c:
                z = x + y
                t = (x,y,z)
                l3.append(t)
            l2.append(l3)
        l1.append(l2)
    return l1

def my_method(lst, range1, range2):
    for i in lst:
        yield [[(i, i+1, 1+(i*2))]*range2]*range1

yours = your_method(a, b, c)
mine = list(my_method(a, len(b), len(c)))

print yours
print '==='
print mine
print '==='
print yours == mine

>>> 
[[[(0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1)], [(0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1)], [(0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1)], [(0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1)], [(0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1)]], [[(1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3)], [(1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3)], [(1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3)], [(1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3)], [(1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3)]]]
===
[[[(0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1)], [(0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1)], [(0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1)], [(0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1)], [(0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1), (0, 1, 1)]], [[(1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3)], [(1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3)], [(1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3)], [(1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3)], [(1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3), (1, 2, 3)]]]
===
True 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:43:32.243

好吧，您可以使用列表推导来压缩代码：

```
[[[(x,x+1,x*2 +1)]*len(c)]*len(b) for x in a] 
```

这样做是为 a 中的所有 x 循环，并创建一个元素列表，其中每个元素是为 b 中的所有 y 生成的列表，其中*该*列表的每个元素都是`(x,x+1,2*x+1)`为 c 中的所有 z 生成的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T13:38:04.280

另一种方法是使用`itertools`，将结果列表转换为`numpy array`并重塑它

```
import numpy as np
import itertools as it

a = np.arange(2)
b = np.arange(5)
c = np.arange(5)

l1 = np.array([(i, i+1, i*2+1) for i, rb, rb in it.product(a, b, c)])
l1 = l1.reshape(len(a), len(b), len(c), len(d[0])) 
```

随着大小的增加，这可能比所有其他方法消耗更多的内存，但它~~只有两行，并且~~为每个三元组创建唯一的元素，而不是仅仅创建指向同一个对象的多个指针。

**编辑**

另一种方式，也允许将三元组 (i, i+1, i*1+1) 保留为列表：

```
l1 = np.empty([len(a), len(b), len(c)], dtype=object)
for i, rb, rb in it.product(a, b, c):
    l1[i,ra, rb] = (i, i+1, i*2+1) 
```

# c# - 注册 SecurityTokenReceived 事件处理程序

> ID：15873352
> 
> 赞同：1
> 
> 时间：2013-04-08T07:15:55.243
> 
> 标签：c#, asp.net, wif

最近，我开始在现有的 Web 应用程序上使用基于声明的身份验证。一切正常，但为了更好地处理 SessionSecurity 令牌的到期，我想使用滑动到期。

但是，我无法为 SecurityTokenReceived 事件注册事件处理程序。

我的处理程序方法在 Global.asax.cs 中定义如下：

```
protected void SessionAuthenticationModule_SessionSecurityTokenReceived(object sender, SessionSecurityTokenReceivedEventArgs e) { ... } 
```

但是，当在同一个文件的 Application_Start 中注册此处理程序方法时，如下所示：

```
FederatedAuthentication.WSFederationAuthenticationModule.SecurityTokenReceived += SessionAuthenticationModule_SessionSecurityTokenReceived; 
```

Visual Studio 响应不存在与委托 System.EventHandler 匹配的 SessionAuthenticationModule_SessionSecurityTokenReceived 的重载。

我在 web.config 部分有以下设置：

```
<securityTokenHandlers>
    <add type="Microsoft.IdentityModel.Tokens.SessionSecurityTokenHandler, Microsoft.IdentityModel, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35">
      <sessionTokenRequirement lifetime="0:02" />
    </add>
  </securityTokenHandlers> 
```

我已经阅读了 MSDN 上的一些可用文档，但我不明白为什么不接受事件处理程序。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T10:25:57.650

FederatedAuthentication.WSFederationAuthenticationModule.SecurityTokenReceived 期望使用**SecurityTokenReceivedEventArgs**而不是 SessionSecurityTokenReceivedEventArgs 的方法（正如我的 VS 所说）。尝试将您的代码更改为：

```
protected void SessionAuthenticationModule_SessionSecurityTokenReceived(object sender, SecurityTokenReceivedEventArgs e) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-08T12:06:53.420

感谢 Danila Polevshikov 的回答，我注意到了我的错误。解决方法如下：

在 Application_Start 方法中，事件处理程序应该是：

```
FederatedAuthentication.SessionAuthenticationModule.SessionSecurityTokenReceived += SessionAuthenticationModule_SessionSecurityTokenReceived; 
```

我需要有 SessionSecurityTokenReceivedArgs 参数，因为我需要重新发出一个 cookie。

# .net-4.0 - 使用 VS2010 Async CTP 的主要风险与好处是什么？

> ID：15873354
> 
> 赞同：2
> 
> 时间：2013-04-08T07:15:58.807
> 
> 标签：.net-4.0, windows-xp, async-await, c#-5.0, async-ctp

我想使用[Visual Studio Async CTP（版本 3）](http://www.microsoft.com/en-us/download/details.aspx?id=9983)在 Windows XP SP3 上的 VS2010 SP1 中进行开发和测试，主要是因为我的客户（以及我）在 Windows XP SP3 上。Ghere 是 MSDN 论坛上的相关讨论： [如果我以 .net 4.0 为目标，但在具有 .net 4.5 的机器上运行，.net 4.0 WPF 错误仍然存​​在吗？](http://social.msdn.microsoft.com/Forums/en-US/wpf/thread/c05a8c02-de67-47a9-b4ed-fd8b622a7e4a/)

不过， “按[原样”许可证](https://stackoverflow.com/a/12056788/2031316)上的说明告诉您：

> 虽然 Async CTP 许可证不会阻止您在生产环境中自担风险使用它，但我们建议您不要这样做。此 CTP 的目标只是收集有关我们预期异步设计的反馈。我们没有设计或构建它以用于生产环境，也没有像在生产环境中使用所需的那样彻底测试它，我们认为它有太多的缺陷不适合在生产环境中使用。我们非常感谢有关 Async CTP 的反馈，但我们不打算对 Async CTP 本身进行任何修复：我们所做的修复只会出现在最终支持的发布产品中

这些缺陷和错误有多严重，在[Visual Studio Async CTP（第 3 版）](http://www.microsoft.com/en-us/download/details.aspx?id=9983)中被遗弃，我应该考虑哪些可能的其他考虑因素会迫使我改变我的决定？

问的主要原因是：

*   我没有过多关注 C#/.NET 4.5 VS2012 主题（由于坚持使用 Windows XP SP3、.NET 4.0 和 VS2010），我需要减少遇到关键问题的时间；
*   我以前从未遇到过这样的情况，我可能应该遵循错误修复列表（而不是根据需要的特定孤立问题）
    对于这种情况，我现在真的需要吗？

主要问题：
在 VS2010、Windows XP SP3 中的 .NET/C# 4.0 中，不受支持的缺陷无法轻松解决的问题/可能性有哪些？

## @DanPuzey 评论的答案：

该应用程序基于 TPL，WPF 处理来自互联网（证券交易所）的异步数据流。我以前从来不需要关心我会留下不受支持的文档（示例）、缺陷和错误。我可能无法询问它们，因为 MSFT 支持以及其他人无法重现它们。我想估计使用不受支持的扩展程序的风险与收益

主要差异、缺陷、错误和风险是否无限且无法列举？有吗？

[让我从下载页面](http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&id=9983)引用：

> “包括用于生产用途的新 EULA。注意 - 此许可证不鼓励您将 CTP 用于生产代码。CTP 仍然是不受支持且使用风险自负的技术预览版。但是，我们”我们收到了许多开发人员要求将 CTP 用于生产代码的请求，因此更改了许可证以允许这样做”

## @CodesInChaos 评论的答案：

这不是选项，因为它在我的问题开始时提到，参考 prev [enter link description here](http://social.msdn.microsoft.com/Forums/en-US/wpf/thread/c05a8c02-de67-47a9-b4ed-fd8b622a7e4a/)讨论。无法从 VS2012 或具有 .NET 4.5 的机器开发和测试 .NET 4.0 应用程序。在 Windows XP 上安装 VS2012 或 .NET4.5 是不可能的。我的经验（尝试安装其他供应商的应用程序）是您提到的方法不会产生在**Windows XP上运行的应用程序**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T12:42:26.923

我支持@CodesInChaos 建议您使用 VS2012 进行开发。我在 Windows 7 上使用 VS2012 开发在 Windows XP 上运行的 .NET 4 应用程序，它运行良好。唯一需要注意的是，您不能在 .NET 4 上进行调试（实际上是在 .NET 4.5 运行时上运行），但对于 99% 的情况来说，这并不重要。

我确实在生产中使用了 Async CTP；我认为它对于 CTP 来说非常稳定。也就是说，有一些已知的错误。最值得注意的是围绕`await`表达式的操作顺序。因此，请遵循每个语句只有一个的指导方针`await`，并将`await`表达式设为您的顶级表达式，例如：

```
var result = await ...; 
```

我相信 Jon Skeet 在他的[eduasync 系列](http://msmvps.com/blogs/jon_skeet/archive/tags/Eduasync/default.aspx)中也发现了一些更晦涩的错误。

没有已修复或仍然存在的异步 CTP 错误列表（在 中`Microsoft.Bcl.Async`）。微软内部可能有一些列表，但没有其他人知道。

> 该应用程序基于 TPL，WPF 处理来自互联网（证券交易所）的异步数据流。

在这种情况下，请考虑[Rx](http://msdn.microsoft.com/en-us/data/gg577609.aspx)。.NET 4 完全支持 Rx，但我相信它确实需要 VS2012 进行开发。

# java - 产生另一个进程而不是等待它

> ID：15873365
> 
> 赞同：0
> 
> 时间：2013-04-08T07:16:30.330
> 
> 标签：java, process, exec, processbuilder

我有 2 个 java 进程。我想通过`ProcessBuilder`.
我的问题是我只想启动另一个进程。我不想等待它的任何结果或输出。
即在启动第二个进程后，这两个进程将独立运行。
我怎样才能做到这一点？`waitFor`通过不打电话`ProcessBuilder`？通过不消费`OutputStreams`？

**注意：**第二个过程不产生输出并“永远”运行。实际上两者都是长期运行的过程

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:20:37.653

根据文档，您是否使用流程类的 waitFor 方法，如果是的话。那我想你不需要这样做。

取自[Process Java Doc](http://docs.oracle.com/javase/6/docs/api/java/lang/Process.html)

```
**waitFor**

public abstract int waitFor()
                 throws InterruptedException

causes the current thread to wait, if necessary, until the process represented by this Process object has terminated. This method returns immediately if the subprocess has already terminated. If the subprocess has not yet terminated, the calling thread will be blocked until the subprocess exits.

Returns:
    the exit value of the process. By convention, 0 indicates normal termination. 
Throws:
    InterruptedException - if the current thread is interrupted by another thread while it is waiting, then the wait is ended and an InterruptedException is thrown. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:22:16.353

在单独的线程中使用 ProcessBuilder 运行您的进程，在该线程中读取 stdout 和 stderr 并忽略它们，让线程在进程完成时退出

# delphi - 如何强制用户仅在一个活动窗口中单击一个按钮，而无法单击其他窗口中的内容？

> ID：15873367
> 
> 赞同：0
> 
> 时间：2013-04-08T07:16:31.833
> 
> 标签：delphi

我有一个小问题。

我想一定有一个简单的方法可以做到，但我就是找不到关键字，所以请教我。

* * *

这是问题：

例如，默认的 ShowMessage 会弹出一个带有“确定”按钮的窗口，然后程序会在您单击“确定”之前暂时停止。

这是有道理的，但问题是，在单击“确定”之前，您仍然可以与其他对象进行交互。

它肯定会导致一些这样的问题：

```
var
  Count: Integer; //initial it to 1

procedure TForm1.Button1Click(Sender: TObject);
begin
  ShowMessage(IntToStr(Count));
  Inc(Count);
end; 
```

通过不关闭消息框，程序总是停在同一个地方，变量保持不变。

如何锁定弹出窗口，使您无法与其他对象交互？（如果这样做，系统会强制您将焦点转回弹出窗口）

是否可以使用 ShowMessage 实现这一目标？

* * *

如果我能得到一些提示会很有帮助。

非常感谢。

* * *

编辑：使用单元 QDialogs.ShowMessage 版本会导致非模态问题。当心那些你不熟悉的单位哈哈。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:31:55.197

ShowMessage 显示一个模式对话框。换句话说，它会在对话框显示时禁用其拥有的窗口。因此，您无法与应用程序中的其他窗口进行交互。ShowMessage 已经做了你想要的。

如果您发现在显示对话框时可以与应用程序中的其他窗口进行交互，那么您一定是窗口所有权错误。

# reporting-services - 子报表错误：本地报表处理对象引用未设置为实例期间发生错误

> ID：15873368
> 
> 赞同：0
> 
> 时间：2013-04-08T07:16:41.387
> 
> 标签：reporting-services

我有一个调用子报表并将一个参数传递给子报表的主报表，子报表包含一个 tablix，子报表工作正常。从子报表的tablix返回的记录数超过10条记录时出现问题，它给出错误：“本地报表处理对象引用未设置为实例期间发生错误”

我尝试通过为参数设置一个值来单独运行子报表，并且报表运行得很好，并且所有 11 条记录都出现了，仅在从主报表运行子报表时发生异常。

# android - 在以下情况下如何取消异步任务

> ID：15873371
> 
> 赞同：0
> 
> 时间：2013-04-08T07:16:55.990
> 
> 标签：android, asynchronous, android-progressbar

考虑到它的重复问题，请不要投反对票。我已经阅读了与取消异步任务相关的所有问题

基本上我有三个函数，它们执行三个不同的查询，并在相应单选按钮的 OnSelection 上显示列表。

在执行 db 操作之前，即 PreExecute() 我隐藏列表容器并显示进度条旋转，反之亦然。用户可以随时单击其他单选按钮并选择不同的列表。

现在我的问题是，一旦异步任务启动，我就无法停止它，因为我在异步任务中调用函数。我只能在执行函数之前检查 isCancelled。一旦从异步任务调用函数，我就没有被调用的控制和函数。被调用的函数需要大部分时间来执行。所以我如何停止该函数在 OnCancelled 上执行，即当用户按下另一个收音机时。

一种可能的解决方案是为每个功能/任务使用不同的异步任务子类。或者代替调用函数将整个代码放在后台函数中

我想了解更多实现此任务的理想方式。

目前我的代码不能正常工作。

```
public class ShopListView extends FragmentActivity {

public static Location currentLocation;
private static LocationTracker lTracker;
private static final String TAG = "ShopListView";
private GetList mTask=null;
private String mIntent="showPopular";
ListView lview;
boolean flagCategory=false;
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_shop_list_view);
    lview= (ListView) findViewById(R.id.listView1);
    RadioGroup radioGroupListSelector = (RadioGroup) findViewById(R.id.radio_group_list_selector);
    radioGroupListSelector.setOnCheckedChangeListener(new OnCheckedChangeListener() 
    {

        public void onCheckedChanged(RadioGroup group, int checkedId) {
            // checkedId is the RadioButton selected

            switch (checkedId) {
          case R.id.radioPopular : 
              Log.i(TAG,"Popular Radio Button Selected");

              if(mTask!=null)
              {
              mTask.cancel(true);
              Log.i(TAG,"Canceling Current Task");
              }
              else
              {
              mTask=new GetList();    
              mTask.execute("showPopular");
              }

                                          break;
          case R.id.radioAZ :
              Log.i(TAG,"AZ Radio Button Selected");

             if(mTask!=null)
              {
              mTask.cancel(true);
              Log.i(TAG,"Canceling Current Task");
              }
              else
              {
                 mTask=new GetList();     
              mTask.execute("showAZ");
              }

               break;
          case R.id.radioCategory: 
              Log.i(TAG,"Category Radio Button Selected");

             if(mTask!=null)
              {
              mTask.cancel(true);
              Log.i(TAG,"Canceling Current Task");

              }
              else
              {
              mTask=new GetList();
              mTask.execute("showCategory");
              }
               break;

          case R.id.radioNearBy :
              Log.i(TAG,"NearBy Radio Button Selected");

             if(mTask!=null)
              {
              mTask.cancel(true);
              Log.i(TAG,"Canceling Current Task");

              }
              else
              {
              mTask=new GetList();
              mTask.execute("showNearBy");
              }
               break;

          default:
             if(mTask!=null)
              {
              mTask.cancel(true);
              Log.i(TAG,"Canceling Current Task");

              }

              showFeatured();
              Log.i(TAG,"No Radio Selected");

        }
        }
    });

}

public void showFeatured()
{

}

public ArrayList<String> showPopular(){
    flagCategory=false;
    ArrayList<String> list=new ArrayList<String>();
    String sql="select  S.shopName shopName from streetShopInfo AS S JOIN ratings AS R  where S.shopName=R.shopName and R.overall >0 order by S.shopName";
    Log.i(TAG,"Creating Adapter for Fetching Data");
    StreetFoodDataBaseAdapter mDBAdapter= new StreetFoodDataBaseAdapter(this);
    Log.i(TAG,"Adapter Ready..");
    Log.i(TAG,"Creating/Opening Database");
    mDBAdapter.createDatabase();       
    mDBAdapter.open();
    Log.i(TAG,"Requesting info from getInfo function");
    list=mDBAdapter.getInfo(sql,"shopName");
    Log.i(TAG,"Information Retrived Passing it to SetView");
    //setView(list);
    mDBAdapter.close();
    return list;
}

public ArrayList<String> showNearBy() {

    flagCategory=false;
    ArrayList<String> list=new ArrayList<String>();
    list=null;

    String sql="select shopName shopName from streetShopInfo where distance<3";
    //currentLocation=lTracker.getLocation();
    Log.i(TAG,"Location Tracker Started");
    StreetFoodDataBaseAdapter mDBAdapter= new StreetFoodDataBaseAdapter(this);
    mDBAdapter.createDatabase();       
    mDBAdapter.open();
    currentLocation=lTracker.getLocation();
    if(mDBAdapter.validDistance() && currentLocation!=null && currentLocation.getLatitude()!=0)   
    {
    Log.i(TAG,"Now Fetching Near By Location from DB");
    list=mDBAdapter.getInfo(sql,"shopName");
    Log.i(TAG,"Cursor Values Retrived into Array list");
    mDBAdapter.close();
    }
    else
    {
        if(currentLocation!=null && currentLocation.getLatitude()!=0 )   
           {
                   Log.i(TAG,"Location Received");   
                   mDBAdapter.updateDistance();
                   list=mDBAdapter.getInfo(sql,"shopName");
                   mDBAdapter.close();

           }
    }
     return list;
}

public ArrayList<String> showAZ(){
    ArrayList<String> list=new ArrayList<String>();
    flagCategory=false;
    String sql="select shopName from streetShopInfo order by shopName";
    StreetFoodDataBaseAdapter mDBAdapter= new StreetFoodDataBaseAdapter(this);
    mDBAdapter.createDatabase();       
    mDBAdapter.open();
    list=mDBAdapter.getInfo(sql,"shopName");
    Log.i(TAG,"Cursor Values Retrived into Array list");
    //setView(list);
    mDBAdapter.close();
    return list;
}

public ArrayList<String> showCategory(){
    ArrayList<String> list=new ArrayList<String>();
    flagCategory=true;
    String sql="select  distinct category from streetShopInfo order by category";
    StreetFoodDataBaseAdapter mDBAdapter= new StreetFoodDataBaseAdapter(this);
    mDBAdapter.createDatabase();       
    mDBAdapter.open();
    list=mDBAdapter.getInfo(sql,"category");
    Log.i(TAG,"Cursor Values Retrived into Array list");
    //setView(list);
    mDBAdapter.close();
    return list;
}

   /*
    * Sub Class for Asynchronous Task
    */
   class GetList extends AsyncTask<String,Void,ArrayList<String> >
   {

    LinearLayout linlaHeaderProgress = (LinearLayout) findViewById(R.id.linlaHeaderProgress);
    LinearLayout linlaContainer = (LinearLayout) findViewById(R.id.ListViewContainer); 
    @Override
    protected void onPreExecute() 
    {
        // TODO Auto-generated method stub
        super.onPreExecute();
        linlaContainer.setVisibility(View.GONE);
        linlaHeaderProgress.setVisibility(View.VISIBLE);

    }

    protected ArrayList<String>  doInBackground(String... params) 
    {
        ArrayList<String> result = null;
        // TODO Auto-generated method stub
        if(params[0].equals("showNearBy") && !isCancelled())
            result=showNearBy();
        else if(params[0].equals("showPopular")  && !isCancelled())
            result=showPopular();
        else if(params[0].equals("showAZ") && !isCancelled())
            result=showAZ();
        else if(params[0].equals("showCategory") && !isCancelled()) 
            result=showCategory();
        return result;
    }

    @Override
    protected void onCancelled() {
        super.onCancelled();

        linlaHeaderProgress.setVisibility(View.GONE);
        linlaContainer.setVisibility(View.VISIBLE);

        // ask if user wants to try again
    }

    @Override
    protected void onPostExecute(ArrayList<String> result) 
    {
        // TODO Auto-generated method stub
        super.onPostExecute(result);
        linlaHeaderProgress.setVisibility(View.GONE);
        linlaContainer.setVisibility(View.VISIBLE);

        if(result!=null)
          setView(result);
        else
        Toast.makeText(ShopListView.this,"Sorry Your Location not available..",Toast.LENGTH_LONG).show();

    }

   } 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:29:19.283

尝试将您的`doInBackground`内部代码放入其中：

```
while (!isCancelled()) {
    // your doInBackground code
} 
```

# ruby-on-rails - rails生成模型后自动t.timestamps，我可以在迁移文件中手动删除它吗？

> ID：15873373
> 
> 赞同：2
> 
> 时间：2013-04-08T07:16:56.707
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rubygems, twitter-oauth

我跑了`rails generate model XXXX user_id:integer stream_url:text`等

我注意到这`t.timestamps`是迁移文件的一部分。我可以手动删除这条线而不会在将来造成任何问题吗？

我搜索并找不到答案。我只是想在它引起问题之前提前检查。

我正在尝试按照此链接[http://ckdake.com/content/2010/posting-to-twitter-from-a-ruby-on-rails-app.html](http://ckdake.com/content/2010/posting-to-twitter-from-a-ruby-on-rails-app.html)中的步骤使用 twitter gem

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-05-23T15:52:56.307

利用 `rails g model MyModel --no-timestamps`

更多信息`rails g model --help`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-08T07:23:29.343

在 rails 迁移逻辑 t.timestamp 只是添加两列**created_at, updated_at**。当您根据创建、更新的时间形成模型查询时，正是需要这两列。

如果您以后不打算使用这种类型的查询，绝对可以忽略它。

# c++ - 发现编译时瓶颈以便有效地编译防火墙

> ID：15873388
> 
> 赞同：3
> 
> 时间：2013-04-08T07:18:24.117
> 
> 标签：c++, boost, compilation, pimpl-idiom

我有这个需要很长时间才能构建的大型 C++ 增强项目，所以我正在尝试设置编译防火墙。现在我可以按照我的直觉撒粉刺或纯接口，但这似乎不是很有效......*通常*如果我想优化一段代码，我会通过分析器运行它以查看导致我以下的瓶颈问题：如何查看编译时间的瓶颈在哪里？

欢迎所有答案，包括尝试替代编译器，因为代码是跨平台的（*交叉手指*！）

谢谢，

# c# - 使用 Microsoft.Office.Interop.Excel 从 excel 2010 读取数据

> ID：15873389
> 
> 赞同：17
> 
> 时间：2013-04-08T07:18:28.800
> 
> 标签：c#, .net, excel, office-interop

我无法在 Excel 中读取数据。这是我正在使用的代码：

```
using Excel = Microsoft.Office.Interop.Excel;

Excel.Application xlApp = new Excel.Application();
Excel.Workbook xlWorkbook = xlApp.Workbooks.Open(@"Book1.xlsx", 0, true, 5, "", "", true, Excel.XlPlatform.xlWindows, "\t", false, false, 0, true, 1, 0);
Excel._Worksheet xlWorksheet = (Excel._Worksheet)xlWorkbook.Sheets[1];
Excel.Range xlRange = xlWorksheet.UsedRange;

int rowCount = xlRange.Rows.Count;
int colCount = xlRange.Columns.Count;

for (int i = 1; i <= rowCount; i++)
{
    for (int j = 1; j <= colCount; j++)
    {
        MessageBox.Show(xlWorksheet.Cells[i,j].ToString());
    }
} 
```

我收到一个消息框，上面写着关于`System.__ComObject`而不是值的内容。
我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-04-08T07:41:54.113

我找到了上面的解决方案，这里是代码：

```
string temp = (string)(xlRange.Cells[i, j] as Excel.Range).Value2;
MessageBox.Show(temp); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-08T07:31:14.717

没有测试过，但我认为它应该阅读

```
MessageBox.Show(xlRange.Cells[i,j].ToString()); 
```

或者

```
MessageBox.Show(xlRange.Cells[i,j].Value.ToString()); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-08-03T12:13:25.953

试试这个：

```
MessageBox.Show(xlRange.Cells[i][j].Value); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-07-03T10:45:33.407

使用以下函数获取数据作为第 N 张工作表的 DATATABLE 对象：

```
public DataTable GetWorkSheet(int workSheetID)
    {
        string pathOfExcelFile = fileFullName;
        DataTable dt = new DataTable();

        try
        {
            excel.Application excelApp = new excel.Application();

            excelApp.DisplayAlerts = false; //Don't want Excel to display error messageboxes

            excel.Workbook workbook = excelApp.Workbooks.Open(pathOfExcelFile, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing); //This opens the file

            excel.Worksheet sheet = (excel.Worksheet)workbook.Sheets.get_Item(workSheetID); //Get the first sheet in the file

            int lastRow = sheet.Cells.SpecialCells(excel.XlCellType.xlCellTypeLastCell, Type.Missing).Row;
            int lastColumn = sheet.Cells.SpecialCells(excel.XlCellType.xlCellTypeLastCell, Type.Missing).Column;

            excel.Range oRange = sheet.get_Range(sheet.Cells[1, 1], sheet.Cells[lastRow, lastColumn]);//("A1",lastColumnIndex + lastRow.ToString());

            oRange.EntireColumn.AutoFit();

            for (int i = 0; i < oRange.Columns.Count; i++)
            {
                dt.Columns.Add("a" + i.ToString());
            }

            object[,] cellValues = (object[,])oRange.Value2;
            object[] values = new object[lastColumn];

            for (int i = 1; i <= lastRow; i++)
            {

                for (int j = 0; j < dt.Columns.Count; j++)
                {
                    values[j] = cellValues[i, j + 1];
                }
                dt.Rows.Add(values);
            }

            workbook.Close(false, Type.Missing, Type.Missing);
            excelApp.Quit();
        }
        catch (Exception ex)
        {
            System.Windows.Forms.MessageBox.Show(ex.Message, "Error", System.Windows.Forms.MessageBoxButtons.OK, System.Windows.Forms.MessageBoxIcon.Error);

        }
        return dt;

    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-12-21T12:09:41.110

试试这个代码：

```
MessageBox.Show(((Excel.Range)xlRange.Cells[i,j]).Value2.ToString()); 
```

这段代码对我来说是成功的。

# php - Paypal ipn - 空的 IPN 和错误的日期。曾经工作

> ID：15873390
> 
> 赞同：0
> 
> 时间：2013-04-08T07:18:43.930
> 
> 标签：php, paypal, paypal-ipn

我有一个网站，里面有一个使用 IPN 内置的简单售票处。过去一个月它一直在工作，我就不管它了。我在同一个虚拟主机上的另一个支付网站上工作，我第一次指定了“notification_url”。我注意到我无法从 PayPal 获得任何关于我的新版本的回复并将其留在那里。然后，我检查了我的原始系统至少仍在工作；不是。

出于某种原因，当我检查我的 IPN 历史记录时，“最新的交付尝试”是“1984/12/14 04:53:12 CET (UTC+1)”。最糟糕的是它还显示“通知网址：”。空的。

尽管我的访问日志显示我的 ipn 页面没有流量，但这显然返回了 200 和成功。我有日志正在运行，我没有修改任何代码。我可以访问 IPN url 手册，它会被记录下来。没有html登录，没有限制。

这是我的付款方式：

```
<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_xclick">
<input type="hidden" name="business" value="8TPEJKFGZEJBS">
<input type="hidden" name="lc" value="sv_SE">
<input type="hidden" name="item_name" value="'.$text.'">
<input type="hidden" name="item_number" value="'.$order_id.'">
<input type="hidden" name="amount" value="'.$cost.'">
<input type="hidden" name="currency_code" value="SEK">
<input type="hidden" name="button_subtype" value="services">
<input type="hidden" name="no_note" value="1">
<input type="hidden" name="rm" value="2">
<input type="hidden" name="return" value="http://mywebsite.com/?page=13&done">
<input type="hidden" name="cancel_return" value="http://mywebsite.com/?  page=13&cancel">
<input type="hidden" name="no_shipping" value="1">
<input type="hidden" name="bn" value="PP-BuyNowBF:btn_paynowCC_LG.gif:NonHosted">
<input type="image" style="border: none;" src="images/buy.png" border="0" name="submit" alt="PayPal - Det tryggare, enklare sättet att betala online!">
<img alt="" border="0" src="https://www.paypalobjects.com/sv_SE/i/scr/pixel.gif" width="1" height="1">
</form> 
```

出了什么问题，我应该尝试解决什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:34:28.337

您只需要在表单中添加一个字段“notify_url”。此 URL 是您的 IPN 文件 URL。

```
<input type="hidden" name="notify_url" value="http://mywebsite.com/?page=13&done"> 
```

更多细节：

[https://cms.paypal.com/cms_content/GB/en_GB/files/developer/PP_WebsitePaymentsStandard_IntegrationGuide.pdf](https://cms.paypal.com/cms_content/GB/en_GB/files/developer/PP_WebsitePaymentsStandard_IntegrationGuide.pdf)

# asp.net - WebMethod 返回数据集

> ID：15873391
> 
> 赞同：0
> 
> 时间：2013-04-08T07:18:46.193
> 
> 标签：asp.net, vb.net, web-services, dataset, webmethod

我有以下返回数据集的 WebMethod：

```
'A method to select all records in Eqp_For_Sale table
    <WebMethod()> _
    Public Function RetrieveAllFromEqp_For_Sale() As DataSet

    Dim conn As New SqlConnection(ConfigurationManager.ConnectionStrings("WebDB_ConnectionString").ToString)
        conn.Open()

    Dim comm As New SqlCommand("SELECT * FROM Eqp_For_Sale")

    comm.Connection = conn

    Dim da As New SqlClient.SqlDataAdapter

    Dim ds As New DataSet

    da.SelectCommand = comm

    comm.ExecuteNonQuery()

    da.Fill(ds)

    conn.Close()

    Return ds
End Function 
```

我从一个新的 VB.NET 应用程序调用此 WebMethod 来检索数据，并使用以下代码将其检索到 DataGridView 中：

```
Dim a As New UsedEqpWS.UsedEqpWSSoapClient

DataGridView1.DataSource = a.RetrieveAllFromEqp_For_Sale 
```

但问题是当我单击调用这三行的按钮时，DataGridView 根本不显示任何内容。我试图从一个新的 ASP.NET 网站调用相同的 WebMethod，它在那里工作得很好。

有没有办法克服这个问题？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:34:43.257

采用

```
a.RetrieveAllFromEqp_For_Sale.Tables[0]; 
```

# django - 未找到关键“摆脱” "

> ID：15873395
> 
> 赞同：0
> 
> 时间：2013-04-08T07:18:57.763
> 
> 标签：django

我有一个像这样的网址

```
http://127.0.0.1:8000/subscriber/registration/?rid%20=HRCM 
```

我想在我看来获得摆脱价值

`getrid = request.GET['rid']` 在我看来我做到了

但我收到一个错误，例如 .

```
MultiValueDictKeyError at /subscriber/registration/

"Key 'rid' not found in <QueryDict: {u'rid ': [u'HRCM']}>" 
```

我也试过了

`{{request.GET.rid}}`

直接在我的模板中，但这也不起作用。

请帮助我解决这里可能出现的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:21:35.740

在您的 QueryDict 中，名称后面有一个空格`rid`。所以尝试使用

```
getrid = request.GET['rid '] 
```

`rid`从您的网址中获取价值。

# iphone - xcode 此团队中已存在带有编号的设备。

> ID：15873396
> 
> 赞同：5
> 
> 时间：2013-04-08T07:19:03.860
> 
> 标签：iphone, ios, xcode, ipad

我最近用苹果更新了我的 iOS 开发程序。从那以后，我无法在我的设备上运行我的新项目。如果我去 xCode 内的管理器，我可以看到设备，并且设备旁边有绿灯。如果我加载任何旧项目，我可以毫无问题地在设备上运行该项目。

我尝试删除设备并再次添加设备，但是当我再次添加设备时出现此错误：

此团队中已存在编号为“XXXXXXXXXXXXXXXXXXXXXXXXX”的设备。

我对伙计们的问题是，我到底能做些什么来解决这个问题并能够在我的设备上运行新项目？有什么建议么 ？

我会非常感谢你的帮助

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-08T08:22:43.960

我今天遇到了同样的问题，我通过从设备中删除所有配置文件解决了这个问题，拔下设备然后重新插入。

我从苹果开发者网站手动下载了 TeamProvisionigProfile。之后，我通过 Organizer 手动添加“TeamProvisioningProfile”。

这适用于我再次安装应用程序。希望它也对你有用！？

# c# - 如何在鼠标双击事件中在 ListView 内添加 ComboBox

> ID：15873397
> 
> 赞同：0
> 
> 时间：2013-04-08T07:19:06.643
> 
> 标签：c#, asp.net

我想在鼠标双击事件中在 ListView 中添加 ComboBox。每次双击时，应在下一行添加一个新的 ComboBox。

我用下面的代码试过了，但它不起作用。

```
 private void form_DblClick(object sender, form_DblClickEvent e)
 {
      ComboBox c;
      this.Controls.Add(c = new ComboBox());
      c.Items.Add("Input");
      c.Items.Add("Delay");
      c.Items.Add("Message");
      c.Items.Add("comment");
      listView1.Controls.Add(c);
 } 
```

谁能帮我解决这个问题..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:26:39.213

你应该使用 ComboboxItem

```
ComboBox c;
ComboboxItem item = new ComboboxItem();
item.Text = "Input";
item.Value = value;
c.Items.Add(item)
ComboboxItem item1 = new ComboboxItem();
item1.Text = "Delay";
item1.Value = value;
c.Items.Add(item1)
//........ 
```

# c# - 将文本附加到现有标题

> ID：15873400
> 
> 赞同：0
> 
> 时间：2013-04-08T07:19:17.917
> 
> 标签：c#, asp.net, append, title

我有控制页面文本、标题元描述和元关键字的 CMS。我在我使用`<asp:PlaceHolder ID="plaMeta" runat="server"></asp:PlaceHolder>` 的代码后面使用`plaMeta.Controls.Add(new LiteralControl(File.ReadAllText(Server.MapPath("files/xxxx"), Encoding.Default)));` 其中 xxxx 是一个存储标题元描述和元关键字的文件。我有几个页面，只有第一个我需要其他文件上的文本，我想在其他页面上使用一些标题元描述和元关键字，但是在标题上添加我所在页面的页码将类似于“页面名称 - 第 2 页”。

我试图用代码附加文本

```
head1.title += head1.title + " - page 2" 
```

但它没有用。

我不想只为元和标题打开每个页面的文件。可能吗？

（我试图搜索，但没有找到任何东西，可能是我的关键字不好）

# mysql - 如何用用户名替换电子邮件？

> ID：15873405
> 
> 赞同：0
> 
> 时间：2013-04-08T07:19:27.543
> 
> 标签：mysql, sql, sql-update

在 localhost 我想用他们的用户名替换所有电子邮件。这是行不通的：

```
UPDATE `users` SET 'email'='username' 
```

什么是工作代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:23:43.067

假设您在数据中调用了一个字段`username`：

```
update users set email = username; 
```

您的代码将反引号与常规引号（仅用于分隔字符串）混淆。你也可以写：

```
update `users` set `email` = `username`; 
```

反引号用于将列名和表名括起来，尤其是当它们包含不寻常的字符（如空格）或与保留名称冲突时。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:20:47.430

因为你已经用单引号包裹了列名。删除它，它会工作。

```
UPDATE users SET email = 'username' 
```

反引号仅用于转义保留关键字或包含特殊字符的列名和表名。下面的链接有更多解释。

*   [MySQL - 何时使用单引号、双引号和反引号？](https://stackoverflow.com/questions/11321491/mysql-when-to-use-single-quotes-double-quotes-and-backticks)

但如果您打算将列的值复制`username`到`email`中，则需要删除两列上的引号，

```
UPDATE users SET email = username 
```

# java - TestNG 中的 DataProvider 使用 Java WebDriver 从 Excel 传递数据

> ID：15873406
> 
> 赞同：1
> 
> 时间：2013-04-08T07:19:34.093
> 
> 标签：java, excel, webdriver, apache-poi, testng

我有一个包含用户名和密码的登录页面。我有一个 XcelParserTestNGLogin 类来创建、更新和从 Excel 工作表方法加载。另一个类 Login 是一个 TestNG 类。我正在使用 DataProvider 从 Excel 传递数据。但我得到 Exception *The data provider is trying to pass 4 parameters 但该方法需要 2*。

这是我的 TestNG 代码：

```
public class Login {

    private static WebDriver driver;
    XcelParserTestNGLogin login1 = new XcelParserTestNGLogin();
    Object[][] data1;

    /*public Login() throws IOException, InterruptedException {
        FileInputStream fis = new FileInputStream("Data//LoginPage.xls");
        XcelParserTestNGLogin login1 = new XcelParserTestNGLogin(fis, "Login");

        //this.data1 = login1.loadFromSpreadsheet(fis, "Login");
    }*/

    @BeforeClass
    public void test() throws Exception {
        System.setProperty("webdriver.chrome.driver",
                "C:\\Chrome\\chromedriver_win_26.0.1383.0\\chromedriver.exe");
        driver = new ChromeDriver();
        driver.get("Any Url");
    }
    @DataProvider
     public Object[][] dp() throws IOException {
        //login1.fileName = "Data//Login.xls";
        //login1.sheetName = "Sheet1";
        FileInputStream fis = new FileInputStream("Data//LoginPage.xls");
        String sheetName = "Login";
        login1.loadFromSpreadsheet(fis,sheetName);
        return login1.getData();        
    }

    @Test(dataProvider = "dp")
    public void devLogin(String UserName,String PassWord) throws InterruptedException, IOException {

        driver.findElement(By.name("txtUserName")).sendKeys(UserName);
        driver.findElement(By.name("txtPwd")).sendKeys(PassWord);
        driver.findElement(By.name("btnSignIn")).click();
        Thread.sleep(5000);

        if (driver.findElement(By.linkText("DashBoard")).isDisplayed()) {
            List<String> arrayList = new ArrayList<String>();
            arrayList.add("Pass");
            HSSFWorkbook workbook = new HSSFWorkbook();
            login1.createSheet("Login", workbook, arrayList);
        } 
        else {
            try{
            Alert alert=driver.switchTo().alert();
            String alertText=alert.getText();

            Assert.assertEquals("invalid username or password,please try again",alertText);
            alert.accept();
            }catch(UnhandledAlertException e){
                e.printStackTrace();
            }
            List<String> arrayList = new ArrayList<String>();
            arrayList.add("Fail");
            HSSFWorkbook workbook = new HSSFWorkbook();
            login1.createSheet("Login", workbook, arrayList);
        }
    }
} 
```

这是我的 XcelParserTestNGLogin() 代码

```
public class XcelParserTestNGLogin {
    private transient Object[][] data;
    String fileName,sheetName;

    public XcelParserTestNGLogin() {

    }

    public XcelParserTestNGLogin(InputStream excelInputStream, String sheetName)
            throws IOException {
        this.data = loadFromSpreadsheet(excelInputStream, sheetName);
    }

    public Object[][] getData() {
        return data;

    }

    Object[][] loadFromSpreadsheet(InputStream excelFile, String sheetName)
            throws IOException {
        // TODO Auto-generated method stub
        HSSFWorkbook workbook = new HSSFWorkbook(excelFile);
        Sheet sheet = workbook.getSheet(sheetName);

        int numberOfColumns = countNonEmptyColumns(sheet);
        int numberOfRows = sheet.getLastRowNum() + 1;

        data = new Object[numberOfRows - 1][numberOfColumns - 1];

        for (int rowNum = 1; rowNum < numberOfRows; rowNum++) {
            Row row = sheet.getRow(rowNum);
            if (isEmpty(row)) {
                break;
            } else {
                for (int column = 1; column < numberOfColumns; column++) {
                    Cell cell = row.getCell(column);
                    if (cell == null
                            || cell.getCellType() == Cell.CELL_TYPE_BLANK) {
                        data[rowNum - 1][column - 1] = "";
                    } else {
                        data[rowNum - 1][column - 1] = objectFrom(workbook,
                                cell);
                    }
                }
            }
        }

        return data;
    }

    private boolean isEmpty(Row row) {
        // TODO Auto-generated method stub
        Cell firstCell = row.getCell(0);
        boolean rowIsEmpty = (firstCell == null)
                || (firstCell.getCellType() == Cell.CELL_TYPE_BLANK);
        return rowIsEmpty;
    }

    /**
     * Count the number of columns, using the number of non-empty cells in the
     * first row.
     */
    private int countNonEmptyColumns(Sheet sheet) {
        // TODO Auto-generated method stub
        Row firstRow = sheet.getRow(0);
        return firstEmptyCellPosition(firstRow);
    }

    private int firstEmptyCellPosition(Row cells) {
        // TODO Auto-generated method stub
        int columnCount = 0;
        for (Cell cell : cells) {
            if (cell.getCellType() == Cell.CELL_TYPE_BLANK) {
                break;
            }
            columnCount++;
        }
        return columnCount;
    }

    private Object objectFrom(HSSFWorkbook workbook, Cell cell) {
        // TODO Auto-generated method stub
        Object cellValue = null;
        if (cell.getCellType() == Cell.CELL_TYPE_BLANK) {
            cellValue = cell.getRichStringCellValue().getString();
        } else if (cell.getCellType() == Cell.CELL_TYPE_NUMERIC) {
            cellValue = getNumericCellValue(cell);
        } else if (cell.getCellType() == Cell.CELL_TYPE_BOOLEAN) {
            cellValue = cell.getBooleanCellValue();
        } else if (cell.getCellType() == Cell.CELL_TYPE_FORMULA) {
            cellValue = evaluateCellFormula(workbook, cell);
        }

        return cellValue;
    }

    private Object getNumericCellValue(final Cell cell) {
        Object cellValue;
        if (DateUtil.isCellDateFormatted(cell)) {
            cellValue = new Date(cell.getDateCellValue().getTime());
        } else {
            cellValue = cell.getNumericCellValue();
        }
        return cellValue;
    }

    private Object evaluateCellFormula(final HSSFWorkbook workbook,
            final Cell cell) {
        FormulaEvaluator evaluator = workbook.getCreationHelper()
                .createFormulaEvaluator();
        CellValue cellValue = evaluator.evaluate(cell);
        Object result = null;

        if (cellValue.getCellType() == Cell.CELL_TYPE_BOOLEAN) {
            result = cellValue.getBooleanValue();
        } else if (cellValue.getCellType() == Cell.CELL_TYPE_NUMERIC) {
            result = cellValue.getNumberValue();
        } else if (cellValue.getCellType() == Cell.CELL_TYPE_STRING) {
            result = cellValue.getStringValue();
        }

        return result;
    }
    public void updateExcel(final InputStream excelFile, String SheetName,
            List<String> list) {
        HSSFWorkbook workbook = new HSSFWorkbook();
        Sheet sheet = null;
        if (workbook.getSheetIndex(SheetName) > 0) {
            sheet = workbook.getSheet(SheetName);
            if (list != null && list.size() != sheet.getLastRowNum()) {
                workbook.removeSheetAt(workbook.getSheetIndex(SheetName));
                createSheet(SheetName, workbook, list);
            } else {
                createSheet(SheetName, workbook, list);
            }
        }

    }
    void createSheet(String SheetName, HSSFWorkbook workbook, List<String> list) {
        // TODO Auto-generated method stub
        String[] Heading = {"UserName", "Password",
                "Result" };
        Sheet sheet = workbook.createSheet(SheetName);
        HSSFRow row = null;
        HSSFCell cell = null;

        row = (HSSFRow) sheet.createRow(0);
        for (int cellNum = 0; cellNum < Heading.length; cellNum++) {
            cell = row.createCell(cellNum);
            cell.setCellValue(Heading[cellNum]);
        }   
        for (int rowNum = 1; rowNum <= list.size(); rowNum++) {
            String[] cellVals = {"uname",
                    "pswd", list.get(rowNum - 1) };

            row = (HSSFRow) sheet.createRow(rowNum);
            for (int cellNum = 0; cellNum < cellVals.length; cellNum++) {
                cell = row.createCell(cellNum);
                if (!(cellNum == cellVals.length))
                    cell.setCellValue(cellVals[cellNum]);
                else
                    cell.setCellValue(true);
            }
        }
        try {
            FileOutputStream out = new FileOutputStream("Data//LoginPage.xls");
            workbook.write(out);
            out.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-10-07T06:41:52.320

请记住，对象数组左侧的第一个方括号的长度表示您的测试方法将被调用多少次。

第二个方括号的长度表示您的测试方法应该有多少个参数。根据您的测试方法的签名，您的数组声明应该是`obj = new Object[maxRows][2]`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-11-03T10:12:44.183

```
package testng;

import java.util.Hashtable;

import org.testng.annotations.DataProvider;
import org.testng.annotations.Test;

public class testNGParameterizationExcel {

  public static ExcelReader excel = null;

  @Test(dataProvider = "getData")
  public void testData(Hashtable<String, String> data) {
    // System.out.println(username + "---------" + password + "------------"
    // + is_correct);
    System.out.println(data.get("UserName"));
  }

  @DataProvider
  public static Object[][] getData() {
    if (excel == null) {
      excel = new ExcelReader("C:\\Users\\shaanu\\Desktop\\Java\\Test.xlsx");
    }

    String sheetName = "new";
    int rows = excel.getRowCount(sheetName);
    int columns = excel.getColumnCount(sheetName);
    Object[][] data = new Object[rows - 1][1];
    Hashtable<String, String> table = null;
    for (int rowNums = 2; rowNums <= rows; rowNums++) {
      table = new Hashtable<String, String>();
      for (int colNum = 0; colNum < columns; colNum++) {
        // data[rowNums-2][colNum] = excel.getCellData(sheetName,
        // colNum, rowNums);
        table.put(excel.getCellData(sheetName, colNum, 1), excel.getCellData(sheetName, colNum, rowNums));
        data[rowNums - 2][0] = table;
      }
    }

    return data;
  }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-11-03T10:19:56.860

```
package testng;

import org.apache.poi.hssf.usermodel.HSSFCellStyle;
import org.apache.poi.hssf.usermodel.HSSFDateUtil;
import org.apache.poi.hssf.usermodel.HSSFHyperlink;
import org.apache.poi.hssf.util.HSSFColor;
import org.apache.poi.ss.usermodel.Cell;
import org.apache.poi.ss.usermodel.CellStyle;

import org.apache.poi.ss.usermodel.IndexedColors;
import org.apache.poi.xssf.usermodel.*;

import java.io.*;
import java.util.Calendar;

public class ExcelReader {

    public  String path;
    public  FileInputStream fis = null;
    public  FileOutputStream fileOut =null;
    private XSSFWorkbook workbook = null;
    private XSSFSheet sheet = null;
    private XSSFRow row   =null;
    private XSSFCell cell = null;

    public ExcelReader(String path) {

        this.path=path;
        try {
            fis = new FileInputStream(path);
            workbook = new XSSFWorkbook(fis);
            sheet = workbook.getSheetAt(0);
            fis.close();
        } catch (Exception e) {

            e.printStackTrace();
        } 

    }

    // returns the row count in a sheet
    public int getRowCount(String sheetName){
        int index = workbook.getSheetIndex(sheetName);
        if(index==-1)
            return 0;
        else{
        sheet = workbook.getSheetAt(index);
        int number=sheet.getLastRowNum()+1;
        return number;
        }

    }

    // returns the data from a cell
    public String getCellData(String sheetName,String colName,int rowNum){
        try{
            if(rowNum <=0)
                return "";

        int index = workbook.getSheetIndex(sheetName);
        int col_Num=-1;
        if(index==-1)
            return "";

        sheet = workbook.getSheetAt(index);
        row=sheet.getRow(0);
        for(int i=0;i<row.getLastCellNum();i++){
            //System.out.println(row.getCell(i).getStringCellValue().trim());
            if(row.getCell(i).getStringCellValue().trim().equals(colName.trim()))
                col_Num=i;
        }
        if(col_Num==-1)
            return "";

        sheet = workbook.getSheetAt(index);
        row = sheet.getRow(rowNum-1);
        if(row==null)
            return "";
        cell = row.getCell(col_Num);

        if(cell==null)
            return "";

        if(cell.getCellType()==Cell.CELL_TYPE_STRING)
              return cell.getStringCellValue();
        else if(cell.getCellType()==Cell.CELL_TYPE_NUMERIC || cell.getCellType()==Cell.CELL_TYPE_FORMULA ){

              String cellText  = String.valueOf(cell.getNumericCellValue());
              if (HSSFDateUtil.isCellDateFormatted(cell)) {

                  double d = cell.getNumericCellValue();

                  Calendar cal =Calendar.getInstance();
                  cal.setTime(HSSFDateUtil.getJavaDate(d));
                    cellText =
                     (String.valueOf(cal.get(Calendar.YEAR))).substring(2);
                   cellText = cal.get(Calendar.DAY_OF_MONTH) + "/" +
                              cal.get(Calendar.MONTH)+1 + "/" + 
                              cellText;

                 }

              return cellText;
          }else if(cell.getCellType()==Cell.CELL_TYPE_BLANK)
              return ""; 
          else 
              return String.valueOf(cell.getBooleanCellValue());

        }
        catch(Exception e){

            e.printStackTrace();
            return "row "+rowNum+" or column "+colName +" does not exist in xls";
        }
    }

    // returns the data from a cell
    public String getCellData(String sheetName,int colNum,int rowNum){
        try{
            if(rowNum <=0)
                return "";

        int index = workbook.getSheetIndex(sheetName);

        if(index==-1)
            return "";

        sheet = workbook.getSheetAt(index);
        row = sheet.getRow(rowNum-1);
        if(row==null)
            return "";
        cell = row.getCell(colNum);
        if(cell==null)
            return "";

      if(cell.getCellType()==Cell.CELL_TYPE_STRING)
          return cell.getStringCellValue();
      else if(cell.getCellType()==Cell.CELL_TYPE_NUMERIC || cell.getCellType()==Cell.CELL_TYPE_FORMULA ){

          String cellText  = String.valueOf(cell.getNumericCellValue());
          if (HSSFDateUtil.isCellDateFormatted(cell)) {
               // format in form of M/D/YY
              double d = cell.getNumericCellValue();

              Calendar cal =Calendar.getInstance();
              cal.setTime(HSSFDateUtil.getJavaDate(d));
                cellText =
                 (String.valueOf(cal.get(Calendar.YEAR))).substring(2);
               cellText = cal.get(Calendar.MONTH)+1 + "/" +
                          cal.get(Calendar.DAY_OF_MONTH) + "/" +
                          cellText;

             }

          return cellText;
      }else if(cell.getCellType()==Cell.CELL_TYPE_BLANK)
          return "";
      else 
          return String.valueOf(cell.getBooleanCellValue());
        }
        catch(Exception e){

            e.printStackTrace();
            return "row "+rowNum+" or column "+colNum +" does not exist  in xls";
        }
    }

    // returns true if data is set successfully else false
    public boolean setCellData(String sheetName,String colName,int rowNum, String data){
        try{
        fis = new FileInputStream(path); 
        workbook = new XSSFWorkbook(fis);

        if(rowNum<=0)
            return false;

        int index = workbook.getSheetIndex(sheetName);
        int colNum=-1;
        if(index==-1)
            return false;

        sheet = workbook.getSheetAt(index);

        row=sheet.getRow(0);
        for(int i=0;i<row.getLastCellNum();i++){
            //System.out.println(row.getCell(i).getStringCellValue().trim());
            if(row.getCell(i).getStringCellValue().trim().equals(colName))
                colNum=i;
        }
        if(colNum==-1)
            return false;

        sheet.autoSizeColumn(colNum); 
        row = sheet.getRow(rowNum-1);
        if (row == null)
            row = sheet.createRow(rowNum-1);

        cell = row.getCell(colNum); 
        if (cell == null)
            cell = row.createCell(colNum);

        cell.setCellValue(data);

        fileOut = new FileOutputStream(path);

        workbook.write(fileOut);

        fileOut.close();    

        }
        catch(Exception e){
            e.printStackTrace();
            return false;
        }
        return true;
    }// returns true if data is set successfully else false
    public boolean setCellData(String sheetName,String colName,int rowNum, String data,String url){

        try{
        fis = new FileInputStream(path); 
        workbook = new XSSFWorkbook(fis);

        if(rowNum<=0)
            return false;

        int index = workbook.getSheetIndex(sheetName);
        int colNum=-1;
        if(index==-1)
            return false;

        sheet = workbook.getSheetAt(index);

        row=sheet.getRow(0);
        for(int i=0;i<row.getLastCellNum();i++){

            if(row.getCell(i).getStringCellValue().trim().equalsIgnoreCase(colName))
                colNum=i;
        }

        if(colNum==-1)
            return false;
        sheet.autoSizeColumn(colNum); 
        row = sheet.getRow(rowNum-1);
        if (row == null)
            row = sheet.createRow(rowNum-1);

        cell = row.getCell(colNum); 
        if (cell == null)
            cell = row.createCell(colNum);

        cell.setCellValue(data);
        XSSFCreationHelper createHelper = workbook.getCreationHelper();

        //cell style for hyperlinks

        CellStyle hlink_style = workbook.createCellStyle();
        XSSFFont hlink_font = workbook.createFont();
        hlink_font.setUnderline(XSSFFont.U_SINGLE);
        hlink_font.setColor(IndexedColors.BLUE.getIndex());
        hlink_style.setFont(hlink_font);
        //hlink_style.setWrapText(true);

        XSSFHyperlink link = createHelper.createHyperlink(XSSFHyperlink.LINK_FILE);
        link.setAddress(url);
        cell.setHyperlink(link);
        cell.setCellStyle(hlink_style);

        fileOut = new FileOutputStream(path);
        workbook.write(fileOut);

        fileOut.close();    

        }
        catch(Exception e){
            e.printStackTrace();
            return false;
        }
        return true;
    }

    // returns true if sheet is created successfully else false
    public boolean addSheet(String  sheetname){     

        FileOutputStream fileOut;
        try {
             workbook.createSheet(sheetname);   
             fileOut = new FileOutputStream(path);
             workbook.write(fileOut);
             fileOut.close();           
        } catch (Exception e) {         
            e.printStackTrace();
            return false;
        }
        return true;
    }

    // returns true if sheet is removed successfully else false if sheet does not exist
    public boolean removeSheet(String sheetName){       
        int index = workbook.getSheetIndex(sheetName);
        if(index==-1)
            return false;

        FileOutputStream fileOut;
        try {
            workbook.removeSheetAt(index);
            fileOut = new FileOutputStream(path);
            workbook.write(fileOut);
            fileOut.close();            
        } catch (Exception e) {         
            e.printStackTrace();
            return false;
        }
        return true;
    }
    // returns true if column is created successfully
    public boolean addColumn(String sheetName,String colName){

        try{                
            fis = new FileInputStream(path); 
            workbook = new XSSFWorkbook(fis);
            int index = workbook.getSheetIndex(sheetName);
            if(index==-1)
                return false;

        XSSFCellStyle style = workbook.createCellStyle();
        style.setFillForegroundColor(HSSFColor.GREY_40_PERCENT.index);
        style.setFillPattern(HSSFCellStyle.SOLID_FOREGROUND);

        sheet=workbook.getSheetAt(index);

        row = sheet.getRow(0);
        if (row == null)
            row = sheet.createRow(0);

        if(row.getLastCellNum() == -1)
            cell = row.createCell(0);
        else
            cell = row.createCell(row.getLastCellNum());

            cell.setCellValue(colName);
            cell.setCellStyle(style);

            fileOut = new FileOutputStream(path);
            workbook.write(fileOut);
            fileOut.close();            

        }catch(Exception e){
            e.printStackTrace();
            return false;
        }

        return true;

    }// removes a column and all the contents
    public boolean removeColumn(String sheetName, int colNum) {
        try{
        if(!isSheetExist(sheetName))
            return false;
        fis = new FileInputStream(path); 
        workbook = new XSSFWorkbook(fis);
        sheet=workbook.getSheet(sheetName);
        XSSFCellStyle style = workbook.createCellStyle();
        style.setFillForegroundColor(HSSFColor.GREY_40_PERCENT.index);
        XSSFCreationHelper createHelper = workbook.getCreationHelper();
        style.setFillPattern(HSSFCellStyle.NO_FILL);

        for(int i =0;i<getRowCount(sheetName);i++){
            row=sheet.getRow(i);    
            if(row!=null){
                cell=row.getCell(colNum);
                if(cell!=null){
                    cell.setCellStyle(style);
                    row.removeCell(cell);
                }
            }
        }
        fileOut = new FileOutputStream(path);
        workbook.write(fileOut);
        fileOut.close();
        }
        catch(Exception e){
            e.printStackTrace();
            return false;
        }
        return true;

    }

  // find whether sheets exists 
    public boolean isSheetExist(String sheetName){
        int index = workbook.getSheetIndex(sheetName);
        if(index==-1){
            index=workbook.getSheetIndex(sheetName.toUpperCase());
                if(index==-1)
                    return false;
                else
                    return true;
        }
        else
            return true;
    }

    // returns number of columns in a sheet 
    public int getColumnCount(String sheetName){
        // check if sheet exists
        if(!isSheetExist(sheetName))
         return -1;

        sheet = workbook.getSheet(sheetName);
        row = sheet.getRow(0);

        if(row==null)
            return -1;

        return row.getLastCellNum();

    }

    //String sheetName, String testCaseName,String keyword ,String URL,String message
    public boolean addHyperLink(String sheetName,String screenShotColName,String testCaseName,int index,String url,String message){

        url=url.replace('\\', '/');
        if(!isSheetExist(sheetName))
             return false;

        sheet = workbook.getSheet(sheetName);

        for(int i=2;i<=getRowCount(sheetName);i++){
            if(getCellData(sheetName, 0, i).equalsIgnoreCase(testCaseName)){

                setCellData(sheetName, screenShotColName, i+index, message,url);
                break;
            }
        }

        return true; 
    }
    public int getCellRowNum(String sheetName,String colName,String cellValue){

        for(int i=2;i<=getRowCount(sheetName);i++){
            if(getCellData(sheetName,colName , i).equalsIgnoreCase(cellValue)){
                return i;
            }
        }
        return -1;

    }

    // to run this on stand alone
    public static void main(String arg[]) throws IOException{

        ExcelReader datatable = null;

             datatable = new ExcelReader("C:\\CM3.0\\app\\test\\Framework\\AutomationBvt\\src\\config\\xlfiles\\Controller.xlsx");
                for(int col=0 ;col< datatable.getColumnCount("TC5"); col++){
                    System.out.println(datatable.getCellData("TC5", col, 1));
                }
    }

} 
```

# c# - 比较两个字符串字符串生成器

> ID：15873407
> 
> 赞同：0
> 
> 时间：2013-04-08T07:19:38.543
> 
> 标签：c#, stringbuilder

我正在使用字符串生成器生成两个字符串行，我想将生成的字符串与我的 txt 文件中确切位置（最后两行）的字符串进行比较。

```
StringBuilder s = new StringBuilder();
sb.AppendFormat("line1content{0}", Environment.NewLine);
sb.AppendFormat("line2content{0}", Environment.NewLine); 
```

我正在从我的 txt 文件中获取最后两行

```
List<string> last2lines = File.ReadLines("c:\myfile.txt").Reverse().Take(2).Reverse().ToList(); 
```

在这里，我正在获取包含内容的字符串列表，我需要将最后 3 行放入一个字符串变量中，以与生成的字符串生成器内容进行比较。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:28:14.380

```
sb.ToString().Compare(string.Join("",last2Lines.ToArray())) 
```

# android - 关于层集成

> ID：15873416
> 
> 赞同：4
> 
> 时间：2013-04-08T07:20:14.243
> 
> 标签：android, sdk, layar

我是[Layar 技术的新手。](https://www.layar.com/)

最近我创建了一个 Layar 帐户并下载了 Layar SDK 并将其集成到我的 Android 应用程序中。Uptil 这一切都很好。但为了测试这个应用程序，我需要一些测试页面。在创建它们时，我在他们关于“API 端点”的文档中找到，这实际上是什么？[（在此处](https://www.layar.com/documentation/browser/publishing-site/register-layer/)提到的他们的文档中。）我想到了一些问题。请回答他们，因为我不是计算机专业的毕业生，我对服务器之类的东西了解不多。所以我想知道：

我们需要服务器来完成 Layar 发布吗？

如果是，那么这意味着应该有一个 PHP 页面，您需要在其中进行一些 PHP 编码来接收他们提到的 POI。这意味着 API 端点 URL 是指向此 php 页面的链接。对还是错？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-05-20T15:41:28.817

问完你的问题后我来晚了，但万一有人发现这个话题并问自己同样的问题：

我认为你是对的我正在尝试使用 Layar 制作一个应用程序，我想知道它是如何工作的，但是正如你可以在他们网站的文档部分找到的一些教程中看到的那样，似乎 Layar 需要您使用自己的服务器来托管您的网络服务。

（这里有一个他们的教程的链接作为示例，有一个示例代码可下载，它是用 PHP 编写的，你应该把它放在你的服务器上，并在“发布层”部分提供你的服务器的链接Layar 的应用程序与您自己的 Web 服务一起使用。） [http://layar.pbworks.com/w/page/44331092/First%2520Layar%2520Tutorial%2520-%2520Create%2520a%2520simple%2520Geolocation%2520layer](http://layar.pbworks.com/w/page/44331092/First%2520Layar%2520Tutorial%2520-%2520Create%2520a%2520simple%2520Geolocation%2520layer)

为了回答 API 端点问题，Layar 员工如何定义它：

“• 提供 Spot 的 Web 服务的 URL。请注意，仅支持端口 80 (http) 和 443 (https)，​​因此带有附加端口信息的 URL 将不起作用。” 或者“提供数据库中兴趣点 (POI) 信息的 Web 服务的 URL”。

它被描述为必须使用该服务。

# java - 如何从android中的FTP服务器下载目录

> ID：15873417
> 
> 赞同：0
> 
> 时间：2013-04-08T07:20:16.560
> 
> 标签：java, android

我通过提供 URL 成功将单个文件从 FTP 服务器下载到我的 SD 卡。但我无法从 FTP 服务器下载包含 30 个文件（.jpg、.flv 等，文件夹内可能有另一个文件夹）的文件夹.所以请帮我一些代码，如何将整个文件夹从 FTP 服务器下载到 SD 卡。提前致谢！！

**这是单个文件下载的代码**：

```
public boolean downloadFTP(String srcFilePath, String desFilePath) {
    boolean status = false;
    FTPClient client = new FTPClient();
    try {
        String ipaddr = "XX.XX.XX.XX";
        String uname = "XXXXXX";
        String pass = "XXXXXX";

        client.connect(ipaddr, 21);
        client.enterLocalPassiveMode();
        boolean login = client.login(uname, pass);
        if (login) {
            Log.e("downloadFTP login : ", "Success");
            FileOutputStream desFileStream = new FileOutputStream(
                    desFilePath);
            Log.e("downloadFTP login : ", "FileOutputStream");
            status = client.retrieveFile(srcFilePath, desFileStream);
            Log.e("downloadFTP status : ", "" + status);
            desFileStream.close();
        }
    } catch (Exception e) {
        Log.e("ERROR downloadFTP : ", e.getMessage());
    } finally {
        try {
            client.disconnect();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    return status;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:49:12.020

看来您必须自己列出文件并管理下载队列。

# jquery - JQuery 下拉值

> ID：15873423
> 
> 赞同：0
> 
> 时间：2013-04-08T07:20:30.233
> 
> 标签：jquery, drop-down-menu

我有一个包含项目列表的下拉列表，第一个项目的值为 0，其他项目的值大于 0。

以下代码附加到更改事件：

```
<script type="text/javascript">
    $("#SearchRegionId").change(function (e) {
        var select = $("#SearchKommuneId");
        select.empty();
        if ($("#SearchRegionId").val() != 0);
        {
            $.ajax({
                url: '/Kommune/getKommunerIRegion/',
                type: 'POST',
                data: { RegionId: $("#SearchRegionId").val() },
                dataType: 'json',
                success: function (data) {
                    for (i in data) {
                        select.append($('<option value="' + data[i].KommuneId + '">' + data[i].KommuneNavn + '</option>'));
                    }
                }
            });
        }
    });
</script> 
```

我的问题是，当我测试 $("#SearchRegionId").val() != 0 时，即使选择的值为 0，它也始终为真。我已在显示值的警报框中显示了该值0，但有些东西告诉我它并不是真正的 0。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:28:35.240

你有一个`;`在末尾`if`

```
if ($("#SearchRegionId").val() != 0) 
```

`;`结尾表示 if 条件在那里结束，之后的`;`代码块将被执行，而与条件的值无关。

```
<script type="text/javascript">
    $("#SearchRegionId").change(function (e) {
        var select = $("#SearchKommuneId");
        select.empty();
        if ($("#SearchRegionId").val() != 0)
        {
            $.ajax({
                url: '/Kommune/getKommunerIRegion/',
                type: 'POST',
                data: { RegionId: $("#SearchRegionId").val() },
                dataType: 'json',
                success: function (data) {
                    for (i in data) {
                        select.append($('<option value="' + data[i].KommuneId + '">' + data[i].KommuneNavn + '</option>'));
                    }
                }
            });
        }
    });
</script> 
```

演示：[问题](http://jsfiddle.net/NsA5j/5/)
演示：[解决方案](http://jsfiddle.net/NsA5j/3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:27:12.993

你为什么写

```
select.empty(); 
```

分配值后，然后检查它.....

它使

```
var select; 
```

变得空虚，不是吗？我是这么认为的，和[roXon一样](https://stackoverflow.com/users/383904/roxon)

# php - 将数据添加到表格 sql 并存储回新数据库

> ID：15873424
> 
> 赞同：2
> 
> 时间：2013-04-08T07:20:32.640
> 
> 标签：php, sql, database

我也解释一下这有点令人困惑，但我仍然会尽力解释。

因为我是 php 和 mysql 的新手，所以我不明白如何完成这项工作。

请看一下图片，并请指导我的卡点。

![看到这张图片我希望它能解释我需要什么](https://i.stack.imgur.com/Z0GOh.png)

简而言之，我需要的是：如何进行数据库连接和更新等！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:26:48.430

如果您是使用 php 和 mysql 的初学者，以下是您的基本步骤。

* * *

**MSQLI**

*首先：为数据库用户、密码、主机、数据库名设置配置*

```
$conn = new mysqli('database_server','database_username','database_password','database_name'); 
```

*第二：创建一个查询（您可以在此处插入、选择、更新、删除您的查询）..*

```
$result= $conn->query("SELECT * FROM users"); 
```

*最后：使用 MYSQL 函数显示的记录，如..*

```
while($row = $result->fetch_assoc()){
    echo $row['dabatase_columnname'];
    echo $row['database_columnname'];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:28:00.203

```
//For connection setup
$con=mysql_connect("localhost","root","");//For localhost
//DB choosing
mysql_select_db("sampldb",$con);
//For inserting
mysql_query("insert into table1 (name,rollno) values ('$name','$rollno')");
mysql_query("insert into table2 (name,rollno) values ('$name','$rollno')");

Dont update,insert the values in both the table at the time of inserting.So it is easy for you. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T08:00:59.230

首先，您需要使用如下查询从第一个表中选择数据：

```
<?php
//connect to the database server
$objConnect = mysql_connect("localhost","root","Dropje123") or  die(mysql_error()); 
//select the database 
$objDB = mysql_select_db("NAW"); 
//select which data you want to get.
$sql           = "SELECT * FROM tb1";
$objQuery      = mysql_query($sql);
$objResult     = mysql_fetch_array($objQuery);  
?> 
```

然后你需要创建一个像这样的 html 表：

```
<form id="form" action="insert.php" method="post">
<table width="700" border="1">  
<tr>  
<th width="20"> <div align="center">Roll_no </div></th>  
<th width="98"> <div align="center">Name </div></th> 
<th width="98"> <div align="center">Class </div></th>
<th width="98"> <div align="center">Marks </div></th>
<th width="98"> <div align="center">Subject1 </div></th> 
<th width="98"> <div align="center">Sub2 </div></th> 
<th width="98"> <div align="center">Sub3 </div></th> 
<th width="98"> <div align="center">Adress </div></th> 
<th width="98"> <div align="center">Phone </div></th> 
</th>  
</tr>  
<tr>  
<td><input type="hidden" name="Roll_No" value="<?=$objResult["Roll_No"];?>"></td>  
<td><div  align="center"><?=$objResult["Roll_No"];?></div></td>  
<td><input type="text" name="Name" value="<?=$objResult["Name"];?>"></td> 
<td><input type="text" name="Class" size="20"></td> 
<td><input type="text" name="Marks" size="20"></td> 
<td><input type="text" name="Subject1" size="20"></td>  
<td><input type="text" name="Sub2" size="20"></td>  
<td><input type="text" name="Sub3" size="20"></td>  
<td><input type="text" name="Adress" size="20"></td>  
<td><input type="text" name="Phone" size="20"></td>  
</tr> 
<button type="submit" id="send">Verzenden</button>
</form> 
```

这会将插入的数据发送到 insert.php。insert.php 看起来像这样：

```
<html>  
<head>  
<title>Insert</title> 
</head>  
<body>      
<?php
mysql_connect('localhost','root','root');
mysql_select_db('yourdb') or die (mysql_error());

$Roll_No           =    $_POST['Roll_No'];
$Name              =    $_POST['Name'];
$Class             =    $_POST['Class'];
$Marks             =    $_POST['Marks'];
$Subject1         =    $_POST['Subject1'];
$Sub2              =    $_POST['Sub2'];
$Sub3              =    $_POST['Sub3'];
$Adress           =    $_POST['Adress'];
$Phone             =    $_POST['Phone'];

$sql = mysql_query("INSERT INTO db2 (Roll_No, Name, Class, Marks, Subject1, Sub2, Sub3, Adress, Phone) VALUES ('".$Roll_No."', '".$Name."', '".$Class."', '".$Marks."','".$Subject1."', '".$Sub2."', '".$Sub3."', '".$Adress."', '".$Phone."')") or die (mysql_error());

if ($sql === false) {

die (mysql_error());

}

else {

echo 'The data is inserted in the database!.<br><br>
}
?>
</body>  
</html> 
```

您只需稍微编辑此代码即可满足您的需求。我希望这会有所帮助，祝你好运！

编辑：要显示数据库中的所有行，您可以使用这样的 for 循环：

```
<?php 
$i = 0;  
while($objResult = mysql_fetch_array($objQuery))  
{  
$i++;  
?>  
<tr>  
<td><input type="text" name="Roll_No" value="<?=$objResult["Roll_No"];?>"></td>  
<td><input type="text" name="Name" value="<?=$objResult["Name"];?>"></td> 
<td><input type="text" name="Class" size="20"></td> 
<td><input type="text" name="Marks" size="20"></td> 
<td><input type="text" name="Subject1" size="20"></td>  
<td><input type="text" name="Sub2" size="20"></td>  
<td><input type="text" name="Sub3" size="20"></td>  
<td><input type="text" name="Adress" size="20"></td>  
<td><input type="text" name="Phone" size="20"></td>  
</tr> 
<?php  
}  
?> 
```

注意：如果您使用此 for 循环，则必须从 sql 部分中删除以下行，否则它将不会显示数据库中的第一行：

```
$objResult     = mysql_fetch_array($objQuery); 
```

注意 2：这将只显示数据库中的所有行，但如果您提交它，它只会在第二个数据库中插入 1 行。您将需要在 insert.php 中获得某种循环，但我不确定它是如何工作的。

有关 SQL 部分的一些解释，您可以查看[本教程！](http://www.html.net/tutorials/php/lesson20.php)

# python - 从 FTP 检索文件时如何指定本地目标文件夹

> ID：15873427
> 
> 赞同：7
> 
> 时间：2013-04-08T07:20:40.983
> 
> 标签：python, python-2.7, ftp

当前代码会将远程 XML 文件下载到该程序所在的目录。如何指定另一个本地目录作为目标？

如果这里有任何奇怪的代码，也请指出我。:)

```
import ftplib
import os
import os
import socket

HOST = 'ftp.server.com'
DIRN = 'DirectoryInFTPServer'
filematch = '*.xml'
username = 'username'
password = 'password'

def main():
    try:
        f = ftplib.FTP(HOST)
    except (socket.error, socket.gaierror), e:
        print 'ERROR: cannot reach "%s"' % HOST
        return
    print '*** Connected to host "%s"' % HOST

    try:
        f.login(username, password)
    except ftplib.error_perm, e:
        print 'ERROR: cannot login'
        f.quit
        return
    print '*** Logged in successfully'

    try:
        f.cwd(DIRN)
    except ftplib.error_perm, e:
        print 'ERROR: cannot CD to "%s"' % DIRN
        f.quit()
    print '*** Changed to folder: "%s"' % DIRN

    try:
        s = 0;
        for filename in f.nlst(filematch):
            fhandle = open(filename, 'wb')
            print 'Getting ' + filename
            f.retrbinary('RETR ' + filename, fhandle.write)
            s = s + 1
    except ftplib.error_perm, e:
        print 'ERROR: cannot read file "%s"' % filename
        os.unlink(filename)

    f.quit()
    print 'Files downloaded: ' + str(s)
    return

if __name__ == '__main__':
    main() 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-08T07:33:31.930

使用[os.chdir()](http://docs.python.org/2/library/os.html)更改本地工作目录，然后在获取文件后将其更改回来。

我已经用 a 标记了添加的行`####`

```
import ftplib
import os
import os
import socket

HOST = 'ftp.server.com'
DIRN = 'DirectoryInFTPServer'
filematch = '*.xml'
username = 'username'
password = 'password'
storetodir='DirectoryToStoreFilesIn' ####
def main():
    try:
        f = ftplib.FTP(HOST)
    except (socket.error, socket.gaierror), e:
        print 'ERROR: cannot reach "%s"' % HOST
        return
    print '*** Connected to host "%s"' % HOST

    try:
        f.login(username, password)
    except ftplib.error_perm, e:
        print 'ERROR: cannot login'
        f.quit
        return
    print '*** Logged in successfully'

    try:
        f.cwd(DIRN)
    except ftplib.error_perm, e:
        print 'ERROR: cannot CD to "%s"' % DIRN
        f.quit()
    print '*** Changed to folder: "%s"' % DIRN

    currdir=os.getcwd() ####

    try:
        os.chdir(storetodir)####
        s = 0;

        for filename in f.nlst(filematch):
            fhandle = open(filename, 'wb')
            print 'Getting ' + filename
            f.retrbinary('RETR ' + filename, fhandle.write)
            s = s + 1
    except ftplib.error_perm, e:
        print 'ERROR: cannot read file "%s"' % filename
        os.unlink(filename)
    os.chdir(currdir) ####
    f.quit()
    print 'Files downloaded: ' + str(s)
    return

if __name__ == '__main__':
    main() 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-08T07:43:48.483

ftplib 的默认行为是将所有文件从服务器复制到当前工作目录 (CWD)。

要指定文件的位置，您可以临时修改 CWD 使用[`os.chdir()`](http://docs.python.org/2/library/os.html)，您可以使用找到当前 CWD[`os.getcwd()`](http://docs.python.org/2/library/os.html)

* * *

使用示例：

```
>>> import os
>>> os.getcwd()
'C:\\python'
>>> tmp_a = os.getcwd()
>>> os.chdir('C:/temp')
>>> os.getcwd()
'C:\\temp'
>>> os.chdir(tmp_a)
>>> os.getcwd()
'C:\\python' 
```

# jquery - jQuery 验证器在每次提交时隐藏错误，无论字段是否有效

> ID：15873434
> 
> 赞同：0
> 
> 时间：2013-04-08T07:20:58.113
> 
> 标签：jquery, jquery-validate

SRS：我需要验证一个包含 5 个电子邮件字段的表单。规则如下：无论放置和订单如何，至少其中一个字段应该是有效的电子邮件。

到目前为止我的代码：

```
 $("#frm_referral_email").validate({
    rules: {
        referral_invitation_text: {required: true}
    },
    messages: {
        referral_invitation_text: "Enter your message"
    },
    // the errorPlacement has to take the table layout into account
    errorPlacement: function(error, element) {
            if (error.html() != "")
                error.appendTo( element.parent().next() );
    },
    // specifying a submitHandler prevents the default submit, good for the demo
    submitHandler: function() {
        // if(!("#frm_referral_email").valid())
        //  return false;
        var valid = true;
        $('.referral_email').each(function(){
            if($(this).hasClass('error')){
                valid = false;
                return true;
            }
        });
        if(!valid){
            return false;
        }
        var coworker_invitation_text = $('#frm_referral_email #referral_invitation_text').val();
        var coworker_invitation_text_ext = $('#frm_coworker_email #referral_invitation_text_ext').html();
        var referral_email_coworker_sent = $('#coworker_email_sent').val();
        var referral_email_not_sent = $('#coworker_email_not_sent').val();
        var user_full_name = $('#user_full_name').val();
        var from_email = $('#user_email').val();
        var referral_email_arr = [];
        var i = 0;

        $('.referral_email').each(function()
        {

            var elem = $(this);

            if (elem.val().indexOf("example") < 0 && elem.val() != ""){
                coworker_email_arr.push(elem.val());
                i++;
            }
        });

        if (i ==0 ){
            $("#frm_referral_msg").html(get_phrase("enter_emails"));
            return;
        }

        var email_send = new email_generator(referral_email_arr,from_email, get_phrase("invite_subject") ,coworker_invitation_text, referral_email_invatation_text_ext,referral_email_sent,referral_email_not_sent);
        email_send.send('frm_coworker_msg');
    },
    // set this class to error-labels to indicate valid fields
    success: function(label) {
        // set &nbsp; as text for IE
        //label.html("&nbsp;").addClass("checked");
    }

});
$(".coworker_email, .coworker_email.error").rules("add", { 
                // require_from_group: [1, '.referral_email'],
                email:true,
                required:  {
                        depends: function(element){
                            var sumUp = 0;

$(".coworker_email").each(function(){
                                sumUp += $(this).val().length;
                    });
                    if(sumUp == 0)
                        return true;
                    else
                        return false;
                    }
                },

    messages: "Please enter at least one valid email"
}); 
```

HTML：

```
 <div>
                        <span style='text-align:left;'><?=get_phrase("EmailAddresses")?>:</span>
                        <br/>
                        <input type='text' class='referral_email' placeholder='example@<?=$company_domain_name?>'/>
                        <br/>
                        <input type='text' class='referral_email' placeholder='example@<?=$company_domain_name?>'/>
                        <br/>
                        <input type='text' class='referral_email' placeholder='example@<?=$company_domain_name?>'/>
                        <br/>
                        <input type='text' class='referral_email' placeholder='example@<?=$company_domain_name?>'/>
                        </div>
                        <div class='error_msg'></div> 
```

在我看来，这太复杂了，因为我想要实现的目标非常简单。尽管我做了很多侧面来确保它的功能，但仍然存在错误，例如如果你在最后一个字段中输入了错误的输入，然后按两次提交，错误消息就会消失，我不知道哪个合理解释可以解释这种行为。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T14:25:06.217

> “在我看来，这太复杂了，因为我想要实现的目标非常简单。”

你是对的，你让它变得比它需要的更复杂。

> “如果您在最后一个字段中输入错误，然后按两次提交，错误消息将消失，我不知道哪种合理的解释可以解释这种行为。”

jQuery Validate 插件要求您`name`在所有输入字段上都有一个属性才能正常运行。如果没有`name`属性，插件就无法跟踪输入，并且行为非常不可预测。

此外，[文件`additional-methods.js`中](http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/additional-methods.js)还有一个名为`require_from_group`. 当您第一次尝试它时它可能不起作用，因为您的`input`元素都缺少该`name`属性。

**工作演示：http: [//jsfiddle.net/zny9d/](http://jsfiddle.net/zny9d/)**

我还将它与将此分组的所有错误消息合并为一个[的`groups`选项相结合。](http://docs.jquery.com/Plugins/Validation/validate#toptions)

```
$(document).ready(function () {

    $('#myform').validate({
        groups: {
            group: "name1 name2 name3 name4 name5"
        },
        rules: {
            name1: {
                require_from_group: [1, '.referral_email'],
                email: true
            },
            name2: {
                require_from_group: [1, '.referral_email'],
                email: true
            },
            name3: {
                require_from_group: [1, '.referral_email'],
                email: true
            },
            name4: {
                require_from_group: [1, '.referral_email'],
                email: true
            },
            name5: {
                require_from_group: [1, '.referral_email'],
                email: true
            }
        }
    });

}); 
```

**HTML**：

```
<form id="myform">
    <input type='text' name='name1' class='referral_email' />
    <input type='text' name='name2' class='referral_email' />
    <input type='text' name='name3' class='referral_email' />
    <input type='text' name='name4' class='referral_email' />
    <input type='text' name='name5' class='referral_email' />
</form> 
```

* * *

在不相关的注释中，您不需要在此处使用条件：

```
errorPlacement: function(error, element) {
    if (error.html() != "")
        error.appendTo( element.parent().next() );
}, 
```

每当此回调触发时，`error.html()`永远**不会**为空，因此首先测试它是否为空是没有意义的。

这将具有相同的功能：

```
errorPlacement: function(error, element) {
    error.appendTo( element.parent().next() );
}, 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T09:56:05.153

自定义验证方法将适用于这种情况

**JS (JavaScript)**

```
//valid email checking function
function validateEmail(email) {
    var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(email);
}

//custom method for jquery validator
$.validator.addMethod('refEmail', function (value, element, params) {
    var num_valid = 0;
    $(params).each(function () {
        if (validateEmail($(this).val()))
            num_valid++
        });
    return num_valid != 0;
}, 'Please enter at least one valid email address');

//specifying custom validator for your elements after $("#frm_referral_email").validate();
$('.referral_email').rules('add', {
    required: false,
    refEmail: '.referral_email'
}) 
```

**请注意，您必须*填写必填*字段才能使用`$('.referral_email')`。最终将*不需要*这些字段，因为我们在自定义方法中为它们设置**`required: false`****

 ****我知道可能有其他方法可以实现相同的目标。**

注意：您应该删除**所有**其他验证方法`.referral_email`以促进此特定验证要求。**

# java - 带有数据库的Android应用程序以便人们可以共享数据？

> ID：15873435
> 
> 赞同：0
> 
> 时间：2013-04-08T07:20:59.813
> 
> 标签：java, android, database

我正在设计一个安卓应用程序，用户可以编写一个小文档，在其中附加一些图片，并分享给其他朋友。

我只知道 Java 和 C++，希望我可以用 Java 构建应用程序。但是，我从未使用其他语言进行过编程，所以我不知道如何将这个应用程序制作成不仅用户可以单独使用，而且还可以共享他们想要的一些信息的东西。

由于时间和金钱有限，我非常愿意学习新技术，但并不过分。

我该如何做到这一点，以及需要哪些语言/技术来实现这一点？

例如，我是否需要一个用于注册和登录的网页，或者我可以不使用网页就开始？

无论哪种方式，我肯定需要一个带有服务器的数据库来实现这一点。我为此学习了哪些技术？

如果人们共享信息，是否有必要对其进行加密，我应该为此学习什么？

我还没有准备好，所以我会花时间学习所有这些并成为一名熟练的开发人员。

提前感谢您的建议！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T07:24:22.950

这可能会对您有所帮助：[https](https://developer.android.com/training/basics/data-storage/databases.html) ://developer.android.com/training/basics/data-storage/databases.html （在 SQL 数据库中保存数据）

只需参考 android 开发者网站，您可能会发现大部分情况都会得到解决！^_^

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:25:40.377

我不能更具体，因为你问的一切完全取决于你。您可以选择 100 多个数据库。你可以有一个网站，也可以没有。一个注册站点，如果您使用 facebook 或其他网站，则不是。您可以使用加密，也可以不使用。如果您使用它，我建议使用 HTTPS 和 SSL，因为它们是标准的。

* * *

> 例如，我是否需要一个用于注册和登录的网页，或者我可以不使用网页就开始？

是的，要么。

> 无论哪种方式，我肯定需要一个带有服务器的数据库来实现这一点。我为此学习了哪些技术？

您需要学习如何使用数据库，以及如何管理服务器。也许有点关于硬件。

> 如果人们共享信息，是否有必要对其进行加密，我应该为此学习什么？

除非您想保护数据，否则我不会从加密开始。您可以稍后执行此操作。

# ajax - 如何在 ajax/jquery 中将用户定义的对象发送到控制器

> ID：15873437
> 
> 赞同：0
> 
> 时间：2013-04-08T07:21:11.283
> 
> 标签：ajax, asp.net-mvc, jquery

这是我的html

```
<input type="text" name="name" id="name" />
    <input type="text" name="age" id="age" />
    <input type="button" id="button" value="Submit"/> 
```

以下是JS

```
<script type="text/javascript">
        $(document).ready(function () {
            $("#button").click(function () {
                var personalInfo = new Object();
                personalInfo.name = $("#name").val();
                personalInfo.age=$("#age").val();

                $.ajax({
                    type: "GET",
                    url: "@Url.Action("SubmitForm","Account")",
                    data: 'myPersonalInfo='+personalInfo,
                    success: function () { alert("a"); }
            });
            });
        });

        </script> 
```

以下是我的控制器方法

```
public ActionResult SubmitForm(string name,string age) 
        {
            Session["Name"]=name;
            Session["Age"]=age;

            return View();
        } 
```

我必须将用户定义的对象（PersonalInfo）发送到服务器并获取其值以维护会话。应该怎么做？请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:24:30.820

您可以像这样传递值：

```
$(document).ready(function () {
    $('#button').click(function () {
        $.ajax({
            type: 'GET',
            url: '@Url.Action("SubmitForm", "Account")',
            data: { 
                name: $("#name").val(), 
                age: $("#age").val() 
            },
            success: function () { 
                alert("a"); 
            }
        });
    });
}); 
```

# android - android中的youtubeactivity

> ID：15873439
> 
> 赞同：0
> 
> 时间：2013-04-08T07:21:17.643
> 
> 标签：android

我创建了一个示例代码来查看 youtube 活动。

```
Here's the code,
package com.example.newandroid;

import android.os.Bundle;
import android.util.Log;
import android.widget.Toast;
import com.google.android.youtube.player.YouTubeBaseActivity;
import com.google.android.youtube.player.YouTubeInitializationResult;
import com.google.android.youtube.player.YouTubePlayer;
import com.google.android.youtube.player.YouTubePlayer.Provider;
import com.google.android.youtube.player.YouTubePlayerView;
public class VideoActivity extends  YouTubeBaseActivity implements     
     YouTubePlayer.OnInitializedListener{
String urlVideo;
public void onCreate(Bundle savedInstance){

    super.onCreate(savedInstance);
    setContentView(R.layout.main);

      urlVideo="5lbVNYAeFiQ";

      YouTubePlayerView youTubeView = (YouTubePlayerView) 
                              findViewById(R.id.youtube_api_demo);

        youTubeView.initialize("MY_API_KEY", this);
}
   @Override
   public void onInitializationFailure(Provider arg0,
    YouTubeInitializationResult arg1) {
    // TODO Auto-generated method stub
   Toast.makeText(this, "Error ", Toast.LENGTH_LONG).show(); 
    }

   @Override
    public void onInitializationSuccess(Provider arg0, YouTubePlayer arg1,
    boolean arg2) {
// TODO Auto-generated method stub
Toast.makeText(this, "Success ", Toast.LENGTH_LONG).show(); 

      }
        } 
```

我创建了 main.xml，

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
   android:layout_width="match_parent"
  android:layout_height="match_parent"
    android:orientation="vertical" >
 <youtube_api_demo 
 android:name="com.google.android.youtube.player.YouTubePlayer"
    android:id="@+id/youtube_api_demo"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"/>
</LinearLayout> 
```

我的 manifest.xml 是

```
 <?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
  package="com.example.newandroid"
  android:versionCode="1"
  android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="17" />
  <uses-permission android:name="android.permission.INTERNET"/>

 <application  android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >

  <activity
    android:label="@string/youtube_api_demo"
    android:name="com.example.newandroid.VideoActivity">
  <intent-filter >
    <action android:name="android.intent.action.MAIN" />
    <category android:name="android.intent.category.LAUNCHER" />
  </intent-filter>
  <meta-data android:name="@string/isLaunchableActivity" android:value="false"/>
   </activity>
  </application></manifest>. 
```

这段代码有什么问题。我收到以下错误，android.view.InflateException: Binary XML file line #6: Error inflating class

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:29:59.510

它，大概，应该是

```
<com.google.android.youtube.player.YouTubePlayerView
   android:id="@+id/youtube_api_demo"
.....
/> 
```

# cassandra - Cassandra：如何从多个表中读取数据

> ID：15873446
> 
> 赞同：1
> 
> 时间：2013-04-08T07:21:40.440
> 
> 标签：cassandra, hector

我正在使用 hector 在 java 中访问 c​​assandra。我有四个表：users、comments、user_like、user_recommend。user_like 和 user_recommend 表有一个计数器列。现在我想根据用户 ID 一起访问所有四个表中的数据。我该怎么做？我应该从所有表中单独获取给定的 userId 数据，还是有什么方法可以一次性获取？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T14:56:27.333

Unfortunaletly queries are bound to column families. So each column family will need one query.

If you want to read everything in one read think about putting everything in one column family, or even better in one row.

Here is how I would do it:

## Right now you have :

CF "comments"
"user1" => //row
column "name1" = "value1" //column

CF "user_like" "user1" => //row column "name2" = "value2" //column

CF "user_recommend"
"user1" => //row
column "name3" = "value3" //column

This needs 3 queries because you have 3 Column families.

## Everything in one column family would be :

CF "users"
."user1_comments" => //row
...column "name1" = "value1" //column
."user1_likes" => //row
...column "name2" = "value2" //column
."user1_recommends" => //row
...column "name3" = "value3" //column

This is way better but still sub-optimal. You cane get everything with multi_get queries. Those queries are slower since they could need to wait on many nodes in the cluster to return (different keys can fall in different nodes event if they are quite similar)

## Optimal : Everything in one row.

CF "users"
."user1" => //row
...column "comments:name1" = "value1" //column
...column "likes:name2" = "value2" //column
...column "recommends:name3" = "value3" //column

You can get everything with one row read. If you only want to get comments, likes or recomments separately you can do it with range queries. Since everything is in one row your queries will tend to be a lot faster. Cassandra can handle very wide rows very well so you should not worry about those.

A good phylosophy for cassy is "If you read it together (at the same time) then save it together (at the same location)".

## EDIT : Trick for doing counters without counters.

Cassandra is very good at writing new values all the time (in fact that is 100% of what it does in the background). Plus counting columns in a row or in a range of that row is quite fast. So I came up with a way to do "counters" that can be used to prevent counting duplicates. NOTE : this works only for unitary increments (+1 ... liks likes, upvotes and whatnot).

All you need to do is write a new column in a row that represents that counter: If you want to allow duplicate make the column name a timeUuid or a time stamp. Otherwize make it the id of the message he liked (this way if he clicks on the like twice it still counts as one like).

Now you have two solutions: Fire multiple queries to count the columns or read everything in one read and count using java.util.Collection.size().

This solution does use cassandra's strong points but it might not suit everybody especially if you want to avoid very wide rows. Know that Cassandra can handle very wide rows but you might get memory issues with the Collection you use to count in your app.

You could end up with something likes this:

CF "users"
."user1" =>
...column "comment:name1" = "value1"
...column "comment:name2" = "value2"
...column "likes:43f54880-a0fb-11e2-aafa-f1dce92b7e5b" = "1" //time uuids here
...column "likes:43f54881-a0fb-11e2-aafa-f1dce92b7e5b" = "1"
...column "likes:43f54882-a0fb-11e2-aafa-f1dce92b7e5b" = "1"
...column "likes:43f54883-a0fb-11e2-aafa-f1dce92b7e5b" = "1"
...column "recommend:7ba30e15-2b76-4aaa-b2d0-f8419a80a769" = "1" // uuid of the recommended item
...column "recomment:603879cc-d7b0-4767-ad27-e5dd4aa34f62" = "1"

# wpf - 监听列表框绑定完成事件

> ID：15873453
> 
> 赞同：0
> 
> 时间：2013-04-08T07:21:54.030
> 
> 标签：wpf

我有一个简单的列表框，显示一些从我的电脑上的文件夹中收回的图像。如果图像文件很多，有没有办法让我显示加载图像直到项目绑定完成，所以用户不会认为应用程序崩溃或卡在某个地方？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:32:56.113

另一种解决方案：

您在后台工作人员（新线程）中加载列表框项目。例如，如果您在表单加载中加载数据，那么您将运行您的后台工作程序。在您的后台工作人员中，您将项目加载到列表框中。这将确保您的 UI 保持响应。并且您可以在一个一个加载或加载结束时显示您的列表框项目（取决于您的实现）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:33:31.700

[在 SO (link)](https://stackoverflow.com/questions/2655850/a-loading-screen-for-a-c-sharp-wpf-listbox)上有一个类似的问题，建议使用 BackGroundWorker 在不阻塞 UI 的情况下进行加载，并使用装饰器来可视化加载。一个很好的例子就是这个教程：[Loading Wait Adorner](http://www.codeproject.com/Articles/57984/WPF-Loading-Wait-Adorner)

# performance - 从 Oracle 中删除大量数据

> ID：15873456
> 
> 赞同：0
> 
> 时间：2013-04-08T07:21:58.570
> 
> 标签：performance, oracle

从表中删除大记录的最佳方法是什么？我有一个要求，我需要每周从一个表中删除大约 3000 万条记录。这里的问题是，存在 UNDO 保留问题。我打算将我的删除语句分成几块，这样它会有所帮助。

当前声明

```
DELETE FROM LARGE_TABLE WHERE LARGE_ID ='someValue'; 
```

表详情：

1.Table 将有大约 7000 万条记录。

2.删除至少会影响40-45%的表。

3.表不分区。

计划将语句更改为

```
LOOP 

DELETE FROM LARGE_TABLE WHERE LARGE_ID ='someValue' and ROWNUM <'some row number';
COMMIT;
select count(1) INTO nCountValue from LARGE_TABLE WHERELARGE_ID ='someValue' ;
EXIT WHEN nCountValue = 0;

END LOOP; 
```

主要思想是这将减少UNDO保留。

问题，这是最好的做法吗？如果没有，任何指针？请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:27:54.667

在这种情况下，我将

```
CREATE TABLE LARGE_TABLE_NEW AS
SELECT * FROM LARGE_TABLE 
WHERE LARGE_ID <> 'someValue';

rename LARGE_TABLE to LARGE_TABLE_old;

Rename LARGE_TABLE_new to LARGE_TABLE; 
```

验证一切正常，然后；

```
drop table LARGE_TABLE_OLD; 
```

重新创建索引、约束（最好在删除之前保存它们）；

这会更快，因为插入比删除快。更多更快。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T05:30:23.797

要永久删除表，如果您的数据库是 10G，请使用清除

删除表 LARGE_TABLE_OLD 清除；

因为，从 10g 删除的表可以被替换，所以要[永久删除它](http://newtonapples.com/oracle-sql-drop-table/)，需要使用 purge。

# powerbuilder - Sybase 到 Oracle - PowerBuilder 应用程序迁移

> ID：15873457
> 
> 赞同：2
> 
> 时间：2013-04-08T07:22:00.773
> 
> 标签：powerbuilder, powerbuilder-conversion

我们计划将 Sybase 迁移到 Oracle。该应用程序是在 PowerBuilder 中开发的。我们是否有任何工具可以找到在 PowerBuilder Application 中编写的内联 SQL？另外，请分享一些迁移需要遵循的最佳实践。

请注意，我们正在进行应用程序迁移而不是数据库迁移。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T12:18:24.857

对于内联 SQL，请查看 Terry Voth 的[PBL Peeper](http://www.techno-kitten.com/PBL_Peeper/pbl_peeper.html)。

# ios - 在 Windows 中打开 Xcode 项目

> ID：15873461
> 
> 赞同：9
> 
> 时间：2013-04-08T07:22:10.773
> 
> 标签：ios, xcode, windows

我已经**在 Mac 桌面上为 iPad**开发了我的应用程序，现在我必须向某人展示完整的项目。不幸的是，我没有**MAC Notebook**，我只有一台装有**Windows 操作系统**的笔记本电脑。如何以与在 Xcode 中相同的方式在 Windows 上打开和查看我的 Xcode 项目？

注意：我不想**编译或调试**我的项目，我只想在编辑器中打开并**查看项目**，它为我提供了一些基本功能，如语法突出显示和**有组织的源代码和资源**。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-05-06T23:05:06.913

如果你再次遇到这种情况，你可以试试[Sublime Text](http://www.sublimetext.com/ "崇高的文本")。我刚刚打开了一个包含 xcode 项目的文件夹，并以您描述的方式打开了它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:29:11.530

你必须安装虚拟机来实现这一点。但这确实是一个痛苦的过程，因为有大量的下载和需要遵循的步骤。通过以下链接：http: [//ipodtoucher55.blogspot.in/2010/12/installing-ios-sdk-and-xcode-on-windows.html](http://ipodtoucher55.blogspot.in/2010/12/installing-ios-sdk-and-xcode-on-windows.html)

但是对于仅在 windows 中查看项目而言，这不是一件实际的事情。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:45:25.060

在两台机器上安装[TeamViewer](http://www.teamviewer.com) ..

通过 TeamViewer 登录您的 MAC 并显示代码。

# metrics - 石墨：长时间使用 holtWintersConfidenceBands（为了准确）但获得最后 x 分钟的数据点

> ID：15873468
> 
> 赞同：0
> 
> 时间：2013-04-08T07:22:21.023
> 
> 标签：metrics, graphite, statsd

有没有办法在很长一段时间内执行 holtWintersConfidenceBands 但只获得最后 x 分钟的数据点？例如：我想在过去 30 天执行 holtWintersConfidenceBands 函数，但只获得最后 30 分钟的结果。

当然，我可以在我的客户端上进行过滤，但是有没有办法通过 Graphite 服务器本身来实现它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-29T17:43:28.677

这取决于您在 30 天间隔内存储的数据点的频率。如果你要存储 1 小时的数据点，你将不得不做一些额外的工作来获得你想要的数据。

您可以只使用 Graphite API，将数据作为 JSON 弹出，然后解析 datapoints 数组以获得所需的数据。基本上，在您对 Graphite 服务器进行的任何 Graphite API 调用中，只需添加 format=json 作为参数。

# c# - 从函数返回错误消息的最佳方法是什么？

> ID：15873470
> 
> 赞同：7
> 
> 时间：2013-04-08T07:22:29.377
> 
> 标签：c#, .net

如果遇到这样的逻辑错误错误`(Expired user, invalid ID)`，那么从以下内容中告诉父方法此错误的最佳方法是什么：

1- 抛出自定义异常，如下所示：

```
 try
{
//if (ID doesn't match) then 
Throw new CustomException(-1,"ID doesn't match");
}
catch(CustomException ex)
{
throw ex
}
catch(Exception ex)
{
throw new CustomException(ex.ErrorCode,ex.message);
} 
```

2-返回错误消息和代码，如：

```
//if (ID doesn't match) then 
This.ErrorCode= -1;
This.Message= "ID doesn't match"; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T07:25:00.807

更好的方法是抛出自定义异常。这就是他们被介绍的原因。如果您需要提供特定信息，例如`ErrorCode`或其他内容，您可以轻松扩展基`Exception`类来执行此操作。主要原因是：

*   您可以忽略从您的函数返回的无效错误代码，这可能会导致您的系统状态已损坏，而`Exception`这是您无法忽略的情况。
*   如果你的函数做了一些有用的事情，那么它应该返回一些你感兴趣的数据而不是错误代码，这会给你更可靠的设计。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-10-31T23:35:19.087

> 如果遇到诸如（过期用户，无效ID）之类的逻辑错误错误，那么告诉父方法此错误的最佳方法是什么

1.  由于您希望父方法知道错误，因此在调用该方法之前您不确定它`ID`是否有效并且`User`未过期。`GetUser`对？

2.  如果您不确定传递给函数的参数是否有效，则使用异常是不合理的，您应该返回错误信息。

3.  您可以以类似于 Scala、Go 和 Rust 语言所建议的更实用的方式返回错误信息。

创建一个泛型类以返回错误或值

```
public class Either(of ErrorType, ValueType)
    public readonly Success as boolean
    public readonly Error as ErrorType
    public readonly Value as ValueType

    public sub new(Error as ErrorType)
        me.Success = False
        me.Error = Error
    end sub

    public sub new(Value as ValueType)
        me.Success = True
        me.Value = Value
    end sub
end class 
```

创建您的函数可能具有的错误的枚举

```
public enum UserError
    InvalidUserID
    UserExpired
end enum 
```

创建一个将用户 ID 作为参数并返回错误或用户的函数

```
function GetUser(ID as integer) as Either(of UserError, User)

    if <business logic to find a user failed> then
        return new Either(of UserError, User)(UserError.InvalidUserID) 
    end if

    if <user expired> then
        return new Either(of UserError, User)(UserError.UserExpired)
    end if

    return new Either(of UserError, User)(User)
end function 
```

在调用者（父）方法中检查错误并应用业务逻辑

```
dim UserID = 10
dim UserResult = GetUser(10)

if UserResult.Success then
    rem apply business logic to UserResult.Value
else
    rem apply business logic to UserResult.Error
end if 
```

注意：如果您使用异常重写此代码，您将获得完全相同数量的代码。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-08T07:27:03.023

在大多数情况下，您应该抛出异常。这是标准异常还是自定义异常取决于上下文，但与流程无关。

抛出异常会强制任何实现相应地处理不良数据。如果您依赖实现来检查属性值以进行正确处理，那么迟早会遇到意外的、更难调试的异常。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-08T07:27:25.080

我想你应该使用例外，因为它是准确的，它们是做什么的。您可以将相同的信息放在那里，就像在第二种情况下一样。但是第 1 次和第 2 次之间的区别在于，您让函数使用者有可能被告知有问题，并且**必须**以某种方式进行处理。在第二种情况下，您只是说该功能有效，但是出了点问题，用户**可以**处理此信息

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-08T07:28:58.240

这完全取决于您项目的工作流程。如果这是一个意外的运行计时器错误并且它禁止您的程序，那么异常是一个不错的选择，但对于简单的输入检查和预期的输出，您应该使用枚举器

# wordpress - 我的 wordpress 网站上的 Chrome 和 IE 中显示了一条不需要的消息

> ID：15873473
> 
> 赞同：0
> 
> 时间：2013-04-08T07:22:45.753
> 
> 标签：wordpress, twitter-bootstrap, spam-prevention

在我的 chrome 和 IE.like 的 wordpress 网站中出现了一条不需要的通缉消息：

```
<div class="blogtext2">
    <p>Unfortunately it provides a more difficulty than Which Is Better The Levitra Are The Cialis <a href="http://happylove.com.au" title="Which Is Better The Levitra Are The Cialis">Which Is Better The Levitra Are The Cialis</a> the established credit options available.Conventional banks by means of incomeif your age or financial cytotec generique <a href="http://buy2cytotec.com" title="cytotec generique">cytotec generique</a> company has never being foreclosed on track.Turn your online today this flexibility saves customers synthroid 50mcg <a href="http://buy4synthroid.com" title="synthroid 50mcg">synthroid 50mcg</a> that suits your entire loan.At that our approvals at conventional lending bupropion sr <a href="http://buy3wellbutrinsr.com" title="bupropion sr">bupropion sr</a> law we come around.Unlike a borrow money in which Plaintiffs Who Won Their Viagra Lawsuit In Court In 2010 <a href="http://buy1viagra.com" title="Plaintiffs Who Won Their Viagra Lawsuit In Court In 2010">Plaintiffs Who Won Their Viagra Lawsuit In Court In 2010</a> determine whether to them.Should you work together with get http://buy8tadacip.com <a href="http://buy8tadacip.com" title="http://buy8tadacip.com">http://buy8tadacip.com</a> yourself personal initial limits.Unsecured loans responsibly a paperless payday and buy clomid <a href="http://buy4clomid.com" title="buy clomid">buy clomid</a> proof that rarely exceed.With so it should find in buying the cheap inderal <a href="http://buy5inderal.com" title="cheap inderal">cheap inderal</a> loanin order to think cash quickly.Getting faxless hour loans who manage to spent it amoxicillin side effect <a href="http://buy9amoxil.com" title="amoxicillin side effect">amoxicillin side effect</a> after we are wary of unwelcome surprises.Ideal if so any unforeseen medical 500 mg ciprofloxacin <a href="http://buy6cipro.com" title="500 mg ciprofloxacin">500 mg ciprofloxacin</a> bankruptcy on for themselves.Third borrowers within days there unsecured loans feature online zovirax discount <a href="http://buy1zovirax.com" title="online zovirax discount">online zovirax discount</a> no upfront fees for your state.Seeking a loan even the reputation of personal protection against tadalis sx 20mg <a href="http://buy8tadalissx.com" title="tadalis sx 20mg">tadalis sx 20mg</a> possible identity or an easier for use.Open hours from finding a need them in Cialis Soft Tabs Half <a href="http://buy2cialis.com" title="Cialis Soft Tabs Half">Cialis Soft Tabs Half</a> via the assets available or days.Taking out for your set aside for online lenders and azithromycin 250 mg <a href="http://buy4zithromax.com" title="azithromycin 250 mg">azithromycin 250 mg</a> agrees to individuals are known as money.Do you show at financial able proscar drug <a href="http://buy8proscar.com" title="proscar drug">proscar drug</a> to what their loan.</p>
</div> 
```

我找不到它有什么问题。检查我的文件后，我发现我的 header.php 文件中有两个元标记：

```
<meta name="google-site-verification" content="d-uffgfgfgfgfgfgfgfgfNyoCOaEhWs" />
<meta name="msvalidate.01" content="sassasasdfdthghhyhyhyhyhybffg" /> 
```

删除这些行后，消息从 chrome 中消失，但仍显示在 IE 中。请帮帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:56:32.727

好吧，您可以尝试的第一件事是清理 cookie，然后刷新页面。

如果您提供（个人信息）博客网址会很好:-)

是否安装了任何可疑的插件？尝试删除它。

如果我认为另一种方式，我认为这是出现在您的主页上的垃圾评论。找到此文本所在的位置。

它是否出现在其他页面上，例如单个博客文章或页面？

# javascript - 将 C# 2D 数组 (object [,]) 转换为 javascript 2D 数组

> ID：15873475
> 
> 赞同：0
> 
> 时间：2013-04-08T07:22:52.370
> 
> 标签：javascript, multidimensional-array

我正在编写一个 APS.NET MVC 应用程序，它从 DB 中读取数据并将其与谷歌图表一起呈现。

我正在将 C# 中的 DB 中的数据读取到 2D 数组中，并且需要将其传递给生成 google 图表的我的 javascript 代码。

我的代码：

```
ViewBag.Data = new object[,]
        {
            {"10:00:00",10},
            {"11:00:00", 20}
        };

@{
    Object[,] arr = ViewBag.Data;    

} 
```

我的Javascript代码：

```
var jsArray = @Html.Raw(Json.Encode(arr));// Only working for 1D array
var data = google.visualization.arrayToDataTable(jsArray); 
```

我无法将 C# 代码中的 2D 数组传递给我的 javascript 代码来生成所需的图表。我只看到将一维数组从 C# 转换为 javascript 的示例（见上文）。

有任何想法吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:24:43.987

您可以尝试 JavascriptSerializer C# 类（[http://msdn.microsoft.com/en-us/library/system.web.script.serialization.javascriptserializer.aspx](http://msdn.microsoft.com/en-us/library/system.web.script.serialization.javascriptserializer.aspx)）。它基本上将 C# 对象转换为 JSON。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:25:22.083

你不能在你的 C# 代码中将它序列化为 JSON 并在你的 javascript 代码中解析它（JSON.parse）吗？

# linux-kernel - 有关内核数据结构的信息

> ID：15873476
> 
> 赞同：0
> 
> 时间：2013-04-08T07:22:53.700
> 
> 标签：linux-kernel, kernel

我在阅读时遇到了这个词内核数据结构。

试图找到有关此的信息，但找不到。

想知道

*   什么是内核数据结构？
*   它的要求、用途、访问？
*   内核内部的内核数据结构的组织

内核数据结构的示例可能是 file_operations 或 c_dev。

如果幼稚，建议一些材料来参考。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:25:45.827

参考这些文章：

[http://kernelbook.sourceforge.net/](http://kernelbook.sourceforge.net/)

[http://www.linux-tutorial.info/modules.php?name=MContent&pageid=256](http://www.linux-tutorial.info/modules.php?name=MContent&pageid=256)

[http://tldp.org/LDP/tlk/ds/ds.html](http://tldp.org/LDP/tlk/ds/ds.html)

很少有书也能帮助你。

[Linux 内核架构](https://rads.stackoverflow.com/amzn/click/com/0470343435)

[了解 Linux 内核](https://rads.stackoverflow.com/amzn/click/com/0596005652)

希望它会帮助你。

# sql - 在 Oracle 中更改对象类型定义以添加更多列

> ID：15873477
> 
> 赞同：1
> 
> 时间：2013-04-08T07:22:56.737
> 
> 标签：sql, oracle, plsql, oracle10g, type-conversion

我在我的**PL/SQL**过程中使用具有大约 36 个不同数据列的自定义类型作为数组，它允许我以数组的形式返回数据，**我**可以根据需要在前端进行修改。根据要求，我需要修改自定义类型，现在需要修改我发送的现有列数据，即，我需要再添加 2 个列数据。是否可以使用修改现有数据类型，`ALTER`或者我`Replace`只需要使用相同的数据类型？我正在使用 Oracle 10g，并且正在寻找一种`ALTER`仅使用的方法

我的自定义数据类型的现有定义是：

```
create or replace
Type TYPE_RD_CONTRACT_PRODUCT_PRICE as Object
(
       CONTRACT_PRODUCT_TERM_ID NUMBER,
       SHIP_FROM_ORG_ID         NUMBER,
       SHIP_FROM_ORG_NUMBER     VARCHAR2(64),
       SHIP_FROM_ORG_NAME       VARCHAR2(128),
       SHIP_TO_ORG_ID           NUMBER,
       SHIP_TO_ORG_NUMBER       VARCHAR2(64),
       SHIP_TO_ORG_NAME         VARCHAR2(128),
       PRICE_START_DATE         DATE,
       PRICE_END_DATE           DATE,
       FOB_PRICE                NUMBER(18,4),
       DELIVERED_PRICE          NUMBER(18,4),
       MISC_FEE                 NUMBER(18,4),
       PRICE_BASIS_ID           NUMBER,
       PRICE_BASIS              VARCHAR2(32),
       MISC_FEE_BASIS_ID        NUMBER,
       MISC_FEE_BASIS           VARCHAR2(32),
       FREIGHT_START_DATE       DATE,
       FREIGHT_END_DATE         DATE,
         FREIGHT_FUEL_DESC_ID     NUMBER,
       TARGET_FREIGHT_BRACKET   NUMBER(18,4),
       FUEL_SURCHARGE_TYPE_NAME VARCHAR2(64),
       TRUCKLOAD_QTY            NUMBER(18,4),
       MILEAGE                  NUMBER(18,4),
       FREIGHT_BRACKET_BASIS    VARCHAR2(32),
       TOTAL_BASE_FREIGHT       NUMBER(18,4),
       MISC_FEE_1               NUMBER(18,4),
       MISC_FEE_2               NUMBER(18,4),
       MISC_FEE_3               NUMBER(18,4),
       MISC_FEE_4               NUMBER(18,4),
       MISC_FEE_5               NUMBER(18,4),
       FREIGHT_MANAGEMENT_TYPE_ID NUMBER,
         FREIGHT_MANAGEMENT_TYPE_NAME VARCHAR2(64),
         REDI_DCT_ORG_ID          NUMBER,
       REDI_DCT_ORG_NUMBER      VARCHAR2(64),
       REDI_DCT_ORG_NAME        VARCHAR2(128),
       IS_REDI_DCT             NUMBER,
       FREIGHT_COST_BASIS_ID   NUMBER
); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:48:39.843

根据[文档](http://docs.oracle.com/cd/E11882_01/appdev.112/e25519/alter_type.htm#LNPLS99995)，您可以使用`alter type`添加属性：

`alter type TYPE_RD_CONTRACT_PRODUCT_PRICE add attribute (new_val integer);`

# regex - 电子邮件验证正则表达式

> ID：15873478
> 
> 赞同：0
> 
> 时间：2013-04-08T07:22:57.153
> 
> 标签：regex

我是 pegexp 的新手，我想写一个简短的验证电子邮件。这是我的正则表达式：

```
^[a-zA-Z0-9_.-]+@[_a-zA-Z0-9-]+\.[_a-zA-Z0-9-.]+$ 
```

有效的电子邮件由 part1@part2 组成。其中 part1 由 1 个或多个单词组成，除以 '.' 和 part2 由 2 个或多个单词组成，除以 '.' 每个单词由 az 或 AZ 或 0-9 或 - 或 _ 组成

这些电子邮件不正确：

smth...smth@smth.smth...

...@一种...

我不知道如何修复我的正则表达式并排除这些示例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T14:33:23.760

自己解决了这个问题：

```
/^[a-zA-Z0-9\-_]+(\.([a-zA-Z0-9\-_])+)*@[a-zA-Z0-9\-_]+\.[a-zA-Z0-9\-_]+(\.([a-zA-Z0-9\-_])+)*$/ 
```

# php - 电话号码 Zend 的输入过滤器（正则表达式）

> ID：15873480
> 
> 赞同：1
> 
> 时间：2013-04-08T07:23:08.503
> 
> 标签：php, filter, zend-framework2, validation

我在 ZF2 中的输入过滤器有问题。我想要一个只允许数字和缩进 (-) 的输入过滤器。我怎样才能做到这一点？我已经准备好以下代码：

```
 $inputFilter -> add($factory -> createInput(array(
            'name' => 'phonenumber',
            'required' => false,
            'filters' => array(
                array('name' => 'Int'),
            ),
            'validators' => array(
                array(
                    'name' => 'regex', false,
                    'options' => array(
                        'pattern' => '/\([0-9]{3}\)\s[0-9]{3}-[0-9]{4}/',
                        'messages'=>array(\Zend\Validator\Regex::NOT_MATCH=>'%value% is not a valid phone'
                        ),
                    ),
                ),
            ),
        ))); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T12:56:04.440

对于电话号码，我创建了自己的 Zend_Validate_Phone 文件，如下所示：

```
<?php
/**
 * Zend_Validate_Phone
 *
 * A validator that can be used in Zend_Form to validate phone numbers
 * Accepts only north-american form numbers
 * 
 * Accepted:
 * (819)800-0755
 * 819-800-0755
 * 8198000755
 * 819 800 0755
 */

/**
 * @see Zend_Validate_Abstract
 */
require_once 'Zend/Validate/Abstract.php';

class Zend_Validate_Phone extends Zend_Validate_Abstract
{
    const INVALID      = 'phoneInvalid';
    const STRING_EMPTY = 'phoneStringEmpty';

    /**
     * Validation failure message template definitions
     *
     * @var array
     */
    protected $_messageTemplates = array(
        self::INVALID      => "Invalid phone number. Make sure this is a valid north american phone number (xxx)xxx-xxxx",
        self::STRING_EMPTY => "'%value%' is an empty string",
    );

    /**
     * Sets default option values for this instance
     *
     * @return void
     */
    public function __construct() {

    }

    /**
     * Defined by Zend_Validate_Interface
     *
     * Returns true if and only if $value contains a valid phone number
     *
     * @param  string $value
     * @return boolean
     */
    public function isValid($value) {      
        //A regex to match phone numbers
        $pattern = "((\(?)([0-9]{3})(\-| |\))?([0-9]{3})(\-)?([0-9]{4}))";

        //If regex matches, return true, else return false
        if(preg_match($pattern, $value, $matches)) {
            //Valid phone number
            $isValid = true;
        } else {
            $this->_error(self::INVALID);
            $isValid = false;
        }

        return $isValid;
    }

} 
```

然后我像任何其他验证器一样使用它......希望这会有所帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:28:26.230

将您的模式更改为`/^[\d-]+$/`- 它应该会有所帮助。

# opencv - 用于多目标跟踪的粒子滤波器

> ID：15873484
> 
> 赞同：9
> 
> 时间：2013-04-08T07:23:27.543
> 
> 标签：opencv, computer-vision, tracking, particle-filter

我在跟踪计算机视觉中的人。我有观察结果（斑点作为背景减法后斑点检测的输出），我想推断产生这些观察结果的对象。

我对一些卡尔曼滤波器代码感到困扰。我很清楚，但我的问题是多对象跟踪：我的问题是有时观察结果不完整/嘈杂。让我更好地解释一下 - 在一个有明确观察的测试中，我为每个人准备了 1 个 blob。卡尔曼滤波器可以帮助我将人的嘈杂路径平滑成平滑曲线。但是，这不是我的问题；问题是有时 blob 检测并不完美，我有 1 个人的 2 个 blob（例如，如果我要跟踪的人穿着背景颜色相同的 T 恤），或者有时我有 2 个 blob人（例如，如果 2 个人拥抱自己或彼此靠得太近）。

我搜索了一些理论，发现很多论文都在用粒子滤波器解决目标跟踪问题。所以我研究了贝叶斯滤波器，蒙特卡洛方法，重要性采样，它有点清楚（我没有关于概率的数学知识来理解一切，但想法很清楚）。

无论如何，我仍然不明白粒子过滤器如何帮助我检测 2 个 blob 对应于 1 个对象或 1 个 blob 对应于 2 个对象的情况。

有人可以帮助理解这个问题吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-08T12:28:42.787

好吧，首先，[OpenCV VideoSurveillance](http://opencv.willowgarage.com/wiki/VideoSurveillance)项目是开始处理您的问题的好方法。

正如您所说，它执行检测响应的数据关联。此外，它通过简单的机制（初始化也基于帧阈值和删除）处理误报（如您所说的 2 个 blob 到 1 个对象）。另一个问题，正如您所提到的，大约 1 个 blob 对应于 2 个对象通常称为遮挡（在 VideoSurveillance 项目中使用了术语“碰撞”，但现在已经过时了）。VideoSurveillance 正在使用基于 3D 颜色直方图建模的粒子过滤器实现来解决这种情况。

简单解释：你如何根据他们的外表（他们的衣服）来区分两个不同的目标？您可以存储他们的颜色直方图并在以后的帧中使用它，对吗？但是，您如何进行搜索？您可以在下一帧中搜索所有可能的质心，或者使用散布在您认为对象所在区域周围的 200 个随机点。这 200 个点就是粒子。它们是如何工作的？他们比较他们所关注的区域并产生物体在那里的概率。距离越近，可能性就越大。最后，您总结所有可能性并找到“平均”质心。

简单来说，就是将每个目标的服装建模在概率函数内部，借助粒子滤波的思想，实现了近乎实时的计算。

最后，卡尔曼滤波器是一个预测器，它仅使用运动数据帮助跟踪器。它“过滤”极端运动行为，以防粒子过滤器结果变得比它应该的更疯狂。VideoSurveillance 也包括这一点。它与外观相得益彰，并且当同时使用两者时，跟踪器会更加复杂。

**编辑**：它对多目标跟踪有何用处？假设我们有一个带有数据关联的简单跟踪器，假设两个对象即将“碰撞”。跟踪器工作正常，直到对象被合并。在“合并”期间，跟踪器只看到一个对象。另一个丢失了。过了一会儿，它们分裂了，跟踪器将旧对象检测为新对象！我们如何解决这个问题？这次让我们从粒子过滤和外观建模重新开始：

*   在合并之前，我们有 2 个对象相互靠近。物体是独立的，跟踪器可以清楚地看到它们。在此期间，外观建模器（一种“记住”对象外观的机制）正在学习这两个对象的外观。当然，随着帧的推移，两个对象的外观都略有变化。这就是为什么建模者有一个“学习率”，可以让他随着时间的推移调整他的“记忆”。

*   在合并过程中，这一次，我们将跟踪器设置得更加耐心，不要像以前那样轻易杀死第二个对象。跟踪器让两个对象都处于活动状态。未遮挡的对象像以前一样被成功跟踪，另一个对象边界框尝试再次重新定位它的目标。如果我们幸运*，在很短的时间后，被遮挡（隐藏）的对象将重新出现（分裂），并且由于粒子，边界框将被吸引到那里。

*如前所述，被遮挡目标的边界框仍由建模者建模。如果被遮挡的人隐藏的时间过长，建模者会忘记旧对象并了解遮挡区域前面的内容（即未遮挡的对象），或者会像孤盒一样四处游荡（这称为漂移）。VideoSurveillance 没有这样的机制。一种简单的解决方案可能是在遮挡期间停止建模器适应。如何？当两个边界框重叠时。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-08-08T22:11:50.437

卡尔曼滤波器或粒子滤波器无法处理数据关联问题（多个跟踪问题，其中多个检测必须与多个轨迹匹配）。

您需要的是联合概率数据关联过滤器 (JPDAF)，它将以软方式将每个检测与轨道相关联（一个检测属于 X % 到第一个轨道，Y % 到第二个轨道......）。

底层跟踪算法可以是粒子滤波或卡尔曼滤波。

看一下 C# 中的 JPDAF 实现 - 为卡尔曼和粒子滤波器实现。此时的工作样本是用于卡尔曼和粒子滤波器的，JPDAF 稍后会出现 - 但它已经实现并准备就绪。

Accord.NET 扩展库： [https ://github.com/dajuric/accord-net-extensions](https://github.com/dajuric/accord-net-extensions)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-08T20:27:52.817

我认为关键词是“碎片化”。示例论文

[http://people.csail.mit.edu/cielbleu/pubs/BoseEtalCVPR07Multiclass.pdf](http://people.csail.mit.edu/cielbleu/pubs/BoseEtalCVPR07Multiclass.pdf)

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2014-08-09T10:04:31.623

在这种情况下，卡尔曼滤波器是一种背景减法器方法。它不能处理数据关联，只能处理高斯噪声。

最后，我重新实现了由对象检测激活的基于直方图的粒子滤波器。

如果有人对此感兴趣，请发表评论！

# heroku - 无法在 Ubuntu AWS 实例中安装 Heroku 工具带

> ID：15873486
> 
> 赞同：9
> 
> 时间：2013-04-08T07:23:35.537
> 
> 标签：heroku

尝试在基于默认 Ubuntu AWS 12.04 AMI 的实例中安装 Heroku 工具带时引发以下错误

ubuntu@ip-11-121-123-115:~$ **wget -qO** - [https://toolbelt.heroku.com/install.sh](https://toolbelt.heroku.com/install.sh) | **嘘**

此脚本需要超级用户访问权限才能安装软件。sudo 将提示您输入密码。

```
 sh: 7: [[: not found
 sh: 29: [[: not found
 Installation complete 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-04T06:22:26.127

我通过执行以下操作解决了这个问题：

```
$ wget https://toolbelt.heroku.com/install.sh
$ sudo sh install.sh 
```

希望能帮助到你。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-20T10:48:01.323

我认为你`sh`的不是`bash`. 尝试

```
wget ...blah... | /bin/bash 
```

看看是否有帮助。

- 编辑 -

哈！你会相信吗！回答后不到 5 分钟，我遇到了同样的问题。这是修复：

1.  下载 install.sh 文件
2.  修改说`sudo sh`要说的那一行`sudo /bin/bash`
3.  运行它`/bin/bash install.sh`

原因是在某些 Ubuntu 上，`/bin/sh`实际上是指向`/bin/dash`(not `bash`) 的链接。并且安装脚本使用了一些 bash-isms，而没有实际检查您是否正在使用`bash`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-04-05T06:12:52.917

试试这个：

```
$ sudo wget https://toolbelt.heroku.com/install-ubuntu.sh
$ sudo sh install-ubuntu.sh 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-16T14:47:38.603

这对你有用吗？

```
wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-10-30T23:28:39.843

当没有以 root 身份登录时，AWS 会为主机名匹配错误，尝试

```
$ wget https://toolbelt.heroku.com/install.sh --no-check-certificate
$ chmod +x install.sh` first) 
$ ./install.sh 
```

第一行给你**install.sh**

# asp.net - 如何根据asp.net中的url重定向到特定的网页？

> ID：15873488
> 
> 赞同：0
> 
> 时间：2013-04-08T07:23:40.107
> 
> 标签：asp.net, url-rewriting

我有一个像 test.com 这样的网站。

现在我想当我输入时`test.com/test1`打开一个特定的页面。相应的 url`test1`被保存到我的数据库中。就像如果我输入`test.com/test1`然后`test.com/test/mytest1.aspx`是打开的等等。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:29:26.303

您可以使用 ASP.NET 路由。

1) ASP.NET 路由使您能够使用不必映射到网站中特定文件的 URL。由于 URL 不必映射到文件，因此您可以使用描述用户操作的 URL，因此用户更容易理解。

参考：

[ASP.NET 路由](http://msdn.microsoft.com/en-us/library/cc668201%28v=vs.100%29.aspx)

[在 Web 窗体应用程序中使用 ASP.NET 路由](http://msdn.microsoft.com/en-us/library/dd329551%28v=vs.100%29.aspx)

另外，检查

2) [IIS 7 URL 重写模块](http://www.iis.net/downloads/microsoft/url-rewrite)：用于 IIS 7 及更高版本的 Microsoft URL 重写模块 2.0 使 IIS 管理员能够创建强大的自定义规则，将请求 URL 映射到更易于用户记住和更易于搜索引擎查找的友好 URL。

[为 URL 重写模块创建重写规则](http://www.iis.net/learn/extensions/url-rewrite-module/creating-rewrite-rules-for-the-url-rewrite-module)

# regex - 对齐：如何修剪从块选择到文本开头的空格？

> ID：15873491
> 
> 赞同：2
> 
> 时间：2013-04-08T07:23:47.723
> 
> 标签：regex, vim, alignment, spaces

我经常发现自己在其他文本中左对齐文本。
我知道有一些插件可以对齐列，但在许多其他文本中这不是最简单的方法。

这是我的文字：

```
>...this is text               X      more text
>...this is more text          X          more text
>...text text text             X               more text
>...this is text               X       more text
>...this is more text          X     more text 
```

我想要做的是选择一个单列的块（`X`在上面的例子中）并删除我的块和块之后开始的文本之间的所有空格。

做这个的最好方式是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T07:29:38.870

不是查找和替换解决方案，但怎么样

*   将光标放在起始位置
*   `9``9``@``=``"``d``w``j``"`

**分解**

*   `d``w`: d(elete) w(ord) *（删除所有空格，直到下一个 wordt 的开头）*
*   `j`: 并转到下一行
*   `9``9``@`: 99 次

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-08T09:14:22.170

直观地选择要对齐的文本，然后使用此 ex 命令：（`'<,'>s/\%Xv\s*//` 将 X 替换为您选择的块列号。）

*   `'<,'>`定义替换命令的范围，

*   `\%Xv`是用于定位特定列的零宽度正则表达式模式，请检查`:help pattern`

# angularjs - 我应该如何将我的 app.js 文件与 AngularJS 一起使用？

> ID：15873492
> 
> 赞同：0
> 
> 时间：2013-04-08T07:23:48.683
> 
> 标签：angularjs

我正在查看[构建巨大的应用程序链接](http://briantford.com/blog/huuuuuge-angular-apps.html)它指出：

在 app.js 中定义和配置所有模块：

```
angular.module('yourAppName', ['yourAppDep']);
angular.module('yourAppDep'); 
```

在模块上定义控制器、服务等，如下所示：

```
angular.module('yourAppDep').controller('MyCtrl', function () {
// ...
}); 
```

有人可以向我解释一下 app.js 中的这两条定义行会发生什么。这些行不应该定义模块并将它们分配给变量吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:44:00.587

我认为，第二行应该是：

```
angular.module('yourAppDep',[/* dependencies of yourAppDep*/]); 
```

那是定义`yourAppDep`模块。我也在这样做：在一些顶级 .js 文件中定义我正在使用的所有模块（例如依赖于 myApp.directivies、myApp.servicies、myApp.someFunctionality1、myApp.someFunctionality2 的 myApp），然后用于`angular.module('myApp.directivies')`获取定义的模块.

这给出了：

*   更精细的代码：显式指定依赖项
*   您在一个文件中看到所有依赖项，您有更好的图片
*   在测试中，您只能模拟您真正使用的东西，但要知道每次测试引导整个应用程序。

所以主要思想是：在 app.js 中定义模块及其依赖项，在其他 .js 文件中实现它们。

# ios - 如何在 UICollectionviewcontroller 中显示文本字段？

> ID：15873494
> 
> 赞同：0
> 
> 时间：2013-04-08T07:23:52.150
> 
> 标签：ios, xcode, header, uitextfield, uicollectionview

我检查了 xcode 中的页眉部分和页脚部分，我在*UIcollectionviewcontroller*中向该标题添加了一个**文本字段**，但是当应用程序运行时它没有显示*文本字段*？为什么？

 *** * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T13:02:28.010

您应该继承 UICollectionReusableView，将您的出口添加到子类，修改情节提要中标题视图的重用标识符并从数据源实现 collectionView:viewForSupplementaryViewOfKind:atIndexPath。检查苹果文档。

例如：

```
-(UICollectionReusableView *)collectionView:(UICollectionView *)collectionView viewForSupplementaryElementOfKind:(NSString *)kind atIndexPath:(NSIndexPath *)indexPath{

HeaderView *headerView = [collectionView dequeueReusableSupplementaryViewOfKind:UICollectionElementKindSectionHeader withReuseIdentifier:@"HeaderView" forIndexPath:indexPath];

//set the delegate of the textfield to the view controller
headerView.textField.delegate = self;

return headerView;
} 
```**

# paypal - 退订paypal定期付款后有什么方法可以返回网站

> ID：15873495
> 
> 赞同：-1
> 
> 时间：2013-04-08T07:23:55.230
> 
> 标签：paypal, returnurl, unsubscribe

取消订阅 paypal 定期付款后，是否有任何方式返回网站。

我正在使用链接按钮取消订阅当前的定期付款。

除了返回商家网站外，整个过程都运行良好。

希望有人能指出我正确的方向。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T12:50:16.343

您可以只使用“ManageRecurringPaymentsProfileStatus”API 来取消配置文件。买家甚至不需要被重定向到 PayPal，因此您可以让买家或个人一直取消您网站上的个人资料。这消除了将买家重定向回您的网站的需要。

# jquery - 禁用Jquery表中的onclick？

> ID：15873501
> 
> 赞同：1
> 
> 时间：2013-04-08T07:24:37.190
> 
> 标签：jquery, asp.net, onclick

我在 asp.net 中使用 Jquery

我正在使用一个用户控件，它将动态绑定来自数据库的下拉值列表。

但是当它处于编辑模式时，我只想禁用这个不是我页面的直接子级的用户控件。（是孩子的孩子）

```
<div id="divPTSearchItems" runat="server" class="dropdown">
<asp:DataList ID="dlPTSearchItems" RepeatDirection="Vertical" HorizontalAlign="Left" runat="server">
    <ItemTemplate>
        <table class="dlitem" height="25px" width="100%"  **onclick="PTSetsearchtext(this)**;">
            <tr>
                <td>
                    <asp:Label ID="lblPTText" value='<%#Eval("PTValue") %>' runat="server" CssClass="dropdownlabel" Text='<%#Eval("PTText") %>'></asp:Label>
                </td>
            </tr>
        </table>
    </ItemTemplate>
    <ItemStyle Height="25px" Width="100%" CssClass="dlitem" />
</asp:DataList> 
```

当我尝试禁用 div 时，它会被禁用，但 Dropdown click 正在工作，它必须完全隐藏 div，而 click 事件也不能正常工作。我只是想禁用父页面中表格的点击事件。

感谢任何帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T15:02:30.527

如果我正确理解了这个问题，您想禁用特定 div 中的所有控件，如果正确，请尝试以下 jQuery 函数：

```
disableDivById = function(divId, disable) {
    divId = "#" + divId
    $(divId).prop('disabled', disable);
} 
```

并调用它来禁用特定的 div，如下所示：

```
disableDivById("divPTSearchItems", true); 
```

# php - PHP if else 在 "OR/||" 之后忽略 操作员

> ID：15873502
> 
> 赞同：0
> 
> 时间：2013-04-08T07:24:43.753
> 
> 标签：php, comparison-operators

嗨，我对这行代码有疑问。

```
if($_SESSION['permission'] !=  "superadmin" || "admin"){
    //header("location:logout.php");
    echo $_SESSION['permission'];
} 
```

如果访问级别不是**superadmin**或 **admin**但我的 if else 忽略了 || 之后的“admin”，这是一条快速行，它将注销用户 操作员。对于我可能做错的任何帮助，我将不胜感激。谢谢。也试过 && 还是不行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:27:07.613

只需将您的 if 修复为以下内容：

```
if($_SESSION['permission'] !=  "superadmin" &&  $_SESSION['permission'] != "admin"){ 
```

在您的代码中，您有两个条件

```
$_SESSION['permission'] !=  "superadmin" || "admin" 
```

这被解释为：

```
$_SESSION['permission'] !=  "superadmin"
OR 
"admin" 
```

和条件

```
 "admin" 
```

与 true 等价，因为它没有空值，因此它将始终通过 if 语句

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:26:10.527

正确的代码：

```
if($_SESSION['permission'] !=  "superadmin" && 
$_SESSION['permission'] !=  "admin" 
){
             //header("location:logout.php");
             echo $_SESSION['permission'];
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:27:16.093

试试这个

```
 if(($_SESSION['permission'] !=  'superadmin') && ($_SESSION['permission'] != 'admin'))   
     {
         //header("location:logout.php");
         echo $_SESSION['permission'];
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-08T07:27:58.897

PHP 使用“短路” for `OR`（甚至 for`AND`和其他逻辑运算符）语句。
这意味着 - 在`OR`运算符的情况下 - 如果第一个条件是`TRUE`，则不评估第二个。
此外，我不确定您的语法是否“好”；那是因为（不管短路）前两个字符串将被比较（结果将是`"superadmin"`;这是因为两个字符串是两个`true`值，因为它们有一个值而不是`null`），然后，这个值将与你的会话变量

看看[PHP手册](http://php.net/manual/en/language.operators.logical.php)

如果你想正确地重写它，你必须做这样的事情

```
if($_SESSION['permission'] != "superadmin" && $_SESSION['permission'] != "admin")
{
  //do something
} 
```

# knockout.js - KnockoutJs 在两个模型之间触发事件的最佳方式是什么？

> ID：15873510
> 
> 赞同：0
> 
> 时间：2013-04-08T07:25:14.867
> 
> 标签：knockout.js

我在一页上有 2 个对象，我想在模型 1 发生一些更改后在模型 2 中触发一些事件。最好和正确的方法是什么？很高兴得到一些例子谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T17:18:01.170

我使用我的约定库做到了这一点，它有一个用于查找构造函数名称的 util 函数。通过这种方式，它隐藏了所有魔术字符串，并且似乎是为用户强输入的。像这样使用它

订阅

```
MyApp.eventAggregator.subscribe(MyApp.DeleteCustomerMessage, this.customerDeleted.bind(this)); 
```

发布

```
MyApp.eventAggregator.publish(new MyApp.DeleteCustomerMessage(this)); 
```

MyApp.eventAggregator 是全局命名空间上的一个实例，因此消息将全局触发，您还可以实例化 MyApp.EventAggregator 的本地实例并将其用于视图模型的子集

可以在这里看到完整的工作示例 [http://jsfiddle.net/wJtun/](http://jsfiddle.net/wJtun/)

**编辑：**您实际上也可以在没有我的库的情况下做到这一点 [http://jsfiddle.net/wJtun/4/](http://jsfiddle.net/wJtun/4/)

**注意：**在上面的简单示例中，我们可能存在内存泄漏，如果您删除对订阅 ViewModel 的引用，它不会被垃圾收集，因为 EventAggregator 持有对它的引用。因此，例如，如果您在 SPA 场景中，您需要实现一个取消订阅的方法来删除引用（Javascript 无法使用弱引用）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-08T17:21:15.427

您可以使用 AmplifyJS [http://amplifyjs.com/api/pubsub/](http://amplifyjs.com/api/pubsub/)从另一个模型调用一个模型而不耦合它们。

# android - PopupWindow上的透明谷歌地图？

> ID：15873511
> 
> 赞同：1
> 
> 时间：2013-04-08T07:25:16.077
> 
> 标签：android, google-maps, popup

我在 a 中使用了 Google Maps (V2)，`PopupWindow`当我运行应用程序时，地图没有显示。甚至它应该是完全透明的区域，我可以`PopupWindow`通过它看到下面的活动。

知道这是为什么吗？

**popup_window.xml 中的片段**

```
<fragment
    android:id="@+id/popup_alert_map"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_below="@+id/popup_alert_description"
    android:layout_marginTop="10dp"
    class="com.google.android.gms.maps.SupportMapFragment" /> 
```

**以及我如何在 Popup.java 中展示它**

```
SupportMapFragment supportMapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.popup_alert_map);
locationMap = supportMapFragment.getMap();

locationMap.setMyLocationEnabled(true);
locationMap.setMapType(GoogleMap.MAP_TYPE_NORMAL); 
```

我有另一个`Activity`地图，它*显示*得很好。

非常感谢任何帮助...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-25T20:27:40.440

这似乎是一个错误，无论是在 Android 中还是在`MapFragment`/`SupportMapFragment`中。我尝试了同样的事情（在 a 中添加了 Google Map 片段`PopupWindow`）并在带有 Android 4.4 的 Google Nexus 10 上尝试了相同的操作，并且地图看起来还`PopupWindow`不错，但是在带有 Android 4.0.3 的旧设备上却显示了透明度问题。

最终我所做的只是将它移到另一个`Activity`. 我寻找了尽可能多的方法来修复它，但这一切似乎都是死路一条，特别是考虑到它可以在最新版本的 Android 上运行而没有任何问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:32:59.187

如果您使用的是，`SupportMapFragment`那么您应该使用`SupportFragmentManager`，如下所示：

```
locationMap = ((SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.popup_alert_map)).getMap(); 
```

试试这个，告诉我结果如何。

# extjs - 如何从 sencha touch 的导航堆栈中删除特定视图？

> ID：15873514
> 
> 赞同：4
> 
> 时间：2013-04-08T07:25:22.307
> 
> 标签：extjs, navigation, sencha-touch, sencha-touch-2

我正在推动这样的观点`this.up('navView').push({xtype: 'myView'})`

如何删除位于导航堆栈中间的特定视图？

至少我应该摆脱这个警告

```
[WARN][Ext.Component#constructor] Registering a component with a id (listxyz) which has already been used. Please ensure the existing component has been destroyed (Ext.Component#destroy(). 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-17T03:38:20.710

在推送视图之前检查天气视图是否已经存在，如果它已经存在则将其销毁，这样您就不会收到这些警告并且可以轻松导航。

```
if(Ext.getCmp('myView')){
                Ext.getCmp('myView').destroy();
}

//Push myView

where  myView should be the id of that view declared in config of that view

    config: {

        id:'myView',

    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T08:39:49.383

我们有两种方法可以解决您的问题

首先是[removeAt](http://docs.sencha.com/touch/2-0/#!/api/Ext.navigation.View-method-removeAt)

```
Removes the Component at the specified index:

myNavigationView.removeAt(0); //removes the first item 
```

二是[删除](http://docs.sencha.com/touch/2-0/#!/api/Ext.navigation.View-method-remove)

```
remove( item, destroy ) : Ext.Component1
Removes an item from this Container, optionally destroying it
myNavigationView.remove('ChildComponent ItemId here in single quotes',true); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-10T18:02:32.760

您的意思是，当您按下一个按钮（或后退按钮）时，它应该跳回 2-3 个视图，而不仅仅是一个视图？

示例：遍历它去的视图 ::::

1 -> 2 -> 3 -> 4 -> 5 (设置一些条件 X) -> 6 -> (现在使用后退按钮反转) -> 5 -> 4 -> 2 (因为 3 由于条件 X 已经消失) -> 1。

如果这就是您的意思，那么您可以通过侦听 navView 中的“后退”事件来扩展控制器中的后退按钮功能。然后，一旦获得事件，您可以检查导航视图中的项目数，并相应地决定弹出 1 个或 2 个或 3 个事件，因此向后跳转 1-2-3 等视图。对用户来说，当您到达视图 5 时，这看起来像是弹出的导航视图（在上面的示例中）视图 3。

代码如下::

```
back : function(){
    if(condition=="X"){
        //so if your 5th view (say) set some condition, then when you try to pop, instead of popping one, it will pop 3 views (say). 

        Ext.getCmp('navView').pop(3);
    }
} 
```

如何找出正在停用的视图（以便您在离开视图 5 后仅弹出 3 个视图（例如），而不是在您离开时

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-15T21:40:00.023

第一件事：不要**在**导航视图中使用 remove 或 removeAt ！remove 和 removeAt 是来自 Container ( [http://docs.sencha.com/touch/2.2.0/source/Container3.html#Ext-Container-method-remove](http://docs.sencha.com/touch/2.2.0/source/Container3.html#Ext-Container-method-remove) ) 的方法。当您使用 navigation.pop(X) 时，对象会计算内部元素，而使用 remove/removeAt 时不会发生这种情况。因此，您可能会遇到一些麻烦，例如第一页中显示的“后退按钮”，因为删除未更新计数（[http://docs.sencha.com/touch/2.2.0/source/View2.html#Ext-导航-查看-方法-doPop](http://docs.sencha.com/touch/2.2.0/source/View2.html#Ext-navigation-View-method-doPop)）。

现在关于您的问题：使用 pop(X)。您可以在弹出之前检查哪个页面，因此您不会收到任何警告。

在我的应用程序中，我有一个按钮可以返回到导航的第一页。

```
 var ctx = Ext.getCmp('navView');
    var pages = ctx.getInnerItems().length -1;
    if(pages > 0){
        ctx.pop(pages);
    } 
```

因此，您可以检查用户是否在“X”页面中或检查比较最后一项：

```
 // compare with the position
    var ctx = Ext.getCmp('navView');
    var pages = ctx.getInnerItems().length -1;
    if(pages == 5){
        ctx.pop(2);
    }

    //OR compare with the last object
    var ctx = Ext.getCmp('navView');
    var innerElements = ctx.getInnerItems();
    var pages = ctx.getInnerItems().length -1;
    if(innerElements[pages].config.xtype == "myXtypeClass"){
        ctx.pop(2);
    } 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-04-08T08:53:00.980

尝试使用拼接从数组中删除值：

```
var idx = this.up('navView').getItems().indexOf({xtype: 'myView'});
this.up('navView').getItems().splice(idx,1); 
```

# c - ReadFile COM 整批

> ID：15873516
> 
> 赞同：1
> 
> 时间：2013-04-08T07:25:35.430
> 
> 标签：c, winapi, serial-port, readfile, createfile

我正在使用 winapi ( 在 C 中) 使用以下创建端口从 comport 读取批处理：

```
hSerial= CreateFile(COM5, 
GENERIC_READ | GENERIC_WRITE,
0,
NULL,
OPEN_EXISTING, 
FILE_ATTRIBUTE_NORMAL |FILE_FLAG_NO_BUFFERING, 
NULL); 
```

然后将一批读入 Data ，它是 lengthIn long ：

```
ReadFile(hSerial,Data,lengthIn,lengthOut,NULL) 
```

lengthOut 表示实际读取的数据量。

我需要确保在每次迭代时实际读取 lengthIn 字节，而不是更少，我该怎么做？如何确保每次 lengthIn=lengthOut？

我认为它与创建端口时的属性有关（如 FILE_FLAG_NO_BUFFERING），但我不确定是哪一个以及如何。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T08:30:46.527

如果您将通信端口句柄上的超时设置得足够大，那么`ReadFile`在您指定的字节数被读取（或发生错误）之前，它实际上不会返回。

有关更多详细信息，请参阅有关`COMMTIMEOUTS`结构的文档 ( [http://msdn.microsoft.com/en-us/library/windows/desktop/aa363190(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa363190(v=vs.85).aspx) )。

# java - Java Swing GroupLayout 不包括预期的 3 个按钮。如何解决这个问题？

> ID：15873523
> 
> 赞同：4
> 
> 时间：2013-04-08T07:25:47.930
> 
> 标签：java, swing, grouplayout

我需要一些关于下面代码的帮助。我想要做的是扩大 TextArea （命名`preview`）的大小以包括最后三个按钮`algo1`：`algo2`和`algo3`。

我已经尝试过多次更改代码，但它仍然只显示一个按钮，即`algo1`，而不是所有三个按钮。它与`BASELINE`or有关系`LEADING`吗？有人可以显示我哪里出错了吗？谢谢。

```
import java.awt.*; 
import javax.swing.*; 

// Create a simple GUI window
public class win {

private static void createWindow() {

   //Create and set up the window. 
   JFrame frame = new JFrame("PDF Denoiser");
   frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); 

   //My edit
   JPanel panel = new JPanel();
   GroupLayout layout = new GroupLayout(panel);
   panel.setLayout(layout);

   layout.setAutoCreateGaps(true);
   layout.setAutoCreateContainerGaps(true);

   JLabel label1 = new JLabel("Image File");
   JLabel label2 = new JLabel("Destination");
   JLabel label3 = new JLabel("Preview");

   JTextField current = new JTextField();
   JTextField dest = new JTextField();
   JTextArea preview = new JTextArea();

   JButton choose1 = new JButton("Search1");
   JButton choose2 = new JButton("Search2");
   JButton algo1 = new JButton("MDWM");
   JButton algo2 = new JButton("BFMR");
   JButton algo3 = new JButton("Mine");

   //Horizontal arrangement
   layout.setHorizontalGroup(layout.createSequentialGroup()
        .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(label1)
            .addComponent(label2)
            .addComponent(label3))
        .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(current)
            .addComponent(dest)
            .addComponent(preview))
        .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(choose1)
            .addComponent(choose2)
            .addComponent(algo1)
            .addComponent(algo2)
            .addComponent(algo3))
    );

    layout.linkSize(SwingConstants.HORIZONTAL, choose1, choose2, algo1, algo2, algo3);

    //Vertical arrangement
    layout.setVerticalGroup(layout.createSequentialGroup()
        .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
            .addComponent(label1)
            .addComponent(current)
            .addComponent(choose1))
        .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
            .addComponent(label2)
            .addComponent(dest)
            .addComponent(choose2))
        .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(label3)
            .addComponent(preview)
                .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(algo1)
                    .addComponent(algo2)
                    .addComponent(algo3))))
    );

   //Display the window. 
   frame.setLocationRelativeTo(null); 
   frame.add(panel);
   frame.pack();
   frame.setVisible(true); 
}

public static void main(String[] args) {

   createWindow();

} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T08:12:18.233

> 我对Java很陌生。如何进行 invokeLater 包装？有什么例子吗？谢谢

```
run:
java.awt.Rectangle[x=208,y=12,width=82,height=26]
java.awt.Rectangle[x=208,y=12,width=82,height=26]
java.awt.Rectangle[x=208,y=76,width=82,height=26]
java.awt.Rectangle[x=208,y=76,width=82,height=26]
java.awt.Rectangle[x=208,y=76,width=82,height=26] 
```

*   看到所有三个 JButton 在屏幕上都获得了相同的坐标

意义

```
System.out.println(algo1.getBounds());
System.out.println(algo2.getBounds());
System.out.println(algo3.getBounds()); 
```

返回

```
java.awt.Rectangle[x=208,y=76,width=82,height=26]
java.awt.Rectangle[x=208,y=76,width=82,height=26]
java.awt.Rectangle[x=208,y=76,width=82,height=26] 
```

![在此处输入图像描述](https://i.stack.imgur.com/dHuWf.jpg)

```
import java.awt.*;
import javax.swing.*;

// Create a simple GUI window
public class Win {

    private static void createWindow() {
        //Create and set up the window. 
        JFrame frame = new JFrame("PDF Denoiser");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        //My edit
        JPanel panel = new JPanel();
        GroupLayout layout = new GroupLayout(panel);
        panel.setLayout(layout);
        layout.setAutoCreateGaps(true);
        layout.setAutoCreateContainerGaps(true);
        JLabel label1 = new JLabel("Image File");
        JLabel label2 = new JLabel("Destination");
        JLabel label3 = new JLabel("Preview");
        JTextField current = new JTextField(10);
        JTextField dest = new JTextField(10);
        JTextArea preview = new JTextArea(5, 10);
        final JButton choose1 = new JButton("Search1");
        //choose1.setPreferredSize(new Dimension(80,20));
        final JButton choose2 = new JButton("Search2");
        //choose2.setPreferredSize(new Dimension(80,20));
        final JButton algo1 = new JButton("MDWM");
        final JButton algo2 = new JButton("BFMR");
        final JButton algo3 = new JButton("Mine");
        //Horizontal arrangement
        layout.setHorizontalGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                .addComponent(label1)
                .addComponent(label2)
                .addComponent(label3))
                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                .addComponent(current)
                .addComponent(dest)
                .addComponent(preview))
                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                .addComponent(choose1)
                .addComponent(choose2)
                .addComponent(algo1)
                .addComponent(algo2)
                .addComponent(algo3)));
        layout.linkSize(SwingConstants.HORIZONTAL, choose1, choose2, algo1, algo2, algo3);
        //Vertical arrangement
        layout.setVerticalGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                .addComponent(label1)
                .addComponent(current)
                .addComponent(choose1))
                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                .addComponent(label2)
                .addComponent(dest)
                .addComponent(choose2))
                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                .addComponent(label3)
                .addComponent(preview)
                .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                .addComponent(algo1)
                .addComponent(algo2)
                .addComponent(algo3)))));
        //Display the window. 
        frame.setLocationRelativeTo(null);
        frame.add(panel);
        frame.pack();
        frame.setVisible(true);
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                System.out.println(choose1.getBounds());
                System.out.println(choose1.getBounds());
                System.out.println(algo1.getBounds());
                System.out.println(algo2.getBounds());
                System.out.println(algo3.getBounds());
            }
        });
    }

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                createWindow();
            }
        });
    }
} 
```

*   故事结局

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T08:24:40.667

我不知道你想在哪里添加你的按钮，但请试试这个例子。我更新了你的代码，现在你可以看到你的按钮：这里是按钮：but1 but2 but3

```
package Core;

import javax.swing.GroupLayout;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.SwingConstants;

// Create a simple GUI window
public class win {

    private static void createWindow() {

        // Create and set up the window.
        JFrame frame = new JFrame("PDF Denoiser");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        // My edit
        JPanel panel = new JPanel();
        GroupLayout layout = new GroupLayout(panel);
        panel.setLayout(layout);

        layout.setAutoCreateGaps(true);
        layout.setAutoCreateContainerGaps(true);

        JLabel label1 = new JLabel("Image File");
        JLabel label2 = new JLabel("Destination");
        JLabel label3 = new JLabel("Preview");

        JTextField current = new JTextField();
        JTextField dest = new JTextField();
        JTextArea preview = new JTextArea();

        JButton choose1 = new JButton("Search1");
        JButton choose2 = new JButton("Search2");
        JButton algo1 = new JButton("MDWM");
        JButton algo2 = new JButton("BFMR");
        JButton algo3 = new JButton("Mine");

        // Horizontal arrangement
        layout.setHorizontalGroup(layout
                .createSequentialGroup()
                .addGroup(
                        layout.createParallelGroup(GroupLayout.Alignment.LEADING).addComponent(label1)
                                .addComponent(label2).addComponent(label3))
                .addGroup(
                        layout.createParallelGroup(GroupLayout.Alignment.LEADING).addComponent(current)
                                .addComponent(dest).addComponent(preview))
                .addGroup(
                        layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                .addComponent(choose1)
                                .addComponent(choose2)
                                .addGroup(
                                        layout.createSequentialGroup().addComponent(algo1).addComponent(algo2)
                                                .addComponent(algo3))));

        layout.linkSize(SwingConstants.HORIZONTAL, choose1, choose2, algo1, algo2, algo3);

        // Vertical arrangement
        layout.setVerticalGroup(layout
                .createSequentialGroup()
                .addGroup(
                        layout.createParallelGroup(GroupLayout.Alignment.BASELINE).addComponent(label1)
                                .addComponent(current).addComponent(choose1))
                .addGroup(
                        layout.createParallelGroup(GroupLayout.Alignment.BASELINE).addComponent(label2)
                                .addComponent(dest).addComponent(choose2))
                .addGroup(
                        layout.createParallelGroup(GroupLayout.Alignment.BASELINE).addComponent(label3)
                                .addComponent(preview).addComponent(algo1).addComponent(algo2).addComponent(algo3)));

        // Display the window.
        frame.setLocationRelativeTo(null);
        frame.add(panel);
        frame.pack();
        frame.setVisible(true);
    }

    public static void main(String[] args) {

        createWindow();

    }
} 
```

或试试这个：这里是：

屁股1

屁股2

屁股3

```
package Core;

import javax.swing.GroupLayout;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.SwingConstants;

// Create a simple GUI window
public class win {

    private static void createWindow() {

        // Create and set up the window.
        JFrame frame = new JFrame("PDF Denoiser");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        // My edit
        JPanel panel = new JPanel();
        GroupLayout layout = new GroupLayout(panel);
        panel.setLayout(layout);

        layout.setAutoCreateGaps(true);
        layout.setAutoCreateContainerGaps(true);

        JLabel label1 = new JLabel("Image File");
        JLabel label2 = new JLabel("Destination");
        JLabel label3 = new JLabel("Preview");

        JTextField current = new JTextField();
        JTextField dest = new JTextField();
        JTextArea preview = new JTextArea();

        JButton choose1 = new JButton("Search1");
        JButton choose2 = new JButton("Search2");
        JButton algo1 = new JButton("MDWM");
        JButton algo2 = new JButton("BFMR");
        JButton algo3 = new JButton("Mine");

        // Horizontal arrangement
        layout.setHorizontalGroup(layout
                .createSequentialGroup()
                .addGroup(
                        layout.createParallelGroup(GroupLayout.Alignment.LEADING).addComponent(label1)
                                .addComponent(label2).addComponent(label3))
                .addGroup(
                        layout.createParallelGroup(GroupLayout.Alignment.LEADING).addComponent(current)
                                .addComponent(dest).addComponent(preview))
                .addGroup(
                        layout.createParallelGroup(GroupLayout.Alignment.LEADING).addComponent(choose1)
                                .addComponent(choose2).addComponent(algo1).addComponent(algo2).addComponent(algo3)));

        layout.linkSize(SwingConstants.HORIZONTAL, choose1, choose2, algo1, algo2, algo3);

        // Vertical arrangement
        layout.setVerticalGroup(layout
                .createSequentialGroup()
                .addGroup(
                        layout.createParallelGroup(GroupLayout.Alignment.BASELINE).addComponent(label1)
                                .addComponent(current).addComponent(choose1))
                .addGroup(
                        layout.createParallelGroup(GroupLayout.Alignment.BASELINE).addComponent(label2)
                                .addComponent(dest).addComponent(choose2))
                .addGroup(
                        layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                .addComponent(label3)
                                .addComponent(preview)
                                .addGroup(
                                        layout.createSequentialGroup().addComponent(algo1).addComponent(algo2)
                                                .addComponent(algo3))));

        // Display the window.
        frame.setLocationRelativeTo(null);
        frame.add(panel);
        frame.pack();
        frame.setVisible(true);
    }

    public static void main(String[] args) {

        createWindow();

    }
} 
```

# sharepoint - 将 EPM2007 升级到 EPM2010

> ID：15873524
> 
> 赞同：0
> 
> 时间：2013-04-08T07:25:51.053
> 
> 标签：sharepoint, ms-project-server-2010, epm

我需要教程和解决方案。

我有 32 位的 EPM 2007 和数据库 os 2008 r2 64 位。我需要将我的 EPM2007 迁移到 2010，这里没有定制，所以请建议我并提供解决方案。，如何做到这一点

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T19:53:55.707

Microsoft Technet 站点上提供了大量信息。从这里开始： [http ://technet.microsoft.com/en-us/library/ee662496(v=office.14).aspx](http://technet.microsoft.com/en-us/library/ee662496(v=office.14).aspx)

# heroku - 在之前将 Gemfile.lock 从存储库中取出后，将 Rails 应用程序部署到 Heroku

> ID：15873531
> 
> 赞同：1
> 
> 时间：2013-04-08T07:26:14.807
> 
> 标签：heroku, bundler, railstutorial.org

我正在学习 Rails 3.2 版的[Ruby on Rails 教程](http://railstutorial.org/)，并且快到第 5 章的末尾了。虽然它在几天前接受了我的代码，但 Heroku 不再希望在我推送时接受它。它抱怨它需要一个 Gemfile.lock，我可以理解——但我已经提供了一个。

几天前，我确实从存储库中删除了 Gemfile.lock，因为我在 Windows 上启动了这个项目并因此陷入了 Bundler 地狱。当时我在.gitignore中添加了Gemfile.lock的名称，但现在我已经从.gitignore中删除了它的名称并重新添加了它；然而 Heroku 仍然认为它没有被承诺。

我能做些什么？除了在当前阶段重新添加 Gemfile.lock 之外，我还尝试使用变基来删除首先删除它的提交。我还从 Heroku 中完全删除了该应用程序并重新添加了它（使用相同的名称和不同的名称）。此外，虽然我没有在 shell 会话中捕获它，但我确实在`bundle update`这一切之前运行以确保 Gemfile.lock 与 Gemfile 匹配。

这是我的 bash 会话：

```
$ type ssha-heroku
ssha-heroku is aliased to `eval `ssh-agent`; ssh-add -t 5m ~/.ssh/heroku.id_rsa'

ruby-1.9.3-p392@railstutorial3 ~/Scripts/Rails/railstutorial/sample_app
$ ssha-heroku
Agent pid 19642
Enter passphrase for /Users/eric/.ssh/heroku.id_rsa:
Identity added: /Users/eric/.ssh/heroku.id_rsa (/Users/eric/.ssh/heroku.id_rsa)
Lifetime set to 300 seconds

ruby-1.9.3-p392@railstutorial3 ~/Scripts/Rails/railstutorial/sample_app
$ git push heroku master
Counting objects: 384, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (260/260), done.
Writing objects: 100% (384/384), 60.58 KiB, done.
Total 384 (delta 172), reused 215 (delta 86)

-----> Ruby/NoLockfile app detected
 !
 !     Gemfile.lock required. Please check it in.
 !
 !     Heroku push rejected, failed to compile Ruby/nolockfile app

To git@heroku.com:stormy-coast-5058.git
 ! [remote rejected] master -> master (pre-receive hook declined)
error: failed to push some refs to 'git@heroku.com:stormy-coast-5058.git'

ruby-1.9.3-p392@railstutorial3 ~/Scripts/Rails/railstutorial/sample_app
$ git ls-files |grep Gemfile
Gemfile

ruby-1.9.3-p392@railstutorial3 ~/Scripts/Rails/railstutorial/sample_app
$ vim .gitignore # here I remove the line ignoring Gemfile.lock

ruby-1.9.3-p392@railstutorial3 ~/Scripts/Rails/railstutorial/sample_app
$ git add .gitignore Gemfile.lock

ruby-1.9.3-p392@railstutorial3 ~/Scripts/Rails/railstutorial/sample_app
$ git commit -m 'Stop ignoring Gemfile.lock so we can deploy to Heroku'
[master 1b691f1] Stop ignoring Gemfile.lock so we can deploy to Heroku
 2 files changed, 182 insertions(+), 6 deletions(-)
 create mode 100644 Gemfile.lock

ruby-1.9.3-p392@railstutorial3 ~/Scripts/Rails/railstutorial/sample_app
$ git ls-files |grep Gemfile
Gemfile
Gemfile.lock

ruby-1.9.3-p392@railstutorial3 ~/Scripts/Rails/railstutorial/sample_app
$ git push heroku master
Counting objects: 387, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (263/263), done.
Writing objects: 100% (387/387), 60.90 KiB, done.
Total 387 (delta 174), reused 215 (delta 86)

-----> Ruby/Rails app detected
-----> Installing dependencies using Bundler version 1.3.2
       Running: bundle install --without development:test --path vendor/bundle --binstubs vendor/bundle/bin --deployment
       You are trying to install in deployment mode after changing
       your Gemfile. Run `bundle install` elsewhere and add the
       updated Gemfile.lock to version control.
       You have added to the Gemfile:
       * rb-inotify (~> 0.9)
       * libnotify (= 0.5.9)
       You have deleted from the Gemfile:
       * rb-fsevent (= 0.9.1)
       * terminal-notifier-guard (= 1.5.3)
 !
 !     Failed to install gems via Bundler.
 !
 !     Heroku push rejected, failed to compile Ruby/rails app

To git@heroku.com:stormy-coast-5058.git
 ! [remote rejected] master -> master (pre-receive hook declined)
error: failed to push some refs to 'git@heroku.com:stormy-coast-5058.git'

ruby-1.9.3-p392@railstutorial3 ~/Scripts/Rails/railstutorial/sample_app
$ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T23:46:44.420

我最终将问题追溯到这样一个事实，即我根据平台（Mac、Linux 和 Windows）为 Guard 通知指定了不同的 gem；但是当我`bundle install`在我的 Mac 上运行时，它不会在 Gemfile.lock 中锁定 Linux 或 Windows gem。我在检测主机平台的声明中确实有这些宝石`case`，但显然 Bundler 无法从中看出我的意图。

我把整个条件都去掉了，只指定了 Mac gems 而不是其他平台。一段时间后，我会进一步调查；由于这些宝石仅用于测试，我认为 Heroku 的 Bundler 根本不需要了解它们。

# cookies - Laravel 4 - Cookie 未保存在本地服务器上

> ID：15873535
> 
> 赞同：0
> 
> 时间：2013-04-08T07:26:17.543
> 
> 标签：cookies, laravel, laravel-4

按照文档，我在本地虚拟主机（indgo.dev）上创建了一个“永远”（5 年）的 cookie。

所以这：

```
 $cookie = Cookie::forever('hash',$project['hash']);
  dd($cookie); 
```

输出：

```
object(Symfony\Component\HttpFoundation\Cookie)#436 (7) {
  ["name":protected]=>
  string(4) "hash"
  ["value":protected]=>
  string(360) "eyJpdiI6IlNJcUJZSElRTlwvQ0dJU3Z4dE44VFwvYjJ3U3lpckRZY2xsV3NlWTJ5VHJ1dz0iLCJ2YWx1ZSI6IkFHeFJGOXhjSzZxTkhZWGpIMiszUWZ5eXBUT2xuMTZFalpXdVZ3VW1CYUh1SmxKZUNPMk1rSFhONFk4REVkMzBtWlluWVhWU21uVHJXMDllKytmYm5idk5IVTNcLzIrUEgyZ3dsVllVTERyeTROU1lKUHUwb1ZpRll2V1JmU0Z4bSIsIm1hYyI6Ijc1YzcyODlkOTU0MGQ3ZjEyMDJhNjk5ZWNhOWY2ZWNhMGRhNzU4NjZiOTAwNGUzMjY1MzI2YjhhNGZjMWVhMzgifQ=="
  ["domain":protected]=>
  NULL
  ["expire":protected]=>
  int(1523085636)
  ["path":protected]=>
  string(1) "/"
  ["secure":protected]=>
  bool(false)
  ["httpOnly":protected]=>
  bool(true)
} 
```

但是，当我尝试在不同***的请求***中获取 cookie 时：

```
$hash = Cookie::has('hash');
    dd($hash); 
```

我得到`false`（或者`null`如果我使用该`get`方法）

使用 Chrome 开发工具，我发现 cookie 确实没有显示。列出的只有`laravel_payload`和`laravel_session`。

更新：当我登录时，班级*会*创建一个新的`remember_me`cookie*`Auth`*

 ** * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-08T16:16:14.160

您没有在响应中发送 cookie。尝试

```
$cookie = Cookie::forever('hash',$project['hash']);
return Response::make()->withCookie($cookie); 
```

在第一个请求上，然后尝试获取 cookie。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-22T07:50:05.823

我遇到了 cookie 的问题。以防万一 Laravel 4 新手，如果您需要设置 cookie，您需要将 cookie 发送到任何响应。在我的情况下，我正在显示一个启动屏幕，并且需要在用户访问该站点时进行设置和检查。初始屏幕具有以下内容：

```
if(Input::get('splash') || Cookie::get('splash')) {
    $cookie = Cookie::forever('splash', 'checked');
    return Redirect::route('home')->withCookie($cookie);
} else {
    //show the splash screen with the form which has the splash = 1 as a hidden input
} 
```*

# ruby-on-rails - 用户清仓 gem 查询次数过多

> ID：15873538
> 
> 赞同：2
> 
> 时间：2013-04-08T07:26:23.697
> 
> 标签：ruby-on-rails, ruby-on-rails-3, clearance

我正在使用清除宝石进行身份验证，它工作得非常好。但是，我发现它的问题是，它减慢了应用程序的速度。通过仔细研究，我发现它为页面请求的每个资产（JavaScript、CSS 和图像）获取用户。

谁能建议我可以解决这个问题？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-06T02:35:09.220

这已[在 Clearance 1.0.0 中修复](https://github.com/thoughtbot/clearance/commit/9d2f94955b18f9c2d382939245e027972c2aacb0)

# sql-server - 当我使用备份进行事务复制时如何重新初始化订阅

> ID：15873539
> 
> 赞同：-2
> 
> 时间：2013-04-08T07:26:24.593
> 
> 标签：sql-server, backup, replication

我有一些关于 sqlserver 2008 r2 中的跟踪复制的问题，如您所知，当您的数据库非常大时，您可以使用备份来初始化跟踪复制，这不需要快照文件，我的问题是当我的订阅者错误时，我如何可以重新初始化订阅。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T09:26:47.740

您基本上会删除订阅并重新开始，即使用另一个备份和恢复，然后按照您最初设置订阅的步骤操作。

# java - 如何显示最近以前的活动？

> ID：15873547
> 
> 赞同：0
> 
> 时间：2013-04-08T07:26:49.610
> 
> 标签：java, android

我在 Android 演示中创建了 4 个活动。当我从第一个活动运行应用程序以显示第二个活动等等时，我试图让数据保持与按下后退按钮时相同的问题应用程序退出的 3 个活动，但是当我返回到第三个活动时我重新启动并且数据保持不变。我使用 Intent 使用共享首选项，但它无法正常工作

```
@Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.splash_screen);

        final SharedPreferences sharedPref=this.getSharedPreferences("MY_PREF_1",MODE_WORLD_READABLE);
        SharedPreferences.Editor shredPref_Editor=sharedPref.edit();
        //shredPref_Editor.putString(MY_ACTIVITY,"splash_activity");
        prefName = sharedPref.getString(MY_ACTIVITY,"splash_activity");

        handler = new Handler(){};

        runnable = new Runnable() {

            @Override
            public void run() {
                // TODO Auto-generated method stub

                if(prefName == "splash_activity" || prefName.toString().trim().equals("Number_Activity"))
                {
                    Intent i1=new Intent(Splash_Screen_Activity.this,Number_Activity.class);
                    startActivity(i1);
                }

                else if(prefName.toString().trim().equals("pin_number_activity"))
                {
                    Intent i2=new Intent(Splash_Screen_Activity.this,PIN_Number_Activity.class);
                    startActivity(i2);
                }

                else
                {
                    Intent i3=new Intent(Splash_Screen_Activity.this , Custom_Title_Bar_Activity.class);
                    startActivity(i3);
                }

            }
        };

 public class Number_Activity extends Activity
    {
        private final String MY_ACTIVITY = "Number_Activity";

    public void onCreate(Bundle savedInstanceState)
        {

            super.onCreate(savedInstanceState);
            setContentView(R.layout.cell_number);

            SharedPreferences sharedPref=this.getSharedPreferences("MY_PREF_2",MODE_WORLD_READABLE);
            SharedPreferences.Editor shredPref_Editor=sharedPref.edit();
            shredPref_Editor.putString(MY_ACTIVITY,"number_activity");
            shredPref_Editor.commit();
        }   
    }

public class PIN_Number_Activity extends Activity
{
    private final String MY_ACTIVITY = "PinNum_MyActivity";

         public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.pin_number);

        SharedPreferences sharedPref=this.getSharedPreferences("MY_PREF_3",MODE_WORLD_READABLE);
        SharedPreferences.Editor shredPref_Editor=sharedPref.edit();
        shredPref_Editor.putString(MY_ACTIVITY,"pin_number_activity");
        shredPref_Editor.commit();
        }
}

public class Custom_Title_Bar_Activity extends Activity
{
    private final String MY_ACTIVITY = "Main_Activity";

protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        Boolean customTitleSupported=requestWindowFeature(Window.FEATURE_CUSTOM_TITLE);
        setContentView(R.layout.main_for_ctitlebar);

        SharedPreferences sharedPref=this.getSharedPreferences("MY_PREF_4",MODE_WORLD_READABLE);
        SharedPreferences.Editor shredPref_Editor=sharedPref.edit();
        shredPref_Editor.putString(MY_ACTIVITY,"main_activity");
        shredPref_Editor.commit();

}

} 
```

# java - Java - 试图理解组合

> ID：15873558
> 
> 赞同：0
> 
> 时间：2013-04-08T07:27:30.287
> 
> 标签：java, class, inheritance, composition

我正在用 Java 实现一个基本的工资单程序。我有一个名为的抽象超类`Employee`，主要存储税号、姓名等数据。然后我有 2 个`Employee`被调用的子类`Hourly`，`Salaried`它们应该代表员工的类型。这两个类实现了工资和税收的计算，并存储了特定于其员工类型的数据。

问题是，我最终得到了一堆字段，因为需要实施新字段来存储计算出的工资、税金等。我是否有理由摆脱`Salaried`并`Hourly`创建一个新的超类`PayCalculation`，然后拥有`PayHourly`和`PaySalaried`源于此的课程以实现每小时/带薪的特定领域和计算？`Employee`如果是这样，在（超类）和（子类）之间建立组合关系是否有意义`PayCalculation`？

我对作曲没有很好的理解。如果有人能想到一种更好的方法来构建它，我将不胜感激。

我不知道如何使用 UML，但这是我在油漆中制作的一个非常劣质的图表来解释这一点。

![在此处输入图像描述](https://i.stack.imgur.com/AzrOY.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:35:32.070

`Employee`是的，在和之间有组合关系是有意义的`PayCalculation`。以实际的方式考虑这个问题 -`Employee`将`payCalculations`等`workingHourCalculations`..作为字段/组合，而不是相反。

也`Employee`可以有抽象方法来计算工资、工作等。Employee 的实例字段可以保存计算工资、工作等所需的成员。

```
Public Employee {
    private Map payCalMap;
    .....
    public double calculatePay();    
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-08T07:36:12.610

`Employee`，`Salaried(Employee)`并且`Hourly(Employee)`非常适合作为类。

`PayCalculation()`, `PayHourly()`, 和`PaySalaried()`听起来更像是方法，对吧？

所以你可以做的是`PayCalculation()`在超类（Employee）中创建一个抽象方法（意味着你实际上并没有实现它）。然后你可以（并且确实必须）`PayCalculation()`在你的薪水和每小时课程中编写实现。

这意味着，当您在 Hourly 对象上调用 PayCalculation() 时，它将执行与在 Salried 对象上调用 PayCalculation() 时完全不同的事情。

这有意义吗？真正深入思考这些概念——试图掌握继承的概念实际上就是试图掌握一般的面向对象编程的概念。

如果我能以不同的方式解释，请告诉我——不久前，我还在思考这些相同的概念。

另外，您在上面的评论中是正确的。Employee 和 Hourly/Salied 之间没有“有”关系。它们之间存在的关系是一种“是”关系：一个小时工就是一个雇员。这意味着您需要考虑*继承*，而不是组合——这正是我们在这里讨论的内容。

这应该是这个问题的要点：您要掌握的是继承，而不是组合。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-08T07:52:15.227

Employee 类将支付计算委托给 PayCalculation 接口方法**calculate()**。

通过替换此接口的实现，您可以实现不同的行为。

```
class Employee {
  private PayCalculation payCalculation;
  public Employee(PayCalculation calculation){
    this.calculation = calculation;
  }

  public void calculatePayment(){
    payCalculation.calculate();
  }
}

public interface PayCalculation{
  public void calculate();
}

class PayHourly implements PayCalculation{
  public void calculation(){
    System.out.println("Hourly-paid");
  }
}

class PaySalaried implements PayCalculation{
  public void calculate(){
    System.out.println("Salary-paid");
  }
} 
```

然后，您创建了 2 个具有不同支付系统的不同员工：

```
Employee salaryPaidEmployee = new Employee(new PaySalaried());
Employee hourlyPaidEmployee = new Employee(new PayHourly()); 
```

并根据支付系统计算支付：

```
 salaryPaidEmployee.calculatePayment();
 hourlyPaidEmployee.calculatePayment(); 
```

# php - 里面有变量的PHP数组？

> ID：15873560
> 
> 赞同：0
> 
> 时间：2013-04-08T07:27:32.057
> 
> 标签：php, sql, multidimensional-array

我需要帮助 ：）

我有一个从我的数据库中获取值的 while/循环。此循环将数据库值与`$_POST`输入结合起来，并`$score`为每个项目概括 a。代码：

* * *

```
while($row=mysql_fetch_assoc($res)){ 
    $score=($row["near_beach_score"]*$result_a)+
    ($row["near_city_score"]*result_b)+
    ($row["near_swim_pool_score"]*result_c)+
    ($row["near_public_transport_score"]*result_d)+
    $row["house_promote_score"];

$array_content.='array('.$row["id"].', '.$score.') '; 
```

* * *

当 while/loop 完成时，我想要一个包含 while/loop 中生成的字符串内容的多重数组。

像：`$complete_array = array ($array_content);`

然后我想申请一个`array_multisort`.

如何连接/`$array_content`插入`$complete_array = array ($array_content);`？

Apreciate 如果您有时间提供帮助。/塞尔吉奥

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:33:26.490

试试这个：

```
<?php
$array_content = array();
while($row=mysql_fetch_assoc($res)){
    $score=($row["near_beach_score"]*$result_a) + 
            ($row["near_city_score"]*result_b)+ 
            ($row["near_swim_pool_score"]*result_c)+ 
            ($row["near_public_transport_score"]*result_d)+ 
            $row["house_promote_score"];

    $array_content []=array($row["id"], $score);
} 
```

你制作了一个`String`. 如果你删除`'`你会得到一个`array`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:37:59.753

假设这`id`是一个独特的领域：

```
$arr = array();
while ($row = mysql_fetch_assoc($res)) {
    $score = ...;
    $arr[$row['id']] = $score;
} 
```

它将值存储`$row['id']`在键和`$score`值中。

# php - 在许多下拉菜单的情况下处理 PHP 中的选择选项

> ID：15873563
> 
> 赞同：0
> 
> 时间：2013-04-08T07:27:53.677
> 
> 标签：php, javascript, html

在下面的代码中，我试图处理选择选项或文本字段的值：

```
<script>
function check() {
    var dropdown = document.getElementById("OpType");
    var current_value = dropdown.options[dropdown.selectedIndex].value;

    if (current_value == "OpNo") {
        document.getElementById("operationno").style.display = "block";
        document.getElementById("MainType").style.display = "none";
        document.getElementById("MemName").style.display = "none";
        document.getElementById("EmpName").style.display = "none";
        <?php $TPE = '1'?>
    }
    else if (current_value == "OpTyp") {
        document.getElementById("MainType").style.display = "block";
        document.getElementById("MemName").style.display = "none";
        document.getElementById("EmpName").style.display = "none";
        document.getElementById("operationno").style.display = "none";
        <?php $TPE = '2'?>
    }
    else if (current_value == "OpMem") {
        document.getElementById("MemName").style.display = "block";
        document.getElementById("operationno").style.display = "none";
        document.getElementById("MainType").style.display = "none";
        document.getElementById("EmpName").style.display = "none";
        <?php $TPE = '3'?>
    }
    else if (current_value == "OpEmp"){
        document.getElementById("MemName").style.display = "none";
        document.getElementById("operationno").style.display = "none";
        document.getElementById("MainType").style.display = "none";
        document.getElementById("EmpName").style.display = "block";
        <?php $TPE = '4'?>
    }
    else if (current_value == "blank") {
        document.getElementById("MainType").style.display = "none";
        document.getElementById("MemName").style.display = "none";
        document.getElementById("EmpName").style.display = "none";
        document.getElementById("operationno").style.display = "none";
        <?php $TPE = '0'?>
    }
}
</script>

<form name="f1" action="FollowOperations.php" method="post">
<select id="OpType" onChange="check();">
<option value="blank">Choose</option>
<option value="OpNo">Operation No</option>
<option value="OpTyp">Operation Type</option>
<option value="OpMem">Maintenance Member</option>
<option value="OpEmp">Employee</option>
</select><br>

<input class="tb10" type="text" id="operationno" size="4" style="text-align: center" style="display: none">

<select id="MainType" style="display: none">
<option value="blank">Choose</option>
<option value="printing">Printing</option>
<option value="maintenance">PC Maintenance</option>
<option value="internet">Internet Problem</option>
<option value="software">Software</option>
<option value="email">Email Problem</option>
<option value="usbcd">USB/CD Problem</option>
</select>

<select id="MemName" style="display: none">
<option value="blank">Choose</option>
<option value="john">John</option>
<option value="hen">Hen</option>
</select>

<select id="EmpName" style="display: none">
<option value="blank">Choose</option>
<option value="smith">Smith</option>
<option value="will">William</option>
<option value="Gor">George</option>
</select>

<input type="submit" value="Submit" class="button" /> 
</form>

<?php
if (isset($_POST['formsubmitted'])){

if ($TPE == '1'){

$operationno = $_POST['operationno'];
$query_retrieve_maintenance = "Select Type from Maintenance where ID = '$operationno'";
$result_retrieve_maintenance = mysqli_query($dbh, $query_retrieve_maintenance);
$maintenance_type = mysqli_fetch_row($result_retrieve_maintenance);
$maintenance_typet = $maintenance_type[0];
echo $maintenance_typet;

} else if ($TPE == '2'){

$MainType = $_POST['MainType'];
if ($MainType=='email'){echo 'Email is not ava';}

} else if ($TPE == '3'){

$MemName = $_POST['MemName'];

} else if ($TPE == '4'){

$EmpName = $_POST['EmpName'];

} else{

$msg = 'not available';
}
}
?> 
```

正如您在代码中看到的，当用户选择操作号时，将显示一个文本字段，然后用户将输入操作号以显示此维护操作的类型。同样，当用户选择操作类型时，会显示维护类型列表，以便用户选择他需要的操作类型，以此类推其余的选择选项。

我面临的问题是处理用户选择或输入的内容（在按操作号搜索的情况下）。正如您在代码中看到的那样，我使用了`if (isset($_POST['formsubmitted'])){`但它不起作用。大家有什么建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:32:03.927

您的输入提交中缺少表单提交的名称：

```
<input type="submit" value="Submit" class="button" name="formsubmitted" /> 
```

这应该有效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:42:31.923

让我们看看你的例子：

```
if (current_value == "OpNo") {
    document.getElementById("operationno").style.display = "block";
    document.getElementById("MainType").style.display = "none";
    document.getElementById("MemName").style.display = "none";
    document.getElementById("EmpName").style.display = "none";
    <?php $TPE = '1'?>
} 
```

您将 PHP 代码粘贴到 javascript 中。但是`<?php $TPE = '1'?>`所有其他类似的语句都将由 PHP 执行，而不取决于 javascript 的条件。

您可以执行序列：

`If something happened in PHP (on server) -> then execute some code of javascript (on client)` 因为您将能够决定客户端应该执行什么 JS 代码。

但不能：

`If something happened in Javascript(client) -> execute code of PHP(server)`除非您向网页发送 xmlhttp 请求。

因此，在您的情况下，您`$TPE`将永远是`0`。

我的建议是：1.将您的数据放入数组进行映射，然后您可以对其进行改进：

```
$data = array(
  "OpNo" => 1,
  "OpTye" => 2,
  "OpMem" => 3,
  "OpEmp" => 4,
  "blank" => 5
); 
```

然后使您的选择在表单中可用，创建属性`name`

```
<select id="OpType" name="tpe" onChange="check();">
<option value="blank">Choose</option>
<option value="OpNo">Operation No</option>
<option value="OpTyp">Operation Type</option>
<option value="OpMem">Maintenance Member</option>
<option value="OpEmp">Employee</option>
</select><br> 
```

然后最后，从`$_POST`

```
<?php
    if (isset($_POST['tpe'])){
      if ((int) $_POST['tpe'] === $data['OpNo']){
        //Do your stuff.
      ?>
        <script>
          executeSomeJSFunctionsHere();
        </script>
      <?php
      }
    }
?> 
```

# null - NULL 日期的 RDL 表达式返回 #Error

> ID：15873570
> 
> 赞同：0
> 
> 时间：2013-04-08T07:28:02.830
> 
> 标签：null, report, expression, reportviewer, rdl

需要一些帮助，如上所述，这部分给我带来了麻烦，因为如果 date 的值为 NULL，它将显示为 #Error。如果有日期值没关系，但如果为 NULL 则没有。Argghhhhhhh....我已经在下面表达了几个表达式，但都没有解决问题：

```
=IIf(IsNothing(Fields!LastReviewDate.Value), "N/A", DateValue(Fields!LastReviewDate.Value).ToString("dd-MMMM-yyyy")) 

OR

IIf(Fields!LastReviewDate.Value Is Nothing, "N/A", DateValue(Fields!LastReviewDate.Value).ToString("dd-MMMM-yyyy")) 

OR

=IIf(Fields!LastReviewDate.IsMissing, "N/A", DateValue(Fields!LastReviewDate.Value).ToString("dd-MMMM-yyyy")) 
```

谁能告诉我如何解决这个问题？我希望用“”或“N/A”或“-”替换 NULL 日期......这是输出：

![如果日期为 NULL，则报告显示值为 #Error](https://i.stack.imgur.com/CrqHx.png)

我尝试更改数据源上的属性，但它给了我这种错误消息：

![更改数据源属性时出错](https://i.stack.imgur.com/nnQ5y.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T10:30:52.220

我现在找到了我的问题的解决方案，感谢 Uncle G' (Google) 为我提供了大量资源，感谢所有在互联网上分享知识的人！谢谢！！！

答案是 ：

1）为受影响的列配置表达式，在我的情况下，我需要检查我的日期类型列是否包含 NULL 值。这是我的例子：-

```
=Code.CheckForNull(Fields!LastReviewDate.Value) 
```

![第一步，改变表达式](https://i.stack.imgur.com/bPnPM.png)

2）查看 RDL 报告的 Visual Studio 菜单，选择 REPORT >>> REPORT PROPERTIES... 转到选项卡“代码”并将表达式的函数放入其中，这是我的示例：-

```
Public Function CheckForNull(ByVal value As Object) As String
    If IsNothing(value) Then
        Return "N/A"
    Else
        Return DateValue(value).ToString("dd-MMMM-yyyy")
   End If
End Function 
```

![必须报告属性](https://i.stack.imgur.com/n3kZ5.png)

3) 单击确定，保存解决方案并测试您放置 ReportViewer 的页面以查看结果，BRAVO 您做对了！！！ ![输入您的函数以响应您的报告表达式列](https://i.stack.imgur.com/sxmQK.png)

![在此处输入图像描述](https://i.stack.imgur.com/bRYGj.png)

# c# - Task 对象的返回语句在哪里？

> ID：15873575
> 
> 赞同：1
> 
> 时间：2013-04-08T07:28:27.710
> 
> 标签：c#, task-parallel-library, c#-5.0

以下代码编译并运行良好。但是 Consumer() 和 Producer() 方法的返回语句在哪里呢？

```
class Program
{
    static BufferBlock<Int32> m_buffer = new BufferBlock<int>(
        new DataflowBlockOptions { BoundedCapacity = 10 });

public static async Task Producer()   <----- How is a Task object returned?
{
    while (true)
    {
        await m_buffer.SendAsync<Int32>(DateTime.Now.Second);
        Thread.Sleep(1000);
    }
}

public static async Task Consumer() <----- How is a Task object returned?
{
    while (true)
    {
        Int32 n = await m_buffer.ReceiveAsync<Int32>();
        Console.WriteLine(n);
    }
}

static void Main(string[] args)
{
    Task.WaitAll(Consumer(), Producer());
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T11:50:52.227

虽然您的问题很明显 - 代码可以编译 - 并且其他答案试图通过示例进行解释，但我认为以下两篇文章最好地描述了答案：

1.  “表面上”的答案 - 全文在这里：http: [//msdn.microsoft.com/en-us/magazine/hh456401.aspx](http://msdn.microsoft.com/en-us/magazine/hh456401.aspx)

> [...] C# 和 Visual Basic [...] 为编译器提供了足够的提示，以便在幕后为您构建必要的机制。该解决方案有两个部分：一个在类型系统中，一个在语言中。
> 
> CLR 4 版本定义了类型 Task [...] 来表示“某些工作将在未来产生类型 T 的结果”的概念。“将在未来完成但不返回结果的工作”的概念由非泛型 Task 类型表示。
> 
> 确切地说，类型 T 的结果将在未来如何产生是特定任务的实现细节；[...]
> 
> 解决方案的语言部分是新的 await 关键字。常规方法调用意味着“记住你在做什么，运行这个方法直到它完全完成，然后从你离开的地方继续，现在知道方法的结果。” 相比之下，await 表达式的意思是“评估此表达式以获得一个对象，该对象表示将来会产生结果的工作。将当前方法的其余部分注册为与该任务的继续相关的回调。一旦生成了任务并注册了回调，立即将控制权返回给我的调用者。”</p>

2.引擎盖下的解释在这里找到：http: [//msdn.microsoft.com/en-us/magazine/hh456403.aspx](http://msdn.microsoft.com/en-us/magazine/hh456403.aspx)

> [...] Visual Basic 和 C# [...] 让您表达不连续的顺序代码。[...] 当 Visual Basic 或 C# 编译器获取异步方法时，它会在编译期间对其进行相当多的破坏：底层运行时不直接支持该方法的不连续性，并且必须由编译器模拟。因此，您不必将方法分解成小块，编译器会为您完成。[...]
> 
> 编译器将您的异步方法转换为状态机。状态机跟踪您在执行中的位置以及您的本地状态。[...]
> 
> 异步方法产生任务。更具体地说，异步方法从 System.Threading.Tasks 返回 Task 或 Task 类型之一的实例，并且该实例是自动生成的。它不必（也不能）由用户代码提供。[...]
> 
> 从编译器的角度来看，生成任务是容易的部分。它依赖于框架提供的任务构建器概念，在 System.Runtime.CompilerServices [...] 中找到。构建器让编译器获得一个任务，然后让它用结果或异常完成任务。[...] 任务构建器是特殊的辅助类型，仅用于编译器使用。[...]
> 
> [...] 围绕任务的生产和消费建立一个状态机。本质上，原始方法中的所有用户逻辑都被放入了恢复委托中，但是局部变量的声明被取出，因此它们可以在多次调用中存活下来。此外，引入了一个状态变量来跟踪事情的进展情况，并且恢复委托中的用户逻辑被包装在一个大开关中，该开关查看状态并跳转到相应的标签。因此，每当调用恢复时，它都会立即跳回到上次停止的位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T08:24:19.063

`async`关键字 kind of 告诉编译器方法体应该用作任务体。简单来说，我们可以说这些等同于您的示例：

```
public static Task Producer()   <----- How is a Task object returned?
{
    return Task.Run(() => 
           {
               while (true)
               {
                    m_buffer.SendAsync<Int32>(DateTime.Now.Second).Wait();
                    Thread.Sleep(1000);
               } 
           });
}

public static Task Consumer() <----- How is a Task object returned?
{
    return Task.Run(() => 
           {
                while (true)
                {
                     Int32 n = m_buffer.ReceiveAsync<Int32>().Wait();
                     Console.WriteLine(n);
                }
           });
} 
```

当然，你方法的编译结果会和我的例子完全不同，因为编译器足够聪明，它可以以这种方式生成代码，所以你方法中的一些行将在上下文（线程）上调用，它调用方法和其中一些在背景上下文中。而这实际上是为什么`Thread.Sleep(1000);`不推荐在`async`方法体中，因为这段代码可以在调用该方法的线程上调用。Task 具有等价物，可以替换`Thread.Sleep(1000);`等价物`await Task.Delay(1000)`，将在后台线程上调用。如您所见`await`，关键字保证您将在后台上下文中调用此调用，并且不会阻塞调用者上下文。

让我们再看一个例子：

```
async Task Test1()
{
    int a = 0; // Will be called on the called thread.
    int b = await this.GetValueAsync(); // Will be called on background thread 
    int c = GetC(); // Method execution will come back to the called thread again on this line.
    int d = await this.GetValueAsync(); // Going again to background thread
} 
```

所以我们可以说这将生成代码：

```
Task Test1()
{
    int a = 0; // Will be called on the called thread.
    vat syncContext = Task.GetCurrentSynchronizationContext(); // This will help us go back to called thread

    return Task.Run(() => 
      {
           // We already on background task, so we safe here to wait tasks
           var bTask = this.GetValueAsync();
           bTask.Wait();
           int b = bTask.Result;

           // syncContext helps us to invoke something on main thread
           // because 'int c = 1;' probably was expected to be called on 
           // the caller thread
           var cTask = Task.Run(() => return GetC(), syncContext); 
           cTask.Wait();
           int c = cTask.Result;

           // This one was with 'await' - calling without syncContext, 
           // not on the thread, which calls our method.
           var dTask = this.GetValueAsync();
           dTask.Wait();
           int d = dTask.Result;
      });
} 
```

同样，这与您从编译器获得的代码不同，但它应该只是让您了解它是如何工作的。如果您真的想查看生成的库中的内容，请使用[IlSpy](http://ilspy.net/)来查看生成的代码。

另外我真的推荐阅读这篇文章[异步编程的最佳实践](http://msdn.microsoft.com/en-us/magazine/jj991977.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T19:06:59.210

这正是`async`关键字的含义。它接受一个方法并（通常）将其转换为`Task`返回方法。如果普通方法的返回类型为`void`，则该`async`方法将具有`Task`。如果返回类型是其他`T`类型，则新的返回类型将是`Task<T>`.

例如，要同步下载某个进程的一些数据，您可以编写如下内容：

```
Foo GetFoo()
{
    string s = DownloadFoo();
    Foo foo = ParseFoo(s);
    return foo;
} 
```

异步版本将如下所示：

```
Task<Foo> GetFoo()
{
    string s = await DownloadFoo();
    Foo foo = ParseFoo(s);
    return foo;
} 
```

请注意，返回类型从 更改`Foo`为`Task<Foo>`，但您仍然只返回`Foo`。与`void`-returning 方法类似：因为它们不必包含`return`语句，`async Task`（没有任何`<T>`）方法也不需要。

该`Task`对象由编译器生成的代码构造，因此您不必这样做。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-08T08:21:07.633

当方法没有返回语句时，它的返回类型是Task。看看Async Await的[MSDN 页面](http://msdn.microsoft.com/en-us/library/hh524395.aspx)

> 异步方法具有三种可能的返回类型：`Task<TResult>, Task, void`

如果你需要一个任务，你必须指定返回语句。取自 MSDN 页面：

```
// TASK<T> EXAMPLE
async Task<int> TaskOfT_MethodAsync()
{
   // The body of the method is expected to contain an awaited asynchronous 
   // call. 
   // Task.FromResult is a placeholder for actual work that returns a string. 
   var today = await Task.FromResult<string>(DateTime.Now.DayOfWeek.ToString());

   // The method then can process the result in some way. 
   int leisureHours;
   if (today.First() == 'S')
      leisureHours = 16;
   else
     leisureHours = 5;

    // Because the return statement specifies an operand of type int, the 
    // method must have a return type of Task<int>. 
    return leisureHours;
} 
```

# javascript - Flash 无法在 Windows 8 / Internet Explorer 10 上运行

> ID：15873578
> 
> 赞同：1
> 
> 时间：2013-04-08T07:28:41.743
> 
> 标签：javascript, flash, internet-explorer, swfobject

由于某种原因，我的网页在 Internet Explorer 10 上没有显示 Flash 内容。它正在使用早期版本的 IE。

我将 swfobject.js 用于 Flash 内容。

**这是代码：**

```
<script type="text/javascript">
    swfobject.embedSWF("http://www.foobar.com/flash/movie.swf", "noflash", "223", "154", "9.0.0", "http://www.foobar.com/flash/expressInstall.swf");
</script>

<div id="noflash">

</div> 
```

我注意到闪光灯在一些网站上工作，但在我的网站上却没有。

这里可能是什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-10T20:55:58.193

澄清一下，Internet Explorer 10 及更高版本在 Windows 8 及更高版本上支持 Flash Player；但是，Internet Explorer 的现代化努力破坏了 SWFObject 区分 Internet Explorer 和其他浏览器的能力。因为 IE 使用 ActiveX 控件而不是 NPAPI 或 PPAPI 插件，所以调用是不同的，并且 IE 中的更改会在许多站点上与现有 JavaScript 注入兼容性问题。

SWFObject 是一个有用的库，它为标准 HTML 对象和嵌入标签提供了一些额外的好处。我在 SWFObject 错误库中看到一些评论说问题在 SWFObject 2.1 中已解决，但在 SWFObject 2.2 中未解决。我还没有测试过，但这可能是一个很好的短期解决方法。

否则，您可以找到大量关于如何使用传统 HTML 方法在您的网站上嵌入 Flash 内容的[示例。](https://stackoverflow.com/questions/1333202/embed-flash-in-html)这是语法的完整指南：[https ://helpx.adobe.com/flash/kb/flash-object-embed-tag-attributes.html](https://helpx.adobe.com/flash/kb/flash-object-embed-tag-attributes.html)

在 2000 年代初期，通过 JavaScript 嵌入插件作为一种解决专利流氓活动的方法变得流行，但我相信 IP 持有者成功地从财大气粗的人那里勒索钱财，并回到了各自的洞穴。Object 和 Embed 标记目前在所有主要浏览器中都可以使用，并且在 SWFObject 获得更新之前是一种可行的解决方法。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-10-17T12:16:21.487

看来微软的天才们决定在Windows 8自带的某些IE10版本中不支持flash了。根据这些支持页面，你需要添加一个meta标签来提示用户切换到兼容的IE10版本。

< meta http-equiv="X-UA-Compatible" content="requiresActiveX=true" />

微软不是盛大的吗？

[http://msdn.microsoft.com/en-us/library/ie/jj193557(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/ie/jj193557(v=vs.85).aspx)

[https://code.google.com/p/swfobject/issues/detail?id=643](https://code.google.com/p/swfobject/issues/detail?id=643)

# image - 如何从 windows phone 的列表框中获取选定的图像？

> ID：15873579
> 
> 赞同：1
> 
> 时间：2013-04-08T07:28:48.297
> 
> 标签：image, listbox, windows-phone-8

```
I use the below code for add images into list box.

public class ImageData
    {
        public string ImagePath
        {
            get;
            set;
        }

        public string Name
        {
            get;
            set;
        }
    }
private void Images_Click(object sender, EventArgs e)

{
List<ImageData> dataSource = new List<ImageData>() 
                { 
                    new ImageData(){Name="XXX", ImagePath="XXX.png"},
                    new ImageData(){Name="YYY", ImagePath="YYY.png"},
                    new ImageData(){Name="ZZZ", ImagePath="ZZZ.png"},
                };

        this.Image_List.ItemsSource = dataSource;
} 
```

此代码运行良好....

现在我想选择特定图像并将其粘贴到图像控件或画布中。

有可能的。

请帮我。提前致谢........

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:37:36.943

您应该使用 SelectedItem 属性并将其转换为 ImageData

```
var selectedImage = (ImageData)this.Image_List.SelectedItem; 
```

有一个很好的例子说明如何在 msdn [http://msdn.microsoft.com/pl-pl/library/system.windows.forms.listbox.selectedindexchanged.aspx上使用它](http://msdn.microsoft.com/pl-pl/library/system.windows.forms.listbox.selectedindexchanged.aspx)

# sharepoint - 如何获取 Word 文档中共享点列表中的所有项目并将其存储在具有模板的文档库中？

> ID：15873582
> 
> 赞同：-1
> 
> 时间：2013-04-08T07:28:55.770
> 
> 标签：sharepoint, workflowservice

我的网站中有一个自定义列表（Sharepoint），一群人向其中添加项目。我有一个文档库，其中有一个 word 模板，可以精确地存储自定义列表中的列表项。我需要设计一个工作流程，以便我可以每周将所有项目添加到列表中（如每周报告）。

我需要每周创建一个文档，其中包含该周添加的所有项目。我无法继续进行工作流程设计。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T09:23:33.557

从您的问题来看，您似乎更喜欢使用工作流程，但为什么不使用附加到文档库的事件接收器从 word 文档中读取所需数据并创建必要的列表项？如果您需要以报告的形式执行此操作，您可以使用 Timer Jobs 来执行此操作吗？使用 OOTB SharePoint 工作流来实现这一点可能会比它需要的更复杂。其他人可能不同意。

# sql - 更新查询处理

> ID：15873588
> 
> 赞同：0
> 
> 时间：2013-04-08T07:29:08.287
> 
> 标签：sql, jsp, sql-update

请提供解决方案

我正在尝试触发以下更新查询 -

```
update_query="UPDATE demo.shop SET S_NO=1 , NAME='df' , VENDOR='xyz' , VERSION='10.10' ,INSTALL_PATH='/bin' , LICENSE='null' , SERVER_NAME='serv' WHERE NAME='name1' AND VERSION='10.10' ";

statement.executeUpdate(update_query); 
```

除 S_NO 字段外，所有字段均为 varchar2 类型

但浏览器继续在后台处理（我的意思是光标继续滚动）但更新操作不成功......即使光标没有回到就绪模式......它继续滚动

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T14:48:41.333

任何进程都在锁定对数据库、表或行的写入。如果您有未提交的交易，您将无法更改这些数据。

查看：

1.  Toad 或任何其他用于未提交事务的数据库管理器。
2.  您的任何开发系统（如果它们在事务中进行调试）
3.  对用户/主机使用“显示进程列表”检查行/表/数据库的更改

问候

# windows-phone-7 - 是否可以在 WP7 上运行使用 C++ for WP8 创建的应用程序？

> ID：15873590
> 
> 赞同：1
> 
> 时间：2013-04-08T07:29:18.230
> 
> 标签：windows-phone-7, windows-phone-8

我将使用 C++ 开发 WP8 应用程序，但我想知道它是否也可用于 WP7。

# php - 从 EC2 连接到 mongo 副本集

> ID：15873594
> 
> 赞同：0
> 
> 时间：2013-04-08T07:29:24.907
> 
> 标签：php, mongodb, amazon-ec2

我正在尝试使用 PHP 连接到 mongo 副本集，

我的代码如下所示：

```
$options = array(
                'replicaSet' => 'Repset',
                'readPreference' => 'primaryPreferred',
        );
        $connection = new MongoClient("mongodb://ip-10-1-2-3.ec2.internal:27017,ip-10-1-2-4.ec2.internal:27017/", $options); 
```

当我这样做时，我得到一个错误：

```
No candidate servers found 
```

如果我将连接字符串简化为：

```
$connection = new MongoClient("mongodb://ip-10-1-2-4.ec2.internal:27017/"); 
```

然后它连接到服务器，但这不是正确的方式，因为我使用的是副本集

我做错了什么，连接脚本似乎是正确的，但显然不是。

将不胜感激任何帮助。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-06-19T07:49:28.460

您是否尝试过在 $options 之前删除空间？

# java - 如果被覆盖，我如何告诉编译器必须调用 Java 函数？

> ID：15873606
> 
> 赞同：0
> 
> 时间：2013-04-08T07:29:54.727
> 
> 标签：java, android

在 Android 中，有一种非常标准的方法可以让您的系统类与它们的系统类交互：

```
@Override
public void onResume() {
    super.onResume ();
    //your code here
} 
```

当您在 Eclipse 中键入“onr”然后控制空间时，存根会像这样填写，并在调用中使用 super 方法。您将如何表明您想从超类中执行此操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:34:31.317

There are two cases for calling a function in a subclass from the superclass:

*   **When the superclass or one of its ancestors has declared the function that you want to call** - simply call that function: the override is going to be called.
*   **When the function is first introduced in a subclass** - you need an explicit cast in your call. This option almost always indicates a problem in your design, and should be avoided.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:37:43.803

when implementing subclassing, you can override any public or protected method, the default behavior of a overridden method in Eclipse is to do what the parent class does, therefor the automatic code for any method that's overriden is to call the parent via `super`.

# sql - 我也让其他部门的员工

> ID：15873612
> 
> 赞同：-1
> 
> 时间：2013-04-08T07:30:06.627
> 
> 标签：sql, sql-server, tsql

我有一张表，我有数百万条记录，我想要一个查询，该查询应该返回员工属于 IT 部门，出生日期应该为空或 1970-01-01 或 1961-01-01，员工状态应该是活动的。

我想要这样的结果

```
EmployeeID  Dept    Status  DateOfBirth
1           IT  Active  19600101
2           IT  Active  19700101
3           IT  Active  19600101
4           IT  Active  19700101
5           IT  Active  Null
6           IT  Active  Null 
```

请帮助提前谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T07:32:41.563

您需要做的就是`WHERE`在您的查询中提供一个根据您的条件进行过滤的查询。

```
SELECT  *
FROM    TableName
WHERE   Dept = 'IT' AND
        [Status] = 'Active' AND
        (
           DateOfBirth = 19700101 OR
           DateOfBirth = 19600101 OR
           DateOfBirth IS null
        ) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T09:32:00.353

上面的答案对我来说看起来是正确的，但是如果它们对您不起作用，请尝试使用 LIKE 关键字：

SELECT * FROM TableName WHERE Dept Like '%IT%' AND [Status] Like '%Active%' AND ( DateOfBirth = 19700101 OR DateOfBirth = 19600101 OR DateOfBirth IS null )

如果这不起作用，请分享您的表结构。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:34:30.023

Try this.

```
SELECT 
    EmployeeID,
    Dept,
    Status,
    DateOfBirth
FROM 
   yourTable
WHERE
    Dept = 'IT'
    AND Status = 'Active'
    AND (DateOfBirth IN (19700101, 19610101) OR DateOfBirth IS NULL) 
```

# python - 通过创建具有两列的新熊猫 DataFrame 的条件拆分单列

> ID：15873613
> 
> 赞同：1
> 
> 时间：2013-04-08T07:30:13.353
> 
> 标签：python, pandas

我想取一个包含值的列，通过一个条件分成两列，然后为这些分布生成 pmf 并绘制为直方图。

给定一列`a`，通过创建一个新数据框的条件来拆分该列的最佳方法是什么？

```
import numpy as np
df = DataFrame(np.random.rand(10, 4), columns=['a', 'b', 'c', 'd']) 
```

我尝试使用原始的过滤系列创建一个新的 DataFrame .. 但这似乎不起作用：

```
DataFrame([df2[df2.a> 0.5].a, df2[df2.a <= 0.5].a], columns=("a_gt", "a_lt")) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:59:03.143

您可以使用 join，但这实际上取决于您要查找的结果类型。

创建一个连接的 DataFrame：

```
import numpy as np
import pandas as pd

df = pd.DataFrame(np.random.normal(loc=.5,scale=.2,size=(1000, 4)), columns=['a', 'b', 'c', 'd'])

df1 = pd.DataFrame(df[df.a> 0.5].a)
df2 = pd.DataFrame(df[df.a<= 0.5].a)

dfjoined = df1.join(df2, lsuffix='_gt', rsuffix='_lt', how='outer') 
```

在同一轴上绘图：

```
fig, ax = plt.subplots(1,1)

ax.hist(dfjoined.a_gt, bins=10,range=(0,1), color='r')
ax.hist(dfjoined.a_lt, bins=10,range=(0,1), color='b') 
```

![在此处输入图像描述](https://i.stack.imgur.com/R8qrg.png)

我认为 Pandas 中当前的 hist() 实现缺乏对 bin 大小和范围（？）的良好控制，所以我使用了 matplotlib 的 histogram 函数。Numpy 还有一个直方图功能。

# mysql - 加入两个有条件的表

> ID：15873616
> 
> 赞同：0
> 
> 时间：2013-04-08T07:30:15.083
> 
> 标签：mysql, left-join, union

我必须表格，我想用 SQL 查询加入它们。这可能是世界上最简单的事情，但是……好吧。

表“计数”：

```
-----------------------------
¦ id   ¦ segment    ¦ count ¦
"""""""""""""""""""""""""""""
¦ 1    ¦ fruits     ¦ 0     ¦
-----------------------------
¦ 2    ¦ sweets     ¦ 2     ¦
----------------------------- 
```

表“食物”：

```
-------------------------------------
¦ id   ¦ type            ¦ segment  ¦ 
"""""""""""""""""""""""""""""""""""""
¦ 1    ¦ banana          ¦ fruits   ¦
-------------------------------------
¦ 2    ¦ cranberries     ¦ fruits   ¦
-------------------------------------
¦ 3    ¦ strawberries    ¦ fruits   ¦
-------------------------------------
¦ 4    ¦ chocolate       ¦ sweets   ¦
-------------------------------------
¦ 5    ¦ candy           ¦ sweets   ¦
------------------------------------- 
```

我想用水果和糖果填满一个“食物盒”。只有糖果仍然可以添加到“食物盒”中，因为里面已经有足够的水果了。

由于无法再添加水果（水果 = 0），我如何仅列出糖果（巧克力和糖果）？

到目前为止我的查询：

```
SELECT type.food
FROM count, food 
WHERE type.food LIKE '%$query%' AND segment.food > '1' 
```

（这些项目应该在用户在搜索字段中输入所需项目之后列出。因此我使用了 LIKE。）

任何帮助深表感谢！

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-08T07:36:50.740

当你想加入时，应该有一个条件。. 并且您使用的别名不正确，它应该是`food.type`而不是`type.food`

因为你想匹配多个值 LIKE 不会帮助你.. 可能[find_in_set](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html)是你想要的......

试试这个

```
SELECT f.type
FROM count c
join food f 
on c.segment = f.segment 
where  FIND_IN_SET(f.segment, 'sweets,fruit') and c.count >=1 
```

见[小提琴](http://sqlfiddle.com/#!2/25d4b/1)

希望它可以帮助你..

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-08T07:38:20.103

```
SELECT food.type FROM count, food WHERE food.segment = count.segment AND food.type LIKE '%$query%' AND count.count > 0 
```

# c++ - cv::Mat的释放方法

> ID：15873617
> 
> 赞同：6
> 
> 时间：2013-04-08T07:30:24.600
> 
> 标签：c++, opencv, free, mat

我想确认`cv::Mat::release()`方法是否类似于`free()`C 编程中的方法，即它从内存中释放矩阵数据。

特别是，我想了解此方法在内存泄漏方面的行为，并确保在可能的程序中没有泄漏。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-08T08:06:11.073

如果引用计数器等于 1，那么是的，`cv::Mat::release()`会将其减为零并释放结构（如`free`在 C 中）。

如果引用计数器大于一（即，有其他对象对结构感兴趣），则*只会*`cv::Mat::release()`递减引用计数器。

 *您可以通过调用该方法来增加结构的引用计数器`cv::Mat`（即，标记您对它感兴趣并且您不希望它被释放） 。`cv::Mat::addref()`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-08T09:27:04.880

您不必手动释放 cv::Mat 对象，因为它是自动管理的，除非您已从 Iplimage 初始化 Mat，在这种情况下您应该手动释放它 deallocate()。

请参考这个线程。

[openCV 将 IplImage 与 cv::Mat 混合](https://stackoverflow.com/questions/11156019/opencv-mixing-iplimage-with-cvmat)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-04-13T10:10:06.363

我使用这样的代码结构（带有 C++ 的 OpenCV）出现内存泄漏：

```
int i;
while(true){
    Mat x = imread("C:/pics"+i+".jpg");
    //do something with x
} 
```

经过 100 次左右的迭代后，它总是崩溃，然后我将代码更改为：

```
int i;
while(true){
    Mat x = imread("C:/pics"+i+".jpg");
    //do something with x
    x.refcount = 0;
    x.release();
} 
```

它停止崩溃并进行了完整的迭代。但是当手动将 refcount 设置为 0 时，您必须确定您不再需要该对象。这可能是有人对我的答案投反对票的原因，但我使用这种方法解决了我的问题。那我为什么不分享呢？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-10-29T23:49:02.203

以下程序片段测试 Mat::release() 的行为（改编自[opencv-org-answer](http://answers.opencv.org/question/14285/how-to-free-memory-through-cvmat/)）

```
using namespace std;
using namespace cv;

int main(int argc, char **argv) {
    cout << "test_mat_release.cpp" << endl;

    {
        //memory is released
        const char *pzInputImg = "data/em_sample.png";

        Mat img;
        img = imread(pzInputImg);
        assert(img.data);
        img.release();
        assert(!img.data);
    }
    {
        //memory is released
        Mat img(100, 100, CV_32FC1);
        assert(img.data);
        img.release();
        assert(!img.data);
    }

    {   
        //Since Mat does not owns data , data is not released
        //you have to explicitly release data
        int cols=17;
        int rows=15;
        unsigned char * data = new unsigned char[rows*cols*3];
        Mat img(rows, cols, CV_8UC3, data);
        assert(img.data);
        img.release();
        assert(!img.data);
        delete [] data;
    }

    Mat imgRef;
    {
        //memory is not released
        //since there img.data is now shared with imgRef
        Mat img(100, 100, CV_32FC1);
        imgRef=img;
        assert(img.data);
        assert(img.data == imgRef.data);
        img.release();
        assert(img.empty());
        assert(!img.data);
        //img.data is NULL, but imgRef.data is not NULL, so data is not de-allocated
        assert(!imgRef.empty());
        assert(imgRef.data);
    }
    return 0;
} 
```*

# wix - WiX Burn：如何将安装程序可执行文件部署到某个位置？

> ID：15873618
> 
> 赞同：2
> 
> 时间：2013-04-08T07:30:29.880
> 
> 标签：wix, burn

我已经使用 WiX 3.7 和 Burn 成功创建了一个链式安装包。安装程序本身使用 WixStandardBootstrapperApplication。

有没有办法将整个烧录包部署（即复制）到某个位置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T13:34:02.070

Burn 提供“布局”操作，将所有 Bundle 内容复制到指定目录。wixstdba 确实支持此操作，因此您可以像这样使用它：

```
yourbundle.exe /layout optional\path\to\layout\folder 
```

如果您不指定，`optional\path\to\layout\folder`则 Burn 将布局到 yourbundle.exe 所在的文件夹。

# php - 在 Prestashop 版本 1.5.3 中的产品管理页面中添加新选项卡，例如功能选项卡、属性选项卡等

> ID：15873620
> 
> 赞同：11
> 
> 时间：2013-04-08T07:30:47.813
> 
> 标签：php, module, e-commerce, prestashop

我想在 PS 版本 1.5.x 中使用自定义模块在产品管理页面中添加一个新选项卡，例如功能选项卡、属性选项卡等。我将此选项卡添加到产品编辑页面，以便我可以添加将产品视频上传到管理员的选项。

这是我想要实现的屏幕截图：

![在此处输入图像描述](https://i.stack.imgur.com/lKmB6.jpg)

## **编辑**

我在这里找到了一个解决方案：http: [//blog.belvg.com/how-to-create-a-custom-product-tab-in-prestashop.html](http://blog.belvg.com/how-to-create-a-custom-product-tab-in-prestashop.html)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-05-23T09:51:52.910

您将需要创建一个与 displayAdminProductsExtra 挂钩的模块。

displayAdminProductsExtra - 这是附加产品选项卡的挂钩，

在你的模块中，你必须在 install 函数中注册这个钩子：

```
!$this->registerHook('displayAdminProductsExtra') 
```

那么你必须用这个钩子创建函数：

```
 public function hookDisplayAdminProductsExtra($params) {
     return $this->display(__FILE__, 'tab-body.tpl');
} 
```

就这样..

# groovy - 在范围内使用断言时，会失败？

> ID：15873621
> 
> 赞同：1
> 
> 时间：2013-04-08T07:30:50.890
> 
> 标签：groovy

我看过一些范围的例子。

断言 (0.0 .. 1.0).contains(0.5)

我希望这个是真的，但我对此是假的？

任何线索为什么这个断言失败了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T08:14:38.723

A`groovy.lang.Range`是一个值，在这种情况下是两个`List`。这就是`Comparable`为什么`List.contains`返回`false`. `0.5`你想要的是`Range.containsWithinBounds`.

# php - Linux 上的 Web 开发（与 Windows 不同的字体渲染）

> ID：15873623
> 
> 赞同：1
> 
> 时间：2013-04-08T07:30:55.533
> 
> 标签：php, ruby-on-rails, linux, web-applications, ubuntu

我正在 Linux 操作系统（Ubuntu，Linux Mint..）上进行 Web 开发。站点在 Windows 和 Linux 中看起来不同。尽管试图使两种字体完全相同，但 Linux 中 Firefox 上的字体看起来比 Windows/Mac 中 Firefox 上的字体更小/更短。

你们中的任何在 Linux 操作系统上开发的 Web 开发人员都有同样的问题吗？你如何处理它？

我发现了一个和我类似的问题，但还没有回答。[当您在 Ubuntu 中开发 Web 应用程序时知道您使用的字体在 Windows 上看起来会有所不同，您的工作流程是怎样的？](https://stackoverflow.com/questions/15300315/how-is-your-workflow-when-you-develop-a-web-app-in-ubuntu-knowing-that-the-font)

谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-08T07:38:16.987

字体渲染在每个单独的系统上都是不同的。即使是同一操作系统的不同版本，在字体渲染（包括可访问性设置和屏幕锐化方面的差异）方面也可能存在显着差异，更不用说完全不同的操作系统和完全不同的平台（台式机、平板电脑和移动设备等）。

确保它在所有平台上看起来都可接受的唯一方法是在尽可能多的平台上进行测试；**虚拟机**是这里事实上的首选工具。微软为此提供[免费的 Windows 版本供下载，](http://www.modern.ie/en-us/virtualization-tools) [VirtualBox](https://www.virtualbox.org)是一个免费的虚拟机包。

你不能让它在所有平台上看起来都*一样*，但你可以确保它对于各自平台的用户来说看起来可以接受、可用和“原生”。

# sql - 创建新表或视图或创建存储过程，或创建函数？拥有一个包含不同字段的新表

> ID：15873630
> 
> 赞同：-2
> 
> 时间：2013-04-08T07:31:26.023
> 
> 标签：sql, sql-server-2008

请帮忙，我正在为工时计时做一个新项目。我们有一个名为 EmployeePunches 的生产表，其中有 EmployeeNumber、BusinessDate、Clockin、Clockout 等字段。现在，第 3 方应用程序正在寻找我们旧的工时表设置，其中有 EmployeeNumber、BusinessDate、Time、Time_Event。EmployeePunches 表是固定的，他们不想编辑它。而访问旧工时表的 3rd 方应用程序过于昂贵，并且会花费时间来定制。

我的建议是创建一个新表，这个新表将从 EmployeePunches 获取数据，而字段将更改为工时表，其中有 time_event - I=in 和 O=out 以满足第 3 方应用程序的要求。

我的问题是这种场景的最佳实现是什么。急需专家帮助。

先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:35:07.060

最好的实现是使用视图。这可确保基础数据始终与表中的最新数据对齐。

向后兼容是使用视图的一种非常好的方式。

如果您对视图有性能问题，请调查索引视图。这些允许您在视图上构建索引以提高性能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:35:37.467

您不知道 EmployeePunches 的数据字典是什么，既不提供示例数据，但看起来视图是这里最好的方法。带有字段的简单 SELECT 并更改 time_event。

# c# - 在任何（C#/ASP.Net/Javascript/MySQL）中自动生成数字

> ID：15873640
> 
> 赞同：-2
> 
> 时间：2013-04-08T07:32:03.943
> 
> 标签：c#, javascript, asp.net, mysql, c#-4.0

我们正在创建**C#、ASP.Net**应用程序。我需要根据 5 个组创建自动生成 ID 并将其显示在文本框中

假设有**5 个组**，（1000 -2000 是自动生成 No的**数字范围）**

```
Group 1 ---> 1000-2000
Group 2 ---> 2001-3000
Group 3 ---> 3001-4000
Group 4 ---> 4001-5000
Group 5 ---> 5001-6000 
```

对于第 1 组，第一个记录号是 1000，下一个记录是 1001。但是如果用户输入 1500 ，它必须采用相同的 no，但之后**下一次自动生成的 no 将是 1002 而不是 1501。**

这个逻辑应该如何实现。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:44:51.197

在 mysql 你可以做

```
SELECT
  IF(MIN(myId) is null, @minimum, MIN(myId) + 1) AS nextId 
FROM
  myTable t1
    LEFT JOIN myTable t2
      ON t2.myId = (t1.myId + 1)
WHERE
  t2.myId is null
  AND t1.myId >= @minimum
LIMIT
  1 
```

@minimum 应该是组范围的开始（例如 1000、2000 等）

在其他语言中，我建议使用简单的 for 循环

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-10-01T08:43:04.287

实现所需结果的一种方法是使用一种仅跟踪自动生成的 ID 的方法。仅当用户未输入自己的 ID 时才应调用此方法。如果用户输入他们自己的 ID，请不要调用自动生成方法。

这将运行良好，直到自动生成的 ID 上升到比某些用户选择的 ID 小 1 的 ID。如果自动生成尝试在那里工作，它会生成一个已经在系统中的 ID。

因此，您将需要自动生成方法中的逻辑，以便在这种情况下进一步增加。直到获得有效身份证件。

# jquery - jQuery 显示/隐藏焦点问题

> ID：15873641
> 
> 赞同：4
> 
> 时间：2013-04-08T07:32:10.190
> 
> 标签：jquery, focus

从输入文本字段下方出现一个下拉列表。当前配置为在文本输入字段失焦时隐藏此下拉列表。问题是，用户需要能够单击下拉列表本身以显示另一个区域，但这样做时下拉列表本身会在其他区域显示之前隐藏。注释掉[小提琴](http://jsfiddle.net/hotdiggity/uPgu6/)第 15-17 行以查看其他区域的正确显示。

```
 <!DOCTYPE html>
        <html lang="en">
        <head>
        <title>Dynamic show/hide</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
        <script>
          $(function () {

              $(".addressFill").hide();
              $(".dropdown").hide();

              function showElem() {
                  $(".addressFill").show();
              }

              $(".addresspicker").click(function () {
                  $("ul.dropdown").toggle();
              });

              // Problem starts here
              $(".addresspicker").focusout(function () {
                  $(".dropdown").hide();
              });
              // ends

              $("ul.dropdown").on("click", "li", showElem);
          });
        </script>
        <style>
        .dropdown { margin-left: 0.5em; padding: 0.5em; background: #fff; position: absolute; z-index: 999; border-top: 1px solid #B9B9B9; border-left: 1px solid #B9B9B9; border-right: 1px solid #7D7D7D; border-bottom: 1px solid #7D7D7D; }
        ul { list-style-type: none; }
        .dropdown li { padding: 0.5em; }
        .dropdown li:hover { background-color: #eee; }
        .dropdown li a:hover { text-decoration: none; }
        p.addressFill { float: right; }
        </style>
        </head>
        <body>
    <form>
<fieldset>
        <div class="section">
          <label class="FieldLabel">Address:<span class="required">*</span></label>
          <div class="autofill">
        <input name="" maxlength="38" size="38" id="" type="text" title="addresspicker" class="addresspicker" />
        <ul class="dropdown">
          <li><a href="#">Item 1</a></li>
          <li><a href="#">Item 2</a></li>
          <li><a href="#">Item 3</a></li>
          <li><a href="#">Item 4</a></li>
        </ul>
      </div>
    </div>
        <p class="addressFill"> Show/hide section </p>
        </fieldset>
        </form>
        </body>
        </html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:46:19.040

我确信有更好的方法，但是您可以尝试使用[**setTimeout()**](https://developer.mozilla.org/en/docs/DOM/window.setTimeout)并在用户完成菜单时和/或在给定时间过去后延迟自动关闭菜单，类似于：

```
// stores the setTimeout result
var timeOut;

// closes the menu
var closeMenu = function () {
    $("ul.dropdown").hide();
};

// resets the timeout using the specified delay
var resetTimeout = function(newDelay){
    if (timeOut > 0) {
            clearTimeout(timeOut);
        }

        timeOut = setTimeout(function () {
            closeMenu()
        }, newDelay);
};

$(function () {
    // use to store timeout
    var timeOut = null;

    // ...removed unchanged code for readability

    // Problem starts here

    // reset timeout when focus is lost on input
    $(".addresspicker").focusout(function () {
        resetTimeout(1000);
    });

    // reset the timeout when moving over or leaving the menu
    $("ul.dropdown").on('mousemove mouseleave', function () {
        resetTimeout(1000);
    })
    // ends

    // ...removed unchanged code for readability
}); 
```

* * *

[**演示**](http://jsfiddle.net/N5ER8/)- 使用`setTimeout()`

* * *

这只是使用的众多变体之一`setTimeout()`。您可以非常详细地改善用户体验。
很可能有一种更有效的方法可以将这一切一起完成，也可以在课程之外进行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T08:09:10.493

你可以使用[.stopPropagation();](http://api.jquery.com/event.stopPropagation/)

[jsfiddle](http://jsfiddle.net/lollero/uPgu6/10/) - 基本上单击文档将隐藏下拉菜单，除非您单击`.addresspicker`或`.dropdown`。

```
// Removed the focusout and added these...
$(".addresspicker, .dropdown").click(function ( e ) {
    e.stopPropagation();
});

$(document).click(function( e ){
    $("ul.dropdown").hide();
}); 
```

# wpf - 在 WPF 应用程序启动时加载图像

> ID：15873642
> 
> 赞同：0
> 
> 时间：2013-04-08T07:32:13.143
> 
> 标签：wpf

如何加载图像，显示应用程序启动过程？请帮助我提供适当的教程。

我需要的是当有人点击应用程序图标时，应该显示加载过程图像以显示进度？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T09:52:35.553

您可以使用[SplashScreen](http://msdn.microsoft.com/en-us/library/system.windows.splashscreen.aspx)。

从 SplashScreen 的备注部分：

> 当 WPF 应用程序启动时，使用 SplashScreen 类在启动窗口或初始屏幕中显示图像。调用 Show 方法以显示初始屏幕。调用 Close 方法关闭初始屏幕。指定要在 SplashScreen 构造函数中使用的图像。

# c# - 使用 Invoke 从 Richtextbox 保存文件

> ID：15873644
> 
> 赞同：1
> 
> 时间：2013-04-08T07:32:15.933
> 
> 标签：c#, richtextbox, backgroundworker, invoke

我有一个`RichTextbox`，我正在尝试使用

```
public bool SaveNote(string path)
{
    try
    {
        _rtbContent.SaveFile(path, RichTextBoxStreamType.RichText);
        return true;
    }
    catch
    {
        return false;
    }
} 
```

在我开始使用后台工作线程之前，它工作正常。现在正在从后台工作人员调用此方法，现在我收到一个错误

```
Cross-thread operation not valid: Control 'rtbContent' accessed from a thread other than the thread it was created on. 
```

我认为我们必须使用`_rtbContent.Invoke`但未能正确调用它。我尝试的是

```
if(_rtbContent.InvokeRequired)
    _rtbContent.Invoke(new MethodInvoker(_rtbContent.SaveFile(path, RichTextBoxStreamType.RichText))); 
```

在这里我收到`Method name expected`编译错误`_rtbContent.SaveFile(path, RichTextBoxStreamType.RichText)`。

我对使用这些线程不是很舒服，但最近开始研究它们。谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:45:04.670

使用回调：

```
delegate void SaveNoteCallback(string path);

public void SaveNote(string path)
{
    if(_rtbContent.InvokeRequired)
    {
        SaveNoteCallback d = new SaveNoteCallback(SaveNote);
        this.Invoke(d, new object[] {path});
    }
    else 
    {
        _rtbContent.SaveFile(path, RichTextBoxStreamType.RichText);    
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T07:20:16.753

我得到了另一个有趣的解决方案，并想发布它。

```
public void SaveNote(string path)
{
    if(_rtbContent.InvokeRequired)
    {
        _rtbContent.Invoke(new MethodInvoker(delegate{_rtbContent.SaveFile(path, RichTextBoxStreamType.RichText}));

        //Below is also same as above
        //_rtbContent.Invoke(new MethodInvoker(()=>_rtbContent.SaveFile(path, RichTextBoxStreamType.RichText)));
    }
    else 
    {
        _rtbContent.SaveFile(path, RichTextBoxStreamType.RichText);    
    }
} 
```

我认为这是非常干净的解决方案。希望能帮助到你。

# xaml - 如何在 XAML TextBlock 中嵌入版本号？

> ID：15873646
> 
> 赞同：2
> 
> 时间：2013-04-08T07:32:31.287
> 
> 标签：xaml, c#-4.0

如何将程序版本嵌入`TextBlock`（或其他一些元素？）？

```
<TextBlock>My Program version <tag Source={???}></tag></TextBlock> 
```

我应该使用什么样的`<tag>`？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-08T07:36:37.577

您可以绑定到程序集版本

System.Reflection.Assembly.GetExecutingAssembly().GetName().Version

有

```
public string Version
{
  get{return System.Reflection.Assembly.GetExecutingAssembly().GetName().Version.ToString()}
} 
```

在您的视图模型中

和

```
<TextBlock Text={Binding Version} /> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-08T14:28:57.553

你可以使用运行：

```
 <TextBlock>
   My Program version
   <Run  Text="{Binding Version,Mode=OneWay}"/>
 </TextBlock> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:34:04.417

您应该考虑使用 MVVM 设计模式并在您的视图模型上公开一个属性，以便您可以在视图中绑定到该版本号。

要以编程方式获取版本，请参阅[http://all-things-pure.blogspot.co.uk/2009/09/assembly-version-file-version-product.html](http://all-things-pure.blogspot.co.uk/2009/09/assembly-version-file-version-product.html)

# python - 无效的 XML 架构 - OpenErp XML 视图

> ID：15873648
> 
> 赞同：0
> 
> 时间：2013-04-08T07:32:36.030
> 
> 标签：python, xml, module, openerp

在我的自定义模块中，我尝试在它的 xml 视图中进行一些设计（工作表、组、笔记本......）

我正面临这个问题“无效的 XML 架构 - OpenErp XML 视图”我不知道这里是否有错误的标签，我根据现有模块进行了这个设计。

```
 <record id="student_certificados_form" model="ir.ui.view">
    <field name="name">certificados.result.form</field>
    <field name="model">certificados.certificados</field>
    <field name="arch" type="xml">
        <form string="Introducir los datos" version="7.0">
        <sheet>
            <div class="oe_edit_only">
                <label for="Registro_Numero" class="oe_inline"/>
            </div>
            <h1>
                <field name="Registro_Numero" class="oe_inline"/>

            </h1>
            <group>
                <group>
                    <field name="Fecha_de_Emision"/>
                    <field name="Fecha_de_Solicitud"/>
                </group>
                <group>
                    <field name="Fecha_del_Documento"/>
                    <field name="Vigencia"/>
                 </group>
            </group>
            <notebook>
            <page string="Certificados">
                    <field name="Crear Certificado" >
                        <tree string="Certificadu" >
                            <field name="Item" />
                            <field name="Codigo_Arancelario" />
                            <field name="Descripcion_Arancelaria" />
                            <field name="Especificaciones_Tecnicas" />
                            <field name="Precio_Unitario_Declarado" />
                            <field name="Valor_En_Divisas" />
                            <field name="Cantidad_Consumida" />
                            <field name="Cantidad_Disponible" />
                        </tree>
                        <form string="Certificado" version="7.0">
                            <group>
                                <field name="Codigo_Arancelario" />
                                <field name="Especificaciones_Tecnicas"/>
                                <field name="Valor_En_Divisas" />
                            </group>
                        </form>
                    </field>
                <separator string="Certificados"/>
                <field name="Item" readonly="1">
                <tree string="Certificados" >
                    <field name="Codigo_Arancelario" />
                    <field name="Descripcion_Arancelaria" />
                    <field name="Especificaciones_Tecnicas" />
                    <field name="Cantidad" /><field name="Unidad_de_Medida" />
                    <field name="Precio_Unitario_Declarado" /><field name="Moneda" />
                    <field name="Valor_En_Divisas" /><field name="Moneda" />
                    <field name="Cantidad_Consumida" />
                    <field name="Cantidad_Disponible" />
                </tree>
                </field>
            </page>
        </notebook>
    </sheet>
                 <div class="oe_chatter">
          <field name="message_follower_ids" widget="mail_followers"/>
          <field name="message_ids" widget="mail_thread"/>
        </div> 

            </form>
    </field>
</record> 
```

那是我从另一个模块中获取的设计。

module.py 就像：

```
class certificados(osv.osv):

_name = 'certificados.certificados'

_columns = {
            'Item' : fields.integer('Item'), 'Registro_Numero' : fields.integer('Registro Numero'),
            'Fecha_de_Emision': fields.date('Fecha de Emision', required=True, select=True),
            'Fecha_de_Solicitud': fields.date('Fecha de Solicitud', required=True, select=True),
            'Fecha_del_Documento': fields.date('Fecha del Documento', required=True, select=True),
            'Vigencia' : fields.integer('Vigencia'), 
            'Codigo_Arancelario' : fields.integer('Codigo Arancelario'),
            'Descripcion_Arancelaria' : fields.char('Descripcion Arancelaria', size=42, required = True, translate = True), 
            'Especificaciones_Tecnicas' : fields.char('Especificaciones Tecnicas', size=60, required = True, translate = True), 
            'Cantidad' : fields.float('Cantidad'), 'Unidad_de_Medida': fields.many2one('product.uom', 'Unidad de Medida'),
            'Precio_Unitario_Declarado' : fields.float('Precio Unitario Declarado'), 'Moneda' : fields.many2one('res.currency', 'Moneda'),
            'Valor_En_Divisas' : fields.float('Valor En Divisas'),
            'Cantidad_Consumida' : fields.float('Cantidad Consumida'), 'Cantidad_Disponible' : fields.float('Cantidad Disponible'),
            'notas' : fields.text('Notas'),
            }
certificados() 
```

我认为这不是 module.py 代码中不匹配或未声明字段的问题。

我确定xml设计有一些东西，但不知道在哪里。

如果有人可以提供帮助，那就太好了。

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T08:11:01.870

在您的代码中存在许多错误。

```
1.`<field name="Crear Certificado" >` 
```

该字段不会出现在您的 py 代码列中。并且您的字段名称在非 PEP 8 规则中

```
2\. `<field name="Item" readonly="1">` 
```

项目是整数字段，我不明白您为什么将此字段视为 one2many 并定义树。

```
3.<div class="oe_chatter">
          <field name="message_follower_ids" widget="mail_followers"/>
          <field name="message_ids" widget="mail_thread"/>
        </div> 
```

如果你想使用这个字段，那么你必须在你的对象中继承 _inherit = ['mail.thread', 'ir.needaction_mixin']

并且您的 xml 文件结构非常糟糕，请更改它。使用四个空格制表符。

希望这对您有所帮助，如果您想在 openerp 中开发模块，请首先阅读[http://doc.openerp.com](http://doc.openerp.com)和 7 [http://doc.openerp.com/trunk/developers/server/的 openerp 开发者书籍](http://doc.openerp.com/trunk/developers/server/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-08T08:47:03.227

您确实在该表单视图中使用了不必要的 xml 标记。试试这个：

```
<record id="student_certificados_form" model="ir.ui.view">
            <field name="name">certificados.result.form</field>
            <field name="model">certificados.certificados</field>
            <field name="arch" type="xml">
                <form string="Introducir los datos" version="7.0">
                    <sheet>
                        <div class="oe_edit_only">
                            <label for="Registro_Numero" class="oe_inline"/>
                        </div>
                        <h1>
                            <field name="Registro_Numero" class="oe_inline"/>
                        </h1>
                        <group>
                            <group>
                                <field name="Fecha_de_Emision"/>
                                <field name="Fecha_de_Solicitud"/>
                            </group>
                            <group>
                                <field name="Fecha_del_Documento"/>
                                <field name="Vigencia"/>
                            </group>
                            <group>
                                <field name="Codigo_Arancelario"/>
                                <field name="Descripcion_Arancelaria"/>
                            </group>
                            <group>
                                <field name="Especificaciones_Tecnicas"/>
                                <field name="Cantidad"/>
                            </group>
                            <group>
                                <field name="Precio_Unitario_Declarado"/>
                                <field name="Valor_En_Divisas"/>
                            </group>
                            <group>
                                <field name="Cantidad_Consumida"/>
                                <field name="notas"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record> 
```

如果你想最后使用'message_follower_ids'和'message_ids'，在表单视图中显示，你需要继承'mail.thread'对象。

谢谢，普里耶什索兰基

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T08:14:21.700

我认为你需要学习规则来编写xml

1) 所有 XML 元素必须有一个**结束标记** 2) XML 标记区分大小写 3) XML 元素必须正确嵌套 4) XML 文档必须有一个根元素 5) XML 属性值必须被引用

[http://www.w3schools.com/xml/xml_syntax.asp](http://www.w3schools.com/xml/xml_syntax.asp)

# javascript - 通过 CComPtr 检索数组 调用

> ID：15873651
> 
> 赞同：0
> 
> 时间：2013-04-08T07:32:41.140
> 
> 标签：javascript, c++, com, atl

我正在使用 CComPtr Invoke() 从 C++ 调用 Javascript 函数。只要我从 Javascript 函数返回单个元素，我就可以使用 ComVariant 对象从 C++ 端提取它，该对象的类型根据返回变量的数据类型设置。问题是当我尝试从 Javascript 传输整个数组时，CComVariant 对象类型设置为 VT_DISPATCH，而不是 VT_ARRAY。谁能指导我如何检索数组元素？我会很感激的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T09:08:34.883

这样的事情应该这样做：

```
HRESULT DoSomethingWithAJavaScriptArray(VARIANT v)
{
    if (V_VT(&v) != VT_DISPATCH)
        return E_UNEXPECTED;

    _variant_t out; // need comutil.h

   // get the enumeration method see [Reserved DISPIDs][1]
    HRESULT hr = V_DISPATCH(&v)->Invoke(DISPID_NEWENUM, IID_NULL, LOCALE_USER_DEFAULT, DISPATCH_METHOD, NULL, &out, NULL, NULL);
    if (FAILED(hr))
        return hr;

    if (V_VT(&out) != VT_UNKNOWN)
        return E_UNEXPECTED;

    // get the IEnumVariant from the interface
    CComPtr<IEnumVARIANT> pEnum;
    hr = V_UNKNOWN(&out)->QueryInterface(IID_IEnumVARIANT, (void**)&pEnum);
    if (FAILED(hr))
        return hr;

    // do a foreach
    ULONG fetched = 0;
    do 
    {
        _variant_t element;
        hr = pEnum->Next(1, &element, &fetched);
        if ((FAILED(hr)) || (fetched == 0))
            return S_OK;

        // do something with the VARIANT here
            ...
    }
    while(TRUE);
} 
```

# c# - ProtectedData 使用哪种加密算法？

> ID：15873666
> 
> 赞同：6
> 
> 时间：2013-04-08T07:33:47.597
> 
> 标签：c#, encryption, passwords, dpapi

对于我想使用的密码加密`ProtectedData`。

据我所知，这是`CryptProtectData`.

MSDN 仅对基于用户凭据的加密进行了模糊说明，并且如果用户没有漫游配置文件，通常必须在同一台机器上进行解密。

它使用哪种加密算法？

是否有任何分析表明这种加密是否适合密码存储？

如何实现本地密码存储？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-08T07:58:44.220

[此](http://msdn.microsoft.com/en-us/library/ms995355.aspx)`CryptProtectData`MSDN 文章包含有关和的更多信息`DPAPI`，并且应该包含您需要的信息。尤其：

> DPAPI 最初生成一个称为 MasterKey 的强密钥，受用户密码保护。DPAPI 使用 PKCS #5 中描述的称为基于密码的密钥派生的标准加密过程从密码生成密钥。然后这个密码派生密钥与 Triple-DES 一起用于加密 MasterKey，最终存储在用户的配置文件目录中。

本文适用于旧版本的 Windows，因此根据您的 Windows 版本，这些算法可能会发生变化，但它们可能不会比此处提到的安全性低。

这是否适合“密码存储”，在某种程度上取决于您的确切含义以及您要存储的密码。

# php - Mongodb _id 以及如何在 php 中实现它以在集合之间进行引用

> ID：15873668
> 
> 赞同：2
> 
> 时间：2013-04-08T07:33:51.520
> 
> 标签：php, mongodb

由于我是 Mongodb 的新手，我对 mongodb id 有一些困惑。

1.  在Mysql中，我们可以将任何变量定义为主键。是否可以像这样在mongodb中定义任何变量作为主键？

2.  在控制台中，我们将 _id 定义为 _id：objectId("4c4ba5c0672c685e5e8aabf3")。如何在 php 中做同样的事情。它来自哪里的参数（“4c4ba5c0672c685e5e8aabf3”）是什么？有没有办法通过函数生成这个参数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T22:48:16.780

MongoDB 中的文档需要有一个`_id`字段，该字段的值对于集合来说既不可变又是唯一的。[ObjectId](http://docs.mongodb.org/manual/reference/object-id/)类型，PHP 表示为[MongoId](http://www.php.net/manual/en/class.mongoid.php)类，通常用于此字段。由于其组成，它非常适合确保跨集群的唯一性，类似于 UUID。

如果您阅读[记录文档](http://docs.mongodb.org/manual/core/document/#documents-records)文档，其中讨论了存储在集合中的文档的结构，您会发现任何 BSON 值都可以用作`_id`，但数组除外（由于 MongoDB 如何处理数组字段的索引） . 在同一个集合中，您可以在您的文档中自由使用不同的 ID 类型，尽管为了您的个人理智，建议保持一致。

```
// Allowed
db.foo.insert({ _id: 1 })
db.foo.insert({ _id: 'abc' })
db.foo.insert({ _id: ObjectId() })
db.foo.insert({ _id: { x: 1, y: 2 }})
db.foo.insert({ _id: { x: 1, o: ObjectId() }})
db.foo.insert({ _id: { x: 1, a: [1, 2, 3] }})

// Not allowed
db.foo.insert({ _id: [1, 2, 3] })
db.foo.insert({ _id: ['a', ObjectId()] }) 
```

尽管 ObjectId 通常打印为 24 个字符的十六进制字符串，但重要的是要记住它们实际上是它们自己的[BSON 类型](http://bsonspec.org/#/specification)——一个 12 字节的二进制值。如果您在 PHP 中通过其 ObjectId 查询文档，则需要匹配 MongoId 值，如下所示：

```
// Matches
$collection->findOne([ '_id' => new MongoId('4c4ba5c0672c685e5e8aabf3') ]);

// Doesn't match (unless a document's ID was really that string
$collection->findOne([ '_id' => '4c4ba5c0672c685e5e8aabf3' ]); 
```

最后，如果您想在 PHP 中生成 ObjectId，您可以简单地构造 MongoId 实例，方法是不向其构造函数传递任何参数。MongoId 类有一个`__toString()`方法，因此您也可以将其转换为字符串以获取其 24 个字符的字符串表示形式。同样，如果您需要从 24 个字符的字符串构造 MongoId，您可以将其作为单个构造函数参数传递（就像我们在上面的查询中所做的那样）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T13:56:38.517

[http://docs.mongodb.org/manual/reference/object-id/](http://docs.mongodb.org/manual/reference/object-id/)：

> ObjectId 是一个 12 字节的 BSON 类型，使用以下方法构造：
> 
> *   表示自 Unix 纪元以来的秒数的 4 字节值，
> *   3 字节机器标识符，
> *   2 字节进程 ID，以及
> *   3 字节计数器，以随机值开始。

[http://www.php.net/manual/en/class.mongoid.php](http://www.php.net/manual/en/class.mongoid.php) , [http://www.php.net/manual/en/mongocollection.ensureindex.php](http://www.php.net/manual/en/mongocollection.ensureindex.php)

# javascript - Knockout.js：单击绑定仅在我第一次单击时起作用？

> ID：15873669
> 
> 赞同：0
> 
> 时间：2013-04-08T07:33:51.817
> 
> 标签：javascript, knockout.js, knockout-2.0

Knockout.js 中的函数存在一些问题。基本上它是一个菜单，其中第一个菜单项“Översikt”应该获取 JSON 数组并填充视图。

淘汰码：

```
self.ongoingAuctions = ko.observableArray([]);
self.getOngoingAuctions = function(data) {
    $.getJSON("assets/json/auctions.json", function(data) {
        self.ongoingAuctions(data);
    });
} 
```

我的点击绑定：

```
<a href="#" data-bind="text: 'Översikt', click: function(){ setHeadline.bind($data,'Översikt'); getOngoingAuctions() }, css: { active: 'Översikt' == headline() }" class="lead"></a> 
```

问题是这仅在我第一次单击菜单项时才有效。第二次、第三次、第 n 次未获取 JSON。

我究竟做错了什么？还是我误解了什么？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T20:33:24.267

我已经为你分享了这个小提琴，它显示你的代码中还有一些你没有在问题中指定的错误：

每次单击时，它都会调用不存在的 json（在我的情况下）

[JS Fiddle 到工作代码](http://jsfiddle.net/MLdtt/3/)

```
var viewModel = function(){
    var self = this;
    self.ongoingAuctions = ko.observableArray([]);
    self.getOngoingAuctions = function(data) {
        $.getJSON("assets/json/auctions.json", function(data) {
            self.ongoingAuctions(data);
        });
    }
    self.setHeadline = function(){
        console.log('set headline')
    }
    self.headline = function(){
        console.log('headline');
    }
}

var myVm = new viewModel();

ko.applyBindings(myVm); 
```

# apache - htaccess mod_rewrite 到子文件夹

> ID：15873678
> 
> 赞同：-1
> 
> 时间：2013-04-08T07:34:14.950
> 
> 标签：apache, .htaccess, mod-rewrite

我有以下文件树：

```
root
  -lib
  -config
  -public
      -img
      -css
      -js
      index.php
  .htaccess 
```

.htaccess 位于根文件夹中。大多数请求应该重写为 public/index.php?request=$1，但这不是问题。

我想要另一个用于图像、css 和 javascript 的重写器（或者一般来说，/public 中的每个其他文件或目录）：

代替

`example.com/public/css/style.css` 我希望该文件在 `example.com/css/style.css`

而不是

`example.com/public/newfolder/randomfile.txt` 我希望该文件在 `example.com/newfolder/randomfile.txt`

所以我必须保持这个摘要。

我无法使其正常工作，尤其是不能将这两种情况结合在一个 .htaccess 文件中。

这是不存在的文件/文件夹的基本 RewriteRule：

`RewriteRule ^(.*)$ public/index.php?request=$1 [QSA,L]`

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:42:06.670

你可以用 , 测试一下[`RewriteCond`](http://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewritecond)，如果有对应你的请求的真实文件，然后停止重写

```
RewriteEngine on

# real files
RewriteCond %{DOCUMENT_ROOT}/public/$0 -f
RewriteRule ^.+$ public/$0 [L]

# everything else
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)$ public/index.php?request=$1 [QSA,L] 
```

编辑：

如果 root 的子文件夹用作项目根目录：

```
 RewriteEngine on

RewriteBase /**subdir/**

# real files
RewriteCond %{DOCUMENT_ROOT}**/subdir**/public/$0 -f
RewriteRule ^.+$ public/$0 [L]

# everything else
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)$ public/index.php?request=$1 [QSA,L] 
```

# c# - 如果在单击按钮时选中复选框，则从富文本框中删除文本

> ID：15873679
> 
> 赞同：0
> 
> 时间：2013-04-08T07:34:15.383
> 
> 标签：c#, winforms

对 C# 来说还是新手，并且已经在这个程序上工作了一段时间，并添加了不同的功能等等。该程序适用于我的工作，它会记录笔记。本质上，您将所有信息输入到几个不同的文本框中，然后单击一个按钮，它将信息组合到一个大的输出 Richtextbox 中，并为其添加一些格式并保存到文件中并将信息复制到剪贴板。

我想设置它，这样如果我在点击按钮处理所有内容时选中了一个特定的复选框，它将省略一些格式。我正在使用字符串生成器将信息移动到输出框中。这是我如何工作的一些代码示例。如果需要更多信息，请告诉我，我很乐意提交。

```
private void save_button_Click(object sender, EventArgs e)
{
    //Starts the Stringbuilder
    System.Text.StringBuilder strBuilder = new System.Text.StringBuilder();
    {
        string cbrSame = custBtnText.Text;
        if (cbrSameCbx.Checked)
        {
            custCbrText.Text = cbrSame;
        }

        //Writes textboxes to the stringbuilder
        strBuilder.AppendLine("\u2022 CX NAME: " + custNameText.Text);
        strBuilder.AppendLine("\u2022 BTN: " + custBtnText.Text);
        strBuilder.AppendLine("\u2022 CBR: " + custCbrText.Text);
        strBuilder.AppendLine("\u2022 MODEM: " + custModemText.Text);
        //Statements to write checkboxes to stringbuilder

        string checkBoxesLine = "\u2022 LIGHTS: ";

        foreach (Control control in pnlCheckBoxes.Controls)
        {
            if (control is CheckBox)
            {
                CheckBox checkBox = (CheckBox)control;

                if (checkBox.Checked && checkBox.Tag is string)
                {
                    string checkBoxId = (string)checkBox.Tag;
                    checkBoxesLine += string.Format("{0}, ", checkBoxId);
                    checkBoxes = checkBoxesLine;
                }
            }
        }
        //Newline for checkboxes
        strBuilder.AppendLine(checkBoxesLine);
        strBuilder.AppendLine();

        //Continues textboxes to stringbuilder
        strBuilder.AppendLine("\u2022 TROUBLESHOOTING: " + tShootText.Text);
        strBuilder.AppendLine();
        strBuilder.AppendLine("\u2022 SERVICES OFFERED: " + svcsOfferedText.Text);
        strBuilder.AppendLine();
        strBuilder.AppendLine("\u2022 OTHER NOTES: " + otherNotesText.Text);
        notesViewText.Text = strBuilder.ToString();
        Clipboard.SetText(notesViewText.Text);
        //.... 
```

本质上，如果在该按钮上选中了 checkbox1，我想添加一个功能，按下它会省略 custModemText.text 以及 \u2022 MODEM: 以及 \u2022 LIGHTS: 和字符串 checkBoxesLine。我已经寻找了一些东西来做到这一点，但老实说，我不知道如何去做，这限制了我寻找解决方案的能力。我有一种下沉的感觉，我将不得不重做我处理数据的方式，但我不确定，所以任何帮助都将不胜感激。

这也是一个获胜表格

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:42:29.027

你需要做什么你首先检查复选框是否被选中。如果选中，则修改您的文本。

```
private void save_button_Click(object sender, EventArgs e)
{
    // Add mandatory lines to a string.
    if (checkBox1.Checked)
    {
         // Append optional lines to the string.
    }
    else
    {
        // Do something.
    }
} 
```

您不需要执行 foreach 循环。只需选中您要设置条件的复选框。

# git - git/EGit 丢失远程配置

> ID：15873682
> 
> 赞同：1
> 
> 时间：2013-04-08T07:34:29.227
> 
> 标签：git, egit, git-remote

EGit 丢失远程配置。

我有这样的遥控器配置（2 个遥控器）：

![第一](https://i.stack.imgur.com/5Ci5i.png)

但是在早上我又得到了（原点指向 /PaulVI）：

![第二](https://i.stack.imgur.com/0ZYvW.png)

`git remote`输出：

```
C:\Users\weibl\Documents\GitHub\nodeclipse-2 [master]> git remote -v
PaulVI  https://github.com/PaulVI/nodeclipse-2.git (fetch)
PaulVI  https://github.com/PaulVI/nodeclipse-2.git (push)
origin  https://github.com/PaulVI/nodeclipse-2.git (fetch)
origin  https://github.com/PaulVI/nodeclipse-2.git (push) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T04:40:32.673

原因是[GitHub for Windows](http://windows.github.com/)。

在启动时，它会更新`origin`~\Documents\GitHub 中存储库的值。

![在此处输入图像描述](https://i.stack.imgur.com/YYgQw.png)

# php - Restrictions on file download speed?

> ID：15873687
> 
> 赞同：2
> 
> 时间：2013-04-08T07:34:52.030
> 
> 标签：php, download, rate-limiting

I am contemplating setting up a file host (mostly for the exercise) but how do you ensure that free users are only capable of 40-50 kb/s speed while premium users can go at faster speeds?

I guess you place all the files on 2 separate servers and simply control the port connection (10 Mbit vs. 1000 Mbit), but that would require a mirror harddisk setup.

With all the file hosts out there, I am betting there must be a simpler solution.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:43:01.010

这将是在 Web 服务器级别实现的。如果您使用的是 apache，这个问题可能会涵盖如何实现节流：[如何使用 Apache 实现速率限制？（每秒请求数）](https://stackoverflow.com/questions/131681/how-can-i-implement-rate-limiting-with-apache-requests-per-second)

至于在每个用户的基础上执行此操作，可能有一种方法可以与来自 php 的这些 apache 配置指令进行交互，或者您可以只拥有两个虚拟主机，其中一个被锁定给某些用户并且具有更高的节流率。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-09T09:03:09.517

您可以直接控制 PHP 用户空间中的带宽，例如 [`bandwidth-throttle/bandwidth-throttle`](https://github.com/bandwidth-throttle/bandwidth-throttle)

```
use bandwidthThrottle\BandwidthThrottle;

$in  = fopen(__DIR__ . "/resources/video.mpg", "r");
$out = fopen("php://output", "w");

$throttle = new BandwidthThrottle();

if ($user->isPremium()) {
    $throttle->setRate(500, BandwidthThrottle::KIBIBYTES); // 500KiB/s
} else {
    $throttle->setRate(50, BandwidthThrottle::KIBIBYTES); // 50KiB/s
}

$throttle->throttle($out);

stream_copy_to_stream($in, $out); 
```

# c# - Handle multiple hover to click events in C# for kinect

> ID：15873689
> 
> 赞同：1
> 
> 时间：2013-04-08T07:34:58.700
> 
> 标签：c#, multithreading, queue, kinect

I am developing a Kinect game in C# where the user needs to click 2 buttons at the same time by hovering over one button with each hand.

However, with my current code, when the user hovers with one hand over a button, the other buttons get disabled and the other hand can only click when the first hand stops hovering over a button.

To solve this, I'm thinking of queuing the second click while the first click is being processed. To do this, I have used the following code based on [this link](https://stackoverflow.com/questions/11096352/c-sharp-button-click-queueing)

```
private Queue<System.Windows.Controls.Button> Button_Queue = new Queue<System.Windows.Controls.Button>();
private bool isProcessing = false;

private void Button_Click((object sender, RoutedEventArgs e){

if(isProcessing){
Button_Queue.Enqueue(this);
}
else
{
isProcessing = true;

// code here

isProcessing = false;
while(Button_Queue.Count > 0){
    Button_Queue.Dequeue().PerformClick();
}
} 
```

However, the `Button_Queue.Enqueue(this)` line shows the error

> *"The best overloaded method match for Queue.Enqueue has invalid arguments."*

I'm guessing this is because the button click event cannot be queued in a queue declared with the type `Button`.

Do you have any suggestions for how to create this queue of button click events or another way to handle multiple clicks from the user?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T16:15:49.157

我不清楚为什么当您将手悬停在另一个对象上时会禁用另一个按钮。如果没有看到代码，我会说你正在做一些会导致这种情况的事情——而且没有理由这样做。

此外，您应该使用以手势系统为中心的交互概念，而不是为鼠标/键盘输入而编写的交互概念。使用常规 UI 对象并以平行传统输入的方式与它们交互只会使用户感到困惑。

看看以下两个示例，它们使用“悬停点击”和“按下点击”交互

*   [基本交互，适用于 SDK 1.6](http://kinectforwindows.codeplex.com/)
*   控件基础知识，适用于 SDK 1.7（在[Kinect for Windows Developer Toolkit](http://go.microsoft.com/fwlink/?LinkId=275589)中）

在这两种情况下，您都在自定义控件上使用命中测试来处理事件。这是我在我的一个应用程序中使用的命中测试函数的示例：

```
private void HitTestHand(HandPosition hand)
{
    // quick fix to null pointer exception on exit.
    if (Application.Current.MainWindow == null)
        return;

    Point pt = new Point(hand.X, hand.Y);
    IInputElement input = Application.Current.MainWindow.InputHitTest(pt);

    if (hand.CurrentElement != input)
    {
        var inputObject = input as DependencyObject;
        var currentObject = hand.CurrentElement as DependencyObject;

        // If the new input is a child of the current element then don't fire the leave event.
        // It will be fired later when the current input moves to the parent of the current element.
        if (hand.CurrentElement != null && Utility.IsElementChild(currentObject, inputObject) == false)
        {
            // Raise the HandLeaveEvent on the CurrentElement, which at this point is the previous element the hand was over.
            hand.CurrentElement.RaiseEvent(new HandInputEventArgs(HoverDwellButton.HandLeaveEvent, hand.CurrentElement, hand));
        }

        // If the current element is the parent of the new input element then don't
        // raise the entered event as it has already been fired.
        if (input != null && Utility.IsElementChild(inputObject, currentObject) == false)
        {
            input.RaiseEvent(new HandInputEventArgs(HoverDwellButton.HandEnterEvent, input, hand));
        }

        hand.CurrentElement = input;
    }
    else if (hand.CurrentElement != null)
    {
        hand.CurrentElement.RaiseEvent(new HandInputEventArgs(HoverDwellButton.HandMoveEvent, hand.CurrentElement, hand));
    }
} 
```

请注意，在手形光标下方的元素上触发了一个事件。这些元素的示例可以在上面的两个链接中找到（我在上面的代码示例中使用了[HoverDwellButton ）。](http://kinectforwindows.codeplex.com/SourceControl/changeset/view/861462899ae7ca81363f60454e2d44d5370875ae#v1.x/ToolkitSamples1.6.0/C#/BasicInteractions-WPF/Controls/HoverDwellButton.cs)

两个不同元素或同一个元素上的两个事件可以随时触发。您可以轻松地跟踪哪个用户在哪个按钮上，该按钮是否正在被按下，或者它是否已被按下。

所有这一切的关键是*不要使用不是为手势系统设计的 UI 范例*！不要试图将键盘/鼠标事件结构硬塞进一个基于手势的系统中——从长远来看，它只会给你带来更多的痛苦，并让你的用户感到困惑。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:50:22.143

您是否考虑过更底层的方法？首先想到的是创建两个热点区域而不是按钮，并同时监控用户的手是否在这些区域内。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-08T07:47:16.803

您无需将事件排队。如果`isProcessing`为真，则另一个按钮已被单击，因此您可以从该点开始处理两个按钮单击的事件。

您可以测量两次单击之间的时间，以确定它是否验证为“同时单击两个按钮”事件。

# c# - Doing postback on a select with onchange without JSON

> ID：15873693
> 
> 赞同：0
> 
> 时间：2013-04-08T07:35:14.730
> 
> 标签：c#, html, razor, selection

How do I create a `postback` with a `onchange` while getting the value into a `Request[]`

The code:

```
<select name="nameOnSelection" id="idOnSelection" onchange="">
    <option value="1">
        random string
    </option>
    <option value="2">
        random string
    </option>
</select> 
```

Im coding in cshtml. and im not looking for JSON solution.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:46:11.627

使用 jQuery，您可以轻松找到最近的`<form>`标签并提交它。

```
<select onchange="$(this).closest('form').submit();"/> 
```

# php - having trouble to align mysql data in the in pdf

> ID：15873694
> 
> 赞同：-1
> 
> 时间：2013-04-08T07:35:15.497
> 
> 标签：php, mysql, fpdf

i want to align my data properly in pdf file frm mysql database. but the result i get is not wat i want, some last column just come below the other while i wanted to align with the other column. i have tried something like this.

```
while (ob_get_level())
ob_end_clean();
header("Content-Encoding: None", true);

$host="localhost";
$user="root";
$password="";
$db_name="pdf_test";
$conn=mysql_connect($host,$user,$password) or die("cannot connect to the  
database".mysql_error());
mysql_select_db($db_name,$conn)or die("cannot select the database".mysql_error());

include('fpdf.php');

$q=mysql_query("select * from education_mailstone");
$number_of_persons=mysql_num_rows($q);

//initialize the 4 columns and the total
$column_name="";
$column_school="";
$column_year="";
$column_score="";

//For each row add field to the specific column
while($row=mysql_fetch_array($q)){
$name=$row['name'];
$school=$row['school'];
$year=$row['year'];
$score=$row['score'];

$column_name=$column_name.$name."\n";
$column_school=$column_school.$school."\n";
$column_year=$column_year.$year."\n";
$column_score=$column_score.$score."\n";
}

$pdf=new FPDF();
$pdf->AddPage();
$Y_Fields_Name_position=20;
$Y_Table_position=26;
$pdf->SetFillColor(232,232,232);
$pdf->SetFont('Arial','B',12);
$pdf->SetY($Y_Fields_Name_position);
$pdf->SetX(10);
$pdf->Cell(400,6,'NAME OF STUDENT',1,0,'L',1);
$pdf->SetX(60);
$pdf->Cell(400,6,'NAME OF THE SCHOOL',1,0,'L',1);
$pdf->SetX(120);
$pdf->Cell(400,6,'COMPLETION YEAR',1,0,'L',1);
$pdf->SetX(180);
$pdf->Cell(50,6,'SCORE',1,0,'L',1);
$pdf->Ln();
$pdf->SetFont('Arial','',12);
$pdf->SetY($Y_Table_position);
$pdf->SetX(10);
$pdf->MultiCell(400,6,$column_name,1);
$pdf->SetY($Y_Table_position);
$pdf->SetX(60);
$pdf->MultiCell(400,6,$column_school,1);
$pdf->SetY($Y_Table_position);
$pdf->SetX(120);
$pdf->MultiCell(400,6,$column_year,1);
$pdf->SetX(180);
$pdf->MultiCell(50,6,$column_score,1);
$pdf->Ln();
$i = 0;
$pdf->SetY($Y_Table_position);
while ($i < $number_of_persons)
{
    $pdf->SetX(10);
    $pdf->MultiCell(120,6,'',1);
    $i = $i +1;
}
$pdf->Output(); 
```

**so wat am i doin wrong?**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-01T04:09:52.477

您是否正在尝试创建一个表格，其中标题水平穿过，名称和详细信息在下面的列中穿过？

如果是这样，我不确定您为什么将每个单元格的宽度设置为 400mm $pdf->Cell(400,6,'NAME OF STUDENT',1,0,'L',1);

看起来您正在尝试使用 SetX 功能使单元格宽 60 毫米？你有什么理由这样做而不是让你的代码作为 $pdf->Cell(60,6,'NAME OF STUDENT',1,0,'L',1); 这样你就不需要每次都 setX 并且下一个单元格“学校名称”应该自动排列在这个单元格的右侧？

那么对于你的MultiCell，你应该真的把它的宽度设为60 $pdf->MultiCell(60,6,$column_school,1);

如果这根本没有帮助，您也许可以上传它当前为您显示的内容的链接。

有关使用 FPDF 的一些基本信息，我最近写了一篇关于 FPDF 基础的博客，因为该网站的说明不太有用

[http://www.limelightonline.co.nz/blog/create-dynamic-pdf-with-php-tutorial/](http://www.limelightonline.co.nz/blog/create-dynamic-pdf-with-php-tutorial/)

不确定这对您有帮助吗？

谢谢，谢伊。

# internet-explorer-9 - MicroSoft Office smart quotes showing up in Internet explorer

> ID：15873695
> 
> 赞同：1
> 
> 时间：2013-04-08T07:35:17.450
> 
> 标签：internet-explorer-9, ms-office, quotes, apostrophe, smart-quotes

I have a user who is using IE9 and when he enters a single quote from the keyboard into a web form on an application I wrote, it is putting in the fancy curved quotes the MS Word does with the smart quotes enabled. I understand that for Office but why is IE doing that. The result goes into a database record that needs to be searchable and having ’ instead of a ' is buggering up the search.

Anyone else seen that?

# php - Raspberry Pi unable to execute script by PHP

> ID：15873696
> 
> 赞同：0
> 
> 时间：2013-04-08T07:35:22.747
> 
> 标签：php, arduino, raspberry-pi

I'm playing with [Raspberry Pi](http://en.wikipedia.org/wiki/Raspberry_Pi) and anm Arduino [shield](http://www.arduino.cc/en/Main/ArduinoShields) in order to run a script via [Apache](http://en.wikipedia.org/wiki/Apache_HTTP_Server)/[PHP](http://en.wikipedia.org/wiki/PHP). This script simple blink a [LED](http://en.wikipedia.org/wiki/Light-emitting_diode). I have already tested the script via shell and it works fine, with the command

```
/root/arduPi/blink_test 
```

I'm able to see my LED blinking. So I made the same thing via Apache PHP with this short PHP script

```
<?php
    if(isset($_GET['cmd'])){
        echo '/root/arduPi/'.$_GET['cmd'];
        exec('/root/arduPi/'.$_GET['cmd']);
    }
?> 
```

but nothing happen and no error has been displayed.

I tested the PHP code with

```
<?php
    phpinfo();
?> 
```

and it's fine. How can I fix this problem?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T19:06:50.103

不久前我遇到了同样的问题，因为 Apache 无权访问 Pi 上的某些设备。我通过摆脱以 root 身份访问这些设备的需要来解决此问题。[这](https://stackoverflow.com/questions/15127462/trying-to-execute-file-compiled-in-c-from-php)是我关于这个问题的帖子，修复方法是将 sudo 设置为无密码。 [这](https://serverfault.com/questions/160581/how-to-setup-passwordless-sudo-on-linux)就是我用来完成将 sudo 设置为无密码的方法。然后，您应该能够按如下方式执行脚本`exec('sudo /root/arduPi/'.$_GET['cmd']);`

# ios - How to pass accessibility labels with apostrophe in that using frank ios?

> ID：15873698
> 
> 赞同：0
> 
> 时间：2013-04-08T07:35:34.640
> 
> 标签：ios, automation, frank

If I have a label with accessibility label "You've done some random task". How will i pass that accessibility label to view to touch that element. (format required -- view marked:'You've done some random task')

If i give in above format, frank doesn't recognise "You've" and is unable to find the element. Does anyone know how to pass accessibility labels with apostrophe in that using frank ios?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-27T13:10:02.510

我遇到了类似的问题，这对我有用

```
view marked:\"You've done some random task\" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T15:16:34.150

用 \ 转义特殊字符应该可以。

尝试使用：

```
view marked:'You\'ve done some random task' 
```

# facebook - 找不到自定义应用程序

> ID：15873709
> 
> 赞同：0
> 
> 时间：2013-04-08T07:36:31.347
> 
> 标签：facebook, web

这听起来像是一个非常愚蠢的问题，但我们有一个开发人员为我们创建了一个 Facebook Web 应用程序。

他已经离开了公司，不太配合。我们有他用来创建应用程序的帐户的登录详细信息，但是当我们登录并尝试查看应用程序时，它不会出现在我们的自定义应用程序列表中。

在图形资源管理器中，当尝试调试密钥和 URL 时，应用程序确实出现在下拉列表中，但我们需要更改一些其他自定义设置。

谁能指导我去哪个方向寻找这个？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T05:49:28.623

最后。让他让我们登录，这就是它的位置。所有的时间都白白浪费了。

# ssrs-2008 - 从具有不同条件的查询中删除重复数据

> ID：15873713
> 
> 赞同：0
> 
> 时间：2013-04-08T07:36:44.227
> 
> 标签：ssrs-2008, duplicate-removal

在我创建了这个查询的视图中，

```
SELECT DISTINCT 
ClientCode, ClientName, Address1, Address2, City, Country, CreatedBy, CreatedDate
FROM 
Contact
GROUP BY 
ClientCode, ClientName, Address1, Address2, City, Country, CreatedBy, CreatedDate 
```

这会给我这个结果，

```
001   ABC   Lot No,   Road,   City B,   US    Alice    03/04/2012
001   ABC   Lot No,   Road,   City B,   US    Benny    04/04/2012 
```

我应该如何设计我的查询，以便我可以过滤掉重复的数据？我想通过仅显示 1 行数据来忽略这两个字段 - CreatedBy 和 CreatedDate。这就是我想要得到的结果。

```
001   ABC   Lot No,   Road,   City B,   US    Alice    03/04/2012    !OR!
001   ABC   Lot No,   Road,   City B,   US    Benny    04/04/2012 
```

我希望查询能够通过仅比较 ClientCode、ClientName、Address1、Address2、City 和 Country 来过滤掉重复数据。保留 CreatedBy 和 CreatedDate 的原因是我必须将它包含在另一个界面中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:41:08.567

尝试添加

`GROUP BY field`

其中字段应该是任何与客户端名称相同的字段

在您的特殊情况下，您可以向 GROUP BY 添加多个字段，例如

`GROUP BY clientname, clientfoo ..`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T08:18:10.943

您可以使用排名功能根据最近的日期获取每个地址的最新联系方式：

```
with recentContact as
(
  select *
    , mostRecentRank = row_number() over
    (
      partition by ClientCode
        ,ClientName 
        ,Address1 
        ,Address2 
        ,City 
        ,Country
      order by CreatedDate desc
    )
  from contacts
)
select ClientCode
        ,ClientName 
        ,Address1 
        ,Address2 
        ,City 
        ,Country
        ,CreatedBy
        ,CreatedDate
from recentContact
where mostRecentRank = 1 
```

[SQL Fiddle 与演示](http://sqlfiddle.com/#!3/a2edd/2)。

# flash - Server Side Playlist for Flash Media Server

> ID：15873726
> 
> 赞同：0
> 
> 时间：2013-04-08T07:38:06.440
> 
> 标签：flash, media, server-side, flash-media-server, playlists

How do you create a Server Side Playlist for Flash Media Server that will play a list of files from a directory, e.g., a list of MP4 or F4v files? In particular, in what directories do you place the MAIN.ASC and MEDIA files and what additional settings are required by FMS? Lastly, how would you like to it via a browser or stream?

The documentation (from Adobe) is rather vague in this regard. Any assistance would be greatly appreciated!!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-04T06:45:40.697

要首先创建服务器端播放列表，我们需要编写 .asc 文件，该文件将托管在 fms 托管服务器的应用程序文件夹中。

为了在服务器端创建播放列表，我们需要使用 Stream Class。

`

```
application.onAppStart = function()
{

 application.myStream = Stream.get("playlist"); 

if(application.myStream) 
 { 
    application.myStream.play("01",0,-1,true);

 }
} 
```

`

# c++ - String won't assign to string array

> ID：15873727
> 
> 赞同：0
> 
> 时间：2013-04-08T07:38:08.957
> 
> 标签：c++

I'm guessing I've done something really stupid, but the string "elem" in enqueue won't assign to the string array "heap". Is this something to do with the fact that it's a const passed by reference?

```
#include "pqueue-heap.h"
using namespace std;

HeapPQueue::HeapPQueue() {
    heap = new string[1000];
}
HeapPQueue::~HeapPQueue() {
    delete[] heap;

}

string HeapPQueue::peek() const {
    // placeholder so method compiles..
    // replace with your own implementation
    return "";
}

string HeapPQueue::extractMin() {

    // placeholder so method compiles..
    // replace with your own implementation
    return peek();
}

void HeapPQueue::enqueue(const string& elem) {

    logSize++;

    heap[logSize] = elem;
    bubbleUp(logSize);
}

void HeapPQueue::bubbleUp(int i) {
    if (i / 2 == 0) return;
    string insert = heap[i];
    string node = heap[i / 2];
    if (insert >= node) return;

    heap[i] = node;
    heap[i / 2] = insert;
    bubbleUp(i / 2);
}

HeapPQueue *HeapPQueue::merge(HeapPQueue *one, HeapPQueue *two) {
    // placeholder so method compiles..
    // replace with your own implementation
    return new HeapPQueue();
} 
```

logSize is protected, here it is mentioned in the pqueue header file;

```
/**
 * File: pqueue.h
 * --------------
 * Defines the interface that all PQueues must implement.  VectorPQueue,
 * HeapPQueue, and BinomialHeapPQueue all subclass PQueue so that they
 * all agree on the same interface.
 */

#ifndef _pqueue_
#define _pqueue_

#include <string>

/**
 * Defines the PQueue container type for strings. The priority queue
 * holds all enqueued strings, but rather than making them accessible
 * in a FIFO manner, extractMin produces the alphabetically smaller strings
 * before the alphabetically larger ones, regardless of insertion order.
 * 
 * The generalization of this would be a templated priority queue, useful
 * in a large number of algorithmic settings (optimization problems, simulations,
 * shortest path problems, network routing, etc.)
 */

class PQueue {
public:

/**
 * Defines a small set of constants that can be used to identify
 * the particular implementation of interest.  They're most vital to
 * the construction of a PQueue using the factory method, as with
 *
 *     PQueue *pq = PQueue::createPQueue(PQueue::BinomialHeap);
 *    
 * Enumerated constants are programmatically easier to manage than
 * type names, and it's easy to internally dispatch on enumerated
 * type constants than it is to on type names.
 */

    enum PQueueType {
        UnsortedVector, LinkedList, Heap, BinomialHeap
    };

/**
 * Convenience function that gives us a string name for the
 * PQueue represented by type.
 */

    static std::string typeToName(PQueueType type);

public:

/**
 * Manages the initialization of the material managed at the PQueue,
 * base class, level.  We assume that all subclasses, regardless of
 * implementation, track their logical size using the logSize
 * parameter held at the PQueue class level.  By doing so, we can
 * rely on a single implementation of the isEmpty() and size() methods
 * that never have to be overridden.  Construction at this level is
 * so obvious that we just inline the implementation.
 */

    PQueue() { logSize = 0; }

/**
 * Disposes of any external resources held at the PQueue level.
 * Nothing, save for an internal int, is managed at the PQueue level,
 * so the destructor is inlined here.
 */

    virtual ~PQueue() {}

    static PQueue *createPQueue(PQueueType type);
    static PQueue *merge(PQueue *one, PQueue *two);

/**
 * Returns the number of elements inside the PQueue.  This
 * method should not be overridden, and subclasses properly
 * maintain the value of logSize so that the implementation
 * provided here is always correct.
 */

    int size() const { return logSize; }

/**
 * Returns true if and only if the PQueue is empty.  Self-explanatory,
 * save for the fact that isEmpty should not be overridden.
 */

    bool isEmpty() const { return size() == 0; }

/**
 * Inserts the provided string into the priority queue as the
 * implementation sees fit.  The virtual keyword, paired with the
 * = 0, is C++ notation stating that no sensible implementation
 * exists at this level, and that concrete subclasses should 
 * provide one.
 */

    virtual void enqueue(const std::string& elem) = 0;

/**
 * Identifies, removes, and returns the lowest-priority element currently
 * in the priority queue.  The behavior is undefined if called against
 * an empty queue. The virtual keyword, paired with the
 * = 0, is C++ notation stating that no sensible implementation
 * exists at this level, and that concrete subclasses should
 * provide one.
 */

    virtual std::string extractMin() = 0;

/**
 * Returns a copy of the lowest-priority item currently within
 * the queue. The virtual keyword, paired with the
 * = 0, is C++ notation stating that no sensible implementation
 * exists at this level, and that concrete subclasses should
 * provide one.
 */

    virtual std::string peek() const = 0;

protected:

/**
 * Maintains a copy of the size of the priority queue, regardless of the
 * subclass's implementation.  Care much be taken to ++ and -- this
 * field (visible to all suclasses because of the protected access modifier)
 * with each call to enqueue and extractMin, and that the logSize is properly
 * updated with each merge.
 */

    int logSize;
};

#endif 
```

This is the header file for heappqueue;

```
#ifndef _binary_heap_pqueue_
#define _binary_heap_pqueue_

#include "pqueue.h"
#include <string>

class HeapPQueue : public PQueue {
public:
    HeapPQueue();
    ~HeapPQueue();

    static HeapPQueue *merge(HeapPQueue *one, HeapPQueue *two);

    void enqueue(const std::string& elem);
    std::string extractMin();
    std::string peek() const;

private:

    std::string *heap;
    void bubbleUp(int logSize);
    // provide data methods and helper methods to
    // help realize the binary heap-backed PQueue
};

#endif 
```

Here's how the class is enqueued;

```
template <typename Iterable>
static PQueue *buildPQueue(PQueue::PQueueType pqtype, Iterable iter, int size) {
    PQueue *pq = PQueue::createPQueue(pqtype);
    int count = 0;
    foreach (string key in iter) {
        pq->enqueue(key);
        count++;
        if (count == size) break;
    }

    cout << "+ Inserted " << pq->size() << " words." << endl;
    return pq;
} 
```

Here's how the type struct is laid out;

```
static const struct {
    PQueue::PQueueType type;
    int reasonableTestSize;
} testParameters[] = {
    { PQueue::UnsortedVector, 10000},
    { PQueue::LinkedList, 10000},
    { PQueue::Heap, INT_MAX},
    { PQueue::BinomialHeap, INT_MAX}
}; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:41:45.237

~~您显示的构造函数未初始化`logSize`。这很可能至少是问题的一部分。~~

此外，`heap`具有固定大小并且`enqueue()`不检查溢出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:50:25.620

您**没有使用 heap 的 slot 0**。而是尝试发布递增 logSize。此外，在访问数组堆之前必须进行某种边界检查。

```
 void HeapPQueue::enqueue(const string& elem) {
        heap[logSize] = elem;
        bubbleUp(logSize);
        logSize++;
    } 
```

# c# - 代码说明：使用 FirstorDefault() 从 Array 中检索项目

> ID：15873732
> 
> 赞同：4
> 
> 时间：2013-04-08T07:38:26.573
> 
> 标签：c#, .net, arrays, linq

假设我在数组中有一些项目

```
Product[] myProducts = new Product[]
{
    new Product { ID = 1, name = "Ketchup1", category = "Sauces", price = 200.00m },
    new Product { ID = 2, name = "Ketchup2", category = "Sauces", price = 200.00m },
    new Product { ID = 3, name = "Ketchup3", category = "Sauces", price = 200.00m }
}; 
```

然后假设我尝试使用这种方法检索

```
public Product GetProductById(int id)
{
    var product = products.FirstOrDefault((p) => p.Id == id);
    if (product == null)
    {
        throw new HttpResponseException(HttpStatusCode.NotFound);
    }
    return product;
} 
```

我已经阅读了它的作用，但我不明白这里发生了什么：

```
FirstorDefault(p => p.Id == id); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T07:45:03.590

`FirstOrDefault(predicate)`遍历集合并返回与谓词匹配的第一个元素。在您的示例中，它将是第一个带有`p.Id == id`. 当没有与谓词匹配的值时，返回默认值（`null`对于所有引用类型）。

`(p) => p.Id == id`是一个匹配的[lambda 表达式](http://msdn.microsoft.com/en-us/library/bb397687.aspx)`Func<Product, bool>`- 它接受一个类型`Product`的参数（名为`p`）并返回`bool`值。

**`FirstOrDefault`**可能看起来非常类似于它的[eduLINQ 等效项](http://msmvps.com/blogs/jon_skeet/archive/2010/12/29/reimplementing-linq-to-objects-part-11-first-single-last-and-the-ordefault-versions.aspx)：

```
public static TSource FirstOrDefault<TSource>( 
    this IEnumerable<TSource> source, 
    Func<TSource, bool> predicate) 
{ 
    // Argument validation elided 
    foreach (TSource item in source) 
    { 
        if (predicate(item)) 
        { 
            return item; 
        } 
    } 
    return default(TSource); 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:42:44.103

这是需要满足的条件。

```
(p) => p.Id == id 
```

是 lambda 函数，给定参数 p 返回 p.Id == id

它在每个元素上调用，直到它为真。

因此，`product`将是 Id 与给定 id 匹配的第一个元素，如果不存在则为 null

# c# - 顺序日期分组问题

> ID：15873735
> 
> 赞同：-3
> 
> 时间：2013-04-08T07:38:39.077
> 
> 标签：c#, sql, sql-server-2005, join

我有以下查询：

```
SELECT sauda_date,
       ExpiryDate,
       Scrip_Code,
       SUM(CASE WHEN Buy_sell = 1 THEN Trade_Qty ELSE 0 END) AS BuyQty, 
       SUM(CASE WHEN Buy_sell = 1 THEN Market_Rate ELSE 0 END) AS BuyRate, 
       SUM(CASE WHEN Buy_sell = 1 THEN Trade_Qty * Market_Rate ELSE 0 END) AS BuyAmount,
       SUM(CASE WHEN Buy_sell = 2 THEN Trade_Qty ELSE 0 END) AS SellQty, 
       SUM(CASE WHEN Buy_sell = 2 THEN Market_Rate ELSE 0 END) AS SellRate,
       (CASE WHEN SUM(CASE WHEN Buy_sell = 1 THEN Trade_Qty ELSE 0 END)>
                  SUM(CASE WHEN Buy_sell = 2 THEN Trade_Qty ELSE 0 END) 
             THEN 'BF' ELSE 'BT' END ) as TradeType, 
       SUM(CASE WHEN Buy_sell = 2 THEN Trade_Qty * Market_Rate ELSE 0 END) AS SellAmount, 
       SUM(CASE WHEN Buy_sell = 1 THEN Trade_Qty ELSE 0 END)
        - SUM(CASE WHEN Buy_sell = 2 THEN Trade_Qty ELSE 0 END) as NETQTY,
       SUM(CASE WHEN Buy_sell = 1 THEN Trade_Qty * Market_Rate ELSE 0 END)
        - SUM(CASE WHEN Buy_sell = 2 THEN Trade_Qty * Market_Rate ELSE 0 END)as NetAmt,
       SUM(CASE WHEN Buy_sell = 2 THEN Trade_Qty * Market_Rate ELSE 0 END)
        - SUM(CASE WHEN Buy_sell = 1 THEN Trade_Qty * Market_Rate ELSE 0 END) as PNLAmt 
FROM tradeFile 
where Inst_Type='FUTIDX' OR 
      Inst_Type='FUTSTK' and 
      Sauda_Date between 
                 convert(datetime,'" + dtpForDate.Value.Date.ToShortDateString() + "') and 
                 convert(datetime,'" + dtpToDate.Value.Date.ToShortDateString() + "')
group by Scrip_Code,ExpiryDate,sauda_date 
order by Scrip_Code,ExpiryDate,sauda_date 
```

这个查询给了我以下结果：

![在此处输入图像描述](https://i.stack.imgur.com/8Lwu9.jpg)

在此查询中，我使用的是 saudadate 组。也按 saudadate 订购。

它最终向我展示了 2013 年 2 月 28 日，并从 2013 年 3 月 1 日、2013 年 3 月 2 日...... 2013 年 3 月 22 日进一步上市。

我想让记录按顺序分组。即首先是 2013 年 2 月 28 日，然后是 2013 年 3 月 1 日、2013 年 3 月 2 日、2013 年 3 月 3 日……

我应该在上述查询中进行哪些更改？

删除 order by 对上述查询的结果没有影响。

以及转换`(varchar(11),sauda_date)` 也没有任何区别。

sauda_date 是 nvarchar

**我的预期结果：**

```
Sauda_Date Expiry_Date  ScripCode

28 Feb 2013   .....       ADANIENT  
1 MAR  203    ......      ADANIENT  
1 Mar 2013    .......     ADANIENT
28 FEB 2013   .......     TCS
2 MAR 2013    ....        TCS 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:43:35.323

顺序是：

```
order by Scrip_Code,ExpiryDate,sauda_date 
```

如果你想通过 订购`sauda_date`，它应该先去：

```
order by sauda_date, Scrip_code, ExpiryDate 
```

如果将其存储为字符串（不好的选择，但如果这样做，则应存储为“YYYY-MM-DD”格式），然后尝试：

```
order by convert(datetime, sauda_date), Scrip_code, ExpiryDate 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:56:46.073

要`sauda_date`在内部排序`scrip_code`（这似乎是您想要的），请将`order by`子句更改为：

```
order by Scrip_code, sauda_date, ExpiryDate 
```

（如果您查看问题中的屏幕截图，您可以看到结果已在`ExpiryDate`之前进行排序`sauda_date`- 正如查询中指定的那样 - 这就是行按原样排序的原因。）

# php - 如何上传文件，使用 api 创建文件夹到 repo

> ID：15873740
> 
> 赞同：0
> 
> 时间：2013-04-08T07:38:55.420
> 
> 标签：php, api, github, github-api

嗨，我正在使用[GitHub v3](http://developer.github.com/v3/git/)，我想在 repo 中添加新的二进制文件。通过使用[KnpLabs php-github-api](https://github.com/KnpLabs/php-github-api)我完全按照中所说的去做

1.  获取当前提交对象
2.  检索它指向的树
3.  检索该特定文件路径的树具有的 blob 对象的内容
4.  以某种方式更改内容并使用该新内容发布一个新的 blob 对象，返回一个 blob SHA
5.  发布一个新的树对象，该文件路径指针替换为您的新 blob SHA 获取树 SHA

等等。但是在 5 点上我得到了一个例外

```
server error 
```

形成这个代码

```
$comit=$client->api('git')->commits()->show($userName,$reposit,'master');
$basetree=$client->api('git')->trees()->show($userName,'appwiz',$comit['commit']    ['tree']['sha']);

$newBlob=$client->api('git')->blobs()->create($userName,$reposit,array('content'=> "gitapi",'encoding'=>'base64'));

$client->authenticate($userName,$password,Github\Client::AUTH_HTTP_PASSWORD);
$treeData = array(
        'tree'=>
        array(  array('path'=>'/'
                ,'mode'=>'040000'
                ,'type'=>'tree'
                ,'content'=>'folder')
        )
); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T17:24:51.277

你不能

> 作为我们持续努力让 GitHub 专注于构建软件的一部分，我们将弃用下载选项卡。下载 API 已正式弃用，并将在 90 天内禁用。

[`github.com/blog/1302-goodbye-uploads`](http://github.com/blog/1302-goodbye-uploads)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T17:06:15.560

我的印象是你需要一个有效的 sha 才能创建一棵树。根据[创建树的文档，](http://developer.github.com/v3/git/trees/#create-a-tree)您似乎需要获取对象的 SHA1。因此，您似乎必须已经将树添加到索引中。没有它，您将无法获得对象的 SHA，因为 git 已经识别了它。

# php - 如何通过正则表达式查找不匹配的项目

> ID：15873743
> 
> 赞同：1
> 
> 时间：2013-04-08T07:39:04.503
> 
> 标签：php, regex

我的表格列中有逗号分隔值，我必须将新值与旧值分开。

我的代码是

```
 $a = '1,2,3,4';
    $b = '1,2';

    if(preg_match("/[^$b]/",$a,$matches)){
        print_r($matches);
    }; 
```

我想找到`3,4`，但我做不到。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T07:42:26.163

你真的不应该为此使用正则表达式。PHP 有很好的函数来计算交点：

```
$a = explode(',', '1,2,3,4');
$b = explode(',', '1,2');

print_r(array_values(array_diff($a, $b))); 
```

也可以看看：[`array_diff()`](http://php.net/array_diff)

请注意，这也适用于以下示例：

```
$a = '1,2,3,4';
$b = '1,3';

// outcome must be: 2, 4 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-08T07:42:19.227

使用`preg_match_all`而不是 `preg_match`

```
$a = '1,2,3,4,10';
$b = '1,2';
if(preg_match_all("/[^$b](.*)/",$a,$matches)){
    print_r($matches);
}; 
```

输出

```
 Array
(
   [0] => Array
    (
        [0] => 3,4,10
    )

    [1] => Array
    (
        [0] => ,4,10
    )

 ) 
```

# hive - 抑制映射并减少 Hive 查询的进度

> ID：15873744
> 
> 赞同：7
> 
> 时间：2013-04-08T07:39:09.740
> 
> 标签：hive

是否有一个选项可以抑制地图并减少配置单元查询的进度，即

```
2013-04-07 19:21:05,538 Stage-1 map = 13%,  reduce = 4%, Cumulative CPU 28830.05 sec
2013-04-07 19:21:06,558 Stage-1 map = 13%,  reduce = 4%, Cumulative CPU 28830.05 sec 
```

`-v`同时保留所有其他输出，特别是带有选项的查询本身。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-08T08:54:11.427

```
hive -S -v -e "select * from test;" 
```

`S`用于静音模式

`v`用于查询显示

`e`用于执行查询

# ruby-on-rails - 测试我的 Ruby on Rails 应用程序

> ID：15873745
> 
> 赞同：1
> 
> 时间：2013-04-08T07:39:11.163
> 
> 标签：ruby-on-rails, ruby, testing, rspec

我在名为 HomePage 的方法中有一个名为 productscontroller 的控制器。

代码如下：

```
 class ProductsController < ApplicationController
      def HomePage
      end
   end 
```

在 routes.rb 文件中

`root :to => 'products#HomePage'`

所以当我点击`localhost:3000`它时，它会呈现主页。

对于这个 HomePage.html.erb 文件，我正在调用 javascript 文件，在这个 javascript 文件中发送另一个 ajax 请求来呈现中心内容。 `Path: 'homepage01/1'`对于这个请求，我在控制器中有动作，比如

```
def homepage01
 "query executed and stored in instance variable"
end 
```

所以我的问题是如何测试此页面是否成功呈现或测试框架中的任何错误等？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T08:29:08.180

使用 rspec 很简单：使用以下代码在 spec/controllers/products_controller_spec.rb 中创建测试：

```
describe ProductsController do
  describe '#homepage01' do
    before { get :homepage01 }

    it { should respond_with(:success) }
    it { should render_template(:template_name) }
end 
```

# c# - 数据传输网格视图到 Excel 工作表

> ID：15873758
> 
> 赞同：0
> 
> 时间：2013-04-08T07:40:15.923
> 
> 标签：c#, asp.net

在asp dot net代码中将数据传输网格视图运行到excel，但excel的空白表生成但数据未加载到excel表中如何解决这种类型的问题

```
protected void btnexcel_Click1(object sender, EventArgs e)
{

    Response.Clear();
    Response.Buffer = true;
    Response.AddHeader("content-disposition",  
    "attachment;filename=ActualsAndBudgets.xls");
    Response.Charset = "";
    Response.ContentType = "application/ms-excel";
    Response.Cache.SetCacheability(HttpCacheability.NoCache);
    StringWriter sw = new StringWriter();
    HtmlTextWriter htw = new HtmlTextWriter(sw);
    gvdetails.AllowPaging = false;
    gvdetails.DataBind();
    gvdetails.RenderControl(htw);
    Response.Write(sw.ToString());
    Response.End();

}
public override void VerifyRenderingInServerForm(Control control)
{

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T08:45:40.973

检查 gridview 中的数据，您的数据未绑定。所以excel是空的。调试并检查 gridview 中的数据。它应该工作。

试试这个

```
 Response.Clear();
    Response.Buffer = true;
    Response.AddHeader("content-disposition",
    "attachment;filename=ActualsAndBudgets.xls");
    Response.Charset = "";
    Response.ContentType = "application/ms-excel";
    Response.Cache.SetCacheability(HttpCacheability.NoCache);
    StringWriter sw = new StringWriter();
    HtmlTextWriter htw = new HtmlTextWriter(sw);
    GridView1.RenderControl(htw);
    Response.Write(sw.ToString());
    Response.End(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T12:16:07.043

可能是导出 excel 中数据绑定的问题。检查数据是否正确放入gridview。

使用此代码在 excel 表中导出网格视图，并注意您必须在项目中添加 iTextSharp dll。

```
 protected void btnExportExcel_Click(object sender, EventArgs e)
    {
        Response.Clear();
        Response.Buffer = true;
        Response.AddHeader("content-disposition", "attachment;filename=GridViewExport.xls");
        Response.Charset = "";
        Response.ContentType = "application/vnd.ms-excel";

        StringWriter sw = new StringWriter();
        HtmlTextWriter hw = new HtmlTextWriter(sw);
        GridView1.AllowPaging = false;

        // Re-Bind data to GridView 

        using (CompMSEntities1 CompObj = new CompMSEntities1())
        {
            Start = Convert.ToDateTime(txtStart.Text);
            End = Convert.ToDateTime(txtEnd.Text);

            GridViewSummaryReportCategory.DataSource = CompObj.SP_Category_Summary(Start, End);
            SP_Category_Summary_Result obj1 = new SP_Category_Summary_Result();
            GridView1.DataBind();
           GridView1.Visible = true;
            ExportTable.Visible = true;
        }

        //Change the Header Row back to white color

        GridView1.HeaderRow.Style.Add("background-color", "#FFFFFF");

       GridView1.Style.Add(" font-size", "10px");

        //Apply style to Individual Cells

        GridView1.HeaderRow.Cells[0].Style.Add("background-color", "green");
        GGridView1.HeaderRow.Cells[1].Style.Add("background-color", "green");
        GridView1.HeaderRow.Cells[2].Style.Add("background-color", "green");
        GridView1.HeaderRow.Cells[3].Style.Add("background-color", "green");
        GridView1.HeaderRow.Cells[4].Style.Add("background-color", "green");

        for (int i = 1; i < GridView1.Rows.Count; i++)
        {
            GridViewRow row = GridView1.Rows[i];

            //Change Color back to white

            row.BackColor = System.Drawing.Color.White;

            //Apply text style to each Row

        //    row.Attributes.Add("class", "textmode");

            //Apply style to Individual Cells of Alternating Row

            if (i % 2 != 0)
            {
                row.Cells[0].Style.Add("background-color", "#C2D69B");
                row.Cells[1].Style.Add("background-color", "#C2D69B");
                row.Cells[2].Style.Add("background-color", "#C2D69B");
                row.Cells[3].Style.Add("background-color", "#C2D69B");
                row.Cells[4].Style.Add("background-color", "#C2D69B");
            }
        }
        GridView1.RenderControl(hw);

        //style to format numbers to string

        string style = @"<style> .textmode { mso-number-format:\@; } </style>";

        Response.Write(style);
        Response.Output.Write(sw.ToString());
        Response.Flush();
        Response.End();
    } 
```

# c# - 如何以编程方式将值发送到文本框？

> ID：15873760
> 
> 赞同：1
> 
> 时间：2013-04-08T07:40:18.270
> 
> 标签：c#, .net, wpf

我有一个文本框，我必须从我设计的虚拟键盘发送值到那个文本框。我发送喜欢

```
txtNumber.Text = txtNumber.Text.Insert(txtNumber.CaretIndex, ((Button)sender).Content.ToString());
txtNumber.CaretIndex += txtNumber.Text.Length;
txtNumber.focus(); 
```

问题是当用户在输入某个字符后强行将光标放在文本之间时，然后按下键意味着第一次正确插入值并且该光标需要在那里。

上面的这个逻辑使它最终保持光标位置。

如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:44:04.070

如果我理解这个问题，我会将正在修改的字符串保存在缓冲区字符串变量中，并根据虚拟 kb 输入进行更改。完成后，通过 txtNumber.Text = bufferedString; 更新 TextBox 值

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:44:37.377

使用此代码，我已经检查过：

```
 int CurrentIndex;
        private void textNumber_Click(object sender, EventArgs e)
        {
            CurrentIndex = textNumber.SelectionStart;
        }

        private void Key_Click(object sender, EventArgs e)
        {
            textNumber.Text = textNumber.Text.Insert(CurrentIndex, "_");
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:47:53.123

尝试这样做`txtNumber.Text +=// your code..` 并尝试`txtNumber.focus();`将此行放在开头。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-08T07:55:03.587

有几种方法可以做到这一点。
当用户打算使用虚拟键盘时，
通过单击复选框或其他内容，您可以将文本框设为只读。
或者您可以在文本框`CaretIndex`的情况下设置`lost focus`。
否则你可以简单地调用`AppendText("nextsetofchars")`方法
[http://msdn.microsoft.com/en-us/library/system.windows.forms.textboxbase.appendtext.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.textboxbase.appendtext.aspx)

您还可以将 设置`SelectionStart`为丢失焦点事件中字符串的长度。 [http://msdn.microsoft.com/en-us/library/system.windows.forms.textboxbase.selectionstart.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.textboxbase.selectionstart.aspx)

# java - Web 应用程序中报告的测试自动化和验证

> ID：15873761
> 
> 赞同：0
> 
> 时间：2013-04-08T07:40:24.130
> 
> 标签：java, testing, report

我正在测试一个 java web 应用程序，管理员可以在其中运行各种自定义报告。报告的 UI 允许管理员为预定义的属性输入各种属性值，例如日期时间过滤器、管理员要为其运行报告的国家列表以及其他一些预定义的属性。自动验证报告中显示的数据的最佳方法是什么。与 DB 相比，我想检查此数据是否正确

谢谢维沙尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T06:14:17.783

如果 1\. 报告以 web/html 呈现，并且 2\. 您想要实现的是针对数据库验证 UI 输出，并且 3\. 您愿意并被允许投入大量资源/时间来实现这种验证，我建议将[Selenium](http://docs.seleniumhq.org/)与[JUnit](http://junit.org/)一起使用。除了您采用的方法之外，可能还有其他问题，但这是您可以开始的事情之一。

# python - 在 django 中编写自定义搜索的最佳方法是什么

> ID：15873762
> 
> 赞同：2
> 
> 时间：2013-04-08T07:40:35.930
> 
> 标签：python, django

我正在为我的应用程序使用 django。我是新手。我有一个表单，我有多个字段，用户可以从中执行搜索我有关系层次结构，比如学生有很多科目，然后科目有很多作业，作业有很多表格

我将表格分为三个部分，每个部分有 3-4 个字段来搜索例如

```
 STUDENT DATA
  Name:
  StudentID
  city

  SUBJECTS DATA
  Start daTE
  NAME
  CREDITS

  ASSIGNEMENT DATA
  marks
  date_issue
  credits 
```

我将根据这些 seacrh 标准返回学生名单，他们将是部分匹配项。

我是 django si 的新手，我不知道如何继续过滤搜索，因为搜索也在嵌套对象上

我可以执行一列搜索，例如

`Student.objects.filter(sbjects__icontains="math")` 但我不知道如何同时搜索所有

谁能告诉我如何进行

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:52:00.440

所以看来您正在寻找`OR`查询？像这样的东西：

```
from django.db.models import Q
Student.objects.filter( Q(subjects__icontains="math") | Q(name="John") ) 
```

文档：

[https://docs.djangoproject.com/en/dev/topics/db/queries/#complex-lookups-with-q-objects](https://docs.djangoproject.com/en/dev/topics/db/queries/#complex-lookups-with-q-objects)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:52:51.733

```
def your_view(request):
    students = Student.objects.filter()

    if request.GET.get('student'):
        students = students.filter(
            Q(name__contains=request.GET['student']) |
            Q(studentID__contains=request.GET['student']) |
            Q(city__contains=request.GET['student'])
            )

    if request.GET.get('subjects'):
        students = students.filter(
            Q(name__contains=request.GET['subjects']) |
            Q(credits__contains=request.GET['subjects'])
            )

    //more search here

    return render(request, 'page.html', {'students': students}) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T08:12:44.677

我建议你在[django-haystack](http://haystacksearch.org/)插件上抢购一下。它将允许您使用类似模型的对象制作扁平索引，然后在其中轻松搜索。

您始终可以使用 Q 对象和 icontains 查找，但对于相对大量的数据会很慢。

# android - 多核安卓

> ID：15873768
> 
> 赞同：5
> 
> 时间：2013-04-08T07:41:04.353
> 
> 标签：android, multicore

我运行了简单的并行算法，绘制了 mandelbrot 集来测试 Nexus 7（Tegra 3、4+1 内核）上的并行计算。运行几次后，串行时间为 1.5 秒，并行时间为 1.0 秒，但并行和串行在 1.3 秒时非常接近。

正方形是 700x700 像素，我使用的 mandelbrot 代码来自

[http://rosettacode.org/wiki/Mandelbrot_set#Java](http://rosettacode.org/wiki/Mandelbrot_set#Java)

并行实现像这样运行两半 mandelbrot

```
 public void mandelbrotParallel() {
    Thread t1 = new Thread(new Runnable() {
        public void run() {
            mandelbrotOne();
        }
    });
    Thread t2 = new Thread(new Runnable() {
        public void run() {
            mandelbrotTwo();
        }
    });
    t1.start();
    t2.start();
    try {
        t1.join();
        t2.join();
    } catch (InterruptedException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    mHandler.post(new Runnable() {
        public void run() {
            v.setBmp(bmp);
            v.invalidate();
        }
    });
} 
```

我之前运行过一个简单的向量加法，发现了类似的轶事结果（没有科学严谨性）。所以我想知道是否有什么特别的事情要做才能让 Android 启动多个内核来完成任务。

根据与 Google 的快速对话，可能是内核处于休眠状态并等待计算真正长时间运行（几秒钟），然后再打开内核......这是真的吗？如果是这样，是否有来自 Java（无 JNI）的 API 调用可以抢先唤醒内核？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:53:41.453

[这听起来像是RenderScript](http://developer.android.com/guide/topics/renderscript/compute.html)的候选者。简而言之，它允许您利用所有可用的加速资源（多核、GPU 计算、dsp 等）进行计算量大的操作。从文档：

> Renderscript 使您的应用程序能够通过所有可用处理器内核的自动并行化运行操作。它还支持不同类型的处理器，例如 CPU、GPU 或 DSP。Renderscript 对于执行图像处理、数学建模或任何需要大量数学计算的操作的应用程序很有用。

您必须用 C 重写您的 Mandelbrot 代码，但您不必将其分解为多个部分，因为会为您处理并行化。

从 Android 代码中使用 RenderScript 很简单，如此[处](http://developer.android.com/guide/topics/renderscript/compute.html#calling)所述。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-08T10:05:10.113

一个**普通**的安卓系统会尽量保守。因此，如果您创建一个新线程并开始一些繁重的计算，Linux 内核将首先在一个内核上运行并提高其内核速度。一旦内核在某个阈值上“忙碌”了一段时间，内核才会启动另一个内核。

另一个方向也是如此：一旦系统平静下来，它会慢慢关闭内核并降低频率。

从开发人员的角度来看，您无法在“普通”Android 上影响这一点。Android 没有 API 来唤醒一定数量的核心或设置一定的核心频率。

* * *

如果您可以切换到有**根**的Android，那么您有更多选择，因为常规 Linux 内核确实可以选择影响核心频率和活动核心的数量。这是通过“州长”完成的。一个普通的 Linux 内核有很多选择。对于这个问题，您有兴趣设置*性能*调控器，这将使核心保持清醒并处于最高频率。

Linux 内核接口位于*/sys*文件系统中。我将在这里展示**adb shell**命令，并留给您将其转换为 Java 的打开、读取和写入命令。

```
cd /sys/devices/system/cpu 
```

在此目录中，您将找到指示系统中存在多少核心的虚拟文件：

```
cat possible 
```

在您的 Tegra 3 案例中应该给出*0-3*的答案。内核不知道如果只有一个内核在运行，它会偷偷转移到备用的低功耗内核。还有目录*cpu0 cpu1 cpu2 cpu3*。根据内核版本，它们可能仅在激活内核时出现。每个 cpu 目录都包含一个目录*cpufreq*，您可以在其中与[cpufreq 子系统](http://lxr.free-electrons.com/source/Documentation/cpu-freq/user-guide.txt?v=3.0 "cpufreq 子系统")进行交互。它应该包含一个文件 scaling_available_governors，显示哪些[cpu](http://lxr.free-electrons.com/source/Documentation/cpu-freq/governors.txt?v=3.0 "cpu 调速器")调控器可用。仅在有根系统上，您可以执行以下操作：

```
echo "performance" >cpu0/cpufreq/scaling_governor 
```

设置将保持核心以最高频率运行的调控器。在非根系统上，您将收到错误“权限被拒绝”。

* * *

为了展示这种行为的影响，Vector Fabrics 创建了一个测试应用程序，该应用程序在 OpenCV 上并行执行修复算法。该应用程序可测量多达 4 个内核的顺序和并行性能。即使在运行并行版本两次时，由于启动内核，测量值也会有所不同。自己看看（从应用商店下载）： [http ://www.vectorfabrics.com/products/case-study/opencv_inpaint](http://www.vectorfabrics.com/products/case-study/opencv_inpaint)

# ruby - 为什么 Cucumber 测试应用在 1.4.x 而不是 1.3.x 中无法访问 Sinatra 的设置？

> ID：15873772
> 
> 赞同：0
> 
> 时间：2013-04-08T07:41:29.167
> 
> 标签：ruby, sinatra, cucumber

我试图从 Sinatra 1.3.x 升级到 1.4.2。规格运行良好，但 Cucumber 失败：

```
undefined local variable or method `settings' for #<RechargeWorld:0x007ffbd606ba60> (NameError) 
```

的相关部分`env.rb`如下所示：

```
 class RechargeWorld
    include Capybara::DSL
    include RSpec::Expectations
    include RSpec::Matchers

    def db
      @db ||= CouchRest.database(settings.db)
    end
  end 
```

其中一些代码（注意：我添加了该`db`方法）是由[cucumber-sintra](https://rubygems.org/gems/cucumber-sinatra)生成的，它在 1.3.x 上运行良好，但在任何版本 1.4.x 上都失败了。最新版本的 cucumber-sinatra 生成基本相同的`env.rb`.

该应用程序[在 Github 上可用](https://github.com/awendt/recharge)。

1.3.x 和 1.4 之间的设置散列是否有任何更改可能导致此问题？我做错了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T19:49:21.613

我查看了[官方 Cucumber+Sinatra 指南](https://github.com/cucumber/cucumber/wiki/sinatra)并注意到`app`方法返回`Sinatra::Application`。

所以我将`env.rb`部分更改为：

```
class RechargeWorld
  include Capybara::DSL
  include RSpec::Expectations
  include RSpec::Matchers

  def db
    @db ||= CouchRest.database(Sinatra::Application.settings.db)
  end
end 
```

它就像一个魅力。

# android - 运行时异常 Android

> ID：15873777
> 
> 赞同：0
> 
> 时间：2013-04-08T07:41:46.467
> 
> 标签：android

我的应用程序中有一个奇怪的错误，有时在下面的代码中出现 NULL 异常（是的，有时听起来很奇怪！！！）

请看一看

```
String appId = preferences.getString(ProjectConstants.IMEI_NO, null);
    if (appId == null) {
        // Here i am getting exception:
        TelephonyManager manager = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE); 
        appId = manager.getDeviceId();
        preferences.edit().putString(ProjectConstants.IMEI_NO, appId);
    } 
```

日志猫

```
 java.lang.RuntimeException: An error occured while executing doInBackground()
 at android.os.AsyncTask$3.done(AsyncTask.java:278)
 at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
 at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
 at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
 at java.util.concurrent.FutureTask.run(FutureTask.java:137)
 at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:208)
 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
 at java.lang.Thread.run(Thread.java:856) Caused by: java.lang.NullPointerException
 at com.homeshop18.service.GSONfunctions.getGSONfromURL(GSONfunctions.java:115)
 at com.homeshop18.ui.myorder.MyOrdersFragment$DownloadMyOrders.doInBackground(MyOrdersFragment.java:92)
 at com.homeshop18.ui.myorder.MyOrdersFragment$DownloadMyOrders.doInBackground(MyOrdersFragment.java:1)
 at android.os.AsyncTask$2.call(AsyncTask.java:264)
 at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305) ... 5 more 
```

任何帮助将不胜感激.. :D

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-08-29T18:35:42.217

您的 logcat 日志清楚地显示，

> 在 com.homeshop18.service.GSONfunctions.getGSONfromURL(GSONfunctions.java:115)

请在第 115 行检查，有一些 null 并且您正在尝试访问它的属性。

更新，如果您的第一个代码片段来自`GSONfunctions`，您必须检查是否`context`为空。

# javascript - 获取信息设备注册用户GCM

> ID：15873778
> 
> 赞同：0
> 
> 时间：2013-04-08T07:41:50.477
> 
> 标签：javascript, android, cordova

我正在使用 Node.js 通过从设备客户端删除registrationIds 手动将信息推送到设备。但是当我想向客户端发送消息时，我不知道如何直接从服务器registrationIds GCM获取信息而无需手动输入。

示例：我想将***APA91bHg7QEO3h44OCrBAb6yoHEvNvVSrRRcJjufS5fduCw2YhC83BZ9eqlxYS9PbKIAoFrmK-rvNEQ-CxrAjy4Wy13CRt5or1h7kG9XDRg2Tcy4zx8EpGOYLybmgnLDmVVvTJF4PR9Y***替换为直接取自 GCM 的 id。

代码服务器：

```
var gcm = require('node-gcm');
//var gcm = require('../gcm.js');

var message = new gcm.Message();
var sender = new gcm.Sender('AIzaSyB8IAgyo9DJbmGiVISnCCoxcQRD7em6KfI');
var registrationIds = [];

message.addData('title','Long Van');
message.addData('message','Ket qua xo so moi nhat!!!!');
message.addData('msgcnt','1');
message.collapseKey = 'demo';
message.delayWhileIdle = true;
message.timeToLive = 3;

// At least one token is required - each app registers a different token
 registrationIds.push('APA91bHg7QEO3h44OCrBAb6yoHEvNvVSrRRcJjufS5fduCw2YhC83BZ9eqlxYS9PbKIAoFrmK-rvNEQ-CxrAjy4Wy13CRt5or1h7kG9XDRg2Tcy4zx8EpGOYLybmgnLDmVVvTJF4PR9Y');

/**
 * Parameters: message-literal, registrationIds-array, No. of retries, callback-function
 */

sender.send(message, registrationIds, 4, function (result) {
console.log(result);
});
/** Use the following line if you want to send the message without retries
sender.sendNoRetry(message, registrationIds, function (result) {
console.log(result); });
**/ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T08:34:20.647

正确的方法是当设备向 GCM 注册时，GCM 将返回令牌 ID / reg ID（无论您如何称呼它），此时，您应该使用此 ID 更新您的服务器以及一些附加信息以识别 ID（也许是关联的电子邮件或用户名？）

# orchardcms - 从 Orchard CMS 小部件中删除标题标签

> ID：15873780
> 
> 赞同：3
> 
> 时间：2013-04-08T07:41:57.120
> 
> 标签：orchardcms

通过使用它出现的任何模板（例如widget.cshtml/common）模板，从默认小部件中删除标签不起作用。

（不重复[Orchard CMS - 删除帖子中的标题和元数据（发布日期）](https://stackoverflow.com/questions/9770709/orchard-cms-remove-title-and-metadatapublished-date-in-a-post)）

覆盖 widget.cshtml 似乎也不起作用，并且是围绕 this/inserted 的包装器。似乎也没有关于使用 Placement.info 执行此操作的文档.. 欣赏任何想法..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T13:29:16.953

您需要在主题中覆盖**Widget.Wrapper.cshtml**。

原始的可以在**/Modules/Orchard.Widgets/Views/中找到**

# java - 在 Maven 1.1 中为本地 JAR 添加依赖项

> ID：15873783
> 
> 赞同：0
> 
> 时间：2013-04-08T07:42:01.217
> 
> 标签：java, maven

我的项目使用的是 maven 1.1，我想为我在本地构建的另一个 JAR 添加依赖项。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T09:11:29.817

将 jar 安装到本地仓库

```
mvn install:install-file -Dfile=<path to your jar> -DgroupId=<groupID you want to give> -DartifactId=<artifactID you want to give> -Dversion=<version you want to give> -Dpackaging=jar 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T09:11:42.820

在我的例子中，我使用了以下策略：将文件安装到本地存储库，然后将其依赖项添加到 pom.xml。

安装可以如下进行：

```
mvn install:install-file \
  -DgroupId=my.local.jar \
  -DartifactId=localName \
  -Dpackaging=jar \
  -Dversion=1.0-MYVERSION \
  -Dfile=localFile.jar 
```

对于已安装的文件，您需要以下对 pom.xml 的依赖项

```
<dependency>
    <groupId>my.local.jar</groupId>
    <artifactId>localName</artifactId>
    <version>1.0-MYVERSION</version>
</dependency> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-08T13:27:19.627

来自 maven-1.1 常见问题解答：

> **如何将非 Maven 项目中的 JAR 添加到本地存储库？**
> 如果是因为license原因无法上传到Maven中央仓库的JAR，或者是私有的，必须手动拷贝到本地仓库。选择一个合理的组 ID 并确保文件名采用 artifactId-version.jar 格式后，将其复制到 ${maven.repo.local}/groupId/jars/artifactId-version.jar。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-08T07:45:22.283

`pom.xml`您可以为此添加一个条目，`JAR`当您使用 构建项目时`maven`，只需将 添加`-o`到命令中。确保`JAR`它存在于本地`m2`存储库中。

`-o`代表离线，这意味着它只会在本地查找依赖项`m2`。

# android - 从 Android 相机到 Wowza 服务器的视频流。(RTMP)

> ID：15873789
> 
> 赞同：7
> 
> 时间：2013-04-08T07:42:20.120
> 
> 标签：android, rtmp, http-live-streaming

我正在尝试使用 RTMP 将视频从 Android 流式传输到 Wowza 服务器。Android 不支持 RTMP，但我找到了这个[Aftek library](http://www.aftek.com/afteklab/aftek-RTMP-library.shtml)。

我的问题 1：有人有使用这个库从 Android 流到 Wowza 的经验吗？

我的问题 2：还有其他解决方案可以在 Android 上使用 RTMP 流式传输视频（H.264）+ 音频（AAC）吗？

我的问题 3（可选）：可以使用 HTTP Live 从 android 摄像头流式传输 LIVE 视频吗？

对于所有问题，示例将非常有帮助。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T13:36:21.790

你试过这个吗？

[http://code.google.com/p/android-rtmp-client/](http://code.google.com/p/android-rtmp-client/)

我过去用过这个，它是开源的。它可能对你很有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T14:11:34.750

您可以使用 ffmpeg 库和 RTSP 协议。我不能提供一个例子，但就是这样。

# ajax - 发送错误selectQualification: $("#selectQualification").val() }, 成功: function () { alert("a"); } }); }); }); </script> 下面是控制器方法 public void AcceptPersonalInfo(string name,stringfatherName,stringqualification) { } 问题是在 AcceptPersonalInfo() 方法中，qua

> ID：15873801
> 
> 赞同：0
> 
> 时间：2013-04-08T07:42:43.160
> 
> 标签：ajax, asp.net-mvc, jquery

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:49:55.267

因为您发送`selectQualification`的值是 并且控制器期望的值是`qualification`。

所以要么改变

```
public void AcceptPersonalInfo(string name,string fatherName,string qualification) 
{} 
```

至

```
public void AcceptPersonalInfo(string name,string fatherName,string selectQualification) 
{} 
```

或改变

```
data: { name: $("#name").val(), fatherName: $("#fatherName").val(), selectQualification: $("#selectQualification").val() }, 
```

至

```
data: { name: $("#name").val(), fatherName: $("#fatherName").val(), qualification: $("#selectQualification").val() }, 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T08:31:10.337

您可以使用[BindAttribute.Prefix](http://msdn.microsoft.com/en-us/library/system.web.mvc.bindattribute.prefix%28v=vs.108%29.aspx)属性。

例如。：

```
public void AcceptPersonalInfo(string name,string fatherName,
                   [Bind(Prefix = "selectQualification")] string qualification){} 
```

# c# - 如何在 UI 线程外的串行端口数据上运行计算量大的任务

> ID：15873802
> 
> 赞同：1
> 
> 时间：2013-04-08T07:42:43.197
> 
> 标签：c#, wpf, multithreading, serial-port

我有一个用 C# 编写的 WPF 应用程序，它提供了一个 GUI，用于与串行端口上的某些设备进行通信。GUI 包含一个原始输出字段，其中字符在输入时会显示出来，而数据在其中显示的部分会被过滤和处理。有时（当我的外部设备出现问题时）大量数据进入并且程序间歇性锁定。

简而言之，这就是我的代码的样子：

```
 private void DataReceivedHandler(object sender, SerialDataReceivedEventArgs e)
 {
   // get string out of buffer
   // do filtering and processing (see details in text below)

   UIdispatcher.Invoke(System.Windows.Threading.DispatcherPriority.Normal, callbackFunctionInUIThread, processedData);
 } 
```

每次数据进来时，都需要进行一些过滤和处理：我挖掘传入数据的队列以搜索自定义通信协议的包。如果找到一个包，则需要完成更多工作。这为我提供了两个选择：

1.  在事件处理程序中进行过滤/处理。当处理时间过长时，会导致原始数据延迟呈现和/或冻结所有内容。
2.  在 UI 线程中进行过滤/处理。导致 UI 锁定。

我更愿意将原始数据直接传递给 UI，并有一个单独的过滤和处理线程以 FIFO 方式处理数据。串行端口 DataReceivedHandler 会将数据推送到处理队列中，另一个线程将继续处理队列并将任何结果传递给 UI 以进行呈现（或在队列为空时进入睡眠状态）。

我该如何实施？System.Threading 命名空间充满了听起来很酷的类，但我找不到任何似乎适用于我正在尝试做的事情:(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T11:10:01.357

我没有方便的 IDE，但您可以使用[ConcurrentQueue](http://msdn.microsoft.com/en-us/library/dd267265.aspx)和[Task.Factory.StartNew](http://msdn.microsoft.com/en-gb/library/dd321439.aspx)

像这样的东西：

```
public class WorkItem //or use your SerialDataReceivedEventArgs 
{
    public int Id {get;set;}
    public string SomeData {get;set;}
} 
```

然后

```
private ConcurrentQueue<WorkItem> WorkItems  = new ConcurrentQueue<WorkItem>();
private CancellationTokenSource WorkTokenSource = new CancellationTokenSource();
private AutoResetEvent ResetEvent = new AutoResetEvent(true);

void Main()
{

    StartProcessingWork();
    for (var x = 0;x<1000;x++)
    {
        QueueWorkItem(new WorkItem(){Id= x,SomeData=String.Format("Item : {0}",x)});
    }

    Timer addItems = new Timer((a)=>
    {
        QueueWorkItem(new WorkItem(){Id= 0,SomeData=DateTime.Now.ToString()});
    });

    addItems.Change(1000,1000);

    Timer cancel = new Timer((a)=>{
        WorkTokenSource.Cancel();
        ResetEvent.Set();
        addItems.Change(Timeout.Infinite,Timeout.Infinite);
    });
    cancel.Change(5000,0);

}

public void StartProcessingWork()
{
    Task.Factory.StartNew((o)=>
    {
        while(!WorkTokenSource.IsCancellationRequested)
        {
            WorkItem item = null;
            if (WorkItems.TryDequeue(out item))
            {
                Console.WriteLine("Processing...");
                ProcessWorkItem(item);
            }
            else
            {
                Console.WriteLine("Waiting...");
                ResetEvent.WaitOne();
            }
        }
    },WorkTokenSource.Token,TaskCreationOptions.LongRunning);
}

private void ProcessWorkItem(WorkItem item)
{
    //Do some work here...
    for (var x=0;x<100000;x++)
    {
        item.Id = x; //blah blah blah
    }

    //Use dispatcher to display
    Dispatcher.CurrentDispatcher.BeginInvoke(()=>DisplayWorkItem(item));
}

private void DisplayWorkItem(WorkItem item)
{
    //DO your display logic here...
}

public void QueueWorkItem(WorkItem item)
{
    WorkItems.Enqueue(item);
    ResetEvent.Set();
} 
```

# php - php中图片大小保存为0kb -- yii

> ID：15873808
> 
> 赞同：1
> 
> 时间：2013-04-08T07:43:10.253
> 
> 标签：php, yii, yii-extensions

我正在使用一个名为 yii-facebook-opengraph 的扩展程序，用于从 facebook 登录。我正在后端获取详细信息并将它们保存在数据库中。在这里，我也在获取用户图像，当我将用户图像保存在文件夹中时，它会保存图像，但大小为 0kb。

我正在使用的代码如下：

```
 $image = "http://graph.facebook.com/".$IsUser->social_key."/picture?type=normal";

    $img_file = file_get_contents($image);
    $file_loc = Yii::app()->basePath.'/../images/userimag/'.$IsUser->id.'.jpg';
    $file_handler=fopen($file_loc,'w');
    if(fwrite($file_handler,$img_file)==false){
          echo 'error';
    }
    fclose($file_handler);
    $model->profile_image = $IsUser->id.'.jpg';
    $model->save(false); 
```

当我打印图像 url $image 我得到图像，但是当我打印 $img_file 它显示为空

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:49:06.540

使用它来存储图像文件，如果您已`allow_url_fopen`设置为`true`

```
$url = "http://graph.facebook.com/".$IsUser->social_key."/picture?type=normal";
$img = Yii::app()->basePath.'/../images/userimag/'.$IsUser->id.'.jpg';
file_put_contents($img, file_get_contents($url)); 
```

# java - 使用 java 邮件 api

> ID：15873809
> 
> 赞同：0
> 
> 时间：2013-04-08T07:43:11.537
> 
> 标签：java, jakarta-mail, sendmail

我正在使用 Java 邮件 api`smtp.gmail.com`作为主机发送邮件。当我使用下面的代码并启用 tls 时，它工作正常，但如果我禁用它，它会抛出`Must issue a STARTTLS command first`错误。

```
 mailProperties.put("mail.smtp.starttls.enable", "true"); 
```

这是什么意思 ？所以要连接到 gmail 我应该总是设置这个标志？而且要连接到任何邮件服务器，我们是否应该始终启用安全连接（tls 或 ssl）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:51:03.707

GMail smtp 服务器似乎需要 TLS 身份验证。（见[这里](https://support.google.com/mail/troubleshooter/1668960?rd=1#ts=1665018,1665144)）。这意味着如果您不启用 TLS，服务器将拒绝您的查询。

所以是的，要连接到*GMail*，您需要启用 TLS。对于一般的邮件服务器，通常不需要。

# asp.net - TinyMCE 文本编辑器的自定义

> ID：15873810
> 
> 赞同：1
> 
> 时间：2013-04-08T07:43:13.930
> 
> 标签：asp.net, visual-studio-2010, tinymce

我如何在我的 asp.net 应用程序中自定义 TinyMCE，这样当我在 tinyMCE 的文本区域中输入文本时，我能够看到它的预览和设计模式？

这是脚本

```
 <script src="../tinymce/jscripts/tiny_mce/tiny_mce.js" type="text/javascript"></script>
   <script type="text/javascript">
       tinyMCE.init({
           // General options
           mode: "textareas",
           theme: "advanced",
             plugins : "preview",

           plugins: "autolink,lists,spellchecker,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template",

           // Theme options
           theme_advanced_buttons1: "save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect",
           theme_advanced_buttons2: "cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor",
           theme_advanced_buttons3: "tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen",
           theme_advanced_buttons4: "insertlayer,moveforward,movebackward,absolute,|,styleprops,spellchecker,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,template,blockquote,pagebreak,|,insertfile,insertimage",
           theme_advanced_toolbar_location: "top",
           theme_advanced_toolbar_align: "left",
           theme_advanced_statusbar_location: "bottom",
           theme_advanced_resizing: true,

           // Skin options
           skin: "o2k7",
           skin_variant: "silver",

           // Example content CSS (should be your site CSS)
           content_css: "css/example.css",

           // Drop lists for link/image/media/template dialogs
           template_external_list_url: "js/template_list.js",
           external_link_list_url: "js/link_list.js",
           external_image_list_url: "js/image_list.js",
           media_external_list_url: "js/media_list.js",

           // Replace values for the template plugin
           template_replace_values: {
               username: "Some User",
               staffid: "991245"
           }
       });
</script> 
```

这是我的文本区号

```
 <asp:TextBox ID="txtBody" runat="server" Width="400px" TextMode="Multiline" Height="300px"></asp:TextBox> 
```

目前它没有显示任何预览和设计模式的按钮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T08:23:11.433

好的，要在 tinymce 底部有按钮工具栏，您需要做的就是使用配置参数[theme_advanced_toolbar_location](http://www.tinymce.com/wiki.php/Configuration%3atheme_advanced_toolbar_location)

```
theme_advanced_toolbar_location: "bottom", 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-18T19:10:12.060

我们在 Rails 应用程序中使用 TinyMCE 预览插件，如下所示：

```
tinymce.init({
    selector: '<%= selector.html_safe -%>',
    theme: "modern",
    height: <%= height -%>,
    plugins: [
      "advlist autolink link image lists charmap print preview hr anchor pagebreak",
      "searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking",
      "save table contextmenu paste textcolor"
      ],
    //content_css: "css/content.css",
    toolbar: "insertfile undo redo | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | styleselect | bold italic forecolor backcolor | link image media | code preview print fullscreen",
    style_formats: [
       { title: 'Content', block: 'div', classes: 'content' }
    ],
    file_browser_callback : myFileBrowser
}); 
```

如您所见，列表中有一个“预览”插件项和“预览”工具栏项。您可能需要添加自己的工具栏配置选项，然后它会显示出来。

# java - Java-解析大文本文件

> ID：15873812
> 
> 赞同：1
> 
> 时间：2013-04-08T07:43:18.887
> 
> 标签：java, parsing, text

我有一个快速的问题。我正在做一个学校项目，我需要解析一个非常大的文本文件。这是一个数据库类，所以我需要从文件中获取唯一的演员名称，因为演员将是 mysql 数据库中的主键。我已经编写了解析器并且效果很好，但当时我忘记删除重复项。所以，我决定最简单的方法是创建一个演员数组列表。（使用 ArrayList ADT）然后使用 contains() 方法检查演员名称是否在 arraylist 中，然后再将其打印到新的文本文件中。如果是我什么都不做，如果不是我将它添加到数组列表并打印到页面。现在程序运行非常缓慢。在arraylist之前，大约花了5分钟。旧的演员文件是 180k，没有删除重复项。现在它已经运行了 30 分钟，到目前为止是 12k。

我将arraylist的大小留空，因为我不知道文件中有多少个演员，但至少有1-2百万。我当时正在考虑只投入 500 万美元，然后检查它是否得到了全部。（只需检查最后一个 arraylist 索引，如果为空，它没有空间不足。）这会减少时间，因为 arraylist 不会不断加倍并重新复制所有内容吗？还有比这更快的方法吗？我还担心我的计算机在完成之前可能会耗尽内存。任何建议都会很棒。

（我也尝试在文本文件上运行“唯一”命令但没有成功。演员名称每行打印 1 个。（在一列中）我在想命令可能是错误的。如何从文本文件列中删除重复项在 Windows 或 linux 命令提示符下？）谢谢你，很抱歉这么长的帖子。我明天有期中考试，开始感到压力。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T07:44:41.887

使用 Set 而不是 List，这样您就不必检查集合是否包含该元素。Set 不允许重复。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-08T07:52:32.073

使用 arrayList contains() 查找的成本大约为您提供 O(n) 性能。我认为这样做一百万次，会杀死你的程序。

使用 Set 的 HashSet 实现。理论上，它将为您提供恒定的时间查找，并会自动为您删除重复项。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-08T07:47:55.570

-尝试在java中使用**内存映射文件**以更快地访问大文件

- 而不是 ArrayList 使用**HashMap**集合，其中键是演员的姓名（或哈希码），这将大大提高速度，因为在 HashMap 中查找键非常快

# macos - 你可以在插件中运行 XPC 服务吗？（例如打印对话框扩展插件）

> ID：15873813
> 
> 赞同：3
> 
> 时间：2013-04-08T07:43:22.463
> 
> 标签：macos, cocoa, plugins, sandbox, xpc

我正在创建一个打印对话框扩展 (PDE) 插件。当用户从不同的应用程序（例如 TextEdit、Preview、Xcode 等）进行打印时，会调用并显示此插件。请注意，该插件运行在调用打印插件（例如，TextEdit）的应用程序之上。

在插件内部，我需要运行 XPC 服务。我需要 XPC 服务，因为主应用程序上的权利可能不足以满足我的需求，例如我需要连接到网络，而 TextEdit 没有网络连接所需的权利。

问题是，我无法创建 XPC 连接。处理程序总是以 XPC_ERROR_CONNECTION_INVALID 触发。

1.) 这是因为 PDE 插件不在主包/主应用程序中，例如文本编辑？
2.) 如果是，我怎样才能在 PDE 插件中运行 XPC 服务？
3.) 如果没有，那为什么我不能成功创建 XPC 连接？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-07T02:39:59.043

我没有设法让 XPC 在 PDE 插件中工作。

XPC 包必须位于主应用程序包的 Contents/XPCServices 目录中，但在我的情况下，主应用程序包会有所不同 - 取决于打开 PDE 插件的应用程序，例如 TextEdit 或 Preview。将 XPC 包放入 PDE 包中不起作用。

由于这个限制，我重新设计了 PDE 插件内部的操作流程。它现在调用外部应用程序（独立）来执行需要网络连接的事情。

# android - 在 google play 上使用 google maps V2 发布应用程序

> ID：15873815
> 
> 赞同：0
> 
> 时间：2013-04-08T07:43:26.823
> 
> 标签：android, google-maps, google-maps-api-3

以前我已经实现了谷歌地图 v1。它有单独的发布密钥和调试。但是现在我已经在[本](http://www.vogella.com/articles/AndroidGoogleMaps/article.html)教程的帮助下实现了谷歌地图 v2。在其中他们没有提到任何发布密钥。我们需要发布密钥来发布应用程序吗在谷歌播放

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T08:03:53.140

您需要一个发布密钥才能将您的应用发布到 Google Play 商店。

可以在[此处](https://developers.google.com/maps/documentation/android/start#the_google_maps_api_key)找到教程。

请注意，您需要证书的 SHA-1 指纹，如给定链接中所述：

> **发布证书：**当您使用 ant 程序或 Eclipse 进行“发布”构建时，Android SDK 工具会生成此证书。您还可以使用 keytool 程序生成此证书。此证书可与您发布给全世界的应用程序一起使用。获得满足您需要的正确证书后，您可以使用 keytool 程序显示其 SHA-1 指纹。

# .net - Visual Studio 2010 和 .NET Framework 1.1.4.322

> ID：15873816
> 
> 赞同：2
> 
> 时间：2013-04-08T07:43:26.990
> 
> 标签：.net, visual-studio-2010, windows-7, .net-framework-version

是否可以在 Windows 7 上使用 Visual Studio 2010 和 .NET Framework 1.4.322？当我创建一个新项目时，我只能选择 .NET framework v2.0 或更高版本。是否可以使用 v1.1.4.322，我在哪里可以找到它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T07:59:28.333

这是 Visual Studio 和 .NET Framework 目标的小图表，简短的回答是否定的

源[Microsoft .NET Framework 和 Visual Studio 版本](http://www.perceler.com/articles1.php?art=dotnet1)

![VS 和 .NET Versoins 图表](https://i.stack.imgur.com/UCBeu.png)

# html - jQuery删除多个项目而不是一个

> ID：15873828
> 
> 赞同：1
> 
> 时间：2013-04-08T07:43:55.833
> 
> 标签：html, jquery

当您将鼠标悬停在其行上时，我有一个带有按钮的表格。有一个调用自定义确认对话框的删除按钮；这基本上只接受确认删除时将执行的回调函数。

HTML如下：

```
<!DOCTYPE html>
<html>
    <head>
        <title>Home</title>
        <link rel="stylesheet" type="text/css" href="css/styles.css" />
    </head>
    <body>
        <section>
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Age</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Doe, Jane</td>
                        <td>
                            <div>
                                25
                                <span class="actions">
                                    <input type="button" value="Edit" class="btn-edit" />
                                    <input type="button" value="Delete" class="btn-delete" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>Doe, John</td>
                        <td>
                            <div>
                                35
                                <span class="actions">
                                    <input type="button" value="Edit" class="btn-edit" />
                                    <input type="button" value="Delete" class="btn-delete" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>Smith, John</td>
                        <td>
                            <div>
                                30
                                <span class="actions">
                                    <input type="button" value="Edit" class="btn-edit" />
                                    <input type="button" value="Delete" class="btn-delete" />
                                </span>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- popups -->
        <div id="confirm-delete" class="popup confirm-dialog">
            <h3>Delete</h3>
            <div class="popup-content">
                <p class="confirm-message">Are you sure you want to delete this item?</p>
                <div class="buttons">
                    <input id="btn-delete-confirm" type="button" class="button btn-confirm" value="Delete" />
                    <input id="btn-delete-cancel" type="button" class="button btn-close-popup" value="Cancel" />
                </div>
            </div>
        </div>
        <script type="text/javascript" src="js/jquery.js"></script>
        <script type="text/javascript" src="js/home.js"></script>
    </body>
</html> 
```

JavaScript 代码：

```
$(document).ready(function(){
    var btnDelete = $('.btn-delete');

    btnDelete.on('click', function(e){
        var popUpId = 'confirm-delete',
                btn = $(e.currentTarget),
                item = $(e.currentTarget).closest('tr'),
                header = 'Delete Item',
                message = 'Are you sure you want to delete ' + item.find('.name').text() + '?';

        customConfirm(popUpId, header, message, function(){ deleteItem(item); });
    });
});

function customConfirm(id, header, message, callback){
    var popUp = $('#' + id),
            btnConfirm = popUp.find('.btn-confirm');

    popUp.find('h3').html(header);
    popUp.find('.confirm-message').html(message);
    popUp.append('<div class="mask"></div>');
    popUp.show();

    btnConfirm.on('click', {popUpId: id, callBack: callback}, confirmClick);

}

function confirmClick(e){
    e.data.callBack();
    closePopUp(e);
} 
```

当我单击一项的删除按钮并确认其删除时，这工作正常。但是当我点击一个项目的删除按钮然后取消它时，点击另一个项目的删除按钮并确认，这两个项目都被删除了。每次我取消删除项目时都会发生这种情况。所以如果我取消删除三个项目并确认删除下一个项目，将删除四个项目。

对此的帮助将不胜感激。

谢谢 ：）

PS这是[jsfiddle](http://jsfiddle.net/VXsEB/7/ "jsfiddle")链接:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T09:25:15.367

我认为这应该可行..我已经修改了你的js代码

[http://jsfiddle.net/VKKpe/](http://jsfiddle.net/VKKpe/)

改变了这个

```
 btnConfirm = popUp.find('.btn-confirm'); 
```

到

```
btnConfirm = $('#btn-delete-confirm'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T03:50:08.503

发生的事情是，`click`之前显示的对话框中的处理程序仍附加到其“确认”按钮。当您单击该按钮时，所有先前的处理程序都将被触发，因此所有先前的删除都被确认。

您需要摆脱以前的处理程序，无论是在对话框被关闭时还是作为显示对话框的一部分。我认为，在显示表格时摆脱它可能更简单；`.off('click')`您可以在附加新的点击处理程序之前简单地说：

```
btnConfirm
    .off('click')
    .on('click', {popUpId: id, callBack: callback}, confirmClick); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T03:50:17.223

我以前遇到过这个问题，这不是我真正想过的事情，我非常高兴我有机会帮助某人：

与 .on()绑定*会添加*一个绑定，而不是替换它。因此它将执行您过去绑定到它的所有内容。

简单的解决方案：`btnConfirm.unbind('click');`就在绑定之前。

工作示例：http: [//jsfiddle.net/asifrc/VXsEB/8/](http://jsfiddle.net/asifrc/VXsEB/8/)

# html - 使用多个实例和背景大小时 Firefox 背景图像闪烁

> ID：15873832
> 
> 赞同：3
> 
> 时间：2013-04-08T07:44:16.470
> 
> 标签：html, css, firefox, twitter-bootstrap

所以我在一个页面上有几个元素共享背景图像。我的页面正在使用引导程序，并且两个元素都是 3 列宽的容器。每个都有一个背景，并通过 background-size 包含。

在第二个元素上，我将背景设置为 90% 的宽度，因此它比其他背景略小。

在 Firefox 中，这会导致第一个元素背景不断闪烁。如果我更改 CSS 使两个背景的大小相同，问题就会消失。

它在 Chrome 和 IE 中运行良好，这只是 Firefox 的问题。

是bug吗，有人有类似经历吗？

尝试将图像切换为 SVG 并停止闪烁。但是，在我的情况下，不可能使用 SVG，因为背景图像有很多肮脏的污垢，所以 SVG 就像 2MB。

这是 HTML 和 CSS 的 jist：

```
<section id="content-panel">
  <div class="container">
    <div class="row-fluid">
      <div id="thankyou-1" class="span3 bubble-bg-2">
      </div>
      <div id="thankyou-2" class="span3 bubble-bg-2">
      </div>
    </div>
  </div>
</section>
.bubble-bg-2 {
  background: url('/Content/Images/bg-bubble-2.png') no-repeat;
  background-size: contain;
}
#thankyou-1 {
  padding-top: 15px;
  text-align: center;
}
#thankyou-2 {
  background-position: center 25px;
  background-size: 90% auto;
  padding-top: 15px;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-26T13:10:01.657

如果您将背景大小声明从共享类中移出并将其设置在#thankyou-1 id 上会发生什么？

```
.bubble-bg-2 {
  background: url('/Content/Images/bg-bubble-2.png') no-repeat;
}
#thankyou-1 {
  background-size: contain;
  padding-top: 15px;
  text-align: center;
}
#thankyou-2 {
  background-position: center 25px;
  background-size: 90% auto;
  padding-top: 15px;
} 
```

# highcharts - Highcharts 倾斜视图

> ID：15873836
> 
> 赞同：0
> 
> 时间：2013-04-08T07:44:37.657
> 
> 标签：highcharts

我在显示 highcharts 面积图时遇到问题。在 jsFiddle 链接中，您可以看到红色区域（带有负值）是倾斜或旋转的，或者我应该描述一下；-)

知道我必须做什么，还是这个错误？

最好的问候安迪

```
[http://jsfiddle.net/7jGx5/1/] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T10:13:22.340

红色系列的数据应按 x 升序排序。

编辑：

```
[Date.UTC(2013, 3, 8, 8, 46), -177],
                [Date.UTC(2013, 3, 8, 8, 47), -1072],
                [Date.UTC(2013, 3, 8, 8, 48), -2199],
                [Date.UTC(2013, 3, 8, 8, 49), -2265],
                [Date.UTC(2013, 3, 8, 7, 52), 308],
                [Date.UTC(2013, 3, 8, 7, 53), 277],
                [Date.UTC(2013, 3, 8, 7, 54), 317],
                [Date.UTC(2013, 3, 8, 7, 55), 154],
                [Date.UTC(2013, 3, 8, 7, 56), 296],
                [Date.UTC(2013, 3, 8, 7, 57), 200],
                [Date.UTC(2013, 3, 8, 7, 58), -237],
                [Date.UTC(2013, 3, 8, 7, 59), 207],
                [Date.UTC(2013, 3, 8, 8, 0), 128],
                [Date.UTC(2013, 3, 8, 8, 1), 276],
                [Date.UTC(2013, 3, 8, 8, 2), 225], 
```

# wordpress - 禁用特定用户的管理栏

> ID：15873841
> 
> 赞同：1
> 
> 时间：2013-04-08T07:44:52.170
> 
> 标签：wordpress, plugins

我有一个 WordPress 网站。有很多用户。我希望当作者登录时，当前登录的作者无法访问管理栏中的“编辑页面”菜单。

有没有插件可以禁用它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:59:36.973

你可以使用这个插件：

[http://wordpress.org/extend/plugins/admin-bar-disabler/](http://wordpress.org/extend/plugins/admin-bar-disabler/)

或如果条件放置此选项，则在替代和手动方式下

```
show_admin_bar(false); 
```

例如

```
if(!is_admin())
{
    show_admin_bar(false);
} 
```

将此代码放在functions.php 中，这样它将禁用所有其他用户的管理栏。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-10-03T06:48:49.583

在您的`functions.php`文件中，您可以添加以下代码片段之一以获得指示的结果：

// 只显示给管理员

```
add_action('after_setup_theme', 'remove_admin_bar');

function remove_admin_bar() {
    if (!current_user_can('administrator') && !is_admin()) {
        show_admin_bar(false);
    }
} 
```

// 禁用特定角色（在本例中为“订阅者”）

```
function remove_admin_bar() {
    $user = wp_get_current_user();

    if (in_array(‘subscriber’, $user->roles)) {
        show_admin_bar(false);
    }
} 
```

# php - 如何检查sql数据库中通过空格爆炸的段落项目并在PHP中替换它们？

> ID：15873843
> 
> 赞同：0
> 
> 时间：2013-04-08T07:44:57.270
> 
> 标签：php, sql, arrays, replace, explode

基本上，我正在寻找的结果是维基百科如何拥有带有链接的文本，尽管有其他维基百科页面的文本。我有一个充满定义的数据库，我有一个充满文本的段落，我想用空格来分解，检查一个 sql 表是否存在所有单词并用链接替换确实存在的那些。请帮忙。到目前为止我所拥有的是这个（但它似乎不起作用）：

```
$def = $row['def'];(This is just the paragraph)
$checks = explode(' ', $def);

foreach($checks as $key => $check) {
$sql = mysql_query("SELECT * FROM words WHERE word = '$check'");
while($row = mysql_fetch_array($sql, MYSQLI_ASSOC)) {
$find = $row['word'];
$new = "text";

$final = str_replace($find, $new, $checks);

print_r($final); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:57:54.000

我将在这里冒险，但我认为您可能会遭受使用 foreach 的其中一个怪癖，即`$checks`您在内部替换的内容`foreach`与`$checks`外部不同。

尝试这个。

```
$def = $row['def']; //This is just the paragraph
$checks = explode(' ', $def);

for ($i=0; $i<count($checks); $i++) 
{
    $sql = mysql_query("SELECT * FROM words WHERE word = '{$checks[$i]}'");
    while($row = mysql_fetch_array($sql, MYSQLI_ASSOC)) 
    {
        //$checks[$i] = "text"; //according to your original example
        $checks[$i] = "<a href=\"{$row['url']}\">{$row['word']}</a>"; //something like this, assuming you have a column 'url' in the DB with the link you want to refer to
    }
}

$final = implode(' ', $checks);

print_r($final); 
```

并不是说这非常有效，但我认为它应该有效。

# hibernate - 将 H2 数据转换到 PostgreSQL

> ID：15873848
> 
> 赞同：4
> 
> 时间：2013-04-08T07:45:10.027
> 
> 标签：hibernate, postgresql, h2

我正在从 H2 数据库过渡到 PostgreSQL。我发现 - 在 H2 上执行 SCRIPT TO 命令时创建的 SQL 转储包含几个不适当的结构：

*   Unicode 数据用函数 STRINGDECODE('unicode-data') 包装
*   二进制和 Blob 数据被转义为 X'binary-data' - 可能是十六进制格式（用于将图像和文件直接存储在数据库表中

我设法更改了导出的 SQL，使其与 Postgres 兼容，如下所示：

*   Unicode 数据用 E'unicode-data' 包装
*   二进制和 Blob 数据被转义为 E'\\xbinary-data' - 应该在 Postgres 的 'bytea' 列中导入

数据的导入按原样通过。

我将 Hibernate 配置为使用 PostgreSQL 方言，其中 Postgres 的默认二进制和 blob 类型更改为“bytea”：

```
public class PostgreDialectFix extends PostgreSQLDialect {

    /**
     * Creates a new instance.
     */
    public PostgreDialectFix() {
        super();

        registerColumnType(Types.BLOB, "bytea");                    
        registerColumnType(Types.LONGVARBINARY, "bytea");           
    }
} 
```

我还在我的 persistense.xml 中添加了以下内容：

```
<!-- PostgreSQL binary data usage ('false' for oid, 'true' for bytea) -->
<property name="hibernate.jdbc.use_streams_for_binary" value="true"/> 
```

所以一切都编译并开始了，但是当我尝试打开一个包含图像并且应该从新的 PostgreSQL 数据库加载的页面时，会发生以下错误：

```
Caused by: org.postgresql.util.PSQLException: Bad value of type long : \xffd8ffe000104a46494600010200000100010000ffdb004300...
at org.postgresql.jdbc2.AbstractJdbc2ResultSet.toLong(AbstractJdbc2ResultSet.java:2971)
at org.postgresql.jdbc2.AbstractJdbc2ResultSet.getLong(AbstractJdbc2ResultSet.java:2163)
at org.postgresql.jdbc2.AbstractJdbc2ResultSet.getBlob(AbstractJdbc2ResultSet.java:378)
at org.postgresql.jdbc2.AbstractJdbc2ResultSet.getBlob(AbstractJdbc2ResultSet.java:366)
at org.jboss.resource.adapter.jdbc.WrappedResultSet.getBlob(WrappedResultSet.java:386)
at org.hibernate.type.BlobType.get(BlobType.java:80)
at org.hibernate.type.BlobType.nullSafeGet(BlobType.java:134)
at org.hibernate.type.AbstractType.hydrate(AbstractType.java:105)
at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:2124)
at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1404)
at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1332)
at org.hibernate.loader.Loader.getRow(Loader.java:1230)
at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:603)
at org.hibernate.loader.Loader.doQuery(Loader.java:724)
at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)
at org.hibernate.loader.Loader.loadCollectionBatch(Loader.java:2053)
... 99 more 
```

所以我的问题是：这个过渡出了什么问题？我认为这与导入数据或配置 Hibernate 以正确读取 Postgres 数据列有关...

提前致谢！

附加信息：

这是 FILEDATA 的 Postgres 数据库表定义：

```
CREATE TABLE filedata
(
  id bigint NOT NULL,
  version integer,
  created timestamp with time zone,
  createdbymemberid bigint,
  modified timestamp with time zone,
  modifiedbymemberid bigint,
  filedata bytea,
  file_id bigint,
)
WITH (
  OIDS=FALSE
); 
```

终于找到了解决方案：为了将文件数据从 H2 数据库导入 PostgreSQL 数据库，您需要使用 PostgreSQL 函数 decode( *filedata-in-hex* , 'hex')。这是一个示例导入：

```
INSERT INTO PUBLIC.FILEDATA(ID, VERSION, CREATED, CREATEDBYMEMBERID, MODIFIED, MODIFIEDBYMEMBERID, FILEDATA, FILE_ID) VALUES
(174849, 0, TIMESTAMP '2013-02-11 14:47:57.743', 174833, NULL, NULL, decode('89504e470d0a1a0a0000000d494844520000007b00000050080600000039ac0a8a00000c1a4944415478daed5d095494d7151e136bb3b659baa5494c62dbc4d85a4dba9ee6a49bd6b4f5246dd29ec6a5ae803126261aad5b5ca24489bb6ca2800a0ac822288280ca22b8a251510165515059040541d661bbbddf9b19986146f9c1f90707df77ce3bc30c33ef9f79dfbbefdefbdebdf7d790c47d038d1c0249b684245b42922d21c99690644b48b22524d912926c0949b684245be2be203bb9289b3cd213e9d3c3c1f49ffd...', 'hex'), 174848); 
```

之后导入正确插入数据库作为 bytea 并且您可以正确加载它！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-26T13:15:50.090

使用 PostgreSQL 的函数 decode() 解决。答案和示例代码可以在上面的问题中找到:)

# iphone - 当用户选择表格行歌曲需要播放时，我试图从 tableview 播放 mp3

> ID：15873850
> 
> 赞同：-3
> 
> 时间：2013-04-08T07:45:21.263
> 
> 标签：iphone, uitableview, avfoundation, xcode4.6

//我有 2 首歌曲的数组

```
nsmutablearray *  enrique = [[NSMutableArray alloc]init];

        [enrique addObject:@"add.mp3"];
        [enrique addObject:@"hero.mp3"];

// this section of uitableview didselectrow 

    - (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{
             cell = [tableView cellForRowAtIndexPath:indexPath];

      cellText = cell.textLabel.text;

      lbl.text=cellText;

     player=[passarray objectAtIndex:indexPath.row];

       NSLog(@"mp3 %@",player);
      //  [passarray indexOfObject:player];
        [self.player prepareToPlay];
       // [player play];

         } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:46:56.727

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    [audioPlayer stop];
    [tableView deselectRowAtIndexPath:indexPath animated:YES];
    songNumber = indexPath.row;
    [self loadPlayer:songNumber];
}

-(void)loadPlayer:(int)songIndex
{
    if(songIndex <= 0)
    {
        [previousButton setEnabled:NO];
    }
    else
    {
        [previousButton setEnabled:YES];
    }
    if(songIndex+1 >= self.arySongsList.count)
    {
        [nextButton setEnabled:NO];
    }
    else
    {
        [nextButton setEnabled:YES];
    }
    if(songIndex < self.arySongsList.count)
    {
        NSURL *audioFileLocationURL;
        audioFileLocationURL = [NSURL URLWithString:[NSString stringWithFormat:@"%@",[self.arySongsList objectAtIndex:songIndex]]];
        NSString *str = [[[NSString alloc]initWithFormat:@"%@",audioFileLocationURL]autorelease];
        str = [str lastPathComponent];
        str = [str stringByReplacingOccurrencesOfString:@"%20" withString:@" "];
        str = [str stringByReplacingOccurrencesOfString:@"%5B" withString:@"["];
        str = [str stringByReplacingOccurrencesOfString:@"%5D" withString:@"]"];
        NSError *error;
        if(songIndex == self.arySongsList.count)
        {
            NSURL *url = [NSURL URLWithString:@"http://sound18.mp3pk.com/pop_remix/ebodf11/ebodf11-15(www.songs.pk).mp3"];
            NSData *data = [NSData dataWithContentsOfURL:url];
            audioPlayer = [[AVAudioPlayer alloc] initWithData:data error:&error];
        }
        else
        {
            audioPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:audioFileLocationURL error:&error];
        }
        [audioPlayer setNumberOfLoops:0];
        [audioPlayer setDelegate:self];
        if (error)
        {
            NSLog(@"%@", [error localizedDescription]);
            [[self volumeControl] setEnabled:NO];
            [[self playPauseButton] setEnabled:NO];
            [[self alertLabel] setText:@"Unable to load file"];
            [[self alertLabel] setHidden:NO];
        }
        else
        {
            [[self alertLabel] setText:[NSString stringWithFormat:@"%@ has loaded", str]];
            [[self alertLabel] setHidden:NO];
            //Make sure the system follows our playback status
            [[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayback error:nil];
            [[AVAudioSession sharedInstance] setActive: YES error: nil];
            //Load the audio into memory
            [audioPlayer prepareToPlay];
        }
    }
    if (!self.audioPlayer.playing)
    {
        [self playAudio];
    }
    else if (self.audioPlayer.playing)
    {
        [self pauseAudio];
    }
} 
```

# javascript - mouseover 事件无法运行

> ID：15873856
> 
> 赞同：-2
> 
> 时间：2013-04-08T07:45:51.067
> 
> 标签：javascript, jquery, asp.net

我在我的asp页面上做一个鼠标悬停功能。这是我的代码：

```
<!DOCTYPE html>
<html>
<head runat="server">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js">
</script>
    <script>
        $(document).ready(function(){
            $(".Menu1").mouseover(
            function () { $("td_1").show(); },
            function () { $("td_1").hide(); }
          );
            $(".Menu2").mouseover(
          function () { $("td_2").show(); },
          function () { $("td_2").hide(); }
          );
            $(".Menu3").mouseover(
            function () { $("td_3").show(); },
            function () { $("td_3").hide(); }
          );
            $(".Menu4").mouseover(
          function () { $("td_4").show(); },
          function () { $("td_4").hide(); }
          );
            $(".Menu5").mouseover(
          function () { $("td_5").show(); },
          function () { $("td_5").hide(); }
          );
            $(".Menu6").mouseover(
          function () { $("td_6").show(); },
          function () { $("td_6").hide(); }
          );
            $(".Menu7").mouseover(
          function () { $("td_7").show(); },
          function () { $("td_7").hide(); }
          );
            $(".Menu8").mouseover(
          function () { $("td_8").show(); },
          function () { $("td_8").hide(); }
          );
        })
</script>
</head>
<body>
    <form runat="server">
<table width="963" height="70" border="0" cellpadding="0" cellspacing="0">
        <tr>
            <td style="width:99px">
              <asp:Menu ID="Menu1" BackColor="Purple" Orientation="Horizontal"  ForeColor="White" runat="server" CssClass="Menu" StaticEnableDefaultPopOutImage="false">                  
                  <Items>
                            <asp:MenuItem NavigateUrl="index.aspx" Text="Hello1">                              
                            </asp:MenuItem>                          
                  </Items>
                  </asp:Menu>
            </td>
            <td style="width:112px">
              <asp:Menu ID="Menu2" BackColor="Yellow"  Orientation="Horizontal"  ForeColor="White" runat="server" CssClass="Menu" StaticEnableDefaultPopOutImage="false">
                  <Items>
                            <asp:MenuItem NavigateUrl="open-live-account.aspx" Text="Hello2">
                            </asp:MenuItem>                          
                  </Items>
                  </asp:Menu>
            </td>
             <td style="width:117px">
              <asp:Menu ID="Menu3" BackColor="Red" Orientation="Horizontal"  ForeColor="White" runat="server" CssClass="Menu" StaticEnableDefaultPopOutImage="false">
                  <Items>
                            <asp:MenuItem NavigateUrl="education-center.aspx" Text="Hello3">
                            </asp:MenuItem>                          
                  </Items>
                  </asp:Menu>

            </td>
            <td style="width:121px">
              <asp:Menu ID="Menu4" BackColor="Black" Orientation="Horizontal"  ForeColor="White" runat="server" CssClass="Menu" StaticEnableDefaultPopOutImage="false">
                  <Items>
                            <asp:MenuItem NavigateUrl="investment-news.aspx" Text="Hello4">
                            </asp:MenuItem>                          
                  </Items>
                  </asp:Menu>

            </td>
              <td>

            <asp:Menu ID="Menu5" BackColor="Blue" Orientation="Horizontal"  ForeColor="White" runat="server" CssClass="Menu" StaticEnableDefaultPopOutImage="false">

                  <Items>
                            <asp:MenuItem NavigateUrl="affiliate-program.aspx" Text="Hello5">
                            </asp:MenuItem>                          
                  </Items>
                  </asp:Menu>

            </td>
            <td>
             <asp:Menu ID="Menu6"  BackColor="Green" Orientation="Horizontal"  ForeColor="White" runat="server" CssClass="Menu" StaticEnableDefaultPopOutImage="false">

                  <Items>
                            <asp:MenuItem NavigateUrl="support.aspx" Text="Hello6">
                            </asp:MenuItem>                          
                  </Items>
                  </asp:Menu>

            </td>
             <td style="width:118px">
             <asp:Menu ID="Menu7" BackColor="Pink" Orientation="Horizontal"  ForeColor="White" runat="server" CssClass="Menu" StaticEnableDefaultPopOutImage="false">

                  <Items>
                            <asp:MenuItem NavigateUrl="about-us.aspx" Text="Hello7">
                            </asp:MenuItem>                          
                  </Items>
                  </asp:Menu>
            </td>
             <td style="width:140px">
             <asp:Menu ID="Menu8"  BackColor="Orange" Orientation="Horizontal"  ForeColor="White" runat="server" CssClass="Menu" StaticEnableDefaultPopOutImage="false">
              <Items>
                            <asp:MenuItem NavigateUrl="contact-us.aspx" Text="Hello8">
                 </asp:MenuItem>                          
                  </Items>
                  </asp:Menu>
            </td>
        </tr>
    </table>
        <table>
    <tr>
      <td><table width="963" height="15" border="0" cellspacing="0" cellpadding="0" style="display:none">
        <tr>
          <td id="td_1" colspan="8" bgcolor="#CF0D0B" height="25"><div align="center" class="style101">
          <a href="open-live-account.aspx" class="style101">Open Live Account</a>&nbsp;&nbsp; | &nbsp;&nbsp;
          <a href="/File/nzf4setup.exe" class="style101">Download</a>&nbsp;&nbsp; | &nbsp;&nbsp;
          <a href="/deposit.aspx" class="style101">Deposit</a>&nbsp;&nbsp; | &nbsp;&nbsp;
          <a href="/withdraw.aspx" class="style101">Withdrawal</a>
              </div>
          </td>
        </tr>
          <tr>
            <td id="td_2" colspan="8" bgcolor="#CF0D0B" height="25">
                                <div align="center" class="style101">
                                    <a href="open-live-account.aspx" class="style101">Open Live Account</a>&nbsp;&nbsp;
                                    | &nbsp;&nbsp;<a href="deposit.html" class="style101">Deposit</a><a href="nzf-seminar.html"
                                        class="style101"></a>&nbsp;&nbsp; | &nbsp;&nbsp;<a href="withdraw.html" class="style101">Withdraw</a><a
                                            href="nzf-seminar.html" class="style101"></a>&nbsp;&nbsp; | &nbsp;&nbsp;<a href="trading-platform.html"
                                                class="style101">Trading Platform</a><a href="nzf-seminar.html" class="style101"></a>&nbsp;&nbsp;
                                    | &nbsp;&nbsp;<a href="market-hours.html" class="style101">Market Hours</a><a href="nzf-seminar.html"
                                        class="style101"></a><a href="nzf-seminar.html" class="style101"></a>&nbsp;&nbsp;
                                    | &nbsp;&nbsp;<a href="trading-services.html" class="style101">Trading Services</a><a
                                        href="nzf-seminar.html" class="style101"></a></div>
            </td>
              </tr>
          <tr>
            <td id="td_3" colspan="8" bgcolor="#CF0D0B" height="25"><div align="center" class="style101"><a href="education-center.html" class="style101">Education Center</a>&nbsp;&nbsp; | &nbsp;&nbsp;<a href="risk-assessment.html" class="style101">Risk Assessment</a><a href="nzf-seminar.html" class="style101"></a>&nbsp;&nbsp; | &nbsp;&nbsp;<a href="risk-warning.html" class="style101">Risk Warning</a><a href="nzf-seminar.html" class="style101"></a>&nbsp;&nbsp; | &nbsp;&nbsp;<a href="money-management-responsible-trading.html" class="style101">Money Management &amp; Responsiblity Trading</a><a href="nzf-seminar.html" class="style101"></a></div></td>
          </tr>
          <tr>
            <td id="td_4" colspan="8" bgcolor="#CF0D0B" height="25"><div align="center" class="style101"><a href="investment-news.html" class="style101">Investment news</a>&nbsp;&nbsp; | &nbsp;&nbsp;<a href="economic-calendar.html" class="style101">Economic Calendar</a><a href="nzf-seminar.html" class="style101"></a></div></td>
              </tr>
          <tr>
            <td id="td_5" colspan="8" bgcolor="#CF0D0B" height="25"><div align="center" class="style101"><a href="affiliate-program.html" class="style101">Affiliate Program</a>&nbsp;&nbsp; | &nbsp;&nbsp;<a href="white-label.html" class="style101">White Label</a><a href="nzf-seminar.html" class="style101"></a></div></td>
          </tr>
          <tr>
            <td id="td_6" colspan="8" bgcolor="#CF0D0B" height="25"><div align="center" class="style101"><a href="contact-us.aspx" class="style101">Contact Us</a><a href="nzf-seminar.html" class="style101"></a>&nbsp;&nbsp; | &nbsp;&nbsp;<a href="nzf-faq.html" class="style101">FAQ</a><a href="nzf-seminar.html" class="style101"></a>&nbsp;&nbsp; | &nbsp;&nbsp;<a href="site-map.html" class="style101">SiteMap</a><a href="nzf-seminar.html" class="style101"></a></div></td>
              </tr>
          <tr>
            <td id="td_7" colspan="8" bgcolor="#CF0D0B" height="25"><div align="center" class="style101"><a href="about-us.html" class="style101">About Us</a>&nbsp;&nbsp; | &nbsp;&nbsp;<a href="nzf-vision.html" class="style101">NZF Vision</a><a href="nzf-seminar.html" class="style101"></a>&nbsp;&nbsp; | &nbsp;&nbsp;<a href="careers.html" class="style101">Careers</a><a href="nzf-seminar.html" class="style101"></a></div></td>
              </tr>
          <tr>
            <td id="td_8" colspan="8" bgcolor="#CF0D0B" height="25"><div align="center" class="style101"><a href="contact-us.aspx" class="style101">Contact Us</a><a href="nzf-seminar.html" class="style101"></a>&nbsp;&nbsp; | &nbsp;&nbsp;<a href="nzf-faq.html" class="style101">FAQ</a><a href="nzf-seminar.html" class="style101"></a>&nbsp;&nbsp; | &nbsp;&nbsp;<a href="site-map.html" class="style101">SiteMap</a><a href="nzf-seminar.html" class="style101"></a></div></td>
              </tr>
          </table>
          </tr>
    </table>
        </form>
</body>
</html> 
```

不知何故，当我尝试将鼠标悬停时，它没有响应我。我可以知道我做错了什么吗？我尝试使用调试工具检查任何错误，但到目前为止，工具上没有显示任何错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:47:46.080

在你的`jQuery`你是按类（例如`$(".Menu1").mouseover`）定位的，但在你的内部`ASP`你已经给了他们ID（`Menu ID="Menu1"`）。

*   首先，尝试将它们都更改为相同的类型（两个类或两个 ID）。
*   其次，您在 jQuery 中以 td_1 等为目标，但没有使用 ID/Class 选择器，因此它永远不会起作用。

例如，您的第一部分可能类似于以下内容：

**jQuery：**

```
$("#Menu1").hover(
  function () { $("#td_1").show(); },
  function () { $("#td_1").hide(); }
); 
```

**ASP：**

```
<td style="width:99px">
 <asp:Menu ID="Menu1" BackColor="Purple" Orientation="Horizontal"  ForeColor="White" runat="server" CssClass="Menu" StaticEnableDefaultPopOutImage="false">                  
  <Items>
   <asp:MenuItem NavigateUrl="index.aspx" Text="Hello1">                              
   </asp:MenuItem>                          
  </Items>
 </asp:Menu>
</td> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:48:28.360

你需要一个 id 选择器`#`而不是 class`.`

```
 $("#Menu1").mouseover(
  //-^-- here 
```

我认为你需要的是`hover()`因为悬停必须回调mouseenter和mouseleave的函数

```
$("#Menu1").hover(
        function () { $("#td_1").show(); },
                   //----^^--here
        function () { $("#td_1").hide(); }
                   //----^^--here
      ); 
```

注意：您需要在`td_1`类或 id 中使用选择器。我找不到任何具有这些名称的元素

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:49:36.507

您正在使用 Class 而不是 ID

并且您的 Jquery 应该如下所示：

```
 $("#Menu1").mouseenter(function() {
     $("td_1").show();
  }).mouseleave(function() {
     $("td_1").hide();
  }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-08T07:55:00.510

我认为您无法访问这些标签：`td_1`等，因为它们不存在。试试吧`$('#td_1')...`。并且不要忘记给物品提供ID`td_{num}`

**编辑**

或者使用`$('td:nth-child({num})')` And`$('#Menu1')`当你给他们 ID 的 ant 而不是类

# jquery - zeroclipboard-copy 到剪贴板不起作用

> ID：15873862
> 
> 赞同：0
> 
> 时间：2013-04-08T07:46:09.710
> 
> 标签：jquery, zeroclipboard

我正在使用 zeroclipboard 复制一些 url。

```
ZeroClipboard.setMoviePath(hostPath+'/scripts/ZeroClipboard.swf');
    $(function() {
        var clip = new ZeroClipboard.Client();
        clip.setHandCursor( true );
        clip.addEventListener('mousedown',function() {
        var url=$('#customPURL').html();
        alert(url);
            clip.setText(url);
            showCopyMessage();
        });
        clip.glue('copy');
    }); 
```

我得到了需要复制的 url 的正确警报。但是复制到剪贴板不起作用。控制台没有错误。我完全不知道解决这个问题。

任何帮助家伙。感谢您的光临……！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-08T23:00:34.137

该问题可能是由于*剪贴板事件*而发生的。这个问题经常发生，您可以采取以下措施来解决这个问题：

```
clip.addEventListener('onMouseOver', clipboardEvent);

function clipboardEvent() {
     clip.setText(finalText);
} 
```

目标是添加一个*侦听器*，以便*剪贴板*了解可能发生的任何更改。

# ruby-on-rails-3.2 - 在一个搜索字段中搜索多个单词

> ID：15873864
> 
> 赞同：3
> 
> 时间：2013-04-08T07:46:12.337
> 
> 标签：ruby-on-rails-3.2, ransack

在这方面需要一些帮助

我有一个用户模型和一个具有 has_one 关系的配置文件模型（用户有一个配置文件，一个配置文件只属于一个用户，非常基本，非常简单）。

我想做这样的事情：

```
 User.search({:profile_last_name_or_profile_first_name_cont_any=> 'jane doe'.split(' ')}).result 
```

生成的SQL如下

```
"SELECT "users".* FROM "users" LEFT OUTER JOIN "profiles" ON "profiles"."user_id" = "users"."id" WHERE ((("profiles"."last_name" ILIKE '%jane%' OR "profiles"."last_name" ILIKE '%doe%') OR ("profiles"."first_name" ILIKE '%jane%' OR "profiles"."first_name" ILIKE '%doe%')))" 
```

它返回预期的结果......但是如何在我的搜索表单（在我看来）和/或在我的控制器中实现这个请求？

我的搜索表格是：

```
<%= search_form_for @q, url: search_cockpit_users_path, method: 'post', id: 'users-search-form', class: 'span3 pull-right' do |su| %>
      <%= su.text_field :profile_last_name_or_profile_first_name_or_email_cont_any, :placeholder => 'full name or email contains' %>
      <%= su.submit 'Search', :name => nil, :class => 'btn ' %>
  <% end %> 
```

因为它是返回的 SQL

```
"SELECT "users".* FROM "users" LEFT OUTER JOIN "profiles" ON "profiles"."user_id" = "users"."id" WHERE ((("profiles"."last_name" ILIKE '%jane doe%') OR ("profiles"."first_name" ILIKE '%jane doe%')))" 
```

但是如何实现 split(' ') 以获得预期的 SQL 呢？

任何帮助（以及一些解释）都会很棒，文档对这个主题有点轻...

干杯

**根据 Wintermeyer 的评论进行编辑**

@wintermeyer 这是您要求的代码片段。我真的不明白你为什么需要它们，问题不在于只用一个词就可以正常工作的搜索过程。我的问题是如何拆分查询字符串以获得预期的生成 SQL。

涉及的控制器部分是

```
class Cockpit::UsersController < ApplicationController
  def index
    @q = User.joins(:profile).search(params[:q])
    @pp = params[:pp] ? params[:pp].to_i : 10
    @users = @q.result.paginate(:per_page => @pp, :page => params[:page])

    respond_to do |format|
      format.html # index.html.erb
      format.json { render json: @users }
      format.js { @users }
    end
  end

  def search
    @q = User.joins(:profile).search(params[:q])

    @pp = params[:pp] ? params[:pp].to_i : 10
    @users = @q.result.paginate(:per_page => @pp, :page => params[:page])
    render "index"
  end
end 
```

和路线的一部分

```
namespace :cockpit do
    root :to => "dashboard#index"

    resources :users do
      member do
        get 'toggle_remove'
      end

      collection do
        get 'bulk'
        match 'search', to: "users#search", via: [:get, :post], as: 'search'
      end

      resources :profiles
    end
  end 
```

# java - 从 YBR_FULL Dicom 图像创建 BufferedImage

> ID：15873867
> 
> 赞同：0
> 
> 时间：2013-04-08T07:46:24.803
> 
> 标签：java, bufferedimage

我想从 YBR_FULL Dicom Image 创建 BufferedImage 以在我的程序中通过 JPanel 查看它，谁能告诉我如何处理这种类型的 Dicom 文件？我们也可以从 YBR_FULL 转换为 RGB 吗？如果是的话怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T18:27:57.407

您应该将 YBR 值转换为 RGB。这是关于[如何在 YBR 和 RGB 之间转换的页面](http://www.fourcc.org/fccyvrgb.php)

# multithreading - 在构造函数中进行 GWT 异步回调安全吗？

> ID：15873871
> 
> 赞同：4
> 
> 时间：2013-04-08T07:46:51.817
> 
> 标签：multithreading, gwt, thread-safety, gwt-rpc

假设构造函数在代码的客户端部分（被翻译为 javascript 的部分）中运行。回调方法 onSuccess 确实修改了类的实例变量。回调被实现为匿名类，因此可以使用 OuterClass.this 访问外部类的实例。

通常在纯 Java 中我们不应该做这样的事情，因为这样做，'this' 引用可以在对象构造完成之前逃逸。

但它是否也适用于将 Java 代码转换为 Javascript 的情况？我假设 javascript 代码是由网络浏览器中的单个线程执行的，所以这应该不是问题（单线程 => 没有可见性问题）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T10:26:15.370

一方面，你是对的——问题不能由单独的线程触发，因为 JavaScript 是单线程的。

回调事件肯定会由在当前事件处理程序（构造当前对象的事件处理程序）完成后启动的事件处理程序处理。所以他们只会看到完全构造的对象。

另一方面，您通常不需要线程来利用基本问题。这是一个简单的例子：

```
final A a = new A();
final B b = new B(a); 
```

```
public class A {

  private B b;

  public void setB(final B b) {
    this.b = b;
  }

  public void letBSaySomething() {
    b.saySomething();
  }
} 
```

```
public class B {

  private A a;
  private final int some;

  public B(final A a) {
    this.a = a;
    a.setB(this);

    a.letBSaySomething();
    some = 55;
    a.letBSaySomething();
  }

  public void saySomething() {
    RootPanel.get().add(new Label("Hello " + some));
  }
} 
```

这导致输出

```
Hello 0
Hello 55 
```

（虽然“一些”是最终的）。这在 GWT（已编译/未编译）和纯 Java 程序中都会发生。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T01:28:52.163

AsyncCallback 本身只是一个类。在生产模式下发送 RPC 请求时，保证结果会通过 XmlHttpRequest 异步传入；在已编译的 javascript 中，在构造完成之前泄漏引用是 100% 不可能的，因为回调将在单独的 javascript 执行堆栈中被调用。

然而，在 gwt-dev 模式下，应该是异步的事情并不总是如此。就个人而言，我放弃了 gwt-dev 而不是 super-dev-mode，并且仅在我确实需要 java 调试器时才使用 gwt-dev，所以我无法确定它是否会不受构造问题的影响（测试它并找出！）。

如果您没有在构造函数中发送任何请求，您将是 100% 安全的。如果您随后以不安全的方式访问 OuterClass.this，则仅创建异步回调只会导致问题，而不管涉及的类如何。

# java - 将 GNU-CRYPTO gkr 密钥库转换为默认 JKS

> ID：15873872
> 
> 赞同：1
> 
> 时间：2013-04-08T07:46:52.507
> 
> 标签：java, security, cryptography

我有一个带有 gnu-crypto gkr 格式的私钥的密钥库。它是使用 gkeytool 创建的。我需要能够将此密钥与标准 JRE 工具一起使用，那么有什么方法可以从 GKR 转换为标准 JKS？

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2013-04-08T15:07:07.563

嗯，我找到了解决办法。可以通过导出私钥并将其导入新的 JKS 密钥库来完成。然而，从 GKR 密钥库中导出私钥并非易事，但这篇文章可以用来获得一些灵感；）

[http://www.commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art006](http://www.commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art006)

# git - Beyond Compare 作为 Git 的 Diff 工具 - 如何进行命令行切换，例如：/expandall

> ID：15873874
> 
> 赞同：4
> 
> 时间：2013-04-08T07:47:09.747
> 
> 标签：git, diff, beyondcompare3

我的 git global config C:\Users\.gitconfig 看起来像：

```
[diff]
tool = bc3

[difftool "bc3"]
path = C:/Program Files (x86)/Beyond Compare 3/BCompare.exe
cmd = \"C:/Program Files (x86)/Beyond Compare 3/BCompare.exe\" \"$LOCAL\" \"$REMOTE\" 
```

我正在使用 Windows 7 x64 操作系统。我有 Beyond Compare Pro 3.3.5 版本。

我想在调用 BCompare.exe 时传递一个或多个参数我试过这个，但它不起作用：

```
cmd = \"C:/Program Files (x86)/Beyond Compare 3/BCompare.exe\ /expandall" \"$LOCAL\" \"$REMOTE\"

git difftool --dir-diff dev master 
```

我想在 dev 和 master 分支之间进行目录比较，并在 Beyond Compare 工具中展开所有文件夹。这应该与 Beyond Compare GUI 中的相应按钮相同：Expand All 它将展开左右窗格中的所有文件夹。

我可能需要传递 2 个参数：/solo /expandall

谢谢，拉德

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-11-22T07:07:05.110

使用表格`-expandall`代替`/expandall`, 并注意这`-solo`是**必需**的（解释如下）。

```
[diff]
    tool = bc3
[difftool "bc3"]
    cmd = \"E:/PortApps/Beyond Compare 3/bcomp.exe\" -expandall -solo \"$LOCAL\" \"$REMOTE\" 
```

以上适用于 Windows XP SP3（x86 32 位）上的 Beyond Compare 3.3.8（标准版）和 Git For Windows 1.8.4（msysgit）。

## 笔记

1.  如果我提供了，我发现`path`设置不是必需的`cmd`。

2.  根据[BC 技术支持](http://www.scootersoftware.com/vbulletin/showthread.php?t=12494&highlight=bcomp)，您*可能*需要使用`BCompare.exe`而不是......但我发现无论哪种方式都可以正常工作。`bcomp.exe`

## 独奏解释

该`-solo`选项使比较在新窗口中打开。`difftool`然后将等待您关闭它，然后再删除正在比较的临时文件。

如果没有此选项，如果您已经打开了“超越比较”窗口，则比较将出现在那里的新选项卡中。这看起来很方便，但实际上不起作用，因为`difftool`将立即删除要比较的文件，因为您的调用`bcomp.exe`只是将任务委托给已经运行的应用程序然后退出。

# winapi - 是否有哪些 Windows 函数返回哪些错误代码的注册表？

> ID：15873875
> 
> 赞同：3
> 
> 时间：2013-04-08T07:47:13.307
> 
> 标签：winapi, msdn

我正处于一个晦涩的问题的故障排除端，我所拥有的只是这个错误代码，我需要从它向后工作，如果我能确定什么 Windows 函数返回什么错误代码，这将真的有助于我的事业，MSDN 有一个相当函数返回的大量错误列表，但我无法进行反向查找...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T13:14:11.190

Visual Studio 附带的[`errlook.exe`](http://msdn.microsoft.com/en-us/library/5tbh0w11%28v=vs.71%29.aspx)实用程序会在给定错误代码的情况下尝试为您提供友好的错误消息。

Exchange 团队还发布了一个[小工具](http://www.microsoft.com/en-us/download/details.aspx?id=985)，您可以将错误号传递给它，它会向您显示适当的标题，有时还带有描述：

```
C:\>Err.exe c0000005
# for hex 0xc0000005 / decimal -1073741819 :
  STATUS_ACCESS_VIOLATION                                       ntstatus.h
# The instruction at "0x%08lx" referenced memory at
# "0x%08lx". The memory could not be "%s".
  USBD_STATUS_DEV_NOT_RESPONDING                                usb.h
# 2 matches found for "c0000005" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T08:12:08.773

您可以尝试下载[Wine](https://www.winehq.org/)源代码并搜索错误。显然，实际 Windows 不是 1:1，但如果您没有其他线索，可能会有所帮助。

# android - C# 调用其他类变量但返回 null (Unity3D)

> ID：15873879
> 
> 赞同：0
> 
> 时间：2013-04-08T07:47:20.890
> 
> 标签：android, unity3d, augmented-reality

我正在使用 Unity 增强现实。如果我调用其他类的公共值，为什么我的应用程序返回空值？

这些是我的课：

```
using UnityEngine;
using System.Collections;

public class GUIControlScript : MonoBehaviour {

public GUISkin MenuSkin;
public Texture BoxBackground;
public DefaultTrackableEventHandler DTEH;
public string ttx;

void OnGUI(){
    Screen.orientation = ScreenOrientation.Landscape;
    GUI.skin = MenuSkin;
    GUI.Box(new Rect(0, 0, Screen.width, 600), BoxBackground);
    GUI.BeginGroup(new Rect(Screen.width / 2 - 150, Screen.height / 2 - 150, 300, 300));
    try
    {
        GUI.Button(new Rect(0, 0, 500, 500), ttx);
    }
    catch(System.Exception e)
    {

    }
    GUI.EndGroup();
}

void Update()
{
    ttx = DTEH.TrackableText; //This is the problem!
} 
```

这是我调用变量的类

```
using UnityEngine;

public class DefaultTrackableEventHandler : MonoBehaviour,
                                        ITrackableEventHandler
{
#region PRIVATE_MEMBER_VARIABLES

private TrackableBehaviour mTrackableBehaviour;
public string TrackableText = "";

#endregion // PRIVATE_MEMBER_VARIABLES

#region UNTIY_MONOBEHAVIOUR_METHODS

void Start()
{
    mTrackableBehaviour = GetComponent<TrackableBehaviour>();
    if (mTrackableBehaviour)
    {
        mTrackableBehaviour.RegisterTrackableEventHandler(this);
    }

    OnTrackingLost();
}

#endregion // UNTIY_MONOBEHAVIOUR_METHODS

#region PUBLIC_METHODS

// Implementation of the ITrackableEventHandler function called when the
// tracking state changes.
public void OnTrackableStateChanged(
                                TrackableBehaviour.Status previousStatus,
                                TrackableBehaviour.Status newStatus)
{
    if (newStatus == TrackableBehaviour.Status.DETECTED ||
        newStatus == TrackableBehaviour.Status.TRACKED)
    {
        OnTrackingFound();

    }
    else
    {
        OnTrackingLost();
    }
}

#endregion // PUBLIC_METHODS

#region PRIVATE_METHODS

private void OnTrackingFound()
{
    Renderer[] rendererComponents = GetComponentsInChildren<Renderer>();

    // Enable rendering:
    foreach (Renderer component in rendererComponents) {
        component.enabled = true;
    }
    if (mTrackableBehaviour.TrackableName.Equals("farmasi"))
    {
        TrackableText = "farmasi";
    }
    Debug.Log("Trackable " + mTrackableBehaviour.TrackableName + " found");
}

private void OnTrackingLost()
{
    Renderer[] rendererComponents = GetComponentsInChildren<Renderer>();

    // Disable rendering:
    foreach (Renderer component in rendererComponents) {
        component.enabled = false;
    }

    Debug.Log("Trackable " + mTrackableBehaviour.TrackableName + " lost");
}

#endregion // PRIVATE_METHODS 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T08:20:51.970

使用评论中的讨论，我们设法缩小范围，看看到底是`null`什么。你打电话`public DefaultTrackableEventHandler DTEH;`，但你从​​不发起它。尝试在您的`GUIControlScript`-class 中添加另一个函数，如下所示：

```
void Start()
{
    DTEH = new DefaultTrackableEventHandler();
} 
```

这样，您不仅提供`DTEH`了类型，而且还对其进行了初始化。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T19:02:44.217

由于您有`DefaultTrackableEventHandler`扩展`MonoBehaviour`，因此需要将其附加到 a`GameObject`以使其初始化。您可以通过以下两种方式之一执行此操作：

1.  在检查器中查看`GameObject`附加`GUIControlScript`到的内容：通过单击、选择（或脚本所在的任何位置）`Script`手动将其添加到，然后单击。在代码中，您可以通过调用[GetComponent](http://docs.unity3d.com/Documentation//ScriptReference/Component.GetComponent.html?from=MonoBehaviour)来访问脚本：`GameObject``Add Component``Scripts``DefaultTrackableEventHandler``DefaultTrackableEventHandler`

    ```
    public class GUIControlScript : MonoBehaviour {
        private DefaultTrackableEventHandler dteh;

        void Start() {
            dteh = GetComponent<DefaultTrackableEventHandler>();
        }
    } 
    ```

2.  在`GUIControlScript`脚本中，调用[AddComponent](http://docs.unity3d.com/Documentation//ScriptReference/GameObject.AddComponent.html)以编程方式将`DefaultTrackableEventHandler`脚本添加到`GameObject`：

    ```
    public class GUIControlScript : MonoBehaviour {
        private DefaultTrackableEventHandler dteh;

        void Start() {
            dteh = gameObject.AddComponent<DefaultTrackableEventHandler>();
        }
    } 
    ```

您不必总是手动将其添加`Component`到`GameObject`自身。通常，如果您没有想要直接在 中更改的任何公共变量`Inspector`，那么您只需以编程方式添加`Component`.

# c# - C# 频率检索

> ID：15873880
> 
> 赞同：2
> 
> 时间：2013-04-08T07:47:23.760
> 
> 标签：c#, fft, frequency, naudio

我需要做的是计算麦克风输入的频率。我正在使用`IWaveProvider`它并实现它`Read()`。缓冲区的大小始终为 8820 个元素，从字节数组到浮点数组的转换似乎也出了问题（`FloatBuffer`属性部分）。

这里有一些重要的部分......

这是我开始录制的地方：

```
private void InitializeSoundRecording()
{
    WaveIn waveIn = new WaveIn();
    waveIn.DeviceNumber = 0;   
    waveIn.DataAvailable += (s, e) => this.waveIn_DataAvailable(s, e); 
    waveIn.RecordingStopped += (s, e) => this.waveIn_RecordingStopped(s, e);
    waveIn.WaveFormat = new WaveFormat(44100, 1);
    waveIn.StartRecording();
} 
```

当调用 DataAvailable 事件处理程序时，将执行以下操作：

```
private void waveIn_DataAvailable(object sender, WaveInEventArgs e)
{
    WaveBuffer wb = new WaveBuffer(e.Buffer.Length);

    IWaveProvider iWaveProvider = new PitchDetector(new WaveInProvider(sender as WaveIn), new WaveBuffer(e.Buffer));
    iWaveProvider.Read(wb, 0, e.Buffer.Length);

    PitchDetector pd = iWaveProvider as PitchDetector;

    this.ShowPitch(pd.Pitch);
} 
```

最后，这是“实际”的重要部分：

```
private const int FLOAT_BUFFER_SIZE = 8820;
private IWaveProvider source;
private WaveBuffer waveBuffer;
private int sampleRate;
private float[] fftBuffer;
private float[] prevBuffer;
public float Pitch { get; private set; }

public WaveFormat WaveFormat { get { return this.source.WaveFormat; } }

internal PitchDetector(IWaveProvider waveProvider, WaveBuffer waveBuffer = null)
{
    this.source = waveProvider;
    this.sampleRate = waveProvider.WaveFormat.SampleRate;
    this.waveBuffer = waveBuffer;
}

/// <summary>
/// UNSAFE METHOD! 
/// </summary>
/// <param name="input"></param>
/// <returns></returns>
private unsafe float[] ByteArrayToFloatArray(byte[] input)
{
    float[] fb = new float[FLOAT_BUFFER_SIZE];
    unsafe
    {
        fixed (byte* ptrBuffer = input)
        {
            float* ptrFloatBuffer = (float*)ptrBuffer;
            for (int i = 0; i < FLOAT_BUFFER_SIZE; i++)
            {
                fb[i] = *ptrFloatBuffer;
                ptrFloatBuffer++;
            }
        }
    }
    return fb;
}

public int Read(byte[] buffer, int offset = 0, int count = 0)
{
    if (this.waveBuffer == null || this.waveBuffer.MaxSize < count)
        this.waveBuffer = new WaveBuffer(count);

    int readBytes = this.source.Read(this.waveBuffer, 0, count);

    if (readBytes > 0) readBytes = count;

    int frames = readBytes / sizeof(float);

    this.Pitch = this.DeterminePitch(this.waveBuffer.FloatBuffer, frames);

    return frames * 4;
} 
```

奇怪的是，当它进入构造函数时，waveBuffer 包含一些数据（255、1、0 等），但是当我检查 的“buffer”参数时`Read()`，它完全是 0。每个元素。

出于好奇，为什么`Read()`有一个缓冲区参数，但实际上根本没有在方法中使用（我从你的一篇文章中得到了那段代码）？

任何解决此问题的帮助将不胜感激！我已经在这方面做了很长一段时间了，但对此毫无意义。

谢谢， 阿兰

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T08:12:57.817

不清楚你指的是什么文章，我对这个库也不熟悉。但是，该`Read`方法显然是在读取您的“时间序列”/或其他数据。由此，`buffer`您所说的参数很可能是您想要放置在数据集任一端的填充长度。

这种填充被称为“零填充”，它用零填充您录制的信号（在信号的任一端放置 n 个零，其中 n 根据使用的基数设置）。这允许人们使用更长的 FFT，这将产生更长的 FFT 结果向量。

较长的 FFT 结果具有更多频率间隔更紧密的频率仓。但它们本质上将提供与原始数据的较短非零填充 FFT 的高质量 Sinc 插值相同的结果。

在没有进一步插值的情况下绘制时，这可能会导致看起来更平滑的频谱。

有关更多信息，请参阅

[https://dsp.stackexchange.com/questions/741/why-should-i-zero-pad-a-signal-before-taking-the-fourier-transform](https://dsp.stackexchange.com/questions/741/why-should-i-zero-pad-a-signal-before-taking-the-fourier-transform)

我希望这有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T08:44:48.937

这并不是您问题的真正答案，但我`safe`为您的数组转换函数编写了一个通用替代方法。

```
using System;
using System.Runtime.InteropServices;

public static class Extensions
{
    public staitc TDestination[] Transform<TSource, TDestination>(
        this TSource[] source)
        where TSource : struct
        where TDestination : struct
    {
        if (source.Length == 0)
        {
            return new TDestination[0];
        }

        var sourceSize = Marshal.SizeOf(typeof(TSource));
        var destinationSize = Marshal.SizeOf(typeof(TDestination));

        var byteLength = source.Length * sourceSize;

        int remainder;
        var destinationLength = Math.DivRem(
            byteLength,
            destinationSize,
            out remainder);
        if (remainder > 0)
        {
            destinationLength++;
        }

        var destination = new TDestination[destinationLength];
        Buffer.BlockCopy(source, 0, destination, 0, byteLength);
        return destination;
    }
} 
```

显然，您可以使用 like

```
var bytes = new byte[] { 1, 1, 2, 3, 5, 8, 13, 21 };
var floats = bytes.Transform<byte, float>(); 
```

# c++ - VS2012混合C和Cpp，库冲突

> ID：15873882
> 
> 赞同：1
> 
> 时间：2013-04-08T07:47:34.417
> 
> 标签：c++, c, visual-studio-2012, tr1

我正在尝试在一个项目中结合一些 C 和 C++ 代码，在我对此没有任何问题之前，但我现在第一次尝试 VS2012，我从 TR1 标头中得到了很多我没有的错误' t 明确包括。

我认为这可能是一个混淆，因为它试图用这个 cpp 头文件编译我的 c 代码。它看起来像是试图理解 C++ 模板代码的 C 编译器错误。我在哪里可以从 VS2012 界面中弄清楚这一点？我是否需要对我的 c 和 cpp 文件做一些事情以使编译器正确处理它们？

```
Error   1   error C2143: syntax error : missing '{' before '<'  C:\Program Files (x86)\Microsoft Visual Studio 11.0\VC\include\xtr1common   15  1   example~
Error   2   error C2059: syntax error : '<' C:\Program Files (x86)\Microsoft Visual Studio 11.0\VC\include\xtr1common   15  1   example~
Error   3   error C2143: syntax error : missing '{' before '<'  C:\Program Files (x86)\Microsoft Visual Studio 11.0\VC\include\xtr1common   20  1   example~
Error   4   error C2059: syntax error : '<' C:\Program Files (x86)\Microsoft Visual Studio 11.0\VC\include\xtr1common   20  1   example~
Error   5   error C2016: C requires that a struct or union has at least one member  C:\Program Files (x86)\Microsoft Visual Studio 11.0\VC\include\xtr1common   28  1   example~ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T14:26:01.197

没关系。自从我使用 VS 并忘记它不一定将 cpp 文件视为 c++ 以来已经有一段时间了。我必须将“编译为”选项设置为 c++。

# perl - 在 txt 文件中的重复标签之间搜索字符串

> ID：15873883
> 
> 赞同：-2
> 
> 时间：2013-04-08T07:47:36.183
> 
> 标签：perl

在重复标签之间搜索字符串时需要一些帮助我有一个文本文件，其格式在文件中重复多次

========== 文件名：fixed_am_7bitLI_HE10.txt 测试用例：Test_Case_1 START ==========

区块 1 TC ID OK

块 2 输入部分 OK 数据部分 OK

块 3 输入部分 OK 数据部分 OK

块 4 输入部分 OK 数据部分 OK

========== 文件名：fixed_am_7bitLI_HE10.txt 测试用例：Test_Case_2 START ========

区块 1 TC ID OK

块 2 输入部分 OK

*   行不匹配：输出行：“从池中分配的缓冲区：MIF_CTRL_POOL，buffer_id：1，大小（字）：4”参考行：“pdcp_pdu_delete_count = 0，reset_cip_rdy = 1”
*   行不匹配：输出行：“pdcp_pdu_delete_count = 0，reset_cip_rdy = 1”参考行：“-- MIF CTRL 输出：------------------------- -------------------------------------------------- ————”
*   行不匹配：输出行：“-- MIF CTRL 输出：------------------------- -------------------------------------------------------" 参考行："mif_ctrl_rlc_am_um_reset_reestablish_ind_t。 rlc_reset_reestablish_ind = 3 (0x0003)"
*   行不匹配：输出行：“mif_ctrl_rlc_am_um_reset_reestablish_ind_t.rlc_reset_reestablish_ind = 3 (0x0003)”参考行：“从池中释放的缓冲区：MIF_CTRL_POOL，buffer_id 0，大小（字）6（使用 5）”
*   行数不匹配：最后一个输出行：“mif_ctrl_rlc_am_um_reset_reestablish_ind_t.rlc_reset_reestablish_ind = 3 (0x0003)”最后一个参考行：“从池中释放的缓冲区：MIF_CTRL_POOL，buffer_id 0，大小（字）6（使用 5）”

数据部分不同

块 3 输入部分 OK 数据部分 OK

块 4 输入部分 OK 数据部分 OK

========== 文件名：fixed_am_7bitLI_HE10.txt 测试用例：Test_Case_3 START ========

区块 1 TC ID OK

块 2 输入部分 OK 数据部分 OK

块 3 输入部分 OK 数据部分 OK

块 4 输入部分 OK 数据部分 OK

**我需要查找开始标签之间是否存在除“OK”以外的任何内容，如果是，我必须将特定块标记为失败

例如，如果我在测试用例：Test_Case_1 START 和测试用例：Test_Case_2 START 之间发现除 OK 以外的任何其他内容，我必须将测试用例：Test_Case_1 标记为失败

**以这种格式更新** 的预期输出

文件名：fixed_am_7bitLI_HE10.txt 测试用例：Test_Case_1 状态：PASS（如果标签之间没有字符串“DIFFERS”（==）

文件名：fixed_am_7bitLI_HE10.txt 测试用例：Test_Case_2 状态：失败（如果标签之间有字符串'DIFFERS'（==）

**更新-2**

如果万一测试用例失败

文件名：fixed_am_7bitLI_HE10.txt 测试用例：Test_Case_2 状态：FAILED

块不同的部分是：

第 2 座

输入部分 OK

*   行不匹配：输出行：“从池中分配的缓冲区：MIF_CTRL_POOL，buffer_id：1，大小（字）：4”参考行：“pdcp_pdu_delete_count = 0，reset_cip_rdy = 1”
*   行不匹配：输出行：“pdcp_pdu_delete_count = 0，reset_cip_rdy = 1”参考行：“-- MIF CTRL 输出：------------------------- -------------------------------------------------- ————”
*   行不匹配：输出行：“-- MIF CTRL 输出：------------------------- -------------------------------------------------------" 参考行："mif_ctrl_rlc_am_um_reset_reestablish_ind_t。 rlc_reset_reestablish_ind = 3 (0x0003)"
*   行不匹配：输出行：“mif_ctrl_rlc_am_um_reset_reestablish_ind_t.rlc_reset_reestablish_ind = 3 (0x0003)”参考行：“从池中释放的缓冲区：MIF_CTRL_POOL，buffer_id 0，大小（字）6（使用 5）”
*   行数不匹配：最后一个输出行：“mif_ctrl_rlc_am_um_reset_reestablish_ind_t.rlc_reset_reestablish_ind = 3 (0x0003)”最后一个参考行：“从池中释放的缓冲区：MIF_CTRL_POOL，buffer_id 0，大小（字）6（使用 5）”

数据部分不同

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T08:35:16.873

胡乱猜测：

```
while(<>) {print '**FAIL**' unless /TC ID OK/;  print $_; } 
```

但实际上，您应该指定您的要求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T09:12:42.303

也许有些古怪，类似于以下内容：

```
#!/usr/bin/env perl

use strict;
use warnings;

my ($failed, $file, $test);
while (<>)
{
        chomp;
        next if /^$/;
        if (/^=/)
        {
                print "$file $test Status: $failed\n" if $failed;
                ($file, $test) = ($_ =~ /(File Name:\s+\S+).+\b(Test Case: Test_Case_\d+)\b/);
                $failed = 'PASSED';
                next;
        };
        $failed = 'FAILED' if /\bDIFFERS\b/g;
}
print "$file $test Status: $failed\n"; 
```

## 数据

```
$ cat testdata
========== File Name: fixed_am_7bitLI_HE10.txt Test Case: Test_Case_1 START ==========

Block 1 TC ID OK

Block 2 Input section OK data section OK

Block 3 Input section OK data section OK

Block 4 Input section OK data section OK

========== File Name: fixed_am_7bitLI_HE10.txt Test Case: Test_Case_2 START ========

Block 1 TC ID OK

Block 2 Input section OK data section DIFFERS

Block 3 Input section OK data section OK

Block 4 Input section OK data section OK 
```

## 调用

```
$ ./t.pl < testdata
File Name: fixed_am_7bitLI_HE10.txt Test Case: Test_Case_1 Status: PASSED
File Name: fixed_am_7bitLI_HE10.txt Test Case: Test_Case_2 Status: FAILED 
```

# python - 当我在模式搜索时，我想搜索多行

> ID：15873888
> 
> 赞同：0
> 
> 时间：2013-04-08T07:47:57.590
> 
> 标签：python, regex

我有一些问题。一次多行，我想匹配一次不是多行而不是一行搜索吗？

当我运行代码时这些结果。如果可以使用其他变量，请在 ^ 和 $ 之间。

```
pattern = r'.INFO..+Content'
m = re.compile(pattern,re.S|re.X)

f = open(LOG_FILE)

data = f.read()
print m.search(data).group()
f.close() 
```

现在输出 [INFO] 0408| 09:50:16.57| /lib/smtp/smtp.c:670| [1120794944] [<<< 收到 <<<]
(16465.2500) SMTP 命令：发件人：>^M

```
[INFO] 0408| 09:50:16.57| /lib/smtp/smtp.c:670| [1120794944] [>>>   SEND   >>>] 
(16465.2500)     SMTP COMMAND : 250 2.1.5 Ok^M

[INFO] 0408| 09:50:16.58| /lib/smtp/smtp.c:670| [1120794944] [<<< RECEIVED <<<] 
(16465.2500)     SMTP COMMAND : RCPT TO: >^M

[INFO] 0408| 09:50:16.58| /lib/smtp/smtp.c:670| [1120794944] [>>>   SEND   >>>] 
(16465.2500)     SMTP COMMAND : 250 2.1.0 Ok^M

Date: Mon, 08 Apr 2013 09:50:19 +0900^M
Sender: +821057033705/TYPE=PLMN^M
From: +821057033705/TYPE=PLMN^M
To: +821046903908/TYPE=PLMN^M
X-Mms-Message-ID: 1Tf48000001^M
X-Mms-Transaction-ID: 1Tf48000001^M
Content-Type: text/plain;charset="UTF-8"^M
Content 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:54:50.750

文档（[http://docs.python.org/2/library/re.html](http://docs.python.org/2/library/re.html)）状态；`re.M`或`re.MULTILINE`。

当正则表达式多行时，可能不再需要循环遍历文件行:)

# ios - 如何在按钮上的 UIAlertView 和 UIControlEventTouchUpInside 事件中添加 Uibuttons

> ID：15873893
> 
> 赞同：-2
> 
> 时间：2013-04-08T07:48:29.137
> 
> 标签：ios, ipad

我想在 UIAlertView 上添加 UIbuttons 并希望触发 Uibutton 事件，以便我可以在我的 UIviewcontroller 中添加另一个视图，并且通常应该关闭警报框。

关于阿努帕姆

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T08:18:17.757

如果您正在谈论在`UIButtons` 内部添加，`UIAlertView`那么您可以实现 custom `UIAlertView`。[在这里关注我的回答](https://stackoverflow.com/questions/15228088/customize-uialertbutton-through-layoutsubviews-uialertbutton-class-not-found/15228669#15228669)

# android - 列出android文件夹中的空间文件类型

> ID：15873894
> 
> 赞同：0
> 
> 时间：2013-04-08T07:48:34.863
> 
> 标签：android, file, list

我只想列出文件夹中的 .db 文件并将它们加入一个 db 文件。此时我只能列出文件夹中的所有文件。有人可以帮我如何过滤 .db 文件吗？然后将这个数据库文件加入一个文件的最佳方法是什么？这是我的代码

```
public List<String> directoryPath(File path) {
    List<String> item = null;
    if( path.exists() && path.isDirectory()) {
        File[] files = path.listFiles(new FilenameFilter(){
                public boolean accept(File dir, String filename) {
                    return filename.endsWith(".db");     
                }
            });
        for(int i=0; i < files.length; i++)

        {

          File file = files[i];

           item.add(file);

        }

    }
    return item;
} 
```

我编辑了我的代码，现在我在 Can some one help me abut `item`this? 为什么我得到这个错误？我用这种方式调用这段代码

```
File path=new File(ClubCP.SDcardPath);
    Log.i("database_list","call list files");
    List<String> file_lists =   main.directoryPath(path);
    Log.i("database_list","list adapter");
    ListView Database_list=(ListView)findViewById(R.id.database_list);
    ArrayAdapter<String> adapter = new ArrayAdapter<String>(
            this,
            android.R.layout.simple_spinner_item,
            file_lists);
    Database_list.setAdapter(adapter); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:58:02.133

您实现[FileFilter](http://developer.android.com/reference/java/io/FileFilter.html) （或[FilenameFilter](http://developer.android.com/reference/java/io/FilenameFilter.html)）接口并将该对象传递给该`File.listFiles(File[name]Filter)`方法。

```
public void directoryPath(File path) {
    if( path.exists() && path.isDirectory()) {
        File[] files = path.listFiles(new FilenameFilter(){
                public boolean accept(File dir, String filename) {
                    return filename.endsWith(".db");     
                }
            });
        // files only contains files that end with .db
    }
} 
```

要合并数据库文件，您实际上并没有走在正确的轨道上。您不能只将一个数据库文件附加到另一个数据库文件的末尾。您必须使用 sql 实际加载一个文件，然后将表复制到 sql 中。 [如何合并多个 sqlite 数据库？](https://stackoverflow.com/questions/80801/how-can-i-merge-many-sqlite-databases)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:54:40.493

检查文件[i].getName().endsWith(".db")

# c++ - 从不同的 c++ 类访问 Mysql * 连接变量

> ID：15873895
> 
> 赞同：2
> 
> 时间：2013-04-08T07:48:37.610
> 
> 标签：c++, mysql, class, connection, friend-class

我编写了 c++ 类来连接 mysql 数据库：

**.hpp 文件**

```
#include <vector>
#include <string>

#include "mysql/mysql.h"

#ifndef _DATA
#define _DATA

class Database {

public:
    string host; 
    string user; 
    string pwd; 
    string db; 
    MYSQL * connection;
    MYSQL_RES *result;
    MYSQL_ROW row;

Database(const string & host,
         const string & user,
     const string & pwd,
     const string & db);

    int createMysqlConnection();
};
#endif 
```

**.cpp 文件**

```
#include "Database.hpp"

Database::Database(const string & host,
           const string & user,
           const string & pwd,
           const string & db) :
    mysqlHost(host),
    mysqlUser(user),
    mysqlPassword(pwd),
    mysqlDBName(db)
{}
int Database::createMysqlConnection(){
    MYSQL * connection;
    connection = mysql_init(NULL);
               if(!mysql_real_connect(connection, mysqlHost.c_str(), mysqlUser.c_str(),
               mysqlPassword.c_str(), mysqlDBName.c_str(),
               0, NULL, 0)){
    fprintf(stderr, "Connection to database failed: %s\n",
        mysql_error(connection));
    return EXIT_FAILURE;
    }
    cout << "connected to mysql" << endl;
    }; 
```

当我试图从主函数或不同的类访问连接变量时，我总是得到一个错误，比如*变量 'connection is not declared in this scope*。我尝试使用友元类或继承来指向连接变量，但它不起作用。我认为我的语法有问题。

这是我如何尝试从不同类指向此变量的示例：

```
Class risk: public Database {
public:
vector<sting> parameter;
Datasabse.connection;
etc....
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:59:42.950

```
MYSQL * connection; 
```

仅将连接变量声明为构造函数的本地变量。您必须将其移动到类定义中才能以某种方式使其可用。或者，`connect`在您的数据库对象中创建一个方法来显式地创建一个新的连接即席。您将不得不使用 close 方法对其进行镜像。

另一种选择是`Connection`为连接创建一个专用类，它将：

*   用 a 构造`MYSQL *`，
*   通过上述建议的`connect`方法创建`Database`；班级将`Database`充当`Connection`工厂，
*   运动所有必要的方法来处理它，
*   并将调用`mysql_close`其析构函数，以确保正确终止底层连接。

例如：

```
class Connection {
     protected:
          MYSQL *connection;
    public:
        Connection(MYSQL *c): connection(c){}
        virtual ~Connection() { mysql_close(connection); }
        MYSQL_STMT * prepareQuery(const string &query) { 
             return mysql_prepare(connection, query.c_str(), query.length());
        }
        // other methods
}; 
```

这种方法的问题在于，您很快就会觉得不得不用类来包装所有 API 原语。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T09:36:56.027

为了解决这个问题，我必须在类构造函数中定义 MYSQL 连接。这是一个代码示例：

类1.hpp

```
***headers***
class Flight { 

public:

Flight(MYSQL * connection);

MYSQL * c;

MYSQL_RES * res;

etc... 
```

Class1.cpp

```
***headers***

Flight::Flight (MYSQL* connection)

{

c = connection;

}; 
```

ETC...

主文件

```
***headers***

int main (int argc, char *argv[]) {

Database db(localhost, user, etc..);

db.createMysqlConnection;

Flight fl(db.connection);

fl.GetIDs();

etc... 
```

# c# - 如何对仅执行 foreach 的方法进行单元测试

> ID：15873900
> 
> 赞同：0
> 
> 时间：2013-04-08T07:48:46.810
> 
> 标签：c#, unit-testing

我的类中有一个简单的方法，可以将一个元素放入缓存中：

```
public void Put(TItem item)
{
  // Do something
} 
```

现在我添加了另一种方法来一次放置多个元素：

```
public void Put(IEnumerable<TItem> items)
{
    foreach (var item in items)
    {
        Put(item);
    }
} 
```

似乎为了避免重复，我应该只检查我是否多次调用 Put。但我只能间接地做到这一点，因为这不是依赖。在测试这些方法时有没有办法避免复制/粘贴？我可以做一个冒烟测试来检查 Put 的一些结果，但是它本身有很多单元测试，在这种情况下它们不会是完整的。有什么好办法摆脱困境吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T07:53:17.250

我会在各种条件下进行测试，但只对`Put`本身的结果进行最少的验证 - 我假设有一些*相当*简单的方法可以检查一个项目是否已被放置？

可能的测试：

*   空参数
*   空集合
*   一个条目的集合（理智）
*   包含两个条目的集合（理智）
*   具有重复条目 (x, y, x) 的集合
*   如果可行的话，提前进入会导致异常的集合

`foreach`现在诚然，对于一个简单的循环来说，这可能被视为矫枉过正。我喜欢“测试直到恐惧变成无聊”的口头禅。

# objective-c - 使用我的 NSManagedObject 子类作为 CoreData 实体的超类

> ID：15873902
> 
> 赞同：4
> 
> 时间：2013-04-08T07:48:52.577
> 
> 标签：objective-c, xcode, macos, cocoa

是否可以为 CoreData 实体子类化配置超类？我想将 NSManagedObject 更改为我的 NSManagedObject 子类。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-01T01:29:13.710

您可以子类`NSManagedObject`化并将其设置为类，例如`MyManagedObject`下图中的类，但您仍然必须为`datamodel`. 没有办法设置自己的托管对象类，默认情况下它只能是 NSManagedObject。

![在此处输入图像描述](https://i.stack.imgur.com/SugGB.png)

# jdbc - Teradata setLoginTimeout 不起作用

> ID：15873903
> 
> 赞同：1
> 
> 时间：2013-04-08T07:48:57.887
> 
> 标签：jdbc, timeout, teradata

我正在用 extjs 构建一个应用程序，连接到后端的 teradata。它在本地运行良好，但在部署时它的捐赠

> [错误 1277] [SQLState 08S01] 12 秒后连接到服务器的登录超时。

我现在正在尝试增加超时。

```
Class.forName("com.teradata.jdbc.TeraDriver");
DriverManager.setLoginTimeout(100);
Connection conn = DriverManager.getConnection(connectionString, "user", "pass"); 
```

12 秒后我仍然收到相同的超时错误。似乎 setLoginTimeout 不起作用。我哪里错了？除了增加超时之外还有其他解决方案吗？

PS：对于一台服务器，它现在运行良好，我只更改了服务器名称以指向另一台服务器，并且我正在超时。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T06:05:04.993

以下链接可能对您有所帮助。

[http://forums.teradata.com/forum/connectivity/could-you-tell-me-the-reason-why-login-time-out](http://forums.teradata.com/forum/connectivity/could-you-tell-me-the-reason-why-login-time-out)

# javascript - 使用 Chrome 内容脚本添加复杂的 HTML

> ID：15873904
> 
> 赞同：24
> 
> 时间：2013-04-08T07:48:57.920
> 
> 标签：javascript, html, google-chrome, google-chrome-extension, content-script

我正在使用 Chrome 扩展的内容脚本来创建添加到网页上的复杂显示。

我首先测试了它直接集成在一个网站上，但现在我需要将它放在一个扩展中。

问题是 Chrome 的内容脚本 API 只允许注入 javascript。这意味着，要注入复杂的 HTML 布局，我需要完全用 JS 对象来编写它，这很长，难以维护，而且绝对不适合设计人员。

我想知道是否有人知道或可以想到一个聪明的方法来获得更好的工作流程。

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-04-08T10:17:32.863

通过将内容脚本注入 iframe 来添加整个网页相对容易。只需遵循以下准则：

1.  将`*.htm`或`*.html`文件放在扩展程序的源文件夹中。

2.  将 HTML 使用的任何`*.css`和`*.js`文件也放在扩展文件夹中。

3.  将 HTML 文件声明为资源。例如：

    ```
    "web_accessible_resources": ["Embedded_Hello_world.htm"] 
    ```

4.  不要在 HTML 文件中使用任何***内联***或外部服务器 javascript。这避免[了*内容安全策略*(CSP)](https://developer.chrome.com/extensions/contentSecurityPolicy.html#JSExecution)的问题。

5.  这个问题不涉及与页面/iframe 的通信，但如果你想这样做，它会涉及更多。在此处搜索 SO；它被覆盖了很多次。

# 例子：

您可以通过以下方式看到这一点：

1.  创建一个新的扩展文件夹。
2.  [将jQuery](http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js)下载到其中。
3.  创建如下指定的 5 个文件。
4.  [加载解压后的扩展（您可以在此答案](https://stackoverflow.com/a/5259212/331508)中看到类似的步骤。）
5.  在 Chrome 中重新加载此页面；您将看到嵌入在顶部的“Hello World”页面。

# 在扩展文件夹中创建这些文件：

**清单.json：**

```
{
    "manifest_version":         2,
    "content_scripts":          [ {
        "js":       [ "iframeInjector.js" ],
        "matches":  [   "https://stackoverflow.com/questions/*"
        ]
    } ],
    "description":              "Inject a complete, premade web page",
    "name":                     "Inject whole web page",
    "version":                  "1",
    "web_accessible_resources": ["Embedded_Hello_world.htm"]
} 
```

**iframeInjector.js：**

```
var iFrame  = document.createElement ("iframe");
iFrame.src  = chrome.extension.getURL ("Embedded_Hello_world.htm");

document.body.insertBefore (iFrame, document.body.firstChild); 
```

**Embedded_Hello_world.htm：**

```
<!DOCTYPE html>
<html><head>
    <title>Embedded Hello World</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <link href="HelloWorld.css" rel="stylesheet" type="text/css">

    <script type="text/javascript" src="jquery.min.js"></script>
    <script type="text/javascript" src="HelloWorld.js"></script>
</head><body>
<p>Hello World!</p>
</body></html> 
```

**HelloWorld.css：**

```
body {
    color:              red;
    background-color:   lightgreen;
} 
```

**HelloWorld.js：**

```
$(document).ready (jQueryMain);

function jQueryMain () {
    $("body").append ('<p>Added by jQuery</p>');
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2017-01-17T08:59:40.077

这可能会更好，没有外部库，也没有 iframe。与自动化解决方案几乎相同。

```
var xhttp = new XMLHttpRequest();
xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var div = document.createElement('div');
        div.innerHTML = this.responseText;
        document.body.insertBefore(div, document.body.firstChild);
    } else {
        console.log('files not found');
    }
};
xhttp.open("GET", chrome.extension.getURL("/content.htm"), true);
xhttp.send(); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-05-10T00:01:27.340

我有同样的问题，我的扩展严重依赖[脚本模板](http://www.html5rocks.com/en/tutorials/webcomponents/template/)

这是我所做的：

*   创建`templates.html`以将脚本模板存储在
*   添加`templates.html`到`web_accessible_resources`上述答案中的内容^^
*   `templates.html`使用`content.js`xhr访问并使用 jQuery 解析

### 清单.json

```
"web_accessible_resources": ["templates.html"] 
```

### 模板.html

```
<script id="template1" type="text/template">
    <div class="template1">template1</div>
</script>
<script id="template2" type="text/template">
    <div class="template2">template2</div>
</script> 
```

### 内容.js

```
function getTemplates(){
    return new Promise(function(resolve){
        $.ajax({
            url: chrome.extension.getURL('/templates.html'),
            success: function(data) {
                var $templates = $('<div></div>').append($.parseHTML(data)).find('script'),
                    templates = {};
                $templates.each(function(){
                    templates[this.id] = this.innerHTML;
                });
                return resolve(templates);
            }
        });
    });
}
getTemplates().then(function(templates){
    console.log(templates.template1); //<div class="template1">template1</div>
}); 
```

# file - 如何将file1包含到magento中的另一个文件中

> ID：15873906
> 
> 赞同：0
> 
> 时间：2013-04-08T07:49:05.550
> 
> 标签：file, magento, include

我的模板目录文件夹中有 2 个文件。我想将一个文件包含到另一个文件中我尝试了简单的 php "require('html2fpdf.php');" 方法，但它不起作用。请让我知道如何将此文件包含到其他文件中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:58:33.493

在 Magento 中，您使用 getChildHtml 来包含块。

Magento 使用布局和块概念。因此，您需要使用一些 xml 和块类文件创建一个块。您还需要确保您的块处于正确的布局句柄中。

# jquery - 如何在全日历中显示从数据库中获取事件的时间

> ID：15873910
> 
> 赞同：4
> 
> 时间：2013-04-08T07:49:20.030
> 
> 标签：jquery, fullcalendar

你好朋友在我的应用程序中，我真的制作了一个弹出页面，它在数据库中插入事件并从数据库中获取事件，但事件没有按时间显示数据/读取有一系列事件，事件 ID、事件标题、开始、结束和格式为像数组一样

* * *

[{"id":"10","title":"ramukaka","start":"2013-04-04 18:44:00","end":"2013-04-05 18:44:00 "},{"id":"11","title":"rameshbhai","start":"2013-04-11 20:28:00","end":"2013-04-03 20:28 :00"}]

* * *

所以我必须做什么我不知道还有更多现在我尝试更新事件，这些事件重新打开一个弹出表单，并且在编辑模式下已经填满，如果修改标题或在另一个日期拖放等事件的更改也存储在数据库中eventid（每个事件唯一）所以我必须做的我的代码与下面相同

* * *

1）如果存在事件修改，如何将更新事件/事件存储在数据库中

2）成功插入后不报警

3）在事件源中如何获取事件开始时间，结束时间与mysql格式相同（“yyyy-MM-dd H:mm:ss”）

4）如何通过 eventid 删除一个或多个事件，以及在数据库中完成的更改

Java脚本：

```
<script>

    $(document).ready(function() {
        var count=0;
        var liveDate=new Date();
        var dat = new Date();
        var d = dat.getDate();
        var m = dat.getMonth();
        var y = dat.getFullYear();
        $.getJSON("<?php echo base_url(); ?>names",function(data){
            var select = $('#AgentName'); //combo/select/dropdown list
            if (select.prop) {
                var options = select.prop('options');
            }
            else {
                var options = select.attr('options');
            }
            $('option', select).remove();
            $.each(data, function(key, value){
                options[options.length] = new Option(value['name'], value['id']);
            });
        });
        var calendar = $('#calendar').fullCalendar({
           header: {
               left: 'prev,next today',
               center: 'title',
               right: 'month,agendaWeek,agendaDay'
           },
           selectable: true,
           selectHelper: true,
           select: function(start, end, allDay) {
               $("#popup").show();
               $("#eventName").focus();
               $("#submit").click(function(){
                   var title=$("#eventName").val();
                   if (title) {
                       calendar.fullCalendar('renderEvent',{
                           title: title,
                           start: start,
                           end: end,
                           allDay: false
                           },
                       true // make the event "stick"
                       );
                       var dataString={};
                       dataString['eventName']=title;
                       dataString['startTime']=$.fullCalendar.formatDate(start, "yyyy-MM-dd H:mm:ss");
                       dataString['endTime']=$.fullCalendar.formatDate(end, "yyyy-MM-dd H:mm:ss");
                       $.ajax({
                           type : 'POST',
                           dataType : 'json',
                           url : '<?php echo base_url(); ?>data/insert',
                           data: dataString,
                           success: function(data) {
                               alert("Data Insert SuccessFully");
                               if(data.success)
                                   alert("Data Insert SuccessFully");
                           }
                       });
                   }
               });
           },
           editable: true,
           viewDisplay: function(view) {
               if(view.name=="month" && count==0){
                   var a=$(".fc-day-number").prepend("<img src='/assets/images/add.jpg' width='20' height='20'style='margin-right:80px;' name='date'>");                                    
                   count++;
               }
           },
           eventSources: [
               {
                   url: '<?php echo base_url(); ?>data/read',
                   type: 'POST',
                   id:id,
                   title:title,
                   start:new Date(start),
                   end:new Date(end),// use the `url` property
                   color: '#65a9d7',    // an option!
                   textColor: '#3c3d3d'  // an option!
                }                    
            ],
            eventClick : function (start,end){
                $("#popup").open();
                $("#submit").click(function(){
                    var title=$("#eventName").val();
                    if (title) {
                        calendar.fullCalendar('renderEvent',{
                            title: title,
                            start: start,
                            end: end,
                            allDay: false
                            },
                            true // make the event "stick"
                        );
                        var dataString={};
                        dataString['eventName']=title;
                        dataString['startTime']=$.fullCalendar.formatDate(start, "yyyy-MM-dd H:mm:ss");
                        dataString['endTime']=$.fullCalendar.formatDate(end, "yyyy-MM-dd H:mm:ss");
                        $.ajax({
                            type : 'POST',
                            dataType : 'json',
                            url : '<?php echo base_url(); ?>data/update',
                            data: dataString,
                            success: function(data) {
                                alert("Data Insert SuccessFully");
                                if(data.success)
                                    alert("Data Insert SuccessFully");
                            }
                        });
                    }
                    calendar.fullCalendar('unselect');
                    calendar.fullCalendar('refetchEvents');
                    $("#popup").hide();
                });
            }

        });
    });
</script> 
```

* * *

```
CSS CODE:
<style>
/*
*/      body {
                text-align: left;
                font-size: 14px;
                font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
                }
        #calendar {
                width: 70%;
                margin: 0 auto;
                text-align:left;
                }
        #popup{
 position: fixed;
    z-index:100;
    top: 0px;
    left: 0px;
    height:100%;
    background: #000;
    display: none;
    width:100%;
    height: 100%;
    opacity:0.5;
    border:1px;
    font-size: 13px;
    padding-top: 20%;
    padding-left: 43%;
    border-color: #0033ff;
        }
        #popup table{
            border-color: #00620C;
            border-style: solid;
            border: 5px;

        }
        #popup input{
            width:80px;
            border-radius: 5px;
        } 
        #popup table label{
            font-size: 12px;
        }
</style> 
```

* * *

```
HTML CODE:

<div class="wrapper">
    <div id='calendar'></div>
    <div id="detail"></div>
    <div id="popup"> 
        <form name="addData" id="addData" action="" method="post">
            <table>
                <tr>
                    <td><input type="hidden" name="eventID" id="eventID"></td>
                </tr>
                <tr>
                    <td><label for="eventName">Description : </label></td>
                    <td><input name="eventName" id="eventName"type="text"></td>
                </tr>
                <tr>
                    <td><label for="AgentName">AgentName : </label></td>
                    <td><select name="AgentName" id="AgentName"></select></td>
                </tr>
                <tr>
                    <td><label for="UserName">UserName : </label></td>
                    <td><select name="UserName" id="UserName"></select></td>
                </tr>
                <tr>
                    <td align="left"colspan="2"><button type="submit"class="k-button" name="submit" id="submit">Submit</button>
                        <button type="reset" name="reset" class="k-button" id="reset">Reset</button>
                        <button type="submit"class="k-button" name="cancel" id="cancel">Cancel</button>
                    </td>
                </tr>
            </table>
        </form>
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-10-29T06:38:14.197

只是事件属性的 url 从数据库返回 Json 数据。

```
 $('#calendar').fullCalendar({

        header: {
            left: 'prev,next today',
            center: 'title',
            right: 'month,basicWeek,basicDay'
        },
        editable: true,
        async : false,
        timeFormat: {

                        '': 'h:mm{ - h:mm}'           
                          },
        events: {
            url: "http://url/getMonthlyEventList"
            }
}); 
```

并且 json 数据可以采用这种格式。和我一起工作得很好。

```
 [{"title":"event1","start":"2013-10-12 13:00:00","end":"2013-10-18 16:00:00","allDay":0},
       {"title":"event2","start":"2013-10-28 13:00:00","end":"2013-10-28 15:00:00","allDay":0}] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-08T10:54:11.200

你好朋友 Fullcalendar 使用 MySql 格式工作正常，只需在脚本中制作

```
eventSources: [
                    {
                        url: '<?php echo base_url(); ?>data/read',
                        type: 'POST',
                        **allDayDefault:false,**
                        color: '#65a9d7',    // an option!
                        textColor: '#3c3d3d'  // an option!

                    }                    
                ], 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-10-01T16:41:38.793

我刚试过这个......我在一个函数上设置了所有信息，就像这样......

```
function data_calendario(){
    global $wpdb;
    $clientes = $wpdb->prefix . "dbt_clientes";
    $result = $wpdb->get_results("SELECT  id_room Pieza, fecha_ingr FROM  " . $clientes . " WHERE  fecha_ingr >=  '2015-08-01' AND cancelado = 0");

    foreach ($result as $rs){ 

        $pieza = $rs->Pieza;
        $fecha_ingreso = $rs->fecha_ingr;
        //$Cant_mes_ant = $rs->Cant_mes_ant;
        //$Cant_mes_ant2 = $rs->Cant_mes_ant2;

        echo "{title: '$pieza', start: '$fecha_ingreso'},";
    }
} 
```

之后，我只是像这样调用完整日历中的数据......

```
$(document).ready(function() {

// page is now ready, initialize the calendar...

$('#calendar').fullCalendar({
    // put your options and callbacks here

    windowResize: function(view) {
    alert('The calendar has adjusted to a window resize');
},

    header: {
    left: 'prev,next today',
    center: 'title',
    right: 'month,agendaWeek,agendaDay'
},
 dayClick: function(date, allDay, jsEvent, view) {

    if (allDay) {
        // Clicked on the entire day
        $('#calendar')
            .fullCalendar('changeView', 'basicDay'/* or 'agendaDay' */)
            .fullCalendar('gotoDate',
                date.getFullYear(), date.getMonth(), date.getDate());
    }
},

    events: [

<?php data_calendario();?>  //this is where I call the data
],
color: 'yellow',   // an option!
textColor: 'black' // an option!

    })

}); 
```

就是这样……真的很简单……

希望能帮助到你

纳乔

# extjs - 如何在 ExtJS 中为容器添加边框

> ID：15873912
> 
> 赞同：3
> 
> 时间：2013-04-08T07:49:28.437
> 
> 标签：extjs, extjs3

我的容器如下所示。我想为这个容器添加边框，如文本框边框，请帮助为容器添加边框。

```
MyContainer13Ui = Ext.extend(Ext.Container, {
    flex: 1,
    width: 500,
    height: 22,
    activeItem: 0,
    id: 'url',
    initComponent: function() {
        MyContainer13Ui.superclass.initComponent.call(this);
    }
}); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-06-18T21:07:13.297

如果你不能只在配置中设置**border: true**，试试这个：

```
 MyContainer13Ui = Ext.extend(Ext.Container, {
    flex: 1,
    width: 500,
    height: 22,
    border: 1,
    style: {
       borderColor: 'black',
       borderStyle: 'solid'
    },
    activeItem: 0,
    id: 'url',
    initComponent: function() {
        MyContainer13Ui.superclass.initComponent.call(this);
    }
}); 
```

# oracle - ORA 54 资源繁忙错误

> ID：15873924
> 
> 赞同：1
> 
> 时间：2013-04-08T07:50:24.320
> 
> 标签：oracle, oracle10g

我有一个在生产中运行的作业，它随机异常并出现错误 ORA 54。当我检查代码时，我可以看到`NOWAIT`导致问题的原因是 。现在我决定对其进行测试，并编写了一个匿名块，如下所示。

```
declare
    cursor c1 is
        select * from table where column_1=2 and column_2=2 and column_3=6
        for update of column_4 nowait;
    record_locked exception;
    pragma exception_init (record_locked, -54);
begin
    begin
        open c1;
    exception
        when record_locked then
            dbms_output.put_line('Faced a locked record. Waiting for 2 minutes..');
            dbms_lock.sleep(120);
            open c1;
    end;
exception
    when others then
        dbms_output.put_line('Exception Occured '||SQLCODE||SQLERRM);
end; 
```

我打开了一个会话并运行了以下查询

```
select * from table
where column_1=2 and column_2=2 and column_3=6
for update of column_4 nowait; 
```

我没有提交或回滚并保持会话打开。现在我在另一个会话中运行了上面的匿名块。等待 2 分钟后，它因 ORA 54 错误而失败。所以我相信我的假设是正确的。

现在的问题是，当我以相同的方式在测试环境中运行包含第一个匿名块的整个作业代码时，它等待锁定记录而没有异常结束。当我通过回滚释放锁时，它更新了记录并成功完成。

我想知道为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T09:57:48.127

您从测试和生产中得到不同的结果，因为您的表格内容不同。您的测试表不包含任何与 where 子句匹配的行，因此您的会话不会相互阻塞。

尝试在测试表中添加至少一行与标准匹配的行，您应该得到与生产中相同的结果。

# database - 单元测试数据库交互器

> ID：15873928
> 
> 赞同：1
> 
> 时间：2013-04-08T07:50:35.533
> 
> 标签：database, unit-testing, testing, tdd

我有一个数据库交互组件，其中包括一个 Writer 和一个 Reader 类。writer 类具有 insertEntity( Entity ) 和 updateEntity( Entity ) 等写入方法，而 Reader 具有 getEntityById( EntityId ) 等方法。

为了实现这个组件，我想像往常一样使用 TDD，但不确定如何管理它。如果我从实现 Writer 开始，如果我还没有 Reader 方法，我将如何进行有意义的断言。即使我有 Reader 方法，我也最好不要在 Writer 的测试中使用它们，尽管这可能是一厢情愿的想法。

测试这样的代码似乎天生就很痛苦，因为需要设置和拆除表格。但是，由于我以前没有尝试过对此类代码进行 TDD，因此我可能会错过一些技巧来使这相对轻松。对此的任何指示表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T09:15:08.550

只要您有一个抽象，您就不需要数据库。

例如，如果我创建了一个方法`getEntityById`，我可以有一个使用内存存储（数组、哈希等）的类。虽然我的生产代码将使用具体实例。在伪代码中：

```
类 MemoryStore
{
    getEntityById(id)
    {
       // 返回硬编码响应或预设结果
    }
}

类 DatabaseStore
{
    getEntityById
    {
        // 转到真正的数据库并进行读取。
    }
}

```

然后，您可以编写测试，而无需访问真正的数据库。请记住，如果您确实使用了第三方服务、API、数据库、文件系统等……您不是在进行单元测试。

这里的另一个好处是您可以让另一个开发人员处理数据库访问代码，而您可以处理应用程序的其余部分。这一切都依赖于“对接口进行编码”。

如果要测试数据库访问代码怎么办？那么你会想要一个综合测试。这里将使用一个真实的数据库，您可以实例化读取/写入数据库的代码。自然这会很慢并且需要种子数据。关键是你测试这些独立的，你的应用程序的其余部分将使用内存中的假货。所以在上面的例子中，只要`DatabaseStore`它自己工作，我们就可以确信其余的代码做了正确的事情。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T09:17:45.467

我要做的是首先实现我的 CREATE 方法，然后通过直接查询数据库而*不是*通过我的 DAO 的 READ 方法来测试这些方法。当这些通过后，您可以使用您的 CREATE 方法编写您的 READ 测试，以使用测试数据填充您的数据库，然后实现您的 READ 方法。

至于在每次测试后设置和拆除数据库，请将用于执行此操作的 SQL 放在您的设置和拆除方法中。

# php - 如果在列中满足条件，则删除

> ID：15873930
> 
> 赞同：0
> 
> 时间：2013-04-08T07:50:46.003
> 
> 标签：php, mysql, bash

我有一张这样的桌子：

```
id, senderNumber, blacklist
-----------------------------
1   0835636326   Y
2   0373562343   Y
3   0273646833   Y 
```

如果另一个表上的新插入行包含上面使用 BASH 脚本的 senderNumber 列上的任何内容，我想自动删除

我已经在使用这个脚本：

```
BLOCKLIST="$( mysql -uroot -pabcde smsd -N -s -r -e "SELECT senderNumber FROM blacklist WHERE senderBlock='Y'" | tr '\n' ' ')"
mysql -uroot -pabcde smsd -e "DELETE FROM inbox WHERE senderNumber = '$BLOCKLIST'" 
```

这是输出：

```
 sh -x /etc/autodelete.sh
+ tr \n  
+ mysql -uroot -pabcde smsd -N -s -r -e SELECT senderNumber FROM blacklist WHERE senderBlock='Y'
+ BLOCKLIST=083808034690 08164853500 
+ mysql -uroot -pabcde smsd -e DELETE FROM inbox WHERE senderNumber = '083808034690 08164853500 ' 
```

但没有运气。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:54:16.527

您不能仅通过粘贴`senderNumber`列表来删除许多记录。事实上，您可以在一次查询中删除这些记录：

```
DELETE FROM inbox LEFT JOIN blacklist USING (senderNumber) WHERE blacklist.senderBlock='Y' 
```

（请注意，这是未经测试的）

另一种方法是使用`IN`：

```
DELETE FROM inbox WHERE senderNumber IN ('083808034690','08164853500') 
```

但是您必须找到一种添加逗号的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:52:46.743

尝试这个

```
 mysql -uroot -pabcde smsd -e "DELETE FROM inbox WHERE senderNumber like =".$BLOCKLIST 
```

# glassfish - 当 allow_store_upgrade 失败时我该怎么办？

> ID：15873931
> 
> 赞同：0
> 
> 时间：2013-04-08T07:50:47.333
> 
> 标签：glassfish, neo4j, jca

我通过 Alex Smirnov neo4j JCA 连接器的修改版本在 glassfish 服务器中使用 neo4j。我的版本在这里可用：[https](https://github.com/Riduidel/neo4j-connector) ://github.com/Riduidel/neo4j-connector 我正在将此连接器与 neo4j 1.8 一起使用。因此，当我想使用它时，我首先在我的 Glassfish 应用程序服务器中安装连接器，然后在希望连接的应用程序中使用此连接器。

与新鲜商店一起使用时效果很好。但是，当将它与使用以前版本创建的商店一起使用时，我遇到了奇怪的错误。

通常，我今天得到以下堆栈

```
javax.resource.spi.ResourceAllocationException: Error in allocating a connection. Cause: Failed to transition org.neo4j.kernel.InternalAbstractGraphDatabase$DefaultKernelExtensionLoader@3bbd53b1 from NONE to STOPPED
...
...
.../* JCA internal exception stack */
...
...
Caused by: com.sun.appserv.connectors.internal.api.PoolingException: Failed to transition org.neo4j.kernel.InternalAbstractGraphDatabase$DefaultKernelExtensionLoader@494b584c from NONE to STOPPED
 at com.sun.enterprise.resource.pool.ConnectionPool.createSingleResource(ConnectionPool.java:924)
 at com.sun.enterprise.resource.pool.ConnectionPool.createResource(ConnectionPool.java:1185)
 at com.sun.enterprise.resource.pool.datastructure.RWLockDataStructure.addResource(RWLockDataStructure.java:98)
 ... 66 more
Caused by: org.neo4j.kernel.lifecycle.LifecycleException: Failed to transition org.neo4j.kernel.InternalAbstractGraphDatabase$DefaultKernelExtensionLoader@494b584c from NONE to STOPPED
 at org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.init(LifeSupport.java:388)
 at org.neo4j.kernel.lifecycle.LifeSupport.init(LifeSupport.java:82)
 at org.neo4j.kernel.lifecycle.LifeSupport.start(LifeSupport.java:116)
 at org.neo4j.kernel.InternalAbstractGraphDatabase.run(InternalAbstractGraphDatabase.java:227)
 at org.neo4j.kernel.EmbeddedGraphDatabase.<init>(EmbeddedGraphDatabase.java:79)
 at org.neo4j.kernel.EmbeddedGraphDatabase.<init>(EmbeddedGraphDatabase.java:70)
 at com.netoprise.neo4j.AbstractNeo4jManagedConnectionFactory.createDatabase(AbstractNeo4jManagedConnectionFactory.java:165)
 at com.netoprise.neo4j.AbstractNeo4jManagedConnectionFactory.createDatabase(AbstractNeo4jManagedConnectionFactory.java:127)
 at com.netoprise.neo4j.Neo4jManagedConnectionFactory.createManagedConnection(Neo4jManagedConnectionFactory.java:163)
 at com.sun.enterprise.resource.allocator.ConnectorAllocator.createResource(ConnectorAllocator.java:160)
 at com.sun.enterprise.resource.pool.ConnectionPool.createSingleResource(ConnectionPool.java:907)
 ... 68 more
Caused by: java.lang.AssertionError
 at org.neo4j.index.impl.lucene.LuceneDataSource.cleanWriteLocks(LuceneDataSource.java:265)
 at org.neo4j.index.impl.lucene.LuceneDataSource.cleanWriteLocks(LuceneDataSource.java:260)
 at org.neo4j.index.impl.lucene.LuceneDataSource.cleanWriteLocks(LuceneDataSource.java:260)
 at org.neo4j.index.impl.lucene.LuceneDataSource.cleanWriteLocks(LuceneDataSource.java:260)
 at org.neo4j.index.impl.lucene.LuceneDataSource.<init>(LuceneDataSource.java:185)
 at org.neo4j.index.lucene.LuceneIndexProvider.load(LuceneIndexProvider.java:72)
 at org.neo4j.kernel.InternalAbstractGraphDatabase$DefaultKernelExtensionLoader.loadIndexImplementations(InternalAbstractGraphDatabase.java:1171)
 at org.neo4j.kernel.InternalAbstractGraphDatabase$DefaultKernelExtensionLoader.init(InternalAbstractGraphDatabase.java:1143)
 at org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.init(LifeSupport.java:382)
 ... 78 more 
```

快速检查显示此异常与不可删除的“write.lock”文件相关联。我的 write.lock 文件无法删除，因为*我猜*迁移还没有结束。如何确保在使用之前完成迁移而不将其迁移到 Glassfish 之外？

有没有办法在这种情况下进行独家商店迁移？如果是这样，如何？它是我问题的解决方案吗？

**编辑 1**添加了异常消息。

**编辑 2**所有这一切只发生在加载的图形以前与 Neo4j 1.5 一起使用，现在与 Neo4j 1.8 连接器一起使用时。当连接器创建图形时，绝对不会发生错误。

**编辑 3**奇怪的是，只要没有调试器插入该代码就会发生这种情况：只要我尝试调试它，问题就会停止出现。这让我想到可能有一种迁移清理机制，一旦迁移完成，它就会删除写锁，并且在使用我的 neo4j JCA 连接器时不会执行此清理。这是一个有效的观察吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T12:38:54.980

我对 JCA 连接器不太熟悉，但可以肯定的是，我只会编写一个非常小的迁移 java 类来打开数据库，让它迁移和关闭。然后用 JCA 连接器再试一次？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T08:11:08.767

经过进一步调查，事实表明并非多次调用`EmbeddedGraphDatabase`构造函数，而是`IndexProvider`加载了多个身份。

我使用嵌入在开源 JCA 连接器中的 neo4j。在此连接器中，`org.neo4j.kernel.Service`该类被[一个自定义](https://github.com/Riduidel/neo4j-connector/blob/master/neo4j-connector-impl-parent/neo4j-connector-impl-common/src/main/java/org/neo4j/helpers/Service.java)类替换，其中包含有关 JBoss 非共享库的服务加载的解决方法。不幸的是，在我们的上下文中，这种解决方法意味着加载两次索引提供程序：

1.  曾经使用 EAR 类加载器
2.  曾经使用 Glassfish 库类加载器。

为什么 ？因为，当我们的 neo4j 实例用于应用程序数据和身份验证时，neo4j 连接器 jar 被放入`${domain}/lib`. 因此，由于应用服务器中的 Classloader 委托，EAR 类加载器委托给 Glassfish 库类加载器，并以这种方式找到`LuceneIndexProvider`. 然后，直接使用 Glassfish 库类加载器来加载同一个`LuceneIndexProvider`类。

结论是我们有两个`LuceneIndexProvider`对象，都试图迁移 lucene 索引。这导致第一个对象创建`AssertionError`的`write.lock`文件应该被第二个对象删除，这是不能做到的。

然后，我稍微更改了那个非常具体的类，以仅在默认加载机制不返回任何类时才使用 JBoss 解决方法（[请参阅此处的提交](https://github.com/Riduidel/neo4j-connector/commit/6ec1b49ea1b647a5700c0187623ece4d187ea4a5)）。这个小改变就像一个魅力，所以我认为你可以认为这个问题已经解决了。

# android - 启用“通过触摸探索”时如何捕捉**两个手指**触摸？

> ID：15873932
> 
> 赞同：1
> 
> 时间：2013-04-08T07:50:54.853
> 
> 标签：android, accessibility, talkback

我正在开发一个应用程序，该应用程序需要能够在启用辅助功能和通过触摸浏览时捕获手势。我已经看到了单点触摸的答案-[启用触摸浏览时如何保持单指针手势？](https://stackoverflow.com/questions/14328313/how-can-i-maintain-a-one-pointer-gesture-when-explore-by-touch-is-enabled/14988636#14988636)

但在我的应用程序中，用户必须执行多点触控事件。问题是，由于通过触摸探索功能使两根手指触摸的行为类似于常规模式下的单次触摸，我的所有两指手势都无法识别。有没有办法完全覆盖通过触摸探索或我的特定应用程序的整个辅助功能？（我可以从我的应用程序中执行其他辅助功能）

谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-30T08:11:31.583

无法从您的代码中覆盖“通过触摸探索”，因为它是一项无障碍服务，必须由用户在系统设置中手动启用/禁用。

然而，TV Raman 在他的 Google IO 演示文稿中解释了 - 使 Android 应用程序可访问 [http://www.youtube.com/watch?v=q3HliaMjL38](http://www.youtube.com/watch?v=q3HliaMjL38)

用户可以将手指添加到所需的手势。因此，双击应用程序将单击传递到底层视图，两指滑动将单指滑动传递到底层视图等。

如果您尝试在 Chrome 中使用 3 指而不是 2 指进行捏合和缩放，则可以。使用 3 指手势尝试您的应用程序，看看您的 2 指手势现在是否被识别。

# javascript - Coda 2 中 Javascript 和 Jquery 的自动完成提示

> ID：15873934
> 
> 赞同：0
> 
> 时间：2013-04-08T07:51:06.840
> 
> 标签：javascript, jquery, autocomplete, coda

有人知道在代码 2 中自动完成 javascript 的方法吗？

Coda to 非常有帮助，并且非常擅长这一点，尤其是在 CSS 和 html 中。但是当涉及到 javascript 或使用 jquery 时，它似乎并没有向我展示方法或功能。它在 CSS 中非常有用，它向您展示了所有不同的选项。我在 Coda 2 中无法做到这一点，有没有您推荐的真正擅长此方面的应用程序？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-01-14T21:47:34.523

Hopefully you have found it already, but in case others stumble onto this, take a look here: [https://github.com/rayman813/coda2-mode-jquery](https://github.com/rayman813/coda2-mode-jquery)

# file - 如何在 Haskell（跨平台）中获取文件访问时间？

> ID：15873935
> 
> 赞同：2
> 
> 时间：2013-04-08T07:51:07.693
> 
> 标签：file, haskell, cross-platform, lastaccesstime

我想以便携的方式读取文件访问时间。我在[`accessTime`](http://www.haskell.org/ghc/docs/7.4.1/html/libraries/unix-2.5.1.0/System-Posix-Files.html#v%3aaccessTime)中找到`System.Posix.Files`，但它只是 POSIX。是否有一种可移植的、跨平台的方式可以在 Windows 和 POSIX 系统上运行？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-08T08:16:45.543

[System.Directory.getModificationTime](http://hackage.haskell.org/packages/archive/directory/latest/doc/html/System-Directory.html#v%3agetModificationTime)的修改时间怎么样？对于访问时间，我不确定是否有便携式方式。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-08T08:01:26.827

在 Windows 上，您可以使用 System.Win32.getFileTime 函数，第二次 - 是最后一次访问时间。我怎么知道 - 这项任务没有跨平台方式。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-08T18:01:39.833

您可以使用[unix-compat](http://hackage.haskell.org/packages/archive/unix-compat/0.4.1.1/doc/html/System-PosixCompat-Files.html)来获得 Windows 和 POSIX 对`unix`软件包中许多功能的支持。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-03-06T07:59:07.010

从 directory-1.2.3 开始，现在有[System.Directory.getAccessTime](http://hackage.haskell.org/package/directory-1.3.6.0/docs/System-Directory.html#v%3AgetAccessTime)。

# android - 如何在 android 4.2 中使用 AsyncTask

> ID：15873937
> 
> 赞同：-1
> 
> 时间：2013-04-08T07:51:13.497
> 
> 标签：android, android-intent, android-asynctask

我在我的第一个活动中使用 AsyncTask 类，它工作正常并调用第二个，我在 onCreate 中调用另一个 AsyncTask 调用对象并在 doInBackground 中调用 web 服务，然后它给出异常 android.os.networkmainthread。

我不知道，因为我是 android 开发的新手，所以请给我看一些示例，或者我给你看我的代码

这是我的代码

```
public class panel extends Activity {

@Override
 public void onCreate(Bundle savedInstanceState) {
   super.onCreate(savedInstanceState);
   setContentView(R.layout.panel);
   User_Balance_Load Balance_load=new User_Balance_Load();
   Balance_load.execute();
   Toast.makeText(getBaseContext(),Cls_Constant.username, Toast.LENGTH_LONG).show();

}
class User_Balance_Load extends AsyncTask<Void, Void, Void>
{
    private final ProgressDialog dialog = new ProgressDialog(panel.this);
    protected void onPreExecute() { 

        this.dialog.setMessage("Loding Diet type..."); 
        this.dialog.show(); 
                                    } 

    protected Void doInBackground(final Void... unused) {
        // TODO Auto-generated method stub
        panel.this.runOnUiThread(new Runnable() {

            @Override
            public void run() {
                // TODO Auto-generated method stub
                Update_balance();
            }
        });
        return null;
    }
    protected void onPostExecute(Void result)  
    { 

            if (this.dialog.isShowing()) 
            { 
            this.dialog.dismiss(); 
            }

     } 

}
void Update_balance()
{

    Vector result;
    result=Cls_webservice.User_Balance(Cls_Constant.Guid);
    if(result.size()>0)
    {
        String UserBalance=result.elementAt(2).toString();
        TextView Tv_User_balacne=(TextView)findViewById(R.id.tv_point_balance);
        Tv_User_balacne.setText(UserBalance);
    }
} 
```

这是我的网络服务类

```
public class Cls_webservice {

 public static Vector User_Balance(String id)
    { 
        Vector _vector = new Vector();
        final String userid = id;

        final String METHOD_NAME = "WCFDatatableRes";
        final String SOAP_ACTION = "http://tempuri.org/WCFDatatableRes";
        final String NAMESPACE = "http://tempuri.org/";
        final String URL = "http://xxxxxxxx.com/GameRoom/ANDROIDLOTT/WebService.asmx";
        String return_val="";
        SoapObject newob;
        try
        {
            Object response;
            SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
            envelope.encodingStyle = SoapEnvelope.ENC;
            SoapObject Request = new SoapObject(NAMESPACE , METHOD_NAME);
            Request.addProperty("Params", userid+",3"); 
            Request.addProperty("Do", "Balance"); 
            envelope.dotNet = true;
            envelope.setOutputSoapObject(Request);
            AndroidHttpTransport httptransport ;
            httptransport = new AndroidHttpTransport(URL);

            httptransport.debug=true;
            try
            {

                httptransport.call(SOAP_ACTION,envelope);
                response = envelope.getResponse();
                newob = (SoapObject)envelope.bodyIn;
                return_val = newob.toString();
                SoapObject diettype_listResult = (SoapObject) newob.getProperty("WCFDatatableRes ") ;
                SoapObject diffgram = (SoapObject) diettype_listResult.getProperty("diffgram") ;

            }
            catch (Exception e) {
                System.out.println("error:" + e);
            }                 

        }
        catch (Exception e) {
        }
        return _vector;
    } 
```

}

异常出现在这一行 - >“httptransport.call(SOAP_ACTION,envelope); 所以请帮助我，同样的代码在我的第一个活动中工作我不知道为什么在第二次出现错误谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:53:50.113

NetworkOnMainThread 发生异常是因为您正在 UI 线程上运行与网络相关的操作。这仅针对面向 Honeycomb SDK 或更高版本的应用程序抛出。允许以早期 SDK 版本为目标的应用程序在其主事件循环线程上进行网络连接，但非常不鼓励这样做。请参阅文档设计响应性。

您正在使用 runonUithread 运行 Update_balance()。

您正在尝试通过调用 Update_balance() 来更新 doInBackground() 中的 ui，该方法将 textview 中的文本设置如下。您不应该在 doInBackground() 中更新 ui。

```
TextView Tv_User_balacne=(TextView)findViewById(R.id.tv_point_balance);
    Tv_User_balacne.setText(UserBalance);TextView Tv_User_balacne=(TextView)findViewById(R.id.tv_point_balance);
    Tv_User_balacne.setText(UserBalance); 
```

**所有与网络相关的操作都应该在 doInBackground() 中完成。在 doInBackground() 中调用 Web 服务。**

`doInBackground()`您可以从检索中返回值`onPostExecute()`并相应地更新 ui。

```
class TheTask extends AsyncTask<Void,Void,Void>
{
 protected void onPreExecute()
 {           super.onPreExecute();
        //display progressdialog.
 }  

protected void doInBackground(Void ...params)//return result here
{  
    //http request. do not update ui here
    //call webservice
    //return result here
    return null;
} 

protected void onPostExecute(Void result)//result of doInBackground is passed a parameter
{     
        super.onPostExecute(result);
        //dismiss progressdialog.
        //update ui using the result returned form doInbackground()

} 

} 
```

4 个步骤 当一个异步任务被执行时，该任务会经历 4 个步骤：

1.  onPreExecute()，在任务执行之前在 UI 线程上调用。此步骤通常用于设置任务，例如通过在用户界面中显示进度条。

2.  doInBackground(Params...)，**在 onPreExecute() 完成执行后立即在后台线程上调用。**此步骤用于执行可能需要很长时间的后台计算。异步任务的参数传递到这一步。计算的结果必须由这一步返回，并将传递回最后一步。此步骤还可以使用 publishProgress(Progress...) 来发布一个或多个进度单位。这些值在 UI 线程上的 onProgressUpdate(Progress...) 步骤中发布。

3.  onProgressUpdate(Progress...)，在调用 publishProgress(Progress...) 后在 UI 线程上调用。执行的时间是不确定的。此方法用于在后台计算仍在执行时在用户界面中显示任何形式的进度。例如，它可用于动画进度条或在文本字段中显示日志。

4.  onPostExecute(Result)，**在后台计算完成后在 UI 线程上调用。后台计算的结果作为参数传递给该步骤。**

欲了解更多详情，请查看以下链接

[http://developer.android.com/reference/android/os/AsyncTask.html](http://developer.android.com/reference/android/os/AsyncTask.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T08:39:33.940

您正在使用 asynctask，然后在您的 asynctask 中，您正在 UI 线程下运行代码。这是废话，因为结果与在 OnCreate() 方法上执行代码相同。

```
protected Void doInBackground(final Void... unused) 
{
    Vector result = Update_balance();
    panel.this.runOnUiThread(new Runnable() 
    {
        @Override
        public void run()
        {
            if(result.size()>0)
            {
                String UserBalance=result.elementAt(2).toString();
                TextView Tv_User_balacne=(TextView)findViewById(R.id.tv_point_balance);
                Tv_User_balacne.setText(UserBalance);
            }                
        }
    });
    return null;
}

Vector Update_balance()
{
    Vector result;
    result=Cls_webservice.User_Balance(Cls_Constant.Guid);
    return result;
} 
```

# ruby-on-rails - 为什么我不能为非管理员用户取消授权 Rack-mini-profiler

> ID：15873939
> 
> 赞同：8
> 
> 时间：2013-04-08T07:51:19.193
> 
> 标签：ruby-on-rails, ruby, rubygems, rack-mini-profiler

我正在尝试在我的 ROR 应用程序上安装 Rack-mini-profiler。我安装了 gem 并且探查器在开发中运行良好，但我无法取消对非管理员用户的特定请求的授权。我在我的 ApplicationController before_filter 中放置了以下代码

```
def authorize_mini_profiler
    if current_user.nil?
      Rack::MiniProfiler.deauthorize_request
      return
    elsif is_admin_user
      Rack::MiniProfiler.authorize_request
      return
    end
    Rack::MiniProfiler.deauthorize_request
end 
```

在调试中，我看到调用了 deauthorize 方法，但仍显示探查器。

我什至尝试使用此代码

```
def authorize_mini_profiler
    Rack::MiniProfiler.deauthorize_request
end 
```

但是，任何用户的每个请求都会显示分析器。

有谁知道可能是什么问题？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-04-09T08:47:34.727

好吧，对于那些遇到同样问题的人......

深入调试发现gem被配置为忽略init上的授权机制。为了仅在某些情况下启用分析（例如非生产或仅适用于管理员用户），您需要覆盖`application.rb`（或最好是某些特定配置文件）中的默认配置：

```
Rack::MiniProfiler.config.authorization_mode = :whitelist if Rails.env.production? 
```

否则配置设置为`:allowall`

# apache - 如何通过 Apache 代理服务第二个子域

> ID：15873940
> 
> 赞同：3
> 
> 时间：2013-04-08T07:51:19.707
> 
> 标签：apache, proxy, subdomain

我有一个 Apache 前端服务器，直到今天它仍将子域的流量代理`api.myapp.net`到在 Nginx 上运行 Rails 应用程序的后端服务器。

现在，我`alpha.myapp.net`在我的域组合中添加了第二个子域，并为其分配了相同的 IP。该子域的流量不应访问 Rails 应用程序，而是 Nginx 服务器上的第二个 VHost，该 VHost 设置为服务于静态站点。

所以我有一个代理配置`api.myapp.net`：

```
NameVirtualHost *:80

<VirtualHost *:80>
    ServerAdmin webmaster@myapp.net
    ServerName api.myapp.net
    ServerAlias api.myapp.net

    DirectoryIndex index.html

    RewriteEngine On

    RewriteLog /var/log/apache2/rewrite.log
    RewriteLogLevel 9

    RewriteCond %{HTTP_HOST} !^(api\.)?myapp\.net$
    RewriteRule ^(.*)$ http://myapp.net$1 [L,R=301]

    ProxyPass / http://192.168.1.145/
    ProxyPassReverse / http://192.168.1.145/

    ErrorLog /var/log/apache2/error.log

    LogLevel warn

    CustomLog /var/log/apache2/access.log combined
    ServerSignature Off
</VirtualHost> 
```

我设置了第二个配置`alpha.myapp.net`：

```
NameVirtualHost *:80

<VirtualHost *:80>
    ServerAdmin webmaster@myapp.net
    ServerName alpha.myapp.net
    ServerAlias alpha.myapp.net

    DirectoryIndex index.html

    RewriteEngine On

    RewriteLog /var/log/apache2/rewrite.log
    RewriteLogLevel 9

    RewriteCond %{HTTP_HOST} !^(alpha\.)?myapp\.net$
    RewriteRule ^(.*)$ http://myapp.net$1 [L,R=301]

    ProxyPass / http://192.168.1.145/
    ProxyPassReverse / http://192.168.1.145/

    ErrorLog /var/log/apache2/error.log

    LogLevel warn

    CustomLog /var/log/apache2/access.log combined
    ServerSignature Off
</VirtualHost> 
```

现在发生的情况是，所有流量都会到达`alpha.myapp.net`我的 Rails 应用程序，该应用程序监听`api.myapp.net`.

整理了所有的Nginx配置问题，所以我认为一定是Apache配置错误。我在 Apache 的重写日志中看到的似乎解释了这个问题：

```
xxx.yyy.zzz.95 - - [08/Apr/2013:09:34:35 +0200] [alpha.myapp.net/sid#b9279870][rid#b9311d38/initial] (2) init rewrite engine with requested uri /index.html
xxx.yyy.zzz.95 - - [08/Apr/2013:09:34:35 +0200] [alpha.myapp.net/sid#b9279870][rid#b9311d38/initial] (3) applying pattern '^(.*)$' to uri '/index.html'
xxx.yyy.zzz.95 - - [08/Apr/2013:09:34:35 +0200] [alpha.myapp.net/sid#b9279870][rid#b9311d38/initial] (4) RewriteCond: input='alpha.myapp.net' pattern='!^(alpha\.)?myapp\.net$' => not-matched
xxx.yyy.zzz.95 - - [08/Apr/2013:09:34:35 +0200] [alpha.myapp.net/sid#b9279870][rid#b9311d38/initial] (1) pass through /index.html 
```

最后一部分`pass through /index.html`似乎省略了子域和域部分。所以 Nginx 后端服务器现在不会请求哪个子域，而是为来自第一个可用服务器的请求提供服务，即 ist `api`。

现在的问题似乎是：如何代理从 Apache 前端到 Nginx 后端的流量并维护子域和域？

或者可能还有其他问题？

希望有人可以提供帮助。

问候菲利克斯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T08:08:07.470

有时答案伴随着问题而来。问题正是缺少主机名。

`/etc/hosts`我通过在我的 Apache 服务器上进行编辑并添加两个条目解决了这个问题。一`api.myapp.net`，一`alpha.myapp.net`都引用相同的IP。

`ProxyPass`然后我更改了 bot Apache 代理配置，因此`ProxyPassReverse`不再使用 IP，而是使用新的主机名。

瞧，它起作用了。

# ajax - 具有 contextMenu、multipleSelection、rowEdit 的 DataTable

> ID：15873942
> 
> 赞同：6
> 
> 时间：2013-04-08T07:51:30.103
> 
> 标签：ajax, jsf, primefaces, xhtml

所以我有一个非常复杂的数据表。它应该能够编辑单行，选择多行，并为每一行显示一个上下文菜单。单行编辑可以正常工作，多选也可以，唯一的问题是每当我尝试在右键单击的行上打开 contextMenu 时，所选 tableItem 的值为 null。仅当我在行上单击显式（左键单击）然后右键单击以显示上下文菜单时，它才有效。这个很不方便，我想在右键contextMenu上显示选中的itemValue。

我知道还有其他一些关于这个问题的帖子，但是没有真正的解决方案或解决方法，所以我希望你能帮助我。

这是我的代码：

```
 <p:contextMenu id="schadenTableContextMenu" for="todoSchadenTable"
     style="width: 200px; ">

     <p:submenu id="schadenTableSetAsReadSBM" label="Markieren als"
        styleClass="my-menu">
        <p:menuitem id="schadenTableSetAsReadSBMMI1" value="Gelesen"
           style="width: 167px;" icon="ui-icon-mail-open" ajax="true"
           partialSubmit="true" process="@this"
           action="#{todoLeseHistController.setAlsGelesen()}" update=":mainForm" />

        <p:menuitem id="schadenTableSetAsReadSBMMI2" value="Ungelesen"
           style="width: 167px;" icon="ui-icon-mail-closed" ajax="true"
           partialSubmit="true" process="@this"
           action="#{todoLeseHistController.setAlsUngelesen()}"
           update=":mainForm" />
     </p:submenu>

     <p:menuitem id="schadenTableContextMenuMI3"
        style="width:190px !important; font-size:12px !important;"
        value="In der Applikation öffnen" icon="ui-icon-pencil"
        title="Öffnet den ToDo in der entsprechenden Applikation." ajax="true"
        partialSubmit="true" process="@this"
        action="#{openExternalLinkController.openTodoInExtUrl()}"
        oncomplete="openExternal(xhr, status, args)" update=":msgGrowl" />

  </p:contextMenu>

 -------------------dataTable-----------------
<p:dataTable id="todoSchadenTable" widgetVar="todoSchadenTableW"
     emptyMessage="Keine Schadenmeldungen gefunden." var="currentTableItem"
     value="#{schadenTableController.dataModel}" paginator="true" rows="15"
     filteredValue="#{schadenTableController.filteredTodos}"
     filterEvent="keyup" filterDelay="500"
     sortBy="#{currentTableItem.angelegtAm}" sortOrder="descending"
     editable="true"
     rendered="#{(loginBean.loggedIn and !mitViewController.leiterViewActiv and mitViewController.schadenTabActive) or (loginBean.loggedIn and leiterTreeController.todoSchadenTableAktiv)}"
     selection="#{schadenTableController.selectedSchadenmeldungen}"
     rowKey="#{currentTableItem.meldungId}"
     style="min-width:1700px !important;">

     <p:ajax event="rowEdit" global="false" partialSubmit="true"
        listener="#{schadenTableController.saveErlVorgelBis(currentTableItem)}" />

     <!-- <p:ajax event="rowSelect" global="false" listener="#{todoLeseHistController.aktuelleSchadenMeldung(currentTableItem)}" /> -->

     <p:ajax event="contextMenu" global="false" partialSubmit="true"
        listener="#{todoLeseHistController.testeMich()}" />

     <p:ajax event="toggleSelect" update="zuordnenZuButton"
        partialSubmit="true" process="@this" global="false" />
     <p:ajax event="rowSelectCheckbox" update="@this" partialSubmit="true"
        process="@this" global="false"  listener="#{todoLeseHistController.testeMich()}"/>
     <p:ajax event="rowUnselectCheckbox" update="@this" partialSubmit="true"
        process="@this" global="false" />

     <f:facet name="header">
        <p:commandButton value="Zuordnen" id="zuordnenZuButton" ajax="true"
           partialSubmit="true" process="@this"
           label="Schandemeldung einem Mitarbeiter zuordnen"
           oncomplete="zuordnenDialogW.show();"
           disabled="#{not schadenTableController.hasSelectedSchadenmeldungen}"
           action="#{zuordnenDialogController.prepareDataForTable()}"
           style="float: left;" />
        <pe:tooltip for="zuordnenZuButton"
           value="Ausgwählte Schadenmeldungen einem Benutzer zuordnen"
           myPosition="left center" atPosition="right center" showEffect="fadeIn"
           hideEffect="fadeOut" showDelay="700" />
        <h:outputText
           value="#{schadenTableController.tableHeaderName} - #{leiterTreeController.getDataTableHeaderZusatz()}"
           style="color:#cf0008; font-size: 22px;  padding-top: 7px; " />
     </f:facet>

                   ... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-11-13T16:19:33.150

当您调用 contextMenu 事件的侦听器时，您是否将选定的行分配给支持 bean 中的变量？

它应该看起来像这样：

```
 <p:ajax event="contextMenu"  listener="#{backingBean.contextMenuSelect}" /> 
```

这在支持bean中：

```
 public void contextMenuSelect(SelectEvent event) {
             selectedRow = (EntityClassName) event.getObject();
        } 
```

# ios - UIlabel 每一行的不同文本字体

> ID：15873950
> 
> 赞同：-1
> 
> 时间：2013-04-08T07:51:51.197
> 
> 标签：ios, uilabel, uifont

有没有办法为标签的每一行赋予不同的字体大小，其中没有“n”行。我不想为此使用多个标签。请帮忙！！！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T07:57:04.700

从 iOS 6 开始，您可以[`NSAttributedString`](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSAttributedString_Class/Reference/Reference.html)在`UILabel`.

> `NSAttributedString`对象管理字符串和应用于字符串中单个字符或字符范围的相关属性集（例如，字体和字距调整）。

```
NSMutableAttributedString *attrStr = ...
myLabel.attributedText = attrStr; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:54:45.223

是的，但是您必须使用 UIWebView，以 html 格式传递您的文本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T08:12:59.223

`UILabel`使用[NSAttributedString](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSAttributedString_Class/Reference/Reference.html)（iOS 6 及更高版本）。

或者`UIWebView`使用 html-strings，但我最喜欢的是`UITextView`使用 html-strings。你可以像这样使用它：

```
UITextView *tView=[UITextView new];
[tView setValue:@"<b>foo</b>bar" forKey:@"contentToHTMLString"]; 
```

`UITextView`s 更容易处理`UIWebView`，特别是如果您不需要 WebView 的所有功能。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-08T07:56:51.200

如果您的目标是 iOS < 6.0，那么使用 UILabel 根本不可能。否则，您可以参考 dasblinkenlight 答案（适用于 iOS > 6）

有几种方法可以实现相同的：

1.  利用`UIWebView`
2.  为您想要的不同字体创建`UILabel`并设置您想要显示的框架。

# php - php如何对评论中的评论进行排序

> ID：15873959
> 
> 赞同：1
> 
> 时间：2013-04-08T07:52:23.357
> 
> 标签：php, mysql, sql

我想为我的网站访问者提供对现有评论发表评论的便利，因为我们可以在 stackoverflow 中对答案发表评论。

在这里，我创建了两个表

```
threads
    thread_id (auto increment),
    title VARCHAR(MAX),
    body VARCHAR(MAX),
    date datetime,
    user INT

comments
    comment_id INT (auto increment),
    parent_id INT,
    thread_id INT,
    title VARCHAR(MAX),
    body VARCHAR(MAX),
    date datetime,
    user INT 
```

当用户在线程上发表评论时，它将被保存在评论表中，如下所示

```
comment_id = 1211
parent_id = NULL
thread_id = 122
title = "This is the title of the comment"
body = "This is the Body of the comment"
date = 2013-04-04 13:05:44
user = "xyzuser" 
```

假设用户对上述评论发表评论，该评论将保存在评论表中，如下所示

```
comment_id = 1212
parent_id = 1211
thread_id = 122
title = "This is sample title of comment on comment"
body = "This is the Body of comment on comment";
date = 2013-04-04 15:05:44
user = "abcuser" 
```

我正在使用以下查询从线程表中获取线程

```
SELECT * FROM threads WHERE thread_id = 122 
```

到现在为止，我从下面的评论表中得到了线程下的评论

```
SELECT * FROM comments WHERE thread_id = 122 
```

但是现在，我还想在每个评论下显示评论，我尝试过以下

```
SELECT * FROM comments WHERE thread_id = 122 GROUP BY parent_id 
```

但是使用这个查询，在 parent_id 中具有 NULL 值的行会发生什么，以及我将如何整理每个评论下的评论。

任何人有任何解决方案？我应该使用哪个查询以及如何整理每条评论下的评论？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T08:36:43.397

我不知道您是如何获得评论 sql 结果的，无论是数组还是对象，比如数组 -

```
$comments = array(
    array('comment_id' => '1211',
        'parent_id'  => NULL,
        'thread_id'  => '122',
        'title'      => 'This is the title of the comment',
        'body'       => 'This is the Body of the comment',
        'date'       => '2013-04-04 13:05:44',
        'user'       => 'xyzuser'),
    array('comment_id' => '1212',
        'parent_id'  => '1211',
        'thread_id'  => '122',
        'title'      => 'This is the title of the comment',
        'body'       => 'This is the Body of the comment',
        'date'       => '2013-04-04 15:05:44',
        'user'       => 'abcuser'),
); 
```

现在对数组进行排序 -

```
$childs = array();
foreach ($comments as &$comment) {
    $childs[$comment['parent_id']][] = &$comment;
}
unset($comment);

foreach ($comments as &$comment) {
    if (isset($childs[$comment['comment_id']])) {
        $comment['childs'] = $childs[$comment['comment_id']];
    }
}
unset($comments);

$tree = $childs[NULL];
echo "<pre>";
print_r($tree); 
```

输出：

```
Array
(
    [0] => Array
        (
            [comment_id] => 1211
            [parent_id] => 
            [thread_id] => 122
            [title] => This is the title of the comment
            [body] => This is the Body of the comment
            [date] => 2013-04-04 13:05:44
            [user] => xyzuser
            [childs] => Array
                (
                    [0] => Array
                        (
                            [comment_id] => 1212
                            [parent_id] => 1211
                            [thread_id] => 122
                            [title] => This is the title of the comment
                            [body] => This is the Body of the comment
                            [date] => 2013-04-04 15:05:44
                            [user] => abcuser
                        )

                )

        )

) 
```

您也可以对对象应用相同的逻辑以按排序顺序显示结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T08:14:20.120

您使用的查询`SELECT * FROM comments WHERE thread_id = 122`也将在评论下获得您的评论。您是否要按特定顺序获取它们？然后尝试添加`order by parent_id`. 或指定您希望它们的顺序。

也许您甚至可以绘制一个小型记录集，向我们展示您希望查询结果的样子。因为我不完全理解你希望他们成为什么样的人。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T08:01:58.270

```
SELECT c.* FROM comments c
LEFT JOIN
  comments s
ON 
  s.parent_id = c.comment_id
WHERE c.thread_id = 122
GROUP BY c.comment_id
ORDER BY c.date ASC 
```

# java - 在Java中选择声卡来播放声音

> ID：15873961
> 
> 赞同：0
> 
> 时间：2013-04-08T07:52:40.843
> 
> 标签：java, audio

我的计算机中有多个声卡/连接到我的计算机。

现在，我想通过不是默认声卡设备的声卡播放声音。Java Sound API 可以做到这一点吗？我怎样才能做到这一点？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-16T14:44:03.620

```
import javax.sound.sampled.*

AudioInputStream audioIn = AudioSystem.getAudioInputStream(url);

Mixer.Info[] arrMixerInfo = AudioSystem.getMixerInfo();

// Get a sound clip resource.
Clip clip = AudioSystem.getClip(arrMixerInfo[1]);

// Open audio clip and load samples from the audio input stream.
clip.open(audioIn);
clip.start();
clip.drain();
clip.close(); 
```

`arrMixerInfo[0]`表示默认声卡。此代码只能播放 .wav 文件

# python - 使用列表下标查找数据文件中行的平均值

> ID：15873967
> 
> 赞同：-4
> 
> 时间：2013-04-08T07:52:58.510
> 
> 标签：python, list, file, text-files

该程序应该读取 .txt 文件的各个行并找到每个人的测试分数的平均值。我在记事本中的 .txt 文件看起来像这样......

```
 John Smith 5 9 8 10 7
    Mary Brown 3 10 8 4 2
    Bob Black  7 10 9 10 8 
```

而导入数据文件后的最终程序应该是这样的……

```
 Filename? file1.txt     ## file1.txt = the name of the data file the user input
    John Smith 7.8
    Mary Brown 5.4
    Bob Black 8.8

    Average over all students = 7.333333333333333 
```

这是我的 Python 代码...

```
 def main():

        filename = input("Filename? ")
        filename = filename + ".txt"

        with open(filename,"r") as file:
            for lines in file:
            wholefile = lines.strip()
            print(wholefile)

        print("")

        average = 7.333333333333333      ## This is simply a placeholder!
        print("Average over all students =", average

    main() 
```

我不确定我在做什么...如何使用列表下标和 if 语句完成此任务？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-08T08:04:33.203

一些指示：

```
>>> s = "John Smith 5 9 8 10 7"
>>> l = s.split()
>>> l
['John', 'Smith', '5', '9', '8', '10', '7']
>>> grades = [int(item) for item in l if item.isdigit()]
>>> grades
[5, 9, 8, 10, 7]
>>> grades = []     # or, if you haven't done list comprehensions yet:
>>> for item in l:
...     if item.isdigit():
...         grades.append(int(item))
...
>>> grades
[5, 9, 8, 10, 7]
>>> sum(grades)/len(grades)
7.8 
```

# c# - 处理 Word 文档中保存提示的“不保存”流程

> ID：15873969
> 
> 赞同：1
> 
> 时间：2013-04-08T07:53:14.283
> 
> 标签：c#, ms-word

我们正在使用 C# 中的 Word 文档并通过代码执行各种操作。当用户在退出 Word 文档之前提示保存未保存的更改时选择“不保存”时，我们会遇到问题。当我们更改文档时，我们的数据会发生变化，如果用户选择不保存这些更改，则需要恢复这些更改。

我遇到了各种解决方案，但它们都有`Microsoft.Office.Interop.Word`dll 的“关闭前”事件，一旦出现保存提示，它们都不会被触发。

请提出任何解决方案

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:57:19.753

我认为你的错误是你使用原始文档，如果用户想要保存他的更改，你应该使用文档的副本并覆盖原始文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:57:28.593

如果用户选择“不保存”，那么应该没有要恢复的更改，因为用户明确要求丢弃它们。

您应该处理文档的副本，以便最初打开的文档在保存任何内容之前保持原样。然后，您可以在下次打开文档时再次引用该原始的、未更改的副本。

# jquery - 将鼠标悬停在图像上时的音频

> ID：15873973
> 
> 赞同：0
> 
> 时间：2013-04-08T07:53:28.250
> 
> 标签：jquery, audio, hover

当查看器悬停在不同的图像上时，我正在尝试播放多个音频文件，并且我不希望任何播放器/栏/功能显示在屏幕上，我只希望查看器将鼠标悬停在图像上，并且声音播放时，即使用户将光标移开，它也会完成播放。我所有的图像都被放置在 apDiv 标签中

```
$(function(){
    $('#apDiv3').hover(
    function() { $("killyou")[0].play(); },
    function() { $("killyou")[0].pause(); }
    )
});

<audio id="killyou" controls preload="auto">
    <source src="iwilkillyou.mp3" type="audio/mpeg"></source>
    <div id="apDiv3">
        <img src="explosion_by_dbszabo1-d3hmssu.png" width="175" height="5">
    </div>
</audio> 
```

我在悬停时让它工作，它播放声音，但我不能将它用于多个图像，当鼠标移离图像时声音停止，这是我第一次使用 html 和 JQuery，任何人都可以帮助我有了这个？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T08:09:49.280

（编辑：重新阅读您的问题）

也许：

```
$('.audio-source img').mouseover(function() {
    $('player source').attr('src', $(this).data('file'))
            .parent()[0].play();
}); 
```

使用 HTML：

```
<audio hidden id="player" controls preload="auto">
    <source src="default-audio.mp3" type="audio/mpeg"></source>
</audio>
<div class="audio-source">
    <img data-file="foo.mp3" src="image-1.png"/>
    <img data-file="bar.mp3" src="image-2.png"/>
    <img data-file="baz.mp3" src="image-3.png"/>
</div> 
```

不过，我目前无法对此进行测试。

jQuery 函数`.hover(on, off)`绑定了两个函数，一个用于鼠标悬停，一个用于鼠标关闭。您只需要鼠标打开，即可使用该功能`.mouseover(function)`。jQuery 片段所做的是`data-file`从您悬停的图像中获取属性，并将其应用于标签的`src`属性。`<source>`然后我们抓取父节点，也就是`<audio>`标签，并调用`play()`DOM 节点。

# android-ndk - android平台上的本机单例？

> ID：15873975
> 
> 赞同：0
> 
> 时间：2013-04-08T07:53:34.983
> 
> 标签：android-ndk, singleton

我要移植到 android 平台的本机 C++ 项目基于几个静态和动态库，使用基于 c++11 的线程安全单例，这些单例在这些模块之间共享。

这是我的实际结构的示例：

```
 brCore  (Core elements, Manager (Singletons), Logger (Singleton) ect.)  STATIC
  brGrapics (Generic graphics) uses brCore STATIC
  brOpenGLES (GLES renderer) uses brCore, brGraphics DYNAMIC 
```

我的 Android 应用程序（也是 DYNAMIC）使用这三个库并在启动时动态加载 brOpenGLES。在 Linux 和 Windows 平台上一切正常，但在 android 上，我遇到了单例问题：

```
04-08 06:47:24.601: I/NativeActivitySimpleExample(1059): brSingleton getInstance called
04-08 06:47:24.611: I/NativeActivitySimpleExample(1059): Singleton constructor invoked : brFileHandler 
04-08 06:47:24.611: I/NativeActivitySimpleExample(1059): brFileHandler set internal data path: /data/data/com.binrev/files
04-08 06:47:24.611: I/NativeActivitySimpleExample(1059): brSingleton getInstance called

04-08 06:47:24.031: I/NativeActivitySimpleExample(1059): Try to initialize Render API
04-08 06:47:24.031: I/NativeActivitySimpleExample(1059): brSingleton getInstance called
04-08 06:47:24.051: I/NativeActivitySimpleExample(1059): Singleton constructor invoked : brRessourceManager
04-08 06:47:24.051: I/NativeActivitySimpleExample(1059): brSingleton getInstance called

04-08 06:47:24.251: I/NativeActivitySimpleExample(1059): Try to init Logger: brCore
04-08 06:47:24.251: I/NativeActivitySimpleExample(1059): Search for existing logger
04-08 06:47:24.282: I/NativeActivitySimpleExample(1059): brSingleton getInstance called
04-08 06:47:24.282: I/NativeActivitySimpleExample(1059): Singleton constructor invoked : brRessourceManager

04-08 06:47:24.282: I/NativeActivitySimpleExample(1059): brSingleton getInstance called
04-08 06:47:24.282: I/NativeActivitySimpleExample(1059): Singleton constructor invoked : brConfigManager

04-08 06:47:24.601: I/NativeActivitySimpleExample(1059): brSingleton getInstance called
04-08 06:47:24.611: I/NativeActivitySimpleExample(1059): Singleton constructor invoked : brFileHandler
04-08 06:47:24.611: I/NativeActivitySimpleExample(1059): brSingleton getInstance called 
```

如您所见，线程安全单例的构造函数被多次调用，不应该被调用。在 Singleton（brFileHandler 内部数据路径）中设置的值在以后会丢失。看起来图书馆有单独的单例实例，无法在图书馆边界之间共享内容......

我该如何解决这个问题？谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-30T09:35:10.257

问题解决了。我必须使用我的模块的动态库实例。

# xcode - 在 Xcode LLDB 调试器中看不到光标

> ID：15873976
> 
> 赞同：4
> 
> 时间：2013-04-08T07:53:35.610
> 
> 标签：xcode, lldb

在 Xcode 的“所有输出”（即控制台）中，当我输入诸如`po someObject`永远看不到光标之类的东西时，我不知道当我想返回并添加一些方括号时我在哪里：

![在此处输入图像描述](https://i.stack.imgur.com/lyFBl.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-03-15T12:52:21.437

有同样的问题，原因是：Xcode 主题 - 背景和光标设置为相同的颜色。

# javascript - 仅获取标题下的所有标签

> ID：15873984
> 
> 赞同：5
> 
> 时间：2013-04-08T07:54:01.550
> 
> 标签：javascript, jquery, html-table

我有一个简单的 html 表，其中包含 thead、tbody 和 tfoot。我想只在thead中使用javascript或jquery选择所有标签。到目前为止，我找到了一种方法来获取表格中的所有内容或 thead 本身。

我的桌子：

```
 <table id="MyTbl" class="display">
                <thead>
                    <tr>
                        <th>
                            ID
                        </th>
                        <th>
                            Name
                        </th>
                        <th>
                            Desc
                        </th>
                    </tr>
                </thead>
                <tbody id="MyTableBody">
                </tbody>
                <tfoot>
                    <tr height="27px">
                        <th class="TDHMain">
                            FILTER ID
                        </th>
                        <th class="TDHMain">
                            FILTER NAME
                        </th>
                        <th class="TDHMain">
                            FILTER DESC
                        </th>
                    </tr>
                </tfoot>
            </table> 
```

我的JavaScript：

```
var table = document.getElementById('MyTbl');
var tableHeader = table.getElementsByTagName('thead');
var headers = tableHeader.getElementsByTagName('th'); //This one doesn't work. No such a method for the thead tag 
```

我还尝试了以下代码：

```
headers = $('#MyTbl').find('thead > th').get(); 
```

但结果我无法真正理解如何使用它......它不是一个数组，我得到的 headers 对象没有 foreach 函数，我真的找不到获取数据的方法.

有没有办法只得到表格中的第 th 个元素？

谢谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-08T08:04:47.393

您可以将所有文本推送到数组中：

```
var thArray = [];

$('#MyTbl > thead > tr > th').each(function(){
    thArray.push($(this).text())
}) 
```

然后像这样检索它：

```
thArray[0]; // This will give you ID 
```

**[演示](http://jsfiddle.net/Crf6k/)**

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-12-13T10:15:01.487

**没有 jQuery 2018**

```
let headers = document.querySelectorAll("#myTbl > thead > tr > th") 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-08T07:57:11.310

你可以这样做；

```
$('#MyTbl thead').find('th'); 
```

**或者**

```
$('#MyTbl thead th').each(function() {
    // Your code per th here
}); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-08T07:57:32.513

尝试

```
var tableHead = $('#MyTbl thead tr th'); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2018-12-13T10:54:31.047

使用 jQuery 正常的 CSS 选择器等`$('#MyTbl thead th')`作品。但是您也可以使用范围选择器。要使用范围选择器，您将范围作为第二个参数提及为

`$('th','thead').css('color','red');`

这里第二个参数`thead`提供了范围。例如看这个[小提琴](https://jsfiddle.net/mtnds18h/1/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-08T07:58:52.400

哦 ！我错过了“tr”。

我通过以下方式解决了它：

```
headers = $('#MyTbl').find('thead > tr > th').get(); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-06-19T06:28:49.733

更简单的方法来处理这个问题

```
 <table id="table1">
                    <thead>
                        <tr>
                            <th style='width: 80px'>Mon</th>
                            <th style='width: 80px'>Tue</th>
                            <th style='width: 80px'>Wed</th>
                            <th style='width: 80px'>Thr</th>
                            <th style='width: 80px'>Fri</th>
                            <th style='width: 80px'>Sat</th>
                            <th style='width: 80px'>Sun</th>
                        </tr>
                    </thead>
                    <tfoot>
                        <tr>
                            <td></td>
                        </tr>
                    </tfoot>
                    <tbody>
                    </tbody>
                </table>
    <script>
        $(document).ready(function () {
          test(  $('#table1'));
        });
       function test(table) {
            $.each($(table).find("th"), function (key, val2) {
                alert(val2.innerHTML);
                alert($(val2).html());
       });
    }
    </script> 
```

# mingw - 如何在 jspin 中指定 C 库的路径？

> ID：15873985
> 
> 赞同：0
> 
> 时间：2013-04-08T07:54:08.107
> 
> 标签：mingw, spin, promela

我正在使用 jspin 并尝试在 c_code 表达式中包含 stdio.h 库：

```
c_code
{
    #include <stdio.h>
} 
```

但是，我收到以下错误：

```
spin: error: No file 'stdio.h' 
```

我检查了安装 mingw 的目录，里面有 stdio.h。因此，我想，这都是关于错误的道路。如何在 jspin 中设置包含路径？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T16:23:13.777

尝试：

```
c_decl {
  \#include <stdio.h>
} 
```

这`\#`是关键部分（[对于 c_decl 的 Spinroot.com](http://bit.ly/12B7SIf)）。另外，使用`c_decl{}`因为`.h`文件不包含代码。

[编辑] 关于 fprintf() 不显示输出；我不能说我知道原因。我试过你的特定代码。结果如下：

```
ebg@ebg$ rm /tmp/foo.bar
ebg@ebg$ spin -a test.pml
ebg@ebg$ gcc -o test pan.c
ebg@ebg$ ./test
hint: this search is more efficient if pan.c is compiled -DSAFETY

(Spin Version 6.2.4 -- 21 November 2012)
    + Partial Order Reduction

Full statespace search for:
    never claim             - (none specified)
    assertion violations    +
    acceptance   cycles     - (not selected)
    invalid end states  +

State-vector 12 byte, depth reached 2, errors: 0
        3 states, stored
        0 states, matched
        3 transitions (= stored+matched)
        0 atomic steps
hash conflicts:         0 (resolved)

Stats on memory usage (in Megabytes):
    0.000   equivalent memory usage for states (stored*(State-vector + overhead))
    0.292   actual memory usage for states
  128.000   memory used for hash table (-w24)
    0.534   memory used for DFS stack (-m10000)
  128.730   total actual memory usage

unreached in init
    (0 of 2 states)

pan: elapsed time 0 seconds
ebg@ebg$ cat /tmp/foo.bar 
some str 
```

这是我使用的代码：

```
c_decl {
  \#include <stdio.h>
}

init {
  c_code {
    FILE *file;

    file = fopen ("/tmp/foo.bar", "a+");
    fprintf (file, "%s", "some str");
    fclose (file);
  }
} 
```

# ipad - didFinishLaunching 之前发生了什么，因为我的 iPad 应用程序在 ios 6.0.1 上启动需要将近 7-8 秒

> ID：15873989
> 
> 赞同：0
> 
> 时间：2013-04-08T07:54:29.533
> 
> 标签：ipad, ios6, launching-application

在 ios 6.0.1 上启动 iPad 后启动应用程序需要将近 7-8 秒，但在 ios5 上运行良好。它在来到 didFinishLaunchingWithOptions 之前挂在某个地方：。我不知道发生了什么，因为它在所有情况下都可以正常加载，除非我重新启动 iPad 并启动应用程序。

在检查设备控制台时，它开始查找 SecTurstEvaluate，这需要大约 7-8 秒，然后转到 main()，但在 ios 5.x 中它会在一秒钟内开始加载。

# project - 如何在 Mule 独立（服务器）中停止 mule 项目？

> ID：15873995
> 
> 赞同：1
> 
> 时间：2013-04-08T07:54:49.730
> 
> 标签：project, mule

我是 Mule 的初学者如何在 Mule 独立（服务器）中停止 Mule 项目？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T15:08:11.447

You can undeploy any application by removing the [anchor file](http://www.mulesoft.org/documentation/display/current/Application+Deployment)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-12-12T02:12:46.270

您可以删除锚文件或单击取消部署应用程序

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-05-02T10:58:26.763

请删除anchor.txt文件，它将停止应用程序

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-04-07T08:11:24.863

删除 anchor.txt 文件，它将取消部署应用程序

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-09T12:46:50.850

您也可以在运行 mule 的命令窗口中按 ctrl+c，然后按 Y 并在出现提示时按 Enter - 这将导致关机。移除锚也可以

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2017-11-29T07:28:25.957

如果您使用 STandalone 部署，请确保您应该从应用程序文件夹中删除 -Anchor.txt 文件并重新运行 mule.bat 文件以重新启动服务器。它将自动从服务器取消部署应用程序。

请浏览我的视频。

[https://www.youtube.com/watch?v=Ngf_IVXSTAc](https://www.youtube.com/watch?v=Ngf_IVXSTAc)

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2017-12-05T08:59:18.000

请执行以下任一操作：删除anchor.txt文件或取消部署应用程序或终止任务管理器中的进程

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2015-12-03T14:57:51.850

从任务管理器中杀死进程

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2015-08-05T10:18:42.713

如果您使用 tomcat 作为独立服务器

> C:>tomcat6 /ss/tomcat6

其中 /SS/ - 停止服务。停止 Tomcat Windows 服务（如果正在运行）。tomcat6 是服务名，你可以使用你自定义的服务名

# vector - 将方向向量转换为四元数旋转

> ID：15873996
> 
> 赞同：18
> 
> 时间：2013-04-08T07:54:50.600
> 
> 标签：vector, 3d, quaternions

我可以找到很多关于将四元数转换为方向向量的问题，但没有一个相反的方法让我觉得我做错了什么，但请耐心等待。

我要做的只是使用箭头模型显示定向光的方向。

定向光的方向是单位矢量，但模型使用四元数旋转。

所以..我如何旋转这个模型以匹配光的方向？

还是我疯了，我真的不能那样做，因为灯光没有位置，但模型有？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-04-08T10:11:16.787

方向向量不是定义的旋转，它仍然有无限数量的可能解。请参阅没有关于如何围绕轴旋转的信息。第二，向量是可能的，因为向量和旋转（具有有意义的中心）以及实际上是完全定义的矩阵。

因为在您的情况下，旋转毫无意义，只需使用向上矢量作为参考（除非您的光线自上而下发光，反之亦然，否则您需要另一个参考）。

因此，将方向向量 D 和上向量 U 的叉积作为侧向量 S ，然后将 D 和 S 交叉以获得新的 U [n]。然后使用 D, U [n] , S 作为行（或列，具体取决于您的计算规则的设置方式）作为矩阵。矩阵到四元数是众所周知的数学。

# java - 在java中将double值四舍五入为两位有效数字

> ID：15873999
> 
> 赞同：0
> 
> 时间：2013-04-08T07:54:53.487
> 
> 标签：java, android, rounding, number-formatting

我想得到一个函数，现在我使用下面的函数将双精度值四舍五入为两位有效数字

```
private static DecimalFormatSymbols DFS;
private static DecimalFormat myFormatter;
public static String DoubleToFormatedString(double value) {
    DFS = new DecimalFormatSymbols();
    DFS.setDecimalSeparator('.');
    myFormatter = new DecimalFormat("############.##");
    myFormatter.setDecimalFormatSymbols(DFS);
    return myFormatter.format(value);
} 
```

但是有了这个函数，例如：我得到一个四舍五入的数字 2.6，我需要得到这个像 2.60。'0' 应该出现在 1 个有效数字的右侧。应该做出什么改变？或任何其他方式请帮助我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T08:02:24.183

如下替换您的格式化程序

```
myFormatter = new DecimalFormat("#.00"); 
```

有关更多详细信息，您可以参考这个 SO 问题：[Format double to 2 decimal places withleading 0s](https://stackoverflow.com/questions/3973763/format-double-to-2-decimal-places-with-leading-0s)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:57:04.220

尝试

```
new DecimalFormat("#.00"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T08:01:18.623

是的，只需使用

```
DecimalFormat myFormatter = new DecimalFormat("#.00"); 
```

代替

```
 DecimalFormat myFormatter = new DecimalFormat("############.##"); 
```