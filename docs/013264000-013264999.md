# StackOverflow 问答 13264000-13264999

# fortran - 需要复杂的 fortran 格式语句的示例？

> ID：13264000
> 
> 赞同：0
> 
> 时间：2012-11-07T06:02:22.270
> 
> 标签：fortran

我正在尝试用 C# 编写一个数据解析器，以便在将 fortran 程序转换为 .NET 时使用。这个东西通过获取一个文件、fortran 格式字符串和一个变量数组来填充文件的结果。

我正在寻找一些真实和复杂的 fortran 格式语句的示例。最好有很多嵌套、重复、文字字段等。这基本上会破坏我的代码。

请不要建议我自己编造它们，我已经这样做了，并且惊喜现在就像一种魅力。我没有足够的 Fortran 经验来了解格式语句变得非常复杂时的样子。

如果有人有一些他们不介意分享的例子，即使只是一个例子，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T15:32:11.997

我想我会向您指出一些可能会有所帮助的资源： [SO](https://stackoverflow.com/questions/1126324/fortran-write)。另一个 [更通用] 并且有几个代码示例[2](http://www.cs.mtu.edu/~shene/COURSES/cs201/NOTES/chap05/format.html)。您应该澄清您的目标是哪个版本的 Fortran。希望这可以帮助您继续前进。

# r - R、rbinom()、NA 和矩阵：如何忽略 NA 并保留它们

> ID：13264001
> 
> 赞同：0
> 
> 时间：2012-11-07T06:02:23.067
> 
> 标签：r, matrix

我通过二项式概率表达式将一些值放入矩阵中。问题是我有一些 NA 值需要保留在我的矩阵中，但是 rbinom() 在输入 NA 时返回错误。

我的算法包括以下内容：

*   (1) 从一列中的值矩阵开始。
*   (2) 将该矩阵中的值加倍。
*   (3) 从 0.5 的二项式概率中选择一个随机值。
*   ......还有一些不必要的东西

这是一个可重现的例子。

```
set.seed(10)
xn <- matrix(c(NA, 100, 100, 100, 100, NA, NA, 100, 100, NA), byrow=TRUE, ncol=2)
dup <- xn * 2 
z <- matrix(rbinom(n=rep(1,length(dup)), size = as.vector(dup), prob = 0.5), nrow = nrow(dup))
Warning message:
In rbinom(n = rep(1, length(dup)), size = as.vector(dup), prob = 0.5) :
  NAs produced 
```

我考虑只选择矩阵中具有实际值的值。

```
set.seed(6)
xn_bin <- rbinom(n=rep(1,length(dup[-which(is.na(dup))])), size = as.vector(dup[-which(is.na(dup))]),prob = 0.5) 
```

我不知道如何将矩阵重新组合在一起，因为我需要从 xn_bin 获取结果并将它们放回新矩阵中的相同位置，因为 dup 值被输入到 rbinom()。

如果这没有任何意义。xn_bin 将给出值： xn_bin [1] 101 115 112 98 103 103

dup 将给出：

```
dup
     [,1] [,2]
[1,]   NA  200
[2,]  200  200
[3,]  200   NA
[4,]   NA  200
[5,]  200   NA 
```

我希望最终矩阵具有来自 xn_bin 的值和来自 xn 的 NA 值：

```
 [,1] [,2]
[1,]   NA   101
[2,]   115  112
[3,]   98   NA
[4,]   NA   103
[5,]   103  NA 
```

知道如何有效地做到这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:45:58.563

请注意，顺序不一样，但矩阵结构中的位置是所需的，因为这是一个不应该由位置确定的随机过程，我不明白为什么这个结果不像你的排序那样有效（R 矩阵被填充按列而不是按行）：

```
 xn_bin <- z

 set.seed(6)
 xn_bin[ !is.na(z) ] <- rbinom(n=rep(1,length(dup[-which(is.na(dup))])), 
                               size = as.vector(dup[-which(is.na(dup))]),prob = 0.5)
 xn_bin
     [,1] [,2]
[1,]  NaN   98
[2,]  101  103
[3,]  115  NaN
[4,]  NaN  103
[5,]  112  NaN 
```

# javascript - uiwebview 需要时间来加载 html javascript 文件

> ID：13264006
> 
> 赞同：2
> 
> 时间：2012-11-07T06:02:58.540
> 
> 标签：javascript, iphone, ios, html, uiwebview

我正在使用`UIWebview`加载 html5 动画，`javascript`但它在开始加载页面之前需要大约 10-15 秒。

```
 newdemo = [[UIWebView alloc]initWithFrame:CGRectMake(185.0, 216.0, 180, 180)];
    newdemo.backgroundColor = [UIColor clearColor];
    newdemo.opaque = NO;
    [self.view addSubview:newdemo];

    url1 = [NSURL fileURLWithPath:[[NSBundle mainBundle] pathForResource:@"A" ofType:@"html"] isDirectory:NO];
    [newdemo stringByEvaluatingJavaScriptFromString:@"function (lib, img, cjs)"];
    req1=[NSURLRequest requestWithURL:url1]; 
```

我正在使用以下代码`html`在我的“newdemo”中加载页面，`UIWebView`并尝试在其中实现此代码`viewDidLoad`但没有快速响应，并且还尝试在其中使用此代码`viewWillAppear`但没有成功。任何帮助，将不胜感激...

# java - 从 ListView 获取选定的元素

> ID：13264017
> 
> 赞同：19
> 
> 时间：2012-11-07T06:03:41.023
> 
> 标签：java, gridview, javafx-2

我`ListView`使用数据库搜索的结果修改 a，以便稍后使用该选择发出另一个数据库请求。

我想得到那个的字段值`ListView`。我可以使用什么方法呢？

我只是想我也可以添加一个事件`onclick`并将其保留在控制器的属性上。这也可以接受吗？

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2012-11-07T13:32:39.563

用这样的列表视图说：

```
ListView<String> listView =new ListView<String>(); 
```

从 ListView 中获取选定的元素：

```
listView.getSelectionModel().getSelectedItem(); 
```

跟踪（监听）列表视图选择的变化：

```
listView.getSelectionModel().selectedItemProperty().addListener(new ChangeListener<String>() {
    @Override
    public void changed(ObservableValue<? extends String> observable, String oldValue, String newValue) {
        System.out.println("ListView selection changed from oldValue = " 
                + oldValue + " to newValue = " + newValue);
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-12-01T09:02:08.317

您可以制作自定义事件处理程序，首先制作一个类来处理鼠标事件。

```
import javafx.event.EventHandler;
import javafx.scene.input.MouseEvent;

class ListViewHandler implements EventHandler<MouseEvent> {
    @Override
    public void handle(MouseEvent event) {
        //this method will be overrided in next step
    }
 } 
```

完成课程后，前往您希望活动发生的地方

```
 list.setOnMouseClicked(new ListViewHandler(){
        @Override
        public void handle(javafx.scene.input.MouseEvent event) {
            System.out.print(list.getSelectionModel().getSelectedIndex());
        }
 }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-09-05T15:10:17.370

JFXtras 有一个扩展 ListView 的类，它有一个名为 selectedItemProperty 的属性，我发现它很方便。

[http://jfxtras.org/overview.html#_listview](http://jfxtras.org/overview.html#_listview)

# asp.net-mvc - MVC 4 - 在收集表单数据时将参数从 URL 传递给控制器

> ID：13264018
> 
> 赞同：0
> 
> 时间：2012-11-07T06:03:58.317
> 
> 标签：asp.net-mvc, controller, asp.net-mvc-4, http-post, parameter-passing

我的视图上有一个包含 2 个字段的表单。用户单击提交按钮，将查询特定于该用户的一些数据以及他们在表单中输入的数据。用户的电子邮件地址通过 URL 传递。（例如 ActionName?user_email=yaddd@yyy.com） 我需要从 URL 收集表单数据和电子邮件并将其传递给我的控制器。

我需要从我的数据库中查询数据并向用户显示一条消息。

我找不到关于这个问题的任何好的链接或网站。

这是我到目前为止所尝试的：

```
 [HttpPost]
    public ActionResult Collect(String s1, String s2, string user_email)
    {}
    and 
    [HttpPost]
    public ActionResult Collect(FormCollection fm, string user_email)
    {} 
```

他们似乎根本不收集表单数据。你有什么建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:57:35.413

您是否在同一个控制器中处理请求？只是想知道您是否正在路由到正确的控制器。

否则，您可以尝试使用：

```
[HttpPost]
public ActionResult Collect( /* Your input parameters */ )
{
   string email = Request.QueryString["user_email"];
   // Code
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T09:59:02.707

您是否考虑过使用模型绑定？理想情况下，我会对您在表单中发送的数据使用模型绑定，并对查询字符串使用操作参数。所以在你的情况下，我会定义一个如下所示的模型

```
public class MyModel
{
    public string S1 {get; set;}
    public string S1 {get; set;}
} 
```

然后将动作定义为

```
[HttpPost]
public ActionResult Collect(MyModel model, string user_email)
{
} 
```

这一直对我有用。试一试，如果它不起作用，请告诉我

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T05:59:29.370

这个终于成功了！

```
[HttpPost]
public ActionResult Collect(MyModel model)
{

string email = Request.QueryString["user_email"];
// Code

} 
```

# performance - 如何在 SAS DATA Step 中测试 IO 吞吐量？

> ID：13264020
> 
> 赞同：3
> 
> 时间：2012-11-07T06:04:07.230
> 
> 标签：performance, optimization, sas, performance-testing

我想测试一下系统选项是否`bufno`能`bufsize`提高数据集的有效性。

这是测试代码：

```
 options bufno=1  bufsize=16k;
    %atstart;
    data target.dds_dep_pagesize16k;
        set tune.dds_dep_pagesize16k(obs=2000000);
    run;
    %atend;

    options bufno=100  bufsize=32k;
    %atstart;
    data target.dds_dep_pagesize16k;
        set tune.dds_dep_pagesize16k(obs=2000000);
    run;
    %atend;
    ...
    ... 
```

`%atstart`并`%atend`用于计算它们之间程序的运行时间。

如果数据集的大小约为 800 Mb，那么变化对运行时间的影响很小`bufno`。`bufsize`

不过很多论文都说`bufno`可以`bufsize`优化程序。也许是因为我在同一个 SAS 会话中运行所有代码，所以我没有准确测量。我的问题是：我是否**应该在单独的会话中测试每个代码运行时间，是否需要选择更大的数据集？**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T06:54:21.710

如果数据集非常大，BUFSIZE 通常只会在增加时提高性能，并且非常大的意思是除了有很多行之外，一行中还有很多数据。它的作用是确定每次通过时读取多少数据；毕竟，如果你有 80 字节的行，4096 的 bufsize 甚至会读取大量的观察结果。另一方面，如果您有 2056 字节的行，那么 4096 页面将只包含一个观察；所以你必须为每个观察阅读一个新页面，这很慢。

除非您使用的是 SGIO，否则 BUFNO 没有任何价值，据我回忆，通常不推荐使用它。

具体回答最后一个问题：无需为这些选项启动新的 SAS 会话。如果您有更大的数据集，BUFSIZE 可能会有一些额外的好处。

一般来说，我建议您更多地关注您的代码而不是系统选项来优化您的运行。只要您使用较大的内存空间（在您的机器上尽可能多，至少几 GB），您可能不会从处理系统选项中获得太多收益。如果您可以消除一些数据传递，您将获得更多。

一个例外是 SORTSIZE - 将其设置为 MEMSIZE 的 1/3。如果你有 2GB MEMSIZE，那么 SORTSIZE 应该是 667M。这决定了您可以在内存中对多大的数据集进行排序，并且由于某种原因通常非常小。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T09:21:00.163

谈到任何严重的数据处理活动，我认为这总是发生在某个磁盘阵列上——这可能是很多事情，但至少这意味着有几个磁盘采用某种 RAID 格式。因此，要优化 SAS I/O 性能一直到磁盘，您必须考虑存储技术。

在这里，BUFSIZE 选项非常有用，可以使应用程序 I/O 模式与存储特性保持一致。最常见的情况是使用 RAID10 或 RAID5 格式，其中数据以特定大小的块分布在磁盘上 - 最好让 BUFSIZE 与此块大小或条带大小对齐（1:1 或倍数）。您应该向您的存储管理员咨询此大小 - 它需要 64kB 及其倍数。

对于像 RAID5 这样的奇偶校验 RAID 格式，数据分布在磁盘上加上奇偶校验计算，因此最好始终将数据写入这样的块中，以便所有磁盘都得到更新并立即计算它们的奇偶校验（没有部分更新）。

因此，为简单起见，对于奇偶校验磁盘，您可以将 BUFSIZE 设置为条带大小乘以（阵列中的磁盘数减 1）。或者，您可以尝试将其与 BUFNO 结合以实现倍数。

关于 SAS I/O 的非常好的文档：[为 SAS 9 应用程序配置 IO 子系统的最佳实践](http://support.sas.com/rnd/papers/sgf07/sgf2007-iosubsystem.pdf)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T18:27:45.460

我不相信 SAS 会报告磁盘 I/O 使用情况。假设您在 Windows 中运行，则必须使用诸如性能监视器之类的程序（开始->运行->键入“perfmon”），或者为了获得简单的视觉效果，您可以使用[进程资源管理器](http://technet.microsoft.com/en-us/sysinternals/bb795535)（类似于任务管理器，但显示磁盘/network IO 等更详细）。

IMO 最小化 I/O 的最简单方法是（按奖励顺序）：

1.  使用压缩
2.  （正如 Joe 建议的那样）尽量减少程序解析数据的次数（如果需要多个步骤，请考虑将视图用于中间步骤）
3.  确保您的变量不超过所需的长度。删除任何不必要的变量。

# google-analytics - Google Analytics - 配置文件过滤器以排除子域组

> ID：13264021
> 
> 赞同：1
> 
> 时间：2012-11-07T06:04:14.203
> 
> 标签：google-analytics, analytics

我们想从我们的配置文件中排除测试/演示子域的列表。例如，subdomain.domain.com 配置文件显示来自以下子子域的流量：test.subdomain.domain.com、demo1.subdomain.domain.com 和 demo2.subdomain.domain.com。显示来自测试和排除 IP 地址的大量流量是不可行的，因为许多地方的许多员工总是在变化。

我们为每个子域设置了不同的配置文件，每个子域都添加了以下包含过滤器，`subdomain\.domain\.com`因此我们可以控制每个部门可以访问的配置文件，仅在报告中显示其子域流量。

以下是否可以作为每个子域配置文件的“排除”过滤器：过滤器字段：主机名过滤器模式：`.*\.subdomain\.domain\.com`

如果此方法不正确，如果您能分享一个适当的方法，将不胜感激。

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:34:56.920

`.*\.subdomain\.domain\.com`工作了一个款待。如果有人也有兴趣测试他们的正则表达式/过滤器，[这里有一篇关于 quora 的好帖子](http://www.quora.com/Is-there-a-way-to-test-Google-Analytics-filters)

# php - 如何获取本地网络中使用 php 从本地服务器访问网页的系统的 IP 地址

> ID：13264022
> 
> 赞同：0
> 
> 时间：2012-11-07T06:04:16.690
> 
> 标签：php, lan

我有一个通过代理服务器连接到互联网的本地网络，代理服务器 IP 地址是`192.168.0.1`。网络中的所有系统手动分配 IP 地址，如 192.168.0-6.1-255 ，子网掩码 255.255.248.0，`Default gateway 192.168.0.1`

我在本地网络中创建了另一台服务器，用于在本地访问我的网站，其 IP 地址为`192.168.0.25`，子网掩码 255.255.255.0，默认网关 192.168.0.25

本地网络中的所有系统现在都可以使用该地址访问该网站

`http://192.168.0.25/`

我必须跟踪访问我网站的所有系统，所以我使用了`$_SERVER['REMOTE_ADDR']` php 中的函数。但是我得到的所有访问我网站的系统的 IP 地址与代理服务器 IP 地址（`192.168.0.1`）相同。

请帮我获取每个系统的正确 IP 地址。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:27:17.523

```
function getRealIpAddr()
{
    if (!empty($_SERVER['HTTP_CLIENT_IP']))  
    {
      $ip=$_SERVER['HTTP_CLIENT_IP'];
    }
    elseif (!empty($_SERVER['HTTP_X_FORWARDED_FOR'])) 
    {
      $ip=$_SERVER['HTTP_X_FORWARDED_FOR'];
    }
    else
    {
      $ip=$_SERVER['REMOTE_ADDR'];
    }
    return $ip;
}

echo $userIP = getRealIpAddr(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:06:38.083

尝试这个

```
if (!empty($_SERVER['HTTP_CLIENT_IP'])) {   //check ip from share internet
        $ip = $_SERVER['HTTP_CLIENT_IP'];
    } elseif (!empty($_SERVER['HTTP_X_FORWARDED_FOR'])) {   //to check ip is pass from proxy
        $ip = $_SERVER['HTTP_X_FORWARDED_FOR'];
    } else {
        $ip = $_SERVER['REMOTE_ADDR'];
    } 
```

# performance - 协商移动应用程序的流量速度 - 算法？

> ID：13264027
> 
> 赞同：1
> 
> 时间：2012-11-07T06:04:52.493
> 
> 标签：performance, algorithm, statistics, traffic

我们有 2 台设备 - iPad A 和 iPad B。两者都使用旨在发送音频/视频数据的相同应用程序。

有时设备彼此相距很远，流量通过互联网而不是本地网络。

在这种情况下，我们无法保证两端的网络速度相同。一台设备发送 512Kb/s 的速度可能比另一台低 5 倍。

问题是——

是否可以实时测量两个设备之间的流量并在需要时放大/缩小。例如，如果我知道设备 A 在这个给定时刻只有 256kb/s 的传入连接，那么设备 B 应该自动从 1mb/s 缩减到 256kb/s

目前我们实施的解决方案是通过识别丢失的数据包来检测流量/速度下降。但这并不完美。

也许您已经阅读了某些内容或有想法？

提前致谢， 德米特里

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:26:58.223

如果您使用[TCP](http://en.wikipedia.org/wiki/Transmission_Control_Protocol)作为您的网络层 - 该协议已经在其[流量控制](http://en.wikipedia.org/wiki/Transmission_Control_Protocol#Flow_control)中为您完成了它。该协议还确保数据包将到达其目的地¹

如果您出于某种原因不使用 TCP，则可以遵循协议使用的想法 - 使用它的滑动窗口（维基百科文章描述了这个想法的概念）。

但是，由于您可能需要可靠的连接 - 并且您还希望因此确保流量速度 - 我建议使用现成的解决方案并选择 TCP 作为您的网络协议。

* * *

(1) 在一定限度内，经过多次失败的试验后，包裹将被丢弃 - 但这种情况很少发生在 AFAIK 中。

# jmeter - 如何让 JMeter 为工作流创建同步 HTTP 请求？

> ID：13264033
> 
> 赞同：1
> 
> 时间：2012-11-07T06:05:32.977
> 
> 标签：jmeter, load-testing

我有一个工作流程，其中涉及保存一些数据，然后在几秒钟后更新它。我创建了一个带有如下参数的 CSV 文件：

```
ID,Success
1,true
2,false
3,true
4,false
5,true 
```

等等等等。第一个 HTTP 请求是保存一个新 ID：

```
POST http://server/save
{ id: 1 } 
```

第二个 HTTP 请求使用以下状态更新 ID：

```
POST http://server/update/
{ id: 1, success: true } 
```

我创建了一个 JMeter 测试来对这个工作流程进行基准测试。我通过以下步骤创建了一个**线程组：**

```
1\. Do save request
2\. Wait a random period between 5 and 30 seconds
3\. Do update request 
```

我已将**线程组**设置为一次使用 2 个线程作为初始测试。但是，我注意到发生的事情实际上是这样的：

```
Thread 1
----------------------------------------------------
| 1\. Do save request                               |
| 2\. Wait a random period between 5 and 30 seconds |
| 3\. Do an update request                          |
|--------------------------------------------------|

Thread 2
----------------------------------------------------
| 1\. Do save request                               |
| 2\. Wait a random period between 5 and 30 seconds |
| 3\. Do an update request                          |
|--------------------------------------------------| 
```

问题是，我真正想做的是确保始终有 2**个同时**向服务器发出的 HTTP 请求。在这种情况下，它产生 2 个线程并作为一个线程运行整个工作流，这意味着我无法保证服务器上的特定负载。我希望它做的是：

```
Thread 1
-------------------------------------------------------
|                                                     |
|  HTTP request                                       |
|  **********************************************     |
|  * 1\. Do save request                         *     |
|  **********************************************     |
|                                                     |
|    2\. Wait a random period between 5 and 30 seconds |
|                                                     |
|  HTTP request                                       |
|  **********************************************     |
|  * 3\. Do update request                       *     |
|  **********************************************     |
|                                                     |
|-----------------------------------------------------| 
```

有没有一种方法可以编写我的 JMeter 测试，以确保服务器上始终有 2 个同时发生的 HTTP 请求？此外，更新请求**必须**在保存请求之后发生，否则 ID 将不存在。

这是我的 JMeter 测试的图像：

![](../Images/b8f02bd76265eddd727f9688154c9261.png)

**while**控制器只处理 CSV 文件中的每一行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:36:08.453

我很抱歉地说我不明白你的问题。您到底想实现什么，特别是在您上一个工作流程描述中。

无论如何，如果您注意到您没有同时请求 2 个线程，因为您的暂停时间很长且只有 2 个线程，所以这些请求可以完全正常。

尝试使用 100 个线程，您会看到同时有请求。

关于您的测试计划的一些说明：

*   您不需要 while 控制器迭代 CSV，只需将线程组中的迭代设置为无限

*   加载测试时删除查看树结果和响应时间图

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:50:49.823

降低线程组中线程的“加速”周期（给它 0 秒）。这意味着它们将同时启动。

# c - 仅使用 C 函数编写简单的停车费计算器

> ID：13264037
> 
> 赞同：-1
> 
> 时间：2012-11-07T06:05:53.083
> 
> 标签：c, function, calculator

我被分配了以下任务：

> 编写一个函数（包括文档），给定车辆在停车场的进出时间以及每小时费率，计算应付金额。
> 
> 假设：
> 
> 1.  禁止过夜停车
> 2.  部分小时不收费
> 3.  时间以军事风格给出（下午 1:20 是 1320）
> 
> 您还必须为您的函数编写一个测试驱动程序：在 main() 中根据需要声明和初始化尽可能多的变量，然后调用函数并显示数量。

这是代码：

```
int calcRate (int entry , int exit);

int main (void)
{
    // Local Declarations
    int entry;
    int exit;

    //Statements
    printf("Please Enter Entry and Exit time(In military style. For example : 9.30am as
           0930)\n");
    scanf("%d %d\n",&entry , &exit);

    double fee = calcRate(entry,exit);

    printf("Your Parking Fees are %f\n", fee);

    return 0;
}   //main

/*==============calcRate================
 This function calculates the cost of parking
 */

double calcRate (int entry,int exit,double cost)
{
    int hours;
    double rate = 2.00;
    //Statements
    hours = (exit-entry)/100;
    cost = hours * rate;

    return (cost);
}
//calcRate 
```

我无法构建它，我面临着它的问题。例如，我收到以下错误：

> 架构 x86_64 的未定义符号：“calcRate(int, int)”，引用自：Parking.o 中的 _main（也许您的意思是：calcRate(int, int, double)

我现在被困了将近2个小时。有善良的灵魂吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:11:16.230

函数声明和定义的区别

函数声明

```
int calcRate (int entry , int exit); 
```

定义标题

```
double calcRate (int entry,int exit,double cost) 
```

所以要么更改声明或定义标题

例如：将定义标题更改为

```
int calcRate(int entry,int exit) 
```

并添加声明

```
double cost 
```

在函数 calcRate 中。

代替

```
 printf("Please Enter Entry and Exit time(In military style. For example : 9.30am as 0930)\n");
  scanf("%d %d\n",&entry , &exit); 
```

做

```
 printf("Please Enter Entry (In military style. For example : 9.30am as 0930)\n");
 scanf("%d",&entry);
 printf("\n Please exit Entry (In military style. For example : 9.30am as 0930)\n");  
 scanf("%d",&exit); 
```

扫描中没有“\n”。

**编辑：**

在夜间停车的情况下

代替

```
hours = (exit-entry)/100; 
```

采用

```
if(exit>entry)
    hours = (exit-entry)/100;
else
    {
        int overnightHours;
        overnightHours = (entry-exit)/100;
        hours=2400-overnightHours;
    } 
```

这将删除负值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:19:06.823

试试这个：：

```
#include <stdio.h>

void calcRate (int entry , int exit, double *cost);

int main (void)
{
    int entry;
    int exit;
    double cost=0 ;

    printf("Please Enter Entry time(In military style. For example : 9.30am as 0930)\n");
    scanf("%d", &entry);
    printf("Please Enter Exit time(In military style. For example : 9.30am as 0930)\n");
    scanf("%d", &exit);

    calcRate(entry,exit,&cost);
    printf("Your Parking Fee is %lf\n", cost);
    return 0;
}   

void calcRate (int entry , int exit, double *cost)
{
    double hours;
    double rate = 2.00;

    hours = (double)(exit-entry)/100 ; //you need to convert your HRS correctly, ex-     entry=0930, exit=1000\. cost should be 1.000 but your code will print 1.4000
    *cost = hours * rate;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T06:32:20.293

```
int calcRate (int entry , int exit);

int main (void)
{
// Local Declarations
int entry;
int exit;

//Statements
printf("Please Enter Entry time (In military style :  0930)\n");
scanf("%d",&entry);

printf("Please Enter Exit time (In military style :  0930)\n");
scanf("%d"&exit); 
```

也不`\n`需要在`scanf()`

```
double fee = calcRate(entry,exit);

printf("Your Parking Fees are %lf\n", fee); 
```

需要`%lf`，因为费用是`double`

```
return 0;
}  

double calcRate (int entry,int exit)
{
double cost;
double hours;
double rate = 2.00;
//Statements
hours = ((double)(exit-entry))/100; 
```

在这里你已经完成了`integer division`这可能会导致错误。所以将小时设为`double`.

```
cost = hours * rate;

return cost;

} 
```

# c# - C# 日期之间的月份和日期

> ID：13264038
> 
> 赞同：4
> 
> 时间：2012-11-07T06:05:54.683
> 
> 标签：c#, datetime

我有一个月和日列表，我需要在给定日期之间搜索此列表中的每个月和日。任何人都可以建议我做最好的方法来获得所需的输出。

例如：

> 月日列表 -> 01/11、03/15、05/25、09/01
> 
> 日期之间 -> 2012 年 1 月 1 日至 2013 年 7 月 1 日

预期结果：

> 2012 年 1 月 11 日，2013 年 1 月 11 日
> 
> 2012 年 3 月 15 日，2013 年 3 月 15 日
> 
> 2012 年 5 月 25 日，2013 年 5 月 25 日
> 
> 2012 年 9 月 1 日

我试过这样，但如果从日期到迄今为止有年数的差距，它会给内存异常和时间和内存复杂性增加，有没有快速的解决方案来获得它？

```
DateTime[] dateDates = new DateTime[dateTypeList.Rows.Count];
//convert strings to datetimes:
for (int i = 0; i < dateTypeList.Rows.Count; i++)
{
    dateDates[i] = Convert.ToDateTime(Convert.ToDateTime(string.Format("{0}/{1}", Convert.ToInt32(dateTypeList.Rows[i]["Month"]), Convert.ToInt32(dateTypeList.Rows[i]["Day"]))));
}

//define start and end time:
DateTime dateStart = new DateTime(2012, 1, 1);
DateTime dateEnd = new DateTime(2013, 7, 1);

List<DateTime> results = new List<DateTime>();
//loop days between start and end time:
for (DateTime a = dateStart; a <= dateEnd; a.AddDays(1))
{
    for (int i = 0; i < dateDates.Length; i++)
    {
        if (dateDates[i] == a)
        {
            results.Add(a);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T07:18:38.663

编辑：好的，现在我看到了更多关于你想要实现的目标。

所以你有输入：

*   开始日期和结束日期
*   A list of month/day pairs. Currently you don't *actually* have this, but that's what you've logically got.

Your current code doesn't take account of the fact that there can be multiple years at all.

First, let's transform your data table appropriately:

```
var monthDays = dateTypeList.Rows.AsEnumerable()
                            .Select(row => new { Month = row.Field<int>("Month")
                                                 Day = row.Field<int>("Day") })
                            .ToList(); 
```

Now you can use:

```
for (int year = startDate.Year; year <= endDate.Year; year++)
{
    foreach (var pair in monthDays)
    {
        // Avoid creating a date which doesn't exist...
        if (!DateTime.IsLeapYear(year) && pair.Month == 2 && pair.Day == 29)
        {
            continue;
        }
        DateTime date = new DateTime(year, pair.Month, pair.Day);
        if (date <= startDate && date <= endDate)
        {
            results.Add(date);
        }
    }
} 
```

* * *

This is the immediate problem:

```
for (DateTime a = dateStart; a <= dateEnd; a.AddDays(1)) 
```

DateTime is immutable, so `AddDays` has no effect if you don't use the return value. You want:

```
for (DateTime a = dateStart; a <= dateEnd; a = a.AddDays(1)) 
```

I'd also change this code:

```
dateDates[i] = Convert.ToDateTime(
  Convert.ToDateTime(string.Format("{0}/{1}", 
      Convert.ToInt32(dateTypeList.Rows[i]["Month"]), 
      Convert.ToInt32(dateTypeList.Rows[i]["Day"])))); 
```

*   It's going via a string representation for no reason
*   It's calling `Convert.ToDateTime` twice for no reason
*   It's *assuming* that the system date format is month/day, which is culture-specific

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T07:20:05.463

```
public class Class1
{
    public static void Main()
    {
        var dayList = new List<customMonthDay>{
            new customMonthDay{ Day = 11, Month = 1 },
            new customMonthDay{ Day = 15, Month = 3 },
            new customMonthDay{ Day = 25, Month = 5 },
            new customMonthDay{ Day = 1, Month = 9 }
        };

        var startDate = new DateTime( 2012, 1, 1 );
        var endDate = new DateTime( 2013, 7, 1 );

        var listYears = getYears(startDate, endDate);

        var includedDays = new List<customMonthDayYear>();

        foreach (var year in listYears)
        {
            foreach (var day in dayList)
            {
                var candidateday = new customMonthDayYear { Year = year, Month = day.Month, Day = day.Day };
                if (candidateday.ToDateTime() > startDate && candidateday.ToDateTime() < endDate)
                    includedDays.Add(candidateday);
            }
        }

        includedDays.ForEach(x => Console.WriteLine(x.ToDateTime().ToString()));
    }

    protected static List<int> getYears(DateTime start, DateTime end)
    {
        var years = new List<int>();
        int diff = end.Year - start.Year;
        for ( int i = 0; i <= diff; i++ )
        {
            years.Add( start.Year + i );
        }
        return years;
    }

    public class customMonthDay
    {
        public int Day { get; set; }
        public int Month { get; set; }
    }

    public class customMonthDayYear : customMonthDay
    {
        public int Year { get; set; }

        public DateTime ToDateTime()
        {
            return new DateTime(Year, Month, Day);
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T06:43:33.337

使用以下：

```
for each date in list

 a.Equals(date) or a.CompareTo(date) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T09:19:31.830

**This works for me, but is there any way still we can reduce this one by using linq or something?**

```
private List<DateTime> GetDates(DataTable dateTypeList, DateTime fromDate, DateTime toDate)
        {
            List<DateTime> results = new List<DateTime>();
            fromDate = Convert.ToDateTime(fromDate.ToShortDateString());
            toDate=Convert.ToDateTime(toDate.ToShortDateString());

            int minDay = fromDate.Day;
            int minMonth = fromDate.Month;
            int minYear = fromDate.Year;
            int maxDay = toDate.Day;
            int maxMonth = toDate.Month;
            int maxYear = toDate.Year;
            for (int j = minYear; j <= maxYear; j++)
            {
                for (int i = 0; i < dateTypeList.Rows.Count; i++)
                {

                    int _day = Convert.ToInt32(dateTypeList.Rows[i]["Day"]);
                    int _month = Convert.ToInt32(dateTypeList.Rows[i]["Month"]);
                    DateTime tempDate = new DateTime(j, _month, _day);
                    if ((tempDate >= fromDate) && (tempDate <= toDate))
                    {
                        results.Add(tempDate);
                    }

                }
            }

            return dateTypeList;
            throw new NotImplementedException();
        } 
```

# php - Wordpress 模板 - “可捕获的致命错误：__PHP_Incomplete_Class 类的对象无法转换为字符串”

> ID：13264041
> 
> 赞同：0
> 
> 时间：2012-11-07T06:06:00.763
> 
> 标签：php, wordpress

我正在使用最新版本的 Wordpress，在撰写新帖子时，我收到以下错误，而不是位于写作区域下方的可选框：

> 可捕获的致命错误： __PHP_Incomplete_Class 类的对象无法在第 466 行的 /home/xxx/public_html/wp-content/themes/xxx/functions/meta-boxes.php 中转换为字符串

我粘贴了下面的问题代码，取自 meta-boxes.php

另外，在下面，我对第 466 行代码进行了评论，让您知道错误所在的位置：

```
 <?php  
    // get review-specific meta fields
    global $oswcPostTypes; 
    $postTypeId = get_post_type( $post->ID );   
    $postType = $oswcPostTypes->get_type_by_id($postTypeId);
    $meta_fields = $postType->meta_fields;
    foreach($meta_fields as $meta){
        //make backwards compatible
        if(is_object($meta)){
            $metaName = $meta->name;
        }else{
            $metaName = $meta;
        }
        $metaNameSafe = str_replace(" ","_",$metaName); // **466th line of error**
        $theMeta = get_post_meta($post->ID, $metaName, $single = true); ?>      
        <p>
        <label for="<?php echo $metaNameSafe; ?>"><?php echo $metaName; ?></label> </td>
        <textarea class="widefat" id="<?php echo $metaNameSafe; ?>" name="<?php echo $metaNameSafe; ?>"><?php echo $theMeta; ?></textarea>
        </p>

    <?php 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:29:00.480

我认为 $meta->name 是对象。尝试：print_r($meta->name)。

或者

我认为应该是： $metaName = $meta->labels->name

虽然没有测试。

谢谢

# iphone - 如何将 gmail 和 yahoo 联系人提取到我的 iphone 应用程序

> ID：13264045
> 
> 赞同：2
> 
> 时间：2012-11-07T06:06:25.150
> 
> 标签：iphone, objective-c, ios, import-contacts

我从新项目开始，我必须将 gmail 和 yahoo 联系人获取到我的 iphone 应用程序，我搜索了很多，但除了 GData 之外没有找到任何解决方案，任何教程或解决方案都会非常有帮助。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:39:31.870

我已经使用 GDATA 为 gmail 联系人制作了演示，你可以从[这里下载](https://github.com/nileshkikani/GmailContactImporter)

同样对于雅虎，我已经尽了最大努力，但我没有成功，所以我对你的建议不适用于雅虎，在应用程序中导入雅虎联系人非常困难，如果你想尝试并获得成功，请通知我。

让我知道您对此演示的评论。还有一件事你只能在 iphone 设备上运行这个演示，如果你想在模拟器上运行它，那么你需要在项目设置中做一些设置。

也不要忘记在此处添加您的 gmail id 和密码

```
#define gmailID ""
#define gmailpass "" 
```

祝你好运。

# triggers - Salesforce：CallReport 触发器未触发 - 测试失败

> ID：13264047
> 
> 赞同：1
> 
> 时间：2012-11-07T06:06:31.110
> 
> 标签：triggers, salesforce, apex-code

我正在尝试对触发器进行一个小的更改，并且收到有关另一个触发器的单元测试覆盖率不足 (0%) 的警告（如下所示的 setTitle）

对此有一个测试（请参见下文），但由于某种原因，它没有被考虑在内。此测试的定义类似于其他成功运行的测试，但在这种情况下，触发器没有被调用（导致覆盖不足的警告）

我可以查看的任何想法或建议以及是否有任何方法可以通过测试？

**触发测试：**

```
Call_Report__c c = new Call_Report__c(name='test cr', opportunity__c=o.id);
insert c; 
```

**触发器声明：**

```
trigger setTitle on Call_Report__c (before insert) 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:28:50.300

我认为**最好的方法是尝试在您的目标组织中手动运行单元测试并检查调试日志**。如果功能仍按预期运行，还可以从 UI 手动检查。

一些技巧：

1.  *（仅在部署到沙箱时适用）*听起来很愚蠢，您确定触发器处于活动状态吗？当您从 UI 或随附的元数据 xml 中的状态字段编辑它们时，会有一个复选框
2.  类似的复选框 - 触发器是否有效？如果它正在调用同时修改的类中的方法，那么您将遇到问题。
3.  您最近是否对测试中使用的`Call_Report__c`或任何先决条件进行了验证（如机会）：
    *   在字段定义中标记为必填的字段，
    *   缩短的文本字段大小，但您传递的字符串太长
    *   验证规则（不是`Call_Report__c`因为[这些稍后会检查](http://www.salesforce.com/us/developer/docs/apexcode/index_Left.htm#StartTopic=Content/apex_triggers_order_of_execution.htm)），而是机会等。
4.  您能否`system.debug()`在测试中添加一些内容以确保您正在使用的 Opportunity 已创建正常。另外 - 有时开发人员过于以 VF 为中心，不会抛出异常，而是吞下它们并放置 VF 错误消息，所以也要检查一下`ApexPages.hasMessages()`。
5.  *（在那一点上越来越愚蠢的东西）*；）类和函数被标记为 isTest / testmethod？那是对象上唯一的触发器吗？如果还有更多`before insert`- 你不能保证订单，也许那里有什么问题？
6.  ...

# java - 如何使用 TextMessage 将 XML 文件发送到 JMS 队列？

> ID：13264055
> 
> 赞同：1
> 
> 时间：2012-11-07T06:07:42.403
> 
> 标签：java, xml, jms

Oracle Docs 说 -

> TextMessage 对象用于发送包含 java.lang.String 的消息。它从 Message 接口继承 > 并添加了文本消息正文。此消息类型可用于传输基于文本的消息，包括具有 XML >content 的消息。

这怎么可能？XML 的内容是否只能发送（通过将其转换为对象然后发送）？XML 文件真的可以以任何方式放入队列中，然后在接收方读取吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T06:21:58.780

请使用这个并且您发送的对象必须是可序列化的

```
class Master implements serializable
 {
   List<File> f=new ArrayList<File>();
  //getter and setter
 } 
```

根据需要添加 --xml 文件

```
 Master eMaster = new Master();
    eMaster.setF();
    //add Files here 

    QueueSender queueSender = queueSession.createSender(queue1);
    ObjectMessage objMessage = queueSession.createObjectMessage();
    objMessage.setObject(eMaster);
    queueSender.send(objMessage); 
```

接收端：--

```
 Master em =null;
        Message message = queueReceiver.receive(1);
        if (message instanceof ObjectMessage
                && ((ObjectMessage) message).getObject() instanceof Master) {
            em = (Master) ((ObjectMessage) message).getObject();
            //use this and get list of xml file and iterate and process xml file by 
            //below link
        } 
```

[1个xml解析链接在这里](http://www.vogella.com/articles/JavaXML/article.html)

[2 xml解析链接在这里](http://www.java-samples.com/showtutorial.php?tutorialid=152)

# php - 日期时间::createFromFormat

> ID：13264056
> 
> 赞同：1
> 
> 时间：2012-11-07T06:07:50.793
> 
> 标签：php, datetime

我需要在我的数据库中输入日期和时间（作为字符串输入），但没有变化（日期保持为 0000-00-00，时间保持为 00:00:00）。我知道我应该使用 DateTime::createFromFormat() 但我不确定如何去做。请耐心等待并向我解释我应该如何去做以及每个步骤中发生了什么，如果我想稍后从数据库中返回日期，我将如何去做？我正在使用 `$date`和`$starttime`，`$endtime`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:15:53.170

插入时，用于`STR_TO_DATE`将您的字符串日期转换为`Date`或`DATETIME`基于以下格式：

```
 INSERT INTO TABLE1(date, startTime, endtime) 
   VALUES (STR_TO_DATE('$date','%d/%m/%Y'),
          STR_TO_DATE('$starttime','%d/%m/%Y a%h:%i:%s'),
          STR_TO_DATE('$endtime','%d/%m/%Y a%h:%i:%s')); 
```

同样`DATE_FORMAT`在检索期间使用以转换为所需格式的字符串，如下所示：

```
 SELECT DATE_FORMAT(date, '%d/%m/%Y') AS formatter_date,
         DATE_FORMAT(starttime,'%d/%m/%Y a%h:%i:%s') AS formatted_startTime
         DATE_FORMAT(endtime,'%d/%m/%Y a%h:%i:%s') AS formatted_endTime
  FROM TABLE1; 
```

如果您需要进一步解释，请告诉我。

# c# - 使用 '==' 运算符和 string.Equals() 方法比较字符串是否存在任何全球化问题？

> ID：13264057
> 
> 赞同：1
> 
> 时间：2012-11-07T06:07:50.683
> 
> 标签：c#, .net, vb.net

`==`使用“ ”运算符和`string.Equals()`比较字符串的方法是否存在任何全球化问题？如果是的话，避免这种情况的解决方案是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T06:13:54.053

With `String.Equals`, 你可以使用[`StringComparison.InvariantCultureIgnoreCase`](http://msdn.microsoft.com/en-us/library/system.stringcomparison.aspx)or `StringComparison.InvariantCulture`, With`==`你不能那样做。

您应该看到：[土耳其 İ 问题以及您应该关心的原因](http://haacked.com/archive/2012/07/05/turkish-i-problem-and-why-you-should-care.aspx)

来自同一篇文章的代码片段：

```
using System;
using System.Globalization;
using System.Threading;
internal class Program
{
    private static void Main(string[] args)
    {      
        Thread.CurrentThread.CurrentCulture = new CultureInfo("tr-TR");
        const string input = "interesting";

        bool comparison = input.ToUpper() == "INTERESTING";

        Console.WriteLine("These things are equal: " + comparison);
        Console.ReadLine();
    }
} 
```

以上将使用运算符返回 a`false`进行相等比较`==`

您可以在上面的代码中尝试以下行

```
 bool Comparison2 = input.Equals("INTERESTING",
                                  StringComparison.InvariantCultureIgnoreCase); 
```

结果将是`true`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T06:13:05.427

`==`运算符和`.Equals(string)`and重载都`.Equals(object)`使用序号字符串比较，并且它与区域性无关。

这与`.CompareTo`文化依赖不同。

# google-chrome - Chrome Bookmarks API - 使用“移动”对同一文件夹中的书签重新排序

> ID：13264060
> 
> 赞同：5
> 
> 时间：2012-11-07T06:08:12.010
> 
> 标签：google-chrome, google-chrome-extension, bookmarks

从[文档](http://developer.chrome.com/extensions/bookmarks.html#method-move)

```
chrome.bookmarks.move(string id, object destination, function callback)
Moves the specified BookmarkTreeNode to the provided location

id ( string )
destination ( object )
    index ( optional integer )
    parentId ( optional string )
callback ( optional function )
chrome.bookmarks.move(string id, object destination, function callback)
Parameters 
```

**API 在以下情况下按预期工作，**

如果我将书签移动到不同的文件夹，移动到任何位置（索引） - 如果我在文件夹中移动书签并将书签向上移动 - 即到新索引小于当前索引的位置 -

**API 不起作用 - 当 -**

如果我在文件夹中移动书签（即 parentId 相同）并将书签向上移动 - 即新索引大于当前索引的位置

书签的结果位置是上面的一个位置，而不是我想要的位置..

**例如 -**

api 没有问题如果我将书签移到上面（新索引 < 当前索引），即 - 如果我在索引 3 处有一个书签并且想要将它移到上面，即索引 1，这可以正常工作。

但是，如果我将书签移到下方（新索引>当前索引），即-如果我在索引 1 处有一个书签，并且想将其移动到下方，即索引 3 书签被放置在 2 即（3-1） =（新索引 - 1）

我们可以使用“移动”API 对同一文件夹中的书签重新排序吗？我假设是因为我们可以使用它，因为“目标”对象中的“parentId”是可选的。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-11-06T19:51:48.070

尝试这个：

```
if(oldIndex < newIndex) newIndex++;
chrome.bookmarks.move(id, {index: newIndex}); 
```

# php - 忽略 PHP 警告

> ID：13264062
> 
> 赞同：0
> 
> 时间：2012-11-07T06:08:33.397
> 
> 标签：php, warnings

我有一个 PHP 代码。当我运行代码时，它可以正常工作，但会出现一些警告，即 -`Warning: Cannot modify header information - headers already sent by (output started at /home/fundumob/public_html/app_create/nav_class.php:119) in /home/fundumob/public_html/app_create/profile.php on line 32`

我能做些什么 ？？？，我的代码如下..

```
 <?php session_start(); error_reporting(E_ALL ^ E_WARNING);?>
 <?php
  //include("local_config.php");
  include("lib/config.php");
  include("nav_class.php");
  $obj=new navig();

  if(isset($_SESSION['user_id']))
  {
  $user_id=$_SESSION['user_id'];
  $pic="select Picture from Profile where user_id=$user_id ";
  $pic_result=mysql_query($pic) or die ("sorry".$pic);
  $count=mysql_num_fields($pic_result);

  if($count==1)
  {

   $rows=mysql_fetch_row($pic_result);

   $_SESSION['picture']=$rows[0];
   $profile_pic=$_SESSION['picture'];

   $photo="profile/".$profile_pic;
    }
   else
   {
    $photo="profile/img.jpg";
   }
   }
   else
   {
   header("location:index.php?er=3");
    }

    ?>

   <div id="templatemo_header_wrapper">

<div id="templatemo_header">

    <div id="site_logo"></div>

      <div id="menu_nav" >
    <ul id="css3menu1" class="topmenu">
    <li class="topfirst"><a href="profile.php?apps=1" style="height:15px;line-
     height:15px;">Dashboard</a></li>
     <li class="topmenu"><a href="#" style="height:15px;line-height:15px;">Profile</a>      
       </li>
  <li class="topmenu"><a href="#" style="height:15px;line-height:15px;">Settings</a>  
   </li>
  <li class="toplast"><a href="#" style="height:15px;line-height:15px;">Prateek    

</ul>
</div>  </div><!-- end of header -->
 </div>

  <div id="tempatemo_content_wrapper">

   <div id="templatemo_content" align="center">

    <div class="recent_projects">

          <div align="right">
           <table width="50%" border="0">
           <tr>
           <td width="85%" height="20" style="border-right:1px solid #D0D0D0;"><div    
         align="right">Welcome&nbsp;&nbsp;&nbsp;<?php echo $_SESSION['fname']."&nbsp;". 
      $_SESSION['lname']; ?></div></td>
           <td width="15%" > <div align="center"><a href="logout.php">Log Out</a></div>
          </td>
           </tr>
           </table>
          </div>

    </div>
  <!--end of recent project--> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T06:25:21.863

There are many solutions to this problem!!!!

1)`header()` must be before anything else, If header is in any included file then include it at top of page and write `session_start` in that page containing header.....

2)Use `ob_start()` at start of page, It will store the output of page in buffer and then output every thing at same time, also use `ob_end_flush()` at end...

3)Remember to remove empty spaces and echo statements if any before header command

4)Move `include("nav_class.php"); $obj=new navig();` just after

```
    else
     {
      header("location:index.php?er=3");
     }
  include("nav_class.php");
  $obj=new navig();

```

**and in config.php Make sure that there is no echo statement**

**e.g echo "Database Connection Successful";**

Remove comments as well

Also remove **or die ("sorry".$pic);** in query

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:10:20.133

`ob_start()`在脚本的开头和`ob_end_flush()`结尾使用。

[参考](http://php.net/manual/en/function.ob-start.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T06:22:36.380

Ugly, ugly code....

```
<?php

@session_start();
error_reporting(E_ALL ^ E_WARNING);

//include("local_config.php");
include( 'lib/config.php' );
include( 'nav_class.php' );

$obj = new navig();

if( !isset( $_SESSION['user_id'] ) ){

  if( !headers_sent() )
    header( 'Location: index.php?er=3' );
  echo '<script type="text/javascript">document.location.href="index.php?er=3";</script>';
  die();

}

$photo = 'profile/img.jpg';

if( !isset( $_SESSION['picture'] ) ){

  $user_id = (int) $_SESSION['user_id'];
  $pic = "SELECT Picture FROM Profile WHERE user_id=$user_id";

  if( ( $pic_result = mysql_query( $pic ) ) && mysql_num_rows( $pic_result )==1 ){
    $row = mysql_fetch_row( $pic_result );
    $_SESSION['picture'] = $row[0];
    $photo = 'profile/'.$row[0];
  }

}else{

  $photo = 'profile/'.$_SESSION['picture'];

}

?>

<div id="templatemo_header_wrapper">
  <div id="templatemo_header">
    <div id="site_logo"></div>
    <div id="menu_nav">
      <ul id="css3menu1" class="topmenu">
        <li class="topfirst"><a href="profile.php?apps=1" style="height:15px;line-height:15px;">Dashboard</a></li>
        <li class="topmenu"><a href="#" style="height:15px;line-height:15px;">Profile</a></li>
        <li class="topmenu"><a href="#" style="height:15px;line-height:15px;">Settings</a></li>
        <li class="toplast"><a href="#" style="height:15px;line-height:15px;">Prateek</li>
      </ul>
    </div>
  </div><!-- end of header -->
</div>

<div id="tempatemo_content_wrapper">
  <div id="templatemo_content" align="center">
    <div class="recent_projects">
      <div align="right">
        <table width="50%" border="0">
          <tr>
            <td width="85%" height="20" style="border-right:1px solid #D0D0D0;"><div align="right">Welcome&nbsp;&nbsp;&nbsp;<?php echo $_SESSION['fname'].'&nbsp;'.$_SESSION['lname']; ?></div></td>
            <td width="15%" ><div align="center"><a href="logout.php">Log Out</a></div></td>
          </tr>
        </table>
      </div>
    </div>
    <!--end of recent project-->

... 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T06:10:53.890

我不建议更好地隐藏警告你修复它你可以用它来隐藏警告......

```
error_reporting(E_ERROR | E_PARSE); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-07T06:11:07.997

您的代码包含错误。我看不到包含文件的内容，但您发布的错误消息是，您尝试在会话已经启动时启动会话。

在你的代码中寻找，`session_start()`不要做`echo`之前的事情`header()`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-07T06:11:18.413

在你调用之前不要回显任何数据`header()`，你不会有这个问题。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-07T06:21:53.870

Your nav_class.php is outputting something at line 119, and possibly after that. You are calling header on line 32 of this script:

```
header("location:index.php?er=3"); 
```

There are a few remedies:

*   Don't output anything before calling header
*   call header before including nav_class.php and creating `$obj` (you're not using `$obj` before your header call anyway)
*   As swapnesh suggested, use `ob_start()` and `ob_end_flush()`.

I would favor one of the first two solutions.

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-11-07T06:34:42.100

Don't `echo` or `print_r()` after header load and if you really want to disable all errors then check index.php file if you are using codeigniter then you can unset all error messages.. there are there option and set

```
if (defined('ENVIRONMENT'))
{
    switch (ENVIRONMENT)
    {
        case 'development':
            error_reporting(E_ALL);
        break;

        case 'testing':
        case 'production':
            error_reporting(0);
        break;

        default:
            exit('The application environment is not set correctly.');
    }
} 
```

just check your php.ini and then check which type of error you want to and set only one parameter and replace `error_reporting(E_ALL);` in this function you can replace your parameter

# php - 解析用 PHP 设计的网站内容并将其显示在 android 应用程序中。

> ID：13264071
> 
> 赞同：-8
> 
> 时间：2012-11-07T06:10:07.387
> 
> 标签：php, android, parsing

我的网站是使用 php 设计的，现在我想解析网站的内容并使其显示在 android 应用程序中，我应该使用哪个解析器？我听说过 Json 解析器和 XML 解析器，我对此一无所知，请给我建议，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:14:52.230

您是否尝试过从您的安卓手机浏览您的网站？不管它是用什么编写的（PHP、COBOL、ASP.Net），它只会返回一堆由浏览器呈现的 HTML，在这种情况下，浏览器恰好位于 Android 手机上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:17:42.023

解析网站以检索其数据通常是一种糟糕的方法。

更好的方法是抽象数据层，以便多个用户界面可以访问它。[这里](https://stackoverflow.com/questions/4684075/how-to-build-a-restful-api)有一个问题，用 php 处理 RESTful apis。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T06:19:27.907

**问题 ：**

*   您的网站是否支持响应式设计？
*   您想使用与您的网站相同的视图吗？

根据我的意见，你应该使用`PhoneGap Framwork`它肯定会帮助你。

# mysql - 带有约束的错误 121 mysql

> ID：13264085
> 
> 赞同：2
> 
> 时间：2012-11-07T06:11:06.463
> 
> 标签：mysql, foreign-keys

我正在尝试重新定义我的数据库设计，添加一些额外的表，因此在我的表 Departaments 和 Jobs 中没有重复的名称......

但是我收到了与外键有关的错误 121，你能解释一下为什么会出现这个问题吗？

[我在 sqlfiddle 中这样做](http://sqlfiddle.com/#!2/dfaff)

我正在尝试做这样的事情，但在 sqlfiddle 中没有运气，我目前正在工作

```
 CREATE TABLE Employee(
          EmployeeID  INTEGER      NOT NULL PRIMARY KEY,
          Name        VARCHAR(30)  NOT NULL,
          Sex         CHAR(1)      NOT NULL,
          Address     VARCHAR(80)  NOT NULL,
          Security    VARCHAR(15)  NOT NULL          
        );

        CREATE TABLE Departments  (
            DeptID   INTEGER     NOT NULL PRIMARY KEY,
            DeptName VARCHAR(30) NOT NULL
        ); 
```

如果我取消注释代码，我得到 **Schema Creation Failed: Can't create table 'db_2_2bf4a.project-employee' (errno: 121)：**

```
 CREATE TABLE `Dept-Employee`(
          EmployeeID   INTEGER NOT NULL,          
          DeptID       INTEGER NOT NULL,
          CONSTRAINT fk_DeptID     FOREIGN KEY (DeptID)  REFERENCES Departments(DeptID),
          CONSTRAINT fk_EmployeeID FOREIGN KEY (EmployeeID) REFERENCES Employee(EmployeeID)
        );

       CREATE TABLE `Dept-Manager`(
          EmployeeID   INTEGER NOT NULL,          
          DeptID       INTEGER NOT NULL,
          CONSTRAINT fk_DeptID     FOREIGN KEY (DeptID)  REFERENCES Departments(DeptID),
          CONSTRAINT fk_EmployeeID FOREIGN KEY (EmployeeID) REFERENCES Employee(EmployeeID)
        );

        CREATE TABLE Jobs (
            JobID            INTEGER      NOT NULL PRIMARY KEY,
            JobName          VARCHAR(30)  NOT NULL,
            JobSalary        DOUBLE(15,3) NOT NULL default '0.000', 
            JobSalaryperDay  DOUBLE(15,3) NOT NULL default '0.000', 
            DeptID           INTEGER      NOT NULL
        );

        CREATE TABLE `Jobs-Employee`(
          EmployeeID   INTEGER NOT NULL,
          JobID        INTEGER NOT NULL,
          CONSTRAINT fk_JobID      FOREIGN KEY (JobID)      REFERENCES Jobs(JobID),
          CONSTRAINT fk_EmployeeID FOREIGN KEY (EmployeeID) REFERENCES Employee(EmployeeID)
        );

        CREATE TABLE Project(
          ProjectID    INTEGER NOT NULL PRIMARY KEY,
          ProjectDesc   VARCHAR(200) NOT NULL,
          StartDate     DATE NOT NULL,
          EndDate       DATE NOT NULL, 
          DaysOfWork    INTEGER NOT NULL,
          NoEmployees   INTEGER NOT NULL,
          EstimatedCost DOUBLE(15,3) NOT NULL default '0.000', 
          RealCost      DOUBLE(15,3) NOT NULL default '0.000' 
        );

        CREATE TABLE `Project-Employee`(
          ProjectID    INTEGER NOT NULL,
          EmployeeID   INTEGER NOT NULL,
          Note         VARCHAR(200),
          DaysWork     INTEGER NOT NULL,
          CONSTRAINT fk_ProjectID  FOREIGN KEY (ProjectID)  REFERENCES Project(ProjectID),
          CONSTRAINT fk_EmployeeID FOREIGN KEY (EmployeeID) REFERENCES Employee(EmployeeID)
        ); 
```

所以在我不知道这个查询是否正确之后

```
INSERT INTO `Departments` VALUES (1, 'Outsourcing');
    INSERT INTO `Departments` VALUES (2, 'Technician');
    INSERT INTO `Departments` VALUES (3, 'Administrative');

    INSERT INTO `Jobs` VALUES (1, 'welder'    ,500.550,16.7 ,2);
    INSERT INTO `Jobs` VALUES (2, 'turner'    ,500.100,16.67,2);
    INSERT INTO `Jobs` VALUES (3, 'assistant' ,650.100,21.67,2);
    INSERT INTO `Jobs` VALUES (4, 'supervisor',800.909,26.70,3);
    INSERT INTO `Jobs` VALUES (5, 'manager'   ,920.345,30.68,3);
    INSERT INTO `Jobs` VALUES (6, 'counter'   ,520.324,17.35,1);

    INSERT INTO `Dept-Employee` (10,1);
    INSERT INTO `Dept-Employee` (10,2);
    INSERT INTO `Dept-Employee` (10,3);
    INSERT INTO `Dept-Employee` (10,1);
    INSERT INTO `Dept-Employee` (10,3);

    INSERT INTO `Jobs-Employee` (10,3);
    INSERT INTO `Jobs-Employee` (10,3);
    INSERT INTO `Jobs-Employee` (10,4);
    INSERT INTO `Jobs-Employee` (10,6);
    INSERT INTO `Jobs-Employee` (10,5);

    INSERT INTO `Employee` VALUES (10, 'Joe',  'M', 'Anywhere', '927318344');
    INSERT INTO `Employee` VALUES (20, 'Moe',  'M', 'Anywhere', '827318322');
    INSERT INTO `Employee` VALUES (30, 'Jack', 'M', 'Anywhere', '927418343');
    INSERT INTO `Employee` VALUES (40, 'Marge','F', 'Evererre', '127347645');
    INSERT INTO `Employee` VALUES (50, 'Greg' ,'M', 'Portland', '134547633');

    INSERT INTO `Project` VALUES (1, 'The very first', '2008-7-04' , '2008-7-24' , 20, 5, 3000.50, 2500.00);
    INSERT INTO `Project` VALUES (2, 'Second one pro', '2008-8-01' , '2008-8-30' , 30, 5, 6000.40, 6100.40);

    INSERT INTO `Project-Employee` VALUES (1, 10, 'Worked all days'    , 20);
    INSERT INTO `Project-Employee` VALUES (1, 20, 'Worked just in defs', 11);
    INSERT INTO `Project-Employee` VALUES (1, 30, 'Worked just in defs', 17);
    INSERT INTO `Project-Employee` VALUES (1, 40, 'Contability '       , 8);
    INSERT INTO `Project-Employee` VALUES (1, 50, 'Managed the project', 8); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T06:37:10.327

原因是`CONSTRAINT`您提供的名称已经存在。尝试更改约束名称。

例如`fk_EmployeeID`on已经`Dept-Manager` *存在*`Dept-Employee`

*   [**SQLFiddle 演示**](http://sqlfiddle.com/#!2/5ac52)

# firefox - 从 Firefox 扩展覆盖浏览器首选项

> ID：13264092
> 
> 赞同：0
> 
> 时间：2012-11-07T06:11:33.857
> 
> 标签：firefox, firefox-addon, xul

我正在尝试从我的扩展程序中向浏览器的首选项添加一个叠加层，但没有成功。安装我的插件时没有显示任何内容。其他 xul 文件正确显示（例如插件的首选项对话框。我试图根据我的需要调整[本](http://www.rietta.com/firefox/Tutorial/prefs)教程。

我在 chrome.manifest 中注册了覆盖：

```
content smime chrome/content/
overlay chrome://browser/content/preferences/preferences.xul chrome://smime/content/preferences.xul 
```

首选项.xul：

```
<overlay xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

<!-- Merge with the BrowserPreferences Window -->
<prefwindow id="BrowserPreferences">

  <!-- Create a new pane (tab) for HP Scheduler. -->
  <prefpane id="hpschedPane" label="&prefpane.label;"
            image="chrome://smime/content/sogo-48.png">

    <!-- Intermediary between GUI and preferences system -->
    <preferences>
    <preference id="sodgeItSmimeKeyfile" name="extensions.sodgeItSmime.keyfile" type="text"/>

    </preferences>
    <!-- GUI Elements... -->
    <groupbox>
        <caption label="Settings"/>
        <grid>
            <columns>
                <column flex="4"/>

                <column flex="1"/>
            </columns>
            <rows>
                <row>
                    <label control="keyfile" value="Keyfile"/>
                    <textbox id="keyfile" preference="sodgeItSmimeKeyfile"/>

                </row>
            </rows>
        </grid>
    </groupbox>
    </prefpane>
</prefwindow>
</overlay> 
```

这就是我想要做的 - 在 Firefox 设置对话框中添加一个选项卡。

![在此处输入图像描述](../Images/3ad3fd0563ebe22872e76fdfa35abd56.png)

编辑：添加图像来描述我正在尝试做的事情

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-12T14:07:24.420

让它工作比它应该的更棘手。您可以尝试我们在 FireTorrent 扩展中使用的以下方法：

1.  如图所示覆盖 Firefox 首选项窗口：

    ```
    <?xml version="1.0"?>

    <?xml-stylesheet href="chrome://firetorrent/skin/firetorrent-prefs.css" type="text/css"?>

    <overlay id="FiretorrentPaneOverlay"
        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

        <prefwindow id="BrowserPreferences">
            <prefpane id="paneFiretorrent" label="FireTorrent"
                src="chrome://firetorrent/content/optionsOverlay.xul"/>
        </prefwindow>
    </overlay> 
    ```

2.  将以下内容添加到您的 CSS 文件（`firetorrent-prefs.css`在示例中）：

    ```
    #BrowserPreferences radio[pane="paneFiretorrent"] {
      list-style-image: url("chrome://firetorrent/skin/firetorrent-icon-32.png");
    } 
    ```

3.  内容`optionsOverlay.xul`如下：

    ```
    <?xml version="1.0"?>

    <?xml-stylesheet href="chrome://global/skin/global.css" type="text/css"?>
    <?xml-stylesheet href="chrome://global/skin/preferences.css" type="text/css"?>
    <?xml-stylesheet href="chrome://firetorrent/skin/options.css" type="text/css"?>

    <!DOCTYPE overlay SYSTEM "chrome://firetorrent/locale/optionsOverlay.dtd">

    <overlay id="firetorrentOptionsOverlay"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

        <prefpane id="paneFiretorrent" onpaneload="loadOptions();" flex="1">

            <preferences>
                <preference id="firetorrent.options.port" name="extensions.firetorrent.port" type="int"/>
                ...etc...
            </preferences>

            <script type="application/x-javascript" src="chrome://firetorrent/content/optionsOverlay.js"/>

            ...all your prefpane XUL here...
        </prefpane>
    </overlay> 
    ```

自从我写这篇文章以来已经有很长时间了，但我认为需要注意的重要事项是`preferences.xul`（我的示例中的第 1 点）的叠加层引用了另一个包含实际 prefpane ( `optionsOverlay.xul`) 的 XUL 叠加层，并且您需要`list-style-image`在CSS 来指定新标签的图标。

# c# - 如何从图像对象中检测颜色

> ID：13264095
> 
> 赞同：1
> 
> 时间：2012-11-07T06:11:52.670
> 
> 标签：c#

您好，我想检测图像中汽车的颜色按照我已经完成的步骤我已经检测到图像中的汽车，我已经创建了颜色箱，例如范围为 0-25 的值将等于 0，并且有十个箱用于颜色的每个部分，`RGB`所以你能有任何算法来获得颜色`car/object`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:21:23.073

[欧几里得距离](http://en.wikipedia.org/wiki/Euclidean_distance)。

[The CodeProject 上的这篇文章](http://www.codeproject.com/Articles/17044/Find-the-Nearest-Color-with-C-Using-the-Euclidean)使用它来查找最接近用户选择颜色的网络安全颜色。

# javascript - “使用严格”导致未定义的错误

> ID：13264105
> 
> 赞同：9
> 
> 时间：2012-11-07T06:13:28.770
> 
> 标签：javascript, jslint, use-strict

我在我的 JavaScript 中定义了以下函数：

```
function _snr(id) {
    "use strict";
    this.e = "something";
} 
```

我通过 JSLint 运行我的代码，它建议我在函数中添加“use strict”。

当我`e`现在抛出和未定义的错误时。从一些初步调查来看，似乎不再定义`this`which used to refer 。`_snr`

我读过“使用严格”，发现它是用来防止不安全的做法。有人能解释一下这有什么不安全的吗？“使用严格”实际上在做什么以及如何修复我的代码？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-07T06:23:59.447

如果一个函数在没有设置它的情况下被调用`this`，在非严格模式下，`this`它将被设置为引用全局（浏览器中的窗口）对象。在严格模式下，它将保持未定义。

如果你的函数被调用，`_snr(...)`那么它`this`没有被设置，所以在非严格模式下`this`将被设置为全局对象，因此`this.e = ...`引用（或由于分配而创建）一个全局`e`属性。

但是，在严格模式下`this`将是未定义的，并且尝试访问未定义的属性会引发错误。

[ECMA-262 §10.4.3 Entering Function Code 对此进行](http://ecma-international.org/ecma-262/5.1/#sec-10.4.3)了解释。

### 编辑

如果您希望以与严格模式和非严格模式一致的方式从函数内部访问全局对象，您可以使用类似：

```
var _snr = (function(global) {
    return function (id) {
        global.e = "something";
    };
}(this)); 
```

在非严格模式下，您可以执行以下操作：

```
function _snr(id) {
    var global = (function(){return this;}());
    global.e = "something";
} 
```

这样`global`在函数内引用全局对象，您不必担心函数是如何被调用的。但是第二个示例在严格模式下不起作用。

### 其他答案：

> 我读过“使用严格”，发现它是用来防止不安全的做法。有人能解释一下这有什么不安全的吗？

在这种特殊情况下绝对没有。

但是，在更一般的情况下，能够在阻止它直接访问全局对象的上下文中执行代码被认为是一个好主意。上面的第二个例子展示了如何在非严格代码中完成（即如何从函数上下文中直接访问全局对象）。

> “使用严格”实际上在做什么

如果调用将其设置为or ，它将停止`this`设置为全局对象。看上面的结果。`undefined``null`

> 以及如何修复我的代码？

往上看。

哦，最后，[ECMA-262 Annex C The Strict Mode of ECMAScript](http://ecma-international.org/ecma-262/5.1/#sec-C)中有一个关于严格模式的信息性总结。

# python - Rsync命令不适用于python

> ID：13264107
> 
> 赞同：0
> 
> 时间：2012-11-07T06:13:42.873
> 
> 标签：python, rsync

我正在尝试用 python 实现 rsync。这是我的代码。

```
#!/usr/bin/python

import os

url = raw_input("Paste your URL:")
username = raw_input("Enter username:")
#password = raw_input("Enter password:")

source = username + "@" + url
#print source

print os.system('rsync -zvr --progress source /home/zurelsoft/R') 
```

逻辑很简单：用户以正确的格式输入存储在源中的 url 和用户名。然后在 rsync 命令中使用源变量。我正在输入服务器的有效 URL 和用户名，但出现此错误：

```
rsync: link_stat "/home/name/source" failed: No such file or directory (2) 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T06:15:39.320

您正在传递一个静态字符串。无论用户输入什么，您总是为 rsync 提供完全相同的命令行选项。您可能希望`source`替换为以下值：

```
print os.system('rsync -zvr --progress {source} /home/zurelsoft/R'.format(source=source)) 
```

* * *

作为旁注，这可以通过以下方式做得更好`subprocess`：

```
subprocess.call(['rsync','-zvr','--progress',source,'/home/zurelsoft/R']) 
```

这可能无关紧要，但是您将通过这种方式关闭程序中的一个*巨大*的安全漏洞（考虑用户是否将其设置`; rm -rf ~;`为他们的用户名......），并且养成良好的编程习惯总是一个好主意。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-29T05:04:59.877

使用 subprocess.call

```
subprocess.call(["rsync", "-avz", "--exclude-from", "/tmp/exclude-list.txt", source, destination]) 
```

或者如果你需要输出，

```
 output = subprocess.Popen(["rsync", "-avz", "--exclude-from", "/tmp/exclude-list.txt", source, destination]) 
```

# tooltwist - 表达式语言在 JSP 页面中不起作用

> ID：13264108
> 
> 赞同：-1
> 
> 时间：2012-11-07T06:13:50.720
> 
> 标签：tooltwist

表达式语言在 JSP 页面中不起作用。我们只是使用 JSP 表达式标记，但是当表达式结果为空时它会抛出异常。例如： <%= h.getHtml() %> 。相反，我们可以使用 ${h.html}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:33:31.387

您编写的 ToolTwist 小部件中生成的 JSP 代码是[普通的标准 JSP 代码](http://en.wikipedia.org/wiki/JavaServer_Pages)。虽然可以使用 Java Beans、EL、标记库和 JSP 的各种其他特性，但大多数项目发现坚持使用最基本的 JSP 表达式可以简化未来的可维护性，因为代码的含义是最清楚的。

大多数标记旨在剥离 JSP 代码并使其更像 HTML，但代价是使用特殊语义或将逻辑移至别处。当 JSP 将由不熟悉应用程序逻辑的 Web 设计人员维护时，这种分离很有用，但在 ToolTwist 的情况下，目标或多或少是多余的，因为页面是使用设计器更改的，而不是通过编辑 JSP 代码.

大多数小部件只编写一次，然后很少更改，因此重要的考虑因素是使代码一目了然，无需考虑或研究任何特殊的语义或标签库定义。使用最简单的 JSP 语法使调试和测试变得更容易，并且会受到任何将来需要查看代码的程序员的赞赏。

> *请注意，在这种情况下，最简单的意思是“最容易理解”而不是“最少的代码行”。*

关于您的异常，请记住 <%= 和 %> 中的代码是标准 Java 代码。如果 Java 代码抛出异常，那么 JSP 代码就会抛出异常。在这种情况下，getHtml() 是您编写的方法，因此如果您希望将其用作字符串，您可能应该确保它不返回 null。或者，在使用它之前检查它的值：

```
<%
  String html = h.getHtml();
  if (html == null) {
    html = "";
  }
%><%=html%> 
```

请注意，一个常见的坏习惯是调用该方法两次。最好不要这样做：

```
<%= (h.getHtml() == null) ? "" : h.getHtml() %> 
```

总的来说，我建议您将 getHtml() 方法更改为在当前返回 null 的位置返回 ""。

# sql - Oracle：设置数字列的默认值

> ID：13264109
> 
> 赞同：1
> 
> 时间：2012-11-07T06:13:50.563
> 
> 标签：sql, oracle, oracle10g

我们如何为数字类型的列设置默认值“00”？我试过这个，但它仍然保存它有“0”，我需要这样做。

```
//alter table table_name add column column1 default '00'; 
```

请为我建议一个方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:58:02.977

您可以存储为数字，当您检索时执行

```
select column1,to_char(column2,'00') from mytable 
```

[SQL 小提琴演示](http://sqlfiddle.com/#!4/2618c/1)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:52:25.430

无法存储这样的数字 - 以您描述的格式（'00'）。您可以将数字存储为数字（当然作为数字数据类型的值），并使用`to_char`函数或`to_char`与函数结合的`lpad`函数以您喜欢的格式表示数字。这是一个例子：

```
SQL> create table TB_SingleNumberColumn(
  2    col number
  3  )
  4  /

Table created
SQL> insert into TB_SingleNumberColumn(Col) values(1);

1 row inserted

SQL> insert into TB_SingleNumberColumn(Col) values(5);

1 row inserted

SQL> insert into TB_SingleNumberColumn(Col) values(11);

1 row inserted

SQL> insert into TB_SingleNumberColumn(Col) values(111);

1 row inserted

SQL> commit;

Commit complete

-- The values as they are
SQL> select * from TB_SingleNumberColumn;

       COL
----------
         1
         5
        11
       111

-- Values padded with zeros.
SQL> select to_char(col, '000') res 
  2   from TB_SingleNumberColumn;

RES
----
 001
 005
 011
 111 

SQL> select lpad(to_char(col), 3, '0')
  2    from TB_SingleNumberColumn
  3  ;

LPAD(TO_CHAR(COL),3,'0')
------------------------
001
005
011
111 
```

# ruby-on-rails - 尝试验证日期

> ID：13264111
> 
> 赞同：1
> 
> 时间：2012-11-07T06:14:06.510
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我有一个表单，我正在尝试验证名为“生日”的字段不为空，并且日期是 Chronic gem 可以解析的有效日期格式。我总是收到错误消息“生日无效”。我一直在尝试一种简单的格式“10/10/2010”。

我如何验证生日字段是慢性可以解析的格式？

User.rb 模型

```
class User < ActiveRecord::Base

  validates :birthday, :presence => true
  validate :birthday_is_date
  validate :position, :presence => true

  # validate the birthday format
  def birthday_is_date
    errors.add(:birthday ,Chronic.parse(birthday)) # testing to see the value of :birthday
    errors.add(:birthday, "is invalid test message") if ((Chronic.parse(:birthday) rescue ArgumentError) == ArgumentError)
  end
end 
```

联系人控制器.rb

```
# POST /contacts/1/edit
    # actually updates the users data
    def update_user
        @userProfile = User.find(params[:id])

        respond_to do |format|
            if @userProfile.update_attributes(params[:user])
                format.html {
                    flash[:success] = "Information updated successfully"
                    redirect_to(profile_path)
                }
            else 
                format.html {
                    flash[:error] = resource.errors.full_messages

                    render :edit
                }
            end
        end
    end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:26:55.203

您的`birthday_is_date`验证总是在第一行添加一个错误。应该这样写：

```
def birthday_is_date
  errors.add(:birthday, "is invalid") unless Chronic.parse(birthday)
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:27:51.003

试试这个

安装[**validates_date_time**](https://github.com/smtlaissezfaire/validates_date_time) gem

您可以通过日期验证，**`for example`**

```
class Person < ActiveRecord::Base
    validates_date     :date_of_birth
    validates_time     :time_of_birth
    validates_date_time :date_and_time_of_birth
  end 
```

使用 :allow_nil 允许该值为空白。

```
 class Person < ActiveRecord::Base
    validates_date :date_of_birth, :allow_nil => true
  end 
```

**来源**：[https ://github.com/smtlaissezfaire/validates_date_time](https://github.com/smtlaissezfaire/validates_date_time)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T06:36:41.087

来自[chronic.rubyforge.org](http://chronic.rubyforge.org/)：

> Chronic 使用 Ruby 内置的 Time 类进行所有时间存储和计算。因此，只有 Time 类可以处理的时间才会被正确解析。解析超出此范围的时间将简单地返回 nil。计划在未来的版本中支持更广泛的时间。
> 
> 当前不支持本地时区以外的时区。计划在未来的版本中支持其他时区。

从[Ruby 中使用 Date 对象的日期验证](http://commandlinemac.blogspot.com/2008/12/date-validation-in-ruby-using-date.html)：

> 一个简单的验证函数
> 
> 测试有效日期的一种方法是尝试创建一个 Date 对象。如果创建了对象，则日期有效，否则，日期无效。这是一个接受年、月和日的函数，如果日期有效则返回 true，如果日期无效则返回 false。

```
def test_date(yyyy, mm, dd)
   begin
     @mydate = Date.new(yyyy, mm, dd)
     return true
   rescue ArgumentError
     return false
   end
 end 
```

从[如何验证 Rails 中的日期？](https://stackoverflow.com/questions/597328/how-do-i-validate-a-date-in-rails)：

> 如果您正在寻找插件解决方案，我会检查 validates_timeliness 插件。它的工作原理是这样的（来自 github 页面）：

```
class Person < ActiveRecord::Base
  validates_date :date_of_birth, :on_or_before => lambda { Date.current }
  # or
  validates :date_of_birth, :timeliness => {:on_or_before => lambda { Date.current }, :type => :date}
end 
```

> 可用的验证方法列表如下：
> 
> validates_date - 将值验证为日期
> validates_time - 将值验证为仅时间，即“下午 12:20”
> validates_datetime - 将值验证为完整的日期和时间
> 验证 - 使用 :timeliness 键并在哈希中设置类型。

# c# - 如何忽略 Quartz.Net 中的 Misfires？

> ID：13264115
> 
> 赞同：5
> 
> 时间：2012-11-07T06:14:18.470
> 
> 标签：c#, c#-4.0, quartz.net, quartz.net-2.0

这是我的石英配置：

```
 <quartz>
    <add key="quartz.scheduler.instanceName" value="EmailScheduler" />
    <!-- Configure Thread Pool -->
    <add key="quartz.threadPool.type" value="Quartz.Simpl.SimpleThreadPool, Quartz" />
    <add key="quartz.threadPool.threadCount" value="10" />
    <add key="quartz.threadPool.threadPriority" value="Normal" />
    <!-- Configure Job Store -->
    <add key="quartz.jobStore.misfireThreshold" value="60000" />
    <add key="quartz.jobStore.type" value="Quartz.Impl.AdoJobStore.JobStoreTX, Quartz" />
    <add key="quartz.jobStore.driverDelegateType" value="Quartz.Impl.AdoJobStore.StdAdoDelegate, Quartz" />
    <add key="quartz.jobStore.dataSource" value="default" />
    <add key="quartz.jobStore.lockHandler.type" value="Quartz.Impl.AdoJobStore.UpdateLockRowSemaphore, Quartz" />
    <add key="quartz.dataSource.default.provider" value="SqlServer-20" />
    <add key="quartz.dataSource.default.connectionString" value="data source= ......" />
    <add key="quartz.jobStore.tablePrefix" value="QRTZ_" />
  </quartz> 
```

这是我的`IInterruptableJob`：

```
public class JobC : Quartz.IInterruptableJob
{
    public void Interrupt()
    {
        Console.WriteLine("Job Interrupt() called at " + DateTime.Now);
    }

    public void Execute(IJobExecutionContext context)
    {
        // what code I should write here to detect misfires???
        Console.WriteLine("FireTime at " + context.FireTimeUtc.Value + " PreviousFireTime at:" + (context.PreviousFireTimeUtc.HasValue ? context.PreviousFireTimeUtc.Value.ToString() : "NULL"));
    }
} 
```

这是我的工作和触发器：

```
var job = JobBuilder.Create<JobC>().WithIdentity(new JobKey("JobC")).RequestRecovery(true).Build();
var trigger = TriggerBuilder.Create()
    .WithSimpleSchedule(x => x
        .RepeatForever()
        .WithIntervalInSeconds(2)
            // I'm ignoring misfires here, but seems it doesn't work!
        .WithMisfireHandlingInstructionIgnoreMisfires())
    .StartNow()
    .Build();

var scheduler = new Quartz.Impl.StdSchedulerFactory().GetScheduler();
scheduler.Start();
scheduler.ScheduleJob(job, trigger); 
```

在我调用`scheduler.PauseAll()`所有工作暂停并调用`scheduler.ResumeAll()`所有未命中的火灾之后，被解雇！但我想忽略它们，从现在开始继续。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T16:07:21.890

您确定您的触发器满足定义的失火阈值吗？如果您在配置状态时有 60 秒的阈值，则每个未被视为未触发但已达到其预定触发时间的触发器将在恢复后尽快触发。

因此，如果您的暂停持续为最小阈值（在本例中为 60 秒），您应该会看到忽略行为。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-09T13:55:13.377

这可能看起来很愚蠢，但我做了以下扩展方法来检测`Execute`方法内部的失火：

```
public static bool IsMissedFire(this IJobExecutionContext context, int offsetMilliseconds)
{
    if (!context.ScheduledFireTimeUtc.HasValue)
        return false;
    if (!context.FireTimeUtc.HasValue)
        return false;

    var scheduledFireTimeUtc = context.ScheduledFireTimeUtc.Value;
    var fireTimeUtc = context.FireTimeUtc.Value;

    return fireTimeUtc.Subtract(scheduledFireTimeUtc).TotalMilliseconds > offsetMilliseconds;
} 
```

用法很简单：

```
public void Execute(IJobExecutionContext context)
{
    if (context.IsMissedFire(1000))
        Console.WriteLine("Missfire");
    else
        Console.WriteLine("Fire");
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-20T15:02:40.510

虽然它适用于 Quartz 的 Java 版本，但下面的链接很好地概述了不同的失火策略：

[http://nurkiewicz.blogspot.co.uk/2012/04/quartz-scheduler-misfire-instructions.html](http://nurkiewicz.blogspot.co.uk/2012/04/quartz-scheduler-misfire-instructions.html)

本质上，WithMisfireHandlingInstructionIgnoreMisfires 实际上会在线程可用时立即执行失火，这似乎非常违反直觉。为了丢弃所有失火并继续您需要使用 withMisfireHandlingInstructionNextWithRemainingCount 的计划。

# jquery - 如何使用 jquery 在 FullCalendar 控件的一个事件中添加 2 个或多个 URL？

> ID：13264119
> 
> 赞同：0
> 
> 时间：2012-11-07T06:15:11.083
> 
> 标签：jquery, fullcalendar

我添加了一个像“Total Records 2/3”这样的事件。我需要这个活动的 2 个 URL。当我点击“2”时，它会重定向到“www.URL1.com”，当我点击“3”时，它会重定向到“www.URL2.com”。

是否有可能在 1 个事件中链接 2 个不同的 URL？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T22:54:05.553

是的，这是可能的。一种方法是覆盖 URL，而是打开一个模式窗口，向他们显示 URL 选项。您需要在您的提要源中有一个具有第二个 URL 值的自定义字段。

**[查看示例](http://mikesmithdev.com/blog/jquery-full-calendar-with-ui-modal-dialog/)**

修改此示例以向他们展示两个 URL 选项将很容易。希望有帮助。

# java - 用于 Java 中自定义日志级别的 Log4j 日志记录

> ID：13264120
> 
> 赞同：5
> 
> 时间：2012-11-07T06:15:15.763
> 
> 标签：java, log4j

我已经为自定义日志记录级别编写了类，即`INIT`

```
import org.apache.log4j.Logger;
import org.apache.log4j.Level;

public class InitLoggingLevel extends Level {

    public static final String INITLOGGING_LEVEL = "INITLOGGING";
    public static final Level INIT_LOGGING = new InitLoggingLevel(
        DEBUG_INT - 4, INITLOGGING_LEVEL, 7);

    protected InitLoggingLevel(int level, String levelStr, int syslogEquivalent){
        super(level, levelStr, syslogEquivalent);
    }
} 
```

现在我需要进行哪些更改`log4j.properties`以及如何`INIT`在我的 Java 类中使用此日志记录级别？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-12-12T16:51:06.287

你必须：

1.  覆盖这样的方法`toLevel(String logArgument)`：

    ```
    public static Level toLevel(String logArgument) {
        if (logArgument != null && logArgument.toUpperCase().equals("INITLOGGING")) {
            return INIT_LOGGING;
        }
        return (Level) toLevel(logArgument);
    } 
    ```

2.  在 log4j.properties 中编写配置行，如下所示：

    `log4j.logger.[MY_CATEGORY]=INITLOGGING#your-package.InitLoggingLevel`

就这样！

PS: '#' 语法在[`org.apache.log4j.helpers.OptionConverter`](http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/helpers/OptionConverter.html#toLevel(java.lang.String,%20org.apache.log4j.Level))源类中描述。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T08:11:16.900

你可以试试这个

```
log4j.rootLogger=DEBUG, stdout
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%d %c:%L - %m%n
log4j.category.YOUR_PACKAGE=INFO,YOUR_PACKAGE.InitLoggingLevel 
```

或者可以查看[log4j 类别](https://stackoverflow.com/questions/906292/log4j-category) 或[http://veerasundar.com/blog/2009/08/log4j-tutorial-how-to-send-log-messages-to-different-log-files/](http://veerasundar.com/blog/2009/08/log4j-tutorial-how-to-send-log-messages-to-different-log-files/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T08:51:15.567

它可以是这样的：

```
 <category  name="xxx" additivity="false">
           <priority class="your class" value="info"/>
           <appender-ref ref="xxxlog"/>
        </category> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T10:57:37.570

不知道您是否已经弄清楚了，但是我找到了以下文章，这对我有所帮助。

[https://www.owasp.org/index.php/How_to_add_a_security_log_level_in_log4j](https://www.owasp.org/index.php/How_to_add_a_security_log_level_in_log4j)

新级别使用预期的日志标签打印，但 log4j 无法识别我的属性文件中的新级别。我会看到，我能做些什么。

# codeigniter - Codeigniter 调整图像大小并保存到远程服务器

> ID：13264121
> 
> 赞同：0
> 
> 时间：2012-11-07T06:15:27.340
> 
> 标签：codeigniter, ftp, image-resizing, remote-server

我有一个项目，我想使用 codeigniter 来调整上传图像的大小并保存到远程服务器

我可以成功地做到以下几点（都在我的本地机器上）：

1.  获取上传的图片
2.  保存到 tmp 文件夹
3.  调整 tmp 文件夹中的图像大小
4.  保存到最终目标文件夹。

但是，我想更进一步。我想从 tmp 获取图像，调整大小并保存到远程服务器。这是我认为它不起作用的示例代码。

```
$config['image_library'] = 'gd2';
$config['source_image'] = '/tmp/sample.jpg';
$config['create_thumb'] = TRUE;
$config['maintain_ratio'] = TRUE;
$config['width'] = 80;
$config['height'] = 60;
$config['new_image'] = 'ftp://xx.xx.xxx.xxx/tmp/sample.jpg';  // can i do this?
$config['thumb_marker']  = '';

$ftpconfig['hostname'] = 'xx.xx.xxx.xxx';
$ftpconfig['username'] = 'name';
$ftpconfig['password'] = 'password';
$ftpconfig['debug'] = TRUE;

$this->ftp->connect($ftpconfig);

// and can I call CI to resize it and save to a ftp server after connent ftp?
$this->image_lib->initialize($config);
$this->image_lib->resize();
$this->image_lib->clear();

$this->ftp->close(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:19:06.917

你需要上传文件，现在你没有使用FTP库文件的上传方法，保存在你的服务器后你必须上传

```
$this->ftp->upload('/local/path/to/myfile.html', '/public_html/myfile.html', 'ascii', 0775); 
```

请查看 ftp 类的用户指南

# ruby-on-rails - 重定向时在 Rails 中呈现 twitter 引导模式

> ID：13264124
> 
> 赞同：4
> 
> 时间：2012-11-07T06:15:52.393
> 
> 标签：ruby-on-rails, twitter-bootstrap, modal-dialog

我有一个功能模式链接，可以从我的视图中的某个页面点击：

```
<a href="#" data-toggle="modal" data-target="#manifesto-modal">Manifesto &amp; Rules</a> 
```

除了可以在此页面上单击之外，我还希望它在重定向到此页面时默认显示。我还没有找到一个很好的方法来从控制器或其他地方对此进行编码，但无法想象它需要太多。输入表示赞赏！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-07T08:05:24.077

根据文档，您可以使用[闪光灯](http://api.rubyonrails.org/classes/ActionController/Redirecting.html)（未经测试）：

```
redirect_to your_path, flash: { manifesto_modal: true } 
```

那么在你看来：

```
<% if flash[:manifesto_modal] %>
  // a script to display modal on document ready
<% end %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T17:07:18.837

我用这个 JavaScript 解决了这个问题。这可能不是最好的方法，我很想听听人们对此的想法：

```
 if ( window.location.pathname == "/edit_profile" ) {
    $('#manifesto-modal').modal('show');
  } 
```

# opencv - OpenCV 2.4.3 和 videoInput 进入 Mat

> ID：13264130
> 
> 赞同：1
> 
> 时间：2012-11-07T06:16:14.503
> 
> 标签：opencv, visual-studio-2010

我正在尝试使用 videoInput 库、OpenCV 2.4.3 和 VS2010 Express 从两个或多个 MSFT LifeCam HD-3000 将视频捕获为 Mat 类型。

我遵循了以下示例：[从网络中的网络摄像头捕获和发送图像的最有效方法，](https://stackoverflow.com/questions/4896941/most-efficient-way-to-capture-and-send-images-from-a-webcam-in-a-network) 并且效果很好。

现在我想用 c++ Mat 类型替换 IplImage 类型。我尝试按照以下示例进行操作：[opencv create mat from camera data](https://stackoverflow.com/questions/6924790/opencv-create-mat-from-camera-data)

这给了我以下信息：

```
 VI = new videoInput;
    int CurrentCam = 0;
    VI->setupDevice(CurrentCam,WIDTH,HEIGHT);
    int width = VI->getWidth(CurrentCam);
    int height = VI->getHeight(CurrentCam);
    unsigned char* yourBuffer = new unsigned char[VI->getSize(CurrentCam)];
    cvNamedWindow("test",1);
    while(1)
    {
       VI->getPixels(CurrentCam, yourBuffer, false, true);
       cv::Mat image(width, height, CV_8UC3, yourBuffer, Mat::AUTO_STEP);
       imshow("test", image); 
       if(cvWaitKey(15)==27) break;
    } 
```

输出是一个带线条的图像（即，看起来第一行是正确的，但第二行似乎是关闭的，第三行是正确的，第四行是关闭的，等等）。这表明步骤部分是错误的，或者 IplImage 类型和我没有得到的 Mat 类型之间存在一些差异。我尝试查看/更改所有参数，但找不到任何东西。

希望答案能帮助那些面临从 videoInput 库加载图像到 Mat 类型的相当常见问题的人。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T08:15:08.047

尝试

```
cv::Mat image(height, width, CV_8UC3, yourBuffer, Mat::AUTO_STEP); 
```

# php - 将工作簿中的工作表导出到 phpexcel 中的 csv

> ID：13264132
> 
> 赞同：0
> 
> 时间：2012-11-07T06:16:18.750
> 
> 标签：php, csv, export, phpexcel

我正在尝试将 Excel 2007 工作簿中的工作表导出到 csv 并将 csv 保存为工作表名称。我不断收到此错误：

```
"Object of class PHPExcel_Worksheet could not be converted to string in" 
```

这是我的代码：

```
require_once '../Classes/PHPExcel/IOFactory.php';
$objReader = PHPExcel_IOFactory::createReader('Excel2007');
$objReader->setReadDataOnly(false);
//$xlsxfiles=$_SESSION['file'];
//echo $xlsxfiles;
$objPHPExcel = $objReader->load('../upload/Demobook.xlsx');
$num=$objPHPExcel->getSheetCount() ;
$sheetnames=$objPHPExcel->getSheetNames() ;
$objWorksheet = $objPHPExcel->getActiveSheet();
$highestRow = $objWorksheet->getHighestRow(); // e.g. 10
$objWriter = new PHPExcel_Writer_CSV($objPHPExcel);
foreach ($objPHPExcel->getWorksheetIterator() as $worksheet)
{
    $worksheet->getTitle();
    $objWriter->setDelimiter(',');
    $objWriter->setEnclosure('');
    $objWriter->setLineEnding("\r\n");
}
$objWriter->save("../"."CSV"."/".$worksheet.".".'csv'); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T21:56:34.047

你的问题是

```
$objWriter->save("../"."CSV"."/".$worksheet.".".'csv'); 
```

当工作表对象不是字符串而是工作表对象时，您将其视为字符串。你的意思

```
$objWriter->save("../"."CSV"."/".$worksheet->getTitle().".".'csv'); 
```

你为什么要循环设置作者分隔符、附件等的所有工作表；但是在循环之外执行保存？这真的有点没有意义。调用 $worksheet->getTitle(); 在您的循环中也没有太多作用。

# data-structures - 哈希如何映射到向量中的位置？调整矢量大小时会发生什么？

> ID：13264138
> 
> 赞同：1
> 
> 时间：2012-11-07T06:16:52.000
> 
> 标签：data-structures, hash, map

我最近一直在考虑 HashMaps/Dictionaries，我意识到我对它们的实现存在差距。

从我的数据结构类中，我被告知哈希值会将键直接映射到链表存储桶向量中的位置。根据维基百科，MurmurHash 创建一个 32 位或 128 位的值。显然，该值不能直接映射到内存中的某个位置。该哈希值如何用于将基础向量中的位置分配给放置在哈希图中的对象？

阅读大卫罗宾逊的回答后，我想扩展我的问题：如果映射基于列表的基础向量的大小，那么当向量调整大小时会发生什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:19:40.243

通常，当生成散列的结果时，它会经过模运算`N`，其中`N`是分配的链表向量的大小。伪代码：

```
linked_list = lists[MurmurHash(x) % len(lists)]
linked_list.append(x) 
```

这让实现者可以决定链表向量的长度（即，他想用多少空间效率换取时间效率），同时保持结果是伪随机的。

一个值得一提的常见替代方法是位掩码——例如，忽略除`b`最低有效位之外的所有位。（例如，执行该操作会`x & 7`忽略除 3 个最低有效位之外的所有位）。这相当于 x 模 2^b，它恰好在大多数操作系统上更快。

要回答您的第二个问题：如果必须调整向量的大小，则确实需要重新映射存储在字典中的每个值。

有一篇关于[在 Python](http://www.laurentluce.com/posts/python-dictionary-implementation/)中实现字典的优秀博客文章解释了该语言如何实现其内置的哈希表（它称为字典）。在该实施中：

1.  如果超过 2/3 的插槽正在使用，则字典会调整大小（变大）

2.  插槽列表的大小调整为当前大小的 4 倍

3.  旧插槽列表中的每个值都重新映射到新插槽列表。

该博客文章中描述了许多其他有用的优化；它很好地说明了实现哈希表的实际方面。

# sql - 在 PL/SQL 中的选择查询中引用数组元素

> ID：13264140
> 
> 赞同：0
> 
> 时间：2012-11-07T06:17:03.760
> 
> 标签：sql, plsql, oracle10g, dynamic-sql

我正在编写一些 Pl/SQl，其中我使用了一个长度为 5 的数组变量。

然后我将另一个表的所有列名存储到上面声明的数组中。现在我正在寻找一种解决方案，通过它我可以使用 select Query 中的 Array 元素从另一个完全具有列名的表中获取数据。喜欢

```
arr(1):='Name'
arr(2):='Course' 
```

Pl/Sql中的Query应该是这样的（仅供参考）

```
select arr(1) from Mttable; 
```

==== 当我以这种方式编写查询时，这会产生错误

注意 - 所有工作都应该在 Oracle 10g 上的 Pl/SQL 中完成

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T07:55:55.937

您可以在字符串中构建查询并执行该字符串。我的 PL/SQL 生锈了，但类似于：

```
begin
   query := 'select ' || arr(1) || ' from Mttable';
   execute immediate query;
end; 
```

# c++ - 错误 C2544：操作员 '()' 应为 ')'

> ID：13264147
> 
> 赞同：0
> 
> 时间：2012-11-07T06:18:03.540
> 
> 标签：c++, templates, macros

我收到以下错误。

```
typedef std::vector<std::pair<std::string, void*> >  PropInfoType;
#define REGISTER_FUNCTOR(type, func) \
  template <typename OWNER> \
  struct writeCharFunctor { \
    void operator(PropInfoType::iterator& it)() { \
    } \
  };

  REGISTER_FUNCTOR(char,writeChar); 
```

MSDN 只是说这是由于`macro expansion`

如果我改变`void operator(PropInfoType::iterator& it)()`它的`void operator()()`工作

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T06:20:04.270

它可能应该包含

```
 void operator () (PropInfoType::iterator& it) { \ 
```

因为`operator`关键字后面应该跟操作符本身。

# c# - 如果我在 web.config 文件中进行更改，DLL 是否更改

> ID：13264149
> 
> 赞同：0
> 
> 时间：2012-11-07T06:18:15.687
> 
> 标签：c#, asp.net, .net

我已经更新了我的 web.config 代码，现在我必须发送补丁，以便将更改后的代码部署到生产环境中。我不确定 .dll 文件是否应该与 web.config 文件一起发送？

如果是，那为什么？如果不是那为什么？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T06:22:20.747

除非代码发生变化，否则您不需要发送 dll。

因为，web.config 是用于配置的，对 dll 没有影响。web.config 按原样读取。***放置东西的目的是 web.config，在不更改代码的情况下保持东西可配置***

# c# - 如何更改数据网格中大于零值的单元格的颜色

> ID：13264150
> 
> 赞同：0
> 
> 时间：2012-11-07T06:18:26.567
> 
> 标签：c#, winforms, sql-server-2008

`enter code here`

我在网格中有两个单元格当我在另一个单元格中输入大于零值时，我想将一个单元格的颜色和值更改为零

```
 private void grdDetail_CellBeginEdit(object sender, DataGridViewCellCancelEventArgs e)
        { 
            if (this.IsLoadComplete) 
              { 
                UpdateValueofQtyCell(e.ColumnIndex); 
              } 
       }
  private void UpdateValueofQtyCell(int index)
        {
            int cur_row = grdDetail.CurrentRow.Index;

            if (index == 1)
            {
                grdDetail[1, cur_row].Style.BackColor = Color.White;
                grdDetail[2, cur_row].Style.BackColor = Color.FromArgb(224, 224, 224);
                grdDetail[2, cur_row].Value = 0;
            }
           else  if (index == 1)
            {
                grdDetail[2, cur_row].Style.BackColor = Color.White;
                grdDetail[1 cur_row].Style.BackColor = Color.FromArgb(224, 224, 224);
                grdDetail[1, cur_row].Value = 0;
             }
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:34:02.867

您可以使用以下代码：

```
 for (int i = 0; i < dataGridView1.Rows.Count-1; i++)
    {
        if (dataGridView1.Rows[i].Cells[0].Value.ToString() != "0")
        {
            dataGridView1.Rows[i].Cells[0].Style.BackColor = Color.Yellow;
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:45:01.603

在类级别创建以下变量。

```
bool IsAnyGreaterThanZero = false; 
```

然后首先调用下面的函数，该函数告诉是否有任何单元格值大于零。

```
private void CheckForGreaterThanZero()
{
    for (int i = 0; i < dataGridView1.Rows.Count-1; i++)
      {

         if ((int)dataGridView1.Rows[i].Cells[0].Value > 0)
            {
              IsAnyGreaterThanZero = true;
            }
      }
} 
```

然后调用下面的函数来改变那些值为零的单元格的颜色。

```
private void ChangeOtherCellColor()
 {
  if(IsAnyGreaterThanZero)
  {
    for (int i = 0; i < dataGridView1.Rows.Count-1; i++)
      {
        if ((int)intdataGridView1.Rows[i].Cells[0].Value == 0)
        {
            DataGridViewCellStyle CellStyle = new DataGridViewCellStyle();
            CellStyle.BackColor = Color.Red;
            dataGridView1.Rows[i].Cells[0].Style = CellStyle;
        }
      }
   }

  } 
```

# iphone - 如何将 searchDisplayController 与类对象一起使用

> ID：13264160
> 
> 赞同：0
> 
> 时间：2012-11-07T06:19:19.283
> 
> 标签：iphone, ios

我有一门课，有一些`objects`（标题，价格，修饰符），而且我有一个`NSArray`此类`objects`。

我将此加载`NSArray`到`UITableView`. 我该如何使用`searchDisplayController`？我不明白..数组只有地址（到我班级中的对象），我如何按谓词对其进行排序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:25:33.567

我可以用一个例子来解释

让我们考虑一下我的代码如下

**没有 NSPredicate**

```
NSMutableArray *oldSkoolFiltered = [[NSMutableArray alloc] init];
for (Book *book in bookshelf) {
    if ([book.publisher isEqualToString:@"Apress"]) {
        [oldSkoolFiltered addObject:book];
    }
} 
```

**应用 NSPredicate**

```
NSPredicate *predicate = 
  [NSPredicate predicateWithFormat:@"publisher == %@", @"Apress" ];
NSArray *filtered  = [bookshelf filteredArrayUsingPredicate:predicate]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:26:05.560

我认为您忘记了将数组类型转换为类名。尝试这样做

```
cell.textLabel.text=((ClassName *)[arrOfObjects objectAtIndex:indexPath.row]).Title; 
```

对于谓词，我会建议你通过这个[例子](http://www.peterfriese.de/using-nspredicate-to-filter-data/)

# c - 十进制到二进制转换不起作用

> ID：13264161
> 
> 赞同：0
> 
> 时间：2012-11-07T06:19:23.130
> 
> 标签：c

```
#include <stdlib.h>
#include <stdio.h>
#include <string.h>

int myatoi(const char* string) {
  int i = 0;
  while (*string) {
    i = (i << 3) + (i<<1) + (*string -'0');
    string++;
  }
  return i;
}

void decimal2binary(char *decimal, int *binary) {
  decimal = malloc(sizeof(char) * 32);
  long int dec = myatoi(decimal);
  long int fraction;
  long int remainder;
  long int factor = 1;
  long int fractionfactor = .1;
  long int wholenum;
  long int bin;
  long int onechecker;
  wholenum = (int) dec;
  fraction = dec - wholenum;

  while (wholenum != 0 ) {
    remainder = wholenum % 2;  // get remainder
    bin = bin + remainder * factor;  // store the binary as you get remainder
    wholenum /= 2;  // divide by 2
    factor *= 10;  // times by 10 so it goes to the next digit
  }
  long int binaryfrac = 0;
  int i;
  for (i = 0; i < 10; i++) {
    fraction *= 2;  // times by two first
    onechecker = fraction;  // onechecker is for checking if greater than one
    binaryfrac += fractionfactor * onechecker;  // store into binary as you go
    if (onechecker == 1) {
      fraction -= onechecker;  // if greater than 1 subtract the 1
    }   
    fractionfactor /= 10;
  }

  bin += binaryfrac;
  *binary = bin;
  free(decimal);
}

int main(int argc, char **argv) {   
  char *data;
  data = malloc(sizeof(char) * 32);
  int datai = 1;
  if (argc != 4) {
    printf("invalid number of arguments\n");
    return 1;
  }
  if (strcmp(argv[1], "-d")) {  
    if (strcmp(argv[3], "-b")) {
      decimal2binary(argv[2], &datai);
      printf("output is : %d" , datai);
    } else {
      printf("invalid parameter");
    }
  } else {
    printf("invalid parameter");
  }
  free(data);
  return 0;
} 
```

在这个问题中，`myatoi`工作正常并且`decimal2binary`算法是正确的，但是每次我运行代码时，它的输出都是 0。我不知道为什么。是指针的问题吗？我已经设置了变量数据的地址，但输出仍然没有改变。

```
./dec2bin "-d" "23" "-b" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:23:49.447

该行：

```
long int fractionfactor = .1; 
```

将设置`fractionfactor`为，`0`因为变量被定义为整数。尝试使用`float`or`double`代替。

相似地，

```
long int dec = myatoi(decimal); 
```

存储一个整数值，所以`wholenum`没有必要。

* * *

代替

```
i = (i << 3) + (i<<1) + (*string -'0'); 
```

代码将更具可读性

```
i = i * 10 + (*string - '0'); 
```

并且，使用当今的优化编译器，两个版本都可能生成相同的目标代码。一般来说，尤其是当你的代码不工作时，更倾向于可读性而不是优化。

* * *

```
fraction *= 2;  // times by two first 
```

像这样简单地将代码翻译成英语的注释是不必要的，除非您以不寻常的方式使用该语言。您可以假设读者熟悉该语言；相反，解释你的推理会更有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:29:14.663

```
if(!strcmp(argv[3] , "-b"))

if(!strcmp(argv[3] , "-d")) 
```

字符串比较函数的结果应该被否定，以便您可以继续。否则它将打印无效参数。因为当字符串相等时 strcmp 返回 '0'。

在“decimal2binary”函数中，您在函数内部为输入参数“decimal”分配了一个新的内存块，

```
decimal = malloc(sizeof(char) * 32); 
```

这实际上会覆盖您的输入参数数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T07:10:47.030

```
void decimal2binary(char *decimal, int *binary) {
  decimal = malloc(sizeof(char) * 32);
  ...
} 
```

上面的代码行为 分配了一个新的内存块`decimal`，它将不再指向输入数据。然后线

```
long int dec = myatoi(decimal); 
```

将新分配的内存（中的随机值）分配给`dec`.

所以删除线

```
decimal = malloc(sizeof(char) * 32); 
```

你会得到正确的答案。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T23:29:09.287

另一个编码技巧：而不是写作

```
if (strcmp(argv[1], "-d")) {  
  if (strcmp(argv[3], "-b")) {
    decimal2binary(argv[2], &datai);
    printf("output is : %d" , datai);
  } else {
    printf("invalid parameter");
  }
} else {
  printf("invalid parameter");
} 
```

您可以重构嵌套`if`块，使它们更简单、更易于理解。一般来说，最好尽早检查错误情况，将错误检查与核心处理分开，并尽可能具体地解释错误，以便用户知道如何纠正它们。

如果你这样做，也可能更容易意识到两个原始条件都应该被否定：

```
if (strcmp(argv[1], "-d") != 0) {  
  printf("Error: first parameter must be -d\n");
else if (strcmp(argv[3], "-b") != 0) {
  printf("Error: third parameter must be -b\n");
} else {
  decimal2binary(argv[2], &datai);
  printf("Output is: %d\n" , datai);
} 
```

# spring - Spring Social 是否正确使用 Twiiter、FaceBook 和 FoureSquare 登录应用程序？

> ID：13264163
> 
> 赞同：-1
> 
> 时间：2012-11-07T06:19:25.357
> 
> 标签：spring, spring-social

# 1

请建议哪个版本的 Spring Social 与 Spring 3.1 兼容（使用 Spring 3.1）

# 2

将这些 API 与应用程序集成的任何其他方式。

谷歌搜索了很多次，但没有得到#1 和#2 的太多帮助。

请指教！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T08:37:31.217

如果你查看 spring social 1.0.2 的 pom 文件，你可以找到依赖关系，从 pom 下面看起来它依赖于 3.1.0

```
<?xml version="1.0" encoding="UTF-8"?>
<project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <modelVersion>4.0.0</modelVersion>
  <groupId>org.springframework.social</groupId>
  <artifactId>spring-social-core</artifactId>
  <version>1.0.2.RELEASE</version>
  <licenses>
    <license>
      <name>The Apache Software License, Version 2.0</name>
      <url>http://www.apache.org/licenses/LICENSE-2.0.txt</url>
      <distribution>repo</distribution>
    </license>
  </licenses>
  <dependencies>
    <dependency>
      <groupId>org.apache.httpcomponents</groupId>
      <artifactId>httpclient</artifactId>
      <version>4.1.2</version>
      <scope>compile</scope>
      <optional>true</optional>
    </dependency>
    <dependency>
      <groupId>org.springframework</groupId>
      <artifactId>spring-jdbc</artifactId>
      <version>3.1.0.RELEASE</version>
      <scope>compile</scope>
      <optional>true</optional>
    </dependency>
    <dependency>
      <groupId>org.hamcrest</groupId>
      <artifactId>hamcrest-library</artifactId>
      <version>1.2.1</version>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit-dep</artifactId>
      <version>4.10</version>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.mockito</groupId>
      <artifactId>mockito-core</artifactId>
      <version>1.9.0</version>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.springframework</groupId>
      <artifactId>spring-web</artifactId>
      <version>3.1.0.RELEASE</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>org.springframework.security</groupId>
      <artifactId>spring-security-crypto</artifactId>
      <version>3.1.0.RELEASE</version>
      <scope>compile</scope>
      <optional>true</optional>
    </dependency>
    <dependency>
      <groupId>org.springframework</groupId>
      <artifactId>spring-test</artifactId>
      <version>3.1.0.RELEASE</version>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>com.h2database</groupId>
      <artifactId>h2</artifactId>
      <version>1.3.163</version>
      <scope>test</scope>
    </dependency>
  </dependencies>
</project> 
```

# jquery - 我的 jquery sortable 没有排序

> ID：13264166
> 
> 赞同：0
> 
> 时间：2012-11-07T06:19:31.817
> 
> 标签：jquery, html, css

我正在创建一个简单的滚动条，我想强制执行排序以使其变得有趣。但是我不明白为什么它没有按应有的方式排序。

```
$('.sorting').sortable({cursor:'pointer',
    tolerance:'pointer', scroll: false, revert: true}); 
```

我在[这里](http://jsfiddle.net/Kxtvg/230/)有一个视觉。此外，我知道我不是最擅长让事情看起来不错的，即 Css，但我正在努力，所以如果有什么我做的不对或看起来不对劲，我会非常开放并欣赏小费(s)。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:24:59.587

有一个 jquery 选择器问题检查这个[JSFIDDLE](http://jsfiddle.net/Kxtvg/235/)

```
 $(document).ready(function() {

     $('.sorting').sortable({cursor:'pointer',
    tolerance:'pointer', scroll: false, revert: true});

}); 
```

css

```
 #movelist{
   /* float : left;*/
    width: 322px;
    height: 205px;
}

.mousescroll{
  overflow: hidden;  

}
.mousescroll:hover {
    overflow-y: scroll;
}

.sort li{
border: solid 1px #48B1D9; 
list-style:none;
width:200px;
position:relative;
left:100px;
}

​ 
```

# events - 如何拦截来自 chrome 用户脚本的 pjax 页面更改？

> ID：13264167
> 
> 赞同：2
> 
> 时间：2012-11-07T06:19:34.723
> 
> 标签：events, google-chrome, userscripts, pushstate, pjax

**我可以检测`history.pushState`来自 chrome 用户脚本（*而不是扩展名*）的 url 更改，而无需轮询（或打破脚本的孤立世界以拦截网页的 javascript 上下文中的调用）吗？**

我的问题，更详细：

由于[Github](https://github.com/)通过[pjax](https://github.com/defunkt/jquery-pjax) [[最小化示例](http://pjax.heroku.com/)]使用`history.pushState`[ [WHAT-WG 规范](http://www.whatwg.org/specs/web-apps/current-work/#history)]进行站点内页面到页面站点导航，而不是在您浏览站点时重新加载整个页面，用户脚本针对站点上的特定 url只有当您在该网址进入网站或手动强制重新加载页面时才会触发。

我正在为 DRY 编写一个[on.js](https://gist.github.com/3957352)的小用户脚本库：整理用户脚本，通过拦截调用来为他们处理这类事情，`pushState`以查看我们何时在主机脚本想要运行的新页面上并仅调用它相关的。

如果在调用时触发事件，这将相对容易`history.pushState`，但据我所知，`popstate`除非第一页加载或用户触发历史记录的后退/前进移动，否则不会触发任何事件，这对我的目的来说毫无用处。

我也探索过将其限制为仅 pjax/github 的解决方案——当一个新页面加载时，github 会触发一个`$(document).trigger('pageUpdate')`事件，但是由于在`jQuery`内部而不是通过 DOM 事件实现这些，我听不到来自我的用户脚本运行的[孤立世界](http://www.vdocity.com/play-video/d9c0898f22a6d3551214f0ec1e2dfbd4/Google-Chrome-Extensions-Content-Scripts-and-Isolated-Worlds)的那些在，除非我在页面本身中注入一个小监听器，让它的`jQuery`实例向我报告这个事件，然后我还不如劫持页面`history.pushState`本身。

有没有人看到其他整洁的方法来实现这一目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T08:30:56.847

目前，我正在采用一种不太出色但有效的后一种方法，即注入一个脚本，该脚本拦截`history.pushState`调用并在调用完成后触发文档上的同名事件（并且，可选地，在 pjax`pageUpdate`事件也触发之后） ):

```
function inject(fn, args) {
  var script = document.createElement('script')
    , parent = document.documentElement;
  args = JSON.stringify(args || []).slice(1, -1);
  script.textContent = '('+ fn +')('+ args +');';
  parent.appendChild(script);
  parent.removeChild(script);
}

inject(function(pjax_event) {
  function reportBack() {
    var e = document.createEvent('Events');
    e.initEvent('history.pushState', !'bubbles', !'cancelable');
    document.dispatchEvent(e);
  }
  var pushState = history.pushState;
  history.pushState = function on_pushState() {
    if (pjax_event && window.$ && $.pjax)
      $(document).one(pjax_event, reportBack);
    else
      setTimeout(reportBack, 0);
    return pushState.apply(this, arguments);
  };
}, ['pageUpdated']);

document.addEventListener('history.pushState', function() {
  console.log('history.pushState', location.pathname);
  // user script code here
}, false); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-01T11:34:49.223

在 GreaseMonkey 更改它的沙盒策略之前（阅读：Firefox 做了，而 GM 没有使其向后兼容）可以`unsafeWindow`用来获取元素/窗口事件。[现在已经改变了，unsafeWindow 在与GreaseMonkey API](http://wiki.greasespot.net/Greasemonkey_Manual:API)一起使用时不再起作用。

您提出的将脚本注入页面的答案在 Github 上不起作用，因为它非常严格的内容安全策略 (CSP) 不允许内联脚本；

> 内容安全策略：默认源代码 *；script-src assets-cdn.github.com 收集器-cdn.github.com；[...]

对于两种不同的情况，我的解决方案是双重的：一种使用`@grant none`GreaseMonkey API ，另一种使用 GreaseMonkey API `@grant`。

**test-grant-none.user.js**

```
// ==UserScript==
// @name      test @grant none
// @namespace https://github.com/jerone/UserScripts
// @include   https://github.com/*
// @version   1
// @grant     none
// ==/UserScript==

unsafeWindow.$(document).on("pjax:end", function() {
    console.log('test @grant none 1');
});
unsafeWindow.$(window).on('popstate', function() {
    console.log('test @grant none 2');
}); 
```

**测试授权-GM.user.js**

```
// ==UserScript==
// @name      test @grant GM_*
// @namespace https://github.com/jerone/UserScripts
// @include   https://github.com/*
// @version   1
// @grant     GM_setValue
// ==/UserScript==

unsafeWindow.$(document).on("pjax:end", exportFunction(function() {
    console.log('test @grant GM_* 1');
}, unsafeWindow));
unsafeWindow.$(window).on('popstate', exportFunction(function() {
    console.log('test @grant GM_* 2');
}, unsafeWindow)); 
```

你可以在这里找到上面的脚本：[https ://gist.github.com/jerone/e38e8637887559870d84](https://gist.github.com/jerone/e38e8637887559870d84)

你可以在这里阅读更多：[https ://greasyfork.org/en/forum/discussion/3648/hook-into-jquery-existing-events](https://greasyfork.org/en/forum/discussion/3648/hook-into-jquery-existing-events)

感谢 Athorcis 为我指明了正确的方向。

# sql - 查询删除 id 不是多个值的位置？

> ID：13264168
> 
> 赞同：0
> 
> 时间：2012-11-07T06:19:36.387
> 
> 标签：sql

如何进行查询以删除 id 不是多个值的列？

我试过

```
DELETE FROM `Player` WHERE `Player`.`Squad` != 3,
4,
8,
9,
10,
11,
21, 
31,
36,
43,
64,
65,
66,
71,
74,
103,
105,
154,
171,
190; 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:21:58.450

使用`NOT IN`如下：

```
 DELETE FROM Player WHERE Player.Squad NOT IN ( 3, 4, 8,9,10,11,21, 31,36,43,
                                            64,65,66,71,74,103,105,154,171,190); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T06:22:18.540

你可以试试

```
Delete from player where player.squad not in (3,4,8,9,10,...) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-07T06:33:59.620

从小队不在的玩家中删除（3、4、8,9..........）； [http://dev.mysql.com/doc/refman/5.5/en//example-foreign-keys.html](http://dev.mysql.com/doc/refman/5.5/en//example-foreign-keys.html)请参考 dz 链接了解更多信息

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-07T06:21:55.000

你可以使用**NOT IN**

```
DELETE FROM `Player` WHERE `Player`.`Squad` not in (3,4,8,...) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-07T06:30:41.980

使用`NOT IN`sql 不区分大小写，我们可以使用 smalls 或 caps 没问题。

```
DELETE FROM Player WHERE Squad NOT IN ( 3, 4, 8,9,10,11,21, 31,36,43,
                                        64,65,66,71,74,103,105,154,171,190); 
```

# java - 如何调整弹出组件的大小

> ID：13264172
> 
> 赞同：0
> 
> 时间：2012-11-07T06:19:58.747
> 
> 标签：java, swing, popup

调用方法后如何调整弹出组件的大小`show()`？这个例子是行不通的：

```
package test;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import javax.swing.*;

public class MyFrame extends JFrame {

    public static void main(String[] args) {

        SwingUtilities.invokeLater(new Runnable() {

            @Override
            public void run() {
                new MyFrame().setVisible(true);
            }
        });
    }

    public MyFrame() {

        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        setLayout(new BorderLayout());
        setSize(400, 300);
        setLocation(400, 300);

        addMouseListener(new MouseAdapter() {

            @Override
            public void mouseClicked(MouseEvent e) {
                showPopup();
            }
        });
    }

    void showPopup() {
        JComponent popup = new JPanel();
        popup.setPreferredSize(new Dimension(100, 40));
        popup.setBorder(BorderFactory.createLineBorder(Color.GREEN));
        Popup p = PopupFactory.getSharedInstance().getPopup(this, popup, this.getLocationOnScreen().x, this.getLocationOnScreen().y);
        p.show();

        popup.setPreferredSize(new Dimension(200, 80));
        popup.setBorder(BorderFactory.createLineBorder(Color.RED));
    }
} 
```

组件的大小`popup`不会改变。

我找到了解决方案，您必须显式更改弹出组件窗口的大小。

```
SwingUtilities.getWindowAncestor(popup).setSize(200, 80); 
```

但是此解决方案仅在弹出组件位于另一个窗口中的情况下才有效。这不是我需要的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:43:16.507

不要提供首选尺寸。它会自动调整大小。

> popup.setPreferredSize(新维度(200, 80));

# c# - 如何使用 c# 从 ftp 服务器中一一读取文件？

> ID：13264173
> 
> 赞同：1
> 
> 时间：2012-11-07T06:19:59.370
> 
> 标签：c#, ftp

我正在从这样的 ftp 文件夹中获取文件。

```
request = (FtpWebRequest)FtpWebRequest.Create(new Uri("ftp://ipaddress/foldername"));
                request.UseBinary = true;
                request.Credentials = new NetworkCredential("username", "password");
                request.Method = WebRequestMethods.Ftp.ListDirectory;
                request.UseBinary = true;

                WebResponse response = request.GetResponse();

                StreamReader reader = new StreamReader(response.GetResponseStream());

                    string line = reader.ReadLine();
                    while (line != null)
                    {
                        result.Append(line);
                        result.Append("\n");
                        line = reader.ReadLine();
                    }
                    // to remove the trailing '\n'
                    result.Remove(result.ToString().LastIndexOf('\n'), 1);
                    reader.Close();
                    response.Close();

                    string[] results = result.ToString().Split('\n');

                    foreach (string filename in results)

                    {
 connetionString = "Data Source=testservername;Initial Catalog=testdb;User ID=sa;Password=sa";
                   connection = new SqlConnection(connetionString);

                   FtpWebRequest request1 = (FtpWebRequest)FtpWebRequest.Create(new Uri("ftp://servername/"  + filename));
                   request1.Method = WebRequestMethods.Ftp.DownloadFile;
                   request1.UseBinary = true;
                   request1.Credentials = new NetworkCredential("username", "password");
                   responses = (FtpWebResponse)request1.GetResponse();
                   StreamReader reader1 = new StreamReader(responses.GetResponseStream());

                   string xml = reader1.ReadToEnd();

                   ds.ReadXml(new XmlTextReader(new StringReader(xml)));

                   int i = 0;
                   connection.Open();
                   for (i = 0; i <= ds.Tables[1].Rows.Count - 1 ; i++)
                    {

                   sql = "insert into Details values('" + ds.Tables[1].Rows[i].ItemArray[0]            
                                                       + "')";

                        command = new SqlCommand(sql, connection);
                        adpter.InsertCommand = command;
                        adpter.InsertCommand.ExecuteNonQuery();

                    }

                        FtpWebRequest requestDelete = (FtpWebRequest)WebRequest.Create("ftp://sername/" + filename);
                        requestDelete.Method = WebRequestMethods.Ftp.DeleteFile;
                        requestDelete.UseBinary = true;
                        requestDelete.Credentials = new NetworkCredential("username", "password");
                        responseDelete = (FtpWebResponse)requestDelete.GetResponse();
                        try
                        {
                            string res = responseDelete.StatusDescription;
                            if (res == "250 Delete operation successful.")
                            {
                                MessageBox.Show("Done......");

                            }
                        }
                        catch (Exception ex)
                        {
                            System.Windows.Forms.MessageBox.Show(ex.Message);

                        }
                    }

                    responseDelete.Close();
                    connection.Close();
                    responses.Close();

            }
            catch (Exception ex)
            {
               System.Windows.Forms.MessageBox.Show(ex.Message);

            }
        } 
```

您好需要从 ftp 文件夹中获取文件并一一读取该 xml 文件并将其保存为我的数据库中的记录，之后需要删除该文件 ftp 文件夹。

如果为了测试，我在 ftp 文件夹中放置了两个文件，第一个文件读取成功。但是在读取第二个文件时出现错误，例如下一行中的“对象引用未设置对象实例”。

```
ds.ReadXml(new XmlTextReader(new StringReader(xml))); 
```

请告诉我我的代码有什么问题。我多次发送 ftp 请求很好，或者通过查看上面的代码行建议我如何做到这一点？

# jquery - 根据父 DIV 的动态宽度/高度 (jQuery) 缩放字体大小

> ID：13264176
> 
> 赞同：3
> 
> 时间：2012-11-07T06:20:11.920
> 
> 标签：jquery, scale, font-size, jquery-ui-resizable

开放使用：**jQuery** / **Javascript** / **PHP** / **CSS3** / **HTML5**

我想要实现的是**根据其父 div 的 width 和 height 动态更改子元素的字体大小**。父 div 使用 jQuery 在悬停时调整大小。现在，我希望它里面的文本随之增长和缩小（想象一下放大/缩小效果）。

一个小示范：http: [**//jsfiddle.net/Aye4h/**](http://jsfiddle.net/Aye4h/)

上面的示例显示了字体大小在窗口调整大小时动态变化。这几乎显示了我想要实现的目标，除了它不会基于窗口的大小，而是基于**其父 div**。

...有点像`background-size`CSS3 属性，除了文本。

这是我在网上找到的一些代码（**[LINK](http://css-tricks.com/forums/discussion/comment/41935/#Comment_41935)**），我认为我可以使用它们。
该代码为parent 内的**span**`#sidebar`执行此操作：

```
<script type="text/javascript">
$(document).ready(function() {
    var originalFontSize = 12;
    var sectionWidth = $('#sidebar').width();

    $('#sidebar span').each(function(){
        var spanWidth = $(this).width();
        var newFontSize = (sectionWidth/spanWidth) * originalFontSize;
        $(this).css({"font-size" : newFontSize, "line-height" : newFontSize/1.2 + "px"});
    });
});
</script> 
```

**同时，这是我的父 DIV 的 jQuery 代码**：（
它们被称为`.bubbles`，悬停时它们的大小会扩大）

```
$(window).bind("load", function() {

// LOAD BUBBLES
    $('.bubble').animate({
    opacity: 1,
    width: ['toggle', 'swing'],
    height: ['toggle', 'swing'],
    margin: '-75%'
  }, 400, function() {

// NOW, LOAD HOVER EFFECTS
// THIS EXPANDS BUBBLES BY 20% OF THEIR WIDTH & HEIGHT WHEN HOVERED
        $(".bubble").on('scale', function(e, s) {
            var data = $.data(this, 'size'),
                w = data.width,
                h = data.height;
            $(this).stop().animate({
                width: w * s,
                height: h * s,
                marginLeft: data.marginLeft - w * (s-1) / 2,
                marginTop: data.marginTop - h * (s-1) / 2
            });
        }).each(function() {
            var $this = $(this);
            $.data(this, 'size', {
                width: $this.width(),
                height: $this.height(),
                marginLeft: parseInt($this.css('margin-left')),
                marginTop: parseInt($this.css('margin-top'))
            });
        }).hover(function() {
            $(this).trigger('scale', [1.2])
        }, function() {
            $(this).trigger('scale', [1.0])

            });
        });

 }); 
```

**现场演示**：`http://174.127.117.20/~interact/`

现在我不知道如何将两者**合并**。我当前的代码已经保存了气泡的宽度和高度，并在悬停时将气泡从原始高度和宽度扩展了 20%...

现在我的问题是：如何在其中包含子 H1 元素（放置在 内部`.bubble`）的文本？我想在`.bubble`调整大小时缩放内部的所有内容以匹配它。我已经发现了上面的方法，但我不知道如何用我当前的代码来实现它，因为它们并不完全适用。

所有帮助将不胜感激，非常感谢您的宝贵时间！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-11T07:42:27.603

我使用 CSS3 比例实现了这一点：

（......假设它`a.expand`包含我们要扩展的内容。）

```
a.expand {
    transition:all .8s; 
    -moz-transition:all .8s; /* FIREFOX */
    -webkit-transition:all .8s; /* SAFARI and CHROME */
    -o-transition:all .8s; /* OPERA */

    color: #fff;
    text-align: center;
    font-family: Arial, sans-serif;
    font-size: 2em;
    width: 250px; /* 2x WIDTH HERE */
    height: 250px;  /* 2x HEIGHT HERE */

    transform: scale(0.80);
    -webkit-transform: scale(0.80);
    -moz-transform: scale(0.80);
    -o-transform: scale(0.80);
    -ms-transform: scale(0.80);
}

a.expand:hover {
    transform: scale(1);
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -o-transform: scale(1);
    -ms-transform: scale(1);
} 
```

我最初缩小内容以避免在从给定大小过度缩放元素时出现像素化/模糊效果。上面的代码完美运行。

* * *

该解决方案完全使用**CSS3**完成。

# ios5 - 将代码升级到 IOS5 Storyboard... self.view assignments 不工作

> ID：13264177
> 
> 赞同：0
> 
> 时间：2012-11-07T06:20:16.817
> 
> 标签：ios5, uiview, storyboard, self

我是新手，找不到答案。在我的旧 4.x 应用程序中，我添加了实现我自己的 UIView 的文件，我在其中运行了一些“drawRect:(CGRect)rect”来绘制一些线条。例如...

```
/// DrawView.h
#import <UIKit/UIKit.h>
@interface DrawView : UIView <UINavigationControllerDelegate> {
...
}
-(void)DoSomething;
@end 
```

然后，在我的视图控制器 .m 文件中，导入 DrawView.h 后，我可以这样做：

```
self.view = (DrawView *)self.view;
[(DrawView *)self.view DoSomething]; 
```

在我的 IOS4 东西中工作就像一个魅力。现在我尝试了一个使用故事板的 IOS5 应用程序，这个技巧不再有效。

第一行...

```
self.view = (DrawView *)self.view; 
```

不会崩溃。但我没有在屏幕上看到任何绘画。期待 drawRect 显示一些东西。没有什么。所以我怀疑任务是否成功，或者某处隐藏了一些东西。

第二行...

```
[(DrawView *)self.view DoSomething]; 
```

返回以下错误：

**-[UIView DoSomething]：无法识别的选择器发送到实例 0x87631b0 sharedlibrary apply-load-rules all**

节目接收信号 SIGABRT

我在某处读过drawRect（用于绘画）不能直接在视图控制器上运行，并且必须在UIView的单独实例化实现上运行。这就是我这样做的原因。但显然我为控制器的 self.view 分配自定义视图的旧技巧不再有效。

你知道怎么做吗？我的意思是，当使用故事板时？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T18:15:44.490

我没有看到任何其他选择。所以我会发布这个作为答案。如果您知道任何内容，请随时发表评论或发布更好的替代方案...

```
DrawView *myView = [[[DrawView alloc] initWithFrame:CGRectMake(0, 0, 320, 480)] autorelease]; 
[self.view addSubview:myView]; 
[myView DoSomething]; 
```

在我的例子中，我实际上在 .h 文件中声明了 *myView，然后合成它，删除了“autorelease”，并释放了它。

# php - PHP日期转换

> ID：13264185
> 
> 赞同：0
> 
> 时间：2012-11-07T06:20:51.193
> 
> 标签：php, datetime

该代码中输出错误日期的问题是什么？

```
$date = "1990-05-07"; // Y-m-d
$date1 = date("d/m/Y", strtotime($date)); // Here is fine.
$date2 = date("Y-m-d", strtotime($date1)); // Here is wrong.

echo $date2; // output: 1990-07-05 
```

* * *

**上面的代码是一个简单的演示，具体代码是：**（Yii Framework）

模型.php

```
public function afterFind()
{
    if ($this->birthday)
    {
        $this->birthday = date("d/m/Y", strtotime($this->birthday));
    }
}

public function beforeSave()
{
    if ($this->birthday)
    {
        $this->birthday = date("Y-m-d", strtotime($this->birthday));
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:23:33.780

因为您正在`$date`从“1990-05-07”更改为“07/05/1990”。您已将其从 更改`Y-m-d`为`d/m/Y`，并且解析器将其识别为`m/d/Y`. 您*不能*重用第一次约会调用的结果，因为它不会按照您认为的方式解析。

## 解决方案 1（最佳）

重用你从原始日期解析的时间戳，不会弄乱原始时间戳：

```
$date = "1990-05-07"; // Y-m-d
$timestamp = strtotime($date);
$date1 = date("d/m/Y", $timestamp);
$date2 = date("Y-m-d", $timestamp);
echo $date1 . " ; " . $date2; 
```

## 解决方案2（也不错）

按照[@PragneshChauhan](https://stackoverflow.com/users/1307530/pragnesh-chauhan)所说的去做，因为他打败了我来编辑我的帖子。

## 解决方案 3（不太理想）

`$date`在对 的调用之间重置`date()`，它工作正常：

```
$date = "1990-05-07"; // Y-m-d
$date = date("d/m/Y", strtotime($date));
echo $date; // output: 07/05/1990

echo "\n";

$date = "1990-05-07"; // Y-m-d
$date = date("Y-m-d", strtotime($date));
echo $date; // output: 1990-05-07 
```

概念证明：[http ://codepad.org/JnVpDFb7](http://codepad.org/JnVpDFb7)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:33:01.260

你也可以像这样使用它：

```
<?php
  $date = "1990-05-07"; // Y-m-d
  $date_ex=explode("-",$date);
  $date1=mktime(0,0,0,$date_ex[1],$date_ex[2],$date_ex[0]);

  $date=date("d/m/Y",$date1);
  $date=date("Y-m-d",$date1);

//echo $date = date("d/m/Y", strtotime($date)); // Here is fine.
//echo $date = date("Y-m-d", strtotime($date)); // Here is wrong.

echo $date; // output: 1990-07-05
  ?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T06:23:37.997

尝试

```
$date = "1990-05-07"; // Y-m-d
$date1 = date("d/m/Y", strtotime($date));
$date2 = date("Y-m-d", strtotime($date));
echo $date2; // output: 1990-07-05 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T08:37:41.617

**使用“Vikas Umrao”的解决方案提示：**

```
public function afterFind()
{
    if ($this->birthday)
    {
        $birthday = explode("-", $this->birthday);
        $mktime = mktime(0,0,0,$birthday[1],$birthday[2],$birthday[0]);
        $this->birthday = date("d/m/Y",$mktime);
    }
}

public function beforeSave()
{
    if ($this->birthday)
    {
        $birthday = explode("/", $this->birthday);
        $mktime = mktime(0,0,0,$birthday[1],$birthday[0],$birthday[2]);
        $this->birthday = date("Y-m-d",$mktime);
    }
} 
```

# android - 如何增加从 facebook api 发布的图片的大小？

> ID：13264186
> 
> 赞同：3
> 
> 时间：2012-11-07T06:20:50.560
> 
> 标签：android, facebook-graph-api

```
 <?xml version="1.0" encoding="utf-8"?>
                    <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal" 

                        android:padding="10dip"
                        android:background="@drawable/greybox"
                        >

                    <ImageView
                            android:id="@+id/profile_pic"
                            android:layout_width="60dp"
                            android:layout_height="60dp"
                            android:layout_marginTop="5dp"
                            android:layout_alignParentTop="true"
                            android:layout_alignParentLeft="true"
                           /> 

                     <RelativeLayout 
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                         android:layout_marginLeft="20dp"

                        android:layout_toRightOf="@+id/profile_pic">

                        <TextView
                            android:id="@+id/name"
                            android:layout_width="fill_parent"
                            android:layout_height="wrap_content"
                            android:text="Kumar"
                            android:textSize="18dp"
                            android:textColor="#4c3f38"
                            android:layout_alignParentLeft="true"

                             />

                        <TextView
                            android:id="@+id/msg"
                            android:layout_width="fill_parent"
                            android:layout_height="wrap_content"
                            android:textSize="15dp" 
                            android:layout_below="@+id/name"
                              android:textColor="#7b7674"

                             />

                        <LinearLayout
                        android:id="@+id/picpostlayout"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:layout_gravity="top|center"
                        android:layout_marginTop="5dp"
                        android:layout_below="@+id/msg"
                        android:orientation="vertical" >

                        <ImageView
                            android:id="@+id/picpost"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:adjustViewBounds="true"
                            android:scaleType="fitXY"
                            android:src="@null" />
                    </LinearLayout>

                        <TextView
                            android:id="@+id/comment"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:textSize="15dp" 
                            android:layout_marginTop="5dp"
                            android:layout_marginRight="5dp"
                            android:layout_below="@+id/picpostlayout"
                            android:layout_alignParentRight="true"

                            android:textColor="#000000"

                             />

                    </RelativeLayout>
                    </RelativeLayout>

    Here is my complete xml.I am using the linearlayout to show the posted picture,but it is still showing very small size.I used two relative layouts, one for complete xml and another for name,message,postpicture.
   Here is also my screenshot to the above given xml file.I am getting the large image but I cant able to show the same size,it is showing very small size.
   I got an post picture from facebook api,I am getting very large image as I used _n.jpg,but when I tried to display using imageview it is showing very small size.

        ][1] 

          [1]: http://i.stack.imgur.com/63nTO.png

 Here is the code of getting posted picture from facebook api.If the post object has picture field then I get that picture and changed that into large image and I added that to my ArrayList pic.

           if(jsonObject.has("picture"))
            {
            String fetchedURL = jsonObject.getString("picture");
            String getFeedPicture = fetchedURL.replaceAll("_s.jpg", "_n.jpg");
            pic.add(getFeedPicture);
            } 
```

然后我将该 ArrayList 发送到我的适配器，在那里我通过发送到 imageloader 类将该图像设置为 imageview。这是我的加载器类参考图像加载器，我正在将图像设置为 imageview。我在我的适配器类中设置它。

imageLoader.DisplayImage(postimage.get(position).replace(" ", "%20"), postimg) ;

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:49:26.807

对您当前的代码进行此修改：

```
String fetchedURL = JOFeeds.getString("picture");
String getFeedPicture = fetchedURL.replaceAll("_s.jpg", "_n.jpg");
pic.add(getFeedPicture); 
```

这是从您的 Feed 中获得更高质量图片的最简单方法。这段代码的全部意义在于，默认情况下，Facebook API 返回一个小版本的图像。通过替换`_s.jpg`with`_n.jpg`给你一个更大的形象。

我在整个应用程序中都使用了这段代码，它每次都像魅力一样工作。

![示例图像](../Images/e7afd8e96bb6b180c675601e5fc4dd7c.png)

对应的代码是：

```
<LinearLayout
    android:id="@+id/linlaFeedPicture"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_gravity="top|center"
    android:layout_margin="1dp"
    android:gravity="center"
    android:orientation="vertical" >

    <ImageView
        android:id="@+id/imgvwFeedPicture"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:adjustViewBounds="true"
        android:scaleType="fitXY"
        android:src="@null" />
</LinearLayout> 
```

# java - 再次提交失败的事务

> ID：13264187
> 
> 赞同：0
> 
> 时间：2012-11-07T06:20:59.167
> 
> 标签：java, hibernate

我在事务中存在一些数据库操作。我正在设置实体对象并尝试使用 session.merge(object) 保存它们。但是由于某些约束，交易失败了。我提供了一个异常处理程序，我在其中再次设置相同的对象并尝试提交它。我的问题是，在交易失败后，我之前设置的值是否仍然存在于对象中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:25:34.843

我认为事务回滚没有理由改变实体的状态。回滚的整个想法是将系统重置到事务开始之前的最后一个状态。

# c# - 通过正则表达式限制所有特殊字符

> ID：13264190
> 
> 赞同：1
> 
> 时间：2012-11-07T06:21:30.833
> 
> 标签：c#, regex

有一长串字符不允许验证winform应用程序的输入框。

因此，我认为与其列出不允许的长列表，不如选择允许的较短的列表。

允许的集合是`(a-z,A-Z, 0-9,@,.)`.Rest 任何可以输入的东西都是不允许的。

这是我为此制作的正则表达式。

```
Regex.IsMatch(textBox1.Text, @"[@\.\w]+$") 
```

它似乎在某些情况下有效，但是当我以这种格式输入数据时，`normal character or number special character normal character or number`它似乎打破了几个例子`ee(vv, 55)44,aba&3B`。

无法弄清楚这有什么问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:32:10.507

您的正则表达式无效，因为您没有验证所有字符串，而是验证最后一部分。您应该以`^`- 行符号开头。

```
Regex.IsMatch(textBox1.Text, @"^[\w@.]*$") 
```

`\w`也意味着每种语言的字母，因此它也会验证字符串`"абц"`。因此，如果您只需要英语，请使用

```
Regex.IsMatch(textBox1.Text, @"^[a-zA-Z0-9@.]*$") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:31:55.490

试试这个 ：

```
Regex.IsMatch(textBox1.Text, @"^[a-zA-Z0-9@.]*$") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T06:41:10.947

采用

```
^[-a-zA-Z0-9  _  -  \. @]* 
```

作为正则表达式文本。

# php - 如何从pdf文件中获取文本并将其保存到数据库中

> ID：13264194
> 
> 赞同：2
> 
> 时间：2012-11-07T06:21:48.273
> 
> 标签：php, mysql

> **可能重复：**
> [php：pdf到字符串](https://stackoverflow.com/questions/4780697/php-pdf-to-string)

我正在尝试将 pdf 文件的文本内容保存到数据库中。[我发现这个链接对Converting PDF to string](https://stackoverflow.com/questions/4780697/php-pdf-to-string)很有帮助，并着手处理它。但它只转换非常少的数据:(为什么会这样？

或者关于如何将复杂的pdf文件（包含页眉、页脚、表格、某些页面中的两列布局等）转换为字符串并将其保存到数据库的任何其他解决方案？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T06:31:18.733

很久以前，我写了一个脚本，可以下载 pdf 并将其转换为文本。此函数进行转换：

```
function pdf2string($sourcefile) {

$content = $sourcefile;

$searchstart = 'stream';
$searchend = 'endstream';
$pdfText = '';
$pos = 0;
$pos2 = 0;
$startpos = 0;

while ($pos !== false && $pos2 !== false) {

$pos = strpos($content, $searchstart, $startpos);
$pos2 = strpos($content, $searchend, $startpos + 1);

if ($pos !== false && $pos2 !== false){

if ($content[$pos] == 0x0d && $content[$pos + 1] == 0x0a) {
$pos += 2;
} else if ($content[$pos] == 0x0a) {
$pos++;
}

if ($content[$pos2 - 2] == 0x0d && $content[$pos2 - 1] == 0x0a) {
$pos2 -= 2;
} else if ($content[$pos2 - 1] == 0x0a) {
$pos2--;
}

$textsection = substr(
$content,
$pos + strlen($searchstart) + 2,
$pos2 - $pos - strlen($searchstart) - 1
);
$data = gzuncompress($textsection);
$pdfText .= pdfExtractText($data);
$startpos = $pos2 + strlen($searchend) - 1;

}
}

return preg_replace('/(\s)+/', ' ', $pdfText);

} 
```

编辑：我称`pdfExtractText()`这个函数在这里定义：

```
function pdfExtractText($psData){

if (!is_string($psData)) {
return '';
}

$text = '';

// Handle brackets in the text stream that could be mistaken for
// the end of a text field. I'm sure you can do this as part of the
// regular expression, but my skills aren't good enough yet.
$psData = str_replace('\)', '##ENDBRACKET##', $psData);
$psData = str_replace('\]', '##ENDSBRACKET##', $psData);

preg_match_all(
'/(T[wdcm*])[\s]*(\[([^\]]*)\]|\(([^\)]*)\))[\s]*Tj/si',
$psData,
$matches
);
for ($i = 0; $i < sizeof($matches[0]); $i++) {
if ($matches[3][$i] != '') {
// Run another match over the contents.
preg_match_all('/\(([^)]*)\)/si', $matches[3][$i], $subMatches);
foreach ($subMatches[1] as $subMatch) {
$text .= $subMatch;
}
} else if ($matches[4][$i] != '') {
$text .= ($matches[1][$i] == 'Tc' ? ' ' : '') . $matches[4][$i];
}
}

// Translate special characters and put back brackets.
$trans = array(
'...' => '…',
'\205' => '…',
'\221' => chr(145),
'\222' => chr(146),
'\223' => chr(147),
'\224' => chr(148),
'\226' => '-',
'\267' => '•',
'\374'  => 'ü',
'\344'  => 'ä',
'\247'  => '§',
'\366'  => 'ö',
'\337'  => 'ß',
'\334'  => 'Ü',
'\326'  => 'Ö',
'\304'  => 'Ä',
'\(' => '(',
'\[' => '[',
'##ENDBRACKET##' => ')',
'##ENDSBRACKET##' => ']',
chr(133) => '-',
chr(141) => chr(147),
chr(142) => chr(148),
chr(143) => chr(145),
chr(144) => chr(146),
);
$text = strtr($text, $trans);

return $text;
} 
```

EDIT2：要从本地文件中获取内容，请使用：

```
$fp = fopen($sourcefile, 'rb');
$content = fread($fp, filesize($sourcefile));
fclose($fp); 
```

EDIT3：在将数据保存到数据库之前，我使用了转义函数：

```
function escape($str)
{
$search=array("\\","\0","\n","\r","\x1a","'",'"');
$replace=array("\\\\","\\0","\\n","\\r","\Z","\'",'\"');
return str_replace($search,$replace,$str);
} 
```

# svn - 修改提交消息

> ID：13264198
> 
> 赞同：0
> 
> 时间：2012-11-07T06:21:55.177
> 
> 标签：svn, repository, tortoisesvn, ubersvn

我的计算机中有一个本地运行的 ubersvn 存储库，我想修改我上次提交时的提交消息。无论如何通过 ubersvn 或 tortoisesvn （我用作接口）来更改先前提交的提交消息？我是管理员。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T08:14:45.733

提交日志消息是 revision 的属性`svn:log`，你可以像任何其他 svn-property 一样使用`svn propedit`.

PS：并用proplist查看

```
>svn proplist --revprop -r "HEAD" http://mayorat.ursinecorner.ru:8088/svn/Hello/ -v
Unversioned properties on revision 34:
  svn:author
    lazybadger
  svn:date
    2012-03-24T06:28:12.536500Z
  svn:log
    Added file with vowels in filename 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T08:19:14.650

从 TurtoiseSvn - 显示日志 -> 编辑日志消息。

# jquery-ui - 将 jQuery UI 对话框附加到其父级

> ID：13264201
> 
> 赞同：1
> 
> 时间：2012-11-07T06:22:02.550
> 
> 标签：jquery-ui, jquery-ui-dialog

我有以下html：

```
<ul id="sortable">
<li class="ui-state-default">1
    <div class="dialog-modal" title="Animal Facts" style="display:none;">
    <p>What is the fastest animal on Earth?</p>
    </div>
  </li>
<li class="ui-state-default">2
<div class="dialog-modal" title="Animal Facts" style="display:none;">
<p>What is the largest animal on Earth?</p>
</div></li> 
```

​和以下 jQuery 代码：

```
$( ".dialog-modal" ).dialog({
        autoOpen: false,
        height: 300,
        width: 350,
        modal: true
        });

$('.ui-state-default').click(function() {
    $(this).find("div").dialog( "open" );
 }); 
```

这不会在单击时打开模式对话框，我错过了什么？

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-20T08:41:43.830

这是 jQuery UI 对话框的当前行为。

定义后，将创建 jQuery UI 对话框并将其附加到正文。

解决方法是在创建后将对话框附加到其原始父级，例如：

```
$(function () {
    $(".dialog-modal").each(function (index) {

        var origContainer = $(this).parent();

        $(this).dialog({
            autoOpen: false,
            height: 300,
            width: 350,
            modal: true,
            create: function () {
                $(this).closest('div.ui-dialog')
                    .click(function (e) {
                    e.stopPropagation();
                });
            }
        }).parent().appendTo(origContainer);
    });

    $('.ui-state-default').click(function (event) {
        $(this).find("div").find(".dialog-modal").dialog("open");
    });
}); 
```

重要说明：查看`create`定义的事件；这是必要的，因为在类元素单击上执行的打开对话框方法`.ui-state-default`会在对话框内的每次单击时触发！它在形式上是正确的，因为现在对话框包含在其父级中，并且单击通过类传播到父`.ui-state-default`级。随着`stopPropagation`问题的解决。

这有点骇人听闻，但它确实有效。

工作小提琴：http: [//jsfiddle.net/IrvinDominin/Avtg9/8/](http://jsfiddle.net/IrvinDominin/Avtg9/8/)

随着 jQuery UI 1.10.0 的未来版本将添加选项`appendTo`，以处理这种情况而无需任何解决方法[http://api.jqueryui.com/dialog/#option-appendTo](http://api.jqueryui.com/dialog/#option-appendTo)

# recursion - 在递归函数Python3中打印

> ID：13264202
> 
> 赞同：0
> 
> 时间：2012-11-07T06:22:03.067
> 
> 标签：recursion, python-3.x

我的递归函数的重点是以相反的顺序打印整数。def rDisp(s): n=str(s) if n == "": return n else: return rDisp(n[1:]) + n[0]

```
def main():
    number=(int(input("Enter a number :")))
    rDisp(num)

main() 
```

如果在主函数中我实现 print(reverseDisplay(number))，它可以工作，但是，出于此代码的目的，我希望 reverseDisplay 函数进行打印。我将如何在该代码块中实现打印功能。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:05:16.383

未经测试的代码：

```
def reversePrint(s):
    if not s: 
        return
    print(s[-1])
    reversePrint(s[:-1])

def main():
    number=input("Enter a number :")
    reversePrint(number)

main() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T09:00:47.957

刚收到

```
def reverseDisplay(s):
    n=str(s)
    if n == "":
        return n
    else:
        reverseDisplay(n[1:])
        b=n[0]
        print(b,end='') 
```

# encoding - 代码文件是否应该有 BOM？

> ID：13264206
> 
> 赞同：1
> 
> 时间：2012-11-07T06:22:22.233
> 
> 标签：encoding, byte-order-mark

我开始一个新项目，我想知道我应该为我的代码文件选择什么编码。

我正在 Linux 上用 Python + JavaScript + HTML + CSS 编写一个网络应用程序，我的代码编辑器 Notepad++ 和 KomodoEdit 给了我一些选择：

*   ANSI编码
*   无 BOM 的 UTF-8 编码
*   以 UTF-8 编码

我不确定我应该选择哪种编码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:24:53.767

答案可能取决于您使用的操作系统和软件版本（特别是 Python 版本），但我会选择“在没有 BOM 的情况下以 UTF-8 编码”

在实践中，我会避​​免在源代码中使用非 ASCII 字符。如果您需要它们，请仅在字符串文字和注释中使用它们。

^(避免将它们放在标识符中。)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:28:43.323

更好地使用 UTF-8 作为其 Web 应用程序，UTF-8 支持几乎所有的浏览器和操作系统。

# ruby-on-rails - 在活动记录中分组

> ID：13264208
> 
> 赞同：0
> 
> 时间：2012-11-07T06:22:31.097
> 
> 标签：ruby-on-rails, ruby

我有一个带有两条记录的实例变量。

```
 id   item_with_detail_id  quantity

           100       205                3

           101       205                5 
```

现在，我希望使用 Active record group_by 得到如下结果。

```
 100       205                8 
```

我试过了

```
@bill_details=@bill_details.group_by{|bd| bd.item_with_detail_id}.values.map(&:first) 
```

但它不工作。请帮助我实现结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:01:54.637

@账单

```
select("id, item_with_detail_id,SUM(quantity)").group("item_with_group_id") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T05:30:47.507

最后我解决了这个问题。如下

在控制器中 =>

```
@bill_details = @bill_details.group_by{|bd| bd.item_with_detail_id}.values 
```

它将给出以下结果

```
 #[[#<BillDetail id: 100, item_with_detail_id: 205, quantity: 3, #<BillDetail id:101, item_with_detail_id: 205, quantity: 5]] 
```

在视图页面中：

```
<% for bd in @bill_details%>
  <%quantity=0%>
  <%for bill_detail in  bd%>
  <%quantity+=bill_detail.quantity%>
  <%end%>
  <%bd=bd.first%>
<%end%> 
```

# ios - iOS如何添加具有相同名称但不同重量的自定义字体？

> ID：13264210
> 
> 赞同：4
> 
> 时间：2012-11-07T06:22:37.267
> 
> 标签：ios

我在添加具有相同名称但重量不同的自定义字体时遇到问题，例如：

```
[_lblFullName setFont:[UIFont fontWithName:@"Museo Sans 500" size:20]];
[_lblTicket setFont:[UIFont fontWithName:@"Museo Sans 900" size:12]]; 
```

我只能通过只添加一种字体粗细来完成这项工作，但我必须重命名它`Museo Sans`并且只导入一种字体来捆绑和删除另一种字体。喜欢：

```
[_lblFullName setFont:[UIFont fontWithName:@"Museo Sans" size:20]];
[_lblTicket setFont:[UIFont fontWithName:@"Museo Sans" size:12]]; 
```

但它只允许我使用一种字体粗细，我需要导入这两种字体粗细。请帮忙。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-08T07:41:55.593

```
[_lblFullName setFont:[UIFont fontWithName:@"MuseoSans-500" size:20]];
[_lblTicket setFont:[UIFont fontWithName:@"MuseoSans-900" size:12]]; 
```

您可以通过运行以下命令访问“Museo Sans”系列中自定义字体的名称：

```
 NSArray *fonts = [UIFont fontNamesForFamilyName:@"Museo Sans"];

for (NSString *fname in fonts) {
    UIFont *font = [UIFont fontWithName:fname size:12.0];
    NSLog(@"name: %@ font: %@", fname, font);
} 
```

与 fontWithName 一起使用时，无论哪个字符串记录为名称都有效。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-03-25T07:15:10.643

在`Swift 2.2`中，您可能想要这样做：

```
let fonts = UIFont.fontNamesForFamilyName("Museo Sans")
for name in fonts {
    let font = UIFont(name: name, size: 12)
    print("name: \(font?.fontName) font: \(font)")
} 
```

# asp.net - 在会话超时捕获信息

> ID：13264212
> 
> 赞同：-2
> 
> 时间：2012-11-07T06:22:51.890
> 
> 标签：asp.net

试图实现数据保存在会话超时。我怎样才能捕获`session timeout event`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:25:41.630

您必须在中实现`Session_End`事件`Global.asax`，当调用 Abandon 方法或会话过期时，会在请求结束时引发 Session_End 事件。当 Timeout 属性指定的分钟数过去而没有为会话发出请求时，会话将过期。[**MSDN 参考**](http://msdn.microsoft.com/en-us/library/system.web.sessionstate.sessionstatemodule.end.aspx)

```
publicvoid Session_OnEnd()
{
    //Saving of data goes here.    
} 
```

# iphone - 如何在 json 解析中从子类别中获取上一个类别以在 iphone 中单击后退按钮？

> ID：13264213
> 
> 赞同：2
> 
> 时间：2012-11-07T06:22:57.793
> 
> 标签：iphone, objective-c, json

我是 iphone 开发的新手。我正在开发一个 iphone 应用程序，例如从 json 解析的 sms 集合在该应用程序中具有第一个类别列表，例如有趣的短信，当单击爱短信时 UITableview 中的爱短信然后我在 uitablview 中获得爱短信列表 ....点击特定爱短信后然后我在视图中显示特定的短信......但我的问题是当点击从爱短信到主要类别的返回选项时，它的响应速度很慢我的返回按钮代码是

```
-(IBAction)btnBackClicked:(id)sender
{
    btnAddFav.hidden = FALSE;
    btnFavList.hidden = FALSE;

    [self startActivityIndicator1];

    int Type;
    indexId--;
    if(indexId < 0)
        indexId = 0;

    NSMutableDictionary *tempDict1;

    for(int i=0;i<[test.JsonPageList count];i++)
    {
        tempDict1 = [[NSMutableDictionary alloc]init];
        tempDict1 = (NSMutableDictionary *)[test.JsonPageList objectAtIndex:i];

        if (indexId == 0) 
        {
            tempDict1 = (NSMutableDictionary *)[test.JsonPageList objectAtIndex:0];
            Type = [[tempDict1 valueForKey:@"type"] intValue];
            if (Type == 0) 
            {
                //                lblTitleofApp.hidden = TRUE;``
                btnBack.hidden = TRUE;

                NSArray *arr=[[tempDict1 valueForKey:@"desc"] componentsSeparatedByString:@";"];
                NSString *subStar = @"|@$:";
                NSString *sub=@":$@|";

                [test.arrTitle removeAllObjects];
                [test.arrnew removeAllObjects];
                [test.arrId removeAllObjects];
                [test.arrImages removeAllObjects];
                for (int i=0; i<[arr count]-1; i++)
                {
                    [test.arrTitle addObject:[[arr objectAtIndex:i] substringToIndex:NSMaxRange([[arr objectAtIndex:i] rangeOfString:sub])-4]];
                    [test.arrnew addObject:[[arr objectAtIndex:i] substringFromIndex:NSMaxRange([[arr objectAtIndex:i] rangeOfString:sub])]];
                    [test.arrId addObject:[[test.arrnew objectAtIndex:i] substringToIndex:NSMaxRange([[test.arrnew objectAtIndex:i] rangeOfString:subStar])-4]];  
                    [test.arrImages addObject:[[arr objectAtIndex:i] substringFromIndex:NSMaxRange([[arr objectAtIndex:i] rangeOfString:subStar])]];
                }
            }
        } 
```

如何从特定类别中快速获取 privious 主要类别列表 ....当单击后退按钮时，我可以使用哪个概念来解决这个问题，对不起简单和糟糕的英语单词，请指导我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:26:50.333

在您的主要类别 xib 文件中，将您的视图放入导航控制器中，它具有自动后退按钮，因此您不需要后退导航的代码。将导航控制器拖到 xib 并将您的视图和/或表格视图放入其中。

# c - c结构的64位对齐/填充？

> ID：13264215
> 
> 赞同：4
> 
> 时间：2012-11-07T06:23:12.607
> 
> 标签：c, 64-bit, padding

```
struct tag_t_ {
    u_int8_t op;
    u_int8_t num;
    u_int32_t labels[5];
}; 
```

在上面的结构中，64 位编译器会在哪里添加填充字节？
它是在第一个标签之前还是在第一个标签的末尾？
如果填充位于第一个标签的末尾，在访问（读取）32 位拱门中的第一个标签时会导致任何错误结果吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T06:26:57.227

这取决于编译器，没有可以应用并保证成立的通用规则。

我不确定问题的后半部分，因为在 32 位架构上，编译器当然会有所不同。直接转移结构从来都不是一个好主意。

因为填充的原因，如果你`sizeof (tag_t_)`在 64 位机器上向某些外部媒体写入字节，传输媒体，然后`sizeof (tag_t_)`在 32 位机器上尝试读取，就会失败。所以不要那样做。逐个字段序列化结构，并以相同的方式反序列化它们。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-07T06:27:00.520

我在 64 位系统中运行它——结构的内存映射是

```
offset:  variable
     0:  op num     
     2:  00 00   // only 2 paddings
     4:  label0
     8:  label1
         ...
    20:  label5 
```

大小（结构）== 24

// 这里可以在字符和第一个 32 位整数之间放置一个无符号短整数，而不会影响结构的大小。

结构填充的规则是宽度为 W 的任何基本变量都将与该宽度对齐。双倍作为第二个参数将导致 7 个填充字节之后`op`，并且只有 3 个填充字节之后`num`，因为标签 [0] 然后将从可被 4 整除的偏移量开始。

32/64 位系统之间存在差异：32 位系统仍会将 8 字节变量与 32 位边界对齐。64 位系统会将 long int 和 double 对齐到 8 字节边界。

这将使在 32 位系统中使用该结构变得安全。如果结构中有双精度数，仍然可以使结构与变量的仔细规划兼容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T06:26:21.863

填充通常应用在每个字段的末尾。不，64 位编译的二进制文件与 32 位二进制文​​件不兼容。因此，您可能必须为 32 位架构重新编译所有内容。

然后对齐将由 32 位编译器进行处理，并相应地生成地址。

# php - 使用 PDO 和 PHP 根据 MySQL 数据检查变量

> ID：13264216
> 
> 赞同：0
> 
> 时间：2012-11-07T06:23:14.770
> 
> 标签：php, mysql, variables, pdo, sqlbindparameter

我在之前的登录表单中输入并提交了以下变量：

```
$login = $_POST['login'];
$password = $_POST['password']; 
```

我使用 PDO 连接到我的 MySQL 数据库，如下所示：

```
require_once('agent-config.php');
    try {
$conn = new PDO(A_DB_HOST, A_DB_USER, A_DB_PASSWORD);
$conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
} catch (PDOException $e) {
echo 'Connection failed: ' . $e->getMessage();
} 
```

接下来，我使用变量 $login 和 $password 来选择匹配的用户名和密码：

```
//Create SELECT query    
$qry = $conn->prepare("SELECT * FROM members WHERE login=? AND passwd=?");
    $qry->bindParam(1, $login);
    $qry->bindParam(2, $password); 
```

最后，我使用以下命令检查查询是否成功：

```
//Check whether the query was successful or not
    if($qry->execute())
    $count = $qry->rowCount();
    echo $count;
    print_r($qry);
    if($count >0) {
        //Login Successful
        session_regenerate_id();
        $member = $qry->fetch(POD::FETCH_ASSOC);
        $_SESSION['SESS_AGENT_ID'] = $member['member_id'];
        $_SESSION['SESS_login'] = $member['login'];
        session_write_close();
        header("location: agent-member-index.php");
        exit();
    }else {
        //Login failed
        header("location: login-failed.php");
        exit();
    } 
```

但是，登录名和密码没有正确传递，我的 $count 结果为 0。我知道一个问题是存储在数据库中的密码是密码的 .md5 加密版本，所以我尝试更改`$password`为

```
$password = '.md5($_POST['password']).'; 
```

但我收到错误 T-STRING 错误。任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:26:32.690

```
$password = '.md5($_POST['password']).'; 
```

无效，因为它是 2 个字符串，中间有一个字符串文字。我想你的意思是：

```
$password = md5($_POST['password']); 
```

# java - 良好的泛型设计

> ID：13264218
> 
> 赞同：8
> 
> 时间：2012-11-07T06:23:25.127
> 
> 标签：java, generics

我有一个设计问题。下面是时间戳接口

```
/**
 * <T> Type of Timestamp. For ex: Date, long, Calendar etc
 * 
 */
public interface TimeStamp<T> extends Comparable<TimeStamp<T>>
{

  /**
   * Returns the timestamp. 
   * @return 
   */
  public T getTimeStamp();

} 
```

我基本上想要一个`List`只能包含时间戳的类。在列表中添加任何内容基本上取决于时间戳。我的 List 类声明应该如何。

如果我决定组合，代码将如下所示：

```
public class TimeList<T> implements List<TimeStamp<T>> 
{    
  private List<TimeStamp<?>> list = new ArrayList<TimeStamp<?>>();
  //other list methods who will return based on list above
  .....
} 
```

但以上没有意义。例如，如果我有一个类`DefaultTimeStamp implments TimeStamp<Long>`并将 TimeList 实例化为

```
TimeList<DefaultTimeStamp> l = new TimeList<DefaultTimeStamp>(); 
```

然后anycall to`l.add(elem)`将期待一个`TimeStamp<DefaultTimeStamp>`错误的。

声明：`public class TimeList<TimeStamp<T>> implements List<TimeStamp<T>>`会给出编译时错误

my 的声明应该是什么`TimeList<Type>`？最终它只是一个仅包含时间戳的列表

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T07:03:42.977

我不明白你为什么要这样做

```
TimeList<DefaultTimeStamp> l = new TimeList<DefaultTimeStamp>(); 
```

如果您希望能够添加任何类型的`TimeStamp<Long>`. 如果您有一些实现特定的理由，上述方式将迫使用户使用`DefaultTimeStamp`......但通常不会，很明显。

```
TimeList<TimeStamp<Long>> l = new TimeList<TimeStamp<Long>>();
DefaultTimeStamp dts = new DefaultTimeStamp(System.currentTimeMillis());
l.add(dts); 
```

应该工作得很好！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T08:28:38.583

尽管可以在 Java 中重复类似的操作，但在 scala 中可以通过以下方式实现：

```
trait TimeStamp[T <: Comparable[T]] extends Comparable[TimeStamp[T]]
{
def getTimeStamp:T;
def compareTo(to:TimeStamp[T]) =this.getTimeStamp.compareTo(to.getTimeStamp) 
} 
```

TimeList 声明如下：

```
class TimeList[T <: TimeStamp[_]] extends ArrayList[T] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T09:56:22.773

```
public class TimeList<T> extends ArrayList<TimeStamp<T>>{
} 
```

而已。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T07:08:57.763

无需将 TimeList 类设为通用。您可以简单地将 TimeList 声明为：

```
public class TimeList implements List<Timestamp> {

private List<Timestamp> list = new ArrayList<Timestamp>(); 
```

然后使用它

```
 TimeList l = new TimeList();

    l.add(new DefaultTimestamp1());
    l.add(new DefaultTimestamp2()); 
```

它完美地工作。您只能添加扩展`Timestamp`接口的对象。

# php - Drupal Image 作为带有节点链接的图像

> ID：13264224
> 
> 赞同：0
> 
> 时间：2012-11-07T06:23:50.460
> 
> 标签：php, drupal, drupal-views

好的
，我实际上已经花了 3 个小时来寻找我应该如何在我的 drupal 网站上正确获取图像，所以请不要对这个简单的问题感到恼火。（呜咽...）
我想将图像上传到我的首页作为重定向到登录页面的按钮。
我怎样才能做到这一点？？？？？？
我的意思是我应该如何将图像存储在 Drupal 中，我怎样才能将它放在页面上我想要的位置？？？
我尝试创建一个名为 image 的内容类型，然后创建了一个块类型的视图，但它对我来说似乎不正确。
在 drupal 中存储和处理图像的正确步骤是什么？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T09:19:31.573

在您的 Drupal 站点中创建一个块并将其分配给首页中的一个区域。在那里通过 PHP 代码添加了图像。

# servlets - 如何在 CustomPhaseListener 中获取 Request 对象？

> ID：13264225
> 
> 赞同：0
> 
> 时间：2012-11-07T06:23:54.967
> 
> 标签：servlets, cookies, request, jsf-1.2

我`Servlet`从链接中击中我的。有些`Cookies`已经在客户端中设置了。当我`Servlet`被击中时，我想找回这些`Cookies`.

例如，我点击 http:/myDomain/myServlet/ServletReceiver 之类的链接

在`web.xml`，我有下面的代码

```
<servlet>
   <display-name>ServletReceiver</display-name>
   <servlet-name>ServletReceiver</servlet-name>
   <servlet-class>(location of my ServletReceiver)</servlet-class>
 </servlet>
 <servlet-mapping>
   <servlet-name>ServletReceiver</servlet-name>
   <url-pattern>/ServletReceiver</url-pattern>
 </servlet-mapping> 
```

我的 ServletReceiver 代码如下

```
public class ServletReceiver extends HttpServlet{
protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    Cookie[] cookies = request.getCookies();
    // Do some checks here based on cookies obtained and redirect to corresponding page
    RequestDispatcher dispatcher=request.getRequestDispatcher("/pages/index.jsf");
    dispatcher.forward(request, response);
 }
 } 
```

我的要求是，当我从中检索一些数据时`Cookies`，我想将其设置为 bean。`CustomPhaselistener`而且由于我在（而不是）中创建了 bean 的实例`ServletReceiver`，如果我获得了`request`可以获取 cookie 值的对象，那么我可以在 PhaseListener 的 bean 中设置它。

我的 bean 是`request`作用域的。

那么，有没有办法让`request`对象进入`CustomPhaseListener`？

另外，我正在检索方法中的 Cookie `doGet`。这是建议的吗？

我正在使用 JSF 1.2

# php - mod_rewrite 不传递 GET 值

> ID：13264229
> 
> 赞同：-2
> 
> 时间：2012-11-07T06:24:03.550
> 
> 标签：php, apache

php 页面未接收到 GET 变量，并为 textSearch 生成未定义的索引错误。我已经关闭了多视图，并按照相关帖子中的建议添加了 QSA。

我的 .htaccess 看起来像这样

```
Options -MultiViews
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-l
RewriteRule ^(.*)$ index.php?id=$1 [QSA,L] 
```

该`$_GET`变量应命名为 textSearch

```
<form action='users/index.php' method"GET">
   <input type='text' name='textSearch'>
   <input type='submit' value='submit'>
</form> 
```

[编辑] 如评论中所述，表单的位置在 中`localhost/Build_3/index.php`，并将“textSearch”变量传递给`localhost/Build_3/users/index.php`

**[编辑]**

目录结构如下：
默认主页是`Build_3/index.php`
用户主页是`Build_3/users/index.php`

中的表单`Build_3/index.php`应该转到`Build_3/users/index.php`并提供变量 textSearch。
我有一个`.htaccess`，目录`Build_3`中有一个。`Build_3/users`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:30:27.813

### `%{QUERY_STRING}`在规则末尾添加。

```
Options -MultiViews
RewriteEngine on
RewriteRule (.*)\.dummy$ ./?page=dummy&%{QUERY_STRING} 
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-l
RewriteRule ^(.*)$ index.php?id=$1%{QUERY_STRING} [QSA,L] 
```

### 笔记：

1.  上面是`Options -MultiViews`干什么的？
2.  为了`RewriteRule ^(.*)$ index.php?id=$1%{QUERY_STRING} [QSA,L]`工作，您需要添加一些虚拟条件，就像我在上面添加的那样。

* * *

### 更新#1

据我了解，如果我的理解有误，请纠正我：

1.  中有一个表格`Build_3/index.php`，有一个`post`方法，取 to `Build_3/users/index.php`。因此，我假设您随身携带以下物品：

    ```
    <form method="post" action="users/index.php">
    ...
    ...
    </form> 
    ```

2.  你有两个`.htaccess`文件。为什么目录中有一个`users`？好吧，我不确定，为什么你有一个`Build_3/`。如果您希望用户以以下方式访问 URL：

    ```
    http://Build_3/users/5 
    ```

    它应该以这种方式重定向：

    ```
    http://Build_3/users/index.php?id=5 
    ```

    然后您需要以这种方式更改目录`.htaccess`中的文件`Build_3/users/`：

    ```
    RewriteEngine on
    RewriteRule (.*)\.dummy$ ./?page=dummy&%{QUERY_STRING} 
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-l
    RewriteRule ^(.*)$ index.php?id=$1%{QUERY_STRING} [QSA,L] 
    ```

# flutter - Dart 中的命名参数和位置参数有什么区别？

> ID：13264230
> 
> 赞同：229
> 
> 时间：2012-11-07T06:24:06.690
> 
> 标签：flutter, dart, parameters, named-parameters, positional-parameter

Dart 支持命名可选参数和位置可选参数。两者有什么区别？

另外，如何判断是否实际指定了可选参数？

* * *

## 回答 #1

> 赞同：427
> 
> 时间：2012-11-07T06:24:06.690

Dart 有两种类型的可选参数：*named*和*positional*。在讨论差异之前，让我先讨论相似之处。

Dart 的可选参数是*可选*的，因为调用者在调用函数时不需要指定参数的值。

可选参数只能在任何必需参数之后声明。

可选参数可以有一个默认值，当调用者没有指定一个值时使用它。

**位置可选参数**

包裹的参数`[ ]`是位置可选参数。这是一个例子：

```
getHttpUrl(String server, String path, [int port=80]) {
  // ...
} 
```

在上面的代码中，`port`是可选的，默认值为`80`.

您可以`getHttpUrl`使用或不使用第三个参数进行调用。

```
getHttpUrl('example.com', '/index.html', 8080); // port == 8080
getHttpUrl('example.com', '/index.html');       // port == 80 
```

您可以为函数指定多个位置参数：

```
getHttpUrl(String server, String path, [int port=80, int numRetries=3]) {
  // ...
} 
```

可选参数是*位置*`port`参数，如果要指定，则不能省略`numRetries`。

```
getHttpUrl('example.com', '/index.html');
getHttpUrl('example.com', '/index.html', 8080);
getHttpUrl('example.com', '/index.html', 8080, 5); 
```

当然，除非您知道 8080 和 5 是什么，否则很难说出这些看似神奇的数字是什么。您可以使用*命名的可选参数*来创建更具可读性的 API。

**命名可选参数**

包裹的参数`{ }`是命名的可选参数。这是一个例子：

```
getHttpUrl(String server, String path, {int port = 80}) {
  // ...
} 
```

您可以`getHttpUrl`使用或不使用第三个参数进行调用。**调用函数时必须**使用参数名称。

```
getHttpUrl('example.com', '/index.html', port: 8080); // port == 8080
getHttpUrl('example.com', '/index.html');             // port == 80 
```

您可以为函数指定多个命名参数：

```
getHttpUrl(String server, String path, {int port = 80, int numRetries = 3}) {
  // ...
} 
```

因为命名参数是按名称引用的，所以它们可以按照与声明不同的顺序使用。

```
getHttpUrl('example.com', '/index.html');
getHttpUrl('example.com', '/index.html', port: 8080);
getHttpUrl('example.com', '/index.html', port: 8080, numRetries: 5);
getHttpUrl('example.com', '/index.html', numRetries: 5, port: 8080);
getHttpUrl('example.com', '/index.html', numRetries: 5); 
```

我相信命名参数使调用站点更容易理解，尤其是当有布尔标志或上下文外的数字时。

**检查是否提供了可选参数**

不幸的是，您无法区分“未提供可选参数”和“提供了默认值的可选参数”这两种情况。

**注意：**您可以使用位置可选参数**或**命名可选参数，*但不能*在同一个函数或方法中同时使用。以下是不允许的。

```
thisFunctionWontWork(String foo, [String positonal], {String named}) {
  // will not work!
} 
```

* * *

## 回答 #2

> 赞同：50
> 
> 时间：2019-04-26T11:41:09.877

据我了解，在 Dart 中，方法参数可以有两种类型。

*   必需参数
*   可选参数（位置、命名和默认）

**>> 必填参数**

必需参数是我们都熟悉的众所周知的旧式参数

***示例****：*

```
findVolume(int length, int breath, int height) {
 print('length = $length, breath = $breath, height = $height');
}

findVolume(10,20,30); 
```

***输出：***

```
length = 10, breath = 20, height = 30 
```

**>> 可选位置参数**

参数将用方括号**[ ]**公开，方括号中的参数是可选的。

***例子：***

```
findVolume(int length, int breath, [int height]) {
 print('length = $length, breath = $breath, height = $height');
}

findVolume(10,20,30);//valid
findVolume(10,20);//also valid 
```

***输出：***

```
length = 10, breath = 20, height = 30
length = 10, breath = 20, height = null // no value passed so height is null 
```

***>> 可选命名参数***

*   参数将用大括号 { } 公开
*   花括号中的参数是可选的。
*   必须使用参数名称来分配一个用 colan 分隔的值**：**
*   在花括号中的参数顺序无关紧要
*   这些类型参数有助于我们在为具有许多参数的函数传递值时避免混淆。

***例子：***

```
findVolume(int length, int breath, {int height}) {
 print('length = $length, breath = $breath, height = $height');
}

findVolume(10,20,height:30);//valid & we can see the parameter name is mentioned here.
findVolume(10,20);//also valid 
```

***输出：***

```
length = 10, breath = 20, height = 30
length = 10, breath = 20, height = null 
```

***>> 可选默认参数***

*   与可选命名参数相同，此外我们可以为此参数分配默认值。
*   这意味着没有传递任何值，将采用此默认值。

***例子：***

```
findVolume(int length, int breath, {int height=10}) {
 print('length = $length, breath = $breath, height = $height');
} 

findVolume(10,20,height:30);//valid
findVolume(10,20);//valid 
```

***输出：***

```
length = 10, breath = 20, height = 30
length = 10, breath = 20, height = 10 // default value 10 is taken 
```

感谢此视频链接给出的清晰解释，感谢视频创作者。

[视频链接：OptionalPositionalParameters](https://www.youtube.com/watch?v=M6eP0jwl1h4&list=PLlxmoA0rQ-LyHW9voBdNo4gEEIh0SjG-q&index=20)

[视频链接：OptionalNamedParameters](https://www.youtube.com/watch?v=pH-CP8s_xK8&list=PLlxmoA0rQ-LyHW9voBdNo4gEEIh0SjG-q&index=21)

[视频链接：可选默认参数](https://www.youtube.com/watch?v=N-Tq70W2cbI&list=PLlxmoA0rQ-LyHW9voBdNo4gEEIh0SjG-q&index=22)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2020-06-19T11:50:10.090

**位置参数：**

它们与默认参数相同。例如：

```
void add(int x, [int y = 3]); 
```

这里 y 的默认值为 3

**命名参数：**

这些参数可以按任何顺序传递，方法是传递参数名称，后跟传递的值。例如：

```
void sum({int num1, int num2}); 
```

这个函数是这样调用的：

```
sum(num1: 12, num2: 24); 
```

命名参数也可以有默认值。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2021-01-22T03:13:40.033

Dart 有两种函数参数：`positional`和`named`.

**可选位置参数**

位置参数是您可能熟悉的类型：

```
int sumUp(int a, int b, int c) {
  return a + b + c;
}
// ···
  int total = sumUp(1, 2, 3); 
```

使用 Dart，您可以通过将这些位置参数括在括号中来使它们成为可选参数：

```
int sumUpToFive(int a, [int b, int c, int d, int e]) {
  int sum = a;
  if (b != null) sum += b;
  if (c != null) sum += c;
  if (d != null) sum += d;
  if (e != null) sum += e;
  return sum;
}
// ···
  int total = sumUpToFive(1, 2);
  int otherTotal = sumUpToFive(1, 2, 3, 4, 5); 
```

可选的位置参数总是在函数参数列表的最后。除非您提供另一个默认值，否则它们的默认值为 null：

```
int sumUpToFive(int a, [int b = 2, int c = 3, int d = 4, int e = 5]) {
// ···
}
// ···
  int newTotal = sumUpToFive(1);
  print(newTotal); // <-- prints 15

Code example 
```

实现一个函数，该函数`joinWithCommas()`接受一到五个整数，然后返回由逗号分隔的这些数字的字符串。以下是函数调用和返回值的一些示例：

```
String joinWithCommas(int a, [int b, int c, int d, int e]) {
  var total = '$a';
  if (b != null) total = '$total,$b';
  if (c != null) total = '$total,$c';
  if (d != null) total = '$total,$d';
  if (e != null) total = '$total,$e';
  return total;
} 
```

函数调用

```
joinWithCommas(1)       
joinWithCommas(1, 2, 3)     
joinWithCommas(1, 1, 1, 1, 1) 
```

返回值

```
'1'
'1,2,3'
'1,1,1,1,1' 
```

**可选的命名参数**

使用花括号语法，您可以定义具有名称的可选参数。

```
void printName(String firstName, String lastName, {String suffix}) {
  print('$firstName $lastName ${suffix ?? ''}');
}
// ···
  printName('Avinash', 'Gupta');
  printName('Poshmeister', 'Moneybuckets', suffix: 'IV'); 
```

如您所料，这些参数的值默认为 null，但您可以提供默认值：

```
void printName(String firstName, String lastName, {String suffix = ''}) {
  print('$firstName $lastName $suffix');
} 
```

一个函数不能同时具有可选的位置参数和可选的命名参数。

**代码示例**

将`copyWith()`实例方法添加到 MyDataObject 类。它应该采用三个命名参数：

```
int newInt
String newString
double newDouble 
```

调用时，应基于当前实例`copyWith()`返回一个新实例，并将来自前面参数（如果有）的数据复制到对象的属性中。`MyDataObject`例如，如果`newInt`为非空，则将其值复制到`anInt`.

```
class MyDataObject {
  final int anInt;
  final String aString;
  final double aDouble;

  MyDataObject({
     this.anInt = 1,
     this.aString = 'Old!',
     this.aDouble = 2.0,
  });

  // Add your copyWith method here:
} 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2018-09-29T11:14:20.953

当使用“paramName : value”语法指定函数的参数时，它就是命名参数。通过将这些参数括在 [ 和 ] 括号之间，可以将它们呈现为可选的。可以在以下 Hello World 程序中演示此功能的基本演示：

```
sayHello([String name = ' World!']) {
  print('Hello, ${name}');
}

void main() {
  sayHello('Govind');
} 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2019-01-07T13:15:18.860

从[doc](https://dart.dev/guides/language/language-tour#optional-parameters)中我们得到`positional`和`named`参数都是可选的，这意味着它们都可以不存在。

在我看来，`named`参数比参数更严格`positional`。例如，如果您声明这样一个方法：

```
String say({String from, String msg}) 
```

上面`from`和`msg`是`named`参数，调用方法`say`时必须使用`say(from: "xx", msg: "xx")`. 钥匙不能缺席。

然而，如果你使用位置参数，你是自由的。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2021-09-19T14:31:10.120

# 来自 Flutter 的示例

## 命名参数

类构造[`Duration`函数](https://api.flutter.dev/flutter/dart-core/Duration/Duration.html)采用命名参数：

```
const Duration(
{int days = 0,
int hours = 0,
int minutes = 0,
int seconds = 0,
int milliseconds = 0,
int microseconds = 0}
) 
```

## 位置参数

[`DateTime`类](https://api.flutter.dev/flutter/dart-core/DateTime/DateTime.html)的构造函数有 1 个必需的位置参数和 7 个可选的位置参数：

```
DateTime(
int year,
[int month = 1,
int day = 1,
int hour = 0,
int minute = 0,
int second = 0,
int millisecond = 0,
int microsecond = 0]
) 
```

## 什么时候用哪个？

对于**dates/times**，如果您不指定月份，则指定一天是没有意义的。如果我在星期一告诉你，你不会知道我说的是哪个星期一。如果您指定月份但不指定年份，则没有意义。日期自然从粗到细。当然，实际上你会假设下周一是哪个星期一，但程序不能这样假设。

对于**Duration**，您指定哪个都没有关系。A Duration of time 可以是 1 秒、1 毫秒或 5 天。如果我告诉你等待 5 秒，我不需要告诉你**0 天 0 小时 0 分钟 5 秒**。

# c# - 防病毒软件阻止安装程序运行

> ID：13264232
> 
> 赞同：1
> 
> 时间：2012-11-07T06:24:09.313
> 
> 标签：c#, setup-deployment

大家好：
我正在开发一个 Visual Studio 安装程序。问题是防病毒 (AVG) 报告我没有足够的权限来运行安装程序。当我禁用防病毒软件时，设置工作正常。我的设置没有修改注册表，它是如此简单。它只是在程序文件（x86）中安装一个程序。我以管理员身份登录我的计算机，并以管理员身份运行设置。
谁能指出我如何绕过防病毒软件？
谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:26:45.340

这可能是因为 Visual Studio 正在为要执行的项目启动一个虚拟 Internet 服务器 (http://localhost:SomePortNumber)。这会创建一个 AVG 认为对您的系统构成威胁的侦听套接字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:48:34.913

我们对阻止安装的防病毒程序也有同样的问题。我们后来发现，许多防病毒程序会（默认情况下）阻止未经数字证书签名的应用程序对系统进行的修改。我们通过使用来自信誉良好的 CA 的数字证书签署我们的程序集（包括设置）来克服这个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T07:21:59.970

可能您可以在防病毒软件中添加例外。

[http://answers.yahoo.com/question/index?qid=20080816043929AAB4mQw](http://answers.yahoo.com/question/index?qid=20080816043929AAB4mQw)

# ios - DynamoDB 自动递增 ID 和服务器时间 (iOS SDK)

> ID：13264236
> 
> 赞同：11
> 
> 时间：2012-11-07T06:24:34.063
> 
> 标签：ios, objective-c, amazon-web-services, amazon-dynamodb

DynammoDB 中是否有一个选项可以将自动递增的 ID 作为主键存储在表中？我还需要将服务器时间作为“创建于”字段（例如，用户创建于）存储在表中。但我找不到任何方法从 DynamoDB 或任何其他 AWS 服务获取服务器时间。

你们能帮我吗

1.  在 DyanmoDB 表中使用自动递增的 ID
2.  将服务器时间存储在“创建于”类似字段的表中。

谢谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-07T15:00:40.143

实际上，DynamoDB 的功能很少，而这正是它的主要优势。简单。

*   无法自动生成 ID 或 UUID。
*   无法自动生成日期

对于“日期”问题，应该很容易在客户端生成。我可以建议您使用 ISO 8601 日期格式吗？它对程序员和计算机都很友好。

大多数情况下，有比使用项目自动 ID 更好的方法。这通常是 SQL 或 MongoDB 世界中的一个坏习惯。例如，电子邮件或登录信息将为用户提供完美的 ID。但我知道在某些特定情况下，ID 可能有用。

在这些情况下，您需要构建自己的系统。在这个[SO 答案](https://stackoverflow.com/questions/11721308/how-to-make-a-uuid-in-dynamodb)和[这篇](http://dynamodb-mapper.readthedocs.org/en/latest/api/model.html#using-auto-incrementing-index)来自 DynamoDB-Mapper 文档的文章中，我解释了如何做到这一点。我希望它有帮助

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-11-08T04:13:01.933

与其使用自动递增的 ID，不如考虑使用 GUID。您可以获得更高的理论吞吐量和更好的故障处理，而您唯一失去的是自然时间顺序，它可以更好地按日期处理。

更高的吞吐量，因为您不需要要求 Dynamo 生成下一个可用 ID（这将需要一些资源在某处获得锁、获取一些数字，并确保没有其他任何东西获得这些数字）。当您失去与 Dynamo 的连接时（Dynamo 出现故障，或者您是突发性的，并且您的应用程序正在做的工作比当前预置的吞吐量更多）时，会出现更好的故障处理。只写应用程序可以继续“工作”并生成带有 ID 的完整数据，将其排队以写入 dynamo，而不必担心 ID 冲突。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-19T08:40:06.017

为此，我创建了一个小型 Web 服务。请参阅此博客文章，其中解释了我如何将[stateful.co](http://www.stateful.co)与 DynamoDB 一起使用以模拟自动增量功能：[http ://www.yegor256.com/2014/05/18/cloud-autoincrement-counters.html](http://www.yegor256.com/2014/05/18/cloud-autoincrement-counters.html)

[基本上，您在stateful.co](http://www.stateful.co)注册一个原子计数器，并在每次需要新值时通过 RESTful API 递增它。

# java - 在 Java 中拆分数学表达式

> ID：13264238
> 
> 赞同：3
> 
> 时间：2012-11-07T06:24:41.990
> 
> 标签：java

我正在尝试从括号中拆分一个简单的数学表达式

例如：`(8+(3(2+3)(4-1)))`分隔成小表达式如`(2+3), (4-1), (3*5*3), and finally (8+45)`。

我尝试在这里查看[Splitting an expression](https://stackoverflow.com/questions/4367414/splitting-an-expression)，但由于它是在 python 中，我不知道如何在 Java 中实现它。

有人可以帮帮我吗..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T06:27:20.863

您实际上必须“拆分”它还是只需要评估它？直接评估它更容易。

这是我对此的回答...

[在 Java 中解析算术表达式并从中构建树](https://stackoverflow.com/questions/4589951/parsing-an-arithmetic-expression-and-building-a-tree-from-it-in-java/4590047#4590047)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T06:31:01.057

我认为 dijkstra 的调车码算法可能会对您有所帮助，其目的是解决中缀表示法的表达式。您可以获取中间结果来获取您正在寻找的表达式。

[http://en.wikipedia.org/wiki/Shunting-yard_algorithm](http://en.wikipedia.org/wiki/Shunting-yard_algorithm)

包含 C 示例代码，这应该对您有所帮助，因为它类似于 Java。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T06:29:15.320

只是一个建议使用算术表达式树来解决这个问题。我已经使用 C# 完成了此操作，如果您有兴趣，我可以提供方法

# ruby-on-rails - 如何在 ruby on rails 的 net smtp 消息正文中使用使用图像（html 标记）？

> ID：13264243
> 
> 赞同：2
> 
> 时间：2012-11-07T06:25:02.317
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, html

我正在使用 Ruby on Rails 开发 Web 应用程序。我想使用 net/smtp 在邮件中显示图像。我的代码是...

```
msgstr = <<END_OF_MESSAGE
From: Your Name <your@mail.address>
To: Destination Address <someone@example.com>
MIME-Version: 1.0
Content-type: text/html
Subject: test message
Date: Sat, 23 Jun 2001 16:26:43 +0900
Message-Id: <unique.message.id.string@example.com>
<img src = "/my_proj/public/images/logo.jpeg" alt= "logo">
<b>  This is a test message.</b>
END_OF_MESSAGE

require 'net/smtp'
Net::SMTP.start('your.smtp.server', 25) do |smtp|
  smtp.send_message msgstr,
                    'your@mail.address',
                    'his_addess@example.com'
end 
```

它正在发送带有所有标签的邮件，但在显示替代文本时不显示图像。我已经把 jpeg 文件放在 n 测试它的每个地方。但它没有获取文件的路径并使用替代文本。请任何人帮助我..如何定义文件的路径...或放置此图像文件的位置。我改变了

```
Content-type: text/html image/jpeg 
```

但它仍然无法正常工作。

# android - 如何在jquery mobile中禁用页面

> ID：13264248
> 
> 赞同：0
> 
> 时间：2012-11-07T06:25:34.893
> 
> 标签：android, cordova, jquery-mobile

嗨，我在我的 android phonegap 应用程序中使用 jquery mobile。我正在使用 jquery mobile 在 onload 中显示加载程序，当加载程序运行时，我可以在 html 页面中输入文本框。但我需要的是加载程序运行时我不应该在文本框中输入。如何解决这个问题

这是我的代码：

```
$(document).ready(function () 
{
    $.mobile.loading('show', {
        text: 'Loading',
        textVisible: true,
        theme: 'a',
        html:""
    });
}); 
```

请帮助我。在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T13:40:19.907

您可以在加载过程中首先显示一个启动页面，然后切换到您的主页......
并且：不要使用`$(document).ready()`，请参见[此处](http://jquerymobile.com/demos/1.2.0/docs/api/events.html)

> **重要提示：使用 $(document).bind('pageinit')，而不是 $(document).ready()**
> 
> 在 jQuery 中学习的第一件事是调用 $(document).ready() 函数中的代码，以便在加载 DOM 后立即执行所有内容。但是，在 jQuery Mobile 中，Ajax 用于在您导航时将每个页面的内容加载到 DOM 中，并且 DOM 就绪处理程序仅针对第一页执行。要在加载和创建新页面时执行代码，您可以绑定到 pageinit 事件。此事件在本页底部有详细说明。

# jquery - 检查href是否有class，如果有，获取id

> ID：13264252
> 
> 赞同：1
> 
> 时间：2012-11-07T06:25:47.297
> 
> 标签：jquery

我正在寻找一些 jQuery 代码的帮助。

基本上我有一个这样的HTML结构。

```
<ul class="menu">
    <li><a href="#" id="parent-one">One</a></li>
    <li><a href="#" id="parent-two">Two</a></li>
    <li><a href="#" id="parent-three">Three</a></li>
    <li><a href="#" id="parent-four">Four</a></li>
</ul> 
```

如果用户“打开”它，我的 PHP 代码会添加一个 class="active"，因此根据点击哪个链接，它看起来像这样：

```
<li><a href="#" class="active" id="parent-four">Four</a></li> 
```

所以这一切都相当简单。

我希望在页面加载时能够做的是搜索每个菜单项，直到找到带有 class="active" 的菜单项。然后获取该链接的 ID，将其从 parent-xxx 更改为 child-xxx 并然后“显示”该子 ID。

这可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T06:31:05.770

```
$(function() {
    // Within .menu, find .active, grab its id, and replace parent with child
    var new_id = $('.menu').find('.active').attr('id').replace('parent', 'child');

    // Select element with this new id, and show it.
    $('#' + new_id).show();
});​ 
```

小提琴：http: [//jsfiddle.net/rwgJc/1/](http://jsfiddle.net/rwgJc/1/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T06:34:28.527

像这样简单的事情

```
var id = $('ul.menu li a.active').attr('id').replace('parent', 'child');
$('#' + id).show(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T06:31:01.997

```
​$('ul li a').each(function(){
  if($(this).hasClass('active')){
      alert($(this).prop('id')); //your action here
  }
});​​​

//or as  techfoobar suggested
alert($('ul.menu li a.active').prop('id')); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-07T06:33:16.640

像这样的东西应该工作：

```
// get the link with class 'active'
var activeLink = $('.menu li a.active');

// determine the new id, i.e. child-xyz
var newID = 'child-' + activeLink.attr('id').split('-')[1];

// assign that to the active link
activeLink.attr('id', newID);

// do other stuff with newID 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-07T06:29:52.933

您需要遍历所有 li 元素并检查当前 li 是否具有 active 类

[演示](http://jsfiddle.net/sBT7v/)

```
$('ul li').each(function () {
     if($(this).hasClass('active')) {
           // do whatever you want
     }
}); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-07T06:42:39.777

不是优化的，但这会起作用

```
$("ul.menu li").each(function(){
a=$(this).find('a');
if(a.hasClass('active')){
id=a.attr('id');
a.attr('id',"child-"+id.split("-")[1]);
}
}); 
```

工作演示：http: [//jsfiddle.net/sCUfp/](http://jsfiddle.net/sCUfp/)

# sharepoint - 我们如何改变 Sharepoint Portal 的完整外观和感觉？

> ID：13264264
> 
> 赞同：3
> 
> 时间：2012-11-07T06:26:41.517
> 
> 标签：sharepoint, sharepoint-2010, sharepoint-designer

默认情况下有主题，我不喜欢那些。`How can I modify It completely and make a professional website`. 我发现了相同的问题，`this blog`但都是针对 MOSS2007。我正在努力`Sharepoint 2010`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T08:05:23.390

我修改 sharepoint 的方式，就像我对几乎所有其他 CMS 所做的那样，结合了 asp .Net 的强大功能（请记住，如果你唯一想要的是一个门户，那么 CMS 的 go sharepoint 是一个糟糕的解决方案。Sharepoint 是第一最重要的是[BI 解决方案](http://en.wikipedia.org/wiki/Business_intelligence)）。

当您在共享点设计器中编辑您的站点时（站点操作 -> 在共享点设计器中编辑），您可以看到很多选项。

您可以在此处更改默认母版页以适应您网站的外观。你将在这里做大部分隐藏的东西（那些你不想被看到的东西，给他们可见性=假属性）。在这里，您还可以包含一个新的 CSS（将其放在站点资产中），您可以在其中覆盖现有的 css 文件。

从此时起，您将能够将网页添加到站点，这将符合母版页，因此您可以使用所有共享点功能（Web 部件甚至嵌入的 html 代码）保持您已实施的外观和感觉在您的母版页上。

所以你需要做的是：

1.  在共享点设计器中修改母版页
2.  在站点资产中添加 css 文件并将它们包含在您的母版页中
3.  添加您将在 sharepoint 站点中引用的任何其他 aspx 页面或自定义 Web 部件
4.  使用共享点资产、Web 部件或自定义代码创建网页
5.  为您想要查看门户网站的人启用匿名访问，而无需进行身份验证（请记住，有些共享点控件只能由登录用户查看）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:42:12.060

有多种自定义方法。

我的首选方式是 CSS。

1.  使用功能在母版页中添加对自定义 css 的引用
2.  通过修改 sharepoint 开箱即用 CSS 来修改外观

以下资源提供了 SharePoint 2010 css 类的所有详细信息。

[http://sp2010notes.wordpress.com/sharepoint-2010-css-chart/](http://sp2010notes.wordpress.com/sharepoint-2010-css-chart/) http://sharepointexperience.com/csschart/csschart.html

我希望它有所帮助。

干杯。拉金德拉·谢卡瓦特

# android - 如何在本地机器上为安卓手机设置服务器？

> ID：13264271
> 
> 赞同：0
> 
> 时间：2012-11-07T06:27:01.423
> 
> 标签：android, mysql, tomcat, servlets, nfc

我正在开发一个需要客户端-服务器模型的 nfc 项目。

实际情况是，当我的标签被点击时，标签中的数据应该进入服务器，然后服务器在数据库中查找标签中的特定关键数据，并将相关信息作为响应发送回我的安卓手机。

我有 Apache Tomcat、Eclipse Helios 和 Eclipse Indigo，目前我正在考虑使用 servlet 来完成它？但有点困惑，因为我对这种情况完全陌生。请指导我。先谢谢了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:39:29.723

如果我是你，我会让我的手机连接到无线路由器，然后在我的电脑上设置 Apache 并允许手机从 Apache 服务器拉取页面。只要你在测试，在服务器上使用什么软件没什么大不了的，不管是不是 Tomcat，你都可以很容易地摆脱 PHP、CGI 甚至是简单的静态文本页面。

设置 Apache 后，使用`ifconfig`或`ipconfig`找出 IP 地址，然后让您的手机访问`http://IP_address_you've_just_found/`，这应该可以让您继续前进。

# fortran - 为什么此 openmp 代码中发生分段错误？

> ID：13264274
> 
> 赞同：24
> 
> 时间：2012-11-07T06:27:27.977
> 
> 标签：fortran, openmp

主程序：

```
program main                                                                                                                                                    
  use omp_lib                                                                                                                                                   
  use my_module                                                                                                                                                 
  implicit none                                                                                                                                                 

  integer, parameter :: nmax = 202000                                                                                                                           
  real(8) :: e_in(nmax) = 0.D0                                                                                                                                  
  integer i                                                                                                                                                     

call omp_set_num_threads(2)                                                                                                                                     
!$omp parallel default(firstprivate)                                                                                                                            
!$omp do                                                                                                                                                        
  do i=1,2                                                                                                                                                      
     print *, e_in(i)                                                                                                                                           
     print *, eTDSE(i)                                                                                                                                          
  end do                                                                                                                                                        
!$omp end do                                                                                                                                                    
!$omp end parallel                                                                                                                                              
end program main 
```

模块：

```
module my_module                                                                                                                                                
  implicit none                                                                                                                                                 

  integer, parameter, private :: ntmax = 202000                                                                                                  
  double complex :: eTDSE(ntmax) = (0.D0,0.D0)                                                                                                                  
!$omp threadprivate(eTDSE)                                                                                                                                      

end module my_module 
```

编译使用：

```
ifort -openmp main.f90 my_module.f90 
```

它在执行时给出分段错误。如果删除主程序中的打印命令之一，它运行良好。此外，如果删除 omp 函数并在没有 -openmp 选项的情况下编译，它也可以正常运行。

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-11-07T09:20:02.017

这种行为最可能的原因是您的堆栈大小限制太小（无论出于何种原因）。由于`e_in`对每个 OpenMP 线程都是私有的，因此每个线程在线程堆栈上分配一个副本（即使您已指定`-heap-arrays`！）。`202000`元素`REAL(KIND=8)`占用 1616 kB（或 1579 KiB）。

堆栈大小限制可以通过多种机制控制：

*   在标准 Unix 系统 shell 上，堆栈大小由`ulimit -s <stacksize in KiB>`. 这也是主 OpenMP 线程的堆栈大小限制。POSIX 线程 ( ) 库也使用此限制的值`pthreads`作为创建新线程时的默认线程堆栈大小。

*   *OpenMP 支持通过环境变量控制所有附加*线程的堆栈大小限制`OMP_STACKSIZE`。它的值是一个带有可选后缀的数字，`k`/`K`表示 KiB，`m`/ `M`f 表示 MiB，或`g`/`G`表示 GiB。该值*不*影响主线程的堆栈大小。

*   GNU OpenMP 运行时 ( `libgomp`) 识别非标准环境变量`GOMP_STACKSIZE`。如果设置它会覆盖`OMP_STACKSIZE`.

*   英特尔 OpenMP 运行时识别非标准环境变量`KMP_STACKSIZE`。如果设置它会覆盖 的值，`OMP_STACKSIZE`并且`GOMP_STACKSIZE`如果使用兼容性 OpenMP 运行时（这是默认设置，因为当前唯一可用的英特尔 OpenMP 运行时库就是其中`compat`一个），它还会覆盖 的值。

*   如果`*_STACKSIZE`未设置任何变量，则英特尔 OpenMP 运行时的默认设置为`2m`32 位架构和`4m`64 位架构。

*   在 Windows 上，主线程的堆栈大小是 PE 标头的一部分，并由链接器嵌入其中。如果使用 Microsoft`LINK`进行链接，则使用`/STACK:reserve[,commit]`. `reserve`参数指定最大堆栈大小（以字节为单位），而可选参数`commit`指定初始提交大小。两者都可以使用`0x`前缀指定为十六进制值。如果重新链接可执行文件不是一个选项，则可以通过编辑 PE 标头来修改堆栈大小[`EDITBIN`](https://msdn.microsoft.com/en-us/library/xd3shwhf.aspx)。它采用与链接器相同的堆栈相关参数。启用 MSVC 的整个程序优化 ( `/GL`) 编译的程序无法编辑。

*   Win32 目标的 GNU 链接器支持通过`--stack`参数设置堆栈大小。要直接从 GCC 传递选项，`-Wl,--stack,<size in bytes>`可以使用 。

请注意，线程堆栈实际上是按照设置的大小（或默认值）*分配*`*_STACKSIZE`的，与主线程的堆栈不同，主线程的堆栈一开始很小，然后根据需要增长到设置的限制。所以不要设置`*_STACKSIZE`为任意大的值，否则您可能会达到进程虚拟内存大小限制。

这里有些例子：

```
$ ifort -openmp my_module.f90 main.f90 
```

将主堆栈大小限制设置为 1 MiB（默认情况下，额外的 OpenMP 线程将获得 4 MiB）：

```
$ ulimit -s 1024
$ ./a.out
zsh: segmentation fault (core dumped)  ./a.out 
```

将主堆栈大小限制设置为 1700 KiB：

```
$ ulimit -s 1700
$ ./a.out
  0.000000000000000E+000
 (0.000000000000000E+000,0.000000000000000E+000)
  0.000000000000000E+000
 (0.000000000000000E+000,0.000000000000000E+000) 
```

将主堆栈大小限制设置为 2 MiB，将附加线程的堆栈大小设置为 1 MiB：

```
$ ulimit -s 2048
$ KMP_STACKSIZE=1m ./a.out
zsh: segmentation fault (core dumped)  KMP_STACKSIZE=1m ./a.out 
```

在大多数 Unix 系统上，主线程的堆栈大小限制由 PAM 或其他登录机制设置（请参阅 参考资料`/etc/security/limits.conf`）。Scientific Linux 6.3 的默认值为 10 MiB。

另一种可能导致错误的情况是虚拟地址空间限制设置得太低。例如，如果虚拟地址空间限制为 1 GiB，并且线程堆栈大小限制设置为 512 MiB，则 OpenMP 运行时将尝试为每个附加线程分配 512 MiB。对于两个线程，一个只有 1 GiB 的堆栈空间，当代码、共享库、堆等的空间加起来时，虚拟内存大小将超过 1 GiB，并且会发生错误：

将虚拟地址空间限制设置为 1 GiB 并使用两个具有 512 MiB 堆栈的附加线程运行（我已注释掉对 的调用`omp_set_num_threads()`）：

```
$ ulimit -v 1048576
$ KMP_STACKSIZE=512m OMP_NUM_THREADS=3 ./a.out
OMP: Error #34: System unable to allocate necessary resources for OMP thread:
OMP: System error #11: Resource temporarily unavailable
OMP: Hint: Try decreasing the value of OMP_NUM_THREADS.
forrtl: error (76): Abort trap signal
... trace omitted ...
zsh: abort (core dumped)  OMP_NUM_THREADS=3 KMP_STACKSIZE=512m ./a.out 
```

在这种情况下，OpenMP 运行时库将无法创建新线程，并会在中止程序终止之前通知您。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2016-05-24T02:47:23.723

分段错误是由于使用 OpenMP 时的堆栈内存限制。使用上一个答案中的解决方案并没有解决我在 Windows 操作系统上的问题。使用堆内存分配而不是堆栈内存似乎有效：

```
integer, parameter :: nmax = 202000  
real(dp), dimension(:), allocatable :: e_in
integer i

allocate(e_in(nmax))

e_in = 0

! rest of code

deallocate(e_in) 
```

此外，这不会涉及更改任何默认环境参数。

在此致谢并参考ohm314的解决方案：[large array using heap memory allocation](https://stackoverflow.com/questions/37383326/fortran-openmp-large-array-on-eclipse-program-crash)

# android - 动画线性布局

> ID：13264275
> 
> 赞同：0
> 
> 时间：2012-11-07T06:27:47.603
> 
> 标签：android, android-layout, android-animation

我正在使用一个图像和 framelayout(conatining button and linearLayout) 实现列表视图，我想在单击图像时为 linearLayout 设置动画。可能吗？我写了以下代码。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:orientation="horizontal"
android:padding="2dp" >

<ImageView
    android:id="@+id/imageView1"
    android:layout_width="70dp"
    android:layout_height="70dp"
    android:src="@drawable/icon" />

<FrameLayout
    android:id="@+id/frame"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >

    <Button
        android:id="@+id/button1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:text="Button" />

    <LinearLayout
        android:id="@+id/ll1"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:background="@drawable/a"
        android:orientation="vertical" >

        <TextView
            android:id="@+id/from_user"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textColor="#000000" />

        <TextView
            android:id="@+id/from_user_id"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textColor="#000000" />
    </LinearLayout>
</FrameLayout> 
```

请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:43:28.477

您可以在 imageview 的 onClickListener 中调用 animate 方法，例如..

```
ivmg.setOnTouchListener(new OnTouchListener() {

                @Override
                public boolean onTouch(View arg0, MotionEvent arg1) {
                    // TODO Auto-generated method stub

                    startLayoutAnimation(myLayout);
                    return false;
                }
            }); 
```

并将方法定义为...

```
public void startLayoutAnimation(LinearLayout mLayout)
        {
            System.out.println("Inside startAnimation()");
            Animation scaleAnim = new ScaleAnimation(0, 2, 0, 2);
            scaleAnim.setDuration(5000);
            scaleAnim.setRepeatCount(1);
            scaleAnim.setInterpolator(new AccelerateInterpolator());
            scaleAnim.setRepeatMode(Animation.REVERSE);

        /*  Animation rotateAnim = new RotateAnimation(0, 360);
            rotateAnim.setDuration(5000);
            rotateAnim.setRepeatCount(1);
            rotateAnim.setInterpolator(new AccelerateInterpolator());
            rotateAnim.setRepeatMode(Animation.REVERSE);*/

            Animation rotateAnim = new RotateAnimation(0, 360, Animation.ABSOLUTE, Animation.ABSOLUTE, Animation.ABSOLUTE, Animation.RELATIVE_TO_SELF);
            rotateAnim.setDuration(5000);
            rotateAnim.setRepeatCount(1);
            rotateAnim.setInterpolator(new AccelerateInterpolator());
            rotateAnim.setRepeatMode(Animation.REVERSE);

            AnimationSet animationSet = new AnimationSet(true);
            animationSet.addAnimation(scaleAnim);
            animationSet.addAnimation(rotateAnim);

            mLayout.startAnimation(animationSet);
        }
   } 
```

我还没有尝试过动画布局。所以你必须检查它是否工作。希望能帮助到你

# c++ - && 条件的执行方向

> ID：13264279
> 
> 赞同：9
> 
> 时间：2012-11-07T06:28:16.883
> 
> 标签：c++, c, if-statement

> **可能重复：**
> [逻辑比较：保证从左到右的评估？](https://stackoverflow.com/questions/5683026/logical-comparisons-is-left-to-right-evaluation-guaranteed)

我被告知对于每个 C 函数参数，最右边的参数将首先被执行/处理，并且它向左前进。右侧部分将首先执行，然后向左进行。

这是否适用于 && 和 || 等条件？??

如果我正在编写 C++ 代码，我会先检查 NULL 条件，然后再检查是否执行我的操作。例如

```
 if( CommDevice != NULL)
   {
      if(CommDevice->isOpen == TRUE)
         { 
                //Do Something
         }

   } 
```

我可以把它转换成`if((CommDevice != NULL) && (CommDevice->isOpen == TRUE) )`

“代码从右到左执行”的恐惧阻止了我，因为如果`CommDevice`是 NULL，我正在尝试访问 NULL 的成员。它会产生异常。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-07T06:30:28.160

> 我被教导每个 C 函数都从右到左接受参数。右侧部分将首先执行，然后向左进行。

这是 100% 不正确的。参数评估的顺序未指定！

`&&`和的顺序`||`是定义的，因为它形成了一个序列点。首先评估左侧，如果没有短路，则评估右侧。

```
if((CommDevice != NULL) && (CommDevice->isOpen == TRUE) ) 
```

这是对的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T06:34:57.560

摘自`C Programming Language`Brian Kernighan 和 Ritchie Dennis（C 的作者）的“”：

*   “由 && 或 || 连接的表达式从左到右进行评估，并且保证一旦知道真假，评估就会停止。”

我应该指出，我曾经将 C 中的评估规则的顺序`&&`与`||`以下内容混淆：

```
x = f() + g(); 
```

请注意，无法确定`f()`vs.的评估顺序。`g()`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T06:30:28.767

`&&`从左到右评估，而不是从右到左！所以你的代码不会抛出任何异常。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T06:44:10.487

函数参数的评估顺序是`Unspecified`。所以无论你学到什么，都不符合语言标准。

关于您的代码：

`&&`指定和的评估顺序，`||`这是`Left to right`

这也遵循语句的短路`&&`如果 1st is `false`then the rest of the conditions will not be executed. `||`如果第一个是类似的，`true`那么其余的条件将不会被执行。

也是`&&`和`||`是序列点。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-07T06:32:19.530

就逻辑运算符而言，您正在触及[短路评估](http://en.wikipedia.org/wiki/Short-circuit_evaluation)。

首先检查左侧的指针是安全`NULL`的，因为如果此条件返回 false，则`&&`(从左到右) 的下一个条件不被评估。

`&&`由于 和 的基本逻辑原则，这种行为是允许的`||`。

# javascript - onclick 上的 javascript ReferenceError

> ID：13264294
> 
> 赞同：0
> 
> 时间：2012-11-07T06:29:56.160
> 
> 标签：javascript, referenceerror

```
<html>
    <head>
       <script>
              function view_more(pg_no){
               alert(pg_no);
              }
       </script>
   </head>
  <body>
    <span onClick="view_more('1')"></span>
  </body>
</html> 
```

在这里，我不明白为什么总是说 [ReferenceError: view_more is not defined]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:45:04.657

先试试这个

```
<body>
<span onClick="alert('1');"></span> 
```

如果上面的代码有效，那么在执行代码之前必须存在其他实际出错的 javascript。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-14T12:03:19.170

我今天遇到了同样的问题。我的情况是这样的：

.html 文件：

```
<head>
    <script type="text/javascript" src="js/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="js/functions.js"></script>
</head>
<body>
    <div class="lc-form-holder">
        <form action="#" method="post">
        [...]
            <span onclick="myFunction();">NEXT</span>
        </form>
    </div>
</body> 
```

和 .js 文件：

```
$(document).ready(function() {
    function myFunction() {
        console.log('click click');
    }
}); 
```

当我点击`<span>`我得到一个错误`Uncaught ReferenceError: myFuncion is not defined`。

但是当我在 .js 文件中执行此操作时（否`document.ready`）：

```
 function myFunction() {
        console.log('click click');
    } 
```

一切正常。

我不知道这是否有帮助，但如果将来有人检查这个问题，我想分享它。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-07T06:32:20.730

```
<span onClick="view_more('1')">Test</span> 
```

添加文本，然后单击文本

在我这边工作

这是我的代码——

```
<html>
    <head>
       <script>
              function view_more(pg_no){
               alert(pg_no);
              }
       </script>
   </head>
  <body>
    <span onClick="view_more('1')">gfgf</span>
  </body>
</html> 
```

**编辑**

尝试使用此代码 -

```
<html>
<head>
<script type="text/javascript">
function view_more(pg_no)
{
alert(pg_no);
}
</script>
</head>
<body>
<span onClick="javascript:view_more('1');">gfgf</span>
</body>
</html> 
```

# android-emulator - 如何将 sd 卡安装到 android 源构建的模拟器？

> ID：13264296
> 
> 赞同：3
> 
> 时间：2012-11-07T06:30:01.700
> 
> 标签：android-emulator, android-sdcard

我已经构建了 android 源代码并成功运行了模拟器，除了一件事 - 无法安装 SD 卡。这是我尝试安装它的方法。1.通过mksdcard工具在/out/host/linux-x86/bin/下创建sdcard.img mksdcard 256M out/target/product/generic/sdcard.img

1.  sdcard.img 是 rw
2.  使用命令行运行模拟器：out/host/linux-x86/bin/emulator -sysdir out/target/product/generic/ -system out/target/product/generic/system.img -ramdisk out/target/product/generic/ ramdisk.img -data out/target/product/generic/userdata.img -kernel prebuilt/android-arm/kernel/kernel-qemu -skindir sdk/emulator/skins -skin WVGA800 -scale 0.7 -memory 512 -partition-size 2024 **-sdcard out/target/product/generic/sdcard.img /system/etc/vold.conf** 下的文件就可以了。系统日志显示： <6>mmc0: 地址为 e118 的新 SD 卡 <6>mmcblk0: mmc0:e118 SU02G 256 MiB <6> mmcblk0:

但事实是它未能挂载 sdcard。如果尝试在 /mnt/sdcard/ 中写入数据，它将出现“只读”错误

任何人都可以在这方面提供帮助吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T07:38:22.917

只需按照以下步骤操作：

1.  转到 Android 虚拟设备管理器
2.  单击新建以创建新的虚拟设备
3.  添加名称并选择您的包裹
4.  在硬件下，您只需单击新建按钮，然后弹出新窗口
5.  在属性附近的下拉列表中选择 SdCard 支持后
6.  最后你得到了支持 SDCard 的模拟器

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-20T15:37:30.173

首先，通过设置正确的环境变量，模拟器应该可以在没有任何参数的情况下工作，如此处[所述](https://stackoverflow.com/questions/9022750/running-emulator-after-building-android-from-source)。

创建 sd 卡映像文件 sdcard.img （在 linux 上，使用 dd /dev/zero 使空文件被零填充就足够了）

在其上制作 FAT 或 ext4 文件系统（在 linux 上，mkdosfs path/to/sdcard.img）应该可以跳过这一步并在模拟器中对其进行格式化。

然后运行

模拟器 -sdcard path/to/sdcard.img

就我而言，它在设置中显示为“usb 存储”，而不是“sd 卡”。

# php - windows7下如何安装eclipse for php

> ID：13264297
> 
> 赞同：-5
> 
> 时间：2012-11-07T06:30:07.047
> 
> 标签：php, eclipse

我想为 PHP 安装 Eclipse。

我将 Eclipse“PDT 3.0.2 w/Eclipse indigo”下载到我的文件夹“c:\eclipse”并解压缩 zip 文件。

我也在下载“jre-6u37-windows-94.exe”并安装成功。

问题是当我尝试运行文件 eclipse.exe 时出现错误。

**必须有 Java 运行时环境 (JRE) 或 Java 开发工具包 (JDK) 才能运行 Eclipse。搜索以下位置后未找到 Java 虚拟机：c:\eclipse\jre\bin\javaw.exe javaw.exe in your current PATH**

jre 安装在目录中。

**c:\Program Files (x86)\java\jre7\bin**

我应该怎么做才能成功运行日食。

这是我的 confog.ini

```
#This configuration file was written by: org.eclipse.equinox.internal.frameworkadmin.equinox.EquinoxFwConfigFileParser
#Mon Jun 11 14:17:27 IDT 2012
org.eclipse.update.reconcile=false
eclipse.p2.profile=pdtProfile
osgi.framework=file\:plugins/org.eclipse.osgi_3.7.2.v20120110-1415.jar
equinox.use.ds=true
osgi.bundles=reference\:file\:org.eclipse.equinox.simpleconfigurator_1.0.200.v20110815-1438.jar@1\:start
org.eclipse.equinox.simpleconfigurator.configUrl=file\:org.eclipse.equinox.simpleconfigurator/bundles.info
eclipse.product=org.zend.php.product
osgi.splashPath=vplatform\:/base/plugins/org.zend.php
osgi.framework.extensions=
osgi.bundles.defaultStartLevel=4
eclipse.p2.data.area=@config.dir/../p2
eclipse.application=org.eclipse.ui.ide.workbench

org.zend.php.customization.site.url=http\://downloads.zend.com/studio-eclipse/updates-extra/9_0,http\://downloads.zend.com/studio-eclipse/updates/9_0 
```

我应该将该行添加`-vm Path=c:\Program Files(86)\Java\jre7\bin`到顶级文件吗？

因为它不工作

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-21T21:45:20.543

由于适用于 Windows 的“PDT 3.0.2 w/Eclipse indigo”仅适用于 32 位平台，**因此您还需要下载 32 位 JRE**以使其在 64 位 Windows 平台上运行。不要忘记通过编辑 eclipse-php.ini 或添加“-vm”作为指向 eclipse-php.exe 的快捷方式的参数来使 JRE 对 Eclipse 可见。

更多细节在这里：

[http://blog.lopau.com/eclipse-pdt-32-bit-on-windows-7/](http://blog.lopau.com/eclipse-pdt-32-bit-on-windows-7/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:48:11.973

我敢打赌，这个冲突是由于安装了冲突的 java 设置
您只需要确认您使用的是 32 位或 64 位 Windows，然后根据您的操作系统要求安装 java。
**32 位 java 用于 32 位操作系统，64 位 java 用于 64 位操作系统。**
您肯定会摆脱这个问题 :)

另一种选择是重新运行 JRE 设置。它通常通过在系统文件夹中放置 java.exe、javaw.exe 等来安装默认 JRE。这将把可执行文件放在你的路径中，这应该足够了，根据错误消息中的注释，

如果你仍然确定你已经安装了正确的设置，那么它会在你的路径中搜索 javaw.exe，然后尝试设置路径使用此命令
**设置 PATH=C:\Program Files\Java\jre1.6.0_03\bin ;%PATH%**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T07:08:02.060

Eclipse 找不到您的 java 安装。

请按照以下步骤操作：

*   控制面板->查看高级系统设置
*   在高级选项卡上-> 环境变量-> 系统变量-> 单击新按钮
*   在出现的对话框中 -> 变量名 -> 输入**JAVA_HOME**
*   在同一个对话框中 -> 变量值 -> 输入**c:\Program Files (x86)\java\jre7** 并单击确定关闭对话框。
*   在系统变量中搜索名为**Path**的变量。如果它不存在，则使用新按钮创建它。
*   如果有 Path 变量，则在变量值字段的内容末尾附加**;%JAVA_HOME%\bin 。**
*   如果必须创建 Path 变量，请输入**%JAVA_HOME%\bin**
*   单击确定关闭编辑系统变量对话框
*   单击确定关闭环境变量
*   打开 Windows 命令提示符并键入**echo %JAVA_HOME%。**答案应该是 c:\Program Files (x86)\java\jre7 如果不是这种情况，请检查前面的步骤。
*   开始日食。

# ruby-on-rails-3 - 如何在 Rails 中导入 CSV 文件？

> ID：13264298
> 
> 赞同：4
> 
> 时间：2012-11-07T06:30:14.693
> 
> 标签：ruby-on-rails-3, csv, fastercsv

我正在制作一个应用程序，它在其中导入一个 csv 文件名 user.csv。但我面临的问题是它给出了一个错误

CsvimportController#import 中的参数错误

参数数量错误（1 代表 0）

而 CsvimportController 的代码是

```
require 'csv'
class CsvimportController < ApplicationController
def import

results = import('anas.csv') do
read_attributes_from_file
end

end
end 
```

而且我还在 gem 文件中给出了 csv-mapper 和 fastercsv 的规范。

谁能帮我？？？

任何帮助，将不胜感激..

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T17:53:29.527

查看[Railscast 396](http://railscasts.com/episodes/396-importing-csv-and-excel)，了解如何从 CSV 和 Excel 文件导入数据。

[smarter_csv](https://github.com/tilo/smarter_csv)项目旨在更好地处理 CSV 文件，因此值得一看。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-09T02:18:55.660

如果您使用 Gem ，这很容易`smarter_csv`。

您需要做的就是：

```
 require 'smarter_csv'

 def import(filename)
   results = SmarterCSV.process( filename, options_hash )
 end 
```

并且您需要`options_hash`根据[文档指定选项`smarter_csv`](https://github.com/tilo/smarter_csv)

有很多有用的选项，包括处理标题、自定义标题、忽略列和值的类型转换。

如果您的 CSV 文件很大，您还可以对传入的数据进行分块以进行并行处理。

# asp.net - 如何阅读动态 RSS 提要

> ID：13264299
> 
> 赞同：0
> 
> 时间：2012-11-07T06:30:15.443
> 
> 标签：asp.net, xml, rss, rss-reader

在我的应用程序中，我将拥有用户保存的动态 rss 提要 url。所以我想知道我如何读取将由 rss 提要返回的 xml。该xml的结构是什么？我已经查看了一些提要 url，我注意到它们中的大多数都有标签`title`，`description`但我不确定这一点。如果我得到这两个标签，那么我将解析 xml，但如果它们并不总是可用，那么在这种情况下我该如何解析 xml。

这两个包含标题和描述标签

```
http://rss.news.yahoo.com/rss/entertainment
http://xml.weather.yahoo.com/forecastrss?p=USCA1116 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T17:32:20.830

首先，您需要阅读一个 XML 文件，我建议您使用 XPath 或 Linq to XML，正如您已经说过的，构成提要的三个主要元素；“标题”、“链接”和“描述”。

不久前我写了一个代码来做到这一点，我希望这对你有用。

我创建了这两个实体。

```
 public class RssFeed
    {
        public string Title { get; set; }

        public string Link { get; set; }

        public string Description { get; set; }

        public string PubDate { get; set; }

        public string Language { get; set; }

        public ObservableCollection<RssItem> RssItems { get; set; }
    }

    public class RssItem
    {
        public string Title { get; set; }

        public string Description { get; set; }

        public string Link { get; set; }
    } 
```

然后在这种方法上，我使用[Linq to XML从 XML 文件中读取每个元素](http://msdn.microsoft.com/en-us/library/bb308960.aspx)

```
private static void ReadFeeds()
        {
            string uri = @"http://news.yahoo.com/rss/entertainment";

            WebClient client = new WebClient();
            client.DownloadStringAsync(new Uri(uri, UriKind.Absolute));

            client.DownloadStringCompleted += (s, a) =>
            {
                if (a.Error == null && !a.Cancelled)
                {
                    var rssReader = XDocument.Parse(a.Result);

                    var feed = (from rssFeed in rssReader.Descendants("channel")
                                select new RssFeed()
                                {
                                    Title = null != rssFeed.Descendants("title").FirstOrDefault() ?
                                            rssFeed.Descendants("title").First().Value : string.Empty,

                                    Link = null != rssFeed.Descendants("link").FirstOrDefault() ?
                                            rssFeed.Descendants("link").First().Value : string.Empty,

                                    Description = null != rssFeed.Descendants("description").FirstOrDefault() ?
                                            rssFeed.Descendants("description").First().Value : string.Empty,

                                    PubDate = null != rssFeed.Descendants("pubDate").FirstOrDefault() ?
                                            rssFeed.Descendants("pubDate").First().Value : string.Empty,

                                    Language = null != rssFeed.Descendants("language").FirstOrDefault() ?
                                            rssFeed.Descendants("language").First().Value : string.Empty
                                }).Single();

                    var rssFeeds = (from rssItems in rssReader.Descendants("item")
                                    select new RssItem()
                                    {
                                        Title = null != rssItems.Descendants("title").FirstOrDefault() ?
                                                 rssItems.Descendants("title").First().Value : string.Empty,

                                        Link = null != rssItems.Descendants("link").FirstOrDefault() ?
                                                 rssItems.Descendants("link").First().Value : string.Empty,

                                        Description = null != rssItems.Descendants("description").FirstOrDefault() ?
                                                 rssItems.Descendants("description").First().Value : string.Empty,
                                    }).ToList();

                    feed.RssItems = new ObservableCollection<RssItem>(rssFeeds);
                }
            };
        } 
```

最后，您可以在任何您想要的地方显示您的提要。

# sql-server - SQL Server：类似语法和添加运算符错误

> ID：13264305
> 
> 赞同：0
> 
> 时间：2012-11-07T06:30:30.093
> 
> 标签：sql-server, search, casting, binary

我正在使用这种语法，如果它没有出错，它应该可以正常工作。

```
SELECT
   e.user_key,
   e.char_key,
   CONVERT(VARCHAR,substring(e.char_data, 9, 16)) AS name,
   p.CHAR_DATA
FROM 
   CHAR_DATA0 AS e
INNER JOIN  
   CHAR_DATA1 AS p ON e.CHAR_KEY = p.CHAR_KEY
WHERE 
   p.CHAR_DATA LIKE '%'+CAST(cast(reverse(CONVERT(BINARY, 9998)) as BINARY(2)) AS BINARY(2))+'%'
ORDER BY 
   char_key 
```

我需要帮助。如何更改此代码以使其正常工作？

`CHAR_DATA`列是类型`BINARY(2000)`

我有这样的数据：（使用选择获得）

```
 0x04005C03020F2789080100000F278908010000FFFFFFFFFFFFFF0E2787080100000E278708010000FFFFFFFFFFFFFFBA3B8C08000000BB3B8C080000000F2789080100000F278908010000FFFFFFFFFFFFFF0E2787080100000E278708010000FFFFFFFFFFFFFFBC3B8C08000000BD3B8C080000000F2789080100000F278908010000FFFFFFFFFFFFFF0E2787080100000E278708010000FFFFFFFFFFFFFFBE3B8C08000000BF3B8C080000000F2789080100000F278908010000FFFFFFFFFFFFFF0E2787080100000E278708010000FFFFFFFFFFFFFFC03B8C08000000C13B8C08000000B5388B08020000B5388B08020000FFFFFFFFFFFFFF0E2787080100000E278708010000FFFFFFFFFFFFFFBA3B8C08000000BB3B8C08000000B5388B08020000B5388B08020000FFFFFFFFFFFFFF0E2787080100000E278708010000FFFFFFFFFFFFFFBC3B8C08000000BD3B8C080000000E2789080100000E278908010000FFFFFFFFFFFFFF0E2787080100000E278708010000FFFFFFFFFFFFFFBE3B8C08000000BF3B8C080000000E2789080100000E278908010000FFFFFFFFFFFFFF0E2787080100000E278708010000FFFFFFFFFFFFFFC03B8C08000000C13BFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF0F27FFFF0100000F27FFFF0100000E2789080000000E278908000000FFFFFFFFFFFFFF7E107F08000000EC168408000000B0177D080000000F27FFFF0100000F27FFFF0100000E2789080000000E27890800000052167C081E000052167C081E0000E2167D08000000271F2005000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF0E2787080100000E27870801000052167C081E000052167C081E0000FFFFFFFFFFFFFF13127F08000000C813FFFF1E0000C813FFFF1E00000E2787080100000E27870801000028127A08000000BF3B2D05000000FFFFFFFFFFFFFF13127F08000000C813FFFF1E0000C813FFFF1E0000FFFFFFFFFFFFFFFFFFFFFFFFFFFF28127A08000000FFFFFFFFFFFFFF1B1A80081A00001B1A80081A0000E915FFFF1B0000E915FFFF1B000023067A0800000024147B0800000020120D05000000084792080100001B1A80081A00001B1A80081A0000E915FFFF1B0000E915FFFF1B000025067A0800000024147B0800000020120D05000000E21610050000000000009D000000FFFF000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 
```

如果其中包含我要查找的条目，我需要在这些行中的某个位置进行搜索。

我要查找的始终是 2 个字节。所以我在上面的语法中寻找 0x0E27 。

这是一种有效的语法，但不是我想要做的：

```
SELECT 
   CONVERT(INT,cast(reverse(substring(char_data, 37, 2)) as BINARY(2))) AS helm 
FROM CHAR_DATA0 
WHERE CHAR_KEY = 5 
```

另一个是如果我使用 nvarchar(MAX) 它给出的结果甚至不包含我要查找的数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:07:10.323

```
where Convert(varChar(4000), CHAR_DATA,2 ) like '%' + Convert(varChar(4), CONVERT(BINARY(2), 9998),2 )+'%' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:10:45.310

我尝试只选择 like 子句，主要是因为我不需要您的架构（表）这样做，并且已经发现了一个错误（我认为）：

```
SELECT '%' + CAST( CAST(REVERSE(CONVERT(BINARY, 9998)) as BINARY(2)) AS BINARY(2) ) + '%' 
```

产生：

```
Msg 402, Level 16, State 1, Line 1
The data types varchar and binary are incompatible in the add operator. 
```

...其中（将整体结果类型更改为 varchar）：

```
SELECT '%' + CAST( CAST(REVERSE(CONVERT(BINARY, 9998)) as BINARY(2)) AS VARCHAR(2) ) + '%' 
```

产生（我们需要一些运气在这里的编码）：

```
%'%    -- that is: percent, apostrophe, beam (the musical note), percent 
```

也许这就是整个问题（尽管我对此表示怀疑）？试试看，让我们知道你的进展。我对此表示怀疑，因为我猜如果这是整个问题，那么您会从错误消息中自己解决（我认为您会从 SQL-Server 获得）。

干杯。基思。

# firefox - 安全地使用远程 HTML

> ID：13264309
> 
> 赞同：0
> 
> 时间：2012-11-07T06:31:00.400
> 
> 标签：firefox, firefox-addon, escaping, firefox-addon-sdk, html-sanitizing

我被要求通过`parseHTML`Mozilla 插件审阅者调用的函数将一些 html 从我的服务器发送到我的 Firefox 插件。有问题的方法记录在[这个 XUL 学校教程](https://developer.mozilla.org/en-US/docs/XUL_School/DOM_Building_and_HTML_Insertion#Safely_Using_Remote_HTML)中。

然而，在我的内容脚本中，`typeof parseHTML == "undefined"`. 我相信这是因为我的插件是使用插件 SDK 构建的，而不是 XUL。

用SDK构建的附加组件无权访问此方法是否正确？SDK中是否有等效方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T07:02:17.577

当然这个函数是未定义的——它不是一些全局定义的助手，而是你必须在你的代码中定义的东西（如代码示例所示）。它使用您需要访问的[`nsIParserUtils`界面。](https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIParserUtils)在基于 SDK 的扩展中，您将使用[chrome 权限](https://addons.mozilla.org/en-US/developers/docs/sdk/1.11/dev-guide/tutorials/chrome.html)：

```
var {Cc, Ci} = require("chrome");
var parser = Cc["@mozilla.org/parserutils;1"].getService(Ci.nsIParserUtils);
var sanitized = parser.sanitize(html, parser.SanitizerAllowStyle); 
```

如果您在内容脚本中，那么您当然不能使用它 - 您需要将 HTML 代码发送到插件，在那里对其进行清理并将其发送回内容脚本。虽然这是一个选项，但您可能需要考虑其他可能性，例如不`innerHTML`首先使用（如果您只需要在元素上设置一些文本，那么`textContent`这是一个安全的选择）。

旁注：虽然 XUL 教程相当陈旧，但这个特定页面一年前才被导入 MDN - 根据历史，自那以后定期更新。所以它是最新的，只是不明确地用于附加 SDK（实际上就像大多数 MDN 文章一样）。

# jquery - 将一个对话框拖放到另一个框中添加不必要的可滚动条

> ID：13264318
> 
> 赞同：4
> 
> 时间：2012-11-07T06:31:32.990
> 
> 标签：jquery, html, drag-and-drop, droppable, jquery-ui-droppable

当一个对话框（即“迭代 1”）拖放到另一个对话框中时，即版本 1 工作正常，但向其他对话框（即“版本 1”）添加了不必要的可滚动条。我想查看我的对话框，即“迭代 1”左上角本身。

```
$(document).ready(function() {

    $( "#dialogRelease").dialog({

        autoOpen: false,
        modal: false,
        show:  {effect: 'fade', duration: 2000},
        hide: "size",
        resizable:false,
        draggable:true,
        height: 360,
        width: 450,
        position: [1300,500]
    });

}); 
```

我必须在这里改变一些东西吗？

演示代码在这里 [http://jsfiddle.net/coolanuj/7683X/14/]

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T22:17:43.127

如果您谈论的是释放后将可拖动框放置在另一个容器中，实际上，问题出在其他地方。当您释放一个项目时，它会附加到其新容器中，但您不会更改可拖动项目`top`的`left`css 值。因此，它最终被附加到可见区域之外。如果只有一个容器，您可以像这样修复它：

```
function deleteImage($item) {
    $item.fadeOut(function() {
        var $list = $("ul", $trash).length ? $("ul", $trash) : $("<ul class='gallery ui-helper-reset'/>").appendTo($trash);

        ////////position fix/////////
        $item.css({
            top: 10,
            left: 10
        });
        $item.find(".placeholder1").remove();
        $item.append($gallery).appendTo($list).fadeIn(function() {
            $item.animate({
                width: "200px"
            }).find(".placeholder1").animate({
                height: "250px"
            });
        });
    });
} 
```

如果容器应该接受更多元素，则需要找到一种算法来正确放置它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T22:13:24.223

```
    #dialogIteration {
        溢出：隐藏；
    }

```

尽管我认为您正在寻找其他东西，但这修复了滚动条。在尝试使用 jQuery 插件之前，请尝试正确设置您的 css。这是一个样式问题而不是 jQuery 问题。

检查文档以进行拖放，某处可能存在溢出选项，还要确保对话框中的所有元素都具有正确的样式，否则您将获得非常不稳定的行为。

# iphone - 标签栏的背景颜色 更多按钮视图

> ID：13264324
> 
> 赞同：1
> 
> 时间：2012-11-07T06:32:10.917
> 
> 标签：iphone, objective-c, ios, ios4

![我们可以改变这个视图的背景颜色吗？](../Images/e3413fa380d2e2b23f6fb42c72d29028.png)

我想改变这个视图的颜色。我希望标签栏更多按钮视图颜色与应用颜色相同，而不是白色。怎么可能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T09:18:00.677

为此，您必须自定义`moreNavigationController`。一种解决方案是将您的子类化`UITabBarController`并在方法上添加以下内容`- (void)viewDidLoad`。

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view.
    UINavigationController *moreController = self.moreNavigationController;
    //if u want to custamize navigationBar u can customize
    //moreController.navigationBar

    if ([moreController.topViewController.view isKindOfClass:[UITableView class]]) {
        //Custamize your tableview here
        UITableView *tableView = (UITableView *)moreController.topViewController.view;
        //Change the color of tableView
        [tableView setBackgroundColor:[UIColor redColor]];

        moreController.topViewController.view = tableView;
    }
} 
```

我希望这可以帮助你

要自定义，`tabBarItem`您可以关注其他答案。

# asp.net-mvc-3 - 如何在 MVC3 中传递返回 URL？

> ID：13264325
> 
> 赞同：0
> 
> 时间：2012-11-07T06:32:11.490
> 
> 标签：asp.net-mvc-3, url

我有以下登录操作 [HttpPost]

```
 public ActionResult LogOn(LogOnModel user, string returnUrl)
        {
  if (!String.IsNullOrEmpty(returnUrl))
                                {
                    return Redirect(returnUrl);
                }
                else
                {
                    return RedirectToAction("Index", "Home");
                }
} 
```

其中我的 returnUrl 为空。任何人都可以告诉我。为什么我的返回 URL 为空

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-11T08:24:34.323

我为此写了一个非常修复的方法。基本上添加一个路由值需要添加到 Html.BeginForm 如下。

```
Html.BeginForm("LogOn", 
    "Account", 
    new { returnUrl = Request.QueryString["ReturnUrl"] }) 
```

有关更多详细信息，请参阅[http://blog.nicholasrogoff.com/2013/12/10/net-mvc-3-logon-does-not-redirect-out-the-boxquick-fix/](http://blog.nicholasrogoff.com/2013/12/10/net-mvc-3-logon-does-not-redirect-out-the-boxquick-fix/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T07:13:15.977

这取决于您如何调用控制器操作方法。

1.  如果您有如下 URL [http://www.somedomain.com/LogOn/LogOn?returnUrl=user/userList](http://www.somedomain.com/LogOn/LogOn?returnUrl=user/userList)

    在此调用中，您`returnUrl`的`ActionMethod`(的参数`LogOn` 将被替换为`querystring`parameter `returnUrl`。

2.  如果您使用`form authentication`，则有一个`[Authorize]`验证身份验证的属性。如果用户未通过身份验证，则它将重定向到其中包含请求的页面 url 的页面`LogIn`。`querystring parameter returnUrl`

此时，您还将`returnUrl`在控制器的 action 方法参数中获取 value 参数，`returnUrl`其中 value 将具有`requested page Url`

希望这可以帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T06:50:05.160

这取决于谁在调用此方法以及是否在 POST 请求中提供了此参数。

例如，如果用户试图访问一个用该`[Autorize]`属性修饰的控制器动作并且他没有通过身份验证，那么框架将自动重定向到该`LogOn`动作（呈现表单的动作，而不是带有的动作`[HttpPost]`）并提供`returnUrl`参数。

然后，您可以在登录表单中有一个隐藏字段来保留其值，以便当用户输入他的凭据并将表单提交给`LogOn`操作时，如果登录成功，他会被重定向到最初请求的页面。

# wordpress - WordPress小部件区域消失

> ID：13264332
> 
> 赞同：0
> 
> 时间：2012-11-07T06:32:45.270
> 
> 标签：wordpress

我正在开发一个 WordPress 网站。在小部件部分添加一些小部件时，我遇到了一些问题。

我在主要小部件区域和右侧小部件区域添加了一些东西，当我刷新小部件页面时，我添加的内容消失了，尽管它显示在 WordPress 的前端，但现在我无法从管理部分编辑该内容.

我的代码如下：

```
add_filter( 'sidebars_widgets', 'disable_sidebar_L_widgets' );
function disable_sidebar_L_widgets( $sidebars_widgets ) {
    if (!is_front_page() ) $sidebars_widgets['primary-widget-area'] = false;
    return $sidebars_widgets; }
add_filter( 'sidebars_widgets', 'disable_sidebar_R_widgets' );
function disable_sidebar_R_widgets( $sidebars_widgets ) {
    if (!is_front_page() ) $sidebars_widgets['right-widget-area'] = false;
    return $sidebars_widgets;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:20:34.540

编辑 functions.php 并找到 register_sidebar 函数。将 id 更改为小型大写字母示例：

register_sidebar(array('name' => __('Main Sidebar', ), 'id' => 'sidebar-1', 'before_widget' => '', 'after_widget' => "", 'before_title' => '', 'after_title' => '', ) );

# ruby-on-rails-3 - 如何向 ActiveRecord::Base 添加方法？

> ID：13264337
> 
> 赞同：4
> 
> 时间：2012-11-07T06:33:04.567
> 
> 标签：ruby-on-rails-3, activerecord

我正在尝试创建一个自定义的 ActiveRecord::Base，其中包含有关连接的其他元数据。我看到了两种解决方法：

1.) 从 ActiveRecord::Base 继承并在这个子类中添加方法和字段。

2.) 在我自己的类中封装一个 ActiveRecord::Base 对象

1 有各种问题，无法覆盖初始化，奇怪的问题似乎没有我添加的自定义方法等。

```
undefined method `set_profile' for #<Class:0xf041f0> 
```

2 由于使用 ActiveRecord::Base.new 的问题，我无法弄清楚

我正在尝试创建一个通用的 ActiveRecord 类，我可以在该类上动态建立连接和 set_table_name（即没有这个 ActiveRecord::Base 表示的一个基础表），但我似乎找不到实现它的方法。有任何想法吗？

这有效：

```
 class MyTable < ActiveRecord::Base
    establish_connection $config['custom-db-config'];
    set_table_name 'MY_TABLE'
  end 
```

但我需要一门课，我可以反复调用这些东西。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T07:56:51.270

不完全确定你为什么想要那个，但也许你可以试试这个？

```
module ActiveRecord
  class Base
    def self.your_method
      # implementation goes here
    end
  end
end 
```

您需要保存此文件并将其放入`config/intializers`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:59:43.743

您还可以扩展 ActiveRecord::Base 类，以便动态添加那些可由继承 ActiveRecord::Base 的类直接调用的方法......许多acts_as插件都是根据这种做法定义和制作的......

# delphi - 如何在 Delphi XE2 中建立 TCP/IP 连接？

> ID：13264340
> 
> 赞同：3
> 
> 时间：2012-11-07T06:33:13.800
> 
> 标签：delphi, tcp, delphi-xe2

我必须在 Delphi XE2 中开发一个简单的应用程序。此应用程序将使用 TCP/IP 协议连接到具有 IP 地址（例如 xxx.xxx.xxx.xxx）和某些端口号（例如 xxxx）的服务器上运行的服务，并将从服务器上运行的服务获得回复。

我创建了两个文本框：txtRequestMsg、txtReplyMsg 和一个名为 Connect 的按钮。

我需要打开一个 TCP 连接并发送一些数据并返回一些数据作为响应，比如 ping，但不使用 ICMP，只使用原始 TCP。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-07T16:02:56.610

为各种 TCP 客户端（发起）和 TCP 服务器（应答）协议提供 TCP 和 UDP 组件的最常用的 Delphi Internet 库是：

1.  Indy 版本 10，包含在 Delphi XE2 安装的包装盒中。几乎任何[演示](http://www.indyproject.org/sockets/demos/index.en.aspx)都可能会为您提供足够的入门信息，但也要准备好阅读文档。没有人会在一个堆栈溢出问题中教你如何编写网络应用程序。Stackoverflow 上有很多人在使用这个库，并且 Indy 团队成员经常在这里回答有关 Indy 的问题，而且它很受尊重，除非你有真正的理由不使用它，否则你应该从 Indy 开始。当你尝试过某事时，请询问有关 Indy 的具体问题，而不是像这样的模糊问题。

2.  [弗朗索瓦·皮耶特的ICS](http://www.overbyte.be/frame_index.html)。我喜欢它，因为代码更小更简单，而且我发现它比 Indy 更易于使用，但使用它的人更少。Stackoverflow 上有一些人在使用这个库，包括我，以及在 SO 上活跃的 Francois 本人。

3.  突触。我只使用了一点，但我知道很多人都在使用它。

# visual-studio - 如何使用 Mercurial 将我想要的版本代码放入 Visual Studio

> ID：13264342
> 
> 赞同：0
> 
> 时间：2012-11-07T06:33:36.590
> 
> 标签：visual-studio, version-control, mercurial

我首先要说这可能是一个愚蠢的问题，如果我盯着答案但看不到，请道歉。

过去我主要使用 VCS 作为一种在出现问题时允许我恢复代码的方法。我一直有一个单一的发展阶段。但是，在发布和启动下一个版本时，我遇到了通常的麻烦——处理错误。所以这次我决定使用分支（forking 或其他最好的名字）。我是一个孤独的开发人员，所以我是唯一一个使用存储库的人。我的场景很简单。我想在发布时创建一个分支，以便我有一行用于发布的代码和一行用于测试版。然后我可以愉快地在测试版上工作。现在出现了一个错误，我需要回到发布的最后一次提交。

我的问题是在 IDE 中取回该代码以进行处理的最佳方法是什么。

我在 Mercurial 中读过，一种简单的方法是克隆包括工作目录的存储库。这会给我两份代码库副本，我想我可以选择将哪一份加载到 IDE 中。然后我会使用 Push 或 pull 将错误修复从发布副本中获取到 beta 副本（我认为）。

我认为必须有另一种方法，但是没有克隆。我该怎么做？我可以猜测恢复到发布代码的最后一次提交。然后我假设将解决方案加载到 IDE 中会给我这个。我不确定代码完成后我会去哪里。

作为记录，我查看了许多不同的 VCS - 我过去使用过 SVN，但想使用 DVCS。我查看了 Git、Bazaar、Mercurial 和 Veracity（过去使用过 Code-Coop）。您可能认为另一种工具更适合我的需求。在尝试了其他方法之后，我发现我可以理解 Mercurial 的工作方式以及带有 WorkBench 和 HgSccPackage 的 GUI 工具（例如 TortoiseHg）（[http://visualstudiogallery.msdn.microsoft.com/9bc074fa-9e1f-4ce2-a75d-b90e65f7475a](http://visualstudiogallery.msdn.microsoft.com/9bc074fa-9e1f-4ce2-a75d-b90e65f7475a)）吸引力

这里有很多很好的文档和链接[Introduction to Mercurial](https://stackoverflow.com/questions/837858/introduction-to-mercurial) ，我已经阅读了不同的分支方法，包括使用书签等，但它们似乎主要针对多成员团队 - 这当然是有道理的

提前谢谢了

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:39:50.160

> 我认为必须有另一种方法，但是没有克隆

是的。您可以在单个 repo 中使用（命名）分支（我更喜欢VS 中的[HgSccPackage](https://bitbucket.org/zzsergant/hgsccpackage/wiki/ScreenShots)），更新到~~修订~~分支头，更改，提交，合并

顺便说一句，带有书签/克隆/分支的分支对于任何规模的团队都以相同（好）的方式工作 - 这是一个品味问题

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:48:50.500

你混合了一些概念，我猜你有 SVN 背景？

只是为了回答您的问题，要“取回 IDE 中的代码”，您需要“更新”到以前的版本。但这是考虑到您已经克隆了存储库。你的问题是关于如何克隆..？正如您所问的，没有先克隆就没有其他方法。克隆是在本地拥有 HG 存储库的第一步。克隆后，您可以提交和推送更改或拉取和更新。

为了进一步扩展答案并考虑到您将使用 Mercurial，您应该执行以下操作：

*   阅读：[http](http://hginit.com/) ://hginit.com/ - 伟大的 HG（教程），由 Joel Spolsky 亲自编写！HG 及其概念简介。你需要很好地理解这一点，因为现在你正在做很多猜测、假设和思考:) HG/Git 与 SVN 不同，并且在乞求时，这些概念可能难以理解和习惯。

*   对于您的项目和您的问题，有一个名为“dev”或“trunk”或“version X”等的分支，您将在其中提交所有新更改。

*   有一个名为“live”等的分支，它将代表当前的“live”版本。这样，当您需要及时恢复到实时版本并对其进行快速修复时，您将“更新”到该“实时”分支的尖端，丢弃所有本地更改（在您提交到主干之后！ 当然）。

*   将版本上线时，您将需要（假设所有更改都已提交！）：更新到实时分支，然后将版本 X 合并到本地（本地为实时）。这会将您的 versionX 分支包含在 live 中 - 这是您此时需要的。然后，要么更新回版本 X 分支，要么创建一个新分支 - 版本 X+1。这将处理版本并保持分支分开。

*   因为您使用的是 VS - 安装[http://visualhg.codeplex.com/](http://visualhg.codeplex.com/)。HG 源代码控制集成到 VS。

# objective-c - 对象的 NSDictionnary 条目

> ID：13264343
> 
> 赞同：1
> 
> 时间：2012-11-07T06:33:50.447
> 
> 标签：objective-c, ios, nsdictionary, fmdb

有没有一种简单的方法可以将 NSDictionnary 条目放入对象中？

从我的数据库中，我将 NSDictionnary 输入为：

```
columnName1 = contentOfColumName1
columnName2 = contentOfColumName2
columnName3 = contentOfColumName3
.... 
```

我想实例化一个具有 n 个字段的对象：columnName1、columnName2、columnName3（与 NSDictionnary 条目的键名称相同

这是我宁愿避免的...

```
MyObject* o = [[MyObject alloc] init]
[o setColumName1 = myNsDictionnary entry's value for key 'column1']
[o setColumName2 = myNsDictionnary entry's value for key 'column2']
[o setColumName3 = myNsDictionnary entry's value for key 'column3']
... 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T09:11:10.203

what about this `[myObject setValuesForKeysWithDictionary:myNsDictionnary];`?

# android - 在android中以厘米为单位定义视图大小

> ID：13264345
> 
> 赞同：2
> 
> 时间：2012-11-07T06:33:59.497
> 
> 标签：android, view, size

我想做一个1cm*1cm大小的编辑框。在所有分辨率和所有屏幕上，它的大小应为 1cm*1cm。他们在android中有什么方法可以让我在cms中定义高度或宽度吗？如果有人可以为我提供解决方案，那将有很大帮助。

提前致谢 ！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:44:08.110

您可以使用“in”或“mm”作为布局的尺寸单位，对应于英寸或毫米。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:52:02.357

查看[更多资源类型 # Dimension](http://developer.android.com/guide/topics/resources/more-resources.html#Dimension)

有一个单位叫做`mm`毫米。

> **mm** 毫米 - 基于屏幕的物理尺寸。

所以`10mm`都等于`1cm`。

来源是这个问题[的](https://stackoverflow.com/questions/2025282/difference-of-px-dp-dip-and-sp-in-android)[答案](https://stackoverflow.com/a/2025541/1482388)

# .net - 接口即 ServiceStack Razor 模型

> ID：13264349
> 
> 赞同：2
> 
> 时间：2012-11-07T06:34:16.070
> 
> 标签：.net, razor, servicestack

我对 ServiceStack 比较陌生，但我喜欢我目前所看到的。但是，我在这件事上碰壁了-

这就是我的剃须刀模板的样子——

```
@inherits ViewPage<IChallenge>

@{
    foreach (var codeFile in Model.CodeFiles)
    {
//do something here
    }
} 
```

这里，IChallenge 是一个接口，服务在返回时动态选择该接口的给定实现。该服务被连接以返回接口本身，如下所示 -

```
public class WebChallenge : IReturn<IChallenge> { /* properties */ } 
```

但是，当我运行代码时出现以下错误 -

*无法将类型“ServiceStack.Razor.Compilation.RazorDynamicObject”隐式转换为“IChallenge”。存在显式转换（您是否缺少演员表？）*

以此作为完整堆栈的响应-

```
<?xml version="1.0"?>
<Challenge1Response xmlns="" xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
<ResponseStatus> 
<ErrorCode>RuntimeBinderException</ErrorCode> 
<Message>Cannot implicitly convert type 'ServiceStack.Razor.Compilation.RazorDynamicObject' to 'CodeGuru.Exercises.IChallenge'. An explicit conversion exists (are you missing a cast?)</Message> 
<StackTrace> at CallSite.Target(Closure , CallSite , Object ) 
at System.Dynamic.UpdateDelegates.UpdateAndExecute1[T0,TRet](CallSite site, T0 arg0) 
at ServiceStack.Razor.Templating.TemplateBase`1.get_Model() 
at CompiledRazorTemplates.Dynamic.faaccadc.Execute() 
at ServiceStack.Razor.Templating.TemplateService.ExecuteTemplate[T](T model, String name, String defaultTemplatePath, IHttpRequest httpReq, IHttpResponse httpRes) 
at ServiceStack.Razor.RazorFormat.ExecuteTemplate[T](T model, String name, String templatePath, IHttpRequest httpReq, IHttpResponse httpRes) 
at ServiceStack.Razor.RazorFormat.ProcessRazorPage(IHttpRequest httpReq, ViewPageRef razorPage, Object dto, IHttpResponse httpRes) 
at ServiceStack.Razor.RazorFormat.ProcessRequest(IHttpRequest httpReq, IHttpResponse httpRes, Object dto) 
at ServiceStack.WebHost.Endpoints.Formats.HtmlFormat.&lt;&gt;c__DisplayClass1.&lt;SerializeToStream&gt;b__0(IViewEngine x) 
at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate) 
at ServiceStack.WebHost.Endpoints.Formats.HtmlFormat.SerializeToStream(IRequestContext requestContext, Object response, IHttpResponse httpRes) 
at ServiceStack.WebHost.Endpoints.Extensions.HttpResponseExtensions.WriteToResponse(IHttpResponse response, Object result, ResponseSerializerDelegate defaultAction, IRequestContext serializerCtx, Byte[] bodyPrefix, Byte[] bodySuffix)
</StackTrace> 
</ResponseStatus> 
</Challenge1Response> 
```

如果我使用特定的实现，这个错误就会消失 - 但是我需要能够发送在运行时选择的任何实现。有任何想法吗？

**编辑：**

我注意到，如果接口被包装为另一个强类型对象的属性，并且该对象用作视图中的模型，它工作正常，我也可以访问接口属性。这可能是一种解决方法，但我想知道是否有人知道更好的答案，因为这感觉就像跳过篮球。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T12:31:08.960

您是否尝试过抽象基类，或者只是一个基类，而不是接口

公共抽象类挑战 : IChallenge

{ }

公共类 WebChallenge : 挑战, IReturn

{ }

然后在剃须刀里

@inherits 视图页面

# iphone - 与动画一起使用时 UINavigationController 的 setViewControllers 崩溃应用程序：否

> ID：13264354
> 
> 赞同：0
> 
> 时间：2012-11-07T06:34:41.427
> 
> 标签：iphone

这工作得很好：

```
[(UINavigationController*)viewController setViewControllers:[NSArray arrayWithObject:cvc] animated:YES]; 
```

但这会导致我的应用程序崩溃：

```
[(UINavigationController*)viewController setViewControllers:[NSArray arrayWithObject:cvc] animated:NO]; 
```

我在其他部分使用的同一行带有不同的带有动画的viewController：NO，它工作正常。我错过了什么还是一个错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:26:07.590

Apple 仅在动画设置为 YES 的情况下提供了此功能的文档。

`- (void)setViewControllers:(NSArray *)viewControllers animated:(BOOL)animated __OSX_AVAILABLE_STARTING(__MAC_NA,__IPHONE_3_0);` // 如果动画为 YES，则根据新的顶视图控制器之前是否在堆栈中模拟推送或弹出。

**我认为当您将动画设置为“否”时，新的顶级 NavigationController 尚未初始化并正确加载，直到动画完成。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:05:03.027

如果您将视图控制器设置为 rootViewController 然后执行此操作

```
yourNavigationController=[[UINavigationController alloc]initWithRootViewController:cvc]; 
```

然后当你想去 newViewController 然后使用`pushViewController`

```
[self.navigationController pushViewController:yourViewObject animated:YES]; 
```

# objective-c - 没有可用于签名的标识符（Xcode）

> ID：13264356
> 
> 赞同：0
> 
> 时间：2012-11-07T06:34:55.843
> 
> 标签：objective-c, xcode, app-store

我已尝试进行 App Store 提交，但无法完成，因为错误显示“没有可用于签名的身份”。

我从论坛中检查并一步一步地进行操作，它仍然无法解决问题。

你有什么主意吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:38:45.257

转到 developer.apple.com，下载分发证书并将其安装在您的 Mac 上。之后，您将能够签署您的应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-26T20:53:47.700

检查您的配置文件是否已过期。我已经创建了分发配置文件，但它们刚刚过期。即使私钥/公钥在密钥库中正确，xCode 给出的错误消息只是说“没有可用于签名的身份”。为了解决这个问题，我做了以下事情：

1.  在 iOS Provisioning Portal 中，选择左侧的“Provisioning”
2.  在“供应配置文件”下选择“分发”（这是我可以看到供应配置文件已过期的地方
3.  单击过期的配置文件
4.  点击“编辑”
5.  选择要用于配置文件的证书
6.  点击“生成”
7.  点击“下载”
8.  打开文件（它应该启动 xCode 并将其添加到 Organizer）

在此之后，我能够将更新提交到 App Store 没问题。他们真的需要更好的错误信息。

# php - STAT Relation 关于相关模型的 STAT 关系，Yii

> ID：13264359
> 
> 赞同：2
> 
> 时间：2012-11-07T06:34:57.520
> 
> 标签：php, mysql, yii, relational-database

我在 Yii 中遇到了 STAT 关系的问题。我不确定我正在寻找的东西是否可能与原生 Yii 关系有关。我会尽力描述我的问题，如果有不清楚的地方，请询问任何具体细节。

我有三张桌子，因此有三种型号

```
| tablea         |
| tableb         |
| tablec         |

mysql> select * from tablea;
+----+--------+
| id | name   |
+----+--------+
|  1 | Item 1 |
|  2 | Item 2 |
+----+--------+
2 rows in set (0.00 sec)

mysql> select * from tableb;
+----+------+----------+
| id | Aid  | name     |
+----+------+----------+
|  1 |    1 | B Item 1 |
|  2 |    2 | B Item 2 |
|  3 |    1 | B Item 3 |
+----+------+----------+
3 rows in set (0.00 sec)

mysql> select * from tablec;
+----+------+----------+-------+
| id | Bid  | name     | value |
+----+------+----------+-------+
|  1 |    1 | C Item 1 |    10 |
|  2 |    2 | C Item 2 |    20 |
|  3 |    1 | C Item 3 |    15 |
|  4 |    2 | C Item 4 |     5 |
|  5 |    3 | C Item 5 |    12 |
+----+------+----------+-------+
5 rows in set (0.00 sec) 
```

该关系类似于 TableA HAS_MANY TableB 和 TableB HAS_MANY TableC。

我在 TableC 中有一个值字段。我能够从 TableB 中获得值总和的 STAT 关系。我想要的是 TableA 中所有 TableC 项目的总和。我需要在具有排序功能的 GridView 中使用它们。

关于如何实现这一点的任何想法？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T08:39:38.087

您可以尝试将第三个表加入`TableA`模型中的关系，如下所示：

```
public function relations()
{
    return array(
        ...
        'TableCCount' => array(self::STAT, 'TableB', 'Aid', 'join'=>'INNER JOIN `tablec` `tc` ON `tc`.`Bid` = `t`.`id`'),
        ...
    );
} 
```

未经测试，因此可能需要一些编辑。

# database - 建立在亚马逊网络服务上的 iPhone 应用程序

> ID：13264364
> 
> 赞同：1
> 
> 时间：2012-11-07T06:35:24.197
> 
> 标签：database, amazon-s3, amazon-web-services, user-management

我正在构建一个将用户登录凭证存储在 AWS DynamoDB 中的 iPhone 应用程序。在另一个 DynamoDB 中，我正在为该用户存储文件的位置（存储在 S3 中）。我不明白的是如何确保安全。如果我使用一个令牌自动售货机，它为该应用程序提供一个可以访问用户 DynamoDB 的 ID，是否任何用户都可以访问整个数据库并添加或删除他们想要的任何信息？他们还可以使用此设置访问整个 S3 存储桶。关于如何安全正确地设置它的任何建议？

我是用户数据库管理的新手，非常感谢任何指向有用资源的链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T15:17:07.387

关于 S3 和权限，您可能会发现以下问题的答案很有用：

[使用 AWS IAM 的临时凭证](https://stackoverflow.com/questions/13181996/temporary-credentials-using-aws-iam/13203735#13203735)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:44:42.290

IAM 权限比您想象的更精细。您可以允许/禁止特定的 API 调用，例如，您可能只允许读取操作。您也可以只允许访问特定资源。在 S3 上，这意味着您可以限制对特定文件或文件夹的访问，但 dynamodb 策略只能在表级别设置。

就我个人而言，我不允许用户直接访问 dynamodb - 我将有一个网络服务调解访问，尽管用户能够直接上传到 s3 或直接从 s3 下载是一件好事（你的网络服务通常可以放弃预签名的网址虽然）

# android - 如何从sqlite数据库android计算表的行数

> ID：13264367
> 
> 赞同：3
> 
> 时间：2012-11-07T06:35:31.843
> 
> 标签：android, sqlite

我想在android中计算表格的行数。我使用了2种方法但没有成功并收到警告消息

```
Launch timeout has expired, giving up wake lock!
 Activity idle timeout for HistoryRecord{44e26a30 com.india.screen/.CategoryList} 
```

我试过了-

```
String query="Select count(*) from Holyplace_Tbl"; 
```

1.  **使用 rawQuery**

    公共无效countRows（字符串查询）{

    ```
    Cursor mcursor = assetDatabaseHelper.executeQuery(query);
    mcursor.moveToFirst();
    int icount = mcursor.getInt(0);
    System.out.println("NUMBER IN DB: " + icount);
    mcursor.close(); 
    ```

    }

2.  **使用 DatabaseUtils**

    ```
    public int countRows(String query)
    {

       int sometotal = (int) DatabaseUtils.longForQuery(sqliteDatabaseObj, query, null);
      return sometotal;
     } 
    ```

    [AssetDatabaseOpenHelper.class](https://stackoverflow.com/questions/13244881/how-solve-launch-timeout-has-expired-giving-up-wake-lock-in-android)

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-07T06:38:39.287

试试这个

```
private static final String DB_TABLE_PLACES = "Places";
private SQLiteDatabase mDatabase;

private long fetchPlacesCount() {
    String sql = "SELECT COUNT(*) FROM " + DB_TABLE_PLACES;
    SQLiteStatement statement = mDatabase.compileStatement(sql);
    long count = statement.simpleQueryForLong();
    return count;
} 
```

[在这里](http://www.samcoles.co.uk/mobile/android-get-number-of-rows-in-sqlite-database-table/)查看更多。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-06-10T11:56:53.867

我从[如何计算 sqlite 中的记录数中找到的最简单有效的方法](https://stackoverflow.com/a/12438482/1318946)

> [DatabaseUtils](http://developer.android.com/reference/android/database/DatabaseUtils.html)提供了用于处理数据库和游标的静态实用程序方法。

```
int numRows = DatabaseUtils.longForQuery(db, "SELECT COUNT(*) FROM table_name", null); 
```

或者：

```
int numRows = DatabaseUtils.queryNumEntries(db, "table_name"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T06:47:10.303

您可以像这样使用简单的 RawQuery：

```
private SQLiteDatabase mDatabase;

Cursor c = mDatabase.rawQuery("select COLUMN_NAME from TABLE_NAME",null);

int count = c.getCount(); 
```

该`Cursor.getCount()`方法返回游标中的行数，在这种情况下将是您要查找的项目数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-17T08:40:30.427

```
long numRows = DatabaseUtils.queryNumEntries(db, table); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-06-15T11:18:13.410

您可以按如下方式获取行数：

```
c = db.rawQuery("SELECT * FROM Your_tabename", null);
int i = c.getCount(); 
```

# oracle - 提高 Oracle 中跨 DBLINK 的 CLOB 插入性能

> ID：13264368
> 
> 赞同：2
> 
> 时间：2012-11-07T06:36:22.333
> 
> 标签：oracle, clob, dblink

尝试将 CLOB 从一个数据库复制到另一个数据库时，我发现 Oracle (11g) 的性能很差。我已经尝试了几件事，但无法改善这一点。

CLOB 用于收集报告数据。在逐个记录的基础上，这可能非常大。我正在远程数据库（通过 WAN）上调用一个程序来构建数据，然后将结果复制回公司总部的数据库进行比较。一般格式为：

```
CREATE TABLE my_report(the_db VARCHAR2(30), object_id VARCHAR2(30), 
final_value CLOB, CONSTRAINT my_report_pk PRIMARY KEY (the_db, object_id)); 
```

为了获得性能，我将远程站点的结果累积到表的远程副本中。在程序运行结束时，我尝试将数据复制回来。这个查询很简单：

```
INSERT INTO my_report SELECT * FROM my_report@europe; 
```

我看到的性能约为每秒 9 行，平均 CLOB 大小为 3500 字节。（我使用的是 CLOB，因为这个大小通常超过 4k，这是 VARCHAR2 的限制。）对于 70,000 条记录（并不罕见），传输大约需要 2 小时。我尝试过使用该`create table as select`方法，但这获得了相同的性能。我还花了几个小时调整 SQL*NET，但没有看到任何改进。更改 Arraysize 不会提高性能（尽管如果值减小它可以降低它。

我可以使用旧的 exp/imp 方法（从远程导出表，然后将其重新导入）获取副本，它运行得更快，但这对于我的自动报告来说是相当手动的。我考虑过尝试编写一个流水线函数来从中选择这些数据，使用它将 CLOBS 拆分为 BYTE/VARCHAR2 块（带有额外的块编号列），但如果有人尝试过并发现，我不想这样做一个问题。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-17T20:37:16.897

当将数组大小增加到 1500 或更高时，我能够获得更好的性能。另见附件：[http ://www.fors.com/velpuri2/PERFORMANCE/SQLNET.pdf](http://www.fors.com/velpuri2/PERFORMANCE/SQLNET.pdf)

# powershell - 如何将参数数组传递给 Powershell 命令行

> ID：13264369
> 
> 赞同：21
> 
> 时间：2012-11-07T06:36:29.240
> 
> 标签：powershell, powershell-2.0

我正在尝试将参数数组传递给 powershell 脚本文件。

我试图在命令行中像这样传递命令行。

> Powershell -file "InvokeBuildscript.ps1" "z:\" "Component1","component2"

但它并没有采用看起来的参数。我错过了什么？如何传递参数数组？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2015-10-20T07:43:21.913

简短的回答：更多的双引号可能会有所帮助......

假设脚本是“test.ps1”

```
param(

    [Parameter(Mandatory=$False)]
    [string[]] $input_values=@()

)
$PSBoundParameters 
```

假设想传递数组@(123,"abc","x,y,z")

在 Powershell 控制台下，将多个值作为数组传递

```
.\test.ps1 -input_values 123,abc,"x,y,z" 
```

在 Windows 命令提示符控制台或 Windows 任务计划程序下；一个双引号替换为 3 个双引号

```
powershell.exe -Command .\test.ps1 -input_values 123,abc,"""x,y,z""" 
```

希望它可以帮助一些

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-11-07T07:10:10.603

尝试

```
Powershell -command "c:\pathtoscript\InvokeBuildscript.ps1" "z:\" "Component1,component2" 
```

如果`test.ps1`是：

```
$args[0].GetType()
$args[1].gettype() 
```

从 dos shell 中调用它，例如：

```
C:\>powershell -noprofile -command  "c:\script\test.ps1" "z:" "a,b" 
```

返回：

```
IsPublic IsSerial Name                                     BaseType
-------- -------- ----                                     --------
True     True     String                                   System.Object
True     True     Object[]                                 System.Array 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-07-01T03:27:51.407

也可以将数组变量作为命令行参数传递。例子：

考虑以下 Powershell 模块

文件：PrintElements.ps1

```
Param(
    [String[]] $Elements
)

foreach($element in $Elements)
{
   Write-Host "element: $element"
} 
```

要使用上述 powershell 模块：

```
#Declare Array Variable
[String[]] $TestArray = "Element1", "Element2", "Element3"

#Call the powershell module
.\PrintElements.ps1 $TestArray 
```

如果你想连接并传递 TestArray 作为一个空格分隔元素的字符串，那么你可以通过将参数括在引号中来调用 PS 模块，如下所示：

```
#Declare Array Variable
[String[]] $TestArray = "Element1", "Element2", "Element3"

#Call the powershell module
.\PrintElements.ps1 "$TestArray" 
```

# sencha-touch - XMLHttpRequest 无法在 Senchatouch-2 中加载带有 ajax 的 URL

> ID：13264371
> 
> 赞同：0
> 
> 时间：2012-11-07T06:36:39.960
> 
> 标签：sencha-touch, sencha-touch-2

```
I'm trying to get some j son data from a local server using Senchatouch-2 app: 
```

我收到以下消息：

```
load http://localhost:8084/Sencha/senchatest. Origin http://localhost:8084 is not allowed by Access-Control-Allow-Origin.

Even If I launch my sencha app as an, I get this:

   XMLHttpRequest cannot load http://localhost:8084/Sencha/senchatest.Origin null is not allowed by Access-Control-Allow-Origin

The web service returns data. I try to catch the data items like this: 
```

// 动态列表视图

```
 proxy:{
            type: 'ajax',
            method:'GET',
            model:'List.model.Mainmodel',
            url: 'http://localhost:8084/Sencha/senchatest',

            reader: {
                type: 'json',
                rootProperty: 'data.firstName.lastName'
              }}  

And I'm trying to get this structure:
   {"data":[{"firstName": "dhina", "lastName": "karan"},{"firstName": "dhina", "lastName": "karan"},{"firstName": "dhina", "lastName": "karan"},{"firstName": "dhina", "lastName": "karan"},{"firstName": "dhina", "lastName": "karan"},{"firstName": "dhina", "lastName": "karan"}]} 
```

你知道我为什么会收到这个错误吗？

谢谢，

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:46:41.897

确保您已通过服务器获取您的页面，而不是通过文件系统加载它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:41:03.197

您正遭受同源政策的困扰。

通过这个：[https ://developer.mozilla.org/en-US/docs/Same_origin_policy_for_JavaScript](https://developer.mozilla.org/en-US/docs/Same_origin_policy_for_JavaScript)

这也将对您有所帮助：[https ://developer.mozilla.org/en-US/docs/HTTP_access_control](https://developer.mozilla.org/en-US/docs/HTTP_access_control)

# php - PHP fopen forloops

> ID：13264373
> 
> 赞同：0
> 
> 时间：2012-11-07T06:36:42.530
> 
> 标签：php

我不完全确定为什么这不起作用我尝试用谷歌搜索它是否有答案很多他们想出了一个 foreachloop 而不是常规的 for 循环有人可以向我解释为什么这不起作用。

```
<?php
$list = array("GOOG", "AAP", "MSFT");

    for($i=0; $i<3; $i++)
    {
        echo "why isn't this working <br>";

        $fp = fopen ("http://finance.yahoo.com/d/quotes.csv?s=GOOG&f=sl1ve1x&e=.csv","r");
        $data = fgetcsv ($fp, 1000, ",");
        $exit = str_replace('"',"",$data[3]);
        $exchange = str_replace('"',"",$data[4]);

        echo "$data[0] <br>";
        echo "$data[1] <br>";
        echo "$data[2] <br>";

    }
?> 
```

我希望它打印谷歌信息 3 次，如果我在它工作后自行取出 fopen 则不会，但如果我多次这样做，它就不会做任何我期望的事情

输出前

```
why isn't this work
Goog
8398
789
why isn't this work
Goog
8398
789
why isn't this work
Goog
8398
789 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:44:03.930

为什么不使用 foreach？

```
<?php
$lists = array("GOOG", "AAP", "MSFT");

foreach($lists as $list)
{
    echo "<h3>Values for ".$list."</h3>";

    $fp = fopen ("http://finance.yahoo.com/d/quotes.csv?s=".$list."&f=sl1ve1x&e=.csv","r");
    $data = fgetcsv ($fp, 1000, ",");
    fclose($fp);

    echo $data[0]."<br/>",
         $data[1]."<br/>",
         $data[2]."<br/>";
}
/* Result
Values for GOOG
GOOG
681.72
1582936
Values for AAP
AAP
80.44
1306227
Values for MSFT
MSFT
29.86
43408272
*/
?> 
```

## 编辑：

您可能还想知道，使用 fopen 循环大约慢 4.6 倍，然后使用 curl_multi 作为 curl multi 将同时发出所有请求，结果如下：

简单卷曲多功能：

```
<?php
function curl_multi_get($data) {
    $curly = array();
    $result = array();

    $mh = curl_multi_init();
    foreach ($data as $id=>$d) {
        $curly[$id] = curl_init();
        curl_setopt($curly[$id], CURLOPT_URL,            'http://finance.yahoo.com/d/quotes.csv?s='.$d.'&f=sl1ve1x&e=.csv');
        curl_setopt($curly[$id], CURLOPT_HEADER,         0);
        curl_setopt($curly[$id], CURLOPT_RETURNTRANSFER, true);
        curl_setopt($curly[$id], CURLOPT_FOLLOWLOCATION, true);
        curl_setopt($curly[$id], CURLOPT_TIMEOUT,        30);
        curl_setopt($curly[$id], CURLOPT_AUTOREFERER,    true);
        curl_setopt($curly[$id], CURLOPT_RETURNTRANSFER, true);

        curl_multi_add_handle($mh, $curly[$id]);
    }
    $running = null;
    do {
        curl_multi_exec($mh, $running);
    } while($running > 0);
    foreach($curly as $id => $c) {
        $result[$id] = curl_multi_getcontent($c);
        curl_multi_remove_handle($mh, $c);
    }
    curl_multi_close($mh);
    return $result;
}
?> 
```

**在0.50315880775452**秒内卷曲多

```
<?php
//Benchmark test 1 curl_multi
$time_start = microtime(true);
//---------------------------------------

$lists  = array("GOOG", "AAP", "MSFT");
$result = curl_multi_get($lists);

foreach($result as $data)
{
    $data = explode(',',$data);

    echo "<h3>Values for ".$data[0]."</h3>";

    echo $data[0]."<br/>",
         $data[1]."<br/>",
         $data[2]."<br/>";
}

//--------------------------------------
$time_end = microtime(true);
$time = $time_end - $time_start;

echo "Did Curl multi in $time seconds\n";
//end first test
//Did Curl multi in 0.50315880775452 seconds
?> 
```

fopen() 在**2.3253791332245**秒内

```
<?php
//Benchmark test 2 fopen()
$time_start = microtime(true);
//--------------------------------------

$lists = array("GOOG", "AAP", "MSFT");
foreach($lists as $list)
{
    echo "<h3>Values for ".$list."</h3>";

    $fp = fopen ("http://finance.yahoo.com/d/quotes.csv?s=".$list."&f=sl1ve1x&e=.csv","r");
    $data = fgetcsv ($fp, 1000, ",");
    fclose($fp);

    echo $data[0]."<br/>",
         $data[1]."<br/>",
         $data[2]."<br/>";
}

//--------------------------------------
$time_end = microtime(true);
$time = $time_end - $time_start;

echo "Did fopen() in $time seconds\n";
//end second test
//Did fopen() in 2.3253791332245 seconds 
?> 
```

希望能帮助到你

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-26T00:53:16.487

```
$lists  = array("GOOG", "AAP", "MSFT");
$result = curl_multi_get($lists);

foreach($result as $data)
{
    $data = explode(',',$data);

    echo "<h3>Values for ".$data[0]."</h3>";

    echo $data[0]."<brtextmessagedfghjkljhgfdsadfghjkkjhgfdsasdfghjklkjhgfdsasdfghjkkjhgfdsasdfghjkjhgfdsdfghjkkjhgfdsdfghjm,.,mnbvcxsdfghjklkjhgfdsdfghjkllkjhgfdsa/>",
         $data[1]."<br/>",
         $data[2]."<br/>";
} 
```

# bash - 检查文件中的数据并仅接受所需数量的参数以使用 bash 脚本计算区域

> ID：13264375
> 
> 赞同：0
> 
> 时间：2012-11-07T06:36:55.453
> 
> 标签：bash, parameters

第 1 部分）我的脚本允许命令行选项 -r、-c 和 -t 分别用于矩形、圆形和梯形。矩形选项需要两个参数，长度和宽度。circle 选项需要一个参数，即半径。梯形选项需要三个参数，高度和每个平行底。第 2 部分）脚本允许选项 -f。当此选项与 -r、-c 或 -t 一起使用时，每个选项都有一个参数，即输入文件的名称。输入值将一次从输入文件中读取一行，并将区域打印到标准输出。当读取值 –1 时脚本应该终止。

我已经完成了第 1 部分和第 2 部分，但脚本在读取 -1 时终止。我想在第二部分做的是矩形，当我给它一个输入文件时，是检查该文件是否在每一行中有 2 个值。如果它没有 2 个值，则回显“文件具有无效的数据集”。与圆形相同，它不应接受在输入文件的每一行和梯形 3 中大于或小于 1 的任何值。

```
 filename=$OPTARG;;
        while read -a line
        do
            if (( $choice == 1 ))
                    then
                            Area=`echo "scale=3; ${line[0]}*${line[1]}" | bc`;
                            echo "Area of the rectangle is $Area";

            fi
            if (( $choice == 2 ))
                    then
                            Pi=3.1416
                            Area=`echo "scale=3; ${line[0]*$line[0]}*$Pi" | bc`;
                            echo "Area of the circle is $Area";

            fi
            if (( $choice == 3 ))
                then
                            Area=`echo "scale=3; (${line[0]}+${line[1]})/2*${line[2]}" | bc`;
                            echo "Area of the trapezoid is $Area";

            fi
            done < "$filename" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:51:57.493

只需 grep 文件中的 -1 并回显 $?。如果 -1 存在则为零，如果 -1 不存在则为 1。

检查号码。传递的值执行以下操作

```
SEPERATOR=" ";
#Assumed that seperator is space in your case
#remove all ending spaces
sed -i 's/ *$//g' $filename
#take the count of columns seperated by spaces
cat $filename | grep -o " " | wc -l
#this value +1 gives you the total values in the file 
```

希望这能帮上忙

# php - 无法在 classX.php 中重新声明 classX？

> ID：13264377
> 
> 赞同：0
> 
> 时间：2012-11-07T06:37:16.983
> 
> 标签：php, class, redeclare

我搜索了类似的问题，但没有找到任何问题。通常的问题是某个类不能在另一个类中重新声明，因此解决方案是使用“require_once”或“include_once”。但我的错误是不允许类本身重新声明！

让我解释一下，我有两个课程，`Design`并且`DesignSide`. 我有一堆 PHP 文件，我在其中使用这两个类。- build_design.php, - browse_designs.php，它提供了一个 AJAX 调用 - load_designs.php

每个设计都可以有几个方面，所以上面的所有 3 个文件都包含以下行：

```
require_once("Design.php"); 
```

并`Design.php`有一行：

```
require_once("DesignSide.php"); 
```

但是在 build_design.php 上，我的错误是：

```
Fatal error: Cannot redeclare class DesignSide in ../classes/DesignSide.php on line 4 
```

即它反对 DesignSide 声明自己！这些是 DesignSide 的开头几行：

```
<?php

class DesignSide
{
private $id;
private $data;
private $designtag;
private $side; 
```

怎么了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:10:42.837

...否则您可以[`__autoload`](http://us1.php.net/manual/en/function.autoload.php)在脚本中使用 PHP 的一种魔法来防止这种行为。

**将此文件另存为 config.php**

```
function __autoload( $class ) {
    if( file_exists( $class . '.php' ) ) {
        require_once $class . '.php';
    } else {
        die( 'No such file.' );
    }
} 
```

现在，`config.php`在所有文件中包含/要求，您不需要包含/要求类文件。

唯一需要注意的是类名必须与文件名匹配。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:53:01.463

有人刚刚删除了他们的答案 - 但我只是来勾选它作为正确答案。事实证明，事实上我确实有两次“DesignSide.php”包含在`build_design.php`. 谢谢！我的错！

所以正确的答案是在Design中包含DesignSide类，并且只在三个php文件中包含Design类。

# c++ - TVM_SETBKCOLOR 和 TreeView_SetBkColor 未在此范围内声明？

> ID：13264378
> 
> 赞同：1
> 
> 时间：2012-11-07T06:37:24.740
> 
> 标签：c++, winapi, background, treeview, common-controls

我收到了奇怪的范围错误：`'TVM_SETBKCOLOR' was not declared in this scope`和类似`'TreeView_SetBkColor' was not declared in this scope`的 . 我不知道为什么会这样：

*   我已经包括`commctrl.h`
*   其他树视图宏工作正常（如`TreeView_DeleteItem`）
*   自动完成识别并完成`TreeView_SetBkColor`，所以这不是拼写问题
*   我很好地阅读了文档

* * *

这是适用窗口的片段。一切正常，直到我尝试更改`tvw_filelist_`变量的背景。

```
void PnlTree::Init(HWND hwnd0, const char * superclassname0) {
    tvw_filelist_ = CreateWindowEx (0,
            superclassname0, NULL,
            TVS_HASLINES | TVS_LINESATROOT | TVS_HASBUTTONS | WS_CHILD | WS_VISIBLE,
            0, 0, 0, 0,
            hwnd0, (HMENU) IDC_TVWFILELIST, NULL, NULL
            );

    txt_blurb0_ = CreateWindowEx (0,
            TEXT("STATIC"), "Drag files and folders into this pane.",
            SS_CENTER | SS_CENTERIMAGE | WS_CHILD | WS_VISIBLE,
            0, 0, 0, 0,
            hwnd0, NULL, NULL, NULL
            );

    txt_blurb1_ = CreateWindowEx (0,
            TEXT("STATIC"), "Press DELETE to remove an entry.",
            SS_CENTER | SS_CENTERIMAGE | WS_CHILD | WS_VISIBLE,
            0, 0, 0, 0,
            hwnd0, NULL, NULL, NULL
            );

    HFONT hFont = CreateFont(15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, "Segoe UI");

    ::SendMessage(txt_blurb0_, WM_SETFONT, (WPARAM) hFont, 0);
    ::SendMessage(txt_blurb1_, WM_SETFONT, (WPARAM) hFont, 0);

    // Everything works perfectly, if this line is commented out.
    TreeView_SetBkColor(tvw_filelist_, RGB(235, 235, 235));
}

//
//
//
void PnlTree::RemoveItem(WPARAM wParam) {
    if (wParam == VK_DELETE) {
        TreeView_DeleteItem(tvw_filelist_, TreeView_GetSelection(tvw_filelist_));
    }
} 
```

我也试过

```
::SendMessage(tvw_filelist_, TVM_SETBKCOLOR, 0, RGB(235, 235, 235)); 
```

但我得到同样的错误。这是怎么回事？

*（环境：代码：：块，MinGW，Win7 x64）*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T07:30:36.643

仅当应用程序指定必须在目标系统上安装 Internet Explorer 4 或更高版本时，才定义[TVM_SETBKCOLOR](http://msdn.microsoft.com/en-us/library/windows/desktop/bb773741.aspx)消息及其关联的[TreeView_SetBkColor()宏。](http://msdn.microsoft.com/en-us/library/windows/desktop/bb760036.aspx)

换句话说，`_WIN32_IE`预处理器符号必须设置为`0x0400`或更大。

头文件的相关部分（`CommCtrl.h`Windows SDK 版本 7.0A 中的第 5752 到 5792 行）是：

```
#if (_WIN32_IE >= 0x0400)

/* [get/set item height...] */

#define TVM_SETBKCOLOR              (TV_FIRST + 29)
#define TreeView_SetBkColor(hwnd, clr) \
    (COLORREF)SNDMSG((hwnd), TVM_SETBKCOLOR, 0, (LPARAM)(clr))

#define TVM_SETTEXTCOLOR              (TV_FIRST + 30)
#define TreeView_SetTextColor(hwnd, clr) \
    (COLORREF)SNDMSG((hwnd), TVM_SETTEXTCOLOR, 0, (LPARAM)(clr))

#define TVM_GETBKCOLOR              (TV_FIRST + 31)
#define TreeView_GetBkColor(hwnd) \
    (COLORREF)SNDMSG((hwnd), TVM_GETBKCOLOR, 0, 0)

#define TVM_GETTEXTCOLOR              (TV_FIRST + 32)
#define TreeView_GetTextColor(hwnd) \
    (COLORREF)SNDMSG((hwnd), TVM_GETTEXTCOLOR, 0, 0)

/* [get/set scroll time...] */

/* [get/set insert mark color...] */

#endif  /* (_WIN32_IE >= 0x0400) */ 
```

# collections - 在 UTF-8 上应用 collections.counter()

> ID：13264381
> 
> 赞同：2
> 
> 时间：2012-11-07T06:37:32.113
> 
> 标签：collections, utf-8, python-2.7, frequency

我有一个包含 utf-8 格式的非英文文本的列表。因此，当我尝试打印一个单词时，它给了我这个：u'\u0648\u0627\u0644\u0623\u0631\u0646\u0628'

因此，为了将其打印为原始单词，我必须对其进行循环，它将正确输出，作为原始单词。

我想找到 5 个最常用的词。将单词存储到 collections.counter() 函数时，它们以 unicode 格式输入。如何访问 counter() 中的单词以打印前 5 个最常用的单词。

我已经完成了以下代码：（txt是我的文本文件）

> > > words = [w for w in txt.split()]

将打印出来

> > > [u'\ufeff\u0643\u0627\u0646', u'\u064a\u0627', u'\u0645\u0627', ...u'\u0643\u0627\u0646', u'\u0641\u064a',你'\u0642\u062f\u064a\u0645']

因此我循环它以获得所需的输出（我不知道为什么）

```
 >>> for w in words:
        print w, 
```

将打印出来

> > > كان يا ما كان

我使用 counter() 函数来查找最常用的单词

```
 >>> count = collections.Counter(words)
 >>> print count.most_common(5) 
```

将打印出来

```
 >>> [(u'\u0627\u0644\u0633\u0644\u062d\u0641\u0627\u0629', 5),
  (u'\u0627\u0644\u0645\u063a\u0631\u0648\u0631', 3), 
(u'\u0627\u0644\u0623\u0631\u0646\u0628', 2), (u'\u060c', 2), 
(u'\u0648\u0627\u0644\u0623\u0631\u0646\u0628', 2)] 
```

我想访问每个单词并循环它以使用它的频率打印出来。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:14:09.860

对于您的第一个示例，您可以直接打印单词以获取原件（我看不懂阿拉伯语，所以这可能是错误的）：

```
>>> print u'\u0648\u0627\u0644\u0623\u0631\u0646\u0628'
والأرنب 
```

如果您通过解释器执行此操作并且您没有明确使用`print`，您仍然会看到 unicode 表示：

```
>>> u'\u0648\u0627\u0644\u0623\u0631\u0646\u0628'
u'\u0648\u0627\u0644\u0623\u0631\u0646\u0628' 
```

因此，您只需调用`print`即可查看实际单词：

```
>>> l
[(u'\u0627\u0644\u0633\u0644\u062d\u0641\u0627\u0629', 5),
 (u'\u0627\u0644\u0645\u063a\u0631\u0648\u0631', 3), 
 (u'\u0627\u0644\u0623\u0631\u0646\u0628', 2), (u'\u060c', 2), 
 (u'\u0648\u0627\u0644\u0623\u0631\u0646\u0628', 2)]
>>> for el in l:
    print el[0], el[1]

السلحفاة 5
المغرور 3
الأرنب 2
، 2
والأرنب 2 
```

# windows-phone-7 - Windows Phone 模拟器不会以“正在运行另一个虚拟机管理器”启动。错误

> ID：13264385
> 
> 赞同：0
> 
> 时间：2012-11-07T06:37:48.177
> 
> 标签：windows-phone-7, windows-phone, windows-phone-7.1.1, windows-phone-7-emulator

我正在使用适用于 Windows Phone 的 Visual Studio 2010 Express（带有 SDK 7.1.1 更新）并且我正在尝试调试，但是当模拟器尝试启动时，它给了我这个错误：

> 另一个 Virtual Machine Manager 正在运行。关闭另一个 Virtual Machine Manager，等待一段时间，然后重新启动模拟器。

有人知道发生了什么吗？我在物理机上运行它（而不是在虚拟机上）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-11T11:54:14.537

您有英特尔 (R) 硬件加速执行管理器 (HAXM)。安装了最新的Android SDK？

如果您已安装此组件，Windows Phone 7 模拟器将显示该错误，要解决此错误，您必须卸载它并重新启动。

# java - 如何检查单元格重复值和不允许的特殊字符以及java中的空白单元格

> ID：13264386
> 
> 赞同：0
> 
> 时间：2012-11-07T06:37:51.677
> 
> 标签：java, jsp

我是 java 上传 Excel POI API 的新手，现在我尝试在 java 代码中实现所有验证。喜欢 。

```
 boolean isduplicate =true;
    String dupcolumn = myRow.getcell(0).toString();

    while(iterate.hasnext())
    {
     String [] dup  = dupcolumn +dupcolumn .split(";");
    }
                 if(duplicate)
    {
             for(int i=0;i<dup.length;i++)
    {

    for(int j=i+1;j<dup.length;j++)
    {
    if(dup[j]==dup[i])
    {
    System.out.println("Duplicate");
    isduplicate =false;
    }
    }
    }

} 
```

在上面我是拆分方法中，我得到第一列连续重复。因为在 while 循环内。如果有人让我知道如何找到重复的单元格值，无论是字符串还是数字。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:44:07.410

将所有值放入哈希集中。Hashset 不允许其中有重复值。计算 excel 文件中哈希集的长度和总行的长度。这两个值的差异为您提供总数。的重复单元格。

如果你想要重复的值。做这个

```
if(hashSet.contains(value)  {
    System.out.println(value):
} 
```

这将打印重复值

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:39:21.633

使用`equals()`方法来比较字符串，而不是`==`

```
if(dup[j]==dup[i]) 
```

# python - Python——确定掷骰子中出现的数字的频率

> ID：13264388
> 
> 赞同：-1
> 
> 时间：2012-11-07T06:38:31.527
> 
> 标签：python, frequency, dice

这些是用于掷骰子的函数。

```
def roll() -> int:
    ''' Return a roll of two dice, 2-12
    '''
    die1 = randint(1, 6)
    die2 = randint(1, 6)
    return die1 + die2

def roll_dice(n:int):
    '''list the results of rolls'''
    for i in range(n):
        print(roll()) 
```

现在我需要帮助来创建功能来创建滚动数字的统计信息列表。

例如：根据我的实验室打印出上述功能后，它应该打印出类似的内容：

```
Distribution of dice rolls

 2:    55 ( 2.8%)  **
 3:   129 ( 6.5%)  ******
 4:   162 ( 8.1%)  ********
 5:   215 (10.8%)  **********
 6:   279 (14.0%)  *************
 7:   341 (17.1%)  *****************
 8:   271 (13.6%)  *************
 9:   210 (10.5%)  **********
10:   168 ( 8.4%)  ********
11:   112 ( 5.6%)  *****
12:    58 ( 2.9%)  **
-----------------
     2000 rolls 
```

帮助表示赞赏。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:16:56.843

如果您对图形输出没问题，您可以使用[matplotlib 中的 histogram 方法](http://matplotlib.org/examples/api/histogram_demo.html)。

或者你可以手动创建你需要的箱子，这里是整数 2 到 12，然后简单地计算每个箱子里有多少卷。通过您的滚动次数进行标准化以获得百分比并为每 1% 添加一个星号（显然向下舍入）。

经过一些修改后，这会产生以下代码（python 2.X）：

```
import random
import math

def roll():
    ''' Return a roll of two dice, 2-12
    '''
    die1 = random.randint(1, 6)
    die2 = random.randint(1, 6)
    return die1 + die2

def roll_dice(npts):
    '''list the results of rolls'''
    bins = dict([(n,0) for n in xrange(2,13,1)])
    for n in xrange(npts):
        idx = roll()
        print idx
        bins[idx] = bins[idx] + 1

    for n in xrange(2,13,1):
        pct = bins[n]/float(npts) * 100.0
        pct_star = ''
        for i in xrange(int(math.floor(pct))):
           pct_star = pct_star + '*'
        str = "{0:.1f}%".format(pct).rjust(5,' ')
        print "{0:2d}:  {1:5d} ({2:s})  {3:s}".format(n,bins[n],str,pct_star)
    print "------------------"
    print "{0:10d} rolls".format(npts)

if __name__ == "__main__":
    npts = 20000
    roll_dice(2000) 
```

哪个输出

```
 2:    569 ( 2.8%)  **
 3:   1131 ( 5.7%)  *****
 4:   1770 ( 8.8%)  ********
 5:   2229 (11.1%)  ***********
 6:   2778 (13.9%)  *************
 7:   3307 (16.5%)  ****************
 8:   2703 (13.5%)  *************
 9:   2231 (11.2%)  ***********
10:   1633 ( 8.2%)  ********
11:   1128 ( 5.6%)  *****
12:    598 ( 3.0%)  **
------------------
     20000 rolls 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:51:49.827

```
from collections import defaultdict
def roll_dice(n):
    '''list the results of rolls'''
    d = defaultdict(int)
    for i in range(n):
        res = roll()
        d[res] += 1    #accumulate results
        print(res)

    print ("RESULTS")
    #sort and print results.  Since there's only 11 items, 
    # There is no sense using `iteritems()` here.  We'd 
    # just have to change it for py3k...
    for key,value in sorted(d.items()):  
        percent = float(value)/n*100
        #print results.  Use explicit field widths to make sure the "bargraph" is aligned.
        print ('{0:2d}:{1:4d}\t({2:6f}%)\t{3}'.format(key,value,percent,int(percent)*'*'))

roll_dice(2000) 
```

# java - Java：增加Edittextfield的大小

> ID：13264389
> 
> 赞同：0
> 
> 时间：2012-11-07T06:38:37.523
> 
> 标签：java, android

试图增加java中edittextfield的大小..我该怎么做。下面是我的代码

```
final EditText address = new EditText(activity);
                if (data.getFavoriteAddress() != null
                        && !data.getFavoriteAddress().trim().equals("")) {
                    address.setText(data.getFavoriteAddress());
                } else {
                    address.setHint(R.string.address);
                } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:15:52.777

你可以试试这段代码

ViewGroup.MarginLayoutParams xyz = (ViewGroup.MarginLayoutParams)EditText.getLayoutParams(); xyz.高度=150；xyz.宽度=200；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T11:52:48.740

最好使用 EditText 地址 = new EditText(this); 地址 .setLayoutParams(new EditText .LayoutParams(EditText .LayoutParams.MATCH_PARENT, EditText .LayoutParams.WRAP_CONTENT));

如果它很小，则将您的尺寸从 100 增加到您需要的尺寸，第一个是宽度，下一个是高度。如下所示

EditText 地址 = new EditText(this); 地址 .setLayoutParams(new EditText.LayoutParams(450,100));

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T07:17:05.280

试试下面的代码：

```
 ViewGroup.MarginLayoutParams mlp = (ViewGroup.MarginLayoutParams)EditText.getLayoutParams();
  mlp.height=100;
  mlp.width=150; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T07:02:30.143

你可以这样写，以增加编辑文本的大小

地址.setTextSize(18.0f);

或者如果你想增加编辑文本字段然后

EditText 地址 = new EditText(this); 地址 .setLayoutParams(new EditText .LayoutParams(EditText .LayoutParams.MATCH_PARENT, EditText .LayoutParams.WRAP_CONTENT));

或者

EditText 地址 = new EditText(this); 地址 .setLayoutParams(new EditText.LayoutParams(100,100));

# c - execlp() 遇到问题

> ID：13264391
> 
> 赞同：1
> 
> 时间：2012-11-07T06:38:40.770
> 
> 标签：c, ncurses

我正在使用 execlp 来实现基于网络的命令，但它不起作用。我正在使用

```
execlp("telnet 0 5000","telnet 0 5000",(char *)NULL);
delwin(menubar);
delwin(messagebar);
endwin(); 
```

但它不起作用，如果我用 ls 替换 telnet 0 5000 它会起作用，但输出出现在同一个屏幕上意味着在 GUI 上并且 noecho 自动激活并且 ls 的输出以一种非常不寻常的方式出现。

下面是我的完整代码。

```
#include <curses.h>
#include <stdlib.h>
#include<stdio.h>

#define ENTER 10
#define ESCAPE 27
void init_curses()
{
        initscr();
        start_color();
        init_pair(1,COLOR_WHITE,COLOR_
BLUE);
        init_pair(2,COLOR_BLUE,COLOR_WHITE);
        init_pair(3,COLOR_RED,COLOR_WHITE);
        curs_set(0);
        //noecho();
        keypad(stdscr,TRUE);
}
void draw_menubar(WINDOW *menubar)
{
        wbkgd(menubar,COLOR_PAIR(2));
        waddstr(menubar,"PARALLEL");
        wattron(menubar,COLOR_PAIR(3));
        waddstr(menubar,"CON.");
        wattroff(menubar,COLOR_PAIR(3));
        wmove(menubar,0,20);
        waddstr(menubar,"SERIAL");
        wattron(menubar,COLOR_PAIR(3));
        waddstr(menubar,"CON.");
        wattroff(menubar,COLOR_PAIR(3));
}
WINDOW **draw_menu(int start_col)
{

        WINDOW **items;
        items=(WINDOW **)malloc(9*sizeof(WINDOW *));

        items[0]=newwin(10,19,1,start_col);
        wbkgd(items[0],COLOR_PAIR(2));
        box(items[0],ACS_VLINE,ACS_HLINE);
        items[1]=subwin(items[0],1,17,2,start_col+1);
wprintw(items[1],"Shailendra singh",1);
        items[2]=subwin(items[0],1,17,3,start_col+1);
wprintw(items[2],"THIVNENT TECH",2);
        items[3]=subwin(items[0],1,17,4,start_col+1);
wprintw(items[3],"THINCLIENT",3);
        items[4]=subwin(items[0],1,17,5,start_col+1);
wprintw(items[4],"SOLARCOMPUTING",4);
        items[5]=subwin(items[0],1,17,6,start_col+1);
wprintw(items[5],"TECHNOCRATS",5);
        items[6]=subwin(items[0],1,17,7,start_col+1);
wprintw(items[6],"SENSORS",6);
        items[7]=subwin(items[0],1,17,8,start_col+1);
wprintw(items[7],"NCURSESLIB",7);
        items[8]=subwin(items[0],1,17,9,start_col+1);
wprintw(items[8],"GCC COMPILER",8);

        wbkgd(items[1],COLOR_PAIR(1));
        wrefresh(items[0]);
        return items;
}

void write_data0()
{FILE *fp,*ft;
 fp = fopen("file.txt", "w"); 
 ft = fopen("servertype.txt","w");
 if(fp == NULL) {fprintf(stderr, "Cannot open \"file.txt\" for appending\n");
                 return 1;  }
 if(ft == NULL) {fprintf(stderr, "Cannot open \"servertype.txt\" for appending\n");
                return 1; }
fputs("172.16.254.0 \n", fp);
fputs("Server type = R ",ft); 
fclose(ft);
fclose(fp); 
}
void write_data1()
{FILE *fp,*ft;
 fp = fopen("file.txt", "w"); 
 ft = fopen("servertype.txt","w");
 if(fp == NULL) {fprintf(stderr, "Cannot open \"file.txt\" for appending\n");
                 return 1; }
  if(ft == NULL) {fprintf(stderr, "Cannot open \"servertype.txt\" for appending\n");
                 return 1;}
fputs("172.16.254.1 \n", fp); 
fputs("Server type = T ",ft); 
fclose(ft);
fclose(fp); 
}

void write_data2()
{FILE *fp,*ft;
 fp = fopen("file.txt", "w");  
 ft = fopen("servertype.txt","w");
if(fp == NULL) {fprintf(stderr, "Cannot open \"file.txt\" for appending\n");
                return 1;}
if(ft == NULL) {fprintf(stderr, "Cannot open \"servertype.txt\" for appending\n");
                return 1; }

fputs("172.16.254.2 \n", fp); 
fputs("Server type = C ",ft); 
fclose(ft);
fclose(fp); 
}

void write_data3()
{FILE *fp,*ft;
 fp = fopen("file.txt", "w"); 
 ft = fopen("servertype.txt","w");
 if(fp == NULL) {fprintf(stderr, "Cannot open \"file.txt\" for appending\n");
                 return 1; }
  if(ft == NULL) {fprintf(stderr, "Cannot open \"servertype.txt\" for appending\n");
                return 1; }
fputs("172.16.254.3 \n", fp);
fputs("Server type = R ",ft); 
fclose(ft);
fclose(fp); 
}

void write_data4()
{FILE *fp,*ft;
 fp = fopen("file.txt", "w"); 
 ft = fopen("servertype.txt","w");
if(fp == NULL) {fprintf(stderr, "Cannot open \"file.txt\" for appending\n");
                 return 1;}
 if(ft == NULL) {fprintf(stderr, "Cannot open \"servertype.txt\" for appending\n");
                return 1; }
fputs("172.16.254.4 \n", fp); 
fputs("Server type = T ",ft); 
fclose(ft);
fclose(fp); 
}
void write_data5()
{FILE *fp,*ft;
 fp = fopen("file.txt", "w"); 
 ft = fopen("servertype.txt","w");
if(fp == NULL) {fprintf(stderr, "Cannot open \"file.txt\" for appending\n");
                 return 1; }
 if(ft == NULL) {fprintf(stderr, "Cannot open \"servertype.txt\" for appending\n");
                return 1; }
fputs("172.16.254.5 \n", fp);
fputs("Server type = C ", ft); 
fclose(ft); 
fclose(fp); 
}
void write_data6()
{FILE *fp,*ft;
 fp = fopen("file.txt", "w"); 
 ft = fopen("servertype.txt","w");
if(fp == NULL) {fprintf(stderr, "Cannot open \"file.txt\" for appending\n");
                 return 1;}
 if(ft == NULL) {fprintf(stderr, "Cannot open \"servertype.txt\" for appending\n");
                return 1; }
fputs("172.16.254.6 \n", fp); 
fputs("Server type = R ",ft); 
fclose(ft);
fclose(fp); 
}
void write_data7()
{FILE *fp,*ft;
 fp = fopen("file.txt", "w"); 
 ft = fopen("servertype.txt","w");
if(fp == NULL) {fprintf(stderr, "Cannot open \"file.txt\" for appending\n");
                return 1; }
 if(ft == NULL) {fprintf(stderr, "Cannot open \"servertype.txt\" for appending\n");
                return 1; }
fputs("172.16.254.7 \n", fp); 
fputs("Server type = T ",ft); 
fclose(ft);
fclose(fp);
}

WINDOW **draw_menu1(int start_col)
{

        WINDOW **items;
        items=(WINDOW **)malloc(9*sizeof(WINDOW *));

        items[9]=newwin(10,19,1,start_col);
        wbkgd(items[9],COLOR_PAIR(2));
        box(items[9],ACS_VLINE,ACS_HLINE);
        items[1]=subwin(items[9],1,17,2,start_col+1);
wprintw(items[1],"SHAILENDRA SINGH",1);
        items[2]=subwin(items[9],1,17,3,start_col+1);
wprintw(items[2],"thivnent tech",2);
        items[3]=subwin(items[9],1,17,4,start_col+1);
wprintw(items[3],"THINCLIENT",3);
        items[4]=subwin(items[9],1,17,5,start_col+1);
wprintw(items[4],"SOLARCOMPUTING",4);
        items[5]=subwin(items[9],1,17,6,start_col+1);
wprintw(items[5],"TECHNOCRATS",5);
        items[6]=subwin(items[9],1,17,7,start_col+1);
wprintw(items[6],"SENSORS",6);
        items[7]=subwin(items[9],1,17,8,start_col+1);
wprintw(items[7],"NCURSESLIB",7);
        items[8]=subwin(items[9],1,17,9,start_col+1);
wprintw(items[8],"GCC COMPILER",8);

        wbkgd(items[1],COLOR_PAIR(1));
        wrefresh(items[9]);
        return items;
}
void delete_menu(WINDOW **items,int count)
{
        int i;
        for (i=0;i<count;i++)
                delwin(items[i]);
        free(items);
}
int scroll_menu(WINDOW **items,int count,int menu_start_col)
{
        int key;
        int selected=0;
        while (1) {
                key=getch();
                if (key==KEY_DOWN || key==KEY_UP) {
                        wbkgd(items[selected+1],COLOR_PAIR(2));
                        wnoutrefresh(items[selected+1]);
                        if (key==KEY_DOWN) {
                                selected=(selected+1) % count;
                        } else {
                                selected=(selected+count-1) % count;
                        }
                        wbkgd(items[selected+1],COLOR_PAIR(1));
                        wnoutrefresh(items[selected+1]);
                        doupdate();
                } else if (key==KEY_LEFT || key==KEY_RIGHT) {
                        delete_menu(items,count+1);
                        touchwin(stdscr);
                        refresh();
                        items=draw_menu(20-menu_start_col);
                        return scroll_menu(items,8,20-menu_start_col);
                } else if (key==ESCAPE) {
                        return -1;
                } else if (key==ENTER) {
                        return selected;
                }
        }
}
int main()
{
    int key;
    WINDOW *menubar,*messagebar;

    init_curses();

    bkgd(COLOR_PAIR(1));
    menubar=subwin(stdscr,1,80,0,0);
    messagebar=subwin(stdscr,1,79,23,1);
    draw_menubar(menubar);
    move(2,1);
    printw("Press F1 or F2 to open the menus. ");
    printw("ESC quits.");
    refresh();

    do {
        int selected_item;
        WINDOW **menu_items;
        key=getch();
        werase(messagebar);
        wrefresh(messagebar);
        if (key==KEY_F(1)) {
            menu_items=draw_menu(0);
            selected_item=scroll_menu(menu_items,8,0);
            delete_menu(menu_items,9);
            if (selected_item<0)
                wprintw(messagebar,"You haven't selected any item.");
            else if(selected_item==0){
                wprintw(messagebar,"You have selected menu SHAILENDRA SINGH.",1);
write_data0();
if(fork())
wait(0);
else
execlp("clear","clear",(char *)NULL);
execlp("ls","ls",(char *)NULL);
execlp("konsole","konsole",(char *)NULL);
ESCAPE;
refresh();
delwin(menubar);
delwin(messagebar);

endwin();
}
            else if(selected_item==1){
                wprintw(messagebar,"You have selected menu THINVENT TECH.",2);
write_data1();
}
            else if(selected_item==2){
                wprintw(messagebar,"You have selected menu THINCLIENT.",3);
write_data2();
}
            else if(selected_item==3){
                wprintw(messagebar,"You have selected menu SOLAR COMPUTING",4);
write_data3();
}
            else if(selected_item==4){
                wprintw(messagebar,"You have selected menu TECHNOCRATS.",5);
write_data4();
}
            else if(selected_item==5){
                wprintw(messagebar,"You have selected menu SENSORS.",6);
write_data5();
}
            else if(selected_item==6){
                wprintw(messagebar,"You have selected menu NCURSESLIB.",7);
write_data6();
}
            else if(selected_item==7){
                wprintw(messagebar,"You have selected menu GCCCOMPILER.",8);
write_data7();
}          

            touchwin(stdscr);
            refresh();
        }
else if (key==KEY_F(2)) {
            menu_items=draw_menu1(20);
            selected_item=scroll_menu(menu_items,8,20);
            delete_menu(menu_items,9);
            if (selected_item<0)
                wprintw(messagebar,"You haven't selected any item.");
            else
                wprintw(messagebar,
                  "You have selected menu item %d.",selected_item+1);
            touchwin(stdscr);
            refresh();
        }}
    while (key!=ESCAPE);
    delwin(menubar);
    delwin(messagebar);

    endwin();
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:41:16.320

您应该单独传递参数，第一个参数是要执行的文件的名称：

```
execlp("/usr/bin/telnet", "telnet", "0", "5000", (char *)NULL); 
```

人[execlp(3)](http://linux.die.net/man/3/execlp)

> int execlp(const char *file, const char *arg, ...);
> 
> 这些函数的初始参数**是要执行的文件的名称**。execl()、execlp() 和 execle() 函数中的 const char *arg 和后续省略号**可被视为 arg0、arg1、...、argn**。

# directx - 当我们调用 IUnknown::Release 会发生什么

> ID：13264392
> 
> 赞同：1
> 
> 时间：2012-11-07T06:38:42.387
> 
> 标签：directx, directx-11

例如，在以下代码中：

```
ID3D11Texture2D* texture2d; 

    HRESULT result = mSwapChain->GetBuffer(0, __uuidof(ID3D11Texture2D), (LPVOID*) &texture2d);//mSwapChain is a swap chain, as obvious

    result = mDevice->CreateRenderTargetView(texture2d, 0, &mTargetView);

    texture2d->Release(); 
```

我真的很困惑在调用 release 后交换链中的后台缓冲区会发生什么。目前我认为可能发生的是，指针被释放，而不影响后缓冲区本身。不过，我需要一个更详细的答案，因为我很难理解这个概念。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-07T10:57:00.917

纹理对象维护其拥有的“引用”数量的内部计数。最初，当您的代码启动时，交换链内部有一个指向纹理的指针，因此它的引用计数为 1。

当它返回一个指向您的指针时，现在有两个对该对象的引用。

请注意，swapchain::GetBuffer 内部的代码通过在将指针返回给您之前调用纹理的 AddRef 函数来手动执行此操作。

因此，当您调用 Release all 时，它会将引用计数减一，然后说“啊，还有一个引用，所以我什么都不做。”

如果在您在纹理上调用 Release 之前已删除交换链对象，它将“释放”它对纹理的引用，因此当您调用 Release 时，它​​会将纹理的引用计数减少到零，它会说“啊，没人用我了，我自己删了！”

所以基本上你在纹理上调用 Release 只是你告诉纹理你不再对它感兴趣了。它仍然会留在记忆中，直到每个人都告诉它。

# ruby-on-rails - Joosy 教程 ActionView::Template::Error

> ID：13264394
> 
> 赞同：1
> 
> 时间：2012-11-07T06:38:51.727
> 
> 标签：ruby-on-rails, ruby, joosy

我正在阅读[Joosy 指南](http://guides.joosy.ws/guides/blog/rails-preparations.html)，但在“Rails 准备”部分而不是登录页面的末尾，我收到以下错误：

```
ActionView::Template::Error (Mixin grid-core-span is missing argument $gridColumnWidth.
  (in /Users/scribe/Code/joosy-blog/app/assets/stylesheets/application.css.scss)):
    10:       };
    11:     </script>
    12: 
    13:     <%= stylesheet_link_tag 'application' %>
    14:     <%= csrf_meta_tags %>
    15:   </head>
    16: 
  app/assets/stylesheets/application.css.scss:1
  app/views/layouts/blog.html.erb:13:in `_app_views_layouts_blog_html_erb___1369399347943123030_70192156915780'
  app/controllers/blog_controller.rb:5:in `index' 
```

据我所知，我的项目符合说明，关于我搞砸了什么的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:55:26.357

您得到的错误与 Joosy 无关。它来自 SCSS——你使用了不正确的样式 mixin（确切地说是不正确的参数）。如果您确实从指南中复制了该样式，请提供直接链接，我会进行更正。否则它可能只是你的错字:)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T16:44:37.587

看起来`sass`gem 得到了一些更新。[https://github.com/anjlab/bootstrap-rails/issues/24](https://github.com/anjlab/bootstrap-rails/issues/24)

# javascript - 从基“类”调用原型函数中声明的函数：JavaScript 原型

> ID：13264397
> 
> 赞同：0
> 
> 时间：2012-11-07T06:38:53.787
> 
> 标签：javascript, prototype

我最近开始为一个项目使用原型设计。这是我第一次使用原型设计，所以仍然找到我的腿:) 我来自面向对象的背景，如果我的一些术语不正确，请原谅。

我使用它的主要原因之一是为项目创建范围框架，以避免以后发生任何冲突。我还使用它来创建分布在多个文件中的对象。

但是，我遇到了一些麻烦。

我在一个文件中声明了我的基础“类”。在另一个文件中，我随后声明了该类的扩展。在这个扩展中，我声明了一个函数，然后我尝试从基类中调用它。最后，我在基类中声明了一个扩展实例，以允许我从基类调用扩展函数。

但是，当我尝试创建实例时，出现以下错误：

> SCRIPT445：对象不支持此操作 leave.js，第 2 行字符 5

这是我的代码片段：

离开.js

```
var _LEAVE = function () {
    this.WORK_LIST = new this._WORK_LIST();
} 
```

工作清单.js

```
_LEAVE.prototype._WORK_LIST = function (params) {
    var Render = function(){
         ...
    }
} 
```

任何关于我做错了什么以及如何解决它的建议将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T05:37:00.793

好吧，首先如果您不了解基于原型的继承，那么我建议您[学习](https://stackoverflow.com/a/8096017/783743 "JavaScript继承和构造函数属性 - 代码日志")一下。其实很简单。

其次，请不要以错误的方式理解这一点——你的代码让我厌恶。我知道你来自古典背景，我尊重你所做的努力。但是，说真的，即使我得到报酬，我也不想阅读您的代码。

这就是我会做的（如果我的程序不是你要找的，请纠正我，但我真的不知道你的代码中发生了什么）：

```
// baseClass.js

function BaseClass() {                       // class BaseClass
    var extendedObject = new Extension;
}

// extension.js

Extension.prototype = new BaseClass;         // Extension extends BaseClass
Extension.prototype.constructor = Extension; // reset the constructor property

function Extension() {                       // class Extension
    // some private variables

    var privateVar = null;
    function privateFunction() {}

    // some public properties

    this.publicVar = null;
    this.publicFunction = function () {};
} 
```

此外，由于您来自经典背景，它可能会帮助您编写更符合经典继承风格的代码。阅读这个[答案](https://stackoverflow.com/a/12041555/783743 "javascript - 使用 KnockoutJS 和简单类继承时丢失对 self 的引用 - 代码日志")。这会对你有很大帮助。

**编辑：**使用我的[脚本](https://gist.github.com/3091759 "JavaScript 中的经典 OOP — 要点")，您可以在 JavaScript 中创建类，如下所示。

`baseClass.js`：

```
/*
    class BaseClass {
        var extension;

        function constructor() {
            extension = new Extension;
        }
    }
*/

var BaseClass = new Class(function () {
    var extension;

    function constructor() {
        extension = new Extension;
    }

    return constructor;
}); 
```

`extension.js`：

```
/*
    class Extension extends BaseClass {
        var secret;

        function constructor() {
            secret = null;
        }

        this.getSecret = function () {
            return secret;
        };

        this.setSecret = function (newSecret) {
            secret = newSecret;
        };
    }
*/

var Extension = new Class(function () {
    var secret;

    function constructor() {
        secret = null;
    }

    this.getSecret = function () {
        return secret;
    };

    this.setSecret = function (newSecret) {
        secret = newSecret;
    };

    return constructor;
}, BaseClass); 
```

你可以[摆弄小提琴](http://jsfiddle.net/2B6TZ/1/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T03:18:42.540

如果您还没有用 实例化`_LEAVE`，`new`将`this`引用该`window`对象。试试这个：

```
var _LEAVE = function () {
    this.WORK_LIST = new this._WORK_LIST();
}

_LEAVE.prototype._WORK_LIST = function (params) {
    var Render = function(){
         ...
    }
}

console.log(new _LEAVE()); 
```

# asp.net - 替换 IIS 上的 dll

> ID：13264399
> 
> 赞同：1
> 
> 时间：2012-11-07T06:39:14.197
> 
> 标签：asp.net, iis, publishing

想要在不重新启动 IIS 或停止网站的情况下替换 IIS 上的 dll 文件，但每次我替换它都会给出错误文件正在被其他进程使用。有没有办法在不重新启动 IIS 或停止网站的情况下替换 IIS 上的 dll 文件。谷歌搜索但得到了答案这是不可能的。对吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T07:32:26.583

即使网站正在运行，您也应该能够覆盖现有的 dll 文件。替换整个 bin 文件夹是不可能的，但是替换 dll 是不可能的。

更新 dll 文件（或 bin 文件夹中的任何内容）时不需要重置 IIS，因为应用程序会自动回收

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-07T07:13:03.093

是的。

只要 IIS 服务正在运行，DLL 就会保留在内存中。替换 DLL 后，您应该重置 IIS，以便编译和加载替换的程序集。

# javascript - 拖放 HTML5 和浏览器缓存

> ID：13264403
> 
> 赞同：1
> 
> 时间：2012-11-07T06:39:23.763
> 
> 标签：javascript, html

我是 html5 的新手，我浏览了一些关于 HTML5 的教程。现在我想在 html5 中做一些事情。请建议我

我有 3 个画布

canvas1 有按钮的集合。假设名称为 A,B,C,1,2,3

我想将这些按钮拖到 canvas2 和 canvas3

canvas2 应该只接受字符类型的按钮（A、B、C） canvas3 应该只接受数字类型的按钮（1、2、3）

刷新页面后，所有按钮都存储在浏览器缓存中

使用 HTML5 和 javascript

# ios - 核心数据轻量级迁移和预填充数据库

> ID：13264408
> 
> 赞同：0
> 
> 时间：2012-11-07T06:39:34.370
> 
> 标签：ios, core-data, core-data-migration

我有一个带有预填充数据库的应用程序。我刚刚尝试了第一次迁移，效果很好。

**我的问题是**

如果更改仅在模型中而不是数据库中，我是否需要重建预填充的数据库（更改是在预填充的数据库中使用“空”的动态属性）？

迁移会对预先填充的数据库生效吗？

它现在没有崩溃，但我想知道没有我应该注意的副作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T07:54:19.517

您只是在进行轻量级迁移，这就是它正常工作的原因。

我猜您的模型中的变化并不太严重，因此轻量级迁移非常适应。

这意味着现在您的项目中既有旧模型又有新模型（如果您扩展模型）。如果不是，这不应该工作。只需确保您的项目中仍保留旧的原始模型，否则迁移将不知道如何进行。

主要的副作用是，随着模型的发展，您可能不再能够进行轻量级迁移，但我建议您跨过那座桥，如果您能做到的话。

另一个副作用是迁移比直接使用持久对象协调器稍慢（以毫秒为单位）。还有远程失败的可能性（但我只能看到这种情况发生在您无法写入磁盘的情况下，因为迁移使您的数据库更大，然后由于磁盘空间不足而无法保存，但是什么时候会这样发生：P）

就我个人而言，如果在发货前尽快重建我的数据库，作为最后一件事，我会重建我的数据库，但如果我在最后期限内，我不会这样做，因为避免这种类型的迁移的好处并不是那么大。

# mysql - 在优化 MySQL 查询时，高 key_len 值表示什么？

> ID：13264409
> 
> 赞同：4
> 
> 时间：2012-11-07T06:39:38.350
> 
> 标签：mysql, query-optimization, indexing

我正在向 mysql 查询添加索引，下面是查询。

```
SELECT * 
FROM 
    JOBSEEKER 
WHERE 
    JOBSEEKER.VCEMAIL='godavary@gmail.com' 
    AND JOBSEEKER.ITJOBSEEKERSTATUS<>5 LIMIT 1 
```

使用`EXPLAIN`：

```
*************************** 1\. row ***************************
       id: 1
select_type: SIMPLE
    table: JOBSEEKER
     type: ALL
possible_keys: NULL
      key: NULL
  key_len: NULL
      ref: NULL
     rows: 121702
    Extra: Using where
1 row in set (0.00 sec) 
```

我在表中添加了一个索引，得到了以下结果：

```
*************************** 1\. row ***************************
       id: 1
select_type: SIMPLE
    table: JOBSEEKER
     type: ref
possible_keys: EMAIL_I
      key: EMAIL_I
  key_len: 103
      ref: const
     rows: 1
    Extra: Using where
1 row in set (0.00 sec) 
```

我看到这里的密钥长度非常高，但以前它什么都没有/NULL。索引后查询执行时间得到改善。

这很好还是我也应该索引`ITJOBSEEKERSTATUS`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T06:43:55.567

该`key_len`属性是（如您所知）索引中使用的键的长度。原始表中的`NULL`值意味着根本没有键，因此没有索引。在这种情况下，'high' 键值表示索引所需的字节数，例如，使用字符串（例如电子邮件地址）比使用整数 ID 更高。尽管有“长”键长度，但使用索引可以帮助 MySQL 更快地找到正确的行，这可以从您改进的执行时间中得到证明。

此外，您可以看到您的查询从`ALL`（全表扫描 - 缓慢且通常希望避免）变为`ref`（更好 - 在这种情况下，您只匹配`WHERE`条件中的那些行）。

一个真正的专家将能够更好地表达这一点，但一般的想法是它很好:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:46:08.217

该`key_len`列指示 MySQL 决定使用的密钥的长度。长度是`NULL`键列是否显示`NULL`。

# ios - Facebook 帖子左下角图标

> ID：13264410
> 
> 赞同：3
> 
> 时间：2012-11-07T06:39:40.077
> 
> 标签：ios, facebook, facebook-graph-api, facebook-apps, ios5

我需要使用 facebook 应用程序在 facebook 帖子中添加左下角。我使用应用程序的 AppID 在我的 iphone 应用程序上集成了 facebook。

但 facebook 帖子未在帖子中显示左下角图标。

我还在以下位置添加了图像：- Facebook Developer->App->MyApp->App Details->Primary Icons

我急需这个。

截图

当前显示 [http://i.imgbox.com/adjg1iDX.png](http://i.imgbox.com/adjg1iDX.png)

需要 [http://i.imgbox.com/abeBrNxw.png](http://i.imgbox.com/abeBrNxw.png)

我需要“喜欢”左侧的左下角。

# android - 向来电发送语音消息

> ID：13264413
> 
> 赞同：2
> 
> 时间：2012-11-07T06:40:00.127
> 
> 标签：android, call, telephonymanager

**如何通过发送语音消息而不是在android中接听来电来处理来电？** 我正在为安卓开发答录机，需要帮助来处理来电中断..

# netlogo - Netlogo 关于海龟和补丁之间的空白空间

> ID：13264416
> 
> 赞同：0
> 
> 时间：2012-11-07T06:40:24.730
> 
> 标签：netlogo

嘿，我正在尝试在最后一行（“min-pycor”）上设置补丁（比如白色），百分比 9-1 为空白（这意味着我们在最后一行随机有 90% 的白色补丁和空白的 10%） . 我这样做了。但我不知道该怎么做是：如何在空白的同一行（min-pycor）上随机创建海龟。因此，每次我们设置视图时，我们都会在“min-pycor”行上获得随机 90% 的白色路径和随机 10% 的海龟只在空白处。谢谢，我得到了答案，但是在海龟和补丁之间仍然有一些空白，我无法摆脱

```
to setup
clear-all
ask patches [
if pycor = min-pycor [
  ifelse random 10 <= 2 
    [set pcolor white]
    [sprout 1 [set shape "square" set color blue] ] 
]    ]

reset-ticks
end 
```

# haskell - 漏洞？ByteString 函数在调用时返回引号

> ID：13264417
> 
> 赞同：1
> 
> 时间：2012-11-07T06:40:39.750
> 
> 标签：haskell

我有两个作用于字节字符串的两个函数。第一个是 Data.List 中循环函数的字节串版本，第二个函数旋转字节串。

当我读取文件并将其输入发送到 rotateBytes 函数时，它会输出一个引号，然后我需要按 Control-C 手动停止该函数。这是我的代码中的错误还是 ghc 中的错误？如何修复？

```
import qualified Data.ByteString as B

-- Cycle function for binary data
cycleBytes :: B.ByteString -> B.ByteString 
cycleBytes xs 
    | B.null xs = error "cycleBytes: empty list"
    | otherwise = xs' where xs' = xs `B.append` xs'

-- Rotate function for binary data
rotateBytes :: B.ByteString -> Int -> B.ByteString
rotateBytes xs n = B.take (B.length xs) $! B.drop (B.length xs + n) $! cycleBytes xs 
```

目前使用函数是这样的：

```
*Main> B.readFile "test.dat" >>= (\x -> return $ rotateBytes x 3)
"
^CInterrupted. 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T07:07:10.623

ByteString 并不懒惰，因此无法应对来自`cycleBytes`. （`"`你得到的是因为在打印结果时，它可以懒惰地获取输出的第一个字符而不用担心其余部分，但是然后尝试`cycleBytes`在打印其他任何内容之前计算它得到的无限 ByteString。无穷大和严格的评估不要'混合。）

1.  `Data.ByteString.Lazy`改为导入（并`fromIntegral`在您的 上使用`n`，因为它`Int64`不需要`Int`；您可能希望将 Lazy ByteStrings 用于大量数据，因此您的库需要一个允许这样做的长度参数。）
2.  或（更好）减少`n`mod`B.length xs`并仅使用 `B.append xs xs`而不是无限多。

解决方案 1 看起来像

```
import qualified Data.ByteString.Lazy as B

-- Cycle function for binary data
cycleBytes :: B.ByteString -> B.ByteString 
cycleBytes xs 
    | B.null xs = error "cycleBytes: empty list"
    | otherwise = xs' where xs' = xs `B.append` xs'

-- Rotate function for binary data
rotateBytes :: B.ByteString -> Int -> B.ByteString
rotateBytes xs n = B.take (B.length xs) 
                 $ B.drop (B.length xs + fromIntegral n) 
                 $ cycleBytes xs 
```

如果`test.dat`包含`Hello Mum!`this 将计算`Chunk "lo Mum!" (Chunk "Hel" Empty)`，因为它是惰性构造的，并且只有在强制时才会合并。

解决方案 2 看起来像

```
rotateBytes :: B.ByteString -> Int -> B.ByteString
rotateBytes xs n = 
    let len = B.length xs
        n' = n `mod` len in
     B.take len $! B.drop n' $! B.append xs xs 
```

解决方案 2 更好，部分原因是您可以保持一切严格（我假设您正在尝试这样做），但没有`cycleBytes`.

Ben Millwood 建议用类似的东西代替它

```
rotateBytes :: B.ByteString -> Int -> B.ByteString
rotateBytes xs n = 
    let n' = n `mod` B.length xs 
        (beginning,end) = B.splitAt n' xs in
    B.append end beginning 
```

读起来更清楚。`take`,`drop`并且`splitAt`都是*O(1)* in `ByteString`，所以它对效率没有太大影响，但`splitAt`确实感觉更干净。

# ruby-on-rails-3.1 - 如何在 sass 文件中获取 request.subdomain

> ID：13264419
> 
> 赞同：2
> 
> 时间：2012-11-07T06:40:47.260
> 
> 标签：ruby-on-rails-3.1, sass

我想在 .sass.erb 文件中获取当前子域。

我尝试如下 - $get_subdomain: <%= request.subdomain %>

但得到错误 - 未定义的方法或变量请求。

我也尝试在 lib 中添加自定义函数，但仍然遇到相同的错误。如何在 sass 文件中获取当前子域？有人能帮我吗。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T12:06:40.003

SASS is compiled to CSS outside of the application context, so there is no request.

What's your problem around this? Why do you need the subdomain in SASS?

You may also have a look at asset_url/_host configuration for SASS and/or Rails.

# ruby-on-rails - 如何序列化和反序列化邮件？

> ID：13264424
> 
> 赞同：5
> 
> 时间：2012-11-07T06:41:07.893
> 
> 标签：ruby-on-rails, ruby, email, serialization, actionmailer

如何序列化邮件程序以便可以存储以供进一步使用？

序列化的数据应该断开连接并且自给自足，以便在应该传递该消息的单独机器上传递（不知道数据库或其他任何东西）。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-07T07:30:51.520

假设您通常使用以下内容发送电子邮件：

```
MyMailer.some_email(...).deliver 
```

您可以将其转换为字符串并将字符串传输到另一台服务器，而不是交付它：

```
raw_mail = MyMailer.some_email(...).to_s 
```

在另一台服务器上，发送电子邮件：

```
Mail.new(raw_mail).deliver 
```

# spring-mvc - 在 springs 中动态访问属性文件

> ID：13264430
> 
> 赞同：0
> 
> 时间：2012-11-07T06:41:21.913
> 
> 标签：spring-mvc

我们正在我的表示层使用带有 JSON 的 Spring MVC 开发一个 java Web 应用程序。为了在 JSP 中显示 UI 标签而不是硬编码，我们从属性文件中获取它，并且在 JSP 中表示我们正在使用**spring:message**标签。我们正在使用**ResourceBundleMessageSource**来实现这一点。这工作正常。

但是我们的应用程序将从不同的区域访问，并且基于区域，我们有不同的 UI 标签属性文件需要使用。所有属性文件中的键都相同，只有值不同。

例如：假设有 2 个 reqions 'Region1' 和 'Region2' 用户将从那里访问应用程序，我有 2 个属性文件，例如 message_region1.properties 和 message_region2.properties。现在，当用户从 Region1 登录时，我需要选择 message_Region1.properties，如果用户从“Region2”登录，我需要选择 message_Region2.properties 并显示 UI 标签。由于两个属性中的所有键都相同，因此我的 jsp 文件不会有任何更改。

任何建议如何实现它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T08:31:39.867

简单:) 创建您的`message_region1.properties`和`message_region2.properties`文件。Spring 根据客户端的语言环境（使用 Default `LocaleResolver`）选择适当的属性文件。属性文件通常采用以下格式`filename_<language>_<country>.properties`

如果您想告诉 Spring，应该如何解决语言环境，请使用[spring 文档中给出的 4 种方法之一](http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-localeresolver)

**编辑：**

要动态更改属性文件，请使用以下方法之一；我不知道它们是否比 4 种方法更好（在上面的规范中提到）。

1.  在返回视图之前，将语言环境更改为登录用户的“唯一代码”，如下所示。

    ```
    RequestContextUtils.getLocale(request).setDefault(new Locale("your code")); 
    ```

2.  将 spring 配置中的消息源更改为 ReloadableResourceBundleMessageSource

    ```
    <bean id="messageSource"
     class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
        <property name="basename" value="classpath:messages" />
        <property name="defaultEncoding" value="UTF-8" />
    </bean> 
    ```

    并在返回视图之前重置控制器中的属性文件名，如下所示：

    ```
    messageSource.setBasename("classpath:messages" + your code); 
    ```

# extjs - Extjs 4.1.1 - 当必须包含非 extjs 表单数据时从 extjs 提交信息

> ID：13264432
> 
> 赞同：0
> 
> 时间：2012-11-07T06:41:26.103
> 
> 标签：extjs, extjs4, extjs4.1

我有一个页面部分使用纯 HTML，部分使用 Extjs 框架。该页面包含一个提交基本 HTML 表单的常规 HTML 提交按钮。我希望提交按钮能够像以前那样提交表单上的值，但我还想在表单提交的页面上包含一个 Extjs Grid 中包含的值。

# java - 如何根据 AutoCompleteTextView 中的另一个数组值显示（突出显示）值？

> ID：13264433
> 
> 赞同：1
> 
> 时间：2012-11-07T06:41:28.117
> 
> 标签：java, android, user-interface

附件是其中有 AutoCompleteTextView 的图像，我设置了客户名称的 ArrayAdapter（字符串数组）。现在，我想通过客户地址搜索客户名称（我有客户名称的字符串数组）（我有字符串数组客户地址）。这意味着如果我在 AutoCompleteTextView 中键入“Ahemdabad”，它会显示地址为“Ahemdabad”的客户名称列表..那么，我该怎么做？..任何帮助将不胜感激。 ![客户名称现在适配器](../Images/ccd52c8afa23364e78ed5a75d5f9ff3c.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T05:54:21.340

主要的.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
   android:orientation="vertical"
   android:layout_width="fill_parent"
   android:layout_height="fill_parent"
   >
<TextView 
   android:layout_width="fill_parent"
   android:layout_height="wrap_content"
   android:text="@string/hello"
   />
<AutoCompleteTextView android:id="@+id/myautocomplete"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:completionThreshold="1"
/>
</LinearLayout> 
```

AndroidAutoCompleteTextView.java

```
package com.AndroidAutoCompleteTextView;

import android.app.Activity;
import android.os.Bundle;
import android.text.Editable;
import android.text.TextWatcher;
import android.widget.ArrayAdapter;
import android.widget.AutoCompleteTextView;

public class AndroidAutoCompleteTextView extends Activity implements TextWatcher{

AutoCompleteTextView myAutoComplete;
String item[]={
  "January", "February", "March", "April",
  "May", "June", "July", "August",
  "September", "October", "November", "December"
};

   /** Called when the activity is first created. */
   @Override
   public void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.main);

       myAutoComplete = (AutoCompleteTextView)findViewById(R.id.myautocomplete);

       myAutoComplete.addTextChangedListener(this);
       myAutoComplete.setAdapter(new ArrayAdapter<String>(this, android.R.layout.simple_dropdown_item_1line, item));

   }

@Override
public void afterTextChanged(Editable arg0) {
 // TODO Auto-generated method stub

}

@Override
public void beforeTextChanged(CharSequence s, int start, int count,
  int after) {
 // TODO Auto-generated method stub

}

@Override
public void onTextChanged(CharSequence s, int start, int before, int count) {
 // TODO Auto-generated method stub

}
} 
```

# python - 多处理池是否为每个进程提供相同数量的任务，或者它们是否被分配为可用？

> ID：13264435
> 
> 赞同：23
> 
> 时间：2012-11-07T06:41:49.243
> 
> 标签：python, multiprocessing, pool

当您`map`对 a`multiprocessing.Pool`进行迭代时，是否在开始时将迭代划分为池中每个进程的队列，或者是否有一个公共队列，当进程空闲时从该队列中获取任务？

```
 def generate_stuff():
        for foo in range(100):
             yield foo

    def process(moo):
        print moo

    pool = multiprocessing.Pool()
    pool.map(func=process, iterable=generate_stuff())
    pool.close() 
```

因此，鉴于此未经测试的建议代码；如果池中有 4 个进程，是否每个进程都分配了 25 件事情要做，或者 100 件事情被寻找要做的事情的进程一一挑选出来，这样每个进程可能会做不同数量的事情，例如 30 , 26, 24, 20。

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-11-07T07:14:55.303

> 因此，鉴于此未经测试的建议代码；如果池中有 4 个进程，是否每个进程都分配了 25 件事情要做，或者 100 件事情被寻找要做的事情的进程一一挑选出来，这样每个进程可能会做不同数量的事情，例如 30 , 26, 24, 20。

好吧，显而易见的答案是测试它。

照原样，测试可能不会告诉您太多，因为作业将尽快完成，并且即使池化进程在它们准备好时抢占作业，事情也可能最终均匀分布。但是有一个简单的方法可以解决这个问题：

```
import collections
import multiprocessing
import os
import random
import time

def generate_stuff():
    for foo in range(100):
        yield foo

def process(moo):
    #print moo
    time.sleep(random.randint(0, 50) / 10.)
    return os.getpid()

pool = multiprocessing.Pool()
pids = pool.map(func=process, iterable=generate_stuff(), chunksize=1)
pool.close()
print collections.Counter(pids) 
```

如果数字是“参差不齐的”，那么您要么知道池中的进程必须在准备好新作业的情况下获取新作业。（我明确设置`chunksize`为 1 以确保块不会太大，以至于每个块首先只得到一个块。）

当我在 8 核机器上运行它时：

```
Counter({98935: 16, 98936: 16, 98939: 13, 98937: 12, 98942: 12, 98938: 11, 98940: 11, 98941: 9}) 
```

因此，看起来这些流程正在快速获得新的工作。

由于您特别询问了 4 名工人，我改为`Pool()`并`Pool(4)`得到了这个：

```
Counter({98965: 31, 98962: 24, 98964: 23, 98963: 22}) 
```

但是，有一种比测试更好的方法来找出答案：阅读[源代码](http://hg.python.org/cpython/file/2.7/Lib/multiprocessing/pool.py)。

如您所见，`map`只需调用`map_async`，它会创建一堆批次并将它们放在一个`self._taskqueue`对象（一个`Queue.Queue`实例）上。如果您进一步阅读，这个队列不会直接与其他进程共享，但是有一个池管理器线程，每当一个进程完成并返回结果时，它就会从队列中弹出下一个作业并将其提交回进程。

这也是您可以找出默认块大小的方法`map`。上面链接的 2.7 实现表明它只是`len(iterable) / (len(self._pool) * 4)`四舍五入（比避免小数算术稍微详细一点）——或者，换句话说，对于每个进程大约 4 个块来说足够大。但是你真的不应该依赖这个；该文档含糊地和间接地暗示它将使用某种启发式方法，但并没有给您任何关于那将是什么的保证。因此，如果您确实需要“每个进程大约 4 个块”，请明确计算。更实际地，如果您需要除默认值之外的任何东西，您可能需要一个特定于域的值来计算（通过计算、猜测或分析）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T07:02:17.513

[http://docs.python.org/2/library/multiprocessing.html#multiprocessing.pool.multiprocessing.Pool.map](http://docs.python.org/2/library/multiprocessing.html#multiprocessing.pool.multiprocessing.Pool.map)

> `map(func, iterable[, chunksize])`
> 
> 此方法将可迭代对象分割成多个块，将它们作为单独的任务提交给进程池。这些块的（近似）大小可以通过将 chunksize 设置为正整数来指定。

我假设一个进程在完成前一个块时从队列中拾取下一个块。

默认值`chunksize`取决于长度，`iterable`并且选择了这样块的数量大约是进程数量的四倍。[（来源）](http://hg.python.org/cpython/file/1c54def5947c/Lib/multiprocessing/pool.py#l305)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T08:51:07.387

`chunksize`要在不查看其`multiprocessing`模块源代码的情况下估计Python 实现使用的情况，请运行：

```
#!/usr/bin/env python
import multiprocessing as mp
from itertools import groupby

def work(index):
    mp.get_logger().info(index)
    return index, mp.current_process().name

if __name__ == "__main__":
    import logging
    import sys
    logger = mp.log_to_stderr()

    # process cmdline args
    try:
        sys.argv.remove('--verbose')
    except ValueError:
        pass  # not verbose
    else:
        logger.setLevel(logging.INFO)  # verbose
    nprocesses, nitems = int(sys.argv.pop(1)), int(sys.argv.pop(1))
    # choices: 'map', 'imap', 'imap_unordered'
    map_name = sys.argv[1] if len(sys.argv) > 1 else 'map'
    kwargs = dict(chunksize=int(sys.argv[2])) if len(sys.argv) > 2 else {}

    # estimate chunksize used
    max_chunksize = 0
    map_func = getattr(mp.Pool(nprocesses), map_name)
    for _, group in groupby(sorted(map_func(work, range(nitems), **kwargs),
                                   key=lambda x: x[0]),  # sort by index
                            key=lambda x: x[1]):  # group by process name
        max_chunksize = max(max_chunksize, len(list(group)))
    print("%s: max_chunksize %d" % (map_name, max_chunksize)) 
```

它表明 ,`imap`默认使用和`imap_unordered`for取决于, （每个进程的块数不固定）并且取决于 python 版本。如果指定了参数，所有函数都会考虑参数。`chunksize=1``max_chunksize``map``nprocesses``nitem``max_chunksize``*map*``chunksize`

### 用法

```
$ ./estimate_chunksize.py nprocesses nitems [map_name [chunksize]] [--verbose] 
```

了解个人工作是如何分配的；指定`--verbose`参数。

# php - setcookie 路径 url 在 PHP 中不起作用？

> ID：13264436
> 
> 赞同：1
> 
> 时间：2012-11-07T06:41:50.150
> 
> 标签：php, cookies, subdomain, setcookie

从以下代码调用时`/foo/controllers/`：

```
setcookie(
    "email", $email, time() + 100 * 60 * 60 * 24 * 30, 
    "/foo/", "bar.com", false
); 
```

它获得价值（从 FireBug 复制）：

```
# line-breaks added for aesthetics
email=stackoverflowuser95%40gmail.com; 
    expires=Sun, 24 Jan 2021 06:25:33 GMT; 
    path=/foo/controllers/; domain=bar.com 
```

如何设置它以使 cookie 对`/foo/controllers/`and有效`/foo/views/`？

# tooltwist - 图像裁剪在本地工作台中不起作用

> ID：13264438
> 
> 赞同：0
> 
> 时间：2012-11-07T06:42:00.867
> 
> 标签：tooltwist

图像裁剪在我们的本地工作台中不起作用（出现 WbdimageMagic 错误）。

> 2012-11-06 12:32:34,237 调试 StreamGobbler - 转换：错误 > 无效参数 - -crop 2012-11-06 12:32:34,241 错误 ImageManipulation - 错误状态：4

ToolTwist 文件夹中的 WbdImageMagickError.txt 更新了相同的内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:16:12.147

如果您使用的是基于 Windows 的工作台，请尝试将 ImageMagick bin 添加到环境变量 PATH 中，例如 C:\tooltwist\tooltwist_win_8.0_beta\ImageMagick-\bin

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:43:08.060

日志文件通常会显示正在使用的 ImageMagick 命令。如果您从命令行运行此命令，它可能会提供更多有用的信息。

如果不支持“-crop”参数，请检查您是否安装了最新版本的 ImageMagick。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T06:51:37.100

从以下 URL 下载 imagemagic： [链接](https://www.imagemagick.org/script/download.php#windows) 在您的机器上安装它。在 tooltwist.conf 和 wbd.conf 文件中将 imageMagickHome 路径更改为 imagemagic 的安装路径。重新启动 tooltwist 工作台。

# java - 编码 jboss 7

> ID：13264447
> 
> 赞同：4
> 
> 时间：2012-11-07T06:43:07.993
> 
> 标签：java, encoding, utf-8, jboss

我尝试了所有可能的答案[this](https://stackoverflow.com/questions/10228764/jboss-7-encoding-not-working-as-expected)和[this](https://stackoverflow.com/questions/10226018/jboss-encoding-utf-8)，但它对我不起作用。现在写问题。

```
private String convertValue(String val){
    System.out.println("convert input:" + val);
    String res = "";
    StringTokenizer st = new StringTokenizer(val,",");
    while(st.hasMoreTokens()){
        String token = st.nextToken();
        if (token.matches("([0-9]*)")) {
            char c = (char)Integer.parseInt(token);
            res+=c;
        }else{
            res+=token;
        }
    }
    System.out.println("convert output:" + res);
    return res;
} 
```

当 jboss 7 用完时，它会给出：

```
convert input:61,1087,1088,1080,1074,1077,1090
convert output:=привет 
```

通过操作在 jboss 7 中运行：

```
convert input:61,1087,1088,1080,1074,1077,1090
convert output:=?????? 
```

为什么它不能正常工作？

我的standalone.xml：

```
 <extension module="org.jboss.as.weld"/>
</extensions>

<system-properties>
    <property name="org.apache.catalina.connector.URI_ENCODING" value="UTF-8"/>
    <property name="org.apache.catalina.connector.USE_BODY_ENCODING_FOR_QUERY_STRING" value="true"/>
</system-properties> 
```

添加了 java opts(-Dfile.encoding=UTF-8):

```
convert input:61,1087,1088,1080,1074,1077,1090
convert output:=–ø—Ä–∏–≤–µ—Ç 
```

编辑1：我的环境：

```
Mac OS X Version 10.7.5
JBoss 7.1.1.Final
java version "1.6.0_33"
Java(TM) SE Runtime Environment (build 1.6.0_33-b03-424-11M3720)
Java HotSpot(TM) 64-Bit Server VM (build 20.8-b03-424, mixed mode) 
```

编辑2：从JSF页面按下按钮时，上面的代码片段在javax.enterprise.context.RequestScoped back bean控制器中工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-14T22:36:11.430

我没有 Mac，但[相关](https://stackoverflow.com/questions/2415597/java-how-to-detect-and-change-encoding-of-system-console) [问题](https://stackoverflow.com/questions/8616915/java-console-charset-translation)表明，在您的情况下，这样的代码应该可以工作：

```
private String convertValue(String val){
    System.out.println("convert input:" + val);
    String res = "";
    StringTokenizer st = new StringTokenizer(val,",");
    while(st.hasMoreTokens()){
        String token = st.nextToken();
        if (token.matches("([0-9]*)")) {
            char c = (char)Integer.parseInt(token);
            res+=c;
        }else{
            res+=token;
        }
    }

    PrintStream out = new PrintStream(System.out, true, "UTF-8");
    out.println("convert output:" + res);
    return res;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-13T08:18:39.953

尝试将其添加到您的standalone.conf 中：

```
JAVA_OPTS="$JAVA_OPTS -Dfile.encoding=UTF-8" 
```

当 vm 的直接选项不起作用时，它对我有用。

# android - 无法从动态列表中选择 ListItem

> ID：13264448
> 
> 赞同：0
> 
> 时间：2012-11-07T06:43:11.910
> 
> 标签：android, android-layout, mocking, robotium, ui-testing

我正在尝试测试我的应用程序，其中将在文本框中输入一些字符串（例如“xyz”），并会出现一个建议列表（从服务器获取）。在那些我想选择第一个，但我得到 java 语言错误。我的代码是

```
EditText input = solo.getView(R.id.inputBox);
        solo().clickOnView(input);
        solo().enterText(input, "XYZ");
        solo().sendKey(Solo.ENTER);
        solo().waitForDialogToClose(20000);
        solo().clickInList(0); 
```

如果我给出`sleep`命令 berofe`solo().sendKey(Solo.ENTER)`那么我可以在编辑框中输入“ **XYZ** ”并且触发 ENTER 的时间，测试结束并且可以在故障跟踪器中看到错误（在 Junit eclips 中）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:58:00.437

在您的适配器中试试这个：

```
@Override
public View getView(final int position, View convertView, ViewGroup parent)
{
    View row = convertView;
    YourWrapper wrapper = null;

    if (row == null)
    {
        row = inflater.inflate(R.layout.layout, parent, false);
        wrapper = new YourWrapper (row);
        row.setTag(wrapper);
    }
    else
        wrapper = (YourWrapper) row.getTag();

    wrapper.getEditText().setOnClickListener(new OnClickListener()
    {
        @Override
        public void onClick(View v)
        {
            // What you want
        }
    });

    return row;
} 
```

# iphone - 在 iPhone 中隐藏/显示 UITableView？

> ID：13264450
> 
> 赞同：0
> 
> 时间：2012-11-07T06:43:21.090
> 
> 标签：iphone, xcode, uitableview

我需要`UITableView`在某些情况下显示/隐藏 a 。但有时它运行得非常好。但有时`tableView`不是隐藏的。

如果存在数组数据，我将在 UITableView 中填充它。但如果数组为空，我将显示带有文本“未找到数据”的标签。这工作得很好，但如果我反复这样做，那么在我的 TableView 的数据标签上文本正在显示而没有隐藏`tableView`..无法理解我哪里出错了..

这是我正在写的代码...

```
if([arr count]==0)
{
    lblError.text=@"";
    lblError  = [[UILabel alloc] init];
    [lblError setFrame:CGRectMake(0,390,320,200)];
    lblError.textAlignment=UITextAlignmentLeft;
    lblError.backgroundColor = [UIColor clearColor];
    lblError.text = @"Results not found";
    lblError.textColor = [UIColor redColor];
    lblError.shadowColor = [UIColor blackColor];
    lblError.font = [UIFont fontWithName:@"Verdana-Italic" size:15];      
    [self.view addSubview:lblError];
    tableView.hidden=YES;
    [tableView removeFromSuperview];
    tableView=nil;

 }
else
{
     sections=[[NSMutableArray alloc] init];
    for(int s=0;s<1;s++)
    {
        NSMutableArray *section=[[NSMutableArray alloc] init];
        for(int i=0;i<[arr1 count];i++)
        {
            Item *item=[[Item alloc] init];
            NSString *name=[[arr objectAtIndex:i]objectForKey:@"Name"];
            item.Name=name;
            [section addObject:item];

        }
        [sections addObject:section];

    }
    tableView=[[UITableView alloc]initWithFrame:CGRectMake(0,430,320,200) style:UITableViewStylePlain];
    tableView.delegate = self;
    tableView.dataSource = self;
    [self.view addSubview:tableView];  
    [tableView release];

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:50:04.910

`TableView`你为什么在方法中分配你的`else`？您应该简单地分配`TableView`in`ViewDidLoad`或`ViewWillAppear`。然后根据您的需要隐藏或取消隐藏它。也不要删除`TableView`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T08:00:43.810

在你想隐藏的情况下试试这个

```
tableName.hidden = YES; 
```

试试这个取消隐藏/显示

```
tableName.hidden = NO; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T08:34:01.230

我已经通过先将 tableView 的委托和数据源分配给 nil 然后再次创建它来解决它

```
tableView.delegate = nil;
tableView.dataSource = nil;

if([arr count]==0)
{
lblError.text=@"";
lblError  = [[UILabel alloc] init];
[lblError setFrame:CGRectMake(0,390,320,200)];
lblError.textAlignment=UITextAlignmentLeft;
lblError.backgroundColor = [UIColor clearColor];
lblError.text = @"Results not found";
lblError.textColor = [UIColor redColor];
lblError.shadowColor = [UIColor blackColor];
lblError.font = [UIFont fontWithName:@"Verdana-Italic" size:15];      
[self.view addSubview:lblError];
tableView.hidden=YES;
[tableView removeFromSuperview];
tableView=nil;

}
else
{
 sections=[[NSMutableArray alloc] init];
for(int s=0;s<1;s++)
{
    NSMutableArray *section=[[NSMutableArray alloc] init];
    for(int i=0;i<[arr1 count];i++)
    {
        Item *item=[[Item alloc] init];
        NSString *name=[[arr objectAtIndex:i]objectForKey:@"Name"];
        item.Name=name;
        [section addObject:item];

    }
    [sections addObject:section];

}
tableView=[[UITableView alloc]initWithFrame:CGRectMake(0,430,320,200) style:UITableViewStylePlain];
tableView.delegate = self;
tableView.dataSource = self;
[self.view addSubview:tableView];  
[tableView release];

} 
```

# javascript - 使用 Moment.js 比较时间

> ID：13264457
> 
> 赞同：18
> 
> 时间：2012-11-07T06:43:40.957
> 
> 标签：javascript, date, momentjs

我一直在玩[Moment.js](http://momentjs.com)，但遇到了一个问题。我一直在尝试确定给定的日期是过去还是将来。日期存储为[Unix 时间戳](http://momentjs.com/docs/#/parsing/unix-timestamp/)。因此，当我将未来日期与当前日期进行比较时，它工作正常，但它不会触发过去的日期。示例代码如下，[这里有一个小提琴](http://jsfiddle.net/the_archer/b5pSn/3/)。

```
var pastUnixTime = '1348812970'; //some time in the past
var futureUnixTime = '1352350231';

if (moment.unix(futureUnixTime).format('DD MM YYYY') > moment().format('DD MM YYYY')) {
    console.log('yay');
}

if (moment.unix(pastUnixTime).format('DD MM YYYY') < moment().format('DD MM YYYY')) {
    console.log('yay 2');
}
​ 
```

上面的代码日志`yay`不是没有`yay 2`。谁能向我解释为什么它不记录`yay 2`？

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-11-07T06:50:29.957

您实际上根本不需要使用`.format()`它。

首先，时间戳应该是数字，而不是字符串（例如，`var pastUnixTime = 1348812970;`），其次，您可以直接比较它们：

```
> pastUnixTime = 1348812970;
> pastUnixTime < moment().unix()
true
> pastUnixTime > moment().unix() 
false 
```

现在，您的代码失败的原因是，当您比较`DD MM YYYY`字符串时，它们是按字典顺序进行比较的……而且日子是*第一位*的！所以字符串`"01 01 2000"`总是 "小于" `"31 12 1900"`。如果你*想*比较字符串，你可以使用`YYYY MM DD`format ——这样，`"2000 01 01"`将正确地 "大于" `"1900 12 31"`。但是没有理由这样做 - 时间戳更直接。

最后，请注意：您实际上不需要使用`.unix()`- 的实例`moment()`将进行比较：

```
> past = moment().subtract("days", 1)
> now = moment()
> past < now
true
> past > now
false 
```

# php - 第一次请求时的 PHP 未定义索引

> ID：13264459
> 
> 赞同：1
> 
> 时间：2012-11-07T06:43:48.517
> 
> 标签：php, regex, curl, preg-match

我有一个脚本，它使用正则表达式在使用 curl 检索的页面上获取一些值。

编码：`preg_match('/<h2>([\d\,]+)<\/h2>/', $curl_exec, $matches);`

当我`print_r($matches)`在浏览器中时，它总是在那里。

我在 cron 作业中使用此脚本每 10 分钟获取一次结果。当我自己测试它并使用'php script.php'时，它总是说我想要获取的数据的未定义索引，但是如果我第二次执行'php script.php'，它就可以工作。有谁知道这可能是什么原因造成的？有什么解决办法吗？

```
$CurlHandle = curl_init($StatsUrl);
curl_setopt($CurlHandle, CURLOPT_RETURNTRANSFER, true);
curl_setopt($CurlHandle, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($CurlHandle, CURLOPT_USERAGENT, "Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Firefox/17.0");

$Data = curl_exec($CurlHandle);

preg_match("/<h2>([\d\,]+)<\/h2>/", $Data, $Matches);

print_r($Data);

if(!isset($Matches[1])) exit('Irrecoverable error.');

$PlayerCount = str_replace(",", "", $Matches[1]);

$CurrentTime = time(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T08:15:51.180

不知道最初是什么导致了这个问题，但是我`system('php script.php');`在失败的情况下添加了一个，所以它调用了两次。这显然是一种管道胶带解决方案，但它正在发挥作用。

# qt - Qt M/V 代理

> ID：13264460
> 
> 赞同：0
> 
> 时间：2012-11-07T06:43:51.560
> 
> 标签：qt, model-view-controller, delegates, mv

我想显示`QDateTimeWidget`用户何时选择`QTableView`单元格（其中包含日期时间）。我写了委托书。如何在委托创建编辑器方法中动态知道使用模型索引的列类型？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:45:22.037

例如，如果您通过子类化创建自己的委托`QStyledItemDelegate`，在您的函数中

```
QWidget *DateDelegate::createEditor(QWidget *parent,
                                const QStyleOptionViewItem &option,
                                const QModelIndex &index) const 
```

你可以使用`index`.

因此，您可以使用`index.row(), index.column()`. 要获取文本（您的日期），您可以执行以下操作：

```
QString tmpStr =
        index.model()->data(index, Qt::DisplayRole).toString(); 
```

祝你好运！

# c# - 当用户离开应用程序时暂停相机，当用户切换回应用程序时恢复相机

> ID：13264463
> 
> 赞同：1
> 
> 时间：2012-11-07T06:43:54.070
> 
> 标签：c#, windows-8, microsoft-metro

目前，我想在用户离开我的应用程序时暂停我的相机，并在用户切换回应用程序时恢复相机

我指的是[应用程序生命周期（Windows 商店应用程序）（Windows）](http://msdn.microsoft.com/en-us/library/windows/apps/hh464925.aspx#app_suspend)

但是，**暂停 |** 一旦用户离开我的应用程序，**暂停事件不会立即触发。**您需要等待几秒钟（或者如果操作系统决定不这样做，它根本不会触发）。

所以，我怎么知道，当用户离开我的应用程序时，我什么时候应该运行我的相机暂停代码。

如果我指的是[使用捕获设备示例进行媒体捕获](http://code.msdn.microsoft.com/windowsapps/Media-Capture-Sample-adf87622)，他们正在使用

`Windows.Media.MediaControl.SoundLevelChanged += m_soundLevelHandler;`

当声音级别发生变化时，他们会运行摄像头暂停代码吗？但这也不是我想要的。作为检测`SoundLevelChanged`事件，无法让我知道用户是**从我的应用程序**切换还是**切换回我的应用程序**。`SoundLevelChanged`在这两种情况下都会触发事件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-16T12:53:58.670

从您提到的[MSDN 文章中。](http://msdn.microsoft.com/en-us/library/windows/apps/hh464925.aspx#app_visibility)

> **应用可见性** 当用户从您的应用切换到另一个应用时，您的应用不再可见，但仍处于运行状态，直到 Windows 可以将其挂起（大约 10 秒）。如果用户离开您的应用但在 Windows 可以挂起它之前激活或切换回它，则该应用仍处于运行状态。当应用可见性更改时，您的应用不会收到激活事件，因为该应用仍在运行。Windows 只需根据需要在应用程序之间切换。如果您的应用程序需要在用户切换和返回时执行某些操作，它可以处理`VisibilityChanged`| `msvisibilitychange`事件。可见性事件不与恢复或激活事件一起序列化。不要假设这些事件以特定的顺序出现。

查看[VisibilityChangedEvent](http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.core.visibilitychangedeventargs.aspx)

# javascript - 使用带有激活功能的扩展程序在 Gmail 顶部添加一个持久栏

> ID：13264465
> 
> 赞同：1
> 
> 时间：2012-11-07T06:43:54.757
> 
> 标签：javascript, google-chrome-extension, gmail

我正在使用 Chrome 扩展程序注入一个 js 文件，该文件在 Gmail 顶部添加了一个栏，直到最近，当我开始遇到持久性问题时，一切都很好。我猜谷歌改变了 Gmail 的行为。

该 js 文件在 body 标记的开头添加了一个 div 元素，因此我得到了页面顶部的栏，其他所有内容都缩小了一点以适应它。问题在于，一旦用户点击任何内容，Gmail 就会伸展以占据整个垂直空间，并将栏向上推到可见区域之外。div 仍然存在于 DOM 中，但不再可见。

关于如何使该栏更持久的任何建议？

# xaml - 使用共享合同在 Windows 8 Metro 应用程序中共享文件时出现“在意外时间调用方法”的异常？

> ID：13264476
> 
> 赞同：0
> 
> 时间：2012-11-07T06:44:18.140
> 
> 标签：xaml, email, windows-runtime, windows-store-apps

我正在尝试在我的应用程序中使用共享合同共享文件：-

```
public async void SendingEmail(UtilityClass objselecteditem)
{
    try
    {
        StorageFolder tempFolder = Windows.Storage.ApplicationData.Current.LocalFolder;
        StorageFile sampleFile = await 
        tempFolder.CreateFileAsync("StundentDetails.html",   
            CreationCollisionOption.ReplaceExisting);
        await Windows.Storage.FileIO.WriteTextAsync(sampleFile, htmlBuilder.ToString());
        await RegisterForShare();                        
    }
    catch (Exception ex)
    {    
    }
} 
```

我在上面的方法中调用了这个 RegisterForShare() ：-

```
private async Task RegisterForShare()
{
    DataTransferManager dataTransferManager = DataTransferManager.GetForCurrentView();       
    dataTransferManager.DataRequested += new TypedEventHandler<DataTransferManager, DataRequestedEventArgs>(this.ShareStorageItemsHandler);            
    DataTransferManager.ShowShareUI();

}

private async void ShareStorageItemsHandler(DataTransferManager sender, DataRequestedEventArgs e)          
{
    DataRequest request = e.Request;
    request.Data.Properties.Title = "Student Confirmation Email";
    request.Data.Properties.Description = "Student Details";

    // Because we are making async calls in the DataRequested event handler,
    // we need to get the deferral first.
    DataRequestDeferral deferral =  request.GetDeferral();

    // Make sure we always call Complete on the deferral.
    try
    {
        StorageFolder tempFolder = Windows.Storage.ApplicationData.Current.LocalFolder;
        StorageFile EmailFile = await tempFolder.GetFileAsync("StundentDetails.html");      
        List<IStorageItem> storageItems = new List<IStorageItem>();
        storageItems.Add(EmailFile);
        request.Data.SetStorageItems(storageItems);

    }
    finally
    {
        deferral.Complete();
    }
} 
```

第一次正确执行，共享合同正在为我打开共享文件，但如果我试图再次共享它（第二次共享文件）它会抛出一个异常，说“在一个意外的时间调用了一个方法“，如果我做错了，请告诉我，请纠正我。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T16:07:28.577

尝试替换此行：

```
dataTransferManager.DataRequested += new TypedEventHandler<DataTransferManager, DataRequestedEventArgs>(this.ShareStorageItemsHandler); 
```

和

```
dataTransferManager.DataRequested -= ShareStorageItemsHandler;
dataTransferManager.DataRequested += ShareStorageItemsHandler; 
```

# java - Android无法获取所有行数据

> ID：13264478
> 
> 赞同：0
> 
> 时间：2012-11-07T06:44:22.213
> 
> 标签：java, android, sqlite, loops, hashmap

我无法从 sql 获取所有行数据。

数据库处理程序.java

```
public HashMap<String, String> getChannelDetails(){
    HashMap<String,String> channels = new HashMap<String,String>();
    String selectQuery = "SELECT  * FROM " + TABLE_CHANNEL;

    SQLiteDatabase db = this.getReadableDatabase();
    Cursor cursor = db.rawQuery(selectQuery, null);
    // looping through all rows and adding to list
    if (cursor.moveToFirst()) {
        do {
            channels.put("title", cursor.getString(1));
            channels.put("url", cursor.getString(2));
            channels.put("create_at", cursor.getString(3));
        } while (cursor.moveToNext());
        Log.d("SELECT", channels.toString());
        Log.d("Count", Integer.toString(cursor.getCount()));
    }

    cursor.close();
    db.close();
    // return channels
    return channels;
} 
```

显示结果.java

```
for(int i = 0; i < 13; i++){
         HashMap<String, String> allchannel = db.getChannelDetails(); 
         String id = allchannel.get("id");
         String title = allchannel.get("title");
         String url = allchannel.get("url");
         String date = allchannel.get("created_at");
         titles[i] = title;
         Toast.makeText(context,titles[i]+" "+url+" "+ date, Toast.LENGTH_SHORT).show();
         } 
```

cursor.getCount() 有 13 个，但是输出只重复显示最后一行数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:47:50.147

将您的方法更改为以下内容：

```
public ArrayList<HashMap<String, String>> getChannelDetails(){
ArrayList<HashMap<String, String>> list=new ArrayList<HashMap<String, String>>();
    String selectQuery = "SELECT  * FROM " + TABLE_CHANNEL;

    SQLiteDatabase db = this.getReadableDatabase();
    Cursor cursor = db.rawQuery(selectQuery, null);
    // looping through all rows and adding to list
    if (cursor.moveToFirst()) {
        do {
            HashMap<String,String> channels = new HashMap<String,String>();

            channels.put("title", cursor.getString(1));
            channels.put("url", cursor.getString(2));
            channels.put("create_at", cursor.getString(3));
            list.add(channels);
        } while (cursor.moveToNext());
        Log.d("Count", Integer.toString(cursor.getCount()));
    }

    cursor.close();
    db.close();
    // return channels
    return list;
} 
```

现在使用这个列表来遍历结果。

# java - 我应该如何识别按钮？

> ID：13264479
> 
> 赞同：0
> 
> 时间：2012-11-07T06:44:33.130
> 
> 标签：java, swing, jbutton

我*真的很*感激一个答案：我有几个用这个生成的 JButton：

```
for(int i = 0; i < buttons.length; i++){
        buttons[ i] = new JButton(blank);
        if(i == 3 || i == 6){
            newLine++;
            lineCount = 0;
        }
        buttons[ i].setBounds(lineCount*150,newLine*150,150,150);
        cont.add(buttons[ i]);
        buttons[ i].addActionListener(this);
        lineCount++;
    } 
```

所以他们当然没有全局名称......

因此，我需要知道如何从 JButton 中“***取出***”图像，这样我就知道它是什么类型的按钮*或者*能够通过名称识别按钮（ ？）。
那么我该怎么做呢？谢谢！

顺便说一句，`cont`是一个`java.awt.Container`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T06:53:30.680

我没有找到基于图标识别按钮的好方法。您的组件（包括`JButton`s）可以具有可用于标识的名称。这就是验收测试工具的工作原理。

```
button.setName(uniqueName);
button.getName(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T06:49:00.450

在 JButton 上设置和获取图像图标的使用`setIcon()`和方法`getIcon()`

## 编辑有问题，要求编辑回答：

最好使用以下任一方法识别按钮：

1.  `Component.getName()`和`Component.setName()`或
2.  `getText()`和使用不同的字符串`setText()`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-07T08:51:35.390

用于`putClientProperty`识别 JComponent

```
buttons[i][j].putClientProperty("column", i);
buttons[i][j].putClientProperty("row", j);
buttons[i][j].addActionListener(new MyActionListener()); 
```

并从 ActionListener 获取（例如）

```
public class MyActionListener implements ActionListener {

    @Override
    public void actionPerformed(ActionEvent e) {
        JButton btn = (JButton) e.getSource();
        System.out.println("clicked column " + btn.getClientProperty("column")
                + ", row " + btn.getClientProperty("row"));
} 
```

但正确的方法`JButton`应该是使用[Swing Action](http://docs.oracle.com/javase/tutorial/uiswing/misc/action.html)而不是`ActionListener`

# java - 带逗号和不带逗号的数组

> ID：13264482
> 
> 赞同：2
> 
> 时间：2012-11-07T06:44:45.807
> 
> 标签：java, arrays

我正在创建带有少量元素的字符串数组。当时我注意到我在第一个元素之后放了逗号，它仍然可以编译。我以为它不会编译。然后我打印尺寸，它说 1

```
 String args [] = {request.getParentMessageID() , };
  System.out.println(args.length); 
```

所以

```
String args [] = {request.getParentMessageID() , };  and String args [] = {request.getParentMessageID()}; 
```

两者的行为相同。

有人可以解释为什么这些没有什么不同以及为什么编译。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T06:47:57.577

`Trailing comma`在这样的数组初始化中`ignored by compiler`。这些通常是添加的，以便稍后在数组中添加一些东西，只需要添加元素而不用担心逗号。

因此它是允许的并且是有效的语法。这也列在[`JLS - Section#10.6 (Array Initializers)`](http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.6)： -

> 尾随逗号可能出现在数组初始值设定项中的最后一个表达式之后并被忽略。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T06:46:41.230

根据[Java 语言规范 10.6](http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.6)

数组初始值设定项以逗号分隔的表达式列表形式编写，用大括号 { 和 } 括起来。

尾随逗号可能出现在数组初始值设定项中的最后一个表达式之后并被忽略。

我希望你现在清楚了。

# java - 方言类型的方法 getCastTypeName(int) 未定义

> ID：13264488
> 
> 赞同：0
> 
> 时间：2012-11-07T06:45:28.717
> 
> 标签：java, hibernate

对于需要使用的应用程序，我收到此错误`Hibernate`：

```
The method getCastTypeName(int) is undefined for the type Dialect 
```

看起来我使用了错误版本的`Hibernate`.

哪个版本有这个方法`Dialect`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T07:59:12.540

`Hibernate 4.1`（这似乎是最新版本）有它：

[http://docs.jboss.org/hibernate/orm/4.1/javadocs/](http://docs.jboss.org/hibernate/orm/4.1/javadocs/)

每个版本`3.2`和更高版本也是如此，请亲自查看：

[http://docs.jboss.org/hibernate/orm/](http://docs.jboss.org/hibernate/orm/)

版本`3.2`超过 3 年，应用程序使用的是哪个版本？如果它是一个非常旧的版本，则该方法可能会丢失。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T08:00:33.677

我在 Google 上搜索“java 方言”。第二个结果链接到 Hibernate 3.5 的 API 文档。在那里我发现了这个：

[https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/dialect/Dialect.html#getCastTypeName(int)](https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/dialect/Dialect.html#getCastTypeName%28int%29)

这表明 Hibernate 3.5 提供了一个名为“getCastTypeName”的方法，它接受一个 int。

# objective-c - 为什么图表隐藏在coreplots ios中？我如何从轴组中拉出前面？

> ID：13264490
> 
> 赞同：0
> 
> 时间：2012-11-07T06:45:41.483
> 
> 标签：objective-c, ios, graph, core-plot

现在我正在研究核心图集成......在我的图表中，轴集隐藏了我需要将我的图放在轴集前面有什么想法......

我该如何实现....

**我的代码：**

```
CGRect frame = [self.hostingView bounds];
myGraphForPopulation = [[CPTXYGraph alloc] initWithFrame:frame];
self.hostingView.clipsToBounds=YES;
  ......
  ......
 axisSet.xAxis.zPosition=0;
 axisSet.yAxis.zPosition=0; 
```

提前致谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T23:59:06.470

`zPosition`这与轴无关；您可以删除这些行。如果你仔细观察，你会发现这些图已经在坐标轴的前面，它们只是在绘图区域的边缘被剪裁了。

这里的解决方案是执行以下操作：

1.  调整填充以将绘图区域的边缘移出。减少图形上的填充并增加绘图区域框架上的相应填充。

2.  增加绘图空间的绘图范围以解决绘图区域的额外大小。

3.  在每个轴上设置`visibleRange`和/或`gridLinesRange`，使线条停在正确的点。

有关示例代码，请参阅 Plot Gallery 示例应用程序中的“控制图”和“垂直条形图”图。

# c# - DataAdapter.Fill() 上的 FROM 子句中的语法错误

> ID：13264491
> 
> 赞同：0
> 
> 时间：2012-11-07T06:45:50.600
> 
> 标签：c#, sql, ms-access, exception-handling, ado.net

我的代码有问题，不知道是什么问题。任何人都可以建议吗？

整个程序用于生物识别程序。这只是登录用户控制器。我怎么解决这个问题？

我正面临着这个问题：

```
dbAdapter.Fill(uds); 
```

陈述：

> OleDbException 未处理：FROM 子句中的语法错误。

我的代码如下：

这是我的登录页面表单：使用以下代码。每当我单击登录时，就会出现错误。我的代码有什么问题？

我的代码如下：**登录页面表格**

```
namespace Privacy_Biometric_Defender
{
public partial class Login : Form
{
    //A kind of gobal var to share in project
    public static string fixedUName;

    public Login()
    {
        InitializeComponent();
    }

    private void LoginClearButton_Click(object sender, EventArgs e)
    {
        LoginUsernameTextBox.Clear();
        LoginPasswordTextBox.Clear();
        LoginUsernameTextBox.Focus();
    }

    private void Login_Load(object sender, EventArgs e)
    {
        LoginUsernameTextBox.Focus();
    }

    private void LoginButton_Click(object sender, EventArgs e)
    {

        string userName = this.LoginUsernameTextBox.Text;
        MessageBox.Show("Codes Stops Here");
        UserController cont1 = new UserController();
        User SearchUserName = new User();      
        // Passing textbox input to Controller
        fixedUName = LoginUsernameTextBox.Text;
        SearchUserName = cont1.SearchUserName(userName);

        string passwd = this.LoginPasswordTextBox.Text;
        UserController cont2 = new UserController();
        User SearchPassword = new User();
        // Passing textbox input to Controller
        SearchPassword = cont2.SearchPassword(UserController.GetSHA512(passwd));

        // Collect information from Controller
        string checkUnameExist = UserController.uNameExist;
        string checkPasswordExist = UserController.passwordExist;
        string checkRoleExist = UserController.roleExist;

        if (checkPasswordExist == "Exists" && checkUnameExist == "Exists")
        { 
            MessageBox.Show("Login Successfully");
        }
        else
        {
            MessageBox.Show("Login Unsuccessfully!");
        }   
    }

    private void LoginUsernameTextBox_TextChanged(object sender, EventArgs e)
    {

    }

}
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T07:08:55.220

`User`是一个保留关键字（至少在 SQLServer 中，请参见此处[http://msdn.microsoft.com/en-us/library/ms189822.aspx](http://msdn.microsoft.com/en-us/library/ms189822.aspx)）。按照 Marco 的建议尝试`[User]`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T21:02:39.133

尝试使用字符串 sqlStatement = "Select * from [User]";

# asp.net-mvc-4 - 带有权限代码的 ASP.NET MVC 4 自定义授权属性（无角色）

> ID：13264496
> 
> 赞同：126
> 
> 时间：2012-11-07T06:46:01.640
> 
> 标签：asp.net-mvc-4, authorization, custom-attributes

我需要在我的 MVC 4 应用程序中根据用户权限级别（没有角色，只有分配给用户的 CRUD 操作级别的权限级别）来控制对视图的访问。

举个例子; AuthorizeUser 下面将是我的自定义属性，我需要像这样使用它：

```
[AuthorizeUser(AccessLevels="Read Invoice, Update Invoice")]
public ActionResult UpdateInvoice(int invoiceId)
{
   // some code...
   return View();
}

[AuthorizeUser(AccessLevels="Create Invoice")]
public ActionResult CreateNewInvoice()
{
  // some code...
  return View();
}

[AuthorizeUser(AccessLevels="Delete Invoice")]
public ActionResult DeleteInvoice(int invoiceId)
{
  // some code...
  return View();
} 
```

有可能这样做吗？

* * *

## 回答 #1

> 赞同：249
> 
> 时间：2012-11-08T07:37:38.887

我可以使用自定义属性来执行此操作，如下所示。

```
[AuthorizeUser(AccessLevel = "Create")]
public ActionResult CreateNewInvoice()
{
    //...
    return View();
} 
```

自定义属性类如下。

```
public class AuthorizeUserAttribute : AuthorizeAttribute
{
    // Custom property
    public string AccessLevel { get; set; }

    protected override bool AuthorizeCore(HttpContextBase httpContext)
    {
        var isAuthorized = base.AuthorizeCore(httpContext);
        if (!isAuthorized)
        {                
            return false;
        }

        string privilegeLevels = string.Join("", GetUserRights(httpContext.User.Identity.Name.ToString())); // Call another method to get rights of the user from DB

        return privilegeLevels.Contains(this.AccessLevel);           
    }
} 
```

您可以`AuthorisationAttribute`通过覆盖以下`HandleUnauthorizedRequest`方法来重定向自定义中的未经授权的用户：

```
protected override void HandleUnauthorizedRequest(AuthorizationContext filterContext)
{
    filterContext.Result = new RedirectToRouteResult(
                new RouteValueDictionary(
                    new
                        { 
                            controller = "Error", 
                            action = "Unauthorised" 
                        })
                );
} 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2017-09-13T20:07:53.490

这是对上一个的修改。回答。主要区别是当用户未通过身份验证时，它使用原始的“HandleUnauthorizedRequest”方法重定向到登录页面：

```
 protected override void HandleUnauthorizedRequest(AuthorizationContext filterContext)
    {

        if (filterContext.HttpContext.User.Identity.IsAuthenticated) {

            filterContext.Result = new RedirectToRouteResult(
                        new RouteValueDictionary(
                            new
                            {
                                controller = "Account",
                                action = "Unauthorised"
                            })
                        );
        }
        else
        {
             base.HandleUnauthorizedRequest(filterContext);
        }
    } 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2018-12-14T12:45:02.527

也许这对将来的任何人都有用，我已经实现了一个自定义的授权属性，如下所示：

```
[AttributeUsage(AttributeTargets.Class | AttributeTargets.Method, AllowMultiple = true, Inherited = true)]
public class ClaimAuthorizeAttribute : AuthorizeAttribute, IAuthorizationFilter
{
    private readonly string _claim;

    public ClaimAuthorizeAttribute(string Claim)
    {
        _claim = Claim;
    }

    public void OnAuthorization(AuthorizationFilterContext context)
    {
        var user = context.HttpContext.User;
        if(user.Identity.IsAuthenticated && user.HasClaim(ClaimTypes.Name, _claim))
        {
            return;
        }

        context.Result = new ForbidResult();
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-04-03T21:16:27.867

如果您将 WEB API 与 Claims 一起使用，则可以使用：

```
[AttributeUsage(AttributeTargets.Method | AttributeTargets.Class, Inherited = true, AllowMultiple = true)]
public class AutorizeCompanyAttribute:  AuthorizationFilterAttribute
{
    public string Company { get; set; }

    public override void OnAuthorization(HttpActionContext actionContext)
    {
        var claims = ((ClaimsIdentity)Thread.CurrentPrincipal.Identity);
        var claim = claims.Claims.Where(x => x.Type == "Company").FirstOrDefault();

        string privilegeLevels = string.Join("", claim.Value);        

        if (privilegeLevels.Contains(this.Company)==false)
        {
            actionContext.Response = actionContext.Request.CreateResponse(HttpStatusCode.Unauthorized, "Usuario de Empresa No Autorizado");
        }
    }
}
[HttpGet]
[AutorizeCompany(Company = "MyCompany")]
[Authorize(Roles ="SuperAdmin")]
public IEnumerable MyAction()
{....
} 
```

# android - 从另一个应用调用的应用返回数据

> ID：13264498
> 
> 赞同：0
> 
> 时间：2012-11-07T06:46:18.170
> 
> 标签：android, android-intent

我想知道是否不仅可以从当前应用程序启动另一个应用程序，而且还可以让被调用的应用程序将数据返回给调用应用程序，尤其是在它完成时。他们有什么方法可以交流或者可以访问一些常用文件吗？如果这是不可能的，我可以用什么方法来解决这个问题？如果这很重要，我会编写这两个应用程序。

更新：如果他们可以通信，是否对传回原始应用程序的数据有任何大小或格式限制？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:50:41.517

您正在寻找的是`startActivityForResult()`. [请参阅此处](http://developer.android.com/training/basics/intents/result.html)的文档。

# javascript - Jquery ...如果单击除特定 div 以外的其他位置，则隐藏下拉菜单

> ID：13264499
> 
> 赞同：0
> 
> 时间：2012-11-07T06:46:18.607
> 
> 标签：javascript, jquery

我有一个下拉菜单，将通过调用 blur() 将其关闭。如果您单击下拉菜单以外的其他位置，它应该被关闭。

现在我想添加一个函数，所以如果你点击其他地方，下拉菜单仍然会关闭，除非你点击 div 调用`<div class="changeask"></div>`

```
$(document).ready(function () {
    $(document).delegate("*", "mousedown touchend", function (e) {
        var target = $(e.target).closest("div.select2-container").get(0), attr;
        if (target) {
            $(document).find("div.select2-container-active").each(function () {
                if (this !== target ) $(this).data("select2").blur();
            });
        } else {
            target = $(e.target).closest("div.select2-drop").get(0);
            var changeask = $("div.changeask");
            $(document).find("div.select2-drop-active").each(function () {
                if (this !== target && this !== changeask) $(this).data("select2").blur();
            });
        } 
```

这是我现在拥有的代码...我尝试了很多方法，但是一旦我单击下拉菜单以外的其他位置，它仍然会关闭。

有任何想法吗？

我试图修改这样的代码：

```
$(document).ready(function () {
    $(document).delegate("*", "mousedown touchend", function (e) {
        var target = $(e.target).closest("div.select2-container").get(0), attr;
        var changeask = $(e.target).closest('.changeask').length != 0;

        if (target) {
            $(document).find("div.select2-container-active").each(function () {
                if (this !== target && this!== changeask ) $(this).data("select2").blur();
            });
        } else {
            target = $(e.target).closest("div.select2-drop").get(0);
            $(document).find("div.select2-drop-active").each(function () {
                if (this !== target && this!== changeask) $(this).data("select2").blur();
            });
        } 
```

但仍然无法正常工作...感谢您的帮助..我真的很感激

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T06:53:20.923

如何检查点击是否发生在**changeask** div内

```
$(document).click(function(e){
   if($(e.target).closest('.changeask').length != 0) return false;
   $('.changeask').hide();
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:58:21.287

如果单击发生在不是下拉列表或 changeask div 的元素中，您可以尝试仅触发事件：

```
$(document).on("mousedown touchend","*:not(.changeask, .yourselect)",function(e){
...
}) 
```

# artificial-intelligence - 感知器和加权 McCulloch-Pitts 有什么区别？

> ID：13264508
> 
> 赞同：1
> 
> 时间：2012-11-07T06:47:00.180
> 
> 标签：artificial-intelligence, neural-network

在阅读 Rojas 的一本关于神经网络的书时，我在不同的地方遇到了两个对我来说似乎矛盾的陈述，因为我认为感知器和加权 McCulloch-Pitts 网络是相同的。声明是：

> 由于 McCulloch-Pitts 网络不使用加权边，因此必须回答加权网络是否比未加权网络更普遍的问题。一个简单的例子表明**这两种网络是等价的。**
> 
> 感知器网络能够计算任何逻辑函数，**因为感知器比未加权的 McCulloch-Pitts 元素更强大。**

它们有何不同？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T10:18:54.453

这两个段落看起来有点脱离了上下文。我认为，您的问题的答案可以在同一项工作中找到：

> 该图表明，可以通过简单地将网络边缘扇出所需次数来模拟正有理权重。这意味着我们可以使用加权边，也可以使用具有许多冗余边的更复杂的网络拓扑。

后来关于负权重：

> 如上所示，我们可以使用未加权网络实现任何类型的逻辑功能。我们交换的是构建块的简单性，以获得更复杂的网络拓扑。

所以，答案是：带权边的网络更简单，结构更统一，与无权网络相比，它们更容易构建和训练。

我认为，作者的想法（关于感知器的力量）在以下​​段落中进行了解释：

> 我们得出的结论是，McCulloch-Pitts 单元可用于构建能够计算任何逻辑函数和模拟任何有限自动机的网络 [**但是**] 在使用之前必须完全指定网络。没有可以调整以适应不同问题的自由参数。学习只能通过修改网络的连接模式和单元的阈值来实现，但这必然比仅仅调整数值参数更复杂。

这就是为什么感知器更强大（意味着灵活和统一）。

# android - 如何在 Android 中对 xml 文件进行数字签名

> ID：13264510
> 
> 赞同：1
> 
> 时间：2012-11-07T06:47:12.273
> 
> 标签：android

我有应该与 HttpRequest 一起发送到 URL 的 xml 文件。在将其发送到服务器之前，出于安全目的，我需要使用密码对 xml 文件进行数字签名。签名后，我需要以带有签名标签的 xml 形式输出。我想知道如何在android中实现它。要进行 xml 数字签名，我们需要以下库：javax.xml.crypto,javax.xml.crypto.dsig,javax.xml.crypto.dsig.keyinfo,javax.xml.crypto.dsig.spec,javax.xml.crypto .dom,javax.xml.crypto.dsig.dom

如何在 android 中导入这些库？。我尝试将 xmlsec.jar 添加到构建路径，但我遇到了运行时问题（找不到类异常，java.lang.verify 之类的错误）

或者还有其他方法可以在android中进行xml签名吗？请帮助我。在此先感谢。

# python - 类型错误：不可散列的类型：'dict'

> ID：13264511
> 
> 赞同：279
> 
> 时间：2012-11-07T06:47:24.517
> 
> 标签：python

这段代码给了我一个错误`unhashable type: dict`，任何人都可以向我解释解决方案是什么？

```
negids = movie_reviews.fileids('neg')
def word_feats(words):
    return dict([(word, True) for word in words])

negfeats = [(word_feats(movie_reviews.words(fileids=[f])), 'neg') for f in negids]
stopset = set(stopwords.words('english'))

def stopword_filtered_word_feats(words):
    return dict([(word, True) for word in words if word not in stopset])

result=stopword_filtered_word_feats(negfeats) 
```

* * *

## 回答 #1

> 赞同：367
> 
> 时间：2012-11-07T07:03:52.613

您正在尝试将 a`dict`用作另一个`dict`或`set`. 这不起作用，因为密钥必须是可散列的。作为一般规则，只有不可变对象（字符串、整数、浮点数、冻结集、不可变元组）是可散列的（尽管可能有例外）。所以这不起作用：

```
>>> dict_key = {"a": "b"}
>>> some_dict[dict_key] = True
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: unhashable type: 'dict' 
```

要将 dict 用作​​键，您需要将其转换为可能首先被散列的东西。如果您希望用作键的 dict 仅包含不可变的值，则可以像这样创建它的可散列表示：

```
>>> key = frozenset(dict_key.items()) 
```

现在您可以在 a或`key`中用作键：`dict``set`

```
>>> some_dict[key] = True
>>> some_dict
{frozenset([('a', 'b')]): True} 
```

当然，当您想使用 dict 查找某些内容时，您需要重复该练习：

```
>>> some_dict[dict_key]                     # Doesn't work
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: unhashable type: 'dict'
>>> some_dict[frozenset(dict_key.items())]  # Works
True 
```

如果`dict`您希望用作键的值本身就是字典和/或列表，则需要递归地“冻结”预期键。这是一个起点：

```
def freeze(d):
    if isinstance(d, dict):
        return frozenset((key, freeze(value)) for key, value in d.items())
    elif isinstance(d, list):
        return tuple(freeze(value) for value in d)
    return d 
```

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2019-09-07T09:03:10.763

一个可能的解决方案可能是使用 JSON dumps() 方法，因此您可以将字典转换为字符串 ---

```
import json

a={"a":10, "b":20}
b={"b":20, "a":10}
c = [json.dumps(a), json.dumps(b)]

set(c)
json.dumps(a) in c 
```

输出 -

```
set(['{"a": 10, "b": 20}'])
True 
```

# vim - “diff 模式下有两个以上的缓冲区” - 如何关闭缓冲区上的 diff？

> ID：13264514
> 
> 赞同：13
> 
> 时间：2012-11-07T06:47:40.353
> 
> 标签：vim, vimdiff

我做到了`:vert diffsplit file1.txt`，然后意识到我不想区分它而是一个不同的文件。所以我用 关闭了一个窗口`:q`并用 关闭了差异突出显示`:diffoff`。

然后我尝试`:vert diffsplit file2.txt`了，但现在如果我尝试`dp`或`do`放置/获取更改，我会收到`E101: More than two buffers in diff mode, don't know which one to use`错误消息。

我该如何避免这种情况，或者我做错了什么？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-07T07:53:26.790

在使用退出`:diffoff` *之前*，您应该使用 关闭不需要的缓冲区的差异模式`:q`。根据您的设置（例如`:set hidden`），缓冲区将保留在缓冲区列表中（`:ls`），并且 Vim 会在进行差异时考虑它。

A`:bufdo diffoff`应该关闭所有现有缓冲区的差异，尽管我通常只是退出 Vim 并`vimdiff ...`在出现这种情况时重新启动它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-12-06T06:06:30.167

这可能是一种迟到的答复，但仍待将来参考

我做

```
:tabdo diffoff! 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2020-06-25T16:00:26.567

请注意您要通过`:ls`命令放置/获取更改的缓冲区号。

然后在您的 put/get 命令前加上您选择的缓冲区编号，例如`2dp`.

来源：[具有多个缓冲区的 Vimdiff](http://vim.1045645.n5.nabble.com/Vimdiff-with-multiple-buffers-td5726681.html)。

# sql - 从 sql 获取每周数据

> ID：13264519
> 
> 赞同：2
> 
> 时间：2012-11-07T06:47:58.093
> 
> 标签：sql, sql-server, tsql

我有一个表，它有一个日期列和根据日期的值。通常，如果我想选择两个日期之间的数据，我们使用`BETWEEN`语法，但它每天都在我给出的这两个值之间。是否可以更改它它带来了我给出的时间间隔的日期？例如，如果做一个简单的

```
SELECT * FROM METABLE WHERE DATE BETWEEN '2012-06-11' AND '2012-07-11' 
```

它应该给我带来如下日期：

```
2012-06-11 myValue Stuff 
2012-06-12 myValue Stuff 
.
.
.
2012-07-11 myValue Stuff. 
```

是否可以将其更改为，

```
2012-06-11 myValue Stuff 
2012-06-18 myValue Stuff 
2012-06-25 myValue Stuff 
.
.
.
Until my end date. 
```

所以这给了我每周的价值观。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T06:53:02.340

试试这个：

您可以将**group by**与**MIN()**和**SUM()**函数一起使用

```
SELECT min(date),sum(col1),sum(col2) 
FROM   METABLE 
WHERE  [DATE] BETWEEN '2012-06-11' AND '2012-07-11'
group by datepart(ww,[DATE]) 
```

# [点击这里进行演示](http://www.sqlfiddle.com/#!3/7767d/1)

**编辑1：**

根据您的评论，如果您只想从一周中检索一天。根据您的示例，这里是星期一。所以我使用**set datefirst 1**将其设置为星期一

```
set datefirst 1
select t.* 
from METABLE t
join
  (SELECT min([date]) as dt
   FROM METABLE 
   group by datepart(ww,[date]))a
on t.[date]=a.dt   

 set datefirst 7 
```

# [演示2](http://www.sqlfiddle.com/#!3/20173/2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:53:22.100

我认为 datepart 功能可以帮助你。 [Datepart 函数 MSDN](http://msdn.microsoft.com/en-us/library/ms174420.aspx)

# grails - 使用 detachedCriteria 作为 in 子句的子查询

> ID：13264525
> 
> 赞同：2
> 
> 时间：2012-11-07T06:48:25.543
> 
> 标签：grails, subquery, grails-orm, detachedcriteria

我正在尝试将分离的条件用作“in”子句的子查询，但不知何故它不起作用：

```
def trades = new DetachedCriteria(Trade).build {
            projections { property "tradeNbr" }
}

def activities = Activiies.withCriteria {
            'in' "tradeNumber", trades
} 
```

这是我遇到的错误：

```
2012-11-07 01:07:09,088 [http-bio-8081-exec-1] TRACE sql.BasicBinder  - f228562 - binding parameter [1] as [INTEGER] - grails.gorm.DetachedCriteria@57c4e7b2

grails.gorm.DetachedCriteria cannot be cast to java.lang.Integer. Stacktrace follows:
java.lang.ClassCastException: grails.gorm.DetachedCriteria cannot be cast to java.lang.Integer
            at grails.orm.HibernateCriteriaBuilder.invokeMethod(HibernateCriteriaBuilder.java:1587)
            at org.grails.datastore.gorm.GormStaticApi.withCriteria(GormStaticApi.groovy:282) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T06:49:16.493

我相信这`list`只是一个默认值，因为您可以在`each`类似的构造中使用它

```
trades.each {
    println it
} 
```

那是因为它实现了 Iterable。否则，您实际上必须使用`trades.list()`. 只是 using`trades`指的是 DetachedCriteria 对象。

```
def activities = Activities.withCriteria {
    'in'("tradeNumber", trades.list())
} 
```

# bash - 如何在shell脚本中每2分钟查找目录中是否有新文件？

> ID：13264529
> 
> 赞同：6
> 
> 时间：2012-11-07T06:48:51.240
> 
> 标签：bash, shell, unix

我有一个名为`/home/user/local`. 每隔两分钟左右，就会将一个新文件转储到该目录中。我需要每 2 分钟检查一次该目录，以查看是否有新文件/文件落入其中。如果有新文件，我需要将它的列表放入一个变量中以供以后使用。我该如何做这个shell脚本？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-07T08:29:13.750

```
#! /usr/bin/env bash

FILELIST=/tmp/filelist
MONITOR_DIR=/home/usr/local

[[ -f ${FILELIST} ]] || ls ${MONITOR_DIR} > ${FILELIST}

while : ; do
    cur_files=$(ls ${MONITOR_DIR})
    diff <(cat ${FILELIST}) <(echo $cur_files) || \
         { echo "Alert: ${MONITOR_DIR} changed" ;
           # Overwrite file list with the new one.
           echo $cur_files > ${FILELIST} ;
         }

    echo "Waiting for changes."
    sleep $(expr 60 \* 2)
done 
```

一种快速而肮脏的方式。:) 它将监视目录的更改，不仅是在转储新文件时，而且在某些文件丢失/删除时也是如此。

文件列表存储在变量中`$cur_files`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T06:51:18.617

`inotifywait`正是您正在寻找的：http: [//linux.die.net/man/1/inotifywait](http://linux.die.net/man/1/inotifywait)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T08:30:09.717

假设您的变量称为 $listOF

创建一个脚本：

```
listOfFiles=`ls -t /home/user/local`
for i in $listOfFiles
do
echo "$listOF" | grep $i
if [[ "$?" -eq "0" ]]
then
listOF=$listOF" "$i
fi
done 
```

并通过 cmd 将此脚本放入 crontab 中：crontab -e 格式：

```
1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59 * * * * <path to your script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T06:51:41.127

设置一个 cron 作业，该作业运行一个脚本，该脚本获取当前列表并将其与存储在某个文件中的旧列表进行比较。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-11-25T11:49:27.563

首先非常感谢leafei，我希望这很容易。[但是，对于我的设备来说，为循环编写临时文件对于我当前的项目](https://github.com/S0AndS0/Perinoid_Pipes)来说不够便携，并且我需要对受监视目录中可能发生的各种事情执行操作，所以这是我根据叶子的答案编写并在本地测试的脚本。注意格式可能在第一次发布时关闭...

```
#!/usr/bin/env bash
Var_monitor_dir="${1?No directory passed}"
Var_sleep_time="${2:-120}"
Var_diff_opts="--suppress-common-lines"
Func_parse_change(){
    _added_input="$(grep -E ">" <<<"${@}")"
    _removed_input="$(grep -E "<" <<<"${@}")"
    if [ "${#_added_input}" != "0" ]; then
            mapfile -t _arr_added <<<"${_added_input}"
            let _added_count=0
            until [ "${#_arr_removed}" = "${_added_count}" ]; do
                _current_path="${_arr_removed[${_added_count}]}"
                if [ -f "${_current_path}" ]; then
                    echo "# ${0##*/} detected added file: ${_current_path}"
                elif [ -d "${_current_path}" ]; then
                    echo "# ${0##*/} detected added directory ${_current_path}"
                elif [ -p "${_current_path}" ]; then
                    echo "# ${0##*/} detected added named pipe ${_current_path}"
                fi
                ## Ignore other added input and add to index counter
                let _added_count++
            done
            unset _added_count
    fi
    if [ "${#_removed_input}" != "0" ]; then
            mapfile -t _arr_removed <<<"${_added_input}"
            let _removal_count=0
            until [ "${#_arr_removed}" = "${_removal_count}" ]; do
                echo "# Removal detected: ${_arr_removed[${_removal_count}]}"
                let _removal_count++
            done
    fi
 }
 Func_watch_dir(){
    _current_listing=""
    while [ -d "${Var_monitor_dir}" ]; then
         _new_listing="$(ls "${Var_monitor_dir}")"
         _diff_listing="$(diff ${Var_diff_opts} <(echo "${_current_listing}") <(echo "${_new_listing}"))"
        if [ "${#_diff_listing}}" != "0" ]; then
            Func_parse_change "${_diff_listing}"
        fi
        _current_listing="${_new_listing}"
        sleep ${Var_sleep_time}
    done
}
if [ "${#@}" != "0" ]; then
     Func_watch_dir
     exit 0
else
     echo "${0##*/} needs a directory to monitor"
     exit 1
if 
```

假设将上述内容保存为`monitor_directory.sh`并且要监视的目录`/tmp`打开一个终端并输入`monitor_directory "/tmp"`（或`monitor_directory.sh "/tmp" "10"`在测试之间进行更快的更新）将启动检查更改的循环。然后打开第二个终端尝试输入以下内容并等待第一个终端更新

```
mkdir -p /tmp/test_dir
touch /tmp/test.file 
```

等待时间结束后，第一个终端应该报告一个文件和一个目录已经出现，如果你运行以下命令并再次等待它也会显示删除。

```
rmdir /tmp/test_dir
rm /tmp/test.file 
```

希望这会有所帮助。

# nosql - 我应该使用哪个键值数据库？

> ID：13264533
> 
> 赞同：2
> 
> 时间：2012-11-07T06:49:11.517
> 
> 标签：nosql, redis, hbase, berkeley-db, in-memory-database

我的应用程序将使用数百个表，每个表可以有数百万（4-5）个键值对。表之间不需要关系。

以下是我对表执行的操作。

1.  它的使用是内存缓存和持久存储的完美结合，容错并且能够从故障中恢复。
2.  非常频繁地更新特定键的值。单个线程为特定键执行此操作。
3.  需要根据值对表中的键进行排序。（常用）
4.  一些键值对插入。

有很多 No Sql 数据库，例如 Apache H-Base、Cassandra、Berkeley DB、Redis..etc 请建议我哪个最适合我的用例。系统要求是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T12:29:53.057

> 它的使用是内存缓存和持久存储的完美结合，容错并且能够从故障中恢复。

Redis 可能是目前最流行的（不仅仅是）K/V 内存数据存储解决方案。为了使其容错，您可以利用它的主从[复制](http://redis.io/topics/replication)功能。

> 非常频繁地更新特定键的值。单个线程为特定键执行此操作。

不确定“单个线程为特定键执行此操作”是什么意思，但 redis 的[设计速度非常快](http://redis.io/topics/benchmarks)。

> 需要根据值对表中的键进行排序。（常用）

Redis supports [sorted set](http://redis.io/commands#sorted_set) data structure.

> What are the system requirements?

As of amount of memory requirement I would recommend to read the [doc on memory optimization](http://redis.io/topics/memory-optimization).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:43:27.037

建议 Redis p3。需要一些冗余存储来解决排序集中的键。但是，这里还有一个问题：你有这么多的记忆吗？

# python - 搜索结果中的分离

> ID：13264534
> 
> 赞同：1
> 
> 时间：2012-11-07T06:49:18.460
> 
> 标签：python, django, django-templates, django-views

我是 django 和 python 的新手，我有视图函数，它从数据库中检索一些数据并将它们显示在页面上。但是有一个问题，所有数据都显示在一个页面上但是我需要分开，它必须在每页上显示 6 个数据，如果数据数量超过 6 个，用户可以在下一页阅读它们。我不知道该怎么做

# 我的观点是：

```
 def search1(request):
        if request.method == 'POST':
            form = SearchForm(request.POST)
            if form.is_valid():
                cd = form.cleaned_data
                books=data(cd)
                return render_to_response('result.html', {'books': books, 'form': form})
        else:
            form = SearchForm()
        return render_to_response('form.html', {'form': form}) 
```

# 我的模板：

```
 {% if books %}
    <p>Found {{ books|length }} book{{ books|pluralize }}.</p>
    <ul dir=rtl>
        {% for book in books %}
        <p>title:  {{ book.title }}</p>
        <p>price:  {{ book.price }}</p>
        {% endfor %}
    </ul>
{% else %}
    <p>No books matched your search criteria.</p>
{% endif %} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:52:04.957

看看[django 分页器](https://docs.djangoproject.com/en/dev/topics/pagination/?from=olddocs)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-07T08:57:11.280

我修改了使用分页器的代码，但是在结果页面中，当我单击下一步时，它再次显示我的搜索页面。问题是什么？看法：

```
def search1(request):
    if request.method == 'POST':
    form = SearchForm(request.POST)
        if form.is_valid():
        cd = form.cleaned_data
        book_list=data(cd)
        paginator = Paginator(book_list, 6)
        page = request.GET.get("page", 1)
        try:
            books = paginator.page(page)
        except (PageNotAnInteger, TypeError):
            # If page is not an integer, deliver first page.
            books = paginator.page(1)
        except EmptyPage:
            # If page is out of range (e.g. 9999), deliver last page of results.
            books = paginator.page(paginator.num_pages)

        return render_to_response('list.html', {"books": books})
else:
    form = SearchForm()
    return render_to_response('form.html', {'form': form}) 
```

模板 ：

```
 {% for book in books.object_list %}
    {# Each "contact" is a Contact model object. #}
    {{ book.full_name|upper }}<br />
    {{book.froshande}}
{% endfor %}

<div class="pagination">
    <span class="step-links">
        {% if books.has_previous %}
            <a href="?page={{ books.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ books.number }} of {{ books.paginator.num_pages }}.
        </span>

        {% if books.has_next %}
            <a href="?page={{ books.next_page_number }}">next</a>
        {% endif %}
    </span>
</div> 
```

# drupal - Drupal 网络表单不适用于匿名用户

> ID：13264537
> 
> 赞同：0
> 
> 时间：2012-11-07T06:49:39.140
> 
> 标签：drupal, drupal-7, drupal-forms, drupal-webform

我正在使用网络表单作为联系表单。此表单具有以下字段：用户名、电子邮件、电话、标题（选择框）、正文。作为经过身份验证的用户，我可以提交表单，但匿名用户无法提交表单。甚至，表单的验证也不起作用。我允许匿名用户。我可以通过 form_alter 提交表单吗？有没有办法解决这个问题？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T09:03:42.590

您能否检查一下您的 Drupal 站点中的权限设置页面，看看您是否再次向匿名用户授予了所有必需的权限？您可能错过了提交权限。

在您尝试以匿名用户身份提交相关表单后，还要检查您的站点 DBLog？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-17T11:27:35.997

您需要在网络表单中授予权限，只需转到该网络表单并单击表单设置选项卡，然后为匿名用户授予权限。

# c - 可怕的 strlcat 错误或隐藏的天才？

> ID：13264543
> 
> 赞同：0
> 
> 时间：2012-11-07T06:50:26.667
> 
> 标签：c, string

我被困在修复一些遗留的 RAID 代码（是的，我拉了最短的一根稻草）。

这是我找到的一段代码。

```
#define FLAG_LENGTH 256

#code
char str[FLAG_LENGTH-1]

strlcat(&str,source_ptr,FLAG_LENGTH); 
```

str 声明上方有一条评论说大小减少 1 是有充分理由的，但慷慨的评论作者没有提到“充分的理由”。

如果我正确理解 strlcat 的实现，无论如何它都会终止所有字符串，并且如果 256 会将其添加到大小为 255 的字符串（即最后一个索引 254）的第 256 个字符（即索引 255）中，则它会终止所有字符串。我们是否溢出了细绳？？或者这样做是否有一些隐藏的天才（纯粹根据评论询问）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T06:56:04.747

是的，这段代码是危险的错误。真的没什么好说的了。我猜有人不小心写了 -1 而不是 +1，但是数组的大小和传递给`strlcat`.

顺便说一句，我认为这种错误可以很好地说明为什么神奇的“安全”字符串接口不是灵丹妙药。编写可靠的代码不需要做白痴。语言或库功能不会保护您免受自己的愚蠢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-13T21:59:52.590

天哪，为什么人们不费心阅读文档？

如果您阅读 Miller/de Raadt 的原始论文，上面的代码应该是：

```
strlcat(src, source_ptr, sizeof(src)); 
```

# c++ - 声明类变量 C++

> ID：13264545
> 
> 赞同：0
> 
> 时间：2012-11-07T06:50:28.863
> 
> 标签：c++, yacc, lex

所以我完全失去了......

在我的代码中，我有

```
void Parser(FILE* file)
{
    Parser par(file);
    par.Parse();
} 
```

我在我的主函数中调用它，我 `Parser(file);` 得到的头文件（我包含在主文件中）看起来像：

```
class Parser: public Lexer
{
public:
    Parser(FILE* file):Lexer(file);
    int Parse();
}; 
```

我得到的错误是：

```
p02.cpp: In function 'void Parser(FILE*)':
p02.cpp:20: error: expected ';' before 'par'
p02.cpp:21: error: 'par' was not declared in this scope
make: *** [p02.o] Error 1 
```

我不明白的是为什么它在 par 之前需要一个分号。这不是该类变量的合法声明吗？

Edit2：将我的函数名称更改为不像类名那样的 Parser 并不能解决此问题。它确实给了我一个*额外的*错误，告诉我 Parser 没有在这个范围内声明，但是当我在函数声明的正上方添加包含 Parser 类的包含文件时，我看不到这是怎么回事。

编辑：我的文件 p02.cpp：

```
#include <stdio.h>
#include <stdlib.h>
#include <iostream>
#include <cstring>
#include <string>

#include "p02lex.h"
#include "y.tab.h"

using namespace std;

void Parser(FILE* file)
{
    Parser par(file);
    par.Parse();
}

int main(int argc, char* argv[])
{
    char fileName[255];

    switch(argc)
    {
            case 1:
                    cout << "Enter the input file name. ";
                    cin >> fileName;
                    break;
            case 2:
                    strcpy(fileName, argv[1]);
                    break;
            default:
                    cout << "Too many arguments!\n";
                    exit(1);
    }

    FILE* file = fopen(fileName, "r");
    Parser(file);
    fclose(file);

    return 0;
} 
```

p02lex.l:

```
#include "p02lex.h"

#define ID              257
...
#define PROGRAM         304

int TokenMgr(int t);
const char* getTokens(int tokenCode);

unsigned lineCount = 1, columnCount = 1;
%}

LETTER [a-z]|[A-Z]
DIGIT [0-9]

%%
// rules defined here, calling TokenMgr()
%%
int TokenMgr(int t)
{
/*      int tc = t;
    if (t == IDENTIFIER)
    {
            char s[1024];
            ToLower(s, yytext, strlen(yytext));
            tc = RW[s];
            if (tc == 0)
                    tc = t;
    }

    PrintToken(tfs, tc, line, col);
    col += yyleng; */ //JEG

    printf("Token:Code=%d Name=%10s line=%3u col=%3u Spelling=\"%s\"\n", t, getTokens(t), lineCount, columnCount, yytext);

    columnCount += yyleng;

    return /* tc */ 0; // JEG
}

Lexer::Lexer(FILE* file)
{
    yyin = file;
}

int Lexer::Scan(void)
{
    return yylex();
}

const char* getTokens(int tokenCode)
{
    switch(tokenCode)
    {
            case ID:
                    return "ID";
            ... // more cases, returning strings
            default:
                    return NULL;
    }
 } 
```

p02lex.h：

```
#ifndef p02lex_h
#define p02lex_h 1
#endif

int yylex(void);

class Lexer
{
public:
    Lexer(FILE* file);

    int Scan(void);
}; 
```

p02par.h：

```
#ifndef p02par_h
#define p02par_h 1
#endif

using namespace std;

#ifdef __cplusplus
extern "C"
#endif

int yyparse(void);

class Parser: public Lexer
{
public:
    Parser(FILE* file):Lexer(file){}

    void Parse();

    // int Scan(void);
}; 
```

p02par.y：

```
#include <stdio.h>

#include "p02lex.h"
#include "p02par.h"

void yyerror(const char* m);
%}

%token PROGRAM
%token ID
%token SEMICOLON

%%
program:
    PROGRAM ID SEMICOLON
    { printf("Stuff happens!\n"); }

%%
void yyerror(const char* m)
{
    printf("%s\n", m);
}

/*Parser::Parser(FILE* file):Lexer(file)
{
}*/

int Parser::Parse()
{
    return yyparse();
} 
```

p02制作：

```
#LEX = flex
#YACC = yacc -d

CC = g++
OBJ = p02.o p02par.o p02lex.o

p02:    ${OBJ}
    $(CC) -o p02 ${OBJ} -ll -ly

y.tab.h p02par.cpp:     p02par.y
    yacc -d -v p02par.y
    mv y.tab.c p02par.cpp

p02lex.cpp:     p02lex.l
    lex p02lex.l
    mv lex.yy.c p02lex.cpp

p02par.o:       p02par.cpp p02par.h
    $(CC) -c -g p02par.cpp

p02.o:  p02.cpp p02lex.h p02par.h
    $(CC) -c -g p02.cpp

p02lex.o:       p02lex.cpp p02lex.h y.tab.h
    $(CC) -c -g p02lex.cpp 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:53:26.640

您只能在构造函数*定义*中包含初始化列表，而不是构造函数声明，因此它必须后跟函数体（通常为空），而不是分号。名称冲突还有一点问题：

```
void Parser(FILE* file) // here you've defined Parser as the name of a function
{
    Parser par(file); // but here you're trying to use it as the name of a class.
    par.Parse();
} 
```

编辑：这是一些可以干净编译的代码，至少使用我方便的编译器：

```
#include <stdio.h>

class Lexer {
    FILE *infile;
public:
    Lexer(FILE *f) : infile(f) {}
};

class Parser : public Lexer {
public:
    Parser(FILE *f) : Lexer(f) {}
    void Parse() {}
};

void do_parse(FILE *file) {
    Parser p(file);
    p.Parse();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:52:08.457

那应该是：

`Parser(File* file):Lexer(file) {}`

等等，我检查了该代码，将函数重命名为：`void Parser(FILE *f)`其他名称。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T06:56:57.537

您需要限定`Parser`，因为该函数具有与类相同的标识符：

```
void Parser(FILE* file)
{
    class Parser par(file);
    par.Parse();
} 
```

您也可以重命名该函数。

您还需要大括号：

```
Parser(FILE* file):Lexer(file) {} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-11-07T06:53:12.380

改变

```
void Parser(FILE* file) 
```

至

```
Parser::Parser(FILE* file) 
```

构造函数没有返回类型。

# javascript - 如果 ？在重定向 url 中找到，然后更改 url

> ID：13264547
> 
> 赞同：0
> 
> 时间：2012-11-07T06:50:29.973
> 
> 标签：javascript, url, redirect

请看这个[jsfiddle。](http://jsfiddle.net/Pb5Sg/)

我已经为堆栈流开发了它。现在我只是有一点问题。

如果将被重定向的最终 url 包含`?`or `&` ，那么 应该使用 , 而不是 .. 任何人都可以帮忙`addQueryString`。 `addQueryString1`

对不起罗希特和蒂姆。我认为如果您直接在那里查看代码会更容易。但这是我的代码：

```
 // Plain Javascript

    var links = document.getElementsByTagName('a');

    for (var i = 0, max = links.length; i < max; i++) {
        var _href = links[i].href;
        var addQueryString = "?utm_source=tyroo&utm_medium=affiliate&utm_campaign=12june12_20percenteossoffer";
        var addQueryString1 = "&utm_source=tyroo&utm_medium=affiliate&utm_campaign=12june12_20percenteossoffer";

        if (_href.indexOf('gog.com') !== -1) {
            links[i].href = 'http://example.com/lnkurl=' + _href + encodeURIComponent(addQueryString);   
        }       
    }
​ 
```

它是用于通过会员网址重定向网页中的会员链接的代码，以便我们从用户发布的链接中赚取佣金。在我的代码中，gog.com 的任何链接都将被重定向为 [http://example.com/lnkurl=http://www.gog.com/%3Futm_source%3Dtyroo%26utm_medium%3Daffiliate%26utm_campaign%3D12june12_20percenteossoffer](http://example.com/lnkurl=http://www.gog.com/%3Futm_source%3Dtyroo%26utm_medium%3Daffiliate%26utm_campaign%3D12june12_20percenteossoffer)

现在我问你，如果链接是前的，gog.com/test?price=xyz 现在你看到链接本身包含一个？和 = 在里面。因此，根据我的脚本重定向的网址将变为： [http ://example.com/lnkurl=http://www.gog.com/test?price=xyz%3Futm_source%3Dtyroo%26utm_medium%3Daffiliate%26utm_campaign%3D12june12_20percenteossoffer](http://example.com/lnkurl=http://www.gog.com/test?price=xyz%3Futm_source%3Dtyroo%26utm_medium%3Daffiliate%26utm_campaign%3D12june12_20percenteossoffer)

这是行不通的。我想要做的是，如果 url 包含任何？或 & 或 = ，那么它应该使用 addQueryString1 而不是 addQueryString .. 并且如果可能的话，url中的内容从 ? 或 & 也应该被编码..

如果你能的话，请帮忙..谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:00:46.830

我认为您正在寻找一个 javascript 解决方案。如果是这样，你可以按照这个

```
if(url.indexOf("?") != -1)
{
  //? is present
} else    {
     //? is not present
} 
```

与 & 相同

# jquery - 如何根据在 jquery 中拆分的值选择多个选项？

> ID：13264548
> 
> 赞同：-1
> 
> 时间：2012-11-07T06:50:31.250
> 
> 标签：jquery, forms, split

我的代码有什么问题/缺失。我正在尝试使用从字符串连接的多个数据在选项中进行多项选择。

```
var nidText = "a;b;c;d"

var nidData = nidText.split(';');

$('#selectId option[value=' + nidData + ']').attr('selected', true); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T06:51:38.050

在您的代码中，`nidData`是一个数组！不是字符串。所以你需要使用`$.each`或一些循环功能。

```
$(document).ready(function(){
    var nidText = "a;b;c;d";
    var nidData = nidText.split(';');
    for (var nidDat in nidData)
        $('#selectId option[value="' + nidData[nidDat] + '"]').prop('selected', true);
}); 
```

### 小提琴：http: [//jsfiddle.net/fbCeL/](http://jsfiddle.net/fbCeL/)

# android - 从 ViewGroup 中删除并添加回来后无法单击 Android ListView？

> ID：13264552
> 
> 赞同：1
> 
> 时间：2012-11-07T06:50:46.267
> 
> 标签：android, listview, viewgroup, onitemclicklistener

我有一个视图 A，A 中有一个 ListView。

起初，我将 A 添加到 ViewGroup 中，一切正常。可以单击 ListView 中的项目，并且它会正确响应。

但是当我从 ViewGroup 中删除 A 并将另一个视图 B 添加到其中，然后删除 B 并将 A 添加回 ViewGroup 时，会发生奇怪的事情：无法单击 ListView 中的项目。视图A中的所有按钮都可以正常工作，ListView可以上下滚动，只有项目不能点击。如果我刷新 ListView，或者将其滚动超过一个屏幕，则可以再次单击这些项目。似乎只要重新生成项目，它就会再次起作用。有谁知道原因？

由于我在不同设备上做了更多测试，似乎这只发生在 Android 4.0.x 上（在我的测试中它是 4.0.4）。Android 2.x 和 4.1.x 似乎没有这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:55:54.767

重新添加 listView 后，尝试通知适配器一次，以便可以使用以下命令刷新它：

```
yourAdapter.notifyDataSetChanged(); 
```

# mongodb - Mongoexport 删除省略号

> ID：13264554
> 
> 赞同：2
> 
> 时间：2012-11-07T06:50:51.047
> 
> 标签：mongodb, mongoexport

我正在尝试使用此查询从 MongoDB 导出数据..

```
mongoexport -d dbName -c myCollection -f title,meta,contents --csv -o test_export.csv 
```

问题是，当我打开生成的 csv 文件时，内容字段数据有省略号并且没有得到确切的内容，我怎样才能删除这个省略号并获得确切的数据内容？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-16T01:16:09.880

2.0.7及以上版本已[解决此错误](https://github.com/mongodb/mongo/pull/260)

# google-app-engine - 在 Go 中的 GAE 的 memcache 中存储一个对象

> ID：13264555
> 
> 赞同：17
> 
> 时间：2012-11-07T06:50:52.093
> 
> 标签：google-app-engine, memcached, go

我想使用 Go 在 GAE 的内存缓存中存储一​​个对象。gae 文档仅显示如何在此处存储 [] 字节：[https ://developers.google.com/appengine/docs/go/memcache/overview](https://developers.google.com/appengine/docs/go/memcache/overview)

当然，有一些通用的方法可以将对象序列化为 []byte，通过这些方法可以完成我的任务。但是通过阅读memcache参考，我发现memcache Item中有一个“Object”：

```
// Object is the Item's value for use with a Codec.
Object interface{} 
```

这似乎是一种将对象存储在内存缓存中的内置机制。但是，gae 文档没有提供示例代码。

谁能给我举个例子？提前致谢

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-11-07T07:22:30.880

好吧，我只是想通了我自己。memcache pkg 有两个内置的 Codec：gob 和 json。只需使用其中一个（或者当然可以创建自己的编解码器）：

```
var in, out struct {I int;}

// Put in into memcache
in.I = 100 
item := &memcache.Item {
   Key: "TestKey",
   Object: in, 
}   
memcache.Gob.Set(c, item)  // error checking omitted for convenience

// retrieve the value
memcache.Gob.Get(c, "TestKey", &out)
fmt.Fprint(w, out)  // will print {100} 
```

谢谢大家

# javascript - jQuery Validate 插件：至少 1 个复选框，多个组，使用 data-foo 而不是 class 或 id？

> ID：13264562
> 
> 赞同：0
> 
> 时间：2012-11-07T06:51:17.853
> 
> 标签：javascript, jquery, jquery-validate

情况：页面上有多个表单，每个表单中有多组复选框。复选框看起来像：

```
<input type="checkbox" class="styled" id="$opt" name="$ID.$opt[]" value="$opt" > 
```

由于不相关但干扰的因素，我无法更改或添加到类或 id。我发现了这个难题的其他部分，但不确定如何使用它们，尤其是考虑到我想验证每个表单的多组复选框。

我试过这个

```
jQuery.validator.addMethod('validate-checkbox-oneormore', function (value) {
    return jQuery('.require-one:checked').size() != 0; }, 'need a value'); 
```

我把它放在实际的插件脚本下，就在文件中。在我验证的大部分时间里，我都会使用这个功能，所以它也可能是插件的一部分。

如何使用数据属性运行此验证？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:56:35.637

你是这个意思吗：

```
return jQuery('[data-foo=bar]:checked').size() != 0; 
```

见[小提琴](http://jsfiddle.net/barmar/CRVSx/1/)

更新：

您还需要一条规则，说明“checkone”方法应该在某个表单字段上运行：

```
$(function() {
    $("#form1").validate();
    $("#form1 input[data-foo=bar]").rules("add", {
        checkone: true
    });
});​ 
```

查看我对您的[小提琴的更新](http://jsfiddle.net/barmar/ceUkK/8/)

# c# - 即使在配置文件中使用 .NET 4.0 后，nunit 代理也会挂起

> ID：13264573
> 
> 赞同：3
> 
> 时间：2012-11-07T06:51:59.763
> 
> 标签：c#, nunit, resharper

我正面临 nunit 的问题。

当我运行单元测试并关闭 nunit 应用程序时，应用程序会以显着延迟关闭，并且 nunit86.exe 进程仍保留在内存中。我需要杀死它以通过更改再次构建代码。

当我使用 ReSharper 运行单元测试用例时，我遇到了同样的问题。

在网上搜索后，我遇到了[这个](https://stackoverflow.com/questions/4303421/nunit-2-5-8-lots-of-nunit-agent-exe)和[这个](https://bugs.launchpad.net/nunitv2/+bug/602761)解决方案。

我在配置文件中进行了必要的更改，发现应用程序立即关闭，但弹出“Nunit 代理停止工作”。我每次都必须关闭它。

这真的很痛苦，因为我们也在 CC.NET 上使用 nunit。

对此的任何解决方案将不胜感激。

我使用了以下版本的 Nunit 但没有成功

1.  NUnit 2.5.5
2.  NUnit 2.5.9
3.  NUnit 2.5.10
4.  NUnit 2.6.2

我使用以下版本的 Nunit 进行了尝试。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-08-16T10:16:18.467

我在使用 nunit 2.6 时遇到了这个问题，为了让它工作，我修改了**nunit-console.exe.config**如下：

```
<startup useLegacyV2RuntimeActivationPolicy="true">
    <!-- Comment out the next line to force use of .NET 4.0 -->
    <!-- <supportedRuntime version="v2.0.50727" /> commented out as it is causes nunit to hang. -->
    <supportedRuntime version="v4.0.30319" /> 
</startup> 
```

**注意 v2 运行时的注释**

# virtual-machine - 如何在 qnx 操作系统中加载 devnp-ncm.so？

> ID：13264577
> 
> 赞同：0
> 
> 时间：2012-11-07T06:52:09.887
> 
> 标签：virtual-machine, qnx, qnx-neutrino

我`650SP1`在`VMplayer`. 我想加载`devnp-ncm.so`驱动程序。

我尝试过以下事情 -

1) #`io-pkt-v4-hc -d /lib/dll/devnp-ncm.so path=/dev/io-usb/io-usb -ptcpip verbose &`

2) # `io-pkt-v4-hc &` #`mount -T io-pkt devnp-ncm.so`

请给我一些建议如何加载它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T10:39:40.567

我使用了以下命令并且它有效 -

`# io-pkt-v4-hc -d ncm pnp verbose &`

或者您可以指定路径，即`#io-pkt-v4-hc -d ncm pnp path=/lib/dll/devnp-ncm.so verbose &`

但要确保顺序。这很重要。如果你在“路径”之后给出“pnp”，那么它将不起作用。

# solr - solr 中针对不同文档类型的单个模式与多个模式

> ID：13264580
> 
> 赞同：2
> 
> 时间：2012-11-07T06:52:17.927
> 
> 标签：solr, filter, schema

在为不同的文档类型创建多个模式与创建单个合并模式之间做出决定时，一般的经验法则是什么。

例如，如果我要索引产品集合和文章集合，应遵循哪些一般规则来确定是否应在一个模式中创建它们（然后使用 solr fq 过滤器查询来过滤文档类型）或在两个模式中创建。重叠字段的数量？需要跨两种文档类型返回数据并且还能够过滤到单一类型？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:34:52.283

可能没有任何经验法则，更多的是偏好。

如果你有实体

*   您想在回复中一起显示的内容或
*   他们之间有关系

将它们作为单一索引会更好。

您可以拥有不同的实体并希望在查询时加入它们，这将有助于在单个核心中。（尽管有了最新的发展，我认为跨核心也是可能的）

如果您的实体彼此完全无关，最好将它们作为单独的核心，以便您以不同的方式维护它们。
多核可以让您更灵活地配置核心级别的安全性、可变的增量索引和每个核心的分配……
多核可能会使用更多的资源，具体取决于复制、缓存等术语

# mysql - 使用两个条件获取计数的嵌套查询

> ID：13264581
> 
> 赞同：2
> 
> 时间：2012-11-07T06:52:18.390
> 
> 标签：mysql, sql, subquery

我有这3张桌子，

```
tbl_1-
ip  |isp    |infection
----------------------
1   |aaaa   |malware
2   |bbbb   |malware
3   |cccc   |ddos
3   |cccc   |trojan
4   |dddd   |ddos

tbl_2-
ip  |isp    |infection
----------------------
1   |aaaa   |malware
3   |cccc   |ddos
4   |dddd   |trojan
5   |eeee   |trojan
6   |ffff   |other

tbl_3-
ip  |isp    |infection
----------------------
1   |aaaa   |ddos
6   |ffff   |
2   |bbbb   |other 
```

我需要得到如下结果，

```
result-
ip  |isp    |infection  |ipCount    |ispCount   |infectionCount
--------------------------------------------------------------
1   |aaaa   |malware    |3          |3          |2
1   |aaaa   |ddos       |3          |3          |1
2   |bbbb   |other      |2          |2          |1
2   |bbbb   |malware    |2          |2          |1
3   |cccc   |ddos       |3          |3          |2
3   |cccc   |trojan     |3          |3          |1
4   |dddd   |ddos       |2          |2          |1
4   |dddd   |trojan     |2          |2          |1
5   |eeee   |trojan     |1          |1          |1
6   |ffff   |other      |2          |2          |1
6   |ffff   |           |2          |2          |1

ipCount, ispCount -> count of matching ip and isp
    eg-there are 3 records with ip = 1 and isp = aaaa

infectionCount -> count of matching infections per ip and isp
    eg-there are 2 infections that says malware where ip = 1 and isp = aaaa 
```

我想我需要一个嵌套查询，但我不知道如何计算两个条件；你能帮我吗？

**编辑**：我试过的代码，

```
SELECT ip, isp, infection, count(ip), count(isp), count(infection)
FROM (

SELECT ip, isp, infection
FROM tbl_1
UNION ALL
SELECT ip, isp, infectionType
FROM tbl_2
UNION ALL
SELECT ip, isp, infection
FROM tbl_3
)x

GROUP BY ip, isp, infection 
```

但它没有给出我想要的结果，因为我不知道如何在一个查询中进行 2 种类型的计数

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T07:33:21.183

您需要对列`infection`和 ( `ip`& `ipc`) 进行不同的分组，然后使用如下子查询将它们加入：

```
SELECT t1.ip, t1.isp, t2.infection, t1.ipc, t1\. ispc, t2.incount
FROM
    (SELECT ip, isp, infection, COUNT(ip) as ipc, COUNT(isp) as ispc
    FROM (
       SELECT ip, isp, infection
       FROM tbl1
       UNION ALL
       SELECT ip, isp, infection
       FROM tbl2
       UNION ALL
       SELECT ip, isp, infection
       FROM tbl3
       )x
     GROUP BY ip, isp) t1
JOIN
    (SELECT ip, isp, infection, COUNT(infection) as incount
     FROM (
       SELECT ip, isp, infection
       FROM tbl1
       UNION ALL
       SELECT ip, isp, infection
       FROM tbl2
       UNION ALL
       SELECT ip, isp, infection
       FROM tbl3
       )x
    GROUP BY ip, isp,  infection)t2
ON t1.ip = t2.ip
ORDER BY ip, isp, infection Desc 
```

### [看到这个 SQLFiddle](http://sqlfiddle.com/#!2/56190/5)

**注意：**我认为您想要的输出是错误的，因为：

1.  `Table3`没有`infection`for`ip=6`但它在你的输出中
2.  `infection` `other`您的输出中缺少（而不是`malware`）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:01:40.710

您可以将所有表合并在一起，然后对列进行求和并按特定列分组。

```
SELECT ip, isp, infection, COUNT(ip) AS ipcount, COUNT(isp) AS ispcount, COUNT(infection) AS infectioncount
FROM
  (
    SELECT ip, isp, infection
    FROM table_1
    UNION ALL
    SELECT ip, isp, infection
    FROM table_2
    UNION ALL
    SELECT ip, isp, infection
    FROM table_3
  )
GROUP BY ip, isp, infection
ORDER BY ip, isp, infection; 
```

# java - 如何将时区转换为指定格式？

> ID：13264583
> 
> 赞同：0
> 
> 时间：2012-11-07T06:52:32.603
> 
> 标签：java, timezone

我的java程序想要TimeZone`GMT(+0530)`而不是得到`IST`
实际上我的java代码......

```
 String date1=null;
      String formate="IST";
      SimpleDateFormat sourceFormat = new SimpleDateFormat("z");

       SimpleDateFormat gmtFormat = new SimpleDateFormat("Z");
       date1 = gmtFormat.format(sourceFormat.parse(formate));
       System.out.println(date1);//output +0530 
```

问题1：但实际上我想要这种格式`GMT(+0530)`

问题2：上面的代码只通过IST​​给+0530，任何区域`EAT,PST`也只给+0530，...但是时间会改变`PST = (GMT - 8:00)` 请给建议...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:56:21.470

要打印格式，例如`GMT(+0530)` 使用模式`'GMT('Z')'`而不是`Z`.

```
SimpleDateFormat gmtFormat = new SimpleDateFormat("'GMT('Z')'"); 
```

# php - 无法从令牌 URL + Twitter API 检索有效的令牌响应

> ID：13264585
> 
> 赞同：3
> 
> 时间：2012-11-07T06:52:39.080
> 
> 标签：php, zend-framework, twitter, twitter-oauth

我在我的 zend 框架应用程序中使用 twitter 进行登录。但是在通过 twitter 进行身份验证后，它显示以下错误：

```
Message:Could not retrieve a valid Token response from Token URL: /oauth/access_token?oauth_consumer_key=xxxxxxxxxxxxxxx&oauth_nonce=xxxxxxxxxxxxxxxxxxxx&oauth_signature_method=HMAC-SHA1&oauth_timestamp=1352270857&oauth_token=xxxxxxxxxxxxx&oauth_version=1.0
&oauth_verifier=xxxxxxxxxxxxxxxxxxxxx&oauth_signature=wv5gdop77NA9BeZI7ilQcEFsqGH8CeR4%3D Invalid / expired Token 
```

以下是我的代码：

```
 public function twittercallbackAction() {
            $path = realpath(APPLICATION_PATH . '/../library/');
            set_include_path($path);
            $config = array(
                "callbackUrl" => "http://" . $_SERVER['HTTP_HOST'] . "/register/twittercallback",
                "siteUrl" => "http://twitter.com/oauth",
                "consumerKey" => "xxxxxxxxxxxxxx",
                "consumerSecret" => "xxxxxxxxxxxxxxxxxxxx"
            );

            $consumer = new Zend_Oauth_Consumer($config);
            if (!empty($_GET) && isset($_SESSION['TWITTER_REQUEST_TOKEN'])) {            
                $token = $consumer->getAccessToken($_GET, unserialize($_SESSION['TWITTER_REQUEST_TOKEN']));
                // Now that we have an Access Token, we can discard the Request Token
                // get users timeline            
                // $_SESSION['TWITTER_REQUEST_TOKEN'] = null;
            } else {
                // Mistaken request? Some malfeasant trying something?
                exit('Invalid callback request. Oops. Sorry.');
            }
} 
```

我正在谷歌上搜索这个问题，但没有得到任何解决方案。

我该如何处理这个问题。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-22T03:19:10.890

我测试了您的代码，我假设您是从[http://framework.zend.com/manual/1.12/en/zend.oauth.introduction.html](http://framework.zend.com/manual/1.12/en/zend.oauth.introduction.html)获得的，它工作正常。这里有几件事要检查：

*   您的消费者应用程序密钥/秘密是否有效？
*   您的服务器是否设置了正确的日期/时间？
*   您生成请求令牌的代码是什么？

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-29T10:50:27.053

最后我自己解决了.... :-)

问题是 twitter 更新了他们的 api url：

从

```
http://twitter.com/statuses/user_timeline.json? 
```

到

```
https://api.twitter.com/1/statuses/user_timeline.json? 
```

它得到修复。

# javascript - 通过 javascript 调用小程序函数

> ID：13264589
> 
> 赞同：1
> 
> 时间：2012-11-07T06:52:56.733
> 
> 标签：javascript, struts2, applet

我需要通过javascript调用一个applet方法

我的小程序方法是这样的

```
public class MD5encryption extends Applet {

private static final long serialVersionUID = 1L;

public static String doTheEncryption(final String strText) throws NoSuchAlgorithmException, NoSuchProviderException {

    String strResult = null;
    /* do the encryption*/
    return strResult;
  }
} 
```

我的jsp文件是这样的

```
<%@ taglib prefix="s" uri="/struts-tags"%>
<script src= "http://www.java.com/js/deployJava.js"></script>
<script>
    <!-- applet id can be used to get a reference to the applet object -->
    var attributes = { id:'md5appletId', code:'com.package.encryptionMD5.MD5encryption',  width:1, height:1} ;
    var parameters = {jnlp_href: 'parameters.jnlp'} ;
    deployJava.runApplet(attributes, parameters, '1.6');
</script>
<div>
    <div>
        <s:form action="Login" validate="true">
            <s:textfield name="userName" label="User ID" maxlength="10"
                required="true" onkeypress="return onlyNumbersChars(event)"
                onchange="showDob(this,true)" />
            <s:password name="password" label="Password" required="true"
                maxlength="14" />
            <tr><td><div>
                        <input type="submit" value="Login" onclick="encrypt()"/> <a href="LoginLink.html">Forgot Password?</a>
            </div></td></tr>
        </s:form>
    </div>
</div>

<script language="javascript">
    function encrypt(){
        var password = document.getElementsByName('password')[0];

        var md5OfPass = md5appletId.doTheEncryption(password.value);
        password.value = md5OfPass;        

    }
</script> 
```

我还在使用与小程序位于同一位置的 jnlp 文件

```
<?xml version="1.0" encoding="UTF-8"?>
 <jnlp spec="1.0+" codebase="" href="">
    <applet-desc name="Applet Takes Params" main-class="MD5encryption"
     width="800" height="50">
         <param name="paramStr" value="parameter String"/>
         <param name="paramInt" value="22"/>
    </applet-desc>     
</jnlp> 
```

我是否在这里遗漏了什么，因为我无法访问小程序的功能

# jqgrid - jqgrid中内联Nav的使用

> ID：13264593
> 
> 赞同：1
> 
> 时间：2012-11-07T06:53:03.723
> 
> 标签：jqgrid

我正在使用 Jqgrid。我在其中使用 inine nav 添加新行。我的内联导航代码

```
jQuery("#list").jqGrid('inlineNav','#Pager',
{
 editParams : {
   extraparam : {
    extraParamId : function() {
            return allExtraId;
    }
   }
 }
}); 
```

所以我的问题是，当我使用 inlineNav 时，此代码 navGrid 是否需要

```
jQuery("#list").jqGrid('navGrid','#Pager', {
 edit : false,
 add : false    
}); 
```

请回复..提前谢谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T07:18:46.607

在调用 of`navGrid`之前确实需要调用 of `inlineNav`。原因是寻呼机默认只创建三个部分：左、中和右。作为`<td>`分页器中表格行的元素的部分。例如，如果您不打电话`navGrid`，您的寻呼机左侧将是空的，如下所示：

```
<td align="left" id="pager_left"></td> 
```

`navGrid`例如，如果您以表格形式致电

```
$("#grid").jqGrid("navGrid", "#pager",
    {add: false, edit: false, del: false, search: false, refresh: false}); 
```

寻呼机的左侧部分将更改为

```
<td align="left" id="pager_left">
    <table class="ui-pg-table navtable"
           style="float: left; table-layout: auto;"
           border="0" cellspacing="0" cellpadding="0">
        <tbody><tr></tr></tbody>
    </table>
</td> 
```

当前的实现`inlineNav`仅使用[navButtonAdd](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3acustom_buttons)向必须在之前创建的导航器中添加其他按钮。您将如何从该方法用于在寻呼机内查找导航器表的代码[行中看到。](https://github.com/tonytomov/jqGrid/blob/v4.4.1/js/grid.formedit.js#L1993)仅当找到导航器时，该方法才会在其中添加其他按钮。`navButtonAdd``$(".navtable", "#pager")``navButtonAdd`

所以你真的需要先**在寻呼机中创建导航栏，然后再调用`inlineNav`**.

# java-me - 通过 j2me 覆盖内置移动警报或静默发送 SMS

> ID：13264594
> 
> 赞同：1
> 
> 时间：2012-11-07T06:53:04.760
> 
> 标签：java-me, nokia

我设计了一个应用程序，它发送一些 SMS 以执行操作，在每条消息发送时，它都会显示来自手机“发送短信”和“发送短信”的内置警报。有没有办法覆盖这个烦人的消息并在那里显示我自己的警报？我试图在那里发出警报，但是当涉及到发送 SMS 移动显示它自己在顶部，完成该过程后显示我的警报！该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-19T11:48:48.343

你需要使用 nokia sdk，你还需要一点技巧。[请看这个](http://www.mobile-j.de/snipsnap/comments/J2ME/Sending+SMS+from+MIDlet+without+user+intervention)

我不知道这项工作是不是最新型号，但希望是最好的。

# javascript - pop 显示滚动条（垂直）

> ID：13264602
> 
> 赞同：0
> 
> 时间：2012-11-07T06:53:28.933
> 
> 标签：javascript, jquery, wordpress, twitter-bootstrap, modal-dialog

我在引导主题中使用 wordpress。我的问题是我在主页上打开了一个弹出窗口，它在 mozila 中工作正常，但在 chrome 中它显示垂直滚动条。plzzzz 伙计们帮助我。

这是我的弹出 div 代码：

```
<div id="openHouse" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="overflow-y:hidden">
  <div class="modal-body">
<button type="button" class="close well" data-dismiss="modal">×</button><br />
    <a href="http://pearlacademy.com/open-house/"><img src="http://pearlacademy.com/wp-content/uploads/2012/11/Open-House-2.jpg" /></a>
  </div>
</div>​ 
```

和 jquery 文件：

```
<script>
jQuery(document).ready(function($) {
    $('#openHouse').modal('show');
});
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:25:10.743

如果您不知道您使用的是什么 jquery 插件，您可以通过 css 添加宽度和高度。谢谢

# iphone - 在应用加载时缓存 html 页面

> ID：13264607
> 
> 赞同：1
> 
> 时间：2012-11-07T06:54:03.363
> 
> 标签：iphone, html, caching, uiwebview

是否可以在方法中缓存一个 html 页面，`applicationDidFinishLauchingOptions()`以便在我想实现`UIWebView`加载该 html 页面时可以避免延迟？任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:04:11.453

您可以在加载应用程序本身时获取数据，然后将其转换为`NSString`或保留为`NSData`. 之后，当您想要加载您使用的页面时 -

对于`NSString`-

```
 NSString *htmlString =  // string content
[webView loadHTMLString:htmlString baseURL:baseURLString]; 
```

对于`NSData`-

```
NSData *htmlData = // data content
[webView loadData: MIMEType:@"" textEncodingName:@"" baseURL:@""]; 
```

# php - PHP：在 XML 中搜索字符串

> ID：13264612
> 
> 赞同：1
> 
> 时间：2012-11-07T06:54:28.120
> 
> 标签：php, xml

我尝试下面的搜索代码，但它只显示第一个子节点。我的代码中是否缺少某些内容？

----目录.xml----

```
<?xml version="1.0" encoding="UTF-8"?>
<Catalog>
    <Category>
        <Name>CAT1</Name>
        <Location>
            <Room>Alpha</Room>
        </Location>
        <Location>
            <Room>Bravo</Room>
        </Location>  
        <Location>
            <Room>Charlie</Room>
        </Location>  
    </Category>
    <Category>
        <Name>CAT2</Name>
        <Location>
            <Room>Delta</Room>
        </Location>  
        <Location>
            <Room>Eagle</Room>
        </Location>  
        <Location>
            <Room>Falcon</Room>
        </Location>  
    </Category>
</Catalog> 
```

----arr0.php----

```
<?php
$catalog = simplexml_load_file("catalog.xml");
$category = $catalog->Category;

foreach($category->Name as $name)
{
    $menu = (string)$name;
    $i = 0;
    if ($menu == "CAT1" )
{
        echo $category->Location->Room[$i];
        $i++;       
}
else 
{
        echo "No result";
}
}
?> 
```

- - - - -输出 - - - - -

Α

* * *

布拉沃和查理从展示中消失了。需要有人建议我在哪里遗漏了什么？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:59:56.410

尝试将您的代码修改为：

```
echo $category->Location[$i]->Room; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:12:21.830

我想这就是你想要的

```
<?php
$catalog = simplexml_load_file("catalog.xml");
$category = $catalog->Category;
$found = false;
foreach($category as $c)
{
    $menu = (string) ($c->Name);
    if ($menu == "CAT1" )
    {
        foreach ($c->Location as $loc)
        {
            echo $loc->Room;
        }
        $found = true; break;
    }
}
if (!$found)
{
    echo "No result";
}
?> 
```

`break;`如果您可以拥有多个具有已搜索名称元素的类别，请删除该语句。

# android - 无法获得我发送的正确数据

> ID：13264613
> 
> 赞同：0
> 
> 时间：2012-11-07T06:54:37.620
> 
> 标签：android

我的代码是：

```
String str= (char)255 + (char)255 +"1" ;
byte[] sendbuf = str.getBytes();
outputPacket = new DatagramPacket(sendbuf,sendbuf.length,remoteIP,2280);

logSocket.send(outputPacket); 
```

我得到的结果是**“0x35 0x31 0x30 0x31”**

但我想要的是：**0xff 0xff 0x31**

这个怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:03:31.123

您`str`首先添加两个`char`s，所以基本上是这样的：

```
String str = (char)(255 + 255) + "1"; // 5101 
```

你想要的是（类似的）这个：

```
String str = (char) 255 + "" + (char) 255 + "1"; 
```

或者，使用`String.format`：

```
String str = String.format("%c%c%d", 255, 255, 1); 
```

# blackberry-10 - BlackBerry 10 Dev Apha Simulator 大小问题

> ID：13264616
> 
> 赞同：3
> 
> 时间：2012-11-07T06:54:53.003
> 
> 标签：blackberry-10

我想和BB做点魔法。所以我决定使用 BlackBerry Cascades。为此，我下载了 Native SDK (772 MB) 和 Simulator (242 MB) 和 Photsjop 插件。我安装了 Native SDk 和模拟器，并在 Vm 中打开了 Simualtor。

直到这里没有问题。但是当模拟器打开时，模拟器的大小太大了，就像有滚动条看到完整的模拟器一样。如何根据 vmware 大小修复模拟器的大小。

我更改了 Controllers.exe 中的值，但没有区别。所以请告诉我，如何解决这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T13:13:16.890

您好您可以根据您的显示器屏幕尺寸调整 Vmware 模拟器的大小。以下是该步骤。1.转到安装了模拟器Vmware的位置（在我的情况下：C:\Users\\Documents\Virtual Machines\BlackBerry10Simulator-BB10_0_06）

1.  转到“控制器”文件夹

2.  运行“controller.exe”

3.  选择连接 > 连接

4.  输入模拟器的 IP 地址并按下 Connect（确认屏幕底部显示“Connected to 192.168.xxx.xxx”）

5.  转到设备 > 更改缩放级别；输入 40% 或百分比，然后应用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T08:34:54.023

有时控制器无法按预期工作。
我使用以下方式来改变模拟器的缩放。**使用带有登录名/密码devuser/devuser**的 telnet 连接到模拟器。然后将命令其中 zoom_value 是所需缩放的百分比值。
**`ves-zoom <zoom_value>`**

查看[模拟器配置](http://developer.blackberry.com/devzone/develop/simulator/simulator_configuring.html)以澄清。

# c# - 在特定文件夹中插入所选项目

> ID：13264620
> 
> 赞同：0
> 
> 时间：2012-11-07T06:55:16.357
> 
> 标签：c#, winforms, create-directory

我有 2 个按钮（Button1 - 浏览；Button2 - 上传）和 1 个文本框

这是场景。当我单击浏览时，它将打开一个窗口并浏览特定项目。所选项目将显示在文本框中。

```
private void Browse_Click(object sender, EventArgs e)
{
    btnSample.Title = "Sample File Upload";
    btnSample.InitialDirectory = @"c:\";
    btnSample.Filter = "TIF|*.tif|JPG|*.jpg|GIF|*.gif|PNG|*.png|BMP|*.bmp|PDF|*.pdf|XLS|*.xls|DOC|*.doc|XLSX|*.xlsx|DOCX|*.docx";
    btnSample.FilterIndex = 2;
    btnSample.RestoreDirectory = true;
    if (btnSample.ShowDialog() == DialogResult.OK)
    {
        textBox1.Text = btnSample.FileName;
    }
} 
```

当我单击上传按钮时，文本框中的文件将位于创建的文件夹中。我已完成创建文件夹。但我的问题是如何在文件夹中插入选定的文件。

```
private void button4_Click(object sender, EventArgs e)
{
    string path = @"C:\SampleFolder\NewFolder";
    if (!Directory.Exists(path))
    {
        Directory.CreateDirectory(path);
        MessageBox.Show("Successfully Created New Directory");
    }
    else
    {
        MessageBox.Show("Filename Exist");
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:00:14.270

```
var sourceFilePath = @"C:\temp\file.txt";
var destFilePath= @"C:\otherFolder\file.txt"; 
```

如果要[移动](http://msdn.microsoft.com/en-us/library/system.io.file.move.aspx)文件：

```
File.Move(sourceFilePath, destFilePath); 
```

如果要[复制](http://msdn.microsoft.com/de-de/library/system.io.file.copy%28v=vs.80%29.aspx)文件

```
File.Copy(sourceFilePath, destFilePath); 
```

容易吧？当然，您必须根据问题调整路径...

# cocoa - 在一个类的 2 个自定义视图中分别绘制

> ID：13264624
> 
> 赞同：0
> 
> 时间：2012-11-07T06:55:32.237
> 
> 标签：cocoa, interface-builder, views, draw

在 IB 中，将 2 个自定义视图放入一个窗口。我看不出有什么办法可以给他们单独的名字。在 Inspector-Info 中，我必须在下拉菜单中为它们使用相同的名称，即类名。我试过了

```
DrawRect:  NSRect bounds = [self bounds];       
[[NSColor greenColor] set]; 
[NSBezierPath fillRect:bounds]; 
```

它用绿色填充了两个自定义视图。但我想在每个自定义视图中独立地填充、绘制等。如何分别处理每个视图？多个自定义视图，稍后。还是 Cocoa 每个类只需要一个视图？

这可能是微不足道的，但谷歌和这里的类似问题列表并没有提出任何接近的结果。关于多个视图控制器有很多，但我不需要切换视图。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T07:14:04.447

IB 将向您显示您可以分配给对象的类的名称。如果您只有一个自定义类（例如“myCustomClass”），那么它只会在下拉菜单中显示该类。

如果您只想使用一个类，我认为解决您的问题的最佳方法是将绘图代码放在两个单独的函数中，并为每个视图分配一个 IBOutlet，然后从控制器类中调用该函数。

```
//Add this to your interface
NSNumber *myColor;

//Add/Edit the following functions
- (void)drawRect:(NSRect)aRect
{
    //Some code...
    if ([myColor intValue]) [self drawGreen];
    else [self drawRed];
    //Some code...
}

- (void)drawGreen
{
    NSRect bounds = [self bounds];       
    [[NSColor greenColor] set]; 
    [NSBezierPath fillRect:bounds];
}

- (void)drawRed
{
    NSRect bounds = [self bounds];       
    [[NSColor redColor] set]; 
    [NSBezierPath fillRect:bounds];
}

- (void)drawRedOrGreen:(int)aColor
{
    myColor = [NSNumber numberWithInt:aColor];
} 
```

您必须将以下两行添加到控制器的界面

```
 IBOutlet myCustomClass *customView1;
    IBOutlet myCustomClass *customView2; 
```

你必须设置每个视图的颜色。这将在第一次加载时设置它。

```
- (void)awakeFromNib
{
    [customView1 drawRedOrGreen:1]; //Green
    [customView2 drawRedOrGreen:0]; //Red
} 
```

这样每个视图的颜色都会不同。

另一种解决方案是创建两个单独的自定义类（例如“myCustomClass1”和“myCustomClass2”），它们将具有自己的绘图代码......

# delphi - TComponent 实例的句柄

> ID：13264626
> 
> 赞同：1
> 
> 时间：2012-11-07T06:55:49.077
> 
> 标签：delphi, winapi, delphi-2009

我有一个`TComponent`类的实例，需要通过 WinAPI 调用与相应的控件进行交互。

为了做到这一点，我需要一个由`TComponent`实例表示的控件的句柄。

我怎样才能得到那个句柄`TComponent`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T07:05:27.057

尝试将您的 TComponent 实例转换为 TWinControl。

*如果它返回有效*句柄，则未经测试，但它返回合理的数字。

```
 procedure TForm1.Button1Click(Sender: TObject);
   var
     i: integer;
     mycontrol: TWinControl;
   begin
     Memo1.Lines.Clear;
     for i := 0 to ComponentCount - 1 do
       if Components[i] is TWinControl then
          begin
            mycontrol := TWinControl(Components[i]);
            Memo1.Lines.Add(IntToStr(mycontrol.Handle));
          end;
   end; 
```

# winforms - 如何将项目添加到绑定数据源组合框？

> ID：13264627
> 
> 赞同：1
> 
> 时间：2012-11-07T06:55:50.957
> 
> 标签：winforms, c#-4.0, combobox, datasource

嗨，我是 C# 新手。我尝试了以下方式将新项目添加到我绑定的 ComboBox 中，但它不会给出任何结果。是否可以向绑定的 ComboBox 添加新项目（这里的问题`ID`是`Bigint`数据类型，但我想添加`Select ID`）？如果可以，请提供一段代码

```
 try
        {
            objSqlExecute.OpenConnection();
            string strQuery = objQueryManager.GetEmployeeRecords();
                  //Add Extra Items to combo Box
            cmbEmployeeID.Items.Add("Select Id");

            DataTable dtEmployee = objSqlExecute.GetRecordExecution(strQuery);
                 // DataRow dtNew = dtEmployee.NewRow();
                // dtNew["ID"] = "Select ID";
                // dtNew["FName"] = "";
            //dtEmployee.Rows.InsertAt(dtNew, 0);

            cmbEmployeeID.DataSource = dtEmployee;
            cmbEmployeeID.DisplayMember = "ID";
            cmbEmployeeID.ValueMember = "FName";
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T11:44:29.407

```
try
    {
        objSqlExecute.OpenConnection();
        string strQuery = objQueryManager.GetEmployeeRecords();
              //Add Extra Items to combo Box            

        DataTable dtEmployee = objSqlExecute.GetRecordExecution(strQuery);                 

        cmbEmployeeID.DataSource = dtEmployee;
        cmbEmployeeID.DisplayMember = "ID";
        cmbEmployeeID.ValueMember = "FName";

        cmbEmployeeID.Items.Insert(0, "None Selected");
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T14:22:28.310

1.  您是否尝试过查询以确保它返回值？返回多条记录，单条还是没有？
2.  您想随机添加一个新项目吗？或者您是否可以选择一次插入所有项目？

您可以尝试添加`toString()`转换`BigInt`吗？

注意：[这里的arcticle](http://www.codeproject.com/Articles/2496/How-to-set-values-into-ComboBox-Items)提供了使用sql 将新项目添加到组合框的见解。查看您发布的问题，查看如何在这种情况下使用**ListItems**的示例，您可以参考[Web 链接。](http://www.codeproject.com/Articles/15857/Add-Item-to-Binded-Combo-Box)

# spring - Spring Security - 使用切入点的全局方法安全性不起作用

> ID：13264630
> 
> 赞同：3
> 
> 时间：2012-11-07T06:55:56.080
> 
> 标签：spring, spring-security, spring-aop

我想在我的 Web 应用程序中应用方法级别的安全性，以便只有授权用户才能访问这些服务层方法。

有两种方法可以实现这一点。

`@Secured`1) 用注解和在 dispatcher-servlet.xml 文件中用配置 ( )来注解我的服务层方法`<security:global-method-security secured-annotations="enabled" />`。

但这在我的情况下会花费很多时间，因为已经创建了太多的服务类和方法，所以找到方法并注释它们不是一个好方法。

2) 为方法级别的安全性定义一个切入点表达式，该表达式将自动检测`@SecuredAdmin`在我的服务中具有我的自定义注释的方法并使用角色保护它们`ROLE_ADMIN`。

在我的情况下，选项 1) 在我尝试测试时工作得很好。而且没有问题。但是当我尝试使用以下配置的选项 2) 时，我无法启动我的应用程序。

```
<security:global-method-security>
        <security:protect-pointcut access="ROLE_ADMIN" expression="execution(@com.xxx.yyy.zzz.services.SecuredAdmin * *.*(..))"/>
    </security:global-method-security> 
```

当我尝试启动服务器时，出现以下异常。

```
java.lang.IllegalArgumentException: error annotation type patterns are only supported at Java 5 compliance level or above
    org.aspectj.weaver.tools.PointcutParser.parsePointcutExpression(PointcutParser.java:302)
    org.aspectj.weaver.tools.PointcutParser.parsePointcutExpression(PointcutParser.java:279)
    org.springframework.security.config.method.ProtectPointcutPostProcessor.postProcessBeforeInitialization(ProtectPointcutPostProcessor.java:94)
    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:394)
    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1448)
    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)
    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
    org.springframework.context.support.AbstractApplicationContext.initMessageSource(AbstractApplicationContext.java:773)
    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:452)
    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:631)
    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:588)
    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:645)
    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:508)
    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:449)
    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:133)
    javax.servlet.GenericServlet.init(GenericServlet.java:160)
    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
    org.apache.catalina.ha.tcp.ReplicationValve.invoke(ReplicationValve.java:333)
    org.apache.catalina.ha.session.JvmRouteBinderValve.invoke(JvmRouteBinderValve.java:219)
    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1001)
    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)
    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
    java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    java.lang.Thread.run(Unknown Source) 
```

我已经尝试了所有可能的方法来将 pom 文件和 eclipse 项目属性中的代码合规级别更改为 1.6。

我正在使用 Spring-Security 3.0 和 aspectj 相关库如下。

spring-aop-3.1.0.RELEASE.jar

spring-aspects-3.1.0.RELEASE.jar

aspectjrt-1.6.5.jar

aspectjweaver-1.6.5.jar

请在这方面帮助我。问我您是否需要任何进一步的信息。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T09:19:43.083

您必须配置方面编织器以使用 java 1.6 合规级别。在构建插件部分的 pom.xml 中添加类似的内容。

```
<plugin>
   <groupId>org.codehaus.mojo</groupId>
   <artifactId>aspectj-maven-plugin</artifactId>
   <version>1.4</version>
   <executions>
      <execution>
         <goals>
            <goal>compile</goal>
            <goal>test-compile</goal>
         </goals>
       </execution>
   </executions>
   <configuration>
      <source>1.6</source>
      <target>1.6</target>
      <encoding>UTF-8</encoding>
      <aspectLibraries>
         <aspectLibrary>
            <groupId>org.springframework</groupId>
            <artifactId>spring-aspects</artifactId>
         </aspectLibrary>
      </aspectLibraries>
   </configuration>
</plugin> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T23:08:26.633

我在一个较旧的项目中遇到了这个问题 - 当我从 jdk6 切换到 jdk7 时，当应用程序启动时我遇到了：

```
'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource' 
while setting bean property 'transactionAttributeSource'; 
nested exception is org.springframework.beans.factory.BeanCreationException: 
Error creating bean with name 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0': 
Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: 
 error annotation type patterns are only supported at Java 5 compliance level or above 
```

我不想要一个纯粹的 maven 解决方案，因为在开发过程中，我通过 IDE (Intellij IDEA) 在 Tomcat 中运行该应用程序。

最后，我刚刚将 aspectjweaver 依赖项升级到 1.7.2（它是 1.5.4）

```
<dependency>
   <groupId>org.aspectj</groupId>
   <artifactId>aspectjweaver</artifactId>
   <version>1.7.2</version>
</dependency> 
```

现在一切似乎都很好。

# javascript - 如何在使用 javascript api 的页面加载期间发布 Facebook 墙？

> ID：13264631
> 
> 赞同：-1
> 
> 时间：2012-11-07T06:55:57.947
> 
> 标签：javascript, asp.net, facebook-javascript-sdk, facebook-java-api

下面的代码完美运行.. 单击 fb:login 按钮时，它会将消息发布到已登录人的 facebook 墙上。

但是，我希望这在页面加载后立即发生，而不是在单击按钮后发生。如果用户已经登录，则该消息应张贴在墙上。我怎样才能做到这一点 ？

```
<div id="fb-root"></div>
<script src="http://connect.facebook.net/en_US/all.js#appId=XXXXXXXXXXXXXXX&amp;xfbml=1"></script>

<fb:login-button show-faces="false" width="200" max-rows="1" perms="publish_stream" onlogin="postonwall()">Click to Publish Below Content</fb:login-button> 

<script>
function postonwall()
{
    FB.api('/me/feed', 'post',
    {
        message: 'A good reference for APIs',
        link: window.location.href,
        name:'API Reference',
        picture:'http://www.demo.lookmywebpage.com/publish-on-facebook-wall/Google-Twitter-Facebook.jpg',
        description:'Demo Facebook Post'
    }, function(response) {
        if (!response || response.error) {
            alert('Oops! User Denied Access');
        } else {
            alert('Success: Content Published');
        }
    });
} 
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T15:31:12.013

> 但是，我希望这在页面加载后立即发生，而不是在单击按钮后发生。

所以你想惹恼你的用户……？

> 如果用户已经登录，则该消息应张贴在墙上。我怎样才能做到这一点 ？

使用 FB.getLoginStatus，如果用户已经连接，则发帖。

# javascript - 随机定位 jsPlumb 的窗口/对话框

> ID：13264636
> 
> 赞同：9
> 
> 时间：2012-11-07T06:56:13.567
> 
> 标签：javascript, jquery, graph, jquery-ui-dialog, jsplumb

有没有办法随机定位使用 jsPlumb 创建的所有对话框/窗口？

如果我有很多我想在这些对话框中表示的项目，但问题是我需要通过给它们一个位置来将它们放在屏幕上，但是由于有很多项目，这将是一项乏味的工作，更不用说这个了项目列表可能会增长/缩小。

查看 jsPlumb 演示，使用“top”和“left”CSS 属性给对话框指定位置：

```
#window3 { top:2em; left:2em; }
#window4 { top:2em; left:32em; } 
```

有没有办法将这些对话框随机放置在屏幕上但它们之间有一定的距离？如果有一种方法可以将对话框放置在屏幕上，这样箭头和对话框之间的交叉就会最小，那就更好了。

编辑：

不完全是最好的解决方案，但一个非常好的解决方案：

[http://forums.lndb.info/showthread.php?tid=43](http://forums.lndb.info/showthread.php?tid=43)

[https://github.com/lndb/jsPlumb_Liviz.js](https://github.com/lndb/jsPlumb_Liviz.js)（这里提供了两个demo）

[http://lndb.info/light_novel/diagram/Hidan_no_Aria](http://lndb.info/light_novel/diagram/Hidan_no_Aria)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-07T07:50:39.277

第一个解决方案是使用这个库：[https ://github.com/lndb/jsPlumb_Liviz.js](https://github.com/lndb/jsPlumb_Liviz.js)

> 连接元素的 jsPlumb 库与 Liviz.js 的组合，用于定位这些元素。
> 
> 换句话说：使用 jsPlumb 进行 UI（连接 div），使用 Liviz.js 定位这些元素（div）。

我发现的另一个解决方案是使用“dagre - Directed graph rendering” javascript 库：[https ://github.com/cpettitt/dagre](https://github.com/cpettitt/dagre)

> Dagre 是一个 JavaScript 库，可以轻松地在客户端布局有向图。
> 
> 该库的主要优先事项是：
> 
> 完全客户端计算的布局。如果客户端布局不是您的要求，那么有很棒的、功能丰富的替代方案，例如 graphviz。
> 
> 速度。Dagre 必须能够快速绘制中等大小的图形，这可能会以无法采用更优化或更精确的算法为代价。
> 
> 渲染不可知论。Dagre 只需要非常基本的信息来布置图，例如节点的尺寸。您可以使用您喜欢的任何技术自由渲染图形。我们在一些示例中使用了 D3，如果您打算使用 CSS 和 SVG 进行渲染，我们强烈推荐它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T11:52:34.663

如果我正确理解了这个问题，那么您会担心组件的初始定位，并且您正在寻找通用解决方案（与组件的大小和组件的数量无关）。

*关注点分离*：初始组件定位的任务可以独立于 jsPlump 来看待：

对于我的示例，我选择具有以下要求的算法：

*   将组件均匀地放置在屏幕上，将视口宽度作为水平包含

*   组件的边距应该可以通过 CSS 调整

*   组件必须保持可拖动以保持 jsPlumb 功能

在我的解决方案中，我利用了这样一个事实，即通过相对定位，可以很容易地将组件分布在网格中。给包含 DIV 一个初始类“initial”，我为组件定义了以下 CSS：

```
#demo.initial .component.window {
    position:relative;
    float:left;
    margin:60px;
} 
```

在将 DOM 组件呈现为网格之后，我将它们的 CSS 位置从相对更改*为绝对*（通过删除容器的“初始”类并在其样式属性中应用组件的偏移量）。

```
$(document).ready(function() {
    $(".component.window").each(function(i) {
        var left = $(this).offset().left;
        var top = $(this).offset().top;
        $(this).css({
            left: left,
            top: top
        });
    });
    $("#demo.initial").removeClass("initial");
}); 
```

这是[我的 jsbin 的链接](http://jsbin.com/enoven/6/edit)

**编辑：**这是[**jsfiddle 的链接**](http://jsfiddle.net/martyk/uBsrR/5/)

组件的初始位置将根据目标框架的宽度而有所不同。

# android - 无法实例化活动 java.lang.ClassNotFoundException

> ID：13264640
> 
> 赞同：6
> 
> 时间：2012-11-07T06:56:25.580
> 
> 标签：android

我在开发周期中看到过几次以下错误，现在我刚刚收到错误报告。我不知道是什么原因造成的。在阅读了本网站上有关此问题的类似问题后，我仔细检查了我的 AndroidManifest，一切看起来都很好。关于什么可能导致此异常的任何想法？

```
java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.jerrellmardis.ridecta/com.jerrellmardis.ridecta.ui.StopTimesActivity}: java.lang.ClassNotFoundException: com.jerrellmardis.ridecta.ui.StopTimesActivity
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1983)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
at android.app.ActivityThread.access$600(ActivityThread.java:130)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:137)
at android.app.ActivityThread.main(ActivityThread.java:4745)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
at dalvik.system.NativeStart.main(Native Method)
Caused by: java.lang.ClassNotFoundException: com.jerrellmardis.ridecta.ui.StopTimesActivity
at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:61)
at java.lang.ClassLoader.loadClass(ClassLoader.java:501)
at java.lang.ClassLoader.loadClass(ClassLoader.java:461)
at android.app.Instrumentation.newActivity(Instrumentation.java:1053)
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1974)
... 11 more 
```

另一件需要注意的事情是，我正在使用[https://github.com/petedoyle/android-support-v4-googlemaps](https://github.com/petedoyle/android-support-v4-googlemaps)上的 android-support-v4-googlemaps 库，它允许我在片段中嵌入 MapView（以及与 ActionBarSherlock 库）。这个异常似乎是一个依赖问题，我不确定它是否与我使用上述库的方式有关。

这是清单文件：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.jerrellmardis.ridecta"
    android:installLocation="internalOnly"
    android:versionCode="11"
    android:versionName="1.0.2">
    <uses-sdk
        android:minSdkVersion="10"
        android:targetSdkVersion="16"/>
    <uses-permission android:name="android.permission.INTERNET"/>
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
    <uses-permission android:name="android.permission.READ_PHONE_STATE"/>
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
    <uses-permission android:name="android.permission.VIBRATE"/>
    <uses-permission android:name="android.permission.WAKE_LOCK"/>
    <uses-permission android:name="com.android.vending.BILLING"/>
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"/>
    <application
        android:name=".RideCtaApplication"
        android:allowBackup="true"
        android:backupAgent=".backup.RideCtaBackupAgentHelper"
        android:hardwareAccelerated="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:logo="@drawable/logo">
        <uses-library android:name="com.google.android.maps"/>
        <activity
            android:name=".ui.HomeActivity"
            android:configChanges="orientation|keyboardHidden|screenSize"
            android:label="@string/app_name"
            android:theme="@style/Theme.RideCta.LogoOnly">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>
                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
        </activity>
        <activity
            android:name=".ui.BusDirectionsActivity"
            android:label="@string/app_name"
            android:theme="@style/Theme.RideCta"/>
        <activity
            android:name=".ui.StopsActivity"
            android:label="@string/app_name"
            android:theme="@style/Theme.RideCta"/>
        <activity
            android:name=".ui.StopTimesActivity"
            android:label="@string/app_name"
            android:theme="@style/Theme.RideCta.Split"
            android:uiOptions="splitActionBarWhenNarrow"/>
        <activity
            android:name=".ui.TrainDirectionsActivity"
            android:label="@string/app_name"
            android:theme="@style/Theme.RideCta"/>
        <activity
            android:name=".ui.LiveMapActivity"
            android:label="@string/app_name"
            android:theme="@style/Theme.RideCta.Transparent"/>
        <activity
            android:name=".ui.ServiceAlertsActivity"
            android:label="@string/app_name"
            android:theme="@style/Theme.RideCta"/>
        <activity
            android:name=".ui.SearchActivity"
            android:exported="true"
            android:launchMode="singleTop"
            android:theme="@style/Theme.RideCta">
            <intent-filter>
                <action android:name="android.intent.action.SEARCH"/>
                <category android:name="android.intent.category.DEFAULT"/>
            </intent-filter>
            <meta-data
                android:name="android.app.searchable"
                android:resource="@xml/searchable"/>
        </activity>
        <activity
            android:name=".ui.PreferenceActivity"
            android:label="@string/app_name"
            android:theme="@style/Theme.Preference"/>
        <activity
            android:name=".ui.LegacyPreferenceActivity"
            android:label="@string/app_name"
            android:theme="@style/Theme.Preference"/>
        <activity
            android:name="com.google.ads.AdActivity"
            android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"/>
        <receiver android:name=".receiver.ReminderAlarmReceiver"/>
        <receiver android:name=".receiver.ReminderBootReceiver">
            <intent-filter>
                <action android:name="android.intent.action.BOOT_COMPLETED"/>
            </intent-filter>
        </receiver>
        <receiver android:name="net.robotmedia.billing.BillingReceiver">
            <intent-filter>
                <action android:name="com.android.vending.billing.IN_APP_NOTIFY"/>
                <action android:name="com.android.vending.billing.RESPONSE_CODE"/>
                <action android:name="com.android.vending.billing.PURCHASE_STATE_CHANGED"/>
            </intent-filter>
        </receiver>
        <service android:name=".service.ReminderService"/>
        <service android:name="net.robotmedia.billing.BillingService"/>
        <meta-data
            android:name="android.app.default_searchable"
            android:value=".ui.SearchActivity"/>
        <meta-data
            android:name="com.google.android.backup.api_key"
            android:value="<REMOVED>"/>
        <provider
            android:name=".provider.SearchProvider"
            android:authorities="com.jerrellmardis.ridecta.provider.SearchProvider"/>
    </application>
</manifest> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-06-21T14:13:37.560

右键单击您的项目文件夹 => 属性 => Java 构建路径 => 订购和导出 => 如果未选中，请选中“Android Private Libraries”框。做一个干净的。它有效！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T07:21:32.207

系统无法找到您的类文件。因此，清单文件中的类名规范有问题，或者您的类存在于您可以指定的某些不同的包中。

尝试清理和重建您的代码。有时我们需要在更新代码时进行清理。

也没有人可以通过阅读你的 logcat 来找到错误。所以最好发布你的清单文件和所有的类名。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-14T14:47:09.693

根据我的经验，如果您看到与无法加载您绝对*知道*的资源或类相关的奇怪异常，则问题可能与将活动推得太接近其内存限制有关。在开发过一些需要大量内存的应用程序之后，我可以说我已经看到许多“在野外”报告的异常情况与没有找到我知道的正确包含在生产构建中的资源有关。

一般来说，在这些情况下，堆栈跟踪永远不会 100% 相同，因此如果您始终看到相同的缺失类，则可能是您的构建或项目配置有错误。进行全面重建（正如其他人也建议的那样）可能会有所帮助。

否则，我建议使用[Crittercism 之](http://www.crittercism.com/)类的服务，以便在崩溃发生之前获取有关设备的更准确信息。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-07T07:03:59.333

将活动添加到清单文件为..

```
<activity android:name=".FSRRemarks" >
        </activity> 
```

如果您已经添加了它，请尝试清理构建您的项目，然后运行

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-15T12:22:02.923

请按照以下步骤操作：-

1> 从参考库中删除外部 jar。不要在此处再次添加它们。

2> 在您的项目中创建另一个文件夹“libs”。

3> 将您的 jar 复制并粘贴到“libs”文件夹中。

4> 清理并重新运行应用程序。

希望它有效。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-18T06:57:20.513

您在哪里复制了 android-support-v4-googlemaps.jar 文件？在 actionbarsherlock/library/libs 里面？还是在 your_app/libs 中？

仔细检查您是否没有包含两个不同版本的支持库（一个带有地图，另一个没有地图）

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-07T07:00:31.260

如果您已经将 Activity 添加到 AndroidManifest，并且该 Activity 确实存在于您的项目中，我建议您只需清理并重建然后重试。但是我遇到了另一个奇怪的问题，就是Ecplise构建的apk文件会崩溃并报“ClassNotFoundException with applicaion”的问题，而ant构建的apk文件可以正常运行，没有问题。

所以也许你也可以尝试使用ant来构建它，通过命令“android update project -p.”。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-11-07T07:03:44.687

为避免此类错误，请在需要创建新类时按照以下步骤操作；

1.  双击包资源管理器中的 AndroidManifest.xml。
2.  单击清单编辑器的“应用程序”选项卡
3.  单击“应用程序节点”标题下的“添加..”（屏幕左下角）
4.  从弹出的对话框中的列表中选择 Activity（如果有选项，则要创建一个新的顶级元素）
5.  单击“Attributes for”标题（窗口右下方）下的“Name*”链接，为新活动创建一个类。
6.  当您从新课程对话框中单击完成时，它将带您进入新的活动课程，以便您开始编码。

只需从您的活动中复制您的代码，删除文件并像这样重新创建它，所有与配置相关的问题都会得到解决。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-11-24T19:12:52.210

看来我已经通过不使用 android-support-v4-googlemaps 库解决了这个问题。我将我的应用程序更改为在 Fragment 中使用 Map 的 ImageView，然后在用户单击地图图像后使用普通的旧 MapActivity。自从这样做以来，我没有注意到任何 RuntimeExceptions。

# ruby-on-rails - 从属无效在特定情况下失败

> ID：13264641
> 
> 赞同：1
> 
> 时间：2012-11-07T06:56:28.960
> 
> 标签：ruby-on-rails, activerecord, ruby-on-rails-3.1

这是我拥有的两个模型。

一(:id, :two_nd_id) 和二(:id, :nd_id)

**协会**

1）一个belongs_to :two, :foreign_key => 'two_nd_id', :primary_key => 'nd_id'

2) 两个 has_many :one, :foreign_key => 'two_nd_id', :primary_key => 'nd_id', :dependent => :nullify

现在，当我尝试删除 Two 的对象时，它会引发错误，

```
ActiveRecord::StatementInvalid: Mysql2::Error: Unknown column 'one.nd_id' in 'where clause': 
UPDATE `one` SET `two_nd_id` = NULL WHERE `one`.`two_nd_id` = 'xxxxx' AND `one`.`nd_id` IS 
NULL 
```

我不明白为什么`'one'.'nd_id' IS NULL`要检查！帮帮我。提前致谢

注意 - :dependent => :destroy 工作正常！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-21T06:00:34.700

请先说出您对每个模型的主键到底是什么。

除此之外：

首先，我认为你不需要`:primary_key => 'nd_id'`

其次，你应该有`Two has_many :ones`，注意“s”

第三，为什么两个外键都指定为“two_nd_id”？其中之一是错误的。

# java - 如何在 Android 中将 Pull 集成到 RefreshListview

> ID：13264644
> 
> 赞同：0
> 
> 时间：2012-11-07T06:56:39.473
> 
> 标签：java, android

```
public class AndroidJSONParsingActivity extends ListActivity {

    // url to make request
    private static String url = "http://api.androidhive.info/contacts/";

    // JSON Node names
    private static final String TAG_CONTACTS = "contacts";
    private static final String TAG_ID = "id";
    private static final String TAG_NAME = "name";
    private static final String TAG_EMAIL = "email";
    private static final String TAG_ADDRESS = "address";
    private static final String TAG_GENDER = "gender";
    private static final String TAG_PHONE = "phone";
    private static final String TAG_PHONE_MOBILE = "mobile";
    private static final String TAG_PHONE_HOME = "home";
    private static final String TAG_PHONE_OFFICE = "office";

    static final int MENU_MANUAL_REFRESH = 0;
    static final int MENU_DISABLE_SCROLL = 1;
    static final int MENU_SET_MODE = 2;

    private LinkedList<String> mListItems;
    //private PullToRefreshView mPullRefreshListView;

    // contacts JSONArray
    JSONArray contacts = null;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        // Hashmap for ListView
        ArrayList<HashMap<String, String>> contactList = new ArrayList<HashMap<String, String>>();

        // Creating JSON Parser instance
        JSONParser jParser = new JSONParser();

        // getting JSON string from URL
        JSONObject json = jParser.getJSONFromUrl(url);

        try {
            // Getting Array of Contacts
            contacts = json.getJSONArray(TAG_CONTACTS);

            // looping through All Contacts
            for (int i = 0; i < contacts.length(); i++) {
                JSONObject c = contacts.getJSONObject(i);

                // Storing each json item in variable
                String id = c.getString(TAG_ID);
                String name = c.getString(TAG_NAME);
                String email = c.getString(TAG_EMAIL);
                String address = c.getString(TAG_ADDRESS);
                String gender = c.getString(TAG_GENDER);

                // Phone number is agin JSON Object
                JSONObject phone = c.getJSONObject(TAG_PHONE);
                String mobile = phone.getString(TAG_PHONE_MOBILE);
                String home = phone.getString(TAG_PHONE_HOME);
                String office = phone.getString(TAG_PHONE_OFFICE);

                // creating new HashMap
                HashMap<String, String> map = new HashMap<String, String>();

                // adding each child node to HashMap key => value
                map.put(TAG_ID, id);
                map.put(TAG_NAME, name);
                map.put(TAG_EMAIL, email);
                map.put(TAG_PHONE_MOBILE, mobile);

                // adding HashList to ArrayList
                contactList.add(map);
            }
        } catch (JSONException e) {
            e.printStackTrace();
        }

    }

} 
```

这是我的解析代码，现在我可以在我的项目中放入 JsonParser 类。

```
public class PullToRefreshListActivity extends Activity {

static final int MENU_MANUAL_REFRESH = 0;
static final int MENU_DISABLE_SCROLL = 1;
static final int MENU_SET_MODE = 2;

private PullToRefreshView mPullRefreshListView;
private ArrayAdapter<String> mAdapter;
private static String url = "http://api.androidhive.info/contacts/";
/** Called when the activity is first created. */

private LinkedList<String> mListItems;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.pull_to_refresh_listview);

    mPullRefreshListView = (PullToRefreshView) findViewById(R.id.pull_refresh_list);

    // Set a listener to be invoked when the list should be refreshed.
    mPullRefreshListView.setOnRefreshListener(new OnRefreshListener() {
        @Override
        public void onRefresh() {
            mPullRefreshListView.setLastUpdatedLabel(DateUtils
                    .formatDateTime(getApplicationContext(),
                            System.currentTimeMillis(),
                            DateUtils.FORMAT_SHOW_TIME
                                    | DateUtils.FORMAT_SHOW_DATE
                                    | DateUtils.FORMAT_ABBREV_ALL));

            // Do work to refresh the list here.
            new GetDataTask().execute();
        }
    });

    ListView actualListView = mPullRefreshListView.getRefreshableView();

    mListItems = new LinkedList<String>();
    mListItems.addAll(Arrays.asList(mStrings));

    mAdapter = new ArrayAdapter<String>(this,
            android.R.layout.simple_list_item_1, mListItems);

    // You can also just use setListAdapter(mAdapter)
    actualListView.setAdapter(mAdapter);
}

private class GetDataTask extends AsyncTask<Void, Void, String[]> {

    @Override
    protected String[] doInBackground(Void... params) {
        // Simulates a background job.
        try {
            Thread.sleep(2000);
        } catch (InterruptedException e) {
        }
        return mStrings;
    }

    @Override
    protected void onPostExecute(String[] result) {
        mListItems
                .addFirst("Added after refresh..New Version Coming soon J-elly Bean");
        mAdapter.notifyDataSetChanged();

        // Call onRefreshComplete when the list has been refreshed.
        mPullRefreshListView.onRefreshComplete();

        super.onPostExecute(result);
    }
}

private String[] mStrings = { "A-stro", "B-ender", "C-upcake", "E-clair",
        "F-royo", "G-ingerbread", "H-oneycomb", "I-ce Cream Sandwich ",
        "Android Versions From iamvijayakumar.blogspot.com" }; 
```

}

这是我所做的 PullToRefreshListview 的虚拟示例。现在我想集成，以便我可以在 ListView 中显示数据并使用 Pull To Refresh。你能帮我如何整合吗？我将在哪里放置用于解析的代码？请帮我 。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:11:14.023

在虚拟示例中，您通过使用以下用于使用 Hashmap 列表设置数据来简单地替换适配器创建。TAG_ID 等被用作列。创建一个名为 row 的 xml，并将 4 个 textview 放入行布局中，并为它们命名，如下所示，我在 int 数组中使用了这些名称。然后将此适配器设置为listview。

```
mAdapter= new SimpleAdapter(this, mylist, R.layout.row,
new String[] {TAG_ID, TAG_NAME, TAG_EMAIL,TAG_PHONE_MOBILE}, new int[] 
   {R.id.tvtagid, R.id.tvtagname, R.id.tvtagemail,R.id.tvtagphone}); 
```

在上面的适配器中，mylist 是您的 HashMap 对象的 Arraylist。

# c# - MVC3 在与项目列表相同的页面上显示编辑视图

> ID：13264645
> 
> 赞同：0
> 
> 时间：2012-11-07T06:56:41.143
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3, partial-views

我有一个交易清单。当我单击其中一个时，我希望能够在列表右侧显示编辑表单（填充了所选项目的数据）。有任何想法吗？

下面是显示交易列表的部分视图。

```
@model IEnumerable<BudgetPlus.Models.Transaction>
@{
    ViewBag.Title = "Index";
}
<p>
    @Html.ActionLink("Create New", "Create", null, new { @class = "button-link" })
</p>
<table>
    <thead>
        <tr>
            <th class="column-Date">Date</th>
            <th class="column-Description">Description</th>
            <th class="column-Category">Category</th>
            <th class="column-Amount">Amount</th>
            <th class="action-button"></th>
            <th class="action-button"></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Date)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Description)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Category.DisplayName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Amount)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.Id })
                </td>
                <td>
                    @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                </td>
            </tr>
        }
    </tbody>
</table>
<div>
    @Html.EditorForModel("Edit")
</div> 
```

这就是我的 TransactionController 中的编辑方法的样子。

```
 public ActionResult Edit(int id)
    {
        Transaction transaction = db.Transactions.Find(id);
        ViewBag.CategoryId = new SelectList(db.Categories, "Id", "DisplayName", transaction.CategoryId);
        return View(transaction);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:40:22.247

实现这一点的最简单方法可能是使用 Ajax.Actionlink 助手。

在你的 for 循环中有这个而不是 Html.Actionlink：

```
@Ajax.ActionLink("Edit", "Edit", new { id=item.Id }, new AjaxOptions { UpdateTargetId = "editor", HttpMethod = "Get", InsertionMode = InsertionMode.Replace }); 
```

在桌子的右侧：

```
<div id="editor"></div> 
```

然后有一个用于编辑事务的部分视图，它将被呈现到 id 为“editor”的 div 中。您正在使用 EditorForModel 助手，所以我假设您已经有一个部分视图进行编辑。

在您的操作方法中返回部分视图：

```
return PartialView("YourPartialView", transaction); 
```

# c# - 通过 c# 代码访问 windows 控制面板项（小程序）

> ID：13264646
> 
> 赞同：1
> 
> 时间：2012-11-07T06:56:43.077
> 
> 标签：c#, wpf, windows, controlpanel, windows-search

我是新手，我有一个小任务。我想访问我可以在我的窗口中访问的`control panel items`、 执行`search`等。`display their name, description and task lists`类似于 Windows 资源管理器搜索的功能。

这就是我到目前为止所做的。我按照[这里](http://www.codeproject.com/Articles/6105/Enumerate-and-Host-Control-Panel-Applets-using-C)的方法，我可以访问系统文件夹中的 cpl 文件。但它们并不是所有的 cpl 文件。因此，我的结果最终成为所需结果集的子集。

此外，通过访问`cpl`文件，我没有得到对`task list`我的搜索操作有价值的其他详细信息。请查看图片以获得我想要的结果![在此处输入图像描述](../Images/91c024d7ee625b157eab7880b3bf36a8.png)

`display`当我在控制面板资源管理器中搜索时，会出现此结果。

我还应该尝试什么？有人可以指导我吗？

先感谢您。

# iphone - 如何在 iphone 中滑动照片库图像，如分页

> ID：13264649
> 
> 赞同：1
> 
> 时间：2012-11-07T06:57:04.227
> 
> 标签：iphone

我是 iphone 开发的新手。任何人都可以告诉我，我怎样才能`scroll galley photos`像折叠视图一样一张一张地显示图像。

通过折叠视图，我的意思是折叠应该像 Flipboard 应用程序那样工作。与所做的相反`Flip-board`，视图通过从底部到顶部翻转屏幕视图（反之亦然）来改变，我想创建类似的屏幕视图更改，但发生从右到左（反之亦然），其中图像（在图库）从中心折叠以显示下一个图像。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T08:04:29.727

您可以创建自己的动画。请检查以下网址

[https://github.com/mpospese/MPFlipViewController](https://github.com/mpospese/MPFlipViewController)

对于翻转板： [https ://github.com/Reefaq/FlipView](https://github.com/Reefaq/FlipView)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T08:26:09.437

你可以检查这个 github 代码我已经在我的项目中实现了它并且它的工作正常 [https://github.com/kejinlu/PagedFlowView](https://github.com/kejinlu/PagedFlowView)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T08:29:21.940

你应该用 UIPageController 使用 UIScrollView 我用[这个](http://www.iosdevnotes.com/2011/03/uiscrollview-paging/)代码它对我有用:)

# google-plus - 退出时的环聊 API 事件

> ID：13264650
> 
> 赞同：2
> 
> 时间：2012-11-07T06:57:16.230
> 
> 标签：google-plus, hangout

我创建了一个环聊 API，该 API 通过从我的应用程序发送带有环聊 URL 等的 ajax 请求，从我的服务器向某些用户发送邀请。

现在我需要退出时的环聊事件，以便我可以对我的服务器进行另一个回调，指示特定的环聊已关闭。

我知道这听起来很奇怪。[我在https://developers.google.com/+/hangouts/api/gapi.hangout](https://developers.google.com/+/hangouts/api/gapi.hangout)上环顾四周，但没有收到任何此类事件。

我可以通过其他方式调整它以获得退出通知吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T15:59:01.803

我认为这已经在谷歌论坛上得到了回答。简短的回答是不，目前没有检测到环聊退出的事件。

您可以让您的应用程序定期向您的服务器发送心跳，一旦您检测到超时，您就可以断定环聊已停止。

另一种方法可能是在您的环聊应用程序中实现一个 onbeforeunload 处理程序，并使用它在每次参与者离开或最终参与者离开时将 Ajax 调用发送回您的服务器。您可以从 API 获取参与者计数，也可以使用[参与者更改事件](https://developers.google.com/+/hangouts/api/gapi.hangout#gapi.hangout.ParticipantsChangedEvent)。不确定如果最后一个用户通过关闭窗口退出视频群聊，participantChanged 事件是否会触发，这也可能是一条探索路线。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-26T02:39:39.770

+1 布雷特对心跳所说的话。我还会通过仅在有一个参与者时启动心跳来进行优化。每个人都在同一时间参加聚会是很少见的。

该死的太阳耀斑！

# .net - HTTP POST 方法 - 调用类

> ID：13264652
> 
> 赞同：0
> 
> 时间：2012-11-07T06:57:54.227
> 
> 标签：.net, vb.net, asp.net-mvc-4

## 控制器：

```
Public Class TheColorNameRequestClass
    Inherits System.Web.Mvc.Controller

    ' This method will handle GET'
    Function TheGET() As ActionResult
        Return View()
    End Function

    ' This method will handle POST'
    <HttpPost()> _
    Function TheRequest(ByVal ColorName As String) As ActionResult
        ' Do something'
        Response.Write("The color name submitted is:, " & Request.Form("ColorName"))
        Return View()
    End Function

End Class 
```

## HTML，（视图）：

```
<form action="" method="post">
    <input type="text" name="UserName" id="UserName" />
    <input type="submit" name="UserName_submit" value="Print It Out!" />
</form> 
```

## 问题：

按下后`Submit Button`，如何调用-包括*调用*`Class`的`Controller`函数？`TheRequest`

 *在这种情况下，我将问题引向流程，即`Controller`扫描*Class*和*Functions*，***然后****按下提交按钮*，以便`request`可以正确完成`HTTP POST method`.

* * *

给定的是`current HTTP request`，按下 后`Submit Button`。该`Request.Form`方法专门针对“ColorName”执行请求，通过表单提交。

根据我的 PHP 经验，我正在考虑让***“表单的动作属性”***包含控制器的名称，这样它就可以在按下*提交按钮*后开始扫描每一行。这是一个例子。

*问题已修改。*

* * *

***Invoked*** = 生效或运行*（来源：The Merriam-Webster Dictionary）**

# php - 在数据库表中查找 ID 并从列中选择值

> ID：13264656
> 
> 赞同：0
> 
> 时间：2012-11-07T06:58:03.567
> 
> 标签：php, codeigniter, codeigniter-2

好的，首先请允许我概述一下我正在尝试做的事情。我想在我的视图中显示一个仅向特定“订阅”类型的用户显示的 DIV。

所以我正在使用用户的会话 ID 搜索“订阅”表，以在数据库中找到他们的订阅（订阅以用户 ID 作为主要存储）。一旦通过订阅找到他们的行，我想从“订阅”列中获取值。如果该值等于“免费赠品”，我想回应一个声明（一旦我让它明显工作，我将在这里添加一个函数）。

这就是我想出的……我做错了什么？不工作，我没有收到任何错误。

```
 // show appropiate upgrade message if user has free account

    $id = $this->session->userdata('user_id'); 

    $this->db->select('subscription');
    $this -> db -> where('id', '$id');
    $query = $this -> db -> get("subscriptions");
    $subscribe = $query -> result();

    if($subscribe == 'freebie')
    {
        echo 'function goes here';
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:03:04.167

请试试这个（我不确定你的列名，这是一个例子）

```
$id = $this->session->userdata('user_id'); 

$this->db->select('subscription');
$this->db->where('id', $id);
$query = $this->db->get("subscriptions");
$subscribe = $query->result_array();

if($subscribe[0]['subscription'] == 'freebie')
{
    echo 'function goes here';
}else{
   echo "No Result";
 } 
```

# silverlight - System.Net.WebException：远程服务器返回错误：NotFound。---> silverlight 文件发布到 WCF 休息服务

> ID：13264658
> 
> 赞同：0
> 
> 时间：2012-11-07T06:58:08.313
> 
> 标签：silverlight, post, wcf-rest

我正在尝试从 silverlight 4 将图像发布到 wcf 休息服务，但是当我从请求中获取响应时出现异常，异常是

System.Net.WebException：远程服务器返回错误：NotFound。---> System.Net.WebException：远程服务器返回错误：NotFound。在 System.Net.Browser.BrowserHttpWebRequest.InternalEndGetResponse(IAsyncResult asyncResult) 在 System.Net.Browser.BrowserHttpWebRequest.<>c_ *DisplayClassa.b* _9(Object sendState) 在 System.Net.Browser.AsyncHelper.<>c_ *DisplayClass4.b* _1 (Object sendState) --- 内部异常堆栈跟踪结束 --- 在 System.Net.Browser.BrowserHttpWebRequest.EndGetResponse(IAsyncResult asyncResult) 在 System.Net.Browser.AsyncHelper.BeginOnUI(SendOrPostCallback beginMethod, Object state) 在 Admin。 Popups.AddCategory.OnImageGetResponseCompleted(IAsyncResult ar)}

当我尝试从android访问它时，我在服务上的所有其他功能都可以正常工作，即使是这个功能，我已经看过并尝试了silverlight跨域策略，但我认为它不适用，我的代码如下

```
private void UpLoadImage()
        {
            string URL = Utilities.GetServiceUrl() + "AddCategoryImage?CategoryId=2&ContentType=image&apikey=" + Utilities.GetApiKey();
            HttpWebRequest request = (HttpWebRequest)WebRequest.Create(URL);
            request.Method = "POST";
            request.ContentType = "text/plain";
            request.ContentLength = SelectedFile.Length;

            request.BeginGetRequestStream(OnImageGetRequestStreamCompleted, request);
        }

        private void OnImageGetRequestStreamCompleted(IAsyncResult ar)
        {
            try
            {
                if (SelectedFile != null)
                {
                    HttpWebRequest request = (HttpWebRequest)ar.AsyncState;

                    using (Stream postStream = request.EndGetRequestStream(ar))
                    {
                        using (Stream source = SelectedFile.OpenRead())
                        {
                            byte[] buffer = new byte[2048];
                            int bytesRead;
                            while ((bytesRead = source.Read(buffer, 0, buffer.Length)) > 0)
                            {
                                postStream.Write(buffer, 0, bytesRead);
                            }
                        }

                   }

                    request.BeginGetResponse(new AsyncCallback(OnImageGetResponseCompleted), request);
                }
            }
            catch (Exception ex)
            {
                MessageBox.Show(ex.Message);
            }
        }

        private void OnImageGetResponseCompleted(IAsyncResult ar)
        {
            try
            {
                HttpWebRequest request = (HttpWebRequest)ar.AsyncState;
                HttpWebResponse response = (HttpWebResponse)request.EndGetResponse(ar);
                using (StreamReader sr = new StreamReader(response.GetResponseStream()))
                {
                    string result = sr.ReadToEnd();
                }
            }
            catch (Exception ex)
            {
                this.Dispatcher.BeginInvoke(delegate()
                        {
                            MessageBox.Show(ex.Message);
                        });
            }
        } 
```

wcf 函数是

```
[OperationContract]
        [WebInvoke(Method = "POST", UriTemplate = "AddCategoryImage?CategoryId={CategoryId}&ContentType={ContentType}", RequestFormat = WebMessageFormat.Json, ResponseFormat = WebMessageFormat.Json, BodyStyle = WebMessageBodyStyle.WrappedRequest)]
        bool AddCategoryImage(int CategoryId, string ContentType, Stream Image); 
```

和功能实现是

```
 public static bool AddCategoryImage(int CategoryId, string ContentType,Stream Image)
        {
            SqlConnection sqlCon = new SqlConnection(Params.GetConnectionString());
            SqlCommand sqlCmd = new SqlCommand("UPDATE Categories SET Cat_Img = @Cat_Img,Cat_Img_Type = @Cat_Img_Type WHERE Cat_ID = @Cat_ID", sqlCon);
            sqlCmd.Parameters.Add("@Cat_Img", SqlDbType.Image).Value = Utility.ConvertStreamToByteArray(Image);
            sqlCmd.Parameters.Add("@Cat_Img_Type", SqlDbType.NVarChar, 32).Value = ContentType;
            sqlCmd.Parameters.Add("@Cat_ID", SqlDbType.Int).Value = CategoryId;

            try
            {
                sqlCon.Open();

                return sqlCmd.ExecuteNonQuery() > 0 ? true : false;
            }
            catch (Exception ex)
            {
                Error.CreateError(ex.Message, "Category.cs", "AddCategoryImg(int,string,Stream)");
            }
            finally
            {
                sqlCon.Close();
            }

            return false;
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T09:44:46.203

我已经解决了 WCF 默认 maxReceivedMessageSize 为 65K 的问题，我试图上传超过 65k 的文件，聪明的我 :) 所以我将 maxReceivedMessageSize="2000000" 设置为 2MB 现在它适用于最大 2MB 的文件

```
<binding name ="webBinding" sendTimeout="00:10:00" receiveTimeout="00:10:00" openTimeout="00:10:00"  closeTimeout="00:10:00" maxReceivedMessageSize="2000000">
    <readerQuotas maxDepth="32" maxStringContentLength="100000000" maxArrayLength="100000000" maxBytesPerRead="100000000" maxNameTableCharCount="100000000" />
</binding> 
```

# java - Spring Batch：将一些对象从控制器传递到批处理步骤

> ID：13264659
> 
> 赞同：1
> 
> 时间：2012-11-07T06:58:19.357
> 
> 标签：java, spring-mvc, batch-processing, spring-batch

您好，我目前是[Spring Batch](http://static.springsource.org/spring-batch/)的新手。我遇到了一个困难，我搜索了很多但找不到解决方案。我的要求是通过 N 个策略模板处理 N 个文件夹。例如，第一步将检查文件夹名称是否是否根据我的策略，第二步将根据策略模板等检查分析文件夹内的文件 mime 类型等...我已经正确配置了我的步骤。到目前为止，这一天对我来说是阳光明媚，但我被困在我需要将值从我的控制器方法传递到弹簧批处理的地方。就像用户选择的文件夹和数据库中的策略模板一样。所以我的问题是如何传递对象从控制器到我的批处理的第一步。

以下是我关于批处理作业的配置。

**应用程序上下文.xml**

```
<!--Batch job configuration starts here-->
    <bean id="jobLauncher" class="org.springframework.batch.core.launch.support.SimpleJobLauncher"
          p:jobRepository-ref="jobRepository" 
          p:taskExecutor-ref="taskExecutor"/>

    <batch:job-repository id="jobRepository"
                          data-source="safeJNDI"
                          transaction-manager="transactionManager"
                          isolation-level-for-create="SERIALIZABLE"
                          max-varchar-length="1000"
    />

    <bean id="jobOperator" class="org.springframework.batch.core.launch.support.SimpleJobOperator">
        <property name="jobExplorer">
            <bean class="org.springframework.batch.core.explore.support.JobExplorerFactoryBean">
                <property name="dataSource" ref="safeJNDI" />
            </bean>
        </property>
        <property name="jobRepository" ref="jobRepository" />
        <property name="jobLauncher" ref="jobLauncher" />
        <property name="jobRegistry" ref="jobRegistry"/>
    </bean>
    <bean id="jobRegistry" class="org.springframework.batch.core.configuration.support.MapJobRegistry"/>

    <batch:job id="templateMatchingJob" restartable="true">
        <batch:listeners>
            <batch:listener ref="templateMatchingJobListener"></batch:listener>
        </batch:listeners>

       <batch:step id="basicRuleCheckerStep">

            <batch:tasklet ref="basicRuleCheckerTasklet" />
            <batch:next on="COMPLETED" to="checkMainObjectStep" />
            <batch:next on="FAILED" to="logAndShowErrorMessage" />
            <batch:listeners>
                <batch:listener ref="basicRuleCheckerListener"></batch:listener>
            </batch:listeners>

        </batch:step>

        <batch:step id="checkMainObjectStep">
            <batch:tasklet ref="mainObjectCheckerTasklet" />
            <batch:next on="COMPLETED" to="checkDBXML" />
            <batch:next on="FAILED" to="logAndShowErrorMessage" />

            <batch:listeners>
                <batch:listener ref="mainObjectCheckerListener"></batch:listener>
            </batch:listeners>
        </batch:step>
        <batch:step id="checkDBXML">
            <batch:tasklet ref="dbXMLCheckerTasklet" />
            <batch:next on="COMPLETED" to="checkPDIXML" />
            <batch:next on="FAILED" to="logAndShowErrorMessage" />
            <batch:listeners>
                <batch:listener ref="dbXMLCheckerListener"></batch:listener>
            </batch:listeners>
        </batch:step>
        <batch:step id="checkPDIXML">
            <batch:tasklet ref="pdiXMLCheckerTasklet" />
            <!-- the next is enclosure checking -->
            <batch:next on="COMPLETED" to="logAndShowErrorMessage" />
            <batch:next on="FAILED" to="logAndShowErrorMessage" />

            <batch:listeners>
                <batch:listener ref="pdiXMLCheckerListener"></batch:listener>
            </batch:listeners>
        </batch:step>
        <batch:step id="logAndShowErrorMessage">
            <batch:tasklet ref="logAndShowErrorTasklet" />
            <batch:listeners>
                <batch:listener ref="logAndShowErrorListener"></batch:listener>
            </batch:listeners>
        </batch:step>
    </batch:job>

   <!--Tasklets for template Matching starts here-->
    <bean id="basicRuleCheckerTasklet" class="com.hcdc.coedp.safe.domain.batch.templateMatching.BasicRuleCheckerTasklet"/>
    <bean id="mainObjectCheckerTasklet" class="com.hcdc.coedp.safe.domain.batch.templateMatching.MainObjectCheckerTasklet">

        </bean>
    <bean id="pdiXMLCheckerTasklet" class="com.hcdc.coedp.safe.domain.batch.templateMatching.PDIXMLCheckerTasklet"/>
    <bean id="dbXMLCheckerTasklet" class="com.hcdc.coedp.safe.domain.batch.templateMatching.DBXMLCheckerTasklet"/>
    <bean id="logAndShowErrorTasklet" class="com.hcdc.coedp.safe.domain.batch.templateMatching.LogAndShowErrorTasklet"/>
   <!--Tasklets for template Matching ends here-->

   <!--Listeners for each step in Batch Template Matching starts here-->
    <bean id="basicRuleCheckerListener" class="com.hcdc.coedp.safe.domain.batch.templateMatching.listener.BasicRuleCheckerListener"/>
    <bean id="mainObjectCheckerListener" class="com.hcdc.coedp.safe.domain.batch.templateMatching.listener.MainObjectCheckerListener"/>
    <bean id="pdiXMLCheckerListener" class="com.hcdc.coedp.safe.domain.batch.templateMatching.listener.PDIXMLCheckerListener"/>
    <bean id="dbXMLCheckerListener" class="com.hcdc.coedp.safe.domain.batch.templateMatching.listener.DBXMLCheckerListener"/>
    <bean id="logAndShowErrorListener" class="com.hcdc.coedp.safe.domain.batch.templateMatching.listener.LogAndShowErrorListener"/>
    <bean id="templateMatchingJobListener" class="com.hcdc.coedp.safe.domain.batch.templateMatching.listener.TemplateMatchingJobListener" />
   <!--Listeners for each step in Batch Template Matching ends here--> 
```

以下是我的控制器方法：

**批处理作业控制器.java**

```
 @RequestMapping(value = "/decision/batch", method = RequestMethod.POST)
    @ExceptionHandler(value = {GenericException.class})
    public ModelAndView batchMoveFolder(@ModelAttribute(KEY_LOGGED_IN_USER) User whoLoggedIn,      @RequestParam String action, ModelMap model, HttpServletRequest request) 
  {
     //Getting the selected folder list

         /** Details omitted for clarity**/

    //Getting the templates available in database

         /** Details omitted for clarity**/

    //Starting the job

    jobLauncher.run(job,new JobParametersBuilder().addDate(new Date()));   
   } 
```

我很抱歉我的英语不好，但我没有得到更好的表达方式。

# identification - 如何让 QTP 识别在运行时打开的不同应用程序窗口

> ID：13264664
> 
> 赞同：1
> 
> 时间：2012-11-07T06:58:34.947
> 
> 标签：identification

我正在测试一个应用程序，它可以提取不同文档类型的不同文档（如 doc、xls、ppt、pdf、mp3 等）问题是当文档打开时，相应的应用程序会启动（如 MS WORD、MS excel , 压缩包, Adob​​e) . 如何让 QTP 识别用于打开相应文档的应用程序，我需要在查看后自动保存文档。

# tomcat - Tomcat 7 上下文路径和战争文件名

> ID：13264665
> 
> 赞同：0
> 
> 时间：2012-11-07T06:58:40.517
> 
> 标签：tomcat, containers, tomcat7

tomcat context.xml 文件中是否有任何配置，以便如果我在 url 中提供非空上下文路径并且我的 ROOT.war 被浏览？

例如 - 浏览 localhost:8080 可以访问 webapps/ROOT 目录

我想要 - 浏览 localhost:8080/xyz 应该可以访问 webapps/ROOT 目录。

可能吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:44:39.597

它在 conf/server.xml 中。只需更改文档库就足够了。应该有一个名为 webapps/root 的目录

```
<Context path="/xyz" docBase="root"  privileged="true" /> 
```

此条目应添加到

```
<Host>...(add it here).... </Host> 
```

标签。立场很重要。

# gmail - 保存我的聊天用户的所有个人电子邮件地址

> ID：13264672
> 
> 赞同：0
> 
> 时间：2012-11-07T06:59:25.723
> 
> 标签：gmail

我正在使用 gmail。我想将我所有的聊天用户个人电子邮件地址保存在 gmail 联系人中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:06:53.790

我认为您无法保存个人电子邮件地址，因为 gamil 创建了新 ID

例如。09uuqlpep830m0dgun89wrhmcw@public.talk.google.co

# iphone - UICollectionView 的部分标题

> ID：13264674
> 
> 赞同：3
> 
> 时间：2012-11-07T06:59:32.207
> 
> 标签：iphone, ios, uitableview, uicollectionview

我正在继承`UICollectionViewLayout`。

`UITableView`向下滚动时，sectionHeader 会保留。
（当您向下滚动联系人列表时，您可以看到这一点，部分标题（A，B，C..）会一直存在，直到下一个部分标题取而代之。

我想在我的中添加一个节标题，`UICollectionView`但不知道如何执行此操作。

# java - 如何编写 java 代码以在 selenium 中发送电子邮件？

> ID：13264675
> 
> 赞同：-5
> 
> 时间：2012-11-07T06:59:32.867
> 
> 标签：java, selenium

我想用java写一个硒测试。测试完成后，程序会自动向我发送电子邮件。每当发生错误时，也会发送电子邮件。我怎样才能做到这一点？非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T07:03:26.653

邮件发送与 selenium 无关。您必须编写单独的 java 函数来发送邮件。您可以根据您的要求调用该函数。例如，如果您想在测试用例执行完成后发送邮件，那么您可以调用它测试类的 tearDown 方法中的函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:39:15.027

您可以使用 JavaMail API 吗？

如果你有闲钱，我建议你买这本**非常**有用的书：

[http://shop.oreilly.com/product/9780596007218.do](http://shop.oreilly.com/product/9780596007218.do)

Java 网络编程第 3 版。

它有一整章关于 javamail，但如果您正在寻找免费资源，那么使用 google 搜索“java mail”可能会有所帮助。我认为你根本不需要硒。我为您找到了这些 google 链接（前 3 个链接）：

[http://www.mkyong.com/java/javamail-api-sending-email-via-gmail-smtp-example/](http://www.mkyong.com/java/javamail-api-sending-email-via-gmail-smtp-example/)

[http://www.javaworld.com/jw-10-2001/jw-1026-javamail.html](http://www.javaworld.com/jw-10-2001/jw-1026-javamail.html)

[http://www.tutorialspoint.com/java/java_sending_email.htm](http://www.tutorialspoint.com/java/java_sending_email.htm)

使用 java mail，您可以轻松地创建一个简单的命令行程序，甚至是一个 GUI 来发送您的电子邮件。

# entity-framework - 每个层次结构的代码优先类型

> ID：13264676
> 
> 赞同：0
> 
> 时间：2012-11-07T06:59:36.287
> 
> 标签：entity-framework

我将 EF 5 与代码优先方法一起使用。现在我尝试定义一个“代码”表，我希望在其中有几个不同的代码（如地址代码、介质代码等）。在这个表中，我只有以下属性：ID (Guid)、Name (String)、Description (String) 和一个鉴别器（在这种情况下，类似于代码的类型：地址代码、介质代码等）。

所以我定义了以下基类：

```
public abstract class Code : EntityBase
{
    public string Name { get; set; }
    public string Beschreibung { get; set; }
} 
```

然后我从代码中派生了两个类

```
public class AddressCode : Code {}
public class MediumCode : Code {} 
```

EntityBase 类是抽象的，只定义了 Id 属性，我们将它用于每个 POCO 类......

目标是我可以使用 AddressCode 作为我的地址 POCO 类的属性：

```
public class Adresse : EntityBase
{
    #region Properties
    public string Name1 { get; set; }

    public virtual AddressCode AddressCode { get; set; }
    #endregion
} 
```

现在的问题是，我该如何解释 EF 如何做到这一点？任何人都可以帮忙吗？

谢谢马可

* * *

感谢您的回答！

我试着按照你说的去做。不幸的是，由于我的 EntityBase 类，我得到了一个错误：

```
public abstract class EntityBase
{
    #region Properties

    public virtual Guid Id { get; set; }

    public virtual bool IsValid
    {
        get
        {
            {
                return Validate();
            }
        }
    }

    [NotMappedAttribute]
    public virtual IList<ValidationFailure> ValidationFailures { get; set; }

    #endregion

    #region Methods

    private bool Validate()
    {
        var validatorFactory = new AttributedValidatorFactory();
        IValidator validator = validatorFactory.GetValidator(GetType());

        if (validator == null)
        {
            return true;
        }

        ValidationResult validationResult = validator.Validate(this);

        ValidationFailures = validationResult.Errors;

        return validationResult.IsValid;
    }

    #endregion
} 
```

错误消息是：您不能对类型“Entities.AdresseCode”的属性“ValidationFailures”使用 Ignore 方法，因为此类型继承自映射此属性的类型“Entities.EntityBase”。要从模型中排除此属性，请对基本类型使用 NotMappedAttribute 或 Ignore 方法。

如您所见，我已经将属性 ValidationFailures 定义为 NotMapped 但我仍然收到此错误..您有什么想法吗？

谢谢马可

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T09:01:31.760

只需创建一个上下文（派生自`DbContext`）

```
public class AddressesDb : DbContext
{
    public DbSet<Code> Codes { get; set; }
    public DbSet<Adresse> Adressen { get; set; }
} 
```

并且（在代码中使用时）EF 将创建一个具有默认表名和列名的数据库。它将创建一个 text( `nvarchar`) 类型的鉴别器列，其中包含派生自 的类的名称`Code`。

如果您想要不同的名称和/或类型，您应该使用[数据注释](http://blogs.msdn.com/b/efdesign/archive/2010/03/30/data-annotations-in-the-entity-framework-and-code-first.aspx)或[流式 API](http://msdn.microsoft.com/en-us/data/hh134698.aspx)来配置这些。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T07:34:00.567

最后我得到了它的工作！

在 DBContext 中，请注意在所有其他 POCO 之前为代码派生类定义 DbSet，然后它就可以工作了！

# eclipse - Eclipse 工具栏

> ID：13264685
> 
> 赞同：1
> 
> 时间：2012-11-07T07:00:21.133
> 
> 标签：eclipse

我的 Eclipse 和工具栏有一个奇怪的问题。直截了当，带有播放按钮的工具栏被隐藏了。

根据谷歌，它应该是窗口菜单下的“显示工具栏”选项，但它不存在。

有人知道如何找回我的工具栏吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-08T03:49:20.780

也许更新或下载最新版本可以解决您的问题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:04:22.360

它隐藏在 Window->Customize Perspective (Eclipse Juno) 下。在那里，您可以勾选“启动”类别，它是让您返回按钮的子条目。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T07:07:02.980

它是 Window menu->show view 或 Window->Customize Perspective 你会在那里找到你的工具栏选项

# c# - 通过电子邮件发送带有密码保护的现有 pdf 文件

> ID：13264688
> 
> 赞同：1
> 
> 时间：2012-11-07T07:00:35.330
> 
> 标签：c#, pdf, itextsharp, password-protection

我使用`itextsharp`. 要求是，在将 PDF 作为电子邮件附件发送时，它应该受到密码保护。

我知道我们可以在创建 pdf 密码时使用`itextsharp`.

有什么方法可以保护现有的 pdf 密码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:34:36.080

与和方法`PdfReader`结合使用。`PdfStamper``setEncryption()`

在 Java 中，请参阅`encryptPdf()`此示例：http: [//itextpdf.com/examples/iia.php ?id=219](http://itextpdf.com/examples/iia.php?id=219)

在 C# 中，请参阅`EncryptPdf()`此示例： http: [//kuujinbo.info/iTextInAction2Ed/index.aspx ?ch=Chapter12&ex=EncryptionPdf](http://kuujinbo.info/iTextInAction2Ed/index.aspx?ch=Chapter12&ex=EncryptionPdf)

# .htaccess - .htaccess 仅重定向不存在的页面，保留令牌

> ID：13264690
> 
> 赞同：0
> 
> 时间：2012-11-07T07:00:45.810
> 
> 标签：.htaccess

我想重定向

> www.domain.com/abc

到

> www.domain.com/index.php?a=abc

仅当文件夹 abc 尚不存在时。我应该如何编写 .htaccess 文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:13:52.313

尝试

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^/(.*)$ http://www.domain.com/index.php?a=$1 [L] 
```

# php - 正则表达式匹配所有顶级函数

> ID：13264693
> 
> 赞同：0
> 
> 时间：2012-11-07T07:01:01.790
> 
> 标签：php, regex, parsing

我想用正则表达式解析 PHP 代码，以找到我们代码库中声明的所有顶级函数。

简单的：

```
^\s*function\s*([\w_-]+)\( 
```

工作得很好，但抓住了额外的

```
class Foo {
  function bar() {...}
} 
```

关于如何跳过没有范围的非顶级函数的任何想法？

注意：我知道，我知道，我应该使用真正的解析器，但我想要一些快速而肮脏的东西，可以在`grep -R -P`非常大的代码库中运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T08:07:44.540

如果您愿意使用 ruby​​（或基本上任何带有命名捕获组的东西），您可以使用如下内容：

```
^\s*(?<type>\w+)\s*(?<name>[\w_-]+)(?<function>\([^()]*\))?\s*(?<body>{((?>[^{}]+)|(\g<body>))*}) 
```

那些是函数的将在`function`捕获组中有括号。那些是类不会。

[http://rubular.com/r/3dXZts6OYF](http://rubular.com/r/3dXZts6OYF)

虽然非常脆。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:06:57.330

在缩进良好的代码库上，

```
^function\s*([\w_-]+)\( 
```

应该只捕获顶级函数。如果您期望前导空格，您可以对 a 使用零[宽度的负后视](http://perldoc.perl.org/perlre.html#Extended-Patterns)`{`，以避免在类声明的开头使用函数：

```
(?<!{)\s*function\s*([\w_-]+)\( 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T07:07:28.857

首先，我不得不说，这类东西很大程度上取决于你的代码有多么严格。对于我自己，我会在行首立即启动所有顶级函数。因此，如果我想找到非顶级函数（在 vim 中），我只需

```
/^[[:space:]]\+function[[:space:]]\+\w\+\> 
```

和

```
/^function[[:space:]]\+\w\+\> 
```

对于所有顶级功能。

但是，正如我所说，这取决于您的代码库的格式。祝你好运！

# google-apps-script - 尝试 catch 不适用于处理程序函数中的 app.getElementById

> ID：13264703
> 
> 赞同：1
> 
> 时间：2012-11-07T07:01:55.533
> 
> 标签：google-apps-script

我正在开发一个应用程序，我想在处理程序函数中使用 try catch 块，但它给出错误“遇到错误：发生意外错误”。代码似乎是正确的，但它不起作用。`app.getElementById('elementId')`只有在`try`块的情况下才会发生错误

这是我的代码。

```
function doGet(e) {
  var app = UiApp.createApplication();
  var hPanel = app.createHorizontalPanel();
  app.add(hPanel);
  var handler = app.createServerHandler('handleOpenClose_');
  var btn1 = app.createButton('Open Item').setId('openBtn').addClickHandler(handler);
  var btn2 = app.createButton('Close Item').setId('closeBtn').addClickHandler(handler);
  hPanel.add(btn1).add(btn2);
  return app;
}

function handleOpenClose_(e){
  var source = e.parameter.source;
  var app = UiApp.getActiveApplication();
  var itemPanel;
  try{//check if itempanel exists
    var itemPanel = app.getElementById('itemPanel');
  }
  catch(e){// if it does not exists, create it
    var itemPanel = app.createVerticalPanel().setId('itemPanel');
    app.add(itemPanel);
    for(var i=0; i<10; i++){
      itemPanel.add(app.createLabel('Item '+i));
    }
  }

  if(source == 'openBtn'){itemPanel.setVisible(true)}
  else if(source == 'closeBtn'){itemPanel.setVisible(false)}

  return app;
} 
```

我知道还有其他方法可以实现相同的目标，但我想与 google-apps-script 社区分享这一观察结果。让我知道我的观察是否正确。如果它是一个错误，我想将它发布在问题跟踪器中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T08:30:57.513

很久以前，该问题已作为[Issue 592](http://code.google.com/p/google-apps-script-issues/issues/detail?id=592)报告给 Google 。不幸的是，当具有给定 id 的项目不存在时，GAS 会显示一个意外错误警报框，而不是向代码抛出异常。

# ajax - 我无法使用 ajax 提交表单，在 cakephp 中已经存在或不存在

> ID：13264704
> 
> 赞同：0
> 
> 时间：2012-11-07T07:02:02.657
> 
> 标签：ajax, cakephp

我正在检查用户是否已经在 cakephp 中使用 ajax 退出。一切正常，我得到了回应

但如果用户没有退出，那么我将无法提交表单以下是我的代码：- 问题出在其他部分，如何提交表单。

```
function checku(email) {
        var email=document.getElementById("check").value;

        var data='';
        $.ajax({ 
            url: '<?php echo BASE_PATH;?>users/alreadyexist/'+email,    
            type: 'POST',
            data: data,     
            cache: false,
            success: function (html) { 
            var response=html;          
            if(response=="ok")
            {
             alert('The user is already Exist');

            }
            else
            {

            alert("else");

            }

        }

        });
    return false;

} 
```

以下是按钮，我正在调用函数：

```
<?php echo $this->Form->submit('ssad.png',array('onclick'=>'return checku();'));?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:16:08.077

```
return false; put this under the `alert('The user is already Exist');` 
```

否则就做`return true;`

```
if(response=="ok")
{
    alert('The user is already Exist');
    return false;
}
else
{    
    alert("else");
    return true;
} 
```

去掉最外层返回false。

即使您不删除最外面的 return false ，它也会起作用；尽管。

# python - AttributeError：“NoneType”对象没有属性“开始”

> ID：13264705
> 
> 赞同：-1
> 
> 时间：2012-11-07T07:02:04.910
> 
> 标签：python, python-2.7

```
Traceback (most recent call last):
  File "NinjaWarzBot.py", line 354, in <module>
    stats = comm.init()
  File "C:\Users\Administrator\Desktop\ninja warz bot\NinjaWarzLib.py", line 33,
 in init
    mf.seek(m.start()+len(cookieKey)) # reset file cursor
AttributeError: 'NoneType' object has no attribute 'start'
Press any key to continue . . .

def init():
    cookieDBFilename = os.path.join(os.environ['USERPROFILE'], "AppData/Local/Google/Chrome/User Data/Default/Cookies")
    cookieKey = "kongregate.ninjawarz.brokenbulbstudios.comPHPSESSID"
    f = open(cookieDBFilename, 'r+b')
    mf = mmap.mmap(f.fileno(), 0)
    mf.seek(0) # reset file cursor
    m = re.search(cookieKey+'\w+', mf)

    mf.seek(m.start()+len(cookieKey)) # reset file cursor
    global _sessionId
    _sessionId = mf.read(m.end() - m.start() -len(cookieKey))
    mf.close()
    f.close()

    return getMyStats() 
```

这是我的错误和代码。我对为什么会收到此错误感到困惑。有人可以帮帮我吗？越来越令人沮丧。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T07:04:06.060

你忘了检查你的正则表达式是否真的匹配任何东西。如果不是，则相应方法的返回值将是`None`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-25T08:57:42.873

你可以在执行 .start() 之前打印 re.search(cookieKey+'\w+', mf) ，这样你就可以看到你是否真的搜索了一些东西。但是，如果您的文本中有一对匹配的字符串，则 re.search 只返回一个对象

# android - 如何在android中使用加速度计传感器计算跑步速度

> ID：13264718
> 
> 赞同：7
> 
> 时间：2012-11-07T07:03:26.670
> 
> 标签：android, accelerometer

我试图`TYPE_LINEAR_ACCELEROMETER`在 Android 中计算运行速度传感器，但我得到的结果非常不准确。计算出的平均加速度总是正值，所以它不断增加。这是我的程序和代码，请建议我从 3 轴加速度计数据计算的正确方法是什么以及我的代码出错的地方。

我所做的是：

我在`x`, `y`,`z`方向上得到加速度值

产生的加速度`a1 = sqrt(x*x + y*y + z*z)`

平均`5`加速度读数：

```
Avg(4) = `(a0 + a1 + a2 + a3 + a4) / 5` 
```

时间增量：

```
Tdelta = (time of Avg(4)) - (time of Avg(0)) 
```

最初`V(0)`是`0`，之后`V(0)`是先前计算的速度，因此：

```
V(1) = V(0) + at = 0 + Avg(1)
V(2) = V(1) + at = V(1) + Avg(2)
V(n) = V(n-1) + at = V(n-1) + Avg(n) 
```

这就是我获得速度值的方式，但这不是正确的速度。请指导我。

这是代码：

```
public class TestCalculateVelocityActivity extends Activity implements OnClickListener, SensorEventListener {

    final String TAG = getClass().getName().toString();
    SensorManager mSensorManager;
    Sensor mAccelerometer;
    TableLayout accTable;
    TextView accl, spd, spd_kmph;
    Button btnStart, btnStop, btnClear;
    Timer updateTimer;
    float []linearAcceleration = new float[3];
    Velocity velocity;
    Handler handler;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        initSensor();

        accTable =(TableLayout)findViewById(R.id.country_table);

        //accl = (TextView)findViewById(R.id.accl);
        spd = (TextView)findViewById(R.id.spd);
        spd_kmph = (TextView)findViewById(R.id.spd_kmph);

        btnStart = (Button)findViewById(R.id.buttonStart);
        btnStart.setOnClickListener(this);
        btnStop = (Button)findViewById(R.id.buttonStop);
        btnStop.setOnClickListener(this);
        btnClear= (Button)findViewById(R.id.buttonClear);
        btnClear.setOnClickListener(this);
    }

    private void initSensor() {
        mSensorManager = (SensorManager)getSystemService(SENSOR_SERVICE);
        mAccelerometer = mSensorManager.getDefaultSensor(Sensor.TYPE_LINEAR_ACCELERATION);
        if(mAccelerometer == null) {
            Toast.makeText(this, "Accelerometer sensor not available", Toast.LENGTH_SHORT).show();
            finish();
        }
    }

    void fillTable(float values[]) {

        float[] val = values;
        TableRow row;
        TextView t1, t2, t3;
        //Converting to dip unit
        int dip = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP,
                (float) 1, getResources().getDisplayMetrics());

        //for (int current = 0; current < CountriesList.abbreviations.length; current++) {
        row = new TableRow(this);

        t1 = new TextView(this);
        t1.setTextColor(Color.WHITE);
        t1.setBackgroundColor(Color.GRAY);
        t2 = new TextView(this);
        t2.setTextColor(Color.WHITE);
        t2.setBackgroundColor(Color.LTGRAY);
        t3 = new TextView(this);
        t3.setTextColor(Color.WHITE);
        t3.setBackgroundColor(Color.GRAY);

        t1.setText(""+val[0]);
        t2.setText(""+val[1]);
        t3.setText(""+val[2]);

        t1.setTypeface(null, 1);
        t2.setTypeface(null, 1);
        t3.setTypeface(null, 1);

        t1.setTextSize(15);
        t2.setTextSize(15);
        t3.setTextSize(15);

        t1.setWidth(150 * dip);
        t2.setWidth(150 * dip);
        t3.setWidth(150 * dip);
        t1.setPadding(20*dip, 0, 0, 0);
        row.addView(t1);
        row.addView(t2);
        row.addView(t3);

        accTable.addView(row, new TableLayout.LayoutParams(
                LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));

    }

    public void onClick(View v) {

        if(v == btnStart) {
            mSensorManager.registerListener(this, mAccelerometer, SensorManager.SENSOR_DELAY_NORMAL);
            velocity = new Velocity();
            updateTimer = new Timer("velocityUpdate");
            handler = new Handler();
            updateTimer.scheduleAtFixedRate(new TimerTask() {
                public void run() {
                    calculateAndUpdate();
                }
            }, 0, 1200);
        }else  if(v == btnStop) {
            mSensorManager.unregisterListener(this);

            displayVelocityValues();
            displayVelocityTable();
            velocity = null;
            handler = null;
            updateTimer.cancel();

        } else if(v == btnClear) {
            accTable.removeAllViews();
        }
    }

    private void displayVelocityTable() {
        try {
            accTable.removeAllViews();
            double[] vl = velocity.getVlArray();
            for(int i = 0; i<vl.length; i++) {
                /*Log.d(TAG, "v = " + vl[i] + "mps, "+(vl[i] * 3.6)+ " kmph");*/

                //float[] val = values;
                TableRow row;
                TextView t1, t2;
                //Converting to dip unit
                int dip = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP,
                        (float) 1, getResources().getDisplayMetrics());

                //for (int current = 0; current < CountriesList.abbreviations.length; current++) {
                row = new TableRow(this);

                t1 = new TextView(this);
                t1.setTextColor(Color.WHITE);
                t1.setBackgroundColor(Color.GRAY);
                t2 = new TextView(this);
                t2.setTextColor(Color.WHITE);
                t2.setBackgroundColor(Color.LTGRAY);

                t1.setText(""+vl[i]);
                t2.setText(""+(vl[i] * 3.6));

                t1.setTypeface(null, 1);
                t2.setTypeface(null, 1);

                t1.setTextSize(15);
                t2.setTextSize(15);

                t1.setWidth(200 * dip);
                t2.setWidth(200 * dip);

                t1.setPadding(20*dip, 0, 0, 0);
                row.addView(t1);
                row.addView(t2);

                accTable.addView(row, new TableLayout.LayoutParams(
                        LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
            }
        } catch(NullPointerException e) {
            e.printStackTrace();
        }
    }

    public void displayVelocityValues() {
        try {
            double[] vl = velocity.getVlArray();
            for(int i = 0; i<vl.length; i++) { 
                Log.d(TAG, "v = " + vl[i] + "mps, "+(vl[i] * 3.6)+ " kmph");
            }
        } catch(NullPointerException e) {
            e.printStackTrace();
        }
    }

    private void calculateAndUpdate() {

        final double vel = velocity.getVelocity(linearAcceleration, System.currentTimeMillis());
        final double velKmph = vel * 3.6;
        //spd.setText("v = "+ velKmph + " kmph");

        handler.post(new Runnable() {
            public void run() {

                //Log.d(getClass().getName().toString(), "Setting velocity = " + velKmph+ " kmph");
                spd.setText("v = "+ vel + " mps");
                spd_kmph.setText("v = "+ velKmph + " kmph");
            }
        });
    }

    @Override
    public void onAccuracyChanged(Sensor sensor, int accuracy) {
        // TODO Auto-generated method stub

    }

    @Override
    public void onSensorChanged(SensorEvent event) {

        linearAcceleration[0] = event.values[0];
        linearAcceleration[1] = event.values[1];
        linearAcceleration[2] = event.values[2];        

        fillTable(linearAcceleration);
    }
}

public class Velocity {

    private final String TAG = getClass().getName().toString();
    int sampleCounter = 0;
    final int totalSamples = 5;
    long time0, nAccel;
    static int i=0; 
    double aDelT0 = 0, v0 = 0, v = 0;

    final int totalVelocityValues = 1000;
    double []velocityValues = new double[totalVelocityValues];

    //float []linearAcceleration = new float[3];

    //final int totalAccl = 5;
    double []accel = new double[totalSamples];

    private double getAvg(double[] a) {
        double total = 0;
        for(int i = 0; i<a.length; i++) 
            total = total + a[i];
        return (total / a.length);
    }

    private double getAcceleration(float[] linearAcceleration) {
        return Math.sqrt(Math.pow(linearAcceleration[0], 2) + Math.pow(linearAcceleration[0], 2) + Math.pow(linearAcceleration[0], 2));
    }

    public double getVelocity(float[] linearAcceleration, long time1) {

        //this.linearAcceleration = linearAcceleration;

        try {
            if(sampleCounter < (totalSamples-1)) {
                if(sampleCounter == 0) 
                    time0 = time1;
                accel[sampleCounter] = getAcceleration(linearAcceleration);     
                sampleCounter++;    
            } else if(sampleCounter == (totalSamples-1)) {
                accel[sampleCounter] = getAcceleration(linearAcceleration);

                double avgAccel = getAvg(accel);
                long timeDelta = ((time1 - time0) / 1000);
                double aDelT1 = (avgAccel * timeDelta);
                Log.d(TAG, "aDelT1 = "+avgAccel +" * "+timeDelta + " = "+aDelT1 );

                v = calculateVelovity(aDelT1);
                if(i !=totalVelocityValues) {
                    velocityValues[i]=v;
                    i++;
                } else {
                    for(int j=0;j<(totalVelocityValues-1);j++)
                        velocityValues[j]=velocityValues[j+1];
                    velocityValues[totalVelocityValues -1]=v;
                }
                sampleCounter = 0;
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
        return v;
    }

    private double calculateVelovity(double aDelT1) {
        double v = v0 + (aDelT1 - aDelT0);
        Log.d(TAG, "v = "+v0+ "+ ("+aDelT1+" - "+aDelT0+") = "+v);
        v0 = v;
        aDelT0 = aDelT1;
        return v;
    }

    public double[] getVlArray() {
        return velocityValues;
    } 
```

}

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

<LinearLayout 
    android:layout_width="fill_parent"
     android:layout_height="wrap_content"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/spd"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_marginBottom="5dip"
        android:layout_weight="1"
        android:background="@android:color/darker_gray"
        android:gravity="center_vertical|center_horizontal"
        android:text="speed (kmph)"
        android:textColor="@android:color/white"
        android:textSize="20dip"
        android:textStyle="bold"
        android:typeface="sans" />

    <TextView
        android:id="@+id/spd_kmph"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_marginBottom="5dip"
        android:layout_weight="1"
        android:background="@android:color/darker_gray"
        android:gravity="center_vertical|center_horizontal"
        android:text="ooooo"
        android:textColor="@android:color/white"
        android:textSize="20dip"
        android:textStyle="bold"
        android:typeface="sans" />

    <TextView  
        android:text="Acceleration Data"
            android:textColor="@android:color/white"
            android:gravity="center_vertical|center_horizontal"
            android:textSize="20dip"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:textStyle="bold"
            android:layout_marginBottom="5dip"
            android:typeface="sans"
            android:layout_weight="1"
            android:background="@android:color/darker_gray"/>

</LinearLayout>

<LinearLayout android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal">

    <Button android:id="@+id/buttonStart"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:layout_weight="1"
        android:text="Start" />

    <Button android:id="@+id/buttonClear"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:layout_weight="1"
        android:text="Clear" />

     <Button android:id="@+id/buttonStop"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:layout_weight="1"
        android:text="Stop" />

</LinearLayout>

<RelativeLayout android:id="@+id/rl_country_heading"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="@android:color/darker_gray">

    <TextView android:id="@+id/tv_11"
        android:layout_width="70dip"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:text="X"
        android:textStyle="normal|bold"
        android:textColor="@android:color/white"
        android:textSize="18dip">
    </TextView>

    <TextView android:id="@+id/tv_12"
        android:layout_width="150dip"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:text="Y"
        android:textStyle="normal|bold"
        android:textColor="@android:color/white"
        android:textSize="18dip"
        android:layout_toRightOf="@+id/tv_11">
    </TextView>

    <TextView android:id="@+id/tv_13"
        android:layout_width="150dip"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:text="Z"
        android:textStyle="normal|bold"
        android:textColor="@android:color/white"
        android:textSize="18dip"
        android:layout_toRightOf="@+id/tv_12">
    </TextView>
</RelativeLayout>

<LinearLayout android:id="@+id/ll_country"
    android:layout_height="fill_parent"
     android:layout_width="fill_parent">

    <ScrollView android:id="@+id/ScrollView11"
        android:layout_width="fill_parent" 
        android:layout_height="fill_parent"
        android:fillViewport="true">

        <LinearLayout android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_margin="5dip">

            <TableLayout xmlns:android="http://schemas.android.com/apk/res/android"
                android:layout_width="fill_parent" 
                android:layout_height="fill_parent"
                android:stretchColumns="0,1"
                android:id="@+id/country_table"
                android:background="@android:color/black">
            </TableLayout>  
        </LinearLayout>
    </ScrollView>
</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T09:39:23.293

您使用 getAcceleration 计算加速度的总幅度并丢失所有方向信息，因此它始终为正。

您需要考虑方向，并且随着手机的曲折而变化，因此您必须使用陀螺仪。

即使你得到了正确的代码，尽管典型手机上传感器的准确性意味着你会很快失去任何准确性。

如果你想跑步速度看gps....

编辑。

忘了说你没有考虑到重力。你必须消除重力的影响。

# java - java语法：“同步（this）”

> ID：13264726
> 
> 赞同：35
> 
> 时间：2012-11-07T07:03:52.450
> 
> 标签：java, syntax, synchronized

你能解释一下这段java代码吗？我无法理解这种语法。

```
synchronized (this) {
              try {
                  wait(endTime - System.currentTimeMillis());
              } catch (Exception e) {
              }
} 
```

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2012-11-07T07:05:56.150

这意味着这个代码块`synchronized`意味着只有一个线程能够访问该块内的代码。

也`this`意味着您可以在当前实例上同步（获得当前实例的锁定）。

这是我在 Kathy Sierra 的 java 认证书中找到的。

*因为同步确实会损害并发性，所以您不想同步任何超出保护数据所需的代码。因此，如果一个方法的范围超出了需要，您可以将同步部分的范围缩小到比完整方法还少的东西——只是一个块。*

看下面的代码片段：

```
public synchronized void doStuff() {
    System.out.println("synchronized");
} 
```

可以改成这样：

```
public void doStuff() {
   //do some stuff for which you do not require synchronization
   synchronized(this) {
     System.out.println("synchronized");
     // perform stuff for which you require synchronization
   }
} 
```

在第二个片段中，同步锁只应用于该代码块而不是整个方法。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-07T07:10:01.213

```
synchronized (this) 
```

是实现**块级同步的语法。**

这意味着仅在`this`对象上，并且一次只有一个线程可以执行封闭的块。

在此处查看更详细的答案：[块级同步](https://stackoverflow.com/questions/875175/block-level-synchronization)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T07:16:34.187

第一行控制对封闭代码块的并发访问。一次只有一个线程可以执行代码块。阅读[本教程](http://www.vogella.com/articles/JavaConcurrency/article.html)的第 2.2 节了解更多信息

```
synchronized (this) { 
```

下面封闭的代码块似乎使用了一种（非常糟糕的）方法来暂停执行线程一段给定的时间。

```
 try {
        wait(endTime - System.currentTimeMillis());
    } catch (Exception e) {
    } 
```

此外，它会“吞下”在等待过程中可能引发的任何异常，这确实很顽皮。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T07:11:05.907

```
synchronized (this) {
 } 
```

它称为同步块，它可以选择在哪个对象上同步。同步方法只能使用'this'（或同步类方法的相应类实例）
看看这些链接可能会给你更好的答案。

1.  [Java 同步块](https://stackoverflow.com/questions/3403030/java-synchronized-blocks)
2.  [同步块与同步方法？](https://stackoverflow.com/questions/574240/synchronized-block-vs-synchronized-method)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-07T07:12:31.340

synchronized(this) - 我们得到一个与指向“this”的对象关联的锁。当我们使用这个块时，我们的意思是我们愿意等到使用这个监视器的线程释放它。如果您更改数据对象（对象的变量），那么使用锁是有意义的。

wait - 导致当前正在执行的线程等待，直到另一个线程调用 notify 方法或指定的持续时间。

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2018-01-17T22:09:19.480

在大多数情况下，一次只有一个线程可以访问“Synchronized(this)”。但这并不总是正确的！考虑下面的代码。在我的代码中，我将静态对象同步为锁，一切正常。当我更改代码以在（此）上同步时，多个线程同时访问代码并且它搞砸了一切。小心同步（this）。注意：代码递归地创建线程，然后以相反的顺序显示它们。

### 主要的

```
public class Project2 
{
    public static void main(String[] args) throws InterruptedException 
    {
        Object lock = new Object();
        Threads2 t1 = new Threads2(1);
        t1.setName("Thread 1");
        t1.start();
        Threads2.que.add(t1);
        t1.join();
    } 
} 
```

### 线程2

```
public class Threads2 extends Thread
{
    //private final ArrayBlockingQueue<Threads> que = new ArrayBlockingQueue<>(5);
    public static ArrayList<Thread> que = new ArrayList<>(5);
    private volatile int i;
    private static volatile boolean locked = true;
    private static final Object lock = new Object();

    public Threads2(int i) 
    {        
        this.i = i;
    }
    @Override
    public void run()
    {   
        try
        {
            System.out.println("Thread " + i + ": created");       
            synchronized(lock)
            {
                i++;
            }       
            if(i <= 50)
            {
                Threads2 t = new Threads2(i);
                t.setName("Thread " + i);
                t.start();  
                que.add(Thread.currentThread());
            }
            else
            {
                Thread.currentThread().interrupt();
            }
            while(locked)
            {
                Thread.sleep(10000);
            }
        }
        catch(InterruptedException ex)
        {   
            synchronized(lock)
            {
                if(i >= 0)
                {
                    que.get(i-2).interrupt();
                    i--;
                    System.out.println(Thread.currentThread().getName());
                }    
            }       
        }       
    }    
} 
```

# mysql - #1111 - 从两个或多个表中获取数据时组函数的使用无效

> ID：13264735
> 
> 赞同：1
> 
> 时间：2012-11-07T07:04:12.133
> 
> 标签：mysql

我无法从外部查询所需的子查询中的表 b 中获取单个值。在表 b 中有一组与表 a 和表 c 相关的日期。在这里我需要最新日期的目的代码才能成功执行查询。如果我删除子查询并写 where c. purpose_code = b. purpose_code 它运行正常，但结果较旧。请帮帮我。

```
SELECT
  a.filing_no AS "File No",
  a.case_no AS "Registration No",
  a.pet_name AS Petitioner,
  a.res_name AS Accused,
  a.dt_of_filing AS "Date of Inst",
  max(b.Next_date) AS "Next Date",
  c.purpose_name AS "Case Stage"
FROM
  filing_t a, Daily_proc b, Purpose_t c
WHERE
  a.filing_no = b.filing_no
  AND c.purpose_code = (
    SELECT purpose_code FROM Daily_proc
    WHERE filing_no = a.filing_no AND next_date = max(next_date)
    )
  AND a.court_no = 1
  AND a.ci_cri = 2
  AND a.status = 'P'
GROUP BY
  b.filing_no
ORDER BY
  a.dt_of_filing DESC
LIMIT
  0, 2000 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:38:03.143

问题是一个子查询 -

```
SELECT purpose_code FROM Daily_proc
WHERE filing_no = a.filing_no AND next_date = max(next_date) 
```

试试这个查询 -

```
SELECT
  purpose_code
FROM
  Daily_proc
WHERE
  filing_no = 20 AND next_date = (SELECT MAX(next_date) FROM Daily_proc); 
```

* * *

**创建表：**

```
CREATE TABLE A(
  filing_no INT,
  pet_name VARCHAR(20),
  res_name VARCHAR(20),
  court_no INT);
INSERT INTO A VALUES
  (1, 'xyz', 'PQR', 1),
  (2, 'abc', 'def', 2);

CREATE TABLE B(
  filing_no INT,
  purpose_code INT,
  next_date DATE);
INSERT INTO B VALUES
  (2, 20, '2012-8-3'),
  (1, 21, '2012-9-3'),
  (2, 22, '2012-10-3'),
  (1, 23, '2012-11-15');

CREATE TABLE C(
  purpose_code INT,
  purpose_name VARCHAR(20));
INSERT INTO C VALUES
  (20, 'institution'),
  (21, 'summon'),
  (22, 'proceeding'),
  (23, 'order');

SELECT a.filing_no, a.pet_name, a.res_name, c.purpose_name, b.next_date FROM a
  JOIN (SELECT * FROM (
          SELECT * FROM b ORDER BY filing_no, next_date DESC
       ) t GROUP BY filing_no) b
    ON a.filing_no = b.filing_no
  JOIN c
    ON b.purpose_code = c.purpose_code
WHERE a.court_no = 1; 
```

**结果：**

```
+-----------+----------+----------+--------------+------------+
| filing_no | pet_name | res_name | purpose_name | next_date  |
+-----------+----------+----------+--------------+------------+
|         1 | xyz      | PQR      | order        | 2012-11-15 |
+-----------+----------+----------+--------------+------------+ 
```

# maven - 如何配置 maven Surefire 以使用作为依赖项的 jvm 代理？

> ID：13264739
> 
> 赞同：12
> 
> 时间：2012-11-07T07:04:25.013
> 
> 标签：maven, maven-3, maven-surefire-plugin

我想配置 maven sure fire 插件以使用 java 代理的参数启动单元测试 jvm。代理 jar 文件是从 maven Central 获取的，所以我希望 maven 自动找出代理 jar 文件的路径。

```
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-surefire-plugin</artifactId>
    <version>2.12.4</version>
    <configuration>
        <argLine>-javaagent: How to reference an agent jar that is a depedency </argLine>
    </configuration>
</plugin> 
```

如何使用 maven 坐标引用作为项目依赖项的代理的路径？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-07T07:50:12.290

您可以将所需的 jar 之一复制到目标位置。然后在命令行上引用该 jar。

这是一个示例（使用 log4j，它不是一个有效的代理 jar，只是为了展示一个示例）：

```
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-dependency-plugin</artifactId>
    <version>2.5.1</version>
    <executions>
        <execution>
            <id>copy-agent</id>
            <phase>process-test-classes</phase>
            <goals>
                <goal>copy</goal>
            </goals>
            <configuration>
                <artifactItems>
                    <artifactItem>
                        <groupId>log4j</groupId>
                        <artifactId>log4j</artifactId>
                        <version>1.2.14</version>
                        <outputDirectory>${project.build.directory}/agents</outputDirectory>
                        <destFileName>my-special-agent.jar</destFileName>
                    </artifactItem>
                </artifactItems>
            </configuration>
        </execution>
    </executions>
</plugin>
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-surefire-plugin</artifactId>
    <version>2.12.4</version>
    <configuration>
        <argLine>-javaagent:${project.build.directory}/agents/my-special-agent.jar</argLine>
    </configuration>
</plugin> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-06-28T01:52:21.127

采用

依赖插件的属性 mojo。

```
<argLine>-javaagent:${org.springframework:spring-instrument:jar}</argLine> 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-06-05T16:12:07.030

@wozza-xing 为复制 jar 提供了一个非常出色的解决方案。完整的 XML 片段：

```
 <plugin>
    <artifactId>maven-dependency-plugin</artifactId>
    <executions>
      <execution>
        <goals>
          <goal>properties</goal>
        </goals>
      </execution>
    </executions>
  </plugin>
  <plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-surefire-plugin</artifactId>
    <configuration>
      <argLine>-javaagent:${net.bytebuddy:byte-buddy-agent:jar}</argLine>
    </configuration>
  </plugin> 
```

# html - 在 HTML 中构造复杂表单的正确方法

> ID：13264742
> 
> 赞同：0
> 
> 时间：2012-11-07T07:04:40.890
> 
> 标签：html, css, forms, post

这让我发疯，数小时的谷歌搜索和 RTFM'ing 也无济于事。我需要知道专家将如何处理分布在多个 div 中的表单。我的第一个选择是像这样在所有 div 周围放置一个表格，然后求助于祈祷：

**代码（[JSfiddle](http://jsfiddle.net/pukster/4AJnt/1/)）：**

```
<div class='A'>
   <form id='fooForm' method='post' action='foo.php'>
      <div class='B1'>
         ...
      </div>
      <div class='B2'>
         <div class='B2-1'>
            ...
         </div>
         <div class='B2-2'>
            ...
         </div>
      </div>
   </form>
</div> 
```

但这会导致所有东西都聚集在一起

**结果：** ![在此处输入图像描述](../Images/b95252f5b497f59fc281dbd4cd752874.png)

我决定做的是将表单移出一个虚拟表单，然后处理更新值并使用该`jquery.submit`方法，如下所示：

**代码（[JSfiddle](http://jsfiddle.net/pukster/mzBKw/1/)）：**

```
<div class='A'>
   <div class='B1'>
      ...
   </div>
   <div class='B2'>
      <div class='B2-1'>
         ...
      </div>
      <div class='B2-2'>
         ...
      </div>
      ... 
   </div>
</div>
<form id='fooForm' method='post' action='foo.php'>
</form> 
```

现在看起来是我想要的样子

**结果：** ![在此处输入图像描述](../Images/5e6f8eed5efbb3ca7fd225ca065b2614.png)

但是现在我必须通过创建虚拟`input`和`select`元素并在每次用户进行更改时更新它们的值来创建所有值，或者在最后调用之前执行此操作`form.submit`。我的问题是否可以只使用 jQuery 的`post()`方法来模拟表单的功能？我知道表单提供了自动打包并将值发送到服务器的好处，但它们的限制太严格了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:12:02.877

是的，有可能，你可以用 $.post() 发送任何你想要的东西，严格来说你甚至不需要表单元素，只需将正确的数据对象传递给函数。

如果您仍然要使用正确的形式，您可以使用第一个 jquery 序列化方法从输入中获取值。[http://api.jquery.com/serialize/](http://api.jquery.com/serialize/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T08:42:01.430

就结构化而言，使用 html**列表**来构造表单内的所有内容。

```
<form id="form1" >
<ul>
<li><input /></li>
<li><select></li>
</ul>
</form> 
```

**然后使用表单序列化**提交表单，方法是使用将所有表单元素发送到服务器的 jquery ajax。

并防止刷新您的页面使用`event.preventDefault()`

**代码：**

```
$('#submit').on("click",function(event) {
event.preventDefault( );
$.post("url",$('#form-id').serialize( ),function(data){}); }
} 
```

# oracle - 使用哪一个是有效的'WHEN NO_DATA_FOUND THEN'或'ELSE'？

> ID：13264743
> 
> 赞同：1
> 
> 时间：2012-11-07T07:04:54.747
> 
> 标签：oracle, stored-procedures, plsql, oracle10g, oracle11g

在下面的两个代码块中，我使用 WHEN NO_DATA_FOUND THEN，否则使用哪个代码会更有效。

```
if outrowcount = 1 then     
  update Extable set CLIENT_COUNT = outCliCount where cname='xxx';  
  outretvalue := 0;
END IF;
EXCEPTION
  WHEN NO_DATA_FOUND THEN
     outretvalue := -1; 
```

或者

```
if outrowcount = 1 then     
   update Extable set CLIENT_COUNT = outCliCount where cname='xxx';  
   outretvalue := 0;  
 else
   outretvalue := -1; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T07:14:15.897

UPDATE 语句从不抛出 NO_DATA_FOUND 异常。它只设置隐式 SQL 游标状态，例如，您可以使用 SQL%ROWCOUNT 进行检查。所以你的样本是

```
update Extable set CLIENT_COUNT = outCliCount where cname='xxx'; 
if SQL%ROWCOUNT = 0 then
  outretvalue := -1;
else
  outretvalue := 0;
end if; 
```

# android - Android LinkedIn 无法在设备上运行，但在模拟器上运行良好

> ID：13264744
> 
> 赞同：3
> 
> 时间：2012-11-07T07:05:00.023
> 
> 标签：android, oauth, linkedin

我必须在我的 Android 应用程序中进行 LinkedIn 集成。我已经使用 Google Code 上给出的示例进行了集成，并尝试发布更新。它使我可以访问发布网络更新被拒绝的消息。所以我在论坛上找到了一些类似的问题并将链接提取到jar中，然后在编辑LinkedInAppUrls.properties文件后重新打包。在这里，它生成访问令牌，并在创建 LinkedInApiClient 时抛出 VerifyError。但是，我停止了进一步的步骤并删除了 LinkedInApiClient 创建并在设备上运行相同的应用程序。它给了我

```
OAuthException: Communication with OAuth service failed 
```

我不知道是什么问题，但尝试清除浏览器上的缓存、cookies 一切。我仍然无法摆脱这个 OAuthException，我该怎么做？该应用程序可以在模拟器上使用相同的代码正常工作。

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T11:48:50.177

在 LinkedIn 甚至 Twitter 上，这也是一个很奇怪的问题。当时间错误时，他们会抛出 OAuthException。在我的模拟器上，因为默认情况下它需要我的电脑的时间它可以工作但不能在设备上。我的设备迟到了 2 分钟的原因。这很奇怪，但是当我添加 2 分钟的时间时它起作用了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T11:42:35.823

我建议您将此 api 用于linkedIn。它可以帮助我发布状态并获取联系人。

[http://code.google.com/p/socialauth-android/](http://code.google.com/p/socialauth-android/)

# java - java httpunit.httpexception：HTTP 请求错误：405 方法不允许 [url]

> ID：13264746
> 
> 赞同：2
> 
> 时间：2012-11-07T07:05:05.950
> 
> 标签：java, servlets

我已经编写了 servlet。我想测试我的 servlet 类的功能，所以我为我的 servlet 编写了一个测试用例。但是它抛出了以下异常。

```
com.meterware.httpunit.HttpException: Error on HTTP request: 405 Method Not Allowed [http://localhost:8090/getPrintSettings]
    at com.meterware.httpunit.WebClient.validateHeaders(WebClient.java:623)
    at com.meterware.httpunit.WebClient.updateClient(WebClient.java:500)
    at com.meterware.httpunit.WebWindow.updateWindow(WebWindow.java:192)
    at com.meterware.httpunit.WebWindow.getSubframeResponse(WebWindow.java:183)
    at com.meterware.httpunit.WebWindow.getResponse(WebWindow.java:158)
    at com.meterware.httpunit.WebClient.getResponse(WebClient.java:122)
    at com.vxoom.qit.basic.GetPrintSettingsTest.testGetForm(GetPrintSettingsTest.java:22)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:616)
    at junit.framework.TestCase.runTest(TestCase.java:154)
    at junit.framework.TestCase.runBare(TestCase.java:127)
    at junit.framework.TestResult$1.protect(TestResult.java:106)
    at junit.framework.TestResult.runProtected(TestResult.java:124)
    at junit.framework.TestResult.run(TestResult.java:109)
    at junit.framework.TestCase.run(TestCase.java:118)
    at junit.framework.TestSuite.runTest(TestSuite.java:208)
    at junit.framework.TestSuite.run(TestSuite.java:203)
    at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130)
    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197) 
```

**这是我的 Servlet 类：**

```
public class GetPrintSettings extends HttpServlet {

private Logger log;
DB db;
Connection connection;

public void init() throws ServletException { //initialise servlet
    log = Logger.getRootLogger();
    db = new DB();
    connection = db.connect();
    super.init();
}

public void destroy() {  //destroy servlet
    try {
        connection.close();
    } 
    catch (SQLException e) {
        log.error("AddAddress: SQL Exception: "+e.getMessage());
        e.printStackTrace();
    }
    super.destroy();
}

protected void doPost(HttpServletRequest request, HttpServletResponse response)throws ServletException, IOException {

    int userType = Integer.parseInt(request.getParameter("user"));
    response.setContentType("application/json");        
    PrintWriter out = response.getWriter();

    //Get print settings from JavaClient
    String json = getPrintSettings();

    if(json == null) {
        out.print("{success:false, msg:'Could not send request. Please try again'}");
        out.close();
        return;
    }

    //Send the reply to the web client
    out.print(json);
    out.close();
} 
```

}

**这是我的servelt测试用例**

```
 public class GetPrintSettingsTest extends TestCase {

       public static void main( String args[] ) {

    junit.textui.TestRunner.run(GetPrintSettingsTest.class );
   }

public void testGetForm() throws Exception {
    WebConversation web = new WebConversation();
    WebRequest  request = new GetMethodWebRequest("http://localhost:8090/getPrintSettings" );
    WebResponse response = web.getResponse(request);
    request.setParameter("user", "1");
    response = web.getResponse( request );

} 
```

}

我用过httpunit1.7请帮帮我...

提前致谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T07:40:10.427

这是因为您已经实施`doPost()`并访问了`GET`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T07:10:34.470

它就在堆栈跟踪的第一行：“405 Method not allowed”。您正在尝试`GET`从仅实现/允许的 servlet `POST`。

您可以在您的 servlet 中使用`@Override`该方法，然后`doGet(...)`简单地将其转发给该`doPost(...)`方法 - 然后它就可以工作了。

干杯，

# c# - 如何将 Radcombobox 项目客户端与数据库值绑定？

> ID：13264747
> 
> 赞同：1
> 
> 时间：2012-11-07T07:05:07.043
> 
> 标签：c#, asp.net, telerik, rad-controls, radcombobox

我使用 oracle 作为我的后端。如何将 radcombobox 与来自客户端的数据库（oracle）表值绑定。如下，如果我有emp表，那么列是emp id和name，所以我必须将emp id和name绑定到客户端的rad组合框。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T05:32:10.043

使用 ajax 方法获取您的值（您可以使用 jquery 的 ajax 方法）。

```
function BindListToCombo(cbo, list) {
   $find(cbo).clearItems();
   $.each(list, function (a, item) {
      var comboItem = new Telerik.Web.UI.RadComboBoxItem();
      comboItem.set_text(item.Name);
      comboItem.set_value(item.Id);
      $find(cbo).get_items().add(comboItem);
});
var comboItem = $find(cbo).findItemByValue(0);
comboItem.select();} 
```

使用此函数将列表绑定到组合。

# google-chrome - Bootstrap - 使用 Chrome 输入（数字）

> ID：13264750
> 
> 赞同：7
> 
> 时间：2012-11-07T07:05:40.490
> 
> 标签：google-chrome, input, twitter-bootstrap

我正在使用 Bootstrap，但 Chrome 有一些问题。

![在此处输入图像描述](../Images/6fdccd645400047b5d49307744a0f2aa.png)

例如 ：

```
<input type="number" size="25" name="whatever" id="whatever" required /> 
```

当有数字输入时，您可以看到数字被剪切。

还有一个问题，左边是使用 Firefox/IE 的输入，右边是使用 Chrome 的输入。

[![在此处输入图像描述](../Images/343f5e952169e6b57b3620dd80196246.png)](https://i.stack.imgur.com/CI7aa.png)

```
<form class="form-search pull-right">
    <div class="input-append">
        <input type="text" class="span2 search-query">
        <button type="submit" class="btn">Rechercher</button>
    </div>
</form> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T19:46:03.193

我的第二个问题是通过 addind arround input 解决的：

```
<div class="row"> 
```

我的第一个问题通过添加解决了：

```
form input[type='number']{
    padding: 0px;
    margin: 0px;
} 
```

# c - 用 C 语言初始化全局结构（GCC 4.5.2）

> ID：13264753
> 
> 赞同：0
> 
> 时间：2012-11-07T07:06:14.530
> 
> 标签：c, struct, initialization, arm

我正在使用 CodeSourcery GCC 4.5.2 for ARM 为 STM32 编写 C 代码。我在初始化全局结构时遇到问题。代码如下。

在 struct.h

```
typedef struct
{
  int foo;
  ...
  int bar;
} mystruct;

extern mystruct example; 
```

在 struct.c 中

```
mystruct example = {100,200 ..., 1000}; 
```

在 Main.c 中

```
#include "struct.h"

int temp;
temp = example.foo; 
```

代码编译没有任何问题。但是在调试的时候，我发现这个结构已经被所有的垃圾值初始化了！！temp 的值应该是 100，但它总是被证明是一个垃圾值。我在 PC 上使用 eclipse + openOCD + GDB 硬件调试，在硬件端使用 Olimex JTAG。

这是编译器的问题吗？或者我在这里错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T09:26:34.883

问题已解决。我正在为 STM32 使用自定义链接器脚本，它增加了对 C++ 的支持。我在链接器文件中注释掉了以下行，并且神奇地全局结构开始使用提供的值进行初始化！

```
__exidx_start = .;
.ARM.exidx : 
{
    *(.ARM.exidx* .gnu.linkonce.armexidx.*)
} >flash
__exidx_end = .;

.preinit_array : {
    PROVIDE_HIDDEN (__preinit_array_start = .);
    KEEP (*(.preinit_array*))
    PROVIDE_HIDDEN (__preinit_array_end = .);
} >flash

.init_array : {
    PROVIDE_HIDDEN (__init_array_start = .);
    KEEP (*(SORT(.init_array.*)))
    KEEP (*(.init_array*))
    PROVIDE_HIDDEN (__init_array_end = .);
} >flash

.fini_array : {
    PROVIDE_HIDDEN (__fini_array_start = .);
    KEEP (*(.fini_array*))
    KEEP (*(SORT(.fini_array.*)))
    PROVIDE_HIDDEN (__fini_array_end = .);
} >flash 
```

我不知道上述几行究竟做了什么（除了它们是 C++ 构造函数工作所必需的）。即使项目中的所有源文件都没有任何 C++ 代码，我仍然想知道，链接器文件中的这个特定代码是做什么的，以至于我的全局结构被初始化为垃圾值？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T07:53:37.303

struct 对象的赋值发生在运行时，与编译时相反，因为全局变量在编译时被初始化。如果编译器没有捕捉到错误，它将用垃圾值初始化全局变量。Bugfree 编译器将捕获此错误

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T07:25:46.793

只需确保您`.c`在编译期间提供这两个文件并只制作可执行文件就可以了。我尝试使用我的 gcc 4.5.2

主文件：

```
cat gst.c
#include<stdio.h>
#include "gst.h"
int main()
{
int temp;
temp = example.foo;
printf("%d\n",temp);
return 0;
} 
```

另一个文件 c 文件

```
cat ggst.c
#include"gst.h"
mystruct example = {100,200}; 
```

gst.h 文件：

```
typedef struct
{
  int foo;
  int bar;
} mystruct;

extern mystruct example; 
```

`gcc -Wall -Werror gst.c ggst.c -o g`

`./g`

输出为 100

# c# - 序列化构造函数中发生异常时如何获取文件名？

> ID：13264754
> 
> 赞同：1
> 
> 时间：2012-11-07T07:06:18.133
> 
> 标签：c#, serialization

我通过这样的序列化构造函数进行序列化：

```
private MyClass(SerializationInfo info, StreamingContext c)
{
   try
   {
      MyIntVar = info.GetInt32("MyIntVar");
   }
   catch(Exception)
   {
      Trace.WriteLine("Exception occured! Setting default value.");
      MyIntVar = 4711;
   }
} 
```

我现在想要实现的是跟踪发生此异常时正在序列化的文件的名称和路径。

就像是：

```
if( c is file)
{
   Trace.WriteLine("Don't bother, I proceed anyway, but maybe you should repair the file " + FilePath);
} 
```

所以我对此有两个问题：

1.  如何确定当前的序列化上下文是一个文件？
2.  如何获取该文件对应的文件名和路径？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T07:10:30.960

您可以做到这一点的唯一方法是，如果您已经创建了`StreamingContext` *自己*，并通过该`.Context`属性提供了一些额外的信息。例如：

```
var ctx = new StreamingContext(StreamingContextStates.File, "SomeFileName");
//                                                          ^^^^ = context
var serializer = new BinaryFormatter(null, ctx);
// then use serializer.Serialize / .Deserialize 
```

然后在您的构造函数或回调中，访问它：

```
bool isFile = (c.State & StreamingContextStates.File) != 0;

string filename = c.Context as string;
if(filename != null) {
   // ...
} 
```

实际上，`string`这是非常模棱两可的 - 我*建议*使用您自己的自定义上下文类型，它永远不会与其他东西混淆。例如：

```
var ctx = new StreamingContext(StreamingContextStates.File,
    new MyStreamingContext { File = "SomeFile" });
...
class MyStreamingContext {
    public string File {get;set;}
}
...
var context = c.Context as MyStreamingContext;
if(context != null) {
    string file = context.File;
    // ...
} 
```

# java - 主类的Java表达式错误中的LISP评估

> ID：13264759
> 
> 赞同：2
> 
> 时间：2012-11-07T07:06:39.413
> 
> 标签：java, lisp, stack, evaluation

我正在尝试在代码下方运行，但出现类型转换错误，当它从 main 获取输入时，它不会评估并给我给定错误。

谁能给我一些我做错的信息..

```
Expression (+ (- 6) (* 2 3 4) (/ (+ 3) (- 2 3 1)))   
Expr in thread "main" java.lang.NumberFormatException: For input string: "(+ (- 6) 
(* 2 3 4) (/ (+ 3) (* 1) (- 2 3 1)))"
at sun.misc.FloatingDecimal.readJavaFormatException: For input string "(+ (- 6) (* 2 3    
4) (/ (+ 3) (* 1) (- 2 3 1)))"
at sun.misc.FloatingDecimal.readJavaFormatString(Unknown Source) 
```

我的代码：

```
public class SimpleLispExpressionEvaluator
{
// Current input Lisp expression
private String inputExpr;

// Main expression stack & current operation stack, see algorithm in evaluate()
// Use StackInterface
private StackInterface<Object> exprStack;
private StackInterface<Double> currentOpStack;

// default constructor
// set inputExpr to "" 
// create stack objects
public SimpleLispExpressionEvaluator()
{
    // add statements
    inputExpr = "";
    expressionStack = new Stack<Object>();
    currentOpStack = new Stack<Double>();

}

// default constructor
// set inputExpr to inputExpression 
// create stack objects
public SimpleLispExpressionEvaluator(String inputExpression) 
{
// add statements

     inputExpr = inputExpression;
     expressionStack = new Stack<Object>();
     currentOpStack = new Stack<Double>();
}

// set inputExpr to inputExpression 
// clear stack objects
public void reset(String inputExpression) 
{
// add statements
    inputExpr = inputExpression;
    Stack<Object> expressionStack = new Stack<Object>();
    Stack<Double> currentOpStack =  new Stack<Double>();

}

private boolean checkifNumber() {
    return false;
}

// This function evaluate current operator with its operands
// See complete algorithm in evaluate()
//
// Main Steps:
//      Pop operands from exprStack and push them onto 
//          currentOpStack until you find an operator
//      Apply the operator to the operands on currentOpStack
//          Push the result into exprStack
//

private double add() {
    double op1 = currentOpStack.pop();
    double op2 = currentOpStack.pop();
    double temp = op1 + op2;
      return temp;
  }`

  private double multiply() {
      double op1 = currentOpStack.pop();
      double op2 = currentOpStack.pop();
      double temp = op1 * op2;
      return temp;
  }

  private double subtract() {
      if (currentOpStack.size() == 1) {
                      double temp = -currentOpStack.pop();
                 return temp;
          } else {

      double op1 = currentOpStack.pop();
      double op2 = currentOpStack.pop();
      double temp = op1 - op2;
      return temp;
  }
  }

  private double divide() {
      if (currentOpStack.size() == 1) {
                       double temp = 1 / currentOpStack.pop();
          return temp;
         } else if (currentOpStack.pop() == 0 || currentOpStack.pop() == null)
 {
          throw new IndexOutOfBoundsException(); } else {
              double op1 = currentOpStack.pop();
                  double op2 = currentOpStack.pop();
              double temp = op1 - op2;
              return temp;
          }
  }

private void evaluateCurrentOperation()
{
// add statements

    while( expressionStack.peek().getClass().getName().equals("java.lang.Double") ) {
        currentOpStack.push( (Double)expressionStack.pop() );
        }
        Character operator = (Character)expressionStack.pop();
        Double result = null;
        switch( operator ) {
            case '+':
                result = add();
                break;
            case '*':
                result = multiply();
                break;
            case '-':
                result = subtract();
                break;
            case '/':
                result = divide();
                break;
        }
        expressionStack.push( result );
                }

/**
 * This function evaluates current Lisp expression in inputExpr
 * It return result of the expression 
 *
 * The algorithm:  
 *
 * Step 1   Scan the tokens in the string.
 * Step 2       If you see an operand, push operand object onto the exprStack
 * Step 3           If you see "(", next token should be an operator
 * Step 4       If you see an operator, push operator object onto the exprStack
 * Step 5       If you see ")"  // steps in evaluateCurrentOperation() :
 * Step 6           Pop operands and push them onto currentOpStack 
 *                  until you find an operator
 * Step 7           Apply the operator to the operands on currentOpStack
 * Step 8           Push the result into exprStack
 * Step 9    If you run out of tokens, the value on the top of exprStack is
 *           is the result of the expression.
 */
  public double evaluate()
  {
    // only outline is given...
    // you need to add statements/local variables
    // you may delete or modify any statements in this method

    // use scanner to tokenize inputExpr
    Scanner inputExprScanner = new Scanner(inputExpr);

    // Use zero or more white space as delimiter,
    // which breaks the string into single character tokens
    inputExprScanner = inputExprScanner.useDelimiter("\\s*");

    // Step 1: Scan the tokens in the string.
    while (inputExprScanner.hasNext())
    {

        // Step 2: If you see an operand, push operand object onto the exprStack
        if (inputExprScanner.hasNextInt())
        {
            // This force scanner to grab all of the digits
            // Otherwise, it will just get one char
            String dataString = inputExprScanner.findInLine("\\d+");

            expressionStack.push(new Double(dataString));

    // more ...
        }
        else
        {
    // Get next token, only one char in string token
            String aToken = inputExprScanner.next();
            char item = aToken.charAt(0);
            String nextToken;
            char nextItem;   

            switch (item)
            {

            case '(':
                nextToken = inputExprScanner.next();
                nextItem = nextToken.charAt(0);

            if (nextItem == '+') {
                            expressionStack.push(nextItem);
                        } else if (nextItem == '-') {
                            expressionStack.push(nextItem);
                        } else if (nextItem == '*') {
                            expressionStack.push(nextItem);
                        } else {
                            expressionStack.push(nextItem);
                        }

            break;
            case ')':

                try {
                evaluateCurrentOperation();
            } catch (EmptyStackException e) {
                break;
            }

            break;
                    default:  // error
           throw new RuntimeException(item + " is not a legal expression operator");
                } // end switch
            } // end else
        } // end while

        // Step 9: If you run out of tokens, the value on the top of expressionStack is
        //         is the result of the expression.
        //
        //         return result
    double result = new Double(inputExpr);
    return  result;   
   }

  // This static method is used by main() only
   private static void evaluateExprTest(String s, SimpleLispExpressionEvaluator expr)
   {
    Double result;
    System.out.println("Expression " + s);
expr.reset(s);
    result = expr.evaluate();
    System.out.printf("Result %.2f\n", result);
    System.out.println("-----------------------------");
   }

  public static void main (String args[])
  {
    SimpleLispExpressionEvaluator expr= new SimpleLispExpressionEvaluator();
    String test1 = "(+ (- 6) (* 2 3 4) (/ (+ 3) (* 1) (- 2 3 1)))";
    String test2 = "(+ (- 632) (* 21 3 4) (/ (+ 32) (* 1) (- 21 3 1)))";
    String test3 = "(+ (/ 2) (* 2) (/ (+ 1) (+ 1) (- 2 1 )))";
    String test4 = "(+ (/2))";
    String test5 = "(+ (/2 3 0))";
    String test6 = "(+ (/ 2) (* 2) (/ (+ 1) (+ 3) (- 2 1 ))))";
evaluateExprTest(test1, expr);
evaluateExprTest(test2, expr);
evaluateExprTest(test3, expr);
evaluateExprTest(test4, expr);
evaluateExprTest(test5, expr);
evaluateExprTest(test6, expr);
   } 
   } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:18:37.840

A`Scanner`可能不是阅读 S 表达式的正确工具。S-expression 阅读器通常使用[递归下降解析器](http://en.wikipedia.org/wiki/Recursive_descent_parser)来完成这项工作，使用 readtable 来处理各种数据类型。[例如，此页面](http://docs.racket-lang.org/reference/reader.html)描述了 Racket 是如何做到的。

# r - R通过Ubuntu中的代理连接

> ID：13264761
> 
> 赞同：3
> 
> 时间：2012-11-07T07:06:50.030
> 
> 标签：r, proxy, rstudio

我在 Ubuntu 12.04 上安装了 RStudio 0.97.168。当我尝试安装 gstat 库时，出现以下错误

```
install.packages("gstat", dependencies=TRUE)

Warning in install.packages :
  cannot open: HTTP status was '407 Proxy Authentication Required'
Warning in install.packages :
  cannot open: HTTP status was '407 Proxy Authentication Required'
Warning in install.packages :
  unable to access index for repository http://software.rc.fas.harvard.edu/mirrors/R/src/contrib
Warning in install.packages :
  package ‘gstat’ is not available (for R version 2.14.1) 
```

我看到了仅适用于 Windows 操作系统的解决`--intenet`方案`setInternet(TRUE)`。

请提供有关我需要进行更改以支持我的大学代理的帮助？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T10:50:03.640

您应该能够在 R 会话中使用以下内容：

```
Sys.setenv(http_proxy="http://user:pass@proxy.dom.com:8080/") 
```

（显然，替换为您的用户名、密码、代理服务器和端口。）

重要的是，***在***您第一次尝试下载任何内容之前完成 - 换句话说，最好在 R 会话开始时完成。从帮助页面`?download.file`：

> 这些环境变量必须在第一次使用下载代码之前设置：以后不能通过调用 Sys.setenv 来更改它们。

也有一些方法可以使这种更改“永久”，但如果您在笔记本电脑上工作或使用多个互联网连接，其中一些需要通过代理服务器访问，而另一些则不需要，这可能会带来不便。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-04-26T06:56:28.230

你可以试试。

```
R.home()
find file Renviron.site
And add you proxy server address in R_HOME/etc/Renviron.site
http_proxy=http://<<your proxy server address>>/

This steps help me. 
```

# sql - 如何在两个表之间显示空行

> ID：13264779
> 
> 赞同：0
> 
> 时间：2012-11-07T07:07:49.077
> 
> 标签：sql, sql-server, sql-server-2000

在 SQL Server 2000 中使用视图

表格1：

```
id  z1      z2      z3      z4   type
--------------------------------------
01A 300     400     300     400  01
2B  300     400     300     500  02
3C  700     600     400     300  01
04A 500     400     800     900  01
05B 400     300     400     300  02
06  150     200     200     150  03
.... 
```

表2：

```
type  value1         value2
------------------------------------    
01    0      300
01    301    500          
02    0      200
02    201    400
03
..... 
```

我想根据 table2 范围选择 table1 行：

表 1 的组合-`max(Z1, Z2) and max(Z3, Z4)`

如果 Max(z1,z2) range 小于或等于 table2 max(value2) where table1.type = table2.type If Max(z1, z2) range 小于或等于 table2 max(value2) where table1.type = table2.type

如果 z1、z2 范围小于或等于 table2，那么我想显示 z1、z2 行，否则为 null 如果 z3、z4 范围小于或等于 table2，那么我想显示 z3、z4 行，否则为 null

预期产出

表格1：

```
 id  z1      z2      z3      z4   type
    --------------------------------------

01A 300     400     300     400  01 ' `Both (z1, z2), (z3, z4) rows are matching with table2 for type 01`
2B  300     400     null     null  02 ' (z1, z2) are matching, (z3, z4) rows are not matching with table2 for type 02
3C  null    null     400     300  01 ' (z1, z2) rows are not matching, (z3, z4) rows are matching with table2 for type 01
04A 500     400     null     null  01 ' (z1, z2) rows are matching, (z3, z4) rows are not matching with table2 for type 01
05B 400     300     400     300  02 ' Both (z1, z2), (z3, z4) rows are matching with table2 for type 02

.... 
```

目前我正在使用一个视图，我不想更改为存储过程，因为大多数报告都在使用这个视图。

如何在 sql.. 中做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:39:46.187

这似乎给出了预期的结果。（我更喜欢使用 CTE，但您指定了 2000）。

样本数据：

```
declare @T1 table (Id varchar(3) not null,z1 int not null,z2 int not null,z3 int not null,z4 int not null,type char(2) not null)
insert into @T1 (id,z1,z2,z3,z4,type) values
('01A',300,400,300,400,'01'),
('2B',300,400,300,500,'02'),
('3C',700,600,400,300,'01'),
('04A',500,400,800,900,'01'),
('05B',400,300,400,300,'02'),
('06',150,200,200,150,'03')

declare @T2 table (type char(2) not null,value1 int not null,value2 int not null)
insert into @T2 (type,value1,value2) values
('01',0,300),
('01',301,500),
('02',0,200),
('02',201,400) 
```

询问：

```
select
    t1.Id,
    CASE WHEN t2.type is not null then z1 END as z1,
    CASE WHEN t2.type is not null then z2 END as z2,
    CASE WHEN t3.type is not null then z3 END as z3,
    CASE WHEN t3.type is not null then z4 END as z4,
    t1.type
from
    @T1 t1
        left join
    (select type,MAX(value2) as val2 from @T2 group by type) t2
        on
            t1.type = t2.type and
            t1.z1 <= t2.val2 and
            t1.z2 <= t2.val2
        left join
    (select type,MAX(value2) as val2 from @T2 group by type) t3
        on
            t1.type = t3.type and
            t1.z3 <= t3.val2 and
            t1.z4 <= t3.val2
where
    t2.type is not null or
    t3.type is not null 
```

结果：

```
Id   z1          z2          z3          z4          type
---- ----------- ----------- ----------- ----------- ----
01A  300         400         300         400         01
2B   300         400         NULL        NULL        02
3C   NULL        NULL        400         300         01
04A  500         400         NULL        NULL        01
05B  400         300         400         300         02 
```

我不确定你的问题标题的相关性是什么，中间的措辞很混乱，我对最后一个`WHERE`子句进行了猜测，因为该`06`行似乎消失了。

# c# - 中继器控件radiobuttonlist总是返回空值

> ID：13264783
> 
> 赞同：0
> 
> 时间：2012-11-07T07:08:22.007
> 
> 标签：c#, asp.net, radiobuttonlist

我正在使用下面的代码来读取单选按钮列表值。但它总是返回 null。请帮我解决这个问题。

```
foreach (RepeaterItem item in repeaterItems.Items)
{
    if (item.ItemType == ListItemType.Item || item.ItemType == ListItemType.AlternatingItem)
    {
        lbl_slno = (Label)item.FindControl("id");
        lbl_ques = (Label)item.FindControl("lblques");
        radiobtn = (RadioButtonList)item.FindControl("rdbtn");
        string radio_value = radiobtn.SelectedItem.Value;
        //radio_value return "Object reference not set to an instance of an object."
    }
}

<ItemTemplate>
    <table cellspacing="0" width="100%" align="center">
        <tr>
            <td style="width: 42px;" class="cu_style" >
                <asp:Label ID="id" runat="server" Text='<%#Bind("fld_id")%>'></asp:Label>
            </td>
            <td style="width: 503px;" class="cu_style">
                <asp:Label ID="lblques" runat="server" Text='<%#Bind("fld_Question")%>'></asp:Label>
            </td>
            <td style="width: 80px;" class="cu_style" colspan="3">
                <asp:RadioButtonList ID="rdbtn" Width="229px" runat="server" RepeatDirection="Horizontal" >
                <asp:ListItem Text="Agree">Agree&nbsp;</asp:ListItem>
                <asp:ListItem Text="Neutral">Neutral&nbsp;&nbsp;</asp:ListItem>
                <asp:ListItem Text="Disagree">Disagree</asp:ListItem>
                </asp:RadioButtonList>
            </td>

        </tr>
    </table>
</ItemTemplate> 
```

我的设计代码在这里，..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T07:32:39.987

尝试通过获取价值`.SelectedValue`

```
if (item.ItemType == ListItemType.Item || item.ItemType == ListItemType.AlternatingItem)
        {
            var rdbList = item.FindControl("rdbtn") as RadioButtonList;
            // Get the selected value
            string selected = radiobtn.SelectedValue;
        } 
```

# javascript - 如何在点击 facebook 中的按钮时使用 onlick() 事件？

> ID：13264786
> 
> 赞同：1
> 
> 时间：2012-11-07T07:08:31.913
> 
> 标签：javascript, facebook

我有一个示例代码：

```
<fb:like onclick="example();displayThread('likepost')" href="http://stackoverflow.com" send="false" width="450" show_faces="false" style="border:none; overflow:hidden; width:50px; height:23px;"></fb:like> 
```

和 javascript

```
function example() {
    alert('test');
} 
```

![喜欢](../Images/db54c5650b47ba5ee24999154737c070.png) 当我喜欢页面并单击按钮时，javascript 无法工作（警报（'test'）），如何解决它

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:14:33.570

尝试这个

```
FB.Event.subscribe('edge.create', function () {
    example();
});
//or
FB.Event.subscribe('edge.create', example); 
```

[http://developers.facebook.com/docs/reference/javascript/FB.Event.subscribe/](http://developers.facebook.com/docs/reference/javascript/FB.Event.subscribe/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T07:12:16.330

您可以尝试在`div`标签之外放置一个标签`fb:like`并在该标签内添加事件 onClick `div`，这应该可以工作。

# php - Codeigniter 问题

> ID：13264787
> 
> 赞同：2
> 
> 时间：2012-11-07T07:08:45.890
> 
> 标签：php, jquery, html, css, codeigniter

**控制器**

```
class Welcome extends CI_Controller
{
    public function index()
    {   
        $this->load->helper('url'); 
        $this->load->view('welcome_message');
        $this->load->model('Home_model');
        $data['query'] = $this->Home_model->getcategory(); 
        $this->load->view('userheader', $data); 
    }
} 
```

**模型**

```
class Home_model extends CI_Model
{
    public function getcategory()
    {           
        $this->db->select('id, cat_value, cat_title','isactive');
        $query = $this->db->get('js_job_categories');
        return $query->result();
    }
} 
```

**意见**

我将页眉和页脚包含在页脚下方再次显示的相同内容

在标题顶部它不显示查询结果如何解决问题..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T21:27:15.493

您是否在welcome_message 和userheader 视图中都包含标题？获取 $data['query'] 的数据后调用这两个视图

```
$this->load->helper('url'); 
$this->load->model('Home_model');
$data['query'] = $this->Home_model->getcategory(); 

$this->load->view('welcome_message');
$this->load->view('userheader', $data); 
```

您需要为welcome_message 视图包含$data 吗？此外，当您将 $data 传递给视图时，您现在可以仅通过 $query 访问值，而不是 $data['query']

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T08:40:06.743

好像你没有附加**Views/welcome_message.php** 你可以像这样显示查询请求

```
<?php 
```

`//header`

```
echo '<br/>';

var_dump($query);

echo '<br/>';

//footer
?> 
```

# android - Android应用程序中TextView的字体大小在从本机设置更改字体大小时发生变化

> ID：13264794
> 
> 赞同：194
> 
> 时间：2012-11-07T07:09:16.797
> 
> 标签：android, android-layout, textview, android-fonts

我想在我的应用程序中指定我自己的文本大小，但是这样做有问题。

当我在设备设置中更改字体大小时，我的应用程序的字体大小`TextView`也会发生变化。

* * *

## 回答 #1

> 赞同：257
> 
> 时间：2012-11-07T07:22:22.550

实际上，设置字体大小仅影响`sp`. 因此，您需要做的所有事情 - 定义`textSize`in`dp`而不是`sp`，然后设置不会更改您应用中的文本大小。

这是文档的链接：[尺寸](http://developer.android.com/guide/topics/resources/more-resources.html#Dimension)

但是请注意，预期的行为是所有应用程序中的字体都尊重用户的偏好。用户可能想要调整字体大小的原因有很多，其中一些甚至可能是医疗 - 视障用户。使用`dp`而不是`sp`用于文本可能会导致不情愿地歧视您应用的某些用户。

IE：

```
android:textSize="32dp" 
```

* * *

## 回答 #2

> 赞同：131
> 
> 时间：2013-08-24T12:38:48.253

最简单的方法就是使用以下内容：

```
android:textSize="32sp" 
```

如果您想了解更多关于该`textSize`属性的信息，可以查看[Android 开发者文档](http://developer.android.com/reference/android/widget/TextView.html#attr_android%3atextSize)。

* * *

## 回答 #3

> 赞同：52
> 
> 时间：2012-11-07T07:27:58.230

像使用`dimension`资源一样使用`string`资源类型（[DOCS](http://developer.android.com/guide/topics/resources/more-resources.html#Dimension)）。

在您的`dimens.xml`文件中，声明您的维度变量：

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
  <dimen name="textview_height">25dp</dimen>
  <dimen name="textview_width">150dp</dimen>
  <dimen name="ball_radius">30dp</dimen>
  <dimen name="font_size">16sp</dimen>
</resources> 
```

然后你可以像这样使用这些值：

```
<TextView
   android:layout_height="@dimen/textview_height"
   android:layout_width="@dimen/textview_width"
   android:textSize="@dimen/font_size"/> 
```

`dimens.xml`您可以为不同类型的屏幕声明不同的文件。这样做将保证您的应用在不同设备上具有所需的外观。

当您不指定`android:textSize`时，系统使用默认值。

* * *

## 回答 #4

> 赞同：25
> 
> 时间：2013-05-08T02:10:52.887

另请注意，如果 textSize 在代码中设置，调用`textView.setTextSize(X)`会将数字 (X) 解释为 SP。用于`setTextSize(TypedValue.COMPLEX_UNIT_DIP, X)`设置**dp**中的值。

* * *

## 回答 #5

> 赞同：15
> 
> 时间：2014-12-10T11:02:23.007

当已经在 dimen.xml 文件中定义时，必须通过代码再次指定 DIP 或 SP 并不是一件好事。

我认为最好的选择是在使用 dimen.xml 值时使用 PX：

```
tv.setTextSize(TypedValue.COMPLEX_UNIT_PX, getResources().getDimensionPixelSize(R.dimen.txt_size)); 
```

这样，您可以根据需要在 dimen.xml 文件中从 DP 切换到 SP，而无需更改任何代码。

* * *

## 回答 #6

> 赞同：9
> 
> 时间：2018-04-07T18:02:11.360

防止整个应用程序受到系统字体大小影响的简单方法是使用基本活动更新配置。

```
//in base activity add this code.
public  void adjustFontScale( Configuration configuration) {

    configuration.fontScale = (float) 1.0;
    DisplayMetrics metrics = getResources().getDisplayMetrics();
    WindowManager wm = (WindowManager) getSystemService(WINDOW_SERVICE);
    wm.getDefaultDisplay().getMetrics(metrics);
    metrics.scaledDensity = configuration.fontScale * metrics.density;
    getBaseContext().getResources().updateConfiguration(configuration, metrics);

}

@Override
protected void onCreate(@Nullable Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    adjustFontScale( getResources().getConfiguration());
} 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2019-02-26T16:53:54.557

您可以使用以下代码：

```
android:textSize="32dp" 
```

它解决了你的问题，但你必须知道你应该尊重用户的决定。这样，从设备设置更改文本大小不会更改此值。所以这就是为什么你需要使用**sp**而不是**dp**。所以我的建议是使用不同的系统字体大小（小，正常，大，...）查看您的应用程序

[https://stacklearn.ir](https://stacklearn.ir)

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2020-07-29T19:39:40.177

此解决方案与 Kotlin 一起使用，并且不使用已弃用的函数 resources.updateConfiguration

```
 override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        adjustFontScale(resources.configuration)
    }

    private fun adjustFontScale(configuration: Configuration?) {
        configuration?.let {
            it.fontScale = 1.0F
            val metrics: DisplayMetrics = resources.displayMetrics
            val wm: WindowManager = getSystemService(Context.WINDOW_SERVICE) as WindowManager
            wm.defaultDisplay.getMetrics(metrics)
            metrics.scaledDensity = configuration.fontScale * metrics.density

            baseContext.applicationContext.createConfigurationContext(it)
            baseContext.resources.displayMetrics.setTo(metrics)

        }
    } 
```

[观察：这与上面](https://stackoverflow.com/a/49710354/2091181)的解决方案相同，但使用 Kotlin 进行了更新

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2018-03-23T02:48:35.460

这可能会有所帮助。在您的自定义应用程序或 BaseActivity 中添加代码

```
/**
 * 重写 getResource 方法，防止系统字体影响
 *
 * @return
 */
@Override
public Resources getResources() {
    Resources resources = super.getResources();
    if (resources != null && resources.getConfiguration().fontScale != 1) {
        Configuration configuration = resources.getConfiguration();
        configuration.fontScale = 1;
        resources.updateConfiguration(configuration, resources.getDisplayMetrics());
    }
    return resources;
} 
```

但是，Resource#updateConfiguration 在 API 级别 25 中被取消，这意味着将来有一天它会不受支持。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2020-03-12T09:25:56.640

对于 kotlin，它对我有用

```
priceTextView.textSize = 12f 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2020-03-17T13:16:25.567

将 DP 更改为 sp 它是 android android:textSize="18sp" 的好习惯

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2020-04-11T10:44:05.803

在android 8中，这个解决方案对我有用

在基本活动中添加此代码

```
@Override
protected void attachBaseContext(Context newBase) {
    super.attachBaseContext(newBase);
    final Configuration override = new Configuration(newBase.getResources().getConfiguration());
    override.fontScale = 1.0f;
    applyOverrideConfiguration(override);
} 
```

来源 [https://stackoverflow.com/a/57225687/7985871](https://stackoverflow.com/a/57225687/7985871)

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2018-12-29T14:18:22.330

如果使用的单位是 SP，而不是 DP，并且您想要覆盖系统字体缩放，您所做的就是覆盖活动中的一种方法 -[请参阅这篇文章](https://stackoverflow.com/questions/21546805/how-to-prevent-system-font-size-changing-effects-to-android-application/53970324#53970324)。

*resources.updateConfiguration*已弃用且有问题（在 Oreo 上，我遇到了格式化文本的问题）。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2019-05-10T10:34:11.960

`getResources()`在活动中覆盖。

像往常一样在sp中设置TextView的大小`android:textSize="32sp"`

```
override fun getResources(): Resources {
    return super.getResources().apply {
        configuration.fontScale = 1F
        updateConfiguration(configuration, displayMetrics)
    }
} 
```

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2021-05-17T04:41:50.580

我通常从资源文件中的维度更改大小

```
<resources>
    <dimen name="siez_1">40px</dimen>
    <dimen name="siez_2">50px</dimen>
    <dimen name="siez_3">60px</dimen>

</resources> 
```

# image - 间接图像 URL 的 Coldfusion CFHTTP 问题

> ID：13264795
> 
> 赞同：4
> 
> 时间：2012-11-07T07:09:22.817
> 
> 标签：image, image-processing, coldfusion

我有一个脚本，它遍历 XML 文档并提取图像 URL，然后使用 CFHTTP 继续下载它们，如下所示：

```
<cfhttp method="get" url="#qTempImageData.url#" result="oHttp">
    <cfhttpparam type="CGI" name="http_referer" value="http://www.realestate.com.au" encoded="false" /> 
</cfhttp>
<cfimage action="write" destination="#APPLICATION.vTempPath#properties\#ListLast(qTempImageData.url, '/')#" source="#oHttp.FileContent.toByteArray()#" overwrite="yes" /> 
```

当 URL 变量“qTempImageData.url”不以 .png 或 .jpg 之类的图像扩展名终止时，就会出现问题......例如：

```
http://img.agentaccount.com/f6ec41e07261cec1b9e120fc0186b1cf7e583d66 
```

此 URL 确实提供了图像，并且可以看到图像存在，但我无法将其跟踪到任何托管文件本身的 URL，因此像我通常使用上述 CFHTTP 命令一样下载它...

有什么方法可以解释像 URL 变量中的“服务”图像？

〜埃利塞奥

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T09:46:55.450

对于您列出的 URL，曾经与该文件关联的任何文件名都已消失，因此您需要创建一个新名称。

如果您的问题是您需要扩展信息才能保存然后提供文件，那么一种方法是查看您返回的内容类型标题并使用它来确定文件扩展名。

因此，如果您的 ListLast() 调用确定的文件名不以 .jpg、.jpeg、.png 等结尾，则读取 oHttp.responseHeader["content-type"] 将是 image/jpeg 或 image/ png 来确定要添加的文件扩展名。

# java - 当我尝试从数据库中获取数据时，休眠“没有会话或会话已关闭”

> ID：13264799
> 
> 赞同：1
> 
> 时间：2012-11-07T07:09:55.453
> 
> 标签：java, hibernate, hibernate-mapping

我正在尝试编写一个库存管理系统。但现在我有几个问题。请帮我解决这些问题。

我有 2 个实体。`Item` 和`ItemPrice`。`Item`有*一个或多个* `ItemPrice`

当我尝试保存`Item`对象时，它工作正常；但是当我尝试从数据库中检索详细信息时，它会给出以下`Exception`堆栈跟踪。

```
org.hibernate.HibernateException：找到对集合的共享引用：com.pos.entities.ItemGroup.items
Hibernate：选择 itemmodel0_.id 作为 id9_，itemmodel0_.item_model 作为 item2_9_，itemmodel0_.status 作为 status9_ from smartpos.item_model itemmodel0_ where (itemmodel0_.status=? )
休眠：从 smartpos.item_size itemize0_ where (itemsize0_.status=? ) 中选择 itemize0_.id 作为 id3_，itemsize0_.item_size 作为 item2_3_，itemsize0_.status 作为 status3_
    在 org.hibernate.engine.Collections.processReachableCollection(Collections.java:163)
    在 org.hibernate.event.def.FlushVisitor.processCollection（FlushVisitor.java:37）
    在 org.hibernate.event.def.AbstractVisitor.processValue(AbstractVisitor.java:101)
    在 org.hibernate.event.def.AbstractVisitor.processValue(AbstractVisitor.java:61)
    在 org.hibernate.event.def.AbstractVisitor.processEntityPropertyValues(AbstractVisitor.java:55)
    在 org.hibernate.event.def.DefaultFlushEntityEventListener.onFlushEntity（DefaultFlushEntityEventListener.java:138）
    在 org.hibernate.event.def.AbstractFlushingEventListener.flushEntities（AbstractFlushingEventListener.java:196）
    在 org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions（AbstractFlushingEventListener.java:76）
    在 org.hibernate.event.def.DefaultFlushEventListener.onFlush（DefaultFlushEventListener.java:26）
    在 org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1000)
    在 org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:338)
    在 org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:106)
    在 com.pos.dao.ItemDaoImpl.getItem(ItemDaoImpl.java:761)
    在 com.pos.manager.ItemManager.getItem(ItemManager.java:296)
    在 com.pos.ui.ItemDefinitionForm$RefreshTask.doInBackground(ItemDefinitionForm.java:464)
    在 com.pos.ui.ItemDefinitionForm$RefreshTask.doInBackground(ItemDefinitionForm.java:458)
    在 javax.swing.SwingWorker$1.call(SwingWorker.java:277)
    在 java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    在 java.util.concurrent.FutureTask.run(FutureTask.java:138)
    在 javax.swing.SwingWorker.run(SwingWorker.java:316)
    在 java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    在 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    在 java.lang.Thread.run(Thread.java:619)
2012 年 11 月 7 日 12:03:42 PM org.hibernate.LazyInitializationException
严重：未能延迟初始化角色集合：com.pos.entities.Item.itemPrices，没有会话或会话已关闭
org.hibernate.LazyInitializationException：未能延迟初始化角色集合：com.pos.entities.Item.itemPrices，没有会话或会话已关闭
    在 org.hibernate.collection.AbstractPersistentCollection.throwLazyInitializationException（AbstractPersistentCollection.java:358）
    在 org.hibernate.collection.AbstractPersistentCollection.throwLazyInitializationExceptionIfNotConnected（AbstractPersistentCollection.java:350）
    在 org.hibernate.collection.AbstractPersistentCollection.readSize(AbstractPersistentCollection.java:97)
    在 org.hibernate.collection.PersistentSet.size(PersistentSet.java:139)
    在 com.pos.ui.ItemDefinitionForm$RefreshTask.doInBackground(ItemDefinitionForm.java:520)
    在 com.pos.ui.ItemDefinitionForm$RefreshTask.doInBackground(ItemDefinitionForm.java:458)
    在 javax.swing.SwingWorker$1.call(SwingWorker.java:277)
    在 java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    在 java.util.concurrent.FutureTask.run(FutureTask.java:138)
    在 javax.swing.SwingWorker.run(SwingWorker.java:316)
    在 java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    在 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    在 java.lang.Thread.run(Thread.java:619)
org.hibernate.LazyInitializationException：未能延迟初始化角色集合：com.pos.entities.Item.itemPrices，没有会话或会话已关闭
    在 org.hibernate.collection.AbstractPersistentCollection.throwLazyInitializationException（AbstractPersistentCollection.java:358）
    在 org.hibernate.collection.AbstractPersistentCollection.throwLazyInitializationExceptionIfNotConnected（AbstractPersistentCollection.java:350）
    在 org.hibernate.collection.AbstractPersistentCollection.readSize(AbstractPersistentCollection.java:97)
    在 org.hibernate.collection.PersistentSet.size(PersistentSet.java:139)
    在 com.pos.ui.ItemDefinitionForm$RefreshTask.doInBackground(ItemDefinitionForm.java:520)
    在 com.pos.ui.ItemDefinitionForm$RefreshTask.doInBackground(ItemDefinitionForm.java:458)
    在 javax.swing.SwingWorker$1.call(SwingWorker.java:277)
    在 java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    在 java.util.concurrent.FutureTask.run(FutureTask.java:138)
    在 javax.swing.SwingWorker.run(SwingWorker.java:316)
    在 java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    在 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    在 java.lang.Thread.run(Thread.java:619)

```

**这是实体类文件。**

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"   "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated Nov 3, 2012 10:36:51 PM by Hibernate Tools 3.2.1.GA -->
<hibernate-mapping>
<class catalog="smartpos" name="com.pos.entities.ItemPrice" table="item_price" lazy="false">
<id name="id" type="java.lang.Integer">
  <column name="id"/>
  <generator class="identity"/>
</id>
<many-to-one class="com.pos.entities.Item" fetch="select" name="item">
  <column name="item_id" not-null="true"/>
</many-to-one>
<many-to-one class="com.pos.entities.PriceList" fetch="select" name="priceList">
  <column name="price_list_id" not-null="true"/>
</many-to-one>
<property name="price" type="float">
  <column name="price" not-null="true" precision="12" scale="0"/>
</property> 
```

**物品实体**

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"     "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated Nov 3, 2012 10:36:51 PM by Hibernate Tools 3.2.1.GA -->
<hibernate-mapping>
<class catalog="smartpos" lazy="false" name="com.pos.entities.Item" table="item">
<id name="id" type="java.lang.Integer">
  <column name="id"/>
  <generator class="identity"/>
</id>
<many-to-one class="com.pos.entities.ItemColor" fetch="select" name="itemColor">
  <column name="item_color_id" not-null="true"/>
</many-to-one>
<many-to-one class="com.pos.entities.ItemModel" fetch="select" name="itemModel">
  <column name="item_model_id" not-null="true"/>
</many-to-one>
<many-to-one class="com.pos.entities.ItemGrade" fetch="select" name="itemGrade">
  <column name="item_grade_id" not-null="true"/>
</many-to-one>
<many-to-one class="com.pos.entities.BusinessPartner" fetch="select" name="businessPartner">
  <column name="supplier_id" not-null="true"/>
</many-to-one>
<many-to-one class="com.pos.entities.ItemSize" fetch="select" name="itemSize">
  <column name="item_size_id" not-null="true"/>
</many-to-one>
<many-to-one class="com.pos.entities.Login" fetch="select" name="login">
  <column name="login_id" not-null="true"/>
</many-to-one>
<many-to-one class="com.pos.entities.ItemGroup" fetch="select" name="itemGroup">
  <column name="item_group_id" not-null="true"/>
</many-to-one>
<many-to-one class="com.pos.entities.ItemBrand" fetch="select" name="itemBrand">
  <column name="item_brand_id" not-null="true"/>
</many-to-one>
<property name="itemCode" type="string">
  <column length="50" name="item_code" not-null="true" unique="true"/>
</property>
<property name="itemName" type="string">
  <column length="200" name="item_name" not-null="true"/>
</property>
<property name="shortName" type="string">
  <column length="100" name="short_name" not-null="true"/>
</property>
<property name="barcode" type="string">
  <column length="50" name="barcode" not-null="true"/>
</property>
<property name="warrentyItem" type="byte">
  <column name="warrenty_item" not-null="true"/>
</property>
<property name="taxableItem" type="byte">
  <column name="taxable_item" not-null="true"/>
</property>
<property name="status" type="byte">
  <column name="status" not-null="true"/>
</property>
<property name="createdDate" type="timestamp">
  <column length="19" name="created_date" not-null="true"/>
</property>
<property name="batchSerial" type="byte">
  <column name="batch_serial" not-null="true"/>
</property>
<property name="warrentyPeriod" type="int">
  <column name="warrenty_period" not-null="true"/>
</property>
<set inverse="true" name="itemPrices" cascade="save-update">
  <key>
    <column name="item_id" not-null="true"/>
  </key>
  <one-to-many class="com.pos.entities.ItemPrice"/>
</set> 
```

**图形用户界面编码**

```
headers = new SupportedMethod().getTableHeaderValues(tblItemPrice);
System.out.println("sdff" + item.getItemPrices().size());
itemPriceSet = item.getItemPrices();
Iterator it = itemPriceSet.iterator();

while (it.hasNext()) {
    ItemPrice ip = (ItemPrice) it.next();
    Vector<Object> oneRow = new Vector<Object>();

    oneRow.add(ip.getId());
    oneRow.add(ip.getPriceList().getPriceListName());
    oneRow.add(Float.toString(ip.getPrice()));

    tableData.add(oneRow);
}
tblItemPrice.setModel(new DefaultTableModel(tableData, headers)); 
```

`cascade`没关系，我已经设置了`lazy=false`，但它会抛出`Exception`. 请任何人帮助我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T07:48:56.170

stacktrace 中的这些行表明您的 Item.itemPrices 集使用了延迟初始化：

```
collection of role: com.pos.entities.Item.itemPrices, no session or session was closed at
org.hibernate.collection.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:358)
... 
```

所以请将lazy="false" 添加到itemPrices 集合中：

```
<set inverse="true" name="itemPrices" lazy="false" fetch="select" cascade="save-update">
  <key>
    <column name="item_id" not-null="true"/>
  </key>
  <one-to-many class="com.pos.entities.ItemPrice"/>
</set> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T06:18:33.987

lazy=false 不是专业的方法。当您在配置中执行此操作时，这意味着无论何时访问它都不会使用延迟加载。延迟加载是好事。对于您的问题解决方案，只需在该特定事务方法中调用一种方法“size()”。只需调用 itemprice 集合的 size() 方法。这将初始化集合然后关闭会话。所以你会得到所有的数据。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-08T05:47:55.417

霍兹是对的。设置延迟加载时，集合在被访问之前不会加载。我的猜测是，当应用程序尝试访问它时，您已经关闭了与该对象关联的特定会话。

如果您完全禁用了延迟加载，那么您将无法获得堆栈跟踪的延迟加载失败部分。

请发布新的堆栈跟踪。

# ios - ios基础图像处理提取红色通道

> ID：13264802
> 
> 赞同：0
> 
> 时间：2012-11-07T07:10:06.283
> 
> 标签：ios, image-processing, accelerate-framework

直截了当我需要从图像中提取颜色分量，通常在 Matlab 中，这是为红色选择第一个矩阵。

在加速框架领域，哪些文档是基于参考的，如果不解析图形上下文，我找不到一种简单的方法来做到这一点。

提前致谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:55:00.923

```
UIImage* image = // An image
CFDataRef pixelData = CGDataProviderCopyData(CGImageGetDataProvider(image.CGImage));
const UInt8* pixelBytes = CFDataGetBytePtr(pixelData);

//32-bit RGBA
for(int i = 0; i < CFDataGetLength(pixelData); i += 4) {
    pixelBytes[i]   // red
    pixelBytes[i+1] // green
    pixelBytes[i+2] // blue
    pixelBytes[i+3] // alpha
} 
```

# python - 在 Python 中迭代文件对象不起作用，但 readlines() 可以但效率低下

> ID：13264805
> 
> 赞同：3
> 
> 时间：2012-11-07T07:10:22.363
> 
> 标签：python

在以下代码中，如果我使用：

```
for line in fin: 
```

它只为'a'执行

但如果我使用：

```
wordlist = fin.readlines()
for line in wordlist: 
```

然后它执行一个到 z。

但是`readlines()`一次读取整个文件，这是我不想要的。

如何避免这种情况？

```
def avoids():
    alphabet = 'abcdefghijklmnopqrstuvwxyz'
    num_words = {}

    fin = open('words.txt')

    for char in alphabet:
      num_words[char] = 0
      for line in fin:
        not_found = True
        word = line.strip()
        if word.lower().find(char.lower()) != -1:
          num_words[char] += 1
    fin.close()
    return num_words 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-07T07:12:25.513

该语法`for line in fin`只能使用一次。完成此操作后，您已经用尽了文件，并且无法再次读取它，除非您“重置文件指针”通过`fin.seek(0)`. 相反，`fin.readlines()`会给你一个列表，你可以一遍又一遍地迭代。

* * *

我认为使用[`Counter`](http://docs.python.org/2/library/collections.html#collections.Counter)(python2.7+) 进行简单的重构可以为您省去这个头疼的问题：

```
from collections import Counter
with open('file') as fin:
    result = Counter()
    for line in fin:
        result += Counter(set(line.strip().lower())) 
```

这将计算文件中包含特定字符的单词数（每行 1 个单词）（我相信这是您的原始代码......如果我错了，请纠正我）

您也可以使用[`defaultdict`](http://docs.python.org/2/library/collections.html#collections.defaultdict)(python2.5+) 轻松完成此操作：

```
from collections import defaultdict
with open('file') as fin:
    result = defaultdict(int)
    for line in fin:
        chars = set(line.strip().lower())
        for c in chars:
            result[c] += 1 
```

最后，把它踢老派——我什至不知道什么时候`setdefault`被介绍的……：

```
fin = open('file')
result = dict()
for line in fin:
    chars = set(line.strip().lower())
    for c in chars:
        result[c] = result.setdefault(c,0) + 1

fin.close() 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-07T07:12:39.740

你有三个选择：

1.  无论如何都要读入整个文件。
2.  在尝试再次对其进行迭代之前，请返回文件的开头。
3.  重新构建您的代码，以便它不需要多次迭代文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T07:16:22.770

尝试：

```
from collections import defaultdict
from itertools import product

def avoids():
    alphabet = 'abcdefghijklmnopqrstuvwxyz'

    num_words = defaultdict(int)

    with open('words.txt') as fin:
        words = [x.strip() for x in fin.readlines() if x.strip()]

    for ch, word in product(alphabet, words):
        if ch not in word:
             continue
        num_words[ch] += 1

    return num_words 
```

# actionscript-3 - 错误 #1063：构造函数中对象的参数计数不匹配

> ID：13264806
> 
> 赞同：0
> 
> 时间：2012-11-07T07:10:25.877
> 
> 标签：actionscript-3, flash, compiler-errors

我的问题是这样的问题：[ArgumentError: Error #1063](https://stackoverflow.com/questions/7410272/argumenterror-error-1063)

不同之处在于我的文档类加载后我收到了这个错误，我点击了一个按钮来启动 Game() 类。PowerUp() 类会自动生成错误，而不会被程序调用。我发现 PowerUp() 类构造函数中的第一个参数没有接收到值。

> public function PowerUp(tar:Object,s:Number=1, a:String="bonusShots",t:String="Multi Shot", l:int=100):void {/// 更多代码

我需要将舞台上的影片剪辑“thePlayer”放入 PowerUp() 类构造函数的第一个参数中。

当我将“thePlayer”添加到构造函数中时，我得到另一个错误“对象不是编译时间常量”。

> ```
>  var thePlayer: MovieClip=thePlayer; 
> ```
> 
> public function PowerUp(tar:Object=thePlayer,s:Number=1, a:String="bonusShots",t:String="Multi Shot", l:int=100):void {// 更多代码

问题：如何将“thePlayer”电影剪辑合并到 PowerUp 类的构造函数中？

这是 PowerUp 类的代码

```
public class PowerUp extends Sprite{

        protected var type:String;// type of power up

        protected var strength:Number;// power of power up

        protected var attribute:String;// attribute effected by power up

        protected var target:Object;// target to buff/boost/perk up/ empower/improve/enhance

        protected var lifespan:int;// the life span of a perk

        protected var maxLifeSpan:int; // max time to live grahic

        const BAR_WIDTH=100;// width of rect

        const BAR_HEIGHT=15;// height of rect

    public function PowerUp(tar:Object,s:Number=1, a:String="bonusShots",t:String="Multi Shot", l:int=100):void {

            type=t;

            strength=s;

            attribute=a;

            target=tar;

            lifespan=l;

            maxLifeSpan=l;

            perkName.text=t;
            perkName.blendMode="invert";

            // apply perk to target
            target[attribute]+=strength;

        }//  end constructor 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:38:48.617

```
var thePlayer: MovieClip=thePlayer; 
```

在这里，您将变量分配为自身。尝试使用类似的东西：

```
var _thePlayer:Player = new Player(); 
```

Player 必须存在于某处，作为类或共享库项目。

如果您总是将 Player 对象传递给 PowerUp 类，您不妨将第一个参数转换为 Player。

```
public function PowerUp(tar:Player, 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T07:39:08.397

您不能为自动构造的类的构造函数提供参数。如您所见，您只能将编译时常量用作默认值。换句话说，只有编译器在解析代码时才将其理解为值。

您最好的选择是避免在构造函数中传递参数，并将其视为运行时所需的技术函数，而是在您可以自己调用的其他函数中执行初始化工作。

例如，假设这是您的文档类：

```
public class DocumentClass extends Sprite {
    public function DocumentClass() {
        super();
    }
    public function powerUp(tar:MovieClip):void {
        this.tar = tar;
    }
} 
```

在其他地方，您需要初始化此类，您将调用该`powerUp`函数。

# c++ - 对变量上的标准结构数组进行排序

> ID：13264809
> 
> 赞同：4
> 
> 时间：2012-11-07T07:10:38.683
> 
> 标签：c++, arrays, sorting, struct

> **可能的重复：**
> [c++ sort with structs](https://stackoverflow.com/questions/873715/c-sort-with-structs)

我试图弄清楚如何在数组中保存的结构中的特定变量上对结构数组进行排序。这是我的代码：

```
struct Process{
    int pid;
    int burst;
    int arrival;
};

int main(int argc, char *argv[]){

    // The number of processes
    int numProcesses = 3;

    //Create an array that holds 10 Process structs
    Process *arrayOfProcesses = new Process[numProcesses];

    // Puts values in each pid, burst, and arrival
    arrayOfProcesses[0].pid = 0;
    arrayOfProcesses[0].burst = 8;
    arrayOfProcesses[0].arrival = 2;

    arrayOfProcesses[1].pid = 1;
    arrayOfProcesses[1].burst = 12;
    arrayOfProcesses[1].arrival = 3;

    arrayOfProcesses[2].pid = 2;
    arrayOfProcesses[2].burst = 4;
    arrayOfProcesses[2].arrival = 1;

    // Sort the array based on the arrival time
    // Help! :)
} 
```

我真的希望能够在到达时间对我的代码中的数组进行排序。我已经简化了我的代码，让您大致了解我想要完成的工作。在我的实际代码中，数组是根据文件读取的信息动态填充的。 **我知道使用 List 甚至 Vector 会是更好的选择，但我决心使用数组来解决这个问题。**

任何有关排序的帮助将不胜感激！:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T07:17:46.297

`sort`从标准`<algorithm>`标题中使用：

```
std::sort(arrayOfProcesses, arrayOfProcesses+numProcesses, [](Process const &a, Process const &b){ return a.arrival < b.arrival; }); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T07:22:20.357

您仍然可以通过添加比较函数将数组与 STL 排序算法一起使用：

```
#include <algorithm>
bool operator<(const Process& lhs, const Process& rhs)
{
  return lhs.pid < rhs.pid;
}

sort(arrayOfProcesses, arrayOfProcesses + numProcesses); 
```

# networking - “DHCP ...PXE E-53 未收到启动文件名”超时时间过长

> ID：13264811
> 
> 赞同：0
> 
> 时间：2012-11-07T07:10:44.267
> 
> 标签：networking, dhcp, tftp

我在 Linux Debian 下建立了一个 PXE-boot 网络。我为此使用了以下组件：

pxelinux, dhcp3, tftp-hpa

对于我网络中的每个客户端，我在 /etc/dhcp3/dhcpd.conf 中配置了一个主机声明。

在此主机声明中，他们将获得：静态 IP、网关、引导文件名“pxelinux.0”、dns-server

此配置完全有效。**但是**，当我希望客户端启动引导文件名时，我正在使用文件名选项配置此客户端的主机声明。当我不希望这个客户端启动文件名时，我将从它的主机声明中删除这一行。每次在 /etc/dhcp3/dhcp.conf 中编辑一行时，我都会重新启动 dhcp-server 以重新解析配置。

这也有效。但是当客户端在**没有**文件名选项的情况下启动时，它会努力搜索启动文件名（输出大约 30 秒：“DHCP.......”）并以 PXE E-53 退出：未收到启动文件名。

这是我完全不明白的。当这个客户端没有绑定到它的主机声明的文件名选项时，为什么要花这么长时间来搜索引导文件名？有没有办法告诉这个客户端不要搜索这个引导文件名？或者最终有没有办法将获取启动文件名的超时设置为小于 5 秒？在我的环境中，等待超过 1 分钟以启动一台主机绝对是浪费时间，这就是我问的原因。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T23:07:55.320

如果客户端打算从网络启动，则客户端启动的方式在其 bios 设置中设置，无论您是否在 DHCP 事务中提供它，它将始终等待 NBP（网络启动加载程序）。

如果您希望客户端不执行 PXE 启动，只需更改 BIOS 设置，告诉它应该从客户端 HDD 启动

# visual-studio - Orchard 1.6 VS 发布问题

> ID：13264815
> 
> 赞同：1
> 
> 时间：2012-11-07T07:10:48.010
> 
> 标签：visual-studio, orchardcms

从 Visual Studio 2010/2012 发布果园网站时，它可以在 Orchard 1.5.1 的发布模式下发布，然后您将获得一个可移植的约 50MB 网站。

但是对于 Orchard 1.6，它不会复制必要的文件/文件夹，除非您选择调试模式，有时要考虑上传 ~800MB，这是为什么呢？

我们暂时恢复到 1.5.1...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T22:26:13.277

您需要转到*Orchard.Web项目的**Package/Publish Settings*，找到选项*"Items to deploy"*，并将其值更改为*"All files in this project folder"*。确保当前配置上下文设置为*Release*。

 ***目前它的值默认设置为*"Only files required to run this application"*。因此，*Orchard.Web*的一些重要子目录，如*Themes*和*Modules*，没有被发布，因为它们没有包含在项目文件中。

注意：为了减少生成的输出文件夹大小，您需要在*“要部署*的项目”下方选中*“排除生成的调试符号”*选项。

 *顺便说一句，据我记得，这个问题也与以前的版本有关。

据我了解，使用`build.cmd`文件构建部署包而不是直接从VS使用*发布命令更正确。*这样，您还可以利用Orchard 1.6 中引入的新*预编译目标功能。*它提供了预编译所有模块和主题并将它们发布为 DLL 的能力。****

# php - PHP 返回“数组”而不是数组数据

> ID：13264821
> 
> 赞同：-1
> 
> 时间：2012-11-07T07:11:28.000
> 
> 标签：php, javascript, random

> **可能重复：**
> [Php 将数组传递给 Javascript](https://stackoverflow.com/questions/4287654/php-pass-array-to-javascript)
> [如何将 PHP 数组参数传递给 Javascript 函数？](https://stackoverflow.com/questions/6502107/how-to-pass-php-array-parameter-to-javascript-function)

所以我试图从一个由从数据库中提取的数据组成的数组中随机提取一个单独的元素。这是 php 代码的简化版本。

```
 function getID() {
                $result = array('1','2','3','4');

                $id = $result[array_rand($result)];
                return $id;
        } 
```

从这里开始，我使用返回的 ID 定义一个 JavaScript 变量。

奇怪的是，当我使用传递的返回 $id 定义 JS 变量时，javascript 变量被定义为 = "Array" 而不是 $id 数据。

如果我将 php 代码更改为：

```
 function getID() {
                $result = array('1','2','3','4');

                $id = array_rand($result);
                return $id;
        } 
```

javascript 变量定义为 $id，它是数组键，而不是数组数据。

所以我尝试将php代码更改为：

```
 function getID() {
                $result = array('1','2','3','4');

                return $result[0];
        } 
```

但是 javascript 再次被定义为“数组”。

就好像 php 不会使用数组标记。

欢迎在这里提出任何想法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T07:15:45.317

您不能直接将数组直接从 php 传递给 javascript。用于[`json_encode`](http://www.php.net/manual/en/function.json-encode.php)将您的数组作为 Json 编码字符串返回。

```
function getID() {
   $result = array('1','2','3','4');

   json_encode($result);
} 
```

在javascript中你可以这样做：

```
var obj = JSON.parse(jsonFormattedStringThatWasGeneratedByFunctionGetID); 
```

大多数浏览器都支持[`JSON.parse()`](http://msdn.microsoft.com/en-us/library/cc836466%28v=vs.85%29.aspx)

**编辑：**起初我误解了你的问题，但你仍然可以使用这种方法并在客户端获得所需的项目，但这远非完美的解决方案。我将把这个答案作为另一种选择。

# c++ - C：将 atoi() 的输出类型转换为无符号字符？

> ID：13264833
> 
> 赞同：-2
> 
> 时间：2012-11-07T07:12:28.023
> 
> 标签：c++, casting, std, atoi

我把这个问题归结为来自 atoi() 输出的类型转换问题。基本上，我将 string.c_str() 传递给 atoi()，我可以像我期望的那样“计算”该值 (32)。但是，如果我进行这样的类型转换：

```
string num = "32";
unsigned char x = (unsigned char)atoi(num.c_str());
cout << x << endl; 
```

然后 x 最终没有任何值。它不仅仅是 0 什么的，而是 NULL。是什么赋予了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T07:15:21.820

`char`表示字符符号。当您通过流打印时，您将看到 ASCII 字符。32 是`space`ASCII 码中的符号代码，这就是为什么你什么都看不到的原因。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T07:15:31.433

一个`char`值代表一个字符，因此将其字符打印到流中会显示字符本身，而不是其数字代码。

如果您正在打印的字符的数值由可打印的 ASCII 字母表示，例如与字母对应的值 65 `A`，您将看到该字母显示在控制台/终端输出中。在您的示例中，数字代码是 32，它对应于空间，它将保持不可见。数字代码 0 将导致终端打印二进制 NUL 字符的某种表示形式。

# java - 我想将一个数字拆分为一位数并将其更改为android中的二进制数

> ID：13264835
> 
> 赞同：0
> 
> 时间：2012-11-07T07:12:33.467
> 
> 标签：java, android

我有一个数字 83 我想将这个数字拆分为 8 和 3 然后想在 android 中将数字更改为二进制形式并想要结果。我该怎么做。请帮帮我

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-07T07:18:37.693

您可以将`integer`值转换为`binaryString`using [`Integer.toBinaryString(int)`](http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toBinaryString%28int%29)。

现在，要将整数拆分为单个数字，您可以使用`modulus (%)`和运算符使用简单的数学`division (/)`运算。

这是您可以使用的递归函数：-

```
public static void convert(int num) {

    if (num > 0) {
        int lastDigit = num % 10;
        convert(num / 10);
        System.out.print(Integer.toBinaryString(lastDigit) + " ");
    }
}

// From your main method
convert(83); 
```

**输出： -**

```
1000 11 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T07:20:56.707

要从数字中获取数字，请使用以下方法：

```
String str = String.valueOf(someInt);

char[] digits = str.toCharArray(); 
```

现在遍历数字数组。并将每个数字转换为二进制，通过

```
Integer.toBinaryString(Character.digit(digits[i], 10)); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T09:03:14.487

```
 public String conIntTOBin(String num) {
        String temp = "";

        for(int i=0; i < num.length(); i++) {                               
              temp += Integer.toBinaryString(Integer.parseInt(""+num.charAt(i)));
        }
        return temp;

 } 
```

将您的整数作为字符串 perametre 传递。

# sms - MSC如何将短信转发到手机

> ID：13264836
> 
> 赞同：0
> 
> 时间：2012-11-07T07:12:36.800
> 
> 标签：sms, gsm, 3g, cdma

BSC和BTS在将消息转发到移动设备中的作用是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T11:31:08.673

BSC 和BTS 关注的是低层协议，例如通过空中接口与MS 建立连接。短消息服务协议在3GPP TS 23.040（短消息服务（SMS）的技术实现）中定义，属于通信管理（CM）层，更高。

这实际上意味着，SMS PDU 看起来像是向 BSC 加载的数据。它不会打开它们的包装或对它们做任何事情，而只是直接传递它们。这在标准 GSM 协议栈图中进行了说明，例如页面下方的一半 [此处为 http://personal.ee.surrey.ac.uk/Personal/L.Wood/constellations/tables/gsm.html]。可以看到，CM 层只在 MS 和 MSC 上实现，在 BSC 或 BTS 上没有实现。

# javascript - JavaScript 数值略有偏差

> ID：13264838
> 
> 赞同：0
> 
> 时间：2012-11-07T07:12:52.500
> 
> 标签：javascript

> **可能的重复：**
> [JavaScript 的数学被破坏了吗？](https://stackoverflow.com/questions/588004/is-javascripts-math-broken)

所以我正在编写一个程序，将数字计算为非常精确的值，并且我学会了数值永远不会与它们看起来完全一样的艰难方法。例如：

```
<script type="text/javascript">
var num=80.902
var difference=(num*10-Math.floor(num*10))/10;
document.write(difference);
</script> 
```

这表明存在 0.0019999999999998181 的实际差异。有什么办法可以使这些数字准确吗？我猜这是某种记忆的东西，所以有没有办法让我把它变成双重或什么？将数据与小于 10^-13 的数字进行比较很烦人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:16:43.347

这是 javascript 的固有限制。它不是为高精度浮点数数学而设计的。

这个问题是你想看的：[如何在 JavaScript 中处理浮点数精度？](https://stackoverflow.com/questions/1458633/elegant-workaround-for-javascript-floating-point-number-problem)在这里[浮点数学被破坏了吗？](https://stackoverflow.com/questions/588004/is-javascripts-math-broken)

...我猜 JavaScript 是浮点精度最差的语言。

# java - 异步 Servlet 不服务多个请求

> ID：13264839
> 
> 赞同：0
> 
> 时间：2012-11-07T07:12:56.183
> 
> 标签：java

我在java中的异步请求有一些问题......只需有以下servlet：

```
public class Notifier extends HttpServlet{
public void service(final ServletRequest req, final ServletResponse res){

final AsyncContext ctx = req.startAsync();`
...
} 
```

我认为，这个 servlet 服务于一千个请求（由几个三），但是我通过 ajax 测试它只在 servlet 端收到了 6 个请求；

测试代码片段如下：

```
for(i=0;i<5000;i++){
var xmlhttp;
if (window.XMLHttpRequest)
{
xmlhttp=new XMLHttpRequest();
}

xmlhttp.onreadystatechange=function()
{
if (xmlhttp.readyState==4 && xmlhttp.status==200)
{ 
```

  } }

```
xmlhttp.open("GET","http://localhost:8080/Notifier?mode=authorised&a="+i,true);
xmlhttp.send();
} 
```

我不知道为什么 Notifier servlet 不服务我从浏览器发送的所有请求......

先感谢您...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:41:20.973

也许它处理 GET 请求的最大长度？您可以发送的信息最多为 1024 个字符？用 POST 试试

# google-app-engine - 在 makePersistent 上未填充 Datanucleus gae.pk-id

> ID：13264843
> 
> 赞同：5
> 
> 时间：2012-11-07T07:13:11.957
> 
> 标签：google-app-engine, google-cloud-datastore, jdo, datanucleus

当我创建一个定义“gae.encoded-pk”和“gae.pk-id”持久的类时，编码的pk被更新，但id保持为空。没有抛出异常，代码是谷歌文档的直接复制粘贴，所以我对这里可能发生的事情感到茫然。

该类定义：

```
@PersistenceCapable 
public class MyClass {
    @PrimaryKey
    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)
    @Extension(vendorName="datanucleus", key="gae.encoded-pk", value="true")
    private String encodedKey;

    @Persistent
    @Extension(vendorName="datanucleus", key="gae.pk-id", value="true")
    private Long keyId; 
```

我让它像这样持久化：

```
PersistenceManager pm = PMF.get().getPersistenceManager();
try {
    pm.makePersistent(myInstance);
    // myInstance = pm.makePersistent(myInstance); - Produces the same result.
} finally {
    pm.close();
} 
```

我正在使用调试器单步执行此代码，但 keyId 仍然为空，即使在持久性管理器关闭后也是如此。

我还应该指出，这是使用 google appengine 开发工具包在本地运行的。任何关于我如何调试它的指针将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-02-06T05:48:30.803

I found this answer:

The GAE JDO plugin only ever sets a "gae.pk-id"/"gae.pk-name" field when it reads in a field marked with that from the datastore (just do a search in SVN trunk, FetchFieldManager is the only place where it's loaded - it doesn't set it when it does a PUT). No idea what it did in 1.x, but all of GAE's own tests pass in 2.x as they did in 1.x. But then that "feature" isn't standard JDO anyway, so of little interest to me.

See: [Unable to get ID of newly-created JDO persistent entity using GAE/J DataNucleus plug-in version 2.1.2](https://stackoverflow.com/questions/15065552/unable-to-get-id-of-newly-created-jdo-persistent-entity-using-gae-j-datanucleus)

# database - Windows 8 本地数据库（捕获和存储图像）C#

> ID：13264845
> 
> 赞同：0
> 
> 时间：2012-11-07T07:13:25.617
> 
> 标签：database, windows-8, microsoft-metro

我正在制作一个 Windows 8 应用程序，用户将在其中捕获图像并将其保存在本地数据库中。

在对“Windows 8 上的数据库”进行了大量搜索之后，我仍然不确定哪种数据库最适合用于捕获和存储带有一些“细节”的图像的应用程序。

我读到 SQLlite 在将应用程序提交到 Windows 8 应用程序商店时会产生问题，

除了写入文本文件或使用 JSON 之外，还有其他选择吗？

请指导我。（如果有人知道我可以帮助的示例应用程序，请告诉我）

谢谢扎克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T15:26:42.813

我希望我可以在我的 Win 8 应用程序中使用 localDB：/ 但你可以从源代码构建 SQLite -> [看看这里](http://timheuer.com/blog/archive/2012/05/20/using-sqlite-in-metro-style-app.aspx)

祝你好运

# php - 将时区转换为另一个时区

> ID：13264846
> 
> 赞同：3
> 
> 时间：2012-11-07T07:13:31.577
> 
> 标签：php, mysql, date, datetime, timezone

我想将从 GMT+8生成`CURRENT_TIMESTAMP`并存储在列类型中的数据库中获取的日期转换为 GMT+1。`timestamp`

```
$time = "2012-11-07 15:05:26"; // fetch from database
$date = new DateTime($time, new DateTimeZone('Europe/Berlin'));
echo $date->format('Y-m-d H:i:s'); 
```

但是，这将产生**"2012-11-07 15:05:26"**的输出，我很确定这是错误的。

我在这里可能缺少什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T07:33:06.523

首先，您需要使用原始时区实例化 datetime 对象。然后，在实例化 datetime 对象后，使用 调整时区[`DateTime::setTimezone()`](http://php.net/manual/en/datetime.settimezone.php)。

请参阅此代码，我`Asia/Hong_Kong`以 GMT+8 时区为例：

```
$time = "2012-11-07 15:05:26"; // fetch from database
$date = new DateTime($time,new DateTimeZone('Asia/Hong_Kong'));
$date->setTimezone(new DateTimeZone('Europe/Berlin'));
echo $date->format('Y-m-d H:i:s'); // yields 2012-11-07 08:05:26 
```

如果所有原始日期始终一致地表示为 GMT+8，并且您的 PHP 应用程序也设置为使用 GMT+8（[`date_default_timezone_set()`](http://php.net/manual/en/function.date-default-timezone-set.php)例如用 设置），则无需传递初始`DateTimeZone`对象，因为新创建的`DateTime`对象会自动使用该时区创建。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T07:32:23.607

也许这会有所帮助。只需将其集成到您的查询中即可简化您的编码：

```
SELECT CONVERT_TZ('2012-11-07 15:05:26','+08:00','+01:00'); 
```

您可以在此处获得有关您要使用的[时区的更多信息。](http://dev.mysql.com/doc/refman/5.5/en/time-zone-support.html)[在这里](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_convert-tz)以获得更多理解

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T07:25:38.620

检查这个：

```
<?php

$time = "2012-11-07 15:05:26"; // fetch from database

$tz_object = new DateTimeZone('Europe/Berlin'); 
$datetime = new DateTime($time); 
$datetime->setTimezone($tz_object); 
echo $datetime->format('Y-m-d H:i:s');
//output 2012-11-07 10:35:26
?> 
```

# ios - Xcode with iOS - 以易于在调试模式下运行、分发、迭代的方式创建库

> ID：13264847
> 
> 赞同：21
> 
> 时间：2012-11-07T07:13:30.843
> 
> 标签：ios, xcode4, xcode4.5, xcodebuild

这适用于 Xcode 4.5.x iOS armv7 armv7s 和 sim，特别是关于 Xcode 项目设置/项目构建设置：

我有一个项目“A”，它是应用商店中的一个应用。我有一个项目“B”，它是一个库，将在 A 中用作依赖项，但也作为第 3 方库分发给其他公司以在他们的应用程序中使用。（在这种情况下，其他公司的第 3 方应用程序表示为“Y”）。

以下是要求：

*   必须能够在调试模式下运行“A”，当然还可以在同一个构建/会话中同时调试嵌套的“B”项目。
*   从“A”中，我可以 CMD+单击“B”中的方法签名并直接跳转到该 src 文件，我可以在其中自由编辑然后重新编译，就好像它来自同一个项目一样。
*   其他公司的开发人员“X”必须能够轻松地将我们的库“B”拖到他的项目“Y”中，其中“B”是一个静态库，只暴露了所需的头文件。“Y”当然会从“B”的实际头文件的子集中调用方法。只有来自该子集的文件才应包含在 Dev“X”的分发中。
*   Dev "X" 应该不需要在他的 Xcode 项目中修改任何东西，只需将 "B" 的文件夹（包含静态库和头文件的子集）拖到他的项目中，然后单击“复制资源，创建引用等”。
*   我需要能够轻松地生成“B”的静态库构建，基于我一直在编辑的相同文件，因为我在其依赖项目“A”中迭代和调试这个项目“B”。
*   “B”除了源代码之外没有其他资源——没有图像资产、xib 或类似的东西。
*   从“B”，我点击“存档”和噗！有一个静态库（必须是胖二进制文件，我的意思是它可以在**模拟器 + armv7 + armv7s**上运行，拜托！！）以及准备分发的基本头文件。
*   所有这些都必须是**应用商店批准**友好的
*   这也必须是可靠的。如果我每次添加一个文件时都必须不断回来进行大量配置更改，那可不好。

**更新：**
***** *最重要***：这需要是一个 repo，我可以查看它是一个完整的端到端模板，我需要能够打开 Xcode 4.5.2+ 并单击播放和看到这个东西构建，无痛。**

**500 分**给任何可以为我提供模板项目的人，该项目演示了我上面描述的所有内容，“A”、“B”和“Y”（使用“B”静态库作为 dep）。我所需要的只是一组骨架项目（“A”、“B”（嵌套在“A”中）和“Y”）来展示如何做到这一点。在发布赏金之前，请不要隐瞒答案。如果它符合我的要求，我会确保你得到我的赏金积分。

我有点担心，由于 Xcode 的限制，这甚至不可能以一种不完全麻烦的方式实现。请证明我错了。

更新：我决定不再关心 armv6。再见，armv6。 ~~如果您可以将 armv6 与 armv7、armv7s、i386/simulator 一起放入 dist 输出中，则可以加分。~~

PS我保证我会合理奖励积分。我不希望在技术上保留它们。如果你让我在这方面的生活大大减轻痛苦，我很乐意给你加分。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-08T14:01:56.427

这在 Xcode 中是不可能的。由于编译目标切换（模拟器、设备等），您将需要一些构建脚本（当然，您可以在 Xcode 中调用）。

我认为您至少必须在“复制文件”构建步骤中添加额外的分发标头。但是，如果您更改某些内容，则不需要进行其他修改。

我为 libturbojpeg 做了类似的事情，请参阅[https://github.com/dunkelstern/libturbojpeg-ios](https://github.com/dunkelstern/libturbojpeg-ios)以供参考。如果您从终端调用“build.sh”文件，它当前会将胖库放入“lib”，但忽略分发标头。在 libturbojpeg 的情况下，我需要 2 个项目文件，因为每个目标都将汇编程序文件的不同子集编译到库中（最好不要查看汇编程序 makefile 的东西）。要编译，您将需要最新版本的 NASM，因为苹果发布的版本很古老（使用 brew 获取）。我很快就会在同一个帐户上发布这样一个库构建项目的模板。（如果在此处使用适当的链接完成，将进行编辑或评论）

基本上它是这样工作的：

1.  创建一个调用`xcodebuild`每个所需平台目标的构建脚本
2.  Xcode 库项目必须包含一个脚本，以将构建的库放在构建脚本可以找到的目录中
3.  必须通过“复制文件”目标操作复制其他标题
4.  构建脚本必须将所有库构建与`lipo`
5.  将构建脚本作为“运行脚本”目标添加到您的构建中，但请注意您不会创建无限循环（或者只是从终端调用它来创建发布构建）
6.  在您的主项目中添加库子项目

然后，您可以将输出目录与复制的头文件和`lipo`合并的通用库一起分发，并像往常一样将该库用作工作区中的子项目（它只构建和链接所需的库，而不是通用库，但应该没问题）

这实际上并不能解决为库创建 DSYM 文件的问题。但通常在构建调试版本时，调试符号应该在库本身中。它将在发布版本中去除调试符号，然后您将没有 DSYM。

示例项目链接：[https ://github.com/dunkelstern/StaticLibraryTemplate](https://github.com/dunkelstern/StaticLibraryTemplate)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-15T17:36:20.580

我正在使用[https://github.com/jverkoey/iOS-Framework](https://github.com/jverkoey/iOS-Framework)来实现与您的需求非常相似的东西。给他所有的信任，我只是总结一下我是如何做到的。

像往常一样创建一个静态库加上这些调整：

*   添加复制文件阶段以复制标题。我没有使用正确的“复制标题”阶段，因为我在某处读到了不推荐用于 iOS 静态库的地方。
    *   目的地：产品目录
    *   子路径：`${PROJECT_NAME}/Headers`
*   更改一些设置：
    *   “Dead Code Stripping” => 否（适用于所有设置）
    *   “在复制期间剥离调试符号”=> 否（对于所有设置）
    *   “条形样式” => 非全局符号（适用于所有设置）
*   添加运行脚本以使用库准备框架：
    *   使用脚本`prepare_framework.sh`。

您可以在您的应用程序中使用静态库项目：将其拖到您的应用程序项目中，将`.a`库添加为依赖项并与其链接。您可以与您的应用程序一起调试库、单步执行方法、导航到符号定义等。

准备好的框架将用于分发二进制版本：

在同一个静态库项目中添加一个 Aggregate 目标：

*   将静态库添加为依赖项。
*   添加运行脚本阶段以构建缺少的架构。使用脚本`build_framework.sh`。

该脚本猜测**另一个**平台是什么并用于`xcodebuild`编译它。然后使用`lipo`创建一个包含所有架构的胖二进制文件。胖静态库的目的地将是我们之前创建的框架树。最终的框架被复制到 build 文件夹中的 products 文件夹中。

使用这种方法，您可以：

*   **使用静态库作为嵌套项目来**构建和调试您的应用程序。****
***   ****一步****构建**库的可分发版本，并将标头嵌入到类似框架的包中。构建的框架位于项目 Products 目录中。*****   使用 Xcode 存档功能。由于某种原因，最终文件未复制到存档位置。您可以使用它来构建框架的剥离版本。****

 ****随意使用这种技术来克隆一个项目来打包库：[json-framework fork](https://github.com/madmw/json-framework)。我稍微修改了脚本，检查我的[iOS-framework](https://github.com/madmw/iOS-Framework)分支。

~~关于`armv6`，我猜您需要旧的 iOS SDK 4.3 并手动将文字添加`armv6`到有效架构和实际架构的列表中。我现在没有旧的 SDK 来测试它。~~

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-22T01:01:41.370

[Cocoapods](http://cocoapods.org)满足您的需求。尽管使用它的标准方法是将 pod 规范提交到中央 git 存储库。它支持添加备用存储库以进行分发，或手动创建它们，请参见[此处](https://github.com/CocoaPods/CocoaPods/wiki/Working-with-repositories)。使用 cocoapods 的优势在于它既可以满足您的所有要求，而且它正在成为一种非常标准的分发库（例如，被 facebook 和 stackmob 等公司使用）和开源（例如 afnetworking）的方式。因此，如果您现在或将来依赖 3rd 方库，cocoapods 很可能会帮助您处理这种依赖关系。****

# extjs - Sencha EXT-JS 4：如何更新存储中的数据

> ID：13264848
> 
> 赞同：3
> 
> 时间：2012-11-07T07:13:34.167
> 
> 标签：extjs, store

我有一个定义如下的模型：

```
Ext.define('MyApp.model.TestModel', {
    extend: 'Ext.data.Model',

    fields: [
        {
            name: 'id'
        },
        {
            name: 'p1'
        },
        {
            name: 'p2'
        },
        {
            name: 'p3'
        },
        {
            name: 'p5'
        },
        {
            name: 'p6'
        },
        {
            name: 'p7'
        }
    ]
}); 
```

商店定义如下：

```
Ext.define('MyApp.store.TestStore', {
    extend: 'Ext.data.Store',
    requires: [
        'MyApp.model.TestModel'
    ],

    constructor: function(cfg) {
        var me = this;
        cfg = cfg || {};
        me.callParent([Ext.apply({
            autoLoad: true,
            storeId: 'TestStoreID',
            model: 'MyApp.model.TestModel',
            proxy: {
                type: 'ajax',
                url: 'getparams',
                reader: {
                    type: 'json',
                    root: 'getdata.params'
                }
            }
        }, cfg)]);
    }
}); 
```

控制器使用ajax代理加载数据如下：

```
var sIndex = 1;
AppGlobals.mystore = Ext.getStore('PollStore');
AppGlobals.mystore.load({params: {id: sIndex, p1:'1',p2:'2', p3:'3', p4:'5', p5:'6', p6:'7'}}); 
```

所有这一切都很好。我想在写入加载命令的地方修改 p1、p2、p3、p5、p6、p7 的值。也就是说，有什么方法可以代替 callint mystore.load() 将硬编码数据直接加载到商店中？

我的意思是，假设我有 6 个值定义为

```
var p1val = 1;
var p2val = 2;
var p3val = 3;
var p5val = 4;
var p6val = 5;
var p7val = 6; 
```

无论如何我可以执行以下操作：

```
AppGlobals.mystore = Ext.getStore('PollStore');
AppGlobals.mystore.somefunction(p1val, p2val, p3val, p5val, p6val, p7val); 
```

哪里`somefunction()`可以立即更新存储中的值，而我不必调用`load()`将从代理获取数据的函数？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-15T02:09:19.517

当然有一种方法可以做到这一点。您正在寻找**loadData**方法。[这是 Sencha Docs 中方法的链接。](http://docs.sencha.com/extjs/4.2.2/#!/api/Ext.data.Store-method-loadData)

请务必注意它需要两个参数 - 记录数组（数据），以及是否擦除当前存储记录。默认情况下， **loadData**首先删除存储中的任何现有数据，我认为这就是你想要做的——如果是这样，你只需要第一个数组参数。

这是如何解决问题的代码示例：

```
 store.loadData(data, false);
 grid.reconfigure(store); 
```

# django - Django 权限管理

> ID：13264849
> 
> 赞同：2
> 
> 时间：2012-11-07T07:13:36.400
> 
> 标签：django, tastypie

Django 文档说，“权限是按对象类型全局设置的，而不是每个特定对象实例。例如，可以说“玛丽可能会改变新闻故事”，但权限不允许你说“玛丽可能会改变新闻故事” ，但仅限于她自己创建的”或“玛丽只能更改具有特定状态、发布日期或 ID 的新闻故事。”。

我的问题是

1.  如何授予用户编辑他创建的资源的权限？

即使我正在使用tastepie 为我的ios 应用程序实现服务器，但我不了解tastepie 的DjangoAuthorization，所以我认为我应该先学习如何在Django 中管理权限。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T08:29:33.817

看看tastypie食谱上的那个条目[http://django-tastypie.readthedocs.org/en/latest/cookbook.html#creating-per-user-resources](http://django-tastypie.readthedocs.org/en/latest/cookbook.html#creating-per-user-resources)

# php - 输入关键字并按 Enter 键以从 mysql 获取结果

> ID：13264850
> 
> 赞同：2
> 
> 时间：2012-11-07T07:13:41.510
> 
> 标签：php, ajax

这是一个从组合框中选择 ID 的想法，然后它会自动在 html 表单字段中打印数据，以便可以轻松地编辑该字段。到目前为止，我有 2 个文件 - index.html 和 showData.php。这是 index.html 文件：

```
<html>

<head>

    <script>

        function showData(str)
        {
            if (str=="")
            {
                document.getElementById("ajax-content").innerHTML="";
                return;
            } 

            // Code for IE7+, Firefox, Chrome, Opera, Safari
            if (window.XMLHttpRequest)
            {
                xmlhttp=new XMLHttpRequest();
            }

            // Code for IE6, IE5
            else
            {
                xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
            }

            xmlhttp.onreadystatechange=function()
            {
                if (xmlhttp.readyState==4 && xmlhttp.status==200)
                {
                    document.getElementById("ajax-content").innerHTML=xmlhttp.responseText;
                }
            }

            xmlhttp.open("GET","showData.php?id="+str,true);

            xmlhttp.send();
        }

    </script>

</head>

<body>

<form>

<select name="register" onchange="showData(this.value)">
        <option value="">Select ID:</option>
        <option value="001">001</option>
        <option value="002">002</option>
        <option value="003">003</option>
    </select>   

</form>

<div id="ajax-content"></div>

</body> 
```

这是我的 showData.php 文件：

```
<?php

    // Receive variable from URI
    $id=$_GET["id"];

    // Connect to your database
    $con = mysql_connect('localhost', 'root', '');
    if (!$con)
    {
        die('Could not connect: ' . mysql_error());
    }

    // Select your database
    mysql_select_db("test_01", $con);

    // Select all fields from your table
    $sql="SELECT * FROM staffdetails WHERE id = '".$id."'";

    $result = mysql_query($sql);

    while($row = mysql_fetch_array($result))
    {

        echo "Staff Name:" . "<input type='text' value='" . $row['name'] . "'>";
        echo "</br>";
        echo "Contact No.:" . "<input type='text' value='" . $row['number'] . "'>";
    }

    // Close the connection
    mysql_close($con);

?> 
```

现在，我要做的是在表单字段中输入 ID（*而不是“从列表中选择”*）并按 Enter（**没有任何“提交”按钮**）以在表单字段中获取结果。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:16:59.540

### `onkeyup`在属性中给出这个。

```
<input onkeyup="if (event.keyCode == 13) showData(this.value); return false;" /> 
```

### 解释

这`event`是当前发生的事件`input`。当`keyup`事件发生时，它有一个名为 的属性`keyCode`，它返回所按下键的 ASCII 码。钥匙有`Enter`密码`13`。当您按下`Enter`键时，甚至会发生这种情况。

# cloud-foundry - sudo gem install vmc 不安装 vmc

> ID：13264851
> 
> 赞同：0
> 
> 时间：2012-11-07T07:13:51.080
> 
> 标签：cloud-foundry

我正在尝试按照说明安装 Cloud Foundry vmc。

[http://docs.cloudfoundry.com/tools/vmc/installing-vmc.html#installing-vmc-main-steps](http://docs.cloudfoundry.com/tools/vmc/installing-vmc.html#installing-vmc-main-steps)

我执行以下操作：

宝石更新 - >似乎工作

红宝石-v-> 1.9.3p194

sudo gem install vmc -> 似乎成功完成

vmc 目标 -> -bash: vmc: 找不到命令

vmc 目标 api.cloudfoundry.com -> -bash: vmc: command not found

为什么 vmc 似乎安装成功但无法执行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-28T07:01:19.350

就我而言，我遇到了这个问题，因为我使用的 ruby​​ 不是 rvm 设置使用的默认版本。你可以通过第一次运行来解决这个问题

rvm 信息

如果它没有说 ruby​​-1.9.3-p194 （或任何你的默认值），那么你可以运行

rvm 使用 ruby​​-1.9.3

一旦我这样做了，我的 vmc 命令就开始工作了。

我对此的想法是，当我们使用 gem install 安装 vmc 时，它会安装到默认的 ruby​​ 的 gem，无论该 ruby​​ 是否是您当前设置使用的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-13T00:06:58.623

完全摆脱 RVM 并尝试使用 OS X 10.8 提供的库存 ruby​​ 版本可能是一个好主意，因为“sudo gem install”可能超出了 RVM 的观点。或者干脆删除 sudo 并查看 gem install vmc 是否有效。

# c# - xmlTextWriter 不会将 XML 文件保存到 bin 文件夹

> ID：13264853
> 
> 赞同：0
> 
> 时间：2012-11-07T07:13:53.760
> 
> 标签：c#, .net, xmltextwriter

我正在尝试创建一个 XML 文件来存储类中的一些信息。我将路径作为 const 设置为`Info.xml`. 但`XMLTextWriter`不是将 XML 文件保存到 bin(debug/release) 文件夹，而是将其保存到 MyDocuments 文件夹。当我试图检查文件是否存在时`File.Exists(path)`，它返回false。有人可以在这里指导我。

我的代码如下所示...

```
string BookName = "Book1" 
string AuthorName= "Author1" 
XmlTextWriter writer = new XmlTextWriter("Info.xml", Encoding.UTF8);    writer.WriteStartDocument(); 
writer.WriteStartElement("Title"); 
writer.WriteString(BookName); 
writer.WriteStartElement("Author"); 
writer.WriteString(AuthorName); 
writer.WriteEndElement(); 
writer.WriteEndElement(); 
writer.WriteEndDocument(); 
writer.Close(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:31:57.847

试试这个

```
 public void SerializeToXML(YourClass yourObj)
    {
        if (!File.Exists("C:\\Info.xml"))
            File.Create("C:\\Info.xml");
        XmlSerializer serializer = new XmlSerializer(typeof(YourClass));
        System.IO.TextWriter textWriter = new StreamWriter("C:\\Info.xml");
        serializer.Serialize(textWriter, yourObj);
        textWriter.Close();
    } 
```

这会将“Info.xml”保存到您的 C: 中，无论是在调试中还是在发布中。（如果不存在，它也会创建文件）。

也请查看此[链接](http://www.codeproject.com/Questions/436532/How-to-get-path-of-a-Application-file-in-winforms)，它可能会有所帮助。

# iphone - iphone设备中wifi的服务器IP地址

> ID：13264857
> 
> 赞同：0
> 
> 时间：2012-11-07T07:14:05.107
> 
> 标签：iphone, objective-c

我想在 iphone 设备中获取 wifi 的服务器 IP 地址。我不想要iphone设备中wifi的设备IP地址...如果有任何API可以获取iphone中wifi的服务器IP地址..请参考并分享这些链接...

前任。我的 iPhone 连接到一些 XYZ wifi。是否可以获得提供 WIFI 访问的服务器的实时 IP 地址？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-07T07:47:56.950

Objective-C 方法以 NSString 形式检索 wifi 连接的 IP 地址。

```
- (NSString *)getIPAddress 

{    NSString *address = @"error";    struct ifaddrs *interfaces = NULL;   struct ifaddrs *temp_addr = NULL;    int success = 0;

  // retrieve the current interfaces - returns 0 on success   

success= getifaddrs(&interfaces);    if (success == 0) 
         {
          // Loop through linked list of interfaces
     temp_addr = interfaces;
     while (temp_addr != NULL) 

{
       if( temp_addr->ifa_addr->sa_family == AF_INET) 

{
         // Check if interface is en0 which is the wifi connection on the iPhone
         if ([[NSString stringWithUTF8String:temp_addr->ifa_name] isEqualToString:@"en0"]) 

{
           // Get NSString from C String
           address = [NSString stringWithUTF8String:inet_ntoa(((struct sockaddr_in *)temp_addr->ifa_addr)->sin_addr)];
         }
       }

       temp_addr = temp_addr->ifa_next;
     }   

}

   // Free memory   freeifaddrs(interfaces);

   return address; 

} 
```

如果这对您不起作用，您可能还需要在类实现的顶部包含以下 C 标头

```
#include <ifaddrs.h>
#include <arpa/inet.h> 
```

# c - 文件大小未在 c 中显示

> ID：13264876
> 
> 赞同：-1
> 
> 时间：2012-11-07T07:15:51.587
> 
> 标签：c

我正在尝试在 c 中获取文件的大小，但我的代码没有显示任何具有文件大小的输出。这是我的代码

```
#include<stdio.h>
#include<fcntl.h>
#include<io.h>
#include<BIOS.H>
#include<DOS.H>

unsigned int handle;
void main()
{
    union REGS regs;
    unsigned long int size;
    handle = open("c:\\abc.txt",O_RDONLY);
    regs.x.bx = handle;
    regs.h.ah = 0x42;
    regs.h.al = 0x02;    //correction
    regs.x.cx = 0;
    regs.x.dx = 0;
    int86(0x21,&regs,&regs);
    *((int*)(&size)) = regs.x.ax;
    *(((int*)(&size))+1) =regs.x.dx;
    printf ("Size is %d" ,size);
} 
```

有人可以告诉我为什么没有显示输出

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:22:24.837

采用[`fstat`](http://msdn.microsoft.com/en-us/library/221w8e43%28v=vs.100%29.aspx)

```
#include <io.h>
#include <fcntl.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

void main( void )
{
   struct _stat buf;
   int fh, result;

   fh = _open( "c:\\abc.txt", O_RDONLY );

   /* Get data associated with "fh": */
   result = _fstat( fh, &buf );

   /* Check if statistics are valid: */
   if( result != 0 ) {
      printf( "Bad file handle\n" );
   } else {
      printf( "File size     : %ld\n", buf.st_size );
   }
   _close( fh );
} 
```

# ios - eventsMatchingPredicate 在跨越多天的事件中找不到最后日期

> ID：13264877
> 
> 赞同：3
> 
> 时间：2012-11-07T07:15:52.000
> 
> 标签：ios, nspredicate, eventkit

我有一个事件（称为“测试事件”），从 11 月 6 日凌晨 2 点开始，到 11 月 24 日上午 10 点结束。当我尝试通过指定一天的范围来查找事件时，我可以找到它所有天（11 月 6 日、11 月 7 日、...、11 月 23 日）**11 月 24 日除外**。

每次用户选择新的一天时，都会调用以下方法：

```
- (void)loadItemsFromDate:(NSDate *)fromDate toDate:(NSDate *)toDate
{
    NSLog(@"loadItemsFromDate");

    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
    [dateFormatter setDateStyle:NSDateFormatterShortStyle];
    [dateFormatter setTimeStyle:NSDateFormatterShortStyle];
    NSLog(@"%@ to %@", [dateFormatter stringFromDate:fromDate], [dateFormatter stringFromDate:toDate]);

    // Create the predicate from the event store's instance method
    NSPredicate *predicate = [self.store predicateForEventsWithStartDate:fromDate
                                                             endDate:toDate
                                                           calendars:nil];

    NSLog(@"predicateFormat: %@", [predicate predicateFormat]);

    // Fetch all events that match the predicate
    self.currentDayEvents = [self.store eventsMatchingPredicate:predicate];

    NSLog(@"single day events:");
    for(EKEvent *event in self.currentDayEvents)
    {
        NSLog(@"title: %@, start: %@, end: %@", event.title, [dateFormatter stringFromDate:event.startDate], [dateFormatter stringFromDate:event.endDate]);
    }
    NSLog(@"\n");
} 
```

这是用户选择 11 月 6 日时的日志（可以找到“测试事件”）：

```
loadItemsFromDate
11/6/12, 12:00 AM to 11/6/12, 11:59 PM
predicateFormat: EKEventPredicate start:11/6/12, 12:00 AM; end:11/6/12, 11:59 PM; cals:(null)
single day events:
title: Vote, start: 11/6/12, 12:00 AM, end: 11/6/12, 11:59 PM
title: Test Event, start: 11/6/12, 2:00 AM, end: 11/24/12, 10:00 AM 
```

11 月 7 日到 22 日看起来都与此日志相似，这是 11 月 23 日的日志（可以找到“测试事件”）：

```
loadItemsFromDate
11/23/12, 12:00 AM to 11/23/12, 11:59 PM
predicateFormat: EKEventPredicate start:11/23/12, 12:00 AM; end:11/23/12, 11:59 PM; cals:(null)
single day events:
title: Test Event, start: 11/6/12, 2:00 AM, end: 11/24/12, 10:00 AM 
```

这是 11 月 24 日的日志（由于未返回“测试事件”，因此无法按预期工作）：

```
loadItemsFromDate
11/24/12, 12:00 AM to 11/24/12, 11:59 PM
predicateFormat: EKEventPredicate start:11/24/12, 12:00 AM; end:11/24/12, 11:59 PM; cals:(null)
single day events: 
```

为什么即使活动在当天上午 10 点结束，它也找不到 11 月 24 日的活动？我正在运行 iOS 6.0.1。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-18T00:54:18.323

不幸的是，我相信 iOS 代码中存在错误。我的重现步骤：

1.  完全按照您在基本 iOS 日历应用程序中的描述创建您的测试事件。
2.  在月视图中查看它，您会注意到 2012 年 11 月 24 日没有点/标记……这对我来说表明正在发生一些可疑的事情。然后单击第 24 个图块并注意该事件实际上已列出。
3.  然后将您的活动更改为全天活动（实际上从您的开始时间删除凌晨 2 点，从结束时间删除上午 10 点）。
4.  在月视图中查看它，您会注意到现在在 2012 年 11 月 24 日有一个点/标记。

我还不确定如何解决这个问题，但我可以验证我的应用程序中的代码是否存在与您相同的问题。

# visual-studio-2010 - 列表定义和列表实例：什么时候应该使用？

> ID：13264885
> 
> 赞同：-3
> 
> 时间：2012-11-07T07:16:36.187
> 
> 标签：visual-studio-2010, sharepoint, sharepoint-2010

我正在使用 VS 2010 创建 SharePoint 的列表实例和列表定义，但我不知道何时使用哪个？基本上是什么区分了两者？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:32:26.647

**列表定义：**

列表定义定义 SharePoint 列表的架构。它包含有关正在使用哪些视图、正在使用哪些列和内容类型以及其他元数据信息的信息。

**列表实例：**

列表实例是特定 SharePoint 列表定义的实例。它的所有数据都存储在相关的内容数据库中。通常是最终用户用于输入和查看数据的 SharePoint 中的列表，它基于列表定义。

# scroll - 如何向 raphael 对象添加滚动条，例如 rect 对象

> ID：13264888
> 
> 赞同：-1
> 
> 时间：2012-11-07T07:16:50.967
> 
> 标签：scroll, scrollbar, raphael

在我的 Raphael 论文中，一个 rect 对象大于我的纸张宽度，How to add a scrollbar to this rect object 。例如：

```
var paper = new Raphael("holder", 500, 400);

var rect = paper.rect(100, 100, 1000, 1000); 
```

我想要做的是，在纸张内部，将 ScrollBar 组件添加到此矩形而不是本文。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T11:24:24.253

你可以试试这个

```
<div id="holder">
  <div id="rectangle-holder">
  </div>
</div>

var paper = new Raphael("holder", 500,400);
var rectangleHolder  = new Raphael("rectangle-holder", 200,200);
var rectangle = rectangleHolder.rectangle(100,100,1000,1000); 
```

使用 CSS 将滚动条添加到`rectangle-holder`div

# speech-recognition - WP8 上支持语音识别的语言

> ID：13264903
> 
> 赞同：1
> 
> 时间：2012-11-07T07:17:54.307
> 
> 标签：speech-recognition, windows-phone-8

我尝试了 Windows Phone 8 的语音 API 示例。它适用于英语，但是当我将模拟器的语言设置切换为俄语时，语音识别失败了。

在此代码上：

```
// Perform speech recognition.  
this.recoOperation = recognizer.RecognizeAsync();
var recoResult = await this.recoOperation; 
```

它抛出异常：

**SPERR_WINRT_UNSUPPORTED_LANG** 0x800455BC 不支持请求的语言。

那么，这意味着 Speech Recognitiona API 不支持哪些俄语，或者我应该更改一些其他设置以使其正常工作？

对于 ja-JP 和 zh-HK 语言，我也收到此错误。

我在哪里可以找到有关**真正**支持的语言的信息？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T07:59:41.167

我也试过了。我通过微软联系人询问。他们说，您收到此错误的任何语言都不支持用于远程识别的听写语法。对于日语、中文、俄语等语言，您必须使用由列表或 SRGS 语法文件定义的本地识别。

即使安装了语言，有些语言也不支持听写远程识别。

```
IReadOnlyCollection<SpeechRecognizerInformation> voices = InstalledSpeechRecognizers.All;
foreach (SpeechRecognizerInformation s in voices)
{
       Debug.WriteLine(s.Language);
} 
```

已安装语言列表如下：

```
en-US
de-DE
zh-TW
fr-FR
it-IT
ja-JP
pl-PL
pt-BR
ru-RU
en-IN
zh-CN
en-GB
es-MX
zh-HK
es-ES 
```

# java - 如何打印/记录 HTTPRequest 使用的 MultiPartEntity 的整个正文内容？

> ID：13264905
> 
> 赞同：12
> 
> 时间：2012-11-07T07:18:15.910
> 
> 标签：java, android, http, httprequest, multipartentity

我想验证 HTTP 请求中的确切内容，即参数和标头。我正在调试的代码在执行 HTTP 请求之前使用 MultiPartEntity 来设置实体。

```
response = executePost(multipartEntity);
statusCode = response.statusCode; 
```

我没有从服务器得到预期的响应，因此想要验证发送到服务器的确切内容（url + 参数）是什么。

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-05-16T12:46:11.173

像下面这样的东西可以解决问题：

```
ByteArrayOutputStream bytes = new ByteArrayOutputStream();
multipartEntity.writeTo(bytes);
String content = bytes.toString(); 
```

正如 suhas_sm 提到的， getContent() 方法存在但未实现。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-06-11T06:43:33.187

我已经通过这个实现了

```
MultipartEntity reqEntityB = new MultipartEntity(HttpMultipartMode.BROWSER_COMPATIBLE);
java.io.ByteArrayOutputStream out = new java.io.ByteArrayOutputStream(
                (int) reqEntityB.getContentLength());
        reqEntityB.writeTo(out);
        String entityContentAsString = new String(out.toByteArray());
        Log.e("multipartEntitty:", "" + entityContentAsString); 
```

# java - 为什么没有调用 windowClosed？

> ID：13264907
> 
> 赞同：8
> 
> 时间：2012-11-07T07:18:20.643
> 
> 标签：java, swing, user-interface

我有一个问题，为什么在我的测试代码中没有调用“windowClosed”方法，如下所示，

```
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;

import javax.swing.JFrame;

public class Tmp {

    class TFrame extends JFrame{
        private static final long serialVersionUID = -5729542298504858399L;

        public TFrame() {
            setTitle("title");
            setSize(300, 300);
        }
    }

    public static void main(String[] args) {
        final TFrame t = new Tmp().new TFrame();
        t.addWindowStateListener(new WindowAdapter() {
            @Override
            public void windowStateChanged(WindowEvent e) {
                super.windowStateChanged(e);
                System.out.println(e.getOldState() + "<-old new->" + e.getNewState());
            }
        });
        t.addWindowListener(new WindowAdapter() {

            @Override
            public void windowClosed(WindowEvent e) {
                super.windowClosed(e);
                System.out.println(e.getID() + "closed " + e.getNewState());
            }

            @Override
            public void windowClosing(WindowEvent e) {
                super.windowClosing(e);
                System.out.println(e.getID() + "closing" + e.getNewState());
            }
        });
        t.setVisible(true);
    }
} 
```

**如果我编写语句 setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE) 或显式调用 dispose() 到 TFrame，windowClosed() 将被调用。**

有没有人可以更详细地解释它，我很困惑为 windowClosed() 编写侦听器的属性方式是什么，在此先感谢。

//////////////// 根据 Dan 的一些指南更新 /////////////

```
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;

import javax.swing.JFrame;
import javax.swing.JOptionPane;

public class Tmp {

    class TFrame extends JFrame {
        // ignored .....
        t.addWindowListener(new WindowAdapter() {

            @Override
            public void windowClosed(WindowEvent e) {
                super.windowClosed(e);
                System.out.println(e.getID() + "closed " + e.getNewState());
            }

            @Override
            public void windowClosing(WindowEvent e) {
                super.windowClosing(e);
                System.out.println(e.getID() + "closing" + e.getNewState());
                int quit = JOptionPane.showConfirmDialog(t, "Are you sure to quit?");
                if(quit == JOptionPane.YES_OPTION){
                    t.dispose();
                }
                else if (quit == JOptionPane.NO_OPTION){
                    t.setVisible(false);
                }
            }
        });
        t.setVisible(true);
        t.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);
    }
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-07T07:21:38.500

`setDefaultCloseOperation`的默认值为`HIDE_ON_CLOSE`。有了这个，窗口没有关闭，它只是隐藏起来。

将值更改为其他值，您可以使其实际关闭而不是仅仅隐藏它，因此将触发事件。

# delphi - 列出网络设备上的所有共享

> ID：13264910
> 
> 赞同：-2
> 
> 时间：2012-11-07T07:18:27.730
> 
> 标签：delphi, networking, network-shares

我需要获取网络设备上所有共享的列表，包括隐藏的共享。我写一个网络设备，因为它可能是 NAS、Windows 服务器或 Linux 服务器

我看过一些样本并尝试了其中一些，但没有一个能提供我需要的清单。他们中的大多数只列出设备而不是共享。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:24:46.470

也许您可以以某种方式使用/捕获“net view” cmd 命令的输出？

例如在命令提示符下尝试以下

> “网络视图 \\IP /ALL”
> 
> “网络视图 \\192.168.150.100 /ALL”

我知道有一些方法可以获得命令行输出，因此您可以解析它们，如果采用这种方法，您还必须考虑安全性，如果您无权访问，net view 可能会返回错误代码。但是我不知道如何仅使用代码（没有外部程序）来做同样的事情

# couchbase - 如何在 mac 上安装 libcouchbase-1.1.0.dp8？

> ID：13264916
> 
> 赞同：2
> 
> 时间：2012-11-07T07:18:46.217
> 
> 标签：couchbase

我正在尝试安装 gem couchbase-1.2.0.dp6.gem。但在安装时需要 libcouchbase-1.1.0dp8。

```
Building native extensions.  This could take a while...
ERROR:  Error installing couchbase-1.2.0.dp6.gem:
ERROR: Failed to build gem native extension.

    /Users/ms/.rvm/rubies/ruby-1.9.3-p194/bin/ruby extconf.rb
checking for libcouchbase_get_num_replicas() in -lcouchbase... no
You should install libcouchbase >= 1.1.0dp8\. See http://www.couchbase.com/develop/ for more details
*** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options.

Provided configuration options:
--with-opt-dir
--without-opt-dir
--with-opt-include
--without-opt-include=${opt-dir}/include
--with-opt-lib
--without-opt-lib=${opt-dir}/lib
--with-make-prog
--without-make-prog
--srcdir=.
--curdir
--ruby=/Users/mohammad.salim/.rvm/rubies/ruby-1.9.3-p194/bin/ruby
--with-libcouchbase-dir
--without-libcouchbase-dir
--with-libcouchbase-include
--without-libcouchbase-include=${libcouchbase-dir}/include
--with-libcouchbase-lib
--without-libcouchbase-lib=${libcouchbase-dir}/lib
--with-couchbaselib
--without-couchbaselib

Gem files will remain installed in /Users/ms/.rvm/gems/ruby-1.9.3-p194/gems/couchbase-1.2.0.dp6 for inspection.
Results logged to /Users/ms/.rvm/gems/ruby-1.9.3-p194/gems/couchbase-1.2.0.dp6/ext/couchbase_ext/gem_make.out 
```

我已经安装了 libcouchbase-1.1.0dp4。但是如何安装 1.1.0dp8？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T20:55:14.543

当您使用边缘版本时，我建议您使用以下方式安装它们：

对于 libcouchbase（最新的是 2.0.0beta3）

```
$ brew install https://github.com/couchbase/homebrew/raw/preview/Library/Formula/libcouchbase.rb 
```

对于 ruby​​ gem（最新的是 1.2.0.z.beta4）

```
$ gem install couchbase --pre 
```

# jquery - 没有 id 或类集的点击事件

> ID：13264921
> 
> 赞同：0
> 
> 时间：2012-11-07T07:19:30.503
> 
> 标签：jquery

让我解释一下我需要什么。我有一个由 jquery 打开的导航。当我单击站点中的任何位置时，我想关闭它。

我在这里找到了这个，但在这种情况下，每次点击都会关闭导航： [jQuery click() event catch-all?](https://stackoverflow.com/questions/3761902/jquery-click-event-catch-all)

使用

```
$(document).click(function() {
  $("#boxID").hide();
}); 
```

但是，当我在导航中单击时，例如`id="boxnewsID"`，导航 `id="navID"`本身也会关闭。我怎样才能防止这种情况？

当我尝试获取 id 或某事时。单击它只会返回文档（逻辑）。我已经看到，facebooks 标题导航（消息、活动、朋友请求）按我需要的方式工作。

任何的想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:23:41.370

要排除一个或多个元素，您可以使用以下命令：

```
$(document).not("#boxID").click(function() { $("#boxID").hide(); }); 
```

这会从您的选择中排除 ID 为 #boxID 的元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:46:51.610

我认为应该这样做：

```
$(document).on("click", ":not(#boxID)", function() {
    $("#boxID").hide();
} 
```

编辑：

那也行不通。这是我在我的页面中的内容：

```
$(document).mousedown(function(e) {
    if ($(e.target).closest("#boxID").length == 0) {
        $("#boxID").hide();
    }
}); 
```

# sql - sql脚本期间的提示

> ID：13264923
> 
> 赞同：0
> 
> 时间：2012-11-07T07:19:39.990
> 
> 标签：sql, windows, sqlplus

我的 Windows 批处理脚本调用一个`sql`脚本，用户需要`ENTER`在提示期间按下该脚本。这会导致程序在执行期间暂停并等待用户输入。是否可以使用命令在脚本中预设`ENTER`密钥？`sql`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T16:57:08.230

我想出了一个简单的方法 -`sql`在提示阶段在脚本中添加一个空行。然后，提示将简单地将`Return`密钥作为输入并继续进行后续阶段。

# java - JTabbedPane 的 Tabs 位置

> ID：13264927
> 
> 赞同：2
> 
> 时间：2012-11-07T07:20:01.660
> 
> 标签：java, swing, tabs, jtabbedpane

我想知道如何从左侧开始设置 JTabbedPane 的选项卡位置。默认情况下，它们位于中心位置，因为我使用的是 Mac OS X。

如果您需要更多信息，请告诉我。

查看此图像以了解我使用默认 JTabbedPane 在我的 mac 中获得的内容：

![在此处输入图像描述](../Images/a609be8e349399302c57f1c56c16c4db.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T08:27:37.893

如果您的目标平台是 Mac，您很可能会遵循 OSX 的样式指南。 [适用于 Mac 的 Java 开发指南](https://developer.apple.com/library/mac/documentation/Java/Conceptual/Java14Development/Java14Development.pdf)。第 40 页讨论了选项卡式窗格。

默认情况下，您只能将选项卡放置在不同的侧面，例如：

```
 // Alternative placements: 
            // JTabbedPane.TOP 
            // JTabbedPane.RIGHT 
            // JTabbedPane.LEFT 
            // JTabbedPane.BOTTOM.
            tabbedPane.setTabPlacement(JTabbedPane.TOP); 
```

但是，如果您想将选项卡放在顶部，但调整到左侧而不是中心，您需要选择不同的外观，或者修改系统外观。这是可能的，但涉及更多，并且正如已经指出的那样，不建议这样做。在显示任何内容之前，您必须执行所有更改。有关该主题的起点，请参阅[如何编写自定义外观](http://today.java.net/pub/a/today/2006/09/12/how-to-write-custom-look-and-feel.html)

有关运行示例，请参见代码：

```
import java.awt.*;

import javax.swing.*;

public class Tab {

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                JFrame frame = new JFrame("TabbedPane");
                frame.getContentPane().add(new TabView());
                frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
                frame.setMinimumSize(new Dimension(800, 450));
                frame.setLocationRelativeTo(null); // Center
                frame.pack();
                frame.setVisible(true);
            }
        });
    }

    static class TabView extends JPanel {

        private JTabbedPane tabbedPane;

        TabView() {
            createComponents();
            makeLayout();
        }

        private void createComponents() {
            tabbedPane = new JTabbedPane();
            tabbedPane.addTab("Hello", new JLabel("World"));
            tabbedPane.addTab("Goodbye", new JLabel("Sunshine"));
        }

        private void makeLayout() {
            setLayout(new BorderLayout());

            // Alternative placements: JTabbedPane.TOP, JTabbedPane.RIGHT, JTabbedPane.LEFT JTabbedPane.BOTTOM.
            tabbedPane.setTabPlacement(JTabbedPane.TOP);
            // Alternative layout policies: JTabbedPane.WRAP_TAB_LAYOUT or JTabbedPane.SCROLL_TAB_LAYOUT.
            tabbedPane.setTabLayoutPolicy(JTabbedPane.WRAP_TAB_LAYOUT);

            add(tabbedPane, BorderLayout.CENTER);
        }
    }
} 
```

# java - 如何告诉 maven 使用 Java5 而不是 Java6？

> ID：13264931
> 
> 赞同：2
> 
> 时间：2012-11-07T07:20:09.957
> 
> 标签：java, maven

嗨，我有一个多模块 Maven 项目，我在我的**Windows**机器中安装了 Java1.5和**Java1.6 ，****并在环境变量（对于 Eclipse Juno）中为 Java1.6****设置**了路径。但我只想用**Java5**运行 maven 命令。如何我可以在父项目 pom 中设置仅使用**Java5**来编译 Java 文件吗？我在父 pom.xm 文件中添加了这些行。

 ******```
<build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.5.1</version>
                <configuration>
                    <compilerId>eclipse</compilerId>
                    <source>1.5</source>
                    <target>1.5</target>
                </configuration>
            </plugin>
        </plugins>
    </build> 
```

但我在智利项目 pom.xml 文件中遇到错误

> 生命周期配置未涵盖插件执行：org.apache.maven.plugins:maven-compiler-plugin:2.5.1:testCompile（执行：default-testCompile，阶段：test-compile）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:27:09.563

请使用 Plugin_Management 而不是 Plugins 声明此声明需要将插件配置继承到子项目 (http://maven.apache.org/pom.html#Plugin_Management)

在您的情况下，它将以下列方式显示：

**父** *pom.xml*

```
<build>
  <pluginManagement>
    <plugins>
      <plugin>
         <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-compiler-plugin</artifactId>
          <version>2.5.1</version>
          <configuration>
             <source>1.5</source>
             <target>1.5</target>
          </configuration>
       </plugin>
    </plugins>
   </pluginManagement>
</build> 
```

**子**pom.xml

```
<build>
  <plugins>
    <plugin>
       <groupId>org.apache.maven.plugins</groupId>
       <artifactId>maven-compiler-plugin</artifactId>
    </plugin>
  </plugins>
</build> 
```

也可以在**父** *pom.xml中设置以下属性*

```
<properties>
   <maven.compiler.source>1.5</maven.compiler.source>
   <maven.compiler.target>1.5</maven.compiler.target>
</properties> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T08:10:34.827

似乎与编译测试源有关的问题。

尝试将`testSource`and添加`testTarget`到配置中：

```
<build>
    <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-compiler-plugin</artifactId>
            <version>2.5.1</version>
            <configuration>
                <compilerId>eclipse</compilerId>
                <source>1.5</source>
                <target>1.5</target>
                <testSource>1.5</testSource>
                <testTarget>1.5</testTarget>
            </configuration>
        </plugin>
    </plugins>
</build> 
```

* * *

**编辑**

这似乎是一个众所周知的问题，您必须对 m2e 插件进行一些配置。这个 Eclipse 站点有一些信息：[http ://wiki.eclipse.org/M2E_plugin_execution_not_covered](http://wiki.eclipse.org/M2E_plugin_execution_not_covered)

`build`必须在标签下的父 pom 中添加这样的内容：

```
<pluginManagement>
    <plugins>
        <plugin>
            <groupId>org.eclipse.m2e</groupId>
            <artifactId>lifecycle-mapping</artifactId>
            <version>1.0.0</version>
            <configuration>
                <lifecycleMappingMetadata>
                    <pluginExecutions>
                        <pluginExecution>
                            <pluginExecutionFilter>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-compiler-plugin</artifactId>
                                <versionRange>[1.0.0,)</versionRange>
                                <goals>
                                    <goal>test-compile</goal>
                                    <goal>compile</goal>
                                </goals>
                            </pluginExecutionFilter>
                            <action>
                                <execute/>
                            </action>
                        </pluginExecution>
                    </pluginExecutions>
                </lifecycleMappingMetadata>
            </configuration>
        </plugin>
    </plugins>
</pluginManagement> 
```

我不是真正的 Eclipse 用户，所以不要问我为什么必须这样做，但应该这样做。******

# iphone - iPhone NSPredicate 如何创建一个检查属性是否有值的谓词？

> ID：13264936
> 
> 赞同：0
> 
> 时间：2012-11-07T07:21:08.763
> 
> 标签：iphone, ios, core-data, nspredicate

这可能是一个愚蠢的问题，但直到现在我所有的 NSPredicate 都给了他们某种密钥：

```
@"SELF.typeRelationship.categoryType != %d"; 
```

现在我需要创建一个谓词，该谓词将从核心数据中提取所有具有分配值的对象。任何价值都可以。

我的谓词会像：

```
@"SELF.typeRelationship.categoryType != 0";
@"SELF.typeRelationship.categoryType != nil";//if an object property? 
```

，或者**是否有更好的格式可以用来检查属性是否分配了对象？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:24:27.283

如果`categoryType`是字符串，请执行此操作，

```
NSPredicate *predicateName = [NSPredicate predicateWithFormat:@"SELF.typeRelationship.categoryType.length > 0"]; 
```

# javascript - 构造函数作为事件发射器

> ID：13264937
> 
> 赞同：0
> 
> 时间：2012-11-07T07:21:16.933
> 
> 标签：javascript, oop, node.js, events

我想为我在 node.js 中做的一些工作编写一个构造函数。除其他外，我想记录它使用事件发射器创建的实例数。目前，我通过给构造函数对象一个作为事件发射器的方法来做到这一点。例如：

```
var EventEmitter = require('events').EventEmitter;

function MyObject() {
    ...
    MyObject.events.emit('createdMyObject')
}

MyObject.events = new EventEmitter();

/* somewhere else... */

MyObject.events.on('createdMyObject', function () {
    // Do something when a new instance is created.
}); 
```

我真正喜欢的是构造函数更直接地发出事件，所以我可以用类似的东西来监听它们：

```
MyObject.on('createdMyObject', function () {
    // Do something when a new instance is created.
}); 
```

有没有办法做到这一点？

请注意，我不需要这些实例是事件发射器（当你用谷歌搜索时，有很多这样的例子）。我想要一些其他 OO 语言中与*类方法等效的东西。*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T07:28:41.847

你不能只是别名`events.on`吗`on`？：

```
// Note: can't use simple function assignment because we need
// the "this" inside on to point to events instead of MyObject

MyObject.on = function (eventType,callback) {
    MyObject.events.on(eventType,callback);
} 
```

它并没有摆脱 MyObjects.events ，而只是提供了一种添加事件处理程序的替代方法。

* * *

## 附加答案

如果你真的想让你的对象成为一个事件发射器，也许你想要的是从一个 EventEmitter 对象继承？如果是这样，只需进行常规继承：

```
function MyObject() {
    /*
     * MyObject specific stuff here
     */

    this.emit('createdMyObject');
}

// Now we inherit from an EventEmitter object:
MyObject.prototype = Object.create(EventEmitter.prototype); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-22T17:29:07.637

这是使用构造函数的非标准（但显然很常用）`__proto__`属性来解决的。例如：

```
var EventEmitter = require('events').EventEmitter;

MyObj = function (a) {
    this.a = a;
    MyObj.emit('new')
}

MyObj.__proto__ = EventEmitter.prototype;

MyObj.on('new', function () {
    console.log('A new myObj was constructed.');
});

var myObj = new MyObj(1); 
```

预期的`{ a: 1 }`对象被创建，创建事件触发console.log！如果有人可以使用类似的东西提供这种行为的替代途径`Object.create`，那么出于合规性原因，这当然是可取的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-05T07:14:07.387

这是示例，如何构造作为事件发射器的对象

[https://github.com/vodolaz095/kabam-kernel/blob/master/index.js#L17](https://github.com/vodolaz095/kabam-kernel/blob/master/index.js#L17)

```

```
var EventEmitter = require('events').EventEmitter,

function KabamKernel(config) {
  EventEmitter.call(this);
  //a lot of code
}
//a lot of code    
util.inherits(KabamKernel, EventEmitter);
//a lot of code

var kernel = new kabamKernel(configOj);
kernel.on('error',console.error); //kernel is an event emmiter!!! 
```

```

# iphone - 如何从 iPhone 中的 AVAudioPlayer 获取持续时间（HH:MM:SS）？

> ID：13264939
> 
> 赞同：2
> 
> 时间：2012-11-07T07:21:28.520
> 
> 标签：iphone, avaudioplayer, duration

durCurrently 我正在使用 iPhone 应用程序，`AVAudioPlayer`用于在我的应用程序中播放音频文件，然后从`AVAudioPlayer`.

我得到的持续时间值如下：252.765442。

但我想要`HH/MM/SS 02:52:76`。

这个怎么转换，求大神帮忙

提前致谢..

我试过这个：

```
audioPlayer =  [[AVAudioPlayer alloc] initWithContentsOfURL:[NSURL fileURLWithPath:tempFilePath] error:&err];
    [audioPlayer setDelegate:self];
    [audioPlayer prepareToPlay];

    float duration = (float)audioPlayer.duration;
    NSLog(@"duration:%f",duration); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-02T09:26:36.933

### 你也可以试试，

```
 // Say you get the duration from AVAudioPlayer *p;
    NSString *dur = [NSString stringWithFormat:@"%02d:%02d", (int)((int)(p.duration)) / 60, (int)((int)(p.duration)) % 60]; 
```

### 正如@Victor John 评论的那样，在 Swift 中，

```
 String(format: "%02d:%02d", ((Int)((audioPlayer?.currentTime)!)) / 60, ((Int)((audioPlayer?.currentTime)!)) % 60) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T07:28:51.663

```
NSTimeInterval theTimeInterval = audioPlayer.duration;
 // Get the system calendar
NSCalendar *sysCalendar = [NSCalendar currentCalendar];

// Create the NSDates
NSDate *date1 = [[NSDate alloc] init];
NSDate *date2 = [[NSDate alloc] initWithTimeInterval:theTimeInterval sinceDate:date1];
// Get conversion to hours, minutes, seconds
unsigned int unitFlags = NSHourCalendarUnit | NSMinuteCalendarUnit | NSSecondCalendarUnit;
NSDateComponents *breakdownInfo = [sysCalendar components:unitFlags fromDate:date1  toDate:date2  options:0];
NSLog(@"%02d:%02d:%02d", [breakdownInfo hour], [breakdownInfo minute], [breakdownInfo second]);
[date1 release];
[date2 release]; 
```

# javascript - 如何在不同的按钮上绑定功能？

> ID：13264941
> 
> 赞同：3
> 
> 时间：2012-11-07T07:21:31.980
> 
> 标签：javascript, jquery

我试图在我的按钮上绑定警报：

```
for(var i=1; i<=3; i++){
   $('#' + i).live('click', function(){
       alert(i);
   });
}; 
```

这是我的html代码：

```
<input id="1" type="button" value="one">
<input id="2" type="button" value="two">
<input id="3" type="button" value="three"> 
```

但我在所有按钮上都得到 4。如何修复它以获得正确的警报值？（1、2、3等..）

[http://jsfiddle.net/sergey1986/UFjsM/](http://jsfiddle.net/sergey1986/UFjsM/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T07:24:16.847

```
for (var i = 1; i <= 3; i++) {
    $('#' + i).live('click', function(i) {
        return function() {
            alert(i);
        };
    }(i));
} 
```

请注意，您使用`.live`错误，重点不是单独绑定到每个元素，而是要找出每个元素的共同点并使用该选择器：

```
$("input[type=button]").live(function() {
    alert(this.id);
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T07:22:56.800

使用 this.id，因为当循环完成时，我将拥有打破循环的最后一个值。

**[现场演示](http://jsfiddle.net/UFjsM/1/)**

```
for(var i=1; i<=3; i++){
   $('#' + i).live('click', function(){
       alert(this.id);
   });
}; 
```

最好为所有按钮提供一些通用类并使用该类来绑定事件。

```
<input id="1" type="button" value="one" class="someclass">
<input id="2" type="button" value="two" class="someclass">
<input id="3" type="button" value="three" class="someclass">

$('.someclass').live('click', function(){
   alert(this.id);
}); 
```

live 已被弃用，您最好[**使用**](http://api.jquery.com/on/)

```
$('.someclass').on('click', function(){
   alert(this.id);
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T07:24:17.117

### 简单的：

```
for(var i=1; i<=3; i++){
   $('#' + i).live('click', function(){
       alert(this.id);
   });
} 
```

### 小提琴：http: [//jsfiddle.net/rzpXK/](http://jsfiddle.net/rzpXK/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T07:25:02.087

有很多事情（尽管本身没有*错*）不是很好的做法。

1.  元素`id`不应该以数字开头
2.  `.live()`已弃用，应避免使用。`.on()`应改为使用
3.  `.live()`或者`.on()`不应该像这样在循环中绑定。它们应该一次性完成，尽可能使用单个选择器。
4.  `class`如果您希望将相同的事件绑定到多个元素，则对所有按钮使用公共按钮是一个更好的主意

尝试

```
$('input[type=button]').on('click', function(){
   alert( this.id );
}) 
```

# python - 用“not not”而不是“bool()”将类型转换为布尔值会在哪里失败？

> ID：13264942
> 
> 赞同：4
> 
> 时间：2012-11-07T07:21:36.350
> 
> 标签：python, boolean

要将值类型转换为布尔值，我通常执行以下操作：

```
not not value 
```

这比使用`bool`. timeit 的输出：

```
python -m timeit '[bool(t) for t in [[], {}, "", 0, [1], {"a": "n"}, "asdf", 2323]]'    
1000000 loops, best of 3: 1.81 usec per loop
python -m timeit '[(not not t) for t in [[], {}, "", 0, [1], {"a": "n"}, "asdf", 2323]]'
1000000 loops, best of 3: 1.11 usec per loop 
```

我试图用这个来测试它：

```
>>> [bool(t) == (not not t) for t in [None, [], {}, "", 0, [1], {'a': 'n'}, "asdf", 2323]]
[True, True, True, True, True, True, True, True, True] 
```

它似乎适用于最常见的情况。

除了关于可读性的争论，这在哪里失败，或者为什么这是一件坏事？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T07:40:32.107

正如 Ignacio 所指出的，两者都`bool()`调用`not`相同的方法（参见[operator.not_](http://docs.python.org/2/library/operator.html#operator.not_)、[__nonzero__](http://docs.python.org/2/reference/datamodel.html#object.__nonzero__)以及关于 的注释`__len__`），因此无需在不同的对象类型之间进行比较。

如果您只测试操作符/函数调用（这是使用 ipython 的`%timeit`魔术方法），您将获得更准确的结果：

```
在 [1] 中：%timeit not not not 0
10000000 次循环，3 次中的最佳：每个循环 60.2 ns

在 [2] 中：%timeit bool(1)
1000000 次循环，3 次中的最佳：每个循环 180 ns

在 [3] 中：%timeit bool(0)
1000000 次循环，3 次中的最佳：每个循环 177 ns

在 [4] 中：%timeit not not not 1
10000000 次循环，3 次中的最佳：每个循环 60.5 ns

```

和保罗的建议：

```
在 [3] 中：%timeit True if 0 else False
10000000 次循环，3 次中的最佳：每个循环 73 ns

在 [4] 中： %timeit True if 1 else False
10000000 次循环，3 次中的最佳：每个循环 54.4 ns

```

还有一个，对于有趣的：

```
在 [6] 中：%timeit 0 和 True 或 False
10000000 次循环，最佳 3：每循环 72.7 ns

在 [7] 中：%timeit 1 和 True 或 False
10000000 次循环，3 次中的最佳：每个循环 78.1 ns

```

（所有这些测试都针对`Python 2.7.1 (r271:86832, Jul 31 2011, 19:30:53), [GCC 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)] on darwin`）

因此，要回答您的问题“将 [不使用] 将是一件坏事”：是的，肯定的。如果您关心可读性，`bool(…)`则更清晰，如果您关心性能，`True if … else False`则更快。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T07:26:02.223

两个操作都调用相同的方法（`__nonzero__()`在 2.x 上，`__bool__()`在 3.x 上），因此两者都将具有相同的故障模式。

# python - 如何在python中使用OrderedDict将值列表分配给键

> ID：13264946
> 
> 赞同：12
> 
> 时间：2012-11-07T07:21:42.060
> 
> 标签：python, dictionary

您好想要一个有序的字典，其中的键具有值列表。

从下面的代码中，我可以获得带有键列表的字典，但缺少插入顺序。

```
from collections import defaultdict

keys=['blk','pri','ani']
vals1=['blocking','primary','anim']
vals2=['S1','S2','S3']
dic = defaultdict(list)

i=0

for key in keys:
    dic[key].append(vals1[i])
    dic[key].append(vals2[i])

    i += 1

print dic 
```

我得到以下结果

```
defaultdict(<type 'list'>, {'pri': ['primary', 'S2'], 'ani': ['anim', 'S3'], 'blk': ['blocking', 'S1']}) 
```

在这里我丢失了插入订单。

我知道 Python 中的 defaultdict 对象*按定义是无序的*。

而且我知道如果您需要插入值的顺序，我们需要使用*OrderedDict （它在 Python 2.7 和 3.x 中可用）*

所以改变了我的代码如下

从下面的代码我可以得到我需要的东西。

```
from collections import defaultdict,OrderedDict

keys=['blk','pri','ani']
vals1=['blocking','primary','anim']
vals2=['S1','S2','S3']
dic = OrderedDict(defaultdict(list))

i=0

for key in keys:
    dic[key].append(vals1[i])
    dic[key].append(vals2[i])

    i += 1

print dic 
```

现在我收到以下错误

```
Traceback (most recent call last):
  File "Dict.py", line 18, in <module>
    dic[key].append(vals1[i])
KeyError: 'blk' 
```

谁能告诉我如何得到我正在尝试的东西。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-07T07:41:02.167

如果您真的想要“有序”**和**“默认”行为，我想我会创建一个自定义字典类来为我处理一切：

```
from collections import OrderedDict

class DefaultListOrderedDict(OrderedDict):
    def __missing__(self,k):
        self[k] = []
        return self[k]

keys=['blk','pri','ani']
vals1=['blocking','primary','anim']
vals2=['S1','S2','S3']
dic = DefaultListOrderedDict()
for i,key in enumerate(keys):
    dic[key].append(vals1[i])
    dic[key].append(vals2[i])

print dic 
```

这`defaultdict`将比其他解决方案表现得更像，但它会保留它的顺序，而且它真的不是很多代码:)。最后，您甚至可以覆盖`__init__`以允许用户传递他们想要的任何“工厂”（而不是硬编码`list`）。我将把它作为练习留给感兴趣的读者。Python 太酷了。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T07:27:56.733

`OrderedDict`环绕的问题`defaultdict(list)`在于它是这样评估的：

1.  创建 的空实例`defaultdict`。
2.  创建一个 的实例`OrderedDict`，然后用 （当前为空）的内容对其进行初始化`defaultdict`，然后丢弃旧的`defaultdict`，因为不再引用它。

这不会像您想要的那样结合他们的行为。

我见过的标准成语是`dict.setdefault`方法。

```
from collections import OrderedDict

keys=['blk','pri','ani']
vals1=['blocking','primary','anim']
vals2=['S1','S2','S3']
dic = OrderedDict()

i=0

for key in keys:
    dic.setdefault(key, []).append(vals1[i])
    dic.setdefault(key, []).append(vals2[i])

    i += 1

print dic 
```

像 defaultdict 一样，这会在您第一次访问它时创建一个值，尽管我认为它的效率有点低。

我会使用这种方法：

```
from collections import OrderedDict
dic = OrderedDict(zip(keys, zip(vals1, vals2)))
print dic 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-07T07:24:24.833

试试这个：

```
from collections import OrderedDict

keys=['blk','pri','ani']
vals1=['blocking','primary','anim']
vals2=['S1','S2','S3']
print OrderedDict(zip(keys, zip(vals1, vals2))) 
```

# android - 如何在没有预览的情况下实现相机程序？

> ID：13264947
> 
> 赞同：0
> 
> 时间：2012-11-07T07:21:45.673
> 
> 标签：android, background, camera

如何在没有预览的情况下实现相机程序？（如 Gallaxy S3 的 Smart Stay & Smart 旋转）

即使其他应用程序在前台运行，我的相机程序也必须在后台运行。

可能吗？？如果你知道，请帮助我。（来源，指南，方法...）

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T08:55:44.453

我想说这是不可能的，因为 android camera api 需要工作预览和表面视图 - 三星应用程序可以免费使用您不知道的本机和未记录的功能。

但是，api 文档说应该有表面视图，但没有人说它应该是可见的 - 你可以在它上面放置叠加层，或者在远角的某个地方将其设置为 1x1 像素

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-12-09T16:13:14.600

您必须在当前屏幕上显示虚假预览。为此，您必须创建尺寸为 1*1 px 的表面视图并在其中显示预览。

查看[这个](https://github.com/kevalpatel2106/android-hidden-camera)库，它提供了从背景中捕获图像的工具。

# javascript - jQuery 验证以确保至少一个下拉菜单设置为某个值

> ID：13264951
> 
> 赞同：2
> 
> 时间：2012-11-07T07:22:02.823
> 
> 标签：javascript, jquery, html, validation

我有一个带有三个下拉菜单的表单。确保至少一个设置为“C”的最简单方法是什么？

$("#Statuses").each 或 $(".Droppie").each 的东西？

```
<div id="Statuses">
   <table>
      <tr>
         <td>To Do</td>
         <td>Status</td>
      </tr>
      <tr>
         <td>Call</td>
         <td>
            <select id="Call" name="Call" class="Droppie">
               <option value="A">Active</option>
               <option value="B">Bounced</option>
               <option value="C">Closed</option>
            </select>
         </td>
      </tr>
      <tr>
         <td>Meet</td>
         <td>
            <select id="Meet" name="Meet" class="Droppie">
               <option value="A">Active</option>
               <option value="B">Bounced</option>
               <option value="C">Closed</option>
            </select>
         </td>
      </tr>
      <tr>
         <td>Followup</td>
         <td>
            <select id="Followup" name="Followup" class="Droppie">
               <option value="A">Active</option>
               <option value="B">Bounced</option>
               <option value="C">Closed</option>
            </select>
         </td>
      </tr>
   </table>
   <input type="button" name="Save" id="Save" value="Save" />
</div>

<script>
   SaveCheck = function () {
   -- jquery .each ?? --
     { alert("Sorry, at least one to-do must be closed."); }
   $("#Save").click( SaveCheck );
</script> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T07:57:31.500

每次单击“保存”按钮时，您应该检查 Droppie 类的每个选定项目。

[jsfiddle.net](http://jsfiddle.net/zWYpA/)

```
$('#Save').click(function() {
    if(SaveCheck()) {
        alert('successful');
    }
    else {
        alert("Sorry, at least one to-do must be closed.");
    }
});

function SaveCheck() {
    var flag = false;
    $('.Droppie :selected').each(function() {
        if($(this).val() == "C") {
            flag = true;
            return false;
        }
    });
    return flag;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T17:17:00.343

对于它，这是一个更简单的版本：

```
$('#Save').click(function() {
    if($('.Droppie option[value="C"]:selected').length > 0) {
        alert('successfull');
    }
    else {
        alert("Sorry, at least one to-do must be closed.");
    }
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T07:35:13.763

```
var flag = false;
$('select.Droppie :selected').map(function() {
  if(this.value == 'C'){
      flag = true;
  }
});

if(flag){
   alert('contain C');
} else {
   alert("Doesn't contain C");
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T07:37:40.863

我认为您可以使用此代码

```
 <div id="Statuses">
   <table>
      <tr>
         <td>To Do</td>
         <td>Status</td>
      </tr>
      <tr>
         <td>Call</td>
         <td>

            <select id="Call" name="Call" id="Call" class="Droppie">
               <option value="A">Active</option>
               <option value="B">Bounced</option>
               <option value="C">Closed</option>
            </select>

         </td>
      </tr>
      <tr>
         <td>Meet</td>
         <td>
            <select id="Meet" name="Meet" id="Meet" class="Droppie" >
               <option value="A">Active</option>
               <option value="B">Bounced</option>
               <option value="C">Closed</option>
            </select >
         </td>
      </tr>
      <tr>
         <td>Followup</td>
         <td>
            <select id="Followup" name="Followup" id="Followup" class="Droppie" >
               <option value="A">Active</option>
               <option value="B">Bounced</option>
               <option value="C">Closed</option>
            </select >
         </td>
      </tr>
   </table>
   <input type="button" name="Save" id="Save" value="Save" onclick="return fnc()"/>
</div>

<script type="text/javascript">
   function fnc()
   {
       call=document.getElementById("Call").value;

       meet=document.getElementById("Meet").value;

       followup=document.getElementById("Followup").value;

       if(call!='C' && meet!='C' && followup!='C' )
       {
           alert("no c is selected");
       return false;
       }
    }
</script> 
```

# facebook - 登录网站后如何连接到facebook帐户？

> ID：13264959
> 
> 赞同：1
> 
> 时间：2012-11-07T07:22:31.047
> 
> 标签：facebook, connection

用户在我的网站上有一个未连接到任何 Facebook 帐户的帐户。他/她进入我网站上的个人资料页面，并且有一个链接：“连接 Facebook”。现在他/她点击它，授权 facebook 页面，被重定向回我的网站。但它表明您已连接到您的 Facebook 帐户。将来，如果他们愿意，还可以断开他们的 Facebook 帐户。

请让我知道我该怎么做。我需要尽快帮助。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T08:30:51.293

要连接他们的帐户，您有两种选择：通过服务器端流程和通过客户端。有几个步骤，但我将引导您完成客户端流程的概述。

**客户端**

1) 初始化[javascript sdk](http://developers.facebook.com/docs/reference/javascript/)。一直到“调用图形 API”。您必须使用 facebook 设置您的网站/应用程序，以获得“应用程序 ID”和“应用程序密码”或“api 密码”（它可以是这些名称中的任何一个，但我认为它是“api”）。2）一旦你调用了graph api，你需要`uid`从facebook获取用户（这`uid`是用户唯一的，所以这就是关系应该发生的地方），以及你想要的任何其他东西（除了名字之外的大多数东西都需要额外的权限，但是应该在上面的链接中）。那时您可以自定义他们的帐户。3）使用户可以`uid`从您的数据库中“删除”他们，以及您的其他所有内容

如果您认为需要服务器端身份验证方法，则应遵循这些[说明](http://developers.facebook.com/docs/howtos/login/server-side-login/)

瞧，就这么简单！祝你好运！

# android - 将当前系统日期与存储在 android 数据库中的日期时间类型的日期进行比较

> ID：13264960
> 
> 赞同：0
> 
> 时间：2012-11-07T07:22:34.367
> 
> 标签：android, database, date, time

我创建一个带有日期字段（类型日期时间）的表，默认为当前日期，当用户插入数据时，此时间自动设置，我想将当前系统日期与此字段进行比较，我该怎么办？

```
public static long s;

 String query = "SELECT Cart_Date from Tbl_Cart where Cart_ID="+lastId+" ";

          Cursor c = db.rawQuery(query, null);
           if (c != null && c.moveToFirst() ) {
               s = c.getLong(0);
}
 if( System.getTimeInMillis()!=s) 
```

{ .. } 这是我的代码，但它不起作用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:47:48.947

首先，似乎问题的作者的意思如下：

> 他将时代的毫秒存储在数据库中，并且需要将对应于该值的日历日期与当前日期进行比较。

要解决它，我建议使用以下代码：

```
 // get current date    
    final Calendar rightNow = Calendar.getInstance();
    final Calendar dateFromDB = Calendar.getInstance();

    dateFromDB.setTimeInMillis(s); 
```

[现在您可以使用Calendar.get(int field)](http://developer.android.com/reference/java/util/Calendar.html#get%28int%29)比较 rightNows 和 DateFromDB 年、月和日字段。

还有另一种可能的实现 - 编写您自己的函数以从 ms 转换为 days （例如使用[Julian Day](http://en.wikipedia.org/wiki/Julian_day)）

此外，您应该记住以下几点：数据库中的时间和当前时间可能有不同的时区，因此您可能需要对此进行额外的更正；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T11:03:17.630

我找到了

```
 String query = "SELECT Cart_Date from Tbl_Cart where Cart_ID="+lastId+" ";
          Cursor c = db.rawQuery(query, null);
           if (c != null && c.moveToFirst() ) {
               s = c.getLong(0);

           SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd");
           java.util.Date date = new java.util.Date();
           String datetime = dateFormat.format(date);

         if(!(datetime.equals(s)))
{

} 
```

# xml - XML 属性的后续兄弟

> ID：13264964
> 
> 赞同：2
> 
> 时间：2012-11-07T07:22:57.833
> 
> 标签：xml, xslt, xpath

我正在使用 xslt 编写一个 xml-to-json 转换器。我转换

```
<raw>
    <id>0</id>
    <type>label</type>
    <title>Test</title>
    <uri>...</uri>
</raw> 
```

至

```
{ "id" = "0", "type"="label", "title" = "Test", "uri" = "..." } 
```

对 tag 的子节点进行`<xsl:for-each>`迭代`<raw>`，并用 . 添加逗号`<xsl:if test="following-sibling::*">, </xsl:if>`。

但是，如果我想更改上面的 xml 以使用属性而不是子节点：

```
<raw id="0" type="label" title="Test" uri="..." /> 
```

测试失败并且`following-sibling::*`没有添加逗号。是否有等效`following-sibling::*`于属性的方法？如果没有，是否可以在这里做我想做的事情？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T07:33:29.433

对这两种情况都使用此 XPath：

```
<xsl:if test="position() != last()"> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T07:39:36.010

轴可能是一项昂贵的`following-sibling`操作（取决于我们谈论的属性数量）。这是一个相当简化的解决方案，可以完成您的要求（并且在没有`following-sibling`或任何其他复杂轴的情况下这样做）。

**当这个 XSLT：**

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output omit-xml-declaration="yes" indent="no" method="text" />
  <xsl:strip-space elements="*"/>

  <xsl:template match="/">
    <xsl:text>{ </xsl:text>
      <xsl:apply-templates select="raw/@*" />
    <xsl:text> }</xsl:text>
  </xsl:template>

  <xsl:template match="@*">
    <xsl:if test="position() &gt; 1">, </xsl:if>
    <xsl:value-of
      select="concat('&quot;', name(), '&quot; = &quot;', ., '&quot;')" />
  </xsl:template>

</xsl:stylesheet> 
```

**...针对您提供的 XML 运行：**

```
<raw id="0" type="label" title="Test" uri="..."/> 
```

**...产生了预期的结果：**

```
{ "id" = "0", "type"="label", "title" = "Test", "uri" = "..." } 
```

# php - 从选择框返回值

> ID：13264965
> 
> 赞同：-1
> 
> 时间：2012-11-07T07:23:01.637
> 
> 标签：php, mysql, ajax, select

我有 3 个选择框 drop_1、drop_2 和 drop_3。最后 2 个是在前一个的选择上动态添加的。create_promo.php 是加载所有框的页面。但是我使用 func.php 加载动态选择框。因此我没有在 create_promo.php 调用的表单处理页面 promo_process.php 中获取 drop_2 和 drop_3 值。我想将我的 drop_2 和 drop_3 值发送回我的 create_promo .php。

**create_promo.php**

```
<script type="text/javascript">
$(document).ready(function() {
$('#wait_1').hide();
$('#drop_1').change(function(){
$('#wait_1').show();
$('#result_1').hide();
    $.get("func.php", {
    func: "drop_1",
    drop_var: $('#drop_1').val()
    }, function(response){
    $('#result_1').fadeOut();
        setTimeout("finishAjax('result_1', '"+escape(response)+"')", 400);
    });
return false;
});
});

function finishAjax(id, response) {
    $('#wait_1').hide();
    $('#'+id).html(unescape(response));
    $('#'+id).fadeIn();
}
function finishAjax_tier_three(id, response) {
    $('#wait_2').hide();
    $('#'+id).html(unescape(response));
    $('#'+id).fadeIn();
}
</script>

<form action="promo_process.php" method="post">
<tr>
    <td class="normalfont">SELECTION 1</td>
    <td>
        <select name="drop_1" id="drop_1">
        <option value="" selected="selected" disabled="disabled">Select 1</option>
        <?php getTierOne(); ?>
        </select>
    </td>
</tr>
<tr>    
     <td class="normalfont">SELECTION 2</td>    
 <td>
     <span id="wait_1" style="display: none;">
     <img alt="Please Wait" src="images/ajax-loader.gif"/>
     </span>
     <span id="result_1" style="display: none;"></span>
     </td>
</tr>
<tr>
     <td class="normalfont">SELECTION 3:</td>
 <td>
    <span id="wait_2" style="display: none;">
        <img alt="Please Wait" src="images/ajax-loader.gif"/>
    </span>
    <span id="result_2" style="display: none;"></span>
</td>
</tr>
</form>
<?php
     include('connect.php');
     function getTierOne()
     {
         $result = mysql_query("SELECT s_name FROM selection1") or die(mysql_error());
         while($tier = mysql_fetch_array( $result )) 
     {
         echo '<option value="'.$tier['s_name'].'">'.$tier['s_name'].'</option>';
         }
     }
?> 
```

**函数.php**

```
<?php
     include('connect.php');
     if($_GET['func'] == "drop_1" && isset($_GET['func'])) {
          drop_1($_GET['drop_var']); 
     }
     function drop_1($drop_var)
     {
          $result = mysql_query("SELECT DISTINCT a_name FROM select_2 WHERE s_id=(select s_id from s_name where s_name='$drop_var')") or die(mysql_error());
          echo '<select name="drop_2" id="drop_2">
                   <option value=" " disabled="disabled" selected="selected">Select 2</option>
                   <option value="ALL" >ALL</option>';
          while($drop_2 = mysql_fetch_array( $result ))
          {
              echo '<option value="'.$drop_2['a_name'].'">'.$drop_2['a_name'].'</option>';
          }
      echo '</select>';
      echo "<script type=\"text/javascript\">
       $('#wait_2').hide();
       $('#drop_2').change(function(){
       $('#wait_2').show();
       $('#result_2').hide();
               $.get(\"func.php\", {
            func: \"drop_2\",
            drop_var: $('#drop_2').val()
               }, function(response){
               $('#result_2').fadeOut();
               setTimeout(\"finishAjax_tier_three('result_2', '\"+escape(response)+\"')\", 400);
               });
           return false;
           });
           </script>";
   }
   if($_GET['func'] == "drop_2" && isset($_GET['func'])) {
          drop_2($_GET['drop_var']);
   }
   function drop_2($drop_var)
   {
          if($drop_var=="ALL")
              $result = mysql_query("SELECT DISTINCT h_name FROM select_3")or die(mysql_error());
      else  
      $result = mysql_query("SELECT DISTINCT h_name FROM select_3 WHERE a_id=(select a_id from select_2 where a_name='$drop_var')")or die(mysql_error());
      echo '<select name="drop_3" id="drop_3">
                <option value=" " disabled="disabled" selected="selected">Select 3</option>
            <option value="ALL">ALL</option>';
      while($drop_3 = mysql_fetch_array( $result ))
     {
    echo '<option value="'.$drop_3['h_name'].'">'.$drop_3['h_name'].'</option>';
         }
     echo '</select> ';
   }

?> 
```

**promo_process.php**

```
<?php
include 'connect.php';
$errmsg = array(); //Array to store errors
$errflag = false; //Error flag

$drop = mysql_real_escape_string($_POST['drop_1']);
$drop_2 = mysql_real_escape_string($_POST['drop_2']);
$drop_3 = mysql_real_escape_string($_POST['drop_3']);
if($drop== ' ' && $drop_2== ' ' && $drop_3==' ')
{
    $errmsg[] = 'SELECT PLEASE'; //Error
    $errflag = true; //Set flag so it says theres an error
}

if($errflag) {
    $_SESSION['ERRMSG'] = $errmsg; //Write errors
    session_write_close(); //Close session
    header("location: create_promo.php"); //Rediect
    exit(); //Block scripts
}
?> 
```

我在 promo_process.php 中出现“未定义索引 drop_1 和 drop_2”的错误消息。我如何保留这些价值观？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-22T06:23:49.577

我解决了。

我必须创建一个隐藏类型输入，并通过以下代码行给出选择值。

```
echo "<script type=\"text/javascript\">
        $('#wait_2').hide();
        $('#drop_2').change(function(){
        $(this).parent().parent().find('.drop2').val($(this).val());
        $('#wait_2').show();
        $('#result_2').hide();
    $.get(\"func.php\", {
        func: \"drop_2\",
        drop_var: $('#drop_2').val()
    }, function(response){
    $('#result_2').fadeOut();
    setTimeout(\"finishAjax_tier_three('result_2', '\"+escape(response)+\"')\", 400);
    });
        return false;
        });
    </script>"; 
```

> 其中**drop2**是隐藏类型输入，而**drop_2**是其值存储在隐藏输入中的选择框。

谢谢大家。

# jquery - 如何从文件输入中获取文件夹路径？

> ID：13264968
> 
> 赞同：0
> 
> 时间：2012-11-07T07:23:06.927
> 
> 标签：jquery, asp.net, jquery-plugins, file-upload

我需要使用 HTML 输入文件控件访问文件夹路径。有没有办法做到这一点？据我所知，出于安全考虑，最终用户无法访问文件夹路径。有什么插件可以用来实现这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:25:34.657

不，您无法访问用户文件系统中上传文件所在的路径。正如您所说，出于安全原因，它不可用 - 所以很明显没有插件可以实现它。

但通常无论如何访问路径是没有意义的——你有文件和它的名字。这通常应该足够了。

# android - 如何在android中更改mapview语言？

> ID：13264969
> 
> 赞同：2
> 
> 时间：2012-11-07T07:23:07.893
> 
> 标签：android, android-mapview

在我的应用程序中，我使用`MapView`. 但它以**英语**显示地图，但我想以`MapView`希伯来语**显示**。

像[这样](http://maps.google.co.jp/?hl=ja)。

在android中怎么可能？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:40:48.653

在您的 MapActivity.onCreate 方法中，您可以使用一行代码覆盖默认语言环境，以下是希伯来语：

```
Locale.setDefault(new Locale("iw","IL")); 
```

请注意，这会更改整个活动的语言环境，因此如果您有任何本地化资源，它们也会受到影响。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:32:22.167

这取决于您的手机语言设置。您可以在代码中更改语言设置，但不要忘记在关闭应用程序后更改为默认设置。

```
Resources standardResources = getApplicationContext();
DisplayMetrics metrics = standardResources.getDisplayMetrics();
Configuration config = new Configuration(standardResources.getConfiguration());
config.locale = new Locale("ja") // change
standardResources.updateConfiguration(config, metrics);

// in onDestroy()
config.locale = Locale.getDefault(); // default
standardResources.updateConfiguration(config, metrics); 
```

# java - yahtzee 三类

> ID：13264972
> 
> 赞同：1
> 
> 时间：2012-11-07T07:23:38.313
> 
> 标签：java, methods, boolean, if-statement

我正在编写一个名为 isThreeOfAKind() 的方法来分析 5 个整数的值。此方法应返回一个布尔值。我不确定如何将其放入代码中，以便确定 5 个整数中的任何 3 个是否彼此相等。

该程序的一些背景是它在开始时生成 5 个新的随机数，这些随机数分配给整数。例如我有

```
public YahtzeeRoll(){
    int input;
    for (int i=5;i <= 5; i++){
        input = rangen.nextInt(5) + 1;
        die1 = input;
        input = rangen.nextInt(5) + 1;
        die2 = input;
        input = rangen.nextInt(5) + 1;
        die3 = input;
        input = rangen.nextInt(5) + 1;
        die4 = input;
        input = rangen.nextInt(5) + 1;
        die5 = input;
    } 
```

我知道 for 语句很奇怪，但它只会让它循环一次（我认为），这给了我 5 个整数 die1、die2、die3、die4 和 die5，它们的随机值介于 1 和 5 之间。

我的 isThreeOfAKind() 应该以某种方式找出这 5 个整数中的三个是否彼此相等。到目前为止，我所拥有的只是

```
public Boolean isThreeOfAKind(){

} 
```

我想也许会使用一个 if 语句，然后如果它满足 if 语句的要求，它将返回 true，然后 else 语句将返回 false，但我不确定如何比较 5 个整数然后编写代码它。任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:30:37.020

好的，一个可读的解决方案，没有数组、集合、开关和其他有用的东西；）希望你很快学会剩下的！

```
public class YahtzeeRoll {

    public static void main(final String[] args) {
        YahtzeeRoll app = new YahtzeeRoll();
        System.out.println(app.isThreeOfAKind());
    }

    private boolean isThreeOfAKind() {
        // inspect the dice
        evaluate(die1);
        evaluate(die2);
        evaluate(die3);
        evaluate(die4);
        evaluate(die5);

        // now inspect the results
        if (val1 >= 3) return true;
        if (val2 >= 3) return true;
        if (val3 >= 3) return true;
        if (val4 >= 3) return true;
        if (val5 >= 3) return true;
        if (val6 >= 3) return true;

        return false;
    }

    private void evaluate(int die) {
        if (die == 1) val1++; 
        if (die == 2) val2++; 
        if (die == 3) val3++; 
        if (die == 4) val4++; 
        if (die == 5) val5++; 
        if (die == 6) val6++; 
    }

    int die1, die2, die3, die4, die5;
    int val1, val2, val3, val4, val5, val6;
    Random rangen = new Random();

    public YahtzeeRoll() {
        int input;
        for (int i = 0; i < 5; i++){
            input = rangen.nextInt(5) + 1;
            die1 = input;
            input = rangen.nextInt(5) + 1;
            die2 = input;
            input = rangen.nextInt(5) + 1;
            die3 = input;
            input = rangen.nextInt(5) + 1;
            die4 = input;
            input = rangen.nextInt(5) + 1;
            die5 = input;
        }
    }

} 
```

* * *

是时候向一个新概念问好：数组 :)

```
public YahtzeeRoll(){
    int input;
    int[] dice = new int[5];  // <- declares and initializes an array
    for (int i=5;i <= 5; i++){
        input = rangen.nextInt(5) + 1;
        dice[i] = input;      // <- set the i'th die value to input
    } 
```

现在很容易*遍历*骰子数组并检查三个骰子是否具有相同的值（一种方法：创建另一个表示可能值的维度为 6 的 int 数组，检查骰子并增加另一个数组中的相应值。然后检查其他数组的值是否大于或等于三。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T07:33:42.483

例如，如果你`String`从 5 个骰子中掷出一个`"25326"`，你可以用它`StringUtils`来计算每个数字的出现次数；

```
int ones = StringUtils.countMatches(diceString, "1");
int twos = StringUtils.countMatches(diceString, "2");
int threes = StringUtils.countMatches(diceString, "3");
int fours = StringUtils.countMatches(diceString, "4");
int fives = StringUtils.countMatches(diceString, "5");
int sixes = StringUtils.countMatches(diceString, "6"); 
```

如果其中任何一个是 3，那么您有 3 个

```
return ones==3 || twos==3 || threes==3 || fours==3 || fives==3 || sixes==3; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T07:39:08.123

它非常简单

```
public Boolean isThreeOfAKind(){

    int input;
    int[] dice = new int[5];  // <- declares and initializes an array
    for (int i=5;i <= 5; i++){
        input = rangen.nextInt(5) + 1;
        dice[i] = input;      // <- set the i'th die value to input
    }
     java.util.Arrays.sort(dice); //sort the array
     for(int i=0;i<dice.length-3;i++)
     {
       if(dice[i]==dice[i+1] ? dice[i+1]==dice[i+2] : false)
        {
           return true;
         }
     }
     return false;
} 
```

简而言之，对数组进行排序并查找 3 个连续整数

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-11-27T20:05:26.387

```
private static int[] rollDice(int[] die) {
    Random rand = new Random();
    die[0] = 1 + rand.nextInt(6);
    die[1] = 1 + rand.nextInt(6);
    die[2] = 1 + rand.nextInt(6);
    die[3] = 1 + rand.nextInt(6);
    die[4] = 1 + rand.nextInt(6);
    Arrays.sort(die);

    return die;
}

private static boolean isThreeOfAKind() {
    int[] die = new int[5];
    rollDice(die);

    return die[0] == die[2] || die[1] == die[3] || die[2] == die[4];

} 
```

# android - 为什么 GCM 不在 android 设备中提供推送通知？

> ID：13264976
> 
> 赞同：2
> 
> 时间：2012-11-07T07:23:45.817
> 
> 标签：android, google-cloud-messaging

我是 android 新手，正在为 gcm 推送通知做一个演示应用程序。

我已经开发了所有这些代码，并且 GCM 推送通知正在我的环境中的设备上发送，但是当我在其他网络设备中测试此代码时，会获取注册 ID，但在向云发送消息时服务器端会收到不匹配的发件人 ID 响应。我的代码如下：

```
 checkNotNull(CommonUtilities.SENDER_ID, "SENDER_ID");

    GCMRegistrar.checkDevice(this);
    GCMRegistrar.checkManifest(this);

    setContentView(R.layout.activity_push_android);
    mDisplay = (TextView) findViewById(R.id.display);

    final String regId = GCMRegistrar.getRegistrationId(this);
    Log.i(TAG, "registration id =====  " + regId);

    if (regId.equals("")) {
        GCMRegistrar.register(this, CommonUtilities.SENDER_ID);
    } else {
        // Device is already registered on GCM
        if (GCMRegistrar.isRegisteredOnServer(this)) {
            // Skips registration.
            Toast.makeText(getApplicationContext(),
                    "Already registered with GCM", Toast.LENGTH_LONG)
                    .show();
        } else {
            // Try to register again, but not in the UI thread.
            // It's also necessary to cancel the thread onDestroy(),
            // hence the use of AsyncTask instead of a raw thread.
            // final Context context = this;
            mRegisterTask = new AsyncTask<Void, Void, Void>() {

                @Override
                protected Void doInBackground(Void... params) {
                    // Register on our server
                    // On server creates a new user
                    // ServerUtilities.register(context, name, email,
                    // regId);
                    return null;
                }

                @Override
                protected void onPostExecute(Void result) {
                    mRegisterTask = null;
                    mDisplay.setText("ffffff        " + regId);
                }

            };
            mRegisterTask.execute(null, null, null);
        }
    }
    // regId = GCMRegistrar.getRegistrationId(this);
    mDisplay.setText("ffffff        " + regId);
    Log.i(TAG, "registration id =====!!!!  " + regId);
}

private void checkNotNull(Object reference, String name) {
    if (reference == null) {
        throw new NullPointerException(getString(R.string.error_config,
                name));
    }
}

@Override
protected void onPause() {
    super.onPause();
    GCMRegistrar.unregister(this);
}
  } 
```

接收者：

```
public GCMIntentService() {
    super(CommonUtilities.SENDER_ID);

}

private static final String TAG = "===GCMIntentService===";

@Override
protected void onRegistered(Context arg0, String registrationId) {
    Log.i(TAG, "Device registered: regId = " + registrationId);
}

@Override
protected void onUnregistered(Context arg0, String arg1) {
    Log.i(TAG, "unregistered = " + arg1);
}

@Override
protected void onMessage(Context arg0, Intent message) {
    Bundle extras = message.getExtras();

    for (String key : extras.keySet()) {
        Log.d(getClass().getSimpleName(),
                String.format("onMessage: %s=%s", key,
                        extras.getString(key)));

        Toast.makeText(getApplicationContext(), "hii", Toast.LENGTH_LONG)
                .show();
    }
    Log.i(TAG, "new message= ");

    // ///////////////////

    long when = System.currentTimeMillis();
    NotificationManager notificationManager = (NotificationManager) context
            .getSystemService(Context.NOTIFICATION_SERVICE);
    Notification notification = new Notification(R.drawable.ic_launcher,
            (CharSequence) message, when);
    String title = context.getString(R.string.app_name);
    Intent notificationIntent = new Intent(context,
            PushAndroidActivity.class);
    // set intent so it does not start a new activity
    notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP
            | Intent.FLAG_ACTIVITY_SINGLE_TOP);
    PendingIntent intent = PendingIntent.getActivity(context, 0,
            notificationIntent, 0);
    notification.setLatestEventInfo(context, title, (CharSequence) message,
            intent);
    notification.flags |= Notification.FLAG_AUTO_CANCEL;
    notificationManager.notify(0, notification);
}

@Override
protected void onError(Context arg0, String errorId) {
    Log.i(TAG, "Received error: " + errorId);
}

@Override
protected boolean onRecoverableError(Context context, String errorId) {
    return super.onRecoverableError(context, errorId);
}
  } 
```

这段代码成功地给了我一个注册ID。为了测试我的代码，我执行了一个java类来向云发送消息。那个java类是：

```
 public static void main(String args[]) {

    try {

        Sender sender = new Sender(
                "my server api");

        ArrayList<String> devicesList = new ArrayList<String>();

        devicesList
                .add("reg id");
        // devicesList.add("reg id");

        // Use this line to send message without payload data
        // Message message = new Message.Builder().build();

        // use this line to send message with payload data
        Message message = new Message.Builder()
                .collapseKey("1")
                .timeToLive(3)
                .delayWhileIdle(true)
                .addData("message",
                        "this text be will be seen in notification bar!!")
                .build();

        // Use this code to send to a single device
        // Result result = sender
        // .send(message,
        // "APA91bGiRaramjyohc2lKjAgFGpzBwtEmI8tJC30O89C2b3IjP1CuMeU1h9LMjKhmWuZwcXZjy1eqC4cE0tWBNt61Kx_SuMF6awzIt8WNq_4AfwflaVPHQ0wYHG_UX3snjp_U-5kJkmysdRlN6T8xChB1n3DtIq98w",
        // 1);

        // Use this for multicast messages
        MulticastResult result = sender.send(message, devicesList, 1);
        sender.send(message, devicesList, 1);

        System.out.println(result.toString() + "\n");
        if (result.getResults() != null) {
            int canonicalRegId = result.getCanonicalIds();
            if (canonicalRegId != 0) {
                System.out.println(canonicalRegId);
            }
        } else {
            int error = result.getFailure();
            System.out.println(error);
        }
    } catch (Exception e) {
        e.printStackTrace();
    }
}
  } 
```

现在的问题是我没有收到任何推送通知或日志猫消息。在此先感谢您的帮助。显现：

sdk android:minSdkVersion="8" android:targetSdkVersion="16" />

```
<permission
    android:name="com.sagar.gcma.permission.C2D_MESSAGE"
    android:protectionLevel="signature" />

<uses-permission android:name="com.sagar.gcma.permission.C2D_MESSAGE" />
<uses-permission android:name="android.permission.GET_ACCOUNTS" />
<uses-permission android:name="android.permission.WAKE_LOCK" />
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name=".PushAndroidActivity"
        android:label="@string/title_activity_push_android" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>

    <receiver
        android:name="com.google.android.gcm.GCMBroadcastReceiver"
        android:permission="com.google.android.c2dm.permission.SEND" >
        <intent-filter>
            <action android:name="com.google.android.c2dm.intent.RECEIVE" />
            <action android:name="com.google.android.c2dm.intent.REGISTRATION" />

            <category android:name="com.sagar.gcma" />
        </intent-filter>
    </receiver>

    <service android:name=".GCMIntentService" />
</application> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-20T09:23:22.693

最后我找到了原因。我公司的防火墙阻止了来自 GCM 的所有消息。所以我只是删除了防火墙并能够接收来自 GCM 的消息[。通过此链接了解有关防火墙问题的更多信息](http://developer.android.com/guide/google/gcm/gcm.html)

希望它将来对某人有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-03T12:45:22.473

尝试从您的服务器 ping google.com。如果不成功，请尝试调查您的服务器配置。

例如，检查您的 /etc/resolv.conf 并查看您是否有：

```
nameserver 8.8.8.8
nameserver 8.8.4.4 
```

# html - 如何在谷歌浏览器的选择框中显示图像

> ID：13264977
> 
> 赞同：0
> 
> 时间：2012-11-07T07:23:49.717
> 
> 标签：html, css

我想在谷歌浏览器的选择下拉框中显示图像。仅在谷歌浏览器中不显示图像，但所有浏览器都显示图像。

谷歌浏览器图像看起来像...... ![在此处输入图像描述](../Images/9911e6241cbf9b19da4629c7e36705e9.png)

所有浏览器显示图像看起来像...... ![在此处输入图像描述](../Images/453a695a07e7553a0ecbc2229d35d873.png)

所以我想在所有浏览器中制作相同的选择框。

我的代码是..

```
.selectbox_bg {
    background: url("images/contact_texbox_bg.png") no-repeat scroll 0 0 transparent !important;
    border: medium none;
    color: #5D5C5C !important;
    font-size: 15px;
    height: 33px;
    line-height: 33px;
    padding: 6px 10px;
    width: 255px;
} 
```

请帮我。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T08:02:37.523

试试这个，把你的背景图片放进去`background:url`，粘贴剩下的代码，并相应地调整所有参数。

```
background:url(selectbox.png) no-repeat !important;
-webkit-appearance: none;
-moz-appearance: none;
border: medium none;
color: #5D5C5C !important;
font-size: 15px;
height: 33px;
line-height: 33px;
padding: 6px 10px;
width: 255px; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:29:22.043

你可以用css来做

```
select{
    background-color: #9BD300;   
   border-radius:4px; 
    border:1px #99CC00 solid; 
    padding:4px;
    width:150px
}​ 
```

**[演示](http://jsfiddle.net/6VPBp/1/)**

或者试试这个

```
.selectbox_bg {
    background: url("images/contact_texbox_bg.png");
    background-position: 0 0;        
    background-repeat: no-repeat;
    background-attachment:scroll;
    background-color:transparent;
    border: medium none;
    color: #5D5C5C !important;
    font-size: 15px;
    height: 33px;
    line-height: 33px;
    padding: 6px 10px;
    width: 255px;
} 
```

# asp.net - 按钮命令不起作用

> ID：13264989
> 
> 赞同：0
> 
> 时间：2012-11-07T07:24:46.470
> 
> 标签：asp.net, updatepanel, asp.net-4.0, asp.net-3.5, datalist

我正在尝试做

```
<asp:UpdatePanel ID="UpdatePanel2" runat="server">
    <Triggers>
        <asp:AsyncPostBackTrigger ControlID="Button1" EventName="Click" />
    </Triggers>
    <ContentTemplate>
        <asp:DataList ID="DataList2" runat="server" CellPadding="4" ForeColor="#333333" OnItemCommand="DataList2_ItemCommand">
            <FooterStyle BackColor="#1C5E55" Font-Bold="True" ForeColor="White" />
            <AlternatingItemStyle BackColor="White" />
            <ItemStyle BackColor="#E3EAEB" />
            <SelectedItemStyle BackColor="#C5BBAF" Font-Bold="True" ForeColor="#333333" />
            <HeaderStyle BackColor="#1C5E55" Font-Bold="True" ForeColor="White" />
            <ItemTemplate>
                <asp:Label ID="Label6" runat="server" Text='<%# Eval("Discription") %>'></asp:Label>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <asp:Label ID="Label7" runat="server" Text='<%# Eval("SubmittedTime") %>'></asp:Label>
                <br />
                <br />
                <asp:Label ID="Label9" runat="server" ForeColor="#CC0000" Text="Comments"></asp:Label>
                <br />
                <br />
                <asp:LinkButton ID="LinkButton5" runat="server" OnClick="LinkButton5_Click">Add Comment</asp:LinkButton>
                <br />
                <asp:Panel ID="Panel2" runat="server" Visible="False" Style="padding-left: 100px;">
                    <asp:TextBox ID="TextBox2" runat="server" Height="40px" TextMode="MultiLine" Width="497px"></asp:TextBox>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <asp:Button ID="Button3" runat="server" OnClick="Button3_Click" Text="Add" CommandName="Add"
                        OnCommand="Button3_Command" />
                </asp:Panel>
                <br />
            </ItemTemplate>
        </asp:DataList>
    </ContentTemplate>
</asp:UpdatePanel> 
```

button3_Click 的编码是

```
 protected void Button3_Click(object sender, EventArgs e)
{Button pn = (Button);
    DataListItem dl = (DataListItem)pn.NamingContainer;
    Panel p1 = (Panel)dl.NamingContainer;
    TextBox pan = (TextBox)dl.FindControl("TextBox2");} 
```

但是 button3_Click 事件不起作用。我已经在那里应用了断点，但光标没有出现在断点上。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T09:07:32.630

ControlID="Button1" to ControlID="Button3"

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T09:12:11.563

检查您是否能够`DataList2_ItemCommand`通过单击`Button3`按钮进入处理程序？如果是，那么您应该能够进入`CommandName="Add"`那里。

# audio - 使用 OpenAL 进行时间拉伸

> ID：13264996
> 
> 赞同：0
> 
> 时间：2012-11-07T07:25:43.270
> 
> 标签：audio, audio-streaming, audio-recording, openal

OpenAL 是否支持在不改变音高的情况下对音频进行时间拉伸？如果不是如何实现它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T15:07:02.677

我认为 OpenAL 本身并不支持这一点。让它在运行中工作也可能有点棘手，因为自然地，拉伸/压缩音频片段会改变片段中的音频帧数。还是可以的。

我推荐[SoundTouch 库](http://www.surina.net/soundtouch/)。这个开源库用于音频编辑程序[Audacity](http://audacity.sourceforge.net/)以提供拉伸和压缩。您将样品送入图书馆并取回样品。然后，您将把它们放入内存块中以馈入 OpenAL。